R7xOY[300108]=(function(){var a7v=2;for(;a7v !== 9;){switch(a7v){case 1:return globalThis;break;case 2:a7v=typeof globalThis === '\u006f\x62\x6a\u0065\u0063\u0074'?1:5;break;case 5:var C$3;try{var S73=2;for(;S73 !== 6;){switch(S73){case 2:Object['\u0064\u0065\x66\u0069\u006e\u0065\x50\x72\u006f\x70\u0065\u0072\u0074\x79'](Object['\x70\x72\x6f\x74\u006f\u0074\x79\x70\x65'],'\x52\u0055\u0046\u0057\u0035',{'\x67\x65\x74':function(){var c_G=2;for(;c_G !== 1;){switch(c_G){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});C$3=RUFW5;C$3['\x69\x4a\x24\x61\x56']=C$3;S73=4;break;case 4:S73=typeof iJ$aV === '\u0075\x6e\u0064\x65\x66\x69\u006e\u0065\x64'?3:9;break;case 3:throw "";S73=9;break;case 9:delete C$3['\x69\x4a\x24\x61\x56'];var g9_=Object['\x70\x72\x6f\u0074\x6f\u0074\x79\u0070\u0065'];delete g9_['\u0052\x55\u0046\x57\x35'];S73=6;break;}}}catch(N24){C$3=window;}return C$3;break;}}})();function R7xOY(){}R7xOY[1559]=(function(Y3N){return {L$q3dyn:function(){var l21,V5J=arguments;switch(Y3N){case 23:l21=V5J[1] / V5J[2] | V5J[0];break;case 14:l21=V5J[1] - V5J[2] + V5J[0];break;case 8:l21=(V5J[0] + V5J[2]) * V5J[1] - V5J[3];break;case 22:l21=V5J[3] + V5J[2] / V5J[1] * V5J[0];break;case 16:l21=-V5J[0] + V5J[2] + V5J[1];break;case 25:l21=V5J[3] + V5J[1] - V5J[0] + V5J[2] - V5J[4];break;case 10:l21=V5J[0] === V5J[1];break;case 13:l21=-V5J[1] - V5J[2] + V5J[0];break;case 12:l21=V5J[2] * V5J[3] * V5J[1] - V5J[0];break;case 4:l21=V5J[0] * V5J[1] / V5J[2];break;case 20:l21=(V5J[4] / V5J[3] - V5J[0]) * V5J[2] + V5J[1];break;case 2:l21=V5J[1] + V5J[2] + V5J[0];break;case 11:l21=(V5J[1] - V5J[0]) * V5J[2];break;case 19:l21=(V5J[3] - V5J[1]) * V5J[0] + V5J[2];break;case 7:l21=V5J[2] - V5J[1] - V5J[0] + V5J[3] - V5J[4];break;case 9:l21=V5J[0] == V5J[1];break;case 5:l21=V5J[0] - V5J[1];break;case 24:l21=(V5J[1] / V5J[0] | V5J[2]) * V5J[3];break;case 1:l21=V5J[1] + V5J[0] + V5J[3] + V5J[2] + V5J[4];break;case 0:l21=V5J[1] + V5J[0];break;case 17:l21=V5J[1] < V5J[0];break;case 6:l21=(V5J[2] + V5J[0] + V5J[4]) * V5J[3] - V5J[1];break;case 18:l21=(V5J[3] - V5J[4]) / V5J[2] + V5J[0] + V5J[1];break;case 26:l21=V5J[0] * V5J[2] / V5J[1] - V5J[3];break;case 21:l21=V5J[3] - V5J[2] - V5J[1] + V5J[0];break;case 3:l21=V5J[0] / V5J[1];break;case 15:l21=V5J[0] * V5J[1];break;}return l21;},j0d3p1f:function(E2y){Y3N=E2y;}};})();R7xOY[85862]=false;R7xOY.C8s=function(){return typeof R7xOY[1559].j0d3p1f === 'function'?R7xOY[1559].j0d3p1f.apply(R7xOY[1559],arguments):R7xOY[1559].j0d3p1f;};R7xOY[47527]=false;R7xOY[300108].h0kk=R7xOY;R7xOY[613801]="tFp";R7xOY[575505]=false;R7xOY[185863]="GfJ";R7xOY[70234]=false;R7xOY.m_t=function(){return typeof R7xOY[1559].j0d3p1f === 'function'?R7xOY[1559].j0d3p1f.apply(R7xOY[1559],arguments):R7xOY[1559].j0d3p1f;};R7xOY.N0G=function(){return typeof R7xOY[1559].L$q3dyn === 'function'?R7xOY[1559].L$q3dyn.apply(R7xOY[1559],arguments):R7xOY[1559].L$q3dyn;};R7xOY.A_X=function(){return typeof R7xOY[1559].L$q3dyn === 'function'?R7xOY[1559].L$q3dyn.apply(R7xOY[1559],arguments):R7xOY[1559].L$q3dyn;};R7xOY[134686]=798;R7xOY[259380]=806;(function(){(function(pb,Db){var qc,Bc,Vb,kd,Kb,Mb,$b,ke,le,Tb,Qb,Kc,me,ld,ne,oe,Ed,Ea,Fb,Zc,pe,Fd,fb,vb,Gb,rc,jc,Xb,xb,ac,Ub,ad,Nb,Cc,Pb,dc,md,sc,oc,pc,nd,Gd,qe,Dc,Ec,Mc,Hd,bd,tc,od,Jc,Id,re,Sc,Jd,Kd,Ld,Md,uc,Nd,Od,Pd,Uc,vc,wc,Vc,pd,qd,rd,lc,rf,Wb,Lc,se,sd,xc,te,sf,yc,ue,tf,td,ve,uf,Yc,we,qf,vf,Qd,ud,wf,xf,he,yf,ie,xe,kc,cd,ye,dd,ze,mc,Ae,Be,Ce,De,Af,je,Ee,Dd,Fe,zf,Ge,Rd,He,Ie,Je,Sd,Ic,Le,Ke,Bf,fd,Me,Ud,gd,Ne,Td,Oe,Pe,Vd,Re,Se,yd,Nc,Wc,Oc,Te,Ue,Ve,We,Xe,Ye,zd,Cf,Ze,$e,Xd,af,ic,ed,Tc,vd,Fc,zc,wd,Gc,$c,Qe,bf,hd,cf,Df,id,df,Ef,Ff,ef,Wd,xd,ff,Hf,Gf,Xc,jd,If,ge,Jf,Kf;function ec(ib,gb){if(!gb || "utf-8" === gb)return Ad(ib);throw Error("unsupported encoding");}function fc(ib,gb){if(!gb || "utf-8" === gb)return Bd(ib);throw Error("unsupported encoding");}function Ad(ib){for(var gb=0,eb,$a=ib.length,mb="";gb < $a;){eb=ib[gb++];if(eb & 128)if(192 === (eb & 224))eb=((eb & 31) << 6) + (ib[gb++] & 63);else if(224 === (eb & 240))eb=((eb & 15) << 12) + ((ib[gb++] & 63) << 6) + (ib[gb++] & 63);else throw Error("unsupported character");mb+=String.fromCharCode(eb);}return mb;}function Bd(ib){var gb,eb,$a,mb,ub;gb=ib.length;eb=0;mb=0;for($a=gb;$a--;){ub=ib.charCodeAt($a);128 > ub?eb++:eb=2048 > ub?eb + 2:eb + 3;}eb=new Uint8Array(eb);for($a=0;$a < gb;$a++){ub=ib.charCodeAt($a);128 > ub?eb[mb++]=ub:(2048 > ub?eb[mb++]=192 | ub >>> 6:(eb[mb++]=224 | ub >>> 12,eb[mb++]=128 | ub >>> 6 & 63),eb[mb++]=128 | ub & 63);}return eb;}function gc(ib,gb){if(ib === gb)return !0;if(!ib || !gb || ib.length != gb.length)return !1;for(var eb=0;eb < ib.length;++eb){if(ib[eb] != gb[eb])return !1;}return !0;}function hc(ib){var $a;if(!(ib && ib.constructor == Uint8Array || Array.isArray(ib)))throw new TypeError("Cannot compute the hash code of " + ib);for(var gb=1,eb=0;eb < ib.length;++eb){$a=ib[eb];if("number" !== typeof $a)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + $a);gb=31 * gb + $a & 4294967295;}return gb;}function be(ib,gb){var jb;if(ib === gb)return !0;if(!ib || !gb)return !1;gb instanceof Array || (gb=[gb]);for(var eb=0;eb < gb.length;++eb){for(var $a=gb[eb],mb=!1,ub=0;ub < ib.length;++ub){jb=ib[ub];if($a.equals && "function" === typeof $a.equals && $a.equals(jb) || $a == jb){mb=!0;break;}}if(!mb)return !1;}return !0;}function ce(ib,gb){return be(ib,gb) && (ib.length == gb.length || be(gb,ib));}function Ma(ib,gb,eb){var $a,mb;eb && ($a=eb);if("object" !== typeof ib || "function" !== typeof ib.result || "function" !== typeof ib.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{mb=gb.call($a,ib);mb !== Db && ib.result(mb);}catch(ub){try{ib.error(ub);}catch(jb){}}}function bb(ib,gb,eb){if("object" !== typeof ib || "function" !== typeof ib.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Ma(ib,gb,eb);}function S(ib,gb,eb){1E5 > ib && (ib=1E5 + ib);Object.defineProperties(this,{internalCode:{value:ib,writable:!1,configurable:!1},responseCode:{value:gb,writable:!1,configurable:!1},message:{value:eb,writable:!1,configurable:!1}});}function Cd(ib){switch(ib){case Wb.PSK:case Wb.MGK:return !0;default:return !1;}}function de(ib){switch(ib){case Wb.PSK:case Wb.MGK:case Wb.X509:case Wb.RSA:case Wb.NPTICKET:case Wb.ECC:return !0;default:return !1;}}function mf(ib){return ib.toJSON();}function ee(ib,gb){jd?gb.result(jd):Promise.resolve().then(function(){return Pb.getKeyByName(ib);}).catch(function(){return Pb.generateKey({name:ib},!1,["wrapKey","unwrapKey"]);}).then(function(eb){jd=eb;gb.result(jd);}).catch(function(eb){gb.error(new fb(S.INTERNAL_EXCEPTION,"Unable to get system key"));});}function fe(ib,gb){var eb,$a;eb=gb.masterToken;$a=gb.userIdToken;gb=gb.serviceTokens;return {NccpMethod:ib.method,UserId:ib.userId,UT:$a && $a.serialNumber,MT:eb && eb.serialNumber + ":" + eb.sequenceNumber,STCount:gb && gb.length};}function nf(ib){return ib.uniqueKey();}function of(ib,gb,eb,$a,mb){var Oa;function ub(va,na){va.errorCode === Ea.ENTITY_REAUTH || va.errorCode === Ea.ENTITYDATA_REAUTH?($a.clearCryptoContexts(),Ka()):va.errorCode !== Ea.USER_REAUTH && va.errorCode !== Ea.USERDATA_REAUTH || jb(na);}function jb(va){if(va=$a.getUserIdToken(va))($a.removeUserIdToken(va),Ka());}function Aa(va,na,ha){var X;X=[];(function V(){va.read(-1,na,{result:function(ba){Ma(ha,function(){var W,ja,wa,ta,la;if(ba)(X.push(ba),V());else switch(X.length){case 0:return new Uint8Array(0);case 1:return X[0];default:(wa=X.length,ta=0);for(ja=W=0;ja < wa;ja++){W+=X[ja].length;}W=new Uint8Array(W);for(ja=0;ja < wa;ja++){la=X[ja];W.set(la,ta);ta+=la.length;}return W;}});},timeout:function(){ha.timeout();},error:function(ba){ha.error(ba);}});})();}function Ka(){$a.getStoreState({result:function(va){for(var na=Oa.slice(),ha=0;ha < na.length;ha++){na[ha]({storeState:va});}},timeout:function(){ib.error("Timeout getting store state","" + e);},error:function(va){ib.error("Error getting store state","" + va);}});}Oa=[];this.addEventHandler=function(va,na){switch(va){case "shouldpersist":Oa.push(na);}};this.send=function(va){return new Promise(function(na,ha){var X,T,V;X=va.timeout;T=new ge(ib,eb,va,$a.getKeyRequestData());V=new he(va.url);ib.trace("Sending MSL request");gb.request(eb,T,V,X,{result:function(ba){var W;ib.trace("Received MSL response",{Method:va.method});if(ba){va.allowTokenRefresh && Ka();W=ba.getErrorHeader();W?(ub(W,va.profileGuid || va.userId),ha({success:!1,error:W})):Aa(ba,X,{result:function(ja){na({success:!0,body:ec(ja)});},timeout:function(){ha({success:!1,subCode:mb.MSL_READ_TIMEOUT});},error:function(ja){ha({success:!1,error:ja});}});}else ha({success:!1,error:new fb(S.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ha({success:!1,subCode:mb.MSL_REQUEST_TIMEOUT});},error:function(ba){ha({success:!1,error:ba});}});});};this.hasUserIdToken=function(va){return !!$a.getUserIdToken(va);};this.getUserIdTokenKeys=function(){return $a.getUserIdTokenKeys();};this.removeUserIdToken=jb;this.clearUserIdTokens=function(){$a.clearUserIdTokens();Ka();};this.isErrorReauth=function(va){return va && va.errorCode == Ea.USERDATA_REAUTH;};this.isErrorHeader=function(va){return va instanceof Ic;};this.getErrorCode=function(va){return va && va.errorCode;};this.getStateForMdx=function(va){var na,ha;na=$a.getMasterToken();va=$a.getUserIdToken(va);ha=$a.getCryptoContext(na);return {masterToken:na,userIdToken:va,cryptoContext:ha};};this.buildPlayDataRequest=function(va,na){var ha;ha=new ie();gb.request(eb,new ge(ib,eb,va),ha,va.timeout,{result:function(){na.result(ha.getRequest());},error:function(){na.result(ha.getRequest());},timeout:function(){na.timeout();}});};this.rekeyUserIdToken=function(va,na){$a.rekeyUserIdToken(va,na);Ka();};this.getServiceTokens=function(va){var na;na=$a.getMasterToken();(va=$a.getUserIdToken(va)) && !va.isBoundTo(na) && (va=Db);return $a.getServiceTokens(na,va);};this.removeServiceToken=function(va){var na;na=$a.getMasterToken();$a.getServiceTokens(na).find(function(ha){return ha.name === va;}) && ($a.removeServiceTokens(va,na),Ka());};}function pf(ib,gb,eb){var ub;function $a(){return Promise.resolve().then(function(){return Pb.generateKey(gb,!1,["wrapKey","unwrapKey"]);}).then(function(jb){return mb(jb.publicKey,jb.privateKey);});}function mb(jb,Aa){return Promise.all([new Promise(function(Ka,Oa){Jc(jb,{result:Ka,error:function(va){Oa(new fb(S.INTERNAL_EXCEPTION,"Unable to create keyx public key",va));}});}),new Promise(function(Ka,Oa){Sc(Aa,{result:Ka,error:function(va){Oa(new fb(S.INTERNAL_EXCEPTION,"Unable to create keyx private key",va));}});})]).then(function(Ka){Ka=new Dd("rsaKeypairId",eb,Ka[0],Ka[1]);ub && (Ka.storeData={keyxPublicKey:jb,keyxPrivateKey:Aa});return Ka;});}ub=!ib.systemKeyWrapFormat;return Promise.resolve().then(function(){var jb,Aa;jb=ib.storeState;Aa=jb && jb.keyxPublicKey;jb=jb && jb.keyxPrivateKey;return ub && Aa && jb?mb(Aa,jb):$a();}).then(function(jb){var Aa,Ka,Oa;Aa={};Aa[Wb.NONE]=new qf();Ka=new Yc(ib.esn);Oa=[new je()];return {entityAuthFactories:Aa,entityAuthData:Ka,keyExchangeFactories:Oa,keyRequestData:jb,createKeyRequestData:ub?$a:Db};});}Bc=pb.nfCrypto || pb.msCrypto || pb.webkitCrypto || pb.crypto;Vb=Bc && (Bc.webkitSubtle || Bc.subtle);kd=pb.nfCryptokeys || pb.msCryptokeys || pb.webkitCryptokeys || pb.cryptokeys;(function(ib){var gb,eb;gb=(function(){function $a(mb,ub){mb instanceof gb?(this.abv=mb.abv,this.position=mb.position):(this.abv=mb,this.position=ub || 0);}$a.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(mb){this.abv[this.position++]=mb;},peekByte:function(mb){return this.abv[mb];},copyBytes:function(mb,ub,jb){var Aa;Aa=new Uint8Array(this.abv.buffer,this.position,jb);mb=new Uint8Array(mb.buffer,ub,jb);Aa.set(mb);this.position+=jb;},seek:function(mb){this.position=mb;},skip:function(mb){this.position+=mb;},getPosition:function(){return this.position;},setPosition:function(mb){this.position=mb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return $a;})();eb={};(function(){var ba,W,ja,wa,ta,la,sa,za,ma;function $a(aa,da){var ia;da.writeByte(aa.tagClass << 6 | aa.constructed << 5 | aa.tag);ia=aa.payloadLen;if(128 > ia)da.writeByte(ia);else {for(var xa=ia,Ta=0;xa;){++Ta;xa>>=8;}da.writeByte(128 | Ta);for(xa=0;xa < Ta;++xa){da.writeByte(ia >> 8 * (Ta - xa - 1) & 255);}}if(aa.child)for((aa.tag == ba.BIT_STRING && da.writeByte(0),aa=aa._child);aa;){if(!$a(aa,da))return !1;aa=aa.next;}else switch(aa.tag){case ba.INTEGER:aa.backingStore[aa.dataIdx] >> 7 && da.writeByte(0);da.copyBytes(aa.backingStore,aa.dataIdx,aa.dataLen);break;case ba.BIT_STRING:da.writeByte(0);da.copyBytes(aa.backingStore,aa.dataIdx,aa.dataLen);break;case ba.OCTET_STRING:da.copyBytes(aa.backingStore,aa.dataIdx,aa.dataLen);break;case ba.OBJECT_IDENTIFIER:da.copyBytes(aa.backingStore,aa.dataIdx,aa.dataLen);}return !0;}function mb(aa){var da,ia;da=aa.readByte();ia=da & 127;if(ia == da)return ia;if(3 < ia || 0 === ia)return -1;for(var xa=da=0;xa < ia;++xa){da=da << 8 | aa.readByte();}return da;}function ub(aa,da,ia){var xa,Ta,La,Sa,Va,qa,ya;xa=aa.backingStore;Ta=new gb(xa,da);da+=ia;ia=aa;if(8 < ta++)return Db;for(;Ta.getPosition() < da;){Ta.getPosition();Sa=Ta.readByte();if(31 == (Sa & 31)){for(La=0;Sa & 128;){La<<=8;La|=Sa & 127;}Sa=La;}Va=Sa;La=Va & 31;if(0 > La || 30 < La)return Db;Sa=mb(Ta);if(0 > Sa || Sa > Ta.getRemaining())return Db;ia.constructed=Va & 32;ia.tagClass=(Va & 192) >> 6;ia.tag=La;ia.dataLen=Sa;ia.dataIdx=Ta.getPosition();La=Ta;qa=Va;Va=Sa;if(qa & 32)La=!0;else if(qa < ba.BIT_STRING || qa > ba.OCTET_STRING)La=!1;else {ya=new gb(La);qa == ba.BIT_STRING && ya.skip(1);ya.readByte() >> 6 & 1?La=!1:(qa=mb(ya),La=ya.getPosition() - La.getPosition() + qa == Va);}La && (La=Ta.getPosition(),Va=Sa,ia.tag == ba.BIT_STRING && (ia.dataIdx++,ia.dataLen--,La++,Va--),ia.child=new W(xa,ia),ub(ia.child,La,Va));ia.tag == ba.INTEGER && (La=Ta.getPosition(),0 == Ta.peekByte(La) && Ta.peekByte(La + 1) >> 7 && (ia.dataIdx++,ia.dataLen--));Ta.skip(Sa);Ta.getPosition() < da && (ia.next=new W(xa,ia.parent),ia=ia.next);}ta--;return aa;}function jb(aa,da,ia){if(9 != ia)return !1;for(ia=0;9 > ia;++ia){if(aa[da++] != la[ia])return !1;}return !0;}function Aa(aa){var da;if(!(aa && aa.child && aa.child.next && aa.child.child && aa.child.next.child))return !1;da=aa.child.child;return jb(da.backingStore,da.dataIdx,da.dataLen) && 2 == aa.nChildren && 2 == aa.child.nChildren && 2 == aa.child.next.child.nChildren?!0:!1;}function Ka(aa){var da;if(!(aa && aa.child && aa.child.next && aa.child.next.child && aa.child.next.next && aa.child.next.next.child))return !1;da=aa.child.next.child;return jb(da.backingStore,da.dataIdx,da.dataLen) && 3 == aa.nChildren && 2 == aa.child.next.nChildren && 9 == aa.child.next.next.child.nChildren?!0:!1;}function Oa(aa){var da,ia;da=ja.createSequenceNode();ia=new wa(da);ia.addChild(ja.createSequenceNode());ia.addChild(ja.createOidNode(la));ia.addSibling(ja.createNullNode());ia.addToParent(da,ja.createBitStringNode(null));ia.addChild(ja.createSequenceNode());ia.addChild(ja.createIntegerNode(aa.n));ia.addSibling(ja.createIntegerNode(aa.e));return da;}function va(aa){var da;aa=aa.child.next.child.child;da=aa.data;aa=aa.next;return new sa(da,aa.data,null,null);}function na(aa){var da,ia;da=ja.createSequenceNode();ia=new wa(da);ia.addChild(ja.createIntegerNode(new Uint8Array([0])));ia.addSibling(ja.createSequenceNode());ia.addChild(ja.createOidNode(la));ia.addSibling(ja.createNullNode());ia.addToParent(da,ja.createOctetStringNode(null));ia.addChild(ja.createSequenceNode());ia.addChild(ja.createIntegerNode(new Uint8Array([0])));ia.addSibling(ja.createIntegerNode(aa.n));ia.addSibling(ja.createIntegerNode(aa.e));ia.addSibling(ja.createIntegerNode(aa.d));ia.addSibling(ja.createIntegerNode(aa.p));ia.addSibling(ja.createIntegerNode(aa.q));ia.addSibling(ja.createIntegerNode(aa.dp));ia.addSibling(ja.createIntegerNode(aa.dq));ia.addSibling(ja.createIntegerNode(aa.qi));return da;}function ha(aa){var da;da=[];aa=aa.child.next.next.child.child.next;for(var ia=0;8 > ia;ia++){da.push(aa.data);aa=aa.next;}return new za(da[0],da[1],da[2],da[3],da[4],da[5],da[6],da[7]);}function X(aa,da,ia,xa){if(!(aa instanceof sa || aa instanceof za))return Db;if(ia)for(var Ta=0;Ta < ia.length;++Ta){if(-1 == ma.indexOf(ia[Ta]))return Db;}da={kty:"RSA",alg:da,key_ops:ia || [],ext:xa == Db?!1:xa,n:Kb(aa.n,!0),e:Kb(aa.e,!0)};aa instanceof za && (da.d=Kb(aa.d,!0),da.p=Kb(aa.p,!0),da.q=Kb(aa.q,!0),da.dp=Kb(aa.dp,!0),da.dq=Kb(aa.dq,!0),da.qi=Kb(aa.qi,!0));return da;}function T(aa){var da,ia,xa,Ta,La,Sa,Va,qa,ya,Ca;if(!aa.kty || "RSA" != aa.kty || !aa.n || !aa.e)return Db;da=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(aa.alg && -1 == da.indexOf(aa.alg))return Db;da=[];aa.use?"enc" == aa.use?da=["encrypt","decrypt","wrap","unwrap"]:"sig" == aa.use && (da=["sign","verify"]):da=aa.key_ops;ia=aa.ext;xa=Mb(aa.n,!0);Ta=Mb(aa.e,!0);if(aa.d){La=Mb(aa.d,!0);Sa=Mb(aa.p,!0);Va=Mb(aa.q,!0);qa=Mb(aa.dp,!0);ya=Mb(aa.dq,!0);Ca=Mb(aa.qi,!0);return new za(xa,Ta,La,Sa,Va,qa,ya,Ca,aa.alg,da,ia);}return new sa(xa,Ta,ia,da);}function V(aa,da,ia,xa){this.der=aa;this.type=da;this.keyOps=ia;this.extractable=xa;}ba={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};W=function(aa,da,ia,xa,Ta,La){this._data=aa;this._parent=da || Db;this._constructed=ia || !1;this._tagClass=0;this._tag=xa || 0;this._dataIdx=Ta || 0;this._dataLen=La || 0;};W.prototype={_child:Db,_next:Db,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(aa) {this._constructed=0 != aa?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(aa) {this._tagClass=aa;},get tag() {return this._tag;},set tag(aa) {this._tag=aa;},get dataIdx() {return this._dataIdx;},set dataIdx(aa) {this._dataIdx=aa;},get dataLen() {return this._dataLen;},set dataLen(aa) {this._dataLen=aa;},get child() {return this._child;},set child(aa) {this._child=aa;this._child.parent=this;},get next() {return this._next;},set next(aa) {this._next=aa;},get parent() {return this._parent;},set parent(aa) {this._parent=aa;},get payloadLen() {var aa;aa=0;if(this._child){for(var da=this._child;da;){aa+=da.length;da=da.next;}this._tag == ba.BIT_STRING && aa++;}else switch(this._tag){case ba.INTEGER:aa=this._dataLen;this._data[this._dataIdx] >> 7 && aa++;break;case ba.BIT_STRING:aa=this._dataLen + 1;break;case ba.OCTET_STRING:aa=this._dataLen;break;case ba.NULL:aa=0;break;case ba.OBJECT_IDENTIFIER:jb(this._data,this._dataIdx,this._dataLen) && (aa=9);}return aa;},get length() {var aa,da;aa=this.payloadLen;if(127 < aa)for(da=aa;da;){da>>=8;++aa;}return aa + 2;},get der() {var aa,da;aa=this.length;if(!aa)return Db;aa=new Uint8Array(aa);da=new gb(aa);return $a(this,da)?aa:Db;},get nChildren() {for(var aa=0,da=this._child;da;){aa++;da=da.next;}return aa;}};ja={createSequenceNode:function(){return new W(null,null,!0,ba.SEQUENCE,null,null);},createOidNode:function(aa){return new W(aa,null,!1,ba.OBJECT_IDENTIFIER,0,aa?aa.length:0);},createNullNode:function(){return new W(null,null,!1,ba.NULL,null,null);},createBitStringNode:function(aa){return new W(aa,null,!1,ba.BIT_STRING,0,aa?aa.length:0);},createIntegerNode:function(aa){return new W(aa,null,!1,ba.INTEGER,0,aa?aa.length:0);},createOctetStringNode:function(aa){return new W(aa,null,!1,ba.OCTET_STRING,0,aa?aa.length:0);}};wa=function(aa){this._currentNode=this._rootNode=aa;};wa.prototype={addChild:function(aa){this.addTo(this._currentNode,aa);},addSibling:function(aa){this.addTo(this._currentNode.parent,aa);},addTo:function(aa,da){this._currentNode=da;this._currentNode.parent=aa;if(aa.child){for(aa=aa.child;aa.next;){aa=aa.next;}aa.next=da;}else aa.child=da;},addToParent:function(aa,da){this.findNode(aa) && this.addTo(aa,da);},findNode:function(aa){for(var da=this._currentNode;da;){if(aa == da)return !0;da=da.parent;}return !1;}};ta=0;la=new Uint8Array([42,134,72,134,247,13,1,1,1]);sa=function(aa,da,ia,xa){this.n=aa;this.e=da;this.ext=ia;this.keyOps=xa;};za=function(aa,da,ia,xa,Ta,La,Sa,Va,qa,ya,Ca){this.n=aa;this.e=da;this.d=ia;this.p=xa;this.q=Ta;this.dp=La;this.dq=Sa;this.qi=Va;this.alg=qa;this.keyOps=ya;this.ext=Ca;};ma=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");V.prototype.getDer=function(){return this.der;};V.prototype.getType=function(){return this.type;};V.prototype.getKeyOps=function(){return this.keyOps;};V.prototype.getExtractable=function(){return this.extractable;};eb.parse=function(aa){ta=0;return ub(new W(aa),0,aa.length);};eb.show=function(aa,da){};eb.isRsaSpki=Aa;eb.isRsaPkcs8=Ka;eb.NodeFactory=ja;eb.Builder=wa;eb.tagVal=ba;eb.RsaPublicKey=sa;eb.RsaPrivateKey=za;eb.buildRsaSpki=Oa;eb.parseRsaSpki=function(aa){aa=eb.parse(aa);return Aa?va(aa):Db;};eb.buildRsaPkcs8=na;eb.parseRsaPkcs8=function(aa){aa=eb.parse(aa);return Ka(aa)?ha(aa):Db;};eb.buildRsaJwk=X;eb.parseRsaJwk=T;eb.RsaDer=V;eb.rsaDerToJwk=function(aa,da,ia,xa){aa=eb.parse(aa);if(!aa)return Db;if(Aa(aa))aa=va(aa);else if(Ka(aa))aa=ha(aa);else return Db;return X(aa,da,ia,xa);};eb.jwkToRsaDer=function(aa){var da,ia;aa=T(aa);if(!aa)return Db;if(aa instanceof sa){da="spki";ia=Oa(aa).der;}else if(aa instanceof za)(da="pkcs8",ia=na(aa).der);else return Db;return new V(ia,da,aa.keyOps,aa.ext);};eb.webCryptoAlgorithmToJwkAlg=function(aa){return "RSAES-PKCS1-v1_5" == aa.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == aa.name?"SHA-256" == aa.hash.name?"RS256":"SHA-384" == aa.hash.name?"RS384":"SHA-512" == aa.hash.name?"RS512":Db:Db;};eb.webCryptoUsageToJwkKeyOps=function(aa){return aa.map(function(da){return "wrapKey" == da?"wrap":"unwrapKey" == da?"unwrap":da;});};})();ib.ASN1=eb;})(pb);(function(){for(var ib={},gb={},eb={"=":0,".":0},$a={"=":0,".":0},mb=/\s+/g,ub=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,jb=64;jb--;){ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=262144 * jb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=64 * jb;$a[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=jb;}for(jb=64;jb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb];){ib[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=262144 * jb;gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=64 * jb;$a[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=jb;}Kb=function(Aa,Ka){for(var Oa="",va=0,na=Aa.length,ha=na - 2,X=Ka?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=Ka?"":"=";va < ha;){Ka=65536 * Aa[va++] + 256 * Aa[va++] + Aa[va++];Oa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + X[Ka >>> 6 & 63] + X[Ka & 63];}va == ha?(Ka=65536 * Aa[va++] + 256 * Aa[va++],Oa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + X[Ka >>> 6 & 63] + T):va == na - 1 && (Ka=65536 * Aa[va++],Oa+=X[Ka >>> 18] + X[Ka >>> 12 & 63] + T + T);return Oa;};Mb=function(Aa,Ka){Aa=Aa.replace(mb,"");if(Ka && (Ka=Aa.length % 4)){Ka=4 - Ka;for(var Oa=0;Oa < Ka;++Oa){Aa+="=";}}Ka=Aa.length;if(0 != Ka % 4 || !ub.test(Aa))throw Error("bad base64: " + Aa);for(var va=Ka / 4 * 3 - ("=" == Aa[Ka - 1]?1:0) - ("=" == Aa[Ka - 2]?1:0),na=new Uint8Array(va),ha=0,X=0;ha < Ka;){Oa=ib[Aa[ha++]] + gb[Aa[ha++]] + eb[Aa[ha++]] + $a[Aa[ha++]];na[X++]=Oa >>> 16;X < va && (na[X++]=Oa >>> 8 & 255,X < va && (na[X++]=Oa & 255));}return na;};})();$b={};(function(){var ub,jb,Aa,Oa;function ib(va){if(!(this instanceof ib))return new ib(va);for(var na=0,ha=jb.length;na < ha;na++){this[jb[na]]="";}this.bufferCheckPosition=$b.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=va || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Aa.BEGIN;this.stack=new ub();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;gb(this,"onready");}function gb(va,na,ha){if(va[na])va[na](ha);}function eb(va,na){var ha,X;ha=va.opt;X=va.textNode;ha.trim && (X=X.trim());ha.normalize && (X=X.replace(/\s+/g," "));va.textNode=X;va.textNode && gb(va,na?na:"onvalue",va.textNode);va.textNode="";}function $a(va,na){eb(va);na+="\nLine: " + va.line + "\nColumn: " + va.column + "\nChar: " + va.c;na=Error(na);va.error=na;gb(va,"onerror",na);return va;}function mb(va){va.state !== Aa.VALUE && $a(va,"Unexpected end");eb(va);va.c="";va.closed=!0;gb(va,"onend");ib.call(va,va.opt);return va;}ub=Array;$b.parser=function(va){return new ib(va);};$b.CParser=ib;$b.MAX_BUFFER_LENGTH=65536;$b.DEBUG=!1;$b.INFO=!1;$b.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");jb=["textNode","numberNode"];$b.EVENTS.filter(function(va){return "error" !== va && "end" !== va;});Aa=0;$b.STATE={BEGIN:Aa++,VALUE:Aa++,OPEN_OBJECT:Aa++,CLOSE_OBJECT:Aa++,OPEN_ARRAY:Aa++,CLOSE_ARRAY:Aa++,TEXT_ESCAPE:Aa++,STRING:Aa++,BACKSLASH:Aa++,END:Aa++,OPEN_KEY:Aa++,CLOSE_KEY:Aa++,TRUE:Aa++,TRUE2:Aa++,TRUE3:Aa++,FALSE:Aa++,FALSE2:Aa++,FALSE3:Aa++,FALSE4:Aa++,NULL:Aa++,NULL2:Aa++,NULL3:Aa++,NUMBER_DECIMAL_POINT:Aa++,NUMBER_DIGIT:Aa++};for(var Ka in $b.STATE){$b.STATE[$b.STATE[Ka]]=Ka;}Aa=$b.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(va){return va.__proto__;});Oa=/[\\"\n]/g;ib.prototype={end:function(){mb(this);},write:function(va){var X,T,V;if(this.error)throw this.error;if(this.closed)return $a(this,"Cannot write after close. Assign an onready handler.");if(null === va)return mb(this);for(var na=va[0],ha;na;){ha=na;this.c=na=va.charAt(this.index++);ha !== na?this.p=ha:ha=this.p;if(!na)break;this.position++;"\n" === na?(this.line++,this.column=0):this.column++;switch(this.state){case Aa.BEGIN:"{" === na?this.state=Aa.OPEN_OBJECT:"[" === na?this.state=Aa.OPEN_ARRAY:"\r" !== na && "\n" !== na && " " !== na && "\t" !== na && $a(this,"Non-whitespace before {[.");continue;case Aa.OPEN_KEY:case Aa.OPEN_OBJECT:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;if(this.state === Aa.OPEN_KEY)this.stack.push(Aa.CLOSE_KEY);else if("}" === na){gb(this,"onopenobject");gb(this,"oncloseobject");this.state=this.stack.pop() || Aa.VALUE;continue;}else this.stack.push(Aa.CLOSE_OBJECT);'"' === na?this.state=Aa.STRING:$a(this,'Malformed object key should start with "');continue;case Aa.CLOSE_KEY:case Aa.CLOSE_OBJECT:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;":" === na?(this.state === Aa.CLOSE_OBJECT?(this.stack.push(Aa.CLOSE_OBJECT),eb(this,"onopenobject")):eb(this,"onkey"),this.state=Aa.VALUE):"}" === na?(eb(this),gb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Aa.VALUE):"," === na?(this.state === Aa.CLOSE_OBJECT && this.stack.push(Aa.CLOSE_OBJECT),eb(this),this.state=Aa.OPEN_KEY):$a(this,"Bad object");continue;case Aa.OPEN_ARRAY:case Aa.VALUE:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;if(this.state === Aa.OPEN_ARRAY)if((gb(this,"onopenarray"),this.state=Aa.VALUE,"]" === na)){gb(this,"onclosearray");this.state=this.stack.pop() || Aa.VALUE;continue;}else this.stack.push(Aa.CLOSE_ARRAY);'"' === na?this.state=Aa.STRING:"{" === na?this.state=Aa.OPEN_OBJECT:"[" === na?this.state=Aa.OPEN_ARRAY:"t" === na?this.state=Aa.TRUE:"f" === na?this.state=Aa.FALSE:"n" === na?this.state=Aa.NULL:"-" === na?this.numberNode+=na:"0" === na?(this.numberNode+=na,this.state=Aa.NUMBER_DIGIT):-1 !== ("123456789").indexOf(na)?(this.numberNode+=na,this.state=Aa.NUMBER_DIGIT):$a(this,"Bad value");continue;case Aa.CLOSE_ARRAY:if("," === na)(this.stack.push(Aa.CLOSE_ARRAY),eb(this,"onvalue"),this.state=Aa.VALUE);else if("]" === na)(eb(this),gb(this,"onclosearray",void 0),this.state=this.stack.pop() || Aa.VALUE);else if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;else $a(this,"Bad array");continue;case Aa.STRING:ha=this.index - 1;(X=this.slashed,T=this.unicodeI);a:for(;;){if($b.DEBUG)for(;0 < T;){if((this.unicodeS+=na,na=va.charAt(this.index++),4 === T?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),T=0,ha=this.index - 1):T++,!na))break a;}if('"' === na && !X){this.state=this.stack.pop() || Aa.VALUE;(this.textNode+=va.substring(ha,this.index - 1)) || gb(this,"onvalue","");break;}if("\\" === na && !X && (X=!0,this.textNode+=va.substring(ha,this.index - 1),na=va.charAt(this.index++),!na))break;if(X)if((X=!1,"n" === na?this.textNode+="\n":"r" === na?this.textNode+="\r":"t" === na?this.textNode+="\t":"f" === na?this.textNode+="\f":"b" === na?this.textNode+="\b":"u" === na?(T=1,this.unicodeS=""):this.textNode+=na,na=va.charAt(this.index++),ha=this.index - 1,na))continue;else break;Oa.lastIndex=this.index;V=Oa.exec(va);if(null === V){this.index=va.length + 1;this.textNode+=va.substring(ha,this.index - 1);break;}this.index=V.index + 1;na=va.charAt(V.index);if(!na){this.textNode+=va.substring(ha,this.index - 1);break;}}this.slashed=X;this.unicodeI=T;continue;case Aa.TRUE:if("" === na)continue;"r" === na?this.state=Aa.TRUE2:$a(this,"Invalid true started with t" + na);continue;case Aa.TRUE2:if("" === na)continue;"u" === na?this.state=Aa.TRUE3:$a(this,"Invalid true started with tr" + na);continue;case Aa.TRUE3:if("" === na)continue;"e" === na?(gb(this,"onvalue",!0),this.state=this.stack.pop() || Aa.VALUE):$a(this,"Invalid true started with tru" + na);continue;case Aa.FALSE:if("" === na)continue;"a" === na?this.state=Aa.FALSE2:$a(this,"Invalid false started with f" + na);continue;case Aa.FALSE2:if("" === na)continue;"l" === na?this.state=Aa.FALSE3:$a(this,"Invalid false started with fa" + na);continue;case Aa.FALSE3:if("" === na)continue;"s" === na?this.state=Aa.FALSE4:$a(this,"Invalid false started with fal" + na);continue;case Aa.FALSE4:if("" === na)continue;"e" === na?(gb(this,"onvalue",!1),this.state=this.stack.pop() || Aa.VALUE):$a(this,"Invalid false started with fals" + na);continue;case Aa.NULL:if("" === na)continue;"u" === na?this.state=Aa.NULL2:$a(this,"Invalid null started with n" + na);continue;case Aa.NULL2:if("" === na)continue;"l" === na?this.state=Aa.NULL3:$a(this,"Invalid null started with nu" + na);continue;case Aa.NULL3:if("" === na)continue;"l" === na?(gb(this,"onvalue",null),this.state=this.stack.pop() || Aa.VALUE):$a(this,"Invalid null started with nul" + na);continue;case Aa.NUMBER_DECIMAL_POINT:"." === na?(this.numberNode+=na,this.state=Aa.NUMBER_DIGIT):$a(this,"Leading zero not followed by .");continue;case Aa.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(na)?this.numberNode+=na:"." === na?(-1 !== this.numberNode.indexOf(".") && $a(this,"Invalid number has two dots"),this.numberNode+=na):"e" === na || "E" === na?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || $a(this,"Invalid number has two exponential"),this.numberNode+=na):"+" === na || "-" === na?("e" !== ha && "E" !== ha && $a(this,"Invalid symbol in number"),this.numberNode+=na):(this.numberNode && gb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Aa.VALUE);continue;default:$a(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){va=Math.max($b.MAX_BUFFER_LENGTH,10);ha=na=0;for(X=jb.length;ha < X;ha++){T=this[jb[ha]].length;if(T > va)switch(jb[ha]){case "text":break;default:$a(this,"Max buffer length exceeded: " + jb[ha]);}na=Math.max(na,T);}this.bufferCheckPosition=$b.MAX_BUFFER_LENGTH - na + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var $a,mb,ub;function ib(jb,Aa){Aa || (Aa=jb.length);return jb.reduce(function(Ka,Oa,va){return va < Aa?Ka + String.fromCharCode(Oa):Ka;},"");}for(var gb={},eb=0;256 > eb;++eb){$a=ib([eb]);gb[$a]=eb;}mb=Object.keys(gb).length;ub=[];for(eb=0;256 > eb;++eb){ub[eb]=[eb];}ke=function(jb,Aa){var W,ja;function Ka(wa,ta){var la;for(;0 < ta;){if(T >= X.length)return !1;if(ta > V){la=wa;la>>>=ta - V;X[T]|=la & 255;ta-=V;V=8;++T;}else ta <= V && (la=wa,la<<=V - ta,la&=255,la>>>=8 - V,X[T]|=la & 255,V-=ta,ta=0,0 == V && (V=8,++T));}return !0;}for(var Oa in gb){Aa[Oa]=gb[Oa];}for(var va=mb,na=[],ha=8,X=new Uint8Array(jb.length),T=0,V=8,ba=0;ba < jb.length;++ba){W=jb[ba];na.push(W);Oa=ib(na);ja=Aa[Oa];if(!ja){na=ib(na,na.length - 1);if(!Ka(Aa[na],ha))return null;0 != va >> ha && ++ha;Aa[Oa]=va++;na=[W];}}return 0 < na.length && (Oa=ib(na),ja=Aa[Oa],!Ka(ja,ha))?null:X.subarray(0,8 > V?T + 1:T);};le=function(jb){var ba,W;for(var Aa=ub.slice(),Ka=0,Oa=0,va=8,na=new Uint8Array(Math.ceil(1.5 * jb.length)),ha=0,X,T=[];Ka < jb.length && !(8 * (jb.length - Ka) - Oa < va);){for(var V=X=0;V < va;){ba=Math.min(va - V,8 - Oa);W=jb[Ka];W<<=Oa;W&=255;W>>>=8 - ba;V+=ba;Oa+=ba;8 == Oa && (Oa=0,++Ka);X|=(W & 255) << va - V;}V=Aa[X];0 == T.length?++va:(V?T.push(V[0]):T.push(T[0]),Aa[Aa.length]=T,T=[],Aa.length == 1 << va && ++va,V || (V=Aa[X]));X=ha + V.length;X >= na.length && (ba=new Uint8Array(Math.ceil(1.5 * X)),ba.set(na),na=ba);na.set(V,ha);ha=X;T=T.concat(V);}return na.subarray(0,ha);};})();(function(){var ib,gb,eb;Tb="utf-8";Qb=9007199254740992;ib=Kc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Kc);me=function($a){for(var mb=[ib.GZIP,ib.LZW],ub=0;ub < mb.length && 0 < $a.length;++ub){for(var jb=mb[ub],Aa=0;Aa < $a.length;++Aa){if($a[Aa] == jb)return jb;}}return null;};gb=ld={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(ld);ne=function($a){return gb.AES_CBC_PKCS5Padding == $a?gb.AES_CBC_PKCS5Padding:gb.RSA_ECB_PKCS1Padding == $a?gb.RSA_ECB_PKCS1Padding:gb[$a];};eb=oe={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(oe);Ed=function($a){return eb[$a];};Ea={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ea);})();Fb={isObjectLiteral:function(ib){return null !== ib && "object" === typeof ib && ib.constructor === Object;},extendDeep:function(){var ib,gb,eb,$a,mb,ub,jb,Aa;ib=arguments[0];gb=1;eb=arguments.length;$a=!1;"boolean" === typeof ib && ($a=ib,ib=arguments[1],gb=2);for(;gb < eb;gb++){if(null != (mb=arguments[gb]))for(ub in mb){if(!($a && (ub in ib))){jb=mb[ub];if(ib !== jb && jb !== Db){Aa=ib[ub];ib[ub]=null !== Aa && null !== jb && "object" === typeof Aa && "object" === typeof jb?Fb.extendDeep($a,{},Aa,jb):jb;}}}}return ib;}};(function(){var jb,Aa;function ib(Ka,Oa){return function(){var va,na;va=Ka.base;Ka.base=Oa;na=Ka.apply(this,arguments);Ka.base=va;return na;};}function gb(Ka,Oa,va){var na,ha,X,T;va=va || Aa;ha=!!va.extendAll;for(na in Oa){X=Oa.__lookupGetter__(na);T=Oa.__lookupSetter__(na);X || T?(X && Ka.__defineGetter__(na,X),T && Ka.__defineSetter__(na,T)):(X=Oa[na],T=Ka[na],"function" === typeof X && "function" === typeof T && X !== T?(X.base !== Function.prototype.base && (X=ib(X,T)),X.base=T):(ha || va[na]) && Fb.isObjectLiteral(X) && Fb.isObjectLiteral(T) && (X=Fb.extendDeep({},T,X)),Ka[na]=X);}}function eb(){var Ka,Oa;Ka=Array.prototype.slice;Oa=Ka.call(arguments,1);return this.extend({init:function na(){var ha;ha=Ka.call(arguments,0);na.base.apply(this,Oa.concat(ha));}});}function $a(Ka,Oa){var va;va=new this(jb);gb(va,Ka,Oa);return ub(va);}function mb(Ka,Oa){gb(this.prototype,Ka,Oa);return this;}function ub(Ka){var Oa;Oa=function(){var va;va=this.init;va && arguments[0] !== jb && va.apply(this,arguments);};Ka && (Oa.prototype=Ka);Oa.prototype.constructor=Oa;Oa.extend=$a;Oa.bind=eb;Oa.mixin=mb;return Oa;}jb={};Aa={actions:!0};Function.prototype.base=function(){};Fb.Class={create:ub,mixin:gb,extend:function(Ka,Oa){var va;va=ub();va.prototype=new Ka();return va.extend(Oa);}};Fb.mixin=function(){Fb.log && Fb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");gb.apply(null,arguments);};})();(function(){var jb,Aa,Ka;function ib(Oa,va){return function(){var na,ha;na=Oa.base;Oa.base=va;ha=Oa.apply(this,arguments);Oa.base=na;return ha;};}function gb(Oa,va,na){var ha,X,T,V;na=na || Aa;X=!!na.extendAll;for(ha in va){T=va.__lookupGetter__(ha);V=va.__lookupSetter__(ha);T || V?(T && Oa.__defineGetter__(ha,T),V && Oa.__defineSetter__(ha,V)):(T=va[ha],V=Oa[ha],"function" === typeof T && "function" === typeof V && T !== V?(T.base !== Ka && (T=ib(T,V)),T.base=V):(X || na[ha]) && Fb.isObjectLiteral(T) && Fb.isObjectLiteral(V) && (T=Fb.extendDeep({},V,T)),Oa[ha]=T);}}function eb(){var Oa,va;Oa=Array.prototype.slice;va=Oa.call(arguments,1);return this.extend({init:function ha(){var X;X=Oa.call(arguments,0);ha.base.apply(this,va.concat(X));}});}function $a(Oa,va){var na;na=new this(jb);gb(na,Oa,va);return ub(na);}function mb(Oa,va){gb(this.prototype,Oa,va);return this;}function ub(Oa){var va;va=function(){var na;na=this.init;na && arguments[0] !== jb && na.apply(this,arguments);};Oa && (va.prototype=Oa);va.prototype.constructor=va;va.extend=$a;va.bind=eb;va.mixin=mb;return va;}jb={};Aa={actions:!0};Ka=function(){};Function.prototype.base=Ka;Fb.Class={create:ub,mixin:gb,extend:function(Oa,va){var na;na=ub();na.prototype=new Oa();return na.extend(va);}};Fb.mixin=function(){Fb.log && Fb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");gb.apply(null,arguments);};})();(function(){function ib(eb){return eb == Qb?1:eb + 1;}function gb(eb){if(0 === Object.keys(eb._waiters).length)return 0;for(var $a=ib(eb._nextWaiter);!eb._waiters[$a];){$a=ib($a);}return $a;}Zc=Fb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(eb){var $a;if(this._waiters[eb]){$a=this._waiters[eb];delete this._waiters[eb];eb == this._nextWaiter && (this._nextWaiter=gb(this));$a.call(this,Db);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(eb,$a){var mb,ub;mb=this;ub=ib(this._lastWaiter);this._lastWaiter=ub;bb($a,function(){var jb,Aa;if(0 < this._queue.length){jb=this._queue.shift();setTimeout(function(){$a.result(jb);},0);}else {-1 != eb && (Aa=setTimeout(function(){delete mb._waiters[ub];ub == mb._nextWaiter && (mb._nextWaiter=gb(mb));$a.timeout();},eb));this._waiters[ub]=function(Ka){clearTimeout(Aa);setTimeout(function(){$a.result(Ka);},0);};this._nextWaiter || (this._nextWaiter=ub);}},mb);return ub;},add:function(eb){var $a;if(this._nextWaiter){$a=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=gb(this);$a.call(this,eb);}else this._queue.push(eb);}});})();(function(){var ib;ib=0 - Qb;pe=Fb.Class.create({nextBoolean:function(){var gb;gb=new Uint8Array(1);Bc.getRandomValues(gb);return gb[0] & 1?!0:!1;},nextInt:function(gb){var eb;if(null !== gb && gb !== Db){if("number" !== typeof gb)throw new TypeError("n must be of type number");if(1 > gb)throw new RangeError("n must be greater than zero");--gb;eb=new Uint8Array(4);Bc.getRandomValues(eb);return Math.floor(((eb[3] & 127) << 24 | eb[2] << 16 | eb[1] << 8 | eb[0]) / 2147483648 * (gb - 0 + 1));}gb=new Uint8Array(4);Bc.getRandomValues(gb);eb=(gb[3] & 127) << 24 | gb[2] << 16 | gb[1] << 8 | gb[0];return gb[3] & 128?-eb:eb;},nextLong:function(){var eb;for(var gb=ib;gb == ib;){gb=new Uint8Array(7);Bc.getRandomValues(gb);eb=16777216 * ((gb[6] & 31) << 24 | gb[5] << 16 | gb[4] << 8 | gb[3]) + (gb[2] << 16 | gb[1] << 8 | gb[0]);gb=gb[6] & 128?-eb - 1:eb;}return gb;},nextBytes:function(gb){Bc.getRandomValues(gb);}});})();(function(){function ib($a){return $a == Qb?1:$a + 1;}function gb($a){if(0 === Object.keys($a._waitingReaders).length)return 0;for(var mb=ib($a._nextReader);!$a._waitingReaders[mb];){mb=ib(mb);}return mb;}function eb($a){if(0 === Object.keys($a._waitingWriters).length)return 0;for(var mb=ib($a._nextWriter);!$a._waitingWriters[mb];){mb=ib(mb);}return mb;}Fd=Fb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function($a){var mb;if(this._waitingReaders[$a]){mb=this._waitingReaders[$a];delete this._waitingReaders[$a];$a == this._nextReader && (this._nextReader=gb(this));mb.call(this,!0);}this._waitingWriters[$a] && (mb=this._waitingWriters[$a],delete this._waitingWriters[$a],$a == this._nextWriter && (this._nextWriter=eb(this)),mb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function($a,mb){var ub,jb;ub=this;jb=ib(this._lastNumber);this._lastNumber=jb;bb(mb,function(){var Aa;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[jb]=!0,jb);-1 != $a && (Aa=setTimeout(function(){delete ub._waitingReaders[jb];jb == ub._nextReader && (ub._nextReader=gb(ub));mb.timeout();},$a));this._waitingReaders[jb]=function(Ka){clearTimeout(Aa);Ka?setTimeout(function(){mb.result(Db);},0):(ub._readers[jb]=!0,setTimeout(function(){mb.result(jb);},0));};this._nextReader || (this._nextReader=jb);},ub);return jb;},writeLock:function($a,mb){var ub,jb;ub=this;jb=ib(this._lastNumber);this._lastNumber=jb;bb(mb,function(){var Aa;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=jb;-1 != $a && (Aa=setTimeout(function(){delete ub._waitingWriters[jb];jb == ub._nextWriter && (ub._nextWriter=eb(ub));mb.timeout();},$a));this._waitingWriters[jb]=function(Ka){clearTimeout(Aa);Ka?setTimeout(function(){mb.result(Db);},0):(ub._writer=jb,setTimeout(function(){mb.result(jb);},0));};this._nextWriter || (this._nextWriter=jb);},ub);return jb;},unlock:function($a){if($a == this._writer)this._writer=null;else {if(!this._readers[$a])throw new xb("There is no reader or writer with ticket number " + $a + ".");delete this._readers[$a];}if(this._nextWriter)0 < Object.keys(this._readers).length || ($a=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=eb(this),$a.call(this,!1));else {for(var mb=this._nextReader;0 < Object.keys(this._waitingReaders).length;mb=ib(mb)){this._waitingReaders[mb] && ($a=this._waitingReaders[mb],delete this._waitingReaders[mb],$a.call(this,!1));}this._nextReader=0;}}});})();Fb.Class.mixin(S,{JSON_PARSE_ERROR:new S(0,Ea.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new S(1,Ea.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new S(2,Ea.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new S(3,Ea.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new S(4,Ea.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new S(5,Ea.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new S(6,Ea.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new S(7,Ea.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new S(8,Ea.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new S(9,Ea.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new S(10,Ea.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new S(11,Ea.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new S(12,Ea.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new S(13,Ea.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new S(14,Ea.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new S(15,Ea.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new S(16,Ea.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new S(17,Ea.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new S(18,Ea.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new S(19,Ea.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new S(20,Ea.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new S(21,Ea.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new S(22,Ea.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new S(23,Ea.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new S(24,Ea.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new S(25,Ea.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new S(26,Ea.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new S(27,Ea.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new S(28,Ea.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new S(29,Ea.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new S(30,Ea.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new S(31,Ea.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new S(32,Ea.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new S(33,Ea.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new S(34,Ea.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new S(35,Ea.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new S(36,Ea.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new S(37,Ea.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new S(38,Ea.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new S(39,Ea.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new S(40,Ea.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new S(41,Ea.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new S(42,Ea.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new S(43,Ea.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new S(44,Ea.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new S(45,Ea.FAIL,"Error exporting key."),DIGEST_ERROR:new S(46,Ea.FAIL,"Error in digest."),UNSUPPORTED_KEY:new S(47,Ea.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new S(48,Ea.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new S(49,Ea.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new S(50,Ea.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new S(51,Ea.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new S(52,Ea.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new S(53,Ea.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new S(54,Ea.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new S(55,Ea.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new S(56,Ea.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new S(57,Ea.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new S(58,Ea.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new S(59,Ea.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new S(60,Ea.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new S(61,Ea.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new S(62,Ea.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new S(1E3,Ea.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new S(1001,Ea.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new S(1002,Ea.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new S(1003,Ea.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new S(1004,Ea.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(1005,Ea.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new S(1006,Ea.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new S(1007,Ea.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new S(1008,Ea.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new S(1009,Ea.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new S(1010,Ea.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new S(1011,Ea.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new S(1012,Ea.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new S(1013,Ea.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new S(1014,Ea.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new S(2E3,Ea.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new S(2001,Ea.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new S(2002,Ea.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new S(2003,Ea.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new S(2004,Ea.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new S(2005,Ea.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(2006,Ea.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(2007,Ea.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new S(2008,Ea.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new S(2009,Ea.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new S(2010,Ea.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new S(2011,Ea.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new S(2012,Ea.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new S(2013,Ea.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new S(2014,Ea.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new S(2015,Ea.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new S(2016,Ea.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new S(2017,Ea.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new S(2018,Ea.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new S(2019,Ea.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new S(2020,Ea.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new S(3E3,Ea.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new S(3001,Ea.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new S(3002,Ea.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new S(3003,Ea.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new S(3004,Ea.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(3005,Ea.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new S(3006,Ea.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new S(3007,Ea.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new S(3008,Ea.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new S(3009,Ea.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new S(4E3,Ea.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new S(4001,Ea.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new S(4002,Ea.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new S(4003,Ea.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new S(4004,Ea.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new S(4005,Ea.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new S(4006,Ea.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new S(4007,Ea.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new S(4008,Ea.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new S(4009,Ea.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new S(4010,Ea.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new S(4011,Ea.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new S(4012,Ea.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new S(4013,Ea.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new S(4014,Ea.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new S(4015,Ea.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new S(4016,Ea.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new S(4017,Ea.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new S(4018,Ea.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new S(4019,Ea.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new S(4020,Ea.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new S(4021,Ea.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new S(4022,Ea.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new S(4023,Ea.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new S(4024,Ea.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new S(4025,Ea.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new S(4026,Ea.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new S(5E3,Ea.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new S(5001,Ea.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new S(5002,Ea.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new S(5003,Ea.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new S(5004,Ea.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new S(5005,Ea.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new S(5006,Ea.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new S(5007,Ea.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new S(5008,Ea.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new S(5009,Ea.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new S(5010,Ea.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new S(5011,Ea.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new S(5012,Ea.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new S(5013,Ea.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new S(5014,Ea.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new S(5015,Ea.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new S(5016,Ea.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new S(5017,Ea.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new S(5018,Ea.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new S(5019,Ea.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new S(5020,Ea.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new S(5021,Ea.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new S(5022,Ea.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new S(5023,Ea.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new S(5024,Ea.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new S(5025,Ea.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new S(5026,Ea.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new S(5027,Ea.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new S(5028,Ea.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new S(5029,Ea.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new S(5030,Ea.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new S(5031,Ea.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new S(5032,Ea.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new S(5033,Ea.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new S(5034,Ea.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new S(5035,Ea.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new S(5036,Ea.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new S(5037,Ea.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new S(5038,Ea.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new S(5039,Ea.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new S(5040,Ea.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new S(6E3,Ea.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new S(6001,Ea.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new S(6002,Ea.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new S(6003,Ea.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new S(6004,Ea.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new S(6005,Ea.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new S(6006,Ea.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new S(6007,Ea.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new S(6008,Ea.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new S(6009,Ea.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new S(6010,Ea.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new S(6011,Ea.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new S(6012,Ea.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new S(6013,Ea.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new S(6014,Ea.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new S(6015,Ea.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new S(6016,Ea.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new S(6017,Ea.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new S(6018,Ea.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new S(6019,Ea.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new S(6020,Ea.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new S(6021,Ea.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new S(6022,Ea.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new S(6023,Ea.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new S(6024,Ea.FAIL,"Invalid header data."),PAYLOAD_INVALID:new S(6025,Ea.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new S(6026,Ea.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new S(6027,Ea.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new S(6028,Ea.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new S(6029,Ea.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new S(6030,Ea.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new S(6031,Ea.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new S(6032,Ea.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new S(6033,Ea.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new S(6034,Ea.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new S(6035,Ea.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new S(6036,Ea.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new S(6037,Ea.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new S(7E3,Ea.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new S(7001,Ea.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new S(7002,Ea.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new S(7003,Ea.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new S(7004,Ea.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new S(7005,Ea.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new S(7006,Ea.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new S(7007,Ea.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new S(7008,Ea.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new S(7009,Ea.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new S(7010,Ea.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new S(7011,Ea.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new S(7012,Ea.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new S(7013,Ea.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new S(7014,Ea.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new S(7015,Ea.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new S(7016,Ea.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new S(8E3,Ea.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new S(8001,Ea.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new S(8002,Ea.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new S(8003,Ea.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new S(8004,Ea.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new S(8005,Ea.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new S(8006,Ea.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new S(8007,Ea.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new S(8008,Ea.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new S(8009,Ea.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new S(8010,Ea.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new S(8011,Ea.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new S(8012,Ea.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new S(9E3,Ea.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new S(9001,Ea.FAIL,"Error communicating with MSL entity."),NONE:new S(9999,Ea.FAIL,"Special unit test error.")});Object.freeze(S);(function(){fb=Fb.Class.create(Error());fb.mixin({init:function(ib,gb,eb){var mb,ub,jb;function $a(){return ub?ub:this.cause && this.cause instanceof fb?this.cause.messageId:Db;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);mb=ib.message;gb && (mb+=" [" + gb + "]");jb=this.stack;Object.defineProperties(this,{message:{value:mb,writable:!1,configurable:!0},error:{value:ib,writable:!1,configurable:!0},cause:{value:eb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:$a,set:function(Aa){if(0 > Aa || Aa > Qb)throw new RangeError("Message ID " + Aa + " is outside the valid range.");$a() || (ub=Aa);},configurable:!0},stack:{get:function(){var Aa;Aa=this.toString();jb && (Aa+="\n" + jb);eb && eb.stack && (Aa+="\nCaused by " + eb.stack);return Aa;},configurable:!0}});},setEntity:function(ib){!ib || this.masterToken || this.entityAuthenticationData || (ib instanceof ic?this.masterToken=ib:ib instanceof Lc && (this.entityAuthenticationData=ib));return this;},setUser:function(ib){!ib || this.userIdToken || this.userAuthenticationData || (ib instanceof Tc?this.userIdToken=ib:ib instanceof $c && (this.userAuthenticationData=ib));return this;},setMessageId:function(ib){this.messageId=ib;return this;},toString:function(){return this.name + ": " + this.message;}});})();vb=fb.extend({init:function mb(gb,eb,$a){mb.base.call(this,gb,eb,$a);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Gb=fb.extend({init:function ub(eb,$a,mb){ub.base.call(this,eb,$a,mb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});rc=fb.extend({init:function jb($a,mb,ub){jb.base.call(this,$a,mb,ub);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){jc=Fb.Class.create(Error());jc.mixin({init:function($a,mb,ub){var jb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);jb=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:mb,writable:!1,configurable:!1},requestCause:{value:ub,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Aa;Aa=this.toString();jb && (Aa+="\n" + jb);mb && mb.stack && (Aa+="\nCaused by " + mb.stack);return Aa;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Xb=Fb.Class.create(Error());Xb.mixin({init:function($a,mb){var ub;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ub=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:mb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();ub && (jb+="\n" + ub);mb && mb.stack && (jb+="\nCaused by " + mb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){xb=Fb.Class.create(Error());xb.mixin({init:function($a,mb){var ub;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ub=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:mb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();ub && (jb+="\n" + ub);mb && mb.stack && (jb+="\nCaused by " + mb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){ac=Fb.Class.create(Error());ac.mixin({init:function($a,mb){var ub;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ub=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:mb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();ub && (jb+="\n" + ub);mb && mb.stack && (jb+="\nCaused by " + mb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Ub=fb.extend({init:function Aa(mb,ub,jb){Aa.base.call(this,mb,ub,jb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});ad=fb.extend({init:function Aa(ub,jb){Aa.base.call(this,ub);Object.defineProperties(this,{masterToken:{value:jb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Nb=fb.extend({init:function Oa(jb,Aa,Ka){Oa.base.call(this,jb,Aa,Ka);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Cc=fb.extend({init:function va(Aa,Ka,Oa){va.base.call(this,Aa,Ka,Oa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var na;function Aa(ha){return "undefined" === typeof ha?!1:ha;}function Ka(ha){return ha && ha.length?(dc === na.V2014_02 && (ha=ha.map(function(X){return "wrap" == X?"wrapKey":"unwrap" == X?"unwrapKey":X;})),ha):dc === na.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Oa(ha,X,T,V,ba){return Promise.resolve().then(function(){return Vb.importKey(ha,X,T,V,ba);}).catch(function(W){var ja;if("spki" !== ha && "pkcs8" !== ha)throw W;W=ASN1.webCryptoAlgorithmToJwkAlg(T);ja=ASN1.webCryptoUsageToJwkKeyOps(ba);W=ASN1.rsaDerToJwk(X,W,ja,V);if(!W)throw Error("Could not make valid JWK from DER input");W=JSON.stringify(W);return Vb.importKey("jwk",Bd(W),T,V,ba);});}function va(ha,X){return Promise.resolve().then(function(){return Vb.exportKey(ha,X);}).catch(function(T){if("spki" !== ha && "pkcs8" !== ha)throw T;return Vb.exportKey("jwk",X).then(function(V){V=JSON.parse(Ad(new Uint8Array(V)));V=ASN1.jwkToRsaDer(V);if(!V)throw Error("Could not make valid DER from JWK input");return V.getDer().buffer;});});}na=md={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(md);dc=na.LATEST;Pb={encrypt:function(ha,X,T){switch(dc){case na.LEGACY:return new Promise(function(V,ba){var W;W=Vb.encrypt(ha,X,T);W.oncomplete=function(ja){V(ja.target.result);};W.onerror=function(ja){ba(ja);};});case na.V2014_01:case na.V2014_02:return Vb.encrypt(ha,X,T).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ha,X,T){switch(dc){case na.LEGACY:return new Promise(function(V,ba){var W;W=Vb.decrypt(ha,X,T);W.oncomplete=function(ja){V(ja.target.result);};W.onerror=function(ja){ba(ja);};});case na.V2014_01:case na.V2014_02:return Vb.decrypt(ha,X,T).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ha,X,T){switch(dc){case na.LEGACY:return new Promise(function(V,ba){var W;W=Vb.sign(ha,X,T);W.oncomplete=function(ja){V(ja.target.result);};W.onerror=function(ja){ba(ja);};});case na.V2014_01:case na.V2014_02:return Vb.sign(ha,X,T).then(function(V){return new Uint8Array(V);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ha,X,T,V){switch(dc){case na.LEGACY:return new Promise(function(ba,W){var ja;ja=Vb.verify(ha,X,T,V);ja.oncomplete=function(wa){ba(wa.target.result);};ja.onerror=function(wa){W(wa);};});case na.V2014_01:case na.V2014_02:return Vb.verify(ha,X,T,V);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ha,X){switch(dc){case na.LEGACY:return new Promise(function(T,V){var ba;ba=Vb.digest(ha,X);ba.oncomplete=function(W){T(W.target.result);};ba.onerror=function(W){V(W);};});case na.V2014_01:case na.V2014_02:return Vb.digest(ha,X).then(function(T){return new Uint8Array(T);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ha,X,T){var V,ba;V=Aa(X);ba=Ka(T);switch(dc){case na.LEGACY:return new Promise(function(W,ja){var wa;wa=Vb.generateKey(ha,V,ba);wa.oncomplete=function(ta){W(ta.target.result);};wa.onerror=function(ta){ja(ta);};});case na.V2014_01:case na.V2014_02:return Vb.generateKey(ha,V,ba);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ha,X,T,V,ba){var W,ja;W=Aa(V);ja=Ka(ba);switch(dc){case na.LEGACY:return new Promise(function(wa,ta){var la;la=Vb.deriveKey(ha,X,T,W,ja);la.oncomplete=function(sa){wa(sa.target.result);};la.onerror=function(sa){ta(sa);};});case na.V2014_01:case na.V2014_02:return Vb.deriveKey(ha,X,T,W,ja);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ha,X,T,V,ba){var W,ja;W=Aa(V);ja=Ka(ba);switch(dc){case na.LEGACY:return new Promise(function(wa,ta){var la;la=Vb.importKey(ha,X,T,W,ja);la.oncomplete=function(sa){wa(sa.target.result);};la.onerror=function(sa){ta(sa);};});case na.V2014_01:case na.V2014_02:return Oa(ha,X,T,W,ja);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ha,X){switch(dc){case na.LEGACY:return new Promise(function(T,V){var ba;ba=Vb.exportKey(ha,X);ba.oncomplete=function(W){T(W.target.result);};ba.onerror=function(W){V(W);};});case na.V2014_01:case na.V2014_02:return va(ha,X).then(function(T){return new Uint8Array(T);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ha,X,T,V){switch(dc){case na.LEGACY:return new Promise(function(ba,W){var ja;ja=Vb.wrapKey(X,T,V);ja.oncomplete=function(wa){ba(wa.target.result);};ja.onerror=function(wa){W(wa);};});case na.V2014_01:case na.V2014_02:return Vb.wrapKey(ha,X,T,V).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ha,X,T,V,ba,W,ja){switch(dc){case na.LEGACY:return new Promise(function(wa,ta){var la;la=Vb.unwrapKey(X,ba,T);la.oncomplete=function(sa){wa(sa.target.result);};la.onerror=function(sa){ta(sa);};});case na.V2014_01:case na.V2014_02:return Vb.unwrapKey(ha,X,T,V,ba,Aa(W),Ka(ja));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};kd && kd.getKeyByName && (Pb.getKeyByName=function(ha){switch(dc){case na.LEGACY:return new Promise(function(X,T){var V;V=kd.getKeyByName(ha);V.oncomplete=function(ba){X(ba.target.result);};V.onerror=function(ba){T(ba);};});case na.V2014_01:case na.V2014_02:return kd.getKeyByName(ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});pb.netflix=pb.netflix || ({});pb.netflix.crypto=Pb;})();sc={name:"AES-KW"};oc={name:"AES-CBC"};pc={name:"HMAC",hash:{name:"SHA-256"}};nd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Gd={name:"RSAES-PKCS1-v1_5"};qe={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Dc=["encrypt","decrypt"];Ec=["wrap","unwrap"];Mc=["sign","verify"];(function(){Hd=Fb.Class.create({init:function(Aa,Ka,Oa){var na;function va(ha){Ma(Ka,function(){var X;X=ha?Kb(ha):Db;Object.defineProperties(na,{rawKey:{value:Aa,writable:!1,configurable:!1},keyData:{value:ha,writable:!1,configurable:!1},keyDataB64:{value:X,writable:!1,configurable:!1}});return this;},na);}na=this;Ma(Ka,function(){if(!Aa || "object" != typeof Aa)throw new vb(S.INVALID_SYMMETRIC_KEY);!Oa && Aa.extractable?Pb.exportKey("raw",Aa).then(function(ha){va(new Uint8Array(ha));},function(ha){Ka.error(new vb(S.KEY_EXPORT_ERROR,"raw"));}):va(Oa);},na);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});bd=function(Aa,Ka){new Hd(Aa,Ka);};tc=function(Aa,Ka,Oa,va){Ma(va,function(){try{Aa="string" == typeof Aa?Mb(Aa):Aa;}catch(na){throw new vb(S.INVALID_SYMMETRIC_KEY,"keydata " + Aa,na);}Pb.importKey("raw",Aa,Ka,!0,Oa).then(function(na){new Hd(na,va,Aa);},function(na){va.error(new vb(S.INVALID_SYMMETRIC_KEY));});});};})();(function(){od=Fb.Class.create({init:function(Aa,Ka,Oa){var na;function va(ha){Ma(Ka,function(){Object.defineProperties(na,{rawKey:{value:Aa,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},na);}na=this;Ma(Ka,function(){if(!Aa || "object" != typeof Aa || "public" != Aa.type)throw new TypeError("Only original public crypto keys are supported.");!Oa && Aa.extractable?Pb.exportKey("spki",Aa).then(function(ha){va(new Uint8Array(ha));},function(ha){Ka.error(new vb(S.KEY_EXPORT_ERROR,"spki"));}):va(Oa);});},getEncoded:function(){return this.encoded;}});Jc=function(Aa,Ka){new od(Aa,Ka);};Id=function(Aa,Ka,Oa,va){Ma(va,function(){try{Aa="string" == typeof Aa?Mb(Aa):Aa;}catch(na){throw new vb(S.INVALID_PUBLIC_KEY,"spki " + Aa,na);}Pb.importKey("spki",Aa,Ka,!0,Oa).then(function(na){new od(na,va,Aa);},function(na){va.error(new vb(S.INVALID_PUBLIC_KEY));});});};})();(function(){re=Fb.Class.create({init:function(Aa,Ka,Oa){var na;function va(ha){Ma(Ka,function(){Object.defineProperties(na,{rawKey:{value:Aa,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},na);}na=this;Ma(Ka,function(){if(!Aa || "object" != typeof Aa || "private" != Aa.type)throw new TypeError("Only original private crypto keys are supported.");!Oa && Aa.extractable?Pb.exportKey("pkcs8",Aa).then(function(ha){va(new Uint8Array(ha));},function(ha){Ka.error(new vb(S.KEY_EXPORT_ERROR,"pkcs8"));}):va(Oa);});},getEncoded:function(){return this.encoded;}});Sc=function(Aa,Ka){new re(Aa,Ka);};})();(function(){var Aa;Aa=Md={V1:1,V2:2};Jd=Fb.Class.create({init:function(Ka,Oa,va,na){Ma(na,function(){var ha,X,T,V;ha=Aa.V1;X=Ka;T=null;for(V in ld){if(ld[V] == Ka){ha=Aa.V2;X=null;T=Ka;break;}}Object.defineProperties(this,{version:{value:ha,writable:!1,enumerable:!1,configurable:!1},keyId:{value:X,writable:!1,configurable:!1},cipherSpec:{value:T,writable:!1,configurable:!1},iv:{value:Oa,writable:!1,configurable:!1},ciphertext:{value:va,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Ka;Ka={};switch(this.version){case Aa.V1:Ka.keyid=this.keyId;this.iv && (Ka.iv=Kb(this.iv));Ka.ciphertext=Kb(this.ciphertext);Ka.sha256="AA==";break;case Aa.V2:Ka.version=this.version;Ka.cipherspec=this.cipherSpec;this.iv && (Ka.iv=Kb(this.iv));Ka.ciphertext=Kb(this.ciphertext);break;default:throw new xb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Ka;}});Kd=function(Ka,Oa,va,na){new Jd(Ka,Oa,va,na);};Ld=function(Ka,Oa,va){Ma(va,function(){var na,ha,X,T,V,ba,W;na=Ka.keyid;ha=Ka.cipherspec;X=Ka.iv;T=Ka.ciphertext;V=Ka.sha256;if(!Oa)if((Oa=Ka.version) && "number" === typeof Oa && Oa === Oa){ba=!1;for(W in Aa){if(Aa[W] == Oa){ba=!0;break;}}if(!ba)throw new vb(S.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}else Oa=Aa.V1;switch(Oa){case Aa.V1:if("string" !== typeof na || X && "string" !== typeof X || "string" !== typeof T || "string" !== typeof V)throw new Gb(S.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));break;case Aa.V2:W=Ka.version;if(W != Aa.V2)throw new vb(S.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));if("string" !== typeof ha || X && "string" !== typeof X || "string" !== typeof T)throw new Gb(S.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ka));ha=ne(ha);if(!ha)throw new vb(S.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Ka));na=ha;break;default:throw new vb(S.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ka));}try{X && (X=Mb(X));T=Mb(T);}catch(ja){throw new vb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Ka),ja);}new Jd(na,X,T,va);});};})();(function(){var Aa;Aa=Pd={V1:1,V2:2};uc=Fb.Class.create({init:function(Ka,Oa,va){var na;switch(Ka){case Aa.V1:na=va;break;case Aa.V2:na={};na.version=Ka;na.algorithm=Oa;na.signature=Kb(va);na=fc(JSON.stringify(na),Tb);break;default:throw new xb("Signature envelope version " + Ka + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Ka,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Oa,writable:!1,configurable:!1},signature:{value:va,writable:!1,configurable:!1},bytes:{value:na,writable:!1,configurable:!1}});}});Nd=function(){var Ka,Oa,va,na;if(2 == arguments.length){Ka=Aa.V1;Oa=arguments[0];va=null;na=arguments[1];}else 3 == arguments.length && (Ka=Aa.V2,va=arguments[0],Oa=arguments[1],na=arguments[2]);Ma(na,function(){return new uc(Ka,va,Oa);});};Od=function(Ka,Oa,va){Ma(va,function(){var na,ha,X,T,V,ba,W;if(Oa)switch(Oa){case Aa.V1:return new uc(Aa.V1,null,Ka);case Aa.V2:try{na=ec(Ka,Tb);ha=JSON.parse(na);X=parseInt(ha.version);T=ha.algorithm;V=ha.signature;if(!X || "number" !== typeof X || X != X || "string" !== typeof T || "string" !== typeof V)throw new Gb(S.JSON_PARSE_ERROR,"signature envelope " + Kb(Ka));if(Aa.V2 != X)throw new vb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Kb(Ka));ba=Ed(T);if(!ba)throw new vb(S.UNIDENTIFIED_ALGORITHM,"signature envelope " + Kb(Ka));W=Mb(V);if(!W)throw new vb(S.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Ka));return new uc(Aa.V2,ba,W);}catch(ja){if(ja instanceof SyntaxError)throw new Gb(S.JSON_PARSE_ERROR,"signature envelope " + Kb(Ka),ja);throw ja;}default:throw new vb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Kb(Ka));}try{na=ec(Ka,Tb);ha=JSON.parse(na);}catch(ja){ha=null;}if(ha && ha.version){if((na=ha.version,"number" !== typeof na || na !== na))na=Aa.V1;}else na=Aa.V1;switch(na){case Aa.V1:return new uc(na,null,Ka);case Aa.V2:ba=ha.algorithm;V=ha.signature;if("string" !== typeof ba || "string" !== typeof V)return new uc(Aa.V1,null,Ka);ba=Ed(ba);if(!ba)return new uc(Aa.V1,null,Ka);try{W=Mb(V);}catch(ja){return new uc(Aa.V1,null,Ka);}return new uc(na,ba,W);default:throw new vb(S.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ka);}});};})();Uc=Fb.Class.create({encrypt:function(Aa,Ka){},decrypt:function(Aa,Ka){},wrap:function(Aa,Ka){},unwrap:function(Aa,Ka,Oa,va){},sign:function(Aa,Ka){},verify:function(Aa,Ka,Oa){}});(function(){var Aa;Aa=wc={RSA_OAEP:nd.name,A128KW:sc.name};qc="A128GCM";vc=Fb.Class.create({init:function(Ka,Oa,va,na,ha){switch(Oa){case Aa.RSA_OAEP:ha=ha && (ha.rawKey || ha);na=na && (na.rawKey || na);break;case Aa.A128KW:ha=na=na && (na.rawKey || na);break;default:throw new xb("Unsupported algorithm: " + Oa);}Object.defineProperties(this,{_ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:va,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:na,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Oa){Oa.error(new vb(S.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ka,Oa){Oa.error(new vb(S.DECRYPT_NOT_SUPPORTED));},wrap:function(Ka,Oa){Ma(Oa,function(){Pb.wrapKey("jwe+jwk",Ka.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(va){Oa.result(va);},function(va){Oa.error(new vb(S.WRAP_ERROR));});},this);},unwrap:function(Ka,Oa,va,na){function ha(X){Ma(na,function(){switch(X.type){case "secret":bd(X,na);break;case "public":Jc(X,na);break;case "private":Sc(X,na);break;default:throw new vb(S.UNSUPPORTED_KEY,"type: " + X.type);}});}Ma(na,function(){Pb.unwrapKey("jwe+jwk",Ka,this._unwrapKey,this._unwrapKey.algorithm,Oa,!1,va).then(function(X){ha(X);},function(){na.error(new vb(S.UNWRAP_ERROR));});},this);},sign:function(Ka,Oa){Oa.error(new vb(S.SIGN_NOT_SUPPORTED));},verify:function(Ka,Oa,va){va.error(new vb(S.VERIFY_NOT_SUPPORTED));}});})();Vc=Uc.extend({encrypt:function(Aa,Ka){Ka.result(Aa);},decrypt:function(Aa,Ka){Ka.result(Aa);},wrap:function(Aa,Ka){Ka.result(Aa);},unwrap:function(Aa,Ka,Oa,va){va.result(Aa);},sign:function(Aa,Ka){Ka.result(new Uint8Array(0));},verify:function(Aa,Ka,Oa){Oa.result(!0);}});(function(){var Aa;Aa=qd={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};pd=Uc.extend({init:function T(Oa,va,na,ha,X){T.base.call(this);na && (na=na.rawKey);ha && (ha=ha.rawKey);Object.defineProperties(this,{id:{value:va,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:na,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},transform:{value:X == Aa.ENCRYPT_DECRYPT_PKCS1?Gd:X == Aa.ENCRYPT_DECRYPT_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:X == Aa.WRAP_UNWRAP_PKCS1?Gd:X == Aa.WRAP_UNWRAP_OAEP?nd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:X == Aa.SIGN_VERIFY?qe:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Oa,va){var na;na=this;Ma(va,function(){if("nullOp" == this.transform)return Oa;if(!this.publicKey)throw new vb(S.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Oa.length)return Oa;Pb.encrypt(na.transform,na.publicKey,Oa).then(function(ha){Kd(na.id,null,ha,{result:function(X){var T;try{T=JSON.stringify(X);va.result(fc(T,Tb));}catch(V){va.error(new vb(S.ENCRYPT_ERROR,null,V));}},error:function(X){X instanceof fb || (X=new vb(S.ENCRYPT_ERROR,null,X));va.error(X);}});},function(ha){va.error(new vb(S.ENCRYPT_ERROR));});},this);},decrypt:function(Oa,va){var na;na=this;Ma(va,function(){var ha,X;if("nullOp" == this.transform)return Oa;if(!this.privateKey)throw new vb(S.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Oa.length)return Oa;try{ha=ec(Oa,Tb);X=JSON.parse(ha);}catch(T){if(T instanceof SyntaxError)throw new vb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,T);throw new vb(S.DECRYPT_ERROR,null,T);}Ld(X,Md.V1,{result:function(T){var V;try{if(T.keyId != na.id)throw new vb(S.ENVELOPE_KEY_ID_MISMATCH);V=va.result;Pb.decrypt(na.transform,na.privateKey,T.ciphertext).then(V,function(ba){va.error(new vb(S.DECRYPT_ERROR));});}catch(ba){ba instanceof fb?va.error(ba):va.error(new vb(S.DECRYPT_ERROR,null,ba));}},error:function(T){T instanceof Gb && (T=new vb(S.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,T));T instanceof fb || (T=new vb(S.DECRYPT_ERROR,null,T));va.error(T);}});},this);},wrap:function(Oa,va){Ma(va,function(){var na;if("nullOp" == this.wrapTransform || !this.publicKey)throw new vb(S.WRAP_NOT_SUPPORTED,"no public key");na=va.result;Pb.wrapKey("jwk",Oa.rawKey,this.publicKey,this.wrapTransform).then(na,function(ha){va.error(new vb(S.WRAP_ERROR));});},this);},unwrap:function(Oa,va,na,ha){function X(T){Ma(ha,function(){switch(T.type){case "secret":bd(T,ha);break;case "public":Jc(T,ha);break;case "private":Sc(T,ha);break;default:throw new vb(S.UNSUPPORTED_KEY,"type: " + T.type);}});}Ma(ha,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new vb(S.UNWRAP_NOT_SUPPORTED,"no private key");Pb.unwrapKey("jwk",Oa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},va,!1,na).then(X,function(T){ha.error(new vb(S.UNWRAP_ERROR));});},this);},sign:function(Oa,va){Ma(va,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new vb(S.SIGN_NOT_SUPPORTED,"no private key");Pb.sign(this.algo,this.privateKey,Oa).then(function(na){Nd(na,{result:function(ha){va.result(ha.bytes);},error:va.error});},function(na){va.error(new vb(S.SIGNATURE_ERROR));});},this);},verify:function(Oa,va,na){var ha;ha=this;Ma(na,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new vb(S.VERIFY_NOT_SUPPORTED,"no public key");Od(va,Pd.V1,{result:function(X){Ma(na,function(){var T;T=na.result;Pb.verify(this.algo,this.publicKey,X.signature,Oa).then(T,function(V){na.error(new vb(S.SIGNATURE_ERROR));});},ha);},error:na.error});},this);}});})();(function(){rd=Uc.extend({init:function X(Ka,Oa,va,na,ha){X.base.call(this);va=va && va.rawKey;na=na && na.rawKey;ha=ha && ha.rawKey;Object.defineProperties(this,{ctx:{value:Ka,writable:!1,enumerable:!1,configurable:!1},id:{value:Oa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:va,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:na,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ka,Oa){var va;va=this;Ma(Oa,function(){var na;if(!this.encryptionKey)throw new vb(S.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;na=new Uint8Array(16);this.ctx.getRandom().nextBytes(na);Pb.encrypt({name:oc.name,iv:na},va.encryptionKey,Ka).then(function(ha){ha=new Uint8Array(ha);Kd(va.id,na,ha,{result:function(X){var T;try{T=JSON.stringify(X);Oa.result(fc(T,Tb));}catch(V){Oa.error(new vb(S.ENCRYPT_ERROR,null,V));}},error:function(X){X instanceof fb || (X=new vb(S.ENCRYPT_ERROR,null,X));Oa.error(X);}});},function(ha){Oa.error(new vb(S.ENCRYPT_ERROR));});},this);},decrypt:function(Ka,Oa){var va;va=this;Ma(Oa,function(){var na,ha;if(!this.encryptionKey)throw new vb(S.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ka.length)return Ka;try{na=ec(Ka,Tb);ha=JSON.parse(na);}catch(X){if(X instanceof SyntaxError)throw new vb(S.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,X);throw new vb(S.DECRYPT_ERROR,null,X);}Ld(ha,Md.V1,{result:function(X){try{if(X.keyId != va.id)throw new vb(S.ENVELOPE_KEY_ID_MISMATCH);Pb.decrypt({name:oc.name,iv:X.iv},va.encryptionKey,X.ciphertext).then(function(T){T=new Uint8Array(T);Oa.result(T);},function(){Oa.error(new vb(S.DECRYPT_ERROR));});}catch(T){T instanceof fb?Oa.error(T):Oa.error(new vb(S.DECRYPT_ERROR,null,T));}},error:function(X){X instanceof Gb && (X=new vb(S.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,X));X instanceof fb || (X=new vb(S.DECRYPT_ERROR,null,X));Oa.error(X);}});},this);},wrap:function(Ka,Oa){Ma(Oa,function(){if(!this.wrapKey)throw new vb(S.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Pb.wrapKey("raw",Ka.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(va){Oa.result(va);},function(va){Oa.error(new vb(S.WRAP_ERROR));});},this);},unwrap:function(Ka,Oa,va,na){function ha(X){Ma(na,function(){switch(X.type){case "secret":bd(X,na);break;case "public":Jc(X,na);break;case "private":Sc(X,na);break;default:throw new vb(S.UNSUPPORTED_KEY,"type: " + X.type);}});}Ma(na,function(){if(!this.wrapKey)throw new vb(S.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Pb.unwrapKey("raw",Ka,this.wrapKey,this.wrapKey.algorithm,Oa,!1,va).then(function(X){ha(X);},function(X){na.error(new vb(S.UNWRAP_ERROR));});},this);},sign:function(Ka,Oa){var va;va=this;Ma(Oa,function(){if(!this.hmacKey)throw new vb(S.SIGN_NOT_SUPPORTED,"no HMAC key.");Pb.sign(pc,this.hmacKey,Ka).then(function(na){Ma(Oa,function(){var ha;ha=new Uint8Array(na);Nd(ha,{result:function(X){Oa.result(X.bytes);},error:Oa.error});},va);},function(){Oa.error(new vb(S.HMAC_ERROR));});},this);},verify:function(Ka,Oa,va){var na;na=this;Ma(va,function(){if(!this.hmacKey)throw new vb(S.VERIFY_NOT_SUPPORTED,"no HMAC key.");Od(Oa,Pd.V1,{result:function(ha){Ma(va,function(){Pb.verify(pc,this.hmacKey,ha.signature,Ka).then(function(X){va.result(X);},function(X){va.error(new vb(S.HMAC_ERROR));});},na);},error:va.error});},this);}});})();lc=rd.extend({init:function X(Ka,Oa,va,na,ha){if(va || na || ha)X.base.call(this,Ka,va + "_" + Oa.sequenceNumber,na,ha,null);else {if(!Oa.isDecrypted())throw new ad(S.MASTERTOKEN_UNTRUSTED,Oa);X.base.call(this,Ka,Oa.identity + "_" + Oa.sequenceNumber,Oa.encryptionKey,Oa.hmacKey,null);}}});rf=Uc.extend({encrypt:function(Ka,Oa){Oa.result(Ka);},decrypt:function(Ka,Oa){Oa.result(Ka);},wrap:function(Ka,Oa){Oa.error(new xb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Ka,Oa,va,na){na.error(new xb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Ka,Oa){Oa.result(new Uint8Array(0));},verify:function(Ka,Oa,va){va.result(!1);}});Wb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Wb);(function(){Lc=Fb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Ka){return this === Ka?!0:Ka instanceof Lc?this.scheme == Ka.scheme:!1;},toJSON:function(){var Ka;Ka={};Ka.scheme=this.scheme;Ka.authdata=this.getAuthData();return Ka;}});se=function(Ka,Oa){var va,na;va=Oa.scheme;na=Oa.authdata;if(!va || !na)throw new Gb(S.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Oa));if(!Wb[va])throw new rc(S.UNIDENTIFIED_ENTITYAUTH_SCHEME,va);Oa=Ka.getEntityAuthenticationFactory(va);if(!Oa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,va);return Oa.createData(Ka,na);};})();sd=Fb.Class.create({init:function(Ka){Object.defineProperties(this,{scheme:{value:Ka,writable:!1,configurable:!1}});},createData:function(Ka,Oa){},getCryptoContext:function(Ka,Oa){}});(function(){xc=Lc.extend({init:function va(Oa){va.base.call(this,Wb.MGK);Object.defineProperties(this,{identity:{value:Oa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Oa;Oa={};Oa.identity=this.identity;return Oa;},equals:function na(va){return this === va?!0:va instanceof xc?na.base.call(this,this,va) && this.identity == va.identity:!1;}});te=function(va){var na;na=va.identity;if(!na)throw new Gb(S.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(va));return new xc(na);};})();sf=sd.extend({init:function va(Oa){va.base.call(this,Wb.MGK);Object.defineProperties(this,{localIdentity:{value:Oa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Oa,va){return te(va);},getCryptoContext:function(Oa,va){if(!(va instanceof xc))throw new xb("Incorrect authentication data type " + JSON.stringify(va) + ".");if(va.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"mgk " + va.identity).setEntity(va);return new Vc();}});(function(){yc=Lc.extend({init:function na(va){na.base.call(this,Wb.PSK);Object.defineProperties(this,{identity:{value:va,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var va;va={};va.identity=this.identity;return va;},equals:function ha(na){return this === na?!0:na instanceof yc?ha.base.call(this,this,na) && this.identity == na.identity:!1;}});ue=function(na){var ha;ha=na.identity;if(!ha)throw new Gb(S.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(na));return new yc(ha);};})();tf=sd.extend({init:function na(va){na.base.call(this,Wb.PSK);Object.defineProperties(this,{localIdentity:{value:va,writable:!1,enumerable:!1,configurable:!1}});},createData:function(va,na){return ue(na);},getCryptoContext:function(va,na){if(!(na instanceof yc))throw new xb("Incorrect authentication data type " + JSON.stringify(na) + ".");if(na.getIdentity() != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"psk " + na.identity).setEntity(na);return new Vc();}});(function(){td=Lc.extend({init:function X(na,ha){X.base.call(this,Wb.RSA);Object.defineProperties(this,{identity:{value:na,writable:!1,configurable:!1},publicKeyId:{value:ha,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var na;na={};na.identity=this.identity;na.pubkeyid=this.publicKeyId;return na;},equals:function X(ha){return this === ha?!0:ha instanceof td?X.base.call(this,this,ha) && this.identity == ha.identity && this.publicKeyId == ha.publicKeyId:!1;}});ve=function(ha){var X,T;X=ha.identity;T=ha.pubkeyid;if(!X || "string" !== typeof X || !T || "string" !== typeof T)throw new Gb(S.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ha));return new td(X,T);};})();uf=sd.extend({init:function ha(na){ha.base.call(this,Wb.RSA);Object.defineProperties(this,{store:{value:na,writable:!1,enumerable:!1,configurable:!1}});},createData:function(na,ha){return ve(ha);},getCryptoContext:function(na,ha){var X,T,V;if(!(ha instanceof td))throw new xb("Incorrect authentication data type " + ha + ".");X=ha.identity;T=ha.publicKeyId;V=this.store.getPublicKey(T);if(!V)throw new rc(S.RSA_PUBLICKEY_NOT_FOUND,T).setEntity(ha);return new pd(na,X,null,V,qd.SIGN_VERIFY);}});(function(){Yc=Lc.extend({init:function X(ha){X.base.call(this,Wb.NONE);Object.defineProperties(this,{identity:{value:ha,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ha;ha={};ha.identity=this.identity;return ha;},equals:function T(X){return this === X?!0:X instanceof Yc?T.base.call(this,this,X) && this.identity == X.identity:!1;}});we=function(X){var T;T=X.identity;if(!T)throw new Gb(S.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(X));return new Yc(T);};})();qf=sd.extend({init:function ha(){ha.base.call(this,Wb.NONE);},createData:function(ha,X){return we(X);},getCryptoContext:function(ha,X){if(!(X instanceof Yc))throw new xb("Incorrect authentication data type " + JSON.stringify(X) + ".");return new Vc();}});vf=Fb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ha,X){if(!(X instanceof od))throw new xb("Incorrect key data type " + X + ".");this.rsaKeys[ha]=X;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ha){delete this.rsaKeys[ha];},getPublicKey:function(ha){return this.rsaKeys[ha];}});Qd=Fb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ha,X,T){}});ud=Fb.Class.create({abort:function(){},close:function(ha,X){},write:function(ha,X,T,V,ba){},flush:function(ha,X){}});wf=Fb.Class.create({init:function(ha){Object.defineProperties(this,{_data:{value:ha,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Xb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ha,X,T){bb(T,function(){var V;if(this._closed)throw new Xb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ha && (ha=this._data.length - this._currentPosition);V=this._data.subarray(this._currentPosition,this._currentPosition + ha);this._currentPosition+=V.length;return V;},this);}});xf=Fb.Class.create({init:function(){var ha;ha={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ha);},abort:function(){},close:function(ha,X){this._closed=!0;X.result(!0);},write:function(ha,X,T,V,ba){bb(ba,function(){var W;if(this._closed)throw new Xb("Stream is already closed.");if(0 > X)throw new RangeError("Offset cannot be negative.");if(0 > T)throw new RangeError("Length cannot be negative.");if(X + T > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");W=ha.subarray(X,T);this._buffered.push(W);return W.length;},this);},flush:function(ha,X){var T;for(;0 < this._buffered.length;){if((ha=this._buffered.shift(),this._result)){T=new Uint8Array(this._result.length + ha.length);T.set(this._result);T.set(ha,this._result.length);this._result=T;}else this._result=new Uint8Array(ha);}X.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});yf=Fb.Class.create({getResponse:function(ha,X,T){}});(function(){var ha,X;ha=ud.extend({init:function(T,V){T={_httpLocation:{value:T,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:V,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new xf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Db,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Db,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Zc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(T){this._timeout=T;},getResponse:function(T,V){var ba;ba=this;this._responseQueue.poll(T,{result:function(W){bb(V,function(){W && this._responseQueue.add(W);return W;},ba);},timeout:function(){bb(V,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();V.timeout();},ba);},error:function(W){bb(V,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw W;},ba);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(T,V){var ba;ba=this;bb(V,function(){var W;if(this._response)return !0;W=this._buffer.toByteArray();0 < W.length && (this._abortToken=this._httpLocation.getResponse({body:W},this._timeout,{result:function(ja){ba._response={response:ja};ba._responseQueue.add(ba._response);},timeout:function(){ba._response={isTimeout:!0};ba._responseQueue.add(ba._response);},error:function(ja){ba._response={isError:!0,error:ja};ba._responseQueue.add(ba._response);}}));return !0;},this);},write:function(T,V,ba,W,ja){bb(ja,function(){if(this._response)throw new Xb("HttpOutputStream already closed.");this._buffer.write(T,V,ba,W,ja);},this);},flush:function(T,V){bb(V,function(){if(this._response)return !0;this._buffer.flush(T,V);},this);}});X=Qd.extend({init:function(T){Object.defineProperties(this,{_out:{value:T,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Db,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Db,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Db,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(T,V,ba){var ja;function W(wa){bb(ba,function(){if(!wa)return new Uint8Array(0);this._out.getResponse(V,{result:function(ta){bb(ba,function(){var la;if(ta.isTimeout)(this._timedout=!0,ba.timeout());else {if(ta.isError)throw (this._exception=ta.error || new Xb("Unknown HTTP exception."),this._exception);if(!ta.response)throw (this._exception=new Xb("Missing HTTP response."),this._exception);ta.response.json !== Db && (this._json=ta.response.json,this.getJSON=function(){return ja._json;});la=ta.response.content || Bd("string" === typeof ta.response.body?ta.response.body:JSON.stringify(this._json));this._buffer=new wf(la);this._buffer.read(T,V,ba);}},ja);},timeout:function(){ba.timeout();},error:function(ta){ba.error(ta);}});},ja);}ja=this;bb(ba,function(){if(this._exception)throw this._exception;if(this._timedout)ba.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(T,V,ba):this._out.close(V,{result:function(wa){W(wa);},timeout:function(){ba.timeout();},error:function(wa){ba.error(wa);}});}},ja);}});he=Fb.Class.create({init:function(T,V){Object.defineProperties(this,{_httpLocation:{value:T,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:V,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(T){this._timeout=T;},openConnection:function(){var T;T=new ha(this._httpLocation,this._timeout);return {input:new X(T),output:T};}});})();(function(){var ha,X;ha=ud.extend({init:function(){var T;T={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(){},getResponse:function(T,V){V.result({success:!1,content:null,errorHttpCode:Db,errorSubCode:Db});},abort:function(){},close:function(T,V){V.result(!0);},write:function(T,V,ba,W,ja){var wa,ta;try{if(0 > V)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(V + ba > T.length)throw new RangeError("Offset plus length cannot be greater than the array length.");wa=T.subarray(V,ba);ta=new Uint8Array(this._buffer.length + wa.length);ta.set(this._buffer);ta.set(wa,this._buffer.length);this._buffer=ta;ja.result(wa.length);}catch(la){ja.error(la);}},flush:function(T,V){V.result(!0);},request:function(){return this._buffer;}});X=Qd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(T,V,ba){ba.result(new Uint8Array(16));}});ie=Fb.Class.create({init:function(){var T;T={output:{value:new ha(),writable:!1,enumerable:!1,configurable:!1},input:{value:new X(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Ad(this.output.request());}});})();xe=function(ha,X,T){(function(V,ba,W){V.read(-1,ba,{result:function(ja){ja && ja.length?W(null,ja):W(null,null);},timeout:function(){T.timeout();},error:function(ja){W(ja,null);}});})(ha,X,function(V,ba){var W,ja;if(V)T.error(V);else if(ba){if(ha.getJSON !== Db && "function" === typeof ha.getJSON)T.result(ha.getJSON());else {V=T.result;ba=new zf(ec(ba,"utf-8"));W=[];for(ja=ba.nextValue();ja !== Db;){W.push(ja);ja=ba.nextValue();}V.call(T,W);}}else T.result(null);});};kc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(kc);(function(){cd=Fb.Class.create({init:function(ha){Object.defineProperties(this,{keyExchangeScheme:{value:ha,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof cd?this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});ye=function(ha,X,T){Ma(T,function(){var V,ba,W;V=X.scheme;ba=X.keydata;if(!V || !ba || "object" !== typeof ba)throw new Gb(S.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(X));if(!kc[V])throw new Ub(S.UNIDENTIFIED_KEYX_SCHEME,V);W=ha.getKeyExchangeFactory(V);if(!W)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,V);W.createRequestData(ha,ba,T);});};})();(function(){dd=Fb.Class.create({init:function(ha,X){Object.defineProperties(this,{masterToken:{value:ha,writable:!1,configurable:!1},keyExchangeScheme:{value:X,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.mastertoken=this.masterToken;ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof dd?this.masterToken.equals(ha.masterToken) && this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});ze=function(ha,X,T){Ma(T,function(){var V,ba,W;V=X.mastertoken;ba=X.scheme;W=X.keydata;if(!ba || !V || "object" !== typeof V || !W || "object" !== typeof W)throw new Gb(S.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(X));if(!kc[ba])throw new Ub(S.UNIDENTIFIED_KEYX_SCHEME,ba);ed(ha,V,{result:function(ja){Ma(T,function(){var wa;wa=ha.getKeyExchangeFactory(ba);if(!wa)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,ba);return wa.createResponseData(ha,ja,W);});},error:function(ja){T.error(ja);}});});};})();(function(){var ha;ha=Fb.Class.create({init:function(X,T){Object.defineProperties(this,{keyResponseData:{value:X,writable:!1,configurable:!1},cryptoContext:{value:T,writable:!1,configurable:!1}});}});mc=Fb.Class.create({init:function(X){Object.defineProperties(this,{scheme:{value:X,writable:!1,configurable:!1}});},createRequestData:function(X,T,V){},createResponseData:function(X,T,V){},generateResponse:function(X,T,V,ba){},getCryptoContext:function(X,T,V,ba,W){},generateSessionKeys:function(X,T){Ma(T,function(){var V,ba;V=new Uint8Array(16);ba=new Uint8Array(32);X.getRandom().nextBytes(V);X.getRandom().nextBytes(ba);tc(V,oc,Dc,{result:function(W){tc(ba,pc,Mc,{result:function(ja){T.result({encryptionKey:W,hmacKey:ja});},error:function(ja){T.error(new vb(S.SESSION_KEY_CREATION_FAILURE,null,ja));}});},error:function(W){T.error(new vb(S.SESSION_KEY_CREATION_FAILURE,null,W));}});});},importSessionKeys:function(X,T,V){tc(X,oc,Dc,{result:function(ba){tc(T,pc,Mc,{result:function(W){V.result({encryptionKey:ba,hmacKey:W});},error:function(W){V.error(W);}});},error:function(ba){V.error(ba);}});}});mc.KeyExchangeData=ha;})();(function(){var X,T,V;function ha(ba,W,ja,wa,ta){Ma(ta,function(){var la,sa;switch(W){case X.PSK:(la=new yc(wa),sa=ba.getEntityAuthenticationFactory(Wb.PSK));if(!sa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,W);la=sa.getCryptoContext(ba,la);return new vc(ba,wc.A128KW,qc,Db);case X.MGK:la=new xc(wa);sa=ba.getEntityAuthenticationFactory(Wb.MGK);if(!sa)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,W);la=sa.getCryptoContext(ba,la);return new vc(ba,wc.A128KW,qc,Db);case X.WRAP:la=ba.getMslCryptoContext();la.unwrap(ja,sc,Ec,{result:function(za){Ma(ta,function(){return new vc(ba,wc.A128KW,qc,za);});},error:ta.error});break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,W);}});}X={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};T=Ae=cd.extend({init:function wa(W,ja){wa.base.call(this,kc.JWE_LADDER);switch(W){case X.WRAP:if(!ja)throw new xb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ja=null;}Object.defineProperties(this,{mechanism:{value:W,writable:!1,configurable:!1},wrapdata:{value:ja,writable:!1,configurable:!1}});},getKeydata:function(){var W;W={};W.mechanism=this.mechanism;this.wrapdata && (W.wrapdata=Kb(this.wrapdata));return W;},equals:function wa(ja){return ja === this?!0:ja instanceof Ae?wa.base.call(this,ja) && this.mechanism == ja.mechanism && gc(this.wrapdata,ja.wrapdata):!1;},uniqueKey:function wa(){var ta;ta=wa.base.call(this) + ":" + this.mechanism;this.wrapdata && (ta+=":" + hc(this.wrapdata));return ta;}});V=Be=dd.extend({init:function aa(ta,la,sa,za,ma){aa.base.call(this,ta,kc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:la,writable:!1,configurable:!1},wrapdata:{value:sa,writable:!1,configurable:!1},encryptionKey:{value:za,writable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,configurable:!1}});},getKeydata:function(){var ta;ta={};ta.wrapkey=Kb(this.wrapKey);ta.wrapdata=Kb(this.wrapdata);ta.encryptionkey=Kb(this.encryptionKey);ta.hmackey=Kb(this.hmacKey);return ta;},equals:function sa(la){return this === la?!0:la instanceof Be?sa.base.call(this,la) && gc(this.wrapKey,la.wrapKey) && gc(this.wrapdata,la.wrapdata) && gc(this.encryptionKey,la.encryptionKey) && gc(this.hmacKey,la.hmacKey):!1;},uniqueKey:function sa(){return sa.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});mc.extend({init:function ma(za){ma.base.call(this,kc.JWE_LADDER);Object.defineProperties(this,{repository:{value:za,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(za,ma,aa){Ma(aa,function(){var da,ia,xa;da=ma.mechanism;ia=ma.wrapdata;if(!da || da == X.WRAP && (!ia || "string" !== typeof ia))throw new Gb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ma));if(!X[da])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,da);switch(da){case X.WRAP:try{xa=Mb(ia);}catch(Ta){throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + ma.toString());}if(null == xa || 0 == xa.length)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + ma.toString());break;default:xa=null;}return new T(da,xa);});},createResponseData:function(za,ma,aa){var da,ia,xa,Ta,La,Sa,Va;za=aa.wrapkey;da=aa.wrapdata;ia=aa.encryptionkey;xa=aa.hmackey;if(!(za && "string" === typeof za && da && "string" === typeof da && ia && "string" === typeof ia && xa) || "string" !== typeof xa)throw new Gb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Ta=Mb(za);La=Mb(da);}catch(qa){throw new vb(S.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(aa),qa);}try{Sa=Mb(ia);}catch(qa){throw new vb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),qa);}try{Va=Mb(xa);}catch(qa){throw new vb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),qa);}return new V(ma,Ta,La,Sa,Va);},generateResponse:function(za,ma,aa,da){var Sa,Va;function ia(qa,ya,Ca){Sa.generateSessionKeys(za,{result:function(Ia){Ma(da,function(){xa(qa,ya,Ca,Ia.encryptionKey,Ia.hmacKey);},Sa);},error:function(Ia){Ma(da,function(){Ia instanceof fb && Ia.setEntity(Va);throw Ia;});}});}function xa(qa,ya,Ca,Ia,Ba){Ma(da,function(){ha(za,ma.mechanism,ma.wrapdata,qa,{result:function(Ua){Ua.wrap(ya,{result:function(Ha){Ta(ya,Ca,Ia,Ba,Ha);},error:function(Ha){Ma(da,function(){Ha instanceof fb && Ha.setEntity(Va);throw Ha;});}});},error:function(Ua){Ma(da,function(){Ua instanceof fb && Ua.setEntity(Va);throw Ua;});}});},Sa);}function Ta(qa,ya,Ca,Ia,Ba){Ma(da,function(){var Ua;Ua=new vc(za,wc.A128KW,qc,qa);Ua.wrap(Ca,{result:function(Ha){Ua.wrap(Ia,{result:function(Ya){La(ya,Ba,Ca,Ha,Ia,Ya);},error:function(Ya){Ma(da,function(){Ya instanceof fb && Ya.setEntity(Va);throw Ya;});}});},error:function(Ha){Ma(da,function(){Ha instanceof fb && Ha.setEntity(Va);throw Ha;});}});},Sa);}function La(qa,ya,Ca,Ia,Ba,Ua){Ma(da,function(){var Ha;Ha=za.getTokenFactory();Va?Ha.renewMasterToken(za,Va,Ca,Ba,{result:function(Ya){Ma(da,function(){var ab,Wa;ab=new lc(za,Ya);Wa=new V(Ya,ya,qa,Ia,Ua);return new mc.KeyExchangeData(Wa,ab,da);},Sa);},error:function(Ya){Ma(da,function(){Ya instanceof fb && Ya.setEntity(Va);throw Ya;});}}):Ha.createMasterToken(za,aa,Ca,Ba,{result:function(Ya){Ma(da,function(){var ab,Wa;ab=new lc(za,Ya);Wa=new V(Ya,ya,qa,Ia,Ua);return new mc.KeyExchangeData(Wa,ab,da);},Sa);},error:da.error});},Sa);}Sa=this;Ma(da,function(){var qa,ya;if(!(ma instanceof T))throw new xb("Key request data " + JSON.stringify(ma) + " was not created by this factory.");qa=aa;if(aa instanceof ic){if(!aa.isVerified())throw new ad(S.MASTERTOKEN_UNTRUSTED,aa);Va=aa;qa=aa.identity;}ya=new Uint8Array(16);za.getRandom().nextBytes(ya);tc(ya,sc,Ec,{result:function(Ca){Ma(da,function(){za.getMslCryptoContext().wrap(Ca,{result:function(Ia){ia(qa,Ca,Ia);},error:function(Ia){Ma(da,function(){Ia instanceof fb && Ia.setEntity(Va);throw Ia;},Sa);}});},Sa);},error:function(Ca){Ma(da,function(){throw new vb(S.WRAP_KEY_CREATION_FAILURE,null,Ca).setEntity(Va);},Sa);}});},Sa);},getCryptoContext:function(za,ma,aa,da,ia){var Ta;function xa(La,Sa,Va,qa,ya){Ma(ia,function(){var Ca;Ca=new vc(za,wc.A128KW,qc,ya);Ca.unwrap(Sa.encryptionKey,oc,Dc,{result:function(Ia){Ca.unwrap(Sa.hmacKey,pc,Mc,{result:function(Ba){Ma(ia,function(){this.repository.addCryptoContext(Sa.wrapdata,Ca);this.repository.removeCryptoContext(Va);return new lc(za,Sa.masterToken,qa,Ia,Ba);},Ta);},error:function(Ba){Ma(ia,function(){Ba instanceof fb && Ba.setEntity(La);throw Ba;});}});},error:function(Ia){Ma(ia,function(){Ia instanceof fb && Ia.setEntity(La);throw Ia;});}});},Ta);}Ta=this;Ma(ia,function(){var La,Sa;if(!(ma instanceof T))throw new xb("Key request data " + JSON.stringify(ma) + " was not created by this factory.");if(!(aa instanceof V))throw new xb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");La=ma.mechanism;Sa=ma.wrapdata;za.getEntityAuthenticationData(null,{result:function(Va){Ma(ia,function(){var qa,ya,Ca;qa=Va.getIdentity();switch(La){case X.PSK:ya=new yc(qa);Ca=za.getEntityAuthenticationFactory(Wb.PSK);if(!Ca)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,La).setEntity(Va);ya=Ca.getCryptoContext(za,ya);ya=new vc(za,wc.A128KW,qc,Db);break;case X.MGK:ya=new xc(qa);Ca=za.getEntityAuthenticationFactory(Wb.MGK);if(!Ca)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,La).setEntity(Va);ya=Ca.getCryptoContext(za,ya);ya=new vc(za,wc.A128KW,qc,ya.wrapKey);break;case X.WRAP:ya=this.repository.getCryptoContext(Sa);if(!ya)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,Kb(Sa)).setEntity(Va);break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,La).setEntity(Va);}ya.unwrap(aa.wrapKey,sc,Ec,{result:function(Ia){xa(Va,aa,Sa,qa,Ia);},error:function(Ia){Ma(ia,function(){Ia instanceof fb && Ia.setEntity(Va);throw Ia;});}});},Ta);},error:ia.error});},Ta);}});})();(function(){var X,T,V,ba;function ha(W,ja,wa,ta,la){Ma(la,function(){var sa,za;switch(ja){case X.PSK:(sa=new yc(ta),za=W.getEntityAuthenticationFactory(Wb.PSK));if(!za)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ja);sa=za.getCryptoContext(W,sa);return new ba(Db);case X.MGK:sa=new xc(ta);za=W.getEntityAuthenticationFactory(Wb.MGK);if(!za)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ja);sa=za.getCryptoContext(W,sa);return new ba(Db);case X.WRAP:sa=W.getMslCryptoContext();sa.unwrap(wa,sc,Ec,{result:function(ma){Ma(la,function(){return new ba(ma);});},error:la.error});break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,ja);}});}X={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};T=Ce=cd.extend({init:function ta(ja,wa){ta.base.call(this,kc.JWK_LADDER);switch(ja){case X.WRAP:if(!wa)throw new xb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:wa=null;}Object.defineProperties(this,{mechanism:{value:ja,writable:!1,configurable:!1},wrapdata:{value:wa,writable:!1,configurable:!1}});},getKeydata:function(){var ja;ja={};ja.mechanism=this.mechanism;this.wrapdata && (ja.wrapdata=Kb(this.wrapdata));return ja;},equals:function ta(wa){return wa === this?!0:wa instanceof Ce?ta.base.call(this,wa) && this.mechanism == wa.mechanism && gc(this.wrapdata,wa.wrapdata):!1;},uniqueKey:function ta(){var la;la=ta.base.call(this) + ":" + this.mechanism;this.wrapdata && (la+=":" + hc(this.wrapdata));return la;}});V=De=dd.extend({init:function da(la,sa,za,ma,aa){da.base.call(this,la,kc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:sa,writable:!1,configurable:!1},wrapdata:{value:za,writable:!1,configurable:!1},encryptionKey:{value:ma,writable:!1,configurable:!1},hmacKey:{value:aa,writable:!1,configurable:!1}});},getKeydata:function(){var la;la={};la.wrapkey=Kb(this.wrapKey);la.wrapdata=Kb(this.wrapdata);la.encryptionkey=Kb(this.encryptionKey);la.hmackey=Kb(this.hmacKey);return la;},equals:function za(sa){return this === sa?!0:sa instanceof De?za.base.call(this,sa) && gc(this.wrapKey,sa.wrapKey) && gc(this.wrapdata,sa.wrapdata) && gc(this.encryptionKey,sa.encryptionKey) && gc(this.hmacKey,sa.hmacKey):!1;},uniqueKey:function za(){return za.base.call(this) + ":" + hc(this.wrapKey) + ":" + hc(this.wrapdata) + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});ba=Uc.extend({init:function(za){za && za.rawKey && (za=za.rawKey);Object.defineProperties(this,{_wrapKey:{value:za,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(za,ma){ma.error(new vb(S.ENCRYPT_NOT_SUPPORTED));},decrypt:function(za,ma){ma.error(new vb(S.DECRYPT_NOT_SUPPORTED));},wrap:function(za,ma){Ma(ma,function(){Pb.wrapKey("jwk",za.rawKey,this._wrapKey,sc).then(function(aa){ma.result(aa);},function(aa){ma.error(new vb(S.WRAP_ERROR));});},this);},unwrap:function(za,ma,aa,da){function ia(xa){Ma(da,function(){switch(xa.type){case "secret":bd(xa,da);break;case "public":Jc(xa,da);break;case "private":Sc(xa,da);break;default:throw new vb(S.UNSUPPORTED_KEY,"type: " + xa.type);}});}Ma(da,function(){Pb.unwrapKey("jwk",za,this._wrapKey,sc,ma,!1,aa).then(function(xa){ia(xa);},function(xa){da.error(new vb(S.UNWRAP_ERROR));});},this);},sign:function(za,ma){ma.error(new vb(S.SIGN_NOT_SUPPORTED));},verify:function(za,ma,aa){aa.error(new vb(S.VERIFY_NOT_SUPPORTED));}});mc.extend({init:function aa(ma){aa.base.call(this,kc.JWK_LADDER);Object.defineProperties(this,{repository:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ma,aa,da){Ma(da,function(){var ia,xa,Ta;ia=aa.mechanism;xa=aa.wrapdata;if(!ia || ia == X.WRAP && (!xa || "string" !== typeof xa))throw new Gb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));if(!X[ia])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,ia);switch(ia){case X.WRAP:try{Ta=Mb(xa);}catch(La){throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + aa.toString());}if(null == Ta || 0 == Ta.length)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,"keydata " + aa.toString());break;default:Ta=null;}return new T(ia,Ta);});},createResponseData:function(ma,aa,da){var ia,xa,Ta,La,Sa,Va,qa;ma=da.wrapkey;ia=da.wrapdata;xa=da.encryptionkey;Ta=da.hmackey;if(!(ma && "string" === typeof ma && ia && "string" === typeof ia && xa && "string" === typeof xa && Ta) || "string" !== typeof Ta)throw new Gb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));try{La=Mb(ma);Sa=Mb(ia);}catch(ya){throw new vb(S.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(da),ya);}try{Va=Mb(xa);}catch(ya){throw new vb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(da),ya);}try{qa=Mb(Ta);}catch(ya){throw new vb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(da),ya);}return new V(aa,La,Sa,Va,qa);},generateResponse:function(ma,aa,da,ia){var Va,qa;function xa(ya,Ca,Ia){Va.generateSessionKeys(ma,{result:function(Ba){Ma(ia,function(){Ta(ya,Ca,Ia,Ba.encryptionKey,Ba.hmacKey);},Va);},error:function(Ba){Ma(ia,function(){Ba instanceof fb && Ba.setEntity(qa);throw Ba;});}});}function Ta(ya,Ca,Ia,Ba,Ua){Ma(ia,function(){ha(ma,aa.mechanism,aa.wrapdata,ya,{result:function(Ha){Ha.wrap(Ca,{result:function(Ya){La(Ca,Ia,Ba,Ua,Ya);},error:function(Ya){Ma(ia,function(){Ya instanceof fb && Ya.setEntity(qa);throw Ya;});}});},error:function(Ha){Ma(ia,function(){Ha instanceof fb && Ha.setEntity(qa);throw Ha;});}});},Va);}function La(ya,Ca,Ia,Ba,Ua){Ma(ia,function(){var Ha;Ha=new ba(ya);Ha.wrap(Ia,{result:function(Ya){Ha.wrap(Ba,{result:function(ab){Sa(Ca,Ua,Ia,Ya,Ba,ab);},error:function(ab){Ma(ia,function(){ab instanceof fb && ab.setEntity(qa);throw ab;});}});},error:function(Ya){Ma(ia,function(){Ya instanceof fb && Ya.setEntity(qa);throw Ya;});}});},Va);}function Sa(ya,Ca,Ia,Ba,Ua,Ha){Ma(ia,function(){var Ya;Ya=ma.getTokenFactory();qa?Ya.renewMasterToken(ma,qa,Ia,Ua,{result:function(ab){Ma(ia,function(){var Wa,kb;Wa=new lc(ma,ab);kb=new V(ab,Ca,ya,Ba,Ha);return new mc.KeyExchangeData(kb,Wa,ia);},Va);},error:function(ab){Ma(ia,function(){ab instanceof fb && ab.setEntity(qa);throw ab;});}}):Ya.createMasterToken(ma,da,Ia,Ua,{result:function(ab){Ma(ia,function(){var Wa,kb;Wa=new lc(ma,ab);kb=new V(ab,Ca,ya,Ba,Ha);return new mc.KeyExchangeData(kb,Wa,ia);},Va);},error:ia.error});},Va);}Va=this;Ma(ia,function(){var ya,Ca;if(!(aa instanceof T))throw new xb("Key request data " + JSON.stringify(aa) + " was not created by this factory.");ya=da;if(da instanceof ic){if(!da.isVerified())throw new ad(S.MASTERTOKEN_UNTRUSTED,da);qa=da;ya=da.identity;}Ca=new Uint8Array(16);ma.getRandom().nextBytes(Ca);tc(Ca,sc,Ec,{result:function(Ia){Ma(ia,function(){ma.getMslCryptoContext().wrap(Ia,{result:function(Ba){xa(ya,Ia,Ba);},error:function(Ba){Ma(ia,function(){Ba instanceof fb && Ba.setEntity(qa);throw Ba;},Va);}});},Va);},error:function(Ia){Ma(ia,function(){throw new vb(S.WRAP_KEY_CREATION_FAILURE,null,Ia).setEntity(qa);},Va);}});},Va);},getCryptoContext:function(ma,aa,da,ia,xa){var La;function Ta(Sa,Va,qa,ya,Ca){Ma(xa,function(){var Ia;Ia=new ba(Ca);Ia.unwrap(Va.encryptionKey,oc,Dc,{result:function(Ba){Ia.unwrap(Va.hmacKey,pc,Mc,{result:function(Ua){Ma(xa,function(){this.repository.addCryptoContext(Va.wrapdata,Ia);this.repository.removeCryptoContext(qa);return new lc(ma,Va.masterToken,ya,Ba,Ua);},La);},error:function(Ua){Ma(xa,function(){Ua instanceof fb && Ua.setEntity(Sa);throw Ua;});}});},error:function(Ba){Ma(xa,function(){Ba instanceof fb && Ba.setEntity(Sa);throw Ba;});}});},La);}La=this;Ma(xa,function(){var Sa,Va;if(!(aa instanceof T))throw new xb("Key request data " + JSON.stringify(aa) + " was not created by this factory.");if(!(da instanceof V))throw new xb("Key response data " + JSON.stringify(da) + " was not created by this factory.");Sa=aa.mechanism;Va=aa.wrapdata;ma.getEntityAuthenticationData(null,{result:function(qa){Ma(xa,function(){var ya,Ca,Ia;ya=qa.getIdentity();switch(Sa){case X.PSK:Ca=new yc(ya);Ia=ma.getEntityAuthenticationFactory(Wb.PSK);if(!Ia)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Sa).setEntity(qa);Ca=Ia.getCryptoContext(ma,Ca);Ca=new ba(Ca.wrapKey);break;case X.MGK:Ca=new xc(ya);Ia=ma.getEntityAuthenticationFactory(Wb.MGK);if(!Ia)throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Sa).setEntity(qa);Ca=Ia.getCryptoContext(ma,Ca);Ca=new ba(Ca.wrapKey);break;case X.WRAP:Ca=this.repository.getCryptoContext(Va);if(!Ca)throw new Ub(S.KEYX_WRAPPING_KEY_MISSING,Kb(Va)).setEntity(qa);break;default:throw new Ub(S.UNSUPPORTED_KEYX_MECHANISM,Sa).setEntity(qa);}Ca.unwrap(da.wrapKey,sc,Ec,{result:function(Ba){Ta(qa,da,Va,ya,Ba);},error:function(Ba){Ma(xa,function(){Ba instanceof fb && Ba.setEntity(qa);throw Ba;});}});},La);},error:xa.error});},La);}});})();Af=Fb.Class.create({addCryptoContext:function(ha,X){},getCryptoContext:function(ha){},removeCryptoContext:function(ha){}});(function(){var X,T,V,ba;function ha(W,ja,wa,ta,la){switch(wa){case X.JWE_RSA:case X.JWEJS_RSA:return new vc(W,wc.RSA_OAEP,qc,ta,la);case X.JWK_RSA:return new pd(W,ja,ta,la,qd.WRAP_UNWRAP_OAEP);case X.JWK_RSAES:return new pd(W,ja,ta,la,qd.WRAP_UNWRAP_PKCS1);default:throw new vb(S.UNSUPPORTED_KEYX_MECHANISM,wa);}}X=Ee={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};T=Dd=cd.extend({init:function sa(ja,wa,ta,la){sa.base.call(this,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ja,writable:!1,configurable:!1},mechanism:{value:wa,writable:!1,configurable:!1},publicKey:{value:ta,writable:!1,configurable:!1},privateKey:{value:la,writable:!1,configurable:!1}});},getKeydata:function(){var ja;ja={};ja.keypairid=this.keyPairId;ja.mechanism=this.mechanism;ja.publickey=Kb(this.publicKey.getEncoded());return ja;},equals:function ta(wa){var la;if(wa === this)return !0;if(!(wa instanceof Dd))return !1;la=this.privateKey === wa.privateKey || this.privateKey && wa.privateKey && gc(this.privateKey.getEncoded(),wa.privateKey.getEncoded());return ta.base.call(this,wa) && this.keyPairId == wa.keyPairId && this.mechanism == wa.mechanism && gc(this.publicKey.getEncoded(),wa.publicKey.getEncoded()) && la;},uniqueKey:function ta(){var la,sa;la=this.publicKey.getEncoded();sa=this.privateKey && this.privateKey.getEncoded();la=ta.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + hc(la);sa && (la+=":" + hc(sa));return la;}});V=function(ta,la){Ma(la,function(){var sa,za,ma,aa;sa=ta.keypairid;za=ta.mechanism;ma=ta.publickey;if(!sa || "string" !== typeof sa || !za || !ma || "string" !== typeof ma)throw new Gb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ta));if(!X[za])throw new Ub(S.UNIDENTIFIED_KEYX_MECHANISM,za);try{aa=Mb(ma);switch(za){case X.JWE_RSA:case X.JWEJS_RSA:case X.JWK_RSA:Id(aa,nd,Ec,{result:function(da){la.result(new T(sa,za,da,null));},error:function(da){la.error(da);}});break;case X.JWK_RSAES:Id(aa,Gd,Ec,{result:function(da){la.result(new T(sa,za,da,null));},error:function(da){la.error(da);}});break;default:throw new vb(S.UNSUPPORTED_KEYX_MECHANISM,za);}}catch(da){if(!(da instanceof fb))throw new vb(S.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(ta),da);throw da;}});};ba=Fe=dd.extend({init:function aa(la,sa,za,ma){aa.base.call(this,la,kc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:sa,writable:!1,configurable:!1},encryptionKey:{value:za,writable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,configurable:!1}});},getKeydata:function(){var la;la={};la.keypairid=this.keyPairId;la.encryptionkey=Kb(this.encryptionKey);la.hmackey=Kb(this.hmacKey);return la;},equals:function za(sa){return this === sa?!0:sa instanceof Fe?za.base.call(this,sa) && this.keyPairId == sa.keyPairId && gc(this.encryptionKey,sa.encryptionKey) && gc(this.hmacKey,sa.hmacKey):!1;},uniqueKey:function za(){return za.base.call(this) + ":" + this.keyPairId + ":" + hc(this.encryptionKey) + ":" + hc(this.hmacKey);}});je=mc.extend({init:function ma(){ma.base.call(this,kc.ASYMMETRIC_WRAPPED);},createRequestData:function(ma,aa,da){V(aa,da);},createResponseData:function(ma,aa,da){var ia,xa,Ta,La;ma=da.keypairid;ia=da.encryptionkey;xa=da.hmackey;if(!ma || "string" !== typeof ma || !ia || "string" !== typeof ia || !xa || "string" !== typeof xa)throw new Gb(S.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));try{Ta=Mb(ia);}catch(Sa){throw new vb(S.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(da),Sa);}try{La=Mb(xa);}catch(Sa){throw new vb(S.INVALID_HMAC_KEY,"keydata " + JSON.stringify(da),Sa);}return new ba(aa,ma,Ta,La);},generateResponse:function(ma,aa,da,ia){var La;function xa(Sa,Va){Ma(ia,function(){var qa;qa=ha(ma,aa.keyPairId,aa.mechanism,null,aa.publicKey);qa.wrap(Sa,{result:function(ya){Ma(ia,function(){qa.wrap(Va,{result:function(Ca){Ta(Sa,ya,Va,Ca);},error:function(Ca){Ma(ia,function(){Ca instanceof fb && da instanceof ic && Ca.setEntity(da);throw Ca;},La);}});},La);},error:function(ya){Ma(ia,function(){ya instanceof fb && da instanceof ic && ya.setEntity(da);throw ya;},La);}});},La);}function Ta(Sa,Va,qa,ya){Ma(ia,function(){var Ca;Ca=ma.getTokenFactory();da instanceof ic?Ca.renewMasterToken(ma,da,Sa,qa,{result:function(Ia){Ma(ia,function(){var Ba,Ua;Ba=new lc(ma,Ia);Ua=new ba(Ia,aa.keyPairId,Va,ya);return new mc.KeyExchangeData(Ua,Ba,ia);},La);},error:function(Ia){Ma(ia,function(){Ia instanceof fb && Ia.setEntity(da);throw Ia;},La);}}):Ca.createMasterToken(ma,da,Sa,qa,{result:function(Ia){Ma(ia,function(){var Ba,Ua;Ba=new lc(ma,Ia);Ua=new ba(Ia,aa.keyPairId,Va,ya);return new mc.KeyExchangeData(Ua,Ba,ia);},La);},error:ia.error});},La);}La=this;Ma(ia,function(){if(!(aa instanceof T))throw new xb("Key request data " + JSON.stringify(aa) + " was not created by this factory.");this.generateSessionKeys(ma,{result:function(Sa){xa(Sa.encryptionKey,Sa.hmacKey);},error:function(Sa){Ma(ia,function(){Sa instanceof fb && da instanceof ic && Sa.setEntity(da);throw Sa;},La);}});},La);},getCryptoContext:function(ma,aa,da,ia,xa){var Ta;Ta=this;Ma(xa,function(){var La,Sa,Va;if(!(aa instanceof T))throw new xb("Key request data " + JSON.stringify(aa) + " was not created by this factory.");if(!(da instanceof ba))throw new xb("Key response data " + JSON.stringify(da) + " was not created by this factory.");La=aa.keyPairId;Sa=da.keyPairId;if(La != Sa)throw new Ub(S.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + La + "; response " + Sa).setEntity(ia);Sa=aa.privateKey;if(!Sa)throw new Ub(S.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ia);Va=ha(ma,La,aa.mechanism,Sa,null);Va.unwrap(da.encryptionKey,oc,Dc,{result:function(qa){Va.unwrap(da.hmacKey,pc,Mc,{result:function(ya){ma.getEntityAuthenticationData(null,{result:function(Ca){Ma(xa,function(){var Ia;Ia=Ca.getIdentity();return new lc(ma,da.masterToken,Ia,qa,ya);},Ta);},error:function(Ca){Ma(xa,function(){Ca instanceof fb && Ca.setEntity(ia);throw Ca;},Ta);}});},error:function(ya){Ma(xa,function(){ya instanceof fb && ya.setEntity(ia);throw ya;},Ta);}});},error:function(qa){Ma(xa,function(){qa instanceof fb && qa.setEntity(ia);throw qa;},Ta);}});},Ta);}});})();zf=Fb.Class.create({init:function(ha){var X,T,V,ba,W,ja,wa,ta;X=$b.parser();T=[];V=[];wa=0;ta=!1;X.onerror=function(la){ta || (ta=!0,X.end());};X.onopenobject=function(la){var sa;if(ba)(ba[ja]={},V.push(ba),ba=ba[ja]);else if(W){sa={};V.push(W);W.push(sa);ba=sa;W=Db;}else ba={};ja=la;};X.oncloseobject=function(){var la;la=V.pop();la?"object" === typeof la?ba=la:(ba=Db,W=la):(T.push(ba),wa=X.index,ba=Db);};X.onopenarray=function(){var la;if(ba)(ba[ja]=[],V.push(ba),W=ba[ja],ba=Db);else if(W){la=[];V.push(W);W.push(la);W=la;}else W=[];};X.onclosearray=function(){var la;la=V.pop();la?"object" === typeof la?(ba=la,W=Db):W=la:(T.push(W),wa=X.index,W=Db);};X.onkey=function(la){ja=la;};X.onvalue=function(la){ba?ba[ja]=la:W?W.push(la):(T.push(la),wa=X.index);};X.write(ha).close();Object.defineProperties(this,{_values:{value:T,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:wa,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Db:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ha,X,T,V,ba;ha=Rd="entityauthdata";X=He="mastertoken";T=Ie="headerdata";V=Je="errordata";ba=Sd="signature";Ge=function(W,ja,wa,ta){Ma(ta,function(){var la,sa,za,ma,aa,da;la=ja[ha];sa=ja[X];za=ja[ba];if(la && "object" !== typeof la || sa && "object" !== typeof sa || "string" !== typeof za)throw new Gb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ja));try{ma=Mb(za);}catch(ia){throw new Nb(S.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ja),ia);}aa=null;la && (aa=se(W,la));da=ja[T];if(da != Db && null != da){if("string" !== typeof da)throw new Gb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ja));sa?ed(W,sa,{result:function(ia){Td(W,da,aa,ia,ma,wa,ta);},error:function(ia){ta.error(ia);}}):Td(W,da,aa,null,ma,wa,ta);}else if((la=ja[V],la != Db && null != la)){if("string" !== typeof la)throw new Gb(S.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ja));Ke(W,la,aa,ma,ta);}else throw new Gb(S.JSON_PARSE_ERROR,JSON.stringify(ja));});};})();(function(){function ha(X,T){this.errordata=X;this.signature=T;}Ic=Fb.Class.create({init:function(X,T,V,ba,W,ja,wa,ta,la,sa){var za;za=this;Ma(sa,function(){var ma,aa;0 > ja && (ja=-1);if(0 > ba || ba > Qb)throw new xb("Message ID " + ba + " is out of range.");if(!T)throw new Nb(S.MESSAGE_ENTITY_NOT_FOUND);if(la)return (Object.defineProperties(this,{entityAuthenticationData:{value:T,writable:!1,configurable:!1},recipient:{value:V,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},errorCode:{value:W,writable:!1,configurable:!1},internalCode:{value:ja,writable:!1,configurable:!1},errorMessage:{value:wa,writable:!1,configurable:!1},userMessage:{value:ta,writable:!1,configurable:!1},errordata:{value:la.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:la.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ma={};V && (ma.recipient=V);ma.messageid=ba;ma.errorcode=W;0 < ja && (ma.internalcode=ja);wa && (ma.errormsg=wa);ta && (ma.usermsg=ta);try{aa=X.getEntityAuthenticationFactory(T.scheme).getCryptoContext(X,T);}catch(da){throw (da instanceof fb && (da.setEntity(T),da.setMessageId(ba)),da);}ma=fc(JSON.stringify(ma),Tb);aa.encrypt(ma,{result:function(da){Ma(sa,function(){aa.sign(da,{result:function(ia){Ma(sa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:T,writable:!1,configurable:!1},recipient:{value:V,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},errorCode:{value:W,writable:!1,configurable:!1},internalCode:{value:ja,writable:!1,configurable:!1},errorMessage:{value:wa,writable:!1,configurable:!1},userMessage:{value:ta,writable:!1,configurable:!1},errordata:{value:da,writable:!1,enumerable:!1,configurable:!1},signature:{value:ia,writable:!1,enumerable:!1,configurable:!1}});return this;},za);},error:function(ia){Ma(sa,function(){ia instanceof fb && (ia.setEntity(T),ia.setMessageId(ba));throw ia;},za);}});},za);},error:function(da){Ma(sa,function(){da instanceof fb && (da.setEntity(T),da.setMessageId(ba));throw da;},za);}});},za);},toJSON:function(){var X;X={};X[Rd]=this.entityAuthenticationData;X[Je]=Kb(this.errordata);X[Sd]=Kb(this.signature);return X;}});Le=function(X,T,V,ba,W,ja,wa,ta,la){new Ic(X,T,V,ba,W,ja,wa,ta,null,la);};Ke=function(X,T,V,ba,W){Ma(W,function(){var ja,wa,ta;if(!V)throw new Nb(S.MESSAGE_ENTITY_NOT_FOUND);try{ja=V.scheme;wa=X.getEntityAuthenticationFactory(ja);if(!wa)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,ja);ta=wa.getCryptoContext(X,V);}catch(la){throw (la instanceof fb && la.setEntity(V),la);}try{T=Mb(T);}catch(la){throw new Nb(S.HEADER_DATA_INVALID,T,la).setEntity(V);}if(!T || 0 == T.length)throw new Nb(S.HEADER_DATA_MISSING,T).setEntity(V);ta.verify(T,ba,{result:function(la){Ma(W,function(){if(!la)throw new vb(S.MESSAGE_VERIFICATION_FAILED).setEntity(V);ta.decrypt(T,{result:function(sa){Ma(W,function(){var za,ma,aa,da,ia,xa,Ta,La;za=ec(sa,Tb);try{ma=JSON.parse(za);}catch(Va){if(Va instanceof SyntaxError)throw new Gb(S.JSON_PARSE_ERROR,"errordata " + za,Va).setEntity(V);throw Va;}aa=ma.recipient !== Db?ma.recipient:null;da=parseInt(ma.messageid);ia=parseInt(ma.errorcode);xa=parseInt(ma.internalcode);Ta=ma.errormsg;La=ma.usermsg;if(aa && "string" !== typeof aa || !da || da != da || !ia || ia != ia || ma.internalcode && xa != xa || Ta && "string" !== typeof Ta || La && "string" !== typeof La)throw new Gb(S.JSON_PARSE_ERROR,"errordata " + za).setEntity(V);if(0 > da || da > Qb)throw new Nb(S.MESSAGE_ID_OUT_OF_RANGE,"errordata " + za).setEntity(V);ma=!1;for(var Sa in Ea){if(Ea[Sa] == ia){ma=!0;break;}}ma || (ia=Ea.FAIL);if(xa){if(0 > xa)throw new Nb(S.INTERNAL_CODE_NEGATIVE,"errordata " + za).setEntity(V).setMessageId(da);}else xa=-1;za=new ha(T,ba);new Ic(X,V,aa,da,ia,xa,Ta,La,za,W);});},error:function(sa){Ma(W,function(){sa instanceof fb && sa.setEntity(V);throw sa;});}});});},error:function(la){Ma(W,function(){la instanceof fb && la.setEntity(V);throw la;});}});});};})();Bf=Fb.Class.create({getUserMessage:function(ha,X){}});(function(){Ud=function(ha,X){var T;if(!ha || !X)return null;T=ha.compressionAlgorithms.filter(function(V){for(var ba=0;ba < X.compressionAlgorithms.length;++ba){if(V == X.compressionAlgorithms[ba])return !0;}return !1;});ha=ha.languages.filter(function(V){for(var ba=0;ba < X.languages.length;++ba){if(V == X.languages[ba])return !0;}return !1;});return new fd(T,ha);};fd=Fb.Class.create({init:function(ha,X){ha || (ha=[]);X || (X=[]);ha.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ha,writable:!1,enumerable:!0,configurable:!1},languages:{value:X,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ha;ha={};ha.compressionalgos=this.compressionAlgorithms;ha.languages=this.languages;return ha;},equals:function(ha){return this === ha?!0:ha instanceof fd?ce(this.compressionAlgorithms,ha.compressionAlgorithms) && ce(this.languages,ha.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Me=function(ha){var X,T,ba;X=ha.compressionalgos;T=ha.languages;if(X && !(X instanceof Array) || T && !(T instanceof Array))throw new Gb(S.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ha));ha=[];for(var V=0;X && V < X.length;++V){ba=X[V];Kc[ba] && ha.push(ba);}return new fd(ha,T);};})();(function(){var sa,za;function ha(ma,aa,da,ia,xa){this.customer=ma;this.sender=aa;this.messageCryptoContext=da;this.headerdata=ia;this.signature=xa;}function X(ma,aa,da,ia,xa,Ta,La,Sa,Va,qa,ya,Ca,Ia,Ba,Ua,Ha,Ya,ab,Wa,kb){return {cryptoContext:{value:aa,writable:!1,configurable:!1},customer:{value:da,writable:!1,configurable:!1},entityAuthenticationData:{value:ia,writable:!1,configurable:!1},masterToken:{value:xa,writable:!1,configurable:!1},sender:{value:Ta,writable:!1,configurable:!1},messageId:{value:La,writable:!1,configurable:!1},nonReplayableId:{value:Ha,writable:!1,configurable:!1},keyRequestData:{value:Sa,writable:!1,configurable:!1},keyResponseData:{value:Va,writable:!1,configurable:!1},userAuthenticationData:{value:qa,writable:!1,configurable:!1},userIdToken:{value:ya,writable:!1,configurable:!1},serviceTokens:{value:Ca,writable:!1,configurable:!1},peerMasterToken:{value:Ia,writable:!1,configurable:!1},peerUserIdToken:{value:Ba,writable:!1,configurable:!1},peerServiceTokens:{value:Ua,writable:!1,configurable:!1},messageCapabilities:{value:ab,writable:!1,configurable:!1},renewable:{value:Ya,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Wa,writable:!1,enumerable:!1,configurable:!1},signature:{value:kb,writable:!1,enumerable:!1,configurable:!1}};}function T(ma,aa,da){var ia;if(da){if(aa=ma.getMslStore().getCryptoContext(da))return aa;if(!da.isVerified() || !da.isDecrypted())throw new ad(S.MASTERTOKEN_UNTRUSTED,da);return new lc(ma,da);}da=aa.scheme;ia=ma.getEntityAuthenticationFactory(da);if(!ia)throw new rc(S.ENTITYAUTH_FACTORY_NOT_FOUND,da);return ia.getCryptoContext(ma,aa);}function V(ma,aa,da,ia,xa){Ma(xa,function(){aa.verify(da,ia,{result:function(Ta){Ma(xa,function(){if(!Ta)throw new vb(S.MESSAGE_VERIFICATION_FAILED);aa.decrypt(da,{result:function(La){Ma(xa,function(){return ec(La,Tb);});},error:function(La){xa.error(La);}});});},error:function(Ta){xa.error(Ta);}});});}function ba(ma,aa,da){Ma(da,function(){if(aa)ze(ma,aa,da);else return null;});}function W(ma,aa,da,ia){Ma(ia,function(){if(aa)vd(ma,aa,da,ia);else return null;});}function ja(ma,aa,da,ia){Ma(ia,function(){if(da)Qe(ma,aa,da,ia);else return null;});}function wa(ma,aa,da,ia,xa,Ta,La){var Va;function Sa(qa,ya,Ca){var Ia,Ba;if(ya >= qa.length){Ia=[];for(Ba in Va){Ia.push(Va[Ba]);}Ca.result(Ia);}else {Ia=qa[ya];if("object" !== typeof Ia)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + Ta);wd(ma,Ia,da,ia,xa,{result:function(Ua){Ma(Ca,function(){Va[Ua.uniqueKey()]=Ua;Sa(qa,ya + 1,Ca);});},error:function(Ua){Ca.error(Ua);}});}}Va={};Ma(La,function(){if(aa){if(!(aa instanceof Array))throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + Ta);Sa(aa,0,La);}else return [];});}function ta(ma,aa,da,ia,xa,Ta){function La(Va,qa,ya){Ma(ya,function(){var Ca;Ca=qa.peermastertoken;if(Ca && "object" !== typeof Ca)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + xa);if(!Ca)return null;ed(Va,Ca,ya);});}function Sa(Va,qa,ya,Ca){Ma(Ca,function(){var Ia;Ia=qa.peeruseridtoken;if(Ia && "object" !== typeof Ia)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + xa);if(!Ia)return null;vd(Va,Ia,ya,Ca);});}Ma(Ta,function(){if(!ma.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};La(ma,aa,{result:function(Va){Ma(Ta,function(){var qa;qa=da?da.masterToken:Va;Sa(ma,aa,qa,{result:function(ya){Ma(Ta,function(){wa(ma,aa.peerservicetokens,qa,ya,ia,xa,{result:function(Ca){Ma(Ta,function(){return {peerMasterToken:Va,peerUserIdToken:ya,peerServiceTokens:Ca};});},error:function(Ca){Ma(Ta,function(){Ca instanceof fb && (Ca.setEntity(qa),Ca.setUser(ya));throw Ca;});}});});},error:function(ya){Ma(Ta,function(){ya instanceof fb && ya.setEntity(qa);throw ya;});}});});},error:Ta.error});});}function la(ma,aa,da,ia){var Ta;function xa(La,Sa){Ma(ia,function(){if(Sa >= La.length)return Ta;ye(ma,La[Sa],{result:function(Va){Ma(ia,function(){Ta.push(Va);xa(La,Sa + 1);});},error:function(Va){ia.error(Va);}});});}Ta=[];Ma(ia,function(){var La;La=aa.keyrequestdata;if(!La)return Ta;if(!(La instanceof Array))throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + da);xa(La,0);});}sa=Oe=Fb.Class.create({init:function(ma,aa,da,ia,xa,Ta,La,Sa,Va){Object.defineProperties(this,{messageId:{value:ma,writable:!1,configurable:!1},nonReplayableId:{value:aa,writable:!1,configurable:!1},renewable:{value:da,writable:!1,configurable:!1},capabilities:{value:ia,writable:!1,configurable:!1},keyRequestData:{value:xa,writable:!1,configurable:!1},keyResponseData:{value:Ta,writable:!1,configurable:!1},userAuthData:{value:La,writable:!1,configurable:!1},userIdToken:{value:Sa,writable:!1,configurable:!1},serviceTokens:{value:Va,writable:!1,configurable:!1}});}});za=Pe=Fb.Class.create({init:function(ma,aa,da){Object.defineProperties(this,{peerMasterToken:{value:ma,writable:!1,configurable:!1},peerUserIdToken:{value:aa,writable:!1,configurable:!1},peerServiceTokens:{value:da,writable:!1,configurable:!1}});}});gd=Fb.Class.create({init:function(ma,aa,da,ia,xa,Ta,La){var Va;function Sa(qa){Ma(La,function(){var ya,Ca,Ia,Ba,Ua,Ha,Ya,ab,Wa,kb,ob,qb,rb,sb,Cb,Ab,ra;aa=da?null:aa;ya=ia.nonReplayableId;Ca=ia.renewable;Ia=ia.capabilities;Ba=ia.messageId;Ua=ia.keyRequestData?ia.keyRequestData:[];Ha=ia.keyResponseData;Ya=ia.userAuthData;ab=ia.userIdToken;Wa=ia.serviceTokens?ia.serviceTokens:[];if(ma.isPeerToPeer()){kb=xa.peerMasterToken;ob=xa.peerUserIdToken;qb=xa.peerServiceTokens?xa.peerServiceTokens:[];}else (ob=kb=null,qb=[]);if(0 > Ba || Ba > Qb)throw new xb("Message ID " + Ba + " is out of range.");if(!aa && !da)throw new xb("Message entity authentication data or master token must be provided.");if(Ha){if(ma.isPeerToPeer()){rb=da;sb=Ha.masterToken;}else (rb=Ha.masterToken,sb=kb);}else (rb=da,sb=kb);if(ab && (!rb || !ab.isBoundTo(rb)))throw new xb("User ID token must be bound to a master token.");if(ob && (!sb || !ob.isBoundTo(sb)))throw new xb("Peer user ID token must be bound to a peer master token.");Wa.forEach(function(Da){if(Da.isMasterTokenBound() && (!rb || !Da.isBoundTo(rb)))throw new xb("Master token bound service tokens must be bound to the provided master token.");if(Da.isUserIdTokenBound() && (!ab || !Da.isBoundTo(ab)))throw new xb("User ID token bound service tokens must be bound to the provided user ID token.");},this);qb.forEach(function(Da){if(Da.isMasterTokenBound() && (!sb || !Da.isBoundTo(sb)))throw new xb("Master token bound peer service tokens must be bound to the provided peer master token.");if(Da.isUserIdTokenBound() && (!ob || !Da.isBoundTo(ob)))throw new xb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ta){ra=Ta.customer;Cb=Ta.messageCryptoContext;Ab=X(ma,Cb,ra,aa,da,qa,Ba,Ua,Ha,Ya,ab,Wa,kb,ob,qb,ya,Ca,Ia,Ta.headerdata,Ta.signature);Object.defineProperties(this,Ab);return this;}ra=ab?ab.customer:null;Ab={};qa && (Ab.sender=qa);Ab.messageid=Ba;"number" === typeof ya && (Ab.nonreplayableid=ya);Ab.renewable=Ca;Ia && (Ab.capabilities=Ia);0 < Ua.length && (Ab.keyrequestdata=Ua);Ha && (Ab.keyresponsedata=Ha);Ya && (Ab.userauthdata=Ya);ab && (Ab.useridtoken=ab);0 < Wa.length && (Ab.servicetokens=Wa);kb && (Ab.peermastertoken=kb);ob && (Ab.peeruseridtoken=ob);0 < qb.length && (Ab.peerservicetokens=qb);try{Cb=T(ma,aa,da);}catch(Da){throw (Da instanceof fb && (Da.setEntity(da),Da.setEntity(aa),Da.setUser(ab),Da.setUser(Ya),Da.setMessageId(Ba)),Da);}Ab=fc(JSON.stringify(Ab),Tb);Cb.encrypt(Ab,{result:function(Da){Ma(La,function(){Cb.sign(Da,{result:function(Na){Ma(La,function(){var r;r=X(ma,Cb,ra,aa,da,qa,Ba,Ua,Ha,Ya,ab,Wa,kb,ob,qb,ya,Ca,Ia,Da,Na);Object.defineProperties(this,r);return this;},Va);},error:function(Na){Ma(La,function(){Na instanceof fb && (Na.setEntity(da),Na.setEntity(aa),Na.setUser(ab),Na.setUser(Ya),Na.setMessageId(Ba));throw Na;},Va);}});},Va);},error:function(Da){Ma(La,function(){Da instanceof fb && (Da.setEntity(da),Da.setEntity(aa),Da.setUser(ab),Da.setUser(Ya),Da.setMessageId(Ba));throw Da;},Va);}});},Va);}Va=this;Ma(La,function(){Ta?Sa(Ta.sender):da?ma.getEntityAuthenticationData(null,{result:function(qa){qa=qa.getIdentity();Sa(qa);},error:La.error}):Sa(null);},Va);},isEncrypting:function(){return this.masterToken || Cd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var ma;ma={};this.masterToken?ma[He]=this.masterToken:ma[Rd]=this.entityAuthenticationData;ma[Ie]=Kb(this.headerdata);ma[Sd]=Kb(this.signature);return ma;}});Ne=function(ma,aa,da,ia,xa,Ta){new gd(ma,aa,da,ia,xa,null,Ta);};Td=function(ma,aa,da,ia,xa,Ta,La){Ma(La,function(){var Sa,Va;da=ia?null:da;if(!da && !ia)throw new Nb(S.MESSAGE_ENTITY_NOT_FOUND);Sa=aa;try{aa=Mb(Sa);}catch(qa){throw new Nb(S.HEADER_DATA_INVALID,Sa,qa);}if(!aa || 0 == aa.length)throw new Nb(S.HEADER_DATA_MISSING,Sa);try{Va=T(ma,da,ia);}catch(qa){throw (qa instanceof fb && (qa.setEntity(ia),qa.setEntity(da)),qa);}V(ma,Va,aa,xa,{result:function(qa){Ma(La,function(){var ya,Ca,Ia,Ba,Ua;try{ya=JSON.parse(qa);}catch(Ha){if(Ha instanceof SyntaxError)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa,Ha).setEntity(ia).setEntity(da);throw Ha;}Ca=parseInt(ya.messageid);if(!Ca || Ca != Ca)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa).setEntity(ia).setEntity(da);if(0 > Ca || Ca > Qb)throw new Nb(S.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + qa).setEntity(ia).setEntity(da);Ia=ia?ya.sender:null;if(ia && (!Ia || "string" !== typeof Ia))throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa).setEntity(ia).setEntity(da).setMessageId(Ca);Ba=ya.keyresponsedata;if(Ba && "object" !== typeof Ba)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa).setEntity(ia).setEntity(da).setMessageId(Ca);Ua=La;La={result:function(Ha){Ua.result(Ha);},error:function(Ha){Ha instanceof fb && (Ha.setEntity(ia),Ha.setEntity(da),Ha.setMessageId(Ca));Ua.error(Ha);}};ba(ma,Ba,{result:function(Ha){Ma(La,function(){var Ya,ab;Ya=!ma.isPeerToPeer() && Ha?Ha.masterToken:ia;ab=ya.useridtoken;if(ab && "object" !== typeof ab)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa);W(ma,ab,Ya,{result:function(Wa){Ma(La,function(){var kb;kb=ya.userauthdata;if(kb && "object" !== typeof kb)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa);ja(ma,Ya,kb,{result:function(ob){Ma(La,function(){var qb,rb,sb;if(ob){qb=ob.scheme;rb=ma.getUserAuthenticationFactory(qb);if(!rb)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,qb).setUser(Wa).setUser(ob);qb=ia?ia.identity:da.getIdentity();sb=rb.authenticate(ma,qb,ob,Wa);}else sb=Wa?Wa.customer:null;wa(ma,ya.servicetokens,Ya,Wa,Ta,qa,{result:function(Cb){Ma(La,function(){var Ab,ra,Da,Na;Ab=ya.nonreplayableid !== Db?parseInt(ya.nonreplayableid):null;ra=ya.renewable;if(Ab != Ab || "boolean" !== typeof ra)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa);if(0 > Ab || Ab > Qb)throw new Nb(S.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + qa);Da=null;Na=ya.capabilities;if(Na){if("object" !== typeof Na)throw new Gb(S.JSON_PARSE_ERROR,"headerdata " + qa);Da=Me(Na);}la(ma,ya,qa,{result:function(r){ta(ma,ya,Ha,Ta,qa,{result:function(b){Ma(La,function(){var a,c,k,f;a=b.peerMasterToken;c=b.peerUserIdToken;k=b.peerServiceTokens;f=new sa(Ca,Ab,ra,Da,r,Ha,ob,Wa,Cb);a=new za(a,c,k);c=new ha(sb,Ia,Va,aa,xa);new gd(ma,da,ia,f,a,c,La);});},error:La.error});},error:function(r){Ma(La,function(){r instanceof fb && (r.setUser(Wa),r.setUser(ob));throw r;});}});});},error:function(Cb){Ma(La,function(){Cb instanceof fb && (Cb.setEntity(Ya),Cb.setUser(Wa),Cb.setUser(ob));throw Cb;});}});});},error:La.error});});},error:La.error});});},error:La.error});});},error:La.error});});};})();(function(){function ha(X,T){this.payload=X;this.signature=T;}Vd=Fb.Class.create({init:function(X,T,V,ba,W,ja,wa,ta){var la;la=this;Ma(ta,function(){var sa,za;if(0 > X || X > Qb)throw new xb("Sequence number " + X + " is outside the valid range.");if(0 > T || T > Qb)throw new xb("Message ID " + T + " is outside the valid range.");if(wa)return (Object.defineProperties(this,{sequenceNumber:{value:X,writable:!1,configurable:!1},messageId:{value:T,writable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},data:{value:W,writable:!1,configurable:!1},endofmsg:{value:V,writable:!1,enumerable:!1,configurable:!1},payload:{value:wa.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:wa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ba){sa=Wd(ba,W);sa || (ba=null,sa=W);}else (ba=null,sa=W);za={};za.sequencenumber=X;za.messageid=T;V && (za.endofmsg=V);ba && (za.compressionalgo=ba);za.data=Kb(sa);sa=fc(JSON.stringify(za),Tb);ja.encrypt(sa,{result:function(ma){Ma(ta,function(){ja.sign(ma,{result:function(aa){Ma(ta,function(){Object.defineProperties(this,{sequenceNumber:{value:X,writable:!1,configurable:!1},messageId:{value:T,writable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},data:{value:W,writable:!1,configurable:!1},endofmsg:{value:V,writable:!1,enumerable:!1,configurable:!1},payload:{value:ma,writable:!1,enumerable:!1,configurable:!1},signature:{value:aa,writable:!1,enumerable:!1,configurable:!1}});return this;},la);},error:function(aa){ta.error(aa);}});},la);},error:function(ma){ta.error(ma);}});},la);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var X;X={};X.payload=Kb(this.payload);X.signature=Kb(this.signature);return X;}});Re=function(X,T,V,ba,W,ja,wa){new Vd(X,T,V,ba,W,ja,null,wa);};Se=function(X,T,V){Ma(V,function(){var ba,W,ja,wa;ba=X.payload;W=X.signature;if(!ba || "string" !== typeof ba || "string" !== typeof W)throw new Gb(S.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(X));try{ja=Mb(ba);}catch(ta){throw new Nb(S.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(X),ta);}try{wa=Mb(W);}catch(ta){throw new Nb(S.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(X),ta);}T.verify(ja,wa,{result:function(ta){Ma(V,function(){if(!ta)throw new vb(S.PAYLOAD_VERIFICATION_FAILED);T.decrypt(ja,{result:function(la){Ma(V,function(){var sa,za,ma,aa,da,ia,xa;sa=ec(la,Tb);try{za=JSON.parse(sa);}catch(Ta){if(Ta instanceof SyntaxError)throw new Gb(S.JSON_PARSE_ERROR,"payload chunk payload " + sa,Ta);throw Ta;}ma=parseInt(za.sequencenumber);aa=parseInt(za.messageid);da=za.endofmsg;ia=za.compressionalgo;za=za.data;if(!ma || ma != ma || !aa || aa != aa || da && "boolean" !== typeof da || ia && "string" !== typeof ia || "string" !== typeof za)throw new Gb(S.JSON_PARSE_ERROR,"payload chunk payload " + sa);if(0 > ma || ma > Qb)throw new fb(S.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + sa);if(0 > aa || aa > Qb)throw new fb(S.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + sa);da || (da=!1);if(ia && !Kc[ia])throw new Nb(S.UNIDENTIFIED_COMPRESSION,ia);try{xa=Mb(za);}catch(Ta){throw new Nb(S.PAYLOAD_DATA_CORRUPT,za,Ta);}if(xa && 0 != xa.length)sa=ia?xd(ia,xa):xa;else {if(0 < za.length)throw new Nb(S.PAYLOAD_DATA_CORRUPT,za);if(da)sa=new Uint8Array(0);else throw new Nb(S.PAYLOAD_DATA_MISSING,za);}xa=new ha(ja,wa);new Vd(ma,aa,da,ia,sa,T,xa,V);});},error:function(la){V.error(la);}});});},error:function(ta){V.error(ta);}});});};})();(function(){var V,ba;function ha(W,ja,wa,ta,la){var za,ma,aa,da,ia;function sa(){Ma(la,function(){var xa,Ta;ma >= ja.length && (ma=0,++za);if(za >= aa.length){if(da)throw da;throw new Ub(S.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ja));}xa=aa[za];Ta=ja[ma];xa.scheme != Ta.keyExchangeScheme?(++ma,sa()):xa.generateResponse(W,Ta,ia,{result:function(La){la.result(La);},error:function(La){Ma(la,function(){if(!(La instanceof fb))throw La;da=La;++ma;sa();});}});});}za=0;ma=0;aa=W.getKeyExchangeFactories();ia=wa?wa:ta;sa();}function X(W,ja,wa,ta,la){Ma(la,function(){var sa;sa=ja.keyRequestData;if(ja.isRenewable() && 0 < sa.length)ta?ta.isRenewable() || ta.isExpired()?ha(W,sa,ta,null,la):W.getTokenFactory().isNewestMasterToken(W,ta,{result:function(za){Ma(la,function(){if(za)return null;ha(W,sa,ta,null,la);});},error:la.error}):ha(W,sa,null,wa.getIdentity(),la);else return null;});}function T(W,ja,wa,ta){Ma(ta,function(){var la,sa,za,ma;la=ja.userIdToken;sa=ja.userAuthenticationData;za=ja.messageId;if(la && la.isVerified()){if(la.isRenewable() && ja.isRenewable() || la.isExpired() || !la.isBoundTo(wa)){sa=W.getTokenFactory();sa.renewUserIdToken(W,la,wa,ta);return;}}else if(ja.isRenewable() && wa && sa){la=ja.customer;if(!la){la=sa.scheme;ma=W.getUserAuthenticationFactory(la);if(!ma)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,la).setEntity(wa).setUser(sa).setMessageId(za);la=ma.authenticate(W,wa.identity,sa,null);}sa=W.getTokenFactory();sa.createUserIdToken(W,la,wa,ta);return;}return la;});}V=new Uint8Array(0);ba=Nc=function(W){if(0 > W || W > Qb)throw new xb("Message ID " + W + " is outside the valid range.");return W == Qb?0:W + 1;};Wc=function(W){if(0 > W || W > Qb)throw new xb("Message ID " + W + " is outside the valid range.");return 0 == W?Qb:W - 1;};Oc=function(W,ja,wa,ta,la){Ma(la,function(){var sa;if(ta == Db || null == ta){sa=W.getRandom();do {ta=sa.nextLong();}while(0 > ta || ta > Qb);}else if(0 > ta || ta > Qb)throw new xb("Message ID " + ta + " is outside the valid range.");W.getEntityAuthenticationData(null,{result:function(za){Ma(la,function(){var ma;ma=W.getMessageCapabilities();return new yd(W,ta,ma,za,ja,wa,null,null,null,null,null);});},error:function(za){la.error(za);}});});};Te=function(W,ja,wa){Ma(wa,function(){var la,sa,za,ma,aa,da;function ta(ia){Ma(wa,function(){ia instanceof fb && (ia.setEntity(la),ia.setEntity(sa),ia.setUser(za),ia.setUser(ma),ia.setMessageId(aa));throw ia;});}la=ja.masterToken;sa=ja.entityAuthenticationData;za=ja.userIdToken;ma=ja.userAuthenticationData;aa=ja.messageId;da=ba(aa);X(W,ja,sa,la,{result:function(ia){Ma(wa,function(){var xa;xa=ia?ia.keyResponseData.masterToken:xa=la;W.getEntityAuthenticationData(null,{result:function(Ta){Ma(wa,function(){T(W,ja,xa,{result:function(La){Ma(wa,function(){var Sa,Va,qa;za=La;Sa=Ud(ja.messageCapabilities,W.getMessageCapabilities());Va=ja.keyResponseData;qa=ja.serviceTokens;return W.isPeerToPeer()?new yd(W,da,Sa,Ta,Va?Va.masterToken:ja.peerMasterToken,ja.peerUserIdToken,ja.peerServiceTokens,la,za,qa,ia):new yd(W,da,Sa,Ta,Va?Va.masterToken:la,za,qa,null,null,null,ia);});},error:ta});});},error:ta});});},error:ta});});};Ue=function(W,ja,wa,ta,la){Ma(la,function(){W.getEntityAuthenticationData(null,{result:function(sa){Ma(la,function(){var za,ma;if(ja != Db && null != ja)za=ba(ja);else {ma=W.getRandom();do {za=ma.nextInt();}while(0 > za || za > Qb);}Le(W,sa,za,wa.responseCode,wa.internalCode,wa.message,ta,la);});},error:function(sa){la.error(sa);}});});};yd=Fb.Class.create({init:function(W,ja,wa,ta,la,sa,za,ma,aa,da,ia){var xa,Ta,La,Sa,Va;if(!W.isPeerToPeer() && (ma || aa))throw new xb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");xa=ia && !W.isPeerToPeer()?ia.keyResponseData.masterToken:la;Ta=[];xa=W.getMslStore().getServiceTokens(xa,sa);Ta.push.apply(Ta,xa);za && za.forEach(function(qa){Ta.push(qa);},this);La=[];if(W.isPeerToPeer()){Sa=ma;Va=aa;za=ia?ia.keyResponseData.masterToken:ma;aa=W.getMslStore().getServiceTokens(za,aa);La.push.apply(La,aa);da && da.forEach(function(qa){La.push(qa);},this);}Object.defineProperties(this,{_ctx:{value:W,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ta,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:la,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ja,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:wa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ia,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:sa,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ta,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Sa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Va,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:La,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Cd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Cd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || de(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || de(this._entityAuthData.scheme);},getHeader:function(W){Ma(W,function(){var ja,wa,ta;ja=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;wa=[];for(ta in this._keyRequestData){wa.push(this._keyRequestData[ta]);}if(this._nonReplayable){if(!this._masterToken)throw new Nb(S.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);ta=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else ta=null;ja=new Oe(this._messageId,ta,this._renewable,this._capabilities,wa,ja,this._userAuthData,this._userIdToken,this._serviceTokens);wa=new Pe(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Ne(this._ctx,this._entityAuthData,this._masterToken,ja,wa,W);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(W){this._nonReplayable=W;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(W){this._renewable=W;return this;},setAuthTokens:function(W,ja){var wa,la;if(ja && !ja.isBoundTo(W))throw new xb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new xb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{wa=this._ctx.getMslStore().getServiceTokens(W,ja);}catch(sa){if(sa instanceof fb)throw new xb("Invalid master token and user ID token combination despite checking above.",sa);throw sa;}for(var ta=this._serviceTokens.length - 1;0 <= ta;--ta){la=this._serviceTokens[ta];(la.isUserIdTokenBound() && !la.isBoundTo(ja) || la.isMasterTokenBound() && !la.isBoundTo(W)) && this._serviceTokens.splice(ta,1);}wa.forEach(function(sa){this.excludeServiceToken(sa.name,sa.isMasterTokenBound(),sa.isUserIdTokenBound());this._serviceTokens.push(sa);},this);this._masterToken=W;this._userIdToken=ja;},setUserAuthenticationData:function(W){this._userAuthData=W;return this;},setCustomer:function(W,ja){var wa;wa=this;Ma(ja,function(){var ta;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new xb("User ID token or peer user ID token already exists for the remote user.");ta=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!ta)throw new xb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,W,ta,{result:function(la){Ma(ja,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=la:(this._userIdToken=la,this._userAuthData=null);return !0;},wa);},error:function(la){ja.error(la);}});},wa);},addKeyRequestData:function(W){this._keyRequestData[W.uniqueKey()]=W;return this;},removeKeyRequestData:function(W){delete this._keyRequestData[W.uniqueKey()];return this;},addServiceToken:function(W){var ja;ja=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(W.isMasterTokenBound() && !W.isBoundTo(ja))throw new Nb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; mt " + JSON.stringify(ja)).setEntity(ja);if(W.isUserIdTokenBound() && !W.isBoundTo(this._userIdToken))throw new Nb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ja).setUser(this._userIdToken);this.excludeServiceToken(W.name,W.isMasterTokenBound(),W.isUserIdTokenBound());this._serviceTokens.push(W);return this;},addServiceTokenIfAbsent:function(W){var wa;for(var ja=this._serviceTokens.length - 1;0 <= ja;--ja){wa=this._serviceTokens[ja];if(wa.name == W.name && wa.isMasterTokenBound() == W.isMasterTokenBound() && wa.isUserIdTokenBound() == W.isUserIdTokenBound())return this;}this.addServiceToken(W);return this;},excludeServiceToken:function(){var W,ja,wa,la;if(1 == arguments.length){W=arguments[0];ja=W.name;wa=W.isMasterTokenBound();W=W.isUserIdTokenBound();}else (arguments.length=3,ja=arguments[0],wa=arguments[1],W=arguments[2]);for(var ta=this._serviceTokens.length - 1;0 <= ta;--ta){la=this._serviceTokens[ta];la.name == ja && la.isMasterTokenBound() == wa && la.isUserIdTokenBound() == W && this._serviceTokens.splice(ta,1);}return this;},deleteServiceToken:function(){var W,ja,wa,ta;if(2 == arguments.length){W=arguments[0];ja=W.name;W.isMasterTokenBound();W.isUserIdTokenBound();wa=arguments[1];}else (arguments.length=4,ja=arguments[0],wa=arguments[3]);ta=this;Ma(wa,function(){var la,sa;la=originalToken.isMasterTokenBound()?this._masterToken:null;sa=originalToken.isUserIdTokenBound()?this._userIdToken:null;zc(this._ctx,ja,V,la,sa,!1,null,new Vc(),{result:function(za){Ma(wa,function(){return this.addServiceToken(za);},ta);},error:function(za){za instanceof fb && (za=new xb("Failed to create and add empty service token to message.",za));wa.error(za);}});},ta);},getServiceTokens:function(){var W;W=[];W.push.apply(W,this._serviceTokens);return W;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(W,ja){var wa,la;if(!this._ctx.isPeerToPeer())throw new xb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ja && !W)throw new xb("Peer master token cannot be null when setting peer user ID token.");if(ja && !ja.isBoundTo(W))throw new Nb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ja + "; mt " + W).setEntity(W).setUser(ja);try{wa=this._ctx.getMslStore().getServiceTokens(W,ja);}catch(sa){if(sa instanceof fb)throw new xb("Invalid peer master token and user ID token combination despite proper check.",sa);throw sa;}for(var ta=this._peerServiceTokens.length - 1;0 <= ta;--ta){la=this._peerServiceTokens[ta];(la.isUserIdTokenBound() && !la.isBoundTo(ja) || la.isMasterTokenBound() && !la.isBoundTo(W)) && this._peerServiceTokens.slice(ta,1);}wa.forEach(function(sa){this.excludePeerServiceToken(sa.name,sa.isMasterTokenBound(),sa.isUserIdTokenBound());this._peerServiceTokens.push(sa);},this);this._peerUserIdToken=ja;this._peerMasterToken=W;return this;},addPeerServiceToken:function(W){if(!this._ctx.isPeerToPeer())throw new xb("Cannot set peer service tokens when not in peer-to-peer mode.");if(W.isMasterTokenBound() && !W.isBoundTo(this._peerMasterToken))throw new Nb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(W.isUserIdTokenBound() && !W.isBoundTo(this._peerUserIdToken))throw new Nb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(W) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(W.name,W.isMasterTokenBound(),W.isUserIdTokenBound());this._peerServiceTokens.push(W);return this;},addPeerServiceTokenIfAbsent:function(W){var wa;for(var ja=this._peerServiceTokens.length - 1;0 <= ja;--ja){wa=this._peerServiceTokens[ja];if(wa.name == W.name && wa.isMasterTokenBound() == W.isMasterTokenBound() && wa.isUserIdTokenBound() == W.isUserIdTokenBound())return this;}this.addPeerServiceToken(W);return this;},excludePeerServiceToken:function(){var W,ja,wa,la;if(1 == arguments.length){W=arguments[0];ja=W.name;wa=W.isMasterTokenBound();W=W.isUserIdTokenBound();}else (arguments.length=3,ja=arguments[0],wa=arguments[1],W=arguments[2]);for(var ta=this._peerServiceTokens.length - 1;0 <= ta;--ta){la=this._peerServiceTokens[ta];la.name == ja && la.isMasterTokenBound() == wa && la.isUserIdTokenBound() == W && this._peerServiceTokens.splice(ta,1);}return this;},deletePeerServiceToken:function(){var W,ja,wa,ta,la,sa;if(2 == arguments.length){W=arguments[0];ja=W.name;wa=W.isMasterTokenBound();ta=W.isUserIdTokenBound();la=arguments[1];}else (arguments.length=4,ja=arguments[0],wa=arguments[1],ta=arguments[2],la=arguments[3]);sa=this;Ma(la,function(){zc(this._ctx,ja,V,wa?this._peerMasterToken:null,ta?this._peerUserIdToken:null,!1,null,new Vc(),{result:function(za){Ma(la,function(){return this.addPeerServiceToken(za);},sa);},error:function(za){za instanceof fb && (za=new xb("Failed to create and add empty peer service token to message.",za));la.error(za);}});},sa);},getPeerServiceTokens:function(){var W;W=[];W.push.apply(W,this._peerServiceTokens);return W;}});})();(function(){function ha(T,V){return V[T]?V[T]:V[""];}function X(T){var V;V=T.builder.getKeyExchangeData();return V && !T.ctx.isPeerToPeer()?V.keyResponseData.masterToken:T.builder.getMasterToken();}Ve=Fb.Class.create({init:function(T,V,ba){T={ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:V.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ba,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,T);},isPrimaryMasterTokenAvailable:function(){return X(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(T){try{return (this.builder.addServiceToken(T),!0);}catch(V){if(V instanceof Nb)return !1;throw V;}},addPeerServiceToken:function(T){try{return (this.builder.addPeerServiceToken(T),!0);}catch(V){if(V instanceof Nb)return !1;throw V;}},addUnboundPrimaryServiceToken:function(T,V,ba,W,ja){var wa;wa=this;Ma(ja,function(){var ta;ta=ha(T,this.cryptoContexts);if(!ta)return !1;zc(this.ctx,T,V,null,null,ba,W,ta,{result:function(la){Ma(ja,function(){try{this.builder.addServiceToken(la);}catch(sa){if(sa instanceof Nb)throw new xb("Service token bound to incorrect authentication tokens despite being unbound.",sa);throw sa;}return !0;},wa);},error:function(la){ja.error(la);}});},wa);},addUnboundPeerServiceToken:function(T,V,ba,W,ja){var wa;wa=this;Ma(ja,function(){var ta;ta=ha(T,this.cryptoContexts);if(!ta)return !1;zc(this.ctx,T,V,null,null,ba,W,ta,{result:function(la){Ma(ja,function(){try{this.builder.addPeerServiceToken(la);}catch(sa){if(sa instanceof Nb)throw new xb("Service token bound to incorrect authentication tokens despite being unbound.",sa);throw sa;}return !0;},wa);},error:function(la){ja.error(la);}});},wa);},addMasterBoundPrimaryServiceToken:function(T,V,ba,W,ja){var wa;wa=this;Ma(ja,function(){var ta,la;ta=X(this);if(!ta)return !1;la=ha(T,this.cryptoContexts);if(!la)return !1;zc(this.ctx,T,V,ta,null,ba,W,la,{result:function(sa){Ma(ja,function(){try{this.builder.addServiceToken(sa);}catch(za){if(za instanceof Nb)throw new xb("Service token bound to incorrect authentication tokens despite setting correct master token.",za);throw za;}return !0;},wa);},error:function(sa){ja.error(sa);}});},wa);},addMasterBoundPeerServiceToken:function(T,V,ba,W,ja){var wa;wa=this;Ma(ja,function(){var ta,la;ta=this.builder.getPeerMasterToken();if(!ta)return !1;la=ha(T,this.cryptoContexts);if(!la)return !1;zc(this.ctx,T,V,ta,null,ba,W,la,{result:function(sa){Ma(ja,function(){try{this.builder.addPeerServiceToken(sa);}catch(za){if(za instanceof Nb)throw new xb("Service token bound to incorrect authentication tokens despite setting correct master token.",za);throw za;}return !0;},wa);},error:function(sa){ja.error(sa);}});},wa);},addUserBoundPrimaryServiceToken:function(T,V,ba,W,ja){var wa;wa=this;Ma(ja,function(){var ta,la,sa;ta=X(this);if(!ta)return !1;la=this.builder.getUserIdToken();if(!la)return !1;sa=ha(T,this.cryptoContexts);if(!sa)return !1;zc(this.ctx,T,V,ta,la,ba,W,sa,{result:function(za){Ma(ja,function(){try{this.builder.addServiceToken(za);}catch(ma){if(ma instanceof Nb)throw new xb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ma);throw ma;}return !0;},wa);},error:function(za){ja.error(za);}});},wa);},addUserBoundPeerServiceToken:function(T,V,ba,W,ja){var wa;wa=this;Ma(ja,function(){var ta,la,sa;ta=this.builder.getPeerMasterToken();if(!ta)return !1;la=this.builder.getPeerUserIdToken();if(!la)return !1;sa=ha(T,this.cryptoContexts);if(!sa)return !1;zc(this.ctx,T,V,ta,la,ba,W,sa,{result:function(za){Ma(ja,function(){try{this.builder.addPeerServiceToken(za);}catch(ma){if(ma instanceof Nb)throw new xb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",ma);throw ma;}return !0;},wa);},error:function(za){ja.error(za);}});},wa);},excludePrimaryServiceToken:function(){var T,V,ba,W;if(1 == arguments.length){T=arguments[0];V=T.name;ba=T.isMasterTokenBound();W=T.isUserIdTokenBound();}else (arguments.length=3,V=arguments[0],ba=arguments[1],W=arguments[2]);for(var ja=this.builder.getServiceTokens(),wa=0;wa < ja.length;++wa){if((T=ja[wa],T.name == V && T.isMasterTokenBound() == ba && T.isUserIdTokenBound() == W))return (this.builder.excludeServiceToken(V,ba,W),!0);}return !1;},excludePeerServiceToken:function(){var T,V,ba,W;if(1 == arguments.length){T=arguments[0];V=T.name;ba=T.isMasterTokenBound();W=T.isUserIdTokenBound();}else (arguments.length=3,V=arguments[0],ba=arguments[1],W=arguments[2]);for(var ja=this.builder.getPeerServiceTokens(),wa=0;wa < ja.length;++wa){if((T=ja[wa],T.name == V && T.isMasterTokenBound() == ba && T.isUserIdTokenBound() == W))return (this.builder.excludePeerServiceToken(V,ba,W),!0);}return !1;},deletePrimaryServiceToken:function(){var T,V,ba,W,ja;if(2 == arguments.length){T=arguments[0];V=T.name;ba=T.isMasterTokenBound();W=T.isUserIdTokenBound();ja=arguments[1];}else 4 == arguments.length && (V=arguments[0],ba=arguments[1],W=arguments[2],ja=arguments[3]);Ma(ja,function(){var la;for(var wa=this.builder.getServiceTokens(),ta=0;ta < wa.length;++ta){la=wa[ta];if(la.name == V && la.isMasterTokenBound() == ba && la.isUserIdTokenBound() == W){this.builder.deleteServiceToken(V,ba,W,{result:function(){ja.result(!0);},error:function(sa){ja.error(sa);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var T,V,ba,W,ja;if(2 == arguments.length){T=arguments[0];V=T.name;ba=T.isMasterTokenBound();W=T.isUserIdTokenBound();ja=arguments[1];}else 4 == arguments.length && (V=arguments[0],ba=arguments[1],W=arguments[2],ja=arguments[3]);Ma(ja,function(){var la;for(var wa=this.builder.getPeerServiceTokens(),ta=0;ta < wa.length;++ta){la=wa[ta];if(la.name == V && la.isMasterTokenBound() == ba && la.isUserIdTokenBound() == W){this.builder.deletePeerServiceToken(V,ba,W,{result:function(){ja.result(!0);},error:function(sa){ja.error(sa);}});return;}}return !1;},this);}});})();(function(){function ha(X,T,V,ba){Ma(ba,function(){var ja,wa,ta,la,sa,za;function W(){Ma(ba,function(){var ma;if(za >= V.length){if(sa)throw sa;throw new Ub(S.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(V));}ma=V[za];ta != ma.keyExchangeScheme?(++za,W()):la.getCryptoContext(X,ma,wa,ja,{result:ba.result,error:function(aa){Ma(ba,function(){if(!(aa instanceof fb))throw aa;sa=aa;++za;W();});}});});}ja=T.masterToken;wa=T.keyResponseData;if(!wa)return null;ta=wa.keyExchangeScheme;la=X.getKeyExchangeFactory(ta);if(!la)throw new Ub(S.KEYX_FACTORY_NOT_FOUND,ta);za=0;W();});}We=Qd.extend({init:function(X,T,V,ba,W,ja,wa){var ta;ta=this;bb(wa,function(){var da;function la(){ta._ready=!0;ta._readyQueue.add(!0);}function sa(ia,xa){var Ta;try{Ta=xa.masterToken;ia.getTokenFactory().isMasterTokenRevoked(ia,Ta,{result:function(La){La?(ta._errored=new ad(La,Ta).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),la()):za(ia,xa);},error:function(La){La instanceof fb && (La.setEntity(xa.masterToken),La.setUser(xa.userIdToken),La.setUser(xa.userAuthenticationData),La.setMessageId(xa.messageId));ta._errored=La;la();}});}catch(La){La instanceof fb && (La.setEntity(xa.masterToken),La.setUser(xa.userIdToken),La.setUser(xa.userAuthenticationData),La.setMessageId(xa.messageId));ta._errored=La;la();}}function za(ia,xa){var Ta,La;try{Ta=xa.masterToken;La=xa.userIdToken;La?ia.getTokenFactory().isUserIdTokenRevoked(ia,Ta,La,{result:function(Sa){Sa?(ta._errored=new MslUserIdTokenException(Sa,La).setEntity(Ta).setUser(La).setMessageId(xa.messageId),la()):ma(ia,xa);},error:function(Sa){Sa instanceof fb && (Sa.setEntity(xa.masterToken),Sa.setUser(xa.userIdToken),Sa.setUser(xa.userAuthenticationData),Sa.setMessageId(xa.messageId));ta._errored=Sa;la();}}):ma(ia,xa);}catch(Sa){Sa instanceof fb && (Sa.setEntity(xa.masterToken),Sa.setUser(xa.userIdToken),Sa.setUser(xa.userAuthenticationData),Sa.setMessageId(xa.messageId));ta._errored=Sa;la();}}function ma(ia,xa){var Ta;try{Ta=xa.masterToken;Ta.isExpired()?xa.isRenewable() && 0 != xa.keyRequestData.length?ia.getTokenFactory().isMasterTokenRenewable(ia,Ta,{result:function(La){La?(ta._errored=new Nb(La,"Master token is expired and not renewable.").setEntity(Ta).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),la()):aa(ia,xa);},error:function(La){La instanceof fb && (La.setEntity(xa.masterToken),La.setUser(xa.userIdToken),La.setUser(xa.userAuthenticationData),La.setMessageId(xa.messageId));ta._errored=La;la();}}):(ta._errored=new Nb(S.MESSAGE_EXPIRED,JSON.stringify(xa)).setEntity(Ta).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),la()):aa(ia,xa);}catch(La){La instanceof fb && (La.setEntity(xa.masterToken),La.setUser(xa.userIdToken),La.setUser(xa.userAuthenticationData),La.setMessageId(xa.messageId));ta._errored=La;la();}}function aa(ia,xa){var Ta,La;try{Ta=xa.masterToken;La=xa.nonReplayableId;"number" === typeof La?Ta?ia.getTokenFactory().acceptNonReplayableId(ia,Ta,La,{result:function(Sa){Sa || (ta._errored=new Nb(S.MESSAGE_REPLAYED,JSON.stringify(xa)).setEntity(Ta).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId));la();},error:function(Sa){Sa instanceof fb && (Sa.setEntity(Ta),Sa.setUser(xa.userIdToken),Sa.setUser(xa.userAuthenticationData),Sa.setMessageId(xa.messageId));ta._errored=Sa;la();}}):(ta._errored=new Nb(S.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(xa)).setEntity(xa.entityAuthenticationData).setUser(xa.userIdToken).setUser(xa.userAuthenticationData).setMessageId(xa.messageId),la()):la();}catch(Sa){Sa instanceof fb && (Sa.setEntity(xa.masterToken),Sa.setEntity(xa.entityAuthenticationData),Sa.setUser(xa.userIdToken),Sa.setUser(xa.userAuthenticationData),Sa.setMessageId(xa.messageId));ta._errored=Sa;la();}}da={_source:{value:T,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Db,writable:!0,enumerable:!1,configurable:!1},_charset:{value:V,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ja,writable:!1,enumerable:!1,configurable:!1},_header:{value:Db,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Db,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Db,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,da);xe(ta._source,ja,{result:function(ia){ta._json=ia;ta._jsonIndex=0;null === ta._json?(ta._errored=new Gb(S.MESSAGE_DATA_MISSING),la()):Ge(X,ta._json[ta._jsonIndex++],W,{result:function(xa){var Ta;ta._header=xa;if(ta._header instanceof Ic)(ta._keyxCryptoContext=null,ta._cryptoContext=null,la());else {Ta=ta._header;ha(X,Ta,ba,{result:function(La){var Sa;try{ta._keyxCryptoContext=La;X.isPeerToPeer() || !ta._keyxCryptoContext?ta._cryptoContext=Ta.cryptoContext:ta._cryptoContext=ta._keyxCryptoContext;try{Sa=Ta.masterToken;Sa && (X.isPeerToPeer() || Sa.isVerified())?sa(X,Ta):aa(X,Ta);}catch(Va){Va instanceof fb && (Va.setEntity(Ta.masterToken),Va.setUser(Ta.userIdToken),Va.setUser(Ta.userAuthenticationData),Va.setMessageId(Ta.messageId));ta._errored=Va;la();}}catch(Va){Va instanceof fb && (Va.setEntity(Ta.masterToken),Va.setEntity(Ta.entityAuthenticationData),Va.setUser(Ta.userIdToken),Va.setUser(Ta.userAuthenticationData),Va.setMessageId(Ta.messageId));ta._errored=Va;la();}},error:function(La){La instanceof fb && (La.setEntity(Ta.masterToken),La.setEntity(Ta.entityAuthenticationData),La.setUser(Ta.userIdToken),La.setUser(Ta.userAuthenticationData),La.setMessageId(Ta.messageId));ta._errored=La;la();}});}},error:function(xa){ta._errored=xa;la();}});},timeout:function(){ta._timedout=!0;la();},error:function(ia){ta._errored=ia;la();}});return this;},ta);},nextData:function(X,T){var V;V=this;bb(T,function(){var W;function ba(ja){bb(ja,function(){var wa;if(this._jsonIndex < this._json.length)return wa=this._json[this._jsonIndex++];xe(this._source,this._timeout,{result:function(ta){ta && ta.length && 0 < ta.length?(ta.forEach(function(la){this._json.push(la);}),ba(ja)):(this._eom=!0,ja.result(null));},timeout:function(){ja.timeout();},error:function(ta){ja.error(ta);}});},V);}W=this.getMessageHeader();if(!W)throw new xb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ba({result:function(ja){bb(T,function(){if(!ja)return null;if("object" !== typeof ja)throw new Gb(S.MESSAGE_FORMAT_ERROR);Se(ja,this._cryptoContext,{result:function(wa){bb(T,function(){var ta,la,sa,za;ta=W.masterToken;la=W.entityAuthenticationData;sa=W.userIdToken;za=W.getUserAuthenticationData;if(wa.messageId != W.messageId)throw new Nb(S.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + wa.messageId + " header mid " + W.messageId).setEntity(ta).setEntity(la).setUser(sa).setUser(za);if(wa.sequenceNumber != this._payloadSequenceNumber)throw new Nb(S.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + wa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(ta).setEntity(la).setUser(sa).setUser(za);++this._payloadSequenceNumber;wa.isEndOfMessage() && (this._eom=!0);ta=wa.data;this._payloads.push(ta);this._payloadIndex=-1;return ta;},V);},error:function(wa){wa instanceof SyntaxError && (wa=new Gb(S.JSON_PARSE_ERROR,"payloadchunk",wa));T.error(wa);}});},V);},timeout:function(){T.timeout();},error:function(ja){T.error(ja);}});},V);},isReady:function(X,T){var ba;function V(){bb(T,function(){if(this._aborted)return !1;if(this._timedout)T.timeout();else {if(this._errored)throw this._errored;return !0;}},ba);}ba=this;bb(T,function(){this._ready?V():this._readyQueue.poll(X,{result:function(W){bb(T,function(){if(W === Db)return !1;V();},ba);},timeout:function(){T.timeout();},error:function(W){T.error(W);}});},ba);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorHeader:function(){return this._header instanceof Ic?this._header:null;},getIdentity:function(){var X,T;X=this.getMessageHeader();if(X){T=X.masterToken;return T?T.identity:X.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var X;X=this.getMessageHeader();return X?X.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(X){this._closeSource=X;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(X,T,V){var W;function ba(){bb(V,function(){var wa,ta,la,sa;function ja(za){bb(za,function(){var ma,aa,da;if(ta && sa >= ta.length)return ta.subarray(0,sa);ma=-1;if(this._currentPayload){aa=this._currentPayload.length - this._payloadOffset;if(!ta){da=aa;if(-1 != this._payloadIndex)for(var ia=this._payloadIndex;ia < this._payloads.length;++ia){da+=this._payloads[ia].length;}0 < da && (ta=new Uint8Array(da));}aa=Math.min(aa,ta?ta.length - sa:0);0 < aa && (ma=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + aa),ta.set(ma,la),ma=aa,la+=aa,this._payloadOffset+=aa);}-1 != ma?(sa+=ma,ja(za)):this.nextData(T,{result:function(xa){bb(za,function(){if(this._aborted)return ta?ta.subarray(0,sa):new Uint8Array(0);this._currentPayload=xa;this._payloadOffset=0;if(this._currentPayload)ja(za);else return 0 == sa && 0 != X?null:ta?ta.subarray(0,sa):new Uint8Array(0);},W);},timeout:function(){za.timeout(ta?ta.subarray(0,sa):new Uint8Array(0));},error:function(xa){bb(za,function(){xa instanceof fb && (xa=new Xb("Error reading the payload chunk.",xa));if(0 < sa)return (W._readException=xa,ta.subarray(0,sa));throw xa;},W);}});},W);}if(this._aborted)return new Uint8Array(0);if(this._timedout)V.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){wa=this._readException;this._readException=null;throw wa;}ta=-1 != X?new Uint8Array(X):Db;la=0;sa=0;ja(V);}},W);}W=this;bb(V,function(){if(-1 > X)throw new RangeError("read requested with illegal length " + X);this._ready?ba():this._readyQueue.poll(T,{result:function(ja){ja === Db?V.result(!1):ba();},timeout:function(){V.timeout(new Uint8Array(0));},error:function(ja){V.error(ja);}});},W);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Xe=function(X,T,V,ba,W,ja,wa){new We(X,T,V,ba,W,ja,wa);};})();(function(){Ye=ud.extend({init:function(ha,X,T,V,ba,W,ja){var wa;wa=this;bb(ja,function(){var la,sa,za;function ta(){wa._ready=!0;wa._readyQueue.add(!0);}la=Ud(ha.getMessageCapabilities(),V.messageCapabilities);sa=null;la && (sa=me(la.compressionAlgorithms));la={_destination:{value:X,writable:!1,enumerable:!1,configurable:!1},_charset:{value:T,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:la,writable:!1,enumerable:!1,configurable:!1},_header:{value:V,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:sa,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ba,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Zc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,la);za=fc(JSON.stringify(V),T);X.write(za,0,za.length,W,{result:function(ma){try{wa._aborted?ta():ma < za.length?(wa._timedout=!0,ta()):X.flush(W,{result:function(aa){wa._aborted || (wa._timedout=!aa);ta();},timeout:function(){wa._timedout=!0;ta();},error:function(aa){wa._errored=aa;ta();}});}catch(aa){wa._errored=aa;ta();}},timeout:function(){wa._timedout=!0;ta();},error:function(ma){wa._errored=ma;ta();}});return this;},wa);},setCompressionAlgorithm:function(ha,X,T){var ba;function V(){ba.flush(X,{result:function(W){bb(T,function(){if(!W)throw new Xb("flush() aborted");this._compressionAlgo=ha;return !0;},ba);},timeout:function(){T.timeout();},error:function(W){T.error(W);}});}ba=this;bb(T,function(){if(!this.getMessageHeader())throw new xb("Cannot write payload data for an error message.");if(this._compressionAlgo == ha)return !0;if(ha){if(!this._capabilities)return !1;for(var W=this._capabilities.compressionAlgorithms,ja=0;ja < W.length;++ja){if(W[ja] == ha){V();return;}}return !1;}V();},ba);},getMessageHeader:function(){return this._header instanceof gd?this._header:null;},getErrorMessage:function(){return this._header instanceof Ic?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ha,X){var T;T=this;bb(X,function(){if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ha,{result:function(V){bb(X,function(){V && (this._currentPayload=null);return V;},T);},timeout:function(){X.timeout();},error:function(V){X.error(V);}});}},T);},flush:function(ha,X){var V;function T(){bb(X,function(){var ba,W,la;if(this._aborted)return !1;if(this._timedout)X.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ba=this.getMessageHeader();if(!ba)return !0;W=0;this._currentPayload && this._currentPayload.forEach(function(sa){W+=sa.length;});for(var ja=new Uint8Array(W),wa=0,ta=0;this._currentPayload && ta < this._currentPayload.length;++ta){la=this._currentPayload[ta];ja.set(la,wa);wa+=la.length;}Re(this._payloadSequenceNumber,ba.messageId,this._closed,this._compressionAlgo,ja,this._cryptoContext,{result:function(sa){bb(X,function(){var za;this._payloads.push(sa);za=fc(JSON.stringify(sa),this._charset);this._destination.write(za,0,za.length,ha,{result:function(ma){bb(X,function(){if(this._aborted)return !1;ma < sa.length?X.timeout():this._destination.flush(ha,{result:function(aa){bb(X,function(){if(this._aborted)return !1;if(aa)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);X.timeout();},V);},timeout:function(){X.timeout();},error:function(aa){aa instanceof fb && (aa=new Xb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",aa));X.error(aa);}});},V);},timeout:function(ma){X.timeout();},error:function(ma){ma instanceof fb && (ma=new Xb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",ma));X.error(ma);}});},V);},error:function(sa){sa instanceof fb && (sa=new Xb("Error encoding payload chunk [sequence number " + V._payloadSequenceNumber + "].",sa));X.error(sa);}});}},V);}V=this;bb(X,function(){this._ready?T():this._readyQueue.poll(ha,{result:function(ba){ba === Db?X.result(!1):T();},timeout:function(){X.timeout();},error:function(ba){X.error(ba);}});},V);},write:function(ha,X,T,V,ba){bb(ba,function(){var W;if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Xb("Message output stream already closed.");if(0 > X)throw new RangeError("Offset cannot be negative.");if(0 > T)throw new RangeError("Length cannot be negative.");if(X + T > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new xb("Cannot write payload data for an error message.");W=ha.subarray(X,X + T);this._currentPayload.push(W);return W.length;}},this);}});zd=function(ha,X,T,V,ba,W,ja){new Ye(ha,X,T,V,ba,W,ja);};})();Cf=Fb.Class.create({sentHeader:function(ha){},receivedHeader:function(ha){}});Object.freeze({USERDATA_REAUTH:Ea.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ea.SSOTOKEN_REJECTED});Ze=Fb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ha,X,T,V){},getCustomer:function(){},getKeyRequestData:function(ha){},updateServiceTokens:function(ha,X,T){},write:function(ha,X,T){},getDebugContext:function(){}});Fb.Class.create({getInputStream:function(ha){},getOutputStream:function(ha){}});(function(){var wa,ta,la,sa,za,ma,aa,da,ia,xa,Ta,La;function ha(Sa){return function(){Sa.abort();};}function X(Sa,Va){Object.defineProperties(this,{masterToken:{value:Sa,writable:!1,configurable:!1},ticket:{value:Va,writable:!1,configurable:!1}});}function T(Sa,Va){Object.defineProperties(this,{builder:{value:Sa,writable:!1,configurable:!1},msgCtx:{value:Va,writable:!1,configurable:!1}});}function V(Sa,Va,qa){Object.defineProperties(this,{requestHeader:{value:Sa,writable:!1,configurable:!1},payloads:{value:Va,writable:!1,configurable:!1},handshake:{value:qa,writable:!1,configurable:!1}});}function ba(Sa,Va){Object.defineProperties(this,{requestHeader:{value:Va.requestHeader,writable:!1,configurable:!1},payloads:{value:Va.payloads,writable:!1,configurable:!1},handshake:{value:Va.handshake,writable:!1,configurable:!1},response:{value:Sa,writable:!1,configurable:!1}});}function W(Sa){for(;Sa;){if(Sa instanceof ac)return !0;Sa=Sa instanceof fb?Sa.cause:Db;}return !1;}function ja(Sa,Va,qa,ya,Ca,Ia,Ba,Ua,Ha){Ue(Va,ya,Ca,Ia,{result:function(Ya){qa && qa.sentHeader(Ya);zd(Va,Ba,Tb,Ya,null,null,Ua,{result:function(ab){Sa.setAbort(function(){ab.abort();});ab.close(Ua,{result:function(Wa){bb(Ha,function(){if(!Wa)throw new ac("sendError aborted.");return Wa;});},timeout:function(){Ha.timeout();},error:function(Wa){Ha.error(Wa);}});},timeout:function(){},error:function(ab){Ha.error(ab);}});},error:function(Ya){Ha.error(Ya);}});}wa=ud.extend({close:function(Sa,Va){Va.result(!0);},write:function(Sa,Va,qa,ya,Ca){Ma(Ca,function(){return Math.min(Sa.length - Va,qa);});},flush:function(Sa,Va){Va.result(!0);}});ta=Bf.extend({getUserMessage:function(Sa,Va){return null;}});la=Ze.extend({init:function(Sa){Object.defineProperties(this,{_appCtx:{value:Sa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Sa,Va,qa,ya){this._appCtx.getUserAuthData(Sa,Va,qa,ya);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Sa){this._appCtx.getKeyRequestData(Sa);},updateServiceTokens:function(Sa,Va,qa){this._appCtx.updateServiceTokens(Sa,Va,qa);},write:function(Sa,Va,qa){this._appCtx.write(Sa,Va,qa);},getDebugContext:function(){return this._appCtx.getDebugContext();}});sa=la.extend({init:function ya(Va,qa){ya.base.call(this,qa);Object.defineProperties(this,{_payloads:{value:Va,writable:!1,enumerable:!1,configurable:!1}});},write:function(Va,qa,ya){var Ia;function Ca(Ba,Ua){var Ha;if(Ba == Ia._payloads.length)ya.result(!0);else {Ha=Ia._payloads[Ba];Va.setCompressionAlgorithm(Ha.compressionAlgo,qa,{result:function(Ya){Va.write(Ha.data,0,Ha.data.length,qa,{result:function(ab){bb(ya,function(){Ha.isEndOfMessage()?Ca(Ba + 1,Ua):Va.flush(qa,{result:function(Wa){ya.result(Wa);},timeout:function(){ya.timeout();},error:function(Wa){ya.error(Wa);}});},Ia);},timeout:function(ab){ya.timeout(ab);},error:function(ab){ya.error(ab);}});},timeout:function(){},error:function(Ya){ya.error(Ya);}});}}Ia=this;Ca(0);}});za=la.extend({init:function ya(qa){ya.base.call(this,qa);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(qa,ya,Ca){Ca.result(!0);}});ma={};aa=Fb.Class.create({init:function(qa){qa || (qa=new ta());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:qa,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(qa){this._filterFactory=qa;},getNewestMasterToken:function(qa,ya,Ca,Ia){var Ba;Ba=this;bb(Ia,function(){var Ua,Ha,Ya,ab,Wa;Ua=ya.getMslStore();Ha=Ua.getMasterToken();if(!Ha)return null;Ya=Ha.uniqueKey();ab=this._masterTokenLocks[Ya];ab || (ab=new Fd(),this._masterTokenLocks[Ya]=ab);Wa=ab.readLock(Ca,{result:function(kb){bb(Ia,function(){var ob;if(kb === Db)throw new ac("getNewestMasterToken aborted.");ob=Ua.getMasterToken();if(Ha.equals(ob))return new X(Ha,kb);ab.unlock(kb);ab.writeLock(Ca,{result:function(qb){bb(Ia,function(){if(qb === Db)throw new ac("getNewestMasterToken aborted.");delete this._masterTokenLocks[Ya];ab.unlock(qb);return this.getNewestMasterToken(qa,ya,Ca,Ia);},Ba);},timeout:function(){Ia.timeout();},error:function(qb){Ia.error(qb);}});},Ba);},timeout:function(){Ia.timeout();},error:function(kb){Ia.error(kb);}});qa.setAbort(function(){Wa && (ab.cancel(Wa),Wa=Db);});},Ba);},deleteMasterToken:function(qa,ya){var Ca;if(ya){Ca=this;setTimeout(function(){var Ia,Ba;Ia=ya.uniqueKey();Ba=Ca._masterTokenLocks[Ia];Ba || (Ba=new Fd(),Ca._masterTokenLocks[Ia]=Ba);Ba.writeLock(-1,{result:function(Ua){qa.getMslStore().removeCryptoContext(ya);delete Ca._masterTokenLocks[Ia];Ba.unlock(Ua);},timeout:function(){throw new xb("Unexpected timeout received.");},error:function(Ua){throw Ua;}});},0);}},releaseMasterToken:function(qa){var ya;if(qa && qa.masterToken){ya=qa.masterToken.uniqueKey();ya=this._masterTokenLocks[ya];if(!ya)throw new xb("Master token read/write lock does not exist when it should.");ya.unlock(qa.ticket);}},updateOutgoingCryptoContexts:function(qa,ya,Ca){var Ia;Ia=qa.getMslStore();!qa.isPeerToPeer() && Ca && (Ia.setCryptoContext(Ca.keyResponseData.masterToken,Ca.cryptoContext),this.deleteMasterToken(qa,ya.masterToken));},updateIncomingCryptoContexts:function(qa,ya,Ca){var Ia,Ba;Ia=Ca.getMessageHeader();if(Ia){Ba=qa.getMslStore();if(Ia=Ia.keyResponseData)(Ba.setCryptoContext(Ia.masterToken,Ca.getKeyExchangeCryptoContext()),this.deleteMasterToken(qa,ya.masterToken));}},storeServiceTokens:function(qa,ya,Ca,Ia){var Ha,Ya;qa=qa.getMslStore();for(var Ba=[],Ua=0;Ua < Ia.length;++Ua){Ha=Ia[Ua];if(!Ha.isBoundTo(ya) || !ya.isVerified()){Ya=Ha.data;Ya && 0 == Ya.length?qa.removeServiceTokens(Ha.name,Ha.isMasterTokenBound()?ya:null,Ha.isUserIdTokenBound()?Ca:null):Ba.push(Ha);}}0 < Ba.length && qa.addServiceTokens(Ba);},buildRequest:function(qa,ya,Ca,Ia,Ba){var Ua;Ua=this;this.getNewestMasterToken(qa,ya,Ia,{result:function(Ha){Ma(Ba,function(){var Ya,ab,Wa;Ya=Ha && Ha.masterToken;if(Ya){ab=Ca.getUserId();Wa=ya.getMslStore();ab=(ab=ab?Wa.getUserIdToken(ab):null) && ab.isBoundTo(Ya)?ab:null;}else ab=null;Oc(ya,Ya,ab,null,{result:function(kb){Ma(Ba,function(){kb.setNonReplayable(Ca.isNonReplayable());return {builder:kb,tokenTicket:Ha};});},error:function(kb){Ma(Ba,function(){this.releaseMasterToken(Ha);kb instanceof fb && (kb=new xb("User ID token not bound to master token despite internal check.",kb));throw kb;},Ua);}});},Ua);},timeout:function(){Ba.timeout();},error:function(Ha){Ba.error(Ha);}});},buildResponse:function(qa,ya,Ca,Ia,Ba,Ua){var Ha;Ha=this;Te(ya,Ia,{result:function(Ya){bb(Ua,function(){Ya.setNonReplayable(Ca.isNonReplayable());if(!ya.isPeerToPeer() && !Ia.keyResponseData)return {builder:Ya,tokenTicket:null};this.getNewestMasterToken(qa,ya,Ba,{result:function(ab){bb(Ua,function(){var Wa,kb,ob;Wa=ab && ab.masterToken;if(Wa){kb=Ca.getUserId();ob=ya.getMslStore();kb=(kb=kb?ob.getUserIdToken(kb):null) && kb.isBoundTo(Wa)?kb:null;}else kb=null;Ya.setAuthTokens(Wa,kb);return {builder:Ya,tokenTicket:ab};},Ha);},timeout:function(){Ua.timeout();},error:function(ab){Ua.error(ab);}});},Ha);},error:function(Ya){Ua.error(Ya);}});},buildErrorResponse:function(qa,ya,Ca,Ia,Ba,Ua,Ha){var Wa;function Ya(kb,ob){bb(Ha,function(){var qb,rb;qb=Nc(Ba.messageId);rb=new sa(ob,Ca);Oc(ya,null,null,qb,{result:function(sb){bb(Ha,function(){ya.isPeerToPeer() && sb.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new T(sb,rb),tokenTicket:null};},Wa);},error:function(sb){Ha.error(sb);}});},Wa);}function ab(kb,ob){Wa.getNewestMasterToken(qa,ya,Ua,{result:function(qb){bb(Ha,function(){var rb,sb,Cb;rb=qb && qb.masterToken;sb=Nc(Ba.messageId);Cb=new sa(ob,Ca);Oc(ya,rb,null,sb,{result:function(Ab){bb(Ha,function(){ya.isPeerToPeer() && Ab.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);Ab.setNonReplayable(Cb.isNonReplayable());return {errorResult:new T(Ab,Cb),tokenTicket:qb};},Wa);},error:function(Ab){Ha.error(Ab);}});},Wa);},timeout:function(){Ha.timeout();},error:function(qb){Ha.error(qb);}});}Wa=this;bb(Ha,function(){var kb,ob,qb,rb;kb=Ia.requestHeader;ob=Ia.payloads;qb=Ba.errorCode;switch(qb){case Ea.ENTITYDATA_REAUTH:case Ea.ENTITY_REAUTH:ya.getEntityAuthenticationData(qb,{result:function(sb){bb(Ha,function(){if(!sb)return null;Ya(kb,ob);},Wa);},error:function(sb){Ha.error(sb);}});break;case Ea.USERDATA_REAUTH:case Ea.SSOTOKEN_REJECTED:Ca.getUserAuthData(qb,!1,!0,{result:function(sb){bb(Ha,function(){if(!sb)return null;ab(kb,ob);},Wa);},error:function(sb){Ha.error(sb);}});break;case Ea.USER_REAUTH:ab(kb,ob);break;case Ea.KEYX_REQUIRED:qb=Nc(Ba.messageId);rb=new sa(ob,Ca);Oc(ya,null,null,qb,{result:function(sb){bb(Ha,function(){ya.isPeerToPeer() && sb.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);sb.setRenewable(!0);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new T(sb,rb),tokenTicket:null};},Wa);},error:function(sb){Ha.error(sb);}});break;case Ea.EXPIRED:this.getNewestMasterToken(qa,ya,Ua,{result:function(sb){bb(Ha,function(){var Cb,Ab,ra,Da;Cb=sb && sb.masterToken;Ab=kb.userIdToken;ra=Nc(Ba.messageId);Da=new sa(ob,Ca);Oc(ya,Cb,Ab,ra,{result:function(Na){bb(Ha,function(){ya.isPeerToPeer() && Na.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);kb.masterToken.equals(Cb) && Na.setRenewable(!0);Na.setNonReplayable(Da.isNonReplayable());return {errorResult:new T(Na,Da),tokenTicket:sb};},Wa);},error:function(Na){Ha.error(Na);}},Wa);},Wa);},timeout:function(){Ha.timeout();},error:function(sb){Ha.error(sb);}});break;case Ea.REPLAYED:this.getNewestMasterToken(qa,ya,Ua,{result:function(sb){bb(Ha,function(){var Cb,Ab,ra,Da;Cb=sb && sb.masterToken;Ab=kb.userIdToken;ra=Nc(Ba.messageId);Da=new sa(ob,Ca);Oc(ya,Cb,Ab,ra,{result:function(Na){bb(Ha,function(){ya.isPeerToPeer() && Na.setPeerAuthTokens(kb.peerMasterToken,kb.peerUserIdToken);kb.masterToken.equals(Cb)?(Na.setRenewable(!0),Na.setNonReplayable(!1)):Na.setNonReplayable(Da.isNonReplayable());return {errorResult:new T(Na,Da),tokenTicket:sb};},Wa);},error:function(Na){Ha.error(Na);}});},Wa);},timeout:function(){Ha.timeout();},error:function(sb){Ha.error(sb);}});break;default:return null;}},Wa);},cleanupContext:function(qa,ya,Ca){switch(Ca.errorCode){case Ea.ENTITY_REAUTH:this.deleteMasterToken(qa,ya.masterToken);break;case Ea.USER_REAUTH:(Ca=ya.userIdToken,ya.masterToken && Ca && qa.getMslStore().removeUserIdToken(Ca));}},send:function(qa,ya,Ca,Ia,Ba,Ua,Ha){var qb;function Ya(rb,sb,Cb){bb(Ha,function(){var Ab;Ab=Ba.getPeerUserIdToken();!ya.isPeerToPeer() && !sb || ya.isPeerToPeer() && !Ab?(Ab=Ca.getCustomer())?Ba.setCustomer(Ab,{result:function(ra){bb(Ha,function(){sb=Ba.getUserIdToken();ab(rb,sb,Cb);},qb);},error:function(ra){Ha.error(ra);}}):ab(rb,sb,Cb):ab(rb,sb,Cb);},qb);}function ab(rb,sb,Cb){bb(Ha,function(){var Ab,ra;Ab=!Cb && (!Ca.isEncrypted() || Ba.willEncryptPayloads()) && (!Ca.isIntegrityProtected() || Ba.willIntegrityProtectPayloads()) && (!Ca.isNonReplayable() || Ba.isNonReplayable() && rb);Ab || Ba.setNonReplayable(!1);ra=[];Ba.isRenewable() && (!rb || rb.isRenewable() || Ca.isNonReplayable())?Ca.getKeyRequestData({result:function(Da){bb(Ha,function(){var r;for(var Na=0;Na < Da.length;++Na){r=Da[Na];ra.push(r);Ba.addKeyRequestData(r);}Wa(rb,sb,Ab,ra);},qb);},error:function(Da){Ha.error(Da);}}):Wa(rb,sb,Ab,ra);},qb);}function Wa(rb,sb,Cb,Ab){bb(Ha,function(){var ra;ra=new Ve(ya,Ca,Ba);Ca.updateServiceTokens(ra,!Cb,{result:function(Da){Ba.getHeader({result:function(Na){bb(Ha,function(){var r,b;r=Ca.getDebugContext();r && r.sentHeader(Na);r=Ba.getKeyExchangeData();this.updateOutgoingCryptoContexts(ya,Na,r);this.storeServiceTokens(ya,rb,sb,Na.serviceTokens);r=!ya.isPeerToPeer() && r?r.cryptoContext:Na.cryptoContext;if(qa.isAborted())throw new ac("send aborted.");b=null != this._filterFactory?this._filterFactory.getOutputStream(Ia):Ia;zd(ya,b,Tb,Na,r,Ua,{result:function(a){qa.setAbort(function(){a.abort();});kb(a,Na,Cb);},timeout:function(){Ha.timeout();},error:function(a){Ha.error(a);}});},qb);},timeout:function(){Ha.timeout();},error:function(Na){Ha.error(Na);}});},error:function(Da){Ha.error(Da);}});},qb);}function kb(rb,sb,Cb){var Ab,ra;if(Cb)Ca.write(rb,Ua,{result:function(Da){bb(Ha,function(){if(qa.isAborted())throw new ac("MessageOutputStream write aborted.");ob(rb,sb,Cb);},qb);},timeout:function(){Ha.timeout();},error:function(Da){Ha.error(Da);}});else {Ab=new wa();ra=new Vc();zd(ya,Ab,Tb,sb,ra,Ua,{result:function(Da){Ca.write(Da,Ua,{result:function(Na){bb(Ha,function(){if(qa.isAborted())throw new ac("MessageOutputStream proxy write aborted.");Da.close(Ua,{result:function(r){bb(Ha,function(){var b;if(!r)throw new ac("MessageOutputStream proxy close aborted.");b=Da.getPayloads();ob(rb,sb,Cb,b);},qb);},timeout:function(){Ha.timeout();},error:function(r){Ha.error(r);}});},qb);},timeout:function(){Ha.timeout();},error:function(Na){Ha.error(Na);}});},timeout:function(){Ha.timeout();},error:function(Da){Ha.error(Da);}});}}function ob(rb,sb,Cb,Ab){rb.close(Ua,{result:function(ra){bb(Ha,function(){if(!ra)throw new ac("MessageOutputStream close aborted.");Ab || (Ab=rb.getPayloads());return new V(sb,Ab,!Cb);},qb);},timeout:function(){Ha.timeout();},error:function(ra){Ha.error(ra);}});}qb=this;bb(Ha,function(){var rb,sb,Cb,Ab;rb=Ba.getMasterToken();sb=Ba.getUserIdToken();Cb=!1;if(Ca.getUserId()){Ab=!sb;Ca.getUserAuthData(null,Ba.isRenewable(),Ab,{result:function(ra){bb(Ha,function(){ra && (Ba.willEncryptHeader() && Ba.willIntegrityProtectHeader()?Ba.setUserAuthenticationData(ra):Cb=!0);Ya(rb,sb,Cb);},qb);},error:function(ra){Ha.error(ra);}});}else Ya(rb,sb,Cb);},qb);},receive:function(qa,ya,Ca,Ia,Ba,Ua,Ha){var Ya;Ya=this;bb(Ha,function(){var ab,Wa,kb;if(qa.isAborted())throw new ac("receive aborted.");ab=[];Ba && (ab=Ba.keyRequestData.filter(function(){return !0;}));Wa=Ca.getCryptoContexts();kb=this._filterFactory?this._filterFactory.getInputStream(Ia):Ia;Xe(ya,kb,Tb,ab,Wa,Ua,{result:function(ob){qa.setAbort(function(){ob.abort();});ob.isReady(Ua,{result:function(qb){bb(Ha,function(){var rb,sb,Cb,Ab;if(!qb)throw new ac("MessageInputStream aborted.");rb=ob.getMessageHeader();sb=ob.getErrorHeader();Cb=Ca.getDebugContext();Cb && Cb.receivedHeader(rb?rb:sb);if(Ba && (Cb=sb?sb.errorCode:null,rb || Cb != Ea.FAIL && Cb != Ea.TRANSIENT_FAILURE && Cb != Ea.ENTITY_REAUTH && Cb != Ea.ENTITYDATA_REAUTH)){Cb=rb?rb.messageId:sb.messageId;Ab=Nc(Ba.messageId);if(Cb != Ab)throw new Nb(S.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + Ab + "; received " + Cb);}ya.getEntityAuthenticationData(null,{result:function(ra){bb(Ha,function(){var Da,Na,r,b;Da=ra.getIdentity();if(rb){Na=rb.entityAuthenticationData;r=rb.masterToken;Na=r?rb.sender:Na.getIdentity();if(r && r.isDecrypted() && r.identity != Na || Da == Na)throw new Nb(S.UNEXPECTED_MESSAGE_SENDER,Na);Ba && this.updateIncomingCryptoContexts(ya,Ba,ob);Da=rb.keyResponseData;ya.isPeerToPeer()?(Da=Da?Da.masterToken:rb.peerMasterToken,r=rb.peerUserIdToken,Na=rb.peerServiceTokens):(Da=Da?Da.masterToken:rb.masterToken,r=rb.userIdToken,Na=rb.serviceTokens);b=Ca.getUserId();b && r && !r.isVerified() && ya.getMslStore().addUserIdToken(b,r);this.storeServiceTokens(ya,Da,r,Na);}else if((Na=sb.entityAuthenticationData.getIdentity(),Da == Na))throw new Nb(S.UNEXPECTED_MESSAGE_SENDER,Na);return ob;},Ya);},error:Ha.error});},Ya);},timeout:function(){Ha.timeout();},error:function(qb){Ha.error(qb);}});},timeout:function(){Ha.timeout();},error:function(ob){Ha.error(ob);}});},Ya);},sendReceive:function(qa,ya,Ca,Ia,Ba,Ua,Ha,Ya,ab){var kb;function Wa(ob,qb){bb(ab,function(){Ua.setRenewable(qb);this.send(qa,ya,Ca,Ba,Ua,Ha,{result:function(rb){bb(ab,function(){var sb;sb=rb.requestHeader.keyRequestData;Ya || rb.handshake || !sb.isEmpty()?this.receive(qa,ya,Ca,Ia,rb.requestHeader,Ha,{result:function(Cb){bb(ab,function(){qb && this.releaseRenewalLock(ya,ob,Cb);return new ba(Cb,rb);},kb);},timeout:function(){bb(ab,function(){qb && this.releaseRenewalLock(ya,ob,null);ab.timeout();},kb);},error:function(Cb){bb(ab,function(){qb && this.releaseRenewalLock(ya,ob,null);throw Cb;},kb);}}):bb(ab,function(){qb && this.releaseRenewalLock(ya,ob,null);return new ba(null,rb);},kb);},kb);},timeout:function(){bb(ab,function(){qb && this.releaseRenewalLock(ya,ob,null);ab.timeout();},kb);},error:function(rb){bb(ab,function(){qb && this.releaseRenewalLock(ya,ob,null);throw rb;},kb);}});},kb);}kb=this;bb(ab,function(){var ob;ob=new Zc();this.acquireRenewalLock(qa,ya,Ca,ob,Ua,Ha,{result:function(qb){Wa(ob,qb);},timeout:function(){ab.timeout();},error:function(qb){qb instanceof ac?ab.result(null):ab.error(qb);}});},kb);},acquireRenewalLock:function(qa,ya,Ca,Ia,Ba,Ua,Ha){var Wa;function Ya(kb,ob,qb){bb(Ha,function(){var Cb,Ab;if(qa.isAborted())throw new ac("acquireRenewalLock aborted.");for(var rb=null,sb=0;sb < this._renewingContexts.length;++sb){Cb=this._renewingContexts[sb];if(Cb.ctx === ya){rb=Cb.queue;break;}}if(!rb)return (this._renewingContexts.push({ctx:ya,queue:Ia}),!0);Ab=rb.poll(Ua,{result:function(ra){bb(Ha,function(){var Da;if(ra === Db)throw new ac("acquireRenewalLock aborted.");rb.add(ra);if(ra === ma || ra.isExpired())Ya(ra,ob,qb);else {if(qb && !ob || ob && !ob.isBoundTo(ra)){Da=ya.getMslStore().getUserIdToken(qb);ob=Da && Da.isBoundTo(ra)?Da:null;}Ba.setAuthTokens(ra,ob);Ba.isRenewable() && ra.equals(kb)?Ya(ra,ob,qb):Ca.isRequestingTokens() && !ob?Ya(ra,ob,qb):ab(ra,ob);}},Wa);},timeout:function(){},error:function(ra){}});qa.setAbort(function(){Ab && (rb.cancel(Ab),Ab=Db);});},Wa);}function ab(kb,ob){bb(Ha,function(){var sb;if(qa.isAborted())throw new ac("acquireRenewalLock aborted.");if(!kb || kb.isRenewable() || !ob && Ca.getUserId() || ob && ob.isRenewable()){for(var qb=null,rb=0;rb < this._renewingContexts.length;++rb){sb=this._renewingContexts[rb];if(sb.ctx === ya){qb=sb.queue;break;}}if(!qb)return (this._renewingContexts.push({ctx:ya,queue:Ia}),!0);}return !1;},Wa);}Wa=this;bb(Ha,function(){var kb,ob,qb;kb=Ba.getMasterToken();ob=Ba.getUserIdToken();qb=Ca.getUserId();Ca.isEncrypted() && !Ba.willEncryptPayloads() || Ca.isIntegrityProtected() && !Ba.willIntegrityProtectPayloads() || Ba.isRenewable() || !kb && Ca.isNonReplayable() || kb && kb.isExpired() || !(ob || !qb || Ba.willEncryptHeader() && Ba.willIntegrityProtectHeader()) || Ca.isRequestingTokens() && (!kb || qb && !ob)?Ya(kb,ob,qb):ab(kb,ob);},Wa);},releaseRenewalLock:function(qa,ya,Ca){var Ha;for(var Ia,Ba,Ua=0;Ua < this._renewingContexts.length;++Ua){Ha=this._renewingContexts[Ua];if(Ha.ctx === qa){Ia=Ua;Ba=Ha.queue;break;}}if(Ba !== ya)throw new xb("Attempt to release renewal lock that is not owned by this queue.");Ca?(Ca=Ca.messageHeader)?(Ba=Ca.keyResponseData)?ya.add(Ba.masterToken):(qa=qa.isPeerToPeer()?Ca.peerMasterToken:Ca.masterToken)?ya.add(qa):ya.add(ma):ya.add(ma):ya.add(ma);this._renewingContexts.splice(Ia,1);}});$e=Fb.Class.create({init:function(){var qa;qa={_impl:{value:new aa(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,qa);},setFilterFactory:function(qa){this._impl.setFilterFactory(qa);},shutdown:function(){this._shutdown=!0;},receive:function(qa,ya,Ca,Ia,Ba,Ua){var Ha;if(this._shutdown)throw new fb("MslControl is shutdown.");Ha=new da(this._impl,qa,ya,Ca,Ia,Ba);setTimeout(function(){Ha.call(Ua);},0);return ha(Ha);},respond:function(qa,ya,Ca,Ia,Ba,Ua,Ha){var Ya;if(this._shutdown)throw new fb("MslControl is shutdown.");Ya=new ia(this._impl,qa,ya,Ca,Ia,Ba,Ua);setTimeout(function(){Ya.call(Ha);},0);return ha(Ya);},error:function Ca(qa,ya,Ca,Ia,Ba,Ua,Ha){var Ya;if(this._shutdown)throw new fb("MslControl is shutdown.");Ya=new xa(this._impl,qa,ya,Ca,Ia,Ba,Ua);setTimeout(function(){Ya.call(Ha);},0);return ha(Ya);},request:function(qa,ya){var Ca,Ia,Ba,Ua,Ha,Ya;if(this._shutdown)throw new fb("MslControl is shutdown.");if(5 == arguments.length){Ia=arguments[2];Ba=Ca=null;Ua=arguments[3];Ha=arguments[4];if(qa.isPeerToPeer()){Ha.error(new xb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ia=null,Ca=arguments[2],Ba=arguments[3],Ua=arguments[4],Ha=arguments[5],!qa.isPeerToPeer())){Ha.error(new xb("This method cannot be used in trusted network mode."));return;}Ya=new La(this._impl,qa,ya,Ia,Ca,Ba,null,0,Ua);setTimeout(function(){Ya.call(Ha);},0);return ha(Ya);}});da=Fb.Class.create({init:function(qa,ya,Ca,Ia,Ba,Ua){Object.defineProperties(this,{_ctrl:{value:qa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ba,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Db,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(qa){this._abortFunc=qa;},call:function(qa){var Ba;function ya(Ua){bb(qa,function(){var Ha;Ha=Ua.messageHeader;if(!Ha)return Ua;this.setAbort(function(){Ua.abort();});Ua.mark(Number.MAX_VALUE);Ua.read(1,Ba._timeout,{result:function(Ya){bb(qa,function(){if(Ya && 0 == Ya.length)return null;if(Ya)return (Ua.reset(),Ua);Ca(Ua);},Ba);},timeout:function(){qa.timeout();},error:function(Ya){bb(qa,function(){var ab,Wa,kb;if(W(Ya))return null;ab=Ha?Ha.messageId:null;if(Ya instanceof Xb){Wa=S.MSL_COMMS_FAILURE;kb=Ya;}else (Wa=S.INTERNAL_EXCEPTION,kb=new xb("Error peeking into the message payloads."));ja(this,this._ctx,this._msgCtx.getDebugContext(),ab,Wa,null,this._output,this._timeout,{result:function(ob){qa.error(kb);},timeout:function(){qa.timeout();},error:function(ob){bb(qa,function(){if(W(ob))return null;throw new jc("Error peeking into the message payloads.",ob,Ya);},Ba);}});},Ba);}});},Ba);}function Ca(Ua){bb(qa,function(){Ua.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Ua.messageHeader,this._timeout,{result:function(Ha){bb(qa,function(){var Ya,ab,Wa,kb,ob;Ya=Ha.builder;ab=Ha.tokenTicket;Wa=Ua.messageHeader;kb=new za(this._msgCtx);if(!this._ctx.isPeerToPeer() || Wa.isEncrypting() || Wa.keyResponseData)Ia(Wa,Ya,kb,ab);else {ob=new La(this._ctrl,this._ctx,kb,null,this._input,this._output,Ha,1,this._timeout);this.setAbort(function(){ob.abort();});ob.call(qa);}},Ba);},timeout:function(){qa.timeout();},error:function(Ha){bb(qa,function(){var Ya,ab,Wa,kb;if(W(Ha))return null;if(Ha instanceof fb){Ya=Ha.messageId;ab=Ha.error;Wa=Ua.messageHeader.messageCapabilities;Wa=this._ctrl.messageRegistry.getUserMessage(ab,Wa?Wa.languages:null);kb=Ha;}else (Ya=requestHeader?requestHeader.messageId:null,ab=S.INTERNAL_EXCEPTION,Wa=null,kb=new xb("Error creating an automatic handshake response.",Ha));ja(this,this._ctx,this._msgCtx.getDebugContext(),Ya,ab,Wa,this._output,this._timeout,{result:function(ob){qa.error(kb);},timeout:function(){qa.timeout();},error:function(ob){bb(qa,function(){if(W(ob))return null;throw new jc("Error creating an automatic handshake response.",ob,Ha);},Ba);}});},Ba);}});},Ba);}function Ia(Ua,Ha,Ya,ab){bb(qa,function(){Ha.setRenewable(!1);this._ctrl.send(this._ctx,Ya,this._output,Ha,this._timeout,{result:function(Wa){bb(qa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);return null;},Ba);},timeout:function(){bb(qa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);qa.timeout();},Ba);},error:function(Wa){bb(qa,function(){var kb,ob,qb,rb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);if(W(Wa))return null;if(Wa instanceof fb){kb=Wa.messageId;ob=Wa.error;qb=Ua?Ua.messageCapabilities:null;qb=this._ctrl.messageRegistry.getUserMessage(ob,qb?qb.languages:null);rb=Wa;}else Wa instanceof Xb?(kb=Ua?Ua.messageId:null,ob=S.MSL_COMMS_FAILURE,qb=null,rb=Wa):(kb=Ua?Ua.messageId:null,ob=S.INTERNAL_EXCEPTION,qb=null,rb=new xb("Error sending an automatic handshake response.",Wa));ja(this,this._ctx,this._msgCtx.getDebugContext(),kb,ob,qb,this._output,this._timeout,{result:function(sb){qa.error(rb);},timeout:function(){qa.timeout();},error:function(sb){bb(qa,function(){if(W(sb))return null;throw new jc("Error sending an automatic handshake response.",sb,Wa);},Ba);}});},Ba);}});},Ba);}Ba=this;bb(qa,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Ua){ya(Ua);},timeout:function(){qa.timeout();},error:function(Ua){bb(qa,function(){var Ha,Ya,ab,Wa;if(W(Ua))return null;if(Ua instanceof fb){Ha=Ua.messageId;Ya=Ua.error;ab=this._ctrl.messageRegistry.getUserMessage(Ya,null);Wa=Ua;}else (Ha=null,Ya=S.INTERNAL_EXCEPTION,ab=null,Wa=new xb("Error receiving the message header.",Ua));ja(this,this._ctx,this._msgCtx.getDebugContext(),Ha,Ya,ab,this._output,this._timeout,{result:function(kb){qa.error(Wa);},timeout:function(){qa.timeout();},error:function(kb){bb(qa,function(){if(W(kb))return null;throw new jc("Error receiving the message header.",kb,Ua);},Ba);}});},Ba);}});},Ba);}});ia=Fb.Class.create({init:function(qa,ya,Ca,Ia,Ba,Ua,Ha){Object.defineProperties(this,{_ctrl:{value:qa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ba,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Db,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(qa){this._abortFunc=qa;},trustedNetworkExecute:function(qa,ya,Ca){var Ia;Ia=this;bb(Ca,function(){var Ba,Ua;if(12 < ya + 1)return !1;if(Ba=this._msgCtx.isIntegrityProtected() && !qa.willIntegrityProtectHeader()?S.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !qa.willEncryptPayloads()?S.RESPONSE_REQUIRES_ENCRYPTION:null){Ua=Wc(qa.getMessageId());ja(this,this._ctx,this._msgCtx.getDebugContext(),Ua,Ba,null,this._output,this._timeout,{result:function(Ha){Ca.result(!1);},timeout:function(){Ca.timeout();},error:function(Ha){bb(Ca,function(){if(W(Ha))return !1;throw new jc("Response requires encryption or integrity protection but cannot be protected: " + Ba,Ha,null);},Ia);}});}else !this._msgCtx.getCustomer() || qa.getMasterToken() || qa.getKeyExchangeData()?(qa.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,qa,this._timeout,{result:function(Ha){Ca.result(!0);},timeout:function(){Ca.timeout();},error:function(Ha){Ca.error(Ha);}})):(Ua=Wc(qa.getMessageId()),ja(this,this._ctx,this._msgCtx.getDebugContext(),Ua,S.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ha){Ca.result(!1);},timeout:function(){Ca.timeout();},error:function(Ha){bb(Ca,function(){if(W(Ha))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Ha,null);},Ia);}}));},Ia);},peerToPeerExecute:function(qa,ya,Ca,Ia){var Ua;function Ba(Ha){bb(Ia,function(){var Ya;Ya=Ha.response;Ya.close();Ya=Ya.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ha.requestHeader,Ya);this._ctrl.buildErrorResponse(this,this._ctx,qa,Ha,Ya,{result:function(ab){bb(Ia,function(){var Wa,kb;if(!ab)return !1;Wa=ab.errorResult;kb=ab.tokenTicket;this.peerToPeerExecute(Wa.msgCtx,Wa.builder,Ca,{result:function(ob){bb(Ia,function(){this._ctrl.releaseMasterToken(kb);return ob;},Ua);},timeout:function(){bb(Ia,function(){this._ctrl.releaseMasterToken(kb);Ia.timeout();},Ua);},error:function(ob){bb(Ia,function(){this._ctrl.releaseMasterToken(kb);throw ob;},Ua);}});},Ua);}});},Ua);}Ua=this;bb(Ia,function(){var Ha;if(12 < Ca + 2)return !1;if(null != qa.getCustomer() && null == ya.getPeerMasterToken() && null == ya.getKeyExchangeData()){Ha=Wc(ya.getMessageId());ja(this,this._ctx,qa.getDebugContext(),Ha,S.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ya){Ia.result(!1);},timeout:function(){Ia.timeout();},error:function(Ya){bb(Ia,function(){if(W(Ya))return !1;throw new jc("Response wishes to attach a user ID token but there is no master token.",Ya,null);},Ua);}});}else this._ctrl.sendReceive(this._ctx,qa,this._input,this._output,ya,this._timeout,!1,{result:function(Ya){bb(Ia,function(){var kb,ob,qb;function ab(){kb.read(32768,Ua._timeout,{result:function(rb){bb(Ia,function(){rb?ab():Wa();},Ua);},timeout:function(){Ia.timeout();},error:function(rb){Ia.error(rb);}});}function Wa(){bb(Ia,function(){var rb;rb=new sa(Ya.payloads,qa);this._ctrl.buildResponse(this,this._ctx,rb,ob,this._timeout,{result:function(sb){bb(Ia,function(){var Cb;Cb=sb.tokenTicket;this.peerToPeerExecute(rb,sb.builder,Ca,{result:function(Ab){bb(Ia,function(){this._ctrl.releaseMasterToken(Cb);return Ab;},Ua);},timeout:function(){bb(Ia,function(){this._ctrl.releaseMasterToken(Cb);Ia.timeout();},Ua);},error:function(Ab){bb(Ia,function(){this._ctrl.releaseMasterToken(Cb);throw Ab;},Ua);}});},Ua);},timeout:function(){Ia.timeout();},error:function(sb){Ia.error(sb);}});},Ua);}kb=Ya.response;Ca+=2;if(!kb)return !0;ob=kb.getMessageHeader();if(ob){qb=Ya.payloads;qb=0 < qb.length && 0 < qb[0].data.length;if(Ya.handshake && qb)ab();else return !0;}else Ba(Ya);},Ua);},timeout:function(){Ia.timeout();},error:function(Ya){Ia.error(Ya);}});},Ua);},call:function(qa){var ya;ya=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ca){bb(qa,function(){var Ia,Ba;Ia=Ca.builder;Ba=Ca.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ia,3,{result:function(Ua){bb(qa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);return Ua;},ya);},timeout:function(){bb(qa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);qa.timeout();},ya);},error:function(Ua){bb(qa,function(){var Ha,Ya,ab,Wa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);if(W(Ua))return !1;Ha=Wc(Ia.getMessageId());if(Ua instanceof fb){Ya=Ua.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Ya,ab?ab.languages:null);Wa=Ua;}else Ua instanceof Xb?(Ya=S.MSL_COMMS_FAILURE,ab=null,Wa=Ua):(Ya=S.INTERNAL_EXCEPTION,ab=null,Wa=new xb("Error sending the response.",Ua));ja(this,this._ctx,this._msgCtx.getDebugContext(),Ha,Ya,ab,this._output,this._timeout,{result:function(kb){qa.error(Wa);},timeout:function(){qa.timeout();},error:function(kb){bb(qa,function(){if(W(kb))return !1;throw new jc("Error sending the response.",kb,null);},ya);}});},ya);}}):this.trustedNetworkExecute(Ia,3,{result:function(Ua){bb(qa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);return Ua;},ya);},timeout:function(){bb(qa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);qa.timeout();},ya);},error:function(Ua){bb(qa,function(){var Ha,Ya,ab,Wa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);if(W(Ua))return !1;Ha=Wc(Ia.getMessageId());if(Ua instanceof fb){Ya=Ua.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Ya,ab?ab.languages:null);Wa=Ua;}else Ua instanceof Xb?(Ya=S.MSL_COMMS_FAILURE,ab=null,Wa=Ua):(Ya=S.INTERNAL_EXCEPTION,ab=null,Wa=new xb("Error sending the response.",Ua));ja(this,this._ctx,this._msgCtx.getDebugContext(),Ha,Ya,ab,this._output,this._timeout,{result:function(kb){qa.error(Wa);},timeout:function(){qa.timeout();},error:function(kb){bb(qa,function(){if(W(kb))return !1;throw new jc("Error sending the response.",kb,null);},ya);}});},ya);}});},ya);},timeout:function(){qa.timeout();},error:function(Ca){bb(qa,function(){var Ia,Ba,Ua,Ha;if(W(Ca))return !1;if(Ca instanceof fb){Ia=Ca.messageId;Ba=Ca.error;Ua=this._request.messageCapabilities;Ua=this._ctrl.messageRegistry.getUserMessage(Ba,Ua?Ua.languages:null);Ha=Ca;}else (Ia=null,Ba=S.INTERNAL_EXCEPTION,Ua=null,Ha=new xb("Error building the response.",Ca));ja(this,this._ctx,this._msgCtx.getDebugContext(),Ia,Ba,Ua,this._output,this._timeout,{result:function(Ya){qa.error(Ha);},timeout:function(){qa.timeout();},error:function(Ya){bb(qa,function(){if(W(Ya))return null;throw new jc("Error building the response.",Ya,Ca);},ya);}});},ya);}});}});xa=Fb.Class.create({init:function(qa,ya,Ca,Ia,Ba,Ua,Ha){Object.defineProperties(this,{_ctrl:{value:qa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Db,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(qa){this._abortFunc=qa;},call:function(qa){var ya;ya=this;bb(qa,function(){var Ca,Ia;if(this._appError == ENTITY_REJECTED)Ca=this._request.masterToken?S.MASTERTOKEN_REJECTED_BY_APP:S.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ca=this._request.userIdToken?S.USERIDTOKEN_REJECTED_BY_APP:S.USER_REJECTED_BY_APP;else throw new xb("Unhandled application error " + this._appError + ".");Ia=this._request.messageCapabilities;Ia=this._ctrl.messageRegistry.getUserMessage(Ca,Ia?Ia.languages:null);ja(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ca,Ia,this._output,this._timeout,{result:function(Ba){qa.result(Ba);},timeout:qa.timeout,error:function(Ba){bb(qa,function(){if(W(Ba))return !1;if(Ba instanceof fb)throw Ba;throw new xb("Error building the error response.",Ba);},ya);}});},ya);}});Ta={result:function(){},timeout:function(){},error:function(){}};La=Fb.Class.create({init:function(qa,ya,Ca,Ia,Ba,Ua,Ha,Ya,ab){var Wa;if(Ha){Wa=Ha.builder;Ha=Ha.tokenTicket;}else Ha=Wa=null;Object.defineProperties(this,{_ctrl:{value:qa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ba,writable:!0,enumerable:!1,configurable:!1},_output:{value:Ua,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Wa,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ha,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ab,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Ya,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Db,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(qa){this._abortFunc=qa;},execute:function(qa,ya,Ca,Ia,Ba){var Ya;function Ua(ab){function Wa(kb){bb(Ba,function(){var ob;ob=ab.response;return kb?kb:ob;},Ya);}bb(Ba,function(){var kb,ob;kb=ab.response;kb.close();ob=kb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,ab.requestHeader,ob);this._ctrl.buildErrorResponse(this,this._ctx,qa,ab,ob,Ca,{result:function(qb){bb(Ba,function(){var rb,sb,Cb,Ab;if(!qb)return kb;rb=qb.errorResult;sb=qb.tokenTicket;Cb=rb.builder;rb=rb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(rb,Cb,this._timeout,Ia,{result:function(ra){bb(Ba,function(){this._ctrl.releaseMasterToken(sb);Wa(ra);},Ya);},timeout:function(){bb(Ba,function(){this._ctrl.releaseMasterToken(sb);Ba.timeout();},Ya);},error:function(ra){bb(Ba,function(){this._ctrl.releaseMasterToken(sb);Ba.error(ra);},Ya);}});else {this._openedStreams && (this._input.close(),this._output.close(Ca,Ta));Ab=new La(this._ctrl,this._ctx,rb,this._remoteEntity,null,null,{builder:Cb,tokenTicket:sb},Ia,this._timeout);this.setAbort(function(){Ab.abort();});Ab.call({result:function(ra){Wa(ra);},timeout:function(){Ba.timeout();},error:function(ra){Ba.error(ra);}});}},Ya);},timeout:function(){Ba.timeout();},error:function(qb){Ba.error(qb);}});},Ya);}function Ha(ab){bb(Ba,function(){var ob,qb,rb,sb,Cb;function Wa(){ob.read(32768,Ya._timeout,{result:function(Ab){Ab?Wa():kb();},timeout:function(){Ba.timeout();},error:function(Ab){Ba.error(Ab);}});}function kb(){bb(Ba,function(){var Ab;Ab=new sa(ab.payloads,qa);this._ctrl.buildResponse(this,this._ctx,qa,qb,Ca,{result:function(ra){bb(Ba,function(){var Da;Da=ra.tokenTicket;this.execute(Ab,ra.builder,this._timeout,Ia,{result:function(Na){bb(Ba,function(){this._ctrl.releaseMasterToken(Da);return Na;},Ya);},timeout:function(){bb(Ba,function(){this._ctrl.releaseMasterToken(Da);Ba.timeout();},Ya);},error:function(Na){bb(Ba,function(){this._ctrl.releaseMasterToken(Da);throw Na;},Ya);}});},Ya);},timeout:function(){Ba.timeout();},error:function(ra){Ba.error(ra);}});},Ya);}ob=ab.response;qb=ob.getMessageHeader();rb=ab.payloads;rb=0 < rb.length && 0 < rb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!ab.handshake || !rb)return ob;this._openedStreams && (this._input.close(),this._output.close(Ca,Ta));sb=new sa(ab.payloads,qa);this._ctrl.buildResponse(this,this._ctx,qa,qb,Ca,{result:function(Ab){bb(Ba,function(){var ra;ra=new La(this._ctrl,this._ctx,sb,this._remoteEntity,null,null,Ab,Ia,this._timeout);this.setAbort(function(){ra.abort();});ra.call(Ba);},Ya);},timeout:function(){Ba.timeout();},error:function(Ab){Ba.error(Ab);}});}else if(ab.handshake && rb)Wa();else if(0 < qb.keyRequestData.length){Cb=new za(qa);this._ctrl.buildResponse(this,this._ctx,Cb,qb,Ca,{result:function(Ab){bb(Ba,function(){var ra,Da;ra=Ab.builder;Da=Ab.tokenTicket;ob.mark();ob.read(1,this._timeout,{result:function(Na){bb(Ba,function(){function r(){ob.read(32768,Ya._timeout,{result:function(a){a?r():b();},timeout:function(){Ba.timeout();},error:function(a){Ba.error(a);}});}function b(){Ya.execute(Cb,ra,Ya._timeout,Ia,{result:function(a){bb(Ba,function(){this._ctrl.releaseMasterToken(Da);return a;},Ya);},timeout:function(){bb(Ba,function(){this._ctrl.releaseMasterToken(Da);Ba.timeout();},Ya);},error:function(a){bb(Ba,function(){this._ctrl.releaseMasterToken(Da);throw a;},Ya);}});}if(Na){if((ob.reset(),12 >= Ia + 1))(ra.setRenewable(!1),this._ctrl.send(this,this._ctx,Cb,this._output,ra,this._timeout,{result:function(a){bb(Ba,function(){this.releaseMasterToken(Da);return ob;},Ya);},timeout:function(){Ba.timeout();},error:function(a){Ba.error(a);}}));else return (this.releaseMasterToken(Da),ob);}else r();},Ya);},timeout:function(){bb(Ba,function(){this.releaseMasterToken(Da);Ba.timeout();},Ya);},error:function(Na){bb(Ba,function(){this.releaseMasterToken(Da);throw Na;},Ya);}});},Ya);},timeout:function(){Ba.timeout();},error:function(Ab){Ba.error(Ab);}});}},Ya);}Ya=this;bb(Ba,function(){if(12 < Ia + 2)return null;this._ctrl.sendReceive(this,this._ctx,qa,this._input,this._output,ya,Ca,!0,{result:function(ab){bb(Ba,function(){var Wa;if(!ab)return null;Wa=ab.response;Ia+=2;Wa.getMessageHeader()?Ha(ab):Ua(ab);},Ya);},timeout:function(){Ba.timeout();},error:function(ab){Ba.error(ab);}});},Ya);},call:function(qa){var Ca;function ya(Ia,Ba,Ua){bb(qa,function(){this.execute(this._msgCtx,Ia,Ua,this._msgCount,{result:function(Ha){bb(qa,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && this._output.close(Ua,Ta);Ha && Ha.closeSource(this._openedStreams);return Ha;},Ca);},timeout:function(){bb(qa,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && (this._output.close(Ua,Ta),this._input.close());qa.timeout();},Ca);},error:function(Ha){bb(qa,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && (this._output.close(Ua,Ta),this._input.close());if(W(Ha))return null;throw Ha;},Ca);}});},Ca);}Ca=this;bb(qa,function(){var Ia,Ba,Ua;Ia=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Ba=Date.now();Ua=this._remoteEntity.openConnection();this._output=Ua.output;this._input=Ua.input;-1 != Ia && (Ia=this._timeout - (Date.now() - Ba));this._openedStreams=!0;}catch(Ha){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ta);this._input && this._input.close();if(W(Ha))return null;throw Ha;}this._builder?ya(this._builder,this._tokenTicket,Ia):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ha){bb(qa,function(){ya(Ha.builder,Ha.tokenTicket,Ia);},Ca);},timeout:function(){bb(qa,function(){this._openedStreams && (this._output.close(this._timeout,Ta),this._input.close());qa.timeout();},Ca);},error:function(Ha){bb(qa,function(){this._openedStreams && (this._output.close(this._timeout,Ta),this._input.close());if(W(Ha))return null;throw Ha;},Ca);}});},Ca);}});})();(function(){Xd=Fb.Class.create({init:function(ha){Object.defineProperties(this,{id:{value:ha,writable:!1,configurable:!1}});},toJSON:function(){var ha;ha={};ha.id=this.id;return ha;},equals:function(ha){return this === ha?!0:ha instanceof Xd?this.id == ha.id:!1;},uniqueKey:function(){return this.id;}});af=function(ha){var X;X=ha.id;if(!X)throw new Gb(S.JSON_PARSE_ERROR,JSON.stringify(ha));return new Xd(X);};})();Fb.Class.create({isNewestMasterToken:function(ha,X,T){},isMasterTokenRevoked:function(ha,X){},acceptNonReplayableId:function(ha,X,T,V){},createMasterToken:function(ha,X,T,V,ba){},isMasterTokenRenewable:function(ha,X,T){},renewMasterToken:function(ha,X,T,V,ba){},isUserIdTokenRevoked:function(ha,X,T,V){},createUserIdToken:function(ha,X,T,V){},renewUserIdToken:function(ha,X,T,V){}});(function(){function ha(X,T,V,ba){this.sessiondata=X;this.tokendata=T;this.signature=V;this.verified=ba;}ic=Fb.Class.create({init:function(X,T,V,ba,W,ja,wa,ta,la,sa,za){var ma;ma=this;Ma(za,function(){var aa,da,ia,xa,Ta;if(V.getTime() < T.getTime())throw new xb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ba || ba > Qb)throw new xb("Sequence number " + ba + " is outside the valid range.");if(0 > W || W > Qb)throw new xb("Serial number " + W + " is outside the valid range.");aa=Math.floor(T.getTime() / 1E3);da=Math.floor(V.getTime() / 1E3);if(sa)ia=sa.sessiondata;else {xa={};ja && (xa.issuerdata=ja);xa.identity=wa;xa.encryptionkey=Kb(ta.toByteArray());xa.hmackey=Kb(la.toByteArray());ia=fc(JSON.stringify(xa),Tb);}if(sa)return (Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ba,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},identity:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1},sessiondata:{value:ia,writable:!1,enumerable:!1,configurable:!1},verified:{value:sa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:sa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ta=X.getMslCryptoContext();Ta.encrypt(ia,{result:function(La){Ma(za,function(){var Sa,Va;Sa={};Sa.renewalwindow=aa;Sa.expiration=da;Sa.sequencenumber=ba;Sa.serialnumber=W;Sa.sessiondata=Kb(La);Va=fc(JSON.stringify(Sa),Tb);Ta.sign(Va,{result:function(qa){Ma(za,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ba,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:W,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},identity:{value:wa,writable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,configurable:!1},hmacKey:{value:la,writable:!1,configurable:!1},sessiondata:{value:ia,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);},error:function(qa){za.error(qa);}});},ma);},error:function(La){za.error(La);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(X){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(X){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(X){var T;if(this.sequenceNumber == X.sequenceNumber)return this.expiration > X.expiration;if(this.sequenceNumber > X.sequenceNumber){T=this.sequenceNumber - Qb + 127;return X.sequenceNumber >= T;}T=X.sequenceNumber - Qb + 127;return this.sequenceNumber < T;},toJSON:function(){var X;X={};X.tokendata=Kb(this.tokendata);X.signature=Kb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof ic?this.serialNumber == X.serialNumber && this.sequenceNumber == X.sequenceNumber && this.expiration.getTime() == X.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});ed=function(X,T,V){Ma(V,function(){var ba,W,ja,wa,ta;ba=X.getMslCryptoContext();W=T.tokendata;ja=T.signature;if("string" !== typeof W || "string" !== typeof ja)throw new Gb(S.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(T));try{wa=Mb(W);}catch(la){throw new fb(S.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(T),la);}if(!wa || 0 == wa.length)throw new Gb(S.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(T));try{ta=Mb(ja);}catch(la){throw new fb(S.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(T),la);}ba.verify(wa,ta,{result:function(la){Ma(V,function(){var sa,za,ma,aa,da,ia,xa,Ta,La,Sa;sa=ec(wa,Tb);try{za=JSON.parse(sa);ma=parseInt(za.renewalwindow);aa=parseInt(za.expiration);da=parseInt(za.sequencenumber);ia=parseInt(za.serialnumber);xa=za.sessiondata;}catch(Va){if(Va instanceof SyntaxError)throw new Gb(S.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + sa,Va);throw Va;}if(!ma || ma != ma || !aa || aa != aa || "number" !== typeof da || da != da || "number" !== typeof ia || ia != ia || "string" !== typeof xa)throw new Gb(S.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + sa);if(aa < ma)throw new fb(S.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + sa);if(0 > da || da > Qb)throw new fb(S.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + sa);if(0 > ia || ia > Qb)throw new fb(S.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + sa);Ta=new Date(1E3 * ma);La=new Date(1E3 * aa);try{Sa=Mb(xa);}catch(Va){throw new fb(S.MASTERTOKEN_SESSIONDATA_INVALID,xa,Va);}if(!Sa || 0 == Sa.length)throw new fb(S.MASTERTOKEN_SESSIONDATA_MISSING,xa);la?ba.decrypt(Sa,{result:function(Va){Ma(V,function(){var qa,ya,Ca,Ia,Ba,Ua;qa=ec(Va,Tb);try{ya=JSON.parse(qa);Ca=ya.issuerdata;Ia=ya.identity;Ba=ya.encryptionkey;Ua=ya.hmackey;}catch(Ha){if(Ha instanceof SyntaxError)throw new Gb(S.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + qa,Ha);throw Ha;}if(Ca && "object" !== typeof Ca || !Ia || "string" !== typeof Ba || "string" !== typeof Ua)throw new Gb(S.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + qa);tc(Ba,oc,Dc,{result:function(Ha){tc(Ua,pc,Mc,{result:function(Ya){Ma(V,function(){var ab;ab=new ha(Va,wa,ta,la);new ic(X,Ta,La,da,ia,Ca,Ia,Ha,Ya,ab,V);});},error:function(Ya){V.error(new vb(S.MASTERTOKEN_KEY_CREATION_ERROR,Ya));}});},error:function(Ha){V.error(new vb(S.MASTERTOKEN_KEY_CREATION_ERROR,Ha));}});});},error:function(Va){V.error(Va);}}):(ma=new ha(null,wa,ta,la),new ic(X,Ta,La,da,ia,null,null,null,null,ma,V));});},error:function(la){V.error(la);}});});};})();(function(){function ha(X,T,V){this.tokendata=X;this.signature=T;this.verified=V;}Tc=Fb.Class.create({init:function(X,T,V,ba,W,ja,wa,ta,la){var sa;sa=this;Ma(la,function(){var za,ma,aa,da,ia,xa,Ta;if(V.getTime() < T.getTime())throw new xb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ba)throw new xb("Cannot construct a user ID token without a master token.");if(0 > W || W > Qb)throw new xb("Serial number " + W + " is outside the valid range.");za=Math.floor(T.getTime() / 1E3);ma=Math.floor(V.getTime() / 1E3);aa=ba.serialNumber;if(ta){da=ta.tokendata;ia=ta.signature;xa=ta.verified;aa=ba.serialNumber;Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:za,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ma,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:aa,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},customer:{value:wa,writable:!1,configurable:!1},verified:{value:xa,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:da,writable:!1,enumerable:!1,configurable:!1},signature:{value:ia,writable:!1,enumerable:!1,configurable:!1}});return this;}da={};ja && (da.issuerdata=ja);da.identity=wa;da=fc(JSON.stringify(da),Tb);Ta=X.getMslCryptoContext();Ta.encrypt(da,{result:function(La){Ma(la,function(){var Sa,Va;Sa={};Sa.renewalwindow=za;Sa.expiration=ma;Sa.mtserialnumber=aa;Sa.serialnumber=W;Sa.userdata=Kb(La);Va=fc(JSON.stringify(Sa),Tb);Ta.sign(Va,{result:function(qa){Ma(la,function(){Object.defineProperties(this,{ctx:{value:X,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:za,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ma,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ba.serialNumber,writable:!1,configurable:!1},serialNumber:{value:W,writable:!1,configurable:!1},issuerData:{value:ja,writable:!1,configurable:!1},customer:{value:wa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa,writable:!1,enumerable:!1,configurable:!1}});return this;},sa);},error:function(qa){Ma(la,function(){qa instanceof fb && qa.setEntity(ba);throw qa;},sa);}});},sa);},error:function(La){Ma(la,function(){La instanceof fb && La.setEntity(ba);throw La;},sa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(X){return X && X.serialNumber == this.mtSerialNumber;},toJSON:function(){var X;X={};X.tokendata=Kb(this.tokendata);X.signature=Kb(this.signature);return X;},equals:function(X){return this === X?!0:X instanceof Tc?this.serialNumber == X.serialNumber && this.mtSerialNumber == X.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});vd=function(X,T,V,ba){Ma(ba,function(){var W,ja,wa,ta,la;W=X.getMslCryptoContext();ja=T.tokendata;wa=T.signature;if("string" !== typeof ja || "string" !== typeof wa)throw new Gb(S.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(T)).setEntity(V);try{ta=Mb(ja);}catch(sa){throw new fb(S.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(T),sa).setEntity(V);}if(!ta || 0 == ta.length)throw new Gb(S.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(T)).setEntity(V);try{la=Mb(wa);}catch(sa){throw new fb(S.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(T),sa).setEntity(V);}W.verify(ta,la,{result:function(sa){Ma(ba,function(){var za,ma,aa,da,ia,xa,Ta,La,Sa,Va;za=ec(ta,Tb);try{ma=JSON.parse(za);aa=parseInt(ma.renewalwindow);da=parseInt(ma.expiration);ia=parseInt(ma.mtserialnumber);xa=parseInt(ma.serialnumber);Ta=ma.userdata;}catch(qa){if(qa instanceof SyntaxError)throw new Gb(S.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + za,qa).setEntity(V);throw qa;}if(!aa || aa != aa || !da || da != da || "number" !== typeof ia || ia != ia || "number" !== typeof xa || xa != xa || "string" !== typeof Ta)throw new Gb(S.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + za).setEntity(V);if(da < aa)throw new fb(S.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + za).setEntity(V);if(0 > ia || ia > Qb)throw new fb(S.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + za).setEntity(V);if(0 > xa || xa > Qb)throw new fb(S.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + za).setEntity(V);La=new Date(1E3 * aa);Sa=new Date(1E3 * da);if(!V || ia != V.serialNumber)throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ia + "; mt " + JSON.stringify(V)).setEntity(V);try{Va=Mb(Ta);}catch(qa){throw new fb(S.USERIDTOKEN_USERDATA_INVALID,Ta,qa).setEntity(V);}if(!Va || 0 == Va.length)throw new fb(S.USERIDTOKEN_USERDATA_MISSING,Ta).setEntity(V);sa?W.decrypt(Va,{result:function(qa){Ma(ba,function(){var ya,Ca,Ia,Ba,Ua;ya=ec(qa,Tb);try{Ca=JSON.parse(ya);Ia=Ca.issuerdata;Ba=Ca.identity;}catch(Ha){if(Ha instanceof SyntaxError)throw new Gb(S.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ya).setEntity(V);throw Ha;}if(Ia && "object" !== typeof Ia || "object" !== typeof Ba)throw new Gb(S.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + ya).setEntity(V);try{Ua=af(Ba);}catch(Ha){throw new fb(S.USERIDTOKEN_IDENTITY_INVALID,"userdata " + ya,Ha).setEntity(V);}Ba=new ha(ta,la,sa);new Tc(X,La,Sa,V,xa,Ia,Ua,Ba,ba);});},error:function(qa){Ma(ba,function(){qa instanceof fb && qa.setEntity(V);throw qa;});}}):(aa=new ha(ta,la,sa),new Tc(X,La,Sa,V,xa,null,null,aa,ba));});},error:function(sa){Ma(ba,function(){sa instanceof fb && sa.setEntity(V);throw sa;});}});});};})();(function(){function ha(T,V){var ba,W,ja;ba=T.tokendata;if("string" !== typeof ba)throw new Gb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T));try{W=Mb(ba);}catch(wa){throw new fb(S.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(T),wa);}if(!W || 0 == W.length)throw new Gb(S.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(T));try{ja=JSON.parse(ec(W,Tb)).name;}catch(wa){if(wa instanceof SyntaxError)throw new Gb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T),wa);throw wa;}if(!ja)throw new Gb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(T));return V[ja]?V[ja]:V[""];}function X(T,V,ba){this.tokendata=T;this.signature=V;this.verified=ba;}Fc=Fb.Class.create({init:function(T,V,ba,W,ja,wa,ta,la,sa,za){var ma;ma=this;Ma(za,function(){var aa,da,ia,xa,Ta;if(W && ja && !ja.isBoundTo(W))throw new xb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");aa=W?W.serialNumber:-1;da=ja?ja.serialNumber:-1;if(sa)return (Ta=sa.tokendata,Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:aa,writable:!1,configurable:!1},uitSerialNumber:{value:da,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ta,writable:!1,configurable:!1},verified:{value:sa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ta){ia=Wd(ta,ba);ia.length < ba.length || (ta=null,ia=ba);}else (ta=null,ia=ba);xa={};xa.name=V;-1 != aa && (xa.mtserialnumber=aa);-1 != da && (xa.uitserialnumber=da);xa.encrypted=wa;ta && (xa.compressionalgo=ta);if(wa && 0 < ia.length)la.encrypt(ia,{result:function(La){Ma(za,function(){var Sa;xa.servicedata=Kb(La);Sa=fc(JSON.stringify(xa),Tb);la.sign(Sa,{result:function(Va){Ma(za,function(){Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:aa,writable:!1,configurable:!1},uitSerialNumber:{value:da,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ta,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Va,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);},error:function(Va){Ma(za,function(){Va instanceof fb && (Va.setEntity(W),Va.setUser(ja));throw Va;});}});},ma);},error:function(La){Ma(za,function(){La instanceof fb && (La.setEntity(W),La.setUser(ja));throw La;});}});else {xa.servicedata=Kb(ia);Ta=fc(JSON.stringify(xa),Tb);la.sign(Ta,{result:function(La){Ma(za,function(){Object.defineProperties(this,{ctx:{value:T,writable:!1,enumerable:!1,configurable:!1},name:{value:V,writable:!1,configurable:!1},mtSerialNumber:{value:aa,writable:!1,configurable:!1},uitSerialNumber:{value:da,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},encrypted:{value:wa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ta,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:La,writable:!1,enumerable:!1,configurable:!1}});return this;},ma);},error:function(La){Ma(za,function(){La instanceof fb && (La.setEntity(W),La.setUser(ja));throw La;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(T){return T?T instanceof ic?T.serialNumber == this.mtSerialNumber:T instanceof Tc?T.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var T;T={};T.tokendata=Kb(this.tokendata);T.signature=Kb(this.signature);return T;},equals:function(T){return this === T?!0:T instanceof Fc?this.name == T.name && this.mtSerialNumber == T.mtSerialNumber && this.uitSerialNumber == T.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});zc=function(T,V,ba,W,ja,wa,ta,la,sa){new Fc(T,V,ba,W,ja,wa,ta,la,null,sa);};wd=function(T,V,ba,W,ja,wa){Ma(wa,function(){var ta,la,sa,za,ma,aa,da,ia,xa,Ta,La,Sa,Va;!ja || ja instanceof Uc || (ja=ha(V,ja));ta=V.tokendata;la=V.signature;if("string" !== typeof ta || "string" !== typeof la)throw new Gb(S.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(V)).setEntity(ba).setEntity(W);try{sa=Mb(ta);}catch(qa){throw new fb(S.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(V),qa).setEntity(ba).setEntity(W);}if(!sa || 0 == sa.length)throw new Gb(S.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(V)).setEntity(ba).setEntity(W);try{za=Mb(la);}catch(qa){throw new fb(S.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(V),qa).setEntity(ba).setEntity(W);}ma=ec(sa,Tb);try{aa=JSON.parse(ma);da=aa.name;ia=aa.mtserialnumber?parseInt(aa.mtserialnumber):-1;xa=aa.uitserialnumber?parseInt(aa.uitserialnumber):-1;Ta=aa.encrypted;La=aa.compressionalgo;Sa=aa.servicedata;}catch(qa){if(qa instanceof SyntaxError)throw new Gb(S.JSON_PARSE_ERROR,"servicetokendata " + ma,qa).setEntity(ba).setEntity(W);throw qa;}if(!da || "number" !== typeof ia || ia != ia || "number" !== typeof xa || xa != xa || "boolean" !== typeof Ta || La && "string" !== typeof La || "string" !== typeof Sa)throw new Gb(S.JSON_PARSE_ERROR,"servicetokendata " + ma).setEntity(ba).setEntity(W);if(aa.mtserialnumber && 0 > ia || ia > Qb)throw new fb(S.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ma).setEntity(ba).setEntity(W);if(aa.uitserialnumber && 0 > xa || xa > Qb)throw new fb(S.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + ma).setEntity(ba).setEntity(W);if(-1 != ia && (!ba || ia != ba.serialNumber))throw new fb(S.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ia + "; mt " + ba).setEntity(ba).setEntity(W);if(-1 != xa && (!W || xa != W.serialNumber))throw new fb(S.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + xa + "; uit " + W).setEntity(ba).setEntity(W);Ta=!0 === Ta;if(La){if(!Kc[La])throw new fb(S.UNIDENTIFIED_COMPRESSION,La);Va=La;}else Va=null;ja?ja.verify(sa,za,{result:function(qa){Ma(wa,function(){var ya,Ca;if(qa){try{ya=Mb(Sa);}catch(Ia){throw new fb(S.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ma,Ia).setEntity(ba).setEntity(W);}if(!ya || 0 != Sa.length && 0 == ya.length)throw new fb(S.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + ma).setEntity(ba).setEntity(W);if(Ta && 0 < ya.length)ja.decrypt(ya,{result:function(Ia){Ma(wa,function(){var Ba,Ua;Ba=Va?xd(Va,Ia):Ia;Ua=new X(sa,za,qa);new Fc(T,da,Ba,-1 != ia?ba:null,-1 != xa?W:null,Ta,Va,ja,Ua,wa);});},error:function(Ia){Ma(wa,function(){Ia instanceof fb && (Ia.setEntity(ba),Ia.setUser(W));throw Ia;});}});else {ya=Va?xd(Va,ya):ya;Ca=new X(sa,za,qa);new Fc(T,da,ya,-1 != ia?ba:null,-1 != xa?W:null,Ta,Va,ja,Ca,wa);}}else (ya="" == Sa?new Uint8Array(0):null,Ca=new X(sa,za,qa),new Fc(T,da,ya,-1 != ia?ba:null,-1 != xa?W:null,Ta,Va,ja,Ca,wa));});},error:function(qa){Ma(wa,function(){qa instanceof fb && (qa.setEntity(ba),qa.setUser(W));throw qa;});}}):(ta="" == Sa?new Uint8Array(0):null,la=new X(sa,za,!1),new Fc(T,da,ta,-1 != ia?ba:null,-1 != xa?W:null,Ta,Va,ja,la,wa));});};})();Gc={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(Gc);(function(){$c=Fb.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ha){return this === ha?!0:ha instanceof $c?this.scheme == ha.scheme:!1;},toJSON:function(){var ha;ha={};ha.scheme=this.scheme;ha.authdata=this.getAuthData();return ha;}});Qe=function(ha,X,T,V){Ma(V,function(){var ba,W,ja;ba=T.scheme;W=T.authdata;if(!ba || !W)throw new Gb(S.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(T));if(!Gc[ba])throw new Cc(S.UNIDENTIFIED_USERAUTH_SCHEME,ba);ja=ha.getUserAuthenticationFactory(ba);if(!ja)throw new Cc(S.USERAUTH_FACTORY_NOT_FOUND,ba);ja.createData(ha,X,W,V);});};})();bf=Fb.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},createData:function(ha,X,T,V){},authenticate:function(ha,X,T,V){}});(function(){hd=$c.extend({init:function V(X,T){V.base.call(this,Gc.NETFLIXID);Object.defineProperties(this,{netflixId:{value:X,writable:!1,configurable:!1},secureNetflixId:{value:T,writable:!1,configurable:!1}});},getAuthData:function(){var X;X={};X.netflixid=this.netflixId;this.secureNetflixId && (X.securenetflixid=this.secureNetflixId);return X;},equals:function V(T){return this === T?!0:T instanceof hd?V.base.call(this,T) && this.netflixId == T.netflixId && this.secureNetflixId == T.secureNetflixId:!1;}});cf=function(T){var V,ba;V=T.netflixid;ba=T.securenetflixid;if(!V)throw new Gb(S.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(T));return new hd(V,ba);};})();Df=bf.extend({init:function X(){X.base.call(this,Gc.NETFLIXID);},createData:function(X,T,V,ba){Ma(ba,function(){return cf(V);});},authenticate:function(X,T,V,ba){if(!(V instanceof hd))throw new xb("Incorrect authentication data type " + V + ".");X=V.secureNetflixId;if(!V.netflixId || !X)throw new Cc(S.NETFLIXID_COOKIES_BLANK).setUser(V);throw new Cc(S.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(V);}});(function(){id=$c.extend({init:function ba(T,V){ba.base.call(this,Gc.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:T,writable:!1,configurable:!1},password:{value:V,writable:!1,configurable:!1}});},getAuthData:function(){var T;T={};T.email=this.email;T.password=this.password;return T;},equals:function ba(V){return this === V?!0:V instanceof id?ba.base.call(this,this,V) && this.email == V.email && this.password == V.password:!1;}});df=function(V){var ba,W;ba=V.email;W=V.password;if(!ba || !W)throw new Gb(S.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(V));return new id(ba,W);};})();Ef=bf.extend({init:function T(){T.base.call(this,Gc.EMAIL_PASSWORD);},createData:function(T,V,ba,W){Ma(W,function(){return df(ba);});},authenticate:function(T,V,ba,W){if(!(ba instanceof id))throw new xb("Incorrect authentication data type " + ba + ".");T=ba.password;if(!ba.email || !T)throw new Cc(S.EMAILPASSWORD_BLANK).setUser(ba);throw new Cc(S.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ba);}});Object.freeze({ENTITY_REAUTH:Ea.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ea.ENTITYDATA_REAUTH});Ff=Fb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(T,V){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(T){},getUserAuthenticationFactory:function(T){},getTokenFactory:function(){},getKeyExchangeFactory:function(T){},getKeyExchangeFactories:function(){},getMslStore:function(){}});ef=Fb.Class.create({setCryptoContext:function(T,V){},getMasterToken:function(){},getNonReplayableId:function(T){},getCryptoContext:function(T){},removeCryptoContext:function(T){},clearCryptoContexts:function(){},addUserIdToken:function(T,V){},getUserIdToken:function(T){},removeUserIdToken:function(T){},clearUserIdTokens:function(){},addServiceTokens:function(T){},getServiceTokens:function(T,V){},removeServiceTokens:function(T,V,ba){},clearServiceTokens:function(){}});(function(){var T;T=Kc;Wd=function(V,ba){var W;W={};switch(V){case T.LZW:return ke(ba,W);case T.GZIP:return gzip$compress(ba);default:throw new fb(S.UNSUPPORTED_COMPRESSION,V);}};xd=function(V,ba,W){switch(V){case T.LZW:return le(ba);case T.GZIP:return gzip$uncompress(ba);default:throw new fb(S.UNSUPPORTED_COMPRESSION,V.name());}};})();ef.extend({setCryptoContext:function(T,V){},getMasterToken:function(){return null;},getNonReplayableId:function(T){return 1;},getCryptoContext:function(T){return null;},removeCryptoContext:function(T){},clearCryptoContexts:function(){},addUserIdToken:function(T,V){},getUserIdToken:function(T){return null;},removeUserIdToken:function(T){},clearUserIdTokens:function(){},addServiceTokens:function(T){},getServiceTokens:function(T,V){if(V){if(!T)throw new fb(S.USERIDTOKEN_MASTERTOKEN_NULL);if(!V.isBoundTo(T))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + V.mtSerialNumber + "; mt " + T.serialNumber);}return [];},removeServiceTokens:function(T,V,ba){if(ba && V && !ba.isBoundTo(V))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.masterTokenSerialNumber + "; mt " + V.serialNumber);},clearServiceTokens:function(){}});(function(){ff=ef.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(V,ba){var W;if(ba){W=V.uniqueKey();this.masterTokens[W]=V;this.cryptoContexts[W]=ba;}else this.removeCryptoContext(V);},getMasterToken:function(){var V,ba,W;V=null;for(ba in this.masterTokens){W=this.masterTokens[ba];if(!V || W.isNewerThan(V))V=W;}return V;},getNonReplayableId:function(V){var ba;V=V.serialNumber;ba=this.nonReplayableIds[V] !== Db?this.nonReplayableIds[V]:0;if(0 > ba || ba > Qb)throw new xb("Non-replayable ID " + ba + " is outside the valid range.");ba=ba == Qb?0:ba + 1;return this.nonReplayableIds[V]=ba;},getCryptoContext:function(V){return this.cryptoContexts[V.uniqueKey()];},removeCryptoContext:function(V){var ba,W,ja,wa;ba=V.uniqueKey();if(this.masterTokens[ba]){W=V.serialNumber;for(ja in this.masterTokens){wa=this.masterTokens[ja];if(!wa.equals(V) && wa.serialNumber == W){delete this.masterTokens[ba];delete this.cryptoContexts[ba];return;}}Object.keys(this.userIdTokens).forEach(function(ta){ta=this.userIdTokens[ta];ta.isBoundTo(V) && this.removeUserIdToken(ta);},this);try{this.removeServiceTokens(null,V,null);}catch(ta){if(ta instanceof fb)throw new xb("Unexpected exception while removing master token bound service tokens.",ta);throw ta;}delete this.nonReplayableIds[W];delete this.masterTokens[ba];delete this.cryptoContexts[ba];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(V){for(var ba in V){delete V[ba];}},this);},addUserIdToken:function(V,ba){var W,ja;W=!1;for(ja in this.masterTokens){if(ba.isBoundTo(this.masterTokens[ja])){W=!0;break;}}if(!W)throw new fb(S.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ba.mtSerialNumber);this.userIdTokens[V]=ba;},getUserIdToken:function(V){return this.userIdTokens[V];},removeUserIdToken:function(V){var ba,W,ja;ba=null;for(W in this.masterTokens){ja=this.masterTokens[W];if(V.isBoundTo(ja)){ba=ja;break;}}Object.keys(this.userIdTokens).forEach(function(wa){if(this.userIdTokens[wa].equals(V)){try{this.removeServiceTokens(null,ba,V);}catch(ta){if(ta instanceof fb)throw new xb("Unexpected exception while removing user ID token bound service tokens.",ta);throw ta;}delete this.userIdTokens[wa];}},this);},clearUserIdTokens:function(){for(var V in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[V]);}},addServiceTokens:function(V){V.forEach(function(ba){var W,ja;if(ba.isMasterTokenBound()){W=!1;for(ja in this.masterTokens){if(ba.isBoundTo(this.masterTokens[ja])){W=!0;break;}}if(!W)throw new fb(S.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ba.mtSerialNumber);}if(ba.isUserIdTokenBound()){W=!1;for(var wa in this.userIdTokens){if(ba.isBoundTo(this.userIdTokens[wa])){W=!0;break;}}if(!W)throw new fb(S.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ba.uitSerialNumber);}},this);V.forEach(function(ba){var W;if(ba.isUnbound())this.unboundServiceTokens[ba.uniqueKey()]=ba;else {if(ba.isMasterTokenBound()){W=this.mtServiceTokens[ba.mtSerialNumber];W || (W={});W[ba.uniqueKey()]=ba;this.mtServiceTokens[ba.mtSerialNumber]=W;}ba.isUserIdTokenBound() && ((W=this.uitServiceTokens[ba.uitSerialNumber]) || (W={}),W[ba.uniqueKey()]=ba,this.uitServiceTokens[ba.uitSerialNumber]=W);}},this);},getServiceTokens:function(V,ba){var W,ja,wa;if(ba){if(!V)throw new fb(S.USERIDTOKEN_MASTERTOKEN_NULL);if(!ba.isBoundTo(V))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.mtSerialNumber + "; mt " + V.serialNumber);}W={};for(ja in this.unboundServiceTokens){wa=this.unboundServiceTokens[ja];W[wa.uniqueKey()]=wa;}if(V && (ja=this.mtServiceTokens[V.serialNumber]))for(var ta in ja){wa=ja[ta];wa.isUserIdTokenBound() || (W[ta]=wa);}if(ba && (ba=this.uitServiceTokens[ba.serialNumber]))for(var la in ba){ta=ba[la];ta.isBoundTo(V) && (W[la]=ta);}V=[];for(var sa in W){V.push(W[sa]);}return V;},removeServiceTokens:function(V,ba,W){var ja,wa,ta;if(W && ba && !W.isBoundTo(ba))throw new fb(S.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + W.mtSerialNumber + "; mt " + ba.serialNumber);!V || ba || W || Object.keys(this.unboundServiceTokens).forEach(function(la){this.unboundServiceTokens[la].name == V && delete this.unboundServiceTokens[la];},this);if(ba && !W && (ja=this.mtServiceTokens[ba.serialNumber])){ta=Object.keys(ja);ta.forEach(function(la){var sa;sa=ja[la];V && sa.name != V || delete ja[la];},this);this.mtServiceTokens[ba.serialNumber]=ja;}W && (wa=this.uitServiceTokens[W.serialNumber]) && (ba=Object.keys(wa),ba.forEach(function(la){var sa;sa=wa[la];V && sa.name != V || delete wa[la];},this),this.uitServiceTokens[W.serialNumber]=wa);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(V){for(var ba in V){delete V[ba];}},this);}});})();Af.extend({init:function V(){V.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(V,ba){ba && V && V.length && (V=Kb(V),this._contextMap[V]=ba);},getCryptoContext:function(V){return V && V.length?(V=Kb(V),this._contextMap[V] || null):null;},removeCryptoContext:function(V){V && V.length && (V=Kb(V),delete this._contextMap[V]);}});sf.extend({init:function ta(ba,W,ja,wa){ta.base.call(this,ba);Object.defineProperties(this,{_kde:{value:W,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ja,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:wa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ba,W){if(!(W instanceof xc))throw new xb("Incorrect authentication data type " + JSON.stringify(W) + ".");if(W.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"mgk " + W.identity);return new rd(ba,this.localIdentity,this._kde,this._kdh,this._kdw);}});tf.extend({init:function la(W,ja,wa,ta){la.base.call(this,W);Object.defineProperties(this,{_kpe:{value:ja,writable:!1,enumerable:!1,configurable:!1},_kph:{value:wa,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(W,ja){if(!(ja instanceof yc))throw new xb("Incorrect authentication data type " + JSON.stringify(ja) + ".");if(ja.identity != this.localIdentity)throw new rc(S.ENTITY_NOT_FOUND,"psk " + ja.identity);return new rd(W,this.localIdentity,this._kpe,this._kph,this._kpw);}});Hf=ff.extend({init:function ma(ja,wa,ta,la,sa,za){ma.base.call(this);this._log=ja;this._esn=wa;this._keyRequestData=ta;this._createKeyRequestData=la;this._systemKeyName=sa;this._systemKeyWrapFormat=za;},setCryptoContext:function sa(wa,ta,la){var za;za=this;za._log.trace("Adding MasterToken",{SequenceNumber:wa.sequenceNumber,SerialNumber:wa.serialNumber,Expiration:wa.expiration.getTime()});sa.base.call(this,wa,ta);!la && (wa=za._createKeyRequestData) && (za._log.trace("Generating new keyx request data"),wa().then(function(ma){za._keyRequestData=ma;},function(ma){za._log.error("Unable to generate new keyx request data","" + ma);}));},addUserIdToken:function sa(ta,la){this._log.trace("Adding UserIdToken",{UserId:ta,SerialNumber:la.serialNumber,MTSerialNumber:la.mtSerialNumber,Expiration:la.expiration.getTime()});sa.base.call(this,ta,la);},addServiceTokens:function sa(la){sa.base.call(this,la.filter(function(za){return !Gf[za.name];}));},getUserIdTokenKeys:function(){var la,sa;la=[];for(sa in this.userIdTokens){la.push(sa);}return la;},rekeyUserIdToken:function(la,sa){this.userIdTokens[la] && (this.userIdTokens[sa]=this.userIdTokens[la],delete this.userIdTokens[la]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(la){var sa;sa=this;Ma(la,function(){var za;za=sa.getMasterToken();za?sa.getKeysForStore(za,{result:function(ma){Ma(la,function(){var aa,da,ia;aa=sa.userIdTokens;da=Object.keys(aa).map(function(xa){var Ta;Ta=aa[xa];return {userId:xa,userIdTokenJSON:aa[xa].toJSON(),serviceTokenJSONList:sa.getServiceTokens(za,Ta).map(mf)};});ma.esn=sa._esn;ma.masterTokenJSON=za.toJSON();ma.userList=da;ia=sa._keyRequestData.storeData;ia && Object.keys(ia).forEach(function(xa){ma[xa]=ia[xa];});return ma;});},timeout:la.timeout,error:la.error}):la.result(null);});},getKeysForStore:function(la,sa){var za;za=this;Ma(sa,function(){var ma;ma=za.getCryptoContext(la);ma={encryptionKey:ma.encryptionKey,hmacKey:ma.hmacKey};if(ma.encryptionKey && ma.hmacKey){if(za._systemKeyWrapFormat)za.wrapKeysWithSystemKey(ma,sa);else return ma;}else throw new fb(S.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(la,sa){var za;za=this;ee(this._systemKeyName,{result:function(ma){Ma(sa,function(){var aa,da,ia,xa;aa=la.encryptionKey;da=la.hmacKey;ia=aa[Xc];xa=da[Xc];if(ia && xa)return {wrappedEncryptionKey:ia,wrappedHmacKey:xa};Promise.resolve().then(function(){return Promise.all([Pb.wrapKey(za._systemKeyWrapFormat,aa,ma,ma.algorithm),Pb.wrapKey(za._systemKeyWrapFormat,da,ma,ma.algorithm)]);}).then(function(Ta){ia=Kb(Ta[0]);aa[Xc]=ia;xa=Kb(Ta[1]);da[Xc]=xa;sa.result({wrappedEncryptionKey:ia,wrappedHmacKey:xa});}).catch(function(Ta){sa.error(new fb(S.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Ta));});});},timeout:sa.timeout,error:sa.error});},unwrapKeysWithSystemKey:function(la,sa){var za;za=this;ee(this._systemKeyName,{result:function(ma){Ma(sa,function(){var aa,da;aa=Mb(la.wrappedEncryptionKey);da=Mb(la.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Pb.unwrapKey(za._systemKeyWrapFormat,aa,ma,ma.algorithm,oc,!1,Dc),Pb.unwrapKey(za._systemKeyWrapFormat,da,ma,ma.algorithm,pc,!1,Mc)]);}).then(function(ia){var xa;xa=ia[0];ia=ia[1];xa[Xc]=la.wrappedEncryptionKey;ia[Xc]=la.wrappedHmacKey;sa.result({encryptionKey:xa,hmacKey:ia});}).catch(function(ia){sa.error(new fb(S.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",ia));});});},timeout:sa.timeout,error:sa.error});},loadStoreState:function(la,sa,za,ma){var ia,xa;function aa(Ta,La){var Sa;try{Sa=za.userList.slice();}catch(Va){}Sa?(function qa(){var ya;ya=Sa.shift();ya?vd(sa,ya.userIdTokenJSON,Ta,{result:function(Ca){try{ia.addUserIdToken(ya.userId,Ca);da(Ta,Ca,ya.serviceTokenJSONList,{result:qa,timeout:qa,error:qa});}catch(Ia){qa();}},timeout:qa,error:qa}):La.result();})():La.result();}function da(Ta,La,Sa,Va){var qa,ya;try{qa=Sa.slice();}catch(Ca){}if(qa){ya=ia.getCryptoContext(Ta);(function Ia(){var Ba;Ba=qa.shift();Ba?wd(sa,Ba,Ta,La,ya,{result:function(Ua){ia.addServiceTokens([Ua]);Ia();},timeout:function(){Ia();},error:function(){Ia();}}):Va.result();})();}else Va.result();}ia=this;xa=ia._log;za.esn != ia._esn?(xa.error("Esn mismatch, starting fresh"),ma.error()):(function(Ta){var Va,qa,ya,Ca;function La(){var Ia;if(!Va && qa && ya && Ca){Va=!0;Ia=new lc(sa,qa,la.esn,{rawKey:ya},{rawKey:Ca});ia.setCryptoContext(qa,Ia,!0);Ta.result(qa);}}function Sa(Ia,Ba){xa.error(Ia,Ba && "" + Ba);Va || (Va=!0,Ta.error());}za.masterTokenJSON?(ed(sa,za.masterTokenJSON,{result:function(Ia){qa=Ia;La();},timeout:function(){Sa("Timeout parsing MasterToken");},error:function(Ia){Sa("Error parsing MasterToken",Ia);}}),ia._systemKeyWrapFormat?ia.unwrapKeysWithSystemKey(za,{result:function(Ia){ya=Ia.encryptionKey;Ca=Ia.hmacKey;La();},timeout:function(){Sa("Timeout unwrapping keys");},error:function(Ia){Sa("Error unwrapping keys",Ia);}}):Promise.resolve().then(function(){return Pb.encrypt({name:oc.name,iv:new Uint8Array(16)},za.encryptionKey,new Uint8Array(1));}).then(function(Ia){ya=za.encryptionKey;}).catch(function(Ia){Sa("Error loading encryptionKey");}).then(function(){return Pb.sign(pc,za.hmacKey,new Uint8Array(1));}).then(function(Ia){Ca=za.hmacKey;La();}).catch(function(Ia){Sa("Error loading hmacKey");})):Sa("Persisted store is corrupt");})({result:function(Ta){aa(Ta,ma);},timeout:ma.timeout,error:ma.error});}});Gf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Xc="$netflix$msl$wrapsys";If=Ff.extend({init:function(la,sa,za,ma,aa,da){var ia,xa;ia=new fd([Kc.LZW]);xa=new vf();xa.addPublicKey(sa,za);ma[Wb.RSA]=new uf(xa);sa={};sa[Gc.EMAIL_PASSWORD]=new Ef();sa[Gc.NETFLIXID]=new Df();la={_mslCryptoContext:{value:new rf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:ia,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:aa,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:ma,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:sa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:da,writable:!1,enumerable:!1,configurable:!1},_store:{value:la,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,la);},getTime:function(){return Date.now();},getRandom:function(){return new pe();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(la,sa){sa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(la){return this._entityAuthFactories[la];},getUserAuthenticationFactory:function(la){return this._userAuthFactories[la];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(la){return this._keyExchangeFactories.filter(function(sa){return sa.scheme == la;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ge=Ze.extend({init:function(la,sa,za,ma){this._log=la;this._mslContext=sa;this._mslRequest=za;this._keyRequestData=ma;},getCryptoContexts:function(){return {};},isEncrypted:function(){return !!this._mslRequest.encrypted;},isNonReplayable:function(){return !!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(la,sa,za,ma){var aa;aa=this._mslRequest;Ma(ma,function(){return la || !aa.shouldSendUserAuthData?null:aa.email?new id(aa.email,aa.password):aa.useNetflixUserAuthData || za && aa.sendUserAuthIfRequired?new hd():null;});},getCustomer:function(){return null;},getKeyRequestData:function(la){la.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(la,sa,za){var ma,aa,da,ia,xa,Ta;ma=this._log;aa=(this._mslRequest.serviceTokens || []).slice();da=this._mslContext;sa=da.getMslStore();ia=la.builder.getMasterToken();xa=this.getUserId();Ta=sa.getUserIdToken(xa);(function Sa(){var Va;Va=aa.shift();if(Va)try{Va instanceof Fc?(la.addPrimaryServiceToken(Va),Sa()):wd(da,Va,ia,Ta,null,{result:function(qa){try{la.addPrimaryServiceToken(qa);}catch(ya){ma.warn("Exception adding service token","" + ya);}Sa();},timeout:function(){ma.warn("Timeout parsing service token");Sa();},error:function(qa){ma.warn("Error parsing service token","" + qa);Sa();}});}catch(qa){ma.warn("Exception processing service token","" + qa);Sa();}else za.result(!0);})();},write:function(la,sa,za){var ma;ma=fc(this._mslRequest.body);la.write(ma,0,ma.length,sa,{result:function(aa){aa != ma.length?za.error(new Xb("Not all data was written to output.")):la.flush(sa,{result:function(){za.result(!0);},timeout:function(){za.timeout();},error:function(da){za.error(da);}});},timeout:function(){za.timeout();},error:function(aa){za.error(aa);}});},getDebugContext:function(){this._dc || (this._dc=new Jf(this._log,this._mslRequest));return this._dc;}});Jf=Cf.extend({init:function(la,sa){this._log=la;this._mslRequest=sa;},sentHeader:function(la){this._log.trace("Sent MSL header",fe(this._mslRequest,la),la.serviceTokens && la.serviceTokens.map(nf).join("\n"));},receivedHeader:function(la){var sa,za;sa=fe(this._mslRequest,la);za=la.errorCode;za?this._log.warn("Received MSL error header",sa,{errorCode:za,errorMessage:la.errorMessage,internalCode:la.internalCode}):this._log.trace("Received MSL header",sa);}});Kf={JWK_RSA:function(la){return pf(la,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ee.JWK_RSA);}};pb.netflix=pb.netflix || ({});pb.netflix.msl={createMslClient:function(la,sa){var za,ma,aa,da,ia;za=la.log;ia=la.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Vb && Vb.generateKey && Vb.importKey && Vb.unwrapKey))throw new fb(S.INTERNAL_EXCEPTION,"No WebCrypto");dc=Vb.generateKey({name:"AES-CBC",length:128},!0,Dc).then?md.V2014_02:md.LEGACY;ia("mslisik");return Pb.importKey("spki",la.serverIdentityKeyData,qe,!1,["verify"]);}).then(function(xa){return new Promise(function(Ta,La){Jc(xa,{result:Ta,error:function(){La(new fb(S.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(xa){ma=xa;if(xa=Kf.JWK_RSA)return (ia("mslcc"),xa(la));throw new fb(S.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(xa){var Ta;aa=new Hf(za,la.esn,xa.keyRequestData,xa.createKeyRequestData,la.authenticationKeyNames.s,la.systemKeyWrapFormat);da=new If(aa,la.serverIdentityId,ma,xa.entityAuthFactories,xa.entityAuthData,xa.keyExchangeFactories);Ta=la.storeState;if(Ta)return (ia("mslss"),za.info("Loading store state"),new Promise(function(La,Sa){aa.loadStoreState(la,da,Ta,{result:La,timeout:La,error:La});}));za.info("No store state, starting fresh");}).then(function(){var xa;xa=new $e();ia("msldone");sa.result(new of(za,xa,da,aa,la.ErrorSubCodes));}).catch(function(xa){sa.error(xa);});},IHttpLocation:yf,MslIoException:Xb};(function(){var ab,Wa,kb,ob,qb,rb,sb,Cb,Ab;function la(ra){var Da;Da=0;return function(){return Da < ra.length?{done:!1,value:ra[Da++]}:{done:!0};};}function sa(ra,Da){var Na,b;if(Da)a:{Na=Wa;ra=ra.split(".");for(var r=0;r < ra.length - 1;r++){b=ra[r];if(!((b in Na)))break a;Na=Na[b];}ra=ra[ra.length - 1];r=Na[ra];Da=Da(r);Da != r && null != Da && ab(Na,ra,{configurable:!0,writable:!0,value:Da});}}function za(ra){ra={next:ra};ra[Symbol.iterator]=function(){return this;};return ra;}function ma(ra){var Da;Da="undefined" != typeof Symbol && Symbol.iterator && ra[Symbol.iterator];return Da?Da.call(ra):{next:la(ra)};}function aa(ra){for(var Da,Na=[];!(Da=ra.next()).done;){Na.push(Da.value);}return Na;}function da(ra){return ra instanceof Array?ra:aa(ma(ra));}function ia(ra,Da){var r;ra.prototype=kb(Da.prototype);ra.prototype.constructor=ra;if(Cb)Cb(ra,Da);else for(var Na in Da){if("prototype" != Na)if(Object.defineProperties){r=Object.getOwnPropertyDescriptor(Da,Na);r && Object.defineProperty(ra,Na,r);}else ra[Na]=Da[Na];}ra.jgc=Da.prototype;}function xa(){this.cU=!1;this.OC=null;this.WX=void 0;this.Av=1;this.YWa=this.jia=0;this.nE=null;}function Ta(ra){if(ra.cU)throw new TypeError("Generator is already running");ra.cU=!0;}function La(ra,Da,Na){ra.Av=Na;return {value:Da};}function Sa(ra){this.zf=new xa();this.FWb=ra;}function Va(ra,Da){var Na;Ta(ra.zf);Na=ra.zf.OC;if(Na)return qa(ra,("return" in Na)?Na["return"]:function(r){return {value:r,done:!0};},Da,ra.zf.return);ra.zf.return(Da);return ya(ra);}function qa(ra,Da,Na,r){var b,a;try{b=Da.call(ra.zf.OC,Na);if(!(b instanceof Object))throw new TypeError("Iterator result " + b + " is not an object");if(!b.done)return (ra.zf.cU=!1,b);a=b.value;}catch(c){return (ra.zf.OC=null,ra.zf.jX(c),ya(ra));}ra.zf.OC=null;r.call(ra.zf,a);return ya(ra);}function ya(ra){var Da;for(;ra.zf.Av;){try{Da=ra.FWb(ra.zf);if(Da)return (ra.zf.cU=!1,{value:Da.value,done:!1});}catch(Na){ra.zf.WX=void 0;ra.zf.jX(Na);}}ra.zf.cU=!1;if(ra.zf.nE){Da=ra.zf.nE;ra.zf.nE=null;if(Da.EMb)throw Da.AWa;return {value:Da.return,done:!0};}return {value:void 0,done:!0};}function Ca(ra){this.next=function(Da){return ra.bV(Da);};this.throw=function(Da){return ra.jX(Da);};this.return=function(Da){return Va(ra,Da);};this[Symbol.iterator]=function(){return this;};}function Ia(ra,Da){Da=new Ca(new Sa(Da));Cb && ra.prototype && Cb(Da,ra.prototype);return Da;}function Ba(ra,Da){var Na,r,b;ra instanceof String && (ra+="");Na=0;r=!1;b={next:function(){var a;if(!r && Na < ra.length){a=Na++;return {value:Da(a,ra[a]),done:!1};}r=!0;return {done:!0,value:void 0};}};b[Symbol.iterator]=function(){return b;};return b;}function Ua(ra,Da){return Object.prototype.hasOwnProperty.call(ra,Da);}function Ha(ra,Da,Na){var a;ra instanceof String && (ra=String(ra));for(var r=ra.length,b=0;b < r;b++){a=ra[b];if(Da.call(Na,a,b,ra))return {h0a:b,H$:a};}return {h0a:-1,H$:void 0};}function Ya(ra,Da,Na){if(null == ra)throw new TypeError("The 'this' value for String.prototype." + Na + " must not be null or undefined");if(Da instanceof RegExp)throw new TypeError("First argument to String.prototype." + Na + " must not be a regular expression");return ra + "";}ab="function" == typeof Object.defineProperties?Object.defineProperty:function(ra,Da,Na){if(ra == Array.prototype || ra == Object.prototype)return ra;ra[Da]=Na.value;return ra;};Wa=(function(ra){var Na;ra=["object" == typeof globalThis && globalThis,ra,"object" == typeof pb && pb,"object" == typeof self && self,"object" == typeof global && global];for(var Da=0;Da < ra.length;++Da){Na=ra[Da];if(Na && Na.Math == Math)return Na;}throw Error("Cannot find global object");})(this);sa("Symbol",function(ra){var r;function Da(b){if(this instanceof Da)throw new TypeError("Symbol is not a constructor");return new Na("jscomp_symbol_" + (b || "") + "_" + r++,b);}function Na(b,a){this.web=b;ab(this,"description",{configurable:!0,writable:!0,value:a});}if(ra)return ra;Na.prototype.toString=function(){return this.web;};r=0;return Da;});sa("Symbol.iterator",function(ra){var r;if(ra)return ra;ra=Symbol("Symbol.iterator");for(var Da=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),Na=0;Na < Da.length;Na++){r=Wa[Da[Na]];"function" === typeof r && "function" != typeof r.prototype[ra] && ab(r.prototype,ra,{configurable:!0,writable:!0,value:function(){return za(la(this));}});}return ra;});kb="function" == typeof Object.create?Object.create:function(ra){function Da(){}Da.prototype=ra;return new Da();};ob=(function(){var Da;function ra(){function Na(){}new Na();Reflect.construct(Na,[],function(){});return new Na() instanceof Na;}if("undefined" != typeof Reflect && Reflect.construct){if(ra())return Reflect.construct;Da=Reflect.construct;return function(Na,r,b){Na=Da(Na,r);b && Reflect.setPrototypeOf(Na,b.prototype);return Na;};}return function(Na,r,b){void 0 === b && (b=Na);b=kb(b.prototype || Object.prototype);return Function.prototype.apply.call(Na,b,r) || b;};})();if("function" == typeof Object.setPrototypeOf)qb=Object.setPrototypeOf;else {a:{rb={a:!0};sb={};try{sb.__proto__=rb;qb=sb.a;break a;}catch(ra){}qb=!1;}qb=qb?function(ra,Da){ra.__proto__=Da;if(ra.__proto__ !== Da)throw new TypeError(ra + " is not extensible");return ra;}:null;}Cb=qb;xa.prototype.bV=function(ra){this.WX=ra;};xa.prototype.jX=function(ra){this.nE={AWa:ra,EMb:!0};this.Av=this.jia || this.YWa;};xa.prototype.return=function(ra){this.nE={return:ra};this.Av=this.YWa;};Sa.prototype.bV=function(ra){Ta(this.zf);if(this.zf.OC)return qa(this,this.zf.OC.next,ra,this.zf.bV);this.zf.bV(ra);return ya(this);};Sa.prototype.jX=function(ra){Ta(this.zf);if(this.zf.OC)return qa(this,this.zf.OC["throw"],ra,this.zf.bV);this.zf.jX(ra);return ya(this);};sa("Reflect",function(ra){return ra?ra:{};});sa("Reflect.construct",function(){return ob;});sa("Reflect.setPrototypeOf",function(ra){return ra?ra:Cb?function(Da,Na){try{return (Cb(Da,Na),!0);}catch(r){return !1;}}:null;});sa("Array.prototype.keys",function(ra){return ra?ra:function(){return Ba(this,function(Da){return Da;});};});sa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});sa("WeakMap",function(ra){var c,k;function Da(f){this.JT=(k+=Math.random() + 1).toString();if(f){f=ma(f);for(var l;!(l=f.next()).done;){l=l.value;this.set(l[0],l[1]);}}}function Na(){}function r(f){var l;l=typeof f;return "object" === l && null !== f || "function" === l;}function b(f){var l;if(!Ua(f,c)){l=new Na();ab(f,c,{value:l});}}function a(f){var l;l=Object[f];l && (Object[f]=function(d){if(d instanceof Na)return d;Object.isExtensible(d) && b(d);return l(d);});}if((function(){var f,l,d;if(!ra || !Object.seal)return !1;try{f=Object.seal({});l=Object.seal({});d=new ra([[f,2],[l,3]]);if(2 != d.get(f) || 3 != d.get(l))return !1;d.delete(f);d.set(l,4);return !d.has(f) && 4 == d.get(l);}catch(g){return !1;}})())return ra;c="$jscomp_hidden_" + Math.random();a("freeze");a("preventExtensions");a("seal");k=0;Da.prototype.set=function(f,l){if(!r(f))throw Error("Invalid WeakMap key");b(f);if(!Ua(f,c))throw Error("WeakMap key fail: " + f);f[c][this.JT]=l;return this;};Da.prototype.get=function(f){return r(f) && Ua(f,c)?f[c][this.JT]:void 0;};Da.prototype.has=function(f){return r(f) && Ua(f,c) && Ua(f[c],this.JT);};Da.prototype.delete=function(f){return r(f) && Ua(f,c) && Ua(f[c],this.JT)?delete f[c][this.JT]:!1;};return Da;});sa("Map",function(ra){var a,c;function Da(){var k;k={};return k.Zl=k.next=k.head=k;}function Na(k,f){var l;l=k.Yx;return za(function(){if(l){for(;l.head != k.Yx;){l=l.Zl;}for(;l.next != l.head;){return (l=l.next,{done:!1,value:f(l)});}l=null;}return {done:!0,value:void 0};});}function r(k,f){var l,d,g;l=f && typeof f;"object" == l || "function" == l?a.has(f)?l=a.get(f):(l="" + ++c,a.set(f,l)):l="p_" + f;d=k.Jx[l];if(d && Ua(k.Jx,l))for(k=0;k < d.length;k++){g=d[k];if(f !== f && g.key !== g.key || f === g.key)return {id:l,list:d,index:k,entry:g};}return {id:l,list:d,index:-1,entry:void 0};}function b(k){this.Jx={};this.Yx=Da();this.size=0;if(k){k=ma(k);for(var f;!(f=k.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var k,f,l,d;if(!ra || "function" != typeof ra || !ra.prototype.entries || "function" != typeof Object.seal)return !1;try{k=Object.seal({x:4});f=new ra(ma([[k,"s"]]));if("s" != f.get(k) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;l=f.entries();d=l.next();if(d.done || d.value[0] != k || "s" != d.value[1])return !1;d=l.next();return d.done || 4 != d.value[0].x || "t" != d.value[1] || !l.next().done?!1:!0;}catch(g){return !1;}})())return ra;a=new WeakMap();b.prototype.set=function(k,f){var l;k=0 === k?0:k;l=r(this,k);l.list || (l.list=this.Jx[l.id]=[]);l.entry?l.entry.value=f:(l.entry={next:this.Yx,Zl:this.Yx.Zl,head:this.Yx,key:k,value:f},l.list.push(l.entry),this.Yx.Zl.next=l.entry,this.Yx.Zl=l.entry,this.size++);return this;};b.prototype.delete=function(k){k=r(this,k);return k.entry && k.list?(k.list.splice(k.index,1),k.list.length || delete this.Jx[k.id],k.entry.Zl.next=k.entry.next,k.entry.next.Zl=k.entry.Zl,k.entry.head=null,this.size--,!0):!1;};b.prototype.clear=function(){this.Jx={};this.Yx=this.Yx.Zl=Da();this.size=0;};b.prototype.has=function(k){return !!r(this,k).entry;};b.prototype.get=function(k){return (k=r(this,k).entry) && k.value;};b.prototype.entries=function(){return Na(this,function(k){return [k.key,k.value];});};b.prototype.keys=function(){return Na(this,function(k){return k.key;});};b.prototype.values=function(){return Na(this,function(k){return k.value;});};b.prototype.forEach=function(k,f){for(var l=this.entries(),d;!(d=l.next()).done;){d=d.value;k.call(f,d[1],d[0],this);}};b.prototype[Symbol.iterator]=b.prototype.entries;c=0;return b;});sa("Set",function(ra){function Da(Na){this.vv=new Map();if(Na){Na=ma(Na);for(var r;!(r=Na.next()).done;){this.add(r.value);}}this.size=this.vv.size;}if((function(){var Na,r,b,a;if(!ra || "function" != typeof ra || !ra.prototype.entries || "function" != typeof Object.seal)return !1;try{Na=Object.seal({x:4});r=new ra(ma([Na]));if(!r.has(Na) || 1 != r.size || r.add(Na) != r || 1 != r.size || r.add({x:4}) != r || 2 != r.size)return !1;b=r.entries();a=b.next();if(a.done || a.value[0] != Na || a.value[1] != Na)return !1;a=b.next();return a.done || a.value[0] == Na || 4 != a.value[0].x || a.value[1] != a.value[0]?!1:b.next().done;}catch(c){return !1;}})())return ra;Da.prototype.add=function(Na){Na=0 === Na?0:Na;this.vv.set(Na,Na);this.size=this.vv.size;return this;};Da.prototype.delete=function(Na){Na=this.vv.delete(Na);this.size=this.vv.size;return Na;};Da.prototype.clear=function(){this.vv.clear();this.size=0;};Da.prototype.has=function(Na){return this.vv.has(Na);};Da.prototype.entries=function(){return this.vv.entries();};Da.prototype.values=function(){return this.vv.values();};Da.prototype.keys=Da.prototype.values;Da.prototype[Symbol.iterator]=Da.prototype.values;Da.prototype.forEach=function(Na,r){var b;b=this;this.vv.forEach(function(a){return Na.call(r,a,a,b);});};return Da;});sa("Array.prototype.find",function(ra){return ra?ra:function(Da,Na){return Ha(this,Da,Na).H$;};});sa("Number.isFinite",function(ra){return ra?ra:function(Da){return "number" !== typeof Da?!1:!isNaN(Da) && Infinity !== Da && -Infinity !== Da;};});sa("Promise",function(ra){var b,a;function Da(c){var k;this.KN=0;this.qW=void 0;this.vM=[];this.E1a=!1;k=this.rja();try{c(k.resolve,k.reject);}catch(f){k.reject(f);}}function Na(){this.vA=null;}function r(c){return c instanceof Da?c:new Da(function(k){k(c);});}if(ra)return ra;Na.prototype.eRa=function(c){var k;if(null == this.vA){this.vA=[];k=this;this.fRa(function(){k.yDb();});}this.vA.push(c);};b=Wa.setTimeout;Na.prototype.fRa=function(c){b(c,0);};Na.prototype.yDb=function(){var c,f;for(;this.vA && this.vA.length;){c=this.vA;this.vA=[];for(var k=0;k < c.length;++k){f=c[k];c[k]=null;try{f();}catch(l){this.osb(l);}}}this.vA=null;};Na.prototype.osb=function(c){this.fRa(function(){throw c;});};Da.prototype.rja=function(){var k,f;function c(l){return function(d){f || (f=!0,l.call(k,d));};}k=this;f=!1;return {resolve:c(this.VYb),reject:c(this.Ita)};};Da.prototype.VYb=function(c){var k;if(c === this)this.Ita(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof Da)this.g0b(c);else {a:switch(typeof c){case "object":k=null != c;break a;case "function":k=!0;break a;default:k=!1;}k?this.UYb(c):this.LXa(c);}};Da.prototype.UYb=function(c){var k;k=void 0;try{k=c.then;}catch(f){this.Ita(f);return;}"function" == typeof k?this.h0b(k,c):this.LXa(c);};Da.prototype.Ita=function(c){this.S$a(2,c);};Da.prototype.LXa=function(c){this.S$a(1,c);};Da.prototype.S$a=function(c,k){if(0 != this.KN)throw Error("Cannot settle(" + c + ", " + k + "): Promise already settled in state" + this.KN);this.KN=c;this.qW=k;2 === this.KN && this.EZb();this.zDb();};Da.prototype.EZb=function(){var c;c=this;b(function(){var k;if(c.aSb()){k=Wa.console;"undefined" !== typeof k && k.error(c.qW);}},1);};Da.prototype.aSb=function(){var c,k,f;if(this.E1a)return !1;c=Wa.CustomEvent;k=Wa.Event;f=Wa.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof c?c=new c("unhandledrejection",{cancelable:!0}):"function" === typeof k?c=new k("unhandledrejection",{cancelable:!0}):(c=Wa.document.createEvent("CustomEvent"),c.initCustomEvent("unhandledrejection",!1,!0,c));c.promise=this;c.reason=this.qW;return f(c);};Da.prototype.zDb=function(){if(null != this.vM){for(var c=0;c < this.vM.length;++c){a.eRa(this.vM[c]);}this.vM=null;}};a=new Na();Da.prototype.g0b=function(c){var k;k=this.rja();c.r2(k.resolve,k.reject);};Da.prototype.h0b=function(c,k){var f;f=this.rja();try{c.call(k,f.resolve,f.reject);}catch(l){f.reject(l);}};Da.prototype.then=function(c,k){var l,d,g;function f(n,h){return "function" == typeof n?function(m){try{l(n(m));}catch(p){d(p);}}:h;}g=new Da(function(n,h){l=n;d=h;});this.r2(f(c,l),f(k,d));return g;};Da.prototype.catch=function(c){return this.then(void 0,c);};Da.prototype.r2=function(c,k){var l;function f(){switch(l.KN){case 1:c(l.qW);break;case 2:k(l.qW);break;default:throw Error("Unexpected state: " + l.KN);}}l=this;null == this.vM?a.eRa(f):this.vM.push(f);this.E1a=!0;};Da.resolve=r;Da.reject=function(c){return new Da(function(k,f){f(c);});};Da.race=function(c){return new Da(function(k,f){for(var l=ma(c),d=l.next();!d.done;d=l.next()){r(d.value).r2(k,f);}});};Da.all=function(c){var k,f;k=ma(c);f=k.next();return f.done?r([]):new Da(function(l,d){var n,h;function g(m){return function(p){n[m]=p;h--;0 == h && l(n);};}n=[];h=0;do {n.push(void 0);h++;r(f.value).r2(g(n.length - 1),d);f=k.next();}while(!f.done);});};return Da;});Ab="function" == typeof Object.assign?Object.assign:function(ra,Da){var r;for(var Na=1;Na < arguments.length;Na++){r=arguments[Na];if(r)for(var b in r){Ua(r,b) && (ra[b]=r[b]);}}return ra;};sa("Object.assign",function(ra){return ra || Ab;});sa("Object.is",function(ra){return ra?ra:function(Da,Na){return Da === Na?0 !== Da || 1 / Da === 1 / Na:Da !== Da && Na !== Na;};});sa("Array.prototype.includes",function(ra){return ra?ra:function(Da,Na){var r,b,a;r=this;r instanceof String && (r=String(r));b=r.length;Na=Na || 0;for(0 > Na && (Na=Math.max(Na + b,0));Na < b;Na++){a=r[Na];if(a === Da || Object.is(a,Da))return !0;}return !1;};});sa("String.prototype.includes",function(ra){return ra?ra:function(Da,Na){return -1 !== Ya(this,Da,"includes").indexOf(Da,Na || 0);};});sa("Object.entries",function(ra){return ra?ra:function(Da){var Na,r;Na=[];for(r in Da){Ua(Da,r) && Na.push([r,Da[r]]);}return Na;};});sa("Object.values",function(ra){return ra?ra:function(Da){var Na,r;Na=[];for(r in Da){Ua(Da,r) && Na.push(Da[r]);}return Na;};});sa("Array.prototype.entries",function(ra){return ra?ra:function(){return Ba(this,function(Da,Na){return [Da,Na];});};});sa("Array.prototype.findIndex",function(ra){return ra?ra:function(Da,Na){return Ha(this,Da,Na).h0a;};});sa("Promise.prototype.finally",function(ra){return ra?ra:function(Da){return this.then(function(Na){return Promise.resolve(Da()).then(function(){return Na;});},function(Na){return Promise.resolve(Da()).then(function(){throw Na;});});};});sa("Number.parseInt",function(ra){return ra || parseInt;});sa("Array.prototype.values",function(ra){return ra?ra:function(){return Ba(this,function(Da,Na){return Na;});};});sa("String.prototype.endsWith",function(ra){return ra?ra:function(Da,Na){var r;r=Ya(this,Da,"endsWith");Da+="";void 0 === Na && (Na=r.length);Na=Math.max(0,Math.min(Na | 0,r.length));for(var b=Da.length;0 < b && 0 < Na;){if(r[--Na] != Da[--b])return !1;}return 0 >= b;};});sa("Array.from",function(ra){return ra?ra:function(Da,Na,r){var b,a;Na=null != Na?Na:function(k){return k;};b=[];a="undefined" != typeof Symbol && Symbol.iterator && Da[Symbol.iterator];if("function" == typeof a){Da=a.call(Da);for(var c=0;!(a=Da.next()).done;){b.push(Na.call(r,a.value,c++));}}else for((a=Da.length,c=0);c < a;c++){b.push(Na.call(r,Da[c],c));}return b;};});sa("String.prototype.startsWith",function(ra){return ra?ra:function(Da,Na){var r,b,a;r=Ya(this,Da,"startsWith");Da+="";b=r.length;a=Da.length;Na=Math.max(0,Math.min(Na | 0,r.length));for(var c=0;c < a && Na < b;){if(r[Na++] != Da[c++])return !1;}return c >= a;};});sa("Number.isNaN",function(ra){return ra?ra:function(Da){return "number" === typeof Da && isNaN(Da);};});sa("Object.getOwnPropertySymbols",function(ra){return ra?ra:function(){return [];};});sa("Reflect.apply",function(ra){var Da;if(ra)return ra;Da=Function.prototype.apply;return function(Na,r,b){return Da.call(Na,r,b);};});sa("Math.tanh",function(ra){return ra?ra:function(Da){var Na;Da=Number(Da);if(0 === Da)return Da;Na=Math.exp(-2 * Math.abs(Da));Na=(1 - Na) / (1 + Na);return 0 > Da?-Na:Na;};});sa("String.fromCodePoint",function(ra){return ra?ra:function(Da){var b;for(var Na="",r=0;r < arguments.length;r++){b=Number(arguments[r]);if(0 > b || 1114111 < b || b !== Math.floor(b))throw new RangeError("invalid_code_point " + b);65535 >= b?Na+=String.fromCharCode(b):(b-=65536,Na+=String.fromCharCode(b >>> 10 & 1023 | 55296),Na+=String.fromCharCode(b & 1023 | 56320));}return Na;};});sa("Object.setPrototypeOf",function(ra){return ra || Cb;});(function(){var Da,Na;function ra(r){var b;b=Na[r];if(void 0 !== b)return b.exports;b=Na[r]={exports:{}};Da[r].call(b.exports,b,b.exports,ra);return b.exports;}Da={18920:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.v=void 0;b.v={fa:0,X:1,Ya:2};},30145:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yc=void 0;b.yc=function(a,c){for(var k=0;k < a.length;k++){if(c(a[k],k,a))return a[k];}};},94995:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(70655);k=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);return l;})(Error);b.assert=function(f,l){if(!f)throw new k(l || "Assertion failed");};},7363:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GXa=b.N$=b.FXa=void 0;b.FXa={23976:{ya:24E3,S:1001},24:{ya:24E3,S:1E3},25:{ya:25E3,S:1E3},2997:{ya:3E4,S:1001},30:{ya:3E4,S:1E3}};b.N$=["23976","24","25","2997","30"];b.GXa=function(a,c){return a.ya / a.S === c.ya / c.S;};},42711:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA";b.Ob=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70";b.Nb=!0;b.ca={ya:1536,S:48E3};b.duration={ya:12288,S:48E3};b.bitrate=192;b.profile="ddplus-5.1-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},64370:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAIgZYAAPgBgCAUBignwAB0gAwAAEgAQAADDogGYGgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Ob=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAEgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgIQBcIbWRhB0ALB3ABD/A/CHDAgBoAgCgBgHYCcD+B9lEEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwUB/DOCvgDQWgAwDAfDzCrgHgYgAwBDHD8DqgLwaD5DxgQAgCggXoBd3zWtagCAABtC2DbgAQJe1rWtAgDIdBfA+gDAMDWgDIABogDAAAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LgNYBBagDIegXIxgDIVB2gAYBcAHfNaDWgmgAgDgKgAQAgNYBDQgDIdgXIygDIVCyhPQCDvCagjQADzDmgNgMgDoADWCAgDIdgXIxgDIWCQgQoBAHB8gNYAhUQAA2gD4LgNYBC0gDIegXIxgDIVDsgAYBAAA7DmgjQAhWQAg2ILDbgDoAC1hXYBgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x";b.Nb=!0;b.ca={ya:1536,S:48E3};b.duration={ya:12288,S:48E3};b.bitrate=256;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},66670:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAMgZYAAPgBgCAUBignwAB0gEICAAAFDcgGYCgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgPYBg5QEAA";b.Ob=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBgAYAgCQAgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcwCG1kBhB0ALB3ACD/A/CHDAgKAAgCgBgHYCcEEB+6EEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwlDHD8DqgF4rgAwAAfDzCrgF4rgAwAB/DOCvgF4rD5DxgYwygnwCA2gGwCdttttvAeA8B4DxDjDHCPgAwDgB4AgCYAda1rWtBrgAgCBogEoBBvgGYBDbgEoBgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBCbgEYBgIwIgAwAcbbbfPCagEYGBrBAgEgAADBrgP4BA2gJQBgEgbgSQBDmgEYBDegSQJB2gB4AgCYAgEYGBaDQgN4BDZgXwCgJ4SAegB4AgV4AA1gFQGDWCAhHgBgd4BDNgTIABtC8gJ4IDGgJ4PgZwAgOwAgEYBC3gcQIgAwAgB4AgCYAgJAHC0glwVgEgPA3gsQBgEYBBtgSQJA3glwQCQgv3/gvz/gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q";b.Nb=!0;b.ca={ya:1536,S:48E3};b.duration={ya:12288,S:48E3};b.bitrate=384;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},52325:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAOgZYAAPgBgCAUBignwAB0gAwAAHgEgBDWgGYCDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Ob=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAHgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAc4CG1kBhB0ALB3ADB/A/CHDAgKAAgCgBgHYCcEKB/MAEgEoAdAEAQYD5DzDnDPCfA+B8gAwBDfDzCrgBQGgAwoDHD8DqgF4rgAwDfx/zq+gMwsgAwCB/DOCvgTougAwAAfgag1gpwCcb5tttC2gAQAe3jx48R3gAACd48ePHCPAbgCYAfPmta1CtBrBagAgEC0gFgLA7S7gAABC8gFgCCNgCgADnDNgFAGgAgCgFYBANDzgFQCgAQAgJIAgFgrAdTdgAABDeA8gFgBDGgCgADzDmgQYIgAgAgFYBAGD5gFQDBtgUYBgFgMB2gFgSDwgcgCgRZwgFgcCOTugAABDvguoAgFgBgCgAgx4AgQYJDWCAgFYAADB8gFQDC2gUYBgFgMC7gFgSB4gcgCgRZwgFgdhJ4HhLYBgFgAgCgAhOoAgQYJBrBAh4QBC+gtIEgxICgFgLDdgFgSC8gcgCgRZwgFgdhJwGC7hLYBgFgAgCgAh+YAgQYJC1CggWQBDfA2gQoDhN4CgFgLBugFgSDeijwDgRZvgFgdhJwGDdhLYBgFgAgCgADfA+hmYKDQgFYBBvCbgQoDhN4CgFgLA3gFgTi5ADgRZvgFgdhJwGDuifoCAegN4ABvCfA1gtQJBogFYBA3DNgtIDBvgUYBgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m";b.Nb=!0;b.ca={ya:1536,S:48E3};b.duration={ya:12288,S:48E3};b.bitrate=448;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},62231:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAUgZYAAPgBgCAUBignwAB0gAwAAKgAQAAJgYQCACgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Ob=!0;b.ka="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAKgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAdQCG1kBhB0ALB3AED/A/CHDAgEgDBAgAYBeOBhhhCGAfDzCrDnDPCfA+B8D5DzgAw0B/DOCvgHo5f58f86C+gHo4gAwADHD8DqgHo5gAwAgfxACggtQCfePHjxPdgrgEgAAQADK7dtttttgdYAfWta1rBagIYMgEACc7x48eA7gEgBC4gIAVAAJ3gIACC3DPCagIICBfgQ4LCAgD4BAHgQAADjDHgEgBB3gIAWAOHuDtgIABC2gGAABagIICgZYLDwgEACDvAegYgAgEYAgAAADggIAVABgb4BgIACDfA+gYAAgIIBghAMgEACAdgQAACPAdgEgBDcgQQWgcABgIACDbDnDNgIIChG4MgnICADC8glYDC8gZQBghQBC7gawCgAASAHgcgAB2gIwCgGwAgpQBgI4AgpYLD4glYDgpYAA8ghQCBwgRAWgcoBgIACBvCfA1gIIChQAMglYDgpYBCOghYCgIAWgcwBgIACBtDzDmg5wCDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/gHIWgADBAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c";b.Nb=!0;b.ca={ya:1536,S:48E3};b.duration={ya:12288,S:48E3};b.bitrate=640;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.Yb=[176,590];b.Xb=[44];},84531:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBCAEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Ob=!0;b.ka="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Nb=!0;b.ca={ya:1024,S:24E3};b.duration={ya:7168,S:24E3};b.bitrate=128;b.profile="heaac-2hq-dash";b.channels="2.0";b.Yb=[176,599];b.Xb=[44];},87448:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Ob=!0;b.ka="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Nb=!0;b.ca={ya:1024,S:24E3};b.duration={ya:7168,S:24E3};b.bitrate=64;b.profile="heaac-2-dash";b.channels="2.0";b.Yb=[176,599];b.Xb=[44];},41223:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.channels=b.profile=b.bitrate=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBBgEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Ob=!0;b.ka="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Nb=!0;b.ca={ya:1024,S:24E3};b.duration={ya:7168,S:24E3};b.bitrate=96;b.profile="heaac-2-dash";b.channels="2.0";b.Yb=[176,599];b.Xb=[44];},63098:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.jRa=b.Idb=void 0;b.Idb={padding:{"16:9":{h264hpl:{23976:function(){return a(33848);},24:function(){return a(32196);},25:function(){return a(75381);},2997:function(){return a(55725);},30:function(){return a(7140);}},h264:{23976:function(){return a(24453);},24:function(){return a(99651);},25:function(){return a(43636);},2997:function(){return a(67543);},30:function(){return a(19790);}}},"4:3":{h264hpl:{23976:function(){return a(19932);},24:function(){return a(37939);},25:function(){return a(43207);},2997:function(){return a(78257);},30:function(){return a(93277);}},h264:{23976:function(){return a(19745);},24:function(){return a(88203);},25:function(){return a(59332);},2997:function(){return a(58800);},30:function(){return a(53683);}}}}};b.jRa={silence:{heaac:{64:function(){return a(87448);},96:function(){return a(41223);},128:function(){return a(84531);}},ddp:{192:function(){return a(42711);},256:function(){return a(64370);},384:function(){return a(66670);},448:function(){return a(52325);},640:function(){return a(62231);}}}};},19745:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CACIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgLoFgAYCAUBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Ob=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Nb=!1;b.ca={ya:1001,S:24E3};b.duration={ya:6006,S:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=1;b.Vc=1;b.Yb=[176,729];b.Xb=[44];},88203:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19745);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Ob=!0;b.Le=749;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:24E3};b.duration={ya:6E3,S:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=1;b.Vc=1;b.Yb=[176,731];b.Xb=[44];},59332:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19745);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Ob=!0;b.Le=749;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:25E3};b.duration={ya:7E3,S:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=1;b.Vc=1;b.Yb=[176,731];b.Xb=[44];},58800:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19745);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Ob=!0;b.Le=749;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1001,S:3E4};b.duration={ya:8008,S:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=1;b.Vc=1;b.Yb=[176,729];b.Xb=[44];},53683:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19745);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABDghdwogioCgjIDhdxVAfg7gChdwSDogBoG";b.Ob=!0;b.Le=749;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:3E4};b.duration={ya:8E3,S:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=1;b.Vc=1;b.Yb=[176,731];b.Xb=[44];},19932:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7ABAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgL4FgAYCAUBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Ob=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Nb=!1;b.ca={ya:1001,S:24E3};b.duration={ya:6006,S:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=1;b.Vc=1;b.Yb=[176,731];b.Xb=[44];},37939:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19932);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Ob=!0;b.Le=751;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:24E3};b.duration={ya:6E3,S:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=1;b.Vc=1;b.Yb=[176,733];b.Xb=[44];},43207:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19932);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Ob=!0;b.Le=751;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:25E3};b.duration={ya:7E3,S:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=1;b.Vc=1;b.Yb=[176,733];b.Xb=[44];},78257:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19932);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Ob=!0;b.Le=751;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1001,S:3E4};b.duration={ya:8008,S:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=1;b.Vc=1;b.Yb=[176,731];b.Xb=[44];},93277:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(19932);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADDAheApgi4CgjYDheBVAfg7wCheASDogBoG";b.Ob=!0;b.Le=751;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:3E4};b.duration={ya:8E3,S:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=1;b.Vc=1;b.Yb=[176,733];b.Xb=[44];},24453:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Ob=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Nb=!1;b.ca={ya:1001,S:24E3};b.duration={ya:6006,S:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=4;b.Vc=3;b.Yb=[176,729];b.Xb=[44];},99651:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(24453);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Ob=!0;b.Le=749;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:24E3};b.duration={ya:6E3,S:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=4;b.Vc=3;b.Yb=[176,731];b.Xb=[44];},43636:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(24453);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Ob=!0;b.Le=749;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:25E3};b.duration={ya:7E3,S:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=4;b.Vc=3;b.Yb=[176,731];b.Xb=[44];},67543:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(24453);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Ob=!0;b.Le=749;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1001,S:3E4};b.duration={ya:8008,S:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=4;b.Vc=3;b.Yb=[176,729];b.Xb=[44];},19790:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(24453);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABDghdwogioCgjIDhdxVAfg8IChdwSDogBoG";b.Ob=!0;b.Le=749;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:3E4};b.duration={ya:8E3,S:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=4;b.Vc=3;b.Yb=[176,731];b.Xb=[44];},33848:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=void 0;b.va="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgA4BAEgAYBADgcoCBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Ob=!0;b.ka="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Nb=!1;b.ca={ya:1001,S:24E3};b.duration={ya:6006,S:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=4;b.Vc=3;b.Yb=[176,731];b.Xb=[44];},32196:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(33848);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Ob=!0;b.Le=751;b.ka="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:24E3};b.duration={ya:6E3,S:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=4;b.Vc=3;b.Yb=[176,733];b.Xb=[44];},75381:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(33848);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Ob=!0;b.Le=751;b.ka="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:25E3};b.duration={ya:7E3,S:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=4;b.Vc=3;b.Yb=[176,733];b.Xb=[44];},55725:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(33848);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Ob=!0;b.Le=751;b.ka="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1001,S:3E4};b.duration={ya:8008,S:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=4;b.Vc=3;b.Yb=[176,731];b.Xb=[44];},7140:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Xb=b.Yb=b.Vc=b.Uc=b.height=b.width=b.bitrate=b.profile=b.duration=b.ca=b.He=b.Nb=b.ka=b.Le=b.Ob=b.va=b.Ge=b.Fe=b.Ke=b.Je=void 0;r=a(33848);b.Je=r.va;b.Ke=r.Ob;b.Fe=r.ka;b.Ge=r.Nb;b.va="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADDAheApgi4CgjYDheBVAfg8YCheASDogBoG";b.Ob=!0;b.Le=751;b.ka="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Nb=!0;b.He=1022;b.ca={ya:1E3,S:3E4};b.duration={ya:8E3,S:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.Uc=4;b.Vc=3;b.Yb=[176,733];b.Xb=[44];},51530:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(70655);r.__exportStar(a(29266),b);r.__exportStar(a(7363),b);},68118:function(r,b,a){var d;function c(g){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[g >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[g & 63];}function k(g,n){(0,d.assert)(0 < n && 8 > n);return c((n - 1 << 8) + g);}function f(g){return c(1792 + g[0]) + c((g[1] << 4) + (g[2] >>> 4)) + c((g[2] << 8 & 3840) + g[3]);}function l(g){return 43 === g?62:47 === g?63:58 > g?g - 48 + 52:91 > g?g - 65:g - 71;}Object.defineProperty(b,"__esModule",{value:!0});b.D6=b.lPb=void 0;d=a(94995);b.lPb=function(g,n){var p,q,u,t,w,v;function h(y,x){var z;z=p;y=q - x - y;(0,d.assert)(1 <= y);(0,d.assert)(16384 > y - 1);(0,d.assert)(2 <= x && 512 > x - 2);x=c(2048 + (y - 1 >>> 3)) + c(((y - 1 & 7) << 9) + (x - 2));p=z + x;u=q;t=0;}function m(y,x,z){return g.subarray(y,y + z).every(function(A,B){return A === g[x + B];});}p="";q=n || 0;u=q;t=0;for(n=0;q < g.byteLength;){w=u;v=t;if(0 !== t && 513 > t && g[q] === g[u + t])(++t,++q);else if(513 === t)(h(w,v),n=0);else {for(--u;0 <= u && u >= q - t - 16384 && (g[w] !== g[u] || 0 < t && !m(q - t,u,t + 1));){--u;}if(0 <= u && u >= q - t - 16384)(++t,++q);else if(w === q || 1 === v){q-=v;for(w=1;5 > w && g[q + w] === g[q];){++w;}p+=k(g[q],w);q+=w;n=1 < w?0:n + 1;4 === n && (p=p.slice(0,p.length - 8),p+=f(g.subarray(q - 4,q)));u=q;t=0;}else (h(w,v),n=0);}}1 === t?p+=k(g[u],1):1 < t && h(u,t);return p;};b.D6=function(g,n){var t;function h(v,y){var x;if(u + y > p.byteLength){x=new Uint8Array(2 * p.byteLength);x.set(p,0);p=x;}if(v + y <= u)p.set(p.subarray(v,v + y),u);else for(x=0;x < y;++x){p[u + x]=p[v + x];}u+=y;}function m(){var v;v=g.slice(q,q+=2);return (l(v.charCodeAt(0)) << 6) + l(v.charCodeAt(1));}for(var p=n || new Uint8Array(4096),q=0,u=n?n.byteLength:0;q < g.length;){t=m();if(t & 2048)(n=m(),h(u - (((t & 2047) << 3) + (n >>> 9) + 1),(n & 511) + 2));else if(1792 === (t & 3840))(p[u++]=t & 255,n=m(),t=m(),p[u++]=n >>> 4,p[u++]=(n << 4 & 240) + (t >>> 8),p[u++]=t & 255);else {n=t & 255;t=(t >>> 8) + 1;for(var w=0;w < t;++w){p[u++]=n;}}}return p.subarray(0,u);};},51656:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Esb=b.Csb=b.Fsb=b.Bsb=b.Dsb=b.Gsb=b.R5b=b.L5b=b.HX=b.T5b=b.N$=void 0;c=a(7363);Object.defineProperty(b,"videoMediaFrameRatesList",{enumerable:!0,get:function(){return c.N$;}});b.T5b=["padding"];b.HX=["h264hpl","h264"];b.L5b=["16:9","4:3"];b.R5b={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash"};b.Gsb=["silence"];b.Dsb=["heaac","ddp"];b.Bsb={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.Fsb={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.Csb={heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.Esb={heaac:{ya:1024,S:24E3},ddp:{ya:1536,S:48E3}};},29266:function(r,b,a){var k,f,l,d,g,n,h;function c(m){if(-1 !== l.HX.indexOf(m))return m;for(var p,q=0;q < l.HX.length;++q){if(-1 !== m.indexOf(l.HX[q])){p=l.HX[q];break;}}(0,g.assert)(p);return p;}Object.defineProperty(b,"__esModule",{value:!0});b.ELa=void 0;k=a(70655);f=a(63098);l=a(51656);d=a(7363);g=a(94995);n=a(30145);h=a(68118);r=(function(){function m(p,q){this.atob=p;this.console=q;this.$J=1;this.GX=[];this.vR=[];}m.prototype.nJb=function(p,q,u,t,w){var v,z;void 0 === t && (t={w:16,Lq:9});void 0 === w && (w=1);q=c(q);v=(0,n.yc)(d.N$,function(A){return (0,d.GXa)(u,d.FXa[A]);});(0,g.assert)(v);(0,g.assert)(16 === t.w && 9 === t.Lq || 4 === t.w && 3 === t.Lq);t=16 === t.w?"16:9":"4:3";for(var y=0,x=this.GX;y < x.length;y++){z=x[y];if(z.type === p && z.ox === t && z.vd === q && z.frameRate === v && z.trackId === w)return z;}p=this.hAb(p,t,q,v,w);this.GX.unshift(p);this.GX.length > this.$J && this.GX.splice(this.$J,this.GX.length - this.$J);return p;};m.prototype.mJb=function(p,q,u){var y;void 0 === u && (u=1);for(var t,w=0,v=this.vR;w < v.length;w++){y=v[w];"silence" === y.type && y.vd === p && y.bitrate === q && y.trackId === u && (t=y);}void 0 === t && (t=this.Yzb(p,q,u),this.vR.unshift(t),this.vR.length > this.$J && this.vR.splice(this.$J,this.vR.length - this.$J));return t;};m.prototype.hAb=function(p,q,u,t,w){var v;v=f.Idb[p][q][u][t]();return k.__assign(k.__assign({},this.decode(v,w)),{type:p,ox:q,vd:u,frameRate:t,width:v.width,height:v.height,Uc:v.Uc,Vc:v.Vc});};m.prototype.Yzb=function(p,q,u){var t;t=f.jRa.silence[p][q];(0,g.assert)(t);t=t();return k.__assign(k.__assign({},this.decode(t,u)),{type:"silence",vd:p,bitrate:q,channels:t.channels});};m.prototype.decode=function(p,q){var u,t,w,v;u=p.Ob?this.MUa(p.va,p.Je,p.Le,p.Ke):this.atob(p.va);t=p.Nb?this.MUa(p.ka,p.Fe,p.He,p.Ge):this.atob(p.ka);if(1 !== q){w=new DataView(u);v=new DataView(t);p.Yb.forEach(function(y){return w.setUint32(y,q);});p.Xb.forEach(function(y){return v.setUint32(y,q);});}return k.__assign(k.__assign({},p),{va:u,ka:t,trackId:q});};m.prototype.MUa=function(p,q,u,t){p=void 0 === q?(0,h.D6)(p):t?(0,h.D6)(q + p):(0,h.D6)(p,new Uint8Array(this.atob(q)));return p.buffer.slice(p.byteOffset + (u || 0),p.byteOffset + p.byteLength);};return m;})();b.ELa=r;},67026:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.r6a=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.r6a=function(c){var k,f,l,d;k=c.read(5);f=c.read(4);if(15 === f){l=c.read(24);f=a.indexOf(l);}else l=a[f];d=c.read(4);switch(k){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + k + " not supported.");}return {Yo:k,sampleRate:l,p9:f,Pbc:d,rFb:1024};};},30242:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.C7a=void 0;c=a(57823);b.C7a=function(k,f,l){var d,g;d=k.read(1);if(d){g=new c.oEa(k,d,f);1 === k.read(2) && k.advance(g.sM * g.LU);}c.Zsa(k,f,g,l);c.Zsa(k,f,g,l);};},14979:function(r,b,a){var c,k;b.w=void 0;c=a(35895);k=a(89288);b.w=function(f,l,d,g){var n;n=new c.kY(f);l=k.F7a(n,{px:l,gH:d},g && g.p9);n=n.offset;return {frame:f.subarray(0,n),Ora:n,Ogc:l};};},97489:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.E7a=void 0;b.E7a=function(a,c,k){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== k.px && !k.gH?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},89288:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.F7a=void 0;c=a(76967);k=a(14535);b.F7a=function(f,l,d){var g,n,h;if(4095 === f.read(12)){f.advance(3);g=!!f.read(1);n=f.read(2) + 1;d=f.read(4);f.advance(8);h=f.read(13);f.advance(13 + (g?0:16));g={Yo:n,p9:d,rFb:h};}else f.reverse(12);c.assert(void 0 !== d);k.K7a(f,d,l);return g;};},73782:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jDa=b.aDa=b.$Ca=b.iDa=b.hDa=b.gDa=b.fDa=b.eDa=b.dDa=b.cDa=b.bDa=b.ZCa=void 0;b.ZCa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.bDa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.cDa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.dDa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.eDa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.fDa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.gDa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.hDa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.iDa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.$Ca={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.aDa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.jDa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},55312:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.OZ=void 0;c=a(73782);k=[c.ZCa,c.bDa,c.cDa,c.dDa,c.eDa,c.fDa,c.gDa,c.hDa,c.iDa,c.$Ca,c.aDa];f=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.OZ=(function(){function l(){}l.dXa=function(d,g){var n,q,u;n=g.table;g=g.width;for(var h=0,m=n[0],p=d.read(m);p !== n[h + 1];){h+=g;q=n[h];u=q - m;m=q;p<<=u;p|=d.read(u);}return h;};l.jab=function(d){for(var g=4;d.read(1);){++g;}d.advance(g);};l.kab=function(d,g){for(;g--;){l.dXa(d,c.jDa);}};l.Y0b=function(d,g){var n,h;n=k[g - 1];h=n.table;n=this.dXa(d,n);if(11 > g)f[g - 1] && (g=h[n + 2]) && d.advance(g);else if(11 === g || 15 < g)(n+=2,(g=h[n]) && d.advance(g),(h=h[n + 1]) && this.jab(d),1 < h && this.jab(d));else throw Error("Huffman: unknown spectral codebook: " + g);};return l;})();},57823:function(r,b,a){var c,k,f,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.oEa=b.Zsa=void 0;c=a(76967);k=a(55312);f=a(70309);b.Zsa=function(n,h,m,p){var q,u,t;q=n.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.px / 20)) / Math.log(2)));n.reverse(8);n.write(8,p);m || (m=new g(n,0,h));q=m;u=2 === q.Jxa?3:5;t=(1 << u) - 1;h=[];p=[];for(var w=[],v=0;v < q.sM;++v){for(var y=0,x=0;y < q.LU;){for(var z=n.read(4),A=0,B;(B=n.read(u)) === t;){A+=B;}A+=B;y+=A;h.push(z);p.push(A);++x;}w.push(x);}q=!0;for(u=0;u < h.length;++u){0 !== h[u] && (13 === h[u] && q?(n.advance(9),q=!1,k.OZ.kab(n,p[u] - 1)):k.OZ.kab(n,p[u]));}n.read(1) && n.advance(6 + 9 * (n.read(2) + 1));if(n.read(1))for((q=m,u=2 === q.Jxa?l:d,t=0);t < q.z5a;++t){if(w=n.read(u[0]))for((v=n.read(1),y=0);y < w;++y){if((n.advance(u[1]),x=n.read(u[2])))(n.advance(1),z=n.read(1),n.advance(x * (v + 3 - z)));}}c.assert(!n.read(1));q=m.sM;u=m.LU;t=m.obb;m=m.V$;for(v=w=0;v < q;++v){for((y=m[v],x=0);x < u;++w){if((z=h[w],A=p[w],0 === z || 13 === z || 15 === z || 14 === z))x+=A;else {B=5 <= z?2:4;for(var C=0;C < A;(++C,++x)){for(var D=y * (t[x + 1] - t[x]) / B,F=0;F < D;++F){k.OZ.Y0b(n,z);}}}}}};l=[1,4,3];d=[2,6,5];g=(function(){return function(n,h,m){var p;this.V$=[];this.sM=1;this.V$[0]=1;n.advance(1);this.Jxa=n.read(2);n.read(1);if(2 === this.Jxa){this.z5a=8;this.LU=n.read(4);for(h=0;7 > h;++h){n.read(1)?this.V$[this.sM - 1]++:(this.sM++,this.V$[this.sM - 1]=1);}this.obb=f.VKa[m];}else {this.z5a=1;this.LU=n.read(6);if(n.read(1)){p=14 + Math.min(this.LU,40);n.read(1) && n.advance(p);h && n.read(1) && n.advance(p);}this.obb=f.UKa[m];}};})();b.oEa=g;},14535:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.K7a=void 0;c=a(30242);k=a(97489);b.K7a=function(f,l,d){var n;for(var g;7 !== (g=f.read(3));){n=f.read(4);switch(g){case 1:c.C7a(f,l,d);break;case 6:k.E7a(f,n,d);break;default:throw Error("Unsupported AAC element " + g);}}f.Ttb();};},70309:function(r,b){var a,c,k,f,l,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.olb=b.Oib=b.plb=b.Klb=b.Llb=b.VKa=b.UKa=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);k=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);l=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);g=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);n=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);h=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);m=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.UKa=[r,r,c,f,f,d,g,g,h,h,h,p];b.VKa=[a,a,k,l,l,l,n,n,m,m,m,q];b.Llb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.Klb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.plb=(function(){for(var u=new Float32Array(428),t=0;428 > t;t++){u[t]=Math.pow(2,(t - 200) / 4);}return u;})();b.Oib=(function(){for(var u=new Float32Array(8191),t=4 / 3,w=0;8191 > w;w++){u[w]=Math.pow(w,t);}return u;})();b.olb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},76967:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(70655);k=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);return l;})(Error);b.assert=function(f,l){if(!f)throw new k(l || "Assertion failed");};},35895:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kY=void 0;r=(function(){function a(c){this.data=c;this.vq=this.Hb=this.qd=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Hb;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.qd){if(8 === c)return this.data[this.Hb++];if(16 === c)return (c=this.view.getUint16(this.Hb),this.Hb+=2,c);if(32 === c)return (c=this.view.getUint32(this.Hb),this.Hb+=4,c);}for(;this.qd < c;){this.vq=(this.vq << 8) + this.data[this.Hb++];this.qd+=8;}this.qd-=c;return this.vq >>> this.qd & (1 << c) - 1;};a.prototype.advance=function(c){var k;if(c <= this.qd)this.qd-=c;else {c-=this.qd;k=Math.floor(c / 8);this.Hb+=k;this.vq=this.data[this.Hb++];this.qd=8 - (c - 8 * k);}};a.prototype.write=function(c,k){var f,l;k&=(1 << c) - 1;if(0 === this.qd){if(8 === c){this.data[this.Hb++]=k;return;}if(16 === c){this.view.setUint16(this.Hb,k);this.Hb+=2;return;}if(32 === c){this.view.setUint32(this.Hb,k);this.Hb+=4;return;}}if(0 < this.qd){f=Math.min(c,this.qd);l=this.data[this.Hb - 1] & (~((1 << this.qd) - 1) ^ (1 << this.qd - f) - 1);this.data[this.Hb - 1]=l ^ (c >= f?k >>> c - f:k << this.qd - f);this.qd-=f;c-=f;}for(;8 <= c;){c-=8;this.data[this.Hb++]=k >>> c & 255;}0 < c && (this.qd=8 - c,l=this.data[this.Hb] & (1 << this.qd) - 1,this.vq=this.data[this.Hb++]=l ^ (k & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.qd && c <= 8 - this.qd?this.qd+=c:(0 !== this.qd && (c-=8 - this.qd,--this.Hb),this.Hb-=Math.floor(c / 8),this.vq=this.data[this.Hb - 1],this.qd=c % 8);};a.prototype.Ttb=function(){0 !== this.qd && (this.qd=0);};return a;})();b.kY=r;},70502:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.NTa=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.NTa=function(c,k){void 0 === k && (k=0);k=~~k;for(var f=0;f < c.length;f++){k=(a[(k >> 8 ^ c[f]) & 255] ^ k << 8) & 65535;}return k;};},42806:function(r,b,a){var c,k;b.w=void 0;c=a(35895);k=a(97262);b.w=function(f,l,d){var g;g=new c.kY(f);l=k.QQa(g,l,null === d || void 0 === d?void 0:d.mG).vFb;f=f.subarray(0,l);k.L$a(f);return {frame:f,Ora:l};};},97262:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.L$a=b.QQa=void 0;c=a(76967);k=a(70502);b.QQa=function(f,l,d){var g,n;g=f.read(16);c.assert(2935 === g);g=2 * ((f.read(16) & 2047) + 1);f.advance(13);n=f.read(5);f.reverse(5);d && (l*=-n / d);f.write(5,Math.min(31,Math.max(1,Math.floor(n + l))));return {vFb:g};};b.L$a=function(f){var l;l=k.NTa(f.subarray(2,f.length - 2));f[f.length - 2]=l >> 8;f[f.length - 1]=l & 255;};},8747:function(r,b,a){var c,k,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.KWa=void 0;c=a(35895);k=a(67026);b.KWa=function(){var n,h,m,p;for(var d=[],g=0;g < arguments.length;g++){d[g]=arguments[g];}n="string" === typeof d[0]?{vd:d[0],frame:d[1],px:d[2],Yvb:d[3],mG:d[4]}:d[0];h=n.vd;d=n.frame;g=n.px;m=n.Yvb;p=n.mG;n=n.gH;n=void 0 === n?!1:n;switch(h){case "aac":void 0 === f && (f=a(14979).w);h=6;m && (m=new c.kY(m),h=k.r6a(m).p9);d=f(d,g,n,{p9:h}).Ora;break;case "ddp":void 0 === l && (l=a(42806).w);d=l(d,g,{mG:p}).Ora;break;default:throw Error("Unrecognized codec in fadeFrame: " + h);}return {uFb:d};};},86704:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(70655).__exportStar(a(8747),b);},22497:function(r,b){var a,c,k;Object.defineProperty(b,"__esModule",{value:!0});r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,O9:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,O9:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,O9:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};k={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,O9:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.xR={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":k},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":k};},68072:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){var l;l=null !== k && k.apply(this,arguments) || this;l.oF=1536;return l;}c.__extends(f,k);f.Rc=!0;return f;})(a(98620).default);a=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.De="ac-3";return f;})(r);b.MFb=a;r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.De="ec-3";return f;})(r);b.Wfb=r;},82511:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(){this.JFb=this.M.fd(2);this.ytb=this.M.fd(5);this.ztb=this.M.fd(3);this.eqb=this.M.fd(3);this.M.fd(1);this.M.fd(5);this.M.fd(5);return !0;};f.De="dac3";return f;})(a(37709).Ff);b.ud=r;},3897:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(l){this.M.fd(1);this.M.fd(7);this.d$a=this.M.fd(3);this.c$a=this.M.fd(5);this.e$a=this.M.fd(1);this.U_a=this.M.fd(1);this.scb=this.M.fd(1);this.J4a=this.M.fd(1);this.GSa=this.M.fd(1);this.HSa=this.M.fd(1);this.FSa=this.M.fd(2);this.M.fd(3);(this.moa=this.M.fd(1))?this.H0a=this.M.fd(4):this.M.fd(4);l && (l.tbc={d$a:this.d$a,c$a:this.c$a,e$a:this.e$a,U_a:this.U_a,scb:this.scb,J4a:this.J4a,GSa:this.GSa,HSa:this.HSa,FSa:this.FSa,moa:this.moa,H0a:this.H0a});return !0;};f.De="av1C";return f;})(a(37709).Ff);b.ud=r;},50525:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(l){var d;this.M.ed();this.Veb=this.M.ed();this.M.ed();this.M.ed();this.M.ed();this.T9=this.Tfa(this.M.ed() & 31);this.l7a=this.Tfa(this.M.ed());this.TM=this.T9.length?this.T9[0][1]:this.Veb;this.QOa=this.M.offset;this.startOffset + this.length < this.M.offset && (100 === this.TM || 110 === this.TM || 122 === this.TM || 144 === this.TM) && (this.M.ed(),this.M.ed(),this.Tfa(this.M.ed()));d=this.startOffset + this.length - this.QOa;0 < d && this.$l(d,this.QOa);l && l.Bha && (l.Bha.T9=this.T9,l.Bha.l7a=this.l7a,l.Bha.TM=this.TM);return !0;};f.prototype.Tfa=function(l){var n;for(var d=[],g=0;g < l;++g){n=this.M.Bg();d.push(this.M.K8(n));}return d;};f.De="avcC";f.Rc=!1;return f;})(a(37709).Ff);b.ud=r;},98620:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(37709);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(d){var g;g=f.prototype.parse.call(this,d);this.M.offset+=8;this.qia=this.M.Bg();this.Aua=this.M.Bg();this.M.offset+=4;this.samplerate=this.M.Bg();this.M.offset+=2;k.K && this.M.console.trace("MP4AudioSampleEntry: channelcount: " + this.qia + ", samplesize: " + this.Aua + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.Ne)(d.Ne.qia=this.qia,d.Ne.Aua=this.Aua,d.Ne.samplerate=this.samplerate);return g;};l.Rc=!1;return l;})(a(24889).default);b["default"]=r;},44545:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(){this.Hc=this.Ov([{Ebc:"int32"},{maxBitrate:"int32"},{d2:"int32"}]);return !0;};f.De="btrt";f.Rc=!1;return f;})(a(37709).Ff);b.ud=r;},37709:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(93005);b.K=!1;r=(function(){function k(f,l,d,g,n){this.Mb=f;this.type=l;this.byteOffset=d;this.byteLength=g;this.parent=n;this.Gd={};this.IG=g;}k.Rx=function(f,l){var g,h;function d(m){m && m.Rx && (m=m.Rx(l),m.length && (g=g.concat(m)));}g=[];f.type === l && g.push(f);if(f.Gd)for(var n in f.Gd){h=f.Gd[n];Array.isArray(h) && h.forEach(d);}return g;};k.jR=function(f,l){void 0 === f.Gd[l.type] && (f.Gd[l.type]=[]);f.Gd[l.type].push(l);};k.Mn=function(f,l){return k.Rx(f,l)[0];};Object.defineProperties(k.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{M:{get:function(){return this.Mb;},enumerable:!0,configurable:!0}});k.prototype.Lg=function(){var f;f=this.Mb.Vb();this.version=f >> 24;this.flags=f & 16777215;};k.prototype.jR=function(f){k.jR(this,f);};k.prototype.Rx=function(f){return k.Rx(this,f);};k.prototype.Mn=function(f){return k.Mn(this,f);};k.prototype.parse=function(){return !0;};k.prototype.HS=function(){return !0;};k.prototype.so=function(f){if((f=this.Gd[f]) && Array.isArray(f) && 1 === f.length)return f[0];};k.prototype.$l=function(f,l){l=void 0 === l?this.Mb.offset:l;c.assert(l >= this.startOffset + 8 && l + f <= this.startOffset + this.IG,"Removal range [0x" + l.toString(16) + "-0x" + (l + f).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.IG).toString(16) + ")");this.Mb.$l(f,l,this);};k.prototype.X8=function(f,l,d){d=void 0 === d?this.Mb.offset:d;c.assert(d >= this.startOffset + 8 && d + f <= this.startOffset + this.IG,"Removal range [0x" + d.toString(16) + "-0x" + (d + f).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.IG).toString(16) + ")");this.Mb.X8(f,l,d,this);};k.prototype.l8a=function(f,l,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.WOa(f,l));}return g;}return this.WOa(f,l);};k.prototype.Ov=function(f){var l,d;d=this;void 0 === l && (l={});f.forEach(function(g){var n,h;if("offset" === g.type){n=g.offset;if(0 < n % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.Mb.offset+=n / 8;}else for(n in g){h=g[n];l[n]="string" === typeof h?d.l8a(h):d.l8a(h.type,h.length,h.Srb);}});return l;};k.prototype.WOa=function(f,l){var d;d=this.byteLength - this.Mb.offset + this.startOffset;"undefined" === typeof l && (l=d);switch(f){case "int8":f=this.Mb.ed();break;case "int64":f=this.Mb.pk();break;case "int32":f=this.Mb.Vb();break;case "int16":f=this.Mb.Bg();break;case "string":f=this.Mb.$Wb(Math.min(l,d));break;default:throw Error("Invalid type: " + f);}return f;};k.Rc=!1;return k;})();b.Ff=r;},87529:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(l){var d,g;d=this.M.Bg();this.FUa=d >> 3;this.iSb=d & 7;this.d2b=[];for(d=0;d < this.iSb;d++){g={JFb:this.M.fd(2),ytb:this.M.fd(5),ztb:this.M.fd(5),eqb:this.M.fd(3),$dc:this.M.fd(1),hSb:this.M.fd(4)};0 < g.hSb?g.Obc=this.M.fd(9):this.M.fd(1);this.d2b.push(g);}l && l.SBb && (l.SBb.FUa=this.FUa);return !0;};f.De="dec3";return f;})(a(37709).Ff);b.ud=r;},23846:function(r,b,a){var c,k;c=a(70655);k=a(57699);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(d){this.Lg();this.Dhb=k.YBa.e8a(this.M,d);return !0;};l.De="esds";l.Rc=!1;return l;})(a(37709).Ff);b.ud=r;},22369:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(){this.M.Jy();this.M.Jy();for(this.Sia=[];this.M.offset <= this.byteOffset + this.byteLength - 4;){this.Sia.push(this.M.Jy());}return !0;};f.De="ftyp";f.Rc=!1;return f;})(a(37709).Ff);b.ud=r;},93575:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(l){this.Lzb=this.M.Jy();l && l.Ne && (l.Ne.pZb=this.Lzb);return !0;};f.De="frma";return f;})(a(37709).Ff);b.ud=r;},75453:function(r,b,a){var c,k;c=a(70655);k=a(54319);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(d){var g,n,h,m,p;this.Lg();this.Hc=this.Ov([{hfc:"int32"},{tna:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Hc.tna=k.mJ(this.Hc.tna);if(d && d.Mj){p=null === (m=null === (h=null === (n=null === (g=this.parent) || void 0 === g?void 0:g.parent) || void 0 === n?void 0:n.Mn("tkhd")) || void 0 === h?void 0:h.Hc) || void 0 === m?void 0:m.trackId;"number" === typeof p && d.Mj[p] && (d.Mj[p].mv=this.Hc.tna);}return !0;};l.De="hdlr";l.Rc=!1;return l;})(a(37709).Ff);b.ud=r;},14304:function(r,b,a){var c,k;c=a(70655);k=a(93005);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.HS=function(){var d;d=this.Mn("esds");if(d=d && d.Dhb.Mn(5))(k.assert(this.samplerate),this.oF=d.oF * this.samplerate / d.o9);return !0;};l.De="mp4a";l.Rc=!0;return l;})(a(98620).default);b.ud=r;},31427:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(){this.Lg();this.Hc=1 === this.version?this.Ov([{creationTime:"int64"},{modificationTime:"int64"},{S:"int32"},{duration:"int64"}]):this.Ov([{creationTime:"int32"},{modificationTime:"int32"},{S:"int32"},{duration:"int32"}]);return !0;};f.De="mvhd";f.Rc=!1;return f;})(a(37709).Ff);b.ud=r;},95415:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(){this.Lg();this.Hc=this.Ov(1 === this.version?[{nFb:"int64"}]:[{nFb:"int32"}]);return !0;};f.De="mehd";f.Rc=!1;return f;})(a(37709).Ff);b.ud=r;},32948:function(r,b,a){var c,k;c=a(70655);r=a(82296);a=a(37709);k=r.Kca;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){this.Lg();this.Hc=this.Ov([{jt:"int32"},{Bs:"int16"}]);return !0;};l.De=k;l.Rc=!1;return l;})(a.Ff);b.ud=a;},36208:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(82296);r=a(37709);f=k.Lca;r=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.parse=function(){this.Lg();this.fileSize=this.M.pk();this.S=this.M.pk();this.duration=this.M.pk(!1,!0);this.vSb=this.M.pk();this.M.pk();this.zSb=this.M.pk();this.HRb=this.M.Vb();this.wSb=this.M.pk();this.VEb=this.M.Vb();this.M.N8();this.Yk={moof:{offset:this.vSb},sidx:{offset:this.wSb,size:this.VEb}};this.Yk[k.SGa]={offset:this.zSb,size:this.HRb};this.M.offset - this.startOffset <= this.length - 24 && (this.ySb=this.M.pk(),this.vRb=this.M.Vb(),this.xSb=this.M.pk(),this.uRb=this.M.Vb(),this.Yk[k.b_]={offset:this.ySb,size:this.vRb},this.Yk[k.a_]={offset:this.xSb,size:this.uRb});return !0;};d.De=f;d.Rc=!1;return d;})(r.Ff);b["default"]=r;},19441:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);r=a(82296);a=a(37709);k=r.Mca;a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(){var d,h,m;this.Lg();1 <= this.version && this.M.N8();d=this.M.Vb();this.Yk={};for(var g=this.startOffset + this.length,n=0;n < d;++n){h=this.M.Jy();"uuid" === h && (h=this.M.N8());m=this.M.pk();this.Yk[h]={offset:g,size:m};g+=m;}return !0;};l.De=k;l.Rc=!1;return l;})(a.Ff);b["default"]=a;},74982:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(l){this.Hc=this.Ov([{TKb:"int32"},{J5b:"int32"}]);if(null === l || void 0 === l?0:l.Ne)(l.Ne.pdc=this.Hc.TKb,l.Ne.Qgc=this.Hc.J5b);return !0;};f.De="pasp";f.Rc=!1;return f;})(a(37709).Ff);b.ud=r;},68290:function(r,b,a){var c,k,f,l,d;c=a(70655);k=a(82296);f=a(97090);l=a(98620);r=a(37709);d=a(3508);a=(function(g){function n(){return null !== g && g.apply(this,arguments) || this;}c.__extends(n,g);n.prototype.parse=function(){this.Lg();this.NK=this.M.Vb();return !0;};n.prototype.HS=function(h){var m;m=Object.keys(this.Gd);m.length && (m=m[0],this.Gd[m].length && (m=this.Gd[m][0],m instanceof l.default?this.ca=new f.N(m.oF,m.samplerate):m instanceof d.default && (m=m.Gd[k.Kca]) && m.length && (m=m[0].Hc,1E3 !== m.Bs && 1001 !== m.Bs || 0 !== m.jt % 1E3?this.M.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + m.jt + "/" + m.Bs):this.ca=new f.N(m.Bs,m.jt)),h && this.ca && (h.ca=this.ca)));return !0;};n.prototype.N8a=function(h){void 0 !== this.Gd[h] && 0 !== this.Gd[h].length && (this.Mb.Rt(this.NK - 1,this.byteOffset + 12),h=this.Gd[h][0],this.$l(h.byteLength,h.byteOffset));};n.De="stsd";n.Rc=!0;return n;})(r.Ff);b.ud=a;},24889:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);r=a(37709);k=a(37709);a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(d){this.M.offset+=6;this.M.Bg();k.K && this.M.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.Ne)d.Ne.pZb=this.type;return !0;};return l;})(r.Ff);b["default"]=a;},61639:function(r,b,a){var c,k;c=a(70655);k=a(37709);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(d){this.Lg();this.Mua=this.M.Jy();k.K && this.M.console.trace("SchemeTypeBoxTranslator: " + this.Mua);if("cenc" === this.Mua){if((this.M.offset-=4,k.K && this.M.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.M.offset),this.Mb.ieb("piff"),null === d || void 0 === d?0:d.Ne))d.Ne.aDb="piff";}else if(null === d || void 0 === d?0:d.Ne)d.Ne.aDb=this.Mua;this.M.Vb();return !0;};l.De="schm";l.Rc=!1;return l;})(k.Ff);b.ud=r;},5031:function(r,b,a){var c,k;c=a(70655);k=a(97090);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.HS=function(d){var g;if(d && d.ca && !d.BTb){g=this.so("mdia");g && (g=g.so("mdhd")) && g.S !== d.ca.S && (d.ca=new k.N(d.ca).ze(g.S));}return !0;};l.De="trak";l.Rc=!0;return l;})(a(37709).Ff);b.ud=r;},86640:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(l){var d,g,n,h,m;this.Lg();d=this.Ov([{eO:"int32"},{Sja:"int32"},{av:"int32"},{Lx:"int32"},{Kx:"int32"}]);g=d.eO;n=d.Sja;h=d.av;m=d.Kx;d=d.Lx;this.Hc={trackId:g,jcc:n,d3:h,kcc:m,lcc:d};(null === l || void 0 === l?0:l.Mj) && l.Mj[g] && (l.Mj[g].Sja=n,l.Mj[g].av=h,l.Mj[g].Kx=m,l.Mj[g].Lx=d);this.eO=g;this.Sja=n;this.av=h;this.Lx=d;this.Kx=m;return !0;};f.De="trex";f.Rc=!1;return f;})(a(37709).Ff);b.ud=r;},11181:function(r,b,a){var c;c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(l){var d;this.Lg();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{Ydc:"int16"},{kbc:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Hc=this.Ov(d);this.Hc.Agc=!!(this.flags & 1);this.Hc.Bgc=!!(this.flags & 2);this.Hc.Cgc=!!(this.flags & 4);this.Hc.Dgc=!!(this.flags & 8);this.M.console.trace("Finished parsing track box");if(null === l || void 0 === l?0:l.Ne)(l.Ne.width=this.Hc.width,l.Ne.height=this.Hc.height);l && l.Mj && (l.Mj[this.Hc.trackId]={});return !0;};f.De="tkhd";f.Rc=!1;return f;})(a(37709).Ff);b.ud=r;},77301:function(r,b,a){var c,k,f,l;c=a(70655);k=a(86704);f=a(93005);l=a(22497);r=(function(d){function g(n,h,m,p,q){n=d.call(this,n,h,m,p,q) || this;n.sS=!1;return n;}c.__extends(g,d);Object.defineProperties(g.prototype,{EUa:{get:function(){return !!(this.flags & 1);},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{Z3:{get:function(){return !!(this.flags & 4);},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{l9:{get:function(){return !!(this.flags & 256);},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{n9:{get:function(){return !!(this.flags & 512);},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{zua:{get:function(){return !!(this.flags & 1024);},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{yua:{get:function(){return !!(this.flags & 2048);},enumerable:!0,configurable:!0}});g.prototype.parse=function(n){var h,m,p;this.Lg();this.Kha=this.M.offset;this.rd=this.M.Vb();this.Im=this.EUa?this.M.M8():0;this.XEb=this.Z3?this.M.Vb():void 0;this.xua=(this.l9?4:0) + (this.n9?4:0) + (this.zua?4:0) + (this.yua?4:0);this.WK=this.M.offset;f.assert(this.EUa,"Expected data offset to be present in Track Run");f.assert(this.length - (this.M.offset - this.startOffset) === this.rd * this.xua,"Expected remaining data in box to be sample information");if(n && n.ka){n.ka.Im=this.Im;n.ka.rd=this.rd;this.Gj=[];p=null === (m=null === (h=this.parent) || void 0 === h?void 0:h.Mn("tfhd")) || void 0 === m?void 0:m.eO;for(h=0;h < this.rd;h++){m={};this.l9?m.k9=this.M.Vb():n.ka.av?m.k9=n.ka.av:p && n.Mj && n.Mj[p] && (m.k9=n.Mj[p].av);this.n9?m.jH=this.M.Vb():n.ka?m.jH=n.ka.Lx:p && n.Mj && n.Mj[p] && (m.jH=n.Mj[p].Lx);this.zua?m.m9=this.M.Vb():n.ka?m.m9=n.ka.Kx:p && n.Mj && n.Mj[p] && (m.m9=n.Mj[p].Kx);this.yua && (m.Ffc=0 === this.version?this.M.Vb():this.M.M8());0 === h && this.Z3 && (m.m9=this.XEb);this.Gj.push(m);}n.ka.Gj=this.Gj;if(n.ka.iH)for((f.assert(n.ka.iH.length === n.ka.Gj.length,"num fragment samples: " + n.ka.Gj.length + ", num samples in auxiliary info: " + n.ka.iH.length),p=0);p < n.ka.Gj.length;p++){n.ka.Gj[p].Uba=n.ka.iH[p].Uba;n.ka.Gj[p].kwa=n.ka.iH[p].kwa;}}return !0;};g.prototype.R0=function(n,h,m){var p,q,u;p=this.l9?this.M.Vb():n.av;q=this.n9?this.M.Vb():n.Lx;n=this.zua?this.M.Vb():n.Kx;u=this.yua?0 === this.version?this.M.Vb():this.M.M8():0;return {rZb:u,m9:n,jH:q,k9:p,jfc:(m || 0) + u - (void 0 !== h?h:u)};};g.prototype.Ha=function(n,h,m,p,q,u,t){var w,v,y,x;f.assert(void 0 !== this.Im);f.assert(void 0 !== this.WK);f.assert(void 0 !== this.Kha);f.assert(void 0 !== this.rd);f.assert(void 0 !== n.uq);w=0;v=0;this.Mb.offset=this.WK;for(p=0;p < q;++p){y=this.R0(h,x,v);if(0 === p)x=y.rZb;w+=y.jH;v+=y.k9;}p=q;q=this.M.offset;y=this.R0(h,x,v);this.Mta=t;this.DN=p;this.mab=v;if(t){if((this.eN=this.Im + w,this.Mp=0,p === this.rd))return !0;}else if((this.eN=this.Im,this.Mp=w,0 === p))return !0;if(0 === p || p === this.rd)return !1;this.sS=!0;if(t){this.Mp+=y.jH;for(t=p + 1;t < this.rd;++t){y=this.R0(h,x,v);this.Mp+=y.jH;}this.Mb.offset=this.Kha;this.rd=p;this.Mb.Rt(this.rd);this.Mb.Mxa(u);this.Z3 && (this.M.offset+=4);this.$l(this.length - (q - this.startOffset),q);}else (h=q - this.WK,this.WK=q,this.Mb.offset=this.Kha,this.rd-=p,this.Mb.Rt(this.rd),this.Im+=w,this.Mb.Mxa(u,this.Im),this.Z3 && (this.M.offset+=4),this.$l(h,this.Mb.offset));m.$l(this.Mp,n.uq + this.eN);return !0;};g.prototype.eRb=function(n,h,m,p,q,u,t,w){var v,x,z,A,B;void 0 === t && (t=!1);f.assert(void 0 !== this.Im);f.assert(void 0 !== this.WK);f.assert(void 0 !== this.rd);f.assert(void 0 !== this.xua);f.assert(void 0 !== n.uq);for(var y=p.length;y < this.rd;++y){p[y]=p[y - 1];}p.some(function(C){return 0 >= C;}) && (x=null === (v=this.tnb(q,u)) || void 0 === v?void 0:v.O9);this.M.offset=this.WK;n=n.uq + this.Im;q=-1 !== q.indexOf("heaac")?"aac":"ddp";u=new Uint8Array(this.M.view.buffer,this.M.view.byteOffset,this.M.view.byteLength);for(y=0;y < this.rd;++y){v=this.R0(h).jH;if(-Infinity === p[y]){if(x && this.n9){m.X8(v,x,n);z=this.xua - (this.l9?4:0);this.Mb.offset-=z;this.Mb.Rt(x.byteLength);this.Mb.offset+=z - 4;}}else if(0 > p[y])try{A=u.subarray(n,n + v);B=k.KWa({vd:q,frame:A,px:p[y],gH:t,mG:w}).uFb;B !== v && this.M.console.error("TrackRunBoxEditor: parse frame size error " + B + " should be " + v);}catch(C){this.M.console.error("TrackRunBoxEditor: fadeFrame error: " + C.message + " " + C.stack);}n+=v;}};g.prototype.tnb=function(n,h){if("string" === typeof h)return (f.assert("reset" !== h && "standard" !== h),l.xR[h]);if(void 0 !== n)return h?l.xR.reset[n] || l.xR.standard[n]:l.xR.standard[n];};g.De="trun";g.Rc=!1;return g;})(a(37709).Ff);b.ANb=r;},3508:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.prototype.parse=function(l){k.prototype.parse.call(this,l);this.Hc=this.Ov([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{Cdc:"int32"},{Rgc:"int32"},{offset:32,type:"offset"},{adc:"int16"},{Xbc:{type:"int8",Srb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};f.Rc=!0;return f;})(a(24889).default);b["default"]=r;a=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.De="avc1";return f;})(r);b.Reb=a;a=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.De="avc2";return f;})(r);b.Seb=a;a=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.De="avc3";return f;})(r);b.Teb=a;a=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.De="avc4";return f;})(r);b.Ueb=a;a=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.De="hvc1";return f;})(r);b.$hb=a;a=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.De="hev1";return f;})(r);b.Thb=a;r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);f.De="av01";return f;})(r);b.Qeb=r;},77611:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(37709);f=a(54319);r=(function(l){function d(g,n,h,m,p){h=l.call(this,h,m,p) || this;h.ttb=g;h.LN=n;h.Gd={};return h;}c.__extends(d,l);d.prototype.parse=function(g){var n,h,m,p,q,u;this.offset=0;n=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){h=this.offset;m=this.Vb();if(0 === m)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=f.mJ(this.Vb());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.N8();}if(0 === n.length && this.LN.DXa(p,h,m))break;if(h + m > this.view.byteLength)break;q=this.ttb[p];u=void 0;if(q){if((u=new q(this,p,h,m,n[0]),(n[0] || this).jR(u),u.parse(g)))this.config.$ra && q.Rc?n.unshift(u):this.offset=h + m;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=h + m;for(;n.length && this.offset > n[0].byteOffset + n[0].IG - 8;){u=n.shift();if(!u.HS(g))return {done:!1,offset:this.offset,error:"finalize error in " + u.type + " box"};this.offset=u.byteOffset + u.IG;}if(0 === n.length && this.LN.uVa(p,h,m,u))break;}return !this.LN.done && (g=this.LN.endOffset?this.LN.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,T4a:g}:{done:!0,offset:Math.min(this.LN.endOffset || Infinity,this.offset)};};d.prototype.jR=function(g){k.Ff.jR(this,g);};return d;})(a(86063).emb);b.Laa=r;},69740:function(r){var c,k;function b(){var f,l;if(DataView.prototype && DataView.prototype.xT && !k){try{f=new ArrayBuffer(4);l=new DataView(f);l.tL(0,4,1);}catch(d){return;}try{f=new ArrayBuffer(4);l=new DataView(f);l.tL(1,2,2);}catch(d){DataView.prototype.tL=a(DataView.prototype.tL,DataView.prototype.getUint8,Uint8Array);DataView.prototype.V4=a(DataView.prototype.V4,DataView.prototype.getUint16,Uint16Array);DataView.prototype.xT=a(DataView.prototype.xT,DataView.prototype.getUint32,Uint32Array);DataView.prototype.sma=a(DataView.prototype.sma,DataView.prototype.getInt8,Int8Array);DataView.prototype.qma=a(DataView.prototype.qma,DataView.prototype.getInt16,Int16Array);DataView.prototype.rma=a(DataView.prototype.rma,DataView.prototype.getInt32,Int32Array);}c.IJb=function(d,g,n,h,m){return n?d.tL(g,n,h || 1,m):new Uint8Array(0);};c.GJb=function(d,g,n,h,m){return n?d.V4(g,n,h || 2,m):new Uint16Array(0);};c.HJb=function(d,g,n,h,m){return n?d.xT(g,n,h || 4,m):new Uint32Array(0);};c.jdc=function(d,g,n,h,m){return n?d.sma(g,n,h || 1,m):new Int8Array(0);};c.hdc=function(d,g,n,h,m){return n?d.qma(g,n,h || 2,m):new Int16Array(0);};c.idc=function(d,g,n,h,m){return n?d.rma(g,n,h || 4,m):new Int32Array(0);};k=!0;}}function a(f,l,d){return function(g,n,h,m){var p;h=h || d.BYTES_PER_ELEMENT;if(g + n * h > this.byteLength){p=new d(n);p.set(f.call(this,g,n - 1,h,m));p[n - 1]=l.call(this,g + (n - 1 * h),m);return p;}return f.call(this,g,n,h,m);};}c={tL:function(f,l,d,g,n){var h;h=new Uint8Array(d);g=g || 1;for(var m=0;m < d;(++m,l+=g)){h[m]=f.getUint8(l,n);}return h;},V4:function(f,l,d,g,n){var h;h=new Uint16Array(d);g=g || 2;for(var m=0;m < d;(++m,l+=g)){h[m]=f.getUint16(l,n);}return h;},xT:function(f,l,d,g,n){var h;h=new Uint32Array(d);g=g || 4;for(var m=0;m < d;(++m,l+=g)){h[m]=f.getUint32(l,n);}return h;},sma:function(f,l,d,g,n){var h;h=new Int8Array(d);g=g || 1;for(var m=0;m < d;(++m,l+=g)){h[m]=f.getInt8(l,n);}return h;},qma:function(f,l,d,g,n){var h;h=new Int16Array(d);g=g || 2;for(var m=0;m < d;(++m,l+=g)){h[m]=f.getInt16(l,n);}return h;},rma:function(f,l,d,g,n){var h;h=new Int32Array(d);g=g || 4;for(var m=0;m < d;(++m,l+=g)){h[m]=f.getInt32(l,n);}return h;},Qcc:b};k=!1;c.VGb=function(){return k;};b();r.exports=c;},62449:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(37709);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(d){var g;this.G7=this.M.ed();g=this.M.ed();this.ewa=g >>> 2;this.cxa=g >>> 1 & 1;this.Qha=256 * this.M.Bg() + this.M.ed();this.maxBitrate=this.M.Vb();this.d2=this.M.Vb();k.K && this.M.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.G7.toString(16) + ", streamType=" + this.ewa + ", upStream=" + this.cxa + ", bufferSizeDB=" + this.Qha + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.d2);if(null === d || void 0 === d?0:d.Ni)(d.Ni.G7=this.G7,d.Ni.ewa=this.ewa,d.Ni.cxa=this.cxa,d.Ni.Qha=this.Qha,d.Ni.maxBitrate=this.maxBitrate,d.Ni.d2=this.d2);this.VOa(d);return !0;};l.tag=4;return l;})(a(33277).oba);b.hBa=r;},2439:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(37709);r=a(33277);f=a(57699);a=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.k8a=function(){var g;g=this.M.fd(4);return 15 !== g?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][g]:this.M.fd(24);};d.prototype.parse=function(g,n){if(this.zMb(n) && 64 === n.G7){if(null === g || void 0 === g?0:g.Ni){n=this.M.xYa(this.length);for(var h=new ArrayBuffer(this.length),m=new Uint8Array(h),p=0;p < this.length;p++){m[p]=n.getUint8(p);}g.Ni.icc=h;}this.Yo=this.c8a();this.o9=this.k8a();this.pia=this.M.fd(4);this.Dua=this.DS=5 === this.Yo || 29 === this.Yo?5:-1;this.ita=29 === this.Yo?1:-1;0 < this.DS && (this.Xka=this.k8a(),this.Yo=this.c8a(),22 === this.Yo && (this.Wka=this.M.fd(4)));switch(this.Yo){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.SS=this.M.fd(1),this.lja=(this.NAb=this.M.fd(1))?this.M.fd(14):void 0,this.M.fd(1),this.oF=3 === this.Yo?256:23 === this.Yo?this.SS?480:512:this.SS?960:1024);}k.K && this.M.console.trace("AudioSpecificConfig: audioObjectType=" + this.Yo + ", samplingFrequency=" + this.o9 + ", channelConfiguration=" + this.pia + ", extensionAudioObjectType=" + this.DS + ", sbrPresentFlag=" + this.Dua + ", psPresentFlag=" + this.ita + ", extensionSamplingFrequency=" + this.Xka + ", extensionChannelConfiguration=" + this.Wka + ", frameLengthFlag=" + this.SS + ", coreCoderDelay=" + this.lja + ", frameLength=" + this.oF);if(null === g || void 0 === g?0:g.Ni)(g.Ni.Yo=this.Yo,g.Ni.o9=this.o9,g.Ni.pia=this.pia,g.Ni.DS=this.DS,g.Ni.Dua=this.Dua,g.Ni.ita=this.ita,g.Ni.Xka=this.Xka,g.Ni.Wka=this.Wka,g.Ni.SS=this.SS,g.Ni.lja=this.lja,g.Ni.oF=this.oF);}this.skip();return !0;};d.prototype.c8a=function(){var g;g=this.M.fd(5);31 === g && (g=32 + this.M.fd(6));return g;};d.prototype.zMb=function(g){return g.tag === f.hBa.tag;};d.tag=5;return d;})(r.oba);b.chb=a;},33277:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(57699);r=(function(){function f(l,d,g){this.tag=l;this.view=d;this.M=g;this.startOffset=g.offset;}f.e8a=function(l,d,g){var n,h;n=l.ed();h=l.bXb();l=new (k.vK[n] || f)(n,l.xYa(h),l);l.parse(d,g);return l;};Object.defineProperties(f.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});f.prototype.parse=function(){this.M.offset=this.startOffset + this.length;this.M.qd=0;return !0;};f.prototype.$Wa=function(l){var d;d=[];this.tag === l && d.push(this);if(this.vK)for(var g=0;g < this.vK.length;g++){d=c.__spreadArrays(d,this.vK[g].$Wa(l));}return d;};f.prototype.Mn=function(l){for(l=this.$Wa(l);0 < l.length;){return l[0];}};f.prototype.VOa=function(l){for(this.vK=[];this.M.offset < this.startOffset + this.length;){this.vK.push(f.e8a(this.M,l,this));}};return f;})();b.oba=r;r.prototype.skip=r.prototype.parse;},57699:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(70655);r.__exportStar(a(33277),b);r.__exportStar(a(64445),b);r.__exportStar(a(62449),b);r.__exportStar(a(2439),b);r=a(62449);c=a(2439);a=a(64445);b.vK={3:a.YBa,4:r.hBa,5:c.chb};},64445:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(37709);r=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.parse=function(d){var g;this.Ehb=this.M.Bg();g=this.M.ed();this.Pab=!!(g & 128);this.CMa=!!(g & 64);this.lHa=!!(g & 32);this.M1b=g & 31;this.OAb=this.Pab?this.M.Bg():void 0;this.CMa && this.M.K8(this.M.ed());this.Ojb=this.lHa?this.M.Bg():void 0;k.K && this.M.console.trace("ESDescriptor: ES_ID=" + this.Ehb + ", streamDependenceFlag=" + this.Pab + ", URL_Flag=" + this.CMa + ", OCRstreamFlag=" + this.lHa + ", streamPriority=" + this.M1b + ", dependsOn_ES_ID=" + this.OAb + ", OCR_ES_Id=" + this.Ojb);this.VOa(d);return !0;};l.tag=3;return l;})(a(33277).oba);b.YBa=r;},86393:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(13082);c=a(69740);b.h8b=c;c=a(44098);b.zMa=c;c=a(22497);b.xR=c;b.Yda=r.nM.Gd.sidx;r=a(83375);b.Or=r.Or;r=a(76271);b.nD=r.nD;r=a(66633);b.Fw=r.Fw;b.ZL=r.ZL;r=a(74071);b.aca=r.aca;r=a(54319);b.mJ=r.mJ;a=a(67325);b.v=a.v;},74071:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);r=a(76271);k=a(12602);a=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);l.prototype.Ha=function(d){var g,n,h,m;g=this;if(!this.parse().done)return !1;n=this.Gd.moov;if(!n || 0 === n.length)return !1;h=n[0].Mn("tenc");if(!h)return !1;m=new Uint8Array(h.Wn);d.forEach(function(p){for(var q=p.from,u=!0,t=0;t < q.length;t++){if(m[t] !== q[t]){u=!1;break;}}u && g.nf.X8(p.from.length,p.to,h.Yoa);});return k.concat(this.nf.Ha());};return l;})(r.nD);b.aca=a;},67325:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(18920);b.v=r.v;},13082:function(r,b,a){var F,G,E,J,L,N,I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,U,Z,Q,ka,P,fa,ua,pa,Ra,Pa,db,wb,nb,Bb;function c(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function k(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function f(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function l(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);this.Gva=Qa.config.Gva;this.hf=this.sizes=void 0;}function d(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function g(){for(var Qa=new DataView(this),Za="",hb,lb=0;lb < this.byteLength;lb++){hb=Qa.getUint8(lb);Za+=("00" + hb.toString(16)).slice(-2);}return Za;}function n(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function h(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function m(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function p(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function q(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function u(Qa){function Za(hb,lb,yb,Hb,Jb){J.call(this,hb,lb,yb,Hb,Jb);this.X4a=Qa;}Za.Rc=!1;Za.prototype=new J();Za.prototype.constructor=Za;Object.defineProperties(Za.prototype,{ZAa:{get:function(){return this.X4a;}}});Za.prototype.parse=function(){this.M.console.trace("renaming '" + this.type + "' to draft type '" + this.X4a + "'");this.M.offset=this.startOffset + 4;this.Mb.ieb(this.ZAa);this.type=this.ZAa;return !0;};return Za;}function t(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function w(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function v(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function y(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function x(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function z(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function A(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function B(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function C(Qa,Za,hb,lb,yb){J.call(this,Qa,Za,hb,lb,yb);}function D(Qa,Za){Qa.forEach(function(hb){Za[hb.De]=hb;});}F=a(93005).assert;b=a(82296);G=a(97090).N;E=a(44098);a(69740);a(54319);a(54319);a(54319);J=a(37709).Ff;L=a(31427).ud;N=a(5031).ud;I=a(11181).ud;O=a(95415).ud;K=a(74982).ud;H=a(44545).ud;M=a(22369).ud;R=a(75453).ud;Y=a(68290).ud;a(24889);a(98620);ea=a(68072).MFb;ca=a(68072).Wfb;oa=a(82511).ud;Ga=a(87529).ud;Fa=a(3508)["default"];Ja=a(3508).Reb;Xa=a(3508).Seb;cb=a(3508).Teb;U=a(3508).Ueb;Z=a(61639).ud;Q=a(50525).ud;ka=a(3897).ud;P=a(3508).$hb;fa=a(3508).Thb;ua=a(3508).Qeb;pa=a(14304).ud;Ra=a(23846).ud;Pa=a(32948).ud;db=a(36208)["default"];wb=a(19441)["default"];a(33277);a(62449);a(2439);a(64445);nb=a(86640).ud;Bb=a(77301).ANb;a=a(93575).ud;c.Rc=!0;c.prototype=new J();c.prototype.constructor=c;k.Rc=!0;k.prototype=new J();k.prototype.constructor=k;f.Rc=!1;f.prototype=new J();f.prototype.constructor=f;f.prototype.parse=function(Qa){var Za;this.Lg();1 === this.version?(this.M.pk(),this.M.pk(),this.S=this.M.Vb(),this.duration=this.M.pk()):(this.M.Vb(),this.M.Vb(),this.S=this.M.Vb(),this.duration=this.M.Vb());Za=this.M.Bg() & 32767;this.language=String.fromCharCode(96 + (Za >>> 10),96 + (Za >>> 5 & 31),96 + (Za & 31));Qa && Qa.Ne && (Qa.Ne.S=this.S,Qa.Ne.duration=this.duration);return !0;};l.Rc=!1;l.prototype=new J();l.prototype.constructor=l;l.prototype.Lob=function(){this.Lg();this.M.Vb();this.S=this.M.Vb();0 === this.version?(this.IVa=this.M.Vb(),this.qXa=this.M.Vb()):(this.IVa=this.M.pk(),this.qXa=this.M.pk());this.MYb=this.M.Bg();this.z8a=this.M.Bg();};l.prototype.Kmb=function(Qa,Za){var hb,lb,yb;hb=this.S;Qa=Qa && Qa.S || hb;lb=Qa / hb;hb=this.M.J8(Za,12,!1);yb=1 === lb?this.M.J8(Za,12,!1):E.from(Uint32Array,{length:Za},function(){var Hb;Hb=Math.round(this.M.Vb() * lb);this.M.offset+=8;return Hb;},this);this.Kpb(Za,yb,hb,Qa);};l.prototype.Kpb=function(Qa,Za,hb,lb){if(this.Gva){lb=this.Gva * lb / 1E3;for(var yb=0,Hb=1;Hb < Qa;Hb++){Math.abs(Za[yb] - lb) > Math.abs(Za[yb] + Za[Hb] - lb)?(Za[yb]+=Za[Hb],hb[yb]+=hb[Hb]):(++yb,yb !== Hb && (Za[yb]=Za[Hb],hb[yb]=hb[Hb]));}++yb;Za=new Uint32Array(Za.buffer.slice(0,4 * yb));hb=new Uint32Array(hb.buffer.slice(0,4 * yb));}this.sizes=hb;this.hf=Za;};l.prototype.parse=function(Qa){var Za,hb,lb,yb;this.Lob();this.ca=Qa.ca;Za=this.S;hb=this.ca && this.ca.S || Za;lb=this.z8a;yb=this.startOffset + this.length + this.qXa;Za=new G(this.IVa,Za).ze(hb).ya;this.Ka={S:hb,ur:Za,offset:yb};this.Kmb(this.ca,lb);this.Ka.hf=this.hf;this.Ka.sizes=this.sizes;Qa.uk=this;return !0;};d.Rc=!1;d.prototype=new J();d.prototype.constructor=d;d.prototype.parse=function(){var Qa;this.gw=[];this.BUb=[];Qa=(this.length - 11) / 2;this.M.ed();this.M.ed();this.M.ed();for(var Za=0;Za < Qa;Za++){this.gw.push(this.M.ed());this.BUb.push(this.M.ed());}return !0;};n.Rc=!1;n.prototype=new J();n.prototype.constructor=n;n.prototype.parse=function(Qa){var Za;this.Lg();this.M.offset+=1;if(0 == this.version)this.M.offset+=1;else {Za=this.M.ed();this.wAb=Za >> 4;this.CAb=Za & 15;Qa && Qa.Ne && (Qa.Ne.mcc=this.wAb,Qa.Ne.pcc=this.CAb);}this.XUa=this.M.ed();this.WUa=this.M.ed();this.Yoa=this.M.offset;this.Wn=this.M.L8(16);this.Wn.toString=g;Qa && Qa.Ne && (Qa.Ne.ncc=this.XUa,Qa.Ne.yAb=this.WUa,Qa.Ne.occ=this.Wn);1 == this.XUa && 0 == this.WUa && (this.vAb=this.M.ed(),this.uAb=this.M.L8(this.vAb),Qa && Qa.Ne && (Qa.Ne.xAb=this.uAb));return !0;};h.Rc=!1;h.prototype=new J();h.prototype.constructor=h;h.prototype.parse=function(){this.Lg();this.jp=this.M.Bg();this.nQb=this.M.J8(this.jp,void 0,!0);return !0;};m.Rc=!1;m.prototype=new J();m.prototype.constructor=m;m.prototype.parse=function(Qa){var Za,hb,lb,yb,Hb,Jb;Za=Qa.uk;F(Za);Qa=Qa.ca;hb=Za.S;Za=Za.z8a;F(Qa);F(hb);F(Za);this.Lg();F(2 > this.version);this.jp=this.M.Bg();this.KM=new Uint16Array(Za + 1);lb=Qa.h_a(hb);yb=lb / hb;Hb=Qa.ze(lb).ya;if(0 === this.version)for((this.qN=new Uint16Array(),this.ri=new Uint32Array(),Qa=hb=0);Qa <= Za;++Qa){if((this.KM[Qa]=hb,Qa < this.jp)){Jb=this.M.ed();if(0 !== Jb)for(lb=0;lb < Jb;(++lb,++hb)){this.qN[hb]=Math.floor((this.M.Vb() + 1) * yb) / Hb;this.ri[hb]=this.M.Vb();}}}else if(1 === this.version)for((lb=this.M.ZWb(this.jp),this.M.offset+=4,this.ri=this.M.J8(this.jp,10,!1),this.M.offset-=8,this.qN=E.from(Uint16Array,{length:this.jp},function(){var Eb;Eb=Math.floor((this.M.Vb() + 1) * yb) / Hb;this.M.offset+=6;return Eb;},this),hb=Qa=0);Qa <= Za;++Qa){for(;hb < lb.length && lb[hb] < Qa;){++hb;}this.KM[Qa]=hb;}this.pj={KM:this.KM,qN:this.qN,ri:this.ri};return !0;};p.Rc=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Rc=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.HS=function(){var Qa;Qa=this.so("tfhd");Qa && (this.uq=Qa.yRa?Qa.uq:this.parent.startOffset);return !0;};t.Rc=!1;t.prototype=new J();t.prototype.constructor=t;t.prototype.parse=function(){var Qa,Rb;Qa=this.M.offset;this.Lg();if(1 === this.version){this.M.console.trace("translating vpcC box to draft equivalent");this.M.offset+=2;for(var Za=this.M.offset,hb=this.M.ed(),lb=this.M.ed(),yb=this.M.ed(),Hb=this.M.ed(),Jb=this.M.Bg(),Eb=[],Lb=0;Lb < Jb;++Lb){Eb=this.M.ed();}Lb=(hb & 240) >>> 4;Rb=(hb & 14) >>> 1;hb&=1;yb=16 === yb?1:0;lb != Hb && this.M.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + lb + " and matrixCoefficients " + Hb + " should be the same value!");Hb=2;switch(lb){case 1:Hb=2;break;case 6:Hb=1;break;case 9:Hb=5;break;default:this.M.console.warn("VP9: Unknown colourPrimaries " + lb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Mb.W$(this.version,Qa);this.Mb.W$(Lb << 4 | Hb,Za++);this.Mb.W$(Rb << 4 | yb << 1 | hb,Za++);Jb+=2;Eb.push(0,0);this.Mb.w6b(Jb);Za+=2;Eb.forEach(function(bc){this.Mb.W$(bc,Za++);});}return !0;};w.Rc=!1;w.prototype=new J();w.prototype.constructor=w;w.De="tfhd";Object.defineProperties(w.prototype,{yRa:{get:function(){return this.flags & 1;}},sZb:{get:function(){return this.flags & 2;}},zAb:{get:function(){return this.flags & 8;}},BAb:{get:function(){return this.flags & 16;}},YUa:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(Qa){this.Lg();this.eO=this.M.Vb();this.uq=this.yRa?this.M.pk():void 0;this.G9a=this.sZb?this.M.Vb():void 0;this.av=this.zAb?this.M.Vb():void 0;this.Lx=this.BAb?this.M.Vb():void 0;this.Kx=this.YUa?this.M.Vb():void 0;Qa && Qa.ka && (Qa.ka.eO=this.eO,Qa.ka.uq=this.uq,Qa.ka.G9a=this.G9a,Qa.ka.av=this.av,Qa.ka.Lx=this.Lx,Qa.ka.Kx=this.YUa?this.Kx:void 0);return !0;};v.Rc=!1;v.prototype=new J();v.prototype.constructor=v;v.prototype.parse=function(Qa){this.Lg();this.AE=1 === this.version?this.M.pk():this.M.Vb();Qa && Qa.ka && (Qa.ka.AE=this.AE);return !0;};v.prototype.Ha=function(Qa){var Za;Za=this.startOffset + 12;this.AE+=Qa;1 === this.version?this.Mb.x6b(this.AE,Za):this.Mb.Rt(this.AE,Za);};y.Rc=!1;y.prototype=Object.create(J.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{yE:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Qa){this.Lg();this.yE && this.M.Jy();this.yE && this.M.Vb();this.AAb=this.M.ed();this.rd=this.M.Vb();this.GLb=this.M.K8(this.rd);Qa && Qa.ka && (Qa.ka.tZb=this.GLb);return !0;};y.prototype.Ha=function(Qa,Za){if(Qa && 0 === this.AAb){Qa=Za?this.rd - Qa:Qa;this.Mb.offset=this.startOffset + 13 + (this.yE?8:0);this.rd-=Qa;this.Mb.Rt(this.rd);this.vua=0;if(Za)this.Mb.offset+=this.rd;else {for(Za=0;Za < Qa;++Za){this.vua+=this.Mb.ed();}this.Mb.offset-=Qa;}this.$l(Qa,this.M.offset);}return !0;};x.Rc=!1;x.prototype=Object.create(J.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{yE:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Qa){var Za,hb,Lb,Rb;this.Lg();this.yE && this.M.Jy();this.yE && this.M.Vb();this.jp=this.M.Vb();F(1 === this.jp,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Im=0 === this.version?this.M.M8():this.M.dXb();this.M.offset=this.Im;if(Qa && Qa.ka && Qa.Ne){Za=Qa.Ne.yAb;hb=Qa.ka.tZb;F(0 < Za || void 0 !== Qa.Ne.xAb,"Expected per sample or constant IV");F(0 < (hb || []).length,"Expected saix box parsing to find sample info sizes");Qa.ka.iH=[];for(var lb=0;lb < hb.length;lb++){for(var yb=Za?this.M.L8(Za):void 0,Hb=[],Jb=this.M.Bg(),Eb=0;Eb < Jb;Eb++){Lb=this.M.Bg();Rb=this.M.Vb();Hb.push({Wtb:Lb,Xtb:Rb});}Qa.ka.iH.push({kwa:Hb,Uba:yb});}}return !0;};x.prototype.Ha=function(Qa,Za){this.Im+=Qa;this.Mb.offset=this.startOffset + 16 + (this.yE?8:0) + (0 === this.version?0:4);this.Mb.Mxa(Za,this.Im);return !0;};z.Rc=!1;z.prototype=Object.create(J.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{l6a:{get:function(){return this.flags & 1;}},vdb:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Qa){var Za,Jb,Eb;this.Lg();Za=0;this.l6a && (Za=this.zNb=this.M.Vb() & 255,this.M.K8(16));if(Qa && Qa.ka){if(Qa.ka.iH)return !0;Qa.ka.Gj || (Qa.ka.Gj=[]);}if(0 !== Za && 8 !== Za && 16 !== Za)return !0;this.rd=this.M.Vb();if(Qa && Qa.ka)for(var hb=0;hb < this.rd;hb++){if((Qa.ka.Gj[hb].Uba=0 < Za?this.M.L8(Za):void 0,this.vdb)){for(var lb=[],yb=this.M.Bg(),Hb=0;Hb < yb;Hb++){Jb=this.M.Bg();Eb=this.M.Vb();lb.push({Wtb:Jb,Xtb:Eb});}Qa.ka.Gj[hb].kwa=lb;}}return !0;};z.prototype.Ha=function(Qa,Za){var hb,lb;hb=Za?this.rd - Qa:Qa;this.Mb.offset=this.startOffset + 28 + (this.l6a?20:0);this.rd-=hb;this.Mb.Rt(this.rd);Qa=this.Mb.offset;if(this.vdb)for(hb=Za?this.rd:hb;0 < hb;--hb){this.Mb.offset+=8;lb=this.Mb.Bg();this.Mb.offset+=6 * lb;}else this.Mb.offset+=8 * (Za?this.rd:hb);Za?this.$l(this.length - (this.M.offset - this.startOffset),this.M.offset):this.$l(this.M.offset - Qa,Qa);};A.Rc=!1;A.prototype=Object.create(J.prototype);A.prototype.constructor=A;A.prototype.parse=function(Qa){this.Lg();if(Qa && Qa.ka){void 0 === Qa.ka.Gj && (Qa.ka.Gj=[]);for(var Za=0;Za < this.length - 12;Za++){Qa.ka.Gj[Za].Gfc=this.M.ed();}}return !0;};A.prototype.Ha=function(Qa,Za,hb){hb?this.$l(Za - Qa,this.startOffset + 12 + Qa):this.$l(Qa,this.startOffset + 12);return !0;};B.Rc=!1;B.prototype=Object.create(J.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Lg();this.M.Jy();1 === this.version && this.M.Vb();this.jp=this.M.Vb();this.rW=[];for(var Qa=0;Qa < this.jp;++Qa){for(var Za=this.M.Vb(),hb=this.M.Vb(),lb=0;lb < Za;++lb){this.rW.push(hb);}}return !0;};B.prototype.Ha=function(Qa,Za){this.rW=Za?this.rW.slice(0,Qa):this.rW.slice(Qa);Qa=this.rW.reduce(function(hb,lb){0 !== hb.length && hb[hb.length - 1].group === lb || hb.push({group:lb,count:0});++hb[hb.length - 1].count;return hb;},[]);this.Mb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Mb.Rt(Qa.length);Qa.forEach((function(hb){this.Mb.Rt(hb.count);this.Mb.Rt(hb.group);}).bind(this));this.jp > Qa.length && this.$l(8 * (this.jp - Qa.length));this.jp=Qa.length;return !0;};C.Rc=!1;C.prototype=Object.create(J.prototype);C.prototype.constructor=C;Fa={Gd:{moov:k,trak:c,mdia:c,mdhd:f,minf:c,encv:Fa,schi:c,sidx:l,sinf:c,stbl:c,tenc:n,mvex:c,moof:p,traf:q,tfhd:w,trun:Bb,sbgp:B,sdtp:A,saiz:y,saio:x,tfdt:v,mdat:C,vmaf:d},H3b:{vpcC:t,SmDm:u("smdm"),CoLL:u("coll")},kcb:{schm:Z},wua:{}};D([Q,ka,H,M,a,R,P,fa,ua,L,O,db,wb,K,Y,N,I,nb,Bb],Fa.Gd);D([ea,oa,Ja,Xa,cb,U,ca,Ga,Ra,pa],Fa.wua);D([Q,Z],Fa.kcb);Fa.Gd[b.FHa]=n;Fa.Gd[b.b_]=h;Fa.Gd[b.a_]=m;Fa.Gd[b.EHa]=z;Fa.wua[b.Kca]=Pa;Fa.Ff=J;r.exports={nM:Fa};},66633:function(r,b,a){var k,f,l,d,g;function c(n){return "number" === typeof n[0] || void 0 === n[0]?{Fj:n[0],S:n[1],px:n[2],jua:n[3],gH:n[4]}:n[0];}Object.defineProperty(b,"__esModule",{value:!0});k=a(70655);f=a(82296);r=a(76271);l=a(54319);d=a(93005);g=a(37709);a=(function(n){function h(m,p,q){return n.call(this,m,p,q) || this;}k.__extends(h,n);h.prototype.I8a=function(){for(var m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}return this.Ha(k.__assign(k.__assign({},c(m)),{Mta:!1}));};h.prototype.P8a=function(){for(var m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}return this.Ha(k.__assign(k.__assign({},c(m)),{Mta:!0}));};h.prototype.Ha=function(m){var q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L,N,I,O,K;function p(R){z=x[R];A=z.so("traf");if(void 0 === A || void 0 === A.uq)return !1;F=A.so("tfdt");if(void 0 === F)return !1;B=A.so("trun");return void 0 === B?!1:!0;}q=m.Fj;u=m.S;t=m.Mta;w=m.px;v=m.jua;v=void 0 === v?!1:v;y=m.gH;y=void 0 === y?!1:y;m=m.mG;if(!this.parse().done)return !1;x=this.Gd.moof;if(!x || 0 === x.length)return !1;if(void 0 !== q){C=q;for(q=0;q < x.length;++q){if(!p(q,this.nf.console.trace))return !1;d.assert(z && A && F && B && void 0 !== B.rd);if(B.rd > C || t && B.rd === C)break;C-=B.rd;}d.assert(z && A && F && B);}else if((q=t?x.length - 1:0,!p(q,this.nf.console.trace)))return !1;d.assert(z && A && F && B);if(t && q < x.length - 1){D=x[q + 1];this.nf.$l(this.view.byteOffset - D.startOffset,D.startOffset);}else !t && 0 < q && this.nf.$l(z.startOffset,0);D=A.so("tfhd");if(void 0 === D)return !1;F=A.so("tfdt");G=B.rd;E=A.so("saiz");J=A.so("saio");L=A.so(f.EHa);N=A.so("sbgp");if(!(!E && !J || E && J))return !1;I=A.so("sdtp");O=g.Ff.Rx(this,"mdat");if(O && q < O.length)K=O[q];else if(q !== x.length - 1)return !1;void 0 === C && (C=t?B.rd:0);if("number" === typeof w && 0 < w){O=t?C:B.rd - C;for(var H=Array(O),M=0;M < O;++M){H[M]=t?M >= O - w?-Infinity:0:M < w?-Infinity:0;}w=H;}if(B.Ha(A,D,K || this.nf,u,C,A.uq,t))B.sS && (d.assert(void 0 !== B.mab),d.assert(void 0 !== B.DN),!t && F && F.Ha(B.mab),E && J && (E.Ha(B.DN,t),J.Ha(L?0:E.vua,A.uq)),L && L.Ha(B.DN,t),I && I.Ha(B.DN,G,t),N && N.Ha(B.DN,t));else if(!t){if(q === x.length - 1)return !1;this.nf.$l(x[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === B.DN)return !1;Array.isArray(w) && K && this.stream.profile && void 0 !== v && B.eRb(A,D,K,w,this.stream.profile,v,y,m);u=this.nf.Ha();t=u.reduce(function(R,Y){return R + Y.byteLength;},0);u={ka:u,length:t,IG:this.nf.view.byteLength};B.sS && !K && (u.eN=A.uq + B.eN,u.Mp=B.Mp);return u;};return h;})((function(n){function h(m,p,q){return n.call(this,m,p,q) || this;}k.__extends(h,n);return h;})(r.nD));b.Fw=a;b.ZL=function(n){var h,m;h=new ArrayBuffer(8);m=new DataView(h);m.setUint32(0,n + 8);m.setUint32(4,l.vNa("mdat"));return h;};},76271:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(77611);k=a(13082);f=a(39188);r=(function(){function l(d,g,n){this.console=d;this.stream=g;this.view=n instanceof ArrayBuffer?new DataView(n):new DataView(n.data,n.offset,n.length);}l.prototype.parse=function(d){var g;g=new f.lBa(this.view.byteLength);this.nf=new c.Laa(k.nM.Gd,g,this.view,this.console,{$ra:!0});d=this.nf.parse(d);this.Gd=this.nf.Gd;return d;};return l;})();b.nD=r;},83375:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(89185);f=a(12602);l=a(93005);d=a(97090);g=a(37709);r=a(36208);n=a(19441);h=a(77611);m=a(69740);p=a(13082);q=a(82296);u=a(39188);t=a(67063);a=(function(){function w(v,y,x,z,A,B){this.console=v;this.stream=y;this.yt=z;this.crb=A;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=B || ({});this.AKb=m.VGb();}w.path=function(v,y){return y.reduce(function(x,z){return x && x.Gd[z] && x.Gd[z][0];},v);};w.aIb=function(v){return v && v.Sia && -1 !== v.Sia.indexOf("mcl0")?"mcl0":void 0;};w.CEb=function(v,y){var x,z;l.assert("mcl0" === v,"Unsupported McClearen brand");x=y.Ka;v=x.hf;y=new d.N(120,1).ze(x.S).ya;z=0;for(x=x.ur;z < v.length && x < y;){x+=v[z++];}return z;};w.prototype.parse=function(v){var y;y=this.zZb();if(!y.done){if(y.T4a)return {kt:!1,y1:y.T4a};this.console.error("Scan error: " + y.error);return {kt:!1,parseError:y.error || "unknown mp4 scan error"};}if(null === v || void 0 === v?0:v.ca)v.BTb=v.ca;this.view=new DataView(this.view.buffer,this.view.byteOffset,y.offset);v=this.$Tb(v);return v.done?this.zwb():(this.console.error("Parse error: " + v.error),{kt:!1,parseError:v.error || "unknown mp4 parse error"});};w.prototype.Rx=function(v){return g.Ff.Rx(this,v);};w.prototype.Mn=function(v){return g.Ff.Mn(this,v);};w.prototype.zZb=function(){var v,y;v=new u.aib(this.yt,this.crb?[q.b_,q.a_]:[],this.config && this.config.pgc || ["moof",q.SGa],this.config && this.config.bsa);y=c.__assign(c.__assign({},this.config),{$ra:!1});return new h.Laa(w.Fua,v,this.view,this.console,y).parse();};w.prototype.$Tb=function(v){var y,x,z;y=new u.lBa(this.view.byteLength);x=Object.create(p.nM.Gd);this.config && ((this.config.Yra || this.config.jcb || this.config.S9) && k(p.nM.wua,x),this.config.Nwa && k(p.nM.H3b,x),this.config.jcb && k(p.nM.kcb,x));z=c.__assign(c.__assign({},this.config),{$ra:!0});this.nf=new h.Laa(x,y,this.view,this.console,z);v=this.nf.parse(v);v.done && (this.Gd=this.nf.Gd);return v;};w.prototype.zwb=function(){var v,y,x,z,A,B,C,D;v={kt:!0};y=w.path(this,["moov"]);x=null === y || void 0 === y?void 0:y.Rx("trak");if(1 === (null === x || void 0 === x?void 0:x.length)){z=x[0].so("tkhd");z && (v.trackId=z.Hc.trackId);}z=w.path(y,["trak","mdia","minf","stbl","stsd"]);if(this.config.Yra)if(z)(v.ca=z.ca,v.Efc=z.Gd);else return {kt:!1,parseError:"Missing sample descriptions"};A=w.path(z,["encv","sinf","schi"]);A && (A=w.path(A,["tenc"]) || w.path(A,[q.FHa])) && (v.$Cb={Ybc:A.Wn,Yoa:A.Yoa,Udc:!1});if(A=w.path(y,["trak","mdia","mdhd"]))v.S=A.S;if(A=w.path(y,["mvex","trex"]))v.d3=A && A.Hc.d3;v.d3 && v.S && (v.ca=new d.N(v.d3,v.S));if(A=w.path(this,["sidx"])){B=w.path(this,[q.b_]);B=B && B.nQb;C=w.path(this,[q.a_]);C=C && C.pj;v.Ka=A.Ka;v.mM=B;v.pj=C;}if(B=this.Gd.vmaf && this.Gd.vmaf[0])v.gw=B.gw;if(this.config.Qta && (B=w.path(y,["mvex"])) && x && x.length){D=x.reduce(function(F,G){return G.byteOffset > F.byteOffset?G:F;});D.byteOffset > B.byteOffset && (x=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),C=t.ucb(x,B.byteOffset,B.byteOffset + B.byteLength),D=t.ucb(x,B.byteOffset + B.byteLength,D.byteOffset + D.byteLength),x.set(D,B.byteOffset),x.set(C,B.byteOffset + D.byteLength));}if(this.config.u9a)if(y)(this.trim(y.byteOffset + y.byteLength),this.config.S9 && z && 1 < z.NK && A && (v.Hh=this.S9(z,A)),void 0 === v.Hh && (y=this.nf.sS?f.concat(this.nf.Ha()):this.view.buffer,v.Hh=[{af:0,data:y}]));else return {kt:!1,parseError:"Missing movie box"};v.kt=!0;v.a8=this.nf.offset;return v;};w.prototype.trim=function(v){var y;y=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(v,this.view.byteLength));this.nf.trim(v);this.view=new DataView(y);};w.prototype.S9=function(v,y){var x,z,A;x=Object.keys(v.Gd);z=x.filter(function(B){return "encv" !== B;});if(!(2 > x.length || z.length === x.length || 0 === z.length)){x=w.path(this,["ftyp"]);A=w.aIb(x);if(A)return (x=[],this.nf.PWb(),v.N8a("encv"),x.push({af:0,hF:!1,data:f.concat(this.nf.Ha())}),this.nf.nVb(),v.N8a(z[0]),v=w.CEb(A,y),x.push({af:v,hF:!0,data:f.concat(this.nf.Ha())}),x);}};w.Fua={};return w;})();b.Or=a;a.Fua[q.Lca]=r.default;a.Fua[q.Mca]=n.default;},54319:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(93005);b.mJ=function(k){c.assert("number" === typeof k);return String.fromCharCode(k >>> 24 & 255) + String.fromCharCode(k >>> 16 & 255) + String.fromCharCode(k >>> 8 & 255) + String.fromCharCode(k & 255);};b.vNa=function(k){return k.charCodeAt(3) + (k.charCodeAt(2) << 8) + (k.charCodeAt(1) << 16) + (k.charCodeAt(0) << 24);};b.Qac=function(k,f){return Math.floor(1E3 * k / f);};},82296:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lca="6674654e-696c-5078-6966-665374726d21";b.Mca="6674654e-696c-4878-6165-6465722e7632";b.SGa="6674654e-696c-5078-6966-66496e646578";b.b_="6674654e-696c-4d78-6f6f-6653697a6573";b.a_="6674654e-696c-5378-6565-6b506f696e74";b.FHa="cedb7489-e77b-514c-84f9-7148f9882554";b.EHa="524f39a2-9b5a-144f-a244-6c427c648df4";b.Kca="6674654e-696c-4678-7261-6d6552617465";},39188:function(r,b,a){var k;function c(f,l){f=l.indexOf(f);-1 !== f && l.splice(f,1);}Object.defineProperty(b,"__esModule",{value:!0});k=a(82296);r=(function(){function f(l){this.endOffset=l;this.done=!1;}f.prototype.DXa=function(){return this.done;};f.prototype.uVa=function(l,d,g){return this.done=d + g >= this.endOffset;};return f;})();b.lBa=r;r=(function(){function f(l,d,g,n){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === n && (n=!1);this.yt=l;this.i3=d;this.wbb=g;this.bsa=n;this.done=!1;this.Yk={};}f.prototype.DXa=function(l,d,g){-1 !== f.IKb.indexOf(l) && (this.Yk[l]={offset:d,size:g});if(-1 !== this.wbb.indexOf(l)){if((this.Yk[l]={offset:d,size:g},this.bsa))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.yt && -1 !== this.yt.indexOf(l)?(l=1 < this.yt.length?4096:0,this.endOffset=Math.max(d + g + l,this.endOffset || 0)):-1 !== this.i3.indexOf(l) && (l=this.yt?4096:0,this.endOffset=Math.max(d + g + l,this.endOffset || 0));return this.done;};f.prototype.uVa=function(l,d,g,n){var h;h=this;if(-1 !== this.wbb.indexOf(l))return this.done=!0;l === k.Lca && this.G$a(n.Yk);l === k.Mca && this.G$a(n.Yk);this.yt && c(l,this.yt);c(l,this.i3);return this.yt && 0 === this.yt.length && !this.i3.some(function(m){return h.Yk[m];})?this.done=!0:this.done;};f.prototype.G$a=function(l){var d;d=this;this.Yk=l;this.endOffset=(this.yt || []).concat(this.i3).reduce(function(g,n){return d.Yk[n]?(n=d.Yk[n],Math.max(n.offset + (n.size || 4096),g)):g;},this.endOffset || 0);};f.IKb=["moov","sidx"];return f;})();b.aib=r;},44098:function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,k){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),k * a.byteLength / a.length);}:function(a,c,k){a.set(c,k);};r.exports={from:function(a,c,k,f){a=new a(c.length);for(var l="function" === typeof k,d=0;d < c.length;++d){a[d]=l?k.call(f,c[d],d,c):c[d];}return a;},set:b};},67063:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ucb=function(a,c,k){var f,l,d;f=Uint8Array;if(null !== a && void 0 !== a && a.slice)return a.slice(c,k);l=Math.min(a.length,k);d=Math.min(a.length,c);for(k=new f(Math.max(k - c,0));d < l;d++){k[d - c]=a[d];}return k;};},93005:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);return l;})(Error);b.assert=function(f,l){if(!f)throw new k(l || "Assertion failed");};},12602:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var k;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(f,l){return f + l.byteLength;},0);k=new Uint8Array(c);a.reduce(function(f,l){k.set(new Uint8Array(l),f);return f + l.byteLength;},0);return k.buffer;};},89185:function(r){r.exports=function k(a,c){var f;a.__proto__ && a.__proto__ !== Object.prototype && k(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(l){f=Object.getOwnPropertyDescriptor(a,l);void 0 !== f && Object.defineProperty(c,l,f);});};},97090:function(r,b){function a(k,f){return "number" !== typeof k || "number" !== typeof f?!1:k && f?Math.abs(k * f / c(k,f)):0;}function c(k,f){var l;k=Math.abs(k);for(f=Math.abs(f);f;){l=f;f=k % f;k=l;}return k;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function k(f,l){"object" === typeof f?(this.oc=f.ya,this.fb=f.S):(this.oc=f,this.fb=l);}k.Ma=function(f){return new k(f,1E3);};k.Hwa=function(f,l){return Math.floor(1E3 * f / l);};k.M4a=function(f,l){return Math.floor(f * l / 1E3);};k.max=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(d,g){return d.greaterThan(g)?d:g;});};k.min=function(){for(var f=[],l=0;l < arguments.length;l++){f[l]=arguments[l];}return f.reduce(function(d,g){return d.lessThan(g)?d:g;});};k.bB=function(f,l){var d;if(f.S === l.S)return new k(c(f.ya,l.ya),f.S);d=a(f.S,l.S);return k.bB(f.ze(d),l.ze(d));};Object.defineProperties(k.prototype,{ya:{get:function(){return this.oc;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{S:{get:function(){return this.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{G:{get:function(){return 1E3 * this.oc / this.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(k.prototype,{uh:{get:function(){return this.oc / this.fb;},enumerable:!0,configurable:!0}});k.prototype.ze=function(f){f/=this.S;return new k(Math.floor(this.ya * f),Math.floor(this.S * f));};k.prototype.add=function(f){var l;if(this.S === f.S)return new k(this.ya + f.ya,this.S);l=a(this.S,f.S);return this.ze(l).add(f.ze(l));};k.prototype.wa=function(f){return this.add(new k(-f.ya,f.S));};k.prototype.zv=function(f){return new k(this.ya * f,this.S);};k.prototype.Oi=function(f){var l;if(this.S === f.S)return this.ya / f.ya;l=a(this.S,f.S);return this.ze(l).Oi(f.ze(l));};k.prototype.h_a=function(f){return a(this.S,f);};k.prototype.u8a=function(){return new k(this.S,this.ya);};k.prototype.compare=function(f,l){var d;if(this.S === l.S)return f(this.ya,l.ya);d=a(this.S,l.S);return f(this.ze(d).ya,l.ze(d).ya);};k.prototype.equal=function(f){return this.compare(function(l,d){return l === d;},f);};k.prototype.Yqa=function(f){return this.compare(function(l,d){return l !== d;},f);};k.prototype.lessThan=function(f){return this.compare(function(l,d){return l < d;},f);};k.prototype.greaterThan=function(f){return this.compare(function(l,d){return l > d;},f);};k.prototype.JB=function(f){return this.compare(function(l,d){return l <= d;},f);};k.prototype.gi=function(f){return this.compare(function(l,d){return l >= d;},f);};k.prototype.toJSON=function(){return {ticks:this.ya,timescale:this.S};};k.prototype.toString=function(){return this.ya + "/" + this.S;};k.Ia=new k(0,1);k.zy=new k(1,1E3);return k;})();b.N=r;},86063:function(r,b,a){var c,k,f,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(93005);f=a(12602);l=a(54319);r=a(78147);d=(function(){function g(n){n?(this.no=n.no.slice(),this.Er=n.Er.slice(),this.ri=n.ri.slice(),this.trim=n.trim):(this.no=[],this.Er=[],this.ri=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.no.length && 0 === this.Er.length && 0 === this.ri.length;},enumerable:!0,configurable:!0}});return g;})();r=(function(g){function n(h,m,p){h=g.call(this,h,m,p) || this;h.NVa=[];h.Od=new d();return h;}c.__extends(n,g);n.Qrb=function(h,m){if(m.offset + m.size <= h.byteLength)switch(m.size){case 1:h.setUint8(m.offset,m.value);break;case 2:m.KW?h.setInt16(m.offset,m.value):h.setUint16(m.offset,m.value);break;case 4:m.KW?h.setInt32(m.offset,m.value):h.setUint32(m.offset,m.value);break;case 8:k.assert(!m.KW);h.setUint32(m.offset,Math.floor(m.value / 4294967296));h.setUint32(m.offset + 4,m.value & 4294967295);break;default:k.assert(!1);}};Object.defineProperties(n.prototype,{sS:{get:function(){return !this.Od.empty;},enumerable:!0,configurable:!0}});n.prototype.W$=function(h,m){this.Od.Er.push({offset:void 0 !== m?m:this.offset,value:h,size:1});void 0 === m && (this.offset+=1);};n.prototype.w6b=function(h){this.Od.Er.push({offset:!1,value:h,size:2,KW:!1});};n.prototype.Rt=function(h,m){this.Od.Er.push({offset:void 0 !== m?m:this.offset,value:h,size:4,KW:!1});void 0 === m && (this.offset+=4);};n.prototype.x6b=function(h,m){this.Od.Er.push({offset:void 0 !== m?m:this.offset,value:h,size:8,KW:!1});void 0 === m && (this.offset+=8);};n.prototype.ieb=function(h){this.Rt(l.vNa(h));};n.prototype.Mxa=function(h,m){this.Od.ri.push({offset:this.offset,ap:h,value:m});this.offset+=4;};n.prototype.$l=function(h,m,p){this.Od.no.push({offset:m,remove:h,hb:p});};n.prototype.X8=function(h,m,p,q){this.Od.no.push({offset:p,remove:h,replace:m,hb:q});};n.prototype.trim=function(h){this.Od.trim=h;};n.prototype.PWb=function(){this.NVa.push(new d(this.Od));};n.prototype.nVb=function(){this.Od=this.NVa.pop() || new d();};n.prototype.Ha=function(){var h,m,p,q,u,t,w,v,y;h=this;if(0 === this.Od.no.length && 0 === this.Od.Er.length && 0 === this.Od.ri.length)return [void 0 === this.Od.trim?this.view.buffer:this.view.buffer.slice(0,this.Od.trim)];this.Od.no.sort(function(x,z){return x.offset - z.offset;});this.Od.Er.sort(function(x,z){return x.offset - z.offset;});this.TYb();m=this.tEb();p=new Uint8Array(this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + m));q=new DataView(p.buffer,p.byteOffset,p.byteLength);this.Od.Er.forEach(n.Qrb.bind(void 0,q));this.A4b(q);this.z4b(q);u=[];t=void 0 !== this.Od.trim?Math.min(this.Od.trim,this.view.byteLength):this.view.byteLength;w=0;v=!0;this.Od.no.filter(function(x){return x.offset <= t;}).forEach(function(x){x.offset > w && (u.push(p.subarray(w,x.offset)),v && x.offset > m && (v=!1,p=new Uint8Array(h.view.buffer,h.view.byteOffset,h.view.byteLength),u.push(p.subarray(m,x.offset))));x.replace && u.push(new Uint8Array(x.replace));w=x.offset + x.remove;});w < m && u.push(p.subarray(w));w < t && (q=Math.max(m,w),u.push(new Uint8Array(this.view.buffer,this.view.byteOffset + q,t - q)));q=u.reduce(function(x,z){return x + z.byteLength;},0);y=new Uint8Array(q);u.reduce(function(x,z){y.set(z,x);return x + z.byteLength;},0);return [y.buffer];};n.prototype.tEb=function(){var h,m,p;h=[];m=this.Od.Er[this.Od.Er.length - 1];p=this.Od.ri[this.Od.ri.length - 1];m && h.push(m.offset + m.size);p && h.push(p.offset + 4);this.Od.no.filter(function(q){return q.hb;}).forEach(function(q){return h.push(q.hb.byteOffset + 4);});m=Math.max.apply(void 0,h);return void 0 !== this.Od.trim?Math.min(m,this.Od.trim):m;};n.prototype.TYb=function(){this.Od.no=this.Od.no.reduce(function(h,m){var p,q;if(0 === h.length)return (h.push(m),h);p=h[h.length - 1];q=p.offset + p.remove;m.offset >= q?h.push(m):m.offset + m.remove > q && (k.assert(p.hb === m.hb),p.remove+=m.offset + m.remove - q,m.replace && (p.replace=p.replace?f.concat(p.replace,m.replace):m.replace));return h;},[]);};n.prototype.A4b=function(h){var m;m=this;this.Od.ri.forEach(function(p){var q,u,t,w;q=h;u=p.offset;m.Od.no.some(function(v){return v.offset <= p.offset && v.replace && v.offset + v.replace.byteLength >= p.offset + 4?(q=new DataView(v.replace),u=p.offset - v.offset,!0):!1;});t=p.ap + (void 0 !== p.value?p.value:q.getInt32(u));w=m.Od.no.reduce(function(v,y){return y.offset > p.ap && y.offset < t?v + (y.remove - (y.replace?y.replace.byteLength:0)):v;},0);q.setInt32(u,t - p.ap - w);});};n.prototype.z4b=function(h){this.Od.no.forEach(function(m){var p;p=(m.remove || 0) - (m.replace?m.replace.byteLength:0);if(0 !== p)for(m=m.hb;m;){h.setUint32(m.byteOffset,h.getUint32(m.byteOffset) - p);m=m.parent;}});};return n;})(r.fmb);b.emb=r;},78147:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(69740);a(69740);k=a(54319);r=(function(){function f(l,d,g){this.view=l;this.console=d;this.config=g;this.view=l;this.console=d;this.qd=this.vq=this.offset=0;}f.prototype.xYa=function(l){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,l);};f.prototype.fd=function(l){for(;this.qd < l;){this.vq=(this.vq << 8) + this.ed();this.qd+=8;}this.qd-=l;return this.vq >>> this.qd & (1 << l) - 1;};f.prototype.ed=function(){var l;l=this.view.getUint8(this.offset);this.offset+=1;return l;};f.prototype.Bg=function(l){l=this.view.getUint16(this.offset,l);this.offset+=2;return l;};f.prototype.Vb=function(l){l=this.view.getUint32(this.offset,l);this.offset+=4;return l;};f.prototype.M8=function(){var l;l=this.view.getInt32(this.offset,void 0);this.offset+=4;return l;};f.prototype.tUb=function(l,d){var g;g=this.view.getUint32(this.offset + (l?4:0),l);l=this.view.getUint32(this.offset + (l?0:4),l);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + l;};f.prototype.pk=function(l,d){l=this.tUb(l,d);this.offset+=8;return l;};f.prototype.uUb=function(){var l,d;l=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < l?l:-l) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * l + d;};f.prototype.dXb=function(){var l;l=this.uUb();this.offset+=8;return l;};f.prototype.Jy=function(){return k.mJ(this.Vb());};f.prototype.N8=function(){var d,g,n,h,m,p;function l(q,u){return ("000000" + q.toString(16)).slice(2 * -u);}d=this.Vb(!0);g=this.Bg(!0);n=this.Bg(!0);h=this.Bg();m=this.Bg();p=this.Vb();return [l(d,4),l(g,2),l(n,2),l(h,2),l(m,2) + l(p,4)].join("-");};f.prototype.L8=function(l){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + l);this.offset+=l;return d;};f.prototype.$Wb=function(l){var d;d=[];if(0 === l)return "";l=l || Number.MAX_SAFE_INTEGER;for(var g=this.ed();0 !== g && 0 <= --l;){d.push(g);g=this.ed();}return String.fromCharCode.apply(null,d);};f.prototype.K8=function(l){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.zj(this.config.kO && c.IJb || c.tL,1,l,d,g);};f.prototype.ZWb=function(l){var d,g,n;d=10;g=!1;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === n && (n=!1);return this.zj(this.config.kO && c.GJb || c.V4,2,l,d,g,n);};f.prototype.J8=function(l,d,g){var n;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === n && (n=!1);return this.zj(this.config.kO && c.HJb || c.xT,4,l,d,g,n);};f.prototype.bXb=function(){for(var l=this.ed(),d=l & 127;l & 128;){l=this.ed();d=d << 7 | l & 127;}return d;};f.prototype.zj=function(l,d,g,n,h,m){void 0 === h && (h=!0);void 0 === m && (m=!1);l=l(this.view,this.offset,g,n,m);this.offset=h || !n || n === d?this.offset + g * (n || d):this.offset + d;return l;};return f;})();b.fmb=r;},69452:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q;c=a(751);k=a(88305);f=a(30821);l=a(95912);d=a(29086);g=a(22633);b=a(40210);n=a(21924);h=a(29981);m=n("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(u){var t,w,v;t=1 < arguments.length?c(arguments[1]):0;if(p && !d(u) && g(t) && "undefined" !== typeof u)return -1 < p.apply(this,arguments);w=f(this);v=k(w.length);if(0 === v)return !1;for(t=0 <= t?t:q(0,v + t);t < v;){if(l(u,h(w)?m(w,t):w[t]))return !0;t+=1;}return !1;};},44878:function(r,b,a){var c;c=a(69452);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},26860:function(r,b,a){var c,k;c=a(4289);k=a(44878);r.exports=function(){var f;f=k();c(Array.prototype,{includes:f},{includes:function(){return Array.prototype.includes !== f;}});return f;};},98540:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AEa="Injector";b.Bw=145152E5;b.SI="ProfileSymbol";},60920:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.$n=b.S1b=b.A5a=void 0;b.A5a=function(a,c){return a - c;};b.S1b=function(a,c){return a.localeCompare(c);};b.$n=function(a,c){var k;k=Object.getOwnPropertyDescriptor(a,c);k && Object.defineProperty(a,c,{configurable:k.configurable,enumerable:!1,value:k.value,writable:k.writable});};b.flatten=function(a){return [].concat.apply([],da(a));};},39141:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eY="ApiInfoSymbol";},72288:function(r,b,a){var c,k,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.FQa=void 0;c=a(56194);k=a(39141);r=a(86700);f=a(98540);l=a(17244);b.FQa=new r.$c(function(d){d(k.eY).to(c.zya).da();});b.profile=new r.$c(function(d){d(f.SI).GC(function(g){return (g=g.hb.get(l.ac)()) && g.Px?"browsertest":"browser";});});},56194:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p,q){h=d.Se.call(this,h,void 0 === q?"AppInfoConfigImpl":q) || this;h.config=m;h.t$=p;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.zya=void 0;r=a(70655);k=a(86700);f=a(53685);l=a(54662);d=a(90187);g=a(59578);a=a(60070);ia(c,d.Se);c.prototype.pIb=function(h){return "" + this.qWa + (this.t$.L9(h)?"/msl_v1":"");};c.prototype.AIb=function(h){return "" + this.host + (this.t$.L9(h)?"/msl":"") + "/playapi";};Wa.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},qWa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var h;switch(this.config.OK){case f.ww.Nlb:h="www.stage";break;case f.ww.ZLa:h="www-qa.test";break;case f.ww.CEa:h="www-int.test";break;default:h="www";}return "https://" + h + ".netflix.com";}},BRa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});n=c;r.__decorate([l.config(l.string,"apiEndpoint")],n.prototype,"endpoint",null);r.__decorate([l.config(l.string,"nqEndpoint")],n.prototype,"qWa",null);r.__decorate([l.config(l.string,"bindService")],n.prototype,"BRa",null);n=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(g.ul)),r.__param(1,(0,k.l)(f.kn)),r.__param(2,(0,k.l)(a.R_)),r.__param(3,(0,k.l)(g.qY)),r.__param(3,(0,k.optional)())],n);b.zya=n;},57046:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mya="AseIntegrationFactorySymbol";},96437:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xHa="OpenConnectSideChannelSymbol";b.yGa="MediaRequestDownloaderSymbol";},66119:function(r,b){function a(k,f,l){var d,g,n,h;d=[];k.forEach(function(m){-1 == d.indexOf(m.Md) && d.push(m.Md);});g=null;n=null;f.forEach(function(m){null === g?n=g=m.bitrate:n < m.bitrate?n=m.bitrate:g > m.bitrate && (g=m.bitrate);});h=[];d.forEach(function(m){var p;p={ranges:[],profile:m};g && n && (p.ranges.push({min:g,max:n}),l && (p.disallowed=l.filter(function(q){return q.stream.Md === m;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.n3};})),h.push(p));});return h;}function c(k,f){var l;l=void 0;return {VWa:k.filter(function(d){var g;g=f(d);g && (l=l || [],l.push({stream:d,n3:g}));return !g;}),nBb:l};}Object.defineProperty(b,"__esModule",{value:!0});b.mBb=b.xs=b.uzb=b.m_a=void 0;b.m_a=function(k,f){f=c(k,f);return a(k,f.VWa,f.nBb);};b.uzb=a;b.xs=c;b.mBb=function(k){if(k.hi && k.lower && 1080 < k.height)return ["Prefetch UHD"];};},45086:function(r,b,a){var c,k,f,l,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.Za=void 0;r=a(86700);c=a(49090);k=a(4551);f=a(5117);l=a(33384);d=a(96437);g=a(68221);n=a(63076);h=a(44744);m=a(7884);b.Za=new r.$c(function(p){p(c.pba).to(k.zBa).da();p(f.oGa).to(l.nGa).da();p(d.xHa).to(g.wHa).da();p(d.yGa).to(n.xGa).da();p(h.wGa).to(m.vGa).da();});},49090:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pba=b.ABa=void 0;b.ABa=function(){this.fa=0;this.X=1;this.Shb=2;this.Bf=function(){};};b.pba="DownloadTrackConstructorFactorySymbol";},5117:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oGa="MediaHttpSymbol";},44744:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wGa="MediaRequestConstructorFactorySymbol";},35001:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.pc=void 0;b.pc=a;a.Bk={nHa:"mr1",mHa:"mr2",oHa:"mr3",FP:"mr4",Pjb:"mr5",Hz:"mr6"};a.jc={UNSENT:0,OPENED:1,ou:2,gj:3,DONE:5,$t:6,Xp:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.NY={NO_ERROR:-1,Jgb:0,WAa:1,Vgb:2,Ngb:3,bgb:4,dAa:5,bAa:6,cgb:7,dgb:8,egb:9,Zfb:10,agb:11,cAa:12,$fb:13,Yfb:14,Xhb:15,uDa:16,tDa:17,Nba:18,KZ:19,Oba:20,Pba:21,Zhb:22,LZ:23,vDa:24,Yhb:25,Qgb:26,Kgb:27,Alb:28,Agb:29,Bgb:30,Cgb:31,Dgb:32,Egb:33,Fgb:34,Ggb:35,Hgb:36,Igb:37,Lgb:38,Mgb:39,Ogb:40,Pgb:41,Rgb:42,Sgb:43,Tgb:44,Ugb:45,Wgb:46,Xgb:47,zlb:48,TIMEOUT:49,qDa:50,rDa:51,Whb:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Kf={nua:{c7b:!0,Vda:!1,V9b:!0}};},29471:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C){var D;D=this;this.ib=x;this.j=z;this.debug=A;this.Xrb=C;this.yQ=this.Ah=this.Xw=!1;this.PQ=this.OQ=void 0;x={};this.sv=(x[v.v.fa]={},x[v.v.X]={},x[v.v.Ya]={},x);this.Vz=void 0;this.Dm=function(){var F,G,E,J,L,N;D.debug.assert(D.Aa,"has access to asePlaygraph");D.debug.assert(D.Cc,"has access to internalLogger");D.debug.assert(D.$s,"has access to mediaBufferGetLogFields");L=D.Bn;N=null === (G=null === (F=D.Ic.get()) || void 0 === F?void 0:F.qb) || void 0 === G?void 0:G.Da;F={type:"logdata",target:"startplay",fields:{hasasereport:D.j.uS,hashindsight:!1,buffCompleteReason:L.reason,actualbw:N,initSelReason:null !== (E=L.initSelReason) && void 0 !== E?E:"unknown",bcVBufferLevelMs:L.vBufferLevelMs,bcABufferLevelMs:L.aBufferLevelMs}};(0,g.R1)({Ska:F,Zn:D.Zn,loadTime:D.loadTime});D.Aa.Rwa("startplay",k.qc.Lj);null !== (J=D.xb) && void 0 !== J && J.Qd?(D.Cc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:L},D.$s()),D.j.Bn=L,D.j.sq.set(n.sf.$d),D.UEb || (D.UEb=!0,D.j.ke("pb")),D.Ag.value !== k.Cb.D_ && D.Ag.value !== k.Cb.Rr && D.play()):D.Cc.error("Shim received buffering complete but player has no position (player " + (D.xb?"":"un") + "defined, state " + D.j.state + ")");};this.ccb=function(){var F,G;D.debug.assert(D.Cc,"has access to internalLogger");!1;D.OQ=void 0;D.PQ=void 0;D.j.paused.value && D.KG && (D.KG=!1,D.j.paused.set(!1,{qM:!0}));null === (F=D.j.je) || void 0 === F?void 0:F.lwb();null === (G=D.S5a) || void 0 === G?void 0:G.call(D);D.S5a=void 0;};this.events=new y();this.Pe=new w.sea(this.Yu.bind(this),function(F,G){return D.j.Sv(F,G);});}b.rca=void 0;k=a(91854);f=a(28075);l=a(66052);d=a(68172);g=a(55225);n=a(34202);h=a(37986);m=a(95919);p=a(2467);q=a(86514);u=a(19591);t=a(14414);w=a(39540);a(64168);v=a(18920);y=a(17187).EventEmitter;c.prototype.de=function(){var x;!1;this.yQ=!1;this.Ic.F9(null);this.debug.assert(this.Rh,"has access to streamingEngine");this.Aa && this.Rh.Oy(this.Aa);this.xb && this.Rh.M8a(this.xb);this.Rh.O8a(this.Pe.Qm(this.ib.aa.J));this.Pe.clear();null === (x=this.eo) || void 0 === x?void 0:x.Cs();};c.prototype.i0b=function(x){var z,A,B,C,D,F,G,E,J,L,N,I,O;z=x.config;A=x.Xo;B=x.Cc;C=x.Yd;D=x.$s;F=x.Si;G=x.DW;x=x.lH;this.Cc=B;this.log=B.Q2("AseIntegrationImpl");!1;this.$s=D;this.DW=G;this.lH=x;D=this.j.aa;this.debug.assert(D,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(C,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.Rh,"has access to streamingEngine");this.debug.assert(D.Ac,"has access to parsedManifest");this.debug.assert(D.W,"has access to manifest");this.config=z;this.Rh=A.Rh;A.$h.set(a(33888)(z),!0,F("ASE"));A.$h.set({maxNumberTitlesScheduled:null !== (J=null === (E=z.tVb) || void 0 === E?void 0:E.maxNumberTitlesScheduled) && void 0 !== J?J:1},!0,B);z.Nwb && !D.cd.ha && 3E5 > D.W.Fa.duration?A.$h.tV({expandDownloadTime:!1},!0,B):A.$h.tV({expandDownloadTime:A.$h.G6a().expandDownloadTime},!0,B);z=D.background.value || z.rVb && "postplay" === D.wd?"historical":A.$h.G6a().initBitrateSelectorAlgorithm;A.$h.tV({initBitrateSelectorAlgorithm:z},!0,B);z=null === (O=null === (I=null === (N=null === (L=D.Mg) || void 0 === L?void 0:L.value) || void 0 === N?void 0:N.streams) || void 0 === I?void 0:I[0]) || void 0 === O?void 0:O.Md;A.$h.tV((0,h.uTa)(!!D.Wa.bg,!!D.Wa.JL,z),!0,B);B=C.UB({},(0,h.G2)(D.wd));D.cd.ha && (B=C.UB(B,(0,h.G2)("live")));this.$h=A.$h.En(B);k.platform.events.emit("networkchange",D.Ac.o_b);this.Xw=!0;};c.prototype.F5=function(x){var z,A;this.debug.assert(this.Rh,"has access to streamingEngine");z=this.j.fi(x.I);this.debug.assert(z.Ac,"has access to playback parsedManifest");!1;A=x.flags;this.Ic.reset();this.cg=new Set([v.v.fa,v.v.X]);(A.Jdb || A.qbc) && this.cg.delete(A.Jdb?v.v.fa:v.v.X);this.UH=[z.Ac.lAb,z.Ac.sAb,z.Ac.rAb];this.Yu(z.O,void 0,x.vUa);this.WLb(x);this.oK();};c.prototype.Ot=function(x){var z;!1;null === (z=this.Aa) || void 0 === z?void 0:z.Ot(x);};c.prototype.mtb=function(x){var z,A,B,C;z=this;A=x.loadTime;B=x.Zn;this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;this.Zn=B;this.loadTime=A;x=this.Aa.events;C=this.xb.events;x.addListener("error",function(D){!1;"NFErr_MC_StreamingFailure" === D.error && (z.Cc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),z.Cc.trace("StreamingFailure, buffer status:" + JSON.stringify(z.$s())),(0,l.Mf)(function(){z.j.od(d.U.Deb,{xa:D.nativeCode,Jb:D.errormsg,Kl:D.httpCode,q7:D.networkErrorCode,Ee:D.httpCode});}));});x.addListener("logdata",function(D){var F;!1;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (F=z.Aa) || void 0 === F?void 0:F.Crb,(0,g.R1)({Ska:D,Zn:B,loadTime:A}));});C.addListener("logdata",function(D){!1;"string" === typeof D.target && "object" === typeof D.fields && (0,g.R1)({Ska:D,Zn:B,loadTime:A});});x.addListener("bufferingStarted",function(){!1;z.j.sq.set(n.sf.Qe);});x.addListener("bufferingComplete",function(D){!1;z.Bn=D;});this.j.paused.addListener(function(D){var F;z.debug.assert(z.Cc,"has access to internalLogger");null !== (F=D.Fh) && void 0 !== F && F.qM || !z.Xw || (D.newValue && z.Ag.value === k.Cb.me?(z.Ag.set(k.Cb.Vh),z.oi.emit("paused",{type:"paused",pts:z.oi.Hd})):D.newValue || z.Ag.value !== k.Cb.Vh || (z.Ag.set(k.Cb.me),z.oi.emit("playing",{type:"playing",pts:z.oi.Hd})));D.newValue || (z.KG=!1);z.Cc.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,u.ih)(z.j.mediaTime.value)});});this.j.tc.addListener(function(D){var F,G,E,J;if(z.Xw)if((z.debug.assert(z.Cc,"has access to internalLogger"),D.Fh && D.Fh.D1))z.Cc.trace("Not processing already applied track",null === (F=D.newValue) || void 0 === F?void 0:F.trackId);else {J=D.newValue;z.qbb({Zo:J.trackId,toJSON:function(){return J.yg;}})?z.Cc.trace("ASE accepted the audio track switch",null === (E=D.newValue) || void 0 === E?void 0:E.trackId):(z.Cc.trace("ASE rejected the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== J.trackId && z.j.tc.set(D.oldValue,{D1:!0}));}});this.j.cd.ha && this.j.wb.addListener(function(D){var F,G,E,J;if(z.Xw)if((z.debug.assert(z.Cc,"has access to internalLogger"),D.Fh && D.Fh.D1))z.Cc.trace("Not processing already applied track",null === (F=D.newValue) || void 0 === F?void 0:F.trackId);else {J=D.newValue;z.qbb({zbb:J.trackId,toJSON:function(){return J.yg;}})?z.Cc.trace("ASE accepted the text track switch",null === (E=D.newValue) || void 0 === E?void 0:E.trackId):(z.Cc.trace("ASE rejected the text track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== J.trackId && z.j.wb.set(D.oldValue,{D1:!0}));}});x.addListener("serverSwitch",function(D){var F;!1;z.j.fireEvent(n.ea.zW,D);if("video" === D.mediatype)F=v.v.X;else "audio" === D.mediatype && (F=v.v.fa);(0,m.Sc)(F) && z.DW(D.segmentId,D.server,F);});x.addListener("streamSelected",function(D){var F,G,E,J;!1;if(z.yQ){G=D.manifest.Ef;if(!z.j.DKb(G) && z.config.YDb)return z.j.od(d.U.Zib,{YA:G});G=(null === (F=z.Aa) || void 0 === F?void 0:F.BT(D.position)).yq.G;F=[];if(D.mediaType === v.v.X){E=z.j.K_a(D.streamId);J=z.j.Oe;F=z.j.jB();}else D.mediaType === v.v.fa && (E=z.j.v_a(D.streamId),J=z.j.Qg,F=z.j.jGb());E && J?(!1,J.set(E,{IE:G,DR:D.bandwidth})):z.Cc.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:F,cachedManifest:z.j.EE});}});x.addListener("segmentNormalized",function(D){var F,G,E;!1;F=D.segmentId;G=Math.floor(D.viewableContentEnd.G);D=Math.floor(D.viewableEarliestContentEnd.G);G=(0,p.Kb)(G);D=(0,p.Kb)(D);z.j.F_a(F) || (!1,z.syb(F));E=z.j.fi(F);E && (z.debug.assert(E.I === F,"segmentNormalized: playbackViewableData segmentId should match the value in the event"),E.Ex=G,E.Y3a=D);z.j.Hp || (z.j.cd.ha?(z.debug.assert(Infinity === G.ba(p.oa),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + z.j.cd.ha + ", contentDuration:" + G),z.j.Hp=p.Ia):z.j.Hp=G);});C.addListener("segmentPresenting",function(D){var F,G,E,J;!1;z.debug.assert(z.Aa,"has access to asePlaygraph");z.debug.assert(z.xb,"has access to asePlayer");z.debug.assert(z.lH,"has access to segmentPresentingHandler");G=z.Aa.BT(D.position);E=void 0;J=null === (F=D.inner) || void 0 === F?void 0:F.position;J && z.Eh && (E=z.Eh.L[J.I]);z.lH({J:G.J,KE:E,XF:!1});z.j.fireEvent(n.ea.kH,{type:"segmentPresenting",position:{segmentId:D.position.I,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});!1;z.Vz=z.xb.Rn();});C.addListener("ptsChanged",function(D){var F;!1;z.j.je.MWb({Gla:null === (F=D.forcedTimestamp) || void 0 === F?void 0:F.Fy,ULb:D.initialTimestamp.Fy});z.oi.emit("skipped");});x.addListener("locationSelected",function(D){!1;z.j.fireEvent(n.ea.vU,D);});x.addListener("aseReportEnabled",function(){!1;z.j.uS=!0;});x.addListener("aseReport",function(D){!1;z.j.fireEvent(n.ea.vE,D);});x.addListener("liveReport",function(D){!1;z.j.fireEvent(n.ea.x6,D);});x.addListener("mediaRequestComplete",function(D){D=null === D || void 0 === D?void 0:D.yYb;(D=null === D || void 0 === D?void 0:D.cadmiumResponse) && z.j.fireEvent(n.ea.$E,{response:D,O:z.j.aa.O});});x.addListener("transportReport",function(D){var F;(D=null === (F=D.tDb) || void 0 === F?void 0:F.cadmiumResponse) && z.j.fireEvent(n.ea.$E,{response:D,O:z.j.aa.O});});x.addListener("liveEventTimesUpdated",function(D){var F,G;F=D.I;G=D.startTime;D=D.endTime;z.j.F_a(F) && (F=z.j.fi(F),F.cd.ha && F.cd.kva(G,D));});x.addListener("liveLoggingInfoUpdated",function(D){var F,G;F=D.mediaType;G=z.sv[F];z.sv[F]=D.info;D=z.sv[F].UA !== G.UA && void 0 !== G.UA;(z.sv[F].TA !== G.TA && void 0 !== G.TA || D) && z.j.fireEvent(n.ea.w6,{mediaType:F,Zl:G,current:z.sv[F]});});};c.prototype.syb=function(x){var z,A,B,C;if(this.Eh && this.Eh.L[x]){z=this.Eh.L[x];A=this.Eh.L[x].Qb;A === x && this.$N && this.$N.L[x] && (A=this.$N.L[x].Qb);if(A && this.ib.Vv(A)){x=this.j.fi(A);A=x.W;if(null === A || void 0 === A?0:A.$o)B=null === A || void 0 === A?void 0:A.$o.find(function(D){return D.Fa.O === z.J;});B || (B=this.j.UYa(z.J));if(!B && (null === A || void 0 === A?0:A.Fa.bc)){C=this.Xrb.GIb({bc:null === A || void 0 === A?void 0:A.Fa.bc,Cd:x.O,J:z.J});C && (B=C.W);}B && B.Fa.bc === (null === A || void 0 === A?void 0:A.Fa.bc) && this.j.aUa(z.J,{yf:{bc:B.Fa.bc,Cd:x.O}},x.ma,B);}}};c.prototype.Rn=function(){var x,z,A,B,C,D,F,G,E;G=null === (x=this.xb) || void 0 === x?void 0:x.j5();x=(null !== (z=this.Vz) && void 0 !== z?z:G && this.xb.Rn()) || ({});z=x.u;G=x.se;E=x.SG;x=x.er;return {id:String(null === z || void 0 === z?void 0:z.id),Oha:null !== (A=null === G || void 0 === G?void 0:G.G) && void 0 !== A?A:0,K2:null !== (B=null === z || void 0 === z?void 0:z.Ud.G) && void 0 !== B?B:Infinity,Bwb:null !== (C=null === z || void 0 === z?void 0:z.Nf.G) && void 0 !== C?C:0,WUb:null !== (D=null === E || void 0 === E?void 0:E.G) && void 0 !== D?D:Infinity,Csa:null !== (F=null === x || void 0 === x?void 0:x.G) && void 0 !== F?F:0};};c.prototype.W0a=function(){var x,z;this.debug.assert(this.Aa,"has access to asePlaygraph");x={};z=this.Aa.tF();x.vbuflmsec=z.totalvbuflmsecs;x.vbuflbytes=z.vbuflbytes;x.abuflmsec=z.totalabuflmsecs;x.abuflbytes=z.abuflbytes;return x;};c.prototype.paused=function(){};c.prototype.QUb=function(){!1;this.oi.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.oi.Hd});};c.prototype.xE=function(x,z){var A;this.debug.assert(this.j.W,"has access to playback manifest");A=this.UH[v.v.fa];return x.O === this.j.W.Fa.O?A:this.yEb(this.j.W.Fa.qs[A],z);};c.prototype.RN=function(x,z){var A;this.debug.assert(this.j.W,"has access to playback manifest");if(this.j.cd.ha){this.debug.assert(x.O === this.j.W.Fa.O);A=this.UH[v.v.Ya];if((x=this.j.bh.find(function(B){return B.trackId === z[A].Df;})) && (!x.Vn() || x.Wm()))return A;}};c.prototype.yEb=function(x,z){var A,B,C;this.debug.assert(this.Cc,"has access to internalLogger");!1;A=z.filter(function(D){return D.profile === x.profile;}).sort(function(D,F){var G,E,J;G=(D.language === x.language || "zxx" === D.language?0:1) - (F.language === x.language || "zxx" === F.language?0:1);0 === G && (G=(D.wh === x.wh?0:1) - (F.wh === x.wh?0:1));if(0 === G){D=(null !== (E=D.ec) && void 0 !== E?E:0) - (null !== (J=F.ec) && void 0 !== J?J:0);}else D=G;return D;});B=0;C=ma(A).next().value;C && z.some(function(D,F){if(D === C)return (B=F,!0);});!1;return B;};c.prototype.qbb=function(x){var z,A,B,C,D,F;this.debug.assert(this.Cc,"has access to internalLogger");this.debug.assert(this.xb,"has access to asePlayer");this.debug.assert(this.j.W,"has access to playback manifest");if(this.Kwa)return (!1,!1);A=x.Zo;B=this.UH[v.v.fa];if(void 0 === A)C=B;else if(!this.j.W.Fa.audio_tracks.some(function(G,E){if(G.new_track_id === A)return (C=E,!0);}))return (!1,!1);D=x.zbb;x=this.UH[v.v.Ya];if(void 0 === D)F=x;else if(!this.j.W.Fa.timedtexttracks.some(function(G,E){if(G.new_track_id === D)return (F=E,!0);}))return (!1,!1);!1;this.OQ=C;this.PQ=F;null === (z=this.j.je) || void 0 === z?void 0:z.z1b();this.j.paused.value || (this.xb.pause([v.v.fa,v.v.Ya]),this.KG=!0,this.j.paused.set(!0,{qM:!0}));this.debug.P1(this.OQ,"has access to valid requestedAudioTrackIndex number");this.UH[v.v.fa]=this.OQ;this.debug.P1(this.PQ,"has access to valid requestedTextTrackIndex number");this.UH[v.v.Ya]=this.PQ;(this.Wy() || this.KG) && this.xb.resume(this.KG?[v.v.fa,v.v.Ya]:void 0);this.dI(this.ccb);return !0;};c.prototype.Wy=function(){var x;x=this;this.debug.assert(this.Aa,"has access to asePlaygraph");return this.Aa.Wy({wN:this.xE.bind(this)},{wN:function(){return x.UH[v.v.X];}},{wN:this.RN.bind(this)});};c.prototype.jm=function(){var x;!1;this.Ag.set(k.Cb.sl);null === (x=this.Aa) || void 0 === x?void 0:x.Rwa("intrplay",k.qc.jm);this.oi.emit("underflow",{type:"underflow",pts:this.oi.Hd});this.dI(this.Dm);};c.prototype.I9=function(x,z){this.Q$.I9(x,z);};c.prototype.open=function(){this.yQ || (this.debug.assert(this.Aa,"has access to asePlaygraph"),this.debug.assert(this.xb,"has access to asePlayer"),!1,this.yQ=this.Ah=!0,this.Aa.open(),this.debug.assert(this.Wv,"invalid start position relative to playgraph"),this.Aa.vC(this.Wv,k.N.Ma(this.j.ab)),this.Ag.set(k.Cb.Qe),this.dI(this.Dm),this.Aa.Ru(this.xb),this.wOb());};c.prototype.play=function(){this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;0 !== this.Aa.state && (this.xb.resume(this.KG?[v.v.fa,v.v.Ya]:void 0),this.Ag.set(k.Cb.me),this.oi.emit("playing",{type:"playing",pts:this.oi.Hd}));};c.prototype.stop=function(){var x;!1;this.Ag.set(k.Cb.D_);null === (x=this.xb) || void 0 === x?void 0:x.pause();this.events.emit("stop");this.oi.emit("paused",{type:"paused",pts:this.oi.Hd});};c.prototype.flush=function(){this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.Rh,"has access to streamingEngine");!1;this.yQ && this.Ag.value !== k.Cb.Rr && this.Ag.value !== k.Cb.D_ && this.stop();this.Aa.Rwa("endplay",k.qc.Qi);this.Aa.Jf();this.Rh.wp.save();this.Rh.ZU.save();};c.prototype.Nn=function(){var x;return null === (x=this.Aa) || void 0 === x?void 0:x.bd;};c.prototype.hja=function(x){var z;this.debug.assert(this.Aa,"has access to asePlaygraph");z=k.N.Ma(x);return (z=this.Aa.Xk(z,{b1b:!0,a1b:!0}))?this.Aa.ga.L[z.I].ta + Number(z.offset.G.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + x);};c.prototype.jja=function(x,z){this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.Cc,"has access to internalLogger");!1;this.Aa.ga.L[x] || (x=this.jla(z));this.debug.Q1(x,"has access to segmentId");x={I:x,offset:k.N.Ma(z - this.Aa.ga.L[x].ta)};if(x=this.Aa.KF(x))return x.G;!1;return z;};c.prototype.zub=function(x,z){var A,B,C,D;this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;z && this.Aa.ga.L[z] || (z=null !== (A=this.jla(x)) && void 0 !== A?A:null === (B=this.xb) || void 0 === B?void 0:B.Ig.I);z=this.j.fi(z);x={yq:k.N.Ma(x),J:z.O};return null === (D=null === (C=this.Aa.Hs(x)) || void 0 === C?void 0:C.La) || void 0 === D?void 0:D.G;};c.prototype.v3=function(x){var z;z=void 0 === z?!0:z;!1;this.Ah?Number.isFinite(x) && (this.debug.assert(this.xb,"has access to asePlayer"),z?this.xb.r$a(x):this.xb.q$a(x)):this.fail("Must call open prior to drmReady");};c.prototype.C_a=function(){var x;return null !== (x=this.xb) && void 0 !== x && x.Qd?this.xb.YT(this.ib.aa.J):!1;};c.prototype.bi=function(x){var z,A;!1;if(!this.xb)return (!1,!1);z=this.Nn();x=k.N.Ma(x);A=this.xb.bi(x);return z && this.j.vL()?A && z.bi(x):A;};c.prototype.IZb=function(x,z){var A;this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;z && this.Aa.ga.L[z] || (z=null !== (A=this.jla(x)) && void 0 !== A?A:this.ib.oh);this.debug.Q1(z,"has access to segmentId");this.debug.assert(this.Aa.ga.L[z],"segment exists in playgraph map");z={I:z,offset:k.N.Ma(x - this.Aa.ga.L[z].ta)};this.Aa.vC(z,k.N.Ma(x));this.xb.resume();this.Ag.set(k.Cb.Qe);this.dI(this.Dm);x=this.Aa.H9a(z);this.debug.assert(x,"Valid position must be provided for seek");};c.prototype.addEventListener=function(x,z){this.events.addListener(x,z);return this;};c.prototype.removeEventListener=function(x,z){this.events.removeListener(x,z);return this;};c.prototype.y4b=function(x,z){var A;!1;A={};this.Aa.aj((A[x]=z,A));};c.prototype.u2=function(x,z){var A,B;this.debug.assert(this.Cc,"has access to internalLogger");this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.xb,"has access to asePlayer");!1;A=this.Rn().id;B=this.Aa.kT(A,x);if(z){if(!B.z5b)return (this.Cc.warn("chooseNextSegment, seamless transition, invalid destination: " + (x + " for current segment: " + A)),!1);if(void 0 !== B.Tqa)return (!1,B.Tqa === x);this.Aa.Kj(A,x,!1,z);return !0;}if(void 0 !== B.Tqa)return (!1,!1);B.HR && (this.xb.reset(),this.Aa.Kj(A,x,!1,z),this.xb.resume(),this.Ag.set(k.Cb.Qe),this.dI(this.Dm));return !!B.HR;};c.prototype.Kj=function(x,z,A,B){this.debug.assert(this.Aa,"has access to asePlaygraph");!1;this.Aa.Kj(x,z,A,B);};c.prototype.wH=function(){var x;this.debug.assert(this.Cc,"has access to internalLogger");!1;x=this.oi.Hd;!1;this.oi.emit("skipped",{type:"skipped",pts:x});return new k.TP(Promise.resolve()).aZb;};c.prototype.E4=function(x,z){var A;return null === (A=this.Aa) || void 0 === A?void 0:A.E4(x,z);};c.prototype.jla=function(x){var z,A,B,C,D,F,G,E;this.debug.assert(this.Aa,"has access to asePlaygraph");this.debug.assert(this.Cc,"has access to internalLogger");!1;z=this.Aa.ga;A=[];B=Infinity;for(C in z.L){D=z.L[C];F=D.ta;D=D.sa;G=x < Number(null !== D && void 0 !== D?D:Infinity);if(F <= x && G)(!1,A.push(C));else if((F=Math.min(Math.abs(x - F),Math.abs(x - D)),F < B)){B=F;E=C;}}x=A[0] || E;this.debug.Q1(x,"has access to locatedSegmentId");!1;return x;};c.prototype.wOb=function(){var x,z;x=this;this.debug.assert(this.j.Pb,"has access to mediaElement");z=this.j.Pb.$;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){x.Ag.value === k.Cb.Vh && (x.Ag.set(k.Cb.me),x.oi.emit("playing",{type:"playing",pts:x.oi.Hd}));});z.addEventListener("pause",function(){x.Ag.value === k.Cb.me && (x.Ag.set(k.Cb.Vh),x.oi.emit("paused",{type:"paused",pts:x.oi.Hd}));});};c.prototype.fail=function(x){var z;null === (z=this.Aa) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:x});};c.prototype.dI=function(x){var z,A,B,C,D,F,G,E;z=this;if(x !== this.ccb && this.Kwa)(!1,this.S5a=x);else {E=null === (A=this.xb) || void 0 === A?void 0:A.Yq.value;A=null === (B=this.Aa) || void 0 === B?void 0:B.ff.value;B=!0 === E;E=A === k.Wc.rm;!1;null === (C=this.xb) || void 0 === C?void 0:C.Yq.removeListener(this.b4a);null === (D=this.Aa) || void 0 === D?void 0:D.ff.removeListener(this.PRa);B && E?x():(this.b4a=function(){return z.dI(x);},this.PRa=function(){return z.dI(x);},null === (F=this.xb) || void 0 === F?void 0:F.Yq.addListener(this.b4a),null === (G=this.Aa) || void 0 === G?void 0:G.ff.addListener(this.PRa));}};c.prototype.RXa=function(x){var z,A;z=this;x=this.j.Mk(x);return Promise.resolve(null !== (A=x.W) && void 0 !== A?A:this.I8(x)).then(function(B){B=B.Fa;return {W:B,Wu:B.c5 && !B.mB,config:z.$h,cg:[].concat(da(z.cg))};});};c.prototype.I8=function(x){var z,A,B,C,D;z=this;!1;B=Promise.resolve();if(x.If){C=x.If.Cd;(D=null === (A=this.j.Mk(C).W) || void 0 === A?void 0:A.Fa)?x.If.xV=D:B=this.Pe.Qm(C).Vp.then(function(F){return F.W;}).then(function(F){x.If.xV=F;}).catch(function(){return z.j.od(d.U.EI,d.R.Oeb);});}return B.then(function(){return z.j.I8(x);}).then(function(){return x.W;});};c.prototype.Yu=function(x,z,A){var B,C,D,F,G,E,J,L,N,I,O,K,H;B=this;this.debug.assert(this.Rh,"has access to streamingEngine");!1;N={J:x,Cd:null === (C=null === z || void 0 === z?void 0:z.yf) || void 0 === C?void 0:C.Cd,bc:null === (D=null === z || void 0 === z?void 0:z.yf) || void 0 === D?void 0:D.bc};if(!this.Pe.has(N)){if(!this.j.i5(x) && (null === (F=null === z || void 0 === z?void 0:z.yf) || void 0 === F?0:F.Cd) && this.j.i5(null === (G=null === z || void 0 === z?void 0:z.yf) || void 0 === G?void 0:G.Cd)){C=this.j.Mk(null === (E=z.yf) || void 0 === E?void 0:E.Cd);E=null === (J=C.W) || void 0 === J?void 0:J.Fa.bc;J=this.j.UYa(x);(null === (L=null === J || void 0 === J?void 0:J.Fa) || void 0 === L?0:L.bc) && J.Fa.bc === E && (I=J);this.j.aUa(x,z,C.ma,I);}this.j.i5(x) && (O=this.j.Mk(x));K=A?A.ma:O?O.ma:void 0;L=A?A.Dp:O?O.Af:void 0;this.Pe.store(N,{jSa:function(){},equals:function(M){return M && M.J === N.J && (K === M.ma || !M.ma || !K);},get Vp() {H || (H=B.RXa(x));return H;},set Vp(M) {H=M;},events:new f.EventEmitter(),ma:K,J:N.J,Fq:!1,nwa:!1});this.$h.IK && this.Rh.zN(this.Pe.Qm(N.J,z),{ma:K,Dp:L,cka:null === A || void 0 === A?void 0:A.RA});}};c.prototype.iO=function(x){var z,A,B;this.debug.assert(this.Rh,"has access to streamingEngine");!1;z=this.j.fi(x);A=z.If;z={J:z.O,Cd:null === A || void 0 === A?void 0:A.Cd,bc:null === A || void 0 === A?void 0:A.bc};x=this.ib.Pd(x).J;if(!this.Pe.has(z))return Promise.resolve();A && (B={yf:{bc:null === A || void 0 === A?void 0:A.bc,Cd:A.Cd}});A=this.Pe.Qm(x,B);A.Vp=this.RXa(x);return this.Rh.iO(A);};c.prototype.kT=function(x){var z;this.debug.assert(this.xb,"has access to asePlayer");this.debug.assert(this.Aa,"has access to asePlaygraph");return this.Aa.kT(null === (z=this.xb.Rn().u) || void 0 === z?void 0:z.id,x);};c.prototype.eB=function(x){var z;x=null === (z=this.Aa) || void 0 === z?void 0:z.eB(x);!1;return x;};c.prototype.WLb=function(x){var z,A;z=x.vUa;A=x.I;this.debug.assert(this.Rh,"has access to streamingEngine");this.debug.assert(this.Cc,"has access to internalLogger");!1;x=this.j.fi(A);x=this.ib.K4(x);A=x.L[A];this.debug.assert(A,"segment exists");this.Wv=(0,q.XZa)(A.J,x,this.j.ab,A.ta);z=Object.create(this.$h,{RA:{value:z.RA},C3:{value:this.j.background.value}});this.Ag=new t.Gb(k.Cb.Dk);this.Aa=this.Rh.lR(x,this.$h.eVb,z,this.Pe);this.Q$=new k.YP(this.Cc);z=this.Aa.mK(this.Q$);x=this.Aa.lK();this.Aa.rva(x,z);this.Wy();this.KG=!1;};c.prototype.oK=function(){var x,z;x=this;this.debug.assert(this.Rh,"has access to streamingEngine");!1;z=Object.create(this.$h,{cg:{value:[].concat(da(this.cg))},yma:{value:function(){return x.tIb();}}});this.oi=Object.create(new f.EventEmitter(),{Hd:{get:function(){x.debug.P1(x.j.mediaTime.value,"has access to mediaTime.value");return k.N.Ma(x.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(x.j.playbackRate.value,.01);}},cIb:{value:function(){x.debug.assert(x.j.Pb,"has access to mediaElement");return x.j.Pb;}}});this.xb=this.Rh.Rqb(this.oi,z);};c.prototype.tIb=function(){this.eo || (this.eo=new k.platform.MediaSource(this.oi),this.eo.Kf || (this.eo.Kf=k.platform.MediaSource.Kf));return this.eo;};Wa.Object.defineProperties(c.prototype,{Kwa:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.OQ && void 0 !== this.PQ;}},Ic:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Rh,"has access to streamingEngine");return this.Rh.Ic;}},Eh:{configurable:!0,enumerable:!0,get:function(){for(var x,z=null === (x=this.Aa) || void 0 === x?void 0:x.Eh;null === z || void 0 === z?0:z.Eh;){z=z.Eh;}return null === z || void 0 === z?void 0:z.ga;}},$N:{configurable:!0,enumerable:!0,get:function(){var x,z;return null === (z=null === (x=this.Aa) || void 0 === x?void 0:x.Eh) || void 0 === z?void 0:z.ga;}},gTa:{configurable:!0,enumerable:!0,get:function(){for(var x=this.xb;null === x || void 0 === x?0:x.RT;){x=x.RT;}return x;}},Izb:{configurable:!0,enumerable:!0,get:function(){var x,z,A;if(null === (x=this.gTa) || void 0 === x?0:x.Qd){A=(x=this.gTa.Ig) && (null === (z=this.Eh) || void 0 === z?void 0:z.L[x.I]);if(A)return {yq:k.N.Ma(x.offset.G + A.ta),J:A.J};}}}});b.rca=c;},4551:function(r,b,a){var k,f,l,d;function c(g){function n(h,m){this.Y=h;this.Rmb=m;this.ala=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Di=g.Ua("DownloadTrack");}n.prototype.Cs=function(){!1;this.VQ=void 0;this.emit("destroyed");};n.prototype.toString=function(){return "id:" + this.VQ + " config: " + JSON.stringify(this.Y);};n.prototype.toJSON=function(){return "Download Track id:" + this.VQ + " config: " + JSON.stringify(this.Y);};n.prototype.OL=function(){return void 0 === this.VQ?!1:!0;};n.prototype.Ata=function(h){this.Y.connections !== h.connections && (this.Y=h);};Wa.Object.defineProperties(n.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.VQ;}},Fn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.VQ;}},config:{configurable:!0,enumerable:!0,get:function(){return this.Y;}},i8:{configurable:!0,enumerable:!0,get:function(){return this.Di;}},NU:{configurable:!0,enumerable:!0,get:function(){return this.Rmb.NU;}}});this.qI=Object.assign(n,new l.ABa());}Object.defineProperty(b,"__esModule",{value:!0});b.zBa=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(49090);d=a(17187).EventEmitter;c=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa))],c);b.zBa=c;},33384:function(r,b,a){var k,f,l,d,g,n,h,m,p;function c(q,u,t,w,v){this.TJ=q;this.Ie=t;this.ub=w;this.Ea=v;this.log=u.Ua("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.nGa=void 0;r=a(70655);k=a(35001);f=a(5690);l=a(68172);d=a(71163);g=a(86700);n=a(5485);h=a(89542);m=a(58998);p=a(2467);c.prototype.xF=function(){return this.Ea.Eb().ba(p.oa);};c.prototype.RRb=function(q,u){q.URb({mediaRequest:q,timestamp:u});};c.prototype.N7=function(q){var u,t;t=q.mediaRequest.RB;t.readyState=k.pc.jc.gj;t.p5a(Object.assign(Object.assign({},q),{timestamp:q.connect?q.timestamp:this.xF(),connect:null !== (u=q.connect) && void 0 !== u?u:!1,mediaRequest:t,readyState:t.readyState}));};c.prototype.tM=function(q){this.RRb(q.mediaRequest.RB,q.timestamp);};c.prototype.CG=function(q){var u,t;u=q.mediaRequest.RB;t=q.bytes;"undefined" === typeof u?!1:(u.readyState === k.pc.jc.ou && this.N7(q),this.ub.Zj(t) && (q.mediaRequest=u,q.timestamp=this.xF(),t > u.bytesReceived && (q.newBytes=t - u.bytesReceived,q.bytesLoaded=t,u.XRb(q))));};c.prototype.Xm=function(q){var u,t,w,v;u=q.mediaRequest;t=q.errorcode;w=q.httpcode;v=k.pc.NY;if("undefined" === typeof u)!1;else if((u=u.RB,"undefined" === typeof u))!1;else if(u.readyState !== k.pc.jc.$t)if(t === l.R.bD)(u.readyState=k.pc.jc.Xp,q.mediaRequest=u,q.readyState=u.readyState,u.PRb(q));else {u.readyState=k.pc.jc.$t;switch(t){case l.R.gP:w=v.bAa;break;case l.R.Qba:w=v.Nba;break;case l.R.dP:w=400 < w && 500 > w?v.KZ:500 <= w?v.Pba:v.Nba;break;case l.R.eP:w=v.Oba;break;case l.R.cP:w=v.cAa;break;case l.R.fP:w=v.LZ;break;case l.R.cD:w=v.LZ;break;case l.R.wDa:w=v.vDa;break;case l.R.sDa:w=v.KZ;break;case l.R.Zgb:w=v.Oba;break;default:w=v.LZ;}q.mediaRequest=u;q.readyState=u.readyState;q.errorcode=w;q.nativecode=t;u.bra(q);}};c.prototype.AG=function(q,u){var t,w;t=u.request.RB;if(t)if(u.ia){if((!1,q.j && t.readyState !== k.pc.jc.DONE)){switch(t.readyState){case k.pc.jc.Xp:!1;return;case k.pc.jc.$t:!1;break;case k.pc.jc.gj:break;case k.pc.jc.ou:this.N7({mediaRequest:u.request,responseHeaders:u.headers});break;default:!1;}t.readyState=k.pc.jc.DONE;if(!t.Me){w={mediaRequest:t,readyState:t.readyState,timestamp:this.xF(),cadmiumResponse:u};q.j.Iwa+=1;t.DJb();t.cNb() && (q.j.mua+=1,u.Vl.Wi=Math.ceil(t.rla),u.Vl.Op=Math.ceil(t.LE),u.Vl.Qy=Math.floor(t.NB));t.F2=w;t.rM(w);}}}else (!1,t.readyState === k.pc.jc.Xp?!1:this.Xm({mediaRequest:u.request,errorcode:u.xa,httpcode:u.Kl,cadmiumResponse:u}));};c.prototype.download=function(q,u){var t,w;t=this;u=this.Ie.download(q,u);if(q.RB){w=q.RB;-1 < [k.pc.jc.OPENED,k.pc.jc.$t].indexOf(w.readyState) && (w.readyState=k.pc.jc.ou,u.K_b(function(v){t.tM(v);}));}u.v1(function(v){t.AG(q,v);});u.P_b(function(v){t.CG(v);});return u;};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(f.CO)),r.__param(1,(0,g.l)(d.Xa)),r.__param(2,(0,g.l)(n.bu)),r.__param(3,(0,g.l)(h.Wf)),r.__param(4,(0,g.l)(m.Jc))],a);b.nGa=a;},63076:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.Ea=t;this.Js=w;this.config=v;this.Ie=x;this.rQb=z;this.log=y.Ua("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.xGa=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(5485);d=a(5117);g=a(20736);n=a(35001);h=a(58998);m=a(2467);p=a(53685);q=a(17244);u=a(18920);c.prototype.TS=function(t,w,v){var x,z,A,B;function y(){var C;t.removeEventListener(n.pc.Bk.Hz,y);C=x.config().TDb;void 0 === t.ES?t.ES=0:t.ES++;t.ES >= C.length && (t.ES=C.length - 1);setTimeout(function(){x.TS(t,w,v);},C[t.ES]);}x=this;t.Rdc=!0;z=0 === w.start && -1 === w.end;z={url:t.url,responseType:this.Ie.x_.kza,withCredentials:!1,MA:t.mediaType === u.v.fa?"audio":"video",offset:z?void 0:w.start,length:z?void 0:t.qo,track:{type:t.mediaType === u.v.fa?g.Sj.audio:g.Sj.video},stream:{Ub:t.Sb,bitrate:t.bitrate},Bc:{id:t.Lc},RB:t,JW:v,Cr:this.Js.Cr,nr:t.nr};A=t.KK;void 0 !== A && void 0 !== A.Dt && void 0 !== A.gG && void 0 !== A.hG && (z.KK=[A.hG,A.gG,A.Dt,A.VSa]);B=this.xF();z=this.rQb.download(z,function(C){C.ia && t.readyState !== n.pc.jc.DONE && (t.readyState === n.pc.jc.Xp?!1:(t.readyState === n.pc.jc.$t?!1:t.readyState === n.pc.jc.ou?(t.readyState=n.pc.jc.gj,t.p5a({mediaRequest:t,readyState:t.readyState,timestamp:t.Me?B:x.xF(),connect:!1,responseHeaders:C.headers})):t.readyState !== n.pc.jc.ou && t.readyState !== n.pc.jc.gj && !1,t.readyState=n.pc.jc.DONE,C={mediaRequest:t,readyState:t.readyState,timestamp:x.xF(),cadmiumResponse:C,response:C.content},t.F2=C,t.rM(C)));});t.addEventListener(n.pc.Bk.Hz,y);t.n5=z.abort;};c.prototype.GPa=function(t){try{t.n5();}catch(w){this.log.warn("exception aborting request");}};c.prototype.xF=function(){return this.Ea.Eb().ba(m.oa);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(h.Jc)),r.__param(1,(0,k.l)(p.kn)),r.__param(2,(0,k.l)(q.ac)),r.__param(3,(0,k.l)(f.Xa)),r.__param(4,(0,k.l)(l.bu)),r.__param(5,(0,k.l)(d.oGa))],a);b.xGa=a;},7884:function(r,b,a){var k,f,l,d,g,n,h,m,p,q;function c(u,t,w,v,y,x){function z(B,C){this.track=B;this.label=C;this.pg=m.pc.jc.UNSENT;this.bytesReceived=0;this.oW=[];}function A(B,C,D){this.requestId=x.FA().toString();this.ub=w;this.log=t.Ua("MediaRequest");this.config=u;this.Db=new h.Rj();this.label=C;"notification" === this.label?this.config().IK && (this.NU=v):this.NU=y;D && (this.mediaType=D.mediaType,this.Sb=D.Sb,this.bitrate=D.bitrate,this.Lc=D.Lc || 0,this.Ws=D.Ws,this.I=D.I);this.ST=this.n2=this.o2=void 0;this.track=B;this.JR=this.url=this.responseType=void 0;this.pg=m.pc.jc.UNSENT;this.Mh=this.dv=this.Of=this.status=void 0;this.bytesReceived=0;this.connect=this.rla=this.LE=this.NB=this.dpa=this.Jh=this.qla=this.loadTime=this.Yfa=void 0;this.oW=[];this.Fn=!1;!1;}z.prototype.addEventListener=function(B,C,D){this.Db.addListener.call(this,B,C,D);};z.prototype.removeEventListener=function(B,C){this.Db.removeListener.call(this,B,C);};z.prototype.emit=function(B,C,D){this.Db.Dc.call(this,B,C,D);};z.prototype.URb=function(B){this.pg === m.pc.jc.OPENED && (this.ST=!0,this.loadTime=this.Jh=B.timestamp,!1,this.pg=m.pc.jc.ou,this.emit(m.pc.Bk.nHa,B));};z.prototype.p5a=function(B){var C;!this.p9a && B.responseHeaders && (this.p9a=B.responseHeaders);if(this.pg < m.pc.jc.gj){this.oW=[];C=B.timestamp - this.loadTime;!this.Me && 0 < C && (this.connect=!0,this.oW.push(C));!0 === this.config().oLb?this.qla=B.timestamp:this.qla=this.Jh=B.timestamp;!1;this.pg=m.pc.jc.gj;this.emit(m.pc.Bk.mHa,B);}};z.prototype.XRb=function(B){this.pg === m.pc.jc.gj && (!1,this.dpa=this.Jh=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.ub.vg(this.dpa) && this.emit(m.pc.Bk.oHa,B));};z.prototype.rM=function(B){var C;if(-1 < [m.pc.jc.ou,m.pc.jc.gj].indexOf(this.pg)){this.ST=!1;!1;this.Jh=B.timestamp;this.pg=m.pc.jc.DONE;C=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.Vl.J2;(0,q.na)(this.bytesReceived === this.qo,"bytesReceived do not match expected totalBytes.");B.newBytes=this.qo - C;this.ub.vg(this.LE) && (this.Jh=this.LE,0 === B.newBytes && (this.dpa=this.LE));this.ub.vg(this.NB) && (this.loadTime=this.NB);this.Yfa=B.response;this.emit(m.pc.Bk.FP,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",yYb:B});}};z.prototype.PRb=function(B){this.ST=!1;!1;this.emit(m.pc.Bk.Pjb,B);};z.prototype.bra=function(B){this.Jh=B.timestamp;this.status=B.httpcode;this.Of=B.errorcode;this.dv=m.pc.NY.name[this.Of];this.Mh=B.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",tDb:B});this.emit(m.pc.Bk.Hz,B);this.ST=!1;};z.prototype.open=function(B,C,D,F,G,E,J,L,N){this.Xv=!1;this.JR=C;this.nr=L;this.KK=N;this.url=B;this.responseType=D;!1;if(!this.url)return (!1,!1);this.pg=m.pc.jc.OPENED;this.NU.TS(this,C,J);return !0;};z.prototype.de=function(){!1;-1 !== [m.pc.jc.OPENED,m.pc.jc.ou,m.pc.jc.gj].indexOf(this.pg) && this.abort();return !0;};z.prototype.Cvb=function(){this.Yfa=void 0;this.F2 && (this.F2.response=void 0,this.F2.cadmiumResponse.content=void 0);this.n5=void 0;};z.prototype.GH=function(B){!1;this.url=B;return !0;};z.prototype.abort=function(){this.pg=m.pc.jc.Xp;this.NU.GPa(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(B){var C,D;return null !== (D=null === (C=this.p9a) || void 0 === C?void 0:C[B.toLowerCase()]) && void 0 !== D?D:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.Ny=function(){};z.prototype.fk=function(){return this.requestId;};z.prototype.toString=function(){return JSON.stringify({requestId:this.fk(),segmentId:this.I,isHeader:this.Me,ptsStart:this.UM,ptsOffset:this.F8,responseType:this.responseType,duration:this.eF,readystate:this.pg,bitrate:this.bitrate});};z.prototype.toJSON=function(){return this.toString();};z.prototype.DJb=function(){var B,C;if(this.config().sdb && d.hu && d.hu.getEntriesByType && (!this.ub.vg(this.NB) || !this.ub.vg(this.LE) && this.ub.vg(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.o2 + "-" + this.n2 + "*");C=new RegExp(B);B=d.hu.getEntriesByType("resource").filter(function(D){return C.exec(D.name);})[0];this.ub.vg(B) && (0 < B.startTime && (this.NB=B.startTime,0 < B.requestStart && (this.NB=Math.max(this.NB,B.requestStart))),0 < B.responseStart && (this.rla=B.responseStart),0 < B.responseEnd && (this.LE=B.responseEnd));}};z.prototype.cNb=function(){return this.ub.vg(this.NB) && this.ub.vg(this.LE) && this.ub.vg(this.rla);};Wa.Object.defineProperties(z.prototype,{qo:{configurable:!0,enumerable:!0,get:function(){return 0 === this.JR.start && -1 === this.JR.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.JR.end - this.JR.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.n2 - this.o2 + 1;}},yKb:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},Me:{configurable:!0,enumerable:!0,get:function(){return !this.Ws;}},response:{configurable:!0,enumerable:!0,get:function(){return this.Yfa;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.pg;},set:function(){}}});Object.getOwnPropertyNames(z.prototype).forEach(function(B){var C;C=Object.getOwnPropertyDescriptor(z.prototype,B);Object.defineProperty(A.prototype,B,C);});this.cq=Object.assign(A,m.pc);}Object.defineProperty(b,"__esModule",{value:!0});b.vGa=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(17244);d=a(50876);g=a(89542);n=a(96437);h=a(59883);m=a(35001);p=a(24166);q=a(70633);c=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.ac)),r.__param(1,(0,k.l)(f.Xa)),r.__param(2,(0,k.l)(g.Wf)),r.__param(3,(0,k.l)(n.xHa)),r.__param(4,(0,k.l)(n.yGa)),r.__param(5,(0,k.l)(p.zw))],c);b.vGa=c;},68221:function(r,b,a){var k,f,l;function c(d,g){this.Ie=g;this.log=d.Ua("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.wHa=void 0;r=a(70655);k=a(86700);f=a(71163);a=a(5485);c.prototype.TS=function(d,g,n){g={url:d.url,FZb:n};!1;d.n5=this.Ie.M0b(g);};c.prototype.GPa=function(d){try{d.n5();}catch(g){this.log.warn("exception aborting request");}};l=c;l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(a.bu))],l);b.wHa=l;},39540:function(r,b,a){var k,f,l;function c(d,g){this.Yu=void 0 === d?function(){}:d;this.Vta=g;this.fw=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.sea=void 0;k=a(70655);f=a(70633);l=a(55727);c.prototype.store=function(d,g){var n,p;n=this.generateKey(d);this.fw.has(n) && this.$qa(this.fw.get(n),!0);if(!d.Cd)for(var h=ma(this.fw),m=h.next();!m.done;m=h.next()){p=ma(m.value);m=p.next().value;p=p.next().value;m.includes(":" + d.J + ":") && (this.$qa(p,!0),this.fw.delete(m));}this.fw.set(n,g);};c.prototype.Qm=function(d,g){var n,h,m;m=null === (n=null === g || void 0 === g?void 0:g.yf) || void 0 === n?void 0:n.bc;n=null === (h=null === g || void 0 === g?void 0:g.yf) || void 0 === h?void 0:h.Cd;h={J:d,Cd:n,bc:m};this.has(h) || this.Yu(d,g);return this.get(h);};c.prototype.Sv=function(d,g){var n;return k.__awaiter(this,void 0,void 0,function m(){var p,q;p=this;return Ia(m,function(u){var t;if(1 == u.Av)return ((0,f.na)(g.yf,"auxiliaryOptions must exist if an adBreak hydration was requested"),(0,f.na)(!!g.yf.bc,"auxiliaryManifestToken must exist if an adBreak hydration was requested"),u.jia=2,La(u,p.Vta(d,g),4));if(2 != u.Av)return u.return(u.WX);u.jia=0;t=u.nE.AWa;u.nE=null;q=t;throw (0,l.i1a)(q)?q:Error(null !== (n="Unable to retrieve adBreak hydration forparentViewableId: " + (g.yf.Cd + ", adBreakToken: " + d + ".") + q.detail) && void 0 !== n?n:"Details: " + q.detail);});});};c.prototype.has=function(d){d=this.generateKey(d);return this.fw.has(d) && !this.fw.get(d).Fq;};c.prototype.clear=function(){var d;d=this;this.fw.forEach(function(g){d.$qa(g,!1);});this.fw.clear();};c.prototype.get=function(d){return this.fw.get(this.generateKey(d));};c.prototype.generateKey=function(d){var g,n;g=d.bc;n=d.Cd;return d.J.toString() + (n?":" + n:"") + (g?":" + g:"");};c.prototype.$qa=function(d,g){var n;null === (n=d.events) || void 0 === n?void 0:n.emit("viewableEvicted",{type:"viewableEvicted"});d.nwa=g;};b.sea=c;},55225:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.R1=void 0;c=a(95919);b.R1=function(k){var f,l,d,g;f=k.Zn;l=k.loadTime;k=k.Ska;d=(0,c.tb)(l)?l:0;g=f[k.target] || ({});f[k.target] !== g && (f[k.target]=g);Object.entries(k.fields).forEach(function(n){var h,m,p,q;h=ma(n);n=h.next().value;h=h.next().value;if("object" !== typeof h || null === h)g[n]=h;else {m=h.type;if("count" === m)(void 0 === g[n] && (g[n]=0),++g[n]);else if(void 0 !== h.value){if("array" === m){m=g[n];p=h.adjust;q=h.value;m || (m=g[n]=[]);p && 0 < p.length && p.forEach(function(u){q[u]-=d || 0;});m.push(q);}else g[n]="sum" === m?(g[n] || 0) + h.value:h.value;}else g[n]=h;}});};},86514:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.XZa=void 0;c=a(91854);k=a(70633);b.XZa=function(f,l,d,g){return l.L[l.ve].ta === g?(f=(0,c.Fx)(l,f,c.N.Ma(d)),(0,k.na)(f,"has valid start position relative to playgraph"),f):{I:l.ve,offset:c.N.Ia};};},60634:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Th="AsyncComponentLoaderSymbol";},4871:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.gRa=void 0;r=a(86700);c=a(20101);k=a(60634);b.gRa=new r.$c(function(f){f(k.Th).to(c.bza).da();});},20101:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w;function c(v,y,x,z,A,B){var C;C=this;this.wk=v;this.config=x;this.lo=z;this.debug=A;this.Ea=B;this.Ubb=[];this.Tc={};this.log=y.Ua("loadAsync");this.tPb=(0,u.NCa)(function(D){C.SXb=!0;C.startTime=C.Ea.Eb().ba(p.oa);C.load(C.Ubb).then(function(){C.endTime=C.Ea.Eb().ba(p.oa);D(w.ig);}).catch(function(F){C.endTime=C.Ea.Eb().ba(p.oa);D(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.bza=void 0;r=a(70655);k=a(85643);f=a(68172);l=a(38667);d=a(3971);g=a(86700);n=a(71163);h=a(17244);m=a(29853);p=a(2467);q=a(78616);u=a(5845);t=a(58998);w=a(7942);c.prototype.tU=function(v){this.tPb(v);};c.prototype.register=function(v,y){this.debug.assert(!this.SXb);this.Ubb.push({ROb:this.Dub(y),errorCode:v});};c.prototype.ke=function(v){this.debug.assert(void 0 === this.Tc[v]);this.Tc[v]=this.Ea.Eb().ba(p.oa);};c.prototype.load=function(v){var y;y=this;return (0,l.z7a)(v).then(function(x){y.wk.mark(d.om.hj.Leb);return x.reduce(function(z,A){return z.then(function(){return y.POb(A);});},Promise.resolve()).then(function(){y.wk.mark(d.om.hj.Jeb);});});};c.prototype.POb=function(v){var y,x;y=this;x=v.ROb;!1;return this.lo.Np((0,p.Kb)(this.config().nsb),x()).catch(function(z){y.log.error("Failed to load component " + v.errorCode,z);y.wk.mark(d.om.hj.Keb);if(z instanceof m.gq)throw {xa:f.R.Ieb,errorCode:v.errorCode};z.errorCode=z.errorCode || v.errorCode;z.xa=z.xa || f.R.Heb;throw z;});};c.prototype.Dub=function(v){return function(){return new Promise(function(y,x){v(function(z){z.ia?y():x(z);});});};};a=c;a=r.__decorate([(0,g.T)(),r.__param(0,(0,g.l)(k.XI)),r.__param(1,(0,g.l)(n.Xa)),r.__param(2,(0,g.l)(h.ac)),r.__param(3,(0,g.l)(m.Jz)),r.__param(4,(0,g.l)(q.pw)),r.__param(5,(0,g.l)(t.Jc))],a);b.bza=a;},38667:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.z7a=void 0;c=a(68172);k=[c.U.tib,c.U.cEa,c.U.dEa,c.U.hEa,c.U.$Da,c.U.YDa,c.U.Tba,c.U.xib,c.U.aEa,c.U.ZDa,c.U.zz,c.U.VDa,c.U.XDa,c.U.eEa,c.U.fEa,c.U.gEa,c.U.bEa,c.U.WDa];(function(l){l.Jjb=function(d){var h;for(var g={},n=0;n < d.length;n++){h=d[n];if(g[h.errorCode])return {errorCode:h.errorCode,xa:c.R.Feb};g[h.errorCode]=1;}};l.Kjb=function(d){var n;for(var g=0;g < d.length;g++){n=d[g];if(-1 === k.indexOf(n.errorCode))return {errorCode:n.errorCode,xa:c.R.Geb};}};})(f || (f={}));b.z7a=function(l){return new Promise(function(d,g){var n;n=f.Kjb(l);n && g(n);(n=f.Jjb(l)) && g(n);d(l.sort(function(h,m){return k.indexOf(h.errorCode) - k.indexOf(m.errorCode);}));});};},58998:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jc="ApplicationSymbol";},5266:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nw="Base16EncoderSymbol";},31224:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fh="Base64EncoderSymbol";},20642:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TC="BrowserInfoSymbol";},24060:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xaa="CachedErrorsSymbol";},35664:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gg="ClockSymbol";},69716:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zAa="ClockConfigSymbol";},50746:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QAa="CsvEncoderSymbol";},40781:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FY="DebouncerFactorySymbol";},78616:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eBa="DebugConfigSymbol";b.pw="DebugSymbol";},64168:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wkb=b.bhb=b.fBa=void 0;r=b.fBa || (b.fBa={});r.E$b="PboDebugEvent";r.H$b="PlaygraphEvent";b.bhb={C9b:"Manifest",Event:"Event",p9b:"Logblob"};b.Wkb={Bac:"UX",R7b:"Combined_1",S7b:"Combined_2"};},56432:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L,N,I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,U,Z,Q,ka,P,fa,ua,pa,Ra,Pa,db,wb,nb,Bb,Qa,Za,hb,lb,yb,Hb,Jb,Eb,Lb,Rb,bc;Object.defineProperty(b,"__esModule",{value:!0});b.Bx=void 0;r=a(86700);c=a(63088);k=a(35664);f=a(65428);l=a(24166);d=a(16690);g=a(19791);n=a(10846);h=a(68903);m=a(14600);p=a(53484);q=a(5266);u=a(31224);t=a(89682);w=a(89542);v=a(1265);y=a(29853);x=a(81291);z=a(73653);A=a(52275);B=a(81880);C=a(67330);D=a(10234);F=a(36447);G=a(661);E=a(60196);J=a(91402);L=a(84540);N=a(10787);I=a(58998);O=a(50746);K=a(81454);H=a(47202);M=a(78616);R=a(52632);Y=a(71163);ea=a(69716);ca=a(77300);oa=a(85643);Ga=a(50430);Fa=a(27017);Ja=a(32265);Xa=a(43766);cb=a(74509);U=a(50876);Z=a(25468);Q=a(82328);ka=a(28933);P=a(65275);fa=a(20916);ua=a(17244);pa=a(811);Ra=a(97636);Pa=a(66602);db=a(20642);wb=a(19604);nb=a(47682);Bb=a(62380);Qa=a(92513);Za=a(14072);hb=a(40781);lb=a(33999);yb=a(99423);Hb=a(56138);Jb=a(50743);Eb=a(64615);Lb=a(31020);Rb=a(24060);bc=a(85121);b.Bx=new r.$c(function(Ib){Ib(c.m_).GC(function(){return {};}).da();Ib(c.fD).kl(JSON);Ib(c.bNa).kl(pb);Ib(d.SLa).kl(Math);Ib(c.oFa).kl(U.c_);Ib(c.jda).kl(U.hu);Ib(c.GMa).kl(U.pD);Ib(c.bBa).kl(Date);Ib(c.JI).kl(U.Ae);Ib(c.ujb).kl(U.Ez);Ib(ea.zAa).to(ca.yAa).da();Ib(I.Jc).to(N.Dya).da();Ib(k.gg).to(m.AAa).da();Ib(f.Ci).to(g.XKa).da();Ib(l.zw).to(n.pEa).da();Ib(y.Jz).to(D.lKa).da();Ib(d.y_).to(h.tKa).da();Ib(Pa.Bca).to(Jb.lGa).da();Ib(M.pw).to(H.gBa).da();Ib(M.eBa).to(R.dBa).da();Ib(p.iq).to(z.HMa).da();Ib(q.nw).to(A.Iaa).da();Ib(u.fh).to(B.rza).da();Ib(t.jh).to(C.IMa).da();Ib(w.Wf).kl(F.eD);Ib(nb.XO).to(Bb.wCa).da();Ib(v.Aba).to(G.Rj).Una();Ib(v.GY).to(G.Rj).da();Ib(v.tBa).to(G.Rj).da();Ib(v.Eba).to(G.Rj).da();Ib(J.hea).to(L.xD).da();Ib(O.QAa).to(K.PAa).da();Ib(oa.XI).to(Ga.mea).da();Ib(oa.BP).to(Ga.mea).da();Ib("Factory<LoggerFactory>").Tbb(Y.Xa);Ib(Fa.lba).to(Ja.iBa).da();Ib(cb.yD).Vd(function(Ob){return function(Sb){return new Xa.aMa(Ob.hb.get(I.Jc),Ob.hb.get(f.Ci),Sb);};});Ib(hb.FY).Vd(function(Ob){return function(Sb){return new lb.cBa(Ob.hb.get(f.Ci),Sb);};});Ib(Z.Gda).q3b(Q.Fda);Ib(Z.alb).Vd(function(Ob){var Sb;Sb=Ob.hb.get(Z.Gda);return function(){return new Sb(!1);};});Ib(Z.blb).Vd(function(Ob){var Sb;Sb=Ob.hb.get(Z.Gda);return function(){return new Sb(!0);};});Ib(ka.DMa).Vd(function(){return function(Ob){return new P.EMa(Ob);};});Ib(Ra.KP).Vd(function(Ob){return function(Sb,cc,nc){return new fa.yJa(Ob.hb.get(M.pw),Ob.hb.get(ua.ac),Ob.hb.get(pa.rn),Ob.hb.get(Pa.Bca),Sb,cc,nc);};});Ib(x.uHa).Vd(function(){return function(Ob){return new E.vHa(Ob);};});Ib(db.TC).to(wb.Gza);Ib(Eb.T_).to(Lb.FMa).da();Ib(Qa.SP).Vd(function(Ob){return function(Sb,cc){return new Za.lMa(Ob.hb.get(f.Ci),Sb,cc);};});Ib(yb.pCa).to(Hb.oCa).da();Ib(Rb.Xaa).to(bc.kAa).da();});},99423:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ij="_ANY_";b.pCa="EnricherSymbol";},1265:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aba="EventSourceSymbol";b.Eba="GlobalEventSourceSymbol";b.GY="DebugEventSourceSymbol";b.tBa="DiagnosticsEventSourceSymbol";},47682:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XO="EventSourceFactorySymbol";},24166:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zw="IdProviderSymbol";},89542:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wf="IsTypeSymbol";},50364:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Az=void 0;r=b.Az || (b.Az={});r[r.B7b=8]="Backspace";r[r.vac=9]="Tab";r[r.E8b=13]="Enter";r[r.oac=16]="Shift";r[r.X7b=17]="Ctrl";r[r.g7b=18]="Alt";r[r.D$b=19]="PauseBreak";r[r.O7b=20]="CapsLock";r[r.G8b=27]="Escape";r[r.qac=32]="Space";r[r.C$b=33]="PageUp";r[r.B$b=34]="PageDown";r[r.D8b=35]="End";r[r.h9b=36]="Home";r[r.n9b=37]="LeftArrow";r[r.Dac=38]="UpArrow";r[r.M$b=39]="RightArrow";r[r.l8b=40]="DownArrow";r[r.k9b=45]="Insert";r[r.j8b=46]="Delete";r[r.Lac=48]="Zero";r[r.s$b=49]="One";r[r.yac=50]="Two";r[r.wac=51]="Three";r[r.c9b=52]="Four";r[r.a9b=53]="Five";r[r.pac=54]="Six";r[r.nac=55]="Seven";r[r.C8b=56]="Eight";r[r.d$b=57]="Nine";r[r.Z6b=65]="A";r[r.Daa=66]="B";r[r.H7b=67]="C";r[r.ogb=68]="D";r[r.E=69]="E";r[r.H8b=70]="F";r[r.Dba=71]="G";r[r.f9b=72]="H";r[r.i9b=73]="I";r[r.l9b=74]="J";r[r.Zba=75]="K";r[r.Rib=76]="L";r[r.rca=77]="M";r[r.G9b=78]="N";r[r.p$b=79]="O";r[r.u$b=80]="P";r[r.Q=81]="Q";r[r.J$b=82]="R";r[r.nlb=83]="S";r[r.Vlb=84]="T";r[r.zac=85]="U";r[r.Eac=86]="V";r[r.Gac=87]="W";r[r.Iac=88]="X";r[r.Kac=89]="Y";r[r.ud=90]="Z";r[r.o9b=91]="LeftWindowKey";r[r.N$b=92]="RightWindowKey";r[r.lac=93]="SelectKey";r[r.f$b=96]="Numpad0";r[r.g$b=97]="Numpad1";r[r.h$b=98]="Numpad2";r[r.i$b=99]="Numpad3";r[r.j$b=100]="Numpad4";r[r.k$b=101]="Numpad5";r[r.l$b=102]="Numpad6";r[r.m$b=103]="Numpad7";r[r.n$b=104]="Numpad8";r[r.o$b=105]="Numpad9";r[r.F9b=106]="Multiply";r[r.f7b=107]="Add";r[r.rac=109]="Subtract";r[r.i8b=110]="DecimalPoint";r[r.k8b=111]="Divide";r[r.I8b=112]="F1";r[r.M8b=113]="F2";r[r.N8b=114]="F3";r[r.O8b=115]="F4";r[r.P8b=116]="F5";r[r.Q8b=117]="F6";r[r.R8b=118]="F7";r[r.S8b=119]="F8";r[r.T8b=120]="F9";r[r.J8b=121]="F10";r[r.K8b=122]="F11";r[r.L8b=123]="F12";r[r.e$b=144]="NumLock";r[r.jac=145]="ScrollLock";r[r.mac=186]="SemiColon";r[r.F8b=187]="Equals";r[r.T7b=188]="Comma";r[r.g8b=189]="Dash";r[r.F$b=190]="Period";r[r.b9b=191]="ForwardSlash";r[r.xac=192]="Tilde";r[r.t$b=219]="OpenBracket";r[r.A7b=220]="BackSlash";r[r.Q7b=221]="CloseBracket";r[r.I$b=222]="Quote";},81291:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uHa="OneWayCounterFactorySymbol";},27017:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lba="DecoderTimeoutPathologistSymbol";},811:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rn="PlatformSymbol";b.n_="PlatformMutableSymbol";},63088:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bNa="WindowTimersSymbol";b.fD="JSONSymbol";b.GMa="UserAgentSymbol";b.JI="NavigatorSymbol";b.ujb="MediaSourceSymbol";b.oFa="LocationSymbol";b.bBa="DateSymbol";b.jda="PerformanceSymbol";b.m_="PlatformExtraInfoSymbol";},97636:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KP="PlayerErrorFactorySymbol";},25468:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gda="PrioritizedSetOfListsSymbol";b.alb="PrioritizedSetOfListsFactorySymbol";b.blb="PrioritizedSetOfSetsFactorySymbol";},29853:function(r,b){function a(c){var k;k=Error.call(this,"TimeoutError");this.message=k.message;("stack" in k) && (this.stack=k.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Jz=b.gq=void 0;ia(a,Error);b.gq=a;b.Jz="PromiseTimerSymbol";},16690:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SLa="SystemRandomSymbol";b.y_="RandomGeneratorSymbol";},65428:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ci="SchedulerSymbol";},91402:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hea="StringUtilsSymbol";},36437:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.iea=void 0;k=a(50876);c.KZa=function(){var f;f=k.iu && k.iu.height;return f?1080 <= f?1080:720:720;};b.iea=c;},74509:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yD="ThrottleFactorySymbol";},92513:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SP="TimeoutMonitorFactorySymbol";},85643:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XI="TimingApiSymbol";b.BP="MilestoneTimingApiSymbol";},28933:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DMa="UrlFactorySymbol";},53484:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iq="Utf8EncoderSymbol";},89682:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jh="UtilitiesSymbol";},12813:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IIa="PboPlaydataValidatorSymbol";b.zIa="PboPlaydataArrayValidatorSymbol";b.BIa="PboPlaydataCollectionValidatorSymbol";},3971:function(r,b){var c,k;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.om=b.Na=b.hj=void 0;(function(f){f[f.qm=0]="STANDARD";f[f.ln=1]="LIMITED";f[f.w$b=2]="PREVIEW";})(c || (c={}));(function(f){f[f.HAVE_NOTHING=0]="HAVE_NOTHING";f[f.HAVE_METADATA=1]="HAVE_METADATA";f[f.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";f[f.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";f[f.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(k || (k={}));(function(f){f.Leb="asl_start";f.Jeb="asl_comp";f.e7b="asl_exc";f.Keb="asl_fail";f.Elb="stf_creat";f.jib="idb_open";f.gib="idb_block";f.qib="idb_upgr";f.pib="idb_succ";f.hib="idb_error";f.iib="idb_invalid_state";f.lib="idb_open_timeout";f.nib="idb_open_wrkarnd";f.oib="idb_storelen_exc";f.kib="idb_open_exc";f.mib="idb_timeout_invalid_storelen";f.mjb="msl_load_data";f.ojb="msl_load_no_data";f.njb="msl_load_failed";})(r=b.hj || (b.hj={}));(function(f){f.Wca="PlaybackRequestStart";f.Vca="PlaybackRequestEnd";f.w_="RequestPrefetchManifestStart";f.v_="RequestPrefetchManifestEnd";f.u_="RequestManifestStart";f.t_="RequestManifestEnd";f.s_="RequestLicenseStart";f.r_="RequestLicenseEnd";f.MO="RequestTimedTextUrlStart";f.LO="RequestTimedTextUrlEnd";f.KO="RequestAudioUrlStart";f.JO="RequestAudioUrlEnd";f.OO="RequestVideoUrlStart";f.NO="RequestVideoUrlEnd";f.daa="AppendBufferStart";f.caa="AppendBufferEnd";f.Rda="SetMediaKeysStart";f.Qda="SetMediaKeysEnd";f.SY="GenerateChallengeStart";f.RY="GenerateChallengeEnd";f.$X="ApplyLicenseStart";f.ZX="ApplyLicenseEnd";})(b.Na || (b.Na={}));b.om=a;a.dca=c;a.LTa=function(f){return ["STANDARD","LIMITED","PREVIEW"][f];};a.hj=r;a.bP=k;},68172:function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.xw=b.uCa=b.tCa=b.yba=b.sCa=b.OY=b.ZZ=b.NZ=b.rCa=b.R=b.U=void 0;(function(k){k[k.Eo=7001]="UNKNOWN";k[k.BMa=7002]="UNHANDLED_EXCEPTION";k[k.tib=7003]="INIT_COMPONENT_LOG_TO_REMOTE";k[k.Uhb=7004]="HLS_NOT_SUPPORTED";k[k.Sba=7010]="INIT_ASYNCCOMPONENT";k[k.xib=7011]="INIT_HTTP";k[k.rib=7014]="INIT_BADMOVIEID";k[k.jEa=7020]="INIT_PLAYBACK_LOCK";k[k.kEa=7022]="INIT_SESSION_LOCK";k[k.yib=7029]="INIT_POSTAUTHORIZE";k[k.iEa=7031]="INIT_HEADER_MEDIA";k[k.zib=7034]="INIT_TIMEDTEXT_TRACK";k[k.Deb=7037]="ASE_SESSION_ERROR";k[k.Ceb=7038]="ASE_SEEK_THREW";k[k.Eeb=7039]="ASE_SKIPPED_THREW";k[k.uib=7041]="INIT_CORE_OBJECTS1";k[k.vib=7042]="INIT_CORE_OBJECTS2";k[k.wib=7043]="INIT_CORE_OBJECTS3";k[k.cEa=7053]="INIT_COMPONENT_STORAGE";k[k.dEa=7054]="INIT_COMPONENT_STORAGELOCK";k[k.$Da=7058]="INIT_COMPONENT_MAINTHREADMONITOR";k[k.Tba=7059]="INIT_COMPONENT_DEVICE";k[k.aEa=7063]="INIT_COMPONENT_MSL";k[k.ZDa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";k[k.zz=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";k[k.hEa=7083]="INIT_COMPONENT_WEBCRYPTO";k[k.YDa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";k[k.WDa=7088]="INIT_COMPONENT_BATTERY_MANAGER";k[k.VDa=7089]="INIT_COMPONENT_ASE";k[k.zI=7091]="INIT_COMPONENT_DRM_CACHE";k[k.sib=7092]="INIT_COMPONENT_DRM";k[k.XDa=7094]="INIT_COMPONENT_FTL";k[k.bEa=7095]="INIT_COMPONENT_PREPARE_MODEL";k[k.eEa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";k[k.fEa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";k[k.gEa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";k[k.EI=7111]="MANIFEST";k[k.Zib=7114]="MANIFEST_MISTMATCH";k[k.JFa=7117]="MANIFEST_VERIFY";k[k.Clb=7120]="START";k[k.BI=7121]="LICENSE";k[k.Kda=7122]="RELEASE";k[k.Dlb=7123]="STOP";k[k.$ba=7125]="KEEPALIVE";k[k.rkb=7131]="PING";k[k.Chb=7134]="ENGAGE";k[k.Vib=7137]="LOGBLOB";k[k.v$b=7138]="PAUSE";k[k.L$b=7139]="RESUME";k[k.PKa=7140]="SPLICE";k[k.ifb=7142]="BIND";k[k.jfb=7144]="BIND_DEVICE";k[k.Phb=7145]="GENERATE_SCREENSHOTS";k[k.Pxa=7146]="AD_EVENT";k[k.vkb=7202]="PLAY_INIT_EXCEPTION";k[k.Xca=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";k[k.Bkb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";k[k.JHa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";k[k.Ckb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";k[k.Yca=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";k[k.Akb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";k[k.NHa=7351]="PLAY_MSE_NOTSUPPORTED";k[k.IHa=7353]="PLAY_MSE_DECODER_TIMEOUT";k[k.Zca=7355]="PLAY_MSE_SOURCEADD";k[k.HHa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";k[k.HP=7357]="PLAY_MSE_GENERATEKEYREQUEST";k[k.MHa=7361]="PLAY_MSE_EVENT_ERROR";k[k.LI=7362]="PLAY_MSE_SETMEDIAKEYS";k[k.fq=7363]="PLAY_MSE_EVENT_KEYERROR";k[k.Ekb=7364]="PLAY_MSE_EME_SESSION_CLOSE";k[k.Fkb=7365]="PLAY_MSE_GETCURRENTTIME";k[k.Gkb=7367]="PLAY_MSE_SETCURRENTTIME";k[k.Hkb=7371]="PLAY_MSE_SOURCEAPPEND";k[k.Lkb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";k[k.Kkb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";k[k.Jkb=7377]="PLAY_MSE_UNEXPECTED_REWIND";k[k.Ikb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";k[k.OHa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";k[k.wkb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";k[k.xkb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";k[k.ykb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";k[k.KHa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";k[k.Dkb=7395]="PLAY_MSE_EME_MISSING_PSSH";k[k.LHa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";k[k.zkb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";k[k.j_=7399]="PLAY_MSE_SET_LICENSE_ERROR";k[k.dCa=7400]="EXTERNAL";k[k.i_=7500]="PAUSE_TIMEOUT";k[k.PZ=7502]="INACTIVITY_TIMEOUT";k[k.Neb=7510]="AUTHORIZATION_EXPIRED";k[k.uhb=7700]="EME_INVALID_KEYSYSTEM";k[k.QBa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";k[k.VO=7702]="EME_CREATE_MEDIAKEYS_FAILED";k[k.MY=7703]="EME_GENERATEREQUEST_FAILED";k[k.XBa=7704]="EME_UPDATE_FAILED";k[k.VBa=7705]="EME_KEYSESSION_ERROR";k[k.UBa=7706]="EME_KEYMESSAGE_EMPTY";k[k.yhb=7707]="EME_REMOVE_FAILED";k[k.whb=7708]="EME_LOAD_FAILED";k[k.qhb=7709]="EME_CREATE_SESSION_FAILED";k[k.tba=7710]="EME_LDL_RENEWAL_ERROR";k[k.SBa=7711]="EME_INVALID_INITDATA_DATA";k[k.TBa=7712]="EME_INVALID_LICENSE_DATA";k[k.vhb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";k[k.PBa=7716]="EME_CLOSE_FAILED";k[k.uba=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";k[k.Ahb=7718]="EME_SET_SERVER_CERTIFICATE";k[k.skb=7800]="PLAYDATA_STORE_FAILURE";k[k.EO=7900]="BRANCH_PLAY_FAILURE";k[k.FO=7901]="BRANCH_QUEUE_FAILURE";k[k.nza=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";k[k.qfb=7903]="BRANCH_CHOICE_MAP_MISSING";k[k.ckb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.U || (b.U={}));(function(k){k[k.Eo=1001]="UNKNOWN";k[k.nl=1003]="EXCEPTION";k[k.Cib=1004]="INVALID_DI";k[k.Heb=1011]="ASYNCLOAD_EXCEPTION";k[k.Ieb=1013]="ASYNCLOAD_TIMEOUT";k[k.d7b=1015]="ASYNCLOAD_BADCONFIG";k[k.Feb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";k[k.Geb=1017]="ASYNCLOAD_COMPONENT_MISSING";k[k.gP=1101]="HTTP_UNKNOWN";k[k.Qba=1102]="HTTP_XHR";k[k.dP=1103]="HTTP_PROTOCOL";k[k.cP=1104]="HTTP_OFFLINE";k[k.fP=1105]="HTTP_TIMEOUT";k[k.cD=1106]="HTTP_READTIMEOUT";k[k.bD=1107]="HTTP_ABORT";k[k.wDa=1108]="HTTP_PARSE";k[k.sDa=1110]="HTTP_BAD_URL";k[k.eP=1111]="HTTP_PROXY";k[k.xca=1203]="MSE_AUDIO";k[k.yca=1204]="MSE_VIDEO";k[k.hjb=1250]="MSE_MEDIA_ERR_BASE";k[k.v9b=1251]="MSE_MEDIA_ERR_ABORTED";k[k.y9b=1252]="MSE_MEDIA_ERR_NETWORK";k[k.w9b=1253]="MSE_MEDIA_ERR_DECODE";k[k.z9b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";k[k.x9b=1255]="MSE_MEDIA_ERR_ENCRYPTED";k[k.Ir=1260]="EME_MEDIA_KEYERR_BASE";k[k.u8b=1261]="EME_MEDIA_KEYERR_UNKNOWN";k[k.p8b=1262]="EME_MEDIA_KEYERR_CLIENT";k[k.t8b=1263]="EME_MEDIA_KEYERR_SERVICE";k[k.s8b=1264]="EME_MEDIA_KEYERR_OUTPUT";k[k.r8b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";k[k.q8b=1266]="EME_MEDIA_KEYERR_DOMAIN";k[k.v8b=1269]="EME_MEDIA_UNAVAILABLE_CDM";k[k.thb=1270]="EME_INTERNAL_ERROR";k[k.phb=1271]="EME_CLOSED_BY_APPLICATION";k[k.xhb=1272]="EME_RELEASE_ACKNOWLEDGED";k[k.sba=1273]="EME_HARDWARE_CONTEXT_RESET";k[k.zhb=1274]="EME_RESOURCE_EVICTED";k[k.shb=1280]="EME_ERROR_NODRMSESSSION";k[k.rhb=1281]="EME_ERROR_NODRMREQUESTS";k[k.m8b=1282]="EME_ERROR_INDIV_FAILED";k[k.n8b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";k[k.Bhb=1284]="EME_TIMEOUT_MESSAGE";k[k.w8b=1285]="EME_TIMEOUT_KEYCHANGE";k[k.WBa=1286]="EME_UNDEFINED_DATA";k[k.tI=1287]="EME_INVALID_STATE";k[k.o8b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";k[k.RBa=1289]="EME_EMPTY_DATA";k[k.WO=1290]="EME_TIMEOUT";k[k.O9b=1303]="NCCP_METHOD_NOT_SUPPORTED";k[k.R9b=1305]="NCCP_PARSEXML";k[k.Okb=1309]="PROCESS_EXCEPTION";k[k.Q9b=1311]="NCCP_NETFLIXID_MISSING";k[k.S9b=1312]="NCCP_SECURENETFLIXID_MISSING";k[k.L9b=1313]="NCCP_HMAC_MISSING";k[k.K9b=1315]="NCCP_HMAC_MISMATCH";k[k.J9b=1317]="NCCP_HMAC_FAILED";k[k.I9b=1321]="NCCP_CLIENTTIME_MISSING";k[k.H9b=1323]="NCCP_CLIENTTIME_MISMATCH";k[k.OCa=1331]="GENERIC";k[k.yjb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";k[k.zjb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";k[k.T9b=1341]="NCCP_TRANSACTION";k[k.M9b=1343]="NCCP_INVALID_DRMTYPE";k[k.N9b=1344]="NCCP_INVALID_LICENCE_RESPONSE";k[k.P9b=1345]="NCCP_MISSING_PAYLOAD";k[k.A$b=1346]="PROTOCOL_NOT_INITIALIZED";k[k.z$b=1347]="PROTOCOL_MISSING_FIELD";k[k.y$b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";k[k.Nw=1402]="STORAGE_NODATA";k[k.U$b=1403]="STORAGE_EXCEPTION";k[k.bac=1405]="STORAGE_QUOTA_NOT_GRANTED";k[k.cac=1407]="STORAGE_QUOTA_TO_SMALL";k[k.SKa=1411]="STORAGE_LOAD_ERROR";k[k.Flb=1412]="STORAGE_LOAD_TIMEOUT";k[k.TKa=1414]="STORAGE_SAVE_ERROR";k[k.Ilb=1415]="STORAGE_SAVE_TIMEOUT";k[k.Uda=1417]="STORAGE_DELETE_ERROR";k[k.RKa=1418]="STORAGE_DELETE_TIMEOUT";k[k.aac=1421]="STORAGE_FS_REQUESTFILESYSTEM";k[k.Y$b=1423]="STORAGE_FS_GETDIRECTORY";k[k.$$b=1425]="STORAGE_FS_READENTRIES";k[k.V$b=1427]="STORAGE_FS_FILEREAD";k[k.X$b=1429]="STORAGE_FS_FILEWRITE";k[k.W$b=1431]="STORAGE_FS_FILEREMOVE";k[k.Z$b=1432]="STORAGE_FS_PARSEJSON";k[k.Hlb=1451]="STORAGE_NO_LOCALSTORAGE";k[k.Glb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";k[k.c$b=1501]="NTBA_UNKNOWN";k[k.b$b=1502]="NTBA_EXCEPTION";k[k.Y9b=1504]="NTBA_CRYPTO_KEY";k[k.$9b=1506]="NTBA_CRYPTO_OPERATION";k[k.Z9b=1508]="NTBA_CRYPTO_KEYEXCHANGE";k[k.a$b=1515]="NTBA_DECRYPT_UNSUPPORTED";k[k.VAa=1553]="DEVICE_NO_ESN";k[k.ygb=1555]="DEVICE_ERROR_GETTING_ESN";k[k.Y8b=1701]="FORMAT_UNKNOWN";k[k.Khb=1713]="FORMAT_XML";k[k.Z8b=1715]="FORMAT_XML_CONTENT";k[k.W8b=1721]="FORMAT_BASE64";k[k.X8b=1723]="FORMAT_DFXP";k[k.eib=1801]="INDEXDB_OPEN_EXCEPTION";k[k.TDa=1802]="INDEXDB_NOT_SUPPORTED";k[k.dib=1803]="INDEXDB_OPEN_ERROR";k[k.UDa=1804]="INDEXDB_OPEN_NULL";k[k.cib=1805]="INDEXDB_OPEN_BLOCKED";k[k.fib=1807]="INDEXDB_OPEN_TIMEOUT";k[k.bib=1808]="INDEXDB_INVALID_STORE_STATE";k[k.QZ=1809]="INDEXDB_ACCESS_EXCEPTION";k[k.rjb=1901]="MSL_UNKNOWN";k[k.kjb=1911]="MSL_INIT_NO_MSL";k[k.QFa=1913]="MSL_INIT_ERROR";k[k.ljb=1915]="MSL_INIT_NO_WEBCRYPTO";k[k.ijb=1931]="MSL_ERROR";k[k.qjb=1933]="MSL_REQUEST_TIMEOUT";k[k.pjb=1934]="MSL_READ_TIMEOUT";k[k.jjb=1935]="MSL_ERROR_HEADER";k[k.A9b=1936]="MSL_ERROR_ENVELOPE";k[k.B9b=1937]="MSL_ERROR_MISSING_PAYLOAD";k[k.PFa=1957]="MSL_ERROR_REAUTH";k[k.uea=2103]="WEBCRYPTO_MISSING";k[k.Hac=2105]="WEBCRYPTOKEYS_MISSING";k[k.gmb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";k[k.I7b=2200]="CACHEDDATA_PARSEJSON";k[k.Qza=2201]="CACHEDDATA_UNSUPPORTED_VERSION";k[k.J7b=2202]="CACHEDDATA_UPGRADE_FAILED";k[k.vz=2203]="CACHEDDATA_INVALID_FORMAT";k[k.a7b=3E3]="ACCOUNT_CHANGE_INFLIGHT";k[k.b7b=3001]="ACCOUNT_INVALID";k[k.f8b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";k[k.e8b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";k[k.c8b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";k[k.d8b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";k[k.b8b=3202]="DOWNLOADED_LICENSE_EXCEPTION";k[k.dac=3300]="STORAGE_VA_LOAD_ERROR";k[k.eac=3301]="STORAGE_VA_LOAD_TIMEOUT";k[k.hac=3302]="STORAGE_VA_SAVE_ERROR";k[k.iac=3303]="STORAGE_VA_SAVE_TIMEOUT";k[k.fac=3304]="STORAGE_VA_REMOVE_ERROR";k[k.gac=3305]="STORAGE_VA_REMOVE_TIMEOUT";k[k.Uca=3077]="PBO_DEVICE_EOL_WARNING";k[k.zHa=3078]="PBO_DEVICE_EOL_FINAL";k[k.CHa=3100]="PBO_DEVICE_RESET";k[k.BHa=3101]="PBO_DEVICE_RELOAD";k[k.AHa=3102]="PBO_DEVICE_EXIT";k[k.pkb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";k[k.Tjb=5005]="PBO_ACCOUNT_ON_HOLD";k[k.bkb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";k[k.DHa=5007]="PBO_INCORRECT_PIN";k[k.mkb=5008]="PBO_MOBILE_ONLY";k[k.qkb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";k[k.Ujb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";k[k.Xjb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";k[k.Vjb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";k[k.Wjb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";k[k.Yjb=5014]="PBO_ADS_VPN_USE_DETECTED";k[k.jkb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";k[k.ikb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";k[k.gkb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";k[k.$jb=5059]="PBO_BLACKLISTED_IP";k[k.Zjb=5070]="PBO_AGE_VERIFICATION_REQUIRED";k[k.akb=5080]="PBO_CHOICE_MAP_ERROR";k[k.nkb=5090]="PBO_RESTRICTED_TO_TESTERS";k[k.kkb=5091]="PBO_MALFORMED_REQUEST";k[k.hkb=5092]="PBO_INVALID_SERVICE_VERSION";k[k.lkb=5093]="PBO_MDX_INVALID_CTICKET";k[k.fkb=5094]="PBO_FREE_PREVIEW_ENDED";k[k.okb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";k[k.ekb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";k[k.dkb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";k[k.tgb=5100]="DECODER_TIMEOUT_BUFFERING";k[k.vgb=5101]="DECODER_TIMEOUT_PRESENTING";k[k.ugb=5102]="DECODER_TIMEOUT_PLAYING";k[k.Zgb=5200]="DOWNLOADER_IO_ERROR";k[k.mza=5300]="BRANCHING_SEGMENT_NOTFOUND";k[k.mfb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";k[k.n7b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";k[k.Haa=5303]="BRANCHING_ASE_UNINITIALIZED";k[k.j7b=5304]="BRANCHING_ASE_FAILURE";k[k.k7b=5305]="BRANCHING_MOMENT_FAILURE";k[k.kfb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";k[k.m7b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";k[k.nfb=5308]="BRANCHING_SEEK_THREW";k[k.l7b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";k[k.lfb=5310]="BRANCHING_PLAY_TIMEDOUT";k[k.ofb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";k[k.pfb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";k[k.Jlb=5500]="STUDIO_MUXED_MANIFEST";k[k.tca=5600]="MANIFEST_HYDRATION_FAILURE";k[k.Oeb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";k[k.Peb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";})(c=b.R || (b.R={}));(function(k){k[k.y7b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";k[k.o7b=5005]="BR_ACCOUNT_ON_HOLD";k[k.s7b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";k[k.v7b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";k[k.r7b=5059]="BR_BLACKLISTED_IP";k[k.p7b=5070]="BR_AGE_VERIFICATION_REQUIRED";k[k.w7b=2204]="BR_PLAYBACK_CONTEXT_CREATION";k[k.t7b=2205]="BR_DRM_LICENSE_AQUISITION";k[k.x7b=2206]="BR_PLAYBACK_SERVICE_ERROR";k[k.u7b=2207]="BR_ENDPOINT_ERROR";k[k.q7b=2208]="BR_AUTHORIZATION_ERROR";})(b.rCa || (b.rCa={}));b.NZ={xfb:"400",Cac:"401",WHa:"413"};b.ZZ={U8b:1,uac:2,z8b:3,Aac:4,m9b:5,y8b:6,pea:7,B8b:8,K$b:9,R$b:10};b.OY=function(k,f,l,d){return k == a.i_ || k == a.PZ || k == a.Xca && 432E5 <= l || k == a.uba && f === c.sba && 0 < Number(d);};b.sCa=function(k){return 1100 <= k && 1199 >= k;};b.yba=function(k,f){return 1 <= k && 9 >= k?f + k:f;};b.tCa=function(k){return (0,b.yba)(k,c.hjb);};b.uCa=function(k){return (0,b.yba)(k,c.Ir);};b.xw=function(k){var f,l,d;f={};l=k.errorExternalCode || k.Ee;d=k.errorDetails || k.Jb;f.ErrorSubCode=k.errorSubCode || k.xa || c.Eo;l && (f.ErrorExternalCode=l);d && (f.ErrorDetails=d);return f;};},10787:function(r,b,a){var k,f,l,d;function c(g,n){this.qa=g;this.k4=this.qa.fe.ba(l.oa) - 1;this.bPb=this.j6=0;this.id="" + n.FA();}Object.defineProperty(b,"__esModule",{value:!0});b.Dya=void 0;r=a(70655);k=a(86700);f=a(35664);l=a(2467);a=a(24166);c.prototype.Eb=function(){var g,n;g=this.qa.fe.ba(l.oa) - this.k4;if(g < this.j6){n=this.j6 + 1;this.k4-=n - g;g=n;}this.j6=g;return (0,l.Kb)(this.j6);};c.prototype.UHb=function(){return this.bPb++;};Wa.Object.defineProperties(c.prototype,{my:{configurable:!0,enumerable:!0,get:function(){return (0,l.Kb)(this.k4);}}});d=c;d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.gg)),r.__param(1,(0,k.l)(a.zw))],d);b.Dya=d;},52275:function(r,b,a){var k,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Iaa=void 0;r=a(70655);a=a(86700);k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(l){for(var d=new Uint8Array(l.length / 2),g=0;g < d.length;g++){d[g]=this.Xbb(l.substr(2 * g,2));}return d;};c.prototype.encode=function(l){var h;for(var d="",g=l.length,n=0;n < g;n++){h=l[n];d+=("0123456789ABCDEF")[h >>> 4] + ("0123456789ABCDEF")[h & 15];}return d;};c.prototype.pF=function(l,d){var g;g="";for(d<<=1;d--;){g=(("0123456789ABCDEF")[l & 15] || "0") + g;l>>>=4;}return g;};c.prototype.Xbb=function(l){var d;d=l.length;if(7 < d)throw Error("hex to long");for(var g=0,n=0;n < d;n++){g=16 * g + k[l[n]];}return g;};f=c;f=r.__decorate([(0,a.T)()],f);b.Iaa=f;},81880:function(r,b,a){var k,f,l,d,g,n,h,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rza=void 0;r=a(70655);a=a(86700);f=Array.prototype.slice;l=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");f=f.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};g={};n={};h={};m=/\s+/g;[l,f].forEach(function(p){var u;for(var q=p.length;q--;){u=p[q];d[u]=q << 18;g[u]=q << 12;n[u]=q << 6;h[u]=q;}});c.prototype.encode=function(p){return k.xka(p,l,"=");};c.prototype.decode=function(p){return k.Jja(p);};c.Jja=function(p){var q,u,t;p=p.replace(m,"");q=p.length;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=p.charAt(q - 1);"=" !== u && "." !== u || q--;u=3 * (q >> 2);t=0;switch(q % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(u + t);for(var w=0,v=0,y;v < u;){y=d[p[w++]] + g[p[w++]] + n[p[w++]] + h[p[w++]];if(!(0 <= y && 16777215 >= y))throw Error("bad base64");q[v++]=y >>> 16;q[v++]=y >>> 8 & 255;q[v++]=y & 255;}if(0 < t && (y=d[p[w++]] + g[p[w++]],q[v++]=y >>> 16,1 < t && (y+=n[p[w++]],q[v++]=y >>> 8 & 255),!(0 <= y && 16776960 >= y && 0 === (y & (1 < t?255:65535)))))throw Error("bad base64");return q;};c.xka=function(p,q,u){for(var t="",w=0,v=p.length,y=v - 2,x;w < y;){x=(p[w++] << 16) + (p[w++] << 8) + p[w++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");t+=q[x >>> 18] + q[x >>> 12 & 63] + q[x >>> 6 & 63] + q[x & 63];}if(w == y){x=(p[w++] << 8) + p[w++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");t+=q[x >>> 10] + q[x >>> 4 & 63] + q[x << 2 & 63] + u;}else if(w == v - 1){x=p[w++];if(!(0 <= x && 255 >= x))throw Error("not bytes");t+=q[x >>> 2] + q[x << 4 & 63] + u + u;}return t;};f=k=c;f=k=r.__decorate([(0,a.T)()],f);b.rza=f;},19604:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p){this.userAgentData=p;this.nd=this.ODb(h,m.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.MMa=b.Gza=void 0;r=a(70655);k=a(86700);f=a(17244);l=a(59578);d=a(63088);a=a(64615);c.prototype.W4=function(h,m){var p;if(m=this.MJb(m))switch(h){case n.ry:p=0 < m.length?Number(m[0]):0;break;case n.jM:p=1 < m.length?Number(m[1]):0;break;case n.CM:p=2 < m.length?Number(m[2]):0;break;case n.g9:p=3 < m.length?Number(m[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.MJb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.WF=function(h){return this.nd.name === h;};c.prototype.YF=function(h){return this.nd.X7.name === h;};c.prototype.KMb=function(h){return this.nd.pKb === h;};c.prototype.ODb=function(h,m){return Object.assign(Object.assign({pKb:this.QDb(h,m)},this.NDb(h,m)),{X7:this.RDb(h,m)});};c.prototype.QDb=function(h,m){return m && m.hardware?m.hardware:(/Mobile|iPhone/).test(h)?f.MZ.phone:(/Android/).test(h)?f.MZ.D2b:f.MZ.pwb;};c.prototype.NDb=function(h,m){return m && m.name && m.version?{name:m.name,version:m.version}:(/OPR/).test(h)?{name:f.mm.opera,version:""}:(/Tesla/).test(h)?{name:f.mm.xbb,version:""}:(m=h.match(/Edge\/(\d*)\./))?{name:f.mm.ip,version:m[1]}:(m=h.match(/Edg\/(\d*)\./))?{name:f.mm.LVa,version:m[1]}:(m=h.match(/Chrome\/(\d*)\./))?{name:f.mm.Aia,version:m[1]}:(m=h.match(/Firefox\/(\d*)\./))?{name:f.mm.nXa,version:m[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:f.mm.D9a,version:h[1]}:{name:f.mm.Aia,version:""};};c.prototype.RDb=function(h,m){return m && m.os && m.os.name && m.os.version?{name:m.os.name,version:m.os.version}:(/CrOS/).test(h)?{name:f.pn.ISa,version:""}:(m=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:f.pn.l3a,version:m[1] + "." + m[2] + "." + m[3]}:(/Windows NT/).test(h)?{name:f.pn.Kxa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:f.pn.$ga,version:""}:(/Linux/).test(h)?{name:f.pn.K2a,version:""}:(/iPhone/).test(h)?{name:f.pn.Z0a,version:""}:{name:f.pn.Kxa,version:""};};Wa.Object.defineProperties(c.prototype,{j1a:{configurable:!0,enumerable:!0,get:function(){return this.WF(f.mm.Aia);}},ZT:{configurable:!0,enumerable:!0,get:function(){return this.WF(f.mm.ip);}},hy:{configurable:!0,enumerable:!0,get:function(){return this.WF(f.mm.LVa);}},O5:{configurable:!0,enumerable:!0,get:function(){return this.WF(f.mm.nXa);}},Goa:{configurable:!0,enumerable:!0,get:function(){return this.WF(f.mm.opera);}},dU:{configurable:!0,enumerable:!0,get:function(){return this.WF(f.mm.D9a);}},H1a:{configurable:!0,enumerable:!0,get:function(){return this.WF(f.mm.xbb);}},VT:{configurable:!0,enumerable:!0,get:function(){return this.YF(f.pn.$ga);}},IL:{configurable:!0,enumerable:!0,get:function(){return this.YF(f.pn.Z0a);}},I5:{configurable:!0,enumerable:!0,get:function(){return this.YF(f.pn.$ga) && this.KMb(f.MZ.phone);}},XT:{configurable:!0,enumerable:!0,get:function(){return this.YF(f.pn.ISa);}},QMb:{configurable:!0,enumerable:!0,get:function(){return this.YF(f.pn.K2a);}},AB:{configurable:!0,enumerable:!0,get:function(){return this.YF(f.pn.l3a);}},iy:{configurable:!0,enumerable:!0,get:function(){return this.YF(f.pn.Kxa);}},An:{configurable:!0,enumerable:!0,get:function(){return this.W4(n.ry,this.nd.version);}},FTb:{configurable:!0,enumerable:!0,get:function(){return this.W4(n.ry,this.nd.X7.version);}},GTb:{configurable:!0,enumerable:!0,get:function(){return this.W4(n.jM,this.nd.X7.version);}},HTb:{configurable:!0,enumerable:!0,get:function(){return this.W4(n.CM,this.nd.X7.version);}}});g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.GMa)),r.__param(1,(0,k.l)(l.iP)),r.__param(2,(0,k.l)(a.T_))],g);b.Gza=g;(function(h){h[h.ry=0]="major";h[h.jM=1]="minor";h[h.CM=2]="patch";h[h.g9=3]="revision";})(n=b.MMa || (b.MMa={}));},85121:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t;function c(w,v,y,x,z,A){this.el=w;this.config=y;this.lo=x;this.qa=z;this.is=A;this.log=v.Ua("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.kAa=b.Waa=void 0;r=a(70655);f=a(86700);l=a(68172);d=a(71163);g=a(2467);n=a(7336);h=a(17244);m=a(29853);p=a(35664);q=a(89542);u=a(13329);t=a(85060);b.Waa="errors";c.prototype.load=function(){var w,v;w=this;if(!this.config().VVa)return Promise.resolve([]);v=(0,g.Kb)(this.config().fub);return this.lo.Np(v,this.O2a([])).catch(function(y){w.log.error("Load failed.",y);return [];});};c.prototype.add=function(w,v,y,x,z){var A;A=this;return this.config().VVa && v && y && (v === u.eb.nda || v === u.eb.Y_ + "." + t.au)?this.O2a([{time:w,keySystem:v,code:y,ic:x,Qc:z}]).then(function(){}).catch(function(B){A.log.error("Add failed.",B);}):Promise.resolve();};c.prototype.OOb=function(){var w;w=this;return this.el.create().then(function(v){return v.load(b.Waa).then(function(y){var x;return (null === (x=y.value) || void 0 === x?void 0:x.errors) || [];}).catch(function(y){if(y.xa === l.R.Nw)return (w.log.warn("No CachedErrors."),[]);throw y;});});};c.prototype.yFb=function(w){return {time:(0,g.uh)(w[0]),keySystem:w[1],code:w[2],ic:w[3],Qc:w[4]};};c.o3b=function(w){return [w.time.ba(g.sm),w.keySystem,w.code,w.ic,w.Qc];};c.prototype.xZb=function(w){var v;v={version:1,errors:w.map(k.o3b)};return this.el.create().then(function(y){return y.save(b.Waa,v,!1);}).then(function(){return w;});};c.prototype.mEb=function(w){var v,y;v=(0,g.uh)(this.config().eub);y=this.qa.fe.wa(v);return w.filter(function(x){return x.time.wa(y).C1a();});};c.prototype.B5b=function(w){return w.filter(this.wMb.bind(this)).map(this.yFb);};c.prototype.wMb=function(w){return this.is.Zj(w[0]) && this.is.Vo(w[1]) && this.is.Zj(w[2]) && (this.is.Zj(w[3]) || void 0 === w[3]) && (this.is.Vo(w[4]) || void 0 === w[4])?!0:!1;};c.prototype.hEb=function(w){var v;v=this;return w.filter(function(y){return v.config().qDb.includes(y.code);});};c.prototype.iEb=function(w){return w.slice(-this.config().cub);};c.prototype.O2a=function(w){var v;v=this;return this.OOb().then(function(y){return v.B5b(y);}).then(function(y){return v.mEb(y);}).then(function(y){return y.concat(w);}).then(function(y){return v.hEb(y);}).then(function(y){return v.iEb(y);}).then(function(y){return v.xZb(y);});};a=k=c;a=k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(n.kw)),r.__param(1,(0,f.l)(d.Xa)),r.__param(2,(0,f.l)(h.ac)),r.__param(3,(0,f.l)(m.Jz)),r.__param(4,(0,f.l)(p.gg)),r.__param(5,(0,f.l)(q.Wf))],a);b.kAa=a;},56003:function(r,b,a){var k;function c(f,l,d,g,n,h,m,p,q,u,t,w){this.code=void 0 === f?k.U.Eo:f;this.ic=l;this.Qc=d;this.Nm=g;this.xy=n;this.message=h;this.details=m;this.data=p;this.uj=q;this.RUb=u;this.alert=t;this.Tga=w;this.ia=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Mc=void 0;k=a(68172);c.ue=function(f){var l,d,g;if(f){l=f.stack;d=f.number;g=f.message;g || (g="" + f);l?(f="" + l,0 !== f.indexOf(g) && (f=g + "\n" + f)):f=g;d && (f+="\nnumber:" + d);return f;}return "";};c.prototype.hS=function(f){this.details=c.ue(f);this.data=f;};c.prototype.toString=function(){return JSON.stringify(this.toJSON());};c.prototype.toJSON=function(){return {code:this.code,subCode:this.ic,extCode:this.Qc,edgeCode:this.Nm,mslCode:this.xy,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.uj,playbackServiceError:this.RUb};};c.Kla=function(f,l){return new c(f,k.R.nl,void 0,void 0,void 0,void 0,l.message,l.stack);};c.eeb=function(f,l){return new c(f,l,void 0,void 0,void 0,void 0,void 0,void 0);};c.s6b=function(f,l,d){return new c(f,l,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.Mc=c;},77300:function(r,b,a){var k,f,l,d;function c(g){return f.GO.call(this,g,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yAa=void 0;r=a(70655);k=a(54662);f=a(90187);l=a(86700);a=a(59578);ia(c,f.GO);Wa.Object.defineProperties(c.prototype,{qdb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([k.config(k.Pc,"usePerformanceApi")],d.prototype,"qdb",null);d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Zaa))],d);b.yAa=d;},14600:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p,q,u){var t;t=this;this.config=m;this.Mzb=p;this.Db=q;this.performance=u;this.mTb=function(w){t.dva=w.wa(t.fe);};(0,k.$n)(this,"date");(0,k.$n)(this,"performance");this.Arb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.dva=f.Ia;this.Db.addListener(h.Xba.g$a,this.mTb);}Object.defineProperty(b,"__esModule",{value:!0});b.AAa=void 0;r=a(70655);k=a(60920);f=a(2467);l=a(86700);d=a(63088);g=a(69716);n=a(1265);h=a(34202);c.prototype.irb=function(m){return m.add(this.dva);};Wa.Object.defineProperties(c.prototype,{fe:{configurable:!0,enumerable:!0,get:function(){return this.K4a?(0,f.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,f.Kb)(this.Mzb.now());}},oH:{configurable:!0,enumerable:!0,get:function(){return this.fe.add(this.dva);}},K4a:{configurable:!0,enumerable:!0,get:function(){return this.config.qdb && this.Arb;}}});a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(g.zAa)),r.__param(1,(0,l.l)(d.bBa)),r.__param(2,(0,l.l)(n.Eba)),r.__param(3,(0,l.l)(d.jda)),r.__param(3,(0,l.optional)())],a);b.AAa=a;},81454:function(r,b,a){var k,f,l,d;function c(g,n){this.is=g;this.Yd=n;}Object.defineProperty(b,"__esModule",{value:!0});b.PAa=void 0;r=a(70655);f=a(86700);l=a(89542);a=a(89682);c.prototype.encode=function(g){var n,h;n=this;h="";this.Yd.XA(g,function(m,p){m=n.mWa(m) + "=" + n.mWa(p);h=h?h + ("," + m):m;});return h;};c.prototype.mWa=function(g){return this.is.VE(g)?this.is.Zj(g)?"" + g:this.is.Vo(g)?(g=g.replace(k.Dta,this.Upa.bind(this)),!k.XWb.test(g) && k.sRb.test(g) && (g='"' + g + '"'),g):this.is.m1(g)?"" + g:this.is.mga(g)?"NaN":"":"";};c.prototype.Upa=function(g){return k.map[g];};d=k=c;d.map={'"':'""',"\r":"","\n":" "};d.Dta=/(?!^.+)["\r\n](?=.+$)/g;d.XWb=/["].*["]/g;d.sRb=/[", ]/;d=k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.Wf)),r.__param(1,(0,f.l)(a.jh))],d);b.PAa=d;},33999:function(r,b,a){var k,f;function c(l,d){this.wc=l;this.M2=d;}Object.defineProperty(b,"__esModule",{value:!0});b.cBa=void 0;r=a(70655);k=a(86700);a=a(65428);c.prototype.Hj=function(l){this.Jg();this.Yi=this.wc.Ij(this.M2,l);};c.prototype.Jg=function(){this.Yi && this.Yi.cancel();this.Yi=void 0;};f=c;f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.Ci))],f);b.cBa=f;},52632:function(r,b,a){var k,f,l,d;function c(g){g=f.GO.call(this,g,"DebugConfigImpl") || this;g.fcc=function(){debugger;};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.dBa=void 0;r=a(70655);k=a(54662);f=a(90187);l=a(86700);a=a(59578);ia(c,f.GO);Wa.Object.defineProperties(c.prototype,{xtb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([k.config(k.Pc,"breakOnError")],d.prototype,"xtb",null);d=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.Zaa))],d);b.dBa=d;},47202:function(r,b,a){var k,f,l,d;function c(g,n,h){this.config=g;this.ub=n;this.la=h.Ua("General");}Object.defineProperty(b,"__esModule",{value:!0});b.gBa=void 0;r=a(70655);k=a(86700);f=a(89542);l=a(78616);a=a(71163);c.prototype.assert=function(){};c.prototype.dsb=function(g,n){this.assert(this.ub.VE(g),n);};c.prototype.esb=function(g,n){this.assert(this.ub.vg(g),n);};c.prototype.Q1=function(g,n){this.assert(this.ub.Vo(g),n);};c.prototype.ksb=function(g,n){this.assert(this.ub.zm(g),n);};c.prototype.isb=function(g,n){this.assert(this.ub.Vo(g) || null === g || void 0 === g,n);};c.prototype.P1=function(g,n){this.assert(this.ub.Zj(g),n);};c.prototype.gsb=function(g,n){this.assert(this.ub.Yga(g),n);};c.prototype.jsb=function(g,n){this.assert(this.ub.oR(g),n);};c.prototype.hsb=function(g,n){this.assert(this.ub.YQ(g),n);};c.prototype.csb=function(g,n){this.assert(this.ub.m1(g),n);};c.prototype.fsb=function(g,n){this.assert(this.ub.o1(g),n);};c.prototype.lMb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.eBa)),r.__param(1,(0,k.l)(f.Wf)),r.__param(2,(0,k.l)(a.Xa))],d);b.gBa=d;},32265:function(r,b,a){var k,f,l,d,g,n,h,m,p;function c(q,u){this.Ea=q;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.iBa=void 0;r=a(70655);f=a(86700);l=a(58998);d=a(56003);g=a(68172);n=a(34202);h=a(2467);m=a(50876);a=a(83577);c.prototype.kVa=function(q){var u,t,w,v,y,x,z,A,B,C;u=this;v=q.mediaTime.value;y=q.sq.value;x=q.lb.value;z=q.state.value;A={segmentId:q.Lma(),mediaTime:v,segmentTime:q.gB(),bufferingState:k.Mtb[y],presentingState:k.YVb[x],playbackState:k.SUb[z],mseBuffersBusy:this.iJb(q),intBuffersBusy:this.CHb(q),tabVisible:this.C2b(),decodedFrameCount:this.iAb(q),videoElementInDom:this.Q5b(q),lastVideoSync:this.Ea.Eb().wa((0,h.Kb)(q.cX)).ba(h.oa)};B=x === n.bb.Gf?q.Wa.bg?this.config.W5a:this.config.V5a:this.config.C4a;if(y !== n.sf.$d){if((y=g.R.tgb,this.JRa(A.mseBuffersBusy,A.intBuffersBusy)))C=k.oza;}else (x !== n.bb.me?y=g.R.vgb:(y=g.R.ugb,(x=q.je) && 0 === x.v4() && (C=k.lmb)),(x=q.je) && x.Pb.sourceBuffers.forEach(function(D){var F,G;F=k.cg[D.mediaType];A[F + "Ranges"]=D.n4();try{G=D.buffered();}catch(E){G=void 0;}G && 0 !== G.length?(D=1E3 * G.end(0) - v,A[F + "Undecoded"]=D,1 < G.length && (C=k.sfb),v < 1E3 * G.start(0) || v > 1E3 * G.end(0)?C=k.tfb:D < B.ba(h.oa)?C=k.ufb:u.JRa(A.mseBuffersBusy,A.intBuffersBusy) && (C=k.oza)):(A[F + "Undecoded"]=0,C=k.rfb);}));x=q.Y8a.a_a();z=v === (null === (t=x.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (w=q.Za) || void 0 === w?void 0:w.Kwa;Object.assign(A,x);q="";try{q=JSON.stringify(A);}catch(D){q="Cannot stringify details: " + D;}return new d.Mc(g.U.IHa,y,C,void 0,void 0,void 0,q,void 0);};c.prototype.iJb=function(q){var u;if(q.Pb){u={};q.Pb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.updating()};});return u;}};c.prototype.CHb=function(q){var u;if(q.Pb){u={};q.Pb.sourceBuffers.forEach(function(t){u[0 === t.type?"audio":"video"]={updating:t.qh()};});return u;}};c.prototype.C2b=function(){return !m.Og.hidden;};c.prototype.iAb=function(q){return (q=q.je) && (q=q.Pb.$) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.Q5b=function(q){if(q=q.je)if(q=q.Pb.$)return m.Og.body.contains(q);return !1;};c.prototype.JRa=function(q,u){var t,w,v,y;return !((null === (t=q.audio) || void 0 === t?void 0:t.updating) === (null === (w=u.audio) || void 0 === w?void 0:w.updating) && (null === (v=q.video) || void 0 === v?void 0:v.updating) === (null === (y=u.video) || void 0 === y?void 0:y.updating));};p=k=c;p.rfb="1";p.sfb="2";p.tfb="3";p.oza="4";p.ufb="5";p.lmb="6";p.cg=["Audio","Video"];p.Mtb=["","NORMAL","BUFFERING","STALLED"];p.YVb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.SUb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.Jc)),r.__param(1,(0,f.l)(a.Ica))],p);b.iBa=p;},56138:function(r,b,a){var k,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.oCa=void 0;r=a(70655);k=a(86700);f=a(99423);c.prototype.MK=function(l,d){var g;g=this;l && Object.entries(d).forEach(function(n){var h,m,p;h=ma(n);n=h.next().value;h=h.next().value;if(g.yMb(h)){m=ma(h);h=m.next().value;p=m.next().value;m=l[h];Array.isArray(m)?(g.Tja(l,n,h),m.forEach(function(q){g.MK(q,p);})):h === f.ij?Object.values(l).forEach(function(q){g.MK(q,p);}):(g.Tja(l,n,h),"object" === typeof m && g.MK(m,p));}else g.Tja(l,n,h);});};c.prototype.yMb=function(l){return Array.isArray(l);};c.prototype.Tja=function(l,d,g){l.hasOwnProperty(d) || d === g || Object.defineProperty(l,d,{get:function(){return l[g];},set:function(n){return l[g]=n;},enumerable:!0});};a=c;a=r.__decorate([(0,k.T)()],a);b.oCa=a;},62380:function(r,b,a){var k,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.XO=b.wCa=void 0;r=a(70655);k=a(661);a=a(86700);c.prototype.create=function(){return new k.Rj();};f=c;f=r.__decorate([(0,a.T)()],f);b.wCa=f;b.XO="EventSourceFactorySymbol";},661:function(r,b,a){var k,f;function c(){this.kp={};this.id="$es$" + k.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Rj=void 0;r=a(70655);a=a(86700);c.prototype.addListener=function(l,d,g){var n,h;n="$netflix$player$order" + this.id + "$" + l;if(this.kp){h=this.kp[l]?this.kp[l].slice():[];g && (d[n]=g);0 > h.indexOf(d) && (h.push(d),h.sort(function(m,p){return (m[n] || 0) - (p[n] || 0);}));this.kp[l]=h;}};c.prototype.removeListener=function(l,d){if(this.kp && this.kp[l]){for(var g=this.kp[l].slice(),n;0 <= (n=g.indexOf(d));){g.splice(n,1);}this.kp[l]=g;}};c.prototype.Dc=function(l,d,g){var n;if(this.kp){n=this.ima(l);for(l={fI:0};l.fI < n.length;(l={fI:l.fI},l.fI++)){g?(function(h){return function(){var m;m=n[h.fI];setTimeout(function(){m(d);},0);};})(l)():n[l.fI].call(this,d);}}};c.prototype.Jg=function(){this.kp=void 0;};c.prototype.on=function(l,d,g){this.addListener(l,d,g);};c.prototype.ima=function(l){var d;return null !== (d=this.kp && (this.kp[l] || (this.kp[l]=[]))) && void 0 !== d?d:[];};f=k=c;f.counter=0;f=k=r.__decorate([(0,a.T)()],f);b.Rj=f;},10846:function(r,b,a){var k,f,l,d,g;function c(n,h){this.qa=n;this.random=h;}Object.defineProperty(b,"__esModule",{value:!0});b.pEa=void 0;r=a(70655);f=a(86700);l=a(2467);d=a(35664);a=a(16690);c.prototype.FA=function(){return this.qa.fe.ba(l.sm) * k.eAa + Math.floor(this.random.random() * k.eAa);};g=k=c;g.eAa=1E8;g=k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.gg)),r.__param(1,(0,f.l)(a.y_))],g);b.pEa=g;},133:function(r,b,a){var k;function c(f,l,d,g,n){this.version=f;this.MG=l;this.cwa=d;this.el=g;this.Kt=n;this.sk=new k.qEa(f,l,d,g,n);this.Fl=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Vba=void 0;k=a(13717);c.prototype.load=function(f){var l;l=this;return this.sk.load(f).then(function(){var d;l.Fl=null !== (d=l.sk.Fl) && void 0 !== d?d:[];});};c.prototype.add=function(f){this.Fl.push(f);return this.sk.set(this.Fl);};c.prototype.remove=function(f,l){f=this.jYa(this.bL(f,l));return 0 <= f?(this.Fl.splice(f,1),this.sk.set(this.Fl)):Promise.resolve();};c.prototype.update=function(f,l){l=this.jYa(this.bL(f,l));return 0 <= l?(this.Fl[l]=f,this.sk.set(this.Fl)):Promise.resolve();};c.prototype.bL=function(f,l){for(var d=0;d < this.Fl.length;++d){if(l(this.Fl[d],f))return this.Fl[d];}};c.prototype.jYa=function(f){return f?this.Fl.indexOf(f):-1;};b.Vba=c;},13717:function(r,b,a){var k,f;function c(l,d,g,n,h){this.version=l;this.MG=d;this.cwa=g;this.el=n;this.Kt=h;}Object.defineProperty(b,"__esModule",{value:!0});b.qEa=void 0;k=a(68172);f=a(56003);c.prototype.load=function(l){return this.NOb(l);};c.prototype.set=function(l){this.Fl=l;return this.zUb();};c.prototype.NOb=function(l){var d;d=this;this.S2a || (this.S2a=new Promise(function(g,n){function h(m){d.IAb().then(function(){n(m);}).catch(function(){n(m);});}d.Zma().then(function(m){d.storage=m;return d.storage.load(d.MG);}).then(function(m){var p;m=m.value;try{p=l(m);d.version=p.version;d.Fl=p.data;g();}catch(q){h(q);}}).catch(function(m){m.xa !== k.R.Nw?n(m):g();});}));return this.S2a;};c.prototype.zUb=function(){var l,d,g,n,h;l=this;if(!this.cwa)return Promise.resolve();if(this.a$){n=new Promise(function(m,p){d=m;g=p;});h=function(){l.a$=n;l.Mab().then(function(){d();}).catch(function(m){g(m);});};this.a$.then(h).catch(h);return n;}return this.a$=this.Mab();};c.prototype.Mab=function(){var l,d;l=this;d=this.Kt();return new Promise(function(g,n){l.Zma().then(function(h){return h.save(l.MG,d,!1);}).then(function(){g();}).catch(function(h){n(c.p3b(k.U.skb,h));});});};c.prototype.IAb=function(){var l;l=this;return this.cwa?new Promise(function(d,g){l.Zma().then(function(n){return n.remove(l.MG);}).then(function(){d();}).catch(function(n){g(n);});}):Promise.resolve();};c.prototype.Zma=function(){return this.storage?Promise.resolve(this.storage):this.el.create();};c.p3b=function(l,d){var g;if(d.xa && d.cc)return new f.Mc(l,d.xa,void 0,void 0,void 0,void 0,void 0,d.cc);if(void 0 !== d.ic){g=d.message?d.message + " ":"";d.code=l;d.message="" === g?void 0:g;return d;}return d instanceof Error?new f.Mc(l,k.R.nl,void 0,void 0,void 0,void 0,d.stack,d):new f.Mc(l,k.R.Eo,void 0,void 0,void 0,void 0,void 0,d);};b.qEa=c;},36447:function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.eD=void 0;c=/^\S+$/;a.prototype.VE=function(k){return void 0 !== k;};a.prototype.vg=function(k){return null !== k && void 0 !== k;};a.prototype.nR=function(k){return a.zQa(k);};a.prototype.nga=function(k){return !(!k || !a.zQa(k));};a.prototype.qA=function(k){return Array.isArray(k);};a.prototype.AQa=function(k){return !(!k || k.constructor != Uint8Array);};a.prototype.Zj=function(k,f,l){return a.EPa(k,f,l);};a.prototype.mga=function(k){return a.mga(k);};a.prototype.Yga=function(k,f,l){return a.E1(k,f,l) && 0 === k % 1;};a.prototype.oR=function(k,f,l){return a.E1(k,f || 0,l);};a.prototype.YQ=function(k){return a.E1(k,1);};a.prototype.Ypb=function(k){return a.E1(k,0,255);};a.prototype.Zpb=function(k){return k === +k && (0 === k || k !== (k | 0)) && !0;};a.prototype.BQa=function(k){return !(!k || !c.test(k));};a.prototype.Vo=function(k){return a.FPa(k);};a.prototype.zm=function(k){return !(!a.FPa(k) || !k);};a.prototype.m1=function(k){return !0 === k || !1 === k;};a.prototype.o1=function(k){return "function" == typeof k;};a.FPa=function(k){return "string" == typeof k;};a.EPa=function(k,f,l){return "number" == typeof k && !isNaN(k) && isFinite(k) && (void 0 === f || k >= f) && (void 0 === l || k <= l);};a.mga=function(k){return "number" == typeof k && isNaN(k);};a.E1=function(k,f,l){return a.EPa(k,f,l) && 0 === k % 1;};a.zQa=function(k){return "object" == typeof k;};b.eD=new a();},14414:function(r,b,a){var k,f,l;function c(d,g){this.zu=g?[g]:[];this.pfa="$op$" + l++;this.Oa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Gb=void 0;k=a(7942);f=a(70633);l=0;c.prototype.addListener=function(d,g){var n;n=this;(0,f.Fja)(d);(0,f.na)(0 > this.zu.indexOf(d));d[k.h_ + this.pfa]=g;this.zu=this.zu.slice();this.zu.push(d);this.zu.sort(function(h,m){return n.f1b(h,m);});};c.prototype.removeListener=function(d){var g;(0,f.Fja)(d);this.zu=this.zu.slice();0 <= (g=this.zu.indexOf(d)) && this.zu.splice(g,1);};c.prototype.set=function(d,g){var n;if(this.Oa !== d){n={oldValue:this.Oa,newValue:d,Fh:g};this.Oa=d;this.Tmb=g;d=this.zu;g=d.length;for(var h=0;h < g;h++){d[h](n);}}};c.prototype.when=function(d){var g;g=this;return new Promise(function(n){function h(m){if(d(m.newValue))return (g.removeListener(h),n(m.newValue));}if(d(g.Oa))return n(g.Oa);g.addListener(h);});};c.prototype.f1b=function(d,g){return (d[k.h_ + this.pfa] || 0) - (g[k.h_ + this.pfa] || 0);};Wa.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Oa;}},Fh:{configurable:!0,enumerable:!0,get:function(){return this.Tmb;}}});b.Gb=c;},60196:function(r,b,a){var k;function c(f){this.ZFb=f;this.e5=!1;this.q5=this.Uf=this.TN=0;this.LT=!1;this.r5=0;}Object.defineProperty(b,"__esModule",{value:!0});b.vHa=void 0;k=a(95919);c.prototype.Hga=function(f){f < this.TN && (this.Uf+=this.TN);this.TN=f;this.e5=!0;};c.prototype.MGb=function(){if(this.e5)return this.LT?this.r5 - this.q5:this.Uf + this.TN - this.q5;};c.prototype.refresh=function(){var f;f=this.ZFb();(0,k.tb)(f) && this.Hga(f);};c.prototype.p1b=function(){this.LT || (this.e5 && (this.r5=this.Uf + this.TN),this.LT=!0);};c.prototype.E1b=function(){this.LT && (this.e5 && (this.q5+=this.Uf + this.TN - this.r5),this.r5=0,this.LT=!1);};b.vHa=c;},78479:function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Sca=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Sca=a;},82328:function(r,b,a){var k;function c(f){this.Lnb=void 0 === f?!1:f;this.Ve={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.Fda=void 0;r=a(70655);a=a(86700);c.prototype.add=function(f,l){var d;l=void 0 === l?0:l;d=this.Ve[l];d?this.Lnb && -1 !== d.indexOf(f) || d.push(f):this.Ve[l]=[f];};c.prototype.remove=function(f,l){this.fx(f,void 0 === l?0:l);};c.prototype.removeAll=function(f){this.fx(f);};c.prototype.flatten=function(){var f;f=this;return Object.keys(this.Ve).sort().reduce(function(l,d){return l.concat(f.Ve[d]);},[]);};c.prototype.fx=function(f,l){Object.entries(this.Ve).forEach(function(d){var g,n;g=ma(d);d=g.next().value;g=g.next().value;if(void 0 === l || l === parseInt(d)){-1 < (n=g.indexOf(f)) && g.splice(n,1);}});};k=c;k=r.__decorate([(0,a.T)()],k);b.Fda=k;},86684:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.q_=void 0;b.q_=function(){var a;a=this;this.promise=new Promise(function(c,k){a.resolve=c;a.reject=k;});};},10234:function(r,b,a){var k,f,l;function c(d){this.wc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.lKa=void 0;r=a(70655);k=a(86700);f=a(65428);l=a(29853);c.prototype.Np=function(d,g){var n;n=this;return new Promise(function(h,m){var p;p=n.wc.Ij(d,function(){m(new l.gq(d));});g.then(function(q){h(q);p.cancel();}).catch(function(q){m(q);p.cancel();});});};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Ci))],a);b.lKa=a;},68903:function(r,b,a){var k,f;function c(l){this.B2b=l;}Object.defineProperty(b,"__esModule",{value:!0});b.tKa=void 0;r=a(70655);k=a(86700);a=a(16690);c.prototype.random=function(){return this.B2b.random();};c.prototype.$7a=function(l,d){if("number" !== typeof l)(d=l.end,l=l.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(l + this.random() * (d - l));};f=c;f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.SLa))],f);b.tKa=f;},39784:function(r,b){function a(c,k,f){if(null != f){if(0 < f(c,k))throw a.fUa(c,k);}else if(c.Ik && 0 < c.Ik(k))throw a.fUa(c,k);this.start=c;this.end=k;}Object.defineProperty(b,"__esModule",{value:!0});b.Mda=void 0;a.fUa=function(c,k){return new RangeError("end [" + k + "] must be >= start [" + c + "]");};b.Mda=a;},19791:function(r,b,a){var f,l,d,g;function c(n){this.po=n;(0,l.$n)(this,"timers");}function k(n,h){this.po=n;this.Mub=h;}Object.defineProperty(b,"__esModule",{value:!0});b.XKa=void 0;r=a(70655);f=a(86700);l=a(60920);d=a(63088);g=a(2467);k.prototype.cancel=function(){this.Mub(this.po);};c.prototype.Hj=function(n){return this.Ij(g.Ia,n);};c.prototype.Ij=function(n,h){var m;m=this.po.setTimeout(h,n.ba(g.oa));return new k(this.po,function(p){p.clearTimeout(m);});};c.prototype.sN=function(n,h){var m;m=this.po.setInterval(h,n.ba(g.oa));return new k(this.po,function(p){p.clearInterval(m);});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.bNa))],a);b.XKa=a;},84540:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xD=void 0;r=a(70655);a=a(86700);c.prototype.format=function(f,l){var g;for(var d=1;d < arguments.length;++d){;}g=Array.prototype.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(n,h){return "undefined" != typeof g[h]?g[h]:n;});};c.prototype.Wab=function(f){for(var l=f.length,d=new Uint16Array(l),g=0;g < l;g++){d[g]=f.charCodeAt(g);}return d.buffer;};c.prototype.Zab=function(f){return JSON.stringify(f,null,"  ");};k=c;k=r.__decorate([(0,a.T)()],k);b.xD=k;},43766:function(r,b,a){var k,f,l,d;function c(g,n,h){var m;m=this;this.Yf=g;this.wc=n;this.M2=h;this.wM=function(p){m.Yi=void 0;m.U3b(p || m.M2);};this.k2a=(0,l.Kb)(-this.M2.ba(l.oa));}Object.defineProperty(b,"__esModule",{value:!0});b.aMa=void 0;r=a(70655);k=a(86700);f=a(58998);l=a(2467);a=a(65428);c.prototype.Hj=function(g){this.Jua=g;this.Yi=this.Yi || this.Mf(this.wM);};c.prototype.Jg=function(){this.Yi && this.Yi.cancel();this.Yi=void 0;};c.prototype.U3b=function(g){var n,h;n=this.Yf.Eb();if(this.Jua){h=g.wa(n.wa(this.k2a));0 >= h.Ik(l.Ia)?(g=this.Jua,this.Jua=void 0,this.k2a=n,g()):this.Yi=this.Yi || this.wc.Ij(h,this.wM.bind(this,g));}};c.prototype.Mf=function(g){return this.wc.Ij(l.Ia,g);};d=c;d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Jc)),r.__param(1,(0,k.l)(a.Ci))],d);b.aMa=d;},14072:function(r,b,a){var k,f,l;function c(d,g,n){this.wc=d;this.Dwa=g;this.mv=n;}Object.defineProperty(b,"__esModule",{value:!0});b.lMa=void 0;r=a(70655);k=a(65428);f=a(86700);l=a(2467);c.prototype.VA=function(){this.Yi || (this.Yi=this.wc.Ij((0,l.Kb)(this.Dwa),this.mv));};c.prototype.Tp=function(){this.Yi && this.Yi.cancel();this.Yi=void 0;};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.Ci))],a);b.lMa=a;},50430:function(r,b,a){var k,f,l,d;function c(g,n){this.Ea=g;this.entries=new Set();this.la=n.Ua("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.mea=void 0;r=a(70655);k=a(86700);f=a(58998);l=a(2467);a=a(71163);c.prototype.mark=function(g,n,h){g={name:g,xr:this.Ea.Eb()};n && (g.ma=n);h && (g.Af=h);this.entries.add(g);return g;};c.prototype.wma=function(){var g;g=[];this.entries.forEach(function(n){return g.push(n);});return g;};c.prototype.lZa=function(g){return this.wma().filter(function(n){return n.ma === g;});};c.prototype.XHb=function(){var g;g={};try{g=this.wma().filter(function(n){return !n.ma;}).reduce(function(n,h){n[h.name]=h.xr.ba(l.oa);return n;},{});}catch(n){this.la.error(" getMapOfCommonMarks exception",n);}return g;};c.prototype.J8a=function(g){var n;n=this;this.wma().forEach(function(h){h.ma === g && n.entries.delete(h);});};d=c;d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Jc)),r.__param(1,(0,k.l)(a.Xa))],d);b.mea=d;},65275:function(r,b){function a(){this.searchParams={};}function c(k){this.ap=k;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.EMa=void 0;c.prototype.toString=function(){return this.href;};Wa.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.ap + this.searchParams.toString();}}});b.EMa=c;a.prototype.get=function(k){return this.searchParams[k];};a.prototype.set=function(k,f){this.searchParams[k]=f;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(k,f,l){var d;d=ma(f);f=d.next().value;d=d.next().value;return "" + k + (0 == l?"?":"&") + f + "=" + d;},"");};},73653:function(r,b,a){var k,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.HMa=void 0;r=a(70655);a=a(86700);c.prototype.encode=function(l){return k.xka(l);};c.prototype.decode=function(l){return k.Jja(l);};c.xka=function(l){if(!l)throw new TypeError("Invalid byte array");for(var d=0,g,n=l.length,h="";d < n;){g=l[d++];if(!(0 <= g && 255 >= g))throw Error("bad utf8");if(g & 128)if(192 === (g & 224))g=((g & 31) << 6) + (l[d++] & 63);else if(224 === (g & 240))g=((g & 15) << 12) + ((l[d++] & 63) << 6) + (l[d++] & 63);else throw Error("unsupported utf8 character");h+=String.fromCharCode(g);}return h;};c.Jja=function(l){var d,g,n,h,m;d=l.length;g=0;h=0;if(!(0 <= d))throw Error("bad string");for(n=d;n--;){m=l.charCodeAt(n);128 > m?g++:g=2048 > m?g + 2:g + 3;}g=new Uint8Array(g);for(n=0;n < d;n++){m=l.charCodeAt(n);128 > m?g[h++]=m:(2048 > m?g[h++]=192 | m >>> 6:(g[h++]=224 | m >>> 12,g[h++]=128 | m >>> 6 & 63),g[h++]=128 | m & 63);}return g;};f=k=c;f=k=r.__decorate([(0,a.T)()],f);b.HMa=f;},67330:function(r,b,a){var k,f,l,d;function c(g,n){this.is=g;this.Mi=n;}Object.defineProperty(b,"__esModule",{value:!0});b.IMa=void 0;r=a(70655);k=a(86700);a(68172);f=a(89542);l=a(5266);d=a(50876);c.prototype.UB=function(g,n,h){var m,p,q,u;m=this;if(n)if(h){p=h.AU;q=h.prefix;u=h.U7;this.XA(n,function(t,w){if(!u || m.is.vg(w))g[(q || "") + (p?t.toLowerCase():t)]=w;});}else this.XA(n,function(t,w){g[t]=w;});return g;};c.prototype.XA=function(g,n){for(var h in g){g.hasOwnProperty(h) && n(h,g[h]);}};c.prototype.CA=function(g,n){if(g.length == n.length){for(var h=g.length;h--;){if(g[h] != n[h])return !1;}return !0;}return !1;};c.prototype.DTa=function(g,n){if(g.length != n.length)return !1;g.sort();n.sort();for(var h=g.length;h--;){if(g[h] !== n[h])return !1;}return !0;};c.prototype.ue=function(g){var n,h,m;if(g){n=g.stack;h=g.number;m=g.message;m || (m="" + g);n?(g="" + n,0 !== g.indexOf(m) && (g=m + "\n" + g)):g=m;h && (g+="\nnumber:" + h);return g;}};c.prototype.getFunctionName=function(g){return (g=(/function (.{1,})\(/).exec(g.toString())) && 1 < g.length?g[1]:"";};c.prototype.$la=function(g){return this.getFunctionName(g.constructor);};c.prototype.ira=function(g){var n,h;n=this;h="";this.is.qA(g) || this.is.AQa(g)?h=Array.prototype.reduce.call(g,function(m,p){return m + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Vo(g)?h=g:this.XA(g,function(m,p){h+=(h?", ":"") + "{" + m + ": " + (n.is.o1(p)?n.getFunctionName(p) || "function":p) + "}";});return "[" + this.$la(g) + " " + h + "]";};c.prototype.createElement=function(g,n,h,m){var p;p=d.Og.createElement(g);n && (p.style.cssText=n);h && (p.innerHTML=h);m && this.XA(m,function(q,u){p.setAttribute(q,u);});return p;};c.prototype.gEb=function(g,n){return function(h){return h[g] === n;};};c.prototype.yV=function(g){var n;n={};(g || "").split("&").forEach(function(h){var m,p;h=h.trim();m=h.indexOf("=");if(0 <= m){p=decodeURIComponent(h.substr(0,m)).toLowerCase();n[p]=decodeURIComponent(h.substr(m + 1));}else n[h.toLowerCase()]=void 0;});return n;};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Wf)),r.__param(1,(0,k.l)(l.nw))],a);b.IMa=a;},23975:function(r,b,a){var c,k,f,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.g3a=void 0;c=a(47795);k=a(6880);r=a(86700);f=a(33456);l=a(71163);d=a(19849);b.g3a=new r.$c(function(g){g(l.Xa).to(k.GFa).da();g(f.DI).to(c.HFa).da();g(l.lca).to(d.vFa).da();});},71163:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UO=b.Xa=b.lca=b.cj=void 0;r=b.cj || (b.cj={});r[r.Ihb=0]="FATAL";r[r.Qj=1]="ERROR";r[r.tea=2]="WARN";r[r.Rba=3]="INFO";r[r.WLa=4]="TRACE";r[r.K=5]="DEBUG";b.lca="LogFieldBuilderFactorySymbol";b.Xa="LoggerFactorySymbol";b.UO={};},33456:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DI="LoggerSinksSymbol";},97649:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.nca=void 0;b.nca=a;a.zgb="display";a.fgb="console";},24217:function(r,b,a){var k,f;function c(l,d,g,n,h,m,p){this.level=l;this.Cn=d;this.timestamp=g;this.message=n;this.Hc=h;this.prefix=m;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.Nya=void 0;k=a(2467);f={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.p$=function(l,d){l=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.W1b(!!l));return (this.timestamp.ba(k.oa) / 1E3).toFixed(3) + "|" + this.index + "|" + (f[this.level] || this.level) + "|" + this.Cn + "| " + l;};c.prototype.W1b=function(l){var h;for(var d=this.Hc.length,g="",n=0;n < d;++n){h=this.Hc[n].vt;n && g.length && (g+=" ");if("object" === typeof h){if(null === h)g+="null";else if(h instanceof Error)g+=this.V1b(h,l);else try{g+=JSON.stringify(h);}catch(m){g+=this.U1b(h);}}else g+=h;}return g;};c.prototype.V1b=function(l,d){return l.toString() + (l.stack && !d?"\n" + l.stack:"") + "\n";};c.prototype.U1b=function(l){var d;d=[];return JSON.stringify(l,function(g,n){if("object" === typeof n && null !== n){if(-1 !== d.indexOf(n))return "<cycle>";d.push(n);}return n;});};b.Nya=c;},15393:function(r,b,a){var k,f;function c(l,d,g,n,h,m){l=k.CI.call(this,l,d,g,n) || this;l.groups=h;Array.isArray(m)?l.prefix=m:m && "string" === typeof m && (l.prefix=[],l.prefix.push(m));return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Oya=void 0;k=a(12736);f=a(24217);ia(c,k.CI);c.prototype.jA=function(l,d,g){l=new f.Nya(l,this.Cn,this.Ea.Eb(),d,g,this.prefix);d=ma(this.gn.gn);for(g=d.next();!g.done;g=d.next()){g=g.value;g(l);}};c.prototype.Q2=function(l){return new c(this.Ea,this.l2,this.gn,l,this.groups,this.prefix);};b.Oya=c;},64565:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SRa=void 0;b.SRa=function(a,c){var f;a=a.RHb();for(var k=0;k < c.length;++k){f=c[k];void 0 != f && null != f && (f.yg && (f=f.yg),f.constructor === Uint8Array?a.Yqb(f):"MediaRequest" === f.constructor.name?a.Kqb(f):"string" === typeof f?a.Vqb(f):"function" === typeof f?a.Eqb(f):f instanceof Error?a.Dqb(f):f instanceof Object && "function" === typeof f.toJSON?a.eQa(f.toJSON()):f instanceof Object?a.eQa(f):a.$qb(f));}return a.Dh();};},77627:function(r,b,a){var k;function c(f,l,d,g,n,h){this.level=f;this.Cn=l;this.timestamp=d;this.message=g;this.Hc=n;this.index=void 0 === h?0:h;this.Sib={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.kca=void 0;k=a(2467);c.prototype.p$=function(f,l){var d;d="" + this.message;this.Hc.forEach(function(g){d+=g.OH(f,l);});return (this.timestamp.ba(k.oa) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Sib[this.level] || this.level) + "|" + this.Cn + "| " + d;};b.kca=c;},19849:function(r,b,a){var k,f,l,d;function c(g,n){this.kc=g;this.Yd=n;}Object.defineProperty(b,"__esModule",{value:!0});b.vFa=void 0;r=a(70655);k=a(86700);f=a(5190);l=a(31224);a=a(89682);c.prototype.RHb=function(){return new f.wFa(this.kc,this.Yd);};d=c;d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.fh)),r.__param(1,(0,k.l)(a.jh))],d);b.vFa=d;},5190:function(r,b,a){var p,q,u;function c(t,w){this.kc=t;this.Yd=w;this.Hc=[];}function k(t){return m.call(this,t,function(w){return {Details:w};}) || this;}function f(t){return m.call(this,t,function(w){return JSON.parse(w.toJSON());}) || this;}function l(t,w){w=m.call(this,w,function(v){return {Base64:t.encode(v)};}) || this;w.kc=t;return w;}function d(t,w){w=m.call(this,w,function(v){return v();}) || this;w.Yd=t;return w;}function g(t){return m.call(this,t,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function n(t,w,v){w=m.call(this,w,v) || this;w.Yd=t;return w;}function h(t){return m.call(this,t,function(w){return {Details:w};}) || this;}function m(t,w){this.vt=t;this.value=w?w(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.wFa=void 0;r=a(70655);p=a(86700);q=a(89682);a=a(31224);m.prototype.AS=function(t){return this.vt === t;};ia(h,m);h.prototype.OH=function(t,w){return w?"":"\r\n" + this.vt;};ia(n,m);n.prototype.OH=function(){var t;t="";this.Yd.XA(this.value,function(w,v){try{t+=", " + w + ": " + v;}catch(y){try{t+=", " + w + ": " + JSON.stringify(v);}catch(x){t+=", error stringifying " + w;}}});return t.replace(/[\r\n]+ */g," ");};ia(g,m);g.prototype.OH=function(t){var w;w="\r\n" + this.vt.message;t || (w+="\r\n" + this.vt.stack);return w;};ia(d,m);d.prototype.OH=function(){var t;t="";this.Yd.XA(this.value,function(w,v){t+=", " + w + ": " + v;});return t.replace(/[\r\n]+ */g," ");};ia(l,m);l.prototype.OH=function(t,w){return this.vt && !w?"\r\n" + this.kc.encode(this.vt):"";};ia(f,m);f.prototype.OH=function(){return this.vt?this.vt.toJSON():"";};ia(k,m);k.prototype.OH=function(){return ", " + (this.vt.toString?"" + this.vt.toString():"");};c.prototype.Vqb=function(t){this.Hc.push(new h(t));};c.prototype.eQa=function(t){this.Hc.push(new n(this.Yd,t));};c.prototype.Dqb=function(t){this.Hc.push(new g(t));};c.prototype.Eqb=function(t){this.Hc.push(new d(this.Yd,t));};c.prototype.Yqb=function(t){this.Hc.push(new l(this.kc,t));};c.prototype.Kqb=function(t){this.Hc.push(new f(t));};c.prototype.$qb=function(t){this.Hc.push(new k(t));};c.prototype.Dh=function(){return this.Hc;};u=c;u=r.__decorate([(0,p.T)(),r.__param(0,(0,p.l)(a.fh)),r.__param(1,(0,p.l)(q.jh))],u);b.wFa=u;},6880:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p,q){this.Ea=m;this.gn=p;this.ypa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.GFa=void 0;r=a(70655);k=a(12736);f=a(86700);l=a(5195);d=a(58998);g=a(33456);n=a(71163);h=a(15393);c.prototype.Ua=function(m,p,q,u,t){q=void 0 === q?this.gn:q;return p?new l.nJa(this.Ea,this.ypa,q,p,m):t?new h.Oya(this.Ea,this.ypa,q,m,u || "",t):new k.CI(this.Ea,this.ypa,q,m);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.Jc)),r.__param(1,(0,f.l)(g.DI)),r.__param(2,(0,f.l)(n.lca))],a);b.GFa=a;},12736:function(r,b,a){var k,f,l;function c(d,g,n,h){this.Ea=d;this.l2=g;this.gn=n;this.Cn=void 0 === h?"General":h;this.Qia={};}Object.defineProperty(b,"__esModule",{value:!0});b.CI=void 0;k=a(71163);f=a(77627);l=a(64565);c.prototype.TPa=function(d,g){this.Qia[d]=g;};c.prototype.fatal=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.jA(k.cj.Ihb,d,this.nO(d,n));};c.prototype.error=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.jA(k.cj.Qj,d,this.nO(d,n));};c.prototype.warn=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.jA(k.cj.tea,d,this.nO(d,n));};c.prototype.info=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.jA(k.cj.Rba,d,this.nO(d,n));};c.prototype.trace=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.jA(k.cj.WLa,d,this.nO(d,n));};c.prototype.debug=function(d,g){for(var n=1;n < arguments.length;++n){;}!1;};c.prototype.log=function(d,g){for(var n=[],h=1;h < arguments.length;++h){n[h - 1]=arguments[h];}this.debug.apply(this,[d].concat(da(n)));};c.prototype.write=function(d,g,n){for(var h=[],m=2;m < arguments.length;++m){h[m - 2]=arguments[m];}this.jA(d,g,this.nO(g,h));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Cn};};c.prototype.Q2=function(d){return new c(this.Ea,this.l2,this.gn,d);};c.prototype.jA=function(d,g,n){d=new f.kca(d,this.Cn,this.Ea.Eb(),g,n);g=ma(this.gn.gn);for(n=g.next();!n.done;n=g.next()){n=n.value;n(d);}};c.prototype.GGb=function(d){return 0 < Object.keys(this.Qia).length?[this.Qia].concat(da(d)):d;};c.prototype.nO=function(d,g){var n;d && "null" !== d && "undefined" !== d || g.push({StackTrace:null !== (n=Error("Empty message").stack) && void 0 !== n?n:"nostack"});return (0,l.SRa)(this.l2,this.GGb(g));};b.CI=c;},47795:function(r,b,a){var k;function c(){this.hab={};this.gn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.HFa=void 0;r=a(70655);a=a(86700);c.prototype.Q8=function(f,l){l && (this.hab[f]=l,this.gn=Object.values(this.hab));};k=c;k=r.__decorate([(0,a.T)()],k);b.HFa=k;},5195:function(r,b,a){var k,f,l;function c(d,g,n,h,m){d=l.CI.call(this,d,g,n,m) || this;d.j=h;(0,k.$n)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.nJa=void 0;k=a(60920);f=a(77627);l=a(12736);ia(c,l.CI);c.prototype.Q2=function(d){return new c(this.Ea,this.l2,this.gn,this.j,d);};c.prototype.jA=function(d,g,n){d=new f.kca(d,this.Cn,this.Ea.Eb(),g,n,this.j.index);g=ma(this.gn.gn);for(n=g.next();!n.done;n=g.next()){n=n.value;n(d,this.j);}};b.nJa=c;},26620:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.G4a=void 0;r=a(86700);c=a(18862);k=a(95428);b.G4a=new r.$c(function(f){f(c.LGa).to(k.KGa).da();});},18862:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LGa="MomentObserverFactory";},95428:function(r,b,a){var k,f,l;function c(d){this.wc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.KGa=void 0;r=a(70655);k=a(86700);f=a(86815);a=a(65428);c.prototype.ZTa=function(d,g){return new f.MGa(this.wc,d,g);};l=c;l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.Ci))],l);b.KGa=l;},86815:function(r,b){function a(c,k,f){this.wc=c;this.config=k;this.getTime=f;}Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;a.prototype.observe=function(c,k){var f;f=this;this.cancel();this.Yi=this.wc.sN(this.config.IZa(),function(){f.getTime() >= c && (f.cancel(),k());});};a.prototype.cancel=function(){this.Yi && (this.Yi.cancel(),this.Yi=void 0);};b.MGa=a;},40152:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uPb=b.$L=b.sPb=void 0;b.sPb=function(a){return a;};b.$L=function(a){return a;};b.uPb=function(a){return Object.assign({},a);};},8436:function(r,b,a){var c,k,f,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.L=void 0;r=a(86700);c=a(89895);k=a(8197);f=a(13477);l=a(9889);d=a(8988);g=a(17003);b.L=new r.$c(function(n){n(c.Xda).to(f.hLa).da();n(k.dLa).to(l.cLa).da();n(d.oMa).to(g.nMa).da();});},8197:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dLa="SegmentConfigFactorySymbol";},89895:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xda="SegmentManagerFactorySymbol";},8988:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oMa="TransitionLoggerSymbol";},61115:function(r,b,a){var l,d,g,n;function c(h,m,p,q,u,t,w){var v;v=this;this.Z=m;this.j=p;this.kM=q;this.wc=u;this.TJ=t;this.config=w;this.dK=function(){v.aC && (v.aC.cancel(),v.aC=void 0);};this.log=h.Ua("SegmentManager",this.j);this.L=new Map();this.j.Wa.bg && (this.j.addEventListener(g.ea.kH,function(y){return v.Dv(y);}),this.j.addEventListener(g.ea.closed,this.dK));}function k(h,m){this.id=h;this.zia=m;}function f(h,m,p,q){return d.Mc.call(this,h,p,void 0,void 0,void 0,m,void 0,q) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Fza=void 0;l=a(68172);d=a(56003);g=a(34202);n=a(2467);ia(f,d.Mc);f.prototype.toString=function(){return this.code + "-" + this.ic + " : " + this.message + "\n" + JSON.stringify(this.data);};k.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.ta,contentEndPts:this.sa};};Wa.Object.defineProperties(k.prototype,{ta:{configurable:!0,enumerable:!0,get:function(){return this.zia.startTimeMs;}},sa:{configurable:!0,enumerable:!0,get:function(){return this.zia.endTimeMs;}},yy:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.zia.next);}}});c.prototype.Dv=function(h){var m;m=this;!1;h=h.position.segmentId;0 === this.L.size && Object.entries(this.j.YS()).forEach(function(p){var q;q=ma(p);p=q.next().value;q=q.next().value;m.L.set(p,new k(p,q));});this.aa=this.L.get(h);};c.prototype.play=function(h){this.XM && (this.XM=void 0);this.dK();this.log.trace("Playing segment",h);return this.t1a(h)?this.OUb(h):this.CV(h);};c.prototype.WM=function(h){this.log.trace("Queueing segment",h);return this.t1a(h)?this.UWb(h):this.VWb(h);};c.prototype.aj=function(h,m){var p,q;p=this;q=this.j.Za;if(null === q || void 0 === q || !q.Ah)return Promise.reject(this.getError(l.U.nza,"ASE session manager is not yet initialized",l.R.Haa,{segmentId:h,updates:m}));this.log.trace("Updating next segment weights",h,m);return new Promise(function(u,t){try{q.y4b(h,m);p.j.fireEvent(g.ea.fxa,{I:h,a5b:m});u();}catch(w){t(p.getError(l.U.nza,"updateNextSegmentWeights threw an exception",l.R.pfb,{segmentId:h,updates:m,error:w}));}});};c.prototype.t1a=function(h){return this.aa?void 0 !== this.j.YS()[this.aa.id].next[h]:!1;};c.prototype.Oma=function(){var h;h=this.j.Za;if(null === h || void 0 === h?0:h.Ah)return h.Rn().WUb;};c.prototype.IIb=function(){var h;h=this.j.Za;if(null === h || void 0 === h?0:h.Ah)return h.Rn().id;};c.prototype.DGb=function(){var h;h=this.j.Za;if(null === h || void 0 === h?0:h.Ah)return (h={Oha:0},h.Oha);};c.prototype.OUb=function(h){var m,p;m=this;p=this.j.Za;return null !== p && void 0 !== p && p.Ah?this.aa && 1 === this.aa.yy.length?this.CV(h):this.j.je?void 0 === this.DGb()?(this.log.error("playNextSegment: branchOffset missing",{segment:h}),this.CV(h)):new Promise(function(q,u){var x,z,A,B,C,D;function t(){!A && z && x && (D.cancel(),A=!0,m.log.trace("Telling ASE to choose the next segment",{id:h,stopped:z,repositioned:x,completed:A}),p.u2(h,!1)?(q(),A=!0):(A=!0,m.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:h}),m.CV(h).then(q).catch(u)));}function w(){x=!0;m.log.trace("Player is repositioned",{id:h,stopped:z,repositioned:x,completed:A});m.j.removeEventListener(g.ea.Aj,w);t();}function v(){m.j.removeEventListener(g.ea.sC,v);p.stop();}function y(){z=!0;m.log.trace("ASE is stopped",{id:h,stopped:z,repositioned:x,completed:A});p.removeEventListener("stop",y);t();}x=!1;z=!1;A=!1;B=m.L.get(h);C=m.Oma();if(void 0 === C)return (m.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:h}),m.CV(h));m.log.trace("Seeking to next segment",JSON.stringify({segmentId:h,seekTo:C,currentSegment:m.aa,nextSegment:B},null,"  "));m.j.fireEvent(g.ea.v7,{oh:m.aa && m.aa.id,oM:h});p.addEventListener("stop",y);m.j.addEventListener(g.ea.sC,v);m.j.addEventListener(g.ea.Aj,w);D=m.wc.Ij((0,n.uh)(10),function(){A=!0;D.cancel();u(m.getError(l.U.EO,"Timed out waiting for the player to be repositioned and ASE to be stopped",l.R.lfb,{id:h,stopped:z,repositioned:x,completed:A}));});m.Z.seek(C,g.Xc.UI);}):(this.log.warn("MediaPresenter is not initialized",h),Promise.reject(this.getError(l.U.EO,"MediaPresenter is not initialized",l.R.mfb,{id:h}))):Promise.reject(this.getError(l.U.EO,"ASE session manager is not yet initialized",l.R.Haa,{id:h}));};c.prototype.CV=function(h){var m;m=this.L.get(h);return m?this.sW(m,l.U.EO):Promise.reject(this.getError(l.U.EO,"Unable to find the separated segment",l.R.mza,{id:h}));};c.prototype.UWb=function(h){var m;m=this.j.Za;if(null === m || void 0 === m || !m.Ah)return Promise.reject(this.getError(l.U.FO,"ASE session manager is not yet initialized",l.R.Haa,{id:h}));this.j.fireEvent(g.ea.v7,{oh:this.aa && this.aa.id,oM:h});if(m.u2(h,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:h});return this.aVa(h);};c.prototype.VWb=function(h){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:h,mid:this.j.O,srcsegment:this.IIb()});return this.aVa(h);};c.prototype.aVa=function(h){var m,p;m=this;if(this.XM)return Promise.reject(this.getError(l.U.FO,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",l.R.ofb,{currentSegment:this.aa?this.aa.id:void 0,queuedSegment:this.XM.id,failedSegment:h}));if(!this.aa)return Promise.reject(this.getError(l.U.FO,"Unable to queue segment for delayed seek because there is no currently playing segment",l.R.kfb,{nextSegmentid:h}));p=this.L.get(h);if(!p)return Promise.reject(this.getError(l.U.FO,"Unable to find the separated segment",l.R.mza,{nextSegmentid:h,currentSegmentId:this.aa.id}));this.XM={id:h,promise:new Promise(function(q,u){var t;m.aC=m.kM.ZTa({IZa:function(){return (0,n.Kb)(100);}},function(){return m.Z.Jq() || 0;});t=m.Oma() - m.config().D4a;m.log.trace("Adding moment for queued segment for delayed seek",{segment:h,pts:t});m.aC.observe(t,function(){m.log.trace("Moment has arrived, seek to segment",{segment:h,currentSegment:m.aa.id,playerEndPts:m.Oma(),pts:t});m.XM=void 0;m.dK();m.sW(p,l.U.FO).then(q).catch(u);});})};this.XM.promise.catch(function(q){m.j.od(q.code,q);});return Promise.resolve();};c.prototype.sW=function(h,m){var p;p=this;return new Promise(function(q,u){var t;try{t=h.ta;!1;p.Z.seek(t,g.Xc.Mw);q();}catch(w){u(p.getError(m,"Seek threw an exception",l.R.nfb,{id:h.id,error:w}));}});};c.prototype.getError=function(h,m,p,q){this.log.warn(m,q);return new f(h,m,p,q);};b.Fza=c;},9889:function(r,b,a){var f,l;function c(){}function k(d,g,n,h,m){this.debug=d;this.version=g;this.ENb=n;this.LUb=h;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.cLa=void 0;r=a(70655);f=a(86700);l=a(2467);k.prototype.sHb=function(){return this.config().LF;};k.prototype.Wla=function(){return this.config().FRa;};k.prototype.IZa=function(){return (0,l.Kb)(this.config().mVb);};k.prototype.hZa=function(){return this.config().SOb;};k.prototype.kZa=function(){return this.config().FPb;};c.prototype.uF=function(d,g,n,h,m){return new k(d,g,n,h,m);};a=c;a=r.__decorate([(0,f.T)()],a);b.cLa=a;},13477:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v;function c(y,x,z,A,B,C,D,F,G,E,J){this.Ea=y;this.Cf=x;this.kM=z;this.zxa=A;this.DV=B;this.wc=C;this.TJ=D;this.th=F;this.Qka=G;this.xh=E;this.config=J;}Object.defineProperty(b,"__esModule",{value:!0});b.hLa=void 0;r=a(70655);k=a(86700);f=a(58998);l=a(71163);d=a(18862);g=a(97636);n=a(8715);h=a(63034);m=a(88050);p=a(61115);q=a(5690);u=a(65428);t=a(62380);w=a(89682);a=a(17244);c.prototype.Wyb=function(y,x,z){return new m.iLa(this.Ea,this.Cf,this.kM,this.zxa,x,y,this.th,this.DV,this.xh,this.Qka,z);};c.prototype.tyb=function(y,x){return new p.Fza(this.Cf,y,x,this.kM,this.wc,this.TJ,this.config);};v=c;v=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Jc)),r.__param(1,(0,k.l)(l.Xa)),r.__param(2,(0,k.l)(d.LGa)),r.__param(3,(0,k.l)(h.RMa)),r.__param(4,(0,k.l)(n.jJa)),r.__param(5,(0,k.l)(u.Ci)),r.__param(6,(0,k.l)(q.CO)),r.__param(7,(0,k.l)(g.KP)),r.__param(8,(0,k.l)(t.XO)),r.__param(9,(0,k.l)(w.jh)),r.__param(10,(0,k.l)(a.ac))],v);b.hLa=v;},88050:function(r,b,a){var d,g,n;function c(h,m,p,q,u,t,w,v,y,x,z){var A;A=this;this.Ea=h;this.kM=p;this.Asa=q;this.config=u;this.ib=t;this.th=w;this.DV=v;this.xh=y;this.Pj=z;this.xDb=Object.values(d.Ja).map(function(B){return {event:B,mv:function(C){return A.Db.Dc(B,C);}};});this.Db=x.create();this.oC=[];this.log=m.Ua("SegmentManager");this.lF=!0;this.qk=this.xh.createElement("div",n.Lda);}function k(h,m,p,q,u,t,w,v,y,x,z){var A;A=this;this.log=h;this.config=m;this.pSb=p;this.Asa=q;this.th=u;this.DV=t;this.At=w;this.u=v;this.qk=y;this.ib=x;this.Pj=z;this.dK=function(){A.aC && (A.aC.cancel(),A.aC=void 0);};this.rna=function(B){A.log.trace("Received the transition event",{movieId:B.O});A.fXb();};this.rpa=function(){};this.log.debug("Constructing session data",f(v));this.l3b=new Promise(function(B){A.fXb=B;});}function f(h){return {movieId:h.O};}function l(h){return JSON.stringify({movieId:h.O,startPts:h.ab,logicalEnd:h.Ui,params:h.nb?{trackingId:h.nb.Nj,authParams:h.nb.Z1,sessionParams:h.nb.bm,disableTrackStickiness:h.nb.bka,uiPlayStartTime:h.nb.JC,loadImmediately:h.nb.z6,playbackState:h.nb.playbackState?{currentTime:h.nb.playbackState.currentTime,volume:h.nb.playbackState.volume,muted:h.nb.playbackState.muted,playbackRate:h.nb.playbackState.playbackRate}:void 0,pin:h.nb.I6a,heartbeatCooldown:h.nb.Ena,uiLabel:h.nb.wd,uxLabels:h.nb.G$}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.iLa=void 0;d=a(34202);g=a(2467);n=a(7942);k.prototype.load=function(h){var m,p;m=this;this.log.trace("Loading new segment",f(this.u));this.Z=this.Asa.oK(this.config,this.DV,this.th,this.u,this.ib,this.Pj);this.Z.addEventListener(d.Ja.zL,function(q){m.log.trace("Segment is inactive",f(m.u));m.At.close(m.th(q.errorCode));});this.Z.addEventListener(d.Ja.closed,this.dK);if(h)(this.log.debug("Pausing background segment",f(this.u)),this.Z.addEventListener(d.Ja.Noa,this.rna),this.Z.A6a());else {this.qk.appendChild(this.Z.Rm());p=function(q){m.rna(q);m.Z.removeEventListener(d.Ja.loaded,p);};this.Z.addEventListener(d.Ja.loaded,p);}};k.prototype.observe=function(){var h,m,p;h=this;this.log.trace("Observing segment",l(this.u));if(this.aC)this.log.trace("Segment is currently observing",f(this.u));else if(this.u.nb && this.u.nb.z6)this.rpa(this);else {m=this.pSb.ZTa(this.config,function(){var q;if(h.Z){q=h.Z.Jq();if(q)return q;}return 0;});p=this.mub(this.u);this.log.trace("Adding a moment to watch",{time:p});m.observe(p,function(){h.log.trace("Segment has reached its loading point",f(h.u));h.rpa(h);h.dK();});}};k.prototype.close=function(h){this.log.info("Closing segment",{segment:l(this.u),error:h});return this.Z?(this.Z.removeEventListener(d.Ja.Noa,this.rna),this.Z.close(h)):Promise.resolve();};k.prototype.pTb=function(h){this.rpa=h;};k.prototype.mub=function(h){var m,p;m=h.Ui;h=h.nb?h.nb.z6:!1;p=0;m && !h && (p=m - this.config.hZa(),p < this.config.kZa() && (h=m - this.config.kZa(),p=m - h / 2));return p;};c.prototype.QIb=function(){return this.Rg && this.Rg.Z?this.Rg.Z.pv():!1;};c.prototype.Rm=function(){return this.qk;};c.prototype.DF=function(){if(!this.Rg || !this.Rg.Z)throw Error("Player not ready");return this.Rg.Z;};c.prototype.Q4b=function(h){var m,p;p=this.kla(h);p?this.Xcb(p,h):this.ib.Pd(h.id) || this.log.error("Tried to update a non-existent segment",{segment:l(h),currentMovieId:this.Rg.u.O,queuedMovieIds:this.oC.map(function(q){return q.u.O;}),xid:null === (m=this.Rg.Z) || void 0 === m?void 0:m.Ps()});};c.prototype.xf=function(h){var m;this.log.info("Adding segment",l(h));if(this.lF){this.log.trace("First segment, loading",f(h));m=this.T2a(h);this.lF=!1;}else (this.log.trace("Subsequent segment, caching",f(h)),(m=this.kla(h))?this.Xcb(m,h):(m=this.createSession(h),this.oC.push(m),this.Rg.observe()));return m?m.l3b:null;};c.prototype.transition=function(h,m){var p,q,u;q=this.yG;u=null === q || void 0 === q?void 0:q.Z;if(q && u)return (this.yG=void 0,this.log.info("Transitioning segment",l(q.u)),u.wva(this.Ea.Eb().ba(g.oa)),this.icb(q,m));m=null === q || void 0 === q?void 0:q.u;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Rg.u.O,xid:null === (p=this.Rg.Z) || void 0 === p?void 0:p.Ps(),nextSegmentId:h,currentSegment:l(this.Rg.u),nextSegment:m?l(m):void 0,queuedMovieIds:this.oC.map(function(t){return t.u.O;})});return Promise.reject();};c.prototype.close=function(h){var m;m=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(f(this.Rg.u)),nextSession:this.yG?JSON.stringify(f(this.yG.u)):void 0});h=[this.Rg.close(h)];this.yG && h.push(this.yG.close());return Promise.all(h).then(function(){m.yG=void 0;m.oC=[];m.lF=!0;});};c.prototype.addListener=function(h,m,p){this.Db.addListener(h,m,p);};c.prototype.removeListener=function(h,m){this.Db.removeListener(h,m);};c.prototype.Xcb=function(h,m){this.PTb(h.u,m);this.log.trace("Overwrote existing segment data",l(h.u));};c.prototype.T2a=function(h){var m,p;m=this;this.log.info("Loading the next episode",f(h));if(this.Rg){this.config.Wla()[h.O]=h.ab;p=this.kla(h);}else p=this.createSession(h);if(p)return (this.log.trace("Found the next session",f(h)),p.pTb(function(q){m.Lbb(q);}),this.Rg?(this.log.trace("Subsequent playback, caching player and pausing",f(h)),this.yG=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",f(h)),p.load(!1),this.icb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",f(h));};c.prototype.icb=function(h,m){var p,q,u,t,w;m=void 0 === m?{}:m;t=h.Z?null === (p=h.Z) || void 0 === p?void 0:p.getError():"missing player";if(t)return (null === (q=h.Z) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Rg.u.O,mid:h.u.O,error:t,xid:null === (u=h.Z) || void 0 === u?void 0:u.Ps()}),Promise.reject());this.log.trace("Playing episode",f(h.u));p=this.Rg;this.Rg=h;h=this.Rg.Z;h.gva(!1);this.eI(h,p?p.Z:void 0);if(p && p.Z){w=p.Z.Rm();q=h.Rm();w.style.display="none";p=p.close();this.qk.appendChild(q);p.then(function(){w.parentElement && w.parentElement.removeChild(w);});q.style.display="block";h.A$(m);h.HN();h.play();}return Promise.resolve();};c.prototype.Lbb=function(h){var m,p,q,u,t;if(this.oC.length && h.Z){m=h.Z.Jq();p=this.oC[0];q=this.Rg.u.Ui;u=this.Rg.u.nb?this.Rg.u.nb.z6:!1;if(q || u){u?t=0:q && (t=q - this.config.hZa());null !== m && m >= t && (this.log.info("Got a time change, loading the next player",f(p.u)),this.T2a(p.u),this.oC.splice(0,1),this.Lbb(h));}}};c.prototype.kla=function(h){return this.Rg.u.O === h.O?this.Rg:this.oC.find(function(m){return m.u.O === h.O;});};c.prototype.PTb=function(h,m){h.ab=m.ab || h.ab;h.Ui=m.Ui || h.Ui;h.nb=m.nb || h.nb;h.W=m.W || h.W;};c.prototype.createSession=function(h){return new k(this.log,this.config,this.kM,this.Asa,this.th,this.DV,this,h,this.qk,this.ib,this.Pj);};c.prototype.eI=function(h,m){this.xDb.forEach(function(p){m && m.removeEventListener(p.event,p.mv);h.addEventListener(p.event,p.mv);});this.Db.Dc(d.uD.wW);};b.iLa=c;},17003:function(r,b,a){var k,f,l;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.nMa=void 0;r=a(70655);k=a(86700);f=a(17244);l=a(30818);c.prototype.CWb=function(d,g,n,h){this.config().h_b && (d=d.metrics,void 0 !== d && d.segment !== d.srcsegment && (n={isBranching:h || void 0,isPlaygraph:!h || void 0,mid:g.O,xid:g.ma,srcxid:n.ma,srcmid:n.O,segment:d.segment,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,srcvbitrate:d.srcvbitrate,srcvmaf:d.srcvmaf,destvbitrate:d.destvbitrate,destvmaf:d.destvmaf,auxMid:d.auxMid,auxMidType:d.auxMidType,auxSrcmid:d.auxSrcmid,auxSrcmidType:d.auxSrcmidType,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,transitionTypeAtRequest:d.transitionTypeAtRequest,nextExitPositionAtRequest:d.nextExitPositionAtRequest,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard,adBreakLocationMs:d.adBreakLocationMs,srcadBreakLocationMs:d.srcadBreakLocationMs},!h && d.auxMid && d.auxMid !== g.O && (n.moffms=(0,l.ag)(g.$R)),g.XL.cb.transition(n)));};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.ac))],a);b.nMa=a;},5690:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CO=b.dfb=b.Iya=b.Kya=void 0;(function(a){a[a.IBb=0]="downloading";a[a.HBb=1]="downloaded";a[a.qR=2]="appended";a[a.buffered=3]="buffered";a[a.dN=4]="removed";a[a.Hgc=5]="unused";})(b.Kya || (b.Kya={}));(function(a){a[a.waiting=1]="waiting";a[a.Uec=2]="ondeck";a[a.IBb=4]="downloading";a[a.HBb=8]="downloaded";a[a.ST=6]="inprogress";})(b.Iya || (b.Iya={}));b.dfb="AseBufferViewSymbol";b.CO="AseBufferAccountingSymbol";},7282:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p){return function(){return new Promise(function(q,u){var t;t=p.hb.get(f.NBa);t.va().then(function(){q(t);}).catch(function(w){u(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.HVa=void 0;r=a(86700);k=a(90029);f=a(3784);l=a(30796);d=a(5690);g=a(42338);n=a(32522);h=a(7636);m=a(2977);b.HVa=new r.$c(function(p){p(n.tFa).to(h.sFa).da();p(k.KBa).to(m.uFa);p(d.CO).to(g.Gya).da();p(f.NBa).to(l.LBa).da();p(f.MBa).oX(c);});},90029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KBa="DxDisplaySymbol";},3784:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NBa="DxManagerSymbol";b.MBa="DxManagerProviderSymbol";},32522:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tFa="LogDisplayConfigSymbol";},42338:function(r,b,a){var k;function c(){this.MZb="";this.Y5b=[[],[],[]];this.Ka=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.Gya=void 0;r=a(70655);k=a(86700);a(2467);a(5690);c.prototype.update=function(f){this.Y5b[f.mediaType].forEach(function(l){l.Igc(f);});};Wa.Object.defineProperties(c.prototype,{I:{configurable:!0,enumerable:!0,get:function(){return this.MZb;}}});a=c;a=r.__decorate([(0,k.T)()],a);b.Gya=a;},21770:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;k=a(50876);c.Mwb=function(f){var l;if(k.Og.queryCommandSupported && k.Og.queryCommandSupported("copy")){l=k.Og.createElement("textarea");l.textContent=f;l.style.position="fixed";k.Og.body.appendChild(l);l.select();try{k.Og.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{k.Og.body.removeChild(l);}}};b.xAa=c;},30796:function(r,b,a){var k,f;function c(l){this.rBb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.LBa=void 0;r=a(70655);k=a(86700);a=a(90029);c.prototype.va=function(){var l;l=this;this.tB || (this.tB=new Promise(function(d,g){var n;n=[];l.rBb.forEach(function(h){n.push(h.va());});Promise.all(n).then(function(){d();}).catch(function(h){g(h);});}));return this.tB;};f=c;f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.wG)(a.KBa))],f);b.LBa=f;},7636:function(r,b,a){var k,f,l,d,g;function c(n,h){n=l.Se.call(this,n,"LogDisplayConfigImpl") || this;n.Lf=h;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.sFa=void 0;r=a(70655);k=a(86700);f=a(54662);l=a(90187);d=a(59578);a=a(65350);ia(c,l.Se);Wa.Object.defineProperties(c.prototype,{bW:{configurable:!0,enumerable:!0,get:function(){return !0;}},WL:{configurable:!0,enumerable:!0,get:function(){return this.Lf.WL;}},d3a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});g=c;r.__decorate([f.config(f.Pc,"renderDomDiagnostics")],g.prototype,"bW",null);r.__decorate([f.config(f.wB,"logDisplayMaxEntryCount")],g.prototype,"WL",null);r.__decorate([f.config(f.wB,"logDisplayAutoshowLevel")],g.prototype,"d3a",null);g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.ul)),r.__param(1,(0,k.l)(a.OI))],g);b.sFa=g;},2977:function(r,b,a){var l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A;function c(B,C,D,F,G,E,J,L,N,I){var O;O=this;this.qa=B;this.Yf=C;this.xh=D;this.wc=F;this.gn=G;this.config=E;this.YE=J;this.uwa=L;this.Eja=N;this.el=I;this.T2b=function(){O.zX.Hj(function(){O.update();});};this.clear=function(){O.entries=[];O.update();};this.v4a=function(){O.xe.KL=!O.xe.KL;O.PB && O.SB && (O.xe.KL?(O.PB.style.display="inline-block",O.SB.style.display="none"):(O.SB.style.display="inline-block",O.PB.style.display="none"));O.sH(!1);};this.ePb=function(K){var H;O.entries.push(K);H=O.config.WL;0 <= H && O.entries.length > H && O.entries.shift();void 0 === O.xe.ux[K.Cn] && (O.xe.ux[K.Cn]=!0,O.sH(!1));O.xe.isVisible && !O.Abb?O.T2b():O.zX.Hj();};this.zBb=function(){f.download("all",O.entries.map(function(K){return K.p$(!1,!1);})).catch(function(K){console.error("Unable to download all logs to the file",K);});};this.uB=!1;this.xe={isVisible:!1,KL:!0,p3:!0,zpa:t.cj.Rba,ux:{}};this.zX=this.uwa((0,p.uh)(1));this.jEb=this.Eja((0,p.Kb)(250));this.entries=[];!1;!1;}function k(B){var C;this.elements=[];C=document.createElementNS(k.aX,"svg");C.setAttribute("viewBox",B);this.elements.push(C);}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.uFa=void 0;r=a(70655);l=a(86700);d=a(89682);g=a(74509);n=a(40781);h=a(65428);m=a(35664);p=a(2467);q=a(58998);u=a(15303);t=a(71163);w=a(33456);v=a(97649);y=a(32522);x=a(7336);z=a(50364);A=a(21770);f.download=function(B,C){return f.lHb(B).then(function(D){return f.yJb(D,C.join("\r\n")).then(function(F){return f.xBb(F.filename,F.text);});});};f.lHb=function(B){return new Promise(function(C,D){var F,G,E,J,L,N,I;try{F=new Date();G=F.getDate().toString();E=(F.getMonth() + 1).toString();J=F.getFullYear().toString();L=F.getHours().toString();N=F.getMinutes().toString();I=F.getSeconds().toString();1 === G.length && (G="0" + G);1 === E.length && (E="0" + E);1 === L.length && (L="0" + L);1 === N.length && (N="0" + N);1 === I.length && (I="0" + I);C(J + E + G + L + N + I + "." + B + ".log");}catch(O){D(O);}});};f.yJb=function(B,C){return new Promise(function(D,F){try{D({filename:B,text:URL.createObjectURL(new Blob([C],{type:"text/plain"}))});}catch(G){F(G);}});};f.xBb=function(B,C){var D;try{D=document.createElement("a");D.setAttribute("href",C);D.setAttribute("download",B);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(F){return Promise.reject(F);}};k.prototype.GN=function(){var B;B=document.createElementNS(k.aX,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};k.prototype.JN=function(B,C,D){var F;F=document.createElementNS(k.aX,"path");F.setAttribute("d",B);C && F.setAttribute("fill",C);D && F.setAttribute("fill-rule",D);this.addElement(F);return this;};k.prototype.PW=function(B,C,D,F,G){var E;G=void 0 === G?"#000000":G;E=document.createElementNS(k.aX,"rect");E.setAttribute("x",B.toString());E.setAttribute("y",C.toString());E.setAttribute("height",D.toString());E.setAttribute("width",F.toString());G && E.setAttribute("fill",G);this.addElement(E);return this;};k.prototype.w1b=function(){var B;B=document.createElementNS(k.aX,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};k.prototype.end=function(){this.elements.pop();return this;};k.prototype.Dh=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};k.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Wa.Object.defineProperties(k,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},SE:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});k.aX="http://www.w3.org/2000/svg";c.prototype.va=function(){var B;B=this;this.tB || (this.tB=new Promise(function(C){pb.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.Az.Rib?B.toggle():D.keyCode == z.Az.E && A.xAa.Mwb(B.YE().ck));});B.gn.Q8(v.nca.zgb,B.ePb);C();}));return this.tB;};c.prototype.show=function(){document.body && (this.element || (this.Ayb(),this.uB=!0),!this.xe.isVisible && this.element && (document.body.appendChild(this.element),this.xe.isVisible=!0,this.update(!0)));};c.prototype.nv=function(){this.uB && this.xe.isVisible && this.element && (document.body.removeChild(this.element),this.xe.isVisible=!1);};c.prototype.toggle=function(){this.xe.isVisible?this.nv():this.show();this.sH(!1);};c.prototype.Ayb=function(){var B,C;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});C=this.createElement("style");C.type="text/css";C.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(C);B.appendChild(this.oo=this.rzb());B.appendChild(this.szb());B.appendChild(this.uyb());this.element=B;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.rzb=function(){var B,C;B=this;C=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");C.setAttribute("wrap","off");C.setAttribute("readonly","readonly");C.addEventListener("focus",function(){B.Abb=!0;B.update();B.oo && (B.oo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});C.addEventListener("blur",function(){B.Abb=!1;B.update();B.oo && (B.oo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return C;};c.prototype.szb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.Uyb());B.appendChild(this.Jyb());B.appendChild(this.Eyb());B.appendChild(this.tzb());B.appendChild(this.yyb());B.appendChild(this.azb());B.appendChild(this.Yyb());B.appendChild(this.Fyb());B.appendChild(this.zyb());return B;};c.prototype.uyb=function(){var B,C,D,F,G,E;B=this;C=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");F=this.createElement("select",this.hv(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");C.appendChild(D);C.appendChild(G);D.appendChild(F);D.addEventListener("mousedown",function(J){J.preventDefault();});E=!1;D.addEventListener("click",function(){E?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.xe.ux).sort()).forEach(function(J){G.appendChild(B.vyb(J,D));}),G.style.display="block");E=!E;});return C;};c.prototype.vyb=function(B,C){var D,F,G;D=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.xe.ux[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(D.xe.ux).forEach(function(E){D.xe.ux[E]="all" === B;}),C.click()):D.xe.ux[B]=!D.xe.ux[B];D.sH(!0);});F.appendChild(G);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.Uyb=function(){var B,C;B=this;C=this.createElement("select",this.hv(22,NaN,1,2),'<option value="' + t.cj.Qj + '">Error</option><option value="' + (t.cj.tea + '">Warn</option><option value="') + (t.cj.Rba + '">Info</option><option value="') + (t.cj.WLa + '">Trace</option><option value="') + (t.cj.K + '">Debug</option>'));C.value=this.xe.zpa.toString();C.addEventListener("change",function(D){B.xe.zpa=parseInt(D.target.value);B.sH(!0);},!1);return C;};c.prototype.Jyb=function(){var C,D;function B(F){return C.jEb.Hj(function(){var G;G=F.target.value;C.xe.filter=G?new RegExp(G):void 0;C.sH(!0);});}C=this;D=this.createElement("input",this.hv(14,150,1,2));D.value=this.xe.filter?this.xe.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",B,!1);D.addEventListener("change",B,!1);return D;};c.prototype.Eyb=function(){var B,C,D,F;B=this;C=this.createElement("div",this.hv(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.xe.p3;D.addEventListener("change",function(G){B.xe.p3=G.target.checked;B.sH(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";C.appendChild(D);C.appendChild(F);return C;};c.prototype.tzb=function(){var B,C,D;B=this;C=this.createElement("button",this.hv());D=new k("0 0 24 24").GN().w1b().end().JN("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",k.SE,"nonzero").end().end().Dh();C.appendChild(D);C.addEventListener("click",function(){B.update();},!1);C.setAttribute("title","Refresh the log console");return C;};c.prototype.yyb=function(){var B,C;B=this.createElement("button",this.hv());C=new k("0 0 24 24").GN().PW(0,0,24,24,k.background).end().JN("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",k.SE).end().end().Dh();B.appendChild(C);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.azb=function(){var B;this.SB=this.createElement("button",this.hv());this.SB.style.display=this.xe.KL?"none":"inline-block";B=new k("0 0 24 24").GN().PW(0,0,24,24,k.background).end().JN("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",k.SE,"nonzero").end().end().Dh();this.SB.addEventListener("click",this.v4a,!1);this.SB.appendChild(B);this.SB.setAttribute("title","Shrink the log console");return this.SB;};c.prototype.Yyb=function(){var B;this.PB=this.createElement("button",this.hv());this.PB.style.display=this.xe.KL?"inline-block":"none";B=new k("0 0 24 24").GN().PW(4,4,16,16,k.background).end().JN("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",k.SE,"nonzero").end().end().Dh();this.PB.addEventListener("click",this.v4a,!1);this.PB.appendChild(B);this.PB.setAttribute("title","Expand the log console");return this.PB;};c.prototype.Fyb=function(){var B,C;B=this.createElement("button",this.hv());C=new k("0 0 26 26").GN().PW(0,0,24,24,k.background).end().JN("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",k.SE,"nonzero").end().end().Dh();B.appendChild(C);B.addEventListener("click",this.zBb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.zyb=function(){var B,C,D;B=this;C=this.createElement("button",this.hv());D=new k("0 0 24 24").GN().PW(0,0,24,24,k.background).end().JN("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",k.SE,"nonzero").end().end().Dh();C.appendChild(D);C.addEventListener("click",function(){B.toggle();},!1);C.setAttribute("title","Close the log console");return C;};c.prototype.sH=function(B){var C;B=void 0 === B?!1:B;C=void 0 === C?!1:C;!1;B && this.update(C);};c.prototype.update=function(B){var C;C=this;B=void 0 === B?!1:B;this.element && this.config.bW && Promise.resolve(this.Ptb() + this.mHb().join("\r\n")).then(function(D){C.element && C.oo && (C.oo.value=D,C.element.style.cssText=C.xe.KL?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && C.wc.Ij(p.Ia,function(){C.oo.scrollTop=C.oo.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.mHb=function(){var B,C;B=this;C=[];this.entries.forEach(function(D){(D.level || D.level) <= B.xe.zpa && B.xe.ux[D.Cn] && (D=D.p$(!B.xe.p3,!B.xe.p3),B.xe.filter && !B.xe.filter.test(D) || C.push(D));});return C;};c.prototype.Ptb=function(){var B;B=this.YE();return "Version: 6.0041.305.911 \n" + ((B?"Esn: " + B.ck:"") + "\nJsSid: ") + (this.Yf.id + ", Epoch: " + this.qa.fe.ba(p.sm) + ", Start: " + this.Yf.my.ba(p.sm) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,C,D,F){return this.xh.createElement(B,C,D,F);};c.prototype.hv=function(B,C,D,F){B=void 0 === B?26:B;C=void 0 === C?26:C;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + k.SE + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(C)?"":"width:" + C + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.F1b="logDxDisplay";a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(m.gg)),r.__param(1,(0,l.l)(q.Jc)),r.__param(2,(0,l.l)(d.jh)),r.__param(3,(0,l.l)(h.Ci)),r.__param(4,(0,l.l)(w.DI)),r.__param(5,(0,l.l)(y.tFa)),r.__param(6,(0,l.l)(u.tw)),r.__param(7,(0,l.l)(g.yD)),r.__param(8,(0,l.l)(n.FY)),r.__param(9,(0,l.l)(x.kw))],a);b.uFa=a;},36845:function(r,b,a){var f;function c(){return f.VP.apply(this,arguments) || this;}function k(l){return new f.Nr(l,b.RC);}Object.defineProperty(b,"__esModule",{value:!0});b.Ia=b.CGa=b.cca=b.Vt=b.RC=b.sQb=b.NNb=b.Ba=b.vq=b.Qfb=void 0;f=a(66205);ia(c,f.VP);b.Qfb=c;b.vq=k;b.Ba=function(l){return new f.Nr(l,b.Vt);};b.NNb=function(l){return new f.Nr(l,b.cca);};b.sQb=function(l){return new f.Nr(l,b.CGa);};b.RC=new c(1,"b");b.Vt=new c(8 * b.RC.fg,"B",b.RC);b.cca=new c(1024 * b.Vt.fg,"KB",b.RC);b.CGa=new c(1024 * b.cca.fg,"MB",b.RC);b.Ia=k(0);},2467:function(r,b,a){var f;function c(){return f.VP.apply(this,arguments) || this;}function k(l){return new f.Nr(l,b.oa);}Object.defineProperty(b,"__esModule",{value:!0});b.Ia=b.GDa=b.Hca=b.sm=b.oa=b.mD=b.timestamp=b.UKb=b.k7=b.uh=b.Kb=b.n7a=b.AQb=b.Xlb=void 0;f=a(66205);ia(c,f.VP);b.Xlb=c;b.AQb=function(l){return new f.Nr(l,b.mD);};b.n7a=function(l){return new f.Nr(l * b.sm.fg,b.mD);};b.Kb=k;b.uh=function(l){return new f.Nr(l,b.sm);};b.k7=function(l){return new f.Nr(l,b.Hca);};b.UKb=function(l){return new f.Nr(l,b.GDa);};b.timestamp=function(l){return k(l);};b.mD=new c(1,"\u03bcs");b.oa=new c(1E3,"ms",b.mD);b.sm=new c(1E3 * b.oa.fg,"s",b.mD);b.Hca=new c(60 * b.sm.fg,"min",b.mD);b.GDa=new c(60 * b.Hca.fg,"hr",b.mD);b.Ia=k(0);},66205:function(r,b,a){var f;function c(l,d){this.fg=d;this.qy=Math.floor(l);this.display=this.qy + " " + this.fg.name;}function k(l,d,g){this.fg=l;this.name=d;this.ap=g?g:this;(0,f.$n)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Nr=b.VP=void 0;f=a(60920);k.prototype.AS=function(l){return this.fg == l.fg;};k.prototype.toJSON=function(){return this.name;};b.VP=k;c.prototype.ba=function(l){return this.fg.AS(l)?this.qy:Math.floor(this.qy * this.fg.fg / l.fg);};c.prototype.m7a=function(l){return this.fg.AS(l)?this.qy:this.qy * this.fg.fg / l.fg;};c.prototype.as=function(l){return new c(this.ba(l),l);};c.prototype.to=function(l){return new c(this.ba(l),l);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.qy,units:this.fg.name};};c.prototype.add=function(l){return this.fTa(l);};c.prototype.wa=function(l){return this.fTa(l,function(d){return -d;});};c.prototype.scale=function(l){return new c(this.ba(this.fg.ap) * l,this.fg.ap);};c.prototype.Ik=function(l){return this.ba(this.fg.ap) - l.ba(this.fg.ap);};c.prototype.AS=function(l){return 0 == this.Ik(l);};c.prototype.O1a=function(){return 0 == this.qy;};c.prototype.Foa=function(){return 0 > this.qy;};c.prototype.C1a=function(){return 0 < this.qy;};c.prototype.fTa=function(l,d){d=void 0 === d?function(g){return g;}:d;return new c(this.ba(this.fg.ap) + d(l.ba(this.fg.ap)),this.fg.ap);};b.Nr=c;},17244:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mm={Lbc:"casttv",Aia:"chrome",Rbc:"chromecast",ip:"edge",LVa:"edgeoss",nXa:"firefox",Hdc:"ie",opera:"opera",D9a:"safari",xbb:"tesla"};b.pn={$ga:"android",Z0a:"ios",ISa:"chromeos",K2a:"linux",l3a:"mac",Kxa:"windows"};b.MZ={pwb:"computer",phone:"phone",D2b:"tablet"};b.ac="ConfigSymbol";},54662:function(r,b,a){var l,d,g;function c(n){return function(h,m){return h.vta(m,n);};}function k(n,h){return n.H8.SWb[h] || f(n,h);}function f(n,h){n=n.cy.data[h];switch(typeof n){case "undefined":break;case "string":case "number":case "boolean":return n.toString();default:return JSON.stringify(n);}}Object.defineProperty(b,"__esModule",{value:!0});b.uE=b.Dta=b.object=b.kDb=b.url=b.Ba=b.lk=b.Vwa=b.kMb=b.DH=b.string=b.dz=b.Pc=b.wB=b.config=void 0;l=a(36845);d=a(2467);g=a(35032);b.config=function(n,h,m){m=void 0 === m?!1:m;return function(p,q,u){var t,w;t=void 0 !== h?h:q;w=u.get;void 0 !== w && (u.get=function(){var v;if(!this.bNb(q))return this.YIb(q);a:{v=(this.trb || m?k:f)(this,t.toString());if(void 0 !== v)if((v=n(this.fV,v),v instanceof g.Bo))this.EXa(t,v);else break a;v=w.bind(this)();}this.lua(q,v);return v;});return u;};};b.wB=function(n,h){return n.h8a(h);};b.Pc=function(n,h){return n.sta(h);};b.dz=function(n,h){return n.Lp(h);};b.string=function(n,h){return n.vta(h);};b.DH=function(n,h){return n.zj(h,b.string);};b.kMb=function(n,h){return n.zj(h,b.wB);};b.Vwa=function(n,h){return n.zj(h,b.dz);};b.lk=function(n,h){n=n.Lp(h);return n instanceof g.Bo?n:(0,d.Kb)(n);};b.Ba=function(n,h){n=n.Lp(h);return n instanceof g.Bo?n:(0,l.Ba)(n);};b.url=c(/^\S+$/);b.kDb=function(n){return function(h,m){return h.g8a(m,n);};};b.object=function(){return function(n,h){return n.i8a(h);};};b.Dta=c;b.uE=function(n,h){return function(m,p){return m.zj(p,n,h);};};},59578:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zaa="ConfigurableInputsSymbol";b.ul="ValidatingConfigurableInputsSymbol";b.qY="ConfigNameSymbol";b.iP="InitParamsSymbol";},53685:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kn=b.fu=b.ww=void 0;(function(a){a[a.ZLa=0]="Test";a[a.CEa=1]="Int";a[a.Nlb=2]="Staging";a[a.clb=3]="Prod";})(b.ww || (b.ww={}));(function(a){a[a.LP=0]="PreferMsl";a[a.ZJa=1]="PreferNoMsl";a[a.Ljb=2]="NoMsl";})(b.fu || (b.fu={}));b.kn="GeneralConfigSymbol";},65350:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OI="PlatformConfigDefaultsSymbol";},62106:function(r,b,a){var c,k,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.lda=void 0;c=a(2467);k=a(36845);f=a(56261);l={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.lda=function(){this.bva=!0;this.wE=[];this.km=[];this.Uq=[];this.FK=!1;this.tka=!0;this.It=[f.tl.aba,f.tl.xlb,f.tl.HI,f.tl.SDa];this.Tl=void 0;this.Dka=!0;this.E3=!1;this.L1=(0,k.Ba)(288E4);this.O1=(0,k.Ba)(335544320);this.sy=(0,c.Kb)(15E3);this.RPb=(0,k.Ba)(6291456);this.WL=1E3;this.gia=!0;this.n$=l;this.WN=(0,k.Ba)(0);this.xL=("ro zh-Hans zh-Hant ko vi ar he hi th en es").split(" ");this.v5=("ro zh-Hans zh-Hant vi ar he hi th").split(" ");this.w5=("ro zh-Hans zh-Hant ko vi ar he hi th").split(" ");this.r6=["th"];this.q$=(0,c.Kb)(0);this.KT=!0;this.D$=!1;this.HK=!0;this.$H=this.SA=this.Xu=!1;this.PE=["start"];this.i$=!0;};},98757:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TIa="PlatformConfigOverridesSymbol";},10459:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(86700);c=a(17244);k=a(86322);f=a(59578);l=a(53685);d=a(76545);g=a(30949);n=a(49873);h=a(65872);m=a(69673);p=a(23152);q=a(85291);b.config=new r.$c(function(u){u(c.ac).Vd(function(){return function(){return pb._cad_global.config;};});u(f.Zaa).to(k.FAa).da();u(f.ul).to(k.LMa).da();u(f.iP).to(k.yEa).da();u(l.kn).to(d.QCa).da();u(g.$Ga).to(n.ZGa).da();u(h.KCa).to(m.JCa).da();u(p.bq).to(q.gCa).da();});},90187:function(r,b,a){var f,l,d,g;function c(n,h){var m;m=g.call(this,n,h) || this;m.yTa=h;m.debug=n.debug;m.la=n.Cf.Ua(m.yTa);return m;}function k(n,h){this.yTa=h;this.cta={};this.cy=n.cy;this.fV=n.fV;this.H8=n.H8;}Object.defineProperty(b,"__esModule",{value:!0});b.Se=b.GO=b.VLa=void 0;r=a(70655);f=a(78479);l=a(86700);d=a(35032);b.VLa="isTestAccount";k.prototype.EXa=function(){};k.prototype.lua=function(n,h){this.cta[n]=[h,this.cy.g9];};k.prototype.bNb=function(n){return f.Sca.of(this.cta[n]).map(function(h){return h[1];}).or(-1) < this.cy.g9;};k.prototype.YIb=function(n){return f.Sca.of(this.cta[n]).map(function(h){return h[0];}).or(function(){throw Error("Invalid State Error");});};Wa.Object.defineProperties(k.prototype,{trb:{configurable:!0,enumerable:!0,get:function(){var n,h;if(this && this.cy && this.cy.data){n=this.cy.data[b.VLa];"undefined" !== typeof n && (h=n.toString());n=this.fV.sta(h);n=n instanceof d.Bo?!1:n;}else n=!1;return n;}}});g=k;g=r.__decorate([(0,l.T)(),r.__param(0,(0,l.jn)()),r.__param(1,(0,l.jn)())],g);b.GO=g;ia(c,g);c.prototype.EXa=function(n,h){this.la.error("Invalid configuration value.",{name:n},h);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,l.jn)()),r.__param(1,(0,l.jn)())],a);b.Se=a;},86322:function(r,b,a){var l,d,g,n,h;function c(){this.Jx={};this.w9a=0;}function k(m,p,q,u,t){this.debug=m;this.cy=p;this.fV=q;this.Cf=u;this.H8=t;}function f(m,p,q){this.cy=m;this.fV=p;this.H8=q;}Object.defineProperty(b,"__esModule",{value:!0});b.yEa=b.LMa=b.FAa=void 0;r=a(70655);l=a(86700);d=a(78616);g=a(71163);n=a(35032);h=a(58236);a=a(59578);f=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.iP)),r.__param(1,(0,l.l)(n.L_)),r.__param(2,(0,l.l)(h.Ida))],f);b.FAa=f;k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.pw)),r.__param(1,(0,l.l)(a.iP)),r.__param(2,(0,l.l)(n.L_)),r.__param(3,(0,l.l)(g.Xa)),r.__param(4,(0,l.l)(h.Ida))],k);b.LMa=k;c.prototype.xQb=function(m){this.Jx=Object.assign({},this.Jx,m);this.w9a++;};Wa.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Jx;}},g9:{configurable:!0,enumerable:!0,get:function(){return this.w9a;}}});a=c;a=r.__decorate([(0,l.T)()],a);b.yEa=a;},76545:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p,q,u){p=d.Se.call(this,p,void 0 === u?"GeneralConfigImpl":u) || this;p.Lf=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.QCa=b.OK=void 0;r=a(70655);k=a(2467);f=a(86700);l=a(54662);d=a(90187);g=a(53685);n=a(59578);a=a(65350);h={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.OK=function(p,q){return p.g8a(h[q] || q,g.ww);};ia(c,d.Se);Wa.Object.defineProperties(c.prototype,{OK:{configurable:!0,enumerable:!0,get:function(){return g.ww.clb;}},Lab:{configurable:!0,enumerable:!0,get:function(){return (0,k.uh)(8);}},LF:{configurable:!0,enumerable:!0,get:function(){return "";}},cK:{configurable:!0,enumerable:!0,get:function(){return "";}},vX:{configurable:!0,enumerable:!0,get:function(){return "";}},J1:{configurable:!0,enumerable:!0,get:function(){return !0;}},KT:{configurable:!0,enumerable:!0,get:function(){return this.Lf.KT;}},ADb:{configurable:!0,enumerable:!0,get:function(){return !1;}},nd:{configurable:!0,enumerable:!0,get:function(){return {};}},Qoa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Cr:{configurable:!0,enumerable:!0,get:function(){return !1;}},xS:{configurable:!0,enumerable:!0,get:function(){return !0;}},BC:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},Px:{configurable:!0,enumerable:!0,get:function(){return 0 <= [g.ww.ZLa,g.ww.CEa].indexOf(this.OK);}}});m=c;r.__decorate([l.config(b.OK,"environment")],m.prototype,"OK",null);r.__decorate([l.config(l.lk,"storageTimeout")],m.prototype,"Lab",null);r.__decorate([l.config(l.string,"groupName")],m.prototype,"LF",null);r.__decorate([l.config(l.string,"canaryGroupName",!0)],m.prototype,"cK",null);r.__decorate([l.config(l.string,"uiGroupName")],m.prototype,"vX",null);r.__decorate([l.config(l.Pc,"applyIndexedDbOpenWorkaround")],m.prototype,"J1",null);r.__decorate([l.config(l.Pc,"ignoreIdbOpenError")],m.prototype,"KT",null);r.__decorate([l.config(l.Pc,"executeStorageMigration")],m.prototype,"ADb",null);r.__decorate([l.config(l.object(),"browserInfo")],m.prototype,"nd",null);r.__decorate([l.config(l.Pc,"isTestAccount")],m.prototype,"Qoa",null);r.__decorate([l.config(l.Pc,"useRangeHeader")],m.prototype,"Cr",null);r.__decorate([l.config(l.Pc,"enableMilestoneEventList")],m.prototype,"xS",null);r.__decorate([l.config(l.object,"storageRules")],m.prototype,"BC",null);m=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(n.ul)),r.__param(1,(0,f.l)(a.OI)),r.__param(2,(0,f.l)(n.qY)),r.__param(2,(0,f.optional)())],m);b.QCa=m;},40409:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nAa="CapabilityDetectorFactorySymbol";},83931:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ed=void 0;b.Ed=a;a.lDa=/^hevc-main/;a.kDa=/^hevc-hdr-|hevc-dv/;a.yI=/^hevc-hdr-/;a.Yt=/^hevc-dv/;a.TY=/h264mpl/;a.YC=/h264mpl30/;a.ZC=/h264mpl31/;a.oz=/h264hpl.*-dash$/;a.Vxa=/h264hpl.*-live$/;a.Nz=/^vp9-/;a.Ai=/^av1-/;a.Jhb=/[l|L]4[0-1]-/;a.YI=/-L5[0-1]-/;a.REa=/-live/;a.aaa=/^heaac-2-/;a.Vhb=/^heaac-2hq-dash/;a.Rw=/^xheaac-dash/;a.qgb=/ddplus-2/;a.rgb=/ddplus-5/;a.sgb=/ddplus-atmos/;},39780:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.sd=void 0;k=a(77003);c.pUa=function(f){var l;l={};l[k.Te.OP]=c.TY;l[k.Te.aZ]=c.TY;l[k.Te.YI]=c.Hba;l[k.Te.yI]=c.yI;l[k.Te.Yt]=f || c.Yt;l[k.Te.oz]=c.TY;l[k.Te.Nz]=c.WP;l[k.Te.Ai]=c.Ai;return l;};b.sd=c;c.wqa='video/mp4; codecs="avc1.4d0028"';c.TY="avc1.4d0028";c.Hba="hev1.1.6.L93.B0";c.cba="dvhe.05.01";c.$Aa="dvhe.05.04";c.dba="dvhe.05.05";c.eba="dvhe.05.06";c.fba="dvhe.05.07";c.gba="dvhe.05.09";c.Yt=c.cba;c.yI=c.Hba;c.aaa="mp4a.40.2";c.Rw="mp4a.40.42";c.pgb="ec-3";c.WP="vp09.00.11.08.02";c.Ai="av01.0.04M.08";},74039:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D;Object.defineProperty(b,"__esModule",{value:!0});b.Km=void 0;r=a(86700);c=a(77003);k=a(17244);f=a(75977);l=a(65146);d=a(50563);g=a(72014);n=a(21788);h=a(51080);m=a(37239);p=a(40409);q=a(60885);u=a(50876);t=a(63626);w=a(43784);v=a(43101);y=a(82226);x=a(14756);z=a(86229);A=a(36875);B=a(63088);C=a(62470);D=a(41826);b.Km=new r.$c(function(F){F(d.QP).to(g.uLa).da();F(c.rw).to(f.nBa).da();F(n.HEa).to(h.GEa).da();F(p.nAa).to(q.mAa).da();F(n.UIa).kl({isTypeSupported:u.Ez && u.Ez.isTypeSupported});F(m.ACa).GC(function(G){return {jHb:function(){return G.hb.get(B.m_);}};});F(l.pI).GC(function(G){return G.hb.get(k.ac);});F(t.kGa).to(w.hGa).da();F(C.gGa).to(D.fGa).da();F(v.jGa).to(y.iGa).da();F(x.Bba).to(z.zCa).da();F(A.hKa).kl(pb);});},77003:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rw=b.VMa=b.cmb=b.zo=b.Te=b.vl=b.Ut=b.v=void 0;(function(a){a[a.Audio=0]="Audio";a[a.NMa=1]="Video";})(b.v || (b.v={}));(function(a){a[a.qw=0]="Default";a[a.Ew=1]="Microsoft";})(b.Ut || (b.Ut={}));(function(a){a[a.qw=0]="Default";a[a.oI=1]="Chrome";a[a.Ew=2]="Microsoft";})(b.vl || (b.vl={}));(function(a){a[a.OP=0]="SD";a[a.aZ=1]="HD";a[a.YI=2]="UHD";a[a.Yt=3]="DV";a[a.yI=4]="HDR10";a[a.oz=5]="AVCHigh";a[a.Nz=6]="VP9";a[a.Ai=7]="AV1";})(b.Te || (b.Te={}));(function(a){a[a.TZ=0]="Level_1_4";a[a.hD=1]="Level_2_2";})(b.zo || (b.zo={}));b.cmb=function(){};(function(a){a[a.G$b=0]="Platform";a[a.Y7b=1]="CurrentTitle";})(b.VMa || (b.VMa={}));b.rw="DeviceCapabilitiesSymbol";},65146:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.pI=b.fhb=void 0;c=a(77003);b.fhb=function(){this.wE=[];this.km=[];this.Uq=[];this.rQa=[];this.uha=c.Ut.qw;this.L$=c.vl.qw;};b.pI="DeviceCapabilitiesConfigSymbol";},14756:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bba=b.yw=void 0;r=b.yw || (b.yw={});r.amb="unknown";r.Wxa="absent";r.gKa="present";r.Error="error";b.Bba="ExternalDisplayLogHelperSymbol";},37239:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ACa="ExtraPlatformInfoProviderSymbol";},21788:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HEa="IsTypeSupportedProviderFactorySymbol";b.UIa="PlatformIsTypeSupportedSymbol";},13329:function(r,b,a){var k,f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rI=b.eb=void 0;k=a(56594);f=a(56003);l=a(68172);c.cT=function(d){if(d){if(d.includes(b.rI.Ey))return k.Ak.Ey;if(d.includes("fps"))return k.Ak.$A;if(d.includes(b.rI.PX))return k.Ak.PX;}throw new f.Mc(l.U.uhb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.fma=function(d){switch(d){case k.Ak.Ey:return b.rI.Ey;case k.Ak.$A:return b.rI.$A;default:return b.rI.PX;}};b.eb=c;c.Lw="com.microsoft.playready";c.yd="com.microsoft.playready.hardware";c.sD="com.microsoft.playready.software";c.Lhb="com.apple.fps.2_0";c.Y_="com.widevine.alpha";c.imb="com.widevine.alpha.experiment";c.nda="com.microsoft.playready.recommendation.3000";c.$Ia="com.microsoft.playready.recommendation.2000";c.NDa=[c.nda];b.rI={$A:"fairplay",PX:"widevine",Ey:"playready"};},63626:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kGa="MediaCapabilitiesSymbol";},62470:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gGa="MediaCapabilitiesDetectorSymbol";},43101:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jGa="MediaCapabilitiesLogHelperSymbol";},56261:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={YC:"playready-h264mpl30-dash",ZC:"playready-h264mpl31-dash",$Y:"playready-h264mpl40-dash",WCa:"h264mpl30-dash-playready-prk-qc",XCa:"h264mpl31-dash-playready-prk-qc",YCa:"h264mpl40-dash-playready-prk-qc",UCa:"playready-h264hpl22-dash",UY:"playready-h264hpl30-dash",WY:"playready-h264hpl31-dash",YY:"playready-h264hpl40-dash",VCa:"h264hpl22-dash-playready-live",VY:"h264hpl30-dash-playready-live",XY:"h264hpl31-dash-playready-live",ZY:"h264hpl40-dash-playready-live",qea:"vp9-profile0-L21-dash-cenc",U_:"vp9-profile0-L30-dash-cenc",V_:"vp9-profile0-L31-dash-cenc",XP:"vp9-profile0-L40-dash-cenc",Iba:"hevc-main10-L30-dash-cenc",Jba:"hevc-main10-L31-dash-cenc",Kba:"hevc-main10-L40-dash-cenc",Lba:"hevc-main10-L41-dash-cenc",$O:"hevc-main10-L50-dash-cenc",aP:"hevc-main10-L51-dash-cenc",vZ:"hevc-main10-L30-dash-cenc-prk",yZ:"hevc-main10-L31-dash-cenc-prk",BZ:"hevc-main10-L40-dash-cenc-prk",EZ:"hevc-main10-L41-dash-cenc-prk",wZ:"hevc-main10-L30-dash-cenc-prk-do",zZ:"hevc-main10-L31-dash-cenc-prk-do",CZ:"hevc-main10-L40-dash-cenc-prk-do",FZ:"hevc-main10-L41-dash-cenc-prk-do",HZ:"hevc-main10-L50-dash-cenc-prk-do",JZ:"hevc-main10-L51-dash-cenc-prk-do",uZ:"hevc-main10-L30-dash-cenc-live",xZ:"hevc-main10-L31-dash-cenc-live",AZ:"hevc-main10-L40-dash-cenc-live",DZ:"hevc-main10-L41-dash-cenc-live",GZ:"hevc-main10-L50-dash-cenc-live",IZ:"hevc-main10-L51-dash-cenc-live",uY:"hevc-dv5-main10-L30-dash-cenc-prk",wY:"hevc-dv5-main10-L31-dash-cenc-prk",SO:"hevc-dv5-main10-L40-dash-cenc-prk",zY:"hevc-dv5-main10-L41-dash-cenc-prk",BY:"hevc-dv5-main10-L50-dash-cenc-prk",DY:"hevc-dv5-main10-L51-dash-cenc-prk",hba:"hevc-dv5-main10-L40-dash-cenc-prk-qc",iba:"hevc-dv5-main10-L41-dash-cenc-prk-qc",jba:"hevc-dv5-main10-L50-dash-cenc-prk-qc",kba:"hevc-dv5-main10-L51-dash-cenc-prk-qc",vY:"hevc-dv5-main10-L30-dash-cenc-prk-do",xY:"hevc-dv5-main10-L31-dash-cenc-prk-do",yY:"hevc-dv5-main10-L40-dash-cenc-prk-do",AY:"hevc-dv5-main10-L41-dash-cenc-prk-do",CY:"hevc-dv5-main10-L50-dash-cenc-prk-do",EY:"hevc-dv5-main10-L51-dash-cenc-prk-do",cZ:"hevc-hdr-main10-L30-dash-cenc-prk",fZ:"hevc-hdr-main10-L31-dash-cenc-prk",ZO:"hevc-hdr-main10-L40-dash-cenc-prk",kZ:"hevc-hdr-main10-L41-dash-cenc-prk",nZ:"hevc-hdr-main10-L50-dash-cenc-prk",qZ:"hevc-hdr-main10-L51-dash-cenc-prk",dZ:"hevc-hdr-main10-L30-dash-cenc-prk-do",gZ:"hevc-hdr-main10-L31-dash-cenc-prk-do",iZ:"hevc-hdr-main10-L40-dash-cenc-prk-do",lZ:"hevc-hdr-main10-L41-dash-cenc-prk-do",oZ:"hevc-hdr-main10-L50-dash-cenc-prk-do",rZ:"hevc-hdr-main10-L51-dash-cenc-prk-do",bZ:"hevc-hdr-main10-L30-dash-cenc-live",eZ:"hevc-hdr-main10-L31-dash-cenc-live",hZ:"hevc-hdr-main10-L40-dash-cenc-live",jZ:"hevc-hdr-main10-L41-dash-cenc-live",mZ:"hevc-hdr-main10-L50-dash-cenc-live",pZ:"hevc-hdr-main10-L51-dash-cenc-live",Txa:"av1-main-L20-dash-cbcs-prk",Uxa:"av1-main-L21-dash-cbcs-prk",mz:"av1-main-L30-dash-cbcs-prk",nz:"av1-main-L31-dash-cbcs-prk",iI:"av1-main-L40-dash-cbcs-prk",jI:"av1-main-L41-dash-cbcs-prk",bY:"av1-main-L50-dash-cbcs-prk",cY:"av1-main-L51-dash-cbcs-prk"};b.jd={nY:[b.H.YC,b.H.ZC,b.H.$Y],YX:[b.H.UY,b.H.WY,b.H.YY],XX:[b.H.VY,b.H.XY,b.H.ZY],baa:[b.H.U_,b.H.V_,b.H.XP],K7b:[b.H.Iba,b.H.Jba,b.H.Kba,b.H.Lba,b.H.$O,b.H.aP],Raa:[b.H.vZ,b.H.yZ,b.H.BZ,b.H.EZ,b.H.$O,b.H.aP],Saa:[b.H.wZ,b.H.zZ,b.H.CZ,b.H.FZ,b.H.HZ,b.H.JZ],Qaa:[b.H.uZ,b.H.xZ,b.H.AZ,b.H.DZ,b.H.GZ,b.H.IZ],Oaa:[b.H.cZ,b.H.fZ,b.H.ZO,b.H.kZ,b.H.nZ,b.H.qZ],Paa:[b.H.dZ,b.H.gZ,b.H.iZ,b.H.lZ,b.H.oZ,b.H.rZ],Naa:[b.H.bZ,b.H.eZ,b.H.hZ,b.H.jZ,b.H.mZ,b.H.pZ],Vza:[b.H.uY,b.H.SO,b.H.BY,b.H.wY,b.H.zY,b.H.DY],Wza:[b.H.vY,b.H.yY,b.H.CY,b.H.xY,b.H.AY,b.H.EY],Xza:[b.H.mz,b.H.nz,b.H.iI,b.H.jI,b.H.bY,b.H.cY]};b.xd={$C:"heaac-2-dash",sZ:"heaac-5.1-dash",aD:"heaac-2hq-dash",Rw:"xheaac-dash",QO:"ddplus-2.0-dash",sY:"ddplus-5.1-dash",RO:"ddplus-atmos-dash"};b.tl={xlb:"simplesdh",aba:"dfxp-ls-sdh",SDa:"imsc1.1",X_:"webvtt-lssdh-ios8",HI:"nflx-cmisc"};},36875:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hKa="PresentationAPISymbol";},50563:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QP="SourceBufferTypeProviderSymbol";},60885:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z;function c(A,B,C,D,F,G,E,J,L,N){this.J1a=A;this.config=B;this.wc=C;this.qa=D;this.is=F;this.co=G;this.Ul=E;this.platform=J;this.kc=L;this.uy=N;}Object.defineProperty(b,"__esModule",{value:!0});b.mAa=void 0;r=a(70655);k=a(86700);f=a(77003);l=a(21788);d=a(65146);g=a(65168);n=a(33561);h=a(9045);m=a(55024);p=a(65428);q=a(35664);u=a(89542);t=a(44668);w=a(1092);v=a(71163);y=a(811);x=a(31224);a=a(62470);c.prototype.qyb=function(A){var B;B=this.J1a.dUa();switch(A){case f.Ut.Ew:return new g.IGa(this.config,B,this.is,this.platform,this.uy);default:return new m.HY(this.config,B,this.uy);}};c.prototype.wzb=function(A){var B;B=this.J1a.dUa();switch(A){case f.vl.oI:A=new t.uAa(this.config,B,this.is,this.co,this.Ul,this.qa,this.uy);break;case f.vl.Ew:A=new n.RFa(this.config,B,this.is,this.wc,this.qa,this.Ul,this.kc,this.uy,this.co);break;default:A=new h.xz(this.config,B,this.is,this.uy);}return A;};z=c;z=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.HEa)),r.__param(1,(0,k.l)(d.pI)),r.__param(2,(0,k.l)(p.Ci)),r.__param(3,(0,k.l)(q.gg)),r.__param(4,(0,k.l)(u.Wf)),r.__param(5,(0,k.l)(w.Dw)),r.__param(6,(0,k.l)(v.Xa)),r.__param(7,(0,k.l)(y.rn)),r.__param(8,(0,k.l)(x.fh)),r.__param(9,(0,k.l)(a.gGa))],z);b.mAa=z;},55700:function(r,b,a){var k,f,l,d,g;function c(n,h,m,p){this.config=n;this.eo=h;this.mediaType=m;this.uy=p;this.oqa={};this.oqa[k.v.Audio]="audio";this.oqa[k.v.NMa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.VC=void 0;k=a(77003);r=a(84540);f=a(83931);l=a(50876);d=a(59608);g=new r.xD().format;c.prototype.c_a=function(n){return this.bBb(this.KIb(this.LZa(),n));};c.prototype.FE=function(n){return this.eo.isTypeSupported(n);};c.prototype.PGb=function(){return [f.Ed.aaa,f.Ed.Vhb,f.Ed.YC,f.Ed.ZC];};c.prototype.ZLb=function(){this.ko=[];this.tt=[];this.config().OTb && this.tt.push(f.Ed.Rw);this.config().j6a && this.tt.push(f.Ed.lDa);this.config().i6a && this.tt.push(f.Ed.kDa);this.config().h6a && this.tt.push(f.Ed.Yt);this.config().f6a && this.tt.push(f.Ed.oz);this.config().g6a && this.tt.push(f.Ed.Vxa);this.config().k6a && this.tt.push(f.Ed.Nz);this.config().e6a && this.tt.push(f.Ed.Ai);this.tt=this.tt.concat(this.PGb());!this.config().TCb && this.ko.push(f.Ed.Rw);!this.config().XVa && this.ko.push(f.Ed.qgb);!this.config().WVa && this.ko.push(f.Ed.rgb);!this.config().GK && this.ko.push(f.Ed.sgb);!this.config().FCb && this.ko.push(/prk$/);this.config().h6a || this.config().qCb || this.ko.push(f.Ed.Yt);this.config().j6a || this.config().tCb || this.ko.push(f.Ed.lDa);this.config().i6a || this.config().vka || this.ko.push(f.Ed.kDa);this.config().f6a || this.config().FK || this.ko.push(f.Ed.oz);this.config().g6a || this.config().tka || this.ko.push(f.Ed.Vxa);this.config().k6a || this.config().PCb || this.ko.push(f.Ed.Nz);this.config().e6a || this.config().gCb || this.ko.push(f.Ed.Ai);!this.config().OCb && this.ko.push(f.Ed.YI);};c.prototype.KIb=function(n,h){var m;m=l.Ae.hardwareConcurrency && l.Ae.hardwareConcurrency;return n.filter(function(p){return void 0 !== p.minimumCores && m < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === h || void 0 === h?void 0:h.wd) || !p.restrictToUILabels.includes(h.wd))?!1:!0;}).map(function(p){return p.name;});};c.prototype.GS=function(n){var h,m;h=this;m=n.map(function(p){for(var q=ma(h.tt),u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!0});}q=ma(h.ko);for(u=q.next();!u.done;u=q.next()){if(u.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return h.FS(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(m).then(function(p){return new d.p_(n,p);});};c.prototype.FS=function(n){var h;h=this;return this.Loa(n).then(function(m){return m.supported?h.config().BCb?h.uy.FS(n):h.ela(n):m;});};c.prototype.ela=function(n){var h;n=this.QV[n];h="";return n?(Array.isArray(n) && (h=1 < n.length?" " + n[1]:"",n=n[0]),n=g("{0}/mp4;codecs={1};{2}",this.oqa[this.mediaType],n,h),this.FE(n)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.bBb=function(n){this.ZLb();return this.GS(n);};c.prototype.Loa=function(){return Promise.resolve({supported:!0});};Wa.Object.defineProperties(c.prototype,{QV:{configurable:!0,enumerable:!0,get:function(){this.POa || (this.POa=this.Aq());return this.POa;}}});b.VC=c;},44668:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p,q,u,t,w){h=k.xz.call(this,h,m,p,w) || this;h.co=q;h.Ul=u;h.qa=t;h.uy=w;h.type=f.vl.oI;h.log=h.Ul.Ua("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.uAa=void 0;k=a(9045);f=a(77003);l=a(2467);d=a(85060);g=a(83931);n=a(13329);ia(c,k.xz);c.prototype.FH=function(h){switch(h){case f.zo.hD:return this.r2b;default:return Promise.resolve(!1);}};c.prototype.pT=function(){var h;h=this;return this.FH(f.zo.hD).then(function(m){return m?f.zo.hD:void 0;}).then(function(m){return h.O2(m);});};c.prototype.yga=function(h){this.Ep=h;};c.prototype.uNb=function(h){var m;return !(null === (m=h.getConfiguration().videoCapabilities) || void 0 === m || !m.some(function(p){return (null === p || void 0 === p?void 0:p.robustness) === d.au;}));};c.prototype.Ucb=function(){var h;if(this.Ep){h=this.N_a && this.P_a && this.N_a.wa(this.P_a).ba(l.oa);this.Ep.itshdcp=JSON.stringify({hdcp2:this.Qs,time2:h});}};c.prototype.Loa=function(h){var m;m=this;return this.co.dB().then(function(p){var q;q=(0,d.F4)(p);p=q === d.au || n.eb.NDa.includes(p.keySystem);return [g.Ed.oz,g.Ed.Nz,g.Ed.Ai].some(function(u){return u.test(h);}) && !g.Ed.REa.test(h) && m.config().l4a && p?{supported:!1,reason:"mcclearen-restricted"}:g.Ed.Jhb.test(h) && !(m.config().sCb || m.config().ZVa && q === d.au) || g.Ed.YI.test(h) && (!m.config().ZVa || q !== d.au)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Wa.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.e4a || (this.e4a=this.co.dB().then(function(h){return h.createMediaKeys();}));return this.e4a;}},r2b:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.pwa || (this.config().uCb?this.pwa=Promise.all([this.co.dB(),this.mediaKeys]).then(function(m){var p;p=ma(m);m=p.next().value;p=p.next().value;if(!h.uNb(m))return (h.Qs="not HW_SECURE_ALL",h.log.trace("hdcpStatus: " + h.Qs),!1);if(p && p.getStatusForPolicy)return (h.P_a=h.qa.fe,p.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(q){h.N_a=h.qa.fe;h.Qs=q;h.log.trace("hdcpStatus: " + h.Qs);return "usable" === h.Qs;}));h.Qs="not available";h.log.trace("hdcpStatus: " + h.Qs);return !1;}).catch(function(m){h.Qs="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.Qs},m);return !1;}).then(function(m){h.Ucb();return m;}):(this.Qs="not enabled",this.log.trace("hdcpStatus: " + this.Qs),this.Ucb(),this.pwa=Promise.resolve(!1)));return this.pwa;}}});b.uAa=c;},55024:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p){p=f.VC.call(this,h,m,k.v.Audio,p) || this;p.config=h;p.eo=m;p.type=k.Ut.qw;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.HY=void 0;k=a(77003);f=a(55700);l=a(39780);r=a(84540);d=a(21973);g=a(59608);n=new r.xD().format;ia(c,f.VC);c.prototype.WW=function(){var h;h=n(c.w$,l.sd.pgb);return Promise.resolve(this.config().GK && this.eo.isTypeSupported(h));};c.prototype.Aq=function(){return d.mba.Aq();};c.prototype.LZa=function(){return this.config().wE;};c.prototype.GS=function(h){return this.config().MTb?Promise.resolve(new g.p_(h,h.map(function(){return {supported:!0};}))):f.VC.prototype.GS.call(this,h);};b.HY=c;c.w$="audio/mp4;codecs={0};";},21973:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mba=void 0;k=a(56261);c.Aq=function(){var f;f={};return (f[k.xd.$C]="mp4a.40.2",f[k.xd.sZ]="mp4a.40.2",f[k.xd.aD]="mp4a.40.2",f[k.xd.Rw]="mp4a.40.42",f[k.xd.QO]="ec-3",f[k.xd.sY]="ec-3",f[k.xd.RO]="ec-3",f);};b.mba=c;},9045:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p,q,u){var t;t=l.VC.call(this,m,p,k.v.NMa,u) || this;t.config=m;t.eo=p;t.is=q;t.O6=u;t.type=k.vl.qw;t.W5b=d.sd.pUa();return t;}Object.defineProperty(b,"__esModule",{value:!0});b.xz=void 0;k=a(77003);f=a(56261);l=a(55700);r=a(84540);d=a(39780);g=a(73124);n=a(56170);h=a(59608);new r.xD();ia(c,l.VC);c.prototype.FH=function(){return Promise.resolve(!1);};c.prototype.zF=function(){return Promise.resolve("");};c.prototype.w4=function(){return Promise.resolve("");};c.prototype.YW=function(){return this.config().vka?this.O6.zoa()?this.O6.FS(f.H.ZO).then(function(m){return {result:m.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.j$=function(){return this.config().vka?this.O6.zoa()?this.O6.FS(f.H.SO).then(function(m){return {result:m.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.ZW=function(){return Promise.resolve(!1);};c.prototype.WW=function(){return Promise.resolve(!1);};c.prototype.ZS=function(m){return this.W5b[m];};c.prototype.yga=function(){};c.prototype.CPb=function(m){switch(m){case k.zo.TZ:return "1.4";case k.zo.hD:return "2.2";}};c.prototype.Aq=function(){return g.IY.Aq();};c.prototype.LZa=function(){var p;function m(q,u){return (0,n.Acb)(function(t,w){return t.name === w.name;},q,u);}p=m(this.config().rQa,this.config().km);return m(p,this.config().Uq);};c.prototype.pT=function(){return Promise.resolve(void 0);};c.prototype.J4=function(){return Promise.resolve(void 0);};c.prototype.O2=function(m){var p;p=[];this.is.vg(m) && p.push(this.CPb(m));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:!!p.length}];};c.prototype.GS=function(m){return this.config().NTb?Promise.resolve(new h.p_(m,m.map(function(){return {supported:!0};}))):l.VC.prototype.GS.call(this,m);};b.xz=c;c.w$="video/mp4;codecs={0};";},73124:function(r,b,a){var k,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.IY=void 0;k=a(56261);f=a(39780);c.Aq=function(){var l;l={};return (l[k.H.YC]="avc1.4D401E",l[k.H.ZC]="avc1.4D401F",l[k.H.$Y]="avc1.4D4028",l[k.H.WCa]="avc1.4D401E",l[k.H.XCa]="avc1.4D401F",l[k.H.YCa]="avc1.4D4028",l[k.H.Iba]="hev1.2.6.L90.B0",l[k.H.Jba]="hev1.2.6.L93.B0",l[k.H.Kba]="hev1.2.6.L120.B0",l[k.H.Lba]="hev1.2.6.L123.B0",l[k.H.vZ]="hev1.2.6.L90.B0",l[k.H.yZ]="hev1.2.6.L93.B0",l[k.H.BZ]="hev1.2.6.L120.B0",l[k.H.EZ]="hev1.2.6.L123.B0",l[k.H.$O]="hev1.2.6.L150.B0",l[k.H.aP]="hev1.2.6.L153.B0",l[k.H.wZ]="hev1.2.6.L90.B0",l[k.H.zZ]="hev1.2.6.L93.B0",l[k.H.CZ]="hev1.2.6.L120.B0",l[k.H.FZ]="hev1.2.6.L123.B0",l[k.H.HZ]="hev1.2.6.L150.B0",l[k.H.JZ]="hev1.2.6.L153.B0",l[k.H.uZ]="hev1.2.6.L90.B0",l[k.H.xZ]="hev1.2.6.L93.B0",l[k.H.AZ]="hev1.2.6.L120.B0",l[k.H.DZ]="hev1.2.6.L123.B0",l[k.H.GZ]="hev1.2.6.L150.B0",l[k.H.IZ]="hev1.2.6.L153.B0",l[k.H.cZ]="hev1.2.6.L90.B0",l[k.H.fZ]="hev1.2.6.L93.B0",l[k.H.ZO]="hev1.2.6.L120.B0",l[k.H.kZ]="hev1.2.6.L123.B0",l[k.H.nZ]="hev1.2.6.L150.B0",l[k.H.qZ]="hev1.2.6.L153.B0",l[k.H.dZ]="hev1.2.6.L90.B0",l[k.H.gZ]="hev1.2.6.L93.B0",l[k.H.iZ]="hev1.2.6.L120.B0",l[k.H.lZ]="hev1.2.6.L123.B0",l[k.H.oZ]="hev1.2.6.L150.B0",l[k.H.rZ]="hev1.2.6.L153.B0",l[k.H.bZ]="hev1.2.6.L90.B0",l[k.H.eZ]="hev1.2.6.L93.B0",l[k.H.hZ]="hev1.2.6.L120.B0",l[k.H.jZ]="hev1.2.6.L123.B0",l[k.H.mZ]="hev1.2.6.L150.B0",l[k.H.pZ]="hev1.2.6.L153.B0",l[k.H.uY]=f.sd.cba,l[k.H.wY]=f.sd.$Aa,l[k.H.SO]=f.sd.dba,l[k.H.zY]=f.sd.eba,l[k.H.BY]=f.sd.fba,l[k.H.DY]=f.sd.gba,l[k.H.hba]=f.sd.dba,l[k.H.iba]=f.sd.eba,l[k.H.jba]=f.sd.fba,l[k.H.kba]=f.sd.gba,l[k.H.vY]=f.sd.cba,l[k.H.xY]=f.sd.$Aa,l[k.H.yY]=f.sd.dba,l[k.H.AY]=f.sd.eba,l[k.H.CY]=f.sd.fba,l[k.H.EY]=f.sd.gba,l[k.H.UCa]="avc1.640016",l[k.H.UY]="avc1.64001E",l[k.H.WY]="avc1.64001F",l[k.H.YY]="avc1.640028",l[k.H.VCa]="avc1.640016",l[k.H.VY]="avc1.64001E",l[k.H.XY]="avc1.64001F",l[k.H.ZY]="avc1.640028",l[k.H.qea]=f.sd.WP,l[k.H.U_]=f.sd.WP,l[k.H.V_]=f.sd.WP,l[k.H.XP]=f.sd.WP,l[k.H.Txa]=f.sd.Ai,l[k.H.Uxa]=f.sd.Ai,l[k.H.mz]=f.sd.Ai,l[k.H.nz]=f.sd.Ai,l[k.H.iI]=f.sd.Ai,l[k.H.jI]=f.sd.Ai,l[k.H.bY]=f.sd.Ai,l[k.H.cY]=f.sd.Ai,l);};b.IY=c;},75977:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p){this.config=h;this.lSa=m;this.KUb=p;this.DWb=this.izb();}Object.defineProperty(b,"__esModule",{value:!0});b.nBa=void 0;r=a(70655);k=a(77003);f=a(65146);l=a(86700);d=a(56261);g=a(37239);a=a(40409);c.prototype.b_a=function(h){return this.VXa().c_a(h);};c.prototype.d_a=function(h){return this.Os().c_a(h);};c.prototype.VXa=function(){this.tha && this.tha.type == this.config().uha || (this.tha=this.lSa.qyb(this.config().uha));return this.tha;};c.prototype.Os=function(){this.K$ && this.K$.type == this.config().L$ || (this.K$=this.lSa.wzb(this.config().L$),this.K$.yga(this.KUb.jHb()));return this.K$;};c.prototype.wHb=function(h){var q;if(!h || !h.length)return k.Te.aZ;h=this.IEb(h);for(var m=[k.Te.OP,k.Te.aZ,k.Te.YI,k.Te.yI,k.Te.Yt,k.Te.oz,k.Te.Nz,k.Te.Ai],p=m.length;p--;){q=m[p];if((0,this.DWb[q])(h))return q;}return k.Te.OP;};c.prototype.FH=function(h){return this.Os().FH(h);};c.prototype.FE=function(h){return this.Os().FE(h);};c.prototype.zF=function(){return this.Os().zF();};c.prototype.w4=function(){return this.Os().w4();};c.prototype.YW=function(){return this.Os().YW();};c.prototype.WW=function(){return this.VXa().WW();};c.prototype.j$=function(){return this.Os().j$();};c.prototype.ZW=function(){return this.Os().ZW();};c.prototype.ZS=function(h){return this.Os().ZS(h);};c.prototype.pT=function(){return this.Os().pT();};c.prototype.J4=function(){return this.Os().J4();};c.prototype.IEb=function(h){var m;m={};h.filter(function(p){return "video" === p.type;}).forEach(function(p){m[p.Md]="";});return Object.keys(m);};c.prototype.izb=function(){var h;h={};h[k.Te.Ai]=function(m){return m.some(function(p){return -1 < p.indexOf("av1");});};h[k.Te.oz]=function(m){return m.some(function(p){return -1 < p.indexOf("hpl");});};h[k.Te.Nz]=function(m){return m.some(function(p){return -1 < p.indexOf("vp9");});};h[k.Te.Yt]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-dv");});};h[k.Te.yI]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-hdr");});};h[k.Te.YI]=function(m){return m.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};h[k.Te.aZ]=(function(m,p){var q;q={};m.forEach(function(u){return q[u]=1;});m=ma(p);for(p=m.next();!p.done;p=m.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.H.ZC]);h[k.Te.OP]=function(){return !0;};return h;};n=c;n=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.pI)),r.__param(1,(0,l.l)(a.nAa)),r.__param(2,(0,l.l)(g.ACa))],n);b.nBa=n;},86229:function(r,b,a){var k,f,l;function c(d){this.UVb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;r=a(70655);k=a(86700);f=a(14756);a=a(36875);c.prototype.bEb=function(){var d,g;d={SK:f.yw.amb};try{g=this.UVb.PresentationRequest;g && (new g("https://netflix.com").getAvailability() || Promise.reject()).then(function(n){var h;d.SK=n.value?f.yw.gKa:f.yw.Wxa;if(d.SK === f.yw.Wxa){h=function(){n.value && (d.SK=f.yw.gKa);n.removeEventListener("change",h);};n.addEventListener("change",h);}}).catch(function(){d.SK=f.yw.Error;});}catch(n){d.SK=f.yw.Error;}return d;};l=c;l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.hKa))],l);b.zCa=l;},51080:function(r,b,a){var k,f,l,d,g;function c(n,h){this.config=n;this.pAb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.GEa=void 0;r=a(70655);k=a(86700);f=a(21788);l=a(65146);d=a(77003);g=a(52825);c.prototype.dUa=function(){switch(this.config().L$){case d.vl.Ew:return g.Cz.Ryb();default:return this.pAb;}};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.pI)),r.__param(1,(0,k.l)(f.UIa))],a);b.GEa=a;},33561:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F;function c(G,E,J,L,N,I,O,K,H){G=f.xz.call(this,G,E,J,K) || this;G.wc=L;G.qa=N;G.Ul=I;G.kc=O;G.uy=K;G.co=H;G.type=l.vl.Ew;G.nI="hvc1";G.Xfb="avc1";G.O6a={};G.log=G.Ul.Ua("MicrosoftVideoCapabilityDetector");G.v1b();G.XW && G.config().BQb?G.EVa=G.Hyb():(G.EVa=Promise.resolve(""),G.config().DQb?G.Nyb():G.config().CQb && G.Myb());return G;}Object.defineProperty(b,"__esModule",{value:!0});b.RFa=void 0;k=a(56261);f=a(9045);l=a(77003);r=a(84540);d=a(13329);g=a(2467);n=a(52275);h=a(39780);m=a(52825);p=a(85060);q=a(83931);u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];C=("decode-bpp=8 decode-res-x=1920 decode-res-y=1080 decode-bitrate=10000000 decode-fps=30 encryption-type=cenc-clearlead encryption-iv-size=8").split(" ");D=new r.xD();F=new n.Iaa();ia(c,f.xz);c.prototype.ZS=function(G){return G === l.Te.Yt && this.config().i5b?h.sd.Hba:f.xz.prototype.ZS.call(this,G);};c.prototype.FH=function(G){switch(G){case l.zo.TZ:return this.kbb();case l.zo.hD:return this.SV;default:return Promise.resolve(!1);}};c.prototype.zF=function(){var E;function G(){return E.XW?E.bLb?E.kbb().then(function(J){return Promise.resolve(J?d.eb.yd:d.eb.sD);}):Promise.resolve(d.eb.sD):E.u2b?Promise.resolve(d.eb.sD):Promise.resolve(d.eb.Lw);}E=this;this.keySystem || (this.keySystem=this.config().Dr?this.co.dB().then(function(J){return J.keySystem;}):G());return this.keySystem;};c.prototype.w4=function(){return this.EVa;};c.prototype.YW=function(){return Promise.resolve({result:this.jbb(),reason:"is-type-supported"});};c.prototype.ZW=function(){return this.XW && this.mbb()?this.SV:Promise.resolve(!1);};c.prototype.j$=function(){return Promise.resolve(this.ibb()).then(function(G){return {result:G,reason:"isTypeSupportedWithFeatures"};});};c.prototype.yga=function(G){this.Ep=G;Object.assign(this.Ep,this.O6a);G.itshwdrm=this.XW;G.itsqhd=this.lbb();G.itshevc=this.mbb();G.itshdr=this.jbb();G.itsdv=this.ibb();G.itsav1=this.q2b();G.itshevccl=this.s2b();this.gxa();};c.prototype.kR=function(G,E){(this.Ep?this.Ep:this.O6a)[G]=E;};c.prototype.pT=function(){var G;G=this;return this.FH(l.zo.hD).then(function(E){return E?G.O2(l.zo.hD):G.FH(l.zo.TZ).then(function(J){return J?G.O2(l.zo.TZ):G.O2(void 0);});});};c.prototype.J4=function(){return this.config().Dr?Promise.resolve(void 0):this.zF().then(function(G){return G === d.eb.yd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.ela=function(G){var E;E=this;return this.zF().then(function(J){var L,N,I;L=E.QV[G];if(L){N=[];if(E.is.Vo(L))I=L;else (N=L.features,I=L.vd,J=L.keySystem);return E.Uu(J,I,N)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.Aq=function(){var G;G=f.xz.prototype.Aq.call(this);G[k.H.XP]=G[k.H.V_]=G[k.H.U_]=G[k.H.qea]={vd:"vp09.00.11.08.02",keySystem:d.eb.yd,features:u};G[k.H.wZ]=G[k.H.vZ]=G[k.H.uZ]={vd:"hev1.2.6.L90.B0",keySystem:d.eb.yd,features:t};G[k.H.zZ]=G[k.H.yZ]=G[k.H.xZ]={vd:"hev1.2.6.L93.B0",keySystem:d.eb.yd,features:t};G[k.H.CZ]=G[k.H.BZ]=G[k.H.AZ]={vd:"hev1.2.6.L120.B0",keySystem:d.eb.yd,features:t};G[k.H.FZ]=G[k.H.EZ]=G[k.H.DZ]={vd:"hev1.2.6.L123.B0",keySystem:d.eb.yd,features:t};G[k.H.HZ]=G[k.H.$O]=G[k.H.GZ]={vd:"hev1.2.6.L150.B0",keySystem:d.eb.yd,features:t};G[k.H.JZ]=G[k.H.aP]=G[k.H.IZ]={vd:"hev1.2.6.L153.B0",keySystem:d.eb.yd,features:t};G[k.H.dZ]=G[k.H.cZ]=G[k.H.bZ]={vd:"hev1.2.6.L90.B0",keySystem:d.eb.yd,features:v};G[k.H.gZ]=G[k.H.fZ]=G[k.H.eZ]={vd:"hev1.2.6.L93.B0",keySystem:d.eb.yd,features:v};G[k.H.iZ]=G[k.H.ZO]=G[k.H.hZ]={vd:"hev1.2.6.L120.B0",keySystem:d.eb.yd,features:v};G[k.H.lZ]=G[k.H.kZ]=G[k.H.jZ]={vd:"hev1.2.6.L123.B0",keySystem:d.eb.yd,features:y};G[k.H.oZ]=G[k.H.nZ]=G[k.H.mZ]={vd:"hev1.2.6.L150.B0",keySystem:d.eb.yd,features:y};G[k.H.rZ]=G[k.H.qZ]=G[k.H.pZ]={vd:"hev1.2.6.L153.B0",keySystem:d.eb.yd,features:y};G[k.H.vY]=G[k.H.uY]={vd:"hev1.2.6.L90.B0",keySystem:d.eb.yd,features:x};G[k.H.xY]=G[k.H.wY]={vd:"hev1.2.6.L93.B0",keySystem:d.eb.yd,features:x};G[k.H.yY]=G[k.H.hba]=G[k.H.SO]={vd:"hev1.2.6.L120.B0",keySystem:d.eb.yd,features:x};G[k.H.AY]=G[k.H.iba]=G[k.H.zY]={vd:"hev1.2.6.L123.B0",keySystem:d.eb.yd,features:z};G[k.H.CY]=G[k.H.jba]=G[k.H.BY]={vd:"hev1.2.6.L150.B0",keySystem:d.eb.yd,features:z};G[k.H.EY]=G[k.H.kba]=G[k.H.DY]={vd:"hev1.2.6.L153.B0",keySystem:d.eb.yd,features:z};G[k.H.mz]={vd:"av01.0.04M.10",keySystem:d.eb.yd,features:u};G[k.H.nz]={vd:"av01.0.05M.10",keySystem:d.eb.yd,features:u};G[k.H.iI]={vd:"av01.0.08M.10",keySystem:d.eb.yd,features:u};G[k.H.jI]={vd:"av01.0.09M.10",keySystem:d.eb.yd,features:u};G[k.H.bY]={vd:"av01.0.12M.10",keySystem:d.eb.yd,features:w};G[k.H.cY]={vd:"av01.0.13M.10",keySystem:d.eb.yd,features:w};return G;};c.prototype.Uu=function(G,E,J){G=m.Cz.P2(G,E,J);return this.FE(G);};c.prototype.lbb=function(){return this.Uu(d.eb.yd,this.nI,t);};c.prototype.jbb=function(){return this.Uu(d.eb.yd,this.nI,v);};c.prototype.ibb=function(){return this.Uu(d.eb.yd,this.nI,x);};c.prototype.q2b=function(){return this.Uu(d.eb.yd,h.sd.Ai,u);};c.prototype.mbb=function(){return this.Uu(d.eb.yd,this.nI,w);};c.prototype.s2b=function(){return this.Uu(d.eb.yd,this.nI,C);};c.prototype.kbb=function(){var G;G=this;return this.SV.then(function(E){return E?Promise.resolve(E):G.M7a;});};c.prototype.gxa=function(){this.Ep && (this.Ep.itshdcp=JSON.stringify({hdcp1:this.L_a,time1:this.Jbb - this.Aab,hdcp2:this.M_a,time2:this.Kbb - this.Bab}));};c.prototype.v1b=function(){var G;G=this;this.XW?(this.SV=this.HZa(this.config().m4a,this.config().FQb,function(){var E;E=G.uHb();return ["maybe" !== E,E];}).then(function(E){return "probably" === E;}),this.M7a=this.SV.then(function(E){return E?!0:G.HZa(G.config().m4a,G.config().EQb,function(){var J;J=G.tHb();return ["maybe" !== J,J];}).then(function(J){return "probably" === J;});})):(this.M7a=Promise.resolve(!0),this.SV=Promise.resolve(!1));};c.prototype.HZa=function(G,E,J){var L;L=this;return new Promise(function(N){var I,O,K,H;I=ma(J());O=I.next().value;I=I.next().value;if(O)return N(I);K=L.wc.sN((0,g.Kb)(G),function(){var M,R;M=ma(J());R=M.next().value;M=M.next().value;R && (K.cancel(),H.cancel(),N(M));});H=L.wc.Ij((0,g.Kb)(E),function(){K.cancel();H.cancel();N("timeout");});});};c.prototype.tHb=function(){var G;G=m.Cz.P2(d.eb.sD,this.Xfb,A).split("|");this.L_a=m.Cz.owa(G[0],G[1]);this.Jbb=this.qa.fe.ba(g.oa);this.Aab=this.Aab || this.Jbb;this.gxa();return this.L_a;};c.prototype.uHb=function(){var G;G=m.Cz.P2(d.eb.yd,this.nI,B).split("|");this.M_a=m.Cz.owa(G[0],G[1]);this.Kbb=this.qa.fe.ba(g.oa);this.Bab=this.Bab || this.Kbb;this.gxa();return this.M_a;};c.prototype.Hyb=function(){var G;G=this;return this.pja(d.eb.yd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.GHa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(E){G.log.debug("DriverInfo: " + E);return E;}).catch(function(E){G.kR("itsDriverInfo","exception");G.log.error("DriverInfo exception",E);throw E;});};c.prototype.Myb=function(){var G;G=this;this.pja(d.eb.Lw,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(E){var J;J=String.fromCharCode.apply(void 0,G.kc.decode(E));G.kR("itsHardwareInfo",J);G.log.debug("HardwareInfo: " + J);return E;}).catch(function(E){G.kR("itsHardwareInfo","exception");G.log.error("HardwareInfo exception",E);throw E;});};c.prototype.Nyb=function(){var G;G=this;this.pja(d.eb.Lw,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(E){var J;J=String.fromCharCode.apply(void 0,G.kc.decode(E));G.kR("itsHardwareReset",J);G.log.debug("ResetHardwareDRMDisabled: " + J);return E;}).catch(function(E){G.kR("itsHardwareReset","exception");G.log.error("ResetHardwareDRMDisabled exception",E);throw E;});};c.prototype.pja=function(G,E){var J;J=this;return new Promise(function(L,N){var R,Y,ea;function I(ca){try{H(ca.target,"Unexpectedly got an mskeyerror event: 0x" + F.pF(ca && ca.target && ca.target.error && ca.target.error.ngc || 0,4));}catch(oa){H(ca.target,oa);}}function O(ca){H(ca.target,"Unexpectedly got an mskeyadded event");}function K(ca){var oa;try{oa=J.$ka(ca.message,"PlayReadyKeyMessage","Challenge");M(ca.target);L(oa);}catch(Ga){H(ca.target,Ga);}}function H(ca,oa){J.log.error("PlayReadyChallenge error",{cdmData:E});M(ca);N(oa);}function M(ca){ca.removeEventListener("mskeymessage",K);ca.removeEventListener("mskeyadded",O);ca.removeEventListener("mskeyerror",I);ea && ea.cancel();}try{R=new Uint8Array(D.Wab(E));Y=new pb.MSMediaKeys(G).createSession("video/mp4",new Uint8Array(0),R);Y.addEventListener("mskeymessage",K);Y.addEventListener("mskeyadded",O);Y.addEventListener("mskeyerror",I);ea=J.wc.Ij((0,g.Kb)(1E3),function(){H(Y,Error("timeout"));});}catch(ca){N(ca);}});};c.prototype.$ka=function(G,E){var L,N,I;for(var J=1;J < arguments.length;++J){;}J="";N=G.length;for(L=0;L < N;L++){I=G[L];0 < I && (J+=String.fromCharCode(I));}N="\\s*(.*)\\s*";for(L=arguments.length - 1;0 < L;L--){I=arguments[L];if(0 > J.search(I))return;I="(?:[^:].*:|)" + I;N="[\\s\\S]*<" + I + "[^>]*>" + N + "</" + I + ">[\\s\\S]*";}if(J=J.match(new RegExp(N)))return J[1];};c.prototype.Loa=function(G){var E;E=this;return this.zF().then(function(J){return [q.Ed.oz,q.Ed.Nz,q.Ed.Ai].some(function(L){return L.test(G);}) && !q.Ed.REa.test(G) && E.config().l4a && ![d.eb.sD,d.eb.$Ia].some(function(L){return L === J;})?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Wa.Object.defineProperties(c.prototype,{bLb:{configurable:!0,enumerable:!0,get:function(){return this.config().$Va && (!this.config().GQb || this.lbb());}},XW:{configurable:!0,enumerable:!0,get:function(){try{return this.FE(d.eb.yd + "|" + h.sd.wqa);}catch(G){return !1;}}},u2b:{configurable:!0,enumerable:!0,get:function(){try{return this.FE(d.eb.sD);}catch(G){return !1;}}}});b.RFa=c;},41826:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p,q,u,t){this.config=p;this.navigator=q;this.Ul=u;this.eM=t;this.iRa={};this.Fdb={};this.Kga={};this.log=this.Ul.Ua("MediaCapabilityDetector");this.iRa=this.pyb();this.Fdb=this.vzb();}Object.defineProperty(b,"__esModule",{value:!0});b.fGa=void 0;r=a(70655);k=a(86700);f=a(56261);l=a(71163);d=a(63088);g=a(1092);n=a(65146);h=a(85060);m=a(50876);c.prototype.FS=function(p){var q;q=this;return this.eM.dB().then(function(u){return q.pEb(p,u);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.LMb=function(p){return !!p.colorGamut || !!p.hdrMetadataType || !!p.transferFunction;};c.prototype.zoa=function(){return pb.matchMedia("(dynamic-range: high)").matches;};c.prototype.pEb=function(p,q){var u,t,w;try{u={type:"media-source"};t=this.iRa[p];w=this.Fdb[p];if(t)u.audio=t;else if(w){u.video=w;if(this.LMb(w) && !this.zoa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (u.keySystemConfiguration=this.JHb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.dvb(u),this.bvb((t || w).contentType)]).then(function(v){var y;y=ma(v);v=y.next().value;y=y.next().value;return v?y?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(v){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",v),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.dvb=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(u){var t;u.configuration || (u.configuration=p);t=q.lNb(p,u);t?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(u)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(u));return t;}).catch(function(u){q.log.error("mediaCapabilities.decodingInfo failed",u);return !1;});};c.prototype.bvb=function(p){var q;q=this;if(!this.config().CCb)return Promise.resolve(!0);this.Kga[p] || (this.Kga[p]=new Promise(function(u){var t;try{t=new m.Ez();document.createElement("video").src=URL.createObjectURL(t);t.addEventListener("sourceopen",function(){try{t.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);u(!0);}catch(w){q.log.warn("addSourceBuffer failed",w);u(!1);}});}catch(w){q.log.warn("addSourceBuffer failed",w);u(!1);}}));return this.Kga[p];};c.prototype.JHb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,h.F4)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.pyb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[f.xd.$C]=q;p[f.xd.sZ]=q;p[f.xd.aD]=q;p[f.xd.Rw]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[f.xd.QO]=q;p[f.xd.sY]=q;p[f.xd.RO]=q;return p;};c.prototype.vzb=function(){var p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L,N,I;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};u={width:1920,height:1080};t={width:3840,height:2160};w=Object.assign(Object.assign({},u),{bitrate:12E6,framerate:30});v=Object.assign(Object.assign({},u),{bitrate:2E7,framerate:60});y=Object.assign(Object.assign({},t),{bitrate:25E6,framerate:30});x=Object.assign(Object.assign({},t),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};A={colorGamut:"rec2020",transferFunction:"pq"};t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),w);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),w);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),w);C=Object.assign(Object.assign({},p),w);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),v);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),y);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),x);E=Object.assign(Object.assign(Object.assign({},p),w),z);J=Object.assign(Object.assign(Object.assign({},p),v),z);L=Object.assign(Object.assign(Object.assign({},p),y),z);p=Object.assign(Object.assign(Object.assign({},p),x),z);z=Object.assign(Object.assign(Object.assign({},q),w),A);N=Object.assign(Object.assign(Object.assign({},q),v),A);I=Object.assign(Object.assign(Object.assign({},q),y),A);q=Object.assign(Object.assign(Object.assign({},q),x),A);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),w);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),v);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),y);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),x);A={};return (A[f.H.YC]=t,A[f.H.ZC]=t,A[f.H.$Y]=t,A[f.H.WCa]=t,A[f.H.XCa]=t,A[f.H.YCa]=t,A[f.H.UCa]=u,A[f.H.UY]=u,A[f.H.WY]=u,A[f.H.YY]=u,A[f.H.VCa]=u,A[f.H.VY]=u,A[f.H.XY]=u,A[f.H.ZY]=u,A[f.H.qea]=B,A[f.H.U_]=B,A[f.H.V_]=B,A[f.H.XP]=B,A[f.H.Iba]=C,A[f.H.Jba]=C,A[f.H.Kba]=C,A[f.H.Lba]=D,A[f.H.vZ]=C,A[f.H.yZ]=C,A[f.H.BZ]=C,A[f.H.EZ]=D,A[f.H.$O]=F,A[f.H.aP]=G,A[f.H.wZ]=C,A[f.H.zZ]=C,A[f.H.CZ]=C,A[f.H.FZ]=D,A[f.H.HZ]=F,A[f.H.JZ]=G,A[f.H.uZ]=C,A[f.H.xZ]=C,A[f.H.AZ]=C,A[f.H.DZ]=D,A[f.H.GZ]=F,A[f.H.IZ]=G,A[f.H.cZ]=E,A[f.H.fZ]=E,A[f.H.ZO]=E,A[f.H.kZ]=J,A[f.H.nZ]=L,A[f.H.qZ]=p,A[f.H.dZ]=E,A[f.H.gZ]=E,A[f.H.iZ]=E,A[f.H.lZ]=J,A[f.H.oZ]=L,A[f.H.rZ]=p,A[f.H.bZ]=E,A[f.H.eZ]=E,A[f.H.hZ]=E,A[f.H.jZ]=J,A[f.H.mZ]=L,A[f.H.pZ]=p,A[f.H.uY]=z,A[f.H.wY]=z,A[f.H.SO]=z,A[f.H.zY]=N,A[f.H.BY]=I,A[f.H.DY]=q,A[f.H.hba]=z,A[f.H.iba]=N,A[f.H.jba]=I,A[f.H.kba]=q,A[f.H.vY]=z,A[f.H.xY]=z,A[f.H.yY]=z,A[f.H.AY]=N,A[f.H.CY]=I,A[f.H.EY]=q,A[f.H.Txa]=w,A[f.H.Uxa]=w,A[f.H.mz]=w,A[f.H.nz]=w,A[f.H.iI]=w,A[f.H.jI]=v,A[f.H.bY]=y,A[f.H.cY]=x,A);};c.prototype.lNb=function(p,q){return p.video && this.config().sVb?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(n.pI)),r.__param(1,(0,k.l)(d.JI)),r.__param(2,(0,k.l)(l.Xa)),r.__param(3,(0,k.l)(g.Dw))],a);b.fGa=a;},43784:function(r,b,a){var k,f;function c(l){this.navigator=l;this.c4a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.hGa=void 0;r=a(70655);k=a(86700);a=a(63088);c.prototype.dla=function(l){return this.c4a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:l.contentType,width:l.width,height:l.height,bitrate:l.bitrate,framerate:l.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};f=c;f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.JI))],f);b.hGa=f;},82226:function(r,b,a){var k,f,l,d;function c(g,n){this.mediaCapabilities=g;this.log=n.Ua("MediaCapabilities");this.QV=d.IY.Aq();}Object.defineProperty(b,"__esModule",{value:!0});b.iGa=void 0;r=a(70655);k=a(63626);f=a(71163);l=a(86700);d=a(73124);c.prototype.dla=function(g){var n,h,m,p;n=this;m={Kf:void 0};if(this.mediaCapabilities.c4a){p={contentType:'video/mp4;codecs="' + (null !== (h=this.QV[g.Md]) && void 0 !== h?h:"avc1.640028") + '"',width:g.width,height:g.height,bitrate:1E3 * g.bitrate,framerate:24};this.mediaCapabilities.dla(p).then(function(q){return m.Kf=Object.assign(Object.assign({},q),p);}).catch(function(q){return n.log.error("Error calling MediaCapabilities API",q);});}return m;};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(k.kGa)),r.__param(1,(0,l.l)(f.Xa))],a);b.iGa=a;},65168:function(r,b,a){var k,f,l,d,g;function c(n,h,m,p,q){n=d.HY.call(this,n,h,q) || this;n.is=m;n.platform=p;n.type=k.Ut.Ew;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.IGa=void 0;k=a(77003);f=a(56261);l=a(13329);d=a(55024);g=a(52825);ia(c,d.HY);c.prototype.WW=function(){return Promise.resolve(this.config().GK && this.Uu(l.eb.Lw,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Aq=function(){var n,h;n={};n=(n[f.xd.$C]="mp4a.40.2",n[f.xd.aD]="mp4a.40.2",n);if("browser" === this.platform.Yja){h={};return Object.assign(Object.assign({},n),(h[f.xd.QO]=this.config().GK?{vd:"avc1",keySystem:l.eb.Lw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.xd.RO]=this.config().GK?{vd:"avc1",keySystem:l.eb.Lw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.xd.sZ]=void 0,h[f.xd.Rw]=void 0,h[f.xd.sY]=void 0,h));}h={};return Object.assign(Object.assign({},n),(h[f.xd.QO]=this.config().XVa?"ec-3":void 0,h[f.xd.sY]=this.config().WVa?"ec-3":void 0,h[f.xd.RO]=this.config().GK?{vd:"avc1",keySystem:l.eb.Lw,features:["audio-endpoint-codec=DD+JOC"]}:void 0,h[f.xd.sZ]=void 0,h[f.xd.Rw]=void 0,h));};c.prototype.ela=function(n){var h,m,p;n=this.QV[n];h=[];m=l.eb.Lw;if(n){if(this.is.Vo(n))p=n;else (h=n.features,p=n.vd,m=n.keySystem);return this.Uu(m,p,h)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.Uu=function(n,h,m){n=g.Cz.P2(n,h,m);return this.FE(n);};b.IGa=c;},52825:function(r,b,a){var k,f,l;function c(){this.type=k.Ut.Ew;}Object.defineProperty(b,"__esModule",{value:!0});b.Cz=void 0;k=a(77003);r=a(84540);f=a(13329);l=new r.xD();c.Ryb=function(){return {isTypeSupported:function(d){var g;try{if(-1 == d.toLowerCase().indexOf("codec"))return pb.MSMediaKeys.isTypeSupported(d,"video/mp4");g=d.split("|");return 1 === g.length?pb.MSMediaKeys.isTypeSupported(f.eb.Lw,d):"probably" === c.owa(g[0],g[1]);}catch(n){return !1;}}};};c.P2=function(d,g,n){g=l.format(c.w$,g);if(0 === n.length)return g;n=l.format('features="{0}"',n.join());return l.format("{0}|{1}{2}",d,g,n);};c.owa=function(d,g){var n;try{n=pb.MSMediaKeys.isTypeSupportedWithFeatures?pb.MSMediaKeys.isTypeSupportedWithFeatures(d,g):"";}catch(h){n="exception";}return n;};b.Cz=c;c.w$='video/mp4;codecs="{0},mp4a";';},59608:function(r,b){function a(c,k){var f;f=this;this.status={};c.forEach(function(l,d){f.status[l]=k[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.p_=void 0;a.prototype.qL=function(){return this.status;};a.prototype.Q4=function(){return Object.entries(this.status).filter(function(c){c=ma(c);c.next();return c.next().value.supported;}).map(function(c){var k;c=ma(c);k=c.next().value;c.next();return k;});};b.p_=a;},72014:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p,q,u){this.Km=p;this.ub=q;this.Yab=u;this.Tpb="video/mp4;codecs={0}";this.wmb="audio/mp4;codecs={0}";p=this.Km.ZS(f.Te.Yt);this.Spb=d.sd.pUa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.uLa=void 0;r=a(70655);f=a(77003);l=a(86700);d=a(39780);g=a(89542);n=a(91402);h=a(98330);m=a(7942);c.prototype.T2=function(p){p=this.Km.wHb(p);p=this.ub.VE(p)?p:f.Te.OP;return this.Yab.format(this.Tpb,this.Spb[p]);};c.prototype.N2=function(p){if(0 === p.length)return this.Yab.format(this.wmb,d.sd.aaa);p=h.iza[p[0].Md] || k.Sxa;return p === k.Sxa?m.NFa:p === k.Meb?m.OFa:m.MFa;};a=k=c;a.Sxa="AAC";a.Meb="XHEAAC";a=k=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(f.rw)),r.__param(1,(0,l.l)(g.Wf)),r.__param(2,(0,l.l)(n.hea))],a);b.uLa=a;},422:function(r,b,a){var c,k,f,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.Jk=void 0;r=a(86700);c=a(15303);k=a(65898);f=a(29344);l=a(39465);d=a(43931);b.Jk=new r.$c(function(g){g(c.tw).Vd(function(){return function(){return pb._cad_global.device;};});g(l.sBa).to(d.rBa).da();g(k.pBa).to(f.oBa).da();});},15303:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tw="DeviceFactorySymbol";},65898:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pBa="DeviceIdGeneratorSymbol";},39465:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sBa="DeviceProviderSymbol";},29344:function(r,b,a){var k,f,l,d,g,n;function c(h,m){this.qa=h;this.pta=m;}Object.defineProperty(b,"__esModule",{value:!0});b.oBa=void 0;r=a(70655);k=a(35664);f=a(2467);l=a(16690);d=a(39784);g=a(60920);a=a(86700);c.prototype.OFb=function(){for(var h="",m=this.qa.fe.ba(f.oa),p=6;p--;){h=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[m % 32] + h;m=Math.floor(m / 32);}for(;30 > h.length;){h+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.pta.$7a(new d.Mda(0,31,g.A5a))];}return h;};n=c;n=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(k.gg)),r.__param(1,(0,a.l)(l.y_))],n);b.oBa=n;},98470:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qBa=void 0;b.qBa=function(a,c,k,f){this.ck=a;this.In=c;this.H3=f;};},43931:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p,q,u,t,w){this.cBb=p;this.el=q;this.ub=t;this.pUb=w;this.ZBa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=u.Ua("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;r=a(70655);k=a(68172);f=a(89542);l=a(98470);d=a(71163);g=a(65898);n=a(86700);h=a(7336);a=a(87005);c.prototype.IWa=function(p){try{return p.match(this.ZBa)[2];}catch(q){}};c.prototype.SDb=function(p){try{return p.match(this.ZBa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(u,t){q.el.create().then(function(w){var y,x,z,A,B,C;function v(D){q.ub.zm(D) && q.ub.zm(y)?(x=new l.qBa(D,y,void 0,z,p.iS || "cadmium"),u(x)):t({xa:k.R.VAa});}y=p.In;if(p.dma){z="bind_device";q.pUb.Bf(q.log,{}).then(function(D){v(D.esn);}).catch(function(D){t(D);});}else if(p.$K){B=p.ck;if(q.ub.zm(B)){C=q.SDb(B);C != p.In && q.log.error("esn prefix from ui is different",{ui:C,cad:p.In,ua:p.userAgent});}else p.xpa && q.log.error("esn from ui is missing");!p.lO && q.ub.zm(B)?(z="config",v(B)):w.load(p.jVa).then(function(D){A=D.value;q.ub.zm(A) && (!1,q.ub.zm(B)?(D=q.IWa(B),z=D === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",v(y + A));}).catch(function(D){var E;function F(){w.save(p.jVa,E,!1).then(function(){v(y + E);}).catch(function(J){t(J);});}function G(){E=q.cBb.OFb();!1;F();}if(D.xa === k.R.Nw){if(q.ub.zm(p.ck)){E=q.IWa(p.ck);q.ub.zm(E)?(z="config_since_not_in_storage",F()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.ck),G());}else (z="generated_since_not_in_config_and_storage",G());}else t(D);});}else v();}).catch(function(w){t(w);});});};m=c;m=r.__decorate([(0,n.T)(),r.__param(0,(0,n.l)(g.pBa)),r.__param(1,(0,n.l)(h.kw)),r.__param(2,(0,n.l)(d.Xa)),r.__param(3,(0,n.l)(f.Wf)),r.__param(4,(0,n.l)(a.bIa))],m);b.rBa=m;},68511:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vaa="CachedDrmDataSymbol";},94773:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pY="CannedChallengeProvider";},40517:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C;Object.defineProperty(b,"__esModule",{value:!0});b.DK=b.OVa=void 0;r=a(86700);c=a(96630);k=a(69557);f=a(85957);l=a(68511);d=a(97355);g=a(67937);n=a(1092);h=a(26041);m=a(68262);p=a(94773);q=a(31863);u=a(79220);t=a(8425);w=a(35912);v=a(76353);y=a(31341);x=a(42032);z=a(33662);A=a(41535);B=a(21410);C=a(52490);b.OVa=new r.$c(function(D){D(k.CBa).to(f.BBa).da();D(l.Vaa).to(d.jAa).da();D(c.KY).oX(g.O7a);D(z.OEa).to(A.NEa).da();D(B.bca).to(C.PEa).da();D(n.Dw).GC(function(F){b.DK.parent=F.hb;return b.DK.get(n.Dw);});D(h.wP).Vd(function(){return function(){return new m.tGa();};});D(p.pY).to(q.lAa).da();D(u.wba).to(t.fCa).da();D(w.qba).to(v.HBa).da();D(y.qGa).to(x.pGa).da();});b.DK=new r.rY({uH:!0});},69557:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CBa="DrmDataFactorySymbol";},26984:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xoa=b.Zt=void 0;(function(a){a.hdb="usable";a.Fq="expired";a.released="released";a.a6a="output-restricted";a.JTb="output-downscaled";a.B1b="status-pending";a.hMb="internal-error";})(b.Zt || (b.Zt={}));b.xoa=function(a){return !!a && !!a.keyStatuses;};},77960:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.GVa=b.Hr=void 0;(function(c){c[c.F2a=0]="licenseStarted";c[c.q8a=1]="receivedLicenseChallenge";c[c.p8a=2]="receivedLicense";c[c.r8a=3]="receivedRenewalChallengeComplete";c[c.s8a=4]="receivedRenewalLicenseComplete";c[c.t8a=5]="receivedRenewalLicenseFailed";c[c.kXb=6]="receivedIndivChallengeComplete";c[c.lXb=7]="receivedIndivLicenseComplete";c[c.$Pa=8]="addLicenseComplete";c[c.gQa=9]="addRenewalLicenseComplete";c[c.hQa=10]="addRenewalLicenseFailed";})(a=b.Hr || (b.Hr={}));b.GVa=function(c){switch(c){case a.F2a:return "lg";case a.q8a:return "lc";case a.p8a:return "lr";case a.r8a:return "renew_lc";case a.s8a:return "renew_lr";case a.t8a:return "renew_lr_failed";case a.kXb:return "ilc";case a.lXb:return "ilr";case a.$Pa:return "ld";case a.gQa:return "renew_ld";case a.hQa:return "renew_ld_failed";default:return "unknown";}};},96630:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GBa="DrmServicesSymbol";b.KY="DrmServicesProviderSymbol";},35912:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qba="DrmTraitsFactorySymbol";},56594:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ohb=b.Ak=void 0;r=b.Ak || (b.Ak={});r[r.Ey=0]="playready";r[r.PX=1]="widevine";r[r.$A=2]="fairplay";r[r.Tbc=3]="clearkey";b.ohb="DrmTypeSymbol";},99745:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AD=void 0;r=b.AD || (b.AD={});r[r.Request=0]="Request";r[r.wKa=1]="Renewal";},79220:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wba="EmeApiFactorySymbol";},23152:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bq="EmeConfigSymbol";},84131:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iCa="EmeSessionFactorySymbol";},33662:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OEa="KeySystemProviderSymbol";},21410:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bca="KeySystemRestrictorSymbol";},31341:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qGa="MediaKeySystemAccessInternalFactorySymbol";},1092:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dw="MediaKeySystemAccessServicesSymbol";},26041:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wP="MediaKeysStorageFactorySymbol";},76427:function(r,b,a){var c,k,f,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.PVa=void 0;r=a(86700);c=a(96630);k=a(66160);f=a(1092);l=a(96638);d=a(84131);g=a(51847);b.PVa=new r.$c(function(n){n(c.GBa).to(k.FBa).da();n(f.Dw).to(l.sGa).da();n(d.iCa).to(g.hCa);});},97355:function(r,b,a){var l,d,g,n,h,m,p,q;function c(u,t,w){var v;v=this;this.is=u;this.el=t;this.config=w;this.Kt=function(){return {version:v.version,drmData:v.u3.map(function(y){return y.Kt();})};};this.Lla=function(y){var x;v.is.zm(y) && (y=k(y));1 === y.version && (y=f(v.is,y));x={version:2,data:[]};if(2 === y.version){x.version=y.version;try{x.data=y.drmData.map(function(z){return new q.JY(z);});}catch(z){throw new h.Mc(g.U.zI,g.R.vz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!y.version || !v.is.Zj(y.version))throw new h.Mc(g.U.zI,g.R.vz,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== y.version)throw new h.Mc(g.U.zI,g.R.Qza,void 0,void 0,void 0,"Version number is not supported. Version: " + y.version);}return x;};this.sk=new m.Vba(2,this.config.pS,this.is.zm(this.config.pS),this.el,this.Kt);}function k(u){u=JSON.parse(u);u={xid:u.xid,movieId:u.movieId,keySessionIds:u.keySessionIds,licenseContextId:u.licenseContextId};if(!u.licenseContextId || !u.xid || !u.movieId)throw new h.Mc(g.U.zI,g.R.vz);return {version:1,drmData:[u]};}function f(u,t){if(u.qA(t.drmData))return {version:2,drmData:t.drmData.map(function(w){var v;v=w.keySessionIds;return new q.JY({keySessionData:(v && 0 < v.length?v:[void 0]).map(function(y){return {id:y,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).Kt();})};throw new h.Mc(g.U.zI,g.R.vz);}Object.defineProperty(b,"__esModule",{value:!0});b.jAa=void 0;r=a(70655);l=a(86700);d=a(23152);g=a(68172);n=a(89542);h=a(56003);m=a(133);p=a(7336);q=a(85957);c.prototype.f8a=function(){return this.x1b();};c.prototype.VPa=function(u){return this.sk.add(u);};c.prototype.aW=function(u){return this.sk.remove(u,function(t,w){return t.ma === w.ma;});};c.prototype.toString=function(){return JSON.stringify(this.Kt(),null,"  ");};c.prototype.x1b=function(){var u;u=this;this.j8a || (this.j8a=new Promise(function(t,w){u.sk.load(u.Lla).then(function(){t();}).catch(function(v){v.xa && v.cc?w(new h.Mc(g.U.zI,v.xa,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v)):w(v);});}));return this.j8a;};Wa.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.sk.version;}},u3:{configurable:!0,enumerable:!0,get:function(){return this.sk.Fl;}}});a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(n.Wf)),r.__param(1,(0,l.l)(p.kw)),r.__param(2,(0,l.l)(d.bq))],a);b.jAa=a;},31863:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p,q,u,t,w){this.dF=p;this.kc=q;this.fM=t;this.co=w;this.log=u.Ua("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.lAa=void 0;r=a(70655);k=a(86700);f=a(96630);l=a(31224);d=a(71163);g=a(26041);n=a(1092);h=a(56594);m=a(78165);c.prototype.Vma=function(p){var q;q=this;return Promise.all([this.dF(),this.oma()]).then(function(u){var t;t=ma(u);u=t.next().value;t=t.next().value;return u.PFb({type:p,initData:t,K5:!1},q.fM());}).then(function(u){var t;t=ma(u);u=t.next().value;t=t.next().value;t=q.kc.encode(t.data[0]);q.log.trace("Challenge generated",t);return {Vy:u,oia:t};});};c.prototype.oma=function(){var p;p=this;return this.co.dB().then(function(q){return q.Ls();}).then(function(q){switch(q){case h.Ak.$A:return m.ECa;case h.Ak.Ey:return m.ZIa;default:return m.aNa;}}).then(function(q){return q.map(p.kc.decode);});};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.KY)),r.__param(1,(0,k.l)(l.fh)),r.__param(2,(0,k.l)(d.Xa)),r.__param(3,(0,k.l)(g.wP)),r.__param(4,(0,k.l)(n.Dw))],a);b.lAa=a;},85957:function(r,b,a){var f;function c(){}function k(l){l?(this.active=!1,this.Lla(l)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.BBa=b.JY=void 0;r=a(70655);a=a(86700);k.prototype.Lla=function(l){this.ie=l.keySessionData?l.keySessionData.map(function(d){return {id:d.id,jG:d.licenseContextId,oU:d.licenseId};}):[];this.ma=l.xid;this.O=l.movieId;};k.prototype.Kt=function(){return JSON.parse(JSON.stringify({keySessionData:this.ie?this.ie.map(function(l){return {id:l.id,licenseContextId:l.jG,licenseId:l.oU};}):[],xid:this.ma,movieId:this.O}));};b.JY=k;c.prototype.create=function(){return new k();};c.prototype.load=function(l){return new k(l);};f=c;f=r.__decorate([(0,a.T)()],f);b.BBa=f;},66160:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w;function c(v,y,x,z,A,B,C,D,F){var G;G=this;this.wc=y;this.Iy=x;this.config=z;this.Js=A;this.$Bb=B;this.aK=C;this.fM=D;this.Wl=F;this.$1b=function(E,J){var L;G.Wl.mark(w.Na.SY,E.ti.ma,"generate-challenge");L=!1;J.I_b(function(N){L || (L=!0,G.Wl.mark(w.Na.RY,E.ti.ma,"generate-challenge"));G.BF(E,J,N).then(function(I){J.ZPa(I);G.Ztb(J);}).catch(function(I){return J.Jqb(I);});});};this.log=v.Ua("DrmServices");this.Js().Dr && this.aK.f8a().then(function(){G.VXb();}).catch(function(E){G.log.error("Unable to load the persisted DRM data",E);});this.config.J0a && this.EA(D(),n.yh.qm).then(function(E){return E.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.FBa=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(65428);d=a(52022);g=a(85643);n=a(41047);h=a(23152);m=a(68511);p=a(85957);q=a(84131);u=a(17244);t=a(26041);w=a(3971);c.prototype.PFb=function(v,y){return this.EA(y,v.type,v.context).then(function(x){return x.SFb(v.initData,v.K5).then(function(z){return [x,{Mm:x.Ls(),data:z.rj}];});});};c.prototype.Vg=function(v,y){var x;x=this;this.log.info("Requesting challenges",this.dZa(v,v.type));return this.EA(y,v.type,v.context).then(function(z){x.H4a(v,z);return z.TFb(v.initData,v.K5).then(function(){return z;});});};c.prototype.H4a=function(v,y){y.N_b(v.ti);this.$1b(v,y);};c.prototype.release=function(v,y){var x;x=this;this.log.info("Releasing server license",this.YZa(v));return this.SIb(v).then(function(){var z;z=Object.assign({active:!1,ie:[]},v.ti);x.aK.aW(z);y.gYb();return v;});};c.prototype.dZa=function(v,y){return {movieId:v.ti.O,xid:v.ti.ma,type:(0,n.mpa)(y)};};c.prototype.YZa=function(v){return {movieId:v.ti?v.ti.O:void 0,xid:v.ti?v.ti.ma:void 0,keySessionId:v.Ux()};};c.prototype.BF=function(v,y,x){this.log.info("Sending license request",this.dZa(v,x.mf));return this.Iy.Vg({ma:v.ti.ma,Ef:v.ti.Ef,t3:[v.ti.Kk],rj:[{sessionId:y.Ux() || "session",data:x.rj}],mf:x.mf,Mm:y.Ls(),qSa:x.qSa,ki:v.ti.ki,eg:v.ti.eg});};c.prototype.SIb=function(v){this.log.info("Sending release request",this.YZa(v));return this.Iy.release({ma:v.ti.ma,ie:v.ie});};c.prototype.EA=function(v,y,x){return this.$Bb.create().then(function(z){return z.createSession(v,y,x).then(function(){return z;});});};c.prototype.UXb=function(v){var y;y=this;return this.Iy.release({ma:v.ma,ie:v.ie}).catch(function(x){y.log.error("Unable to send release data to the server",x);});};c.prototype.VXb=function(){var v;v=this;this.wc.Ij(this.config.nsa,function(){v.log.trace("Removing cached sessions",{"count:":v.aK.u3.length});v.aK.u3.filter(function(y){return !y.active;}).reduce(function(y,x){return y.then(function(){return v.UXb(x);}).then(function(){return v.aK.aW(x);});},Promise.resolve(void 0));});};c.prototype.Ztb=function(v){var y;if(v.Ux() && v.ti){y=new p.JY();y.ie=v.ie;y.ma=v.ti.ma;y.O=v.ti.O;this.aK.VPa(y);}};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(l.Ci)),r.__param(2,(0,k.l)(d.EBa)),r.__param(3,(0,k.l)(h.bq)),r.__param(4,(0,k.l)(u.ac)),r.__param(5,(0,k.l)(q.iCa)),r.__param(6,(0,k.l)(m.Vaa)),r.__param(7,(0,k.l)(t.wP)),r.__param(8,(0,k.l)(g.BP))],a);b.FBa=a;},67937:function(r,b,a){var c,k,f,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.O7a=void 0;c=a(68172);k=a(87704);f=a(96630);l=a(40517);b.O7a=function(g){l.DK.parent=g.hb;return function(){d || (d=new Promise(function(n,h){try{n(l.DK.get(f.GBa));}catch(m){h(new k.Ng(c.U.sib,c.R.Cib,void 0,"Unable to extract the DRM services from the dependency injector",m));}}));return d;};};},76353:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.eh=t;this.Mi=w;this.kc=v;this.config=y;this.di=x;this.Wg=z;}Object.defineProperty(b,"__esModule",{value:!0});b.HBa=void 0;r=a(70655);k=a(86700);f=a(5266);l=a(31224);d=a(53484);g=a(17244);n=a(95538);h=a(56594);m=a(23152);p=a(45165);q=a(48258);u=a(55783);c.prototype.create=function(t){switch(t){case h.Ak.Ey:return new q.eCa(this.Mi,this.kc);case h.Ak.$A:return new u.WKa(this.Mi,this.kc,this.eh,this.Wg);default:return new p.tAa(this.Mi,this.kc,this.di,this.config);}};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.iq)),r.__param(1,(0,k.l)(f.nw)),r.__param(2,(0,k.l)(l.fh)),r.__param(3,(0,k.l)(g.ac)),r.__param(4,(0,k.l)(m.bq)),r.__param(5,(0,k.l)(n.Kw))],a);b.HBa=a;},8425:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.Yd=t;this.eh=w;this.kc=v;this.is=y;this.XU=x;this.di=z;}Object.defineProperty(b,"__esModule",{value:!0});b.fCa=void 0;r=a(70655);k=a(86700);f=a(31224);l=a(89542);d=a(63088);g=a(53484);n=a(89682);h=a(56594);m=a(23152);p=a(56452);q=a(41996);u=a(8574);c.prototype.create=function(t){switch(t){case h.Ak.Ey:return new q.YJa(this.XU,this.is,this.kc,this.Yd,this.di,this.eh);case h.Ak.$A:return new p.DCa(this.XU,this.is,this.kc,this.Yd,this.di,this.eh);default:return new u.ku(this.XU,this.is,this.kc,this.Yd,this.di,this.eh);}};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(n.jh)),r.__param(1,(0,k.l)(g.iq)),r.__param(2,(0,k.l)(f.fh)),r.__param(3,(0,k.l)(l.Wf)),r.__param(4,(0,k.l)(d.JI)),r.__param(5,(0,k.l)(m.bq))],a);b.fCa=a;},85291:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p){h=f.Se.call(this,h,void 0 === p?"EmeConfigImpl":p) || this;h.nd=m;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.gCa=void 0;r=a(70655);k=a(86700);f=a(90187);l=a(59578);d=a(2467);g=a(54662);a=a(20642);ia(c,f.Se);Wa.Object.defineProperties(c.prototype,{H6a:{configurable:!0,enumerable:!0,get:function(){return !0;}},J0a:{configurable:!0,enumerable:!0,get:function(){return this.nd.j1a || this.nd.O5 || this.nd.dU?!0:!1;}},KB:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(5);}},nsa:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(10);}},pS:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},PS:{configurable:!0,enumerable:!0,get:function(){return !1;}},aka:{configurable:!0,enumerable:!0,get:function(){return !1;}},fr:{configurable:!0,enumerable:!0,get:function(){return !0;}},DQa:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},EQa:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},GQa:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},G1:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},HQa:{configurable:!0,enumerable:!0,get:function(){return (0,d.uh)(30);}},cva:{configurable:!0,enumerable:!0,get:function(){return "";}},b6a:{configurable:!0,enumerable:!0,get:function(){return this.nd.hy?!1:!0;}},c6a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});n=c;r.__decorate([g.config(g.Pc,"persistentStateRequired")],n.prototype,"H6a",null);r.__decorate([g.config(g.Pc,"initializeKeySystemAtStartup")],n.prototype,"J0a",null);r.__decorate([g.config(g.lk,"licenseRenewalRequestDelay")],n.prototype,"KB",null);r.__decorate([g.config(g.lk,"persistedReleaseDelay")],n.prototype,"nsa",null);r.__decorate([g.config(g.string,"drmPersistKey")],n.prototype,"pS",null);r.__decorate([g.config(g.Pc,"forceLimitedDurationLicense")],n.prototype,"PS",null);r.__decorate([g.config(g.Pc,"disableLicenseRenewal")],n.prototype,"aka",null);r.__decorate([g.config(g.Pc,"prepareCadmium")],n.prototype,"fr",null);r.__decorate([g.config(g.lk,"apiCloseTimeout")],n.prototype,"DQa",null);r.__decorate([g.config(g.lk,"apiCreateMediaKeysTimeout")],n.prototype,"EQa",null);r.__decorate([g.config(g.lk,"apiSetServerCertificateTimeout")],n.prototype,"GQa",null);r.__decorate([g.config(g.lk,"apiGenerateRequestTimeout")],n.prototype,"G1",null);r.__decorate([g.config(g.lk,"apiUpdateTimeout")],n.prototype,"HQa",null);r.__decorate([g.config(g.string,"serverCertificate")],n.prototype,"cva",null);r.__decorate([g.config(g.Pc,"outputRestrictedIsFatal")],n.prototype,"b6a",null);r.__decorate([g.config(g.Pc,"outputRestrictedIsFatalForUhd")],n.prototype,"c6a",null);n=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.ul)),r.__param(1,(0,k.l)(a.TC)),r.__param(2,(0,k.l)(l.qY)),r.__param(2,(0,k.optional)())],n);b.gCa=n;},87704:function(r,b,a){var k,f;function c(l,d,g,n,h){l=void 0 === l?k.U.Eo:l;return f.Mc.call(this,l,d,g,void 0,void 0,n,f.Mc.ue(h),h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Ng=void 0;k=a(68172);f=a(56003);ia(c,f.Mc);b.Ng=c;},51847:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p,q,u,t,w,v){this.Ul=p;this.Ea=q;this.kc=u;this.config=t;this.lo=w;this.co=v;}Object.defineProperty(b,"__esModule",{value:!0});b.hCa=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(58998);d=a(31224);g=a(23152);n=a(29853);h=a(41901);a=a(1092);c.prototype.create=function(){var p;p=this;return this.co.dB().then(function(q){return new h.jCa(p.Ul,p.Ea,p.kc,p.config,p.lo,q);});};m=c;m=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(l.Jc)),r.__param(2,(0,k.l)(d.fh)),r.__param(3,(0,k.l)(g.bq)),r.__param(4,(0,k.l)(n.Jz)),r.__param(5,(0,k.l)(a.Dw))],m);b.hCa=m;},41901:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v;function c(y,x,z,A,B,C){var D;D=this;this.Ea=x;this.uA=z;this.config=A;this.lo=B;this.VB=C;this.keyStatuses=new p.Gb({});this.vra=function(F){var G,E,J,L,N,I;try{E=D.ll.kja(F);J=E.rG;L=E.messageType;N=E.sessionId;D.rv=D.rv || E.rv;D.BW(N);D.log.trace("Received " + F.type + " event",{sessionId:N,messageType:L,keyIds:D.rv});if(L === b.vca){if(D.config.aka){D.log.trace("Disabling license renewal");return;}D.log.trace("Received a renewal request");D.mf=l.yh.qm;D.io=t.bH;}D.io === t.Vg && D.Wo(d.Hr.q8a);D.io === t.bH && D.Wo(d.Hr.r8a);I={rj:J,qSa:L,mf:D.mf};null === (G=D.K5a) || void 0 === G?void 0:G.call(D,I);D.xna(J)?D.GB(new m.Mc(f.U.UBa)):D.ek && !D.ek.Xdb && D.Q1a(I);}catch(O){D.GB(O);}};this.tra=function(F){var G,E,J,L,N,K,H,M,R,Y,ea,ca,Fa,Ja,Xa,cb,U;E=F.target;J=E.keyStatuses;D.BW(E.sessionId);D.log.trace("Received event: " + F.type);try{N=null === (G=D.context) || void 0 === G?void 0:G.d6;F=[];for(var I=ma(J),O=I.next();!O.done;O=I.next()){K=ma(O.value);H=K.next().value;M=K.next().value;R=D.uA.encode(new Uint8Array(H));F.push({Wn:R,status:M,height:null === N || void 0 === N?void 0:N[R]});}F.sort(function(Z,Q){return (Z.height || 0) - (Q.height || 0);});Y=F.map(function(Z){return Z.Wn;});ea=F.map(function(Z){return Z.height;});ca=F.map(function(Z){return Z.status;});D.Zoa=Y + ", " + ea + ", " + ca;D.log.trace("KeyStatus: " + D.Zoa);N={};for(var oa=ma(J),Ga=oa.next();!Ga.done;Ga=oa.next()){Fa=ma(Ga.value);Ja=Fa.next().value;Xa=Fa.next().value;cb=D.uA.encode(new Uint8Array(Ja));U=w[Xa];N[cb]=U.status;D.XF(cb,U.error) && (L=new n.Ng(U.error));}D.keyStatuses.set(N);}catch(Z){L=new n.Ng(f.U.Ckb);L.hS(Z);}L?D.Tq?D.W5(L):D.fU(L):(D.ll.C2() || D.R1a(),D.mf !== l.yh.ln || D.ll.wha() || (D.config.aka?D.log.trace("Disabling license renewal"):D.lYb()));};this.Xm=function(F){var G;G=D.ll.Gx(F);D.log.error("Received event: " + F.type,G);D.GB(G);D.W5(G);D.ek || D.Tq || D.fU(G);};this.LSb=function(F){D.log.error("MediaKeySession closed unexpectedly: " + F);D.fU(new m.Mc(f.U.uba,v[F]));};this.GB=function(F){D.close().then(function(){var G;D.log.trace("Issuing a generate challenge error");null === (G=D.ek) || void 0 === G?void 0:G.ON.reject(F);D.ek=void 0;},function(G){var E;D.log.error("EmeSession closed with an error.",D.ll.Gx(G));null === (E=D.ek) || void 0 === E?void 0:E.ON.reject(F);D.ek=void 0;});};this.Q1a=function(F){var G;null === (G=D.ek) || void 0 === G?void 0:G.ON.resolve(F);D.ek=void 0;};this.W5=function(F){D.log.error("Failed to add license",F);D.close().then(function(){var G,E;D.log.trace("Issuing a license error");null === (G=D.ek) || void 0 === G?void 0:G.ON.reject(F);D.ek=void 0;null === (E=D.Tq) || void 0 === E?void 0:E.reject(F);D.Tq=void 0;},function(G){var E,J;D.log.error("EmeSession closed with an error.",D.ll.Gx(G));D.io === t.bH && D.Wo(d.Hr.hQa);null === (E=D.ek) || void 0 === E?void 0:E.ON.reject(F);D.ek=void 0;null === (J=D.Tq) || void 0 === J?void 0:J.reject(F);D.Tq=void 0;});};this.R1a=function(){D.Tq && (D.log.info("Successfully added license"),D.io === t.Vg?D.Wo(d.Hr.$Pa):D.io === t.bH && D.Wo(d.Hr.gQa),D.Tq.resolve(),D.Tq=void 0);};this.fU=function(F){D.close().then(function(){var G;D.log.trace("Issuing a CDM error");D.ek=void 0;D.Tq=void 0;null === (G=D.H5a) || void 0 === G?void 0:G.call(D,F);},function(G){var E;D.log.error("EmeSession closed with an error.",D.ll.Gx(G));D.ek=void 0;D.Tq=void 0;null === (E=D.H5a) || void 0 === E?void 0:E.call(D,F);});};this.Wo=function(F){D.Tc.push({time:D.Ea.Eb(),QU:F});};this.S8a=!1;this.log=y.Ua("EmeSession");this.io=t.i4b;this.mh=C.VTa();this.ll=C.UTa();this.Tc=[];}Object.defineProperty(b,"__esModule",{value:!0});b.jCa=b.vca=b.wca=void 0;k=a(2467);f=a(68172);l=a(41047);d=a(77960);r=a(26984);g=a(99745);n=a(87704);h=a(29853);m=a(56003);p=a(14414);q=a(86684);u=a(85060);(function(y){y[y.i4b=0]="unknown";y[y.create=1]="create";y[y.load=2]="load";y[y.Vg=3]="license";y[y.bH=4]="renewal";y[y.stop=5]="stop";y[y.closed=6]="closed";})(t || (t={}));b.wca="license-request";b.vca="license-renewal";w={usable:{status:r.Zt.hdb},expired:{status:r.Zt.Fq,error:f.U.Xca},released:{status:r.Zt.released},"output-not-allowed":{status:r.Zt.a6a,error:f.U.JHa},"output-restricted":{status:r.Zt.a6a,error:f.U.Yca},"output-downscaled":{status:r.Zt.JTb},"status-pending":{status:r.Zt.B1b},"internal-error":{status:r.Zt.hMb,error:f.U.Bkb}};v={"internal-error":f.R.thb,"closed-by-application":f.R.phb,"release-acknowledged":f.R.xhb,"hardware-context-reset":f.R.sba,"resource-evicted":f.R.zhb};c.prototype.iL=function(){return this.VB.f6;};c.prototype.$Ya=function(){return this.Zoa;};c.prototype.Ux=function(){return this.sessionId;};c.prototype.close=function(){var y;y=this;this.K5a=this.context=void 0;this.io=t.closed;this.Tc=[];void 0 !== this.W8 && (pb.clearTimeout(this.W8),this.W8=void 0);return this.mh.gNb()?(this.log.trace("Closing the session"),this.mh.K8a(this.vra),this.mh.H8a(this.tra),this.mh.F8a(this.Xm),this.mediaKeys=void 0,this.lo.Np(this.config.DQa,this.mh.close()).then(function(){y.log.info("Closed the session");}).catch(function(x){y.log.error("Close failed",x);y.ll.Gx(x).code=f.U.Ekb;throw x;})):Promise.resolve(void 0);};c.prototype.Ls=function(){return this.VB.Ls();};c.prototype.C_a=function(){return void 0 !== this.Rk;};c.prototype.createSession=function(y,x,z){var A;A=this;this.context=z;this.mf=x;this.io=t.create;this.Wo(d.Hr.F2a);return (y.D_a()?Promise.resolve():this.lo.Np(this.config.EQa,this.mh.createMediaKeys(this.VB)).then(function(B){A.log.trace("Created media keys");return A.Orb(B).then(function(){return y.aQa(B);}).catch(function(C){return Promise.reject(A.Ysa(C,f.U.Ahb));});})).then(function(){A.mediaKeys=y.mediaKeys;try{A.mh.createSession(A.mediaKeys,u.TEMPORARY);A.mh.bQa(A.vra);A.mh.YPa(A.tra);A.mh.WPa(A.Xm);A.mh.zqb(A.LSb);A.BW(A.mh.Ux());}catch(B){return Promise.reject(A.Ysa(B,f.U.qhb));}}).catch(function(B){return Promise.reject(A.Ysa(B,f.U.VO));});};c.prototype.N_b=function(y){this.ti=y;this.log.TPa("xid",y.ma);};c.prototype.SFb=function(y,x){return this.generateRequest(y,x,!1).then(function(z){return z;});};c.prototype.TFb=function(y,x){return this.generateRequest(y,x,!0).then(function(){});};c.prototype.ZPa=function(y){this.ie=y.ie;y=y.Rk.map(function(x){return x.data;});this.xna(y)?(this.log.error("The license buffer is empty"),this.GB(new n.Ng(f.U.TBa,f.R.RBa))):(this.io === t.Vg && (this.Wo(d.Hr.p8a),this.Rk=y,this.FVa=this.ll.gL(this.rv,y),this.ek && this.ek.Xdb && this.Q1a()),this.io === t.bH && (this.Wo(d.Hr.s8a),this.Rk=y,this.FVa=this.ll.gL(this.rv,y),this.gha()));};c.prototype.Jqb=function(y){this.io === t.bH?(this.Wo(d.Hr.t8a),this.fU(y)):this.GB(y);};c.prototype.gha=function(){var y,x;y=this;if(!this.Rk){x=new n.Ng(f.U.TBa,f.R.WBa);this.W5(x);return Promise.reject(x);}this.Tq=new q.q_();x=this.Rk;this.Rk=void 0;this.lo.Np(this.config.HQa,this.mh.update(x,this.io === t.Vg?g.AD.Request:g.AD.wKa,this.rv)).then(function(){y.ll.C2() && y.R1a();}).catch(function(z){z=y.ll.Gx(z);z.code=f.U.j_;z.message="Unable to update the EME";y.log.error(z.message,z);y.W5(z);});return this.Tq.promise;};c.prototype.I_b=function(y){this.K5a=y;};c.prototype.B_b=function(y){this.H5a=y;};c.prototype.gL=function(){return this.FVa;};c.prototype.generateRequest=function(y,x,z){var A;A=this;this.io=t.Vg;this.log.trace("Generating a license challenge");if(!y)return (y=new n.Ng(f.U.SBa,f.R.WBa),this.GB(y),Promise.reject(y));if(this.xna(y))return (y=new n.Ng(f.U.SBa,f.R.RBa),this.GB(y),Promise.reject(y));this.ek={ON:new q.q_(),Xdb:z};this.lo.Np(this.config.G1,this.mh.generateRequest(this.ll.pma(),y,x)).then(function(){A.BW(A.mh.Ux());}).catch(function(B){var C,D;C=new n.Ng(f.U.MY,B instanceof h.gq?f.R.WO:f.R.nl);try{D=A.ll.Gx(B);C.Qc=D.Qc;C.message="Unable to generate request.";C.hS(B);}catch(F){}A.log.error("Unable to generate a license request",C);A.GB(C);});return this.ek.ON.promise;};c.prototype.Orb=function(y){return this.lo.Np(this.config.GQa,this.mh.setServerCertificate(y,this.ll.q4()));};c.prototype.BW=function(y){y && y !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + y),this.sessionId=y,this.log.TPa("sessionId",y));};c.prototype.lYb=function(){var y;y=this;this.S8a || (this.S8a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.KB}),this.W8=pb.setTimeout(function(){y.W8=void 0;y.aH();},this.config.KB.ba(k.oa)));};c.prototype.nNb=function(y){var x,z,A;return 1080 < (null !== (A=null === (z=null === (x=this.context) || void 0 === x?void 0:x.d6) || void 0 === z?void 0:z[y]) && void 0 !== A?A:0);};c.prototype.XF=function(y,x){return x === f.U.Yca?this.nNb(y)?this.config.c6a:this.config.b6a:!!x;};c.prototype.aH=function(){this.log.trace("Initiating a renewal request");this.mf=l.yh.qm;this.io=t.bH;this.ll.hia()?this.ll.poa(this.mh):this.S2();};c.prototype.S2=function(){var y;y=this;this.mh.S2(this.mediaKeys,u.TEMPORARY,this.vra,this.tra,this.Xm).then(function(){y.log.debug("Creating session to renew license");y.BW(y.mh.Ux());}).catch(function(){y.fU(new n.Ng(f.U.MY));});};c.prototype.xna=function(y){return 0 === y.length || y.reduce(function(x,z){return x || 0 === z.length;},!1);};c.prototype.Ysa=function(y,x){var z,A;if((null === y || void 0 === y?0:y.code) && (null === y || void 0 === y?0:y.ic))return y;A=(0,u.Hma)(null === y || void 0 === y?void 0:y.message);return new n.Ng(x,y instanceof h.gq?f.R.WO:f.R.nl,null === (z=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === y || void 0 === y?void 0:y.message,y);};b.jCa=c;},78165:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aNa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.ECa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.ZIa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},41535:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p,q,u,t){this.Ul=p;this.config=q;this.rS=u;this.HB=t;this.log=this.Ul.Ua("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.NEa=void 0;r=a(70655);k=a(86700);f=a(60920);l=a(71163);d=a(17244);g=a(13329);n=a(85060);h=a(35912);a=a(21410);c.prototype.get=function(){var p,q,u;p=this;try{q=(this.config().f2a || [this.config().Tl]).map(function(t){var w;w=g.eb.cT(t);w=p.rS.create(w).Sma();return (0 < w.length?w:[void 0]).map(function(v){return {keySystem:t,robustness:v};});});u=(0,f.flatten)(q).filter(function(t){return p.nEb(t);});return this.HB.get().then(function(t){return p.qEb(u,t);});}catch(t){throw (this.log.error("KeySystemProvider failed.",t),t);}};c.prototype.nEb=function(p){var q;p=g.eb.NDa.includes(p.keySystem) || n.ODa.includes(null !== (q=p.robustness) && void 0 !== q?q:"");return this.config().$Va || !p;};c.prototype.qEb=function(p,q){var u;u=this;return p.reduce(function(t,w,v){var y;y=u.oKb(w);v=p.length - 1 === v;y=(0,n.sTa)(y);q.includes(y) && !v || t.push(w);return t;},[]);};c.prototype.oKb=function(p){var q;q={keySystem:p.keySystem === g.eb.imb?g.eb.Y_:p.keySystem};p.robustness && (q.robustness=p.robustness);return q;};m=c;m=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.Xa)),r.__param(1,(0,k.l)(d.ac)),r.__param(2,(0,k.l)(h.qba)),r.__param(3,(0,k.l)(a.bca))],m);b.NEa=m;},52490:function(r,b,a){var k,f,l,d;function c(g,n,h){this.config=g;this.Ul=n;this.aia=h;this.log=this.Ul.Ua("KeySystemRestrictor");this.QOb=this.config().cWa?this.aia.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.PEa=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(17244);a=a(24060);c.prototype.get=function(){var g;g=this;try{return this.config().cWa?this.QOb.then(function(n){return g.xEb(n);}):Promise.resolve([]);}catch(n){return (this.log.error("KeySystemRestrictor failed.",n),Promise.resolve([]));}};c.prototype.xEb=function(g){var n,m;this.s9a={};n=g.reduce(function(p,q){p[q.keySystem] || (p[q.keySystem]=[]);p[q.keySystem].push(q);return p;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(n));g=[];n=ma(Object.entries(n));for(var h=n.next();!h.done;h=n.next()){m=ma(h.value);h=m.next().value;m=m.next().value;this.GKb(m) && g.push(h);}g.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + g);return this.$Yb=g;};c.prototype.GKb=function(g){var n,h;n=this;h=g.reduce(function(m,p){n.config().rDb.includes(p.code) && (p=n.Iyb(p),m[p] || (m[p]=0),m[p]++);return m;},{});this.s9a[g[0].keySystem]=h;return Object.values(h).some(function(m){return m >= n.config().sDb;});};c.prototype.Iyb=function(g){return [g.code,g.ic,g.Qc].filter(Boolean).join(".");};Wa.Object.defineProperties(c.prototype,{g2a:{configurable:!0,enumerable:!0,get:function(){return this.$Yb;}},h2a:{configurable:!0,enumerable:!0,get:function(){return this.s9a;}}});d=c;d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.ac)),r.__param(1,(0,k.l)(f.Xa)),r.__param(2,(0,k.l)(a.Xaa))],d);b.PEa=d;},42032:function(r,b,a){var k,f,l,d;function c(g,n){this.rS=g;this.tS=n;}Object.defineProperty(b,"__esModule",{value:!0});b.pGa=void 0;r=a(70655);k=a(86700);f=a(35912);l=a(79220);d=a(1214);c.prototype.create=function(g,n,h){return new d.rGa(g,this.rS,this.tS,n,h);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.qba)),r.__param(1,(0,k.l)(l.wba))],a);b.pGa=a;},1214:function(r,b,a){var k,f;function c(l,d,g,n,h){this.keySystem=l;this.rS=d;this.tS=g;this.VB=n;this.Mm=h;}Object.defineProperty(b,"__esModule",{value:!0});b.rGa=void 0;k=a(13329);f=a(85060);c.prototype.createMediaKeys=function(){return this.VB.createMediaKeys();};c.prototype.getConfiguration=function(){return this.VB.getConfiguration();};c.prototype.Ls=function(){return k.eb.cT(this.VB.keySystem);};c.prototype.VTa=function(){return this.tS.create(this.Mm);};c.prototype.UTa=function(){return this.rS.create(this.Mm);};Wa.Object.defineProperties(c.prototype,{f6:{configurable:!0,enumerable:!0,get:function(){var l,d;l=this.keySystem;d=(0,f.F4)(this.VB);d && (l+="." + d);return l;}}});b.rGa=c;},96638:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v;function c(y,x,z,A,B,C,D){this.Ul=y;this.kc=x;this.config=z;this.di=A;this.bRb=B;this.tS=C;this.JNb=D;this.log=this.Ul.Ua("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.sGa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(71163);d=a(87704);g=a(56594);n=a(31224);h=a(17244);m=a(13329);p=a(85060);q=a(78165);u=a(31341);t=a(79220);w=a(33662);a=a(23152);c.prototype.dB=function(){this.promise || (this.promise=this.mZb());return this.promise;};c.prototype.Zyb=function(y,x){var z;z={initDataTypes:[p.Wt],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E"}],sessionTypes:[p.TEMPORARY]};y === g.Ak.PX && this.di.H6a && (z.persistentState="required");y=z.videoCapabilities[0];x && (y.robustness=x);return [z];};c.prototype.Syb=function(y,x){var z;z=this;return new Promise(function(A,B){var C;C=m.eb.cT(y);z.tS.create(C).xYb(y,z.Zyb(C,x)).then(function(D){z.log.trace("Created the media keys system access",{keySystem:y,supportedconfig:D.getConfiguration?JSON.stringify(D.getConfiguration()):void 0});D=z.bRb.create(y,D,C);z.f6=D.f6;A(D);}).catch(function(D){z.log.warn("Unable to create the media key system access object",{keySystem:y,error:D.message});B(new d.Ng(f.U.QBa,f.R.nl,void 0,"Unable to create media keys system access. " + D.message,D));});});};c.prototype.cHb=function(){var y;y=this.config().f2a || [this.config().Tl];if(1 < y.length)return (y=y.map(function(x){return m.eb.fma(m.eb.cT(x));}),1 === new Set(y).size?Promise.resolve(y[0]):this.dB().then(function(x){return x.Ls();}).then(function(x){return m.eb.fma(x);}));y=m.eb.cT(y[0]);return Promise.resolve(m.eb.fma(y));};c.prototype.uxa=function(y){var x,z,A,B;x=this;z=y.Ls();A=y.VTa();B=y.UTa();return y.createMediaKeys().then(function(C){A.createSession(C,p.TEMPORARY);return A.setServerCertificate(C,B.q4());}).then(function(){return A.generateRequest(p.Wt,x.oma(z),!1);}).then(function(){return A.close();}).then(function(){return y;}).catch(function(C){x.log.error("validateKeySystemAccess failed",C);return Promise.reject(C);});};c.prototype.oma=function(y){switch(y){case g.Ak.$A:y=q.ECa;break;case g.Ak.Ey:y=q.ZIa;break;default:y=q.aNa;}return y.map(this.kc.decode);};c.prototype.mZb=function(){var y;y=this;try{return this.JNb.get().then(function(x){return x.map(function(z,A){return function(){var B,C;B=A === x.length - 1;C=y.config().uxa && !B;return y.Syb(z.keySystem,z.robustness).then(function(D){return C?y.uxa(D):Promise.resolve(D);});};});}).then(function(x){return y.nZb(x);});}catch(x){return Promise.reject(x);}};c.prototype.nZb=function(y){return y.reduce(function(x,z){return x.then(function(A){return Promise.resolve(A);}).catch(function(){return z();});},Promise.reject(Error("keySystem missing")));};Wa.Object.defineProperties(c.prototype,{e2a:{configurable:!0,enumerable:!0,get:function(){return this.f6;}}});v=c;v=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.Xa)),r.__param(1,(0,k.l)(n.fh)),r.__param(2,(0,k.l)(h.ac)),r.__param(3,(0,k.l)(a.bq)),r.__param(4,(0,k.l)(u.qGa)),r.__param(5,(0,k.l)(t.wba)),r.__param(6,(0,k.l)(w.OEa))],v);b.sGa=v;},68262:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.tGa=void 0;a.prototype.D_a=function(){return void 0 !== this.mediaKeys;};a.prototype.aQa=function(c){this.mediaKeys=c;};a.prototype.gYb=function(){this.D_a() && (this.mediaKeys=void 0);};b.tGa=a;},17664:function(r,b){function a(c,k,f){var l;l=this;this.kc=c;this.xh=k;this.eh=f;this.IHb=function(d){var g;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=l.kc.decode(d);d=d.subarray(4);g=new Uint8Array(16);g.set(d);return g;};this.GCa={Wt:1667591779,Sfb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.CCa=void 0;a.prototype.ywb=function(c,k){k=k?this.GCa.Sfb:this.GCa.Wt;c=c.map(function(f){return {Vdc:"",KNb:f,pha:f,m1b:f,H5b:[1]};});return this.rPb(k,c);};a.prototype.qPb=function(c){var k;k=new Uint8Array(4);new DataView(k.buffer).setUint32(0,c);return this.Ppa("fpsi",[k]);};a.prototype.pPb=function(c,k,f,l){c=[this.Ppa("fkri",[c])];k.byteLength && c.push(this.zU("fkai",[k]));f.byteLength && c.push(this.zU("fkcx",[f]));l.length && c.push(this.zU("fkvl",[new Uint8Array(new Uint32Array(l).buffer)]));return this.zU("fpsk",c);};a.prototype.rPb=function(c,k){var f,d;f=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.qPb(c)];for(var l in k){d=k[l];c.push(this.pPb(d.KNb,d.pha,d.m1b,d.H5b));}k=this.zU("fpsd",c);l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,k.byteLength);return this.Ppa("pssh",[f,l,k]);};a.prototype.Ppa=function(c,k){var f,l,d;f=0;for(d in k){f+=k[d].byteLength;}f=new Uint8Array(12 + f);l=new DataView(f.buffer);d=0;l.setUint32(d,f.byteLength);d+=4;f.set(this.eh.decode(c),d);d+=4;l.setUint32(d,0);d+=4;for(var g in k){c=k[g];f.set(c,d);d+=c.byteLength;}return f;};a.prototype.zU=function(c,k){var f,l;f=0;for(l in k){f+=k[l].byteLength;}f=new Uint8Array(8 + f);l=0;new DataView(f.buffer).setUint32(l,f.byteLength);l+=4;f.set(this.eh.decode(c),l);l+=4;for(var d in k){c=k[d];f.set(c,l);l+=c.byteLength;}return f;};b.CCa=a;},56452:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){t=f.ku.call(this,t,w,v,y,x,z) || this;t.kc=v;t.xh=y;t.di=x;t.eh=z;t.S_a=new l.CCa(t.kc,t.xh,t.eh);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.DCa=void 0;r=a(70655);k=a(86700);f=a(8574);l=a(17664);d=a(63088);g=a(89542);n=a(31224);h=a(89682);m=a(23152);p=a(53484);q=a(99745);u=a(26271);ia(c,f.ku);c.prototype.generateRequest=function(t,w,v){var y,x,z;y=this;try{x=w.map(function(A){return y.S_a.IHb(A);});this.A0a=x.map(function(A){return y.kc.encode(A);});z=this.S_a.ywb(x,v);return f.ku.prototype.generateRequest.call(this,t,[z],!1);}catch(A){return Promise.reject(A);}};c.prototype.update=function(t,w,v){var y,x,z,A,B;y=this;if(v)try{x=this.eh.encode(t[0]);z=JSON.parse(x).RESPONSES.map(function(C){var D;D=u.H_.Xab(C.ID);return {keyID:w === q.AD.wKa?y.A0a[y.A0a.length - 1]:v[D],payload:C.PAYLOAD};});if(w === q.AD.Request){A=z.map(function(C){return C.keyID;});v.forEach(function(C){-1 === A.indexOf(C) && z.push({keyID:C,error:1});});}B=JSON.stringify(z);t=[this.eh.decode(B)];}catch(C){return Promise.reject(C);}return f.ku.prototype.update.call(this,t,w);};c.prototype.aH=function(){return f.ku.prototype.update.call(this,[this.eh.decode("renew")],q.AD.Request);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.JI)),r.__param(1,(0,k.l)(g.Wf)),r.__param(2,(0,k.l)(n.fh)),r.__param(3,(0,k.l)(h.jh)),r.__param(4,(0,k.l)(m.bq)),r.__param(5,(0,k.l)(p.iq))],a);b.DCa=a;},41996:function(r,b,a){var k,f,l,d;function c(){return f.ku.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.YJa=void 0;r=a(70655);k=a(86700);f=a(8574);l=a(87704);d=a(68172);ia(c,f.ku);c.prototype.S2=function(g,n,h,m,p){this.K8a(h);this.H8a(m);this.F8a(p);this.lOa=this.pe;this.pe=g.createSession(n);this.bQa(h);this.YPa(m);this.WPa(p);return this.generateRequest(this.initDataType,this.initData,!1);};c.prototype.close=function(){var n;function g(h){return h && h.sessionId?h.close():Promise.resolve();}n=this;this.Nia=void 0;return this.pe?Promise.all([g(this.pe),g(this.lOa)]).then(function(){}).finally(function(){n.pe=void 0;n.lOa=void 0;}):Promise.reject(new l.Ng(d.U.PBa,d.R.tI,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(g,n,h){this.initDataType=g;this.initData=n;return f.ku.prototype.generateRequest.call(this,g,n,h);};a=c;a=r.__decorate([(0,k.T)()],a);b.YJa=a;},8574:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.XU=t;this.is=w;this.kc=v;this.xh=y;this.di=x;this.eh=z;(0,l.$n)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.ku=void 0;r=a(70655);f=a(86700);l=a(60920);d=a(68172);g=a(63088);n=a(89542);h=a(87704);m=a(89682);p=a(31224);q=a(23152);a=a(53484);c.prototype.Ux=function(){if(this.pe)return this.pe.sessionId;};c.prototype.xYb=function(t,w){return this.XU.requestMediaKeySystemAccess(t,w);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,w){this.pe=t.createSession(w);};c.prototype.S2=function(){return Promise.reject(new h.Ng(d.U.MY));};c.prototype.gNb=function(){return !!this.pe;};c.prototype.setServerCertificate=function(t,w){return this.is.o1(t.setServerCertificate) && w?t.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(t,w){return this.pe?this.pe.generateRequest(t,w[0]):Promise.reject(new h.Ng(d.U.MY,d.R.tI,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.pe?this.pe.update(t[0]):Promise.reject(new h.Ng(d.U.XBa,d.R.tI,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.pe?this.pe.load(t):Promise.reject(new h.Ng(d.U.whb,d.R.tI,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.Nia=void 0;if(!this.pe)return Promise.reject(new h.Ng(d.U.PBa,d.R.tI,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.Ux() && (t=this.pe.close());this.pe=void 0;return t;};c.prototype.remove=function(){return this.pe?this.pe.remove():Promise.reject(new h.Ng(d.U.yhb,d.R.tI,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.aH=function(){return Promise.reject(new h.Ng(d.U.tba,void 0,"Unable to renew a key session, not supported"));};c.prototype.bQa=function(t){if(!this.pe)throw ReferenceError("Unable to add message handler, key session is not valid");this.pe.addEventListener(k.bCa,t);};c.prototype.YPa=function(t){if(!this.pe)throw ReferenceError("Unable to add key status handler, key session is not valid");this.pe.addEventListener(k.aCa,t);};c.prototype.WPa=function(t){if(!this.pe)throw ReferenceError("Unable to add error handler, key session is not valid");this.pe.addEventListener(k.$Ba,t);};c.prototype.zqb=function(t){var w;w=this;if(!this.pe)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Nia=t;this.pe.closed.then(function(v){var y;return null === (y=w.Nia) || void 0 === y?void 0:y.call(w,v);});};c.prototype.K8a=function(t){if(!this.pe)throw ReferenceError("Unable to remove message handler, key session is not valid");this.pe.removeEventListener(k.bCa,t);};c.prototype.H8a=function(t){if(!this.pe)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.pe.removeEventListener(k.aCa,t);};c.prototype.F8a=function(t){if(!this.pe)throw ReferenceError("Unable to remove error handler, key session is not valid");this.pe.removeEventListener(k.$Ba,t);};u=k=c;u.bCa="message";u.aCa="keystatuseschange";u.$Ba="error";u=k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.JI)),r.__param(1,(0,f.l)(n.Wf)),r.__param(2,(0,f.l)(p.fh)),r.__param(3,(0,f.l)(m.jh)),r.__param(4,(0,f.l)(q.bq)),r.__param(5,(0,f.l)(a.iq))],u);b.ku=u;},45165:function(r,b,a){var k,f,l,d,g,n,h,m,p,q;function c(u,t,w,v){this.Mi=u;this.kc=t;this.di=w;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.tAa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(5266);d=a(31224);g=a(87704);n=a(29853);h=a(23152);m=a(17244);p=a(56003);q=a(85060);c.prototype.C2=function(){return !1;};c.prototype.wha=function(){return !0;};c.prototype.hia=function(){return !0;};c.prototype.pma=function(){return q.Wt;};c.prototype.q4=function(){return this.di.cva?this.kc.decode(this.di.cva):this.kc.decode(q.$Ma);};c.prototype.Sma=function(){return [q.au,q.G_,q.F_];};c.prototype.poa=function(){Promise.reject(new p.Mc(f.U.tba));};c.prototype.kja=function(u){var t;return {type:u.type,sessionId:null === (t=u.target) || void 0 === t?void 0:t.sessionId,rG:[new Uint8Array(u.message)],messageType:u.messageType};};c.prototype.Gx=function(u){var t,w,v;t=new g.Ng(f.U.fq);w=null === u || void 0 === u?void 0:u.code;null != w && void 0 !== w?(w=parseInt(w,10),t.ic=1 <= w && 9 >= w?f.R.Ir + w:f.R.Ir):t.ic=u instanceof n.gq?f.R.WO:f.R.nl;try{v=u.message.match(/\((\d*)\)/)[1];t.Qc=this.Mi.pF(v,4);}catch(y){}t.hS(u);return t;};c.prototype.gL=function(){};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.nw)),r.__param(1,(0,k.l)(d.fh)),r.__param(2,(0,k.l)(h.bq)),r.__param(3,(0,k.l)(m.ac))],a);b.tAa=a;},48258:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p,q){this.Mi=p;this.kc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.eCa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(5266);d=a(31224);g=a(87704);n=a(29853);h=a(56003);m=a(85060);c.prototype.C2=function(){return !0;};c.prototype.wha=function(){return !1;};c.prototype.hia=function(){return !1;};c.prototype.pma=function(){return m.Wt;};c.prototype.q4=function(){};c.prototype.Sma=function(){return [];};c.prototype.poa=function(){Promise.reject(new h.Mc(f.U.tba));};c.prototype.kja=function(p){var q;q=new Uint8Array(p.message);q=this.$ka(q,"PlayReadyKeyMessage","Challenge");q=this.kc.decode(q);return {type:p.type,sessionId:p.target.sessionId,rG:[q],messageType:p.messageType};};c.prototype.Gx=function(p){var q,u,t;q=new g.Ng(f.U.fq);u=p.code;null != u && void 0 !== u?(u=parseInt(u,10),q.ic=1 <= u && 9 >= u?f.R.Ir + u:f.R.Ir):q.ic=p instanceof n.gq?f.R.WO:f.R.nl;try{t=(/\((\d+)\)/).exec(p.message);q.Qc=this.Mi.pF(Number(t && t[1]),4);}catch(w){}q.hS(p);return q;};c.prototype.$ka=function(p,q){var t,w,v;for(var u=1;u < arguments.length;++u){;}for(u=1;u < arguments.length;u++){;}u="";w=p.length;for(t=0;t < w;t++){v=p[t];0 < v && (u+=String.fromCharCode(v));}w="\\s*(.*)\\s*";for(t=arguments.length - 1;0 < t;t--){v=arguments[t];if(0 > u.search(v))return "";v="(?:[^:].*:|)" + v;w="[\\s\\S]*<" + v + "[^>]*>" + w + "</" + v + ">[\\s\\S]*";}return (u=u.match(new RegExp(w)))?u[1]:"";};c.prototype.gL=function(){};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.nw)),r.__param(1,(0,k.l)(d.fh))],a);b.eCa=a;},26271:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.H_=void 0;a.ELb=function(c){return "ID" + (c + 1);};a.Xab=function(c){return Number(c.substr(2)) - 1;};b.H_=a;},55783:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t;function c(w,v,y,x){this.Mi=w;this.kc=v;this.eh=y;this.Wg=x;}Object.defineProperty(b,"__esModule",{value:!0});b.WKa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(5266);d=a(53484);g=a(87704);n=a(29853);h=a(31224);m=a(85060);p=a(41901);q=a(56003);u=a(95538);t=a(26271);c.prototype.C2=function(){return !1;};c.prototype.wha=function(){return !1;};c.prototype.hia=function(){return !0;};c.prototype.pma=function(){return m.Wt;};c.prototype.q4=function(){return this.kc.decode(m.PY);};c.prototype.Sma=function(){return [];};c.prototype.poa=function(w){w.aH();};c.prototype.kja=function(w){var v,y;v=[];if(w.messageType === p.wca || w.messageType === p.vca){if(w.messageType === p.wca){y=this.eh.encode(new Uint8Array(w.message));v=JSON.parse(y);y=v.map(function(x){return x.keyID;});v=v.map(function(x){return x.payload;});}else v=[this.kc.encode(new Uint8Array(w.message))];if(0 === v.length || !v.every(function(x){return x && x.length;}))throw new q.Mc(f.U.UBa);v=this.n3b(v);v=this.eh.decode(JSON.stringify(v));}else v=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,rG:[v],messageType:w.messageType,rv:y};};c.prototype.Gx=function(w){var v,y,x,z;y=null === (v=w.target) || void 0 === v?void 0:v.error;if(y)(x=y.systemCode,z=y.code);v=new g.Ng(f.U.fq,w instanceof n.gq?f.R.WO:f.R.Ir,x?this.Mi.pF(x,4):z,"",y);v.hS(w);return v;};c.prototype.n3b=function(w){w=w.map(function(v,y){return {ID:t.H_.ELb(y),PAYLOAD:v};});return {VERSION:this.Wg.Xu?3:1,CHALLENGES:w};};c.prototype.gL=function(w,v){var y,x;y=this;if(v && this.Wg.Xu)try{x=this.eh.encode(v[0]);return JSON.parse(x).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=t.H_.Xab(z.ID);z=y.kc.decode(z.DHB).subarray(4,12);A=y.kc.decode(w[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new g.Ng(f.U.Akb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.nw)),r.__param(1,(0,k.l)(h.fh)),r.__param(2,(0,k.l)(d.iq)),r.__param(3,(0,k.l)(u.Kw))],a);b.WKa=a;},83245:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.KXa=void 0;r=a(86700);c=a(61597);k=a(71490);f=a(45168);l=a(91705);d=a(34703);g=a(24935);n=a(73240);h=a(65872);b.KXa=new r.$c(function(m){m(h.MCa).to(c.LCa).da();m(h.AKa).to(k.zKa).da();m(h.yKa).to(f.xKa).da();m(g.ICa).to(l.HCa).da();m(n.LDa).to(d.KDa).da();});},24935:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ICa="FtlDataParserSymbol";},65872:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AKa="ReportSyncSymbol";b.yKa="ReportApiErrorSyncSymbol";b.KCa="FtlProbeConfigSymbol";b.MCa="FtlProbeSymbol";},73240:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LDa="HttpRequesterSymbol";},91705:function(r,b,a){var k,f,l,d,g;function c(n,h){this.is=n;this.json=h;(0,f.$n)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.HCa=void 0;r=a(70655);k=a(86700);f=a(60920);l=a(63088);d=a(2467);a=a(89542);c.prototype.parse=function(n){var m;n=this.json.parse(n);if(!this.is.nga(n))throw Error("FtlProbe: param: not an object");if(n.next && !this.is.YQ(n.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.YQ(n.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(n.pulse_delays && !this.is.qA(n.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.YQ(n.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.qA(n.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.zm(n.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.nR(n.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var h=0;h < n.urls.length;++h){m=n.urls[h];if(!this.is.nga(m))throw Error("FtlProbe: param.urls[" + h + "]: not an object");if(!this.is.Vo(m.name))throw Error("FtlProbe: param.urls[" + h + "].name: not a string");if(!this.is.Vo(m.url))throw Error("FtlProbe: param.urls[" + h + "].url: not a string");}return {OWb:n.pulses,S7a:n.pulse_delays?n.pulse_delays.map(d.Kb):[],NWb:(0,d.Kb)(n.pulse_timeout),$1a:n.next?(0,d.Kb)(n.next):void 0,urls:n.urls,Epa:n.logblob,context:n.ctx};};g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.Wf)),r.__param(1,(0,k.l)(l.fD))],g);b.HCa=g;},69673:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p,q){m=d.Se.call(this,m,"FtlProbeConfigImpl") || this;m.mh=p;m.qa=q;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.JCa=void 0;r=a(70655);k=a(35664);f=a(86700);l=a(2467);d=a(90187);g=a(39141);n=a(54662);a=a(59578);ia(c,d.Se);Wa.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Mla + (-1 === this.Mla.indexOf("?")?"?":"&") + "monotonic=" + this.qa.K4a + "&device=web";}},vab:{configurable:!0,enumerable:!0,get:function(){return l.Ia;}},Ela:{configurable:!0,enumerable:!0,get:function(){return "";}},Mla:{configurable:!0,enumerable:!0,get:function(){return this.mh.endpoint + "/ftl/probe" + (this.Ela?"?force=" + this.Ela:"");}}});h=c;r.__decorate([n.config(n.Pc,"ftlEnabled")],h.prototype,"enabled",null);r.__decorate([n.config(n.lk,"ftlStartDelay")],h.prototype,"vab",null);r.__decorate([n.config(n.string,"ftlEndpointForceParam")],h.prototype,"Ela",null);r.__decorate([n.config(n.url,"ftlEndpoint")],h.prototype,"Mla",null);h=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.ul)),r.__param(1,(0,f.l)(g.eY)),r.__param(2,(0,f.l)(k.gg))],h);b.JCa=h;},61597:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p,q,u,t,w,v,y){this.config=p;this.b0a=q;this.wc=u;this.nf=t;this.tYb=w;this.Sta=v;this.xNb=0;this.la=y.Ua("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.LCa=void 0;r=a(70655);f=a(86700);l=a(2467);d=a(65428);g=a(71163);n=a(24935);h=a(73240);a=a(65872);c.prototype.start=function(){this.config.enabled && !this.mr && (this.mr=this.wc.Ij(this.config.vab,this.pN.bind(this)));};c.prototype.stop=function(){this.mr && (this.mr.cancel(),this.mr=void 0);};c.prototype.pN=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.xNb++;this.xJb(q).then(function(u){return Promise.all(u.urls.map(function(t){return p.nKb(u,t.url,t.name);})).then(function(t){0 < t.length && p.tYb.dW({data:t,context:u.context,Epa:u.Epa});}).then(function(){return u;});}).then(function(u){p.mr && (u.$1a?p.mr=p.wc.Ij(u.$1a,p.pN.bind(p)):p.stop());}).catch(function(u){return p.la.error("FTL run failed",u);});};c.prototype.xJb=function(p){var q;q=this;return this.b0a.get(p,!1).then(function(u){var t;if(200 != u.status || null == u.body)return (q.Sta.dW({url:p,status:u.status,osa:"FTL API request failed",fo:u.fo}),Promise.reject(Error("FTL API request failed: " + u.status)));t=q.nf.parse(u.body);return t instanceof Error?(q.Sta.dW({url:p,status:4,osa:"FTL Probe API JSON parsing error",fo:u.fo}),Promise.reject(t)):Promise.resolve(t);}).catch(function(u){u instanceof Error && (q.Sta.dW({url:p,status:0,osa:u.message}),q.la.error("FTL API call failed",u.message));return Promise.reject(u);});};c.prototype.nKb=function(p,q,u){var t;t=this;return new Promise(function(w,v){var F;for(var y,x,z,A,B=[],C={},D=0;D < p.OWb;(C={Z$:C.Z$,$$:C.$$},++D)){C.Z$=D < p.S7a.length?p.S7a[D]:l.Ia;C.$$="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (D + 1);F=(function(G){return function(){return new Promise(function(E,J){t.wc.Ij(G.Z$,function(){k.nWb(t.b0a,G.$$,p.NWb).then(function(L){function N(I,O,K){I || (I=K.headers[O]);return I;}y=N(y,"via",L);x=N(x,"x-ftl-probe-data",L);z=N(z,"x-ftl-error",L);A=N(A,"latency-trace",L);L={status:L.status,fo:L.fo,K5b:y || "",wvb:x || "",BS:z || "",YNb:t.jUb(A)};E(L);}).catch(function(L){J(L);});});});};})(C);B.push(0 < D?B[D - 1].then(F):F());}Promise.all(B).then(function(G){w({url:q,name:u,data:G});}).catch(function(G){v(G);});});};c.prototype.jUb=function(p){var q;if(p){q={};p=ma(p.split(";"));for(var u=p.next();!u.done;u=p.next()){if((u=u.value.trim().split("=")) && 2 == u.length)try{q[u[0].trim()]=Number.parseInt(u[1]);}catch(t){}}return q;}};c.nWb=function(p,q,u){return p.get(q,!1,u).then(function(t){return Object.assign({},t);});};m=k=c;m=k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.KCa)),r.__param(1,(0,f.l)(h.LDa)),r.__param(2,(0,f.l)(d.Ci)),r.__param(3,(0,f.l)(n.ICa)),r.__param(4,(0,f.l)(a.AKa)),r.__param(5,(0,f.l)(a.yKa)),r.__param(6,(0,f.l)(g.Xa))],m);b.LCa=m;},34703:function(r,b,a){var k,f,l,d,g,n,h,m,p;function c(q,u,t){this.qa=q;this.y6b=u;this.performance=t;(0,f.$n)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.KDa=void 0;r=a(70655);f=a(60920);l=a(40152);d=a(36845);g=a(63088);n=a(35664);h=a(86700);m=a(55749);p=a(2467);c.prototype.get=function(q,u,t){var w;w=this;return new Promise(function(v,y){var x,z,A;try{x=w.y6b.create();("withCredentials" in x) || y(Error("Missing CORS support"));x.open("GET",q,!0);u && (x.withCredentials=!0);t && (x.timeout=t.ba(p.oa));z=w.qa.fe;A=void 0;x.onreadystatechange=function(){var B;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=w.qa.fe.wa(z);break;case XMLHttpRequest.DONE:B=w.qa.fe.wa(z);B={body:x.responseText,status:x.status,headers:k.Xra(x.getAllResponseHeaders()),fo:w.zma(q,(0,d.Ba)(x.responseText.length),B,A)};v(B);}};x.send();}catch(B){y(B);}});};c.Xra=function(q){var u,w,v;u={};q=q.split("\r\n");for(var t=0;t < q.length;t++){w=q[t];v=w.indexOf(": ");0 < v && (u[w.substring(0,v).toLowerCase()]=w.substring(v + 2));}return u;};c.prototype.zma=function(q,u,t,w){u={size:u,duration:t,Awa:w};if(!this.performance || !this.performance.getEntriesByName)return u;t=this.performance.getEntriesByName(q);if(0 == t.length && (t=this.performance.getEntriesByName(q + "/"),0 == t.length))return u;q=t[t.length - 1];u=(0,l.$L)(u);q.decodedBodySize && (u.size=(0,d.Ba)(q.decodedBodySize));0 < q.duration?u.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (u.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (u.sVa=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),u.swa=(0,p.timestamp)(q.connectEnd - q.connectStart),u.Awa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?u.Gwa=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (t=q.connectEnd - q.secureConnectionStart,u.Gwa=(0,p.timestamp)(t),u.swa=(0,p.timestamp)(q.connectEnd - q.connectStart - t)));return u;};a=k=c;a=k=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(n.gg)),r.__param(1,(0,h.l)(m.gNa)),r.__param(2,(0,h.l)(g.jda)),r.__param(2,(0,h.optional)())],a);b.KDa=a;},45168:function(r,b,a){var k,f,l,d,g,n;function c(h,m){this.Pf=h;this.rqa=m;}Object.defineProperty(b,"__esModule",{value:!0});b.xKa=void 0;r=a(70655);f=a(86700);l=a(36845);d=a(2467);g=a(14959);a=a(91022);c.prototype.dW=function(h){h=this.rqa.ys("ftlProbeError","info",k.t6b({url:h.url,sc:h.status,pf_err:h.osa},h));this.Pf.vc(h);};c.t6b=function(h,m){m.fo && (m=m.fo,k.Ou(h,"d",m.duration),k.Ou(h,"dns",m.sVa),k.Ou(h,"tcp",m.swa),k.Ou(h,"tls",m.Gwa),k.Ou(h,"ttfb",m.Awa),h.sz=m.size.ba(l.Vt));return h;};c.Ou=function(h,m,p){p && (h[m]=p.ba(d.oa));};n=k=c;n=k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.pm)),r.__param(1,(0,f.l)(a.Aw))],n);b.xKa=n;},71490:function(r,b,a){var k,f,l,d,g,n;function c(h,m){this.Pf=h;this.rqa=m;}Object.defineProperty(b,"__esModule",{value:!0});b.zKa=void 0;r=a(70655);f=a(86700);l=a(36845);d=a(2467);g=a(14959);a=a(91022);c.prototype.dW=function(h){var m;m={ctx:h.context,data:h.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return k.u6b({d:q.fo.duration.ba(d.oa),sc:q.status,sz:q.fo.size.ba(l.Vt),via:q.K5b,cip:q.wvb,err:q.BS},q);})};})};h=this.rqa.ys(h.Epa,"info",m);this.Pf.vc(h);};c.u6b=function(h,m){k.Ou(h,"dns",m.fo.sVa);k.Ou(h,"tcp",m.fo.swa);k.Ou(h,"tls",m.fo.Gwa);k.Ou(h,"ttfb",m.fo.Awa);k.Mqb(h,m.YNb);return h;};c.Mqb=function(h,m){m && (h.rtts=m);};c.Ou=function(h,m,p){p && (h[m]=p.ba(d.oa));};n=k=c;n=k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.pm)),r.__param(1,(0,f.l)(a.Aw))],n);b.zKa=n;},10561:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Qk=void 0;r=a(86700);c=a(55463);k=a(77053);b.Qk=new r.$c(function(f){f(c.XEa).to(k.WEa);});},55463:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XEa="LicenseBrokerFactorySymbol";},70219:function(r,b,a){var k,f,l,d,g;function c(n,h){this.Pb=n;this.j=h;this.mU=[];}Object.defineProperty(b,"__esModule",{value:!0});b.HO=void 0;r=a(70655);k=a(68172);f=a(86700);l=a(95919);d=a(30818);g=a(89082);c.prototype.Y3=function(n){this.mU.forEach(function(h){return h(n);});};c.prototype.od=function(n,h,m){this.j.od(n,h,m);};c.prototype.Iqb=function(n){-1 === this.mU.indexOf(n) && this.mU.push(n);};c.prototype.fYb=function(n){n=this.mU.indexOf(n);0 <= n && this.mU.splice(n,1);};c.prototype.k_a=function(n){var h,m;h={};(0,l.Sc)(n.code)?h.xa=(0,k.uCa)(n.code):h.xa=k.R.nl;try{m=n.message.match(/\((\d*)\)/)[1];h.Ee=(0,g.Gha)(m,4);}catch(p){}h.Jb=(0,d.ue)(n);return h;};a=c;a=r.__decorate([(0,f.T)()],a);b.HO=a;},89868:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t;function c(w,v,y,x,z){x=p.HO.call(this,x,z) || this;x.config=w;x.di=v;x.Zc=y;x.log=(0,f.Gh)(x.j,"LegacyLicenseBroker");x.Tl=x.config().Tl;x.config().L7a?(0,d.D1a)()?x.F$=!0:x.log.error("Promise based eme requested but platform does not support it",{browserua:g.pD}):x.F$=!1;return x;}Object.defineProperty(b,"__esModule",{value:!0});b.SEa=void 0;r=a(70655);k=a(68172);f=a(89082);l=a(50563);d=a(24133);g=a(50876);n=a(86700);h=a(42029);m=a(811);p=a(70219);q=a(41047);u=a(2467);ia(c,p.HO);c.prototype.TTa=function(w){var v;v=void 0 === v?this.j:v;return new this.dr.sI(w,function(y){return v.L2.BF(y);},function(y){return v.L2.release(y);},{kf:!1,hk:!1});};c.prototype.EA=function(w){var v,y,x,z,A,B;v=this;w=void 0 === w?this.j:w;y=a(61831).Dn;this.dr.sI || this.od(k.U.BI,k.R.rhb);x=(0,f.Gh)(w,"Eme");z=this.TTa(x);A=f.za.get(l.QP);B=A.N2(w.tc.value.streams);A=A.T2(w.Mg.value.streams);return this.dr.uI(x,function(C){return w.ke(C);},{kf:!1,hk:!1,qa:{getTime:y},gd:z,RV:!!this.F$,$:this.Pb.$,iz:this.config().YVa,onerror:function(C,D,F){return v.od(C,D,F);},ara:function(){},NG:!0,zsb:B,P5b:A,lpa:this.di.G1.ba(u.oa)});};c.prototype.setMediaKeys=function(w){var v;v=this;return this.F$?new Promise(function(y,x){if(v.Pb.$)v.Pb.$.setMediaKeys(w).then(function(){y();}).catch(function(z){var A;A=v.k_a(z);x({ia:!1,code:k.U.LI,ic:A.xa,Qc:A.Ee,Jb:A.Jb,message:"Set media keys is a failure",cc:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.xWa=function(w){return {code:w.code,subCode:w.ic,extCode:w.Qc,edgeCode:w.Nm,message:w.message,errorDetails:w.Jb,errorData:w.YA,state:w.state};};c.prototype.jva=function(w,v,y){var z,A,B;function x(){A.aH().catch(function(C){z.log.error("Unable to set the license",z.xWa(C));C.cc && C.cc.Jb && (C.Jb=C.Jb?C.Jb + C.cc.Jb:C.cc.Jb);z.od(C.code,C,C.Qc);});}z=this;y=void 0 === y?this.j:y;A=y.ee;this.log.info("Setting the license");B=v?function(){return Promise.resolve();}:function(){return A.Vg(z.D4(!1),w);};return (v?function(){return A.I1(z.Pb.$);}:function(){return A.create(z.Tl).then(function(){return Promise.resolve();});})().then(B).then(function(){return z.setMediaKeys(A.mediaKeys);}).then(function(){z.log.info("license set");z.Y3(y.O);z.Pb.Ydb.then(function(){z.config().KB && (v || z.config().PS) && (z.T8a=pb.setTimeout(x,z.config().KB));});}).catch(function(C){z.log.error("Unable to set the license",z.xWa(C));C.cc && C.cc.Jb && (C.Jb=C.Jb?C.Jb + C.cc.Jb:C.cc.Jb);if(v)throw Error(C && C.message?C.message:"failed to set license");z.od(C.code,C,C.Qc);});};c.prototype.My=function(){return Promise.resolve();};c.prototype.Q7=function(){var v;function w(){var y;v.j.ee=v.EA();y=[];v.j.ut.forEach(function(x){y.push((0,f.tq)(x));});v.jva(y);}v=this;this.nU || (this.nU=!0,this.dr.uI?this.j.ut?this.config().wS && this.config().fr?this.Zc.iYa(this.j.O).then(function(y){v.j.ee=y;return y.Exa.then(function(){var x;x=[];v.j.ut.forEach(function(z){x.push((0,f.tq)(z));});return v.jva(x,!0).then(function(){var z;if(y.Ubc)v.od(k.U.vhb);else {z=(0,f.Gh)(v.j,"Eme");y.Wcb({log:z,Ym:function(A){return v.j.ke(A);}},{gd:v.TTa(z),onerror:function(A,B,C){return v.od(A,B,C);}});v.j.by(y.Tc || ({}));v.j.DE="videopreparer";}});});}).catch(function(y){v.log.warn("eme not in cache",y);w();}):w():(this.log.error("Missing the PSSH on the video track, closing the player"),this.od(k.U.Dkb)):this.od(k.U.BI,k.R.shb));};c.prototype.Z8a=function(w){var v;w=void 0 === w?this.j:w;w.ee=this.EA();v=[];w.ut.forEach(function(y){v.push((0,f.tq)(y));});return this.jva(v,!1,w);};c.prototype.D4=function(w){return this.config().PS?q.yh.ln:w?q.yh.ln:q.yh.qm;};Wa.Object.defineProperties(c.prototype,{dr:{configurable:!0,enumerable:!0,get:function(){return f.za.get(m.n_);}},YB:{configurable:!0,enumerable:!0,get:function(){return this.F$?"encrypted":this.Pb.cCa + "needkey";}}});t=c;r.__decorate([h.q6],t.prototype,"dr",null);r.__decorate([h.q6],t.prototype,"YB",null);t=r.__decorate([(0,n.T)()],t);b.SEa=t;},77053:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p,q,u,t,w){this.dF=p;this.di=q;this.config=u;this.fM=t;this.Zc=w;}Object.defineProperty(b,"__esModule",{value:!0});b.WEa=void 0;r=a(70655);k=a(86700);f=a(96630);l=a(31134);d=a(89868);g=a(23152);n=a(17244);h=a(26041);a=a(76820);c.prototype.create=function(p,q,u){return p?new l.YEa(this.config(),this.di,this.Zc,q,u,this.dF,this.fM()):new d.SEa(this.config,this.di,this.Zc,q,u);};m=c;m=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.KY)),r.__param(1,(0,k.l)(g.bq)),r.__param(2,(0,k.l)(n.ac)),r.__param(3,(0,k.l)(h.wP)),r.__param(4,(0,k.l)(a.BD))],m);b.WEa=m;},31134:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z,A){y=h.HO.call(this,y,x) || this;y.config=t;y.di=w;y.Zc=v;y.dF=z;y.S6=A;y.log=(0,f.Gh)(y.j,"LicenseBroker");y.nU=new Set();y.nqa=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.YEa=void 0;r=a(70655);k=a(68172);f=a(89082);l=a(77960);d=a(2467);g=a(86700);n=a(42029);h=a(70219);m=a(41047);p=a(34202);q=a(85060);u=a(34902);ia(c,h.HO);c.prototype.Q7=function(){var t,w;t=this;w=this.j.aa;this.nU.has(w.O) || (this.nU.add(w.O),this.Nrb(w).catch(function(){return t.$8a(w);}).then(function(){return t.SQa(w);}).catch(function(v){return t.RQa(w,v);}).catch(function(v){return t.od(v.code,v,v.Qc);}));};c.prototype.Nrb=function(t){var w;w=this;return Promise.all([this.Zc.iYa(t.O),this.dF()]).then(function(v){var y,x;v=ma(v);y=v.next().value;x=v.next().value;return y.B9.then(function(z){var A;A=w.S6.mediaKeys;if(A && A !== z.mediaKeys)return (w.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === y.source && (A=w.eZa(t),x.H4a(A,z));return z;}).then(function(z){return w.I1(z,t,y.source);});}).catch(function(v){w.log.warn("eme not in cache",v);throw v;});};c.prototype.I1=function(t,w,v){this.D7a(t,w);w.DE=v;this.S6.aQa(t.mediaKeys);return t.gha();};c.prototype.kFb=function(t){var w;w={};t.forEach(function(v){w[(0,l.GVa)(v.QU)]=v.time.ba(d.oa);});return w;};c.prototype.D7a=function(t,w){var v;v=this;w.ee=t;t.B_b(function(y){v.od(y.code,y,y.Qc);});};c.prototype.SQa=function(t){this.log.info("Successfully applied license for xid: " + t.ma + ", viewable: " + t.O + ", segment: " + t.I);this.by(t);this.nqa?this.Y3(t.O):this.setMediaKeys(t);};c.prototype.RQa=function(t,w){this.by(t);throw w;};c.prototype.by=function(t){t.ee && t.by(this.kFb(t.ee.Tc));};c.prototype.eZa=function(t){var w,v;w=t.ew[0];v=w.streams[0].Md;v=(0,q.voa)(v);w=(0,u.uma)(w.streams);return {type:this.D4(!1),initData:t.ut.map(function(y){return (0,f.tq)(y);}),K5:v,context:{$:this.Pb.$,d6:w},ti:{O:t.O,ma:t.ma,Ef:t.Ef,Kk:t.Kk,ki:t.W.ki,eg:t.W.Fa.eg}};};c.prototype.$8a=function(t){var w;w=this;return this.dF().then(function(v){var y;y=w.eZa(t);w.nU.add(t.O);return v.Vg(y,w.S6).then(function(x){w.D7a(x,t);w.j.fireEvent(p.ea.pU,{O:t.O});return x.gha();});});};c.prototype.setMediaKeys=function(t){var w;w=this;if(this.nqa)this.log.trace("Media Keys already set");else try{this.Pb.$?(this.nqa=!0,this.Pb.$.setMediaKeys(t.ee.mediaKeys).then(function(){w.Y3(t.O);}).catch(function(v){v=w.k_a(v);w.od(k.U.LI,v,v.Ee);})):this.Y3(t.O);}catch(v){this.od(k.U.LI,v,void 0);}};c.prototype.My=function(){var t,w;t=this;w=this.j.aa.ee;return w?this.dF().then(function(v){return v.release(w,t.S6).then(function(y){t.log.trace("Successfully released the license");return y.close();}).catch(function(y){t.log.error("Unable to release the license",y);});}):Promise.resolve();};c.prototype.Z8a=function(t){var w;w=this;t=void 0 === t?this.j:t;return this.$8a(t).then(function(){return w.SQa(t);}).catch(function(v){return w.RQa(t,v);});};c.prototype.D4=function(t){return this.di.PS?m.yh.ln:t?m.yh.ln:m.yh.qm;};Wa.Object.defineProperties(c.prototype,{YB:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Tl:{configurable:!0,enumerable:!0,get:function(){return this.config.Tl;}}});a=c;r.__decorate([n.q6],a.prototype,"YB",null);a=r.__decorate([(0,g.T)()],a);b.YEa=a;},55714:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bya="AppLogSinkSymbol";},99088:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E;Object.defineProperty(b,"__esModule",{value:!0});b.f3a=void 0;r=a(86700);c=a(53713);k=a(21745);f=a(99530);l=a(30927);d=a(37856);g=a(29588);n=a(17244);h=a(75448);m=a(72464);p=a(20278);q=a(65428);u=a(15303);t=a(55714);w=a(32411);v=a(51340);y=a(91022);x=a(32841);z=a(14959);A=a(95114);B=a(2052);C=a(86491);D=a(49976);F=a(61952);G=a(14697);E=a(58031);b.f3a=new r.$c(function(J){J(z.pm).to(f.qFa).da();J(w.HGa).to(l.GGa).da();J(v.FFa).to(d.EFa).da();J(x.BFa).to(g.AFa).da();J(z.jca).to(h.pFa).da();J(y.Aw).to(m.xFa).da();J(x.zFa).to(p.yFa).da();J(A.oP).to(B.nP).da();J(A.mca).to(F.CFa).da();J(G.rP).to(E.qP).da();J(C.yBa).to(D.xBa).da();J(t.Bya).to(k.Aya).da();J(z.rFa).oX(function(L){return function(){return L.hb.get(c.CP)().then(function(N){return new Promise(function(I){var K,H,M;function O(){H() && M() && N.WU?I(L.hb.get(z.pm)):K.Hj(O);}K=L.hb.get(q.Ci);H=L.hb.get(n.ac);M=L.hb.get(u.tw);K.Hj(O);});});};});});},86491:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yBa="DownloadReportBuilderSymbol";},14959:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jca="LogBatcherConfigSymbol";b.pm="LogBatcherSymbol";b.rFa="LogBatcherProviderSymbol";},51340:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FFa="LogblobSenderSymbol";},91022:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aw="LogMessageFactorySymbol";},32841:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zFa="LogMessageRulerConfigSymbol";b.BFa="LogMessageRulerSymbol";},95114:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oP="LogblobBuilderFactorySymbol";b.mca="LogblobBuilderCommonSymbol";},63563:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ec=void 0;r=b.Ec || (b.Ec={});r.ntb="bitraterestriction";r.oSa="cdnsel";r.wx="chgstrm";r.debug="debug";r.tBb="dlreport";r.Nx="endplay";r.UT="intrplay";r.vy="midplay";r.IM="playbackaborted";r.cW="renderstrmswitch";r.rC="repos";r.zt="resumeplay";r.n_b="serversel";r.vr="startplay";r.SW="statechanged";r.transition="transition";r.Tua="segmentdropped";r.$rb="asereport";r.MOb="livereport";r.LOb="livepipelinefailover";r.lRa="audioswitch";r.ERa="blockedautoplay";r.config="config";r.cdc="ftlProbeError";r.h2b="subtitleerror";r.i2b="subtitleqoe";r.j3b="timedtextrebuffer";r.Pbb="timedtextswitch";r.sab="speedchanged";},14697:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rP="LogblobMonitorFactorySymbol";},32411:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HGa="MessageQueueSymbol";},21745:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p,q,u){var t;t=this;this.fPb=m;this.ny=p;this.config=u;this.Bta=[];this.fPb.Q8(k.xeb,this.dKb.bind(this));q().then(function(w){var v;v=u().ip.dFb;t.TPb=v?h.cj[v.toUpperCase()]:h.cj.Qj;t.Pf=w;t.e_b();});}Object.defineProperty(b,"__esModule",{value:!0});b.Aya=void 0;r=a(70655);f=a(86700);l=a(17244);d=a(33456);g=a(14959);n=a(91022);h=a(71163);c.prototype.dKb=function(m,p){this.Pf?this.V7a(m,p):this.Bta.push([m,p]);};c.prototype.e_b=function(){var m,p;m=this;p=this.Bta;this.Bta=[];p.forEach(function(q){m.V7a(q[0],q[1]);});};c.prototype.V7a=function(m,p){var q;if(this.Pf && this.u0b(m)){q={debugMessage:m.message,debugCategory:m.Cn};m.Hc.forEach(function(u){return q=Object.assign(Object.assign({},q),u.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});m=this.ny.ys("debug",h.cj[m.level].toLowerCase(),q,p);this.Pf.vc(m);}};c.prototype.u0b=function(m){var p;p=this.TPb;return void 0 !== p && m.level <= p && !m.Hc.find(function(q){return q.AS(h.UO);});};a=k=c;a.xeb="adaptorAll";a=k=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(d.DI)),r.__param(1,(0,f.l)(n.Aw)),r.__param(2,(0,f.l)(g.rFa)),r.__param(3,(0,f.l)(l.ac))],a);b.Aya=a;},49976:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p){this.config=p;}Object.defineProperty(b,"__esModule",{value:!0});b.xBa=void 0;r=a(70655);k=a(12648);f=a(20736);l=a(30818);d=a(68172);g=a(70633);n=a(50876);h=a(86700);a=a(17244);c.prototype.construct=function(p,q){var u,t,w;u=this;t={};p.forEach(function(v){var y;y=v.url;t[y] || (t[y]=[]);t[y].push(v);});w=[];(0,l.$f)(t,function(v,y){w.push(u.LJb(y,q));});return {urls:w};};c.prototype.LJb=function(p,q){var u,t,w,v,y;u=this;w=p[0];v={url:w.url,bitrate:w.bitrate,cdnid:null === (t=w.Bc) || void 0 === t?void 0:t.id,dltype:w.vBb,id:w.Ub};y={};p.forEach(function(x){var z;z=u.FMb(x)?"fail":"success";y[z] || (y[z]=[]);y[z].push(x);});(0,l.$f)(y,function(x,z){"fail" === x?v.failures=u.kHb(z,q):"success" === x && (v.downloads=u.aHb(z,q));});return v;};c.prototype.aHb=function(p,q){var u,t,w;u=this;t={};p.forEach(function(v){var y;y=v.Ovb;t[y] || (t[y]=[]);t[y].push(v);});w=[];(0,l.$f)(t,function(v,y){var x;x=[];y.forEach(function(z){x.push(z);u.oMb(z) && (w.push(u.BYa(x,q,v)),x=[]);});0 < x.length && w.push(u.BYa(x,q,v));});return w;};c.prototype.BYa=function(p,q,u){var t,w,v,y,z;t=p.sort(function(A,B){return A.Vl.Wi < B.Vl.Wi?-1:A.Vl.Wi > B.Vl.Wi?1:0;});w=t[0].Vl;v=w.Qy;y=w.Wi;w=w.Op;for(var x=1;x < p.length;x++){z=p[x].Vl;z.Qy < v && (v=z.Qy);z.Wi < y && (y=z.Wi);z.Op > w && (w=z.Op);}x=this.OIb(t);z=t[t.length - 1];return {time:v - q,tcpid:u?parseInt(u):-1,tresp:y - v,first:x,ranges:this.PIb(t,x),dur:w - y,trace:this.iB(p),status:this.qL(z),enctimeinfo:z.yka};};c.prototype.OIb=function(p){var q;q=0;p.forEach(function(u){u.Lv && (q=(0,n.Cw)(q,u.Lv[0]));});return q;};c.prototype.PIb=function(p,q){var u;u=[];p.forEach(function(t){t.Lv?u.push([t.Lv[0] - q,t.Lv[1] - q]):u.push([0,-1]);});return u;};c.prototype.iB=function(p){var q,u;q=[];p.forEach(function(t){var w;t=t.Vl;if(u){w=t.Qy - u.Op;0 < w && q.push([w,-2]);w=(0,n.Mr)(u.Op,t.Qy);w=t.Wi - w;0 < w && q.push([w,-3]);}q.push([t.Op - t.Wi,t.J2 || 0]);u=t;});return q;};c.prototype.oMb=function(p){if(p.xa === d.R.bD || p.xa === d.R.cD)return !0;};c.prototype.qL=function(p){if(p.ia)return "complete";if(p.xa === d.R.bD)return "abort";if(p.xa === d.R.cD)return "stall";(0,g.na)(!1,"download status should never be: other");return "other";};c.prototype.kHb=function(p,q){var u,t;u=this;t=[];p.forEach(function(w){var v;v=w.Vl;w={time:v.Wi - q,tresp:v.Wi - v.Qy,dur:v.Op - v.Wi,range:w.Lv,reason:u.RIb(w),httpcode:w.Kl,nwerr:(0,k.tZa)(w.xa),enctimeinfo:w.yka};t.push(w);});return t;};c.prototype.RIb=function(p){return p.Kl || p.xa === d.R.dP?"http":p.xa === d.R.fP?"timeout":"network";};c.prototype.FMb=function(p){return p.ia || void 0 === p.ia || p.xa === d.R.bD || p.xa === d.R.cD?!1:!0;};c.prototype.Hwb=function(p){var q,u,t,w,v,y;q=p.request;u=q.stream;t=q.track;w=q.url;v=this.YGb(t,w);switch(v){case f.Sj.audio:case f.Sj.video:y=q.stream.Ub;break;case f.Sj.Cwa:case f.Sj.Qwa:y=t.Ub;}p={bitrate:u && u.bitrate,vBb:v,Ub:y,Vl:p.Vl,Bc:q.Bc,url:w,Ee:p.Ee,Kl:p.Kl,xa:p.xa,ia:p.ia,Ovb:this.PDb(p),yka:q.KK};void 0 !== q.offset && void 0 != q.length && (p.Lv=[q.offset,q.offset + q.length - 1]);return p;};c.prototype.YGb=function(p,q){if(p)return p.type;if(0 <= q.indexOf("netflix.com")){if(0 <= q.indexOf("nccp"))return "nccp";if(0 <= q.indexOf("api"))return "api";}return "other";};c.prototype.PDb=function(p){if(p.headers && (p=p.headers["x-tcp-info"]))return (p=p.split(";").filter(function(q){return 0 == q.indexOf("port=");}).map(function(q){return q.split("=")[1];})[0])?(0,l.Vi)(p):p;};m=c;m=r.__decorate([(0,h.T)(),r.__param(0,(0,h.l)(a.ac))],m);b.xBa=m;},75448:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p){m=n.Se.call(this,m,"LogBatcherConfigImpl") || this;m.config=p;m.OPb=(0,k.Ba)(5E5);m.c_b=(0,f.k7)(1);m.O3a=(0,k.Ba)(1E6);return m;}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;r=a(70655);k=a(36845);f=a(2467);l=a(86700);d=a(17244);g=a(54662);n=a(90187);a=a(59578);ia(c,n.Se);Wa.Object.defineProperties(c.prototype,{zga:{configurable:!0,enumerable:!0,get:function(){return this.config().zga;}},X$a:{configurable:!0,enumerable:!0,get:function(){return [];}},W$a:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});h=c;r.__decorate([g.config(g.object(),"shedLogblobTypes")],h.prototype,"X$a",null);r.__decorate([g.config(g.uE("string"),"shedDebugTypes")],h.prototype,"W$a",null);h=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(a.ul)),r.__param(1,(0,l.l)(d.ac))],h);b.pFa=h;},99530:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){this.config=t;this.json=w;this.wc=v;this.YOb=y;this.PU=z;this.Q5=this.uB=!1;this.listeners=[];(0,f.$n)(this,"json");this.la=x.Ua("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.qFa=void 0;r=a(70655);k=a(86700);f=a(60920);l=a(63088);d=a(51340);g=a(65428);n=a(71163);h=a(14959);m=a(32411);p=a(68172);q=a(1265);a(64168);u=a(63563);c.prototype.va=function(){this.uB=!0;};c.prototype.vc=function(t){var w;w=this;this.F0b(t) || (!1,0 < t.size.Ik(this.config.OPb)?this.la.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(v){return v.yQb(t);}),!1,this.PU.Fga(t),this.wc.Hj(function(){w.MEb();})));};c.prototype.flush=function(t){var w;w=this;t=void 0 === t?!1:t;return this.Q5?(this.la.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(v,y){w.la.trace("Flushing",n.UO);w.Tp();w.wc.Hj(function(){w.Yua(t).then(function(){v();}).catch(function(x){y(x);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.Yua=function(t){var w,v;w=this;t=void 0 === t?!1:t;if(!this.uB)return (this.la.trace("LogBatcher is not initialized"),Promise.resolve());if(this.Q5)return (this.la.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());v=this.PU.qGb();if(0 === v.length && !t)return (this.la.trace("No logblobs to send"),Promise.resolve());!1;this.Tp();this.listeners.forEach(function(){});t=Promise.resolve();for(var y={},x=ma(v),z=x.next();!z.done;(y={Y$:y.Y$},z=x.next())){y.Y$=z.value;t=t.then((function(A){return function(){return w.b_b(A.Y$);};})(y));}return t.then(function(){return w.VA();}).catch(function(A){v.filter(function(B){return !B.gy;}).forEach(function(B){return B.Fs();});w.VA();throw Error("Send failure. " + A);});};c.prototype.b_b=function(t){var w;w=this;this.la.trace("Sending batch: " + t.size,n.UO);return Promise.resolve(this.PU.$Xb(t)).then(function(){return w.YOb.send(t.rG);}).then(function(){return t.QN();}).catch(function(v){w.la.warn("Failed to send batch of logblobs.",v,n.UO);t.Fs();w.r0b(v) && w.PU.xqb(t);w.G0b(v) && (w.Q5=!0);throw v;});};c.prototype.r0b=function(t){return t.Qc === p.NZ.WHa?!1:this.config.zga;};c.prototype.G0b=function(t){return t.ic === p.R.OCa || t.ic === p.R.cP || t.ic === p.R.gP?!0:!1;};c.prototype.MEb=function(){var t;t=this;0 < this.PU.size.Ik(this.config.O3a)?this.Yua().catch(function(w){return t.la.warn("Failed to send log messages on size threshold. " + w);}):this.VA();};c.prototype.Tp=function(){this.b6 && (!1,this.b6.cancel(),this.b6=void 0);};c.prototype.VA=function(){this.b6 || (!1,this.b6=this.wc.Ij(this.config.c_b,this.wM.bind(this)));};c.prototype.wM=function(){var t;t=this;this.Q5=!1;this.Tp();this.Yua().catch(function(w){return t.la.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(t){var w;w="";try{w=this.json.stringify(t.data,void 0,"  ");}catch(v){}return w;};c.prototype.F0b=function(t){return 0 <= this.config.X$a.indexOf(t.type)?!0:t.type === u.Ec.debug?0 <= this.config.W$a.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(h.jca)),r.__param(1,(0,k.l)(l.fD)),r.__param(2,(0,k.l)(g.Ci)),r.__param(3,(0,k.l)(d.FFa)),r.__param(4,(0,k.l)(n.Xa)),r.__param(5,(0,k.l)(m.HGa)),r.__param(6,(0,k.l)(q.GY))],a);b.qFa=a;},72464:function(r,b,a){var f,l,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z,A,B,C,D,F){this.platform=w;this.wja=v;this.userAgentData=y;this.type=x;this.severity=z;this.timestamp=A;this.Ea=C;this.data=B;this.data.type=x;this.data.sev=z;this.data.devmod=this.platform.LA;this.data.clver=this.platform.version;t && t.nd && (t.nd.os && (this.data.osplatform=t.nd.os.name,this.data.osver=y.platformVersion.hU?y.platformVersion.version:t.nd.os.version),this.data.browsername=t.nd.name,this.data.browserver=t.nd.version);t.Qoa && (this.data.tester=!0);t.LF && !this.data.groupname && (this.data.groupname=t.LF);t.cK && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.cK:t.cK);t.vX && (this.data.uigroupname=t.vX);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ea.UHb();this.data.uniqueLogId=D.QXa();this.data.appId=this.Ea.id;F && (t=this.Ea.Eb(),this.data.soffms=t.wa(F.Nh).ba(g.oa),this.data.mid=this.data.mid || F.O,this.data.lvpi=F.e3a,this.data.uiLabel=F.wd,this.data.uxLabels=F.G$,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || F.ma,F.qH && (x=F.qH,(F=F.qH.split(".")) && 1 < F.length && "S" !== F[0][0] && (x="SABTest" + F[0] + ".Cell" + F[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function k(t,w,v,y,x,z,A){this.qa=t;this.wja=w;this.config=v;this.Ea=y;this.x5b=x;this.platform=z;this.userAgentData=A;}Object.defineProperty(b,"__esModule",{value:!0});b.xFa=void 0;r=a(70655);f=a(36845);l=a(86700);d=a(35664);g=a(2467);n=a(50746);h=a(53685);m=a(58998);p=a(91026);q=a(811);a=a(64615);k.prototype.ys=function(t,w,v,y){return new c(this.config,this.platform,this.wja,this.userAgentData,t,w,this.qa.fe,v,this.Ea,this.x5b,y);};u=k;u=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.gg)),r.__param(1,(0,l.l)(n.QAa)),r.__param(2,(0,l.l)(h.kn)),r.__param(3,(0,l.l)(m.Jc)),r.__param(4,(0,l.l)(p.KMa)),r.__param(5,(0,l.l)(q.rn)),r.__param(6,(0,l.l)(a.T_))],u);b.xFa=u;Wa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.XRa || (this.XRa=(0,f.Ba)(this.wja.encode(this.data).length));return this.XRa;}}});},20278:function(r,b,a){var k,f,l;function c(d){this.Jk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.yFa=void 0;r=a(70655);k=a(86700);f=a(36845);a=a(15303);c.prototype.$Ob=function(){var d;d=this.Jk()?this.Jk().ck.length:40;return (0,f.Ba)(d + 33);};l=c;l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.tw))],l);b.yFa=l;},29588:function(r,b,a){var k,f,l;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.AFa=void 0;r=a(70655);k=a(86700);f=a(32841);l=a(36845);c.prototype.measure=function(d){var g;g=this;return d.map(function(n){return n.size.add(g.config.$Ob());}).reduce(function(n,h){return n.add(h);},(0,l.Ba)(0));};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.zFa))],a);b.AFa=a;},61952:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u;function c(t,w,v,y){this.platform=t;this.config=w;this.Ea=v;this.userAgentData=y;this.UMa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.CFa=void 0;r=a(70655);k=a(86700);f=a(58998);l=a(68172);d=a(811);g=a(2467);n=a(17244);h=a(30818);m=a(50876);p=a(12648);q=a(64615);u=a(18920);c.prototype.qp=function(t,w,v){v && (t.adlid=v.Ub,t.abitrate=v.bitrate);w && (t.vdlid=w.Ub,t.vbitrate=w.bitrate);};c.prototype.r0a=function(t,w,v){v?t=Object.assign(t,(0,p.EZa)(this.platform.Cq,v)):t.errorcode=l.U.Eo;t.errorcode === this.platform.Cq + l.U.IHa && (t.lastSyncWithVideoElement=this.getTime() - w.cX);};c.prototype.w0a=function(t,w){var v;try{Object.assign(t,(0,p.Tma)());v=w.getBoundingClientRect();t.rendersize=v.width + "x" + v.height;t.renderpos=v.left + "x" + v.top;}catch(y){}};c.prototype.v0a=function(t,w){var v,y,x;v=w.Bc[u.v.X].value;y=w.Bc[u.v.fa].value;x=w.pf.value;w=w.Td.value;v && (t.cdnid=v.id,t.cdnname=v.name);y && (t.acdnid=y.id,t.acdnname=y.name);if(null === x || void 0 === x?0:x.stream)(t.adlid=x.stream.Ub,t.abitrate=x.stream.bitrate);if(null === w || void 0 === w?0:w.stream)(t.vdlid=w.stream.Ub,t.vbitrate=w.stream.bitrate,t.vheight=w.stream.height,t.vwidth=w.stream.width);};c.prototype.t0a=function(t,w,v){0 <= w.mediaTime.value && (w=v && !w.Wa.bg?w.$R:w.mediaTime.value,t.moff=(0,h.Ml)(w),t.moffms=(0,h.ag)(w));};c.prototype.p0a=function(t,w){w.Af && (t.pbcid=w.Af);w.Ef && (t.playbackcontextid=w.Ef);};c.prototype.Zna=function(t){var w,v;t.browserua=m.pD;t.browseruad=null === (v=null === (w=m.Ae.userAgentData) || void 0 === w?void 0:w.brands) || void 0 === v?void 0:v.map(function(y){return [y.brand,y.version];});t.browseruadpv=this.userAgentData.platformVersion.hU?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;t.browserhref=location.href;(w=m.Ae && m.Ae.connection && m.Ae.connection.type) && (t.nettype=w);};c.prototype.BL=function(t){var w,v,y,x,z;if(this.config().ICb){z=null === (w=null === m.Ae || void 0 === m.Ae?void 0:m.Ae.connection) || void 0 === w?void 0:w.effectiveType;w=null === m.Ae || void 0 === m.Ae?void 0:m.Ae.deviceMemory;z && (t.effectiveType=z);w && (t.deviceMemory=w);}(z=null === (v=null === m.Ae || void 0 === m.Ae?void 0:m.Ae.connection) || void 0 === v?void 0:v.type) && (t.connectionType=z);v=null === (y=null === m.Ae || void 0 === m.Ae?void 0:m.Ae.connection) || void 0 === y?void 0:y.downlink;"number" === typeof v && isFinite(v) && (t.downlink=v);y=null === (x=null === m.Ae || void 0 === m.Ae?void 0:m.Ae.connection) || void 0 === x?void 0:x.rtt;"number" === typeof y && isFinite(y) && (t.rtt=y);};c.prototype.u5=function(t,w){if(w=w.Wa.bm)(w.isUIAutoPlay && (t.isUIAutoPlay=!0),w.clLogId && (t.cl_log_id=w.clLogId));};c.prototype.CL=function(t,w,v,y){var x,z,A,B,C;x=this;if(v=v && v.streams){A=new Set();B=new Set();C=new Set();v.forEach(function(D){D=D.Md;A.add(D);B.add(D.replace(x.UMa,""));(D=D.match(x.UMa)) && 0 < D.length && C.add(D[1]);});t.videoProfiles=[].concat(da(A));t.videoProfile=0 === B.size?"none":[].concat(da(B))[0];t.videoProfileLevels=[].concat(da(C));v && v.length && (t.isMcClearen=!!v[0].zi.find(function(D){return 0 <= D.toLowerCase().indexOf("mcclearen");}));}w && (null === (z=y.W) || void 0 === z?0:z.IX) && (t.videoProfilesStatus=this.x3a(y.W.IX));};c.prototype.x3a=function(t){return this.EPb(t.qL(),function(w){return w.supported?!0:w.reason;});};c.prototype.EPb=function(t,w){return Object.entries(t).reduce(function(v,y){var x;x=ma(y);y=x.next().value;x=x.next().value;v[y]=w(x);return v;},{});};c.prototype.m0a=function(t,w,v){var y,x;if(w=w && w.streams){x={};w.forEach(function(z){x[z.Md]=void 0;});t.audioProfiles=Object.keys(x);}(null === (y=v.W) || void 0 === y?0:y.wR) && (t.audioProfilesStatus=this.x3a(v.W.wR));};c.prototype.q0a=function(t){t.configversion=this.config().version;this.config().endpoint || (t.configendpoint="error");};c.prototype.getTime=function(){return this.Ea.Eb().ba(g.oa);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.rn)),r.__param(1,(0,k.l)(n.ac)),r.__param(2,(0,k.l)(f.Jc)),r.__param(3,(0,k.l)(q.T_))],a);b.CFa=a;},2052:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F;function c(G,E,J,L,N,I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb){this.Ibb=G;this.Pf=E;this.kqa=J;this.Zka=L;this.Yd=N;this.q3=I;this.Ie=O;this.config=K;this.Zc=H;this.qa=M;this.Ea=R;this.platform=Y;this.Ep=ea;this.ny=ca;this.vi=oa;this.Js=Ga;this.sG=Fa;this.uc=Ja;this.eM=Xa;this.HB=cb;}Object.defineProperty(b,"__esModule",{value:!0});b.nP=void 0;r=a(70655);k=a(59415);f=a(14959);l=a(89682);d=a(43101);g=a(14756);n=a(86700);h=a(95114);m=a(61087);p=a(86491);q=a(5485);u=a(17244);t=a(35664);w=a(58998);v=a(811);y=a(91022);x=a(76820);z=a(72611);A=a(63088);B=a(53685);C=a(4988);D=a(1092);a=a(21410);c.prototype.create=function(G,E){return new m.pP(G,E,this.Ibb,this.Pf,this.kqa,this.Zka,this.Yd,this.q3,this.Ie,this.config,this.Zc,this.qa,this.Ea,this.Ep,this.ny,this.vi,this.Js,this.sG,this.uc,this.eM,this.HB);};F=c;F=r.__decorate([(0,n.T)(),r.__param(0,(0,n.l)(k.dMa)),r.__param(1,(0,n.l)(f.pm)),r.__param(2,(0,n.l)(d.jGa)),r.__param(3,(0,n.l)(g.Bba)),r.__param(4,(0,n.l)(l.jh)),r.__param(5,(0,n.l)(p.yBa)),r.__param(6,(0,n.l)(q.bu)),r.__param(7,(0,n.l)(u.ac)),r.__param(8,(0,n.l)(x.BD)),r.__param(9,(0,n.l)(t.gg)),r.__param(10,(0,n.l)(w.Jc)),r.__param(11,(0,n.l)(v.rn)),r.__param(12,(0,n.l)(A.m_)),r.__param(13,(0,n.l)(y.Aw)),r.__param(14,(0,n.l)(z.tD)),r.__param(15,(0,n.l)(B.kn)),r.__param(16,(0,n.l)(C.Gca)),r.__param(17,(0,n.l)(h.mca)),r.__param(18,(0,n.l)(D.Dw)),r.__param(19,(0,n.l)(a.bca))],F);b.nP=F;},61087:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J;function c(L,N,I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,U,Z,Q,ka){var P;P=this;this.j=L;this.Ca=N;this.Ibb=I;this.Pf=O;this.kqa=K;this.Zka=H;this.Yd=M;this.q3=R;this.Ie=Y;this.config=ea;this.Zc=ca;this.qa=oa;this.Ea=Ga;this.Ep=Fa;this.ny=Ja;this.vi=Xa;this.Js=cb;this.sG=U;this.uc=Z;this.eM=Q;this.HB=ka;this.kX=[];this.uqa=this.xB=this.fW=0;this.yK=[];this.Jga=!1;this.vr=function(fa){var ua,pa,Ra,Pa,db,wb;pa={};try{pa={playdelaysdk:(0,m.ag)(P.j.LR()),applicationPlaydelay:(0,m.ag)(P.j.cia()),playdelay:(0,m.ag)(P.j.dia()),trackid:P.j.Nj,bookmark:(0,m.ag)(P.j.El || 0),pbnum:P.j.index,endianness:(0,g.HYa)()};P.config().QCb && (pa.transitiontime=P.j.hm,pa.uiplaystarttime=P.j.Wa.JC,pa.playbackrequestedat=P.j.Nh.ba(p.oa),pa.clockgettime=P.getTime(),pa.clockgetpreciseepoch=P.qa.fe.ba(p.oa),pa.clockgetpreciseappepoch=P.Ea.my.ba(p.oa),pa.absolutestarttime=P.j.rF(),pa.relativetime=P.j.OZa());P.l4(pa,"startplay");}catch(nb){P.log.error("error in startplay log fields",nb);}P.j.Ch && (pa.blocked=P.j.Ch);P.uc.q0a(pa);(0,x.tb)(P.j.HRa) && (pa.bookmarkact=(0,m.ag)(P.j.HRa));Ra=P.j.Tc.at && P.j.Tc.ats?P.j.Tc.at - P.j.Tc.ats:void 0;Ra && (pa.nccpat=Ra);(Ra=P.j.Tc.lr && P.j.Tc.lc?P.j.Tc.lr - P.j.Tc.lc:void 0) && (pa.nccplt=Ra);(Ra=P.j.Tc.lc && P.j.Tc.lg?P.j.Tc.lc - P.j.Tc.lg:void 0) && (pa.lct=Ra);(Ra=P.bF()) && (pa.downloadables=Ra);pb._cad_global.device && (0,x.Sc)(pb._cad_global.device.H3) && (pa.esnSource=pb._cad_global.device.H3);(0,m.Sd)(pa,P.Ep,{prefix:"pi_"});P.j.Bn && P.j.Bn.initBitrate && (pa.initvbitrate=P.j.Bn.initBitrate);P.j.Bn && P.j.Bn.selector && (pa.selector=P.j.Bn.selector);pa.fullDlreports=P.mdb;if(P.j.state.value >= y.Tb.$d)try{Pa=P.j.xs();if(Pa){P.maxBitrate=(0,g.BO)(Pa.map(function(nb){return nb.bitrate;}));P.W3a=(0,g.BO)(Pa.map(function(nb){return nb.height;}));db=0 < Pa.length?(0,C.s_a)(function(nb,Bb){return nb.height === Bb.height;},Pa).map(function(nb){return (0,z.$pa)(nb,function(Bb){return Bb.bitrate;});}):void 0;pa.maxbitrate=P.maxBitrate;pa.maxresheight=P.W3a;}}catch(nb){P.log.error("Exception computing max bitrate",nb);}try{wb=(0,g.EF)();wb && (pa.pdltime=wb);}catch(nb){}try{(0,m.Sd)(pa,P.j.Tc,{prefix:"sm_"});(0,m.Sd)(pa,P.j.X4(),{prefix:"vd_"});}catch(nb){}fa && P.j.ut && (pa.pssh=P.j.ut);P.u0a(P.j,pa);pa.avtp=P.KH.Tm().xwa;(null === (ua=P.j.Za) || void 0 === ua?0:ua.Xw) && P.t5(pa);if(P.j.wb.value)try{pa.ttTrackFields=P.j.wb.value.yg;}catch(nb){}P.uc.m0a(pa,P.j.tc.value,P.Ca);P.uc.CL(pa,!0,P.j.Mg.value,P.Ca);P.j.W && (pa.packageId=P.j.W.Fa.cn);P.j.W && P.j.W.Fa.fp && (pa.hasChoiceMap=!0);P.MNb(db);P.LNb();fa && (P.$na(pa),P.boa(pa));P.o0a(P.j,pa);P.RF(P.j,pa);P.SF(P.j,pa);P.Pq(P.j,pa);P.sB(P.j,pa,P.Jga);P.NT(P.j,pa);P.uLb(P.j,pa);P.aoa(pa);P.doa(pa);P.uc.BL(pa);P.n0a(pa);P.uc.u5(pa,P.Ca);P.coa(pa);P.vc(A.Ec.vr,fa,J.Ld | J.Pr | J.Bi | J.Qr | J.UC | J.mY | J.XC | J.xo,pa);};this.zt=function(fa,ua,pa){ua={playdelay:(0,m.ag)(fa),reason:pa,intrplayseq:P.xB - 1,skipped:ua};"repos" === pa && (ua.prstate=!0 === P.j.paused.value?"paused":"playing");P.AL(ua,f.Uh.zt);P.SF(P.j,ua);P.Pq(P.j,ua);P.vc(A.Ec.zt,!1,J.Ld | J.Pr | J.Bi,ua);"rebuffer" !== pa && "force_rebuffer" !== pa || P.j.Vk.Gqb(Number((0,m.ag)(fa)));};this.wx=function(fa,ua,pa,Ra){fa={moff:(0,m.Ml)(pa),moffms:(0,m.ag)(pa),vbitrate:ua.bitrate,vbitrateold:fa.bitrate,vdlid:ua.Ub,vdlidold:fa.Ub,vheight:ua.height,vheightold:fa.height,vwidth:ua.width,vwidthold:fa.width,bw:Ra};P.SF(P.j,fa);P.Pq(P.j,fa);P.sB(P.j,fa);P.AL(fa,f.Uh.wx);P.vc(A.Ec.wx,!1,J.Bi,fa);};this.Ota=function(fa,ua,pa){fa={moff:(0,m.Ml)(pa),moffms:(0,m.ag)(pa),vdlidold:fa.Ub,vbitrateold:fa.bitrate};P.SF(P.j,fa);P.Pq(P.j,fa);P.sB(P.j,fa);P.uc.qp(fa,ua,P.j.pf.value && P.j.pf.value.stream);P.AL(fa,f.Uh.cW);P.vc(A.Ec.cW,!1,J.Bi,fa);};this.ssa=function(){var fa,ua;fa={waittime:(0,m.ag)(P.j.OZa()),abortedevent:"startplay",trackid:P.j.Nj,prstate:P.Wx(),paustate:P.j.paused.value};P.l4(fa,"endplay");P.AL(fa,f.Uh.IM);P.Js.xS && (fa.eventlist_version=1,fa.eventlist=P.sG.CZa(P.j));P.j.Bn && P.j.Bn.initBitrate && (fa.initvbitrate=P.j.Bn.initBitrate);try{ua=(0,g.EF)();ua && (fa.pdltime=ua);(0,m.Sd)(fa,P.j.Tc,{prefix:"sm_"});}catch(pa){}P.Xna(fa);P.uc.u5(fa,P.Ca);P.uc.CL(fa,!1,P.j.Mg.value,P.Ca);P.$na(fa);P.uc.qp(fa,P.j.Oe.value,P.j.Qg.value);P.u0a(P.j,fa);P.RF(P.j,fa);P.NT(P.j,fa);P.coa(fa);P.boa(fa);P.Pq(P.j,fa);P.vc(A.Ec.IM,!1,J.Ld | J.Bi | J.UC | J.Qr | J.xo,fa);};this.rsa=function(fa,ua){fa={waittime:(0,m.ag)(fa),abortedevent:"resumeplay",resumeplayreason:ua};P.j.Bn && P.j.Bn.initBitrate && (fa.initvbitrate=P.j.Bn.initBitrate);P.uc.qp(fa,P.j.Oe.value,P.j.Qg.value);P.NT(P.j,fa);P.Pq(P.j,fa);P.vc(A.Ec.IM,!1,J.Ld | J.Bi | J.xo,fa);};this.Yva=function(fa,ua,pa){fa={newstate:ua?"Paused":"Playing",oldstate:fa?"Paused":"Playing",reason:pa};P.SF(P.j,fa);P.Pq(P.j,fa);P.sB(P.j,fa);P.uc.qp(fa,P.j.Td.value && P.j.Td.value.stream,P.j.pf.value && P.j.pf.value.stream);P.AL(fa,f.Uh.SW);P.vc(A.Ec.SW,!1,J.Ld | J.Bi,fa);};this.UT=function(fa,ua,pa){var Ra,Pa;fa=(0,m.Sd)({vdlid:P.j.Oe.value.Ub,playingms:fa,pausedms:ua,intrplayseq:P.xB++,prstate:P.Wx(),paustate:P.j.paused.value},pa);P.l4(fa,"intrplay");ua=P.j.Bc[D.v.X].value;pa=P.j.Bc[D.v.fa].value;fa.cdnid=fa.vcdnid=ua && ua.id;fa.acdnid=pa && pa.id;fa.locid=P.iU && P.iU.wpa;fa.loclv=P.iU && P.iU.b3a;fa.avtp=P.KH.Tm().xwa;fa.mediabuffered=null === (Ra=P.j.je) || void 0 === Ra?void 0:Ra.m4();if(null === (Pa=P.j.Za) || void 0 === Pa?0:Pa.Xw)(P.Xna(fa),P.t5(fa),P.s0a(fa));try{(0,m.Sd)(fa,P.j.X4(),{prefix:"vd_"});}catch(db){}P.SF(P.j,fa);P.Pq(P.j,fa);P.sB(P.j,fa);P.uc.qp(fa,P.j.Td.value && P.j.Td.value.stream,P.j.pf.value && P.j.pf.value.stream);P.vc(A.Ec.UT,!1,J.Ld | J.Bi,fa);};this.rC=function(fa,ua,pa){fa={moffold:(0,m.Ml)(fa),reposseq:P.fW++,prstate:P.Wx(),paustate:P.j.paused.value};P.sB(P.j,fa);P.uc.qp(fa,pa && pa.stream,ua && ua.stream);P.AL(fa,f.Uh.rC);P.vc(A.Ec.rC,!1,J.Ld | J.Bi,fa);};this.vha=function(){var fa,ua,pa,Ra;ua=P.j.tc.value;pa=P.j.Qg.value.Ub;ua=ua?{trackId:ua.trackId,bcp47:ua.re,downloadableId:pa,rank:ua.ec,chan:ua.channels}:{};pa=P.jy;Ra=null === (fa=P.$oa) || void 0 === fa?void 0:fa.Ub;fa=pa?{trackId:pa.trackId,bcp47:pa.re,downloadableId:Ra,rank:pa.ec,chan:pa.channels}:{};P.vc(A.Ec.lRa,!1,J.Ld | J.Bi,{switchdelay:(0,m.ag)(P.getTime() - P.apa),track:ua,oldtrack:fa});};this.NW=function(fa){P.vc(A.Ec.sab,!1,J.Ld | J.Bi,{speedold:Math.floor(1E3 * fa.oldValue),speed:Math.floor(1E3 * fa.newValue)});};this.VN=function(){P.vc(A.Ec.j3b,!1,J.Ld | J.Bi,{track:P.j.wb.value.yg});};this.az=function(fa){var ua,pa;ua=P.j.wb.value;if(fa.newValue || ua && ua.Vn() && !ua.Wm()){pa=(fa=null !== (pa=fa.newValue) && void 0 !== pa?pa:ua)?{trackId:fa.trackId,bcp47:fa.re,downloadableId:fa.Ub,rank:fa.ec,isImageBased:fa.ik}:{};fa=(fa=P.hpa)?{trackId:fa.trackId,bcp47:fa.re,downloadableId:fa.Ub,rank:fa.ec,isImageBased:fa.ik}:{};pa={switchdelay:(0,m.ag)(P.getTime() - P.gpa),track:pa,oldtrack:fa};P.uc.qp(pa,P.j.Td.value && P.j.Td.value.stream,P.j.pf.value && P.j.pf.value.stream);P.vc(A.Ec.Pbb,!1,J.Ld | J.Bi,pa);}};this.cp=function(fa){P.vc(A.Ec.ntb,!1,J.Ld | J.Bi,fa.newValue);};this.Sub=function(fa,ua){var pa,Ra;pa=ua.serverid;Ra={locid:ua.location,loclv:ua.locationlv,selocaid:pa,selcdnid:pa,selocaname:ua.servername};Ra.mediatype=ua.mediatype;Ra.selreason=ua.selreason || "unknown";Ra.seldetail=ua.seldetail;Ra.cdnbwdata=JSON.stringify([{id:pa}]);fa && (Ra.oldlocid=fa.wpa,Ra.oldloclv=fa.b3a,Ra.oldocaid=fa.l_b,Ra.oldocaname=fa.AW);P.vc(A.Ec.oSa,!1,J.mY,Ra);};this.qVa=function(){var fa,ua,pa;if(P.j.sg)try{fa=!1;P.mdb || (fa=!0,P.yK=P.yK.filter(function(Ra){return !Ra.ia;}));if(0 < P.yK.length){ua=P.q3.construct(P.yK,P.j.Nh.ba(p.oa));P.yK=[];ua.erroronly=fa;pa={};(0,m.$f)(ua,function(Ra,Pa){pa[Ra]=JSON.stringify(Pa);});P.vc(A.Ec.tBb,!1,J.Bi,pa);}}catch(Ra){P.log.error("Exception in dlreport.",Ra);}};this.Wx=function(){var fa;fa=P.j.lb.value;return fa === y.bb.me?"playing":fa === y.bb.Vh?"paused":fa === y.bb.aq?"ended":"waiting";};this.vy=function(){var fa,ua,pa;if(P.j.state.value == y.Tb.$d){pa=P.EV();P.config().Uta && (pa.avtp=P.KH.Tm().xwa,(null === (fa=P.j.Za) || void 0 === fa?0:fa.Xw) && P.t5(pa));pa.mediabuffered=null === (ua=P.j.je) || void 0 === ua?void 0:ua.m4();pa.midplayseq=P.uqa++;pa.prstate=P.Wx();pa.paustate=P.j.paused.value;P.config().g_b && P.cbb("midplay");P.config().fr && P.eoa(pa);P.aoa(pa);P.doa(pa);P.Pq(P.j,pa);P.uc.BL(pa);P.vc(A.Ec.vy,!1,J.Ld | J.Bi | J.UC | J.Qr,pa);}};this.cbb=function(fa){var ua,pa;ua={};ua.trigger=fa;try{pa=P.j.Kma();ua.subtitleqoescore=P.j.hn.vJb(pa);ua.metrics=JSON.stringify(P.j.hn.dna(pa));}catch(Ra){P.log.error("error getting subtitle qoe data",Ra);}P.vc(A.Ec.i2b,!1,J.Ld | J.UC | J.Pr,ua);};this.transition=function(fa){P.sB(P.j,fa);P.NT(P.j,fa);P.vc(A.Ec.transition,!1,0,fa);};this.Tua=function(fa,ua){P.vc(A.Ec.Tua,ua,0,fa);};this.Nx=function(fa){var ua,pa,Ra,Pa,db,wb,nb;pa=P.EV();P.l4(pa,"endplay");pa.prstate=P.Wx();pa.paustate=P.j.paused.value;pa.muted=P.j.muted.value;P.j.bz && "downloaded" === P.j.bz.qL() && (pa.trickplay_ms=P.j.tX.offset,pa.trickplay_res=P.j.tX.f9a);P.config().sdb && (pa.rtinfo=P.j.ZIb());P.config().Uta && (null === (ua=P.j.Za) || void 0 === ua?0:ua.Xw) && P.t5(pa);pa.endreason=fa?"error":P.j.lb.value === y.bb.aq?"ended":"stopped";(ua=P.Ep) && (0,m.Sd)(pa,ua,{prefix:"pi_"});try{(0,m.Sd)(pa,P.j.Tc,{prefix:"sm_"});}catch(Za){}P.j.Wna && (pa.inactivityTime=P.j.Wna);P.Xna(pa);P.s0a(pa);if(P.j.i2){ua=P.j.i2;Ra=P.config().LRa;Pa=P.j.loadTime;db={iv:Ra,seg:[]};wb=function(Za,hb,lb){return 0 === hb || void 0 === lb[hb - 1]?Za:Za - lb[hb - 1];};nb=ua.Hsb.map(wb);wb=ua.U5b.map(wb);for(var Bb,Qa=0;Qa < nb.length;Qa++){if(nb[Qa] || wb[Qa])Bb?(Bb.ams.push(nb[Qa]),Bb.vms.push(wb[Qa])):Bb={ams:[ua.Hsb[Qa]],vms:[ua.U5b[Qa]],soffms:ua.startTime + Qa * Ra - Pa};Qa !== nb.length - 1 && nb[Qa] && wb[Qa] || !Bb || (db.seg.push(Bb),Bb=void 0);}pa.bt=JSON.stringify(db);}fa && (P.$na(pa),P.boa(pa));P.cbb("endplay");P.config().fr && P.eoa(pa);P.uc.CL(pa,!1,P.j.Mg.value,P.Ca);P.o0a(P.j,pa);P.RF(P.j,pa);P.SF(P.j,pa);P.sB(P.j,pa,P.Jga);P.Pq(P.j,pa);P.NT(P.j,pa);P.aoa(pa);P.doa(pa);P.uc.BL(pa);P.wLb(pa);P.n0a(pa);P.yLb(pa);P.xLb(pa);P.ALb(pa);P.coa(pa);P.BLb(pa);P.vc(A.Ec.Nx,fa,J.Ld | J.Pr | J.Bi | J.UC | J.Qr | J.XC | J.xo,pa);};this.ABb=function(fa){P.yK.push(P.q3.Hwb(fa.response));};this.Ch=function(){P.vc(A.Ec.ERa,!1,J.Ld | J.UC | J.xo,{});};this.awb=function(fa){var ua,pa;ua=fa.response.Vl;fa=(0,p.Kb)(ua.Wi);pa=(0,p.Kb)(ua.Op);ua=(0,u.Ba)(ua.J2 || 0);ua.O1a() || ua.Foa() || (fa=new t.Mda(fa,pa),P.KH.Aqb(new w.wBa(fa,ua)));};this.d8=function(fa){var ua,pa,Ra;Ra=fa.newValue;fa.Fh && fa.Fh.qM && Ra && (null === (ua=fa.Fh) || void 0 === ua || !ua.reason) || Ra == P.eG || (P.Yva(P.eG,Ra,null === (pa=fa.Fh) || void 0 === pa?void 0:pa.reason),P.eG=Ra);};this.rx=function(fa){function ua(pa){var Ra;if(P.j.Pb && P.j.Pb.sourceBuffers){Ra=P.j.Pb.sourceBuffers.filter(function(Pa){return Pa.type === pa;}).pop();if(Ra)return {busy:Ra.qh(),updating:Ra.updating(),ranges:Ra.n4()};}}fa={cause:fa.cc};fa.cause && fa.cause === d.oda && (fa.mediaTime=P.j.mediaTime.value,fa.buf_audio=ua(l.VZ),fa.buf_video=ua(l.uP));P.UT(P.kX[y.bb.me] || 0,P.kX[y.bb.Vh] || 0,fa);};this.dcb=function(fa){var ua;fa=fa.oldValue;ua=P.getTime();fa === y.bb.Gf?P.kX=[]:P.kX[fa]=(P.kX[fa] || 0) + (ua - P.UNb);P.UNb=ua;};this.Dl=function(fa){P.apa=P.getTime();P.jy=fa.oldValue;};this.jl=function(fa){P.gpa=P.getTime();P.hpa=fa.oldValue;};this.yR=function(fa){P.$oa=fa.oldValue;};this.vU=function(fa){function ua(pa,Ra){var Pa;if(!pa || pa.wpa !== Ra.location){Pa={wpa:Ra.location,b3a:Ra.locationlv,l_b:Ra.serverid,AW:Ra.servername};P.Sub(pa,Ra);return Pa;}}if("audio" === fa.mediatype){if(fa=ua(P.PNb,fa))P.PNb=fa;}else if(fa=ua(P.iU,fa))P.iU=fa;};this.zW=function(fa){var ua,pa;ua=fa.mediatype;pa=fa.reason;"video" === ua?"serverswitchaway" === pa?(P.$i.summary.Tdb++,P.$i.o6=P.qa.fe.ba(p.oa)):"serverswitchback" === pa && (P.$i.summary.Udb++,P.$i.o6 && (P.$i.summary.Vdb.push(P.qa.fe.ba(p.oa) - P.$i.o6),P.$i.o6=void 0)):"audio" === ua && ("serverswitchaway" === pa?(P.$i.summary.ZQa++,P.$i.g6=P.qa.fe.ba(p.oa)):"serverswitchback" === pa && (P.$i.summary.$Qa++,P.$i.g6 && (P.$i.summary.aRa.push(P.qa.fe.ba(p.oa) - P.$i.g6),P.$i.g6=void 0)));P.vc(A.Ec.n_b,!1,J.Ld | J.Bi,{mediatype:fa.mediatype,server:fa.server,selreason:fa.reason,location:fa.location,bitrate:fa.bitrate,confidence:fa.confidence,throughput:fa.throughput,oldserver:fa.oldserver});};this.vE=function(fa){P.vc(A.Ec.$rb,!1,J.Bi,{strmsel:fa.strmsel});};this.x6=function(fa){fa=k.__rest(fa,["type"]);P.Pq(P.j,fa);P.vc(A.Ec.MOb,!1,J.Ld,fa);};this.w6=function(fa){var ua,pa;ua=fa.mediaType;pa=fa.current;fa=fa.Zl;ua === D.v.X && (ua={mediatype:(0,E.qG)(ua),curr:{enc:pa.UA,origin:pa.TA},prev:{enc:fa.UA,origin:fa.TA}},P.Pq(P.j,ua),P.vc(A.Ec.LOb,!1,J.Ld,ua));};this.PN=function(fa){fa=Object.assign({},fa);fa.details && (fa.details=JSON.stringify(fa.details));P.vc(A.Ec.h2b,!0,J.Ld | J.Pr | J.mY,fa);};this.Jga=Xa.sxa || Xa.E$ || Xa.yXa;this.KH=I();this.log=(0,n.Gh)(L,"LogblobBuilder");this.eG=L.paused.value;this.ma=this.Ca.ma;this.$i={summary:{Tdb:0,Udb:0,Vdb:[],ZQa:0,$Qa:0,aRa:[]},o6:void 0,g6:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.pP=void 0;k=a(70655);f=a(91854);l=a(7942);d=a(58680);g=a(24133);n=a(89082);h=a(70633);m=a(30818);p=a(2467);q=a(68172);u=a(36845);t=a(39784);w=a(5099);v=a(50876);y=a(34202);x=a(95919);z=a(99275);A=a(63563);B=a(73374);C=a(56170);D=a(18920);F=a(79426);G=a(75183);E=a(91854);c.prototype.u0a=function(L,N){var I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,U,Z;if(this.config().fr)try{I={};O=this.Zc.getStats(void 0,void 0,L.O);K=L.rF();H=O.JH.mwb || [];I.attempts=O.t8 || 0;I.num_completed_tasks=H.length;M=this.Yd.gEb;R={};Y=B.ej.QN;ea=B.ej.Fs;ca=B.ej.iia;O.Lk && (R.scheduled=O.Lk - K);oa=L.W;oa && (0,x.tb)(oa.dH) && (R.preauthsent=oa.dH - L.loadTime,R.preauthreceived=oa.iN - L.loadTime);Ga=H.filter(function(Q){return "manifest" === Q.type;});I.mf_succ=Ga.filter(M("status",Y)).length;I.mf_fail=Ga.filter(M("status",ea)).length;Fa=L.Tc;(0,x.Sc)(Fa.lg) && 0 > Fa.lg && L.loadTime && (R.ldlsent=Fa.lc,R.ldlreceived=Fa.lr);Ja=H.filter(function(Q){return "ldl" === Q.type;});I.ldl_succ=Ja.filter(M("status",Y)).length;I.ldl_fail=Ja.filter(M("status",ea)).length;O=!0;K=[];"notcached" === L.EE && (O=!1,K.push("Missing cached manifest"));this.config().wS || (O=!1,K.push("LDL prefetch disabled"));Xa=Ja.filter(M("status",ca)).length;this.config().wS && 0 === Xa && (!R.ldlreceived || 0 <= R.ldlreceived) && (O=!1,K.push("LDL received after start"));if(this.config().gWa)if(N.isPrefetchItem){cb=N.prefetchedAudioMs / N.bcABufferLevelMs;if(1 > N.prefetchedVideoMs / N.bcVBufferLevelMs || 1 > cb)(O=!1,K.push("Insufficient media fetched"));}else (O=!1,K.push("aseStats not initialized"));U=H.filter(function(Q){return "getHeaders" === Q.type;});I.header_succ=U.filter(M("status",Y)).length;I.header_fail=U.filter(M("status",ea)).length;Z=H.filter(function(Q){return "getMedia" === Q.type;});I.media_succ=Z.filter(M("status",Y)).length;I.media_fail=Z.filter(M("status",ea)).length;I.hm_succ=I.header_succ + I.media_succ;I.hm_fail=I.header_fail + I.media_fail;(0,m.Sd)(N,I,{prefix:"pr_"});this.Js.xS && (N.eventlist_version=1,N.eventlist=this.sG.CZa(L));(N.prefetchCompleted=O) || (N.prefetchFailed=K,(0,m.Sd)(N,R,{prefix:"pe_"}));this.eoa(N);}catch(Q){this.log.warn("error in collecting video prepare data",Q);}};c.prototype.dJb=function(L,N){if(L=L.YS())if(N=L[N])return N.ta;};c.prototype.o0a=function(L,N){L.Wa.bg && (N.isBranching=!0);};c.prototype.RF=function(L,N){var I,O;O=(null === (I=L.W) || void 0 === I?void 0:I.Coa) || "videopreparer" === L.DE;N.cachedManifest=L.EE;N.cachedLicense=L.DE;N.usedldl=this.config().wS?O.toString():"not_capable";};c.prototype.SF=function(L,N){var I,O;if(this.config().zLb){I=L.Lma();O=L.aa.W;I && O && (N.segment=I,O=L.gB(),N.segmenttime=O,L=this.dJb(L,I),null !== O && void 0 !== L && (N.segmentoffset=O - L));}};c.prototype.sB=function(L,N,I){N.pxid=L.o8;(void 0 === I?0:I) && (N.playgraph_trace=L.e7a);};c.prototype.NT=function(L,N){N.hasContentPlaygraph=L.d5();};c.prototype.uLb=function(L,N){var I,O;if(L.d5()){I=L.IA;O=L.W.Fa.Hm.ga;N.auxViewables=Object.keys(O.L).map(function(K){return O.L[K].J;}).filter(function(K,H,M){return K !== I && M.indexOf(K) === H;});}};c.prototype.s0a=function(L){var N,I;N=this.j.zdc;I=N && N.rfc;N && N.aLb && (L.htwbr=N.aLb,L.pbtwbr=N.cfc,L.hptwbr=N.Ddc);N && N.kZb && (L.rr=N.kZb,L.ra=N.ofc);N && I && 0 < (I.length || 0) && (L.qe=JSON.stringify(I));};c.prototype.$na=function(L){var N,I,O;try{N=this.Yd.createElement("canvas");I=N.getContext("webgl") || N.getContext("experimental-webgl");if(I){O=I.getExtension("WEBGL_debug_renderer_info");O && (L.WebGLRenderer=I.getParameter(O.UNMASKED_RENDERER_WEBGL),L.WebGLVendor=I.getParameter(O.UNMASKED_VENDOR_WEBGL));}}catch(K){}};c.prototype.ALb=function(L){L.switchAwaySummary={vsa:this.$i.summary.Tdb,vsb:this.$i.summary.Udb,vsbt:this.$i.summary.Vdb,asa:this.$i.summary.ZQa,asb:this.$i.summary.$Qa,asbt:this.$i.summary.aRa};};c.prototype.hnb=function(L){var N;N=[];return L?Object.keys(L).map(function(I){return +I;}):N;};c.prototype.bF=function(){var L,N;L=this;if(this.j.ew && this.j.ai){N=[];this.j.ew.concat(this.j.ai).forEach(function(I){I.streams.forEach(function(O){N.push({dlid:O.Ub,type:O.type,bitrate:O.bitrate,vmaf:O.zb,cdn_ids:L.hnb(O.eka)});});});return JSON.stringify(N);}};c.prototype.Rub=function(){var N,I,O;function L(K,H){var M,R,Y;M=K.cdnId + "$" + K.correlationId;R=O[M];R || (R={cdnid:K.cdnId,pbcid:K.correlationId,dls:[]},O[M]=R,I.push(R));(0,h.tK)(K.bitrate);(0,h.tK)(K.duration);M={bitrate:K.bitrate,tm:(0,v.nn)(K.duration)};Y=K.vmaf;Y && ((0,h.tK)(K.vmaf),M.vf=Y);M[H]=(0,m.Vi)(K.downloadableId);R.dls.push(M);}N=this.j.Vk.mGb();I=[];O={};N.audio.forEach(function(K){L(K,"adlid");});N.video.forEach(function(K){L(K,"dlid");});return JSON.stringify(I);};c.prototype.EV=function(){var L,N,I,O,K,H,M,R,Y,ea,ca,oa,Ga;L=this.j.Vk;N={totaltime:(0,m.Ml)(L.np("content")),totalcontenttime:(0,m.Ml)(L.wT("content")),totaladtime:(0,m.Ml)(L.np("ads")),totalothertime:(0,m.Ml)(L.np("other")),cdndldist:this.Rub(),reposcount:this.fW,intrplaycount:this.xB};try{I={numskip:0,numlowqual:0};O=this.j.je;K=O.jv();(0,x.tb)(K) && (N.totfr=K,I.numren=K);K=O.wF();(0,x.tb)(K) && (N.totdfr=K,I.numrendrop=K);K=O.bT();(0,x.tb)(K) && (N.totcfr=K,I.numrenerr=K);N.playqualvideo=JSON.stringify(I);H=this.j.Oe.value;H && (N.videofr=H.framerate.toFixed(3));M=L.Ula();M && (N.abrdel=M);R=L.k5() && L.aYa();R && (N.tw_vmaf=R);Y=L.ZXa();Y && (0,m.Sd)(N,Y);N.rbfrs=this.xB;N.maxbitrate=this.maxBitrate;N.maxresheight=this.W3a;ea=this.j.jB();for(L=0;L < ea.length;L++){ca=ea[L];oa=this.Ca.hM.Xy(ca);if(oa){(0,h.na)(Ga);N.maxbitrate=Ga?Ga.bitrate:0;N.maxresheight=Ga?Ga.height:0;N.bitratefilters=oa.join("|");break;}Ga=ca;}this.j.bz && (N.trickplay=this.j.bz.qL());null !== this.j.hn.tRa && (N.avg_subt_delay=this.j.hn.tRa);}catch(Fa){this.log.error("Exception reading some of the endplay fields",Fa);}(0,m.Sd)(N,this.j.X4(),{prefix:"vd_"});return N;};c.prototype.getTime=function(){return this.Ea.Eb().ba(p.oa);};c.prototype.Wma=function(){return this.getTime() - this.Ca.Nh.ba(p.oa);};c.prototype.eoa=function(L){var N;try{N=this.Zc.getStats();L.pr_cache_size=JSON.stringify(N.cache);L.pr_stats=JSON.stringify(N.NFb);}catch(I){}};c.prototype.aoa=function(L){this.log.debug("httpstats",this.Ie.Tf);(0,m.Sd)(L,this.Ie.Tf,{prefix:"http_"});};c.prototype.Pq=function(L,N){L=L.cd;L.ha && (N.intenttoplayatedge=L.ET(),L=L.fB(),N.livestage=this.PHb(L));};c.prototype.PHb=function(L){switch(L){case F.Kr.PP:case F.Kr.eca:case F.Kr.vba:return L.toLowerCase();default:return (0,G.CS)(L);}};c.prototype.Xna=function(L){var N,I,O;N=this.config().HUa && !(this.ma % this.config().HUa);I=this.j.Za;O=null === I || void 0 === I?void 0:I.Ah;N && O && (L.ASEstats=JSON.stringify(I.W0a()));};c.prototype.t5=function(L){Object.assign(L,this.j.Za.Ic.CJb());};c.prototype.doa=function(L){var N;try{N=v.hu.memory;(0,x.L1a)(N) && (L.totalJSHeapSize=N.totalJSHeapSize,L.usedJSHeapSize=N.usedJSHeapSize,L.jsHeapSizeLimit=N.jsHeapSizeLimit);}catch(I){}};c.prototype.n0a=function(L){var N;try{if(this.config().NR){N=this.j.sGb();L.battery=N;this.log.trace("batterystatuses",N);}}catch(I){}};c.prototype.wLb=function(L){this.j.a3 && (L.dqec=this.j.a3);};c.prototype.coa=function(L){var N,I,O;(null === (N=this.j.ee) || void 0 === N?0:N.iL)?L.keysys=this.j.ee.iL():(null === (O=null === (I=this.j.ee) || void 0 === I?void 0:I.mediaKeys) || void 0 === O?0:O.keySystem)?L.keysys=this.j.ee.mediaKeys.keySystem:this.eM.e2a && (L.keysys=this.eM.e2a);this.HB.g2a && (L.keySystemRestrictions=this.HB.g2a);this.HB.h2a && (L.keySystemRestrictionsDebug=this.HB.h2a);};c.prototype.boa=function(L){var N;if(null === (N=this.j.ee) || void 0 === N?0:N.$Ya)L.keystatus=this.j.ee.Zoa;};c.prototype.xLb=function(L){this.Yka && (L.externaldisplay=this.Yka.SK);};c.prototype.yLb=function(L){var N,I;if(this.xxa){N=this.xxa.map(function(O){return O.Kf;}).filter(function(O){return void 0 !== O;});I=(0,z.$pa)(N,function(O){return O.height;});I && (L.media_capabilities_smooth=I.smooth,L.media_capabilities_efficient=I.powerEfficient,L.media_capabilities_bitrate=I.bitrate,L.media_capabilities_height=I.height,L.media_capabilities_width=I.width);L.media_capabilities=N.map(function(O){return {smooth:O.smooth,efficient:O.powerEfficient,bitrate:O.bitrate,height:O.height,width:O.width};});}};c.prototype.BLb=function(L){L.didHydrateTracks=this.j.m3;};c.prototype.LNb=function(){void 0 === this.Yka && (this.Yka=this.Zka.bEb());};c.prototype.MNb=function(L){var N;N=this;void 0 === this.xxa && void 0 !== L && (this.xxa=L.map(function(I){return N.kqa.dla(I);}));};c.prototype.l4=function(L,N){(N=this.j.kL(N)) && Object.entries(N).forEach(function(I){var O;O=ma(I);I=O.next().value;O=O.next().value;L[I]=O;});};c.prototype.AL=function(L,N){var I;(N=null === (I=this.j.Za) || void 0 === I?void 0:I.E4(void 0,N)) && Object.entries(N).forEach(function(O){var K;K=ma(O);O=K.next().value;K=K.next().value;L[O]=K;});};c.prototype.vc=function(L,N,I,O){var K,H;H=N?"error":"info";N && this.j.ph && (0,q.OY)(this.j.ph.errorCode,this.j.ph.xa,this.Wma(),null === (K=this.j.je) || void 0 === K?void 0:K.jv()) && (H="info");this.wga(O,this.j,N,I);L=this.ny.ys(L,H,O,this.Ca);this.Pf.vc(L);};c.prototype.vLb=function(L,N){var I,O;O=null === (I=N.Za) || void 0 === I?void 0:I.Izb;O && (null === O || void 0 === O?void 0:O.J) !== N.IA && (L.auxMid || (L.auxMid=O.J),L.auxPlaybackcontextid || (L.auxPlaybackcontextid=N.Mk(O.J).Ef));};c.prototype.wga=function(L,N,I,O){var K,H,M,R,Y;this.uc.p0a(L,N);this.vLb(L,N);O & J.Ld && ((0,h.na)(!L || void 0 === L.moff),this.uc.t0a(L,N,N.d5()));O & J.Pr && this.uc.v0a(L,N);O & J.Bi && (null === (K=N.Za) || void 0 === K?0:K.Ah) && (L.abuflbytes=null !== (H=L.abuflbytes) && void 0 !== H?H:N.rha(),L.abuflmsec=null !== (M=L.abuflmsec) && void 0 !== M?M:N.uR(),L.vbuflbytes=null !== (R=L.vbuflbytes) && void 0 !== R?R:N.vxa(),L.vbuflmsec=null !== (Y=L.vbuflmsec) && void 0 !== Y?Y:N.FX());O & J.Qr && this.uc.w0a(L,N.qk);O & J.UC && (K=v.Ae.hardwareConcurrency,0 <= K && (L.numcores=K),K=this.Ca.lka) && (H=K.Vla(),L.droppedFrames=JSON.stringify(H),K=K.oT(this.config().RBb),(0,m.$f)(K,function(ea,ca){L["droppedFramesP" + ea]=JSON.stringify(ca);}));if(O & J.mY)try{N.sg && (L.cdninfo=JSON.stringify(N.sg.map(function(ea){return {id:ea.id,nm:ea.name,rk:ea.ec,wt:ea.location.weight,lv:ea.location.level};})));}catch(ea){}I && O & J.XC && ((0,h.na)(N.ph),this.uc.r0a(L,N,N.ph));O & J.xo && this.uc.Zna(L);};Wa.Object.defineProperties(c.prototype,{mdb:{configurable:!0,enumerable:!0,get:function(){return this.j.RA || this.j.uS;}}});b.pP=c;(function(L){L[L.Ld=1]="MOFF";L[L.Pr=2]="PRESENTEDSTREAMS";L[L.Bi=4]="BUFFER";L[L.Qr=8]="SCREEN";L[L.UC=16]="CPU";L[L.mY=32]="CDN";L[L.XC=64]="FATALERROR";L[L.xo=128]="BROWSERINFO";})(J || (J={}));},58031:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p,q,u,t){this.Pf=m;this.config=p;this.qa=q;this.Ea=u;this.Dpa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.qP=void 0;r=a(70655);k=a(14959);f=a(86700);l=a(95114);d=a(17244);g=a(35664);n=a(58998);h=a(17899);c.prototype.create=function(m,p,q,u){var t;t=this.Dpa.create(m,p);return new h.sP(m,p,q,u,this.Pf,this.config,this.Ea,t);};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.pm)),r.__param(1,(0,f.l)(d.ac)),r.__param(2,(0,f.l)(g.gg)),r.__param(3,(0,f.l)(n.Jc)),r.__param(4,(0,f.l)(l.oP))],a);b.qP=a;},17899:function(r,b,a){var k,f,l,d;function c(g,n,h,m,p,q,u,t){var w;w=this;this.j=g;this.Ca=n;this.HF=m;this.Pf=p;this.config=q;this.Ea=u;this.cb=t;this.LB=function(v,y){return function(x){var z;z=y(x);if("number" !== typeof z)throw Error("Event " + JSON.stringify(x) + " does not have movie Id");z === w.O && v(x);};};this.v3a=this.LB(function(v){w.U9(v.XF);},function(v){return v.O;});this.s3a=this.LB(function(){w.OR();},function(v){return v.O;});this.ZSa=this.LB(function(){w.OR();},function(v){return v.movieId;});this.tia=this.LB(function(){w.j.lb.value === d.bb.me && (w.j.lb.removeListener(w.tia),w.ot());},function(){return w.j.O;});this.az=function(v){w.Fp && w.cb.az(v);};this.dTa=this.LB(this.cb.awb,function(v){return v.O;});this.yVa=this.LB(this.cb.ABb,function(v){return v.O;});this.Z2a=this.LB(this.cb.vU,function(v){return w.j.fi(v.segmentId).O;});this.f$a=this.LB(this.cb.zW,function(v){return w.j.fi(v.segmentId).O;});this.Aj=function(v){v.skip && (w.wH=!0);switch(v.cc){case d.Xc.Mw:case d.Xc.kP:case d.Xc.M_:w.kr && w.vo && w.cb.rsa(w.getTime() - w.vo,w.kr);w.kr="repos";w.cb.rC(v.kra,v.pf,v.Td);w.vo=w.getTime();(0,l.Mf)(w.Vu);break;case d.Xc.QY:(w.kr="force_rebuffer",w.vo=w.getTime(),(0,l.Mf)(w.Vu));}};this.Dl=function(v){w.jy=v.oldValue;w.cb.Dl(v);};this.Vu=function(){var v;if(w.vo && w.j.lb.value !== d.bb.Gf){v=w.getTime() - w.vo;w.cb.zt(v,w.wH,w.kr);w.jy && w.jy != w.j.tc.value && w.cb.vha();w.vo=void 0;w.kr=void 0;w.wH=void 0;}};this.ot=function(){w.Fp || (w.Fp=!0,w.cb.vr(!1),w.hoa(),w.config().C5 && (w.dy=pb.setTimeout(function(){w.Pf.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.dy=void 0;},w.config().C5)));};this.tg=function(){w.dy && (pb.clearTimeout(w.dy),w.dy=void 0);if(w.config().r3 || w.config().tR)(w.dka && (pb.clearInterval(w.dka),w.dka=void 0),w.cb.qVa());w.xX && w.xX();w.Fp?w.cb.Nx(!!w.j.ph):w.j.ph?w.cb.vr(!0):w.Ca.background.value || w.cb.ssa();};this.KX=function(v){v.oldValue && v.Fh && v.Fh.IE && w.cb.wx(v.oldValue,v.newValue,v.Fh.IE,v.Fh.DR);};this.MV=function(v){var y;if(v.newValue){y=v.newValue.stream;w.fG != y && (w.fG && y && w.cb.Ota(w.fG,y,w.HF(v.newValue.fK.startTime)),w.fG=y);}};this.O=n.O;this.log=(0,k.Gh)(g,"LogblobBuilder");this.va();h && this.U9();}Object.defineProperty(b,"__esModule",{value:!0});b.sP=void 0;k=a(89082);f=a(2467);l=a(66052);d=a(34202);c.prototype.va=function(){this.j.addEventListener(d.ea.lG,this.v3a);this.j.addEventListener(d.ea.Rpa,this.s3a);this.j.addEventListener(d.ea.vU,this.Z2a);this.j.addEventListener(d.ea.zW,this.f$a);this.j.addEventListener(d.ea.tg,this.ZSa);if(this.config().r3 || this.config().tR)(this.j.addEventListener(d.ea.$E,this.yVa),this.dka=pb.setInterval(this.cb.qVa,this.config().EBb));this.config().Uta && this.j.addEventListener(d.ea.$E,this.dTa);};c.prototype.U9=function(g){var n;n=this;this.I4a || (this.j.lb.value !== d.bb.me || (void 0 === g?0:g)?this.j.lb.addListener(this.tia):this.ot(),this.j.Yh.addListener(this.az),this.j.wb.addListener(this.cb.jl),this.j.tc.addListener(this.Dl),this.j.Qg.addListener(this.cb.yR),this.j.paused.addListener(this.cb.d8),this.j.Td.addListener(this.MV),this.j.lb.addListener(this.Vu),this.j.lb.addListener(this.cb.dcb),this.j.Oe.addListener(this.KX),this.j.playbackRate.addListener(this.cb.NW),this.j.addEventListener(d.ea.Ch,this.cb.Ch),this.j.addEventListener(d.ea.vE,this.cb.vE),this.j.addEventListener(d.ea.x6,this.cb.x6),this.j.addEventListener(d.ea.w6,this.cb.w6),this.j.addEventListener(d.ea.PN,this.cb.PN),this.j.addEventListener(d.ea.rx,function(h){n.kr="rebuffer";n.cb.rx(h);n.vo=n.getTime();(0,l.Mf)(n.Vu);}),this.j.addEventListener(d.ea.Aj,this.Aj),this.j.addEventListener(d.ea.VN,this.cb.VN),this.Ca.cp && this.Ca.cp.addListener(this.cb.cp),this.I4a=!0);};c.prototype.OR=function(){this.tg();this.I4a && (this.j.removeEventListener(d.ea.lG,this.v3a),this.j.removeEventListener(d.ea.Rpa,this.s3a),this.j.removeEventListener(d.ea.vU,this.Z2a),this.j.removeEventListener(d.ea.zW,this.f$a),this.j.Yh.removeListener(this.az),this.j.wb.removeListener(this.cb.jl),this.j.tc.removeListener(this.Dl),this.j.Qg.removeListener(this.cb.yR),this.j.paused.removeListener(this.cb.d8),this.j.Td.removeListener(this.MV),this.j.lb.removeListener(this.Vu),this.j.lb.removeListener(this.tia),this.j.lb.removeListener(this.cb.dcb),this.j.Oe.removeListener(this.KX),this.j.playbackRate.removeListener(this.cb.NW),this.j.removeEventListener(d.ea.tg,this.ZSa),this.j.removeEventListener(d.ea.Ch,this.cb.Ch),this.j.removeEventListener(d.ea.vE,this.cb.vE),this.j.removeEventListener(d.ea.PN,this.cb.PN),this.j.removeEventListener(d.ea.rx,this.cb.rx),this.j.removeEventListener(d.ea.Aj,this.Aj),this.j.removeEventListener(d.ea.VN,this.cb.VN),this.Ca.cp && this.Ca.cp.removeListener(this.cb.cp),this.j.removeEventListener(d.ea.$E,this.yVa),this.j.removeEventListener(d.ea.$E,this.dTa));};c.prototype.getTime=function(){return this.Ea.Eb().ba(f.oa);};c.prototype.hoa=function(){var g,n,h;g=this;h=[];this.config().n4a && (this.config().o4a.forEach(function(m){h.push(pb.setTimeout(g.cb.vy,m));}),this.config().Z6 && (n=pb.setInterval(this.cb.vy,this.config().Z6)),this.xX=function(){h.forEach(function(m){pb.clearTimeout(m);});n && pb.clearInterval(n);});};b.sP=c;},37856:function(r,b,a){var f,l,d,g,n,h,m,p,q,u,t;function c(w,v,y,x,z,A,B,C){this.Ea=w;this.platform=y;this.Jk=x;this.json=z;this.xh=A;this.Wg=B;this.dPb=C;(0,l.$n)(this,"json");this.la=v.Ua("LogblobSender");}function k(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.EFa=void 0;r=a(70655);f=a(86700);l=a(60920);d=a(63088);g=a(2467);n=a(89682);h=a(58998);m=a(811);p=a(15303);q=a(71163);u=a(4048);a=a(95538);c.prototype.send=function(w){var v;v=this;return new Promise(function(y,x){var z;try{z=w.reduce(function(A,B){A.entries.push(v.Vyb(B));return A;},new k());y(v.RFb(z));}catch(A){v.la.error(A.message);x(A);}}).then(function(y){return v.$ua(y);});};c.prototype.Vyb=function(w){return this.xh.UB(this.xh.UB({},w.data),{esn:this.Jk().ck,sev:w.severity,type:w.type,lver:this.platform.Bpa,jssid:this.Ea.id,devmod:this.platform.LA,jsoffms:w.timestamp.wa(this.Ea.my).ba(g.oa),clienttime:w.timestamp.ba(g.oa),client_utc:w.timestamp.ba(g.sm),uiver:this.Wg.$v});};c.prototype.RFb=function(w){var v;v=this;try{return this.json.stringify(w);}catch(z){for(var y={},x=0;x < w.entries.length;(y={yO:y.yO,St:y.St},++x)){y.St=Object.assign({},w.entries[x]);try{this.json.stringify(y.St);}catch(A){y.yO=void 0;this.xh.XA(y.St,(function(B){return function(C,D){try{v.json.stringify(D);}catch(F){B.yO=F.message;B.St[C]=B.yO;}};})(y));y.St.stringifyException=y.yO;y.St.originalType=y.St.type;y.St.type="debug";y.St.sev="error";}}return this.json.stringify(w);}};c.prototype.$ua=function(w){var v;v=this;return this.dPb.Bf(this.la,{logblobs:w}).then(function(){!1;}).catch(function(y){v.la.error("PBO logblob failed",y);return Promise.reject(y);});};t=c;t=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(h.Jc)),r.__param(1,(0,f.l)(q.Xa)),r.__param(2,(0,f.l)(m.rn)),r.__param(3,(0,f.l)(p.tw)),r.__param(4,(0,f.l)(d.fD)),r.__param(5,(0,f.l)(n.jh)),r.__param(6,(0,f.l)(a.Kw)),r.__param(7,(0,f.l)(u.tIa))],t);b.EFa=t;},12648:function(r,b,a){var k,f;function c(l){switch(l){case k.R.dP:return "http";case k.R.fP:return "connectiontimeout";case k.R.cD:return "readtimeout";case k.R.wDa:return "corruptcontent";case k.R.bD:return "abort";case k.R.gP:case k.R.Qba:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Tma=b.EZa=b.tZa=void 0;k=a(68172);f=a(50876);b.tZa=c;b.EZa=function(l,d){l={errorcode:l + (d.errorCode || k.U.Eo)};d.xa && (l.errorsubcode=d.xa);d.Ee && (l.errorextcode=d.Ee);d.Gka && (l.erroredgecode=d.Gka);d.Jb && (l.errordetails=d.Jb);d.Kl && (l.httperr=d.Kl);d.q7 && (l.aseneterr=d.q7);d.YA && (l.errordata=d.YA);d.OU && (l.mediaerrormessage=d.OU);(d=c(Number(d.xa))) && (l.nwerr=d);return l;};b.Tma=function(){return {screensize:f.iu.width + "x" + f.iu.height,screenavailsize:f.iu.availWidth + "x" + f.iu.availHeight,clientsize:pb.innerWidth + "x" + pb.innerHeight,devicePixelRatio:f.UGa};};},30927:function(r,b,a){var f,l,d,g,n,h,m;function c(p){this.FJ=d.Ia;this.Hfa=[];this.xQ=this.y0=!1;p && (this.FJ=p.size,this.Hfa=p.rG);}function k(p,q,u,t){this.zQb=p;this.config=q;this.Cf=u;this.json=t;(0,l.$n)(this,"json");this.la=this.Cf.Ua("MessageQueue");this.ss=[];}Object.defineProperty(b,"__esModule",{value:!0});b.GGa=void 0;r=a(70655);f=a(86700);l=a(60920);d=a(36845);g=a(32841);n=a(71163);h=a(63088);a=a(14959);k.prototype.Fga=function(p){var q,u;0 === this.ss.length && this.ss.push(this.hma());if(p=this.aJb(p)){q=this.zQb.measure([p]);u=this.ss[this.ss.length - 1];0 < u.size.add(q).Ik(this.config.O3a) && (u=this.hma(),this.ss.push(u));u.Fga(p);}};k.prototype.qGb=function(){var p;p=this.ss.filter(function(q){return q.Lub;});this.ss.push(this.hma());p.forEach(function(q){return q.HPb();});return p;};k.prototype.xqb=function(p){p.gy || this.ss.unshift(new c(p));};k.prototype.$Xb=function(p){p=this.ss.indexOf(p);0 <= p && this.ss.splice(p,1);};k.prototype.aJb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(t){var q,u;q={};p=p.data;u=p.debugMessage;u && "string" === typeof u && (q.originalDebugMessage=u);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.la.error("JSON.stringify error: " + t.message,q);}};k.prototype.hma=function(){return new c();};Wa.Object.defineProperties(k.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.ss.reduce(function(p,q){return p.add(q.size);},d.Ia);}}});m=k;m=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.BFa)),r.__param(1,(0,f.l)(a.jca)),r.__param(2,(0,f.l)(n.Xa)),r.__param(3,(0,f.l)(h.fD))],m);b.GGa=m;c.prototype.QN=function(){this.y0=!1;this.xQ=!0;};c.prototype.Fs=function(){this.y0=!1;};c.prototype.Fga=function(p){this.Hfa.push(p);this.FJ=this.FJ.add(p.size);};c.prototype.HPb=function(){this.y0=!0;};Wa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.FJ;}},rG:{configurable:!0,enumerable:!0,get:function(){return this.Hfa;}},Lub:{configurable:!0,enumerable:!0,get:function(){return 0 < this.rG.length && !1 === this.y0;}},gy:{configurable:!0,enumerable:!0,get:function(){return this.xQ;}}});},98330:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iza={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},65906:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.u3a=void 0;r=a(86700);c=a(69379);k=a(62722);f=a(87286);l=a(81818);d=a(67443);g=a(93592);n=a(65840);h=a(23251);m=a(29350);p=a(78927);q=a(31451);b.u3a=new r.$c(function(u){u(f.XFa).to(l.WFa).da();u(c.zca).to(k.YFa).da();u(d.DJa).kl(function(t){for(var w=[],v=0;v < arguments.length;++v){w[v - 0]=arguments[v];}v=a(31360).zD;return new (Function.prototype.bind.apply(v,[null].concat(da(w))))();});u(g.aGa).Vd(function(){return function(t){return new n.bGa(t);};});u(h.FI).to(m.UFa).da();u(p.TFa).to(q.SFa).da();});},87286:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XFa="ManifestProviderConfigSymbol";},69379:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zca="ManifestParserFactorySymbol";},93592:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aGa="ManifestVerifyErrorFactorySymbol";},67443:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DJa="PlayerTextTrackFactorySymbol";},95562:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p,q){m=f.yP.call(this,m) || this;m.config=p;m.j=q;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.hza=void 0;k=a(98330);f=a(87450);l=a(56170);d=a(20736);g=a(65853);n=a(68172);h=a(56003);ia(c,f.yP);c.prototype.t6a=function(m,p,q){var u,t;u=this;t=this.config.h$;p=p.filter(function(w){var v,y;v=w.BB || !w.wg || w.streams && 0 < w.streams.length;v || u.log.warn("Audio track is missing streams",u.R4(w));y=0 === t.length || 0 <= t.indexOf(w.wh);y || u.log.warn("Audio track is not supported",u.R4(w));return v && y;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(w){return u.s6a(m,w,u.fGb(w,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.eUb=function(m,p,q,u){var t,w,v,y;t=this;w=ma((0,l.cC)(function(x){return x.BB;},p));p=w.next().value;w=w.next().value;w=ma((0,l.cC)(function(x){return x.streams && 0 < x.streams.length;},w));v=w.next().value;w.next().value.forEach(function(x){return t.log.warn("Audio track is missing streams",t.R4(x));});y=this.config.h$;w=ma((0,l.cC)(function(x){return 0 === y.length || 0 <= y.indexOf(x.wh);},v));v=w.next().value;w.next().value.forEach(function(x){return t.log.warn("Audio track is not supported",t.R4(x));});p=[].concat(da(v),da(p)).map(function(x){return t.s6a(m,x,t.MHb(x.Df,q,u));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.Osb=function(m){var p,q;p=this;q=this.config.Bla;if(q){if(m=ma(m.filter(function(u){return u.re == q || u.trackId == q;})).next().value)return m;}else if(this.j.e4 && (m=ma(m.filter(function(u){return u.trackId == p.j.e4;})).next().value))return m;};c.prototype.oEb=function(m,p){this.config.rRa.forEach(function(q){var u,t,w;u=p.qs.filter(function(v){return v.profile === q;}).reduce(function(v,y){y.streams.map(function(x){return x.bitrate;}).forEach(function(x){v.add(x);});return v;},new Set());t=!1;w=m.Fa.qs.map(function(v){var y;if(v.profile === q){y=v.streams.filter(function(x){return u.has(x.bitrate);});if(y.length === v.streams.length)return v;t=!0;if(0 === y.length)throw new h.Mc(n.U.JFa,n.R.Peb);return Object.assign(Object.assign({},v),{streams:y});}return v;});t && (m.Fa=Object.assign(Object.assign({},m.Fa),{qs:w}));});return m;};c.prototype.s6a=function(m,p,q){var u,t,w,v;v=p.wh;m=Object.assign(Object.assign({},m),{type:d.Sj.audio,EH:p.EH,variant:p.variant,trackId:p.Df,VF:p.fO,wh:g.P_[v.toLowerCase()] || g.Co.NI,qC:v,re:p.language,displayName:p.IB,ec:null !== (u=p.ec) && void 0 !== u?u:-1,wg:null !== (t=p.wg) && void 0 !== t?t:!0,channels:p.channels,Qbc:p.channels,bh:q,yg:{Bcp47:p.language,TrackId:p.Df},streams:[],isNative:p.isNative,Vn:p.BB,$W:p.$W});m.streams=this.hcb(p.streams,m);this.log.trace("Transformed audio track",m,{StreamCount:m.streams.length,AllowedTimedTextTracks:m.bh.length});m.Xvb=k.iza[null === (w=m.streams[0]) || void 0 === w?void 0:w.Md];return m;};c.prototype.R4=function(m){return {language:m.IB,bcp47:m.language,type:m.wh};};c.prototype.fGb=function(m,p){return p.filter(function(q){if(0 <= m.oBb.indexOf(q.VF))return !1;if(m.VUa){if(m.VUa !== q.VF && (q.Vn() || q.Wm()))return !1;}else if(m.uSb){if(q.Vn() || q.Wm())return !1;}else if(q.Wm())return !1;return !0;});};c.prototype.MHb=function(m,p,q){return p.filter(function(u){return u.Wd.fa === m;}).map(function(u){return u.Wd.Ya;}).map(function(u){return q.find(function(t){return t.trackId === u;});}).filter(Boolean);};b.hza=c;},17668:function(r,b,a){var k,f;function c(l,d){this.log=l;this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.qAa=void 0;k=a(56170);f=a(40152);c.prototype.u6a=function(l,d){var g,n,h,m;g=this;n=this.config.mia;h=this.config.lia;l=ma((0,k.cC)(function(p){return (!n.length || 0 <= n.indexOf(p.id)) && 0 > h.indexOf(p.id);},l || []));m=l.next().value;l.next().value.forEach(function(p){return g.log.warn("Cdn is not allowed",{Id:p.id});});l=m.map(function(p){var q;q=(d?d.find(function(u){return u.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,ec:p.ec,type:p.type,X2a:p.key,SMb:p.k3a,location:{id:q.key,ec:q.ec,level:q.level,weight:q.weight}};});l.sort(function(p,q){return p.ec - q.ec;});this.log.trace("Transformed cdns",{Count:l.length});if(!l.length)throw Error("no valid cdns");return l;};c.prototype.fLb=function(l,d,g,n){var h;h=l.filter(function(m){return -1 === g.findIndex(function(p){return p.id === m.id;});}).map(function(m){return {X5a:!0,$b:m};}).concat(g.map(function(m){return {X5a:!1,$b:m};})).sort(function(m,p){return m.$b.ec === p.$b.ec?m.X5a?-1:1:m.$b.ec - p.$b.ec;}).map(function(m,p){(0,f.$L)(m.$b).ec=p + 1;return m.$b;});l=d.filter(function(m){return -1 === n.findIndex(function(p){return p.key === m.key;});}).concat(n).map(function(m){var p;p=h.findIndex(function(q){return q.key === m.key;});if(-1 !== p)return (p=h[p],(0,f.$L)(m).ec=p.ec,m);}).filter(function(m){return void 0 !== m;});return {k_b:h,VOb:l};};b.qAa=c;},81818:function(r,b,a){var k,f,l,d,g,n;function c(h,m){h=f.Se.call(this,h,"ManifestParserConfigImpl") || this;h.Lf=m;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.WFa=void 0;r=a(70655);k=a(86700);f=a(90187);l=a(59578);d=a(54662);g=a(65350);n=a(36845);ia(c,f.Se);Wa.Object.defineProperties(c.prototype,{h$:{configurable:!0,enumerable:!0,get:function(){return [];}},Bla:{configurable:!0,enumerable:!0,get:function(){return "";}},mia:{configurable:!0,enumerable:!0,get:function(){return [];}},lia:{configurable:!0,enumerable:!0,get:function(){return [];}},Fla:{configurable:!0,enumerable:!0,get:function(){return "";}},Rna:{configurable:!0,enumerable:!0,get:function(){return 0;}},WN:{configurable:!0,enumerable:!0,get:function(){return this.Lf.WN.ba(n.Vt);}},It:{configurable:!0,enumerable:!0,get:function(){return this.Lf.It;}},xL:{configurable:!0,enumerable:!0,get:function(){return this.Lf.xL;}},rRa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.DH,"supportedAudioTrackTypes")],a.prototype,"h$",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"Bla",null);r.__decorate([d.config(d.Vwa,"cdnIdWhiteList")],a.prototype,"mia",null);r.__decorate([d.config(d.Vwa,"cdnIdBlackList")],a.prototype,"lia",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"Fla",null);r.__decorate([d.config(d.dz,"imageSubsResolution")],a.prototype,"Rna",null);r.__decorate([d.config(d.dz,"timedTextSimpleFallbackThreshold")],a.prototype,"WN",null);r.__decorate([d.config(d.DH,"timedTextProfiles")],a.prototype,"It",null);r.__decorate([d.config(d.DH,"imscLanguageList")],a.prototype,"xL",null);r.__decorate([d.config(d.DH,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"rRa",null);a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.ul)),r.__param(1,(0,k.l)(g.OI))],a);b.WFa=a;},62722:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u;function c(t,w,v,y){this.Cf=t;this.config=w;this.Esa=v;this.Owa=y;}Object.defineProperty(b,"__esModule",{value:!0});b.YFa=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(87286);d=a(17668);g=a(87216);n=a(89509);h=a(36779);m=a(95562);p=a(25864);q=a(67443);a=a(51017);c.prototype.create=function(t){var w,v;w=this.Cf.Ua("ManifestParser",t);v=new d.qAa(w,this.config);return new n.ZFa(v,new g.$La(w,this.config,t,this.Esa),new h.sMa(w,t,this.Owa),new m.hza(w,this.config,t),new p.XMa(w));};u=c;u=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(l.XFa)),r.__param(2,(0,k.l)(q.DJa)),r.__param(3,(0,k.l)(a.rMa))],u);b.YFa=u;},89509:function(r,b,a){var k;function c(f,l,d,g,n){this.nia=f;this.twa=l;this.M3b=d;this.AR=g;this.Mdb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.ZFa=void 0;k=a(40152);c.prototype.w6a=function(f){var l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B;g=f.Fa;n={Af:null !== (d=null === (l=g.AA) || void 0 === l?void 0:l.Dp) && void 0 !== d?d:"",gC:g.toa?"ads":"content"};h=!!g.YV;l=this.nia.u6a(g.tk,g.li);d=this.twa.y6a(n,g.YN);f=this.M3b.kUb(g.P3b);m=h?this.AR.t6a(n,g.qs,d):this.AR.eUb(n,g.qs,g.media,d);n=this.Mdb.lUb(n,g.Pt);p=n[0];q=this.AR.Osb(m) || m.find(function(C){return h?C.trackId === g.YV.Zo:C.VF === g.e3[0].Zo;}) || m[0];u=this.twa.i3b(q.bh) || d.find(function(C){return h?C.trackId === g.YV.XN:C.VF === g.e3[0].dbb;}) || q.bh[0];t=this.Mdb.hUb(g.Pt);w=g.Ef;v=g.Nvb;y=g.mB;x=g.Kk;z=g.qs.findIndex(function(C){return C.Df == q.trackId;});A=g.Pt.findIndex(function(C){return C.Df == p.trackId;});B=g.YN.findIndex(function(C){return C.Df == u.trackId;});return {ut:t,sg:l,ai:m,ew:n,bh:d,cz:f,Ef:w,o_b:v,aG:y,Kk:x,lAb:z,sAb:A,rAb:B,f3:p,eS:q,fS:u};};c.prototype.gLb=function(f,l,d){var g,n,h,m,p,q;g=this;m=this.nia.fLb(f.Fa.tk,f.Fa.li,d.Fa.tk,d.Fa.li);p=m.k_b;m=m.VOb;(0,k.$L)(f.Fa).tk=p;(0,k.$L)(f.Fa).li=m;l.sg=this.nia.u6a(p,m);q={Af:null !== (h=null === (n=d.Fa.AA) || void 0 === n?void 0:n.Dp) && void 0 !== h?h:"",gC:d.Fa.toa?"ads":"content"};d=d.Fa;n=d.qs;d.YN.forEach(function(u){var t;if(u.wg){t=g.V8a(f.Fa.YN,l.bh,u,function(w){return g.twa.y6a(q,[w])[0];});t && l.ai.forEach(function(w){var v;w=w.bh;v=w.findIndex(function(y){return y.trackId === t.trackId;});-1 !== v && (w[v]=t);});}});n.forEach(function(u){u.wg && g.V8a(f.Fa.qs,l.ai,u,function(t){return g.AR.t6a(q,[t],l.bh)[0];});});return {W:f,Ac:l};};c.prototype.vZb=function(f,l){return this.AR.oEb(f,l);};c.prototype.V8a=function(f,l,d,g){var n,h,m,p;n=f.findIndex(function(q){return q.Df === d.Df;});h=-1 !== n?f[n]:void 0;m=l.findIndex(function(q){return q.trackId === d.Df;});p=-1 !== m?l[m]:void 0;if(h && !h.wg && p && !p.wg)return (g=g(d),f[n]=d,l[m]=g);};b.ZFa=c;},65840:function(r,b){function a(c){this.Ac=c;this.Jb=JSON.stringify(this.WHb());}Object.defineProperty(b,"__esModule",{value:!0});b.bGa=void 0;a.prototype.WHb=function(){var c;c=[];(!this.Ac.sg || 0 >= this.Ac.sg.length) && c.push({error:"No CDN."});this.Ac.eS || c.push({error:"No default audio track.",foundTracks:this.jma(this.Ac.ai)});this.Ac.f3 || c.push({error:"No default video track.",foundTracks:this.jma(this.Ac.ew)});this.Ac.fS || c.push({error:"No default subtitle track.",foundTracks:this.jma(this.Ac.bh)});return c;};a.prototype.jma=function(c){return c && 0 < c.length?c.map(function(k){return k.trackId;}):"No tracks found.";};b.bGa=a;},87450:function(r,b,a){var k;function c(f){this.log=f;}Object.defineProperty(b,"__esModule",{value:!0});b.yP=void 0;k=a(94181);c.prototype.hcb=function(f,l){var d,g;d=this;if(!f)return (this.log.warn("There are no media streams for " + l.type + " track - " + l.trackId),[]);g=f.map(function(n){var h,m,p,q,u,t,w,v;v=new k.MediaStream(l,l.type,n.Lm,n.bitrate,n.zb,n.size,d.ZGb(n.urls),n.DA,n.IXa / n.HXa,n.hi,n.zi);v.f0b(n.g9a,n.gua,n.L6a,n.K6a);v.u_b(null !== (h=n.Fzb) && void 0 !== h?h:void 0,null !== (m=n.Gzb) && void 0 !== m?m:void 0,null !== (p=n.Ezb) && void 0 !== p?p:void 0,null !== (q=n.Dzb) && void 0 !== q?q:void 0,null !== (u=n.L6a) && void 0 !== u?u:void 0,null !== (t=n.K6a) && void 0 !== t?t:void 0);l.Kk && (v.Kk=l.Kk);n.cF && (v.cF=null !== (w=n.cF) && void 0 !== w?w:void 0);n.DA && (v.Md=n.DA);return v;});g.sort(function(n,h){return n.bitrate - h.bitrate;});g.forEach(function(n,h){n.lower=g[h - 1];n.ydc=g[h + 1];});return g;};c.prototype.ZGb=function(f){return f.reduce(function(l,d){l[d.Hg]=d.url;return l;},{});};b.yP=c;},87216:function(r,b,a){var k,f,l,d;function c(g,n,h,m){this.log=g;this.config=n;this.j=h;this.Esa=m;}Object.defineProperty(b,"__esModule",{value:!0});b.$La=void 0;k=a(56261);f=a(50876);l=a(65853);d=a(36437);c.prototype.y6a=function(g,n){var h;h=this;n=n.map(function(m){var p,q,u,t;u=h.D3b(m);m.BB || !m.wg || u && 0 < u.length || h.log.error("track without downloadables",h.THb(m));t={};0 < u.length && (t=m.language && 0 <= h.config.xL.indexOf(m.language)?u[1] && u[1].profile === k.tl.SDa?u[1]:u[0]:u[0],t.profile == k.tl.HI && (t=h.UZb(u),!1));m=h.Esa(h.j,m.Df,m.id,null !== (p=m.ec) && void 0 !== p?p:-1,null !== (q=m.wg) && void 0 !== q?q:!0,g,t.Ub,t.urls || [],m.language,m.IB,l.P_[m.wh.toLowerCase()] || l.Co.NI,m.EH,m.variant,m.qC.toUpperCase(),t.profile,h.dIb(t) || ({}),m.BB,m.P5,m.R5,m.Rs);h.log.trace("Transformed timed text track",m);return m;});this.log.trace("Transformed timed text tracks",{Count:n.length});return n;};c.prototype.i3b=function(g){var n,h;n=this;h=this.config.Fla;if(h){if(g=ma(g.filter(function(m){return m.re == h || m.trackId == h;})).next().value)return g;}else if(this.j.f4 && (g=ma(g.filter(function(m){return m.trackId == n.j.f4;})).next().value))return g;};c.prototype.D3b=function(g){var n,h;n=this;h=g.DVa;g=Object.entries(g.Uwa || ({})).map(function(m){var p;p=ma(m);m=p.next().value;p=p.next().value;return {Ub:h[m],profile:m,size:p.size || 0,priority:n.$Gb(m,p),offset:p.vqa || 0,EUb:p.width,J6a:p.height,urls:p.urls};});g.sort(function(m,p){return m.priority - p.priority;});return g;};c.prototype.$Gb=function(g,n){var h,m;h=this.config.It.indexOf(g);n=n.size;m=this.config.WN;return g === k.tl.aba && 0 < m && n > m?this.config.It.length + 1:0 <= h?h:this.config.It.length;};c.prototype.dIb=function(g){if(g.profile === k.tl.HI)return {offset:g.offset,length:g.size,$k:{width:g.EUb,height:g.J6a}};};c.prototype.UZb=function(g){var n,h;n=this.config.Rna || d.iea.KZa();h=ma(g.filter(function(m){return m.profile === k.tl.HI;}).filter(function(m){return m.J6a === n;})).next().value;if(h)return h;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:f.iu.height,intendedResolution:n});return g[0];};c.prototype.THb=function(g){return {isNone:g.BB,isForced:g.P5,bcp47:g.language,id:g.Df};};b.$La=c;},36779:function(r,b){function a(c,k,f){this.log=c;this.j=k;this.Owa=f;}Object.defineProperty(b,"__esModule",{value:!0});b.sMa=void 0;a.prototype.kUb=function(c){var k;k=this;c=(c || []).filter(function(f){return f.urls && 0 < f.urls.length;}).map(function(f){return k.Owa(k.j,f.id,f.height,f.width,f.HUb,f.IUb,f.size,f.Rs,{unknown:f.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(f,l){return f.size - l.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.sMa=a;},25864:function(r,b,a){var k,f,l,d;function c(g){return f.yP.call(this,g) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XMa=void 0;k=a(56170);f=a(87450);l=a(20736);d=a(65853);ia(c,f.yP);c.prototype.lUb=function(g,n){var h,m;h=this;n=ma((0,k.cC)(function(p){return p.streams && 0 < p.streams.length;},n));m=n.next().value;n.next().value.forEach(function(p){return h.log.warn("Video track is missing streams",{trackId:p.Df});});n=m.map(function(p){var q;q=p.wh;q=Object.assign(Object.assign({},g),{type:l.Sj.video,trackId:p.Df,VF:p.fO,wh:d.P_[q.toLowerCase()] || d.Co.NI,qC:q,streams:[],yg:{},OV:p.OV});q.streams=h.hcb(p.streams,q);h.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!n.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:n.length});return n;};c.prototype.hUb=function(g){var n;n=g.map(function(h){return h.OV;}).filter(Boolean);n=[].concat.apply([],da(n)).map(function(h){return h.Ba;});g=g.map(function(h){return h.ika;}).filter(Boolean).map(function(h){return h.Ba;});return 0 < n.length?n:g;};b.XMa=c;},3797:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.W=void 0;r=a(86700);c=a(3774);k=a(76586);b.W=new r.$c(function(f){f(k.lD).to(c.VFa).da();});},78927:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TFa="ManifestEnricherSymbol";},23251:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FI="ManifestFactorySymbol";},76586:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lD="ManifestFetcherSymbol";},11430:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yza="BookmarkSymbol";},47403:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wza="BookmarkConfigSymbol";},44906:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vza="BookmarkConfigParserSymbol";},31731:function(r,b,a){var c,k,f,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.WJ=void 0;r=a(86700);c=a(11430);k=a(47403);f=a(44906);l=a(10657);d=a(70880);g=a(88901);b.WJ=new r.$c(function(n){n(c.yza).to(l.xza).da();n(k.wza).to(d.tza).da();n(f.vza).to(g.uza).da();});},70880:function(r,b,a){var k,f;function c(l){this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.tza=void 0;r=a(70655);k=a(86700);a=a(17244);c.prototype.mma=function(){return this.uF().ptb;};c.prototype.nma=function(){return this.uF().qtb;};c.prototype.zHb=function(){return this.uF().rtb;};c.prototype.Wla=function(){return this.uF().FRa;};c.prototype.uF=function(){return this.config();};f=c;f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.ac))],f);b.tza=f;},88901:function(r,b,a){var k,f,l;function c(d){this.ub=d;}Object.defineProperty(b,"__esModule",{value:!0});b.uza=void 0;r=a(70655);k=a(86700);f=a(89542);l=a(2467);c.prototype.T1b=function(d,g){var n,h;n=parseFloat(d);h=0;"%" === d[d.length - 1] && this.ub.Zj(n)?h=Math.round(n * g.ba(l.oa) / 100):(d=parseInt(d),this.ub.oR(d) && (h=d));return (0,l.Kb)(Math.min(h,g.ba(l.oa)));};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Wf))],a);b.uza=a;},10657:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p,q){this.f2=m;this.ub=p;this.otb=q;this.la=h.Ua("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.xza=void 0;r=a(70655);k=a(86700);f=a(47403);l=a(44906);d=a(71163);g=a(89542);n=a(2467);c.prototype.jrb=function(h){var m,p;m=h.Wa.playbackState && h.Wa.playbackState.currentTime;p=this.HGb(h.O);m=this.ub.VE(m)?(0,n.Kb)(m):p;p=0;this.ub.vg(m)?(this.la.info("Overriding bookmark",{From:h.fz.ba(n.oa),To:m.ba(n.oa)}),m=Object.assign({},h,{fz:m})):m=h;h.cd.ha && (h=h.cd.vma(h.fz.ba(n.oa)),m=Object.assign({},m,{fz:(0,n.Kb)(h.El),hC:(0,n.Kb)(h.hC)}),p=h.TUa);return m.fz.Foa()?(this.la.trace("Ignoring bookmark because it's negative"),(0,n.Kb)(p)):this.nLb(m)?(this.la.trace("Ignoring bookmark because it's too close to beginning"),(0,n.Kb)(p)):this.mLb(m)?(this.la.trace("Ignoring bookmark because it's too close to end"),(0,n.Kb)(p)):this.lLb(m)?(this.la.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,n.Kb)(p)):m.fz;};c.prototype.nLb=function(h){return 0 > h.fz.Ik(this.mma(h));};c.prototype.mma=function(h){return this.GRa(this.f2.mma(),h.hC);};c.prototype.mLb=function(h){return 0 < h.fz.Ik(this.nma(h));};c.prototype.nma=function(h){var m;m=h.Wa.bg?this.f2.zHb():this.f2.nma();return h.hC.wa(this.GRa(m,h.hC));};c.prototype.lLb=function(h){return 0 < h.fz.Ik(this.gHb(h));};c.prototype.gHb=function(h){return h.hC.wa((0,n.Kb)(h.bC));};c.prototype.HGb=function(h){var m;h=this.f2.Wla()[h];m=-1;this.ub.Vo(h)?m=parseInt(h):this.ub.Zj(h) && (m=h);if(this.ub.oR(m))return (0,n.Kb)(m);};c.prototype.GRa=function(h,m){return this.otb.T1b(h,m);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(d.Xa)),r.__param(1,(0,k.l)(f.wza)),r.__param(2,(0,k.l)(g.Wf)),r.__param(3,(0,k.l)(l.vza))],a);b.xza=a;},5872:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uza="CDMAttestedDescriptorProvider";},23541:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.YRa=void 0;r=a(86700);c=a(5872);k=a(76396);b.YRa=new r.$c(function(f){f(c.Uza).to(k.Tza).da();});},76396:function(r,b,a){var k,f,l,d,g,n,h,m,p;function c(q,u,t,w,v,y){this.config=q;this.XB=t;this.profile=w;this.t$=v;this.MR=y;this.log=u.Ua("CDMAttestedDescriptor");this.nYa(m.fu.LP);}Object.defineProperty(b,"__esModule",{value:!0});b.Tza=void 0;r=a(70655);k=a(86700);f=a(17244);l=a(71163);d=a(53713);g=a(60070);n=a(98540);h=a(94773);m=a(53685);p=a(41047);c.prototype.nYa=function(q){var u;u=this;return this.t$.L9(q)?this.config().mCb?this.lYa().then(function(t){if(t)return (!1,Promise.resolve(void 0));u.E2a || (!1,u.E2a=u.MR.Vma(p.yh.ln));return u.E2a;}).catch(function(t){u.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.Vy.close();return null === t || void 0 === t?void 0:t.oia;}).then(function(t){return Promise.all([Promise.resolve(t),u.lYa()]);}).then(function(t){var w;t=ma(t);w=t.next().value;if(t.next().value)!1;else return w;}):this.XB().then(function(t){t.WU.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.lYa=function(){var q;q=this;return this.XB().then(function(u){return (u=u.WU.getServiceTokens(q.profile)) && u.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.ac)),r.__param(1,(0,k.l)(l.Xa)),r.__param(2,(0,k.l)(d.CP)),r.__param(3,(0,k.l)(n.SI)),r.__param(4,(0,k.l)(g.R_)),r.__param(5,(0,k.l)(h.pY))],a);b.Tza=a;},31451:function(r,b,a){var k,f;function c(l){this.fDb=l;this.r3a={Mm:"drmType",Bcc:"drmVersion",expiration:"expiration",O:"movieId",cn:"packageId",duration:"duration",Ef:"playbackContextId",e3:["defaultTrackOrderList",{dM:"mediaId",pO:"videoTrackId",dbb:"subtitleTrackId",Zo:"audioTrackId",ifc:"preferenceOrder"}],Fcc:["eligibleABTestMap",{ij:f.ij}],wbc:["badgingInfo",{wcc:"dolbyDigitalAudio",tdc:"hdrVideo",xcc:"dolbyVisionVideo",Ggc:"ultraHdVideo","3dVideo":"3dVideo",vcc:"dolbyAtmosAudio",mbc:"assistiveAudio",Kfc:"sdVideo",sdc:"hdVideo"}],type:"type",rbc:["audioTextShortcuts",{id:"id",Zo:"audioTrackId",zbb:"textTrackId"}],bfc:"partiallyHydrated",U3a:"maxRecommendedAudioRank",V3a:"maxRecommendedTextRank",Kk:"drmContextId",uKb:"hasDrmProfile",sKb:"hasClearProfile",mB:"hasDrmStreams",c5:"hasClearStreams",li:["locations",{ec:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],tk:["servers",{id:"id",name:"name",type:"type",ec:"rank",k3a:"lowgrade",wBb:["dns",{host:"host",mMb:"ipv4",nMb:"ipv6",fFb:"forceLookup"}],key:"key"}],qs:["audio_tracks",{type:"type",EH:"subType",variant:"variant",wh:"trackType",Df:"new_track_id",fO:"track_id",EWb:"profileType",D1b:"stereo",profile:"profile",channels:"channels",language:"language",avb:"channelsFormat",$W:"surroundFormatLabel",IB:"languageDescription",oBb:"disallowedSubtitleTracks",VUa:"defaultTimedText",isNative:"isNative",BB:"isNoneTrack",streams:["streams",{Lm:"downloadable_id",size:"size",DA:"content_profile",wh:"trackType",bitrate:"bitrate",hi:"isDrm",urls:["urls",{Hg:"cdn_id",url:"url",v6:"liveOcaCapabilities"}],CRb:"new_stream_id",type:"type",channels:"channels",avb:"channelsFormat",$W:"surroundFormatLabel",language:"language",pbc:"audioKey",gRb:["moov",{size:"size",offset:"offset"}],uk:["sidx",{size:"size",offset:"offset"}],n1b:["ssix",{size:"size",offset:"offset"}],zi:"tags",vYb:"representationId"}],Xvb:"codecName",qC:"rawTrackType",id:"id",ec:"rank",wg:"hydrated",uSb:"offTrackDisallowed"}],Pt:["video_tracks",{wh:"trackType",Df:"new_track_id",type:"type",fO:"track_id",uKb:"hasDrmProfile",sKb:"hasClearProfile",mB:"hasDrmStreams",c5:"hasClearStreams",LF:"groupName",streams:["streams",{Lm:"downloadable_id",size:"size",DA:"content_profile",wh:"trackType",cF:"drmHeaderId",bitrate:"bitrate",hi:"isDrm",urls:["urls",{Hg:"cdn_id",url:"url",v6:"liveOcaCapabilities"}],CRb:"new_stream_id",type:"type",dfc:"peakBitrate",hBb:"dimensionsCount",iBb:"dimensionsLabel",L6a:"pix_w",K6a:"pix_h",g9a:"res_w",gua:"res_h",Fzb:"crop_x",Gzb:"crop_y",Ezb:"crop_w",Dzb:"crop_h",IXa:"framerate_value",HXa:"framerate_scale",uab:"startByteOffset",zb:"vmaf",gRb:["moov",{size:"size",offset:"offset"}],uk:["sidx",{size:"size",offset:"offset"}],n1b:["ssix",{size:"size",offset:"offset"}],mH:["segmentVmaf",{offset:"offset",zb:"vmaf"}],zi:"tags",vYb:"representationId"}],EWb:"profileType",D1b:"stereo",profile:"profile",hBb:"dimensionsCount",iBb:"dimensionsLabel",cgc:["snippets",{ij:[f.ij,{bgc:"snippetSpec",ta:"startTimeMs",sa:"endTimeMs"}]}],ika:["drmHeader",{Ba:"bytes",uvb:"checksum",cF:"drmHeaderId",Wn:"keyId",$k:["resolution",{height:"height",width:"width"}]}],OV:["prkDrmHeaders",{Ba:"bytes",uvb:"checksum",cF:"drmHeaderId",Wn:"keyId",$k:["resolution",{height:"height",width:"width"}]}],Gq:"flavor",Fdc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",psa:"pixelAspectX",qsa:"pixelAspectY",lec:"maxCroppedWidth",kec:"maxCroppedHeight",mec:"maxCroppedX",nec:"maxCroppedY",jqa:"max_framerate_value",iqa:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",Bec:"minCroppedWidth",Aec:"minCroppedHeight",Cec:"minCroppedX",Dec:"minCroppedY",Vg:["license",{bOb:"licenseResponseBase64",mfc:"providerSessionToken",Ofc:"secureStopExpected",Acc:"drmSessionId",links:["links",{}]}]}],AA:["cdnResponseData",{qH:"sessionABTestCell",Dp:"pbcid"}],fp:["choiceMap",{ve:"initialSegment",type:"type",J:"viewableId",L:["segments",{ij:[f.ij,{ta:"startTimeMs",sa:"endTimeMs",next:["next",{ij:[f.ij,{weight:"weight"}]}],Ib:"defaultNext",Eq:"exitZones"}]}]}],Hm:["contentPlaygraph",{ga:["playgraph",{ve:"initialSegment",L:["segments",{ij:[f.ij,{J:"viewableId",ta:"startTimeMs",sa:"endTimeMs",next:["next",{ij:[f.ij,{weight:"weight"}]}],Ib:"defaultNext"}]}]}],dgc:["startIdent",{Gdc:"identToken",J:"viewableId"}]}],media:["media",{id:"id",Wd:["tracks",{fa:"AUDIO",Ya:"TEXT",X:"VIDEO"}]}],YV:["recommendedMedia",{pO:"videoTrackId",Zo:"audioTrackId",XN:"timedTextTrackId"}],YN:["timedtexttracks",{wh:"trackType",Df:"new_track_id",type:"type",EH:"subType",variant:"variant",qC:"rawTrackType",IB:"languageDescription",language:"language",id:"id",BB:"isNoneTrack",P5:"isForcedNarrative",DVa:["downloadableIds",{}],Mbc:["cdnlist",{id:"id",name:"name",type:"type",ec:"rank",k3a:"lowgrade",wBb:["dns",{host:"host",mMb:"ipv4",nMb:"ipv6",fFb:"forceLookup"}],key:"key"}],Uwa:["ttDownloadables",{ij:[f.ij,{id:"id",size:"size",sgc:"textKey",rdc:"hashValue",qdc:"hashAlgo",Pdc:"isImage",vqa:"midxOffset",p4a:"midxSize",height:"height",width:"width",eka:["downloadUrls",{}],urls:["urls",{url:"url",Hg:"cdn_id",v6:"liveOcaCapabilities"}]}]}],R5:"isLanguageLeftToRight",Rs:"headIdentDuration",ec:"rank",wg:"hydrated"}],P3b:["trickplays",{Lm:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",IUb:"pixelsAspectY",HUb:"pixelsAspectX",width:"width",height:"height",Rs:"headIdentDuration"}],beb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],zcc:"dpsid",bg:"isBranching",Ugc:"viewableType",toa:"isAd",ML:"isSupplemental",Nvb:"clientIpAddress",Jgc:"urlExpirationDuration",fec:"manifestExpirationDuration",fgc:["steeringAdditionalInfo",{ggc:"steeringId",hbc:"additionalGroupNames",hgc:["streamingClientConfig",{}]}],bc:"auxiliaryManifestToken",wj:["liveMetadata",{fka:["downloadableIdToSegmentTemplateId",{ij:f.ij}],Uua:["segmentTemplateIdToSegmentTemplate",{ij:[f.ij,{c2:"availabilityStartTime",VLb:"initialization",media:"media",VVb:"presentationTimeOffset",IN:"startNumber",duration:"duration",S:"timescale"}]}],tSb:"ocLiveWindowDurationSeconds",K3:"eventAvailabilityOffsetMs",Rka:"eventStartTime",L3:"eventEndTime",kBb:"disableLiveUi"}],eg:"streamingType"};this.xPb=Object.assign(Object.assign({},this.r3a),{$o:["auxiliaryManifests",this.r3a],Am:["adverts",{ce:["adBreaks",{jk:"locationMs",Ji:"adBreakToken",Ye:["ads",{id:"id",ta:"startTimeMs",sa:"endTimeMs",m$:["timedAdEvents",{event:"event",Ju:"adEventToken",zwa:"timeMs"}],kA:["actionAdEvents",{start:["start",{event:"event",Ju:"adEventToken"}],complete:["complete",{event:"event",Ju:"adEventToken"}],stop:["stop",{event:"event",Ju:"adEventToken"}]}],Us:"is3pVerificationEnabled",SN:"thirdPartyVerificationToken"}],qga:["actionAdBreakEvents",{complete:["complete",{event:"event",Ju:"adEventToken"}]}],Y1:"auditPingUrl"}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.SFa=void 0;r=a(70655);k=a(86700);f=a(99423);c.prototype.MK=function(l){this.fDb.MK(l,this.xPb);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.pCa))],a);b.SFa=a;},29350:function(r,b,a){var k,f,l,d,g;function c(n,h){this.J2a=n;this.wPb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.UFa=void 0;r=a(70655);k=a(86700);f=a(98011);l=a(78927);d=a(56003);g=a(68172);c.prototype.create=function(n){var h,m,p,q;h=this;if(n && !this.PMb(n)){if(this.VMb(n))throw d.Mc.s6b(g.U.EI,g.R.Jlb,n);q=this.J2a();q.Bga(n.links);this.wPb.MK(n);return {Fa:n,ki:q,Coa:!1,Boa:!1,$o:null !== (p=null === (m=n.$o) || void 0 === m?void 0:m.map(function(u){var t;t=h.J2a();t.Bga(u.links);return {Fa:u,ki:t,Coa:!1,Boa:!1,$o:[]};})) && void 0 !== p?p:[]};}};c.prototype.VMb=function(n){return ("type" in n) && "muxed" === n.type;};c.prototype.PMb=function(n){return ("runtime" in n) && !!n.runtime;};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.pIa)),r.__param(1,(0,k.l)(l.TFa))],a);b.UFa=a;},3774:function(r,b,a){var k,f,l,d,g,n,h,m,p,q;function c(u,t,w,v,y,x,z){this.Yf=t;this.t3a=v;this.CU=x;this.qa=z;this.$V=new Map();this.log=u.Ua("ManifestFetcher");this.rg=w.rg;this.$tb=y().ACb;}Object.defineProperty(b,"__esModule",{value:!0});b.VFa=void 0;r=a(70655);k=a(86700);f=a(58998);l=a(35664);d=a(56003);g=a(71163);n=a(2467);h=a(17244);m=a(93);p=a(19419);a=a(23251);c.prototype.Vx=function(u,t,w){var v;v=this;t=void 0 === t?!0:t;w && this.Sqb(u.J,w);return t && this.b5(u.J)?this.o4(u.J).catch(function(){return v.a9a(u,t);}):this.a9a(u,t);};c.prototype.b5=function(u){return this.rg.DT(u,"manifest");};c.prototype.UW=function(u,t){var w;w=this;this.$tb && this.rg.setData(u,"manifest",t,function(){return w.eKb(u,t?Promise.resolve(t):void 0);});};c.prototype.o4=function(u){var t;t=this;return this.rg.getData(u,"manifest").then(function(w){if(!w)throw Error("Manifest not found");if(w.Fa.expiration <= t.qa.fe.ba(n.oa))throw (t.rg.clearData(u,"manifest"),Error("Manifest has expired"));return w;});};c.prototype.eKb=function(u,t){var w;null === (w=this.$V.get(u)) || void 0 === w?void 0:w.forEach(function(v){return v(t);});this.$V.delete(u);};c.prototype.Sqb=function(u,t){this.$V.has(u) || this.$V.set(u,[]);this.$V.get(u).push(t);};c.prototype.a9a=function(u,t){var w,v,y;w=this;this.log.trace("Requesting a new manifest",u.J);v=this.Yf.Eb().ba(n.oa);y=(u.If && !u.If.Ji?this.Z3b(u).catch(function(x){w.log.warn(x.message);return w.t3a.Bf(w.log,u);}):this.t3a.Bf(this.log,u)).then(function(x){var z,A;if(x.Mx && (null === (z=u.If) || void 0 === z || !z.Ji)){A=x.Mx;z={B9:Promise.resolve(A),source:"manifest"};delete x.Mx;w.rg.setData(u.J,"ldl",z,function(){A.close().catch(function(B){w.log.info("Unable to cleanup LDL session.",B);});});}u.Gq === m.ol.MI && (x.dH=v,x.iN=w.Yf.Eb().ba(n.oa));return x;}).catch(function(x){t && w.UW(u.J,void 0);w.log.error("Failed to fetch manifest",d.Mc.ue(x));throw x;});t && this.UW(u.J,y);return y;};c.prototype.Z3b=function(u){var t;t=this;return new Promise(function(w,v){var y,x,z,A,B;t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",u.J);A=null === (y=u.If) || void 0 === y?void 0:y.xV;if(!A)return v(Error("Parent manifest does not exist."));B=null === (x=u.If) || void 0 === x?void 0:x.bc;y=null === (z=A.$o) || void 0 === z?void 0:z.find(function(C){return C.O === u.J && (void 0 === B || C.bc === B);});if(!y)return v(Error("Auxiliary manifest not found in parent manifest."));w(t.CU.create(y));});};q=c;q=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(g.Xa)),r.__param(1,(0,k.l)(f.Jc)),r.__param(2,(0,k.l)(p.Uaa)),r.__param(3,(0,k.l)(m.gda)),r.__param(4,(0,k.l)(h.ac)),r.__param(5,(0,k.l)(a.FI)),r.__param(6,(0,k.l)(l.gg))],q);b.VFa=q;},99230:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dj=void 0;r=b.dj || (b.dj={});r[r.rab=1]="sourceopen";r[r.Gn=2]="currentTimeChanged";r[r.tW=3]="seeked";r[r.G2a=5]="licenseadded";r[r.pab=6]="sourceBuffersAdded";r[r.Q7=7]="onNeedKey";},43357:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.N4a=void 0;r=a(86700);c=a(83577);k=a(96699);b.N4a=new r.$c(function(f){f(c.Ica).to(k.NGa).da();});},83577:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ica=b.xjb=void 0;b.xjb=function(){};b.Ica="MseConfigSymbol";},96699:function(r,b,a){var k,f,l,d,g;function c(n){return f.Se.call(this,n,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.NGa=void 0;r=a(70655);k=a(54662);f=a(90187);l=a(86700);d=a(59578);g=a(2467);ia(c,f.Se);Wa.Object.defineProperties(c.prototype,{C4a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Kb)(5E3);}},V5a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Kb)(1E3);}},W5a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Kb)(1E3);}}});a=c;r.__decorate([k.config(k.lk,"minDecoderBufferMilliseconds")],a.prototype,"C4a",null);r.__decorate([k.config(k.lk,"optimalDecoderBufferMilliseconds")],a.prototype,"V5a",null);r.__decorate([k.config(k.lk,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"W5a",null);a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.ul))],a);b.NGa=a;},56243:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.XB=void 0;r=a(86700);c=a(55689);k=a(36217);f=a(53713);b.XB=new r.$c(function(l){l(c.Jca).to(k.OGa).da();l(f.CP).oX(function(d){return function(){return d.hb.get(c.Jca).pRb;};});});},53713:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CP="MslProviderSymbol";},55689:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jca="MslReadyNotifierSymbol";},36217:function(r,b,a){var k;function c(){var f;f=this;this.ready=!1;this.pRb=new Promise(function(l){f.SYb=l;});}Object.defineProperty(b,"__esModule",{value:!0});b.OGa=void 0;r=a(70655);a=a(86700);c.prototype.qRb=function(f){this.ready || (this.SYb(f),this.ready=!0);};c.prototype.pv=function(){return this.ready;};k=c;k=r.__decorate([(0,a.T)()],k);b.OGa=k;},78113:function(r,b,a){var c,k,f,l,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.V4a=void 0;r=a(86700);c=a(56116);k=a(5485);f=a(55749);l=a(31329);d=a(51943);g=a(72976);n=a(24865);h=a(2381);m=a(77049);b.V4a=new r.$c(function(p){p(f.gNa).to(c.fNa).da();p(k.bu).GC(function(){return pb._cad_global.http;});p(d.bHa).to(l.aHa).da();p(g.cHa).kl(n.default);p(h.IDa).to(m.HDa).da();});},2381:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IDa="HttpDispatcherSymbol";},5485:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bu=b.EP=b.ResponseType=void 0;b.ResponseType={Text:1,Jac:2,yfb:3};b.EP="OPEN_CONNECT_APPLIANCE";b.bu="LegacyHttpSymbol";},72976:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cHa="NetworkMonitorSymbol";},30949:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ga="NetworkMonitorConfigSymbol";},51943:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bHa="NetworkMonitorFactorySymbol";},55749:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gNa="XhrFactorySymbol";},77049:function(r,b,a){var k,f,l;function c(d,g){this.Ie=g;this.la=d.Ua("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.HDa=void 0;r=a(70655);k=a(86700);f=a(71163);a=a(5485);c.prototype.download=function(d,g){var n;n=this;g=void 0 === g?{X3a:0}:g;return new Promise(function(h,m){var q;function p(u){if(u.ia)return h(u.content);if(q === g.X3a)return m({xa:u.xa,$x:u.Kl});q++;!1;n.Ie.download(d,p);}q=0;n.Ie.download(d,p);});};l=c;l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(a.bu))],l);b.HDa=l;},49873:function(r,b,a){var k,f,l,d;function c(g,n){return l.Se.call(this,g,void 0 === n?"NetworkMonitorConfigImpl":n) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZGa=void 0;r=a(70655);k=a(86700);f=a(54662);l=a(90187);a=a(59578);ia(c,l.Se);Wa.Object.defineProperties(c.prototype,{pdb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([f.config(f.Pc,"useNetworkMonitor")],d.prototype,"pdb",null);d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.ul)),r.__param(1,(0,k.l)(a.qY)),r.__param(1,(0,k.optional)())],d);b.ZGa=d;},31329:function(r,b,a){var k,f,l,d;function c(g,n,h){this.config=g;this.UOb=n;this.Ic=h;}Object.defineProperty(b,"__esModule",{value:!0});b.aHa=void 0;r=a(70655);k=a(30949);f=a(86700);l=a(56646);a=a(72976);c.prototype.czb=function(){if(this.config.pdb)return this.Ic(this.UOb());};d=c;d=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.$Ga)),r.__param(1,(0,f.l)(l.WGa)),r.__param(2,(0,f.l)(a.cHa))],d);b.aHa=d;},56116:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.fNa=void 0;r=a(70655);a=a(86700);c.prototype.create=function(){return new XMLHttpRequest();};k=c;k=r.__decorate([(0,a.T)()],k);b.fNa=k;},73475:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p,q){this.log=h;this.BF=m;this.My=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});k=a(68172);f=a(89082);l=a(89682);d=a(53484);g=a(31224);n=a(85060);c.prototype.Vg=function(h){var m,p;m=this;(this.context.kf || this.context.hk) && this.log.debug("Requesting a license",h);if(f.za.get(l.jh).CA(f.za.get(d.iq).decode("certificate"),h.rj[0].data)){m.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({Rk:[{sessionId:h.rj[0].sessionId,data:f.za.get(g.fh).decode(n.PY)}]});}else p=f.za.get(l.jh).CA(f.za.get(d.iq).decode("content"),h.rj[0].data)?Promise.resolve({Rk:[{sessionId:h.rj[0].sessionId,data:h.Wn}]}):(function(){m.log.trace("Requesting license",{drmType:h.Mm});return m.BF(h).catch(function(q){m.log.error("Unable to get the Fairplay license",q);throw {code:k.U.BI,ic:q.ic,Qc:q.Qc,Nm:q.Nm,uj:q.message || q.uj,YA:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.uj),cc:q};});})();return p;};c.prototype.release=function(h){var m;m=this;this.log.trace("Requesting stop data");return this.My(h).catch(function(p){m.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.ic,extCode:p.Qc,edgeCode:p.Nm,message:p.message || p.uj});throw {ia:!1,code:k.U.Kda,ic:p.ic,Qc:p.Qc,Nm:p.Nm,uj:p.message || p.uj,message:"Unable to release the FairPlay license. " + (p.message || p.uj),cc:p};});};r.exports=c;},92975:function(r,b,a){var k;function c(f,l,d,g){this.log=f;this.BF=l;this.My=d;this.context=g;}Object.defineProperty(b,"__esModule",{value:!0});b.eNa=void 0;k=a(68172);c.prototype.Vg=function(f){var l;l=this;(this.context.kf || this.context.hk) && this.log.trace("Requesting license",{drmType:f.Mm});return this.BF(f).catch(function(d){l.log.error("Unable to get the Playready license",d);if(l.context.Kgc)throw d;throw {ia:!1,code:k.U.BI,ic:d.ic,Qc:d.Qc,Nm:d.Nm,uj:d.message || d.uj,YA:d.data,message:"Unable to send the Playready license request. " + (d.message || d.uj)};});};c.prototype.release=function(f){var l;l=this;this.log.trace("Requesting stop data");return this.My(f).catch(function(d){l.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.ic,extCode:d.Qc,edgeCode:d.Nm,message:d.message || d.uj});throw {ia:!1,code:k.U.Kda,ic:d.ic,Qc:d.Qc,Nm:d.Nm,uj:d.message || d.uj,message:"Unable to release the PlayReady license. " + (d.message || d.uj)};});};b.eNa=c;pb._cad_global.WindowsDrmRequests=c;},72186:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.vea=void 0;c=a(68172);k=a(84722);f=a(91402);l=a(89682);d=a(5266);g=a(31224);n=a(77003);h=a(3971);(function(){var z;function m(A,B,C){var D;D=this;this.log=A;this.Ym=B || x.bind(this);this.context=C;this.zV=this.challenge=this.keySystem=this.e6=this.Ab=this.mediaKeys=void 0;this.Tc={};this.opa=this.bwa=!1;this.lV=t.bind(this);this.zV=void 0;this.Exa=new Promise(function(F,G){D.kua=F;D.Hta=G;});this.Exa.catch(function(F){D.log.error("wait for license rejected",F);});k.dc.get(n.rw).w4().then(function(F){(D.context.kf || D.context.hk) && D.log.debug("DRIVERINFO: ",F);}).catch(function(F){D.log.error("DRIVERINFO",F);});this.Xm=function(F,G){D.Hta(F,G);D.context.onerror(F,G);};this.ura=function(){D.kua();};if(!(this instanceof m))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return k.dc.get(g.fh);}function q(){return k.dc.get(l.jh);}function u(A){var B,C;B=k.dc.get(f.hea);C="";A.forEach(function(D){C+="<KeyID>" + D + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + C + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.Wab(A));(this.context.kf || this.context.hk) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function t(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Ab.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.Vf.fq,z.Mz.Ir,B);this.Ab=void 0;}function w(A,B,C){var F,G,E;for(var D=2;D < arguments.length;++D){;}D="";G=A.length;for(F=0;F < G;F++){E=A[F];0 < E && (D+=String.fromCharCode(E));}G="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){E=arguments[F];if(0 > D.search(E))return;E="(?:[^:].*:|)" + E;G="[\\s\\S]*<" + E + "[^>]*>" + G + "</" + E + ">[\\s\\S]*";}if(D=D.match(new RegExp(G)))return D[1];}function v(A,B,C,D){var F,G;F=A.target && A.target.sessionId;G=p().decode(w(A.message,"PlayReadyKeyMessage","Challenge"));C.state=12;C.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(C.context.kf || C.context.hk || C.context.iz) && C.log.debug("LICENSE: License challenge",p().encode(G));C.e6=F;A={mf:B,messageType:"license-request",Mm:(/clearkey/i).test(C.keySystem)?"clearkey":"playready",rj:[{data:G,sessionId:F}]};12 === C.state && (C.Ym("lc"),G={data:G,Mm:(/clearkey/i).test(C.keySystem)?"clearkey":"playready"},C.context.NG || (C.zV=G));C.context.gd.Vg(A).then(function(E){if(12 === C.state && (C.Ym("lr"),C.ura(),!C.context.NG))(C.AV=E.Rk[0].data,C.state=13,D({ia:!0,state:C.state}));else if(C.Ab)return y(C,E.Rk[0].data,C.Ab).then(function(){C.state=30;D({ia:!0,state:C.state});});}).catch(function(E){D(q().UB(E,{state:C.state}));});}function y(A,B,C){A.L5() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:C.sessionId,license:p().encode(B)});return new Promise(function(D,F){try{A.Ab.update(B);D(void 0);A.L5() && A.log.trace("LICENSE: Update succeeded",{sessionId:C.sessionId});}catch(G){F({ia:!1,code:z.Vf.j_,message:"Unable to update the EME.",Jb:q().ue(G)});}});}function x(A){this.context.qa && (this.Tc[A]=this.context.qa.getTime(),this.log.trace("Milestone: " + A + ", " + this.Tc[A]));}z={Vf:c.U,Mz:c.R};m.prototype.iL=function(){return this.keySystem;};m.prototype.Wcb=function(A,B){A.log && (this.log=A.log);A.Ym && (this.Ym=A.Ym);B.gd && (this.context.gd=B.gd);B.onerror && (this.context.onerror=B.onerror);};m.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):k.dc.get(n.rw).zF()).then(function(C){B.Ym("lg");B.log.trace("Creating the media keys",{keySystem:C});B.keySystem=C;if(B.context.RV)C=Promise.reject({ia:!1,code:z.Vf.VO,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new pb.MSMediaKeys(C);}catch(D){C=Promise.reject({ia:!1,code:z.Vf.HHa,message:"create MSMediaKeys(" + C + ") failed",Jb:q().ue(D)});break a;}try{B.context.$ && B.context.$.msSetMediaKeys(B.mediaKeys);}catch(D){C=Promise.reject({ia:!1,code:z.Vf.LI,message:"set MSMediaKeys failed",Jb:q().ue(D)});break a;}C=Promise.resolve({ia:!0,mediaKeys:B.mediaKeys});}return C;});};m.prototype.close=function(){this.mediaKeys=void 0;this.context.$=void 0;if(this.Ab){this.log.info("Closing the session",{sessionId:this.Ab.sessionId});this.Ab.removeEventListener("mskeyerror",this.lV);try{this.Ab.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Ab=void 0;}};m.prototype.Vg=function(A,B,C){var D;if(1 < B.length)return Promise.reject({code:z.Vf.LHa});if(0 === B.length)return Promise.reject({code:z.Vf.KHa});B=B[0];D=this;D.context.kf && D.log.trace("LICENSE: Setting license");return D.context.RV?Promise.reject({ia:!1,code:z.Vf.VBa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,G){var E,J,L,N,I,O,K;try{J=function(H){D.Ab && (D.Ab.removeEventListener("mskeymessage",N),D.Ab.removeEventListener("mskeyadded",I),D.Ab.removeEventListener("mskeyerror",O),D.Ab.addEventListener("mskeyerror",D.lV));H.state=11;H.ia?F(H):(D.close(),G(H));};L=function(H){var M,R;M=[];R=Array.prototype.map.call(H,function(ea){return ea?String.fromCharCode(ea):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(R)M.push(R[1]);else {H=w(H,"KIDS");R=/VALUE="(.+?)">/g;for(var Y=R.exec(H);null != Y;){M.push(Y[1]);Y=R.exec(H);}}return M;};N=function(H){E && clearTimeout(E);v(H,A,D,J);};I=function(H){(D.context.kf || D.context.hk) && D.log.trace("LICENSE: Received " + H.type + " event",{keySystem:H.target.keySystem,sessionId:H.target.sessionId});J({ia:!0});};O=function(H){var M,R;E && clearTimeout(E);if(H.target && H.target.error)(M=H.target.error.systemCode,R=H.target.error.code);M={code:z.Vf.fq,ic:z.Mz.Ir,Qc:M?k.dc.get(d.nw).pF(M,4):R,details:q().ue(H),cc:H.target && H.target.error,k$:M,N3:R};D.log.error("LICENSE: Received " + H.type + " event",{sessionId:D.Ab && D.Ab.sessionId,keySystem:H.target.keySystem,systemCode:M.k$,code:M.N3});D.Ym("le");D.Xm && D.Xm(z.Vf.fq,M);J({ia:!1,code:z.Vf.fq,ic:z.Mz.Ir,Qc:M.Qc,message:"Received a key error.",Jb:M.details,cc:M.cc});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.kf || D.context.hk) && D.log.debug("LICENSE: PSSH",p().encode(B));D.rv || (D.rv=L(B));if(C){K=u.call(D,D.rv);D.Ab=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),K);}else D.Ab=D.mediaKeys.createSession("video/mp4",B,null);(D.context.kf || D.context.hk) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Ab.keySystem,sessionId:D.Ab.sessionId});D.Ab.addEventListener("mskeymessage",N);D.Ab.addEventListener("mskeyadded",I);D.Ab.addEventListener("mskeyerror",O);D.context.lpa && (E=setTimeout(function(){J({ia:!1,code:z.Vf.HP,ic:z.Mz.Bhb});},D.context.lpa));}catch(H){G({code:z.Vf.HP,ic:z.Mz.nl});}});})();};m.prototype.aH=function(){var A;(this.context.kf || this.context.hk) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.Vg(h.om.dca.qm,A,!0);};m.prototype.I1=function(A){this.AV || this.log.error("pending license must exist at this point");this.context.NG=!0;try{A && (this.context.$=A,this.context.$.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({ia:!1,code:z.Vf.LI,message:"setMediaKeys failed",Jb:q().ue(B)});}return y(this,this.AV,this.Ab);};m.prototype.EWa=function(A){var B,C;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));C={ma:A.ma,ie:A.ie};return new Promise(function(D,F){(function(){B.context.gd.release.call(B.context.gd,C).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={ia:!0};B.close();G.ia?D(G):F(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.e6,code:G.code,subCode:G.ic,extCode:G.Qc,edgeCode:G.Nm,message:G.uj});B.close();G.ia?D(G):F(G);});})();});};m.prototype.L5=function(){return this.context.kf || this.context.hk;};b.vea=m;pb._cad_global.WindowsEmeSession=b.vea;})();},4497:function(r,b,a){var v,y,x,z,A,B,C,D,F,G,E,J;function c(L,N,I){var O;O=this;this.log=L;this.Ym=N || w.bind(this);this.context=I;this.zV=this.challenge=this.keySystem=this.e6=this.mediaKeys=void 0;this.Tc={};this.eo=void 0;this.url="";this.opa=this.bwa=!1;this.lV=h.bind(this);this.qk=this.zV=void 0;this.Exa=new Promise(function(K,H){O.kua=K;O.Hta=H;});this.Xm=function(K,H){O.Hta(K,H);O.context.onerror(K,H);};this.ura=function(){O.kua();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function k(){return v.za.get(A.iq);}function f(){return v.za.get(z.fh);}function l(){return v.za.get(y.jh);}function d(L){return (/com.apple.fps/).test(L) && !(/com.apple.fps.2_0/).test(L);}function g(L){var N;L=(function(I){var K,H;function O(M,R,Y,ea){var ca,oa;ca=new Uint8Array("piff" == R?88:72);oa=new G.TO(ca);oa.lz(12);oa.kz("frma");oa.kz(M);oa.lz(20);oa.kz("schm");oa.SX(0);oa.SX(0);oa.kz(R);oa.lz(Y);"piff" == R?(oa.lz(56),oa.kz("schi"),oa.lz(48),oa.kz("uuid"),oa.RX([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(oa.lz(40),oa.kz("schi"),oa.lz(32),oa.kz("tenc"));oa.SX(0);oa.SX(0);oa.lz(264);oa.RX(ea);return ca;}K=O("avc1","piff",65537,I);K=k().decode(f().encode(K));I=O("avc1",E.Wt,65536,I);I=k().decode(f().encode(I));H=new Uint8Array(7 + K.length + 8 + I.length + 5);H.set([91,10,32,32,32,32,34],0);H.set(K,7);H.set([34,44,10,32,32,32,32,34],7 + K.length);H.set(I,7 + K.length + 8);H.set([34,10,32,32,93],7 + K.length + 8 + I.length);return H;})(L);N=new Uint8Array(13 + L.length + 2);N.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);N.set(L,13);N.set([10,125],13 + L.length);return N;}function n(L){var N;L=L.subarray(14,30);L=String.fromCharCode.apply(null,L);L=f().decode(L);L=L.subarray(4);N=new Uint8Array(16);N.set(L);return N;}function h(L){var N;N=m(L);this.log.error("LICENSE Error: Received event: " + L.type,{sessionId:this.Ab?this.Ab.sessionId:void 0,keySystem:L.target.keySystem,systemCode:N.k$,code:N.N3});this.Xm && this.Xm(J.Vf.fq,N);this.Ab=void 0;}function m(L){var N,I;if(L.target.error)(N=L.target.error.systemCode,I=L.target.error.code);return {code:J.Vf.fq,ic:J.Mz.Ir,Qc:N?v.za.get(x.nw).pF(N,4):I,details:l().ue(L),cc:L.target.error,k$:N,N3:I};}function p(L,N,I,O){var K,H,M;K=L.target.sessionId;H=L.message;M=l().CA(H,k().decode("certificate"));I.opa=N === F.om.dca.ln;I.state=M?2:12;I.log.trace("LICENSE: Received event: " + L.type,{keySystem:L.target.keySystem,sessionId:K});(I.context.kf || I.context.hk || I.context.iz) && I.log.debug("LICENSE: License challenge",f().encode(H));I.e6=K;L={Wn:I.Wn,mf:N,messageType:"license-request",Mm:(/clearkey/i).test(I.keySystem)?"clearkey":"fps",rj:[{data:H,sessionId:K}]};12 === I.state && (I.Ym("lc"),H={data:H,Mm:(/clearkey/i).test(I.keySystem)?"clearkey":"fps"},I.context.NG || (I.zV=H));I.context.gd.Vg(L).then(function(R){if(12 === I.state && (I.Ym("lr"),I.ura(),!I.context.NG))(I.AV=R.Rk[0].data,I.state=13,O({ia:!0,state:I.state}));else if(I.Ab)return (R=t(I,M,R.Rk[0].data,I.Ab),2 === I.state?R:R.then(function(){I.state=30;O({ia:!0,state:I.state});}));}).catch(function(R){O(l().UB(R,{state:I.state}));});}function q(L,N,I){N.log.trace("LICENSE: Received event: " + L.type,{keySystem:L.target.keySystem,sessionId:L.target.sessionId});I({ia:!0});}function u(L,N,I){var O;O=m(L);N.Xm && N.Xm(J.Vf.fq,O);N.log.error("LICENSE Error: Received event: " + L.type,{sessionId:N.Ab?N.Ab.sessionId:void 0,keySystem:L.target.keySystem,systemCode:O.k$,code:O.N3});I({ia:!1,code:J.Vf.fq,ic:J.Mz.Ir,Qc:O.Qc,message:"Received a key error.",Jb:O.details,cc:O.cc});}function t(L,N,I,O){O={sessionId:O.sessionId};L.L5() && (O.license=f().encode(I));L.log.trace("calling keysession update",O);return new Promise(function(K,H){function M(){L.Ab.removeEventListener("webkitkeyadded",M);K(void 0);}try{N || L.Ab.addEventListener("webkitkeyadded",M);L.Ab.update(I);N && K(void 0);}catch(R){H({ia:!1,code:J.Vf.j_,message:"Unable to update the EME.",e:R});}});}function w(L){this.Tc[L]=v.za.get(B.Jc).Eb().ba(C.oa);this.log.trace("Milestone: " + L + ", " + this.Tc[L]);}Object.defineProperty(b,"__esModule",{value:!0});v=a(89082);b=a(68172);y=a(89682);x=a(5266);z=a(31224);A=a(53484);B=a(58998);C=a(2467);D=a(50876);F=a(3971);G=a(70834);E=a(85060);J={Vf:b.U,Mz:b.R};c.prototype.iL=function(){return this.keySystem;};c.prototype.Wcb=function(L,N){L.log && (this.log=L.log);L.Ym && (this.Ym=L.Ym);N.gd && (this.context.gd=N.gd);N.onerror && (this.context.onerror=N.onerror);};c.prototype.create=function(L){var N;N=this;N.Ym("lg");N.log.trace("CREATE: Creating the media keys",{keySystem:L});N.keySystem=L;return N.context.RV?Promise.reject({ia:!1,code:J.Vf.VO,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function I(){var O,K;O=l().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");K=O.lastChild;N.qk=O;N.context.$=D.Og.createElement("VIDEO");K?N.qk.insertBefore(N.context.$,K):N.qk.appendChild(N.context.$);}return new Promise(function(O,K){function H(M){(N.context.kf || N.context.hk || N.context.iz) && N.log.trace("CREATE: Received event: " + M.type,{readyState:M.target.readyState,duration:M.target.duration});try{N.mediaKeys=new pb.WebKitMediaKeys(L);N.context.$.webkitSetMediaKeys(N.mediaKeys);O({ia:!0,mediaKeys:N.mediaKeys});}catch(R){N.log.error("CREATE: Exception on webkitSetMediaKeys",R);K({ia:!1,code:J.Vf.HP,Jb:l().ue(R)});}}if(d(N.keySystem))try{N.mediaKeys=new pb.WebKitMediaKeys(L);N.context.$ && (N.log.trace("LICENSE: calling setmediakeys on video element"),N.context.$.webkitSetMediaKeys(N.mediaKeys));O({ia:!0,mediaKeys:N.mediaKeys});}catch(M){K({ia:!1,code:J.Vf.HP,Jb:l().ue(M)});}else (N.mediaKeys=new pb.WebKitMediaKeys(L),N.context.$?(N.log.trace("LICENSE: calling setmediakeys on video element"),N.context.$.webkitSetMediaKeys(N.mediaKeys)):(I(),N.eo=new D.Ez(),N.eo.addEventListener("sourceopen",H),N.url=URL.createObjectURL(N.eo),N.context.$.src=N.url),O({ia:!0,mediaKeys:N.mediaKeys}));});})();};c.prototype.close=function(){this.Ab && (this.log.info("Closing the session",{sessionId:this.Ab.sessionId}),this.Ab.removeEventListener("webkitkeyerror",this.lV),this.Ab.close(),this.Ab=void 0);};c.prototype.Vg=function(L,N){var I;if(1 < N.length)return Promise.reject({code:J.Vf.LHa});if(0 === N.length)return Promise.reject({code:J.Vf.KHa});N=N[0];I=this;I.context.kf && I.log.trace("LICENSE: Setting license",{initData:f().encode(N)});return I.context.RV?Promise.reject({ia:!1,code:J.Vf.VBa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(O,K){var M,R,Y;function H(ea){I.Ab && (I.Ab.removeEventListener("webkitkeymessage",M),I.Ab.removeEventListener("webkitkeyadded",R),I.Ab.removeEventListener("webkitkeyerror",Y),I.Ab.addEventListener("webkitkeyerror",I.lV));ea.ia?O(ea):(I.close(),K(ea));}M=function(ea){p(ea,L,I,H);};R=function(ea){q(ea,I,H);};Y=function(ea){u(ea,I,H);};d(I.keySystem) && (I.Wn=n(N),N=g(I.Wn));I.log.trace("LICENSE: Executing prefix based EME");I.context.kf | I.context.hk && I.log.debug("LICENSE: PSSH",f().encode(N));I.Ab=I.mediaKeys.createSession("video/mp4",N,null);(I.context.kf || I.context.hk) && I.log.debug("LICENSE: Created the media keys sessions",{keySystem:I.Ab.keySystem,sessionId:I.Ab.sessionId});I.Ab.addEventListener("webkitkeymessage",M);I.Ab.addEventListener("webkitkeyadded",R);I.Ab.addEventListener("webkitkeyerror",Y);});})();};c.prototype.aH=function(){var L;L=this;return L.bwa?Promise.resolve({ia:!0}):new Promise(function(N,I){var K,H,M;function O(R){L.Ab && (L.Ab.removeEventListener("webkitkeymessage",K),L.Ab.removeEventListener("webkitkeyadded",H),L.Ab.removeEventListener("webkitkeyerror",M));R.ia?N(R):(I(R),L.close());}K=function(R){p(R,F.om.dca.qm,L,O);};H=function(R){q(R,L,O);N({ia:!0});};M=function(R){u(R,L,O);};L.opa=!1;L.Ab.addEventListener("webkitkeymessage",K);L.Ab.addEventListener("webkitkeyadded",H);L.Ab.addEventListener("webkitkeyerror",M);L.Ab.update(k().decode("renew"));});};c.prototype.I1=function(L){this.AV || this.log.error("pending license must exist at this point");this.context.NG=!0;try{L && (this.context.$=L,this.log.trace("calling setmediakeys on video element"),this.context.$.webkitSetMediaKeys(this.mediaKeys));}catch(N){return new Promise(function(I,O){O({ia:!1,code:J.Vf.LI,message:"setMediaKeys failed",Jb:l().ue(N)});});}return t(this,!1,this.AV,this.Ab);};c.prototype.EWa=function(L){var N,I;N=this;N.log.trace("Releasing the license of the current session",JSON.stringify(L));N.bwa=!0;I={ma:L.ma,ie:L.ie};return new Promise(function(O,K){(function(){N.context.gd.release.call(N.context.gd,I).then(function(){var H;N.log.trace("successfully released the license",JSON.stringify(L));H={ia:!0};H.ia?O(H):(N.close(),K(H));}).catch(function(H){N.log.error("RELEASE: Unable to get the release the license",{sessionId:N.Ab?N.Ab.sessionId:void 0,code:H.code,subCode:H.ic,extCode:H.Qc,edgeCode:H.Nm,message:H.uj});H.ia?O(H):(N.close(),K(H));});})();});};c.prototype.L5=function(){return this.context.kf || this.context.hk;};r.exports=c;},38298:function(r,b,a){var c,k,f,l,d,g,n,h,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.C6a=void 0;r=a(86700);c=a(94669);k=a(737);f=a(95538);l=a(48350);d=a(86945);g=a(58820);n=a(98011);h=a(52463);m=a(19391);p=a(96026);b.C6a=new r.$c(function(q){q(f.Kw).to(l.fIa).da();q(c.hIa).to(k.gIa).da();q(n.rIa).to(h.qIa);q(n.pIa).Vd(function(u){return function(){return u.hb.get(n.rIa);};});q(d.NIa).to(g.MIa).da();q(m.ida).to(p.JIa).da();});},95538:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kw="PboConfigSymbol";},94669:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hIa="PboDispatcherSymbol";},98011:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rIa="PboLinksManagerSymbol";b.pIa="PboLinksManagerFactorySymbol";},19391:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ida="PboPublisherSymbol";},86945:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NIa="PboRequestFactorySymbol";},82092:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.laa="AdEventPboCommandSymbol";b.kaa="AdBreakEventPboCommandSymbol";},21060:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L,N,I,O,K,H,M,R,Y,ea,ca;Object.defineProperty(b,"__esModule",{value:!0});b.iTa=void 0;r=a(86700);c=a(4048);k=a(10143);f=a(93);l=a(27299);d=a(50055);g=a(52779);n=a(29766);h=a(13878);m=a(92582);p=a(78679);q=a(10707);u=a(33403);t=a(8010);w=a(30859);v=a(48529);y=a(56003);x=a(68172);z=a(8522);A=a(41596);B=a(62538);C=a(20743);D=a(42239);F=a(47758);G=a(64558);E=a(87005);J=a(6123);L=a(59713);N=a(5794);I=a(17445);O=a(91393);K=a(95538);H=a(9571);M=a(73953);R=a(9270);Y=a(10058);ea=a(82092);ca=a(9684);b.iTa=new r.$c(function(oa){oa(C.rl).to(D.eIa);oa(c.tIa).to(k.sIa);oa(F.$Ha).to(G.ZHa);oa(E.bIa).to(J.aIa);oa(f.gda).to(l.uIa);oa(H.vIa).Vd(function(Ga){return function(){var Fa;Fa=Ga.hb.get(K.Kw);return Fa && Fa.udb?Ga.hb.resolve(R.OIa):Ga.hb.resolve(M.wIa);};});oa(d.YHa).to(g.XHa);oa(n.LIa).to(h.KIa);oa(m.nIa).to(p.mIa);oa(q.fda).to(u.oIa);oa(t.BLa).to(w.ALa);oa(t.HLa).to(v.GLa);oa(t.LEa).to(z.KEa);oa(t.wLa).to(A.vLa);oa(t.mCa).to(B.lCa);oa(N.Rkb).to(L.xIa);oa(I.lIa).to(O.kIa);oa(ea.laa).to(Y.cya);oa(ea.kaa).to(ca.Xxa);oa(t.zba).Vd(function(Ga){return function(Fa){switch(Fa){case t.yo.start:return Ga.hb.get(t.BLa);case t.yo.stop:return Ga.hb.get(t.HLa);case t.yo.gU:return Ga.hb.get(t.LEa);case t.yo.splice:return Ga.hb.get(t.wLa);case t.yo.LK:return Ga.hb.get(t.mCa);}throw new y.Mc(x.U.ckb,void 0,void 0,void 0,void 0,"The event key was invalid - " + Fa);};});});},8010:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yo={start:"start",stop:"stop",gU:"keepAlive",LK:"engage",splice:"splice"};b.zba="EventPboCommandFactorySymbol";b.BLa="StartEventPboCommandSymbol";b.HLa="StopEventPboCommandSymbol";b.LEa="KeepAliveEventPboCommandSymbol";b.wLa="SpliceEventPboCommandSymbol";b.mCa="EngageEventPboCommandSymbol";},50055:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YHa="PboAcquireLicenseCommandSymbol";},47758:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ha="PboBindCommandSymbol";},87005:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bIa="PboBindDeviceCommandSymbol";},88052:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gg={Cpa:"logblob",W:"manifest",dOb:"licensedmanifest",Vg:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.klb={EKa:"X-Netflix.Request.Attempt",Pda:"X-Netflix.Client.Request.Name",Hza:"x-netflix.browsername",Mza:"x-netflix.browserversion",rHa:"x-netflix.osname",sHa:"x-xetflix.osversion",wAa:"x-netflix.clienttype",AMa:"x-netflix.uiversion"};b.Kz={EKa:"reqAttempt",Pda:"reqName",Hza:"browsername",Mza:"browserversion",rHa:"osname",sHa:"osversion",wAa:"clienttype",AMa:"uiversion"};},20743:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rl="PboCommandContextSymbol";},17445:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lIa="PboGenerateScreenshotsCommandSymbol";},92582:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nIa="PboLicenseRequestTransformerSymbol";},10707:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fda="PboLicenseResponseTransformerSymbol";},4048:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tIa="PboLogblobCommandSymbol";},93:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gda=b.ol=void 0;r=b.ol || (b.ol={});r.MI="PRE_FETCH";r.dlb="QC";r.qm="STANDARD";r.E_="SUPPLEMENTAL";r.a8b="DOWNLOAD";b.gda="PboManifestCommandSymbol";},9571:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vIa="PboManifestRequestTransformerSymbol";},5794:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rkb="PboPingCommandSymbol";},29766:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LIa="PboReleaseLicenseCommandSymbol";},9684:function(r,b,a){var k,f,l,d,g;function c(n){return d.hh.call(this,n,f.U.Pxa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Xxa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(88052);d=a(92933);g=a(20743);a(64168);ia(c,d.hh);c.prototype.Bf=function(n,h){var m,p,q;m=this;p=h.event;q=this.xA(h);!1;!1;return this.send(n,{url:h.href,name:l.Gg.events,Bj:l.Gg.events + "/" + p},q).then(function(){return h;}).catch(function(u){throw m.Nl(u);});};c.prototype.Kn=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};c.prototype.xA=function(n){return {xid:n.ma,event:n.event,adEventToken:n.Ju,adBreakLocationMs:n.pE,position:n.position,clientTime:n.yx,sessionStartTime:n.cm,appId:n.appId,sessionId:n.sessionId,playTimes:{}};};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(g.rl))],a);b.Xxa=a;},10058:function(r,b,a){var k,f,l,d,g;function c(n){return d.hh.call(this,n,f.U.Pxa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.cya=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(88052);d=a(92933);g=a(20743);a(64168);ia(c,d.hh);c.prototype.Bf=function(n,h){var m,p,q;m=this;p=h.event;q=this.xA(h);!1;!1;return this.send(n,{url:h.href,name:l.Gg.events,Bj:l.Gg.events + "/" + p},q).then(function(){return h;}).catch(function(u){throw m.Nl(u);});};c.prototype.Kn=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.xA=function(n){return {xid:n.ma,event:n.event,adEventToken:n.Ju,adBreakLocationMs:n.pE,position:n.position,clientTime:n.yx,sessionStartTime:n.cm,appId:n.appId,sessionId:n.sessionId,playTimes:this.Vha(n.Gv),mainManifestPlaybackContextId:n.mPb,thirdPartyAdVerificationMetadata:n.R2b};};c.prototype.Vha=function(n){return {total:n.total,audio:n.audio.map(function(h){return {duration:h.duration,downloadableId:h.Ub,cdnId:h.Em};}),video:n.video.map(function(h){return {duration:h.duration,downloadableId:h.Ub,cdnId:h.Em};}),text:n.text.map(function(h){return {duration:h.duration,downloadableId:h.Ub,cdnId:h.Em};})};};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(g.rl))],a);b.cya=a;},1841:function(r,b,a){var k,f,l;function c(d,g,n,h){g=l.hh.call(this,d,g,h) || this;g.context=d;g.Pka=n;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.$p=void 0;r=a(70655);k=a(86700);f=a(88052);l=a(92933);a(64168);ia(c,l.hh);c.prototype.N4=function(d){return "LIVE" === d.eg?f.Gg.events + "/live/" + this.Pka:f.Gg.events + "/" + this.Pka;};c.prototype.Bf=function(d,g){var n,h;n=this;h=this.xA(g);!1;!1;return this.send(d,{url:g.href,name:f.Gg.events,Bj:this.N4(g)},h).then(function(){return g;}).catch(function(m){throw n.Nl(m);});};c.prototype.Kn=function(d,g,n){var h,m,p;h=this;m=this.xA(n);!1;!1;p={url:g.jL("events").href,name:f.Gg.events,Bj:this.N4(n)};return this.send(d,p,m).then(function(q){g.Bga(q.result.links);return n;}).catch(function(q){throw h.Nl(q);});};c.prototype.xA=function(d){return {event:this.Pka,xid:d.ma,position:d.position || 0,clientTime:d.yx,sessionStartTime:d.cm,videoTrackId:d.pO,audioTrackId:d.Zo,timedTextTrackId:d.XN,mediaId:d.dM,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.Vha(d.Gv),sessionParams:d.bm};};c.prototype.Uha=function(d){return {downloadableId:d.Ub,duration:d.duration};};c.prototype.Vha=function(d){var g;g={total:d.total,audio:d.audio.map(this.Uha),video:d.video.map(this.Uha),text:d.text.map(this.Uha)};d.total !== d.PH && (g.totalContentTime=d.PH);0 !== d.HC && (g.totalAdDuration=d.HC);0 !== d.IC && (g.totalOtherDuration=d.IC);if(0 !== d.IC || 0 !== d.HC)g.totalCombinedDuration=d.aO;0 !== d.QH && (g.totalLiveEdgeDuration=d.QH);0 !== d.RH && (g.totalStartSlateDuration=d.RH);return g;};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.jn)()),r.__param(1,(0,k.jn)()),r.__param(2,(0,k.jn)()),r.__param(3,(0,k.jn)())],a);b.$p=a;},92933:function(r,b,a){var k,f,l,d,g;function c(n,h,m){this.context=n;this.errorCode=h;this.eZb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.hh=void 0;r=a(70655);k=a(86700);f=a(55727);l=a(2467);d=a(56003);g=a(53685);c.prototype.send=function(n,h,m,p,q,u){var t;t=this;u=void 0 === u?g.fu.LP:u;return this.XGb(n,h,m,u,p,q).then(function(w){return t.context.pBb.send(w.context,w.request);});};c.prototype.XGb=function(n,h,m,p,q,u){var t,w;try{t=this.context.zYb.create(this.context.ay.FA(),h.url,m,q,p);w=this.Otb(h,n,p,u);return Promise.resolve({context:w,request:t});}catch(v){return Promise.reject(v);}};c.prototype.Otb=function(n,h,m,p){return {Ie:this.context.Ie,log:h,Fm:n.name,url:this.context.g5b((0,f.VRa)(this.context.mh,this.context.Wg,n.name,m)),qua:this.eZb,timeout:(0,l.uh)(59),headers:(0,f.URa)(this.context.Wg,this.context.YE),Bj:n.Bj,ltb:p};};c.prototype.Nl=function(n){return n instanceof d.Mc?n:(0,f.Nl)(this.errorCode,n);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.jn)()),r.__param(1,(0,k.jn)()),r.__param(2,(0,k.jn)())],a);b.hh=a;},62538:function(r,b,a){var k,f,l,d,g;function c(n){return l.$p.call(this,n,f.U.Chb,d.yo.LK,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.lCa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(1841);d=a(8010);a=a(20743);ia(c,l.$p);c.prototype.xA=function(n){return Object.assign(Object.assign({},l.$p.prototype.xA.call(this,n)),{action:n.action});};g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.rl))],g);b.lCa=g;},91393:function(r,b,a){var k,f,l,d,g;function c(n){return d.hh.call(this,n,f.U.Phb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.kIa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(88052);d=a(92933);a=a(20743);ia(c,d.hh);c.prototype.Bf=function(n,h){var m;m=this;return this.send(n,{url:"/generateScreenshots",name:l.Gg.W,Bj:"generateScreenshots"},h).then(function(p){return p.result;}).catch(function(p){throw m.Nl(p);});};c.prototype.Kn=function(n,h,m){var p;p=this;h={url:h.jL("generateScreenshots").href,name:l.Gg.W,Bj:"generateScreenshots"};return this.send(n,h,m).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.rl))],g);b.kIa=g;},8522:function(r,b,a){var k,f,l,d,g;function c(n){return l.$p.call(this,n,f.U.$ba,d.yo.gU,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KEa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(1841);d=a(8010);a=a(20743);ia(c,l.$p);g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.rl))],g);b.KEa=g;},52779:function(r,b,a){var k,f,l,d,g;function c(n){return d.hh.call(this,n,f.U.BI,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XHa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(88052);d=a(92933);a=a(20743);ia(c,d.hh);c.prototype.Bf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.N4=function(n){var h;h="ldl" === n.I2a?"prefetch/license":"license";"LIVE" === n.eg && (h+="/live");return h;};c.prototype.Kn=function(n,h,m){var p;p=this;h={url:h.jL(m.I2a).href,name:l.Gg.Vg,Bj:this.N4(m)};return this.send(n,h,m.inputs,"drmSessionId").then(function(q){q=q.result;p.gvb(q);return q;}).catch(function(q){throw p.Nl(q);});};c.prototype.gvb=function(n){n.forEach(function(h){if(!h.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.rl))],g);b.XHa=g;},64558:function(r,b,a){var k,f,l,d,g;function c(n){return d.hh.call(this,n,f.U.ifb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZHa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(88052);d=a(92933);a=a(20743);ia(c,d.hh);c.prototype.Bf=function(n,h,m){var p;p=this;return this.send(n,{url:"/" + l.Gg.bind,name:l.Gg.bind,Bj:l.Gg.bind},h,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};c.prototype.Kn=function(){return Promise.reject(Error("Links are unsupported with bind"));};g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.rl))],g);b.ZHa=g;},6123:function(r,b,a){var k,f,l,d,g;function c(n){return d.hh.call(this,n,f.U.jfb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aIa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(88052);d=a(92933);a=a(20743);ia(c,d.hh);c.prototype.Bf=function(n,h,m){var p;p=this;return this.send(n,{url:"/bindDevice",name:l.Gg.bind,Bj:l.Gg.bind},h,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};c.prototype.Kn=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.rl))],g);b.aIa=g;},42239:function(r,b,a){var k,f,l,d,g,n,h,m,p;function c(q,u,t,w,v,y,x,z,A){this.mh=q;this.Ie=u;this.Wg=t;this.pBb=w;this.ay=v;this.g5b=y;this.zYb=z;this.YE=A;}Object.defineProperty(b,"__esModule",{value:!0});b.eIa=void 0;r=a(70655);k=a(86700);f=a(39141);l=a(95538);d=a(86945);g=a(94669);n=a(24166);h=a(5485);m=a(28933);p=a(1265);a=a(15303);c=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.eY)),r.__param(1,(0,k.l)(h.bu)),r.__param(2,(0,k.l)(l.Kw)),r.__param(3,(0,k.l)(g.hIa)),r.__param(4,(0,k.l)(n.zw)),r.__param(5,(0,k.l)(m.DMa)),r.__param(6,(0,k.l)(p.GY)),r.__param(7,(0,k.l)(d.NIa)),r.__param(8,(0,k.l)(a.tw))],c);b.eIa=c;},55727:function(r,b,a){var n,h;function c(m){return !(!m || !m.dC && !m.pboc || !m.code && !m.code);}function k(m){return !(!m || !m.ic);}function f(m){return !!(m instanceof Error);}function l(m){switch(m){case "ACCOUNT_ON_HOLD":return h.R.Tjb;case "STREAM_QUOTA_EXCEEDED":return h.R.bkb;case "INSUFFICICENT_MATURITY":return h.R.gkb;case "TITLE_OUT_OF_WINDOW":return h.R.pkb;case "CHOICE_MAP_ERROR":return h.R.akb;case "BadRequest":return h.R.kkb;case "Invalid_SemVer_Format":return h.R.hkb;case "RESTRICTED_TO_TESTERS":return h.R.nkb;case "AGE_VERIFICATION_REQUIRED":return h.R.Zjb;case "BLACKLISTED_IP":return h.R.$jb;case "DEVICE_EOL_WARNING":return h.R.Uca;case "DEVICE_EOL_FINAL":return h.R.zHa;case "INCORRECT_PIN":return h.R.DHa;case "MOBILE_ONLY":return h.R.mkb;case "MDX_CONTROLLER_CTICKET_INVALID":return h.R.lkb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return h.R.qkb;case "RESET_DEVICE":return h.R.CHa;case "RELOAD_DEVICE":return h.R.BHa;case "EXIT_DEVICE":return h.R.AHa;case "FREE_PREVIEW_ENDED":return h.R.fkb;case "STREAMING_LOCATION_DISALLOWED":return h.R.okb;case "EXTRA_MEMBER_STREAM_HOLD":return h.R.ekb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return h.R.dkb;case "ADS_UNAVAILABLE_VIEWABLE":return h.R.Ujb;case "ADS_UNSUPPORTED_DEVICE":return h.R.Xjb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return h.R.Vjb;case "ADS_UNSUPPORTED_COUNTRY":return h.R.Wjb;case "ADS_VPN_USE_DETECTED":return h.R.Yjb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return h.R.jkb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return h.R.ikb;default:return h.R.OCa;}}function d(m,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new n.Mc(m,l(p.code),"BadRequest" === p.code?h.NZ.xfb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function g(m,p){return new n.Mc(m,p.ic,p.Qc,void 0,p.xy,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.URa=b.VRa=b.zFb=b.EFb=b.Nl=b.DFb=b.$T=b.i1a=b.w1a=void 0;n=a(56003);h=a(68172);b.w1a=c;b.i1a=k;b.$T=f;b.DFb=l;b.Nl=function(m,p){return k(p)?g(m,p):c(p)?d(m,p):f(p)?n.Mc.Kla(m,p):new n.Mc(m,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.EFb=d;b.zFb=g;b.VRa=function(m,p,q,u,t){var w,v,y,x;t=void 0 === t?"router":t;w=p.h$a[q];if(void 0 === w)throw {dC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};v=w.version;if(void 0 === v)throw {dC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};y=w.service;if(void 0 === y)throw {dC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};x=w.orgOverride;if(void 0 === x && (x=p.organization,void 0 === x))throw {dC:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return w.isPlayApiDirect?m.AIb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(v):m.pIb(u) + "/" + x + "/" + y + "/" + encodeURIComponent(v) + "/" + t;};b.URa=function(m,p){var q;q={"Content-Type":"text/plain"};p=p();m.oQa && p && (q["X-Esn"]=p.ck);return q;};},78679:function(r,b,a){var k,f,l,d,g;function c(n,h,m){this.qa=n;this.platform=h;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.mIa=void 0;r=a(70655);k=a(86700);f=a(35664);l=a(2467);d=a(811);a=a(17244);c.prototype.C3b=function(n){var h,m;h=this;m=this.qa.fe.ba(l.sm);return {inputs:n.rj.map(function(p){var q,u,t,w,v;return {drmSessionId:p.sessionId,clientTime:m,challengeBase64:p.dataBase64,xid:n.ma.toString(),clientVersion:h.platform.version,platform:null === (q=h.config().nd) || void 0 === q?void 0:q.version,osVersion:null === (t=null === (u=h.config().nd) || void 0 === u?void 0:u.os) || void 0 === t?void 0:t.version,osName:null === (v=null === (w=h.config().nd) || void 0 === w?void 0:w.os) || void 0 === v?void 0:v.name};}),I2a:"standard" === n.mf.toLowerCase()?"license":"ldl",eg:n.eg};};c.prototype.F3b=function(n){var h,m;h=this;m=[];return n.ie.map(function(p){m.push(p.id);return {url:h.Qtb(p.jG,p.oU),echo:"drmSessionId",params:{drmSessionId:p.id,xid:n.ma.toString()}};});};c.prototype.Qtb=function(n,h){return "/releaseLicense?drmLicenseContextId=" + n + (h?"&licenseId=" + h:"");};g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.gg)),r.__param(1,(0,k.l)(d.rn)),r.__param(2,(0,k.l)(a.ac))],g);b.mIa=g;},33403:function(r,b,a){var k,f,l;function c(d,g){this.xh=d;this.uA=g;}Object.defineProperty(b,"__esModule",{value:!0});b.oIa=void 0;r=a(70655);k=a(86700);f=a(89682);a=a(31224);c.prototype.gcb=function(d){var g,n;g=this;n=d.map(function(h){return h.links.releaseLicense.href;}).map(function(h){return g.xh.yV(h.substring(h.indexOf("?") + 1));});return {ia:!0,ie:d.map(function(h,m){return {id:h.drmSessionId,jG:n[m].drmlicensecontextid,oU:n[m].licenseid};}),Rk:d.map(function(h){return {data:g.uA.decode(h.licenseResponseBase64),sessionId:h.drmSessionId};})};};l=c;l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.jh)),r.__param(1,(0,k.l)(a.fh))],l);b.oIa=l;},10143:function(r,b,a){var k,f,l,d,g;function c(n){return d.hh.call(this,n,f.U.Vib,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sIa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(88052);d=a(92933);a=a(20743);ia(c,d.hh);c.prototype.Bf=function(n,h){var m;m=this;return this.send(n,{url:"/" + l.Gg.Cpa,name:l.Gg.Cpa,Bj:l.Gg.Cpa},h).then(function(p){return p.result;}).catch(function(p){throw m.Nl(p);});};c.prototype.Kn=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.rl))],g);b.sIa=g;},27299:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u;function c(t,w,v,y,x){t=d.hh.call(this,t,f.U.EI,3) || this;t.platform=w;t.CU=v;t.cOb=y;t.yPb=x;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.uIa=void 0;r=a(70655);k=a(93);f=a(68172);l=a(88052);a(64168);d=a(92933);g=a(20743);n=a(811);h=a(53685);m=a(23251);p=a(10707);q=a(86700);a=a(9571);ia(c,d.hh);c.prototype.VIb=function(t,w){var v,y;y=w?l.Gg.dOb:l.Gg.W;w=w?"licensedManifest":"manifest";t.Gq === k.ol.MI && (w="prefetch/" + w);"live" === t.Wa.wd && (w+="/live");if(null === (v=t.If) || void 0 === v?0:v.Ji)w="adBreakHydration";return {Bj:w,ewb:y};};c.prototype.Bf=function(t,w){var v,y;v=this;y=w.Gq === k.ol.E_?h.fu.ZJa:h.fu.LP;return this.yPb().transform(w,y).then(function(x){var z,A;z=ma(x);x=z.next().value;A=z.next().value;!1;z=v.VIb(w,"licensedManifest" === A.Fm);return v.send(t,{url:A.Fm,name:z.ewb,Bj:z.Bj},x,void 0,void 0,y).then(function(B){var C;B=v.CU.create(B.result);C=B.Fa;A.Mx && (C=C.Pt.map(function(D){return D.Vg;}).filter(Boolean),0 < C.length?(C=v.cOb.gcb(C),A.Mx.ZPa(C),B.Mx=A.Mx,B.Coa=w.Gq === k.ol.MI,B.Boa=!0):A.Mx.close());B.wR=A.wR;B.IX=A.IX;!1;return B;});}).catch(function(x){!1;throw v.Nl(x);});};c.prototype.Kn=function(){return Promise.reject(Error("Links are not supported with manifest command"));};u=c;u=r.__decorate([(0,q.T)(),r.__param(0,(0,q.l)(g.rl)),r.__param(1,(0,q.l)(n.rn)),r.__param(2,(0,q.l)(m.FI)),r.__param(3,(0,q.l)(p.fda)),r.__param(4,(0,q.l)(a.vIa))],u);b.uIa=u;},73953:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D,F,G,E,J){this.Wg=x;this.platform=z;this.config=A;this.Pub=B;this.PUb=C;this.co=D;this.MR=F;this.qa=G;this.R6=E;this.Km=J;}Object.defineProperty(b,"__esModule",{value:!0});b.wIa=void 0;r=a(70655);k=a(86700);f=a(93);l=a(17244);d=a(36437);g=a(5872);n=a(69447);h=a(1092);m=a(811);p=a(35664);q=a(2467);u=a(94773);t=a(95538);w=a(66602);v=a(77003);y=a(41047);c.prototype.transform=function(x,z){var A,B,C,D,F,G,E,J;A=this;B=x.Wa;C=Object.assign({},B.Z1,B.bm);D={};F=x.J;G=this.config();D[F]={unletterboxed:!!C.preferUnletterboxed || G.yVb};E=G.p5b?30:25;G=G.Dr?this.co.cHb():Promise.resolve(this.R6.Ls());J={wd:null === B || void 0 === B?void 0:B.wd};return Promise.all([this.Km.b_a(J),this.Km.d_a(J),this.Km.pT(),this.Km.J4(),this.yGb(x.ma,z),this.eHb(x),G]).then(function(L){var N,I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,U;N=ma(L);I=N.next().value;O=N.next().value;K=N.next().value;H=N.next().value;M=N.next().value;L=N.next().value;R=N.next().value;N=I.Q4().concat(O.Q4()).concat(A.config().It).concat(["BIF240","BIF320"]).filter(Boolean);H=H?H.DEVICE_SECURITY_LEVEL:void 0;U="postplay" === B.wd?!0:!!C.isUIAutoPlay;K={type:"standard",manifestVersion:A.Wg.lWa?"v2":"v1",viewableId:F,profiles:N,flavor:x.Gq,drmType:R,drmVersion:E,usePsshBox:!0,isBranching:!!x.Wa.bg,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().v2b,imageSubtitleHeight:d.iea.KZa(),uiVersion:A.Wg.$v,uiPlatform:A.Wg.x$,clientVersion:A.platform.version,platform:null === (Y=A.config().nd) || void 0 === Y?void 0:Y.version,osVersion:null === (ca=null === (ea=A.config().nd) || void 0 === ea?void 0:ea.os) || void 0 === ca?void 0:ca.version,osName:null === (Ga=null === (oa=A.config().nd) || void 0 === oa?void 0:oa.os) || void 0 === Ga?void 0:Ga.name,supportsPreReleasePin:A.config().ip.n2b,supportsWatermark:A.config().ip.o2b,packageId:A.xIb(B),deviceSecurityLevel:H,videoOutputInfo:K,titleSpecificData:D,preferAssistiveAudio:!!C.assistiveAudioPreferred,preferredTextLocale:C.preferredTextLocale,preferredAudioLocale:C.preferredAudioLocale,isUIAutoPlay:U,challenge:M,isNonMember:A.Wg.u1a,pin:B.I6a,desiredVmaf:A.config().odb?A.config().gVa:A.config().hVa,desiredSegmentVmaf:A.config().odb?A.config().gVa:A.config().hVa,requestSegmentVmaf:A.config().EYb,supportsPartialHydration:A.Wg.HK,contentPlaygraph:x.Wa.bg?[]:A.Wg.PE,supportsAdBreakHydration:x.Wa.bg?!1:A.Wg.i$,auxiliaryManifestToken:x.Wa.bg?void 0:null === (Fa=x.If) || void 0 === Fa?void 0:Fa.bc,adBreakToken:x.Wa.bg?void 0:null === (Ja=x.If) || void 0 === Ja?void 0:Ja.Ji,originalPlaybackContextId:!x.Wa.bg && (null === (Xa=x.If) || void 0 === Xa?0:Xa.bc)?null === (cb=x.If) || void 0 === cb?void 0:cb.sV:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0};B.HWa && (K.extraParams=B.HWa);B.fVa && (K.desiredDownloadables=B.fVa);B.aua && (K.requestReference=B.aua);Y={Fm:K.adBreakToken?"adBreakHydration":L?"licensedManifest":"manifest",Mx:null === L || void 0 === L?void 0:L.Vy,wR:I,IX:O};L && (L={drmSessionId:L.Vy.Ux() || "session",clientTime:A.qa.oH.ba(q.sm),challengeBase64:L.oia},K.challenges={"default":[L]},K.profileGroups=[{name:"default",profiles:N}],K.licenseType=x.mf == y.yh.ln?"limited":"standard",x.ma && (K.xid=x.ma.toString()));A.Wg.HK || (K.showAllSubDubTracks=A.config().ip.K0b || !!C.showAllSubDubTracks,A.Wg.dWa && x.Gq === f.ol.E_ && (K.maxSupportedLanguages=2));x.dO && (K.originalPlaybackContextId=x.dO.sV,K.requiredAudioTrackId=x.dO.IYb,K.requiredTextTrackId=x.dO.LYb);return [K,Y];});};c.prototype.xIb=function(x){if(this.config().G8.enabled){if(void 0 !== x.cn)return x.cn;if(void 0 !== this.config().G8.cn)return Number(this.config().G8.cn);}};c.prototype.yGb=function(x,z){var A;A=this;return this.Pub.nYa(z).then(function(B){var C;C=x && A.PUb.CIb(x);C && C.Wo("cad");return B;});};c.prototype.eHb=function(x){var z;if(void 0 === x.mf || !this.config().Dr)return Promise.resolve(void 0);z=x.mf === y.yh.qm && this.Wg.Xu;return x.mf === y.yh.ln && this.Wg.SA || z?this.MR.Vma(x.mf):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(t.Kw)),r.__param(1,(0,k.l)(m.rn)),r.__param(2,(0,k.l)(l.ac)),r.__param(3,(0,k.l)(g.Uza)),r.__param(4,(0,k.l)(n.uda)),r.__param(5,(0,k.l)(h.Dw)),r.__param(6,(0,k.l)(u.pY)),r.__param(7,(0,k.l)(p.gg)),r.__param(8,(0,k.l)(w.Bca)),r.__param(9,(0,k.l)(v.rw))],a);b.wIa=a;},59713:function(r,b,a){var k,f,l,d,g;function c(n){return d.hh.call(this,n,f.U.rkb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xIa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(88052);d=a(92933);a=a(20743);ia(c,d.hh);c.prototype.Bf=function(n,h,m){var p;p=this;return this.send(n,{url:"/" + l.Gg.ping,name:l.Gg.ping,Bj:l.Gg.ping},h,void 0,m).then(function(q){return q.result;}).catch(function(q){throw p.Nl(q);});};c.prototype.Kn=function(){return Promise.reject(Error("Links are unsupported with ping"));};g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.rl))],g);b.xIa=g;},13878:function(r,b,a){var k,f,l,d,g;function c(n){return d.hh.call(this,n,f.U.Kda,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KIa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(88052);d=a(92933);a=a(20743);ia(c,d.hh);c.prototype.Bf=function(n,h){var m;m=this;return this.send(n,{url:"/bundle",name:l.Gg.Vg,Bj:"release/license"},h).then(function(p){return p.result;}).catch(function(p){throw m.Nl(p);});};c.prototype.Kn=function(){return Promise.reject(Error("Links are unsupported with release"));};g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.rl))],g);b.KIa=g;},9270:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p,q){this.platform=h;this.config=m;this.MR=p;this.Km=q;}Object.defineProperty(b,"__esModule",{value:!0});b.OIa=void 0;r=a(70655);k=a(86700);f=a(17244);l=a(811);d=a(94773);g=a(77003);n=a(41047);c.prototype.transform=function(h){var m,p,q;m=this;p=h.Wa;q={wd:void 0};return Promise.all([this.Km.b_a(q),this.Km.d_a(q),this.MR.Vma(n.yh.qm)]).then(function(u){var t,w;t=ma(u);u=t.next().value;w=t.next().value;t=t.next().value;return [{viewableId:h.J,packageId:p.cn,assetId:p.pha,challenge:t.oia,audioProfiles:u.Q4(),textProfiles:m.config().It,trickplayProfiles:["BIF240","BIF320"],videoProfiles:w.Q4(),audioLanguages:p.Asb,textLanguages:p.O2b,videoLanguages:p.Hdb?[p.Hdb]:void 0,requestReference:p.aua,additionalAudioAssets:p.brb,additionalTextAssets:p.erb,useBetterTextUrls:!0},{Mx:null === t || void 0 === t?void 0:t.Vy,Fm:"studioManifest",wR:u,IX:w}];});};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.rn)),r.__param(1,(0,k.l)(f.ac)),r.__param(2,(0,k.l)(d.pY)),r.__param(3,(0,k.l)(g.rw))],a);b.OIa=a;},41596:function(r,b,a){var k,f,l,d,g;function c(n){return l.$p.call(this,n,f.U.PKa,d.yo.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(1841);d=a(8010);a=a(20743);ia(c,l.$p);g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.rl))],g);b.vLa=g;},30859:function(r,b,a){var k,f,l,d,g;function c(n){return l.$p.call(this,n,f.U.Clb,d.yo.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ALa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(1841);d=a(8010);a=a(20743);ia(c,l.$p);g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.rl))],g);b.ALa=g;},48529:function(r,b,a){var k,f,l,d,g;function c(n){return l.$p.call(this,n,f.U.Dlb,d.yo.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GLa=void 0;r=a(70655);k=a(86700);f=a(68172);l=a(1841);d=a(8010);a=a(20743);ia(c,l.$p);g=c;g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.rl))],g);b.GLa=g;},48350:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p,q,u){m=f.Se.call(this,m,"PboConfigImpl") || this;m.config=p;m.Brb=q;m.Lf=u;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.fIa=void 0;r=a(70655);k=a(86700);f=a(90187);l=a(59578);d=a(54662);g=a(17244);n=a(39141);a=a(65350);ia(c,f.Se);Wa.Object.defineProperties(c.prototype,{$v:{configurable:!0,enumerable:!0,get:function(){return this.config().ip.$v || "";}},x$:{configurable:!0,enumerable:!0,get:function(){return this.config().ip.x$ || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().ip.Lsa;}},u1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},h$a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.Brb.BRa,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.i$a);}},i$a:{configurable:!0,enumerable:!0,get:function(){return {};}},x8a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Kna:{configurable:!0,enumerable:!0,get:function(){return 10;}},oQa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Xu:{configurable:!0,enumerable:!0,get:function(){return this.Lf.Xu;}},SA:{configurable:!0,enumerable:!0,get:function(){return this.Lf.SA;}},$H:{configurable:!0,enumerable:!0,get:function(){return this.Lf.$H;}},udb:{configurable:!0,enumerable:!0,get:function(){return !1;}},dWa:{configurable:!0,enumerable:!0,get:function(){return !0;}},ndb:{configurable:!0,enumerable:!0,get:function(){return [];}},lWa:{configurable:!0,enumerable:!0,get:function(){return !0;}},HK:{configurable:!0,enumerable:!0,get:function(){return this.Lf.HK;}},PE:{configurable:!0,enumerable:!0,get:function(){return this.Lf.PE;}},i$:{configurable:!0,enumerable:!0,get:function(){return this.Lf.i$;}}});h=c;r.__decorate([d.config(d.string,"uiVersion")],h.prototype,"$v",null);r.__decorate([d.config(d.string,"uiPlatform")],h.prototype,"x$",null);r.__decorate([d.config(d.dz,"pboVersion")],h.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],h.prototype,"organization",null);r.__decorate([d.config(d.DH,"pboLanguages")],h.prototype,"languages",null);r.__decorate([d.config(d.Pc,"hasLimitedPlaybackFunctionality")],h.prototype,"u1a",null);r.__decorate([d.config(d.object(),"pboCommands")],h.prototype,"h$a",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],h.prototype,"i$a",null);r.__decorate([d.config(d.Pc,"pboRecordHistory")],h.prototype,"x8a",null);r.__decorate([d.config(d.dz,"pboHistorySize")],h.prototype,"Kna",null);r.__decorate([d.config(d.Pc,"pboAddXEsnHeader")],h.prototype,"oQa",null);r.__decorate([d.config(d.Pc,"combineManifestAndLicense")],h.prototype,"Xu",null);r.__decorate([d.config(d.Pc,"enableLicensedManifestForPrefetch")],h.prototype,"SA",null);r.__decorate([d.config(d.Pc,"useLdlForPrefetchLicensedManifest")],h.prototype,"$H",null);r.__decorate([d.config(d.Pc,"pboUseStudioManifest")],h.prototype,"udb",null);r.__decorate([d.config(d.Pc,"pboEnableLeanManifest")],h.prototype,"dWa",null);r.__decorate([d.config(d.Pc,"useHeaderForRequestNames")],h.prototype,"ndb",null);r.__decorate([d.config(d.Pc,"pboEnableV2OptimizedManifest")],h.prototype,"lWa",null);r.__decorate([d.config(d.Pc,"pboEnableManifestPartialHydrationSupport")],h.prototype,"HK",null);r.__decorate([d.config(d.DH,"pboContentPlaygraphTypes")],h.prototype,"PE",null);r.__decorate([d.config(d.Pc,"pboSupportsAdBreakHydration")],h.prototype,"i$",null);h=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.ul)),r.__param(1,(0,k.l)(g.ac)),r.__param(2,(0,k.l)(n.eY)),r.__param(3,(0,k.l)(a.OI))],h);b.fIa=h;},737:function(r,b,a){var l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B;function c(C){this.config=C;this.zx=[];}function k(C,D,F){this.Ea=C;this.gO=D;this.context=F;this.startTime=this.Ea.Eb();}function f(C,D,F,G,E,J,L,N,I,O){this.lcb=D;this.json=F;this.Ea=G;this.Js=E;this.pta=J;this.wc=L;this.config=N;this.Db=I;this.receiver=O;this.log=C.Ua("Pbo");N.x8a && (this.zx=new c(N));this.gO=this.lcb();}Object.defineProperty(b,"__esModule",{value:!0});b.gIa=void 0;r=a(70655);l=a(86700);d=a(2467);g=a(79596);n=a(71163);h=a(63088);m=a(58998);p=a(53685);q=a(16690);u=a(65428);t=a(55727);w=a(95538);v=a(1265);y=a(34202);x=a(88052);z=a(14944);a=a(19391);A={"shakti-":"akira"};f.prototype.send=function(C,D){var F;F=new k(this.Ea,this.gO,C);this.zx && this.zx.append(F);return this.$ua(C,D,F);};f.prototype.$ua=function(C,D,F){var G;G=this;return new Promise(function(E,J){G.retry(C,D).then(function(L){var N,I;G.f_b(L);N=ma(G.F5b(L));I=N.next().value;N=N.next().value;I && (G.receiver.lta({command:C.Fm,inputs:D,outputs:I}),G.Vvb(F),E(L));N && (G.receiver.lta({command:C.Fm,inputs:D,outputs:N}),G.$Sa(F,N),J(N));}).catch(function(L){var N;G.receiver.lta({command:C.Fm,inputs:D,outputs:L});N=G.$Sa(F,L);L.Jb && (L.Jb=[L.Jb," ",N].join(""));J(L);});});};f.prototype.f_b=function(C){(C=C.serverTime) && this.Db.Dc(y.Xba.g$a,(0,d.Kb)(C));};f.prototype.F5b=function(C){var D;!1;D=C.result;if(("deviceCommand" in C)){C=C.deviceCommand;this.log.trace("Received device command '" + C + "'");switch(C){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + C + "'"));}return [,{dC:!0,code:D,detail:{message:"Server sent device action to '" + C + "' device"}}];}if(D)return (!1,[D,void 0]);if(C.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",C),[,{code:C.code,detail:{message:C.message}}]);this.log.error("Response did not contain a result or an error",C);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};f.prototype.tsb=function(C,D,F){var G;G=this;this.$4b(D,C);this.gO=this.lcb(F);return this.gO.send(D,F).then(function(E){return {retry:!1,result:z.k_.iUb(G.json,E.body)};}).catch(function(E){var J,L;J=z.k_.YHb(E);L=void 0 !== J?Math.min(J,D.qua):D.qua;return G.K9(D,E,C,L)?(J=G.vub(E,C,L),G.log.warn("Method failed, retrying",Object.assign({Method:D.Fm,Attempt:C + 1,WaitTime:J,MaxRetries:L},G.Ija(E))),Promise.resolve({retry:!0,delay:J,error:E})):Promise.resolve({retry:!1,error:E});});};f.prototype.WFb=function(C){var D,F;if(!this.oga || this.oga.ETb !== C){D="";F=C;Object.entries(A).find(function(G){var E;E=ma(G);G=E.next().value;E=E.next().value;if(0 === C.indexOf(G))return (D=E,C=C.slice(G.length),!0);});this.oga={WSa:D,$v:C,ETb:F};}return this.oga;};f.prototype.$4b=function(C,D){var F,G,E,J;J=C.url.searchParams;J.set(x.Kz.EKa,(D + 1).toString());this.config.ndb.includes(C.Bj)?C.headers[x.klb.Pda]=C.Bj:J.set(x.Kz.Pda,C.Bj);C=this.WFb(null !== (F=this.config.$v) && void 0 !== F?F:"");C.WSa && (J.set(x.Kz.wAa,C.WSa),C.$v && J.set(x.Kz.AMa,encodeURIComponent(C.$v)),F=this.Js.nd,(null === F || void 0 === F?0:F.name) && J.set(x.Kz.Hza,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && J.set(x.Kz.Mza,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && J.set(x.Kz.rHa,encodeURIComponent(F.os.name)),(null === (E=null === F || void 0 === F?void 0:F.os) || void 0 === E?0:E.version) && J.set(x.Kz.sHa,encodeURIComponent(F.os.version)));};f.prototype.retry=function(C,D,F){var G;G=this;F=void 0 === F?0:F;return this.tsb(F++,C,D).then(function(E){if(E.retry)return G.wait(E.delay).then(function(){return G.retry(C,D,F);});if(E.error)throw E.error;if(void 0 === E.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return E.result;});};f.prototype.K9=function(C,D,F,G){var E;E=z.k_.dNb(D);if(E && F < G)return !0;E?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:C.Fm,Attempt:F + 1,MaxRetries:G},this.Ija(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:C.Fm},this.Ija(D)));return !1;};f.prototype.vub=function(C,D,F){if(C && C.tC && void 0 !== C.tC.retryAfterSeconds)return (0,d.uh)(C.tC.retryAfterSeconds);C=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,F));return (0,d.Kb)(this.pta.$7a(C,D));};f.prototype.wait=function(C){var D;D=this;return new Promise(function(F){D.wc.Ij(C || d.Ia,F);});};f.prototype.Ija=function(C){return (0,t.w1a)(C)?C:{message:C.message,subCode:C.ic,extCode:C.Qc,mslCode:C.xy,data:C.data};};f.prototype.Vvb=function(C){C.QN();};f.prototype.$Sa=function(C,D){var F;C.Fs(D);if(this.zx)try{F=this.json.stringify(this.zx);this.log.error("PBO command history",F);return F;}catch(G){}return "";};B=f;B=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(n.Xa)),r.__param(1,(0,l.l)(g.qMa)),r.__param(2,(0,l.l)(h.fD)),r.__param(3,(0,l.l)(m.Jc)),r.__param(4,(0,l.l)(p.kn)),r.__param(5,(0,l.l)(q.y_)),r.__param(6,(0,l.l)(u.Ci)),r.__param(7,(0,l.l)(w.Kw)),r.__param(8,(0,l.l)(v.Eba)),r.__param(9,(0,l.l)(a.ida))],B);b.gIa=B;k.prototype.QN=function(){this.ia=!0;this.elapsedTime=this.Ea.Eb().wa(this.startTime);};k.prototype.Fs=function(C){this.ia=!1;this.elapsedTime=this.Ea.Eb().wa(this.startTime);this.X1b=C.ic || C.subCode;this.LDb=C.Qc || C.extCode;};k.prototype.toString=function(){return JSON.stringify(this);};k.prototype.toJSON=function(){var C;C=Object.assign({success:this.ia,method:this.context.Fm,startTime:this.startTime.ba(d.oa),elapsedTime:this.elapsedTime?this.elapsedTime.ba(d.oa):"in progress"},this.gO.eja());return this.ia?C:Object.assign(Object.assign(Object.assign({},C),this.gO.eja()),{subcode:this.X1b,extcode:this.LDb});};c.prototype.append=function(C){this.zx.push(C);0 < this.config.Kna && this.zx.length > this.config.Kna && this.zx.shift();};c.prototype.toJSON=function(){return this.zx;};},14944:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.k_=void 0;k=a(68172);c.dNb=function(f){var l,d;l=f && f.code;d=f && (f.xa || f.ic);f=f.Qc !== k.NZ.WHa;d=!!d && d >= k.R.gP && d <= k.R.eP && f;return !("RETRY" !== l && "FAIL" !== l) || d;};c.YHb=function(f){var l,d;d=null === (l=null === f || void 0 === f?void 0:f.tC) || void 0 === l?void 0:l.maxRetries;return "number" === typeof d?d:"FAIL" === (null === f || void 0 === f?void 0:f.code)?1:void 0;};c.iUb=function(f,l){var d;if(l){try{d=f.parse(l);}catch(g){throw {dC:!0,code:"FAIL",message:"Unable to parse the response body",data:l};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (f=d.result.find(function(g){return g.error;})))throw f.error;return d;}throw {dC:!0,code:"FAIL",message:"There is no result property on the response"};}throw {dC:!0,code:"FAIL",message:"There is no body property on the response"};};b.k_=c;},52463:function(r,b,a){var k,f,l;function c(d,g){this.YE=g;this.log=d.Ua("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.qIa=void 0;r=a(70655);k=a(86700);f=a(71163);a=a(15303);c.prototype.Bga=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.jL=function(d){!1;return this.links[d];};l=c;l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(a.tw))],l);b.qIa=l;},96026:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.JIa=void 0;r=a(70655);a=a(86700);c.prototype.J_b=function(f){this.listener=f;};c.prototype.lta=function(f){var l;null === (l=this.listener) || void 0 === l?void 0:l.call(this,f);};k=c;k=r.__decorate([(0,a.T)()],k);b.JIa=k;},58820:function(r,b,a){var f,l;function c(d,g,n,h,m,p,q){this.version=d;this.url=g;this.id=n;this.languages=h;this.nb=m;this.TBb=p;this.nRb=q;}function k(d){this.Wg=d;}Object.defineProperty(b,"__esModule",{value:!0});b.MIa=void 0;r=a(70655);f=a(86700);a=a(95538);k.prototype.create=function(d,g,n,h,m){return new c(this.Wg.version,g,d,this.Wg.languages,n,h,m);};l=k;l=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(a.Kw))],l);b.MIa=l;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.nb,echo:this.TBb};};},96658:function(r,b,a){var c,k,f,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(86700);c=a(60070);k=a(79596);f=a(71946);l=a(17895);d=a(80778);g=a(53685);b.transports=new r.$c(function(n){n(c.R_).to(d.pMa).da();n(k.QGa).to(f.PGa);n(k.yLa).to(l.xLa);n(k.qMa).Vd(function(h){return function(m){var p;return h.hb.get(c.R_).L9(null !== (p=null === m || void 0 === m?void 0:m.nRb) && void 0 !== p?p:g.fu.LP)?h.hb.get(k.QGa):h.hb.get(k.yLa);};});});},79596:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qMa="TransportFactorySymbol";b.QGa="MslTransportSymbol";b.yLa="SslTransportSymbol";},60070:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.R_="TransportConfigSymbol";},71946:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p){var q;q=this;this.XB=m;this.profile=p;this.log=h.Ua("MslTransport");this.XB().then(function(u){return q.o7=u;});}Object.defineProperty(b,"__esModule",{value:!0});b.PGa=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(53713);d=a(2467);a=a(98540);g={license:!0};c.prototype.send=function(h,m){var p,q;p=this;q={Iqa:Object.assign({Ie:h.Ie,log:h.log,profile:this.profile},h.ltb),method:h.Fm,url:h.url.href,body:JSON.stringify(m),timeout:h.timeout.ba(d.oa),wdb:this.profile,pYb:!g[h.Fm],i5a:!!g[h.Fm],hF:!0,Qp:h.qua,headers:h.headers};!1;return this.XB().then(function(u){return u.send(q).catch(function(t){var w;if(!t.error)throw (t.ic=t.xa || t.ic,t);w=t.error;w.tC=t.tC;p.log.error("Error sending MSL request",{mslCode:w.xy,subCode:w.ic,data:w.data,message:w.message});throw w;});});};c.prototype.eja=function(){var h;return {userTokens:null === (h=this.o7) || void 0 === h?void 0:h.WU.getUserIdTokenKeys()};};n=c;n=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(l.CP)),r.__param(2,(0,k.l)(a.SI))],n);b.PGa=n;},17895:function(r,b,a){var k,f,l,d;function c(g,n){this.Ie=n;this.log=g.Ua("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.xLa=void 0;r=a(70655);k=a(86700);f=a(2467);l=a(71163);a=a(5485);c.prototype.send=function(g,n){var h,m;h=this;m={url:g.url.href,MA:"nq-" + g.Fm,j7a:JSON.stringify(n),H2:g.timeout.ba(f.oa),headers:g.headers,withCredentials:!0,nr:"pbo"};!1;return new Promise(function(p,q){h.Ie.download(m,function(u){u.ia?p(u):q(u);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.ic=p.xa || p.ic,p);q=p.error;q.tC=p.tC;h.log.error("Error sending SSL request",{subCode:q.ic,data:q.content,message:q.message});throw q;});};c.prototype.eja=function(){return {};};d=c;d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.Xa)),r.__param(1,(0,k.l)(a.bu))],d);b.xLa=d;},80778:function(r,b,a){var k,f,l,d,g;function c(n){return f.Se.call(this,n,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.pMa=void 0;r=a(70655);k=a(86700);f=a(90187);l=a(59578);d=a(54662);g=a(53685);ia(c,f.Se);c.prototype.L9=function(n){var h,m;h=this.lO;m=this.xQa;switch(n){case g.fu.LP:return h;case g.fu.ZJa:return h && !m;case g.fu.Ljb:return !1;}};Wa.Object.defineProperties(c.prototype,{lO:{configurable:!0,enumerable:!0,get:function(){return !0;}},xQa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.Pc,"usesMsl")],a.prototype,"lO",null);r.__decorate([d.config(d.Pc,"allowRequestsWithoutMsl")],a.prototype,"xQa",null);a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.ul))],a);b.pMa=a;},62298:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mda="PlatformEmeSymbol";},64615:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.T_="UserAgentDataPlatformVersionProviderSymbol";},20401:function(r,b,a){var g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C;function c(D,F,G){this.Cn=D;this.groups=F;this.prefix=G;D=v(D,F,G);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function k(){}function f(){}function l(){return w?w:"0.0.0.0";}function d(D){D({Zec:0,ogc:0,udc:0,Scc:0});}g=a(28075);k.prototype.set=function(D,F){m[D]=F;p.save(D,F);};k.prototype.get=function(D,F){if(m.hasOwnProperty(D))return m[D];t.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(G){G.ia?(m[D]=G.data,F && F(G.data)):m[D]=void 0;});};k.prototype.remove=function(D){p.remove(D);};k.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};f.prototype.now=function(){return q();};f.prototype.Ga=function(){return u();};f.prototype.Gqa=function(D){return D + q() - u();};f.prototype.fra=function(D){return D + u() - q();};c.prototype.lUa=function(D){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,da(this.prefix)):this.prefix && F.push(this.prefix);F.push(D);return new c(this.Cn,this.groups,F);};y=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();r.exports=function(D){n=D.i8;v=D.Si;p=D.storage;m=D.UL;q=D.oIb;u=D.getTime;t=D.Vrb;x=D.cq;C=D.fj;z=D.qI;A=D.SourceBuffer;B=D.MediaSource;w=D.Ldc;h=D.xs;return {name:"cadmium",xs:h,i8:n,storage:new k(),Storage:k,time:new f(),events:new g.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:y,cq:x,qI:z,D9b:A,MediaSource:B,fj:C,ho:{name:l},memory:{gdc:d},iT:D.iT,X2:D.X2,Kja:D.Kja,ping:function(F){fetch(F).catch(function(){});}};};},33888:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.et,minHCInitVideoBitrate:a.PQb,maxInitVideoBitrate:a.ty,minInitAudioBitrate:a.TU,maxInitAudioBitrate:a.HU,minHCInitAudioBitrate:a.e7,minAcceptableVideoBitrate:a.a7,minRequiredBuffer:a.TB,minPrebufSize:a.Zq,minCheckBufferingCompleteInterval:a.zqa,rebufferingFactor:a.xta,useMaxPrebufSize:a.rxa,maxPrebufSize:a.QB,maxRebufSize:a.fqa,maxBufferingTime:a.Xq,minAudioMediaRequestSizeBytes:a.yqa,minVideoMediaRequestSizeBytes:a.Cqa,initialBitrateSelectionCurve:a.A5,initSelectionLowerBound:a.D0a,initSelectionUpperBound:a.E0a,throughputPercentForAudio:a.iX,bandwidthMargin:a.Dha,bandwidthMarginContinuous:a.Eha,bandwidthMarginCurve:a.Fha,conservBandwidthMargin:a.aja,switchConfigBasedOnInSessionTput:a.qwa,conservBandwidthMarginTputThreshold:a.cja,conservBandwidthMarginCurve:a.bja,switchAlgoBasedOnHistIQR:a.pbb,switchConfigBasedOnThroughputHistory:a.rwa,maxPlayerStateToSwitchConfig:a.T3a,lowEndMarkingCriteria:a.h3a,IQRThreshold:a.nEa,histIQRCalcToUse:a.Y_a,maxTotalBufferLevelPerSession:a.KU,highWatermarkLevel:a.T_a,toStableThreshold:a.Wbb,toUnstableThreshold:a.q$,skipBitrateInUpswitch:a.Nva,watermarkLevelForSkipStart:a.Ixa,highStreamRetentionWindow:a.Gna,lowStreamTransitionWindow:a.Hpa,highStreamRetentionWindowUp:a.Ina,lowStreamTransitionWindowUp:a.Jpa,highStreamRetentionWindowDown:a.Hna,lowStreamTransitionWindowDown:a.Ipa,highStreamInfeasibleBitrateFactor:a.Fna,lowestBufForUpswitch:a.oy,lockPeriodAfterDownswitch:a.wU,lowWatermarkLevel:a.Mpa,lowestWaterMarkLevel:a.py,lowestWaterMarkLevelBufferRelaxed:a.Npa,mediaRate:a.T6,maxTrailingBufferLen:a.L6,audioBufferTargetAvailableSize:a.sha,videoBufferTargetAvailableSize:a.wxa,maxVideoTrailingBufferSize:a.a4a,maxAudioTrailingBufferSize:a.F3a,fastUpswitchFactor:a.R3,fastDownswitchFactor:a.cla,maxMediaBufferAllowed:a.oG,simulatePartialBlocks:a.gab,simulateBufferFull:a.fab,considerConnectTime:a.dja,connectTimeMultiplier:a.$ia,lowGradeModeEnterThreshold:a.iPb,lowGradeModeExitThreshold:a.jPb,maxDomainFailureWaitDuration:a.I3a,maxAttemptsOnFailure:a.Zpa,enableMaxAttemptsOnFailure:a.wka,exhaustAllLocationsForFailure:a.DWa,maxNetworkErrorsDuringBuffering:a.P3a,maxBufferingTimeAllowedWithNetworkError:a.G6,fastDomainSelectionBwThreshold:a.PWa,throughputProbingEnterThreshold:a.Ebb,throughputProbingExitThreshold:a.Fbb,locationProbingTimeout:a.Y2a,finalLocationSelectionBwThreshold:a.WWa,throughputHighConfidenceLevel:a.Cbb,throughputLowConfidenceLevel:a.Dbb,locationStatisticsUpdateInterval:a.upa,enablePerfBasedLocationSwitch:a.iWa,probeServerWhenError:a.YG,probeRequestTimeoutMilliseconds:a.Wsa,allowSwitchback:a.mR,probeDetailDenominator:a.A7a,maxDelayToReportFailure:a.H6,countGapInBuffer:a.Pwb,bufferThresholdForAbort:a.Ftb,allowCallToStreamSelector:a.qrb,pipelineScheduleTimeoutMs:a.DUb,maxPartialBuffersAtBufferingStart:a.bM,maxActiveRequestsSABCell100:a.D3a,maxStreamingSkew:a.dQb,maxPendingBufferPercentage:a.XPb,headerRequestSize:a.l5,estimateHeaderSize:a.Kka,minBufferLenForHeaderDownloading:a.c7,reserveForSkipbackBufferMs:a.hua,numExtraFragmentsAllowed:a.fSb,pipelineEnabled:a.jo,maxParallelConnections:a.dqa,socketReceiveBufferSize:a.nab,audioSocketReceiveBufferSize:a.V1,videoSocketReceiveBufferSize:a.O$,headersSocketReceiveBufferSize:a.Dna,updatePtsIntervalMs:a.O4b,bufferTraceDenominator:a.Itb,bufferLevelNotifyIntervalMs:a.LRa,aseReportDenominator:a.tR,aseReportIntervalMs:a.nha,enableAbortTesting:a.hCb,abortRequestFrequency:a.$pb,streamingStatusIntervalMs:a.R1b,prebufferTimeLimit:a.IV,minBufferLevelForTrackSwitch:a.r4a,penaltyFactorForLongConnectTime:a.gsa,longConnectTimeThreshold:a.Fpa,additionalBufferingLongConnectTime:a.Pga,additionalBufferingPerFailure:a.Qga,rebufferCheckDuration:a.WV,enableLookaheadHints:a.zCb,lookaheadFragments:a.gPb,enableOCSideChannel:a.IK,OCSCBufferQuantizationConfig:a.f_,updateDrmRequestOnNetworkFailure:a.Kcb,deferAseScheduling:a.EAb,maxDiffAudioVideoEndPtsMs:a.NPb,defaultHeaderCacheSize:a.Pja,defaultHeaderCacheDataPrefetchMs:a.Oja,neverWipeHeaderCache:a.Oqa,networkFailureResetWaitMs:a.Mqa,networkFailureAbandonMs:a.Lqa,maxThrottledNetworkFailures:a.K6,throttledNetworkFailureThresholdMs:a.l$,lowThroughputThreshold:a.Lpa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Tka,mp4ParsingInNative:a.jRb,sourceBufferInOrderAppend:a.h1b,requireAudioStreamToEncompassVideo:a.jN,allowAudioToStreamPastVideo:a.prb,enableManagerDebugTraces:a.fWa,managerDebugMessageInterval:a.q3a,managerDebugMessageCount:a.p3a,bufferThresholdToSwitchToSingleConnMs:a.Htb,bufferThresholdToSwitchToParallelConnMs:a.Gtb,netIntrStoreWindow:a.tRb,minNetIntrDuration:a.RQb,fastHistoricBandwidthExpirationTime:a.VDb,bandwidthExpirationTime:a.Zsb,failureExpirationTime:a.UDb,historyTimeOfDayGranularity:a.QKb,expandDownloadTime:a.DDb,minimumMeasurementTime:a.$Qb,minimumMeasurementBytes:a.ZQb,throughputMeasurementTimeout:a.Y2b,initThroughputMeasureDataSize:a.RLb,throughputMeasureWindow:a.X2b,throughputIQRMeasureWindow:a.W2b,IQRBucketizerWindow:a.Nib,connectTimeHalflife:a.twb,responseTimeHalflife:a.WYb,historicBandwidthUpdateInterval:a.PKb,throughputWarmupTime:a.c3b,minimumBufferToStopProbing:a.YQb,throughputPredictor:a.Z2b,ase_stream_selector:a.Zrb,enableFilters:a.rCb,filterDefinitionOverrides:a.kEb,defaultFilter:a.nAb,secondaryFilter:a.HZb,defaultFilterDefinitions:a.oAb,initBitrateSelectorAlgorithm:a.goa,bufferingSelectorAlgorithm:a.Rha,ase_ls_failure_simulation:a.Wzb,ase_dump_fragments:a.Gja,ase_location_history:a.Hja,ase_throughput:a.IUa,ase_simulate_verbose:a.Xzb,secondThroughputEstimator:a.Pua,secondThroughputMeasureWindowInMs:a.P9a,marginPredictor:a.Vpa,networkMeasurementGranularity:a.Nqa,HistoricalTDigestConfig:a.EDa,maxIQRSamples:a.N3a,minIQRSamples:a.u4a,periodicHistoryPersistMs:a.f8,saveVideoBitrateMs:a.q9,needMinimumNetworkConfidence:a.Kqa,biasTowardHistoricalThroughput:a.Iha,maxFastPlayBufferInMs:a.aqa,maxFastPlayBitThreshold:a.K3a,minAudioMediaRequestDuration:a.yv,minVideoMediaRequestDuration:a.wy,minAudioMediaRequestDurationCache:a.yv,minVideoMediaRequestDurationCache:a.wy,addHeaderDataToNetworkMonitor:a.Aga,hindsightDenominator:a.W_a,hindsightDebugDenominator:a.V_a,hindsightParam:a.X_a,minimumTimeBeforeBranchDecision:a.j7,minimumTimeBeforeDelayedSeekToQueuedSegment:a.D4a,enableSessionHistoryReport:a.jWa,earlyStageEstimatePeriod:a.KVa,lateStageEstimatePeriod:a.A2a,maxNumSessionHistoryStored:a.Q3a,minSessionHistoryDuration:a.y4a,appendMediaRequestOnComplete:a.JQa,waitForDrmToAppendMedia:a.Dxa,forceAppendHeadersAfterDrm:a.Ala,startMonitorOnLoadStart:a.Uva,reportFailedRequestsToNetworkMonitor:a.Tta,reappendRequestsOnSkip:a.gXb,maxActiveRequestsPerSession:a.GU,limitAudioDiscountByMaxAudioBitrate:a.npa,appendFirstHeaderOnComplete:a.bha,maxAudioFragmentOverlapMs:0,editVideoFragments:a.ZBb,declareBufferingCompleteAtSegmentEnd:a.KUa,applyProfileTimestampOffset:a.rR,profileTimestampOffsets:a.D8,applyProfileStreamingOffset:a.Bm,mediaSourceSupportsNegativePts:a.V6,requireDownloadDataAtBuffering:a.cua,requireSetupConnectionDuringBuffering:a.dua,recordFirstFragmentOnSubBranchCreate:a.w8a,earlyAppendSingleChildBranch:a.JVa,selectStartingVMAFMethod:a.vN,activateSelectStartingVMAF:a.cR,minStartingVideoVMAF:a.ft,minAcceptableVMAF:a.RU,minAllowedVmaf:a.tG,alwaysNotifyEOSForPlaygraph:a.yrb,enableNewAse:a.DCb,useNewApi:a.k5b,enableCombinedPlaygraphs:a.vS,enableAdPlaygraphs:a.gF,retainSbrOnFade:a.f9,excludedContentPlaygraphIds:a.Uka,enableDiscontiguousBuffering:a.A3,forceImmediateTransitionTypeForTitles:a.Dla,forceImmediateTransitionExitZone:a.Cla,useBufferSizeLimiter:a.C$,useLegacyFragmentRounding:a.j5b,maxAllowedOutstandingRequests:a.F6,alwaysRunUnderflowTimer:a.SJ,minStreamableConcurrencyWindow:a.Aqa,streamableConcurrencyFactor:a.fwa,bufferingConcurrencyWindow:a.IR,singleStreamablePerBranch:a.T0b,enableResolutionVMAFStreamFilter:a.D3,resolutionVMAFCappingRuleList:a.e9,percentCapTitlesForResolutionVMAFStreamFilter:a.jsa,useExitZones:a.qxa,perFragmentVMAFConfig:a.FM,enableInitialTputLogging:a.bWa,maxResponsesInitialTput:a.ZPb,paddingDurationMs:a.Tra,paddingMediaType:a.Ura,supportsPtsChanged:a.nbb,ciPredictorSource:a.Bia,experimentalFilter:a.EDb,simulationDurationStrategy:a.Lva,liveTargetBufferDuration:a.sU,liveEdgeCushion:a.t6,liveSwitchStreamsOnErrorInPipeline:a.y6};};},19618:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L,N,I,O,K,H,M;Object.defineProperty(b,"__esModule",{value:!0});b.Q2a=void 0;c=a(56432);k=a(23975);f=a(26620);l=a(8436);d=a(32408);g=a(6474);n=a(90642);h=a(74039);m=a(8028);p=a(31731);q=a(23541);u=a(65906);t=a(56243);w=a(422);v=a(99088);y=a(78113);x=a(83245);z=a(907);A=a(34886);B=a(7282);C=a(40517);D=a(38229);F=a(99216);G=a(45086);E=a(43357);J=a(38298);L=a(38246);N=a(21060);I=a(96658);O=a(10561);K=a(38184);H=a(4871);M=a(3797);b.Q2a=function(R){R.load(c.Bx,n.KH,k.g3a,h.Km,f.G4a,l.L,d.Kdb,g.Z_a,m.storage,p.WJ,q.YRa,u.u3a,t.XB,w.Jk,v.f3a,y.V4a,x.KXa,z.P7a,A.QG,B.HVa,C.OVa,D.Yd,F.Zc,G.Za,E.N4a,J.C6a,L.j,N.iTa,I.transports,O.Qk,K.Kg,H.gRa,M.W);};},84722:function(r,b,a){var c,k,f,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.dc=void 0;r=a(86700);c=a(98540);k=a(49054);f=a(40517);l=a(10459);d=a(76427);g=a(19618);a=a(72288);b.dc=new r.rY({uH:!0});(0,g.Q2a)(b.dc);b.dc.load(k.platform);b.dc.load(l.config);f.DK.load(d.PVa);b.dc.load(a.FQa);b.dc.load(a.profile);b.dc.bind(c.AEa).kl(b.dc);},31020:function(r,b,a){var k,f,l,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.FMa=void 0;r=a(70655);l=a(86700);a=a(50876);d={hU:!1,reason:"uninitialized"};null === (f=null === (k=null === a.Ae || void 0 === a.Ae?void 0:a.Ae.userAgentData) || void 0 === k?void 0:k.getHighEntropyValues) || void 0 === f?void 0:f.call(k,["platformVersion"]).then(function(g){d=(g=g.platformVersion)?{hU:!0,version:g}:{hU:!1,reason:"undefined"};}).catch(function(){d={hU:!1,reason:"exception"};});Wa.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});k=c;k=r.__decorate([(0,l.T)()],k);b.FMa=k;},69780:function(r,b,a){var c,k,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.pYa=b.oYa=b.qYa=void 0;c=a(77003);k=a(56261);f=a(77878);l=a(77828);b.qYa=function(d){return Object.assign(Object.assign({},(0,l.dL)()),{Cq:d.H1a?"T":d.XT?"C":"M",In:d.H1a?"NFCDTS-01-":d.iy?"NFCDCH-02-":d.AB?"NFCDCH-MC-":d.XT?"NFCDCH-01-":d.I5?"NFCDCH-AP-":d.VT?"NFCDCH-AT-":d.IL?"NFCDCH-PH-":"NFCDCH-LX-",LA:d.XT?"chromeos-cadmium":"chrome-cadmium"});};b.oYa=function(d){var g,n,h,m,p;g=(0,l.cL)();n=Object.assign(Object.assign({},g),{FK:!0,Xu:!0,SA:!0,$H:!0});h=[k.H.$Y,k.H.YY,k.H.XP];m=[k.H.ZY];if(d.iy){p={minimumCores:5};n.km=[].concat(da((0,f.hV).apply(null,[g.km].concat(da(h)))),da((0,f.Ph)([k.H.mz,k.H.nz].concat(da(h),[k.H.iI,k.H.jI]),p)));n.Uq=[].concat(da((0,f.hV).apply(null,[g.Uq].concat(da(m)))),da((0,f.Ph)([].concat(da(m)),p)));}d.AB && (p={minimumCores:3},n.km=[].concat(da((0,f.hV).apply(null,[g.km].concat(da(h)))),da((0,f.Ph)([k.H.mz,k.H.nz].concat(da(h),[k.H.iI,k.H.jI]),p))),n.Uq=[].concat(da((0,f.hV).apply(null,[g.Uq].concat(da(m)))),da((0,f.Ph)([].concat(da(m)),p))));d.XT && (n.km=(0,f.Ph)([].concat(da(k.jd.nY),da(k.jd.YX),da(k.jd.baa),da(k.jd.Raa),da(k.jd.Saa),da(k.jd.Oaa),da(k.jd.Paa))),n.Uq=(0,f.Ph)([].concat(da(k.jd.XX),da(k.jd.Qaa),da(k.jd.Naa))));return n;};b.pYa=function(d){var g;g={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.vl.oI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1,applyProfileStreamingOffset:!0};80 <= d.An && (g=Object.assign(Object.assign({},g),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));d.VT && (g=Object.assign(Object.assign({},g),{enableFullHdForWidevineL1:!0}));d.XT && (g=Object.assign(Object.assign({},g),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= d.An && (g=Object.assign(Object.assign({},g),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));102 <= d.An && d.iy && (g=Object.assign(Object.assign({},g),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0}));if(d.iy || d.AB)g=Object.assign(Object.assign({},g),{enableFullHdForWidevineL3:!0});d.iy && 99 <= d.An && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));d.AB && 113 <= d.An && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));return g;};},22861:function(r,b,a){var k,f,l,d,g,n;function c(){var h,m,p;p=null === (h=pb.MSMediaKeys) || void 0 === h?void 0:h.isTypeSupported(f.eb.yd,g.sd.wqa);h=p || (null === (m=pb.MSMediaKeys) || void 0 === m?void 0:m.isTypeSupported(f.eb.sD,g.sd.wqa));return {z1a:p,y1a:h};}Object.defineProperty(b,"__esModule",{value:!0});b.EYa=b.bHb=b.DYa=b.FYa=void 0;k=a(77003);f=a(13329);l=a(56261);d=a(77828);g=a(39780);n=a(77878);b.FYa=function(h){return Object.assign(Object.assign({},(0,d.dL)()),{Cq:h.hy?"D":"H",In:h.hy?h.AB?"NFCDIE-04-":h.QMb?"NFCDIE-LX-":h.I5?"NFCDIE-AP-":h.VT?"NFCDIE-AT-":h.IL?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",LA:"edge-cadmium",B1:!1});};b.DYa=function(){var h,m,p;h=Object.assign(Object.assign({},(0,d.cL)()),{wE:(0,n.Ph)([l.xd.$C,l.xd.aD,l.xd.QO,l.xd.RO]),km:(0,n.Ph)([].concat(da(l.jd.nY),da(l.jd.YX),da(l.jd.baa),da(l.jd.Raa),da(l.jd.Saa),da(l.jd.Oaa),da(l.jd.Paa),da(l.jd.Vza),da(l.jd.Wza),da(l.jd.Xza))),Uq:(0,n.Ph)([].concat(da(l.jd.XX),da(l.jd.Qaa),da(l.jd.Naa))),Tl:void 0,KT:!1});m=c();p=m.z1a;m.y1a || (h.Xu=!0,h.SA=!0,h.$H=!0);h.PE=p?[]:["start"];return h;};b.bHb=c;b.EYa=function(h){var m,p,q,u,t,w,v;m=h.ZT;p=h.hy;q=h.iy;u=c();t=u.y1a;w=u.z1a;u={nudgeSourceBuffer:!0,audioCapabilityDetectorType:k.Ut.Ew,videoCapabilityDetectorType:k.vl.Ew,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:w?!1:!0,enableAdPlaygraphs:w?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};w={prepareCadmium:!0,enableLdlPrefetch:!t || w,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};v={audioCapabilityDetectorType:k.Ut.qw,videoCapabilityDetectorType:k.vl.oI,microsoftScreenSizeFilterEnabled:!1,keySystemList:[f.eb.Y_],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,n.Ph)([l.xd.$C,l.xd.aD]),videoProfiles:(0,n.Ph)([l.H.YC,l.H.ZC,l.H.UY,l.H.WY]),liveVideoProfiles:(0,n.Ph)([l.H.VY,l.H.XY]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};m && (14 <= h.An && (u=Object.assign(Object.assign(Object.assign({},u),w),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= h.An && (u=Object.assign(Object.assign({},u),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= h.An && (u=Object.assign(Object.assign({},u),{microsoftHwdrmRequiresHevc:!1})),17 <= h.An && (u=Object.assign(Object.assign({},u),{enableDDPlusAtmos:!0})));p && (u=Object.assign(Object.assign(Object.assign({},u),w),{useEncryptedEvent:!1}),q && (u=Object.assign(Object.assign({},u),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),t?(u=Object.assign(Object.assign({},u),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[f.eb.nda,f.eb.$Ia]}),94 === h.An && (u=Object.assign(Object.assign({},u),{enableHWDRM:!1})),102 <= h.An && (u=Object.assign(Object.assign({},u),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0}))):u=Object.assign(Object.assign({},u),v));return u;};},72545:function(r,b,a){var c,k,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.LYa=b.KYa=b.MYa=void 0;c=a(77003);k=a(56261);f=a(77878);l=a(77828);b.MYa=function(d){return Object.assign(Object.assign({},(0,l.dL)()),{Cq:"F",In:d.AB?"NFCDFF-MC-":d.iy?"NFCDFF-02-":d.I5?"NFCDFF-AP-":d.VT?"NFCDFF-AT-":d.IL?"NFCDFF-PH-":"NFCDFF-LX-",LA:"firefox-cadmium"});};b.KYa=function(d){var g,n;g=(0,l.cL)();n=Object.assign(Object.assign({},g),{FK:!0,Xu:!0,SA:!0,$H:!0});d.iy && (n.km=[].concat(da(g.km),da((0,f.Ph)([k.H.mz,k.H.nz],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.AB && (n.km=[].concat(da(g.km),da((0,f.Ph)([k.H.mz,k.H.nz],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return n;};b.LYa=function(d){var g;g={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.vl.oI,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,applyProfileStreamingOffset:!0};(d.iy || d.AB) && 95 <= d.An && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));return g;};},77828:function(r,b,a){var k,f,l,d;function c(g,n){var h,m,p,q,u,t;h=g.ry;m=g.jM;g=g.CM;p=n.ry;q=n.jM;n=n.CM;u=void 0 === h || void 0 === p;t=u || void 0 === m || void 0 === q;return u || h > p || h === p && (t || m > q) || h === p && m === q && (t || void 0 === g || void 0 === n || g >= n);}Object.defineProperty(b,"__esModule",{value:!0});b.cL=b.dL=b.sNb=b.WT=b.bU=void 0;k=a(2467);f=a(13329);l=a(56261);d=a(77878);b.bU=function(g,n,h,m){return c({ry:g.FTb,jM:g.GTb,CM:g.HTb},{ry:n,jM:h,CM:m});};b.WT=function(g,n){return c({ry:g.An},{ry:n});};b.sNb=c;b.dL=function(){return {version:"6.0041.305.911",o7:!0,$K:!0,Yja:"browser",UUa:["en-US"],Bpa:"",iS:"cadmium",zdb:!0,B1:!0};};b.cL=function(){return {wE:(0,d.Ph)([l.xd.$C,l.xd.aD]),km:(0,d.Ph)([].concat(da(l.jd.nY),da(l.jd.YX),da(l.jd.baa))),Uq:(0,d.Ph)([].concat(da(l.jd.XX))),Tl:f.eb.Y_,sy:(0,k.Kb)(31E3)};};},31367:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.wZa=b.vZa=b.xZa=void 0;c=a(77003);k=a(77828);b.xZa=function(f){return Object.assign(Object.assign({},(0,k.dL)()),{Cq:"O",In:f.I5?"NFCDOP-AP-":f.VT?"NFCDOP-AT-":f.IL?"NFCDOP-PH-":"NFCDOP-01-",LA:"opera-cadmium"});};b.vZa=function(){return Object.assign(Object.assign({},(0,k.cL)()),{FK:!0,Xu:!0,SA:!0,$H:!0});};b.wZa=function(f){var l;l={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.vl.oI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= f.An && (l=Object.assign(Object.assign({},l),{enableVP9:!0}));return l;};},13711:function(r,b,a){var k,f,l,d,g,n;function c(h){var m;m=Object.assign(Object.assign({},(0,n.cL)()),{wE:(0,g.Ph)([d.xd.$C,d.xd.aD,d.xd.Rw]),km:(0,g.Ph)([].concat(da(d.jd.nY),da(d.jd.YX),da(d.jd.Raa),da(d.jd.Saa),da(d.jd.Oaa),da(d.jd.Paa),da(d.jd.Vza),da(d.jd.Wza),da(d.jd.Xza))),Uq:(0,g.Ph)([].concat(da(d.jd.XX),da(d.jd.Qaa),da(d.jd.Naa))),Tl:l.eb.Lhb,sy:(0,k.Kb)(7E3),PE:[]});(0,n.WT)(h,14) && (m.PE=["start"]);return m;}Object.defineProperty(b,"__esModule",{value:!0});b.RZa=b.QZa=b.VYa=b.SZa=void 0;k=a(2467);f=a(77003);l=a(13329);d=a(56261);g=a(77878);n=a(77828);b.SZa=function(h){return Object.assign(Object.assign({},(0,n.dL)()),{Cq:"S",In:h.IL?"NFCDSF-PH-":"NFCDSF-01-",LA:"safari-cadmium"});};b.VYa=function(h){return Object.assign(Object.assign({},c(h)),{D$:!0,HK:!1,It:[d.tl.X_]});};b.QZa=c;b.RZa=function(h){var m;m={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:f.vl.qw,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,n.WT)(h,14) && (m=Object.assign(Object.assign({},m),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,n.bU)(h,10,12,2) && (m=Object.assign(Object.assign({},m),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,n.bU)(h,10,13,6) && (m=Object.assign(Object.assign({},m),{enableLdlPrefetch:!0}));(0,n.bU)(h,10,15,5) && (m=Object.assign(Object.assign({},m),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,n.bU)(h,10,15,6) && (m=Object.assign(Object.assign({},m),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,n.WT)(h,9) && (m=Object.assign(Object.assign({},m),{maxDecoderBufferMilliseconds:31E3}));(0,n.WT)(h,16) && (m=Object.assign(Object.assign({},m),{enableAV1:!0}));return m;};},97546:function(r,b,a){var d,g,n,h,m,p,q,u;function c(){}function k(t){this.nd=t;}function f(t){var w;w=g.lda.call(this) || this;t.IL?Object.assign(w,(0,u.VYa)(t)):t.O5?Object.assign(w,(0,q.KYa)(t)):t.Goa?Object.assign(w,(0,p.vZa)()):t.hy || t.ZT?Object.assign(w,(0,m.DYa)()):t.dU?Object.assign(w,(0,u.QZa)(t)):Object.assign(w,(0,h.oYa)(t));return w;}function l(t){this.data=t.O5?(0,q.MYa)(t):t.Goa?(0,p.xZa)(t):t.hy || t.ZT?(0,m.FYa)(t):t.dU?(0,u.SZa)(t):(0,h.qYa)(t);}Object.defineProperty(b,"__esModule",{value:!0});b.Lza=b.Kza=b.Jza=b.Iza=void 0;r=a(70655);d=a(86700);g=a(62106);n=a(20642);h=a(69780);m=a(22861);p=a(31367);q=a(72545);u=a(13711);Wa.Object.defineProperties(l.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},o7:{configurable:!0,enumerable:!0,get:function(){return this.data.o7;}},Cq:{configurable:!0,enumerable:!0,get:function(){return this.data.Cq;}},In:{configurable:!0,enumerable:!0,get:function(){return this.data.In;}},$K:{configurable:!0,enumerable:!0,get:function(){return this.data.$K;}},LA:{configurable:!0,enumerable:!0,get:function(){return this.data.LA;}},Yja:{configurable:!0,enumerable:!0,get:function(){return this.data.Yja;}},UUa:{configurable:!0,enumerable:!0,get:function(){return this.data.UUa;}},Bpa:{configurable:!0,enumerable:!0,get:function(){return this.data.Bpa;}},iS:{configurable:!0,enumerable:!0,get:function(){return this.data.iS;}},zdb:{configurable:!0,enumerable:!0,get:function(){return this.data.zdb;}},B1:{configurable:!0,enumerable:!0,get:function(){return this.data.B1;}}});a=l;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(n.TC))],a);b.Iza=a;ia(f,g.lda);a=f;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(n.TC))],a);b.Jza=a;k.prototype.apply=function(){this.nd.O5?Object.assign(this,(0,q.LYa)(this.nd)):this.nd.Goa?Object.assign(this,(0,p.wZa)(this.nd)):this.nd.hy || this.nd.ZT?Object.assign(this,(0,m.EYa)(this.nd)):this.nd.dU?Object.assign(this,(0,u.RZa)(this.nd)):Object.assign(this,(0,h.pYa)(this.nd));return this;};a=k;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(n.TC))],a);b.Kza=a;c=r.__decorate([(0,d.T)()],c);b.Lza=c;},49054:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.platform=void 0;r=a(86700);c=a(20642);k=a(811);f=a(65350);l=a(98757);d=a(92975);g=a(72186);n=a(97546);h=a(62298);b.platform=new r.$c(function(m){m(k.rn).to(n.Iza).da();m(f.OI).to(n.Jza).da();m(l.TIa).to(n.Kza).da();m(k.n_).to(n.Lza).da();m(h.mda).Vd(function(p){return function(){var q;q=p.hb.get(c.TC);return q.hy || q.ZT?{Vy:function(u,t,w){return new g.vea(u,t,w);},request:d.eNa}:q.dU?{Vy:function(u,t,w){return new (a(4497))(u,t,w);},request:a(73475)}:{};};});});},25509:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.maa={vqb:"adStart",OPa:"adProgress",gbc:"adComplete",wqb:"adStop"};b.Yxa={lA:"adBreakComplete"};b.naa={error:"error",CDb:"exit",Bcb:"unload"};b.fya="AdImpressionLoggerrFactorySymbol";},1414:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kya="AdManagerFactorySymbol";},63033:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AO="AdTrackerBaseSymbol";},27825:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uya="AdFocusMonitorSymbol";},63406:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pza="BandwidthMeterFactorySymbol";},38246:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L,N,I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,U,Z,Q,ka,P,fa,ua,pa,Ra,Pa,db,wb,nb,Bb,Qa,Za,hb,lb,yb;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(86700);c=a(51017);k=a(53113);f=a(26277);l=a(63406);d=a(89491);g=a(56281);n=a(8715);h=a(9518);m=a(70858);p=a(17244);q=a(58998);u=a(78616);t=a(89542);w=a(71163);v=a(93091);y=a(21182);x=a(69444);z=a(2467);A=a(87933);B=a(81853);C=a(62155);D=a(45277);F=a(1265);G=a(35054);E=a(2408);J=a(74509);L=a(89682);N=a(50563);I=a(15303);O=a(4988);K=a(69447);H=a(64155);M=a(85643);R=a(53685);Y=a(17);ea=a(33769);ca=a(57046);oa=a(77003);Ga=a(67789);Fa=a(76330);Ja=a(1414);Xa=a(95129);cb=a(35664);U=a(82092);Z=a(25509);Q=a(22141);ka=a(16261);P=a(72170);fa=a(24016);ua=a(27825);pa=a(90657);Ra=a(79426);Pa=a(27334);db=a(65428);wb=a(37565);nb=a(17097);Bb=a(29219);Qa=a(63033);Za=a(7353);hb=a(24104);lb=a(82503);yb=a(27138);b.j=new r.$c(function(Hb){Hb(K.uda).to(H.oJa).da();Hb(ca.Mya).Vd(function(Jb){var Eb;Eb=Jb.hb;return function(Lb,Rb){return new (a(29471).rca)(Lb,Rb,Eb.get(u.pw),Eb.get(F.GY),Eb.get(yb.yaa));};});Hb(c.rMa).Vd(function(Jb){var Eb;Eb=Jb.hb;return function(Lb,Rb,bc,Ib,Ob,Sb,cc,nc,Ac){return new (a(73198).z)(Eb.get(A.wMa),Lb,Rb,bc,Ib,Ob,Sb,cc,nc,Ac);};});Hb(A.wMa).to(B.vMa).da();Hb(k.uMa).to(f.tMa).da();Hb(n.jJa).to(h.iJa).da();Hb(P.gLa).to(fa.fLa).da();Hb(Y.DKa).to(ea.CKa);Hb(Y.BKa).Tbb(Y.DKa);Hb(g.uBa).Vd(function(Jb){var Eb;Eb=Jb.hb;return function(Lb){return new (a(16994).Dba)(Eb.get(F.tBa),Eb.get(u.pw),Eb.get(q.Jc),Lb);};});Hb(l.pza).Vd(function(){return function(Jb){return new d.qza(Jb);};});Hb(Ga.xda).Vd(function(Jb){var Eb;Eb=Jb.hb;return function(Lb){return new Fa.uJa(Lb,Eb.get(w.Xa),Eb.get(t.Wf));};});Hb(Z.fya).Vd(function(Jb){var Eb;Eb=Jb.hb;return function(Lb){return new Q.gya(Lb,Eb.get(w.Xa).Ua("AdImpressionLogger"),Eb.get(cb.gg),Eb.get(p.ac),Eb.get(q.Jc),Eb.get(U.laa),Eb.get(U.kaa));};});Hb(ua.uya).to(pa.tya);Hb(Qa.AO).to(wb.mya);Hb(Qa.AO).to(Bb.rya);Hb(Qa.AO).to(Za.vya);Hb(Qa.AO).to(nb.wya);Hb(Ja.kya).Vd(function(Jb){var Eb;Eb=Jb.hb;return function(Lb,Rb){return new Xa.lya(Lb,Rb,Eb.get(w.Xa).Ua("AdManager"),Eb.get(p.ac),Eb.get(P.gLa),Eb.getAll(Qa.AO),Eb.get(Z.fya),function(bc){return new ka.jya(bc);},Eb.get(ua.uya));};});Hb(v.aJa).Vd(function(Jb){var Eb;Eb=Jb.hb;return function(Lb){return new m.bJa(Lb,Eb.get(w.Xa),Eb.get(p.ac),Eb.get(t.Wf),Eb.get(u.pw),Eb.get(Ga.xda));};});Hb(Ra.aFa).Vd(function(Jb){var Eb;Eb=Jb.hb;return function(Lb,Rb){return new Pa.bFa(Eb.get(p.ac),Eb.get(hb.cFa),Eb.get(db.Ci),Eb.get(w.Xa),Lb,Rb);};});Hb(hb.cFa).Vd(function(Jb){var Eb;Eb=Jb.hb;return function(Lb){return new lb.dFa(Eb.get(p.ac),Eb.get(w.Xa),Eb.get(J.yD),Lb);};});Hb(y.wda).Vd(function(Jb){var Eb;Eb=Jb.hb;return function(Lb,Rb,bc,Ib,Ob,Sb,cc,nc,Ac,Pc,Yd){return new x.qJa(Lb,Rb,bc,Ib,Ob,Sb,cc,nc,Ac,Eb.get(v.aJa),Eb.get(K.uda),Eb.get(Ra.aFa),Pc,Yd);};});Hb(C.aLa).Vd(function(Jb){return function(Eb){var Lb,Rb;Lb=Jb.hb.get(p.ac);Rb=Jb.hb.get(w.Xa);return new D.bLa(Lb,Eb,Rb);};});Hb(G.lJa).Vd(function(Jb){return function(Eb){var Lb,Rb,bc,Ib,Ob;Lb=Jb.hb.get(I.tw);Rb=Jb.hb.get(J.yD);bc=Jb.hb.get(L.jh);Ib=Jb.hb.get(N.QP);Ob=Jb.hb.get(oa.rw);return new E.mJa(Eb,Lb,Rb((0,z.uh)(1)),bc,Ib,Ob);};});Hb(O.Gca).GC(function(Jb){return new (a(68872).JGa)(Jb.hb.get(M.BP),Jb.hb.get(R.kn));}).da();});},56281:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uBa="DiagnosticsFactorySymbol";},79426:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kr={PP:"START_SLATE",eca:"LIVE_EVENT",vba:"END_SLATE"};b.aFa="LivePlaybackManagerFactorySymbol";},24104:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cFa="LivePlaybackRateControllerFactorySymbol";},53073:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},4988:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gca="MilestonesEventBuilderSymbol";},93091:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aJa="PlayTimeTrackerFactorySymbol";},8715:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jJa="PlaybackFactorySymbol";},35054:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lJa="PlaybackInfoPanelFactorySymbol";},69447:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uda="PlaybackMilestoneStoreSymbol";},21182:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wda="PlaybackSegmentDataFactorySymbol";},67789:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xda="PlayedSegmentsTrackerFactorySymbol";},17:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DKa="RepositionTraceSymbol";b.BKa="RepositionTraceFactorySymbol";},62155:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aLa="SeekManagerFactorySymbol";},72170:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gLa="SegmentDroppedLoggerSymbol";},84506:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Do=void 0;r=b.Do || (b.Do={});r[r.e_=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.gD=2]="LOADED";r[r.lP=3]="LOAD_FAILED";r[r.yHa=4]="PARSE_FAILED";},51017:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rMa="TrickPlayFactorySymbol";},53113:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uMa="TrickPlayManagerSymbol";},87933:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wMa="TrickPlayParserSymbol";},22141:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p,q,u,t,w,v){this.context=m;this.log=p;this.qa=q;this.config=u;this.Ea=t;this.tqb=w;this.mqb=v;this.fva={};}Object.defineProperty(b,"__esModule",{value:!0});b.gya=void 0;r=a(70655);k=a(86700);f=a(58998);l=a(35664);d=a(2467);g=a(17244);n=a(82092);h=a(25509);c.prototype.ZZb=function(m,p){var q,u,t;q=this;u=m.event;if(Object.values(h.Yxa).includes(u)){t=p.ey?p.ey.ba(d.oa):-1;m={href:p.W.ki.jL("events").href,ma:this.context.ma.toString(),event:u,Ju:m.Ju,pE:m.pE,position:m.rh.offset.G,cm:t,Gv:{},yx:this.qa.oH.ba(d.oa),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id};this.mqb.Bf(this.log,m).catch(function(w){q.log.error("Failed to send event",{eventKey:u,xid:p.ma,error:w});});}else this.log.debug("Ignoring unsupported event " + m.event);};c.prototype.$Zb=function(m,p,q){var u,t,w;u=this;t=m.event;if(Object.values(h.maa).includes(t)){w=m.W.links.events.href;this.fva[m.cm] || (this.fva[m.cm]=this.qa.irb((0,d.Kb)(m.cm)).ba(d.oa));m={href:w,ma:this.context.ma.toString(),event:t,Ju:m.Ju,pE:m.pE,position:m.rh.offset.G,cm:this.fva[m.cm],Gv:m.Gv,yx:this.qa.oH.ba(d.oa),appId:this.config().appId || this.Ea.id,sessionId:this.config().sessionId || this.Ea.id,mPb:p,R2b:null !== q && void 0 !== q?q:void 0};this.tqb.Bf(this.log,m).catch(function(v){u.log.error("Failed to send event",{eventKey:t,xid:u.context.ma,error:v});});}else this.log.debug("Ignoring unsupported event " + m.event);};a=c;a=r.__decorate([r.__param(2,(0,k.l)(l.gg)),r.__param(3,(0,k.l)(g.ac)),r.__param(4,(0,k.l)(f.Jc)),r.__param(5,(0,k.l)(n.laa)),r.__param(6,(0,k.l)(n.kaa))],a);b.gya=a;},16261:function(r,b){function a(p){this.df=p;}function c(p){this.padding=p;}function k(p){this.OJ=p;}function f(p){this.rh=p;}function l(p){this.y8=p;}function d(p){this.Osa=p;}function g(p){this.Nsa=p;}function n(p){this.NJ=p;}function h(p){this.Gy=p;}function m(p){this.bd=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Zeb=b.Pkb=b.Yeb=b.Rhb=b.Zkb=b.$kb=b.Ykb=b.Xeb=b.Xkb=b.jya=void 0;m.prototype.getPresentingAdBreak=function(){var p;p=this.bd.oL();if(p)return new h(p);};m.prototype.getAds=function(){return this.bd.Ola();};m.prototype.getLogInfo=function(){return this.bd.SHb();};b.jya=m;Wa.Object.defineProperties(h.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new n(this.Gy.Oc);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Gy.mA;if(p)return new g(p);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.Gy.p6a;if(p)return new d(p);}},progress:{configurable:!0,enumerable:!0,get:function(){return new l(this.Gy.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new f(this.Gy.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.Gy.index;}}});b.Xkb=h;Wa.Object.defineProperties(n.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new k(this.NJ.OJ);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.NJ.V9);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.NJ.yS);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.NJ.CKb;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.NJ.duration.G};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.NJ.Y7.G};}}});b.Xeb=n;Wa.Object.defineProperties(g.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.Nsa.df);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.Nsa.OPa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.Nsa.index;}}});b.Ykb=g;Wa.Object.defineProperties(d.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.Osa.Vra;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Osa.VTb;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Osa.Y7.G};}}});b.$kb=d;Wa.Object.defineProperties(l.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.y8.pqb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.y8.nqb.G};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.y8.rqb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.y8.qqb.G};}}});b.Zkb=l;Wa.Object.defineProperties(f.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.rh.I;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.rh.offset.G};}}});b.Rhb=f;Wa.Object.defineProperties(k.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.OJ.Ye.map(function(p){return new a(p);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.OJ.duration.G};}}});b.Yeb=k;Wa.Object.defineProperties(c.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.G};}}});b.Pkb=c;Wa.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.df.Mq;}},id:{configurable:!0,enumerable:!0,get:function(){return this.df.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.df.startTime.G};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.df.endTime.G};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.df.Us;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.df.SN;}}});b.Zeb=a;},95129:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p,q,u,t,w,v,y){var x;x=this;this.Za=h;this.j=m;this.log=p;this.config=q;this.LZb=u;this.Bbb=t;this.Bl=new k.Gb(!1);this.Db=new g.Rj();this.zRa=!1;this.iV=function(){x.zRa=!0;n.he.removeListener(n.Nk,x.iV);};this.YCb=v(this);h=h.Nn();this.Ku=w({ma:m.ma.toString()});w=null === h || void 0 === h?void 0:h.X6a.events;null === w || void 0 === w?void 0:w.addListener("adPresenting",function(){!1;x.QWa();});null === w || void 0 === w?void 0:w.addListener("adBreakPresenting",function(){!1;y.lM(m);x.Bl.set(!0);});null === w || void 0 === w?void 0:w.addListener("adBreakEnded",function(){!1;x.Bl.set(!1);});null === w || void 0 === w?void 0:w.addListener("adPlaygraphUpdated",function(){!1;});null === w || void 0 === w?void 0:w.addListener("segmentDropped",function(z){var A;!1;A=x.j.fi(z.segmentId);x.LZb.zWb(z,A);});this.Fp=new l.q_();this.j.addEventListener("playbackStart",function(){x.Fp.resolve();});w=null === h || void 0 === h?void 0:h.Tna.events;null === w || void 0 === w?void 0:w.addListener("adEvent",function(z){x.Fp.promise.then(function(){var A,B,C;z.event === f.maa.vqb && z.Us && x.Bbb.forEach(function(D){return D.start(x.j);});B=null === (A=m.W) || void 0 === A?void 0:A.Fa.Ef;A=x.BJb(z);if(z.event === f.maa.wqb && A){C=x.zRa?f.naa.Bcb:m.ph?f.naa.error:f.naa.CDb;A=Object.assign(Object.assign({},A),{reason:C});}x.Ku.$Zb(z,B,A);});});n.he.addListener(n.Nk,this.iV);null === w || void 0 === w?void 0:w.addListener("adBreakEvent",function(z){z.event === f.Yxa.lA && x.Db.Dc(d.dY.lA);x.Fp.promise.then(function(){x.Ku.ZZb(z,m);});});}Object.defineProperty(b,"__esModule",{value:!0});b.lya=void 0;k=a(14414);f=a(25509);l=a(86684);d=a(34202);g=a(59883);n=a(25892);c.prototype.addEventListener=function(h,m,p){this.Db.addListener(h,m,p);};c.prototype.removeEventListener=function(h,m){this.Db.removeListener(h,m);};c.prototype.oL=function(){var h,m;return null === (m=null === (h=this.Za) || void 0 === h?void 0:h.Nn()) || void 0 === m?void 0:m.LM.Gy;};c.prototype.SHb=function(){var h,m,p,q;p=this.oL();if(p){q={position:null === p || void 0 === p?void 0:p.position.offset.G,adDuration:null === (h=null === p || void 0 === p?void 0:p.mA) || void 0 === h?void 0:h.df.endTime.G,adIndex:null === (m=p.mA) || void 0 === m?void 0:m.index,adBreakIndex:p.index,adBreakDuration:null === p || void 0 === p?void 0:p.Oc.duration.G};(h=p.p6a) && (q.padding={type:h.Vra,duration:h.Y7.G});return q;}};c.prototype.Ola=function(){var h,m,p,q,u;q=this.j.aa.O.toString();u=null === (m=null === (h=this.Za) || void 0 === h?void 0:h.Nn()) || void 0 === m?void 0:m.X6a.Ola({Rdb:[q]});return null !== (p=null === u || void 0 === u?void 0:u.result[q]) && void 0 !== p?p:[];};c.prototype.QWa=function(){};c.prototype.BJb=function(h){var m;if(h.Us){m=this.Bbb.reduce(function(p,q){return Object.assign(Object.assign({},p),q.S4(h));},{});return Object.assign(Object.assign({},m),{thirdPartyVerificationToken:h.SN});}};b.lya=c;},37565:function(r,b,a){var k,f,l,d,g;function c(n,h){var m;m=g.yk.call(this) || this;m.Ea=n;m.paused=!1;m.xq=function(){var p,q,u;u=m.bd.oL();m.bd.Bl.value && null !== (p=null === u || void 0 === u?void 0:u.mA) && void 0 !== p && p.df.Us?(p=null === (q=u.mA) || void 0 === q?void 0:q.df.id,q=m.paused,m.paused=m.j.paused.value,q !== m.paused && (m.paused?(m.c8=m.Ea.Eb(),m.gR=u.position.offset.G,m.la.debug("Ad " + p + " paused at " + m.gR + " ms into the ad")):void 0 !== m.c8 && void 0 !== m.gR && (u=m.Ea.Eb().wa(m.c8).ba(d.oa),m.la.debug("Ad " + p + " resumed. Pause duration: " + u),m.trace.push([m.gR,u]),m.gR=void 0,m.c8=void 0))):m.unsubscribe();};m.la=h.Ua("AdPauseStateTracker");return m;}Object.defineProperty(b,"__esModule",{value:!0});b.mya=void 0;r=a(70655);k=a(86700);f=a(58998);l=a(71163);d=a(2467);g=a(14225);ia(c,g.yk);c.prototype.start=function(n){g.yk.prototype.start.call(this,n);this.qv || (this.j.paused.addListener(this.xq),this.qv=!0);};c.prototype.S4=function(){return {pauseTrace:this.trace};};c.prototype.mW=function(){this.gR=void 0;this.paused=this.j.paused.value;this.c8=void 0;this.trace=[];};c.prototype.unsubscribe=function(){g.yk.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.xq);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Jc)),r.__param(1,(0,k.l)(l.Xa))],a);b.mya=a;},29219:function(r,b,a){var k,f,l,d,g;function c(n,h){var m;m=g.yk.call(this) || this;m.Eja=h;m.PYb=function(){0 === m.trace.length?m.xq():m.Nka.Hj(function(){m.xq();});};m.xq=function(){var p,q,u,t;q=m.bd.oL();if(m.bd.Bl.value && null !== (p=null === q || void 0 === q?void 0:q.mA) && void 0 !== p && p.df.Us){(p=m.trace[m.trace.length - 1]) && p[0] === q.position.offset.G && m.trace.pop();p=m.trace[m.trace.length - 1];u=m.j.qk.getBoundingClientRect();t=u.height;u=u.width;0 < t && 0 < u && (!p || p[1] !== u || p[2] !== t) && m.trace.push([q.position.offset.G,u,t]);}else m.unsubscribe();};m.la=n.Ua("AdResizeTracker");m.Nka=h((0,d.uh)(1));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.rya=void 0;r=a(70655);k=a(86700);f=a(40781);l=a(71163);d=a(2467);g=a(14225);ia(c,g.yk);c.prototype.start=function(n){g.yk.prototype.start.call(this,n);this.qv || (this.D5a=new ResizeObserver(this.PYb),this.D5a.observe(this.j.qk),this.qv=!0);};c.prototype.S4=function(){return {resizeTrace:this.trace.slice(1)};};c.prototype.mW=function(){this.trace=[];};c.prototype.unsubscribe=function(){var n;g.yk.prototype.unsubscribe.call(this);null === (n=this.D5a) || void 0 === n?void 0:n.disconnect();};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.Xa)),r.__param(1,(0,k.l)(f.FY))],a);b.rya=a;},14225:function(r,b){function a(){var c;c=this;this.qv=!1;this.trace=[];this.W2=function(){c.Nka.Hj(function(){c.xq();});};}Object.defineProperty(b,"__esModule",{value:!0});b.yk=void 0;a.prototype.start=function(c){var k;k=this;this.j=c;this.bd=this.j.Nn();this.qv || (this.bd.Bl.addListener(this.xq),this.j.addEventListener("closing",function(){return k.unsubscribe();}));this.mW();};a.prototype.unsubscribe=function(){this.bd.Bl.removeListener(this.xq);this.qv=!1;this.mW();};b.yk=a;},90657:function(r,b,a){var k,f;function c(l){var d;d=this;this.HE=function(){var g,n,h;n=!document.hidden;h=null === (g=d.j.Nn()) || void 0 === g?void 0:g.Bl.value;g=d.j.paused.value;n || !h || g || (d.la.debug("Pausing playback because window is not visible"),d.j.paused.set(!0,{qM:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",d.HE);d.j.Nn().Bl.removeListener(d.HE);d.j.paused.removeListener(d.HE);};this.la=l.Ua("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.tya=void 0;r=a(70655);k=a(86700);a=a(71163);c.prototype.lM=function(l){this.fRb || (this.la.debug("Starting to monitor playback for visibility"),this.j=l,this.fRb=!0,document.addEventListener("visibilitychange",this.HE),this.j.Nn().Bl.addListener(this.HE),this.j.paused.addListener(this.HE),this.j.addEventListener("closing",this.unsubscribe),this.HE());};f=c;f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.Xa))],f);b.tya=f;},7353:function(r,b,a){var k,f,l;function c(d){var g;g=l.yk.call(this) || this;g.hqa=0;g.wUa=[0];g.nG=[0];g.visibility=0;g.xq=function(){var n,h;h=g.bd.oL();g.bd.Bl.value && null !== (n=null === h || void 0 === h?void 0:h.mA) && void 0 !== n && n.df.Us?(n=g.visibility,g.visibility=document.hidden?0:1,n !== g.visibility && (1 === g.visibility?(g.hqa=g.visibility,g.M6=h.position.offset.G):(h=h.position.offset.G - (g.M6 || 0),h > g.nG[0] && (g.nG[0]=h),g.M6=void 0))):g.unsubscribe();};g.la=d.Ua("AdVisibilityTracker");return g;}Object.defineProperty(b,"__esModule",{value:!0});b.vya=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(14225);ia(c,l.yk);c.prototype.start=function(d){l.yk.prototype.start.call(this,d);this.qv || (document.addEventListener("visibilitychange",this.xq),this.qv=!0);};c.prototype.S4=function(d){var g,n,h;n=this.j.qk.getBoundingClientRect();h=n.height;n=n.width;"adStart" === d.event && (h=0 === h?document.documentElement.clientHeight:h,n=0 === n?document.documentElement.clientWidth:n);d=d.rh.offset.G - (null !== (g=this.M6) && void 0 !== g?g:0);d > this.nG[0] && (this.nG[0]=d);g=document.fullscreenElement?!0:screen.height === pb.outerHeight && screen.width === pb.outerWidth;this.wUa=this.nG;return {cumulativeTimeByVisibilityMs:this.wUa,maxContinuousTimeByVisibilityMs:this.nG,visibility:this.visibility,maxVisibility:this.hqa,screenHeight:screen.height,screenWidth:screen.width,adHeight:h,adWidth:n,fullScreen:g};};c.prototype.mW=function(){this.M6=void 0;this.nG=[0];this.hqa=this.visibility=document.hidden?0:1;};c.prototype.unsubscribe=function(){l.yk.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.xq);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa))],a);b.vya=a;},17097:function(r,b,a){var k,f,l,d,g;function c(n,h){var m;m=g.yk.call(this) || this;m.Cf=n;m.Eja=h;m.xq=function(){var p,q;q=m.bd.oL();m.bd.Bl.value && null !== (p=null === q || void 0 === q?void 0:q.mA) && void 0 !== p && p.df.Us?(p=m.trace[m.trace.length - 1],q=q.position.offset.G,p && p[0] === q && m.trace.pop(),(p=m.trace[m.trace.length - 1]) && p[1] === m.j.Bja || m.trace.push([q,m.j.Bja])):m.unsubscribe();};m.la=n.Ua("AdVolumeTracker");m.Nka=h((0,d.uh)(1));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.wya=void 0;r=a(70655);k=a(86700);f=a(40781);l=a(71163);d=a(2467);g=a(14225);ia(c,g.yk);c.prototype.start=function(n){g.yk.prototype.start.call(this,n);this.qv || (this.j.volume.addListener(this.W2),this.j.muted.addListener(this.W2),this.qv=!0);};c.prototype.S4=function(){return {volumeChangeTrace:this.trace,volume:this.j.Bja};};c.prototype.mW=function(){this.trace=[];};c.prototype.unsubscribe=function(){g.yk.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.W2);this.j.muted.removeListener(this.W2);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.Xa)),r.__param(1,(0,k.l)(f.FY))],a);b.wya=a;},89491:function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.qza=void 0;a.prototype.Zcb=function(){var c;c=this.j.Za;if(null !== c && void 0 !== c && c.Xw){c=c.Ic.get();if(null === c || void 0 === c?0:c.al)this.j.al=c.al.Da;if(null === c || void 0 === c?0:c.qb)this.j.qb=c.qb.Da;}};a.prototype.Tm=function(){-1 === this.j.qb && this.Zcb();return this.j.qb;};a.prototype.kub=function(c){-1 !== this.j.al && -1 !== this.j.qb || this.Zcb();return -1 === this.j.al || -1 === this.j.qb?Number.MAX_VALUE:this.j.al + 8 * c / this.j.qb;};b.qza=a;},49007:function(r,b,a){var f,l,d,g,n,h,m,p;function c(q){this.j=q;this.H2a=!1;this.log=(0,l.Gh)(this.j,"Playback");this.VL=l.za.get(m.mP);(0,d.na)(f.config);f.config.Dr || (this.JBb=l.za.get(g.CBa));}function k(q,u){var w;function t(v){return v && 0 < v.length && v[0].jG;}w=l.za.get(m.mP);return q.ma && t(q.ie)?w.release({ma:q.ma,ie:q.ie}).then(function(){}):u.ma && t(u.ie)?w.release(u).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.My=b.MAa=void 0;f=a(37986);l=a(89082);d=a(70633);g=a(69557);n=a(3971);h=a(95919);m=a(84036);p=a(34202);c.prototype.BF=function(q){var u;u=this;return new Promise(function(t,w){var v,y,x;v=n.om.LTa(q.mf);y=q.rj.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,l.qx)(z.data)};});x=u.j.DIb(q.rj[0].sessionId);u.VL.Iu({Ef:x.Ef,mf:h.is.zm(q.mf)?q.mf:v,t3:[x.Kk],rj:y,ma:x.ma,Mm:q.Mm,ki:x.W.ki,eg:x.W.Fa.eg}).then(function(z){u.j.ie=z.ie;t(z);u.LEb(x);}).catch(w);});};c.prototype.release=function(q){return k(this.j,q);};c.prototype.STa=function(){var q;q=this.JBb.create();q.ie=this.j.ie;q.ma=this.j.ma;q.O=this.j.O;return q;};c.prototype.LEb=function(q){this.H2a || (this.H2a=!0,this.j.fireEvent(p.ea.pU,{O:q.O}));};b.MAa=c;b.My=k;},16994:function(r,b,a){var k;function c(f,l,d,g){this.Zja=f;this.debug=l;this.Ea=d;this.j=g;this.Z7=[];this.l7={};this.$ja={};this.ola=!1;this.vbb=1;this.lza=7.8125;}b.Dba=void 0;k=a(2467);a(34202);a(95919);a(89927);c.prototype.register=function(f,l){this.debug.assert(!(0 <= this.Z7.indexOf(f)),"panel already registered");this.l7[f]=l;this.Z7.push(f);};c.prototype.s5a=function(f){var l;l=this;this.$ja[f]=!0;this.ola || (this.ola=!0,setTimeout(function(){return l.OEb();},0));};c.prototype.fIb=function(f){return (f=this.l7[f])?f():void 0;};c.prototype.fT=function(){var f;f=this.j.h8;return f?f.fT():[];};c.prototype.addEventListener=function(f,l){this.Zja.addListener(f,l);this.l7[f] && this.s5a(f);};c.prototype.removeEventListener=function(f,l){this.Zja.removeListener(f,l);};c.prototype.getTime=function(){return this.Ea.Eb().ba(k.oa);};c.prototype.OEb=function(){this.ola=!1;for(var f=this.Z7.length,l;f--;){l=this.Z7[f];this.$ja[l] && (this.$ja[l]=!1,this.Zja.Dc(l + "changed",{getModel:this.l7[l]}));}};b.Dba=c;},27334:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p,q,u,t){var w,v,y,x;w=this;this.config=h;this.wc=p;this.u=u;this.j=t;this.EL=new n.Gb(!1);this.qha=new n.Gb(!1);this.Ll=this.ei=void 0;this.Dva=!1;this.nF=void 0;this.log=q.Ua("LivePlaybackManager");this.nF=this.config().cFb;v=this.config().y1b;y=this.config().IOb;this.Dva=(0,l.tb)(v) && (0,l.tb)(y);null === t || void 0 === t?void 0:t.addEventListener(d.ea.Wk,function(){var z;if(w.ha && ((0,f.na)(w.j && w.j.aa === w.u,"Unexpected playback segment on playbackReady"),w.config().xCb && (w.T6a=m(function(A){(0,f.na)(w.ha && w.j && w.j.aa === w.u,"Unexpected playback segment on playback rate update");w.u.playbackRate.value !== A && (w.u.playbackRate.set(A),w.j.fireEvent(d.ea.MB));})),w.Dva)){z=w.Iq();x=w.wc.sN((0,k.Kb)(500),function(){var A,B,C,D;A=w.Iq();C=z + v;A >= C - 500 && (B=w.ija(C));C=z + v + y;if(A >= C - 500){D=w.ija(C);null === x || void 0 === x?void 0:x.cancel();}w.kva(B,D,!0);});}});null === t || void 0 === t?void 0:t.addEventListener(d.ea.tg,function(){var z;w.ha && ((0,f.na)(w.j && w.j.aa === w.u,"Unexpected playback segment on closing"),w.T6a=void 0,null === (z=w.qU) || void 0 === z?void 0:z.cancel(),w.qU=void 0,null === x || void 0 === x?void 0:x.cancel());});null === t || void 0 === t?void 0:t.addEventListener(d.ea.sC,function(z){w.ha && ((0,f.na)(w.j && w.j.aa === w.u,"Unexpected playback segment on repositioning"),z.cc !== d.Xc.Jr && w.EL.set(z.cc === d.Xc.kP && !w.A1a()));});null === t || void 0 === t?void 0:t.addEventListener(d.ea.xdb,function(){w.ha && ((0,f.na)(w.j && w.j.aa === w.u,"Unexpected playback segment on userInitiatedPause"),w.EL.set(!1));});null === t || void 0 === t?void 0:t.Oh.addListener(function(){w.ha && ((0,f.na)(w.j && w.j.aa === w.u,"Unexpected playback segment on playing update"),w.j.Oh.value && w.xXa());});null === t || void 0 === t?void 0:t.background.addListener(function(){var z;w.ha && ((0,f.na)(w.j && w.j.aa === w.u,"Unexpected playback segment on background update"),!w.j.background.value && w.ET() && void 0 === w.nF && (w.S5()?null === (z=w.j.je) || void 0 === z?void 0:z.seek(w.ei,d.Xc.Mw):w.t9()));});this.u.mediaTime.addListener(function(z){var A,B,C,D;if(w.ha){(0,f.na)(w.j && w.j.aa === w.u,"Unexpected playback segment on mediaTime update");C=w.j;w.p2();D=w.fB(z.oldValue);z=w.fB(z.newValue);D !== z && (!1,C.fireEvent(d.ea.MB));w.RMb() && w.xXa();w.S5()?(null === (A=w.qU) || void 0 === A?void 0:A.cancel(),w.qU=void 0):w.qU || (w.qU=w.wc.sN((0,k.Kb)(1E3),function(){w.p2();C.fireEvent(d.ea.MB);}));null === (B=w.T6a) || void 0 === B?void 0:B.hO(w.j.Oh.value && w.ET(),w.u.mediaTime.value,w.Iq());}});this.EL.addListener(function(){(0,f.na)(w.ha,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + w.ha);(0,f.na)(w.j && w.j.aa === w.u,"Playback is required for live.");w.p2();});this.qha.addListener(function(){(0,f.na)(w.ha,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + w.ha);(0,f.na)(w.j && w.j.aa === w.u,"Playback is required for live.");!1;w.j.fireEvent(d.ea.MB);});}Object.defineProperty(b,"__esModule",{value:!0});b.bFa=void 0;k=a(2467);f=a(70633);l=a(95919);d=a(34202);g=a(79426);n=a(14414);c.prototype.z0b=function(){var h,m,p;(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");return null !== (p=null === (m=null === (h=this.u.W) || void 0 === h?void 0:h.Fa.wj) || void 0 === m?void 0:m.kBb) && void 0 !== p?p:!1;};c.prototype.qWb=function(){var h;(0,f.na)(this.ha,"Unexpected call to processManifest(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,f.na)(null === (h=this.u.W) || void 0 === h?void 0:h.Fa.wj,"Live manifest is unavailable.");h=this.u.W.Fa.wj;this.kva(h.Rka,h.L3);h=this.config().eFb;void 0 !== h && void 0 !== this.ei && (this.nF=this.ei + h);};c.prototype.kva=function(h,m,p){var q,u,t,w,v;(0,f.na)(this.ha,"Unexpected call to setLiveEventTimes(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");if(!this.Dva || p){p=this.j;t=this.ei;w=this.Ll;v=null !== (q=this.KTa(h)) && void 0 !== q?q:t;q=null !== (u=this.KTa(m)) && void 0 !== u?u:w;if(void 0 === v && void 0 === q || void 0 !== v && 0 <= v && void 0 === q || void 0 !== v && 0 <= v && void 0 !== q && q > v){if((this.ei=v,this.Ll=q,t !== this.ei || w !== this.Ll))(!1,p.fireEvent(d.ea.MB));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (h + ", startPts:") + (v + ", endTime:") + (m + ", endPts:") + q);}};c.prototype.iHb=function(){var h;(0,f.na)(this.ha,"Unexpected call to getLiveEventTimeForCurrentMediaTime(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");h=this.u.mediaTime.value;if(void 0 !== h)return this.ija(h);};c.prototype.U4=function(){var h;(0,f.na)(this.ha,"Unexpected call to getUIAdjustedTime(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");h=this.u.mediaTime.value;if(void 0 !== h)switch(this.fB(h)){case g.Kr.PP:return 0;case g.Kr.eca:return ((0,f.na)(void 0 !== this.ei,"eventStartPts should be defined in LIVE_EVENT slate."),h - this.ei);case g.Kr.vba:return ((0,f.na)(void 0 !== this.ei && void 0 !== this.Ll,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.Ll - this.ei);}};c.prototype.v9a=function(h){var m,p;(0,f.na)(this.ha,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");return void 0 === this.ei?null !== (p=null !== (m=this.Iq()) && void 0 !== m?m:this.u.mediaTime.value) && void 0 !== p?p:h:this.ei + h;};c.prototype.N1a=function(h){var m;(0,f.na)(this.ha,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");m=this.Iq();return void 0 !== m && h >= m - this.config().yOb;};c.prototype.vma=function(h,m){var p,q;(0,f.na)(this.ha,"Unexpected call to getLiveBookmark(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");if(void 0 !== this.nF)return {El:this.nF,hC:Number.MAX_SAFE_INTEGER,TUa:this.nF};m || void 0 === this.ei || void 0 === this.Ll && 0 === h?(this.EL.set(!0),h=36E7):(h=this.ei + h,void 0 !== this.Ll && h > this.Ll && (h=this.ei));return {El:h,hC:null !== (p=this.Ll) && void 0 !== p?p:Number.MAX_SAFE_INTEGER,TUa:null !== (q=this.ei) && void 0 !== q?q:36E7};};c.prototype.fZa=function(){var h;(0,f.na)(this.ha,"Unexpected call to getLiveContentDuration(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");h=this.zB()?this.u.mediaTime.value:this.Iq();h=void 0 !== this.Ll && void 0 !== h?Math.min(this.Ll,h):h;h=void 0 !== h && void 0 !== this.ei?h - this.ei:0;!1;return h;};c.prototype.ZHb=function(){var h;(0,f.na)(this.ha,"Unexpected call to getMaxSeekPts(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");h=this.Iq();h=void 0 !== this.Ll && void 0 !== h?Math.min(this.Ll,h):h;!1;return null !== h && void 0 !== h?h:0;};c.prototype.Iq=function(){var h,m;(0,f.na)(this.ha,"Unexpected call to getLiveEdge(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");return null === (m=null === (h=this.j.Za) || void 0 === h?void 0:h.eB(this.u.I)) || void 0 === m?void 0:m.G;};c.prototype.t9=function(){var h;(0,f.na)(this.ha,"Unexpected call to seekToLiveEdge(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");this.EL.set(!this.A1a());if(this.j.je){h=this.Iq();void 0 !== h?this.j.je.seek(h,d.Xc.kP,this.u.I):!1;}else this.u.El=this.vma(0,!0).El;};c.prototype.zB=function(){(0,f.na)(this.ha,"Unexpected call to isAtLiveEdge(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");this.p2();return this.qha.value;};c.prototype.ET=function(){(0,f.na)(this.ha,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");return this.EL.value;};c.prototype.fB=function(h){var m,p,q;(0,f.na)(this.ha,"Unexpected call to getLiveEventState(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");h=null !== (m=null !== h && void 0 !== h?h:this.u.mediaTime.value) && void 0 !== m?m:0;m=null !== (p=this.ei) && void 0 !== p?p:Infinity;p=null !== (q=this.Ll) && void 0 !== q?q:Infinity;return h < m?g.Kr.PP:h > p?g.Kr.vba:g.Kr.eca;};c.prototype.S5=function(){var h;(0,f.na)(this.ha,"Unexpected call to isLiveEventEnded(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");h=this.Iq();return void 0 !== this.Ll && void 0 !== h && this.Ll < h;};c.prototype.RMb=function(){var h;(0,f.na)(this.ha,"Unexpected call to isLiveEventEnded(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");h=this.Iq();return void 0 !== this.ei && void 0 !== h && this.ei < h;};c.prototype.A1a=function(){var h;(0,f.na)(this.ha,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");return this.j.paused.value && !(null === (h=this.j.paused.Fh) || void 0 === h?0:h.qM);};c.prototype.xXa=function(){this.fB() !== g.Kr.PP || this.zB() || void 0 !== this.nF || this.t9();};c.prototype.p2=function(){var h;(0,f.na)(this.ha,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");this.qha.set(this.ET() && this.N1a(null !== (h=this.u.mediaTime.value) && void 0 !== h?h:0));};c.prototype.ija=function(h){var m,p;(0,f.na)(this.ha,"Unexpected call to convertPtsToEventTime(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,f.na)(null === (m=this.u.W) || void 0 === m?void 0:m.Fa.wj,"Live manifest is unavailable.");m=this.u.W.Fa.wj;p=new Date(m.Uua[m.fka[this.u.W.Fa.Pt[0].streams[0].Lm]].c2).getTime();return new Date(p - m.K3 + h).toISOString();};c.prototype.KTa=function(h){var m,p,q;(0,f.na)(this.ha,"Unexpected call to convertEventTimeToPts(). isLive:" + this.ha);(0,f.na)(this.j && this.j.aa === this.u,"Playback is required for live.");(0,f.na)(null === (m=this.u.W) || void 0 === m?void 0:m.Fa.wj,"Live manifest is unavailable.");if(h){m=this.u.W.Fa.wj;p=m.Uua[m.fka[this.u.W.Fa.Pt[0].streams[0].Lm]];q=new Date(h).getTime() + m.K3 - new Date(p.c2).getTime();if(isNaN(q) || 0 > q)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (h + ", eventAvailabilityOffsetMs:") + (m.K3 + ", availabilityStartTime:") + p.c2);else return q;}};Wa.Object.defineProperties(c.prototype,{ha:{configurable:!0,enumerable:!0,get:function(){var h,m;h=this.u;m=h.W;return m?(h=m.Fa,m=h.wj,"LIVE" === h.eg && !!m):"live" === h.wd;}}});b.bFa=c;},82503:function(r,b,a){var k,f;function c(l,d,g,n){this.config=l;this.G9=n;this.log=d.Ua("LivePlaybackRateController");this.S2b=g((0,k.Kb)(this.config().DOb));}Object.defineProperty(b,"__esModule",{value:!0});b.dFa=void 0;k=a(2467);f=a(19591);c.prototype.hO=function(l,d,g){var n,h;n=this;if(!l || void 0 === d || void 0 === g || Math.abs(d - g) < this.config().EOb)h=1;else (l=g - d,l=1 + this.config().COb / 1E3 * l,h=(0,f.Hw)(l,this.config().GOb,this.config().FOb));this.S2b.Hj(function(){!1;n.G9(h);});};b.dFa=c;},6686:function(r,b,a){var d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L,N;function c(){this.r$=[];this.x3b=50;}function k(I){var O;O=this;this.j=I;this.Ydb=Promise.resolve();this.cCa=pb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.iE=[];this.Uj=new h.Rj();this.yNa=0;this.h0=[];this.Di=(0,q.Gh)(this.j,"MediaElementASE");this.ePa=g.Gw;this.Rea=!1;this.Rb=new c();this.zn={};this.SNa={};this.v4=this.i0(function(){var K;if(O.$)return null !== (K=O.$.webkitDecodedFrameCount) && void 0 !== K?K:0;});this.jv=this.i0(function(){var K;if(O.$){K=O.jfa();return K?K.totalVideoFrames:O.$.webkitDecodedFrameCount;}});this.wF=this.i0(function(){var K;if(O.$){K=O.jfa();return K?K.droppedVideoFrames:O.$.webkitDroppedFrameCount;}});this.bT=this.i0(function(){var K;if(O.$){K=O.jfa();return K && K.corruptedVideoFrames;}});this.mOa=function(K){!1;O.Uj.Dc(C.dj.G2a,{J:K});};this.Qk=q.za.get(B.XEa).create(n.config.Dr,this,this.j);n.config.KB && (this.Ydb=new Promise(function(K){O.ePa=K;O.j.addEventListener(G.ea.tg,K);}));this.Di.trace("Created Media Element");this.addEventListener=this.Uj.addListener;this.removeEventListener=this.Uj.removeListener;}function f(I){var O,K;O=q.za.get(D.dNa).TIb();I=I.width / I.height * O.height;K=(O.width - I) / 2;return n.config.e0b?(0,p.createElement)("VIDEO","position:absolute;width:" + I + "px;height:" + O.height + "px;left:" + K + "px;top:0px"):(0,p.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function l(I){I.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.mGa=void 0;d=a(31978);g=a(7942);n=a(37986);h=a(59883);m=a(25892);p=a(24133);q=a(89082);u=a(68172);t=a(70633);w=a(19591);v=a(81291);y=a(30818);x=a(25420);z=a(50876);A=a(95919);B=a(55463);C=a(99230);D=a(80911);F=a(2467);G=a(34202);E=a(3971);J=a(85060);L=a(18920);N=!!(z.Ez && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);k.prototype.eL=function(I){try{this.$ && (this.yNa=this.$.currentTime);}catch(O){this.Di.error("Exception while getting VIDEO.currentTime",O);I && this.iQ(u.U.Fkb,O);}return (0,z.nn)(this.yNa * g.Lr);};k.prototype.seek=function(I){var O;(0,t.na)(!this.Qo);this.XOa();O=this.eL(!0);if(!n.config.vrb && (0,z.WZ)(O - I) <= this.T9a)(this.Di.trace("Seek delta too small",{currentTime:O,seekTime:I,min:this.T9a}),this.Rb.trace("smallseek",I));else {this.Rb.trace("seek",I);try{this.Di.trace("Setting video elements currentTime",{From:(0,w.ih)(O),To:(0,w.ih)(I)});this.Qo={};this.$.currentTime=I / g.Lr;this.Uj.Dc(C.dj.Gn);}catch(K){this.Di.error("Exception while setting VIDEO.currentTime",K);this.iQ(u.U.Gkb,K);}}};k.prototype.UZa=function(){return !!this.Qo;};k.prototype.addSourceBuffer=function(I){var O;try{O=new d.Cca(this.j,I,this.Ei,this.Di);this.iE.push(O);I == g.uP && O.sla && O.sla.addListener(this.ePa);return O;}catch(K){O=(0,y.ue)(K);this.Di.error("Unable to add source buffer.",{error:O});this.j.od(u.U.Zca,{xa:I === L.v.fa?u.R.xca:u.R.yca,Jb:O});}};k.prototype.Lga=function(I){var O;O=this;I.forEach(function(K){return O.addSourceBuffer(K);});this.Uj.Dc(C.dj.pab);return !0;};k.prototype.removeSourceBuffer=function(I){this.iE=this.iE.filter(function(O){return !(0,p.jTa)(I,O);});this.Ei.removeSourceBuffer(I);};k.prototype.endOfStream=function(){this.Rb.trace("endofstream");!1;n.config.gia && this.Ei.endOfStream();};k.prototype.Cs=function(I){!1;this.iE=[];I && I.Vec();return !0;};k.prototype.oZa=function(){if(this.Ei)return (0,F.n7a)(this.Ei.duration);};k.prototype.dBb=function(){var I;if(!this.Rea && this.$ && this.$.readyState >= E.om.bP.HAVE_CURRENT_DATA){I=this.$.webkitDecodedFrameCount;if(void 0 === I || 0 < I || n.config.l6b)this.Rea=!0;}return this.Rea;};k.prototype.open=function(){var I,O,K;I=this;this.$=f(this.j.MC.value);this.sourceBuffers=this.iE;this.j.addEventListener(G.ea.aab,function(H){return I.Fob(H);});if(N){this.j.aG && !n.config.ldb && this.Qk.Q7();try{this.Ei=new z.Ez();}catch(H){this.iQ(u.U.wkb,H);return;}try{this.Xf=URL.createObjectURL(this.Ei);}catch(H){this.iQ(u.U.xkb,H);return;}try{this.Qk.Iqb(this.mOa);this.Ei.addEventListener("sourceopen",function(H){return I.GOa(H);});this.Ei.addEventListener(this.cCa + "sourceopen",function(H){return I.GOa(H);});this.$.addEventListener("error",this.zn.error=function(H){return I.Kfa(H);});this.$.addEventListener("seeking",this.zn.seeking=function(){return I.Eob();});this.$.addEventListener("seeked",this.zn.seeked=function(){return I.Dob();});this.$.addEventListener("timeupdate",this.zn.timeupdate=function(){return I.Hob();});this.$.addEventListener("loadstart",this.zn.loadstart=function(){return I.Bob();});this.$.addEventListener("volumechange",this.zn.volumechange=function(H){return I.Iob(H);});this.$.addEventListener(this.Qk.YB,this.zn[this.Qk.YB]=function(){I.Di.trace(I.Qk.YB);I.Cob();});O=this.j.qk;K=O.lastChild;K?O.insertBefore(this.$,K):O.appendChild(this.$);n.config.oVa && this.$.addEventListener("contextmenu",l);this.$.src=this.Xf;m.he.addListener(m.Kq,this.SNa[m.Kq]=function(){return I.FOa();});this.FOa();}catch(H){this.iQ(u.U.ykb,H);}}else this.d0(u.U.NHa);};k.prototype.close=function(){var O;function I(){O.Xf && (O.XOa(),m.he.removeListener(m.Kq,O.SNa[m.Kq]),O.Imb());}O=this;this.Rb.trace("close");this.$.removeEventListener(this.Qk.YB,this.zn[this.Qk.YB]);this.$.removeEventListener("error",this.zn.error);this.$.removeEventListener("seeking",this.zn.seeking);this.$.removeEventListener("seeked",this.zn.seeked);this.$.removeEventListener("timeupdate",this.zn.timeupdate);this.$.removeEventListener("loadstart",this.zn.loadstart);this.$.removeEventListener("volumechange",this.zn.volumechange);this.Qk.fYb(this.mOa);n.config.Dr?this.Qk.My().then(function(){return I();}):I();this.Qk.T8a && clearTimeout(this.Qk.T8a);};k.prototype.iB=function(){return this.Rb.iB();};k.prototype.Cob=function(){n.config.ldb && this.Qk.Q7();};k.prototype.jfa=function(){if(this.$)return this.$.getVideoPlaybackQuality && this.$.getVideoPlaybackQuality() || this.$.videoPlaybackQuality || this.$.playbackQuality;};k.prototype.wpb=function(){var I;I=this.j.ph;return (I=I && I.errorCode) && 0 <= [u.U.i_,u.U.PZ].indexOf(I);};k.prototype.Imb=function(){var I;I=!1;n.config.ZVb && this.wpb() && (I=!0);n.config.Mvb && !I && (this.$.removeAttribute("src"),this.$.load && this.$.load());URL.revokeObjectURL(this.Xf);n.config.oVa && this.$.removeEventListener("contextmenu",l);!I && this.$ && this.j.qk.removeChild(this.$);this.$=this.Ei=void 0;this.Xf="";};k.prototype.FOa=function(){!0 === z.Og.hidden?this.h0.forEach(function(I){I.refresh();I.p1b();}):this.h0.forEach(function(I){I.refresh();I.E1b();});};k.prototype.i0=function(I){var O;O=q.za.get(v.uHa)(I);this.h0.push(O);return function(){O.refresh();return O.MGb();};};k.prototype.iQ=function(I,O){var K,H;K={xa:u.R.nl,Jb:(0,y.ue)(O)};try{(H=O.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == H.length && (K.Ee=H);}catch(M){}this.j.od(I,K);};k.prototype.XOa=function(){this.h0.forEach(function(I){I.refresh();});};k.prototype.qnb=function(){return this.$ && this.$.msGraphicsTrustStatus;};k.prototype.d0=function(I,O){this.j.od(I,O,void 0);};k.prototype.Fob=function(I){var O,H,M,R,Y,ea,ca;if(this.$){I=I.M$;O=this.qnb();O && (I.ConstrictionActive=O.constrictionActive,I.Status=O.status);try{I.readyState="" + this.$.readyState;I.currentTime="" + this.$.currentTime;I.pbRate="" + this.$.playbackRate;}catch(oa){}O=this.iE.length;for(var K;O--;){K=this.iE[O];H="";K.type == g.VZ?H="audio":K.type == g.uP && (H="video");(0,y.Sd)(I,K.n4(),{prefix:H});}this.Ei && (O=this.Ei.duration) && !isNaN(O) && (I.duration=O.toFixed(4));if(n.config.ZOb)try{M=this.j.ee;R=M && M.Ab;if(R){Y=R.expiration;isNaN(Y) || (I.exp=Y);ea=R.keyStatuses.entries();if(ea.next){ca=ea.next().value;ca && (I.keyStatus=ca[1]);}}}catch(oa){}}};k.prototype.GOa=function(I){!1;this.ypb || (this.ypb=!0,this.Uj.Dc(C.dj.rab,I));};k.prototype.Eob=function(){this.Rb.trace("seeking");this.Di.trace("Video element event: seeking");this.Qo?this.Qo.mSb=!0:(this.Di.error("unexpected seeking event"),n.config.aEb && this.d0(u.U.Lkb,{Jb:{Trace:this.iB()}}));};k.prototype.Dob=function(){this.Rb.trace("seeked");this.Di.trace("Video element event: seeked");this.Qo?((0,t.na)(this.Qo.mSb),this.Qo.lSb=!0,this.zPa()):(this.Di.error("unexpected seeked event"),n.config.$Db && this.d0(u.U.Kkb,{Jb:{Trace:this.iB()}}));};k.prototype.Hob=function(){var I;this.Rb.trace("timeupdate",null === (I=this.$) || void 0 === I?void 0:I.currentTime);!1;this.Qo && (this.Qo.oSb=!0,this.zPa());this.Uj.Dc(C.dj.Gn);};k.prototype.Bob=function(){this.Di.trace("Video element event: loadstart");};k.prototype.Iob=function(I){this.Di.trace("Video element event:",I.type);try{this.j.volume.set(this.$.volume);this.j.muted.set(this.$.muted);}catch(O){this.Di.error("error updating volume",O);}};k.prototype.Kfa=function(I){var O,K,H,M,R,Y,ea,ca;O=this.d0;K=u.U.MHa;H=u.tCa;M=this.iB();R=I.target;Y=R && R.error;ea=I.errorCode;R=Y && Y.code;(0,A.Sc)(R) || (R=ea && ea.code);ea=Y && Y.message;ca=Y && Y.msExtendedCode;(0,A.Sc)(ca) || (ca=Y && Y.systemCode);(0,A.Sc)(ca) || (ca=I.systemCode);(0,A.Sc)(ca) || (ca=(0,J.Hma)(ea));I=(0,y.Sd)({},{code:R,systemCode:ca,trace:JSON.stringify(M)},{U7:!0});H={xa:H(R),Jb:(0,x.Opa)(I)};try{ea && (H.OU=ea);}catch(oa){}ca=(0,y.Vi)(ca);(0,A.tb)(ca) && (H.Ee=(0,q.Gha)(ca,4));O.call(this,K,H);};k.prototype.zPa=function(){this.Qo && this.Qo.lSb && this.Qo.oSb && (this.Rb.trace("seekcomplete"),this.Qo=void 0,this.Uj.Dc(C.dj.tW));};Wa.Object.defineProperties(k.prototype,{T9a:{configurable:!0,enumerable:!0,get:function(){return n.config.Z0b;}}});b.mGa=k;c.prototype.trace=function(I,O){this.r$.push([I,O]);this.r$.length > this.x3b && this.r$.shift();};c.prototype.iB=function(){return this.r$;};},68872:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p,q){var u;u=this;this.Wl=p;this.Js=q;this.bcb=function(t){var w,v,y,x,z,A;w=u.vbb++;v=t.request.MA || "dl";y=u.i_a(v,"start");if(y){x=t.request.RB.I;if(x && !u.Eab.has(x)){z=u.BZa(x);A=t.Lv;u.Wl.mark(y,z,A?v + "-" + A + "-" + w:v);t.v1(function(){var B,C;B=u.i_a(v,"end");C=A?v + "-" + A + "-" + w:v;B && u.Wl.mark(B,z,C);});}}};this.vbb=0;this.Eab=new Set();this.Vua=new Map();q.xS && this.p6b();}Object.defineProperty(b,"__esModule",{value:!0});b.JGa=void 0;r=a(70655);k=a(86700);f=a(3971);l=a(85643);d=a(2467);g=a(89927);n=a(53685);h=a(75183);m={start:{video:f.Na.OO,audio:f.Na.KO},end:{video:f.Na.NO,audio:f.Na.JO}};c.prototype.CZa=function(p){var u,t,w,v,y,x,z,A;function q(B){return (0,d.timestamp)(u.tQa((0,d.timestamp)(B),p,!0));}u=this;t=new Set();w=p.Tc;v=p.ma;y=void 0 === p.zab?null:p.zab;x=p.I;z=this.Wl.lZa(v);A=x && this.BZa(x);A && z.push.apply(z,da(this.Wl.lZa(A)));this.Wl.J8a(p.ma);A && this.Wl.J8a(A);x && this.Eab.add(x);x=[];("pr_ats" in w) && x.push({name:f.Na.w_,xr:q(w.pr_ats),ma:v,Af:"request-pre-manifest"});("ats" in w) && x.push({name:f.Na.u_,xr:q(w.ats),ma:v,Af:"request-manifest"});("pr_at" in w) && x.push({name:f.Na.v_,xr:q(w.pr_at),ma:v,Af:"request-pre-manifest"});("at" in w) && x.push({name:f.Na.t_,xr:q(w.at),ma:v,Af:"request-manifest"});("lg" in w) && x.push({name:f.Na.s_,xr:q(w.lg),ma:v,Af:"request-license"});("lr" in w) && (x.push({name:f.Na.r_,xr:q(w.lr),ma:v,Af:"request-license"}),x.push({name:f.Na.$X,xr:q(w.lr),ma:v,Af:"apply-license"}));("ld" in w) && x.push({name:f.Na.ZX,xr:q(w.ld),ma:v,Af:"apply-license"});("tt_start" in w) && x.push({name:f.Na.MO,xr:q(w.tt_start),ma:v,Af:"request-timed-text"});("tt_comp" in w) && x.push({name:f.Na.LO,xr:q(w.tt_comp),ma:v,Af:"request-timed-text"});return x.concat(z).map(function(B){return u.k3b(B,p);}).filter(function(B){return B.ts <= (null !== y && void 0 !== y?y:B.ts)?("end" === B.step && t.add(B.eventId),!0):!1;}).filter(function(B){return "start" !== B.step || t.has(B.eventId)?!0:!1;}).sort(function(B,C){return B.ts - C.ts;}).reduce(function(B,C){var D;D=C.eventName;delete C.eventName;D && (B[D]=C);return B;},{});};c.prototype.hrb=function(p,q,u){return (void 0 === u?0:u)?p.ba(d.oa) + q.Nh.ba(d.oa):p.ba(d.oa) - q.Nh.ba(d.oa);};c.prototype.tQa=function(p,q,u){u=void 0 === u?!1:u;if(q.hm)if(u)p.ba(d.oa) + q.hm;else return p.ba(d.oa) - q.hm;return this.hrb(p,q,u);};c.prototype.k3b=function(p,q){var u,t;u=p.Af;t=p.name;return {eventName:this.LRb(t,u),eventId:u || t,ts:this.tQa(p.xr,q),comp:this.aT(t),cat:this.xGb(t),step:this.oJb(t)};};c.prototype.LRb=function(p,q){switch(p){case f.Na.MO:case f.Na.LO:case f.Na.KO:case f.Na.JO:case f.Na.OO:case f.Na.NO:return p + "-" + q;default:return p;}};c.prototype.aT=function(p){switch(p){case f.Na.w_:case f.Na.v_:case f.Na.u_:case f.Na.t_:return "manifest";case f.Na.s_:case f.Na.r_:case f.Na.Rda:case f.Na.Qda:case f.Na.SY:case f.Na.RY:case f.Na.$X:case f.Na.ZX:return "license";case f.Na.MO:case f.Na.LO:case f.Na.KO:case f.Na.JO:case f.Na.OO:case f.Na.NO:case f.Na.daa:case f.Na.caa:return "buffering";case f.Na.Wca:case f.Na.Vca:return "playback";default:return (0,h.CS)(p);}};c.prototype.xGb=function(p){switch(p){case f.Na.w_:case f.Na.v_:case f.Na.u_:case f.Na.t_:return "aws";case f.Na.s_:case f.Na.r_:return "mixed";case f.Na.Wca:case f.Na.Vca:case f.Na.Rda:case f.Na.Qda:case f.Na.SY:case f.Na.RY:case f.Na.$X:case f.Na.ZX:case f.Na.daa:case f.Na.caa:return "device";case f.Na.MO:case f.Na.LO:case f.Na.KO:case f.Na.JO:case f.Na.OO:case f.Na.NO:return "cdn";default:return (0,h.CS)(p);}};c.prototype.oJb=function(p){switch(p){case f.Na.w_:case f.Na.Wca:case f.Na.u_:case f.Na.s_:case f.Na.daa:case f.Na.MO:case f.Na.KO:case f.Na.OO:case f.Na.Rda:case f.Na.SY:case f.Na.$X:return "start";case f.Na.v_:case f.Na.Vca:case f.Na.t_:case f.Na.r_:case f.Na.Qda:case f.Na.RY:case f.Na.ZX:case f.Na.caa:case f.Na.LO:case f.Na.JO:case f.Na.NO:return "end";default:return (0,h.CS)(p);}};c.prototype.i_a=function(p,q){if((p in m[q]))return m[q][p];};c.prototype.o4b=function(){g.Ie.removeEventListener(g.m5,this.bcb);};c.prototype.p6b=function(){this.o4b();g.Ie.addEventListener(g.m5,this.bcb);};c.prototype.BZa=function(p){var q;if(this.Vua.has(p))return this.Vua.get(p);q=Date.now();this.Vua.set(p,q);return q;};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.BP)),r.__param(1,(0,k.l)(n.kn))],a);b.JGa=a;},70858:function(r,b,a){var f,l,d,g,n,h,m,p,q,u;function c(t,w,v,y,x,z){var A;A=this;this.Xg=t;this.config=v;this.ub=y;this.debug=x;this.zE={};this.vVa=!1;this.CR={};this.soa=0;this.y4=function(B){var C,D,F;C=B.stream;if(C){B=C.Ub;D=C.bitrate;F=C.zb;}else B=B.track.Ub;return {key:B + "$" + D + "$" + F,Ub:B,bitrate:D,zb:F};};this.CYa=function(B){var C,D,F;D=A.y4(B);F=null === (C=B.Bc) || void 0 === C?void 0:C.id;B=B.track.Af;return Object.assign({},D,{key:D.key + "$" + F + "$" + B,Em:F,Af:B});};this.uGb=function(B){var C;C=B.stream;B=null === C || void 0 === C?void 0:C.Ub;C=null === C || void 0 === C?void 0:C.bitrate;return {key:B + "$" + C,Ub:null !== B && void 0 !== B?B:"",iM:C};};this.TJb=function(B){var C;C=B.stream;B=null === C || void 0 === C?void 0:C.Ub;C=null === C || void 0 === C?void 0:C.zb;return {key:B + "$" + C,Ub:null !== B && void 0 !== B?B:"",iM:C};};this.log=w.Ua("PlayTimeTracker");this.m8=z(t);this.st=z(t);this.xsa=z(t);this.startTime=this.Xg.mediaTime.value;this.C6=this.config().bqb;this.eI();this.zE.abrdel=0;this.C6.forEach(function(B){B="abrdel" + B;A.CR[B]=0;A.zE[B]=0;});}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.bJa=void 0;r=a(70655);f=a(86700);l=a(71163);d=a(17244);g=a(98540);a(2467);n=a(89542);h=a(78616);m=a(7942);p=a(30818);q=a(67789);u=a(79426);k.prototype.encode=function(t){return {downloadableId:t.Ub,correlationId:t.Af,bitrate:t.bitrate,vmaf:t.zb,duration:t.duration,metric:t.iM,cdnId:t.Em};};k.prototype.decode=function(t){return {Ub:t.downloadableId,Af:t.correlationId,bitrate:t.bitrate,zb:t.vmaf,duration:t.duration,iM:t.metric,Em:t.cdnId};};c.prototype.np=function(t){t=void 0 === t?"content":t;this.zC(this.Xg.mediaTime.value);return Math.floor(this.st.np(function(w){return w.track.gC === t;}));};c.prototype.JYa=function(t){this.zC(this.Xg.mediaTime.value);return Math.floor(this.st.np(t));};c.prototype.wT=function(t){var w;t=void 0 === t?"content":t;this.zC(this.Xg.mediaTime.value);w=this.st.wT(function(v){return v.track.gC === t;});this.debug.assert(w === Math.floor(w),"Value of totalContentPlayTime is not an integer.");return Math.floor(w);};c.prototype.mGb=function(){this.zC(this.Xg.mediaTime.value);return {audio:this.dT(this.m8,this.CYa),video:this.dT(this.st,this.CYa)};};c.prototype.BIb=function(){var t,w,v;t=this.np("content");w=this.np("ads");v=this.np("other");t={total:t,totalAdDuration:w,totalOtherDuration:v,totalCombinedDuration:t + w + v,totalContentTime:this.wT("content"),totalStartSlateDuration:this.JYa(function(y){return !0 === y.Aoa;}),totalLiveEdgeDuration:this.JYa(function(y){return !0 === y.zB;}),audio:this.dT(this.m8,this.y4),video:this.dT(this.st,this.y4),timedtext:this.dT(this.xsa,this.y4)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.Ula=function(){var t,w;this.zC(this.Xg.mediaTime.value);t=this.st.Pla(this.uGb);try{w=this.$Xa(t);}catch(v){return (this.log.warn("Failed to calc average bitrate."),null);}this.zE.abrdel=Math.round(w);return this.zE.abrdel;};c.prototype.aYa=function(){var t,w;this.zC(this.Xg.mediaTime.value);t=this.st.Pla(this.TJb);try{w=this.$Xa(t);}catch(v){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(w);};c.prototype.ZXa=function(){var t,w;t=this;if(!this.vVa){w=this.np();this.C6.forEach(function(v){var y,x,z;if(0 === t.CR["abrdel" + v] && w > v * m.Lr){y=0;x=0;z=0;t.st.some(function(A){y+=A.stream.bitrate * (A.endTime - A.startTime);x+=A.endTime - A.startTime;z=A.stream.bitrate;return x > v * m.Lr;});y && (t.CR["abrdel" + v]=Math.round((y - z * (x - v * m.Lr)) / (v * m.Lr)));}});0 !== this.CR["abrdel" + this.C6[this.C6.length - 1]] && (this.vVa=!0);(0,p.$f)(this.CR,function(v,y){t.zE[v]=0 === y?t.zE.abrdel:y;});}return this.zE;};c.prototype.Gqb=function(t){this.soa+=t;};c.prototype.k5=function(){return this.st.k5();};c.prototype.eI=function(){var t;t=this;this.Xg.pf.addListener(function(w){t.qK=t.rSa(t.qK,t.m8,w.newValue);});this.Xg.Td.addListener(function(w){t.sK=t.rSa(t.sK,t.st,w.newValue);});this.Xg.playbackRate.addListener(function(w){t.zC(t.Xg.mediaTime.value,w.oldValue);});this.Xg.Yh.addListener(this.BSb.bind(this));};c.prototype.cra=function(t,w){this.zC(t);this.startTime=w;this.sK=this.qK=void 0;this.rK && (this.rK.startTime=this.startTime);!1;};c.prototype.BSb=function(t){this.xsa.xf(this.rK,this.Xg.mediaTime.value);this.rK=(t=t.newValue)?{track:t,startTime:this.Xg.mediaTime.value,endTime:g.Bw}:void 0;};c.prototype.zC=function(t,w){w=void 0 === w?this.Xg.playbackRate.value:w;t && this.qK && this.sK && (t=Math.min(t,this.qK.endTime,this.sK.endTime),this.m8.xf(this.qK,t,w),this.qK.startTime=t,this.st.xf(this.sK,t,w),this.sK.startTime=t,this.rK && (this.xsa.xf(this.rK,t,w),this.rK.startTime=t),this.startTime=t,!1);};c.prototype.rSa=function(t,w,v){var y;t && w.xf(t,Math.min(t.endTime,this.Xg.mediaTime.value));if(v && v.stream){t=v.fK;w=v.stream;y=this.Xg.cd;return {Bc:v.Bc,track:w.track,stream:w,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime,Aoa:y.ha?y.fB(t.endTime) === u.Kr.PP:void 0,zB:y.ha?y.ET():void 0};}};c.prototype.dT=function(t,w){return t.Pla(w,"content").map(function(v){return new k().encode(v);});};c.prototype.$Xa=function(t){var w,v,y;w=this;v=0;t.forEach(function(x){if(w.ub.vg(x.duration) && w.ub.vg(x.iM))v+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!v)return 0;y=0;t.forEach(function(x){y+=x.iM * x.duration / v;});return y;};a=c;a=r.__decorate([(0,f.T)(),r.__param(1,(0,f.l)(l.Xa)),r.__param(2,(0,f.l)(d.ac)),r.__param(3,(0,f.l)(n.Wf)),r.__param(4,(0,f.l)(h.pw)),r.__param(5,(0,f.l)(q.xda))],a);b.bJa=a;},9518:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L,N,I,O;function c(K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,U,Z,Q,ka,P,fa,ua,pa,Ra,Pa,db,wb,nb,Bb){this.ay=K;this.rA=H;this.Ea=M;this.qa=R;this.btb=Y;this.uwa=ea;this.EU=ca;this.Spa=oa;this.YL=Ga;this.Zc=Fa;this.th=Ja;this.vi=Xa;this.WJ=cb;this.GV=U;this.Lh=Z;this.Pwa=Q;this.Pf=ka;this.Wl=P;this.Yd=fa;this.usa=ua;this.uYb=pa;this.lha=Ra;this.sG=Pa;this.esa=db;this.uga=wb;this.dub=nb;this.TJ=Bb;}Object.defineProperty(b,"__esModule",{value:!0});b.iJa=void 0;r=a(70655);k=a(24166);f=a(86700);l=a(74509);d=a(60634);g=a(58998);n=a(35664);h=a(63406);m=a(69379);p=a(93592);q=a(14697);u=a(76820);t=a(97636);w=a(72611);v=a(5690);y=a(11430);x=a(21182);z=a(53113);A=a(14959);B=a(89682);C=a(35054);D=a(85643);F=a(17);G=a(57046);E=a(4988);J=a(76586);L=a(61886);N=a(1414);I=a(24060);c.prototype.create=function(K,H,M,R,Y,ea,ca,oa){return new (a(61581).kJa)(K,H,ea,ca,R,Y,this.ay,M,this.Ea,this.rA,this.qa,this.EU,this.btb,this.uwa,this.Spa,this.YL,this.Zc,this.th,this.vi,this.WJ,this.GV,this.Lh,this.Pwa,this.Pf,this.Yd,this.usa,this.Wl,this.uYb(),this.lha,this.sG,this.esa,this.uga,this.dub,void 0,oa);};O=c;O=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(k.zw)),r.__param(1,(0,f.l)(d.Th)),r.__param(2,(0,f.l)(g.Jc)),r.__param(3,(0,f.l)(n.gg)),r.__param(4,(0,f.l)(h.pza)),r.__param(5,(0,f.l)(l.yD)),r.__param(6,(0,f.l)(m.zca)),r.__param(7,(0,f.l)(p.aGa)),r.__param(8,(0,f.l)(q.rP)),r.__param(9,(0,f.l)(u.BD)),r.__param(10,(0,f.l)(t.KP)),r.__param(11,(0,f.l)(w.tD)),r.__param(12,(0,f.l)(y.yza)),r.__param(13,(0,f.l)(x.wda)),r.__param(14,(0,f.l)(J.lD)),r.__param(15,(0,f.l)(z.uMa)),r.__param(16,(0,f.l)(A.pm)),r.__param(17,(0,f.l)(D.BP)),r.__param(18,(0,f.l)(B.jh)),r.__param(19,(0,f.l)(C.lJa)),r.__param(20,(0,f.l)(F.BKa)),r.__param(21,(0,f.l)(G.Mya)),r.__param(22,(0,f.l)(E.Gca)),r.__param(23,(0,f.l)(L.EIa)),r.__param(24,(0,f.l)(N.kya)),r.__param(25,(0,f.l)(I.Xaa)),r.__param(26,(0,f.l)(v.CO)),r.__param(26,(0,f.optional)())],O);b.iJa=O;},61581:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L,N,I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb;function c(U,Z,Q,ka,P,fa,ua,pa,Ra,Pa,db,wb,nb,Bb,Qa,Za,hb,lb,yb,Hb,Jb,Eb,Lb,Rb,bc,Ib,Ob,Sb,cc,nc,Ac,Pc,Yd,Lf,Zd){var zb,Mf;function gf(tb){tb.newValue && tb.newValue.stream && (zb.Td.removeListener(gf),zb.E5=tb.newValue.stream.bitrate);}function hf(tb){tb.newValue !== R.bb.Gf && tb.newValue !== R.bb.Vh && (zb.lb.removeListener(hf),zb.ey=zb.qa.oH,zb.Db.Dc(R.ea.ot));}function jf(tb){tb.newValue !== R.bb.Gf && (zb.lb.removeListener(jf),zb.Wk=!0,zb.FV=zb.qa.fe.ba(D.oa),zb.Db.Dc(R.ea.Wk));}zb=this;this.ib=P;this.Pj=fa;this.ay=ua;this.Ea=Ra;this.rA=Pa;this.qa=db;this.EU=wb;this.Spa=Qa;this.YL=Za;this.Zc=hb;this.th=lb;this.vi=yb;this.WJ=Hb;this.GV=Jb;this.Lh=Eb;this.Pwa=Lb;this.Pf=Rb;this.Yd=bc;this.usa=Ib;this.Wl=Ob;this.Y8a=Sb;this.lha=cc;this.sG=nc;this.esa=Ac;this.uga=Pc;this.aia=Yd;this.TJ=Lf;this.e7a=[];this.Gp=new Map();this.e0a=new Map();this.tc=new q.Gb(null);this.Mg=new q.Gb(null);this.wb=new q.Gb(null);this.Yh=new q.Gb(null);this.Ht=new q.Gb(void 0);this.Oe=new q.Gb(null);this.Qg=new q.Gb(null);this.mediaTime=new q.Gb(void 0);this.playbackRate=new Fa.pJa(1,u.config.eqa);this.background=new q.Gb(!0);this.s4b=function(tb){return zb.tc.set(tb.newValue);};this.Z4b=function(tb){return zb.Mg.set(tb.newValue);};this.W4b=function(tb){return zb.wb.set(tb.newValue);};this.q4b=function(tb){return zb.Yh.set(tb.newValue);};this.V4b=function(tb){return zb.Ht.set(tb.newValue);};this.Y4b=function(tb){return zb.Oe.set(tb.newValue);};this.r4b=function(tb){return zb.Qg.set(tb.newValue);};this.N4b=function(tb){return zb.Td.set(tb.newValue);};this.M4b=function(tb){return zb.pf.set(tb.newValue);};this.K4b=function(tb){return zb.mediaTime.set(tb.newValue);};this.t4b=function(tb){return zb.background.set(tb.newValue);};this.hO=function(tb){return zb.playbackRate.set(tb.newValue);};this.Zn={};this.mua=this.Iwa=0;this.Db=new t.Rj();this.M$={};this.QW=this.V6a=this.Wk=!1;this.MC=new q.Gb(void 0);this.state=new q.Gb(R.Tb.II);this.Oh=new q.Gb(!1);this.paused=new q.Gb(!1);this.muted=new q.Gb(!1);this.volume=new q.Gb(u.config.tAb / 100);this.lb=new q.Gb(R.bb.Gf);this.ff=new q.Gb(R.sf.Qe);this.sq=new q.Gb(R.sf.Qe);this.fm=new q.Gb(R.sf.Qe);this.pf=new q.Gb(null);this.Td=new q.Gb(null);this.Wha=new q.Gb(null);this.o5=(0,m.JDa)(this);this.Bc=[new q.Gb(null),new q.Gb(null)];this.Hha={};this.uS=!1;this.qb=this.al=-1;this.HF=function(tb,Yb){var Qc;tb=void 0 === tb?null:tb;return (0,N.tb)(tb)?Yb && !zb.fi(Yb).W?tb:(null === (Qc=zb.Za) || void 0 === Qc?0:Qc.Ah)?zb.Za.hja(tb):tb:null;};this.iV=function(){zb.Sva();};this.IA=U;this.addEventListener=this.Db.addListener;this.removeEventListener=this.Db.removeListener;this.fireEvent=this.Db.Dc;this.Gga({J:U,I:ka,Wa:Q || ({})},u.config.fr?this.Zc.Ps(U):void 0,Z);this.log=(0,C.Gh)(this);this.lVa=pa(this);this.atb=nb(this);this.qk=(0,H.createElement)("DIV",p.Lda,void 0,{id:this.O});this.MLb();this.Cc=this.log.Q2("Playback");(0,l.VIa)(this);y.Iz.L4a=this;y.Iz.vla || (y.Iz.vla=this);this.Cc.info("Playback created",this.yg);this.e3a?this.Cc.info("Playback selected for trace playback info logging"):this.Cc.trace("Playback not selected for trace playback info logging");u.config.fr && (this.Zc.iKb(this.O),this.addEventListener(R.ea.ot,function(){zb.Zc.kKb(zb.O);zb.wb.addListener(function(){zb.Zc.u_a();});zb.tc.addListener(function(){zb.Zc.u_a();});}),this.addEventListener(R.ea.tg,function(){zb.Zc.hKb(zb.O);}));this.state.addListener(function(tb){zb.Cc.info("Playback state changed",{From:tb.oldValue,To:tb.newValue});(0,G.na)(tb.newValue > tb.oldValue);});v.he.addListener(v.Nk,this.iV,p.Qca);Mf=Bb((0,D.uh)(1));this.mediaTime.addListener(function(){zb.NEb();Mf.Hj(function(){return zb.kXa();});});this.lb.addListener(function(tb){zb.Cc.info("PresentingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,E.ih)(zb.mediaTime.value)},zb.$s());});this.lb.addListener(function(){zb.Oh.set(zb.lb.value === R.bb.me);});this.ff.addListener(function(tb){zb.Cc.info("BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,E.ih)(zb.mediaTime.value)},zb.$s());});this.sq.addListener(function(tb){zb.Cc.info("AV BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,E.ih)(zb.mediaTime.value)},zb.$s());});this.fm.addListener(function(tb){zb.Cc.info("Text BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,E.ih)(zb.mediaTime.value)},zb.$s());});this.tc.addListener(function(tb){(0,G.na)(tb.newValue && tb.newValue.wg);zb.Cc.info("AudioTrack changed",tb.newValue && ({ToBcp47:tb.newValue.re,To:tb.newValue.trackId}),tb.oldValue && ({FromBcp47:tb.oldValue.re,From:tb.oldValue.trackId}),{MediaTime:(0,E.ih)(zb.mediaTime.value)});});this.wb.addListener(function(tb){(0,G.na)(!tb.newValue || tb.newValue.wg);zb.Cc.info("TimedTextTrack changed",tb.newValue?{ToBcp47:tb.newValue.re,To:tb.newValue.trackId}:{To:"none"},tb.oldValue?{FromBcp47:tb.oldValue.re,From:tb.oldValue.trackId}:{From:"none"},{MediaTime:(0,E.ih)(zb.mediaTime.value)});});this.lb.addListener(jf,p.KI);this.lb.addListener(hf);this.addEventListener(R.ea.ot,function(){zb.QW=!0;zb.zab=zb.LR();zb.ke("start");});this.Td.addListener(gf);(0,B.fJa)(this);y.sn.push(this);u.config.bW && (this.h8=this.usa(this),this.k8=new z.rJa(this));y.sda.forEach(function(tb){tb(zb);});this.Oqb=function(){zb.addEventListener(R.ea.sC,function(tb){var Yb;tb=tb.cc;tb !== R.Xc.Jr && tb !== R.Xc.UI && (null === (Yb=zb.Za) || void 0 === Yb?void 0:Yb.stop());});zb.addEventListener(R.ea.Aj,function(tb){var Yb,Qc,kf,Nf,Hc,$d,Of,ae,lf,Pf;zb.Y8a.Aj(tb);kf=tb.cc;Nf=tb.skip;Hc=tb.u7;$d=tb.kra;Of=tb.O;ae=tb.ws;zb.aa.Vk.cra($d,Hc);if(kf !== R.Xc.UI && kf !== R.Xc.Jr)if(Nf){if(null !== (Yb=zb.Za) && void 0 !== Yb && Yb.bi(Hc)){zb.Cc.trace("Repositioned. Skipping from " + $d + " to " + Hc);tb=function(Zb){zb.log.error("streamingSession.skipped threw an exception",Zb);Zb=Y.Mc.Kla(F.U.Eeb,Zb);zb.hr(Zb.code,Zb);};try{zb.Za.wH(Hc).then(function(Zb){var Rc;Zb.GL || (null === (Rc=zb.Za) || void 0 === Rc?void 0:Rc.play());}).catch(tb);}catch(Zb){tb(Zb);}}else zb.log.error("can skip returned false");}else {zb.Cc.trace("Repositioned. Seeking from " + $d + " to " + Hc);try{lf=zb.ib.K4(zb.aa);Pf=Object.keys(lf.L).find(function(Zb){var Rc;Zb=lf.L[Zb];return Zb.J === Of && Zb.ta <= ae && (null !== (Rc=Zb.sa) && void 0 !== Rc?Rc:Infinity) > ae;});null === (Qc=zb.Za) || void 0 === Qc?void 0:Qc.IZb(ae,Pf);}catch(Zb){zb.log.error("streamingSession.seekByContentPts threw an exception",Zb);Hc=Y.Mc.Kla(F.U.Ceb,Zb);zb.hr(Hc.code,Hc);}}});};this.playbackRate.addListener(function(){var tb,Yb;if(null === (tb=zb.Za) || void 0 === tb?0:tb.Ah)null === (Yb=zb.Za) || void 0 === Yb?void 0:Yb.QUb();});this.addEventListener(R.ea.rx,function(tb){var Yb;tb.cc == y.pda && (zb.ff.set(R.sf.Qe),null === (Yb=zb.Za) || void 0 === Yb?void 0:Yb.jm(zb.je.GYa()));});Zd && (this.aa.W=Zd,this.Lh.UW(U,Zd));}Object.defineProperty(b,"__esModule",{value:!0});b.kJa=void 0;k=a(70655);f=a(88625);l=a(15883);d=a(82134);g=a(25097);n=a(6686);h=a(26047);m=a(93230);p=a(7942);q=a(14414);u=a(37986);t=a(59883);w=a(45108);v=a(25892);y=a(58680);x=a(5917);z=a(22528);A=a(31205);B=a(16512);C=a(89082);D=a(2467);F=a(68172);G=a(70633);E=a(19591);J=a(30818);L=a(66052);N=a(95919);I=a(37021);O=a(56170);K=a(99230);H=a(24133);M=a(93);R=a(34202);Y=a(56003);ea=a(49007);ca=a(89136);oa=a(65853);Ga=a(66119);Fa=a(902);Ja=a(41427);Xa=a(61831);cb=a(18920);c.prototype.ke=function(U,Z){var Q;Z=void 0 === Z?this.IA:Z;null === (Q=this.Gp.get(Z)) || void 0 === Q?void 0:Q.ke(U);};c.prototype.by=function(U){this.aa.by(U);};c.prototype.d5=function(){var U;return !(null === (U=this.W) || void 0 === U || !U.Fa.Hm);};c.prototype.vL=function(){var U,Z,Q;return !(null === (Q=null === (Z=null === (U=this.W) || void 0 === U?void 0:U.Fa.Am) || void 0 === Z?void 0:Z.ce.length) || void 0 === Q || !Q);};c.prototype.MLb=function(){var U;U=this;this.tc.addListener(function(Z){return U.aa.tc.set(Z.newValue);});this.Mg.addListener(function(Z){return U.aa.Mg.set(Z.newValue);});this.wb.addListener(function(Z){return U.aa.wb.set(Z.newValue);});this.Yh.addListener(function(Z){return U.aa.Yh.set(Z.newValue);});this.Ht.addListener(function(Z){return U.aa.Ht.set(Z.newValue);});this.Oe.addListener(function(Z){return U.aa.Oe.set(Z.newValue);});this.Qg.addListener(function(Z){return U.aa.Qg.set(Z.newValue);});this.Td.addListener(function(Z){return U.aa.Td.set(Z.newValue);});this.pf.addListener(function(Z){return U.aa.pf.set(Z.newValue);});this.Bc[cb.v.fa].addListener(function(Z){return U.aa.Bc[cb.v.fa].set(Z.newValue);});this.Bc[cb.v.X].addListener(function(Z){return U.aa.Bc[cb.v.X].set(Z.newValue);});this.mediaTime.addListener(function(Z){return U.aa.mediaTime.set(Z.newValue);});this.background.addListener(function(Z){return U.aa.background.set(Z.newValue);});this.playbackRate.addListener(function(Z){return U.aa.playbackRate.set(Z.newValue);});this.x9a();};c.prototype.x9a=function(){var U;U=this;this.aa !== this.Wua && (this.aa.mediaTime.set(this.mediaTime.value),this.aa.background.set(this.background.value),this.aa.playbackRate.set(this.playbackRate.value),this.wo(function(Z){return Z.tc;},this.s4b),this.wo(function(Z){return Z.Mg;},this.Z4b),this.wo(function(Z){return Z.Ht;},this.V4b),this.wo(function(Z){return Z.wb;},this.W4b),this.wo(function(Z){return Z.Yh;},this.q4b),this.wo(function(Z){return Z.Oe;},this.Y4b),this.wo(function(Z){return Z.Qg;},this.r4b),this.wo(function(Z){return Z.pf;},this.M4b),this.wo(function(Z){return Z.Td;},this.N4b),this.wo(function(Z){return Z.Bc[cb.v.fa];},function(Z){return U.Bc[cb.v.fa].set(Z.newValue);}),this.wo(function(Z){return Z.Bc[cb.v.X];},function(Z){return U.Bc[cb.v.X].set(Z.newValue);}),this.wo(function(Z){return Z.mediaTime;},this.K4b),this.wo(function(Z){return Z.background;},this.t4b),this.wo(function(Z){return Z.playbackRate;},this.hO),this.wb.set(this.aa.wb.value),this.tc.set(this.aa.tc.value,{D1:!0}),this.Mg.set(this.aa.Mg.value),this.Yh.set(this.aa.Yh.value),this.Ht.set(this.aa.Ht.value),this.Oe.set(this.aa.Oe.value),this.Qg.set(this.aa.Qg.value),this.Wua=this.aa);};c.prototype.wo=function(U,Z){this.Wua && U(this.Wua).removeListener(Z);U(this.aa).addListener(Z);};c.prototype.Kub=function(){var U;return !(null === (U=this.bd) || void 0 === U?0:U.Bl.value);};c.prototype.load=function(U){var Z,Q;Z=this;this.load=function(){};this.i7a=U;if(this.state.value == R.Tb.II){this.Cc.info("Playback loading",this);this.TRb();this.ke("asl_load_start");Q=this.rA;U=Q.startTime;Q=Q.endTime;(0,N.Sc)(U)?(0,N.Sc)(Q)?this.ke("asl_ended"):this.ke("asl_in_progress"):this.ke("asl_not_started");this.rA.tU(function(ka){Z.ke("asl_load_complete");ka.ia?Z.Byb():Z.hr(ka.errorCode || F.U.Sba,ka);});}};c.prototype.qVb=function(){!1;try{this.state.value === R.Tb.LOADING && (this.bdb(),this.El=this.WJ.jrb({fz:(0,D.Kb)(this.ab),O:this.O,hC:this.Ex,Wa:this.Wa,bC:this.Wa.bg?u.config.Mra:u.config.bC,cd:this.cd}).ba(D.oa),this.hha(),this.Bzb());}catch(U){this.hr(F.U.vib,{xa:F.R.nl,Jb:(0,J.ue)(U)});}};c.prototype.bdb=function(){var U,Z,Q;Q={width:1,height:1};this.jB({kdb:!0}).forEach(function(ka){Q.width * Q.height < ka.width * ka.height && (Q={width:ka.width,height:ka.height});});Q.height === (null === (U=this.MC.value) || void 0 === U?void 0:U.height) && Q.width === (null === (Z=this.MC.value) || void 0 === Z?void 0:Z.width) || this.MC.set(Q);};c.prototype.Cv=function(){var U,Z;!1;Z=this.ib.K4(this);this.bUa(Z);null === (U=this.Za) || void 0 === U?void 0:U.Ot(Z);};c.prototype.BG=function(U){var Z,Q;!1;(0,G.na)(this.Za,"ASE should be initialized");Q=this.ib.jT(U);Q?U === this.ib.oh?this.Za.u2(Q,!0) || this.AT(Q,{}):null === (Z=this.Za) || void 0 === Z?void 0:Z.Kj(U,Q,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.AT=function(U,Z,Q){var ka,P,fa,ua,pa;ka=this;Q=void 0 === Q?!0:Q;!1;ua=this.ib.Pd(U);if(this.vi.E$ && this.ib.aa.J === ua.J)return Promise.resolve(this.je.seek(ua.ta,R.Xc.Mw,void 0));ua=this.Pj.uL(ua.J);Z=(0,O.Y6)(ua.nb,Z);if(null === (P=this.Za) || void 0 === P || !P.Ah)throw (!1,Error("No streaming session"));!1;this.rE("Transition " + this.ib.oh + "->" + U);pa=this.fi(U);pa.hm=this.Ea.Eb().ba(D.oa);pa.Wa=Z;return "seamless" !== (null !== (fa=this.ib.Pd(U).Xd) && void 0 !== fa?fa:"seamless") || Q?(this.Za.kT(U).HR?this.UJb(U,pa.O):this.sW(U,pa.O)).then(function(){ka.iFb(pa.O);}):Promise.resolve();};c.prototype.sW=function(U,Z){var Q;Q=this.ib.nk.L[U].ta;!1;this.rE("NO DATA " + U + ", SEEKING " + Q + ", viewableId: " + Z);return Promise.resolve(this.je.seek(Q,R.Xc.Mw,U,!0));};c.prototype.UJb=function(U,Z){var Q,ka,P,fa,ua;Q=this;!1;ka=this.Za;if(null === ka || void 0 === ka || !ka.Ah)throw Error("No streaming session");P=new Promise(function(pa){function Ra(){!1;ka.removeEventListener("stop",Ra);pa();}ka.addEventListener("stop",Ra);});fa=!1;ua=new Promise(function(pa){function Ra(db){!1;Q.removeEventListener(R.ea.Aj,Ra);fa=db.skip;pa();}function Pa(){!1;Q.removeEventListener(R.ea.sC,Pa);ka.stop();}Q.addEventListener(R.ea.sC,Pa);Q.addEventListener(R.ea.Aj,Ra);});P=Promise.all([P,ua]).then(function(){var pa;pa=!1;fa && (pa=ka.u2(U,!1));if(!pa)return (Q.rE("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),Q.sW(U,Z));});ua=ka.jja(U,this.ib.nk.L[U].ta);!1;this.je.seek(ua,R.Xc.UI,U,!0);return P;};c.prototype.Gga=function(U,Z,Q){var ka,P,fa,ua,pa,Ra,Pa,db;Z=void 0 === Z?this.ay.FA():Z;Q=void 0 === Q?this.Ea.Eb():Q;fa=!!u.config.Edb && !(Z % u.config.Edb);ua=U.J;pa=U.I;Ra=U.Wa;Pa=U.If;if(this.Gp.has(ua))Z=this.Gp.get(ua);else {Z=this.GV(y.Iz.index++,ua,pa,Ra,Z,Q,fa,this.aa,this.HF,Pa,this);this.Gp.set(ua,Z);1 < this.Gp.size && (Z.XL=this.YL.create(this,Z,!1,this.HF));Z.hM=new x.BGa(this,Z);db=null === Pa || void 0 === Pa?void 0:Pa.bc;(U=U.Vsb) || (U=null === (P=null === (ka=this.aa.W) || void 0 === ka?void 0:ka.$o) || void 0 === P?void 0:P.find(function(wb){return wb.Fa.O === ua && (void 0 === db || wb.Fa.bc === db);}));U && this.C8(U,Z);1 < this.Gp.size && this.Lh.b5(Z.O) && this.I8(Z);}};c.prototype.aUa=function(U,Z,Q,ka){var P,fa,ua,pa,Ra,Pa,db,wb,nb,Bb;P=this;!1;wb={JL:!0,bg:!1,JC:Date.now()};(0,G.na)(Z.yf,"Auxiliary viewable config request options must have auxiliary options");nb=Z.yf;Z=nb.bc;nb=nb.Cd;if(this.i5(nb)){Bb=null === (fa=this.Mk(nb).W) || void 0 === fa?void 0:fa.Fa;fa={bc:Z,sV:this.Ef,Cd:nb,xV:Bb};(0,G.na)(null === (ua=this.Za) || void 0 === ua?void 0:ua.Eh,"If we have auxiliary viewables combined playgraph must exist");if(null === (Ra=null === (pa=this.Za) || void 0 === pa?void 0:pa.Eh) || void 0 === Ra?0:Ra.L)(ua=Object.keys(null === (db=null === (Pa=this.Za) || void 0 === Pa?void 0:Pa.Eh) || void 0 === db?void 0:db.L).find(function(Qa){var Za,hb;return (null === (hb=null === (Za=P.Za) || void 0 === Za?void 0:Za.Eh) || void 0 === hb?void 0:hb.L[Qa].J) === U;}),(0,G.na)(!!ua,"Segment for the auxiliary viewable should exist in the combined playgraph"),this.Gga({Vsb:ka,If:fa,Wa:wb,I:ua,J:U},Q));}};c.prototype.i5=function(U){return !!this.Gp.has(U);};c.prototype.F_a=function(U){try{return (this.fi(U),!0);}catch(Z){return !1;}};c.prototype.Mk=function(U){if(U === Ja.qn)return this.aa;if(!this.Gp.has(U))throw Error("Playback segment not found: " + U);return this.Gp.get(U);};c.prototype.fi=function(U){var Q,ka,P,fa,ua,pa,Ra,Pa,db;function Z(wb){for(var nb=ma(Q.OG),Bb=nb.next();!Bb.done;Bb=nb.next()){if((Bb=Bb.value,Bb.I === wb))return Bb;}}Q=this;db=Z(U);if(db)return db;if(null === (P=null === (ka=this.Za) || void 0 === ka?void 0:ka.Eh) || void 0 === P?0:P.L[U])if((ka=null === (fa=this.Za) || void 0 === fa?void 0:fa.Eh.L[U].Qb,ka === U && (null === (ua=this.Za) || void 0 === ua?0:ua.$N) && (null === (pa=this.Za) || void 0 === pa?0:pa.$N.L[U]) && (ka=null === (Ra=this.Za) || void 0 === Ra?void 0:Ra.$N.L[U].Qb),ka && this.ib.Vv(ka)))return (fa=this.ib.Pd(ka).J,U=null === (Pa=this.Za) || void 0 === Pa?void 0:Pa.Eh.L[U].J,fa === U && (db=Z(ka)),null !== db && void 0 !== db?db:this.Mk(U));return this.aa;};c.prototype.DIb=function(U){for(var Z,Q,ka=ma(this.OG),P=ka.next();!P.done;P=ka.next()){if((P=P.value,(null === (Q=null === (Z=P.ee) || void 0 === Z?void 0:Z.Ab) || void 0 === Q?void 0:Q.sessionId) === U))return P;}return this.aa;};c.prototype.UYa=function(U){return this.e0a.get(U);};c.prototype.I8=function(U){var Z,Q;Z=this;!1;Q=U.O;this.Pj.D_b(Q);return this.yW(U).then(function(ka){Z.C8(ka,U);ka=U.aG?Z.Pb.Qk.Z8a(U):Promise.resolve();Z.CVb(U);return ka.then(function(){return Z.Pj.p$a(Q);});}).catch(function(ka){Z.log.error("queueManifest failed",ka);Z.Pj.C_b(Q,ka);throw Z.th(ka.code,ka);});};c.prototype.Sv=function(U,Z){var Q,ka,P,fa,ua;Q=this;(0,G.na)(Z.yf,"auxiliaryOptions must exist if an adBreak hydration was requested");ka=Z.yf;P=ka.bc;fa=ka.Cd;(0,G.na)(!!P,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;Z=this.Mk(Z.yf.Cd);ka=M.ol.qm;ua={JL:!0,bg:!1,JC:Date.now()};return this.Lh.Vx({ma:Z.ma,Wa:ua,J:Z.O,Gq:ka,mf:void 0,dO:void 0,If:{Ji:U,bc:P,Cd:fa,sV:Z.Ef}},!1).then(function(pa){var Ra,Pa;pa.$o.forEach(function(db){Q.e0a.set(db.Fa.O,db);});if(null === (Ra=pa.Fa.Am) || void 0 === Ra || !Ra.ce.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (fa + ", adBreakToken: " + U));return null === (Pa=pa.Fa.Am) || void 0 === Pa?void 0:Pa.ce[0];});};c.prototype.nGb=function(){if((0,N.tb)(this.Tc.ats) && (0,N.tb)(this.Tc.at))return this.Tc.at - this.Tc.ats;};c.prototype.fYa=function(){var U,Z;U=this.FX();Z=this.uR();return Math.min(U,Z);};c.prototype.HN=function(){this.background.value || (this.Cc.info("Starting inactivity monitor for movie " + this.O),new w.rEa(this));};c.prototype.close=function(U){U && (this.state.value == R.Tb.CLOSED?U():this.addEventListener(R.ea.closed,function(){U();}));this.Sva();};c.prototype.od=function(U,Z,Q){U=this.th(U,Z,Q);this.JE(U,void 0);};c.prototype.JE=function(U,Z){var Q,ka,P,fa;Q=this;!1;(0,F.OY)(U.errorCode,U.xa,this.Ea.Eb().wa(this.Nh).ba(D.oa),null === (ka=this.je) || void 0 === ka?void 0:ka.jv()) || this.aia.add(this.qa.fe,null === (P=this.ee) || void 0 === P?void 0:P.iL(),U.errorCode,U.xa,U.Ee);U.D$a(this.Wk);if(this.state.value == R.Tb.II)this.ph || (this.ph=U,this.load());else {Z && (this.state.value == R.Tb.CLOSED?Z():this.addEventListener(R.ea.closed,function(){Z();}));ka=function(){Q.Sva(U);};P=u.config.ZUa && U && u.config.ZUa[U.errorCode];fa=-1;(0,N.PL)(P) && (fa=(0,J.Vi)(P));this.Cc.error("Fatal playback error",{Error:"" + U,HandleDelay:"" + P});0 <= fa?setTimeout(ka,fa):ka();}};c.prototype.rE=function(U){var Z;Z=void 0 === Z?this.I:Z;U=this.Ea.Eb().ba(D.oa) + "-" + Z + "-" + U;!1;this.e7a.push(U);};c.prototype.YEb=function(){this.kXa();};c.prototype.Lma=function(){var U;if(null === (U=this.Za) || void 0 === U?0:U.Ah)if((U=this.Za.Rn().id,void 0 !== U))return U;return null;};c.prototype.gB=function(){var U,Z;Z=null === (U=this.Za) || void 0 === U?void 0:U.Ah;return void 0 === this.aa.WR || Z?this.HF(this.mediaTime.value):this.aa.WR;};c.prototype.Kma=function(){var U;U=this.HF(this.je.GYa());return null === U?null:Math.min(this.Ex.ba(D.oa),Math.max(0,U));};c.prototype.YS=function(){var U,Z;return null === (Z=null === (U=this.W) || void 0 === U?void 0:U.Fa.fp) || void 0 === Z?void 0:Z.L;};c.prototype.A$=function(U){!1;this.Wa=(0,O.Y6)(this.Wa,U);this.hha();};c.prototype.nna=function(U){return (null === U || void 0 === U?0:U.J)?U.J:(null === U || void 0 === U?0:U.kdb) && this.KE?this.KE.J === Ja.qn?(U=this.KE.Ib) && this.Za && this.Za.Eh?this.Za.Eh.L[U].J:this.O:this.KE.J:this.O;};c.prototype.jGb=function(){var U;U=this.Mk(this.nna(void 0)).tc;return U.value?U.value.streams:[];};c.prototype.jB=function(U){return (U=this.Mk(this.nna(U)).Mg) && U.value?U.value.streams:[];};c.prototype.z_a=function(U){for(var Z=ma(this.OG),Q=Z.next();!Q.done;Q=Z.next()){if(Q=(Q=Q.value.sg) && Q.find(function(ka){return ka.id === U;}))return Q;}!1;};c.prototype.CVb=function(U){U=void 0 === U?this.aa:U;!1;U.wb.value?this.hn.zVb(U.wb.value):Promise.resolve();};c.prototype.v_a=function(U){for(var Z=ma(this.OG),Q=Z.next();!Q.done;Q=Z.next()){Q=ma(Q.value.ai);for(var ka=Q.next();!ka.done;ka=Q.next()){if(ka=ka.value.streams.find(function(P){return P.Ub === U;}))return ka;}}!1;};c.prototype.K_a=function(U){for(var Z=ma(this.OG),Q=Z.next();!Q.done;Q=Z.next()){Q=ma(Q.value.ew);for(var ka=Q.next();!ka.done;ka=Q.next()){if(ka=(ka=ka.value) && ka.streams.find(function(P){return P.Ub === U;}))return ka;}}!1;};c.prototype.DKb=function(U){for(var Z=ma(this.OG),Q=Z.next();!Q.done;Q=Z.next()){if(Q.value.Ef === U)return !0;}return !1;};c.prototype.xs=function(){var U,Z,Q;return null !== (Q=null === (Z=null === (U=this.k8) || void 0 === U?void 0:U.YR) || void 0 === Z?void 0:Z.call(U)) && void 0 !== Q?Q:this.Kyb().VWa;};c.prototype.N$a=function(U){var Z,Q;null !== (Z=this.Za) && void 0 !== Z && Z.Ah && this.Gp.has(U) && ((null === (Q=this.k8) || void 0 === Q?0:Q.YR)?this.k8.Gcb():(Z=this.uja(U),this.Za.I9(Z,U)));};c.prototype.mNb=function(){return "trailer" === this.wd;};c.prototype.tMb=function(){return !!this.wd && 0 <= this.wd.indexOf("billboard");};c.prototype.tNb=function(){return !!this.wd && 0 <= this.wd.indexOf("video-merch");};c.prototype.TMb=function(){return !!this.wd && 0 <= this.wd.indexOf("mini-modal");};c.prototype.ML=function(){return this.mNb() || this.tMb() || this.tNb() || this.TMb();};c.prototype.s4=function(){var U,Z,Q;Z={kdb:!0};if((null === (U=this.Mk(this.nna(Z)).W) || void 0 === U || !U.Fa.toa) && this.ew){this.jB(Z).forEach(function(ka){var P,fa;if((0,N.tb)(ka.vja) && (0,N.tb)(ka.tUa) && (0,N.tb)(ka.sUa) && (0,N.tb)(ka.rUa) && (0 < ka.vja || 0 < ka.tUa)){P=1;fa=1;(0,N.tb)(ka.M6a) && (0,N.tb)(ka.N6a) && (P=ka.M6a,fa=ka.N6a);P=ka.rUa * fa / (ka.sUa * P);Q=(0,N.tb)(Q)?0 < ka.vja?Math.max(Q,P):Math.min(Q,P):P;}});return Q;}};c.prototype.ZIb=function(){return {tr:this.Iwa,rt:this.mua};};c.prototype.kL=function(U){return this.Zn[U];};c.prototype.cia=function(){return this.hm?this.Ea.Eb().ba(D.oa) - this.hm:this.qa.fe.ba(D.oa) - this.rF();};c.prototype.LR=function(){var U;if(this.hm)return this.Ea.Eb().ba(D.oa) - this.hm;U=this.Ea.my;return this.FV - (this.Nh.ba(D.oa) + U.ba(D.oa));};c.prototype.dia=function(){return this.hm?this.Ea.Eb().ba(D.oa) - this.hm:this.FV - this.rF();};c.prototype.sGb=function(){var U,Z;U=this.loadTime;Z={};(0,J.$f)(this.Hha,function(Q,ka){Z[Q]=ka.map(function(P){return P - U;});});return g.Tu?{level:g.Tu.cZa(),charging:g.Tu.Zla(),statuses:Z}:null;};c.prototype.X4=function(){this.jXa();return this.M$;};c.prototype.rF=function(){var U;U=this.Wa.JC;U=(0,N.tb)(U)?U:this.Nh.ba(D.oa) + this.Ea.my.ba(D.oa);(0,G.na)((0,N.FB)(U));return U;};c.prototype.OZa=function(){return this.Ea.Eb().ba(D.oa) - this.Nh.ba(D.oa);};c.prototype.c6b=function(){this.J0b=!0;};c.prototype.B7=function(){this.B8a();};c.prototype.FX=function(){var U;U=this.N1();return U && U.vbuflmsec || 0;};c.prototype.uR=function(){var U;U=this.N1();return U && U.abuflmsec || 0;};c.prototype.vxa=function(){var U;U=this.N1();return U && U.vbuflbytes || 0;};c.prototype.rha=function(){var U;U=this.N1();return U && U.abuflbytes || 0;};c.prototype.yW=function(U,Z,Q){var ka,P,fa,ua;ka=this;U=void 0 === U?this.aa:U;Q=void 0 === Q?!0:Q;!1;P=!!Z;fa=!P && U !== this.aa;ua=u.config.G8.enabled?M.ol.dlb:fa?M.ol.MI:this.ML()?M.ol.E_:M.ol.qm;P=this.ML() || P || fa?void 0:this.Pb.Qk.D4(fa);return this.Lh.Vx({ma:U.ma,Wa:U.Wa,J:U.O,Gq:ua,mf:P,dO:Z,If:U.If},U.If?!1:Q).then(function(pa){pa.Boa && ka.fireEvent(R.ea.pU,{O:U.O});return pa;});};c.prototype.C8=function(U,Z,Q){var ka,P,fa;Z=void 0 === Z?this.aa:Z;Q=void 0 === Q?!1:Q;!1;if(Z.Wa.bg && !U.Fa.fp)this.od(F.U.qfb);else {ka=this.EU.create(this);P=!!(Z.If && Z.If.bc && Z.If.xV);if(Q){fa=ka.gLb(Z.W,Z.Ac,U);U=fa.W;fa=fa.Ac;}else (U=P?ka.vZb(U,null === (fa=Z.If) || void 0 === fa?void 0:fa.xV):U,fa=ka.w6a(U));Z.W=U;Z.Ac=fa;Q || (Z.Mg.set(fa.f3),Z.tc.set(fa.eS),Z.wb.set(fa.fS));Z.cd.ha && Z.cd.qWb();}};c.prototype.iFb=function(U){var Z;Z=void 0 === Z?!1:Z;!1;this.lH({J:U,XF:Z});};c.prototype.A_a=function(U,Z){if(!this.vi.sxa)return !0;U=this.Hp.ba(D.oa) - U;return 0 > U || U > Z;};c.prototype.ZYb=function(){!1;this.je.seek(this.gB() || 0,R.Xc.QY);};c.prototype.c0a=function(U,Z){var Q,ka;Q=this;!1;ka=this.aa;ka.m3=!0;return this.yW(ka,{sV:ka.Ef,IYb:U,LYb:Z},!1).then(function(P){var fa;Q.C8(P,ka,!0);Q.Lh.UW(ka.O,ka.W);return null === (fa=Q.Za) || void 0 === fa?void 0:fa.iO(Q.d7a);}).then(function(){var P,fa;P=ka.ai.find(function(ua){return ua.trackId === U;});fa=ka.bh.find(function(ua){return ua.trackId === Z;});if(!(P && P.wg && fa && fa.wg))throw Error("Track hydration failed: requiredAudioTrackId=" + U + " requiredTextTrackId=" + Z);Q.fireEvent(R.ea.fcb);return {tc:P,hX:fa};});};c.prototype.Nn=function(){return this.bd;};c.prototype.lH=function(U){var Z,Q,ka;Z=U.J;Q=U.XF;U=U.KE;!1;U !== this.KE && (this.KE=U,this.bdb());if(this.OM){if(Z === this.IA){this.OM=Z;return;}U=this.Mk(Z);ka=U.W;ka && (0,N.Sc)(ka.dH) && (0,N.Sc)(ka.iN) && U.by({pr_ats:ka.dH,pr_at:ka.iN});this.fireEvent(R.ea.Rpa,{O:this.IA});this.IA=Z;this.hha();Q || this.x9a();this.ey=this.qa.oH;this.aa.hm || (this.aa.hm=this.Ea.Eb().ba(D.oa));}("boolean" === typeof this.Wa.JK?this.Wa.JK:u.config.JK) && !Q && this.Pwa.JK(this);Q={O:Z,XF:Q,OM:this.OM};this.OM=Z;this.fireEvent(R.ea.lG,Q);};c.prototype.Byb=function(){!1;try{this.Pb=new n.mGa(this);this.L2=new ea.MAa(this);this.XL=this.YL.create(this,this.aa,!0,this.HF);u.config.Nub && new ca.xCa(this,this.Pf,this.log);u.config.NR && this.NR(this);this.C5b();}catch(U){this.hr(F.U.uib,{xa:F.R.nl,Jb:(0,J.ue)(U)});}};c.prototype.C5b=function(){!1;this.ph?this.JE(this.ph):(0,N.Joa)(this.O)?this.ovb():this.hr(F.U.rib,{Jb:"" + this.O});};c.prototype.ovb=function(){var U;!1;U=f.BH.j$a;U?U.ia?this.Mia():this.hr(F.U.kEa,U):((0,G.na)(!u.config.E3),this.pga());};c.prototype.Mia=function(){var U;U=this;!this.background.value && u.config.Mia?(0,y.rda)(function(){U.pga();},this):this.pga();};c.prototype.pga=function(){var U;U=this;!1;this.state.value == R.Tb.LOADING && (u.config.Dka && !this.ML()?f.BH.Iu(y.eJa,function(Z){Z.ia?(U.A6=Z.A6,U.nRa()):U.hr(F.U.jEa);},!0):this.nRa());};c.prototype.nRa=function(){var U,Z,Q;U=this;if(this.state.value == R.Tb.LOADING){this.log.info("Authorizing",this);Z=this.Ea.Eb().ba(D.oa);this.ke("ats");(0,G.tK)(this.O);(0,G.tK)(this.Nj);Q=this.wWb.bind(this,Z);Promise.all([this.W,u.config.fr && this.Lh.b5(this.O)?this.Lh.o4(this.O).catch(function(){}):void 0]).then(function(ka){var P,fa;P=ma(ka);ka=P.next().value;P=P.next().value;ka && P?fa=P.Fa.expiration > ka.Fa.expiration?P:ka:ka?fa=ka:P && (fa=P);fa && 18E5 > fa.Fa.expiration - (0,Xa.Lia)() && (fa=void 0);return fa?(U.EE=fa === ka?"ui":"videopreparer",fa):U.yW();}).then(function(ka){try{U.C8(ka);Q(p.ig);U.V6a || (U.V6a=!0,U.esa.Lj(U));}catch(P){U.log.error("Exception processing authorization response",P);Q({ia:!1,xa:F.R.Okb});}}).catch(Q);}};c.prototype.wWb=function(U,Z){var Q,ka;Q=this;!1;if(this.state.value == R.Tb.LOADING){this.ke("at");ka=this.W;this.by({pr_ats:ka && (0,N.Sc)(ka.dH)?ka.dH:U,pr_at:ka && (0,N.Sc)(ka.iN)?ka.iN:this.Ea.Eb().ba(D.oa)});Z.ia?0 < this.Ac.sg.length && this.Ac.eS && this.Ac.f3 && this.Ac.fS?this.i7a?(this.log.info("Processing post-authorize",this),this.i7a(this,function(P){P.ia?Q.Jcb():Q.hr(F.U.yib,P);})):this.Jcb():this.hr(F.U.JFa,this.Spa(this.Ac)):this.hr(F.U.EI,Z);}};c.prototype.Jcb=function(){var U,Z;k.__awaiter(this,void 0,void 0,function ka(){var P;P=this;return Ia(ka,function(fa){!1;if(P.state.value != R.Tb.LOADING)return fa.return();(null === (U=P.aa.W) || void 0 === U?0:U.Fa.fp) && P.ib.reset((0,Ja.t2)(null === (Z=P.aa.W) || void 0 === Z?void 0:Z.Fa.fp,{config:u.config}));P.Za=P.lha(P.ib,P);P.Za.i0b({Xo:d.Xo,config:u.config,Yd:P.Yd,Cc:P.Cc,$s:P.$s.bind(P),Si:C.Si,DW:P.DW.bind(P),lH:P.lH.bind(P)});P.qVb();fa.Av=0;});});};c.prototype.Bzb=function(){var U,Z,Q,ka,P,fa,ua;U=this;!1;try{if(this.state.value === R.Tb.LOADING){this.Pb.open();Z=new Promise(function(pa){U.Pb.addEventListener(K.dj.rab,pa);});this.je=new I.uGa(this);Q=this.Ac.eS.wh === oa.Co.NONE;ka={Jdb:this.Ac.eS.Vn || Q};P={ma:this.ma,Dp:this.Af,RA:this.RA};try{if(this.state.value !== R.Tb.LOADING)return;fa=this.Za;fa.F5({flags:ka,vUa:P,I:this.d7a,uja:this.uja.bind(this)});ua=this.ib.K4(this);this.bUa(ua);fa.Ot(ua);this.Oqb();fa.mtb({Zn:this.Zn,loadTime:this.loadTime});this.bd=this.uga(fa,this);this.bd.Bl.addListener(function(pa){pa.newValue?(U.hn.OKb(),u.config.fr && U.Zc.t_a()):U.hn.L0b();});this.bd.addEventListener(R.dY.lA,function(){U.Zc.t_a();});}catch(pa){throw (this.log.error("Failed to initialize ASE streaming",{error:pa,startPts:this.ab,flags:ka}),pa);}Z.then(function(){var pa;U.state.value !== R.Tb.CLOSING && U.state.value !== R.Tb.CLOSED && (null === (pa=U.Za) || void 0 === pa?void 0:pa.open());});this.mediaTime.set(this.ab);this.hn=new h.iMa(this);if("boolean" === typeof this.Wa.V8?this.Wa.V8:u.config.V8)this.lX=new A.jMa(this);this.HN();y.tda.forEach(function(pa){pa(U);});this.SRb();}}catch(pa){this.hr(F.U.wib,{xa:F.R.nl,Jb:(0,J.ue)(pa)});}};c.prototype.TRb=function(){(0,G.na)(this.state.value == R.Tb.II);this.loadTime=this.Ea.Eb().ba(D.oa);this.state.set(R.Tb.LOADING);};c.prototype.hr=function(U,Z){this.done || (this.done=!0,Z instanceof Y.Mc?this.od(Z.code,Z):this.od(U,Z));};c.prototype.NR=function(U){var Q,ka;function Z(){var P,fa;P=g.Tu.Zla() + "";fa=U.Hha[P];fa || (fa=U.Hha[P]=[]);fa.push(Q.Ea.Eb().ba(D.oa));Q.log.trace("charging change event",{level:g.Tu.cZa(),charging:g.Tu.Zla()});}Q=this;ka=g.Tu.Tfb;g.Tu.addEventListener(ka,Z);U.addEventListener(R.ea.tg,function(){g.Tu.removeEventListener(ka,Z);});};c.prototype.Sva=function(U){var Z,Q;Z=this;if(this.state.value == R.Tb.II || this.state.value == R.Tb.LOADING || this.state.value == R.Tb.$d){this.Cc.info("Playback closing",this,U?{ErrorCode:U.o3}:void 0);this.rE("Closing");v.he.removeListener(v.Nk,this.iV);this.ph=U;this.aa.WR=this.gB();this.jXa();(null === (Q=this.Za) || void 0 === Q?0:Q.Ah) && this.Za.flush();try{this.Db.Dc(R.ea.tg,{movieId:this.IA});}catch(ka){this.Cc.error("Unable to fire playback closing event",ka);}this.state.set(R.Tb.CLOSING);this.Beb();this.J0b || (0,L.Mf)(function(){return Z.B8a();});}};c.prototype.NEb=function(){this.Db.Dc(R.ea.Ecb);};c.prototype.kXa=function(){var U;U=this.mediaTime.value;this.WNb != U && (!1,this.WNb=U,this.Db.Dc(R.ea.vwa));};c.prototype.B8a=function(){var U,Z;U=this;(0,G.na)(this.state.value == R.Tb.CLOSING);Z=this.A6;this.A6=void 0;Z?f.BH.release(Z,function(Q){(0,G.na)(Q.ia);U.Tia();}):this.Tia();};c.prototype.Beb=function(){var U;null === (U=this.Za) || void 0 === U?void 0:U.de();delete this.Za;};c.prototype.Tia=function(){var U;this.Tia=p.Gw;(0,G.na)(this.state.value == R.Tb.CLOSING);U=y.sn.indexOf(this);(0,G.na)(0 <= U);y.sn.splice(U,1);this.state.set(R.Tb.CLOSED);this.Db.Dc(R.ea.closed,void 0,!0);this.Db.Jg();delete this.ee;this.aa.B7();};c.prototype.hha=function(){this.Wa.playbackState && ("number" === typeof this.Wa.playbackState.volume && this.volume.set((0,E.Hw)(this.Wa.playbackState.volume,0,1)),"boolean" === typeof this.Wa.playbackState.muted && this.muted.set(this.Wa.playbackState.muted),"number" === typeof this.Wa.playbackState.playbackRate && this.playbackRate.set(this.Wa.playbackState.playbackRate));};c.prototype.jXa=function(){this.Db.Dc(R.ea.aab,{M$:this.M$});};c.prototype.DW=function(U,Z,Q){Z=this.z_a(Z);U=this.fi(U);Z && U.Bc[Q].set(Z);};c.prototype.$s=function(){return {AudioBufferLength:this.uR(),VideoBufferLength:this.FX()};};c.prototype.N1=function(){var U;if(null === (U=this.Za) || void 0 === U?0:U.Ah)return this.Za.W0a();};c.prototype.SRb=function(){this.state.value == R.Tb.LOADING && this.state.set(R.Tb.$d);};c.prototype.Kyb=function(){var U,Z,Q;U=void 0 === U?this.O:U;Z=this.jB({J:U});Q=this.Mk(U);return (0,Ga.xs)(Z,function(ka){return Q.hM.Xy(ka);});};c.prototype.uja=function(U){var Z,Q;U=void 0 === U?this.O:U;Z=this.jB({J:U});Q=this.Mk(U);return (0,Ga.m_a)(Z,function(ka){return Q.hM.Xy(ka);});};c.prototype.bUa=function(U){var Z;Z=this;Object.keys(U.L).filter(function(Q){return !Z.Gp.has(U.L[Q].J);}).forEach(function(Q){var ka,P,fa;P=U.L[Q];fa=P.J;P=Object.assign(null !== (ka=Z.Pj.uL(fa).nb) && void 0 !== ka?ka:{},{ab:P.ta,jf:P.sa,bg:!1,JC:Date.now(),JL:!0});Z.Gga({J:fa,I:Q,Wa:P});});};Wa.Object.defineProperties(c.prototype,{OG:{configurable:!0,enumerable:!0,get:function(){return this.Gp.values();}},aa:{configurable:!0,enumerable:!0,get:function(){return this.Gp.get(this.IA);}},ab:{configurable:!0,enumerable:!0,get:function(){var U,Z;return void 0 !== this.El?this.El:null !== (Z=null === (U=this.OG.next()) || void 0 === U?void 0:U.value.Wa.ab) && void 0 !== Z?Z:0;}},Ac:{configurable:!0,enumerable:!0,get:function(){return this.aa.Ac;},set:function(U){this.aa.Ac=U;}},e4:{configurable:!0,enumerable:!0,get:function(){return this.aa.Wa.e4;}},f4:{configurable:!0,enumerable:!0,get:function(){return this.aa.Wa.f4;}},index:{configurable:!0,enumerable:!0,get:function(){return this.aa.index;}},I:{configurable:!0,enumerable:!0,get:function(){return this.aa.I;}},d7a:{configurable:!0,enumerable:!0,get:function(){return this.ib.txa?this.ib.oh:this.aa.I;}},ee:{configurable:!0,enumerable:!0,get:function(){return this.aa.ee;},set:function(U){this.aa.ee=U;}},hm:{configurable:!0,enumerable:!0,get:function(){return this.aa.hm;},set:function(U){this.aa.hm=U;}},EE:{configurable:!0,enumerable:!0,get:function(){return this.aa.EE;},set:function(U){this.aa.EE=U;}},DE:{configurable:!0,enumerable:!0,get:function(){return this.aa.DE;},set:function(U){this.aa.DE=U;}},E5:{configurable:!0,enumerable:!0,get:function(){return this.aa.E5;},set:function(U){this.aa.E5=U;}},W:{configurable:!0,enumerable:!0,get:function(){return this.aa.W;},set:function(U){this.aa.W=U;}},El:{configurable:!0,enumerable:!0,get:function(){return this.aa.El;},set:function(U){this.aa.El=U;}},cX:{configurable:!0,enumerable:!0,get:function(){return this.aa.cX;},set:function(U){this.aa.cX=U;}},Wa:{configurable:!0,enumerable:!0,get:function(){return this.aa.Wa;},set:function(U){this.aa.Wa=U;}},XL:{configurable:!0,enumerable:!0,get:function(){return this.aa.XL;},set:function(U){this.aa.XL=U;}},Vk:{configurable:!0,enumerable:!0,get:function(){return this.aa.Vk;}},O:{configurable:!0,enumerable:!0,get:function(){return this.aa.O;}},wd:{configurable:!0,enumerable:!0,get:function(){return this.aa.wd;}},ai:{configurable:!0,enumerable:!0,get:function(){return this.aa.ai;}},ew:{configurable:!0,enumerable:!0,get:function(){return this.aa.ew;}},cz:{configurable:!0,enumerable:!0,get:function(){return this.aa.cz;}},bh:{configurable:!0,enumerable:!0,get:function(){return this.aa.bh;}},Ef:{configurable:!0,enumerable:!0,get:function(){return this.aa.Ef;}},aG:{configurable:!0,enumerable:!0,get:function(){return this.aa.aG;}},ut:{configurable:!0,enumerable:!0,get:function(){return this.aa.ut;}},Kk:{configurable:!0,enumerable:!0,get:function(){return this.aa.Kk;}},sg:{configurable:!0,enumerable:!0,get:function(){return this.aa.sg;}},Ex:{configurable:!0,enumerable:!0,get:function(){return this.aa.Ex;},set:function(U){this.aa.Ex=U;}},ma:{configurable:!0,enumerable:!0,get:function(){return this.aa.ma;}},Nj:{configurable:!0,enumerable:!0,get:function(){return this.aa.Nj;}},Nh:{configurable:!0,enumerable:!0,get:function(){return this.aa.Nh;}},ey:{configurable:!0,enumerable:!0,get:function(){return this.aa.ey;},set:function(U){this.aa.ey=U;}},Af:{configurable:!0,enumerable:!0,get:function(){return this.aa.Af;}},qH:{configurable:!0,enumerable:!0,get:function(){return this.aa.qH;}},$R:{configurable:!0,enumerable:!0,get:function(){return this.aa.$R;}},Tc:{configurable:!0,enumerable:!0,get:function(){return this.aa.Tc;}},cp:{configurable:!0,enumerable:!0,get:function(){return this.aa.cp;}},lka:{configurable:!0,enumerable:!0,get:function(){return this.aa.lka;}},hM:{configurable:!0,enumerable:!0,get:function(){return this.aa.hM;}},RA:{configurable:!0,enumerable:!0,get:function(){return 0 !== u.config.r3 && 0 === this.aa.ma % u.config.r3;}},m3:{configurable:!0,enumerable:!0,get:function(){return this.aa.m3;}},cd:{configurable:!0,enumerable:!0,get:function(){return this.aa.cd;}},Bja:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},yg:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.O,TrackingId:this.Nj,Xid:this.ma};}},o8:{configurable:!0,enumerable:!0,get:function(){return this.ib.o8;}}});b.kJa=c;},2408:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D){var F;F=this;this.j=x;this.Jk=z;this.zX=A;this.xh=B;this.LW=C;this.Km=D;this.CUa={};this.update=function(){var G;if(F.oo.selectionStart == F.oo.selectionEnd){G="";F.fT().forEach(function(E){G=G?G + "\n":"";Object.entries(E).forEach(function(J){var L;L=ma(J);J=L.next().value;L=L.next().value;G+=J + ": " + L + "\n";});});F.oo.style.fontSize=(0,l.Hw)((0,g.GI)(F.element.clientHeight / 60),8,18) + "px";F.oo.value=G;}};this.TSb=function(){var G,E;if(F.j.je){E=F.j.je.wF();E && (F.xja=E - (null !== (G=F.Zbb) && void 0 !== G?G:0),F.Zbb=E,F.uM());}};this.uM=function(){F.zX.Hj(F.update);};this.onkeydown=function(G){G.ctrlKey && G.altKey && G.shiftKey && (G.keyCode == m.Az.ogb || G.keyCode == m.Az.Q) && F.toggle();};this.S6a=[x.mediaTime,x.Bc[q.v.fa],x.Bc[q.v.X],x.pf,x.Td,x.Qg,x.Oe,x.Yh,x.state,x.sq,x.lb,x.volume,x.muted];this.element=this.xh.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.oo=this.xh.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.oo);this.controls=this.xh.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);z=this.xh.createElement("button",void 0,"X");z.addEventListener("click",function(){return F.nv();},!1);this.controls.appendChild(z);f.he.addListener(f.kB,this.onkeydown);x.addEventListener(h.ea.tg,function(){f.he.removeListener(f.kB,F.onkeydown);F.nv();});}Object.defineProperty(b,"__esModule",{value:!0});b.mJa=void 0;k=a(58680);f=a(25892);l=a(19591);d=a(25420);g=a(50876);n=a(95919);h=a(34202);m=a(50364);p=a(2467);q=a(18920);u=a(91854);r={};t=(r[h.Tb.II]="Not Loaded",r[h.Tb.LOADING]="Loading",r[h.Tb.$d]="Normal",r[h.Tb.CLOSING]="Closing",r[h.Tb.CLOSED]="Closed",r);r={};w=(r[h.sf.$d]="Normal",r[h.sf.Qe]="Pre-buffering",r[h.sf.QKa]="Network stalled",r);r={};v=(r[h.bb.Gf]="Waiting for decoder",r[h.bb.me]="Playing",r[h.bb.Vh]="Paused",r[h.bb.aq]="Media ended",r);y=[h.ea.P6];c.prototype.w_b=function(x){this.CUa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.TT=pb.setInterval(this.TSb,1E3),document.body.appendChild(this.element),this.S6a.forEach(function(z){z.addListener(x.uM);}),y.forEach(function(z){x.j.addEventListener(z,x.uM);}),this.visible=!0,this.Km.YW().then(function(z){x.Cna=z;x.uM();}));this.update();};c.prototype.nv=function(){var x;x=this;this.visible && (clearInterval(this.TT),this.Zbb=this.xja=void 0,document.body.removeChild(this.element),this.S6a.forEach(function(z){z.removeListener(x.uM);}),y.forEach(function(z){x.j.removeEventListener(z,x.uM);}),this.zX.Hj(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.nv():this.show();};c.prototype.fT=function(){var x,z,A,B,C,D,F,G,E,J,L,N,I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,U,Z,Q,ka,P,fa,ua,pa,Ra,Pa,db,wb,nb,Bb,Qa,Za,hb,lb,yb,Hb,Jb,Eb,Lb,Rb,bc,Ib,Ob;x=this;Y=[];ea=this.Jk();Y.push({Version:"6.0041.305.911",Esn:ea?ea.ck:"UNKNOWN",PBCID:this.j.Af,UserAgent:g.pD});try{ca=this.j.mediaTime.value;oa={MovieId:this.j.O,PackageId:null === (A=null === (z=this.j.W) || void 0 === z?void 0:z.Fa) || void 0 === A?void 0:A.cn,Xid:this.j.ma + " (" + k.sn.map(function(Sb){return Sb.ma;}).join(", ") + ")",Position:(0,l.ih)(ca),Duration:(0,l.ih)(this.j.Ex.ba(p.oa)),PlayerDuration:(0,l.ih)(this.j.Hp.ba(p.oa)),Volume:(0,g.nn)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.Lma()};if(this.j.Wa.bg || this.j.Wa.JL)oa["Segment Position"]=(0,l.ih)(this.j.gB());if(this.j.cd.ha){oa["Is Live"]="true";oa["Live Event Slate"]=this.j.cd.fB();oa["Is At Live Edge"]="" + this.j.cd.zB();oa["Adjusted Live Edge Target"]=(0,l.ih)(this.j.cd.Iq());oa["Live Adjusted Duration"]=(0,l.ih)(this.j.cd.fZa());oa["Live Adjusted Playback Position"]=(0,l.ih)(this.j.cd.U4());oa["Live Event Time Playback Position"]=this.j.cd.iHb();Ga=[q.v.X,q.v.fa,q.v.Ya].reduce(function(Sb,cc){var nc,Ac,Pc;Pc=null === (Ac=null === (nc=x.j.Za) || void 0 === nc?void 0:nc.sv) || void 0 === Ac?void 0:Ac[cc];Sb[(0,u.qG)(cc)]=Pc?{encoderRegion:Pc.TA,encoderTag:Pc.UA}:void 0;return Sb;},{});oa["Live Logging Info"]=JSON.stringify(Ga);}Y.push(oa);}catch(Sb){}try{Y.push({"Player state":t[this.j.state.value],"Buffering state":w[this.j.sq.value],"Rendering state":v[this.j.lb.value]});}catch(Sb){}try{Fa=this.j.vxa() + this.j.rha();Ja=this.j.pf.value;Xa=null === Ja || void 0 === Ja?void 0:Ja.stream;cb=this.j.Td.value;U=null === cb || void 0 === cb?void 0:cb.stream;Z=null !== (B=null === Xa || void 0 === Xa?void 0:Xa.bitrate) && void 0 !== B?B:"?";Q=U?U.bitrate + " (" + U.width + "x" + U.height + ")":"?";ka=null !== (C=null === Xa || void 0 === Xa?void 0:Xa.Ub) && void 0 !== C?C:"?";P=null !== (D=null === U || void 0 === U?void 0:U.Ub) && void 0 !== D?D:"?";fa=null !== (F=null === U || void 0 === U?void 0:U.zb) && void 0 !== F?F:"?";ua=null !== (E=null === (G=this.j.Oe.value) || void 0 === G?void 0:G.zb) && void 0 !== E?E:"?";pa=null !== (L=null === (J=this.j.Qg.value) || void 0 === J?void 0:J.bitrate) && void 0 !== L?L:"?";Ra=null !== (I=null === (N=this.j.Oe.value) || void 0 === N?void 0:N.bitrate) && void 0 !== I?I:"?";Pa=this.j.Bc[q.v.X].value;db=this.j.Bc[q.v.fa].value;Y.push({"Playing bitrate (a/v)":Z + " / " + Q,"Playing/Buffering vmaf":fa + "/" + ua,"Buffering bitrate (a/v)":pa + " / " + Ra,"Buffer size in Bytes (a/v)":this.j.rha() + " / " + this.j.vxa(),"Buffer size in Bytes":"" + Fa,"Buffer size in Seconds (a/v)":(0,l.ih)(this.j.uR()) + " / " + (0,l.ih)(this.j.FX()),"Downloadables (a/v)":ka + " / " + P,"Current CDN (a/v)":(db?db.name + ", Id: " + db.id:"?") + " / " + (Pa?Pa.name + ", Id: " + Pa.id:"?")});}catch(Sb){}try{wb=this.j.pf.value;z={};if(wb && wb.stream){nb=wb.stream;Bb=nb.track;Qa=this.LW.N2(Bb.streams);Za=nb.Md;hb=(/xheaac/).test(Za)?"xhe-aac":(/heaac/).test(Za)?"he-aac":(/ddplus/).test(Za)?"ddplus":"unknown";(/atmos/).test(Za) && (hb+=", atmos");z["Audio Track"]=Bb.re + ", Id: " + Bb.trackId + ", Channels: " + Bb.channels + ", Codec: " + Qa + " (" + hb + ")";z["Audio Tags"]=null === (O=wb.stream) || void 0 === O?void 0:O.zi.toString();}lb=this.j.Td.value;if(lb && lb.stream){yb=lb.stream;Hb=this.LW.T2(this.j.Mg.value?this.j.Mg.value.streams:[]);Jb=yb.Md;Eb=(/hevc/).test(Jb)?"hevc":(/vp9/).test(Jb)?"vp9":(/h264hpl/).test(Jb)?"avchigh":(/av1/).test(Jb)?"av1":"avc";(/hdr/).test(Jb) && (Eb+=", hdr");(/dv/).test(Jb) && (Eb+=", dv");(/prk/).test(Jb) && (Eb+=", prk");z["Video Track"]="Codec: " + Hb + " (" + Eb + ")";z["Video Tags"]=null === (K=lb.stream) || void 0 === K?void 0:K.zi.toString();}Lb=this.j.Yh.value;z["Timed Text Track"]=Lb?Lb.re + ", Profile: " + Lb.profile + ", Id: " + Lb.trackId:"none";Y.push(z);}catch(Sb){}try{Rb=this.j.je;bc=this.j.Oe.value?this.j.Oe.value.framerate:0;Ib=a(83795).m3a;Y.push({Framerate:bc.toFixed(3),"Current Dropped Frames":(0,n.tb)(this.xja)?this.xja:"","Total Frames":Rb.jv(),"Total Dropped Frames":Rb.wF(),"Total Corrupted Frames":Rb.bT(),"Main Thread stall/sec":Ib?Ib.xHb().join(" "):"DISABLED",KeySystem:null === (H=this.j.ee) || void 0 === H?void 0:H.iL(),KeyStatus:null === (R=null === (M=this.j.ee) || void 0 === M?void 0:M.$Ya) || void 0 === R?void 0:R.call(M),VideoDiag:(0,d.Opa)(this.j.X4()),"HDR support":this.Cna?this.Cna.result + " (" + this.Cna.reason + ")":"unknown"});}catch(Sb){}try{Y.push({Throughput:this.j.qb + " kbps"});}catch(Sb){}Ob=void 0;try{Object.entries(this.CUa).forEach(function(Sb){var cc;cc=ma(Sb);Sb=cc.next().value;cc=cc.next().value;Ob=Ob || ({});Ob[Sb]=JSON.stringify(cc);});Ob && Y.push(Ob);}catch(Sb){}return Y;};b.mJa=c;},64155:function(r,b,a){var f,l,d,g;function c(n,h,m,p){this.ma=n;this.FYb=h;this.la=m;this.Yf=p;this.Tc={};}function k(n,h){this.Cf=n;this.Yf=h;this.Bd={};this.la=n.Ua("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Vkb=b.oJa=void 0;r=a(70655);f=a(86700);l=a(71163);d=a(58998);g=a(2467);k.prototype.PXb=function(n,h){this.Bd[n] && this.la.warn("registerPlayback: xid " + n + " already registered, overriding");h=(h?h:this.Yf.Eb()).ba(g.oa);this.la.trace("registerPlayback: xid " + n + " at " + h);this.Bd[n]=new c(n,h,this.la,this.Yf);return this.Bd[n];};k.prototype.CIb=function(n){this.Bd[n] || this.la.warn("getPlaybackMilestones: xid " + n + " is not registered");return this.Bd[n];};k.prototype.iYb=function(n){this.la.trace("removePlayback: xid " + n);delete this.Bd[n];};a=k;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.Xa)),r.__param(1,(0,f.l)(d.Jc))],a);b.oJa=a;c.prototype.Wo=function(n,h){h=h?h.ba(g.oa):this.Yf.Eb().ba(g.oa) - this.FYb;this.la.trace("addMilestone: xid " + this.ma + " " + n + " at " + h);this.Tc[n]=h;};b.Vkb=c;},92979:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.vda=void 0;a.prototype.Tpa=function(c){c=void 0 === c?{}:c;return {Nj:c.trackingId,Z1:c.authParams,bm:c.sessionParams,wd:c.uiLabel,G$:c.uxLabels,bka:c.disableTrackStickiness,JC:c.uiPlayStartTime,e4:c.forceAudioTrackId,f4:c.forceTimedTextTrackId,bg:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,JK:c.enableTrickPlay,Ena:c.heartbeatCooldown,JL:c.isPlaygraph,z6:c.loadImmediately || !1,I6a:c.pin,JV:c.preciseSeeking,ab:c.startPts,jf:c.endPts,Ui:c.logicalEnd,V8:c.renderTimedText,HWa:c.extraManifestParams,pha:c.assetId,Asb:c.audioLanguages,O2b:c.textLanguages,Hdb:c.videoLanguage,cn:c.packageId,fVa:c.desiredDownloadables,aua:c.requestReference,brb:c.additionalAudioAssets,erb:c.additionalTextAssets};};b.vda=a;},902:function(r,b,a){var k,f;function c(l,d){l=k.Gb.call(this,l) || this;l.eqa=d;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.pJa=void 0;k=a(14414);f=a(19591);ia(c,k.Gb);c.prototype.set=function(l){k.Gb.prototype.set.call(this,(0,f.Hw)(l,0,this.eqa));};b.pJa=c;},69444:function(r,b,a){var k,f,l;function c(d,g,n,h,m,p,q,u,t,w,v,y,x,z){this.index=d;this.O=g;this.I=n;this.Wa=h;this.ma=m;this.Nh=p;this.e3a=q;this.Ewb=t;this.q4a=v;this.If=x;this.tc=new k.Gb(null);this.Mg=new k.Gb(null);this.wb=new k.Gb(null);this.Yh=new k.Gb(null);this.Ht=new k.Gb(void 0);this.Oe=new k.Gb(null);this.Qg=new k.Gb(null);this.pf=new k.Gb(null);this.Td=new k.Gb(null);this.Bc=[new k.Gb(null),new k.Gb(null)];this.mediaTime=new k.Gb(void 0);this.playbackRate=new k.Gb(1);this.cp=new k.Gb(null);this.background=new k.Gb(!1);this.EE=this.DE="notcached";this.m3=!1;u && (this.Oe.set(u.Oe.value),this.Qg.set(u.Qg.value));this.Vk=w(this);this.Wl=this.q4a.PXb(this.ma,this.Nh);this.cd=y(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.qJa=void 0;k=a(14414);f=a(2467);l=a(70633);c.prototype.ke=function(d){this.Wl.Wo(d);};c.prototype.by=function(d){var g;g=this;Object.entries(d).forEach(function(n){var h;h=ma(n);n=h.next().value;h=h.next().value;g.Wl.Wo(n,(0,f.Kb)(h - g.Nh.ba(f.oa)));});};c.prototype.B7=function(){this.q4a.iYb(this.ma);};Wa.Object.defineProperties(c.prototype,{wd:{configurable:!0,enumerable:!0,get:function(){return this.Wa.wd;}},G$:{configurable:!0,enumerable:!0,get:function(){return this.Wa.G$;}},Kk:{configurable:!0,enumerable:!0,get:function(){return this.Ac && this.Ac.Kk;}},ai:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Ac && this.Ac.ai) && void 0 !== d?d:[];}},ew:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Ac && this.Ac.ew) && void 0 !== d?d:[];}},cz:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Ac && this.Ac.cz) && void 0 !== d?d:[];}},bh:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Ac && this.Ac.bh) && void 0 !== d?d:[];}},Ef:{configurable:!0,enumerable:!0,get:function(){return this.Ac && this.Ac.Ef;}},aG:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Ac && this.Ac.aG) && void 0 !== d?d:!1;}},ut:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Ac && this.Ac.ut) && void 0 !== d?d:[];}},sg:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Ac && this.Ac.sg) && void 0 !== d?d:[];}},Ex:{configurable:!0,enumerable:!0,get:function(){var d,g,n,h,m;return this.cd.ha?((0,l.na)(void 0 === this.kJ || Infinity === this.kJ.ba(f.oa),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.cd.ha + ", contentDuration:" + (null === (d=this.kJ) || void 0 === d?void 0:d.display)),(0,f.Kb)(Math.max(null !== (g=this.cd.Iq()) && void 0 !== g?g:0,null !== (n=this.mediaTime.value) && void 0 !== n?n:0))):this.kJ && 0 < this.kJ.ba(f.oa)?this.kJ:(0,f.Kb)(null !== (m=null === (h=this.W) || void 0 === h?void 0:h.Fa.duration) && void 0 !== m?m:0);},set:function(d){this.kJ=d;}},Y3a:{configurable:!0,enumerable:!0,get:function(){var d;return this.cd.ha?((0,l.na)(void 0 === this.L0 || Infinity === this.L0.ba(f.oa),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.cd.ha + ", maxSeekPts:" + (null === (d=this.L0) || void 0 === d?void 0:d.display)),(0,f.Kb)(this.cd.ZHb())):this.L0;},set:function(d){this.L0=d;}},Nj:{configurable:!0,enumerable:!0,get:function(){return this.Wa.Nj || 0;}},$R:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.WR?this.WR:void 0 === this.mediaTime.value?null:this.Ewb(this.mediaTime.value,this.I);}},Af:{configurable:!0,enumerable:!0,get:function(){var d,g;return null === (g=null === (d=this.W) || void 0 === d?void 0:d.Fa.AA) || void 0 === g?void 0:g.Dp;}},qH:{configurable:!0,enumerable:!0,get:function(){var d,g;return null === (g=null === (d=this.W) || void 0 === d?void 0:d.Fa.AA) || void 0 === g?void 0:g.qH;}},Tc:{configurable:!0,enumerable:!0,get:function(){return this.Wl.Tc;}}});b.qJa=c;},76330:function(r,b,a){var k,f,l;function c(d,g,n){this.Xg=d;this.ub=n;this.L=[];this.log=g.Ua("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.uJa=void 0;k=a(70655);r=a(86700);f=a(89542);l=a(71163);a(2467);c.prototype.some=function(d){return this.L.some(d);};c.prototype.k5=function(){return !!(this.L[0] && this.L[0].stream && this.ub.vg(this.L[0].stream.zb));};c.prototype.np=function(d){return this.L.filter(d).reduce(function(g,n){return g + (n.endTime - n.startTime) / n.rate;},0);};c.prototype.wT=function(d){return this.L.filter(d).reduce(function(g,n){return g + n.endTime - n.startTime;},0);};c.prototype.Pla=function(d,g){var n,h;n=this;h={};return this.L.filter(function(m){return !g || m.track.gC === g;}).reduce(function(m,p){var q,u,t;q=d.bind(n,p)();u=q.key;q=k.__rest(q,["key"]);p=p.endTime - p.startTime;t=h[u];t?t.duration+=p:(t=q,t.duration=p,m.push(t),h[u]=t);return m;},[]);};c.prototype.xf=function(d,g,n){var h;n=void 0 === n?this.Xg.playbackRate.value:n;h=this.L;d && g && g >= d.startTime && (d={Bc:d.Bc,track:d.track,stream:d.stream,startTime:d.startTime,zB:d.zB,Aoa:d.Aoa,endTime:g,rate:n},(g=h[h.length - 1]) && g.track === d.track && g.stream === d.stream && g.Bc === d.Bc && g.endTime === d.startTime && g.rate === d.rate?g.endTime=d.endTime:h.push(d),!1);};a=c;a=k.__decorate([k.__param(1,(0,r.l)(l.Xa)),k.__param(2,(0,r.l)(f.Wf))],a);b.uJa=a;},33769:function(r,b,a){var k,f,l,d;function c(g){this.Ea=g;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.CKa=void 0;r=a(70655);k=a(34202);f=a(86700);l=a(58998);d=a(2467);c.prototype.Aj=function(g){g.cc !== k.Xc.Jr && (this.trace.unshift({time:this.Ea.Eb(),event:g}),5 < this.trace.length && this.trace.pop());};c.prototype.a_a=function(){var g,n;g=this;if(0 === this.trace.length)return {};n=this.trace[0];return {timeSinceLastRepositionMs:this.Nbb(n.time),lastRepositionCause:this.mYa(n.event.cc),repositionTrace:this.trace.map(function(h){return {timeSince:g.Nbb(h.time),cause:g.mYa(h.event.cc),newMediaTime:h.event.u7,oldMediaTime:h.event.kra,contentPts:h.event.ws,skip:h.event.skip};})};};c.prototype.Nbb=function(g){return this.Ea.Eb().wa(g).ba(d.oa);};c.prototype.mYa=function(g){switch(g){case k.Xc.Jr:return "initial";case k.Xc.Mw:return "seek";case k.Xc.kP:return "live_edge";case k.Xc.UI:return "segment_changed";case k.Xc.M_:return "track_changed";case k.Xc.QY:return "force_rebuffer";}};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.Jc))],a);b.CKa=a;},45277:function(r,b,a){var k,f,l,d;function c(g,n,h){this.config=g;this.j=n;this.Cf=h;this.Dy=void 0;this.e8=!1;this.r2a=0;this.log=this.Cf.Ua();}Object.defineProperty(b,"__esModule",{value:!0});b.bLa=void 0;k=a(34202);f=a(2467);l=a(19591);d=a(95919);c.prototype.iIb=function(g,n,h,m,p){var q,u,t,w;h=void 0 === h?this.j.I:h;m=void 0 === m?!1:m;q=n === k.Xc.UI;u=this.xub(q?g:this.Bvb(g,h),n,m,h);m=this.j.Za;q?(g=u,u=m.hja(u)):g=m.jja(h,u);n === k.Xc.Jr && (this.j.HRa=u);p=this.bi(g,n,p);t=(q=q || p)?g:u;if(this.j.Hp){w=this.j.Wa.bg?this.config().Mra:this.config().bC;this.j.A_a(t,w) || n !== k.Xc.Mw && n !== k.Xc.kP || (t=this.j.Hp.ba(f.oa) - w - 1E3,q?(g=t,u=m.hja(t)):(g=m.jja(h,t),u=t));}return {u7:t,ws:u,ZUb:g,bi:p};};c.prototype.xub=function(g,n,h,m){this.aNb() || h?g=Math.round(g):(h=this.j.Za.zub(g,m),g=(0,d.tb)(h)?h:Math.round(g));this.j.Wa.bg && (g=this.hFb(g));this.config().S9a && 0 !== g && n !== k.Xc.Jr && (g+=this.config().S9a);return g;};c.prototype.bi=function(g,n,h){if(this.config().lBb || n === k.Xc.Jr || n === k.Xc.M_ || n === k.Xc.QY || !h || g < h.start.ba(f.oa) || g >= h.end.ba(f.oa))return !1;n=this.j.Za;return (null === n || void 0 === n?void 0:n.Ah) && n.bi(g) || !1;};c.prototype.aNb=function(){return this.j.Wa.bg?!0:"boolean" === typeof this.j.Wa.JV?this.j.Wa.JV:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().JV && this.config().vVb:this.config().JV;};c.prototype.Bvb=function(g,n){var h;h=this.j.fi(n);n=h.Ex;h=h.Y3a;!1;n=h || n;h=this.j.cd.ha && !this.j.cd.S5()?0:this.config().v6b;n=Math.max(0,n.ba(f.oa) - h);return (0,l.Hw)(g,0,n);};c.prototype.hFb=function(g){var n,h,m;n=this.j.YS();if(Object.values(n).find(function(p){var q;q=p.sa;q=g < (null !== q && void 0 !== q?q:Infinity);return p.ta <= g && q;}))return (!1,g);m=g;Object.entries(n).forEach(function(p){var q;p=ma(p);p.next();p=p.next().value.ta;q=p - g;0 < q && (void 0 === h || q < h) && (h=q,m=p);});!1;return m;};Wa.Object.defineProperties(c.prototype,{U5:{configurable:!0,enumerable:!0,get:function(){return this.e8 || !!this.Dy;}}});b.bLa=c;},24016:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.fLa=void 0;r=a(70655);a=a(86700);c.prototype.zWb=function(f,l){l.XL.cb.Tua({xid:l.ma,auxPlaybackcontextid:l.Ef,auxMid:f.auxMid,auxMidType:f.auxMidType,reason:f.reason,adBreakLocationMs:f.adBreakLocationMs},"error" === f.sev);};k=c;k=r.__decorate([(0,a.T)()],k);b.fLa=k;},73198:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p,q,u,t,w,v,y,x,z){var A;A=this;this.N3b=m;this.j=p;this.id=q;this.height=u;this.width=t;this.FUb=w;this.GUb=v;this.size=y;this.Rs=x;this.urls=z;this.type=k.Sj.Qwa;this.retry=!0;this.state=g.Do.e_;this.yg={};this.T1={};this.xWb=function(B){if(B.ia)try{A.data=A.N3b.parse(B.content);A.state=g.Do.gD;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.yg);A.j.fireEvent(n.ea.sX);}catch(C){A.state=g.Do.yHa;A.log.error("TrickPlay parse failed.",C);}else (A.state=g.Do.e_,A.log.error("TrickPlay download failed.",(0,h.xw)(B),A.yg));};this.log=(0,l.Gh)(p,"TrickPlay");}b.z=void 0;k=a(20736);f=a(37986);l=a(89082);d=a(89927);g=a(84506);n=a(34202);h=a(68172);c.prototype.pHb=function(m){if(this.data && (this.Rs && (m+=this.Rs),m=Math.floor(m / this.data.header.Qbb),0 <= m && m < this.data.images.length))return {image:this.data.images[m],time:m * this.data.header.Qbb,height:this.height,width:this.width,pixelAspectHeight:this.FUb,pixelAspectWidth:this.GUb};};c.prototype.qL=function(){switch(this.state){case g.Do.gD:return "downloaded";case g.Do.LOADING:return "loading";case g.Do.lP:return "downloadfailed";case g.Do.yHa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var m;m=this.KJb();m?(this.state=g.Do.LOADING,this.CBb(m)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.KJb=function(){var m,p,q;m=this;p=Object.keys(this.urls).find(function(u){return (m.T1[m.urls[u]] || 0) <= f.config.J3b;});if(p){q=this.urls[p];(q in this.T1)?this.T1[q]++:this.T1[q]=1;return {url:q,Em:p};}};c.prototype.CBb=function(m){var p,q;this.log.trace("Downloading",m.url,this.yg);q=this.p4(m.Em);m={responseType:d.IT,Bc:q,url:m.url,track:this,nr:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",MA:"trickplay"};this.j.o5.download(m,this.xWb);};c.prototype.p4=function(m){return this.j.sg.find(function(p){return p && p.id === m;});};b.z=c;},26277:function(r,b,a){var k,f,l,d,g,n;function c(h,m){this.Yf=h;this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.tMa=void 0;r=a(70655);k=a(34202);f=a(84506);l=a(58998);d=a(86700);g=a(2467);a=a(17244);c.prototype.JK=function(h){var m;h.tX={};if(!h.ML() && h.cz && 0 < h.cz.length && (h.bz=this.TYa(h),h.bz)){m=this.j0b(h);m() || (h.lb.addListener(m),h.Oe.addListener(m));}};c.prototype.j0b=function(h){var p;function m(){var q,u;if(!h.Oe.value || h.lb.value === k.bb.Gf)return !1;q=h.bz;u=q.getState();return u === f.Do.LOADING?!1:u !== f.Do.gD && q.retry?(q=p.FJb(h))?(h.tX.offset=p.Yf.Eb().ba(g.oa),h.bz=q,q.download(),!0):!1:(h.lb.removeListener(m),h.Oe.removeListener(m),!1);}p=this;return m;};c.prototype.FJb=function(h){var m,p;m=this.config();p=h.Vk.np() < m.L3b;m=(h.Oe.value?h.Oe.value.bitrate:0) > m.K3b;return this.bJb(h,p && m);};c.prototype.bJb=function(h,m){if(m && (m=this.TYa(h),this.TZa(h,m.size)))return (h.tX.f9a="h",m);m=this.VHb(h);if(this.TZa(h,m.size))return (h.tX.f9a="l",m);};c.prototype.TZa=function(h,m){var p,q;p=this.config();q=Math.min(h.uR(),h.FX());return h.atb.kub(m) * (1 + .01 * p.drb[2]) < q * p.O3b;};c.prototype.TYa=function(h){return h.cz[h.cz.length - 1];};c.prototype.VHb=function(h){return h.cz[0];};n=c;n=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(l.Jc)),r.__param(1,(0,d.l)(a.ac))],n);b.tMa=n;},81853:function(r,b,a){var k,f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.vMa=void 0;r=a(70655);f=a(70834);a=a(86700);c.prototype.parse=function(d){var g,n;if(!d)throw Error("invalid array buffer");g=new Uint8Array(d);n=new f.TO(g);d=this.bUb(n);g=this.cUb(n,g,d);return {header:d,images:g};};c.prototype.bUb=function(d){var g,n,h,m;if(d.Qma() < this.JYb())throw Error("array buffer too short");k.IFa.forEach(function(p){if(p != d.Ky())throw Error("BIF has invalid magic.");});g=d.YM();if(g > k.VERSION)throw Error("BIF version in unsupported");n=d.YM();if(0 == n)throw Error("BIF has no frames.");h=d.YM();m=d.zj(k.pKa);return {version:g,kSb:n,Qbb:h,MYb:m};};c.prototype.cUb=function(d,g,n){var p,q;for(var h=[],m=0;m <= n.kSb;m++){p={timestamp:d.YM(),offset:d.YM()};void 0 != q && h.push(g.subarray(q.offset,p.offset));q=p;}return h;};c.prototype.JYb=function(){return k.IFa.length + 4 + 4 + 4 + k.pKa;};l=k=c;l.IFa=[137,66,73,70,13,10,26,10];l.VERSION=0;l.pKa=44;l=k=r.__decorate([(0,a.T)()],l);b.vMa=l;},34886:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v;function c(y){return function(){return y.hb.get(k.GIa).va();};}Object.defineProperty(b,"__esModule",{value:!0});b.QG=void 0;r=a(86700);k=a(12496);f=a(78274);l=a(63730);d=a(50086);g=a(31461);n=a(62181);h=a(34401);m=a(71133);p=a(4122);q=a(29608);u=a(12813);t=a(85470);w=a(61886);v=a(60484);b.QG=new r.$c(function(y){y(h.tJa).to(m.sJa).da();y(f.hda).to(l.CIa).da();y(d.dIa).to(g.cIa).da();y(k.GIa).to(n.FIa).da();y(k.JP).oX(c);y(w.EIa).to(v.DIa).da();y(p.jIa).to(q.iIa).da().OX();y(u.IIa).to(t.HIa).da();y(u.zIa).to(t.yIa).da();y(u.BIa).to(t.AIa).da();});},50086:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dIa="PboCachedPlaydataSymbol";},4122:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eda={gU:"keepAlive",splice:"splice"};b.jIa="PboEventSenderSymbol";},78274:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hda="PboPlaydataFactorySymbol";},61886:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EIa="PboPlaydataPlaybackMonitorSymbol";},12496:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GIa="PboPlaydataServicesSymbol";b.JP="PboPlaydataServicesProviderSymbol";},34401:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tJa="PlaydataConfigSymbol";},31461:function(r,b,a){var l,d,g,n,h,m,p,q,u,t;function c(){}function k(){}function f(w,v,y,x,z){var A;A=this;this.is=w;this.el=v;this.config=y;this.YE=x;this.rUb=z;this.Kt=function(){return new c().encode({version:A.version,data:A.QG});};this.b5b=function(B){B=A.upgrade(B);A.rUb.validate(B);return B;};this.upgrade=function(B){var C;if(A.is.zm(B))return A.c5b(B);C=B.version;if(void 0 != C && A.is.Zj(C) && 1 == C)return A.d5b(B);C=B.version;if(void 0 != C && A.is.Zj(C) && 2 == C)return new c().decode(B);if(B.version && A.is.Zj(B.version))throw new h.Mc(g.U.zz,g.R.Qza,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new h.Mc(g.U.zz,g.R.vz,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.sk=new m.Vba(2,this.config().W6a,"" !== this.config().W6a && 0 < this.config().TUb,this.el,this.Kt);}Object.defineProperty(b,"__esModule",{value:!0});b.cIa=void 0;r=a(70655);l=a(86700);d=a(17244);g=a(68172);n=a(89542);h=a(56003);m=a(133);p=a(7336);q=a(15303);u=a(63730);a=a(12813);f.prototype.cXb=function(){return this.sk.load(this.b5b).catch(function(w){throw new h.Mc(g.U.zz,w.xa || w.ic,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};f.prototype.Qqb=function(w){return this.sk.add(w);};f.prototype.L8a=function(w){return this.sk.remove(w,function(v,y){return v.ma === y.ma;});};f.prototype.hxa=function(w){return this.sk.update(w,function(v,y){return v.ma === y.ma;});};f.prototype.toString=function(){return JSON.stringify(this.Kt(),null,"  ");};f.prototype.fdb=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.YE().ck:"";};f.prototype.nxa=function(w){return w.map(function(v){return {Ub:v.downloadableId,duration:v.duration};});};f.prototype.gdb=function(w){var v;return w?{total:w.playTimes.total,PH:null !== (v=w.playTimes.totalContentTime) && void 0 !== v?v:w.playTimes.total,aO:w.playTimes.total,HC:0,IC:0,QH:0,RH:0,audio:this.nxa(w.playTimes.audio || []),video:this.nxa(w.playTimes.video || []),text:this.nxa(w.playTimes.timedtext || [])}:{total:0,PH:0,aO:0,HC:0,IC:0,QH:0,RH:0,audio:[],video:[],text:[]};};f.prototype.c5b=function(w){var v,y,x;v=this;w=JSON.parse(w);y={eg:"VOD",href:this.fdb(w.playbackContextId),ma:w.xid?w.xid.toString():"",O:w.movieId,position:w.position,yx:w.timestamp,cm:w.playback?1E3 * w.playback.startEpoch:-1,dM:w.mediaId,Gv:this.gdb(w.playback),trackId:"",bm:{},SM:w.accountKey};x=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.el.create().then(function(z){z.save(v.config().pS,x,!1);});if("" === y.href || "" === y.ma)throw new h.Mc(g.U.zz,g.R.vz);return {version:2,data:[y]};};f.prototype.d5b=function(w){var v;v=this;if(!w.playdata || !this.is.qA(w.playdata))throw new h.Mc(g.U.zz,g.R.vz,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(y){return y.map(function(x){var z;return {eg:null !== (z=x.streamingType) && void 0 !== z?z:"VOD",href:v.fdb(x.playbackContextId),ma:x.xid?x.xid.toString():"",O:x.movieId,position:x.position,yx:x.timestamp,cm:x.playback?1E3 * x.playback.startEpoch:-1,dM:x.mediaId,Gv:v.gdb(x.playback),trackId:"",bm:{},SM:x.profileId};});})(w.playdata)};};Wa.Object.defineProperties(f.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.sk.version;}},QG:{configurable:!0,enumerable:!0,get:function(){return this.sk.Fl;}}});t=f;t=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(n.Wf)),r.__param(1,(0,l.l)(p.kw)),r.__param(2,(0,l.l)(d.ac)),r.__param(3,(0,l.l)(q.tw)),r.__param(4,(0,l.l)(a.BIa))],t);b.cIa=t;k.prototype.encode=function(w){var v;v=new u.l_();return w.map(v.encode);};k.prototype.decode=function(w){var v;v=new u.l_();return w.map(v.decode);};c.prototype.encode=function(w){return {version:w.version,data:new k().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new k().decode(w.data)};};},29608:function(r,b,a){var k,f,l;function c(d,g){this.SR=g;this.log=d.Ua("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.iIa=void 0;r=a(70655);k=a(8010);f=a(71163);a=a(86700);c.prototype.ava=function(d,g){var n;n=this.SR(k.yo.start);return this.CWa(n,d,g);};c.prototype.b$a=function(d){var g;g=this;return this.SR(k.yo.stop).Bf(this.log,d).then(function(){}).catch(function(n){g.log.error("PBO stop event failed",n);throw n;});};c.prototype.xW=function(d,g,n){d=this.SR(d);return this.CWa(d,g,n);};c.prototype.CWa=function(d,g,n){var h;h=this;return d.Kn(this.log,g.W.ki,n).then(function(){}).catch(function(m){h.log.error("PBO event failed",m);throw m;});};l=c;l=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(f.Xa)),r.__param(1,(0,a.l)(k.zba))],l);b.iIa=l;},63730:function(r,b,a){var d,g,n,h,m,p;function c(q,u,t,w){this.qa=q;this.yT=u;this.Ea=t;this.profile=w;}function k(){}function f(){}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.CIa=b.l_=void 0;r=a(70655);d=a(86700);g=a(35664);n=a(2467);h=a(17244);m=a(58998);a=a(98540);l.prototype.encode=function(q){return {downloadableId:q.Ub,duration:q.duration};};l.prototype.decode=function(q){return {Ub:q.downloadableId,duration:q.duration};};f.prototype.encode=function(q){return {total:q.total,totalContentTime:q.PH,totalAdDuration:q.HC,totalCombinedDuration:q.aO,totalOtherDuration:q.IC,totalStartSlateDuration:q.RH,totalLiveEdgeDuration:q.QH,audio:q.audio.map(new l().encode),video:q.video.map(new l().encode),text:q.text.map(new l().encode)};};f.prototype.decode=function(q){var u;return {total:q.total,PH:null !== (u=q.totalContentTime) && void 0 !== u?u:q.total,HC:q.totalAdDuration,aO:q.totalCombinedDuration,IC:q.totalOtherDuration,RH:q.totalStartSlateDuration,QH:q.totalLiveEdgeDuration,audio:q.audio.map(new l().decode),video:q.video.map(new l().decode),text:q.text.map(new l().decode)};};k.prototype.encode=function(q){return {streamingType:q.eg,href:q.href,xid:q.ma,movieId:q.O,position:q.position,clientTime:q.yx,sessionStartTime:q.cm,videoTrackId:q.pO,audioTrackId:q.Zo,timedTextTrackId:q.XN,mediaId:q.dM,playTimes:new f().encode(q.Gv),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.bm,profileId:q.SM};};k.prototype.decode=function(q){return {eg:q.streamingType,href:q.href,ma:q.xid,O:q.movieId,position:q.position,yx:q.clientTime,cm:q.sessionStartTime,pO:q.videoTrackId,Zo:q.audioTrackId,XN:q.timedTextTrackId,dM:q.mediaId,Gv:new f().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,bm:q.sessionParams,SM:q.profileId};};b.l_=k;c.prototype.create=function(q){var u,t,w,v,y,x,z,A;A=Object.assign(Object.assign({},null !== (u=q.Wa.bm) && void 0 !== u?u:{}),{uiVersion:this.yT().ip.$v});u=null !== (t=q.cd.ha?q.cd.U4():q.$R) && void 0 !== t?t:0;return {href:q.W && q.W.ki?q.W.ki.jL("events").href:"",eg:null !== (v=null === (w=q.W) || void 0 === w?void 0:w.Fa.eg) && void 0 !== v?v:"VOD",ma:q.ma.toString(),O:q.O,position:Math.floor(u),yx:this.qa.oH.ba(n.oa),cm:q.ey?q.ey.ba(n.oa):-1,pO:null === (y=q.Mg.value) || void 0 === y?void 0:y.trackId,Zo:null === (x=q.tc.value) || void 0 === x?void 0:x.trackId,XN:null === (z=q.wb.value) || void 0 === z?void 0:z.trackId,dM:void 0,Gv:this.Ima(q),trackId:void 0 !== q.Nj?q.Nj.toString():"",sessionId:this.yT().sessionId || this.Ea.id,appId:this.yT().appId || this.Ea.id,bm:A,SM:this.profile};};c.prototype.load=function(q){return new k().decode(q);};c.prototype.Mma=function(q){return q.map(function(u){return {Ub:u.downloadableId,duration:u.duration};});};c.prototype.Ima=function(q){return (q=q.Vk)?(q=q.BIb(),{total:q.total,PH:q.totalContentTime,HC:q.totalAdDuration,IC:q.totalOtherDuration,aO:q.totalCombinedDuration,QH:q.totalLiveEdgeDuration,RH:q.totalStartSlateDuration,audio:this.Mma(q.audio),video:this.Mma(q.video),text:this.Mma(q.timedtext)}):{total:0,PH:0,HC:0,aO:0,IC:0,QH:0,RH:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.gg)),r.__param(1,(0,d.l)(h.ac)),r.__param(2,(0,d.l)(m.Jc)),r.__param(3,(0,d.l)(a.SI))],p);b.CIa=p;},60484:function(r,b,a){var k,f,l,d;function c(g,n){this.D6a=n;this.log=g.Ua("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.DIa=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(34202);a=a(12496);c.prototype.Lj=function(g){var n;n=this;this.D6a().then(function(h){g.addEventListener(l.ea.lG,function(m){var p;if(void 0 !== m.OM){p=g.Mk(m.OM);h.TW(p);m.XF || new Promise(function(q){var u;if(g.Oh.value)q();else {u=function(t){t.newValue && (q(),g.Oh.removeListener(u));};g.Oh.addListener(u);}}).then(function(){return h.Lj(g,n.$$a(g),function(q){return g.JE(q);});});}});g.addEventListener(l.ea.ot,function(){h.Lj(g.aa,n.$$a(g),function(m){return g.JE(m);});});g.background.value || g.addEventListener(l.ea.pU,function(m){var p;m=g.Mk(m.O);if(m.If){p=g.Mk(m.If.Cd);n.log.trace("Auxiliary viewable segment (viewableId: " + m.O + "). Starting playdata monitor for parent viewable " + p.O);m=p;}h.Wva(m);});g.addEventListener(l.ea.tg,function(){h.Hab();});g.addEventListener(l.ea.ydb,function(){h.$9a(g.aa).catch(function(m){(m=m.JM) && g.JE(m);});});g.wb.addListener(function(){g.Wa.bka?n.log.trace("stickiness is disabled for timedtext"):h.z9(g.aa);});g.tc.addListener(function(){g.Wa.bka?n.log.trace("stickiness is disabled for audio"):h.z9(g.aa).catch(function(m){(m=m.JM) && g.JE(m);});});});};c.prototype.$$a=function(g){return g.state.value == l.Tb.$d;};d=c;d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(a.JP))],d);b.DIa=d;},62181:function(r,b,a){var l,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D,F,G){this.config=x;this.wc=A;this.aw=B;this.qt=C;this.l8=D;this.th=F;this.dG=Promise.resolve();this.closed=!1;this.log=z.Ua("PlaydataServices");this.PG=[];this.active=new Set();this.cZb=new k(x,G);}function k(x,z){this.config=x;this.qa=z;}function f(x,z,A,B,C,D){this.log=x;this.wc=z;this.Xg=A;this.qt=B;this.aw=C;this.MUb=D;this.NWa=this.Zf=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.FIa=b.Qkb=void 0;r=a(70655);l=a(86700);d=a(2467);g=a(71163);n=a(65428);h=a(78274);m=a(50086);p=a(34401);q=a(68172);u=a(63730);t=a(4122);w=a(56170);v=a(35664);a=a(97636);f.prototype.lM=function(x,z){var B;function A(){var C;C=B.qt.create(B.Xg);B.aw.hxa(C).catch(function(D){var F;F=B.NWa?g.cj.tea:g.cj.Qj;B.NWa=!0;B.log.write(F,"Unable to save playdata changes to IDB",D);});}B=this;this.log.trace("Adding initial playdata",z);this.aw.Qqb(z).then(function(){B.log.trace("Scheduling monitor",{interval:x});B.mr=B.wc.sN(x,A);}).catch(function(C){B.log.error("Unable to add playdata",{error:C,playdata:new u.l_().encode(z)});B.mr=B.wc.sN(x,A);});};f.prototype.stop=function(x){var z,A;z=this;if(this.Zf)return Promise.resolve();this.mr && this.mr.cancel();A=this.qt.create(this.Xg);return this.aw.hxa(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(x){if(z.Xg.background.value)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.MUb.b$a(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(x)return (z.log.trace("Removing playdata from the persisted store",A),z.aw.L8a(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.O);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};f.prototype.cancel=function(){this.Zf=!0;this.mr && this.mr.cancel();this.aw.hxa(this.qt.create(this.Xg));};Wa.Object.defineProperties(k.prototype,{Gub:{configurable:!0,enumerable:!0,get:function(){var x;x=this.qa.fe;return !this.dG || 0 <= x.wa(this.dG).Ik(this.config.b2a)?(this.dG=x,!0):!1;}}});b.Qkb=k;c.prototype.va=function(){var x;x=this;this.tB || (this.log.trace("Starting playdata services"),this.tB=this.aw.cXb().then(function(){!1;return x;}).catch(function(z){x.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return x;}));return this.tB;};c.prototype.close=function(){this.closed=!0;this.PG.forEach(function(x){x.lM.cancel();});};c.prototype.send=function(x){var z;if(this.closed)return Promise.resolve();z=this.config;return z.MG && z.Zua?this.a_b(x):Promise.resolve();};c.prototype.Lj=function(x,z,A){var B;B=this;this.closed || (this.Wva(x),this.ava(x).catch(function(C){B.log.error("Start command failed",{playdata:C.QG,error:C.BS});}),z && this.Tva(this.HHb(x),x,A));};c.prototype.TW=function(x){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.qt.create(x);this.active.delete(A.ma);x=ma((0,w.cC)(function(C){return C.key === A.ma;},this.PG));B=x.next().value;this.PG=x.next().value;return Promise.all(B.map(function(C){C.stopped=!0;return C.lM.stop(z.config.Zua);})).then(function(){});};c.prototype.Wva=function(x){var z,A;x.ke("pdb");if(this.config.msa.C1a()){z=this.qt.create(x);A=z.ma;this.PG.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.PG.push({key:A,lM:this.gIb(x,z),Xv:!1,stopped:!1}));}};c.prototype.a_b=function(x){var z,A,B,C;z=this;A=this.aw.QG.filter(function(D){return !z.active.has(D.ma);});B=void 0;C=void 0;x && Infinity === x?B=A:(A=ma((0,w.cC)(function(D){return D.O === x;},A)),B=A.next().value,C=A.next().value);C && 0 < C.length && this.wc.Ij(this.config.Z9a,function(){z.a$a(C).catch(function(){});});return B && 0 !== B.length?this.a$a(B):Promise.resolve();};c.prototype.a$a=function(x){var A;function z(B){return A.l8.b$a(B).then(function(){return A.hYb(B);});}A=this;return x.reduce(function(B,C){return B.then(function(){return z(C);});},Promise.resolve());};c.prototype.hYb=function(x){var z;z=this;return this.aw.L8a(x).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.gIb=function(x,z){x=new f(this.log,this.wc,x,this.qt,this.aw,this.l8);x.lM(this.config.msa,z);return x;};c.prototype.ava=function(x){var z,A;z=this;A=this.qt.create(x);return this.l8.ava(x,A).then(function(){!1;z.C3a(x);}).catch(function(B){z.C3a(x);throw {QG:A,BS:B};});};c.prototype.C3a=function(x){this.PG.filter(function(z){return z.key === x.ma.toString();}).forEach(function(z){z.Xv=!0;});};c.prototype.$9a=function(x){return this.cZb.Gub?this.xW(t.eda.gU,x,q.U.$ba):Promise.resolve();};c.prototype.z9=function(x){return this.xW(t.eda.splice,x,q.U.PKa);};c.prototype.xW=function(x,z,A){var C;function B(D){var F;F=C.PG.filter(function(G){return G.key === D.ma.toString();});return 0 === F.length?!0:F.reduce(function(G,E){return G || E.stopped || !E.Xv;},!1);}C=this;return B(z)?this.dG:this.dG=this.dG.catch(function(){return Promise.resolve();}).then(function(){var D;if(B(z))return Promise.resolve();!1;D=C.qt.create(z);return C.l8.xW(x,z,D);}).then(function(D){!1;return D;}).catch(function(D){var F;C.log.error("Failed to send event",{eventKey:x,xid:z.ma,error:D});D.uj?F=C.th(A,D):D.xy === q.ZZ.pea && (F=C.th(A,D));throw {BS:D,JM:F};});};c.prototype.Tva=function(x,z,A){var B;B=this;!1;this.Gia();this.Woa=this.wc.Ij(x,function(){B.Gia();B.xW(t.eda.gU,z,q.U.$ba).then(function(){B.Tva(x,z,A);}).catch(function(C){var D;D=C.BS;(C=C.JM) && A(C);D.xy !== q.ZZ.pea && B.Tva(x,z,A);});});};c.prototype.Hab=function(){this.Gia();};c.prototype.Gia=function(){this.Woa && (this.Woa.cancel(),this.Woa=void 0);};c.prototype.HHb=function(x){return x.Wa.Ena?(0,d.Kb)(x.Wa.Ena):this.config.a2a;};y=c;y=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(p.tJa)),r.__param(1,(0,l.l)(g.Xa)),r.__param(2,(0,l.l)(n.Ci)),r.__param(3,(0,l.l)(m.dIa)),r.__param(4,(0,l.l)(h.hda)),r.__param(5,(0,l.l)(t.jIa)),r.__param(6,(0,l.l)(a.KP)),r.__param(7,(0,l.l)(v.gg))],y);b.FIa=y;},85470:function(r,b,a){var l,d,g,n;function c(){}function k(h){this.qUb=h;}function f(h){this.sUb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.HIa=b.AIa=b.yIa=void 0;r=a(70655);l=a(86700);d=a(12813);g=a(56003);n=a(68172);f.prototype.validate=function(h){h.map(this.sUb.validate);};a=f;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.IIa))],a);b.yIa=a;k.prototype.validate=function(h){this.qUb.validate(h.data);};a=k;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.zIa))],a);b.AIa=a;c.prototype.validate=function(h){var m;h.ma && "string" === typeof h.ma?h.href && "string" === typeof h.href?h.SM && "string" === typeof h.SM || (m="ProfileId value is corrupted."):m="Href value is corrupted.":m="Xid value is corrupted.";if(m)throw new g.Mc(n.U.zz,n.R.vz,void 0,void 0,void 0,m,void 0,h.ma);};d=c;d=r.__decorate([(0,l.T)()],d);b.HIa=d;},71133:function(r,b,a){var k,f,l,d,g,n;function c(h,m){h=f.Se.call(this,h,"PlaydataConfigImpl") || this;h.config=m;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.sJa=void 0;r=a(70655);k=a(86700);f=a(90187);l=a(59578);d=a(54662);g=a(2467);a=a(53685);ia(c,f.Se);Wa.Object.defineProperties(c.prototype,{MG:{configurable:!0,enumerable:!0,get:function(){return this.config.Px?"unsentplaydatatest":"unsentplaydata";}},Zua:{configurable:!0,enumerable:!0,get:function(){return !0;}},Z9a:{configurable:!0,enumerable:!0,get:function(){return (0,g.Kb)(1E4);}},msa:{configurable:!0,enumerable:!0,get:function(){return (0,g.Kb)(4E3);}},a2a:{configurable:!0,enumerable:!0,get:function(){return (0,g.k7)(1);}},b2a:{configurable:!0,enumerable:!0,get:function(){return (0,g.uh)(30);}}});n=c;r.__decorate([d.config(d.string,"playdataPersistKey")],n.prototype,"MG",null);r.__decorate([d.config(d.Pc,"sendPersistedPlaydata")],n.prototype,"Zua",null);r.__decorate([d.config(d.lk,"playdataSendDelayMilliseconds")],n.prototype,"Z9a",null);r.__decorate([d.config(d.lk,"playdataPersistIntervalMilliseconds")],n.prototype,"msa",null);r.__decorate([d.config(d.lk,"heartbeatCooldown")],n.prototype,"a2a",null);r.__decorate([d.config(d.lk,"keepAliveWindow")],n.prototype,"b2a",null);n=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.ul)),r.__param(1,(0,k.l)(a.kn))],n);b.sJa=n;},90399:function(r,b,a){var k,f;function c(l,d){var g;g=this;this.Nh=l;this.Kg=d;this.addEventListener=function(n,h,m){return g.Kg.addListener(n,g.NUa(n,h),m);};this.removeEventListener=function(n,h){return g.Kg.removeListener(n,g.NUa(n,h));};this.getReady=function(){return g.Kg.pv();};this.getXid=function(){return g.sb().Ps();};this.getMovieId=function(){return g.sb().sZa();};this.getPlaygraphId=function(){return g.Kg.EIb();};this.getElement=function(){return g.Kg.Rm();};this.isPlaying=function(){return g.sb().CB();};this.isPaused=function(){return g.sb().Ys();};this.isMuted=function(){return g.sb().Doa();};this.isReady=function(){return g.sb().pv();};this.isBackground=function(){return g.sb().d1a();};this.setBackground=function(n){return g.sb().gva(n);};this.startInactivityMonitor=function(){return g.sb().HN();};this.setTransitionTime=function(n){return g.sb().wva(n);};this.getDiagnostics=function(){return g.sb().AYa();};this.getTextTrackList=function(n){return g.sb().gna(n);};this.getMaxRecommendedTextIndex=function(n){return g.sb().xma(n);};this.getTextTrack=function(){return g.sb().fna();};this.setTextTrack=function(n){return g.sb().sva(n);};this.getVolume=function(){return g.sb().o_a();};this.isEnded=function(){return g.sb().yoa();};this.getBusy=function(){return g.sb().qh();};this.getError=function(){return g.sb().getError();};this.getCurrentTime=function(){return g.sb().eL();};this.getAdManager=function(){return g.sb().Nn();};this.getLivePlaybackManager=function(){var n;n=g.sb().Ol();(0,f.na)(n,"Unexpected call to getLivePlaybackManager()");if(n.ha && !n.z0b())return {seekToLiveEdge:function(){return n.t9();},isAtLiveEdge:function(){return n.zB();},getLiveEventState:function(){return n.fB();},isLiveEventEnded:function(){return n.S5();}};};this.getBufferedTime=function(){return g.sb().gYa();};this.getSegmentTime=function(){return g.sb().r4();};this.getDuration=function(){return g.sb().ama();};this.getVideoSize=function(){return g.sb().n_a();};this.getAudioTrackList=function(){return g.sb().XXa();};this.getMaxRecommendedAudioIndex=function(){return g.sb().mZa();};this.getAudioTrack=function(){return g.sb().WXa();};this.getTimedTextTrackList=function(n){return g.sb().gna(n);};this.getMaxRecommendedTimedTextIndex=function(n){return g.sb().xma(n);};this.getTimedTextTrack=function(){return g.sb().fna();};this.getAdditionalLogInfo=function(){return g.sb().UXa();};this.getTrickPlayFrame=function(n){return g.sb().j_a(n);};this.getSessionSummary=function(){return g.sb().Xma();};this.getTimedTextSettings=function(){return g.sb().vT();};this.setMuted=function(n){return g.sb().B$a(n);};this.setVolume=function(n){return g.sb().O$a(n);};this.getPlaybackRate=function(){return g.sb().nL();};this.setPlaybackRate=function(n){return g.sb().G9(n);};this.setAudioTrack=function(n){return g.sb().l$a(n);};this.setTimedTextTrack=function(n){return g.sb().sva(n);};this.setTimedTextSettings=function(n){return g.sb().BN(n);};this.prepare=function(){return g.sb().UG();};this.load=function(){return g.sb().load();};this.close=function(n){return g.PQa(g.Kg.close(),n);};this.play=function(){return g.sb().play();};this.pause=function(){return g.sb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(n,h){return g.PQa(g.sb().LK(n),h);};this.induceError=function(n){return g.sb().z0a(n);};this.loadCustomTimedTextTrack=function(n,h,m,p){return g.sb().R2a(n,h,m,p);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return g.sb().s4();};this.generateScreenshots=function(n){return g.sb().OXa(n);};this.getCurrentSegmentId=function(){return g.Kg.vYa();};this.getPlaygraphMap=function(){return g.Kg.FF();};this.updatePlaygraphMap=function(n){return g.Kg.Ot(n);};this.Oka=new Map();this.log=(0,k.Si)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.W_=void 0;k=a(89082);a(5690);f=a(70633);c.prototype.sb=function(){return this.Kg.sb();};c.prototype.NUa=function(l,d){var g;this.Oka.has(l) || this.Oka.set(l,new Map());g=this.Oka.get(l);g.has(d) || g.set(d,this.jAb(l,d));return g.get(d);};c.prototype.jAb=function(l,d){var g;g=this;return function(n){return d(Object.assign({},n,{type:l,target:g}));};};c.prototype.PQa=function(l,d){return d?l.then(d,d):l;};b.W_=c;},61664:function(r,b,a){var k;function c(f,l,d){var g;g=k.W_.call(this,f,l) || this;g.seek=function(n){return g.sb().seek(n);};g.addEpisode=function(n){return g.kpa.Bqb(n);};g.playNextEpisode=function(n){n=void 0 === n?{}:n;return g.kpa.NUb(n);};g.watchCredits=function(n){return g.kpa.i6b(n);};g.playSegment=function(n){return g.sb().R6a(n);};g.queueSegment=function(n){return g.sb().W7a(n);};g.updateNextSegmentWeights=function(n,h){return g.sb().aj(n,h);};g.setNextSegment=function(n){for(var h=[],m=0;m < arguments.length;++m){h[m - 0]=arguments[m];}h=h.map(function(p){return {I:p.segmentId,oM:p.nextSegmentId};});g.Kg.Kj.apply(g.Kg,da(h));};g.clearNextSegment=function(n){for(var h=[],m=0;m < arguments.length;++m){h[m - 0]=arguments[m];}return g.Kg.Gvb.apply(g.Kg,da(h));};g.goToNextSegment=function(n,h){return g.Kg.ona(n,h);};g.getPlaying=function(){return g.isPlaying();};g.getPaused=function(){return g.isPaused();};g.getMuted=function(){return g.isMuted();};g.getEnded=function(){return g.isEnded();};g.getTimedTextVisibility=function(){return g.isTimedTextVisible();};g.isTimedTextVisible=function(){return !!g.sb().vT().visibility;};g.setTimedTextVisibility=function(n){return g.setTimedTextVisible(n);};g.setTimedTextSize=function(n){return g.sb().BN({size:n});};g.setTimedTextBounds=function(n){return g.sb().BN({bounds:n});};g.setTimedTextMargins=function(n){return g.sb().BN({margins:n});};g.setTimedTextVisible=function(n){return g.sb().BN({visibility:n});};g.getCongestionInfo=function(n){n && n({success:!1,name:null,isCongested:null});};g.kpa=d(f,l,g.log);return g;}b.Daa=void 0;k=a(90399);ia(c,k.W_);b.Daa=c;},40142:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x;function c(z){var A,B;A=this;this.j8=new x.vda();this.createPlaygraphPlayer=function(C,D,F){var G;C=t.zda.encode(C);G=d.za.get(w.FI);F=F?G.create(F):void 0;G=d.za.get(p.Bda).create(C);return G.jzb(C.ve,A.j8.Tpa(A.mRa(D,G.bma())),F);};this.closeAllPlayers=function(C){C=void 0 === C?function(){}:C;(0,l.rda)(C);};this.init=function(C){A.rA.tU(function(D){D.ia?A.d_b().then(function(){(0,k.WIa)();}).catch(function(F){d.log.error("Unable to initialize the playdata services",F);}).then(function(){Object.assign(A,c.UJ);C(Object.assign({success:!0},c.UJ));}):C({success:!1,error:(0,d.xJa)(D.errorCode || n.U.Sba,D)});});};this.applyConfig=function(C){A.Ocb(C);(0,f.Zia)(C);};this.prepare=function(C,D){var F;C=A.q7a.WAb(C) || [];F=new Set();C=C.filter(function(G){var E;E=F.has(G.O);F.add(G.O);return !E;});if(f.config.fr && A.Zc)try{A.Zc.UG(C,D);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(C){pb._cad_global.playerPredictionModel?(C=A.q7a.YAb(C)) && pb._cad_global.playerPredictionModel.update(C):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(C){(0,d.fL)().YW().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.supportsUltraHd=function(C){(0,d.fL)().ZW().then(C).catch(function(){return C(!1);});};this.supportsDolbyAtmos=function(C){(0,d.fL)().WW().then(C).catch(function(){return C(!1);});};this.supportsDolbyVision=function(C){(0,d.fL)().j$().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return f.config.LCb;};this.Ocb(z);d.za.get(y.Bya);this.q7a=d.za.get(g.YIa);this.rA=d.za.get(u.Th);B=d.za.get(v.TIa).apply();(0,f.vTa)([z],B);this.Zc=d.za.get(q.BD);(0,d.fL)().ZW();}Object.defineProperty(b,"__esModule",{value:!0});b.CD=void 0;k=a(15883);f=a(37986);l=a(58680);d=a(89082);g=a(2869);n=a(68172);h=a(59578);m=a(12496);p=a(11223);q=a(76820);u=a(60634);t=a(41427);w=a(23251);v=a(98757);y=a(55714);x=a(92979);c.prototype.mRa=function(z,A){var B,C,D,F;z=void 0 === z?{}:z;F=null !== (C=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== C?C:A.ta;return Object.assign(Object.assign({startPts:F,uiPlayStartTime:Date.now()},z),{endPts:null !== (D=A.sa) && void 0 !== D?D:void 0,isPlaygraph:!0});};c.prototype.Ocb=function(z){d.za.get(h.iP).xQb(z);};c.prototype.d_b=function(){d.za.get(m.JP)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});return Promise.resolve();};b.CD=c;c.UJ={};},95233:function(r,b,a){var k,f,l,d,g,n;function c(h){var m;m=l.CD.call(this,h) || this;m.createPlayer=function(p,q){var u,t,w;q=void 0 === q?{}:q;q="number" === typeof q?{Nj:q}:q;u=k.za.get(f.QI);t=k.za.get(g.FI).create(q.manifest);w=k.za.get(d.Dda);p=u.gzb(p);u=k.za.get(n.Bda).create(p);p=u.bma();w=w.iUa(u);w.addEpisode({movieId:p.J,playbackParams:m.mRa(q,p),manifest:t});return w;};return m;}Object.defineProperty(b,"__esModule",{value:!0});b.WMa=void 0;k=a(89082);f=a(52115);l=a(40142);d=a(33981);g=a(23251);n=a(11223);ia(c,l.CD);b.WMa=c;},37853:function(r,b,a){var c,k,f,l,d,g,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(95233);c=a(37986);k=a(58680);b=a(71163);f=a(89082);l=a(14959);d=a(33456);g=a(70633);n=a(95919);pb.netflix=pb.netflix || ({});(0,g.na)(!pb.netflix.player);pb.netflix.player={VideoSession:r.WMa,diag:{togglePanel:function(h,m){var p;p=[];if(!c.config || c.config.bW){switch(h){case "info":p=k.sn.map(function(q){return q.h8;});break;case "streams":p=k.sn.map(function(q){return q.k8;});break;case "log":p=[];}p.forEach(function(q){(0,n.Sc)(m)?m?q.show():q.nv():q.toggle();});}},addLogMessageSink:function(h){f.za.get(l.pm).addListener({Ufc:function(){},yQb:function(m){h({data:m.data});}});}},log:(0,f.Si)("Ext"),LogLevel:b.cj,addLogSink:function(h,m){f.za.get(d.DI).Q8(h,m);},getVersion:function(){return "6.0041.305.911";},getMostRecentPlaybackDiagnosticGroups:function(){var h;return null === (h=k.Iz.L4a) || void 0 === h?void 0:h.lVa.fT();}};},38686:function(r,b,a){var c,k,f,l,d,g,n,h,m,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(89034);k=a(40142);f=a(7942);l=a(37986);r=a(68172);d=a(89082);g=a(70633);n=a(30818);h=a(95919);m=a(14959);p=a(91022);a=a(60634);d.za.get(a.Th).register(r.U.eEa,function(q){var u,t;u=(0,d.Si)("NccpApi");t=(0,n.YQa)(["info","warn","trace","error"]);k.CD.UJ.nccp={getEsn:function(){return c.Jk.ck;},getPreferredLanguages:function(){return l.config.ip.Lsa;},setPreferredLanguages:function(w){(0,g.na)((0,h.isArray)(w) && (0,h.PL)(w[0]));l.config.ip.Lsa=w;},queueLogblob:function(w,v,y){var x;if(w && v)if((v=v.toLowerCase(),t[v])){x=d.za.get(m.pm);w=d.za.get(p.Aw).ys(w,v,y);x.vc(w);}else u.warn("Invalid severity",{severity:v});},flushLogblobs:function(){d.za.get(m.pm).flush(!0);}};q(f.ig);});},89525:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(40142);k=a(89034);f=a(7942);l=a(24133);r=a(68172);d=a(89082);g=a(70834);n=a(70633);h=a(95919);m=a(50876);b=a(60634);p=a(61831);q=a(98540);u=a(53713);t=a(20642);d.za.get(b.Th).register(r.U.fEa,function(w){var B;function v(){return k.Jk.ck;}function y(C){var D;D=d.za.get(q.SI);d.za.get(u.CP)().then(function(F){var G,E;G=F.WU.getStateForMdx(D);E=G.cryptoContext;F=G.masterToken;G=G.userIdToken;F && G?((0,n.na)(E),F=["1",(0,d.qx)(JSON.stringify(F.toJSON())),(0,d.qx)(JSON.stringify(G.toJSON()))].join(),C({success:!0,cryptoContext:{cTicket:F,encrypt:function(J,L){J=(0,h.xg)(J)?(0,d.mO)(J):J;E.encrypt(J,{result:function(N){N=(0,d.qx)(N);L({success:!0,mslEncryptionEnvelopeBase64:N});},timeout:function(){L({success:!1});},error:function(N){(0,n.na)(!1,"Encrypt error: " + N);L({success:!1});}});},decrypt:function(J,L){J=(0,d.tq)(J);E.decrypt(J,{result:function(N){L({success:!0,text:(0,d.BX)(N)});},timeout:function(){L({success:!1});},error:function(N){(0,n.na)(!1,"Decrypt error: " + N);L({success:!1});}});},hmac:function(J,L){J=(0,h.xg)(J)?(0,d.mO)(J):J;E.sign(J,{result:function(N){L({success:!0,hmacBase64:(0,d.qx)(N)});},timeout:function(){L({success:!1});},error:function(N){(0,n.na)(!1,"Hmac error: " + N);L({success:!1});}});}}})):((0,n.na)(!1,"Must login first"),C({success:!1}));});}function x(C,D){var F;F=(0,d.tq)(C);C=F.subarray(32,48);F=F.subarray(0,32);if(16 != C.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,l.GG)(m.hp.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,l.GG)(m.hp.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:z(G[0],G[1])});},function(){D({success:!1});});}function z(C,D){function F(G){G=new g.TO((0,d.tq)(G));G.Ky();return {iv:G.b8a(),ZCb:G.b8a()};}return {encrypt:function(G,E){var J;G=(0,h.xg)(G)?(0,d.mO)(G):G;J=m.Fz.getRandomValues(new Uint8Array(16));(0,l.GG)(m.hp.encrypt({name:"AES-CBC",iv:J},C,G)).then(function(L){var N,I;L=new Uint8Array(L);N=[];I=new g.TO(N);I.X$(2);I.jeb(J);I.jeb(L);L=(0,d.qx)(N);E({success:!0,encryptedDataAsn1Base64:L});},function(L){(0,n.na)(!1,"Encrypt error: " + L);E({success:!1});});},decrypt:function(G,E){var J;J=F(G);G=J.iv;J=J.ZCb;(0,l.GG)(m.hp.decrypt({name:"AES-CBC",iv:G},C,J)).then(function(L){L=new Uint8Array(L);E({success:!0,text:(0,d.BX)(L)});},function(L){(0,n.na)(!1,"Decrypt error: " + L);E({success:!1});});},hmac:function(G,E){G=(0,h.xg)(G)?(0,d.mO)(G):G;(0,l.GG)(m.hp.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(J){J=new Uint8Array(J);E({success:!0,hmacBase64:(0,d.qx)(J)});},function(J){(0,n.na)(!1,"Hmac error: " + J);E({success:!1});});}};}function A(){return (0,p.Lia)();}B=d.za.get(t.TC);if(B.j1a || B.hy)c.CD.UJ.mdx={getEsn:v,createCryptoContext:y,createCryptoContextFromSharedSecret:x,getServerEpoch:A};w(f.ig);});},86977:function(r,b,a){var c,k,f,l,d,g,n,h,m,p;Object.defineProperty(b,"__esModule",{value:!0});r=a(60634);b=a(68172);c=a(71163);k=a(811);f=a(19391);l=a(7942);d=a(37986);g=a(89082);n=a(58680);h=a(40142);m=a(47758);p=a(76820);g.za.get(r.Th).register(b.U.gEa,function(q){var w,v,y;function u(x,z){return void 0 === x || void 0 === z?Promise.reject("Invalid email and/or password"):g.za.get(m.$Ha).Bf(this.log,{},{email:x,password:z}).then(function(){});}function t(x){var z;z=g.za.get(p.BD);return z.UWa.fetch(x,z);}if(d.config.JDb){w=g.za.get(f.ida);v=g.za.get(k.rn);y=g.za.get(c.Xa).Ua("Test");h.CD.UJ.test={setPboRequestsListener:function(x){return w.J_b(x);},playbacks:n.sn,getPlayback:function(x){return n.sn.find(function(z){return z.ma === x;});},playgraphManager:{isNextSegmentReady:function(x){var z,A;return void 0 !== (null === (A=null === (z=n.sn.find(function(B){return B.ma === x;})) || void 0 === z?void 0:z.Za) || void 0 === A?void 0:{Oha:0});},isNextSegmentBuffering:function(x,z){var A,B;return null === (B=null === (A=n.sn.find(function(C){return C.ma === x;})) || void 0 === A?void 0:A.Za) || void 0 === B?void 0:B.kT(z).HR;}},device:{esn:pb._cad_global.device.ck,esnPrefix:v.In,errorPrefix:v.Cq},log:{info:function(x,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return y.info(x,A);},error:function(x,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return y.error(x,A);},warn:function(x,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return y.warn(x,A);},trace:function(x,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return y.trace(x,A);},log:function(x,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return y.log(x,A);},debug:function(x,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return y.debug(x,A);}},login:u,getManifest:t};}q(l.ig);});},25097:function(r,b,a){var c,k,f,l,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.Tu=void 0;c=a(7942);k=a(37986);r=a(68172);f=a(89082);l=a(50876);d=a(60634);g=a(95919);n=a(29853);h=a(2467);a=f.za.get(d.Th);m=f.za.get(n.Jz);a.register(r.U.WDa,function(p){var w,v;function q(){p(c.ig);q=c.Gw;}function u(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,g.up)(y[x]))throw x + " is not a function";});}function t(){return Promise.resolve().then(function(){var y;y=l.Ae.getBattery();if(!(0,g.up)(y.then))throw "getBattery did not return a promise";return y;});}w=(0,f.Si)("BatteryManager");b.Tu={Tfb:"chargingchange",cZa:function(){return v?v.level:null;},Zla:function(){return v?v.charging:null;},addEventListener:function(y,x){v && v.addEventListener(y,x);},removeEventListener:function(y,x){v && v.removeEventListener(y,x);}};k.config.NR && (0,g.up)(l.Ae.getBattery)?m.Np((0,h.Kb)(k.config.rGb),t()).then(function(y){u(y);v=y;}).catch(function(y){w.error("getBattery failed",y);}).then(q):q();});},59883:function(r,b,a){var k,f;function c(){var l,d;l=this;this.Xr={};this.on=function(g,n,h){l.addListener(g,n,h);};this.addListener=function(g,n,h){l.Xr && (l.Xr[g]=l.Xr[g] || new f.Fda(!0)).add(n,h);};this.removeListener=function(g,n){l.Xr && l.Xr[g] && l.Xr[g].removeAll(n);};this.ima=function(g){return l.Xr && l.Xr[g]?l.Xr[g].flatten():[];};d=this;this.Dc=function(g,n,h){var m;if(d.Xr){m=d.ima(g);for(g={gI:0};g.gI < m.length;(g={gI:g.gI},g.gI++)){h?(function(p){return function(){var q;q=m[p.gI];(0,k.Mf)(function(){q(n);});};})(g)():m[g.gI].call(this,n);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Rj=void 0;k=a(66052);f=a(82328);c.prototype.Jg=function(){this.Xr=void 0;};b.Rj=c;},20916:function(r,b,a){var k,f,l;function c(d,g,n,h,m,p,q){this.debug=d;this.config=g;this.platform=n;this.R6=h;this.debug.assert(m && m != f.U.Eo,"There should always be a specific error code");this.errorCode=m || f.U.Eo;p && "object" === typeof p?(this.xa=p.xa || p.ic,this.Ee=p.Ee || p.Qc,this.Gka=p.Gka || p.Nm,this.Jb=p.Jb || p.details,this.lS=p.uj,this.G3=p.G3 || p.Lec || p.xy,this.YA=p.YA || p.data,p.OU && (this.OU=p.OU),this.Kl=p.Kl,this.method=p.method,this.q7=p.q7,this.alert=p.alert,this.Tga=p.Tga,this.PF=p.PF,!this.Jb && this.PF && (this.Jb=JSON.stringify(this.PF)),this.debug.assert(!this.Kl || this.Kl == this.Ee)):(this.xa=p,this.Ee=q);this.stack=[this.errorCode];this.xa?this.stack.push(this.xa):this.Ee && this.stack.push(f.R.Eo);this.Ee && this.stack.push(this.Ee);this.o3=this.platform.Cq + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.yJa=void 0;k=a(7942);f=a(68172);l=a(95919);a(30818);c.prototype.D$a=function(d){this.YUb=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.o3 + "]";this.Jb && (d+=" " + this.Jb);this.lS && (d+=" (CustomMessage: " + this.lS + ")");return d;};c.prototype.pX=function(){var d,g,n,h;this.lS && (n=["streaming_error"]);n || this.R6.Ls() !== k.LY || ("80080017" == this.Ee && (n=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Ee && (n=["pause_timeout"]));n || this.R6.Ls() !== k.rba || this.errorCode !== f.U.QBa && this.errorCode !== f.U.VO || (n=["no_cdm","platform_error","plugin_error"]);n || this.errorCode !== f.U.uba || this.xa !== f.R.sba || (n=["pause_timeout"]);this.G3 === f.ZZ.pea && (this.ria("2018") || this.ria("2020")?n=["received_soad"]:this.ria("5000") && (n=["should_reset_device"]));h=this.zGb();h && (n=[h],this.lS=void 0);if(!n)switch(this.errorCode){case f.U.i_:case f.U.PZ:case f.U.Neb:case f.U.Xca:this.YUb && (n=["pause_timeout"]);break;case f.U.jEa:case f.U.kEa:n=this.xa?["platform_error"]:["multiple_tabs"];break;case f.U.Tba:case f.U.NHa:case f.U.Zca:case f.U.HHa:n=["platform_error","plugin_error"];break;case f.U.HP:n=["no_cdm","platform_error","plugin_error"];break;case f.U.XBa:case f.U.fq:case f.U.j_:switch(this.Ee){case "FFFFD000":n=["device_needs_service","platform_error"];break;case "48444350":n=["unsupported_output","platform_error"];break;case "00000024":n=["private_mode"];}break;case f.U.JHa:case f.U.Yca:n=["unsupported_output"];}!n && (0,f.sCa)(this.xa) && (n=this.xa == f.R.eP?["geo"]:["internet_connection_problem"]);n || this.errorCode !== f.U.VO || this.xa !== f.R.nl || "S" !== this.platform.Cq || (n=["private_mode"]);if(!n)switch(this.$ab(this.xa)){case f.R.uea:n=["should_upgrade"];break;case f.R.CHa:n=["should_reset_device"];break;case f.R.BHa:n=["should_reload_device"];break;case f.R.AHa:n=["should_exit_device"];break;case f.R.yjb:case f.R.PFa:n=["should_signout_and_signin"];break;case f.R.zjb:n=["internet_connection_problem"];break;case f.R.VAa:n=["platform_error","plugin_error"];break;case f.R.ygb:case f.R.TDa:case f.R.UDa:n=["private_mode"];break;case f.R.tca:n=["should_reload_with_preferred_locales"];}n=n || [];n.push(this.platform.Cq + this.errorCode);if(this.xa)switch(this.$ab(this.xa)){case f.R.DHa:n.push("incorrect_pin");break;default:n.push("" + this.xa);}n={display:{code:this.o3,text:this.lS},messageIdList:n,alert:this.alert,alertTag:this.Tga,preferredAudioLocale:null === (d=this.PF) || void 0 === d?void 0:d.f0a,preferredTextLocale:null === (g=this.PF) || void 0 === g?void 0:g.g0a};this.config().IDb && (n.debugData=this.YA);return n;};c.prototype.$ab=function(d){var g;g=parseInt(d,10);return isNaN(g)?d:g;};c.prototype.ria=function(d){return ((0,l.tb)(this.Ee)?this.Ee.toString():(0,l.xg)(this.Ee)?this.Ee:"").endsWith(d);};c.prototype.zGb=function(){if(this.errorCode === f.U.BI && (this.xa === f.R.Uca || this.xa === f.R.zHa))return this.AGb(this.xa === f.R.Uca);};c.prototype.AGb=function(d){var g,n,h,m;h=this.config().browserInfo || ({});m=null === (g=h.os) || void 0 === g?void 0:g.name;g=((null === (n=h.os) || void 0 === n?void 0:n.version) || "").split(".");n=parseInt(g && g[0]);g=parseInt(g && g[1]);switch(m){case "windows":return 6 > n || 6 === n && 1 > g?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > n || 10 === n && 10 > g?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.yJa=c;},50995:function(r,b){function a(c,k){this.Dwa=c;this.mv=k;}Object.defineProperty(b,"__esModule",{value:!0});b.vKa=void 0;a.prototype.a0b=function(){this.h1 || (this.h1=setInterval(this.mv,this.Dwa));};a.prototype.TSa=function(){this.h1 && (clearInterval(this.h1),this.h1=void 0);};b.vKa=a;},65853:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.P_=void 0;b.Co={NI:"PRIMARY",eaa:"ASSISTIVE",Zza:"COMMENTARY",NONE:"NONE"};b.P_={assistive:b.Co.eaa,closedcaptions:b.Co.eaa,directorscommentary:b.Co.Zza,commentary:b.Co.Zza,subtitles:b.Co.NI,primary:b.Co.NI,none:b.Co.NONE};},61831:function(r,b,a){var k,f,l,d,g;function c(){return k.dc.get(l.Jc).my.ba(g.oa);}Object.defineProperty(b,"__esModule",{value:!0});b.Rvb=b.Lia=b.XSa=b.Pvb=b.Qvb=b.Kia=b.Dn=void 0;k=a(84722);f=a(35664);l=a(58998);d=a(24166);g=a(2467);b.Dn=function(){return k.dc.get(l.Jc).Eb().ba(g.oa);};b.Kia=function(){return k.dc.get(f.gg).fe.ba(g.sm);};b.Qvb=function(){return k.dc.get(l.Jc).my.ba(g.sm);};b.Pvb=function(){return k.dc.get(d.zw).FA();};b.XSa=c;b.Lia=function(){return k.dc.get(f.gg).fe.ba(g.oa);};b.Rvb=function(){return c();};},7942:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uP=b.VZ=b.Ifb=b.Dfb=b.Ffb=b.Gfb=b.Aza=b.Cfb=b.Efb=b.zza=b.Hfb=b.Ofb=b.Mfb=b.Nfb=b.Lfb=b.mhb=b.lhb=b.khb=b.bjb=b.djb=b.cjb=b.MFa=b.OFa=b.NFa=b.IBa=b.nhb=b.rba=b.LY=b.Mjb=b.ylb=b.LFa=b.wfb=b.SAa=b.Qca=b.KI=b.h_=b.KFa=b.Bw=b.vfb=b.lza=b.Qib=b.bmb=b.ajb=b.$ib=b.rlb=b.qlb=b.Lr=b.ig=b.qKa=b.Gw=void 0;b.jza=b.Lda=void 0;b.Gw=function(){};b.qKa=function(){return !0;};b.ig={ia:!0};b.Lr=1E3;b.qlb=86400;b.rlb=604800;b.$ib=1E4;b.ajb=1E7;b.bmb=1.5;b.Qib=.128;b.lza=7.8125;b.vfb=128;b.Bw=145152E5;b.KFa=1E5;b.h_="$netflix$player$order";b.KI=-1;b.Qca=1;b.SAa=["en-US"];b.wfb=8;b.LFa=65535;b.ylb=65536;b.Mjb=Number.MAX_VALUE;b.LY="playready";b.rba="widevine";b.nhb="fps";b.IBa="clearkey";b.NFa='audio/mp4; codecs="mp4a.40.5"';b.OFa='audio/mp4; codecs="mp4a.40.42"';b.MFa='audio/mp4; codecs="mp4a.a6"';b.cjb='video/mp4; codecs="avc1.640028"';b.djb='video/mp4; codecs="hev1.2.6.L153.B0"';b.bjb='video/mp4; codecs="dvhe.01000000"';b.khb="9A04F079-9840-4286-AB92-E65BE0885F95";b.lhb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.mhb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.Lfb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.Nfb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.Mfb="4E657466-6C69-7846-7261-6D6552617465";b.Ofb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.Hfb="mp4a";b.zza="enca";b.Efb="ec-3";b.Cfb="avc1";b.Aza="encv";b.Gfb="hvcC";b.Ffb="hev1";b.Dfb="dvhe";b.Ifb="vp09";b.VZ=0;b.uP=1;b.Lda="position:relative;width:100%;height:100%;overflow:hidden";b.jza="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},25420:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.uUa=b.Opa=void 0;c=a(70633);k=a(30818);f=a(95919);(function(){var d,g,n;function l(h){(0,c.na)(void 0 !== d[h]);return d[h];}d={'"':'""',"\r":"","\n":" "};g=/["\r\n]/g;n=/[", ]/;b.uUa=function(h){return (0,f.Sc)(h)?(0,f.tb)(h)?h:(0,f.xg)(h)?h.replace(g,l):(0,f.e1a)(h)?h:isNaN(h)?"NaN":"":"";};b.Opa=function(h){var m,p;m=b.uUa;p="";(0,k.$f)(h,function(q,u){q=m(q) + "=" + m(u);n.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},70633:function(r,b,a){var f,l,d;function c(){d || (d=f.za.get(l.pw));return d;}function k(g,n){return c().assert(g,n);}Object.defineProperty(b,"__esModule",{value:!0});b.Vzb=b.Fja=b.Ozb=b.Szb=b.tK=b.cS=b.Rzb=b.Tzb=b.dS=b.GUa=b.Qzb=b.Pzb=b.na=b.Uzb=b.gfb=void 0;f=a(89082);l=a(78616);b.gfb=function(){k(!1);};b.Uzb=!0;d=void 0;b.na=k;b.Pzb=function(g,n){return c().dsb(g,n);};b.Qzb=function(g,n){return c().esb(g,n);};b.GUa=function(g,n){return c().Q1(g,n);};b.dS=function(g,n){return c().ksb(g,n);};b.Tzb=function(g,n){return c().isb(g,n);};b.Rzb=function(g,n){return c().P1(g,n);};b.cS=function(g,n){return c().gsb(g,n);};b.tK=function(g,n){return c().jsb(g,n);};b.Szb=function(g,n){return c().hsb(g,n);};b.Ozb=function(g,n){return c().csb(g,n);};b.Fja=function(g,n){return c().fsb(g,n);};b.Vzb=function(){return c().lMb();};},66052:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mf=void 0;b.Mf=function(a){return setTimeout(a,0);};},5845:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NCa=void 0;b.NCa=function(a){var f,l,d,g;function c(){if(d)for(var n;n=f.pop();){n(g);}}function k(n){d=!0;g=n;c();}f=[];return function(n){f.push(n);l || (l=!0,a(k));c();};};},25892:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Y4=b.Kq=b.Z4=b.kB=b.Nk=b.he=void 0;r=a(59883);c=a(66052);k=a(50876);b.he=new r.Rj();b.Nk=1;b.kB=2;b.Z4=3;b.Kq=4;b.Y4=5;(0,c.Mf)(function(){var l,d,g;function f(n,h){if(d)d.on(n,h);else pb.addEventListener(n,h);}l=pb.jQuery;d=l && l(pb);l=(l=pb.netflix) && l.cadmium && l.cadmium.addBeforeUnloadHandler;g=k.Og.hidden;l?l(function(n){b.he.Dc(b.Nk,n);}):f("beforeunload",function(n){b.he.Dc(b.Nk,n);});f("keydown",function(n){b.he.Dc(b.kB,n);});f("resize",function(){b.he.Dc(b.Z4);});k.Og.addEventListener("visibilitychange",function(){g !== k.Og.hidden && (g=k.Og.hidden,b.he.Dc(b.Kq));});});(function(){pb.addEventListener("error",function(f){b.he.Dc(b.Y4,f);return !0;});})();},16232:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(68172);c=a(89082);k=a(3784);a=a(60634);c.za.get(a.Th).register(r.U.YDa,function(f){c.za.get(k.MBa)().then(function(){f({ia:!0});}).catch(function(l){c.log.error("error in initializing indexedDb debug tool",l);f({ia:!0});});});},54615:function(r,b,a){var n,h,m,p,q;function c(u){var t,v;(0,h.dS)(u);if((0,p.xg)(u) && b.lEa.test(u)){t=u.split(".");if(4 === t.length){for(var w=0;w < t.length;w++){v=(0,q.Vi)(t[w]);if(0 > v || !(0,p.FB)(v,0,255) || 1 !== t[w].length && 0 === t[w].indexOf("0"))return;}return u;}}}function k(u){var t;t=0;if(c(u) === u)return (u=u.split("."),t+=(0,q.Vi)(u[0]) << 24,t+=(0,q.Vi)(u[1]) << 16,t+=(0,q.Vi)(u[2]) << 8,t + (0,q.Vi)(u[3]));}function f(u){var t,w;(0,h.dS)(u);if((0,p.xg)(u) && u.match(b.mEa)){t=u.split(":");-1 !== t[t.length - 1].indexOf(".") && (u=l(t[t.length - 1]),t.pop(),t.push(u[0]),t.push(u[1]),u=t.join(":"));u=u.split("::");if(!(2 < u.length || 1 === u.length && 8 !== t.length) && (t=1 < u.length?d(u):t,u=t.length,8 === u)){for(;u--;){w=parseInt(t[u],16);if(!(0,p.FB)(w,0,n.LFa))return;}return t.join(":");}}}function l(u){var t;u=k(u) >>> 0;t=[];t.push((u >>> 16 & 65535).toString(16));t.push((u & 65535).toString(16));return t;}function d(u){var t,w,v;t=u[0].split(":");u=u[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === u.length && "" === u[0] && (u=[]);w=8 - (t.length + u.length);if(1 > w)return [];for(v=0;v < w;v++){t.push("0");}for(v=0;v < u.length;v++){t.push(u[v]);}return t;}function g(u){return -1 << 32 - u;}Object.defineProperty(b,"__esModule",{value:!0});b.Hib=b.Mib=b.Jib=b.Iib=b.Lib=b.Gib=b.Kib=b.dD=b.mEa=b.lEa=void 0;n=a(7942);h=a(70633);m=a(50876);p=a(95919);q=a(30818);b.lEa=/^[0-9.]*$/;b.mEa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.dD="0000000000000000";b.Kib=c;b.Gib=k;b.Lib=f;b.Iib=l;b.Jib=d;b.Mib=function(u,t,w){var v,y,x,z;v=c(u);y=f(u);x=c(t);z=f(t);if(!v && !y || !x && !z || v && !x || y && !z)return !1;if(u === v)return (w=g(w),(k(u) & w) !== (k(t) & w)?!1:!0);if(u === y){u=u.split(":");t=t.split(":");for(v=(0,m.GI)(w / b.dD.length);v--;){if(u[v] !== t[v])return !1;}w%=b.dD.length;if(0 !== w)for((u=parseInt(u[v],16).toString(2),t=parseInt(t[v],16).toString(2),u=b.dD.substring(0,b.dD.length - u.length) + u,t=b.dD.substring(0,b.dD.length - t.length) + t,v=0);v < w;v++){if(u[v] !== t[v])return !1;}return !0;}return !1;};b.Hib=g;},95919:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.up=b.e1a=b.PL=b.xg=b.Soa=b.IMb=b.vMb=b.Joa=b.FB=b.r1a=b.tb=b.Roa=b.isArray=b.L1a=b.Xs=b.Sc=b.is=void 0;r=a(36447);b.is=r.eD;b.Sc=function(c){return b.is.vg(c);};b.Xs=function(c){return b.is.nR(c);};b.L1a=function(c){return b.is.nga(c);};b.isArray=function(c){return b.is.qA(c);};b.Roa=function(c){return b.is.AQa(c);};b.tb=function(c,k,f){return b.is.Zj(c,k,f);};b.r1a=function(c,k,f){return b.is.Yga(c,k,f);};b.FB=function(c,k,f){return b.is.oR(c,k,f);};b.Joa=function(c){return b.is.YQ(c);};b.vMb=function(c){return b.is.Ypb(c);};b.IMb=function(c){return b.is.Zpb(c);};b.Soa=function(c){return b.is.BQa(c);};b.xg=function(c){return b.is.Vo(c);};b.PL=function(c){return b.is.zm(c);};b.e1a=function(c){return b.is.m1(c);};b.up=function(c){return b.is.o1(c);};},47545:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(89082);b=a(33456);a=a(97649);r.za.get(b.DI).Q8(a.nca.fgb,function(c){var k,f;k=c.level;if(!pb._cad_global.config || k <= pb._cad_global.config.cPb){c=c.p$();f=pb.console;1 >= k?f.error(c):2 >= k?f.warn(c):f.log(c);}});},76813:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(37986);a(7942);r=a(89082);a(33456);a(97649);a(68172);a(74509);a(2467);a=a(60634);r.za.get(a.Th);!1;},19591:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.ih=b.Njb=b.Hw=void 0;c=a(95919);b.Hw=b.Hw || (function(k,f,l){return k >= f?k <= l?k:l:f;});b.Njb=function(k,f,l,d,g){return (k - f) * (g - d) / (l - f) + d;};b.ih=function(k){if((0,c.tb)(k))return (k / 1E3).toFixed(3);};},32660:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.u5b=b.Tlb=b.Rlb=b.Qlb=b.Slb=void 0;c=a(95919);k=a(50876);b.Slb=function(f,l,d){for(d=(d - f.length) / l.length;0 < d--;){f+=l;}return f;};b.Qlb=function(f,l,d){d=(0,c.xg)(d)?d:"...";return f.length <= l?f:f.substr(0,f.length - (f.length + d.length - l)) + d;};b.Rlb=function(f,l){var g;for(var d=1;d < arguments.length;++d){;}g=k.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(n,h){return "undefined" != typeof g[h]?g[h]:n;});};b.Tlb=function(f){for(var l=f.length,d=new Uint16Array(l),g=0;g < l;g++){d[g]=f.charCodeAt(g);}return d.buffer;};b.u5b=function(f){var l;l=new Uint8Array(f.length);Array.prototype.forEach.call(f,function(d,g){l[g]=d.charCodeAt(0);});return l;};},24133:function(r,b,a){var n,h,m,p,q,u;function c(){var t,w;if(t=b.M4.TOa)return t;t=p.c_.search.substr(1);w=t.indexOf("#");0 <= w && (t=t.substr(0,w));t=k(t);return b.M4.TOa=t;}function k(t){for(var w=/[+]/g,v=(t || "").split("&"),y={},x,z=0;z < v.length;z++){t=(0,m.trim)(v[z]);x=t.indexOf("=");0 <= x?y[decodeURIComponent(t.substr(0,x).replace(w,"%20")).toLowerCase()]=decodeURIComponent(t.substr(x + 1).replace(w,"%20")):y[t.toLowerCase()]=null;}return y;}function f(t){return (t=(/function (.{1,})\(/).exec(t.toString())) && 1 < t.length?t[1]:"";}function l(t){return f(t.constructor);}function d(t){return p.sort.call(t,function(w,v){return w - v;});}function g(t){for(var w=0,v=t.length;v--;){w+=t[v];}return w;}Object.defineProperty(b,"__esModule",{value:!0});b.pVb=b.EF=b.HYa=b.Toa=b.lVb=b.D1a=b.Jfb=b.Kfb=b.WEb=b.bK=b.owb=b.b4=b.fEb=b.GG=b.afb=b.BO=b.bfb=b.fY=b.$eb=b.iMb=b.createElement=b.XR=b.SVb=b.ira=b.$la=b.getFunctionName=b.yV=b.M4=b.NIb=b.d8a=b.kQa=b.DTa=b.YWb=b.CA=b.jTa=void 0;n=a(7942);h=a(89082);m=a(30818);p=a(50876);q=a(95919);u=a(85060);b.jTa=function(t,w){if(t === w)return !0;if(!t || !w)return !1;for(var v in t){if(t.hasOwnProperty(v) && (!w.hasOwnProperty(v) || t[v] !== w[v]))return !1;}return !0;};b.CA=b.CA || (function(t,w){if(t.length == w.length){for(var v=t.length;v--;){if(t[v] != w[v])return !1;}return !0;}return !1;});b.YWb=function(t){var w;if(t){w=t.length;if(w)return (w=(0,m.Z7a)(0,w - 1),t[w]);}};b.DTa=function(t,w){if(t.length != w.length)return !1;t.sort();w.sort();for(var v=t.length;v--;){if(t[v] !== w[v])return !1;}return !0;};b.kQa=function(t,w,v){function y(){t.removeEventListener(w,y);v.apply(this,arguments);}t.addEventListener(w,y);};b.d8a=function(){var t,w,v,y,x,z;t=p.Og.cookie.split("; ");w=t.length;x={};for(v=0;v < w;v++){if(y=(0,m.trim)(t[v])){z=y.indexOf("=");0 < z && (x[y.substr(0,z)]=y.substr(z + 1));}}return x;};b.NIb=c;b.M4=Object.assign(c,{TOa:void 0});b.yV=k;b.getFunctionName=f;b.$la=l;b.ira=function(t){var w;w="";(0,q.isArray)(t) || (0,q.Roa)(t)?w=p.reduce.call(t,function(v,y){return v + (32 <= y && 128 > y?(0,p.PLa)(y):".");},""):(0,q.xg)(t)?w=t:(0,m.$f)(t,function(v,y){w+=(w?", ":"") + "{" + v + ": " + ((0,q.up)(y)?f(y) || "function":y) + "}";});return "[" + l(t) + " " + w + "]";};b.SVb=function(t,w){t.firstChild?t.insertBefore(w,t.firstChild):t.appendChild(w);};b.XR=b.XR || (function(t){var w;w="";(0,m.$f)(t,function(v,y){w+=(w?";":"") + v + ":" + y;});return w;});b.createElement=b.createElement || (function(t,w,v,y){var x;x=p.Og.createElement(t);w && (x.style.cssText=w);v && (x.innerHTML=v);y && (0,m.$f)(y,function(z,A){x.setAttribute(z,A);});return x;});b.iMb=function(t,w){var v;v=t[0];if(w <= v[0])return v.slice(1);for(var y=1,x;x=t[y++];){if(w <= x[0]){t=(w - v[0]) / (x[0] - v[0]);w=[];for(y=1;y < v.length;y++){w.push((v[y] || 0) + t * ((x[y] || 0) - (v[y] || 0)));}return w;}v=x;}return v.slice(1);};b.$eb=function(t,w){var x;for(var v={},y=0;y < w.length;y++){x=w[y];if("string" != typeof x && "number" != typeof x)return !1;v[w[y]]=1;}for(y=0;y < t.length;y++){if((x=t[y],!v[x]))return !1;}return !0;};b.fY=d;b.bfb=g;b.BO=function(t,w){var v,y,x,z;v=-1;y=t.length;if(1 === arguments.length){for(;++v < y && !(null != (x=t[v]) && x <= x);){x=void 0;}for(;++v < y;){null != (z=t[v]) && z > x && (x=z);}}else {for(;++v < y && !(null != (x=w.call(t,t[v],v)) && x <= x);){x=void 0;}for(;++v < y;){null != (z=w.call(t,t[v],v)) && z > x && (x=z);}}return x;};b.afb=function(t,w){var v,y,x,z;v=-1;y=t.length;if(1 === arguments.length){for(;++v < y && !(null != (x=t[v]) && x <= x);){x=void 0;}for(;++v < y;){null != (z=t[v]) && x > z && (x=z);}}else {for(;++v < y && !(null != (x=w.call(t,t[v],v)) && x <= x);){x=void 0;}for(;++v < y;){null != (z=w.call(t,t[v],v)) && x > z && (x=z);}}return x;};b.GG=function(t){return (0,q.up)(t.then)?t:new Promise(function(w,v){t.oncomplete=function(){w(t.result);};t.onerror=function(){v(t.error);};});};b.fEb=function(t,w){var y,x,z,A,B,C;function v(D){0 > y.indexOf(D) && (0,q.tb)(D) && y.push(D);}t=t.slice();d(t);y=[];if(!w || !w.length)return t;if(!t.length)return [];x=w.length;try{for(;x--;){A="" + w[x];B=(0,m.Vi)(A);switch(A[A.length - 1]){case "-":for(z=t.length;z--;){C=t[z];if(C < B){v(C);break;}}break;case "+":for(z=0;z < t.length;z++){if((C=t[z],C > B)){v(C);break;}}break;default:0 <= t.indexOf(B) && v(B);}}}catch(D){}y.length || y.push(t[0]);d(y);return y;};b.b4=b.b4 || (function(t,w,v){var y;if(t / w > v){y=(0,p.nn)(w * v);t=w;}else (y=t,t=(0,p.nn)(t / v));return {width:y,height:t};});b.owb=function(t,w,v){for(var y=[],x=0;x < w;x++){y.push((0,p.cGa)(t[x] - v,2));}return (0,p.dGa)(g(y) / y.length);};b.bK=function(t,w){var v;v=t.length;w=(v - 1) * w + 1;if(1 === w)return t[0];if(w == v)return t[v - 1];v=(0,p.GI)(w);return t[v - 1] + (w - v) * (t[v] - t[v - 1]);};b.WEb=function(t,w){if(!(0,q.isArray)(t))throw Error("boxes is not an array");if(0 >= t.length)throw Error("There are no boxes in boxes");w=(0,q.isArray)(w)?w:[w];for(var v=t.length,y=0;y < v;y++){for(var x=0;x < w.length;x++){if(t[y].type == w[x])return t[y];}}throw Error("Box not found " + w);};b.Kfb=function(t){return t.SGb("trak/mdia/minf/stbl/stsd/" + n.zza + "|" + n.Aza).children.filter(function(w){return "sinf" == w.type && w.Tcc.schm.Jfc == u.Wt;})[0].SGb("schi/tenc").Wn;};b.Jfb=function(t){var v;function w(y,x){var z;z=v[y];v[y]=v[x];v[x]=z;}v=new Uint8Array(t);w(0,3);w(1,2);w(4,5);w(6,7);return v;};b.D1a=function(){return (0,q.up)(p.Ae.requestMediaKeySystemAccess);};b.lVb=function(t){return function(w){return w && w[t];};};(0,q.up)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(t,w){var v,y;void 0 === t && (t=0);void 0 === w && (w=this.byteLength);t=Math.floor(t);w=Math.floor(w);0 > t && (t+=this.byteLength);0 > w && (w+=this.byteLength);t=Math.min(Math.max(0,t),this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);if(0 >= w - t)return new ArrayBuffer(0);v=new ArrayBuffer(w - t);y=new Uint8Array(v);t=new Uint8Array(this,t,w - t);y.set(t);return v;});b.Toa=function(t){return t && 0 == t.toLowerCase().indexOf("https");};b.HYa=function(){var t,w;t=new ArrayBuffer(4);w=new Uint8Array(t);t=new Uint32Array(t);w[0]=161;w[1]=178;w[2]=195;w[3]=212;return 3569595041 == t[0]?"LE":2712847316 == t[0]?"BE":"undefined";};b.EF=function(){var t,w,v;try{t=/playercore.*js/;w=p.hu.getEntries("resource").filter(function(y){return null !== t.exec(y.name);});if(w && 0 < w.length){v=(0,p.nn)(w[0].duration);return JSON.stringify(v);}}catch(y){}};b.pVb=function(t,w,v){if(t && t.length){if(v && v.vvb)try{t.forEach(function(y,x){var z;z=(x=v.vvb[x]) && x.media;z && (0,q.xg)(z)?(!1,z=(0,h.tq)(z).buffer,y.media={arrayBuffer:z,length:z.byteLength,stream:w,Bc:x.cdn}):h.log.warn("chunk not in cache",y.yg);});}catch(y){h.log.error("error reading cached chunks",y);}else h.log.warn("chunks not available in cached stream",v.type);}else h.log.warn("chunks not available in mediabuffer",v.type);};},30818:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.Iwb=b.Ml=b.ag=b.Wvb=b.ue=b.tv=b.trim=b.Lna=b.Zab=b.Z7a=b.ZTb=b.Vi=b.YQa=b.fSa=b.Sd=b.$f=void 0;c=a(70633);k=a(50876);f=a(95919);b.$f=function(l,d){for(var g in l){l.hasOwnProperty(g) && d(g,l[g]);}};b.Sd=b.Sd || (function(l,d,g){var n,h,m;if(d)if(g){n=g.AU;h=g.prefix;m=g.U7;(0,b.$f)(d,function(p,q){if(!m || (0,f.Sc)(q))l[(h || "") + (n?p.toLowerCase():p)]=q;});}else (0,b.$f)(d,function(p,q){l[p]=q;});return l;});b.fSa=function(l,d,g,n){var h;if(l){h=l[d];(0,f.up)(h) && (g=h.apply(l,k.slice.call(arguments,3)));}return g;};b.YQa=function(l){for(var d={},g=l.length;g--;){d[l[g]]=!0;}return d;};b.Vi=b.Vi || (function(l){return parseInt(l,10);});b.ZTb=function(l){return (/^true$/i).test(l);};b.Z7a=function(l,d){return (0,k.nn)(l + (0,k.XZ)() * (d - l));};b.Zab=function(l){return JSON.stringify(l,null,"  ");};b.Lna=(function(){var d,g;function l(n){(0,c.na)(void 0 !== d[n]);return d[n];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};g=/[&'"<>]/g;return function(n){return n.replace(g,l);};})();b.trim=(function(){var l;l=/^\s+|\s+$/gm;return function(d){return d.replace(l,"");};})();b.tv=function(l){return Array.isArray(l)?l:[l];};b.ue=b.ue || (function(l){var d,g,n;if(l){d=l.stack;g=l.number;n=l.message;n || (n="" + l);d?(l="" + d,0 != l.indexOf(n) && (l=n + "\n" + l)):l=n;g && (l+="\nnumber:" + g);return l;}});b.Wvb=function(l){var n;for(var d=0;d < arguments.length;++d){;}d=0;for(var g=arguments.length;d < g;){n=arguments[d++];if((0,f.Sc)(n))return n;}};b.ag=function(l){return (0,f.tb)(l)?l.toFixed(0):void 0;};b.Ml=function(l){return (0,f.tb)(l)?(l / 1E3).toFixed(0):void 0;};b.Iwb=function(l){for(var d=[],g=0;g < l.length;g++){d[g]=l[g];}return d;};},37986:function(r,b,a){var f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C;function c(D){return (D=b.config.e4b[k(D)])?D:{};}function k(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.qwb=b.rwb=b.uTa=b.G2=b.vTa=b.Zia=b.config=void 0;f=a(7942);l=a(24133);d=a(89082);g=a(53685);n=a(70633);h=a(77003);m=a(56261);p=a(30818);a(71163);q=a(50876);u=a(95919);t=a(11102);w=a(14959);v=a(91022);y=a(65350);x=a(36845);z=a(2467);A=a(811);B=a(58998);C=a(77878);b.vTa=function(D,F){var Ja,Xa,cb,U,Z,Q,ka,P,fa;function G(ua,pa){(0,p.$f)(ua,function(Ra,Pa){(0,u.up)(Pa)?pa[Ra]=Pa.call(void 0,pa[Ra]):(0,u.Xs)(Pa) && (pa[Ra]=pa[Ra] || ({}),G(Pa,pa[Ra]));});}function E(ua,pa,Ra,Pa){for(var db=[],wb=3;wb < arguments.length;++wb){db[wb - 3]=arguments[wb];}return function(nb){(0,u.Sc)(nb) && (Ra=nb);(0,n.na)((0,u.up)(ua));return ua.apply(void 0,[pa,Ra].concat(da(db)));};}function J(ua){ua=ua.toLowerCase();U.hasOwnProperty(ua) && (cb[ua]=U[ua],Z[ua]=U[ua]);return ua;}function L(ua,pa,Ra){var Pa;ua=ua.toLowerCase();if(cb.hasOwnProperty(ua)){Pa=cb[ua];try{Pa=Ra?Ra(Pa):Pa;}catch(db){Pa=void 0;}if(void 0 !== Pa)return Pa;(0,n.na)(!1);d.log.error("Invalid configuration value. Name: " + ua);}return pa;}function N(ua,pa,Ra,Pa){return L(ua,pa,function(db){(0,u.xg)(db) && (db=(0,p.Vi)(db));if((0,u.r1a)(db,Ra,Pa))return db;});}function I(ua,pa,Ra,Pa){return L(ua,pa,function(db){(0,u.xg)(db) && (db=(0,p.Vi)(db));if((0,u.FB)(db,Ra,Pa))return db;});}function O(ua,pa,Ra,Pa){return L(ua,pa,function(db){(0,u.xg)(db) && (db=parseFloat(db));if((0,u.tb)(db,Ra,Pa))return db;});}function K(ua,pa,Ra){return L(ua,pa,function(Pa){if(Ra?Ra.test(Pa):(0,u.xg)(Pa))return Pa;});}function H(ua,pa){return L(ua,pa,function(Ra){if("true" == Ra || !0 === Ra)return !0;if("false" == Ra || !1 === Ra)return !1;});}function M(ua,pa){return L(ua,pa,function(Ra){if((0,u.xg)(Ra))return JSON.parse((0,q.d_)(Ra));if((0,u.Xs)(Ra))return Ra;});}function R(ua,pa,Ra,Pa,db,wb){var nb;ua=ua.toLowerCase();cb.hasOwnProperty(ua) && (nb=cb[ua]);if(!(0,u.Sc)(nb))return pa;if((0,u.xg)(nb))if(nb[0] !== Ra)nb=Pa(nb);else try{nb=JSON.parse((0,q.d_)(nb));}catch(Bb){nb=void 0;}if(void 0 === nb)return pa;for(ua=0;ua < db.length;ua++){if(!db[ua](nb))return pa;}return wb?wb(nb):nb;}function Y(ua,pa,Ra,Pa,db){return R(ua,pa,"[",function(wb){wb=wb.split("|");for(var nb=wb.length;nb--;){wb[nb]=(0,p.Vi)(wb[nb]);}return wb;},[function(wb){return (0,u.isArray)(wb) && 0 < wb.length;},function(wb){for(var nb=wb.length;nb--;){if(!(0,u.FB)(wb[nb],Ra,Pa))return !1;}return !0;},function(wb){return void 0 === db || wb.length >= db;}]);}function ea(ua,pa){return R(ua,pa,"[",function(Ra){Ra=(0,u.isArray)(Ra)?Ra:Ra.split("|");for(var Pa=Ra.length;Pa--;){try{Ra[Pa]=JSON.parse((0,q.d_)(Ra[Pa]));}catch(db){Ra=void 0;break;}}return Ra;},[function(Ra){return (0,u.isArray)(Ra) && 0 < Ra.length;},function(Ra){for(var Pa=Ra.length;Pa--;){if(!(0,u.Sc)(Ra[Pa]) || !(0,u.Xs)(Ra[Pa]))return !1;}return !0;}]);}function ca(ua,pa){var Ra;Ra=oa(ua,[]);return Ra && 0 < Ra.length?(0,C.Ph)(Ra):ea(ua,pa);}function oa(ua,pa,Ra,Pa){return R(ua,pa,"[",function(db){return (0,u.isArray)(db)?db:db.split("|");},[function(db){return (0,u.isArray)(db) && 0 < db.length;},function(db){for(var wb=db.length;wb--;){if(Ra?!Ra.test(db[wb]):!(0,u.PL)(db[wb]))return !1;}return !0;},function(db){return void 0 === Pa || db.length >= Pa;}]);}function Ga(ua,pa,Ra){return R(ua,pa,"{",function(Pa){var db,nb,Bb;db={};Pa=Pa.split(";");for(var wb=Pa.length;wb--;){nb=Pa[wb];Bb=nb.indexOf(":");if(0 >= Bb)return;db[nb.substring(0,Bb)]=nb.substring(Bb + 1);}return db;},[function(Pa){return (0,u.Xs)(Pa) && 0 < Object.keys(Pa).length;},function(Pa){if(Ra)for(var db in Pa){if(!Ra.test(Pa[db]))return !1;}return !0;}],function(Pa){var db;db={};(0,p.Sd)(db,pa);(0,p.Sd)(db,Pa);return db;});}function Fa(ua){var pa;pa=[];(0,p.$f)(ua,function(Ra,Pa){var db;try{db="videoapp" === Ra.toLowerCase()?"[object object]":JSON.stringify(Pa);}catch(wb){db="cantparse";}pa.push(Ra + "=" + db);});return pa.join("\n");}Ja=/^[0-9]+[%]?$/;Xa=/^[0-9]*$/;Z={};Q=d.za.get(g.kn);ka=d.za.get(y.OI);(function(ua){function pa(Ra){Ra.split(",").forEach(function(Pa){var db;db=Pa.indexOf("=");0 < db && (cb[Pa.substring(0,db).toLowerCase()]=Pa.substring(db + 1));});}cb={};(0,p.Sd)(cb,ua);D && D.length && q.forEach.call(D,function(Ra){(0,u.xg)(Ra)?pa(Ra):(0,u.Xs)(Ra) && (0,p.Sd)(cb,Ra,{AU:!0});});U=(0,p.Sd)({},(0,l.M4)(),{AU:!0});if(ua=(0,l.d8a)().cadmiumconfig)(d.log.info("Config cookie loaded",ua),pa(ua));if(d.za.get(A.rn).B1 || cb.istestaccount)((0,p.Sd)(cb,U),Z=U);})(F);b.config={};P={TCb:E(H,J("enableXHEAAC"),!1),XVa:E(H,J("enableDDPlus20"),!0),WVa:E(H,J("enableDDPlus"),!0),GK:E(H,J("enableDDPlusAtmos"),!1),wCb:E(H,J("enableLSSDH"),!0),tCb:E(H,J("enableHEVC"),!1),j6a:E(H,J("overrideEnableHEVC"),!1),vka:E(H,J("enableHDR"),!1),i6a:E(H,J("overrideEnableHDR"),!1),h6a:E(H,J("overrideEnableDV"),!1),FK:E(H,J("enableAVCHigh"),ka.FK),f6a:E(H,J("overrideEnableAVCHigh"),!1),tka:E(H,J("enableAVCHighLive"),ka.tka),g6a:E(H,J("overrideEnableAVCHighLive"),!0),PCb:E(H,J("enableVP9"),!1),k6a:E(H,J("overrideEnableVP9"),!1),gCb:E(H,J("enableAV1"),!1),e6a:E(H,J("overrideEnableAV1"),!1),OTb:E(H,J("overrideEnableXHEAAC"),!1),MTb:E(H,"overrideEnableAllAudioProfiles",!1),NTb:E(H,"overrideEnableAllVideoProfiles",!1),FCb:E(H,J("enablePRK"),!1),qCb:E(H,J("enableDV"),!1),$Va:E(H,J("enableHWDRM"),!1),vCb:E(H,J("enableImageSubs"),!0),wE:E(ca,J("audioProfiles"),ka.wE),sCb:E(H,J("enableFullHdForWidevineL3"),!1),ZVa:E(H,J("enableFullHdForWidevineL1"),!1),OCb:E(H,J("enableUHD"),!0),L$:E(I,"videoCapabilityDetectorType",h.vl.qw),uha:E(I,"audioCapabilityDetectorType",h.Ut.qw),km:E(ca,J("videoProfiles"),ka.km),Uq:E(ca,J("liveVideoProfiles"),ka.Uq),rQa:E(ca,J("additionalVideoProfiles"),[]),Cpb:E(oa,J("timedTextProfiles"),ka.It),It:function(){return P.Cpb().filter(function(ua){return ua === m.tl.aba?P.wCb():ua === m.tl.HI?P.vCb():!0;});},endpoint:E(H,J("endpoint"),!1),version:E(K,"version","unknown"),uCb:E(H,J("enableHdcp"),!1),fr:E(H,J("prepareCadmium"),!1),cqb:E(H,J("acceptManifestOnPrepareItemParams"),!0),tVb:E(M,"ppmconfig",{maxNumberTitlesScheduled:1}),wS:E(H,J("enableLdlPrefetch"),!1),gWa:E(H,J("enableMediaPrefetch"),!1),ACb:E(H,J("enableManifestCache"),!0),KAb:E(H,J("deleteCachedManifestOnPlayback"),!1),JAb:E(H,J("deleteCachedManifestOnCreate"),!1),MAb:E(H,J("deleteOtherManifestCacheOnCreate"),!1),LAb:E(H,J("deleteOtherLdlCacheOnCreate"),!1),efc:E(I,J("periodicPrepareLogsIntervalMilliseconds"),36E5),OVb:E(I,J("prepareManifestCacheMaxCount"),50),MVb:E(I,J("prepareLdlCacheMaxCount"),30),s7a:E(I,J("prepareManifestExpiryMilliseconds"),12E5),NVb:E(I,J("prepareLdlExpiryMilliseconds"),78E4),GVb:E(I,J("prefetcherMaxWishlistSize"),10),FVb:E(I,J("prefetcherBudgetInBytes"),Infinity),HVb:E(H,J("prefetcherOverrideItemPriority"),!0),LVb:E(K,J("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),Sgc:E(M,"videoApp"),BC:E(M,"storageRules"),KFb:E(H,"ftlEnabled",!0),Rna:E(I,J("imageSubsResolution"),0),rLb:E(I,J("imageSubsMaxBuffer"),ka.RPb.ba(x.Vt),0),NR:E(H,J("captureBatteryStatus"),!1),rGb:E(I,J("getBatteryApiTimeoutMilliseconds"),5E3),Tl:E(K,J("keySystemId"),ka.Tl),f2a:E(oa,J("keySystemList"),void 0,void 0),uxa:E(H,J("validateKeySystemAccess"),!1),EQb:E(I,J("hdcpGlobalTimeout1"),1E4),FQb:E(I,J("hdcpGlobalTimeout2"),1E4),vec:E(I,J("hdcpQueryTimeout1"),1E3),wec:E(I,J("hdcpQueryTimeout2"),1E3),m4a:E(I,J("hdcpQueryTimeout2"),100),GQb:E(H,J("microsoftHwdrmRequiresHevc"),!1),l4a:E(H,J("microsoftClearLeadRequiresSwdrm"),!1),BQb:E(H,J("microsoftEnableDeviceInfo"),!1),CQb:E(H,J("microsoftEnableHardwareInfo"),!1),DQb:E(H,J("microsoftEnableHardwareReset"),!1),i5b:E(H,J("useHevcCodecForDolbyVision"),!1),BCb:E(H,J("enableMediaCapabilities"),!1),sVb:E(H,J("powerEfficientForVideo"),!1),CCb:E(H,J("enableMediaCapabilitiesSourceBufferCheck"),!1),ZOb:E(H,"logMediaPipelineStatus",!1),bW:E(H,J("renderDomDiagnostics"),!0),d3a:function(){return -1;},WL:E(N,J("logDisplayMaxEntryCount"),ka.WL,-1),cPb:E(N,J("logToConsoleLevel"),-1),zbc:E(N,J("bladerunnerCmdHistorySize"),10),Px:function(){return Q.Px;},xpa:E(H,"logErrorIfEsnNotProvided",!0),Dka:E(H,"enforceSinglePlayback",ka.Dka),E3:E(H,"enforceSingleSession",ka.E3),Mia:E(H,"closeOtherPlaybacks",!0),nsb:E(I,"asyncLoadTimeout",15E3,1),nPb:E(I,"mainThreadMonitorPollRate",0),LF:function(){return Q.LF;},cK:function(){return Q.cK;},vX:function(){return Q.vX;},Edb:E(I,J("verbosePlaybackInfoDenominator"),0),V8:E(H,"renderTimedText",!0),uVb:E(H,"preBufferTimedText",!0),ZDb:E(H,"fatalOnTimedTextLoadError",!0),Bwa:E(Ga,"timedTextStyleDefaults",{}),o$:E(Ga,"timedTextStyleOverrides",{}),n$:E(Ga,"timedTextFontFamilyMapping",ka.n$ || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),WN:E(I,"timedTextSimpleFallbackThreshold",ka.WN.ba(x.Vt)),xL:E(oa,J("imscLanguageList"),ka.xL,[]),v5:E(oa,J("increasedMediumScaleLanguageList"),ka.v5,[]),w5:E(oa,J("increasedSmallScaleLanguageList"),ka.w5,[]),r6:E(oa,J("lessBoldLanguageList"),ka.r6,[]),Cja:E(K,J("customDfxpUrl")),NCb:E(H,J("enableSubtitleTrackerLogging"),!1),g_b:E(H,J("sendSubtitleQoeLogblobOnMidplay"),!1),mia:E(Y,"cdnIdWhiteList",[]),lia:E(Y,"cdnIdBlackList",[]),Bla:E(K,J("forceAudioTrack")),Fla:E(K,J("forceTimedTextTrack")),$Pb:E(I,J("maxRetriesTimedTextDownload"),0),h3b:E(I,J("timedTextRetryInterval"),8E3),G1b:E(K,"storageType","idb",/^(none|fs|idb|ls)$/),$2a:E(I,"lockExpiration",1E4),XOb:E(I,"lockRefresh",3E3),Nub:E(H,"captureUnhandledExceptions",!0),qLb:E(H,"ignoreUnhandledExceptionDuringPlayback",!0),h4b:E(H,"unhandledExceptionsArePlaybackErrors",!1),zcb:E(K,"unhandledExceptionSource",""),ZVb:E(H,"preserveLastFrame",!1),NQb:E(I,"minBufferingTimeInMilliseconds",4E3),GWb:E(I,"progressBackwardsGraceTimeMilliseconds",4E3),HWb:E(I,"progressBackwardsMinPercent",10),ptb:E(K,J("bookmarkIgnoreBeginning"),"0",Ja),qtb:E(K,J("bookmarkIgnoreEnd"),"5%",Ja),rtb:E(K,J("bookmarkIgnoreEndForBranching"),"60000",Ja),dqa:E(I,"maxParallelConnections",3),Uta:E(H,"reportThroughputInLogblobs",!0),yv:E(I,"minAudioMediaRequestDuration",16E3),LQb:E(I,"minAudioMediaRequestDurationBranching",0),wy:E(I,"minVideoMediaRequestDuration",4E3),UQb:E(I,"minVideoMediaRequestDurationVariableGOP",0),TQb:E(I,"minVideoMediaRequestDurationBranching",0),yqa:E(I,"minAudioMediaRequestSizeBytes",0),Cqa:E(I,"minVideoMediaRequestSizeBytes",0),NBb:E(H,"droppedFrameRateFilterEnabled",!1),OBb:E(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),QBb:E(function(ua,pa,Ra,Pa,db,wb){return R(ua,pa,"[",function(nb){nb=nb.split(";");for(var Bb=nb.length;Bb--;){nb[Bb]=nb[Bb].split("|");for(var Qa=nb[Bb].length;Qa--;){nb[Bb][Qa]=(0,p.Vi)(nb[Bb][Qa]);}}return nb;},[function(nb){return (0,u.isArray)(nb) && 0 < nb.length;},function(nb){for(var Bb=nb.length;Bb-- && void 0 !== nb;){if(!(0,u.isArray)(nb[Bb]))return !1;for(var Qa=nb[Bb].length;Qa--;){if(!(0,u.FB)(nb[Bb][Qa],Ra,Pa))return !1;}}return !0;},function(nb){if(void 0 !== db)for(var Bb=nb.length;Bb--;){if(db !== nb[Bb].length)return !1;}return !0;},function(nb){return void 0 === wb || nb.length >= wb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),PBb:E(I,"droppedFrameRateFilterMinHeight",384),RBb:E(Y,"droppedFramesPercentilesList",[]),HQb:E(H,"microsoftScreenSizeFilterEnabled",!1),GNb:E(H,"keyStatusFilterEnabled",!1),O_a:E(I,"hdcpEngagementWaitTime",0),d4b:E(H,"uiLabelFilterEnabled",!0),c4b:E(M,"uiLabelFilter",{}),tAb:E(I,J("defaultVolume"),100,0,100),eqa:E(I,J("maxPlaybackRate"),2,0,16),QWa:E(H,"fastForwardAds",!1),oVa:E(H,"disableVideoRightClickMenu",!1),d7:E(I,"minDecoderBufferMilliseconds",1E3,0,f.Bw),bC:E(I,"optimalDecoderBufferMilliseconds",5E3,0,f.Bw),Mra:E(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,f.Bw),j7:E(I,"minimumTimeBeforeBranchDecision",3E3,0,f.Bw),D4a:E(I,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,f.Bw),sy:E(I,"maxDecoderBufferMilliseconds",ka.sy.ba(z.oa),0,f.Bw),LUa:E(I,"decoderTimeoutMilliseconds",1E4,1),f5a:E(I,"noRenderTimeoutMilliseconds",0),Gdb:E(I,"videoGapsTimeoutMilliseconds",500),oUb:E(I,"pauseTimeoutLimitMilliseconds",18E5),Vna:E(I,"inactivityMonitorInterval",3E4,0),bqb:E(Y,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),JK:E(H,"enableTrickPlay",!1),drb:E(Y,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),K3b:E(I,"trickPlayHighResolutionBitrateThreshold",1E3),L3b:E(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),O3b:E(O,"trickplayBufferFactor",.5),J3b:E(I,"trickPlayDownloadRetryCount",1),Vpa:E(K,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),EDb:E(oa,"experimentalFilter",["throughput-wssl"]),Bia:E(K,"ciPredictorSource","throughput-ci"),Lva:E(K,"simulationDurationStrategy","default"),Nqa:E(K,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),EDa:E(M,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),N3a:E(N,"maxIQRSamples",Infinity),u4a:E(N,"minIQRSamples",5),sdb:E(H,"useResourceTimingAPI",!1),oLb:E(H,"ignoreFirstByte",!0),TDb:E(Y,"failedDownloadRetryWaitsASE",[200,500,1E3,2E3,4E3]),H2:E(I,"connectTimeoutMilliseconds",8E3,500),Vqa:E(I,"noProgressTimeoutMilliseconds",8E3,500),Obb:E(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),Nec:E(I,"netflixRequestExpiryTimeout",0),l6b:E(H,"webkitDecodedFrameCountIncorrectlyReported",!1),h$:E(oa,J("supportedAudioTrackTypes"),[],void 0,1),C5:E(I,"initialLogFlushTimeout",5E3),W6a:E(K,"playdataPersistKey",Q.Px?"unsentplaydatatest":"unsentplaydata"),Sfc:E(H,"sendPersistedPlaydata",!0),TUb:E(I,"playdataPersistIntervalMilliseconds",4E3),gfc:E(I,"playdataSendDelayMilliseconds",1E4),Tfc:E(H,"sendPlaydataBackupOnInit",!0),aPb:E(oa,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),n4a:E(H,"midplayEnabled",!0),Z6:E(I,"midplayIntervalMilliseconds",3E5),o4a:E(Y,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),r3:E(I,"downloadReportDenominator",0),EBb:E(I,"downloadReportInterval",3E5),c3a:E(I,"logConfigApplyDenominator",0),FRa:E(Ga,J("bookmarkByMovieId"),{}),PS:E(H,J("forceLimitedDurationLicense"),!1),KB:E(I,J("licenseRenewalRequestDelay"),0),nsa:E(I,J("persistedReleaseDelay"),1E4),aec:E(H,J("limitedDurationFlagOverride"),void 0),E9a:E(I,"safariPlayPauseWorkaroundDelay",100),v6b:E(I,"workaroundValueForSeekIssue",1200),gia:E(H,J("callEndOfStream"),ka.gia),xUb:E(H,"performRewindCheck",!0),aEb:E(H,"fatalOnUnexpectedSeeking",!0),$Db:E(H,"fatalOnUnexpectedSeeked",!0),YDb:E(H,"fatalOnManifestMistmatch",!0),e0b:E(H,J("setVideoElementSize")),Mvb:E(H,J("clearVideoSrc"),!0),$Ua:E(I,J("delayPlayPause"),0),Dr:E(H,J("useTypescriptEme"),!1),ldb:E(H,J("useEncryptedEvent"),!0),pS:E(K,J("drmPersistKey"),"unsentDrmData"),L7a:E(H,J("promiseBasedEme"),!1),dSb:E(H,J("nudgeSourceBuffer"),!1),S9a:E(N,J("seekDelta"),1),JV:E(H,J("preciseSeeking"),!1),vVb:E(H,J("preciseSeekingOnTwoCoreDevice"),!1),ZUa:E(Ga,J("delayErrorHandling")),ck:E(K,"esn",""),SWa:E(K,"fesn",""),ICb:E(H,J("enablePerformanceLogging"),!1),YVa:E(H,J("enableEmeVerboseLogging"),!1),appId:E(K,"appId","",Xa),sessionId:E(K,"sessionId","",Xa),nSa:E(K,"cdnProxyUrl"),p5b:E(H,"usePlayReadyHeaderObject",!1),zXa:E(I,"forceXhrErrorResponseCode",void 0),ip:{Kec:E(K,"mslApiPath","/msl/"),nfc:E(K,"proxyPath",""),$v:E(K,"uiVersion"),x$:E(K,"uiPlatform"),Nbc:function(){return "0";},Lsa:E(oa,"preferredLanguages",f.SAa,/^[a-zA-Z-]{2,5}$/,1),dFb:E(K,J("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),n2b:E(H,"supportPreviewContentPin",!0),o2b:E(H,"supportWatermarking",!0),K0b:E(H,"showAllSubDubTracks",!1),Rcc:E(H,J("failOnGuidMismatch"),!1)},G8:{enabled:E(H,"qcEnabled",!1),cn:E(K,"qcPackageId","")},Cr:E(H,"useRangeHeader",!1),xS:E(H,"enableMilestoneEventList",!0),Ssb:E(Ga,"authenticationKeyNames",(0,p.Sd)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),A2b:E(K,"systemKeyWrapFormat"),E0b:E(H,"shouldSendUserAuthData",!0),bva:E(H,"sendUserAuthIfRequired",ka.bva),x0b:E(H,"shouldClearUserData",!1),lO:E(H,"usesMsl",!0),mRb:E(H,"mslDeleteStore",!1),oRb:E(H,"mslPersistStore",!0),Nwb:E(H,"correctNetworkForShortTitles",!0),rVb:E(H,"postplayHighInitBitrate",!1),v2b:E(H,"supportsUnequalizedDownloadables",!0),HUa:E(I,J("debugAseDenominator"),100),L1:E(I,"aseAudioBufferSizeBytes",ka.L1.ba(x.Vt)),O1:E(I,"aseVideoBufferSizeBytes",ka.O1.ba(x.Vt)),et:E(I,"minInitVideoBitrate",560),PQb:E(I,"minHCInitVideoBitrate",560),ty:E(I,"maxInitVideoBitrate",Infinity),TU:E(I,"minInitAudioBitrate",0),e7:E(I,"minHCInitAudioBitrate",0),HU:E(I,"maxInitAudioBitrate",65535),a7:E(I,"minAcceptableVideoBitrate",235),TB:E(I,"minRequiredBuffer",3E4),Zq:E(I,"minPrebufSize",7800),zqa:E(I,"minCheckBufferingCompleteInterval",999999),xta:E(O,"rebufferingFactor",1),Xq:E(I,"maxBufferingTime",2600),rxa:E(H,"useMaxPrebufSize",!0),QB:E(I,"maxPrebufSize",45E3),fqa:E(I,"maxRebufSize",Infinity),A5:E(ea,"initialBitrateSelectionCurve",null),D0a:E(I,"initSelectionLowerBound",560),E0a:E(I,"initSelectionUpperBound",1050),iX:E(I,"throughputPercentForAudio",15),Dha:E(I,"bandwidthMargin",10),Eha:E(H,"bandwidthMarginContinuous",!1),Fha:E(ea,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),aja:E(I,"conservBandwidthMargin",20),qwa:E(H,"switchConfigBasedOnInSessionTput",!1),cja:E(I,"conservBandwidthMarginTputThreshold",0),bja:E(ea,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),pbb:E(H,"switchAlgoBasedOnHistIQR",!1),rwa:E(K,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),T3a:E(N,"maxPlayerStateToSwitchConfig",-1),h3a:E(K,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),nEa:E(O,"IQRThreshold",.5),Y_a:E(K,"histIQRCalcToUse","simple"),KU:E(I,"maxTotalBufferLevelPerSession",0),vS:E(H,"enableCombinedPlaygraphs",!0),gF:E(H,"enableAdPlaygraphs",!0),f9:E(H,"retainSbrOnFade",!1),Uka:E(oa,"excludedContentPlaygraphIds",[]),A3:E(H,"enableDiscontiguousBuffering",!1),Dla:E(Y,"forceImmediateTransitionTypeForTitles",[]),Cla:E(I,"forceImmediateTransitionExitZone",0),C$:E(H,"useBufferSizeLimiter",!1),j5b:E(H,"useLegacyFragmentRounding",!1),T_a:E(I,"highWatermarkLevel",3E4),Wbb:E(I,"toStableThreshold",3E4),q$:E(I,"toUnstableThreshold",ka.q$.ba(z.oa)),Nva:E(H,"skipBitrateInUpswitch",!1),Ixa:E(I,"watermarkLevelForSkipStart",8E3),Gna:E(I,"highStreamRetentionWindow",9E4),Hpa:E(I,"lowStreamTransitionWindow",51E4),Ina:E(I,"highStreamRetentionWindowUp",3E5),Jpa:E(I,"lowStreamTransitionWindowUp",3E5),Hna:E(I,"highStreamRetentionWindowDown",6E5),Ipa:E(I,"lowStreamTransitionWindowDown",0),Fna:E(O,"highStreamInfeasibleBitrateFactor",.5),oy:E(I,"lowestBufForUpswitch",15E3),wU:E(I,"lockPeriodAfterDownswitch",15E3),Mpa:E(I,"lowWatermarkLevel",25E3),py:E(I,"lowestWaterMarkLevel",2E4),Npa:E(H,"lowestWaterMarkLevelBufferRelaxed",!1),T6:E(O,"mediaRate",1),L6:E(I,"maxTrailingBufferLen",1E4),sha:E(I,"audioBufferTargetAvailableSize",262144),wxa:E(I,"videoBufferTargetAvailableSize",1048576),a4a:E(I,"maxVideoTrailingBufferSize",8388608),F3a:E(I,"maxAudioTrailingBufferSize",393216),R3:E(O,"fastUpswitchFactor",3),cla:E(O,"fastDownswitchFactor",1),oG:E(I,"maxMediaBufferAllowed",24E4),gab:E(H,"simulatePartialBlocks",!0),fab:E(H,"simulateBufferFull",!0),dja:E(H,"considerConnectTime",!1),$ia:E(O,"connectTimeMultiplier",1),iPb:E(I,"lowGradeModeEnterThreshold",12E4),jPb:E(I,"lowGradeModeExitThreshold",9E4),I3a:E(I,"maxDomainFailureWaitDuration",3E4),Zpa:E(I,"maxAttemptsOnFailure",40),wka:E(H,"enableMaxAttemptsOnFailure",!0),DWa:E(H,"exhaustAllLocationsForFailure",!0),P3a:E(I,"maxNetworkErrorsDuringBuffering",20),G6:E(I,"maxBufferingTimeAllowedWithNetworkError",12E4),PWa:E(I,"fastDomainSelectionBwThreshold",2E3),Ebb:E(I,"throughputProbingEnterThreshold",4E4),Fbb:E(I,"throughputProbingExitThreshold",34E3),Y2a:E(I,"locationProbingTimeout",1E4),WWa:E(I,"finalLocationSelectionBwThreshold",1E4),Cbb:E(O,"throughputHighConfidenceLevel",.75),Dbb:E(O,"throughputLowConfidenceLevel",.4),iWa:E(H,"enablePerfBasedLocationSwitch",!1),YG:E(H,"probeServerWhenError",!0),Wsa:E(I,"probeRequestTimeoutMilliseconds",8E3),mR:E(H,"allowSwitchback",!0),A7a:E(I,"probeDetailDenominator",100),H6:E(I,"maxDelayToReportFailure",300),upa:E(I,"locationStatisticsUpdateInterval",6E4),Pwb:E(H,"countGapInBuffer",!1),qrb:E(H,"allowCallToStreamSelector",!0),Ftb:E(I,"bufferThresholdForAbort",1E4),ZPb:E(I,"maxResponsesInitialTput",6),bWa:E(H,"enableInitialTputLogging",!1),DUb:E(I,"pipelineScheduleTimeoutMs",2),bM:E(I,"maxPartialBuffersAtBufferingStart",2),dQb:E(I,"maxStreamingSkew",4E3),XPb:E(I,"maxPendingBufferPercentage",10),l5:E(I,"headerRequestSize",4096),Kka:E(H,"estimateHeaderSize",!1),c7:E(I,"minBufferLenForHeaderDownloading",1E4),hua:E(I,"reserveForSkipbackBufferMs",1E4),fSb:E(I,"numExtraFragmentsAllowed",2),jo:E(H,"pipelineEnabled",!1),nab:E(I,"socketReceiveBufferSize",0),V1:E(I,"audioSocketReceiveBufferSize",32768),O$:E(I,"videoSocketReceiveBufferSize",65536),Dna:E(I,"headersSocketReceiveBufferSize",32768),O4b:E(I,"updatePtsIntervalMs",1E3),Itb:E(I,"bufferTraceDenominator",100),LRa:E(I,"bufferLevelNotifyIntervalMs",2E3),tR:E(I,"aseReportDenominator",0),nha:E(I,"aseReportIntervalMs",3E5),hCb:E(H,"enableAbortTesting",!1),$pb:E(I,"abortRequestFrequency",8),R1b:E(I,"streamingStatusIntervalMs",2E3),IV:E(I,"prebufferTimeLimit",24E4),r4a:E(I,"minBufferLevelForTrackSwitch",2E3),gsa:E(I,"penaltyFactorForLongConnectTime",2),Fpa:E(I,"longConnectTimeThreshold",200),Pga:E(I,"additionalBufferingLongConnectTime",2E3),Qga:E(I,"additionalBufferingPerFailure",8E3),WV:E(I,"rebufferCheckDuration",6E4),zCb:E(H,"enableLookaheadHints",!1),gPb:E(I,"lookaheadFragments",2),IK:E(H,"enableOCSideChannel",!0),f_:E(M,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Kcb:E(H,"updateDrmRequestOnNetworkFailure",!1),EAb:E(H,"deferAseScheduling",!1),NPb:E(I,"maxDiffAudioVideoEndPtsMs",16E3),Pja:E(I,"defaultHeaderCacheSize",4),Oja:E(I,"defaultHeaderCacheDataPrefetchMs",8E3),Oqa:E(H,"neverWipeHeaderCache",!0),Mqa:E(I,"networkFailureResetWaitMs",2E3),Lqa:E(I,"networkFailureAbandonMs",6E4),K6:E(I,"maxThrottledNetworkFailures",3),l$:E(I,"throttledNetworkFailureThresholdMs",200),Lpa:E(N,"lowThroughputThreshold",400),Tka:E(H,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),jRb:E(H,"mp4ParsingInNative",!1),h1b:E(H,"sourceBufferInOrderAppend",!0),jN:E(H,"requireAudioStreamToEncompassVideo",!0),prb:E(H,"allowAudioToStreamPastVideo",!0),fWa:E(H,"enableManagerDebugTraces",!1),q3a:E(I,"managerDebugMessageInterval",1E3),p3a:E(I,"managerDebugMessageCount",20),Sec:E(H,"notifyManifestCacheEom",!1),Htb:E(I,"bufferThresholdToSwitchToSingleConnMs",18E4),Gtb:E(I,"bufferThresholdToSwitchToParallelConnMs",12E4),f8:E(I,"periodicHistoryPersistMs",3E5),q9:E(I,"saveVideoBitrateMs",18E4),JQa:E(H,"appendMediaRequestOnComplete",!0),Dxa:E(H,"waitForDrmToAppendMedia",!1),Ala:E(H,J("forceAppendHeadersAfterDrm"),!1),aFb:E(H,J("forceAppendEncryptedStreamHeaderFirst"),!0),gXb:E(H,J("reappendRequestsOnSkip"),!1),tRb:E(I,"netIntrStoreWindow",36E3),RQb:E(I,"minNetIntrDuration",8E3),VDb:E(I,"fastHistoricBandwidthExpirationTime",10368E3),Zsb:E(I,"bandwidthExpirationTime",5184E3),UDb:E(I,"failureExpirationTime",86400),QKb:E(I,"historyTimeOfDayGranularity",4),DDb:E(H,"expandDownloadTime",!1),$Qb:E(I,"minimumMeasurementTime",500),ZQb:E(I,"minimumMeasurementBytes",131072),Y2b:E(I,"throughputMeasurementTimeout",2E3),RLb:E(I,"initThroughputMeasureDataSize",262144),Z2b:E(K,"throughputPredictor","ewma"),X2b:E(I,"throughputMeasureWindow",5E3),c3b:E(I,"throughputWarmupTime",5E3),W2b:E(I,"throughputIQRMeasureWindow",5E3),Nib:E(I,"IQRBucketizerWindow",15E3),twb:E(I,"connectTimeHalflife",10),WYb:E(I,"responseTimeHalflife",10),PKb:E(I,"historicBandwidthUpdateInterval",2E3),YQb:E(I,"minimumBufferToStopProbing",1E4),Pua:E(K,"secondThroughputEstimator","none"),P9a:E(N,"secondThroughputMeasureWindowInMs",Infinity),rCb:E(oa,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),kEb:E(M,"filterDefinitionOverrides",{}),nAb:E(K,"defaultFilter","throughput-ewma"),HZb:E(K,"secondaryFilter","none"),oAb:E(M,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),Kqa:E(H,"needMinimumNetworkConfidence",!0),Iha:E(H,"biasTowardHistoricalThroughput",!0),Aga:E(H,"addHeaderDataToNetworkMonitor",!1),Uva:E(H,"startMonitorOnLoadStart",!1),Tta:E(H,"reportFailedRequestsToNetworkMonitor",!1),aqa:E(N,"maxFastPlayBufferInMs",Infinity),K3a:E(N,"maxFastPlayBitThreshold",Infinity),bha:E(H,"appendFirstHeaderOnComplete",!0),Zrb:E(K,"ase_stream_selector","optimized"),goa:E(K,"initBitrateSelectorAlgorithm","default"),Rha:E(K,"bufferingSelectorAlgorithm","default"),Wzb:E(K,"ase_ls_failure_simulation",""),Gja:E(H,"ase_dump_fragments",!1),Hja:E(I,"ase_location_history",0),IUa:E(I,"ase_throughput",0),Xzb:E(H,"ase_simulate_verbose",!1),mVb:E(I,"pollingPeriod",150),SOb:E(I,"loadTimeMs",18E4),FPb:E(I,"marginTimeMs",1E4),dma:E(H,"getDeviceIdFromBindDevice",!1),zga:E(H,"addFailedLogBlobsToQueue",!0),e4b:{"content-sampling":{Xq:E(I,"contentSamplingMaxBufferingTime",3E3),vN:E(K,"contentSamplingSelectStartingVMAFMethod","fallback"),cR:E(H,"contentSamplingActivateSelectStartingVMAF",!0),ft:E(I,"contentSamplingMinStartingVideoVMAF",80),RU:E(I,"contentSamplingMinAcceptableVMAF",70),tG:E(I,"contentSamplingMinAllowedVmaf",60)},billboard:{et:E(I,"billboardMinInitVideoBitrate",1050),ty:E(I,"billboardMaxInitVideoBitrate",null),Zq:E(I,"billboardMinPrebufSize",null),QB:E(I,"billboardMaxPrebufSize",null),Xq:E(I,"billboardMaxBufferingTime",null),bM:E(I,"billboardMaxPartialBuffersAtBufferingStart",null),py:E(I,"billboardLowestWaterMarkLevel",6E3),oy:E(I,"billboardLowestBufForUpswitch",25E3),rwa:E(K,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{et:E(I,"preplayMinInitVideoBitrate",1050),ty:E(I,"preplayMaxInitVideoBitrate",null),Zq:E(I,"preplayMinPrebufSize",null),QB:E(I,"preplayMaxPrebufSize",null),Xq:E(I,"preplayMaxBufferingTime",null),bM:E(I,"preplayMaxPartialBuffersAtBufferingStart",null),py:E(I,"preplayLowestWaterMarkLevel",6E3),oy:E(I,"preplayLowestBufForUpswitch",25E3)},embedded:{et:E(I,"embeddedMinInitVideoBitrate",1050),ty:E(I,"embeddedMaxInitVideoBitrate",null),Zq:E(I,"embeddedMinPrebufSize",null),QB:E(I,"embeddedMaxPrebufSize",null),Xq:E(I,"embeddedMaxBufferingTime",null),bM:E(I,"embeddedMaxPartialBuffersAtBufferingStart",null),py:E(I,"embeddedLowestWaterMarkLevel",6E3),oy:E(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{et:E(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),ty:E(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Zq:E(I,"videoMerchBobHorizontalMinPrebufSize",null),QB:E(I,"videoMerchBobHorizontalMaxPrebufSize",null),Xq:E(I,"videoMerchBobHorizontalMaxBufferingTime",null),bM:E(I,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),py:E(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),oy:E(I,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{et:E(I,"miniModalHorizontalMinInitVideoBitrate",null),ty:E(I,"miniModalHorizontalMaxInitVideoBitrate",null),Zq:E(I,"miniModalHorizontalMinPrebufSize",null),QB:E(I,"miniModalHorizontalMaxPrebufSize",null),Xq:E(I,"miniModalHorizontalMaxBufferingTime",500),bM:E(I,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),py:E(I,"miniModalHorizontalLowestWaterMarkLevel",null),oy:E(I,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},QCb:E(H,"enableVerbosePlaydelayLogging",!1),LCb:E(H,"enableSeamless",!1),W_a:E(I,"hindsightDenominator",0),V_a:E(I,"hindsightDebugDenominator",0),X_a:E(M,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),jWa:E(H,"enableSessionHistoryReport",!1),KVa:E(I,"earlyStageEstimatePeriod",1E4),A2a:E(I,"lateStageEstimatePeriod",3E4),Q3a:E(I,"maxNumSessionHistoryStored",30),y4a:E(I,"minSessionHistoryDuration",3E4),GU:E(I,"maxActiveRequestsPerSession",3),D3a:E(I,"maxActiveRequestsSABCell100",2),npa:E(H,"limitAudioDiscountByMaxAudioBitrate",!0),nd:E(M,"browserInfo",{}),Stb:E(I,J("busyGracePeriod"),199),h_b:E(H,J("sendTransitionLogblob"),!0),ZBb:E(H,J("editVideoFragments"),!0),JVa:E(H,J("earlyAppendSingleChildBranch"),!0),zLb:E(H,J("includeSegmentInfoOnLogblobs"),!0),JDb:E(H,"exposeTestData",!1),IDb:E(H,J("exposeErrorData"),!1),KUa:E(H,"declareBufferingCompleteAtSegmentEnd",!0),rR:E(H,J("applyProfileTimestampOffset"),!1),D8:E(M,J("profileTimestampOffsets"),{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}),Bm:E(H,J("applyProfileStreamingOffset"),!1),V6:E(H,J("mediaSourceSupportsNegativePts"),!1),vrb:E(H,J("allowSmallSeekDelta"),!1),Z0b:E(I,J("smallSeekDeltaThresholdMilliseconds"),t.C_),mCb:E(H,"enableCDMAttestedDescriptors",!1),cua:E(H,"requireDownloadDataAtBuffering",!1),dua:E(H,"requireSetupConnectionDuringBuffering",!1),w8a:E(H,"recordFirstFragmentOnSubBranchCreate",!1),odb:E(H,"useMobileVMAF",!1),gVa:E(K,"desiredVMAFTypeMobile","phone_plus_lts"),hVa:E(K,"desiredVMAFTypeNonMobile","plus_lts"),cR:E(H,"activateSelectStartingVMAF",!1),ft:E(I,"minStartingVideoVMAF",1),RU:E(I,"minAcceptableVMAF",1),tG:E(I,"minAllowedVmaf",1),yrb:E(H,"alwaysNotifyEOSForPlaygraph",!0),DCb:E(H,"enableNewAse",!0),k5b:E(H,"useNewApi",!0),F6:E(I,"maxAllowedOutstandingRequests",4),SJ:E(H,"alwaysRunUnderflowTimer",!0),Aqa:E(I,"minStreamableConcurrencyWindow",3E3),fwa:E(O,"streamableConcurrencyFactor",.3),IR:E(I,"bufferingConcurrencyWindow",7800),T0b:E(H,"singleStreamablePerBranch",!0),D3:E(H,"enableResolutionVMAFStreamFilter",!1),e9:E(M,"resolutionVMAFCappingRuleList",{}),jsa:E(N,"percentCapTitlesForResolutionVMAFStreamFilter",100),lBb:E(H,"disableSkipping",!1),D$:E(H,"useHLSPlayer",ka.D$),qxa:E(H,J("useExitZones"),!0),EYb:E(H,"requestSegmentVmaf",!1),FM:E(M,"perFragmentVMAFConfig",{enabled:!1}),Tra:E(I,"paddingDurationMs",1E3),Ura:E(K,"paddingMediaType","padding"),nbb:E(H,"supportsPtsChanged",!1),yVb:E(H,J("preferUnletterboxed"),!1),cWa:E(H,"enableKeySystemRestrictor",!1),sDb:E(I,"errorEventToRestrict",2),rDb:E(Y,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),qDb:E(Y,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),VVa:E(H,"enableCachedErrors",!1),cub:E(I,"cachedErrorCountLimit",20),eub:E(I,"cachedErrorExpirationSeconds",604800),fub:E(I,"cachedErrorsStorageTimeoutSeconds",2E3),sU:E(I,"liveTargetBufferDuration",1E4),t6:E(I,"liveEdgeCushion",6E3),y6:E(H,"liveSwitchStreamsOnErrorInPipeline",!1),yOb:E(N,"liveEdgeThreshold",1E4),xCb:E(H,"enableLivePlaybackRateDriftCorrection",!0),GOb:E(O,"livePlaybackRateMin",.98),FOb:E(O,"livePlaybackRateMax",1.02),EOb:E(N,"livePlaybackRateAdjustmentThresholdMs",20),DOb:E(N,"livePlaybackRateAdjustmentIntervalMs",1E3),COb:E(O,"livePlaybackRateAdjustmentFactor",.1),cFb:E(N,"forceAstRelativeLiveBookmark",void 0),eFb:E(N,"forceEstRelativeLiveBookmark",void 0),y1b:E(N,"startSlateMs",void 0),IOb:E(N,"liveSlateMs",void 0)};fa=!0;b.Zia=function(ua){var pa,Ra,Pa;pa=d.za.get(B.Jc).id;if(0 < b.config.c3a && 0 === pa % b.config.c3a)try{Ra=d.za.get(w.pm);Pa=d.za.get(v.Aw).ys("config","info",{params:ua});Ra.vc(Pa);}catch(db){d.log.error("Failed to log config$apply",db);}pb._cad_global.config=b.config;(0,n.na)(ua);ua && (cb=(0,p.Sd)({},ua,{AU:!0}),(0,p.Sd)(cb,Z,{AU:!0}),G(P,b.config),cb.istestaccount && d.log.trace("Config applied for",Fa(fa?cb:ua)),fa=!1);};(0,b.Zia)(cb);};b.G2=function(D){D=c(D);return (0,p.Sd)({},a(33888)(D),{U7:!0});};b.uTa=function(D,F,G){G=!!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));D={yv:D?b.config.LQb:b.config.yv,wy:D?b.config.TQb:G?b.config.UQb:b.config.wy,JVa:!F};return (0,p.Sd)({},a(33888)(D),{U7:!0});};b.rwb=c;b.qwb=k;},43382:function(r,b,a){var c,k,f,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(24133);k=a(7942);f=a(68172);l=a(50876);r=a(89082);a=a(60634);d=r.za.get(a.Th);d.register(f.U.hEa,function(g){l.hp && l.hp.generateKey && l.hp.importKey && l.hp.unwrapKey?(d.ke("wcs"),(0,c.GG)(l.hp.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.ke("wcdone");g(k.ig);},function(n){var h;n="" + n;if(0 <= n.indexOf("missing crypto.subtle"))h=f.R.uea;else 0 <= n.indexOf("timeout waiting for iframe to load") && (h=f.R.gmb);g({xa:h,Jb:n});})):g({xa:f.R.uea});});},89034:function(r,b,a){var c,k,f,l,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.Jk=void 0;c=a(7942);k=a(37986);r=a(68172);f=a(70633);l=a(89082);d=a(39465);g=a(50876);n=a(60634);h=a(811);m=l.za.get(n.Th);m.register(r.U.Tba,function(p){var q,u,t;q=l.za.get(h.rn);(0,f.na)(k.config);(0,f.na)(g.Fz && g.Fz.getDeviceId || g.TGa || q.$K);u=l.za.get(d.sBa);t=(0,l.Si)("Device");m.ke("devs");u.create({deviceId:k.config.deviceId,$K:q.$K,jVa:"deviceid",ck:k.config.ck,In:q.In,iS:q.iS,userAgent:g.pD,xpa:k.config.xpa,dma:k.config.dma,Mec:k.config.Px?"mslstoretest":"mslstore",lO:k.config.lO}).then(function(w){b.Jk=w;pb._cad_global.device=b.Jk;t.info("Esn source: " + b.Jk.H3);m.ke("devdone");p(c.ig);}).catch(function(w){w.ia=void 0;p(w);});});},43038:function(r,b,a){var g,n,h;function c(m,p,q,u,t){var w;w={};"right" == m.horizontalAlignment?w.right=100 * (q - p.left - p.width - t) / q + "%":w.left=100 * (p.left - t) / q + "%";"bottom" == m.verticalAlignment?w.bottom=100 * (u - p.top - p.height - t) / u + "%":w.top=100 * (p.top - t) / u + "%";return w;}function k(m,p){var q;if(m && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return m.width / m.fontSize / q;}}function f(m,p,q,u,t){var w,v;w=m.style;v=(0,n.Lna)(m.text);for(m=m.lineBreaks;m--;){v="<br />" + v;}return l(v,w,p,q,u,t);}function l(m,p,q,u,t,w){var v;v=p.characterStyle;t=t[v];v=0 <= v.indexOf("MONOSPACE")?k(t,p.cellResolution) || t.lineHeight:t.lineHeight;u=p.characterSize * u.height / (v || 1);u=0 < w?(0,h.GI)(u * w):(0,h.nn)(u);w={"font-size":u + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (w["font-style"]="italic");p.characterUnderline && (w["text-decoration"]="underline");p.characterColor && (w.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (w["background-color"]=d(p.backgroundColor,p.backgroundOpacity));u=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":w["text-shadow"]=u + " 0px 0px 7px";break;case "UNIFORM":w["text-shadow"]="-1px 0px " + u + ",0px 1px " + u + ",1px 0px " + u + ",0px -1px " + u;break;case "RAISED":w["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":w["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}w=(0,g.XR)(w);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (w+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (m='<span style="opacity:' + p + '">' + m + "</span>");return '<span style="' + w + '">' + m + "</span>";}function d(m,p){m=m.substring(1);m=parseInt(m,16);return "rgba(" + (m >> 16 & 255) + "," + (m >> 8 & 255) + "," + (m & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.sWa=b.iDb=b.gDb=b.jDb=b.hDb=b.tWa=b.uWa=b.Fka=void 0;g=a(24133);n=a(30818);h=a(50876);b.Fka=function(m,p,q,u,t){var w;w="";m.textNodes.forEach(function(v){w+=f(v,q,p,u,t);});m.region && m.region.multiRowAlignment && (w='<span style="display:inline-block;text-align:' + m.region.multiRowAlignment + '">' + w + "</span>");return w;};b.uWa=function(m,p,q,u,t){var w,v,x,z,A;w="";v=t.width;t=t.height;for(var y=p.length;y--;){x=p[y];z=m[y];z=z && z.region;A="position:absolute;background:" + u + ";width:" + (0,h.nn)(x.width + 2 * q) + "px;height:" + (0,h.nn)(x.height + 2 * q) + "px;";x=c(z,x,v,t,q);(0,n.$f)(x,function(B,C){A+=B + ":" + C + ";";});w+='<div style="' + A + '"></div>';}return w;};b.tWa=c;b.hDb=k;b.jDb=f;b.gDb=l;b.iDb=d;b.sWa=function(m){var p;p={display:"block","white-space":"nowrap"};switch(m.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,g.XR)(p);};},797:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.xcb=void 0;c=a(50876);b.xcb=function(k,f){function l(n,h,m){var t,v,y,x,z;if(n && 1 < n.length){for(var p=[],q=[],u=0;u < n.length;u++){p[u]=0;q[u]=0;}t=!1;for(u=0;u < n.length;u++){for(var w=u + 1;w < n.length;w++){v=n[u];y=n[w];if(0 > v.width || 0 > y.width || y.left > v.left + v.width || y.left + y.width < v.left || y.top > v.top + v.height?0:y.top + y.height >= v.top){x=(0,c.Mr)(v.left,y.left);z=(0,c.Mr)(v.top,y.top);x={width:(0,c.Mr)((0,c.Cw)(v.left + v.width,y.left + y.width) - x,0),height:(0,c.Mr)((0,c.Cw)(v.top + v.height,y.top + y.height) - z,0),x:x,y:z};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((z=x.width <= x.height,v=d(n[u]),y=d(n[w]),z && h || !z && !h))(x=(0,c.Mr)(x.width / 2,.25),v.x <= y.x?(q[u]-=x,q[w]+=x):(q[w]-=x,q[u]+=x));else if(z && !h || !z && h)(v=(0,c.Mr)(x.height / 2,.25),p[u]-=v,p[w]+=v);}}for(u=0;u < n.length;u++){if(-.25 > q[u] && 0 <= n[u].left + q[u] || .25 < q[u] && n[u].left + n[u].width + q[u] <= m.width)(n[u].left+=q[u],t=!0);if(-.25 > p[u] && 0 <= n[u].top + p[u] || .25 < p[u] && n[u].top + n[u].height + p[u] <= m.height)(n[u].top+=p[u],t=!0);}return t;}}function d(n){return {x:n.left + n.width / 2,y:n.top + n.height / 2};}k=k.map(function(n){return {top:n.top,left:n.left,width:n.width,height:n.height};});(function(n,h){n.forEach(function(m){0 > m.left && m.left + m.width < h.width?m.left+=(0,c.Cw)(-m.left,h.width - (m.left + m.width)):m.left + m.width > h.width && 0 < m.left && (m.left-=(0,c.Cw)(m.left + m.width - h.width,m.left));0 > m.top && m.top + m.height < h.height?m.top+=(0,c.Cw)(-m.top,h.height - (m.top + m.height)):m.top + m.height > h.height && 0 < m.top && (m.top-=(0,c.Cw)(m.top + m.height - h.height,m.top));});})(k,f);for(var g=0;50 > g && l(k,!0,f);g++){;}for(g=0;50 > g && l(k,!1,f);g++){;}return k;};},83795:function(r,b,a){var c,k,f,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.m3a=void 0;c=a(37986);k=a(7942);f=a(61831);r=a(68172);l=a(50876);d=a(95919);g=a(89082);a=a(60634);g.za.get(a.Th).register(r.U.$Da,function(n){var p,q,u,t,w;function h(){return (0,l.GI)((0,f.Dn)() / u);}function m(){var v;v=h();if(v != w){for(var y=(0,l.Cw)(v - w,30);y--;){t.push(0);}(y=(0,l.Mr)(t.length - 31,0)) && t.splice(0,y);w=v;}t[t.length - 1]++;}p=c.config.nPb;q=-6 / (p - 2 - 2);u=k.Lr;t=[];w=h();(0,d.Joa)(p) && (setInterval(m,1E3 / p),b.m3a={xHb:function(){var x;for(var v=[],y=t.length - 1;y--;){x=t[y];v.unshift(0 >= x?9:1 >= x?8:x >= p - 1?0:(0,l.nn)((x - 2) * q + 7));}return v;}});n(k.ig);});},43662:function(r,b,a){var d,g,n,h,m,p;function c(q){var u;q=new n.TO(q);if(1481462272 != q.Lp())throw Error("Invalid header");u={XMR:{Version:q.Lp(),RightsID:q.Nv(16)}};k(q,u.XMR,q.buffer.length);return u;}function k(q,u,t){var w,v,y,x,z;for(;q.position < t;){w=q.Zg();v=q.Lp();v-=8;switch(w){case 1:y="OuterContainer";break;case 2:y="GlobalPolicy";break;case 3:y="MinimumEnvironment";break;case 4:y="PlaybackPolicy";break;case 5:y="OutputProtection";break;case 6:y="UplinkKID";break;case 7:y="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:y="AnalogVideoOutputConfiguration";break;case 9:y="KeyMaterial";break;case 10:y="ContentKey";break;case 11:y="Signature";break;case 12:y="DeviceIdentification";break;case 13:y="Settings";break;case 18:y="ExpirationRestriction";break;case 42:y="ECCKey";break;case 48:y="ExpirationAfterFirstPlayRestriction";break;case 50:y="PlayReadyRevocationInformationVersion";break;case 51:y="EmbeddedLicenseSettings";break;case 52:y="SecurityLevel";break;case 54:y="PlayEnabler";break;case 57:y="PlayEnablerType";break;case 85:y="RealTimeExpirationRestriction";break;default:y="Other";}x={Type:f(w)};z=u[y];z?(0,p.isArray)(z)?z.push(x):(u[y]=[],u[y].push(z),u[y].push(x)):u[y]=x;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:k(q,x,q.position + v);break;case 5:x.Reserved1=q.Zg();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.Zg();x.MinimumAnalogVideoOutputProtectionLevel=q.Zg();x.Reserved2=q.Zg();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.Zg();break;case 10:x.Reserved=q.Nv(16);x.SymmetricCipherType=q.Zg();x.AsymmetricCipherType=q.Zg();v=q.Zg();x.EncryptedKeyLength=v;w=q.Nv(v);x.EncryptedKeyData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:x.SignatureType=q.Nv(2);v=q.Zg();w=q.Nv(v);x.SignatureData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:x.Reserved=q.Zg();break;case 18:x.BeginDate=q.Lp();x.EndDate=q.Lp();break;case 42:x.CurveType=q.Nv(2);v=q.Zg();w=q.Nv(v);x.Key=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:x.ExpireAfterFirstPlay=q.Lp();break;case 50:x.Sequence=q.Lp();break;case 51:x.LicenseProcessingIndicator=q.Zg();break;case 52:x.MinimumSecurityLevel=q.Zg();break;case 57:x.PlayEnablerType=l(q.Nv(16));break;case 85:break;default:x.OtherData=q.Nv(v);}}}function f(q){return "0x" + q.toString(16);}function l(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.bAb=b.cAb=b.aAb=b.$zb=b.Zzb=void 0;d=a(7942);g=a(89082);n=a(70834);h=a(30732);m=a(50791);p=a(95919);b.Zzb=function(q,u,t){switch(u){case d.LY:q && (q=(0,g.xRa)(q),(0,m.oeb)(q,function(w){w.ia && (w=w.object) && (w=(0,h.zYa)(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=(0,h.x6a)(w)) && (w=(0,g.tq)(w)) && (w=c(w)) && t(w);}));}};b.$zb=c;b.aAb=k;b.cAb=f;b.bAb=l;},5917:function(r,b){var c;function a(k,f){var l;l=this;this.cfa=[];c.forEach(function(d){(d=d(k,f)) && l.cfa.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.xP=b.BGa=void 0;c=[];a.prototype.Xy=function(k){var d;for(var f=[],l=this.cfa.length;l--;){d=this.cfa[l];d.Xy(k) && f.push(d.U3);}if(f.length)return f;};b.BGa=a;b.xP=function(k){c.push(k);};},91145:function(r,b,a){var c,k,f,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(5917);c=a(89082);k=a(17244);f=a(21234);l=a(58998);(0,r.xP)(function(d,g){var n,h;n=c.za.get(k.ac);if(n().NBb){h=c.za.get(l.Jc);return new f.JBa(d,g,c.Cf,h,n);}});},21234:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p,q,u){var t;t=this;this.j=h;this.Ca=m;this.la=p;this.Ea=q;this.H7={};this.BK={};this.FN=[];this.Y0a=1E3;this.b$=k.KFa;this.Fra=function(){var w;w=t.j.lb.value === d.bb.me && t.j.state.value === d.Tb.$d && t.j.O === t.Ca.O;t.TT?w || (clearInterval(t.TT),t.TT=void 0,t.kU=void 0):w && (t.TT=pb.setInterval(t.d3b,t.Y0a));};this.d3b=function(){var w,v,y,x;v=t.j.Td.value;v=v && v.stream;v=null !== (w=v && v.height) && void 0 !== w?w:null;if(null !== v && 0 < v){w=t.Ea.Eb().ba(n.oa);y=t.j.je.wF();if(y){if(t.kU && w - t.kU.time < 2 * t.Y0a && v === t.kU.height){x=y - t.kU.MBb;t.Hga(v,x);t.Lqb(v,x);}t.kU={time:w,MBb:y,height:v};t.j.h8 && t.j.h8.w_b(t.H7);}}};this.Vla=function(){var w;w={};t.BK && t.FN.forEach(function(v){var y,x,z;y=t.BK[v];if(y){x=0;z=0;(0,g.$f)(y,function(A,B){z+=(0,g.Vi)(A);x+=B;});w[v]=z / x;}});return w;};this.oT=function(w){var v;v={};w.forEach(function(y){v[y]={};});t.BK && ((0,f.fY)(w),t.FN.forEach(function(y){var x,z,A,B;x=t.BK[y];if(x){z=0;A=0;(0,g.$f)(x,function(E,J){z+=J;});B=Object.keys(x).map(Number);(0,f.fY)(B);for(var C=B.length - 1,D=B[C],F=w.length - 1;0 <= F;F--){for(var G=w[F];D >= G && 0 <= C;){(D=x[D]) && (A+=D);D=B[--C];}v[G][y]=(0,l.nn)(A / z * 100);}}}));return v;};this.log=this.la.Ua("DFF",h);this.r8=u().QBb;this.WPb=u().OBb;this.A4a=u().PBb;this.Ca.lka={Vla:this.Vla,oT:this.oT};h.state.addListener(this.Fra);h.lb.addListener(this.Fra);h.addEventListener(d.ea.lG,this.Fra);}Object.defineProperty(b,"__esModule",{value:!0});b.JBa=void 0;k=a(7942);f=a(24133);l=a(50876);d=a(34202);g=a(30818);n=a(2467);c.prototype.Xy=function(h){return h.lower && h.height > this.A4a?h.height >= this.pJb():!1;};c.prototype.Hga=function(h,m){var p;p=this.H7[h];p || (this.H7[h]=p=[],h > this.A4a && (this.FN.push(h),(0,f.fY)(this.FN)));0 < m && !(this.SU && this.SU < h) && (this.SU=h);p.push(m);p.length > this.WPb && p.shift();};c.prototype.Lqb=function(h,m){var p;p=this.BK[h];p || (this.BK[h]=p={});h=p[m];p[m]=h?h + 1:1;};c.prototype.pJb=function(){var p,q;if(this.SU){for(var h=this.FN.length,m=0;m < h;m++){p=this.FN[m];if(p >= this.SU && p < this.b$){q=this.H7[p];if(q && this.kvb(this.r8,q) && this.b$ != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Ca.cp.set({reason:"droppedFrames",height:p}),this.b$=p);}}this.SU=void 0;}return this.b$;};c.prototype.kvb=function(h,m){var t,w;for(var p=h.length,q=m.length,u=0;u < p;u++){t=h[u];w=t[0];t=t[1];for(var v=0;v < q;v++){if(m[v] >= t && 0 >= --w)return !0;}}return !1;};Wa.Object.defineProperties(c.prototype,{U3:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.JBa=c;},88514:function(r,b,a){var k,f,l;function c(d,g,n,h,m,p){var q;q=this;this.j=d;this.Ca=g;this.la=n;this.config=h;this.qa=m;this.wc=p;this.wrb=function(u){!0 === u.oldValue && !1 === u.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.ZYb());};this.b4b=function(u){var t,w,v;q.log.trace("UhdKeyStatus: " + u.oldValue + " -> " + u.newValue);w=null === u || void 0 === u?void 0:u.newValue;v=null === u || void 0 === u?void 0:u.oldValue;"usable" !== w && (q.r_b(w,(null === (t=null === u || void 0 === u?void 0:u.Fh) || void 0 === t?void 0:t.height) || 0),"usable" === v && (u=q.qa.fe.wa(q.INb),q.log.error("UHD KeyStatus unexpectedly changed: " + u.ba(l.oa))));};this.K1a=!1;this.log=this.la.Ua("KeyStatusStreamFilter",this.j);this.yQa=new f.Gb(!1,this.wrb);this.a4b=new f.Gb(void 0,this.b4b);}Object.defineProperty(b,"__esModule",{value:!0});b.MEa=void 0;k=a(26984);f=a(14414);l=a(2467);c.prototype.Xy=function(d){return d.hi && (this.Z1b(),this.yQa.set(this.K1a && this.HKb),d.lower && 1080 < d.height && !this.yQa.value)?!0:!1;};c.prototype.kwb=function(){this.HKb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.O_a);};c.prototype.Y4a=function(d){var g;g=this;Object.entries(d).forEach(function(n){var h,m,p;h=ma(n);n=h.next().value;h=h.next().value;n=null !== (p=null === (m=g.HNb) || void 0 === m?void 0:m[n]) && void 0 !== p?p:0;1080 < n && (g.K1a="usable" === h,g.a4b.set(h,{height:n}));});};c.prototype.Z1b=function(){var d,g,n;d=this;n=this.Ca.ee;!this.kNb && (0,k.xoa)(n) && (this.kNb=!0,this.HNb=null === (g=null === n || void 0 === n?void 0:n.context) || void 0 === g?void 0:g.d6,this.Y4a(n.keyStatuses.value),n.keyStatuses.addListener(function(h){return d.Y4a(h.newValue);}),this.wc.Ij((0,l.Kb)(this.config.O_a),function(){return d.kwb();}),this.INb=this.qa.fe);};c.prototype.r_b=function(d,g){this.log.error("Restricting resolution due to keyStatus",{keyHeight:g,keyStatus:d});this.Ca.cp.set({reason:"keyStatus",height:g});};Wa.Object.defineProperties(c.prototype,{U3:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.MEa=c;},22507:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(5917);c=a(37986);k=a(89082);f=a(88514);(0,r.xP)(function(l,d){if(c.config.GNb)return new f.MEa(l,d,k.Cf,c.config,k.qa,k.wc);});},19911:function(r,b,a){var k,f;function c(l,d){var g,n;g=(0,f.Gh)(l,"MSS");if(k.config.HQb)return {U3:"mss",Xy:function(h){var m,p;if(h.lower && 2160 <= h.height)a:{for(m=h;m.lower;){if(2160 > m.height && 1080 < m.height){m=!0;break a;}if(1080 >= m.height)break;m=m.lower;}m=!1;}else m=void 0;if(m){if(void 0 === n){try{p=pb.MSMediaKeys;n=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){g.error("hasUltraHdDisplay exception");n=!0;}n || (g.warn("Restricting resolution due screen size",{MaxHeight:h.height}),d.cp.set({reason:"microsoftScreenSize",height:h.height}));}return !n;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.vjb=void 0;r=a(5917);k=a(37986);f=a(89082);(0,r.xP)(c);b.vjb=c;},22:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(5917);c=a(37986);k=a(89082);(0,r.xP)(function(f,l){var d,g,n,h;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.c4b);g=d[l.wd];if(c.config.d4b && g){n={};h=(0,k.Gh)(f,"MediaStreamFilter");return {U3:"uiLabel",Xy:function(m){if(m.lower && m.height > g)return (n[m.height] || (n[m.height]=!0,h.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:m.height}),l.cp.set({reason:"uiLabel",height:m.height})),!0);}};}});},93230:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.JDa=void 0;c=a(34202);k=a(89927);b.JDa=function(f){function l(d){f.fireEvent(c.ea.$E,{response:d,O:f.aa.O});}return {download:function(d,g){d.j=f;d=k.Ie.download(d,g);d.v1(l);return d;}};};},89927:function(r,b,a){var g,n,h,m,p,q,u,t,w,v,y,x,z,A;function c(){this.Di=(0,q.Si)("Http");this.Uj=new g.Rj();this.KD=0;this.Tf={ssl:0,"non-ssl":0,invalid:0};this.x_={Ya:1,jmb:2,kza:3};this.addEventListener=this.Uj.addListener;this.removeEventListener=this.Uj.removeListener;}function k(B){var C,D,F,G;C=B.url.split("?");D="sc=" + B.FZb;F=B.Ytb?"random=" + (1E17 * (0,w.XZ)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=F?"&" + F:"";B.Bc && !(0,h.Toa)(G) && (B=n.config && n.config.nSa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function f(B,C){var D,F,G;D=B.url.split("?");F=l(B);G=D[0];F && (C.Lv=F,(void 0 === B.Cr?n.config.Cr:B.Cr) || B.nr !== x.EP?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + F):(C.Lv=F,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=F));F=B.Ytb?"random=" + (1E17 * (0,w.XZ)()).toFixed(0):"";n.config.IK && B.JW && (F="sc=" + B.JW + (F?"&" + F:""));G=D[1]?G + ("?" + D[1] + (F?"&" + F:"")):G + (F?"?" + F:"");B.Bc && !(0,h.Toa)(G) && (B=n.config && n.config.nSa) && (G=B.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));C.url=G;}function l(B){var C;C=B.offset;if(void 0 !== C)return ((0,u.cS)(C),void 0 !== B.length?(B=C + B.length - 1,(0,u.cS)(B),C + "-" + B):C + "-");}function d(B,C,D,F){var G,E;G=F.j7a;E=F.headers;B.open(G?"POST":"GET",C,D);switch(F.responseType){case b.IT:B.responseType="arraybuffer";break;case b.Nna:(0,t.fSa)(B,"overrideMimeType",void 0,"text/xml");}G && (C={"Content-Type":(0,y.xg)(G)?"text/plain":"application/x-octet-stream"},E=E?(0,t.Sd)(C,E):C);E && (0,t.$f)(E,function(J,L){B.setRequestHeader(J,L);});F.withCredentials && (B.withCredentials=!0);G?B.send(G):B.send();}Object.defineProperty(b,"__esModule",{value:!0});b.IT=b.Nna=b.Mna=b.YKb=b.Ona=b.XKb=b.a0a=b.m5=b.Ie=b.VKb=b.WKb=void 0;g=a(59883);n=a(37986);r=a(7942);h=a(24133);m=a(61831);p=a(68172);q=a(89082);u=a(70633);t=a(30818);w=a(50876);v=a(66052);y=a(95919);x=a(5485);z=a(47417);c.prototype.M0b=function(B){var C;C=new XMLHttpRequest();B=k(B);C.open("HEAD",B,!0);C.onreadystatechange=function(){2 === C.readyState && 200 <= C.status && 299 >= C.status && !1;};C.send();return function(){return C.abort();};};c.prototype.download=function(B,C){var O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb;function D(){var U;if(!ea){ea=!0;cb && (pb.clearTimeout(cb),cb=null);O.Uj.removeListener(b.Ona,J);O.Sfa(Fa,Ja);Ja && (Ja.onloadstart=null,Ja.onreadystatechange=null,Ja.onprogress=null,Ja.onerror=null,Ja.onload=null,Ja=Ja.onabort=null);Fa.ia || (Fa.xa != p.R.bD?H.warn("Download failed",Y,(0,p.xw)(Fa)):H.trace("Download aborted",Y));U=ca;ca=null;null === U || void 0 === U?void 0:U.reduceRight(function(Z,Q){(0,v.Mf)(function(){return Q(Fa);});},null);O.Uj.Dc(b.a0a,Fa,!0);}}function F(){cb && (pb.clearTimeout(cb),cb=null);cb=pb.setTimeout(L,Xa?R:M);}function G(U,Z,Q,ka){var P,fa;Fa.ia=!1;Fa.xa=U;P=(0,m.Dn)();fa=Fa.Vl;fa.Wi=fa.Wi || P;fa.Op=fa.Op || P;Z && 0 < Z && (Fa.Kl=Z,Fa.Ee=Z.toString());Q && (Fa.Jb=Q);ka && (Fa.tC=ka);U !== p.R.cP && U !== p.R.cD && U !== p.R.fP || !Ja || (Ja.onabort=null,N());D();}function E(U){var Z,Q;try{Q=U.getResponseHeader("X-Netflix.Retry.Server.Policy");Q && (Z=JSON.parse(Q));}catch(ka){!1;}return Z;}function J(){A() || G(p.R.cP);}function L(){G(Xa?p.R.cD:p.R.fP);}function N(){try{null === Ja || void 0 === Ja?void 0:Ja.abort();}catch(U){}}function I(){G(p.R.bD);}O=this;(0,u.na)(C);H=(null === (K=null === B || void 0 === B?void 0:B.j) || void 0 === K?0:K.log)?(0,q.Gh)(B.j,"Http"):this.Di;M=B.H2 || n.config.H2;R=B.Vqa || n.config.Vqa;Y={Num:this.KD++};ea=!1;ca=[C];oa={};this.Npb(B);Fa=new z.MDa(B,N,L,oa,function(U){ea || ((0,u.na)(ca,"Callback should be added before download starts."),ca && ca.unshift(U));});Xa=!1;(0,v.Mf)(function(){var U;if((0,y.Soa)(B.url))try{if((f(B,Fa),Ga=Fa.url,(0,u.dS)(Ga),Y.Url=Ga,A())){!1;Ja=new XMLHttpRequest();Ja.onreadystatechange=function(){2 === (null === Ja || void 0 === Ja?void 0:Ja.readyState) && (Xa=!0,oa.Wi=(0,m.Dn)(),Ja.onreadystatechange=null,F(),!1,O.Sfa(Fa,Ja),Fa.CG({timestamp:oa.Wi,connect:!0,mediaRequest:B,start:oa.Qy,rt:[oa.Wi - oa.Qy],responseHeaders:Fa.headers}));};Ja.onprogress=function(Z){Xa=!0;oa.J2=Z.loaded;F();O.Sfa(Fa,Ja);Z={mediaRequest:B,bytes:Z.loaded,timestamp:(0,m.Dn)(),bytesLoaded:Z.loaded,responseHeaders:Fa.headers};Fa.CG(Z);};Ja.onload=function(Z){if(!ea && Ja){(0,u.na)(void 0 === oa.Op);oa.Op=(0,m.Dn)();oa.Wi=oa.Wi || oa.Op;oa.J2=Z.loaded;if(200 <= Ja.status && 299 >= Ja.status){a:switch((Z=Ja,Fa.type)){case b.IT:Z=Z.response || new ArrayBuffer(0);break a;case b.Nna:Z=Z.responseXML;break a;default:Z=Z.responseText;}Fa.parsed=!1;Fa.content=Z;Fa.ia=!0;}else 420 === Ja.status?G(p.R.eP,Ja.status):G(p.R.dP,Ja.status,Ja.response,E(Ja));D();}};Ja.onabort=I;Ja.onerror=function(){var Z,Q;if(Ja){Z=Ja.status;"undefined" !== typeof n.config.zXa && (Z=n.config.zXa);if(0 < Z){if(420 === Z)G(p.R.eP,Z);else {try{Q=Ja.responseText;}catch(ka){}G(p.R.dP,Z,Q,E(Ja));}}else G(p.R.gP);}};U=(0,m.Dn)();d(Ja,Ga,!0,B);O.Uj.Dc(b.m5,Fa,!0);oa.Qy=U;Fa.tM({mediaRequest:B,timestamp:U});F();O.Uj.addListener(b.Ona,J);}else (0,v.Mf)(G.bind(void 0,p.R.cP));}catch(Z){H.error("Exception starting download",Z,Y);G(p.R.Qba,void 0,(0,t.ue)(Z));}else G(p.R.sDa);});return Fa;};c.prototype.mWb=function(B){var C,D;C=new XMLHttpRequest();D=B.jWb;C.open("HEAD",B.url,!0);C.timeout=n.config.Wsa;C.onreadystatechange=function(){2 === C.readyState && (!1,D && D.rM(C.status));};C.ontimeout=C.onerror=function(){!1;D && D.bra(C.status);};C.send();};c.prototype.Npb=function(B){var C;try{C=B.url;(0,y.Soa)(C)?0 === C.indexOf("https")?this.Tf.ssl++:0 === C.indexOf("http")?this.Tf["non-ssl"]++:this.Tf.invalid++:this.Tf.invalid++;}catch(D){}};c.prototype.Sfa=function(B,C){var D;if(!B.headers && C){D={};C.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(F){var G;G=ma(F.split(": "));F=G.next().value;G=aa(G).join(": ");F && (D[F.toLowerCase()]=G);});B.headers=D;}};b.WKb=f;b.VKb=l;A=r.qKa;b.Ie=new c();b.m5=1;b.a0a=2;b.XKb=3;b.Ona=4;b.YKb=5;b.Mna=b.Ie.x_.Ya;b.Nna=b.Ie.x_.jmb;b.IT=b.Ie.x_.kza;pb._cad_global.http=b.Ie;},47417:function(r,b,a){var k;function c(f,l,d,g,n){this.v1=this.CG=this.tM=k.Gw;this.request=f;this.type=f.responseType;this.Vl=g;this.abort=l;this.timeout=d;this.v1=n;}Object.defineProperty(b,"__esModule",{value:!0});b.MDa=void 0;k=a(7942);c.prototype.K_b=function(f){this.tM=f;};c.prototype.P_b=function(f){this.CG=f;};b.MDa=c;},89082:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.za=b.xJa=b.VS=b.Gh=b.Si=b.log=b.Cf=b.fL=b.xRa=b.tq=b.qx=b.kc=b.ftb=b.Gha=b.dtb=b.etb=b.Mi=b.mO=b.BX=b.eh=b.wc=b.qa=void 0;c=a(84722);r=a(71163);k=a(77003);f=a(53484);l=a(5266);d=a(31224);g=a(95919);n=a(97636);h=a(35664);a=a(65428);b.qa=c.dc.get(h.gg);b.wc=c.dc.get(a.Ci);b.eh=c.dc.get(f.iq);b.BX=b.eh.encode.bind(b.eh);b.mO=b.eh.decode.bind(b.eh);b.Mi=c.dc.get(l.nw);b.etb=b.Mi.encode.bind(b.Mi);b.dtb=b.Mi.decode.bind(b.Mi);b.Gha=b.Mi.pF.bind(b.Mi);b.ftb=b.Mi.Xbb.bind(b.Mi);b.kc=c.dc.get(d.fh);b.qx=function(m){m=(0,g.xg)(m)?(0,b.mO)(m):m;return b.kc.encode(m);};b.tq=b.kc.decode.bind(b.kc);b.xRa=function(m){return (0,b.BX)((0,b.tq)(m));};b.fL=function(){return c.dc.get(k.rw);};b.Cf=c.dc.get(r.Xa);b.log=b.Cf.Ua("General");b.Si=function(m,p){return b.Cf.Ua(m,void 0,p);};b.Gh=function(m,p,q){return b.Cf.Ua(p,m,q);};b.VS=function(m,p,q,u){return b.Cf.Ua(m,void 0,u,p,q);};b.xJa=function(m,p,q){return c.dc.get(n.KP)(m,p,q).pX();};b.za=c.dc;},9911:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(12648);k=a(7942);f=a(37986);l=a(58680);d=a(61831);r=a(68172);g=a(89082);n=a(85643);h=a(50876);m=a(66052);p=a(95919);q=a(14959);u=a(91022);a=a(60634);v=g.za.get(a.Th);v.register(r.U.ZDa,function(y){var z;function x(){var A,B,C;A=v.startTime;B={browserua:h.pD,browserhref:h.c_.href,initstart:A,initdelay:v.endTime - A};(A=h.Og.documentMode) && (B.browserdm="" + A);(0,p.PL)(f.config.SWa) && (B.fesn=f.config.SWa);Object.assign(B,(0,c.Tma)());C=h.hu && h.hu.timing;C && f.config.aPb.map(function(D){var F;F=C[D];F && (B["pt_" + D]=F - (0,d.XSa)());});A=z.XHb();Object.entries(A).forEach(function(D){var F;F=ma(D);D=F.next().value;F=F.next().value;return B["m_" + D]=F;});A=w.ys("startup","info",B,l.Iz.vla);t.vc(A);}w=g.za.get(u.Aw);t=g.za.get(q.pm);z=g.za.get(n.XI);v.tU(function(){t.va();(0,m.Mf)(x);});y(k.ig);});},15883:function(r,b,a){var f,l,d,g,n,h,m,p,q,u,t,w;function c(v,y){var z;function x(){function A(B,C){return C.ie && 0 !== C.ie.length && C.ie[0].jG?(0,f.My)(v,C).then(function(){z.trace("Successfully released license for session",JSON.stringify(C));return B?B.aW(C):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({Vy:C,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.aW(C):Promise.resolve());}k(z).then(function(B){var C;C=B.u3.filter(function(D){return !1 === D.active;}).map(function(D){return A(B,D);});Promise.all(C).then(function(){z.info("release drm session completed for " + C.length + " entries");y(l.ig);}).catch(function(D){D=D || ({});D.DrmCacheSize=C.length;z.error("Unable to release one or more DRM session data",D);y(l.ig);});}).catch(function(B){z.error("Unable to load DRM session data",B);y(l.ig);});}z=(0,h.Si)("PlayDataManager");y=y || l.Gw;d.config.Dr?y(l.ig):x();}function k(v){var y;if(!b.hka){y=h.za.get(m.Vaa);b.hka=new Promise(function(x,z){y.f8a().then(function(){x(y);}).catch(function(A){v.error("Unable to load DRM data for license release",A);z(A);});});}return b.hka;}Object.defineProperty(b,"__esModule",{value:!0});b.WIa=b.VIa=b.hka=void 0;f=a(49007);l=a(7942);d=a(37986);g=a(25892);n=a(811);h=a(89082);r=a(68172);m=a(68511);p=a(12496);q=a(34202);u=a(14959);t=a(60634);w=a(62298);b.VIa=function(v){var z,A,B,C,D,F;function y(){A || (v.ke("pdsb"),A=h.za.get(p.JP)().then(function(G){C=G;v.ke("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);v.ke("pdse");throw G;}));return A;}function x(){B=!0;C && C.close();g.he.removeListener(g.Nk,x);}z=(0,h.Gh)(v,"PlayDataManager");B=!1;D=h.za.get(n.n_);if(!D.uI || !D.sI){F=h.za.get(w.mda)();D.uI=F.Vy;D.sI=F.request;}v.ke("pdctor");v.addEventListener(q.ea.tg,function(){g.he.removeListener(g.Nk,x);});v.addEventListener(q.ea.pU,function(){var G;if(!d.config.Dr && v.ee){G=v.L2.STa();k(z).then(function(E){return E.VPa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});v.addEventListener(q.ea.tg,function(){var G;if(!B){v.c6b();G=[(function(){return d.config.Dr || !v.ee?Promise.resolve():new Promise(function(E){var J;z.info("Sending the expedited playdata");J=v.L2.STa();v.ee.EWa(J).then(function(){z.info("Sent the expedited playdata");return k(z);}).then(function(L){return L?L.aW(J):Promise.resolve();}).then(function(){E(void 0);}).catch(function(L){z.error("Unable to send the expedited playdata",L);E();});});})(),(function(){return y().then(function(E){return E.TW(v.aa);}).then(function(){z.info("Sent the playdata");}).catch(function(E){z.error("Unable to send the playdata",E);});})(),(function(){return new Promise(function(E){h.za.get(u.pm).flush(!1).catch(function(){z.error("Unable to send logblob");E(void 0);}).then(function(){E(void 0);});});})()];Promise.all(G).then(function(){v.B7();}).catch(function(){v.B7();});}});g.he.addListener(g.Nk,x);return {};};b.WIa=function(){return new Promise(function(v){c({},function(y){v(y);});});};h.za.get(t.Th).register(r.U.zz,function(v){v(l.ig);});},13472:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(88625);f=a(89034);l=a(37986);d=a(7942);g=a(68172);n=a(70633);h=a(89082);m=a(85643);p=a(3971);q=a(7336);u=a(30818);t=a(50876);w=a(95919);v=a(24133);y=a(74509);x=a(2467);r=a(60634);z=a(55689);A=a(40142);B=a(5485);C=a(98540);D={};F=h.za.get(r.Th);F.register(g.U.aEa,function(G){var N,I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja;function E(Xa){Xa && Xa.userList && l.config.x0b && (Xa.userList=[]);K({esn:f.Jk.ck,esnPrefix:f.Jk.In,authenticationKeyNames:l.config.Ssb,systemKeyWrapFormat:l.config.A2b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:Fa,storeState:Xa,notifyMilestone:F.ke.bind(F),log:R,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:g.R.qjb,MSL_READ_TIMEOUT:g.R.pjb}},{result:function(cb){J(cb);},timeout:function(){G({xa:g.R.QFa});},error:function(cb){G(L(g.R.QFa,void 0,cb));}});}function J(Xa){var U,Z,Q,ka;function cb(){Ga && h.za.get(q.kw).create().then(function(P){return P.save(ca,Q,!1);}).catch(function(P){R.error("Error persisting msl store",(0,g.xw)(P));});}U=this;Z=h.za.get(y.yD)((0,x.Kb)(100));ka=H.extend({init:function(P){this.xOa=P;},getResponse:function(P,fa,ua){var pa,Ra;fa=this.xOa;pa=fa.Iqa.Ie || pa;P=(0,w.Roa)(P.body)?(0,h.BX)(P.body):P.body;(0,n.dS)(P,"Msl should not be sending empty request");P={url:fa.url,j7a:P,withCredentials:!0,MA:"nq-" + fa.method,headers:fa.headers};fa=this.xOa.timeout;P.H2=fa;P.Vqa=fa;Ra=pa.download(P,function(Pa){try{if(Pa.ia)ua.result({body:Pa.content});else if(400 === Pa.Kl && Pa.Jb)ua.result({body:Pa.Jb});else throw (0,u.Sd)(new M("HTTP error, SubCode: " + Pa.xa + (Pa.Kl?", HttpCode: " + Pa.Kl:"")),{cadmiumResponse:Pa});}catch(db){ua.error(db);}});return {abort:function(){Ra.abort();}};}});ea && Xa.addEventHandler("shouldpersist",function(P){Q=P.storeState;Z.Hj(cb);});(0,u.Sd)(D,{Jdc:function(){oa=!0;},send:function(P){function fa(){var ua,pa;ua=P.Iqa;pa={method:P.method,nonReplayable:P.i5a,encrypted:P.hF,userId:P.wdb,body:P.body,timeout:2 * P.timeout,url:new ka(P),allowTokenRefresh:Ga,sendUserAuthIfRequired:Ja,shouldSendUserAuthData:l.config.E0b};ua.email?(pa.email=ua.email,pa.password=ua.password || ""):oa && (pa.useNetflixUserAuthData=!0);return pa;}return new Promise(function(ua,pa){var Ra;Ra=fa();Xa.send(Ra).then(function(Pa){oa && (oa=!1);ua({ia:!0,body:Pa.body});}).catch(function(Pa){var db,wb;if(Pa.error){db=Pa.error.cadmiumResponse && Pa.error.cadmiumResponse.xa?Pa.error.cadmiumResponse.xa:Xa.isErrorReauth(Pa.error)?g.R.PFa:Xa.isErrorHeader(Pa.error)?g.R.jjb:g.R.ijb;wb=Xa.getErrorCode(Pa.error);pa(L(db,wb,Pa.error));}else (R.error("Unknown MSL error",Pa),Pa.ic=Pa.subCode,pa({xa:Pa.ic?Pa.ic:g.R.rjb}));});});},WU:Xa});A.CD.UJ.mslFetch=function(P,fa){return c.__awaiter(U,void 0,void 0,function pa(){var Ra,Pa,db;return Ia(pa,function(wb){if(1 == wb.Av)return (Ra=h.za.get(C.SI),La(wb,D.send({Iqa:{Ie:h.za.get(B.bu),profile:Ra},timeout:3E3,url:P.toString(),body:null === fa || void 0 === fa?void 0:fa.body,headers:{"Content-Type":"application/x-msl+json"},wdb:Ra,pYb:!1,i5a:!0,hF:!0}),2));Pa=wb.WX;db={get body() {this.bodyUsed=!0;return Pa.body;}};return wb.return((db.bodyUsed=!1,db.ok=Pa.ia,db.status=Pa.ia?200:400,db.statusText=Pa.ia?"OK":"Bad Request",db.type="basic",db.url=P.toString(),db.headers=new Headers({"Content-Type":"application/json"}),db.text=function(){return Promise.resolve(this.body);},db.json=function(){return Promise.resolve(JSON.parse(this.body));},db.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},db.clone=function(){return Object.assign({},this);},db.blob=function(){return this.arrayBuffer().then(function(nb){return new Blob([nb]);});},db.formData=function(){throw Error("Not implemented");},db.redirected=!1,db));});});};G(d.ig);h.za.get(z.Jca).qRb(D);}function L(Xa,cb,U){var Z,Q,ka,P;ka={xa:Xa,G3:cb};if(U){P=function(fa){var ua;fa=fa || "" + U;if(U.stack){ua="" + U.stack;fa=0 <= ua.indexOf(fa)?ua:fa + ua;}return fa;};if(Q=U.cadmiumResponse){if(Z=Q.Ee && Q.Ee.toString())Q.Ee=Z;Q.xa=Xa;Q.G3=cb;Q.Jb=P(U.message);Q.error={ic:Xa,Qc:Z,xy:cb,data:U.cause,message:U.message};return Q;}P=P(U.errorMessage);Z=(0,u.Vi)(U.internalCode) || (0,u.Vi)(U.error && U.error.internalCode);Q=void 0 !== U.vDb?(0,v.ira)(U.vDb):void 0;}P && (ka.Jb=P);Z && (ka.Ee=Z);ka.error={ic:Xa,Qc:Z.toString(),xy:cb,data:Q,message:P};return ka;}(0,n.na)(l.config);N=h.za.get(m.XI);I=p.om.hj;if(t.Fz && t.hp && t.hp.unwrapKey){try{O=pb.netflix.msl;K=O.createMslClient;H=O.IHttpLocation;M=O.MslIoException;}catch(Xa){G({xa:g.R.kjb});return;}R=(0,h.Si)("Msl");Y=l.config.mRb;ea=l.config.oRb;ca=l.config.Px?"mslstoretest":"mslstore";O=k.BH.j$a;oa=!0;Ga=!O || O.ia;Fa=(0,h.tq)(l.config.Px?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");Ja=!!l.config.bva;h.za.get(q.kw).create().then(function(Xa){Y?Xa.remove(ca).then(function(){E();}).catch(function(cb){R.error("Unable to delete MSL store",(0,g.xw)(cb));E();}):ea?Xa.load(ca).then(function(cb){N.mark(I.mjb);E(cb.value);}).catch(function(cb){cb.xa == g.R.Nw?(N.mark(I.ojb),E()):(R.error("Error loading msl store",(0,g.xw)(cb)),N.mark(I.njb),Xa.remove(ca).then(function(){E();}).catch(function(U){G(U);}));}):E();}).catch(function(Xa){R.error("Error creating app storage while loading msl store",(0,g.xw)(Xa));G(Xa);});}else G({xa:g.R.ljb});});},89136:function(r,b,a){var c,k,f,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.xCa=void 0;c=a(37986);k=a(25892);f=a(30818);l=a(68172);d=a(34202);b.xCa=function(g,n,h){function m(q){var u,t;u=q.error || q;t=(0,f.ue)(u);h.error("uncaught exception",u,t);(u=(u=u && u.stack) && c.config.zcb && c.config.h4b?0 <= u.indexOf(c.config.zcb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),g.od(l.U.BMa));}function p(){k.he.removeListener(k.Y4,m);g.removeEventListener(d.ea.tg,p);g.removeEventListener(d.ea.ot,p);}try{k.he.addListener(k.Y4,m);g.addEventListener(d.ea.tg,p);c.config.qLb && g.addEventListener(d.ea.ot,p);}catch(q){h.error("exception in exception handler ",q);}};},45108:function(r,b,a){var c,k,f,l,d,g,n,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.rEa=void 0;c=a(37986);k=a(61831);f=a(68172);l=a(50995);d=a(50876);g=a(95919);n=a(34202);h=a(89082);m=a(92513);b.rEa=function(p){var u,t,w,v;function q(){p.state.value !== n.Tb.$d || p.lb.value !== n.bb.Vh && p.lb.value !== n.bb.aq?t.Tp():t.VA();}u=c.config.oUb;if(!p.ML() && u){t=h.za.get(m.SP)(u,function(){p.fireEvent(n.ea.zL,f.U.i_);});p.lb.addListener(q);p.state.addListener(q);if(c.config.Vna){w=(0,k.Dn)();v=new l.vKa(c.config.Vna,function(){var y,x;y=(0,k.Dn)();x=y - w;x > u && (p.fireEvent(n.ea.zL,f.U.PZ),v.TSa());x > 2 * c.config.Vna && (p.Wna=(0,d.Mr)(x,p.Wna || 0));w=y;});v.a0b();}p.addEventListener(n.ea.tg,function(){t.Tp();(0,g.Sc)(v) && v.TSa();});}};},4985:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v;function c(y,x){this.j=y;this.Zi=x;this.w2b=!1;this.log=(0,l.Gh)(this.j,"MediaAppendManager");this.Pb=this.j.Pb;this.$=this.Pb.$;this.LX=this.zR=!1;this.audio={type:f.Sj.audio,$u:[],Uk:[],EM:!1};this.video={type:f.Sj.video,$u:[],Uk:[],EM:!1};y={};this.SH=(y[v.v.X]=this.video,y[v.v.fa]=this.audio,y);this.closed=!1;this.sy=k.config.sy;this.d7=k.config.d7;this.bC=this.j.Wa.bg?k.config.Mra:k.config.bC;this.uRa=!0;this.kc=l.za.get("Base64EncoderSymbol");this.tla=!1;this.hsa=[];(0,g.na)(this.sy > this.d7,"bad config");(0,g.na)(this.sy > this.bC,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.eGa=void 0;k=a(37986);f=a(20736);l=a(89082);d=a(68172);g=a(70633);n=a(30818);h=a(7942);m=a(34202);p=a(11102);q=a(2467);u=a(3971);t=a(56261);w=a(86343);v=a(18920);c.prototype.m4=function(){var z,A;function y(B,C){return x(B,C.U6);}function x(B,C){var D,F,G,E;G=!!C.response;E=C.response;if(C.Me)return B + (E.byteLength || 0);C=(null !== (D=null === C || void 0 === C?void 0:C.n2) && void 0 !== D?D:0) - (null !== (F=null === C || void 0 === C?void 0:C.o2) && void 0 !== F?F:0);return (G?E.byteLength:C) + B;}z=this.SH[v.v.X];A=this.SH[v.v.fa];return {videoToAppend:z.Uk.reduce(x,0),videoInBuffer:z.$u.reduce(y,0),audioToAppend:A.Uk.reduce(x,0),audioInBuffer:A.$u.reduce(y,0)};};c.prototype.cSb=function(){this.audio.yi && !this.audio.yi.qh() && (!1,this.audio.yi.IQa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.R_b=function(){this.audio.Bva=!0;this.video.Bva=!0;};c.prototype.Y_b=function(y){y === v.v.fa?this.zR=!0:y === v.v.X && (this.LX=!0);};c.prototype.qh=function(){var y,x;return !(null === (y=this.audio.yi) || void 0 === y || !y.qh()) || !(null === (x=this.video.yi) || void 0 === x || !x.qh());};c.prototype.D9=function(y){var x,z;null === (x=this.audio.yi) || void 0 === x?void 0:x.D9(y);null === (z=this.video.yi) || void 0 === z?void 0:z.D9(y);};c.prototype.Jrb=function(y){var x;y.mediaType === v.v.fa?this.zR=!1:y.mediaType === v.v.X && (this.LX=!1);x=this.SH[y.mediaType];x?x.Uk.push(y):(0,g.na)(!1);};c.prototype.Irb=function(y,x,z){var A;A=this;x=this.RRa(y.mediaType,x,z);if(!this.tla)if(y.mediaType === v.v.X)(this.RVb(y),this.tla=!0,this.hsa.forEach(function(B){return A.dha(B);}),this.hsa=[]);else {this.hsa.push(x);return;}this.dha(x);};c.prototype.dha=function(y){var x;x=this.SH[y.mediaType];x?x.Uk.push(y):(0,g.na)(!1);};c.prototype.RRa=function(y,x,z){return {mediaType:y,Ws:!1,response:x,fk:function(){return "header";},get Me() {return !this.Ws;},profile:z.profile};};c.prototype.RVb=function(y){(0,g.na)(!!y.yab,"startOfSegment properties need to be set before first header is appended");this.tla || !k.config.aFb || !this.j.d5() && !this.j.vL() || y.yab.l1a || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),y=this.kc.decode(h.jza),this.dha(this.RRa(v.v.X,y,{profile:t.H.YC})));};c.prototype.V_b=function(y){var x;x=this.SH[y.type];if(x)try{x.yi=y;}catch(z){this.od(d.U.Zca,{xa:(0,p.A4)(y.type),Jb:(0,n.ue)(z)});}};c.prototype.close=function(){this.$=this.Pb=void 0;this.closed=!0;};c.prototype.od=function(y,x,z){this.closed || this.j.od(y,x,z);};c.prototype.Lja=function(y){return this.tVa(this.audio,y,this.Y2()) && this.tVa(this.video,y,this.Y2());};c.prototype.Y2=function(){return this.j.lb.value === m.bb.Gf?this.bC:this.d7;};c.prototype.m3b=function(){var y,x;y=this.video.Uk.filter(function(z){return !z.Me;}).reduce(function(z,A){return z + A.eF;},0);x=this.audio.Uk.filter(function(z){return !z.Me;}).reduce(function(z,A){return z + A.eF;},0);return Math.min(y,x);};c.prototype.tVa=function(y,x,z){var A;A=y.Mja;A=A && A.U6;return !y.yi || 0 === y.Uk.length && (y.type === f.Sj.audio && this.zR || y.type === f.Sj.video && this.LX)?!0:A && A.nC - x >= z || !1;};c.prototype.ocb=function(y){this.w2b || (this.ncb(this.audio,y),this.ncb(this.video,y));this.closed || this.wSa();};c.prototype.wSa=function(){var y,x,z,A,B,C;A=!this.audio.yi || 0 !== this.audio.$u.length;B=0 === this.video.Uk.length && this.LX;C=!this.video.yi || 0 !== this.video.$u.length;!(0 === this.audio.Uk.length && this.zR && C || B && A) || (null === (y=this.audio.yi) || void 0 === y?0:y.qh()) || (null === (x=this.video.yi) || void 0 === x?0:x.qh()) || this.zka || !(this.$.readyState > u.om.bP.HAVE_NOTHING) || this.Zi.U5 || (this.zka=!0,null === (z=this.Pb) || void 0 === z?void 0:z.endOfStream());};c.prototype.ncb=function(y,x){var z,A,B,C;if(!this.closed && y.yi){A=y.yi;B=y.$u;!A.qh() && 0 < B.length && (y.Mja=B[B.length - 1]);if(y.Bva){if(A.qh())return;y.Bva=!1;C=null === (z=this.Pb) || void 0 === z?void 0:z.oZa().m7a(q.sm);C && 0 < C && A.remove(0,C);}for(z=y.Uk[0];z && z.response && (z.Me || z.UM - x <= this.sy);){if((this.zka=!1,this.Y3b(z)))(y.Uk.shift(),z=y.Uk[0]);else break;}!A.qh() && 0 < B.length && (y.Mja=B[B.length - 1]);}};c.prototype.Y3b=function(y){var x,z,A;!1;(0,g.na)(y && !!y.response);x=y.response;z=y.mediaType;A=this.SH[z];if(!this.closed && A.yi && !A.yi.qh()){try{y.Me && y.profile && A.yi.Yub(y.profile);this.log.trace("Feeding media segment to decoder",{Bytes:x.byteLength});A.yi.IQa(x,y);y.Me || A.$u.push(this.Dyb(y));}catch(B){"QuotaExceededError" === B.name?(this.j.a3=this.j.a3?this.j.a3 + 1:1,this.uRa=!1,A.EM=!0):(this.log.error("Exception while appending media",y,B),this.od("CodecSwitchingError" === B.name?d.U.OHa:d.U.Hkb,(0,p.A4)(z)));return;}return !0;}};c.prototype.wyb=function(y){var x;if(w.bea[y.Sb])return w.bea[y.Sb];x=this.j.z_a(y.Lc);x || (this.log.warn("Could not find CDN",{cdnId:y.Lc}),x={id:y.Lc,X2a:y.location});return x;};c.prototype.kUa=function(y){var x,z;x=y.Sb;if(w.cea[x])return w.cea[x];y.mediaType === v.v.fa?z=this.j.v_a(x):y.mediaType === v.v.X && (z=this.j.K_a(x));z || this.log.error("Could not find stream",{stream:x});return z;};c.prototype.Dyb=function(y){var x;x=this.kUa(y);return {U6:y,stream:x,fK:{startTime:Math.floor(y.UM),endTime:Math.floor(y.nC)},Bc:this.wyb(y)};};c.prototype.sia=function(y){this.CSa(y,v.v.fa);this.CSa(y,v.v.X);};c.prototype.CSa=function(y,x){var z,A,B,C,D,F,G,E,J;z=this;A=y;this.uRa && (A-=k.config.hua);B=this.SH[x];C=B.$u;G=!1;C.some(function(L,N){var I;I=L.U6;if(y < I.UM)return ((0,g.na)(!1,"decoder content does not contain media time"),!0);A >= I.nC && (D=N);if(y < I.nC)return (F=N,N=x === v.v.fa?z.j.pf:z.j.Td,L !== N.value && (N.set(L),G=!0),!0);});if((B.EM || G) && void 0 !== D && !this.zka){if(D + 1 === F){if(0 === D)return;D--;}E=C[D].U6.nC - 1;if(0 < E){J=B.yi;J && !J.qh()?(J.remove(0,E / h.Lr),B.EM=!1,C.splice(0,D + 1)):(B.EM=!0,!1);}}};c.prototype.i9a=function(){!1;[this.audio,this.video].forEach(function(y){y.$u=[];y.Mja=void 0;y.Uk=[];});this.LX=this.zR=!1;this.j.fireEvent(m.ea.P6);};c.prototype.lna=function(){return [this.audio,this.video].filter(function(y){return y.yi;});};c.prototype.wGb=function(){var y,x;if(this.qh())(0,g.na)(!1,"should not be busy while checking buffer ranges");else {y=this.lna().map(function(z){var A,B,C,D,F;D=z.Uk.filter(function(G){return G.Ws;});F=z.yi.buffered();z=F.length?Math.ceil(1E3 * F.start(0)):void 0;F=F.length?Math.floor(1E3 * F.end(F.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (A=D[0]) || void 0 === A?void 0:A.UM;A=null !== (C=null === (B=D[D.length - 1]) || void 0 === B?void 0:B.nC) && void 0 !== C?C:F;if(void 0 !== z && void 0 !== A)return {start:z,end:A};});if(y.every(function(z){return z;})){x=Math.max.apply(Math,da(y.map(function(z){return z.start;})));y=Math.min.apply(Math,da(y.map(function(z){return z.end;})));if(y > x)return {start:(0,q.Kb)(x),end:(0,q.Kb)(y)};}}};c.prototype.skip=function(y){(0,g.na)(!this.qh(),"should not be busy while skipping");this.lna().forEach(function(x){x.EM=!0;});this.sia(y);this.lna().forEach(function(x){0 < x.$u.length || (x.Uk=x.Uk.filter(function(z){return z.Me || z.nC > y?!0:!1;}));});};b.eGa=c;},66602:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bca="MediaElementHelpersSymbol";},50743:function(r,b,a){var k,f,l;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.lGa=void 0;r=a(70655);k=a(17244);f=a(7942);a=a(86700);c.prototype.Ls=function(){return this.xMb()?f.IBa:(/widevine/i).test(this.config().Tl)?f.rba:(/fps/i).test(this.config().Tl)?"fairplay":f.LY;};c.prototype.xMb=function(){return (/clearkey/i).test(this.config().Tl);};l=c;l=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(k.ac))],l);b.lGa=l;},31978:function(r,b,a){var f,l,d,g,n,h,m,p,q,u,t,w;function c(v){v=Error.call(this,v);this.message=v.message;("stack" in v) && (this.stack=v.stack);this.name="CodecSwitchingError";}function k(v,y,x,z){var A,B;A=this;this.j=v;this.type=y;this.log=z;this.B0=new d.Gb(!1);this.LD={data:[],state:"",operation:""};this.mimeType=this.JWa((this.type === w.v.X?this.j.Mg.value:this.j.tc.value).streams);this.Uj=new g.Rj();this.Efa={Type:this.type};if(l.config.KB){B=!0;this.sla=new d.Gb(!1);}this.log.trace("Adding source buffer",this.Efa,{TypeId:this.mimeType});this.Nc=x.addSourceBuffer(this.mimeType);this.Nc.addEventListener("updatestart",function(){!1;A.LD.state="updatestart";});this.Nc.addEventListener("update",function(){!1;A.LD.state="update";});this.Nc.addEventListener("updateend",function(){var C;!1;A.B0.set(!1);A.tNa && A.tNa();A.LD.state="updateend";C=0;try{C=A.Nc.buffered.length;}catch(D){}B && C && (B=!1,A.sla.set(!0),!1);});this.Nc.addEventListener("error",function(C){var D;!1;try{D=C.target.error && C.target.error.message;(C.message || D) && z.error("error event received on sourcebuffer",{mediaErrorMessage:C.message});}catch(F){}v.od(h.U.Ikb,(0,f.A4)(A.type));});this.Nc.addEventListener("abort",function(){!1;});v.addEventListener(q.ea.closed,function(){A.Nc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.mgb=b.Cca=void 0;f=a(11102);l=a(37986);d=a(14414);g=a(59883);n=a(89082);a(5690);h=a(68172);a(2467);m=a(70633);p=a(95919);q=a(34202);u=a(50563);t=a(35001);w=a(18920);k.prototype.qh=function(){return this.B0.value;};k.prototype.updating=function(){return this.Nc?this.Nc.updating:!1;};k.prototype.D9=function(v){this.tNa=v;};k.prototype.bma=function(){return this.LD;};k.prototype.buffered=function(){return this.Nc.buffered;};k.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};k.prototype.toJSON=function(){return {type:this.type};};k.prototype.Yla=function(){var v,z,A;try{v=this.Nc.buffered;if(v){for(var y=[],x=0;x < v.length;x++){z=1E3 * v.start(x);A=1E3 * v.end(x);(0,m.na)(A > z);y.push({start:z,end:A});}return y;}}catch(B){}};k.prototype.n4=function(){var v,y;v=this.Yla();if(v){v=v.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});y=v.reduce(function(x,z){return x + z.end - z.start;},0);v=v.map(function(x){return x.start + "-" + x.end;});return {Buffered:y.toFixed(3),Ranges:v.join("|")};}};k.prototype.IQa=function(v,y){!1;try{(0,m.na)(this.Nc.buffered && 1 >= this.Nc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.n4()));}catch(x){}(0,m.na)(!this.qh());this.T$a("append",v);y=y && y.F8 / 1E3;(0,p.tb)(y) && this.Nc.timestampOffset !== y && (!1,this.Nc.timestampOffset=y);this.Nc.appendBuffer(v);!1;this.B0.set(!0);};k.prototype.remove=function(v,y){(0,m.na)(!this.qh());try{this.T$a("remove");!1;this.Nc.remove(v,y);this.B0.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.Efa);}};k.prototype.T$a=function(v,y){this.LD.data=y || [];this.LD.state="init";this.LD.operation=v;};k.prototype.b0b=function(v,y){this.XNb=v / y * 1E3;};k.prototype.Yub=function(v){var y;if(this.Nc){if((v=this.JWa([{type:this.Dwb,Md:v}]),v !== this.mimeType)){y=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v);if(!this.Nc.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Nc.changeType(v);this.mimeType=v;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.Efa,{From:y,To:v}),new c(x.message));}}}else this.log.info("No SourceBuffer");};k.prototype.appendBuffer=function(v,y){!y || y.Me?this.cha(v,y):this.eha(v,y);return !0;};k.prototype.cha=function(v,y){this.j.je.cha(this,v,y || ({}));};k.prototype.eha=function(v,y){v=this.xwb(v,y);!1;this.j.je.eha(v);};k.prototype.xwb=function(v,y){var x;x=this.XNb || 0;return {Cvb:function(){this.response=void 0;},fk:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:t.pc.jc.DONE,UM:y.ab,nC:y.ab + y.duration,eF:y.duration,F8:x,ws:y.ws,I:y.I,Sb:y.Sb,Lc:+y.Lc,location:y.location,o2:y.offset,n2:y.offset + y.Ba - 1,bitrate:y.bitrate,response:v,yKb:v && 0 < v.byteLength,Ws:!0,get Me() {return !this.Ws;},U9a:this.jj - Math.floor(x) || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.I,isHeader:this.Me,ptsStart:this.UM,ptsOffset:this.F8,responseType:this.abc,duration:this.eF,readystate:this.pg};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};k.prototype.endOfStream=function(){var v;this.j.rE("EndOfStream");null === (v=this.j.je) || void 0 === v?void 0:v.C7(this.mediaType);};k.prototype.xab=function(v){this.zpb=v;};k.prototype.addEventListener=function(v,y,x){this.Uj.addListener(v,y,x);};k.prototype.removeEventListener=function(v,y){this.Uj.removeListener(v,y);};k.prototype.JWa=function(v){var y;y=n.za.get(u.QP);return this.type === w.v.X?y.T2(v):y.N2(v);};Wa.Object.defineProperties(k.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},yab:{configurable:!0,enumerable:!0,get:function(){return this.zpb;}},Dwb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.Cca=k;ia(c,Error);b.mgb=c;},37021:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L,N,I,O;function c(K){var H;H=this;this.j=K;this.Pb=this.j.Pb;this.log=(0,h.Gh)(this.j,"MediaPresenterASE");this.s7=this.Z2=0;this.$=this.Pb.$;this.Cy=new I.OMa(this.$,this.j);this.qab=this.Q6a=this.F6a=this.V5=this.wsa=!1;this.s6=new Set();this.z2b=h.za.get(B.yD)((0,A.Kb)(x.C_));this.TJ=void 0;this.Zi=h.za.get(D.aLa)(this.j);this.dw={};this.d4a={};this.zT={};this.zg=new G.eGa(this.j,this.Zi);this.x2b=function(){var M,R,Y;H.j.cX=(0,n.Dn)();if(!H.Sl() && H.uB){M=H.Pb.UZa();M || (H.wUb(),H.zg.ocb(H.mediaTime));H.j.paused.value || !H.zg.Lja(H.mediaTime) || !H.Tha() || M || H.Zi.U5?H.tua():H.wsa || H.uua();H.vUb();if(!H.Pb.UZa() && !H.V5){M=H.Pb.eL(!0);R=H.j.lb.value;Y=H.nwb();R !== Y && !1;Y === v.bb.aq?(H.mediaTime=H.j.Hp.ba(A.oa),H.tua()):Y !== v.bb.Gf && H.L4b(M);H.Vcb();H.zg.sia(H.mediaTime);H.j.lb.set(Y);Y !== v.bb.Gf || R !== v.bb.me && R !== v.bb.Vh || H.Bra();}}};this.il=(0,F.N7a)(this.x2b);this.mediaTime=K.ab;this.j.Ch=!1;this.Pb.addEventListener(z.dj.pab,function(){H.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");H.qab=!0;try{H.va();}catch(M){H.log.error("Exception while initializing",M);H.od(m.U.vkb);}});this.Pb.addEventListener(z.dj.G2a,function(M){M=M.J;H.qab?H.J5a(M):H.s6.add(M);});}Object.defineProperty(b,"__esModule",{value:!0});b.uGa=void 0;k=a(7942);f=a(37986);l=a(58680);d=a(25892);g=a(24133);n=a(61831);h=a(89082);a(5690);m=a(68172);p=a(27017);q=a(70633);u=a(19591);t=a(30818);w=a(66052);v=a(34202);y=a(95919);x=a(11102);z=a(99230);A=a(2467);B=a(74509);C=a(92513);D=a(62155);F=a(58875);G=a(4985);E=a(86393);J=a(26984);L=a(50876);N=a(18920);I=a(84258);O=a(3971);c.prototype.MWb=function(K){var H,M,R;H=this;if(this.Cy.paused){M=Math.ceil(K.ULb);R=function(Y){H.Zi.Dy?H.Zi.Dy.time=Y:H.g4a=Y;};M > (this.Zi.Dy?this.Zi.Dy.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",M),R(M));K.Gla && (this.log.trace("ptsChanged forcedTimestamp",K.Gla),R(K.Gla));}else this.log.error("Unexpected setMediaTime while not paused, ignoring");};c.prototype.GYa=function(){return this.Pb.eL(!1);};c.prototype.v4=function(){return this.Pb.v4();};c.prototype.jv=function(){return this.Pb.jv();};c.prototype.wF=function(){return this.Pb.wF();};c.prototype.bT=function(){return this.Pb.bT();};c.prototype.va=function(){var K;K=this;this.log.trace("Video element initializing");this.Pb.sourceBuffers.forEach(function(H){return K.zg.V_b(H);});this.OLb(this.j.aG);};c.prototype.OLb=function(K){var H,M;H=this;K?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.O}),null === (M=this.j.Za) || void 0 === M?void 0:M.v3(this.j.O));0 < this.s6.size && setTimeout(function(){H.log.trace("Notifying about licenses that were added before source buffers created");Array.from(H.s6).forEach(function(R){H.s6.delete(R);H.J5a(R);});},0);this.log.trace("Waiting for loadedmetadata");(0,g.kQa)(this.$,"loadedmetadata",function(){H.log.trace("Video element event: loadedmetadata");H.j.ke("md");});d.he.addListener(d.Nk,this.zT[d.Nk]=function(){return H.close();},k.KI);this.j.addEventListener(v.ea.tg,function(){return H.close();},k.KI);this.j.addEventListener(v.ea.F9a,function(){return H.uua();});this.j.addEventListener(v.ea.lG,function(){return H.VSb();});this.j.paused.addListener(function(){return H.il();});this.j.muted.addListener(function(){return H.kxa();});this.j.volume.addListener(function(){return H.kxa();});this.j.playbackRate.addListener(function(){return H.hO();});this.j.sq.addListener(function(){return H.il();});this.j.fm.addListener(function(){return H.il();});this.kxa();this.hO();this.zg.D9(function(){return H.Q6();});this.Q6();this.R3b();};c.prototype.J5a=function(K){var H;this.j.ke("ld",K);null === (H=this.j.Za) || void 0 === H?void 0:H.v3(K);this.j.fireEvent(v.ea.D2a);};c.prototype.eha=function(K){var H;H=this;!1;this.zg.Jrb(K);this.Xub(K).then(function(){H.Q6();H.j.fireEvent(v.ea.P6);}).catch(function(M){H.od(m.U.zkb,{Jb:(0,t.ue)(M)});});};c.prototype.cha=function(K,H,M){M=void 0 === M?{}:M;H=this.WBb(K,H);this.zg.Irb(K,H,M);this.Q6();this.F6a || K.type !== N.v.X || (this.Zi.U5 || this.seek(this.j.ab,v.Xc.Jr),this.F6a=!0);};c.prototype.R3b=function(){var K;K=this;this.Pb.addEventListener(z.dj.tW,this.dw[z.dj.tW]=function(){return K.kTb();});this.Pb.addEventListener(z.dj.Gn,this.dw[z.dj.Gn]=function(){return K.L7();});this.$.addEventListener("ended",this.dw.ended=function(){return K.PSb();});this.$.addEventListener("play",this.dw.play=function(){return K.xra();});this.$.addEventListener("pause",this.dw.pause=function(){return K.wra();});this.$.addEventListener("playing",this.dw.playing=function(){return K.zra();});this.uB=!0;this.zg.ocb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.ke("vi");f.config.$Ua?setTimeout(function(){K.jra=!0;K.il();},f.config.$Ua):this.jra=!0;this.r1b();this.j.cd.ha && this.s1b();(0,w.Mf)(function(){return K.il();});};c.prototype.r1b=function(){var M;function K(){var R;M.j.lb.value !== v.bb.me || 0 !== (null === (R=M.j.je) || void 0 === R?void 0:R.v4()) || L.Og.hidden?(M.g5a.Tp(),R="stopTimer"):(M.g5a.VA(),R="ensureTimer");M.log.trace("No render timer update: " + R,{presentingState:v.bb[M.j.lb.value],hidden:L.Og.hidden});}function H(R){var Y,ea;R=void 0 === R?!0:R;Y=M.j.Za;ea=(null === Y || void 0 === Y?void 0:Y.Ah) && Y.C_a();M.j.lb.value == v.bb.Gf && M.j.state.value == v.Tb.$d && M.j.sq.value == v.sf.$d && M.j.fm.value == v.sf.$d && !M.j.Ch && ea?(R && M.b3.Tp(),M.b3.VA(),Y="ensureTimer"):(M.b3.Tp(),Y="stopTimer");M.log.trace("Timer update: " + Y,{presentingState:v.bb[M.j.lb.value],playbackState:v.Tb[M.j.state.value],avBufferingState:v.sf[M.j.sq.value],textBufferingState:v.sf[M.j.fm.value],autoplayWasBlocked:M.j.Ch,hasLicense:ea,restartTimer:R});}M=this;f.config.LUa && ((0,q.na)(!this.b3),this.b3=h.za.get(C.SP)(f.config.LUa,function(){var R;R=h.za.get(p.lba).kVa(M.j);M.od(R.code,R);}),this.j.lb.addListener(function(){return H();}),this.j.sq.addListener(function(){return H();}),this.j.fm.addListener(function(){return H();}),this.j.state.addListener(function(){return H();}),this.j.addEventListener(v.ea.D2a,function(){return H();}),this.j.addEventListener(v.ea.Ch,function(){return H();}),this.j.addEventListener(v.ea.xha,function(){return H();}),this.j.addEventListener(v.ea.sC,function(){return H(!0);}),H());f.config.f5a && (this.g5a=h.za.get(C.SP)(f.config.f5a,function(){var R;0 === (null === (R=M.j.je) || void 0 === R?void 0:R.jv()) && (R=h.za.get(p.lba).kVa(M.j),M.od(R.code,R));M.j.lb.removeListener(K);d.he.removeListener(d.Kq,M.zT[d.Kq]);}),this.j.lb.addListener(K),d.he.addListener(d.Kq,this.zT[d.Kq]=K),K());};c.prototype.s1b=function(){var M;function K(){var R,Y,ea,ca;M.yxa.Tp();ea=M.Pb.sourceBuffers.find(function(oa){return oa.mediaType === N.v.X;});ea=null !== (R=null === ea || void 0 === ea?void 0:ea.Yla()) && void 0 !== R?R:[];if(1 < ea.length){ca=M.j.lb.value == v.bb.me;R=(null === (Y=M.$) || void 0 === Y?void 0:Y.readyState) === O.om.bP.HAVE_CURRENT_DATA;Y=H(ea,M.mediaTime);ca && R && Y?(M.yxa.VA(),ca="ensureTimer"):ca="stopTimer";M.log.trace("Video Gaps Monitor Timer update: " + ca,{presentingState:v.bb[M.j.lb.value],mediaTime:M.mediaTime,bufferedRanges:JSON.stringify(ea),nextRange:JSON.stringify(Y),readyStateIsStalled:R});}}function H(R,Y){R=ma(R);for(var ea=R.next();!ea.done;ea=R.next()){if((ea=ea.value,ea.start >= Y))return ea;}}M=this;f.config.Gdb && ((0,q.na)(!this.yxa),this.yxa=h.za.get(C.SP)(f.config.Gdb,function(){var R,Y;Y=M.Pb.sourceBuffers.find(function(ea){return ea.mediaType === N.v.X;});Y=null !== (R=null === Y || void 0 === Y?void 0:Y.Yla()) && void 0 !== R?R:[];if(R=H(Y,M.mediaTime))(M.log.error("Detected media gaps: seeking over gap",{seekPoint:R.start,ranges:JSON.stringify(Y)}),M.seek(R.start,v.Xc.Mw));}),this.j.lb.addListener(function(){return K();}),this.j.mediaTime.addListener(function(){return K();}),K());};c.prototype.WBb=function(K,H){var M;M=this.j.ee;(M=(0,J.xoa)(M)?M.gL():void 0) && K.type === N.v.X && ((K=new E.aca(this.log,{mediaType:N.v.X,url:"http://some-url"},H).Ha(M))?H=K:!1);return H;};c.prototype.Q6=function(){this.uB && this.il();this.zg.wSa();};c.prototype.z1b=function(){!1;this.j.lb.set(v.bb.Gf);this.V5=!0;this.il();};c.prototype.lwb=function(){var K;K=this;this.V5 && (!1,this.V5=!1,(0,w.Mf)(function(){return K.seek(K.j.gB() || 0,v.Xc.M_);}));};c.prototype.m4=function(){return this.zg.m4();};c.prototype.C7=function(K){var H;H=this;this.zg.Y_b(K);(0,w.Mf)(function(){return H.il();});};c.prototype.DHb=function(){return {Z2:this.Z2,s7:this.s7};};c.prototype.Xub=function(K){var H;H=this.Pb && this.Pb.oZa();(0,q.na)(this.j.Hp,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.Hp && H && (K=Infinity !== K.U9a?K.U9a + K.F8:K.nC,K > this.j.Hp.m7a(A.oa) && (this.j.Hp=(0,A.Kb)(K)));return Promise.resolve();};c.prototype.vUb=function(){var K,H;K=this;this.Zi.e8 && (!1,this.Tha() && this.zg.Lja(this.mediaTime) && (this.Pb.seek(null !== (H=this.g4a) && void 0 !== H?H:this.mediaTime),this.g4a=void 0,this.Zi.e8=!1,(0,w.Mf)(function(){return K.il();})));};c.prototype.L4b=function(K){var H;if(K < this.mediaTime){H=this.mediaTime - K;f.config.xUb && K && H > x.C_ && (K={ElementTime:(0,u.ih)(K),MediaTime:(0,u.ih)(this.mediaTime)},H > x.rKa?this.od(m.U.Jkb,{Jb:Object.assign({Trace:this.Pb.iB()},K)}):this.log.warn("VIDEO.currentTime became smaller",K));}else this.mediaTime=(0,u.Hw)(K,0,this.j.Hp.ba(A.oa));};c.prototype.Tha=function(){return this.j.sq.value === v.sf.$d && this.j.fm.value === v.sf.$d;};c.prototype.nwb=function(){var K,H,M;K=this;H=this.j.lb.value;M=H;this.Zi.U5?M=v.bb.Gf:this.$ && this.$.ended?H === v.bb.me && (M=v.bb.aq):this.Tha() && this.zg.Lja(this.mediaTime)?this.Pb.dBb()?M=this.Cy.paused?v.bb.Vh:v.bb.me:this.z2b.Hj(function(){return K.y2b();}):M=this.j.Hp?this.j.A_a(this.mediaTime,this.zg.Y2())?v.bb.Gf:v.bb.aq:v.bb.Gf;return M;};c.prototype.Bra=function(){var K;if(this.j.lb.value === v.bb.Gf){K=this.zg.m3b() > this.zg.Y2();this.j.fm.value !== v.sf.$d?this.j.Yh.value?(this.j.fireEvent(v.ea.rx,{cc:l.cJa}),this.log.warn("rebuffer due to timed text",this.j.Yh.value.yg)):this.j.fireEvent(v.ea.VN):K?(this.Z2++,this.j.fireEvent(v.ea.rx,{cc:l.oda})):(this.s7++,this.j.fireEvent(v.ea.rx,{cc:l.pda}));}};c.prototype.y2b=function(){this.Sl() || (f.config.dSb && this.zg.cSb(),this.il());};c.prototype.kTb=function(){this.il();};c.prototype.L7=function(){this.il();this.j.fireEvent(v.ea.Gn);};c.prototype.PSb=function(){this.log.trace("Video element event: ended");this.il();};c.prototype.xra=function(){this.log.trace("Video element event: play");this.il();};c.prototype.wra=function(){this.log.trace("Video element event: pause");this.Cy.wra();this.il();};c.prototype.zra=function(){this.log.trace("Video element event: playing");this.Cy.xra();this.il();};c.prototype.kxa=function(){this.Sl() || (this.$ && this.$.volume !== this.j.volume.value && (this.$.volume=this.j.volume.value),this.$ && this.$.muted !== this.j.muted.value && (this.$.muted=this.j.muted.value));};c.prototype.hO=function(){!this.Sl() && this.$ && (this.$.playbackRate=this.j.playbackRate.value);};c.prototype.uua=function(){var K;K=this;!this.Sl() && (0,y.Sc)(this.$) && !this.$.ended && this.jra && this.Cy.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.Cy.play()).then(function(){K.closed || (K.wsa=!1,K.$.style.display=null,K.j.Ch=!1,K.j.fireEvent(v.ea.xha));}).catch(function(H){"NotAllowedError" === H.name?(K.log.warn("Playback is blocked by the browser settings",H),K.j.Ch=!0,K.closed || (K.wsa=!0,K.$.style.display="none",K.j.fireEvent(v.ea.Ch,{player:{play:function(){return K.uua();}}}))):K.closed || K.Q6a || (K.Q6a=!0,K.log.error("Play promise rejected",H));}));};c.prototype.VSb=function(){this.Zi.r2a=this.j.gB() || 0;};c.prototype.tua=function(){this.Sl() || !(0,y.Sc)(this.$) || this.$.ended || !this.jra || this.Cy.paused || (this.log.trace("Calling pause on element"),this.Cy.pause());};c.prototype.Vcb=function(K){this.j.mediaTime.set(this.mediaTime);K && this.j.YEb();};c.prototype.seek=function(K,H,M,R){var Y,ea;M=void 0 === M?this.j.I:M;R=void 0 === R?!1:R;ea=null === (Y=this.j.Za) || void 0 === Y?void 0:Y.Ah;!this.Sl() && ea && (this.j.fireEvent(v.ea.sC,{cc:H}),this.Zi.Dy={time:K,cc:H,I:M,gFb:R},this.j.lb.set(v.bb.Gf),this.il());};c.prototype.wUb=function(){var K,H,M,R,Y,ea,ca,oa;if(this.Zi.Dy){K=this.Zi.Dy;H=K.time;M=K.cc;R=K.I;Y=K.gFb;if(!this.zg.qh() || M === v.Xc.Jr){K=this.j.fi(R).O;ea=this.zg.qh()?void 0:this.zg.wGb();ea=this.Zi.iIb(H,M,R,Y,ea);R=ea.u7;Y=ea.ws;ca=ea.ZUb;ea=ea.bi;this.zg.sia(this.mediaTime);oa=this.mediaTime;H=(0,u.ih)(H);this.j.rE("SEEKING: Requested: (" + K + ":" + M + ":" + H + ") - Actual: (contentPts: " + Y + ",playerPts: " + (ca + ", newMediaTime: " + R + ")"));this.log.info("Seeking",{Requested:H,Actual:(0,u.ih)(R),Cause:M,Skip:ea});M === v.Xc.Jr || ea || (this.zg.i9a(),this.zg.R_b());this.mediaTime=R;this.Zi.r2a=Y;H=this.j.pf.value;ca=this.j.Td.value;this.j.pf.set(null);this.j.Td.set(null);this.Vcb(!0);this.Zi.Dy=void 0;this.Zi.e8=!0;this.j.fireEvent(v.ea.Aj,{kra:oa,u7:R,ws:Y,cc:M,skip:ea,pf:H,Td:ca,O:K});ea && this.zg.skip(R);}}};c.prototype.od=function(K,H,M){this.closed || this.j.od(K,H,M);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.zg.close();this.Pb.removeEventListener(z.dj.tW,this.d4a[z.dj.tW]);this.Pb.removeEventListener(z.dj.Gn,this.d4a[z.dj.Gn]);this.$.removeEventListener("ended",this.dw.ended);this.$.removeEventListener("play",this.dw.play);this.$.removeEventListener("pause",this.dw.pause);this.$.removeEventListener("playing",this.dw.playing);this.Cy.close();d.he.removeListener(d.Nk,this.zT[d.Nk]);d.he.removeListener(d.Kq,this.zT[d.Kq]);this.closed=!0;try{this.$.volume=0;this.$.muted=!0;this.tua();this.Pb.close();}catch(K){}this.$=void 0;this.zg.i9a();}};c.prototype.Sl=function(){return this.closed?!0:(0,y.Sc)(this.$)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.uGa=c;},11102:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.rKa=b.C_=b.A4=void 0;c=a(18920);k=a(68172);b.A4=function(f){return f === c.v.fa?k.R.xca:k.R.yca;};b.C_=50;b.rKa=1E3;},31119:function(r,b,a){var k,f,l,d,g,n;function c(h){var m;(0,k.Si)("MediaSourceASE").trace("Inside MediaSourceASE");m=h.cIb();this.readyState=n.jc.CLOSED;this.sourceBuffers=m.sourceBuffers;this.addSourceBuffer=function(p){return m.addSourceBuffer(p);};this.Lga=function(p){return m.Lga(p);};this.removeSourceBuffer=function(p){return m.removeSourceBuffer(p);};this.Cs=function(p){return m.Cs(p);};this.duration=void 0;this.readyState=n.jc.OPEN;this.Kf=f.za.get(l.jh).UB(n.Kf,{});h=new d.EventEmitter();h.on("subtitleData",function(p){(0,g.na)(m.j.wb.value,"Unexpected AseSubtitleEvent. No current timedTextTrack.");m.j.wb.value.mta(p);});this.events=h;}Object.defineProperty(b,"__esModule",{value:!0});b.zGa=void 0;k=a(89082);f=a(89082);l=a(89682);d=a(28075);g=a(70633);Object.defineProperty(c.prototype,"duration",{get:function(){return this.jj;},set:function(h){var m;this.jj=h || Infinity;m=Math.floor(1E3 * h) || Infinity;this.sourceBuffers.forEach(function(p){p.jj=m;});}});n={jc:{CLOSED:0,OPEN:1,aq:2,name:["CLOSED","OPEN","ENDED"]},Kf:{Uvb:!0,rRb:!0}};b.zGa=Object.assign(c,n);},86343:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.cea=b.bea=void 0;r=a(41427);a={};b.bea=(a[r.qn]={id:-1,name:"hardcoded",ec:1,type:"hardcoded",X2a:"-1",SMb:!1,location:{id:"-1",ec:1,level:100,weight:1}},a);a={};b.cea=(a[r.qn]={track:{type:"padding",trackId:"padding",wh:"padding",Af:"padding",gC:"other",re:"padding",qC:"padding",VF:"padding",yg:{}},type:"padding",Ub:"-1",bitrate:1,zb:100,Md:"unknown",size:1,eka:{},yg:{},Kk:"",framerate:0,hi:!1,zi:[],height:1,width:1},a);},94181:function(r,b,a){var k,f,l;function c(d,g,n,h,m,p,q,u,t,w,v){this.track=d;this.type=g;this.Ub=n;this.bitrate=h;this.zb=m;this.size=p;this.eka=q;this.Md=u;this.framerate=t;this.hi=w;this.zi=v;this.yg={Type:g,Bitrate:h,DownloadableId:n};}Object.defineProperty(b,"__esModule",{value:!0});b.lgb=b.MediaStream=void 0;k=a(7942);f=a(95919);l=a(20736);c.prototype.toJSON=function(){return this.yg;};c.prototype.f0b=function(d,g,n,h){(0,f.Sc)(d) && (0,f.Sc)(g) && (this.width=d,this.height=g,(0,f.tb)(n) && (0,f.tb)(h) && (this.width=Math.round(n / h * d)),this.yg.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.u_b=function(d,g,n,h,m,p){(0,f.Sc)(d) && (0,f.Sc)(g) && (0,f.Sc)(n) && (0,f.Sc)(h) && (this.vja=d,this.tUa=g,this.sUa=n,this.rUa=h);(0,f.Sc)(m) && (0,f.Sc)(p) && (this.M6a=m,this.N6a=p);};b.MediaStream=c;b.lgb=function(d,g,n,h,m){if(d == k.VZ || d === l.Sj.audio)return g;if(d == k.uP || d === l.Sj.video)return n;if(d == l.Sj.Cwa)return h;if(d == l.Sj.Qwa)return m;};},20736:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sj={audio:"audio",video:"video",Cwa:"timedtext",Qwa:"trickplay"};},22528:function(r,b,a){var k,f,l,d,g,n,h;function c(m){var p,q,u,t;p=this;this.j=m;this.YR=void 0;this.Xea=(0,f.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Mea=(0,f.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Fea=(0,f.createElement)("DIV","width:100%;text-align:center");this.umb=this.Oea("Audio Bitrate");this.jga=this.Oea("Video Bitrate / VMAF");this.Jea=this.Oea("CDN");this.EQ={};this.yT=l.za.get(d.kn);this.Xea.appendChild(this.Mea);this.Mea.appendChild(this.Fea);q=(0,f.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.tmb.bind(this),!1);this.Fea.appendChild(q);q=(0,f.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.Xfa.bind(this),!1);this.Fea.appendChild(q);u=this.Job.bind(this);k.he.addListener(k.kB,u);m.addEventListener(n.ea.lG,function(){p.EQ={};});m.addEventListener(n.ea.tg,function(){k.he.removeListener(k.kB,u);});t=this.hpb.bind(this);m.Bc.forEach(function(w){w.addListener(t);});m.tc.addListener(t);m.Mg.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.rJa=void 0;k=a(25892);f=a(24133);l=a(89082);d=a(53685);g=a(50364);n=a(34202);h=a(18920);c.prototype.show=function(){this.XQ || (this.$Oa(),document.body.appendChild(this.Xea),this.XQ=!0);};c.prototype.nv=function(){this.XQ && (document.body.removeChild(this.Xea),this.XQ=!1);};c.prototype.toggle=function(){this.XQ?this.nv():this.show();};c.prototype.Gcb=function(){var q,u,t,w;function m(v,y,x){var z,A,B;A=[];y.filter(function(C){return C.Md === v;}).forEach(function(C){0 <= x.indexOf(C)?(void 0 === B?B=C.bitrate:z=C.bitrate,void 0 === z && (z=C.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(v,y,x){var z;z=[];y.filter(function(A){return A.Md === v;}).forEach(function(A){-1 === x.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}u=this.j.xs();t=this.j.jB().sort(function(v,y){return v.bitrate - y.bitrate;});w=t.reduce(function(v,y){0 > v.indexOf(y.Md) && v.push(y.Md);return v;},[]).map(function(v){return {profile:v,ranges:m(v,t,u),disallowed:p(v,t,u)};});!1;null === (q=this.j.Za) || void 0 === q?void 0:q.I9(w,this.j.O);};c.prototype.tmb=function(){var q,u;this.EQ={};for(var m=this.jga.options,p=m.length;p--;){q=m[p];q.selected && (this.EQ[q.value]=1);}this.YR=this.Jmb.bind(this);this.Gcb();if(m=this.j.sg){u=this.Jea.value;m=m.filter(function(t){return t.id == u;})[0];p=this.j.Bc[h.v.X].value;m && m != p && (m.oSa={testreason:"streammanager",selreason:"userselection"},this.j.Bc[h.v.X].set(m));}this.nv();};c.prototype.Xfa=function(){this.YR=void 0;this.j.N$a(this.j.O);this.nv();};c.prototype.Jmb=function(){var m;m=this;return this.j.jB().filter(function(p){return m.EQ[p.bitrate];});};c.prototype.$Oa=function(){var m,p,q,u;m=this;p=this.j.tc.value;q=this.j.Mg.value;u=this.j.sg;p && (u=u.slice(),u.sort(function(t,w){return t.ec - w.ec;}),this.aga(this.umb,p.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == m.j.Qg.value};})));q && (this.aga(this.jga,q.streams.map(function(t){var w,v,y;w=m.j.hM.Xy(t);v=t.bitrate;t=t.zb;y="" + v;t && (y+=" / " + t);w && (y+=" (" + w.join("|") + ")");return {value:v,caption:y,selected:m.YR?m.EQ[v]:!w};})),this.jga.removeAttribute("disabled"));u && (this.aga(this.Jea,u.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == m.j.Bc[h.v.X].value};})),this.Jea.removeAttribute("disabled"));};c.prototype.hpb=function(){this.XQ && this.$Oa();};c.prototype.Oea=function(m){var p,q;p=(0,f.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");m=(0,f.createElement)("DIV",void 0,m);q=(0,f.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(m);p.appendChild(q);this.Mea.appendChild(p);return q;};c.prototype.aga=function(m,p){m.innerHTML="";p.forEach(function(q){var u;u={title:q.caption};q.selected && (u.selected="selected");u=(0,f.createElement)("option",void 0,q.caption,u);u.value=q.value;m.appendChild(u);});};c.prototype.Job=function(m){m.ctrlKey && m.altKey && m.shiftKey && m.keyCode == g.Az.nlb && this.yT.Qoa && this.toggle();};b.rJa=c;},12062:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.jKa=void 0;c=a(89082);k=a(89927);b.jKa=(function(){(0,c.Si)("ProbeDownloader");return {TS:function(f){f={url:f.url,jWb:f};!1;k.Ie.mWb(f);}};})();},97906:function(r,b,a){var k,f,l,d,g,n,h;function c(){var m;m=new f.Rj();this.addEventListener=m.addListener.bind(this);this.removeEventListener=m.removeListener.bind(this);this.emit=m.Dc.bind(this);this.T0=n++;this.Di=(0,l.Si)("ProbeRequest");this.NOa=k.jKa;(0,d.na)(void 0 !== this.NOa);this.pg=b.fj.jc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.fj=void 0;k=a(12062);f=a(59883);l=a(89082);d=a(70633);g=a(30818);n=0;(function(){function m(){return JSON.stringify({url:this.Xf,id:this.T0,affected:this.$_,readystate:this.pg});}(0,g.Sd)(c.prototype,{rM:function(p){this.pg !== b.fj.jc.$t && this.pg !== b.fj.jc.DONE && (this.Z0=p,p={url:this.Xf,affected:this.$_,probed:{requestId:this.T0,url:this.Xf,Lc:this.SQ,groupId:this.x0}},200 <= this.Z0 && 299 >= this.Z0?(this.pg=b.fj.jc.DONE,this.emit(b.fj.Bk.FP,p)):(this.pg=b.fj.jc.$t,this.emit(b.fj.Bk.Hz,p)));},bra:function(p){this.pg !== b.fj.jc.$t && this.pg !== b.fj.jc.DONE && (this.Z0=p,p={url:this.Xf,affected:this.$_,probed:{requestId:this.T0,url:this.Xf,Lc:this.SQ,groupId:this.x0}},this.pg=b.fj.jc.$t,this.emit(b.fj.Bk.Hz,p));},open:function(p,q,u){if(!p)return (!1,!1);this.Xf=p;this.$_=q;this.SQ=u;this.pg=b.fj.jc.OPENED;this.NOa.TS(this);this.pg=b.fj.jc.ou;return !0;},de:function(){!1;return !0;},fk:function(){return this.T0;},toString:m,toJSON:m});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.pg;}},status:{get:function(){return this.Z0;}},url:{get:function(){return this.Xf;}},jbc:{get:function(){return this.$_;}}});})();(function(m){m.Bk={FP:"pr0",Hz:"pr1"};m.jc={UNSENT:0,OPENED:1,ou:2,DONE:3,$t:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(h || (h={}));b.fj=Object.assign(c,h);},75412:function(r,b,a){var c,k,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(37986);k=a(7942);r=a(68172);f=a(89082);l=a(65872);a=a(60634);f.za.get(a.Th).register(r.U.XDa,function(d){c.config.KFb && f.za.get(l.MCa).start();d(k.ig);});},84258:function(r,b){function a(c,k){this.j=k;this.LG=!0;this.u$=!1;this.$=c;}Object.defineProperty(b,"__esModule",{value:!0});b.OMa=void 0;a.prototype.xra=function(){this.LG && (this.LG=!1,this.j.paused.set(!1));};a.prototype.wra=function(){this.LG || (this.LG=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var c;this.paused || (this.LG=!0,null === (c=this.$) || void 0 === c?void 0:c.pause());};a.prototype.play=function(){var c,k;c=this;return this.paused && !this.u$?(this.u$=!0,Promise.resolve(null === (k=this.$) || void 0 === k?void 0:k.play()).then(function(){c.u$=!1;}).catch(function(f){var l;c.u$=!1;c.LG=!(null === (l=c.$) || void 0 === l || !l.paused);throw f;})):Promise.resolve();};a.prototype.close=function(){this.$=void 0;};Wa.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.LG;}}});b.OMa=a;},82134:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Xo=b.efb=void 0;b.efb=a;b.Xo=new a();},54415:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z;Object.defineProperty(b,"__esModule",{value:!0});c=a(70655);k=a(91854);f=a(44744);l=a(97906);d=a(31978);g=a(37986);n=a(7942);h=a(49090);m=a(31119);p=a(61831);r=a(68172);q=a(89082);u=a(51943);t=a(50876);w=a(84853);b=a(60634);v=a(58680);y=a(82134);x=a(31224);z=a(53484);q.za.get(b.Th).register(r.U.VDa,function(A){var B,C,D,F,G,E,J,L,N;B=q.za.get(u.bHa).czb();C=q.za.get(h.pba).qI;D=q.za.get(f.wGa).cq;F=q.za.get(x.fh);G=q.za.get(z.iq);E={i8:(0,q.VS)("ASE"),Vrb:(0,q.VS)("JS-ASE",void 0,"Platform"),Si:q.VS,storage:w.storage,oIb:t.aBa,getTime:p.Dn,X2:function(I){return F.decode(I).buffer;},Kja:function(I){return G.encode(I);},UL:{},cq:D,fj:l.fj,qI:C,MediaSource:m.zGa,SourceBuffer:d.Cca,iT:function(){return [g.config.L1,g.config.O1];},xs:function(I){v.sn.forEach(function(O){O.N$a(I);});}};C=new Promise(function(I){w.storage.load("nh",function(O){E.UL.nh=O.ia?O.data:void 0;I();});});D=new Promise(function(I){w.storage.load("lh",function(O){E.UL.lh=O.ia?O.data:void 0;I();});});J=new Promise(function(I){w.storage.load("gh",function(O){E.UL.gh=O.ia?O.data:void 0;I();});});L=new Promise(function(I){w.storage.load("sth",function(O){E.UL.sth=O.ia?O.data:void 0;I();});});N=new Promise(function(I){w.storage.load("vb",function(O){E.UL.vb=O.ia?O.data:void 0;I();});});Promise.all([C,D,N,L,J]).then(function(){return c.__awaiter(this,void 0,void 0,function O(){var K,H;return Ia(O,function(M){if(1 == M.Av)return (K=a(20401)(E),y.Xo.$h=a(69208),y.Xo.$h.declare(k.Lf),y.Xo.$h.set(a(33888)(g.config),!0,(0,q.VS)("ASE")),La(M,k.mL(K),2));H=M.WX;H.open(y.Xo.$h,B);H.s_b({audio:g.config.L1,video:g.config.O1},{G:g.config.hua,Ba:void 0});y.Xo.Rh=H;A(n.ig);M.Av=0;});});}).catch(function(I){E.i8.error("Exception loading location history from local storage",I);});});},16512:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.fJa=void 0;c=a(7942);k=a(37986);f=a(61831);l=a(19591);d=a(50876);g=a(66052);n=a(95919);h=a(34202);b.fJa=function(m){var t,w,v,y,x,z;function p(){return m.state.value === h.Tb.LOADING || m.state.value === h.Tb.$d && m.lb.value === h.bb.Gf;}function q(){p()?z || (z=setInterval(u,100)):z && (clearInterval(z),z=void 0,(0,g.Mf)(u));}function u(){var A,B,C,D,F,G,E,J;A=(0,f.Dn)();B=t.value;C=B?B.progress:0;D=m.state.value == h.Tb.LOADING || p() && A - w > k.config.Stb;if(D && m.state.value == h.Tb.$d){if(m.ff.value === h.sf.QKa)(F=C,G=!0);else {E=A;v=v || A;y=y || v + k.config.NQb + 1;(0,n.tb)(E) && (E=(0,d.Mr)(E,y),F=(0,d.nn)(1E3 * (0,l.Hw)((A - v) / (E - v),0,.99)) / 1E3);}if(F < C)if(C - F < k.config.HWb / 100)(F=C,x=void 0);else if(x){if(A - x > k.config.GWb){J=!0;x=void 0;}else F=C;}else (x=A,F=C);}else x=y=v=void 0;A=D?{sr:G,progress:F,IWb:J}:null;(!A || !t || !B || (0,n.tb)(A.progress) && !(0,n.tb)(B.progress) || (0,n.tb)(A.progress) && (0,n.tb)(B.progress) && .01 < (0,d.WZ)(A.progress - B.progress) || A.sr !== B.sr) && t.set(A);}t=m.Wha;w=0;m.state.addListener(function(){q();u();},c.Qca);m.lb.addListener(function(A){if(A.oldValue !== h.bb.Gf || A.newValue !== h.bb.Gf)w=(0,f.Dn)();q();});m.ff.addListener(function(){q();});m.sq.addListener(function(){q();});m.fm.addListener(function(){q();});z || (z=setInterval(u,100));};},58680:function(r,b,a){var k,f;function c(l,d){var g;g=b.sn[0];g == d && (g=b.sn[1]);g?g.close(function(){c(l,d);}):l && l(k.ig);}Object.defineProperty(b,"__esModule",{value:!0});b.eJa=b.cJa=b.oda=b.pda=b.Iz=b.qda=b.dJa=b.tda=b.sda=b.sn=b.gJa=b.rda=void 0;k=a(7942);f=a(70633);b.rda=c;b.gJa=function(l,d){switch(l){case b.dJa:b.sda.push(d);return;case b.qda:b.tda.push(d);return;}(0,f.na)(!1);};b.sn=[];b.sda=[];b.tda=[];b.dJa=1;b.qda=3;b.Iz={index:0,L4a:void 0,vla:void 0};b.pda="network";b.oda="media";b.cJa="timedtext";b.eJa="playback";},6538:function(r,b,a){var c,k,f,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(37986);k=a(7942);r=a(68172);f=a(89082);b=a(60634);l=a(76820);f.za.get(b.Th).register(r.U.bEa,function(g){var n,h,m;if(c.config.fr){n=(0,f.Si)("PlayerPredictionModel");h=f.za.get(l.BD);m=a(92997);n.log=n.trace.bind(n);d=new m({},n,{eW:function(){},qYb:function(){}},h,{UG:function(){}});pb._cad_global.playerPredictionModel=d;n.info("ppm v2 initialized");}g(k.ig);});},50876:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tpa=b.localStorage=b.FLb=b.indexedDB=b.TGa=b.hp=b.Fz=b.Ez=b.URL=b.d_=b.Cjb=b.dGa=b.cGa=b.WZ=b.XZ=b.Cw=b.Mr=b.nn=b.tjb=b.GI=b.PLa=b.aBa=b.Qjb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.lx=b.Bjb=b.Og=b.hu=b.UGa=b.iu=b.c_=b.pD=void 0;r=pb;b.Ae=r.navigator;b.pD=null === b.Ae || void 0 === b.Ae?void 0:b.Ae.userAgent;b.c_=r.location;b.iu=r.screen;b.UGa=r.devicePixelRatio;b.hu=r.performance;b.Og=r.document;b.Bjb=b.Og.documentElement;b.lx=Array.prototype;b.sort=b.lx.sort;b.map=b.lx.map;b.slice=b.lx.slice;b.every=b.lx.every;b.reduce=b.lx.reduce;b.filter=b.lx.filter;b.forEach=b.lx.forEach;b.pop=b.lx.pop;b.Qjb=Object.create;b.aBa=Date.now;b.PLa=String.fromCharCode;b.GI=Math.floor;b.tjb=Math.ceil;b.nn=Math.round;b.Mr=Math.max;b.Cw=Math.min;b.XZ=Math.random;b.WZ=Math.abs;b.cGa=Math.pow;b.dGa=Math.sqrt;b.Cjb=r.escape;b.d_=r.unescape;b.URL=r.URL || r.webkitURL;b.Ez=r.MediaSource || r.WebKitMediaSource;b.Fz=r.webkitCrypto || r.msCrypto || r.crypto;b.hp=b.Fz && (b.Fz.webkitSubtle || b.Fz.subtle);b.TGa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.FLb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.tpa=a || "noex";}},84853:function(r,b,a){var c,k,f,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(37986);k=a(7942);f=a(54779);r=a(68172);l=a(83637);d=a(66652);g=a(89082);a=a(60634);b.storage=b.storage || void 0;g.za.get(a.Th).register(r.U.cEa,function(n){var h;switch(c.config.G1b){case "idb":h=l.Iab;break;case "none":h=f.Kab;break;case "ls":h=d.Jab;}h(function(m){m.ia?(b.storage=m.storage,n(k.ig)):n(m);});});},83637:function(r,b,a){var c,k,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.Iab=void 0;c=a(89082);k=a(7336);f=a(89682);l=a(26083);b.Iab=function(d){c.za.get(k.kw).create().then(function(g){d({ia:!0,storage:new l.hca(g,c.za.get(f.jh))});}).catch(function(g){d(g);});};},66652:function(r,b,a){var c,k,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.Jab=void 0;c=a(26083);k=a(89082);f=a(15085);l=a(89682);b.Jab=function(d){d({ia:!0,storage:new c.hca(k.za.get(f.mFa),k.za.get(l.jh))});};},54779:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.Kab=void 0;c=a(7942);k=a(89082);f=a(68172);a(30818);b.Kab=function(l){var d;(0,k.Si)("Storage");d={};l({ia:!0,storage:{load:function(g,n){var h;if(d.hasOwnProperty(g)){h=d[g];!1;n({ia:!0,data:h,Z9:g});}else (!1,n({xa:f.R.Nw}));},save:function(g,n,h,m){h && d.hasOwnProperty(g)?m({ia:!1}):(d[g]=n,!1,m && m({ia:!0,Z9:g}));},remove:function(g,n){delete d[g];!1;n && n(c.ig);}}});};},88625:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.BH=void 0;c=a(7942);k=a(37986);f=a(25892);l=a(61831);d=a(68172);g=a(70633);n=a(89082);h=a(30818);m=a(50876);p=a(84853);q=a(95919);r=a(60634);n.za.get(r.Th).register(d.U.dEa,function(u){var v,y,x;function t(){var z;t=c.Gw;z=setInterval(w,k.config.XOb);f.he.addListener(f.Nk,function(A){A && A.isPopStateEvent?v.trace("popstate event, Lock timers can stay"):((0,h.$f)(y,function(B,C){localStorage.removeItem(C.Vq);}),clearInterval(z));},c.KI);}function w(){var z;z=(0,l.Kia)();(0,h.$f)(y,function(A,B){!1;A=localStorage.getItem(B.Vq);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:x,count:1};localStorage.setItem(B.Vq,JSON.stringify(A));});}(0,g.na)(p.storage);v=(0,n.Si)("StorageLock");y={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.BH={Iu:function(z,A,B){var D,F,G,E,J,L,N,I,O,K;function C(H){localStorage.setItem(G,JSON.stringify(H));H={Vq:G};y[G]=H;v.trace("Lock acquired",{Name:H.Vq});t();A({ia:!0,A6:H});}D=this;B=void 0 === B?!1:B;if(localStorage){F=(0,l.Kia)();G="lock-" + z;E={updated:F,sessionId:x,count:1};try{if((G in localStorage)){J=localStorage.getItem(G);L=0;N=JSON.parse(J);(0,q.FB)(N.updated) && (L=N.updated);I=(0,m.WZ)(F - L) * c.Lr;O=x === N.sessionId;if(I < k.config.$2a){if(O)(N.count+=1,v.debug("Incremented lock count for existing playbackSession",{id:x,count:N.count}),N.updated=F,C(N));else if(B){K=k.config.$2a - I + c.Lr;v.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:N.count,Epoch:F,LockEpoch:L,waitTimeoutMs:K});pb.setTimeout(function(){return D.Iu(z,A,!1);},K);}else A({ia:!1});}else (v.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:L}),C(E));}else C(E);}catch(H){v.error("Error acquiring Lock",{errorSubCode:d.R.nl,errorDetails:(0,h.ue)(H)});A({ia:!0});}}else (m.tpa?v.error("Local storage access exception",{errorSubCode:d.R.Glb,errorDetails:(0,h.ue)(m.tpa)}):v.error("No localstorage",{errorSubCode:d.R.Hlb}),A({ia:!0}));},release:function(z,A){var B,C;(0,g.na)(y[z.Vq] == z);if(localStorage){try{B=localStorage.getItem(z.Vq);C=JSON.parse(B);C && 1 < C.count?(--C.count,localStorage.setItem(z.Vq,JSON.stringify(C)),v.trace("Lock count decremented",{Name:z.Vq,count:C.count})):(localStorage.removeItem(z.Vq),delete y[z.Vq],v.trace("Lock released",{Name:z.Vq}));}catch(D){v.error("Unable to release Lock",{Name:z.Vq},D);}A && A(c.ig);}}};k.config.E3?b.BH.Iu("session",function(z){b.BH.j$a=z;u(c.ig);}):u(c.ig);});},17200:function(r,b,a){var l,d,g,n;function c(h,m,p,q){var u,t,w;(0,l.na)((0,n.Xs)(h) && !(0,n.isArray)(h));q=q || "";u="";t=h.hasOwnProperty(g.UX) && h[g.UX];t && (0,d.$f)(t,function(v,y){u && (u+=" ");u+=v + '="' + f(y) + '"';});p=(m?m + ":":"") + p;t=q + "<" + p + (u?" " + u:"");w=h.hasOwnProperty(g.iw) && h[g.iw].trim && "" !== h[g.iw].trim() && h[g.iw];if(w)return t + ">" + f(w) + "</" + p + ">";h=k(h,m,q + "  ");return t + (h?">\n" + h + "\n" + q + "</" + p + ">":"/>");}function k(h,m,p){var q;(0,l.na)((0,n.Xs)(h) && !(0,n.isArray)(h));p=p || "";q="";(0,d.$f)(h,function(u,t){var y;if("$" != u[0])for(var w=(0,d.tv)(t),v=0;v < w.length;v++){if((t=w[v],q && (q+="\n"),(0,n.Xs)(t)))q+=c(t,m,u,p);else {y=(m?m + ":":"") + u;q+=p + "<" + y + ">" + f(t) + "</" + y + ">";}}});return q;}function f(h){if((0,n.xg)(h))return (0,d.Lna)(h);if((0,n.tb)(h))return ((0,l.cS)(h,"Convert non-integer numbers to string for xml serialization."),"" + h);if(null === h || void 0 === h)return "";(0,l.na)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.u3b=b.DNb=b.CNb=void 0;l=a(70633);d=a(30818);g=a(30732);n=a(95919);b.CNb=c;b.DNb=k;b.u3b=f;},30732:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.vPb=b.x6a=b.dUb=b.zYa=b.mUb=b.neb=b.meb=b.iw=b.Oxa=b.leb=b.UX=void 0;c=a(30818);k=a(70633);b.UX="$attributes";b.leb="$children";b.Oxa="$name";b.iw="$text";b.meb="$parent";b.neb="$sibling";b.mUb=/^\s*<\?xml.*\?>/i;b.zYa=function(f,l,d){for(var g=2;g < arguments.length;++g){;}for(g=1;(l=arguments[g++]) && (f=f[l]);){;}return f;};b.dUb=function(f,l){var d;f?d=(0,c.Vi)(f[b.iw]):void 0 !== l && (d=l);(0,k.cS)(d);return d;};b.x6a=function(f,l){var d;f?d=f[b.iw]:void 0 !== l && (d=l);(0,k.GUa)(d);return d;};b.vPb=function(f,l){var d;d={};d[b.UX]=f;d[b.iw]=l;return d;};},50791:function(r,b,a){var c,k,f,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.oeb=void 0;c=a(89082);k=a(68172);f=a(38624);l=a(24504);d=a(66052);b.oeb=function(g,n){var h,m;try{m=(0,f.peb)(g);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.Mf)(function(){if(m && m.documentElement)try{h=(0,l.qeb)(m);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.Mf)(function(){h?n({ia:!0,object:h}):n({ia:!1,xa:k.R.Khb});});});};},38624:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.peb=void 0;c=a(89082);k=a(95919);b.peb=function(f){var l,d;if((0,k.PL)(f)){l=new DOMParser().parseFromString(f,"text/xml");d=l.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:f.slice(0,300),fileSize:f.length});}catch(g){}throw Error("xml parser error");}return l;}throw Error("bad xml text");};},24504:function(r,b,a){var k;function c(f){var l,d,g,n,h,m,p;d={};d[k.Oxa]=f.localName;g={};d[k.UX]=g;n=[];d[k.leb]=n;h=f.attributes;m=h.length;for(l=0;l < m;l++){p=h[l];g[p.localName]=p.value;}f=f.childNodes;m=f.length;g={};for(l=0;l < m;l++){switch((h=f[l],h.nodeType)){case b.teb:h=c(h);p=h[k.Oxa];h[k.meb]=d;n.push(h);d[p]?g[p][k.neb]=h:d[p]=h;g[p]=h;break;case b.ueb:case b.reb:(h=h.text || h.nodeValue,n.push(h),d[k.iw] || (d[k.iw]=h));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.seb=b.reb=b.ueb=b.A6b=b.teb=b.B6b=b.qeb=void 0;k=a(30732);b.qeb=function(f){return c(f.nodeType == b.seb?f.documentElement:f);};b.B6b=c;b.teb=1;b.A6b=2;b.ueb=3;b.reb=4;b.seb=9;},38184:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.Kg=void 0;r=a(86700);c=a(11223);k=a(84778);f=a(33981);l=a(40679);d=a(52115);g=a(41162);n=a(36610);h=a(72611);m=a(29469);p=a(43908);q=a(87257);u=a(52614);t=a(24166);w=a(35532);v=a(54437);b.Kg=new r.$c(function(y){y(c.Bda).to(k.KJa).da();y(f.Dda).to(l.WJa).da();y(d.QI).to(g.IJa).da();y(h.tD).to(n.GJa).da();y(m.QJa).to(p.PJa).da();y(q.UJa).Vd(function(x){var z;z=x.hb;return function(A){return new u.VJa(A,z.get(t.zw),z.get(h.tD));};});y(w.UEa).Vd(function(x){var z;z=x.hb;return function(A,B,C){return new v.VEa(A,B,C,z.get(h.tD),z.get(d.QI));};});});},35532:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UEa="LegacyPostPlayShimFactorySymbol";},72611:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tD="PlaygraphConfigSymbol";},52115:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QI=b.vD=void 0;r=b.vD || (b.vD={});r.j9b="ident";r.sca="main";r.fAa="credits";b.QI="PlaygraphHelperSymbol";},11223:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bda="PlaygraphManagerFactorySymbol";},29469:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QJa="PlaygraphPlaybackStrategyFactorySymbol";},87257:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UJa="PlaygraphStateFactorySymbol";},33981:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dda="PlaygraphVideoPlayerFactorySymbol";},26986:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qw=void 0;r=b.Qw || (b.Qw={});r[r.hHa=0]="None";r[r.FCa=1]="Fetching";r[r.jhb=2]="Done";r[r.Error=3]="Error";},54437:function(r,b,a){var k,f;function c(l,d,g,n,h){this.Nh=l;this.Kg=d;this.log=g;this.vi=n;this.Xl=h;this.j8=new k.vda();}Object.defineProperty(b,"__esModule",{value:!0});b.VEa=void 0;k=a(92979);f=a(52115);c.prototype.Bqb=function(l){var d,g,n,h,m,p,q;this.log.info("Next episode added",l);p=this.j8.Tpa(l.playbackParams);q=Math.max(0,null !== (n=null !== (g=null !== (d=l.startPts) && void 0 !== d?d:l.nextStartPts) && void 0 !== g?g:p.ab) && void 0 !== n?n:0);d=null !== (m=null !== (h=l.endPts) && void 0 !== h?h:l.currentEndPts) && void 0 !== m?m:p.Ui;return this.Kg.arb({O:l.movieId,ab:q,Ui:d,nb:p,W:l.manifest,Nh:this.Nh});};c.prototype.NUb=function(l){var d,g,n,h,m,p;l=this.j8.Tpa(l);this.log.info("Playing the next episode",l);n=this.Kg.vYa();h=this.Kg.FF();m=h.L[n];p=Object.keys(null !== (d=m.next) && void 0 !== d?d:{}).find(function(q){return m.J !== h.L[q].J;});d=!this.vi.s8 || !(null === (g=l.bm) || void 0 === g?0:g.isUIAutoPlay);return p?this.Kg.ona(n,p,l,d):Promise.reject(Error("Next episode not found"));};c.prototype.i6b=function(l){var d,g;d=this.Xl.Hq(l,f.vD.sca);l=this.Xl.Hq(l,f.vD.fAa);g=this.Kg.ib;this.vi.s8 && g.oh !== l && g.Vv(l) && g.jT(d) !== l && this.Kg.Kj({I:d,oM:l});};b.VEa=c;},86769:function(r,b,a){var k;function c(f,l,d,g,n){var h;h=this;this.ib=f;this.Pj=l;this.At=d;this.Db=g;this.Xl=n;this.u8=new Map();this.k0b();this.Db.addListener(k.Ja.loaded,function(){return h.t7a();});}Object.defineProperty(b,"__esModule",{value:!0});b.oD=void 0;k=a(34202);c.prototype.nQa=function(f){var l,d;l=this;d=Object.keys(this.ib.nk.L).find(function(g){return l.ib.nk.L[g].J === f.O;});f.id || (f.id=null !== d && void 0 !== d?d:this.Xl.Hq(f.O));d || (this.ib.nk=this.Xl.Lrb(this.ib.nk,f));d=this.VG(f.id);f.Ui && this.ib.R4b(f.id,f.Ui);return d;};c.prototype.rcb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.pna=function(f,l){var d;d=this;l=void 0 === l?{}:l;return this.At.transition(f,l).then(function(){d.ib.oh=f;});};c.prototype.close=function(f){return this.At.close(f);};c.prototype.pv=function(){return this.At.QIb();};c.prototype.Rm=function(){return this.At.Rm();};c.prototype.DF=function(){return this.At.DF();};c.prototype.VG=function(f){this.u8.has(f) || this.u8.set(f,this.At.xf(this.Rtb(f)));return this.u8.get(f);};c.prototype.k0b=function(){var f;f=this;this.At.addListener(k.uD.wW,function(){return f.Db.Dc(k.uD.wW);});Object.values(k.Ja).forEach(function(l){f.At.addListener(l,function(d){return f.Db.Dc(l,d);});});};c.prototype.Cv=function(){this.t7a();};c.prototype.Era=function(f){this.At.Q4b({id:f,O:this.ib.Pd(f).J,Ui:this.ib.hJb(f)});};c.prototype.BG=function(){};c.prototype.t7a=function(){var f,l;if(this.pv()){f=this.ib.oh;l=this.ib.jT(f);l && !this.u8.has(l) && (this.Era(f),this.VG(l));}};c.prototype.Rtb=function(f){var l,d,g,n;d=this.ib.Pd(f);g=this.Pj.uL(d.J);n=null === g || void 0 === g?void 0:g.nb;g=null === g || void 0 === g?void 0:g.W;return {id:f,O:d.J,ab:d.ta,Ui:null !== (l=null === n || void 0 === n?void 0:n.Ui) && void 0 !== l?l:d.sa,nb:n,W:g};};b.oD=c;},36610:function(r,b,a){var k,f,l,d,g;function c(n){return f.Se.call(this,n,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GJa=void 0;r=a(70655);k=a(86700);f=a(90187);l=a(59578);d=a(54662);g=a(2467);ia(c,f.Se);Wa.Object.defineProperties(c.prototype,{QVb:{configurable:!0,enumerable:!0,get:function(){return 2;}},PVb:{configurable:!0,enumerable:!0,get:function(){return (0,g.k7)(3);}},sxa:{configurable:!0,enumerable:!0,get:function(){return !1;}},E$:{configurable:!0,enumerable:!0,get:function(){return !1;}},tdb:{configurable:!0,enumerable:!0,get:function(){return !1;}},yXa:{configurable:!0,enumerable:!0,get:function(){return !1;}},s8:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.dz,"prepareSegmentsUpfront")],a.prototype,"QVb",null);r.__decorate([d.config(d.lk,"prepareSegmentsDuration")],a.prototype,"PVb",null);r.__decorate([d.config(d.Pc,"usePlaygraphForPostPlay")],a.prototype,"sxa",null);r.__decorate([d.config(d.Pc,"usePlaygraphForSkipSegment")],a.prototype,"E$",null);r.__decorate([d.config(d.Pc,"useSinglePlayerPlayback")],a.prototype,"tdb",null);r.__decorate([d.config(d.Pc,"forcePlaygraphTrace")],a.prototype,"yXa",null);r.__decorate([d.config(d.Pc,"postPlayDefaultNextEpisode")],a.prototype,"s8",null);a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.ul))],a);b.GJa=a;},41162:function(r,b,a){var k,f,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.IJa=void 0;r=a(70655);k=a(52115);f=a(86700);l=a(41427);c.prototype.gzb=function(d){var h,m,p;for(var g=[],n=0;n < arguments.length;++n){g[n - 0]=arguments[n];}h=this;if(0 === g.length)throw Error("Empty playgraph");m=new l.ju().rH(this.Hq(g[0]));g.reverse().forEach(function(q){var u;u=h.Hq(q);m.xf(u,Object.assign({J:q,ta:0,sa:Infinity},p?{Ib:p}:{}));p=u;});return m.Dh();};c.prototype.Hq=function(d,g){g=void 0 === g?k.vD.sca:g;return d + ":" + g;};c.prototype.Lrb=function(d,g){var n,h,m,p;if(void 0 === m)m=null !== (n=g.id) && void 0 !== n?n:this.Hq(g.O);n=this.aZa(d);p=new l.ju(d);p.xf(m,{J:g.O,ta:null !== (h=g.ab) && void 0 !== h?h:0,sa:Infinity});d=d.L[n];g={};p.xf(n,Object.assign({},d,{Ib:m,next:Object.assign({},d.next || ({}),(g[m]={},g))}));return p.Dh();};c.prototype.aZa=function(d){for(var g=d.ve,n=g;n=d.L[n].Ib;){g=n;}return g;};a=c;a=r.__decorate([(0,f.T)()],a);b.IJa=a;},84778:function(r,b,a){var k,f,l,d,g,n,h,m,p;function c(q,u,t,w,v,y,x){this.Cf=q;this.Qka=u;this.vi=t;this.Mwa=w;this.gVb=v;this.iVb=y;this.hVb=x;}Object.defineProperty(b,"__esModule",{value:!0});b.KJa=void 0;r=a(70655);k=a(86700);f=a(11874);l=a(71163);d=a(72611);g=a(47682);n=a(29469);h=a(8988);m=a(87257);a=a(33981);c.prototype.create=function(q){return new f.LJa(q,this.Cf,this.Qka,this.vi,this.Mwa,this.gVb,this.iVb,this.hVb);};p=c;p=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.Xa)),r.__param(1,(0,k.l)(g.XO)),r.__param(2,(0,k.l)(d.tD)),r.__param(3,(0,k.l)(h.oMa)),r.__param(4,(0,k.l)(n.QJa)),r.__param(5,(0,k.l)(m.UJa)),r.__param(6,(0,k.l)(a.Dda))],p);b.KJa=p;},11874:function(r,b,a){var k,f,l;function c(d,g,n,h,m,p,q,u){this.Mwa=m;this.zxa=u;this.NS=!1;h.E$ && (d=new l.MJa().E3b(d));this.ib=q(d);this.Pj=new f.XJa(this.ib);this.Pj.p$a(this.ib.aa.J);this.log=g.Ua("PlaygraphManager");this.Db=n.create();this.pt=p.create(this.ib,this.Pj,this.log,this.Db);this.l0b();}Object.defineProperty(b,"__esModule",{value:!0});b.LJa=void 0;k=a(34202);f=a(58188);l=a(77417);c.prototype.EIb=function(){return this.ib.o8;};c.prototype.bma=function(){return this.ib.aa;};c.prototype.vYa=function(){return this.ib.oh;};c.prototype.FF=function(){return this.ib.nk;};c.prototype.Kj=function(d){for(var g=[],n=0;n < arguments.length;++n){g[n - 0]=arguments[n];}this.ib.Kj.apply(this.ib,da(g));};c.prototype.Gvb=function(d){for(var g=[],n=0;n < arguments.length;++n){g[n - 0]=arguments[n];}this.ib.dRa(g);};c.prototype.Ot=function(d){this.ib.nk=d;};c.prototype.aj=function(d,g){this.ib.aj(d,g);};c.prototype.ona=function(d,g,n,h){var m,p;n=void 0 === n?{}:n;h=void 0 === h?!0:h;if(d !== this.ib.oh)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (m=this.FF().L[d].next) && void 0 !== m?m:{}).indexOf(g))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + g);this.U$a();null === (p=n.bm) || void 0 === p?void 0:p.isUIAutoPlay;return this.pt.pna(g,n,h);};c.prototype.pv=function(){return this.pt.pv();};c.prototype.addListener=function(d,g,n){this.Db.addListener(d,g,n);};c.prototype.removeListener=function(d,g){this.Db.removeListener(d,g);};c.prototype.Rm=function(){return this.pt.Rm();};c.prototype.sb=function(){return this.pt.DF();};c.prototype.jzb=function(d,g,n){var h;d=void 0 === d?this.FF().ve:d;g=void 0 === g?{}:g;h=this.zxa.iUa(this);this.KVb(null !== d && void 0 !== d?d:this.FF().ve,g,n);return h;};c.prototype.arb=function(d){var g;this.log.info("Adding segment - movieId: " + d.O + ", startPts: " + d.ab + ", logicalEnd: " + d.Ui);g=Object.assign({},d.nb,d.ab?{ab:d.ab}:{},d.Ui?{Ui:d.Ui}:{});this.Nab(d.O,g,d.W);d=this.pt.nQa(d);this.U$a();return d;};c.prototype.transition=function(d){var g;g=this.ib.jT(this.ib.oh);return g?this.ona(this.ib.oh,g,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.pt.close(d);};c.prototype.KVb=function(d,g,n){var h;void 0 === d && (d=null === (h=this.FF()) || void 0 === h?void 0:h.ve);(g || n) && this.Nab(this.FF().L[d].J,null !== g && void 0 !== g?g:{},n);this.pt.VG(d);};c.prototype.Nab=function(d,g,n){n && this.Pj.w1(d,n);this.Pj.Pqb(d,g);};c.prototype.l0b=function(){var d;d=this;this.ib.b2b(function(){d.Pj.Cv();d.pt.Cv();});this.ib.c2b(function(g){d.pt.Era(g);});this.ib.a2b(function(g){d.pt.BG(g);});this.addListener(k.uD.wW,function(){return d.lTb();});this.addListener(k.Ja.V0a,function(g){return d.bTb(g);});};c.prototype.U$a=function(){var d;d=this;this.NS || (this.sb().Iga(k.ea.kH,function(g){return d.Dv(g);}),this.NS=!0);};c.prototype.bTb=function(d){var g;g=this;this.pt.rcb(d).catch(function(){return g.Db.Dc(k.Ja.error,d.pX());});};c.prototype.lTb=function(){var d;d=this.sb().getError();d?this.Db.Dc(k.Ja.ZJ,d):(this.Db.Dc(k.Ja.X1),this.Db.Dc(k.Ja.Dl),this.Db.Dc(k.Ja.Jt),this.Db.Dc(k.Ja.jl),this.Db.Dc(k.Ja.sX),this.Db.Dc(k.Ja.ZJ));};c.prototype.Dv=function(d){var g,n,h;!1;g=d.metrics;if(g){n=this.sb();h=n.fi(d.position.segmentId);g=n.fi(g.srcsegment);this.Mwa.CWb(d,h,g,!!n.DZa().bg);}};b.LJa=c;},77417:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.MJa=void 0;k=a(41427);c.prototype.E3b=function(f){var l;if(!this.hNb(f.L))return f;l=new k.ju().rH(f.ve);Object.entries(f.L).forEach(function(d){var g;g=ma(d);d=g.next().value;g=g.next().value;d === f.ve?l.xf(d,Object.assign(Object.assign({},g),{next:void 0,sa:void 0,Ib:void 0})):l.xf(d,g);});return l.Dh();};c.prototype.hNb=function(f){f=Object.values(f).map(function(l){return l.J;});return 1 === new Set(f).size;};b.MJa=c;},43908:function(r,b,a){var k,f,l,d,g,n,h,m,p,q;function c(u,t,w,v,y,x,z){this.Ea=u;this.NZb=w;this.vi=y;this.Xl=z;this.KZb=t.uF(!1,"6.0041.305.911",u.id,x,v);}Object.defineProperty(b,"__esModule",{value:!0});b.PJa=void 0;r=a(70655);k=a(86700);f=a(58998);l=a(72611);d=a(52335);g=a(8197);n=a(89895);h=a(17244);m=a(86769);p=a(63088);a=a(52115);c.prototype.create=function(u,t,w,v){var y,x;y=this.NZb.Wyb(u,this.KZb,t);x=u.txa;w.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new d.tLa(this.vi,u,t,w,y,v,this.Xl):new m.oD(u,t,y,v,this.Xl);};q=c;q=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Jc)),r.__param(1,(0,k.l)(g.dLa)),r.__param(2,(0,k.l)(n.Xda)),r.__param(3,(0,k.l)(h.ac)),r.__param(4,(0,k.l)(l.tD)),r.__param(5,(0,k.l)(p.m_)),r.__param(6,(0,k.l)(a.QI))],q);b.PJa=q;},52614:function(r,b,a){var k,f;function c(l,d,g){this.ay=d;this.vi=g;this.N0={};this.Mcb=[];this.lab=[];this.$4a=[];this.mha=new WeakMap();this.reset(l);}Object.defineProperty(b,"__esModule",{value:!0});b.VJa=void 0;k=a(41427);f=a(41427);c.prototype.reset=function(l){var d;d=1 < Object.keys(l.L).length && 1 === new Set(Object.values(l.L).map(function(g){return g.J;})).size;this.Ppb=this.vi.tdb || d;this.E$a(l);this.oh=l.ve;this.Qob=this.ay.FA();this.Ova=new Map();};c.prototype.K4=function(l){if(this.txa)return this.nk;this.mha.has(l) || this.mha.set(l,(0,k.Q9)(l.O,l.I));return this.mha.get(l);};c.prototype.E$a=function(l){this.Rob=l;this.N0={};l=Object.keys(l.L);this.dRa(l);this.bSb();};c.prototype.Kj=function(l){var n;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}n=this;d.filter(function(h){return n.Vv(h.I);}).filter(function(h){h=h.oM;return !h || n.Vv(h);}).forEach(function(h){var m;m=h.I;n.N0[m]=n.t5a(h.oM);n.WRb(m);});};c.prototype.dRa=function(l){var d;d=this;l.filter(function(g){return d.Vv(g);}).forEach(function(g){d.N0[g]=d.t5a(d.Pd(g).Ib);});};c.prototype.aj=function(l,d){var g,n,h;g=this.Pd(l);if(g && g.next){n=new f.ju(this.nk);h=Object.keys(g.next).reduce(function(m,p){m[p]=void 0 === d[p]?g.next[p]:Object.assign({},g.next[p],{weight:d[p]});return m;},{});h=Object.assign({},g,{next:h});n.xf(l,h);this.nk=n.Dh();}};c.prototype.Vv=function(l,d){d=void 0 === d?this.nk.L:d;return (l in d);};c.prototype.jT=function(l){return this.N0[l];};c.prototype.Pd=function(l){return this.nk.L[l];};c.prototype.hJb=function(l){if(this.Ova.has(l))return this.Ova.get(l);l=this.Pd(l);return isFinite(l.sa)?l.sa:void 0;};c.prototype.R4b=function(l,d){this.Ova.set(l,d);this.ZRb(l);};c.prototype.b2b=function(l){this.Mcb.push(l);};c.prototype.c2b=function(l){this.lab.push(l);};c.prototype.a2b=function(l){this.$4a.push(l);};c.prototype.bSb=function(){var l;l=this;this.Mcb.forEach(function(d){return d(l.nk);});};c.prototype.WRb=function(l){this.$4a.forEach(function(d){return d(l);});};c.prototype.ZRb=function(l){this.lab.forEach(function(d){return d(l);});};c.prototype.t5a=function(l){return null === l?void 0:l;};Wa.Object.defineProperties(c.prototype,{o8:{configurable:!0,enumerable:!0,get:function(){return this.Qob;}},txa:{configurable:!0,enumerable:!0,get:function(){return this.Ppb;}},nk:{configurable:!0,enumerable:!0,get:function(){return this.Rob;},set:function(l){if(this.oh && !this.Vv(this.oh,l.L))throw Error("Provided playgraphMap does not contain the current segmentId " + this.oh);this.E$a(l);}},oh:{configurable:!0,enumerable:!0,get:function(){return this.Smb;},set:function(l){if(!this.Vv(l))throw Error("Provided currentSegmentId " + l + " does not exist in the current playgraph");this.Smb=l;}},aa:{configurable:!0,enumerable:!0,get:function(){return this.Pd(this.oh);}}});b.VJa=c;},40679:function(r,b,a){var k,f,l,d;function c(g,n){this.Ea=g;this.aOb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.WJa=void 0;r=a(70655);k=a(86700);f=a(58998);l=a(35532);c.prototype.create=function(g){return new (a(90399).W_)(this.Ea.Eb(),g);};c.prototype.iUa=function(g){return new (a(61664).Daa)(this.Ea.Eb(),g,this.aOb);};d=c;d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Jc)),r.__param(1,(0,k.l)(l.UEa))],d);b.WJa=d;},58188:function(r,b,a){var k;function c(f){this.ga=f;this.qO={};this.Cv();}Object.defineProperty(b,"__esModule",{value:!0});b.XJa=void 0;k=a(26986);c.prototype.Cv=function(){var f;f=this;Object.values(this.ga.nk.L).forEach(function(l){l=l.J;f.qO[l] || f.N0a(l);});this.z$();};c.prototype.uL=function(f){return this.qO[f];};c.prototype.D_b=function(f){this.mT(f).state=k.Qw.FCa;this.z$();};c.prototype.C_b=function(f,l){f=this.mT(f);f.state=k.Qw.Error;f.error=l;f.o9a(!1);this.z$();};c.prototype.p$a=function(f){f=this.mT(f);f.state=k.Qw.jhb;f.o9a(!0);this.z$();};c.prototype.Pqb=function(f,l){this.mT(f).nb=l;};c.prototype.w1=function(f,l){this.mT(f).W=l;};c.prototype.mT=function(f){var l;return null !== (l=this.uL(f)) && void 0 !== l?l:this.N0a(f);};c.prototype.N0a=function(f){var l,d;l=void 0;d=new Promise(function(g,n){l=function(h){(h?g:n)();};});return this.qO[f]={state:k.Qw.hHa,eXb:d,o9a:l};};c.prototype.z$=function(){var l;for(var f=this.ga.oh;f=this.ga.jT(f);){l=this.Um(f);if(this.qO[l].state === k.Qw.Error)break;if(this.qO[l].state === k.Qw.FCa)break;if(this.qO[l].state === k.Qw.hHa)break;}};c.prototype.Um=function(f){return this.ga.nk.L[f].J;};b.XJa=c;},52335:function(r,b,a){var k,f,l,d,g;function c(n,h,m,p,q,u,t){var w;w=d.oD.call(this,h,m,q,u,t) || this;w.vi=n;w.la=p;w.NS=!1;w.Ika=new Map();w.eTb=function(){w.DF().Iga(f.ea.kH,function(v){w.Db.Dc(f.uD.wW);w.ib.oh=v.position.segmentId;});};w.ILb();u.addListener(f.Ja.loaded,w.eTb);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.tLa=void 0;k=a(41427);f=a(34202);l=a(68172);d=a(86769);g=a(52115);ia(c,d.oD);c.prototype.nQa=function(n){var h,m,p,q,u,t,w,v,y,x,z;h=this;p=this.ib.nk;q=this.Xl.Hq(n.O,"ident");u=this.Xl.Hq(n.O,"main");t=this.Xl.Hq(n.O,"credits");w=isFinite(n.Ui);v=isFinite(n.ab) && n.O !== p.L[p.ve].J;y={};x=new k.ju(p).xf(u,Object.assign({J:n.O,ta:v && n.ab || 0,sa:null !== (m=n.Ui) && void 0 !== m?m:Infinity},w?{next:(y[t]={},y),Ib:t}:{}));v && (m={},x.xf(q,{J:n.O,ta:0,sa:n.ab,next:(m[u]={},m),Ib:u}));w && x.xf(t,{J:n.O,ta:n.Ui,sa:Infinity});if(!this.ib.Vv(u)){n=p.L[this.Xl.aZa(p)].J;z=this.Xl.Hq(n,g.vD.fAa);[this.Xl.Hq(n,g.vD.sca),z].filter(function(A){return h.ib.Vv(A);}).forEach(function(A){var B,C,D;B=h.ib.Pd(A);C=A === z || h.vi.s8;D={};x.xf(A,Object.assign({},B,{next:Object.assign({},B.next,(D[u]={},D))},C?{Ib:u}:{}));});}this.ib.nk=x.Dh();return this.VG(u);};c.prototype.Cv=function(){this.pv() && this.DF().Cv();};c.prototype.Era=function(){};c.prototype.BG=function(n){this.DF().BG(n);};c.prototype.pna=function(n,h,m){h=void 0 === h?{}:h;this.la.debug("goToSegment " + n);return this.DF().AT(n,h,m);};c.prototype.VG=function(n){if(n === this.JZb)return null;this.JZb=n;return this.NS?this.Pj.uL(this.ib.Pd(n).J).eXb:(this.NS=!0,d.oD.prototype.VG.call(this,n));};c.prototype.rcb=function(n){return n.errorCode && this.Ika.has(n.errorCode)?this.Ika.get(n.errorCode)(n):Promise.reject(Error("Error " + n.errorCode + " isn't recoverable"));};c.prototype.ILb=function(){var n;n=this;this.Ika.set(l.U.OHa,function(){var h,m;return null !== (m=null === (h=d.oD.prototype.VG.call(n,n.ib.oh)) || void 0 === h?void 0:h.then(function(){var p,q;d.oD.prototype.pna.call(n,n.ib.oh,null !== (q=null === (p=n.Pj.uL(n.ib.aa.J)) || void 0 === p?void 0:p.nb) && void 0 !== q?q:{});})) && void 0 !== m?m:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.tLa=c;},907:function(r,b,a){var c,k,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.P7a=void 0;r=a(86700);c=a(52022);k=a(39498);f=a(84036);l=a(98367);b.P7a=new r.$c(function(d){d(c.EBa).to(k.DBa).da();d(f.mP).to(l.$Ea).da();});},85060:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.sTa=b.voa=b.Hma=b.F4=b.ODa=b.mlb=b.au=b.xDa=b.G_=b.F_=b.ZMa=b.$Ma=b.GHa=b.PY=b.TEMPORARY=b.Wt=void 0;c=a(95919);k=a(83931);b.Wt="cenc";b.TEMPORARY="temporary";b.PY="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.GHa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.$Ma="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.ZMa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.F_="SW_SECURE_CRYPTO";b.G_="SW_SECURE_DECODE";b.xDa="HW_SECURE_DECODE";b.au="HW_SECURE_ALL";b.mlb={F_:"SW_SECURE_CRYPTO",G_:"SW_SECURE_DECODE",xDa:"HW_SECURE_DECODE",au:"HW_SECURE_ALL"};b.ODa=[b.au];b.F4=function(f){var l;l=f.getConfiguration();return [b.au,b.G_,b.F_].find(function(d){var g;return null === (g=l.videoCapabilities) || void 0 === g?void 0:g.some(function(n){return n.robustness === d;});});};b.Hma=function(f){var l,n;try{for(var d=/\((\d[^)]+)\)/g,g;g=d.exec(f);){n=Number(g[1]);(0,c.tb)(n) && (l=n);}}catch(h){}return l;};b.voa=function(f){return k.Ed.Ai.test(f);};b.sTa=function(f){return f.robustness?f.keySystem + "." + f.robustness:f.keySystem;};},34902:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.uma=void 0;c=a(89082);b.uma=function(k){var f;f={};try{k.forEach(function(l){var d,g;if(l.cF){for(var n=(0,c.qx),h=l.cF,m=0,p=new Uint8Array(16),q=0;q < h.length;q+=2){p[m++]=parseInt(h.slice(q,q + 2),16);}n=n(p);l=null !== (d=l.height) && void 0 !== d?d:l.gua;f[n]=Math.max(l,null !== (g=f[n]) && void 0 !== g?g:0);}});}catch(l){}return f;};},52022:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EBa="DrmProviderSymbol";},84036:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mP="LicenseProviderSymbol";},41047:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mpa=b.yh=void 0;(function(a){a[a.qm=0]="STANDARD";a[a.ln=1]="LIMITED";})(b.yh || (b.yh={}));b.mpa=function(a){return ["STANDARD","LIMITED"][a];};},39498:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p,q,u,t){this.xh=p;this.uA=q;this.v5b=u;this.VL=t;}Object.defineProperty(b,"__esModule",{value:!0});b.DBa=void 0;r=a(70655);k=a(86700);f=a(89682);l=a(31224);d=a(53484);g=a(56594);n=a(41047);h=a(85060);a=a(84036);c.prototype.Vg=function(p){var q;q=this;return this.xh.CA(p.rj[0].data[0],[8,4])?Promise.resolve({ie:[{id:"ddd",jG:"cert",oU:void 0}],Rk:[{sessionId:"ddd",data:new Uint8Array(this.uA.decode(h.ZMa))}]}):this.xh.CA(p.rj[0].data[0],this.v5b.decode("certificate"))?Promise.resolve({ie:[{id:"ddd",jG:"cert",oU:void 0}],Rk:[{sessionId:"ddd",data:new Uint8Array(this.uA.decode(h.PY))}]}):this.VL.Iu(this.BFb(p)).then(function(u){return q.CFb(u);});};c.prototype.release=function(p){return this.VL.release(this.GFb(p)).then(function(){});};c.prototype.BFb=function(p){var q,u;q=this;u=p.rj.map(function(t){return t.data.map(function(w){return {sessionId:t.sessionId,dataBase64:q.uA.encode(w)};});});return {ma:p.ma,Ef:p.Ef,t3:p.t3,mf:(0,n.mpa)(p.mf),Mm:g.Ak[p.Mm],rj:u.reduce(function(t,w){return t.concat(w);},[]),ki:p.ki,eg:p.eg};};c.prototype.GFb=function(p){return {ma:p.ma,ie:p.ie};};c.prototype.CFb=function(p){return {ie:p.ie,Rk:p.Rk};};m=c;m=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.jh)),r.__param(1,(0,k.l)(l.fh)),r.__param(2,(0,k.l)(d.iq)),r.__param(3,(0,k.l)(a.mP))],m);b.DBa=m;},98367:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p,q,u){this.fqb=h;this.WXb=m;this.d9a=q;this.XYb=u;this.la=p.Ua("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ea=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(50055);a(43662);d=a(29766);g=a(92582);a=a(10707);c.prototype.Iu=function(h){var m,p;m=this;!1;p=this.d9a.C3b(h);return this.fqb.Kn(this.la,h.ki,p).then(function(q){q.map(function(u){return u.bOb;});return m.XYb.gcb(q);}).catch(function(q){m.la.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(h){var m;m=this;!1;h=this.d9a.F3b(h);return this.WXb.Bf(this.la,h).then(function(){return {ia:!0};}).catch(function(p){m.la.error("PBO release license failed",p);return Promise.reject(p);});};n=c;n=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.YHa)),r.__param(1,(0,k.l)(d.LIa)),r.__param(2,(0,k.l)(f.Xa)),r.__param(3,(0,k.l)(g.nIa)),r.__param(4,(0,k.l)(a.fda))],n);b.$Ea=n;},56170:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});b.nVa=b.s_a=b.Acb=b.cC=b.Y6=b.h4a=void 0;r=a(71334);c=a(38135);k=a(90014);f=a(17233);a=a(22013);b.h4a=r;b.Y6=function(l,d){return (0,b.h4a)(function(g,n){return void 0 !== n?n:g;},l,d);};b.cC=c;b.Acb=k;b.s_a=f;b.nVa=a;},7336:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Olb="StorageValidatorSymbol";b.kw="AppStorageFactorySymbol";},84913:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ILa="Storage";},8028:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(86700);c=a(37462);k=a(56646);f=a(15085);l=a(9190);d=a(36459);g=a(80979);n=a(62983);h=a(49317);m=a(7336);p=a(44870);q=a(52622);b.storage=new r.$c(function(u){u(k.WGa).Vd(function(){return function(){return pb.localStorage;};});u(k.RDa).Vd(function(){return function(){return pb.indexedDB;};});u(p.FGa).to(q.EGa).da();u(m.kw).to(h.Cya).da();u(f.mFa).to(l.lFa).da();u(c.RZ).to(n.tEa).da();u(d.vEa).to(g.uEa).da();u(d.QDa).to(g.PDa).da();u(d.xEa).to(g.wEa).da();});},15085:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mFa="LocalStorageSymbol";},44870:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FGa="MemoryStorageSymbol";},56646:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gjb="NativeLocalStorageSymbol";b.WGa="NativeLocalStorageFactorySymbol";b.RDa="IDBFactorySymbol";},94112:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wgb="__default_rule_key__";},49317:function(r,b,a){var f,l,d,g,n,h,m;function c(p,q,u,t){this.la=p;this.config=q;this.jLb=u;this.pqa=t;this.ME={mem:{storage:this.pqa,key:"mem"}};this.BC=this.config.BC;}function k(p,q,u,t){this.Cf=p;this.el=q;this.pqa=u;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.paa=b.Cya=void 0;r=a(70655);f=a(86700);l=a(68172);d=a(36459);g=a(71163);n=a(44870);h=a(94112);a=a(53685);k.prototype.create=function(){this.ZR || (this.ZR=this.nK());return this.ZR;};k.prototype.nK=function(){this.Drb=new c(this.Cf.Ua("AppStorage"),this.config,this.el,this.pqa);return this.Drb.create();};m=k;m=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(g.Xa)),r.__param(1,(0,f.l)(d.xEa)),r.__param(2,(0,f.l)(n.FGa)),r.__param(3,(0,f.l)(a.kn))],m);b.Cya=m;c.prototype.create=function(){var p;p=this;return this.Pyb().then(function(q){if(!p.Jub(q,p.config.KT))throw p.KRb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(u,t){q.aT(p).storage.load(p).then(function(w){u(w);}).catch(function(w){t(w);});});};c.prototype.save=function(p,q,u){var t;t=this;return new Promise(function(w,v){t.aT(p).storage.save(p,q,u).then(function(y){w(y);}).catch(function(y){v(y);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(u,t){q.aT(p).storage.remove(p).then(function(){u();}).catch(function(w){t(w);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,u){p.D8a("mem").then(function(){return p.D8a("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){q();}).catch(function(t){p.la.error("remove all failed");u(t);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.P2a("mem").then(function(u){q=q.concat(u);return p.P2a("idb");}).catch(function(u){p.iNb(u) || p.la.error("IndexedDb.LoadAll exception",u);return [];}).then(function(u){return q=q.concat(u);}).catch(function(u){p.la.error("load all failed",u);throw u;});};c.prototype.Pyb=function(){var p;p=this;return this.jLb.create().then(function(q){p.ME.idb={storage:q,key:"idb"};}).catch(function(q){p.la.error("idb failed to load",q);return q || ({xa:l.R.Eo});});};c.prototype.Jub=function(p,q){return !p || p && q?!0:!1;};c.prototype.KRb=function(p){var q;q="";p && (q+=p.xa);return {xa:q};};c.prototype.D8a=function(p){return (p=this.ME[p])?p.storage.removeAll():Promise.resolve();};c.prototype.P2a=function(p){return (p=this.ME[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.AEb=function(p){for(var q in this.BC){if(p.startsWith(q))return this.BC[q];}return this.BC[h.wgb];};c.prototype.aT=function(p){var q,u;q=this;this.AEb(p).every(function(t){return q.ME[t]?(u=q.ME[t],!1):!0;});if(!u){this.la.error("component not found for storageKey",{F1b:p,ubc:Object.keys(this.ME),rules:this.BC});u=this.ME.mem;}this.la.trace("component found for key",{storageKey:p,componentKey:u.key});return u;};c.prototype.iNb=function(p){return (p && (p.xa || p.errorSubCode)) === l.R.Nw;};b.paa=c;},26083:function(r,b){function a(c,k){this.Qu=c;this.Yd=k;}Object.defineProperty(b,"__esModule",{value:!0});b.hca=void 0;a.prototype.load=function(c,k){var f;f=this;this.Qu.load(c).then(function(l){k && k(a.ebb(l));}).catch(function(l){k && k(f.Jka(c,l));});};a.prototype.save=function(c,k,f,l){var d;d=this;this.Qu.save(c,k,f).then(function(){l && l(a.ebb({key:c,value:k}));}).catch(function(g){l && l(d.Jka(c,g));});};a.prototype.remove=function(c,k){var f;f=this;this.Qu.remove(c).then(function(){k && k({ia:!0,Z9:c});}).catch(function(l){k && k(f.Jka(c,l));});};a.ebb=function(c){return {ia:!0,data:c.value,Z9:c.key};};a.prototype.Jka=function(c,k){return {ia:!1,Z9:c,xa:k.xa,Jb:k.cc?this.Yd.ue(k.cc):void 0};};b.hca=a;},9190:function(r,b,a){var k,f,l;function c(d){this.fC=d;}Object.defineProperty(b,"__esModule",{value:!0});b.lFa=void 0;r=a(70655);k=a(86700);f=a(68172);a=a(56646);c.prototype.load=function(d){var g;g=this;return new Promise(function(n,h){var m,p;try{m=g.fC.getItem(d);if(m){p=m;if("{" === m[0])try{p=JSON.parse(m) || m;}catch(q){}n({key:d,value:p});}else h({xa:f.R.Nw});}catch(q){h({xa:f.R.SKa,cc:q});}});};c.prototype.save=function(d,g,n){var h;h=this;return new Promise(function(m,p){if(n && h.fC.getItem(d))m(!1);else try{"string" === typeof g?h.fC.setItem(d,g):h.fC.setItem(d,JSON.stringify(g));m(!0);}catch(q){p({xa:f.R.TKa,cc:q});}});};c.prototype.remove=function(d){var g;g=this;return new Promise(function(n,h){try{g.fC.removeItem(d);n();}catch(m){h({xa:f.R.Uda,cc:m});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};l=c;l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.Gjb))],l);b.lFa=l;},52622:function(r,b,a){var k,f,l;function c(d){this.Cf=d;this.xG={};this.la=this.Cf.Ua("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.EGa=void 0;r=a(70655);k=a(86700);f=a(68172);a=a(71163);c.prototype.load=function(d){var g;if(this.xG.hasOwnProperty(d)){g=this.xG[d];this.la.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:g});}this.la.debug("Storage entry not found",{key:d});return Promise.reject({xa:f.R.Nw});};c.prototype.save=function(d,g,n){if(n && this.xG.hasOwnProperty(d))return Promise.resolve(!1);this.xG[d]=g;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.xG[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.xG).map(function(g){var n;n=ma(g);g=n.next().value;n=n.next().value;return {key:g,value:n};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.xG={};return Promise.resolve();};l=c;l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.Xa))],l);b.EGa=l;},43310:function(r,b,a){var f,l,d;function c(g,n,h){this.config=g;this.lo=n;this.fC=h;}function k(g,n){this.reason=g;this.cc=n;}Object.defineProperty(b,"__esModule",{value:!0});b.sEa=b.uKa=void 0;f=a(68172);l=a(29853);(function(g){g[g.Nca=0]="NoData";g[g.Error=1]="Error";g[g.WI=2]="Timeout";})(d=b.uKa || (b.uKa={}));c.prototype.load=function(g){var n;n=this;return new Promise(function(h,m){n.O3("get",!1,g).then(function(p){h({key:g,value:p});}).catch(function(p){var q;q=f.R.SKa;switch(p.reason){case d.Nca:q=f.R.Nw;break;case d.WI:q=f.R.Flb;}m({xa:q,cc:p.cc});});});};c.prototype.save=function(g,n,h){var m;m=this;return new Promise(function(p,q){m.O3(h?"add":"put",!0,{name:g,data:n}).then(function(){p(!h);}).catch(function(u){var t;t=f.R.TKa;switch(u.reason){case d.WI:t=f.R.Ilb;}q({xa:t,cc:u.cc});});});};c.prototype.remove=function(g){var n;n=this;return new Promise(function(h,m){n.O3("delete",!0,g).then(function(){h();}).catch(function(p){var q;q=f.R.Uda;switch(p.reason){case d.WI:q=f.R.RKa;}m({xa:q,cc:p.cc});});});};c.prototype.removeAll=function(){var g;g=this;return new Promise(function(n,h){g.O3("clear",!0,"").then(function(){n();}).catch(function(m){var p;p=f.R.Uda;switch(m.reason){case d.WI:p=f.R.RKa;}h({xa:p,cc:m.cc});});});};c.prototype.loadAll=function(){var g;g=this;return this.lo.Np(this.config.timeout,new Promise(function(n,h){var m,p,q;if(g.config.Jva)h(new k(g.config.Jva));else {m=[];p=g.fC.transaction(g.config.gV,"readonly");q=p.objectStore(g.config.gV).openCursor();p.onerror=function(){h(new k(d.Error,q.error));};q.onsuccess=function(u){if(u=u.target.result)try{m.push({key:u.value.name,value:u.value.data});u.continue();}catch(t){h(new k(d.Error,t));}else n(m);};q.onerror=function(){h(new k(d.Error,q.error));};}})).catch(function(n){return n instanceof l.gq?Promise.reject(new k(d.WI,n)):n instanceof k?Promise.reject(n):Promise.reject(new k(d.Error,n));});};c.prototype.O3=function(g,n,h){var m;m=this;return this.lo.Np(this.config.timeout,new Promise(function(p,q){var u,t;u=m.fC.transaction(m.config.gV,n?"readwrite":"readonly");t=u.objectStore(m.config.gV)[g](h);u.onerror=function(){q(new k(d.Error,t.error));};t.onsuccess=function(w){var v;if("get" == g)try{v=w.target.result;v?p(v.data):q(new k(d.Nca));}catch(y){q(new k(d.Nca,y));}else p(void 0);};t.onerror=function(){q(new k(d.Error,t.error));};})).catch(function(p){return p instanceof l.gq?Promise.reject(new k(d.WI,p)):p instanceof k?Promise.reject(p):Promise.reject(new k(d.Error,p));});};b.sEa=c;},37462:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RZ="IndexedDBConfigSymbol";},36459:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QDa="IDBDatabaseFactorySymbol";b.vEa="IndexedDBFactorySymbol";b.xEa="IndexedDBStorageFactorySymbol";},62983:function(r,b,a){var k,f,l,d,g;function c(n,h){n=l.Se.call(this,n,"IndexedDBConfigImpl") || this;n.config=h;n.version=1;n.gV="namedatapairs";return n;}Object.defineProperty(b,"__esModule",{value:!0});b.tEa=void 0;r=a(70655);k=a(86700);f=a(54662);l=a(90187);d=a(53685);a=a(59578);ia(c,l.Se);Wa.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.Px?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Lab;}},J1:{configurable:!0,enumerable:!0,get:function(){return this.config.J1;}},Kva:{configurable:!0,enumerable:!0,get:function(){return 0;}},Jva:{configurable:!0,enumerable:!0,get:function(){return 0;}},tXa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});g=c;r.__decorate([f.config(f.dz,"simulateIdbOpenError")],g.prototype,"Kva",null);r.__decorate([f.config(f.dz,"simulateIdbLoadAllError")],g.prototype,"Jva",null);r.__decorate([f.config(f.Pc,"fixInvalidDatabase")],g.prototype,"tXa",null);g=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.ul)),r.__param(1,(0,k.l)(d.kn))],g);b.tEa=g;},80979:function(r,b,a){var l,d,g,n,h,m,p,q,u,t,w,v;function c(y,x,z,A,B,C){this.config=x;this.bS=z;this.el=A;this.G5b=B;this.wk=C;this.la=y.Ua(m.ILa);}function k(y,x){this.config=y;this.ZN=x;}function f(y,x,z,A,B){this.config=x;this.ZN=z;this.wk=B;this.la=y.Ua(m.ILa);this.bS=new Promise(function(C,D){var F;try{F=A();F?C(F):D({xa:h.R.TDa});}catch(G){D({xa:h.R.QZ,cc:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.wEa=b.uEa=b.PDa=void 0;r=a(70655);l=a(86700);d=a(71163);g=a(43310);n=a(56646);h=a(68172);m=a(84913);p=a(37462);q=a(29853);u=a(7336);t=a(85643);w=a(36459);v=a(3971);f.prototype.create=function(){this.Dja || (this.Dja=this.nK());return this.Dja;};f.prototype.Cs=function(y){var x;x=this;this.Dja=null;return this.ZN.Np(this.config.timeout,new Promise(function(z,A){y.close();x.delete(y.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.gq?Promise.reject({xa:h.R.QZ}):z.xa?Promise.reject(z):Promise.reject({xa:h.R.QZ,cc:z});});};f.prototype.delete=function(y){var x;x=this;return this.ZN.Np(this.config.timeout,new Promise(function(z,A){x.bS.then(function(B){var C;C=B.deleteDatabase(y);C.onsuccess=function(){z();};C.onerror=function(){A({xa:h.R.QZ,cc:C.error});};}).catch(function(B){A(B);});}));};f.prototype.nK=function(){var y,x;y=this;return this.ZN.Np(this.config.timeout,new Promise(function(z,A){if(y.config.Kva)return A({xa:y.config.Kva});y.bS.then(function(B){y.wk.mark(v.hj.jib);x=B.open(y.config.name,y.config.version);if(!x)return A({xa:h.R.UDa});x.onblocked=function(){y.wk.mark(v.hj.gib);A({xa:h.R.cib});};x.onupgradeneeded=function(){var C;y.wk.mark(v.hj.qib);C=x.result;try{C.createObjectStore(y.config.gV,{keyPath:"name"});}catch(D){y.la.error("Exception while creating object store",D);}};x.onsuccess=function(C){var D,F;y.wk.mark(v.hj.pib);try{D=C.target.result;F=D.objectStoreNames.length;y.la.trace("objectstorenames length ",F);if(0 === F){y.la.error("invalid indexedDb state, deleting");y.wk.mark(v.hj.iib);try{D.close();}catch(G){}B.deleteDatabase(y.config.name);setTimeout(function(){A({xa:h.R.bib});},1);return;}}catch(G){y.la.error("Exception while inspecting indexedDb objectstorenames",G);}z(x.result);};x.onerror=function(){y.wk.mark(v.hj.hib);y.la.error("IndexedDB open error",x.error);A({xa:h.R.dib,cc:x.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.gq){try{x && x.readyState && y.wk.mark("readyState-" + x.readyState);}catch(A){}if(y.config.J1 && x && "done" === x.readyState){if(y.A5b(x))return (y.wk.mark(v.hj.nib),Promise.resolve(x.result));y.wk.mark(v.hj.mib);}y.wk.mark(v.hj.lib);return Promise.reject({xa:h.R.fib});}if(z.xa)return Promise.reject(z);y.wk.mark(v.hj.kib);y.la.error("IndexedDB open exception occurred",z);return Promise.reject({xa:h.R.eib,cc:z});});};f.prototype.A5b=function(y){try{return 0 < y.result.objectStoreNames.length;}catch(x){this.wk.mark(v.hj.oib);this.la.error("failed to check open request state",x);}return !1;};a=f;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.Xa)),r.__param(1,(0,l.l)(p.RZ)),r.__param(2,(0,l.l)(q.Jz)),r.__param(3,(0,l.l)(n.RDa)),r.__param(4,(0,l.l)(t.XI))],a);b.PDa=a;k.prototype.create=function(y){return Promise.resolve(new g.sEa(this.config,this.ZN,y));};a=k;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(p.RZ)),r.__param(1,(0,l.l)(q.Jz))],a);b.uEa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.ZR || (this.ZR=this.nK(this.G5b));return this.ZR;};c.prototype.nK=function(y){var x;x=this;y=void 0 === y?[]:y;return new Promise(function(z,A){x.wk.mark(v.hj.Elb);x.bS.create().then(function(B){x.el.create(B).then(function(C){Promise.all(y.map(function(D){return D.validate(C);})).then(function(){x.storage=C;z(x.storage);}).catch(function(D){x.la.debug("DB validation failed, cause: " + D);x.config.tXa?(x.la.debug("Fixing corrupt DB"),x.bS.Cs(B).then(function(){x.la.error("Invalid database deleted, creating new database.");x.nK().then(function(F){x.la.error("Invalid database successfully recreated.");x.storage=F;z(x.storage);});}).catch(function(F){x.la.error("Couldn't delete invalid database.");A(F);})):(x.la.debug("Ignoring invalid DB due to config"),x.storage=C,z(x.storage));});}).catch(function(C){A(C);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([(0,l.T)(),r.__param(0,(0,l.l)(d.Xa)),r.__param(1,(0,l.l)(p.RZ)),r.__param(2,(0,l.l)(w.QDa)),r.__param(3,(0,l.l)(w.vEa)),r.__param(4,(0,l.optional)()),r.__param(4,(0,l.wG)(u.Olb)),r.__param(5,(0,l.l)(t.XI))],a);b.wEa=a;},33010:function(r,b,a){var f;function c(l,d,g){this.start=l;this.track=d;this.DC=Array.isArray(g)?g:[];}function k(l,d){this.log=l;this.iz=d;this.qta=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.RLa=void 0;f=a(70633);k.prototype.iqb=function(l,d){this.W4a(l,d,"activating");};k.prototype.Nzb=function(l){this.Bka(l,"de-activating");};k.prototype.W4a=function(l,d,g){var n;this.ak && this.Bka(l,"close current for new");n=[];this.orphans.length && (n.push.apply(n,da(this.orphans)),this.orphans=[]);this.ak=new c(l,d,n);this.iz && this.log.trace("new range: " + g,this.ak);};k.prototype.Bka=function(l,d){this.ak && (this.ak.end=l,this.qta.push(this.ak),this.iz && this.log.trace("end range: " + d,this.ak || ({})),this.ak=void 0);};k.prototype.ddb=function(l){for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}this.ak?this.ak.DC.push.apply(this.ak.DC,da(d)):this.orphans.push.apply(this.orphans,da(d));};k.prototype.dna=function(l){var d,g;d=this.qta.slice(0);if(this.ak && "undefined" !== typeof l){g=new c(this.ak.start,this.ak.track,this.ak.DC);g.end=l;d.push(g);}l=d.reduce(function(n,h){var m,p,q,u;if(!h.track)return n;p=h.track.Ub;q=h.track.Pl(h.start,h.end);if(void 0 === q || null === q)return n;u=new Set(h.DC);n[p]?(h=n[p],h.expected+=q,h.missed+=q - u.size):n[p]={dlid:p,bcp47:h.track.re,profile:h.track.profile,expected:q,missed:q - u.size,startPts:null !== (m=h.track.lJb()) && void 0 !== m?m:0};return n;},{});l=Object.values(l);this.iz && this.log.trace("subtitleqoe:",JSON.stringify(l,null,"\t"));return l;};k.prototype.cJb=function(l){var d,g,n,h;d=this.qta.slice(0);g=0;n=0;if(this.ak && "undefined" != typeof l){h=new c(this.ak.start,this.ak.track,this.ak.DC);h.end=l;d.push(h);}d.forEach(function(m){var p,q;if(m.track){if(m.end < m.start){(0,f.na)(!1,"negative range");m.uC=0;return;}p=new Set(m.DC);q=m.track.Pl(m.start,m.end);m.P3=q;m.uC=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else m.uC=100;p=m.end - m.start;g+=p;n+=m.uC * p;});h=g?Math.round(n / g):100;this.log.trace("qoe score " + h + ", at pts: " + l);this.iz && (l=d.map(function(m){return {start:m.start,"end  ":m.end,duration:m.end - m.start,score:Math.round(m.uC),lang:m.track?m.track.re:"none","actual  ":m.DC.join(" "),expected:m.P3};}),this.log.trace("score for each range: ",JSON.stringify(l,function(m,p){return p;}," ")));return h;};b.RLa=k;},90642:function(r,b,a){var c,k,f,l;Object.defineProperty(b,"__esModule",{value:!0});b.KH=void 0;r=a(86700);c=a(91018);k=a(32711);f=a(35368);l=a(59415);b.KH=new r.$c(function(d){d(l.fMa).to(c.eMa);d(f.cMa).kl(new k.bMa());d(l.dMa).Vd(function(g){return function(){return g.hb.get(l.fMa);};});});},59415:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fMa="ThroughputTrackerSymbol";b.dMa="ThroughputTrackerFactorySymbol";},35368:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cMa="ThroughputTrackerConfigSymbol";},5099:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.wBa=void 0;c=a(36845);b.wBa=function(k,f){this.FBb=k;this.size=f.Foa()?c.Ia:f;};},32711:function(r,b,a){function c(k){this.GBb=void 0 === k?10:k;}Object.defineProperty(b,"__esModule",{value:!0});b.bMa=void 0;r=a(70655);a=a(86700);c=r.__decorate([(0,a.T)()],c);b.bMa=c;},91018:function(r,b,a){var k,f,l,d;function c(g){this.config=g;this.Mva=f.Ia;this.EN=[];}Object.defineProperty(b,"__esModule",{value:!0});b.eMa=void 0;r=a(70655);k=a(86700);f=a(36845);l=a(2467);a=a(35368);c.prototype.Tm=function(){var n;for(var g;0 < this.EN.length;){g=this.EN.shift();this.UPa(g);}g=void 0 === this.nS || void 0 === this.aF?l.Ia:this.aF.wa(this.nS);n=g.O1a()?0:this.Mva.ba(f.RC) / g.ba(l.oa);return {xwa:Math.floor(n),ycc:g.ba(l.oa)};};c.prototype.Aqb=function(g){this.Mva=this.Mva.add(g.size);this.EN.push(g.FBb);for(this.EN.sort(function(n,h){return n.start.Ik(h.start);});this.EN.length > this.config.GBb;){g=this.EN.shift();this.UPa(g);}};c.prototype.UPa=function(g){void 0 === this.nS && (this.nS=g.start);void 0 !== this.aF && 0 > this.aF.Ik(g.start) && (this.nS=this.nS.add(g.start.wa(this.aF)));if(void 0 === this.aF || 0 > this.aF.Ik(g.end))this.aF=g.end;};d=c;d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.cMa))],d);b.eMa=d;},14659:function(r,b,a){var k,f,l,d,g,n,h,m,p;function c(q,u,t,w,v,y){var x,z;q=g.zD.call(this,u,q,q,v,!0,{Af:"",gC:"content"},"1",[{Hg:0,url:t,type:"unknown"}],"xx",w || q,n.Co.NI,void 0,void 0,"primary",null !== (x=null === y || void 0 === y?void 0:y.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (z=null === y || void 0 === y?void 0:y.midx) && void 0 !== z?z:{},!1,!1,null === y || void 0 === y?void 0:y.isLanguageLeftToRight) || this;q.j=u;q.url=t;q.options=y;q.Cr=null === y || void 0 === y?void 0:y.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.gMa=void 0;r=a(58680);k=a(37986);f=a(25892);l=a(89082);d=a(24133);g=a(31360);n=a(65853);h=a(89927);m=a(50364);p=a(34202);(0,r.gJa)(r.qda,function(q){var t;function u(w){var v;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == m.Az.Vlb){v=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});v.addEventListener("change",function(){var y,x,z;y=v.files[0];if(y){x=y.name;t.info("Loading file",{FileName:x});z=new FileReader();z.readAsText(y);z.addEventListener("load",function(){return q.hn.xga("nourl",x,{content:z.result});});}});v.click();}}t=(0,l.Gh)(q,"TimedTextCustomTrack");k.config.Cja && (t.info("Loading url",{Url:k.config.Cja}),q.hn.xga(k.config.Cja,"custom"));f.he.addListener(f.kB,u);q.addEventListener(p.ea.tg,function(){f.he.removeListener(f.kB,u);});});ia(c,g.zD);c.Cyb=function(q,u,t,w){var v;v="custom" + c.fMb++;return new c(v,q,u,t,-1,w);};c.prototype.CVa=function(){var q;q=this;return new Promise(function(u,t){var w,v;if(null === (w=q.options) || void 0 === w?0:w.content)u(q.options.content);else if(q.url){v={responseType:h.Mna,url:q.url,track:q,Bc:void 0,MA:"tt-" + q.re,nr:"unknown"};q.j.o5.download(v,function(y){y.ia?u(y.content):(y.reason="downloadfailed",y.url=v.url,y.track=q,t(y));});}});};b.gMa=c;c.fMb=0;},15789:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p){this.c4=h;this.fF={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,k.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.s$a(m);this.xla=this.OYa(this.c4);this.lang=p;}Object.defineProperty(b,"__esModule",{value:!0});b.hMa=void 0;k=a(24133);f=a(797);l=a(43038);d=a(37986);g=a(50876);n=a(30818);c.prototype.Rm=function(){return this.element;};c.prototype.q_b=function(h){this.ox=h;};c.prototype.A_b=function(h){this.entry=h;this.$G();};c.prototype.G_b=function(h){this.s$a(h);this.$G();};c.prototype.H_b=function(h){this.lang=h;this.$G();};c.prototype.$G=function(){var h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F;h=this;p=this.Rm();q=p.parentElement;u=q && q.clientWidth || 0;t=q && q.clientHeight || 0;w=0;v=0;y=0;q={width:u,height:t};z=null !== (m=d.config.o$.characterSize) && void 0 !== m?m:d.config.Bwa.characterSize;this.lang && d.config.v5 && d.config.v5.includes(this.lang) && "MEDIUM" === z && (y=1.4);this.lang && d.config.w5 && d.config.w5.includes(this.lang) && "SMALL" === z && (y=1.6);if(0 < u && 0 < t && this.entry){this.ox && (q=(0,k.b4)(u,t,this.ox),w=Math.round((u - q.width) / 2),v=Math.round((t - q.height) / 2));A=this.yub(q);B=(0,k.b4)(A.width,A.height,this.ox);A=(x=this.entry.blocks) && x.map(function(G){var E;E=(0,l.Fka)(G,B,h.c4,h.xla,y);G=(0,l.sWa)(G) + ";position:absolute";return (0,k.createElement)("div",G,E,c.$aa);});}Object.assign(this.fF,{left:w + "px",right:w + "px",top:v + "px",bottom:v + "px"});p.style.display="none";p.style.direction=this.fF.direction;p.innerHTML="";if(A && A.length){m=q.width;u=q.height;w=q;this.FR && (w=this.dqb(q,this.FR,t,v));this.fF.margin=this.Wq?this.q2(q,"top") + "px " + this.q2(q,"right") + "px " + this.q2(q,"bottom") + "px " + this.q2(q,"left") + "px ":void 0;A.forEach(function(G){return p.appendChild(G);});t=(0,k.XR)(this.fF);p.style.cssText=t + ";visibility:hidden;z-index:-1";v=[];for(z=A.length - 1;0 <= z;z--){C=A[z];D=x[z];F=this.h5a(C,D,m,u);y=0 < y?m / F.width * y:m / F.width;F.width > m && (C.innerHTML=(0,l.Fka)(D,q,this.c4,this.xla,y),F=this.h5a(C,D,m,u));v[z]=F;}v=(0,f.xcb)(v,w);if(z=x && x[0] && x[0].textNodes && x[0].textNodes[0] && x[0].textNodes[0].style)(w=z.windowColor,z=z.windowOpacity,w && 0 < z && (C=Math.round(u / 50),q=(0,l.uWa)(x,v,C,w,q),q=(0,k.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,q,c.$aa),p.insertBefore(q,p.firstChild)));p.style.display="none";for(q=v.length - 1;0 <= q;q--){z=v[q];w=A[q].style;C=x[q].region;z=(0,l.tWa)(C,z,m,u,0);Object.assign(w,z);}p.style.cssText=t;}};c.prototype.tva=function(h){this.FR=h;this.$G();};c.prototype.hna=function(){return this.FR;};c.prototype.uva=function(h){this.Wq=h;this.$G();};c.prototype.ina=function(){return this.Wq;};c.prototype.jna=function(){return "block" === this.fF.display;};c.prototype.vva=function(h){var m;m=h?"block":"none";this.element.style.display=m;this.fF.display=m;h && this.$G();};c.prototype.B4b=function(h){this.c4=h;this.xla=this.OYa(h);};c.prototype.OYa=function(h){var m,p;m=this;p={};(0,n.$f)(h,function(q,u){p[q]=m.qQb(u);});return p;};c.prototype.s$a=function(h){this.fF.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.q2=function(h,m){if(this.Wq){if("left" === m || "right" === m)return h.width * (this.Wq[m] || 0);if("top" === m || "bottom" === m)return h.height * (this.Wq[m] || 0);}return 0;};c.prototype.yub=function(h){return this.Wq?{height:h.height * (1 - (this.Wq.top || 0) - (this.Wq.bottom || 0)),width:h.width * (1 - (this.Wq.left || 0) - (this.Wq.right || 0))}:h;};c.prototype.qQb=function(h){var m;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,k.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.$aa);g.Og.body.appendChild(h);m={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};g.Og.body.removeChild(h);return m;};c.prototype.h5a=function(h,m,p,q){var u,t,w,v,y;u=m.region;t=(u.marginTop || 0) * q;w=(u.marginBottom || 0) * q;v=(u.marginLeft || 0) * p;y=(u.marginRight || 0) * p;m=h.clientWidth || 1;h=h.clientHeight || 1;switch(u.verticalAlignment){case "top":q=t;break;case "center":q=(t + q - w - h) / 2;break;default:q=q - w - h;}switch(u.horizontalAlignment){case "left":p=v;break;case "right":p=p - y - m;break;default:p=(v + p - y - m) / 2;}return {top:q,left:p,width:m,height:h};};c.prototype.dqb=function(h,m,p,q){return {height:p - Math.max(q,m.bottom || 0) - Math.max(q,m.top || 0),width:h.width};};b.hMa=c;c.$aa={"class":"player-timedtext-text-container"};},2108:function(r,b){function a(c,k){var f;f=this;this.pZa=c;this.F5a=k;this.Fwa=!1;this.wM=function(){f.gm=void 0;f.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.kMa=void 0;a.prototype.update=function(c){var k,f,l,d,g;l=this.pZa();if(this.edb !== l){d=null === (f=null === (k=this.BU) || void 0 === k?void 0:k.cB(l)) || void 0 === f?void 0:f[0];if(d && ("startTime" in d))if(d.startTime <= l && l <= d.endTime){g=d;this.Pcb(d.endTime - l);}else this.Pcb(d.startTime - l);this.edb=l;this.sga !== g && (this.sga=g,!c && this.F5a && this.F5a());}};a.prototype.start=function(){this.Fwa=!0;this.update();};a.prototype.z$a=function(c){this.BU=c;this.sga=this.edb=void 0;c || this.stop();};a.prototype.stop=function(){this.Fwa=!1;this.Tp();};a.prototype.YFb=function(){this.update(!0);return this.sga;};a.prototype.Pcb=function(c){this.Tp();this.Fwa && 0 < c && (this.gm=setTimeout(this.wM,c + a.Ajb));};a.prototype.Tp=function(){this.gm && (clearTimeout(this.gm),this.gm=void 0);};b.kMa=a;a.Ajb=10;},31360:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D,F,G,E,J,L,N,I,O,K,H,M,R,Y,ea){this.j=x;this.trackId=z;this.VF=A;this.ec=B;this.wg=C;this.acb=D;this.Ub=F;this.urls=G;this.re=E;this.displayName=J;this.wh=L;this.EH=N;this.variant=I;this.qC=O;this.profile=K;this.dt=H;this.y7=M;this.jFb=R;this.R5=Y;this.Rs=ea;this.type=d.Sj.Cwa;this.Cr=void 0;this.ik=!(!K || K != n.tl.HI);this.yg={bcp47:E,trackId:z,downloadableId:F,isImageBased:this.ik};this.log=(0,g.Gh)(x,"TimedTextTrack");this.state=y.e_;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.zD=void 0;k=a(70655);f=a(89927);l=a(37986);d=a(20736);g=a(89082);n=a(56261);h=a(70633);m=a(95919);p=a(43625);q=a(34202);u=a(68172);t=a(55134);w=a(5485);v=a(91854);(function(x){x[x.e_=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.gD=2]="LOADED";x[x.lP=3]="LOAD_FAILED";})(y || (y={}));c.prototype.z5=function(){var x;x=this;if(this.j.state.value === q.Tb.CLOSED || this.j.state.value === q.Tb.CLOSING)return Promise.reject({ia:!1});if(this.ik)return this.XLb();if(this.j.cd.ha)return (this.state=y.LOADING,this.L0a());this.AVa || (this.AVa=this.CVa());return this.AVa.then(function(z){return x.L0a(z);});};c.prototype.getState=function(){return this.state;};c.prototype.Vn=function(){return this.y7;};c.prototype.Wm=function(){return this.jFb;};c.prototype.cna=function(){var x;return (null === (x=this.VW) || void 0 === x?0:x.ready)?this.VW.BU:void 0;};c.prototype.Pl=function(x,z){var A;try{return null === (A=this.cna()) || void 0 === A?void 0:A.Pl(x,z);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:z,isImageBased:this.ik});}};c.prototype.lJb=function(){var x,z,A;if(!(0,m.Sc)(this.ab))try{A=null === (z=null === (x=this.cna()) || void 0 === x?void 0:x.cB(0)) || void 0 === z?void 0:z[0];this.ab=null === A || void 0 === A?void 0:A.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.ab;};c.prototype.mta=function(x){var z,A;(0,h.na)((0,v.$0a)(x));(0,h.na)(null === (z=this.j.W) || void 0 === z?void 0:z.Fa.wj,"Live manifest is unavailable.");(0,h.na)(null === (A=this.VW) || void 0 === A?void 0:A.BU,"Subtitle manager is unavailable");z=x.$3b;this.VW.BU.mta({I:x.I,xml:z,ab:x.ab,jf:x.jf,size:z.length,gr:x.gr,endOfStream:x.endOfStream});};c.prototype.K9=function(x){return this.j.state.value === q.Tb.CLOSING || this.j.state.value === q.Tb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.wb.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.mUa=function(x){var z,A;z=this;A=(0,g.Gh)(this.j,"TimedTextTrack");A.warn=A.trace.bind(A);A.info=A.debug.bind(A);A=(0,p.nUa)(this.j,A,this.request,this);x=new t.default(A,x);this.VW={BU:x,ready:!1};x.on("ready",function(){z.VW.ready=!0;});return x;};c.prototype.XLb=function(){var x,z,A,B,C,D,F;x=this;if(!this.I0a){this.state=y.LOADING;z={profile:"nflx-cmisc",url:"",qRa:!1,vqa:this.dt.offset,p4a:this.dt.length,we:this.j.mediaTime.value || 0,bufferSize:l.config.rLb,w9:{L:this.j.YS()}};A=(this.urls || []).map(function(G){return G.Hg;});B=0;C={};D=!0;F=function(G,E){var J;(0,m.Sc)(G)?D || x.K9(x.Ms(x.zs,"","image"))?(D=!1,x.dt.url=null === (J=x.p4(x.zs)) || void 0 === J?void 0:J.url,z.url=x.dt.url,C[G]=(C[G] || 0) + 1,J=x.mUa(z),J.on("ready",function(){E({ia:!0,track:x});}),J.on("error",function(L){var N;L=Object.assign({ia:!1},L);N=x.Ms(x.zs,x.dt.url,"image");N.details={midxoffset:x.dt.offset,midxsize:x.dt.length};N.errorstring=L.errorString;C[G] <= l.config.Obb?(x.X3(N,!0,"retry with current cdn"),x.Cha(C[G]).then(function(I){x.log.trace("retry timed text download after " + I,x.Ms(x.zs,"","image"));F(x.zs,E);})):(x.zs=A[B++],x.zs?(x.X3(N,!0,"retry with next cdn"),x.Cha(C[G]).then(function(I){x.log.trace("retry timed text download after " + I,x.Ms(x.zs,"","image"));F(x.zs,E);})):(x.X3(N,!1,"all cdns tried"),E({ia:!1,lRb:"all cdns failed for image subs",track:x})));}),J.start()):E({ia:!1,aborted:!0}):(E({ia:!1,lRb:"cdnId is not defined for image subs downloadUrl"}),x.X3(x.Ms(0,"","image"),!1,"cdnId is undefined"));};this.zs=A[B++];this.I0a=new Promise(function(G,E){F(x.zs,function(J){J.ia?(x.log.info("Loaded image subtitle manager"),x.state=y.gD,G(J)):(x.log.error("Unable to load image subtitles manager",J),x.state=y.lP,E(J));});});}return this.I0a;};c.prototype.L0a=function(x){var z,A;z=this;A=this.j.MC.value;(0,h.na)(A);(0,h.na)(void 0 !== x || this.j.cd.ha);return new Promise(function(B,C){var D;D=z.mUa({profile:z.profile,xml:x,Lf:l.config.Bwa,preferences:l.config.o$,we:z.j.mediaTime.value || 0,qRa:!1,videoSize:A,ha:z.j.cd.ha});D.on("ready",function(){B(D);}).on("error",function(F){C({ia:!1,error:F});}).start();}).then(function(){z.state=y.gD;return {ia:!0,track:z};}).catch(function(B){z.log.error("Unable to parse timed text track",(0,u.xw)(B),z.yg,{url:B.url});z.state=y.lP;B.reason="parseerror";B.track=z;throw B;});};c.prototype.X3=function(x,z,A){x=Object.assign({},x,{Xgc:z,status:A});this.j.fireEvent(q.ea.PN,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,z){var A,B,C;A=this;this.log.trace("Downloading",x);C=this.p4(this.zs);x={url:x.url,offset:x.offset,length:x.size,Cr:this.Cr,responseType:f.IT,headers:{},Bc:C?{id:C.Hg}:void 0,MA:"tt-" + this.re,nr:null !== (B=null === C || void 0 === C?void 0:C.type) && void 0 !== B?B:w.EP};this.j.o5.download(x,function(D){A.log.trace("imgsub: request status " + D.ia);D.ia?z(null,new Uint8Array(D.content)):z({xa:D.xa,Ee:D.Ee});});};c.prototype.Ms=function(x,z,A){return {currentCdnId:x,url:z,profile:this.profile,dlid:this.Ub,subtitletype:A,bcp47:this.re,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.ik};};c.prototype.p4=function(x){return (this.urls || []).find(function(z){return z.Hg === x;});};c.prototype.CVa=function(){var B,C;function x(D){return k.__awaiter(B,void 0,void 0,function G(){var E,J,L;J=this;return Ia(G,function(N){E=A();L=J.Ms(D.Bc.Hg,D.url,"text");L.errorstring=D.reason;return E && J.K9(L)?N.return(J.Cha(C[E.Hg]).then(z)):N.return(Promise.reject({ia:!1,aborted:!0}));});});}function z(){return k.__awaiter(B,void 0,void 0,function F(){var G,E,J;J=this;return Ia(F,function(L){G=A();E=null === G || void 0 === G?void 0:G.url;return G && E?(C[G.Hg]=(C[G.Hg] || 0) + 1,L.return(J.BBb(E,G).catch(x))):L.return(Promise.reject({}));});});}function A(){return (B.urls || []).find(function(D){return !!((C[D.Hg] || 0) < l.config.Obb);});}B=this;this.state=y.LOADING;C={};return z();};c.prototype.Cha=function(x){return new Promise(function(z){var A;A=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return z(A);},A);});};c.prototype.BBb=function(x,z){var A;A=this;this.log.trace("Downloading",z && ({Bc:z.Hg}),this.Ms(z.Hg,x,"text"));return new Promise(function(B,C){var D,F;F={responseType:f.Mna,url:x,track:A,Bc:{id:z.Hg},MA:"tt-" + A.re,nr:null !== (D=z.type) && void 0 !== D?D:w.EP};A.j.o5.download(F,function(G){G.ia?B(G.content):(G=Object.assign(Object.assign({},G),{reason:"downloadfailed",url:F.url,track:A,Bc:z}),C(G));});});};Wa.Object.defineProperties(c.prototype,{Af:{configurable:!0,enumerable:!0,get:function(){return this.acb.Af;}},gC:{configurable:!0,enumerable:!0,get:function(){return this.acb.gC;}}});b.zD=c;c.Lz=y;},43625:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nUa=void 0;b.nUa=function(a,c,k,f){return {MIb:function(){var l;l=a.Kma();f.Rs && (l+=f.Rs);return l;},la:c,request:k,kf:!1};};},26047:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u;function c(t){var w;w=this;this.j=t;this.mwa=this.Q4a=0;this.tg=this.Wk=!1;this.Qp=0;this.s5=new Set();this.GW=!0;this.jl=function(){var v,y;w.c9();w.RE && (w.log.info("Deactivating",w.RE),w.Zy.Nzb(w.Ks()));w.j.Yh.set(null);w.MH.z$a(void 0);w.RSa();v=w.j.wb.value;v && v.Vn() && !v.Wm() && (v=null);if(v && w.j.lb.value !== q.bb.Gf){y=w.Ks();w.Zy.iqb(y,v);}v?(w.log.info("Activating",v),w.j.fm.set(v.getState() === k.zD.Lz.gD?q.sf.$d:q.sf.Qe),w.Wk || w.j.ke("tt_start"),v.z5().then(w.MJ).catch(w.MJ)):w.j.fm.set(q.sf.$d);w.RE=v;w.gz();};this.sync=function(){w.Wk && (w.MH.start(),w.j.lb.value !== q.bb.me && w.MH.stop());};this.gz=function(){var v;w.GW && w.j.state.value === q.Tb.$d && w.j.lb.value !== q.bb.Gf && (w.$g?v=w.MH.YFb():w.j.wb.value && (v=c.A1b[w.j.wb.value.getState()]));v && (0,p.Sc)(v.startTime) && w.j.Ht.value !== v && (w.Q4a++,w.mwa+=w.MH.pZa() - v.startTime,w.tRa=Math.ceil(w.mwa / (w.Q4a + 0)));w.j.Ht.set(v);};this.Ks=function(){var v;v=w.j.Kma();w.RE && w.RE.Rs && (v+=w.RE.Rs);return v;};this.Dra=function(v){w.s5.add(v);w.GW && (w.fireEvent(c.cab,v),v && v.id && (w.Zy.ddb(v.id),!1));w.log.trace("showsubtitle",w.O4(v));};this.mV=function(v){w.s5.delete(v) && w.GW && (w.fireEvent(c.R8a,v),w.log.trace("removesubtitle",w.O4(v)));};this.NKb=function(){w.s5.forEach(function(v){w.fireEvent(c.R8a,v);w.log.trace("hide subtitle",w.O4(v));});};this.bZb=function(){w.s5.forEach(function(v){w.fireEvent(c.cab,v);w.log.trace("resume subtitle",w.O4(v));});};this.sh=function(){w.log.warn("imagesubs buffer underflow",w.j.wb.value.yg);w.j.fm.set(q.sf.Qe);};this.nra=function(){w.log.info("imagesubs buffering complete",w.j.wb.value.yg);w.j.fm.set(q.sf.$d);};this.L7=function(){w.Wk && w.$g && w.$g.hz(w.Ks());};this.O5a=function(v){w.Wk && w.$g && (w.$g.pause(),w.$g.xC(v.ws));};this.Dv=function(){w.Wk && w.$g && w.$g.R7a();};this.L5a=function(v){w.$g && w.$g.Kj(v.oh,v.oM);};this.T5a=function(v){w.$g && w.$g.aj(v.I,v.a5b);};this.dTb=function(){w.Wk=!0;(0,m.Mf)(function(){var v,y;(null === (v=w.RE) || void 0 === v?0:v.ik)?null === (y=w.$g) || void 0 === y?void 0:y.hz(w.Ks()):w.sync();w.gz();});};this.aTb=function(){w.RSa();w.MH.stop();w.gz();w.tg=!0;w.c9();};this.Hra=function(v){(v=v.newValue) && (0,p.isArray)(v.blocks) && (w.Zy.ddb.apply(w.Zy,da(v.blocks.map(function(y){return y.id;}))),!1);};this.gTb=function(v){w.U4b(v.newValue,v.oldValue);w.sync();w.gz();};this.MJ=function(v){var y;if(!w.tg){y=v.track;if(y === w.j.wb.value)try{w.$g=y.cna();y.ik?w.gqb(v):w.hqb(v);}catch(x){w.log.error("Error activating track:",x,y);return;}w.Wk || w.j.ke(v.ia?"tt_comp":"tt_err");v.ia?(d.config.E9a?setTimeout(function(){w.j.fm.set(q.sf.$d);},d.config.E9a):w.j.fm.set(q.sf.$d),y.ik || w.gz()):v.aborted?w.log.warn("aborted timed text track loading"):d.config.ZDb?w.j.od(h.U.zib,{Jb:v.track?v.track.yg:{}}):(w.log.error("ignore subtitle initialization error",v),w.j.fm.set(q.sf.$d));}};this.Db=new l.Rj();this.Zy=new n.RLa((0,g.Gh)(t,"SubtitleTracker"),d.config.NCb);this.log=(0,g.Gh)(t,"TimedTextManager");this.MH=new f.kMa(this.Ks,this.gz);this.j.wb.addListener(this.jl);d.config.uVb?(this.j.addEventListener(q.ea.Wk,this.dTb),this.jl()):(this.j.fm.set(q.sf.$d),this.j.addEventListener(q.ea.Wk,function(){w.Wk=!0;w.jl();}));this.j.lb.addListener(this.gTb);this.j.addEventListener(q.ea.vwa,this.sync);this.j.Ht.addListener(this.Hra);this.j.addEventListener(q.ea.tg,this.aTb);}Object.defineProperty(b,"__esModule",{value:!0});b.iMa=void 0;k=a(31360);f=a(2108);l=a(59883);d=a(37986);g=a(89082);n=a(33010);h=a(68172);m=a(66052);p=a(95919);q=a(34202);u=a(14659);c.prototype.L0b=function(){this.GW=!0;this.bZb();this.gz();};c.prototype.OKb=function(){this.GW=!1;this.NKb();this.gz();};c.prototype.addEventListener=function(t,w,v){this.Db.addListener(t,w,v);};c.prototype.removeEventListener=function(t,w){this.Db.removeListener(t,w);};c.prototype.fireEvent=function(t,w,v){this.Db.Dc(t,w,v);};c.prototype.xga=function(t,w,v){var y,x;y=this;x=u.gMa.Cyb(this.j,t,w,v);this.T0a(this.j.bh,x);this.j.ai.forEach(function(z){y.T0a(z.bh,x);});this.j.wb.set(x);this.j.fireEvent(q.ea.Jt);};c.prototype.zVb=function(t){this.fua(t)?t.z5().then(function(){}):Promise.resolve();};c.prototype.vJb=function(t){return this.Zy.cJb(t);};c.prototype.dna=function(t){return this.Zy.dna(t);};c.prototype.vT=function(){var t,w;t=this.j.lX;w=d.config.Bwa.characterSize;w={size:d.config.o$.characterSize || w};t && (w.visibility=t.jna(),w.FR=t.hna(),w.Wq=t.ina());return w;};c.prototype.$_b=function(t){d.config.o$.characterSize=t;t=this.j.wb.value;this.fua(t) && !t.ik && t.z5().then(this.MJ).catch(this.MJ);};c.prototype.U4b=function(t,w){var v;t === q.bb.me || t == q.bb.Vh?w !== q.bb.me && w !== q.bb.Vh && ((w=this.j.wb.value) && !this.fua(w) || this.Zy.W4a(this.Ks(),w || void 0,"presentingstate:" + t)):t !== q.bb.Gf && t !== q.bb.aq || this.Zy.Bka(null !== (v=this.Ks()) && void 0 !== v?v:void 0,"presentingstate:" + t);};c.prototype.c9=function(){this.Qp=0;clearTimeout(this.nN);};c.prototype.RSa=function(){var t;this.$g && this.$g.stop();(null === (t=this.RE) || void 0 === t?0:t.ik) && this.o3a("removeListener");this.$g=void 0;};c.prototype.o3a=function(t){this.$g && (this.$g[t]("showsubtitle",this.Dra),this.$g[t]("removesubtitle",this.mV),this.$g[t]("underflow",this.sh),this.$g[t]("bufferingComplete",this.nra),"addListener" === t?(this.j.addEventListener(q.ea.Gn,this.L7),this.j.addEventListener(q.ea.Aj,this.O5a),this.j.addEventListener(q.ea.kH,this.Dv),this.j.addEventListener(q.ea.v7,this.L5a),this.j.addEventListener(q.ea.fxa,this.T5a)):(this.j.removeEventListener(q.ea.Gn,this.L7),this.j.removeEventListener(q.ea.Aj,this.O5a),this.j.removeEventListener(q.ea.kH,this.Dv),this.j.removeEventListener(q.ea.v7,this.L5a),this.j.removeEventListener(q.ea.fxa,this.T5a)));};c.prototype.O4=function(t){return {currentPts:this.Ks(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.gqb=function(t){var w,v;w=this;v=t.track;if(!v || !v.ik)throw Error("Not an image base subtitle");t.ia?(this.c9(),this.o3a("addListener"),this.log.info("Activated",v),this.j.Yh.set(v),this.Wk?(0,m.Mf)(function(){w.$g.hz(w.Ks());}):this.$g.pause()):this.t9a(v,t);};c.prototype.hqb=function(t){var w,v;w=t.track;v=t.ia;if(!w || w.ik)throw Error("Not a valid text track");v?(this.c9(),this.MH.z$a(this.$g),this.log.info("Activated",w),this.j.Yh.set(w)):this.t9a(w,(0,h.xw)(t));this.gz();};c.prototype.t9a=function(t,w){var v,y;v=this;y=this.Qp < d.config.$Pb;y && (this.nN=setTimeout(function(){v.Qp++;t.z5().then(v.MJ).catch(v.MJ);},d.config.h3b));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.ik)?" img subtitle":""),{retry:y},w,t);};c.prototype.fua=function(t){return !(!t || t.Vn() && !t.Wm());};c.prototype.T0a=function(t,w){var v;v=t.findIndex(function(y){return y.ec >= w.ec;});-1 === v && (v=0);t.splice(v,0,w);};b.iMa=c;r={};c.A1b=(r[k.zD.Lz.LOADING]={uU:!0},r[k.zD.Lz.lP]={Fs:!0},r);c.cab="showsubtitle";c.R8a="removesubtitle";},31205:function(r,b,a){var k,f,l,d,g,n;function c(h){var m,p,q,u;m=this;this.j=h;this.MSb=function(){var t;l.he.removeListener(l.Z4,m.Q5a);t=m.Tn.Rm();t && t.parentNode && t.parentNode.removeChild(t);};this.Hra=function(t){m.Tn.A_b(t.newValue);};this.qTb=function(t){var w;m.Tn.G_b(t.newValue?t.newValue.R5:void 0);m.Tn.H_b(null === (w=t.newValue) || void 0 === w?void 0:w.re);m.Tn.B4b(m.NYa(t.newValue));};this.Q5a=function(){m.Tn.$G();};q=h.wb.value?h.wb.value.R5:void 0;u=null === (p=h.wb.value) || void 0 === p?void 0:p.re;p=this.NYa(h.wb.value);this.Tn=new g.hMa(p,q,u);q=h.MC.value;(0,f.na)(.1 < q.width / q.height);this.Tn.q_b(q.width / q.height);h.qk.appendChild(this.Tn.Rm());h.Ht.addListener(this.Hra);h.wb.addListener(this.qTb);h.addEventListener(n.ea.tg,this.MSb,k.KI);l.he.addListener(l.Z4,this.Q5a);}Object.defineProperty(b,"__esModule",{value:!0});b.jMa=void 0;k=a(7942);f=a(70633);l=a(25892);d=a(37986);g=a(15789);n=a(34202);c.prototype.vva=function(h){this.Tn.vva(h);};c.prototype.jna=function(){return this.Tn.jna();};c.prototype.tva=function(h){this.Tn.tva(h);};c.prototype.hna=function(){return this.Tn.hna();};c.prototype.uva=function(h){this.Tn.uva(h);};c.prototype.ina=function(){return this.Tn.ina();};c.prototype.NYa=function(h){var m;if(h && d.config.r6 && 0 <= d.config.r6.indexOf(h.re)){m=Object.assign({},d.config.n$);Object.entries(m).forEach(function(p){var q;q=ma(p);p=q.next().value;q=q.next().value;m[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return m;}return d.config.n$;};b.jMa=c;},99275:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$pa=void 0;b.$pa=function(a,c){var d,g;if(0 !== a.length){if(1 === a.length)return a[0];for(var k=a[0],f=c(k),l=1;l < a.length;l++){d=a[l];g=c(d);g > f && (k=d,f=g);}return k;}};},38229:function(r,b,a){var c,k,f,l,d,g,n,h,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.Yd=void 0;r=a(86700);c=a(79646);k=a(99435);f=a(27429);l=a(35032);d=a(58236);g=a(91026);n=a(89414);h=a(19761);m=a(80911);p=a(55349);b.Yd=new r.$c(function(q){q(l.L_).to(c.QLa).da();q(d.Ida).to(f.nKa).da();q(g.KMa).to(k.JMa).da();q(n.Rjb).to(h.tHa).da();q(m.dNa).to(p.cNa).da();});},58875:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.N7a=void 0;b.N7a=function(a){var c,k;c=!1;k=!1;return function(){if(c)k=!0;else for(k=!0;k;){k=!1;c=!0;a();c=!1;}};};},42029:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.q6=void 0;b.q6=function(a,c,k){var f;if(k.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");f=k.get;k.get=function(){var l,d;l=f.apply(this,arguments);d={enumerable:k.enumerable,value:l};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return l;};};},89414:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rjb="ObjectComparerSymbol";},77878:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.hV=b.Ph=void 0;c=a(56170);b.Ph=function(k,f){return [].concat.apply([],da(k)).map(function(l){return Object.assign({name:l},null !== f && void 0 !== f?f:{});});};b.hV=function(k,f){for(var l=[],d=1;d < arguments.length;++d){l[d - 1]=arguments[d];}return (0,c.nVa)(function(g,n){return g.name === n;},k,l);};},58236:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ida="QueryStringDataProviderSymbol";},35032:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.L_=b.Bo=void 0;b.Bo=function(){};b.L_="StringObjectReaderSymbol";},75183:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CS=b.Koa=void 0;b.Koa=function(a){return void 0 !== a && null !== a;};b.CS=function(){return null;};},91026:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KMa="UuidProviderSymbol";},80911:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dNa="WindowUtilsSymbol";},19761:function(r,b,a){var k,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.tHa=void 0;r=a(70655);k=a(86700);f=a(36447);c.prototype.compare=function(l,d){var g;g=[];this.Ria(l,d,"",g);return g;};c.prototype.Ria=function(l,d,g,n){var h;h=this;if(f.eD.qA(l))f.eD.qA(d) && l.length === d.length?l.forEach(function(q,u){h.Ria(l[u],d[u],g + "[" + u + "]",n);}):n.push({a:l,b:d,path:g});else if(f.eD.nR(l) && null != l){if(f.eD.nR(d) && null != d){for(var m in l){this.Ria(l[m],d[m],g + "." + m,n);}for(var p in d){(p in l) || void 0 === d[p] || n.push({a:void 0,b:d[p],path:g + "." + p});}}else n.push({a:l,b:d,path:g});}else l !== d && n.push({a:l,b:d,path:g});};a=c;a=r.__decorate([(0,k.T)()],a);b.tHa=a;},27429:function(r,b,a){var k,f,l,d;function c(g){this.location=g;(0,f.$n)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.nKa=void 0;r=a(70655);f=a(60920);l=a(63088);a=a(86700);c.yV=function(g){var n,m,p;n={};if(0 < g.length){g=g.split("&");for(var h=0;h < g.length;h++){m=g[h].trim();p=m.indexOf("=");0 <= p?n[decodeURIComponent(m.substr(0,p).replace(k.PHa,"%20"))]=decodeURIComponent(m.substr(p + 1).replace(k.PHa,"%20")):n[m.toLowerCase()]="";}}return n;};Wa.Object.defineProperties(c.prototype,{SWb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=k.yV(this.U7a);}},U7a:{configurable:!0,enumerable:!0,get:function(){var g;if(void 0 !== this.VV)return this.VV;this.VV=this.location.search.substr(1);g=this.VV.indexOf("#");0 <= g && (this.VV=this.U7a.substr(0,g));return this.VV;}}});d=k=c;d.PHa=/[+]/g;d=k=r.__decorate([(0,a.T)(),r.__param(0,(0,a.l)(l.oFa))],d);b.nKa=d;},79646:function(r,b,a){var k,f,l,d,g,n;function c(h,m){this.is=h;this.json=m;(0,f.$n)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.QLa=void 0;r=a(70655);f=a(60920);l=a(63088);d=a(86700);g=a(89542);n=a(35032);c.prototype.h8a=function(h){var m;m=this;return k.read(h,function(p){return parseInt(p);},function(p){return m.is.Yga(p);});};c.prototype.sta=function(h){var m;m=this;return k.read(h,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return m.is.m1(p);});};c.prototype.Lp=function(h){var m;m=this;return k.read(h,function(p){return parseInt(p);},function(p){return m.is.oR(p);});};c.prototype.aXb=function(h){var m;m=this;return k.read(h,function(p){return parseFloat(p);},function(p){return m.is.Zj(p);});};c.prototype.g8a=function(h,m){return k.read(h,function(p){return k.uEb(p,m);},function(p){return void 0 !== p;});};c.prototype.vta=function(h,m){return k.read(h,function(p){return p;},function(p){return m?m.test(p):!0;});};c.prototype.i8a=function(h){var m,p;m=this;p=void 0 === p?function(){return !0;}:p;try{return k.read(h,function(q){return m.json.parse(decodeURIComponent(q));},function(q){return m.is.nR(q) && p(q);});}catch(q){return new n.Bo();}};c.prototype.zj=function(h,m,p){var q,u;q=this;p=void 0 === p?1:p;h=h.trim();u=m instanceof Function?m:this.bzb(m,p);m=h.indexOf("[");p=h.lastIndexOf("]");if(0 != m || p != h.length - 1)return new n.Bo();h=h.substring(m + 1,p);try{return k.gUb(h).map(function(t){t=u(q,k.E5b(t));if(t instanceof n.Bo)throw t;return t;});}catch(t){return t instanceof n.Bo?t:new n.Bo();}};c.prototype.bzb=function(h,m){var p;p=this;m=void 0 === m?1:m;return function(q,u){q=k.sIb(h);return 1 < m?p.zj(u,h,m - 1):q(p,u);};};c.uEb=function(h,m){var q;for(var p in m){q=parseInt(p);if(m[q] == h)return q;}};c.read=function(h,m,p){h=m(h);return void 0 !== h && p(h)?h:new n.Bo();};c.sIb=function(h){switch(h){case "int":return function(m,p){return m.h8a(p);};case "bool":return function(m,p){return m.sta(p);};case "uint":return function(m,p){return m.Lp(p);};case "float":return function(m,p){return m.aXb(p);};case "string":return function(m,p){return m.vta(p);};case "object":return function(m,p){return m.i8a(p);};}};c.gUb=function(h){var y;for(var m=[["[","]"]],p=[],q=0,u=0,t=0,w=[],v={};u < h.length;(v={vO:v.vO},++u)){v.vO=h.charAt(u);y=void 0;"," == v.vO && 0 == t?(p.push(h.substr(q,u - q)),q=u + 1):(y=m.find((function(x){return function(z){return z[0] == x.vO;};})(v)))?(++t,w.push(y)):0 < w.length && w[w.length - 1][1] == v.vO && (--t,w.pop());}if(q != u)p.push(h.substr(q,u - q));else if(q == u && 0 < q)throw new n.Bo();return p;};c.E5b=function(h){var m;m=h.charAt(0);if('"' == m || "'" == m){if(h.charAt(h.length - 1) != m)throw new n.Bo();return h.substring(1,h.length - 1);}return h;};a=k=c;a=k=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.Wf)),r.__param(1,(0,d.l)(l.fD))],a);b.QLa=a;},99435:function(r,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.JMa=void 0;r=a(70655);a=a(86700);c.prototype.QXa=function(f){var l;l=this;return f?(f ^ 16 * Math.random() >> f / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return l.QXa(d);});};k=c;k=r.__decorate([(0,a.T)()],k);b.JMa=k;},55349:function(r,b,a){var k,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cNa=void 0;r=a(70655);k=a(86700);f=a(50876);c.prototype.TIb=function(){var l;l=pb.devicePixelRatio || 1;return {width:f.iu.width * l,height:f.iu.height * l};};a=c;a=r.__decorate([(0,k.T)()],a);b.cNa=a;},27138:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yaa="AsePrefetcherAdapterSymbol";b.Rya="AsePrefetcherProviderSymbol";},19419:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uaa="CacheManagerFactorySymbol";},99216:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y;Object.defineProperty(b,"__esModule",{value:!0});b.Zc=void 0;r=a(86700);c=a(2869);k=a(90098);f=a(76820);l=a(97204);d=a(65537);g=a(52686);n=a(61932);h=a(2094);m=a(10382);p=a(84337);q=a(57730);u=a(82134);t=a(27138);w=a(33841);v=a(19419);y=a(30676);b.Zc=new r.$c(function(x){x(c.YIa).to(k.XIa).da();x(l.Eda).to(d.fKa).da();x(f.BD).to(g.TMa).da();x(p.eKa).to(m.$Fa).da();x(p.dKa).to(h.ZEa).da();x(p.cKa).to(n.TEa).da();x(t.Rya).r3b(function(){var z;return null === (z=u.Xo.Rh) || void 0 === z?void 0:z.Jv;});x(t.yaa).to(w.Qya).da();x(q.Cda).to(q.SJa);x(v.Uaa).to(y.iAa).da();});},2869:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YIa="PlayPredictionDeserializerSymbol";},84337:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eKa="PreparerManifestFetcherSymbol";b.dKa="PreparerLicenseFetcherSymbol";b.cKa="PreparerLegacyLicenseFetcherSymbol";},73374:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ej=void 0;r=b.ej || (b.ej={});r.Fn="created";r.Xv="started";r.QN="succeeded";r.Fs="failed";r.Zf="cancelled";r.kSa="cancelled_on_start";r.iia="cancelled_not_encrypted";},97204:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eda=b.RI=void 0;r=b.RI || (b.RI={});r.J2b="taskstart";r.H2b="taskabort";r.I2b="taskfail";r.K2b="tasksuccess";b.Eda="PreparerTaskSchedulerSymbol";},76820:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BD="VideoPreparerSymbol";},33841:function(r,b,a){var f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z;function c(){var A;A=this;this.promise=new Promise(function(B,C){A.resolve=B;A.reject=C;});}function k(A,B,C,D,F){var G;G=this;this.Gsa=C;this.IVb=D;this.Lh=F;this.QX=[];this.iC=new Map();this.Pna=new Map();this.fTb=function(E){var J,L;E=E.wishListItem.key.J;if(G.iC.has(E)){L=G.iC.get(E);E=L.MM;L=L.Via;null === (J=L.resolve) || void 0 === J?void 0:J.call(L,E);}};this.P7=function(E){var J,L;J=E.J;L=E.W;E.target.Bxa(E.J) || (G.Pe.has({J:J}) && (G.Pe.Qm(J).Fq=!0),null === L || void 0 === L?void 0:L.then(function(N){var I;I=N.Fa;I && I.bc && I.$o && I.$o.forEach(function(O){var K;K={yf:{bc:I.bc,Cd:J}};G.Pe.has({J:O.O,Cd:I.O,bc:I.bc}) && (G.Pe.Qm(O.O,K).Fq=!0);});}).catch(function(){}),G.G8a(J),G.Q$a(G.QX));};this.FWa=function(E,J){var L,N;L=E.J;N=E.W;E.target.Bxa(L) || (null === N || void 0 === N?void 0:N.then(function(I){(I=I.Fa) && I.bc && I.bc === J.bc && L === J.Cd && (I={yf:{bc:I.bc,Cd:L}},G.Pe.has(J) && (G.Pe.Qm(J.J,I).Fq=!0),G.Pna.delete(G.Pe.generateKey(J)));}).catch(function(){}));};this.la=A.Ua("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.Qya=void 0;r=a(70655);f=a(71163);a(45186);l=a(82134);d=a(91854);g=a(17244);n=a(37986);h=a(93);m=a(27138);p=a(86700);q=a(57730);u=a(28075);t=a(76586);w=a(41047);v=a(39540);y=a(27181);x=a(73374);z=a(70633);k.prototype.va=function(A){var B;B=this;this.Pe=new v.sea(function(C,D){return B.Yu(C,A,l.Xo.$h,D);},function(C,D){return B.Sv(C,A,D);});};k.prototype.fetch=function(A,B){var C;C=this;if(-1 === B.events.listeners("manifestRemovedFromCache").indexOf(this.P7))B.events.on("manifestRemovedFromCache",this.P7);if(-1 === B.events.listeners("playbackClosing").indexOf(this.P7))B.events.on("playbackClosing",this.P7);!1;return this.Vx(A.O,B,A.nb).then(function(D){if("LIVE" === D.Fa.eg)throw {status:x.ej.kSa};C.Q$a(C.dwb(C.Azb(A,B)));return C.iC.get(A.O).Via.promise;});};k.prototype.getStats=function(){return this.Jv.getStats();};k.prototype.H1b=function(A,B,C){B={Ji:B,W:C};this.Pna.set(this.Pe.generateKey(A),B);};k.prototype.GIb=function(A){return this.Pna.get(this.Pe.generateKey(A));};k.prototype.dwb=function(A){return [A].concat(da(this.QX.filter(function(B){return B.key.J !== A.key.J;}))).slice(0,this.config.GVb).map(this.config.HVb?function(B,C){return Object.assign({},B,{priority:C});}:function(B){return B;});};k.prototype.iZa=function(A,B,C){var D;D=this;C=void 0 === C?{}:C;return this.Vx(A,B,C).then(function(F){D.PTa(F,B);return F.Fa;});};k.prototype.Vx=function(A,B,C){var D;C=void 0 === C?{}:C;return this.Lh.Vx({ma:null !== (D=B.Ps(A)) && void 0 !== D?D:B.U2(A),J:A,Gq:h.ol.MI,mf:w.yh.ln,Wa:C});};k.prototype.Sv=function(A,B,C){var D,F,G,E,J,L;D=this;(0,z.na)(C.yf,"auxiliaryOptions must exist if an adBreak hydration was requested");G=C.yf;E=G.bc;J=G.Cd;(0,z.na)(!!E,"auxiliaryManifestToken must exist if an adBreak hydration was requested");L=this.Pe.Qm(null === (F=null === C || void 0 === C?void 0:C.yf) || void 0 === F?void 0:F.Cd);return L.Vp.then(function(N){var I,O,K;N=N.W.Ef;I=L.ma;(0,z.na)(void 0 !== I,"parent xid must exist if an adBreak hydration was requested");O=h.ol.qm;K={JL:!0,bg:!1,JC:Date.now()};return D.Lh.Vx({ma:Number(I),Wa:K,J:J,Gq:O,mf:void 0,dO:void 0,If:{Ji:A,bc:E,Cd:J,sV:N}},!1).then(function(H){var M,R;D.PTa(H,B);H.$o.forEach(function(Y){var oa;function ea(Ga){D.FWa(Ga,oa);B.events.ar("playbackClosing",ea);}function ca(Ga){D.FWa(Ga,oa);B.events.ar("manifestRemovedFromCache",ca);}oa={J:Y.Fa.O,Cd:J,bc:E};D.H1b(oa,A,Y);B.events.on("manifestRemovedFromCache",ca);B.events.on("playbackClosing",ea);});if(null === (M=H.Fa.Am) || void 0 === M || !M.ce.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (J + ", adBreakToken: " + A));return null === (R=H.Fa.Am) || void 0 === R?void 0:R.ce[0];});});};k.prototype.PTa=function(A,B){var C,D,F;C=this;D=A.Fa;null === (F=D.$o) || void 0 === F?void 0:F.forEach(function(G){C.Yu(G.O,B,l.Xo.$h,{yf:{bc:G.bc,Cd:D.O}},G);});};k.prototype.Azb=function(A,B){var C,D,F,G,E,J;F=new c();if(this.iC.has(A.O)){G=this.iC.get(A.O);E=G.MM;if(E.O === A.O && E.wd === A.wd)J=G.r6b.key;this.Jv.getStats().contents.some(function(L){return L.id === A.O;}) && (F=G.Via);}G=l.Xo.$h.En((0,n.G2)(A.wd));J || (J={J:A.O,config:G});E={J:A.O};this.Pe.has(E) || this.Pe.store(E,this.yzb(A,B,G));B={key:J,Qdc:!1,priority:A.priority,e2:d.N.Ma(null !== (D=null === (C=A.nb) || void 0 === C?void 0:C.ab) && void 0 !== D?D:0),Pe:this.Pe};this.iC.set(A.O,{r6b:B,MM:A,Via:F});return B;};k.prototype.yzb=function(A,B,C){var D,F,G;D=this;F=A.O;return {get ma() {return B.Ps(F);},Fq:!1,events:new u.EventEmitter(),jSa:function(){},get Vp() {G || (G=D.iZa(A.O,B,A.nb).then(function(E){return {W:E,Wu:E.c5 && !E.mB,config:C,Fva:{}};}));return G;},J:F,nwa:!1,equals:function(E){var J;J=B.Ps(F);return E && E.J === F && (!E.ma || !J || J === E.ma);}};};k.prototype.Yu=function(A,B,C,D,F){var G,E,J,L,N,I,O,K;G=this;N=B.Ps(A);if(N || D){I={J:A,Cd:null === (E=null === D || void 0 === D?void 0:D.yf) || void 0 === E?void 0:E.Cd,bc:null === (J=null === D || void 0 === D?void 0:D.yf) || void 0 === J?void 0:J.bc};if(!this.Pe.has(I)){O=null !== N && void 0 !== N?N:this.Pe.Qm(null === (L=null === D || void 0 === D?void 0:D.yf) || void 0 === L?void 0:L.Cd).ma;this.Pe.store(I,{jSa:function(){},equals:function(H){return H && H.J === I.J && (O === H.ma || !H.ma || !O);},get Vp() {K || (K=(F?Promise.resolve(F):G.iZa(A,B)).then(function(H){return {W:H,Wu:H.c5 && !H.mB,config:C,Fva:{}};}));return K;},set Vp(H) {K=H;},events:new u.EventEmitter(),ma:O,J:I.J,Fq:!1,nwa:!1});}}};k.prototype.y$a=function(A){this.QX=A;};k.prototype.Q$a=function(A){this.y$a(A);this.Jv.P$a(this.QX);};k.prototype.G8a=function(A){this.iC.has(A) && (this.y$a(this.QX.filter(function(B){return B.key.J !== A;})),this.iC.delete(A));};Wa.Object.defineProperties(k.prototype,{Jv:{configurable:!0,enumerable:!0,get:function(){this.ex || (this.ex=this.IVb(),this.ex.mva(this.Gsa).H$a(new y.zEa()).m$a({rB:this.config.FVb}),this.ex.events.on("prefetchComplete",this.fTb));return this.ex;}}});a=k;a=r.__decorate([(0,p.T)(),r.__param(0,(0,p.l)(f.Xa)),r.__param(1,(0,p.l)(g.ac)),r.__param(2,(0,p.l)(q.Cda)),r.__param(3,(0,p.l)(m.Rya)),r.__param(4,(0,p.l)(t.lD))],a);b.Qya=a;},30676:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p){var q;q=this;this.Yf=m;m=p();this.rg=new n({log:h.Ua("CacheManager"),qa:{getTime:function(){return q.Yf.Eb().ba(d.oa);}},Promise:Promise,kf:!1,bub:m.OVb,aub:m.MVb,HDb:m.s7a,GDb:m.NVb});}Object.defineProperty(b,"__esModule",{value:!0});b.iAa=void 0;r=a(70655);k=a(86700);f=a(58998);l=a(71163);d=a(2467);g=a(17244);n=a(22153);c=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.Xa)),r.__param(1,(0,k.l)(f.Jc)),r.__param(2,(0,k.l)(g.ac))],c);b.iAa=c;},27181:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.zEa=void 0;a.prototype.fXa=function(c,k){var f;return null !== (f=this.vEb(c,k)) && void 0 !== f?f:this.zEb(c,k);};a.prototype.vEb=function(c,k){var f,l;f=this;l=k.ga;return c.find(function(d){var g;return f.c3(l,null === (g=d.ga) || void 0 === g?void 0:g.ga);});};a.prototype.zEb=function(c,k){var f,l;f=k.ga.ve;l=k.ga.L[f];return c.find(function(d){var g;d=null === (g=d.ga) || void 0 === g?void 0:g.ga;d=(g=null === d || void 0 === d?void 0:d.ve) && (null === d || void 0 === d?void 0:d.L[g]) || void 0;return f === g && l.J === (null === d || void 0 === d?void 0:d.J) && l.ta === (null === d || void 0 === d?void 0:d.ta);});};a.prototype.c3=function(c,k){var f;f=this;return c === k?!0:"object" !== typeof c || "object" !== typeof k?c === k:Object.keys(c).length === Object.keys(k).length && Object.keys(c).every(function(l){return f.c3(c[l],k[l]);});};b.zEa=a;},61932:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z;function c(A,B,C,D,F,G,E,J,L,N,I){this.dr=C;this.LW=D;this.kc=F;this.qa=G;this.Ea=E;this.VL=J;this.JUb=L;this.Lh=N;this.di=I;this.log=A.Ua("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.TEa=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(17244);d=a(73374);g=a(3971);n=a(41047);h=a(811);m=a(50563);p=a(84036);q=a(31224);u=a(2467);t=a(35664);w=a(58998);v=a(45186);y=a(62298);x=a(76586);a=a(23152);c.prototype.fetch=function(A,B){var C;C=this;this.log.trace("Fetching LDL",(0,v.vI)(A));this.O=A.O;this.Zc=B;return B.bL(A.O,"ldl").catch(function(){C.log.trace("Requesting a new license",(0,v.vI)(A));return C.Lh.o4(A.O).then(function(D){var F,G;C.W=D;C.Fa=D.Fa;if(D=C.Zc.Y$a(A.O,C.Fa))throw {status:D};D=C.Fa.Pt[0].OV;F=C.Fa.Pt[0].ika;G=(D?D:[F]).map(function(E){return C.kc.decode(E.bytes);});C.ee=C.EA({QVa:C.log,Hka:function(E){return C.handleError(E);},ke:void 0,ara:function(){},qa:{getTime:function(){return C.Ea.Eb().ba(u.oa);},fdc:function(){return C.qa.fe.ba(u.sm);}}});B.n$a(A.O,C.ee);return C.ee.create(C.config.Tl).then(function(){return C.ee.Vg(n.yh.ln,G,!0);}).then(function(){return C.ee;}).catch(function(E){C.handleError(E);throw E;});}).catch(function(D){C.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:d.ej.Zf};});});};c.prototype.handleError=function(A){this.log.warn("ldl is now invalid",A);this.ee.close();this.Zc.MSa(this.O);this.Zc.Jia(this.O);};c.prototype.EA=function(A){var B,C;B=this;if(!this.dr.uI || !this.dr.sI){C=this.JUb();this.dr.uI=C.Vy;this.dr.sI=C.request;}C=new this.dr.sI(A.QVa,function(D){var F;F=[];D.rj.forEach(function(G){F.push({sessionId:G.sessionId,dataBase64:B.kc.encode(G.data)});});D={rj:F,t3:[B.Fa.Kk],mf:g.om.LTa(D.mf),Ef:B.Fa.Ef,ma:B.Zc.U2(B.O),ki:B.W.ki,eg:B.W.Fa.eg};B.log.trace("xid created ",{MovieId:B.O,xid:D.ma});return B.VL.Iu(D);},void 0,{kf:!1,hk:!1});return this.dr.uI(A.QVa,A.ke,{kf:!1,hk:!1,gd:C,RV:this.config.L7a,$:void 0,iz:this.config.YVa,onerror:A.Hka,ara:A.ara,qa:A.qa,NG:!1,zsb:this.LW.N2([]),P5b:this.LW.T2([]),lpa:this.di.G1.ba(u.oa)});};z=c;z=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(l.ac)),r.__param(2,(0,k.l)(h.n_)),r.__param(3,(0,k.l)(m.QP)),r.__param(4,(0,k.l)(q.fh)),r.__param(5,(0,k.l)(t.gg)),r.__param(6,(0,k.l)(w.Jc)),r.__param(7,(0,k.l)(p.mP)),r.__param(8,(0,k.l)(y.mda)),r.__param(9,(0,k.l)(x.lD)),r.__param(10,(0,k.l)(a.bq))],z);b.TEa=z;},2094:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t;function c(w,v,y,x,z,A){this.kc=y;this.KBb=x;this.fM=z;this.Lh=A;this.log=w.Ua("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.ZEa=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(17244);d=a(41047);g=a(31224);n=a(96630);h=a(26041);m=a(73374);p=a(45186);q=a(76586);u=a(85060);t=a(34902);c.prototype.fetch=function(w,v){var y;y=this;this.log.trace("Fetching LDL",(0,p.vI)(w));this.O=w.O;this.Zc=v;return v.bL(w.O,"ldl").then(function(x){return x.B9;}).catch(function(){y.log.trace("Requesting a new license",(0,p.vI)(w));return y.Lh.o4(w.O).then(function(x){var z,A,B,C,D,F;y.Fa=x.Fa;if(v.y_a(w.O))return v.bL(w.O,"ldl").then(function(G){return G.B9;});z=y.Zc.Y$a(w.O,y.Fa);if(z)throw {status:z};A=y.Fa.Pt[0];z=A.OV;B=A.ika;A=A.streams[0].DA;C=(0,u.voa)(A);D=(z?z:[B]).map(function(G){return y.kc.decode(G.bytes);});F=y.KBb().then(function(G){var E;E={type:d.yh.ln,initData:D,K5:C,context:{d6:(0,t.uma)(x.Fa.Pt[0].streams)},ti:{O:w.O,ma:v.U2(w.O),Ef:y.Fa.Ef,Kk:y.Fa.Kk,ki:x.ki,eg:x.Fa.eg}};return G.Vg(E,y.fM());}).catch(function(G){y.handleError("Unable to prepare an EME session.",G);throw G;});y.Zc.n$a(w.O,{B9:F,source:"videopreparer"},function(){if(!y.Zc.Bxa(w.O))try{F.then(function(G){return G.close();}).catch(function(G){y.handleError("Unable to cleanup LDL session, Unable to get the session.",G);});}catch(G){y.handleError("Unable to cleanup LDL session, unexpected exception.",G);}});return F;}).catch(function(x){y.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:m.ej.Zf};});});};c.prototype.handleError=function(w,v){this.log.warn(w + " LDL is now invalid.",v);this.Zc.MSa(this.O);this.Zc.Jia(this.O);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(l.ac)),r.__param(2,(0,k.l)(g.fh)),r.__param(3,(0,k.l)(n.KY)),r.__param(4,(0,k.l)(h.wP)),r.__param(5,(0,k.l)(q.lD))],a);b.ZEa=a;},10382:function(r,b,a){var k,f,l,d,g,n,h,m,p,q;function c(u,t,w,v,y){this.CU=w;this.Yf=v;this.Lh=y;this.log=u.Ua("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.$Fa=void 0;r=a(70655);k=a(17244);f=a(86700);l=a(71163);d=a(58998);g=a(2467);n=a(23251);h=a(93);m=a(45186);p=a(76586);q=a(41047);c.prototype.fetch=function(u,t){var w,v;this.log.trace("Fetching manifest",(0,m.vI)(u));v=u.nb;this.config.cqb && v && v.W && !this.Lh.b5(u.O) && (!(("clientGenesis" in v.W) && v.W.clientGenesis) || "number" === typeof v.W.clientGenesis && Date.now() - v.W.clientGenesis < this.config.s7a) && (v=this.CU.create(v.W)) && (v.dH=this.Yf.Eb().ba(g.oa),v.iN=this.Yf.Eb().ba(g.oa),this.Lh.UW(u.O,v));return this.Lh.Vx({ma:t.U2(u.O),J:u.O,Wa:null !== (w=u.nb) && void 0 !== w?w:{},Gq:h.ol.MI,mf:q.yh.ln},!0,function(y){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",J:u.O,W:y});});};a=c;a=r.__decorate([(0,f.T)(),r.__param(0,(0,f.l)(l.Xa)),r.__param(1,(0,f.l)(k.ac)),r.__param(2,(0,f.l)(n.FI)),r.__param(3,(0,f.l)(d.Jc)),r.__param(4,(0,f.l)(p.lD))],a);b.$Fa=a;},90098:function(r,b,a){var k,f,l;function c(d,g){this.ub=g;this.la=d.Ua("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.XIa=void 0;r=a(70655);k=a(86700);f=a(71163);a=a(89542);c.prototype.YAb=function(d){var g;g=this;try{return {direction:d.direction,Zdc:d.layoutHasChanged,wfc:d.rowInteractionIndex,Fb:d.lolomos.map(function(n){return g.TAb(n);})};}catch(n){this.la.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.TAb=function(d){var g;g=this;return {context:d.context,list:d.list.map(function(n){return g.SAb(n);}),requestId:d.requestId,rowIndex:d.rowIndex,xfc:d.rowSegment};};c.prototype.SAb=function(d){var g,n;g={we:d.pts,property:d.property,J:d.viewableId,index:d.index};n=d.preplay;this.ub.vg(n) && (g.w8=this.XAb(n));d=d.params;this.ub.vg(d) && (g.nb=this.eVa(d));return g;};c.prototype.XAb=function(d){var g;g={we:d.pts,J:d.viewableId,GM:d.pipelineNum,index:d.index};d=d.params;this.ub.vg(d) && (g.nb=this.eVa(d));return g;};c.prototype.eVa=function(d){return {wd:d.uiLabel,Nj:d.trackingId,bm:d.sessionParams};};c.prototype.WAb=function(d){var g;g=this;try{return d.map(function(n){return g.UAb(n);});}catch(n){this.la.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.UAb=function(d){var g,n;n=d.params;this.ub.vg(n) && (g=this.VAb(n));return {O:d.movieId,priority:d.priority,force:d.force,nb:g,wd:d.uiLabel,Fgc:d.uiExpectedStartTime,Egc:d.uiExpectedEndTime,Lk:d.firstTimeAdded};};c.prototype.VAb=function(d){var g,n;g=void 0;n=d.sessionParams;this.ub.vg(n) && (g=n);return {Z1:this.RAb(d.authParams),bm:g,Nj:d.trackingId,ab:d.startPts,W:d.manifest,bg:d.isBranching};};c.prototype.RAb=function(d){return {CUb:null === d || void 0 === d?void 0:d.pinCapableClient};};l=c;l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(a.Wf))],l);b.XIa=l;},57730:function(r,b,a){var k,f,l,d;function c(g,n){this.Xl=g;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.Cda=b.SJa=void 0;r=a(70655);k=a(86700);f=a(52115);l=a(41427);a=a(17244);c.prototype.w3a=function(g){var n,h;n=this;if(g.Dd.key.ga)return Promise.resolve(g.Dd.key.ga);h=g.Dd.key.J;return g.Dd.Pe.Qm(h).Vp.then(function(m){m=m.W;return m.fp?(0,l.t2)(m.fp,{config:n.config()}):(0,l.Q9)(h,n.Xl.Hq(h));});};d=c;d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.QI)),r.__param(1,(0,k.l)(a.ac))],d);b.SJa=d;b.Cda="PlaygraphResolverSymbol";},45186:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vI=void 0;b.vI=function(){return "";};},96467:function(r,b,a){var k,f;function c(l,d,g,n,h,m,p,q){this.type=l;this.Fn=d;this.yUb=void 0 === g?!1:g;this.notify=h;this.eEb=m;this.MM=p;this.Zc=q;this.id=++f;this.status=k.ej.Fn;}Object.defineProperty(b,"__esModule",{value:!0});b.MP=void 0;k=a(73374);f=0;c.prototype.Ms=function(){var l;l={id:this.id,type:this.type,created:this.Fn,status:this.status,movieId:this.O};this.startTime && (l.startTime=this.startTime);this.endTime && this.startTime && (l.duration=this.endTime - this.startTime,l.endTime=this.endTime);return l;};c.prototype.rM=function(l){this.notify && this.notify(l);};c.prototype.lZb=function(){return this.eEb.fetch(this.MM,this.Zc);};Wa.Object.defineProperties(c.prototype,{O:{configurable:!0,enumerable:!0,get:function(){return this.MM.O;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.MM.priority;}}});b.MP=c;},65537:function(r,b,a){var k,f,l,d,g,n,h,m,p,q;function c(u,t,w,v){this.is=w;this.Yf=v;this.log=u.Ua("TaskScheduler");this.Db=new p.Rj();this.config=t();this.currentIteration=this.aS=0;this.JH=[];this.paused=!1;this.X9=[];this.pTa=[];this.dMb=this.config.LVb || q.append;this.addEventListener=this.Db.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.fKa=void 0;r=a(70655);k=a(86700);f=a(97204);l=a(71163);d=a(17244);g=a(73374);n=a(89542);h=a(58998);m=a(2467);p=a(59883);(function(u){u.prepend="prepend";u.append="append";u.kLb="ignore";})(q || (q={}));c.prototype.Wqb=function(u){this.log.trace("adding tasks, number of tasks: " + u.length);this.paused=!1;this.JH=this.eMb(u);this.aS=0;this.currentIteration+=1;this.Mf();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Mf=function(){var u,t,w,v;u=this;if(this.aS === this.JH.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.aS,numberOfTasks:this.JH.length});else {t=this.nIb();w=this.currentIteration;t.startTime=this.Yf.Eb().ba(m.oa);t.status=g.ej.Xv;this.Db.Dc(f.RI.J2b,{O:t.O,type:t.type});this.X9.push(t);v=function(y){t.endTime=u.Yf.Eb().ba(m.oa);y();u.pTa.push(t);u.X9.splice(u.X9.indexOf(t),1);u.currentIteration === w && (u.aS++,u.Mf());};t.lZb().then(function(){v(function(){t.status=g.ej.QN;u.$sa(t,f.RI.K2b,"task succeeded");});}).catch(function(y){v(function(){0 <= [g.ej.Zf,g.ej.kSa,g.ej.iia].indexOf(y.status)?(t.status=y.status,u.$sa(t,f.RI.H2b,"cancelled task")):(t.status=g.ej.Fs,u.$sa(t,f.RI.I2b,"task failed",y));});});}};c.prototype.nIb=function(){return this.JH[this.aS];};c.prototype.getStats=function(u,t,w){var v,y,x,z;v=this.pTa.map(function(A){return A.Ms();});y=this.X9.map(function(A){return A.Ms();});x=this.is.vg(u) && this.is.vg(t);z={};if(this.is.vg(w))return (z.mwb=v.filter(function(A){return A.movieId === w;}),z);v.concat(y).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == g.ej.Xv?A.startTime:A.endTime;x && B && B >= u && B < t && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.$sa=function(u,t,w,v){var y;y=u.Ms();v?this.log.warn(w,y,v):this.log.trace(w,y);this.Db.Dc(t,{O:u.O,type:u.type,reason:u.status});u.rM(y);};c.prototype.eMb=function(u){var t,w;t=this.JH.filter(function(v){return v.yUb && v.status === g.ej.Fn;});w=this.dMb;return w === q.kLb?[].concat(u):w === q.prepend?t.concat(u):u.concat(t);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.Xa)),r.__param(1,(0,k.l)(d.ac)),r.__param(2,(0,k.l)(n.Wf)),r.__param(3,(0,k.l)(h.Jc))],a);b.fKa=a;},52686:function(r,b,a){var f,l,d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C,D,F,G,E,J,L){this.z6b=A;this.ub=B;this.Yf=C;this.Kd=D;this.UWa=F;this.cEb=G;this.dEb=E;this.T3=J;this.events=new y.EventEmitter();this.log=x.Ua("VideoPreparer");this.config=z();this.Nxa={};this.m7={};this.Tf={num_of_calls:0,num_of_movies:0};this.T3.va(this);this.rg=L.rg;}function k(x){return void 0 !== x;}Object.defineProperty(b,"__esModule",{value:!0});b.TMa=void 0;r=a(70655);f=a(96467);l=a(17244);d=a(86700);g=a(71163);n=a(24166);h=a(89542);m=a(97204);p=a(58998);q=a(2467);u=a(73374);t=a(19419);w=a(84337);v=a(27138);y=a(28075);c.prototype.n$a=function(x,z,A){this.rg.setData(x,"ldl",z,A);};c.prototype.y_a=function(x){return this.rg.DT(x,"ldl");};c.prototype.MSa=function(x){this.rg.clearData(x,"ldl",void 0,!0);};c.prototype.bL=function(x,z){return this.rg.getData(x,z);};c.prototype.iYa=function(x){var z;z=this.rg.getData(x,"ldl");this.rg.clearData(x,"ldl",void 0,!0);return z;};c.prototype.Bxa=function(x){return this.Dab === x || this.qUa === x;};c.prototype.UG=function(x,z){var A,B,C;A=this;x=x.map(function(D){D.nb=D.nb || ({Z1:{CUb:!1},Nj:0});A.ub.VE(D.nb.Nj) || (D.nb.Nj=0);A.ub.VE(D.we) && (D.nb.ab=D.we);return D;});B=x.map(function(D){return A.qzb(D,z);}).reduce(function(D,F){return D.concat(F);},[]);C=B.map(function(D){return D.O + "-" + D.type;});this.log.trace("prepare tasks",C);this.Kd.Wqb(B);this.Tf.num_of_calls++;this.Tf.num_of_movies+=x.length;};c.prototype.getStats=function(x,z,A){return Object.assign(Object.assign({},A && this.m7[A] || ({})),{JH:this.Kd.getStats(x,z,A),cache:this.rg.getStats(x,z),NFb:Object.assign(Object.assign({},this.Tf),this.T3.getStats())});};c.prototype.kKb=function(x){this.Dab=x;};c.prototype.iKb=function(x){this.log.trace("task scheduler paused on playback created");this.Kd.pause();this.config.MAb && this.rg.Eia(x,["manifest"]);this.config.LAb && this.rg.Eia(x,["ldl"]);this.config.JAb && this.rg.clearData(x,"manifest");this.T3.G8a(x);this.qUa=x;};c.prototype.t_a=function(){this.log.info("ad played, clearing all manifests from cache");this.uXa();};c.prototype.u_a=function(){this.log.info("track changed, clearing all manifests from cache");this.uXa();};c.prototype.hKb=function(x){var z;z=this;this.config.KAb?this.rg.clearData(x,"manifest"):this.rg.DT(x,"manifest") && this.rg.getData(x,"manifest").then(function(A){A.Fa.isSupplemental || z.rg.clearData(x,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + x + "] from cacheManager.",A);});this.Jia(x);this.Dab=this.qUa=void 0;this.events.emit("playbackClosing",{J:x,type:"playbackClosing",target:this});};c.prototype.uXa=function(){this.rg.Eia("none",["manifest","ldl"]);};c.prototype.Jia=function(x){delete this.Nxa[x];};c.prototype.Ps=function(x){return this.Nxa[x];};c.prototype.U2=function(x){return this.Nxa[x]=this.z6b.FA();};c.prototype.Y$a=function(x,z){if(this.y_a(x))return u.ej.Zf;if(!z.mB)return u.ej.iia;};c.prototype.qzb=function(x,z){var A,B;x.wd && x.nb && (x.nb.wd=x.wd);this.S4b(x.O,x.Lk);A=this.Xyb(x,z);B=this.Tyb(x,null === A || void 0 === A?void 0:A.id,z);x=this.$yb(x,null === A || void 0 === A?void 0:A.id,z);return [A,B,x].filter(k);};c.prototype.Xyb=function(x,z){if(this.rg.DT(x.O,"manifest"))this.log.trace("manifest exists in cache for " + x.O);else return new f.MP("manifest",this.Yf.Eb().ba(q.oa),!!x.nb.Cua,void 0,z,this.UWa,x,this);};c.prototype.Tyb=function(x,z,A){if(this.config.wS)if(this.rg.DT(x.O,"ldl"))!1;else return this.config.Dr?new f.MP("ldl",this.Yf.Eb().ba(q.oa),!!x.nb.Cua,z,A,this.cEb,x,this):new f.MP("ldl",this.Yf.Eb().ba(q.oa),!!x.nb.Cua,z,A,this.dEb,x,this);};c.prototype.$yb=function(x,z,A){if(this.config.gWa)return new f.MP("getMedia",this.Yf.Eb().ba(q.oa),!!x.nb.Cua,z,A,this.T3,x,this);};c.prototype.S4b=function(x,z){this.m7[x] || (this.m7[x]={t8:0,Lk:0});x=this.m7[x];x.t8=(void 0 !== x?void 0 !== x.t8?x.t8:0:0) + 1;x.Lk=z;};a=c;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.Xa)),r.__param(1,(0,d.l)(l.ac)),r.__param(2,(0,d.l)(n.zw)),r.__param(3,(0,d.l)(h.Wf)),r.__param(4,(0,d.l)(p.Jc)),r.__param(5,(0,d.l)(m.Eda)),r.__param(6,(0,d.l)(w.eKa)),r.__param(7,(0,d.l)(w.dKa)),r.__param(8,(0,d.l)(w.cKa)),r.__param(9,(0,d.l)(v.yaa)),r.__param(10,(0,d.l)(t.Uaa))],a);b.TMa=a;},32408:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Kdb=void 0;r=a(86700);c=a(63034);k=a(27279);b.Kdb=new r.$c(function(f){f(c.RMa).to(k.QMa).da();});},63034:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RMa="VideoPlayerFactorySymbol";},34202:function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Xc=b.bb=b.sf=b.Tb=b.dY=b.ea=b.Xba=b.uD=b.Ja=void 0;(function(c){c.V2a="loadedtracks";c.U2a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Gn="currenttimechanged";c.Dcb="unthrottledcurrenttimechanged";c.j2="bufferedtimechanged";c.mka="durationchanged";c.Axa="videosizechanged";c.B6a="pausedchanged";c.Hsa="playingchanged";c.pWa="endedchanged";c.ZJ="busychanged";c.X1="audiotracklistchanged";c.Dl="audiotrackchanged";c.Jt="timedtexttracklistchanged";c.jl="timedtexttrackchanged";c.sX="trickplayframeschanged";c.P4a="mutedchanged";c.Sdb="volumechanged";c.Eva="showsubtitle";c.Lta="removesubtitle";c.k6b="watermark";c.Noa="isReadyToTransition";c.zL="inactivated";c.V0a="internalPlaybackError";c.QZb="segmentmaploaded";c.RZb="segmentpresenting";c.pRa="autoplaywasallowed";c.a2="autoplaywasblocked";c.mrb="adsstatechanged";c.MB="livestatechanged";})(b.Ja || (b.Ja={}));(b.uD || (b.uD={})).wW="playgraphsegmenttransition";b.Xba=a;a.g$a="serverTimeChanged";(function(c){c.vE="aseReport";c.x6="liveReport";c.w6="livePipelineFailover";c.xha="autoplayWasAllowed";c.Ch="autoplayWasBlocked";c.rx="bufferUnderrun";c.closed="closed";c.tg="closing";c.Gn="currentTimeChanged";c.$E="downloadComplete";c.zL="inactivated";c.D2a="licenseAdded";c.pU="licensed";c.vU="locationSelected";c.Rpa="manifestClosing";c.lG="manifestPresenting";c.P6="mediaBufferChanged";c.v7="nextBranchingSegmentChosen";c.ot="playbackStart";c.Wk="playbackReady";c.Aj="repositioned";c.sC="repositioning";c.F9a="safePlayRequested";c.kH="segmentPresenting";c.zW="serverSwitch";c.aab="shouldUpdateVideoDiagInfo";c.PN="subtitleError";c.vwa="throttledMediaTimeChanged";c.Ecb="unthrottledMediaTimeChanged";c.VN="timedTextRebuffer";c.Jt="timedTextTrackListChanged";c.sX="trickPlayFramesChanged";c.fxa="updateNextBranchingSegmentWeights";c.xdb="userInitiatedPause";c.ydb="userInitiatedResume";c.fcb="tracksHydrated";c.MB="livestatechanged";})(b.ea || (b.ea={}));(b.dY || (b.dY={})).lA="adBreakComplete";(function(c){c[c.II=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.$d=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Tb || (b.Tb={}));(function(c){c[c.$d=1]="NORMAL";c[c.Qe=2]="BUFFERING";c[c.QKa=3]="STALLED";})(b.sf || (b.sf={}));(function(c){c[c.Gf=1]="WAITING";c[c.me=2]="PLAYING";c[c.Vh=3]="PAUSED";c[c.aq=4]="ENDED";})(b.bb || (b.bb={}));(function(c){c[c.Jr=0]="INITIAL";c[c.Mw=1]="SEEK";c[c.kP=2]="LIVE_EDGE";c[c.M_=3]="TRACK_CHANGED";c[c.UI=4]="SEGMENT_CHANGED";c[c.QY=5]="FORCE_REBUFFER";})(b.Xc || (b.Xc={}));},51842:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sAa="CdnPartitionerSymbol";},6474:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.Z_a=void 0;r=a(86700);c=a(50209);k=a(17602);f=a(31383);l=a(80688);d=a(78139);g=a(62907);n=a(99494);h=a(93397);m=a(31303);p=a(83250);q=a(98431);u=a(83443);t=a(88693);w=a(77174);v=a(46883);y=a(51842);x=a(64317);z=a(89043);A=a(14641);B=a(89869);b.Z_a=new r.$c(function(C){C(c.zDa).to(k.yDa).da();C(f.DDa).to(l.CDa).da();C(d.nDa).to(g.mDa).da();C(n.pDa).to(h.oDa).da();C(y.sAa).to(x.rAa).da();C(m.BJa).to(p.AJa).da();C(q.eea).to(u.JLa);C(t.oP).to(z.nP);C(A.rP).to(B.qP);C(w.Mba).to(v.FDa);});},77174:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mba="HLSConfigSymbol";},78139:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nDa="HLSPlaylistBuilderSymbol";},99494:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pDa="HLSPlaylistTransformerSymbol";},50209:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zDa="HeaderFetcherSymbol";},31383:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DDa="HLSHeaderParserFactorySymbol";},88693:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.q9b="LogblobBuilderSymbol";b.oP="HLSLogblobBuilderFactorySymbol";},14641:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rP="HLSLogblobMonitorFactorySymbol";},31303:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BJa="PlayerPlaydataMonitorSymbol";},98431:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eea="StreamChangeDetectorSymbol";},64317:function(r,b,a){var k,f;function c(l){this.la=l.Ua("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.rAa=void 0;r=a(70655);k=a(86700);a=a(71163);c.prototype.BGb=function(l){var g,n,h,m,p,q,u;function d(t,w,v){var y,x,z;y=t.map(function(A){return A.Hg;});y.sort(function(A,B){return w[A] - w[B];});if(1 === y.length)(!1,h.set(v,{QM:t[0],r9:t[0]}));else {x=y.find(function(A){return g.has(A);});x || ((x=y.find(function(A){return !n.has(A);}))?g.add(x):(x=y[0],!1));z=y.find(function(A){return n.has(A) && A !== x;});z || ((z=y.find(function(A){return !g.has(A) && A !== x;}))?n.add(z):(z=y.find(function(A){return A !== x;}),!1));h.set(v,{QM:t.find(function(A){return A.Hg === x;}),r9:t.find(function(A){return A.Hg === z;})});}}g=new Set();n=new Set();h=new Map();m=l.video;p=l.audio;q=l.text;u=l.tk.reduce(function(t,w){t[w.id]=w.ec;return t;},{});m.forEach(function(t){t=t.stream;d(t.urls,u,t.Lm);});p.forEach(function(t){t=t.stream;d(t.urls,u,t.Lm);});q.forEach(function(t){var w,v;if(!t.track.BB || t.track.P5){w=t.stream;t=t.id;v=w.urls.reduce(function(y,x,z){y[x.Hg]=z + 1;return y;},{});d(w.urls,v,t);}});return h;};f=c;f=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.Xa))],f);b.rAa=f;},46883:function(r,b,a){var k,f,l,d;function c(g){return f.Se.call(this,g,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FDa=void 0;r=a(70655);k=a(86700);f=a(90187);l=a(59578);a=a(54662);ia(c,f.Se);Wa.Object.defineProperties(c.prototype,{g7a:{configurable:!0,enumerable:!0,get:function(){return !0;}},yv:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},wy:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},$_a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},ft:{configurable:!0,enumerable:!0,get:function(){return 80;}},Wga:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([a.config(a.Pc,"playsInline")],d.prototype,"g7a",null);r.__decorate([a.config(a.wB,"minAudioMediaRequestDuration")],d.prototype,"yv",null);r.__decorate([a.config(a.wB,"minVideoMediaRequestDuration")],d.prototype,"wy",null);r.__decorate([a.config(a.wB,"hlsVideoMediaRequestTargetDuration")],d.prototype,"$_a",null);r.__decorate([a.config(a.wB,"minStartingVideoVMAF")],d.prototype,"ft",null);r.__decorate([a.config(a.Pc,"allowMultipleAudioTextTracks")],d.prototype,"Wga",null);d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.ul))],d);b.FDa=d;},62907:function(r,b,a){var d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A){this.gS=z;this.Bd=x.filter(function(B){return B.Uwa[p.tl.X_];}).map(function(B){return {track:B,stream:B.Uwa[p.tl.X_],id:B.DVa[p.tl.X_]};});A || (this.Bd=this.Bd.filter(function(B){return B.track.Df === z;}));}function k(x,z,A){var B;this.IH=z;this.ft=A;B=x[0];this.VH=B.streams.map(function(C){return {track:B,FT:C.uab,stream:C};});}function f(x,z,A,B,C){function D(F,G){return F.bitrate > G.bitrate?F:G;}this.log=x;this.IH=A;this.gS=B;this.VH=z.map(function(F){var G;G=F.streams.reduce(D);return {track:F,FT:G.uk?G.uk.offset + G.uk.size:void 0,stream:G};});C || (this.VH=this.VH.filter(function(F){return F.track.Df === B;}));}function l(x,z,A,B,C,D){this.JKb=x;this.LKb=z;this.kVb=A;this.Qub=B;this.OF=C;this.Cf=D;this.la=D.Ua("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Wlb=b.dmb=b.ffb=b.mDa=void 0;r=a(70655);d=a(86700);g=a(50209);n=a(31383);h=a(68172);m=a(56003);p=a(56261);q=a(99494);u=a(51842);t=a(77174);w=a(71163);v=a(75183);y=a(18920);l.prototype.Dh=function(x,z){var A,B,C,D,F,G;A=this;D=x.Fa;x=this.kGb(D,z);F=this.OJb(D,z);G=null !== (C=null === (B=D.YV) || void 0 === B?void 0:B.XN) && void 0 !== C?C:D.YN.find(function(E){var J;return E.id === (null === (J=D.e3) || void 0 === J?void 0:J[0].dbb);}).Df;B=new c(D.YN,G,this.OF.Wga);return Promise.all([x,F,B]).then(function(E){var J,L;J=ma(E);E=J.next().value;L=J.next().value;J=J.next().value;E={audio:E.getMetadata(),video:L.getMetadata(),text:J.getMetadata(),RUa:E.cma(),qAb:J.cma(),duration:D.duration,tk:D.tk};L=A.Qub.BGb(E);z("h_s");return {zPb:A.kVb.transform(E,L),Tub:L,L1b:E};});};l.prototype.OJb=function(x,z){var A;A=new k(x.Pt,this.OF.$_a,this.OF.ft);return this.xVa(A.VH,y.v.X,z).then(function(B){A.hva(B);return A;});};l.prototype.kGb=function(x,z){var A,B,C,D;C=null !== (B=null === (A=x.YV) || void 0 === A?void 0:A.Zo) && void 0 !== B?B:x.qs.find(function(F){var G;return F.id === (null === (G=x.e3) || void 0 === G?void 0:G[0].Zo);}).Df;D=new f(this.la,x.qs,this.OF.yv,C,this.OF.Wga);return this.xVa(D.VH,y.v.fa,z).then(function(F){D.hva(F);return D;});};l.prototype.Xra=function(x,z,A,B){if(x=this.LKb.parse(z,x,A))return x;this.la.error("Failed to parse headers",{type:z === y.v.fa?"audio":"video",downloadableId:B.stream.Lm});};l.prototype.xVa=function(x,z,A){var B;B=this;return Promise.all(x.map(function(C,D){if(C.FT)return B.JKb.download({urls:C.stream.urls,offset:0,length:C.FT}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + D + "_s");return B.Xra(F,z,z == y.v.fa?B.OF.yv:B.OF.wy,C);}).catch(function(){A("h_" + C.track.wh[0] + "_" + D + "_f");B.la.warn("Failed to download and parse headers for " + C.stream.Lm);});B.la.warn("Stream data offset is missing",{downloadableId:C.stream.Lm});}));};a=l;a=r.__decorate([(0,d.T)(),r.__param(0,(0,d.l)(g.zDa)),r.__param(1,(0,d.l)(n.DDa)),r.__param(2,(0,d.l)(q.pDa)),r.__param(3,(0,d.l)(u.sAa)),r.__param(4,(0,d.l)(t.Mba)),r.__param(5,(0,d.l)(w.Xa))],a);b.mDa=a;f.prototype.hva=function(x){var z;z=this;if(!x.find(function(A){return void 0 !== A;}))throw m.Mc.eeb(h.U.iEa,h.R.xca);this.Bd=this.VH.map(function(A,B){if(B=x[B])return {track:A.track,stream:A.stream,Ka:B,IH:z.IH};}).filter(v.Koa);};f.prototype.getMetadata=function(){return this.Bd;};f.prototype.cma=function(){var x,z;x=this;if(!this.Bd.find(function(A){return A.track.Df === x.gS;}) && 0 < this.Bd.length){z=this.Bd[0].track.Df;this.log.warn("Did not find metadata for audio track " + this.gS + ", falling back to " + z);return z;}return this.gS;};b.ffb=f;k.prototype.hva=function(x){var z,A;z=this;if(!x.find(function(B){return void 0 !== B;}))throw m.Mc.eeb(h.U.iEa,h.R.yca);A=this.VH.map(function(B,C){if(C=x[C])return {track:B.track,stream:B.stream,Ka:C,IH:z.IH};}).filter(v.Koa);this.Bd=this.uIb(A);};k.prototype.getMetadata=function(){return this.Bd;};k.prototype.uIb=function(x){var z,A,B;z=this;x.sort(function(C){return C.stream.bitrate;});A=x.findIndex(function(C){var D;return (null !== (D=C.stream.zb) && void 0 !== D?D:0) >= z.ft;});if(-1 !== A && A !== x.length - 1){B=x[A];x.splice(A,1);x.push(B);}x.reverse();return x;};b.dmb=k;c.prototype.cma=function(){return this.gS;};c.prototype.getMetadata=function(){return this.Bd;};b.Wlb=c;},93397:function(r,b,a){var k,f,l,d,g,n;function c(h){this.la=h.Ua("HLSPlaylistTransformerImpl");this.V5b=d.IY.Aq();this.Jsb=g.mba.Aq();}Object.defineProperty(b,"__esModule",{value:!0});b.oDa=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(65853);d=a(73124);g=a(21973);n=[0,1];c.prototype.transform=function(h,m){var p,q,u,t,w,v,y,x,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];u=h.text;t=h.audio;w=h.video;v=h.duration;y=h.RUa;x=h.qAb;u.forEach(function(A){n.forEach(function(B){var C,D,F,G;C=0 === B;D=A.stream;F=A.track;G=m.get(A.id);C=C?G.QM:G.r9;D=p.zJb({url:C.url,duration:v / 1E3,size:D.size,Il:"Manifest for subtitles " + F.language + ' stream "' + F.IB + '", ' + F.Df + ", cdn " + C.Hg});p.la.trace("Text variant manifest",D.join("\n"));B=p.AJb({groupId:B,name:F.IB,woa:F.Df === x,Wm:F.P5,sMb:F.wh === l.Co.eaa,language:F.language,uri:p.E6(D)});q.push(B);});});t.forEach(function(A){n.forEach(function(B){var C,D,F,G,E,J;C=0 === B;D=A.stream;F=A.track;G=A.Ka;E=A.IH;J=m.get(D.Lm);C=C?J.QM:J.r9;D=p.qZa({url:C.url,FT:D.uk.offset + D.uk.size,Ka:G,ubb:Math.floor(E / 1E3),Il:"Manifest for audio " + F.language + ' stream "' + F.IB + '", ' + F.Df + ", cdn " + C.Hg});p.la.trace("Audio variant manifest",D.join("\n"));B=p.lGb({groupId:B,language:F.language,name:F.IB,woa:F.Df === y,uri:p.E6(D)});q.push(B);});});z=this.Jsb[t[0].track.profile];w.forEach(function(A){n.forEach(function(B){var C,D,F,G,E,J;C=0 === B;D=A.stream;F=A.track;G=A.Ka;E=A.IH;J=m.get(D.Lm);J=C?J.QM:J.r9;C=0 < u.length;F=p.qZa({url:J.url,FT:D.uk?D.uk.offset + D.uk.size:D.uab,Ka:G,ubb:Math.floor(E / 1E3),Il:"Manifest for video bitrate " + D.bitrate + ", stream " + F.Df + ", cdn " + J.Hg});p.la.trace("Video variant manifest",F.join("\n"));B=p.PJb({groupId:B,DR:1E3 * D.bitrate,Wsb:1E3 * D.bitrate,YMb:0 <= D.DA.indexOf("-hdr-") || 0 <= D.DA.indexOf("-dv5-"),framerate:(D.IXa / D.HXa).toFixed(3),$k:D.gua + "x" + D.g9a,O5b:p.V5b[D.DA],ysb:z,P2b:C});q.push(B);B=p.E6(F);q.push("" + B);});});this.la.trace("Primary manifest",q.join("\n"));return this.E6(q);};c.prototype.lGb=function(h){var m;m=h.woa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + h.groupId + '"','CHANNELS="2"','LANGUAGE="' + h.language + '"','NAME="' + h.name + '"',"DEFAULT=" + (m?"YES":"NO"),"AUTOSELECT=" + (m?"YES":"NO"),'URI="' + h.uri + '"'].join(", ");};c.prototype.qZa=function(h){var m,p;m=h.Ka;p=["#EXTM3U","# " + h.Il,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + h.ubb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + m[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];m.forEach(function(q,u){p.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.ab.toFixed(3));p.push("#EXT-X-BYTERANGE:" + q.Utb + "@" + q.byteOffset);p.push("{$U}&fi=" + u);});p.push("#EXT-X-ENDLIST");return p;};c.prototype.PJb=function(h){var m,p;m=h.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + h.DR,"AVERAGE-BANDWIDTH=" + h.Wsb,"VIDEO-RANGE=" + (h.YMb?"PQ":"SDR"),"FRAME-RATE=" + h.framerate,'AUDIO="group_' + m + '"',"RESOLUTION=" + h.$k,'CODECS="' + h.O5b + "," + h.ysb + '"'];h.P2b && p.push('SUBTITLES="subs_' + m + '"');return p.join(", ");};c.prototype.zJb=function(h){var m;m=h.duration;return ["#EXTM3U","# " + h.Il,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(m),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + h.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + m.toFixed(3),"#EXT-X-BYTERANGE:" + h.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.AJb=function(h){var m,p,q;m=h.woa;p=h.language;q=h.uri;m=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + h.groupId + '"','NAME="' + h.name + '"',"DEFAULT=" + (m?"YES":"NO"),"AUTOSELECT=" + (m?"YES":"NO"),"FORCED=" + (h.Wm?"YES":"NO")];h.sMb && m.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');m.push('LANGUAGE="' + p + '"');m.push('URI="' + q + '"');return m.join(", ");};c.prototype.E6=function(h){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(h.join("\n"));};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa))],a);b.oDa=a;},17602:function(r,b,a){var k,f,l,d;function c(g,n){this.ZKb=g;this.log=n.Ua("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.yDa=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(2381);d=a(5485);c.prototype.download=function(g){var h,m,p,q,u;function n(t){if(u < m.length - 1)return (!1,u++,h.zVa(m[u].url,p,q).catch(n));throw t;}h=this;m=g.urls;p=g.offset;q=g.length;u=0;return this.zVa(m[u].url,p,q).catch(n);};c.prototype.zVa=function(g,n,h){return this.ZKb.download({url:g,withCredentials:!1,responseType:d.ResponseType.yfb,MA:"hls_headers",Cr:!0,offset:n,length:h,nr:d.EP},{X3a:1});};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.IDa)),r.__param(1,(0,k.l)(f.Xa))],a);b.yDa=a;},80688:function(r,b,a){var k,f,l;function c(d){this.la=d.Ua("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.CDa=void 0;r=a(70655);k=a(86700);f=a(86393);a=a(71163);c.prototype.parse=function(d,g,n){d=new f.Or(this.la,{mediaType:d},g,["sidx"]).parse();if(d.kt && d.Ka)return this.Sga(d.Ka,n);};c.prototype.Sga=function(d,g){var n,h,m,p,q;n=0;h=0;m=0;p=d.offset;q=[];d.hf.forEach(function(u,t){h+=u;m+=d.sizes[t];if(1E3 * h / d.S >= g || t === d.hf.length - 1)(q.push({duration:h / d.S,ab:n / d.S,byteOffset:p,Utb:m}),n+=h,h=0,p+=m,m=0);});return q;};l=c;l=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.Xa))],l);b.CDa=l;},89043:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p,q,u,t){this.Cf=m;this.ny=p;this.Pf=q;this.uc=u;this.Ea=t;}Object.defineProperty(b,"__esModule",{value:!0});b.nP=void 0;r=a(70655);k=a(86700);f=a(58998);l=a(71163);d=a(14959);g=a(95114);n=a(91022);h=a(94139);c.prototype.create=function(m){return new h.pP(this.Cf,this.ny,this.Pf,this.Ea,this.uc,m);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(l.Xa)),r.__param(1,(0,k.l)(n.Aw)),r.__param(2,(0,k.l)(d.pm)),r.__param(3,(0,k.l)(g.mca)),r.__param(4,(0,k.l)(f.Jc))],a);b.nP=a;},94139:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p,q,u,t,w){var v;v=this;this.ny=p;this.Pf=q;this.Ea=u;this.uc=t;this.uqa=this.xB=this.fW=0;this.eG=!1;this.vy=function(){var y;y=v.EV();y.prstate=v.Wx();y.paustate=v.j.Ys();y.midplayseq=v.uqa++;v.uc.BL(y);v.vc(k.Ec.vy,void 0,h.Ld | h.Qr,y);};this.Ch=function(){v.vc(k.Ec.ERa,void 0,h.Ld | h.xo,{});};this.jl=function(y){v.gpa=v.getTime();v.hpa=y.oldValue;};this.yR=function(y){v.$oa=y.oldValue;};this.d8=function(y){y != v.eG && (v.Yva(v.eG,y),v.eG=y);};this.Yva=function(y,x){var z;z=v.j.Ca;y={newstate:x?"Paused":"Playing",oldstate:y?"Paused":"Playing"};v.uc.qp(y,z.Td.value && z.Td.value.stream,z.pf.value && z.pf.value.stream);v.vc(k.Ec.SW,void 0,h.Ld,y);};this.NW=function(y){v.vc(k.Ec.sab,void 0,h.Ld,{speedold:Math.floor(1E3 * y.oldValue),speed:Math.floor(1E3 * y.newValue)});};this.az=function(y){var x,z,A;x=v.j.Ca;z=x.wb.value;if(y.newValue || z && z.Vn() && !z.Wm()){A=(y=null !== (A=y.newValue) && void 0 !== A?A:z)?{trackId:y.trackId,bcp47:y.re,downloadableId:y.Ub,rank:y.ec,isImageBased:y.ik}:{};y=(y=v.hpa)?{trackId:y.trackId,bcp47:y.re,downloadableId:y.Ub,rank:y.ec,isImageBased:y.ik}:{};A={switchdelay:(0,f.ag)(v.getTime() - v.gpa),track:A,oldtrack:y};v.uc.qp(A,x.Td.value && x.Td.value.stream,x.pf.value && x.pf.value.stream);v.vc(k.Ec.Pbb,void 0,h.Ld,A);}};this.rsa=function(y,x){var z;z=v.j.Ca;y={waittime:(0,f.ag)(y),abortedevent:"resumeplay",resumeplayreason:x};v.uc.qp(y,z.Oe.value,z.Qg.value);v.vc(k.Ec.IM,void 0,h.Ld | h.xo,y);};this.zt=function(y,x,z){y={playdelay:(0,f.ag)(y),reason:z,intrplayseq:v.xB - 1,skipped:x};"repos" === z && (y.prstate=!0 === v.j.Oh.value?"playing":"paused");v.vc(k.Ec.zt,void 0,h.Ld | h.Pr,y);};this.vha=function(){var y,x,z,A;x=v.j.Ca.tc.value;z=v.j.Ca.Qg.value.Ub;x=x?{trackId:x.trackId,bcp47:x.re,downloadableId:z,rank:x.ec,chan:x.channels}:{};z=v.jy;A=null === (y=v.$oa) || void 0 === y?void 0:y.Ub;y=z?{trackId:z.trackId,bcp47:z.re,downloadableId:A,rank:z.ec,chan:z.channels}:{};v.vc(k.Ec.lRa,void 0,h.Ld,{switchdelay:(0,f.ag)(v.getTime() - v.apa),track:x,oldtrack:y});};this.Dl=function(y){v.apa=v.getTime();v.jy=y.oldValue;};this.ssa=function(){var y,x,z;y=v.j.Ca;x={abortedevent:"startplay",trackid:y.Nj,prstate:v.Wx(),paustate:v.j.Ys()};try{z=(0,l.EF)();z && (x.pdltime=z);(0,f.Sd)(x,y.Tc,{prefix:"sm_"});}catch(A){}v.uc.u5(x,y);v.uc.CL(x,!1,y.Mg.value,y);v.uc.qp(x,y.Oe.value,y.Qg.value);v.RF(x);v.vc(k.Ec.IM,void 0,h.Ld | h.Qr | h.xo,x);};this.wx=function(y,x,z,A){y={moff:(0,f.Ml)(z),moffms:(0,f.ag)(z),vbitrate:x.bitrate,vbitrateold:y.bitrate,vdlid:x.Ub,vdlidold:y.Ub,vheight:x.height,vheightold:y.height,vwidth:x.width,vwidthold:y.width,bw:A};v.vc(k.Ec.wx,void 0,0,y);};this.rC=function(y,x,z){y={moffold:(0,f.Ml)(y),reposseq:v.fW++,prstate:v.Wx(),paustate:v.j.Ys()};v.uc.qp(y,z && z.stream,x && x.stream);v.vc(k.Ec.rC,void 0,h.Ld,y);};this.vr=function(y){var x,z,A,B,C;B=y.Ca;C={playdelaysdk:(0,f.ag)(v.j.LR()),applicationPlaydelay:(0,f.ag)(v.j.cia()),playdelay:(0,f.ag)(v.j.dia()),trackid:B.Nj,bookmark:(0,f.ag)(B.El || 0),pbnum:B.index};v.j.Ch && (C.blocked=v.j.Ch);C.initvbitrate=v.j.PT;v.uc.Zna(C);v.uc.q0a(C);C.esnSource=null === (x=pb._cad_global.device) || void 0 === x?void 0:x.H3;v.x0a(C,B);C.pdltime=(0,l.EF)();(0,f.Sd)(C,B.Tc,{prefix:"sm_"});C.ttTrackFields=null === (z=B.wb.value) || void 0 === z?void 0:z.yg;v.uc.m0a(C,B.tc.value,B);v.uc.CL(C,!0,B.Mg.value,B);C.packageId=null === (A=B.W) || void 0 === A?void 0:A.Fa.cn;v.uc.BL(C);v.uc.u5(C,B);v.RF(C);v.vc(k.Ec.vr,y.ph,h.Ld | h.Pr | h.Qr | h.XC | h.xo,C);};this.Nx=function(){var y,x,z;y=v.j;x=y.Ca;y=y.ph;z=v.EV();z.paustate=!v.j.CB();z.muted=v.j.Doa();z.endreason=y?"error":v.j.yoa()?"ended":"stopped";v.uc.CL(z,!1,x.Mg.value,x);v.uc.BL(z);v.RF(z);v.vc(k.Ec.Nx,y,h.Ld | h.Pr | h.Qr | h.XC | h.xo,z);};this.Ota=function(y,x,z){var A;A=v.j.Ca.pf;y={moff:(0,f.Ml)(z),moffms:(0,f.ag)(z),vdlidold:y.Ub,vbitrateold:y.bitrate};v.uc.qp(y,x,A.value && A.value.stream);v.vc(k.Ec.cW,void 0,0,y);};this.Wx=function(){var y;y=v.j.lb.value;return y === g.bb.me?"playing":y === g.bb.Vh?"paused":y === g.bb.aq?"ended":"waiting";};this.la=m.Ua("LogblobBuilderImpl");this.j=w;}Object.defineProperty(b,"__esModule",{value:!0});b.pP=void 0;k=a(63563);f=a(30818);l=a(24133);d=a(68172);g=a(34202);n=a(2467);c.prototype.getTime=function(){return this.Ea.Eb().ba(n.oa);};c.prototype.Wma=function(){return this.getTime() - this.j.Ca.Nh.ba(n.oa);};c.prototype.x0a=function(m,p){var q;if(p=null === (q=p.Mg.value) || void 0 === q?void 0:q.streams)(m.maxbitrate=(0,l.BO)(p.map(function(u){return u.bitrate;})),m.maxresheight=(0,l.BO)(p.map(function(u){return u.height;})));};c.prototype.RF=function(m){m.cachedManifest="notcached";m.cachedLicense="notcached";m.usedldl="false";};c.prototype.EV=function(){var m,p,q,u;m=this.j.Ca;p=m.Vk;q={totaltime:(0,f.Ml)(p.np()),totalcontenttime:(0,f.Ml)(p.wT()),reposcount:this.fW,intrplaycount:this.xB};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});u=m.Oe.value;u && (q.videofr=u.framerate.toFixed(3));(u=p.Ula()) && (q.abrdel=u);(u=p.k5() && p.aYa()) && (q.tw_vmaf=u);(p=p.ZXa()) && (0,f.Sd)(q,p);q.rbfrs=this.xB;this.x0a(q,m);return q;};c.prototype.vc=function(m,p,q,u){var t,w,v;t=this;p && (0,d.OY)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.xa,this.Wma(),void 0) && (w="info");v=this.j.Ca;this.wga(u,p,q);p=w || (p?"error":"info");u=this.ny.ys(m,p,u,v);this.Pf.vc(u);"error" !== p && m !== k.Ec.Nx || this.Pf.flush(!1).catch(function(){t.la.debug("Failed to flush the logblobs");});};c.prototype.wga=function(m,p,q){var u;u=this.j.Ca;this.uc.p0a(m,u);q & h.Ld && this.uc.t0a(m,u,!1);q & h.Pr && this.uc.v0a(m,u);q & h.Qr && this.uc.w0a(m,this.j.Rm());p && q & h.XC && this.uc.r0a(m,u,p);q & h.xo && this.uc.Zna(m);};b.pP=c;(function(m){m[m.Ld=1]="MOFF";m[m.Pr=2]="PRESENTEDSTREAMS";m[m.Qr=4]="SCREEN";m[m.XC=8]="FATALERROR";m[m.xo=16]="BROWSERINFO";})(h || (h={}));},89869:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p,q,u,t){this.Pf=m;this.config=p;this.qa=q;this.Ea=u;this.Dpa=t;}Object.defineProperty(b,"__esModule",{value:!0});b.qP=void 0;r=a(70655);k=a(86700);f=a(58998);l=a(35664);d=a(17244);g=a(14959);n=a(88693);h=a(72342);c.prototype.create=function(m){return new h.sP(m,this.Pf,this.config,this.Ea,this.Dpa.create(m));};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(g.pm)),r.__param(1,(0,k.l)(d.ac)),r.__param(2,(0,k.l)(l.gg)),r.__param(3,(0,k.l)(f.Jc)),r.__param(4,(0,k.l)(n.oP))],a);b.qP=a;},72342:function(r,b,a){var k,f,l;function c(d,g,n,h,m){var p;p=this;this.j=d;this.Pf=g;this.config=n;this.Ea=h;this.cb=m;this.OR=function(){p.tg();p.j.Ca.Yh.removeListener(p.az);p.j.Ca.wb.removeListener(p.cb.jl);p.j.Ca.tc.removeListener(p.Dl);p.j.Ca.Qg.removeListener(p.cb.yR);p.j.Oh.removeListener(p.f7a);p.j.hN.removeListener(p.Aj);p.j.Ca.Td.removeListener(p.MV);p.j.lb.removeListener(p.Vu);p.j.lb.removeListener(p.eK);p.j.Ca.Oe.removeListener(p.KX);p.j.Ca.playbackRate.removeListener(p.cb.NW);p.j.removeEventListener(l.Ja.closed,p.OR);p.j.removeEventListener(l.Ja.a2,p.cb.Ch);};this.eK=function(){p.j.lb.value === l.bb.me && (p.j.lb.removeListener(p.eK),p.ot());};this.az=function(q){p.Fp && p.cb.az(q);};this.Aj=function(q){p.Fp && void 0 !== q.newValue && (p.kr && p.vo && p.cb.rsa(p.getTime() - p.vo,p.kr),p.kr="repos",p.cb.rC(q.newValue,p.j.Ca.pf.value,p.j.Ca.Td.value),p.vo=p.getTime(),(0,f.Mf)(p.Vu));};this.f7a=function(q){p.Fp && p.cb.d8(!q.newValue);};this.Dl=function(q){q.oldValue && (p.jy=q.oldValue,p.cb.Dl(q),p.kr="repos",p.vo=p.getTime(),(0,f.Mf)(p.Vu));};this.Vu=function(){var q;if(p.vo && p.j.lb.value !== l.bb.Gf){q=p.getTime() - p.vo;p.cb.zt(q,!1,p.kr);p.jy && p.jy != p.j.Ca.tc.value && p.cb.vha();p.vo=void 0;p.kr=void 0;}};this.ot=function(){p.Fp || (p.Fp=!0,p.cb.vr(p.j),p.hoa(),p.config().C5 && (p.dy=pb.setTimeout(function(){p.Pf.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.dy=void 0;},p.config().C5)));};this.tg=function(){p.dy && (pb.clearTimeout(p.dy),p.dy=void 0);p.xX && p.xX();p.Fp?p.cb.Nx():p.j.ph?p.cb.vr(p.j):p.cb.ssa();};this.KX=function(q){q.oldValue && q.Fh && q.Fh.IE && p.cb.wx(q.oldValue,q.newValue,q.Fh.IE,q.Fh.DR);};this.MV=function(q){var u;if(q.newValue){u=q.newValue.stream;p.fG != u && (p.fG && u && p.cb.Ota(p.fG,u,q.newValue.fK.startTime),p.fG=u);}};this.U9();}Object.defineProperty(b,"__esModule",{value:!0});b.sP=void 0;k=a(2467);f=a(66052);l=a(34202);c.prototype.U9=function(){this.j.addEventListener(l.Ja.closed,this.OR);this.j.addEventListener(l.Ja.a2,this.cb.Ch);this.j.Ca.Yh.addListener(this.az);this.j.Ca.wb.addListener(this.cb.jl);this.j.Ca.tc.addListener(this.Dl);this.j.Ca.Qg.addListener(this.cb.yR);this.j.Oh.addListener(this.f7a);this.j.hN.addListener(this.Aj);this.j.Ca.Td.addListener(this.MV);this.j.lb.addListener(this.Vu);this.j.lb.addListener(this.eK);this.j.Ca.Oe.addListener(this.KX);this.j.Ca.playbackRate.addListener(this.cb.NW);};c.prototype.getTime=function(){return this.Ea.Eb().ba(k.oa);};c.prototype.hoa=function(){var d,g,n;d=this;n=[];this.config().n4a && (this.config().o4a.forEach(function(h){n.push(pb.setTimeout(d.cb.vy,h));}),this.config().Z6 && (g=pb.setInterval(this.cb.vy,this.config().Z6)),this.xX=function(){n.forEach(function(h){pb.clearTimeout(h);});g && pb.clearInterval(g);});};b.sP=c;},83250:function(r,b,a){var k,f,l,d,g;function c(n,h){var p;function m(){p.fsa.then(function(q){p.la.trace("Unloading PBO Playdata Services");q.close();});d.he.removeListener(d.Nk,m);}p=this;this.D6a=h;this.fsa=h();this.la=n.Ua("PlayerPlaydataMonitorImpl");d.he.addListener(d.Nk,m);}Object.defineProperty(b,"__esModule",{value:!0});b.AJa=void 0;r=a(70655);k=a(86700);f=a(71163);l=a(12496);d=a(25892);g=a(34202);c.prototype.Lj=function(n,h){this.fsa.then(function(m){m.Lj(h,!0,function(p){return n.close(p);});m.Wva(h);n.addEventListener(g.Ja.Hsa,function(){n.CB() && m.$9a(h).catch(function(p){(p=p.JM) && n.close(p);});});n.addEventListener(g.Ja.jl,function(){m.z9(h).catch(function(p){(p=p.JM) && n.close(p);});});n.addEventListener(g.Ja.Dl,function(){m.z9(h).catch(function(p){(p=p.JM) && n.close(p);});});});};c.prototype.TW=function(n){return this.fsa.then(function(h){h.Hab();return h.TW(n).catch();});};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.Xa)),r.__param(1,(0,k.l)(l.JP))],a);b.AJa=a;},83443:function(r,b,a){var k,f,l,d;function c(g){this.sqa={};this.x5={};this.i6=-1;this.jwa=new l.Gb(null);this.Msa=new l.Gb(null);this.la=g.Ua("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.JLa=void 0;r=a(70655);k=a(86700);f=a(91854);l=a(14414);a=a(71163);c.prototype.va=function(g,n,h){var m;m=this;g.forEach(function(p){p.stream.urls.forEach(function(q){m.sqa[q.url]=[p,q.Hg];});});this.Rja=n;this.mAb=h;new PerformanceObserver(function(p){m.D4b(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.o$a=function(g){var n,h,m;if(this.Rja){h=this.B4(g);if(h !== this.i6){for(this.i6=h;0 <= h && !this.x5[h];){h--;}m=ma(null !== (n=this.x5[h]) && void 0 !== n?n:[this.Rja,this.mAb]);n=m.next().value;m=m.next().value;this.la.debug("Setting time to " + g + ", using metadata from fragment " + h + " for " + ((0,f.qG)(n.track.type) + " track with bitrate ") + (n.stream.bitrate + " from cdn " + m));g=n.Ka[this.i6];h=g.ab;this.Msa.set({stream:n,fK:{startTime:Math.floor(1E3 * h),endTime:Math.floor(1E3 * (h + g.duration))},Em:m});}}};c.prototype.B4=function(g){var n,h,m,p,q;n=this.Rja.Ka;g/=1E3;h=0;m=n.length - 1;if(g >= n[m].ab)return m;for(;m >= h;){p=h + Math.floor((m - h) / 2);q=n[p];if(g < q.ab)m=p - 1;else if(g >= q.ab + q.duration)h=p + 1;else return p;}return n.length - 1;};c.prototype.D4b=function(g){var n;n=this;g.filter(function(h){return "video" === h.initiatorType;}).forEach(function(h){var m,p,q;m=h.name.indexOf("&fi=");if(0 < m){p=h.name.substring(0,m);m=Number(h.name.substring(m + 4));if(n.sqa[p]){q=ma(n.sqa[p]);h=q.next().value;q=q.next().value;p && !Number.isNaN(m) && h && (n.x5[m] && (n.i6=-1),n.x5[m]=[h,q],p=h.Ka[m].ab,!1,n.jwa.set(h,{IE:Math.floor(1E3 * p),Em:q}));}}});};d=c;d=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(a.Xa))],d);b.JLa=d;},24631:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w;function c(v,y,x,z,A,B,C,D,F,G,E,J,L,N,I,O,K){var H,M,R;H=this;this.GV=y;this.ay=x;this.Ea=z;this.Lh=A;this.Db=B;this.EU=C;this.jVb=D;this.U6a=F;this.P$=G;this.W1=E;this.qa=J;this.YL=L;this.config=N;this.rA=I;this.u=O;this.th=K;this.uU=new m.Gb(!0);this.Oh=new m.Gb(!1);this.sr=new m.Gb(!1);this.ended=new m.Gb(!1);this.m2=new m.Gb(0);this.lb=new m.Gb(k.bb.Gf);this.hN=new m.Gb(void 0);this.loaded=this.QW=this.closed=!1;this.w7a=function(Y,ea){return function(ca){var oa,Ga,Fa,Ja,Xa;oa=ca.newValue;Ga=oa.Em;ca=oa.fK;Fa=oa.stream;oa=Y.value;Ja=oa.streams.find(function(cb){return cb.bitrate === Fa.stream.bitrate;});Xa=H.Ca.sg.find(function(cb){return cb.id === Ga;});H.log.info("Presenting " + Ja.type + " request with bitrate " + Ja.bitrate + ", track " + (oa.trackId + " [" + ca.startTime + "..." + ca.endTime + "]"));ea.set({stream:Ja,fK:ca,Bc:Xa});};};this.Uab=function(Y,ea,ca){return function(oa){var Ga,Fa;Ga=Y.value;Fa=Ga.streams.find(function(Ja){return Ja.bitrate === oa.newValue.stream.bitrate;});H.log.info("Streaming " + Fa.type + " stream with bitrate " + Fa.bitrate + ", track " + Ga.trackId);ea.set(Fa,{IE:oa.Fh.IE,DR:void 0});Ga=H.Ca.sg.filter(function(Ja){return Ja.id === oa.Fh.Em;})[0];ca.set(Ga);};};this.mXa=new Set();this.log=v.Ua("HLSVideoPlayer");this.$=(0,f.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.$.playsInline=this.config.g7a;this.Ca=this.GV(l.Iz.index++,O.O,O.id,null !== (M=O.nb) && void 0 !== M?M:{},this.ay.FA(),this.Ea.Eb(),!1,void 0,function(){return H.Jq();});this.Ca.mediaTime.set(null !== (R=this.Ca.El) && void 0 !== R?R:0);this.eI();this.Snb=this.YL.create(this);this.Snb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.SMa=void 0;k=a(34202);f=a(24133);l=a(58680);d=a(93);g=a(41047);n=a(68172);h=a(3971);m=a(14414);p=a(2467);q=a(95919);u=a(56170);t=a(30818);w=a(18920);c.prototype.t2b=function(){return !!this.$.canPlayType && ("" !== this.$.canPlayType("application/vnd.apple.mpegURL") || "" !== this.$.canPlayType("audio/mpegurl"));};c.prototype.eI=function(){var v;v=this;this.$.addEventListener("loadedmetadata",function(){v.kb(k.Ja.V2a);v.kb(k.Ja.U2a);v.kb(k.Ja.Dl);v.kb(k.Ja.X1);v.kb(k.Ja.jl);v.kb(k.Ja.Jt);});this.$.addEventListener("error",function(y){y=v.th(n.U.MHa,y);v.close(y);});this.$.addEventListener("timeupdate",function(){v.ended.set(!1);v.Ca.mediaTime.set(v.Jq());v.Xja();v.kb(k.Ja.Gn);v.kb(k.Ja.Dcb);});this.$.addEventListener("durationchange",function(){v.kb(k.Ja.mka);});this.$.addEventListener("resize",function(){v.kb(k.Ja.Axa);});this.$.addEventListener("playing",function(){v.Xja();v.sr.set(!1);v.Oh.set(!0);v.ended.set(!1);v.lb.set(k.bb.me);});this.$.addEventListener("pause",function(){v.Oh.set(!1);v.sr.set(!1);v.lb.set(k.bb.Vh);});this.$.addEventListener("waiting",function(){v.lb.set(k.bb.Gf);});this.$.addEventListener("stalled",function(){v.sr.set(!0);});this.$.addEventListener("seeking",function(){v.sr.set(!1);v.hN.set(v.Ca.mediaTime.value);v.lb.set(k.bb.Gf);});this.$.addEventListener("seeked",function(){void 0 !== v.hN.value && (v.Ca.Vk.cra(v.hN.value,v.Jq()),v.hN.set(void 0));v.lb.set(v.CB()?k.bb.me:k.bb.Vh);});this.$.addEventListener("progress",function(){v.kb(k.Ja.j2);v.v4b();});this.$.addEventListener("ended",function(){v.lb.set(k.bb.aq);v.sr.set(!1);v.Oh.set(!1);v.ended.set(!0);});this.$.addEventListener("volumechange",function(){v.kb(k.Ja.Sdb);v.kb(k.Ja.P4a);});this.Oh.addListener(function(){v.kb(k.Ja.Hsa);v.kb(k.Ja.B6a);v.eK();});this.m2.addListener(function(){v.kb(k.Ja.ZJ);});this.sr.addListener(function(){v.kb(k.Ja.ZJ);});this.uU.addListener(function(){v.eK();});this.ended.addListener(function(){v.kb(k.Ja.pWa);});this.Ca.playbackRate.addListener(function(y){v.$.playbackRate=y.newValue;});};c.prototype.eK=function(){!this.CB() || this.uU.value || this.QW || this.oRa || (this.QW=!0,this.Ca.ey=this.qa.oH,this.U6a.Lj(this,this.Ca));};c.prototype.LR=function(){return this.FV - (this.Ca.Nh.ba(p.oa) + this.Ea.my.ba(p.oa));};c.prototype.rF=function(){var v;v=this.Ca.Wa.JC;return (0,q.tb)(v)?v:this.Ca.Nh.ba(p.oa) + this.Ea.my.ba(p.oa);};c.prototype.cia=function(){return this.qa.fe.ba(p.oa) - this.rF();};c.prototype.dia=function(){return this.FV - this.rF();};c.prototype.v4b=function(){var v;v=this.$.readyState <= h.om.bP.HAVE_METADATA?0:this.$.readyState <= h.om.bP.HAVE_CURRENT_DATA?.5:1;1 === v && (this.FV=this.qa.fe.ba(p.oa),this.uU.set(!1),this.nla(k.Ja.loaded));this.m2.set(v);};c.prototype.Xja=function(){var v;v=this.Jq();this.P$.o$a(v);this.W1.o$a(v);};c.prototype.yW=function(){var v;v=this;this.Ca.ke("ats");return this.Lh.Vx({ma:this.Ca.ma,Wa:this.Ca.Wa,J:this.Ca.O,Gq:d.ol.E_,mf:g.yh.qm}).then(function(y){var z;function x(A){var B;B=A;A && A.Vn() && !A.Wm() && (B=null);v.Ca.Yh.set(B);}v.Ca.ke("at");z=v.EU.create({}).w6a(y);v.Ca.W=y;v.Ca.Ac=z;v.$.audioTracks.addEventListener("addtrack",function(){v.$cb(v.Ca.tc.value);});v.$.audioTracks.addEventListener("change",function(){for(var A,B,C={},D=ma(v.$.audioTracks),F=D.next();!F.done;(C={wO:C.wO},F=D.next())){C.wO=F.value;C.wO.enabled && C.wO.label !== (null === (A=v.Ca.tc.value) || void 0 === A?void 0:A.displayName) && (!1,F=null !== (B=v.Ca.ai.find((function(G){return function(E){return E.displayName === G.wO.label;};})(C))) && void 0 !== B?B:null,v.Ca.tc.set(F));}});v.Ca.tc.addListener(function(A){v.$cb(A.newValue);v.kb(k.Ja.Dl);v.kb(k.Ja.Jt);});v.$.textTracks.addEventListener("addtrack",function(){v.adb(v.Ca.wb.value);});v.$.textTracks.addEventListener("change",function(){var G;for(var A,B,C=v.$.textTracks,D={},F=0;F < C.length;(D={xO:D.xO},F++)){if((D.xO=C[F],"showing" === D.xO.mode && D.xO.label !== (null === (A=v.Ca.wb.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=v.Ca.bh.find((function(E){return function(J){return J.displayName === E.xO.label;};})(D))) && void 0 !== B?B:null;v.Ca.wb.set(G);x(G);}}});v.Ca.wb.set(z.fS);x(z.fS);v.Ca.wb.addListener(function(A){v.adb(A.newValue);v.kb(k.Ja.jl);});return v.jVb.Dh(y,function(A){return v.Ca.ke(A);});}).then(function(y){var x,z,A,B,C,D,F,G,E,J,L,N,I,O,K,H;x=y.zPb;z=y.Tub;y=y.L1b;A=y.audio;B=y.RUa;C=y.video;D=v.Ca;F=D.Qg;G=D.tc;E=D.ai;J=D.Oe;L=D.Mg;y=D.El;N=D.Td;I=D.pf;O=D.Vk;D=D.Ac;D.ai=E.filter(function(M){return A.find(function(R){return R.track.Df === M.trackId;});});L.set(D.f3);G.set(E.find(function(M){return M.trackId === B;}));D=C[0];K=D.stream;E=A.find(function(M){return M.track.Df === B;});H=E.stream;v.PT=K.bitrate;v.P$.Msa.addListener(v.w7a(L,N));v.P$.jwa.addListener(v.Uab(L,J,v.Ca.Bc[w.v.X]));J=z.get(K.Lm).QM.Hg;v.P$.va(C,D,J);v.W1.Msa.addListener(v.w7a(G,I));v.W1.jwa.addListener(v.Uab(G,F,v.Ca.Bc[w.v.fa]));z=z.get(H.Lm).QM.Hg;v.W1.va(A,E,z);v.$.src=x;v.$.currentTime=(null !== y && void 0 !== y?y:0) / 1E3;v.$.load();O.cra(0,y && 0 < y?y:1);}).catch(function(y){var x,z;if(y instanceof Error){z=(0,t.ue)(y);v.log.error("uncaught exception",y,z);}v.close(v.th(null !== (x=y.code) && void 0 !== x?x:n.U.BMa,y));});};c.prototype.adb=function(v){var z;for(var y=this.$.textTracks,x=0;x < y.length;x++){z=y[x];z.label === v.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== v.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.$cb=function(v){for(var y=ma(this.$.audioTracks),x=y.next();!x.done;x=y.next()){x=x.value;x.label !== v.displayName || x.enabled || (!1,x.enabled=!0);x.label !== v.displayName && x.enabled && (!1,x.enabled=!1);}};c.prototype.Nn=function(){};c.prototype.Ol=function(){};c.prototype.Jq=function(){return Math.floor(1E3 * this.$.currentTime);};c.prototype.r4=function(){return this.Jq();};c.prototype.eL=function(){return this.Jq();};c.prototype.ama=function(){return Math.floor(1E3 * this.$.duration);};c.prototype.sZa=function(){return this.u.O;};c.prototype.Ps=function(){return this.Ca.ma;};c.prototype.Rm=function(){return this.$;};c.prototype.pv=function(){return null === this.qh();};c.prototype.CB=function(){return this.Oh.value;};c.prototype.Ys=function(){return !this.Oh.value;};c.prototype.yoa=function(){return this.$.ended;};c.prototype.qh=function(){return 1 !== this.m2.value?{stalled:this.sr.value,progress:this.m2.value,progressRollback:!1}:null;};c.prototype.getError=function(){var v,y;return null !== (y=null === (v=this.ph) || void 0 === v?void 0:v.pX()) && void 0 !== y?y:null;};c.prototype.gYa=function(){return 1 === this.$.buffered.length?1E3 * this.$.buffered.end(0):null;};c.prototype.n_a=function(){return {width:this.$.videoWidth,height:this.$.videoHeight};};c.prototype.Doa=function(){return this.$.muted;};c.prototype.o_a=function(){return this.$.volume;};c.prototype.B$a=function(v){this.$.muted=v;};c.prototype.O$a=function(v){this.$.volume=v;};c.prototype.addEventListener=function(v,y,x){this.Db.addListener(v,y,x);};c.prototype.removeEventListener=function(v,y){this.Db.removeListener(v,y);};c.prototype.load=function(){var v;v=this;this.loaded || (this.loaded=!0,this.rA.tU(function(y){v.t2b()?y.ia?v.yW():v.close(v.th(y.errorCode || n.U.Sba,y)):v.close(v.th(n.U.Uhb));}));};c.prototype.close=function(v){if(this.closed)return Promise.resolve();this.Ca.mediaTime.set(this.Jq());this.Xja();this.Ca.WR=this.r4();this.closed=!0;this.$.removeAttribute("src");this.$.load();null === v || void 0 === v?void 0:v.D$a(!this.uU.value);(this.ph=v) && this.kb(k.Ja.error,v.pX());this.kb(k.Ja.closed);return this.U6a.TW(this.Ca);};c.prototype.play=function(){var v,y;v=this;y=this.$.play();this.oRa=!1;y && y.then(function(){v.nla(k.Ja.pRa);}).catch(function(x){v.kb(k.Ja.ZJ);"NotAllowedError" === x.name && (v.log.warn("Playback is blocked by the browser settings",x),v.oRa=!0,v.Ch=!0,v.nla(k.Ja.a2,{player:{play:function(){return v.play();}}}));});};c.prototype.kb=function(v,y,x){y=y || ({});y.target=this;this.Db.Dc(v,y,!x);};c.prototype.nla=function(v,y){this.mXa.has(v) || (this.mXa.add(v),this.kb(v,y,void 0));};c.prototype.pause=function(){this.$.pause();};c.prototype.A6a=function(){this.pause();};c.prototype.seek=function(v){this.$.currentTime=v / 1E3;};c.prototype.z0a=function(v){this.close(this.th(n.U.dCa,n.R.Eo,v));};c.prototype.nL=function(){return this.Ca.playbackRate.value;};c.prototype.G9=function(v){this.Ca.playbackRate.set(v);};c.prototype.XXa=function(){var v;v=this;return this.Ca.ai.map(function(y){return v.op(y);});};c.prototype.gna=function(v){var y;y=this;return this.qT(v).map(function(x){return y.op(x);});};c.prototype.WXa=function(){var v;v=this.Ca.tc.value;return v && this.op(v);};c.prototype.fna=function(){var v;v=this.Ca.wb.value;return v && this.op(v);};c.prototype.l$a=function(v){if((v=this.JS(v)) && v.wg)return (this.Ca.tc.set(v),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.sva=function(v){var y,x;y=this;x=this.Ca.bh.find(function(z){return y.op(z) === v;});if(x && x.wg)return (this.Ca.wb.set(x),this.Ca.Yh.set(x),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.mZa=function(){var v;return this.hT(this.Ca.ai,null === (v=this.Ca.W) || void 0 === v?void 0:v.Fa.U3a);};c.prototype.xma=function(v){var y;return this.hT(this.qT(v),null === (y=this.Ca.W) || void 0 === y?void 0:y.Fa.V3a);};c.prototype.op=function(v){var y;y=v.kta=v.kta || ({trackId:v.trackId,bcp47:v.re,displayName:v.displayName,trackType:v.wh,rawTrackType:v.qC,channels:v.channels});this.Hoa(v) && (y.isNative=v.isNative,y.surroundFormatLabel=v.$W);this.Ioa(v) && (y.isNoneTrack=v.Vn(),y.isForcedNarrative=v.Wm(),y.isImageBased=v.ik);y.subType=v.EH;y.variant=v.variant;return y;};c.prototype.Hoa=function(v){return "undefined" !== typeof v.isNative;};c.prototype.Ioa=function(v){return "undefined" !== typeof v.Vn && "undefined" !== typeof v.Wm;};c.prototype.JS=function(v){var y;y=this;return v && this.Ca.ai.find(function(x){return y.op(x) === v;});};c.prototype.qT=function(v){var y;v=this.JS(v) || this.Ca.tc.value;return null !== (y=null === v || void 0 === v?void 0:v.bh) && void 0 !== y?y:[];};c.prototype.hT=function(v,y){var x;x=v.length - 1;if("number" !== typeof y)return x;v=v.findIndex(function(z){return z.ec > y;});return -1 === v?x:v - 1;};c.prototype.A$=function(v){this.Ca.Wa=(0,u.Y6)(this.Ca.Wa,v);};c.prototype.fi=function(v){if(v !== this.Ca.I)throw (!1,Error("Unknown segmentId " + v));return this.Ca;};c.prototype.DZa=function(){return this.Ca.Wa;};c.prototype.Iga=function(){!1;};c.prototype.Cv=function(){!1;};c.prototype.BG=function(){!1;};c.prototype.AT=function(){!1;return Promise.reject();};c.prototype.Xma=function(){return {};};c.prototype.s4=function(){};c.prototype.UXa=function(){return {};};c.prototype.gva=function(){};c.prototype.HN=function(){};c.prototype.d1a=function(){return !1;};c.prototype.AYa=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.LK=function(){!1;return Promise.resolve({success:!0});};c.prototype.j_a=function(){!1;};c.prototype.vT=function(){!1;};c.prototype.BN=function(){!1;};c.prototype.wva=function(){!1;};c.prototype.R2a=function(){!1;};c.prototype.OXa=function(){!1;return Promise.reject();};c.prototype.R6a=function(){!1;return Promise.reject();};c.prototype.W7a=function(){!1;return Promise.reject();};c.prototype.aj=function(){!1;return Promise.reject();};c.prototype.UG=function(){!1;};b.SMa=c;},88790:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p,q,u,t,w,v,y,x,z,A,B,C,D){var F;F=this;this.Yd=h;this.ub=m;this.Db=q;this.qt=t;this.SR=w;this.PXa=v;this.config=x;this.th=A;this.u=B;this.j=z.create(B.O,B.Nh,y,C,D,B.nb,B.id,B.W);this.j.background.set(!0);this.log=p.Ua("VideoPlayer",this.j);this.E6a=[];this.ended=!1;this.eI();this.j.state.addListener(function(G){G.newValue === f.Tb.$d && F.kb(f.Ja.Noa,{movieId:B.O});});this.j.Wa.bg && (this.XJ=u.tyb(this,this.j),this.j.addEventListener(f.ea.kH,function(G){G=G.position.segmentId;F.VNb !== G && (F.VNb=G,F.kb(f.Ja.RZb,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.DEa=void 0;k=a(68172);f=a(34202);l=a(2467);d=a(50876);g=a(8010);n=a(30818);c.prototype.pv=function(){return this.j.state.value === f.Tb.$d;};c.prototype.sZa=function(){return this.j.O;};c.prototype.Ps=function(){return this.j.ma;};c.prototype.Rm=function(){return this.j.qk;};c.prototype.CB=function(){return this.j.Oh.value;};c.prototype.Ys=function(){return this.j.paused.value;};c.prototype.yoa=function(){return this.ended;};c.prototype.qh=function(){var h;h=this.j.Wha.value;return h?{networkStalled:!!h.sr,stalled:!!h.sr,progress:h.progress,progressRollback:!!h.IWb}:null;};c.prototype.getError=function(){var h;h=this.j.ph;return h?h.pX():null;};c.prototype.Nn=function(){var h;return null === (h=this.j.Nn()) || void 0 === h?void 0:h.YCb;};c.prototype.Ol=function(){return this.j.cd;};c.prototype.eL=function(){return this.Ol().ha?this.Ol().U4():this.Jq();};c.prototype.Jq=function(){return this.j.mediaTime.value;};c.prototype.gYa=function(){var h;h=(this.r4() || 0) + this.j.fYa();return Math.min(h,this.ama());};c.prototype.r4=function(){return this.Ol().ha?this.Ol().U4():this.j.gB();};c.prototype.ama=function(){return this.Ol().ha?this.Ol().fZa():this.j.Ex.ba(l.oa);};c.prototype.n_a=function(){var h;h=this.j.MC.value;return h?{width:h.width,height:h.height}:null;};c.prototype.s4=function(){return this.j.s4();};c.prototype.OXa=function(h){var m,p;return (null === (m=this.j.W) || void 0 === m?0:m.ki.jL("generateScreenshots"))?this.PXa.Kn(this.log,this.j.W.ki,h):(m=null === (p=this.j.Wa) || void 0 === p?void 0:p.cn)?this.PXa.Bf(this.log,Object.assign({packageId:m},h)):Promise.reject("Unknown packageId");};c.prototype.AYa=function(){return this.UGb(this.j.lVa);};c.prototype.XXa=function(){var h;h=this;return this.j.ai.map(function(m){return h.op(m);});};c.prototype.mZa=function(){var h;return this.hT(this.j.ai,null === (h=this.j.W) || void 0 === h?void 0:h.Fa.U3a);};c.prototype.gna=function(h){var m;m=this;return this.qT(h).map(function(p){return m.op(p);});};c.prototype.xma=function(h){var m;return this.hT(this.qT(h),null === (m=this.j.W) || void 0 === m?void 0:m.Fa.V3a);};c.prototype.Doa=function(){return this.j.muted.value;};c.prototype.o_a=function(){return this.j.volume.value;};c.prototype.WXa=function(){var h,m;m=(null === (h=this.Fv) || void 0 === h?void 0:h.tc) || this.j.tc.value;return m && this.op(m);};c.prototype.fna=function(){var h,m;m=(null === (h=this.Fv) || void 0 === h?void 0:h.hX) || this.j.wb.value;return m && this.op(m);};c.prototype.d1a=function(){return this.j.background.value;};c.prototype.B$a=function(h){this.j.muted.set(!!h);};c.prototype.O$a=function(h){this.j.volume.set(this.jSb(h));};c.prototype.G9=function(h){this.j.playbackRate.set(h);};c.prototype.nL=function(){return this.j.playbackRate.value;};c.prototype.l$a=function(h){var m,p,q,u,t;m=this;q=this.JS(h);if(q){if(q.wg)return (this.j.tc.set(q),Promise.resolve());u=(h=(null === (p=this.Fv) || void 0 === p?void 0:p.hX) || this.j.wb.value) && this.I1a(q,h)?h:q.bh[0];p=q.trackId;t=u.trackId;this.Fv={tc:q,hX:u};this.kb(f.Ja.Dl);this.kb(f.Ja.Jt);u !== h && this.kb(f.Ja.jl);return this.j.c0a(p,t).then(function(w){w=w.tc;m.Fv=void 0;m.j.tc.set(w);}).catch(function(w){m.Fv=void 0;w=m.Yd.ue(w);m.log.error(w);m.close(m.th(k.U.EI,{xa:k.R.tca,Jb:w,PF:{hLb:q.trackId,f0a:q.re,iLb:u.trackId,g0a:u.re}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.sva=function(h){var m,p,q,u;m=this;q=(null === (p=this.Fv) || void 0 === p?void 0:p.tc) || this.j.tc.value;if(null !== q){u=q.bh;p={};for(var t=0;t < u.length;(p={Fr:p.Fr},t++)){p.Fr=u[t];if(!h && null === p.Fr)return (this.j.wb.set(null),Promise.resolve());if(this.op(p.Fr) === h){if(p.Fr.wg)return (this.log.info("Setting Timed Text, profile: " + p.Fr.profile),this.j.wb.set(p.Fr),Promise.resolve());h=q.trackId;u=p.Fr.trackId;this.Fv={tc:q,hX:p.Fr};this.kb(f.Ja.jl);return this.j.c0a(h,u).then(function(w){w=w.hX;m.Fv=void 0;m.j.wb.set(w);}).catch((function(w){return function(v){m.Fv=void 0;v=m.Yd.ue(v);m.log.error(v);m.close(m.th(k.U.EI,{xa:k.R.tca,Jb:v,PF:{hLb:q.trackId,f0a:q.re,iLb:w.Fr.trackId,g0a:w.Fr.re}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.gva=function(h){this.j.background.set(h);};c.prototype.HN=function(){this.j.HN();};c.prototype.A$=function(h){this.j.A$(h);};c.prototype.fi=function(h){return this.j.fi(h);};c.prototype.DZa=function(){return this.j.Wa;};c.prototype.Cv=function(){this.j.Cv();};c.prototype.BG=function(h){this.j.BG(h);};c.prototype.AT=function(h,m,p){return this.j.AT(h,m,p);};c.prototype.Iga=function(h,m){this.j.addEventListener(h,m,void 0);};c.prototype.addEventListener=function(h,m,p){this.Db.addListener(h,m,p);};c.prototype.removeEventListener=function(h,m){this.Db.removeListener(h,m);};c.prototype.UG=function(){};c.prototype.load=function(){var h;h=this;this.loaded || (this.loaded=!0,this.j.load(function(m,p){try{h.kb(f.Ja.V2a,void 0,!0);m.W && (m.W.Fa.beb && h.kb(f.Ja.k6b,m.W.Fa.beb,!0),m.W.Fa.fp && h.kb(f.Ja.QZb,{segmentMap:m.W.Fa.fp},!0));p({ia:!0});}catch(q){p({xa:k.R.nl,Jb:h.Yd.ue(q)});}}));};c.prototype.close=function(h){var m;m=this;this.YSa || (this.YSa=new Promise(function(p){h?m.j.JE(h,p):m.j.close(p);}));return this.YSa;};c.prototype.play=function(){this.j.Ch?this.j.fireEvent(f.ea.F9a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(f.ea.ydb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(f.ea.xdb));};c.prototype.A6a=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{qM:!0});};c.prototype.seek=function(h,m,p,q){m=void 0 === m?f.Xc.Mw:m;this.j.Kub() && (this.Ol().ha && this.Ol().N1a(this.Ol().v9a(h))?this.Ol().t9():this.j.je?(this.Ol().ha && (h=this.Ol().v9a(h)),this.j.je.seek(h,m,p,q)):(this.Ol().ha && (h=this.Ol().vma(h).El),this.j.El=h));};c.prototype.R6a=function(h){return this.XJ?(this.log.trace("Playing a segment",h),this.XJ.play(h)):Promise.resolve();};c.prototype.W7a=function(h){return this.XJ?(this.log.trace("Queueing a segment",h),this.XJ.WM(h)):Promise.resolve();};c.prototype.aj=function(h,m){return this.XJ?(this.log.trace("Updating next segment weights",h,m),this.XJ.aj(h,m)):Promise.resolve();};c.prototype.vT=function(){var h;h=this.j.hn.vT();return {bounds:h.FR,margins:h.Wq,size:h.size,visibility:h.visibility};};c.prototype.BN=function(h){var m,p,q;m=h.bounds;p=h.margins;q=h.size;h=h.visibility;this.j.lX && (m && this.j.lX.tva(m),p && this.j.lX.uva(p),"boolean" === typeof h && this.j.lX.vva(h));this.j.hn && q && this.j.hn.$_b(q);};c.prototype.wva=function(h){this.j.hm=h;};c.prototype.j_a=function(h){return this.j.bz && this.j.bz.pHb(h) || null;};c.prototype.UXa=function(){return this.Yd.UB({playerver:this.config.version,jssid:this.config.ENb,groupName:this.config.sHb(),xid:this.j.ma,pbi:this.j.index},this.config.LUb,{prefix:"pi_"});};c.prototype.z0a=function(h){this.j.od(k.U.dCa,k.R.Eo,h);};c.prototype.R2a=function(h,m,p,q){if(!this.ub.BQa(h))throw Error("invalid url");this.E6a.push({url:h,name:m,Usb:p,options:q});this.J7a();};c.prototype.Xma=function(){var h,m,p,q,u,t,w,v;h={};m=this.j.QW;try{if((this.j.ph && (h.errorCode=this.j.ph.o3,h.errorType=m?"endplay":"startplay"),h.playdelay=(0,n.ag)(this.j.LR()),h.xid=this.j.ma,this.j.W && this.ub.Vo(this.j.W.Fa.cn) && (h.packageId=Number(this.j.W.Fa.cn)),h.auth=this.j.nGb(),m)){h.totaltime=this.j.Vk?this.Ml(this.j.Vk.np("content")):0;h.abrdel=this.j.Vk?this.j.Vk.Ula():0;p=this.j.je;q=p?p.wF():null;this.ub.Zj(q) && (h.totdfr=q);q=p?p.bT():null;this.ub.Zj(q) && (h.totcfr=q);u=p?p.DHb():null;u && (h.rbfrs_decoder=u.Z2,h.rbfrs_network=u.s7);h.rbfrs_delay=this.j.Vk?this.j.Vk.soa:0;h.init_vbr=this.j.E5;t=this.EF();this.ub.VE(t) && (h.pdltime=t);w=this.j.Td.value;v=w && w.stream;v && (h.vbr=v.bitrate,h.vdlid=v.Ub);h.bufferedTime=this.j.fYa();}}catch(y){this.log.error("error capturing session summary",y);}return h;};c.prototype.LK=function(h){this.j.Wa.bm && (this.j.Wa.bm.userEngageAction=1);return this.ub.Zj(this.j.mediaTime.value)?(h=Object.assign(Object.assign({},this.qt.create(this.j)),{action:h}),this.SR(g.yo.LK).Kn(this.log,this.j.W.ki,h).then(function(){return {success:!0};}).catch(function(m){return {success:!1,errorCode:m.code,errorSubCode:m.ic,errorExternalCode:m.Qc,errorData:m.data,errorDetails:m.details};})):Promise.resolve({success:!1});};c.prototype.UGb=function(h){return {register:h.register.bind(h),notifyUpdated:h.s5a.bind(h),getModel:h.fIb.bind(h),getGroups:h.fT.bind(h),addEventListener:h.addEventListener.bind(h),removeEventListener:h.removeEventListener.bind(h),getTime:h.getTime.bind(h)};};c.prototype.op=function(h){var m;m=h.kta=h.kta || ({trackId:h.trackId,bcp47:h.re,displayName:h.displayName,trackType:h.wh,rawTrackType:h.qC,channels:h.channels});this.Hoa(h) && (m.isNative=h.isNative,m.surroundFormatLabel=h.$W);this.Ioa(h) && (m.isNoneTrack=h.Vn(),m.isForcedNarrative=h.Wm(),m.isImageBased=h.ik);m.subType=h.EH;m.variant=h.variant;return m;};c.prototype.Hoa=function(h){return "undefined" !== typeof h.isNative;};c.prototype.Ioa=function(h){return "undefined" !== typeof h.Vn && "undefined" !== typeof h.Wm;};c.prototype.JS=function(h){var m;m=this;return h && this.j.ai.find(function(p){return m.op(p) === h;});};c.prototype.qT=function(h){var m,p;h=this.JS(h) || (null === (m=this.Fv) || void 0 === m?void 0:m.tc) || this.j.tc.value;return null !== (p=null === h || void 0 === h?void 0:h.bh) && void 0 !== p?p:[];};c.prototype.hT=function(h,m){var p;p=h.length - 1;if("number" !== typeof m)return p;h=h.findIndex(function(q){return q.ec > m;});return -1 === h?p:h - 1;};c.prototype.I1a=function(h,m){return 0 <= h.bh.indexOf(m);};c.prototype.jSb=function(h){return 0 <= h?1 >= h?h:1:0;};c.prototype.Ml=function(h){return this.ub.Zj(h)?(h / 1E3).toFixed(0):"";};c.prototype.kb=function(h,m,p){m=m || ({});m.target=this;this.Db.Dc(h,m,!p);};c.prototype.eI=function(){var h;h=this;this.j.addEventListener(f.ea.vwa,function(){h.kb(f.Ja.Gn);});this.j.MC.addListener(function(){h.kb(f.Ja.Axa);});this.j.addEventListener(f.ea.Ecb,function(){h.kb(f.Ja.Dcb);});this.j.addEventListener(f.ea.P6,function(){h.kb(f.Ja.j2);});this.j.addEventListener(f.ea.Aj,function(){h.kb(f.Ja.j2);});this.j.addEventListener(f.ea.zL,function(m){h.kb(f.Ja.zL,{errorCode:m});});this.j.addEventListener(f.ea.xha,function(){h.kb(f.Ja.pRa);});this.j.addEventListener(f.ea.Ch,function(m){h.kb(f.Ja.a2,m);});this.j.addEventListener(f.ea.fcb,function(){h.kb(f.Ja.X1);h.kb(f.Ja.Jt);});this.j.Oh.addListener(function(){h.kb(f.Ja.Hsa);});this.j.paused.addListener(function(){h.kb(f.Ja.B6a);});this.j.muted.addListener(function(){h.kb(f.Ja.P4a);});this.j.volume.addListener(function(){h.kb(f.Ja.Sdb);});this.j.lb.addListener(function(){h.Lcb();});this.j.state.addListener(function(){h.Lcb();});this.j.Wha.addListener(function(m){h.TOb || h.j.state.value != f.Tb.$d || m.newValue || (h.TOb=!0,h.kb(f.Ja.loaded),setTimeout(function(){h.log.debug.bind(h.log,"summary ",h.Xma());}));h.kb(f.Ja.ZJ);});this.j.tc.addListener(function(){h.kb(f.Ja.Dl);h.kb(f.Ja.Jt);setTimeout(function(){var m,p;m=h.j.tc.value;p=h.j.wb.value;null === m || null === p || h.I1a(m,p) || (h.log.info("Changing timed text track to match audio track"),h.j.wb.set(m.bh[0]));},0);});this.j.wb.addListener(function(m){m.oldValue && m.newValue && m.oldValue.trackId == m.newValue.trackId || h.kb(f.Ja.jl);});this.j.addEventListener(f.ea.Jt,function(){h.kb(f.Ja.Jt);});this.j.addEventListener(f.ea.sX,function(){h.kb(f.Ja.sX);});this.j.state.addListener(function(m){switch(m.newValue){case f.Tb.$d:h.kb(f.Ja.mka);h.kb(f.Ja.Axa);h.kb(f.Ja.X1);h.kb(f.Ja.Jt);h.kb(f.Ja.U2a);h.J7a();h.o6b();break;case f.Tb.CLOSING:h.j.ph && h.kb(f.Ja.V0a,h.j.ph);break;case f.Tb.CLOSED:(h.kb(f.Ja.closed),h.Db.Jg());}});this.j.addEventListener(f.ea.MB,function(){h.kb(f.Ja.MB);h.kb(f.Ja.Gn);h.kb(f.Ja.j2);h.kb(f.Ja.mka);});};c.prototype.o6b=function(){var h;h=this;this.j.hn.addEventListener("showsubtitle",function(m){h.kb(f.Ja.Eva,m,!0);});this.j.hn.addEventListener("removesubtitle",function(m){h.kb(f.Ja.Lta,m,!0);});this.j.Nn().Bl.addListener(function(){h.kb(f.Ja.mrb);});};c.prototype.J7a=function(){if(this.j.state.value == f.Tb.$d){for(var h,m,p;m=this.E6a.shift();){h=this.j.hn.xga(m.url,m.name,m.options);m.Usb && (p=h);}p && this.j.wb.set(p);}};c.prototype.Lcb=function(){var h;h=this.j.state.value == f.Tb.$d && this.j.lb.value == f.bb.aq;this.ended !== h && (this.ended=h,this.j.rE("Ended changed: " + h),(h || this.j.state.value === f.Tb.CLOSING) && this.kb(f.Ja.pWa));};c.prototype.EF=function(){var h,m;try{h=/playercore.*js/;m=d.hu.getEntriesByType("resource").filter(function(p){return null !== h.exec(p.name);});if(m && 0 < m.length)return JSON.stringify(Math.round(m[0].duration));}catch(p){}};b.DEa=c;},27279:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L;function c(N){this.dc=N;}Object.defineProperty(b,"__esModule",{value:!0});b.QMa=void 0;r=a(70655);k=a(86700);f=a(98540);l=a(89682);d=a(89542);g=a(71163);n=a(1265);h=a(89895);m=a(56281);p=a(88790);q=a(78274);u=a(8010);t=a(17445);w=a(24631);v=a(21182);y=a(24166);x=a(58998);z=a(76586);A=a(69379);B=a(78139);C=a(17244);D=a(31303);F=a(98431);G=a(35664);E=a(77174);J=a(14641);L=a(60634);c.prototype.oK=function(N,I,O,K,H,M){return this.dc.get(C.ac)().D$?new w.SMa(this.dc.get(g.Xa),this.dc.get(v.wda),this.dc.get(y.zw),this.dc.get(x.Jc),this.dc.get(z.lD),this.dc.get(n.Aba),this.dc.get(A.zca),this.dc.get(B.nDa),this.dc.get(D.BJa),this.dc.get(F.eea),this.dc.get(F.eea),this.dc.get(G.gg),this.dc.get(J.rP),this.dc.get(E.Mba),this.dc.get(L.Th),K,O):new p.DEa(this.dc.get(l.jh),this.dc.get(d.Wf),this.dc.get(g.Xa),this.dc.get(n.Aba),this.dc.get(h.Xda),this.dc.get(q.hda),this.dc.get(u.zba),this.dc.get(t.lIa),this.dc.get(m.uBa),N,I,O,K,H,M);};a=c;a=r.__decorate([(0,k.T)(),r.__param(0,(0,k.l)(f.AEa))],a);b.QMa=a;},77424:function(r,b,a){r.exports={glb:a(62448),C7b:a(69675)};},69675:function(r,b,a){function c(f){this.data=f;this.right=this.left=null;}function k(f){this.Ve=null;this.Wr=f;this.size=0;}b=a(5301);c.prototype.Sg=function(f){return f?this.right:this.left;};c.prototype.Sp=function(f,l){f?this.right=l:this.left=l;};k.prototype=new b();k.prototype.Ts=function(f){if(null === this.Ve)(this.Ve=new c(f),this.size++);else for(var l=0,d=null,g=this.Ve;;){if(null === g){g=new c(f);d.Sp(l,g);ret=!0;this.size++;break;}if(0 === this.Wr(g.data,f))break;l=0 > this.Wr(g.data,f);d=g;g=g.Sg(l);}};k.prototype.remove=function(f){var l,d,m;if(null === this.Ve)return !1;l=new c(void 0);d=l;d.right=this.Ve;for(var g=null,n=null,h=1;null !== d.Sg(h);){g=d;d=d.Sg(h);m=this.Wr(f,d.data);h=0 < m;0 === m && (n=d);}return null !== n?(n.data=d.data,g.Sp(g.right === d,d.Sg(null === d.left)),this.Ve=l.right,this.size--,!0):!1;};r.exports=k;},62448:function(r,b,a){function c(g){this.data=g;this.right=this.left=null;this.red=!0;}function k(g){this.Ve=null;this.Wr=g;this.size=0;}function f(g){return null !== g && g.red;}function l(g,n){var h;h=g.Sg(!n);g.Sp(!n,h.Sg(n));h.Sp(n,g);g.red=!0;h.red=!1;return h;}function d(g,n){g.Sp(!n,l(g.Sg(!n),!n));return l(g,n);}b=a(5301);c.prototype.Sg=function(g){return g?this.right:this.left;};c.prototype.Sp=function(g,n){g?this.right=n:this.left=n;};k.prototype=new b();k.prototype.Ts=function(g){var n,h,m,p,q,u,t,w;if(null === this.Ve)(this.Ve=new c(g),this.size++);else {n=new c(void 0);h=0;m=0;p=null;q=n;u=null;t=this.Ve;for(q.right=this.Ve;;){null === t?(t=new c(g),u.Sp(h,t),this.size++):f(t.left) && f(t.right) && (t.red=!0,t.left.red=!1,t.right.red=!1);if(f(t) && f(u)){w=q.right === p;t === u.Sg(m)?q.Sp(w,l(p,!m)):q.Sp(w,d(p,!m));}w=this.Wr(t.data,g);if(0 === w)break;m=h;h=0 > w;null !== p && (q=p);p=u;u=t;t=t.Sg(h);}this.Ve=n.right;}this.Ve.red=!1;};k.prototype.remove=function(g){var n,h,t,w,v;if(null === this.Ve)return !1;n=new c(void 0);h=n;h.right=this.Ve;for(var m=null,p,q=null,u=1;null !== h.Sg(u);){t=u;p=m;m=h;h=h.Sg(u);w=this.Wr(g,h.data);u=0 < w;0 === w && (q=h);if(!f(h) && !f(h.Sg(u)))if(f(h.Sg(!u)))(p=l(h,u),m.Sp(t,p),m=p);else if(!f(h.Sg(!u)) && (w=m.Sg(!t),null !== w))if(f(w.Sg(!t)) || f(w.Sg(t))){v=p.right === m;f(w.Sg(t))?p.Sp(v,d(m,t)):f(w.Sg(!t)) && p.Sp(v,l(m,t));t=p.Sg(v);t.red=!0;h.red=!0;t.left.red=!1;t.right.red=!1;}else (m.red=!1,w.red=!0,h.red=!0);}null !== q && (q.data=h.data,m.Sp(m.right === h,h.Sg(null === h.left)),this.size--);this.Ve=n.right;null !== this.Ve && (this.Ve.red=!1);return null !== q;};r.exports=k;},5301:function(r){function b(){}function a(c){this.yPa=c;this.Fo=[];this.ng=null;}b.prototype.clear=function(){this.Ve=null;this.size=0;};b.prototype.find=function(c){var f;for(var k=this.Ve;null !== k;){f=this.Wr(c,k.data);if(0 === f)return k.data;k=k.Sg(0 < f);}return null;};b.prototype.lowerBound=function(c){var d;for(var k=this.Ve,f=this.iterator(),l=this.Wr;null !== k;){d=l(c,k.data);if(0 === d)return (f.ng=k,f);f.Fo.push(k);k=k.Sg(0 < d);}for(d=f.Fo.length - 1;0 <= d;--d){if((k=f.Fo[d],0 > l(c,k.data)))return (f.ng=k,f.Fo.length=d,f);}f.Fo.length=0;return f;};b.prototype.upperBound=function(c){for(var k=this.lowerBound(c),f=this.Wr;null !== k.data() && 0 === f(k.data(),c);){k.next();}return k;};b.prototype.min=function(){var c;c=this.Ve;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Ve;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Ds=function(c){for(var k=this.iterator(),f;null !== (f=k.next());){c(f);}};a.prototype.data=function(){return null !== this.ng?this.ng.data:null;};a.prototype.next=function(){var c;if(null === this.ng){c=this.yPa.Ve;null !== c && this.wOa(c);}else if(null === this.ng.right){do {if((c=this.ng,this.Fo.length))this.ng=this.Fo.pop();else {this.ng=null;break;}}while(this.ng.right === c);}else (this.Fo.push(this.ng),this.wOa(this.ng.right));return null !== this.ng?this.ng.data:null;};a.prototype.XG=function(){var c;if(null === this.ng){c=this.yPa.Ve;null !== c && this.sOa(c);}else if(null === this.ng.left){do {if((c=this.ng,this.Fo.length))this.ng=this.Fo.pop();else {this.ng=null;break;}}while(this.ng.left === c);}else (this.Fo.push(this.ng),this.sOa(this.ng.left));return null !== this.ng?this.ng.data:null;};a.prototype.wOa=function(c){for(;null !== c.left;){this.Fo.push(c);c=c.left;}this.ng=c;};a.prototype.sOa=function(c){for(;null !== c.right;){this.Fo.push(c);c=c.right;}this.ng=c;};r.exports=b;},21924:function(r,b,a){var c,k,f;c=a(40210);k=a(55559);f=k(c("String.prototype.indexOf"));r.exports=function(l,d){d=c(l,!!d);return "function" === typeof d && -1 < f(l,".prototype.")?k(d):d;};},55559:function(r,b,a){var k,f,l,d,g,n,h;function c(){return d(k,f,arguments);}k=a(58612);b=a(40210);f=b("%Function.prototype.apply%");l=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || k.call(l,f);g=b("%Object.getOwnPropertyDescriptor%",!0);n=b("%Object.defineProperty%",!0);h=b("%Math.max%");if(n)try{n({},"a",{value:1});}catch(m){n=null;}r.exports=function(m){var p;p=d(k,l,arguments);g && n && g(p,"length").configurable && n(p,"length",{value:1 + h(0,m.length - (arguments.length - 1))});return p;};n?n(r.exports,"apply",{value:c}):r.exports.apply=c;},4289:function(r,b,a){var c,k,f,l,d,g;c=a(82215);k="function" === typeof Symbol && "symbol" === typeof Symbol("foo");f=Object.prototype.toString;l=Array.prototype.concat;d=Object.defineProperty;b=a(31044)();g=d && b;r.exports=function(n,h){var m,p,u,t,w,v;m=2 < arguments.length?arguments[2]:{};p=c(h);k && (p=l.call(p,Object.getOwnPropertySymbols(h)));for(var q=0;q < p.length;q+=1){u=n;t=p[q];w=h[p[q]];v=m[p[q]];if(!((t in u)) || "function" === typeof v && "[object Function]" === f.call(v) && v())g?d(u,t,{configurable:!0,enumerable:!1,value:w,writable:!0}):u[t]=w;}};},41503:function(r,b,a){var c,k,f,l,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;k=a(34149);f=a(95320);l=a(18923);d=a(12636);r.exports=function(g){var n,h,m;if(k(g))return g;n="default";1 < arguments.length && (arguments[1] === String?n="string":arguments[1] === Number && (n="number"));if(c)if(Symbol.toPrimitive){h=Symbol.toPrimitive;m=g[h];if(null !== m && "undefined" !== typeof m){if(!f(m))throw new TypeError(m + " returned for property " + h + " of object " + g + " is not a function");h=m;}else h=void 0;}else d(g) && (h=Symbol.prototype.valueOf);if("undefined" !== typeof h){n=h.call(g,n);if(k(n))return n;throw new TypeError("unable to convert exotic object to primitive");}"default" === n && (l(g) || d(g)) && (n="string");a:{n="default" === n?"number":n;if("undefined" === typeof g || null === g)throw new TypeError("Cannot call method on " + g);if("string" !== typeof n || "number" !== n && "string" !== n)throw new TypeError('hint must be "string" or "number"');n="string" === n?["toString","valueOf"]:["valueOf","toString"];for(h=0;h < n.length;++h){if((m=g[n[h]],f(m) && (m=m.call(g),k(m))))break a;}throw new TypeError("No default value");}return m;};},34149:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},17187:function(r){function b(){this.gb=this.gb || ({});this.fs=this.fs || void 0;}function a(k){return "function" === typeof k;}function c(k){return "object" === typeof k && null !== k;}r.exports=b;b.EventEmitter=b;b.prototype.gb=void 0;b.prototype.fs=void 0;b.Qja=10;b.prototype.setMaxListeners=function(k){if("number" !== typeof k || 0 > k || isNaN(k))throw TypeError("n must be a positive number");this.fs=k;return this;};b.prototype.emit=function(k){var f,l,d,g;this.gb || (this.gb={});if("error" === k && (!this.gb.error || c(this.gb.error) && !this.gb.error.length)){l=arguments[1];if(l instanceof Error)throw l;d=Error('Uncaught, unspecified "error" event. (' + l + ")");d.context=l;throw d;}d=this.gb[k];if(void 0 === d)return !1;if(a(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:(l=Array.prototype.slice.call(arguments,1),d.apply(this,l));}else if(c(d)){l=Array.prototype.slice.call(arguments,1);g=d.slice();d=g.length;for(f=0;f < d;f++){g[f].apply(this,l);}}return !0;};b.prototype.addListener=function(k,f){if(!a(f))throw TypeError("listener must be a function");this.gb || (this.gb={});this.gb.ARb && this.emit("newListener",k,a(f.listener)?f.listener:f);this.gb[k]?c(this.gb[k])?this.gb[k].push(f):this.gb[k]=[this.gb[k],f]:this.gb[k]=f;c(this.gb[k]) && !this.gb[k].Gxa && (f=void 0 === this.fs?b.Qja:this.fs) && 0 < f && this.gb[k].length > f && (this.gb[k].Gxa=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.gb[k].length),"function" === typeof console.trace && console.trace());return this;};b.prototype.on=b.prototype.addListener;b.prototype.once=function(k,f){var d;function l(){this.removeListener(k,l);d || (d=!0,f.apply(this,arguments));}if(!a(f))throw TypeError("listener must be a function");d=!1;l.listener=f;this.on(k,l);return this;};b.prototype.removeListener=function(k,f){var l,d,g;if(!a(f))throw TypeError("listener must be a function");if(!this.gb || !this.gb[k])return this;l=this.gb[k];d=l.length;g=-1;if(l === f || a(l.listener) && l.listener === f)(delete this.gb[k],this.gb.removeListener && this.emit("removeListener",k,f));else if(c(l)){for(;0 < d--;){if(l[d] === f || l[d].listener && l[d].listener === f){g=d;break;}}if(0 > g)return this;1 === l.length?(l.length=0,delete this.gb[k]):l.splice(g,1);this.gb.removeListener && this.emit("removeListener",k,f);}return this;};b.prototype.removeAllListeners=function(k){var f;if(!this.gb)return this;if(!this.gb.removeListener)return (0 === arguments.length?this.gb={}:this.gb[k] && delete this.gb[k],this);if(0 === arguments.length){for(f in this.gb){"removeListener" !== f && this.removeAllListeners(f);}this.removeAllListeners("removeListener");this.gb={};return this;}f=this.gb[k];if(a(f))this.removeListener(k,f);else if(f)for(;f.length;){this.removeListener(k,f[f.length - 1]);}delete this.gb[k];return this;};b.prototype.listeners=function(k){return this.gb && this.gb[k]?a(this.gb[k])?[this.gb[k]]:this.gb[k].slice():[];};b.prototype.listenerCount=function(k){if(this.gb){k=this.gb[k];if(a(k))return 1;if(k)return k.length;}return 0;};b.listenerCount=function(k,f){return k.listenerCount(f);};},17648:function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var k;k=this;if("function" !== typeof k || "[object Function]" !== a.call(k))throw new TypeError("Function.prototype.bind called on incompatible " + k);for(var f=b.call(arguments,1),l,d=Math.max(0,k.length - f.length),g=[],n=0;n < d;n++){g.push("$" + n);}l=Function("binder","return function (" + g.join(",") + "){ return binder.apply(this,arguments); }")(function(){var h;if(this instanceof l){h=k.apply(this,f.concat(b.call(arguments)));return Object(h) === h?h:this;}return k.apply(c,f.concat(b.call(arguments)));});k.prototype && (d=function(){},d.prototype=k.prototype,l.prototype=new d(),d.prototype=null);return l;};},58612:function(r,b,a){b=a(17648);r.exports=Function.prototype.bind || b;},40210:function(r,b,a){var l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D;function c(F){var G,E,J;G=A(F,0,1);E=A(F,-1);if("%" === G && "%" !== E)throw new l("invalid intrinsic syntax, expected closing `%`");if("%" === E && "%" !== G)throw new l("invalid intrinsic syntax, expected opening `%`");J=[];z(F,C,function(L,N,I,O){J[J.length]=I?z(O,D,"$1"):N || L;});return J;}function k(){throw new g();}function f(F){try{return d('"use strict"; return (' + F + ").constructor;")();}catch(G){}}l=SyntaxError;d=Function;g=TypeError;n=Object.getOwnPropertyDescriptor;if(n)try{n({},"");}catch(F){n=null;}b=n?(function(){try{return (arguments.callee,k);}catch(F){try{return n(arguments,"callee").get;}catch(G){return k;}}})():k;h=a(41405)();m=Object.getPrototypeOf || (function(F){return F.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:m(Uint8Array);u={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":h?m([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?m(m([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && h?m(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && h?m(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?m(("")[Symbol.iterator]()):void 0,"%Symbol%":h?Symbol:void 0,"%SyntaxError%":l,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":g,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};try{(null).error;}catch(F){b=m(m(F));u["%Error.prototype%"]=b;}t=function E(G){var J,L;if("%AsyncFunction%" === G)J=f("async function () {}");else if("%GeneratorFunction%" === G)J=f("function* () {}");else if("%AsyncGeneratorFunction%" === G)J=f("async function* () {}");else if("%AsyncGenerator%" === G){L=E("%AsyncGeneratorFunction%");L && (J=L.prototype);}else "%AsyncIteratorPrototype%" === G && (L=E("%AsyncGenerator%")) && (J=m(L.prototype));return u[G]=J;};w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(58612);v=a(17642);y=b.call(Function.call,Array.prototype.concat);x=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);A=b.call(Function.call,String.prototype.slice);B=b.call(Function.call,RegExp.prototype.exec);C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;D=/\\(\\)?/g;r.exports=function(G,E){var J,L,N,I,O,K,H,M,R;if("string" !== typeof G || 0 === G.length)throw new g("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof E)throw new g('"allowMissing" argument must be a boolean');if(null === B(/^%?[^%]*%?$/,G))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");J=c(G);L=0 < J.length?J[0]:"";N="%" + L + "%";I=N;if(v(w,I)){O=w[I];I="%" + O[0] + "%";}if(v(u,I)){K=u[I];K === p && (K=t(I));if("undefined" === typeof K && !E)throw new g("intrinsic " + N + " exists, but is not available. Please file an issue!");}else throw new l("intrinsic " + N + " does not exist!");N=K;I=!1;O && (L=O[0],x(J,y([0,1],O)));O=1;for(K=!0;O < J.length;O+=1){H=J[O];M=A(H,0,1);R=A(H,-1);if(('"' === M || "'" === M || "`" === M || '"' === R || "'" === R || "`" === R) && M !== R)throw new l("property names with quotes must have matching quotes");"constructor" !== H && K || (I=!0);L+="." + H;M="%" + L + "%";if(v(u,M))N=u[M];else if(null != N){if(!((H in N))){if(!E)throw new g("base intrinsic for " + G + " exists, but the property is not available.");return;}n && O + 1 >= J.length?(R=n(N,H),N=(K=!!R) && ("get" in R) && !(("originalValue" in R.get))?R.get:N[H]):(K=v(N,H),N=N[H]);K && !I && (u[M]=N);}}return N;};},31044:function(r,b,a){var k;function c(){if(k)try{return (k({},"a",{value:1}),!0);}catch(f){}return !1;}k=a(40210)("%Object.defineProperty%",!0);c.rKb=function(){if(!c())return null;try{return 1 !== k([],"length",{value:1}).length;}catch(f){return !0;}};r.exports=c;},41405:function(r,b,a){var c,k;c="undefined" !== typeof Symbol && Symbol;k=a(55419);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:k();};},55419:function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},96410:function(r,b,a){var c;c=a(55419);r.exports=function(){return c() && !!Symbol.toStringTag;};},17642:function(r,b,a){b=a(58612);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},99934:function(r,b,a){var f,l;function c(d,g,n,h,m){var p,q,t;p={};q="number" === typeof m;m=void 0 !== m && q?m.toString():n;if(q && void 0 !== n)throw Error(f.Bib);Reflect.Ana(d,g) && (p=Reflect.getMetadata(d,g));n=p[m];if(Array.isArray(n)){q=0;for(var u=n;q < u.length;q++){t=u[q];if(t.key === h.key)throw Error(f.ahb + " " + t.key.toString());}}else n=[];n.push(h);p[m]=n;Reflect.g3(d,p,g);}function k(d,g){return function(n,h){g(n,h,d);};}Object.defineProperty(b,"__esModule",{value:!0});f=a(16674);l=a(6867);b.HH=function(d,g,n,h){c(l.TLa,d,g,h,n);};b.eX=function(d,g,n){c(l.ULa,d.constructor,g,n);};b.JA=function(d,g,n){"number" === typeof n?(d=[k(n,d)],Reflect.JA(d,g)):"string" === typeof n?Reflect.JA([d],g,n):Reflect.JA([d],g);};},5744:function(r,b,a){var c,k,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);k=a(6867);f=a(47738);l=a(99934);r=(function(){function d(g){this.Cmb=g;}d.prototype.p4b=function(){return this.Cmb();};return d;})();b.fca=r;b.l=function(d){return function(g,n,h){var m;if(void 0 === d)throw Error(c.Ylb(g.name));m=new f.Metadata(k.hP,d);"number" === typeof h?l.HH(g,n,h,m):l.eX(g,n,m);};};},64315:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);k=a(6867);b.T=function(){return function(f){var l;if(Reflect.Ana(k.Tca,f))throw Error(c.$gb);l=Reflect.getMetadata(k.xgb,f) || [];Reflect.g3(k.Tca,l,f);return f;};};},71693:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);k=a(47738);f=a(99934);b.wG=function(l){return function(d,g,n){var h;h=new k.Metadata(c.kD,l);"number" === typeof n?f.HH(d,g,n,h):f.eX(d,g,h);};};},38085:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);k=a(47738);f=a(99934);b.R4a=function(l){return function(d,g,n){var h;h=new k.Metadata(c.Dz,l);"number" === typeof n?f.HH(d,g,n,h):f.eX(d,g,h);};};},6515:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);k=a(47738);f=a(99934);b.optional=function(){return function(l,d,g){var n;n=new k.Metadata(c.qHa,!0);"number" === typeof g?f.HH(l,d,g,n):f.eX(l,d,n);};};},7014:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);k=a(6867);f=a(47738);b.k7a=function(){return function(l,d){d=new f.Metadata(k.IP,d);if(Reflect.Ana(k.IP,l.constructor))throw Error(c.sjb);Reflect.g3(k.IP,d,l.constructor);};};},32052:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(47738);k=a(99934);b.sbb=function(f,l){return function(d,g,n){var h;h=new c.Metadata(f,l);"number" === typeof n?k.HH(d,g,n,h):k.eX(d,g,h);};};},55638:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);k=a(47738);f=a(99934);b.fX=function(l){return function(d,g,n){var h;h=new k.Metadata(c.$Z,l);f.HH(d,g,n,h);};};},86757:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);k=a(47738);f=a(99934);b.jn=function(){return function(l,d,g){var n;n=new k.Metadata(c.UP,!0);f.HH(l,d,g,n);};};},44290:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(28421);k=a(37791);r=(function(){function f(l,d){this.id=k.id();this.rga=!1;this.Cg=l;this.scope=d;this.type=c.bj.Pib;this.OE=function(){return !0;};this.CK=this.Bv=this.Iy=this.TK=this.cache=this.Rl=null;}f.prototype.clone=function(){var l;l=new f(this.Cg,this.scope);l.rga=!1;l.Rl=this.Rl;l.CK=this.CK;l.scope=this.scope;l.type=this.type;l.TK=this.TK;l.Iy=this.Iy;l.OE=this.OE;l.Bv=this.Bv;l.cache=this.cache;return l;};return f;})();b.zfb=r;},23184:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jaa={E9b:2,gHa:0,Sjb:1};},16674:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$gb="Cannot apply @injectable decorator multiple times.";b.ahb="Metadata key was used more than once in a parameter:";b.DP="NULL argument";b.JEa="Key Not Found";b.yeb="Ambiguous match found for serviceIdentifier:";b.Rfb="Could not unbind serviceIdentifier:";b.Djb="No matching bindings found for serviceIdentifier:";b.fjb="Missing required @injectable annotation in:";b.gjb="Missing required @inject or @multiInject annotation in:";b.Ylb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.Ufb="Circular dependency found:";b.W9b="Sorry, this feature is not fully implemented yet.";b.Aib="Invalid binding type:";b.Fjb="No snapshot available to restore.";b.Eib="Invalid return type in middleware. Middleware must return!";b.Dib="Value provided to function binding must be a function!";b.Fib="The toSelf function can only be applied when a constructor is used as service identifier";b.Bib="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.Aeb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.jgb="Invalid Container constructor argument. Container options must be an object.";b.hgb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.ggb="Invalid Container option. Auto bind injectable must be a boolean";b.igb="Invalid Container option. Skip base check must be a boolean";b.sjb="Cannot apply @postConstruct decorator multiple times in the same class";b.Mkb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.Vfb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Blb="Maximum call stack size exceeded";},28421:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gr={Request:"Request",$da:"Singleton",Q_:"Transient"};b.bj={GAa:"ConstantValue",HAa:"Constructor",OBa:"DynamicValue",Cba:"Factory",Function:"Function",Instance:"Instance",Pib:"Invalid",mKa:"Provider"};b.Ow={vAa:"ClassProperty",IAa:"ConstructorArgument",rea:"Variable"};},6867:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dz="named";b.$Z="name";b.UP="unmanaged";b.qHa="optional";b.hP="inject";b.kD="multi_inject";b.TLa="inversify:tagged";b.ULa="inversify:tagged_props";b.Tca="inversify:paramtypes";b.xgb="design:paramtypes";b.IP="post_construct";},51389:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u;c=this && this.__awaiter || (function(t,w,v,y){return new (v || (v=Promise))(function(x,z){function A(D){try{C(y.next(D));}catch(F){z(F);}}function B(D){try{C(y["throw"](D));}catch(F){z(F);}}function C(D){D.done?x(D.value):new v(function(F){F(D.value);}).then(A,B);}C((y=y.apply(t,w || [])).next());});});k=this && this.__generator || (function(t,w){var x,z,A,B,C;function v(D){return function(F){return y([D,F]);};}function y(D){if(z)throw new TypeError("Generator is already executing.");for(;x;){try{if((z=1,A && (B=A[D[0] & 2?"return":D[0]?"throw":"next"]) && !(B=B.call(A,D[1])).done))return B;if((A=0,B))D=[0,B.value];switch(D[0]){case 0:case 1:B=D;break;case 4:return (x.label++,{value:D[1],done:!1});case 5:x.label++;A=D[1];D=[0];continue;case 7:D=x.HG.pop();x.Oj.pop();continue;default:if(!(B=x.Oj,B=0 < B.length && B[B.length - 1]) && (6 === D[0] || 2 === D[0])){x=0;continue;}if(3 === D[0] && (!B || D[1] > B[0] && D[1] < B[3]))x.label=D[1];else if(6 === D[0] && x.label < B[1])(x.label=B[1],B=D);else if(B && x.label < B[2])(x.label=B[2],x.HG.push(D));else {B[2] && x.HG.pop();x.Oj.pop();continue;}}D=w.call(t,x);}catch(F){D=[6,F];A=0;}finally{z=B=0;}}if(D[0] & 5)throw D[1];return {value:D[0]?D[1]:void 0,done:!0};}x={label:0,Qa:function(){if(B[0] & 1)throw B[1];return B[1];},Oj:[],HG:[]};return (C={next:v(0),"throw":v(1),"return":v(2)},"function" === typeof Symbol && (C[Symbol.iterator]=function(){return this;}),C);});Object.defineProperty(b,"__esModule",{value:!0});f=a(44290);l=a(16674);d=a(28421);a(6867);g=a(51377);n=a(86311);h=a(31927);m=a(51860);p=a(37791);q=a(55800);a(85700);u=a(80175);r=(function(){function t(w){w=w || ({});if("object" !== typeof w)throw Error("" + l.jgb);if(void 0 === w.TE)w.TE=d.Gr.Q_;else if(w.TE !== d.Gr.$da && w.TE !== d.Gr.Q_ && w.TE !== d.Gr.Request)throw Error("" + l.hgb);if(void 0 === w.BR)w.BR=!1;else if("boolean" !== typeof w.BR)throw Error("" + l.ggb);if(void 0 === w.uH)w.uH=!1;else if("boolean" !== typeof w.uH)throw Error("" + l.igb);this.options={BR:w.BR,TE:w.TE,uH:w.uH};this.id=p.id();this.GD=new u.Xib();this.xpb=[];this.parent=this.Ifa=null;this.bob=new g.Fca();}t.prototype.load=function(){var x,z;for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}v=this.MNa();for(var y=0;y < w.length;y++){x=w[y];z=v(x.id);x.Gta(z.ARa,z.wcb,z.P1a,z.n8a);}};t.prototype.tU=function(){for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}c(this,void 0,void 0,function(){var y,x,z,A,B;return k(this,function(C){switch(C.label){case 0:(y=this.MNa(),x=0,z=w,C.label=1);case 1:if(!(x < z.length))return [3,4];A=z[x];B=y(A.id);return [4,A.Gta(B.ARa,B.wcb,B.P1a,B.n8a)];case 2:(C.Qa(),C.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};t.prototype.Bcb=function(){function w(z){return function(A){return A.F4a === z;};}for(var v=this,y=[],x=0;x < arguments.length;x++){y[x]=arguments[x];}y.forEach(function(z){z=w(z.id);v.GD.cYb(z);});};t.prototype.bind=function(w){var v;v=new f.zfb(w,this.options.TE || d.Gr.Q_);this.GD.add(w,v);return new m.Bfb(v);};t.prototype.hXb=function(w){this.vcb(w);return this.bind(w);};t.prototype.vcb=function(w){try{this.GD.remove(w);}catch(v){throw Error(l.Rfb + " " + q.pL(w));}};t.prototype.f1a=function(w){var v;v=this.GD.B_a(w);!v && this.parent && (v=this.parent.f1a(w));return v;};t.prototype.restore=function(){var w;w=this.xpb.pop();if(void 0 === w)throw Error(l.Fjb);this.GD=w.ER;this.Ifa=w.IQb;};t.prototype.xyb=function(){var w;w=new t(this.options);w.parent=this;return w;};t.prototype.get=function(w){return this.LNa(!1,!1,d.Ow.rea,w);};t.prototype.getAll=function(w){return this.LNa(!0,!0,d.Ow.rea,w);};t.prototype.resolve=function(w){var v;v=this.xyb();v.bind(w).Vbb();return v.get(w);};t.prototype.MNa=function(){var z;function w(A){return function(B){B=z.hXb.bind(z)(B);B.zc.F4a=A;return B;};}function v(){return function(A){return z.f1a.bind(z)(A);};}function y(){return function(A){z.vcb.bind(z)(A);};}function x(A){return function(B){B=z.bind.bind(z)(B);B.zc.F4a=A;return B;};}z=this;return function(A){return {ARa:x(A),P1a:v(A),n8a:w(A),wcb:y(A)};};};t.prototype.LNa=function(w,v,y,x){var z;z=null;w={Xsb:w,Fwb:function(A){return A;},UMb:v,key:void 0,Cg:x,G2b:y,value:void 0};if(this.Ifa){if((z=this.Ifa(w),void 0 === z || null === z))throw Error(l.Eib);}else z=this.Pob()(w);return z;};t.prototype.Pob=function(){var w;w=this;return function(v){var y;y=n.HM(w.bob,w,v.UMb,v.G2b,v.Cg,v.key,v.value,v.Xsb);y=v.Fwb(y);return h.resolve(y);};};return t;})();b.rY=r;},33244:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37791);b.$c=(function(){return function(k){this.id=c.id();this.Gta=k;};})();b.cza=(function(){return function(k){this.id=c.id();this.Gta=k;};})();},85700:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.U7b=(function(){function a(){}a.of=function(c,k){var f;f=new a();f.ER=c;f.IQb=k;return f;};return a;})();},80175:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);r=(function(){function k(){this.Hf=new Map();}k.prototype.add=function(f,l){var d;if(null === f || void 0 === f)throw Error(c.DP);if(null === l || void 0 === l)throw Error(c.DP);d=this.Hf.get(f);void 0 !== d?(d.push(l),this.Hf.set(f,d)):this.Hf.set(f,[l]);};k.prototype.get=function(f){if(null === f || void 0 === f)throw Error(c.DP);f=this.Hf.get(f);if(void 0 !== f)return f;throw Error(c.JEa);};k.prototype.remove=function(f){if(null === f || void 0 === f)throw Error(c.DP);if(!this.Hf.delete(f))throw Error(c.JEa);};k.prototype.cYb=function(f){var l;l=this;this.Hf.forEach(function(d,g){d=d.filter(function(n){return !f(n);});0 < d.length?l.Hf.set(g,d):l.Hf.delete(g);});};k.prototype.B_a=function(f){if(null === f || void 0 === f)throw Error(c.DP);return this.Hf.has(f);};k.prototype.clone=function(){var f;f=new k();this.Hf.forEach(function(l,d){l.forEach(function(g){return f.add(d,g.clone());});});return f;};return k;})();b.Xib=r;},86700:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(6867);b.t9b=r;r=a(51389);b.rY=r.rY;r=a(28421);b.Gr=r.Gr;b.bj=r.bj;b.Ow=r.Ow;r=a(33244);b.cza=r.cza;b.$c=r.$c;r=a(64315);b.T=r.T;r=a(32052);b.sbb=r.sbb;r=a(38085);b.R4a=r.R4a;r=a(5744);b.l=r.l;b.fca=r.fca;r=a(6515);b.optional=r.optional;r=a(86757);b.jn=r.jn;r=a(71693);b.wG=r.wG;r=a(55638);b.fX=r.fX;r=a(7014);b.k7a=r.k7a;r=a(51377);b.Fca=r.Fca;r=a(37791);b.id=r.id;r=a(99934);b.JA=r.JA;r=a(80758);b.mcb=r.mcb;b.tbb=r.tbb;b.S4a=r.S4a;b.tcb=r.tcb;r=a(55800);b.pL=r.pL;a=a(70600);b.O4a=a.O4a;},95228:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37791);r=(function(){function k(f){this.id=c.id();this.hb=f;}k.prototype.Nqb=function(f){this.HM=f;};return k;})();b.LAa=r;},47738:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);r=(function(){function k(f,l){this.key=f;this.value=l;}k.prototype.toString=function(){return this.key === c.Dz?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return k;})();b.Metadata=r;},51377:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);r=(function(){function k(){}k.prototype.sYa=function(f){var l;l=Reflect.getMetadata(c.Tca,f);f=Reflect.getMetadata(c.TLa,f);return {lTa:l,t5b:f || ({})};};k.prototype.LIb=function(f){return Reflect.getMetadata(c.ULa,f) || [];};return k;})();b.Fca=r;},55314:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ukb=(function(){return function(a,c){this.AM=a;this.rua=c;};})();},86311:function(r,b,a){var d,g,n,h,m,p,q,u,t,w,v,y;function c(x,z,A,B,C){var D,F;D=l(A.hb,C.Cg);F=[];D.length === d.Jaa.gHa && A.hb.options.BR && "function" === typeof C.Cg && x.sYa(C.Cg).lTa && (A.hb.bind(C.Cg).Vbb(),D=l(A.hb,C.Cg));F=z?D:D.filter(function(G){var E;E=new v.Request(G.Cg,A,B,G,C);return G.OE(E);});k(C.Cg,F,C,A.hb);return F;}function k(x,z,A,B){switch(z.length){case d.Jaa.gHa:if(A.v1a())return z;x=p.pL(x);z=g.Djb;z+=p.fOb(x,A);z+=p.L2a(B,x,l);throw Error(z);case d.Jaa.Sjb:if(!A.isArray())return z;default:if(A.isArray())return z;x=p.pL(x);z=g.yeb + " " + x;z+=p.L2a(B,x,l);throw Error(z);}}function f(x,z,A,B,C,D){var F;if(null === C){z=c(x,z,B,null,D);F=new v.Request(A,B,null,z,D);A=new t.Ukb(B,F);B.Nqb(A);}else (z=c(x,z,B,C,D),F=C.SPa(D.Cg,z,D));z.forEach(function(G){var E,J,L;E=null;if(D.isArray())E=F.SPa(G.Cg,G,D);else {if(G.cache)return;E=F;}if(G.type === n.bj.Instance && null !== G.Rl){J=w.RGb(x,G.Rl);if(!B.hb.options.uH){L=w.pGb(x,G.Rl);if(J.length < L)throw (G=g.Aeb(w.getFunctionName(G.Rl)),Error(G));}J.forEach(function(N){f(x,!1,N.Cg,B,E,N);});}});}function l(x,z){var A,B;A=[];B=x.GD;B.B_a(z)?A=B.get(z):null !== x.parent && (A=l(x.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(23184);g=a(16674);n=a(28421);h=a(6867);m=a(85265);p=a(55800);q=a(95228);u=a(47738);t=a(55314);w=a(6E3);v=a(6748);y=a(18924);b.edc=function(x){return x.GD;};b.HM=function(x,z,A,B,C,D,F,G){void 0 === G && (G=!1);z=new q.LAa(z);A=new u.Metadata(A?h.kD:h.hP,C);B=new y.O_(B,"",C,A);void 0 !== D && (D=new u.Metadata(D,F),B.Bd.push(D));try{return (f(x,G,C,z,null,B),z);}catch(E){throw (m.G1a(E) && z.HM && p.xvb(z.HM.rua),E);}};b.acc=function(x,z,A,B){A=new y.O_(n.Ow.rea,"",z,new u.Metadata(A,B));x=new q.LAa(x);return new v.Request(z,x,null,[],A);};},88460:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.MN=c;}a.prototype.startsWith=function(c){return 0 === this.MN.indexOf(c);};a.prototype.endsWith=function(c){var k;k=c.split("").reverse().join("");c=this.MN.split("").reverse().join("");return this.startsWith.call({MN:c},k);};a.prototype.contains=function(c){return -1 !== this.MN.indexOf(c);};a.prototype.equals=function(c){return this.MN === c;};a.prototype.value=function(){return this.MN;};return a;})();b.elb=r;},6E3:function(r,b,a){var d,g,n,h,m,p;function c(q,u,t,w){var v,y,x,z,B,C,D,F,G,E,J,L;v=q.sYa(t);y=v.lTa;if(void 0 === y)throw Error(g.fjb + " " + u + ".");v=v.t5b;x=Object.keys(v);z=0 === t.length && 0 < x.length?x.length:t.length;x=[];for(var A=0;A < z;A++){B=A;C=w;D=u;F=y;G=v[B.toString()] || [];E=l(G);J=!0 !== E.jn;F=F[B];L=E.l || E.wG;F=L?L:F;F instanceof d.fca && (F=F.p4b());if(J){J=F === Function;J=F === Object || J || void 0 === F;if(!C && J)throw Error(g.gjb + " argument " + B + " in class " + D + ".");B=new p.O_(n.Ow.IAa,E.fX,F);B.Bd=G;G=B;}else G=null;null !== G && x.push(G);}q=k(q,t);return x.concat(q);}function k(q,u){var x,z,A;for(var t=q.LIb(u),w=[],v=0,y=Object.keys(t);v < y.length;v++){x=y[v];z=t[x];A=l(t[x]);x=new p.O_(n.Ow.vAa,A.fX || x,A.l || A.wG);x.Bd=z;w.push(x);}u=Object.getPrototypeOf(u.prototype).constructor;u !== Object && (q=k(q,u),w=w.concat(q));return w;}function f(q,u){var t,w;u=Object.getPrototypeOf(u.prototype).constructor;if(u !== Object){t=m.getFunctionName(u);t=c(q,t,u,!0);w=t.map(function(v){return v.Bd.filter(function(y){return y.key === h.UP;});});w=[].concat.apply([],w).length;t=t.length - w;return 0 < t?t:f(q,u);}return 0;}function l(q){var u;u={};q.forEach(function(t){u[t.key.toString()]=t.value;});return {l:u[h.hP],wG:u[h.kD],fX:u[h.$Z],jn:u[h.UP]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(5744);g=a(16674);n=a(28421);h=a(6867);m=a(55800);b.getFunctionName=m.getFunctionName;p=a(18924);b.RGb=function(q,u){var t;t=m.getFunctionName(u);return c(q,t,u,!1);};b.pGb=f;},6748:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37791);r=(function(){function k(f,l,d,g,n){this.id=c.id();this.Cg=f;this.AM=l;this.Ay=d;this.target=n;this.yia=[];this.ER=Array.isArray(g)?g:[g];this.DYb=null === d?new Map():null;}k.prototype.SPa=function(f,l,d){f=new k(f,this.AM,this,l,d);this.yia.push(f);return f;};return k;})();b.Request=r;},18924:function(r,b,a){var c,k,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(6867);k=a(37791);f=a(47738);l=a(88460);r=(function(){function d(g,n,h,m){this.id=k.id();this.type=g;this.Cg=h;this.name=new l.elb(n || "");this.Bd=[];g=null;"string" === typeof m?g=new f.Metadata(c.Dz,m):m instanceof f.Metadata && (g=m);null !== g && this.Bd.push(g);}d.prototype.J_a=function(g){for(var n=0,h=this.Bd;n < h.length;n++){if(h[n].key === g)return !0;}return !1;};d.prototype.isArray=function(){return this.J_a(c.kD);};d.prototype.JPb=function(g){return this.Xpa(c.kD)(g);};d.prototype.Eoa=function(){return this.J_a(c.Dz);};d.prototype.Poa=function(){return this.Bd.some(function(g){return g.key !== c.hP && g.key !== c.kD && g.key !== c.$Z && g.key !== c.UP && g.key !== c.Dz;});};d.prototype.v1a=function(){return this.Xpa(c.qHa)(!0);};d.prototype.hIb=function(){return this.Eoa()?this.Bd.filter(function(g){return g.key === c.Dz;})[0]:null;};d.prototype.OGb=function(){return this.Poa()?this.Bd.filter(function(g){return g.key !== c.hP && g.key !== c.kD && g.key !== c.$Z && g.key !== c.UP && g.key !== c.Dz;}):null;};d.prototype.Xpa=function(g){var n;n=this;return function(h){var q;for(var m=0,p=n.Bd;m < p.length;m++){q=p[m];if(q.key === g && q.value === h)return !0;}return !1;};};return d;})();b.O_=r;},52279:function(r,b,a){var f,l,d;function c(g,n,h){var m;n=n.filter(function(p){return null !== p.target && p.target.type === l.Ow.vAa;});m=n.map(h);n.forEach(function(p,q){p=p.target.name.value();g[p]=m[q];});return g;}function k(g,n){var h;if(Reflect.zKb(d.IP,g)){h=Reflect.getMetadata(d.IP,g);try{n[h.value]();}catch(m){throw Error(f.Mkb(g.name,m.message));}}}Object.defineProperty(b,"__esModule",{value:!0});f=a(16674);l=a(28421);d=a(6867);b.RYb=function(g,n,h){var m;m=null;0 < n.length?(m=n.filter(function(p){return null !== p.target && p.target.type === l.Ow.IAa;}).map(h),m=new (g.bind.apply(g,[void 0].concat(m)))(),m=c(m,n,h)):m=new g();k(g,m);return m;};},31927:function(r,b,a){var f,l,d,g,n;function c(h){return function(m){var p,q,u,t,w;p=m.ER;q=m.yia;u=m.target && m.target.isArray();t=!m.Ay || !m.Ay.target || !m.target || !m.Ay.target.JPb(m.target.Cg);if(u && t)return q.map(function(v){return c(h)(v);});u=null;if(!m.target.v1a() || 0 !== p.length){w=p[0];p=w.scope === l.Gr.$da;t=w.scope === l.Gr.Request;if(p && w.rga)return w.cache;if(t && null !== h && h.has(w.id))return h.get(w.id);if(w.type === l.bj.GAa)u=w.cache;else if(w.type === l.bj.Function)u=w.cache;else if(w.type === l.bj.HAa)u=w.Rl;else if(w.type === l.bj.OBa && null !== w.CK)u=k("toDynamicValue",w.Cg,function(){return w.CK(m.AM);});else if(w.type === l.bj.Cba && null !== w.TK)u=k("toFactory",w.Cg,function(){return w.TK(m.AM);});else if(w.type === l.bj.mKa && null !== w.Iy)u=k("toProvider",w.Cg,function(){return w.Iy(m.AM);});else if(w.type === l.bj.Instance && null !== w.Rl)u=n.RYb(w.Rl,q,c(h));else throw (q=g.pL(m.Cg),Error(f.Aib + " " + q));"function" === typeof w.Bv && (u=w.Bv(m.AM,u));p && (w.cache=u,w.rga=!0);t && null !== h && !h.has(w.id) && h.set(w.id,u);return u;}};}function k(h,m,p){try{return p();}catch(q){if(d.G1a(q))throw Error(f.Vfb(h,m.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});f=a(16674);l=a(28421);d=a(85265);g=a(55800);n=a(52279);b.resolve=function(h){return c(h.HM.rua.DYb)(h.HM.rua);};},83366:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(28421);k=a(71325);r=(function(){function f(l){this.zc=l;}f.prototype.da=function(){this.zc.scope=c.Gr.$da;return new k.QC(this.zc);};f.prototype.Una=function(){this.zc.scope=c.Gr.Q_;return new k.QC(this.zc);};return f;})();b.Afb=r;},99812:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(83366);k=a(51811);f=a(98370);r=(function(){function l(d){this.zc=d;this.dQ=new f.Kaa(this.zc);this.Dea=new k.jY(this.zc);this.qNa=new c.Afb(d);}l.prototype.da=function(){return this.qNa.da();};l.prototype.Una=function(){return this.qNa.Una();};l.prototype.when=function(d){return this.dQ.when(d);};l.prototype.OX=function(){return this.dQ.OX();};l.prototype.Bv=function(d){return this.Dea.Bv(d);};return l;})();b.sza=r;},51811:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(98370);r=(function(){function k(f){this.zc=f;}k.prototype.Bv=function(f){this.zc.Bv=f;return new c.Kaa(this.zc);};return k;})();b.jY=r;},51860:function(r,b,a){var c,k,f,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);k=a(28421);f=a(99812);l=a(71325);r=(function(){function d(g){this.zc=g;}d.prototype.to=function(g){this.zc.type=k.bj.Instance;this.zc.Rl=g;return new f.sza(this.zc);};d.prototype.Vbb=function(){if("function" !== typeof this.zc.Cg)throw Error("" + c.Fib);this.to(this.zc.Cg);};d.prototype.kl=function(g){this.zc.type=k.bj.GAa;this.zc.cache=g;this.zc.CK=null;this.zc.Rl=null;new l.QC(this.zc);};d.prototype.GC=function(g){this.zc.type=k.bj.OBa;this.zc.cache=null;this.zc.CK=g;this.zc.Rl=null;return new f.sza(this.zc);};d.prototype.q3b=function(g){this.zc.type=k.bj.HAa;this.zc.Rl=g;new l.QC(this.zc);};d.prototype.Vd=function(g){this.zc.type=k.bj.Cba;this.zc.TK=g;new l.QC(this.zc);};d.prototype.r3b=function(g){if("function" !== typeof g)throw Error(c.Dib);this.kl(g);this.zc.type=k.bj.Function;};d.prototype.Tbb=function(g){this.zc.type=k.bj.Cba;this.zc.TK=function(n){return function(){return n.hb.get(g);};};new l.QC(this.zc);};d.prototype.oX=function(g){this.zc.type=k.bj.mKa;this.zc.Iy=g;new l.QC(this.zc);};d.prototype.t3b=function(g){this.GC(function(n){return n.hb.get(g);});};return d;})();b.Bfb=r;},71325:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(51811);k=a(98370);r=(function(){function f(l){this.zc=l;this.dQ=new k.Kaa(this.zc);this.Dea=new c.jY(this.zc);}f.prototype.when=function(l){return this.dQ.when(l);};f.prototype.OX=function(){return this.dQ.OX();};f.prototype.Bv=function(l){return this.Dea.Bv(l);};return f;})();b.QC=r;},98370:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(51811);a(80758);r=(function(){function k(f){this.zc=f;}k.prototype.when=function(f){this.zc.OE=f;return new c.jY(this.zc);};k.prototype.OX=function(){this.zc.OE=function(f){return null !== f.target && !f.target.Eoa() && !f.target.Poa();};return new c.jY(this.zc);};return k;})();b.Kaa=r;},80758:function(r,b,a){var f;function c(l){return function(d){function g(n){return null !== n && null !== n.target && n.target.Xpa(l)(d);}g.j4a=new f.Metadata(l,d);return g;};}function k(l,d){l=l.Ay;return null !== l?d(l)?!0:k(l,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(6867);f=a(47738);b.mcb=k;b.tbb=c;a=c(r.Dz);b.S4a=a;b.tcb=function(l){return function(d){var g;if(null !== d){g=d.ER[0];return "string" === typeof l?g.Cg === l:l === d.ER[0].Rl;}return !1;};};},70600:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.O4a=function(a){return function(c){return function(){for(var k=[],f=0;f < arguments.length;f++){k[f]=arguments[f];}return k.forEach(function(l){return a.bind(l).t3b(c);});};};};},85265:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(16674);b.G1a=function(k){return k instanceof RangeError || k.message === c.Blb;};},37791:function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},55800:function(r,b,a){var g;function c(n){return "function" === typeof n?n.name:"symbol" === typeof n?n.toString():n;}function k(n,h){return null === n.Ay?!1:n.Ay.Cg === h?!0:k(n.Ay,h);}function f(n){function h(m,p){var q;void 0 === p && (p=[]);q=c(m.Cg);p.push(q);return null !== m.Ay?h(m.Ay,p):p;}return h(n).reverse().join(" --\x3e ");}function l(n){n.yia.forEach(function(h){if(k(h,h.Cg))throw (h=f(h),Error(g.Ufb + " " + h));l(h);});}function d(n){var h;if(n.name)return n.name;n=n.toString();h=n.match(/^function\s*([^\s(]+)/);return h?h[1]:"Anonymous function: " + n;}Object.defineProperty(b,"__esModule",{value:!0});g=a(16674);b.pL=c;b.L2a=function(n,h,m){var p;p="";n=m(n,h);0 !== n.length && (p="\nRegistered bindings:",n.forEach(function(q){var u;u="Object";null !== q.Rl && (u=d(q.Rl));p=p + "\n " + u;q.OE.j4a && (p=p + " - " + q.OE.j4a);}));return p;};b.xvb=l;b.fOb=function(n,h){var m,p;if(h.Poa() || h.Eoa()){m="";p=h.hIb();h=h.OGb();null !== p && (m+=p.toString() + "\n");null !== h && h.forEach(function(q){m+=q.toString() + "\n";});return " " + n + "\n " + n + " - " + m;}return " " + n;};b.getFunctionName=d;},95320:function(r){var k,f,l,d,g,n,h,m;function b(){return !1;}function a(p){try{if(c(p))return !1;k.call(p);return !0;}catch(q){return !1;}}function c(p){var q;try{q=k.call(p);return g.test(q);}catch(u){return !1;}}k=Function.prototype.toString;f="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof f && "function" === typeof Object.defineProperty)try{l=Object.defineProperty({},"length",{get:function(){throw d;}});d={};f(function(){throw 42;},null,l);}catch(p){p !== d && (f=null);}else f=null;g=/^\s*class\b/;n=Object.prototype.toString;h="function" === typeof Symbol && !!Symbol.toStringTag;m=!((0 in [,]));"object" === typeof document && n.call(document.all) === n.call(document.all) && (b=function(p){var q;if(!(!m && p || "undefined" !== typeof p && "object" !== typeof p))try{q=n.call(p);return ("[object HTMLAllCollection]" === q || "[object HTML document.all class]" === q || "[object HTMLCollection]" === q || "[object Object]" === q) && null == p("");}catch(u){}return !1;});r.exports=f?function(p){if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;try{f(p,null,l);}catch(q){if(q !== d)return !1;}return !c(p) && a(p);}:function(p){var q;if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;if(h)return a(p);if(c(p))return !1;q=n.call(p);return "[object Function]" === q || "[object GeneratorFunction]" === q || (/^\[object HTML/).test(q)?a(p):!1;};},18923:function(r,b,a){var c,k,f;c=Date.prototype.getDay;k=Object.prototype.toString;f=a(96410)();r.exports=function(l){if("object" !== typeof l || null === l)l=!1;else if(f)try{c.call(l);l=!0;}catch(d){l=!1;}else l="[object Date]" === k.call(l);return l;};},98420:function(r,b,a){var c,k,f,l,d,g,n;b=a(21924);if(a=a(96410)()){c=b("Object.prototype.hasOwnProperty");k=b("RegExp.prototype.exec");f={};l=function(){throw f;};d={toString:l,valueOf:l};"symbol" === typeof Symbol.toPrimitive && (d[Symbol.toPrimitive]=l);}g=b("Object.prototype.toString");n=Object.getOwnPropertyDescriptor;r.exports=a?function(h){var m;if(!h || "object" !== typeof h)return !1;m=n(h,"lastIndex");if(!m || !c(m,"value"))return !1;try{k(h,d);}catch(p){return p === f;}}:function(h){return !h || "object" !== typeof h && "function" !== typeof h?!1:"[object RegExp]" === g(h);};},29981:function(r,b,a){var c,k,f;c=String.prototype.valueOf;k=Object.prototype.toString;f=a(96410)();r.exports=function(l){if("string" === typeof l)l=!0;else if("object" !== typeof l)l=!1;else if(f)try{c.call(l);l=!0;}catch(d){l=!1;}else l="[object String]" === k.call(l);return l;};},12636:function(r,b,a){var c,k,f;c=Object.prototype.toString;if(a(41405)()){k=Symbol.prototype.toString;f=/^Symbol\(.*\)$/;r.exports=function(l){if("symbol" === typeof l)return !0;if("[object Symbol]" !== c.call(l))return !1;try{return "symbol" !== typeof l.valueOf()?!1:f.test(k.call(l));}catch(d){return !1;}};}else r.exports=function(){return !1;};},43186:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L,N,I,O,K,H,M,R,Y;Object.defineProperties(b,{__esModule:{value:!0}});b.xya=void 0;c=a(70655);k=a(28075);f=a(21173);l=a(13024);d=a(43956);g=a(6495);n=a(73520);h=a(47571);a(64196);m=a(59708);p=a(4145);q=a(44724);u=a(89098);t=a(92758);w=a(33969);v=a(89909);y=a(74573);x=a(22258);z=a(72393);A=a(50971);B=a(79906);C=a(74005);D=c.__importDefault(a(29736));F=a(96607);G=a(1684);E=a(38534);J=a(5015);L=a(19829);N=a(19824);I=a(65398);O=a(23711);K=a(3442);H=a(56151);M=a(46127);R=a(37293);Y=a(27291);r=(function(){function ea(ca){this.V=ca;this.events=new k.EventEmitter();this.Sa=f.Tt.CLOSED;this.Hu=[];this.IW=[];this.HQ=[];this.No=[];this.rNa={};this.W0={};this.iwa=f.DO.default;this.Fpb=new y.su({$m:this,source:"engine",bo:10,console:ca});}Object.defineProperties(ea.prototype,{Jv:{get:function(){(0,q.assert)(this.ex);return this.ex;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{state:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{dVb:{get:function(){return this.HQ;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{TG:{get:function(){return this.No.map(function(ca){return ca.ga;});},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{fVb:{get:function(){return this.No;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{Ic:{get:function(){this.LH();return this.Bx.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{ZU:{get:function(){this.LH();return this.Bx.ZU;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{wp:{get:function(){this.LH();return this.Bx.wp;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{X5b:{get:function(){return this.Hu.length;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{YJ:{get:function(){return this.rNa;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{MRa:{get:function(){return this.wl;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{vH:{get:function(){return this.W0;},enumerable:!1,configurable:!0}});Object.defineProperties(ea.prototype,{wQb:{get:function(){return this.uOa || (this.uOa=this.pub());},enumerable:!1,configurable:!0}});ea.prototype.open=function(ca,oa,Ga,Fa){var Ja;Ja=this;if(this.Sa === f.Tt.OPEN)return !1;this.Y=ca;this.Wp=new A.RP(new B.J_({ii:!0,currentTime:function(){return C.N.Ma(D.default.time.Ga());},speed:1}),this.V,"Engine Scheduler");this.TNa=new g.TCa(this.V,ca);this.cA=new m.HKa(this.X5.bind(this),ca);ca.C$ && (this.wl=new l.Oza(this.V,function(){return Ja.YJ;}));this.Bx=n.BAa.Fma(ca,this.V,oa);this.Sa=f.Tt.OPEN;ca=Object.create(ca,{srb:{value:ca.Oqa || ca.rrb}});this.ex=(0,O.lT)(ca);Ga && this.ex.H$a(Ga);Fa && this.ex.mva(Fa);this.c7a=new K.RJa({sj:function(){Ja.Sa !== f.Tt.CLOSED && Ja.cA.sj("playgraphOpportunity");}});this.vOa=new E.DGa(function(){return Ja.H4();},function(){return Ja.I4().global;},this.V);this.lzb();return !0;};ea.prototype.lR=function(ca,oa,Ga,Fa,Ja){var Xa,cb,U;Xa=this;void 0 === Ja && (Ja=!0);this.LH();Ga=Object.create(Ga,{CN:{value:this.vH}});if(Ja){cb=this.Jv.zvb(ca,Ga);if(cb)return (cb.cdb(oa),ca=this.mo.bind(this,Fa,cb),cb.S_b(ca),cb);}cb=new N.JKa(function(Z){return Xa.mo(Fa,U,Z);},function(Z){return Xa.Sv(Fa,Z);});U=(0,M.R2)(this.Y,[ca,oa,Ga,ea.ERb++,this.Ic,cb,function(Z){return Xa.cA.sj(Z);},Ja?this.Jv.yvb.bind(this.Jv):function(){},this.H4.bind(this),this.wl],this.V);U.Xe(new w.DLa(U));U.Xe(new v.XLa(U.Jd));U.B6.Xe(new J.Tya(U));U.B6.Xe(new I.eFa(U));this.bA.cH.forEach(function(Z){return U.Xe(Z);});this.c7a.lR(U);ca=new k.Re();ca.on(U.events,"requestsPruned",this.HYb.bind(this));ca.on(U.events,"weightUpdated",this.Jra.bind(this));ca.on(U.events,"underflow",this.sh.bind(this,U));this.No.push({ga:U,Sk:ca,ZV:0});this.Jra();return U;};ea.prototype.sh=function(ca){ca=this.vOa.wFb(ca);(null === ca || void 0 === ca?0:ca.l3) || this.Jv.reset();};ea.prototype.Oy=function(ca){this.c7a.Oy(ca);this.No=this.No.filter(function(oa){return oa.ga === ca?(oa.Sk.clear(),!1):!0;});ca.Pa();this.Jra();};ea.prototype.Rqb=function(ca,oa){var Ga,Fa,Ja;this.LH();Ja=oa.cg;Ja=void 0 === Ja?[h.v.fa,h.v.X]:Ja;ca=(0,R.oK)(this.Y,[ca,Ja,c.__assign({CN:null !== (Fa=null !== (Ga=oa.CN) && void 0 !== Ga?Ga:this.W0) && void 0 !== Fa?Fa:{}},oa)]);this.HQ.push(ca);return ca;};ea.prototype.M8a=function(ca){this.LH();this.HQ=this.HQ.filter(function(oa){return oa !== ca;});ca.Pa();};ea.prototype.s_b=function(ca,oa){this.rNa=ca;this.W0=oa;this.uOa=void 0;};ea.prototype.zN=function(ca,oa){var Ga,Fa;Fa=null === (Ga=(0,p.yc)(this.Hu,function(Ja){return Ja.NE.equals(ca);})) || void 0 === Ga?void 0:Ga.pa;Fa?Fa.zN(c.__assign(c.__assign({},oa),{eV:this.Zqa.bind(this)})):this.IW.push({Ndb:ca,Fva:oa});};ea.prototype.O8a=function(ca){this.IW=this.IW.filter(function(oa){return !oa.Ndb.equals(ca);});};ea.prototype.close=function(){this.Sa !== f.Tt.CLOSED && (this.ZXb(),(0,q.assert)(0 === this.Hu.length,"Unexpected viewable lease after Playgraph destruction."),this.YXb(),this.IW=[],delete this.Bx,this.Sa=f.Tt.CLOSED,this.Wp.Pa());};ea.prototype.Z_b=function(ca){this.iwa=ca;this.cA.sj("streamingModeChanged");};ea.prototype.lzb=function(){this.bA=new L.Oda(this.Y);this.bA.Xe(new F.nCa(this));this.bA.Xe(new z.KKa(this.Ic,this.cA));this.bA.Xe(new t.kCa(this.Ic));this.bA.Xe(new x.Pw(this.Fpb));this.bA.Xe(new x.Pw(this.cA.vp));this.bA.Xe(new x.Pw(this.TNa.dh));this.bA.Xe(new x.Pw(this.vOa.dh));};ea.prototype.Zqa=function(){};ea.prototype.iO=function(ca){return c.__awaiter(this,void 0,void 0,function(){var oa,Ga,Fa,Ja;return c.__generator(this,function(Xa){switch(Xa.label){case 0:return ((0,q.assert)(ca,"ase.updateViewable(): Viewable config not found."),oa=(0,p.yc)(this.Hu,function(cb){return !0 !== cb.NE.Fq && cb.NE.equals(ca);}),(0,q.assert)(oa,"ase.updateViewable(): Viewable entry not found."),[4,oa.jz]);case 1:return (Ga=Xa.Qa(),Ja=(Fa=Ga).iO,[4,ca.Vp]);case 2:return (Ja.apply(Fa,[Xa.Qa()]),[2]);}});});};ea.prototype.mo=function(ca,oa,Ga){var Fa,Ja,Xa,cb;Fa=this;Ja=Ga.J;Xa=ca.Qm(Ja,Ga.gW);(0,q.assert)(Xa,"ase.requestViewable(): Viewable config not found.");cb=(0,p.yc)(this.Hu,function(U){return !0 !== U.NE.Fq && U.NE.equals(Xa);});cb || (cb={NE:Xa,jz:(function(){return c.__awaiter(Fa,void 0,void 0,function(){var U,Z;return c.__generator(this,function(Q){switch(Q.label){case 0:return [4,Xa.Vp];case 1:return (U=Q.Qa(),Z=this.Yu(Ja,Xa,U),cb.pa=Z,[2,Z]);}});});})(),pa:void 0,$Nb:new u.gca(function(U){U() && Fa.Nta(cb);},(0,C.Kh)(D.default,this.V,("").concat(Ja)))},this.Hu.push(cb));ca=new Y.YMa(cb,this.V,oa,Ga);ca.events.once("error",this.Nta.bind(this,cb,!1));return ca;};ea.prototype.Nta=function(ca,oa){var Ga,Fa;void 0 === oa && (oa=!0);(0,q.assert)(ca,"expected viewableEntry to exist");Ga=ca.pa;Fa=ca.jz;oa && (Ga?Ga.Pa():Fa.then(function(Ja){Ja.Pa();}));this.Hu=this.Hu.filter(function(Ja){return Ja !== ca;});};ea.prototype.Yu=function(ca,oa,Ga){var Ja,Xa,cb,U,Z,Q;function Fa(ka){Ja.events.emit("logdata",ka);}Ja=this;this.LH();Xa=Ga.W;cb=Ga.Wu;U=Ga.lp;Z=Ga.cg;Z=void 0 === Z?h.Bz:Z;Ga=Ga.config;Q=[new d.Eca(h.v.fa),new d.Eca(h.v.X)];Xa={W:Xa,config:Ga,Wu:cb,lp:U,cg:Z,Ic:this.Bx.Ic,wp:this.Bx.wp,uDb:{lB:function(){return Ja.cA.sj("networkFailureReset");},qf:this.qf.bind(this,ca),Rq:this.Rq.bind(this,ca),zG:Fa},KKb:{zG:Fa,lL:function(ka){return Q[ka];},Ndc:function(){return !0;}},iW:{Pu:this.Pu.bind(this),xt:this.xt.bind(this)},vH:this.W0};ca=new d.$ya(ca,Xa);Ga.IK && (Xa=(0,p.yc)(this.IW,function(ka){return ka.Ndb.equals(oa);})) && (Xa=Xa.Fva,this.O8a(oa),ca.zN(c.__assign(c.__assign({},Xa),{eV:this.Zqa.bind(this)})));return ca;};ea.prototype.Sv=function(ca,oa){return c.__awaiter(this,void 0,void 0,function(){var Ga,Fa,Ja,Xa,cb,U,Z,Q,ka;return c.__generator(this,function(P){switch(P.label){case 0:(Ga=oa.Ji,Fa=oa.J,Ja=ca.Qm(Fa),(0,q.assert)(Ja,"ase.requestAdBreakHydration(): Parent viewable config not found."),Xa=(0,p.yc)(this.Hu,function(fa){return !0 !== fa.NE.Fq && fa.NE.equals(Ja);}),(0,q.assert)(Xa,("ase.requestAdBreakHydration(): Parent viewable entry not found, ").concat(Fa)),cb=Xa.pa,(0,q.assert)(cb,("ase.requestAdBreakHydration(): Parent viewable entry has no aseViewable, ").concat(Fa)),U=cb.W.bc,Z={yf:{bc:U,Cd:Fa}},P.label=1);case 1:return (P.Oj.push([1,3,,4]),[4,ca.Sv(Ga,Z)]);case 2:return (Q=P.Qa(),[2,{r1:Q,oha:cb}]);case 3:return (ka=P.Qa(),[2,Promise.reject(ka)]);case 4:return [2];}});});};ea.prototype.X5=function(){var ca,oa;(0,q.assert)(this.state === f.Tt.OPEN);ca=this.I4();oa=this.sL();return this.TNa.P5a(ca,oa);};ea.prototype.sL=function(){var ca,oa,Ga;ca=this;Ga=null !== (oa=this.Y.EVb) && void 0 !== oa?oa:this.No.every(function(Fa){return !Fa.ga.Nq;});oa=(0,p.flatten)(this.No.map(function(Fa){return Fa.ga.sL().map(function(Ja){Fa.ga.Nq || 1 === Fa.ZV || (Ja.JF=Fa.ZV);return Ja;});}));this.iwa === f.DO.disabled?oa=[]:this.iwa === f.DO.hPb && (oa=oa.filter(function(Fa){return ca.Y.G3a >= Fa.wr - Fa.Bq;}));Ga || (Ga=oa.filter(function(Fa){var Ja;return 1 === (null !== (Ja=Fa.JF) && void 0 !== Ja?Ja:1);}),Ga.length && (oa=Ga));Ga=this.Hu.reduce(function(Fa,Ja){return Ja.pa?c.__spreadArray(c.__spreadArray([],c.__read(Fa),!1),c.__read(Ja.pa.sL()),!1):Fa;},[]);return (0,p.flatten)(c.__spreadArray(c.__spreadArray([],c.__read(oa),!1),c.__read(Ga),!1));};ea.prototype.LH=function(){if(this.Sa === f.Tt.CLOSED)throw Error("Engine CLOSED");};ea.prototype.ZXb=function(){var ca,Fa;try{for(var oa=c.__values(this.No),Ga=oa.next();!Ga.done;Ga=oa.next()){Fa=Ga.value;Fa.Sk.clear();this.Oy(Fa.ga);}}catch(Xa){var Ja;Ja={error:Xa};}finally{try{Ga && !Ga.done && (ca=oa.return) && ca.call(oa);}finally{if(Ja)throw Ja.error;}}};ea.prototype.YXb=function(){var ca;try{for(var oa=c.__values(this.HQ),Ga=oa.next();!Ga.done;Ga=oa.next()){this.M8a(Ga.value);}}catch(Ja){var Fa;Fa={error:Ja};}finally{try{Ga && !Ga.done && (ca=oa.return) && ca.call(oa);}finally{if(Fa)throw Fa.error;}}};ea.prototype.qf=function(ca,oa,Ga,Fa,Ja,Xa,cb){var U;void 0 === cb && (cb=!1);U=!1;this.FZa(ca).forEach(function(Z){if(!cb || (0,h.Un)(Z.ff.value))U=Z.qf(oa,ca,Ga,Fa,Ja,Xa,cb);});return U;};ea.prototype.Rq=function(ca){return this.FZa(ca).some(function(oa){return oa.Rq();});};ea.prototype.FZa=function(ca){return this.No.filter(function(oa){var Ga;for(oa=oa.ga;oa.Ta;){oa=oa.Ta;}Ga=oa.ga;return Object.keys(Ga.L).some(function(Fa){return Ga.L[Fa].J === ca;});}).map(function(oa){return oa.ga;});};ea.prototype.I4=function(){var ca;ca=new G.RCa();this.No.forEach(function(oa){var Ga,Fa;Ga=oa.ga;oa=oa.ZV;Fa=Ga.I4();Fa.JF=oa;ca.add(Ga.id,Fa);});return ca;};ea.prototype.H4=function(){return this.wQb;};ea.prototype.pub=function(){var ca,oa;oa=(0,H.cSa)(this.Y,this.YJ);return {total:(ca={},ca[h.v.X]=this.YJ.video || Infinity,ca[h.v.fa]=this.YJ.audio || Infinity,ca[h.v.Ya]=this.YJ.text || Infinity,ca.total=this.YJ.total || Infinity,ca),Zva:oa};};ea.prototype.Pu=function(ca){var oa;this.cA.Pu(ca);null === (oa=this.wl) || void 0 === oa?void 0:oa.Pu(ca);};ea.prototype.xt=function(ca){this.cA.xt(ca);};ea.prototype.Jra=function(){var ca;ca=this.TG.reduce(function(oa,Ga){return Math.max(Ga.weight,0) + oa;},0);this.No.forEach(function(oa){oa.ZV=0 >= oa.ga.weight?0:oa.ga.weight / ca;});};ea.prototype.HYb=function(ca){var oa;oa=this;this.wl && ca.requests.forEach(function(Ga){return oa.wl.xt(Ga);});};ea.ERb=0;c.__decorate([(0,y.Rb)({methodName:"open"})],ea.prototype,"open",null);c.__decorate([(0,y.Rb)({methodName:"addPlaygraph",context:function(ca){var oa,Ga;return {playgraphCount:null !== (Ga=null === (oa=ca.E5a.No) || void 0 === oa?void 0:oa.length) && void 0 !== Ga?Ga:0};}})],ea.prototype,"lR",null);c.__decorate([(0,y.Rb)({methodName:"removePlaygraph",context:function(ca){return {playgraphCount:ca.E5a.No.length};}})],ea.prototype,"Oy",null);c.__decorate([(0,y.Rb)({methodName:"close"})],ea.prototype,"close",null);c.__decorate([(0,y.Rb)({methodName:"setStreamingMode",rq:!0})],ea.prototype,"Z_b",null);c.__decorate([(0,y.Rb)({methodName:"notifyAseException",rq:!0})],ea.prototype,"Zqa",null);c.__decorate([(0,y.Rb)({methodName:"updateViewable"})],ea.prototype,"iO",null);c.__decorate([(0,y.Rb)({methodName:"requestViewable"})],ea.prototype,"mo",null);c.__decorate([(0,y.Rb)({methodName:"removeViewable"})],ea.prototype,"Nta",null);c.__decorate([(0,y.Rb)({methodName:"createViewable"})],ea.prototype,"Yu",null);c.__decorate([(0,y.Rb)({methodName:"requestAdBreakHydration"})],ea.prototype,"Sv",null);c.__decorate([(0,y.Rb)({methodName:"issueRequestOpportunity",bk:!0,return:!0})],ea.prototype,"X5",null);c.__decorate([(0,y.Rb)({methodName:"reportStreamingFailure",rq:!0})],ea.prototype,"qf",null);return ea;})();b.xya=r;},37293:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.oK=void 0;c=a(70655);k=a(19821);f=a(51472);b.oK=function(l,d){var g,n,h;g=[function(m){return new (k.waa.bind.apply(k.waa,c.__spreadArray([void 0],c.__read(m.VUb),!1)))();}];if(l.vS){n=a(70744).fja;g.unshift(function(m,p){return n(m,p);});}if(l.gF){h=a(70744).fja;g.unshift(function(m,p){return h(m,p);});}return f.PO.G5({VUb:d},g);};},46127:function(r,b,a){var c,k,f,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.R2=void 0;c=a(70655);k=a(95994);f=a(19709);l=a(86021);d=a(51472);b.R2=function(g,n,h){var m,p,q,u;m=[function(t){return new (f.xaa.bind.apply(f.xaa,c.__spreadArray([void 0],c.__read(t.HV),!1)))();}];p=(0,l.Um)({ga:n[0]});k.K && h.trace("Creating playgraph",{kfc:p,Wbc:g.vS,Ye:g.gF});if(g.vS){q=a(93750);m.unshift(function(t,w){return q.VR({},t,w);});}if(g.gF){u=a(48487);m.unshift(function(t,w){return u.VR({},t,w);});}return d.PO.G5({HV:n,Zga:[]},m);};},79391:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.NYb=b.mL=void 0;c=a(70655).__importDefault(a(29736));k=a(43186);b.mL=function(){var l;if(!f){l=new c.default.Console("ASEJS","media|asejs");f=new k.xya(l);}return f;};b.NYb=function(){f=void 0;};},3442:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.RJa=void 0;r=(function(){function a(c){this.sj=c.sj;this.mv=this.KLb();}a.prototype.lR=function(c){c.events.on("requestsPruned",this.mv);};a.prototype.Oy=function(c){c.events.removeListener("requestsPruned",this.mv);};a.prototype.KLb=function(){var c;c=this;return function(){return c.sj();};};return a;})();b.RJa=r;},23711:function(r,b,a){var k,f,l,d;function c(){return k.__awaiter(this,void 0,void 0,function(){var g;return k.__generator(this,function(n){switch(n.label){case 0:return [4,Promise.resolve().then(function(){return k.__importStar(a(79391));})];case 1:return (g=n.Qa().mL,[2,g()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.lT=void 0;k=a(70655);f=a(12568);l=k.__importDefault(a(29736));b.lT=function(g){var n;n=new l.default.Console("ASEJS","media|asejs");d || (d=new f.bKa(function(){return c();},g,n));return d;};},56151:function(r,b,a){var k;function c(f,l,d,g){return f && l?Math.min(f - l * d,f - g):(f || Infinity) - g;}Object.defineProperties(b,{__esModule:{value:!0}});b.cSa=void 0;k=a(47571);b.cSa=function(f,l){var d,g,n,h,m,p,q,u;u=c(l.audio,l.obc,f.gja,null !== (g=f.HTa) && void 0 !== g?g:0);g=c(l.video,l.Tgc,f.gja,null !== (n=f.JTa) && void 0 !== n?n:0);n=c(l.text,l.qgc,f.gja,null !== (h=f.ITa) && void 0 !== h?h:0);return (d={},d[k.v.fa]=u,d[k.v.X]=g,d[k.v.Ya]=n,d.total=(l.total || Infinity) - (null !== (m=f.HTa) && void 0 !== m?m:0) - (null !== (p=f.JTa) && void 0 !== p?p:0) - (null !== (q=f.ITa) && void 0 !== q?q:0),d);};},27291:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.YMa=void 0;c=a(70655);k=a(28075);f=a(95994);l=a(42324);r=(function(){function d(g,n,h,m){this.Qdb=g;this.console=n;this.bsb=h;this.gW=m;this.events=new k.EventEmitter();this.iG=g.$Nb.Iu();}Object.defineProperties(d.prototype,{pa:{get:function(){var g;return null === (g=this.Qdb) || void 0 === g?void 0:g.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{jz:{get:function(){var g;g=this;return (function(){return c.__awaiter(g,void 0,void 0,function(){var n;return c.__generator(this,function(h){switch(h.label){case 0:return (h.Oj.push([0,2,,3]),[4,this.Qdb.jz]);case 1:return [2,h.Qa()];case 2:throw (n=h.Qa(),l.hJa.$Mb(n) && this.bsb.qf(n),f.K && this.console.trace("Removing broken viewable entry due to error",this.gW),this.events.emit("error",{error:n}),n);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return d;})();b.YMa=r;},69570:function(r,b,a){var k;function c(f,l){var d;void 0 === l && (l=c);d="";f.RK && (d=null === f || void 0 === f?void 0:f.RK.map(l).reduce(function(g,n){return ("").concat(g,",").concat(n);}));return ("").concat(null === f || void 0 === f?void 0:f.name,"::").concat(null === f || void 0 === f?void 0:f.message,"::{").concat(null === f || void 0 === f?void 0:f.stack,"}[").concat(d,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.oaa=void 0;k=a(70655);r=(function(f){function l(d,g){d=f.call(this,l.QFb(d,g)) || this;d.dnb=g;d.name="AggregateError";return d;}k.__extends(l,f);l.QFb=function(d,g){return g.reduce(function(n,h){return ("").concat(n,"\n").concat(h);},d);};l.stringify=function(d){return c(d);};Object.defineProperties(l.prototype,{RK:{get:function(){return this.dnb;},enumerable:!1,configurable:!0}});return l;})(Error);b.oaa=r;},5607:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(74104),b);r.__exportStar(a(2150),b);r.__exportStar(a(15063),b);},74104:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},2150:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},15063:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pMb=b.$0a=void 0;b.$0a=function(a){return ("ttml" in a);};b.pMb=function(a){return ("images" in a);};},31976:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},45356:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},35510:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lm=void 0;r=b.lm || (b.lm={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.rm=2]="STREAMING";},12677:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},21173:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Tt=b.DO=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.hPb=2]="lowCpuPlaybackStarting";})(b.DO || (b.DO={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.Tt || (b.Tt={}));},93959:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qc=void 0;r=a(70655);r.__exportStar(a(21173),b);r.__exportStar(a(45356),b);r.__exportStar(a(35510),b);r.__exportStar(a(12677),b);r.__exportStar(a(619),b);r.__exportStar(a(5607),b);r.__exportStar(a(2150),b);r.__exportStar(a(56365),b);r.__exportStar(a(31976),b);r.__exportStar(a(13815),b);c=a(19829);Object.defineProperties(b,{qc:{enumerable:!0,get:function(){return c.qc;}}});},619:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},56365:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},49944:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kI=void 0;r=b.kI || (b.kI={});r[r.start=0]="start";r[r.end=1]="end";},34117:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},36178:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},96080:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},5594:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(49944),b);r.__exportStar(a(96080),b);r.__exportStar(a(34117),b);r.__exportStar(a(36178),b);},13815:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(70655).__exportStar(a(5594),b);},69565:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Yp=void 0;c=a(70655).__importDefault(a(29736));k=a(312);r=(function(){function f(l){l=("(").concat(l,")");this.V=new c.default.Console("ASEJS","media|asejs",l);this.Gfa=[];}f.prototype.kv=function(l){var d;if(!this.Gfa[l]){d=("[").concat(l,"]");this.Gfa[l]=(0,k.Kh)(c.default,this.V,d);}return this.Gfa[l];};return f;})();b.Yp=new r(0);},43956:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y;Object.defineProperties(b,{__esModule:{value:!0}});b.$ya=b.Eca=void 0;c=a(70655);k=a(28075);f=a(19236);r=a(23563);l=a(34684);d=a(89718);g=a(22687);n=a(47571);h=c.__importDefault(a(29736));m=a(44724);a(74005);p=a(4145);q=a(61360);u=a(60482);t=a(28035);w=a(31047);v=a(36088);y=a(3591);b.Eca=(function(){return function(x){this.mediaType=x;this.y2a=void 0;};})();a=(function(x){function z(A,B){var C,D,F,G,E,J,L,N,I,O,K,H,M,R,Y,ea,ca,oa,Ga;D=B.W;F=B.cg;G=B.Wu;E=B.lp;J=B.config;L=B.KKb;N=B.iW;I=B.Ic;O=B.wp;K=B.uDb;B=B.vH;H=x.call(this) || this;H.J=A;H.R_a=!1;H.x2a=0;H.xJ={};H.sv=(C={},C[n.v.fa]={},C[n.v.X]={},C[n.v.Ya]={},C);H.Uac=[];H.Vnb=[];H.HD=[];H.KA=[];H.C0=!1;H.o5a=!1;H.xTa={t6:"liveEdgeCushion",oG:"maxMediaBufferAllowed",OUa:"decryptOCSideChannelMinInterval",PUa:"decryptOCSideChannelMinIntervalAfterCompleted"};H.wTa=Object.keys(H.xTa).reduce(function(Fa,Ja){Fa[H.xTa[Ja]]=Ja;return Fa;},{});H.oOa=D;H.EB=function(Fa){return 0 <= F.indexOf(Fa);};H.console=new h.default.Console("ASEJS","media|asejs","<" + String(H.J) + ">");H.config=H.Mpb(D,J);H.rU=new v.iFa();L && (A=L.lL,H.Zx=new y.ADa(H,H.console,H.config,L.zG,A),H.lL=A);H.events=new k.EventEmitter();H.Ic=I;H.iW=N;H.vH=B;H.Wu=G;H.lp=!!E;M=[[],[],[]];R=[{},{},{}];Y=[0,0];ea=!1;oa=H.EB(n.v.fa);Ga=H.EB(n.v.X);G=H.ha;["audio_tracks","video_tracks"].forEach(function(Fa,Ja){var Xa,cb;Xa=Ja === n.v.X;cb=Ja === n.v.fa;cb && !oa || Xa && !Ga || H.W[Fa].forEach(function(U,Z){if(U.type !== n.v.fa || !1 !== U.wg)(Z=new l.mI({pa:H,ao:U,mediaType:Ja,lp:H.lp,TH:Z,oE:Z + (cb?H.W.video_tracks.length:0)},H.config,H.console),Ja === n.v.X && J.RCb && new q.aza(J).BWb(Z.Eg),Ja === n.v.X && (ca=u.ZI.from({jt:U.jqa,Bs:U.iqa})),M[Ja].push(Z),R[Ja]=c.__assign(c.__assign({},R[Ja]),Z.IF()),Z.maxBitrate > Y[Z.mediaType] && (Y[Z.mediaType]=Z.maxBitrate),ea=ea || Z.Ql);});});G && H.W.timedtexttracks.forEach(function(Fa,Ja){var Xa;if("none" !== Fa.id){Xa=n.v.Ya;Fa=new l.mI({pa:H,ao:Fa,mediaType:Xa,lp:!1,TH:Ja,oE:Ja},H.config,H.console);M[Xa].push(Fa);R[Xa]=c.__assign(c.__assign({},R[Xa]),Fa.IF());}});H.W.Am && ((0,m.assert)(ca,"Should have video track if there are adverts"),H.Am={ce:H.W.Am.ce.map(function(Fa){var Ja;Ja=c.__assign(c.__assign({},Fa),{Lt:Fa.jk,jk:ca.normalize(Fa.jk)});Fa.Ye !== Fa.ads && (Ja.unnormalizedLocationMs=Ja.Lt,Ja.locationMs=Ja.jk);return Ja;})});H.Tk=new g.nFa(H.W,R,I,O,H.config,null === K || void 0 === K?void 0:K.zG);I=K.lB;O=K.Rq;H.EJ=K.qf;H.Rq=O;H.lB=I;H.u0=new d.qCa(H.Tk,H.config,H.aKb.bind(H),H.$Jb.bind(H));H.u0.events.addListener("requestError",function(Fa){H.ha && H.config.HOb && 404 === Fa.$x && H.rU.dZb();});H.cQ=M;H.c$=R;H.aM=Y;H.Ql=ea;return H;}c.__extends(z,x);Object.defineProperties(z.prototype,{W:{get:function(){return this.oOa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ha:{get:function(){var A,B;A=this.W;B=A.wj;return "LIVE" === A.eg && !!B;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{MU:{get:function(){var A;return !(null === (A=this.cQ[n.v.X][0]) || void 0 === A || !A.MU);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{O:{get:function(){return this.W.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{fp:{get:function(){return this.W.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{duration:{get:function(){return this.W.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Sl:{get:function(){return this.C0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Qx:{get:function(){(0,m.assert)(this.u0,"ErrorDirector is not available on old architecture prefetch viewables.");return this.u0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{QK:{get:function(){return this.Qx.events;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Dt:{get:function(){return this.rU.Dt;},set:function(A){this.rU.Dt=A;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{M2a:{get:function(){return this.xJ;},enumerable:!1,configurable:!0}});z.prototype.Pa=function(){this.close();this.de();};z.prototype.close=function(){var A;this.KA=[];null === (A=this.u0) || void 0 === A?void 0:A.Pa();this.Tk.Pa();this.C0=!0;};z.prototype.de=function(){this.Zx && this.Zx.de();};z.prototype.iO=function(A){var B,C,D,F,G,E;B=this;C=A.W;D=A.Wu;A=A.cg;F=void 0 === A?n.Bz:A;(0,m.assert)(D === this.Wu,"Updating Viewable clearplay not supported");n.Bz.forEach(function(J){(0,m.assert)(B.EB(J) === 0 <= F.indexOf(J),"Updating Viewable media types not supported");});(0,m.assert)(C.movieId === this.W.movieId,"Changing Viewable manifest movieId unsupported");G=this.EB(n.v.fa);E=this.EB(n.v.X);["audio_tracks","video_tracks"].forEach(function(J,L){var N,I,O,K;N=L === n.v.X;I=L === n.v.fa;if(!(I && !G || N && !E)){O=C[J];K=B.cQ[L];(0,m.assert)(K.every(function(H){var M;M=O[H.TH];return M && M.fO === H.trackId && (M.type === n.v.X || !1 !== M.wg);}),"Existing tracks must still exist and be hydrated in updated manifest");O.forEach(function(H,M){var R,Y;if(H.type !== n.v.fa || !1 !== H.wg){R=B.getTrackById(H.fO);if(R){H=H.streams;Y=Object.keys(R.IF());(0,m.assert)(H.length === Y.length,"Expected updated manifest track to have same number of streams");H.forEach(function(ea){ea=ea.downloadable_id;(0,m.assert)(-1 !== Y.indexOf(ea),"Changing Viewable track streams unsupported");});}else (R=new l.mI({pa:B,ao:H,mediaType:L,lp:B.lp,TH:M,oE:M + (I?B.W.video_tracks.length:0)},B.config,B.console),K.push(R),B.c$[L]=c.__assign(c.__assign({},B.c$[L]),R.IF()),R.maxBitrate > B.aM[R.mediaType] && (B.aM[R.mediaType]=R.maxBitrate),(0,m.assert)(B.Ql || !R.Ql,"Can not update clear viewable with drm track."));}});}});this.oOa=C;this.Tk.w1(this.W,this.c$);};z.prototype.eLb=function(A,B){var C,D;C=this;(0,m.assert)(this.W.Am,"AseViewable.manifest.adverts should be defined if an adBreak hydration was requested");(0,m.assert)(this.Am,"AseViewable.adverts should be defined if an adBreak hydration was requested");this.W.Am.ce.some(function(F,G){var E,J;if(F.Ji === B){E=C.Am.ce[G];J=E.jk;E=E.Lt;D=c.__assign(c.__assign({},A),{Lt:E,jk:J,Ji:B});F.Ye !== F.ads && (D.unnormalizedLocationMs=D.Lt,D.locationMs=D.jk,D.adBreakToken=D.Ji);C.Am.ce[G]=D;return !0;}});return D;};z.prototype.zN=function(A){var B,C,D;B=A.Dp;C=A.ma;D=A.cka;A=A.eV;B && C?(this.M9=new f.mLa(B,{ma:String(C),cka:!!D,kQb:this.config.f_.mx,Ctb:this.config.f_.lv},A),this.Qx.zN(this.M9)):this.o5a || (A("SideChannel: pbcid/xid is missing."),this.o5a=!0);};z.prototype.uoa=function(){return void 0 !== this.fp;};z.prototype.Sm=function(A,B){return (0,w.nZa)(this.W,A,B);};z.prototype.getTracks=function(A){return this.cQ[A];};z.prototype.getTrackById=function(A){var B;this.cQ.some(function(C){return C.some(function(D){if(D.trackId === A)return (B=D,!0);});});B || this.console.warn("getTrackById not found:",A,"length:",this.cQ.length);return B;};z.prototype.$ma=function(A,B){return (A=this.IF(A)) && A[B];};z.prototype.IF=function(A){return this.c$[A];};z.prototype.pNb=function(A){var B,C;if(void 0 === A.z8 || void 0 === A.Usa){B=this.Tk.ZB.filter(function(D){return void 0 !== D.streams[A.Sb];})[0];C=B.children.filter(function(D){return D.urls.some(function(F){return F.stream.id === A.Sb;});})[0];A.z8=B.id;A.Usa=C.id;}return {Uoa:A.location === A.z8,qNb:A.$b === A.Usa};};z.prototype.ova=function(A,B,C){void 0 !== B && void 0 !== C && (this.X8a(A.mediaType,B),A.ova(B,C));};z.prototype.X8a=function(A,B){var C;C=this.config.Nqa;("location" === C || "video_location" === C && A === n.v.X) && this.Ic.F9(B);};z.prototype.qf=function(A,B,C,D,F,G){(0,m.assert)(this.EJ,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.EJ(A,B,C,D,F,G);};z.prototype.uo=function(){var A;A=this;if(this.Sl)return (this.console.error("updateRequestUrls, closed Viewable:",this.J),!1);n.Bz.forEach(function(B){A.EB(B) && A.T4b(B) && A.J4b(B);});this.C4b();return !0;};z.prototype.Hs=function(A,B){var C;C=this.getTracks(n.v.X)[0];(0,m.assert)(C);if(C.TF)return C.Hs(A,B);};z.prototype.T4b=function(A){var B;B=this;return this.Sl?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.EB(A)?this.HD.reduce(function(C,D){return (0,p.K1)(C,D.Wd.filter(function(F){return F.mediaType === A;}));},[]).map(function(C){return B.Tk.Ycb(B.J,C.Eg);}).every(function(C){return C;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",A),!1);};z.prototype.C4b=function(){(0,m.assert)(this.Zx,"Headers not available on old architecture prefetch viewables.");this.Zx.uo();};z.prototype.J4b=function(A){var B,C,G;C=[];if(this.Sl)this.console.warn("updateStreamUrls ignored, viewable cleaned up");else if(this.EB(A))try{for(var D=c.__values(this.HD),F=D.next();!F.done;F=D.next()){G=F.value.uo(A);G.length && C.push.apply(C,G);}}catch(J){var E;E={error:J};}finally{try{F && !F.done && (B=D.return) && B.call(D);}finally{if(E)throw E.error;}}else this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",A);};z.prototype.Mpb=function(A,B){var C,F,G;if((A=A.steeringAdditionalInfo) && A.streamingClientConfig && Object.keys(A.streamingClientConfig).length){A=A.streamingClientConfig;this.console.trace("applying manifest based streamingClientConfig" + JSON.stringify(A));for(var D in A){if(this.wTa.hasOwnProperty(D)){F=this.wTa[D];if(B.hasOwnProperty(F)){G=Number(A[D]);B.set?0 === B.set((C={},C[F]=G,C)) && this.console.trace("Invalid key" + D):B[F]=G;}}}}return B;};z.prototype.sh=function(){var A;A=this;this.Tk.sh();this.Qx.sh();this.M9 && ((0,m.assert)(this.lL),n.Bz.forEach(function(B){B=A.lL(B);A.M9.Xua("rebuffer",B.y2a);}));};z.prototype.yF=function(A,B){return this.Zx.yF(A,B);};z.prototype.y_b=function(A,B,C){this.KA.push({u:B,stream:A,tJb:C});};z.prototype.C8a=function(){this.KA=[];};z.prototype.eYb=function(A){this.KA=this.KA.filter(function(B){return B.stream !== A;});};z.prototype.dYb=function(A){this.KA=this.KA.filter(function(B){return B !== A;});};z.prototype.sL=function(){var A;A=this;return this.Rq()?[]:this.KA.map(function(B){var C,D,F,G,E,J,L;C=B.u;D=B.stream;F=B.tJb;G=F();F=G.Yg;E=G.ff;J=G.By;L=G.wr;G=G.Bq;return {identifier:("").concat(D.J,"-").concat(D.mediaType,"-").concat(D.bitrate),mediaType:D.mediaType,Yg:F,ff:E,By:J,wr:L,Bq:G,Qsa:0,Psa:Infinity,NV:1,Sy:1,pXa:0,groupId:("").concat(A.J),DB:!0,Vs:!1,Pk:!1,M1a:function(){return {result:!0};},S1a:function(){if(D.XH(C))return (A.eYb(D),{Ih:!0,reason:"success"});A.dYb(B);return {Ih:!1,reason:"viewableTryIssueHeaderRequest"};}};});};z.prototype.XH=function(A,B,C){(0,m.assert)(this.Zx,"Headers not available on old architecture prefetch viewables.");return this.Zx.XH(A,B,C);};z.prototype.ZQ=function(A,B){(0,m.assert)(this.Zx,"Headers not available on old architecture prefetch viewables.");return this.Zx.ZQ(A,B);};z.prototype.cKb=function(A){var B,C;B=A.Sb;C=A.mediaType;this.ha || this.I4b(C,A.stream.Ka);this.$ma(C,B).x4b(h.default.iT()[C],this.uoa()?this.config.QPb:0);this.events.emit("onHeaderFragments",A);};z.prototype.NXb=function(A){this.HD.push(A);};z.prototype.k4b=function(A){A=this.HD.indexOf(A);(0,m.assert)(-1 !== A,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.HD.splice(A,1);};z.prototype.V7=function(A){var B;null === (B=this.iW) || void 0 === B?void 0:B.Pu(A);};z.prototype.EG=function(A){this.Sl?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",A):void 0 !== A.location && this.X8a(A.mediaType,A.location);};z.prototype.FG=function(A){this.Sl?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",A):this.Qx.y$(A);};z.prototype.zp=function(A){var B;null === (B=this.iW) || void 0 === B?void 0:B.xt(A);this.Sl?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",A):this.Rq() || this.Qx.y$(A);};z.prototype.yM=function(A,B,C){var D;C && (null === (D=this.iW) || void 0 === D?void 0:D.xt(A));};z.prototype.rV=function(A){var B,C,D,F;B=this;this.Sl?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",A):(this.Qx.jr(A,void 0,A.status,A.Of,A.Mh),this.ha && !A.Me && A.xj && !A.stream.fta(A.xj)?null !== (C=A.Yn) && void 0 !== C && C.nN || ((null === (D=A.Yn) || void 0 === D?void 0:D.Qp) <= this.config.u6?A.Yn.nN=setTimeout(function(){A.Yn.nN=void 0;B.Rcb(A,!1);},this.config.L2b):(null === (F=A.Yn) || void 0 === F?void 0:F.Qp) === this.config.u6 + 1 && this.config.y6 && this.Rcb(A,!0)):this.uo() || this.qf(A.dv || "unknown","NFErr_MC_StreamingFailure",A.Of,A.status,A.Mh));};z.prototype.pWb=function(){var A,B;this.Qcb(null === (A=this.W.wj) || void 0 === A?void 0:A.Rka,null === (B=this.W.wj) || void 0 === B?void 0:B.L3,!0);};z.prototype.Qcb=function(A,B,C){var D,F,G,E,J;(0,m.assert)(this.W.wj,"Missing manifest liveMetadata.");G=this.W.wj;E=G.Rka;J=G.L3;G=this.M2a;this.xJ={startTime:null !== (D=null !== E && void 0 !== E?E:A) && void 0 !== D?D:G.startTime,endTime:null !== (F=null !== J && void 0 !== J?J:B) && void 0 !== F?F:G.endTime};A=this.xJ.startTime !== G.startTime;B=this.xJ.endTime !== G.endTime;(C || A || B) && this.events.emit("liveEventTimesUpdated",c.__assign({pa:this},this.xJ));B && this.HD.forEach(function(L){L.fN();});};z.prototype.F4b=function(A,B){if(this.sv[A].TA !== B.TA || this.sv[A].UA !== B.UA)(this.sv[A]=B,this.events.emit("liveLoggingInfoUpdated",{pa:this,mediaType:A,info:B}));};z.prototype.AOb=function(){(0,m.assert)(this.ha,"liveEventCompleted called on viewable that is not live");return void 0 !== this.xJ.endTime;};z.prototype.Rcb=function(A,B){var C,G;try{for(var D=c.__values(this.HD),F=D.next();!F.done;F=D.next()){G=F.value.bf(A.mediaType);G && G.G4b(A,B);}}catch(J){var E;E={error:J};}finally{try{F && !F.done && (C=D.return) && C.call(D);}finally{if(E)throw E.error;}}};z.prototype.I4b=function(A,B){this.Vnb[A]=B.bqa;};z.prototype.aKb=function(A){var B,C,D;if(!this.C0){B=A.ZMb;C=A.ATb;D=A.CTb;A=A.DTb;this.console.warn("Streaming failure, is permanent: " + B + ", last error code: " + C + ", last http code: " + D + ", last native code: " + A);B?(this.console.warn(" > Permanent failure, done"),B=this.qf("Permanent failure","NFErr_MC_StreamingFailure",C,D,A)):(this.console.warn(" > We are buffering, calling it!"),B=this.qf("Temporary failure while buffering","NFErr_MC_StreamingFailure",A,D,A,!0));B || (this.console.warn(" > Resetting failures"),this.Qx.b9());}};z.prototype.$Jb=function(){(0,m.assert)(this.lB,"Error handling not available on old architecture prefetch viewables.");this.C0 || (this.uo(),this.lB());};return z=c.__decorate([t.qF],z);})(r.pz);b.$ya=a;},25580:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Eza=void 0;c=a(70655);r=(function(){function k(f,l,d,g){this.J=f;this.mo=l;this.pV=d;this.Ira=g;}Object.defineProperties(k.prototype,{pa:{get:function(){var f;return null === (f=this.NX) || void 0 === f?void 0:f.pa;},enumerable:!1,configurable:!0}});k.prototype.Pa=function(){var f;this.pa && (this.pa.k4b(this.yb),this.Ira(this.pa));null === (f=this.NX) || void 0 === f?void 0:f.iG.release();this.NX=void 0;};k.prototype.va=function(f){return c.__awaiter(this,void 0,void 0,function(){var l,d,g,n,h;return c.__generator(this,function(m){switch(m.label){case 0:return (this.yb=f,l=this.mo(this.J),d=l.jz,g=l.pa,n=l.iG,this.NX={iG:n,pa:g},g?(this.F0a(g,f,!1),[2,g]):[4,d]);case 1:return (h=m.Qa(),this.F0a(h,f,!0),[2,h]);}});});};k.prototype.F0a=function(f,l,d){this.NX && (this.NX.pa=f,f.NXb(l),this.pV(l,f,d));};return k;})();b.Eza=r;},3591:function(r,b,a){var c,k,f,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ADa=void 0;c=a(70655);k=a(69565);f=a(41736);l=c.__importDefault(a(29736));r=a(23563);d=a(44724);g=a(65519);a=(function(n){function h(m,p,q,u,t){var w;w=n.call(this,m) || this;w.JJ=m;w.V=p;w.Y=q;w.zG=u;w.lL=t;w.fOa=[void 0,void 0];w.nfa={Tz:[Object.create(null),Object.create(null)]};w.oe=g.WC.instance.Ix("headers","" + w.JJ.J,!0,!1,{},w.Y);w.oe.va();return w;}c.__extends(h,n);Object.defineProperties(h.prototype,{Tz:{get:function(){return this.nfa.Tz;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{m0:{get:function(){return this.nfa.m0;},set:function(m){this.nfa.m0=m;},enumerable:!1,configurable:!0}});h.prototype.de=function(){var m;m=this;this.Tz.forEach(function(p,q){for(var u in p){p[u].de();m.Uja(q,u);}});this.oe && g.WC.instance.j3(this.oe);this.oe=void 0;};h.prototype.yF=function(m,p){return this.Tz[m][p];};h.prototype.XH=function(m,p,q){var u,t,w,v;u=this.Y;t=this.yF(m.mediaType,m.Sb);if(t)return (t.stream.Ka || t.R9 && this.QSa(t),!1);t=this.Mnb;w=this.Nnb;if(void 0 !== u.Bqa && void 0 !== t && void 0 !== w){v=l.default.time.Ga();if(v - t < u.Bqa || v - w < u.Bqa)return !1;}m=this.T3b(m,{u:p,offset:0},q);this.Nnb=l.default.time.Ga();return m;};h.prototype.T3b=function(m,p,q){var u,t,w,v;t=m.mediaType;k.Yp.kv(t);if(this.yF(t,m.Sb))m=!1;else {w=this.Y.gbb && m.ha;v=w?0:p.offset;w=w?0:null !== (u=p.Ba) && void 0 !== u?u:this.enb(m);p=c.__assign(c.__assign({},p),{offset:v,Ba:w});u=!!p.oS;v=!!p.$U;this.XIb?q=this.XIb(t,!!p.MS,u,v,!1):q || (q=this.oe);(0,d.assert)(q);m.url && (this.lL(t).y2a=m.sT(!0));if(!this.Lmb(m,q,p).open())return (this.JJ.qf("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);m=!0;}return m;};h.prototype.uo=function(){var m,p;m=this;p=[];this.Tz.forEach(function(q,u){var w;k.Yp.kv(u);for(var t in q){u=q[t];w=u.B$();1 === w?p.push(u):2 === w && m.JJ.qf("swapUrl failure");}});return p;};h.prototype.zp=function(m,p){var q,u;q=m.mediaType;u=k.Yp.kv(q);this.JJ.Sl?u.warn("header onrequestcomplete ignored, session shutdown:",m.toString()):(this.zG({type:"logdata",target:"startplay",Hc:{usedNativeDataView:m.s5b}}),m.a8 > m.Nra && (this.fOa[q]=m.a8),m.R9 && this.QSa(m),this.xnb(m),this.Mnb=l.default.time.Ga(),this.JJ.events.emit("onHeaderRequestComplete",m));this.aB(m,p);};h.prototype.ZQ=function(m,p){var q,u,t,w;q=[];u=this.Tz[m];for(t in u){w=u[t];w && !w.stream.Ka && w.WM === p && (this.Uja(m,t),q.push({u:w.u,stream:w.stream,offset:w.offset,Ba:w.Ba,oS:w.oS,MS:w.MS,$U:w.$U,BM:w.BM}),w.de());}return q;};h.prototype.Fqb=function(m){this.Tz[m.mediaType][m.Sb]=m;};h.prototype.xnb=function(m){var p,q,u,w;p=this.Y;q=k.Yp.kv(m.mediaType);u=m.stream.Ka;if(p.Gja){p=u.length;q.trace("fragment count:",p);for(var t=0;t < p;++t){w=u.get(t);q.trace("fragment: " + t + ", startPts: " + w.La.G + ", duration: " + w.te.G + ", offset: " + w.offset);}}this.qmb(m);};h.prototype.qmb=function(m){var p,q;p=m.mediaType;q=m.Sb;k.Yp.kv(p);m.Z5a && (m.Z5a.forEach(function(u){(u=u.$ma(p,q)) && u !== m.stream && !u.gk && u.Jwb(m.stream);}),m.Z5a=void 0);this.JJ.cKb(m);};h.prototype.Lmb=function(m,p,q){var u,t;u=this;t=k.Yp.kv(m.mediaType);m=new f.Lya(m,this.Y,p,q,this,q.u,!1,t);m.addListener("headerRequestCancelled",function(w){u.wnb(w.request);});this.Fqb(m);return m;};h.prototype.enb=function(m){var p,q,u,t;p=m.uk;q=m.pa;u=q.duration;t=this.Y;return m.ha?512:q.lp?t.RWa?t.RWa:t.l5:t.q5b && p?p.offset + p.size:(m=this.fOa[m.mediaType])?m + 128:t.Kka?2292 + 12 * Math.ceil(u / 2E3):t.l5;};h.prototype.wnb=function(m){this.Uja(m.mediaType,m.Sb);};h.prototype.Uja=function(m,p){delete this.Tz[m][p];};h.prototype.QSa=function(m){this.m0 === m.Sb && (this.m0=void 0);};return h;})(r.pz);b.ADa=a;},36088:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.iFa=void 0;r=a(70655);c=a(95994);k=r.__importDefault(a(29736));a=(function(){function f(){this.console=new k.default.Console("ASEJS","asejs|serverclock");}Object.defineProperties(f.prototype,{Dt:{get:function(){return void 0 === this.pH?(c.K && this.console.warn("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync."),k.default.time.now()):k.default.time.Ga() - this.pH;},set:function(l){this.gG=k.default.time.Ga();this.hG=l;l=this.gG - this.hG;if(void 0 === this.pH || l < this.pH)this.pH=l;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{KK:{get:function(){var l;l=k.default.time.Ga();return void 0 === this.pH?{VSa:l}:{VSa:l,Dt:l - this.pH,gG:this.gG,hG:this.hG};},enumerable:!1,configurable:!0}});f.prototype.dZb=function(){void 0 !== this.gG && void 0 !== this.hG && (this.pH=this.gG - this.hG);};return f;})();b.iFa=a;},31047:function(r,b,a){var k;function c(f){var l;l={profile:f.spoofedProfile || f.profile,tFb:f.max_framerate_value,sFb:f.max_framerate_scale,maxWidth:f.maxWidth,maxHeight:f.maxHeight,psa:f.pixelAspectX,qsa:f.pixelAspectY,channels:f.channels,sampleRate:f.channels?48E3:void 0};f.spoofedProfile && (l.Yec=f.profile);return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.bIb=b.nZa=void 0;k=a(47571);b.nZa=function(f,l,d){var g;g=[{},{}];(d === k.v.fa?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(n,h){f[n].some(function(m,p){return p === l[h]?(g[h]=c(m),!0):!1;});});return g;};b.bIb=c;},57563:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.VHa=void 0;r=a(70655);c=a(41427);k=r.__importDefault(a(29736));a=(function(){function f(l,d){this.J=l;this.S5b=d;this.Wu=!0;this.R_a=this.Ql=this.lp=!1;this.O=("").concat(c.qn);this.ha=this.MU=!1;this.console=new k.default.Console("ASEJS","media|asejs","PaddingViewable");}Object.defineProperties(f.prototype,{Dt:{get:function(){this.console.warn("Uexpected access of serverTimeMs on PaddingViewable. serverTimeMs is not server synced on PaddingViewable and will be based on the device clock.");return k.default.time.now();},enumerable:!1,configurable:!0}});f.prototype.getTrackById=function(){};f.prototype.sh=function(){};f.prototype.C8a=function(){};f.prototype.qf=function(){return !0;};return f;})();b.VHa=a;},19236:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mLa=void 0;r=a(70655);c=a(74005);a=r.__importDefault(a(29736));k=a.default.cq;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function f(l,d,g){this.eV=g;this.Xpb=new c.wea(l);this.ma=d.ma;this.ymb=1E3 * d.kQb / d.Ctb;this.uBb=d.cka;this.UQa=!1;}f.prototype.ys=function(l){var d,g,n;d={s_xid:this.ma,dl:this.uBb?1:0};l.BE && (d.bs=(0,c.gK)(Math.floor(l.BE / this.ymb) + 1,1,5));l.x7 && (d.limit_rate=l.x7);l.DRa && (d.bb_reason=l.DRa);l.Rbb && (d.tm=l.Rbb);if(l.m6a){g=l.m6a;n=g.Cp;"HYBRID" === n?(d.hybrid=g.wL.cLb,d.cspr=g.wL.Ev,d.cu=g.wL.kia,d.cldl=g.wL.Yta,d.h_ms=g.wL.lQb):"CCSP" === n && ((n=g.T5()) || !n && this.UQa) && (d.cpr_ss=g.Yy,d.cpr_ca=g.Dx,d.cpr_rec=g.Ly,this.UQa=n);}l.Lha && (d.br="" + l.Lha.start + "+" + l.Lha.size);return this.yob(d);};f.prototype.Xua=function(l,d){var g,n;try{g=new k(void 0,"notification");n=this.ys({DRa:l});d && n && g.open(d,void 0,2,void 0,void 0,void 0,n);}catch(h){this.eV("SideChannel: Error when sending sendBlackBoxNotification. Error: " + h);}};f.prototype.yob=function(l){var d;try{d=this.spb(l);return this.Xpb.encrypt(d);}catch(g){this.eV("SideChannel: Error when obfuscating msg. Error: " + g);}};f.prototype.spb=function(l){return Object.keys(l).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(l[d]));}).join("&");};return f;})();b.mLa=a;},62158:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.RIa=void 0;r=a(70655);c=r.__importDefault(a(54186));k=c.default.Ao;f=c.default.lu;l=a(47571);d=a(74005);g=a(70950);n=r.__importDefault(a(73764));h=r.__importDefault(a(29736));a=(function(){function m(p,q,u,t,w){this.nt=p;this.bv=q;this.Y=u;this.V=t;this.Be=w;}m.prototype.YRb=function(p){var q;q=p.u;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{I:q.id,offset:g.N.Ma(this.nt.Uia).wa(q.Ud)},completePlayerStreamingTimestamp:g.N.Ma(this.nt.UR),trackIndex:p.stream.track.oE};(0,d.wq)(this.bv,p.type,p);};m.prototype.$Rb=function(p,q,u){var t,w,v;w=this.Be;v=this.nt.fl.ye;v.J$a(p);w === l.v.X && this.Y.q9 && (void 0 === v.fpa?v.K$a(h.default.time.Ga()):h.default.time.Ga() - v.fpa > this.Y.q9 && (p.bitrate !== v.v2a && (h.default.storage.set("vb",p.bitrate),v.W_b(p.bitrate)),v.K$a(h.default.time.Ga())));v.l6 && v.l6 === p || (this.nt.fl.N1b(q,v.l6,p),v.L_b(p),q=0,p.Wb && p.Wb.confidence && p.Wb.qb && (q=p.Wb.qb.Da),u={I:this.nt.yb.u.id,offset:g.N.Ma(u).wa(this.nt.yb.u.Ud)},p={type:"streamSelected",nativetime:h.default.time.Ga(),mediaType:w,streamId:p.id,trackIndex:p.track.oE,streamIndex:p.Ft,bandwidth:q,longtermBw:q,rebuffer:0,position:u,stream:p,manifest:null === (t=p.pa) || void 0 === t?void 0:t.W},(0,d.wq)(this.bv,p.type,p));};m.prototype.VRb=function(p,q,u){var t,w,v,y;t=q.pa;w=t.Tk;v=this.nt.fl.ye;y=t.pNb(q);t=y.Uoa;y=y.qNb;u && q.$b && !v.jU?(y=f.pu,q.Ct=f.name[y],this.r5a(p,q.$b,q.Ct,q.location,q.bitrate),v.jU=q.$b):!u && q.$b && q.$b !== v.jU && (y=y?void 0 === v.jU?f.pu:w.xN === f.$ca?f.vlb:f.Gaa:f.ulb,q.Ct=f.name[y],this.r5a(p,q.$b,q.Ct,q.location,q.bitrate),v.jU=q.$b);v.RL || (y={type:"logdata",target:"startplay",fields:{}},this.Be === k.fa?y.fields.alocid=q.location:this.Be === k.X && (y.fields.locid=q.location),(0,d.wq)(this.bv,y.type,y));u && q.location && !v.RL?(y=f.pu,q.Ct=f.name[y],this.q5a(p,q.location,q.vpa,q.$b,q.AW,q.Ct,q.Kv),v.RL=q.location):!u && q.location && q.location !== v.RL && (y=t?void 0 === v.RL?f.pu:w.xN === f.$ca?f.Uib:f.Gaa:f.Tib,q.Ct=f.name[y],this.q5a(p,q.location,q.vpa,q.$b,q.AW,q.Ct,q.Kv),q.Kv=void 0,v.RL=q.location);this.Y.YG || (q.o2a=q.location,q.u2a=q.$b);};m.prototype.dra=function(p){p={type:"requestsPruned",requests:p};(0,d.wq)(this.bv,p.type,p);};m.prototype.r5a=function(p,q,u,t,w){var v,y;if(this.Be === k.Ya)this.V.warn("notifyServerSwitch ignored for MediaType.TEXT");else {y=(v={},v[l.v.fa]="audio",v[l.v.X]="video",v[l.v.Ya]="subtitle",v)[this.Be];v=n.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:y,server:q,reason:u,location:t,bitrate:w,confidence:v.confidence};v.confidence && (p.throughput=v.qb.Da);this.nt.fl.ye.jU && (p.oldserver=q);(0,d.wq)(this.bv,p.type,p);}};m.prototype.q5a=function(p,q,u,t,w,v,y){var x,z;if(this.Be === k.Ya)this.V.warn("notifyServerSwitch ignored for MediaType.TEXT");else {z=(x={},x[l.v.fa]="audio",x[l.v.X]="video",x[l.v.Ya]="subtitle",x)[this.Be];p={type:"locationSelected",segmentId:p,mediatype:z,location:q,locationlv:u,serverid:t,servername:w,selreason:v,seldetail:y};(0,d.wq)(this.bv,"locationSelected",p);}};m.prototype.rob=function(p,q){p={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)};(0,d.wq)(this.bv,p.type,p);};m.prototype.mFb=function(p){(0,d.wq)(this.bv,"transportReport",p);};m.prototype.lFb=function(p){(0,d.wq)(this.bv,"mediaRequestComplete",p);};return m;})();b.RIa=a;},28376:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y;Object.defineProperties(b,{__esModule:{value:!0}});b.PIa=void 0;c=a(70655);k=a(28075);f=a(62158);l=a(23563);d=a(14384);g=a(47571);n=a(80849);h=a(22782);m=a(74005);p=a(44724);q=a(70950);u=c.__importDefault(a(29736));r=a(57772);t=a(40885);w=a(53597);v=a(65519);y=a(28035);a=(function(x){function z(A,B,C,D,F,G,E,J,L,N,I,O){var K;K=x.call(this,A) || this;K.Y=B;K.Sr=F;K.pq=G;K.Gnb=E;K.cx=I;K.wl=O;K.events=new k.EventEmitter();K.connected=!1;K.wna=!1;K.Vr=!1;K.Pfa=!1;K.i4=new d.iHa(K.mediaType,B,C,K);A="[" + K.mediaType + "]";K.V=(0,m.Kh)(u.default,C,A);K.Rz=K.V.error.bind(K.V);K.ks=K.V.warn.bind(K.V);K.ix=K.V.trace.bind(K.V);K.c1=E.G;K.sPa=J;K.Mo=new f.RIa(K,D,K.Y,K.V,K.mediaType);K.oq=new n.GKa(K,B,K.V,K.Mo,K.Sr,K.mediaType,K.cx,function(){return K.dn;});B.cl && (K.cl=new h.zLa(B.cl,K.V));L && (K.Cj=null !== N && void 0 !== N?N:(0,w.Ix)(K.mediaType,K.track.pa,K.Y,K.V,K.track.ha,K.Mo.mFb.bind(K.Mo),K.Mo.lFb.bind(K.Mo),function(){}),K.Cj.on("created",function(){return K.events.emit("requestQueueCreated");}));return K;}c.__extends(z,x);Object.defineProperties(z.prototype,{mediaType:{get:function(){return this.pq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{track:{get:function(){return this.pq;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{yb:{get:function(){return this.Sr;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{I:{get:function(){return this.Sr.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{cf:{get:function(){return this.oq;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Eg:{get:function(){return this.pq.Eg;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{D2:{get:function(){return this.oq.D2;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Z8:{get:function(){return this.oq.Z8;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{gl:{get:function(){return this.c1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{W9:{get:function(){var A;return null !== (A=this.Bb) && void 0 !== A?A:this.fy;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Jl:{get:function(){var A;return null !== (A=this.cf.Jl) && void 0 !== A?A:this.W9;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{UR:{get:function(){return this.cf.UR;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Uia:{get:function(){return this.cf.Uia;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ONb:{get:function(){var A;A=this.cf.j2a;return null === A || void 0 === A?void 0:A.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Pk:{get:function(){return !!this.lf && (this.$B > this.lf.index || this.c1 >= this.lf.$a.G);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{orb:{get:function(){return this.Pk && 0 === this.cf.KC;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Zh:{get:function(){return this.Pk && 0 === this.oq.nUb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{dsa:{get:function(){var A;if(this.Pfa)return !0;if(!this.Zh)return !1;A=this.nT();return this.Pfa || (this.Pfa=void 0 === A || A.dsa);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{zrb:{get:function(){return !!this.cf.j2a;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{pA:{get:function(){return this.cf.pA;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Br:{get:function(){return this.Lb?q.N.max(this.Lb.wa(this.CC),q.N.Ia):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{VK:{get:function(){return this.yb.VK;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Jzb:{get:function(){return this.cf.Ka.te;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{fl:{get:function(){return this.sPa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ye:{get:function(){return this.fl.ye;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Xn:{get:function(){return this.fl.ye.Xn;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{S:{get:function(){var A,B;return null !== (B=null === (A=this.$e) || void 0 === A?void 0:A.S) && void 0 !== B?B:1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ob:{get:function(){var A;return null === (A=this.$e) || void 0 === A?void 0:A.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{rb:{get:function(){var A;return null === (A=this.lf) || void 0 === A?void 0:A.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{dn:{get:function(){return this.yb.se.ze(this.S).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{yna:{get:function(){return this.cf.yna;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Xv:{get:function(){return this.cf.Xv;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Vva:{get:function(){return this.cf.Vva;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{fy:{get:function(){return this.Gnb.add(this.yb.se);},enumerable:!1,configurable:!0}});z.prototype.$Q=function(){var A;A=this;this.oq.$Q(function(B){var C,D;D=B[0];B=null === (C=D.La) || void 0 === C?void 0:C.G;C=D.index;C < A.$B && A.yN(B,C);});};z.prototype.reset=function(){this.cf.reset();this.$e && this.yN(this.$e.La.G,this.$e.index);this.Cj && this.yb.pa.ZQ(this.mediaType,this.Cj);};z.prototype.Jf=function(A){var B;this.Vr=!0;this.oq.Jf(A);null === (B=this.sPa) || void 0 === B?void 0:B.ye.Pa();this.Cj && (this.yb.pa.ZQ(this.mediaType,this.Cj),v.WC.instance.j3(this.Cj),this.Cj.removeAllListeners(),this.Cj=void 0);};z.prototype.toJSON=function(){return {started:this.Xv,startOfSequence:this.Vva,segmentId:this.I,requestedBufferLevel:this.Z8,viewableId:this.Sr.pa.J,hasFragments:this.yna};};z.prototype.uo=function(A){return this.cf.uo(A);};z.prototype.yN=function(A,B){this.c1=A;this.$B=B;};z.prototype.hB=function(){return this.cf.hB();};z.prototype.nT=function(){return this.yb.zZa(this.mediaType);};z.prototype.kK=function(A){return (A=this.cf.FEb(A.G))?A.complete:!1;};Object.defineProperties(z.prototype,{Yg:{get:function(){return this.Sr.Yg;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{CC:{get:function(){var A,B,C,D;return null !== (D=null !== (A=this.cf.CC) && void 0 !== A?A:null === (C=null === (B=this.$e) || void 0 === B?void 0:B.La) || void 0 === C?void 0:C.add(this.yb.se)) && void 0 !== D?D:this.fy;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Sab:{get:function(){return q.N.Ma(this.c1);},enumerable:!1,configurable:!0}});z.prototype.pcb=function(A,B,C){var D;(0,p.assert)(this.Cj);(0,p.assert)(!this.Vr,"pipeline.tryIssueRequest on disabled pipeline");(0,p.assert)(!this.Vs(),"pipeline.tryIssueRequest on done pipeline");(0,p.assert)(!this.Pk);if(!A.gk)return (A=A.XH(this.yb.u,this.Cj))?{Ih:A,reason:"success"}:{Ih:A,reason:"pipelineTryIssueHeaderRequest"};if(A.ha)((0,p.assert)(this.track.ha,"Unexpected live stream."),A=this.W3b(A,this.Cj,C));else {D=A.vHb();(0,p.assert)(D,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(A.gk,", headerFragments:").concat(D));A=this.X3b(A,D,this.Cj,B,C);}this.evb();return A;};z.prototype.F5=function(A,B){A && (this.$e=A);B && (this.lf=B);(0,p.assert)(this.$e);(0,p.assert)(this.lf);(0,p.assert)(void 0 === this.$B);this.yN(this.$e.La.G,this.$e.index);};z.prototype.truncate=function(A){var B;B=this;(0,p.assert)(this.$e,"expected first fragment to exist on updateStreaming");this.lf=A;this.Pk && (A=c.__read(this.oq.aqb(A),2),this.yN(A[0],A[1]),this.Pk && (this.cf.k$a(),this.cf.vSa(),Promise.resolve(function(){B.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:B.mediaType});})));};z.prototype.DB=function(){return this.Vs()?!1:this.Ug()?!0:this.track.YU;};z.prototype.Ug=function(){return void 0 !== this.$e && void 0 !== this.lf;};z.prototype.Vs=function(){return this.Vr || this.orb;};z.prototype.x1a=function(){var A,B,C;C=this.Y.jo;if(null === (A=this.Cj) || void 0 === A?0:A.track)C=null === (B=this.Cj) || void 0 === B?void 0:B.track.jo;return C;};Object.defineProperties(z.prototype,{v7a:{get:function(){var A;A=!0;this.Y.dua && (A=this.connected);this.Y.cua && (A=A && this.wna);return A;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{LTb:{get:function(){return void 0 !== this.cl;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{d6a:{get:function(){var A;return (null === (A=this.cl) || void 0 === A?0:A.s2())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});z.prototype.zp=function(A,B){this.Mo.YRb(A);"oncomplete" === this.Y.y0a && (this.wna=!0);this.aB(A,B);};z.prototype.EG=function(A){var B,C;A.Me || this.Mo.$Rb(A.stream,null === (B=A.Bb) || void 0 === B?void 0:B.G,null === (C=A.La) || void 0 === C?void 0:C.G);this.Mo.VRb(this.I,A.stream,A.Me);this.g4(A);};z.prototype.DG=function(A){this.connected=!0;"onfirstbyte" === this.Y.y0a && (this.wna=!0);this.YK(A);};z.prototype.QYa=function(A){var B,C;B=this.cf.Ka;if(0 === B.length)return {Ka:[],b8:0,cr:0,cN:0};C=B.IS(A.G);0 > C && (C=void 0 === B.Bb || A.G <= B.Bb.G?0:B.length);return {Ka:B.TZb(C),b8:Math.max(0,B.oTa - C),cr:B.cr,cN:B.cN};};z.prototype.eB=function(){return this.track.eB();};z.prototype.G4b=function(A,B){B && this.Y.y6 && (B=this.Eg.indexOf(A.stream),-1 === B?this.Rz("reissueLiveRequest: stream not found in stream list, falling back to first stream"):A.Zub(this.Eg[0 < B?Math.max(B - 1,0):Math.min(1,this.Eg.length - 1)]));};z.prototype.X3b=function(A,B,C,D,F){var G,E,J,L,N,I,O,K,H,M;O=this.Sr;K=O.pa;H=this.mediaType;M=this.$B;if(M >= B.length)return (this.ks("makeRequest nextFragmentIndex:",M,"past fragments length:",B.length),{Ih:!1,reason:"insufficientFragments"});if(!this.$e || !this.lf)return (this.ks("makeRequest delayed, first or last fragment not set","first:",!!this.$e,"last:",!!this.lf),{Ih:!1,reason:"noFirstOrLastFragment"});B=H === g.v.fa && !!this.Y.Ty && (null === (G=this.yb.u.u) || void 0 === G?void 0:G.Es) && this.$e.te.G < this.Y.Ty && void 0 !== this.$e.Ha;G=H === g.v.fa && !!this.Y.Ty && (null === (E=this.yb.u.u) || void 0 === E?void 0:E.Ln) && this.lf.te.G < this.Y.Ty && void 0 !== this.lf.Ha;E=this.i4.PYa(A,M,B,G);if(H === g.v.fa && this.Y.Ty){if(null === (J=this.yb.u.u) || void 0 === J?0:J.Es)E.Tx?E.t$a():E.index === this.$e.index + 1 && this.$e.te.G < this.Y.Ty && void 0 !== this.$e.Ha && E.t$a(this.$e.Ha.end - this.$e.Ha.start);if(null === (L=this.yb.u.u) || void 0 === L?0:L.Ln)E.Ok?E.u$a():E.index === this.lf.index - 1 && this.lf.te.G < this.Y.Ty && void 0 !== this.lf.Ha && E.u$a(this.lf.Ha.end - this.lf.Ha.start);}if(this.wl && !this.wl.ySa(this.mediaType,E.Ba))return {Ih:!1,reason:this.mediaType === g.v.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.cpa=E.region;E.Bt=F;null === (N=this.cl) || void 0 === N?void 0:N.DLb(E,A);E.Ok && H === g.v.X && this.Mo.rob(O.u,E.Lb.G);this.Y.pG && (E.pG=this.Y.pG);E.location=A.location;E.Lc=A.$b;E.Vfc=A.Ct;(F=O.pa.M9) && "OPEN_CONNECT_APPLIANCE" === A.nr && (J=this.Y.KCb && this.mediaType === g.v.X && this.Y.jo,E.eH=this.Y.B3 || H === g.v.fa && this.Y.y3 || H === g.v.X && this.Y.z3?D:void 0,E.JW=F.ys({BE:O.On(this.mediaType),x7:this.Y.ECb?this.Y.x7:void 0,Rbb:String(u.default.time.Ga()),m6a:D,Lha:J?{start:E.offset,size:E.Ba}:void 0}));u.default.time.Ga();C=this.cf.gUa(E,C,A);if(!C.open()){this.ks("MediaRequest.open error: " + C.Of + " native: " + C.Mh);if(C.aborted)return {Ih:!1,reason:"requestAborted"};this.ks("makeRequest caught:",C.Of);K.qf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Ih:!1,reason:"openAseMediaRequest"};}null === (I=this.cl) || void 0 === I?void 0:I.eDb(C,E,A);this.yN(C.$a.G,E.aV);return {Ih:!0,reason:"success"};};z.prototype.W3b=function(A,B,C){var D,F,G,E,J,L,N,I,O,K;G=this.Sr;E=G.pa;J=this.$B;L=A.S;N=A.Qn();I=N.IN;O=N.te.ze(L);I=O.zv(J - I);O=I.add(O);if(O.G > N.BUa)return {Ih:!1,reason:"exceedsLiveEdge"};if(this.wl && !this.wl.ySa(this.mediaType,0))return {Ih:!1,reason:this.mediaType === g.v.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};if((N=J === (null === (D=this.lf) || void 0 === D?void 0:D.index)) && this.mediaType === g.v.fa && (D=this.yb.bf(g.v.X)) && D.lf)K=D.lf.$a.G;C={xj:J,index:J,ob:I.ya,rb:O.ya,S:L,offset:0,Ba:0,Bt:C,Tx:J === (null === (F=this.$e) || void 0 === F?void 0:F.index),Ok:N,Uy:{Xd:G.u.yYa(),NL:G.u.gX},Yv:K};A=this.cf.gUa(C,B,A);if(!A.open()){this.ks("MediaRequest.open error: " + A.Of + " native: " + A.Mh);if(A.aborted)return {Ih:!1,reason:"requestAborted"};this.ks("makeRequest caught:",A.Of);E.qf("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Ih:!1,reason:"openAseMediaRequest"};}this.yN(O.G,this.$B + 1);return {Ih:!0,reason:"success"};};z.prototype.evb=function(){this.Pk && (this.cf.k$a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};return z=c.__decorate([y.qF],z);})(l.pz);b.PIa=a;(0,t.xk)(r.lw,a);},49252:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t;Object.defineProperties(b,{__esModule:{value:!0}});b.Pya=void 0;c=a(70655);r=a(28075);k=a(95994);f=c.__importDefault(a(29736));l=a(74005);d=a(39223);g=a(89383);n=a(30184);h=a(70950);m=a(65015);p=a(2479);q=a(53548);u=a(44724);t=a(75969);a=(function(w){function v(){var y;y=null !== w && w.apply(this,arguments) || this;y.bPa=0;y.Wfa=0;y.g0=0;y.Lea=0;return y;}c.__extends(v,w);v.prototype.$ta=function(y){var x,z,A,B;w.prototype.$ta.call(this,y);this.bPa++;this.Wfa++;this.xPa=f.default.time.Ga();this.rJ || (this.rJ={Bwb:null === (x=y.$a) || void 0 === x?void 0:x.G,K2:null === (z=y.La) || void 0 === z?void 0:z.G,index:y.index},this.v0 || (this.v0=this.rJ));x=this.H0;z=!1;x && 100 > Math.abs(x.Lb.G - (null === (A=y.Bb) || void 0 === A?NaN:A.G)) && (this.g0+=y.Lb.G - x.Lb.G,this.Lea++,z=!0);z || (this.g0=null === (B=y.te) || void 0 === B?void 0:B.G,this.Lea=1);this.H0=y;};v.prototype.stop=function(){w.prototype.stop.call(this);this.Wfa=0;this.rJ=void 0;};v.prototype.ZYa=function(){var y,x,z,A,B;x=this.gs;z=x.V2;if(z){B=z.bf(this.Be);B && B.cf && (A=B.cf.MZa());return {RM:A,currentBranch:{sId:z.u && z.u.id,cancelled:z.Zf},currentReceivedCount:x && x.Hzb,totalReceivedCount:this.bPa,currentState:x && x.yUa || "Uninitialized",lastRequestPushed:this.H0 && ({contentEndPts:null === (y=this.H0.$a) || void 0 === y?void 0:y.G,fragmentIndex:this.H0.index}),tslp:this.xPa && f.default.time.Ga() - this.xPa,cpts:this.g0,crq:this.Lea,rslp:this.Wfa,firstRequestSSPushed:this.rJ && ({contentStartPts:this.rJ.K2,fragmentIndex:this.rJ.index}),firstRequestPushed:this.v0 && ({contentStartPts:this.v0.K2,fragmentIndex:this.v0.index})};}};return v;})((function(w){function v(y,x,z,A,B,C,D,F,G,E,J){var L;L=w.call(this) || this;L.kg=y;L.Be=x;L.Y=A;L.V=B;L.Z=C;L.zsa=D;L.Jd=F;L.ml=G;L.Xz=new l.Jw(!1);L.Uz=new l.Jw(h.N.Ma(-Infinity));L.V=(0,l.Kh)(f.default,L.V,("AsePlayerBuffer [").concat(x,"]:"));L.gs=new d.Dza(L.V,z,x);L.resume();C && D && F && (J?(L.NM=J,J.Ru(C,F,L.kg)):L.YTa(),y=new m.yCa(null === C || void 0 === C?void 0:C.Jd,h.N.Ma(L.Y.i7),B),L.gs.x1(y),L.Y.KQa && (C=new p.THa(null === C || void 0 === C?void 0:C.Jd,L.Y.KQa,h.N.Ma(L.Y.Krb),B),L.gs.x1(C)),E && (L.iPa=new q.$Ka(E,L.mediaType,B),L.gs.x1(L.iPa)),k.K && L.Y.yCb && (B=new t.gFa(B),L.gs.x1(B)));L.kg.on("requestAppended",function(N){L.Xz.set(!0);N.request.Lb && L.Uz.set(N.request.Lb);L.emit("requestAppended");});return L;}c.__extends(v,w);Object.defineProperties(v.prototype,{Yq:{get:function(){return this.Xz;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{h6:{get:function(){return this.Uz;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{rMb:{get:function(){return this.gs.ii;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{tH:{get:function(){return this.kg.endOfStream;},enumerable:!1,configurable:!0}});v.prototype.YTa=function(){(0,u.assert)(this.Z && this.zsa && this.Jd,"Player should be defined");this.NM=new n.iKa(this.Be,this.V,this.Z,this.kg,this.Z.events,this.zsa,this.Jd,this.ml);};Object.defineProperties(v.prototype,{mediaType:{get:function(){return this.Be;},enumerable:!1,configurable:!0}});v.prototype.ZYa=function(){};v.prototype.resume=function(){k.K && this.V.trace("resume");this.wab();};Object.defineProperties(v.prototype,{ssb:{get:function(){return this.fJ;},enumerable:!1,configurable:!0}});v.prototype.O0b=function(){this.kg.C7(!0);};v.prototype.reset=function(y,x){var z,A,B;void 0 === y && (y=!1);k.K && this.V.trace("reset");this.stop();this.kg.reset(y);this.Xz.set(!1);this.Uz.set(h.N.Ma(-Infinity));y || (this.fJ=void 0,null === (z=this.NM) || void 0 === z?void 0:z.reset(),y=null === (A=this.Z) || void 0 === A?void 0:A.cg,null === (B=this.iPa) || void 0 === B?void 0:B.XSb(y,null !== x && void 0 !== x?x:y));};v.prototype.Sf=function(y){void 0 === y && (y=!1);k.K && this.V.trace("restart");this.reset(y);this.wab(!0);};v.prototype.stop=function(){k.K && this.V.trace("stop");this.gs.Gab();};v.prototype.close=function(){var y;k.K && this.V.trace("start");null === (y=this.NM) || void 0 === y?void 0:y.close();};v.prototype.Pa=function(){this.stop();this.close();};v.prototype.kV=function(){this.Y.Ala && this.kg.bFb();this.kg.v3();};v.prototype.yC=function(y){this.kg.yC(y);};v.prototype.SEb=function(y){this.kg.QRb(y);};v.prototype.bi=function(y){var x;return !(null === (x=this.NM) || void 0 === x || !x.bi(y));};v.prototype.wab=function(y){if(!this.gs.ii || y)(this.gs.YYb(),g.AsyncIterator.a6(this.gs,this.yNb.bind(this)));};v.prototype.yNb=function(y){y.done || this.$ta(y.value);};v.prototype.$ta=function(y){var x,z,A,B,C,D,F,G;k.K && this.V.trace(("requestReceived: ").concat(null === (x=this.gs.V2) || void 0 === x?void 0:x.u.id) + (" ").concat(y.toString(),", edit: ").concat(JSON.stringify(y.Ha)));this.kg.endOfStream?k.K && this.V.error("Buffer manager has declared EOS, ignoring request",y.toString()):(this.fJ?(this.fJ.QNb=null === (D=y.$a) || void 0 === D?void 0:D.G,this.fJ.SNb=null === (F=y.Lb) || void 0 === F?void 0:F.G,this.fJ.p2a=y.Lb):this.fJ={Ucc:null === (z=y.La) || void 0 === z?void 0:z.G,Vcc:null === (A=y.Bb) || void 0 === A?void 0:A.G,QNb:null === (B=y.$a) || void 0 === B?void 0:B.G,SNb:null === (C=y.Lb) || void 0 === C?void 0:C.G,p2a:y.Lb},y.Tx && y.stream.track.Ql && (null === (G=this.Z) || void 0 === G || !G.YT(y.pa.J)) && this.emit("drmNeeded",{J:y.pa.J,Ip:y.Bb}),this.kg.psb(y));};return v;})(r.EventEmitter));b.Pya=a;},58414:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.gY=void 0;c=a(70655);k=a(44724);r=a(40885);f=a(29584);a=a(57772);l=(function(){function d(g,n){this.Ra=[];this.mg=void 0;this.mc=0;this.V=g;n && n.length && (Array.isArray(n)?(this.Ra=n.slice(),this.aQ(0,this.Ra.length)):n instanceof d && (this.Ra=n.Ra.slice(),this.aQ(0,this.Ra.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Ra.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Ra.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Ra[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Rd:{get:function(){return this.Ra[this.Ra.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ob:{get:function(){return this.first && this.first.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rb:{get:function(){return this.Rd && this.Rd.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zq:{get:function(){return this.mg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ba:{get:function(){return this.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{S:{get:function(){return this.first && this.first.S;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dn:{get:function(){return this.first && this.first.dn;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ka:{get:function(){return this.Ra;},enumerable:!1,configurable:!0}});d.prototype.w4b=function(g){this.mc+=g;};d.prototype.Psb=function(){var g;if(0 === this.Ra.length)((0,k.assert)(void 0 === this.mg),(0,k.assert)(0 === this.mc));else {(0,k.assert)(this.mg instanceof f.qz);(0,k.assert)("number" === typeof this.mc);(0,k.assert)(void 0 !== this.zq && this.zq.ob === this.ob);g=this.Ra.reduce(function(n,h,m){return 0 === m || h.ob === n?h.rb:n;},0);(0,k.assert)(this.zq.rb === g);(0,k.assert)(this.Ra.reduce(function(n,h,m){return 0 === m || h.ob === n?h.rb:n;},0) === this.zq.rb);(0,k.assert)(this.Ra.reduce(function(n,h){return n + h.Ba;},0) === this.mc);}};d.prototype.get=function(g){0 > g && (g+=this.Ra.length);return this.Ra[g];};d.prototype.push=function(g){this.Ra.push(g);this.aQ(this.Ra.length - 1);return this.length;};d.prototype.unshift=function(g){this.Ra.unshift(g);this.aQ(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Ra.length)return (this.Ufa(this.Ra.length - 1),this.Ra.pop());};d.prototype.shift=function(){if(0 !== this.Ra.length)return (this.Ufa(0),this.Ra.shift());};d.prototype.splice=function(g,n){for(var h,m=[],p=2;p < arguments.length;p++){m[p - 2]=arguments[p];}0 > g && (g+=this.Ra.length);0 > g && (g=0);g > this.Ra.length && (g=this.Ra.length);if(void 0 === n || 0 > n)n=0;n=Math.min(n,this.Ra.length - g);0 < n && this.Ufa(g,g + n);p=(h=this.Ra).splice.apply(h,c.__spreadArray([g,n],c.__read(m),!1));0 < m.length && this.aQ(g,g + arguments.length - 2);return p;};d.prototype.slice=function(g,n){void 0 === g && (g=0);void 0 === n && (n=this.Ra.length);0 > g && (g+=this.Ra.length);if(g >= this.Ra.length)return new d(this.V);n > this.Ra.length && (n=this.Ra.length);0 > n && (n+=this.Ra.length);return new d(this.V,this.Ra.slice(g,n));};d.prototype.Ts=function(g){if(0 === this.Ra.length || g.ob >= this.rb)this.push(g);else if(g.rb <= this.ob)this.unshift(g);else {for(var n=0,h=this.Ra.length - 1,m;n < h - 1;){m=Math.floor((h + n) / 2);(0,k.assert)(m !== h && m !== n);g.ob >= this.Ra[m].rb?n=m:h=m;}(0,k.assert)(n !== h);(0,k.assert)(this.Ra[n].rb <= g.ob && this.Ra[h].ob >= g.rb);this.splice(h,0,g);}};d.prototype.remove=function(g){g=this.Ra.indexOf(g);if(0 > g)return !1;this.splice(g,1);return !0;};d.prototype.concat=function(){for(var g=[],n=0;n < arguments.length;n++){g[n]=arguments[n];}g=g.map(function(h){return h.Ra;});return new d(this.V,Array.prototype.concat.apply(this.Ra,g));};d.prototype.forEach=function(g){var n;n=this;this.Ra.forEach(function(h,m){return g(h,m,n);});};d.prototype.some=function(g){var n;n=this;return this.Ra.some(function(h,m){return g(h,m,n);});};d.prototype.every=function(g){var n;n=this;return this.Ra.every(function(h,m){return g(h,m,n);});};d.prototype.map=function(g){var n;n=this;return this.Ra.map(function(h,m){return g(h,m,n);});};d.prototype.reduce=function(g,n){var h;h=this;return this.Ra.reduce(function(m,p,q){return g(m,p,q,h);},n);};d.prototype.indexOf=function(g){return this.Ra.indexOf(g);};d.prototype.find=function(g){var n,h;n=this;return this.Ra.some(function(m,p){h=p;return g(m,p,n);})?this.Ra[h]:void 0;};d.prototype.findIndex=function(g){var n,h;n=this;return this.Ra.some(function(m,p){h=p;return g(m,p,n);})?h:-1;};d.prototype.filter=function(g){var n;n=this;return new d(this.V,this.Ra.filter(function(h,m){return g(h,m,n);}));};d.prototype.d4=function(g){for(var n=this.Ra.length - 1;0 <= n;--n){g(this.Ra[n],n,this);}};d.prototype.Pva=function(g){for(var n=this.Ra.length - 1;0 <= n;--n){if(g(this.Ra[n],n,this))return !0;}return !1;};d.prototype.hla=function(g){if(this.empty || g < this.La.G || g >= this.$a.G)return -1;for(var n=0,h=this.Ra.length - 1,m;h > n;){m=Math.floor((h + n) / 2);if(g >= this.Ra[m].La.G && g < this.Ra[m].$a.G){h=m;break;}g < this.Ra[m].$a.G?h=m - 1:n=m + 1;}return h;};d.prototype.IS=function(g){if(this.empty || g < this.Bb.G || g >= this.Lb.G)return -1;for(var n=0,h=this.Ra.length - 1,m;h > n;){m=Math.floor((h + n) / 2);if(g >= this.Ra[m].Bb.G && g < this.Ra[m].Lb.G){h=m;break;}g < this.Ra[m].Lb.G?h=m - 1:n=m + 1;}return h;};d.prototype.aXa=function(g){g=this.IS(g);return 0 <= g?this.Ra[g]:void 0;};d.prototype.k1=function(g){var n;n=this.Ra[g].rb;for(g+=1;g < this.Ra.length && n === this.Ra[g].ob;++g){n=this.Ra[g].rb;}g < this.Ra.length?void 0 === this.mg?this.mg=new f.qz(this,{rb:n}):this.mg.EW(n):void 0 === this.mg?this.mg=new f.qz(this,{}):this.mg.Fia();};d.prototype.cJ=function(g,n){for(var h=g;h < n;++h){this.mc+=this.Ra[h].Ba;}void 0 === this.mg || 0 === g?this.k1(0):this.mg.rb === this.rb?this.k1(g - 1):this.Ra[g].ob === this.mg.rb && this.k1(g);};d.prototype.fx=function(g,n){var h;if(0 === g)(this.mg=void 0,n < this.length && this.k1(n));else {h=this.mg;h.rb > this.Ra[g - 1].rb && (n < this.length?h.EW(this.Ra[g - 1].rb):h.Fia());}for(;g < n;++g){this.mc-=this.Ra[g].Ba;}};d.prototype.aQ=function(g,n){void 0 === n && (n=g + 1);this.cJ(g,n);};d.prototype.Ufa=function(g,n){void 0 === n && (n=g + 1);this.fx(g,n);};return d;})();b.gY=l;(0,r.xk)(a.lw,l);},50219:function(r,b,a){var c,k,f,l,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.hY=void 0;c=a(70655);a(44724);r=a(40885);k=c.__importDefault(a(54186));f=c.__importDefault(a(29736));l=a(60595);d=a(78115);g=f.default.cq;n=a(55757);a=(function(h){var R8;R8=2;for(;R8 !== 3;){switch(R8){case 2:c.__extends(m,h);m.create=function(p,q,u,t,w,v,y,x){var Q_H;Q_H=2;for(;Q_H !== 1;){switch(Q_H){case 2:return !q.cl && t.Ha && p.mediaType === k.default.Ao.X?new n.Aaa(p,u,t,w,v,q,y,x):new m(p,u,t,w,v,q,y,x);break;}}};m.prototype.toString=function(){var Y$G;Y$G=2;for(;Y$G !== 1;){switch(Y$G){case 2:var W76="I";W76+="D";W76+=": ";return W76 + this.fk() + ":" + l.Zp.prototype.toString.call(this);break;}}};return m;break;}}function m(p,q,u,t,w,v,y,x){var f9H,z;f9H=2;for(;f9H !== 8;){switch(f9H){case 2:var e6M="me";e6M+="d";e6M+="i";e6M+="a";var F5G="med";F5G+="ia(edit";F5G+=")";var f1D="1SIYb";f1D+="ZrNJCp";f1D+="9";f1D;z=u.Ha?F5G:e6M;void 0 === u.responseType && (u.responseType=u.Ha || g.Kf && !g.Kf.nua.Vda?0:1);q=h.call(this,p,q,z,u,t,w,v,y) || this;f9H=3;break;case 3:l.Zp.va(q,p,w,u,x);return q;break;}}}})(d.iY);b.hY=a;(0,r.xk)(l.Zp,a,!1);},60595:function(r,b,a){var c,k,f,l,d,g,n,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Zp=void 0;c=a(70655);k=a(44724);f=c.__importDefault(a(54186));l=a(52190);d=a(70950);r=a(40885);g=a(24705);n=a(89872);h=a(29584);a=a(57772);m=(function(p){function q(u,t,w,v){var y;y=p.call(this,u,w) || this;q.va(y,u,t,w,v);return y;}c.__extends(q,p);q.va=function(u,t,w,v,y){var x;n.lI.ioa(u,t,v);u.ae=v.index;u.lJ=v.ob;u.wu=v.rb;u.Upb=v.zb?v.zb:t.zb;u.Uy=v.Uy;u.u=w;u.Ema=y;u.KNa=!!v.Tx;u.jOa=!!v.Ok;u.YOa=null !== (x=v.region) && void 0 !== x?x:0;u.JNa=!!v.wla;u.iOa=!!v.Zs;u.ka=void 0 === v.h4 || void 0 === v.Ila || v.h4 === v.ob && v.Ila === v.rb?u:new h.qz(u,{ob:v.h4,rb:v.Ila});u.hob=v.Hqa;u.rmb=v.pj;u.Bnb=t.h5;u.zh=v.Ha?u.k5a(v.Ha):void 0;u.vPa=v.Yv;u.qR=!1;u.UNa=!1;u.Pp=[];};q.jUa=function(u){for(var t=new Uint32Array(u.length),w=new Uint32Array(u.length),v=new Uint8Array(u.length),y=new Uint8Array(u.length),x=0,z,A,B=0;B < u.length;++B){z=u[B];A=z.mc;t[B]=z.wu - z.lJ;w[B]=A;v[B]=z.stream.Ft;void 0 !== z.zb && null !== z.zb && (y[B]=z.zb);x+=A;}return new l.Zda(t,w,u.length?u[0].S:1E3,x);};Object.defineProperties(q.prototype,{Ws:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zb:{get:function(){return this.Upb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Jha:{get:function(){return 8 * this.Ba / this.te.G;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ob:{get:function(){return this.lJ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rb:{get:function(){return this.wu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{dn:{get:function(){var u,t;return null !== (t=null === (u=this.Ema) || void 0 === u?void 0:u.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Tx:{get:function(){return this.KNa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ok:{get:function(){return this.jOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.YOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wla:{get:function(){return this.JNa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zs:{get:function(){return this.iOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Hqa:{get:function(){return this.hob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pj:{get:function(){return this.rmb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ha:{get:function(){return this.zh;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Yv:{get:function(){return this.vPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oZb:{get:function(){return this.zh?this.zh.end - this.zh.start:this.Is;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{h4:{get:function(){return this.ka.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ila:{get:function(){return this.ka.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oFb:{get:function(){return this.ka.PA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ZK:{get:function(){return this.ka.La;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Jla:{get:function(){return this.ka.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Is:{get:function(){var u;u=this.oFb;(0,k.assert)(u);return u / this.stream.ca.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{una:{get:function(){return this.UNa;},enumerable:!1,configurable:!0}});q.prototype.GPb=function(){this.KNa=!0;};q.prototype.z3a=function(){this.jOa=!0;};q.prototype.T_b=function(u){this.Uy={Xd:u.yYa(),get NL() {return u.gX;}};};q.prototype.AN=function(u){this.vPa=u;};q.prototype.Q_b=function(u,t,w){this.YOa=u;this.JNa=t;this.iOa=w;};q.prototype.wi=function(u){var t,w;void 0 === u && (u={});t=this.stream.ca.ya;w=this.zh || ({start:0,end:this.Is});u=this.k5a(u);this.ka && this.ka !== this || (this.ka=new h.qz(this,this));u.start > w.start && (this.lJ=this.ka.ob + u.start * t);u.end < w.end && (this.wu=this.ka.ob + u.end * t);this.zh=c.__assign(c.__assign({},w),u);};q.prototype.kka=function(u){void 0 === u && (u=1);this.zh?this.wi({start:this.zh.start + u,end:this.zh.end}):this.wi({start:u});};q.prototype.w3=function(u){this.zh?this.wi({start:this.zh.start,end:(this.zh.end || 0) - u}):this.wi({start:0,end:-u});};q.prototype.ci=function(){this.Ha?this.wi({start:this.Ha.start,end:this.Ha.start}):this.wi({start:0,end:0});};q.prototype.U_b=function(u){this.zh || this.wi();this.zh.P9=u;};q.prototype.t$a=function(u){this.zh || this.wi();this.zh.Es=!0;u && (this.zh.LWa=u);};q.prototype.u$a=function(u){this.zh || this.wi();this.zh.Ln=!0;u && (this.zh.MWa=u);};q.prototype.iXa=function(u){var w;if(!(u < this.La.G || u >= this.$a.G) && this.pj && this.pj.length){u=new d.N(u + 1 - this.La.G,1E3).Oi(this.stream.ca);for(var t=this.pj.length - 1;0 <= t;--t){w=this.pj[t];if(w.Fj <= u)return w;}return {Fj:0,we:this.ZK.G};}};q.prototype.JEb=function(u){var w;if(!(u < this.La.G || u >= this.$a.G) && this.pj && this.pj.length){u=new d.N(u + 1 - this.La.G,1E3).Oi(this.stream.ca);for(var t=this.pj.length - 1;0 <= t;--t){w=this.pj[t];if(w.Fj <= u)return w;}return {Fj:0,we:this.ZK.G};}};q.prototype.ZWa=function(u,t){var w,v,y;if(!(u < this.La.G || u >= this.$a.G)){if(!t && this.Bnb)return {Fj:0,we:this.La.G};w=this.ca.ya;v=this.ca.S;y=Math.floor(this.PA / w);u=Math.min((t?Math.ceil:Math.floor)((d.N.M4a(u,v) - this.ob + (t?-1:1) * (v / 1E3 - 1)) / w),y);w=d.N.Hwa(this.ob + u * w,v);return u === y?void 0:{Fj:u,we:w};}};q.prototype.GEb=function(u){return this.mediaType === f.default.Ao.X?this.iXa(u):this.ZWa(u,!1);};q.prototype.lla=function(u){return this.mediaType === f.default.Ao.X?this.JEb(u):this.ZWa(u,!0);};q.prototype.b1a=function(){return 0 < this.Pp.length;};q.prototype.Rma=function(){(0,k.assert)(!this.nW,"Should not get response iterator more than once");this.nW=new g.PC(this.console);return this.nW.getIterator();};q.prototype.T7a=function(u,t){this.nW?(this.nW.enqueue(u),t && this.nW.iF()):this.Pp.push(u);this.UNa=t;};q.prototype.Ny=function(){this.Pp=[];};q.prototype.Sga=function(u){this.mc+=u.Ba;this.wu=u.rb;this.zh && (this.ka=new h.qz(this,{ob:this.h4,rb:this.wu}),this.zh.end=this.Is);};q.prototype.W8a=function(u){var t,w,v;t={type:"logdata",target:"endplay",fields:{}};w=this.mediaType === f.default.Ao.fa?"audioedit":"videoedit";v=this.ZK.equal(this.La);v=[v?this.$a.G:this.La.G,v?-this.te.G:this.te.G];u && v.push(u);t.fields[w]={type:"array",value:v};return t;};q.prototype.toString=function(){return ("[").concat(this.Sb,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.La.G,"-").concat(this.$a.G,",") + ("p:").concat(this.Bb.G,"-").concat(this.Lb.G,",d:").concat(this.te.G,"]");};q.prototype.toJSON=function(){return {movieId:this.O,streamId:this.Sb,bitrate:this.bitrate,index:this.index,startPts:this.La.G,endPts:this.$a.G,contentStartPts:this.La.G,contentEndPts:this.$a.G,fragmentStartPts:this.ZK.equal(this.La)?void 0:this.ZK.G,fragmentEndPts:this.Jla.equal(this.$a)?void 0:this.Jla.G,edit:this.Ha};};q.prototype.hXa=function(u){var w;if(this.pj)for(var t=0;t < this.pj.length;++t){if(this.pj[t].Fj === u)w=this.pj[t].offset;}return w;};q.prototype.k5a=function(u){var t,w;t=Math.max(u.start || 0,0);w=void 0 === u.end?this.Is:Math.min(this.Is,Math.max(t,0 > u.end?this.Is + u.end:u.end));return c.__assign(c.__assign({},u),{start:t,end:w});};return q;})(n.lI);b.Zp=m;(0,r.xk)(a.lw,m);},32695:function(r,b,a){var c,k,f,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Jya=void 0;c=a(70655);a(44724);k=a(22084);r=a(40885);f=a(58414);l=a(57772);d=a(23563);g=a(29584);a=(function(n){function h(m,p){var q,u;q=this;u=[new f.gY(m),new f.gY(m),new f.gY(m)];q=n.call(this,u,function(t){return t.complete?q.empty || t.ob <= q.jwb?0:1:t.active?1:2;}) || this;u=c.__read(u,3);q.xl=u[0];q.Fk=u[1];q.js=u[2];q.Po=0;q.zea=0;q.V=m;q.Go=p;return q;}c.__extends(h,n);Object.defineProperties(h.prototype,{Ba:{get:function(){return this.xl.Ba + this.Fk.Ba + this.js.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{l4b:{get:function(){return this.js;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.Fk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.xl;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{jXb:{get:function(){return this.Po;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{E2:{get:function(){return this.xl.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{cr:{get:function(){return this.xl.Ba + this.Fk.Ba - this.Po;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{m4b:{get:function(){return this.js.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{cN:{get:function(){return this.Ba - this.Po;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{first:{get:function(){return this.IFb();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Rd:{get:function(){return this.Ysb();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{oka:{get:function(){return !this.xl.empty || this.js.empty || this.Fk.empty?this.first:this.Fk.ob < this.js.ob?this.Fk.first:this.js.first;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{B2a:{get:function(){return this.js.empty || this.Fk.empty?this.Rd:this.Fk.rb < this.js.rb?this.js.Rd:this.Fk.Rd;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sXa:{get:function(){return this.js.first;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{S:{get:function(){return this.first && this.first.S;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ob:{get:function(){return this.oka && this.oka.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rb:{get:function(){return this.B2a && this.B2a.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dn:{get:function(){return this.first && this.first.dn;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{jwb:{get:function(){return this.xl.empty?this.ob:this.xl.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{iwb:{get:function(){var m;return this.xl.empty?null === (m=this.La) || void 0 === m?void 0:m.G:this.xl.$a.G;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mTa:{get:function(){var m;return this.xl.empty?null === (m=this.Bb) || void 0 === m?void 0:m.G:this.xl.Lb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{z6a:{get:function(){var m,p;return (null === (m=this.Fk.Lb) || void 0 === m?void 0:m.G) || (null === (p=this.xl.Lb) || void 0 === p?void 0:p.G);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{KC:{get:function(){return this.js.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$j:{get:function(){return this.Fk.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{oTa:{get:function(){return this.xl.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Qa:{get:function(){return this.xl.concat(this.Fk);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zq:{get:function(){return this.mg;},enumerable:!1,configurable:!0}});h.prototype.cJ=function(m){var p;m.aborted?++this.zea:this.Po+=m.bytesReceived || 0;if(this.empty)this.mg=new g.qz(this,{});else if(m.ob !== this.rb)if(m.ob > this.mg.rb)this.mg.EW(this.mg.rb);else if(m.ob < this.ob || m.ob === this.mg.rb){p=m.rb;this.ZEb(function(q,u){return q.ob - u.ob;},function(q){p=q.ob === p?q.rb:p;});p === Math.max(this.rb,m.rb)?this.mg.Fia():this.mg.EW(p);}m.I$a(this);};h.prototype.fx=function(m){m.aborted?--this.zea:this.Po-=m.bytesReceived;this.empty?this.mg=void 0:m.ob !== this.rb && m.rb <= this.mg.rb && m.ob > this.mg.ob && this.mg.EW(m.ob);m.Ivb();};h.prototype.push=function(m){this.cJ(m);return n.prototype.push.call(this,m);};h.prototype.shift=function(){var m;m=n.prototype.shift.call(this);m && this.fx(m);return m;};h.prototype.pop=function(){var m;m=n.prototype.pop.call(this);m && this.fx(m);return m;};h.prototype.unshift=function(m){this.cJ(m);return n.prototype.unshift.call(this,m);};h.prototype.Ts=function(m){this.cJ(m);n.prototype.Ts.call(this,m);};h.prototype.remove=function(m){if(!n.prototype.remove.call(this,m))return !1;this.fx(m);return !0;};h.prototype.splice=function(m,p){for(var q=[],u=2;u < arguments.length;u++){q[u - 2]=arguments[u];}u=n.prototype.splice.apply(this,c.__spreadArray([m,p],c.__read(q),!1));q.forEach(this.cJ.bind(this));u.forEach(this.fx.bind(this));return u;};h.prototype.KWb=function(m){var p;p=this;this.reduce(function(q,u,t){u.aborted && (m && m(u,t,p),0 === q.length || q[0].end !== t?q.unshift({start:t,end:t + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};h.prototype.hla=function(m){return this.bXa(function(p){return p.hla(m);});};h.prototype.IS=function(m){return this.bXa(function(p){return p.IS(m);});};h.prototype.aXa=function(m){m=this.IS(m);return -1 !== m?this.get(m):void 0;};h.prototype.TZb=function(m){var q;for(var p=[];m < this.length;){q=this.get(m);q && p.push(q);m++;}return p;};h.prototype.EG=function(m){this.move(m);this.g4(m);};h.prototype.FG=function(m,p){this.Po+=p;this.RS(m,p);};h.prototype.zp=function(m,p){for(this.Po+=p;this.Fk.first && this.Fk.first.complete && (this.xl.empty?this.Fk.first === this.oka:this.Fk.first.ob === this.xl.rb);){this.q0b();}this.aB(m,p);};h.prototype.yM=function(m,p,q){this.Po-=m.bytesReceived;++this.zea;this.XK(m,p,q);};h.prototype.zM=function(m,p,q){this.Fk.w4b(p - q);this.Hla(m,p,q);};return h;})(k.CAa);b.Jya=a;(0,r.xk)(d.pz,a,!1);(0,r.xk)(l.lw,a);},96432:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.raa=void 0;c=a(70655);k=a(89872);r=(function(f){function l(d,g,n,h){var m;m=f.call(this,d,n) || this;m.R9=!1;m.MS=!1;m.$U=!1;m.oS=!1;m.WM=void 0;l.B0a(m,d,g,n,h);return m;}c.__extends(l,f);l.B0a=function(d,g,n,h,m){k.lI.ioa(d,g,h);d.u=n;d.SD=h.Hh;d.ND=h.BM;d.DNa=h.hF;d.V=m;};Object.defineProperties(l.prototype,{Me:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Hh:{get:function(){return this.SD;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{BM:{get:function(){return this.ND;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hF:{get:function(){return this.DNa;},enumerable:!1,configurable:!0}});l.prototype.toJSON=function(){return {movieId:this.O,streamId:this.Sb,bitrate:this.bitrate};};return l;})(k.lI);b.raa=r;},41736:function(r,b,a){var k,f,l,d,g,n,h,m,p;function c(q){return {Me:!0,Bt:{Ag:h.Cb.Dk},Lc:q,responseType:0};}Object.defineProperties(b,{__esModule:{value:!0}});b.Lya=void 0;k=a(70655);f=a(86393);r=a(28075);l=k.__importDefault(a(29736));d=a(74005);g=a(40885);n=a(44724);h=a(47571);m=a(96432);a=a(78115);p=l.default.MediaSource;a=(function(q){function u(t,w,v,y,x,z,A,B){var C,D,F;C=v.track;A=(A?"(cache)":"") + t.id + " header";D=y.offset;F=y.Ba;y.BM && (D+=y.BM.byteLength,F-=y.BM.byteLength);y=k.__assign(k.__assign(k.__assign({},y),c(y.Lc)),{offset:D,Ba:F});w=q.call(this,t,C,A,y,x,z,w,B) || this;w.WM=v;w.Sqa=0;m.raa.B0a(w,t,z,y,B);w.MS=!!y.MS;w.$U=!!y.$U;w.oS=!!y.oS;w.Nra=y.Ba;w.R9=!!y.R9;++w.Sqa;return w;}k.__extends(u,q);Object.defineProperties(u.prototype,{Me:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{a8:{get:function(){return this.Mob;},enumerable:!1,configurable:!0}});u.prototype.de=function(){var t;if(!this.complete){t={type:"headerRequestCancelled",request:this};this.emit(t.type,t);}q.prototype.de.call(this);};u.prototype.QS=function(t){this.stream.rra();q.prototype.QS.call(this,t);};u.prototype.XK=function(t,w,v){this.stream.O7();q.prototype.XK.call(this,t,w,v);};u.prototype.zp=function(t,w){var v;v=t.response;v && this.pmb(v);(0,n.assert)(this.ND);t.Ny();this.Kob()?(this.stream.O7(),q.prototype.zp.call(this,t,w)):this.y1?(this.MDb(t.offset + t.Ba,this.y1),q.prototype.zp.call(this,t,w)):q.prototype.rV.call(this,t);};u.prototype.MDb=function(t,w){this.GWa(this.zK,this.label + " (" + this.Sqa + ")",c(this.Lc),{offset:t,Ba:w});++this.Sqa;};u.prototype.Kob=function(){var t,w,v,y,x,z,A;y=this.config;x=new f.Or(u.hRb,this.stream,this.ND,this.stream.ha?["moov"]:["sidx"],y.YTb,{$fc:this.stream.track.Ssa,Yra:void 0 === this.ca,jcb:!p.Kf || !p.Kf.Uvb,Nwa:y.Nwa,Bm:y.Bm,kO:this.config.kO,u9a:!0,S9:!p.Kf || !p.Kf.rRb,Qta:this.config.Qta});z=x.parse({ca:this.ca});this.s5b=y.kO && x.AKb;if(z.kt){(0,n.assert)(z.Hh);this.SD=z.Hh;this.Mob=z.a8;this.DNa=!!z.$Cb;void 0 === this.ca && void 0 === z.ca && this.V.error("No frame duration available for " + this.Sb);x=z.ca?new d.N(z.ca):this.ca;A=void 0;if(this.stream.mediaType === h.v.X && (null === (t=y.FM) || void 0 === t?0:t.enabled))if(null === (w=this.stream.mH) || void 0 === w?0:w.length)A=this.stream.mH;else if((t=this.stream.uv.mH,0 < (null === t || void 0 === t?void 0:t.length)))for((A=new Uint8Array(t.length),v=0);v < t.length;v++){A[v]=t[v].zb;}else if(null === (v=z.gw) || void 0 === v?0:v.length)for((A=new Uint8Array(z.gw.length),v=0);v < z.gw.length;v++){A[v]=z.gw[v];}this.stream.qra(z.Hh,z.S,x,z.Ka,z.mM,z.pj,A,z.trackId);this.ND=void 0;}else this.y1=z.y1 || 0;return !!z.kt;};u.prototype.pmb=function(t){this.ND=this.ND?(0,d.jK)(this.ND,t):t;};u.hRb=new l.default.Console("MP4","media|asejs");return u;})(a.iY);b.Lya=a;(0,g.xk)(m.raa,a,!1,!1);(0,g.xk)(r.EventEmitter,a);},96049:function(r,b,a){var k,f,l,d;function c(){}Object.defineProperties(b,{__esModule:{value:!0}});b.saa=void 0;k=a(70655);k.__importDefault(a(29736));a(74005);f=a(44724);r=a(50219);l=a(23563);d=a(6589);a=(function(g){function n(h,m,p,q,u,t,w,v,y,x){var z;z=g.call(this,h,p,q,u,t,m,w,x) || this;(0,f.assert)(q.xj);z.Xac=q.xj;h=v.Eg[0];y=y.track;q=k.__assign(k.__assign({},q),{responseType:0,ob:z.La.ze(h.S).ya,rb:z.$a.ze(h.S).ya,S:h.S});u=new l.pz(u);z.Gt=new d.taa(h,y,q,u,t,z.config,z.console);u.V7=c;u.EG=c;u.DG=c;u.FG=c;u.zM=c;u.yM=c;u.zp=function(){return z.OSb(z.Gt.Jh);};return z;}k.__extends(n,g);Object.defineProperties(n.prototype,{Of:{get:function(){var h;return (null === (h=this.ky) || void 0 === h?void 0:h.Of) || this.Gt.Of;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{dv:{get:function(){var h;return (null === (h=this.ky) || void 0 === h?void 0:h.dv) || this.Gt.dv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Mh:{get:function(){var h;return (null === (h=this.ky) || void 0 === h?void 0:h.Mh) || this.Gt.Mh;},enumerable:!1,configurable:!0}});n.prototype.cVa=function(){return this.Gt.complete;};n.prototype.open=function(){return g.prototype.open.call(this) && this.Gt.open();};n.prototype.abort=function(){return g.prototype.abort.call(this) && this.Gt.abort();};n.prototype.de=function(){g.prototype.de.call(this);this.Gt.de();};n.prototype.GH=function(h){var m;m=0 === this.Gt.B$();return g.prototype.GH.call(this,h) && m;};n.prototype.Ny=function(){g.prototype.Ny.call(this);this.Gt.Ny();};return n;})(r.hY);b.saa=a;},6589:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.taa=void 0;c=a(70655);c.__importDefault(a(29736));k=a(44724);r=(function(f){function l(d,g,n,h,m,p,q){g=f.call(this,d,g,n,h,m,p,q) || this;g.ybb=0;(0,k.assert)(0 === n.responseType);(0,k.assert)(n.xj);g.xj=n.xj;d=d.Qn();g.ybb=d.x8.G;return g;}c.__extends(l,f);return l;})(a(50219).hY);b.taa=r;},6996:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vaa=void 0;c=a(70655);k=a(41427);f=a(95994);r=(function(l){function d(g,n,h,m,p,q,u,t,w,v,y,x,z){void 0 === x && (x=!0);void 0 === z && (z=!0);g=l.call(this,h,w,{index:0,offset:0,Ba:0,ob:p,rb:q,S:m,Tx:x,Ok:z,Yv:y},v) || this;g.WTb=h;g.console=t;g.u=w;f.K && g.console.log(("AsePaddingRequest [").concat(g.mediaType,"], constructed ").concat(g.toString()) + (", ").concat(n.byteLength," bytes") + (", ").concat(g.Is," samples"));g.T7a(n,!0);return g;}c.__extends(d,l);Object.defineProperties(d.prototype,{profile:{get:function(){return this.WTb.profile;},enumerable:!1,configurable:!0}});d.prototype.abort=function(){return !1;};d.prototype.toJSON=function(){var g,n,h,m,p;return {viewableId:k.qn,startPts:null === (g=this.Bb) || void 0 === g?void 0:g.G,endPts:(null === (n=this.Bb) || void 0 === n?void 0:n.G) + (null === (h=this.te) || void 0 === h?void 0:h.G),"contentStartTicks:":this.ob,contentEndTicks:this.rb,contentStartPts:null === (m=this.La) || void 0 === m?void 0:m.G,contentEndPts:null === (p=this.$a) || void 0 === p?void 0:p.G};};d.prototype.toString=function(){return ("[padding c:").concat(this.La.G,"-").concat(this.$a.G,",") + ("p:").concat(this.Bb.G,"-").concat(this.Lb.G,",") + ("d:").concat(this.$a.G - this.La.G,"]");};return d;})(a(60595).Zp);b.vaa=r;},23563:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pz=b.Uya=void 0;c=a(70655);r=(function(){function k(f){this.Go=f;}k.prototype.I$a=function(f){this.Go=f;};k.prototype.Ivb=function(){this.Go=void 0;};k.prototype.QS=function(f){var l,d;null === (d=null === (l=this.Go) || void 0 === l?void 0:l.V7) || void 0 === d?void 0:d.call(l,f);};k.prototype.g4=function(f){var l,d;null === (d=null === (l=this.Go) || void 0 === l?void 0:l.EG) || void 0 === d?void 0:d.call(l,f);};k.prototype.YK=function(f){var l,d;null === (d=null === (l=this.Go) || void 0 === l?void 0:l.DG) || void 0 === d?void 0:d.call(l,f);};k.prototype.RS=function(f,l){var d,g;null === (g=null === (d=this.Go) || void 0 === d?void 0:d.FG) || void 0 === g?void 0:g.call(d,f,l);};k.prototype.AXa=function(f){var l,d;null === (d=null === (l=this.Go) || void 0 === l?void 0:l.tTb) || void 0 === d?void 0:d.call(l,f);};k.prototype.aB=function(f,l){var d,g;null === (g=null === (d=this.Go) || void 0 === d?void 0:d.zp) || void 0 === g?void 0:g.call(d,f,l);};k.prototype.CXa=function(f){var l,d;null === (d=null === (l=this.Go) || void 0 === l?void 0:l.rV) || void 0 === d?void 0:d.call(l,f);};k.prototype.XK=function(f,l,d){var g,n;null === (n=null === (g=this.Go) || void 0 === g?void 0:g.yM) || void 0 === n?void 0:n.call(g,f,l,d);};k.prototype.Hla=function(f,l,d){var g,n;null === (n=null === (g=this.Go) || void 0 === g?void 0:g.zM) || void 0 === n?void 0:n.call(g,f,l,d);};k.prototype.BXa=function(f){var l,d;null === (d=null === (l=this.Go) || void 0 === l?void 0:l.Lra) || void 0 === d?void 0:d.call(l,f);};return k;})();b.Uya=r;r=(function(k){function f(){return null !== k && k.apply(this,arguments) || this;}c.__extends(f,k);return f;})(r);b.pz=r;r.prototype.V7=r.prototype.QS;r.prototype.EG=r.prototype.g4;r.prototype.DG=r.prototype.YK;r.prototype.FG=r.prototype.RS;r.prototype.zp=r.prototype.aB;r.prototype.rV=r.prototype.CXa;r.prototype.yM=r.prototype.XK;r.prototype.tTb=r.prototype.AXa;r.prototype.zM=r.prototype.Hla;r.prototype.Lra=r.prototype.BXa;},78115:function(r,b,a){var c,k,f,l,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.iY=b.Sh=void 0;c=a(70655);k=a(28075);r=a(40885);f=a(44724);a(15163);l=a(68735);d=a(23563);g=a(89872);n=a(91854);(function(h){h[h.VGa=0]="NOTHING_APPENDED";h[h.rD=1]="PARTIAL";h[h.zk=2]="COMPLETE";h[h.Qj=3]="ERROR";})(b.Sh || (b.Sh={}));a=(function(h){function m(p,q,u,t,w,v,y,x){var z;z=h.call(this,p,t) || this;z.zK=q;z.label=u;z.properties=t;z.u=v;z.config=y;z.console=x;z.events=new k.EventEmitter();z.Sa=l.hg.Xt;z.JD=0;z.UD=-Infinity;z.gd=[];z.oua=0;z.I$a(w);z.Sa=l.hg.Xt;z.Xf=p.sT(!!t.Me,t.xj);z.WD=p.location || t.location;z.SQ=p.$b || t.Lc;z.xj=t.xj;z.WTa(q,u,t);return z;}c.__extends(m,h);Object.defineProperties(m.prototype,{Me:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{state:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{W7:{get:function(){return this.Sa >= l.hg.OPENED && this.Sa < l.hg.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{active:{get:function(){return this.Sa >= l.hg.zO && this.Sa < l.hg.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zta:{get:function(){return this.Sa === l.hg.gj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{complete:{get:function(){return this.Sa === l.hg.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{aborted:{get:function(){return this.Sa === l.hg.Xp;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{url:{get:function(){return this.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{status:{get:function(){var p;return (null === (p=this.ky) || void 0 === p?void 0:p.status) || this.gd[0].status;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Of:{get:function(){var p;return null === (p=this.ky) || void 0 === p?void 0:p.Of;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dv:{get:function(){var p;return null === (p=this.ky) || void 0 === p?void 0:p.dv;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Mh:{get:function(){var p;return null === (p=this.ky) || void 0 === p?void 0:p.Mh;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bytesReceived:{get:function(){return this.JD;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Jh:{get:function(){return this.UD;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zna:{get:function(){return this.gd.some(function(p){return p.zna;});},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{location:{get:function(){return this.WD;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Lc:{get:function(){return this.SQ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dab:{get:function(){return this.properties.JW;},enumerable:!1,configurable:!0}});m.prototype.ova=function(p,q){this.WD=p;this.SQ=q;};m.prototype.B$=function(p){var q,u,t;if(this.complete)return 0;q=this.stream;u=q.pa;if(!q.url)return (this.console.warn("updateurl, missing url for streamId:",q.Sb,"mediaRequest:",this,"stream:",q),1);t=q.sT(this.Me,this.xj);if(this.url !== t || p)if((u.ova(this,q.location,q.$b),!this.GH(t)))return (this.console.warn("swapUrl failed: ",this.dv),2);return 0;};m.prototype.Zub=function(p){(0,f.assert)(0 >= this.Ba,"AseRequest.changeSteam is only supported for open range requests");(0,f.assert)(1 <= this.gd.length && void 0 !== this.gd[0].Of,"AseRequest.changeSteam only supported when open range request has failed");(0,f.assert)(this.stream.track === p.track,"AseStream.changeStream cannot change stream to a different track");this.X_b(p);this.B$();};m.prototype.Twa=function(){var u;for(var p,q;this.oua < this.gd.length && (q=this.gd[this.oua]).response;){u=++this.oua === this.gd.length;null === (p=this.T7a) || void 0 === p?void 0:p.call(this,q.response,u);q.Ny();}};m.prototype.WTa=function(p,q,u){0 < u.Ba?u.pG && u.Ba > u.pG?this.QWb(p,q,u,u.pG,u):this.VM(p,q,u,u):this.P6a()?this.VM(p,q,u,u):this.VM(p,q,u,{offset:u.offset,Ba:this.config.BOb});};m.prototype.QWb=function(p,q,u,t,w){var v,y;t=Math.ceil(w.Ba / t);v=w.offset;for(w=w.Ba;0 < w;--t){y=Math.ceil(w / t);this.VM(p,q,u,{offset:v,Ba:y});v+=y;w-=y;}};m.prototype.P6a=function(){return !!this.zK.mgc || this.config.gbb || this.zK.config.type === n.platform.qI.Ya;};m.prototype.VM=function(p,q,u,t){p=new l.dHa(this.stream,this.Xf,p,q,u,t,this,this.u,this.config,this.console);this.gd.push(p);this.state >= l.hg.OPENED && (p.open(),this.state >= l.hg.zk && (this.Sa=l.hg.OPENED,this.QS(this)));};m.prototype.xt=function(p){var q;q=this.gd.indexOf(p);-1 !== q && (this.gd.splice(q,1),(0,f.assert)(this.mc >= p.Ba),this.mc-=p.Ba);};m.prototype.GWa=function(p,q,u,t){this.VM(p,q,u,t);this.mc+=t.Ba;};m.prototype.open=function(){var p;null === (p=this.I0) || void 0 === p?void 0:p.$Sb();if(p=this.gd.every(function(q){return q.open();}))(this.Sa=l.hg.OPENED,this.QS(this));return p;};m.prototype.abort=function(){var p,q;p=this.active;q=this.W7;this.Sa=l.hg.Xp;this.gd.forEach(function(u){return u.abort();});this.XK(this,p,q);return !0;};m.prototype.de=function(){this.gd.forEach(function(p){return p.de();});};m.prototype.GH=function(p){this.Xf=p;return this.gd.map(function(q){return q.GH(p);}).some(function(q){return q;});};m.prototype.$Ib=function(){(0,f.assert)(0 < this.gd.length);return this.gd[0].response;};m.prototype.getResponseHeader=function(p,q){var u;u=null;this.gd.some(function(t){return !!(u=t.getResponseHeader(p,q));});return u;};m.prototype.getAllResponseHeaders=function(p){var q;q=null;this.gd.some(function(u){return !!(q=u.getAllResponseHeaders(p));});return q;};m.prototype.fk=function(){return 1 === this.gd.length?this.gd[0].fk():this.gd[0].fk() + "-" + this.gd[this.gd.length - 1].fk();};m.prototype.V7=function(){};m.prototype.EG=function(p){var q;this.state > l.hg.OPENED || (this.Sa=l.hg.zO,this.UD=Math.max(this.UD,p.Jh),null === (q=this.I0) || void 0 === q?void 0:q.USb(),this.g4(this));};m.prototype.DG=function(p){var q,u,t;if(!(this.state > l.hg.zO))if((this.Kra(p,0),this.Sa=l.hg.gj,null === (q=this.I0) || void 0 === q?void 0:q.QSb(),0 >= this.Ba && !this.P6a())){if((q=p.IGb(),void 0 !== q)){u=this.offset + p.Ba;t=q - u;0 < t && this.VM(p.zK,this.label,this.properties,{offset:u,Ba:t});this.Twa();this.YK(this);this.zM(p,q,this.Ba);}else this.YJb(p);}else (this.Twa(),this.YK(this));};m.prototype.YJb=function(p){this.ETa=(this.ETa || 0) + 1;1 >= this.ETa && (this.xt(p),p.abort(),this.WTa(p.zK,this.label,this.properties));};m.prototype.FG=function(p,q){this.Kra(p,q);this.RS(this,q);};m.prototype.zp=function(p,q){var u,t;u=this;this.state > l.hg.gj || (this.Kra(p,q),this.Twa(),this.gd.every(function(w){return w.complete && u.cVa();})?(this.Sa=l.hg.zk,null === (t=this.I0) || void 0 === t?void 0:t.AG(),this.aB(this,q),this.de()):this.RS(this,q));};m.prototype.Lra=function(){this.BXa(this);};m.prototype.rV=function(p){this.console.warn("AseRequest.onrequesterror:",this.toString());this.ky=p;this.CXa(this);};m.prototype.yM=function(){var p,q;if(this.state !== l.hg.Xp){this.console.warn("AseRequest.onrequestaborted:",this.toString());p=this.active;q=this.W7;this.Sa=l.hg.Xp;this.XK(this,p,q);}};m.prototype.zM=function(p,q,u){this.mc+=q - u;p={type:"updatedBytes",zRb:q,Nra:u};this.events.emit(p.type,p);this.Hla(this,q,u);};m.prototype.Kra=function(p,q){this.ky === p && (this.ky=void 0);this.UD=Math.max(this.UD,p.Jh);this.JD+=q;};m.prototype.cVa=function(){return !0;};m.prototype.OSb=function(p){var q;this.state > l.hg.gj || (this.UD=Math.max(this.UD,p),this.gd.every(function(u){return u.complete;}) && (this.Sa=l.hg.zk,null === (q=this.I0) || void 0 === q?void 0:q.AG(),this.aB(this,0),this.de()));};return m;})(g.lI);b.iY=a;(0,r.xk)(d.Uya,a,!1);},57591:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.zaa=void 0;c=a(70655);k=a(73101);f=a(30067);l=a(70950);d=a(44724);g=a(37481);n=c.__importDefault(a(29736));h=a(60595);r=(function(){function m(p,q,u){var t,w,v;this.Y=q;this.V=u;this.pq=p.track;this.a1=p.Ft;this.uv=p.uv;this.Inb=this.mediaType !== k.v.Ya?this.DU.hi:!1;this.Bpb=p.N2b;this.SD=this.Ra=void 0;q=p.Qq;this.Qq=void 0 === q?!0:q;this.n3=p.n3;this.sJ=void 0;this.qOa=this.Iea=0;this.url=this.AW=this.$b=this.Ct=this.vpa=this.location=this.qb=this.Wb=void 0;this.nB=!1;this.Uoa=this.Ze=void 0;this.eQ=new Set();q=(p=this.Y) && "object" === typeof p.D8 && p.D8[this.profile];"object" === typeof q && (q=q[this.bitrate]) && (this.bpb=new l.N(q.ticks,q.timescale));this.pob=0 <= (null === (t=p.kRa) || void 0 === t?void 0:t.indexOf(this.profile));if((null === (w=p.FM) || void 0 === w?0:w.Ecc) && this.mediaType === k.v.X && (t=this.uv,0 < (null === (v=t.mH) || void 0 === v?void 0:v.length))){v=t.mH.splice(0,t.mH.length);t=new Uint8Array(v.length);for(w=0;w < v.length;w++){t[w]=v[w].zb;}this.mH=t;}}Object.defineProperties(m.prototype,{gk:{get:function(){return this.ha?!!this.SD:!!this.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{c1a:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pa:{get:function(){return this.pq.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{J:{get:function(){return this.pa.J;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{O:{get:function(){return this.pq.O;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mediaType:{get:function(){return this.pq.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ca:{get:function(){return this.pq.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{S:{get:function(){return this.pq.S;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{vG:{get:function(){return this.pq.vG;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{trackId:{get:function(){return this.pq.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{track:{get:function(){return this.pq;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{DU:{get:function(){if(this.mediaType !== k.v.Ya)return this.uv;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ft:{get:function(){return this.a1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Sb:{get:function(){var p;return this.mediaType === k.v.Ya?null !== (p=this.Bpb) && void 0 !== p?p:"":this.DU.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{id:{get:function(){return this.Sb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{hi:{get:function(){return this.Inb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ha:{get:function(){return this.track.ha;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bitrate:{get:function(){return this.mediaType === k.v.Ya?0:this.DU.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zb:{get:function(){var p;if(this.I3)return this.I3;if(this.mediaType === k.v.X)return null !== (p=this.uv.vmaf) && void 0 !== p?p:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{QYb:{get:function(){if(this.mediaType === k.v.X)return this.uv.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{d9:{get:function(){if(this.mediaType === k.v.X)return this.uv.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{profile:{get:function(){return this.mediaType === k.v.Ya?"timedtext":this.DU.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Md:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{uk:{get:function(){if(this.mediaType === k.v.X)return this.uv.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Rf:{get:function(){return this.bpb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{h5:{get:function(){return this.pob;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ka:{get:function(){return this.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wv:{get:function(){return this.Ra && this.Ra.wv;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fv:{get:function(){return void 0 !== this.sJ?this.sJ:this.jNb();},set:function(p){this.sJ=p;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$F:{get:function(){return this.Qq && !this.nB;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Hh:{get:function(){return this.SD;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{CMb:{get:function(){return this.mediaType === k.v.fa || this.mediaType === k.v.X && (-1 !== this.Md.indexOf("h264bpl") || -1 !== this.Md.indexOf("h264mpl") || -1 !== this.Md.indexOf("hevc") && -1 === this.Md.indexOf("do"));},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{uMb:{get:function(){(0,d.assert)(!!this.Ka,"Initial header should have been received already");return this.pa.uoa() && -1 < this.Md.indexOf("h264mpl") && void 0 === this.Ka.Rga;},enumerable:!1,configurable:!0}});m.prototype.yF=function(){return this.pa.yF(this.mediaType,this.Sb);};m.prototype.vHb=function(){var p;p=this.yF();return p && p.stream.Ka;};m.prototype.XH=function(p,q){return this.pa.XH(this,p,q);};m.prototype.rra=function(){this.track.rra();};m.prototype.O7=function(){this.track.O7();};m.prototype.qra=function(p,q,u,t,w,v,y,x){this.ha || t && void 0 !== t.ur && (this.track.gk || void 0 !== t.hf && t.hf.length) && void 0 !== t.offset && void 0 !== t.sizes && t.sizes.length?(!this.ha && this.Y.Bm && this.Rf && 0 === t.ur && (t.ur+=this.Rf.ze(t.S).ya),this.gk || (this.SD=p,this.track.qra(this,q,u,t,v,x),this.ha || (this.Ra=new f.KLa(this.a1,this.track.ro,t,w,v,y,this.O)),this.track.SSb(this))):this.ha || (t?this.V.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== t.ur) + "," + this.track.gk + "," + this.track.Ssa + "," + (void 0 !== t.hf) + "," + !(!t.hf || !t.hf.length) + "," + (void 0 !== t.offset) + "," + (void 0 !== t.sizes) + "," + !(!t.sizes || !t.sizes.length)):this.V.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};m.prototype.Jwb=function(p){this.gk || (this.track.Kwb(p.track),this.Ra=p.Ka,this.SD=p.Hh);};m.prototype.Pn=function(p){return new h.Zp(this,void 0,this.Ka.get(p));};m.prototype.IYa=function(p){var q;q=this.Pn(p.index);p.Ha && (q.wi(p.Ha),q.AN(p.Yv));return q;};m.prototype.x4b=function(p,q){this.Iea=p;this.qOa=q;};m.prototype.Lvb=function(){this.qb=this.Wb=this.$b=this.location=this.url=void 0;};m.prototype.Sm=function(){return this.mediaType === k.v.fa?this.iGb():this.NJb();};m.prototype.sT=function(p,q,u){var t,w,v;return this.ha?(u=null === (t=u || this.url) || void 0 === t?void 0:t.split("?"),t=null !== (w=null === u || void 0 === u?void 0:u[0]) && void 0 !== w?w:"",w=null !== (v=null === u || void 0 === u?void 0:u[1]) && void 0 !== v?v:"",p?p=this.Qn().VLb:(void 0 === q && this.V.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,d.assert)(void 0 !== q,"liveSegmentId is required for live media requests"),p=this.Qn().media.replace("$Number$",q.toString())),t + "/" + p + (w?"?" + w:"")):u || this.url;};m.prototype.Qn=function(){var p,q;(0,d.assert)(this.ha && this.pa.W.wj,"liveMetadata missing from manifest");p=this.pa.W.wj;p=p.Uua[p.fka[this.Sb]];q=new Date(p.c2).getTime();return c.__assign(c.__assign({},p),{Aha:q,BUa:Math.max(0,this.pa.Dt - q - this.Y.t6),IN:Number(p.IN),x8:new l.N(Number(p.VVb),p.S),te:new l.N(p.duration,p.S)});};m.prototype.fUb=function(p){var q,u,t,w,v,y,x,z,A,B;u=!1;if(!p)return u;p.split(";").some(function(C){if(0 === C.indexOf("sc="))return (t=C.slice(3),!0);});if(!t)return u;u=!0;p=this.Y.OUa;this.pa.AOb() && (p=Math.max(p,this.Y.PUa));if(n.default.time.Ga() - this.pa.x2a < p)return u;(0,d.assert)(null === (q=this.pa.W.AA) || void 0 === q?void 0:q.Dp,"Missing pbcid for OC side channel message decryption.");q=new g.wea(this.pa.W.AA.Dp).decrypt(t,!0);try{w=JSON.parse(q);v=w.time;y=Number(v);isNaN(y)?this.V.error(("Invalid live server time in OC side channel message. time:").concat(v)):this.pa.Dt=y;x=w["live-msg-start"];z=w["live-msg-end"];void 0 !== x && isNaN(new Date(x).getTime()) || void 0 !== z && isNaN(new Date(z).getTime())?this.V.error("Invalid live event times in OC side channel message. " + ("live-msg-start:").concat(x,", live-msg-end:").concat(z)):this.pa.Qcb(x,z);A=w["encoder-tag"];B=w["encoder-region"];A && B || this.V.error("Invalid encoder info in OC side channel message. " + ("encoder-tag:").concat(A,", encoder-region:").concat(B));this.pa.F4b(this.mediaType,{UA:A,TA:B});this.pa.x2a=n.default.time.Ga();}catch(C){this.V.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage:").concat(q));}return u;};m.prototype.fta=function(p){return !this.eQ.has(p);};m.prototype.yqb=function(p){this.eQ.has(p)?this.V.trace("segment already blocked: " + p):(this.V.trace("addBlockedLiveSegment: " + p),this.eQ.add(p));};m.prototype.aYb=function(p){this.eQ.has(p) && (this.V.trace("removeBlockedSegment: " + p),this.eQ.delete(p));};m.prototype.toJSON=function(){return {movieId:this.O,mediaType:this.mediaType,streamId:this.Sb,bitrate:this.bitrate,streamIndex:this.Ft,isAvailable:this.Qq,fittable:this.fv,vmaf:this.zb,resolutionWidth:this.QYb,resolutionHeight:this.d9};};m.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Sb + ":" + this.bitrate;};m.prototype.jNb=function(){var p,q,u,t,w,v,y;if(!this.gk)return !0;if(this.track.Jna >= this.bitrate)return this.sJ=!0;if(this.track.j3a <= this.bitrate)return this.sJ=!1;(y=this.ha?this.Y.T6 * this.bitrate / 8 * (this.Y.TB + (null !== (q=null === (p=this.pa) || void 0 === p?void 0:p.vH.G) && void 0 !== q?q:0)) < this.Iea:this.Ra.lub(this.Y.TB,this.Iea,null !== (t=null === (u=this.pa) || void 0 === u?void 0:u.vH.G) && void 0 !== t?t:0,null !== (v=null === (w=this.pa) || void 0 === w?void 0:w.vH.Ba) && void 0 !== v?v:0,this.qOa))?this.track.Ssa && !this.hi && this.track.Ql || (this.track.Jna=this.bitrate):this.track.j3a=this.bitrate;return this.sJ=y;};m.prototype.NJb=function(){return c.__assign(c.__assign({},this.track.Sm()),{profile:this.Md});};m.prototype.iGb=function(){return c.__assign(c.__assign({},this.track.Sm()),{profile:this.Md,bitrate:this.bitrate});};return m;})();b.zaa=r;},89872:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.lI=void 0;a(44724);r=(function(){function c(k,f){c.ioa(this,k,f);}c.ioa=function(k,f,l){k.Fd=f;k.mc=l.Ba;k.Hb=l.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Fd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Ba:{get:function(){return this.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Hb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{pa:{get:function(){return this.Fd.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{O:{get:function(){return this.Fd.O;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Fd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Sb:{get:function(){return this.Fd.Sb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Fd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Fd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{S:{get:function(){return this.Fd.S;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{vG:{get:function(){return this.Fd.vG;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ca:{get:function(){return this.Fd.ca;},enumerable:!1,configurable:!0}});c.prototype.X_b=function(k){this.Fd=k;};return c;})();b.lI=r;},29584:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qz=void 0;r=a(40885);a=a(57772);c=(function(){function k(f,l){this.ax=f;this.lJ=l.ob;this.wu=l.rb;}Object.defineProperties(k.prototype,{ob:{get:function(){return void 0 !== this.lJ?this.lJ:this.ax.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{rb:{get:function(){return void 0 !== this.wu?this.wu:this.ax.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{S:{get:function(){return this.ax.S;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{dn:{get:function(){return this.ax.dn;},enumerable:!1,configurable:!0}});k.prototype.EW=function(f){this.wu=f;};k.prototype.Fia=function(){this.wu=void 0;};return k;})();b.qz=c;(0,r.xk)(a.lw,c);},57772:function(r,b,a){var f;function c(l,d){return void 0 === l?void 0:0 === l?f.N.Ia:new f.N(l,d);}function k(l,d){return void 0 === l || void 0 === d?void 0:l + d;}Object.defineProperties(b,{__esModule:{value:!0}});b.lw=void 0;f=a(70950);r=(function(){function l(){}Object.defineProperties(l.prototype,{PA:{get:function(){var d,g;d=this.rb;g=this.ob;return (void 0 === d || void 0 === g?void 0:d - g) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{aVb:{get:function(){return k(this.ob,this.dn);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{XUb:{get:function(){return k(this.rb,this.dn);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{te:{get:function(){return c(this.PA,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{La:{get:function(){return c(this.ob,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{$a:{get:function(){return c(this.rb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Bb:{get:function(){return c(this.aVb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Lb:{get:function(){return c(this.XUb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jta:{get:function(){return c(this.dn,this.S);},enumerable:!1,configurable:!0}});return l;})();b.lw=r;},34684:function(r,b,a){var c,k,f,l,d,g,n,h,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.mI=void 0;c=a(70655);k=a(73101);f=a(94475);l=a(70950);d=a(44724);g=a(74005);n=a(78281);h=a(60482);m=a(61276);p=a(57591);r=(function(){function q(u,t,w){this.Y=t;this.V=w;this.Ww=new g.nLa();this.O0=0;this.ao=u.ao;this.pa=u.pa;this.mediaType=u.mediaType;this.TH=u.TH;this.oE=u.oE;this.mediaType === k.v.X?(t=this.ao,w=c.__read(t.streams,1)[0],this.mpb=new m.$I({w:t.maxWidth,Lq:t.maxHeight},{w:t.psa,Lq:t.qsa}),void 0 !== w.framerate_value && void 0 !== w.framerate_scale && (this.gfa=h.ZI.from({jt:w.framerate_value,Bs:w.framerate_scale}),this.Ffa=this.gfa.ca()),void 0 !== t.jqa && void 0 !== t.iqa && (this.Wnb=h.ZI.from({jt:t.jqa,Bs:t.iqa}))):this.mediaType === k.v.fa && (this.Dmb=this.ao.streams[0].channels,this.npb=48E3);this.fb=(this.tJ=this.Ffa) && this.tJ.S;this.mediaType === k.v.Ya && (this.fb=1E3);this.lfa=this.MOa=!1;this.Jna=-Infinity;this.j3a=Infinity;u=q.Omb(this,u.lp);t=u.maxBitrate;w=u.Eg;this.Ql=u.Ql;this.maxBitrate=t;this.Eg=w;this.Apb=w.reduce(function(v,y){v[y.Sb]=y;return v;},{});!1;}q.Omb=function(u,t){var w,v,y,x,z,A,B;w=u.Y;v=u.mediaType === k.v.X;y=!1;x=0;z=[];if(u.mediaType === k.v.fa || u.mediaType === k.v.X){A=u.ao;B=A.streams.some(function(C){return C.hi;});A.streams.forEach(function(C,D){var F,G,E;F=C.bitrate;G=!0;if(v){E=C.hi;G=t?!0:E === B;y=y || E;}G && F > x && (x=F);C=new p.zaa({uv:C,Ft:D,track:u,Qq:G},w,u.V);z.push(C);});}else u.mediaType === k.v.Ya && (A=u.ao,A=new p.zaa({uv:A.ttDownloadables["imsc1.1"],Ft:0,track:u,Qq:!0,N2b:A.downloadableIds["imsc1.1"]},w,u.V),z.push(A));return {Ql:y,maxBitrate:x,Eg:z};};Object.defineProperties(q.prototype,{YU:{get:function(){return !this.gk && 0 === this.O0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gk:{get:function(){var u;return this.mediaType === k.v.Ya?!0:this.ha?!(null === (u=this.Ww.value) || void 0 === u || !u.gk):!!this.ro && !!this.Ww.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ssa:{get:function(){return this.MOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{O:{get:function(){return String(this.pa.O);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === k.v.Ya?this.ao.id:this.ao.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$q:{get:function(){return this.kob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ca:{get:function(){return this.tJ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.gfa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{I6:{get:function(){return this.Wnb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$k:{get:function(){return this.mpb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.Dmb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.npb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === k.v.Ya?this.ao.rawTrackType:this.ao.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{OW:{get:function(){return this.mediaType === k.v.Ya?this.ao.rawTrackType:this.ao.OW;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{S:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{vG:{get:function(){return this.job;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ro:{get:function(){return this.Gc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{TF:{get:function(){return this.Ww.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ula:{get:function(){return this.Ww;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{MU:{get:function(){return this.Eg.some(function(u){var t;return 1 < ((null === (t=u.Hh) || void 0 === t?void 0:t.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ha:{get:function(){return this.pa.ha;},enumerable:!1,configurable:!0}});q.prototype.$ma=function(u){return this.IF()[u];};q.prototype.IF=function(){return this.Apb;};q.prototype.equals=function(u){return !!u && this.O === u.O && this.mediaType === u.mediaType && this.trackId === u.trackId;};q.prototype.rra=function(){this.O0++;};q.prototype.O7=function(){0 < this.O0 && this.O0--;};q.prototype.qra=function(u,t,w,v,y,x){if(this.ha || v && void 0 !== v.ur && (this.gk || void 0 !== v.hf && v.hf.length)){if(u.hi || !u.track.Ql)this.MOa=!0;if(this.gk)!this.lfa && !this.ha && v.hf && v.hf.length > this.ro.length && (this.Gc=new f.nea(this.mediaType,this.ca,v,y),this.Ww.m9a(),this.Jna=-Infinity,this.lfa=!0);else {this.mPa(t);this.kob=x;if(w=w || this.Ffa)(this.lPa(w || this.Ffa),void 0 === this.S && this.nPa(w.S));this.ha || (this.Gc=new f.nea(this.mediaType,this.ca,v,y));if(u.hi || !u.track.Ql)this.lfa=!0;}}else this.ha || this.V && this.V.error("AseTrack.onHeaderReceived with missing fragments data");};q.prototype.SSb=function(u){void 0 === this.Ww.value && this.Ww.set(u);};q.prototype.Kwb=function(u){this.gk || (this.nPa(u.S),this.mPa(u.vG),this.lPa(u.ca),this.Gc=u.ro,u.ula.value?this.Ww.set(u.ula.value):this.Ww.m9a());};q.prototype.Hs=function(u,t,w,v){var y;(0,d.assert)(this.TF);y=this.TF;this.ha && (t=Math.min(t,this.eB().G));return (0,n.Hs)(this.mediaType,u,y,t,w,v);};q.prototype.UK=function(u,t,w){var v,y,x,z,A;(0,d.assert)(this.TF);y=this.TF;if(this.ha){x=this.pa.W.wj;z=null === x || void 0 === x?void 0:x.L3;A=void 0;if(z)A=new Date(z).getTime();else if(z=this.pa.M2a.endTime)(A=new Date(z).getTime() + this.Y.zOb,t=Infinity);Infinity === t && void 0 !== A && (t=y.Qn().Aha,x=null !== (v=null === x || void 0 === x?void 0:x.K3) && void 0 !== v?v:0,t=A - t + x);}return (0,n.UK)(this.mediaType,u,y,t,w);};q.prototype.Sm=function(){var u;if(this.mediaType === k.v.fa){(0,d.assert)(this.mediaType === k.v.fa);(0,d.assert)(void 0 !== this.channels);(0,d.assert)(void 0 !== this.sampleRate);u={channels:this.channels,profile:this.profile,OW:this.OW,bitrate:this.Eg[this.Eg.length - 1].bitrate,sampleRate:this.sampleRate,$q:this.$q};}else ((0,d.assert)(this.mediaType === k.v.X),(0,d.assert)(void 0 !== this.I6),(0,d.assert)(void 0 !== this.$k),u={J:this.pa.J,Ql:this.Ql,profile:this.profile,tFb:this.I6.jt,sFb:this.I6.Bs,OW:this.OW,$k:this.$k,maxWidth:this.$k.$k.w,maxHeight:this.$k.$k.Lq,psa:this.$k.q6a.w,qsa:this.$k.q6a.Lq,$q:this.$q});return u;};q.prototype.toJSON=function(){return {movieId:this.O,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.eB=function(){(0,d.assert)(this.ha,"Unexpected call to getLiveEdgeTargetTimestamp. Not a live track.");return l.N.Ma(Math.max(0,this.wYa() - this.Y.sU));};q.prototype.gZa=function(u){(0,d.assert)(this.ha,"Unexpected call to getLiveModeForContentTimestamp. Not a live track.");return this.wYa() - u.G > 1E3 * this.pa.Tk.KOb?"DVR":"LIVE";};q.prototype.wYa=function(){var u;(0,d.assert)(this.ha,"Unexpected call to getCushionedLiveEdgeMs. Not a live track.");return (null !== (u=this.TF) && void 0 !== u?u:this.Eg[0]).Qn().BUa;};q.prototype.nPa=function(u){this.fb=u;};q.prototype.mPa=function(u){this.job=u;};q.prototype.lPa=function(u){this.tJ=u;this.mediaType === k.v.X && (this.gfa=h.ZI.AFb(u));};return q;})();b.mI=r;},55757:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Aaa=void 0;c=a(70655);a(86393);c.__importDefault(a(29736));a(44724);r=a(40885);k=a(60595);a=(function(f){function l(d,g,n,h,m,p,q,u){var t;t=c.__assign(c.__assign({},n),{offset:n.offset,Ba:n.Hqa + 8,pG:void 0,responseType:0});h=f.call(this,d,g,"moof",t,h,m,p,q) || this;k.Zp.va(h,d,m,n,u);h.mQb=h.oub(n,t.Ba);h.GWa(g,"mdat",n,h.mQb);return h;}c.__extends(l,f);l.prototype.oub=function(d,g){var n;g={offset:d.offset + g,Ba:d.Ba - g};if(this.Ha){if(0 < this.Ha.start){n=this.hXa(this.Ha.start);n && (g.offset=d.offset + n,g.Ba=d.Ba - n);}this.Ha.end < this.Is && (n=this.hXa(this.Ha.end)) && (g.Ba-=d.Ba - n);}return g;};l.prototype.toString=function(){return "ID: " + this.fk() + ":" + f.prototype.toString.call(this);};return l;})(a(78115).iY);b.Aaa=a;(0,r.xk)(k.Zp,a);},61360:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aza=void 0;c=a(4145);r=(function(){function k(f){this.config=f;}k.prototype.BWb=function(f){var l,d,g;l=this.config;d=[];g=[];f.forEach(function(q,u){void 0 === q.zb?g.push(u):d.push(u);});if(0 !== g.length)for(var n=-1,h=-1,m=function(q){var u,t,w,v,y,x;u=g[q];t=f[u];if(0 === q || u !== g[q - 1] + 1)(n=d[(0,c.iha)(d,function(z){return z < u;})] || -1,h=d[(0,c.ps)(d,function(z){return z > u;})] || -1);w=0;v=l.eQb;q=0;y=l.fQb;-1 < h && (v=f[h].bitrate,y=f[h].zb);-1 < n && (q=f[n].zb,w=f[n].bitrate);v=Math.log(v);w=0 === w?0:Math.log(w);x=Math.log(t.bitrate);t.I3=Math.max(0,Math.min(110,Math.round((q * (v - x) + y * (x - w)) / (v - w) * 100) / 100));},p=0;p < g.length;p++){m(p);}};return k;})();b.aza=r;},89383:function(r,b,a){var f,l,d,g,n,h,m;function c(p){return p && "function" === typeof p.Jg?!0:!1;}function k(p){return c(p) && (p=typeof p.BMb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.ngb=b.KDb=b.AMb=b.cfb=b.AsyncIterator=void 0;f=a(70655);l=a(95994);g=(function(){function p(q){var u;u=this;this.Anb=q;this.xQ=!1;this.$ob=function(t){return u.tWb(t);};this.RTa();}p.a6=function(q,u){function t(){var w;w=q.next();w.then(function(v){k(q) && q.BMb || u(v);});w.then(function(v){return !v.done && t();});}t();};Object.defineProperties(p.prototype,{gy:{get:function(){return this.xQ;},enumerable:!1,configurable:!0}});p.fHb=function(){return new n([]);};p.ena=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{GL:{get:function(){return this.Vr || !1;},enumerable:!1,configurable:!0}});p.prototype.Jg=function(){this.cancel();};p.prototype.cancel=function(){this.IOa();this.Vr=!0;return this.Hea;};p.prototype.next=function(){return this.Vr?this.Hea:Promise.race([this.Hea,this.Anb()]).then(this.$ob);};p.prototype.tWb=function(q){q.done && (this.xQ=!0,this.Jg());this.GL || (this.IOa(),this.RTa());return q;};p.prototype.RTa=function(){var q;q=this;this.Hea=new Promise(function(u){q.IOa=function(){u({done:!0});};});};return p;})();b.AsyncIterator=g;n=(function(p){function q(u){var t;t=p.call(this,function(){return t.jIb();}) || this;t.uE=u;t.index=0;return t;}f.__extends(q,p);q.prototype.Jg=function(){c(this.uE) && this.uE.Jg();p.prototype.Jg.call(this);};q.prototype.jIb=function(){return this.uE.length > this.index?Promise.resolve({value:this.uE[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(g);b.cfb=n;b.AMb=c;b.KDb=k;h=(function(p){function q(u,t,w){var v;v=p.call(this,function(){return v.Qqa();}) || this;v.console=t;v.Gk=w;v.bta=!1;Array.isArray(u)?v.DQ=new n(u):v.DQ=u;return v;}f.__extends(q,p);q.prototype.vWb=function(u){var t;this.bta=!1;t=this.console;l.K && t && t.trace("CompoundIterator: processNextOuterIterator");if(u.done)return u;u=u.value;if(this.vJ)return (c(u) && u.Jg(),g.ena());Array.isArray(u)?this.Gk=new n(u):this.Gk=u;return this.Qqa();};q.prototype.uWb=function(u){var t;t=this.console;l.K && t && t.trace("CompoundIterator: processNextInnerResult",this.vJ,u.done);if(!u.done || this.vJ)return u;this.Gk=void 0;return this.Qqa();};q.prototype.Jg=function(){var u;u=this.console;l.K && u && u.trace("CompoundIterator: dispose");this.vJ=!0;p.prototype.Jg.call(this);c(this.DQ) && this.DQ.Jg();c(this.Gk) && this.Gk.Jg();};q.prototype.toString=function(){return ("CompoundIterator ").concat(this.vJ," ").concat(this.DQ," ").concat(this.Gk);};q.prototype.Qqa=function(){var u,t;u=this;t=this.console;l.K && t && t.trace("CompoundIterator: nextImpl");if(this.Gk)return (l.K && t && t.trace("CompoundIterator: getNextInner"),this.Gk.next().then(function(w){return u.uWb(w);}));this.bta=!0;l.K && t && t.trace("CompoundIterator: getNextOuter");return this.DQ.next().then(function(w){return u.vWb(w);});};return q;})(g);b.ngb=h;b.map=function(p,q,u){return new m(p,q,u);};m=(function(p){function q(u,t,w){var v;v=p.call(this,function(){return v.rnb();}) || this;v.source=u;v.Upa=t;v.Yia=w;return v;}f.__extends(q,p);q.prototype.Jg=function(){c(this.source) && this.source.Jg();p.prototype.Jg.call(this);};q.prototype.rnb=function(){var u,t,w;u=this.Yia;t=this.Upa;w=this.source;l.K && u && u.trace("MappedIterator: Requesting next");return w.next().then(function(v){return v.done?v:t(v.value);});};return q;})(g);b.flatten=function(p,q,u){return new h(p,q,u);};},24705:function(r,b,a){var f,l,d,g,n,h,m,p;function c(q,u){return q.done?q:{value:{value:q.value,IPa:u}};}function k(q){q.IPa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.Tsb=b.flb=b.PC=void 0;f=a(70655);r=a(28075);l=a(89383);d=a(95994);g=f.__importDefault(a(29736));n=a(74005);h=a(44724);a=a(40885);m=(function(){function q(u,t){this.console=u;this.Uf=t;this.nob=this.mQ=0;this.jg=[];this.console=(0,n.Kh)(g.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{QAb:{get:function(){return this.mQ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nTa:{get:function(){var u,t,w;for(t=0;t < this.jg.length;t++){w=this.jg[t];if(!w.aU || (null === (u=w.item) || void 0 === u?0:u.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gy:{get:function(){return 0 === this.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{bua:{get:function(){var u;for(u=0;u < this.jg.length && this.jg[u].Ooa;u++){;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var u;u=f.__read(this.jg,1)[0];return (u=u && u.item) && !u.done && u.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rqa:{get:function(){var u;for(u=0;u < this.jg.length && this.jg[u].aU;u++){;}return u;},enumerable:!1,configurable:!0}});q.prototype.iF=function(){var u;if(void 0 === this.Uf){u=this.console;d.K && u && u.trace("QueueIterator: enqueueEnd");this.dxa(this.Rqa - (this.Uf || 0));}};q.prototype.yr=function(){return this.jg.map(function(u){return u.item;});};q.prototype.qX=function(){this.wf || (this.wf=this.jg.filter(function(u){return (null === u || void 0 === u?void 0:u.item) && !u.item.done;}).map(function(u){return u.item.value;}));return this.wf;};q.prototype.dxa=function(u){var t;d.K && this.console.trace("updateCount",{Tec:this.Uf,Hn:u});if(void 0 !== this.Uf){t=this.jg[this.Uf];t && this.ooa(t);}this.Uf=void 0 === this.Uf?u:void 0 === u?u:this.Uf + u;void 0 !== this.Uf && (this.Uf=Math.max(0,this.Uf),(t=this.jg[this.Uf]) && t.bG.resolve({done:!0}));};q.prototype.enqueue=function(u){var t;d.K && this.console.trace("Enqueue called");t=this.Rqa;this.w2();return this.JWb(t,{value:u,done:!1}).dVa.promise;};q.prototype.k9a=function(){d.K && this.console.trace("resetEnd");this.dxa(void 0);};q.prototype.clear=function(u){var t,w,v;d.K && this.console.trace("clear");this.hta();t=this.bua;w=this.jg.length - t;if(0 < w){v={index:t,hra:w};d.K && this.console.trace("Removing items",v);this.jg.splice(t,w);this.w2();this.emit("onRemoved",v);}for(w=1;w < t;w++){this.ooa(this.jg[w]);}this.Uf=void 0;this.dxa(u?u + t:u);this.mQ && (this.mQ=0);};q.prototype.getIterator=function(){var u,t;u=this;t=(0,n.Kh)(g.default,this.console,"QueueIteratorInstance::");return new p(this,function(w){return u.uZa(w);},t);};q.prototype.PAb=function(){var u;if(0 < this.bua){u=f.__read(this.jg,1)[0];u.aU && (d.K && this.console.trace("dequeue",u.id),this.hta(1),this.emit("onDequeue",u.bG.promise));}};q.prototype.remove=function(u){var t,w,v;for(t=0;t < this.jg.length;t++){w=this.jg[t];v=w.item;if(v && !v.done && v.value === u){this.jg.splice(t,1);this.Uf && this.Uf > t && this.Uf--;this.w2();d.K && this.console.trace("removed",{id:w.id});this.emit("onRemoved",{index:t,hra:1});break;}}};q.prototype.hta=function(u){var t;u=u || Math.min(this.bua,this.Rqa);if(0 < u){t=this.jg.splice(0,u);this.w2();this.Uf && (this.Uf-=u);d.K && this.console.trace("pruned",u);Promise.resolve().then(function(){t.forEach(function(w){w.dVa.resolve();});});this.emit("onRemoved",{index:0,hra:u});this.mQ+=u;}};q.prototype.uZa=function(u){var t;d.K && this.console.trace("getNextItemCalled",{offset:u});if(void 0 === this.count || 0 < this.count){this.C0a(u);t=this.jg[u];t.GYb.resolve();u=t.bG.promise;d.K && this.console.trace("getNextItem:return",{id:t.id});}else (d.K && this.console.trace("getNextItem:returnDone"),u=Promise.resolve({done:!0}));return u;};q.prototype.JWb=function(u,t){var w;w=!t.done && t.value;w=w && w.toJSON?w.toJSON():w;d.K && this.console.trace("Providing result",{Rrb:u,item:w});this.C0a(u);u=this.jg[u];w=u.bG.resolve;w(t);return u;};q.prototype.C0a=function(u){var t;if(void 0 === this.jg[u]){t={};this.ooa(t);this.jg[u]=t;u === this.Uf && t.bG.resolve({done:!0});d.K && this.console.trace("Item initialized",{Rrb:u});}};q.prototype.qja=function(u){var t;t={};t.promise=new Promise(function(w,v){t.resolve=function(y){w(y);u && u(y);};t.reject=v;});return t;};q.prototype.ooa=function(u){var t;t=this;u.bG=this.qja(function(w){u.item=w;u.aU=!0;d.K && t.console.trace("Item resolved",{id:u.id});});u.id && u.Ooa && !u.aU && (u.bG.resolve({done:!0}),d.K && this.console.warn("Overwriting requested queue item",u.id));u.dVa=this.qja();u.GYb=this.qja(function(){u.Ooa=!0;d.K && t.console.trace("Item requested",{id:u.id});});u.id=this.nob++;u.Ooa=!1;u.aU=!1;u.item=void 0;};q.prototype.w2=function(){this.wf=void 0;};q.prototype.Tla=function(){var u,t,w;u=this;t=(0,n.Kh)(g.default,this.console,"QueueIteratorInstance::");w=new p(this,function(v){var y,x;if(0 === u.count)return l.AsyncIterator.ena();y=u.uZa(v);x=u.jg[0];return y.then(function(z){return c(z,function(){w.GL || (x === u.jg[0]?u.PAb():(0,h.assert)(!u.jg.filter(function(A){return A.bG.promise === y;}).length,"Out of order acknowledgements are not supported"));});});},t);return w;};return q;})();b.PC=m;(0,a.xk)(r.EventEmitter,m);p=(function(q){function u(t,w,v){var y;y=q.call(this,function(){d.K && y.console.trace("Next item requested",{index:y.index});return y.hZb(y.index++);}) || this;y.parent=t;y.hZb=w;y.console=v;y.vJ=!1;y.index=0;y.sfa=!1;y.N5a=function(x){var z;z=x.index;x=x.hra;y.index >= z && (y.index=Math.max(z,y.index - x));z=y.console;d.K && z && z.trace("QueueIteratorInstance: onRemoved modified",y.index);};return y;}f.__extends(u,q);u.prototype.Jg=function(){this.console.trace("disposed");this.vJ=!0;this.de();q.prototype.Jg.call(this);};u.prototype.next=function(){this.GL || this.noa();return q.prototype.next.call(this);};u.prototype.cancel=function(){this.de();return q.prototype.cancel.call(this);};u.prototype.de=function(){this.parent.ar("onRemoved",this.N5a);this.sfa=!1;};u.prototype.noa=function(){this.sfa || (this.sfa=!0,this.parent.on("onRemoved",this.N5a));};return u;})(l.AsyncIterator);b.flb=p;b.Tsb=function(q){return (0,l.map)(q,k);};},39223:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Dza=void 0;c=a(70655);k=a(89383);f=a(95994);r=(function(){function l(d,g,n){this.V=d;this.xmb=g;this.Be=n;this.l0=0;this.G0=!1;this.bQ=[];this.MD=void 0;f.K && d.trace(("BranchRequestIterator [").concat(this.Be,"]: created"));}Object.defineProperties(l.prototype,{Hzb:{get:function(){return this.l0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{V2:{get:function(){return this.wNa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ii:{get:function(){return this.G0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{yUa:{get:function(){return this.Gk?this.Gk.gy?"Complete":this.Gk.bta?"WaitingForBranch":void 0 !== this.MD && 0 !== this.MD?("In Policy ").concat(this.bQ[this.MD].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.kOa);},enumerable:!1,configurable:!0}});l.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,g,n,h;return c.__generator(this,function(m){switch(m.label){case 0:d=this.Gk;if(!d)return [3,6];this.MD=void 0;return [4,d.next()];case 1:(g=m.Qa(),n=0,m.label=2);case 2:if(!(n < this.bQ.length))return [3,5];this.MD=n;h=this.bQ[n];return [4,h.process(g)];case 3:(g=m.Qa(),m.label=4);case 4:return (n++,[3,2]);case 5:this.MD=void 0;if(g.done || this.Gk !== d)return [2,{done:!0}];this.l0++;g.value.IPa();return [2,{done:!1,value:g.value.value}];case 6:return [2,k.AsyncIterator.ena()];}});});};l.prototype.YYb=function(){this.Gab();this.pXb();};l.prototype.Gab=function(){var d;if(this.Gk){this.kOa=this.yUa;d=this.Gk;d && d.Jg();this.bQ.forEach(function(g){return g.reset();});d && f.K && this.V.trace(("BranchRequestIterator [").concat(this.Be,"]: Disposing iterator that was on branch "),this.V2 && this.V2.u.id);this.G0=!1;this.MD=this.Gk=void 0;}};l.prototype.x1=function(d){this.bQ.push(d);};l.prototype.pXb=function(){var d,g,n,h;d=this;if(!this.G0){g=this.V;n=this.xmb;h=this.Be;this.l0=0;this.kOa=this.wNa=void 0;this.Gk=(0,k.flatten)((0,k.map)(n.eJb(),function(m){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.wNa=m,this.l0=0,f.K && g.trace(("BranchRequestIterator [").concat(this.Be,"]: new branch ").concat(m.u.id)),[4,m.hB(h)]);case 1:if(p=q.Qa())return [2,{value:p}];f.K && g.error(("BranchRequestIterator [").concat(this.Be,"]: skipping branch ").concat(m.u.id));return [2,{value:[]}];}});});},g),g);this.G0=!0;}};return l;})();b.Dza=r;},35806:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p){return p === d.v.X?0:p === d.v.fa?1:p === d.v.Ya?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.Maa=b.uz=b.wjb=b.aI=void 0;k=a(70655);f=a(28075);l=a(95994);d=a(47571);g=k.__importDefault(a(29736));n=a(74005);h=a(44724);b.aI=function(p,q){p=c(p.mediaType);q=c(q.mediaType);return p - q;};b.wjb={aI:b.aI};(function(p){p[p.Xt=0]="CREATED";p[p.IO=1]="CANCELLED";})(m=b.uz || (b.uz={}));r=(function(){function p(q,u,t,w,v){this.Hi=q;this.PNa=u;this.uu=t;this.Vm=w;this.Sa=m.Xt;this.IJ=[];this.events=new f.EventEmitter();q=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,n.Kh)(g.default,v,q);}Object.defineProperties(p.prototype,{state:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Zf:{get:function(){return this.Sa === m.IO;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{u:{get:function(){return this.Hi;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Wd:{get:function(){return this.IJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{parent:{get:function(){var q;return null === (q=this.PNa) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});p.prototype.va=function(){return k.__awaiter(this,void 0,void 0,function(){var q,u,t;t=this;return k.__generator(this,function(){if(q=this.parent)(q.Lb && (u=q.Lb.wa(this.Vm),this.cw(u,"init from parent")),q.rO.then(function(){var w;if(!t.Zf){w=t.parent;(0,h.assert)(w,"Parent is undefined after parent normalization");w.Lb && (w=w.Lb.wa(t.Vm),t.cw(w,"parent normalization"));}}));return [2];});});};p.prototype.cw=function(q,u){void 0 === u && (u="unknown");l.K && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.G) + (" from ").concat(this.uu.G,".  ").concat(u));this.uu=q;};p.prototype.zZa=function(q){var t;if(!this.Zf)for(var u=this.parent;u;){t=u.CF(q);if(t)return t;u=u.parent;}};p.prototype.Jf=function(){this.PNa=void 0;};p.prototype.g5=function(q){return this.Wd.some(function(u){return u.mediaType === q;});};return p;})();b.Maa=r;},2631:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y;Object.defineProperties(b,{__esModule:{value:!0}});b.Bza=b.uz=void 0;c=a(70655);k=a(65519);f=a(47571);l=a(74005);d=a(70950);r=a(57772);g=a(40885);n=a(44724);h=a(40572);m=a(44105);p=a(95994);q=a(28035);u=a(53597);t=a(45465);w=a(35806);v=a(36183);(function(x){x[x.Xt=0]="CREATED";x[x.IO=1]="CANCELLED";})(y=b.uz || (b.uz={}));a=(function(x){function z(A,B,C,D,F,G,E,J,L,N,I,O,K){B=x.call(this,D,L,E,G,B) || this;B.Y=A;B.BV=C;B.YYa=F;B.ifa=J;B.fQ=N;B.cx=I;B.cI=O;B.wl=K;B.ov=new m.zP();B.Zta=0;B.wb=void 0;B.$y=void 0;B.yp=new l.yz();B.B5=new l.yz();B.sra=B.NLb();return B;}c.__extends(z,x);Object.defineProperties(z.prototype,{Wd:{get:function(){var A;this.Sn && 0 === (null === (A=this.IJ) || void 0 === A?void 0:A.length) && this.YYa && (p.K && this.console.trace("Branch getting initial tracks"),this.IJ=this.YYa(this.pa).sort(w.aI),p.K && this.console.trace("Branch got initial tracks:",this.IJ));return this.IJ;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{RJ:{get:function(){return this.Zh?this.Ns().every(function(A){return A.cf.RJ;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{CQa:{get:function(){return this.Ns().some(function(A){return A.zrb;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Pk:{get:function(){var A;return !(null === (A=this.dd) || void 0 === A || !A.Pk);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Zh:{get:function(){var A;return !(null === (A=this.dd) || void 0 === A || !A.Zh);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{pA:{get:function(){var A,B;return null !== (B=null === (A=this.dd) || void 0 === A?void 0:A.pA) && void 0 !== B?B:0;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ug:{get:function(){var A;return !(null === (A=this.dd) || void 0 === A || !A.Ug);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{rO:{get:function(){return this.yp.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Sn:{get:function(){var A;return !(null === (A=this.cI) || void 0 === A || !A.pa);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{f5:{get:function(){return !!this.Wd.length && this.Wd.every(function(A){return A.gk;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{pa:{get:function(){(0,n.assert)(this.cI.pa,"viewable should be available");return this.cI.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{S:{get:function(){var A;return (null === (A=this.dd) || void 0 === A?void 0:A.S) || this.Vm.S;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ob:{get:function(){var A,B;return null !== (B=null === (A=this.dd) || void 0 === A?void 0:A.ob) && void 0 !== B?B:this.Vm.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{rb:{get:function(){var A,B;return null !== (B=null === (A=this.dd) || void 0 === A?void 0:A.rb) && void 0 !== B?B:this.u.Nf.ze(this.Vm.S).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{dn:{get:function(){var A,B;return null !== (B=null === (A=this.dd) || void 0 === A?void 0:A.dn) && void 0 !== B?B:this.se.ze(this.S).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{fy:{get:function(){var A,B,C;return null !== (B=null === (A=this.dd) || void 0 === A?void 0:A.fy) && void 0 !== B?B:null === (C=this.Vm) || void 0 === C?void 0:C.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{VK:{get:function(){var A,B;B=null === (A=this.u.u.Eq) || void 0 === A?void 0:A[0];return B && this.La?d.N.Ma(Math.max(0,B[0] - this.La.G - this.u.Ud.G)):d.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{er:{get:function(){var A,B;return null !== (B=null === (A=this.dd) || void 0 === A?void 0:A.er) && void 0 !== B?B:this.u.Ud.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{SG:{get:function(){var A,B;return null !== (B=null === (A=this.dd) || void 0 === A?void 0:A.SG) && void 0 !== B?B:this.u.Nf.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{p6:{get:function(){var A;return null === (A=this.dd) || void 0 === A?void 0:A.p6;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{se:{get:function(){var A,B;return null !== (B=null === (A=this.dd) || void 0 === A?void 0:A.se) && void 0 !== B?B:this.uu;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Br:{get:function(){var A,B;return null !== (B=null === (A=this.dd) || void 0 === A?void 0:A.Br) && void 0 !== B?B:this.u.Nf.wa(this.Vm || this.u.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Jl:{get:function(){var A;return null === (A=this.dd) || void 0 === A?void 0:A.Jl;},enumerable:!1,configurable:!0}});z.prototype.va=function(){return c.__awaiter(this,void 0,void 0,function(){var A,B,C;C=this;return c.__generator(this,function(D){switch(D.label){case 0:x.prototype.va.call(this);if(this.Zf)return [2];p.K && this.console.log(("AseBranch {").concat(this.u.id,"} awaiting viewable"));return [4,this.cI.va(this)];case 1:D.Qa();p.K && this.console.log(("AseBranch {").concat(this.u.id,"} viewable available, branch ").concat(this.Zf?"cancelled":"active"));if(this.Zf)return [2];A=this.Wd.map(function(F){var G;return null === (G=C.parent) || void 0 === G?void 0:G.rL(F.mediaType);});this.x$a(this.Vm);this.Wd.some(function(F){F.mediaType === f.v.Ya && C.M$a(F);});return [4,this.TWa()];case 2:return (D.Qa(),p.K && this.console.log(("AseBranch {").concat(this.u.id,"} have headers")),this.Zf?[2]:(B=this.parent)?[4,B.rO]:[3,4]);case 3:D.Qa();if(this.Zf)return [2];this.Oyb(A);D.label=4;case 4:return (this.normalize(),[2]);}});});};z.prototype.Oyb=function(A){var B;B=this;this.ov.forEach(function(C){var D,F;F=null === (D=B.parent) || void 0 === D?void 0:D.rL(C.mediaType);(0,n.assert)(F,"Parent state should be defined");-1 === (null === A || void 0 === A?void 0:A.indexOf(F)) && (C.fl.ye.Pa(),D=new h.fea(function(){var G;return null === (G=B.parent) || void 0 === G?void 0:G.rL(C.mediaType);}),C.fl.ye=D);F=void 0;});A=void 0;};z.prototype.TWa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.f5?this.B5.resolve():(this.pa.events.on("onHeaderFragments",this.sra),this.events.emit("needsRequest"));return [2,this.B5.promise];});});};z.prototype.NLb=function(){var A;A=this;return function(){!A.Zf && A.f5 && (A.pa.events.ar("onHeaderFragments",A.sra),A.B5.resolve());};};z.prototype.normalize=function(){this.Zf || (this.dd=new v.jHa(this,this.Y,this.console,this.pa,this.BV,this.Hi,this.Vm,this.ov.items,this.uu,this.ifa,this.fQ,this.events,this.cx,this.wl),this.qka(this.dd.NA),this.yp.resolve(this.dd));};z.prototype.fN=function(){var A;null === (A=this.dd) || void 0 === A?void 0:A.fN();};z.prototype.update=function(A){var B;this.Hi=A;(null === (B=this.dd) || void 0 === B?0:B.update(A)) && this.qka(!0);};z.prototype.cw=function(A,B){var C;void 0 === B && (B="unknown");x.prototype.cw.call(this,A,B);null === (C=this.dd) || void 0 === C?void 0:C.cw(A);};z.prototype.hB=function(A){return c.__awaiter(this,void 0,void 0,function(){var B;return c.__generator(this,function(C){switch(C.label){case 0:return [4,this.yp];case 1:return (B=C.Qa(),[2,null === B || void 0 === B?void 0:B.hB(A)]);}});});};z.prototype.reset=function(){var A;null === (A=this.dd) || void 0 === A?void 0:A.reset();};z.prototype.Jf=function(A){var B;void 0 === A && (A="other");x.prototype.Jf.call(this,A);this.Sa=y.IO;this.Sn && this.pa.events.ar("onHeaderFragments",this.sra);null === (B=this.dd) || void 0 === B?void 0:B.Jf(A);this.ov.forEach(function(C){C.cancel();C.fl.ye.Pa();});this.cI.Pa();this.$y && (this.$y.removeAllListeners(),p.K && this.console.trace("AseBranch destroying textRequestQueue:",this.$y),k.WC.instance.j3(this.$y),this.$y=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:A});this.events.removeAllListeners();};z.prototype.H5=function(A){var B;return !(null === (B=this.dd) || void 0 === B || !B.H5(A));};z.prototype.bf=function(A){var B;return null === (B=this.dd) || void 0 === B?void 0:B.bf(A);};z.prototype.g5=function(A){return this.Wd.some(function(B){return B.mediaType === A;});};z.prototype.Ns=function(A){var B,C;void 0 === A && (A=w.aI);return null !== (C=null === (B=this.dd) || void 0 === B?void 0:B.Ns(A)) && void 0 !== C?C:[];};z.prototype.rL=function(A){var B,C;return (null === (B=this.bf(A)) || void 0 === B?void 0:B.fl.ye) || (null === (C=this.ov.get(A)) || void 0 === C?void 0:C.fl.ye);};z.prototype.G4=function(){var A,B,C,D;A=this;if(!this.f5)return this.ov.items;D=null !== (C=null === (B=this.dd) || void 0 === B?void 0:B.G4()) && void 0 !== C?C:[];this.wb && D.some(function(F){if(F.mediaType === f.v.X)return (F.b2=A.wb,p.K && A.console.trace("Branch setting auxiliaryTrack:",A.wb),!0);});return D;};z.prototype.CF=function(A){var B;return (null === (B=this.dd) || void 0 === B?void 0:B.CF(A)) || this.ov.get(A);};z.prototype.On=function(A,B){var C;return (null === (C=this.dd) || void 0 === C?void 0:C.On(A,B)) || 0;};z.prototype.aL=function(){var A;return (null === (A=this.dd) || void 0 === A?void 0:A.aL()) || ({});};z.prototype.$S=function(A){var B;return (null === (B=this.dd) || void 0 === B?void 0:B.$S(A)) || this.fy.G;};z.prototype.Wy=function(A,B,C){return c.__awaiter(this,void 0,void 0,function(){var D,F,G,E,J;J=this;return c.__generator(this,function(L){switch(L.label){case 0:p.K && this.console.trace("Branch.setTracks:",A);this.IJ=A.sort(w.aI);this.x$a(B);if(!this.Ug)return [3,4];(0,n.assert)(this.dd);D=this.ov.filter(function(N){return N.track.gk;}).items;F=this.dd.Tcb(D,B,C);G=F.jS;E=F.NA;G && this.qka(E);if(this.f5)return [3,4];this.B5=new l.yz();this.yp=new l.yz();p.K && this.console.log(("AseBranch {").concat(this.u.id,"} setTracks waiting for headers"));return [4,this.TWa()];case 1:return (L.Qa(),this.Zf?[2]:this.parent?[4,this.parent.rO]:[3,3]);case 2:(L.Qa(),L.label=3);case 3:(this.dd.Tcb(this.ov.items,B,C),p.K && this.console.log(("AseBranch {").concat(this.u.id,"} setTracks pipelines updated")),this.yp.resolve(this.dd),this.events.emit("needsRequest"),L.label=4);case 4:return (A.some(function(N){if(N.mediaType === f.v.Ya)return (J.M$a(N),!0);}),[2]);}});});};z.prototype.M$a=function(A){var B;B=this;this.wb=A;this.$y || (this.$y=(0,u.Ix)(f.v.Ya,this.pa,this.Y,this.console,!0,function(C){B.BV.emit("transportReport",C);},function(){},function(C,D){return B.console.error("Handled text streaming error",{failure:C,code:D});}),p.K && this.console.trace("AseBranch created textRequestQueue:",this.$y));};z.prototype.g_a=function(){return this.wb;};z.prototype.x$a=function(A){var B;B=this;this.Zta=0;this.ov=new m.zP(this.Wd.filter(function(C){return C.mediaType !== f.v.Ya;}).map(function(C){var D;D=B.ov.find(function(F){return F.track === C;});D || (++B.Zta,D=new t.BDa(B,C,function(){var F;return null !== (F=null === A || void 0 === A?void 0:A.add(B.se)) && void 0 !== F?F:d.N.Ia;},null !== A && void 0 !== A?A:d.N.Ia,B.Y,B.console,function(){var F;return null === (F=B.parent) || void 0 === F?void 0:F.rL(C.mediaType);},B.BV,function(){0 === --B.Zta && B.events.emit("requestQueuesCreated");}));return D;}));};z.prototype.uo=function(A){var B;return (null === (B=this.dd) || void 0 === B?void 0:B.uo(A)) || [];};z.prototype.kK=function(A){var B;return !(null === (B=this.dd) || void 0 === B || !B.kK(A));};z.prototype.u4=function(A){return this.dd?this.dd.u4(A):d.N.Ia;};z.prototype.v$=function(A){var B;return !(null === (B=this.dd) || void 0 === B || !B.v$(A));};z.prototype.qka=function(A){A={type:"branchNormalized",segmentContentStart:this.u.Ud,branchContentStart:this.La,branchContentEnd:this.$a,didNormalizeSegment:A};this.events.emit(A.type,A);p.K && this.console.trace("branchNormalized:",A);};z.prototype.toJSON=function(){var A;return (null === (A=this.dd) || void 0 === A?void 0:A.toJSON()) || ({});};return z=c.__decorate([q.qF],z);})(w.Maa);b.Bza=a;(0,g.xk)(r.lw,a);},45465:function(r,b,a){var c,k,f,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.BDa=void 0;c=a(53597);k=a(65519);f=a(47571);l=a(40572);d=a(1119);g=a(44724);r=(function(){function n(h,m,p,q,u,t,w,v,y){this.yb=h;this.track=m;this.u1b=p;this.o1b=q;this.config=u;this.console=t;this.events=v;this.jTb=y;this.$B=0;this.v7a=this.Zh=!1;this.fl=this.mzb(w);}Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{I:{get:function(){return this.yb.u.id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Yg:{get:function(){return this.yb.Yg;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{W9:{get:function(){return this.u1b();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Jl:{get:function(){return this.W9;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{CC:{get:function(){return this.W9;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Sab:{get:function(){return this.o1b;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{VK:{get:function(){return this.yb.VK;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Cj:{get:function(){return this.oe || (this.oe=this.Ix());},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Pk:{get:function(){return !this.track.YU;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{dsa:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.DB=function(){return this.track.YU;};n.prototype.Vs=function(){return this.track.gk;};n.prototype.Ug=function(){return !1;};n.prototype.QYa=function(){return {Ka:[],b8:0,cr:0,cN:0};};n.prototype.B3b=function(){var h;(0,g.assert)(this.Vs());h=this.Cj;this.oe=void 0;return h;};n.prototype.pcb=function(h){return (h=h.XH(this.yb.u,this.Cj))?{Ih:h,reason:"success"}:{Ih:h,reason:"pipelineTryIssueHeaderRequest"};};n.prototype.cancel=function(){this.oe && (this.yb.pa.ZQ(this.mediaType,this.oe),k.WC.instance.j3(this.oe),this.oe.removeAllListeners(),this.oe=void 0);};n.prototype.x1a=function(){var h,m,p;p=this.config.jo;if(null === (h=this.Cj) || void 0 === h?0:h.track)p=null === (m=this.Cj) || void 0 === m?void 0:m.track.jo;return p;};n.prototype.nT=function(){return this.yb.zZa(this.mediaType);};n.prototype.mzb=function(h){var m,p,q;m=this.mediaType === f.v.fa?this.config.Msb:this.track.ha?this.config.JOb:this.config.Qab;h=new l.fea(h);h.c0b(this.track);p=this.config;q=this.mediaType;return new d.LLa(m,this.config,h,p.B3 || q === f.v.fa && p.y3 || q === f.v.X && p.z3);};n.prototype.Ix=function(){var h,m;h=this;m=(0,c.Ix)(this.mediaType,this.track.pa,this.config,this.console,this.track.ha,function(p){return h.events.emit("transportReport",p);},function(p){return h.events.emit("mediaRequestComplete",p);},function(){});m.on("created",this.jTb);return m;};return n;})();b.BDa=r;},36183:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v;function c(y,x){return (y.mediaType === g.v.X?0:1) - (x.mediaType === g.v.X?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.jHa=b.Tkb=void 0;k=a(70655);f=a(28376);l=a(23563);d=a(89383);g=a(47571);n=a(81581);h=a(74005);m=a(4145);p=a(44724);q=a(70950);u=k.__importDefault(a(29736));r=a(57772);t=a(40885);w=a(44105);v=a(58260);b.Tkb={aI:c};a=(function(y){function x(z,A,B,C,D,F,G,E,J,L,N,I,O,K){var H,M;M=y.call(this,C) || this;M.yb=z;M.Y=A;M.pa=C;M.BV=D;M.Hi=F;M.uu=J;M.ifa=L;M.fQ=N;M.events=I;M.cx=O;M.wl=K;M.kj=new w.zP([]);M.Vr=!1;M.dOa=0;M.sNa=M.JSb.bind(M);(0,p.assert)(C.J === M.u.J || isNaN(C.J) && isNaN(M.u.J));z=F.id && F.id.length?"{" + F.id + "}":"";M.console=(0,h.Kh)(u.default,B,z);M.Vm=null !== G && void 0 !== G?G:M.u.Ud;B=M.parent;M.HOa=null === B || void 0 === B?void 0:B.Lb;null === (H=M.fQ) || void 0 === H?void 0:H.addListener(M.sNa);E=M.$Ta(E,M.Vm,!!B).NA;M.NA=E;return M;}k.__extends(x,y);Object.defineProperties(x.prototype,{Zf:{get:function(){return this.Vr;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{u:{get:function(){return this.Hi;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Pk:{get:function(){return this.kj.every(function(z){return z.Pk;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Zh:{get:function(){return this.kj.every(function(z){return z.Zh;});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{pA:{get:function(){return this.Ns().reduce(function(z,A){return z + A.pA;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ug:{get:function(){return this.Ns().every(function(z){return z.Ug();});},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Wd:{get:function(){return this.yb.Wd;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{S:{get:function(){return this.IQ.S;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ob:{get:function(){return this.IQ.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{rb:{get:function(){return this.IQ.rb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{dn:{get:function(){return this.se.ze(this.S).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{fy:{get:function(){return this.Vm.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{er:{get:function(){return this.u.Ud.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{SG:{get:function(){return this.u.Nf.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{p6:{get:function(){return this.kj.reduce(function(z,A){return z && A.Lb?q.N.max(z,A.Lb):A.Lb?A.Lb:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Jl:{get:function(){return this.kj.reduce(function(z,A){A=A.Jl;return z && A?q.N.max(z,A):z || A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Br:{get:function(){return this.IQ.Br;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{se:{get:function(){return this.uu;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{parent:{get:function(){return this.yb.parent;},enumerable:!1,configurable:!0}});x.prototype.Tcb=function(z,A,B){var C;void 0 === A && (A=null !== (C=this.La) && void 0 !== C?C:this.Vm);return this.$Ta(z,A,B);};x.prototype.fN=function(){var z,A,B,C;if(this.$D){B=this.Hi;C=k.__read(this.$D.fN(B,B.Nf),2);B=C[0];C=C[1];(0,p.assert)(B && C,"branch.renormalize: lastFragment should be defined");null === (z=this.bf(g.v.fa)) || void 0 === z?void 0:z.truncate(B);null === (A=this.bf(g.v.X)) || void 0 === A?void 0:A.truncate(C);this.events.emit("branchEdited",{type:"branchEdited"});}};x.prototype.update=function(z){var A;A=z.Nf.Yqa(this.Hi.Nf);this.Hi=z;return A && this.$D?(this.fN(),!0):!1;};x.prototype.cw=function(z){this.se.equal(z) || (this.uu=z,this.events.emit("branchEdited",{type:"branchEdited"}));};x.prototype.hB=function(z){return k.__awaiter(this,void 0,void 0,function(){var A;return k.__generator(this,function(B){switch(B.label){case 0:return [4,Promise.resolve()];case 1:return (B.Qa(),(A=this.bf(z))?[2,A.hB()]:[2,d.AsyncIterator.fHb()]);}});});};x.prototype.$Q=function(){this.kj.forEach(function(z){return z.$Q();});};x.prototype.reset=function(){this.kj.forEach(function(z){z.reset();});};x.prototype.Jf=function(z){var A,B;this.Vr || (this.Vr=!0,null === (A=this.$D) || void 0 === A?void 0:A.de(),this.$D=void 0,this.kj.forEach(function(C){C.Jf("aborted" === z);}),null === (B=this.fQ) || void 0 === B?void 0:B.removeListener(this.sNa));};x.prototype.H5=function(){return !0;};x.prototype.bf=function(z){return this.kj.get(z);};x.prototype.Ns=function(z){void 0 === z && (z=c);return this.kj.items.slice().sort(z);};x.prototype.G4=function(){return this.kj.items;};x.prototype.CF=function(z){return this.bf(z);};x.prototype.On=function(z,A){z=this.bf(z);if(!z)return 0;if(A)return z.Z8;A=z.UR;if(void 0 === A)return 0;z=this.ifa();return A - z;};x.prototype.aL=function(){var z,A,B,C,D,F,G;G=null === (z=this.bf(g.v.fa)) || void 0 === z?void 0:z.D2;z=null === (A=this.bf(g.v.X)) || void 0 === A?void 0:A.D2;return {J$:null !== (B=null === z || void 0 === z?void 0:z.G) && void 0 !== B?B:0,q1:null !== (C=null === G || void 0 === G?void 0:G.G) && void 0 !== C?C:0,EX:null !== (D=null === z || void 0 === z?void 0:z.Ba) && void 0 !== D?D:0,bR:null !== (F=null === G || void 0 === G?void 0:G.Ba) && void 0 !== F?F:0};};x.prototype.$S=function(z){var A;return (z=this.bf(z))?null !== (A=z.UR) && void 0 !== A?A:0:0;};x.prototype.uo=function(z){z=this.bf(z);return (null === z || void 0 === z?void 0:z.uo()) || [];};x.prototype.JSb=function(z){z=z.newValue;(0,g.Un)(z) && this.ZD();};x.prototype.kK=function(z){return this.kj.every(function(A){return A.kK(z);});};x.prototype.u4=function(z){var A,B;return null !== (B=null === (A=this.kj.get(z)) || void 0 === A?void 0:A.Jzb) && void 0 !== B?B:q.N.Ia;};x.prototype.v$=function(z){var A,B,C;A=this.IQ.ONb;if(!A)return !1;z=(0,m.yc)(z,function(D){return A.G <= D.La.G;});if(!z)return !1;B=z.La;z=!1;C=k.__read((0,v.Pta)(this.Y,this.kj,B),2);B=C[0];if(C=C[1])(this.bf(g.v.X).truncate(C),z=!0);B && (this.bf(g.v.fa).truncate(B),z=!0);z && (B={type:"branchEdited"},this.events.emit(B.type,B));return z;};x.prototype.zp=function(z,A){this.Vr || ((0,p.assert)(!z.Me),this.ZD(),this.events.emit("requestComplete",{type:"requestComplete",yb:this.yb}),this.Zh && this.Gob());this.aB(z,A);};x.prototype.FG=function(z,A){this.Y.hWa && this.ZD(!0);this.RS(z,A);};x.prototype.DG=function(z){this.Y.hWa && this.ZD(!0);this.YK(z);};x.prototype.$Ta=function(z,A,B){var C,D,F;C=this;D=new w.zP();F=!1;z.forEach(function(G){var E;E=C.kj.find(function(J){return J.track === G.track;});void 0 === E?(F=!0,E=new f.PIa(C,C.Y,C.console,C.BV,C.yb,G.track,A,G.fl,!0,G.B3b(),C.cx,C.wl),C.YLb(E)):(C.kj.remove(E),E.$Q());D.add(E);});this.kj.forEach(function(G){return G.Jf();});this.kj=D;return F?this.normalize(A,B):{jS:!1,NA:!1};};x.prototype.YLb=function(z){var A;A=this;z.events.on("lastRequestIssued",function(){return A.Pk && A.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});};x.prototype.normalize=function(z,A){var B;null === (B=this.$D) || void 0 === B?void 0:B.de();this.$D=new n.QIa({console:this.console,config:this.Y,pa:this.pa,u:this.u,eC:this.kj,La:z,$a:this.u.Nf,splice:A});this.IQ=this.kj.Tsa;A=this.$D.normalize();z=A.jS;A=A.NA;z && this.HOa && (this.uu=this.HOa.wa(this.La));return {jS:z,NA:A};};x.prototype.v0b=function(z){var A;return (0,g.Un)((null === (A=this.fQ) || void 0 === A?void 0:A.value) || g.Wc.rm) && (!z || this.dOa + this.Y.zqa < u.default.time.Ga());};x.prototype.ZD=function(z){void 0 === z && (z=!1);this.v0b(z) && (this.dOa=u.default.time.Ga(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};x.prototype.Gob=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};x.prototype.toJSON=function(){var z,A,B;return {segment:this.u.id,branchOffset:null === (z=this.se) || void 0 === z?void 0:z.G,viewableId:this.Hi.J,contentStartPts:null === (A=this.La) || void 0 === A?void 0:A.G,contentEndPts:null === (B=this.$a) || void 0 === B?void 0:B.G};};return x;})(l.pz);b.jHa=a;(0,t.xk)(r.lw,a);},32018:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A;function c(B){return function(){return ("[").concat(B,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.UHa=b.uz=void 0;k=a(70655);f=a(86393);l=a(41427);d=a(34684);g=a(47571);n=a(70950);r=a(57772);h=a(6996);m=a(40885);p=a(24705);q=a(44724);u=a(31925);t=a(74005);w=k.__importDefault(a(29736));v=a(60482);y=a(61276);x=a(95994);z=a(28035);a=a(35806);(function(B){B[B.Xt=0]="CREATED";B[B.IO=1]="CANCELLED";})(A=b.uz || (b.uz={}));a=(function(B){function C(D,F,G,E,J,L){D=B.call(this,F,E,G,n.N.Ia,(0,t.Kh)(w.default,D,"AsePadding")) || this;D.pa=J;D.config=L;D.bI=new p.PC(D.console);D.tA=new p.PC(D.console);D.yp=new t.yz();D.console.trace(("PaddingBranch {").concat(F.id,"}: created"));return D;}k.__extends(C,B);C.prototype.ryb=function(D){return k.__awaiter(this,void 0,void 0,function(){var F,G,E,J,L,N,I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,U,Z,Q,ka,P;return k.__generator(this,function(fa){switch(fa.label){case 0:return [4,this.$Vb()];case 1:F=fa.Qa();G=F.Rf;E=F.vd;J=F.bitrate;L=F.$q;N=u.K_.instance();I=N.mJb(E,J,L);O=new n.N(I.duration);K=new n.N(I.ca);H=K.S;M=I.profile;R=I.bitrate;Y=I.channels;ea={c1a:!0,mediaType:g.v.fa,Md:M,profile:M,S:H,Hh:[{af:0,data:I.va}],ca:K,Rf:G,pa:this.pa,bitrate:R,Sb:("").concat(l.qn),track:{trackId:"1",mediaType:g.v.fa,Ql:!1,ca:K,pa:this.pa,channels:Y,sampleRate:48E3,profile:M,Eg:[],$q:L,toString:c(g.v.fa)},toJSON:function(){return {mediaType:ea.mediaType,Sb:ea.Sb,bitrate:ea.bitrate};}};ea.Sm=ea.track.Sm=d.mI.prototype.Sm.bind(ea.track);ea.track.Eg.push(ea);ca=(0,t.Kh)(w.default,this.console,"[0]");this.tA=new p.PC(ca);oa=new n.N(I.ca);Ga=this.config.Bm?G:n.N.Ia;Fa=Ga.add(O);x.K && ca.trace(("PaddingBranch: audio target duration is ").concat(D.mb()));Ja=n.N.Ia;Xa=this.config.Bm?-Math.ceil(G.Oi(K)):0;U=Ga;for(Z=!0;U.lessThan(D);){U=U.add(O);U.greaterThan(D) && (cb=O.Oi(oa) - Math.floor(U.wa(D).Oi(oa)));Q=U.gi(D);ka=Z?0:Q?D.G:void 0;P=new h.vaa(I.va,I.ka,ea,H,Ga.ze(H).ya,Fa.ze(H).ya,oa,ca,this.u,this.cYa.bind(this,H,Ja),ka,Z,Q);P.wi({start:Xa,end:cb});x.K && ca.log(("PaddingBranch: enqueing request ").concat(P,", edit: ").concat(JSON.stringify({start:Xa,end:cb}),", ") + ("offset ").concat(Ja.mb()));this.tA.enqueue(P);Ja=Ja.add(O);Xa=void 0;Z=!1;}this.tA.iF();return [2];}});});};C.prototype.xzb=function(){var D,F,G;return k.__awaiter(this,void 0,void 0,function(){var E,J,L,N,I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,U,Z,Q,ka,P,fa,ua,pa,Ra,Pa;return k.__generator(this,function(db){switch(db.label){case 0:return [4,this.bWb()];case 1:E=db.Qa();J=E.profile;L=E.ox;N=E.$q;I=u.K_.instance();O=null === (G=null === (F=null === (D=this.parent) || void 0 === D?void 0:D.bf(g.v.X)) || void 0 === F?void 0:F.track.ca) || void 0 === G?void 0:G.u8a();(0,q.assert)(O,"padding branches should always have a frameRate");K=I.nJb(this.pa.S5b,J,O,L,N);H=new n.N(K.duration);M=K.profile;R=K.bitrate;Y=K.width;ea=K.height;ca=K.Uc;oa=K.Vc;Ga=K.ca.S;Fa=new n.N(K.ca);Ja=new v.ZI(Ga,K.ca.ya);Xa={c1a:!0,mediaType:g.v.X,Md:M,profile:M,S:Ga,Hh:[{af:0,data:K.va}],Sb:("").concat(l.qn),ca:Fa,pa:this.pa,bitrate:R,track:{trackId:"1",mediaType:g.v.X,Ql:!1,ca:Fa,frameRate:Ja,I6:Ja,$k:new y.$I({w:Y,Lq:ea},{w:ca,Lq:oa}),pa:this.pa,profile:M,Eg:[],$q:N,toString:c(g.v.X)},toJSON:function(){return {mediaType:Xa.mediaType,Sb:Xa.Sb,bitrate:Xa.bitrate};}};Xa.Sm=Xa.track.Sm=d.mI.prototype.Sm.bind(Xa.track);cb=new f.Or(this.console,Xa,K.va,["moov"],!0,{u9a:!0,Yra:!0});U={ca:Fa};Z=cb.parse(U);(0,q.assert)(Z.kt,"Failed to parse padding fragment header");(0,q.assert)(Z.Hh,"Failed to get initialization segments from padding fragment header");Xa.Hh=Z.Hh;x.K && this.console.trace(("PaddingBranch {").concat(this.u.id,"}: video queue"),Xa);Xa.track.Eg.push(Xa);Q=(0,t.Kh)(w.default,this.console,"[1]");ka=Math.ceil(this.lqa.Oi(H));P=H.zv(ka);fa=this.u.Ud;ua=fa.add(P).ze(this.S);x.K && Q.trace(("PaddingBranch: ").concat(ka," fragments of ").concat(H.mb(),", ") + ("duration ").concat(P.mb(),", ") + ("c: ").concat(fa.mb(),"-").concat(ua.mb(),", "));this.u.normalize(fa,ua,[]);for(pa=n.N.Ia;pa.lessThan(P);){Ra=pa.add(H);Pa=new h.vaa(K.va,K.ka,Xa,Ga,0,H.ze(Ga).ya,Fa,Q,this.u,this.cYa.bind(this,Ga,pa),void 0,pa.equal(n.N.Ia),Ra.gi(P));x.K && Q.trace(("PaddingBranch: appended ").concat(Pa));this.bI.enqueue(Pa);pa=Ra;}this.bI.iF();this.y5b=P;return [2,{duration:P}];}});});};Object.defineProperties(C.prototype,{Pk:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Zh:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{pA:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Ug:{get:function(){return this.yp.lua;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{rO:{get:function(){return this.yp.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Sn:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{S:{get:function(){return this.u.Ud.S;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ob:{get:function(){return this.u.Ud.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{rb:{get:function(){return this.u.Nf.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{dn:{get:function(){return this.se.ze(this.S).ya;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{fy:{get:function(){return this.u.Ud.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{VK:{get:function(){(0,q.assert)(!this.u.u.Eq,"exit zone not supported for padding segments");return n.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{RJ:{get:function(){return this.tA && this.bI?this.tA.gy && this.bI.gy:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{CQa:{get:function(){return !(!this.tA && !this.bI);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{er:{get:function(){return this.u.Ud.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{SG:{get:function(){return this.u.Nf.add(this.se);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{p6:{get:function(){return this.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Jl:{get:function(){return this.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{se:{get:function(){return this.uu;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{lqa:{get:function(){var D;return null !== (D=this.tOa) && void 0 !== D?D:this.u.Nf.wa(this.u.Ud);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Br:{get:function(){return n.N.Ia;},enumerable:!1,configurable:!0}});C.prototype.va=function(){return k.__awaiter(this,void 0,void 0,function(){var D;return k.__generator(this,function(F){switch(F.label){case 0:(B.prototype.va.call(this),F.label=1);case 1:return (F.Oj.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.u.id,"}: init")),this.parent?[4,this.parent.rO]:[3,3]);case 2:(F.Qa(),F.label=3);case 3:return (this.tOa=this.u.Nf.wa(this.u.Ud),[4,this.hUa([g.v.fa,g.v.X])]);case 4:return (F.Qa(),this.yp.resolve(),[3,6]);case 5:D=F.Qa();if(!this.Zf)throw D;return [3,6];case 6:return [2];}});});};C.prototype.update=function(D){this.Hi=D;};C.prototype.hB=function(D){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.u.id,"}: getRequestIterator(").concat(D,")"));return D === g.v.fa?[2,this.tA.Tla()]:[2,this.bI.Tla()];});});};C.prototype.reset=function(){};C.prototype.Jf=function(D){void 0 === D && (D="other");B.prototype.Jf.call(this,D);this.Sa=A.IO;this.tOa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:D});this.events.removeAllListeners();};C.prototype.H5=function(){return !0;};C.prototype.bf=function(){};C.prototype.g5=function(D){return [g.v.fa,g.v.X].some(function(F){return F === D;});};C.prototype.Ns=function(){return [];};C.prototype.rL=function(D){var F;return null === (F=this.parent) || void 0 === F?void 0:F.rL(D);};C.prototype.G4=function(){return [];};C.prototype.CF=function(){};C.prototype.On=function(){return this.lqa.G;};C.prototype.aL=function(){return {};};C.prototype.$S=function(){return this.u.Nf.G;};C.prototype.Wy=function(D,F,G,E){return k.__awaiter(this,void 0,void 0,function(){return k.__generator(this,function(J){switch(J.label){case 0:return [4,this.yp.promise];case 1:return (J.Qa(),this.parent?[4,this.parent.rO]:[3,3]);case 2:(J.Qa(),J.label=3);case 3:return [4,this.hUa(E)];case 4:return (J.Qa(),[2]);}});});};C.prototype.hUa=function(D){return k.__awaiter(this,void 0,void 0,function(){var F,G;return k.__generator(this,function(E){switch(E.label){case 0:F=n.N.Ia;if(-1 === D.indexOf(g.v.X))return [3,2];this.bI.clear();return [4,this.xzb()];case 1:(G=E.Qa(),F=G.duration,E.label=2);case 2:if(-1 === D.indexOf(g.v.fa))return [3,4];this.tA.clear();this.console.trace(("AsePaddingBranch {").concat(this.u.id,"}: video duration ").concat(F.mb()));return [4,this.ryb(this.y5b)];case 3:(E.Qa(),E.label=4);case 4:return [2];}});});};C.prototype.g_a=function(){};C.prototype.uo=function(){return [];};C.prototype.kK=function(D){var F,G;return !!((null === (F=this.Lb) || void 0 === F?0:F.greaterThan(D)) && (null === (G=this.Bb) || void 0 === G?0:G.lessThan(D)));};C.prototype.u4=function(){return this.lqa;};C.prototype.v$=function(){return !1;};C.prototype.toJSON=function(){var D,F;return {segment:this.u.id,viewableId:this.Hi.J,contentStartPts:null === (D=this.La) || void 0 === D?void 0:D.G,contentEndPts:null === (F=this.$a) || void 0 === F?void 0:F.G};};C.prototype.bWb=function(){var D,F,G,E,J,L,N;return k.__awaiter(this,void 0,void 0,function(){var I,O,K,H;return k.__generator(this,function(M){switch(M.label){case 0:return (I=null === (F=null === (D=this.parent) || void 0 === D?void 0:D.bf(g.v.X)) || void 0 === F?void 0:F.ye.Xn)?[3,2]:[4,null === (E=null === (G=this.parent) || void 0 === G?void 0:G.bf(g.v.X)) || void 0 === E?void 0:E.ye.Wdb];case 1:M.Qa();if(this.Zf)return [2,Promise.reject()];M.label=2;case 2:return (I=null === (L=null === (J=this.parent) || void 0 === J?void 0:J.bf(g.v.X)) || void 0 === L?void 0:L.ye.Xn,(0,q.assert)(I,"Parent of padding branch must have last selected video stream"),O=null === (N=I.track.$k) || void 0 === N?void 0:N.ox,K=I.track.$q,H=I.Md,[2,{profile:H,ox:O,$q:K}]);}});});};C.prototype.$Vb=function(){var D,F,G,E,J,L;return k.__awaiter(this,void 0,void 0,function(){var N,I,O,K,H;return k.__generator(this,function(M){switch(M.label){case 0:return (N=null === (F=null === (D=this.parent) || void 0 === D?void 0:D.bf(g.v.fa)) || void 0 === F?void 0:F.ye.Xn)?[3,2]:[4,null === (E=null === (G=this.parent) || void 0 === G?void 0:G.bf(g.v.fa)) || void 0 === E?void 0:E.ye.Wdb];case 1:M.Qa();if(this.Zf)return [2,Promise.reject()];M.label=2;case 2:return (N=null === (L=null === (J=this.parent) || void 0 === J?void 0:J.bf(g.v.fa)) || void 0 === L?void 0:L.ye.Xn,(0,q.assert)(N,"Parent of padding branch must have last selected audio stream"),I=N.Rf || n.N.Ia,O=-1 !== N.profile.indexOf("heaac")?"heaac":"ddp",K=N.bitrate,H=N.track.$q,[2,{Rf:I,vd:O,bitrate:K,$q:H}]);}});});};C.prototype.cYa=function(D,F){return this.uu.add(F).ze(D).ya;};return C=k.__decorate([z.qF],C);})(a.Maa);b.UHa=a;(0,m.xk)(r.lw,a);},10249:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.BTa=void 0;c=a(41427);k=a(57563);f=a(74005);l=a(2631);b.BTa=function(d){var g,n,h,m,p,q,u,t,w,v,y,x;g=d.config;n=d.console;h=d.Fsa;m=d.u;p=d.events;q=d.nH;u=d.Vm;t=d.se;w=d.Ks;v=d.ff;y=d.Jd;x=d.cI;d=d.MRa;m.J === c.qn && g.gF?(p=new k.VHa(m.J,g.Ura),q=f.N.Ia,g=new (a(32018).UHa)(n,m,q,h.L4.bind(h),p,g)):g=new l.Bza(g,n,p,m,q,u,t,w,h.L4.bind(h),v,y,x,d);return g;};},8628:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.SC=void 0;c=a(14378);k=a(44724);r=(function(){function f(l){this.config=l;this.reset();}f.instance=function(){(0,k.assert)(void 0 !== f.cs);return f.cs;};f.swb=function(l){f.cs=new f(l);};f.prototype.push=function(l){this.ah && this.ah.push(l);};f.prototype.Wb=function(){if(this.ah)return (this.ah.Cx(),this.ah.si([.25,.5,.75,.9,.95,.99]).map(function(l){return l?parseFloat(l.toFixed(1)):0;}));};f.prototype.reset=function(){this.config.JCb && this.config.Yba && (this.ah=new c.TDigest(this.config.Yba.c,this.config.Yba.maxc));};return f;})();b.SC=r;},85147:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Nza=b.ht=void 0;c=a(70655);r=a(28075);k=a(69565);f=c.__importDefault(a(54186));l=a(47571);d=c.__importDefault(a(29736));g=a(70950);n=a(44724);h=a(82434);m=a(78115);p=a(50971);q=a(4145);u=a(74005);t=a(89383);w=a(6589);v=a(96049);b.ht=function(y){return y.wa(g.N.Ma(y.hH));};a=(function(y){function x(z,A,B,C,D,F){var G,E;G=this;G=y.call(this) || this;G.Be=z;G.Ei=A;G.Nc=B;G.Y=C;G.Z=D;G.xn=F;G.CPa=!1;G.CNa=!1;G.TQ=!1;G.V=k.Yp.kv(G.Be);G.Rz=G.V.error.bind(G.V);G.ks=G.V.warn.bind(G.V);G.ix=G.V.trace.bind(G.V);null === (E=B.events) || void 0 === E?void 0:E.addListener("ready",function(){G.Tw();});G.f4a=new h.AGa(G.Y,G.Be,G.Ei.Kf,G.V);G.reset();return G;}c.__extends(x,y);Object.defineProperties(x.prototype,{endOfStream:{get:function(){return this.pQ;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{p2b:{get:function(){return !!this.Nc.bDb;},enumerable:!1,configurable:!0}});x.prototype.reset=function(z){var A,B,C,D,F;null === (A=this.COa) || void 0 === A?void 0:A.Pa();z || (this.hx=[]);this.xfa=this.ffa=this.VD=void 0;null === (B=this.eJ) || void 0 === B?void 0:B.iterator.Jg();null === (C=this.a0) || void 0 === C?void 0:C.iterator.Jg();this.a0=this.eJ=void 0;this.Vea=!1;this.wJ=void 0;this.TQ=this.pQ=!1;this.oPa(g.N.Ia);null === (F=(D=this.Nc).reset) || void 0 === F?void 0:F.call(D);this.f4a.reset();};x.prototype.bFb=function(){this.ffa=!0;};x.prototype.v3=function(){this.CNa=!0;this.Tw();};x.prototype.yC=function(z){this.CPa=z;};x.prototype.psb=function(z){this.hx.push(z);this.Tw();};x.prototype.hz=function(){this.Tw();};x.prototype.QRb=function(z){this.Y.bha && void 0 === this.xfa && this.oNa(z,0);this.Tw();};x.prototype.C7=function(z,A){var B,C;B=this;void 0 === z && (z=!1);this.pQ || (this.pQ=!0,this.Tw(),!z && this.p2b) || (A && this.xn && this.Y.HAb?(z=g.N.Ma(this.Y.f3b),A=A.wa(z),z=(0,p.U$)(this.xn,A,!0),A=z.vk,z=z.promise,null === (C=this.COa) || void 0 === C?void 0:C.Pa(),this.COa=A,z.then(function(){B.pQ && B.Nc.endOfStream();})):this.Nc.endOfStream());};x.prototype.oPa=function(z){var A;null !== (A=this.Epb) && void 0 !== A && A.equal(z) || (this.Epb=z,this.Nc.b0b(z.ya,z.S));};x.prototype.Tw=function(){var z,A,B,C,D,F,G,E;D=this.Y;if(!this.eJ && !this.a0 && this.hx.length)if(this.Nc && !1 !== this.Nc.ready){F=this.hx[0];if(F.aborted)(this.ks("aborted fragment should not appear in the toAppend list:",F.toString(),"complete:",F.complete),this.NQ("@" + d.default.time.Ga() + ", append: removing aborted fragment from toAppend: " + F.toString()),this.hx.shift());else {G=F.stream;E=G.pa;if(G.Hh)if((F.Tx && !this.TQ && (null === (A=(z=this.Nc).xab) || void 0 === A?void 0:A.call(z,{J:G.track.pa.J,l1a:G.hi}),this.TQ=!0),this.s0b(G,F.index)))(this.ffa=!1,this.oNa(G,F.index));else if((z=this.Z.YT(E.J),G=this.tLb(G),z || G || !this.Vea && !D.Dxa))if((z=this.PZa(F),this.Be === f.default.Ao.fa && (F.Ok || F.Zs || (null === (B=F.Ha) || void 0 === B?0:B.Ln)) && F.Ha && !D.jN && !this.pQ && this.hx.length <= (F.Ok || F.Zs?1:2) && z > D.i7 && (null === (C=F.Uy) || void 0 === C || !C.NL)))this.DZb();else {this.Vea || (this.Vea=G);this.hx.shift();try{this.Hrb(F);}catch(J){throw (this.V.error(J),J);}}}}else this.NQ("@" + d.default.time.Ga() + ", append: not appending, sourceBuffer not ready");};x.prototype.DZb=function(){var z;z=this;this.xn && (this.Voa?this.Voa.a1a || this.Voa.Sf():this.Voa=this.xn.Hx(function(){return z.FNb();},"JIT Appender"));};x.prototype.FNb=function(){var z,A,B,C;return c.__generator(this,function(D){switch(D.label){case 0:if(1 !== this.hx.length)return [3,3];z=this.hx[0];if(!z.Ok && !z.Zs || (null === (C=z.Uy) || void 0 === C?0:C.NL))return [2];A=this.PZa(z);B=this.Y.i7;return A > B?[4,p.Pg.NC(g.N.Ma(A - B))]:[3,2];case 1:(D.Qa(),D.label=2);case 2:return (this.Tw(),[3,0]);case 3:return [2];}});};x.prototype.PZa=function(z){var A;return (null === (A=z.Bb) || void 0 === A?NaN:A.G) - this.Z.Nd.G;};x.prototype.s0b=function(z,A){if(this.ffa || void 0 === this.VD || z.Sb !== this.VD.Sb)return !0;z=z.Hh;(0,n.assert)(z);return 1 < z.length?(0,q.iha)(z,function(B){return B.af <= A;}) !== this.VD.q1a:!1;};x.prototype.tLb=function(z){if(z.mediaType === l.v.fa || !z.hi)return !0;if(void 0 === this.VD)return !1;if(!z.track.MU)return !z.hi;z=z.Hh;(0,n.assert)(z);return !1 === z[this.VD.q1a].hF;};x.prototype.oNa=function(z,A){var B,C,D,F;if(!this.CPa || this.CNa){D=z.Hh.reduce(function(G,E,J){return E.af <= A?J:G;},0);F=z.Hh[D];this.VD || (null === (C=(B=this.Nc).xab) || void 0 === C?void 0:C.call(B,{J:z.track.pa.J,l1a:z.hi}),this.TQ=!0);if(this.Nc.appendBuffer(F.data,{Me:!0,profile:z.profile,bitrate:z.bitrate,Sb:z.Sb}))(this.NQ("@" + d.default.time.Ga() + ", header appended, streamId: " + z.Sb),this.VD={Sb:z.Sb,q1a:D},this.ipb(z.Sb,D),this.Tw());else throw (this.ks("appendHeader error: " + this.Nc.error),this.NQ("@" + d.default.time.Ga() + ", appendHeader error: " + this.Nc.error),Error("appendHeaderError"));}};x.prototype.Hrb=function(z){var A,B,C,D,F,G;A=this;D=z.jta || g.N.Ia;F=z.u;F.Nf && !F.Nf.equal(g.N.rp) && (D=F.Nf.add(D).uh,Infinity === this.Ei.duration || this.Ei.duration < D) && (this.Ei.duration=D);D=void 0 !== z.Yv?g.N.Ma(z.Yv).add(z.jta):void 0;F=null === (B=this.hx[0]) || void 0 === B?void 0:B.Bb;B={endOfStream:this.endOfStream || !(null === (C=z.Uy) || void 0 === C || !C.NL),gM:D,Pqa:F};D=this.f4a.append(z,B);C=D.ci;F=D.mi;B=D.Pp;D=D.offset;null === F || void 0 === F?void 0:F.forEach(function(E){return A.emit(E.type,E);});F=z.stream;if(F.ha){G=F.Qn().x8;D=D.wa(G.ze(F.S));}this.oPa(D);C && (z.Ok || z.Zs) && z.ci();D=m.Sh.VGa;C || (this.Be === l.v.fa || this.Be === l.v.X?D=this.Erb(z,B):this.Be === l.v.Ya && (D=this.LQa(z)));switch(D){case m.Sh.Qj:this.smb(z);break;case m.Sh.rD:this.xfa=z;break;case m.Sh.zk:this.pra(z);this.xfa=z;break;case m.Sh.VGa:this.I5a(z,!0);}};x.prototype.hbb=function(){var z;return d.default.cq.Kf.nua.Vda || !(null === (z=this.Ei.Kf) || void 0 === z || !z.hbb);};x.prototype.Erb=function(z,A){A=this.hbb()?this.Frb(z,A):this.Grb(z,A);A !== m.Sh.Qj && z instanceof v.saa && (z=this.LQa(z.Gt),A=z === m.Sh.Qj?z:A === m.Sh.rD || z === m.Sh.rD?m.Sh.rD:m.Sh.zk);return A;};x.prototype.Frb=function(z,A){var B,C;B=this;C=(0,u.Qpa)(z);(A=(A || z.Pp).every(function(D,F){return B.Nc.appendBuffer(D,0 === F?C:void 0);})) && !z.una?(A=z.Rma(),this.eJ={ka:z,iterator:A},t.AsyncIterator.a6(A,function(D){D.done?(B.eJ=void 0,B.pra(z)):B.Nc.appendBuffer(D.value,C);}),A=m.Sh.rD):A=A?m.Sh.zk:m.Sh.Qj;return A;};x.prototype.Grb=function(z,A){var B,C,D;B=this;C=(0,u.Qpa)(z);A || (A=z.Pp);if(z.una)D=(D=this.tTa(A,C))?m.Sh.zk:m.Sh.Qj;else (D=z.Rma(),this.eJ={ka:z,iterator:D},t.AsyncIterator.a6(D,function(F){F.done?(B.tTa(A,C),B.eJ=void 0,B.pra(z)):A.push(F.value);}),D=m.Sh.rD);return D;};x.prototype.tTa=function(z,A){z=1 < z.length?(0,u.jK)(z):z[0];return this.Nc.appendBuffer(z,A);};x.prototype.LQa=function(z){var A,B,C;A=this;(0,n.assert)(z instanceof w.taa);B=z.Pp;if(z.una){(0,n.assert)(B.every(function(D){return D instanceof ArrayBuffer;}));Promise.resolve().then(function(){return A.SVa(z,B);});C=m.Sh.zk;}else (C=z.Rma(),this.a0={ka:z,iterator:C},t.AsyncIterator.a6(C,function(D){D.done?(A.a0=void 0,(0,n.assert)(B.every(function(F){return F instanceof ArrayBuffer;})),A.SVa(z,B)):B.push(D.value);}),C=m.Sh.rD);return C;};x.prototype.SVa=function(z,A){var B,C;A=(0,u.jK)(A);A=new Uint8Array(A);A=d.default.Kja(A);(0,n.assert)(A);C=z.Ok && (null === (B=z.Uy) || void 0 === B?void 0:B.NL);z={type:"subtitleData",I:z.xj,ab:z.La.G,jf:z.$a.G,gr:z.ybb,$3b:A,endOfStream:C};this.Ei.events.emit(z.type,z);};x.prototype.pra=function(z){var A;void 0 === this.wJ || this.Be !== f.default.Ao.fa || z.Bb.equal(this.wJ) || (this.wJ=void 0);this.NQ("@" + d.default.time.Ga() + ", request appended, type: " + z.mediaType + ", streamId: " + z.Sb + ", pts: " + (null === (A=z.Bb) || void 0 === A?void 0:A.G) + "-" + z.Lb.G);this.I5a(z,!1);};x.prototype.I5a=function(z,A){var B,C,D;z.Ok || z.Zs?(this.wJ=A?z.Bb:z.Lb,null === (C=(B=this.Nc).bDb) || void 0 === C?void 0:C.call(B,z.Uy),this.TQ=!1,(null === (D=z.Uy) || void 0 === D?0:D.NL) && this.C7(!1,this.wJ)):this.wJ=void 0;z.qR=!0;z.Ny();this.jpb(z);this.Tw();};x.prototype.smb=function(z){if(void 0 !== this.Nc.error){if("done" === this.Nc.error)return;this.Rz("failure to append queued mediaRequest:",null === z || void 0 === z?void 0:z.toString(),"err:",JSON.stringify(this.Nc.error));throw this.Nc.error;}z=Error("failure to append queued mediaRequest: " + (null === z || void 0 === z?void 0:z.toString()) + " err: " + this.Nc.error);this.Rz(z.message);throw z;};x.prototype.ipb=function(z,A){z={type:"headerAppended",mediaType:this.Be,streamId:z,isIndex:A};this.emit(z.type,z);};x.prototype.jpb=function(z){z={type:"requestAppended",mediaType:this.Be,request:z};this.emit(z.type,z);};x.prototype.NQ=function(z){z={type:"managerdebugevent",message:z};this.emit(z.type,z);};return x;})(r.EventEmitter);b.Nza=a;},13024:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Oza=void 0;c=a(28075);k=a(47571);f=a(44724);r=(function(){function l(d,g){this.V=d;this.nnb=g;this.Gu=this.tu=this.So=0;this.Vfa=new Map();}l.prototype.Pu=function(d){var g,n,h;g=this;if(!d.Me){n=d.Ba;if(0 >= n){h=new c.Re();h.on(d.events,"updatedBytes",function(m){g.RPa(d,m.zRb - m.Nra);h.clear();g.Vfa.delete(d);});this.Vfa.set(d,h);}else this.RPa(d,n);}};l.prototype.xt=function(d){var g;if(!d.Me){g=d.Ba;0 < g && (this.So-=g,d.mediaType === k.v.fa?this.tu-=g:this.Gu-=g,(0,f.assert)(this.So === this.tu + this.Gu),(0,f.assert)(0 <= this.So),(0,f.assert)(0 <= this.tu),(0,f.assert)(0 <= this.Gu));this.Vfa.delete(d);}};l.prototype.ySa=function(d,g){var n;(0,f.assert)(this.So === this.tu + this.Gu);n=this.nnb();if(void 0 !== n.total && this.So + g > n.total)return !1;n=d === k.v.fa?n.audio:n.video;d=d === k.v.fa?this.tu:this.Gu;return void 0 !== n && d + g > n?!1:!0;};l.prototype.RPa=function(d,g){this.So+=g;d.mediaType === k.v.fa?this.tu+=g:this.Gu+=g;(0,f.assert)(this.So === this.tu + this.Gu);(0,f.assert)(0 < this.So);(0,f.assert)(0 <= this.tu);(0,f.assert)(0 <= this.Gu);};return l;})();b.Oza=r;},38264:function(r,b,a){var c,k,f,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.hYa=b.kYa=b.Fta=b.$ha=b.qca=void 0;c=a(70655);k=c.__importDefault(a(29736));f=a(44724);l=a(74005);r=(function(){function g(n,h,m){void 0 === m && (m={});this.config=n;this.nDb=h;this.kh=[];this.Zha=new l.qu();this.WRa=new l.qu();this.options=c.__assign({bo:10},m);}Object.defineProperties(g.prototype,{isEnabled:{get:function(){return this.config.iCb;},enumerable:!1,configurable:!0}});g.prototype.Fma=function(n,h){var m;if(!this.isEnabled)return h();m=this.gGb(n);if(m)return m.value;h=h();this.Ts(n,h);return h;};g.prototype.findIndex=function(n){var h,m,p,q;h=Infinity;m=Infinity;if(this.options.aR || this.options.bN){p=k.default.time.Ga();this.options.bN && (h=p - this.options.bN);this.options.aR && (m=p - this.options.aR);}for(p=0;p < this.kh.length;p++){q=this.kh[p];if(this.options.bN && q.z2a < h){this.kh.splice(p,this.kh.length - p);break;}if(this.options.aR && q.Fn < m)(this.kh.splice(p,1),p--);else if(this.nDb(q.key,n))return p;}return -1;};g.prototype.gGb=function(n){var h;n=this.findIndex(n);if(-1 !== n){h=this.kh[n];this.kh.splice(n,1);this.kh.unshift(h);this.options.bN && (h.z2a=k.default.time.Ga());this.WRa.push(n);this.Zha.push(1);return h;}this.Zha.push(0);};g.prototype.Ts=function(n,h){this.kh.unshift({key:n,value:h});if(this.options.bN || this.options.aR)(n=k.default.time.Ga(),this.options.bN && (this.kh[0].z2a=n),this.options.aR && (this.kh[0].Fn=n));this.fvb();};g.prototype.fvb=function(){this.kh.length > this.options.bo && this.kh.pop();};g.prototype.clear=function(){this.kh=[];};return g;})();b.qca=r;d=new WeakMap();b.$ha=function(g){void 0 === g && (g="default");return function(n,h,m){var p;p=m.value;m.value=function(q){var u,t,w;u=this;w=null === (t=d.get(this)) || void 0 === t?void 0:t[g];(0,f.assert)(w,"lruCache not defined");return w.Fma(q,function(){return p.call(u,q);});};};};b.Fta=function(g,n,h){d.has(g) || d.set(g,{});d.get(g)[n]=h;};b.kYa=function(g){var n;if(!d.has(g))return [];n=d.get(g);return Object.keys(n).map(function(h){return n[h];});};b.hYa=function(g){return d.has(g)?d.get(g):{};};},2427:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wwb={et:["minInitVideoBitrate",-Infinity],ty:["maxInitVideoBitrate",Infinity],TU:["minInitAudioBitrate",-Infinity],HU:["maxInitAudioBitrate",Infinity],a7:["minAcceptableVideoBitrate",-Infinity],RU:["minAcceptableVMAF",0],JQb:["minAcceptableVMAFRebufferScalingFactor",0],xqa:["minAllowedVideoBitrate",-Infinity],KPb:["maxAllowedVideoBitrate",Infinity],tG:["minAllowedVmaf",-Infinity],E3a:["maxAllowedVmaf",Infinity],NN:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],D3:["enableResolutionVMAFStreamFilter",!1],jsa:["percentCapTitlesForResolutionVMAFStreamFilter",100],e9:["resolutionVMAFCappingRuleList",[]],j0a:["ignoreUserFilterOnEmptyResult",!0],TB:["minRequiredBuffer",2E4],g7:["minRequiredAudioBuffer",0],Zq:["minPrebufSize",5800],zqa:["minCheckBufferingCompleteInterval",200],hWa:["enableMoreFrequentBufferingCompleteCheck",!1],B4a:["minimumBufferingCompleteInterval",1E4],cua:["requireDownloadDataAtBuffering",!1],y0a:["indicatorForDownloadDataAtBuffering","oncomplete"],dua:["requireSetupConnectionDuringBuffering",!1],xta:["rebufferingFactor",1],Xq:["maxBufferingTime",2E3],rxa:["useMaxPrebufSize",!0],QB:["maxPrebufSize",4E4],fqa:["maxRebufSize",Infinity],A5:["initialBitrateSelectionCurve",null],D0a:["initSelectionLowerBound",-Infinity],E0a:["initSelectionUpperBound",Infinity],iX:["throughputPercentForAudio",15],Dha:["bandwidthMargin",0],Fha:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],vRa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,vx:76376,scale:18862.4,gamma:3.0569}],Eha:["bandwidthMarginContinuous",!1],wRa:["bandwidthMarginForAudio",!0],qwa:["switchConfigBasedOnInSessionTput",!0],aja:["conservBandwidthMargin",20],cja:["conservBandwidthMarginTputThreshold",6E3],bja:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],pbb:["switchAlgoBasedOnHistIQR",!1],rwa:["switchConfigBasedOnThroughputHistory","iqr"],T3a:["maxPlayerStateToSwitchConfig",-1],h3a:["lowEndMarkingCriteria","iqr"],nEa:["IQRThreshold",.5],Y_a:["histIQRCalcToUse","simple"],rs:["bandwidthManifold",{curves:[{min:.05,max:.82,vx:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,vx:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],KU:["maxTotalBufferLevelPerSession",0],T_a:["highWatermarkLevel",3E4],Wbb:["toStableThreshold",3E4],q$:["toUnstableThreshold",0],Nva:["skipBitrateInUpswitch",!1],Ixa:["watermarkLevelForSkipStart",8E3],Lva:["simulationDurationStrategy","default"],S0b:["simulationFullBufferPercentage",1],z4a:["minSimulationDuration",2E4],gqa:["maxSimulationDuration",3E5],oxa:["upperThroughputPredictionFactor",1.6],Gna:["highStreamRetentionWindow",9E4],Hpa:["lowStreamTransitionWindow",51E4],Ina:["highStreamRetentionWindowUp",5E5],Jpa:["lowStreamTransitionWindowUp",1E5],Hna:["highStreamRetentionWindowDown",6E5],Ipa:["lowStreamTransitionWindowDown",0],Fna:["highStreamInfeasibleBitrateFactor",.5],oy:["lowestBufForUpswitch",9E3],wU:["lockPeriodAfterDownswitch",15E3],Mpa:["lowWatermarkLevel",15E3],py:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Npa:["lowestWaterMarkLevelBufferRelaxed",!1],T6:["mediaRate",1.5],L6:["maxTrailingBufferLen",15E3],sha:["audioBufferTargetAvailableSize",262144],wxa:["videoBufferTargetAvailableSize",1048576],a4a:["maxVideoTrailingBufferSize",8388608],F3a:["maxAudioTrailingBufferSize",393216],R3:["fastUpswitchFactor",3],XDb:["fastUpswitchFactorWithoutHeaders",3],WDb:["fastUpswitchFactorForNextSegment",1],cla:["fastDownswitchFactor",3],oG:["maxMediaBufferAllowed",27E4],Fec:["minMediaBufferLen",1E4],gab:["simulatePartialBlocks",!0],fab:["simulateBufferFull",!0],dja:["considerConnectTime",!0],$ia:["connectTimeMultiplier",1],xOb:["liveDvrSwitchThresholdms",1E4],I3a:["maxDomainFailureWaitDuration",3E4],DWa:["exhaustAllLocationsForFailure",!0],P3a:["maxNetworkErrorsDuringBuffering",20],G6:["maxBufferingTimeAllowedWithNetworkError",6E4],SJ:["alwaysRunUnderflowTimer",!0],PWa:["fastDomainSelectionBwThreshold",2E3],Ebb:["throughputProbingEnterThreshold",4E4],Fbb:["throughputProbingExitThreshold",34E3],Y2a:["locationProbingTimeout",1E4],WWa:["finalLocationSelectionBwThreshold",1E4],Cbb:["throughputHighConfidenceLevel",.75],Dbb:["throughputLowConfidenceLevel",.4],upa:["locationStatisticsUpdateInterval",6E4],WOb:["locationSelectorPersistFailures",!0],iWa:["enablePerfBasedLocationSwitch",!1],oec:["maxRateMaxFragmentGroups",4500],ECb:["enableNginxRateLimit",!1],x7:["nginxSendingRate",4E4],D3a:["maxActiveRequestsSABCell100",2],h9a:["resetActiveRequestsAtSessionInit",!0],B3:["enableHybridPacing",!1],kia:["catchUpMode",!1],aQb:["maxSegHint",4],Yta:["requestLevelLogging",!1],pCb:["enableCsprNonPipelined",!1],y3:["enableCprAudio",!1],z3:["enableCprVideo",!1],nCb:["enableCprAudioNonPipelined",!1],oCb:["enableCprVideoNonPipelined",!0],GCb:["enablePaceReportLogging",!1],QTb:["paceRateSelectorAlgorithm","default"],RTb:["paceRateSelectorAlgorithmAudio","default"],STb:["paceRateSelectorAlgorithmNonPipelined","default"],Fab:["staticPacingRateKbps",0],y2:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],j4b:["unpacedFragmentInterval",0],pLb:["ignorePacedRequestStrategy","none"],vV:["pacedThresholdPct",.1],pka:["effectivePaceRateFactor",1],TXb:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],UTb:["pacingTargetBufferStrategy","implicit"],F2b:["targetBufferLevelStddevMultiplier",1],E2b:["targetBufferLevelDurationMs",0],SQb:["minTargetBufferLevelMs",27E4],$va:["stddevPredictorMultiplier",-.3],awa:["stddevPredictorUpperMultiplier",2],C1b:["stddevPredictorSource","deliverytime"],Bia:["ciPredictorSource","throughput-ci"],bWa:["enableInitialTputLogging",!1],aWa:["enableInitialThroughputHistory",!1],l5:["headerRequestSize",4096],Kka:["estimateHeaderSize",!0],Oqa:["neverWipeHeaderCache",!1],q5b:["useSidxInfoFromManifestForHeaderRequestSize",!1],YTb:["parseAdditionalBoxesMp4Header",!0],RWa:["fastPlayHeaderRequestSize",0],pG:["maxRequestSize",0],UU:["minRequestSize",65536],c7:["minBufferLenForHeaderDownloading",1E4],$0b:["smartHeaderPreDownloading",!1],jCb:["enableAllHeadersPreDownloading",!1],jo:["pipelineEnabled",!0],dqa:["maxParallelConnections",3],m5b:["usePipelineForAudio",!1],l5b:["usePipelineDetectionForAudio",!1],o5b:["usePipelineForText",!0],nab:["socketReceiveBufferSize",0],V1:["audioSocketReceiveBufferSize",32768],O$:["videoSocketReceiveBufferSize",65536],Q2b:["textSocketReceiveBufferSize",32768],rdb:["usePipelineDetectionForVideo",!1],VQb:["minVideoSocketReceiveBufferSize",65536],Dna:["headersSocketReceiveBufferSize",32768],n0b:["shareDownloadTracks",!0],o0b:["shareOpenRangeTracks",!1],gbb:["supportOpenRangeRequests",!0],jBb:["disableHeaderDownloadTracks",!1],Bqa:["minTimeBetweenHeaderRequests",void 0],IV:["prebufferTimeLimit",6E4],r4a:["minBufferLevelForTrackSwitch",2E3],HCb:["enablePenaltyForLongConnectTime",!1],gsa:["penaltyFactorForLongConnectTime",2],Fpa:["longConnectTimeThreshold",200],Pga:["additionalBufferingLongConnectTime",2E3],Qga:["additionalBufferingPerFailure",8E3],WV:["rebufferCheckDuration",6E4],IK:["enableOCSideChannel",!0],OUa:["decryptOCSideChannelMinInterval",1E3],PUa:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],Wsa:["probeRequestTimeoutMilliseconds",3E4],lfc:["probeRequestConnectTimeoutMilliseconds",8E3],f_:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],KCb:["enableSCByteRangeHints",!1],Kcb:["updateDrmRequestOnNetworkFailure",!0],f3b:["timeBeforeEndOfStreamBufferMark",6E3],aqa:["maxFastPlayBufferInMs",2E4],PPb:["maxFastPlayContentTimeThresholdMs",112E3],K3a:["maxFastPlayBitThreshold",2E8],G3a:["maxBufferingCompleteBufferInMs",Infinity],Jtb:["bufferingCompleteOnMemoryLimit",!1],yqa:["minAudioMediaRequestSizeBytes",0],Cqa:["minVideoMediaRequestSizeBytes",0],MPb:["maxAudioMediaRequestSizeBytes",Infinity],hQb:["maxVideoMediaRequestSizeBytes",Infinity],UPb:["maxMediaRequestSizeBytesInFraction",1],yv:["minAudioMediaRequestDuration",0],wy:["minVideoMediaRequestDuration",0],f7:["minMediaRequestDuration",0],LPb:["maxAudioMediaRequestDuration",Infinity],gQb:["maxVideoMediaRequestDuration",Infinity],J6:["maxMediaRequestDuration",Infinity],Vga:["allowFirstRequestAggregation",!1],yec:["minAudioMediaRequestDurationCache",0],Jec:["minVideoMediaRequestDurationCache",0],Pja:["defaultHeaderCacheSize",4],Oja:["defaultHeaderCacheDataPrefetchMs",0],n5b:["usePipelineForBranchedAudio",!0],j7:["minimumTimeBeforeBranchDecision",2E3],WQb:["minimumAppendedMediaBeforePlayback",5E3],YPb:["maxRequestsToAttachOnBranchActivation",void 0],i7:["minimumJustInTimeBufferLevel",3E3],Icc:["enableJustInTimeAppends",!1],KQa:["appendPacingFactor",0],Krb:["appendPacingThreshold",3E3],Abc:["branchEndPtsIntervalMs",250],Idc:["ignorePtsJustBeforeCurrentSegment",!1],QPb:["maxFragsForFittableOnBranching",300],Mqa:["networkFailureResetWaitMs",2E3],Lqa:["networkFailureAbandonMs",6E4],K6:["maxThrottledNetworkFailures",5],l$:["throttledNetworkFailureThresholdMs",200],Lpa:["lowThroughputThreshold",400],Tka:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],e3b:["timeAtEachBitrateRoundRobin",1E4],iZb:["roundRobinDirection","forward"],$Kb:["httpsConnectErrorAsPerm",!1],fWa:["enableManagerDebugTraces",!1],q3a:["managerDebugMessageInterval",1E3],p3a:["managerDebugMessageCount",20],jN:["requireAudioStreamToEncompassVideo",!1],Qab:["ase_stream_selector","optimized"],Msb:["audiostreamSelectorAlgorithm","selectaudioadaptive"],JOb:["liveStreamSelectorAlgorithm","livesimple"],V2b:["throughputDiscountForLive",.8],U2b:["throughputDiscountExponentBC",1.5],sU:["liveTargetBufferDuration",1E4],t6:["liveEdgeCushion",6E3],u6:["liveMaxTemporaryRequestErrorRetries",6],BOb:["liveInitialFetchSizeBytes",1024],HOb:["liveResyncClockOn404Error",!0],zOb:["liveEndSlateMaxDuration",6E4],y6:["liveSwitchStreamsOnErrorInPipeline",!1],L2b:["temporaryRequestFailureRetryIntervalMs",500],eWa:["enableLiveTemporaryRequestRetries",!0],Zpa:["maxAttemptsOnFailure",18],wka:["enableMaxAttemptsOnFailure",!0],goa:["initBitrateSelectorAlgorithm","default"],Rha:["bufferingSelectorAlgorithm","default"],O1b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],kWa:["enableThroughputTraceResearchData",!1],Hbb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],tfc:["researchEnvironmentEnabled",!1],MCb:["enableStreamSelectionAugmentData",!1],Qsb:["augmentDataNumOfChunks",30],Gja:["ase_dump_fragments",!1],Hja:["ase_location_history",0],IUa:["ase_throughput",0],Tra:["paddingDurationMs",1E3],Ura:["paddingMediaType","padding"],cl:["stallAtFrameCount",void 0],tab:["stallAtFrameCountAudio",void 0],Vpa:["marginPredictor","simple"],jdb:["useBackupUnderflowTimer",!0],JRb:["noDuplicateUnderflowTimer",!1],Lgc:["useManifestDrmHeader",!0],Ngc:["useOnlyManifestDrmHeader",!0],Nqa:["networkMeasurementGranularity","video_location"],xRb:["netIntrStoreWindow",36E3],Oec:["minNetIntrDuration",8E3],jnb:["fastHistoricBandwidthExpirationTime",10368E3],Dnb:["bandwidthExpirationTime",5184E3],inb:["failureExpirationTime",86400],JOa:["historyTimeOfDayGranularity",4],fnb:["expandDownloadTime",!0],fob:["minimumMeasurementTime",500],eob:["minimumMeasurementBytes",131072],Yob:["throughputMeasurementTimeout",2E3],Xob:["initThroughputMeasureDataSize",262144],Rnb:["historicBandwidthUpdateInterval",2E3],ebc:["throughputPredictor","ewma"],Pua:["secondThroughputEstimator","slidingwindow"],P9a:["secondThroughputMeasureWindowInMs",3E5],dbc:["throughputMeasureWindow",5E3],fbc:["throughputWarmupTime",5E3],cbc:["throughputIQRMeasureWindow",1E3],Mac:["IQRBucketizerWindow",15E3],N3a:["maxIQRSamples",100],u4a:["minIQRSamples",5],$ac:["connectTimeHalflife",10],Sac:["responseTimeHalflife",10],aOa:["historicThroughputHalflife",14400],$Na:["historicResponseTimeHalflife",100],ZNa:["historicHttpResponseTimeHalflife",100],EDa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],AOa:["minReportedNetIntrDuration",4E3],bbc:["throughputBucketMs",500],Pac:["bucketHoltWintersWindow",2E3],$mb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],gnb:["experimentalFilter",["throughput-wssl"]],aPa:["reportedFilters",[]],bfa:["filterDefinitionOverrides",{}],Umb:["defaultFilter","throughput-ewma"],Vmb:["defaultFilterField","average"],ppb:["secondaryFilter","throughput-sw"],Sea:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],SCb:["enableWsslEstimate",!1],rec:["maxWsslRequestSize",131072],qec:["maxWsslRequestRatio",.2],keb:["wsslAggregationMethod","max"],jWa:["enableSessionHistoryReport",!0],KVa:["earlyStageEstimatePeriod",1E4],A2a:["lateStageEstimatePeriod",3E4],Q3a:["maxNumSessionHistoryStored",10],y4a:["minSessionHistoryDuration",3E5],wdc:["highAndStableModelName","baseline"],Hcc:["enableHighAndStablePredictor",!1],Gec:["minNumSessionHistory",5],xbc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],vdc:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],xdc:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Aga:["addHeaderDataToNetworkMonitor",!0],Uva:["startMonitorOnLoadStart",!1],Tta:["reportFailedRequestsToNetworkMonitor",!1],f8:["periodicHistoryPersistMs",0],q9:["saveVideoBitrateMs",0],Kqa:["needMinimumNetworkConfidence",!0],Iha:["biasTowardHistoricalThroughput",!1],bec:["logMemoryUsage",!1],YG:["probeServerWhenError",!0],mR:["allowSwitchback",!0],A7a:["probeDetailDenominator",100],H6:["maxDelayToReportFailure",300],rrb:["allowParallelStreaming",!1],uec:["mediaPrefetchDisabled",!1],zec:["minBufferLevelToAllowPrefetch",5E3],tN:["seamlessAudio",!1],Lfc:["seamlessAudioProfiles",[]],Mfc:["seamlessAudioProfilesAndTitles",{}],Nua:["seamlessAudioMaximumSyncError",void 0],Oua:["seamlessAudioMinimumSyncError",void 0],R0a:["insertSilentFrames",0],roa:["insertSilentFramesOnSeek",!1],S0a:["insertSilentFramesOnSeekForTitles",[]],cMb:["insertSilentFramesOnSeekCount",3],Zcc:["forceDiscontinuityAtTransition",!0],lgc:["supportAudioResetOnDiscontinuity",void 0],kgc:["supportAudioEasingOnDiscontinuity",void 0],VBb:["editCompleteFragments",!0],XQb:["minimumAudioFramesPerFragment",1],rR:["applyProfileTimestampOffset",!1],Bm:["applyProfileStreamingOffset",!0],D8:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],kRa:["audioProfilesNonSyncSamples",["xheaac-dash"]],Q3b:["truncateEndOfStreamAudio",!1],h5b:["useDpiAssumedAacEncoderDelay",!0],V6:["mediaSourceSupportsNegativePts",!1],b7:["minAudioPtsGap",void 0],Isb:["audioOverlapGuardSampleCount",2],JCb:["enableRecordJSBridgePerf",!1],Yba:["JSBridgeTDigestConfig",{maxc:25,c:.5}],$2b:["throughputThresholdSelectorParam",0],e5b:["upswitchDuringBufferingFactor",2],xrb:["allowUpswitchDuringBuffering",!1],Zbc:["contentOverrides",void 0],$bc:["contentProfileOverrides",void 0],W_a:["hindsightDenominator",0],V_a:["hindsightDebugDenominator",0],Adc:["hindsightAlgorithmsEnabled",[]],X_a:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],JQa:["appendMediaRequestOnComplete",!1],Dxa:["waitForDrmToAppendMedia",!1],a6b:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],Ala:["forceAppendHeadersAfterDrm",!1],KUa:["declareBufferingCompleteAtSegmentEnd",!1],GU:["maxActiveRequestsPerSession",void 0],npa:["limitAudioDiscountByMaxAudioBitrate",!1],bha:["appendFirstHeaderOnComplete",!0],f$:["strictBufferCapacityCheck",!1],tR:["aseReportDenominator",0],nha:["aseReportIntervalMs",3E5],Yrb:["aseReportMaxStreamSelections",400],N2a:["liveReportSendIntervalMs",6E4],qpa:["liveReportCollectIntervalMs",5E3],Nwa:["translateToVp9Draft",!1],Qta:["reorderTrakMvex",!1],bX:["switchableAudioProfiles",[]],Ksb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],rbb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Nsb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Z3a:["maxStartingVideoVMAF",110],ft:["minStartingVideoVMAF",1],cR:["activateSelectStartingVMAF",!1],y9:["selectStartingVMAFTDigest",-1],vN:["selectStartingVMAFMethod","fallback"],W9a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],FM:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],tcc:["disablePtsStartsEvent",!0],w8a:["recordFirstFragmentOnSubBranchCreate",!0],B3a:["markRequestActiveOnFirstByte",!1],Y9:["stopOnAllInactiveRequests",!1],TVa:["enableActiveRequestsInFilters",!1],kO:["useNativeDataViewMethods",!0],Wrb:["aseDiagnostics",[{pd:"queue-audit",enabled:!0},{pd:"task-audit",enabled:!0},{pd:"trace-ShimSession",enabled:!0},{pd:"trace-engine",enabled:!0},{pd:"trace-RequestPacer",enabled:!0},{pd:"trace-BufferStateTracker",enabled:!0},{pd:"trace-GraphStreamingProcess",enabled:!0},{pd:"trace-AsePlaygraph",enabled:!0},{pd:"playgraph-branch-audit",enabled:!0},{pd:"content-playgraph",enabled:!0},{pd:"trace-CphAsePlaygraph",enabled:!0},{pd:"trace-GraphLocation",enabled:!0},{pd:"cache-ads::gls",enabled:!0},{pd:"cache-content::gls",enabled:!0}]],kCb:["enableAseReporting",!0],utb:["branchDistanceThreshold",6E4],F6:["maxAllowedOutstandingRequests",4],Aqa:["minStreamableConcurrencyWindow",3E3],cQb:["maxStreamableConcurrencyWindow",Infinity],fwa:["streamableConcurrencyFactor",.3],IR:["bufferingConcurrencyWindow",7800],Mha:["branchCreationThreshold",12E4],A3:["enableDiscontiguousBuffering",!1],Dla:["forceImmediateTransitionTypeForTitles",[]],Cla:["forceImmediateTransitionExitZone",0],gja:["contiguousBufferMultiplier",3],HTa:["contiguousBufferMinimumAudio",1048576],JTa:["contiguousBufferMinimumVideo",8388608],ITa:["contiguousBufferMinimumText",0],AVb:["prefetchBudgetInBytes",0],o8a:["rebufferRiskHalfLife",1E4],C$:["useBufferSizeLimiter",!1],r5b:["useStaticBufferSizeLimiter",!1],DVb:["prefetchWeightBudget",32],Dqa:["minimumDownstreamBranchProbability",.075],qxa:["useExitZones",!0],EVb:["prefetchWhilePlaying",!0],JVb:["prefetcherSoftReset",!0],eVb:["playgraphDefaultWeight",65520],HAb:["delayNotificationOfEoS",!1],vQb:["memDeadlockShouldCheckMemory",!0],uQb:["memDeadlockOverageThreshold",.9],tQb:["memDeadlockMaxUtilizationPercentage",.5],$Ub:["playerPtsPadding",1],Eec:["minFragmentVmaf",void 0],vS:["enableCombinedPlaygraphs",!0],gF:["enableAdPlaygraphs",!0],C3:["enablePrerollForInitialSeek",!1],Uka:["excludedContentPlaygraphIds",[]],r_a:["graphSelectorSetAudioRate",!1],RCb:["enableVmafEstimationFromBitrate",!1],eQb:["maxVMAFMappingBitrate",16E3],fQb:["maxVMAFMappingVMAF",110],Uub:["cdndldistEnabled",!1],Ty:["segmentFadeDuration",400],u9:["segmentFadeInDuration",-1],v9:["segmentFadeOutDuration",-1],cM:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],f9:["retainSbrOnFade",!1],Q0a:["insertSilentFrameOnFade",!0],Xec:["optimizeEditedFragments",!1],nbb:["supportsPtsChanged",!0],iCb:["enableAdLruCaches",!1],bRa:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],yCb:["enableLiveRequestLogger",!1],d0a:["hydrateWaitTimeBetweenAdBreaksMs",5E3],S3a:["maxPlayerDistancePriorToAdBreakHydrationMs",6E4]};b.Lf=b.wwb;},40730:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},71502:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ama=b.urb=void 0;b.urb=function(a){return a.tN;};b.Ama=function(a,c){return void 0 !== a.b7?a.b7:c && void 0 !== c.b7?c.b7:100;};},53597:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Ix=void 0;c=a(95994);k=a(65519);f=a(44724);b.Ix=function(l,d,g,n,h,m,p,q){var u;c.K && n.trace("AsePlaygraph.createRequestQueue()");u=k.WC.instance.Ix(l,d.O,!0,!1,{RA:g.RA,ha:h},g);u.Sk.on(u,"networkfailing",function(){var t;c.K && n.trace("requestQueue OnNetworkFailing: ",u);u.ala && ((0,f.assert)(u.bla),null === (t=d.Qx) || void 0 === t?void 0:t.jr(void 0,u.bla,void 0,u.Of,u.Mh));d.uo();});u.Sk.on(u,"error",function(){q(u.Of,u.Mh);});u.on("transportreport",function(t){t.yka=d.rU.KK;m(t);});u.on("mediaRequestComplete",p);u.va();return u;};},65519:function(r,b,a){var c,k,f,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.WC=void 0;c=a(70655);k=c.__importDefault(a(54186));f=a(47571);l=c.__importDefault(a(29736));d=a(70137);r=(function(){function g(n){this.DD=n;this.Wd=[];this.console=new l.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(g,{instance:{get:function(){var n;if(void 0 === g.cs){n=a(29736)["default"];g.cs=new g(n.qI);}return g.cs;},enumerable:!1,configurable:!0}});g.reset=function(){g.cs=void 0;};g.prototype.Ix=function(n,h,m,p,q,u){var t;t=u.n0b?this.BEb(m,h,n,u.o0b):-1;-1 === t?(t={track:this.Gyb(m,p,n,q,u),Oh:m,O:h,X7a:n,pC:[],Fn:!1,XE:!1},this.Wd.push(t),this.oXb(t),n=!1):(n=!0,t=this.Wd[t]);n=new d.IKa(this.console,t.track,t.Fn,n);t.pC.push(n);return n;};g.prototype.oXb=function(n){function h(){n.Fn=!0;n.track.removeListener("created",h);}n.track.on("created",h);};g.prototype.j3=function(n){var h,m;n.Cs();h=this.KS(function(p){return p.track === n.track;});if(-1 !== h){if((h=this.Wd[h],1 === h.pC.length))(h.track.Cs(),h.XE=!0);else {m=h.pC.indexOf(n);0 <= m && h.pC.splice(m,1);}}else n.track.Cs();};g.prototype.Bf=function(){this.DD.Bf();};g.prototype.Gyb=function(n,h,m,p,q){var u,t,w,v,y,x;u=this;w=!1;v=t=!1;y=p.ha;n?m === f.v.X?(n=1,q.jo?(v=!0,n=q.dqa):q.GU && 2 < q.GU && (v=!0,n=q.GU),t=y?!!q.AX:q.AX || !v,t={type:this.DD.X,openRange:t,pipeline:v,connections:n,socketBufferSize:q.O$,minRequestSize:q.UU}):m === f.v.fa?(w=q.jo && (q.m5b || h && q.n5b),t=y?!!q.AX:q.AX || !w,t={type:this.DD.fa,openRange:t,pipeline:w,connections:1,socketBufferSize:q.V1,minRequestSize:q.UU}):m === f.v.Ya?(t=y?!!q.AX:q.AX || !q.o5b,t={type:this.DD.Ya,openRange:t,pipeline:q.jo,connections:1,socketBufferSize:q.Q2b,minRequestSize:q.UU}):t={type:q.jBb?this.DD.X:this.DD.Shb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.Dna,minRequestSize:q.UU}:t={type:m === f.v.fa?k.default.Ao.fa:k.default.Ao.X,openRange:!1,pipeline:!1,connections:1,socketBufferSize:m === f.v.fa?q.V1:q.O$,minRequestSize:q.UU};x=new this.DD(t,p);x.jo=v;x.on("transportreport",function(z){var A;A=u.KS(function(B){return B.track === x;});-1 !== A && (A=u.Wd[A],A.pC.length && A.pC[0].emit("transportreport",z));});x.on("mediaRequestComplete",function(z){var A;A=u.KS(function(B){return B.track === x;});-1 !== A && (A=u.Wd[A],A.pC.length && A.pC[0].emit("mediaRequestComplete",z));});x.on("destroyed",function(){var z;z=u.KS(function(A){return A.track === x;});-1 !== z && u.Wd.splice(z,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.jo=!1;if(y)x.Ata(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(w && q.l5b || q.rdb)q.rdb && x.config.type === f.v.X?x.Ata(c.__assign(c.__assign({},x.config),{socketBufferSize:q.VQb,pipeline:!1,openRange:!0,connections:1})):x.Ata(c.__assign(c.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};g.prototype.BEb=function(n,h,m,p){return this.KS(function(q){return !q.XE && (!p && q.track.config.Wec || !n?!q.Oh && q.X7a === m:q.Oh && q.O === h && q.X7a === m);});};g.prototype.KS=function(n){for(var h=0;h < this.Wd.length;++h){if(n(this.Wd[h]))return h;}return -1;};return g;})();b.WC=r;},70137:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.IKa=void 0;c=a(70655);k=a(28075);r=(function(f){function l(d,g,n,h){var m;m=f.call(this) || this;m.V=d;m.track=g;m.Fn=!1;m.tfa=!1;m.Sk=new k.Re();m.Sk.on(g,"networkfailing",function(){m.emit("networkfailing");});m.Sk.on(g,"error",function(){m.V.warn("requestQueue got error");m.emit("error");});if(n)(m.Fn=!0,Promise.resolve().then(function(){return m.emit("created");}));else m.Sk.on(g,"created",function(){m.Fn=!0;m.emit("created");});m.tfa=h;return m;}c.__extends(l,f);Object.defineProperties(l.prototype,{ala:{get:function(){return this.track.ala;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Of:{get:function(){return this.track.Of;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Mh:{get:function(){return this.track.Mh;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bla:{get:function(){return this.track.bla;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});l.prototype.va=function(){var d,g;this.tfa || (null === (g=(d=this.track).va) || void 0 === g?void 0:g.call(d),this.tfa=!0);};l.prototype.toString=function(){return this.track.toString();};l.prototype.toJSON=function(){return this.track;};l.prototype.Cs=function(){this.Sk.clear();};return l;})(k.EventEmitter);b.IKa=r;},54186:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(73101);b["default"]={z7b:{pu:0,T$b:1,name:["STARTUP","STEADY"]},tZ:{Dk:0,S$b:1,Zlb:2,name:["STARTING","STABLE","UNSTABLE"]},Ao:{fa:r.v.fa,X:r.v.X,Ya:r.v.Ya,name:["AUDIO","VIDEO","TEXT"]},s9b:{fa:r.v.fa,X:r.v.X,Ya:r.v.Ya,name:["AUDIO","VIDEO","TEXT"]},Fg:{URL:0,wD:1,LOCATION:2,gu:3,name:["URL","SERVER","LOCATION","NETWORK"]},pl:{HAVE_NOTHING:0,xI:1,wI:2,YO:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},lu:{h7b:0,V8b:1,x$b:2,U9b:3,r$b:4,sac:5,$8b:6,r9b:7,pu:8,Qj:9,$ca:10,Nkb:11,Gaa:12,Uib:13,Tib:14,vlb:15,ulb:16,Yib:17,Mlb:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},x8b:{gu:0,Z7b:1,name:["NETWORK","DECODE"]},Q$b:{$7b:"delayedSeamless",g9b:"hideLongTransition"}};},95994:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K=!1;},89718:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z;Object.defineProperties(b,{__esModule:{value:!0}});b.qCa=void 0;c=a(70655);k=a(28075);f=c.__importStar(a(67841));l=c.__importDefault(a(29736));d=new l.default.Console("ASEJS_ERROR_DIRECTOR","asejs");g=c.__importDefault(a(54186));n=a(45056);h=a(89098);m=l.default.cq;p=m.NY;q={};u={};r=[g.default.Fg.gu,!1];a=[g.default.Fg.gu,!0];t=[g.default.Fg.wD,!1];w=[g.default.Fg.wD,!0];v=[g.default.Fg.URL,!0];y=[g.default.Fg.URL,!1];x=[-1,!1];z=[g.default.Fg.wD,!1];q[p.$6b]=t;q[p.UNKNOWN_ERROR]=t;q[p.X9b]=t;q[p.Jgb]=t;q[p.WAa]=t;q[p.Vgb]=t;q[p.Ngb]=w;q[p.bgb]=w;q[p.dAa]=z;q[p.bAa]=z;q[p.cgb]=x;q[p.dgb]=z;q[p.egb]=z;q[p.Zfb]=t;q[p.agb]=t;q[p.cAa]=r;q[p.$fb]=t;q[p.Yfb]=z;q[p.M7b]=w;q[p.Xhb]=z;q[p.uDa]=z;q[p.tDa]=z;q[p.qDa]=z;q[p.rDa]=z;q[p.Whb]=v;q[p.Nba]=w;q[p.KZ]=v;q[p.Oba]=a;q[p.Pba]=w;q[p.Zhb]=v;q[p.LZ]=z;q[p.vDa]=w;q[p.Yhb]=w;q[p.Qgb]=w;q[p.Kgb]=t;q[p.Alb]=t;q[p.Agb]=t;q[p.Bgb]=t;q[p.Cgb]=t;q[p.Dgb]=t;q[p.Egb]=t;q[p.Fgb]=t;q[p.Ggb]=t;q[p.Hgb]=t;q[p.Igb]=t;q[p.Lgb]=t;q[p.Mgb]=t;q[p.Ogb]=t;q[p.Pgb]=t;q[p.Rgb]=t;q[p.Sgb]=t;q[p.Tgb]=t;q[p.Ugb]=t;q[p.Wgb]=t;q[p.Xgb]=t;q[p.zlb]=z;q[p.TIMEOUT]=r;u[p.dAa]=!0;u[p.uDa]=!0;u[p.tDa]=!0;u[p.rDa]=!0;u[p.WAa]=!0;r=(function(){var m_P;m_P=2;for(;m_P !== 13;){switch(m_P){case 2:A.prototype.Pa=function(){var L2z;L2z=2;for(;L2z !== 1;){switch(L2z){case 2:this.Sk.clear();L2z=1;break;}}};A.prototype.zN=function(B){var Y$C;Y$C=2;for(;Y$C !== 1;){switch(Y$C){case 2:this.N9=B;Y$C=1;break;}}};m_P=5;break;case 5:A.prototype.jr=function(B,C,D,F,G){var N9g,Y,ea,ca,E,J,L,N,I,O,K,H,M,R,v0i,Fa,Ja,Xa,cb,U,Z,oa,Ga,p74,c4H,Y1C,k99,ka,P,e_z,U89,l5j;N9g=2;for(;N9g !== 33;){switch(N9g){case 35:return;break;case 16:Y=M.WYa(B.stream);N9g=15;break;case 27:(ea=R[0],ca=R[1]);N9g=26;break;case 22:C=M.m_b(C.host,C.port).map(function(ua){var b41,pa;b41=2;for(;b41 !== 5;){switch(b41){case 2:return {url:(null === (pa=ua.url.stream.nx) || void 0 === pa?void 0:pa.sT(!0)) || "",Lc:ua.$b.id,$b:ua.$b,stream:ua.url.stream,urls:ua.$b.urls};break;}}}).filter(function(ua){var R8N;R8N=2;for(;R8N !== 1;){switch(R8N){case 2:return "" !== ua.url;break;}}});N9g=27;break;case 15:C=M.WZa(B).map(function(ua){var y7T;y7T=2;for(;y7T !== 1;){switch(y7T){case 2:return {url:B.url,Lc:ua.id,$b:ua,stream:Y,urls:ua.urls,I:B.xj};break;}}});N9g=27;break;case 2:var l4v=" : crit";l4v+="ical error cou";l4v+="nt =";l4v+=" ";var A$4=" ";A$4+="o";A$4+="n";A$4+=" ";var m0y=" h";m0y+="tt";m0y+="pC";m0y+="ode ";var u$C="Fa";u$C+="ilu";u$C+="r";u$C+="e ";K=m.NY.name;K=F?K[F]:void 0;(H=this.config,M=this.Tk);d.warn(u$C + K + m0y + D + A$4 + JSON.stringify(B?B:C) + l4v + this.Zu);N9g=3;break;case 3:N9g=F && f.isArray(q[F])?9:34;break;case 26:N9g=H.YG?25:24;break;case 13:this.I2++;N9g=12;break;case 18:N9g=R !== x?17:33;break;case 17:N9g=B?16:23;break;case 12:var O4Y="critic";O4Y+="alN";O4Y+="etworkError";var Y$y="criti";Y$y+="calNetwork";Y$y+="Err";Y$y+="or";var C4T="req";C4T+="uestEr";C4T+="ror";var L0L="re";L0L+="q";L0L+="u";L0L+="estError";R=q[F];M.ha && B && (this.config.eWa && F === p.KZ && 404 === D?(B.Yn || (B.Yn={Qp:0,nN:void 0}),(null === (L=B.Yn) || void 0 === L?void 0:L.Qp) < this.config.u6?R=y:(null === (N=B.Yn) || void 0 === N?void 0:N.Qp) === this.config.u6 && B.Yn.Qp++):F === p.Pba && B.zna && (R=t));this.ly={$x:D,Of:F,OWa:K,Mh:G};this.events.emit(L0L,{type:C4T,$x:D});u[F] && (++this.Zu,this.events.emit(Y$y,{type:O4Y,Of:F}));N9g=18;break;case 23:N9g=C?22:21;break;case 25:try{v0i=2;for(;v0i !== 8;){switch(v0i){case 9:Ga=oa.next();v0i=1;break;case 5:var H5D="er";H5D+="ro";H5D+="r";var f3K=" Ret";f3K+="r";f3K+="y count increasing";f3K+=" ";var K1s="] se";K1s+="gmen";K1s+="tId ";var X4M=" Retry in progress already, skip updating retry c";X4M+="ounter";X4M+="s";(Fa=Ga.value,Ja=Fa.urls,Xa=Fa.url,cb=Fa.Lc,U=Fa.stream,Z=Fa.$b);R === z || R === t?this.Vsa.kWb(Fa,{wQa:cb,uX:R,$x:D,Of:F,OWa:K,Mh:G}):this.config.eWa && R === y && (null === (I=null === U || void 0 === U?void 0:U.nx) || void 0 === I?0:I.ha) && (null === (O=null === U || void 0 === U?void 0:U.nx) || void 0 === O?void 0:O.$b) === Z.id && B && B.Yn?B.Yn.nN?d.log(B.mediaType + " " + B.xj + X4M + B.Yn.Qp):(B.Yn.Qp++,d.log("[" + B.mediaType + K1s + B.xj + f3K + B.Yn.Qp),U.nx.yqb(B.xj || 0)):Ja.some(function(ua){var D2F;D2F=2;for(;D2F !== 5;){switch(D2F){case 2:M.jr(ea,ca,ua.url);return ea === g.default.Fg.wD;break;}}});!this.N9 || 0 !== D && void 0 !== D || this.N9.Xua(H5D,Xa);v0i=9;break;case 1:v0i=!Ga.done?5:8;break;case 2:(oa=c.__values(C),Ga=oa.next());v0i=1;break;}}}catch(ua){var Q;Q={error:ua};}finally{p74=2;for(;p74 !== 1;){switch(p74){case 2:try{c4H=2;for(;c4H !== 1;){switch(c4H){case 2:Ga && !Ga.done && (E=oa.return) && E.call(oa);c4H=1;break;}}}finally{Y1C=2;for(;Y1C !== 5;){switch(Y1C){case 1:throw Q.error;Y1C=5;break;case 2:Y1C=Q?1:5;break;}}}p74=1;break;}}}N9g=33;break;case 21:var x7X="Invalid affected for netw";x7X+="ork f";x7X+="ailu";x7X+="re";d.error(x7X);N9g=35;break;case 9:N9g=this.uka?8:12;break;case 24:try{k99=2;for(;k99 !== 13;){switch(k99){case 1:k99=!P.done?5:13;break;case 2:(ka=c.__values(C),P=ka.next());k99=1;break;case 8:k99=R === z && !this.rYb(cb)?13:7;break;case 6:var T03="e";T03+="r";T03+="r";T03+="or";!this.N9 || 0 !== D && void 0 !== D || this.N9.Xua(T03,Xa);k99=14;break;case 7:Ja.some(function(ua){var l7x;l7x=2;for(;l7x !== 5;){switch(l7x){case 2:M.jr(ea,ca,ua.url);return ea === g.default.Fg.wD;break;}}});k99=6;break;case 5:Fa=P.value;cb=Fa.Lc;Ja=Fa.urls;Xa=Fa.url;k99=8;break;case 14:P=ka.next();k99=1;break;}}}catch(ua){var fa;fa={error:ua};}finally{e_z=2;for(;e_z !== 1;){switch(e_z){case 2:try{U89=2;for(;U89 !== 1;){switch(U89){case 2:P && !P.done && (J=ka.return) && J.call(ka);U89=1;break;}}}finally{l5j=2;for(;l5j !== 5;){switch(l5j){case 1:throw fa.error;l5j=5;break;case 2:l5j=fa?1:5;break;}}}e_z=1;break;}}}N9g=33;break;case 8:N9g=this.I2 >= this.config.Zpa?7:13;break;case 7:var N$p=" consec";N$p+="utive network failure ";N$p+="mode in underflow mode";var Z8X="Forcing perman";Z8X+="ent";Z8X+=" network f";Z8X+="ailure after ";d.info(Z8X + this.I2 + N$p);this.Tk.jr(g.default.Fg.gu,!0);N9g=14;break;case 14:return;break;case 34:var f19="Unmap";f19+="ped failure code in ";f19+="JSASE error d";f19+="irector : ";R7xOY.C8s(0);d.error(R7xOY.A_X(F,f19));N9g=33;break;}}};A.prototype.rYb=function(B){var w4k,C,D,F;w4k=2;for(;w4k !== 7;){switch(w4k){case 8:this.wwa[B]={Rd:C,count:1};w4k=7;break;case 2:(C=l.default.time.Ga(),D=this.config,F=this.wwa[B]);w4k=1;break;case 1:w4k=F?5:8;break;case 9:return F.Py=!0;break;case 5:w4k=F.Rd < this.TL?4:3;break;case 4:(F.Rd=C,F.count=1);w4k=7;break;case 3:w4k=!(F.Rd >= C - D.l$ || F.Py || (F.Rd=C,++F.count,F.count < D.K6))?9:7;break;}}};A.prototype.fKb=function(B){var A3K,E,J,L,C,D,F,G;A3K=2;for(;A3K !== 7;){switch(A3K){case 9:var G6V="te";G6V+="mpor";G6V+="aryNetworkEr";G6V+="ror";var J6p="tempor";J6p+="aryNe";J6p+="tworkE";J6p+="rror";B || this.events.emit(J6p,{type:G6V,errorCode:E,httpCode:J,nativeCode:L});A3K=8;break;case 3:(E=this.ly.Of,J=this.ly.$x,L=this.ly.Mh);A3K=9;break;case 8:F?(this.mN && (clearTimeout(this.mN),this.mN=void 0),this.USa(),this.Vsa.reset(),this.sna({ZMb:B,ATb:E,CTb:J,DTb:L})):this.mN || (this.mN=setTimeout(function(){var y76;y76=2;for(;y76 !== 5;){switch(y76){case 2:C.mN=void 0;C.b9();y76=5;break;}}},G.Mqa));A3K=7;break;case 4:A3K=this.ly?3:9;break;case 2:var g08=" m";g08+="s";g08+=" ago";var M9L=" last su";M9L+="cce";M9L+="ss wa";M9L+="s ";var m_4="Networ";m_4+="k has f";m_4+="aile";m_4+="d ";var J52="tempor";J52+="ari";J52+="ly";var j_w="p";j_w+="erm";j_w+="ane";j_w+="nt";j_w+="ly";(C=this,D=l.default.time.Ga() - this.TL,F=B,G=this.config);R7xOY.m_t(1);d.warn(R7xOY.N0G(B?j_w:J52,m_4,D,M9L,g08));!B && D > G.Lqa && (F=!0);A3K=4;break;}}};A.prototype.b9=function(){var Z_s,B;Z_s=2;for(;Z_s !== 5;){switch(Z_s){case 2:B=this;this.KSa.aha || this.KSa.feb(function(){var v5j;v5j=2;for(;v5j !== 1;){switch(v5j){case 2:B.mN || (B.Tk.b9(),B.wwa={},B.lB());v5j=1;break;}}});Z_s=5;break;}}};m_P=8;break;case 8:A.prototype.y$=function(B){var T57,C;T57=2;for(;T57 !== 6;){switch(T57){case 2:C=this.config;this.TL=Math.max(B.Jh || l.default.time.Ga(),this.TL);this.USa();this.uka=!1;this.I2=0;this.Tk.ha && void 0 !== B.xj && !B.stream.fta(B.xj) && this.Tk.WYa(B.stream).nx.aYb(B.xj);C.YG && this.Vsa.y$(B);T57=7;break;case 7:var l6k="updati";l6k+="ngLastSuc";l6k+="ce";l6k+="ssEvent";var B2I="updatingLastSucce";B2I+="ssE";B2I+="vent";this.events.emit(B2I,{type:l6k});T57=6;break;}}};A.prototype.sh=function(){var r5S,B,C,D;r5S=2;for(;r5S !== 3;){switch(r5S){case 2:var U8c="m";U8c+="s";var p4u="Se";p4u+="tti";p4u+="ng underflow timeout in ";(B=this,C=this.config,D=C.G6);this.TL=Math.max(l.default.time.Ga(),this.TL);!C.jdb || this.wX || C.JRb || (d.info(p4u + D + U8c),this.wX=setTimeout(function(){var D94;D94=2;for(;D94 !== 4;){switch(D94){case 2:var C_E="F";C_E+="orcing per";C_E+="manent network failure a";C_E+="fter ";var w_T="ms, si";w_T+="nce underflow with no su";w_T+="cces";w_T+="s";R7xOY.C8s(2);d.info(R7xOY.N0G(w_T,C_E,D));B.wX=void 0;B.Tk.jr(g.default.Fg.gu,!0);D94=4;break;}}},D));this.config.wka && (this.uka=!0);r5S=3;break;}}};m_P=6;break;case 6:A.prototype.USa=function(){var j31;j31=2;for(;j31 !== 1;){switch(j31){case 2:var J3E="C";J3E+="l";J3E+="eared u";J3E+="nderflow timeout";this.wX && (clearTimeout(this.wX),this.wX=void 0,d.info(J3E));j31=1;break;}}};return A;break;}}function A(B,C,D,F){var Q_V;Q_V=2;for(;Q_V !== 18;){switch(Q_V){case 9:var G_n="1SI";G_n+="Y";G_n+="bZrNJ";G_n+="C";G_n+="p9";this.Sk=new k.Re();G_n;this.KSa=new h.Nda();q[p.qDa]=C.$Kb?w:z;Q_V=14;break;case 2:this.Tk=B;this.config=C;this.sna=D;this.lB=F;Q_V=3;break;case 3:this.events=new k.EventEmitter();Q_V=9;break;case 11:this.wwa={};this.Vsa=new n.kKa(B,F,C);this.uka=!1;this.I2=0;Q_V=18;break;case 14:var f3y="n";f3y+="etwork";f3y+="Fail";f3y+="ed";this.Sk.addListener(this.Tk,f3y,this.fKb.bind(this));this.TL=l.default.time.Ga();this.Zu=0;Q_V=11;break;}}}})();b.qCa=r;},55326:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Sya=void 0;c=a(70655);k=a(28075);f=c.__importDefault(a(29736)).default.fj;r=(function(l){function d(g){var n;n=l.call(this) || this;n.OOa=g;n.x0=g.groupId;n.J0=new k.Re();n.J0.on(n,f.Bk.FP,n.zob);n.J0.on(n,f.Bk.Hz,n.Kfa);return n;}c.__extends(d,l);d.prototype.vTb=function(g,n,h){f.prototype.open.call(this,g,n,h);};d.prototype.E_b=function(g){this.x0=g;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.x0;},enumerable:!1,configurable:!0}});d.prototype.de=function(){this.J0 && this.J0.clear();f.prototype.de.call(this);};d.prototype.zob=function(g){this.OOa.lWb(g.probed,g.affected);this.de();};d.prototype.Kfa=function(g){this.OOa.iWb(g.probed,g.affected);this.de();};return d;})(f);b.Sya=r;},45056:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.kKa=void 0;c=a(44724);k=a(55326);f=a(29736)["default"];new f.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function l(d,g,n){this.zQ=d;this.lB=g;this.config=n;this.Gs={};this.lC={};this.hE=!0;this.groupId=1;}l.prototype.kWb=function(d,g){var n,h,m,p,q,u,t,w,v,y;n=this;h=this.config;m=d.Lc;p=d.stream;q=d.$b.location;(0,c.assert)(p,"Failing url should have an associated stream");(0,c.assert)(q,"Failing url should have an associated location");u=[];t=p.li[0];w=!1;v=this.Gs[m];y=f.time.Ga();if(!v)v=this.m0b(m,y,g,d);else if(v.Rd >= y - h.l$)return;v.Py || (t && q.id === t.id && (d.isPrimary=!0),v.Rd=y,v.Py=!1,v.error=g,++v.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(x){var z,A,B,C,D;B=x.$b.id;C=B + "-" + m;D=n.lC[C];if(void 0 === D || void 0 === D.A8)(D && D.gm && clearTimeout(D.gm),x=(null === (A=null === (z=d.stream) || void 0 === z?void 0:z.nx) || void 0 === A?0:A.ha)?n.OHb(d.stream.nx,d.I,x.url):x.url,(0,c.assert)(x,("Unexpected probeUrl: ").concat(x)),z=n.cUa(x,d,B),n.lC[C]={ia:!1,count:0,A8:z.fk()},u.push(z.fk()),w=!0);-1 === v.eva.indexOf(B) && v.eva.push(B);}),0 < u.length && (h={ts:f.time.Ga(),es:g.wQa,fc:g.Of,fn:g.OWa,nc:g.Mh,pb:u,gid:this.groupId},g.$x && (h.hc=g.$x),this.kG(h,"errpb")),w && this.groupId++));};l.prototype.cUa=function(d,g,n){var h,m;h=new k.Sya(this);m="random=" + parseInt(("").concat(1E7 * Math.random()));h.vTb(d + (-1 !== d.indexOf("?")?"&":"?") + m,g,n);return h;};l.prototype.m0b=function(d,g,n,h){var m;m=this.Gs[d];h=h.$b.location;m || (m=this.Gs[d]={count:0,Rd:g,Py:!1,error:n,eva:[],Xsa:{},location:h,I:n.I,Kcc:n});return m;};l.prototype.getState=function(d){return this.Gs[d];};l.prototype.Jvb=function(d){this.Gs[d]=void 0;};l.prototype.kG=function(d,g){var n;if(this.hE){n={type:"logdata",target:"endplay",fields:{}};n.fields[g]={type:"array",value:d,adjust:["ts"]};this.zQ.zG(n);}};l.prototype.OHb=function(d,g,n){var h;h=void 0 === g || g === d.Qn().IN;return d.sT(h,h?void 0:g,n);};l.prototype.lWb=function(d,g){var n,h,m,p,q,u,t,w,v,y,x,z;n=this;p=this.zQ;q=this.config;u=g.Lc;t=this.Gs[u];if(t){w=d.url;v=this.lC[d.Lc + "-" + u];if(v){y=t.error;v && v.gm && clearTimeout(v.gm);v.ia=!0;v.count=0;v.A8=void 0;t.Xsa[d.Lc]=!0;v=this.Gs[d.Lc];if((null === v || void 0 === v?0:v.Py) && q.mR){p.l9a(d.Lc,v.error.uX[1]);if(this.hE){x={ts:f.time.Ga(),id:d.requestId,servid:g.Lc,gid:d.groupId?d.groupId:-1};this.kG(x,"errst");}this.Gs[d.Lc]=void 0;this.lB();}if(w !== g.url){z=this.lC[u + "-" + u];z && z.ia || (u=null === v || void 0 === v?void 0:v.location,q=Math.min((null === (m=null === (h=null === u || void 0 === u?void 0:u.Wb) || void 0 === h?void 0:h.p5) || void 0 === m?void 0:m.Da) || Math.random() * q.H6,q.H6),setTimeout(function(){var A;if(!(!1 !== t.Py || z && z.ia) && (t.Py=!0,p.jr(y.uX[0],y.uX[1],g.stream.nx.url,y),n.hE)){A={ts:f.time.Ga(),id:d.requestId,servid:g.Lc,gid:d.groupId?d.groupId:-1};n.kG(A,"erep");}},q));}this.hE && (x={ts:f.time.Ga(),id:d.requestId,result:1,servid:d.Lc,gid:d.groupId?d.groupId:-1},this.kG(x,"pbres"));}}};l.prototype.iWb=function(d,g){var n,h,m,p,q,u,t,w,v,y,x,z,A;n=this;p=this.zQ;q=this.config;u=g.Lc;t=this.Gs[u];w=d.Lc;v=this.lC[w + "-" + u];if(v && t){y=0;v.ia=!1;v.A8=void 0;t.Xsa[w]=!1;x=t.eva;if(q.mR && w === u && g.isPrimary){z=t.location;z=(null === (m=null === (h=null === z || void 0 === z?void 0:z.Wb) || void 0 === h?void 0:h.p5) || void 0 === m?void 0:m.Da) || 300 * Math.random();h=Math.min(z * Math.pow(2,v.count),12E4);h+=Math.random() * (1E4 > h?100:1E4);v.gm=setTimeout(function(){var B;v.gm=void 0;B=n.cUa(d.url,g,w);B.E_b(d.groupId);v.A8=B.fk();},h);}++v.count;if(w === u && (y=0,x.forEach(function(B){!1 === t.Xsa[B] && y++;}),x.length === y && t.count >= q.K6)){A=t.error;t.Py=!0;q=g.stream;(0,c.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(B){p.jr(A.uX[0],A.uX[1],B.url,A);n.hE && (B={ts:f.time.Ga(),id:-1,servid:B.$b.id},n.kG(B,"erep"));});}this.hE && (q={ts:f.time.Ga(),id:d.requestId,result:0,servid:d.Lc,gid:d.groupId?d.groupId:-1},this.kG(q,"pbres"));}};l.prototype.y$=function(d){var g,n,h;if(d.url){n=this.zQ;h=n.j_b(d.url);h || (h=null === (g=this.zQ.WZa(d)[0]) || void 0 === g?void 0:g.id);h && (d=this.Gs[h]) && d.Py && this.config.mR && (n.l9a(d.error.wQa,!1),this.hE && (n={ts:f.time.Ga(),id:-1,servid:h},this.kG(n,"errst")),this.Jvb(h),(h=this.lC[h + "-" + h]) && h.gm && clearTimeout(h.gm));}};l.prototype.reset=function(){var d,g,n;d=this.lC;for(n in d){d.hasOwnProperty(n) && (g=d[n + "-" + n]) && g.gm && clearTimeout(g.gm);}this.lC={};this.Gs={};};return l;})();b.kKa=r;},3833:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.MVa=b.JMb=b.n1a=b.NZa=void 0;c=a(4145);b.NZa=function(k,f){if((k=k.yb.u.Pv) && 0 !== k.length)return (0,c.yc)(k,function(l){return l.La.G <= f && f < l.$a.G;});};b.n1a=function(k,f){return f.index === k.$e.index?!0:(k=k.yb.u.Pv) && 0 !== k.length?k.some(function(l){l=l.La;return f.La.JB(l) && l.lessThan(f.$a);}):!1;};b.JMb=function(k,f){return f.index === k.lf.index?!0:(k=k.yb.u.Pv) && 0 !== k.length?k.some(function(l){l=l.$a;return f.La.lessThan(l) && l.JB(f.$a);}):!1;};b.MVa=function(k,f,l,d){var g,n,h,m,p,q,u,t;k=null === (g=f.Ha) || void 0 === g?void 0:g.start;g=null === (n=f.Ha) || void 0 === n?void 0:n.end;t=n=!1;if((null === d || void 0 === d?0:d.WMb) || (null === d || void 0 === d || !d.HMb) && f.La.lessThan(l.La)){if(u=f.lla(l.La.G))(u=(null !== (m=null === (h=f.Ha) || void 0 === h?void 0:h.start) && void 0 !== m?m:0) + u.Fj,k=Math.max(null !== k && void 0 !== k?k:0,u));u=l.La.G;n=!0;}if((null === d || void 0 === d || !d.OMb) && f.$a.greaterThan(l.$a)){if(u=f.lla(l.$a.G))(u=(null !== (q=null === (p=f.Ha) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + u.Fj,g=Math.min(null !== g && void 0 !== g?g:Infinity,u),f.aV=f.index);u=l.$a.G;t=!0;}if(void 0 !== k || void 0 !== g)(f.wi({start:k,end:g}),void 0 !== u && (!f.Yv || u > f.Yv) && f.AN(u));f.Q_b(l.region,n,t);};},82677:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.yya=void 0;c=a(70655);k=a(42229);r=(function(){function f(l,d){this.mk=l;this.filter=d;this.J3a=Math.max(l.max_n || 10,0);this.reset();}f.prototype.reset=function(){this.XV=[];this.offset=0;this.Zv=this.EC=null;this.filter.reset();this.mX=null;};f.prototype.add=function(l,d,g){var n;n=this.Zv;null !== n && g > n && (this.offset+=Math.max(d - n,0),this.Zv=null);for((0,k.P0a)(this.XV,[d - this.offset,g - this.offset,l]);this.XV && this.XV.length > this.J3a;){l=c.__read(this.XV.shift(),3);this.filter.add(l[2],l[0],l[1]);}this.mX=null;};f.prototype.get=function(l,d){var g,m;if(!this.mX){this.mX=this.filter.En();try{for(var n=c.__values(this.XV),h=n.next();!h.done;h=n.next()){m=c.__read(h.value,3);this.mX.add(m[2],m[0],m[1]);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (g=n.return) && g.call(n);}finally{if(p)throw p.error;}}}p=this.Zv;return this.mX.get((null === p?l:p) - this.offset,d);};f.prototype.En=function(){var l;l=new f(this.mk,this.filter.En());l.Zv=this.Zv;l.offset=this.offset;return l;};f.prototype.start=function(l){var d;d=this.Zv;null !== d && l > d && (this.offset+=l - d,this.Zv=null);this.filter.start(l - this.offset);};f.prototype.stop=function(l){this.Zv=null === this.Zv?l:Math.min(this.Zv,l);this.filter.stop(l - this.offset);};f.prototype.flush=function(){this.filter.flush();};f.prototype.toString=function(){return "AggregatingFilter(" + this.J3a + ", " + this.filter.toString() + ")";};return f;})();b.yya=r;},8533:function(r){(function(){var Y8Q;Y8Q=2;for(;Y8Q !== 8;){switch(Y8Q){case 2:var d2E="1SIYbZrN";d2E+="J";d2E+="Cp9";b.prototype.start=function(a){var U1Q;U1Q=2;for(;U1Q !== 1;){switch(U1Q){case 2:this.qg?a < this.qg?(this.aA+=this.qg - a,this.qg=a):a > this.jb && (this.jb=this.qg=a):this.jb=this.qg=a;U1Q=1;break;}}};b.prototype.stop=function(a){var w2L;w2L=2;for(;w2L !== 1;){switch(w2L){case 2:this.jb && a > this.jb && (this.aA+=a - this.jb,this.jb=a);w2L=1;break;}}};b.prototype.add=function(a,c,k){var o61;o61=2;for(;o61 !== 4;){switch(o61){case 2:this.start(c);this.stop(k);this.mc+=a;o61=4;break;}}};b.prototype.get=function(){var X7q;X7q=2;for(;X7q !== 1;){switch(X7q){case 2:return {Da:this.aA?Math.floor(8 * this.mc / this.aA):null,rVa:this.aA?this.aA:0};break;}}};r.exports=b;d2E;Y8Q=8;break;}}function b(){var w67;w67=2;for(;w67 !== 5;){switch(w67){case 2:this.aA=this.mc=0;this.jb=this.qg=void 0;w67=5;break;}}}})();},90494:function(r,b,a){var k,f;function c(l){this.Y={JU:l.maxc || 25,Wia:l.c || .5,m6b:l.w || 15E3,Atb:l.b || 5E3};k.call(this,this.Y.m6b,this.Y.Atb);this.QQ();}k=a(24068);f=a(14378).TDigest;c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var l;l=this.mt(0);k.prototype.shift.call(this);null !== l && (this.We.push(l,1),this.hA=!0);return l;};c.prototype.flush=function(){var l;l=this.get();this.We.push(l,1);this.hA=!0;k.prototype.reset.call(this);return l;};c.prototype.get=function(){return this.e_a();};c.prototype.kL=function(){var l;l=this.e_a();return {min:l.min,p10:l.Pra,p25:l.Ap,p50:l.bn,p75:l.Bp,p90:l.Qra,max:l.max,centroidSize:l.Vub,sampleSize:l.sampleSize,centroids:l.qj};};c.prototype.e_a=function(){var l;if(0 === this.We.size())return null;l=this.We.si([0,.1,.25,.5,.75,.9,1]);if(l[2] === l[4])return null;if(this.hA || !this.kh)(this.hA=!1,this.kh={min:l[0],Pra:l[1],Ap:l[2],bn:l[3],Bp:l[4],Qra:l[5],max:l[6],si:this.We.si.bind(this.We),Vub:this.We.size(),sampleSize:this.We.n,qj:this.CGb(),kL:this.kL.bind(this)});return this.kh;};c.prototype.CGb=function(){var l;if(0 === this.We.size())return null;if(!this.hA && this.kh)return this.kh.centroids;l=this.We.si([.25,.75]);if(l[0] === l[1])return null;this.We.size() > this.Y.JU && this.We.Cx();l=this.We.yr(!1).map(function(d){return {mean:d.Qf,n:d.n};});return JSON.stringify(l);};c.prototype.a_a=function(){return this.We.summary();};c.prototype.size=function(){return this.We.size();};c.prototype.toString=function(){return "btdtput(" + this.LJ + "," + this.zd + "," + this.nj + "): " + this.We.summary();};c.prototype.QQ=function(){this.We=new f(this.Y.Wia,this.Y.JU);};r.exports=c;},14482:function(r,b,a){var k,f;function c(l,d,g,n){k.call(this,g,n);this.Au=new f(l);this.dob=d;}k=a(24068);f=a(41176);c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var l;l=this.mt(0);k.prototype.shift.call(this);null !== l && this.Au.iQa(l);return l;};c.prototype.flush=function(){var l;l=this.get();this.Au.iQa(l);k.prototype.reset.call(this);return l;};c.prototype.get=function(){var l;l=this.oT();return {sampleSize:this.tT(),ksa:l,Uqa:l.bn?(l.Bp - l.Ap) / l.bn:void 0};};c.prototype.tT=function(){return this.Au.tT();};c.prototype.oT=function(){return this.Au.tT() < this.dob?{Ap:void 0,bn:void 0,Bp:void 0,sampleSize:void 0,si:void 0}:{Ap:this.Au.bK(25),bn:this.Au.bK(50),Bp:this.Au.bK(75),sampleSize:this.Au.tT(),si:this.Au.bK.bind(this.Au)};};c.prototype.toString=function(){return "biqr(" + this.LJ + "," + this.zd + "," + this.nj + ")";};r.exports=c;},9153:function(r,b,a){var f,l,d,g;function c(n,h,m){f.call(this,n,h,m);}function k(n,h){l.call(this,new c(n,h,!1));}f=a(73856);l=a(29374);d=a(312).YXa;g=a(312).l_a;c.prototype=Object.create(f.prototype);c.prototype.Da=function(){return Math.floor(8 * d(this.Ad) / this.zd);};c.prototype.Zd=function(){return Math.floor(64 * g(this.Ad) / (this.zd * this.zd));};c.prototype.get=function(){return {Da:this.Da(),Zd:this.Zd(),Dbc:this.Ad.length};};c.prototype.toString=function(){return "bsw(" + this.LJ + "," + this.zd + "," + this.nj + ")";};k.prototype=Object.create(l.prototype);k.prototype.setInterval=function(n){this.kQ.setInterval(n);};r.exports=k;},5640:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oAa=void 0;c=a(70655).__importDefault(a(8533));r=(function(){var J7N;J7N=2;function k(){var r_J;r_J=2;for(;r_J !== 5;){switch(r_J){case 2:var g0s="1";g0s+="SIYb";g0s+="ZrNJCp9";this.S0={};g0s;r_J=5;break;}}}for(;J7N !== 9;){switch(J7N){case 3:return k;break;case 12:return k;break;case 2:k.prototype.add=function(f,l,d,g){var B8q,n;B8q=2;for(;B8q !== 4;){switch(B8q){case 2:n=this.S0;void 0 === n[g] && (n[g]=new c.default());n[g].add(f,l,d);B8q=4;break;}}};k.prototype.start=function(f,l){var u66,d;u66=2;for(;u66 !== 4;){switch(u66){case 2:d=this.S0;void 0 === d[l] && (d[l]=new c.default());d[l].start(f);u66=4;break;}}};k.prototype.stop=function(f,l){var i2V,d;i2V=2;for(;i2V !== 5;){switch(i2V){case 2:d=this.S0;void 0 !== d[l] && d[l].stop(f);i2V=5;break;}}};k.prototype.get=function(){var I$t,f,l,d,g,n,h;I$t=2;for(;I$t !== 8;){switch(I$t){case 2:(f=this.S0,l=Object.keys(f).map(function(m){var u_G;u_G=2;for(;u_G !== 1;){switch(u_G){case 4:return parseInt(m);break;case 2:return parseInt(m);break;}}}),d=[],g=0);I$t=1;break;case 3:g++;I$t=1;break;case 1:I$t=g < l.length?5:9;break;case 9:return d;break;case 5:(n=l[g],h=f[n].get());h && d.push({cdnid:n,avtp:h.Da,tm:h.rVa});I$t=3;break;}}};J7N=3;break;}}})();b.oAa=r;},4978:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.DAa=void 0;c=a(70655);k=a(14378);new (c.__importDefault(a(29736)).default.Console)("ASEJS_TDIGEST_FILTER","media|asejs");r=(function(){function f(l){this.config=l;this.Xia=l.c;this.cqa=l.sec;this.xU=l.xU;this.GT=l.GT;this.D5=l.D5;this.y0b=l.gcc;this.MF=l.MF;this.H3a=l.H3a;this.reset();}f.prototype.reset=function(){this.ah=new k.TDigest(this.Xia,this.cqa);this.jb=null;};f.prototype.add=function(l,d,g){var n,h,m,u;g=Math.max(g - d,1);l=8 * l / g;if(this.y0b){null === this.jb && (this.jb=d);h=Math.pow(2,(d - this.jb) / this.MF);m=g * h;if(h >= this.H3a){m=new k.TDigest(this.Xia,this.cqa);try{for(var p=c.__values(this.ah.yr()),q=p.next();!q.done;q=p.next()){u=q.value;m.push(u.Qf,u.n / h);}}catch(w){var t;t={error:w};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(t)throw t.error;}}this.ah=m;m=g;this.jb=d;}this.ah.push(l,m);}else this.ah.push(l,g);};f.prototype.get=function(){var l;l=this.ah.si([this.xU,this.GT,this.D5]);return {low:l[0] || 0,high:l[1] || 0,initial:l[2] || 0};};f.prototype.En=function(){var l,d,g,m;d=new f(this.config);g=new k.TDigest(this.Xia,this.cqa);try{for(var n=c.__values(this.ah.yr()),h=n.next();!h.done;h=n.next()){m=h.value;g.push(m.Qf,m.n);}}catch(q){var p;p={error:q};}finally{try{h && !h.done && (l=n.return) && l.call(n);}finally{if(p)throw p.error;}}d.ah=g;return d;};f.prototype.flush=function(){};f.prototype.start=function(){};f.prototype.stop=function(){};return f;})();b.DAa=r;},42874:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mBa=b.dhb=b.nba=b.Hhb=b.ehb=void 0;c=a(70655);k=a(9133);a=(function(){return function(){};})();b.ehb=a;f=(function(){function l(d,g,n,h,m){this.alpha=d;this.Da=g;this.weight=h;this.aea=n * this.weight;this.nX=m;}l.prototype.En=function(){return new l(this.alpha,this.Da,this.Zd,this.weight,this.nX);};Object.defineProperties(l.prototype,{Zd:{get:function(){return this.weight?this.aea / this.weight:0;},enumerable:!1,configurable:!0}});l.prototype.update=function(d,g,n){var h,m,p,q;h=this.alpha;m=this.weight;p=this.nX;q=h * (d - p);5 < q && (this.weight/=Math.exp(q),this.nX=p=d);d=Math.exp(h * (g - p)) - Math.exp(h * (d - p));g=this.weight+=d;h=this.Da;this.Da=p=h + d * (n - h) / g;this.aea=m?this.aea * (g - d) / m + d * (n - p) * (n - h):0;};return l;})();b.Hhb=f;r=(function(){var j_g;j_g=2;for(;j_g !== 14;){switch(j_g){case 7:l.prototype.flush=function(){};return l;break;case 4:l.prototype.add=function(d,g,n){var c6e=R7xOY;var r5f,h;r5f=2;for(;r5f !== 7;){switch(r5f){case 9:c6e.m_t(3);this.yH.update(g,n,c6e.A_X(h,d));c6e.C8s(4);this.zH.update(g,n,c6e.A_X(8,d,h));r5f=7;break;case 5:h=this.EC;this.EC=null === h?n:Math.max(h,n);c6e.m_t(5);h=Math.max(c6e.A_X(n,g),1);r5f=9;break;case 2:h=this.Ar;this.Ar=null === h?g:Math.min(h,g);r5f=5;break;}}};l.prototype.get=function(d,g){var U$u=R7xOY;var G5j,n,h,m,p,q,u,t,w,v;G5j=2;for(;G5j !== 16;){switch(G5j){case 17:(q=this.yH,u=this.zH);G5j=20;break;case 6:m=Math.max(m,p);G5j=14;break;case 4:void 0 === g && (g=this.t4a);m >= p && (g=Math.min(g,this.t4a));p=g * q.Da;G5j=8;break;case 14:U$u.C8s(5);q.update(U$u.N0G(h,n),U$u.N0G(d,n,U$u.m_t(5)),U$u.N0G(m,g,U$u.C8s(3)));G5j=13;break;case 5:G5j=(q=new f(q.alpha,q.Da,q.Zd,q.weight,q.nX),u=new f(u.alpha,u.Da,u.Zd,u.weight,u.nX),0 < q.weight && 0 !== g)?4:20;break;case 13:U$u.C8s(5);u.update(U$u.A_X(h,n),U$u.N0G(d,n),0);G5j=20;break;case 10:m=1E-11 < w?Math.max(v / w,m):m + 2 * t / p;G5j=14;break;case 1:G5j=0 < m?5:17;break;case 20:d=q.weight;g=u.weight;return {Da:d?q.Da:null,Zd:d?q.Zd:null,VJ:g?u.Da:null,oO:g?u.Zd:null};break;case 2:(n=this.Ar || 0,h=this.EC || 0,m=d - h,p=this.QQb,q=this.yH,u=this.zH);G5j=1;break;case 8:U$u.C8s(6);var R4s=U$u.N0G(15,178,12,5,9);t=Math.pow(g,R4s) * q.Zd;G5j=7;break;case 7:G5j=0 === t?6:12;break;case 12:(w=new k.SZ(p,t).Oub(m),v=p - w[1]);U$u.m_t(7);var b20=U$u.N0G(10,7,10,12,4);w=b20 - w[0];G5j=10;break;}}};l.prototype.toString=function(){var N4Q;N4Q=2;for(;N4Q !== 1;){switch(N4Q){case 4:var O5k="Delive";O5k+="ryDi";O5k+="s";O5k+="t(";return O5k.concat(this.MF,")");break;case 2:var x1Q="D";x1Q+="el";x1Q+="ive";x1Q+="ryDist(";return x1Q.concat(this.MF,")");break;}}};l.prototype.stop=function(){};j_g=7;break;case 2:l.prototype.En=function(d){var h7n;h7n=2;for(;h7n !== 8;){switch(h7n){case 2:d || (d=new l(this.mk));d.Ar=this.Ar;d.EC=this.EC;d.yH=this.yH.En();d.zH=this.zH.En();return d;break;}}};l.prototype.reset=function(){var r_8,d;r_8=2;for(;r_8 !== 3;){switch(r_8){case 2:d=-Math.log(.5) / this.MF;this.yH=new f(d,0,0,0,0);this.zH=new f(d,0,0,0,0);this.Ar=this.EC=null;r_8=3;break;}}};l.prototype.start=function(d){var w6B;w6B=2;for(;w6B !== 1;){switch(w6B){case 2:null === this.Ar && (this.Ar=d);w6B=1;break;}}};j_g=4;break;}}function l(d){var o_Y,g,n;o_Y=2;for(;o_Y !== 7;){switch(o_Y){case 8:this.reset();o_Y=7;break;case 3:this.t4a=g;this.QQb=n;o_Y=8;break;case 2:var P5_="1S";P5_+="I";P5_+="YbZrNJC";P5_+="p";P5_+="9";this.mk=d;P5_;o_Y=5;break;case 5:(g=d.min_b,n=d.min_iv);this.MF=d.hl;o_Y=3;break;}}}})();b.nba=r;a=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);return d;})(a);b.dhb=a;r=(function(l){function d(g){var n;n=l.call(this,g) || this;n.mk=g;return n;}c.__extends(d,l);d.prototype.get=function(){var g,n,h;if(0 === this.yH.weight || 0 === this.zH.weight)return {low:null,high:null,initial:null};switch(this.mk.iM){case "deliverytime":g=this.yH;g=new k.SZ(g.Da,g.Zd);(n=this.mk.accuracy,h=this.mk.SPb);return {low:8 / g.Iv(this.mk.GT,n,h),high:8 / g.Iv(this.mk.xU,n,h),initial:8 / g.Iv(this.mk.D5,n,h)};default:return (g=this.zH,g=new k.SZ(g.Da,g.Zd),n=this.mk.accuracy,h=this.mk.SPb,{low:g.Iv(this.mk.xU,n,h),high:g.Iv(this.mk.GT,n,h),initial:g.Iv(this.mk.D5,n,h)});}};d.prototype.En=function(){var g;g=new d(this.mk);l.prototype.En.call(this,g);return g;};d.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.mk.xU,this.mk.GT),"])");};return d;})(r);b.mBa=r;},80194:function(r,b,a){var l;function c(d){this.reset();this.M_b(d);}function k(d){this.setInterval(d);this.reset();}function f(d){this.Sz=new k(d);this.Hb=0;this.Fc=null;}l=a(67841);c.prototype.M_b=function(d){this.dJ=Math.pow(.5,1 / d);this.uQ=d;};c.prototype.reset=function(d){d && d.Da && l.tb(d.Da)?d.Zd && l.tb(d.Zd)?(this.xu=this.Fnb,this.Ho=d.Da,this.Oz=d.Zd + d.Da * d.Da):(this.xu=this.Fnb,this.Ho=d.Da,this.Oz=d.Da * d.Da):this.Oz=this.Ho=this.xu=0;};c.prototype.add=function(d){var g;if(l.tb(d)){this.xu++;g=this.dJ;this.Ho=g * this.Ho + (1 - g) * d;this.Oz=g * this.Oz + (1 - g) * d * d;}};c.prototype.Pma=function(){var d,g,n;if(0 === this.xu)return {Da:0,Zd:0};d=this.Ho;g=this.Oz;n=1 - Math.pow(this.dJ,this.xu);d/=n;g/=n;n=d * d;return {Da:d,Zd:g > n?g - n:0};};c.prototype.get=function(){var d;d=this.Pma();return {Da:Math.floor(d.Da),Zd:Math.floor(d.Zd)};};c.prototype.getState=function(){return 0 === this.xu?null:{a:Number(this.Ho.toPrecision(6)),s:Number(this.Oz.toPrecision(6)),n:this.xu};};c.prototype.Dg=function(d){if(l.Zb(d) || !l.has(d,"a") || !l.has(d,"s") || !l.isFinite(d.a) || !l.isFinite(d.s))return (this.Oz=this.Ho=this.xu=0,!1);this.Ho=d.a;this.Oz=d.s;l.has(d,"n") && l.tb(d.n)?this.xu=d.n:this.xu=16 * this.uQ;return !0;};k.prototype.setInterval=function(d){this.uQ=d;this.dJ=-Math.log(.5) / d;};k.prototype.reset=function(d){this.jb=this.qg=null;d && l.isFinite(d.Da)?this.Ho=d.Da:this.Ho=0;};k.prototype.start=function(d){l.Zb(this.qg) && (this.jb=this.qg=d);};k.prototype.add=function(d,g,n){var h,m,p;l.Zb(this.qg) && (this.jb=this.qg=g);this.qg=Math.min(this.qg,g);g=Math.max(n - g,1);h=this.dJ;m=Math.max(n,this.jb);p=m - this.jb;n=m - n;this.Ho=this.Ho * (0 < p?Math.exp(-h * p):1) + 8 * d / g * (1 - Math.exp(-h * g)) * (0 < n?Math.exp(-h * n):1);this.jb=m;};k.prototype.get=function(d){var g;d=Math.max(d,this.jb);g=this.Ho * Math.exp(-this.dJ * (d - this.jb));d=1 - Math.exp(-this.dJ * (d - this.qg));0 < d && (g/=d);return {Da:Math.floor(g)};};k.prototype.toString=function(){return "ewmav(" + this.uQ + ")";};f.prototype.setInterval=function(d){this.Sz.setInterval(d);};f.prototype.reset=function(d){this.Sz.reset(d);this.Hb=0;this.Fc=null;};f.prototype.start=function(d){!l.Zb(this.Fc) && d > this.Fc && (this.Hb+=d - this.Fc,this.Fc=null);this.Sz.start(d - this.Hb);};f.prototype.add=function(d,g,n){!l.Zb(this.Fc) && n > this.Fc && (this.Hb+=g > this.Fc?g - this.Fc:0,this.Fc=null);this.Sz.add(d,g - this.Hb,n - this.Hb);};f.prototype.stop=function(d){this.Fc=Math.max(l.Zb(this.Sz.jb)?0:this.Sz.jb + this.Hb,l.Zb(this.Fc)?d:Math.min(this.Fc,d));};f.prototype.get=function(d){return this.Sz.get((l.Zb(this.Fc)?d:this.Fc) - this.Hb);};f.prototype.toString=function(){return this.Sz.toString();};r.exports={ihb:c,W7b:k,ghb:f};},32364:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x;function c(z){this.config=z;this.Wmb=z.Sea;}k=a(2838).dda;f=a(4978).DAa;b=a(80194);l=b.ihb;d=b.ghb;g=a(83602).hhb;n=a(42874).nba;h=a(42874).mBa;m=a(83602).hmb;p=a(14482);q=a(90494);u=a(45041).YLa;t=a(10764);w=a(45409);v=a(8533);y=a(47376).CJa;x=a(82677).yya;c.prototype.constructor=c;c.prototype.create=function(z,A){var B,C,D,F;B=this.Wmb[z];C=A[z];D={};B && Object.keys(B).forEach(function(G){D[G]=B[G];});C && Object.keys(C).forEach(function(G){D[G]=C[G];});switch(D.type){case "slidingwindow":F=new k(this.config,new g(D.mw));break;case "discontiguous-ewma":F=new k(this.config,new d(D.mw));break;case "initial-discontiguous-ewma":F=new y(new d(D.mw),D.playerStates);break;case "wssl":F=new m(D.mw,D.max_n);break;case "iqr":F=new p(D.mx,D.mn,D.bw,D.iv);break;case "tdigest":F=new q(D);break;case "ci":F=new k(this.config,new x(D,new f(D)));break;case "discrete-ewma":F=new l(D.hl);break;case "tdigest-history":F=new u(D);break;case "iqr-history":F=new t(D);break;case "avtp":F=new v();break;case "entropy":F=new w(D);break;case "deliverytime":F=new k(this.config,new x(D,new n(D)));break;case "deliverytime-ci":F=new k(this.config,new x(D,new h(D)));}F && (F.type=D.type);return F;};r.exports=c;},48643:function(r,b,a){r.exports={Occ:a(80194),agc:a(83602),F7b:a(9153),nba:a(42874),E7b:a(14482),G7b:a(90494),Mhb:a(32364)};},42016:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.YGa=void 0;r=a(70655).__importDefault(a(29736));c=a(47571);new r.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function k(f,l){this.config=f;this.M7=l;this.reset();}k.prototype.reset=function(){this.confidence=c.Gz.HAVE_NOTHING;this.startTime=this.Ba=0;};k.prototype.En=function(){var f;f=new k(this.config,this.M7);f.confidence=this.confidence;f.Ba=this.Ba;f.startTime=this.startTime;return f;};k.prototype.add=function(f,l,d){0 === this.startTime && (this.startTime=l,this.Ba=0);this.Ba+=f;f=d - this.startTime;this.confidence=Math.max(this.confidence,c.Gz.xI);this.confidence < c.Gz.wI && (f > this.config.fob || this.Ba > this.config.eob) && (this.confidence=c.Gz.wI);this.confidence < c.Gz.YO && (f > this.config.Yob || this.Ba > this.config.Xob) && (this.confidence=c.Gz.YO,this.M7());};k.prototype.get=function(){return this.confidence;};k.prototype.start=function(){};k.prototype.stop=function(){};k.prototype.flush=function(){};return k;})();b.YGa=a;},45409:function(r,b,a){var k;function c(f){var l,d;l=f.sw;d=f.mw;this.KJ=l;this.Eea={uhd:f.uhdl,hd:f.hdl};this.nj=Math.max(Math.ceil(1 * l / d),1);this.gob=f.mins || 1;k.call(this,l,d);this.reset();}k=a(24068);new (a(29736)["default"].Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(k.prototype);c.prototype.flush=function(){this.Ad.map(function(f,l){this.mQa(f,this.Nla(l));},this);};c.prototype.gub=function(){var f,l,d,g,n,h,m,t;f=this.Eea;for(l in f){if(f.hasOwnProperty(l)){d=f[l];g=this.gga[l];n=this.fga[l];if(g.first){h=g.first;m=g.XG;void 0 !== m && (n[h][m]+=1);g.first=void 0;}g=[];h=0;d=m=d.length + 1;for(var p=0;p < m;p++){for(var q=0,u=0;u < d;u++){q+=n[u][p];}h+=q;g.push(q);}q=-1;if(h > this.gob){for(p=q=0;p < m;p++){if(0 < g[p])for(u=0;u < d;u++){t=n[u][p];0 < t && (q-=t * Math.log(1 * t / g[p]));}}q/=h * Math.log(2);}this.Yea[l]=q;}}return this.Yea;};c.prototype.mQa=function(f,l){var h,m;for(var d=this.nj,g=this.Eea;this.r0.length >= d;){this.r0.shift();}for(;this.s0.length >= d;){this.s0.shift();}this.r0.push(f);this.s0.push(l);f=this.r0.reduce(function(p,q){return p + q;},0);l=this.s0.reduce(function(p,q){return p + q;},0);if(0 < l){f=8 * f / l;for(var n in g){if(g.hasOwnProperty(n)){l=this.gga[n];d=this.fga[n];h=this.RWb(f,g[n]);m=l.XG;void 0 !== m?d[h][m]+=1:l.first=h;l.XG=h;}}}};c.prototype.RWb=function(f,l){for(var d=0;d < l.length && f > l[d];){d+=1;}return d;};c.prototype.shift=function(){this.mQa(this.Ad[0],this.Nla(0));k.prototype.shift.call(this);};c.prototype.reset=function(){var f,l,d,g,n,h,m;this.gga={};this.r0=[];this.s0=[];this.fga={};this.Yea={};f=this.Eea;for(l in f){if(f.hasOwnProperty(l)){d=this.fga;g=l;h=void 0;m=Array(h);h=n=f[l].length + 1;for(var p=0;p < h;p++){m[p]=Array(n);for(var q=0;q < n;q++){m[p][q]=0;}}d[g]=m;this.gga[l]={first:void 0,XG:void 0};this.Yea[l]=0;}}k.prototype.reset.call(this);};r.exports=c;},2838:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.dda=void 0;new (a(29736)["default"].Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(k,f){this.config=k;this.filter=f;}c.prototype.En=function(){return new c(this.config,this.filter);};c.prototype.C0b=function(k,f,l,d){var g,n,h;h=d.eH;if(!h || !h.T5())return !0;switch(this.config.pLb){case "requested":return !1;case "requested-low":return (h=h.Eua(this.config.pka),h.x4a() > ((null === (g=d.Bt) || void 0 === g?void 0:g.LV) || 0));case "inferred":h=h.Eua(this.config.pka);k=h.Ypa(k,f,l,this.config.vV);if(!k)break;return h.x4a() > ((null === (n=d.Bt) || void 0 === n?void 0:n.LV) || 0);case "inferred-strict":if((h=h.Eua(this.config.pka),h.Ypa(k,f,l,this.config.vV)))return !1;}return !0;};c.prototype.add=function(k,f,l,d){this.C0b(k,f,l,d) && this.filter.add(k,f,l,d);};c.prototype.get=function(k){if(this.filter.get)return this.filter.get(k);};c.prototype.start=function(k){this.filter.start && this.filter.start(k);};c.prototype.stop=function(k){this.filter.stop && this.filter.stop(k);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.dda=r;},47376:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.CJa=void 0;r=(function(){function a(c,k){this.$j=0;this.filter=c;this.n8=k;this.$j=0;}a.prototype.FU=function(c){return 0 < this.n8.filter(function(k){var f;return k === (null === (f=c.Bt) || void 0 === f?void 0:f.Ag);}).length;};a.prototype.add=function(c,k,f,l){this.FU(l) && this.filter.add(c,k,f,l);};a.prototype.start=function(c,k){this.filter.start && this.FU(k) && this.filter.start(c);};a.prototype.stop=function(c,k){this.filter.stop && this.FU(k) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.$j=0;this.filter.reset && this.filter.reset();};a.prototype.Rv=function(c,k){this.FU(k) && (this.$j+=1,this.filter.Rv && this.filter.Rv(c,k));};a.prototype.Tv=function(c,k,f){this.FU(f) && (this.$j=Math.max(this.$j - 1,0),0 === this.$j && this.stop(c,f),this.filter.Tv && this.filter.Tv(c,f));};return a;})();b.CJa=r;},83602:function(r,b,a){var l;function c(d){this.KJ=d;this.reset();}function k(d){this.nj=new c(d);this.Hb=0;this.Fc=null;}function f(d,g){this.KJ=d;this.rOa=g;this.reset();}l=a(67841);c.prototype.SOa=function(d,g){this.jb+=d;this.jj+=d;this.mc+=g;this.Gi.push({d:d,b:g});};c.prototype.JQ=function(){var d;for(;this.jj > this.KJ;){d=this.Gi.shift();this.mc-=d.b;this.jj-=d.d;}};c.prototype.reset=function(){this.Gi=[];this.jb=null;this.jj=this.mc=0;};c.prototype.setInterval=function(d){this.KJ=d;this.JQ();};c.prototype.start=function(d){l.Zb(this.jb) && (this.jb=d);};c.prototype.add=function(d,g,n){l.Zb(this.jb) && (this.jb=g);g > this.jb && this.SOa(g - this.jb,0);this.SOa(n > this.jb?n - this.jb:0,d);this.JQ();};c.prototype.get=function(){return {Da:Math.floor(8 * this.mc / this.jj),Zd:0};};k.prototype.reset=function(){this.nj.reset();this.Hb=0;this.Fc=null;};k.prototype.add=function(d,g,n){!l.Zb(this.Fc) && n > this.Fc && (g > this.Fc && (this.Hb+=g - this.Fc),this.Fc=null);this.nj.add(d,g - this.Hb,n - this.Hb);};k.prototype.start=function(d){!l.Zb(this.Fc) && d > this.Fc && (this.Hb+=d - this.Fc,this.Fc=null);this.nj.start(d - this.Hb);};k.prototype.stop=function(d){this.Fc=l.Zb(this.Fc)?d:Math.min(d,this.Fc);};k.prototype.get=function(){return this.nj.get();};k.prototype.setInterval=function(d){this.nj.setInterval(d);};f.prototype.reset=function(){this.Gi=[];this.mc=this.jj=0;};f.prototype.add=function(d,g,n,h){void 0 !== h && !0 === h && (g=n - g,this.jj+=g,this.mc+=d,this.Gi.push({d:g,b:d}),this.JQ());};f.prototype.JQ=function(){var d;for(;this.jj > this.KJ || this.Gi.length > this.rOa;){d=this.Gi.shift();this.mc-=d.b;this.jj-=d.d;}};f.prototype.start=function(){};f.prototype.stop=function(){};f.prototype.get=function(){return {Da:Math.floor(8 * this.mc / this.jj),Zd:0};};f.prototype.setInterval=function(d,g){this.KJ=d;this.rOa=g;this.JQ();};r.exports={V7b:c,hhb:k,hmb:f};},14384:function(r,b,a){var c,k,f,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iHa=b.Nhb=void 0;c=a(70655);k=c.__importDefault(a(29736));f=a(73101);l=a(95994);d=a(3833);g=a(74005);r=(function(){return function(n,h,m,p){this.Y=h;this.nt=p;p="[" + n + "]";m=(0,g.Kh)(k.default,m,p);this.w4a=n === f.v.X?h.Cqa:h.yqa;p=k.default.iT()[n];this.IU=n === f.v.X?h.hQb:h.MPb;this.IU=Math.min(h.UPb * p,this.IU);l.K && m.trace("This pipeline's buffer size ",p,this.IU);this.f7=(n === f.v.X?h.wy:h.yv) || h.f7;this.J6=(n === f.v.X?h.gQb:h.LPb) || h.J6;this.Vga=h.Vga;};})();b.Nhb=r;r=(function(n){function h(m,p,q,u){return n.call(this,m,p,q,u) || this;}c.__extends(h,n);h.prototype.PYa=function(m,p,q,u){var t,w,v,y,x,z,A,B,C;void 0 === q && (q=!1);void 0 === u && (u=!1);v=this.nt;y=m.pa.uoa();x=v.$e.index;z=v.lf.index;A=p === x;B=p === z;if(!B || A && v.$e.Ha){if(A){C=m.IYa(v.$e);C.AN(v.$e.Yv);B && (v.$e.Ha || v.lf.Ha) && C.wi({start:null === (t=C.Ha) || void 0 === t?void 0:t.start,end:null === (w=v.lf.Ha) || void 0 === w?void 0:w.end});}else C=m.Pn(p);}else (C=m.IYa(v.lf),C.AN(v.lf.Yv));C.aV=p + 1;if(t=(0,d.NZa)(v,v.gl))(l.K && v.ix("getFragmentForRequest pts:",v.gl,"in region:",t,"previous region:",v.cpa),w=void 0 === v.cpa || v.cpa !== t.region,(0,d.MVa)(v.V,C,t,{HMb:A,OMb:B,WMb:w}));B && (C.z3a(),C.T_b(v.yb.u));A && C.GPb();A=m.Ka.qr;if(!(C.aV === p || null !== A && void 0 !== A && A.o1a(p) || y || !this.Vga && C.Ha || q && !(p > x + 1) || u && !(p < z - 2)))for((q=u?z - 1:z,++p);p < m.Ka.length && p < q && (C.Ba < this.w4a || C.te.G < this.f7) && (1 === C.stream.Hh.length || this.Eub(m,p));++p){u=m.Pn(p);if(null === A || void 0 === A?0:A.o1a(p))break;if((0,d.n1a)(v,u))break;if(C.te.add(u.te).G > this.J6)break;if(C.Ba + u.Ba > this.IU)break;C.Sga(u);C.aV=p + 1;l.K && v.ix("getFragmentForRequest: extended fragment startPts:",C.La.G,"to duration:",C.te.G,"size:",C.Ba,"min request size:",this.w4a,"max request size:",this.IU,"min request duration:",this.f7,"max request duration:",this.J6,"edit:",C.Ha);}l.K && v.ix("getFragmentForRequest(" + p + ") returning:",C,"stream:",C.stream,"firstRequestInRegion:",C.wla,"lastRequestInRegion:",C.Zs,"nextIndex:",C.aV);return C;};h.prototype.Eub=function(m,p){return !m.Hh.some(function(q){return p === q.af;});};return h;})(r);b.iHa=r;},78281:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oWa=b.UK=b.Hs=b.B4=void 0;c=a(60595);k=a(47571);f=a(44724);l=a(69565);b.B4=function(d,g){return d.Sx(g,void 0,!0);};b.Hs=function(d,g,n,h,m,p){var q,u,t,w;l.Yp.kv(d);if(n.ha){g=n.S;q=n.Qn();m=q.IN;p=q.te.ze(g);q=m + Math.floor(h / p.G);d === k.v.fa && (q=Math.max(m,q - 1));d=p.zv(q - m);h=d.add(p);return new c.Zp(n,void 0,{index:q,ob:d.ya,rb:h.ya,S:g,offset:0,Ba:0});}(0,f.assert)(n.Ka,"findFirstFragment called without stream fragments");u=n.Ka;h=Math.max(n.Ka.dm(0),h);d === k.v.fa && !p && g.Bm && !g.rR && n.Rf && (h=Math.max(n.Ka.dm(0),h + n.Rf.G));q=(0,b.B4)(u,h);t=n.Pn(q);if(t.$a.G < h)return t;w=t.GEb(h);w?(0 < w.Fj && t.wi({start:w.Fj}),d !== k.v.fa || g.V6 || (0 > w.we && t.wi({start:w.Fj}),w.we < (g.Bm && !g.rR && n.Rf?Math.floor(n.Rf.G):0) && t.kka())):h >= t.$a.G && q < u.length - 1 && (t=n.Pn(q + 1));d === k.v.X && m && t.$a.G === m && q < u.length - 1 && (t=n.Pn(q + 1));d === k.v.fa && !t.Ha && (g.R0a || g.VBb) && p && t.wi({});t.AN(h);return t;};b.UK=function(d,g,n,h,m,p){var q,u;l.Yp.kv(d);if(n.ha)return (m=g=q=Infinity,d=n.S,void 0 !== h && Infinity !== h && (q=n.Qn(),g=q.IN,m=q.te.ze(d),q=g + Math.floor(h / m.G),0 === h % m.G && (q=Math.max(g,q - 1)),h=m.zv(q - g),m=h.add(m),g=h.ya,m=m.ya),new c.Zp(n,void 0,{index:q,ob:g,rb:m,S:d,offset:0,Ba:0}));q=n.Ka;void 0 === h && (h=q.jf);if(m && (m=m.wEb(n,h,d,g,p)))return m;m=q.ca;p=h?h + (0,b.oWa)(d,m,g.jN,g.tN):q.zS(q.length - 1);q=q.Sx(p,void 0,!0);m=n.Pn(q);0 === q || m.La.G !== h || d !== k.v.X && g.jN || (--q,m=n.Pn(q));p=d === k.v.X?p:h;if(p < m.$a.G){u=m.lla(p);u && 0 !== u.Fj?m.wi({end:u.Fj}):d === k.v.fa && (u || p < m.La.G) && 0 !== q?m=n.Pn(q - 1):d !== k.v.X || n.uMb && !u || 0 === q || (m=n.Pn(q - 1));}d === k.v.fa && !m.Ha && g.R0a && m.wi();m.AN(h);return m;};b.oWa=function(d,g,n,h){var m;return d === k.v.X || h?0:n?null !== (m=null === g || void 0 === g?void 0:g.G) && void 0 !== m?m:0:g?-g.G:0;};},28035:function(r,b,a){var k,f,l,d,g,n;function c(h,m){return h - m;}Object.defineProperties(b,{__esModule:{value:!0}});b.Qhb=b.qF=void 0;k=a(70655);f=a(95994);l=k.__importDefault(a(29736));d="gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).Ohb;b.qF=function(h,m){var p;if(!d)return h;p=new n(h.name,m);return (function(q){function u(){for(var t=[],w=0;w < arguments.length;w++){t[w]=arguments[w];}t=q.apply(this,k.__spreadArray([],k.__read(t),!1)) || this;t.MXa=p.Lyb(t);return t;}k.__extends(u,q);return u;})(h);};n=(function(){function h(m,p){this.name=m;this.Yia=p;this.vB=[];this.gMb=0;}Object.defineProperties(h,{console:{get:function(){g || (g=new l.default.Console("GCTAGGER"));return g;},enumerable:!1,configurable:!0}});h.prototype.Lyb=function(m){var p,q;if(d){p=this.Yia;p || (p=h.console);if(!m.MXa && "undefined" !== typeof nrdp){m={type:this.name,id:this.gMb++};this.vB.push(m.id);q=JSON.stringify(m);q=nrdp.MXa(q,(function(u,t,w,v){u.vB.splice(u.vB.indexOf(t),1);u.vB=u.vB.sort(c);for(var y=[],x=0;x < u.vB.length && 5 > x;x++){y.push(u.vB[x]);}null === v || void 0 === v?void 0:v.error(("Removing instance for ").concat(w,"/").concat(t,". ") + ("").concat(u.vB.length," remaining, earliest: ").concat(y,"}"));}).bind(null,this,m.id,m.type,p));f.K && p && p.info("Creating tagged instance",m);return q;}}};return h;})();b.Qhb=n;},6495:function(r,b,a){var k,f,l,d,g,n,h;function c(m,p){return m.filter(function(q){return q.groupId === p.groupId;}).reduce((0,l.s4a)(function(q){return q.By;}),p).By;}Object.defineProperties(b,{__esModule:{value:!0}});b.TCa=void 0;k=a(70655);f=a(64196);l=a(4145);d=a(47571);g=a(74573);n=k.__importDefault(a(29736));h=a(12862);r=(function(){function m(p,q){this.V=p;this.config=q;this.w2a=0;this.dh=new g.su({bo:10,$m:this,source:"GraphStreamingProcess"});}m.prototype.P5a=function(p,q){var u,t,w,v,y,x,z,A,B,F,G,E,J,L;w=!1;v=[];if(0 < q.length){y=this.g1b(q);x=y.some(function(I){return 1 === (0,h.eSa)(I) && (0,d.Un)(I.ff);});z=y.slice();A=[!1,!1,!1];B=void 0;try{for(var C=k.__values(y),D=C.next();!D.done;D=C.next()){F=D.value;if(F.DB && (!B || F.groupId === B))if(F.Pk)B=F.groupId;else if("global" !== A[F.mediaType]){G=F.M1a(p,null !== (t=F.JF) && void 0 !== t?t:1);E=(0,f.m8a)(G.reason);E && (A[F.mediaType]=E,(0,l.XQa)(z,F));if(G.result){J=c(z,F);if(this.pvb(F,x,J)){L=F.S1a();this.Apa(v,F,L.reason);L.Ih && (this.w2a=n.default.time.Ga());if(w=L.Ih)break;if("globalVideoMemoryLimit" === L.reason || "globalAudioMemoryLimit" === L.reason){this.V.trace("GSP.onRequestOpportunity stopping at memory limit:",L.reason);break;}"pipelineTryIssueHeaderRequest" === L.reason && (B=F.groupId);}else if((this.Apa(v,F,"concurrencyCheck"),!E))break;}else this.Apa(v,F,G.reason);}}}catch(I){var N;N={error:I};}finally{try{D && !D.done && (u=C.return) && u.call(C);}finally{if(N)throw N.error;}}}this.dh.ns({streamableCount:q.length,streamableReasons:v,lastSuccessfulIssueRequestMs:this.w2a});return w;};m.prototype.g1b=function(p){return this.gWb(p).sort(function(q,u){return q.priority - u.priority;}).map(function(q){return q.P1b;});};m.prototype.gWb=function(p){var q;q=this;return p.map(function(u){return {priority:-(0,h.dSa)(q.config,u,q.V),P1b:u};});};m.prototype.Apa=function(p,q,u){this.dh.enabled && p.push(this.uJb(u,q));};m.prototype.uJb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.ff,currentPlayerMs:q.Bq,pathCompletePlayerMs:q.By,streamingPlayerMs:q.wr};};m.prototype.pvb=function(p,q,u){return this.config.IR && (q || (0,d.Un)(p.ff))?this.qvb(p,u):this.rvb(p,u);};m.prototype.svb=function(p){return p.wr <= p.By;};m.prototype.rvb=function(p,q){return p.wr - (p.Bq > q?p.Bq:q) <= Math.max(this.config.Aqa,Math.min((p.By - p.Bq) * this.config.fwa,this.config.cQb));};m.prototype.qvb=function(p,q){var u,t;if(void 0 === this.config.IR)return !0;u=this.config.IR;t=p.Bq + u;return p.wr <= t?!0:this.svb(p) && q >= t && p.wr - q < u;};k.__decorate([(0,g.Rb)({methodName:"onRequestOpportunity",bk:!0})],m.prototype,"P5a",null);return m;})();b.TCa=r;},12862:function(r,b,a){var p,q,u;function c(t){return t.wr - t.Bq;}function k(t,w){return Math.exp(-(Math.log(2) / t) * w);}function f(t,w){t=Math.log(2) * w / t;return (1 - Math.exp(-t)) / t;}function l(t,w){var v,y,x,z,A;v=w.Qsa;y=w.Psa;x=w.NV;if(0 === w.Yg.length)return {A1:!1};z=w.Yg[0];w=z.rf;A=z.qB;z=z.duration;if(!A || 1 === x)return {A1:!1};(0,q.assert)(z,"duration should be defined when immediate probability is included in probabilities array");(0,q.assert)(0 < x,"presenting segment seamless probability cannot be zero");y-=z;if(v < y)return {A1:!1};y=v - y;v=x + y / z * (1 - x);z-=y;A=A * (1 - v) / (1 - x);t=w * v / x * k(t,z) + A * f(t,z);(0,q.assert)(1 >= t);return {A1:!0,krb:t};}function d(t){var w,v,y,x,z;w=t.eF;v=t.Tab;y=t.Sy;x=t.wr;z=t.Bq;t=t.pXa;(0,q.assert)(void 0 !== v);(0,q.assert)(void 0 !== w);y=1 - y;x-=z;t?(z=v - t - x,w-=t,0 >= z?t=Math.max(0,(v - t) / w):(v=w - z,t=0 < v?x / v:0,y*=0 < v?v / w:1)):(z=v - x,0 >= z?t=v / w:(v=w - z,t=0 < v?x / v:0,y*=0 < v?v / w:1));(0,q.assert)(0 <= t);(0,q.assert)(1 >= t);(0,q.assert)(0 <= y);(0,q.assert)(1 >= y);return 1 - t * y;}function g(t,w){t=Math.log(2) / t.o8a;return n(w) * Math.exp(-t * c(w));}function n(t){var w;return (null !== (w=t.JF) && void 0 !== w?w:1) * t.Yg.reduce(function(v,y){var x;x=y.qB;return v * (y.rf + (void 0 === x?0:x));},1);}function h(t){var w,v,y,x;if(0 === t.Yg.length)return 0;v=0;if(1 > t.NV){v=t.Qsa;y=t.Psa;x=null !== (w=t.Yg[0].duration) && void 0 !== w?w:0;v=Math.max(0,Math.min(x,v - (y - x)));}return t.Yg.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - v;}function m(t){return t.Yg.filter(function(w){return !w.qB;}).reduce(function(w,v){return w * v.rf;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.fia=b.eSa=b.wub=b.dSa=b.Aub=void 0;p=a(47571);q=a(44724);u=a(95994);b.Aub=c;b.dSa=function(t,w,v){var y,x,z,A,B,C,D,F;if(!t.A3 || (0,p.Un)(w.ff))return g(t,w);x=t.o8a;t=c(w);z=h(w);A=m(w);B=l(x,w);C=B.A1;B=B.krb;B=void 0 === B?1:B;D=1 > w.Sy?d(w):1;F=(null !== (y=w.JF) && void 0 !== y?y:1) * A * k(x,t - z) * B * D * w.Yg.filter(function(G,E){return G.qB && (0 < E || !C);}).reduce(function(G,E){var J,L;J=E.qB;L=E.duration;L=void 0 === L?0:L;J=void 0 === J?0:J;E=E.rf * k(x,L) + J * f(x,L);return G * E;},1);u.K && (null === v || void 0 === v?void 0:v.log(("{").concat(w.groupId,"} [").concat(w.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(w.Sy,", ") + ("pssp: ").concat(w.NV,", ") + ("streamingDuration: ").concat(w.Tab,", ") + ("duration: ").concat(w.eF,", ") + ("seamlessProbability: ").concat(A,", ") + ("distance: ").concat(t,", immediateDistance: ").concat(z,", ") + ("risk:").concat(k(x,t - z),", ") + ("adjustedFirstTerm: ").concat(B,", streamingAdjustment: ").concat(D,", ") + ("probabilities: ").concat(JSON.stringify(w.Yg)," => ").concat(F)));return F;};b.wub=g;b.eSa=n;b.fia=m;},91854:function(r,b,a){var c,k,f,l,d,g,n,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.iRb=b.platform=b.Lf=b.lDb=b.QHb=b.lT=b.mL=b.oPb=b.qG=b.W6=b.Cb=b.v=b.wz=b.Wc=b.$I=b.qu=b.Fx=b.TP=b.Uh=b.qc=b.vP=b.ru=b.YP=void 0;c=a(70655);c.__exportStar(a(31047),b);c.__exportStar(a(95566),b);c.__exportStar(a(40730),b);k=a(71820);Object.defineProperties(b,{YP:{enumerable:!0,get:function(){return k.YP;}}});Object.defineProperties(b,{ru:{enumerable:!0,get:function(){return k.ru;}}});Object.defineProperties(b,{vP:{enumerable:!0,get:function(){return k.vP;}}});c.__exportStar(a(47130),b);c.__exportStar(a(52745),b);c.__exportStar(a(50623),b);c.__exportStar(a(71016),b);c.__exportStar(a(70950),b);c.__exportStar(a(50971),b);c.__exportStar(a(42324),b);c.__exportStar(a(93959),b);c.__exportStar(a(15063),b);f=a(19829);Object.defineProperties(b,{qc:{enumerable:!0,get:function(){return f.qc;}}});Object.defineProperties(b,{Uh:{enumerable:!0,get:function(){return f.Uh;}}});l=a(63050);Object.defineProperties(b,{TP:{enumerable:!0,get:function(){return l.TP;}}});d=a(18934);Object.defineProperties(b,{Fx:{enumerable:!0,get:function(){return d.Fx;}}});g=a(74005);Object.defineProperties(b,{qu:{enumerable:!0,get:function(){return g.qu;}}});n=a(61276);Object.defineProperties(b,{$I:{enumerable:!0,get:function(){return n.$I;}}});h=a(47571);Object.defineProperties(b,{Wc:{enumerable:!0,get:function(){return h.Wc;}}});Object.defineProperties(b,{wz:{enumerable:!0,get:function(){return h.wz;}}});Object.defineProperties(b,{v:{enumerable:!0,get:function(){return h.v;}}});Object.defineProperties(b,{Cb:{enumerable:!0,get:function(){return h.Cb;}}});Object.defineProperties(b,{W6:{enumerable:!0,get:function(){return h.W6;}}});Object.defineProperties(b,{qG:{enumerable:!0,get:function(){return h.qG;}}});b.oPb=function(p){b.platform.Sna(p);};b.mL=function(p){b.platform.Sna(p);return Promise.resolve().then(function(){return c.__importStar(a(79391));}).then(function(q){return q.mL();});};b.lT=function(p,q){b.platform.Sna(p);return Promise.resolve().then(function(){return c.__importStar(a(23711));}).then(function(u){return u.lT(q);});};b.QHb=function(){return a(33742);};r=c.__importDefault(a(54186));b.lDb=r.default;r=a(2427);b.Lf=r.Lf;r=c.__importDefault(a(29736));b.platform=r.default;m=a(17655);b.iRb=function(){return {Or:m.Or};};},95566:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},22687:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(70655).__exportStar(a(34532),b);},34532:function(r,b,a){var g,n,h,m,p,q,u,t,w;function c(v){var y,x,z;v=v.parent;y=!1;if(v && v.children){x={};x[t.ql]=[];x[t.Ck]=[];x[t.TEMPORARY]=[];z=v.children;z.forEach(function(A){A && x[A.Ze].push(A);});0 < x[t.ql].length || (x[t.Ck].length === z.length?v.Ze !== t.Ck && (v.Ze=t.Ck,u.error("PERM failing :",m.default.Fg.name[v.Om] + " " + v.id),y=!0):(v.Ze === t.ql && (v.Ze=t.TEMPORARY,u.error("TEMP failing :",m.default.Fg.name[v.Om] + " " + v.id),y=!0),x[t.TEMPORARY].forEach(function(A){A.Ze=t.ql;})),y && c(v));}}function k(v){var y;if((v=v.parent) && 0 < v.children.length && v.Ze !== t.ql){y={};y[t.ql]=[];y[t.Ck]=[];y[t.TEMPORARY]=[];v.children.forEach(function(x){x && y[x.Ze].push(x);});0 < y[t.ql].length && (v.Ze=t.ql,k(v));}}function f(v){return v.Ze !== t.ql;}function l(v){switch(v.Ze){case t.ql:return "OK";case t.Ck:return "FAILED PERMANENTLY";case t.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(v,y){if(v.Ze === t.TEMPORARY || v.Ze === t.Ck && y)v.Ze=t.ql;v.children && v.children.forEach(function(x){x && d(x,y);});}Object.defineProperties(b,{__esModule:{value:!0}});b.nFa=void 0;g=a(70655);n=g.__importStar(a(67841));r=a(28075);h=a(47571);m=g.__importDefault(a(54186));p=g.__importDefault(a(29736));q=a(44724);u=new p.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(v){v[v.ql=0]="OK";v[v.TEMPORARY=1]="TEMPORARY";v[v.Ck=2]="PERMANENT";})(t || (t={}));(function(v){v[v.pu=0]="STARTUP";v[v.ilb=1]="REBUFFER";})(w || (w={}));a=(function(v){var m53;m53=2;for(;m53 !== 23;){switch(m53){case 10:y.prototype.Pa=function(){var Y59;Y59=2;for(;Y59 !== 1;){switch(Y59){case 2:this.config.WOb && this.AUb();Y59=1;break;}}};y.prototype.AWb=function(x){function z(E){var g$8;g$8=2;for(;g$8 !== 1;){switch(g$8){case 2:Object.keys(E).forEach(function(J){var w1J,L,N;w1J=2;for(;w1J !== 9;){switch(w1J){case 2:L=E[J];C.add(J);w1J=5;break;case 4:var u6e="L";u6e+="I";u6e+="V";u6e+="E";N=B.streams[J];B.streams[J]=N?g.__assign(g.__assign({},N),L):{id:J,bitrate:L.bitrate,zb:null,type:L.mediaType,clear:L.hi?!1:!0,Qq:!0,urls:[],jO:{},li:[],nx:L,ppa:B.ha?u6e:void 0};w1J=9;break;case 14:w1J=L?7:5;break;case 5:w1J=L?4:9;break;}}});g$8=1;break;}}}var a9H,A,B,C,X8A,D,F,r7J,R11,R9v;a9H=2;for(;a9H !== 4;){switch(a9H){case 2:(B=this,C=new Set());try{X8A=2;for(;X8A !== 3;){switch(X8A){case 1:X8A=!F.done?5:3;break;case 2:(D=g.__values(x),F=D.next());X8A=1;break;case 7:X8A=~F.done?8:8;break;case 4:F=D.next();X8A=1;break;case 5:z(F.value);X8A=4;break;}}}catch(E){var G;G={error:E};}finally{r7J=2;for(;r7J !== 1;){switch(r7J){case 2:try{R11=2;for(;R11 !== 1;){switch(R11){case 2:F && !F.done && (A=D.return) && A.call(D);R11=1;break;}}}finally{R9v=2;for(;R9v !== 5;){switch(R9v){case 1:throw G.error;R9v=5;break;case 9:throw G.error;R9v=9;break;case 2:R9v=G?1:5;break;}}}r7J=1;break;}}}Object.keys(this.streams).forEach(function(E){var D3u;D3u=2;for(;D3u !== 1;){switch(D3u){case 2:C.has(E) || delete B.streams[E];D3u=1;break;}}});a9H=4;break;}}};y.prototype.G7a=function(x,z,A){var X2A,B;X2A=2;for(;X2A !== 5;){switch(X2A){case 2:B=this;z.streams.forEach(function(C){var y8E;y8E=2;for(;y8E !== 1;){switch(y8E){case 2:B.H7a(x,C.downloadable_id,C,A);y8E=1;break;}}});X2A=5;break;}}};y.prototype.rWb=function(x,z){var s_B,A;s_B=2;for(;s_B !== 4;){switch(s_B){case 2:var w49="no";w49+="n";w49+="e";s_B=w49 !== x.id?1:4;break;case 9:s_B="" != x.id?2:8;break;case 1:var s62="i";s62+="ms";s62+="c1";s62+=".";s62+="1";var C_w="i";C_w+="m";C_w+="s";C_w+="c1.";C_w+="1";A=x.ttDownloadables[C_w];A && this.H7a(h.v.Ya,x.downloadableIds[s62],A,z);s_B=4;break;}}};m53=17;break;case 24:return y;break;case 2:g.__extends(y,v);y.prototype.Fs=function(){var j2N;j2N=2;for(;j2N !== 1;){switch(j2N){case 2:return f(this.ho);break;case 4:return f(this.ho);break;}}};y.prototype.j_b=function(x){var i1v;i1v=2;for(;i1v !== 5;){switch(i1v){case 1:return x.parent.id;break;case 2:i1v=(x=this.urls[x]) && x.parent?1:5;break;}}};y.prototype.WZa=function(x){var o70,z,A,c5r,B,C,D,i2e,s0X,w9B;o70=2;for(;o70 !== 4;){switch(o70){case 2:A=[];try{c5r=2;for(;c5r !== 9;){switch(c5r){case 1:c5r=!C.done?5:9;break;case 2:(B=g.__values(Object.keys(this.urls)),C=B.next());c5r=1;break;case 3:C=B.next();c5r=1;break;case 5:D=this.urls[C.value];D.url === x.stream.url && A.push(D.$b);c5r=3;break;case 6:c5r=~C.done?8:5;break;}}}catch(G){var F;F={error:G};}finally{i2e=2;for(;i2e !== 1;){switch(i2e){case 2:try{s0X=2;for(;s0X !== 1;){switch(s0X){case 2:C && !C.done && (z=B.return) && z.call(B);s0X=1;break;}}}finally{w9B=2;for(;w9B !== 5;){switch(w9B){case 2:w9B=F?1:5;break;case 3:w9B=F?8:8;break;case 1:throw F.error;w9B=5;break;}}}i2e=1;break;}}}o70=5;break;case 5:return A;break;case 7:return A;break;}}};m53=3;break;case 3:y.prototype.WYa=function(x){var T3B;T3B=2;for(;T3B !== 1;){switch(T3B){case 2:for(var z in this.streams){if(this.streams[z].nx === x){return this.streams[z];}}T3B=1;break;}}};y.prototype.w1=function(x,z,A){var x49,B,C,D,F,G;x49=2;for(;x49 !== 26;){switch(x49){case 2:B=this;void 0 === A && (A=m.default.lu.Yib);x.locations.forEach(function(E){var u$V,J,L,N,I;u$V=2;for(;u$V !== 7;){switch(u$V){case 2:J=E.key;u$V=1;break;case 1:u$V=B.li[J]?5:4;break;case 5:(B.li[J].ec=E.rank,B.li[J].level=E.level,B.li[J].weight=E.weight);u$V=7;break;case 4:(L=[],N=B.wp.get(J),I=B.ho);E={id:J,Om:m.default.Fg.LOCATION,Ze:t.ql,ec:E.rank,level:E.level,weight:E.weight,Kv:void 0,parent:I,children:L,tk:L,streams:{},Wb:N};B.li[E.id]=E;I.children.push(E);u$V=7;break;}}});x49=4;break;case 4:this.K0=p.default.time.Ga();this.ZB.sort(function(E,J){var p6r;p6r=2;for(;p6r !== 1;){switch(p6r){case 2:return E.level - J.level || E.ec - J.ec;break;}}});x.servers.forEach(function(E){var s2s,J,L,N;s2s=2;for(;s2s !== 14;){switch(s2s){case 2:J=E.id;s2s=1;break;case 1:s2s=B.tk[J]?5:4;break;case 5:B.tk[J].ec=E.rank;s2s=14;break;case 4:L=B.li[E.key];s2s=3;break;case 3:s2s=L?9:14;break;case 9:N=[];E={id:J,Om:m.default.Fg.wD,Ze:t.ql,Kv:void 0,parent:L,children:N,urls:N,name:E.name,type:E.type,ec:E.rank,location:L};B.tk[E.id]=E;L.children.push(E);s2s=14;break;}}});x49=8;break;case 8:var u$4="L";u$4+="I";u$4+="V";u$4+="E";var w0s="L";w0s+="IV";w0s+="E";(D=x.eg,F=x.wj);(0,q.assert)(this.ha && w0s === D && !!F || !this.ha && u$4 !== D && !F);this.ha && (this.KOb=F.tSb);x49=14;break;case 14:G=!0;z && (G=!1,this.AWb(z));x49=12;break;case 12:x.audio_tracks.forEach(function(E){var O2Y;O2Y=2;for(;O2Y !== 1;){switch(O2Y){case 2:B.G7a(h.v.fa,E,G);O2Y=1;break;}}});x.video_tracks.forEach(function(E){var n0D;n0D=2;for(;n0D !== 1;){switch(n0D){case 2:B.G7a(h.v.X,E,G);n0D=1;break;}}});null === (C=x.timedtexttracks) || void 0 === C?void 0:C.forEach(function(E){var C9n;C9n=2;for(;C9n !== 1;){switch(C9n){case 4:B.rWb(E,G);C9n=8;break;case 2:B.rWb(E,G);C9n=1;break;}}});x=this.ZB.filter(function(E){var J5f,J;J5f=2;for(;J5f !== 4;){switch(J5f){case 2:J=E.tk.every(function(L){var V2B;V2B=2;for(;V2B !== 1;){switch(V2B){case 4:R7xOY.C8s(8);var u_3=R7xOY.A_X(126,16,14,2233);return u_3 != L.urls.length;break;case 2:return 0 === L.urls.length;break;}}});J && (E.tk.forEach(function(L){var M1T;M1T=2;for(;M1T !== 1;){switch(M1T){case 2:B.tk[L.id]=void 0;M1T=1;break;}}}),B.li[E.id]=void 0,E.parent=void 0,E.children.length=0,E.streams={});return !J;break;}}});x.forEach(function(E){var v35;v35=2;for(;v35 !== 1;){switch(v35){case 2:E.tk.sort(function(J,L){var q6J;q6J=2;for(;q6J !== 1;){switch(q6J){case 2:return J.ec - L.ec;break;case 4:return J.ec + L.ec;break;}}});v35=1;break;}}});this.ZB=x;this.ho.children=x;x49=16;break;case 16:this.wC=null;this.xN=A;this.dump();x49=26;break;}}};y.prototype.Ycb=function(x,z,A){var K9O,E,J,F,G,B,C,D;K9O=2;for(;K9O !== 16;){switch(K9O){case 18:var m7x="(empty";m7x+=" stream l";m7x+="ist)";var w3L="Did";w3L+=" not f";w3L+="ind a";w3L+=" URL for ANY ";w3L+="stream...";var q83="netwo";q83+="r";q83+="k";q83+="Failed";var m_V="Network ha";m_V+="s failed, ";m_V+="not updating stream s";m_V+="election";z.forEach(function(L,N){var w7A,I;w7A=2;for(;w7A !== 5;){switch(w7A){case 2:var W25=" K";W25+="b";W25+="p";W25+="s";W25+=")";var L_V=" ";L_V+="(";var p7F="]";p7F+=" ";var q4P="Fa";q4P+="iling s";q4P+="tream [";I=L.id;J.some(function(O){var l_O,K,H;l_O=2;for(;l_O !== 8;){switch(l_O){case 1:l_O=!K?5:4;break;case 2:K=O.streams[I];l_O=1;break;case 4:H=K.li[0];void 0 === L.z8 && (L.z8=H.id,L.Usa=K.jO[H.id][0].$b.id);return K.jO[O.id].some(function(M){var Z31,R;Z31=2;for(;Z31 !== 20;){switch(Z31){case 14:L.nr=M.$b.type;Z31=13;break;case 3:var X_G="loc";X_G+="ation";X_G+="fa";X_G+="ilover";var Q4x="se";Q4x+="r";Q4x+="v";Q4x+="erfailove";Q4x+="r";var x7T="per";x7T+="for";x7T+="m";x7T+="ance";var k1H="u";k1H+="nkno";k1H+="w";k1H+="n";R=k1H;L.location !== O.id && (C.YG?L.Uoa=O.id === H.id:R=O !== J[0] && D && K.ppa !== A?"" + m.default.lu.Mlb:O !== J[0]?"" + m.default.lu.Gaa:void 0 === L.location?"" + m.default.lu.pu:n.ji(L.o2a) || L.o2a === O.id?n.ji(L.u2a) || L.u2a === M.$b.id?x7T:Q4x:X_G,L.location=O.id,L.vpa=O.level,L.Ct=R);L.url=M.url;L.$b=M.$b.id;L.AW=M.$b.name;Z31=14;break;case 4:return !1;break;case 5:Z31=f(M) || D && !M.v6.some(function(Y){var H5t=R7xOY;var X0k;X0k=2;for(;X0k !== 1;){switch(X0k){case 4:H5t.m_t(9);return H5t.N0G(Y,A);break;case 2:H5t.C8s(10);return H5t.A_X(Y,A);break;}}})?4:3;break;case 1:return (M.$b.Ze === t.TEMPORARY && (L.Ze=t.TEMPORARY),C.YG && L.$b === M.$b.id && M.$b.Kv && (L.Kv=M.$b.Kv),!1);break;case 2:Z31=f(M.$b)?1:5;break;case 13:D && (K.ppa=A);L.Wb=C.Iha?O.Wb.confidence >= m.default.pl.wI || F.confidence < E?O.Wb:F:F.confidence === m.default.pl.HAVE_NOTHING || O.Wb.confidence >= m.default.pl.wI?O.Wb:F;C.aWa && !L.Wb.QT && (L.Wb.QT=O.Wb.QT);Z31=10;break;case 10:return !0;break;}}});break;case 5:return !1;break;}}})?(L.nB=!1,L.Ze=void 0,L.Qq && ++G):L.Ze && L.Ze === t.TEMPORARY?B.ho.Ze=t.TEMPORARY:L.nB || (u.warn(q4P + N + p7F + I + L_V + L.bitrate + W25),L.Lvb(),L.nB=!0);w7A=5;break;}}});return f(this.ho)?(u.warn(m_V),this.r7=!0,this.emit(q83,this.ho.Ze === t.Ck),!1):G?!0:(u.warn(w3L + (z.length?"":m7x)),this.jr(m.default.Fg.gu,!0),!1);break;case 9:K9O=f(this.ho)?8:7;break;case 7:E=m.default.pl.xI;C.Kqa && (E=m.default.pl.wI);this.Ic.location && F.confidence >= E && (x=this.li[this.Ic.location]) && (x.Wb=F);K9O=13;break;case 10:J=this.wC;K9O=20;break;case 13:n.Zb(this.wC) && (this.wC=this.H4b());K9O=12;break;case 4:(F=this.Ic.get(),G=0);p.default.xs && p.default.xs(x);K9O=9;break;case 11:return (this.jr(m.default.Fg.gu,!1),!1);break;case 20:K9O=!J.length?19:18;break;case 19:return (this.jr(m.default.Fg.gu,!1),!1);break;case 12:K9O=!this.wC?11:10;break;case 8:return !1;break;case 2:(B=this,C=this.config,D=!1);this.ha && void 0 !== A && A !== this.gOa && (void 0 === this.hOa || p.default.time.Ga() - this.hOa > C.xOb) && (this.gOa=A,this.hOa=p.default.time.Ga(),D=!0);D && (this.wC=null);K9O=4;break;}}};y.prototype.m_b=function(x,z){var R4f,A,B;R4f=2;for(;R4f !== 4;){switch(R4f){case 2:(A=[],B=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);n.forEach(this.urls,function(C,D){var l6r,J,F,G,E;l6r=2;for(;l6r !== 13;){switch(l6r){case 7:C.urls.some(function(L){var h4e;h4e=2;for(;h4e !== 5;){switch(h4e){case 3:h4e=L.url != D?9:6;break;case 2:h4e=L.url === D?1:5;break;case 1:return (J=L,!0);break;}}});J && A.push({url:J,$b:C});l6r=13;break;case 5:l6r=F && 4 === F.length?4:13;break;case 1:F=D.match(B);l6r=5;break;case 2:C=C.$b;l6r=1;break;case 8:l6r=n.xg(E) && n.xg(F) && E === x && F == z?7:13;break;case 4:var D9T="8";D9T+="0";var D8k="4";D8k+="4";D8k+="3";(G="s" === F[1],E=F[2]);F=F[3];F.length || (F=G?D8k:D9T);l6r=8;break;}}});return A;break;}}};y.prototype.jr=function(x,z,A,B){var W1q,G,h1V,J,C,D,F,E,E_I;W1q=2;for(;W1q !== 42;){switch(W1q){case 3:W1q=F !== C.Ze?9:42;break;case 4:W1q=C?3:43;break;case 12:W1q=E?11:27;break;case 28:W1q=44;break;case 29:W1q=h1V === t.ql?24:28;break;case 27:var R1h=" : w";R1h+="as";R1h+=" ";G.call(A,x + (z.length?"/" + z.join("/"):"") + R1h + l(C));W1q=26;break;case 20:z.unshift(J.id + "(" + J.name + ")");W1q=19;break;case 19:E=E.parent;W1q=12;break;case 9:A=u;G=A.warn;W1q=7;break;case 35:var k3B="net";k3B+="w";k3B+="orkFa";k3B+="iled";var c_C="Emi";c_C+="tting networkFai";c_C+="led, permanent =";F > D && (u.warn(c_C,F === t.Ck),this.emit(k3B,F === t.Ck));W1q=34;break;case 26:h1V=C.Ze;W1q=h1V === t.Ck?25:30;break;case 16:W1q=E_I === m.default.Fg.URL?15:19;break;case 17:z.unshift(E.id);W1q=19;break;case 18:W1q=E_I === m.default.Fg.LOCATION?17:16;break;case 43:var P9X="Unable to find";P9X+=" fa";P9X+="ilur";P9X+="e entity for URL ";R7xOY.C8s(0);u.warn(R7xOY.A_X(A,P9X));W1q=42;break;case 5:C=C.parent;W1q=1;break;case 1:W1q=C && C.parent && C.Om !== x?5:4;break;case 31:this.dump();W1q=42;break;case 25:return;break;case 10:J=E;W1q=20;break;case 13:E=C;W1q=12;break;case 2:(C=x !== m.default.Fg.gu && A?this.urls[A]:this.ho,D=this.ho.Ze,F=z?t.Ck:t.TEMPORARY);W1q=1;break;case 44:var u3R="Inval";u3R+="id fa";u3R+="ilure ";u3R+="state";throw Error(u3R);W1q=24;break;case 7:var s6t=" ";s6t+="a";s6t+="t";s6t+=" ";var X96=" fa";X96+="ilure";X96+=" reported for ";var j7d="T";j7d+="E";j7d+="M";j7d+="P";var d8u="P";d8u+="E";d8u+="R";d8u+="M";x=(z?d8u:j7d) + X96 + m.default.Fg.name[x] + s6t;z=[];W1q=13;break;case 24:C.Ze=F;c(C);this.r7=this.r7 || f(this.ho);F=this.ho.Ze;W1q=35;break;case 34:this.wC=null;this.xN=m.default.lu.Qj;B && (this.xN=m.default.lu.Nkb,C.Kv=B);W1q=31;break;case 11:E_I=E.Om;W1q=E_I === m.default.Fg.wD?10:18;break;case 30:W1q=h1V === t.TEMPORARY?24:29;break;case 15:var A2u="<url ";A2u+="f";A2u+="or ";z.unshift(A2u + E.stream.bitrate + ">");W1q=19;break;}}};m53=14;break;case 17:y.prototype.H7a=function(x,z,A,B){var M4L,D,C;M4L=2;for(;M4L !== 10;){switch(M4L){case 6:this.sWb(C,A.urls);M4L=14;break;case 5:B="";C=0;M4L=3;break;case 11:return;break;case 7:this.streams[C.id]=C;M4L=6;break;case 12:M4L=!C && !B?11:6;break;case 3:D=null;M4L=9;break;case 14:n.Ds(C.jO,function(F){var a7$;a7$=2;for(;a7$ !== 1;){switch(a7$){case 2:F.sort(function(G,E){var k0L;k0L=2;for(;k0L !== 1;){switch(k0L){case 2:return G.$b.ec - E.$b.ec;break;}}});a7$=1;break;}}});C.li=C.li.sort(function(F,G){var F0S;F0S=2;for(;F0S !== 1;){switch(F0S){case 2:return F.level - G.level || F.ec - G.ec;break;}}});M4L=10;break;case 1:M4L=n.ji(C) && B?5:12;break;case 2:C=this.streams[z];M4L=1;break;case 9:var z93="LI";z93+="V";z93+="E";var l0s="n";l0s+="o";l0s+="n";l0s+="e";l0s+="-";x !== h.v.Ya && (B=A.content_profile,C=A.bitrate,x === h.v.X && (D=A.vmaf));C={id:z,bitrate:C,zb:D,type:x,profile:B,clear:0 === B.indexOf(l0s),Qq:!0,urls:[],jO:{},li:[],ppa:this.ha?z93:void 0};M4L=7;break;}}};y.prototype.sWb=function(x,z){var m97,A;m97=2;for(;m97 !== 5;){switch(m97){case 2:A=this;z.forEach(function(B){var G2t,C,D,F,G,E;G2t=2;for(;G2t !== 14;){switch(G2t){case 2:(C=B.url,D=A.urls[C],F=A.tk[B.cdn_id]);A.ha && (G=B.liveOcaCapabilities);G2t=5;break;case 5:G2t=F?4:14;break;case 4:n.ji(D) && (D={id:C,Om:m.default.Fg.URL,Ze:t.ql,Kv:void 0,parent:F,children:[],url:C,$b:F,stream:x,v6:G},A.urls[C]=D,F.children.push(D));E=F.location;x.urls.push(D);0 === x.li.filter(function(J){var E3m;E3m=2;for(;E3m !== 1;){switch(E3m){case 4:return J.id == E.id;break;case 2:return J.id === E.id;break;}}}).length && x.li.push(E);E.streams[x.id]=x;(B=x.jO[E.id])?B.push(D):x.jO[E.id]=[D];G2t=14;break;}}});m97=5;break;}}};y.prototype.H4b=function(){var X8I,B,x,z,A;X8I=2;for(;X8I !== 6;){switch(X8I){case 4:B=p.default.time.Ga();X8I=3;break;case 5:return null;break;case 1:X8I=0 === A.length?5:4;break;case 9:(A.forEach(function(C){var F27;F27=2;for(;F27 !== 1;){switch(F27){case 2:C.id !== x.Ic.location && (C.Wb=x.wp.get(C.id));F27=1;break;}}}),this.K0=B);X8I=8;break;case 3:X8I=null === this.K0 || this.K0 + z.upa < B?9:8;break;case 8:A.sort(function(C,D){var W5I;W5I=2;for(;W5I !== 1;){switch(W5I){case 2:return C.level - D.level || C.ec - D.ec;break;}}});return A;break;case 2:(x=this,z=this.config,A=this.ZB.filter(function(C){var s3V;s3V=2;for(;s3V !== 1;){switch(s3V){case 2:return !f(C) && 0 !== C.level;break;}}}));X8I=1;break;}}};y.prototype.wYb=function(x){var L1I,z;L1I=2;for(;L1I !== 4;){switch(L1I){case 1:this.oWb=x;this.ZB.forEach(function(A){var q9F;q9F=2;for(;q9F !== 1;){switch(q9F){case 2:A.id !== z && A.Wb && A.Wb.confidence > m.default.pl.xI && (A.Wb.confidence=m.default.pl.xI);q9F=1;break;}}});L1I=4;break;case 2:z=this.Ic.location;L1I=1;break;}}};y.prototype.AUb=function(){var b3x,x;b3x=2;for(;b3x !== 5;){switch(b3x){case 2:x=this;this.r7 || this.ZB.forEach(function(z){var m$r;m$r=2;for(;m$r !== 1;){switch(m$r){case 2:z.Ze === t.TEMPORARY && x.wp.fail(z.id,p.default.time.Ga());m$r=1;break;}}});b3x=5;break;}}};y.prototype.dump=function(){};m53=24;break;case 14:y.prototype.l9a=function(x,z){var y$Z;y$Z=2;for(;y$Z !== 3;){switch(y$Z){case 1:(d(x,z),k(x));y$Z=5;break;case 5:this.wC=null;this.xN=m.default.lu.$ca;y$Z=3;break;case 8:y$Z=(x=this.tk[x])?6:8;break;case 2:y$Z=(x=this.tk[x])?1:5;break;}}};y.prototype.b9=function(){var o8j;o8j=2;for(;o8j !== 1;){switch(o8j){case 2:d(this.ho,!1);o8j=1;break;}}};y.prototype.zG=function(x){var g8S,z;g8S=2;for(;g8S !== 5;){switch(g8S){case 2:null === (z=this.sob) || void 0 === z?void 0:z.call(this,x);g8S=5;break;}}};y.prototype.sh=function(){var L4L;L4L=2;for(;L4L !== 1;){switch(L4L){case 2:this.wYb(w.ilb);L4L=1;break;}}};m53=10;break;}}function y(x,z,A,B,C,D){var R6L,F;R6L=2;for(;R6L !== 25;){switch(R6L){case 19:F.wC=null;R6L=18;break;case 2:F=v.call(this) || this;F.Ic=A;F.wp=B;F.config=C;R6L=3;break;case 18:var O0p="1S";O0p+="IYbZrN";O0p+="JCp9";var h77="LI";h77+="V";h77+="E";F.xN=m.default.lu.pu;A=x.wj;F.ha=h77 === x.eg && !!A;F.w1(x,z,m.default.lu.pu);O0p;return F;break;case 6:var m1T="n";m1T+="et";m1T+="w";m1T+="or";m1T+="k";F.tk={};F.urls={};F.streams={};F.ZB=[];F.r7=!1;F.ho={id:m1T,Om:m.default.Fg.gu,Ze:t.ql,Kv:void 0,parent:void 0,children:F.ZB};F.K0=null;R6L=19;break;case 3:var f_L="L";f_L+="I";f_L+="V";f_L+="E";F.sob=D;F.gOa=f_L;F.oWb=w.pu;F.li={};R6L=6;break;}}}})(r.EventEmitter);b.nFa=a;},44105:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.zP=void 0;c=a(44724);k=a(47571);f=a(4145);r=(function(){function l(d){var g;void 0 === d && (d=[]);g=this;this.items=d;d.forEach(function(n){return g.exa(n);});}Object.defineProperties(l.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Tsa:{get:function(){var d;return null !== (d=this.video) && void 0 !== d?d:this.audio;},enumerable:!1,configurable:!0}});l.prototype.get=function(d){return d === k.v.X?this.video:this.audio;};l.prototype.every=function(d){return this.items.every(d);};l.prototype.some=function(d){return this.items.some(d);};l.prototype.forEach=function(d){this.items.forEach(d);};l.prototype.find=function(d){return (0,f.yc)(this.items,d);};l.prototype.reduce=function(d,g){return this.items.reduce(d,g);};l.prototype.filter=function(d){return new l(this.items.filter(d));};l.prototype.replace=function(d,g){var n;n=this.items.indexOf(d);(0,c.assert)(-1 < n);(0,c.assert)(d.mediaType === g.mediaType);this.items[n]=g;this.exa(g);};l.prototype.add=function(d){this.items.push(d);this.exa(d);};l.prototype.remove=function(d){var g;g=this.items.indexOf(d);if(-1 === g)return !1;this.items.splice(g,1);this.Fvb(d.mediaType);return !0;};l.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};l.prototype.exa=function(d){d.mediaType === k.v.X?this.video=d:this.audio=d;};l.prototype.Fvb=function(d){d === k.v.X?this.video=void 0:this.audio=void 0;};return l;})();b.zP=r;},94800:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.eza=void 0;c=a(71502);k=a(74005);r=(function(){function f(l,d,g,n){this.config=d;this.Kf=g;this.console=n;this.ca=l.ca;}f.prototype.append=function(l,d){var g,n,h,m,p,q,u,t,w,v,y,x,z;if(l.ci)return l;n=!1;h=(0,c.Ama)(this.config,this.Kf);m=l.ka;p=l.offset;q=l.rf;u=l.mi;t=m.Lb;w=m.Bb;v=m.Zs;v=m.Ok || v;if(!l.ka.Ha || !v || q)return l;y=m.$a.wa(m.La);v=Math.floor(y.Oi(this.ca));x=null !== (g=d.Pqa) && void 0 !== g?g:t.wa(this.ca.zv(2));t=x.wa(w);g=v;z=!1;d.Pqa && (d=this.bSa(y,t,t),g=d.Gj,z=d.e5a);h=x.wa(k.N.Ma(h));w=k.N.max(h.wa(w),k.N.Ia);z || (w=this.bSa(y,w,t),g=w.Gj,w.e5a && (--g,this.ca.zv(g)));g < (this.config.XQb || 1)?n=!0:0 < v - g && l.ka.w3(v - g);return {ka:m,offset:p,rf:q,ci:n,mi:u};};f.prototype.bSa=function(l,d,g){var n;l=k.N.min(l,d);l=Math.floor(l.Oi(this.ca));d=this.ca.zv(l);g=g.wa(d);n=0 < l && g.lessThan(k.N.zy);return {Gj:l,Hfc:d,ddc:g,e5a:n};};return f;})();b.eza=r;},97292:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Baa=void 0;c=a(95994);k=a(70950);r=(function(){function f(l){this.console=l;}f.prototype.append=function(l){var d,g,n,h,m,p;if(l.ci)return l;d=l.ka;g=l.offset;n=l.mi;h=d.La;m=d.$a;p=h.add(g);g=m.add(g);p=this.SL && p.wa(this.SL);this.SL=g;if(void 0 === p || p.equal(k.N.Ia))return l;l.mi=n || [];d={stream:d.Sb,pts:h.G,gap:p.G};l.mi.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:d}}});c.K && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(d)));return l;};return f;})();b.Baa=r;},56130:function(r,b,a){var f,l,d,g,n;function c(h,m,p,q,u,t){var w,v,y,x,z,A,B;if(void 0 !== h.P9 || void 0 !== h.Iva || h.Es || h.Ln){w=h.end - h.start;v=Array(w);y=h.Es;x=h.LWa?h.LWa - 1:0;z=h.MWa?h.MWa - 1:0;A=Math.min(w,Math.max(h.P9 || 0,t && y && !x?1:0));h=Math.min(w - A,Math.max(h.Iva || 0,t && m && !z?1:0));t=Math.floor(q.Oi(p));p=Math.max(0,Math.min(w - A - h,y?Math.max(0,t - x):0));B=Math.max(0,Math.min(w - A - h - p,m?Math.max(0,t - z):0));p=A + p;q=w - h - B;z=z?0:Math.max(0,t + 1 - B);t=(1 - u) / (t + 1);for(B=0;B < w;++B){v[B]=B < A?-Infinity:B >= w - h?-Infinity:y && B < p?k(u + (B - A + x) * t):m && B >= q?k(1 - (B - q + z + 1) * t):0;}return v;}}function k(h){return 20 * Math.log(h) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.fza=void 0;f=a(70655);l=a(86393);d=a(74005);g=a(44724);n=a(47571);r=a(82823);r=(function(h){var i12;i12=2;for(;i12 !== 9;){switch(i12){case 2:f.__extends(m,h);m.prototype.Ha=function(p,q){var l16,u,w,v,y,t;l16=2;for(;l16 !== 33;){switch(l16){case 14:return {ia:!1};break;case 17:y=p.Ha.start;l16=16;break;case 2:var N6S="AudioMediaFragm";N6S+="entEditor [${fragment.mediaType}]: ";N6S+="Attempt to edit append";N6S+="ed fragment";void 0 === q && (q=!0);u=[];(0,g.assert)(!p.qR,N6S);l16=4;break;case 24:l16=!v?23:22;break;case 35:v && 1 < t.length && (v=null === v || void 0 === v?void 0:v.concat(t.slice(1)));return {ia:!0,mi:u,Pp:v};break;case 6:l16=0 >= p.te.ya?14:13;break;case 15:p=this.YBb(p,v?(0,d.jK)(v):t[0],y,q);v=p.ia;y=p.Zn;w=p.data;l16=24;break;case 8:l16=!(t[0] instanceof ArrayBuffer)?7:6;break;case 23:return {ia:v};break;case 21:v=w;l16=35;break;case 12:(w=this.XBb(p,t[0],q),v=w.ia,y=w.Zn);w=w.data;l16=10;break;case 20:return {ia:v};break;case 13:l16=0 < p.Ha.start || p.Ha.P9 || p.Ha.Es?12:16;break;case 16:l16=p.Ha.end !== p.Is || p.Ha.Iva || p.Ha.Ln?15:35;break;case 22:y && u.push(y);l16=21;break;case 4:l16=!p.Ha?3:9;break;case 3:return {ia:!0};break;case 19:y && u.push(y);v=w;l16=17;break;case 9:t=p.Pp;l16=8;break;case 10:l16=!v?20:19;break;case 7:return {ia:!0};break;}}};m.prototype.XBb=function(p,q,u){var f0$,t;f0$=2;for(;f0$ !== 6;){switch(f0$){case 3:f0$=!(p.Ha.start || t || p.Ha.Es || u)?9:8;break;case 9:return {ia:!0};break;case 8:var M2L=" ";M2L+="edit";M2L+=" fa";M2L+="ile";M2L+="d";var v_T="]";v_T+=":";v_T+=" ";var o2g="Audi";o2g+="oMediaFrag";o2g+="men";o2g+="tEditor [";u=c(p.Ha,u,p.ca,this.u9,this.cM,this.config.Q0a);return (q=new l.Fw(this.n7,p.stream,q).I8a({Fj:p.Ha.start,S:p.vG,px:u,jua:!1,gH:this.config.f9,mG:k(this.cM)}))?{ia:!0,Zn:p.W8a(t),data:q.ka}:(this.console.error(o2g.concat(p.mediaType,v_T).concat(p.toString(),M2L)),{ia:!1});break;case 2:void 0 === u && (u=!0);(0,g.assert)(p.Ha);t=p.Ha.P9;u=!(!p.Ha.Ln || !u);f0$=3;break;}}};i12=4;break;case 4:m.prototype.YBb=function(p,q,u,t){var J$9,w;J$9=2;for(;J$9 !== 14;){switch(J$9){case 3:t=!(!p.Ha.Ln || !t);J$9=9;break;case 8:return {ia:!0};break;case 7:var x8x=" edit";x8x+=" faile";x8x+="d";var t7e="]";t7e+=":";t7e+=" ";var l9V="AudioMed";l9V+="iaFragm";l9V+="en";l9V+="tEditor [";t=c(p.Ha,t,p.ca,this.v9,this.cM,this.config.Q0a);return (q=new l.Fw(this.n7,p.stream,q).P8a({Fj:p.Ha.end - u,S:p.vG,px:t,jua:!1,gH:this.config.f9,mG:k(this.cM)}))?{ia:!0,Zn:p.W8a(w),data:q.ka}:(this.console.error(l9V.concat(p.mediaType,t7e).concat(p.toString(),x8x)),{ia:!1});break;case 2:void 0 === u && (u=0);void 0 === t && (t=!0);(0,g.assert)(p.Ha);w=p.Ha.Iva;J$9=3;break;case 9:J$9=p.Ha.end === p.Is && !w && !p.Ha.Es && !t?8:7;break;}}};return m;break;}}function m(p,q,u){var d3q,t;d3q=2;for(;d3q !== 6;){switch(d3q){case 3:t.u9=d.N.Ma(0 <= q.u9?q.u9:q.Ty);t.v9=d.N.Ma(0 <= q.v9?q.v9:q.Ty);t.cM=Math.pow(10,(q.cM[u] || -44) / 20);return t;break;case 2:var j_M="1SIYbZr";j_M+="NJC";j_M+="p9";j_M;t=h.call(this,p,n.v.fa) || this;t.console=p;t.config=q;d3q=3;break;}}}})(r.Dca);b.fza=r;},80708:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gza=void 0;c=a(95994);r=(function(){function k(f){this.console=f;}k.prototype.append=function(f,l){var d,g,n,h,m,p,q;if(f.ci)return f;d=!1;g=f.ka;n=f.offset;h=f.rf;f=f.mi;l=l.gM;m=g.Lb;if(this.Zl && m.lessThan(this.Zl.Lb)){p=this.Zl.gM.wa(g.Bb);q=g.Lb.wa(this.Zl.gM);q.lessThan(p) && (c.K && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(g) + (", current error: ").concat(p.mb()) + (", discard error: ").concat(q.mb())),d=!0);}this.Zl=(g.Ok || g.Zs) && l?{gM:l,Lb:m}:void 0;return {ka:g,offset:n,rf:h,ci:d,mi:f};};return k;})();b.gza=r;},6313:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BEa=void 0;r=(function(){function a(c){this.kW=!1;this.P0b=c.cMb;}a.prototype.append=function(c){c.ka.Ha && (c.ka.U_b(this.kW?0:this.P0b),this.kW=!0);return c;};return a;})();b.BEa=r;},82823:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Dca=void 0;c=a(70655).__importDefault(a(29736));b.Dca=(function(){return function(k,f){this.console=k;this.mediaType=f;this.n7=new c.default.Console("MP4","media|asejs");};})();},82434:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.AGa=void 0;c=a(47571);k=a(70950);f=a(44724);l=a(77669);d=a(25136);g=a(60798);n=a(74499);h=a(99073);m=a(6313);p=a(94800);q=a(80708);u=a(56130);t=a(97292);w=a(87602);r=(function(){function v(y,x,z,A){this.config=y;this.mediaType=x;this.Kf=z;this.console=A;}v.prototype.append=function(y,x){var z,A,B,C,D,F;void 0 === this.track?this.noa(y.stream):this.track !== y.stream.track && ((0,f.assert)(this.track.ca),(0,f.assert)(y.stream.track.ca),this.track=y.stream.track);(0,f.assert)(void 0 !== this.gp);C={ka:y,offset:null !== (z=y.jta) && void 0 !== z?z:k.N.Ia,rf:this.config.tN,ci:!1};C=this.gp.reduce(function(G,E){return E.append(G,x);},C);D=C.ka;z=C.offset;F=C.ci;C=C.mi;C=void 0 === C?[]:C;D.Ha && ((0,f.assert)(y.Ha,"Fragments must be marked for edit at request time"),y.wi(D.Ha));if(F || !this.mqa)return {offset:z,ci:F};y=this.mqa.Ha(y,!(null === (B=null === (A=y.u) || void 0 === A?void 0:A.u) || void 0 === B || !B.Ln));A=y.ia;B=y.mi;y=y.Pp;Array.prototype.push.apply(C,void 0 === B?[]:B);return {offset:z,ci:!A,mi:C,Pp:y};};v.prototype.reset=function(){this.gp=this.track=void 0;};v.prototype.noa=function(y){var x,z;this.track=y.track;this.mediaType === c.v.fa?this.mqa=new u.fza(this.console,this.config,y.profile):y.CMb && (this.mqa=new w.PMa(this.console,this.config));this.gp=[];if(this.mediaType === c.v.fa){this.config.tN && this.gp.push(new g.YKa(this.config,y.track,this.console));z=this.eia(y);z.equal(k.N.Ia)?this.config.Bm && y.Rf && this.roa(y.pa.J) && this.gp.push(new m.BEa(this.config)):this.gp.push(new l.Hda(z));this.config.V6 || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(z.mb(),", ") + ("").concat(null === (x=y.Rf) || void 0 === x?void 0:x.mb())),this.gp.push(new n.XGa(this.config,y,this.console)));this.XMb()?(this.config.cl || this.gp.push(new p.eza(y,this.config,this.Kf,this.console)),this.config.tN && this.gp.push(new t.Baa(this.console)),this.gp.push(new d.kHa(this.config,y,this.console)),this.H0b(y) && ((0,f.assert)(y.ca),this.gp.push(this.Awb(y.Rf || k.N.Ia,y.ca,z)))):(this.gp.push(new q.gza(this.console)),this.config.tN && this.gp.push(new t.Baa(this.console)));}};v.prototype.roa=function(y){return this.config.roa || this.config.S0a && -1 !== this.config.S0a.indexOf(y);};v.prototype.eia=function(y){return l.Hda.eia(this.config,y.Rf,this.Kf,this.console);};v.prototype.XMb=function(){return !this.config.jN;};v.prototype.H0b=function(y){return this.config.Q3b && this.config.Bm && !!y.Rf;};v.prototype.Awb=function(y,x,z){return new h.xMa(y.wa(z),x,this.console);};return v;})();b.AGa=r;},74499:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XGa=void 0;c=a(70950);k=a(44724);f=a(95994);r=(function(){function l(d,g,n){var h;this.console=n;this.kW=!1;(0,k.assert)(g.ca,"NegativePtsGuard: stream.frameDuration must exist.");this.ca=g.ca;this.Bm=d.Bm;this.Rf=null !== (h=g.Rf) && void 0 !== h?h:c.N.Ia;}l.prototype.append=function(d){var g,n,h,m,p;if(this.kW || d.ci)return d;g=d.ka;n=d.offset;h=d.rf;d=d.mi;if(g.Ha){m=g.La.wa(this.Bm?this.Rf:c.N.Ia).add(n);if(m.lessThan(c.N.Ia)){p=Math.ceil(m.zv(-1).Oi(this.ca));f.K && this.console.trace(("NegativePtsGuard: dropping ").concat(p," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.Rf.mb(),", ") + ("request content start ").concat(g.La.mb(),", ") + ("current timestamp offset ").concat(n.mb()," => ") + ("firstPlatformTimestamp ").concat(m.mb(),"."));g.kka(p);}}this.kW=!0;return {ka:g,offset:n,rf:h,ci:!1,mi:d};};return l;})();b.XGa=r;},25136:function(r,b,a){var k,f,l,d;function c(g){return ("").concat(g.toString()," (nrdp: ").concat(g.hH,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.kHa=void 0;k=a(70950);f=a(85147);l=a(95994);d=a(44724);r=(function(){function g(n,h,m){this.console=m;this.offset=k.N.Ia;this.Rf=n.Bm?h.Rf:void 0;(0,d.assert)(h.ca);this.ca=h.ca;}g.prototype.append=function(n){var h,m,p,q;if(n.ci)return n;h=n.ka;m=n.offset;p=n.rf;q=n.mi;void 0 !== this.l2a && ((0,d.assert)(void 0 !== this.bpa),h.La.add(n.offset).equal(this.l2a)?(n=this.tub(h,m.add(this.offset)).G - this.bpa,0 > n?this.offset=this.offset.add(k.N.zy):0 === n?this.offset.lessThan(k.N.Ia) && (this.offset=this.offset.add(k.N.zy)):1 === n?this.offset.greaterThan(k.N.Ia) && (this.offset=this.offset.wa(k.N.zy)):this.offset=this.offset.wa(k.N.zy)):this.offset=k.N.Ia);this.bpa=this.rub(h,m.add(this.offset)).G;this.l2a=h.$a.add(m);return {ka:h,offset:m.add(this.offset),rf:p,ci:!1,mi:q};};g.prototype.tub=function(n,h){var m,p;n=this.sQa(n.La);m=(0,f.ht)(n).add((0,f.ht)(h));p=n.add(h).wa(m);l.K && this.console.trace("NrdpRounding: content start " + c(n) + ", timestamp offset: " + c(h) + ", start rounding error: " + (0,f.ht)(n).toString() + ", offset rounding error: " + (0,f.ht)(h).toString() + ", total error: " + m.toString() + ", expected nrdp value:" + p.mb() + ", (" + n.hH + h.hH + "ms), last fragment end nrdp: " + this.bpa);return p;};g.prototype.rub=function(n,h){var m,p,q;m=this.ca;n=this.sQa(n.$a);p=(0,f.ht)(n.wa(m)).add((0,f.ht)(m)).add((0,f.ht)(h));q=n.add(h).wa(p);l.K && this.console.trace("NrdpRounding: content end: start of last frame:" + c(n.wa(m)) + ", frame duration: " + c(m) + ", offset: " + c(h) + ", timestamp rounding error: " + (0,f.ht)(n.wa(m)).toString() + ", frame duration rouding error: " + (0,f.ht)(m).toString() + ", offset rounding error: " + (0,f.ht)(h).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.mb() + ", (" + n.wa(m).hH + m.hH + h.hH + "ms)");return q;};g.prototype.sQa=function(n){return this.Rf?n.wa(this.Rf):n;};return g;})();b.kHa=r;},77669:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Hda=void 0;c=a(70950);k=a(95994);r=(function(){function f(l){this.Rf=l;}f.eia=function(l,d,g,n){var h;h=c.N.Ia;d && (g=null === g || void 0 === g?void 0:g.rcc,l.h5b && void 0 !== g && 0 <= g?(l=new c.N(g,48E3),h=d.add(l),k.K && n.trace(("Adjusting profile timestamp offset of ").concat(d) + (" by DPI assumed delay of ").concat(l) + (" for ASE applied offset of ").concat(h,"."))):l.rR && (h=d));return h;};f.prototype.append=function(l){var d,g,n;d=l.rf;g=l.ci;n=l.mi;return {ka:l.ka,offset:l.offset.add(this.Rf),rf:d,ci:g,mi:n};};return f;})();b.Hda=r;},60798:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.YKa=void 0;c=a(70950);k=a(44724);f=a(95994);r=(function(){function l(d,g,n){this.config=d;this.console=n;this.Su=c.N.Ia;(0,k.assert)(g.ca);this.ca=g.ca;g=g.Eg[0].profile;this.h7=this.eIb(g,this.ca);this.N6=this.$Hb(g,this.ca);this.h5=-1 !== d.kRa.indexOf(g);}l.prototype.append=function(d,g){var n,h,m,p,q;if(d.ci)return d;n=d.ka;h=d.offset;m=d.mi;m=void 0 === m?[]:m;d=d.rf;p=g.gM;g=g.Pqa;if(this.isa){q=this.cRb(n,this.isa);n.Ha && !this.h5 && this.zha(q)?(f.K && this.console.trace("SeamlessAudio: dropping first frame"),n.kka(1),this.Su=q):(this.Su=q.add(this.ca),this.sRa(this.Su) || (f.K && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + n.Bb.mb() + " error would be " + this.Su.mb() + " (editing " + (n.Ha?"":"not ") + "allowed)"),m.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:n.Sb,pts:n.La.G}}}}),this.Su=c.N.Ia,d=!1));this.isa=void 0;}if(n.Ok || n.Zs)((0,k.assert)(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!n.Ha || !g && n.Zs || (q=this.dRb(n,p,g),g && this.h5 && q.gi(this.ca)?(f.K && this.console.trace("SeamlessAudio: dropping last two frames"),n.w3(2)):q.gi(c.N.Ia) && (f.K && this.console.trace("SeamlessAudio: dropping last frame"),n.w3(1))),this.isa=p);(0,k.assert)(this.sRa(this.Su));this.SL=n.Lb;return {ka:n,offset:h.add(this.Su),rf:d,ci:0 === n.oZb,mi:m.length?m:void 0};};l.prototype.dRb=function(d,g,n){var h;if(n)h=this.Su.add(d.Lb.wa(n)).wa(this.ca);else (h=d.Lb.wa(g),h=this.Su.add(h).wa(this.ca));f.K && this.console.trace("SeamlessAudio: fragment end: " + d.Lb.mb() + ", splice " + g.mb() + ", next start " + (null === n || void 0 === n?void 0:n.mb()) + ", error " + h.add(this.ca).mb() + ", error with frame drop " + h.mb() + ", is" + (this.zha(h)?"":" not") + " within bounds of [" + this.h7.mb() + " and " + this.N6.mb() + ")");return h;};l.prototype.cRb=function(d,g){var n;(0,k.assert)(this.SL);n=this.Su.add(this.SL.wa(d.Bb)).wa(this.ca);f.K && this.console.trace("SeamlessAudio: fragment start: " + d.Bb.mb() + ", splice " + g.mb() + ", last fragment end: " + this.SL.mb() + ", error " + n.add(this.ca).mb() + ", error with frame drop " + n.mb() + ", is" + (this.zha(n)?"":" not") + " within bounds of [" + this.h7.mb() + " and " + this.N6.mb() + ")");return n;};l.prototype.zha=function(d){return d.lessThan(this.N6) && d.gi(this.h7);};l.prototype.sRa=function(d){return d.lessThan(this.N6.add(c.N.zy)) && d.gi(this.h7.wa(c.N.zy));};l.prototype.$Hb=function(d,g){return "object" === typeof this.config.Nua && void 0 !== this.config.Nua[d]?(d=new c.N(this.config.Nua[d],1E3).ze(g.S).add(new c.N(1,g.S)),c.N.min(g,d)):g;};l.prototype.eIb=function(d,g){var n;if("object" === typeof this.config.Oua && void 0 !== this.config.Oua[d]){n=g.Oi(-2);d=new c.N(this.config.Oua[d],1E3).ze(g.S).wa(new c.N(1,g.S));return c.N.max(n,d);}return new c.N(-12,1E3);};return l;})();b.YKa=r;},99073:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xMa=void 0;c=a(70950);k=a(95994);r=(function(){function f(l,d,g){this.Rf=l;this.ca=d;this.console=g;}f.prototype.append=function(l,d){var g,n,h,m,p,q;g=l.ka;n=l.offset;h=l.rf;m=l.mi;l=l.ci;if(!l){p=d.endOfStream;d=d.gM;if(p && d){p=g.La.wa(this.Rf).add(n);q=g.$a.wa(this.Rf).add(n);d=d.wa(c.N.zy);k.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.mb() + "-" + q.mb() + " vs media splice point at " + d.mb());p.add(this.ca).gi(d)?(k.K && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),l=!0):q.gi(d) && (d=Math.ceil(q.wa(d).Oi(this.ca)),g.Ha?(k.K && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(d," frames")),g.w3(d)):(k.K && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),l=!0));}else p && k.K && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {ka:g,offset:n,rf:h,ci:l,mi:m};};return f;})();b.xMa=r;},87602:function(r,b,a){var c,k,f,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.PMa=void 0;c=a(70655);k=a(86393);f=a(44724);l=a(74005);d=a(55757);r=a(82823);g=a(91854);a=(function(n){function h(m,p){var q;q=n.call(this,m,g.v.X) || this;q.console=m;q.config=p;return q;}c.__extends(h,n);h.prototype.Ha=function(m){var p,q,u,t,w,v,y;if(!(m.Ha && m instanceof d.Aaa))return {ia:!0};p=m.Pp;if(!(p[0] instanceof ArrayBuffer))return {ia:!0};q=p[0];u=q.slice(0,q.byteLength - 8);t=new DataView(q);q=t.getUint32(u.byteLength);(0,f.assert)("mdat" === (0,k.mJ)(t.getUint32(u.byteLength + 4)));w=0 < m.Ha.start;t=m.Ha.end < m.Is;if(!w && !t)return {ia:!0};if(w){w=new k.Fw(this.n7,m.stream,u);v=w.I8a(m.Ha.start,m.S);}if(t && !1 !== v){w=new k.Fw(this.n7,m.stream,v?(0,l.jK)(v.ka):u);y=w.P8a(m.Ha.end - m.Ha.start,m.S);}u=(m=t?y:v)?m.ka:[u];q=this.grb(v,y,q);u.push((0,k.ZL)(q - 8));1 < p.length && (u=u.concat(p.slice(1)));return {ia:!0,Pp:u};};h.prototype.grb=function(m,p,q){m && ((0,f.assert)(void 0 !== m.Mp),(0,f.assert)(void 0 !== m.eN),q-=m.Mp);p && ((0,f.assert)(void 0 !== p.Mp),(0,f.assert)(void 0 !== p.eN),q-=p.Mp,m && (0,f.assert)(void 0 !== m.Mp));return q;};return h;})(r.Dca);b.PMa=a;},1684:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.RCa=void 0;c=a(44724);k=a(8079);r=(function(){function f(){this.global=new k.AP();this.TG={};}f.prototype.add=function(l,d){(0,c.assert)(void 0 === this.TG[l],"Cannot add new memory object for playgraph");this.TG[l]=d;this.global.add(d.zq);this.global.add(d.kS);};return f;})();b.RCa=r;},8079:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.AP=void 0;c=a(47571);r=(function(){function k(){this[c.v.fa]=0;this[c.v.X]=0;this[c.v.Ya]=0;}Object.defineProperties(k.prototype,{total:{get:function(){return this[c.v.fa] + this[c.v.X] + this[c.v.Ya];},enumerable:!1,configurable:!0}});k.prototype.add=function(f){this[c.v.fa]+=Math.max(f[c.v.fa] || 0,0);this[c.v.X]+=Math.max(f[c.v.X] || 0,0);this[c.v.Ya]+=Math.max(f[c.v.Ya] || 0,0);};k.prototype.Dga=function(f,l){this[f]+=Math.max(l || 0,0);};return k;})();b.AP=r;c.v.fa;c.v.X;c.v.Ya;},46044:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.NJa=void 0;c=a(8079);r=(function(){function k(){this.zq=new c.AP();this.kS=new c.AP();}Object.defineProperties(k.prototype,{total:{get:function(){var f;f=new c.AP();f.add(this.zq);f.add(this.kS);return f;},enumerable:!1,configurable:!0}});k.prototype.add=function(f){this.zq.add(f.zq);this.kS.add(f.kS);};k.prototype.Dga=function(f,l,d){(d?this.kS:this.zq).Dga(f,l);};return k;})();b.NJa=r;},73520:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.BAa=void 0;r=a(70655);c=a(8628);k=r.__importDefault(a(33742));f=r.__importDefault(a(40275));l=r.__importDefault(a(73764));d=a(44724);g=a(31925);n=r.__importDefault(a(29736));b.BAa=(function(){function m(p,q,u){var t;t=this;this.wp=new k.default(p,u);this.ZU=new f.default(p);this.Ic=new l.default(this.ZU,this.wp,p);new g.K_(n.default.X2,q,p);c.SC.swb(p);p.f8 && setInterval(function(){t.wp.save();t.ZU.save();},p.f8);}m.Fma=function(p,q,u){void 0 === h?(m.config=p,m.Gbb=u,h=new m(p,q,u)):((0,d.assert)(m.config === p),(0,d.assert)(m.Gbb === u));return h;};m.reset=function(){m.config=void 0;h=m.Gbb=void 0;};return m;})();},57862:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(46580),b);r.__exportStar(a(79266),b);r.__exportStar(a(94345),b);r.__exportStar(a(53738),b);r.__exportStar(a(52338),b);r.__exportStar(a(27610),b);r.__exportStar(a(89786),b);r.__exportStar(a(64458),b);r.__exportStar(a(80251),b);r.__exportStar(a(32281),b);r.__exportStar(a(39100),b);r.__exportStar(a(14441),b);r.__exportStar(a(48548),b);r.__exportStar(a(64196),b);r.__exportStar(a(6965),b);r.__exportStar(a(73101),b);r.__exportStar(a(38690),b);r.__exportStar(a(21419),b);r.__exportStar(a(22335),b);r.__exportStar(a(94256),b);r.__exportStar(a(40178),b);r.__exportStar(a(11231),b);r.__exportStar(a(58996),b);r.__exportStar(a(12331),b);r.__exportStar(a(65378),b);r.__exportStar(a(84045),b);r.__exportStar(a(67814),b);r.__exportStar(a(56595),b);r.__exportStar(a(84472),b);r.__exportStar(a(87366),b);r.__exportStar(a(40079),b);r.__exportStar(a(81183),b);r.__exportStar(a(74810),b);r.__exportStar(a(84911),b);r.__exportStar(a(51619),b);r.__exportStar(a(87254),b);r.__exportStar(a(47358),b);r.__exportStar(a(69168),b);r.__exportStar(a(32662),b);r.__exportStar(a(66750),b);r.__exportStar(a(50610),b);r.__exportStar(a(88918),b);},79266:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},94345:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},53738:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52338:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},46580:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27610:function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Wc=b.Un=void 0;(function(c){c[c.Rr=0]="STOPPED";c[c.Qe=1]="BUFFERING";c[c.sl=2]="REBUFFERING";c[c.rm=3]="STREAMING";c[c.N_=4]="TRACK_SWITCH";})(a || (a={}));b.Wc=a;b.Un=function(c){return c === a.Qe || c === a.sl || c === a.N_;};},89786:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},64458:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84911:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wz=void 0;r=b.wz || (b.wz={});r[r.wH=0]="skipped";r[r.lrb=1]="adjustment";},80251:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},32281:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},39100:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},48548:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},88918:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},66750:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},47571:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(70655).__exportStar(a(57862),b);},64196:function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.Q1b=b.m8a=b.wta=void 0;b.wta=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.m8a=a;b.Q1b=function(c){return ("IStreamable: ").concat(c.identifier," [").concat(c.mediaType,"] ").concat(c.groupId," ") + ("p:").concat(JSON.stringify(c.Yg)," sp:").concat(c.Sy," ") + ("pssp:").concat(c.NV," ") + ("state:").concat(c.ff," path-complete:").concat(c.By," ") + ("streaming:").concat(c.wr," current:").concat(c.Bq);};},6965:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},38690:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},73101:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qG=b.W6=b.Bz=b.v=void 0;c=a(18920);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return c.v;}}});b.Bz=[c.v.fa,c.v.X];b.W6=function(k,f,l){k=k || f?f?[c.v.X]:[c.v.fa]:[c.v.fa,c.v.X];l && k.push(c.v.Ya);return k;};b.qG=function(k){return k === c.v.fa?"audio":k === c.v.X?"video":k === c.v.Ya?"text":"unknown";};},21419:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(73101);},22335:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(73101);},94256:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Gz=void 0;r=b.Gz || (b.Gz={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.xI=1]="HAVE_SOMETHING";r[r.wI=2]="HAVE_MINIMUM";r[r.YO=3]="HAVE_ENOUGH";},40178:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},11231:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},58996:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Cb=b.Dsa=void 0;c=a(27610);(function(f){f[f.Dk=0]="STARTING";f[f.Qe=1]="BUFFERING";f[f.sl=2]="REBUFFERING";f[f.me=3]="PLAYING";f[f.D_=4]="STOPPING";f[f.Rr=5]="STOPPED";f[f.Vh=6]="PAUSED";})(k || (k={}));b.Cb=k;b.Dsa=function(f){return f === c.Wc.Qe?k.Qe:f === c.Wc.sl?k.sl:f === c.Wc.N_?k.Qe:f === c.Wc.rm?k.me:k.Dk;};},51619:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(48170),b);r.__exportStar(a(11351),b);r.__exportStar(a(3311),b);r.__exportStar(a(34759),b);r.__exportStar(a(64771),b);r.__exportStar(a(27891),b);r.__exportStar(a(60657),b);r.__exportStar(a(79465),b);},48170:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},60657:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},27891:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},11351:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},64771:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},3311:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},79465:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},34759:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},12331:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},65378:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},67814:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84045:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},56595:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},84472:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},14441:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},87366:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},40079:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},50610:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},81183:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},74810:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},69168:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hq=void 0;r=b.hq || (b.hq={});r[r.tkb=0]="PLAYGRAPH_CHANGED";r[r.ukb=1]="PLAYGRAPH_UNCHANGED";r[r.Ejb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.slb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.Ghb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.Fhb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.tlb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.zeb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.Wib=8]="LOSS_OF_POSITION";},87254:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(47396),b);r.__exportStar(a(38108),b);},47396:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},38108:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},32662:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},47358:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},17655:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Fw=b.nD=b.Or=b.ZL=b.Yda=void 0;c=a(70655);k=a(86393);Object.defineProperties(b,{nD:{enumerable:!0,get:function(){return k.nD;}}});Object.defineProperties(b,{Fw:{enumerable:!0,get:function(){return k.Fw;}}});Object.defineProperties(b,{ZL:{enumerable:!0,get:function(){return k.ZL;}}});Object.defineProperties(b,{Yda:{enumerable:!0,get:function(){return k.Yda;}}});f=c.__importDefault(a(29736));r=(function(l){function d(g,n,h,m,p){return l.call(this,d.console,g,n,h,m,p) || this;}c.__extends(d,l);Object.defineProperties(d,{console:{get:function(){return this.V || (this.V=new f.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(k.Or);b.Or=r;},8528:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xba=void 0;r=a(70655);c=a(5640);k=a(47571);new (r.__importDefault(a(29736)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var H5h;H5h=2;function f(l){var C3h;C3h=2;for(;C3h !== 4;){switch(C3h){case 5:var B_t="1SIYb";B_t+="Z";B_t+="rNJCp";B_t+="9";B_t;C3h=4;break;case 7:"";C3h=2;break;case 2:this.Yna=l;this.Ox={};C3h=5;break;}}}for(;H5h !== 7;){switch(H5h){case 2:f.prototype.reset=function(){var x9p;x9p=2;for(;x9p !== 1;){switch(x9p){case 2:this.FC=new c.oAa();x9p=1;break;}}};f.prototype.Rv=function(l,d){var C98;C98=2;for(;C98 !== 1;){switch(C98){case 2:d.tj && (this.Yna?this.FC.start(l,d.tj):d.type === k.v.X && (this.Ox[d.tj]?this.Ox[d.tj].JX+=1:this.Ox[d.tj]={tj:d.tj,JX:1,V3:!1},this.Hcb(l)));C98=1;break;}}};f.prototype.Tv=function(l,d){var c50,g;c50=2;for(;c50 !== 9;){switch(c50){case 7:c50=d.tj?2:7;break;case 1:c50=this.Yna?5:4;break;case 4:g=this.Ox[d.tj];d.type === k.v.X && g && (--g.JX,0 === g.JX && (g.V3 && this.FC.stop(l,d.tj),g.V3=!1,delete this.Ox[d.tj]),this.Hcb(l));c50=9;break;case 2:c50=d.tj?1:9;break;case 5:this.FC.stop(l,d.tj);c50=9;break;case 6:c50=this.Yna?4:6;break;}}};f.prototype.PJ=function(l,d,g,n){var X5k;X5k=2;for(;X5k !== 1;){switch(X5k){case 2:n.tj && (this.Yna?this.FC.add(l,d,g,n.tj):this.dR === n.tj && this.FC.add(l,d,g,n.tj));X5k=1;break;}}};H5h=3;break;case 3:f.prototype.Tm=function(){var N2_;N2_=2;for(;N2_ !== 1;){switch(N2_){case 4:return this.FC.get();break;case 2:return this.FC.get();break;}}};f.prototype.Hcb=function(l){var K$B,d,g;K$B=2;for(;K$B !== 5;){switch(K$B){case 2:(d=Object.keys(this.Ox).map(function(n){var X0O;X0O=2;for(;X0O !== 1;){switch(X0O){case 2:return parseInt(n);break;case 4:return parseInt(n);break;}}}),g=this.Ox[d[0]]);1 === d.length && !1 === g.V3?(this.FC.start(l,g.tj),this.dR=g.tj):1 < d.length && this.dR && (d=this.Ox[this.dR],this.FC.stop(l,this.dR),d.V3=!1,this.dR=void 0);K$B=5;break;}}};return f;break;}}})();b.xba=a;},10764:function(r,b,a){var k;function c(){this.vm=void 0;this.dA=0;}k=a(67841);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.dA && this.vm?{p25:this.vm.Ap,p50:this.vm.bn,p75:this.vm.Bp,c:this.dA}:null;};c.prototype.Dg=function(f){if(!(!k.Zb(f) && k.has(f,"p25") && k.has(f,"p50") && k.has(f,"p75") && k.has(f,"c") && k.isFinite(f.p25) && k.isFinite(f.p50) && k.isFinite(f.p75) && k.isFinite(f.c)))return (this.vm=void 0,this.dA=0,!1);this.vm={Ap:f.p25,bn:f.p50,Bp:f.p75};this.dA=f.c;};c.prototype.get=function(){return {ksa:this.vm,Gj:this.dA};};c.prototype.set=function(f,l){this.vm=f;this.dA=l;};c.prototype.reset=function(){this.vm=void 0;this.dA=0;};c.prototype.toString=function(){return "IQRHist(" + this.vm + "," + this.dA + ")";};r.exports=c;},33742:function(r,b,a){var d,g,n,h,m,p;function c(q){var u;u=q.bfa;this.Y=q;this.Qz=g.pl.HAVE_NOTHING;this.Sea=q.Sea;q=new m(q);this.UQ=q.create("throughput-location-history",u);this.z0=q.create("throughput-location-history",u);this.f1=q.create("throughput-location-history",u);this.g1=q.create("throughput-location-history",u);this.e1=q.create("throughput-location-history",u);this.gx=q.create("respconn-location-history",u);this.Yw=q.create("respconn-location-history",u);this.d1=q.create("throughput-tdigest-history",u);this.A0=q.create("throughput-iqr-history",u);this.n0=q.create("throughput-location-history",u);this.p0=q.create("throughput-location-history",u);this.o0=q.create("throughput-location-history",u);this.q0=q.create("throughput-location-history",u);this.jb=null;}function k(q,u,t,w,v){this.$r=new c(v);this.yn=[];this.cob=n.time.Ga() - Date.now() % 864E5;this.Yr=null;this.Y=v;for(q=0;q < w;++q){this.yn.push(new c(v));}}function f(q,u,t){return d.has(q,u)?q[u]:q[u]=t;}function l(q,u){var t;this.Y=q;this.wPa=u;this.oDb();this.RD=new c(this.Y);this.Qnb();t=q.Hja;t && (t={confidence:g.pl.YO,qb:{Da:parseInt(t,10),Zd:0},al:{Da:0,Zd:0},p5:{Da:0,Zd:0}},this.get=function(){return t;});}d=a(67841);g=a(54186)["default"];b=a(74005);n=a(29736)["default"];h=b.PCa;m=a(48643).Mhb;new n.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:g.pl.HAVE_NOTHING};c.prototype.sE=function(q,u){this.Qz=u;this.UQ.add(q);this.d1.add(q);this.jb=n.time.Ga();};c.prototype.qE=function(q){this.z0.add(q);};c.prototype.tE=function(q){this.f1.add(q.initial);this.g1.add(q.low);this.e1.add(q.high);};c.prototype.ZH=function(q,u){this.A0.set(q,u);};c.prototype.oA=function(q){this.gx.add(q);};c.prototype.nA=function(q){this.Yw.add(q);};c.prototype.QJ=function(q){this.n0.add(q.Da);this.p0.add(q.Zd);this.o0.add(q.VJ);this.q0.add(q.oO);};c.prototype.getState=function(){var q,u,t,w,v,y,x,z,A,B,C,D,F,G;q=this.UQ.getState();u=this.z0.getState();t=this.f1.getState();w=this.g1.getState();v=this.e1.getState();y=this.gx.getState();x=this.Yw.getState();z=this.A0.getState();A=this.d1.getState();B=this.n0.getState();C=this.p0.getState();D=this.o0.getState();F=this.q0.getState();if(d.Zb(q) && d.Zb(y) && d.Zb(x))return null;G={c:this.Qz,t:n.time.Gqa(this.jb)};d.Zb(q) || (G.tp=q);d.Zb(u) || (G.itp=u);d.Zb(t) || (G.tcii=t);d.Zb(w) || (G.tcil=w);d.Zb(v) || (G.tcih=v);d.Zb(y) || (G.rt=y);d.Zb(x) || (G.hrt=x);d.Zb(z) || (G.iqr=z);d.Zb(A) || (G.td=A);d.Zb(B) || (G.dta=B);d.Zb(C) || (G.dtv=C);d.Zb(D) || (G.dtta=D);d.Zb(F) || (G.dttv=F);return G;};c.prototype.Dg=function(q){var u;u=n.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > g.pl.YO || q.t > u || !this.UQ.Dg(q.tp))return (this.Qz=g.pl.HAVE_NOTHING,this.Yr=this.jb=null,this.UQ.Dg(null),this.gx.Dg(null),this.Yw.Dg(null),!1);this.Qz=q.c;this.jb=n.time.fra(q.t);this.gx.Dg(d.has(q,"rt")?q.rt:null);this.Yw.Dg(d.has(q,"hrt")?q.hrt:null);this.z0.Dg(d.has(q,"itp")?q.itp:null);this.f1.Dg(d.has(q,"tcii")?q.tcii:null);this.g1.Dg(d.has(q,"tcil")?q.tcil:null);this.e1.Dg(d.has(q,"tcih")?q.tcih:null);this.n0.Dg(d.has(q,"dta")?q.dta:null);this.p0.Dg(d.has(q,"dtv")?q.dtv:null);this.o0.Dg(d.has(q,"dtta")?q.dtta:null);this.q0.Dg(d.has(q,"dttv")?q.dttv:null);d.has(q,"iqr") && this.A0.Dg(q.iqr);d.has(q,"td") && this.d1.Dg(q.td);return !0;};c.prototype.get=function(){var q,u,t,w,v,y,x,z,A,B,C;q=this.Y;if(d.Zb(this.jb))return p;u=(n.time.Ga() - this.jb) / 1E3;u > q.Dnb?this.Qz=g.pl.HAVE_NOTHING:u > q.jnb && (this.Qz=Math.min(this.Qz,g.pl.xI));q=this.UQ.get();t=this.z0.get();w=this.f1.get().Da;v=this.g1.get().Da;y=this.e1.get().Da;x=this.gx.get();z=this.Yw.get();A=this.A0.get();B=this.d1.get();C={Da:this.n0.Pma().Da,Zd:this.p0.Pma().Da,VJ:this.o0.get().Da,oO:this.q0.get().Da};u={Cl:u,confidence:this.Qz,qb:q,QT:t,"throughput-ci":{initial:w,low:v,high:y},al:x,p5:z,yB:A,ah:B,Jm:C};q && (u.vgc=h.prototype.Iv.bind(q));x && (u.vfc=h.prototype.Iv.bind(x));z && (u.Edc=h.prototype.Iv.bind(z));return u;};c.prototype.time=function(){return this.jb;};k.prototype.ae=function(){return ((n.time.Ga() - this.cob) / 1E3 / 3600 / (24 / this.yn.length) | 0) % this.yn.length;};k.prototype.getState=function(){var q;q={g:this.$r.getState(),h:this.yn.map(function(u){return u.getState();})};d.Zb(this.Yr) || (q.f=n.time.Gqa(this.Yr));return q;};k.prototype.Dg=function(q){var u,t;if(!this.$r.Dg(q.g))return !1;u=this.yn.length;t=!1;this.yn.forEach(function(w,v){t=!w.Dg(q.h[v * q.h.length / u | 0]) || t;});this.Yr=d.has(q,"f")?n.time.fra(q.f):null;return t;};k.prototype.sE=function(q,u){this.$r.sE(q,u);this.yn[this.ae()].sE(q,u);this.Yr=null;};k.prototype.qE=function(q){this.$r.qE(q);this.yn[this.ae()].qE(q);this.Yr=null;};k.prototype.tE=function(q){this.$r.tE(q);this.yn[this.ae()].tE(q);this.Yr=null;};k.prototype.ZH=function(q,u){this.$r.ZH(q,u);this.yn[this.ae()].ZH(q,u);};k.prototype.oA=function(q){this.$r.oA(q);this.yn[this.ae()].oA(q);};k.prototype.nA=function(q){this.$r.nA(q);this.yn[this.ae()].nA(q);};k.prototype.QJ=function(q){this.$r.QJ(q);this.yn[this.ae()].QJ(q);};k.prototype.fail=function(q){this.Yr=q;};k.prototype.get=function(){var q,u;if(!d.Zb(this.Yr)){if((n.time.Ga() - this.Yr) / 1E3 < this.Y.inb)return {confidence:g.pl.HAVE_NOTHING,Fs:!0};this.Yr=null;}q=this.yn[this.ae()].get();u=this.$r.get();q=q.confidence >= u.confidence?q:u;q.Fs=!1;return q;};k.prototype.time=function(){return this.$r.time();};l.prototype.ONa=function(q,u){var t;t=this.Y;q=f(this.vQ,q,{});return f(q,u,new k(t.aOa || 14400,t.$Na || 100,t.ZNa || 100,t.JOa || 4,t));};l.prototype.Qnb=function(){var q,u;q=n.storage.get("lh");u=n.storage.get("gh");q && this.upb(q);u && this.tpb(u);};l.prototype.unb=function(){var q;q={};d.Ds(this.vQ,function(u,t){d.Ds(u,function(w,v){f(q,t,{})[v]=w.getState();},this);},this);return q;};l.prototype.tpb=function(q){this.RD.Dg(q);};l.prototype.upb=function(q){var u,t;u=null;t=this.Y;d.Ds(q,function(w,v){d.Ds(w,function(y,x){var z;z=new k(t.aOa || 14400,t.$Na || 100,t.ZNa || 100,t.JOa || 4,t);z.Dg(y)?(f(this.vQ,v,{})[x]=z,u=!0):d.Zb(u) && (u=!1);},this);},this);};l.prototype.save=function(){var q;q=this.unb();n.storage.set("lh",q);n.storage.set("gh",this.RD.getState());this.wPa && this.wPa.iva(this.RD.getState());};l.prototype.oDb=function(){this.vQ={};this.nJ=this.xNa="";this.Wj=null;};l.prototype.F9=function(q){this.xNa=q;this.Wj=null;};l.prototype.E9=function(q){this.nJ=q;this.Wj=null;};l.prototype.QD=function(){d.Zb(this.Wj) && (this.Wj=this.ONa(this.xNa,this.nJ));return this.Wj;};l.prototype.sE=function(q,u){this.QD().sE(q,u);this.RD.sE(q,u);};l.prototype.qE=function(q){this.QD().qE(q);this.RD.qE(q);};l.prototype.tE=function(q){this.QD().tE(q);this.RD.tE(q);};l.prototype.ZH=function(q,u){q && q.Ap && q.bn && q.Bp && (this.QD().ZH(q,u),this.RD.ZH(q,u));};l.prototype.oA=function(q){this.QD().oA(q);};l.prototype.nA=function(q){this.QD().nA(q);};l.prototype.QJ=function(q){this.QD().QJ(q);};l.prototype.fail=function(q,u){this.ONa(q,this.nJ).fail(u);};l.prototype.get=function(q,u){var t,w,v,y;q=(q=this.vQ[q])?q[this.nJ]:null;t=null;if(q && (t=q.get(),t.confidence > g.pl.HAVE_NOTHING))return t;if(!1 === u)return p;w=t=null;v=!1;y=null;d.Ds(this.vQ,function(x){d.Ds(x,function(z,A){var B;if(!v || A == this.nJ){B=z.get();B && (!w || w <= B.confidence) && (!y || w < B.confidence || y < z.time()) && (w=B.confidence,v=A == this.nJ,y=z.time(),t=B);}},this);},this);return t?t:p;};r.exports=l;},40275:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);c=r.__importStar(a(67841));k=r.__importDefault(a(29736));new k.default.Console("ASEJS_LOCATION_HISTORY","media|asejs");a=(function(){function f(l){this.config=l;this.load();}f.prototype.save=function(){var l;l=this.getState();k.default.storage.set("nh",l);};f.prototype.X0a=function(l,d){this.gwa && (d > this.$M && (this.CH+=d - this.$M,this.$M=d),-1 === this.k6 || l > this.k6) && (l=d - l,this.FL.push([this.CH - l,l]),this.trim(),this.k6=d);};f.prototype.trim=function(){var l;l=this.CH - this.config.xRb;this.FL=this.FL.filter(function(d){return d[0] > l;});};f.prototype.load=function(){var l;l=k.default.storage.get("nh");this.Dg(l) || (this.$M=k.default.time.Ga(),this.CH=0,this.gwa=!1,this.k6=-1,this.FL=[]);};f.prototype.Dg=function(l){if(!(l && c.has(l,"t") && c.has(l,"s") && c.has(l,"i") && c.tb(l.t) && c.tb(l.s) && c.isArray(l.i)))return !1;this.$M=k.default.time.fra(1E3 * l.t);this.CH=1E3 * l.s;this.gwa=!1;this.FL=l.i.map(function(d){return [1E3 * d[0],d[1]];});this.k6=-1;return !0;};f.prototype.getState=function(){return this.gwa?{t:k.default.time.now() / 1E3 | 0,s:(this.CH + (k.default.time.Ga() - this.$M)) / 1E3 | 0,i:this.FL.map(function(l){return [l[0] / 1E3 | 0,l[1]];})}:{t:k.default.time.Gqa(this.$M) / 1E3 | 0,s:this.CH / 1E3 | 0,i:this.FL.map(function(l){return [l[0] / 1E3 | 0,l[1]];})};};return f;})();b["default"]=a;},73764:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);k=c.__importStar(a(67841));r=a(28075);f=c.__importDefault(a(24068));l=c.__importDefault(a(32364));d=a(42016);g=a(2838);n=a(8528);h=a(93950);m=a(29736)["default"];p=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(u){function t(w,v,y){var x;x=u.call(this) || this;x.Ro={};x.LQ=0;x.Zz=0;x.$P=[];x.tf=0;x.Zac=!1;x.Y=y;x.FNa=new l.default(y);x.qQ=new n.xba(!0);x.ZP=new n.xba(!1);y.GCb && (x.CJ=new h.RHa(x.Y));x.reset();x.zOa=w;x.Wj=v;x.bOa=m.ho.name();x.Wj.E9(x.bOa);m.events.on("networkchange",x.YSb.bind(x));return q=x;}c.__extends(t,u);t.instance=function(){return q;};t.reset=function(){q && q.reset();};t.prototype.YSb=function(w){this.bOa=w;this.Wj.E9(w);};Object.defineProperties(t.prototype,{wp:{get:function(){return this.Wj;},enumerable:!1,configurable:!0}});t.prototype.Ncb=function(){var w;if(!this.hga){w=this.f_a();this.Wj.sE(w.default.Da,this.confidence);w["initial-throughput-ewma"] && w["initial-throughput-ewma"].Da && this.Wj.qE(w["initial-throughput-ewma"].Da);w["throughput-ci"] && this.Wj.tE(w["throughput-ci"]);w.deliverytime && this.Wj.QJ(w.deliverytime);this.Wj.ZH(w.yB?w.yB.ksa:void 0,w.yB?w.yB.qZb:void 0);k.Zb(this.Fc) || (this.hga=!0);}};Object.defineProperties(t.prototype,{startTime:{get:function(){return this.qg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{confidence:{get:function(){return this.Ro.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{$j:{get:function(){return this.aJ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{kqb:{get:function(){return this.$P;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{RNb:{get:function(){return this.eOa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{location:{get:function(){return this.WD;},enumerable:!1,configurable:!0}});t.prototype.Pmb=function(){var w,v,y,x;w=this.Y;v=w.$mb.concat(w.gnb);y=w.bfa;x=this.FNa;v=v.reduce(function(z,A){z[A]=x.create(A,y);return z;},{});v.confidence=new g.dda(w,new d.YGa(w,this.M7.bind(this)));return v;};t.prototype.reset=function(){var w,v,y,x;w=this.Y.bfa;v=this.FNa;y=this.Y;this.WD=null;this.Ro=this.Pmb();if(this.Y.kWa){x=this.Y.Hbb;this.Ro.a3b=new f.default(x.numB * x.bSizeMs,x.bSizeMs);}this.qQ.reset();this.ZP.reset();this.gx=v.create("respconn-ewma",w);this.Yw=v.create("respconn-ewma",w);this.CJ && this.CJ.reset();this.Lpb=this.Ncb.bind(this);this.l1=void 0;this.Zw=this.Fc=this.qg=null;this.i1=0;y.h9a && (this.Zz=this.LQ=this.aJ=0,this.$P=[]);};t.prototype.F9=function(w){var v;v=this.Ro;if(w !== this.WD){k.ji(this.l1) || (clearInterval(this.l1),this.l1=void 0);k.Zb(this.WD) && (this.i1=0,this.qg=null);if(!k.Zb(w)){for(var y in v){v[y] && v[y].reset && v[y].reset();}this.gx.reset();this.Yw.reset();}k.Zb(this.qg) || (this.i1+=(k.Zb(this.Fc)?m.time.Ga():this.Fc) - this.qg);this.Fc=this.qg=null;this.WD=w;this.Wj.F9(w);}};t.prototype.E9=function(w){this.Wj.E9(w);};t.prototype.PJ=function(w,v,y,x){var z,A;this.eOa=Math.max(this.eOa || 0,y);this.Zz-=w;z=this.Y;A=this.Ro;if(!0 === x.uO)(x=A["throughput-wssl"]) && x.add(w,v,y,!0);else if(k.ji(v))p.warn("addDataReceived called with undefined start time");else {this.CJ && this.CJ.PJ(w,v,y,x);z.fnb && 10 > y - v?v=y - 10:0 === y - v && (v=y - 1);this.qQ.PJ(w,v,y,x);this.ZP.PJ(w,v,y,x);for(var B in A){A[B] && A[B].add && A[B].add(w,v,y,x);}k.Zb(this.qg) && (this.qg=v,this.Fc=null,this.hga=!1);k.Zb(this.Fc) || (v > this.Fc && (this.qg+=v - this.Fc),this.Fc=null,this.hga=!1);k.Zb(this.Zw) || (v - this.Zw > z.AOa?this.zOa.X0a(this.Zw,v):y - v > z.AOa && this.zOa.X0a(v,y));this.Zw=this.Zw?Math.max(y,this.Zw):y;}};t.prototype.oA=function(w){this.gx.add(w);this.Wj.oA(w);};t.prototype.nA=function(w){this.Yw.add(w);this.Wj.nA(w);};t.prototype.start=function(w,v){var y;k.Zb(this.Zw) && !k.Zb(this.Fc) && (this.Zw=w);y=this.Ro;if(this.Y.Uva)for(var x in y){y[x] && y[x].start && y[x].start(w,v);}};t.prototype.stop=function(w,v){var y,x;y=this.Ro;for(x in y){y[x] && y[x].stop && y[x].stop(w,v);}this.Fc=k.Zb(this.Fc)?w:Math.min(this.Fc,w);this.Zw=null;};t.prototype.flush=function(){var w,v;w=this.Ro;for(v in w){w[v] && w[v].flush && w[v].flush();}};t.prototype.hHb=function(){var w,v;w=this.Ro.Jcc;if(w){v=w.gub();w.reset();}return v;};t.prototype.f_a=function(){var w,v,y,x,z,A,B,C;w=m.time.Ga();v=this.Ro;y=this.Y;x=y.Umb;z=y.Vmb;A=y.ppb;B={};for(C in v){v[C] && v[C].get && (B[C]=v[C].get(w,this.Zz),"iqr" === v[C].type && (B.yB=B[C]),"tdigest" === v[C].type && (B.ah=B[C]),"wssl" === v[C].type && (B.uO=B[C]));}B.cdnavtp=this.qQ.Tm();B.activecdnavtp=this.ZP.Tm();B.default=x && B[x] && z && void 0 !== B[x][z]?{Da:B[x][z]}:x && B[x]?B[x]:B["throughput-ewma"];"none" !== y.Pua && "none" !== A && (B.Q9a=A && B[A]?B[A]:B["throughput-sw"]);return B;};t.prototype.Gma=function(){return this.CJ?this.CJ.Gma():void 0;};t.prototype.get=function(){var w,v,y,x,z,A;w=this.f_a();v=w.default;y=this.gx.get();x=this.Yw.get();z=this.Y;if(w.Q9a){A=w.Q9a;v=k.tb(v.Da) && k.tb(A.Da) && v.Da > A.Da && 0 < A.Da?A:v;}w.qb=v;w.QT=w["initial-throughput-ewma"];!z.SCb || !v || k.Zb(v.Da) || isNaN(v.Da) || !w.uO || k.Zb(w.uO.Da) || isNaN(w.uO.Da) || ("max" === z.keb?w.qb.Da=Math.max(w.uO.Da,v.Da):"sum" === z.keb && (w.qb.Da+=w.uO.Da));w.al=y;w.p5=x;this.Y.kWa && (v=this.Y.Hbb,w.zgc=this.Ro.a3b.get(v.fillS,v.fillHl));v=this.i1 + (k.Zb(this.qg)?0:(k.Zb(this.Fc)?m.time.Ga():this.Fc) - this.qg);w.time=v;return w;};t.prototype.CJb=function(){var w,v,y;w={};v=this.get();if(v.confidence && v["throughput-ewma"]){w.aseavtp=Number(v["throughput-ewma"].Da).toFixed(2);w.asevartp=Number(v["throughput-ewma"].Zd).toFixed(2);if(v.yB){y=v.yB.ksa;!y || void 0 === y.Bp || void 0 === y.Ap || void 0 === y.bn || isNaN(y.Bp || 0) || isNaN(y.Ap) || isNaN(y.bn) || (w.aseniqr=0 < y.bn?Number((y.Bp - y.Ap) / y.bn).toFixed(2):-1,w.aseiqr=Number(y.Bp - y.Ap).toFixed(2),w.asemedtp=Number(y.bn).toFixed(2));w.iqrsamples=v.yB.qZb;}v.ah && v.ah.kL && (w.tdigest=v.ah.kL());}return w;};t.prototype.Rv=function(w,v){var y,x,z;y=v.requestId;1 === ++this.aJ && this.emit("active",w);if(this.Y.TVa){x=this.Ro;for(z in x){x[z] && x[z].Rv && x[z].Rv(w,v);}}this.Y.Y9 && this.start(w,v);y && (this.Y.Y9 || this.start(w,v),this.$P.push(y));this.Zz+=v.Ba || 0;this.qQ.Rv(w,v);this.ZP.Rv(w,v);};t.prototype.CYb=function(){++this.LQ;};t.prototype.Tv=function(w,v,y){var x,z,A;x=y.requestId;v && --this.LQ;--this.aJ;this.Zz=Math.max((this.Zz || 0) - ((y.Ba || 0) - (y.bytesReceived || 0)),0);this.Y.h9a && (this.aJ=Math.max(this.aJ,0),this.LQ=Math.max(this.LQ,0));if(this.Y.TVa){z=this.Ro;for(A in z){z[A] && z[A].Tv && z[A].Tv(w,v,y);}}this.Y.Y9 && this.stop(w,y);0 === this.aJ && (this.Y.Y9 || this.stop(w,y),this.emit("inactive",w));x && (v=this.$P.indexOf(x),0 <= v && this.$P.splice(v,1));this.qQ.Tv(w,y);this.ZP.Tv(w,y);};t.prototype.M7=function(){this.Ncb();this.l1=setInterval(this.Lpb,this.Y.Rnb);};return t;})(r.EventEmitter);b["default"]=a;},68735:function(r,b,a){var c,k,f,l,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.dHa=b.hg=void 0;r=a(70655);c=a(28075);k=r.__importDefault(a(29736));f=a(44724);l=a(8628);d=a(47571);g=r.__importDefault(a(73764));(function(h){h[h.Xt=0]="CREATED";h[h.OPENED=1]="OPENED";h[h.zO=2]="ACTIVE";h[h.gj=3]="RECEIVING";h[h.zk=4]="COMPLETE";h[h.Xp=5]="ABORTED";})(n=b.hg || (b.hg={}));a=(function(){function h(m,p,q,u,t,w,v,y,x,z){this.stream=m;this.Xf=p;this.properties=t;this.listener=v;this.config=x;this.console=z;this.JD=0;this.WNa=!1;this.Sa=n.Xt;this.request=new k.default.cq(q,u,this.WIb(t,y));this.offset=w.offset;this.mc=w.Ba;this.id=this.yHb();this.dab=t.JW;this.eH=t.eH;this.Bt=t.Bt;this.responseType=void 0 === t.responseType?k.default.cq.Kf && !k.default.cq.Kf.nua.Vda?0:1:t.responseType;this.Sk=this.lsb();this.mediaType === d.v.Ya || !x.Aga && t.Me || (this.Ic=g.default.instance());}Object.defineProperties(h.prototype,{url:{get:function(){return this.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ba:{get:function(){return this.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.stream.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bytesReceived:{get:function(){return this.JD;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zna:{get:function(){return this.WNa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{status:{get:function(){return this.request.status;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Jh:{get:function(){return this.request.Jh;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{response:{get:function(){return this.request.response;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Of:{get:function(){return this.request.Of;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dv:{get:function(){return this.request.dv;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Mh:{get:function(){return this.request.Mh;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zK:{get:function(){return this.request.track;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{W7:{get:function(){return this.Sa >= n.OPENED && this.Sa < n.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{active:{get:function(){return this.Sa >= n.zO && this.Sa < n.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zta:{get:function(){return this.Sa === n.gj;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{complete:{get:function(){return this.Sa === n.zk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{aborted:{get:function(){return this.Sa === n.Xp;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{state:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});h.prototype.open=function(){if(this.Sa !== n.Xt || !this.request.open(this.Xf,{start:this.offset,end:this.offset + this.mc - 1},this.responseType,{},void 0,void 0,this.dab,this.stream.nr,this.stream.ha?this.stream.pa.rU.KK:void 0))return !1;this.Sa=n.OPENED;return !0;};h.prototype.GH=function(m){this.Xf=m;return this.state >= n.OPENED && this.state < n.zk?this.request.GH(m):!0;};h.prototype.abort=function(){var m,p,q;if(this.aborted)return !0;p=this.W7;q=this.active;q && (null === (m=this.Ic) || void 0 === m?void 0:m.Tv(k.default.time.Ga(),this.zta,this.rT()));this.Sa=n.Xp;this.request.abort();this.listener.yM(this,q,p);return !0;};h.prototype.de=function(){var m;7 !== this.request.readyState && 5 !== this.request.readyState && this.abort();null === (m=this.Sk) || void 0 === m?void 0:m.clear();this.request.de();};h.prototype.getResponseHeader=function(m,p){return this.request.getResponseHeader(m,p);};h.prototype.getAllResponseHeaders=function(m){return this.request.getAllResponseHeaders(m);};h.prototype.IGb=function(){var m,p;m=this.getResponseHeader("content-range",!1);if(m){p=m.indexOf("/");(0,f.assert)(-1 !== p,"unable to parse content-range: " + m);p=m.slice(p + 1);p=parseInt(p);(0,f.assert)(0 < p,"unable to parse content-range: " + m);return p;}if(m=this.getResponseHeader("content-length",!1))return parseInt(m);};h.prototype.Ny=function(){this.request.Ny();};h.prototype.fk=function(){return this.request.fk();};h.prototype.tM=function(){var m,p;if(this.Sa === n.OPENED){this.Sa=n.zO;p=this.request.Jh || this.request.loadTime;l.SC.instance().push(k.default.time.Ga() - p);!this.config.B3a && (null === (m=this.Ic) || void 0 === m?void 0:m.Rv(p,this.rT()));this.listener.EG(this);this.timestamp=p;}};h.prototype.N7=function(){var m,p,q,u;if(!(this.Sa >= n.gj)){this.Sa=n.gj;u=this.request.Jh || this.request.qla;l.SC.instance().push(k.default.time.Ga() - u);this.config.B3a && (null === (m=this.Ic) || void 0 === m?void 0:m.Rv(u,this.rT()));null === (p=this.Ic) || void 0 === p?void 0:p.CYb();m=this.request.oW;this.request.connect && m.length && (null === (q=this.Ic) || void 0 === q?void 0:q.oA(m[0]));this.timestamp=u;this.listener.DG(this);0 === this.mc && this.P4b(this.request.qo);this.yWb();}};h.prototype.CG=function(){var m;if(!(this.Sa > n.gj)){this.Sa=n.gj;m=this.request.Jh;l.SC.instance().push(k.default.time.Ga() - m);m=this.ora(!0);this.listener.FG(this,m);}};h.prototype.AG=function(){var m,p,q;if(!this.aborted){p=this.request.Jh;l.SC.instance().push(k.default.time.Ga() - p);q=this.ora(!0);null === (m=this.Ic) || void 0 === m?void 0:m.Tv(p,this.zta,this.rT());this.Sa=n.zk;this.listener.zp(this,q);this.de();}};h.prototype.KSb=function(){this.listener.Lra(this);};h.prototype.Xm=function(){var m;if(!this.complete && !this.aborted && "number" === typeof this.request.Of){m=this.request.Jh;l.SC.instance().push(k.default.time.Ga() - m);this.ora(this.config.Tta && void 0 === this.request.status);this.listener.rV(this);}};h.prototype.ora=function(m){var p,q,u,t;p=this;u=this.request.Jh;t=this.request.bytesReceived - this.JD;m && this.Ic && (void 0 !== this.timestamp && 0 < t && this.Ic.PJ(t,this.timestamp,u,this.rT()),null === (q=this.request.oW) || void 0 === q?void 0:q.forEach(function(w){return p.Ic.nA(w);}));this.timestamp=u;this.JD=this.request.bytesReceived;return t;};h.prototype.P4b=function(m){var p;p=this.mc;this.mc=m;this.listener.zM(this,this.mc,p);};h.prototype.yWb=function(){var m;if(this.stream.ha){m=this.request.getResponseHeader("X-TCP-Info",!0);this.WNa=this.stream.fUb(m);}else this.request.getAllResponseHeaders(!0);};h.prototype.rT=function(){return {requestId:this.id,tj:this.stream.$b,type:this.mediaType,eH:this.eH,Ba:this.mc,bytesReceived:this.request.bytesReceived,Bt:this.Bt};};h.prototype.yHb=function(){var m;m=(m=this.stream)?m.toString():this.url;this.mc && (m+=",range " + this.offset + "-" + (this.offset + this.mc - 1));return m;};h.prototype.lsb=function(){var m,p,q;m=this;p=new c.Re();q=k.default.cq.Bk;p.on(this.request,q.nHa,function(){return m.tM();});p.on(this.request,q.mHa,function(){return m.N7();});p.on(this.request,q.oHa,function(){return m.CG();});p.on(this.request,q.FP,function(){return m.AG();});p.on(this.request,q.q$b,function(){return m.KSb();});p.on(this.request,q.Hz,function(){return m.Xm();});return p;};h.prototype.WIb=function(m,p){return {mediaType:this.mediaType,Sb:this.stream.Sb,bitrate:this.stream.bitrate,Lc:this.stream.$b,Ws:!m.Me,I:p.id,config:this.config};};return h;})();b.dHa=a;},93950:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.RHa=void 0;r=a(70655);c=a(47571);k=r.__importDefault(a(8533));a=(function(){var t3H;t3H=2;for(;t3H !== 3;){switch(t3H){case 2:f.prototype.reset=function(){var j1c;j1c=2;for(;j1c !== 4;){switch(j1c){case 2:this.lW=[0,0];this.qo=[0,0];this.uV=[0,0];j1c=4;break;}}};f.prototype.PJ=function(l,d,g,n){var N5J,h,m;N5J=2;for(;N5J !== 8;){switch(N5J){case 2:this.qo[n.type]+=l;N5J=5;break;case 5:N5J=(null === (h=n.eH) || void 0 === h?0:h.T5())?4:3;break;case 4:(this.lW[n.type]+=l,this.o6a.add(l,d,g),this.Rra[n.type].add(l,d,g));N5J=3;break;case 3:N5J=(null === (m=n.eH) || void 0 === m?0:m.Ypa(l,d,g,this.vV))?9:8;break;case 9:this.uV[n.type]+=l;N5J=8;break;}}};f.prototype.Gma=function(){var N$1;N$1=2;for(;N$1 !== 1;){switch(N$1){case 2:return {bytesRequestedPacingVideo:this.lW[c.v.X],bytesRequestedPacingAudio:this.lW[c.v.fa],estimatedBytesPacedVideo:this.uV[c.v.X],estimatedBytesPacedAudio:this.uV[c.v.fa],bytestotalVideo:this.qo[c.v.X],bytestotalAudio:this.qo[c.v.fa],pacedAvtpVideo:this.Rra[c.v.X].get().Da,pacedAvtpAudio:this.Rra[c.v.fa].get().Da,pacedAvtp:this.o6a.get().Da};break;}}};return f;break;}}function f(l){var a5R;a5R=2;for(;a5R !== 7;){switch(a5R){case 2:var B_B="1SIYbZrN";B_B+="JCp";B_B+="9";this.lW=[0,0];this.qo=[0,0];this.uV=[0,0];B_B;a5R=3;break;case 3:this.vV=l.vV;this.Rra=[new k.default(),new k.default()];this.o6a=new k.default();a5R=7;break;}}}})();b.RHa=a;},45041:function(r,b,a){var k,f;function c(l){this.Y={JU:l.maxc || 25,Wia:l.c || .5,mXb:l.rc || "none",MF:l.hl || 7200};this.QQ();this.fpb=this.Y.mXb;this.uQ=this.Y.MF;this.Cea=Math.exp(Math.log(2) / this.uQ);this.Cea=Math.max(this.Cea,1);this.j0=1;}k=a(67841);f=a(14378).TDigest;new (a(29736)["default"].Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var l;if(0 === this.We.size())return null;l=this.We.si([.25,.75]);if(l[0] === l[1])return null;this.We.size() > this.Y.JU && this.We.Cx();l=this.We.yr(!1).reduce((function(d,g){k.tb(g.Qf) && k.tb(g.n) && d.push({mean:g.Qf,n:g.n / this.j0});return d;}).bind(this),[]);return {tdigest:JSON.stringify(l)};};c.prototype.Dg=function(l){var d;if(k.Zb(l) || !k.has(l,"tdigest") || !k.xg(l.tdigest))return !1;try{d=JSON.parse(l.tdigest);}catch(g){return !1;}d.forEach(function(g){k.isFinite(g.n) || (g.n=1);});l=d.map(function(g){return {Qf:g.mean,n:g.n};});this.j0=1;this.We.ota(l);void 0 === this.We.si(0) && this.QQ();};c.prototype.get=function(){var l,d;l=this.We;d=l.si([0,.1,.25,.5,.75,.9,1]);return {min:d[0],Pra:d[1],Ap:d[2],bn:d[3],Bp:d[4],Qra:d[5],max:d[6],qj:l.yr(!1)};};c.yIb=function(l){var d;d=new c({});k.Zb(l) || k.ji(l) || !k.isArray(l.qj) || (d.We.ota(l.qj),void 0 === d.We.si(0) && d.QQ());l=d.We.si([.25,.75]);return l[0] === l[1]?null:function(g){return d.We.si(g);};};c.prototype.add=function(l){var d;d=1;"ewma" === this.fpb && (this.j0=d=this.j0 * this.Cea);this.We.push(l,d);};c.prototype.toString=function(){return "TDigestHist(" + this.We.summary() + ")";};c.prototype.QQ=function(){this.We=new f(this.Y.Wia,this.Y.JU);};r.exports={YLa:c};},31925:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.K_=void 0;c=a(44724);b.K_=(function(){function f(l,d,g){g.gF && (k=new (a(51530).ELa)(l,d));}f.instance=function(){(0,c.assert)(k,"expected StaticMediaProvider to exist");return k;};return f;})();},58260:function(r,b,a){var f,l,d,g;function c(n,h,m,p,q){var u,t;m=null !== (u=h.$e) && void 0 !== u?u:h.track.Hs(n,m.G,void 0,q);n=null !== (t=h.lf) && void 0 !== t?t:h.track.UK(n,null === p || void 0 === p?void 0:p.G,h.cl);return [!h.Ug(),m,n];}function k(n,h){var C,D;for(var m=[],p=0,q=n[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1],w=h.lf.index,v=h.track.ro,y=0,x=h.$e.La,z=h.$e.$a.G > q[0],A=z,B=h.$e.index;B <= w;++B){C=!1;if(q){D=v.get(B);z && (D.La.G >= t?(z=!1,++p >= n.length?t=u=q=void 0:(q=n[p],u=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1])):A?A=!1:(m.push(new d.z_(y,x,D.La)),x=D.La,C=!0));!z && q && D.$a.G > u && (z=!0,C=D.La,(D=h.track.TF.Pn(B).iXa(u)) && 0 !== D.Fj && (C=g.N.Ma(D.we)),m.push(new d.z_(y,x,C)),x=C,C=!0);}C && ++y;}m.push(new d.z_(y,x,h.lf.$a));return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.IPb=b.A3a=b.m5a=b.j5a=b.Pta=void 0;f=a(70655);l=a(47571);d=a(54531);g=a(74005);b.Pta=function(n,h,m){var p,q,u;u=h.get(l.v.fa);h=h.get(l.v.X);h=null === h || void 0 === h?void 0:h.track.UK(n,null === m || void 0 === m?void 0:m.G,h.cl);return [null === u || void 0 === u?void 0:u.track.UK(n,null !== (q=null === (p=null === h || void 0 === h?void 0:h.$a) || void 0 === p?void 0:p.G) && void 0 !== q?q:null === m || void 0 === m?void 0:m.G,u.cl),h];};b.j5a=function(n,h,m,p,q){var u,t,w,v;u=h.get(l.v.fa);h=h.get(l.v.X);t=f.__read(h?c(n,h,m,p,q):[!1],3);w=t[0];v=t[1];t=t[2];p=f.__read(u?c(n,u,w && void 0 !== (null === v || void 0 === v?void 0:v.La)?v.La:m,void 0 !== (null === t || void 0 === t?void 0:t.$a)?t.$a:p,q):[!1],3);n=p[0];m=p[1];p=p[2];n && (null === u || void 0 === u?void 0:u.F5(m,p));w && (null === h || void 0 === h?void 0:h.F5(v,t));return [n,w];};b.m5a=function(n,h,m){return h.track.Hs(n,m.G,void 0,!0).La;};b.A3a=function(n,h,m){var p;p=h.u;if(!p.Eq || 0 === p.Eq.length)return [];n=p.Eq.map(function(q){return [p.ta + q[0],p.ta + q[1]];});return k(n,m.Tsa);};b.IPb=k;},81581:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.QIa=void 0;c=a(70655);k=a(47571);f=a(58260);l=a(44724);r=(function(){function d(g){var n,h,m,p,q,u,t;n=g.console;h=g.config;m=g.pa;p=g.eC;q=g.u;u=g.La;t=g.$a;g=g.splice;this.OT=this.hK=!1;this.console=n;this.config=h;this.eC=p;this.pa=m;this.u=q;this.La=u;this.$a=t;this.splice=g;this.JLb();}d.prototype.va=function(g){if(this.hK)throw Error("Cannot call init() after cleanup");if(this.OT)throw Error("Cannot call init() twice");this.OT=!0;this.M5a=g;this.pa.events.addListener("onHeaderFragments",this.uSa);this.Uga() && this.Xqa();};d.prototype.normalize=function(){if(this.hK)throw Error("Cannot call normalize() after cleanup");if(this.OT)throw Error("Cannot call init() / normalize() twice");this.OT=!0;(0,l.assert)(this.Uga());return this.Xqa();};d.prototype.fN=function(g,n){(0,l.assert)(this.OT,"expected to be called init() before renormalize");this.u=g;this.$a=n;g=(0,f.Pta)(this.config,this.eC,this.$a);this.l5a();return g;};d.prototype.de=function(){this.hK || (this.hK=!0,this.M5a=void 0,this.pa.events.removeListener("onHeaderFragments",this.uSa));};d.prototype.JLb=function(){var g;g=this;this.uSa=function(){g.hK || g.Uga() && g.Xqa();};};d.prototype.Xqa=function(){var g,n,h;if(this.hK)return {jS:!1,NA:!1};n=this.MRb();h=!1;this.u && !this.u.yp && (h=this.l5a());null === (g=this.M5a) || void 0 === g?void 0:g.call(this,n,h);this.de();return {jS:n,NA:h};};d.prototype.Uga=function(){return this.eC.every(function(g){return g.track.gk;});};d.prototype.MRb=function(){var g,n;g=c.__read((0,f.j5a)(this.config,this.eC,this.La,this.$a,this.splice),2);n=g[0];return g[1] || void 0 === this.eC.get(k.v.X) && n;};d.prototype.l5a=function(){var g,n,h;(0,l.assert)(this.u,"missing segment");g=this.eC.Tsa;n=(0,f.m5a)(this.config,g,this.u.Ud);if(void 0 === n || void 0 === g.$a)return !1;g=g.$a;h=this.config.qxa && "lazy" === this.u.Xd?(0,f.A3a)(this.console,this.u,this.eC):[];this.u.normalize(n,g,h);return !0;};return d;})();b.QIa=r;},29736:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b["default"]={Sna:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},42324:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hJa=void 0;c=a(70655);r=(function(k){function f(l,d){l=k.call(this,l) || this;l.wWa=d;l.name="PlaybackError";return l;}c.__extends(f,k);f.$Mb=function(l){return l && l.message && l.stack && l.wWa?"PlaybackError" === (null === l || void 0 === l?void 0:l.name):!1;};return f;})(Error);b.hJa=r;},19821:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t;Object.defineProperties(b,{__esModule:{value:!0}});b.waa=void 0;c=a(70655);k=a(28075);f=a(74005);l=a(44724);d=a(50971);g=a(4145);r=a(43221);n=a(32922);h=a(28035);m=a(30694);p=a(71843);q=a(53800);u=a(53915);t=r.Hv.Nja;a=(function(w){function v(y,x,z){var A;A=w.call(this) || this;A.Z=y;A.cg=x;A.mq=z;A.qS=[];A.Ce=void 0;A.rQ=new k.Re();A.Vz=void 0;A.$z=void 0;A.zfa=void 0;A.rQ.on(A.Z,"underflow",A.sh.bind(A));A.hQ=new q.wJa(y);A.rQ.on(A.Z,"skipped",A.nV.bind(A));A.rQ.on(A.Z,"playing",A.zra.bind(A));A.rQ.on(A.Z,"playbackEnding",A.yra.bind(A));A.cx=new d.RP(A.hQ,A.V,"player");A.Hxa=new f.qu();y.iSa && y.Sf && (A.Ry=new u.ZKa(A,y,A.V));return A;}c.__extends(v,w);Object.defineProperties(v.prototype,{ml:{get:function(){var y;return null === (y=this.Ce) || void 0 === y?void 0:y.ml;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{jC:{get:function(){var y;return (null === (y=this.Ce) || void 0 === y?void 0:y.jC) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Va:{get:function(){var y,x;return null !== (x=null === (y=this.Ce) || void 0 === y?void 0:y.mp()) && void 0 !== x?x:[];},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{q2a:{get:function(){return this.zfa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Aa:{get:function(){var y;return null === (y=this.Ce) || void 0 === y?void 0:y.Aa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qa:{get:function(){return this.hQ;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{MQa:{get:function(){var y,x;return !!((null === (y=this.Ce) || void 0 === y?0:y.tH) && (null === (x=this.Sq) || void 0 === x?0:x.Zh));},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{tH:{get:function(){var y,x;return null !== (x=null === (y=this.Ce) || void 0 === y?void 0:y.tH) && void 0 !== x?x:!1;},enumerable:!1,configurable:!0}});v.prototype.zra=function(y){var x;this.zfa=this.Xk(null !== (x=y.we) && void 0 !== x?x:this.Z.Hd);(0,l.assert)(this.zfa,"Should have a location");};v.prototype.yra=function(y){var x;if(this.Qd){y=this.Xk(y.we || this.Z.Hd,!0);(0,l.assert)(y,"Playback ending at position outside playgraph");x=this.KF(y);(0,l.assert)(x,"Playback ending at clamped position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:x,position:y});}else this.console.warn(("Unexpected playback ending event at ").concat(y.we));};v.prototype.r$a=function(y){-1 === this.qS.indexOf(y) && this.qS.push(y);this.Ce && this.Ce.kV(y);this.events.emit("drmReady",{viewableId:y});};v.prototype.q$a=function(y){y=this.qS.indexOf(y);-1 !== y && this.qS.splice(y,1);};v.prototype.YT=function(y){var x;return -1 !== this.qS.indexOf(y) || !(null === (x=(0,g.yc)(this.Va,function(z){return z.Sn && z.pa.J === y;})) || void 0 === x || !x.pa.Wu);};v.prototype.yC=function(y){var x;null === (x=this.Ce) || void 0 === x?void 0:x.yC(y);};v.prototype.reset=function(){var y,x;this.Hxa=new f.qu();w.prototype.reset.call(this);this.$z=void 0;null === (y=this.Ce) || void 0 === y?void 0:y.reset();null === (x=this.Ry) || void 0 === x?void 0:x.reset();};v.prototype.iua=function(y){this.lN([y]);};v.prototype.lN=function(y){var x,z;x=this;y.forEach(function(A){var B;w.prototype.iua.call(x,A);null === (B=x.Ry) || void 0 === B?void 0:B.OYb(A);});null === (z=this.Ce) || void 0 === z?void 0:z.lN(y);};v.prototype.BA=function(){var y;null === (y=this.Ce) || void 0 === y?void 0:y.BA();};v.prototype.pause=function(y){this.AH(y);w.prototype.pause.call(this,null !== y && void 0 !== y?y:this.cg);};v.prototype.resume=function(y){var x;null === (x=this.Ce) || void 0 === x?void 0:x.resume(y);w.prototype.resume.call(this,null !== y && void 0 !== y?y:this.cg);};v.prototype.Pa=function(){this.Vz=this.j5()?this.Rn():void 0;this.Ce && this.Wja(this.Ce.Aa);this.hQ.Pa();this.cx.Pa();this.rQ.clear();w.prototype.Pa.call(this);};v.prototype.vF=function(){var y,x;if(null === (y=this.Ce) || void 0 === y?0:y.eWb){y=this.Z.Hd;if(this.qa.ii){if(this.$z){if(this.$z.greaterThan(y))return (y=this.$z.wa(y),this.Hxa.push(y.G),this.$z);if(this.Va.length){x=this.Ce.ZNb;if(x && x.lessThan(y))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Hc:{clockdrift:{type:"count"}}}),this.$z);}}this.$z=y;}return y;}return w.prototype.vF.call(this);};v.prototype.nL=function(){var y;y=this.Z.playbackRate;void 0 === y && (y=w.prototype.nL.call(this));return y;};v.prototype.j5=function(){return !!this.Vz || w.prototype.j5.call(this);};v.prototype.Rn=function(){return this.Vz?this.Vz:w.prototype.Rn.call(this);};v.prototype.AF=function(){var y;return null === (y=this.Ce) || void 0 === y?void 0:y.TNb;};v.prototype.Wja=function(y){var x;(0,l.assert)(y === this.Aa);null === (x=this.Ce) || void 0 === x?void 0:x.Pa();this.Ce=void 0;};v.prototype.S1=function(y,x){var z,A;this.Vz=void 0;z=w.prototype.S1.call(this,y,x);if(z){A=new m.dza(y,this,this.V,y.config,this.mq,this.events,this.cg,this.cx,this.Ry,this.Xz,this.Uz,this.jJ,null === x || void 0 === x?void 0:x.ml,null === x || void 0 === x?void 0:x.jC);null === x || void 0 === x?void 0:x.xM();this.Ce=A;this.AH(this.DM);this.Ry && (x=y.Qv.UIb(n.Wda),x || (x=new n.Wda(),y.Xe(x)),this.Ry.QXb(x));}return z;};v.prototype.xM=function(){var y;null === (y=this.Ce) || void 0 === y?void 0:y.xM();};v.prototype.Eka=function(){var z;for(var y=[],x=0;x < arguments.length;x++){y[x]=arguments[x];}z=this.Ce;(0,l.assert)(z);y.forEach(function(A){return z.dDb(A);});};v.prototype.Hva=function(){var y;null === (y=this.Ce) || void 0 === y?void 0:y.Hva();};v.prototype.bi=function(y){var x,z,A;if(!this.Ce)return !1;x=this.WS(y);if(!x)return !1;z=x.u;A=f.N.Ma(this.mq.j7);return z.Nf.wa(A).lessThan(y) || !x.kK(y)?!1:this.Ce.bi(y);};v.prototype.sh=function(){var y,x,z;if(null === (y=this.Aa) || void 0 === y?0:y.vj)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {z=this.Nd;(0,l.assert)(this.Aa);y=this.Xk(z,!0);(0,l.assert)(y);null === (x=this.Ce) || void 0 === x?void 0:x.sh();x=this.WS(z);null === x || void 0 === x?void 0:x.pa.sh();this.Aa.sh(y);}};v.prototype.nV=function(){this.$z=void 0;};v.prototype.Sla=function(){var y;return null === (y=this.Ce) || void 0 === y?void 0:y.Sla();};v.prototype.AH=function(y){var x;null === (x=this.Ce) || void 0 === x?void 0:x.AH(y);};v.prototype.Lwa=function(y){(0,l.assert)(this.Aa && this.Ce);return w.prototype.Lwa.call(this,y);};v.prototype.E8=function(){(0,l.assert)(this.Ce);this.Ce.E8();};c.__decorate([t.return.Nha(),t.return.em],v.prototype,"Rn",null);c.__decorate([t.return.Nha(),t.return.F7],v.prototype,"AF",null);return v=c.__decorate([h.qF],v);})(p.yda);b.waa=a;},30694:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.dza=void 0;c=a(70655);k=a(28075);f=a(49252);l=c.__importDefault(a(29736));d=a(24705);g=a(47571);n=a(85147);h=a(74005);m=a(4145);p=a(50971);q=a(71016);u=a(44724);t=a(20571);w=a(44001);v=a(83674);r=(function(){function y(x,z,A,B,C,D,F,G,E,J,L,N,I,O){var K;K=this;this.Aa=x;this.Z=z;this.V=A;this.Y=B;this.mq=C;this.gb=D;this.cg=F;this.Jd=G;this.Ry=E;this.Xz=J;this.Uz=L;this.jJ=N;this.c0=!1;this.INa=new h.oLa();this.Jfa=this.FSb.bind(this);this.Lfa=this.iTb.bind(this);this.Tr=new d.PC(this.V);this.WQ=I || new w.oea(this.V,x);this.ezb(O);this.Tj && (this.Wob=this.Qla(this.JIb()),this.$nb=h.Jw.aeb(this.Tj.map(function(H){return H.Yq;}),function(H){return H.every(function(M){return M;});},function(H){return K.Xz.set(H);}),this.zmb=new q.Rca(this.Tj.map(function(H){return H.h6;}),function(H){return h.N.min.apply(h.N,c.__spreadArray([],c.__read(H),!1));},function(H){K.Uz.set(H);},h.N.Ma(-Infinity)));this.Oo=G.Hx(function(){return K.vtb();},"branchPruner");this.Ko=new k.Re();this.Ko.on(this.gb,"segmentPresenting",function(){return c.__awaiter(K,void 0,void 0,function(){var H;return c.__generator(this,function(M){switch(M.label){case 0:return (this.Onb=this.Z.Rn(),null !== (H=this.Y.bRa) && void 0 !== H && H.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(M.Qa(),this.gb.emit("requestGarbageCollection",{time:l.default.time.Ga(),type:"requestGarbageCollection"}),M.label=2);case 2:return [2];}});});});}Object.defineProperties(y.prototype,{ml:{get:function(){return this.WQ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{jC:{get:function(){var x;x=new Map();this.Tj.forEach(function(z){x.set(z.mediaType,z.NM);});return x;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{TNb:{get:function(){return this.Onb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{tH:{get:function(){return this.Tj.every(function(x){return x.tH;});},enumerable:!1,configurable:!0}});y.prototype.vtb=function(){var x,z,A,B,C,D;return c.__generator(this,function(F){switch(F.label){case 0:if(!this.Tr.nTa)return [3,2];x=c.__read(this.Tr.qX(),1);z=x[0];A=z.u.s1a && (null === (D=this.mq.CN) || void 0 === D?void 0:D.G) || 0;B=z.p6 || z.Lb;C=B.add(h.N.Ma(A + 1E3));return [4,p.Pg.Qt(C)];case 1:return (F.Qa(),this.Q7a(z),[3,0]);case 2:return [2];}});};Object.defineProperties(y.prototype,{eWb:{get:function(){var x;return !(null === (x=this.Wob) || void 0 === x || !x.Yq.value);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ZNb:{get:function(){return this.c0?h.N.max.apply(h.N,c.__spreadArray([],c.__read(this.Tj.map(function(x){var z;return null === (z=x.ssb) || void 0 === z?void 0:z.p2a;}).filter(m.z7)),!1)):void 0;},enumerable:!1,configurable:!0}});y.prototype.yC=function(x){this.Tj.forEach(function(z){z.yC(x);});};y.prototype.FSb=function(){var x;this.Oo.Sf();x=this.Tj.filter(function(z){return z.rMb;}).map(function(z){return z.mediaType;});this.AH(x);this.resume(x);};y.prototype.iTb=function(x){var z,A,B;x=x.yb;z=this.mp();A=z.indexOf(x);if(-1 !== A && !z.slice(0,A).some(function(C){return !C.Zh;})){B=x.Jl;B && B.greaterThan(this.jJ.value) && (x.Zh && A < z.length - 1 && (B=h.N.max(B,z[A + 1].Jl || h.N.aRb)),this.jJ.set(B));}};y.prototype.dDb=function(x){(0,u.assert)(-1 === this.Tr.qX().indexOf(x),("Branch ").concat(x.u.id," is already in the collection, cannot re-queue"));x.events.on("branchEdited",this.Jfa);x.events.on("requestComplete",this.Lfa);x.Jl && this.mp().every(function(z){return z.Zh;}) && this.jJ.set(x.Jl);this.Tr.enqueue(x);this.Oo.state === p.Ek.complete && this.Oo.Sf();x.u.gX && this.Tr.iF();this.c0 || this.QEb(x);};y.prototype.kV=function(x){this.Tj.forEach(function(z){z.kV(x);});};y.prototype.reset=function(){this.Tj.forEach(function(x){x.reset();});this.c0=!1;this.INa.removeAllListeners();this.BA();};y.prototype.iua=function(x){this.lN([x]);};y.prototype.lN=function(x){var z;z=this;x.forEach(function(A){A=z.Qla(A);null === A || void 0 === A?void 0:A.reset(!1,x);});};y.prototype.BA=function(){var x;x=this;this.Tr.qX().forEach(function(z){z.events.ar("branchEdited",x.Jfa);z.events.ar("requestComplete",x.Lfa);});this.Tr.clear();this.Oo.Sf();};y.prototype.E8=function(){var x;x=this;this.Tr.qX().filter(function(z){return z.RJ;}).forEach(function(z){return x.Q7a(z);});};y.prototype.resume=function(x){this.Tj.forEach(function(z){void 0 !== x && -1 === x.indexOf(z.mediaType) || z.resume();});};y.prototype.AH=function(x){this.Tj.forEach(function(z){return (void 0 === x || -1 !== x.indexOf(z.mediaType)) && z.stop();});};y.prototype.Hva=function(){this.Tj.forEach(function(x){return x.O0b();});};y.prototype.sh=function(){this.V.trace("attached-player: onUnderflow");};y.prototype.eJb=function(){return this.Tr.getIterator();};y.prototype.BHb=function(){return this.mp()[0];};y.prototype.mp=function(){return this.Tr.qX();};y.prototype.ezb=function(x){var z,A,B;z=this;this.AJ("createMediaSourceStart");if(this.mq.yma)A=this.mq.yma();else (A=new l.default.MediaSource(this.Z.Z),A.Kf || (A.Kf=l.default.MediaSource.Kf));if(1 !== A.readyState)this.EJ("exception in init","NFErr_MC_StreamingInitFailure");else {this.AJ("createMediaSourceEnd");this.Ei=A;if(!A.Lga(this.cg))throw (this.V.trace("Error:",A.error),this.EJ("error creating source buffers","NFErr_MC_StreamingInitFailure"),A.error);B={};this.Aa.Xe(new t.pAa(B,this.Y));this.Tj=A.sourceBuffers.filter(function(C){return 0 <= z.cg.indexOf(C.mediaType);}).map(function(C){var D,F,G,E;F=new n.Nza(C.mediaType,A,C,z.Y,z.Z,z.Jd);F.addListener("error",function(J){return z.EJ(J.errorstr);});F.addListener("logdata",function(J){return z.gb.emit("logdata",J);});F.addListener("managerdebugevent",function(J){z.gb.emit("managerdebugevent",J);});G=null === x || void 0 === x?void 0:x.get(C.mediaType);E=new f.Pya(F,C.mediaType,z,z.Y,z.V,z.Z,z.mq,z.Jd,z.ml,z.Ry,G);if(C.mediaType === g.v.X)E.on("drmNeeded",function(J){return z.gb.emit("drmNeeded",J);});G || (null === (D=E.NM) || void 0 === D?void 0:D.Xqb(new v.Yaa(B[C.mediaType]={},z.V,z.Z,F,z.Z.events,z.mq,z.Jd)));return E;});}};y.prototype.Q7a=function(x){var z;(0,u.assert)(x.RJ,"Attempted to prune branch that has not been fully appended");this.Tr.remove(x);x.events.removeListener("branchEdited",this.Jfa);x.events.removeListener("requestComplete",this.Lfa);x.Jf("pruned");(null === (z=this.Y.bRa) || void 0 === z?0:z.branchPruned) && this.gb.emit("requestGarbageCollection",{time:l.default.time.Ga(),type:"requestGarbageCollection"});};y.prototype.Pa=function(){this.$nb.clear();this.zmb.clear();this.Tj.forEach(function(x){return x.Pa();});this.mq.yma || this.Ei.Cs();this.BA();this.Oo.Pa();this.Ko.clear();};y.prototype.bi=function(x){return this.Tj.every(function(z){return z.bi(x);});};y.prototype.xM=function(){this.Tj.forEach(function(x){return x.YTa();});this.WQ=new w.oea(this.V,this.Aa);};y.prototype.Sla=function(){return {WWb:this.mp(),UUb:this.Tj};};y.prototype.QEb=function(x){var z;z=this;this.c0=!0;x.Wd.forEach(function(A){var B;B=z.Qla(A.mediaType);if(void 0 !== B)z.INa.once(A.ula,function(C){return B.SEb(C);});});if(x.La)this.RVa();else x.events.once("branchNormalized",function(){return z.RVa();});};y.prototype.RVa=function(){var x;x=this.BHb();x && ((0,u.assert)(x.Bb),this.gb.emit("ptsChanged",{initialTimestamp:x.Bb,forcedTimestamp:void 0}));};y.prototype.Qla=function(x){return (0,m.yc)(this.Tj,function(z){return z.mediaType === x;});};y.prototype.JIb=function(){return -1 !== this.cg.indexOf(g.v.X)?g.v.X:g.v.fa;};y.prototype.AJ=function(x){x={type:"startEvent",event:x,time:l.default.time.Ga()};this.gb.emit(x.type,x);};y.prototype.EJ=function(x,z){this.Aa.qf(x,void 0,z);};return y;})();b.dza=r;},83674:function(r,b,a){var c,k,f,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Yaa=void 0;c=a(70655);k=a(28075);f=a(44724);l=a(95994);d=0;r=(function(g){function n(h,m,p,q,u,t,w,v){m=g.call(this,("cdnList").concat(d++),m,p,q,u,t,w,"cdnList",v) || this;m.sg=h;m.va();return m;}c.__extends(n,g);n.prototype.va=function(){var h;h=this;this.GQ=new k.Re();this.GQ.on(this.xb.Z,"skipped",function(m){h.Du && ((null === m || void 0 === m?0:m.aWb) && h.TR(m.aWb),h.Du=void 0);});this.GQ.on(this.xb.Z,"paused",function(){h.Du && h.xb.Qd && h.TR(h.xb.Nd);});this.GQ.on(this.xb.Z,"underflow",function(){h.Du && h.xb.Qd && h.TR(h.xb.Nd);});};n.prototype.Ru=function(h,m,p){this.GQ.clear();g.prototype.Ru.call(this,h,m,p);this.va();};n.prototype.close=function(){l.K && this.console.trace("close");g.prototype.close.call(this);this.GQ.clear();};n.prototype.c1b=function(h,m){var p;p=this;this.Du && this.TR(h);return this.cXa(m).map(function(q){return p.sg[q];});};n.prototype.E8a=function(h){var m;m=this;this.cXa(h).forEach(function(p){delete m.sg[p];});};n.prototype.cXa=function(h){var m;m=this;return Object.keys(this.sg).filter(function(p){return m.sg[p].O === ("").concat(h);});};n.prototype.Yq=function(h){var m,p,q;m=h.stream;p=h.Lc;q=h.Bb;h=h.Lb;(0,f.assert)(void 0 !== q);(0,f.assert)(void 0 !== h);l.K && this.console.trace(("Media appended ").concat(q.mb(),"-").concat(h.mb()));this.Ega({stream:m,Lc:p},q,h);};n.prototype.Y5=function(h,m){return h.stream === m.stream && h.Lc === m.Lc;};n.prototype.rHb=function(h){var m,p;p=h.zr;h=p.Lc;p=null === (m=p.stream.pa.W.AA) || void 0 === m?void 0:m.Dp;return ("").concat(h,"::").concat(p);};n.prototype.ska=function(h,m){l.K && this.console.trace(("Presenting event for ( ").concat(h.zr.stream.id,", ").concat(h.zr.Lc," )") + (" at ").concat(m.mb()));this.Du?this.TR(m):this.jQ=m;this.Du=h;};n.prototype.TR=function(h){var m,p,q,u,t,w,v,y,x;(0,f.assert)(this.Du);if(null === (m=this.zja) || void 0 === m?0:m.lessThan(h))h=this.zja;t=this.Du;m=this.sg;w=t.zr;v=w.stream;w=w.Lc;y=null === (p=v.DU) || void 0 === p?void 0:p.Lm;p=h.wa(this.jQ || t.timestamp).G;if(void 0 !== w && void 0 !== y){x=null === (q=v.pa.W.AA) || void 0 === q?void 0:q.Dp;q=v.track.O;t=this.rHb(t);m=(u=(m[t] || (m[t]={Em:w,Dp:x,O:q,bF:{}})).bF)[y] || (u[y]={bitrate:v.bitrate,Ub:y,mediaType:v.mediaType,totalTime:0,zb:v.zb});m.totalTime=Math.max(m.totalTime + p,0);}this.jQ=h;};n.prototype.clone=function(h,m){m=void 0 === m?{}:m;h=new (m.igc || n)(h,this.yTb,this.xb,this.H1,this.events,this.mq,this.Kd,m.priority);this.Tvb(h);h.Du=this.Du;h.jQ=this.jQ;l.K && h.console.trace("Cloning",{lbc:h.kk.length});return h;};n.prototype.reset=function(){g.prototype.reset.call(this);this.jQ=void 0;};n.prototype.Z5=function(h){return ("(").concat(h.stream.Sb,", ").concat(h.Lc,")");};return n;})(a(12192).o_);b.Yaa=r;},65015:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.yCa=void 0;c=a(70655);k=a(95994);f=a(50971);r=(function(){function l(d,g,n){this.Kd=d;this.KQb=g;this.V=n;}Object.defineProperties(l.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});l.prototype.waitUntil=function(d){var g;d=(0,f.U$)(this.Kd,d,!0);g=d.promise;this.Vpb=d.vk;return g;};l.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,n;return c.__generator(this,function(h){switch(h.label){case 0:if(d.done)return [3,2];g=d.value.value;if(!g.wla)return [3,2];n=g.Bb.wa(this.KQb);k.K && this.V.trace(("[").concat(g.mediaType,"] JIT: waiting until playertime >= ").concat(n.G),("to append next request ").concat(g.toString()));return [4,this.waitUntil(n)];case 1:(h.Qa(),k.K && this.V.trace(("[").concat(g.mediaType,"] JIT: now appending request ").concat(g.toString())),h.label=2);case 2:return [2,d];}});});};l.prototype.reset=function(){var d;null === (d=this.Vpb) || void 0 === d?void 0:d.Pa();};return l;})();b.yCa=r;},75969:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.gFa=void 0;c=a(70655);k=a(86393);f=a(74005);r=(function(){function l(d){this.V=d;}Object.defineProperties(l.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});l.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,n,h,m,p,q,u,t,w,v,y,x,z,A;return c.__generator(this,function(){d.done || (g=d.value.value,g.stream.ha && (n=g.$Ib(),n instanceof ArrayBuffer && (h=new k.Or(this.V,g.stream,n,["moof"],!0,{bsa:!0}),m=h.parse(),m.kt && (p=h.Mn("moof"),q=p.Mn("traf"),u=q.Mn("trun"),t=q.Mn("tfdt"),w=g.stream.Qn().x8,v=u.rd,y=t.AE,x=m.Ka.S,z=new f.N(y,x),A=this.nq?z.wa(this.nq.gtb):void 0,this.V.trace(("Live Request Logger: processing request [").concat(g.mediaType,"]"),{baseMediaDecodeTime:y,timescale:x,baseMediaDecodeMs:z.G,ptsOffsetMs:w.G,mediaTimestampMs:z.wa(w).G,offsetFromPriorMs:null === A || void 0 === A?void 0:A.G,sampleCount:v,url:g.url}),this.nq={gtb:z}))));return [2,d];});});};l.prototype.reset=function(){this.nq=void 0;};return l;})();b.gFa=r;},53915:function(r,b,a){var c,k,f,l,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ZKa=void 0;c=a(70655);k=a(28075);f=a(95994);l=a(47571);d=c.__importDefault(a(29736));g=a(74005);n=a(44724);r=(function(){function h(m,p,q){var u;u=this;this.xb=m;this.Z=p;this.pending=new Map();this.listeners=new k.Re();this.Wqa=!1;this.jKb=function(t){u.q9a(function(){f.K && u.V.debug("cancelling playback ending");t.cancel();});};this.q9a=function(t){var w,v,y,x,B,C,D;if(u.pending.size){f.K && u.V.trace("playback ending, restarting player");y={};x=(w={},w[l.v.fa]=void 0,w[l.v.X]=void 0,w[l.v.Ya]=void 0,w);try{for(var z=c.__values(u.pending.entries()),A=z.next();!A.done;A=z.next()){B=c.__read(A.value,2);C=B[0];D=B[1];y[C]=D.to.stream.Sm();D.from.I && (x[C]=D.from.I);}}catch(G){var F;F={error:G};}finally{try{A && !A.done && (v=z.return) && v.call(z);}finally{if(F)throw F.error;}}null === t || void 0 === t?void 0:t();f.K && u.V.debug("Restarting player",y);u.Z.Sf(y,x).then(function(){var G,E;null === (G=u.UE) || void 0 === G?void 0:G.resolve();f.K && u.V.debug("Restart completed");null === (E=u.N9a) || void 0 === E?void 0:E.Uqb();u.reset();});}};this.listeners.addListener(p,"playbackEnding",this.jKb);this.V=(0,g.Kh)(d.default,q,"SEAMLESSMANAGER");f.K && this.V.debug("construct");}h.prototype.Pa=function(){f.K && this.V.debug("destruct");this.pending.clear();this.listeners.clear();};h.prototype.QXb=function(m){this.N9a=m;};h.prototype.f6b=function(m){var p,q;0 === this.pending.size && ((0,n.assert)(void 0 === this.UE,"SeamlessManager: No pending transitions, but a wait is deferred"),this.UE=new g.yz());(0,n.assert)(this.UE,"SeamlessManager: deferred is undefined");(0,n.assert)(!this.pending.has(m.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + m.mediaType);this.pending.set(m.mediaType,m);f.K && this.V.trace(("got new transition [").concat(m.mediaType,"] --\x3e ").concat(m.to.stream.id));if(this.pending.size === this.xb.cg.length && !this.Wqa){q=this.eNb();if(q.h7a)return (f.K && this.V.trace(("seamless transition possible at ").concat(m.timestamp.mb())),this.UE.resolve(),this.reset(),Promise.resolve());f.K && this.V.trace(("starting non-seamless transition at ").concat(m.timestamp.mb()));null === (p=this.N9a) || void 0 === p?void 0:p.Tqb(q.info);if(!this.t1b())return (f.K && this.V.warn("Unable to perform a non-seamless transition here, allowing seamless"),this.UE.resolve(),this.reset(),Promise.resolve());}return this.UE.promise;};h.prototype.OYb=function(m){f.K && this.V.trace(("reset media [").concat(m,"]"));this.pending.delete(m);0 === this.pending.size && this.reset();};h.prototype.reset=function(){f.K && this.V.debug("resetting");this.Wqa=!1;this.UE=void 0;this.pending.clear();};h.prototype.eNb=function(){var m,p,q,w,v,y,x,z,A,B,C,D,F,G;try{for(var u=c.__values(this.pending.entries()),t=u.next();!t.done;t=u.next()){w=c.__read(t.value,2);v=w[0];y=w[1];if(y.from){x=y.from.stream;z=y.to.stream;if(x.track === z.track)f.K && this.V.debug("Seamless deemed possible due to same track",{mediaType:v});else {A=x.Sm();B=z.Sm();C=void 0;D=this.xb.Xk(y.timestamp);C=y.from.I && 0 > this.xb.h6.value.G?{I:y.from.I,offset:g.N.Ma(0)}:this.xb.Xk(y.fWb);F=this.Z.iSa({mediaType:v,oXa:y.oXa,from:A,to:B,FFb:C,s3b:D});G=F.reason;if(!F.iSa)return (f.K && this.V.debug("Non-seamless transition; details:",{reason:G,mediaType:v,from:A,to:B}),{h7a:!1,info:{$Ab:null !== (p=y.to.I) && void 0 !== p?p:"unk",j1b:null !== (q=y.from.I) && void 0 !== q?q:"unk",bVb:y.timestamp,reason:G}});f.K && this.V.debug("Seamless deemed possible",{reason:G,mediaType:v,from:A,to:B,FFb:C,s3b:D});}}}}catch(J){var E;E={error:J};}finally{try{t && !t.done && (m=u.return) && m.call(u);}finally{if(E)throw E.error;}}return {h7a:!0};};h.prototype.t1b=function(){this.Wqa=!0;this.xb.Yq.value?(f.K && this.V.trace("Signaling EOS for upcoming restart"),this.xb.Hva()):(f.K && this.V.trace("Signaling immediate restart"),this.q9a());return !0;};return h;})();b.ZKa=r;},53548:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ka=void 0;c=a(70655);k=a(95994);r=(function(){function f(l,d,g){this.Ry=l;this.Be=d;this.V=g;this.F0=!0;}Object.defineProperties(f.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});f.prototype.process=function(l){var d;return c.__awaiter(this,void 0,void 0,function(){var g;return c.__generator(this,function(n){switch(n.label){case 0:if(l.done)return [3,3];g=l.value.value;if(!this.nq || !g.Tx || g.stream.pa === this.nq.stream.pa || this.nq.Bb === g.Bb && this.nq.AYb === g.index)return [3,2];k.K && this.V.trace(("Seamless Throttler: Waiting on request [").concat(g.mediaType,"]"),g.index,"in",g.u.id);return [4,this.Ry.f6b({mediaType:g.mediaType,oXa:this.F0,to:{stream:g.stream,I:g.u.id},from:{stream:this.nq.stream,I:this.nq.I},timestamp:g.Bb,fWb:null === (d=this.nq) || void 0 === d?void 0:d.Bb})];case 1:(n.Qa(),n.label=2);case 2:(this.F0=!1,this.nq={AYb:g.index,stream:g.stream,Bb:g.Bb,I:g.u.id},n.label=3);case 3:return [2,l];}});});};f.prototype.XSb=function(l,d){void 0 === l && (l=[]);void 0 === d && (d=[]);k.K && this.V.trace(("Seamless Throttler: onMediaSourceReset() ").concat(d));this.F0 || (this.F0=-1 !== d.indexOf(this.Be));(null === l || void 0 === l?0:l.length) && l.length !== d.length && (this.nq=void 0);};f.prototype.reset=function(){};return f;})();b.$Ka=r;},2479:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.THa=void 0;c=a(70655);k=a(95994);f=a(44724);l=a(50971);r=(function(){function d(g,n,h,m){var p;p=this;this.Kd=g;this.TTb=n;this.Sra=h;this.V=m;g.qa.on("stopStart",function(){return p.Svb();});k.K && this.V.trace(("PacingThrottler: pacingFactory=").concat(n,", pacingThreshold=").concat(h.mb()));}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.Svb=function(){var g,n;n=this.Kd.qa;this.iK=n.ii?n.currentTime:void 0;this.pR=this.LS=void 0;k.K && this.V.trace(("PacingThrottler: clock reset ").concat(null === (g=this.iK) || void 0 === g?void 0:g.G));};d.prototype.waitUntil=function(g){var n;g=(0,l.U$)(this.Kd,g,!0);n=g.promise;this.e6b=g.vk;return n;};d.prototype.process=function(g){return c.__awaiter(this,void 0,void 0,function(){var n,h,m,p;return c.__generator(this,function(q){switch(q.label){case 0:if(g.done)return [3,11];n=g.value.value;(0,f.assert)(n.Bb);h=this.Kd.qa;if(!this.LS || !this.pR)return [3,10];if(!this.pR.greaterThan(this.Sra))return [3,8];if(!this.iK)return [3,5];m=n.Bb.wa(this.iK).wa(this.Sra);p=this.iK.add(m.Oi(this.TTb));if(!p.lessThan(n.Bb))return [3,3];if(!p.greaterThan(h.currentTime))return [3,2];k.K && this.V.trace(("PacingThrottler: waiting until ").concat(p.mb()," for mediaRequest @") + ("").concat(n.Bb.mb(),", ") + ("current time ").concat(h.currentTime.mb(),", ") + ("clock start time ").concat(this.iK.mb(),", ") + ("distance ").concat(m.mb()));return [4,this.waitUntil(p)];case 1:(q.Qa(),q.label=2);case 2:return [3,4];case 3:(k.K && this.V.warn("PacingThrottler: invalid schedule time " + ("").concat(p.mb()," for mediaRequest ") + ("@").concat(n.Bb.mb(),", ") + ("current time ").concat(h.currentTime.mb(),", ") + ("clock start time ").concat(this.iK.mb(),", ") + ("distance ").concat(m.mb())),q.label=4);case 4:return [3,7];case 5:m=n.Bb.wa(this.LS);if(!m.greaterThan(this.Sra))return [3,7];k.K && this.V.trace(("PacingThrottler: (buffering) waiting until ").concat(this.LS.G,"ms") + (" for mediaRequest @").concat(n.Bb.G,"ms, ") + ("current time ").concat(h.currentTime.G));return [4,this.waitUntil(this.LS)];case 6:(q.Qa(),q.label=7);case 7:return [3,9];case 8:(this.pR=this.pR.add(n.te),q.label=9);case 9:return [3,11];case 10:(this.LS=n.Bb,this.pR=n.te,q.label=11);case 11:return [2,g];}});});};d.prototype.reset=function(){var g;null === (g=this.e6b) || void 0 === g?void 0:g.Pa();};return d;})();b.THa=r;},62435:function(r,b,a){var c,k,f,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.kda=void 0;c=a(70655);k=a(44724);f=a(74005);l=a(95994);d=a(79906);r=(function(g){function n(h){var m;m=g.call(this) || this;m.Aa=h;m.Rfa=new Map();m.Va=[];m.hQ=new d.J_({ii:!1,currentTime:function(){return m.Qd?m.Nd:f.N.rp;},speed:1});return m;}c.__extends(n,g);Object.defineProperties(n.prototype,{qa:{get:function(){return this.hQ;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Jd:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ml:{get:function(){return this.WQ;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{jC:{get:function(){return this.Rfa;},enumerable:!1,configurable:!0}});n.prototype.S1=function(h,m){var p;p=!this.Aa;p && (this.Aa=h,this.Pea=(null === m || void 0 === m?0:m.Qd)?m.Nd:void 0,this.WQ=null === m || void 0 === m?void 0:m.ml,this.Rfa=m?m.jC:new Map(),null === m || void 0 === m?void 0:m.xM());return p;};n.prototype.xM=function(){this.Rfa=this.WQ=void 0;};n.prototype.BA=function(){this.Va=[];this.Pea=void 0;};n.prototype.Wja=function(h){l.K && (0,k.assert)(this.Aa === h);this.Aa=void 0;this.BA();};n.prototype.Eka=function(){for(var h,m=[],p=0;p < arguments.length;p++){m[p]=arguments[p];}(h=this.Va).push.apply(h,c.__spreadArray([],c.__read(m),!1));};n.prototype.vF=function(){return this.Pea?this.Pea:g.prototype.vF.call(this);};n.prototype.YT=function(){return !1;};n.prototype.yC=function(){};n.prototype.AH=function(){};n.prototype.E8=function(){this.Va=this.Va.filter(function(h){return h.RJ?(h.Jf("pruned"),!1):!0;});};n.prototype.Pa=function(){g.prototype.Pa.call(this);this.jC.forEach(function(h){return h.close();});};return n;})(a(71843).yda);b.kda=r;},71843:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.yda=void 0;c=a(70655);k=a(28075);f=a(74005);l=a(44724);d=a(47571);r=a(43221);g=c.__importDefault(a(29736));n=a(95994);h=r.Hv.Nja;a=(function(){function m(){this.DM=[];this.Xz=new f.Jw(!1);this.Uz=new f.Jw(f.N.Ma(-Infinity));this.jJ=new f.Jw(f.N.Ma(-Infinity));this.events=new k.EventEmitter();this.V=new g.default.Console("ASEJS","media|asejs");}Object.defineProperties(m.prototype,{console:{get:function(){return this.V;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Jd:{get:function(){return this.cx;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{q2a:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ml:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jC:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{playbackRate:{get:function(){return this.nL();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{MQa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Yq:{get:function(){return this.Xz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{h6:{get:function(){return this.Uz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Jl:{get:function(){return this.jJ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Qd:{get:function(){return this.pp;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Nd:{get:function(){return this.vF();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ig:{get:function(){var p,q;p=this.Nd;q=this.Xk(p,!1);n.K && (0,l.assert)(q,("Could not find current branch for ").concat(p.G));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{SLb:{get:function(){return this.Va[0];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Sq:{get:function(){return this.pp?this.Va[this.Va.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Hy:{get:function(){var p,q;p=this.Nd;q=this.WS(p);(0,l.assert)(q,("Could not find presenting branch for ").concat(p.G));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pp:{get:function(){return 0 < this.Va.length;},enumerable:!1,configurable:!0}});m.prototype.r$a=function(){};m.prototype.q$a=function(){};m.prototype.bi=function(){return !1;};m.prototype.j5=function(){return 0 < this.Va.length;};m.prototype.Rn=function(){(0,l.assert)(0 < this.Va.length,"Could not find presenting branch. Player has no branches.");return this.Hy;};m.prototype.w_a=function(p){return -1 !== this.Va.indexOf(p);};m.prototype.S1=function(){return void 0 !== this.Aa?!1:!0;};m.prototype.xM=function(){};m.prototype.Pa=function(){};m.prototype.KF=function(p){var q,u,t;q=this.Va.filter(function(w){return w.u.id === p.I;});if(0 !== q.length){u=this.vF();t=new f.N(Infinity,1);q.forEach(function(w){w=w.er.add(p.offset);u.wK(w).lessThan(u.wK(t)) && (t=w);});return t;}};m.prototype.CT=function(p){var q,u,t,w,v,y,x,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:q=this.Va.filter(function(D){return D.u.id === p.I;});if(0 === q.length)return [2,void 0];u=this.vF();C.label=1;case 1:(C.Oj.push([1,6,7,8]),t=c.__values(q),w=t.next(),C.label=2);case 2:if(w.done)return [3,5];v=w.value;y=v.er.add(p.offset);x=u.wK(y);return [4,{Ip:y,wK:x}];case 3:(C.Qa(),C.label=4);case 4:return (w=t.next(),[3,2]);case 5:return [3,8];case 6:return (z=C.Qa(),A={error:z},[3,8]);case 7:try{w && !w.done && (B=t.return) && B.call(t);}finally{if(A)throw A.error;}return [7];case 8:return [2];}});};m.prototype.Xk=function(p,q){var u,t,w;void 0 === q && (q=!1);u=this.WS(p,q);if(u){t=u.u;q=t.id;w=t.duration;p=f.N.min(p.wa(t.Ud.add(u.se)),w || f.N.rp);return {I:q,offset:p};}};m.prototype.reset=function(){this.BA();};m.prototype.iua=function(){};m.prototype.lN=function(){};Object.defineProperties(m.prototype,{tH:{get:function(){return !1;},enumerable:!1,configurable:!0}});m.prototype.pause=function(p){void 0 === p && (p=d.Bz);this.DM=null === p || void 0 === p?void 0:p.reduce(function(q,u){-1 === q.indexOf(u) && q.push(u);return q;},this.DM);};m.prototype.resume=function(p){var q;q=this;void 0 === p && (p=d.Bz);p.forEach(function(u){u=q.DM.indexOf(u);-1 !== u && q.DM.splice(u,1);});};m.prototype.Lwa=function(p){var q;(0,l.assert)(this.Aa);(0,l.assert)(p !== this);this.AH();q=p.S1(this.Aa,this);q && (this.E8(),p.pause(this.DM),p.Eka.apply(p,c.__spreadArray([],c.__read(this.Va),!1)),this.Wja(this.Aa));return q;};m.prototype.vF=function(){return this.XYa();};m.prototype.XYa=function(){var p,q;n.K && (0,l.assert)(this.pp,"Attempted to get initial time before any branches were queued");q=c.__read(this.Va,1)[0];n.K && (0,l.assert)(q);return null !== (p=q.Bb) && void 0 !== p?p:q.fy;};m.prototype.nL=function(){return 1;};m.prototype.AF=function(){};m.prototype.WS=function(p,q){var u;void 0 === q && (q=!1);if(this.pp){u=this.XYa();return p.lessThan(u)?this.Va[0]:(0,f.mla)(this.Va,p) || (q?this.Sq:void 0);}};m.prototype.JGb=function(){var p,q,w,v,y,x,z,A;q={};try{for(var u=c.__values(this.Va),t=u.next();!t.done;t=u.next()){w=t.value;v=void 0;y=void 0;x=w.aL();for(v in x){z=v;A=x[z];A && (q[z]=(null !== (y=q[z]) && void 0 !== y?y:0) + A);}if(!w.Zh)break;}}catch(C){var B;B={error:C};}finally{try{t && !t.done && (p=u.return) && p.call(u);}finally{if(B)throw B.error;}}return q;};c.__decorate([h.return.rh(),h.return.F7],m.prototype,"q2a",null);c.__decorate([h.return.rh()],m.prototype,"Ig",null);c.__decorate([h.return.Nha(),h.return.em],m.prototype,"Rn",null);c.__decorate([c.__param(0,h.rh())],m.prototype,"KF",null);c.__decorate([c.__param(0,h.rh())],m.prototype,"CT",null);c.__decorate([h.return.rh()],m.prototype,"Xk",null);return m;})();b.yda=a;},53800:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.wJa=void 0;c=a(28075);k=a(47571);f=a(74005);r=a(40885);a=(function(){function l(d){this.Z=d;this.wfa=!1;this.yOa=new c.Re();this.OXb();}l.prototype.OXb=function(){var d,g;d=this;g=this.yOa;g.on(this.Z,"paused",function(){return d.S7();});g.on(this.Z,"playing",function(){return d.S7(!0);});g.on(this.Z,"underflow",function(){return d.S7();});g.on(this.Z,"skipped",function(){return d.nV();});g.on(this.Z,"clockAdjusted",function(){return d.jV();});g.on(this.Z,"playbackRateChanged",function(){return d.cTb();});};Object.defineProperties(l.prototype,{currentTime:{get:function(){return this.qPa || this.Z.Hd || f.N.Ia;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ii:{get:function(){return this.wfa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{speed:{get:function(){var d;return null !== (d=this.Z.playbackRate) && void 0 !== d?d:1;},enumerable:!1,configurable:!0}});l.prototype.S7=function(d){void 0 === d && (d=!1);d !== this.wfa && (this.qPa=(this.wfa=d)?void 0:this.Z.Hd);this.emit("stopStart",{type:"stopStart"});};l.prototype.nV=function(){this.qPa=void 0;this.jV(k.wz.wH);};l.prototype.jV=function(d){void 0 === d && (d=k.wz.lrb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:d});};l.prototype.cTb=function(){this.emit("speedChanged",{type:"speedChanged"});};l.prototype.Pa=function(){this.S7();this.yOa.clear();};return l;})();b.wJa=a;(0,r.xk)(c.EventEmitter,a);},12192:function(r,b,a){var c,k,f,l,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.o_=void 0;c=a(70655);k=a(28075);f=a(74005);l=a(95994);d=a(50971);g=c.__importDefault(a(29736));n=f.N.Ma(1E3);r=(function(){function h(m,p,q,u,t,w,v,y,x,z){var A,B;this.xFb=m;this.yTb=p;this.H1=u;this.events=t;this.mq=w;this.ecb=y;this.priority=x;this.kk=[];this.console=(0,f.Kh)(g.default,p,("PresentationTracker [").concat(this.xFb,"] ").concat(this.ecb,"]"));this.csa=n.add(f.N.Ma(null !== (B=null === (A=w.CN) || void 0 === A?void 0:A.G) && void 0 !== B?B:0));this.listeners=new k.Re();this.Bsa=new k.Re();this.gE=!z;this.pzb(v);this.C$a(q,v,u);}h.prototype.C$a=function(m,p,q){var u;u=this;this.H1=q;this.listeners.clear();this.Bsa.clear();this.xb=m;this.Kd=p;this.Bsa.on(m.Z,"skipped",this.nV.bind(this));this.listeners.on(q,"requestAppended",function(t){return u.Yq(t.request);});this.events=m.events;this.EK.sSa(p);this.TV.sSa(p);};h.prototype.pzb=function(m){var p;p=this;this.EK=m.Hx(function(){return p.fCb();},"Presentation Emit",this.priority);this.TV=m.Hx(function(){return p.LWb();},"Presentation Prune");};h.prototype.nV=function(){this.trace(("skipped, scheduler clock ").concat(this.Kd.qa.currentTime.mb()));this.gE=!0;this.EK.Sf();};h.prototype.fCb=function(){var m,p,q;return c.__generator(this,function(u){switch(u.label){case 0:(l.K && this.console.trace("Starting emit job"),this.WG=this.FRb(this.gE),m=this.Z4a(),u.label=1);case 1:if(!m)return [3,3];this.trace(("queuing task for ").concat(this.Z5(m.zr)) + (" at player time ").concat(m.timestamp.mb()) + (" scheduler clock is ").concat(this.Kd.qa.currentTime.mb()));return [4,d.Pg.Qt(m.timestamp)];case 2:u.Qa();this.trace(("executing task for ").concat(this.Z5(m.zr)) + (" for player time ").concat(m.timestamp.mb()) + (", scheduler clock: ").concat(this.Kd.qa.currentTime.mb()) + (", actual player time: ").concat(this.xb.Nd) + (", first item: ").concat(this.gE));p=this.gE?this.xb.Nd:m.timestamp;q=this.gE;this.gE=!1;this.xUa=m;this.WG++;this.zja=(m=this.Z4a())?m.timestamp:this.cG;try{this.ska(this.xUa,p,q);}catch(t){this.console.error(("Error in ").concat(this.ecb," emit, continuing"),t);}p=null === m || void 0 === m?void 0:m.timestamp;return [3,1];case 3:return (l.K && this.console.trace("Ending emit job"),[2]);}});};h.prototype.Z4a=function(){if(void 0 !== this.WG)return this.kk[this.WG];};h.prototype.FRb=function(m){var p,q,t;void 0 === m && (m=!1);for(var u=m?0:null !== (p=this.WG) && void 0 !== p?p:0;u < this.kk.length;u++){p=this.kk[u];t=f.N.Ma(null !== (q=this.mq.$Ub) && void 0 !== q?q:0);if(p.timestamp.greaterThan(this.xb.Nd.add(t)))return m && 0 < u?u - 1:u;}return Math.max(this.kk.length - 1,0);};h.prototype.LWb=function(){var m,p;return c.__generator(this,function(q){switch(q.label){case 0:if(!(1 < this.kk.length))return [3,2];m=c.__read(this.kk,2);p=m[1];this.trace(("queuing pruning task for ").concat(p.zr) + (" at player time ").concat(this.csa.add(p.timestamp).mb()) + (" scheduler clock is ").concat(this.Kd.qa.currentTime.mb()));return [4,d.Pg.Qt(this.csa.add(p.timestamp))];case 1:return (q.Qa(),this.trace(("executing pruning task for ").concat(p.zr) + (" at player time ").concat(this.csa.add(p.timestamp).mb()) + (" scheduler clock is ").concat(this.Kd.qa.currentTime.mb())),this.kk.shift(),this.WG && this.WG--,[3,0]);case 2:return [2];}});};h.prototype.Ru=function(m,p,q){this.C$a(m,p,q);};h.prototype.reset=function(){this.kk=[];l.K && this.trace("reset");this.gE=!0;this.cG=void 0;this.WG=0;this.TV.Sf();this.EK.Sf();};h.prototype.close=function(){l.K && this.trace("close()");this.Bsa.clear();this.EK.Pa();this.TV.Pa();this.listeners.clear();this.kk=[];};h.prototype.bi=function(m){var p;l.K && this.trace(("canSkip() ").concat(m));if(0 === this.kk.length)return (l.K && this.trace("canSkip false, no media sequence"),!1);p=this.kk[0];return p.timestamp.greaterThan(m)?(l.K && this.trace(("canSkip false, before earliest item at ").concat(p.timestamp)),!1):void 0 === this.cG || this.cG.lessThan(m)?(l.K && this.trace(("canSkip false, later than last appended at ").concat(this.cG)),!1):!0;};h.prototype.trace=function(m){l.K && this.console.trace(m);};h.prototype.Ega=function(m,p,q){var u;q && (this.cG=q);u=this.kk.length?this.kk[this.kk.length - 1]:void 0;if(void 0 === u || !this.Y5(u.zr,m))return (this.kk.push({zr:m,timestamp:p}),this.EK.state === d.Ek.complete && this.EK.Sf(),this.TV.state === d.Ek.complete && this.TV.Sf(),!0);u === this.xUa && (this.zja=q);return !1;};h.prototype.Y5=function(m,p){return m === p;};h.prototype.Tvb=function(m){m.kk=c.__spreadArray([],c.__read(this.kk),!1);m.cG=this.cG;};return h;})();b.o_=r;},30184:function(r,b,a){var c,k,f,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.iKa=void 0;c=a(70655);k=a(47571);f=a(4145);l=a(2243);d=a(67006);r=(function(){function g(n,h,m,p,q,u,t,w){this.mediaType=n;this.console=h;this.xb=m;this.H1=p;this.Jn=q;this.zsa=u;this.Kd=t;this.gA=[];this.mediaType === k.v.X && this.gA.push(new d.jLa(n,h,m,p,q,u,t,w,2));this.gA.push(new l.MLa(n,h,m,p,q,u,t,"stream",1,null === w || void 0 === w?void 0:w.l0a()));}g.prototype.Ru=function(n,h,m){this.xb=n;this.Kd=h;this.H1=m;this.WH.forEach(function(p){return p.Ru(n,h,m);});};g.prototype.Xqb=function(n){this.gA.push(n);};g.prototype.HEb=function(n){return (0,f.yc)(this.gA,function(h){return h instanceof n;});};g.prototype.reset=function(){this.gA.forEach(function(n){return n.reset();});};g.prototype.close=function(){this.gA.forEach(function(n){return n.close();});};g.prototype.bi=function(n){return c.__read(this.gA,1)[0].bi(n);};Object.defineProperties(g.prototype,{WH:{get:function(){return this.gA;},enumerable:!1,configurable:!0}});return g;})();b.iKa=r;},67006:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.jLa=void 0;c=a(70655);k=a(95994);f=a(44724);l=a(74005);r=(function(d){function g(n,h,m,p,q,u,t,w,v){n=d.call(this,n,h,m,p,q,u,t,"segment",v,null === w || void 0 === w?void 0:w.l0a()) || this;n.ml=w;return n;}c.__extends(g,d);g.prototype.Yq=function(n){var h,m,p,q,u,t,w,v,y;q=n.Bb;u=n.Lb;t=n.La;w=n.bitrate;v=n.zb;(0,f.assert)(void 0 !== q);y=null === (h=this.xb.Xk(q)) || void 0 === h?void 0:h.I;(0,f.assert)(void 0 !== y);this.n6=n={I:y,TEb:n.Tx,La:t,Ddb:w,zb:v,cWb:null === (m=this.n6) || void 0 === m?void 0:m.Ddb,dWb:null === (p=this.n6) || void 0 === p?void 0:p.zb};this.Ega(n,q,u) && k.K && this.trace(("segment ").concat(y," @ ").concat(q.G,"ms"));};g.prototype.Y5=function(n,h){return n.I === h.I && !h.TEb;};g.prototype.ska=function(n,h,m){var p,q,u,t,w,v;p=n.zr;q=p.I;u=p.Ddb;t=p.cWb;w=p.zb;p=p.dWb;v=this.xb.Xk(h);(0,f.assert)(void 0 !== v);k.K && this.trace(("emitSegmentPresentingEvent @ ").concat(n.timestamp.G,"ms for segment ").concat(q));v.I !== q && (k.K && this.console.warn("player position:",v,"not equal to trackedElement:",q),v={I:q,offset:l.N.Ia});n={type:"segmentPresenting",playerTimestamp:h,position:v,seek:m};if(this.ml){if(q=this.ml.zma(q))(q.destvbitrate=u,q.destvmaf=w,q.srcvbitrate=t,q.srcvmaf=p);n.metrics=q;}k.K && this.trace(("segmentPresenting: ").concat(JSON.stringify(n)));this.events.emit(n.type,n);};g.prototype.reset=function(){d.prototype.reset.call(this);this.n6=void 0;};g.prototype.close=function(){d.prototype.close.call(this);this.n6=void 0;};g.prototype.Z5=function(n){return n.I;};return g;})(a(12192).o_);b.jLa=r;},2243:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.MLa=void 0;c=a(70655);k=a(95994);f=a(44724);r=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.Yq=function(g){var n,h,m;n=g.stream;h=g.Bb;m=g.Lb;g=g.La;(0,f.assert)(void 0 !== h,"playerStartTimestamp undefined at media append");(0,f.assert)(void 0 !== g,"contentStartTimestamp undefined at media append");this.Ega({stream:n,La:g},h,m) && k.K && this.trace(("stream ").concat(n.id,", ").concat(n.bitrate,"kbit/s @ ").concat(h.G,"ms"));};d.prototype.Y5=function(g,n){return g.stream === n.stream;};d.prototype.ska=function(g,n){var h,m,p,q;p=g.zr.stream;q=this.xb.Xk(n);(0,f.assert)(void 0 !== q);k.K && this.trace(("emitStreamPresentingEvent @ ").concat(g.timestamp.G,"ms for ").concat(null === p || void 0 === p?void 0:p.id,", ") + ("").concat(null === p || void 0 === p?void 0:p.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:n,position:q,trackIndex:null === (h=null === p || void 0 === p?void 0:p.track) || void 0 === h?void 0:h.oE,streamIndex:null === p || void 0 === p?void 0:p.Ft,stream:p,manifest:null === (m=p.pa) || void 0 === m?void 0:m.W,contentStartTimestamp:g.zr.La});};d.prototype.Z5=function(g){return ("").concat(g.stream.Sb,"@").concat(g.La.mb());};return d;})(a(12192).o_);b.MLa=r;},44001:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oea=void 0;c=a(70655).__importDefault(a(29736));k=a(47571);f=a(70950);l=a(16955);r=(function(){function d(g,n){this.V=g;this.lj=n;}d.prototype.xH=function(g,n,h,m,p){var q,u;void 0 === p && (p=!1);q=g.u;u=this.onb(q);this.kE={startTime:c.default.time.Ga(),l1b:g,k1b:h.G,x3:n,Xd:this.NHb(m,n),G3b:this.EJb(m,p),DAb:p,rf:m,ESa:u,DRb:this.kIb(q,h)};};d.prototype.l0a=function(){return !!this.kE;};Object.defineProperties(d.prototype,{x3:{get:function(){var g;return null === (g=this.kE) || void 0 === g?void 0:g.x3;},enumerable:!1,configurable:!0}});d.prototype.zma=function(g){var n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L;if(this.kE && 0 !== Object.keys(this.kE.ESa).length && g === this.kE.x3){v=this.kE;y=v.ESa;x=v.DRb;z=v.DAb;A=v.rf;B=v.l1b;C=v.k1b;D=v.startTime;F=v.Xd;v=v.G3b;this.kE=void 0;G=this.hfa(g).Pha;E=this.hGb(B.u.id,g,y);G=this.nOa(E.weight,G);J={};for(L in y){L !== g && (J[L]=y[L].details);}y=c.default.time.Ga() - D;D=A?0:y;L={offset:f.N.Ma(this.jJb(B,C,A,z)),I:B.u.id};C={offset:f.N.Ma(C),I:B.u.id};x={segment:g,destPosition:{I:g,offset:f.N.Ia},srcsegment:B.u.id,srcTransitionPosition:L,srcStartPosition:C,srcsegmentduration:B.rX.G,srcoffset:L.offset.G,seamlessRequested:A,atRequest:E,atTransition:G,discard:J,transitionType:F,transitionTypeAtRequest:v,delayToTransition:this.QGb(y,A,z),durationOfTransition:D,nextExitPositionAtRequest:x};z=null !== (h=null === (n=this.lj.ga.L[g]) || void 0 === n?void 0:n.type) && void 0 !== h?h:"content";n=null !== (p=null === (m=this.lj.ga.L[B.u.id]) || void 0 === m?void 0:m.type) && void 0 !== p?p:"content";g=null !== (u=null === (q=this.lj.ga.L[g]) || void 0 === q?void 0:q.J) && void 0 !== u?u:void 0;q=null !== (w=null === (t=this.lj.ga.L[B.u.id]) || void 0 === t?void 0:t.J) && void 0 !== w?w:void 0;g && q && g !== q && (x.auxMidType=z,x.auxSrcmidType=n,x.auxMid=g,x.auxSrcmid=q);return x;}};d.prototype.hGb=function(g,n,h){var m,p,q;q={};(h=h[n])?q=h.details:((0,l.assert)(this.lj),q.weight=null === (p=null === (m=this.lj.ga.L[g].next) || void 0 === m?void 0:m[n]) || void 0 === p?void 0:p.weight);return q;};d.prototype.QGb=function(g,n,h){var m;h || (m=n?g:0);return m;};d.prototype.kIb=function(g,n){var h,m,p;m=g.Ud.add(n);null === (h=g.Pv) || void 0 === h?void 0:h.some(function(q){m.lessThan(q.La) && (p=q.La.G);});return p;};d.prototype.jJb=function(g,n,h,m){return h || m?g.rX.G:n;};d.prototype.NHb=function(g,n){return g?"seamless":this.hfa(n).x_a?"reset":"long";};d.prototype.EJb=function(g,n){return g || n?"lazy":"immediate";};d.prototype.onb=function(g){var n,h;n=this;h={};g.yy.forEach(function(m){var p,q;p=g.GRb[m];q=n.hfa(m).Pha;h[m]={details:n.nOa(p,q)};});return h;};d.prototype.hfa=function(g){var n,h;g=this.lj.XS(g);n=0 < g.length?g[0]:void 0;g=null === n || void 0 === n?void 0:n.aL();if(!n || !g)return {x_a:!1,Pha:{J$:0,q1:0,EX:0,bR:0}};h=n.g5(k.v.fa) && !g.q1;n=n.g5(k.v.X) && !g.J$;return {x_a:!h && !n,Pha:g};};d.prototype.nOa=function(g,n){return {weight:g,vbuflmsec:n.J$,abuflmsec:n.q1,vbuflbytes:n.EX,abuflbytes:n.bR};};return d;})();b.oea=r;},19709:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L,N,I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,Ja,Xa,cb,U;function c(Z){var Q;Q={};Z.forEach(function(ka){ka.mediaType !== g.v.Ya && (Q[ka.mediaType]=ka.Sm());});return Q;}Object.defineProperties(b,{__esModule:{value:!0}});b.xaa=void 0;k=a(70655);f=a(28075);l=a(41427);d=a(35510);g=a(47571);n=a(25580);h=a(74005);m=a(10249);p=a(54059);q=k.__importDefault(a(29736));u=a(44724);t=a(62435);w=a(4145);v=a(50971);y=a(71820);x=a(89098);z=a(19829);A=a(89589);B=a(79906);C=a(22258);D=a(48256);F=a(74573);G=k.__importDefault(a(73764));E=a(52302);J=a(18312);L=a(80120);N=a(55168);I=a(47052);O=a(75559);K=a(68397);H=a(99568);M=a(65533);R=a(24462);Y=a(33154);ea=a(43450);ca=a(302);oa=a(81545);Ga=a(62437);Fa=a(12215);Ja=a(88414);Xa=a(5456);cb=a(42462);U=a(43221).Hv.Nja;r=(function(){function Z(Q,ka,P,fa,ua,pa,Ra,Pa,db,wb){this.lj=Q;this.DPa=ka;this.config=P;this.id=fa;this.hs=pa;this.sj=Ra;this.Avb=Pa;this.wl=wb;this.pJ=!1;this.bJ=void 0;this.Mka=[];this.Eh=this.Ta=void 0;this.Crb="2.0";this.G0a=this.U0=this.wm=this.Dfa=void 0;this.Sa=d.lm.CLOSED;this.efa=!0;this.M1=!1;this.RN=this.MX=this.xE=void 0;this.IRa=new f.Re();this.QA=0;this.d$=!1;this.LLb();this.console=new q.default.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.dh=new F.su({bo:10,$m:this,source:"AsePlaygraph",console:this.console});this.events=new f.EventEmitter();this.lva(Q);this.Va=new M.FJa();this.ug=new Xa.HJa(this.console);this.qna=new I.SCa(this.config,h.N.Ma(this.config.L6),{parent:function(nb){return nb.nT();},next:this.mIb.bind(this)},this.events,this.console);this.e$=new p.OLa(this.console,this.events);this.GR={rB:P.KU || Infinity};this.Z=new t.kda(this);this.Jd=new v.RP(this.Z.qa,this.console,"playgraph",1);this.QLb();this.gf=new R.Pza(this.console,P,ua,this.events,this,this.Wp);this.g2=new ca.Cza(this.Jd,this.Wp,this.config,this.Kj.bind(this),this.ff,this.console);this.K7=this.gf.K7.bind(this.gf);this.oV=this.gf.oV.bind(this.gf);this.T7=this.gf.T7.bind(this.gf);this.D7=this.D7.bind(this);this.E7=this.E7.bind(this);this.nH=this.nH.bind(this);this.Qv=new z.Oda(P);this.HLb();this.Qv.Xe(new C.Pw(this.gf.dh));this.Qv.Xe(new D.SIa(this.zIb.bind(this)));this.Qv.Xe(new C.Pw(this.dh));this.Qv.Xe(new E.EJa(this.Va,this));this.Qv.Xe(new L.fFa(this));this.Rab=new Ja.NLa(this,this.console,db);this.B6=new J.DFa(this.Wp,this.console,this.events);this.Cm=new cb.JJa(this.P8.bind(this));this.rva((0,y.mK)(this.config),(0,y.lK)());}Object.defineProperties(Z.prototype,{state:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{Nq:{get:function(){return !(this.Z instanceof t.kda);},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{bd:{get:function(){return this.bJ;},set:function(Q){this.bJ=Q;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{bMb:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{ga:{get:function(){return this.lj;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{weight:{get:function(){return this.DPa;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{vh:{get:function(){(0,u.assert)(this.Oq,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.wm.position;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{R9a:{get:function(){(0,u.assert)(this.Oq,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.BT(this.vh).yq;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{ff:{get:function(){return this.gf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{vj:{get:function(){return this.gf.vj;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{Oq:{get:function(){return void 0 !== this.wm;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{Ig:{get:function(){return this.Z.Qd?this.Z.Ig:this.vh;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{Nd:{get:function(){var Q,ka;return this.Z.Qd?this.Z.Nd:null !== (ka=null === (Q=this.wm) || void 0 === Q?void 0:Q.Ip) && void 0 !== ka?ka:this.R9a;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{Lsb:{get:function(){return this.vmb;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{Q$:{get:function(){return this.Rpb;},enumerable:!1,configurable:!0}});Z.prototype.QLb=function(){this.Wp=new v.RP(new B.J_({ii:!0,currentTime:function(){return h.N.Ma(q.default.time.Ga());},speed:1}),this.console,"wallclock");};Z.prototype.HLb=function(){var Q;Q=this;(0,Fa.QTa)({gf:this.gf,Wp:this.Wp},v.Pg.NC(h.N.Ma(this.config.IV)),function(){Q.Z.Qd && Q.Z.Hy && (Q.gf.state.value === g.Wc.sl || Q.gf.state.value === g.Wc.Qe) && Q.ZD(Q.Z.Hy);},"buffering");};Z.prototype.LLb=function(){var Q;Q=this;this.Dv=function(ka){var P,fa,ua;fa=Q.navigator.Pd(ka.position.I);if((fa=Q.Cma(fa)) && Q.Z.Qd){ua=(0,h.mla)(Q.Z.Va.filter(function(pa){return pa.u.id === ka.position.I;}),ka.playerTimestamp,{kTa:!0});ua && (null === (P=Q.Z.ml) || void 0 === P?void 0:P.xH({u:ua.u,get rX() {return ua.$a.wa(ua.u.Ud);}},fa,Q.Ig.offset,!0,!1));}Q.Cm.start();};this.kV=function(){Q.sj("onDrmReady");};this.WSb=function(ka){ka=ka.newValue;Q.pJ || (Q.pJ=ka);};};Z.prototype.open=function(){this.efa=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Sa !== d.lm.CLOSED)return !1;this.Sa=d.lm.OPEN;return !0;};Z.prototype.Pa=function(){this.Wp.Pa();this.Jd.Pa();this.Sa !== d.lm.CLOSED && (this.Jf(),this.Cm.Pa(),this.gf.stop(),this.Sa=d.lm.CLOSED,this.Nq || this.Z.Pa(),this.B6.Pa());};Z.prototype.cvb=function(Q,ka,P){Q=(0,Y.Lka)(this.Va,this.nH.bind(this),Q,ka,P).tSa;return this.hSa(Q);};Z.prototype.Wy=function(Q,ka,P){var fa,ua,pa,Ra,Pa,db,wb;fa=this;ua=this.xE;pa=this.MX;Ra=this.RN;this.xE=Q;this.MX=ka;this.RN=P;Q=(0,Y.Lka)(this.Va,this.nH.bind(this));Pa=Q.tSa;Q=Q.wtb;if(0 === Pa.length)return !0;if(!this.hSa(Pa))return (this.xE=ua,this.MX=pa,this.RN=Ra,!1);db=this.Ig;this.Z.lN(Pa);wb=this.BT(db).yq;Q.forEach(function(nb){var Bb;Bb=nb.yb;Bb.Wy(nb.Wd,db.I === Bb.u.id?wb:void 0,void 0 !== fa.Va.L4(Bb),Pa);});this.gf.rTb(db,Q[0].Wd);return !0;};Z.prototype.lK=function(Q){return (0,y.lK)(this.config,Q);};Z.prototype.mK=function(Q){return (0,y.mK)(this.config,Q);};Z.prototype.kT=function(Q,ka){var P,fa;P=this.navigator.Pd(Q);fa=this.navigator.Pd(ka);return {z5b:P.BKb(ka),HR:ka !== Q && this.Va.has(ka) && this.Va.mp(ka)[0].Ug,K2:fa.Ud.G,Tqa:this.Cma(P)};};Z.prototype.Kj=function(Q,ka,P,fa){var ua,pa,Ra,Pa;ua=this;void 0 === fa && (fa=!0);if(!ka)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(fa && this.ug.get(Q))P || this.ug.set(Q,ka);else {Ra=this.XS(Q)[0];Pa=this.navigator.Pd(Q);this.Ig.I === Q && Ra && (null === (pa=this.Z.ml) || void 0 === pa?void 0:pa.xH({u:Ra.u,get rX() {return Ra.$a.wa(Ra.u.Ud);}},ka,this.Ig.offset,fa,P));fa || (Q={offset:h.N.Ia,I:ka},this.wm={position:Q,Ug:!0,Ccb:Q});P?this.ug.x_b(Pa.id,ka):this.ug.set(Pa.id,ka);this.Cm.start();fa && Pa.Pv && 0 < Pa.Pv.length && ((0,u.assert)(Ra),Ra.v$(Pa.Pv) && this.XS(ka).forEach(function(db){return ua.cw(Ra,db);}));fa || this.gf.R7(this.vh);}};Z.prototype.hSa=function(Q){var ka,P;if(0 === Q.length)return !0;if(this.Z.tH && this.Z.h6.value.wa(this.Z.Nd).lessThan(h.N.Ma(5E3)))return !1;Q=this.Z.Va;if(!Q.length)return !0;P=null === (ka=Q[0]) || void 0 === ka?void 0:ka.pa.J;return !Q.some(function(fa){return fa.pa.J !== P;});};Z.prototype.cw=function(Q,ka){var P;P=this;Q=Q.Lb.wa(ka.u.Ud);ka.cw(Q);this.Va.EGb(ka).forEach(function(fa){return P.cw(ka,fa);});};Z.prototype.aj=function(Q){this.navigator.aj(Q);this.Cm.start();};Z.prototype.rva=function(Q,ka){this.vmb=Q;this.Rpb=ka;this.state === d.lm.rm && this.sj("setStreamFilters");};Z.prototype.Cqb=function(Q){(0,u.assert)(-1 === this.Mka.indexOf(Q),"Attempted to add the same evaluation hook twice");this.Mka.push(Q);};Z.prototype.S_b=function(Q){this.hs.mYb(Q);};Z.prototype.vC=function(Q,ka){this.s9(Q,ka);};Z.prototype.s9=function(Q,ka,P){var fa,ua,pa,Ra,Pa;pa=this.ga;Ra=(0,N.Cdb)(pa,Q);if(Ra.OL){Pa=this.wZb(pa,Q,ka);if(void 0 === Pa)this.qf(("Invalid seekPosition after sanitization to ").concat(Q.I) + ("(").concat(Q.offset.G,"ms)") + (", reason: ").concat(Ra.reason),null === (fa=pa.L[Q.I]) || void 0 === fa?void 0:fa.J);else if(void 0 === this.xE || void 0 === this.MX)this.qf("No track selectors available");else if((fa=!(this.Nq && this.Z.pp) && (0,N.q_a)(null === (ua=this.wm) || void 0 === ua?void 0:ua.Ccb,Pa),this.events.emit("seeking",{type:"seeking",position:Q,duplicate:fa}),!fa)){this.U0=P;this.Oq?(this.xH(Pa),this.OSa(Q)):this.Va.empty && P && (P=this.Z.AF()) && (this.xH(Pa,P),this.OSa(Q));Q=this.bZa();try{this.Jf(!0);this.Dvb();this.wm={position:Pa,Ccb:Pa,Ug:!1,Ip:ka};this.G0a=ka?ka.wa(this.R9a):h.N.Ia;this.gf.R7();this.Sa=d.lm.rm;this.Cm.start();}finally{Q.release();}}}else this.qf(("Invalid seekPosition to ").concat(null === Q || void 0 === Q?void 0:Q.I) + ("(").concat(Q.offset.G,"ms)") + (", reason: ").concat(Ra.reason),null === (Pa=pa.L[Q.I]) || void 0 === Pa?void 0:Pa.J);};Z.prototype.xH=function(Q,ka){var P,fa,ua;ua=this.navigator.Pd(null !== (P=null === ka || void 0 === ka?void 0:ka.u.id) && void 0 !== P?P:this.Ig.I);null === (fa=this.Z.ml) || void 0 === fa?void 0:fa.xH({u:ua,rX:ua.duration},Q.I,ka?ka.se:this.Ig.offset,!1);};Z.prototype.OSa=function(Q){var ka,P;if((null === (ka=this.Z.AF()) || void 0 === ka?void 0:ka.u.id) === Q.I){if((this.ug.Evb(Q.I),!this.ug.get(Q.I) && this.Z.pp)){Q=this.Z.Va;P=this.Z.AF();P && (Q=(0,w.yc)(Q,function(fa){return fa.parent === P;})) && this.ug.set(P.u.id,null === Q || void 0 === Q?void 0:Q.u.id);}}else this.ug.Dia();};Z.prototype.bZa=function(){var Q,ka;Q=this;ka=this.Va.filter(function(P){return P.u.J !== l.qn;}).map(function(P){return Q.hs.mo(P.u.J).iG;});return new x.gca(function(){ka.forEach(function(P){return P.release();});},this.console).Iu();};Z.prototype.Jf=function(Q){var ka,P,fa;fa=this.SJb();this.Va.reset();if(!Q && (this.ug.Dia(),fa.length))try{for(var ua=k.__values(fa),pa=ua.next();!pa.done;pa=ua.next()){pa.value.C8a();}}catch(Pa){var Ra;Ra={error:Pa};}finally{try{pa && !pa.done && (ka=ua.return) && ka.call(ua);}finally{if(Ra)throw Ra.error;}}this.Jd.Sf();this.Z.reset();this.wm=void 0;this.g2.reset();null === (P=this.IRa) || void 0 === P?void 0:P.clear();this.Sa === d.lm.rm && (this.Sa=d.lm.OPEN);};Z.prototype.XS=function(Q){return this.Va.mp(Q);};Z.prototype.sh=function(Q){this.gf.sh(Q);(0,u.assert)(this.Z.Sq,"Must have an appended branch on underflow");this.Z.MQa && this.gf.vj && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),Q=this.On(this.Nd),this.gf.Dm("complete",Q.bO,Q.cO));this.g2.Jwa(this.Z.Sq,this.Nd);this.sj("onUnderflow");this.events.emit("underflow");};Z.prototype.Xe=function(Q){this.Qv.Xe(Q);};Z.prototype.Ru=function(Q){this.Xe(new A.FKa(Q));return this.qsb(Q);};Z.prototype.qsb=function(Q){var ka;ka=this.Z;if(!this.Z.Lwa(Q))return (this.qf("player in use"),!1);this.Z=Q;this.Jd.cRa(this.Z.qa);this.Z.events.on("segmentPresenting",this.Dv);this.Z.events.on("drmReady",this.kV);this.Z.Yq.addListener(this.WSb);this.events.emit("playerChanged",{type:"playerChanged",old:ka,"new":this.Z});return !0;};Z.prototype.BT=function(Q){var ka,P;ka=Q.offset;P=this.navigator.Pd(Q.I);Q=P.J;ka=P.Ud.add(ka);return {J:Q,yq:ka};};Z.prototype.Xk=function(Q,ka){var P,fa,ua,pa;pa=this.Z.Xk(Q);if(void 0 !== pa)return pa;if(null === (fa=null === (P=this.wm) || void 0 === P?void 0:P.Ip) || void 0 === fa?0:fa.equal(Q))return null !== (ua=this.U0) && void 0 !== ua?ua:this.vh;P=this.Z.Sq;return (0,N.Xk)(Q,{Aa:this,TLb:P && ({id:P.u.id,PZb:P.er})},ka);};Z.prototype.KF=function(Q,ka){void 0 === ka && (ka=!1);Q=this.CT(Q,ka).next();if(!Q.done)return (Q=Q.value,null === Q || void 0 === Q?void 0:Q.Ip);};Z.prototype.CT=function(Q,ka){var P,fa,ua,pa,Ra,Pa,db,wb,nb,Bb,Qa,Za,hb;void 0 === ka && (ka=!1);return k.__generator(this,function(lb){switch(lb.label){case 0:(P=this.Z.CT(Q),fa=P.next(),lb.label=1);case 1:return fa.done?[3,3]:[4,fa.value];case 2:return (lb.Qa(),fa=P.next(),[3,1]);case 3:if(!ka)return [2];ua={};pa=this.Ig;this.Nq && this.Z.Qd && (db=this.Z.Sq) && (pa={offset:h.N.Ia,I:db.u.id},Ra=db.Lb.wa(this.Z.Nd),Pa=db.u);Ra || (Pa=this.navigator.Pd(pa.I),Ra=Pa.Ud.add(pa.offset).wa(Pa.Nf));(0,u.assert)(Pa,"Current segment should be defined by here");wb=this.Nd;if(Pa.u.Ib && Pa.id !== Q.I)return [3,6];if(Pa.id !== Q.I)return [3,5];nb=Q.offset.wa(pa.offset);return [4,{wK:nb,Ip:wb.add(nb)}];case 4:(lb.Qa(),lb.label=5);case 5:return [2];case 6:(Bb=this.navigator.Pd(Pa.u.Ib),Qa=this.navigator.Z1a(Bb),Za=Qa.next(),lb.label=7);case 7:if(Za.done)return [3,11];hb=Za.value;if(ua[hb.id])return [3,11];ua[hb.id]=!0;if(hb.id !== Q.I)return [3,9];nb=Q.offset.add(Ra);return [4,{wK:nb,Ip:wb.add(nb)}];case 8:return (lb.Qa(),[2]);case 9:(Ra=Ra.add(hb.duration),lb.label=10);case 10:return (Za=Qa.next(),[3,7]);case 11:return [2];}});};Z.prototype.H9a=function(Q){return (0,N.Bua)(this.ga,Q);};Z.prototype.wZb=function(Q,ka,P){var fa,ua;fa=(0,N.Bua)(Q,ka);ua=h.N.Ma(1E4);if(!fa || !P || P.greaterThan(ua))return fa;Q=ka.offset.add(h.N.Ma(Q.L[ka.I].ta));P=P.wa(Q);if(P.gi(h.N.Ia))return fa;ua=h.N.max(h.N.Ia,Q.wa(ua)).add(P);if(ua.gi(h.N.Ia))return fa;ua=fa.offset.add(ua);return {I:fa.I,offset:ua};};Z.prototype.Hs=function(Q,ka){var P;Q="string" === typeof Q?{J:this.ga.L[Q].J,yq:h.N.Ma(ka)}:Q;if(Q.J !== l.qn){ka=this.hs.mo(Q.J);try{return null === (P=ka.pa) || void 0 === P?void 0:P.Hs(this.config,Q.yq.G);}finally{ka.iG.release();}}};Z.prototype.I4=function(){return (0,oa.bYa)(this.Va,this.J5.bind(this));};Z.prototype.J5=function(Q){Q=this.Va.L4(Q);return void 0 === Q || Q.Zh && this.J5(Q);};Z.prototype.H4=function(){return this.GR.rB;};Z.prototype.dHb=function(Q){return (0,Ga.$Za)(this.Va,Q);};Z.prototype.On=function(Q){var ka,P,fa;ka=this;this.Va.mF(function(ua){var pa,Ra;pa=ua.$S(g.v.fa);Ra=ua.$S(g.v.X);if(ua.u.gX || !ka.Va.vna(ua) || !ua.Zh){if(!P || pa < P)P=pa;if(!fa || Ra < fa)fa=Ra;}return ua.Zh;});return {bO:P?Math.max(P - Q.G,0):0,cO:fa?Math.max(fa - Q.G,0):0};};Z.prototype.tF=function(){var Q,ka,P,fa;P=this.Oq?this.On(this.Nd):{bO:0,cO:0};fa=G.default.instance().get();return {totalabuflmsecs:P.bO,totalvbuflmsecs:P.cO,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (ka=Number(0 < fa.confidence) && (null === (Q=fa.qb) || void 0 === Q?void 0:Q.Da)) && void 0 !== ka?ka:0};};Z.prototype.sL=function(){var Q,ka,P,fa,ua,pa,Ra,Pa;Q=this;if(this.Rq())return (this.dh.ns({isStreamingFailureReported:!0}),[]);P=this.Va.size;this.dh.ns({branchCount:P});if(!this.Oq || 0 === P)return [];fa=this.Nd;ua=this.Ig;pa=[];P=this.navigator.Pd(this.Ig.I);Ra=P.duration;Pa=this.ug.get(P.id)?1:null !== (ka=P.Sy) && void 0 !== ka?ka:1;ka=this.Va.reduce(function(db,wb,nb){var Bb,Qa,lb,yb,Hb;try{for(var Za=k.__values(wb.G4()),hb=Za.next();!hb.done;hb=Za.next()){lb=hb.value;if(!lb.Vs()){yb=("p").concat(Q.id,"-").concat(nb,"-").concat(null === (Qa=wb.Bb) || void 0 === Qa?void 0:Qa.G);Hb=Q.sJb(lb);db.push(Q.nzb(lb,Hb.G,yb,Ra.G,Pa,fa.G,ua));}!lb.DB() && Q.dh.enabled && pa.push({segmentId:lb.I,isDoneStreaming:lb.Vs(),isNormalized:lb.Ug(),needsHeaderRequest:lb.track.YU});}}catch(Eb){var Jb;Jb={error:Eb};}finally{try{hb && !hb.done && (Bb=Za.return) && Bb.call(Za);}finally{if(Jb)throw Jb.error;}}return db;},[]);this.dh.ns({nonStreamables:pa});return ka;};Z.prototype.sJb=function(Q){var ka;ka=Q.nT();if(this.config.A3 && ka && this.navigator.xKb(ka.yb.u,Q.I))return Q.Jl;for(;ka && !ka.dsa;){Q=ka;ka=ka.nT();}return Q.Jl;};Z.prototype.mIb=function(Q){var ka;if(!Q.yb.Zf){ka=Q.yb.u.u.Ib;if(ka)return (ka=k.__read(this.Va.mp(ka),1)[0],null === ka || void 0 === ka?void 0:ka.CF(Q.mediaType));}};Z.prototype.sTb=function(Q){var ka,P;if(!this.e$.Rq()){ka=void 0;P=this.Z.Ig;P && (ka=this.navigator.Pd(P.I).J);this.qf("BufferingStateTracker: Temporary failure while buffering",ka,"NFErr_MC_StreamingFailure",null === Q || void 0 === Q?void 0:Q.Of,null === Q || void 0 === Q?void 0:Q.$x,null === Q || void 0 === Q?void 0:Q.Mh);}};Z.prototype.qf=function(Q,ka,P,fa,ua,pa,Ra){void 0 === Ra && (Ra=!1);"string" === typeof Q?this.e$.qf(Q,P,{networkErrorCode:fa,httpCode:ua,nativeCode:pa,viewableId:ka,temporaryFailure:Ra}):this.e$.sYb(Q);return !0;};Z.prototype.Rwa=function(Q,ka){ka=this.E4(ka,Q);this.events.emit("logdata",{type:"logdata",target:Q,fields:ka});};Z.prototype.E4=function(Q,ka){void 0 !== Q && this.B6.eOb(Q);ka=this.Qv.Ri(Q,ka);Q === z.qc.Qi && (Q=this.tF(),ka.vbuflmsec=Q.totalvbuflmsecs,ka.abuflmsec=Q.totalabuflmsecs,ka.vbuflbytes=Q.vbuflbytes,ka.abuflbytes=Q.abuflbytes);return ka;};Z.prototype.Icb=function(Q){this.GR=Q;this.sj("updateBudget");};Z.prototype.Rq=function(){return this.e$.Rq();};Z.prototype.cdb=function(Q){Q !== this.weight && (this.DPa=Q,this.events.emit("weightUpdated"));};Z.prototype.Ot=function(Q){var ka,P,fa,ua,pa,Ra,wb,nb,Bb,Qa,Za,hb,lb,yb,Hb,Jb;fa=(0,H.$Ra)(this.ga,Q);ua=fa.dN;pa=fa.$ub;Ra=fa.g4b;if([fa.Oga,ua,pa].every(function(Lb){return !Lb.length;}))return (this.lva(Q),this.Cm.start(),{ia:!0,reason:g.hq.ukb});if(0 === pa.length && 0 === Ra.length && this.Nq && this.Z.Qd)return {ia:!1,reason:g.hq.Ejb};if(this.Z.Va.some(function(Lb){return -1 < ua.indexOf(Lb.u.id);}))return {ia:!1,reason:g.hq.slb};if(this.Oq && !this.Z.Qd && -1 < ua.indexOf(this.vh.I))return {ia:!1,reason:g.hq.Wib};if(this.Oq)try{for(var Pa=k.__values(pa),db=Pa.next();!db.done;db=Pa.next()){wb=db.value;nb=this.ga.L[wb];Bb=nb.ta;Qa=nb.sa;Za=nb.J;hb=Q.L[wb];lb=hb.sa;yb=hb.ta;Hb=hb.J;if(this.Ig.I === wb && lb !== Qa){if(!lb)return {ia:!1,reason:g.hq.tlb};Jb=h.N.Ma(lb - yb);if(null === (P=this.Ig.offset) || void 0 === P?0:P.greaterThan(Jb))return {ia:!1,reason:g.hq.zeb};}if(Bb !== yb)return {ia:!1,reason:g.hq.Fhb};if(Za !== Hb)return {ia:!1,reason:g.hq.Ghb};}}catch(Lb){var Eb;Eb={error:Lb};}finally{try{db && !db.done && (ka=Pa.return) && ka.call(Pa);}finally{if(Eb)throw Eb.error;}}this.lva(Q);this.Cm.start();return {ia:!0,reason:g.hq.tkb};};Z.prototype.eB=function(Q){Q=this.XS(Q);Q=0 < Q.length?Q[0]:void 0;if((Q=null === Q || void 0 === Q?void 0:Q.Ns()) && 0 !== Q.length)return h.N.min.apply(h.N,k.__spreadArray([],k.__read(Q.map(function(ka){return ka.eB();})),!1));};Z.prototype.lva=function(Q){var ka;ka={type:"playgraphUpdating",ASb:this.lj,yRb:Q};this.lj=Q;this.navigator?this.navigator.update(Q):this.navigator=new K.OJa(Q);this.VJb=(0,H.CTa)(this.navigator);this.X4b();this.events.emit("playgraphUpdating",ka);};Z.prototype.X4b=function(){var Q,ka,P,fa,ua;P=this.Z && this.Nq && this.Z.Qd?this.Ig:void 0;if(P){fa=this.navigator.Pd(P.I);P=null === (Q=this.Z.ml) || void 0 === Q?void 0:Q.x3;if((Q=this.Cma(fa)) && Q !== P && this.Z.pp){ua=this.Z.Hy;null === (ka=this.Z.ml) || void 0 === ka?void 0:ka.xH({u:ua.u,get rX() {return ua.$a.wa(ua.u.Ud);}},Q,this.Ig.offset,!0,!1);}}};Z.prototype.pV=function(Q,ka){this.Q8a(Q);Q.QK.addListener("criticalNetworkError",this.K7);Q.QK.addListener("temporaryNetworkError",this.oV);Q.QK.addListener("updatingLastSuccessEvent",this.T7);Q.events.addListener("liveEventTimesUpdated",this.D7);Q.events.addListener("liveLoggingInfoUpdated",this.E7);Q.ha && Q.pWb();this.Sa === d.lm.rm && ka && this.K9a();};Z.prototype.Ira=function(Q){0 === this.Va.filter(function(ka){return ka.Sn && ka.pa === Q;}).length && this.Q8a(Q);};Z.prototype.Q8a=function(Q){Q.QK.removeListener("criticalNetworkError",this.K7);Q.QK.removeListener("temporaryNetworkError",this.oV);Q.QK.removeListener("updatingLastSuccessEvent",this.T7);Q.events.removeListener("liveEventTimesUpdated",this.D7);Q.events.removeListener("liveLoggingInfoUpdated",this.E7);};Z.prototype.QPa=function(Q){var ka;(0,u.assert)(Q.Ug,"expected branch to be normalized on addBranchToPlayer");this.Z.pp || (null === (ka=this.wm) || void 0 === ka?0:ka.Ug) || this.PEb(Q);this.gf.jxa(Q.Wd);this.Z.pp && (ka=this.Z.Sq) && this.ug.clear(ka.u.id);this.Z.Eka(Q);this.g2.Jwa(Q,this.Nd);};Z.prototype.PEb=function(Q){(0,u.assert)(Q.La,"Normalized branch should have a defined content start timestamp");(0,u.assert)(this.wm,"AsePlaygraph should have a seek position on first branch normalization");(0,u.assert)(!this.wm.Ug,"Seek position should not already be normalized on first branch normalization");this.wm=k.__assign(k.__assign({},this.wm),{position:{I:Q.u.id,offset:Q.La.wa(Q.u.Ud)},Ug:!0});this.gf.t_b(this.wm.position,Q.Wd.filter(function(ka){return ka.mediaType === g.v.fa;})[0]);};Z.prototype.Dvb=function(){var Q;this.g2.reset();this.Z.BA();this.wm=void 0;null === (Q=this.IRa) || void 0 === Q?void 0:Q.clear();};Z.prototype.nzb=function(Q,ka,P,fa,ua,pa,Ra){var Pa,db,wb,nb;Pa=this;nb=null !== (wb=null === (db=Q.yb.Bb) || void 0 === db?void 0:db.G) && void 0 !== wb?wb:Q.yb.fy.G;db=Q.CC.G;wb=this.ug.get(Q.I)?1:Q.yb.u.Sy;return {identifier:Q.I,mediaType:Q.mediaType,Yg:Q.Yg,ff:this.ff.value,By:ka,wr:db,Bq:pa,pXa:Q.VK.G,Qsa:Ra.offset.G,Psa:fa,NV:ua,Sy:wb,eF:Q.yb.te.G,Tab:Math.max(db - nb,0),DB:Q.DB(),Vs:Q.Vs(),Pk:Q.Pk,groupId:P,M1a:function(Bb,Qa){Bb=Pa.Rab.Iub(Bb,Q.mediaType,1 > Qa || !Q.yb.Zf && !Pa.J5(Q.yb));1 === Qa && "global" === (0,g.wta)(Bb.reason) && Pa.gf.RSb(Q.mediaType,Pa.On(Pa.Nd));return Bb;},S1a:function(){var Bb,Qa,Za,hb,lb,yb,Hb,Jb,Eb,Lb,Rb,bc,Ib;hb=Q.mediaType;lb=Pa.qna.VZb(Pa.ff.value,Pa.Nd,Q.CC,Q.Sab,Pa.Z.playbackRate,Q,hb === g.v.fa?Pa.Lsb:Pa.Q$,Pa.M1);yb=lb.stream;Hb=lb.MW;Jb=lb.DL;Eb=lb.Bt;Lb=lb.Ev;Rb=lb.reason;bc=lb.rEb;lb=lb.WZb;if(!yb)return {Ih:!1,reason:Rb || "selectLocationsAndStream"};if(Pa.ff.value === g.Wc.rm && Q.yb && Q.yb.pa.Ql && !Q.yb.pa.MU && !Pa.Z.YT(Q.yb.pa.J)){Rb=Q.CC.G - Pa.Nd.G;if(!Q.yb.pa.lp && Rb > Pa.config.G3a)return {Ih:!1,reason:"maxBufferingCompleteBufferInMs"};if(!yb.hi && yb.mediaType === g.v.X && Rb >= Pa.config.aqa)return {Ih:!1,reason:"maxFastPlayBufferInMs"};}Rb=g.v.X;if(null === (Bb=Q.yb) || void 0 === Bb?0:Bb.Wd.every(function(Ob){return Ob.mediaType === g.v.fa;}))Rb=g.v.fa;Pa.gf.vj && hb === Rb && Pa.gf.F_b(Q.fl.YZb,yb.bitrate,Jb);Pa.z_b(Q.yb.u,Hb);Bb=null === (Qa=Q.yb.Br) || void 0 === Qa?void 0:Qa.G;Qa=Q.pcb(yb,Lb,Eb);if(Qa.Ih){Pa.efa && (Pa.AJ("firstDriveStreaming"),Pa.efa=!1);if(0 < Pa.QA){Ib=null === (Za=Q.yb.Br) || void 0 === Za?void 0:Za.G;Bb && Ib && (Pa.QA-=Bb - Ib,0 >= Pa.QA && Pa.K9a());}Pa.events.emit("requestIssued",{type:"requestIssued",mediaType:hb,result:lb,streamList:bc});}else "exceedsLiveEdge" === Qa.reason && (null === (Ib=Pa.Dfa) || void 0 === Ib?void 0:Ib.Pa(),Pa.Dfa=Pa.Wp.HA(v.Pg.NC(yb.Qn().te),function(){Pa.Dfa=void 0;Pa.sj("liveEdgeRetry");}));return Qa;}};};Z.prototype.z_b=function(Q,ka){var P;P=this;ka.forEach(function(fa){fa.pa.y_b(fa,Q,function(){var ua,pa;(0,u.assert)(P.Oq,"Speculative header callback after streaming is cancelled");ua=P.Nd.G;pa=ua + P.config.c7;return {Yg:[],ff:P.gf.state.value,By:pa,wr:pa,Bq:ua};});});};Z.prototype.K9a=function(){var Q;Q=this;this.Cm.T$(cb.iD.vw,function(){return Q.Cm.start();});};Z.prototype.P8=function(){var Q,ka,P,fa,ua;Q=this;if(this.Sa === d.lm.rm){ka=this.Ig;P=this.Z.Va;fa=this.Va.JJb();ua=k.__read(P,1)[0];ka=ua?this.navigator.Pd(ua.u.id):this.navigator.Pd(ka.I);P=P.map(function(pa){return {id:pa.u.id,duration:pa.Lb.wa(pa.Bb).G};});fa=(0,O.P8)(this.console,this.VJb,ka,fa,this.ug,P,h.N.Ma(this.config.utb),this.config.Dqa,h.N.Ma(this.config.Mha));P=fa.eua;this.QA=fa.QA || 0;fa=this.Mka.reduce(function(pa,Ra){return Ra(pa);},P);this.Va.u4b(fa,function(pa,Ra){var Pa,db;db=Q.navigator.Pd(pa);pa=pa === Q.vh.I?Q.vh.offset:pa === (null === (Pa=Q.U0) || void 0 === Pa?void 0:Pa.I)?Q.U0.offset:h.N.Ia;Pa=db.Ud.add(pa);return Q.S3b(db,Pa,Ra);}).dN.forEach(function(pa){pa.Jf("aborted");});this.y8a();this.xSa();this.Cm.T$(cb.iD.vw,function(){var pa;(null === (pa=Q.Va.root()) || void 0 === pa?0:pa.Sn) && Q.sj("reevaluateBranches");Q.Cm.QU(cb.iD.NP);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};Z.prototype.SJb=function(){return (0,w.sR)(this.Va.filter(function(Q){return Q.Sn;}).map(function(Q){return Q.pa;}));};Z.prototype.y8a=function(){var Q,ka;Q=this;if(this.Sa === d.lm.rm){if(!this.Z.Sq){ka=k.__read(this.Va.mp(this.vh.I),1)[0];(null === ka || void 0 === ka?0:ka.Ug) && this.QPa(ka);}if(this.Z.Sq)for(;;){ka=this.RYa(this.Z.Sq.u);if(!ka)break;ka=k.__read(this.Va.mp(ka).filter(function(P){return P.parent === Q.Z.Sq;}),1)[0];if(!ka)break;if(null === ka || void 0 === ka || !ka.Ug)break;else if(this.Z.w_a(ka))break;this.QPa(ka);}}};Z.prototype.Cma=function(Q){var ka,P,fa,ua;if(this.Z.pp){ka=this.Z.Hy;P=!1;fa=this.Z.Va.filter(function(pa){P || (P=pa === ka);return P;});ua=(0,w.ps)(fa,function(pa){return pa.u.id === Q.id;});if(fa=fa[ua + 1])return fa.u.id;}return this.RYa(Q);};Z.prototype.RYa=function(Q){var ka;ka=this.ug.get(Q.id);if(void 0 !== ka)return ka;Q=this.navigator.WGb(Q);if(1 === Q.length)return Q[0].id;};Z.prototype.xSa=function(){var Q;Q=this.Va.empty || 0 !== this.XFb();Q || this.d$?Q && this.d$ && (this.d$=!1):(this.gf.vj && (Q=this.On(this.Nd),this.gf.Dm("complete",Q.bO,Q.cO)),this.vob(),this.d$=!0);};Z.prototype.XFb=function(){return this.Va.filter(function(Q){return !Q.Zh;}).length;};Z.prototype.ZD=function(Q){this.J5(Q) && this.gf.wia(this.Nd,this.Z.playbackRate,Q,{uia:this.qna.uia.bind(this.qna,this.Rab)});};Z.prototype.HSb=function(Q,ka){var P,fa;P=this;if(ka.didNormalizeSegment){fa=ea.eLa.RJb(Q);(0,u.assert)(fa,"Segment should be normalized");Promise.resolve().then(function(){return P.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Q.u.id,normalizedStart:ka.segmentContentStart,normalizedEnd:ka.branchContentEnd,viewableContentEnd:fa.Odb,viewableEarliestContentEnd:fa.Pdb,media:c(Q.Wd)});});}Promise.resolve().then(function(){P.y8a();});this.sj("branchNormalized");};Z.prototype.ISb=function(){this.xSa();};Z.prototype.GSb=function(){this.Cm.start();};Z.prototype.zzb=function(Q,ka){var P;P=this;return new n.Eza(Q.J,this.hs.mo.bind(this.hs),function(fa,ua,pa){P.state !== d.lm.CLOSED && (P.pV(ua,pa),P.Cm.T$(cb.iD.NP,function(){fa.Zf || P.uob(fa,ua,ka);}));},this.Ira.bind(this));};Z.prototype.S3b=function(Q,ka,P){var fa,ua;if(this.Avb(Q,ka))throw Error("Not implemented");fa=this.zzb(Q,!P);ua=P?P.Lb.wa(ka):this.G0a || h.N.Ia;Q=(0,m.BTa)({config:this.config,console:this.console,u:Q,events:this.events,nH:this.nH,Vm:ka,se:ua,Ks:this.Kzb.bind(this),ff:this.ff,Jd:this.Jd,cI:fa,MRa:this.wl,Fsa:this.Va});this.Y1b(Q,!!P);return Q;};Z.prototype.Kzb=function(){return this.Nd.G;};Z.prototype.Y1b=function(Q,ka){var P,fa;P=this;fa=new f.Re();fa.addListener(Q.events,"needsRequest",function(){var ua;ua=P.Va.root();ua && !ua.Sn || P.sj("branchNeedsHeader");});fa.addListener(Q.events,"branchNormalized",this.HSb.bind(this,Q));fa.addListener(Q.events,"lastRequestIssued",this.GSb.bind(this,Q));fa.addListener(Q.events,"branchStreamingComplete",this.ISb.bind(this,Q));fa.addListener(Q.events,"checkBufferingProgress",this.ZD.bind(this,Q));fa.addListener(Q.events,"branchDestroyed",function(ua){fa.clear();P.Va.contains(Q) && (P.Va.bYb(Q),P.Cm.start());"aborted" === ua.reason && (P.Z.w_a(Q) || P.Cm.T$(cb.iD.vw,function(){return P.tob(Q.u.id);}));});ka || (this.AJ("createDlTracksStart"),Q.events.once("requestQueuesCreated",function(){P.AJ("createDlTracksEnd");}));};Z.prototype.zIb=function(Q){if(this.Z.Qd)return this.Z.Hy.bf(Q);};Z.prototype.nH=function(Q,ka,P,fa){ka=[[g.v.fa,null !== ka && void 0 !== ka?ka:this.xE,"audio_tracks"],[g.v.X,null !== P && void 0 !== P?P:this.MX,"video_tracks"]].map(function(ua){var pa,Ra;pa=k.__read(ua,3);Ra=pa[0];ua=pa[1];pa=pa[2];if(Q.W && ((0,u.assert)(ua,("Expected mediaType ").concat(Ra," track selector to be defined")),Ra=Q.W[pa],ua=ua.wN(Q.W,Ra),void 0 !== ua))return Q.getTrackById(Ra[ua].fO);}).filter(w.z7);P=fa || this.RN;Q.W && P && (fa=Q.W.timedtexttracks,P=P.wN(Q.W,fa),void 0 !== P && 0 <= P && (fa=Q.getTrackById(fa[P].id)) && ka.push(fa));return ka;};Z.prototype.D7=function(Q){var ka,P,fa,ua;ka=this;P=Q.pa;fa=Q.startTime;ua=Q.endTime;this.Va.filter(function(pa){return pa.Sn && pa.pa === P;}).forEach(function(pa){pa={type:"liveEventTimesUpdated",I:pa.u.id,startTime:fa,endTime:ua};ka.events.emit(pa.type,pa);});};Z.prototype.E7=function(Q){var ka,P,fa,ua;ka=this;P=Q.pa;fa=Q.mediaType;ua=Q.info;this.Va.filter(function(pa){return pa.Sn && pa.pa === P;}).forEach(function(pa){pa={type:"liveLoggingInfoUpdated",I:pa.u.id,mediaType:fa,info:ua};ka.events.emit(pa.type,pa);});};Z.prototype.uob=function(Q,ka,P){(0,u.assert)(Q.Wd.length,"Branch should have tracks defined");Q={type:"segmentStarting",segmentId:Q.u.id,contentOffset:Q.se.G,maxBitrates:{audio:ka.aM[g.v.fa],video:ka.aM[g.v.X]},media:c(Q.Wd),initial:P};this.events.emit(Q.type,Q);};Z.prototype.tob=function(Q){Q={type:"segmentAborted",segmentId:Q};this.events.emit(Q.type,Q);};Z.prototype.vob=function(){var Q;Q={type:"streamerEnd",time:q.default.time.Ga()};this.events.emit(Q.type,Q);};Z.prototype.AJ=function(Q){Q={type:"startEvent",event:Q,time:q.default.time.Ga()};this.events.emit(Q.type,Q);};k.__decorate([U.return.rh()],Z.prototype,"vh",null);k.__decorate([(0,F.Rb)({methodName:"checkCanSetTracks",return:!0})],Z.prototype,"cvb",null);k.__decorate([(0,F.Rb)({methodName:"setTracks",return:!0})],Z.prototype,"Wy",null);k.__decorate([(0,F.Rb)({methodName:"setNextSegment",rq:!0})],Z.prototype,"Kj",null);k.__decorate([(0,F.Rb)({methodName:"seekStreaming"}),k.__param(0,U.rh())],Z.prototype,"vC",null);k.__decorate([(0,F.Rb)({methodName:"seekStreamingWithEntryPoint"}),k.__param(0,U.rh()),k.__param(2,U.rh()),k.__param(2,U.F7)],Z.prototype,"s9",null);k.__decorate([U.return.FTa(),k.__param(0,U.rh())],Z.prototype,"BT",null);k.__decorate([U.return.rh()],Z.prototype,"Xk",null);k.__decorate([k.__param(0,U.rh())],Z.prototype,"KF",null);k.__decorate([k.__param(0,U.rh())],Z.prototype,"CT",null);k.__decorate([U.return.rh(),k.__param(0,U.rh())],Z.prototype,"H9a",null);k.__decorate([k.__param(0,U.FTa()),k.__param(0,U.I())],Z.prototype,"Hs",null);k.__decorate([(0,F.Rb)({methodName:"getStreamables",bk:!0})],Z.prototype,"sL",null);k.__decorate([(0,F.Rb)({methodName:"updatePlaygraphMap",return:!0})],Z.prototype,"Ot",null);return Z;})();b.xaa=r;},82800:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Zxa=void 0;c=a(70655);k=a(28075);f=a(47571);l=c.__importDefault(a(29736));d=a(74005);g=a(4145);n=a(18934);h=a(50971);m=a(26732);p=a(95994);q=(function(){function u(t,w){this.J=t;this.Oc=w;this.hW=!1;this.p1=new m.AbortController();}u.isEqual=function(t,w){return w.J === t.J && w.Oc === t.Oc;};return u;})();r=(function(){function u(t,w,v,y,x,z){var A;A=this;this.hs=t;this.Aa=v;this.$db=y;this.config=x;this.console=z;this.items=[];this.events=new k.EventEmitter();w.events.addListener("adBreakComplete",function(){A.Mbb=A.$db.qa.currentTime;});this.console=(0,d.Kh)(l.default,z,"AdBreakHydrator");}u.prototype.CZb=function(t){c.__awaiter(this,void 0,void 0,function(){var w,v,y,x,z;z=this;return c.__generator(this,function(A){switch(A.label){case 0:w=t.map(function(B){return new q(B.J,B.Oc);});v=(0,g.eTa)(this.items,w,q.isEqual);this.items=v.result;v.Kta.forEach(function(B){var C;null === (C=B.p1) || void 0 === C?void 0:C.abort();});p.K && this.console.log("Evaluated schedule",{ibc:v.frb.length,Kta:v.Kta.length,x7a:v.x7a.length,Pec:v.result.length});y=this.items.filter(function(B){return !B.hW;}).map(function(B){return z.Hj(B);});if(!(0,f.Un)(this.Aa.ff.value))return [3,5];x=this.items.map(function(B){return z.hs.mo(B.J).iG;});A.label=1;case 1:return (A.Oj.push([1,,3,4]),[4,Promise.race(y)]);case 2:return (A.Qa(),[3,4]);case 3:return (x.forEach(function(B){return B.release();}),[7]);case 4:return [3,7];case 5:return [4,Promise.all(y)];case 6:(A.Qa(),A.label=7);case 7:return [2];}});});};u.prototype.Hj=function(t){var w;return c.__awaiter(this,void 0,void 0,function(){var v,y,x,z,A;return c.__generator(this,function(B){switch(B.label){case 0:(p.K && this.console.log("Start scheduling for adbreak",{Pgc:t.J,Bbc:t.Oc.oj}),null === (w=t.p1) || void 0 === w?void 0:w.abort(),v=new m.AbortController(),t.p1=v,y=(0,n.Fx)(this.Aa.ga,t.J,d.N.Ma(t.Oc.jk)),x=(0,m.kha)(v.signal),B.label=1);case 1:return (B.Oj.push([1,,5,6]),[4,Promise.race([this.Bra(v.signal).then(function(){return "rebuffer";}),Promise.all([this.b6b(x),this.d6b(y,x)]).then(function(){return "gatesPassed";}),x.then(function(){return "cleanup";})])]);case 2:z=B.Qa();p.K && this.console.log("Schedule completed for reason",z);if(v.aborted)return [3,4];p.K && this.console.log("Making Item Fetch",{Cbc:t.Oc.oj,jk:t.Oc.jk});t.hW=!0;return [4,this.TWb(t.Oc.jq.Ji,t.J,v.signal)];case 3:(B.Qa(),B.label=4);case 4:return [3,6];case 5:return (t.p1 === v && (A=this.items.indexOf(t),-1 !== A && (p.K && this.console.log(("Removing item ").concat(A,", ").concat(this.items.length - 1," left")),this.items.splice(A,1))),[7]);case 6:return [2];}});});};u.prototype.Bra=function(t){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,d.Jw.j6b([this.Aa.ff],function(w){w=c.__read(w,1)[0];return (0,f.Un)(w);},t)];});});};u.prototype.b6b=function(t){var w;w=this;return this.Mbb && this.config.d0a?new Promise(function(v){var y,x;y=w.Mbb.add(d.N.Ma(w.config.d0a));x=w.$db.HA(h.Pg.Qt(y),v,"hydratorWaitTask");t.then(function(){return x.Pa();});}):Promise.resolve();};u.prototype.d6b=function(t,w){var v,y;v=this;if(!this.config.S3a)return Promise.resolve();y=d.N.Ma(this.config.S3a);return new Promise(function(x){var z,A;z=v.Aa.KF(t,!0);A=v.Aa.Jd.HA(h.Pg.Qt(z.wa(y)),x,"waitJitHydrateAdBreak");w.then(function(){return A.Pa();});});};u.prototype.TWb=function(t,w,v){var y;return c.__awaiter(this,void 0,void 0,function(){var x,z,A,B,C,D;return c.__generator(this,function(F){switch(F.label){case 0:(x=this.hs.mo(w),z=x.iG,F.label=1);case 1:return (F.Oj.push([1,4,5,6]),[4,x.jz]);case 2:return (F.Qa(),[4,this.hs.Sv({Ji:t,J:w})]);case 3:return (A=F.Qa(),v.aborted || (B=A.r1,C=A.oha,p.K && this.console.log("Hydrated response " + ("with ").concat(null === (y=A.r1.Ye) || void 0 === y?void 0:y.length," ads")),this.events.emit("adBreakHydrated",{type:"adBreakHydrated",Ji:t,r1:B,oha:C})),[3,6]);case 4:return (D=F.Qa(),v.aborted || this.events.emit("adBreakHydrationFailed",{type:"adBreakHydrationFailed",Ji:t,error:D}),[3,6]);case 5:return (z.release(),[7]);case 6:return [2];}});});};return u;})();b.Zxa=r;},98875:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$xa=void 0;c=a(70655);k=c.__importDefault(a(29736));f=a(26888);r=(function(){function l(d,g,n,h,m){this.Aa=d;this.Jd=g;this.events=n;this.Oc=h;this.console=m;this.Uo=0;h.Y1 && k.default.ping && k.default.ping(h.Y1);}Object.defineProperties(l.prototype,{Zwa:{get:function(){return this.Uo;},enumerable:!1,configurable:!0}});l.prototype.mra=function(d,g,n,h,m){this.Ku && (this.Ku.Pa(),this.Ku=void 0);this.Ku=new f.sLa(this.Aa,this.Jd,this.events,this.Oc,d,g,n,h,m,this.console);};l.prototype.I7=function(d){this.Ku && (this.Ku.Pa(),this.Ku=void 0);try{this.events.emit("adBreakEvent",c.__assign(c.__assign({type:"adBreakEvent"},this.Oc.qga.complete),{rh:d,pE:this.Oc.Lt,oj:this.Oc.oj}));this.Oc.Bna=!0;}catch(g){this.console.error("Impression error event",g);this.Uo++;}};l.prototype.gv=function(){var d;return {ad:null === (d=this.Ku) || void 0 === d?void 0:d.gv(),errors:this.Uo};};return l;})();b.$xa=r;},87982:function(r,b,a){var k,f,l,d,g,n,h,m;function c(p){return null === p || void 0 === p?void 0:p.ce.map(function(q){return q.Ye;}).map(function(q){return null === q || void 0 === q?void 0:q.map(function(u){return u.id;});}).reduce(function(q,u){return null === u || void 0 === u?void 0:u.concat(q);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.aya=void 0;k=a(70655);f=a(28075);l=a(41427);d=a(95994);g=a(44724);n=a(4145);h=a(54533);m=a(3839);r=(function(){function p(q,u,t,w){this.config=q;this.console=u;this.Ta=t;this.Kc=w;this.Lu={};this.m6=!1;this.events=new f.EventEmitter();this.Ta.Cqb(this.wDb.bind(this));}Object.defineProperties(p.prototype,{aMb:{get:function(){return this.Ta.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ce:{get:function(){return this.qq.fR;},enumerable:!1,configurable:!0}});p.prototype.va=function(q,u,t){this.qq=new h.sya(q,u);this.hR=new m.pya(this.qq,this.console,this.Ta,this.Kc);this.eR=t;};p.prototype.vL=function(){var q;q=this;return !!(0,n.yc)(Object.keys(this.ce),function(u){return 0 < q.ce[u].length;});};p.prototype.R7=function(q){var u,t,w;u=this.Kc.Tg;(0,g.assert)(u,"Could not get graph location service");if(0 < this.qq.lxa){t=this.GA(this.Kc.ga);u=u.Adb(this.Kc.ga,t);this.qq.reset();}w=this.hR.NQa(q,u,t);q=w.vh;u=w.WA;this.s2a=w.r8;d.K && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(q)));w=(null !== t && void 0 !== t?t:this.Ta.ga).L[q.I];this.m6=!!w.type && -1 < ["ad","padding"].indexOf(w.type);return {vh:q,WA:u,t7:t};};p.prototype.pV=function(q,u){var t,w;t=this.TXa(q);w=this.Lu[q.O];this.Lu[q.O]=t;if(w=w !== t && (null === w || void 0 === w?void 0:w.ce.length) !== (null === t || void 0 === t?void 0:t.ce.length)){if(null === t || void 0 === t?0:t.ce)(this.qq.p_b(q.O,t.ce),this.hR.F$a(),d.K && this.console.trace("Received ad metadata for",{pa:q.O,uqb:c(t)}));if(u && this.G_a(u)){if(this.Z$a(u))return k.__assign({uQa:w},this.Scb(u,"viewableReceived"));d.K && this.console.trace(("ads::onViewableReceived: should NOT consider preroll on seek:\n                        seekPosition (unchanged): ").concat(u,",\n                        didAppendData: ").concat(this.Ta.pJ,",\n                        enablePrerollForInitialSeek ").concat(this.Ta.config.C3));}}return {uQa:w,mxa:u};};p.prototype.lra=function(q,u,t){var w;w=this.TXa(q);(0,g.assert)(w,("adMetadata for viewable ").concat(q.J," should exist if an adBreak hydration was requested"));this.Lu[q.O]=w;this.qq.lra(q.O,u);this.hR.F$a();d.K && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{pa:q.O,uqb:c(w)});if(t)return this.Scb(t,"adBreakHydration");};p.prototype.fNb=function(){return !this.Ta.Z.pp && this.Ta.vj;};p.prototype.Scb=function(q,u){var t,w,v,y,x;d.K && this.console.trace(("ads::updatePendingSeekPosition: ").concat(JSON.stringify(q)));t=this.Kc.Tg;(0,g.assert)(t,"Could not get graph location service");w=this.GA(this.Kc.ga);t=t.Adb(this.Kc.ga,w);v=this.hR.NQa(q,t,w);y=v.vh;v=v.WA;this.m6=!1;x=w.L[y.I];x || (x=this.Ta.ga.L[y.I]);this.m6=!!x.type && -1 < ["ad","padding"].indexOf(x.type);t=null === t || void 0 === t?void 0:t.Mt(y);d.K && this.console.trace(("ads::updatePendingSeekPosition: should consider preroll on seek:\n            original seekPosition: ").concat(q,",\n            updated seekPosition: ").concat(t,",\n            entryPoint: ").concat(JSON.stringify(v),",\n            didAppendData: ").concat(this.Ta.pJ,",\n            enablePrerollForInitialSeek ").concat(this.Ta.config.C3,",\n            reason: ").concat(u));return {mxa:t,WA:v,t7:w};};p.prototype.GA=function(q){var u,t,w;u=this;t=q;w=Object.keys(q.L).map(function(v){return ("").concat(q.L[v].J);});Object.keys(this.Lu).forEach(function(v){var y,x;if(-1 !== w.indexOf(v)){y=u.Lu[v];if(y){x=y.ce.map(function(z,A){z=u.ce[v][A];return z.Mq || z.Ye.reduce(function(B,C,D){return C.$T?k.__spreadArray(k.__spreadArray([],k.__read(B),!1),[D],!1):B;},[]);});y=(0,l.OTa)(parseInt(v),y,x,u.config.Tra);t=(0,l.qqa)(t,y);}}});return t;};p.prototype.G_a=function(q){return !!this.Lu[this.Kc.ga.L[q.I].J];};p.prototype.TXa=function(q){if(q.Am && (q=q.Am,q.ce.length))return q;};p.prototype.jka=function(q){this.qq.jka(q);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:q});};p.prototype.zva=function(q,u,t){var w;return this.hR.zva(q,u,t,null === (w=this.aMb) || void 0 === w?void 0:w.ve);};p.prototype.wDb=function(q){var u,t,w,v,y;u=this;if(!this.vL())return q;t=!0;w=[];v=[];q.mF(function(x,z){var A,B,C,D;if(!(z || !x.u.s1a || u.fNb() && u.Z$a(u.Ta.vh)))return (u.console.trace("Hydration: Not checking root segment"),!0);B=u.Ta.bMb.ga.L[x.u.id];(0,g.assert)(B,"Hydration: Segment must be present in innermost playgraph");C=B.J;if(B.type && -1 < ["ad","padding"].indexOf(B.type))t=!1;else if(B.Qb){D=u.Ta.ga.L[B.Qb];D && D.J !== B.J && (u.console.trace("Hydration: segment evaluated is a custom ident, get viewableId from equivalent segment. " + ("custom ident viewableId: ").concat(B.J,", ") + ("main content viewableId: ").concat(D.J)),C=D.J);}if((B=u.qq.$Fb(C,B.ta)) && !B.Mq)if(B.gSa && !B.wg){if((D=null === (A=null === z || void 0 === z?void 0:z.yb) || void 0 === A?void 0:A.duration,u.m6 && D && 5E3 > D))u.console.trace("Hydration: Skipping unhydrated ad break too close to previous");else {w.push(x);if(t && 0 === v.length || y === z)(v.push({J:C,Oc:B}),y=z);return !1;}}else t=!1;return !0;});w.forEach(function(x){return q.remove(x);});this.eR.CZb(v);return q;};p.prototype.Z$a=function(q){var u,t,w;t=this.Ta.pJ;(w=0 === q.offset.G) || (t?(t=this.s2a,w=null === (u=this.Ta.Z.AF()) || void 0 === u?void 0:u.u.id,q=t && t.HFb === w && t.to.I === q.I && t.to.offset.G === q.offset.G?this.s2a.qKb:!0):q=this.Ta.config.C3,w=q);return w;};return p;})();b.aya=r;},84630:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bya=void 0;c=a(4145);r=(function(){function k(f,l){this.ls=f;this.ef=l;}k.prototype.sna=function(f){var l;l=this;return this.ls.Z.Va.some(function(d){return d.u.u.J === f && d.CQa;})?!1:(0,c.yc)(Object.keys(this.ef.Lu),function(d){if(d=l.ef.Lu[d])return (0,c.yc)(d.ce,function(g){return g.Ye && (0,c.yc)(g.Ye,function(n){return n.id === f;});});})?(this.ef.jka(f),!0):!1;};return k;})();b.bya=r;},57389:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.dya=void 0;c=a(28075);k=a(19829);r=(function(){function f(l,d,g){var n;n=this;this.ef=d;this.Ko=new c.Re();this.xp="adHydratorAudit";this.pd="adHydratorAuditor";this.enabled=!0;this.Ko.on(l.events,"adBreakPresenting",function(h){n.state.NPa.push(h.presentingInfo.Oc.OJ.i_b);});this.Ko.on(g.events,"adBreakHydrated",function(){n.state.LPa++;});this.Ko.on(g.events,"adBreakHydrationFailed",function(){n.state.KPa++;});this.state={LPa:0,KPa:0,NPa:[]};}f.prototype.Ri=function(l){l=l.Ti;if(this.ef.vL() && l === k.qc.Qi)return {adBreaksPresentedSequence:this.state.NPa,adBreaksHydratedCount:this.state.LPa,adBreaksFailedHydratedCount:this.state.KPa};};f.prototype.Pa=function(){this.Ko.clear();};return f;})();b.dya=r;},40588:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.eya=void 0;c=a(28075);k=a(19829);r=(function(){function f(l,d,g){var h;function n(m){var p,q;(p=h.state.tga)[q=m.event] || (p[q]=0);h.state.tga[m.event]++;}h=this;this.ef=d;this.Tna=g;this.Ko=new c.Re();this.xp="adImpressionAudit";this.pd="adImpressionAuditor";this.enabled=!0;this.Ko.on(l.events,"adPresenting",function(){return h.state.vQa++;});this.Ko.on(l.events,"adBreakPresenting",function(){return h.state.MPa++;});this.Ko.on(g.events,"adEvent",n);this.Ko.on(g.events,"adBreakEvent",n);this.state={MPa:0,tga:{},vQa:0};}f.prototype.Ri=function(l){l=l.Ti;if(this.ef.vL() && l === k.qc.Qi)return {presented:{breaks:this.state.MPa,ads:this.state.vQa},events:this.state.tga,logger:this.Tna.gv()};};f.prototype.Pa=function(){this.Ko.clear();};return f;})();b.eya=r;},30327:function(r,b,a){var c,k,f,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.hya=void 0;r=a(70655);c=a(28075);k=r.__importDefault(a(29736));f=a(74005);l=a(44724);d=a(95994);g=a(98875);a=(function(){function n(h,m,p,q){this.Ta=m;this.Jd=p;this.Uo=0;this.events=new c.EventEmitter();this.console=(0,f.Kh)(k.default,q,"IMPRESSION");h.events.addListener("adBreakPresenting",this.J7.bind(this));h.events.addListener("adBreakComplete",this.I7.bind(this));h.events.addListener("adPresenting",this.mra.bind(this));}Object.defineProperties(n.prototype,{MT:{get:function(){return !!this.Al;},enumerable:!1,configurable:!0}});n.prototype.J7=function(h){this.Al && (d.K && this.console.warn("Unexpected back-to-back ad breaks"),this.Al.I7(h.Pm.position),this.Uo+=this.Al.Zwa,this.Al=void 0);(0,l.assert)(h.Pm.Oc,"Ad break must be defined for ad break presenting");this.Al=new g.$xa(this.Ta,this.Jd,this.events,h.Pm.Oc,this.console);};n.prototype.I7=function(h){var m,p,q;q=h.Pm.Oc || (null === (m=this.Al) || void 0 === m?void 0:m.Oc);d.K && this.console.trace(("adBreakComplete event, ").concat(this.Al?"have":"no"," impression logger, ") + (q?("ad break ").concat(q.oj," is ") + ("").concat(q.Ye.length?"not ":"","empty, ") + ("has ").concat(q.Mq?"":"not ","played"):"no ad break"));if(0 === (null === (p=h.Pm.Oc) || void 0 === p?void 0:p.Ye.length))((0,l.assert)(!this.Al,"Received ad break complete for empty ad break during ad break"),h.Pm.Oc.O_b(),this.J7(h));else if(!this.Al)return;this.Al.I7(h.Pm.position);this.Uo+=this.Al.Zwa;this.Al=void 0;};n.prototype.mra=function(h){var m,p,q;(0,l.assert)(this.Al,"Expect to be in ad break when ad presenting is received");(0,l.assert)(this.Al.Oc === h.Pm.Oc,"Expect to be in correct ad break when ad presenting is received");p=this.Ta.XS(h.Pm.position.I)[0];q=h.Pm.Ip;this.Al.mra(h.Pm.df,null === p || void 0 === p?void 0:p.pa,h.Pm.position.I,q,null !== (m=null === p || void 0 === p?void 0:p.Bb) && void 0 !== m?m:q);};n.prototype.gv=function(){var h;return {"break":null === (h=this.Al) || void 0 === h?void 0:h.gv(),errors:this.Uo};};return n;})();b.hya=a;},40612:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.iya=void 0;c=a(87982);k=a(96349);f=a(89025);l=a(30327);d=a(84630);g=a(40588);n=a(82800);h=a(57389);r=(function(){function m(p,q,u,t,w,v){this.t1=v;this.lNa=new c.aya(q,p,u,t);this.Tob=new k.qya(u,t,this.ef);this.aE=new f.vJa(this,u,p);this.qfa=new l.hya(this.aE,u,u.Jd,p);this.kNa=new n.Zxa(w,this.aE,t,t.Wp,q,p);u.Qv.Xe(new g.eya(this.aE,this.ef,this.qfa));u.Qv.Xe(new h.dya(this.aE,this.ef,this.kNa));this.lNa.va(this.qfa.events,this.aE.events,this.eR);this.omb=new d.bya(u,this.ef);}Object.defineProperties(m.prototype,{ef:{get:function(){return this.lNa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{LM:{get:function(){return this.Tob;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{X6a:{get:function(){return this.aE;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Tna:{get:function(){return this.qfa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sqb:{get:function(){return this.omb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{eR:{get:function(){return this.kNa;},enumerable:!1,configurable:!0}});m.prototype.bi=function(p){return this.aE.bi(p);};return m;})();b.iya=r;},48487:function(r,b,a){var c,k,f,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.VR=void 0;c=a(70655);k=a(35340);f=a(81253);l=a(35490);d=a(43221);g=a(64525);b.VR=function(n,h,m){var p,q,u,t,w;p=c.__assign({Gba:f.Fba},n).Gba;q=h.HV[5];u=(0,l.Cra)(function(){return w;});q.XPa(u.mo);n=new k.Oca();t={Tg:void 0,Kc:void 0,Ta:void 0,qoa:n,C2a:"ads"};t.Tg=new p(function(){return t.Kc.ga;},n,h.HV[2],"Ads:");w=new g.nya(t,u.abb,d.Hv.sua.oN,q);p=h.Zga;h.Zga=c.__spreadArray(c.__spreadArray([],c.__read(p),!1),[w],!1);t.Ta=m(h);t.Kc=d.Hv.gta(t.Ta,w,function(){return t;},p);w.va();n.va(t.Ta);n.O8();return t.Kc;};},64525:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.nya=void 0;c=a(70655);k=a(28075);f=a(95994);l=a(15876);d=a(74573);g=a(44724);r=a(11064);n=a(89098);h=a(40612);a=(function(m){function p(q,u,t,w){q=m.call(this,q,u,t,"AdsPlaygraphHost",!1) || this;q.hs=w;q.bJ=void 0;q.ysa=new k.Re();q.a3a=new n.Nda();q.t1=new k.EventEmitter();return q;}c.__extends(p,m);Object.defineProperties(p.prototype,{Kc:{get:function(){return this.Zk.Kc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ls:{get:function(){var q;q=this.GA(this.Kc.ga);if(q !== this.Kc.ga)return q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bd:{get:function(){return this.bJ;},enumerable:!1,configurable:!0}});p.prototype.va=function(){var q;q=this;m.prototype.va.call(this);this.Zk.Ta.Xe(new l.oya(this.Zk));this.bJ=new h.iya(this.V,this.Y,this.Ta,this.Kc,this.hs,this.t1);this.Zk.Ta.bd=this.bJ;this.bd.eR.events.on("adBreakHydrated",function(u){return q.B7a(u);});this.bd.eR.events.on("adBreakHydrationFailed",function(u){return q.qf(u.error);});};p.prototype.mC=function(q){var u,t,w,v,y;w=m.prototype.mC.call(this,q);if(w){(0,g.assert)(this.bd,"missing manager");q=this.bd.ef.pV(q,null === (u=this.yL) || void 0 === u?void 0:u.vh);u=q.mxa;v=q.WA;y=q.t7;q.uQa && this.PV(y,u,null === (t=this.yL) || void 0 === t?void 0:t.Ip,v);}return w;};p.prototype.B7a=function(q){var u,t,w;w=q.oha;q=w.eLb(q.r1,q.Ji);(0,g.assert)(this.bd,"missing manager");q && ((w=this.bd.ef.lra(w,q,null === (u=this.yL) || void 0 === u?void 0:u.vh))?(u=w.WA,this.PV(w.t7,w.mxa,null === (t=this.yL) || void 0 === t?void 0:t.Ip,u)):this.PV());};p.prototype.qf=function(q,u,t,w,v,y,x){var z,A;void 0 === x && (x=!1);z=!1;A=!1;u && !x && (z=this.bd.sqb.sna(u));z?this.PV():A=this.Zk.Ta.qf(q,u,t,w,v,y,x);return A;};p.prototype.vC=function(q,u){var t,w,v,y,x;t=this;this.pva(q,u);w=this.Kc.Jd.qa;this.ysa.clear();this.ysa.addListener(w,"stopStart",function(){w.ii && (t.yL=void 0,t.ysa.clear());});if(this.bd.ef.G_a(q)){f.K && this.V.trace(("ads::seekStreaming: ").concat(JSON.stringify(q)));v=this.bd.ef.R7(q);y=v.vh;x=v.WA;if(v=v.t7)(f.K && this.V.trace("ads::seekStreaming: ads playgraph was updated"),this.PV(v,q,u));f.K && this.V.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(y),", ") + ("playerTimestamp: ").concat(u,", ") + ("entryPoint: ").concat(JSON.stringify(x)));this.Ta.s9(y,u,x);}else this.Ta.vC(q,u);};p.prototype.PV=function(q,u,t,w){var v;v=this;this.a3a.aha || this.a3a.feb(function(){v.Cta(q,v.Kc.ga,u,t,w);v.t1.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};p.prototype.GA=function(q){return this.bd.ef.GA(q);};p.prototype.Jf=function(q){m.prototype.Jf.call(this,q);this.yL=void 0;};p.prototype.pva=function(q,u){this.yL={vh:q,Ip:u};};c.__decorate([(0,d.Rb)({methodName:"ads::processViewableResponse"})],p.prototype,"mC",null);c.__decorate([(0,d.Rb)({methodName:"ads::processAdBreakHydrationResponse"})],p.prototype,"B7a",null);c.__decorate([(0,d.Rb)({methodName:"ads::reportStreamingFailure"})],p.prototype,"qf",null);c.__decorate([(0,d.Rb)({methodName:"ads::seekStreaming"})],p.prototype,"vC",null);c.__decorate([(0,d.Rb)({methodName:"ads::cancelStreaming"})],p.prototype,"Jf",null);return p;})(r.Ada);b.nya=a;},3839:function(r,b,a){var k,f,l,d;function c(g,n){var h;h=n && g.L[n];if(h)return "content" !== h.type?c(g,h.Ib):n;}Object.defineProperties(b,{__esModule:{value:!0}});b.pya=void 0;k=a(91854);f=a(95994);l=a(44724);d=a(96349);r=(function(){function g(n,h,m,p){this.qq=n;this.console=h;this.Ta=m;this.Kc=p;}g.prototype.F$a=function(){this.Q0=void 0;};g.prototype.NQa=function(n,h,m){var p,q,u,t,w,v,y,x,z;void 0 === m && (m=this.Ta.ga);q=this.qq.fR[this.Kc.ga.L[n.I].J];u=h.OA(n);t=u;w=m.L[u.I];if(0 === u.offset.G)v=this.Nma(m,q,u);else {"padding" === w.type && (u={I:w.Ib,offset:k.N.Ia});y=null === (p=this.Ta.Z.AF()) || void 0 === p?void 0:p.u.id;if(y)x=y;else (p=c(m,m.ve),this.Ta.Z.pp || !this.Ta.vj || this.Ta.pJ || p !== u.I?x=p:v=this.Nma(m,q,h.OA({I:n.I,offset:k.N.Ia})));!v && x && (f.K && this.console.trace(("ads::seekStreaming: seek from segment ").concat(x)),v=this.HIb(x,u,m));}if(v)if(v.I){t={I:v.I,offset:k.N.Ia};z=u;}else this.Q0=v.Oc;n={qKb:!!v,HFb:x,to:u};return z || "ad" !== w.type?{vh:t,WA:z,r8:n}:{vh:u,WA:u,r8:n};};g.prototype.zva=function(n,h,m,p){if(this.Q0)return (h=this.Q0,this.Q0=void 0,h);if((n=this.qq.fR[n]) && n.length)if(m && h.I === p && h.offset.equal(k.N.Ia)){if((h=n[0],0 === h.jk && 0 === h.Ye.length && !h.Mq && !h.Bna))return h;}else if(!m)return this.gma(h.I,n);};g.prototype.HIb=function(n,h,m){var p,t,w;f.K && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(n," to ").concat(JSON.stringify(h)));if(m){p=this.qq.fR[this.Kc.ga.L[m.L[h.I].Qb].J];m=m.L;n=m[n].Ib;for(var q=void 0,u=void 0;n;){t=m[n];if("content" === t.type && ("content" === q || void 0 === q) && p){w=this.gma(n,p);w && (u={Oc:w});}if(n === h.I)return (h=u && !u.I || q && "content" !== q?u:void 0,f.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: returning ").concat(h)),h);"ad" === t.type && "ad" !== q && (f.K && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(n)),q=(0,d.sF)(n),(0,l.assert)(q,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId"),u={I:n,Oc:p[null === q || void 0 === q?void 0:q.oj]});q=t.type;n=t.Ib;}}f.K && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");};g.prototype.Nma=function(n,h,m){var p,q;p=n.L;m=m.I;q=p[m].type;if("padding" === q)return this.Nma(n,h,{I:p[m].Ib,offset:k.N.Ia});f.K && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph",m);if("ad" === q)return (n=(0,d.sF)(m),(0,l.assert)(n,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId"),{I:m,Oc:h[null === n || void 0 === n?void 0:n.oj]});if("content" === q){if(h=this.gma(m,h))return {Oc:h};}else f.K && (0,l.assert)(!0,"Can't get preroll; initial segment was padding and it had no default next segment");};g.prototype.gma=function(n,h){n=(0,d.tYa)(n);(0,l.assert)(n,"Should have contentInfo from segment name");if(0 < n.GTa && (h=h[n.GTa - 1],0 === h.Ye.length && !h.Mq && !h.Bna))return h;};return g;})();b.pya=r;},96349:function(r,b,a){var k,f,l;function c(d){var g;g=(/^.+:ad\-(\d+)\-(\d+)$/).exec(d);if(g)return {s1:parseInt(g[2]),oj:parseInt(g[1]),ZF:!1};if(d=(/^.+:pad((end)|(start))-(\d+)$/).exec(d))return {oj:parseInt(d[4]),ZF:!0,wV:d[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.tYa=b.sF=b.qya=void 0;k=a(93959);f=a(74005);l=a(81768);r=(function(){function d(g,n,h){this.ls=g;this.Kc=n;this.ef=h;}d.prototype.dGb=function(g){for(var n,h,m=c(null === g || void 0 === g?void 0:g.I),p=this.ls.ga,q,u=p.L[g.I],t=u,w=[g.I],v=this.Kc.ga.L[t.Qb].J;t && t.Qb === u.Qb && t.J !== v;){w.push(t.Ib);t=p.L[t.Ib];}w.pop();p=null !== (q=w.pop()) && void 0 !== q?q:g.I;q=c(p);g=this.ls.ga.L[g.I];p=this.ls.ga.L[p];g=(null !== (n=g.sa) && void 0 !== n?n:Infinity) - g.ta;n=(null !== (h=p.sa) && void 0 !== h?h:Infinity) - p.ta;return {start:(null === m || void 0 === m?0:m.ZF)?new l.uaa(k.kI.start,g):void 0,end:(null === q || void 0 === q?0:q.ZF)?new l.uaa(k.kI.end,n):void 0};};Object.defineProperties(d.prototype,{Gy:{get:function(){if(this.ls.Z.Qd)return this.aGb(this.ls.Z.Ig);},enumerable:!1,configurable:!0}});d.prototype.aGb=function(g){var n,h,m;h=c(g.I);if(h){m=null === (n=this.Kc.Tg) || void 0 === n?void 0:n.Mt(g);n=this.ef.ce[this.Kc.ga.L[m.I].J][h.oj];m=this.dGb(g);m=new l.Eya(n,m.start,m.end);for(var p=this.ls.ga,q=p.L[g.I],u=q,t=-g.offset.G,w=this.Kc.ga.L[u.Qb].J;u && u.Qb === q.Qb && u.J !== w;){t+=u.sa - u.ta;u=p.L[u.Ib];}p=f.N.Ma(t);q=p.wa(m.yS.duration);h.ZF && ("end" === h.wV?q=f.N.Ia:(u=m.V9.duration.wa(g.offset),q=q.wa(u)));m={Oc:m,progress:{nqb:n.duration.wa(q),pqb:1 - Math.max(0,q.G) / n.duration.G,qqb:m.duration.wa(p),rqb:1 - Math.max(0,p.G) / m.duration.G},position:g,index:h.oj};p=this.ls.ga.L[g.I];p=p.sa - p.ta;g=g.offset.G / p;h.ZF?m.p6a={VTb:g,Vra:h.wV,Y7:f.N.Ma(p)}:m.mA={df:n.Ye[h.s1],OPa:g,index:h.s1};return m;}};d.prototype.cGb=function(g,n){var h,m;h=g.I;m=this.QJb(g);if(h=c(h))return (g=this.ef.ce[m][h.oj],h.ZF?{Oc:g,wV:h.wV}:{Oc:g,df:g.Ye[h.s1]});if(g=this.ef.zva(m,g,n))return {Oc:g};};d.prototype.sF=function(g){return c(g);};d.prototype.QJb=function(g){var n,h;h=this.Kc;g=null === (n=h.Tg) || void 0 === n?void 0:n.Mt(g);return h.ga.L[g.I].J;};return d;})();b.qya=r;b.sF=c;b.tYa=function(d){if(d=(/^.+-(\d+)$/).exec(d))return {GTa:parseInt(d[1])};};},54533:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.sya=void 0;c=a(44724);k=a(4145);f=a(81768);r=(function(){function l(d,g){var n;n=this;this.lxa=0;this.Sw={};this.nmb=1;d.on("adEvent",function(h){return n.CSb(h);});g.on("adBreakPresenting",function(h){return n.J7(h);});}Object.defineProperties(l.prototype,{fR:{get:function(){return this.Sw;},enumerable:!1,configurable:!0}});l.prototype.p_b=function(d,g){this.Sw[d]=g.map(function(n,h){return new f.Fya(n,h);});};l.prototype.lra=function(d,g){var n;n=this;this.Sw[d].some(function(h){if(h.jq.Ji === g.Ji)return (h.dLb(g,n.nmb++),!0);});};l.prototype.reset=function(){this.lxa=0;};l.prototype.CSb=function(d){var g;g=this;"adComplete" === d.event && Object.keys(this.Sw).some(function(n){var h,m,p;n=null !== (h=(p=g.Sw)[n]) && void 0 !== h?h:p[n]=[];(0,c.assert)(void 0 !== d.oj,"complete event should have an adBreakIndex");return null === (m=n[d.oj].Ye) || void 0 === m?void 0:m.some(function(q){return q.id == d.W.O?(q.Mq=!0,g.lxa++,!0):!1;});});};l.prototype.J7=function(d){var g;g=this;Object.keys(this.Sw).forEach(function(n){var h,m;(null !== (h=(m=g.Sw)[n]) && void 0 !== h?h:m[n]=[]).forEach(function(p){p !== d.Pm.Oc && p.GAb();});});};l.prototype.jka=function(d){var g;g=this;Object.keys(this.Sw).forEach(function(n){g.Sw[n].forEach(function(h){h.Ye.forEach(function(m){m.id == d && (m.$T=!0);});});});};l.prototype.$Fb=function(d,g){return (d=this.fR[d]) && (0,k.yc)(d,function(n){return n.jk === g;});};return l;})();b.sya=r;},12160:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Eya=b.uaa=b.Fya=void 0;c=a(74005);k=a(13815);f=a(46834);r=(function(){function d(g,n,h){var m,p;void 0 === h && (h=NaN);this.jq=g;this.oj=n;this.kPa=h;this.VNa=this.XNa=this.kfa=!1;this.ED=null !== (p=null === (m=g.Ye) || void 0 === m?void 0:m.map(function(q){return new f.qaa(q);})) && void 0 !== p?p:[];}Object.defineProperties(d.prototype,{jk:{get:function(){return this.jq.jk;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Lt:{get:function(){return this.jq.Lt;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Y1:{get:function(){return this.jq.Y1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{i_b:{get:function(){return this.kPa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qga:{get:function(){return this.jq.qga;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ye:{get:function(){return this.ED;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return !this.ED.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.Ye.reduce(function(g,n){return g.add(n.endTime.wa(n.startTime));},c.N.Ia);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{NMb:{get:function(){return this.Mq || !this.gSa && !this.VNa?this.ED.every(function(g){return g.Mq;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mq:{get:function(){return this.ED.length?this.ED.every(function(g){return g.Mq;}):this.kfa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{gSa:{get:function(){return !this.wg && !!this.jq.Ji;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wg:{get:function(){return !!this.jq.Ye;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Bna:{get:function(){return this.XNa;},set:function(g){g && (this.XNa=!0);},enumerable:!1,configurable:!0}});d.prototype.O_b=function(){this.Ye.length || (this.kfa=!0);};d.prototype.dLb=function(g,n){var h,m;this.jq=g;this.ED=null !== (m=null === (h=this.jq.Ye) || void 0 === h?void 0:h.map(function(p){return new f.qaa(p);})) && void 0 !== m?m:[];this.VNa=!0;this.kPa=n;};d.prototype.GAb=function(){this.jq.Ji && (this.kfa=this.Mq,this.jq.Ye=void 0,this.ED=[]);};return d;})();b.Fya=r;l=(function(){function d(g,n){this.Vra=g;this.Zmb=n;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.N.Ma(this.Zmb);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{gra:{get:function(){return this.xob || (this.xob=new d(k.kI.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(d,{eSb:{get:function(){return this.wob || (this.wob=new d(k.kI.end,0));},enumerable:!1,configurable:!0}});return d;})();b.uaa=l;r=(function(){function d(g,n,h){this.OJ=g;this.pPa=n || l.gra;this.bnb=h || l.gra;}Object.defineProperties(d.prototype,{V9:{get:function(){return this.pPa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yS:{get:function(){return this.bnb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{CKb:{get:function(){return this.pPa !== l.gra || this.yS !== l.eSb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.OJ.duration.add(this.V9.duration).add(this.yS.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Y7:{get:function(){return this.V9.duration.add(this.yS.duration);},enumerable:!1,configurable:!0}});return d;})();b.Eya=r;},46834:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qaa=void 0;c=a(91854);r=(function(){function k(f){this.df=f;this.$T=this.Mq=!1;}Object.defineProperties(k.prototype,{id:{get:function(){return this.df.id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{startTime:{get:function(){return c.N.Ma(this.df.ta);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{endTime:{get:function(){return c.N.Ma(this.df.sa);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kA:{get:function(){return this.df.kA;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{m$:{get:function(){return this.df.m$;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Us:{get:function(){return this.df.Us;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{SN:{get:function(){return this.df.SN;},enumerable:!1,configurable:!0}});return k;})();b.qaa=r;},81768:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(46834),b);r.__exportStar(a(12160),b);r.__exportStar(a(36178),b);},89025:function(r,b,a){var c,k,f,l,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.vJa=void 0;c=a(70655);k=a(28075);f=a(95994);l=c.__importDefault(a(29736));d=a(74005);g=a(4145);n=a(44724);r=(function(){function h(m,p,q){var u;u=this;this.bd=m;this.Ta=p;this.$ea=new k.Re();this.rfa=!1;this.V=(0,d.Kh)(l.default,q,"PLAYERADMANAGER");this.events=new k.EventEmitter();this.Ta.events.on("playerChanged",this.Y6a.bind(this));this.Y6a();this.bd.t1.on("adPlaygraphUpdated",function(t){return u.events.emit("adPlaygraphUpdated",t);});this.ef.events.on("adSegmentDropped",function(t){u.DSb(t);});}Object.defineProperties(h.prototype,{MT:{get:function(){return this.rfa;},enumerable:!1,configurable:!0}});h.prototype.bi=function(m){var p;if(!this.Ta.Nq)return (f.K && this.V.trace("PlayerAdManager.canSkip(): no player"),!1);p=this.Ta.Z;if(!p.WS(m))return (f.K && this.V.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",m),!1);f.K && this.V.trace(("PlayerAdManager.canSkip(): ").concat(p.Nd.mb()," -> ").concat(m.mb()));m=m.greaterThan(p.Nd)?(0,d.fla)(p.Va,p.Nd,m):(0,d.fla)(p.Va,m,p.Nd);p=!m.some(function(q){return "content" !== q.u.u.type;});f.K && this.V.trace(("PlayerAdManager.canSkip(): ").concat(p,"; ").concat(m.map(function(q){return ("").concat(q.u.id," ").concat(q.u.u.type," ").concat(q.Bb.G,"..").concat(q.Bb.G);})));return p;};Object.defineProperties(h.prototype,{ef:{get:function(){return this.bd.ef;},enumerable:!1,configurable:!0}});h.prototype.Y6a=function(){var m,p;m=this;this.V.trace("Player changed",this.Ta.Nq);this.$ea.clear();if(this.Ta.Nq){p=this.Ta.Z;this.$ea.addListener(p.events,"segmentPresenting",function(q){return m.Dv(q);});this.$ea.addListener(p.events,"playbackEnding",function(q){return m.yra(q);});}};h.prototype.Dv=function(m){var p,q,u,t,w;p=this.LM.cGb(m.position,!!m.seek);if(p){q=p.Oc;u=p.df;f.K && this.V.trace(("Got segment presenting event: adBreak: ").concat(q,", ad: ").concat(u));t=this.LM.Gy;w={Ip:m.playerTimestamp,position:m.position,Oc:q};this.MT || (q.Ye.length?this.oqb(t,w):q.wg || u?this.lA(m.playerTimestamp,m.position,q):f.K && this.V.trace("Passed an unhydrated ad break; assume it was skipped intentionally"));u && this.Bl(t,w,u);}!this.MT || p && "end" !== p.wV || this.lA(m.playerTimestamp,m.position);this.MT && !p && this.JPa(m.position);};h.prototype.yra=function(m){this.MT && this.DMb(m.position) && (this.lA(m.playerTimestamp,m.position),this.JPa(m.position));};h.prototype.oqb=function(m,p){(0,n.assert)(m,"Should have presenting info for event corresponding to ad break");f.K && this.V.trace("Emitting adBreakPresenting");this.rfa=!0;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:m,Pm:p});};h.prototype.Bl=function(m,p,q){f.K && this.V.trace("Emitting adPresenting");(0,n.assert)(m,"Should have presenting info for event corresponding to ad break");this.events.emit("adPresenting",{type:"adPresenting",presentingInfo:m,Pm:c.__assign(c.__assign({},p),{df:q})});};h.prototype.lA=function(m,p,q){f.K && this.V.trace("Emitting adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",Pm:{Ip:m,position:p,Oc:q}});};h.prototype.JPa=function(m){this.rfa=!1;f.K && this.V.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:m}});};h.prototype.Ola=function(m){var p,q,u,t;p=this;q={Mrb:[],result:{}};u=this.ef.Lu;t=Object.keys(u).filter(function(w){return u[w];});if(null === m || void 0 === m?0:m.Rdb)t=t.filter(function(w){var v;return -1 !== (null === (v=m.Rdb) || void 0 === v?void 0:v.indexOf(w));});q.Mrb=t;t.forEach(function(w){var v,y,x;y=null === (v=u[w]) || void 0 === v?void 0:v.ce;if(y){v=p.lEb(w,y);x=p.ef.ce[w];q.result[("").concat(w)]=v.map(function(z,A){return c.__assign(c.__assign({},z),{hasCompletedPlayback:x[A].NMb});});}});return q;};Object.defineProperties(h.prototype,{LM:{get:function(){return this.bd.LM;},enumerable:!1,configurable:!0}});h.prototype.lEb=function(m,p){var q,u;q=[];u=[];this.ef.ce[m].forEach(function(t){return t.Ye.forEach(function(w){w.$T && -1 === u.indexOf(w.id) && u.push(w.id);});});p.forEach(function(t){var w,v;t=c.__assign({},t);v=null === (w=t.ads) || void 0 === w?void 0:w.filter(function(y){return -1 === u.indexOf(y.id);});t.ads=v;q.push(t);});return q;};h.prototype.DSb=function(m){var p,q,u,t;p=this;q=m.adId;u=this.ef.Lu;m=Object.keys(u).filter(function(w){return u[w];});t=this.Ta.ga.L;m.forEach(function(w){var v,y;null === (y=null === (v=u[w]) || void 0 === v?void 0:v.ce) || void 0 === y?void 0:y.forEach(function(x,z){var A;null === (A=x.Ye) || void 0 === A?void 0:A.forEach(function(B,C){B.id === q && (B=(0,g.yc)(Object.keys(t),function(D){D=p.LM.sF(D);return !D || D.ZF?!1:C === D.s1 && z === D.oj;})) && p.events.emit("segmentDropped",{type:"segmentDropped",auxMid:q,auxMidType:"ad",adBreakLocationMs:x.Lt,reason:"network_error",sev:"error",segmentId:B});});});});};h.prototype.DMb=function(m){var p;p=this.Ta.navigator;return (m=p.Pd(m.I)) && !p.tKb(m);};return h;})();b.vJa=r;},26888:function(r,b,a){var c,k,f,l,d,g,n,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.sLa=void 0;c=a(70655);k=a(91854);f=a(47571);l=a(95994);d=a(83674);g=a(74005);n=a(4145);h=a(44724);m=a(50971);r=(function(){function p(q,u,t,w,v,y,x,z,A,B){var C;C=this;this.Aa=q;this.Jd=u;this.events=t;this.Oc=w;this.df=v;this.vga=y;this.u1=x;this.lqb=z;this.iR=A;this.console=B;this.cm=k.platform.time.now();this.WH=new Map();this.Uo=0;(0,h.assert)(y.W,"Presenting ad should have a manifest");this.PPa=u.Hx(function(){return C.A3b();},"impressionLogging");this.Aa.Z.jC.forEach(function(D,F){(D=D.HEb(d.Yaa)) && C.WH.set(F,D);});}Object.defineProperties(p.prototype,{Zwa:{get:function(){return this.Uo;},enumerable:!1,configurable:!0}});p.prototype.Pa=function(){this.PPa.Pa();};p.prototype.A3b=function(){var q,u,t,w,v,y,x,z,A,B,C,D,F,G,E;return c.__generator(this,function(J){switch(J.label){case 0:(l.K && this.console.trace("AdImpressionLogger: starting at",this.iR.mb()),q=this.df,this.PSa(),u=0,t=this.iR,w=this.iR.add(q.endTime),v=this.lqb,J.label=1);case 1:(J.Oj.push([1,,12,13]),(0,h.assert)(null === (F=q.kA) || void 0 === F?void 0:F.start,"Start event info should be defined"),this.emit(q.kA.start,u,t,!1),(0,h.assert)(q.m$,"Timed event info should be defined"),J.label=2);case 2:(J.Oj.push([2,7,8,9]),y=c.__values(q.m$),x=y.next(),J.label=3);case 3:if(x.done)return [3,6];z=x.value;t=this.iR.add(g.N.Ma(z.zwa));l.K && this.console.trace(("AdImpressionLogger[").concat(this.u1,"]: waiting for ").concat(z.zwa,"ms timed event") + (" at ").concat(t.mb()));return [4,m.Pg.Qt(t)];case 4:(J.Qa(),v=t,this.emit(z,z.zwa,t,!1),J.label=5);case 5:return (x=y.next(),[3,3]);case 6:return [3,9];case 7:return (A=J.Qa(),C={error:A},[3,9]);case 8:try{x && !x.done && (D=y.return) && D.call(y);}finally{if(C)throw C.error;}return [7];case 9:if(!w.greaterThan(t))return [3,11];t=w;l.K && this.console.trace(("AdImpressionLogger[").concat(this.u1,"]: waiting for end of ad at ").concat(t.mb()));return [4,m.Pg.Qt(t)];case 10:(J.Qa(),v=t,J.label=11);case 11:return [3,13];case 12:this.Aa.Z.Qd && (v=this.Aa.Z.Nd);if(v.gi(w))((0,h.assert)(null === (G=q.kA) || void 0 === G?void 0:G.complete,"Complete event should be defined"),this.emit(q.kA.complete,q.endTime.G,w,!0));else if(null === (E=q.kA) || void 0 === E?0:E.stop)(B=v.wa(this.iR).G,this.emit(q.kA.stop,B,v,!0));this.PSa();return [7];case 13:return [2];}});};p.prototype.emit=function(q,u,t,w){l.K && this.console.trace(("AdImpressionLogger[").concat(this.u1,"]: emitting ").concat(q.event," event at ").concat(u,"ms") + (" for player time ").concat(t.mb()));u={I:this.u1,offset:g.N.Ma(u)};t=this.Ima(t);try{this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},q),{rh:u,Gv:t,W:this.vga.W,cm:this.cm,Wfc:w?k.platform.time.now():-1,pE:this.Oc.Lt,oj:this.Oc.oj,SN:this.df.SN,Us:this.df.Us}));}catch(v){this.console.error("Impression error event",v);this.Uo++;}};p.prototype.Ima=function(q){var u,t,w;u=this.vga.W.O;t=c.__read(this.GZa(q,this.WH.get(f.v.fa),u),2);w=t[0];t=t[1];q=c.__read(this.GZa(q,this.WH.get(f.v.X),u),2);return {audio:w,video:q[0],text:[],total:Math.max(t,q[1])};};p.prototype.GZa=function(q,u,t){q=(null === u || void 0 === u?void 0:u.c1b(q,t)) || [];q=(0,n.flatten)(q.map(function(w){return Object.keys(w.bF).map(function(v){v=w.bF[v];return {Ub:v.Ub,duration:v.totalTime,Em:w.Em};});}));u=q.reduce(function(w,v){return w + v.duration;},0);l.K && this.console.trace("Getting playtime journal",{O:t,ffc:q.length,totalTime:u});return [q,u];};p.prototype.PSa=function(){var q,u,t;t=this.vga.W.O;null === (q=this.WH.get(f.v.fa)) || void 0 === q?void 0:q.E8a(t);null === (u=this.WH.get(f.v.X)) || void 0 === u?void 0:u.E8a(t);};p.prototype.gv=function(){return {ad:this.PPa.gv(),errors:this.Uo};};return p;})();b.sLa=r;},93750:function(r,b,a){var c,k,f,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.VR=void 0;c=a(70655);k=a(35340);f=a(81253);l=a(43221);d=a(35490);b.VR=function(g,n,h){var m,p,q,u,t;m=n.HV;p=n.Zga;g=c.__assign({Gba:f.Fba},g).Gba;q=m[5];m=(0,d.Cra)(function(){return t;});q.XPa(m.mo);h=h(n);q=new k.Oca();q.va(h);u={Tg:void 0,Kc:void 0,Ta:h,qoa:q,C2a:"content"};u.Tg=new g(function(){return u.Kc.ga;},q,n.HV[2]);t=new d.JAa(u,m.abb,l.Hv.sua.oN);u.Kc=l.Hv.gta(h,t,function(){return u;},p);return u.Kc;};},35490:function(r,b,a){var c,k,f,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Cra=b.JAa=void 0;c=a(70655);k=a(41427);f=a(21185);l=a(74573);d=a(44724);r=(function(g){function n(h,m,p,q){void 0 === q && (q="CphAsePlaygraph");q=g.call(this,h,m,p,q,!0) || this;q.Zk=h;q.U5a=m;q.B9a=p;h.Ta.Xe(new f.KAa(q));return q;}c.__extends(n,g);n.prototype.mC=function(h){var m,p;m=g.prototype.mC.call(this,h);if(m){p=h.W.Hm;p && !this.f0 && (this.Nea.ns({applyingContentPlaygraph:!0}),this.f0=p,this.znb=this.Cwb(h.W),this.Cta());}return m;};Object.defineProperties(n.prototype,{E_a:{get:function(){return this.znb;},enumerable:!1,configurable:!0}});n.prototype.GA=function(h){if(this.f0)return (h=c.__assign(c.__assign({},h),{L:c.__assign({},h.L)}),(0,k.qqa)(h,this.f0.ga));};n.prototype.Cwb=function(h){var m,p;m=h.$o;p=h.mB;return !(!m || !m.some(function(q){return q.mB !== p;}));};Object.defineProperties(n.prototype,{Hm:{get:function(){var h;return null === (h=this.f0) || void 0 === h?void 0:h.ga;},enumerable:!1,configurable:!0}});c.__decorate([(0,l.Rb)({methodName:"processViewableResponse"})],n.prototype,"mC",null);return n;})(a(11064).Ada);b.JAa=r;b.Cra=function(g){var n;n=[];return {mo:function(h,m){var p,q,u,t,w,v,y;u=h.J;t=h.gW;w=g();if(w.yha && w.yha !== u){v=null === (p=null === t || void 0 === t?void 0:t.yf) || void 0 === p?void 0:p.bc;p=null === (q=null === t || void 0 === t?void 0:t.yf) || void 0 === q?void 0:q.Cd;q=w.bc;t=w.yha;(0,d.assert)(t,"did not receive parent viewable id");t={yf:{bc:null !== v && void 0 !== v?v:q,Cd:null !== p && void 0 !== p?p:t}};}w.Ta.console.trace("In wrapped request viewable",u,t);y=m(c.__assign(c.__assign({},h),{gW:t}));n.forEach(function(x){return x({J:u,jz:y.jz});});return y;},abb:function(h){n.push(h);}};};},70744:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.fja=void 0;c=a(43221);k=a(8348);b.fja=function(f,l){var d;f=l(f);d=new k.zJa(f,c.Hv.sua.oN);return c.Hv.gta(f,d,function(){return d.Zk;});};},43309:function(r,b,a){var k,f,l,d;function c(g,n){return n && !Array.isArray(n) && -1 === n.BWa.indexOf(g)?n.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.oja=void 0;k=a(70655);r=a(28075);f=a(41937);l=a(28005);d=(function(g){function n(h,m){var p;p=g.call(this) || this;p.BPb=h;p.O0a=m;p.afa={};return p;}k.__extends(n,g);n.prototype.emit=function(h){for(var m=[],p=1;p < arguments.length;p++){m[p - 1]=arguments[p];}return g.prototype.emit.call(this,h,this.BPb(h,m[0]));};n.prototype.subscribe=function(h){var m,p;m=this;if(!this.listeners(h).length){p=function(){for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}return m.emit.apply(m,k.__spreadArray([h],k.__read(q),!1));};this.afa[h]=p;this.O0a.addListener(h,p);}};n.prototype.addListener=function(h,m){this.subscribe(h);g.prototype.addListener.call(this,h,m);return this;};n.prototype.removeListener=function(h,m){g.prototype.removeListener.call(this,h,m);m=this.afa[h];!this.listeners(h).length && m && (this.O0a.removeListener(h,m),this.afa[h]=void 0);return this;};n.prototype.on=function(h,m){this.addListener(h,m);return this;};n.prototype.ar=function(h,m){this.removeListener(h,m);return this;};n.prototype.once=function(h,m){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(h,p);m.apply(void 0,k.__spreadArray([],k.__read(u),!1));}q=this;this.addListener(h,p);return this;};n.prototype.v8=function(h,m){this.subscribe(h);g.prototype.v8.call(this,h,m);};n.prototype.u7a=function(h,m){var q;function p(){for(var u=[],t=0;t < arguments.length;t++){u[t]=arguments[t];}q.removeListener(h,p);m.apply(void 0,k.__spreadArray([],k.__read(u),!1));}q=this;this.v8(h,p);};return n;})(r.EventEmitter);b.oja=function(g,n,h,m){return new d(function(p,q){var u,t;t=c(p,m["*"]);p=null !== (u=m[p]) && void 0 !== u?u:[];u=t.concat(p).filter(function(w){return "object" === typeof w;});t=k.__read(p.filter(function(w){return "function" === typeof w;}),1)[0];return u.length?(0,l.i9)(g,q,h,{rules:u,em:!1,Xga:!0},f.eu.bxa,t):q;},n);};},81253:function(r,b,a){var c,k,f,l,d,g,n,h,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Fba=void 0;c=a(70655);k=a(41427);f=a(70950);l=c.__importDefault(a(29736));d=a(74573);g=a(55168);n=a(44724);h=a(29083);m=a(95994);p=a(38264);r=(function(){function q(u,t,w,v){var x,z;function y(A,B){return A.I === B.I && A.offset.equal(B.offset);}x=this;this.ax=u;this.e0=t;this.config=w;this.console=new l.default.Console("GRAPHLOCATIONSERVICE");this.dh=new d.su({$m:this,source:(v || "") + "GraphLocation",console:this.console});(0,p.Fta)(this,"d",new p.qca(w,y));(0,p.Fta)(this,"u",new p.qca(w,y));"temp" !== v && (null === (z=this.e0.events) || void 0 === z?void 0:z.on("updated",function(){(0,p.kYa)(x).forEach(function(A){return A.clear();});}));}Object.defineProperties(q.prototype,{parent:{get:function(){return this.ax();},enumerable:!1,configurable:!0}});q.prototype.Adb=function(u,t){return new q(function(){return u;},{dV:t,axa:t},this.config,"temp");};q.prototype.OA=function(u){var t,w,v;m.K && this.console.trace("downConverting",u);t=this.parent;w=this.e0;v=w.dV;if(t === w.axa)return u;if(v.L[u.I])return (t.L[u.I] || m.K && this.console.warn("Received a down converted position unexpectedly",u,Error().stack),u);w=(0,g.Cia)(u,t);u=(0,k.Bdb)(t,v,{offset:w.v2.G,u:u.I});u={offset:w.Hn.add(f.N.Ma(u.offset)),I:u.u};m.K && this.console.trace("downConverting ret:",u);return u;};q.prototype.Mt=function(u){var t,w,v;m.K && this.console.trace("upConverting",u);t=this.parent;w=this.e0;v=w.dV;if(t === w.axa)return u;if(t.L[u.I])return (v.L[u.I] || m.K && this.console.warn("Received a up converted position unexpectedly",u,Error().stack),u);w=(0,g.Cia)(u,v);u=(0,k.hTa)(t,v,{offset:w.v2.G,u:u.I});u={offset:w.Hn.add(f.N.Ma(u.offset)),I:u.u};m.K && this.console.trace("upConverting ret:",u);return u;};q.prototype.LHb=function(u){var t;t=(0,k.rYa)(this.parent,this.e0.dV,{u:u.I,offset:u.offset.G});t=(0,h.n2a)(t);(0,n.assert)(t,("Could not find any segments in the path of ").concat(u));return t;};c.__decorate([(0,d.Rb)({methodName:"downConvertPosition",bk:!0,rq:!0,return:!0}),(0,p.$ha)("d")],q.prototype,"OA",null);c.__decorate([(0,d.Rb)({methodName:"upConvertPosition",bk:!0,rq:!0,return:!0}),(0,p.$ha)("u")],q.prototype,"Mt",null);return q;})();b.Fba=r;},43221:function(r,b,a){var l,d,g,n,h,m,p,q,u;function c(t,w){var v,y,x,z;z=t.Kc.ga.L[w];z && z.Qb && t.Kc.bd && (z=Number(z.Qb.replace(":main","")),(w=(0,p.sF)(w)) && (x=null === (y=null === (v=t.Kc.bd.ef.ce[z]) || void 0 === v?void 0:v[w.oj]) || void 0 === y?void 0:y.Lt));return x;}function k(t,w,v,y){var x;return w === h.eu.mS?(w=d.N.Ia,(null === y || void 0 === y?void 0:y.Pfc) === u.end && (w=d.N.Ma(null !== (x=v.Kc.ga.L[t].sa) && void 0 !== x?x:0),(0,g.assert)(0 < w.G,"EndTime must be non null")),v.Tg.OA({offset:w,I:t}).I):v.Tg.Mt({offset:d.N.Ia,I:t}).I;}function f(t,w,v){return w === h.eu.bxa?v.Tg.Mt(t):v.Tg.OA(t);}Object.defineProperties(b,{__esModule:{value:!0}});b.Hv=void 0;l=a(70655);d=a(70950);g=a(44724);r=a(82922);n=a(94522);h=a(41937);m=a(18934);p=a(96349);q=a(87082);a=(0,n.A9a)();a=(0,r.TRa)()({y3a:"combinedPlaygraph",oN:{rh:a()({map:f,tx:q.B1a}),Qd:a()({map:function(t,w,v,y){var x;x=(null === y || void 0 === y?0:y.Rp)?(0,q.C4)(t,y.Rp):t.position;w=f(x,w,v);t=(0,q.A2)(t,null === y || void 0 === y?void 0:y.Rp);(null === y || void 0 === y?0:y.Rp)?(0,q.v$a)(t,y.Rp,w):t.position=w;return t;},tx:function(t,w,v){return (null === v || void 0 === v?0:v.Rp)?(0,q.C4)(t,v.Rp):(0,q.Qd)(t);}}),Lxa:a()({map:function(t,w,v,y){if(w === h.eu.mS)return t.inner;w=(0,q.A2)(t,null === y || void 0 === y?void 0:y.Rp);w.inner || (w.inner=t,"gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).Ohb && (w.gctag=void 0));return w;},tx:function(t,w,v){return (null === v || void 0 === v?0:v.Rp)?"object" === typeof (0,q.C4)(t,v.Rp):"object" === typeof t;}}),I:a()({map:k,tx:q.F1a}),vW:a()({map:function(t,w,v,y){var x,z;z=null !== (x=t.I) && void 0 !== x?x:t.segmentId;w=k(z,w,v,y);return t.I?l.__assign(l.__assign({},t),{I:w}):l.__assign(l.__assign({},t),{segmentId:w});},tx:q.I_a}),FTa:a()({map:function(t,w,v){w === h.eu.mS?(t=(0,m.Fx)(v.Kc.ga,t.J,t.yq,{O9a:!0}),(0,g.assert)(void 0 !== t,"Graph position must exist in ux playgraph"),t=v.Tg.OA(t),w=t.I,t=t.offset,w=v.Ta.ga.L[w],v=w.J,w=w.ta,t=d.N.Ma(w).add(t)):(t=(0,m.Fx)(v.Ta.ga,t.J,t.yq,{O9a:!0}),(0,g.assert)(void 0 !== t,"Graph position must exist in combined playgraph"),t=v.Tg.Mt(t),w=t.I,t=t.offset,w=v.Kc.ga.L[w],v=w.J,w=w.ta,t=d.N.Ma(w).add(t));return {yq:t,J:v};},tx:q.k1a}),Nha:a()({tx:q.g1a,map:function(t,w,v){var y,x,z,A,B;if(w === h.eu.mS){w={I:t.u.id,offset:d.N.Ia};z=v.Tg.OA(w);w=v.Ta.ga.L[z.I];v=v.Kc.ga.L[t.u.id];A=w.sa;B=w.ta;A=null !== (y=A && A - B) && void 0 !== y?y:0;v=t.se.add(d.N.Ma(w.ta - v.ta));return {se:v,SG:t.er.add(d.N.Ma(A)),er:t.er,u:{id:z.I,Ud:d.N.Ma(w.ta),Nf:d.N.Ma(null !== (x=w.sa) && void 0 !== x?x:0)}};}w={I:t.u.id,offset:d.N.Ia};x=v.Tg.Mt(w);B=v.qoa.dV;w=B.L[t.u.id];z=v.Kc.ga.L[x.I];y=d.N.Ma(null !== (A=z.sa && z.sa - z.ta) && void 0 !== A?A:0);z.sa && Infinity !== z.sa || (A=v.Tg.LHb(x),B=B.L[A],B.sa && (y=v.Tg.Mt({I:A,offset:d.N.Ma(B.sa - B.ta)}).offset));A=t.er.wa(x.offset);B=A.add(y);v=t.se.add(d.N.Ma(z.ta - w.ta));t=d.N.Ma(z.ta);w=y.add(t);return {se:v,SG:B,er:A,u:{id:x.I,Ud:t,Nf:w}};}}),Rsb:a()({tx:function(t){return "segmentPresenting" === t.type;},map:function(t,w,v){var y;t=(0,q.A2)(t);if(w=t.metrics){y=c(v,w.destPosition.I);void 0 !== y && (t.metrics.adBreakLocationMs=y);y=c(v,w.srcStartPosition.I);void 0 !== y && (t.metrics.srcadBreakLocationMs=y);}return t;}})}});(function(t){t[t.ybc=0]="beginning";t[t.end=1]="end";})(u || (u={}));b.Hv=a;},78368:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Z6a=void 0;b.Z6a={"*":{BWa:["logdata"],rules:[{Ej:function(a){return a.Lxa;}}]},segmentPresenting:[{Ej:function(a){return a.Lxa;},config:{Rp:["metrics"]}},{Ej:function(a){return a.Qd;}},{Ej:function(a){return a.Qd;},config:{Rp:["metrics","srcStartPosition"]}},{Ej:function(a){return a.Qd;},config:{Rp:["metrics","srcTransitionPosition"]}},{Ej:function(a){return a.Qd;},config:{Rp:["metrics","destPosition"]}},{Ej:function(a){return a.Rsb;}}],streamPresenting:[{Ej:function(a){return a.Qd;}}],segmentAppended:[{Ej:function(a){return a.vW;}}]};},8348:function(r,b,a){var c,k,f,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zJa=void 0;c=a(70655);k=a(74573);f=a(74005);l=c.__importDefault(a(29736));d=a(43309);g=a(78368);r=(function(){function n(h,m){var p;p=this;this.RT=h;this.events=(0,d.oja)(function(){return p.Zk;},this.RT.events,m,g.Z6a);this.Enb=(0,f.Kh)(l.default,this.RT.console,"PLAYERHOST");new k.su({bo:10,$m:this,source:"PlayerHost",console:this.Enb});}n.prototype.Iia=function(){this.Zk=void 0;};n.prototype.nva=function(h){this.Zk=h;};c.__decorate([(0,k.Rb)({methodName:"clearProxyPlaygraphContext"})],n.prototype,"Iia",null);c.__decorate([(0,k.Rb)({methodName:"setProxyPlaygraphContext"})],n.prototype,"nva",null);return n;})();b.zJa=r;},43193:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.a7a=void 0;b.a7a={"*":{BWa:["logdata"],rules:[{Ej:function(a){return a.Lxa;}}]},locationSelected:[{Ej:function(a){return a.vW;}}],segmentComplete:[{Ej:function(a){return a.vW;}}],segmentStarting:[{Ej:function(a){return a.vW;}}],serverSwitch:[{Ej:function(a){return a.vW;}}],streamSelected:[{Ej:function(a){return a.Qd;}}]};},11064:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Ada=void 0;c=a(70655);k=a(22258);f=a(74573);l=a(47571);d=a(4145);g=a(44724);n=a(95994);h=a(36024);m=a(70950);p=a(52843);q=a(43309);u=a(43193);r=(function(){function t(w,v,y,x,z){var A;void 0 === x && (x="CphAsePlaygraph");void 0 === z && (z=!0);A=this;this.Zk=w;this.U5a=v;this.B9a=y;this.z3b=x;this.Cnb=new h.Jda();z && this.va();this.U5a(function(B){var C;C=B.jz;return c.__awaiter(A,void 0,void 0,function(){var D;return c.__generator(this,function(F){switch(F.label){case 0:return [4,C];case 1:return (D=F.Qa(),this.mC(D),[2]);}});});});}Object.defineProperties(t.prototype,{Ta:{get:function(){return this.Zk.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Eh:{get:function(){return this.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ga:{get:function(){return this.lj;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Tg:{get:function(){return this.Zk.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{V:{get:function(){return this.Ta.console;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Y:{get:function(){return this.Ta.config;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{E_a:{get:function(){return !1;},enumerable:!1,configurable:!0}});t.prototype.va=function(){var w,v,y;w=this;v=this.Zk;this.Nea=new f.su({bo:10,$m:this,source:this.z3b,console:this.V});this.events=(0,q.oja)(function(){return v;},v.Ta.events,this.B9a,u.a7a);this.lj=v.Ta.ga;y=v.Tg;v.Ta.Xe(new k.Pw(this.Nea));v.Ta.Xe(new k.Pw(v.Tg.dh));v.Ta.Xe(new p.hAa(("").concat(v.C2a,"::gls"),y));v.Ta.events.on("playgraphUpdating",function(){w.Zk.qoa.O8();});};t.prototype.Ru=function(w){var v,y,x;x=null !== (v=this.Z) && void 0 !== v?v:this.Ta.Z;this.Z=w;w.nva && w.nva(this.Zk);(v=this.Zk.Ta.Ru(null !== (y=w.RT) && void 0 !== y?y:w))?(this.Z=w,x !== w && x.Iia && x.Iia()):this.Z=x;return v;};t.prototype.Cta=function(w,v,y,x,z){(w=null !== w && void 0 !== w?w:this.GA(null !== v && void 0 !== v?v:this.lj)) && this.ZSb(w,this.E_a,y,x,z);};t.prototype.ZSb=function(w,v,y,x,z){var A,B,C,D,F,G,E;A=this.Zk.Kc;B=A.Z;D=A.ga;if(C=y?y:A.Nq && B.Qd?B.Ig:A.Oq?A.vh:void 0){F=this.Ta.ga.L[C.I];F && F.Qb && (C=this.Tg.Mt(C));}A.config.a6b && v && B.yC(!0);v=A.bZa();n.K && this.V.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(D)));n.K && this.V.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(w)));this.Cnb.set(w,!0);D=this.Ta.Ot(w);try{if(!D.ia || C && !B.Qd && !A.Oq || y && z)if(((0,g.assert)(!B.qa.ii,"Player is not paused:" + l.hq[D.reason]),A.Jf(!0),this.Ta.Ot(w),C)){G=this.Tg.OA(C);E=w.L[G.I];"padding" === (null === E || void 0 === E?void 0:E.type) && (G={I:E.Ib,offset:m.N.Ia});this.pva(C,x);this.Ta.s9(G,x,z);B.resume();}}finally{v.release();}};t.prototype.Ot=function(w){var y,x,z;function v(){y.lj=w;}y=this;z=null !== (x=this.GA(w)) && void 0 !== x?x:w;try{return (this.Ta.events.u7a("playgraphUpdating",v),this.Ta.Ot(z));}finally{this.Ta.events.removeListener("playgraphUpdating",v);}};Object.defineProperties(t.prototype,{bc:{get:function(){return this.pNa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{yha:{get:function(){var w,v,y,x;w=this;y=Object.keys(this.Ta.ga.L);if(y=(0,d.yc)(y,function(z){return !!w.Ta.ga.L[z].Qb;})){y=this.Ta.ga.L[y].Qb;x=this.ga.L[y];return null !== (v=null === x || void 0 === x?void 0:x.J) && void 0 !== v?v:Number(y.split(":")[0]);}},enumerable:!1,configurable:!0}});t.prototype.mC=function(w){var v,y,x,z;y=w.W;x=y.bc;y=y.Hm;z=null !== (v=this.Y.Uka) && void 0 !== v?v:[];if(y && z.some(function(A){return A == w.O;}))return (v=("").concat(w.O," was excluded from content playgraph"),this.Nea.ns(v),n.K && this.V.trace(v),!1);x && !this.pNa && (this.pNa=x);return !0;};t.prototype.Jf=function(w){this.Ta.Jf(w);};t.prototype.pva=function(){};c.__decorate([(0,f.Rb)({methodName:"attachPlayer"})],t.prototype,"Ru",null);c.__decorate([(0,f.Rb)({methodName:"reevaluateInnerPlaygraph"})],t.prototype,"Cta",null);c.__decorate([(0,f.Rb)({methodName:"processViewableResponse"})],t.prototype,"mC",null);c.__decorate([(0,f.Rb)({methodName:"cancelStreaming"})],t.prototype,"Jf",null);return t;})();b.Ada=r;},87082:function(r,b,a){var k;function c(f,l){var d,g;d=k.__assign({},f);g=k.__read(null !== l && void 0 !== l?l:[],1)[0];g && f[g] && (f=f[g],"object" === typeof f?(l=l.concat(),l.shift(),d[g]=c(f,l)):d[g]=f);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.v$a=b.A2=b.C4=b.g1a=b.k1a=b.F1a=b.I_a=b.B1a=b.Qd=void 0;k=a(70655);b.Qd=function(f){return !(null === f || void 0 === f || !f.position);};b.B1a=function(f){return !(null === f || void 0 === f || !f.I) && !(null === f || void 0 === f || !f.offset);};b.I_a=function(f){return !(null === f || void 0 === f || !f.I) || !(null === f || void 0 === f || !f.segmentId);};b.F1a=function(f,l){return "string" === typeof f && !(!l.Kc.ga.L[f] && !l.Ta.ga.L[f]);};b.k1a=function(f){return !(null === f || void 0 === f || !f.J) && !(null === f || void 0 === f || !f.yq);};b.g1a=function(f){return !(null === f || void 0 === f || !f.se);};b.C4=function(f,l){var d;d=f;l.forEach(function(g){d=null === d || void 0 === d?void 0:d[g];});return d;};b.A2=c;b.v$a=function(f,l,d){for(var g=0;g < l.length - 1 && f;g++){f=f[l[g]];}return f?(f[l[l.length - 1]]=d,!0):!1;};},302:function(r,b,a){var c,k,f,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Cza=void 0;r=a(70655);c=a(28075);k=a(74005);f=a(50971);l=a(95994);d=a(47571);g=r.__importDefault(a(29736));a=(function(){function n(h,m,p,q,u,t){this.Kd=h;this.Wp=m;this.config=p;this.ESb=q;this.ff=u;this.console=t;this.Zea=new c.Re();this.console=(0,k.Kh)(g.default,t,"BranchDecisionMaker");}n.vGb=function(h){var m;return null !== (m=h.Lb) && void 0 !== m?m:h.SG;};n.oHb=function(h){var m,p;m=h.u;p=h.pM;return m.Ib?m.Ib:p.length?p[0]:h.yy[0];};n.prototype.Jwa=function(h,m){var p,q,u,t;p=this;u=h.u;l.K && this.console.trace(("tracking ").concat(h.u.id));this.reset();if(u.gX || 1 >= u.yy.length && (null === (q=u.Pv) || void 0 === q || !q.length))l.K && this.console.trace(("").concat(h.u.id," does not need tracking"));else {t=this.jub(h);q=t.Kua;m=m.lessThan(t.sLb);l.K && this.console.trace(("tracking ").concat(h.u.id),{I:u.id,hcc:m,Ifc:null === q || void 0 === q?void 0:q.G});this.BZb(u,m?q:void 0);if(m)this.Zea.on(h.events,"branchEdited",function(){p.Jwa(h,p.Kd.qa.currentTime);});}};n.prototype.NSa=function(){var h;null === (h=this.JUa) || void 0 === h?void 0:h.Pa();this.JUa=void 0;};n.prototype.reset=function(){this.NSa();this.Zea.clear();};n.prototype.jub=function(h){var m,p;h=n.vGb(h);m=k.N.Ma(this.config.j7);p=k.N.Ma(this.config.WQb + this.config.i7);m=h.wa(m);return {sLb:(0,d.Un)(this.ff.value)?h.wa(p):m,Kua:m};};n.prototype.BZb=function(h,m){var p;p=this;this.NSa();this.JUa=m?this.Kd.HA(f.Pg.Qt(m),function(){return p.n3a(h);},"scheduled branch decision"):this.Wp.HA(f.Pg.g6b,function(){return p.n3a(h);},"immediate branch decision");};n.prototype.n3a=function(h){var m;this.Zea.clear();m=n.oHb(h);l.K && this.console.trace(("BranchDecisionMaker making decision for ").concat(h.id,", decision is ").concat(m));this.ESb(h.id,m,!0);};return n;})();b.Cza=a;},24462:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Pza=void 0;c=a(70655);k=c.__importDefault(a(29736));f=a(47571);l=a(74005);d=a(70950);g=a(44724);n=a(74573);h=a(50971);r=(function(){function m(p,q,u,t,w,v,y){var x;void 0 === y && (y=500);x=this;this.V=p;this.config=q;this.Ic=u;this.events=t;this.Hka=w;this.Kd=v;this.Ltb=y;this.Rsa=this.Sha=0;this.X6=[];this.RK={Zu:0};this.state=new l.Jw(f.Wc.Rr);this.dh=new n.su({bo:10,$m:this,source:"BufferStateTracker",pQa:function(){return {isBuffering:x.vj,alwaysRunUnderflowTimer:x.config.SJ};}});}Object.defineProperties(m.prototype,{Zu:{get:function(){return this.RK.Zu;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{vj:{get:function(){return (0,f.Un)(this.state.value);},enumerable:!1,configurable:!0}});m.prototype.jxa=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(u){u.mediaType === f.v.fa && (q.ORa=c.__assign(c.__assign({},q.ORa),{audio:{trackId:u.trackId,trackIndex:u.TH}}));});};m.prototype.R7=function(p){this.set(f.Wc.Rr);this.Rva(p,f.Wc.Qe);};m.prototype.K7=function(){this.RK.Zu++;};m.prototype.oV=function(p){this.config.SJ || void 0 === this.ly && this.vj && this.tja();this.ly={$x:p.httpCode,Of:p.errorCode,Mh:p.nativeCode};};m.prototype.T7=function(){this.ly=void 0;this.config.SJ || this.k3();};m.prototype.sh=function(p){this.vj || (this.Rva(p,f.Wc.sl),this.vj && (this.ly || this.config.SJ) && this.tja());};m.prototype.rTb=function(p,q){this.state.value !== f.Wc.Qe && this.Rva(p,f.Wc.N_);this.jxa(q);};m.prototype.RSb=function(p,q){var u;u=this;this.config.Jtb && this.vj && (-1 === this.X6.indexOf(p) && this.X6.push(p),2 === this.X6.length && Promise.resolve().then(function(){u.vj && void 0 !== u.Wv && u.Dm("memoryLimit",q.bO,q.cO);}));};m.prototype.t_b=function(p,q){(0,g.assert)(this.state.value === f.Wc.Qe && void 0 === this.Wv);this.Wv=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.TH}),this.jxa(q));};m.prototype.F_b=function(p,q,u){(0,g.assert)(this.vj);this.koa=null !== p && void 0 !== p?p:this.koa;this.PT=null !== q && void 0 !== q?q:this.PT;void 0 === this.DL?this.DL=u:void 0 !== (null === u || void 0 === u?void 0:u.reason) && (this.DL.reason=u.reason);};m.prototype.Dm=function(p,q,u){var t;(0,g.assert)(this.vj && void 0 !== this.Wv && void 0 === this.k2 && void 0 === this.I$ && void 0 === this.n1);this.k2=p;this.I$=q;this.n1=u;this.ep=100;this.Hia();this.k3();null === (t=this.xia) || void 0 === t?void 0:t.Pa();this.state.value === f.Wc.sl && (this.Rsa=k.default.time.Ga());this.aCb();this.set(f.Wc.rm);this.n1=this.I$=this.k2=this.DL=this.PT=this.koa=this.Wv=void 0;};m.prototype.stop=function(){var p;this.set(f.Wc.Rr);this.Hia();this.k3();null === (p=this.xia) || void 0 === p?void 0:p.Pa();};m.prototype.wia=function(p,q,u,t){var w,v,y,x,z,A,B,C,D,F;w=this;(0,g.assert)(this.vj);null === (v=this.xia) || void 0 === v?void 0:v.Pa();if(this.state.value === f.Wc.sl && k.default.time.Ga() < this.Rsa + this.config.B4a){z=this.config.B4a - (k.default.time.Ga() - this.Rsa);this.xia=this.Kd.HA(h.Pg.NC(d.N.Ma(z)),function(){w.wia(p,q,u,t);});}else {v=u.CF(f.v.fa);A=u.CF(f.v.X);B=k.default.time.Ga() - this.Sha;if(v || A){C=function(G){return G?G.DB() || G.Vs()?t.uia(w.state.value,p,B >= w.config.IV,q,G,w.Zu):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=C(v);C=C(A);F=function(G){var E;return {reason:G.reason,complete:G.complete,bl:null !== (E=G.wA) && void 0 !== E?E:0};};this.dh.ns({as:F(D),vs:F(C),bt:B});F=A?C:D;F.M5b=A && C.wA || 0;F.wsb=v && D.wA || 0;D.complete && C.complete?(F.complete=!0,this.Dm(null !== (z=F.reason) && void 0 !== z?z:"unknown",null !== (y=F.M5b) && void 0 !== y?y:0,null !== (x=F.wsb) && void 0 !== x?x:0)):(F.complete=!1,this.iub(F),this.dh.ns({bp:this.ep}));}}};m.prototype.iub=function(p){var q,u,t;t=p.progress;p.Kpa?t=(k.default.time.Ga() - this.Sha) / this.config.IV:t || (t=(null !== (q=p.wA) && void 0 !== q?q:0) / this.config.Zq);p=Math.min(Math.max(Math.round(100 * t),null !== (u=this.ep) && void 0 !== u?u:0),99);p != this.ep && (this.ep=p);};m.prototype.Rva=function(p,q){(0,g.assert)(q === f.Wc.Qe || void 0 !== p);this.Wv=p;this.ep=0;this.A7=void 0;this.RK.Zu=0;this.X6=[];p=this.state.value === f.Wc.Qe || this.state.value === f.Wc.sl;this.Sha=k.default.time.Ga();this.set(q);p || (this.cCb(),this.d0b());};m.prototype.set=function(p){this.state.set(p);};m.prototype.cCb=function(){(0,g.assert)(this.events && void 0 !== this.ep);this.A7=this.ep;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:k.default.time.Ga(),percentage:this.ep});};m.prototype.d0b=function(){var p;p=this;this.Hia();this.NRb=this.Kd.XTa(function(){return p.bCb();},d.N.Ma(this.Ltb),"buffering-notification");};m.prototype.Hia=function(){var p;null === (p=this.NRb) || void 0 === p?void 0:p.Pa();};m.prototype.bCb=function(){this.vj && this.events && void 0 !== this.ep && this.ep !== this.A7 && this.events.emit("buffering",{type:"buffering",time:k.default.time.Ga(),percentage:this.ep}) && (this.A7=this.ep);};m.prototype.aCb=function(){var p;(0,g.assert)(this.events && this.Wv && void 0 !== this.k2 && void 0 !== this.n1 && void 0 !== this.I$);this.A7=this.ep;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:k.default.time.Ga(),actualStartPosition:this.Wv,reason:this.k2,aBufferLevelMs:this.n1,vBufferLevelMs:this.I$,selector:this.koa,initBitrate:this.PT,initSelReason:null === (p=this.DL) || void 0 === p?void 0:p.reason},this.ORa));};m.prototype.tja=function(){var p;p=this;this.config.jdb && (!this.ez || this.ez.state !== h.Ek.complete && this.ez.state !== h.Ek.XE?void 0 === this.ez && (this.ez=this.Kd.Hx(function(){return p.ycb();},"underflow")):this.ez.Sf());};m.prototype.k3=function(){this.ez && (this.ez.state !== h.Ek.XE && this.ez.Pa(),this.ez=void 0);};m.prototype.ycb=function(){var p,q,u;return c.__generator(this,function(t){switch(t.label){case 0:return (p=this.config.G6,this.V.trace(("BufferingStateTracker: starting underflow timer: ").concat(p,"ms")),[4,h.Pg.NC(d.N.Ma(p))]);case 1:(t.Qa(),t.label=2);case 2:if(!this.vj)return [3,4];q=this.Ic.RNb || 0;u=k.default.time.Ga() - q;if(u >= p)return (this.V.trace(("Forcing streaming failure, ").concat(u,"ms since data received")),this.Hka.sTb(this.ly),[2]);this.V.trace(("BufferingStateTracker: network activity, wait ").concat(p - u,"ms"));return [4,h.Pg.NC(d.N.Ma(p - u))];case 3:return (t.Qa(),[3,2]);case 4:return [2];}});};c.__decorate([(0,n.Rb)({methodName:"onTemporaryNetworkError",bk:!0})],m.prototype,"oV",null);c.__decorate([(0,n.Rb)({methodName:"onUnderflow",bk:!0})],m.prototype,"sh",null);c.__decorate([(0,n.Rb)({methodName:"bufferingComplete",bk:!0})],m.prototype,"Dm",null);c.__decorate([(0,n.Rb)({methodName:"stop",bk:!0})],m.prototype,"stop",null);c.__decorate([(0,n.Rb)({methodName:"checkStreamingBufferingComplete",bk:!0})],m.prototype,"wia",null);c.__decorate([(0,n.Rb)({methodName:"createUnderflowTask",bk:!0})],m.prototype,"tja",null);c.__decorate([(0,n.Rb)({methodName:"destroyUnderflowTask",bk:!0})],m.prototype,"k3",null);c.__decorate([(0,n.Rb)({methodName:"onUnderflowTimeout",bk:!0})],m.prototype,"ycb",null);return m;})();b.Pza=r;},12215:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.QTa=void 0;c=a(70655);k=a(47571);b.QTa=function(f){var n,h;function l(m){(0,k.Un)(m.newValue) && !(0,k.Un)(m.oldValue)?(null === h || void 0 === h?void 0:h.Pa(),h=n.HA.apply(n,c.__spreadArray([],c.__read(d),!1))):null === h || void 0 === h?void 0:h.Pa();}for(var d=[],g=1;g < arguments.length;g++){d[g - 1]=arguments[g];}g=f.gf;n=f.Wp;g.state.addListener(l);l({oldValue:k.Wc.Rr,newValue:g.state.value});};},33154:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Lka=void 0;c=a(4145);b.Lka=function(k,f,l,d,g){var n;n=[];k=k.im.values.filter(function(h){return h.Sn;}).map(function(h){var m,p;m=f(h.pa,l,d,g);p=(0,c.kx)(m,h.Wd).map(function(q){return q.mediaType;});n=(0,c.K1)(n,p);return {yb:h,Wd:m};});return {tSa:n,wtb:k};};},55168:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Bua=b.Cia=b.Xk=b.q_a=b.Cdb=void 0;c=a(74005);k=a(44724);f=a(95994);b.Cdb=function(d,g){d=d.L[g.I];if(void 0 === d)return {OL:!1,reason:("Segment ").concat(g.I," was not found")};if(0 > g.offset.G)return {OL:!1,reason:("Offset ").concat(g.offset.G," was negative")};if(void 0 === d.sa || null === d.sa || Infinity === d.sa)return {OL:!0};d=d.sa - d.ta;return g.offset.G >= d?{OL:!1,reason:("Offset ").concat(g.offset.G," was greater than segment duration ").concat(d)}:{OL:!0};};l=c.N.Ma(100);b.q_a=function(d,g){if(d === g)return !0;if(d && g && d.I === g.I){if(d.offset === g.offset)return !0;d=c.N.abs(d.offset.wa(g.offset));if(l.greaterThan(d))return !0;}return !1;};b.Xk=function(d,g,n){var h,m,p,q;p=g.Aa;g=g.TLb;void 0 === n && (n={});q=p.ga;p=p.navigator;q=p.Pd(null !== (h=null === g || void 0 === g?void 0:g.id) && void 0 !== h?h:q.ve);h=null !== (m=null === g || void 0 === g?void 0:g.PZb) && void 0 !== m?m:q.Ud;if(h.greaterThan(d))return n.a1b?{offset:d.wa(h),I:q.id}:void 0;g=p.Z1a(q);for(p=g.next();!p.done;){m=p.value;p=m.Nf.wa(m.Ud);q=h;h=q.add(p);if(h.greaterThan(d))return (d=d.wa(q),f.K && (0,k.assert)(d.gi(c.N.Ia) && d.lessThan(p)),{I:m.id,offset:d});p=g.next();if(p.done && n.b1b)return {I:m.id,offset:d.wa(q)};}};b.Cia=function(d,g){g=g.L[d.I];return d.offset.lessThan(c.N.Ia)?{v2:c.N.Ia,Hn:d.offset}:g.sa && (g=c.N.Ma(g.sa - g.ta),g.isFinite() && d.offset.greaterThan(g))?{v2:g,Hn:d.offset.wa(g)}:{v2:d.offset,Hn:c.N.Ia};};b.Bua=function(d,g){d=d.L[g.I];if(void 0 !== d)return null === d.sa || void 0 === d.sa?{I:g.I,offset:c.N.max(c.N.Ia,g.offset)}:{I:g.I,offset:c.N.max(c.N.Ia,c.N.min(g.offset,c.N.Ma(d.sa - d.ta)))};};},47052:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.SCa=void 0;r=a(70655);c=a(47571);k=r.__importDefault(a(16955)).default.LL;f=r.__importDefault(a(73764));l=r.__importDefault(a(29736));d=a(83440);g=a(4145);n=a(44724);h=a(2338);a=(function(){function m(p,q,u,t,w){this.config=p;this.W0b=q;this.navigator=u;this.events=t;this.console=w;p=(0,d.JZa)(this.config);this.C9=p.C9.bind(p);this.yva=p.yva.bind(p);this.Rla=p.Rla.bind(p);this.mna=p.mna.bind(p);this.p7a=[p.Ksa.bind(p),p.KV.bind(p)];}m.prototype.VZb=function(p,q,u,t,w,v,y,x){var z,A,B,C,D,F,G,E,J;A=[];if(!this.lsa(v.track,v.track.ha?v.track.gZa(t):void 0))return {stream:D,MW:A,reason:"locationSelectionFailure"};v.b2 && this.lsa(v.b2,v.b2.ha?v.b2.gZa(t):void 0);B=v.fl;t=B.ye;C=v.i4;D=t.Xn;F=this.rJb(v,q,p,u,y);G=F.first;if(0 === G.length && (null === y || void 0 === y?0:y.Hub))return {stream:void 0,MW:A,reason:"allStreamsFiltered"};D && !D.track.equals(v.track) && (D=this.DEb(D,G));E=v.mediaType;if((y=E === c.v.fa) && D && !this.A0b(t,D))return (this.config.r_a && this.C9(D.bitrate),{stream:D,MW:A});p=(0,c.Dsa)(p);q=this.fzb(p,q,w,v,!!x);w=this.p7a[E];x=y?this.mna():this.Rla();v=B.X9a(q,F,x,w,v.x1a(),v.track.pa.Qx,C);if(!v)return {stream:D,MW:A,reason:"streamSelectionFailure"};B={Ag:v.Ag,LV:v.LV};if(v.reason){J={reason:v.reason,SZb:v.Ss,y5:v.y5,oB:v.oB,pB:v.pB};this.ivb(E,G,u);}this.eCb(E,v,G);D=G[v.Qh];u=D.bitrate;y?this.config.r_a && this.C9(u):this.yva(u);t.J$a(D);if(null === (z=v.WE) || void 0 === z?0:z.length)A=v.WE.map(function(L){return (0,g.yc)(G,function(N){return N.id === L;});}).filter(g.z7);return {stream:D,MW:A,DL:J,Bt:B,Ev:v.Ev,rEb:G,WZb:v};};m.prototype.uia=function(p,q,u,t,w,v,y){var x,z,A;if(!(0,c.Un)(q))return {complete:!0,reason:"playing"};if(!v.v7a)return {complete:!1,reason:"unknown"};if(v.LTb)return ((0,n.assert)(v.d6a),v.d6a);x=v.fl;z=x.ye;u=this.eYa(v,u);A=z.Xn;z=u.Gm - u.Hd;if(z < this.config.Zq || void 0 === A)return {complete:!1,wA:z,reason:"preBuf"};if(v.mediaType === c.v.fa)return {complete:!0,wA:z,reason:"audio"};if(p=p.ASa(v.mediaType))return {complete:!0,wA:z,reason:p};this.lsa(v.track);p=new h.gea();p.Mga([A]);x.o7a(p,(0,c.Dsa)(q),u,this.p7a[v.mediaType]);q=x.s2(u,q,w,A,{Zu:y});if(!q.complete && t)return {complete:!0,reason:"prebufferTimeLimit",wA:z};q.wA=z;return q;};m.prototype.dk=function(p,q,u,t){return t?t.dk(p.track.Eg,q,u.wa(p.yb.se),p.Ug()):p.track.Eg;};m.prototype.rJb=function(p,q,u,t,w){var v;v=new h.gea();v.Mga(this.dk(p,u,t,w));q=p.yb.Lb.wa(q);for(q=this.config.gqa - q.G;0 < q;){p=this.navigator.next(p);if(null === p || void 0 === p || !p.Ug)break;v.Mga(this.dk(p,u,t,w));q-=p.yb.u.duration.G;}return v;};m.prototype.eCb=function(p,q,u){this.events.emit("streamSelection",{type:"streamSelection",mediaType:p,result:q,streamList:u});};m.prototype.dCb=function(p,q,u,t){p={type:"maxVideoBitrateChanged",time:l.default.time.Ga(),streaming:t,maxvb_old:p,maxvb:q,reason:u};this.events.emit(p.type,p);};m.prototype.DEb=function(p,q){var u;u=q[0];q.filter(function(t){return t.$F;}).every(function(t){return t.bitrate <= p.bitrate?u=t:!1;});return u;};m.prototype.A0b=function(p,q){return 0 < this.config.bX.length?!0:(p=p.RL) && p === q.location?!1:!0;};m.prototype.lsa=function(p,q){return p.pa.Tk.Ycb(p.pa.J,p.Eg,q);};m.prototype.eYa=function(p,q){var D;for(var u,t=q.wa(this.W0b),w=[],v=p,y=q,x,z,A=0,B=0,C=!0;v;){D=v.QYa(t);if(!C && !v.Zh)break;0 < D.Ka.length && (y=D.Ka[0].Bb,void 0 === x && (x=D.Ka[D.Ka.length - 1].Lb,z=D.b8 >= D.Ka.length?x:D.Ka[D.b8].Bb),w=D.Ka.concat(w),A+=0 < D.cr?D.cr:0,B+=D.cN);v=this.navigator.parent(v);C=!1;}return {GE:l.default.iT()[p.mediaType],ab:Math.floor(y.G),Hd:q.G,gl:Math.floor(null !== (u=null === x || void 0 === x?void 0:x.G) && void 0 !== u?u:q.G),Gm:Math.floor(z?z.G:q.G),qo:w.reduce(function(F,G){return F + G.Ba;},0),cr:A,cN:B,$cc:w.length,Ka:w};};m.prototype.fzb=function(p,q,u,t,w){var v,y,x;v=this.eYa(t,q);y=t.mediaType === c.v.X?this.config.wxa:this.config.sha;x=f.default.instance();return {state:p,CB:p === c.Cb.me,af:t.$B,playbackRate:u,buffer:v,s3:y,uS:w,$j:null === x || void 0 === x?void 0:x.$j,mediaType:t.mediaType,Hd:q.G,yta:0};};m.prototype.ivb=function(p,q,u){var v,y;if(p === c.v.X){p="manifest";for(var t=0,w=q.length - 1;0 <= w;--w){v=q[w];y=v.bitrate;if(k(v)){t=Math.max(t,y);break;}else this.config.f$ && !v.fv?p="bc":v.Qq?v.nB && (p="hf"):p="av";}this.$3a !== t && (this.dCb(this.$3a,t,p,u),this.$3a=t);}};return m;})();b.SCa=a;},38534:function(r,b,a){var c,k,f,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.DGa=void 0;c=a(70655);k=a(95994);f=a(12862);l=a(47571);d=a(74573);r=(function(){function g(n,h,m){this.kma=n;this.qHb=h;this.V=m;this.dh=new d.su({$m:this,console:m,source:"MemoryDeadlockProtector",bo:5});}g.prototype.wFb=function(n){var h,m,p,q;p=n.config;q=p.Zq + (null !== (m=null === (h=p.CN) || void 0 === h?void 0:h.G) && void 0 !== m?m:0);h=this.vKb(q,n);k.K && this.V.debug(("MDP: has prebuf: ").concat(h));return h?{l3:!0}:(m=this.uub(p),h=m.KTb,m=m.w5b,h && m?(k.K && this.V.debug(("MDP: utilizing ").concat(Math.round(100 * m),"%")),m >= p.uQb?this.j9a(n,h):{l3:!0}):{l3:!1});};g.prototype.j9a=function(n,h){var m,p,q,u,t,v,z,A;this.dh.ns({o:h});u=n.Z;n=n.Va;t=u.Va;u=u.Sq;for(var w=0;w < t.length;w++){if(!t[w].Zh){u=t[w];t=t.slice(0,w + 1);break;}}w=!1;v=[{mediaType:l.v.fa,sx:0},{mediaType:l.v.X,sx:0},{mediaType:l.v.Ya,sx:0}];if(null === u || void 0 === u || !u.Zh){n=n.map(function(C){return C;}).filter(function(C){return -1 === t.indexOf(C);}).sort(function(C,D){return (0,f.fia)(C) - (0,f.fia)(D);});try{for(var y=c.__values(n),x=y.next();!x.done;x=y.next()){z=x.value;A=z.aL();v[l.v.fa].sx+=null !== (p=A.bR) && void 0 !== p?p:0;v[l.v.X].sx+=null !== (q=A.EX) && void 0 !== q?q:0;k.K && this.V.debug(("Resetting discontiguous branch ").concat(z.u.id),A);z.reset();if(w=v.every(function(C){return C.sx >= h[C.mediaType].sx;}))break;}}catch(C){var B;B={error:C};}finally{try{x && !x.done && (m=y.return) && m.call(y);}finally{if(B)throw B.error;}}}return {l3:w,bdc:v};};g.prototype.uub=function(n){var h,m,p,q,u;h=[l.v.fa,l.v.X,l.v.Ya];if(!n.vQb)return {};m=this.qHb();p=this.kma().total;q=n.tQb;u=0;n=h.map(function(t){var w;w=m[t] - p[t] * q;u=Math.max(0 < p[t]?m[t] / p[t]:0,u);return {sx:Math.max(0,w),mediaType:t};});return {w5b:u,KTb:n};};g.prototype.vKb=function(n,h){var m,p;m=!1;h=h.Nq?h.Z:void 0;if(null === h || void 0 === h?0:h.SLb){m=h.Hy.Ns().map(function(q){return q.mediaType;});p=h.JGb();m=m.every(function(q){var u,t;if(q === l.v.fa)q=null !== (u=p.q1) && void 0 !== u?u:0;else if(q === l.v.X)q=null !== (t=p.J$) && void 0 !== t?t:0;else throw Error(("Unsupported media type:").concat(q));return q >= n;});}return m;};c.__decorate([(0,d.Rb)({methodName:"resetDiscontiguousBranches",return:!0,bk:!0})],g.prototype,"j9a",null);return g;})();b.DGa=r;},35340:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Oca=void 0;c=a(70655);k=a(28075);f=a(95994);l=a(44724);r=(function(){function d(){this.events=new k.EventEmitter();}d.prototype.va=function(g){var n;n=this;this.Aa=g;this.Aa.events.on("segmentNormalized",function(){n.O8();});this.O8();};Object.defineProperties(d.prototype,{dV:{get:function(){return this.qob;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{axa:{get:function(){(0,l.assert)(this.Aa,"Must be initialized");return this.Aa.ga;},enumerable:!1,configurable:!0}});d.prototype.O8=function(){var g,n,h;g=this;if(this.Aa){n={};h=this.Aa.ga;this.qob=c.__assign(c.__assign({},h),{L:new Proxy(h.L,{get:function(m,p){var q;if(n[p])return n[p];m=h.L[p];if(!m)return m;q=g.FIb(p);q?(q=q.Urb(),n[p]=c.__assign(c.__assign(c.__assign({},q),m),{ta:q.ta,sa:q.sa})):n[p]=h.L[p];return n[p];}})});this.events.emit("updated");}};d.prototype.FIb=function(g){var n;f.K && (0,l.assert)(this.Aa,"Must be initialized");n=this.Aa.navigator;return n.H_a(g)?n.Pd(g):void 0;};return d;})();b.Oca=r;},65533:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.FJa=void 0;c=a(74005);k=a(4145);f=a(44724);l=a(85341);r=(function(){function d(){this.Va=new c.RGa();this.im=new l.S_();}Object.defineProperties(d.prototype,{empty:{get:function(){return this.Va.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.Va.size;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var g;g=this.Va.values();this.Va.clear();this.im.clear();g.forEach(function(n){return n.Jf();});};d.prototype.mp=function(g){return this.Va.get(g);};d.prototype.has=function(g){return this.Va.has(g);};d.prototype.root=function(){return this.im.root;};d.prototype.contains=function(g){var n;n=g.u.id;if(this.has(n))return -1 !== this.mp(n).indexOf(g);};d.prototype.mF=function(g){this.im.mF(g);};d.prototype.L4=function(g){return this.im.parent(g);};d.prototype.EGb=function(g){return this.im.children(g);};d.prototype.vna=function(g){return this.im.vna(g);};d.prototype.bYb=function(g){var n;if(this.Va.delete(g.u.id,g)){n=this.im.children(g);this.im.root === g?0 === n.length?this.im.clear():((0,f.assert)(1 === n.length,"cannot remove the root branch with multiple successors"),this.im.nYb(n[0])):((0,f.assert)(0 === n.length,"cannot remove non-root branch with successors"),this.im.remove(g));}};d.prototype.forEach=function(g){var n;n=this;this.Va.forEach(function(h,m){return g(h,m,n);});};d.prototype.reduce=function(g,n){var h;h=this;return this.Va.reduce(function(m,p,q){return g(m,p,q,h);},n);};d.prototype.map=function(g){var n;n=this;return this.Va.map(function(h,m){return g(h,m,n);});};d.prototype.filter=function(g){var n;n=this;return this.Va.filter(function(h,m){return g(h,m,n);});};d.prototype.JJb=function(){var g;g={};this.forEach(function(n,h){var m;(n=n.Br) && (null !== (m=g[h]) && void 0 !== m?m:g[h]=[]).push(n.G);});return g;};d.prototype.u4b=function(g,n){var h,m,p;h=this;g=this.dzb(g,n);m=g.eBb(this.im);n=m.Oga;p=m.dN;m=m.U8a;this.im.clear();this.im=g;n.forEach(function(q){return h.Va.set(q.u.id,q);});n.forEach(function(q){return q.va();});p.forEach(function(q){return h.Va.delete(q.u.id,q);});return {dN:p,U8a:m};};d.prototype.dzb=function(g,n){var h,m,p;h=this;m=new Map();p=new l.S_();g.mF(function(q,u){var t,w;if(u){t=m.get(u);if(!t)return !0;}w=(0,k.yc)(h.mp(q.u.id),function(v){return h.im.parent(v) === t || !u;});w=null !== w && void 0 !== w?w:n(q.u.id,t);w.Yg=q.Yg;m.set(q,w);p.add(w,t);(null === w || void 0 === w?0:w.Sn) && w.update(q.u);return !0;});return p;};return d;})();b.FJa=r;},5456:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HJa=void 0;r=(function(){function a(c){this.console=c;this.Dia();}a.prototype.get=function(c){return this.uK[c] || this.ug[c];};a.prototype.set=function(c,k){void 0 === this.ug[c] && (this.ug[c]=k);};a.prototype.x_b=function(c,k){void 0 === this.get(c) && (this.uK[c]=k);};a.prototype.clear=function(c){this.uK[c]=void 0;this.ug[c]=void 0;};a.prototype.Evb=function(c){var k;this.ug=(k={},k[c]=this.ug[c],k);this.uK={};};a.prototype.Dia=function(){this.ug={};this.uK={};};a.prototype.toJSON=function(){return {ug:this.ug,uK:this.uK};};return a;})();b.HJa=r;},99568:function(r,b,a){var f,l,d;function c(g,n){var h,m;h=Object.keys(g);if(h.some(function(p){var q,u,t,w;return (null === (q=g[p]) || void 0 === q?void 0:q.Xd) !== (null === (u=n[p]) || void 0 === u?void 0:u.Xd) || (null === (t=g[p]) || void 0 === t?void 0:t.weight) !== (null === (w=n[p]) || void 0 === w?void 0:w.weight);}))return !0;m=Object.keys(n);return 0 !== f.__spreadArray(f.__spreadArray([],f.__read((0,l.kx)(h,m)),!1),f.__read((0,l.kx)(m,h)),!1).length?!0:!1;}function k(g,n){return g.some(function(h,m){var p;return 0 !== (0,l.kx)(h,null !== (p=n[m]) && void 0 !== p?p:[]).length;}) || g.length !== n.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.$Ra=b.CTa=void 0;f=a(70655);l=a(4145);d=a(74227);b.CTa=function(g){return new d.vBa(function(n){return Object.keys(n.u.next || ({})).map(function(h){var m,p,q;h=g.Pd(h);q=null !== (p=null === (m=n.Nf) || void 0 === m?void 0:m.wa(n.Ud).G) && void 0 !== p?p:Infinity;return {I5b:h,weight:q};});});};b.$Ra=function(g,n){var h,m,p,q,u,t;h=Object.keys(g.L);m=Object.keys(n.L);p=m.filter(function(w){return -1 === h.indexOf(w);});q=h.filter(function(w){return -1 === m.indexOf(w);});u=h.filter(function(w){var v,y,x,z,A;if(-1 === m.indexOf(w))v=!1;else {v=g.L[w];w=n.L[w];v=v.Ib !== w.Ib || v.sa !== w.sa || v.ta !== w.ta || v.Xd !== w.Xd || v.J !== w.J || k(null !== (y=v.Eq) && void 0 !== y?y:[],null !== (x=w.Eq) && void 0 !== x?x:[]) || c(null !== (z=v.next) && void 0 !== z?z:{},null !== (A=w.next) && void 0 !== A?A:{})?!0:!1;}return v;});t=(0,l.kx)(h,f.__spreadArray(f.__spreadArray(f.__spreadArray([],f.__read(u),!1),f.__read(p),!1),f.__read(q),!1));return {Oga:p,dN:q,$ub:u,g4b:t};};},42462:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.JJa=b.iD=void 0;c=a(70655);k=a(44724);(function(l){l[l.Xt=0]="CREATED";l[l.Tda=1]="STARTED";l[l.NP=2]="REQUEST_ISSUED";l[l.vw=3]="EVALUATED";l[l.TAa=4]="DESTRUCTED";})(f=b.iD || (b.iD={}));r=(function(){function l(d){this.pN=d;this.Sa=f.Xt;this.AC={};this.RW={};}Object.defineProperties(l.prototype,{state:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});l.prototype.start=function(){var d;d=this;this.Sa !== f.Tda && (this.QU(f.Tda),[f.vw,f.NP].forEach(function(g){var n;n=new Promise(function(h){(0,k.assert)(d.RW && d.AC,"state promises should be defined");d.RW[g]=h;d.AC[g]=n;});}),this.pN(),this.QU(f.vw));};l.prototype.QU=function(d){this.Sa=d;this.RW && (d=this.RW[d],null === d || void 0 === d?void 0:d());};l.prototype.Pa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Sa !== f.Tda)return [3,2];(0,k.assert)(this.AC,"state resolves should be defined");return [4,this.AC[f.vw]];case 1:(d.Qa(),d.label=2);case 2:return (this.RW=this.AC=void 0,this.Sa=f.TAa,[2]);}});});};l.prototype.T$=function(d,g){c.__awaiter(this,void 0,void 0,function(){var n;return c.__generator(this,function(h){switch(h.label){case 0:if(this.Sa === f.TAa)return [2];if(this.Sa === f.vw)return [3,6];(0,k.assert)(this.AC,"state promises should be defined");n=d;switch(n){case f.vw:return [3,1];case f.NP:return [3,3];}return [3,5];case 1:return [4,this.AC[f.vw]];case 2:return (h.Qa(),[3,6]);case 3:return [4,this.AC[f.NP]];case 4:return (h.Qa(),[3,6]);case 5:return [3,6];case 6:return (null === g || void 0 === g?void 0:g(),[2]);}});});};return l;})();b.JJa=r;},68397:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.OJa=void 0;c=a(70655);k=a(54531);r=(function(){function f(l){this.lj=l;this.L={};}Object.defineProperties(f.prototype,{ga:{get:function(){return this.lj;},enumerable:!1,configurable:!0}});f.prototype.H_a=function(l){return !!this.ga.L[l];};f.prototype.Pd=function(l){var d;d=this.L[l];if(void 0 === d){d=this.ga.L[l];if(void 0 === d)throw Error(("Segment not found (").concat(l,")"));d=new k.TJa(l,d,this.ga.Xd);this.L[l]=d;}return d;};f.prototype.tKb=function(l){return !(!l.u.next || !Object.keys(l.u.next).length);};f.prototype.WGb=function(l){var d;d=this;return l.u.next?Object.keys(l.u.next).map(function(g){return d.Pd(g);}):[];};f.prototype.Z1a=function(l){var d;return c.__generator(this,function(g){switch(g.label){case 0:return [4,l];case 1:(g.Qa(),d=l,g.label=2);case 2:if(!d.u.Ib)return [3,4];d=this.Pd(d.u.Ib);return [4,d];case 3:return (g.Qa(),[3,2]);case 4:return [2];}});};f.prototype.xKb=function(l,d){return (0,k.p1a)(l.T4(d));};f.prototype.aj=function(l){var d;d=this;Object.keys(l).forEach(function(g){var n;return null === (n=d.Pd(g)) || void 0 === n?void 0:n.aj(l[g]);});};f.prototype.update=function(l){var d;d=this;this.lj=l;Object.keys(this.L).forEach(function(g){var n;n=d.lj.L[g];n && d.L[g].update(n) || delete d.L[g];});};return f;})();b.OJa=r;},54531:function(r,b,a){var k,f,l;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.TJa=b.z_=b.p1a=void 0;k=a(70655);f=a(74005);l=a(44724);b.p1a=c;r=(function(){function d(g,n,h){this.region=g;this.La=n;this.$a=h;}d.prototype.toJSON=function(){return {region:this.region,ab:this.La.Fy,jf:this.$a.Fy};};return d;})();b.z_=r;r=(function(){function d(g,n,h){var m;m=this;this.id=g;this.Hi=n;this.BOa=!1;this.T4=function(p){var q,u,t,w;return (null === (q=m.Pv) || void 0 === q?0:q.length)?"immediate":null !== (w=null === (t=null === (u=m.u.next) || void 0 === u?void 0:u[p]) || void 0 === t?void 0:t.Xd) && void 0 !== w?w:m.Xd;};this.$Lb(n);this.M0a(n,h);this.K0a();(0,l.assert)(this.Y0.lessThan(this.t0),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{u:{get:function(){return this.Hi;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{J:{get:function(){return this.u.J;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yp:{get:function(){return this.BOa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ud:{get:function(){return this.Y0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Nf:{get:function(){return this.t0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.t0.wa(this.Y0);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{gX:{get:function(){return this.yy.length?!this.u.Ib && 0 === this.pM.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{s1a:{get:function(){return !this.u.type || "content" === this.u.type;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{GRb:{get:function(){return this.Yz;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yy:{get:function(){var g,n;return Object.keys(null !== (n=null === (g=this.u) || void 0 === g?void 0:g.next) && void 0 !== n?n:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pM:{get:function(){var g;g=this;return this.yy.filter(function(n){return !!g.Yz[n];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{lwa:{get:function(){var g;return null !== (g=this.tPa) && void 0 !== g?g:this.tPa=this.Bub();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{g$:{get:function(){var g;return null !== (g=this.uPa) && void 0 !== g?g:this.uPa=this.Cub();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Sy:{get:function(){return this.u.weight?this.u.weight / (this.u.weight + this.g$):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Xd:{get:function(){var g;return (null === (g=this.Pv) || void 0 === g?0:g.length)?"immediate":this.j1;},enumerable:!1,configurable:!0}});d.prototype.$Lb=function(g){var n;this.Y0=new f.N(g.ta,1E3);this.t0=void 0 !== g.sa && null !== g.sa?new f.N(g.sa,1E3):f.N.rp;this.j1=null !== (n=this.Hi.Xd) && void 0 !== n?n:this.j1;};d.prototype.M0a=function(g,n){var h,m,p;this.j1=null !== (p=null !== (m=null !== (h=g.Xd) && void 0 !== h?h:n) && void 0 !== m?m:this.j1) && void 0 !== p?p:"lazy";};d.prototype.normalize=function(g,n,h){this.Y0=g;this.t0=n;this.Pv=h;this.BOa=!0;this.ceb();};d.prototype.update=function(g){(0,l.assert)(g.J === this.Hi.J,"Cannot change the viewable id of a segment");(0,l.assert)(g.ta === this.Hi.ta,"Cannot change the start time of a segment");(0,l.assert)(g.type === this.Hi.type,"Cannot change the type of a segment");if(g.sa !== this.Hi.sa)return !1;g.Xd !== this.Hi.Xd && this.M0a(g);this.Hi=g;return !0;};d.prototype.yYa=function(){var g;return this.pM.length?null !== (g=this.pM.map(this.T4).reduce(function(n,h){return n === h?h:void 0;})) && void 0 !== g?g:this.Xd:this.Xd;};d.prototype.aj=function(g){this.K0a(g);};d.prototype.qub=function(g){var n,h;if(this.lwa){n=(this.Yz[g] || 0) / this.lwa;if(void 0 === this.u.weight || 0 === this.g$)return {rf:n};h=this.Sy;return 1 !== h && c(this.T4(g)) && this.Yz[g]?{rf:h * n,qB:this.Yz[g] / this.g$ * (1 - h)}:{rf:h * n};}return {rf:(null === (n=this.u.next) || void 0 === n?0:n[g])?1 / this.yy.length:0};};d.prototype.BKb=function(g){return -1 < this.yy.indexOf(g);};d.prototype.Urb=function(){return this.yp?k.__assign(k.__assign({},this.u),{ta:this.Ud.G,sa:this.Nf.G}):this.u;};d.prototype.K0a=function(g){var n;if(void 0 === this.u.next)this.Yz={};else {n=this.u.next;this.Yz=Object.keys(n).reduce(function(h,m){var p;p=g?g[m] || 0:n[m].weight;void 0 !== p && null !== p && 0 <= p && (h[m]=p);return h;},{});}this.ceb();};d.prototype.Bub=function(){var g;g=this;return this.pM.reduce(function(n,h){return n + g.Yz[h];},0);};d.prototype.Cub=function(){var g;g=this;return this.pM.filter(function(n){return c(g.T4(n));}).reduce(function(n,h){return n + g.Yz[h];},0);};d.prototype.ceb=function(){this.uPa=this.tPa=void 0;};return d;})();b.TJa=r;},75559:function(r,b,a){var k,f,l;function c(d,g,n,h,m){var p,q,u,t,w,v,y,x,z,A,B,C,D,F,G,E,J,L,N,I,O,K,H;y=d.console;x=d.n4b;z=d.ug;A=d.KYb;B=d.sBb;C=d.Dqa;D=d.Mha;d=d.ITb;F=m || ({complete:!0,Br:0});G=F.root;E=F.complete;J=F.jqb;L=F.e9a;L=void 0 === L?0:L;F=F.Br;N=L < A.length && A[L].id === g.id;I=L < A.length?A[L].id:h && z.get(h.id);O=m && h && I !== g.id?void 0 !== I?{rf:0}:h.qub(g.id):{rf:1};z=O.rf;O=O.qB;K=void 0 === O?0:O;O=(z + K) * (null !== (p=null === m || void 0 === m?void 0:m.hWb) && void 0 !== p?p:1);l && y.trace(("reevaluateBranches: visiting ").concat(g.id,", ") + ("distance: ").concat(n,", ") + ("probability: ").concat(O,", ") + ("predecessor: ").concat(null === h || void 0 === h?void 0:h.id,", ") + ("decision: ").concat(I,", ") + ("predecessorComplete: ").concat(E,", ") + ("isOnRequiredPath: ").concat(N,", ") + ("requiredPathIndex: ").concat(L,", ") + ("activeDistance: ").concat(J,", ") + ("seamless ").concat(z,", ") + ("immediate ").concat(K,", ") + ("predecessor sum of: successor weights=").concat(null === h || void 0 === h?void 0:h.lwa,", ") + ("immediate weights= ").concat(null === h || void 0 === h?void 0:h.g$));p=null !== (u=null === (q=x[g.id]) || void 0 === q?void 0:q.shift()) && void 0 !== u?u:g.duration.G;q=0 === p;if(!N){if(0 === O)return {R$:!1,C1:!0};if(!E && 0 === K && F > D)return (d.QA=Math.min(d.QA || Infinity,F - D),{R$:!1,C1:!0});if(!q && n >= B && 1 > O || !1 === G && O < C)return {R$:!1,C1:!0};}if(L < A.length){(0,k.assert)(A[L].id === g.id,"");H={duration:A[L].duration};}m=null !== (t=null === m || void 0 === m?void 0:m.Yg) && void 0 !== t?t:[];h && 1 > z && (0 === K?m=m.concat([{rf:z}]):(t=(null === (v=null === (w=h.u.Eq) || void 0 === w?void 0:w[0]) || void 0 === v?void 0:v[0]) || 0,w=Math.max(0,h.duration.G - t),l && y.trace(("reevaluateBranches: immediate: ").concat(h.duration.G,", ").concat(t,", ").concat(w)),m=m.concat([{rf:z,qB:K,duration:w}])));w=d.eua.gXa(function(M){return M.u === h;});d.eua.add({u:g,Yg:m,yb:H},w);n=E?n + g.duration.G:J;l && y.trace(("reevaluateBranches: added ").concat(g.id,", visiting successors, ") + ("active distance: ").concat(n," ") + ("probabilities: ").concat(JSON.stringify(m)));return {R$:!0,C1:N,state:{root:!h,complete:q,hWb:O,Yg:m,jqb:n,e9a:L + 1,Br:F + p}};}Object.defineProperties(b,{__esModule:{value:!0}});b.y3b=b.$5b=b.P8=void 0;k=a(44724);r=a(95994);f=a(85341);l=r.K && !1;b.P8=function(d,g,n,h,m,p,q,u,t){var w,v,y,x;v={eua:new f.S_()};y=(null === (w=n.Nf) || void 0 === w?void 0:w.wa(n.Ud).G) || 0;0 < p.length && (0,k.assert)(n.id === p[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");l && d.trace(("reevaluateBranches: starting at ").concat(n.id," ") + ("requiredPath: ").concat(JSON.stringify(p)));x={console:d,n4b:h,ug:m,KYb:p,sBb:q.G + y,Dqa:u,Mha:t.G,ITb:v};g.Z5b(n,function(z,A,B,C){return c(x,z,A,B,C);});return v;};b.$5b=c;b.y3b=function(d,g,n){var h;h=(0,f.y7a)(g,function(m){return ("").concat(m.u.id);});n(("requiredBranches(").concat(d,")"),h.replace(/\n/g,"<>"));n(("requiredBranches(").concat(d,")"),g.values.map(function(m){var p;return ("").concat(m.u.id,"::").concat(null === (p=g.parent(m)) || void 0 === p?void 0:p.u.id);}).join(", "));};},19824:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.JKa=void 0;c=a(51472);r=(function(){function k(f,l){this.Vta=l;this.jW=[];this.jW.push(f);}k.prototype.mo=function(f,l){return c.PO.G5({J:f,gW:l},this.jW);};k.prototype.Sv=function(f){return this.Vta(f);};k.prototype.mYb=function(f){this.jW.pop();this.jW.push(f);};k.prototype.XPa=function(f){this.jW.unshift(f);};return k;})();b.JKa=r;},43450:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.eLa=void 0;c=a(70655);k=a(70950);f=a(44724);b.eLa=(function(){function l(){}l.RJb=function(d){var g,n,h;if(d.Ug){h=c.__read(d.Wd,2);d=h[0];h=h[1];if(d.ha || (null === h || void 0 === h?0:h.ha))return {Odb:k.N.rp,Pdb:k.N.rp};d=null === (g=d.ro) || void 0 === g?void 0:g.Nf;g=null === (n=null === h || void 0 === h?void 0:h.ro) || void 0 === n?void 0:n.Nf;(0,f.assert)(d);n=g?k.N.min(d,g):d;return {Odb:d,Pdb:n};}};return l;})();},62437:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$Za=void 0;b.$Za=function(a,c){return a.reduce(function(k,f){return k + f.u4(c).G;},0);};},81545:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bYa=void 0;c=a(46044);b.bYa=function(k,f){return k.reduce(function(l,d){var g;g=f(d);d.Ns().forEach(function(n){return l.Dga(n.mediaType,n.pA,!g);});return l;},new c.NJa());};},88414:function(r,b,a){var k,f;function c(l,d){return Object.keys(l.TG).map(function(g){return l.TG[g];}).filter(function(g){return void 0 === g.JF || 1 === g.JF;}).reduce(function(g,n){return g + n.zq[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.NLa=void 0;k=a(47571);f=a(95994);r=(function(){function l(d,g,n){this.ga=d;this.console=g;this.kma=n;}l.prototype.Iub=function(d,g,n){var h,m,p,q;h=n && this.ga.config.r5b;m=this.ga.config.C$ || h;p=this.kma();if(h){h=d.global;h=(q={},q[k.v.fa]=h[k.v.fa] - c(d,k.v.fa),q[k.v.X]=h[k.v.X] - c(d,k.v.X),q[k.v.Ya]=h[k.v.Ya] - c(d,k.v.Ya),q);}q=h;p=this.ASa(g) || this.nvb(d) || this.lvb(d,p,q) || this.mvb(d,p,q,g);q=(0,k.wta)(p);if(p && (!q || m))return (f.K && this.console.log(("canIssueRequest ").concat(this.ga.id," [").concat(g,"] static limit: ") + ("").concat(n,", usage: ").concat(JSON.stringify(d),", failed ").concat(p)),{result:!1,reason:p});f.K && this.console.log(("canIssueRequest ").concat(this.ga.id," [").concat(g,"] static limit: ") + ("").concat(n,", usage: ").concat(JSON.stringify(d),", success ").concat(p));return {result:!0,reason:p};};l.prototype.ASa=function(d){var g;g=this.ga.config.oG;if(this.ga.dHb(d) >= (g || Infinity))return "mediaDurationLimit";};l.prototype.nvb=function(d){return d.TG[this.ga.id].total.total > (this.ga.H4() || Infinity)?"playgraphMemoryLimit":void 0;};l.prototype.lvb=function(d,g,n){d=d.global;return n?n[k.v.fa] + n[k.v.X] > (g.Zva.total || Infinity)?"staticMemoryLimit":void 0:d.total > (g.total.total || Infinity)?"globalMemoryLimit":void 0;};l.prototype.mvb=function(d,g,n,h){var m;m=d.global;return n?(f.K && this.console.log(("checkRequestByMediaTypeMemory [").concat(h,"]:") + (" using static limit ").concat(g.Zva[h],", usage: ").concat(n) + (" (global: ").concat(m[h]," ") + (" - certain contiguous: ").concat(c(d,h),")")),n[h] > (g.Zva[h] || Infinity)?h === k.v.X?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):m[h] > (g.total[h] || Infinity)?h === k.v.X?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return l;})();b.NLa=r;},38104:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rz=void 0;c=a(47571);k=a(312);f=a(35619);r=(function(){var L0p;L0p=2;for(;L0p !== 6;){switch(L0p){case 2:l.prototype.pVa=function(d,g){var J1u,n;J1u=2;for(;J1u !== 4;){switch(J1u){case 5:return d;break;case 2:n=null === this.U1?d * (100 - this.config.iX) / 100:(0,f.fha)(d,this.U1);this.config.npa && g?(d=(0,f.fha)(d,g),d=Math.max(d,n)):d=n;J1u=5;break;}}};L0p=1;break;case 1:l.prototype.Cva=function(d){var P8Q;P8Q=2;for(;P8Q !== 1;){switch(P8Q){case 2:return this.config.aWa && (d === c.Cb.Dk || d === c.Cb.Qe);break;}}};l.prototype.Tm=function(d,g){var m84,n,h,m;m84=2;for(;m84 !== 5;){switch(m84){case 2:return this.Cva(g)?(null === (n=d.QT) || void 0 === n?void 0:n.Da) || (null === (h=d.qb) || void 0 === h?void 0:h.Da) || 0:(null === (m=d.qb) || void 0 === m?void 0:m.Da) || 0;break;}}};l.prototype.C9=function(d){var r1G;r1G=2;for(;r1G !== 1;){switch(r1G){case 2:this.U1=d;r1G=1;break;}}};l.prototype.Rla=function(){var P_I;P_I=2;for(;P_I !== 1;){switch(P_I){case 2:return this.U1;break;case 4:return this.U1;break;}}};L0p=9;break;case 9:l.prototype.yva=function(d){var e_P;e_P=2;for(;e_P !== 1;){switch(e_P){case 2:this.Ldb=d;e_P=1;break;case 4:this.Ldb=d;e_P=5;break;}}};l.prototype.mna=function(){var l$G;l$G=2;for(;l$G !== 1;){switch(l$G){case 2:return this.Ldb;break;}}};return l;break;}}function l(d){var d_y,g;d_y=2;for(;d_y !== 9;){switch(d_y){case 2:var i14="1SI";i14+="Y";i14+="bZ";i14+="rNJCp9";g=this;this.config=d;this.Ldb=this.U1=null;this.Ksa=function(n,h,m){var B6S;B6S=2;for(;B6S !== 5;){switch(B6S){case 2:n=g.Tm(n,m);return g.config.wRa?(h=(0,k.J3)(g.config.vRa,h.Gm - h.Hd,1),{lower:n * (1 - h),upper:void 0}):{lower:n * g.config.iX / 100,upper:void 0};break;}}};i14;d_y=9;break;}}}})();b.rz=r;},23174:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.EAa=void 0;c=a(70655);k=a(47571);r=a(38104);f=a(78570);a=(function(l){var F87;F87=2;function d(g){var S8n,n;S8n=2;for(;S8n !== 9;){switch(S8n){case 4:var D7y="1";D7y+="SI";D7y+="Yb";D7y+="ZrNJCp9";D7y;return n;break;case 2:n=l.call(this,g) || this;n.KV=function(h,m,p,q){var V5z,A$S;V5z=2;for(;V5z !== 11;){switch(V5z){case 9:V5z=p === k.Cb.Dk?8:6;break;case 5:var a9m="deliver";a9m+="yti";a9m+="me";a9m+="-ci";A$S=n.config.Bia;V5z=A$S === a9m?4:13;break;case 6:V5z=p === k.Cb.Qe?8:14;break;case 1:return n.APb.KV(h,m,p,q);break;case 4:var f$G="delive";f$G+="r";f$G+="yt";f$G+="im";f$G+="e-ci";m=h[f$G];V5z=3;break;case 14:V5z=7;break;case 2:V5z=n.Cva(p)?1:5;break;case 12:var W_K="t";W_K+="hr";W_K+="oug";W_K+="h";W_K+="put-ci";m=h[W_K];V5z=3;break;case 3:q=n.config.oxa * h.qb.Da;V5z=9;break;case 13:V5z=12;break;case 8:return {lower:(null === m || void 0 === m?void 0:m.initial) || h.qb.Da,upper:(null === m || void 0 === m?void 0:m.high) || q};break;case 7:return {lower:(null === m || void 0 === m?void 0:m.low) || h.qb.Da,upper:(null === m || void 0 === m?void 0:m.high) || q};break;}}};n.APb=new f.Aca(g);S8n=4;break;case 13:"";return n;break;}}}for(;F87 !== 5;){switch(F87){case 2:c.__extends(d,l);return d;break;}}})(r.rz);b.EAa=a;},83440:function(r,b,a){var c,k,f,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.JZa=b.rz=void 0;c=a(78570);k=a(16038);f=a(1689);l=a(23174);d=a(38104);Object.defineProperties(b,{rz:{enumerable:!0,get:function(){return d.rz;}}});b.JZa=function(g){switch(g.Vpa){case "manifold":return new c.Aca(g);case "stddev":return new f.FLa(g);case "ci":return new l.EAa(g);default:return new k.pLa(g);}};},78570:function(r,b,a){var c,k,f,l,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Aca=void 0;c=a(70655);r=c.__importStar(a(312));k=c.__importDefault(a(29736));a=a(38104);f=r.gK;l=r.JSa;d=r.J3;g=r.zWa;n=r.I9a;new k.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(h){var R3w;R3w=2;function m(p){var q3h,q;q3h=2;for(;q3h !== 13;){switch(q3h){case 6:var r8K="1";r8K+="SIYbZr";r8K+="NJC";r8K+="p9";r8K;return q;break;case 9:q.filter=p.rs.filter;q.R0b=!!p.rs.simpleScaling;p.rs.niqrfilter && p.rs.niqrcurve && (q.c5a=p.rs.niqrfilter,q.IRb=l(p.rs.niqrcurve,1,0,4));q3h=6;break;case 1:q.KV=function(u,t,w,v){var d2z,y,x,z;d2z=2;for(;d2z !== 14;){switch(d2z){case 8:void 0 !== u && (x=g(q.IRb,u),t=Math.min(t * x,1));R7xOY.m_t(11);v=q.pVa(R7xOY.N0G(t,1,z),v);return {lower:v,upper:v * q.config.oxa};break;case 2:z=q.Tm(u,w);w=q.Cva(w)?z:(null === (y=u[q.filter]) || void 0 === y?void 0:y.Da) || z;y=Math.pow(Math.max(1 - w / q.ctb,0),q.$sb);w=t.Gm - t.Hd;q.R0b?(t=d(q.AUa,w,1),w=d(q.zUa,w,1),t=t * y + w * (1 - y)):t=d(n(q.AUa,q.zUa,y),w,1);u=q.c5a && (null === (x=u[q.c5a]) || void 0 === x?void 0:x.Uqa);d2z=8;break;}}};Array.isArray(p.rs.curves) && (q.AUa=l(p.rs.curves[0],0,0,1),q.zUa=l(p.rs.curves[1],0,0,1));q.ctb=f(p.rs.threshold || 6E3,1,1E5);q.$sb=f(p.rs.gamma || 1,.1,10);q3h=9;break;case 2:q=h.call(this,p) || this;q3h=1;break;}}}for(;R3w !== 5;){switch(R3w){case 2:c.__extends(m,h);return m;break;}}})(a.rz);b.Aca=a;},16038:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pLa=void 0;c=a(70655);r=c.__importDefault(a(29736));k=a(38104);f=a(35619);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(l){function d(g){var u2n,n;u2n=2;for(;u2n !== 3;){switch(u2n){case 2:var c46="1SI";c46+="Yb";c46+="ZrNJCp";c46+="9";n=l.call(this,g) || this;n.KV=function(h,m,p,q){var F6u,u;F6u=2;for(;F6u !== 9;){switch(F6u){case 2:u=n.Tm(h,p);h=n.I0b(h,p);m=u?u * (100 - n.oGb(m,h)) / 100 | 0:0;F6u=4;break;case 4:q=n.pVa(m,q);return {lower:q,upper:q * n.config.oxa};break;}}};c46;return n;break;}}}var l4n;l4n=2;for(;l4n !== 3;){switch(l4n){case 2:c.__extends(d,l);d.prototype.oGb=function(g,n){var g3X,h,m;g3X=2;for(;g3X !== 3;){switch(g3X){case 2:(h=this.config,m=n?h.aja:h.Dha);n=n?h.bja:h.Fha;Array.isArray(n) && (m=(0,f.yWa)(n,g.Gm - g.Hd,h.Eha));g3X=4;break;case 4:return m;break;}}};d.prototype.I0b=function(g,n){var l3W;l3W=2;for(;l3W !== 5;){switch(l3W){case 2:g=this.Tm(g,n);return this.config.qwa && g < this.config.cja;break;}}};return d;break;}}})(k.rz);b.pLa=a;},1689:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FLa=void 0;c=a(70655);r=a(38104);r=(function(k){var Q7K;function f(l){var W15,d;W15=2;for(;W15 !== 3;){switch(W15){case 14:return d;break;case 4:return d;break;case 2:var n4j="1";n4j+="S";n4j+="IYbZrN";n4j+="JCp9";d=k.call(this,l) || this;d.KV=function(g){var L29,d3N,n;L29=2;for(;L29 !== 10;){switch(L29){case 4:return n;break;case 5:L29=!g.Jm || !g.Jm.Da?4:3;break;case 3:n=Math.sqrt(g.Jm.Zd || 0);L29=9;break;case 14:L29=g.Jm && g.Jm.oO?13:4;break;case 1:var t4Y="d";t4Y+="eliver";t4Y+="ytime";d3N=d.config.C1b;L29=d3N === t4Y?5:12;break;case 8:L29=!g.Jm || !g.Jm.VJ?4:7;break;case 7:n=Math.sqrt(g.Jm.oO || 0);L29=6;break;case 11:var G29="e";G29+="w";G29+="m";G29+="a";L29=d3N === G29?14:4;break;case 12:var H8S="ave";H8S+="rage";H8S+="tp";L29=d3N === H8S?8:11;break;case 6:return {lower:g.Jm.VJ + d.config.$va * n,upper:g.Jm.VJ + d.config.awa * n};break;case 2:n={lower:g.qb.Da,upper:void 0};L29=1;break;case 9:return {lower:8 / (g.Jm.Da + d.config.$va * n),upper:8 / (g.Jm.Da - d.config.awa * n)};break;case 13:return (n=Math.sqrt(g.Jm.oO || 0),{lower:g.qb.Da + d.config.$va * n,upper:g.qb.Da + d.config.awa * n});break;}}};n4j;W15=4;break;}}}Q7K=2;for(;Q7K !== 5;){switch(Q7K){case 2:c.__extends(f,k);return f;break;}}})(r.rz);b.FLa=r;},35619:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fha=b.Ksa=b.yWa=void 0;c=a(312);b.yWa=function(k,f,l){var d,g,n;d=0;if(l){k.some(function(h){var m;m=h.b;h=h.m;if(f <= m)return (d=n && m !== g?n + (h - n) / (m - g) * (f - g):h,!0);g=m;d=n=h;return !1;});}else k.some(function(h){d=h.m;return f <= h.b;});return d;};b.Ksa=function(k,f,l){var d;f=(null === (d=f.qb) || void 0 === d?void 0:d.Da) || 0;return k.wRa?(k=(0,c.J3)(k.vRa,l.Gm - l.Hd,1),f * (1 - k)):f * k.iX / 100;};b.fha=function(k,f){return k < 2 * f?k / 2:k - f;};},76613:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.OAa=b.RAa=void 0;c=a(71820);k=a(56714);b.RAa=625E3;r=(function(){function f(l){this.config=l;}f.prototype.aSa=function(l){var d,g,n,h,m;d=this.config.Pja;g=this.config.tec || this.config.Oja;n=0 < l.p_a.rB;h=n?g * b.RAa / 1E3:this.config.KU || Infinity;m=n?Math.floor(l.p_a.rB / h):d;return {Yl:l.q6b.sort(function(p,q){return p.priority - q.priority;}).slice(0,d).map(function(p,q){var u;u=p.key.config;return {T1a:{rB:q > m - 1?0:h},Dd:p,q8:1,vi:u,K1b:{audio:[(0,c.lK)(u),new k.dea()],video:[(0,c.mK)(u),new k.dea()]}};})};};return f;})();b.OAa=r;},66904:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jBa=void 0;c=a(70655);k=a(41427);f=a(86021);r=(function(){function l(){}l.prototype.w3a=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,n,h,m,p;return c.__generator(this,function(q){switch(q.label){case 0:g=d.Dd.key;if(!(0,f.eU)(g))return [3,2];n=g.J;h=d.Dd.Pe.Qm(n);return [4,Promise.resolve(h.Vp)];case 1:return (m=q.Qa(),p=m.W,p.fp?[2,(0,k.t2)(p.fp,{config:m.config})]:[2,(0,k.Q9)(n,"ps0")]);case 2:return [2,g.ga];}});});};return l;})();b.jBa=r;},23983:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ja=void 0;c=a(95994);k=a(38761);b.$Ja=(function(){function f(){}f.oYb=function(l,d,g,n){l.events.once("seeking",function(h){var m,p;m=h.position;p=g.length;h.duplicate || (g.T8(function(q){return "segmentNormalized" !== q.Dq;}),c.K && n.log(("Discarding ").concat(p - g.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,k.a5)(d)) + (" due to seek to ").concat((0,k.a5)(m))));c.K && n.log(("Replaying ").concat(g.length," events from prefetched playgraph") + ("for seek postition ").concat((0,k.a5)(m)));g.Rta();g.Pa();});};return f;})();},12568:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.bKa=void 0;c=a(70655);k=a(28075);f=a(47571);l=a(74005);d=a(51472);g=a(4145);n=a(44724);h=a(57538);m=a(95994);p=a(71820);q=a(3346);u=c.__importDefault(a(29736));t=a(96649);w=a(66904);v=a(11974);y=a(76613);x=a(86021);z=a(23983);A=a(68332);r=(function(){function B(C,D,F,G,E){void 0 === G && (G=new v.kBa());void 0 === E && (E=new w.jBa());this.rWa=C;this.config=D;this.v8a=G;this.Yl=[];this.r7a=[];this.hw=[];this.Tf={X1a:0,Y1a:0,U1a:0,Xha:0,V1a:0,W1a:0,Yha:0};this.events=new k.EventEmitter();this.V=(0,l.Kh)(u.default,F,"PREFETCH");this.fQa(new y.OAa(D));this.fQa(new A.lLa(D));this.m$a({rB:D.AVb});this.mva(E);this.PLb();}Object.defineProperties(B.prototype,{BVb:{get:function(){return this.Yl.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});B.prototype.H$a=function(C){m.K && (0,n.assert)(C,"Reconciliation strategy is undefined");this.v8a=C;return this;};B.prototype.fQa=function(C){this.r7a.unshift(C);};B.prototype.P$a=function(C){m.K && this.V.debug("Wish list changed",{Qec:C.length});this.hw=C;this.ata();};B.prototype.reset=function(){var C,G,E,J,L,N;if(this.config.JVb)try{for(var D=c.__values(this.Yl),F=D.next();!F.done;F=D.next()){G=F.value;E=G.ga;J=G.c6;L=G.context;if(E){E.Jf();J.T8(function(O){return "segmentNormalized" !== O.Dq;});N=(0,x.Uma)(L.Dd,E.ga);E.vC(N);}}}catch(O){var I;I={error:O};}finally{try{F && !F.done && (C=D.return) && C.call(D);}finally{if(I)throw I.error;}}else this.P$a([]);};B.prototype.m$a=function(C){m.K && this.V.debug("Budget changed",{ASb:this.GR,yRb:C});this.GR=C;this.ata();};B.prototype.zvb=function(C,D){var F,G,E,J;m.K && this.V.debug("Looking for playgraph to claim");if(C=this.v8a.fXa(this.Yl,{ga:C,vi:D}))if((D=this.hw.indexOf(C.context.Dd),m.K && this.V.debug(("Claiming item: ").concat((0,x.Um)(C.context.Dd.key)),{Cl:u.default.time.Ga() - C.ywa,buffer:null === (F=C.ga) || void 0 === F?void 0:F.On(l.N.Ia)}),this.AK(C.context,{Xoa:!!C.ga}),C.ga)){F=C.ga;E=C.gN;J=F.vh;z.$Ja.oYb(F,J,C.c6,this.V);E.yZb(null !== (G=F.KF(J)) && void 0 !== G?G:l.N.Ia,D);F.Icb({rB:this.config.KU || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.Dd,videoBytesBuffered:C.ga.tF().EX,audioBytesBuffered:C.ga.tF().bR});}this.config.srb || this.reset();return null === C || void 0 === C?void 0:C.ga;};B.prototype.yvb=function(){};B.prototype.getStats=function(){var C;C=u.default.time.Ga();return {wishListLength:this.hw.length,prefetchList:this.BVb.length,contents:this.Yl.map(function(D){var F,G,E,J,L;return {id:(0,x.Um)(D.context.Dd.key),buffer:null === (F=D.ga) || void 0 === F?void 0:F.On(l.N.Ia),pId:null === (G=D.ga) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:D.context.T1a.rB},weight:D.context.q8,age:C - D.ywa,timeOpened:C - (null !== (E=D.g3b) && void 0 !== E?E:0),state:f.Wc[null !== (L=null === (J=D.ga) || void 0 === J?void 0:J.ff.value) && void 0 !== L?L:f.Wc.Rr]};}),aggregated:{itemsRequested:this.Tf.X1a,itemsStarted:this.Tf.Y1a,itemsClaimed:this.Tf.U1a,bytesClaimed:this.Tf.Xha,itemsCompleted:this.Tf.V1a,itemsDiscarded:this.Tf.W1a,bytesDiscarded:this.Tf.Yha}};};B.prototype.AK=function(C,D){var F;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var G,E,J,L,N,I;return c.__generator(this,function(O){switch(O.label){case 0:G=c.__assign({Xoa:!1,c2a:!1},D);E=G.Xoa;J=G.c2a;L=(0,g.yc)(this.Yl,function(K){return K.context === C;});if(!L)return [3,3];this.Yl.splice(this.Yl.indexOf(L),1);J || (N=this.hw.length,this.hw=this.hw.filter(function(K){return K !== C.Dd;}),m.K && this.V.info("Dropping items from wishlist",N - this.hw.length),this.hw.length >= N && m.K && this.V.warn("Unable to filter out wishlist item",this.hw.map(function(K){return K.key;}),C.Dd.key));m.K && this.V.debug("Dropping playgraph",{Cl:u.default.time.Ga() - L.ywa,buffer:null === (F=L.ga) || void 0 === F?void 0:F.On(l.N.Ia),J:(0,x.Um)(C.Dd.key),qfc:!E,Ncc:!J});L.ZA.clear();if(E)return [3,2];I=this.Oy(L);return L.ga?[4,I]:[3,2];case 1:(O.Qa(),O.label=2);case 2:(this.ata(),O.label=3);case 3:return [2];}});});};B.prototype.mva=function(C){(0,n.assert)(C,"Playgraph resolver is undefined");this.Gsa=C;return this;};B.prototype.PLb=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.Tf.V1a++;});this.events.on("prefetchStarted",function(){return C.Tf.Y1a++;});this.events.on("itemQueued",function(){return C.Tf.X1a++;});this.events.on("itemClaimed",function(D){var F,G;C.Tf.U1a++;C.Tf.Xha+=(null !== (F=D.N5b) && void 0 !== F?F:0) + (null !== (G=D.xsb) && void 0 !== G?G:0);});this.events.on("itemDropped",function(D){var F,G;C.Tf.W1a++;C.Tf.Yha+=(null !== (F=D.N5b) && void 0 !== F?F:0) + (null !== (G=D.xsb) && void 0 !== G?G:0);});};B.prototype.ata=function(){var C,D,F,G,E,J;C=this;D=d.PO.G5({q6b:this.hw,p_a:this.GR},this.r7a.map(function(L){return L.aSa.bind(L);})).Yl;F=(0,g.kx)(D,this.Yl,function(L,N){return (0,x.isEqual)(L.Dd.key,N.context.Dd.key);});G=(0,g.kx)(this.Yl,D,function(L,N){return (0,x.isEqual)(L.context.Dd.key,N.Dd.key);});E=(0,g.kx)(this.Yl,G);m.K && this.V.debug(("Re-evaluated prefetch items. new:").concat(F.length,", evict: ").concat(G.length,", update: ").concat(F.length));G=G.map(function(L){var N;N=L.context.Dd.key;m.K && C.V.debug("Releasing playgraph",(0,x.Um)(N));return C.Oy(L).then(function(){C.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:L.context.Dd});});});J=E.map(function(L){return c.__awaiter(C,void 0,void 0,function(){var N,I;return c.__generator(this,function(O){switch(O.label){case 0:(N=(0,g.yc)(D,function(K){return (0,x.isEqual)(K.Dd.key,L.context.Dd.key);}),(0,n.assert)(N,"Couldn't find the requested item context"),L.context=N,O.label=1);case 1:return (O.Oj.push([1,3,,4]),[4,L.p8]);case 2:return (I=O.Qa(),[3,4]);case 3:return (O.Qa(),[2]);case 4:return ((0,g.yc)(this.Yl,function(K){return K === L;}) && (this.TQa(L.context,I),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:L.context.Dd})),[2]);}});});});F=F.map(function(L){var N;N=C.hzb(L);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:L.Dd});return N;});this.Yl=c.__spreadArray(c.__spreadArray([],c.__read(E),!1),c.__read(F),!1);E=F.map(function(L){return L.p8.catch(function(){});});E=G.concat(J).concat(E);Promise.all(E);};B.prototype.Oy=function(C){var D;D=this;return C.p8.then(function(F){return c.__awaiter(D,void 0,void 0,function(){var G;return c.__generator(this,function(E){switch(E.label){case 0:return (m.K && this.V.debug("Removing prefetch playgraph",{size:F.On(l.N.Ia)}),C.ZA.clear(),[4,this.rWa()]);case 1:return (G=E.Qa(),G.Oy(F),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.Dd,videoBytesBuffered:F.tF().EX,audioBytesBuffered:F.tF().bR}),[2]);}});});},function(){});};B.prototype.R2=function(C){return c.__awaiter(this,void 0,void 0,function(){var D,F,G,E,J,L,N;N=this;return c.__generator(this,function(I){switch(I.label){case 0:return (D=C.context,F=(0,x.Um)(D.Dd.key),m.K && this.V.debug("Creating playgraph",F),[4,this.Gsa.w3a(D)]);case 1:return (G=I.Qa(),[4,D.Dd.Pe.Qm(F).Vp]);case 2:return (E=I.Qa(),E.W.Hm?(this.AK(D,{Xoa:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(F) + " is not supported with prefetching")]):[4,this.rWa()]);case 3:return (J=I.Qa(),L=J.lR(G,D.q8,D.vi,D.Dd.Pe,!1),C.ZA.addListener(L.events,"error",function(O){m.K && N.V.debug("Prefetch playgraph resulted in error",O.Lcc);N.AK(D);}),[2,L]);}});});};B.prototype.uTb=function(C,D){return c.__awaiter(this,void 0,void 0,function(){var F,G,E,J;return c.__generator(this,function(L){switch(L.label){case 0:return (F=C.context,G=(0,x.Um)(F.Dd.key),E=F.Dd.Pe.Qm(G),[4,E.Vp]);case 1:return (J=L.Qa(),this.TQa(F,D),this.Prb(F,D,!!J.lp),D.open(),D.Wy({wN:function(N,I){var O;O=N.recommendedMedia;return O?(0,g.ps)(I,function(K){return K.new_track_id === O.Zo;}):(0,g.ps)(I,function(K){return K.track_id === N.defaultTrackOrderList[0].audioTrackId;});}},{wN:function(N,I){var O;O=N.recommendedMedia;return O?(0,g.ps)(I,function(K){return K.new_track_id === O.pO;}):(0,g.ps)(I,function(K){return K.track_id === N.defaultTrackOrderList[0].videoTrackId;});}}),D.vC((0,x.Uma)(F.Dd,D.ga)),this.RXb(C,E),E.Fq && (m.K && this.V.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.AK(C.context)),[2]);}});});};B.prototype.RXb=function(C,D){var G;function F(E){m.K && G.V.debug(("Viewable ").concat(E?"superseded":"expired"),(0,x.Um)(C.context.Dd.key));C.gec=!0;G.AK(C.context,{c2a:!E});}G=this;D.events && (C.ZA.addListener(D.events,"viewableEvicted",function(){F(!0);}),C.ZA.addListener(D.events,"viewableExpired",function(){F(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.Dd});};B.prototype.TQa=function(C,D){D.cdb(C.q8);D.Icb(C.T1a);};B.prototype.Prb=function(C,D,F){var G;G=C.K1b;C=G.audio;G=G.video;F && G.push(new t.vP(this.V,D.config));D.rva(new p.ru(C,!0),new p.ru(G,!0));};B.prototype.hzb=function(C){var D,F,G;D=this;F=new h.aKa();G={context:C,ywa:u.default.time.Ga(),ZA:new k.Re(),gN:F};G.p8=this.R2(G).then(function(E){return c.__awaiter(D,void 0,void 0,function(){var J,L;L=this;return c.__generator(this,function(N){switch(N.label){case 0:for(J=E;J.Ta;){J=J.Ta;}E.Xe(F);F.rsb(E);G.c6=new q.vCa(J.events,{D0b:function(I){var O;O=I.Dq;switch(O){case "buffering":return !1;case "bufferingStarted":G.c6.T8(function(K){return "bufferingComplete" === K.Dq || "updateStreamingPts" === K.Dq;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.c6.T8(function(K){return K.Dq === O;});default:return !0;}}});J.events.on("bufferingComplete",function(){L.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.Dd});});return [4,this.uTb(G,E)];case 1:return (N.Qa(),G.g3b=u.default.time.Ga(),G.ga=E,[2,E]);}});});});G.p8.catch(function(E){m.K && D.V.error("Exception occurred creating playgraph",E);D.AK(G.context);});return G;};return B;})();b.bKa=r;},11974:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.kBa=void 0;c=a(70655);k=a(44724);f=a(86021);r=(function(){function l(){}l.Um=function(d){var g,n;g=d.L;d=d.ve;n=g[d].J;Object.keys(g).forEach(function(h){return (0,k.assert)(g[h].J === n);});return g[d].J;};l.prototype.fXa=function(d,g){var n;n=Object.keys(g.ga.L).length;return c.__read(d.filter(function(h){var m,p;return l.Um(g.ga) === (0,f.Um)(h.context.Dd.key) && (1 === n || n === Object.keys(null !== (p=null === (m=h.ga) || void 0 === m?void 0:m.ga.L) && void 0 !== p?p:{}).length);}),1)[0];};return l;})();b.kBa=r;},68332:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lLa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.aSa=function(c,k){var f,l;f=this;c=k(c);l=c.Yl.map(function(d){return d.Dd.priority;}).sort();c.Yl.forEach(function(d){d.q8=f.config.DVb / (2 << l.lastIndexOf(d.Dd.priority));});return c;};return a;})();b.lLa=r;},56714:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dea=void 0;c=a(47571);r=(function(){function k(){}k.prototype.dk=function(f,l){return l === c.Wc.rm?[]:f;};return k;})();b.dea=r;},86021:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Uma=b.Um=b.isEqual=b.eU=void 0;c=a(74005);k=a(18934);b.eU=function(f){return !!f.J;};b.isEqual=function(f,l){var d,g;d=(0,b.eU)(f);g=(0,b.eU)(l);return d === g?d?f.J === l.J:f.ga === l.ga:!1;};b.Um=function(f){if((0,b.eU)(f))return f.J;f=f.ga;return f.L[f.ve].J;};b.Uma=function(f,l){var d;return f.e2?f.e2 instanceof c.N?(f=(0,k.Fx)(l,(0,b.Um)(f.key),f.e2),(null === f || void 0 === f?0:f.offset.greaterThan(c.N.Ia))?f:{offset:c.N.Ia,I:null !== (d=null === f || void 0 === f?void 0:f.I) && void 0 !== d?d:l.ve}):f.e2:{offset:c.N.Ia,I:l.ve};};},89098:function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.gca=b.Nda=void 0;a=(function(){function k(){var f;f=this;this.MQ=[];this.jYb=function(l){l=f.MQ.indexOf(l);0 <= l && f.MQ.splice(l,1);};}Object.defineProperties(k.prototype,{aha:{get:function(){return 0 !== this.MQ.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{B5a:{get:function(){return this.MQ.length;},enumerable:!1,configurable:!0}});k.prototype.add=function(){var f;f=new c(this.jYb);this.MQ.push(f);return f;};k.prototype.feb=function(f){var l;l=this.add();try{Promise.resolve(f()).then(function(d){l.release();return d;},function(d){l.release();return Promise.reject(d);});}catch(d){l.release();Promise.reject(d);}};return k;})();b.Nda=a;c=(function(){function k(f){this.gpb=f;}k.prototype.release=function(){this.gpb(this);};return k;})();r=(function(){function k(f,l){this.hTb=f;this.console=l;this.counter=new a();}k.prototype.Iu=function(){var f,l;f=this;this.console.trace("Acquiring lease, total count",this.counter.B5a + 1);l=this.counter.add();return {release:function(){l.release();f.console.trace("Releasing lease, total count",f.counter.B5a);f.hTb(function(){return !f.counter.aha;});}};};return k;})();b.gca=r;},37656:function(r,b,a){var f;function c(l,d){this.Nob=l.FM && l.FM.enabled;this.b1=void 0;this.aob=d;this.$fa=[];this.lga=[];this.Ofa=[];l=l.aPa || [];d=l.map(function(g){return g.scc;});d.unshift(0);this.Uob=l;this.Vob=d;this.Qfa=[];this.kh=[];}function k(l,d){var u,t,w,v;for(var g=[],n=[],h=0;h < l.length;h++){for(var m=l[h],p=[],q=0;q < m.length;q++){u=m[q] - (n[q] || 0);t=d && d[q];w=p;v=w.push;1 <= t && (t=Math.pow(10,t || 0),u=Math.round(u * t) / t);v.call(w,u);}g.push(p);n=m;}return g;}f=a(16955).LL;c.prototype.reset=function(l){this.b1=void 0;this.$fa=[];this.lga=[];this.Ofa=[];this.Qfa=[];l && (this.kh=[]);};c.prototype.add=function(l,d){var g,n,h,m;g=d.filter(function(p,q){return f(p) || q === l.Qh;});n=g.map(function(p){return p.bitrate;});d=d[l.Qh];g=g.indexOf(d);h=this.b1;if(h && (h.length !== n.length || h.some(function(p,q){return p !== n[q];}))){m=this.uYa();m && (this.kh.push(m),this.reset(!1));}void 0 === h && (this.b1=n);this.$fa.push([g,l.Ar,l.gl,l.QRa,l.Ntb,l.LV,l.nSb,l.Ag,l.$j,l.ws,l.EC - l.Ar,l.cVb]);void 0 !== l.Ev && this.Ofa.push([l.Ar,l.Ev.Yy,l.Ev.Dx,l.Ev.Ly]);g=d && d.Ka;this.Nob && void 0 !== g && (h=g.Sx(l.ws),-1 != h && (g=g.get(h),h=g.duration,d=g.zb || d.zb,void 0 !== d && this.lga.push({ab:g.ab,duration:h,zb:d})));(d=l.xVb) && d.length && (d=d.slice(0),d.unshift(l.Ar),this.Qfa.push(d));};c.prototype.uYa=function(){var l,d;l=k(this.$fa);if(0 !== l.length){l={dltype:this.aob,bitrates:this.b1,seltrace:l,vmaftrace:this.lga,paceratetrace:k(this.Ofa)};d=k(this.Qfa,this.Vob);d && d.length && (l.predtrace={config:this.Uob,data:d});return l;}};c.prototype.get=function(){var l,d;l=this.uYa();d=this.kh;l && d.push(l);if(0 !== d.length)return d;};r.exports=c;},15876:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.oya=void 0;c=a(41427);k=a(96349);f=a(19829);r=(function(){function l(d){this.context=d;this.pd="ad-playgraph";this.enabled=!0;}l.prototype.Ri=function(d){var g,n,h,m,p,q,u;g=d.Ti;d=d.OB;if(g === f.qc.Lj || g === f.qc.jm || g === f.qc.Qi || d === f.Uh.zt || void 0 === g && void 0 === d){d=this.context;g=d.Kc;n=d.Ta;d=n.Z;h=d.Qd?d.Ig:n.Oq?n.vh:void 0;m=g.ls;p=void 0;q="content";d=void 0;if(h){n=n.ga.L[h.I];u=n.Qb;u && (g=g.ga.L[u],g.J != n.J && (p=n.J,q=n.type,d=this.bGb(h.I,g.J)));}g={adPlaygraph:m?c.zda.decode(m):void 0,adMid:p,auxMid:p,auxMidType:q,manifestHasAds:!!m};void 0 !== d && (g.adBreakLocationMs=d);return g;}};l.prototype.bGb=function(d,g){var n,h,m,p;if(d=(0,k.sF)(d))p=null === (m=null === (h=null === (n=this.context.Kc.bd) || void 0 === n?void 0:n.ef.ce[g]) || void 0 === h?void 0:h[d.oj]) || void 0 === m?void 0:m.Lt;return p;};return l;})();b.oya=r;},5015:function(r,b,a){var c,k,f,l,d,g,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Tya=void 0;r=a(70655);c=a(28075);k=a(74005);f=r.__importDefault(a(54186));l=a(4145);d=r.__importDefault(a(37656));g=a(19829);n=a(18312);a=(function(){function h(m){var p,q;p=this;this.ga=m;this.Dq="aseReport";this.KR=k.N.rp;this.events=new c.EventEmitter();this.Pia=n.A_.NAa;this.Mfa=!1;this.rPa=0;if(0 === Math.floor(1E6 * Math.random()) % m.config.tR || m.config.Ycc){this.KR=k.N.Ma(m.config.nha);this.bQb=m.config.Yrb;this.ga.M1=!0;q=[];q[f.default.Ao.X]=new d.default(m.config,f.default.Ao.X);q[f.default.Ao.fa]=new d.default(m.config,f.default.Ao.fa);this.dga=q;this.ga.events.on("openComplete",function(){return p.open();});}}h.prototype.open=function(){this.ga.M1 && !this.Mfa && (this.Mfa=!0,this.ga.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.ga.events.on("requestIssued",this.Gra.bind(this)));};h.prototype.Gra=function(m){m.result && m.streamList && (this.dga[m.mediaType].add(m.result,m.streamList),++this.rPa >= this.bQb && this.events.emit("collectionRequested"));};h.prototype.qJb=function(){var m;m=(0,l.flatten)(this.dga.map(function(p){return p.get();}).filter(function(p){return void 0 !== p;}));this.dga.forEach(function(p){return p.reset(!0);});this.rPa=0;return m;};h.prototype.Bf=function(m){var p,q;p=m.Ti;q=m.bwb;m=m.h1a || q || p === g.qc.Qi;return this.ga.M1 && this.Mfa && m && (m=this.qJb()) && m.length?{J9:!0,event:{type:"asereport",strmsel:m}}:{J9:!1};};return h;})();b.Tya=a;},52843:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hAa=void 0;c=a(38264);k=a(95994);f=a(19829);r=(function(){function l(d,g){this.i1b=d;this.$m=g;}Object.defineProperties(l.prototype,{xp:{get:function(){return ("cache-").concat(this.i1b);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{pd:{get:function(){return this.xp;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return k.K;},enumerable:!1,configurable:!0}});l.prototype.Ri=function(d){var g,n,h;g=d.Ti;d=d.OB;if(g === f.qc.Lj || g === f.qc.jm || g === f.qc.Qi || void 0 === g && void 0 === d){n=(0,c.hYa)(this.$m);g=Object.keys(n).filter(function(m){return n[m].isEnabled;});if(g.length){h={};g.forEach(function(m){h[m]={hit:n[m].Zha,idx:n[m].WRa};});return {Gbc:h};}}};return l;})();b.hAa=r;},20571:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pAa=void 0;c=a(47571);k=a(4145);f=a(19829);r=(function(){function l(d,g){this.sg=d;this.config=g;this.pd="CdnListTracker";}Object.defineProperties(l.prototype,{enabled:{get:function(){return this.config.Uub;},enumerable:!1,configurable:!0}});l.prototype.Ri=function(d){var g;g=this;if(d.Ti === f.qc.Qi)return {cdndldist:JSON.stringify((0,k.VQa)(Object.keys(this.sg).map(function(n){var h;h=g.sg[n];return Object.keys(h).map(function(m){var p;p=h[m];return {cdnid:p.Em,pbcid:p.Dp,dls:Object.keys(p.bF).map(function(q){var u,t;q=p.bF[q];t=q.mediaType === c.v.fa?"adlid":"dlid";return (u={tm:q.totalTime,bitrate:q.bitrate},u[t]=q.Ub,u.vf=q.zb,u);})};});})))};};return l;})();b.pAa=r;},21185:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KAa=void 0;c=a(19829);r=(function(){function k(f){this.Hm=f;this.pd="content-playgraph";this.enabled=!0;}k.prototype.Ri=function(f){var l,d;l=f.Ti;f=f.OB;if(l === c.qc.Lj || l === c.qc.jm || l === c.qc.Qi || void 0 === l && void 0 === f){f=this.Hm.Ta;d=f.Z;l=void 0;(d.Qd?d.Ig:f.Oq && f.vh) && this.Hm.Hm && (d=d.Ig,f=this.Hm.Tg.Mt(d),d=this.Hm.Ta.ga.L[d.I].J,this.Hm.ga.L[f.I].J != d && (l=d));return {contentPlaygraph:this.Hm.Hm,auxMid:l};}};return k;})();b.KAa=r;},74573:function(r,b,a){var k,f,l,d;function c(g,n,h){var m,p,t;n=k.__assign({},null === (p=null === g || void 0 === g?void 0:g.context) || void 0 === p?void 0:p.call(g,{E5a:n,rq:h}));if((null === g || void 0 === g?0:g.rq) && h)if(!0 === g.rq)n.args=h;else {p={};n.args=p;try{for(var q=k.__values(g.rq),u=q.next();!u.done;u=q.next()){t=u.value;p[t]=h[t];}}catch(v){var w;w={error:v};}finally{try{u && !u.done && (m=q.return) && m.call(q);}finally{if(w)throw w.error;}}}return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.su=b.kna=b.Rb=void 0;k=a(70655);f=a(95994);l=k.__importDefault(a(29736));d=a(74005);b.Rb=function(g){return function(n,h,m){var p;p=m.value;m.value=function(){var q,u,t,w,v,y;u=(0,b.kna)(this);if(u)(t=c(g,this,arguments),w=null !== (q=null === g || void 0 === g?void 0:g.methodName) && void 0 !== q?q:String(h),v=u.lQa(w,t,null === g || void 0 === g?void 0:g.bk,null === g || void 0 === g?void 0:g.Bdc));q=null === u || void 0 === u?void 0:u.yja;u && (u.yja=v);try{y=null === p || void 0 === p?void 0:p.apply(this,arguments);(0,d.Moa)(y) && (y=y.then(function(z){v && (null === g || void 0 === g?0:g.return) && (v.data.resolve=z);return z;},function(z){v && (v.data.reject=("").concat(z));return Promise.reject(z);}));return y;}catch(z){var x;x=z;throw z;}finally{u && (u.yja=q);v && (v.data || (v.data={}),x?(v.data.error=("").concat(x),null === u || void 0 === u?void 0:u.uwb(v)):(null === g || void 0 === g?0:g.return) && !(0,d.Moa)(y) && (v.data.lRet=y));}};};};b.kna=function(g){if(null === g || void 0 === g?0:g.xea)return g.xea;};r=(function(){function g(n){this.vp=[];this.E0=!1;this.ofa={};this.Y=k.__assign({bo:10},n);Object.defineProperties(n.$m,{xea:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(g.prototype,{source:{get:function(){return this.Y.source;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !this.E0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{BNb:{get:function(){return k.__spreadArray([],k.__read(this.vp),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{RKb:{get:function(){return this.ofa;},enumerable:!1,configurable:!0}});g.prototype.ns=function(n){var h,m;if(!this.E0){m=null === (h=(0,b.kna)(this.Y.$m)) || void 0 === h?void 0:h.yja;m && (m.data=k.__assign(k.__assign({},m.data),n));}};g.prototype.lQa=function(n,h,m,p){var q,u,t,w;if(!this.E0){t=!1;w=null === (u=(q=this.Y).pQa) || void 0 === u?void 0:u.call(q,this.Y.$m);q=c({},this.Y.$m);h=k.__assign(k.__assign(k.__assign({},w),q),h);w=0 < Object.keys(h).length;h={methodName:n,data:w?h:void 0,time:l.default.time.Ga()};p && this.ofa[n]++;m && this.vp.length && (m=this.vp[this.vp.length - 1],m.methodName === n && (m.data=m.data || ({}),m.data.dedup=m.data.dedup || ({hitCount:1}),m.data.dedup.hitCount++,m.data.dedup.lJournal=h,t=!0));this.vwb(h);t || this.vp.push(h);this.vp.length > this.Y.bo && this.vp.shift();return h;}};g.prototype.vwb=function(n){var h;f.K && (null === (h=this.Y.console) || void 0 === h?void 0:h.trace(("").concat(this.Y.source,"::").concat(n.methodName),n.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.Y,n);};g.prototype.uwb=function(n){var h;f.K && (null === (h=this.Y.console) || void 0 === h?void 0:h.error(("").concat(this.Y.source,"::").concat(n.methodName),n.data));};g.prototype.Pa=function(){Object.defineProperties(this.Y.$m,{xea:{enumerable:!1,value:null,configurable:!0}});this.E0=!0;this.clear();};g.prototype.clear=function(){this.vp=[];this.ofa={};};return g;})();b.su=r;},92758:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kCa=void 0;c=a(19829);r=(function(){function k(f){this.Ic=f;}Object.defineProperties(k.prototype,{pd:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Ri=function(f){var l;if(f.Ti === c.qc.Qi && this.Ic){f={};l=this.Ic.get();l && l.avtp && l.avtp.Da && (f.avtp=l.avtp.Da,f.dltm=l.avtp.rVa);l && l.initialThroughput && l.initialThroughput.Da && (f.initial_avtp=l.initialThroughput.Da);l && l.cdnavtp && (f.cdnavtp=l.cdnavtp,f.activecdnavtp=l.activecdnavtp);if(l=this.Ic.Gma())(l.bytesRequestedPacingVideo && (f.bytesRequestedPacingVideo=l.bytesRequestedPacingVideo,f.estimatedBytesPacedVideo=l.estimatedBytesPacedVideo,f.bytestotalVideo=l.bytestotalVideo,f.pacedAvtpVideo=l.pacedAvtpVideo),l.bytesRequestedPacingAudio && (f.bytesRequestedPacingAudio=l.bytesRequestedPacingAudio,f.estimatedBytesPacedAudio=l.estimatedBytesPacedAudio,f.bytestotalAudio=l.bytestotalAudio,f.pacedAvtpAudio=l.pacedAvtpAudio),l.pacedAvtp && (f.pacedAvtp=l.pacedAvtp));this.Ic.flush();if(l=this.Ic.hHb())for(var d in l){l.hasOwnProperty(d) && (f["ne" + d]=Number(l[d]).toFixed(6));}return f;}};return k;})();b.kCa=r;},96607:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nCa=void 0;c=a(19829);r=(function(){function k(f){this.F3=f;this.xp="engine";this.enabled=!0;}Object.defineProperties(k.prototype,{pd:{get:function(){return this.xp;},enumerable:!1,configurable:!0}});k.prototype.Ri=function(f){var l;l=f.Ti;f=f.OB;if(l === c.qc.Lj || l === c.qc.jm || l === c.qc.Qi || void 0 === l && void 0 === f)return (l=this.F3.fVb.map(function(d){var g;g=d.ga;return {id:g.id,weight:g.weight,relativeWeight:d.ZV};}),{prefetcher:this.F3.Jv.getStats(),playgraphs:l,viewables:this.F3.X5b,players:this.F3.dVb.length});};return k;})();b.nCa=r;},65398:function(r,b,a){var c,k,f,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.eFa=void 0;c=a(28075);k=a(74005);f=a(47571);l=a(18312);d=a(19829);r=(function(){function g(n){this.ga=n;this.Dq="liveReport";this.KR=k.N.rp;this.events=new c.EventEmitter();this.Pia=l.A_.CLa;this.oQ=!1;this.trace=[];this.$bb=1;0 < n.config.N2a && 0 < n.config.qpa && (this.KR=k.N.Ma(n.config.qpa),this.$bb=Math.max(Math.floor(n.config.N2a / n.config.qpa),1),this.oQ=!0);}g.prototype.$vb=function(){var n,h,m,p;h=this.ga.Z;if(h.Qd){m=h.Hy;p=m.pa;if(p.ha){if(m=null === (n=m.bf(f.v.X)) || void 0 === n?void 0:n.Xn)(n=m.Qn(),p=p.Dt,h=n.Aha + h.Nd.G,n=this.ga.tF(),this.trace.push([p,h,n.totalabuflmsecs,n.totalvbuflmsecs]));}else this.oQ=!1;}};g.prototype.Bf=function(n){var h;h=n.h1a;n=n.Ti;this.oQ && (h || n === d.qc.Lj) && this.$vb();return this.trace.length === this.$bb || 0 < this.trace.length && n === d.qc.Qi?(h=this.trace,this.trace=[],{J9:!0,event:{type:"livereport",samplinginterval:this.KR.G,trace:h}}):{J9:!1};};return g;})();b.eFa=r;},80120:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.fFa=void 0;c=a(18920);k=a(19829);r=(function(){function f(l){this.Aa=l;this.enabled=!0;}Object.defineProperties(f.prototype,{pd:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});f.prototype.Ri=function(l){var d,g,n,h;l=l.OB;if(l === k.Uh.vr || l === k.Uh.UT || l === k.Uh.Nx || l === k.Uh.zt || l === k.Uh.SW || l === k.Uh.wx || l === k.Uh.cW){g=this.Aa.Z;if(g.Qd){n=g.Hy;h=n.pa;n=null === (d=n.bf(c.v.X)) || void 0 === d?void 0:d.Xn;if(h.ha && n){d=n.Qn();g={encodingpipelinetime:h.Dt,devicepts:d.Aha + g.Nd.G};l === k.Uh.vr && (g.presentationtimeoffset=d.x8.G);if(l === k.Uh.vr || l === k.Uh.zt)g.targetbufferduration=this.Aa.config.sU;return g;}}}};return f;})();b.fFa=r;},18312:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DFa=b.A_=void 0;c=a(28075);k=a(19829);(function(l){l[l.NAa=1]="Creation";l[l.CLa=2]="StartPlayback";})(f=b.A_ || (b.A_={}));r=(function(){function l(d,g,n){this.Kd=d;this.V=g;this.events=n;this.cH=[];this.Sk=new c.Re();}l.prototype.Xe=function(d){var g;g={gN:d,bia:void 0};this.cH.push(g);d.Pia === f.NAa && this.L9a(g);this.Sk.on(d.events,"collectionRequested",this.NSb.bind(this,g));};l.prototype.Pa=function(){this.Sk.clear();};l.prototype.eOb=function(d){var g,n;g=this;n={Ti:d};this.cH.forEach(function(h){g.Swa(h.gN,n);d === k.qc.Lj && h.gN.Pia === f.CLa && g.L9a(h);});};l.prototype.NSb=function(d){var g;this.Swa(d.gN,{bwb:!0});null === (g=d.bia) || void 0 === g?void 0:g.Sf();};l.prototype.L9a=function(d){var g,n,h,m;g=this;h=d.gN;m=this.Kd.XTa(function(){g.Swa(h,{h1a:!0});},h.KR,h.Dq);null === (n=d.bia) || void 0 === n?void 0:n.Pa();d.bia=m;};l.prototype.Swa=function(d,g){var n;try{n=d.Bf(g);n.J9 && this.events.emit(d.Dq,n.event);}catch(h){this.V.error(("Error generating event for ").concat(d.Dq),h);}};return l;})();b.DFa=r;},48256:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.SIa=void 0;c=a(47571);k=a(19829);r=(function(){function f(l){this.bf=l;}Object.defineProperties(f.prototype,{pd:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Ri=function(l){var d,g;l=l.Ti;if(l === k.qc.jm || l === k.qc.Qi){l={};d=this.bf(c.v.X);g=this.bf(c.v.fa);d && (l.videoPipelineSummary=this.fbb(d));g && (l.audioPipelineSummary=this.fbb(g));return l;}};f.prototype.fbb=function(l){var d,g,n,h,m;m=l.cf.Ka;return {actualStartPlayerTimestamp:null === (d=m.Bb) || void 0 === d?void 0:d.G,actualPartialPlayerTimestamp:m.z6a,completePlayerTimestamp:null === (g=l.Jl) || void 0 === g?void 0:g.G,segmentId:l.I,contentStartMs:null === (n=l.La) || void 0 === n?void 0:n.G,contentEndMs:null === (h=l.$a) || void 0 === h?void 0:h.G,streamingPlayerMs:l.CC.G,isStreamable:l.DB(),isNormalized:l.Ug(),isDoneStreaming:l.Vs(),trackNeedsHeaderRequest:l.track.YU,completedRequests:m.oTa,activeRequests:l.cf.$j,unsentRequests:l.cf.KC,bytes:{current:m.Ba,received:m.jXb,partial:m.cr,completed:m.E2,unsent:m.m4b}};};return f;})();b.SIa=r;},52302:function(r,b,a){var c,k,f,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.EJa=void 0;c=a(70655);k=a(95994);f=a(74005);l=a(19829);d=a(89589);r=(function(){function g(n,h){var m;m=this;this.Fsa=n;this.Aa=h;this.b7a=new f.qu();h.events.on("branchesReevaluated",function(){m.b7a.push(n.size);});}Object.defineProperties(g.prototype,{pd:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{xp:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return k.K;},enumerable:!1,configurable:!0}});g.prototype.Ri=function(n){var h;n=n.Ti;if(n === l.qc.jm || n === l.qc.Qi){h={branchCountStats:this.b7a.toJSON(),decisions:this.Aa.ug.toJSON(),player:this.Aa.Z.pp?this.Aa.Z.Va.map(function(m){return m.u.id;}):[]};this.Fsa.forEach(function(m,p){var q,u;u=(0,d.Xla)(m);h[p]=c.__assign({probabilities:m.Yg.map(function(t){return {duration:t.duration,immediate:t.qB,seamless:t.rf};}),parent:null === (q=m.parent) || void 0 === q?void 0:q.u.id,normalized:m.Ug,hasViewable:m.Sn,headerRequested:m.Sn && m.pa.R_a},u);});return h;}};return g;})();b.EJa=r;},57538:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.aKa=void 0;c=a(70655).__importDefault(a(29736));k=a(19829);r=(function(){function f(){this.creationTime=c.default.time.Ga();this.Hc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}f.prototype.rsb=function(l){this.ga=l;};f.prototype.yZb=function(l,d){var g;l=null === (g=this.ga) || void 0 === g?void 0:g.On(l);this.Hc={isPrefetchItem:!0,prefetchedVideoMs:l.cO,prefetchedAudioMs:l.bO,prefetchClaimDurationMs:c.default.time.Ga() - this.creationTime,prefetchRank:d};};Object.defineProperties(f.prototype,{pd:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Ri=function(l){if(l.Ti === k.qc.Lj)return this.Hc;};return f;})();b.aKa=r;},19829:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Oda=b.Uh=b.qc=void 0;c=a(70655);k=a(69570);f=a(4145);(function(l){l[l.Lj=0]="startPlayback";l[l.Qi=1]="endPlayback";l[l.jm=2]="underflow";})(b.qc || (b.qc={}));b.Uh={vr:"startplay",vy:"midplay",Nx:"endplay",UT:"intrplay",wx:"chgstrm",IM:"playbackaborted",cW:"renderstrmswitch",rC:"repos",zt:"resumeplay",SW:"statechanged",vE:"aseReport"};r=(function(){function l(d){this.config=d;this.cH=[];}l.prototype.Xe=function(d){var g,n;n=c.__read(this.config.Wrb.filter(function(h){return h.pd === d.pd;}),1)[0];this.config.kCb && (null !== (g=null === n || void 0 === n?void 0:n.enabled) && void 0 !== g?g:d.enabled)?this.cH.push(d):d.Pa && d.Pa();};l.prototype.UIb=function(d){return (0,f.yc)(this.cH,function(g){return g.pd === d.pd;});};l.prototype.Ri=function(d,g){var n,h,m,u,t;h={};m=[];try{for(var p=c.__values(this.cH),q=p.next();!q.done;q=p.next()){u=q.value;try{t=u.Ri({Ti:d,OB:g});t && (u.xp?h[u.xp]=t:h=c.__assign(c.__assign({},h),t));}catch(v){m.push(Error(("").concat(u.pd,"::").concat(v)));}}}catch(v){var w;w={error:v};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(w)throw w.error;}}m.length && (h["rpt-error"]=k.oaa.stringify(new k.oaa("Reporting error",m)));return h;};return l;})();b.Oda=r;},89589:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.dYa=b.AZa=b.Xla=b.FKa=void 0;c=a(70655);k=a(95994);f=a(19829);r=(function(){function l(d){this.xb=d;}Object.defineProperties(l.prototype,{pd:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xp:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return k.K;},enumerable:!1,configurable:!0}});l.prototype.Ri=function(d){var g,n,p;d=d.Ti;if(d === f.qc.Qi || d === f.qc.jm)if(d=this.xb.Sla()){n={};try{for(var h=c.__values(d.UUb),m=h.next();!m.done;m=h.next()){p=m.value;n[p.mediaType]=this.DPb(p);}}catch(u){var q;q={error:u};}finally{try{m && !m.done && (g=h.return) && g.call(h);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.dYa)(d.WWb),playerIterator:n,driftStats:this.xb.Hxa};}};l.prototype.DPb=function(d){return null === d || void 0 === d?void 0:d.ZYa();};return l;})();b.FKa=r;b.Xla=function(l){var d,g;if(l){d=l.u;g={};l.Ns().forEach(function(n){g[n.mediaType]=(0,b.AZa)(n);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:l.Zf,RM:g};}return l;};b.AZa=function(l){var d,g,n;if(l && l.cf)return c.__assign(c.__assign({},l.cf.MZa()),{unsentRequests:l.cf.KC,lastFragmentContentEndPts:null === (d=l.lf) || void 0 === d?void 0:d.$a.G,trackAttributes:null === (g=l.track) || void 0 === g?void 0:g.Sm(),bitrate:null === (n=l.lf) || void 0 === n?void 0:n.bitrate});};b.dYa=function(l){return l.map(function(d){return (0,b.Xla)(d);});};},72393:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KKa=void 0;c=a(19829);r=(function(){function k(f,l){this.Ic=f;this.c9a=l;}Object.defineProperties(k.prototype,{pd:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Ri=function(f){var l;l=f.Ti;f=f.OB;if(l === c.qc.Qi || l === c.qc.jm || void 0 === l && void 0 === f)return (l={numOutstandingRequests:this.c9a.gSb,requestOpportunityDelayStats:this.c9a.b9a},(f=this.Ic.kqb) && f.length && (l.activeRequests=JSON.stringify(f)),l);};return k;})();b.KKa=r;},32922:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wda=void 0;c=a(19829);r=(function(){function k(){this.xp=this.pd=k.pd;this.enabled=!0;this.pW=[];this.r9a=0;}k.prototype.Tqb=function(f){this.pW.push(f);5 < this.pW.length && this.pW.shift();};k.prototype.Uqb=function(){this.r9a++;};k.prototype.Ri=function(f){var l;l=f.Ti;f=f.OB;if((l === c.qc.Lj || l === c.qc.jm || l === c.qc.Qi || void 0 === l && void 0 === f) && this.pW.length)return {restarts:this.pW.map(function(d){return {s:d.j1b,d:d.$Ab,r:d.reason,atMs:d.bVb.G};}),restartsCompleted:this.r9a};};k.pd="seamlessManager";return k;})();b.Wda=r;},33969:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DLa=void 0;c=a(28075);k=a(47571);f=a(19829);r=(function(){function l(d){this.zNa=!1;this.ZA=new c.Re();this.ZA.addListener(d.events,"streamSelection",this.Gra.bind(this));}l.prototype.Gra=function(d){this.zNa || (d.mediaType === k.v.fa && void 0 === this.joa?this.joa=d:d.mediaType === k.v.X && void 0 === this.loa && (this.loa=d));};l.prototype.Pa=function(){this.loa=this.joa=void 0;this.ZA.clear();this.zNa=!0;};Object.defineProperties(l.prototype,{pd:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.Ri=function(d){var g;if(d.Ti === f.qc.Lj)return (d=null !== (g=this.loa) && void 0 !== g?g:this.joa,g={histdiscbw:null === d || void 0 === d?void 0:d.result.Ss,histage:null === d || void 0 === d?void 0:d.result.oB},d=null === d || void 0 === d?void 0:d.streamList.map(function(n){return void 0 !== n.I3?{vmaf:n.I3,streamIndex:n.Ft,streamId:n.Sb}:void 0;}).filter(function(n){return void 0 !== n;}),0 < (null === d || void 0 === d?void 0:d.length) && (g.vmafEstimates=d),this.Pa(),g);this.Pa();};return l;})();b.DLa=r;},89909:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.XLa=void 0;r=a(70655);c=a(28075);k=a(95994);f=r.__importDefault(a(29736));l=a(19829);a=(function(){function d(g){this.Kd=g;this.b0=[];this.reset();}Object.defineProperties(d.prototype,{pd:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xp:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return k.K;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var g,n;g=this;null === (n=this.qJ) || void 0 === n?void 0:n.clear();this.qJ=new c.Re();this.qJ.on(this.Kd,"clockChanged",function(){g.reset();g.US("initial");});this.qJ.on(this.Kd,"stopping",function(){g.US("stopping");});this.qJ.on(this.Kd.qa,"clockAdjusted",function(){g.US("clockAdjusted");});this.qJ.on(this.Kd.qa,"stopStart",function(){g.US("stopStart");});this.qJ.on(this.Kd.qa,"speedChanged",function(){g.US("speedChanged");});};d.prototype.US=function(g){this.b0.push({reason:g,audit:this.Kd.gv(),time:f.default.time.Ga()});5 < this.b0.length && this.b0.shift();};d.prototype.Ri=function(g){var n;n=g.Ti;g=g.OB;if(n === l.qc.Lj || n === l.qc.jm || n === l.qc.Qi || void 0 === n && void 0 === g)return this.b0;};return d;})();b.XLa=a;},22258:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Pw=void 0;c=a(70655);k=a(95994);f=a(74005);l=a(19829);r=(function(){function d(g,n){this.dh=g;this.options=c.__assign({Hvb:!0},n);}Object.defineProperties(d.prototype,{xp:{get:function(){return ("trace-").concat(this.dh.source);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pd:{get:function(){return this.xp;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return k.K;},enumerable:!1,configurable:!0}});d.prototype.Ri=function(g){var n,h;n=g.Ti;if(n === l.qc.Qi || n === l.qc.jm){g=(0,f.QUa)(this.dh.BNb);h=this.dh.RKb;n === l.qc.Qi && this.options.Hvb && this.dh.clear();n=g;Object.keys(h).length && (n=c.__spreadArray(c.__spreadArray([],c.__read(g),!1),[h],!1));return n;}};d.prototype.Pa=function(){var g;null === (g=this.dh) || void 0 === g?void 0:g.Pa();};return d;})();b.Pw=r;},80849:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.GKa=void 0;c=a(70655);k=c.__importStar(a(67841));f=a(50219);l=a(32695);r=a(23563);d=a(47571);g=a(44724);n=a(24705);h=a(74005);m=a(50971);p=a(28035);q=a(96049);a=(function(u){function t(w,v,y,x,z,A,B,C){var D;D=u.call(this,w) || this;D.Y=v;D.V=y;D.Mo=x;D.Sr=z;D.Be=A;D.Ema=C;D.oe=new n.PC(D.V);D.Rz=D.V.error.bind(D.V);D.ks=D.V.warn.bind(D.V);D.ix=D.V.trace.bind(D.V);D.cPa();D.Oo=null === B || void 0 === B?void 0:B.Hx(function(){return D.BYb();},"pruner");return D;}c.__extends(t,u);Object.defineProperties(t.prototype,{console:{get:function(){return this.V;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mediaType:{get:function(){return this.Be;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{yb:{get:function(){return this.Sr;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Xv:{get:function(){return 0 < this.Wta;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Vva:{get:function(){return !this.sQ;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Wta:{get:function(){return this.xc.length;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{KC:{get:function(){return this.xc.KC;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{RJ:{get:function(){return this.oe.gy;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Jl:{get:function(){return this.xc.complete.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{UR:{get:function(){return this.xc.mTa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Uia:{get:function(){return this.xc.iwb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{CC:{get:function(){return this.xc.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Z8:{get:function(){return void 0 === this.xc.Bb?0:this.xc.Lb.G - this.xc.Bb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{D2:{get:function(){return {Ba:this.xc.E2,G:this.xc.empty?0:Math.max(this.xc.mTa - this.xc.Bb.G,0)};},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{E2:{get:function(){return this.xc.E2;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{pA:{get:function(){return this.xc.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{nUb:{get:function(){return this.snb();},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{yna:{get:function(){return this.xc.length > this.xc.KC;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{$j:{get:function(){return this.xc.$j;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{j2a:{get:function(){return this.cOa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ka:{get:function(){return this.xc;},enumerable:!1,configurable:!0}});t.prototype.Jf=function(w){var y,x;function v(){return x.forEach(function(z){z.abort();z.de();});}x=this.xc;w?setTimeout(v,1):v();this.cPa();this.oe.iF();null === (y=this.Oo) || void 0 === y?void 0:y.Pa();};t.prototype.reset=function(){this.Jf();this.oe.k9a();};t.prototype.close=function(){this.oe.iF();};t.prototype.k$a=function(){this.nNa=!0;};t.prototype.MZa=function(){return {endMarked:void 0 !== this.oe.count,queueCount:this.oe.count,isComplete:this.oe.gy,itemCount:this.oe.nTa,continuousEndPts:this.oe.yr().reduce(function(w,v){return v && !v.done && (v=v.value,100 > Math.abs(v.ZK.G - w) || -1 === w)?v.Jla.G:w;},-1),sentinelItemCount:this.oe.yr().filter(function(w){return w && w.done;}).length,processedCount:this.oe.QAb,rc:this.Wta};};t.prototype.gUa=function(w,v,y){var x,z,A,B;x=this.Y;(0,g.assert)(!w.header);if(y.ha){A=this.Sr;B=A.g_a();A=A.$y;y.mediaType === d.v.X && void 0 !== B && (z=new q.saa(y,x,v.track,w,this.xc,this.yb.u,this.V,B,A));}z || (z=f.hY.create(y,x,v.track,w,this.xc,this.yb.u,this.V,this.Ema));this.Pu(z);return z;};t.prototype.Pu=function(w){var v,y;this.xc.Ts(w);(null === (v=this.Oo) || void 0 === v?void 0:v.state) === m.Ek.complete && (null === (y=this.Oo) || void 0 === y?void 0:y.Sf());this.Emb();w.Ok && (this.sQ=!1);};t.prototype.hB=function(){return this.oe.Tla();};t.prototype.vSa=function(){this.Bu === this.xc.length && this.nNa && this.oe.iF();};t.prototype.qcb=function(){var w,v,y;w=this;Promise.resolve();if(this.Sr.H5(this.Be) && this.Bu !== this.xc.length){for(var x=this.Y.YPb,z=0,A=[];this.Bu < this.xc.length;){if(y=this.xc.get(this.Bu)){if(this.xc.sXa && this.xc.sXa.ob < y.ob)break;if(!y.b1a())break;A.push(y);++z;k.tb(this.Csa) || (this.Csa=null === (v=y.Bb) || void 0 === v?void 0:v.G);}++this.Bu;if(!k.ji(x) && z >= x)break;}A.length && (void 0 !== this.oe.count && (this.Rz("tryToAtach() but requestQueue has sentinel:",this.oe.count),this.oe.k9a()),Promise.all(A.map(function(B){return w.oe.enqueue(B).then(function(){return w.XJb(B);});})),this.vSa());}};t.prototype.XJb=function(w){this.cOa=w;this.AXa(w);};t.prototype.$Q=function(w){var v,y,x;v=this;y=[];if(0 !== this.xc.KC){x=this.xc.z6a;this.xc.l4b.Pva(function(z){var A;if(z.Ok || x > (null === (A=z.Bb) || void 0 === A?void 0:A.G))return !0;z.Tx && (v.sQ=!1);if(!v.yea(z))return (v.ks("request abort failed:",z.toString()),!0);y.unshift(z);});this.ROa();y.length && "function" === typeof w && w(y);}};t.prototype.BYb=function(){var w,v,y,x,z,A;return c.__generator(this,function(B){switch(B.label){case 0:B.label=1;case 1:if(!this.xc.length)return [3,3];w=this.xc.get(0);v=h.N.Ma(null !== (A=null === (z=this.Y.CN) || void 0 === z?void 0:z.G) && void 0 !== A?A:0);y=v.add(w.Lb);return [4,m.Pg.Qt(y)];case 2:B.Qa();if(1 >= this.xc.complete.length && !w.Ok)return [3,3];(0,g.assert)(w === this.xc.get(0));w.qR || this.yea(w);x=this.xc.splice(0,1);0 < this.Bu && this.Bu--;this.Mo.dra(x);x=void 0;return [3,1];case 3:return [2];}});};t.prototype.FEb=function(w){if(this.xc.length && (w=this.xc.aXa(w)))return w;};t.prototype.aqb=function(w){var v,y,x,z,A,B,C;B=w.$a;w=this.xc.hla(w.La.G);C=this.xc.get(w);(0,g.assert)(C && void 0 !== (null === (v=C.La) || void 0 === v?void 0:v.G) && void 0 !== (null === (y=C.$a) || void 0 === y?void 0:y.G) && void 0 !== C.index,"expected existing request to be defined with properties");if(null === (x=C.$a) || void 0 === x?0:x.equal(B))return (this.HPa(w),[null === (z=C.$a) || void 0 === z?void 0:z.G,C.index + 1]);this.HPa(w - 1);return [null === (A=C.La) || void 0 === A?void 0:A.G,C.index];};t.prototype.uo=function(w){var v,y;v=this;y=[];this.xc.forEach(function(x){var z;z=x.B$(w);1 === z?y.push(x):2 === z && v.yb.pa.qf("swapUrl failure");});return y;};t.prototype.DG=function(w){w.Ws && w.b1a() && this.qcb();this.YK(w);};t.prototype.zp=function(w,v){var y,x;w.Ws && !w.qR && this.qcb();(null === (y=this.Oo) || void 0 === y?void 0:y.state) === m.Ek.complete && (null === (x=this.Oo) || void 0 === x?void 0:x.Sf());this.aB(w,v);};t.prototype.snb=function(){return this.xc.$j + this.xc.KC;};t.prototype.cPa=function(){var w,v,y;v=void 0 !== this.xc && 0 < this.xc.length;y=this.xc;this.xc=new l.Jya(this.V,this);this.Bu=0;this.oe.clear();this.cOa=void 0;this.Csa=null;null === (w=this.Oo) || void 0 === w?void 0:w.Sf();this.nNa=this.sQ=!1;v && (w=y.map(function(x){return x;}),this.Mo.dra(w));};t.prototype.Emb=function(){this.sQ || (this.sQ=!0);};t.prototype.HPa=function(w){var v;for(w+=1;w < this.Wta;w++){v=this.xc.get(w);(0,g.assert)(v,"expected request to exist");this.oe.remove(v);v.aborted || (this.yea(v),v.de());}this.ROa();};t.prototype.yea=function(w){return w.abort()?!0:!1;};t.prototype.ROa=function(){var w,v,y,x;w=this;if(0 !== this.xc.length){y=[];x=0;this.xc.KWb(function(z,A){A < w.Bu && ++x;y.push(z);});this.Bu-=x;null === (v=this.Oo) || void 0 === v?void 0:v.Sf();this.Mo.dra(y);}};return t=c.__decorate([p.qF],t);})(r.pz);b.GKa=a;},59708:function(r,b,a){var c,k,f,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.HKa=void 0;c=a(70655);k=a(44724);f=c.__importDefault(a(29736));l=a(74573);d=a(74005);r=(function(){var F$s;F$s=2;function g(n,h){var J1M,m;J1M=2;for(;J1M !== 14;){switch(J1M){case 8:var d$2="Req";d$2+="ues";d$2+="tPacer";var E3x="1SIY";E3x+="bZ";E3x+="rNJC";E3x+="p9";E3x;this.vp=new l.su({$m:this,source:d$2,pQa:function(){var t_p;t_p=2;for(;t_p !== 1;){switch(t_p){case 2:return {numOutstanding:m.XD};break;}}},bo:10});this.b9a=new d.qu();J1M=14;break;case 2:var M_y="m";M_y+="edia";M_y+="|as";M_y+="ejs";var u$g="ASEJ";u$g+="S_REQUEST_P";u$g+="ACER";m=this;this.X5=n;this.config=h;this.XD=0;this.console=new f.default.Console(u$g,M_y);this.Iua=!1;J1M=8;break;}}}for(;F$s !== 13;){switch(F$s){case 8:var G61="B";G61+="S";G61+="a";var E93="checkReques";E93+="t";E93+="Oppor";E93+="tunityRunn";E93+="er";var B5t="x";B5t+="t";var m$y="remove";m$y+="Req";m$y+="ue";m$y+="s";m$y+="t";var Q_T="P";Q_T+="u";var k_p="addR";k_p+="e";k_p+="ques";k_p+="t";c.__decorate([(0,l.Rb)({methodName:k_p,bk:!0})],g.prototype,Q_T,null);c.__decorate([(0,l.Rb)({methodName:m$y,bk:!0})],g.prototype,B5t,null);c.__decorate([(0,l.Rb)({methodName:E93,bk:!0})],g.prototype,G61,null);return g;break;case 2:Object.defineProperties(g.prototype,{gSb:{get:function(){var D2P;D2P=2;for(;D2P !== 1;){switch(D2P){case 4:return this.XD;break;case 2:return this.XD;break;}}},enumerable:!1,configurable:!0}});g.prototype.sj=function(){var j8M,h,n;j8M=2;for(;j8M !== 9;){switch(j8M){case 1:j8M=!this.Iua?5:9;break;case 5:this.Iua=!0;h=f.default.time.Ga();return Promise.resolve().then(function(){var I6B;I6B=2;for(;I6B !== 5;){switch(I6B){case 2:n.Iua=!1;n.BSa(h);I6B=5;break;}}});break;case 7:n=this;j8M=4;break;case 2:n=this;j8M=1;break;}}};g.prototype.Pu=function(n){var a_Z,h,m;a_Z=2;for(;a_Z !== 3;){switch(a_Z){case 2:var E0S="More than";E0S+=" maxAllowedOutst";E0S+="andi";E0S+="ngReques";E0S+="ts are outstanding";this.vp.ns({mediaType:n.mediaType,contentStartPts:null === (h=n.La) || void 0 === h?void 0:h.G,contentEndPts:null === (m=n.$a) || void 0 === m?void 0:m.G});this.XD++;(0,k.assert)(this.XD <= this.config.F6,E0S);a_Z=3;break;}}};F$s=4;break;case 4:var i6q="s";i6q+="j";var h9r="checkRequ";h9r+="est";h9r+="Opp";h9r+="ortun";h9r+="ity";g.prototype.xt=function(n){var J$h,h,m;J$h=2;for(;J$h !== 9;){switch(J$h){case 3:var u$8="remov";u$8+="e";u$8+="R";u$8+="equest";this.sj(u$8);J$h=9;break;case 2:var e4S="Received remove req";e4S+="uest";e4S+=" when";e4S+=" there are no requests outstandin";e4S+="g";this.vp.ns({mediaType:n.mediaType,contentStartPts:null === (h=n.La) || void 0 === h?void 0:h.G,contentEndPts:null === (m=n.$a) || void 0 === m?void 0:m.G});this.XD--;(0,k.assert)(0 <= this.XD,e4S);J$h=3;break;}}};g.prototype.BSa=function(n){var P85,h,m,p;P85=2;for(;P85 !== 9;){switch(P85){case 3:var K7c="req";K7c+="ues";K7c+="tOpportunityRunnerComplete";this.vp.lQa(K7c,{requestsIssued:p,scheduledMs:n,timeSinceScheduled:m},!0);P85=9;break;case 4:p++;P85=5;break;case 5:P85=this.XD < h && this.X5()?4:3;break;case 1:this.b9a.push(m);P85=5;break;case 2:(h=this.config.F6,m=f.default.time.Ga() - n,p=0);P85=1;break;case 13:p--;P85=6;break;}}};c.__decorate([(0,l.Rb)({methodName:h9r,bk:!0,rq:!0})],g.prototype,i6q,null);F$s=8;break;}}})();b.HKa=r;},22782:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.zLa=void 0;c=a(71502);k=a(47571);f=a(70950);r=(function(){function l(d,g){this.cl=d;this.console=g;this.M0=Infinity;this.uNa=0;this.Hpb=!1;}l.prototype.wEb=function(d,g,n,h,m){var p;if(this.cl){p=d.Ka;if(p){if(n === k.v.X)(n=p.Sx(Math.ceil(this.cl * d.ca.Fy),void 0,!0),p=d.Pn(n),d=p.te.Oi(d.ca),p.wi({start:0,end:this.cl - n * d}),this.M0=this.cl);else {void 0 !== h.tab?(g=h.tab,n=g * d.ca.G):(n=(0,c.Ama)(h,m) + Math.ceil(h.Isb * d.ca.Fy),f.N.Ma(n).Oi(d.ca),n=g + n,g=Math.ceil(n / d.ca.Fy));n=p.Sx(n,void 0,!0);for(m=h=0;m < n;++m){p=d.Pn(m);h+=p.te.Oi(d.ca);}h=g - h;p=d.Pn(n);p.wi({end:h});this.M0=g;}p.z3a();return p;}}};l.prototype.wKb=function(){return this.uNa >= this.M0;};l.prototype.DLb=function(d,g){this.jv(d,g);};l.prototype.eDb=function(d,g,n){d.sfc=this.jv(g,n);};l.prototype.jv=function(d,g){return d.te.Oi(g.ca);};l.prototype.s2=function(){if(!this.wKb())return !1;if(this.Hpb)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.uNa," >= ").concat(this.M0));return !0;};return l;})();b.zLa=r;},74145:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OQa=void 0;b.OQa=function(a,c,k){var f,l;f=!0;k.forEach(function(d){var g;if(f && a === d.profile){g=d.ranges;f=void 0 === g?c >= d.min && c <= d.max:g.some(function(n){return c >= n.min && c <= n.max;});!f && d.disallowed && d.disallowed.some(function(n){if(n.stream.bitrate === c)return (l=n.disallowedBy,!0);});}});return {inRange:f,n3:l};};},73729:function(r,b,a){var k;function c(f,l){l=Math.max(f,l);return isNaN(l)?f || -Infinity:l;}Object.defineProperties(b,{__esModule:{value:!0}});b.Hya=void 0;k=a(47571);r=(function(){function f(l){this.config=l;this.yta=0;this.state=k.Wc.Rr;this.E4a=c(l.xqa,l.a7);this.Eqa=c(l.tG,l.RU);}f.prototype.dk=function(l,d){var g;g=this;if(d !== this.state){this.state=d;if(d === k.Wc.Qe || d === k.Wc.N_)return l;d === k.Wc.sl && this.iXb();}return l.filter(function(n){return !(void 0 !== n.zb && n.zb < g.Eqa || (void 0 === n.zb || 0 > g.Eqa) && n.bitrate < g.E4a);});};f.prototype.iXb=function(){++this.yta;this.Eqa=c(this.config.tG,this.config.RU - this.config.JQb * this.yta);this.E4a=this.config.xqa || -Infinity;};return f;})();b.Hya=r;},62999:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Vya=void 0;c=a(4145);r=(function(){function k(f){this.config=f;}k.prototype.t0b=function(f){return f % 100 + 1 <= this.config.jsa;};k.prototype.dk=function(f){var l,d,g,n,h,m,p,q,u,t,w;p=Number(null === (l=f[0]) || void 0 === l?void 0:l.O);if(!(this.config.D3 && this.t0b(p) && 0 < this.config.e9.length))return f;l=f.length;q=null !== (d=f[l - 1].d9) && void 0 !== d?d:0;if(d=(0,c.yc)(this.config.e9,function(v){return v.ufc >= q && v.n9a <= q;})){for(p=0;p < l;p++){u=f[Math.max(p - 1,0)];t=f[p];if(!((null !== (g=t.d9) && void 0 !== g?g:0) < d.n9a || (null !== (n=u.d9) && void 0 !== n?n:0) < d.n9a)){w=null !== (h=t.zb) && void 0 !== h?h:Infinity;u=null !== (m=u.zb) && void 0 !== m?m:Infinity;if(!(u < d.Iec || u < d.Hec && t.bitrate < d.maxBitrate || !w && t.bitrate < d.jec))break;}}return f.slice(0,p);}return f;};return k;})();b.Vya=r;},46967:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Wya=void 0;r=(function(){function a(c){this.config=c;}a.prototype.dk=function(c){var k;k=this.config;return c.filter(function(f){return !(void 0 !== f.zb && (f.zb < k.tG || f.zb > k.E3a) || (void 0 === f.zb || 0 >= k.tG) && f.bitrate < k.xqa || (void 0 === f.zb || Infinity === k.E3a) && f.bitrate > k.KPb);});};return a;})();b.Wya=r;},45866:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mK=b.lK=void 0;c=a(39481);k=a(71820);b.lK=function(f,l){l && (null === f || void 0 === f?0:f.j0a) && (l=new k.ru(l).or(k.qD));return new k.ru(k.Caa).and(null !== l && void 0 !== l?l:k.qD).or(k.oca,c.VI.kF).or(k.pca,c.VI.kF);};b.mK=function(f,l){l && f.j0a && (l=new k.ru(l).or(k.qD));return new k.ru(k.Caa).and(new k.Xya(f)).and(new k.Wya(f)).and(new k.Hya(f)).and(new k.Zya(f)).and(f.D3?new k.Vya(f):k.qD).and(null !== l && void 0 !== l?l:k.qD).or(k.oca,c.VI.kF).or(k.pca,c.VI.kF);};},79985:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Xya=void 0;c=a(47571);r=(function(){function k(f){this.config=f;}k.prototype.dk=function(f,l){return this.config.f$ || l !== c.Wc.rm?f.filter(function(d){return d.fv;}):f;};return k;})();b.Xya=r;},62256:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.YP=void 0;r=a(70655);c=a(95994);k=r.__importDefault(a(29736));f=a(74145);a=(function(){function l(d){this.console=d;this.SUa=[];this.CRa={};this.mVa=!1;}l.prototype.I9=function(d,g){this.SUa=d;void 0 !== g?this.CRa[g]=d:this.mVa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.mVa=!0);};l.prototype.dk=function(d){var g,n,h,m,p;g=this;if(0 === d.length)return d;m=d[0].J;if(void 0 === m)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (n=k.default.xs) || void 0 === n?void 0:n.call(k.default,m);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (h=this.CRa[m]) && void 0 !== h?h:this.SUa;c.K && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(d.length," streams with ").concat(JSON.stringify(p)));d=d.filter(function(q){return (0,f.OQa)(q.profile,q.bitrate,p,g.console).inRange;});c.K && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(d.length," streams in range"));return d;};return l;})();b.YP=a;},84326:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Zya=void 0;r=(function(){function a(c){var k;k=this;c.NN && c.NN.enabled && c.NN.profiles && c.NN.profiles.length && "keepLowest" === c.NN.action && (this.d2a={},c.NN.profiles.forEach(function(f){return k.d2a[f]=!0;}));}a.prototype.dk=function(c){var k,f;k={};f=this.d2a;return void 0 === f?c:c.filter(function(l){return !f[l.profile] || (k[l.profile]?!1:k[l.profile]=!0);});};return a;})();b.Zya=r;},95459:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oca=b.Caa=void 0;c=a(4145);b.Caa={dk:function(k){return k.filter(function(f){return f.Qq && !f.nB;});}};b.oca={dk:function(k){return (k=(0,c.yc)(k,function(f){return !!f.Qq && !f.nB;}))?[k]:[];}};},71820:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(20136),b);r.__exportStar(a(79985),b);r.__exportStar(a(62256),b);r.__exportStar(a(84326),b);r.__exportStar(a(46967),b);r.__exportStar(a(73729),b);r.__exportStar(a(62999),b);r.__exportStar(a(95459),b);r.__exportStar(a(17262),b);r.__exportStar(a(39481),b);r.__exportStar(a(61915),b);r.__exportStar(a(45866),b);r.__exportStar(a(96649),b);},61915:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pca=void 0;b.pca={dk:function(a){return a.length?[a[0]]:[];}};},96649:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.vP=void 0;c=a(95994);k=a(74005);r=(function(){function f(l,d){this.console=l;this.config=d;this.pxa=!1;}f.prototype.dk=function(l,d,g,n){void 0 === g && (g=k.N.Ia);void 0 === n && (n=!1);c.K && this.console.trace("Filtering streams for fastplay",{pxa:this.pxa,yq:g.G,Tdc:n});if(this.pxa || g.G >= this.config.PPb || !1 === n){d=l.filter(this.LBb);if(d.length)return d;c.K && this.console.trace("No drm streams to return");}d=l.filter(this.Kvb);if(d.length)return d;c.K && this.console.trace("No clear streams to return");return l;};f.prototype.LBb=function(l){return l.hi;};f.prototype.Kvb=function(l){return !l.hi;};return f;})();b.vP=r;},17262:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qD=void 0;b.qD={dk:function(a){return a;}};},39481:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ru=b.VI=void 0;c=a(17262);(function(f){f[f.PM=0]="primary";f[f.kF=1]="fallback";})(k=b.VI || (b.VI={}));r=(function(){function f(l,d){var g,n;void 0 === d && (d=!1);n=this;this.Hub=d;this.filters=(g={},g[k.PM]=[],g[k.kF]=[],g);Array.isArray(l)?l.forEach(function(h){return n.and(h,k.PM);}):this.and(l);}f.prototype.and=function(l,d){void 0 === d && (d=k.PM);l !== c.qD && this.filters[d].push({filter:l,zTa:!0});return this;};f.prototype.or=function(l,d){void 0 === d && (d=k.PM);this.filters[d].push({filter:l,zTa:!1});return this;};f.prototype.filter=function(l){var d;d=this;[k.PM,k.kF].forEach(function(g){d.filters[g]=d.filters[g].filter(function(n){return l(g,n.filter);});});};f.prototype.dk=function(l,d,g,n){var h;h=this;return [k.PM,k.kF].reduce(function(m,p){return h.filters[p].reduce(function(q,u){u.zTa?q=u.filter.dk(q,d,g,n):0 === q.length && (q=u.filter.dk(l,d,g,n));return q;},m);},l);};return f;})();b.ru=r;},20136:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},30067:function(r,b,a){var c,k,f,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.KLa=b.Plb=void 0;c=a(70655);k=a(44724);r=c.__importDefault(a(29736));f=a(52190);a=a(94475);l=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(n){d=!1;}g=(function(n){function h(m,p){p=n.call(this,m.ro,p) || this;p.jE=m;return p;}c.__extends(h,n);Object.defineProperties(h.prototype,{Ba:{get:function(){return this.jE.iab(this.ae);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{offset:{get:function(){return this.jE.ri(this.ae);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Hqa:{get:function(){return this.jE.mM && this.jE.mM[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{pj:{get:function(){return this.jE.eGb(this.ae);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zb:{get:function(){return this.jE.gw && this.jE.gw[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Jha:{get:function(){return 8 * this.Ba / (1E3 * this.PA / this.S);},enumerable:!1,configurable:!0}});h.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.ob,contentEndTicks:this.rb,durationTicks:this.PA,timescale:this.S,startPts:this.La.G,endPts:this.$a.G,duration:this.te.G,additionalSAPs:this.pj};};return h;})(a.mMa);b.Plb=g;r=(function(){function n(h,m,p,q,u,t,w){this.BJ=128;this.Gc=m;this.Hb=p.offset;this.xm=p.sizes;this.a1=h;this.hJ=this.gQ=this.Bh=this.So=this.bga=void 0;this.iob=q;this.Aea=u && u.ri;this.kga=t;this.Wz=Math.min(this.Gc.length,this.xm.length);h=this.nub();this.Ynb=h.maxBitrate;this.Znb=h.bo;this.ro.kq.length !== this.xm.length && l.trace("Mis-matched stream duration (" + this.ro.kq.length + "," + this.xm.length + ") for movie id " + w);this.ro.z1 && !this.Aea && l.error("Mis-matched additional SAPs information for movie id " + w);}Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.Gc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{length:{get:function(){return this.Wz;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ur:{get:function(){return this.Gc.ur;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Cka:{get:function(){return this.Gc.Cka;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ab:{get:function(){return this.Gc.ab;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{jf:{get:function(){return this.Gc.jf;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bqa:{get:function(){return this.Gc.bqa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{wv:{get:function(){return this.Ynb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bo:{get:function(){return this.Znb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ca:{get:function(){return this.Gc.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{S:{get:function(){return this.Gc.S;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{qo:{get:function(){return this.So || this.Gea();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mM:{get:function(){return this.iob;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Rga:{get:function(){return this.Aea;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{gw:{get:function(){return this.kga;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ro:{get:function(){return this.Gc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{qr:{get:function(){return this.bga || this.Nmb();},enumerable:!1,configurable:!0}});n.prototype.iab=function(h){if(this.xm)return this.xm[h];l.error("sizesByIndex _sizes is undefined");return -1;};n.prototype.dm=function(h){return this.Gc.dm(h);};n.prototype.zS=function(h){return this.Gc.dm(h) + this.Gc.hf(h);};n.prototype.ri=function(h){var m,p,q;if(this.gQ !== h || void 0 === this.hJ){if(0 === h)return this.Hb;if(this.gQ === h - 1 && void 0 !== this.hJ)(this.hJ+=this.xm[this.gQ],++this.gQ);else {m=this.Bh || this.Bmb();p=Math.floor(h / this.BJ);q=p * this.BJ;for(m=m[p];q < h;++q){m+=this.xm[q];}this.gQ=h;this.hJ=m;}}return this.hJ;};n.prototype.hf=function(h){return this.Gc.hf(h);};n.prototype.get=function(h){return new g(this,h);};n.prototype.eGb=function(h){var m,p,q,u,t;(0,k.assert)(0 <= h);m=this.ro.z1;p=this.ro.qQa;q=this.Aea;if(!q || !m || !p || h >= m.length)return [];u=[];t=h === m.length - 1?p.length:m[h + 1];for(m=m[h];m < t;++m){u.push({Fj:p[m],we:this.dm(h) + this.ca.zv(p[m]).G,offset:q[m]});}return u;};n.prototype.Sx=function(h,m,p){return this.Gc.Sx(h,m,p);};n.prototype.gla=function(h,m,p){return this.Gc.gla(h,m,p);};n.prototype.mja=function(h,m){return this.Gc.mja(h,m);};n.prototype.lub=function(h,m,p,q,u){var t,w,v,y,x,z,A,B,C;t=!0;w=0;v=this.Gc.kq;y=this.xm;h=Math.floor(h * this.S / 1E3);x=Math.floor(p * this.S / 1E3);z=0;A=0;B=0;if(this.Gc.Ywa && this.Gc.Xwa)for(w=this.Gc.Ywa;w <= this.Gc.Xwa;++w){z+=v[w];A+=y[w];}if(A > m)t=!1;else for(;w < this.length && (!u || w < u);){C=y[w];p=v[w];if(A + C > m){for(;1 < w - B && A + C > m && (z - v[B] >= x || A - y[B] > q);){z-=v[B];A-=y[B];++B;}if(z < h || A + C > m){t=!1;this.Gc.Ywa=B;this.Gc.Xwa=w;break;}}z+=p;A+=C;++w;}return t;};n.prototype.subarray=function(h,m){(0,k.assert)(void 0 === h || 0 <= h && h < this.length);(0,k.assert)(void 0 === m || m > h && m <= this.length);return new n(this.a1,this.Gc.subarray(h,m),{offset:this.ri(h),sizes:this.xm.subarray(h,m)},this.mM && this.mM.subarray(h,m),this.Rga && ({ri:this.Rga}),this.kga && this.kga.subarray(h,m));};n.prototype.forEach=function(h){for(var m=0;m < this.length;++m){h(this.get(m),m,this);}};n.prototype.map=function(h){for(var m=[],p=0;p < this.length;++p){m.push(h(this.get(p),p,this));}return m;};n.prototype.reduce=function(h,m){for(var p=0;p < this.length;++p){m=h(m,this.get(p),p,this);}return m;};n.prototype.toJSON=function(){return {length:this.length};};n.prototype.dump=function(){var m;l.trace("StreamFragments: " + this.length);for(var h=0;h < this.length;++h){m=this.get(h);l.trace(("StreamFragments: ").concat(h,": [").concat(m.La.G,"-").concat(m.$a.G,"]") + (" @ ").concat(m.offset,", ").concat(m.Ba," bytes"));}};n.prototype.nub=function(){var h,m,p,q,u,t,y;h=0;m=0;p=this.Gc.L3a;q=this.Gc.M3a;u=this.Gc.kq;t=this.xm;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var w=0,v=this.length;w < v;++w){y=t[w];y > m && (m=y,q=w);y/=u[w];y > h && (h=y,p=w);}void 0 === this.Gc.L3a && (this.Gc.L3a=p);void 0 === this.Gc.M3a && (this.Gc.M3a=q);}else (h=t[p] / u[p],m=t[q]);return {maxBitrate:Math.floor(h * this.S / 125),bo:m};};n.prototype.Gea=function(){for(var h=0,m=0;m < this.length;++m){h+=this.xm[m];}return this.So=h;};n.prototype.Nmb=function(){return this.bga=new f.Zda(this.Gc.kq,this.xm,this.Gc.S);};n.prototype.Bmb=function(){if(!this.Bh){for(var h=d?new Float64Array(Math.ceil(this.length / this.BJ)):Array(Math.ceil(this.length / this.BJ)),m=this.Hb,p=0;p < h.length;++p){h[p]=m;for(var q=0;q < this.BJ;++q){m+=this.xm[p * this.BJ + q];}}this.Bh=h;}return this.Bh;};return n;})();b.KLa=r;(0,a.tv)(r.prototype.dm);(0,a.tv)(r.prototype.zS);(0,a.tv)(r.prototype.hf);(0,a.tv)(r.prototype.ri);(0,a.tv)(r.prototype.iab);(0,a.tv)(r.prototype.get);},40572:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fea=void 0;c=a(74005);r=(function(){function k(f){this.ax=f;this.rXa=new c.yz();}Object.defineProperties(k.prototype,{m2a:{get:function(){var f,l;return null !== (f=this.MKb) && void 0 !== f?f:null === (l=this.parent) || void 0 === l?void 0:l.m2a;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{l6:{get:function(){var f,l;return null !== (f=this.ORb) && void 0 !== f?f:null === (l=this.parent) || void 0 === l?void 0:l.l6;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Xn:{get:function(){var f,l;return null !== (f=this.dg) && void 0 !== f?f:null === (l=this.parent) || void 0 === l?void 0:l.Xn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{t2a:{get:function(){var f,l,d,g;return null !== (f=this.Qh) && void 0 !== f?f:(null === (l=this.track) || void 0 === l?0:l.equals(null === (d=this.parent) || void 0 === d?void 0:d.track))?null === (g=this.parent) || void 0 === g?void 0:g.Qh:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{v2a:{get:function(){var f,l;return null !== (f=this.I1b) && void 0 !== f?f:null === (l=this.parent) || void 0 === l?void 0:l.v2a;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fpa:{get:function(){var f,l;return null !== (f=this.J1b) && void 0 !== f?f:null === (l=this.parent) || void 0 === l?void 0:l.fpa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{track:{get:function(){return this.XZb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wdb:{get:function(){return this.rXa.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{parent:{get:function(){var f;return null === (f=this.ax) || void 0 === f?void 0:f.call(this);},enumerable:!1,configurable:!0}});k.prototype.Pa=function(){this.ax=void 0;};k.prototype.w$a=function(f){this.MKb=f;};k.prototype.L_b=function(f){this.ORb=f;};k.prototype.J$a=function(f){this.dg=f;this.rXa.resolve();};k.prototype.FW=function(f){this.Qh=f;};k.prototype.W_b=function(f){this.I1b=f;};k.prototype.K$a=function(f){this.J1b=f;};k.prototype.c0b=function(f){this.XZb=f;};return k;})();b.fea=r;},36886:function(r,b,a){(function(){var W0F,c;W0F=2;for(;W0F !== 8;){switch(W0F){case 2:var X$e="1";X$e+="SIYb";X$e+="ZrNJCp";X$e+="9";a(67841);a(54186);a(16955);c=a(47571).Wc;r.exports={checkBuffering:function(k,f,l,d,g,n){var j26=R7xOY;var F1z,m,p,q,u,w,t,v;function h(y){var G6S;G6S=2;for(;G6S !== 5;){switch(G6S){case 2:y=d.Ka.gla(k.Hd + y,void 0,!0);return (t - k.cr) / (t + (y.offset + y.Ba) - w);break;}}}F1z=2;for(;F1z !== 54;){switch(F1z){case 23:var f3w="o";f3w+="utofr";f3w+="ange";return {complete:!0,reason:f3w};break;case 9:var p5m="m";p5m+="a";p5m+="xs";p5m+="ize";return {complete:!0,reason:p5m};break;case 6:j26.m_t(12);var G7X=j26.N0G(1104,17,13,5);q=n.Zq * (p?n.xta:G7X);!d.ha && n.HCb && d.Wb && d.Wb.al && d.Wb.al.Da > n.Fpa && (q+=n.Pga + d.Wb.al.Da * n.gsa);g && !d.ha && (q+=g.Zu * n.Qga);q=u?Math.min(u,q):q;F1z=11;break;case 21:F1z=m >= q?35:37;break;case 2:(m=k.Gm - k.Hd,p=f === c.sl);f=d.qb || 0;(q=0,u=n.rxa && !p?n.QB:n.fqa);F1z=4;break;case 4:u=Math.min(n.oG,u);F1z=3;break;case 37:0 < f && f < p && (q=Math.min(u,Math.max(n.WV * (p / f - 1),q)));return {complete:!1,kN:q,progress:h(q)};break;case 42:F1z=0 < v?41:40;break;case 11:F1z=!f?10:20;break;case 10:var C_u="n";C_u+="o";C_u+="t";C_u+="hroughput";return {complete:!1,kN:q,reason:C_u};break;case 41:return (q=Math.min(u,m + v),{complete:!1,kN:q,progress:h(q)});break;case 35:F1z=f > p * n.R3?34:33;break;case 24:F1z=-1 === g?23:22;break;case 38:var e1d="noreb";e1d+="uf";e1d+="f";return {complete:!0,reason:e1d};break;case 22:w=d.Ka.ri(g);F1z=21;break;case 40:v=p.offset;F1z=39;break;case 26:return (f < p && (q=Math.min(u,Math.max(n.WV * (p / f - 1),q))),{complete:!1,kN:q,progress:0});break;case 39:--n;F1z=28;break;case 15:var K4P="lowLiveB";K4P+="u";K4P+="f";K4P+="fer";var W1Q="liveB";W1Q+="uffe";W1Q+="rLevel";return f > p && m > q?{complete:!0,reason:W1Q}:{complete:!1,kN:q,qb:f,bitrate:p,reason:K4P};break;case 44:p=d.Ka.get(n);j26.C8s(13);var i5E=j26.A_X(33,9,16);v=i5E * v * l / f - p.ab - q;F1z=42;break;case 20:t=0;k.Ka.forEach(function(y){var E2B;E2B=2;for(;E2B !== 1;){switch(E2B){case 2:t+=y.ab + y.duration > k.Hd?y.Ba:0;E2B=1;break;}}});l=Math.max(l,1);p=l * d.bitrate;F1z=16;break;case 34:var F$p="h";F$p+="i";F$p+="gh";F$p+="t";F$p+="p";return {complete:!0,reason:F$p};break;case 8:F1z=f <= n.Lpa && (0 < f || !n.Tka)?7:6;break;case 7:var W3e="low";W3e+="T";W3e+="hrough";W3e+="put";return {complete:!1,Kpa:!0,reason:W3e};break;case 16:F1z=d.ha?15:27;break;case 25:g=d.Ka.Sx(k.gl);F1z=24;break;case 3:F1z=m >= u?9:8;break;case 27:F1z=!d.Ka || !d.Ka.length?26:25;break;case 29:--n;F1z=28;break;case 28:F1z=n > g?44:38;break;case 33:q=d.Ka.hf(g);n=Math.min(g + Math.floor(n.WV / q),d.Ka.length - 1);v=d.Ka.ri(n);j26.m_t(14);var k4G=j26.N0G(20,1,13);q=k4G * w * l / f - k.Hd;F1z=29;break;}}}};X$e;W0F=8;break;}}})();},16955:function(r,b,a){var l,d;function c(g,n){return g && g.$F && (n || !1 !== g.fv);}function k(g,n,h){return !l.tb(g) || g < n?n:g > h?h:g;}function f(g){if(!(this instanceof f))return new f(g);this.Qh=l.tb(g)?g:void 0;}l=a(67841);d=new (a(29736)["default"].Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(g,n){if(!g)throw (g=n?" : " + n:"",d.error("Assertion failed" + g),Error("ASEJS_STREAM_SELECTOR assertion failed" + g));},LL:c,pla:function(g,n,h){var p,q,u,t;function m(w){var v;v=g[w];if(!v.$F || h && !h(v,w))return !1;t=w;return !0;}p=g.length;q=0;u=p;l.isArray(n) && (q=k(n[0],0,p),u=k(n[1],0,p),n=n[2]);n=k(n,q - 1,u);for(p=n - 1;p >= q;--p){if(m(p))return t;}for(p=n + 1;p < u;++p){if(m(p))return t;}return -1;},kRb:function(g,n){return Math.floor(g / (125 * n) * 1E3);},Vtb:function(g,n){return Math.ceil(g / 1E3 * n * 125);},Odc:function(g,n){return !g.slice(n + 1).some(c);},tn:f,yc:function(g,n){var h;return g.some(function(m,p,q){h=m;return n(m,p,q);})?h:void 0;},ps:function(g,n){var h;return g.some(function(m,p,q){h=p;return n(m,p,q);})?h:-1;},gK:k};},1119:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(70655).__exportStar(a(78069),b);},62405:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cda=void 0;c=a(70655);r=(function(){function k(f,l,d){var g,n,h;this.Cp=f;"HYBRID" === f?this.wL=d:"CCSP" === f && (this.Yy=null !== (g=l.Yy) && void 0 !== g?g:0,this.Dx=null !== (n=l.Dx) && void 0 !== n?n:0,this.Ly=null !== (h=l.Ly) && void 0 !== h?h:0);}Object.defineProperties(k.prototype,{a8a:{get:function(){var f;return "HYBRID" === this.Cp?[null !== (f=this.wL.Ev) && void 0 !== f?f:0]:"CCSP" === this.Cp?[this.Yy,this.Dx,this.Ly]:[];},enumerable:!1,configurable:!0}});k.prototype.x4a=function(){return Math.min(this.Yy,this.Dx,this.Ly);};k.prototype.T5=function(){return this.a8a.some(function(f){return 0 < f;});};k.prototype.Eua=function(f){return new k(this.Cp,{Yy:f * this.Yy,Dx:f * this.Dx,Ly:f * this.Ly});};k.prototype.Ypa=function(f,l,d,g){var n;n=8 * f / Math.max(d - l,1);if(!this.T5())return !1;f=this.a8a.map(function(h){return Math.abs(n - h) / h;});return Math.min.apply(Math,c.__spreadArray([],c.__read(f),!1)) < g;};return k;})();b.cda=r;},94713:function(r,b,a){var u,t,w;function c(v){return f(v.dg);}function k(v,y){var x,B,C;x=l(y.TXb,v.Ag,v.dg.Wb.confidence);if(0 === x.length)return 0;a:switch(y.UTb){case "implicit":y=q(y,v.dg);y=v.BE / y;break a;case "capacityPercentage":y=Math.max(v.Etb / v.Dtb || 0,v.BE / y.oG);break a;default:y=0;}for(var z=-1,A=0;A < x.length;A++){if(x[A].h2 >= y){z=A;break;}}if(-1 === z)return d(v,x[x.length - 1].Oia);if(0 === z)return d(v,x[0].Oia);B=x[z - 1].h2;A=d(v,x[z - 1].Oia);C=x[z].h2;v=d(v,x[z].Oia);x=Math.min((y - B) / (C - B),1);return (1 - x) * A + x * v;}function f(v){var y,x;x=null === (y=null === v || void 0 === v?void 0:v.pa) || void 0 === y?void 0:y.aM;return x?x[v.mediaType] || 0:0;}function l(v,y,x){var A;function z(B,C){return void 0 !== B && 0 < B.filter(function(D){return D === C;}).length;}A=v.filter(function(B){return z(B.n8,y);});0 === A.length && (A=v.filter(function(B){return !B.n8 || 0 === B.n8.length;}));v=A.filter(function(B){return z(B.U4a,x);});0 === v.length && (v=A.filter(function(B){return !B.U4a || 0 === B.U4a.length;}));return v.sort(function(B,C){return B.h2 - C.h2;});}function d(v,y){var x,z,A,B;if(!y || "object" !== typeof y)return 0;x=v.dg;z=v.f5b;A=v.v3b;B={selectedFragmentBitrate:g(v.i4,x,v.af) * v.playbackRate,selectedPeakBitrate:(x.wv || n(x) || 0) * v.playbackRate,upswitchPeakBitrate:(z.wv || n(z) || 0) * v.playbackRate,maxPeakBitrate:(A.wv || n(A) || 0) * v.playbackRate,selectedAverageBitrate:n(x) * v.playbackRate,upswitchAverageBitrate:n(z) * v.playbackRate,maxAverageBitrate:f(x) * v.playbackRate,bufferLevelMs:v.BE,observedThroughput:h(v.dg) || 0,averagetp:m(v.dg) || 0,stddevtp:p(v.dg) || 0};v=y.offset || 0;return Object.keys(B).reduce(function(C,D){return C + (y[D] || 0) * B[D];},v);}function g(v,y,x){var z;return void 0 !== x && y.Ka?(void 0 === v?null === (z=y.Ka) || void 0 === z?void 0:z.get(x).Jha:v.PYa(y,x).Jha) || y.wv || 0:y.wv || 0;}function n(v){return (null === v || void 0 === v?void 0:v.bitrate) || 0;}function h(v){var y;v=v.Wb;return (null === (y=null === v || void 0 === v?void 0:v.qb) || void 0 === y?void 0:y.Da) || 0;}function m(v){var y;v=v.Wb;return (null === (y=null === v || void 0 === v?void 0:v.Jm) || void 0 === y?void 0:y.VJ) || 0;}function p(v){var y;v=v.Wb;return Math.sqrt(null === (y=null === v || void 0 === v?void 0:v.Jm) || void 0 === y?void 0:y.oO) || 0;}function q(v,y){var x,z;x=v.F2b;x=m(y) + x * p(y);y=y.qb || 0;z=0;0 < y && (z=x / y - 1);return v.SQb + v.E2b * Math.max(0,z);}Object.defineProperties(b,{__esModule:{value:!0}});b.AHb=b.qIb=b.FGb=b.SHa=void 0;r=a(70655).__importDefault(a(29736));u=a(47571);t=a(62405);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");w={maxStreamBitrate:c,"static":function(v,y){return y.Fab;},none:function(){return 0;},regression:k,epsGreedy:function(v,y){return Math.min(k(v,y) || 0,h(v.dg));},"default":c};a=(function(){var w4_;w4_=2;function v(y,x){var n__;n__=2;for(;n__ !== 7;){switch(n__){case 9:n__=y.z3 || y.y3?8:7;break;case 8:var A1J="C";A1J+="C";A1J+="S";A1J+="P";this.Cp=A1J;n__=7;break;case 3:var M24="HYB";M24+="R";M24+="ID";this.Cp=M24;n__=7;break;case 4:n__=y.B3?3:9;break;case 2:var M4g="def";M4g+="a";M4g+="ult";var V7e="1SI";V7e+="Yb";V7e+="ZrNJCp9";this.Y=y;V7e;this.algorithm=(w[x === u.v.fa?this.Y.RTb:this.Y.QTb] || w[M4g]).bind(this);n__=4;break;}}}for(;w4_ !== 9;){switch(w4_){case 2:v.prototype.NXa=function(y,x){var h1y,z,A,B;h1y=2;for(;h1y !== 6;){switch(h1y){case 4:z=y;this.Y.y2 && (z=this.x4(y,A.rta[0],x));h1y=9;break;case 2:A=this.Y.y2;x=null === (z=x.kPb) || void 0 === z?void 0:z.wv;h1y=5;break;case 9:B=new t.cda(this.Cp,void 0,{cLb:1,Ev:z,kia:Number(this.Y.kia),lQb:this.Y.aQb,Yta:Number(this.Y.Yta)});h1y=8;break;case 5:var D$9="H";D$9+="YBR";D$9+="ID";h1y=D$9 === this.Cp?4:7;break;case 7:var v7B="C";v7B+="C";v7B+="S";v7B+="P";v7B === this.Cp && (B=new t.cda(this.Cp,A?{Yy:this.x4(y,A.rta[0],x),Dx:this.x4(y,A.rta[1],x),Ly:this.x4(y,A.rta[2],x)}:{Yy:0,Dx:0,Ly:0},void 0));h1y=8;break;case 8:return B;break;}}};v.prototype.vIb=function(y){var g$o,x,z;g$o=2;for(;g$o !== 5;){switch(g$o){case 2:var w0K="s";w0K+="ta";w0K+="t";w0K+="ic";var d6j="C";d6j+="C";d6j+="S";d6j+="P";var Z4C="H";Z4C+="YB";Z4C+="RID";z=null === (x=y.dg) || void 0 === x?void 0:x.mediaType;return Z4C !== this.Cp || this.Y.pCb?d6j === this.Cp && (z === u.v.fa && !this.Y.nCb || z === u.v.X && !this.Y.oCb)?0:w0K === this.Y.STb?this.Y.Fab:f(y.dg):0;break;}}};v.prototype.x4=function(y,x,z){var p8c;p8c=2;for(;p8c !== 3;){switch(p8c){case 2:p8c=!x?1:5;break;case 1:return 0;break;case 5:R7xOY.m_t(15);y=Math.ceil(R7xOY.A_X(x,y));return y < (this.Y.y2.dec || 0) * (z || 0)?0:y;break;}}};v.prototype.wIb=function(y){var I58,x,z,A;I58=2;for(;I58 !== 7;){switch(I58){case 9:x=y.jo?this.algorithm(y,this.Y):this.vIb(y);return this.NXa(x,y);break;case 4:I58=!this.Cp || !A || !z || (A=this.Y.j4b) && y.af && 0 === y.af % A || y.BE < z.TB?3:9;break;case 2:(z=null === (x=y.dg) || void 0 === x?void 0:x.mediaType,A=this.Y.B3 || z === u.v.fa && this.Y.y3 || z === u.v.X && this.Y.z3);x=this.NXa(0,y);z=this.Y.y2;I58=4;break;case 3:return x;break;}}};return v;break;}}})();b.SHa=a;b.FGb=l;b.qIb=h;b.AHb=q;},30331:function(r,b,a){(function(){function c(t,w){var u7o,v;u7o=2;for(;u7o !== 4;){switch(u7o){case 1:w.some(function(y){var F8q,x;F8q=2;for(;F8q !== 4;){switch(F8q){case 2:x=y.profiles;(x=x && 0 <= x.indexOf(t)) && (v=y.override);return x;break;}}});return v;break;case 2:v=void 0;u7o=1;break;}}}var h8o,f,l,d,g,n,h,m,p,q,u;h8o=2;function k(t,w,v,y){var S8h,B,C,D,F,G,J,L,E,A,x,z;S8h=2;for(;S8h !== 30;){switch(S8h){case 35:var L27="m";L27+="s";var l2x=",";l2x+=" ";l2x+="buffer l";l2x+="evel = ";var T8n=", lastUpswit";T8n+="chPts =";T8n+=" ";var E6R="  Upswitch not a";E6R+="llowed. lastDownswitc";E6R+="hPts = ";g && d.log(E6R + L + T8n + J + l2x + E + L27);S8h=34;break;case 15:D--;S8h=20;break;case 6:S8h=A && 1 < A.length?14:34;break;case 22:S8h=(C=A[D],E=x[C],m(E) && F > G.Fcb * E.bitrate * w.playbackRate)?21:23;break;case 13:S8h=0 > D?12:11;break;case 7:t.rbb.some(function(N){var K7z,I,O,K,H,M,R;K7z=2;for(;K7z !== 9;){switch(K7z){case 2:(I=N.profiles,O=I && 0 <= I.indexOf(z));K7z=1;break;case 1:K7z=O?5:3;break;case 3:return O;break;case 6:K7z=O?3:5;break;case 5:(K=(N=N.tV) && N.g7 || t.g7,H=N && N.xec || -Infinity,M=N && N.iec || Infinity,R=w.buffer.GE);K7z=4;break;case 4:A=x.filter(function(Y){var g92,ea;g92=2;for(;g92 !== 5;){switch(g92){case 1:return ea >= H && ea <= M && 0 <= I.indexOf(Y.Md) && ea * K / 8 < R;break;case 2:ea=Y.bitrate;g92=1;break;}}}).map(function(Y){var e6O;e6O=2;for(;e6O !== 1;){switch(e6O){case 4:return Y.Ft;break;case 2:return Y.Ft;break;}}});K7z=3;break;}}});S8h=6;break;case 34:var N_7="kbps, ";N_7+="streami";N_7+="ngP";N_7+="ts :";var Y2J=", ";Y2J+="aud";Y2J+="io throughput";Y2J+=":";var n4l=" kbp";n4l+="s, ";n4l+="profile";n4l+=" :";var I$y="sel";I$y+="ec";I$y+="tAudioStream: sele";I$y+="cted stream ";I$y+=":";var a9u=" ";a9u+="kb";a9u+="p";a9u+="s";var u48=" ";u48+="kbps, ";u48+="t";u48+="o ";var D8s="s";D8s+="witchin";D8s+="g audio from ";var F_C="d";F_C+="o";F_C+="w";F_C+="n";var T_y="u";T_y+="p";F=x[v];v !== y && g && d.log((v > y?T_y:F_C) + D8s + B.bitrate + u48 + F.bitrate + a9u);g && d.log(I$y + F.bitrate + n4l + z + Y2J + F.qb + N_7 + w.buffer.gl);return new p(v);break;case 14:(B=x[y],C=B.bitrate,D=A.indexOf(y),F=B.qb,G=t.Nsb);S8h=13;break;case 26:(J=this.ipa,L=this.QL);S8h=25;break;case 19:C=A[D];E=x[C];S8h=17;break;case 10:var J7Q=" kbps,";J7Q+=" try to downs";J7Q+="wit";J7Q+="ch";var v6z=" kb";v6z+="ps";v6z+=" < ";var L5Y="throughpu";L5Y+="t f";L5Y+="or a";L5Y+="udi";L5Y+="o ";(g && d.log(L5Y + F + v6z + G.wVa + "*" + C + J7Q),--D);S8h=20;break;case 24:var K_m=", ";K_m+="s";K_m+="trea";K_m+="min";K_m+="gPts = ";var V6R=", ";V6R+="lastUpswitchPts ";V6R+="= ";var m9o="  Upswit";m9o+="ch al";m9o+="lowed. lastDownswitchPts = ";g && d.log(m9o + L + V6R + J + K_m + C.gl);S8h=23;break;case 9:v=y;S8h=7;break;case 27:var V_M=" k";V_M+="b";V_M+="p";V_M+="s";var p8I=" k";p8I+="bp";p8I+="s > ";var d0l="throug";d0l+="hpu";d0l+="t for audio ";S8h=D < A.length - 1 && F > G.Fcb * C * w.playbackRate && (g && d.log(d0l + F + p8I + G.Fcb + "*" + C + V_M),C=w.buffer,E=C.Gm - C.Hd,B.Ka && B.Ka.length)?26:34;break;case 16:v=C;S8h=34;break;case 3:return new p(y);break;case 21:v=C;S8h=34;break;case 4:S8h=!(t && t.bX && 0 <= t.bX.indexOf(z))?3:9;break;case 11:S8h=D && F < G.wVa * C * w.playbackRate?10:27;break;case 25:S8h=w.CB && E > G.oy && (void 0 === L || Number(J) > L || C.gl - L > G.wU)?24:35;break;case 12:v=0;S8h=34;break;case 2:var W26="M";W26+="ust have at least one se";W26+="lected stream";x=v.first;n(!f.ji(y),W26);z=x[y].Md;S8h=4;break;case 20:S8h=0 <= D?19:34;break;case 17:S8h=m(E) && (0 == D || E.bitrate * w.playbackRate * G.wVa < F)?16:15;break;case 23:S8h=++D < A.length?22:34;break;}}}for(;h8o !== 4;){switch(h8o){case 2:var q1X="1S";q1X+="IYbZ";q1X+="rNJCp9";(f=a(67841),l=a(16955),d=l.console,g=l.debug,n=l.assert,h=a(6328),m=l.LL,p=l.tn,q=a(13687),u=a(47571).Cb);r.exports={STARTING:function(t,w,v,y){var L54,x,z,A;L54=2;for(;L54 !== 7;){switch(L54){case 2:(x=t,z=v.first,A=z[y || 0].Md);L54=1;break;case 4:var u5u=" kbp";u5u+="s, profile";u5u+=" :";var O33="sele";O33+="ctAudioStreamStarting: selected st";O33+="rea";O33+="m :";t=q[u[u.Dk]](x,w,v,y);z=z[t.Qh];g && d.log(O33 + z.bitrate + u5u + z.Md);return t;break;case 1:L54=(A=t && t.bX && 0 <= t.bX.indexOf(A)?c(A,t.rbb):c(A,t.Ksb))?5:4;break;case 5:var o$s="selectA";o$s+="udioStreamS";o$s+="ta";o$s+="rting: over";o$s+="riding config with ";(x={minInitAudioBitrate:t.TU,minHCInitAudioBitrate:t.e7,maxInitAudioBitrate:t.HU,minRequiredAudioBuffer:t.g7},g && d.log(o$s + JSON.stringify(A)),h(A,x));L54=4;break;}}},BUFFERING:k,REBUFFERING:k,PLAYING:k,PAUSED:k};q1X;h8o=4;break;}}})();},13687:function(r,b,a){var f,l,d,g,n,h;function c(m,p,q,u){g(!f.ji(u),"Must have at least one selected stream");return new h(u);}function k(m,p,q,u){g(!f.ji(u),"Must have at least one selected stream");return new h(u);}f=a(67841);b=a(16955);l=b.console;d=b.debug;g=b.assert;n=b.LL;h=b.tn;r.exports={STARTING:function(m,p,q){var t,w,v,y;function u(x,z){var A,B,C,D;A=x.id;B=x.bitrate;C=x.qb || 0;D=!!C;d && l.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!x.$F)return (d && !x.Qq && l.log("  Not available"),d && x.nB && l.log("  Failed"),!1);if(B > m.HU)return (d && l.log("  Above maxInitAudioBitrate (" + m.HU + " Kbps)"),!1);if(!(B * m.g7 / 8 < p.buffer.GE))return (d && l.log("  audio buffer too small to handle this stream"),!1);if(D){d && l.log("  Have throughput history = " + D + " : available throughput = " + C + " Kbps");if(B * p.playbackRate < C / w)return (d && l.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && l.log(" bitrate requires more than available throughput");return !1;}x=m.TU;p.MMb && (x=Math.max(x,m.e7));if(B <= x)return (d && l.log("  Bitrate is less than max of minInitAudioBitrate (" + m.TU + " Kbps) " + (p.MMb?" and also minHCInitAudioBitrate (" + m.e7 + " Kbps)":"")),d && l.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && l.log("  No throughput history");return !1;}t=new h();w=m.nbc || 1;y=q.first;for(v=y.length - 1;0 <= v;--v){q=y[v];if(u(q,v)){t.Qh=v;break;}n(q) && (t.Qh=v);}return t;},BUFFERING:c,REBUFFERING:c,PLAYING:k,PAUSED:k};},12657:function(r,b,a){var k,f,l,d;function c(g,n,h,m){g=h.first;if(k.ji(m))m=f(g);else if(!l(g[m]) && (m=f(g,m),0 > m))return null;return new d(m);}k=a(67841);b=a(16955);f=b.pla;l=b.LL;d=b.tn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},2134:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(3216);b["default"]={PLAYING:r.am,PAUSED:r.am};},3216:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperties(b,{__esModule:{value:!0}});b.am=void 0;r=a(70655);c=r.__importStar(a(67841));k=r.__importDefault(a(16955));f=r.__importDefault(a(69311));l=a(60595);d=r.__importDefault(a(29736));g=k.default.assert;n=k.default.tn;b.am=h;(function(){var e6H;e6H=2;for(;e6H !== 5;){switch(e6H){case 2:var C9o="1SI";C9o+="Y";C9o+="b";C9o+="ZrNJC";C9o+="p9";b.am=h=function(m,p,q,u,t,w,v){var G92,F,G,E,J,K,D,L,y,x,z,A,B,C,H,N,I,O;G92=2;for(;G92 !== 90;){switch(G92){case 6:R7xOY.C8s(5);C=R7xOY.N0G(B,y);0 > C && (C=0);C >= x.length && (C=x.length - 1);G92=12;break;case 16:q=[];t=p.buffer;t=t.Gm - t.Hd;w=l.Zp.jUa(p.buffer.Ka);w=p.buffer.GE - w.Ba;G92=23;break;case 10:B=C;G92=20;break;case 67:G92=x[C].f < B?72:66;break;case 8:G92=B < y || B > C?7:6;break;case 69:G92=x[C].f === B?68:67;break;case 38:J.push(L.max);G92=37;break;case 53:G92=void 0 !== I?52:64;break;case 21:y=0;G92=35;break;case 73:C++;G92=77;break;case 23:v=z[u];x=z[u];G92=21;break;case 65:K++;G92=46;break;case 70:G92=0 <= C?69:72;break;case 55:C+=1;G92=77;break;case 57:y=void 0;G92=56;break;case 76:G92=x[C].f === B?75:74;break;case 19:A.Qh=x[B].Dfc;G92=18;break;case 20:G92=void 0 !== B?19:58;break;case 59:return A;break;case 60:A.sbc=q;G92=59;break;case 47:K=p.af;G92=46;break;case 30:C.Wb && C.Wb.throughput && (D=C.Wb.throughput.Da);G92=29;break;case 58:return f.default.PLAYING.call(this,m,p,q,u,t,w,v);break;case 75:y=C;G92=72;break;case 34:C=z[y];B=y <= u?!0:!1;D=void 0;J=[];G92=30;break;case 18:A.dg=z[A.Qh];G92=17;break;case 68:y=C;G92=72;break;case 7:return f.default.PLAYING.call(this,m,p,q,u,t,w,v);break;case 45:O+=I.get(K).te.G;G92=65;break;case 52:K=p.af;G92=51;break;case 11:G92=D === B?10:57;break;case 12:D=x[C].f;G92=11;break;case 61:y++;G92=35;break;case 28:L=C.Wb.tdigest;J.push(L.min);J.push(L.Pra);J.push(L.Ap);J.push(L.bn);J.push(L.Bp);J.push(L.Qra);G92=38;break;case 48:K++;G92=51;break;case 77:G92=C < x.length?76:72;break;case 2:var x0d="player missing ";x0d+="fra";x0d+="gmentIndex";var Y7D="Must have at l";Y7D+="east one selected str";Y7D+="eam";g(!c.ji(u),Y7D);g(c.tb(p.af),x0d);(x=m.O1b,z=q.first,A=new n(u),B=null !== (y=p.af) && void 0 !== y?y:-1);y=x[0].f;C=x[x.length - 1].f;G92=8;break;case 17:G92=m.MCb?16:59;break;case 35:G92=y < z.length?34:60;break;case 51:G92=K < Math.min(K + m.Qsb,I.length)?50:47;break;case 74:G92=x[C].f > B?72:73;break;case 50:H=I.get(K);N.push({d:H.te.G,b:H.Ba});G92=48;break;case 72:B=y;G92=20;break;case 66:C--;G92=70;break;case 46:G92=K < I.length?45:64;break;case 64:I=void 0;p.Ktb && (I=d.default.time.Ga() - p.Ktb);q.push({af:p.af,xgc:I,pec:O,vbc:D,ugc:J,wgc:L,QRa:t,JXa:w,Sbc:N,Wdc:v.bitrate,Xdc:null !== (F=v.zb) && void 0 !== F?F:0,ccc:C.bitrate,dcc:null !== (G=C.zb) && void 0 !== G?G:0,Qfc:x.bitrate,Rfc:null !== (E=x.zb) && void 0 !== E?E:0,N5:B});G92=61;break;case 37:L=void 0;C.Wb && C.Wb.tputTrace && (L=C.Wb.tputTrace);(N=[],I=C.Ka,O=0);G92=53;break;case 71:--C;G92=70;break;case 56:G92=D < B?55:71;break;case 29:G92=C.Wb && C.Wb.tdigest?28:37;break;}}};C9o;e6H=5;break;}}})();},79243:function(r,b,a){var k;function c(f,l,d){return new k(d.first.length - 1);}a(67841);k=a(16955).tn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},22465:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(78655);b["default"]={PLAYING:r.am,PAUSED:r.am};},78655:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.am=void 0;r=a(70655).__importDefault(a(16955));c=r.default.console;k=r.default.tn;b.am=f;(function(){var b8D;b8D=2;for(;b8D !== 5;){switch(b8D){case 2:var M3I="1";M3I+="SI";M3I+="Y";M3I+="bZrNJCp";M3I+="9";b.am=f=function(l,d,g,n){var d9p,h,m,p,q,u;d9p=2;for(;d9p !== 10;){switch(d9p){case 2:(m=new k(n),p=d.buffer.gl);g=g.first;d9p=5;break;case 5:R7xOY.C8s(16);var e7i=R7xOY.N0G(9,4,6);q=l.V2b * Math.pow(Math.min(e7i,(d.buffer.Gm - d.buffer.Hd) / l.sU),l.U2b);l=void 0 === this.QL || p - this.QL > l.wU?g.length - 1:n;d9p=3;break;case 9:d9p=-1 < l?8:11;break;case 3:m.Qh=0;d9p=9;break;case 13:--l;d9p=9;break;case 11:return m;break;case 8:u=g[l];d9p=7;break;case 14:m.Qh=l;d9p=11;break;case 12:var J$n="S";J$n+="tream has no throughput s";J$n+="tatistics";c.warn(J$n);d9p=13;break;case 6:d9p=(n=u.Wb.qb.Da,p=u.bitrate,u=u.fta(null !== (h=d.af) && void 0 !== h?h:-1),p * d.playbackRate < n * q && u)?14:13;break;case 7:d9p=u.Wb && u.Wb.qb?6:12;break;}}};M3I;b8D=5;break;}}})();},24592:function(r,b,a){var k;function c(){return new k(0);}a(67841);k=a(16955).tn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},69311:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(43487);c=a(36910);a=a(20775);b["default"]={STARTING:a.V9a,BUFFERING:r.x9,REBUFFERING:r.x9,PLAYING:c.am,PAUSED:c.am};},43487:function(r,b,a){var c,k,f,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.x9=void 0;r=a(70655);c=r.__importStar(a(67841));k=a(4145);r=r.__importDefault(a(16955));f=a(36910);l=r.default.assert;d=r.default.tn;b.x9=g;(function(){var y4g;y4g=2;for(;y4g !== 5;){switch(y4g){case 2:var m$g="1SI";m$g+="YbZr";m$g+="NJ";m$g+="Cp9";b.x9=g=function(h,m,p,q,u,t,w){var u2S;u2S=2;for(;u2S !== 1;){switch(u2S){case 2:var k7W="pl";k7W+="a";k7W+="y";k7W+="ing";return k7W === h.Rha?f.am.call(this,h,m,p,q,u,t,w):n.call(this,h,m,p,q);break;}}};m$g;y4g=5;break;}}function n(h,m,p,q){function u(z){var Z2F,A;Z2F=2;for(;Z2F !== 8;){switch(Z2F){case 2:A=z.qb;Z2F=1;break;case 1:Z2F=!A || (z.bitrate > v?h.e5b:1) * z.bitrate * m.playbackRate > A?5:4;break;case 4:var B4r="buff_";B4r+="lt_his";B4r+="t";y=B4r;x=A;return !0;break;case 5:return !1;break;}}}var T_E,x,y,t,w,v;T_E=2;for(;T_E !== 19;){switch(T_E){case 14:x=null === w || void 0 === w?void 0:w.qb;T_E=12;break;case 4:T_E=w.qb?3:12;break;case 12:q=new d();q.dg=w;p !== w && (q.reason=y,q.Ss=x);return q;break;case 3:q=Math.min(q + (h.xrb?2:1),t.length);w=(0,k.yc)(t.slice(0,q).reverse(),u);T_E=8;break;case 6:var O9y="fallback_lowe";O9y+="st_acceptable_s";O9y+="tream";y=O9y;T_E=14;break;case 7:w=t[0];T_E=6;break;case 8:T_E=void 0 === w?7:13;break;case 2:var j86="Must ha";j86+="ve at le";j86+="ast one selecte";j86+="d stream";l(!c.ji(q),j86);(t=p.first,w=t[q],v=w.bitrate);p=w;T_E=4;break;case 13:var A5p="s";A5p+="elec";A5p+="t_feas";A5p+="i";A5p+="ble_buffering";y=A5p;T_E=14;break;}}}})();},36910:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.nka=b.N5=b.am=void 0;r=a(70655);k=r.__importStar(a(67841));f=a(4145);l=a(60595);d=r.__importDefault(a(54186));g=r.__importDefault(a(16955));n=r.__importDefault(a(72292));h=a(47571);m=a(95032);p=g.default.assert;q=g.default.tn;b.am=(c=(function(){var r6g;function u(v,y,x,z,A,B,C,D,F,G,E,J,L,N,I,O,K,H){var d_7,oa,M,R,Y,ea,ca;d_7=2;for(;d_7 !== 17;){switch(d_7){case 6:d_7=!M || M < y.bitrate * H * v.Fna || !ea?14:13;break;case 8:p(A.length === E);v.Npa && (O=Math.min(O,Y));d_7=6;break;case 13:ca || (R=y);oa=new m.rLa(A);N=Math.max(0,Math.min(N,y.Ka.length - G));I=Math.max(0,Math.min(I,R.Ka.length - G - N));d_7=20;break;case 2:var T1e="Fi";T1e+="rst str";T1e+="eam u";T1e+="ndefine";T1e+="d";y=x[0].stream;R=null === (M=z[0]) || void 0 === M?void 0:M.stream;p(y,T1e);M=y.qb;(Y=D - B,ea=y.Ka && y.Ka.length,ca=(null === R || void 0 === R?void 0:R.Ka) && (null === R || void 0 === R?void 0:R.Ka.length));d_7=8;break;case 20:x.forEach(function(Ga){var l0C,Fa,Ja;l0C=2;for(;l0C !== 4;){switch(l0C){case 2:(Fa=Ga.stream,Ja=Ga.blocks);Ga=Ga.af;k.tb(Ga) && Fa.Ka && oa.add(Fa.Ka.qr.subarray(Ga,Ga + Ja));l0C=4;break;}}});z.forEach(function(Ga){var n3Q,Fa,Ja;n3Q=2;for(;n3Q !== 4;){switch(n3Q){case 2:(Fa=Ga.stream,Ja=Ga.blocks);Ga=Ga.af;0 < I && k.tb(Ga) && Fa.Ka && oa.add(Fa.Ka.qr.subarray(Ga,Ga + Ja));n3Q=4;break;}}});return 0 < N || 0 < I?(0,n.default)({pFb:oa,blocks:E + N + I,Hd:B,Gm:D,X0b:C,cr:J,gl:F,af:E,REb:E + N,s3:K,JXa:L,qb:M / H,MQb:O,TB:v.TB,rNb:v.f$,lCb:!1}):M > y.wv?{result:!0,yU:0,fv:!0}:{result:!1,yU:0,fv:!0};break;case 14:return !1;break;}}}r6g=2;function w(v,y,x){var l7A,z;l7A=2;for(;l7A !== 3;){switch(l7A){case 2:l7A=!x.qb?1:5;break;case 1:return v.z4a;break;case 5:z=(x.b3b || x.qb) / x.qb;return 1 >= z?v.gqa:Math.min(Math.max((v.S0b * Math.min(8 * y / x.bitrate,v.oG) - v.py) / (z - 1),v.z4a),v.gqa);break;}}}function t(v,y,x){var e$t;e$t=2;for(;e$t !== 4;){switch(e$t){case 2:v=new q();v.dg=x[0];return v;break;}}}for(;r6g !== 5;){switch(r6g){case 2:var t$W="1S";t$W+="IYbZrNJ";t$W+="C";t$W+="p";t$W+="9";t$W;return {N5:u,am:function(v,y,x,z,A,B,C){var G14,F,G,E,J,L,N,I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa,D;G14=2;for(;G14 !== 17;){switch(G14){case 7:G14=H === d.default.tZ.Zlb || !A.qb?6:14;break;case 3:var P29="n";P29+="umb";P29+="er";var R6t="nu";R6t+="mb";R6t+="er";p(R6t === typeof y.buffer.GE);p(P29 === typeof y.s3);(F=x.first,G=new q(),E=A=F[z],J=y.buffer.ab,L=y.buffer.Hd,N=y.buffer.gl,I=y.buffer.Gm,O=y.af,K=I - L,H=this.ye.m2a || d.default.tZ.Dk,M=y.state === h.Cb.me || y.state === h.Cb.Vh?y.buffer.cr:0,R=v.L6,Y=null !== (D=v.py) && void 0 !== D?D:1E3);G14=7;break;case 14:x.zla(function(Ja,Xa,cb){var D2y,U;D2y=2;for(;D2y !== 5;){switch(D2y){case 2:void 0 !== cb && (Ja=Ja[cb],null !== (U=Ja.Ka) && void 0 !== U && U.length || (Ja.dwa=!0));D2y=5;break;}}});(ca=l.Zp.jUa(y.buffer.Ka),oa=y.buffer.GE - ca.Ba);D=(v.Nva || C) && K >= v.Ixa?F.length:z + 2;(Ga=(function(Ja){var I2n,P1g;I2n=2;for(;I2n !== 4;){switch(I2n){case 2:var j57="var";j57+="i";j57+="a";j57+="b";j57+="le";P1g=v.Lva;I2n=P1g === j57?1:3;break;case 1:return F.slice(0,Ja).map(function(Xa){var K6s;K6s=2;for(;K6s !== 1;){switch(K6s){case 2:return [w(v,y.buffer.GE,Xa),0];break;case 4:return [w(v,y.buffer.GE,Xa),5];break;}}});break;case 5:return F.slice(0,Ja).map(function(Xa,cb){var l8D;l8D=2;for(;l8D !== 1;){switch(l8D){case 2:return cb < z?[v.Hna,v.Ipa]:cb === z?[v.Gna,v.Hpa]:[v.Ina,v.Jpa];break;}}});break;case 3:I2n=5;break;case 13:I2n=9;break;}}})(D),Fa=F.slice(0,D).map(function(Ja,Xa){var F32=R7xOY;var M2D,cb;M2D=2;for(;M2D !== 5;){switch(M2D){case 2:F32.m_t(17);cb=F32.N0G(z,Xa);return function(){var g7F,U,Z,Q,ka,P,fa,ua,pa,Ra;g7F=2;for(;g7F !== 5;){switch(g7F){case 2:a:{F32.m_t(5);U=Math.max(F32.N0G(Xa,1),0);Z=Ga[Xa][1];Q=y.playbackRate;ka=x.ZZa(Xa,O,Ga[Xa][0]);P=ka.Ybb;ka=ka.Oab;F32.m_t(0);Z=x.ZZa(U,F32.A_X(P,O),Z);U=Z.Ybb;fa=Z.Oab;Z=ka[0].stream;ua=Z.qb || 0;pa=Z.Ka && Z.Ka.length;Ra=C?v.WDb:pa?v.R3:v.XDb;Ra=cb?v.cla:Ra;if(ea && !ea.S3 && ea.qb >= ua && ea.bitrate <= Z.bitrate){P=!1;}else {cb || pa || (Z.dwa=!0);if(!cb || !pa)if(pa && !v.f$){if(ua >= Math.max(Z.wv * Q,Z.bitrate * Q * Ra) && Z.fv){P=!0;break a;}}else if(ua >= Z.bitrate * Q * Ra){P=!0;break a;}Q=!v.dja || Z === E || Z.$b === E.$b && B?0:(Q=Z.Wb) && Q.al && Q.al.Da?Q.al.Da + v.$ia * (Q.al.Zd?Math.sqrt(Q.al.Zd):0):0;(P=u(v,F,ka,fa,ca,L + Q - J,R,I - J,N - J,O,ca.length,M,oa,P,U,Y,y.s3,y.playbackRate)) && P.result && (G.eec=P.yU);ea={S3:P && P.result,qb:ua,bitrate:Z.bitrate};P=P && P.result;}}return P;break;}}};break;}}}));G14=10;break;case 10:p(Fa.length === Ga.length);Fa[z]()?z + 1 < F.length && K > v.oy && (void 0 === this.QL || this.ipa && this.ipa > this.QL || N - this.QL > v.wU && K > v.Mpa) && (A=(0,f.jha)(F.slice(z + 1,D),function(Ja,Xa){var W3S;W3S=2;for(;W3S !== 1;){switch(W3S){case 2:return Fa[z + 1 + Xa]();break;case 4:return Fa[(z - 9) % Xa]();break;}}})):A.Ka && A.Ka.length && (A=(0,f.jha)(F.slice(0,z),function(Ja,Xa){var W3q;W3q=2;for(;W3q !== 1;){switch(W3q){case 2:return Fa[Xa]();break;}}}),D=F[0],A && A.Ft < D.Ft || !A) && (A=D);G.dg=A || E;return G;break;case 4:var H6t="invalid ";H6t+="player fragmen";H6t+="t";H6t+="Inde";H6t+="x";p(k.tb(y.af),H6t);G14=3;break;case 6:return t.call(this,y,v,F,A);break;case 2:var z2U="Must have ";z2U+="at";z2U+=" least one sel";z2U+="ected stream";p(!k.ji(z),z2U);void 0 === y.af && (y.af=0);G14=4;break;}}},nka:w};break;}}})(),c.am);b.N5=c.N5;b.nka=c.nka;},20775:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.GMb=b.V9a=void 0;c=a(70655);k=c.__importDefault(a(6328));f=c.__importStar(a(67841));l=a(4145);d=a(45041);g=c.__importDefault(a(29736));r=c.__importStar(a(312));a=c.__importDefault(a(16955));n=a.default.kRb;h=a.default.Vtb;m=a.default.gK;p=a.default.tn;q=r.eab;a=(function(){function t(B,C,D){var p7p;p7p=2;for(;p7p !== 5;){switch(p7p){case 2:B=h(D.Zq,B * D.T6);return n(B,C);break;}}}var L8d;function v(B,C){var H_h=R7xOY;var U4Y,D;U4Y=2;for(;U4Y !== 9;){switch(U4Y){case 5:D=C.vN;U4Y=4;break;case 1:var R0P="l";R0P+="o";R0P+="g";U4Y=0 === C.vN.lastIndexOf(R0P,0)?5:3;break;case 4:return (D=C.W9a[D]) && 2 === D.length?1E3 * (D[0] + D[1] * Math.log(1 + B)):C.Xq;break;case 7:H_h.C8s(14);var Z5U=H_h.A_X(14,0,10);H_h.C8s(18);var I_G=H_h.N0G(8,715,10,815,15);H_h.C8s(19);var G2e=H_h.N0G(15,14,213,39);B=m(B,Z5U,I_G) + G2e;U4Y=0;break;case 2:H_h.C8s(20);var Y73=H_h.N0G(9,100028,4,49993,99986);H_h.C8s(21);var y7M=H_h.N0G(20,7,5,992);B=m(B,0,Y73) / y7M;U4Y=1;break;case 3:var q_U="sigm";q_U+="o";q_U+="id";return 0 === C.vN.lastIndexOf(q_U,0)?(D=C.vN,(D=C.W9a[D]) && 2 === D.length?1E3 * (D[0] + D[1] * q(B)):C.Xq):C.Xq;break;}}}function z(B,C,D){var z$e,F,G;z$e=2;for(;z$e !== 4;){switch(z$e){case 2:(F=new p(),G=Math.max(B.et,B.a7));F.dg=(0,l.yc)(D.filter(function(E){var v2q;v2q=2;for(;v2q !== 1;){switch(v2q){case 2:return E.bitrate <= B.ty;break;}}}).reverse(),function(E){var V$Z,N,J,L;V$Z=2;for(;V$Z !== 13;){switch(V$Z){case 14:var y_R="no_histor";y_R+="i";y_R+="cal_lte_mi";y_R+="nbitrate";var x$8="h";x$8+="i";x$8+="st_tput_";x$8+="lt_mi";x$8+="nbitrate";var g1$="lt_hist_lt";g1$+="e_minb";g1$+="itrate";(L=J.qb,E.bitrate * C.playbackRate <= L?(F.Ss=L,J && (F.oB=J.Cl?J.Cl:0,F.pB=J.Cl?J.ah:void 0),F.reason=g1$,J=!0):L?(F.Ss=L,J && (F.oB=J.Cl?J.Cl:0,F.pB=J.Cl?J.ah:void 0),F.reason=x$8,J=!1):(F.reason=y_R,J=!0));V$Z=7;break;case 9:N=w(B,E);V$Z=8;break;case 8:var G$k="hist_b";G$k+="uf";G$k+="ftim";G$k+="e";t(E,L,B) <= N?(F.Ss=L,J && (F.oB=J.Cl?J.Cl:0,F.pB=J.Cl && J.ah),F.reason=G$k,J=!0):J=!1;V$Z=7;break;case 7:return J;break;case 2:J={qb:E.qb,Cl:E.Wb && E.Wb.Cl,ah:E.Wb && E.Wb.ah};V$Z=1;break;case 1:V$Z=E.bitrate > G?5:14;break;case 3:V$Z=L?9:6;break;case 6:J=!1;V$Z=7;break;case 5:E=E.bitrate * C.playbackRate;L=J.qb;V$Z=3;break;}}}) || D[0];return F;break;}}}L8d=2;function u(B,C){var u5D,F,D;u5D=2;for(;u5D !== 12;){switch(u5D){case 6:(F=d.YLa.yIb(B),f.up(F)?(B.si=F,F=!0):F=!1);u5D=14;break;case 4:D.pB=B.Cl && B.ah;D.oB=B.Cl?B.Cl:0;B=(0,k.default)(D.pB,{});u5D=7;break;case 7:u5D=(F=f.tb(C.y9) && 0 <= C.y9 && 100 >= C.y9 && !f.ji(B) && !f.Zb(B))?6:14;break;case 14:var q3Q="hist_throu";q3Q+="ghp";q3Q+="ut";var E8C="hi";E8C+="st_tdi";E8C+="gest";F?(C=B.si(C.y9 / 100) || D.dg.qb,D.Ss=C,D.reason=E8C):D.dg.qb && (C=D.dg.qb,D.Ss=C,D.reason=q3Q);return D;break;case 2:D=new p();D.dg=B;B=D.dg.Wb || ({});u5D=4;break;}}}function x(B,C,D,F,G,E){var J5Q;J5Q=2;for(;J5Q !== 5;){switch(J5Q){case 2:var D9M="no_va";D9M+="l";D9M+="id_Bitrate";var Q1l="no";Q1l+="_val";Q1l+="id_V";Q1l+="MAF";var l7z="no_valid_DelayTa";l7z+="rg";l7z+="e";l7z+="t";B=D?B.zb >= E.ft && B.zb <= E.Z3a:B.bitrate >= E.et && B.bitrate <= E.ty;return (F=F < G && B)?{S3:F}:{S3:F,reason:B?l7z:D?Q1l:D9M};break;}}}function y(B,C,D){var e9p,F,G,E,J,L,N;e9p=2;for(;e9p !== 19;){switch(e9p){case 11:var M6H="fallba";M6H+="ck_no_";M6H+="acceptable_stream";var g2C="below_minInit";g2C+="VideoBit";g2C+="rate";f.Zb(G) && D[E].bitrate < B.et && (G=u(D[E],B),G.reason=g2C);f.Zb(G) && (G=u(D[0],B),G.reason=M6H);return G;break;case 2:(F=!!B.ft && !!B.Z3a && D.every(function(I){var a1f;a1f=2;for(;a1f !== 1;){switch(a1f){case 2:return I.zb && 110 >= I.zb;break;}}}),G=null,E=D.length - 1);e9p=1;break;case 1:e9p=0 <= E && (F?D[E].zb >= B.ft:D[E].bitrate >= B.et)?5:11;break;case 9:N=x(J,G.Ss,F,L,N,B);J=N.S3;N=N.reason;G.y5=L;e9p=14;break;case 12:E--;e9p=1;break;case 5:J=D[E];G=u(J,B);(L=t(J.bitrate * C.playbackRate,G.Ss,B),N=v(G.Ss,B));e9p=9;break;case 14:e9p=J?11:13;break;case 13:G.reason=N;e9p=12;break;}}}function w(B,C){var Y4A,D,F;Y4A=2;for(;Y4A !== 13;){switch(Y4A){case 8:R7xOY.m_t(5);B=D[R7xOY.N0G(F,1)];D=D[F];Y4A=6;break;case 4:return D[0].d;break;case 5:Y4A=0 === F?4:3;break;case 1:(D=B.A5,F=(0,l.ps)(D,function(G){var W0T;W0T=2;for(;W0T !== 1;){switch(W0T){case 2:return C <= G.r;break;}}}));Y4A=5;break;case 3:Y4A=-1 === F?9:8;break;case 6:return Math.floor(B.d + (D.d - B.d) * (C - B.r) / (D.r - B.r));break;case 14:return B.Xq;break;case 2:Y4A=B.A5?1:14;break;case 9:return D[D.length - 1].d;break;}}}for(;L8d !== 5;){switch(L8d){case 2:var c4w="1";c4w+="SIYb";c4w+="Z";c4w+="rNJCp9";c4w;return {qpb:function(B,C,D,F){var s7o;s7o=2;for(;s7o !== 5;){switch(s7o){case 2:var W6o="hi";W6o+="s";W6o+="toric";W6o+="al";D=D.first;return D.some(function(G){var q6r;q6r=2;for(;q6r !== 1;){switch(q6r){case 2:return G.ha;break;}}})?z(B,C,D,F):W6o === B.goa?A(B,C,D,F):B.cR?y(B,C,D,F):z(B,C,D,F);break;}}},Jnb:x};break;}}function A(B,C,D,F){var R_8,G;R_8=2;for(;R_8 !== 7;){switch(R_8){case 2:var V6D="v";V6D+="b";G=g.default.storage.get(V6D);R_8=1;break;case 1:var x8B="n";x8B+="u";x8B+="m";x8B+="be";x8B+="r";R_8=x8B !== typeof G?5:4;break;case 5:return B.cR?y(B,C,D,F):z(B,C,D,F);break;case 4:var n6E="hi";n6E+="s";n6E+="t";n6E+="_bit";n6E+="rate";B=new p();B.dg=(0,l.yc)(D.slice().reverse(),function(E){var P6r;P6r=2;for(;P6r !== 1;){switch(P6r){case 2:return E.bitrate <= G;break;}}}) || D[0];B.reason=n6E;R_8=8;break;case 8:return B;break;}}}})();r=a.Jnb;b.V9a=a.qpb;b.GMb=r;},72292:function(r,b,a){var z90="de";z90+="f";z90+="au";z90+="l";z90+="t";var c,k;Object.defineProperties(b,{__esModule:{value:!0}});c=a(70655);c.__importStar(a(67841));k=a(16955);b[z90]=function(f){var x0x=R7xOY;var a4v,F,G,E,J,L,N,I,O,K,H,l,d,g,n,h,m,p,q,u,t,w,v,y,x,z,A,B,C,D;a4v=2;for(;a4v !== 50;){switch(a4v){case 29:x0x.C8s(5);G=x0x.A_X(p,g);a4v=28;break;case 41:(w+=O[d],++d,d >= O.length && ++I < l.length && (O=l.uT(I),K=l.hL(I),d=0));a4v=42;break;case 53:a4v=(G=Math.max(p - g,0),G < y && G < F)?52:28;break;case 32:(g=h,w+=O[d],++d,d >= O.length && ++I < l.length && (O=l.uT(I),K=l.hL(I),d=0),G=K[d],h+=G);a4v=33;break;case 11:var C0f=" ";C0f+=">=";C0f+=" fr";C0f+="agmentsLe";C0f+="ngth: ";var p_r="Stre";p_r+="a";p_r+="mingI";p_r+="nde";p_r+="x: ";q >= B && k.console.error(p_r + q + C0f + B);g+=D;0 === p && (g=0);a4v=19;break;case 35:a4v=w < q?34:53;break;case 8:F=0;d=0;G=l.hL(0)[0];x0x.C8s(22);h=x0x.A_X(h,1E3,A,G);x0x.m_t(23);v=x0x.N0G(0,v,8);x0x.C8s(3);E=x0x.A_X(A,1E3);a4v=11;break;case 33:a4v=w < F?32:31;break;case 52:return (f && m.push(G / (A / 1E3)),c.__assign({result:!1,yU:Math.min(G,n) / (A / 1E3),fv:!0},f && ({i2:m})));break;case 23:H--;q=L[J];B=N[J];a4v=35;break;case 25:(J=G[1],L=l.uT(D),N=l.hL(D),I=0,O=l.uT(I),K=l.hL(I),H=B - q);a4v=24;break;case 34:F=Math.max(q,t);a4v=33;break;case 30:return (f && m.push(G / (A / 1E3)),c.__assign({result:!1,yU:G / (A / 1E3),fv:!1},f && ({i2:m})));break;case 28:x0x.m_t(24);g+=x0x.N0G(v,q,0,E);p+=B;a4v=43;break;case 38:J >= L.length && ++D < l.length && (u-=L.length,L=l.uT(D),N=l.hL(D),J=0);f && m.push(G / (A / 1E3));F=G;a4v=54;break;case 27:G=c.__read(l.rIb(q),2);D=G[0];a4v=25;break;case 24:a4v=H?23:51;break;case 9:n=Infinity;a4v=8;break;case 31:a4v=!z && (G=p - g,G < x)?30:29;break;case 2:var A8C="1S";A8C+="I";A8C+="Yb";A8C+="Z";A8C+="rNJCp9";(l=f.pFb,d=f.blocks,g=f.Hd,n=f.Gm,h=f.X0b,m=f.cr,p=f.gl,q=f.af,u=f.REb,t=f.s3,w=f.JXa,v=f.qb,y=f.MQb,x=f.TB,z=f.rNb);f=f.lCb;A8C;(A=l.S,B=Math.min(l.qFb,d),C=n - g,D=8 * m / v | 0);m=[];a4v=9;break;case 42:a4v=h < g && d < J?41:40;break;case 19:x0x.m_t(3);g*=x0x.N0G(A,1E3);x0x.C8s(3);p*=x0x.A_X(A,1E3);x0x.C8s(3);x*=x0x.N0G(A,1E3);x0x.m_t(3);y*=x0x.N0G(A,1E3);x0x.m_t(3);C*=x0x.N0G(A,1E3);a4v=27;break;case 54:n=Math.min(G,n);a4v=24;break;case 43:w-=q;a4v=42;break;case 39:a4v=J >= u && G > C?51:38;break;case 51:return c.__assign({result:!0,yU:n / (A / 1E3),fv:!0},f && ({i2:m}));break;case 40:++J;a4v=39;break;}}};},90429:function(r,b,a){var k;function c(f,l,d){f=d.first.map(function(g,n){return g.$F?n:null;}).filter(function(g){return null !== g;});return f.length?new k(f[Math.floor(Math.random() * f.length)]):null;}k=a(16955).tn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},27032:function(r,b,a){var k,f,l,d;function c(g,n,h){var m,p;m=h.first;h=this.Afa;n=n.buffer.gl;p="forward" === g.iZb;if(k.ji(h))return (h=p?f(m):f(m,m.length),this.Bfa=n,this.Afa=h,new d(h));l(m[h]) || (h=f(m,h),this.Bfa=n,this.Afa=h);if(0 > h)return null;if(n > this.Bfa + g.e3b){g=m.map(function(q,u){return q.$F?u:null;}).filter(function(q){return null !== q;});if(!g.length)return null;p?h=(g.indexOf(h) + 1) % g.length:(h=g.indexOf(h) - 1,0 > h && (h=g.length - 1));this.Afa=g[h];this.Bfa=n;return new d(g[h]);}return new d(h);}k=a(67841);b=a(16955);f=b.pla;l=b.LL;d=b.tn;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},11377:function(r,b,a){var k,f,l,d,g,n;function c(h,m,p){var q;q=p.first;g=q;n=q.map(function(u,t){return t;});if(null === d)return (h=f(q),d=q[h].bitrate,new l(h));if(!q.length)return null;h=n.filter(function(u){return q[u].bitrate == d;})[0];return void 0 === h?(k.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new l(n[0])):new l(h);}b=a(16955);a=a(29736)["default"];k=b.console;f=b.pla;l=b.tn;d=null;g=null;n=null;a.Wub && (a.Wub.fl={va:function(){n=g=d=null;},X9a:function(h){d=h;},ndc:function(){return {all:g,hdb:n};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},54327:function(r,b,a){(function(){var q0Z,k,f,l,d;q0Z=2;for(;q0Z !== 6;){switch(q0Z){case 2:k=a(67841);a(54186);f=a(16955);a(29736);q0Z=3;break;case 3:var t10="1SIYbZr";t10+="N";t10+="JC";t10+="p9";var n45="de";n45+="fa";n45+="ult";(l=f.assert,d=f.tn);f=a(69311)[n45];r.exports={STARTING:f.STARTING,BUFFERING:f.BUFFERING,REBUFFERING:f.REBUFFERING,PLAYING:c,PAUSED:c};t10;q0Z=6;break;}}function c(g,n,h,m){var H5r,p;H5r=2;for(;H5r !== 11;){switch(H5r){case 3:R7xOY.m_t(25);var g04=R7xOY.A_X(15,4,14,0,2);m=h.length - g04;H5r=9;break;case 6:return (n.Qh=m,n);break;case 8:p=h[m];H5r=7;break;case 9:H5r=-1 < m?8:13;break;case 14:--m;H5r=9;break;case 13:n.Qh=0;return n;break;case 7:H5r=p.Wb && p.Wb.qb && p.bitrate < p.Wb.qb.Da - g.$2b?6:14;break;case 2:var N4A="play";N4A+="er ";N4A+="missin";N4A+="g fragmentI";N4A+="ndex";var W_I="Must ";W_I+="ha";W_I+="ve at least one selected stre";W_I+="am";l(!k.ji(m),W_I);l(k.tb(n.af),N4A);n=d(m);h=h.first;H5r=3;break;}}}})();},95032:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rLa=void 0;r=(function(){function a(c){this.qr=[];this.qr.push(c);}Object.defineProperties(a.prototype,{S:{get:function(){return this.qr[0].S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.qr.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qFb:{get:function(){var c;return null !== (c=this.mnb) && void 0 !== c?c:this.mnb=this.qr.reduce(function(k,f){return k + f.length;},0);},enumerable:!1,configurable:!0}});a.prototype.hL=function(c){return this.qr[c].hf;};a.prototype.uT=function(c){return this.qr[c].sizes;};a.prototype.add=function(c){this.qr.push(c);};a.prototype.rIb=function(c){var f;for(var k=0;0 <= c;){f=this.qr[k];if(c < f.length)break;k++;c-=f.length;}return [k,c];};return a;})();b.rLa=r;},52190:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Zda=void 0;c=a(70655);k=a(86393);a(44724);c.__importDefault(a(16955));r=(function(){function f(l,d,g,n){this.hf=l;this.S=g;this.length=Math.min(l.length,d.length);this.xm=d;this.mc=n;}Object.defineProperties(f.prototype,{Ba:{get:function(){return void 0 !== this.mc?this.mc:this.mc=this.Gea();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sizes:{get:function(){return this.xm;},enumerable:!1,configurable:!0}});f.prototype.subarray=function(l,d){return new f(this.hf.subarray(l,d),this.sizes.subarray(l,d),this.S);};f.prototype.concat=function(){var g,n;for(var l=[],d=0;d < arguments.length;d++){l[d]=arguments[d];}d=[this];l=d.concat.apply(d,c.__spreadArray([],c.__read(l),!1));d=l.reduce(function(h,m){return h + m.length;},0);g=new Uint32Array(d);n=new Uint32Array(d);d=l[0].S;l.reduce(function(h,m){k.zMa.set(g,m.hf,h);k.zMa.set(n,m.sizes,h);return h + m.length;},0);return new f(g,n,d);};f.prototype.Gea=function(){for(var l=this.sizes,d=this.length,g=0,n=0;n < d;++n){g+=l[n];}return g;};f.prototype.o1a=function(l){return void 0 === this.Opb?!1:0 < this.Opb[l];};return f;})();b.Zda=r;},78069:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.LLa=void 0;r=a(70655);c=r.__importStar(a(67841));k=r.__importDefault(a(54186));f=r.__importDefault(a(29736));l=a(4145);d=a(47571);g=a(34004);n=a(94713);h=new f.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");m=[d.Cb[d.Cb.Dk],d.Cb[d.Cb.Qe],d.Cb[d.Cb.sl],d.Cb[d.Cb.me],d.Cb[d.Cb.Vh],"checkBuffering"];p=a(11377);q={first:function(){return a(12657);},random:function(){return a(90429);},optimized:function(){return a(69311)["default"];},roundrobin:function(){return a(27032);},selectaudio:function(){return a(13687);},selectaudioadaptive:function(){return a(30331);},"default":function(){return a(69311)["default"];},lowest:function(){return a(24592);},highest:function(){return a(79243);},throughputthreshold:function(){return a(54327);},replay:function(){return a(2134)["default"];},checkdefault:function(){return a(36886);},livesimple:function(){return a(22465)["default"];},testscript:function(){return p;}};u={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};r=(function(){var G59;G59=2;for(;G59 !== 6;){switch(G59){case 3:t.prototype.d4=function(w,v){var U$J,y;U$J=2;for(;U$J !== 3;){switch(U$J){case 2:R7xOY.m_t(26);var e6w=R7xOY.N0G(16,4,2,7);y=w.length - e6w;U$J=1;break;case 1:U$J=0 <= y?5:3;break;case 4:--y;U$J=1;break;case 14:++y;U$J=7;break;case 5:v(w[y],y,w);U$J=4;break;}}};Object.defineProperties(t.prototype,{QL:{get:function(){var D$p;D$p=2;for(;D$p !== 1;){switch(D$p){case 4:return this.yfa;break;case 2:return this.yfa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ipa:{get:function(){var e7O;e7O=2;for(;e7O !== 1;){switch(e7O){case 4:return this.Cfa;break;case 2:return this.Cfa;break;}}},enumerable:!1,configurable:!0}});return t;break;case 2:t.prototype.X9a=function(w,v,y,x,z,A,B){var k2s,R,M,T4i,Y,H,C,D,F,G,E,J,L,N,I,K,O;k2s=2;for(;k2s !== 61;){switch(k2s){case 29:R=v.Wb;A=J.aPa;k2s=44;break;case 46:this.ye.w$a(k.default.tZ.Dk);k2s=15;break;case 37:M.ws=z && void 0 !== A && !isNaN(A) && 0 <= A && A < z.length?z.dm(A):G.gl;M.nSb=R && R.qb && R.qb.Da || 0;M.QRa=G.Gm - G.Hd;k2s=53;break;case 11:0 <= N || (N=O[K - 1].bitrate,O=O[K - 1].zb,N=v.ana(v.first,N,O));k2s=10;break;case 31:var J4m="pl";J4m+="a";J4m+="yi";J4m+="n";J4m+="g";w.state !== d.Cb.me && w.state !== d.Cb.Vh?(z=(0,g.$6a)(w.state),A=this.s2(w.buffer,z,w.playbackRate,v,A),(M.Dm=A.complete)?M.Btb=A.reason:(M.Dm=!1,M.kN=A.kN,M.Kpa=A.Kpa,M.progress=A.progress)):(M.Dm=!0,M.Btb=J4m);k2s=30;break;case 15:void 0 !== x && this.o7a(v,w.state,w.buffer,x);M=this.mNa[d.Cb[w.state]].call(this,J,w,v,N,x,!!z,I,y);M.Ag=w.state;k2s=25;break;case 18:T4i=w.state;k2s=T4i === d.Cb.Dk?17:47;break;case 43:Y=[];A.forEach(function(ea){var N2B,ca;N2B=2;for(;N2B !== 4;){switch(N2B){case 2:ca=ea.stat;ca=(ea=R[ea.filter]) && ea[ca];Y.push(isNaN(ca)?-1:ca);N2B=4;break;}}});k2s=41;break;case 13:H=O[K - 1].Sb;N=(0,l.ps)(L,function(ea){var H7S;H7S=2;for(;H7S !== 1;){switch(H7S){case 2:return ea.Sb === H;break;}}});k2s=11;break;case 16:this.ye.w$a(k.default.tZ.Dk);k2s=15;break;case 19:w.state !== d.Cb.Dk && void 0 === N && (w.state=d.Cb.Dk);k2s=18;break;case 53:M.Ntb=G.qo;M.cVb=null !== (F=null === (D=null === (C=f.default.ldc) || void 0 === C?void 0:C.call(f.default)) || void 0 === D?void 0:D[w.mediaType === d.v.X?1:0]) && void 0 !== F?F:-1;M.$j=w && w.$j;k2s=50;break;case 10:c.ji(N) && (N=this.ye.t2a);w.state === d.Cb.Dk && c.tb(N) && (w.state=d.Cb.Qe);k2s=19;break;case 22:void 0 === M.OQb?this.ye.FW(M.Qh):this.ye.FW(M.OQb);v=L[M.Qh];M.LV=v.qb || 0;k2s=34;break;case 30:k2s=w.uS?29:48;break;case 17:this.Cfa=this.yfa=void 0;k2s=16;break;case 49:M.EC=f.default.time.Ga();k2s=48;break;case 23:return null;break;case 50:M.Ar=E;k2s=49;break;case 2:(G=null === w || void 0 === w?void 0:w.buffer,E=f.default.time.Ga(),J=this.Y,L=v.first,N=this.ye.t2a,I=!1);c.tb(N) && w.state === d.Cb.Dk && (this.ye.FW(void 0),N=void 0);c.tb(N) && N >= L.length && (this.ye.FW(void 0),N=void 0);k2s=4;break;case 7:O=G.Ka;K=O.length;k2s=14;break;case 4:k2s=c.ji(N) && w.state === d.Cb.me && (I=!0,void 0 !== this.ye.Xn)?3:7;break;case 24:k2s=!M || null === M.Qh?23:22;break;case 65:k2s=T4i === d.Cb.me?15:64;break;case 62:var w_G="Stream selecto";w_G+="r called ";w_G+="with invalid player sta";w_G+="te ";return (h.error(w_G + d.Cb[w.state]),null);break;case 41:M.xVb=Y;k2s=40;break;case 3:O=this.ye.Xn.zb;N=v.ana(v.first,this.ye.Xn.bitrate,O);k2s=8;break;case 14:k2s=0 < K?13:10;break;case 40:M.gl=G.gl;A=w && w.af;z=v.Ka;k2s=37;break;case 47:k2s=T4i === d.Cb.Qe?46:45;break;case 44:k2s=R && A && 0 < A.length?43:40;break;case 25:M.dg && (M.WE=[],v.$Eb(function(ea,ca){var G5Z;G5Z=2;for(;G5Z !== 5;){switch(G5Z){case 2:ea === M.dg?M.Qh=ca:(ea.dwa || J.jCb && (!ea.Ka || !ea.Ka.length)) && M.WE.push(ea.Sb);ea.dwa=!1;G5Z=5;break;}}}),!M.WE.length && J.$0b && G.Gm - G.Hd > J.c7 && !M.dg.ha && (v=void 0,y=M.Qh + 1,y=y < L.length?L[y]:void 0,x=M.Qh - 1,x=0 <= x?L[x]:void 0,!y || y.Ka && y.Ka.length?!x || x.Ka && x.Ka.length || (v=x):v=y,v && M.WE.push(v.Sb)),M.WE.length || (M.WE=void 0));k2s=24;break;case 64:k2s=T4i === d.Cb.Vh?15:63;break;case 34:var s9x="min_";s9x+="f";s9x+="ragment_vm";s9x+="af";M.reason && (v.Ct=M.reason,s9x !== M.reason && (v.SZb=M.Ss,v.y5=M.y5,v.oB=M.oB,v.pB=M.pB));this.n6a && (M.Ev=this.n6a.wIb({BE:G.Gm - G.Hd,Etb:G.qo || 0,Dtb:G.GE || 0,Hd:G.Hd,kPb:L[0],dg:v,f5b:L[M.Qh + 1] || v,v3b:L[L.length - 1],Ag:w.state,playbackRate:w.playbackRate,af:w.af,i4:B,jo:z}));c.tb(N) && v.bitrate < L[N].bitrate && (this.yfa=G.gl);k2s=31;break;case 8:this.ye.FW(N);k2s=7;break;case 45:k2s=T4i === d.Cb.sl?46:65;break;case 63:k2s=62;break;case 48:return M;break;}}};t.prototype.s2=function(w,v,y,x,z){var V_O;V_O=2;for(;V_O !== 1;){switch(V_O){case 2:return this.mNa.checkBuffering.call(this,w,v,y,x,z,this.Y);break;}}};t.prototype.N1b=function(w,v,y){var R02;R02=2;for(;R02 !== 1;){switch(R02){case 2:c.ji(v)?this.yfa=this.Cfa=void 0:v.bitrate < y.bitrate && (this.Cfa=w);R02=1;break;}}};t.prototype.o7a=function(w,v,y,x){var y01,z,A,B;y01=2;for(;y01 !== 5;){switch(y01){case 2:z=this;w.zla(function(C){var U9Z;U9Z=2;for(;U9Z !== 1;){switch(U9Z){case 2:z.d4(C,function(D){var v9t;v9t=2;for(;v9t !== 1;){switch(v9t){case 2:D.$F && D.Wb && D.Wb.confidence?(A !== D.Wb && (A=D.Wb,B=x(D.Wb,y,v,D.track.pa.aM[d.v.fa])),D.qb=Math.floor(B.lower) || 1,D.b3b=Math.floor(B.upper || 1) || 1):D.qb=void 0;v9t=1;break;}}});U9Z=1;break;}}});y01=5;break;}}};G59=3;break;}}function t(w,v,y,x){var b$M,z,A;b$M=2;for(;b$M !== 6;){switch(b$M){case 8:this.mNa=m.reduce(function(B,C){var e5X,D;e5X=2;for(;e5X !== 4;){switch(e5X){case 2:D=(q[w] || q[u[C]])()[C] || q[u[C]]()[C];B[C]=D.bind(z);return B;break;}}},{});x && (this.n6a=new n.SHa(v,null === (A=y.track) || void 0 === A?void 0:A.mediaType));b$M=6;break;case 1:var D0E="1";D0E+="S";D0E+="IYb";D0E+="ZrNJC";D0E+="p9";this.YZb=w;this.Y=v;this.ye=y;D0E;w=w || this.Y.Qab;b$M=8;break;case 2:z=this;b$M=1;break;}}}})();b.LLa=r;},2338:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.gea=void 0;c=a(4145);k=a(16955);r=(function(){function f(){this.$0=[];}Object.defineProperties(f.prototype,{first:{get:function(){var l;return null === (l=this.$0[0]) || void 0 === l?void 0:l.Eg;},enumerable:!1,configurable:!0}});f.prototype.Mga=function(l){this.$0.push({Eg:l});};f.prototype.zla=function(l){this.$0.forEach(function(d,g){return l(d.Eg,g);});};f.prototype.$Eb=function(l){this.zla(function(d){d.forEach(function(g,n){return l(g,n);});});};f.prototype.ZZa=function(l,d,g){var n,h,m,p,q,u,t;n=this;h=g;m=d;p=0;q=[];d=this.first[l];u=d.zb;t=d.bitrate;this.$0.forEach(function(w,v){var y,x;w=w.Eg;0 >= h || (v=(0,k.gK)(0 === v?l:n.ana(w,t,u),0,w.length - 1),v=w[v],w=null === (y=v.Ka) || void 0 === y?void 0:y.mja(m,h),y=null !== (x=null === w || void 0 === w?void 0:w.blocks) && void 0 !== x?x:0,p+=y,q.push({stream:v,blocks:y,af:m}),null === w || void 0 === w?!0:!w.Jta) || (m=0,h-=w.Jta);});return {Oab:q,Ybb:p};};f.prototype.ana=function(l,d,g){var n;n=(0,c.ps)(l,function(h){return g && h.zb?h.zb > g:h.bitrate > d;});return 0 < n?n - 1:0 === n?0:l.length - 1;};return f;})();b.gea=r;},54059:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.OLa=void 0;c=a(70655);r=(function(){function k(f,l){this.V=f;this.gb=l;this.hwa=!1;}k.prototype.sYb=function(f){this.qf(f.message,void 0,c.__assign(c.__assign({},f.wWa),{err:f.toString()}));};k.prototype.qf=function(f,l,d){void 0 === l && (l=void 0);void 0 === d && (d={});this.hwa || (d.temporaryFailure || (this.hwa=!0),f=c.__assign({type:"error",error:null !== l && void 0 !== l?l:"NFErr_MC_StreamingFailure",errormsg:f,temporaryFailure:!1},d),this.V.error("notifyStreamingError:",f),this.gb.emit("error",f));};k.prototype.Rq=function(){return this.hwa;};return k;})();b.OLa=r;},94475:function(r,b,a){var k,f,l,d;function c(g){return function(){for(var n=Array(this.length),h=0;h < this.length;++h){n[h]=g.call(this,h);}return n;};}Object.defineProperties(b,{__esModule:{value:!0}});b.Trb=b.tv=b.nea=b.mMa=void 0;r=a(70655);k=a(44724);r=r.__importDefault(a(29736));f=a(70950);l=new r.default.Console("FRAGMENTS","media|asejs");d=(function(){function g(n,h){this.Gc=n;this.ae=h;}Object.defineProperties(g.prototype,{index:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{La:{get:function(){return new f.N(this.ob,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$a:{get:function(){return new f.N(this.rb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{te:{get:function(){return new f.N(this.PA,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ob:{get:function(){return this.Gc.X0 + this.Gc.fA[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{rb:{get:function(){return this.ob + this.Gc.kq[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{PA:{get:function(){return this.Gc.kq[this.ae];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ca:{get:function(){return this.Gc.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{S:{get:function(){return this.Gc.S;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {startPts:1E3 * this.ob / this.ca.S,endPts:1E3 * this.rb / this.ca.S,duration:1E3 * this.PA / this.ca.S,index:this.index};};return g;})();b.mMa=d;a=(function(){function g(n,h,m,p){this.mediaType=n;this.length=m.hf.length;this.fb=m.S;this.kq=m.hf;this.z1=p && p.KM;this.qQa=p && p.qN;this.tJ=h;this.Xwa=this.Ywa=this.pOa=void 0;this.X0=m.ur;this.fA=new Uint32Array(this.length + 1);if(this.length){for(h=n=0;h < this.length;++h){this.fA[h]=n;n+=this.kq[h];}this.fA[h]=n;this.Bea=Math.floor((this.jf - this.ab) / this.length);}}Object.defineProperties(g.prototype,{ur:{get:function(){return this.Cab(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Cka:{get:function(){return this.Cab(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ab:{get:function(){return this.dm(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jf:{get:function(){return this.dm(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nf:{get:function(){return new f.N(this.Cka,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bqa:{get:function(){return this.pOa || this.Amb();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ca:{get:function(){return this.tJ;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{S:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});g.prototype.Cab=function(n){return this.X0 + this.fA[n];};g.prototype.dm=function(n){return Math.floor(1E3 * (this.X0 + this.fA[n]) / this.S);};g.prototype.zS=function(n){return this.dm(n + 1);};g.prototype.hf=function(n){return this.zS(n) - this.dm(n);};g.prototype.get=function(n){return new d(this,n);};g.prototype.Sx=function(n,h,m){if(0 === this.length || n < this.dm(0))return -1;n=Math.max(n,h || 0);for(var p=0,q=this.length - 1,u,t;q >= p;){if((u=p + (q - p >> 1),t=this.dm(u),n < t))q=u - 1;else if(n >= t + this.hf(u))p=u + 1;else {for(;h && u < this.length && this.dm(u) < h;){++u;}return u < this.length?u:m?this.length - 1:-1;}}return m?this.length - 1:-1;};g.prototype.gla=function(n,h,m){n=this.Sx(n,h,m);return 0 <= n?this.get(n):void 0;};g.prototype.mja=function(n,h){var m,p,q;m=Math.floor(h * this.S / 1E3);p=Math.min(n + Math.ceil(h / this.Bea),this.length);q=this.fA[p] - this.fA[n];if(q >= m){for(;q >= m;){--p;q-=this.kq[p];}return {blocks:Math.max(p - n + 1,0),Jta:0};}for(;q < m && p <= this.length;){h-=q || 0;q+=this.kq[p];++p;}return {blocks:Math.max(p - n - 1,0),Jta:h};};g.prototype.subarray=function(n,h){(0,k.assert)(void 0 === n || 0 <= n && n < this.length);(0,k.assert)(void 0 === h || h > n && h <= this.length);return new g(this.mediaType,this.ca,{S:this.S,ur:this.X0 + this.fA[n],hf:this.kq.subarray(n,h)},this.z1 && ({KM:this.z1.subarray(n,h + 1),qN:this.qQa}));};g.prototype.forEach=function(n){for(var h=0;h < this.length;++h){n(this.get(h),h,this);}};g.prototype.map=function(n){for(var h=[],m=0;m < this.length;++m){h.push(n(this.get(m),m,this));}return h;};g.prototype.reduce=function(n,h){for(var m=0;m < this.length;++m){h=n(h,this.get(m),m,this);}return h;};g.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.Bea};};g.prototype.dump=function(){var h;l.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Bea + "ms");for(var n=0;n < this.length;++n){h=this.get(n);l.trace(("TrackFragments: ").concat(n,": [").concat(h.La.G,"-").concat(h.$a.G,"]"));}};g.prototype.Amb=function(){for(var n=0,h=0;h < this.length;h++){n=Math.max(this.kq[h],n);}return this.pOa=n;};return g;})();b.nea=a;b.tv=c;c(a.prototype.dm);c(a.prototype.zS);c(a.prototype.hf);b.Trb=function(g){return ("[").concat(Array(g.length).map(function(n,h){return g[h].toString();}).join(","),"]");};},63050:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.TP=void 0;r=(function(){function a(c){this.gPa=c;}Object.defineProperties(a.prototype,{GL:{get:function(){return this.Hnb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.gPa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aZb:{get:function(){var c;c=this;return this.gPa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Hnb=!0;};a.prototype.AG=function(c,k){var f;f=this;this.result.then(function(l){f.GL?k && k(l):c(l);});return this;};return a;})();b.TP=r;},47130:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},52745:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},26732:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.kha=b.Web=b.AbortController=void 0;c=a(70655);r=(function(f){function l(){var d;d=null !== f && f.apply(this,arguments) || this;d.jNa=!1;return d;}c.__extends(l,f);Object.defineProperties(l.prototype,{aborted:{get:function(){return this.jNa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{reason:{get:function(){return this.epb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{signal:{get:function(){return this;},enumerable:!1,configurable:!0}});l.prototype.abort=function(d){this.epb=new k(d);this.jNa=!0;this.emit("abort",{type:"abort"});};return l;})(a(28075).EventEmitter);b.AbortController=r;k=(function(f){function l(d){d=f.call(this,d) || this;d.name="AbortError";return d;}c.__extends(l,f);return l;})(Error);b.Web=k;b.kha=function(f){return new Promise(function(l){f.aborted && l();f.addListener("abort",function(){return l();});});};},4145:function(r,b,a){var f;function c(l){return l.filter(function(d,g){return l.indexOf(d) === g;});}function k(l,d,g){return g?l.filter(function(n){return !d.some(function(h){return g(n,h);});}):l.filter(function(n){return -1 === d.indexOf(n);});}Object.defineProperties(b,{__esModule:{value:!0}});b.eTa=b.VQa=b.z7=b.WJb=b.Owb=b.flatten=b.s4a=b.gwb=b.K1=b.kx=b.XQa=b.sR=b.iha=b.ps=b.jha=b.yc=void 0;f=a(70655);b.yc=function(l,d){for(var g=0;g < l.length;g++){if(d(l[g],g,l))return l[g];}};b.jha=function(l,d){for(var g=l.length - 1;0 <= g;--g){if(d(l[g],g,l))return l[g];}};b.ps=function(l,d){var g;g=-1;return l.some(function(n,h,m){g=h;return d(n,h,m);})?g:-1;};b.iha=function(l,d){for(var g=l.length - 1;0 <= g;g--){if(d(l[g],g,l))return g;}return -1;};b.sR=c;b.XQa=function(l,d){d=l.indexOf(d);if(-1 === d)return !1;l.splice(d,1);return !0;};b.kx=k;b.K1=function(l,d){return c(l.concat(d));};b.gwb=function(l){return function(d,g){return l(d) - l(g);};};b.s4a=function(l){return function(d,g){return l(d) < l(g)?d:g;};};b.flatten=function(l){var d;return (d=[]).concat.apply(d,f.__spreadArray([],f.__read(l),!1));};b.Owb=function(l,d){void 0 === d && (d=function(g){return g;});return l.reduce(function(g,n){n=d(n);return (void 0 === g[n]?g[n]=1:++g[n],g);},{});};b.WJb=function(l,d){return l.reduce(function(g,n){var h;h=d(n);return (void 0 === g[h]?g[h]=[n]:g[h].push(n),g);},{});};b.z7=function(l){return null !== l && void 0 !== l;};b.VQa=function(l){var d,n;d=[];if(Array.isArray(l))for(var g=0;g < l.length;g++){n=l[g];Array.isArray(n)?d=d.concat(n.filter(function(h){return void 0 !== h;})):void 0 !== n && d.push(n);}return d;};b.eTa=function(l,d,g){var n;n=k(l,d,g);d=k(d,l,g);l=k(l,n);return {Kta:n,frb:d,x7a:l,result:l.concat(d)};};},44724:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(70655);k=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);return l;})(Error);b.assert=function(f,l){var d;if(!f){d=new k(l || "Assertion failed");a(69565).Yp.V.error("Assertion failed",{value:f,message:l,stack:d.stack});throw d;}};},73856:function(r){function b(a,c,k){this.LJ=a;this.nj=Math.floor((a + c - 1) / c);this.zd=c;this.dpb=k;this.reset();}b.prototype.shift=function(){this.Ad.shift();this.Bh.shift();};b.prototype.update=function(a,c){this.Ad[a]+=c;};b.prototype.push=function(a){this.Ad.push(0);this.Bh.push(a?a:0);this.jb+=this.zd;};b.prototype.add=function(a,c,k,f){var l,d;if(null === this.jb){l=Math.max(Math.floor((k - c + this.zd - 1) / this.zd),1);for(this.jb=c;this.Ad.length < l;){this.push(f);}}for(;this.jb < k;){if((this.push(f),this.dpb))for(;1 < this.Ad.length && k + f - (this.jb - this.zd * this.Ad.length + this.Bh[0]) > this.LJ;){this.shift();}else this.Ad.length > this.nj && this.shift();}if(c > this.jb - this.zd)this.update(this.Ad.length - 1,a);else if(c == k)(f=this.Ad.length - Math.max(Math.ceil((this.jb - k) / this.zd),1),0 <= f && this.update(f,a));else for(f=1;f <= this.Ad.length;++f){l=this.jb - f * this.zd;d=l + this.zd;if(!(l > k)){if(d < c)break;this.update(this.Ad.length - f,Math.round(a * (Math.min(d,k) - Math.max(l,c)) / (k - c)));}}for(;this.Ad.length > this.nj;){this.shift();}};b.prototype.reset=function(){this.Ad=[];this.Bh=[];this.jb=null;};b.prototype.setInterval=function(a){this.nj=Math.floor((a + this.zd - 1) / this.zd);};r.exports=b;},34004:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$6a=void 0;c=a(47571);b.$6a=function(k){switch(k){case c.Cb.Qe:k=c.Wc.Qe;break;case c.Cb.sl:k=c.Wc.sl;break;case c.Cb.Dk:case c.Cb.Rr:case c.Cb.D_:k=c.Wc.Rr;break;default:k=c.Wc.rm;}return k;};},51472:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.PO=void 0;b.PO=(function(){function a(){}a.G5=function(c,k){var d;function f(g){return l(d++)(g,f);}function l(g){return g >= k.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(g));}:k[g];}d=0;return f(c);};return a;})();},79906:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.J_=void 0;r=a(28075);c=a(40885);k=a(70950);a=(function(){function f(l){void 0 === l && (l={ii:!1,currentTime:k.N.Ia,speed:1});this.Sa={ii:function(){return "function" === typeof l.ii?l.ii():l.ii;},currentTime:function(){return "function" === typeof l.currentTime?l.currentTime():l.currentTime;},speed:function(){return "function" === typeof l.speed?l.speed():l.speed;}};}Object.defineProperties(f.prototype,{ii:{get:function(){return this.Sa.ii();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.Sa.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){return this.Sa.speed();},enumerable:!1,configurable:!0}});return f;})();b.J_=a;(0,c.xk)(r.EventEmitter,a);},91932:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QUa=void 0;b.QUa=function(a){return JSON.parse(JSON.stringify(a));};},22084:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.CAa=void 0;c=a(70655);a(44724);r=(function(){function k(f,l){this.Yc=f;this.iJ=l;this.$w();}Object.defineProperties(k.prototype,{length:{get:function(){return this.Wz;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === this.Wz;},enumerable:!1,configurable:!0}});k.prototype.IFb=function(){return this.uJ && this.uJ.get(0);};k.prototype.Ysb=function(){return this.gJ && this.gJ.get(this.gJ.length - 1);};k.prototype.get=function(f){0 > f && (f+=this.length);for(var l=0;l < this.Yc.length;++l){if(this.Bh[l + 1] > f)return this.Yc[l].get(f - this.Bh[l]);}};k.prototype.push=function(f){this.Yc[this.iJ(f)].push(f);this.$w();return this.Wz;};k.prototype.shift=function(){var f;if(this.uJ){f=this.uJ.shift();this.$w();return f;}};k.prototype.pop=function(){var f;if(this.gJ){f=this.gJ.pop();this.$w();return f;}};k.prototype.unshift=function(f){this.Yc[this.iJ(f)].unshift(f);this.$w();return this.Wz;};k.prototype.Ts=function(f){var l;l=this.iJ(f);this.Yc[l].Ts(f);this.$w();};k.prototype.remove=function(f){var l;l=this.Yc.some(function(d){return d.remove(f);});l && this.$w();return l;};k.prototype.splice=function(f,l){var q,u,t,w;for(var d,g=[],n=2;n < arguments.length;n++){g[n - 2]=arguments[n];}n=[];for(var h,m=f + Math.max(0,l),p=0;p < this.Yc.length;++p){q=this.Yc[p];u=this.Bh[p];t=this.Bh[p + 1];if(f < t){w=f - u;u=Math.min(m - u,q.length);void 0 === h && 0 < w && u < q.length?Array.prototype.push.apply(n,q.splice.apply(q,c.__spreadArray([w,u - w],c.__read(g),!1))):(Array.prototype.push.apply(n,q.splice(w,u - w)),void 0 === h && (h=0 < p && 0 === w?p - 1:p));f=t;if(f >= m)break;}}if(g.length && void 0 !== h){for(m=this.iJ(g[0]);0 < h && m < h && this.Yc[h].empty;){--h;}for(;g.length && m === h;){this.Yc[h].push(g.shift());if(!g.length)break;m=this.iJ(g[0]);}for(;g.length && ++h < this.Yc.length && this.Yc[h].empty;){for(;g.length && m === h;){this.Yc[h].push(g.shift());if(!g.length)break;m=this.iJ(g[0]);}}g.length && (d=this.Yc[h]).splice.apply(d,c.__spreadArray([0,0],c.__read(g),!1));}this.$w();return n;};k.prototype.find=function(f){var l,d;l=this;return this.Yc.some(function(g,n){d=g.find(l.iA(f,n));return void 0 !== d;})?d:void 0;};k.prototype.findIndex=function(f){var d;for(var l=0;l < this.Yc.length;++l){d=this.Yc[l].findIndex(this.iA(f,l));if(-1 !== d)return d + this.Bh[l];}return -1;};k.prototype.indexOf=function(f){var d;for(var l=0;l < this.Yc.length;++l){d=this.Yc[l].indexOf(f);if(-1 !== d)return d + this.Bh[l];}return -1;};k.prototype.map=function(f){var l,d;l=this;d=this.Yc.map(function(g,n){return g.map(l.iA(f,n));});return Array.prototype.concat.apply([],d);};k.prototype.reduce=function(f,l){var d;d=this;return this.Yc.reduce(function(g,n,h){return n.reduce(d.Wpb(f,h),g);},l);};k.prototype.forEach=function(f){var l;l=this;this.Yc.forEach(function(d,g){d.forEach(l.iA(f,g));});};k.prototype.d4=function(f){for(var l=this.Yc.length - 1;0 <= l;--l){this.Yc[l].d4(this.iA(f,l));}};k.prototype.some=function(f){var l;l=this;return this.Yc.some(function(d,g){return d.some(l.iA(f,g));});};k.prototype.Pva=function(f){for(var l=this.Yc.length - 1;0 <= l;--l){if(this.Yc[l].Pva(this.iA(f,l)))return !0;}return !1;};k.prototype.every=function(f){var l;l=this;return this.Yc.every(function(d,g){return d.every(l.iA(f,g));});};k.prototype.ZEb=function(f,l){var m,p;function d(q){return q.reduce(function(u,t,w,v){return void 0 === t?u:void 0 === u?w:0 > f(t,v[u])?w:u;},void 0);}for(var g=this,n=this.Yc.map(function(){return 0;}),h=this.Yc.filter(function(q){return q.empty;}).length;h < this.Yc.length;){m=n.map(function(q,u){return q < g.Yc[u].length?g.Yc[u].get(q):void 0;});p=d(m);l(m[p],this.Bh[p] + n[p],this);++n[p];n[p] === this.Yc[p].length && ++h;}};k.prototype.move=function(f){return this.remove(f)?(this.Ts(f),!0):!1;};k.prototype.q0b=function(){var f;if(this.Yc[1].length){f=this.Yc[1].shift();this.Yc[0].push(f);this.$w();}};k.prototype.bXa=function(f){for(var l=-1,d=0;d < this.Yc.length;++d){if((l=f(this.Yc[d]),-1 !== l)){l+=this.Bh[d];break;}}return l;};k.prototype.toJSON=function(){return this.map(function(f){return f.toJSON();});};k.prototype.$w=function(){var l;this.Wz=0;this.Bh=[0];this.gJ=this.uJ=void 0;for(var f=0;f < this.Yc.length;++f){l=this.Yc[f];this.Wz+=l.length;this.Bh.push(this.Bh[this.Bh.length - 1] + l.length);!this.uJ && l.length && (this.uJ=l);l.length && (this.gJ=l);}};k.prototype.iA=function(f,l){var d,g;d=this;g=this.Bh[l];return function(n,h){return f(n,g + h,d);};};k.prototype.Wpb=function(f,l){var d,g;d=this;g=this.Bh[l];return function(n,h,m){return f(n,h,g + m,d);};};return k;})();b.CAa=r;},81989:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qTa=void 0;c=a(70655);k=a(95994);f=a(44724);b.qTa=function(){for(var l=[],d=0;d < arguments.length;d++){l[d]=arguments[d];}k.K && (0,f.assert)(l.length);return function(g,n){var h,q,u;try{for(var m=c.__values(l),p=m.next();!p.done;p=m.next()){q=p.value;u=q(g,n);if(0 !== u)return u;}}catch(w){var t;t={error:w};}finally{try{p && !p.done && (h=m.return) && h.call(m);}finally{if(t)throw t.error;}}return 0;};};},74227:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vBa=void 0;c=a(44724);k=a(55575);f=a(93055);r=(function(){function l(d){this.UBb=d;this.Cxa=!1;this.S$=new f.oKa();}l.prototype.Z5b=function(d,g){var h,m;function n(){var u,t,w,v,y,x;u=p.pop();t=u.node;w=u.F1;u=w.wVb;v=w.ZE;w=w.state;if(!q.S$.has(t)){u=g(t,v,u,w);y=u.R$;x=u.state;u.C1 || q.S$.add(t);m(t).forEach(function(z){var A;A=z.I5b;h.S$.has(A) || (z=v + z.weight,y && p.push({node:A,F1:{ZE:z,wVb:t,state:x}}));});}}h=this;m=this.UBb;(0,c.assert)(!this.Cxa);this.Cxa=!0;this.S$.clear();for(var p=new k.YZ([{node:d,F1:{ZE:0,state:{root:!1,complete:!0,e9a:0,Br:0}}}],function(u,t){return u.F1.ZE - t.F1.ZE;}),q=this;!p.empty;){n();}this.Cxa=!1;};return l;})();b.vBa=r;},29374:function(r){function b(a){this.kQ=a;this.Hb=0;this.GJ=null;}b.prototype.add=function(a,c,k){null !== this.GJ && c > this.GJ && (this.Hb+=c - this.GJ,this.GJ=null);this.kQ.add(a,c - this.Hb,k - this.Hb,this.Hb);};b.prototype.stop=function(a){null === this.GJ && (this.GJ=a);};b.prototype.get=function(){return this.kQ.get();};b.prototype.reset=function(){this.kQ.reset();};b.prototype.toString=function(){return this.kQ.toString();};r.exports=b;},24068:function(r,b,a){function c(k,f){this.LJ=k;this.nj=Math.floor((k + f - 1) / f);this.zd=f;this.reset();}a(44724);c.prototype.shift=function(){this.Ad.shift();this.Fu.shift();};c.prototype.mt=function(k){return this.ZRa(this.Ad[k],k);};c.prototype.update=function(k,f){this.Ad[k]=(this.Ad[k] || 0) + f;};c.prototype.push=function(){this.Ad.push(0);this.Fu.push(0);this.jb+=this.zd;};c.prototype.add=function(k,f,l){var d,g,n;if(null === this.jb){d=Math.max(Math.floor((l - f + this.zd - 1) / this.zd),1);for(this.jb=f;this.Ad.length < d;){this.push();}}for(;this.jb <= l;){this.push();this.Ad.length > this.nj && this.shift();}if(null === this.un || f < this.un)this.un=f;if(f > this.jb - this.zd)this.update(this.Ad.length - 1,k);else if(f == l)(d=this.Ad.length - Math.max(Math.ceil((this.jb - l) / this.zd),1),0 <= d && this.update(d,k));else for(d=1;d <= this.Ad.length;++d){g=this.jb - d * this.zd;n=g + this.zd;if(!(g > l)){if(n < f)break;this.update(this.Ad.length - d,Math.round(k * (Math.min(n,l) - Math.max(g,f)) / (l - f)));}}for(;this.Ad.length > this.nj;){this.shift();}};c.prototype.start=function(k){null === this.un && (this.un=k);null === this.jb && (this.jb=k);};c.prototype.stop=function(k){var f,l;if(null !== this.jb)if(k - this.jb > 10 * this.LJ)this.reset();else {for(;this.jb <= k;){this.push();this.Ad.length > this.nj && this.shift();}f=this.Ad.length - Math.ceil((this.jb - this.un) / this.zd);l=this.Ad.length - Math.ceil((this.jb - k) / this.zd);if(0 <= l)if((0 > f && (this.un=this.jb - this.zd * this.Ad.length,f=0),f === l))this.Fu[f]+=k - this.un;else if(l > f)for((this.Fu[f]+=(this.jb - this.un) % this.zd,this.Fu[l]+=this.zd - (this.jb - k) % this.zd,k=f + 1);k < l;++k){this.Fu[k]=this.zd;}this.un=null;}};c.prototype.ZRa=function(k,f){f=this.Nla(f);return 0 === f?null:8 * k / f;};c.prototype.Nla=function(k){var f;f=this.Fu[k];null !== this.un && (k=this.jb - (this.Ad.length - k - 1) * this.zd,k > this.un && (f=k - this.un <= this.zd?f + (k - this.un):this.zd));return f;};c.prototype.get=function(k,f){var l,d;l=this.Ad.map(this.ZRa,this);if("last" === k)for(k=0;k < l.length;++k){null === l[k] && (l[k]=0 < k?l[k - 1]:0);}else if("average" === k){f=1 - Math.pow(.5,1 / ((f || 2E3) / this.zd));for(k=0;k < l.length;++k){null === l[k]?l[k]=Math.floor(d || 0):d=void 0 !== d?f * l[k] + (1 - f) * d:l[k];}}return l;};c.prototype.reset=function(){this.Tac || (this.Ad=[],this.Fu=[],this.un=this.jb=null);};c.prototype.setInterval=function(k){this.nj=Math.floor((k + this.zd - 1) / this.zd);};r.exports=c;},54907:function(r,b,a){var k;function c(f,l,d){var g,h,m;if(f === l || !d.em && f == l)return !0;if(typeof f !== typeof l)return !1;if(f && "object" === typeof f){for(var n in f){if(!c(f[n],l[n],d))return !1;}if(!d.hvb){h=Object.keys(f);m=Object.keys(l).filter(function(t){return 0 > h.indexOf(t);});try{for(var p=k.__values(m),q=p.next();!q.done;q=p.next()){if((n=q.value,!c(f[n],l[n],d)))return !1;}}catch(t){var u;u={error:t};}finally{try{q && !q.done && (g=p.return) && g.call(p);}finally{if(u)throw u.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.c3=void 0;k=a(70655);b.c3=function(f,l,d){void 0 === d && (d={});d=k.__assign({em:!1,hvb:!1},d);return c(f,l,d);};},7670:function(r,b){function a(c){var k,f;k=Math.abs(c);f=1 / (1 + k / 2);k=f * Math.exp(-k * k - 1.26551223 + f * (1.00002368 + f * (.37409196 + f * (.09678418 + f * (-.18628806 + f * (.27886807 + f * (-1.13520398 + f * (1.48851587 + f * (-.82215223 + .17087277 * f)))))))));return 0 <= c?k:2 - k;}Object.defineProperties(b,{__esModule:{value:!0}});b.pDb=b.i0a=b.PK=void 0;b.PK=a;b.i0a=function(c){var k,f,d;if(2 <= c)return -100;if(0 >= c)return 100;k=1 > c?c:2 - c;f=Math.sqrt(-2 * Math.log(k / 2));f=-.70711 * ((2.30753 + .27061 * f) / (1 + f * (.99229 + .04481 * f)) - f);for(var l=0;2 > l;l++){d=a(f) - k;f+=d / (1.1283791670955126 * Math.exp(-(f * f)) - f * d);}return 1 > c?f:-f;};b.pDb=function(c){return 1 - a(c);};},3346:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.vCa=void 0;c=a(70655);r=(function(){function f(l,d){void 0 === d && (d={});this.Jn=l;this.options=d;this.jF=[];this.UF=new k(l,this.Hqb.bind(this));}f.prototype.Hqb=function(l){for(var d,g,n,h,m,p,q=[],u=1;u < arguments.length;u++){q[u - 1]=arguments[u];}q={Dq:l,rq:q};(null !== (n=null === (g=(d=this.options).D0b) || void 0 === g?void 0:g.call(d,q,this.jF)) && void 0 !== n?n:1) && this.jF.push(q);return null !== (p=null === (m=(h=this.options).Yfc) || void 0 === m?void 0:m.call(h,q)) && void 0 !== p?p:!0;};f.prototype.T8=function(l){this.jF=this.jF.filter(function(d,g){return !l(d,g);});};f.prototype.Rta=function(){var l;l=this;this.UF.$wa();this.jF.forEach(function(d){var g;(g=l.Jn).emit.apply(g,c.__spreadArray([d.Dq],c.__read(d.rq),!1));});this.UF.U0a();};Object.defineProperties(f.prototype,{length:{get:function(){return this.jF.length;},enumerable:!1,configurable:!0}});f.prototype.clear=function(){this.jF=[];};f.prototype.Pa=function(){this.clear();this.UF.$wa();this.options=void 0;};return f;})();b.vCa=r;k=(function(){function f(l,d){this.Jn=l;this.us=d;this.Y5a=this.Jn.emit;this.Qyb();this.U0a();}f.prototype.Qyb=function(){var l;l=this;this.UF=function(d){for(var g,n,h=[],m=1;m < arguments.length;m++){h[m - 1]=arguments[m];}return (null === (n=l.us) || void 0 === n?0:n.call.apply(n,c.__spreadArray([l,d],c.__read(h),!1)))?(g=l.Y5a).call.apply(g,c.__spreadArray([l.Jn,d],c.__read(h),!1)):!1;};};f.prototype.U0a=function(){this.UF && (this.Jn.emit=this.UF);};f.prototype.$wa=function(){this.Jn.emit=this.Y5a;};f.prototype.Pa=function(){this.$wa();this.us=this.UF=void 0;};return f;})();},68710:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(7670);r=(function(){function k(f,l){this.Da=f;this.Zd=l;}k.prototype.mSa=function(f){return .5 * (0,c.PK)(-(f - this.Da) / Math.sqrt(2 * this.Zd));};k.prototype.Iv=function(f){return this.Da - Math.sqrt(2 * this.Zd) * (0,c.i0a)(2 * f);};return k;})();b["default"]=r;},87357:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bB=void 0;b.bB=function(a,c){var k;a=Math.abs(a);for(c=Math.abs(c);c;){k=c;c=a % c;a=k;}return a;};},38761:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.a5=void 0;b.a5=function(a){return ("( ").concat(a.I,", ").concat(a.offset.mb()," )");};},18934:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Fx=void 0;c=a(70655);k=a(70950);b.Fx=function(f,l,d,g){var n,h,m,u,t,w;void 0 === g && (g={});m=k.N.max(d,k.N.Ia);try{for(var p=c.__values(Object.keys(f.L)),q=p.next();!q.done;q=p.next()){u=q.value;t=f.L[u];if(t.J === l){w=k.N.Ma(t.ta);if(m.gi(w) && (!isFinite(null !== (h=t.sa) && void 0 !== h?h:NaN) || m.lessThan(k.N.Ma(t.sa))))return {I:u,offset:d.wa(w)};}}}catch(y){var v;v={error:y};}finally{try{q && !q.done && (n=p.return) && n.call(p);}finally{if(v)throw v.error;}}if(g.O9a && (t=Object.keys(f.L).map(function(y){return {key:y,u:f.L[y]};}).filter(function(y){return y.u.J === l;}).map(function(y){var x,z;x=k.N.abs(d.wa(k.N.Ma(y.u.ta)));if(y.u.sa && isFinite(y.u.sa)){z=k.N.abs(d.wa(k.N.Ma(y.u.sa)));x=k.N.min(x,z);}return c.__assign(c.__assign({},y),{Hn:x});}),t.sort(function(y,x){return y.Hn.G - x.Hn.G;}),w=c.__read(t,1)[0]))return (t=w.u,g=w.key,w=k.N.Ma(t.ta),{I:g,offset:d.wa(w)});};},74005:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Skb=b.PCa=void 0;r=a(70655);r.__exportStar(a(50623),b);r.__exportStar(a(312),b);r.__exportStar(a(70950),b);r.__exportStar(a(28330),b);r.__exportStar(a(17039),b);r.__exportStar(a(84144),b);r.__exportStar(a(55775),b);r.__exportStar(a(91932),b);r.__exportStar(a(54907),b);r.__exportStar(a(80657),b);r.__exportStar(a(37481),b);r.__exportStar(a(35269),b);c=r.__importDefault(a(68710));b.PCa=c.default;a=r.__importDefault(a(41176));b.Skb=a.default;},9133:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SZ=void 0;c=a(7670);r=(function(){function k(f,l){this.Jqa=f;this.Zd=l;0 < l?(this.i2a=l=Math.pow(f,3) / l,f=2 * l / f,500 >= f && (this.Vka=Math.exp(f))):this.Vka=0;}k.prototype.mSa=function(f){var l,d,g;l=this.Jqa;d=this.Vka;if(d && 0 < f){g=Math.sqrt(this.i2a / (2 * f));l=f / l;f=(0,c.PK)(g * (l - 1));g=(0,c.PK)(g * (l + 1));return Math.max((2 - f + d * g) / 2,0);}return f < l?0:f > l?1:.5;};k.prototype.Iv=function(f,l,d){for(var g=0,n=this.Jqa + 5 * Math.sqrt(this.Zd),h=1,m=0;Math.abs(h) > l && d--;){m=(g + n) / 2;h=this.mSa(m);h=f - h;0 > h?n=m:g=m;}return m;};k.prototype.Oub=function(f){var l,d,g,n;l=this.Jqa;d=this.Vka;if(d && 0 < f){g=Math.sqrt(this.i2a / (2 * f));n=f / l;f=2 - (0,c.PK)(g * (n - 1));d*=(0,c.PK)(g * (n + 1));return [Math.max((f + d) / 2,0),Math.max(l * (f - d) / 2,0)];}return f < l?[0,0]:f > l?[1,l]:[.5,l / 2];};return k;})();b.SZ=r;},29083:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.n2a=void 0;b.n2a=function(a){var c,k;c=a.next();do {if(!c.done)k=c.value;c=a.next();}while(!c.done);return k;};},35269:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Qpa=void 0;b.Qpa=function(a){var c,k,f,l,d,g;g=null === (c=a.u) || void 0 === c?void 0:c.id;return {ab:null === (k=a.Bb) || void 0 === k?void 0:k.G,duration:(null === (f=a.Lb) || void 0 === f?NaN:f.G) - (null === (l=a.Bb) || void 0 === l?NaN:l.G),offset:a.offset,Ba:a.Ba,bitrate:a.bitrate,profile:a.profile,Me:!!a.Me,I:g,Sb:a.Sb,Lc:a.Lc,location:a.location,fk:a.fk,ws:null === (d=a.La) || void 0 === d?void 0:d.G,nt:{yb:{u:{id:g || "unknown"}}}};};},82922:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.TRa=void 0;c=a(94522);k=a(59151);b.TRa=function(){return function(f){var g,n,h,m;function l(p){m[p]=function(q){return n({rules:[{Ej:p,config:q}]},!0);};}function d(p){g[p]=function(q){return n({rules:[{Ej:p,config:q}]});};}g={};n=(0,c.map)(f.y3a);for(h in f.oN){d(h);}g.F7=n({rules:[],Xga:!0});g.em=n({rules:[],em:!0});m={};for(h in f.oN){l(h);}m.F7=n({rules:[],Xga:!0},!0);m.em=n({rules:[],em:!0},!0);g.return=m;return {Nja:g,sua:f,gta:function(p,q,u,t){return (0,k.eUa)(p,q,u,f.oN,f.y3a,t);}};};};},94522:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.A9a=b.jZa=b.map=void 0;c=a(70655);a(62772);b.map=function(k){return function(f,l){void 0 === l && (l=!1);return function(d,g,n){var h,m,p,q,u,t,w,v;u=Reflect.yZa(k,d,g) || ({});w="number" === typeof n;v=l;(t=w?null !== (m=(null !== (h=u.nb) && void 0 !== h?h:{})[n]) && void 0 !== m?m:{}:v?u.return:u.tqa) || (t={rules:[]});h=c.__assign(c.__assign(c.__assign({},t),f),{rules:c.__spreadArray(c.__spreadArray([],c.__read(null !== (p=t.rules) && void 0 !== p?p:[]),!1),c.__read(null !== (q=f.rules) && void 0 !== q?q:[]),!1)});w?(u.nb || (u.nb={}),u.nb[n]=h):v?u.return=h:u.tqa=h;Reflect.g3(k,u,d,g);};};};b.jZa=function(k){return function(f,l){var d,g,n,h;f=null !== (h=null !== (g=null === (d=f.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== g?g:null === (n=null === f || void 0 === f?void 0:f.constructor) || void 0 === n?void 0:n.prototype) && void 0 !== h?h:f;for(var m;f && void 0 === m;){m=Reflect.yZa(k,f,l);f=f.__proto__;}return m;};};b.A9a=function(){return function(){return function(k){return k;};};};},59151:function(r,b,a){var d,g,n,h,m;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function k(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function f(p,q){var w;for(var u=Object.getPrototypeOf(p),t=[];u !== Object.prototype;){t=t.concat(Object.getOwnPropertyNames(u));u=Object.getPrototypeOf(u);}p=Object.keys(p).concat(t);q.__proxyCtor || (q.__proxyCtor=void 0);w=Object.getPrototypeOf(q);p.forEach(function(v){Object.getOwnPropertyDescriptor(q,v) || Object.getOwnPropertyDescriptor(w,v) || q[v] || Object.defineProperty(q,v,{get:function(){},configurable:!0,enumerable:!0});});}function l(p,q,u,t){var y;for(var w=[],v=4;v < arguments.length;v++){w[v - 4]=arguments[v];}y=t();if((null === y || void 0 === y?0:y.tqa) || (null === y || void 0 === y?0:y.nb))w=w.map(function(x,z){var A;z=(0,m.i4a)(y.tqa,null === (A=y.nb) || void 0 === A?void 0:A[z]);return (0,h.i9)(q,x,u,z);});w=p.call.apply(p,d.__spreadArray([void 0],d.__read(w),!1));return (null === y || void 0 === y?0:y.return)?(0,h.i9)(q,w,u,y.return,n.eu.bxa):w;}Object.defineProperties(b,{__esModule:{value:!0}});b.LFb=b.FAb=b.eUa=void 0;d=a(70655);g=a(94522);n=a(41937);h=a(28005);m=a(66706);b.eUa=function(p,q,u,t,w,v){var y,x;void 0 === v && (v=[]);y={};x=(0,g.jZa)(w);f(q,p);v.forEach(function(z){return f(z,p);});return new Proxy(p,{get:function(z,A){var B,C,D,F;if("__proxyCtor" === A)return null !== (B=p[A]) && void 0 !== B?B:p.constructor;if((A in q)){F=q[A];return "function" === typeof F?F.bind(q):F;}B=y[A];if(!B && !k(y,A)){B=null !== (D=null === (C=null === z || void 0 === z?void 0:z.constructor) || void 0 === C?void 0:C.prototype) && void 0 !== D?D:z;C=null !== (F=c(B,A)) && void 0 !== F?F:c(B.__proxyCtor,A);F=k(B,A);if(null === F || void 0 === F?0:F.get)return (F=F.get,C=x.bind(null,C,A),z=l.bind(z,F.bind(z),u,t,C),Object.defineProperty(y,A,{get:z,enumerable:!0,configurable:!0}),z());F=z[A];return "function" === typeof F?(C=x.bind(null,z,A),z=l.bind(z,F.bind(z),u,t,C),y[A]=z):F;}return B;},set:function(z,A,B){if((A in q))return (q[A]=B,!0);z[A]=B;delete y[A];return !0;}});};b.FAb=f;b.LFb=l;},41937:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.eu=void 0;r=b.eu || (b.eu={});r[r.bxa=0]="up";r[r.mS=1]="down";},28005:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.i9=void 0;c=a(70655);k=a(44724);f=a(41937);b.i9=function(l,d,g,n,h,m){var p,q;void 0 === h && (h=f.eu.mS);p=l();if(n && p){q=n.Xga;l=n.em;n=n.rules.map(function(u){return ["function" === typeof u.Ej?u.Ej(g):g[u.Ej],u.config];});q || (0,k.assert)(d,"Param is null");m && n.push([{map:m,tx:function(){return !0;}},void 0]);m=n.filter(function(u){u=c.__read(u,2);return u[0].tx(d,p,u[1]);});l && (0,k.assert)(m.length,("No rules matched for ").concat(d));if(m.length)return m.reduce(function(u,t){t=c.__read(t,2);return t[0].map(u,h,p,t[1]);},d);}return d;};},66706:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.i4a=void 0;c=a(70655);k=a(4145);b.i4a=function(f,l){var d;if(f || l){d=(null === f || void 0 === f?0:f.rules) && (null === l || void 0 === l?0:l.rules)?(0,k.K1)(f.rules,l.rules):(null === f || void 0 === f?void 0:f.rules) || (null === l || void 0 === l?void 0:l.rules);return c.__assign(c.__assign(c.__assign({},f),l),{rules:d});}};},55575:function(r,b,a){var k;function c(f,l){return f < l?-1:f > l?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.YZ=void 0;k=a(70655);r=(function(){function f(l,d){this.data=null !== l && void 0 !== l?l:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(l=(this.length >> 1) - 1;0 <= l;l--){this.Wea(l);}}Object.defineProperties(f.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});f.prototype.push=function(l){this.data.push(l);this.APa(this.length - 1);};f.prototype.pop=function(){var l,d;if(!this.empty){l=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Wea(0));return l;}};f.prototype.mt=function(){return this.data[0];};f.prototype.map=function(l){return this.data.map(l);};f.prototype.find=function(l){return k.__read(this.data.filter(l),1)[0];};f.prototype.clear=function(){this.data=[];};f.prototype.remove=function(l){var d,g,n;d=this.data;l=d.indexOf(l);if(-1 !== l){g=d.pop();if(l < d.length){d[l]=g;n=l - 1 >> 1;d=d[n];0 <= n && 0 > this.compare(g,d)?this.APa(l):this.Wea(l);}}};f.prototype.Psb=function(){for(var l=this.data,d=1;d < l.length;d++){if(0 > this.compare(l[d],l[d - 1 >> 1]))throw Error(("Audit failed at position ").concat(d," of ").concat(l));}};f.prototype.contains=function(l){return 0 <= this.data.indexOf(l);};f.prototype.yr=function(){return this.data.concat([]);};f.prototype.APa=function(l){for(var d=this.data,g=this.compare,n=d[l],h,m;0 < l;){h=l - 1 >> 1;m=d[h];if(0 <= g(n,m))break;d[l]=m;l=h;}d[l]=n;};f.prototype.Wea=function(l){for(var d=this.data,g=this.compare,n=this.length >> 1,h=d[l],m,p,q;l < n;){m=(l << 1) + 1;q=d[m];p=m + 1;p < this.length && 0 > g(d[p],q) && (m=p,q=d[p]);if(0 <= g(q,h))break;d[l]=q;l=m;}d[l]=h;};return f;})();b.YZ=r;},28330:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.RGa=void 0;c=a(4145);k=a(44724);r=(function(){function f(){this.data={};}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){var l;l=this;return Object.keys(this.data).reduce(function(d,g){return d + l.data[g].length;},0);},enumerable:!1,configurable:!0}});f.prototype.get=function(l){var d;return null !== (d=this.data[l]) && void 0 !== d?d:[];};f.prototype.has=function(l,d){return (l=this.data[l])?void 0 === d?!0:-1 !== l.indexOf(d):!1;};f.prototype.count=function(l){return (l=this.data[l])?l.length:0;};f.prototype.keys=function(){return Object.keys(this.data);};f.prototype.values=function(){var l;l=this;return (0,c.flatten)(this.keys().map(function(d){return l.data[d];}));};f.prototype.set=function(l,d){(this.data[l] || (this.data[l]=[])).push(d);return this;};f.prototype.clear=function(){this.data={};};f.prototype.delete=function(l,d){var g,n;g=this.data[l];if(void 0 === g)return !1;if(void 0 === d)return ((0,k.assert)(1 === arguments.length),delete this.data[l],!0);n=g.indexOf(d);if(-1 === n)return !1;1 === g.length?delete this.data[l]:g.splice(n,1);return !0;};f.prototype.forEach=function(l,d){var g;g=this;l=void 0 !== d?l.bind(d):l;this.keys().forEach(function(n){return g.data[n].forEach(function(h){return l(h,n,g);});});};f.prototype.reduce=function(l,d,g){var n,h;n=this;l=void 0 !== g?l.bind(g):l;h=d;this.forEach(function(m,p){h=l(h,m,p,n);});return h;};f.prototype.map=function(l,d){var g;g=this;l=void 0 !== d?l.bind(d):l;return (0,c.flatten)(this.keys().map(function(n){return g.data[n].map(function(h){return l(h,n,g);});}));};f.prototype.filter=function(l,d){var g;g=this;l=void 0 !== d?l.bind(d):l;return (0,c.flatten)(this.keys().map(function(n){return g.data[n].filter(function(h){return l(h,n,g);});}));};return f;})();b.RGa=r;},71016:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Rca=void 0;r=(function(){function a(c,k,f,l){var d;d=this;this.properties=c;this.transform=k;this.us=f;this.state=l;this.va();c.forEach(function(g){return g.addListener(d.Ara);});this.Ara();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(k){return k.removeListener(c.Ara);});};a.prototype.m1a=function(c){return void 0 !== c.equal;};a.prototype.va=function(){var c;c=this;this.Ara=function(){var k,f;k=c.state;f=c.properties.map(function(l){return l.value;});c.state=c.transform(f);(c.m1a(c.state) && c.m1a(k)?c.state.equal(k):k === c.state) || c.us(c.state);};};return a;})();b.Rca=r;},50623:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Jw=b.jlb=void 0;c=a(70655);k=a(71016);f=a(55775);r=(function(){function l(d,g){this.Oa=d;this.Xx=g?[g]:[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.Oa;},enumerable:!1,configurable:!0}});l.prototype.addListener=function(d){-1 === this.Xx.indexOf(d) && (this.Xx=this.Xx.slice(),this.Xx.push(d));};l.prototype.removeListener=function(d){d=this.Xx.indexOf(d);-1 !== d && (this.Xx=this.Xx.slice(),this.Xx.splice(d,1));};return l;})();b.jlb=r;r=(function(l){function d(g,n){return l.call(this,g,n) || this;}c.__extends(d,l);d.aeb=function(g,n,h){return new k.Rca(g,n,h,!1);};d.j6b=function(g,n,h){return c.__awaiter(this,void 0,void 0,function(){var m,p,q;q=this;return c.__generator(this,function(u){switch(u.label){case 0:(m=void 0,p=new Promise(function(t){m=q.aeb(g,n,t);}),u.label=1);case 1:return (u.Oj.push([1,,6,7]),h?[4,(0,f.Y7a)(h,p)]:[3,3]);case 2:return [2,u.Qa()];case 3:return [4,p];case 4:return [2,u.Qa()];case 5:return [3,7];case 6:return (m.clear(),[7]);case 7:return [2];}});});};Object.defineProperties(d.prototype,{value:{get:function(){return this.Oa;},set:function(g){this.set(g);},enumerable:!1,configurable:!0}});d.prototype.set=function(g){var n;n=this.Oa;n !== g && (this.Oa=g,this.Xx.forEach(function(h){return h({oldValue:n,newValue:g});}));};return d;})(r);b.Jw=r;},42229:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.P0a=void 0;c=a(70655);b.P0a=function(k,f){var n,h,m,p,q,u,t,y,x,z,A,B,C,D;for(var l,d,g=0;g < k.length;g++){n=c.__read(f,3);h=n[0];m=n[1];p=n[2];q=c.__read(k[g],3);u=q[0];n=q[1];t=q[2];if(!(h >= n)){h=[h,Math.min(n,m),u,n].filter(function(F,G,E){return E.indexOf(F) === G;}).sort(function(F,G){return F - G;});u=h.length - 1;q=Array(u);p+=t;try{for(var w=(l=void 0,c.__values([f,k[g]])),v=w.next();!v.done;v=w.next()){y=c.__read(v.value,3);x=y[0];z=y[1];A=y[2];t=z - x;for(f=0;f < u;f++){B=h[f + 1];C=Math.min(B,z) - Math.max(h[f],x);if(0 < C){D=C * A / t;p-=D;q[f]=q[f]?q[f] + D:D;}if(z <= B)break;}}}catch(F){l={error:F};}finally{try{v && !v.done && (d=w.return) && d.call(w);}finally{if(l)throw l.error;}}t=[];for(f=0;f < u;f++){A=q[f];0 < A && t.push([h[f],h[f + 1],A]);}k.splice.apply(k,c.__spreadArray([g,1],c.__read(t),!1));if(n < m)f=[n,m,p];else return;}}f && 0 < f[2] && k.splice(k.length,0,f);};},41176:function(r){function b(a){this.Xnb=a;this.fE=[];this.hA=!1;this.cga=void 0;this.vm={};}b.prototype.iQa=function(a){this.fE.length === this.Xnb && this.fE.shift();Array.isArray(a)?this.fE=this.fE.concat(a):this.fE.push(a);this.hA=!0;};b.prototype.tT=function(){return this.fE.length;};b.prototype.bK=function(a){var c,k,f;if(this.hA || void 0 === this.cga)(this.cga=this.fE.slice(0).sort(function(l,d){return l - d;}),this.vm={},this.hA=!1);if(void 0 === this.vm[a]){c=this.cga;k=Math.floor(a / 100 * (c.length - 1) + 1) - 1;f=(a / 100 * (c.length - 1) + 1) % 1;this.vm[a]=k === c.length - 1?c[k]:c[k] + f * (c[k + 1] - c[k]);}return this.vm[a];};r.exports=b;},55775:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Y7a=b.yz=b.Moa=void 0;c=a(70655);k=a(26732);b.Moa=function(f){return "function" === typeof (null === f || void 0 === f?void 0:f.then);};r=(function(){function f(){var l;l=this;this.fPa=!1;this.promise=new Promise(function(d){l.dPa=d;});}Object.defineProperties(f.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{lua:{get:function(){return this.fPa;},enumerable:!1,configurable:!0}});f.prototype.resolve=function(l){var d;this.fPa=!0;null === (d=this.dPa) || void 0 === d?void 0:d.call(this,l);this.dPa=void 0;};return f;})();b.yz=r;b.Y7a=function(f,l){return c.__awaiter(this,void 0,void 0,function(){var d;return c.__generator(this,function(g){switch(g.label){case 0:return (d=(0,k.kha)(f),[4,Promise.race([d,l])]);case 1:return [2,g.Qa()];}});});};},36024:function(r,b){var k,f,l;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.hNa);}function c(d){return (a(d)?d:Object.defineProperties(d,{hNa:{value:{},configurable:!1,enumerable:!1}})).hNa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Jda=void 0;f=null !== (k=Number.MAX_SAFE_INTEGER) && void 0 !== k?k:1E9;l=Date.now() % f;r=(function(){function d(){this.id=l=(l + 1) % f;}d.prototype.get=function(g){return a(g)?c(g)[this.id]:void 0;};d.prototype.set=function(g,n){c(g)[this.id]=n;return this;};d.prototype.has=function(g){return a(g) && void 0 !== c(g)[this.id];};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};return d;})();b.Jda=r;},93055:function(r,b){var k,f,l;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.iNa);}function c(d){return (a(d)?d:Object.defineProperties(d,{iNa:{value:{},configurable:!1,enumerable:!1}})).iNa;}Object.defineProperties(b,{__esModule:{value:!0}});b.oKa=void 0;f=null !== (k=Number.MAX_SAFE_INTEGER) && void 0 !== k?k:1E9;l=Date.now() % f;r=(function(){function d(){this.A9=0;this.id=l=(l + 1) % f;}d.prototype.add=function(g){c(g)[this.id]=this.A9;return this;};d.prototype.has=function(g){return a(g) && c(g)[this.id] === this.A9;};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.A9=(this.A9 + 1) % f;return this;};return d;})();b.oKa=r;},15163:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.llb=void 0;c=a(70655).__importDefault(a(29736));k=a(69565);f=["","",""];r=(function(){function l(d){this.request=d;this.complete=this.append=this.a4=this.spa=this.open=0;}Object.defineProperties(l.prototype,{console:{get:function(){return k.Yp.kv(this.request.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Xta:{get:function(){var d;return null === (d=this.request.te) || void 0 === d?void 0:d.G;},enumerable:!1,configurable:!0}});l.prototype.$Sb=function(){this.open=c.default.time.Ga();};l.prototype.USb=function(){this.spa=c.default.time.Ga();this.ix();};l.prototype.QSb=function(){this.a4=c.default.time.Ga();this.ix();};l.prototype.AG=function(){this.complete=c.default.time.Ga();this.ix();};l.prototype.ix=function(){var d;d=("RequestLedger ID: ").concat(this.request.fk());d+=(" load-open: ").concat(this.spa - this.open);0 < this.a4 && (" firstbyte-load: ").concat(this.a4 - this.spa);0 < this.append && (" append-firstbyte: ").concat(this.append - this.a4);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),d=this.request.mediaType,this.Xta && this.complete - this.open > this.Xta?((" duration: ").concat(this.Xta),f[d]+="X"):f[d]+=".",10 < f[d].length && (f[d]=f[d].slice(1)));};return l;})();b.llb=r;},40001:function(r,b,a){var k,f,l,d,g;function c(n,h){return n.time - h.time || n.priority - h.priority || n.id - h.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.lpb=b.x2=b.H9=void 0;r=a(70655);k=a(95994);f=r.__importDefault(a(29736));l=a(44724);d=a(55575);g=(function(){function n(){var h;h=this;this.po=new d.YZ([],c);this.Ewa=0;this.console=new f.default.Console("SETTIMEOUT");this.BDb=function(){var m,p;m=f.default.time.Ga();h.dX=void 0;k.K && h.console.trace(("[").concat(m,"] Wake"));try{for(;!h.po.empty && h.po.mt().time <= m;){p=h.po.pop();k.K && h.console.trace(("[").concat(f.default.time.Ga(),"] Executing p").concat(p.priority," timer ").concat(p.id," scheduled for ").concat(p.time));p.us();}}finally{h.Gua();}};}Object.defineProperties(n,{instance:{get:function(){return n.cs || (n.cs=new n());},enumerable:!1,configurable:!0}});n.Xfa=function(){(0,l.assert)(void 0 === n.cs || n.cs.po.empty,"Singleton SetTimeoutWithPriority reset with pending timers");n.cs=void 0;};n.prototype.H9=function(h,m,p){var q,u,t;(0,l.assert)(isFinite(m) && 0 <= m);q=this.po;u=f.default.time.Ga();t=u + m;q.push({id:++this.Ewa,time:t,priority:p,us:h});k.K && this.console.trace(("[").concat(u,"] New p").concat(p," timer ").concat(this.Ewa," scheduled for ").concat(t," in ").concat(m,"ms"));this.Gua();return this.Ewa;};n.prototype.x2=function(h){var m,p,q;m=this.po;p=m.find(function(u){return u.id === h;});if(p){q=m.mt().time;m.remove(p);k.K && this.console.trace(("[").concat(f.default.time.Ga(),"] Removing timer ").concat(p.id," scheduled for ").concat(p.time));(m.empty || m.mt().time > q) && this.Gua();}};n.prototype.SSa=function(){this.dX && (clearTimeout(this.dX.id),k.K && this.console.trace(("[").concat(f.default.time.Ga(),"] Clearing wake timer")),this.dX=void 0);};n.prototype.Gua=function(){var h,m;m=this.po;m.empty?this.SSa():(m=m.mt().time,m !== (null === (h=this.dX) || void 0 === h?void 0:h.time) && (this.SSa(),h=Math.max(0,m - f.default.time.Ga()),k.K && this.console.trace(("[").concat(f.default.time.Ga(),"] Setting wake timer for ").concat(m," in ").concat(h,"ms")),this.dX={id:setTimeout(this.BDb,h),time:m}));};return n;})();b.H9=function(n,h,m){return g.instance.H9(n,h,m);};b.x2=function(n){g.instance.x2(n);};b.lpb=function(){g.Xfa();};},84144:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oLa=b.nLa=void 0;c=a(4145);r=(function(){function k(f){this.Oa=f;this.listeners=[];this.qV=[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.Oa;},enumerable:!1,configurable:!0}});k.prototype.set=function(f){var l;this.Oa=f;l=this.qV;this.qV=[];this.listeners.forEach(function(d){return d(f);});l.forEach(function(d){return d(f);});};k.prototype.m9a=function(){this.Oa=void 0;};k.prototype.on=function(f){this.listeners=this.listeners.concat([f]);void 0 !== this.Oa && f(this.Oa);};k.prototype.once=function(f){void 0 !== this.Oa?f(this.Oa):this.qV.push(f);};k.prototype.ar=function(f){this.listeners=this.listeners.filter(function(l){return l !== f;});this.qV=this.qV.filter(function(l){return l !== f;});};return k;})();b.nLa=r;r=(function(){function k(){this.listeners=[];}k.prototype.on=function(f,l){this.listeners.push({signal:f,listener:l});f.on(l);};k.prototype.once=function(f,l){var d,g;d=this;if(void 0 === f.value){g=function(n){d.remove(f,l);l(n);};this.listeners.push({signal:f,listener:l,heb:g});f.once(g);}else f.once(l);};k.prototype.ar=function(f,l){var d,g;g=(0,c.yc)(this.listeners,function(n){return n.signal === f && n.listener === l;});void 0 !== g && f.ar(null !== (d=g.heb) && void 0 !== d?d:g.listener);this.remove(f,l);};k.prototype.removeAllListeners=function(){this.listeners.forEach(function(f){var l,d;l=f.listener;d=f.heb;return f.signal.ar(null !== d && void 0 !== d?d:l);});this.listeners=[];};k.prototype.remove=function(f,l){this.listeners=this.listeners.filter(function(d){return d.signal !== f || d.listener !== l;});};return k;})();b.oLa=r;},80657:function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qu=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.Da=NaN;}Object.defineProperties(a.prototype,{Lv:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Da=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Da+=(c - this.Da) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Da,count:this.count};};return a;})();b.qu=r;},50971:function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(70655);r.__exportStar(a(68330),b);r.__exportStar(a(17695),b);r.__exportStar(a(49580),b);r.__exportStar(a(73388),b);r.__exportStar(a(56824),b);},68330:function(r,b,a){var c,k,f,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.IEa=void 0;c=a(70655);k=a(70950);f=a(44724);a(89383);l=c.__importDefault(a(29736));d=a(49580);g=a(56824);r=(function(n){function h(m,p,q){p=n.call(this,p,q) || this;p.AZb=m;p.ufa=!1;p.P0=!1;p.reset();return p;}c.__extends(h,n);h.prototype.reset=function(){var m,p;if(this.Sa === d.Ek.j9 || this.Sa === d.Ek.pending)null === (p=null === (m=this.oJ) || void 0 === m?void 0:m.return) || void 0 === p?void 0:p.call(m);n.prototype.reset.call(this);this.oJ=this.AZb();this.P0=!1;this.CQ=g.Pg.NC(k.N.Ia);};h.prototype.Sf=function(){this.reset();(0,f.assert)(this.xn);this.xn.pua(this);};h.prototype.w7=function(){return this.CQ;};h.prototype.Bf=function(){var m,p,q,u,t;try{this.ufa=!0;t=null !== (p=null === (m=this.oJ) || void 0 === m?void 0:m.next()) && void 0 !== p?p:{done:!0};}finally{this.ufa=!1;this.Pnb=l.default.time.Ga();this.jvb();}t.done?(this.CQ=g.Pg.Fxa,null === (u=null === (q=this.oJ) || void 0 === q?void 0:q.return) || void 0 === u?void 0:u.call(q),this.oJ=void 0):this.CQ=t.value;};h.prototype.jvb=function(){this.P0 && this.iVa();};h.prototype.iVa=function(){var m,p;this.ufa?this.P0=!0:(this.P0=!1,null === (p=null === (m=this.oJ) || void 0 === m?void 0:m.return) || void 0 === p?void 0:p.call(m),this.oJ=void 0);};h.prototype.Pa=function(){this.iVa();n.prototype.Pa.call(this);};h.prototype.gv=function(){return {state:d.Ek[this.state],nextWakeup:{ms:this.CQ.timestamp.G,type:g.I_[this.CQ.type]},lastRunMono:this.Pnb};};return h;})(d.lea);b.IEa=r;},17695:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qLa=void 0;c=a(70655);k=a(49580);f=a(56824);r=(function(l){function d(g,n,h,m){void 0 === m && (m={});h=l.call(this,h) || this;h.Kua=g;h.us=n;h.options=m;return h;}c.__extends(d,l);d.prototype.w7=function(){return this.Sa === k.Ek.pending?this.Kua:f.Pg.Fxa;};d.prototype.Bf=function(){this.us();};d.prototype.Sf=function(){this.options.Zfc?(l.prototype.reset.call(this),this.xn.pua(this)):this.Pa();};return d;})(k.lea);b.qLa=r;},49580:function(r,b,a){var c,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lea=b.Ek=void 0;c=a(56824);(function(f){f[f.pending=0]="pending";f[f.j9=1]="running";f[f.complete=2]="complete";f[f.XE=3]="destroyed";})(k=b.Ek || (b.Ek={}));r=(function(){function f(l,d){void 0 === d && (d=0);this.name=l;this.priority=d;this.Sa=k.pending;}Object.defineProperties(f.prototype,{state:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{a1a:{get:function(){return this.Sa === k.pending || this.Sa === k.j9;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Kd:{get:function(){return this.xn;},enumerable:!1,configurable:!0}});f.prototype.msb=function(l){var d;null === (d=this.xn) || void 0 === d?void 0:d.U8(this);this.xn=l;};f.prototype.pN=function(){this.Sa=k.j9;this.Bf();this.w7() === c.Pg.Fxa && (this.Sa=k.complete);};f.prototype.Pa=function(){var l;this.Sa=k.XE;null === (l=this.xn) || void 0 === l?void 0:l.U8(this);};f.prototype.sSa=function(l){this.xn.U8(this);this.xn=l;this.xn.pua(this);};f.prototype.gv=function(){};f.prototype.reset=function(){this.Sa=k.pending;};return f;})();b.lea=r;},73388:function(r,b,a){var k,f,l,d,g,n,h,m,p,q,u,t,w,v,y;function c(x){var z,A,B,C,D,F;z=x.qa;A=x.us;B=x.Zdb;C=x.gm;x=x.priority;D=void 0 === x?0:x;(0,g.assert)(z.ii,("Current time: ").concat(m.default.time.Ga()," cr: ").concat(z.currentTime));(0,g.assert)(z.currentTime.isFinite());x=B.wa(z.currentTime);x=Math.max(Math.ceil(x.Fy / z.speed),0);F=null !== C && void 0 !== C?C:{id:void 0,bVa:x,u5a:0,zTb:x};F.id=(0,p.H9)(function(){B.wa(z.currentTime).JB(l.N.Ia)?A():(F.u5a++,c({qa:z,us:A,Zdb:B,gm:F,priority:D}));},x,D);F.bVa=x;return F;}Object.defineProperties(b,{__esModule:{value:!0}});b.U$=b.RP=void 0;k=a(70655);f=a(28075);l=a(70950);d=a(55575);g=a(44724);n=a(95994);h=a(81989);m=k.__importDefault(a(29736));p=a(40001);q=a(49580);u=a(68330);t=a(17695);w=a(56824);v=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{NH:{get:function(){return this.ega;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{a5a:{get:function(){return this.oob;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Czb:{get:function(){return this.Qmb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Hua:{get:function(){return this.opb;},enumerable:!1,configurable:!0}});x.prototype.set=function(z,A,B){this.Qmb=A === y.y7?0:m.default.time.Ga();this.oob=z;this.opb=A;n.K && (0,g.assert)(!this.ega,"Invalid replacement of timeout value");this.ega=B;};x.prototype.complete=function(){this.ega=void 0;this.set(l.N.rp,y.y7);};return x;})();(function(x){x[x.y7=0]="none";x[x.k4a=1]="microTask";x[x.setTimeout=2]="setTimeout";})(y || (y={}));r=(function(x){function z(A,B,C,D){var F;void 0 === C && (C="unknown");void 0 === D && (D=0);F=x.call(this) || this;F.qa=A;F.console=B;F.name=C;F.priority=D;F.mob=0;F.D0=!1;F.Uea=!1;F.Yj=new v();F.M3=new f.Re();F.Fi=new d.YZ([],(0,h.qTa)(function(G,E){return G.fH.Ik(E.fH);},function(G,E){return E.vk.priority - G.vk.priority;},function(G,E){return G.vk.id > E.vk.id?1:G.vk.id < E.vk.id?-1:0;}));F.cRa(A);return F;}k.__extends(z,x);Object.defineProperties(z.prototype,{w0b:{get:function(){return this.qa.ii;},enumerable:!1,configurable:!0}});z.prototype.oUa=function(A,B){A=new (A.bind.apply(A,k.__spreadArray([void 0],k.__read(B),!1)))();A.id=this.mob++;A.msb(this);this.Nga(A);return A;};z.prototype.Hx=function(){for(var A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}return this.oUa(u.IEa,A);};z.prototype.gv=function(){var A;A={hasSchedule:!!this.Yj.NH,schedule:this.Yj.NH && ({sleepTime:this.Yj.NH.bVa,originalSleepTime:this.Yj.NH.zTb,clockSkewAdjustments:this.Yj.NH.u5a}),nextWakeup:this.Yj.a5a.G,timeScheduled:this.Yj.Czb,scheduleType:y[this.Yj.Hua],numTasks:this.Fi.length,clock:{ir:this.qa.ii,ct:this.qa.currentTime.G,sp:this.qa.speed}};n.K && this.trace("audit",A);return A;};z.prototype.HA=function(){for(var A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}return this.oUa(t.qLa,A);};z.prototype.XTa=function(A,B,C){return this.Hx(function(){return k.__generator(this,function(D){switch(D.label){case 0:return [4,w.Pg.NC(B)];case 1:return (D.Qa(),A(),[3,0]);case 2:return [2];}});},C);};z.prototype.cRa=function(A){var B;B=this;this.xx();this.M3.clear();this.qa=A;this.M3.on(A,"stopStart",function(){return B.aN();});this.M3.on(A,"clockAdjusted",function(){return B.jV();});this.M3.on(A,"speedChanged",function(){return B.nTb();});this.jV();this.emit("clockChanged");};z.prototype.nTb=function(){this.xx();this.aN();};z.prototype.Pa=function(){this.reset();this.D0 && (this.Uea=!0);};z.prototype.reset=function(){var A;this.xx();A=this.Fi.yr();this.Fi.clear();A.forEach(function(B){return B.vk.Pa();});};z.prototype.Sf=function(){var A;this.xx();A=this.Fi.yr();this.Fi.clear();A.forEach(function(B){return B.vk.Sf();});};z.prototype.jV=function(){var A,B;A=this;B=this.Fi.map(function(C){return C.vk;});this.xx();this.Fi.clear();B.forEach(function(C){return A.Nga(C,!1);});this.aN();};z.prototype.Nga=function(A,B){var C,D;void 0 === B && (B=!0);C=A.w7();D=this.Sbb(C);C={vk:A,fH:D,a9:C};n.K && this.trace(("Adding task ").concat(A.name," for ").concat(D.G));(0,g.assert)(!this.Fi.contains(C));this.Fi.push(C);B && this.aN();};z.prototype.aN=function(){var A,B,C,D,F;A=this;n.K && this.trace("recheck schedule task count:" + this.Fi.length);if(this.w0b){if(this.D0)n.K && this.trace("already executing, bailing");else {C=this.Yj.a5a;D=this.Fi.mt();F=null !== (B=null === D || void 0 === D?void 0:D.fH) && void 0 !== B?B:l.N.rp;F.isFinite() && F.Yqa(C)?(this.xx(!1),this.qa.currentTime.gi(F)?(this.Yj.set(F,y.k4a),Promise.resolve().then(function(){A.Yj.Hua === y.k4a && (A.Yj.complete(),A.C9a());})):(n.K && this.trace("scheduling next wake up for",{Vgc:F.G,vk:null === D || void 0 === D?void 0:D.vk.name}),B=c({qa:this.qa,us:function(){A.Yj.complete();A.C9a();},Zdb:F,priority:this.priority}),this.Yj.set(F,y.setTimeout,B))):F.isFinite() || this.Yj.Hua !== y.setTimeout || this.xx(!1);}}else (n.K && this.trace("should check schedule is false, stopping"),this.xx());};z.prototype.C9a=function(){var A,B,C;B=0;C=null === (A=this.Fi.mt()) || void 0 === A?void 0:A.a9;try{for(this.D0=!0;1E4 > B++ && this.V3b();){;}}finally{this.D0=!1;this.xx();1E4 < B && !this.FKb(C)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(n.K && this.trace("Next tasks",this.Fi.map(function(D){return {name:D.vk.name,Wgc:D.fH.G};})),this.aN());}};z.prototype.FKb=function(A){var B,C;C=null === (B=this.Fi.mt()) || void 0 === B?void 0:B.a9;return A && C && A.timestamp.equal(C.timestamp) && A.type === C.type?!1:!0;};z.prototype.V3b=function(){var A,B,C;C=null !== (B=null === (A=this.Fi.mt()) || void 0 === A?void 0:A.fH) && void 0 !== B?B:l.N.rp;n.K && this.trace(("tryExecuteNextTask @").concat(this.qa.currentTime.G,", next wakeup at ").concat(C));if(this.qa.currentTime.gi(C) && (A=this.Fi.pop())){B=A.vk;n.K && this.trace("Running a task @" + this.qa.currentTime.G + ", scheduled for time:" + C.G + ("Name:").concat(B.name));try{B.pN();A.a9=B.w7();A.fH=this.Sbb(A.a9);}catch(D){throw (this.error(("Unhandled error from a task ").concat(B.name," occurred.") + " Removing the task from future executions:" + D,{stack:D.stack}),B.Pa(),D);}finally{this.Uea?(B.Pa(),this.Uea=!1):A.fH !== l.N.rp && B.state === q.Ek.j9 && ((0,g.assert)(!this.Fi.contains(A)),this.Fi.push(A));}return !0;}};z.prototype.pua=function(A){(0,g.assert)(A.Kd === this);this.U8(A,!1);this.Nga(A);};z.prototype.U8=function(A,B){var C;void 0 === B && (B=!0);C=this.Fi.find(function(D){return D.vk === A;});C && this.kYb(C,B);};z.prototype.kYb=function(A,B){this.Fi.remove(A);B && this.aN();};z.prototype.xx=function(A){void 0 === A && (A=!0);this.Yj.NH && (A && this.emit("stopping"),A=this.Yj.NH,(0,p.x2)(A.id),this.Yj.complete());};z.prototype.Sbb=function(A){return A.type === w.I_.absolute?A.timestamp:A.timestamp.add(this.qa.currentTime);};z.prototype.trace=function(){for(var A,B=[],C=0;C < arguments.length;C++){B[C]=arguments[C];}null === (A=this.console) || void 0 === A?void 0:A.trace.apply(A,k.__spreadArray([("TaskScheduler(").concat(this.name,"):")],k.__read(B),!1));};z.prototype.error=function(){for(var A,B=[],C=0;C < arguments.length;C++){B[C]=arguments[C];}null === (A=this.console) || void 0 === A?void 0:A.error.apply(A,k.__spreadArray([("TaskScheduler(").concat(this.name,"):")],k.__read(B),!1));};return z;})(f.EventEmitter);b.RP=r;b.U$=function(x,z,A){var B;B=void 0;return (A || x.qa.ii) && x.qa.currentTime.gi(z)?{promise:Promise.resolve()}:{promise:new Promise(function(C){B=x.HA(w.Pg.Qt(z),C);}),vk:B};};},56824:function(r,b,a){var c,k,f,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Pg=b.I_=void 0;c=a(70950);(function(d){d[d.absolute=0]="absolute";d[d.A8a=1]="relative";})(k=b.I_ || (b.I_={}));l=(function(){function d(g,n){this.type=g;this.timestamp=n;}d.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(k[this.type]);};Object.defineProperties(d,{Ia:{get:function(){f || (f=new d(k.A8a,c.N.Ia));return f;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.Qt=function(g){return new l(k.absolute,g);};Object.defineProperties(d,{g6b:{get:function(){return l.Ia;},enumerable:!1,configurable:!0}});d.NC=function(g){return new l(k.A8a,g);};d.Fxa=new l(k.absolute,c.N.rp);return d;})();b.Pg=r;},17039:function(r,b,a){var k,f;function c(l,d,g){var n;void 0 === g && (g={});n=k.__assign(k.__assign({},f),g);return l.filter(function(h){var m;m=h.Lb;h=h.Bb;return !!h && h.JB(d) && (!n.kTa || m.gi(d));});}Object.defineProperties(b,{__esModule:{value:!0}});b.fla=b.sEb=b.mla=void 0;k=a(70655);f={kTa:!1};b.mla=function(l,d,g){void 0 === g && (g={});return c(l,d,g).pop();};b.sEb=c;b.fla=function(l,d,g){return l.filter(function(n){var h;h=n.Lb;n=n.Bb;return !!n && !!h && (n.gi(d) && n.JB(g) || h.gi(d) && h.JB(g) || n.JB(d) && h.gi(g));});};},70950:function(r,b,a){var k;function c(f,l){return f && l?Math.abs(f * l / (0,k.bB)(f,l)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.N=void 0;k=a(87357);r=(function(){function f(l,d){"object" === typeof l?(this.oc=l.ya,this.fb=l.S):(this.oc=l,this.fb=d);isFinite(this.oc) || (this.fb=1);}f.compare=function(l,d){return l.Ik(d);};f.abs=function(l){return new f(Math.abs(l.oc),l.fb);};f.Ma=function(l){return 0 === l?f.Ia:new f(l,1E3);};f.Hwa=function(l,d){return Math.floor(1E3 * l / d);};f.M4a=function(l,d){return Math.floor(l * d / 1E3);};f.max=function(){for(var l=[],d=0;d < arguments.length;d++){l[d]=arguments[d];}return l.reduce(function(g,n){return g.greaterThan(n)?g:n;});};f.min=function(){for(var l=[],d=0;d < arguments.length;d++){l[d]=arguments[d];}return l.reduce(function(g,n){return g.lessThan(n)?g:n;});};f.bB=function(l,d){var g;if(l.fb === d.fb)return new f((0,k.bB)(l.oc,d.oc),l.fb);g=c(l.fb,d.fb);return new f((0,k.bB)(l.oc * g / l.fb,d.oc * g / d.fb),g);};Object.defineProperties(f.prototype,{ya:{get:function(){return this.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{S:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{G:{get:function(){return f.Hwa(this.oc,this.fb);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Fy:{get:function(){return 1E3 * this.oc / this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{hH:{get:function(){var l;l=this.Fy;return 0 > l?Math.ceil(l):Math.floor(l);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{uh:{get:function(){return this.oc / this.fb;},enumerable:!1,configurable:!0}});f.prototype.ze=function(l){l/=this.fb;return new f(Math.floor(this.oc * l),Math.floor(this.fb * l));};f.prototype.add=function(l){var d;if(this.fb === l.fb)return new f(this.oc + l.oc,this.fb);d=c(this.fb,l.fb);return new f(this.oc * d / this.fb + l.oc * d / l.fb,d);};f.prototype.wa=function(l){var d;if(this.fb === l.fb)return new f(this.oc - l.oc,this.fb);d=c(this.fb,l.fb);return new f(this.oc * d / this.fb - l.oc * d / l.fb,d);};f.prototype.zv=function(l){return new f(this.oc * l,this.fb);};f.prototype.Oi=function(l){var d;if("number" === typeof l){if(Math.floor(l) === l){d=c(this.oc,l);if(d !== this.oc)return this.ze(d / this.oc * this.fb).Oi(l);}return new f(Math.floor(this.oc / l),this.fb);}if(this.fb === l.fb)return this.oc / l.oc;d=c(this.fb,l.fb);return this.oc * d / this.fb / (l.oc * d / l.fb);};f.prototype.wK=function(l){var d;if(this.fb === l.fb)return new f(Math.abs(this.oc - l.oc),this.fb);d=c(this.fb,l.fb);return new f(Math.abs(this.oc * d / this.fb - l.oc * d / l.fb),d);};f.prototype.u8a=function(){return new f(this.fb,this.oc);};f.prototype.compare=function(l,d){var g;if(this.fb === d.fb)return l(this.oc,d.oc);g=c(this.fb,d.fb);return l(this.oc * g / this.fb,d.oc * g / d.fb);};f.prototype.Ik=function(l){var d;if(this.fb === l.fb)return this.ya === l.oc?0:this.oc - l.oc;d=c(this.fb,l.fb);return this.oc * d / this.fb - l.oc * d / l.fb;};f.prototype.equal=function(l){return this.compare(function(d,g){return d === g;},l);};f.prototype.Yqa=function(l){return this.compare(function(d,g){return d !== g;},l);};f.prototype.lessThan=function(l){return this.compare(function(d,g){return d < g;},l);};f.prototype.greaterThan=function(l){return this.compare(function(d,g){return d > g;},l);};f.prototype.JB=function(l){return this.compare(function(d,g){return d <= g;},l);};f.prototype.gi=function(l){return this.compare(function(d,g){return d >= g;},l);};f.prototype.isFinite=function(){return !!this.fb && isFinite(this.oc);};f.prototype.h_a=function(l){return c(this.S,l);};f.prototype.toJSON=function(){return {ticks:this.oc,timescale:this.fb};};f.prototype.toString=function(){return ("").concat(this.oc,"/").concat(this.fb);};f.prototype.mb=function(){return ("").concat(this.oc,"/").concat(this.fb," (").concat(this.G,"ms)");};f.Ia=new f(0,1E3);f.zy=new f(1,1E3);f.rp=new f(Infinity,1);f.aRb=new f(-Infinity,1);return f;})();b.N=r;},85341:function(r,b,a){var c,k,f;Object.defineProperties(b,{__esModule:{value:!0}});b.y7a=b.S_=void 0;a(70655);c=a(95994);k=a(36024);f=a(44724);a(4145);r=(function(){function l(){this.P=new k.Jda();}Object.defineProperties(l.prototype,{empty:{get:function(){return !this.Uv;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{root:{get:function(){var d;return null === (d=this.Uv) || void 0 === d?void 0:d.value;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{values:{get:function(){var d;d=[];this.mF(function(g){return !!d.push(g);});return d;},enumerable:!1,configurable:!0}});l.prototype.has=function(d){return !!this.P.get(d);};l.prototype.parent=function(d){var g;d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to find the parent of a node not in the tree");return null === (g=null === d || void 0 === d?void 0:d.parent) || void 0 === g?void 0:g.value;};l.prototype.children=function(d){d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to find the children of a node not in the tree");return (null === d || void 0 === d?0:d.children)?d.children.map(function(g){return g.value;}):[];};l.prototype.vna=function(d){d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to find the children of a node not in the tree");return void 0 !== (null === d || void 0 === d?void 0:d.children) && 0 < d.children.length;};l.prototype.add=function(d,g){var n;c.K && (0,f.assert)(!this.P.get(d),"Attempted to add a value to tree that is already present");n={value:d};void 0 === this.Uv?(c.K && (0,f.assert)(void 0 === g,"a parent cannot be specified when the tree is empty"),this.Uv=n):(c.K && (0,f.assert)(void 0 !== g,"a parent must be specified when the tree is non-empty"),g=this.P.get(g),c.K && (0,f.assert)(g,"Parent value does not exist in tree"),this.hRa(n,g));this.P.set(d,n);return this;};l.prototype.remove=function(d){d=this.P.get(d);c.K && (0,f.assert)(d,"Attempted to remove a node not in the tree");this.removeNode(d);return this;};l.prototype.removeNode=function(d){var g;g=this;this.yla(function(n){return g.P.delete(n);},d.value);void 0 === d.parent?this.Uv=void 0:this.detach(d);};l.prototype.move=function(d,g){d=this.P.get(d);g=this.P.get(g);c.K && (0,f.assert)(d,"cannot move a value that is not in the tree");c.K && (0,f.assert)(g,"cannot move a value to a parent value not in the tree");c.K && (0,f.assert)(null === d || void 0 === d?void 0:d.parent,"cannot move the root node");c.K && (0,f.assert)(!this.qMb(d,g),"cannot move a node below itself or one of its decendants");d.parent !== g && (this.detach(d),this.hRa(d,g));return this;};l.prototype.nYb=function(d){var g,n;g=this;d=this.P.get(d);c.K && (0,f.assert)(d,"cannot replant at a value that is not in the tree");n=[];this.detach(d);this.yla(function(h){g.P.delete(h);n.unshift(h);return !0;});this.Uv=d;};l.prototype.clear=function(){this.Uv && this.remove(this.Uv.value);return this;};l.prototype.vXa=function(d,g){var n,h;n=this;d=this.P.get(d);c.K && (0,f.assert)(d,"cannot iterate children of a value not in the tree");null === (h=d.children) || void 0 === h?void 0:h.forEach(function(m){return g(m.value,n);});};l.prototype.e1b=function(d,g){var n,h;n=this;d=this.P.get(d);c.K && (0,f.assert)(d,"cannot iterate children of a value not in the tree");return !(null === (h=d.children) || void 0 === h || !h.some(function(m){return g(m.value,n);}));};l.prototype.mF=function(d){this.wXa(d,void 0);};l.prototype.wXa=function(d,g,n,h){var m;m=this;void 0 === h && (h=0);c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (g=null !== g && void 0 !== g?g:this.Uv.value,d(g,n,this,h) && this.vXa(g,function(p){return m.wXa(d,p,g,h + 1);}));};l.prototype.yla=function(d,g){var n;n=this;c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");this.empty || (null !== g && void 0 !== g?g:g=this.Uv.value,this.vXa(g,function(h){return n.yla(d,h);}),d(g,this));};l.prototype.gXa=function(d,g){var n,h;n=this;c.K && (0,f.assert)(!this.empty || void 0 === g,"cannot iterate from a value on an empty tree");if(!this.empty){null !== g && void 0 !== g?g:g=this.Uv.value;return this.e1b(g,function(m){return !!(h=n.gXa(d,m));})?h:d(g,this)?g:void 0;}};l.prototype.eBb=function(d){var g,n,h,m;g=this;n=this.values;h=n.filter(function(p){return !d.has(p);});m=d.values.filter(function(p){return !g.has(p);});n=n.filter(function(p){return d.has(p) && g.parent(p) !== d.parent(p);});return {Oga:h,dN:m,U8a:n};};l.prototype.hRa=function(d,g){var n;d.parent=g;(null !== (n=g.children) && void 0 !== n?n:g.children=[]).push(d);};l.prototype.detach=function(d){var g;c.K && (0,f.assert)(d.parent,"cannot detach the root");c.K && (0,f.assert)(void 0 !== d.parent.children,"logic error: parent node does not have children");g=d.parent.children.indexOf(d);(0,f.assert)(0 <= g,"logic error: node does not appear in the children of its parent");d.parent.children.splice(g,1);d.parent=void 0;};l.prototype.qMb=function(d,g){for(;void 0 !== g;){if(g === d)return !0;g=g.parent;}return !1;};return l;})();b.S_=r;b.y7a=function(l,d){var g;g="";l.mF(function(n,h,m,p){g+=("").concat(Array(p + 1).join("-")).concat(d(n),"\n");return !0;});return g;};},40885:function(r,b,a){var l,d,g;function c(n){var h,m,p,t;p=Object.getOwnPropertyNames(n);for(n=Object.getPrototypeOf(n);n !== Object.prototype;){try{for(var q=(h=void 0,l.__values(Object.getOwnPropertyNames(n))),u=q.next();!u.done;u=q.next()){t=u.value;-1 === p.indexOf(t) && p.push(t);}}catch(w){h={error:w};}finally{try{u && !u.done && (m=q.return) && m.call(q);}finally{if(h)throw h.error;}}n=Object.getPrototypeOf(n);}return p;}function k(n,h,m,p,q){var u;Object.getOwnPropertyNames(n).filter(function(t){return q(t) && (m || !Object.prototype.hasOwnProperty.call(h,t)) && (p || !((t in h)));}).forEach(function(t){u=Object.getOwnPropertyDescriptor(n,t);void 0 !== u && Object.defineProperty(h,t,u);});}function f(n,h,m,p){var q,u;q=[];m || (q=Object.getOwnPropertyNames(h));p || (q=c(h));u=Object.getPrototypeOf(n);null !== u && u !== Object.prototype && f(u,h,m,p);k(n,h,!0,!0,function(t){return "constructor" !== t && -1 === q.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.xk=b.Lwb=void 0;l=a(70655);d=a(44724);b.Lwb=f;g=Object.getOwnPropertyNames(Function);b.xk=function(n,h,m,p){void 0 === m && (m=!0);void 0 === p && (p=!0);p || (0,d.assert)(!m);n.prototype?(f(n.prototype,h.prototype,m,p),k(n,h,m,p,function(q){return -1 === g.indexOf(q);})):k(n,h.prototype,m,p,function(q){return -1 === g.indexOf(q);});return h;};},312:function(r,b,a){var p;function c(q){return Array.isArray(q)?q.reduce(function(u,t){return u + t;},0):!1;}function k(q){return Array.isArray(q) && q.length?c(q) / q.length:!1;}function f(q){var u;if(!Array.isArray(q) || 2 > q.length)return !1;u=k(q);return c(q.map(function(t){return (t - u) * (t - u);})) / (q.length - 1);}function l(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=f(q);return Math.sqrt(q);}function d(q,u){if(q.length == u.length && 1 < q.length){for(var t=q.length,w=0,v=c(q),y=c(u),x=0;x < t;x++){w+=q[x] * u[x];}return (w - v * y / t) / t;}return !1;}function g(q,u,t){return Math.max(Math.min(q,t),u);}function n(q,u){return "number" === typeof q?q:u;}function h(q){return 1 / (1 + Math.exp(-q));}function m(q,u,t){return q * t + (1 - t) * u;}Object.defineProperties(b,{__esModule:{value:!0}});b.I9a=b.scale=b.zWa=b.J3=b.eab=b.JSa=b.gK=b.tanh=b.OZb=b.Kh=b.LGb=b.NGb=b.kJb=b.l_a=b.YXa=b.wJb=b.jK=b.$f=b.wq=void 0;p=a(70655).__importStar(a(67841));b.wq=function(q,u,t){try{q.emit(u,t);}catch(w){if(q.Rz)q.Rz("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",w,"Event:",t);else throw w;}};b.$f=function(q,u){void 0 !== q && p.XTb(q).forEach(function(t){u(t[0],t[1]);});};b.jK=function(){var t;for(var q=[],u=0;u < arguments.length;u++){q[u]=arguments[u];}q=Array.prototype.concat.apply([],q);u=q.reduce(function(w,v){return w + v.byteLength;},0);t=new Uint8Array(u);q.reduce(function(w,v){t.set(new Uint8Array(v),w);return w + v.byteLength;},0);return t.buffer;};b.wJb=c;b.YXa=k;b.l_a=f;b.kJb=l;b.NGb=d;b.LGb=function(q,u){var t;if(q.length == u.length){t=d(q,u);q=l(q);u=l(u);if(0 < q && 0 < u)return t / (q * u);}return !1;};b.Kh=function(q,u,t){return u.lUa?u.lUa(t):new q.Console("ASEJS","media|asejs",u.prefix?u.prefix + " " + t:t);};b.OZb=function(q){return q.length?"{" + q + "} ":"";};b.tanh=Math.tanh || (function(q){var u;u=Math.exp(+q);q=Math.exp(-q);return Infinity == u?1:Infinity == q?-1:(u - q) / (u + q);});b.gK=g;b.JSa=function(q,u,t,w){return {min:g(n(q.min,u),t,w),max:g(n(q.max,u),t,w),vx:g(q.vx || 6E4,0,6E5),pSa:g(q.pSa || 0,-3E5,3E5),scale:g(q.scale || 6E4,0,3E5),J9a:g(q.J9a || 0,-3E5,3E5),gamma:g(q.gamma || 1,.1,10)};};b.eab=h;b.J3=function(q,u,t){return q.min + (q.max - q.min) * (1 - Math.pow(h(6 * (u - (q.vx + (q.pSa || 0) * (1 - t))) / (q.scale + (q.J9a || 0) * (1 - t))),q.gamma));};b.zWa=function(q,u){return q.min + (q.max - q.min) * Math.pow(h(6 * (u - q.vx) / q.scale),q.gamma);};b.scale=m;b.I9a=function(q,u,t){return {min:m(q.min,u.min,t),max:m(q.max,u.max,t),vx:m(q.vx,u.vx,t),scale:m(q.scale,u.scale,t),gamma:m(q.gamma,u.gamma,t)};};},60482:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZI=void 0;c=a(70950);r=(function(){function k(f,l){this.YD=f;this.OD=l;this.uZb();}k.from=function(f){return "number" === typeof f?new k(f,1):new k(f.jt,f.Bs);};k.AFb=function(f){return new k(f.S,f.ya);};Object.defineProperties(k.prototype,{jt:{get:function(){return this.YD;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bs:{get:function(){return this.OD;},enumerable:!1,configurable:!0}});k.prototype.ca=function(){return new c.N(this.OD,this.YD);};k.prototype.equal=function(f){return this.YD === f.YD && this.OD === f.OD;};k.prototype.normalize=function(f){var l;l=1E3 * this.Bs;return Math.floor(Math.floor((Math.floor(f + 1) * this.jt - 1) / l) * l / this.jt);};k.prototype.uZb=function(){var f,l,d;f=Math.floor(1E3 * this.YD / this.OD);l=Math.floor(1001 * this.YD / this.OD);d=1E3 * Math.round(f / 1E3);this.YD=d;this.OD=Math.abs(l - d) > Math.abs(f - d)?1E3:1001;};return k;})();b.ZI=r;},61276:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$I=void 0;c=a(87357);b.$I=(function(){return function(k,f){var l;void 0 === f && (f={w:1,Lq:1});this.$k=k;this.q6a=f;l=k.w * f.w;k=k.Lq * f.Lq;f=(0,c.bB)(l,k);this.ox={w:l / f,Lq:k / f};};})();},37481:function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wea=void 0;c=a(70655).__importDefault(a(29736));r=(function(){function k(f){this.uN=new Uint16Array(f.length);for(var l=0;l < f.length;++l){this.uN[l]=f.charCodeAt(l);}}k.prototype.encrypt=function(f){for(var l=this.uN.length,d="",g=0;g < f.length;++g){d+=String.fromCharCode(this.uN[g % l] ^ f.charCodeAt(g));}return encodeURIComponent(d);};k.prototype.decrypt=function(f,l){var d,g;void 0 === l && (l=!1);d=this.uN.length;g="";if(l)for((l=new Uint8Array(c.default.X2(f)),f=0);f < l.length;f++){g+=String.fromCharCode(this.uN[f % d] ^ l[f]);}else for((l=decodeURIComponent(f),f=0);f < l.length;f++){g+=String.fromCharCode(this.uN[f % d] ^ l.charCodeAt(f));}return g;};return k;})();b.wea=r;},62772:function(r,b,a){var c;(function(k){(function(f){var d,g;function l(n,h){return function(m,p){"function" !== typeof n[m] && Object.defineProperty(n,m,{configurable:!0,writable:!0,value:p});h && h(m,p);};}d="object" === typeof a.j4?a.j4:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();g=l(k);"undefined" === typeof d.Reflect?d.Reflect=k:g=l(d.Reflect,g);f(g);})(function(f){var G,E,J,L,N,I,O,K,H,M,R;function l(Y,ea,ca){var oa;oa=R.get(Y);if(u(oa)){if(!ca)return;oa=new H();R.set(Y,oa);}Y=oa.get(ea);if(u(Y)){if(!ca)return;Y=new H();oa.set(ea,Y);}return Y;}function d(Y,ea,ca){if(g(Y,ea,ca))return !0;ea=A(ea);return null === ea?!1:d(Y,ea,ca);}function g(Y,ea,ca){ea=l(ea,ca,!1);return u(ea)?!1:!!ea.has(Y);}function n(Y,ea,ca){if(g(Y,ea,ca))return h(Y,ea,ca);ea=A(ea);if(null !== ea)return n(Y,ea,ca);}function h(Y,ea,ca){ea=l(ea,ca,!1);if(!u(ea))return ea.get(Y);}function m(Y,ea){var ca,Fa,Ja;ca=p(Y,ea);Y=A(Y);if(null === Y)return ca;ea=m(Y,ea);if(0 >= ea.length)return ca;if(0 >= ca.length)return ea;Y=new M();for(var oa=[],Ga=0;Ga < ca.length;Ga++){Fa=ca[Ga];Ja=Y.has(Fa);Ja || (Y.add(Fa),oa.push(Fa));}for(ca=0;ca < ea.length;ca++){Fa=ea[ca];(Ja=Y.has(Fa)) || (Y.add(Fa),oa.push(Fa));}return oa;}function p(Y,ea){var ca,oa;ca=[];Y=l(Y,ea,!1);if(u(Y))return ca;Y=Y.keys();ea=z(Y,L);if(!x(ea))throw new TypeError();Y=ea.call(Y);if(!t(Y))throw new TypeError();for(ea=0;;){oa=Y.next();oa=oa.done?!1:oa;if(!oa)return (ca.length=ea,ca);oa=oa.value;try{ca[ea]=oa;}catch(Fa){var Ga;try{Ga=Y["return"];Ga && Ga.call(Y);}finally{throw Fa;}}ea++;}}function q(Y){if(null === Y)return 1;switch(typeof Y){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === Y?1:6;default:return 6;}}function u(Y){return void 0 === Y;}function t(Y){return "object" === typeof Y?null !== Y:"function" === typeof Y;}function w(Y,ea){var ca;switch(q(Y)){case 0:return Y;case 1:return Y;case 2:return Y;case 3:return Y;case 4:return Y;case 5:return Y;}ea=3 === ea?"string":5 === ea?"number":"default";ca=z(Y,J);if(void 0 !== ca){Y=ca.call(Y,ea);if(t(Y))throw new TypeError();return Y;}a:{if("string" === ("default" === ea?"number":ea)){ea=Y.toString;if(x(ea) && (ea=ea.call(Y),!t(ea)))break a;ea=Y.valueOf;}else {ea=Y.valueOf;if(x(ea) && (ea=ea.call(Y),!t(ea)))break a;ea=Y.toString;}if(!x(ea) || (ea=ea.call(Y),t(ea)))throw new TypeError();}return ea;}function v(Y){Y=w(Y,3);return "symbol" === typeof Y?Y:"" + Y;}function y(Y){return Array.isArray?Array.isArray(Y):Y instanceof Object?Y instanceof Array:"[object Array]" === Object.prototype.toString.call(Y);}function x(Y){return "function" === typeof Y;}function z(Y,ea){Y=Y[ea];if(void 0 !== Y && null !== Y){if(!x(Y))throw new TypeError();return Y;}}function A(Y){var ea,ca;ea=Object.getPrototypeOf(Y);if("function" !== typeof Y || Y === K || ea !== K)return ea;ca=Y.prototype;ca=ca && Object.getPrototypeOf(ca);if(null == ca || ca === Object.prototype)return ea;ca=ca.constructor;return "function" !== typeof ca || ca === Y?ea:ca;}function B(){var oa,Ga,Fa;function Y(Ja){return Ja;}function ea(Ja,Xa){return Xa;}function ca(Ja,Xa){return [Ja,Xa];}oa={};Ga=[];Fa=(function(){function Ja(Xa,cb,U){this.ae=0;this.Ue=Xa;this.wf=cb;this.rpb=U;}Ja.prototype["@@iterator"]=function(){return this;};Ja.prototype[L]=function(){return this;};Ja.prototype.next=function(){var Xa,cb;Xa=this.ae;if(0 <= Xa && Xa < this.Ue.length){cb=this.rpb(this.Ue[Xa],this.wf[Xa]);Xa + 1 >= this.Ue.length?(this.ae=-1,this.wf=this.Ue=Ga):this.ae++;return {value:cb,done:!1};}return {value:void 0,done:!0};};Ja.prototype.throw=function(Xa){0 <= this.ae && (this.ae=-1,this.wf=this.Ue=Ga);throw Xa;};Ja.prototype.return=function(Xa){0 <= this.ae && (this.ae=-1,this.wf=this.Ue=Ga);return {value:Xa,done:!0};};return Ja;})();return (function(){function Ja(){this.Ue=[];this.wf=[];this.vu=oa;this.Ur=-2;}Object.defineProperty(Ja.prototype,"size",{get:function(){return this.Ue.length;},enumerable:!0,configurable:!0});Ja.prototype.has=function(Xa){return 0 <= this.Vw(Xa,!1);};Ja.prototype.get=function(Xa){Xa=this.Vw(Xa,!1);return 0 <= Xa?this.wf[Xa]:void 0;};Ja.prototype.set=function(Xa,cb){Xa=this.Vw(Xa,!0);this.wf[Xa]=cb;return this;};Ja.prototype.delete=function(Xa){var cb,U;cb=this.Vw(Xa,!1);if(0 <= cb){U=this.Ue.length;for(cb+=1;cb < U;cb++){this.Ue[cb - 1]=this.Ue[cb];this.wf[cb - 1]=this.wf[cb];}this.Ue.length--;this.wf.length--;Xa === this.vu && (this.vu=oa,this.Ur=-2);return !0;}return !1;};Ja.prototype.clear=function(){this.Ue.length=0;this.wf.length=0;this.vu=oa;this.Ur=-2;};Ja.prototype.keys=function(){return new Fa(this.Ue,this.wf,Y);};Ja.prototype.values=function(){return new Fa(this.Ue,this.wf,ea);};Ja.prototype.entries=function(){return new Fa(this.Ue,this.wf,ca);};Ja.prototype["@@iterator"]=function(){return this.entries();};Ja.prototype[L]=function(){return this.entries();};Ja.prototype.Vw=function(Xa,cb){this.vu !== Xa && (this.Ur=this.Ue.indexOf(this.vu=Xa));0 > this.Ur && cb && (this.Ur=this.Ue.length,this.Ue.push(Xa),this.wf.push(void 0));return this.Ur;};return Ja;})();}function C(){return (function(){function Y(){this.Hf=new H();}Object.defineProperty(Y.prototype,"size",{get:function(){return this.Hf.size;},enumerable:!0,configurable:!0});Y.prototype.has=function(ea){return this.Hf.has(ea);};Y.prototype.add=function(ea){return (this.Hf.set(ea,ea),this);};Y.prototype.delete=function(ea){return this.Hf.delete(ea);};Y.prototype.clear=function(){this.Hf.clear();};Y.prototype.keys=function(){return this.Hf.keys();};Y.prototype.values=function(){return this.Hf.values();};Y.prototype.entries=function(){return this.Hf.entries();};Y.prototype["@@iterator"]=function(){return this.keys();};Y.prototype[L]=function(){return this.keys();};return Y;})();}function D(){var oa,Ga;function Y(){var Fa,cb;do {Fa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):ca(new Uint8Array(16),16):ca(Array(16),16);Fa[6]=Fa[6] & 79 | 64;Fa[8]=Fa[8] & 191 | 128;for(var Ja="",Xa=0;16 > Xa;++Xa){cb=Fa[Xa];if(4 === Xa || 6 === Xa || 8 === Xa)Ja+="-";16 > cb && (Ja+="0");Ja+=cb.toString(16).toLowerCase();}Fa="@@WeakMap@@" + Ja;}while(O.has(oa,Fa));oa[Fa]=!0;return Fa;}function ea(Fa,Ja){if(!G.call(Fa,Ga)){if(!Ja)return;Object.defineProperty(Fa,Ga,{value:O.create()});}return Fa[Ga];}function ca(Fa,Ja){for(var Xa=0;Xa < Ja;++Xa){Fa[Xa]=255 * Math.random() | 0;}return Fa;}oa=O.create();Ga=Y();return (function(){function Fa(){this.ds=Y();}Fa.prototype.has=function(Ja){Ja=ea(Ja,!1);return void 0 !== Ja?O.has(Ja,this.ds):!1;};Fa.prototype.get=function(Ja){Ja=ea(Ja,!1);return void 0 !== Ja?O.get(Ja,this.ds):void 0;};Fa.prototype.set=function(Ja,Xa){ea(Ja,!0)[this.ds]=Xa;return this;};Fa.prototype.delete=function(Ja){Ja=ea(Ja,!1);return void 0 !== Ja?delete Ja[this.ds]:!1;};Fa.prototype.clear=function(){this.ds=Y();};return Fa;})();}function F(Y){Y.mmb=void 0;delete Y.mmb;return Y;}G=Object.prototype.hasOwnProperty;E="function" === typeof Symbol;J=E && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";L=E && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";E="function" === typeof Object.create;N=({__proto__:[]}) instanceof Array;I=!E && !N;O={create:E?function(){return F(Object.create(null));}:N?function(){return F({__proto__:null});}:function(){return F({});},has:I?function(Y,ea){return G.call(Y,ea);}:function(Y,ea){return (ea in Y);},get:I?function(Y,ea){return G.call(Y,ea)?Y[ea]:void 0;}:function(Y,ea){return Y[ea];}};K=Object.getPrototypeOf(Function);H=(E="object" === typeof process && "true" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?B():Map;M=E || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?C():Set;R=new (E || "function" !== typeof WeakMap?D():WeakMap)();f("decorate",function(Y,ea,ca,oa){var Fa;if(u(ca)){if(!y(Y))throw new TypeError();if("function" !== typeof ea)throw new TypeError();for(ca=Y.length - 1;0 <= ca;--ca){if((oa=(0,Y[ca])(ea),!u(oa) && null !== oa)){if("function" !== typeof oa)throw new TypeError();ea=oa;}}return ea;}if(!y(Y))throw new TypeError();if(!t(ea))throw new TypeError();if(!t(oa) && !u(oa) && null !== oa)throw new TypeError();null === oa && (oa=void 0);ca=v(ca);for(var Ga=Y.length - 1;0 <= Ga;--Ga){Fa=(0,Y[Ga])(ea,ca,oa);if(!u(Fa) && null !== Fa){if(!t(Fa))throw new TypeError();oa=Fa;}}return oa;});f("metadata",function(Y,ea){return function(ca,oa){var Ga;if(!t(ca))throw new TypeError();if(Ga=!u(oa)){a:switch(q(oa)){case 3:Ga=!0;break a;case 4:Ga=!0;break a;default:Ga=!1;}Ga=!Ga;}if(Ga)throw new TypeError();l(ca,oa,!0).set(Y,ea);};});f("defineMetadata",function(Y,ea,ca,oa){if(!t(ca))throw new TypeError();u(oa) || (oa=v(oa));l(ca,oa,!0).set(Y,ea);});f("hasMetadata",function(Y,ea,ca){if(!t(ea))throw new TypeError();u(ca) || (ca=v(ca));return d(Y,ea,ca);});f("hasOwnMetadata",function(Y,ea,ca){if(!t(ea))throw new TypeError();u(ca) || (ca=v(ca));return g(Y,ea,ca);});f("getMetadata",function(Y,ea,ca){if(!t(ea))throw new TypeError();u(ca) || (ca=v(ca));return n(Y,ea,ca);});f("getOwnMetadata",function(Y,ea,ca){if(!t(ea))throw new TypeError();u(ca) || (ca=v(ca));return h(Y,ea,ca);});f("getMetadataKeys",function(Y,ea){if(!t(Y))throw new TypeError();u(ea) || (ea=v(ea));return m(Y,ea);});f("getOwnMetadataKeys",function(Y,ea){if(!t(Y))throw new TypeError();u(ea) || (ea=v(ea));return p(Y,ea);});f("deleteMetadata",function(Y,ea,ca){var oa;if(!t(ea))throw new TypeError();u(ca) || (ca=v(ca));oa=l(ea,ca,!1);if(u(oa) || !oa.delete(Y))return !1;if(0 < oa.size)return !0;Y=R.get(ea);Y.delete(ca);if(0 < Y.size)return !0;R.delete(ea);return !0;});});})(c || (c={}));},22153:function(r,b,a){var d;function c(){return Object.create(null);}function k(g){this.log=g.log;this.qa=g.qa;this.WB=c();this.Promise=g.Promise;this.Cx=g.Cx;this.Wwa=g.Wwa;this.kf=g.kf || !1;this.cv=c();this.yA=c();this.CE=c();this.vpb(g);g.Jn && (this.Jn=g.Jn);}function f(g){return "undefined" !== typeof g;}function l(g){var m;for(var n=0,h=arguments.length;n < h;){m=arguments[n++];if(f(m))return m;}}a(4070);d=a(42478);k.prototype.vpb=function(g){this.cv.manifest=l(g.HDb,d.cv.W);this.cv.ldl=l(g.GDb,d.cv.lU);this.cv.metadata=l(g.Pcc,d.cv.Bd);this.yA.manifest=l(g.bub,d.yA.W);this.yA.ldl=l(g.aub,d.yA.lU);this.yA.metadata=l(g.Kbc,d.yA.Bd);this.CE.manifest=l(g.Ibc,d.CE.W);this.CE.ldl=l(g.Hbc,d.CE.lU);this.CE.metadata=l(g.Jbc,d.CE.Bd);};k.prototype.DT=function(g,n){this.As("undefined" !== typeof g);this.As("undefined" !== typeof n);return !!this.GNa(g,n,void 0).value;};k.prototype.GNa=function(g,n,h){var m,p;m={value:null,reason:"",log:""};p=this.WB[n];h=h?h:"DEFAULTCAPS";if("undefined" === typeof p)return (m.log="cache miss: no data exists for field:" + n,m.reason="unavailable",m);"undefined" === typeof p[g]?(m.log="cache miss: no data exists for movieId:" + g,m.reason="unavailable"):(p=p[g][h]) && p.value?this.M5(n,p.creationTime)?(m.log="cache miss: " + n + " data expired for movieId:" + g,m.reason="expired",this.clearData(g,n,h,!1,"expired")):(m.log=this.Promise && p.value instanceof this.Promise?"cache hit: " + n + " request in flight for movieId:" + g:"cache hit: " + n + " available for movieId:" + g,m.value=p.value):(m.log="cache miss: " + n + " data not available for movieId:" + g,m.reason="unavailable");return m;};k.prototype.getData=function(g,n,h){this.As("undefined" !== typeof g);this.As("undefined" !== typeof n);g=this.GNa(g,n,h);this.log.trace(g.log);return g.value?this.Promise?g.value instanceof this.Promise?g.value:Promise.resolve(g.value):this.Wwa?JSON.parse(this.Wwa(g.value,"gzip",!1)):g.value:this.Promise?Promise.reject(g.reason):g.reason;};k.prototype.setData=function(g,n,h,m,p){var q,u,t;this.As("undefined" !== typeof g);this.As("undefined" !== typeof n);q=this.WB;u=p?p:"DEFAULTCAPS";q[n] || (q[n]=c(),Object.defineProperty(q[n],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[n],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));h=this.Cx?this.Cx(JSON.stringify(h),"gzip",!0):h;q=q[n];this.Tnb(g,n,u,q);t=this;m={creationTime:this.qa.getTime(),value:h,size:0,type:n,Vja:m,FDb:setTimeout(function(){t.clearData(g,n,u,!1,"expired");},this.cv[n] + 1)};q[g]=q[g] || c();q[g][u]=q[g][u] || c();q[g][u]=m;q.size+=0;q.numEntries++;this.Jn && this.Jn.emit("addedCacheItem",m);return m;};k.prototype.Tnb=function(g,n,h,m){var p,q,u,t,w,v,y,x,z;p=this;q=m.numEntries;u=this.yA[n];t=m[g] && m[g][h];if(t && t.value)(w=g,v="promise_or_expired");else if(q >= u){x=Number.POSITIVE_INFINITY;Object.keys(m).every(function(A){var B;B=m[A] && m[A][h];B && B.value && p.M5(n,B.creationTime) && (z=A);B && B.value && B.creationTime < x && (x=B.creationTime,y=A);return !0;});w=z || y;v="cache_full";}this.kf && this.log.debug("makespace ",{maxCount:u,currentCount:m.numEntries,field:n,movieId:g,movieToBeRemoved:w});w && (p.clearData(w,n,h,void 0,v),this.log.debug("removed from cache: ",w,n));};k.prototype.Eia=function(g,n){var h,m;h=this;h.As("undefined" !== typeof g);m=g + "";n.forEach(function(p){var q;q=h.WB[p];q && Object.keys(q).forEach(function(u){u != m && h.clearData(u,p,void 0,void 0,"clear_all");});});};k.prototype.clearData=function(g,n,h,m,p){var q;this.As("undefined" !== typeof g);this.As("undefined" !== typeof n);q=this.WB[n];n=q?q[g]:void 0;h=h?h:"DEFAULTCAPS";if(n && n[h]){q.size-=n[h].size;q.numEntries--;if(q=n && n[h])(clearTimeout(q.FDb),n[h]=void 0,!m && q.Vja && q.Vja());this.Jn && (g={creationTime:q.creationTime,destroyFn:q.Vja,size:q.size,type:q.type,value:q.value,reason:p,movieId:g},this.Jn.emit("deletedCacheItem",g));}};k.prototype.flush=function(g){var n;this.As("undefined" !== typeof g);n=this.WB;n[g]=c();n[g].numEntries=0;n[g].size=0;};k.prototype.LSa=function(){var g,n;this.As(!1);g=this;n=this.WB;n[void 0] instanceof Object && Object.keys(n[void 0]).forEach(function(h){var m;m=n[void 0][h].DEFAULTCAPS;g.qa.getTime() - m.creationTime > g.cv[void 0] && g.clearData(h,void 0,"DEFAULTCAPS",void 0,"clean_up");});};k.prototype.M5=function(g,n){return this.qa.getTime() - n > this.cv[g];};k.prototype.getStats=function(g,n,h){var m,p,q,u,t;m={};p=this;q=p.WB;u=f(g) && f(n);t=h || "DEFAULTCAPS";Object.keys(q).forEach(function(w){var v,y;v=Object.keys(q[w]);y=q[w];v.forEach(function(x){!(x=y && y[x] && y[x][t]) || !f(x.value) || x.value instanceof p.Promise || (m[w]=(m[w] | 0) + 1,p.M5(x.type,x.creationTime) && (m[w + "_expired"]=(m[w + "_expired"] | 0) + 1),u && x.creationTime >= g && x.creationTime < n && (m[w + "_delta"]=(m[w + "_delta"] | 0) + 1));});});return m;};k.prototype.getState=function(g){var n,h,m,p;n=[];h=this;m=h.WB;p=g || "DEFAULTCAPS";Object.keys(m).forEach(function(q){var u,t;u=Object.keys(m[q]);t=m[q];u.forEach(function(w){var v,y;v=t && t[w] && t[w][p];if(v && f(v.value)){y=h.M5(v.type,v.creationTime)?"expired":v.value instanceof h.Promise?"loading":"cached";n.push({movieId:w,state:y,type:q,size:v.size});}});});return n;};k.prototype.As=function(g){if(!g && (this.log.error("Debug Assert Failed",void 0),this.kf))throw Error("Debug Assert Failed ");};r.exports=k;},42478:function(r){r.exports={cv:{W:12E5,lU:9E5,Bd:12E5},yA:{W:10,lU:10,Bd:10},CE:{W:10240,lU:10240,Bd:10240}};},4070:function(r){function b(a){var c;c=[];return (function l(f){if(f && "object" === typeof f){if(-1 !== c.indexOf(f))return !0;c.push(f);for(var d in f){if(f.hasOwnProperty(d) && l(f[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var f;if(c && b(a))return -1;c=[];a=[a];for(var k=0;a.length;){f=a.pop();if("boolean" === typeof f)k+=4;else if("string" === typeof f)k+=2 * f.length;else if("number" === typeof f)k+=8;else if("object" === typeof f && -1 === c.indexOf(f)){c.push(f);for(var l in f){a.push(f[l]);}}}return k;};},70834:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.Qma=function(){return this.buffer.length - this.position;};a.prototype.Ky=function(){return this.buffer[this.position++];};a.prototype.zj=function(c){var k;k=this.position;this.position+=c;return this.oNb(this.buffer)?this.buffer.subarray(k,this.position):this.buffer.slice(k,this.position);};a.prototype.oNb=function(c){return void 0 !== c.subarray;};a.prototype.Kp=function(c){for(var k=0;c--;){k=256 * k + this.buffer[this.position++];}return k;};a.prototype.tta=function(c){for(var k="";c--;){k+=String.fromCharCode(this.buffer[this.position++]);}return k;};a.prototype.Zg=function(){return this.Kp(2);};a.prototype.Lp=function(){return this.Kp(4);};a.prototype.ZM=function(){return this.Kp(8);};a.prototype.Nv=function(c){for(var k,f="";c--;){k=this.Ky();f+=("0123456789ABCDEF")[k >>> 4] + ("0123456789ABCDEF")[k & 15];}return f;};a.prototype.uta=function(c){for(var k=0,f=0;f < c;f++){k+=this.Ky() << (f << 3);}return k;};a.prototype.YM=function(){return this.uta(4);};a.prototype.SX=function(c){this.tO(c,2);};a.prototype.lz=function(c){this.tO(c,4);};a.prototype.X$=function(c){this.buffer[this.position++]=c;};a.prototype.tO=function(c,k){this.position+=k;for(var f=1;f <= k;f++){this.buffer[this.position - f]=c & 255;c=Math.floor(c / 256);}};a.prototype.kz=function(c){for(var k=0;k < c.length;k++){this.buffer[this.position++]=c.charCodeAt(k);}};a.prototype.RX=function(c){for(var k=c.length,f=0;f < k;f++){this.buffer[this.position++]=c[f];}};a.prototype.sO=function(c,k){this.RX(c.zj(k));};a.prototype.jeb=function(c){c=new a(c);for(var k,f;;){if((k=c.Qma(),f=k >>> 14))(f=Math.min(4,f),this.X$(192 | f),this.sO(c,16384 * f));else {128 > k?this.X$(k):this.tO(k | 32768,2);this.sO(c,k);break;}}};a.prototype.b8a=function(){var f;for(var c=[],k=new a(c);;){f=this.Ky();if(f & 128){if(128 == (f & 192))(f&=63,f=(f << 8) + this.Ky(),k.sO(this,f));else if((f&=63,0 < f && 4 >= f)){k.sO(this,16384 * f);continue;}else throw Error("bad asn1");}else k.sO(this,f);break;}return new Uint8Array(c);};return a;})();b.TO=r;},17555:function(r){function b(c,k,f,l){c.trace(":",f,":",l);k(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,k,f,l){f=l?f.bind(l):f;if(c){this.console && (f=b.bind(null,this.console,f,k));if("function" === typeof c.addListener)c.addListener(k,f);else if("function" === typeof c.addEventListener)c.addEventListener(k,f);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,f]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var f,l;f=k[0];l=k[1];k=k[2];"function" === typeof f.removeEventListener?f.removeEventListener(l,k):"function" === typeof f.removeListener && f.removeListener(l,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},28075:function(r,b,a){b=a(84586);b.Qja=0;r.exports={EventEmitter:b,Re:a(17555)};},84586:function(r){var n,h,m,p;function b(){b.va.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,u,t,w){var v,y;a(t);v=q.gb;if(void 0 === v)(v=q.gb=Object.create(null),q.PD=0);else {void 0 !== v.ARb && (q.emit("newListener",u,t.listener?t.listener:t),v=q.gb);y=v[u];}void 0 === y?(v[u]=t,++q.PD):("function" === typeof y?y=v[u]=w?[t,y]:[y,t]:w?y.unshift(t):y.push(t),t=void 0 === q.fs?b.Qja:q.fs,0 < t && y.length > t && !y.Gxa && (y.Gxa=!0,t=Error("Possible EventEmitter memory leak detected. " + y.length + " " + String(u) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.bv=q,t.type=u,t.count=y.length,console && console.warn && console.warn(t)));return q;}function k(){if(!this.lXa)return (this.target.removeListener(this.type,this.geb),this.lXa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function f(q,u,t){q={lXa:!1,geb:void 0,target:q,type:u,listener:t};u=k.bind(q);u.listener=t;return q.geb=u;}function l(q){var u;u=this.gb;if(void 0 !== u){q=u[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,u,t){"function" === typeof q.on && g(q,"error",u,t);}function g(q,u,t,w){if("function" === typeof q.on){if(w.once)q.once(u,t);else q.on(u,t);}else if("function" === typeof q.addEventListener)q.addEventListener(u,function x(y){w.once && q.removeEventListener(u,x);t(y);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}n="object" === typeof Reflect?Reflect:null;h=n && "function" === typeof n.apply?n.apply:function(q,u,t){return Function.prototype.apply.call(q,u,t);};m=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,u){return new Promise(function(t,w){function v(x){q.removeListener(u,y);w(x);}function y(){"function" === typeof q.removeListener && q.removeListener("error",v);t([].slice.call(arguments));}g(q,u,y,{once:!0});"error" !== u && d(q,v,{once:!0});});};b.EventEmitter=b;b.prototype.gb=void 0;b.prototype.PD=0;b.prototype.fs=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || m(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.va=function(){if(void 0 === this.gb || this.gb === Object.getPrototypeOf(this).gb)(this.gb=Object.create(null),this.PD=0);this.fs=this.fs || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || m(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.fs=q;return this;};b.prototype.emit=function(q){var w,v;for(var u=[],t=1;t < arguments.length;t++){u.push(arguments[t]);}w="error" === q;t=this.gb;if(void 0 !== t)w=w && void 0 === t.error;else if(!w)return !1;if(w){0 < u.length && (v=u[0]);if(v instanceof Error)throw v;u=Error("Unhandled error." + (v?" (" + v.message + ")":""));u.context=v;throw u;}t=t[q];if(void 0 === t)return !1;if("function" === typeof t)h(t,this,u);else {v=t.length;w=Array(v);for(var y=0;y < v;++y){w[y]=t[y];}for(t=0;t < v;++t){h(w[t],this,u);}}return !0;};b.prototype.addListener=function(q,u){return c(this,q,u,!1);};b.prototype.on=b.prototype.addListener;b.prototype.v8=function(q,u){c(this,q,u,!0);};b.prototype.once=function(q,u){a(u);this.on(q,f(this,q,u));return this;};b.prototype.u7a=function(q,u){a(u);this.v8(q,f(this,q,u));};b.prototype.removeListener=function(q,u){var t,w,v,y,x;a(u);w=this.gb;if(void 0 === w)return this;v=w[q];if(void 0 === v)return this;if(v === u || v.listener === u)0 === --this.PD?this.gb=Object.create(null):(delete w[q],w.removeListener && this.emit("removeListener",q,v.listener || u));else if("function" !== typeof v){y=-1;for(t=v.length - 1;0 <= t;t--){if(v[t] === u || v[t].listener === u){x=v[t].listener;y=t;break;}}if(0 > y)return this;if(0 === y)v.shift();else {for(;y + 1 < v.length;y++){v[y]=v[y + 1];}v.pop();}1 === v.length && (w[q]=v[0]);void 0 !== w.removeListener && this.emit("removeListener",q,x || u);}return this;};b.prototype.ar=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var u,t,w;u=this.gb;if(void 0 === u)return this;if(void 0 === u.removeListener)return (0 === arguments.length?(this.gb=Object.create(null),this.PD=0):void 0 !== u[q] && (0 === --this.PD?this.gb=Object.create(null):delete u[q]),this);if(0 === arguments.length){t=Object.keys(u);for(u=0;u < t.length;++u){w=t[u];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.gb=Object.create(null);this.PD=0;return this;}t=u[q];if("function" === typeof t)this.removeListener(q,t);else if(void 0 !== t)for(u=t.length - 1;0 <= u;u--){this.removeListener(q,t[u]);}return this;};b.prototype.listeners=function(q){var u;u=this.gb;if(void 0 === u)q=[];else if((q=u[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {u=Array(q.length);for(var t=0;t < u.length;++t){u[t]=q[t].listener || q[t];}q=u;}return q;};b.listenerCount=function(q,u){return "function" === typeof q.listenerCount?q.listenerCount(u):l.call(q,u);};b.prototype.listenerCount=l;},6328:function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},24865:function(r,b,a){var c,k,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(8430);k=a(22544);f=a(24907);b["default"]=function(l){var d;l=new c.paa(l);d=new f.Ijb(l);return new k.Hjb(l,d);};},8430:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.W2a=c;}a.prototype.iva=function(c){try{this.W2a.setItem("gtp",JSON.stringify(c));}catch(k){return !1;}return !0;};a.prototype.SYa=function(){var c;try{c=this.W2a.getItem("gtp");if(c)return JSON.parse(c);}catch(k){}};a.prototype.Tm=function(){var c;c=this.SYa();if(c && c.tp)return c.tp.a;};a.prototype.EHb=function(){var c;c=this.tma();if(c)return c.p25;};a.prototype.FHb=function(){var c;c=this.tma();if(c)return c.p50;};a.prototype.GHb=function(){var c;c=this.tma();if(c)return c.p75;};a.prototype.tma=function(){var c;c=this.SYa();if(c && (c=c.iqr))return c;};return a;})();b.paa=r;},22544:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,k){this.Qu=c;this.Uqa=k;}a.prototype.iva=function(c){return this.Qu.iva(c);};a.prototype.Tm=function(){return this.Qu.Tm();};return a;})();b.Hjb=r;},24907:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Qu=c;}a.prototype.Uqa=function(){var c,k,f;c=this.Qu.EHb();k=this.Qu.FHb();f=this.Qu.GHb();if("number" === typeof c && "number" === typeof k && "number" === typeof f)return (f - c) / k;};return a;})();b.Ijb=r;},54138:function(r){r.exports="undefined" !== typeof process && "undefined" !== typeof nrdp?nrdp.Ga:Date.now;},78378:function(r,b,a){var l;function c(d,g,n,h,m,p,q){this.DX=h;this.veb=d;this.d5a=g;this.Fqa=n;this.vNb=p;this.uC=q;this.split=m;}function k(){this.P={};this.P["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.P["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.P["3"]=new c("7","8","7","10","1.5",0,0);this.P["7"]=new c("15","16","15","9","4.5",0,0);this.P["15"]=new c("31","32","31","2","5.5",0,0);this.P["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.P["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.P["123"]=new c("123","124","123","0","0",1,.207298);this.P["124"]=new c("123","124","123","0","0",1,.49076);this.P["64"]=new c("125","126","125","4","40.5",0,0);this.P["125"]=new c("125","126","125","0","0",1,-.00157835);this.P["126"]=new c("125","126","125","0","0",1,.934205);this.P["32"]=new c("65","66","65","135","5.5",0,0);this.P["65"]=new c("127","128","128","4","1272.5",0,0);this.P["127"]=new c("127","128","128","0","0",1,-.510333);this.P["128"]=new c("127","128","128","0","0",1,.18363);this.P["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.P["129"]=new c("129","130","129","0","0",1,-.0464542);this.P["130"]=new c("129","130","129","0","0",1,.458833);this.P["16"]=new c("33","34","34","10","2.00001",0,0);this.P["33"]=new c("67","68","67","0","29.5",0,0);this.P["67"]=new c("131","132","131","2","39.5",0,0);this.P["131"]=new c("131","132","131","0","0",1,-.37577);this.P["132"]=new c("131","132","131","0","0",1,.512087);this.P["68"]=new c("133","134","134","140","1.5",0,0);this.P["133"]=new c("133","134","134","0","0",1,.321272);this.P["134"]=new c("133","134","134","0","0",1,-.675396);this.P["34"]=new c("69","70","70","2","24.5",0,0);this.P["69"]=new c("135","136","136","9","28.5",0,0);this.P["135"]=new c("135","136","136","0","0",1,-.0573845);this.P["136"]=new c("135","136","136","0","0",1,-.507455);this.P["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.P["137"]=new c("137","138","137","0","0",1,-.503909);this.P["138"]=new c("137","138","137","0","0",1,.450886);this.P["8"]=new c("17","18","17","4","44189.5",0,0);this.P["17"]=new c("35","36","35","2","21.5",0,0);this.P["35"]=new c("71","72","72","0","19.5",0,0);this.P["71"]=new c("139","140","140","9","2.5",0,0);this.P["139"]=new c("139","140","140","0","0",1,.00403497);this.P["140"]=new c("139","140","140","0","0",1,-.312656);this.P["72"]=new c("141","142","141","135","96",0,0);this.P["141"]=new c("141","142","141","0","0",1,-.465786);this.P["142"]=new c("141","142","141","0","0",1,.159633);this.P["36"]=new c("73","74","73","130","89.5",0,0);this.P["73"]=new c("143","144","144","10","4.5",0,0);this.P["143"]=new c("143","144","144","0","0",1,-.76265);this.P["144"]=new c("143","144","144","0","0",1,-.580804);this.P["74"]=new c("145","146","146","10","16.5",0,0);this.P["145"]=new c("145","146","146","0","0",1,.296357);this.P["146"]=new c("145","146","146","0","0",1,-.691659);this.P["18"]=new c("37","38","38","9","1.5",0,0);this.P["37"]=new c("37","38","38","0","0",1,.993951);this.P["38"]=new c("75","76","75","0","19",0,0);this.P["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.P["147"]=new c("147","148","147","0","0",1,-.346535);this.P["148"]=new c("147","148","147","0","0",1,-.995745);this.P["76"]=new c("147","148","147","0","0",1,-.99978);this.P["4"]=new c("9","10","9","5","4.5",0,0);this.P["9"]=new c("19","20","19","2","4.5",0,0);this.P["19"]=new c("39","40","39","140","7.5",0,0);this.P["39"]=new c("77","78","78","134","6.5",0,0);this.P["77"]=new c("149","150","150","7","11.5",0,0);this.P["149"]=new c("149","150","150","0","0",1,.729843);this.P["150"]=new c("149","150","150","0","0",1,.383857);this.P["78"]=new c("151","152","151","133","4.5",0,0);this.P["151"]=new c("151","152","151","0","0",1,.39017);this.P["152"]=new c("151","152","151","0","0",1,.0434342);this.P["40"]=new c("79","80","79","133","3.5",0,0);this.P["79"]=new c("153","154","154","8","4.5",0,0);this.P["153"]=new c("153","154","154","0","0",1,-.99536);this.P["154"]=new c("153","154","154","0","0",1,-.00943396);this.P["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.P["155"]=new c("155","156","155","0","0",1,.266272);this.P["156"]=new c("155","156","155","0","0",1,.959904);this.P["20"]=new c("41","42","42","10","65.5",0,0);this.P["41"]=new c("81","82","82","7","10.5",0,0);this.P["81"]=new c("157","158","158","2","37.5",0,0);this.P["157"]=new c("157","158","158","0","0",1,-.701873);this.P["158"]=new c("157","158","158","0","0",1,.224649);this.P["82"]=new c("159","160","159","133","9.5",0,0);this.P["159"]=new c("159","160","159","0","0",1,.0955181);this.P["160"]=new c("159","160","159","0","0",1,-.58962);this.P["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.P["83"]=new c("161","162","161","135","31",0,0);this.P["161"]=new c("161","162","161","0","0",1,-.229692);this.P["162"]=new c("161","162","161","0","0",1,.88595);this.P["84"]=new c("163","164","164","1","13.5",0,0);this.P["163"]=new c("163","164","164","0","0",1,-.992157);this.P["164"]=new c("163","164","164","0","0",1,.922159);this.P["10"]=new c("21","22","22","4","486",0,0);this.P["21"]=new c("43","44","44","133","4.5",0,0);this.P["43"]=new c("85","86","86","10","4.5",0,0);this.P["85"]=new c("165","166","166","4","158.5",0,0);this.P["165"]=new c("165","166","166","0","0",1,-.127778);this.P["166"]=new c("165","166","166","0","0",1,.955189);this.P["86"]=new c("165","166","166","0","0",1,-.994012);this.P["44"]=new c("87","88","88","1","3.5",0,0);this.P["87"]=new c("167","168","168","135","7",0,0);this.P["167"]=new c("167","168","168","0","0",1,-.997015);this.P["168"]=new c("167","168","168","0","0",1,.400821);this.P["88"]=new c("169","170","169","130","36",0,0);this.P["169"]=new c("169","170","169","0","0",1,-.898638);this.P["170"]=new c("169","170","169","0","0",1,.56129);this.P["22"]=new c("45","46","45","9","2.5",0,0);this.P["45"]=new c("89","90","90","9","1.5",0,0);this.P["89"]=new c("171","172","171","10","10.5",0,0);this.P["171"]=new c("171","172","171","0","0",1,.573986);this.P["172"]=new c("171","172","171","0","0",1,-.627266);this.P["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.P["173"]=new c("173","174","173","0","0",1,.925273);this.P["174"]=new c("173","174","173","0","0",1,-.994805);this.P["46"]=new c("91","92","91","136","5.5",0,0);this.P["91"]=new c("175","176","175","10","10.5",0,0);this.P["175"]=new c("175","176","175","0","0",1,.548352);this.P["176"]=new c("175","176","175","0","0",1,-.879195);this.P["92"]=new c("177","178","178","8","14.5",0,0);this.P["177"]=new c("177","178","178","0","0",1,.457305);this.P["178"]=new c("177","178","178","0","0",1,-.998992);this.P["2"]=new c("5","6","5","10","2.5",0,0);this.P["5"]=new c("11","12","11","9","4.5",0,0);this.P["11"]=new c("23","24","24","10","4.00001",0,0);this.P["23"]=new c("47","48","48","133","5.5",0,0);this.P["47"]=new c("93","94","93","3","13.5",0,0);this.P["93"]=new c("179","180","179","138","15.5",0,0);this.P["179"]=new c("179","180","179","0","0",1,.658398);this.P["180"]=new c("179","180","179","0","0",1,-.927007);this.P["94"]=new c("181","182","182","3","15.5",0,0);this.P["181"]=new c("181","182","182","0","0",1,-.111351);this.P["182"]=new c("181","182","182","0","0",1,-.99827);this.P["48"]=new c("95","96","95","7","167",0,0);this.P["95"]=new c("183","184","183","132","36.5",0,0);this.P["183"]=new c("183","184","183","0","0",1,.895161);this.P["184"]=new c("183","184","183","0","0",1,-.765217);this.P["96"]=new c("185","186","186","137","6.00001",0,0);this.P["185"]=new c("185","186","186","0","0",1,-.851095);this.P["186"]=new c("185","186","186","0","0",1,.674286);this.P["24"]=new c("49","50","49","137","5.5",0,0);this.P["49"]=new c("97","98","97","5","23.5",0,0);this.P["97"]=new c("187","188","187","3","28.5",0,0);this.P["187"]=new c("187","188","187","0","0",1,.951654);this.P["188"]=new c("187","188","187","0","0",1,-.993808);this.P["98"]=new c("187","188","187","0","0",1,-.99705);this.P["50"]=new c("187","188","187","0","0",1,-.997525);this.P["12"]=new c("25","26","25","8","8.5",0,0);this.P["25"]=new c("51","52","52","10","4.00001",0,0);this.P["51"]=new c("99","100","100","133","5.5",0,0);this.P["99"]=new c("189","190","190","7","40.5",0,0);this.P["189"]=new c("189","190","190","0","0",1,.151839);this.P["190"]=new c("189","190","190","0","0",1,-.855517);this.P["100"]=new c("191","192","192","133","14.5",0,0);this.P["191"]=new c("191","192","192","0","0",1,.86223);this.P["192"]=new c("191","192","192","0","0",1,.544394);this.P["52"]=new c("101","102","101","135","47.5",0,0);this.P["101"]=new c("193","194","194","4","24.5",0,0);this.P["193"]=new c("193","194","194","0","0",1,.946185);this.P["194"]=new c("193","194","194","0","0",1,.811859);this.P["102"]=new c("193","194","194","0","0",1,-.991561);this.P["26"]=new c("53","54","54","132","6.5",0,0);this.P["53"]=new c("103","104","103","131","85",0,0);this.P["103"]=new c("195","196","196","134","16.5",0,0);this.P["195"]=new c("195","196","196","0","0",1,.0473538);this.P["196"]=new c("195","196","196","0","0",1,-.999401);this.P["104"]=new c("197","198","198","8","15.5",0,0);this.P["197"]=new c("197","198","198","0","0",1,.816129);this.P["198"]=new c("197","198","198","0","0",1,-.99322);this.P["54"]=new c("105","106","105","133","3.5",0,0);this.P["105"]=new c("105","106","105","0","0",1,-.998783);this.P["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.P["199"]=new c("199","200","199","0","0",1,.528588);this.P["200"]=new c("199","200","199","0","0",1,-.998599);this.P["6"]=new c("13","14","14","10","7.5",0,0);this.P["13"]=new c("27","28","28","133","7.5",0,0);this.P["27"]=new c("55","56","56","10","4.5",0,0);this.P["55"]=new c("107","108","107","3","3.5",0,0);this.P["107"]=new c("201","202","201","4","17.5",0,0);this.P["201"]=new c("201","202","201","0","0",1,-.379512);this.P["202"]=new c("201","202","201","0","0",1,.15165);this.P["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.P["203"]=new c("203","204","203","0","0",1,-.884606);this.P["204"]=new c("203","204","203","0","0",1,.265406);this.P["56"]=new c("109","110","109","136","6.5",0,0);this.P["109"]=new c("205","206","205","4","157.5",0,0);this.P["205"]=new c("205","206","205","0","0",1,-.0142737);this.P["206"]=new c("205","206","205","0","0",1,.691279);this.P["110"]=new c("205","206","205","0","0",1,-.998086);this.P["28"]=new c("57","58","58","138","11.5",0,0);this.P["57"]=new c("111","112","112","2","6.5",0,0);this.P["111"]=new c("207","208","208","7","67.5",0,0);this.P["207"]=new c("207","208","208","0","0",1,.763925);this.P["208"]=new c("207","208","208","0","0",1,-.309645);this.P["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.P["209"]=new c("209","210","209","0","0",1,-.306635);this.P["210"]=new c("209","210","209","0","0",1,.556696);this.P["58"]=new c("113","114","113","138","50.5",0,0);this.P["113"]=new c("211","212","212","8","25.5",0,0);this.P["211"]=new c("211","212","212","0","0",1,.508234);this.P["212"]=new c("211","212","212","0","0",1,.793551);this.P["114"]=new c("211","212","212","0","0",1,-.998438);this.P["14"]=new c("29","30","29","134","27.5",0,0);this.P["29"]=new c("59","60","60","7","17.5",0,0);this.P["59"]=new c("115","116","115","135","5.5",0,0);this.P["115"]=new c("213","214","214","137","5.5",0,0);this.P["213"]=new c("213","214","214","0","0",1,.401747);this.P["214"]=new c("213","214","214","0","0",1,.0367503);this.P["116"]=new c("215","216","216","8","5.5",0,0);this.P["215"]=new c("215","216","216","0","0",1,-.0241984);this.P["216"]=new c("215","216","216","0","0",1,-.999046);this.P["60"]=new c("117","118","117","0","12.5",0,0);this.P["117"]=new c("217","218","218","132","5.5",0,0);this.P["217"]=new c("217","218","218","0","0",1,-.997294);this.P["218"]=new c("217","218","218","0","0",1,.210398);this.P["118"]=new c("219","220","219","137","1.5",0,0);this.P["219"]=new c("219","220","219","0","0",1,-.55763);this.P["220"]=new c("219","220","219","0","0",1,.074493);this.P["30"]=new c("61","62","62","133","42.5",0,0);this.P["61"]=new c("119","120","119","135","5.5",0,0);this.P["119"]=new c("221","222","222","4","473.5",0,0);this.P["221"]=new c("221","222","222","0","0",1,-.920213);this.P["222"]=new c("221","222","222","0","0",1,-.17615);this.P["120"]=new c("223","224","224","5","144",0,0);this.P["223"]=new c("223","224","224","0","0",1,-.954295);this.P["224"]=new c("223","224","224","0","0",1,-.382538);this.P["62"]=new c("121","122","121","133","50",0,0);this.P["121"]=new c("225","226","226","10","18.5",0,0);this.P["225"]=new c("225","226","226","0","0",1,-.0731343);this.P["226"]=new c("225","226","226","0","0",1,.755454);this.P["122"]=new c("227","228","228","0","30",0,0);this.P["227"]=new c("227","228","228","0","0",1,.25);this.P["228"]=new c("227","228","228","0","0",1,-.997101);}function f(d,g,n,h,m,p){this.h9=m;this.B2=p;}b=a(69208);l=a(54138);a={};a.usb=new (function(){this.lnb=l();this.Oa=0;this.update=function(){this.Oa=l() - this.lnb;};this.type="num";})();a.gOb=new (function(){this.type="cat";})();a.hOb=new (function(){this.type="cat";})();a.jOb=new (function(){this.type="cat";})();a.kOb=new (function(){this.type="cat";})();a.iOb=new (function(){this.type="cat";})();a.lOb=new (function(){this.type="cat";})();a.mOb=new (function(){this.type="cat";})();a.nOb=new (function(){this.type="cat";})();a.oOb=new (function(){this.type="cat";})();a.pOb=new (function(){this.type="cat";})();a.qOb=new (function(){this.type="cat";})();a.rOb=new (function(){this.type="cat";})();a.tOb=new (function(){this.type="cat";})();a.uOb=new (function(){this.type="cat";})();a.vOb=new (function(){this.type="cat";})();a.sOb=new (function(){this.type="cat";})();a.htb=new (function(){this.update=function(d){for(var g in d.Fb){if("becauseYouAdded" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.itb=new (function(){this.update=function(d){for(var g in d.Fb){if("becauseYouLiked" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.ktb=new (function(){this.update=function(d){for(var g in d.Fb){if("billboard" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.Gwb=new (function(){this.update=function(d){for(var g in d.Fb){if("continueWatching" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.jtb=new (function(){this.update=function(d){for(var g in d.Fb){if("bigRow" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.VFb=new (function(){this.update=function(d){for(var g in d.Fb){if("genre" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.wRb=new (function(){this.update=function(d){for(var g in d.Fb){if("netflixOriginals" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.BRb=new (function(){this.update=function(d){for(var g in d.Fb){if("newRelease" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.oVb=new (function(){this.update=function(d){for(var g in d.Fb){if("popularTitles" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.WM=new (function(){this.update=function(d){for(var g in d.Fb){if("queue" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.nXb=new (function(){this.update=function(d){for(var g in d.Fb){if("recentlyAdded" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.Q0b=new (function(){this.update=function(d){for(var g in d.Fb){if("similars" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.I3b=new (function(){this.update=function(d){for(var g in d.Fb){if("trendingNow" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.f4b=new (function(){this.update=function(d){for(var g in d.Fb){if("ultraHD" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.h6b=new (function(){this.update=function(d){for(var g in d.Fb){if("watchAgain" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.w3b=new (function(){this.update=function(d){for(var g in d.Fb){if("topTen" === d.Fb[g].context){this.Oa=Math.max(d.Fb[g].list.length,this.Oa);break;}}};this.type="num";this.Oa=0;})();a.Qwb=new (function(){this.type="cat";})();a.Rwb=new (function(){this.type="cat";})();a.Swb=new (function(){this.type="cat";})();a.Twb=new (function(){this.type="cat";})();a.Uwb=new (function(){this.type="cat";})();a.Vwb=new (function(){this.type="cat";})();a.Wwb=new (function(){this.type="cat";})();a.Xwb=new (function(){this.type="cat";})();a.Ywb=new (function(){this.type="cat";})();a.Zwb=new (function(){this.type="cat";})();a.$wb=new (function(){this.type="cat";})();a.axb=new (function(){this.type="cat";})();a.bxb=new (function(){this.type="cat";})();a.cxb=new (function(){this.type="cat";})();a.dxb=new (function(){this.type="cat";})();a.exb=new (function(){this.type="cat";})();a.fxb=new (function(){this.type="cat";})();a.gxb=new (function(){this.type="cat";})();a.hxb=new (function(){this.type="cat";})();a.ixb=new (function(){this.type="cat";})();a.jxb=new (function(){this.type="cat";})();a.kxb=new (function(){this.type="cat";})();a.lxb=new (function(){this.type="cat";})();a.mxb=new (function(){this.type="cat";})();a.nxb=new (function(){this.type="cat";})();a.oxb=new (function(){this.type="cat";})();a.pxb=new (function(){this.type="cat";})();a.qxb=new (function(){this.type="cat";})();a.rxb=new (function(){this.type="cat";})();a.sxb=new (function(){this.type="cat";})();a.txb=new (function(){this.type="cat";})();a.uxb=new (function(){this.type="cat";})();a.vxb=new (function(){this.type="cat";})();a.wxb=new (function(){this.type="cat";})();a.xxb=new (function(){this.type="cat";})();a.yxb=new (function(){this.type="cat";})();a.zxb=new (function(){this.type="cat";})();a.Axb=new (function(){this.type="cat";})();a.Bxb=new (function(){this.type="cat";})();a.Cxb=new (function(){this.type="cat";})();a.Dxb=new (function(){this.type="cat";})();a.Exb=new (function(){this.type="cat";})();a.Fxb=new (function(){this.type="cat";})();a.Gxb=new (function(){this.type="cat";})();a.Hxb=new (function(){this.type="cat";})();a.Ixb=new (function(){this.type="cat";})();a.Jxb=new (function(){this.type="cat";})();a.Kxb=new (function(){this.type="cat";})();a.Lxb=new (function(){this.type="cat";})();a.Mxb=new (function(){this.type="cat";})();a.Nxb=new (function(){this.type="cat";})();a.Oxb=new (function(){this.type="cat";})();a.Pxb=new (function(){this.type="cat";})();a.Qxb=new (function(){this.type="cat";})();a.Rxb=new (function(){this.type="cat";})();a.Sxb=new (function(){this.type="cat";})();a.Txb=new (function(){this.type="cat";})();a.Uxb=new (function(){this.type="cat";})();a.Vxb=new (function(){this.type="cat";})();a.Wxb=new (function(){this.type="cat";})();a.Xxb=new (function(){this.type="cat";})();a.Yxb=new (function(){this.type="cat";})();a.Zxb=new (function(){this.type="cat";})();a.$xb=new (function(){this.type="cat";})();a.ayb=new (function(){this.type="cat";})();a.byb=new (function(){this.type="cat";})();a.cyb=new (function(){this.type="cat";})();a.dyb=new (function(){this.type="cat";})();a.eyb=new (function(){this.type="cat";})();a.fyb=new (function(){this.type="cat";})();a.gyb=new (function(){this.type="cat";})();a.hyb=new (function(){this.type="cat";})();a.iyb=new (function(){this.type="cat";})();a.jyb=new (function(){this.type="cat";})();a.kyb=new (function(){this.type="cat";})();a.lyb=new (function(){this.type="cat";})();a.myb=new (function(){this.type="cat";})();a.nyb=new (function(){this.type="cat";})();a.oyb=new (function(){this.type="cat";})();a.qXb=new (function(){this.type="cat";})();a.rXb=new (function(){this.type="cat";})();a.sXb=new (function(){this.type="cat";})();a.tXb=new (function(){this.type="cat";})();a.uXb=new (function(){this.type="cat";})();a.vXb=new (function(){this.type="cat";})();a.wXb=new (function(){this.type="cat";})();a.xXb=new (function(){this.type="cat";})();a.yXb=new (function(){this.type="cat";})();a.zXb=new (function(){this.type="cat";})();a.AXb=new (function(){this.type="cat";})();a.BXb=new (function(){this.type="cat";})();a.CXb=new (function(){this.type="cat";})();a.DXb=new (function(){this.type="cat";})();a.EXb=new (function(){this.type="cat";})();a.FXb=new (function(){this.type="cat";})();a.GXb=new (function(){this.type="cat";})();a.HXb=new (function(){this.type="cat";})();a.IXb=new (function(){this.type="cat";})();a.JXb=new (function(){this.type="cat";})();a.KXb=new (function(){this.type="cat";})();a.LXb=new (function(){this.type="cat";})();a.MXb=new (function(){this.type="cat";})();a.j2b=new (function(){this.update=function(d){"down" === d.direction && this.Oa++;};this.type="num";this.Oa=0;})();a.l2b=new (function(){this.update=function(d){"right" === d.direction && this.Oa++;};this.type="num";this.Oa=0;})();a.k2b=new (function(){this.update=function(d){"left" === d.direction && this.Oa++;};this.type="num";this.Oa=0;})();a.m2b=new (function(){this.update=function(d){"up" === d.direction && this.Oa++;};this.type="num";this.Oa=0;})();a.iQb=new (function(){this.Oa=0;this.update=function(d){this.Oa=Math.max(this.Oa,d.rowIndex);};this.type="num";})();a.jQb=new (function(){this.Oa=0;this.update=function(d){this.Oa=Math.max(this.Oa,d.bTa);};this.type="num";})();a.oQb=new (function(){this.KD=this.Oa=0;this.update=function(d){this.KD++;this.Oa=1 * (this.Oa + d.rowIndex) / this.KD;};this.type="num";})();a.pQb=new (function(){this.KD=this.Oa=0;this.update=function(d){this.KD++;return this.Oa=1 * (this.Oa + d.bTa) / this.KD;};this.type="num";})();a.WVb=new (function(){this.type="num";})();a.XVb=new (function(){this.type="num";})();k.prototype.uC=function(d){return this.hPa(this.P["0"].M9a(d),d);};k.prototype.hPa=function(d,g){return "string" == typeof d?this.hPa(this.P[d].M9a(g),g):d;};c.prototype.M9a=function(d){switch(this.vNb){case 0:switch(d.features[this.DX].type){case "cat":return null === d.features[this.DX].value?this.d5a:"missing" == d.features[this.DX].value?this.Fqa:this.veb;case "num":return null === d.features[this.DX].value?this.Fqa:d.features[this.DX].value < this.split?this.veb:this.d5a;default:return this.Fqa;}case 1:return this.uC;default:return this.uC;}};b.declare({VU:["modelSelector","modelone"],Zvb:["colEpisodeList",5],SKb:["holdDuration",15E3],y9a:["rowFirst",2],aTa:["colFirst",5],z9a:["rowScroll",2],cTa:["colScroll",6],jZb:["rowScrollHorizontal",6],GZb:["searchTop",3],DUa:["cwFirst",2],HT:["horizontalItemsFocusedMode",3],wNb:["itemsPerRank",1],VPb:["maxNumberPayloadsStored",10],R3a:["maxNumberTitlesScheduled",5],Gcc:["enableDetailedLogging",!0],yfc:["rowStep",20],Vbc:["colStep",15],afc:["pageRows",100],$ec:["pageColumns",75],Wpa:["maskParamsList",new (function(){var d,g;this.Wpa=[];this.Yk={};this.h9=20;this.B2=15;for(d=0;100 > d;d++){for(g=0;75 > g;g++){(Math.floor(d / this.h9) + "_" + Math.floor(g / this.B2) in this.Yk) || (this.Yk[Math.floor(d / this.h9) + "_" + Math.floor(g / this.B2)]=1,this.Wpa.push(new f("grid",10,5,5,Math.floor(d / this.h9),Math.floor(g / this.B2))));}}})().Wpa],P:["nodes",new k().P],mapping:["mapping",{jQb:"0",pQb:"1",iQb:"2",oQb:"3",usb:"4",m2b:"5",k2b:"6",l2b:"7",j2b:"8",XVb:"9",WVb:"10",gOb:"11",hOb:"12",jOb:"13",kOb:"14",iOb:"15",lOb:"16",mOb:"17",nOb:"18",oOb:"19",pOb:"20",qOb:"21",rOb:"22",sOb:"23",tOb:"24",uOb:"25",vOb:"26",qXb:"27",rXb:"28",sXb:"29",tXb:"30",uXb:"31",vXb:"32",wXb:"33",xXb:"34",yXb:"35",zXb:"36",AXb:"37",BXb:"38",CXb:"39",DXb:"40",EXb:"41",FXb:"42",GXb:"43",HXb:"44",IXb:"45",JXb:"46",KXb:"47",LXb:"48",MXb:"49",Qwb:"50",Rwb:"51",Swb:"52",Twb:"53",Uwb:"54",Vwb:"55",Wwb:"56",Xwb:"57",Ywb:"58",Zwb:"59",$wb:"60",axb:"61",bxb:"62",cxb:"63",dxb:"64",exb:"65",fxb:"66",gxb:"67",hxb:"68",ixb:"69",jxb:"70",kxb:"71",lxb:"72",mxb:"73",nxb:"74",oxb:"75",pxb:"76",qxb:"77",rxb:"78",sxb:"79",txb:"80",uxb:"81",vxb:"82",wxb:"83",xxb:"84",yxb:"85",zxb:"86",Axb:"87",Bxb:"88",Cxb:"89",Dxb:"90",Exb:"91",Fxb:"92",Gxb:"93",Hxb:"94",Ixb:"95",Jxb:"96",Kxb:"97",Lxb:"98",Mxb:"99",Nxb:"100",Oxb:"101",Pxb:"102",Qxb:"103",Rxb:"104",Sxb:"105",Txb:"106",Uxb:"107",Vxb:"108",Wxb:"109",Xxb:"110",Yxb:"111",Zxb:"112",$xb:"113",ayb:"114",byb:"115",cyb:"116",dyb:"117",eyb:"118",fyb:"119",gyb:"120",hyb:"121",iyb:"122",jyb:"123",kyb:"124",lyb:"125",myb:"126",nyb:"127",oyb:"128",h6b:"129",nXb:"130",Q0b:"131",WM:"132",Gwb:"133",VFb:"134",I3b:"135",w3b:"136",ktb:"137",BRb:"138",f4b:"139",oVb:"140",htb:"141",jtb:"142",itb:"143",wRb:"144"}],features:["features",a],Yac:["_modelName","tree"],Rac:["_format","xgboost"],Wac:["_itemsToKeep",5],Vac:["_itemsThreshold",null],Fbc:["cacheLimit",20]});r.exports={config:b,hec:f,ecc:c};},47151:function(r){r.exports={ow:{kea:0,NKa:1,Ck:2,name:["transient","semiTransient","permanent"]},jw:{BCa:0,MKa:1,B_:2,GP:3,Iw:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},Fac:{tac:0,u9b:1,N7b:2,Iw:100,name:["trailer","montage","content"]},du:{QEa:0,sKa:1,$lb:2,Ygb:3,Iw:100,name:["left","right","up","down"]},jP:{kgb:0,B_:1,e9b:2,A8b:3,i7b:4,d9b:5,hfb:6,Iw:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},AI:{GP:0,UAa:1,Iw:100,name:["playFocused","detailsOpened"]}};},81079:function(r,b,a){var f,l,d,g,n,h,m,p,q,u;function c(t,w){this.Dj=t;this.Hl=w;}function k(t){this.V=t;this.reset();}f=a(54138);l=a(47151);b=a(33887);d=a(78378).config;g=b.KGb;n=b.tGb;h=b.aBb;m=b.sSb;p=b.rSb;q=b.qSb;u=b.eXa;k.prototype.constructor=k;k.prototype.reset=function(){this.LOa=void 0;this.Xj=[];this.DOa=this.EOa=!1;};k.prototype.update=function(t,w){var v;this.Xj && (this.Xj=this.Xj.filter(this.B0b,this));if(!1 === this.EOa){v=g(t.Fb).slice(0,d.DUa);0 < v.length && (this.uG(v,l.ow.Ck),this.EOa=!0,this.Xj=this.YH(v.concat(this.Xj)));}!1 === this.DOa && (v=n(t.Fb).slice(0,d.DUa),0 < v.length && (this.uG(v,l.ow.Ck),this.DOa=!0,this.Xj=this.YH(v.concat(this.Xj))));switch(w){case l.jw.BCa:w=this.bKb(t);break;case l.jw.MKa:w=this.lKb(t);break;case l.jw.B_:w=this.mKb(t);break;case l.jw.GP:w=this.gKb(t);break;default:w=this.ZJb(t);}this.LOa=t;return w;};k.prototype.bKb=function(t){t=m(t.Fb,d.y9a,d.aTa);this.uG(t,l.ow.Ck);return this.Xj=this.YH(this.Xj.concat(t));};k.prototype.lKb=function(t){var w,v;this.V.log("handleScrollHorizontal");w=t.Fb;t=m(w,d.z9a,d.cTa);v=h(w,this.LOa.Fb);w=w[v].list.slice(0,d.jZb);w.concat(t);this.uG(w,l.ow.kea);return this.YH(w.concat(this.Xj));};k.prototype.uG=function(t,w){t.forEach(function(v){if(void 0 === v.zA || v.zA < w)v.zA=w;void 0 === v.UN && (v.UN=f());void 0 === v.Lk && (v.Lk=f());});};k.prototype.mKb=function(t){this.V.log("handleSearch");t=p(t.Fb,d.GZb);this.uG(t,l.ow.NKa);this.Xj=t.concat(this.Xj);return this.Xj=this.YH(this.Xj);};k.prototype.gKb=function(t){var w,v,y,x,z;this.V.log("handlePlayFocus: ",d.HT);w=t.direction;v=t.Fb;t=[];y=u(v);if(void 0 !== y.Dj)switch((t.push(y),w)){case l.du.sKa:for(w=1;w < d.HT;w++){t.push(new c(y.Dj,y.Hl + w));}t.push(new c(y.Dj - 1,y.Hl));t.push(new c(y.Dj + 1,y.Hl));break;case l.du.QEa:for(w=1;w < d.HT;w++){t.push(new c(y.Dj,y.Hl - w));}t.push(new c(y.Dj - 1,y.Hl));t.push(new c(y.Dj + 1,y.Hl));break;case l.du.$lb:t.push(new c(y.Dj - 1,y.Hl));for(w=1;w <= d.HT / 2;w++){t.push(new c(y.Dj,y.Hl + w));t.push(new c(y.Dj,y.Hl - w));}break;case l.du.Ygb:for((t.push(new c(y.Dj + 1,y.Hl)),w=1);w <= d.HT / 2;w++){t.push(new c(y.Dj,y.Hl + w));t.push(new c(y.Dj,y.Hl - w));}}x=[];t.forEach(function(A){z=q(v,A.Dj,A.Hl);void 0 !== z && x.push(z);});this.uG(x,l.ow.kea);return this.YH(x.concat(this.Xj));};k.prototype.ZJb=function(t){this.V.log("ModelOne: handleDefaultCase");t=m(t.Fb,d.z9a,d.cTa);this.uG(t,l.ow.kea);return this.YH(t.concat(this.Xj));};k.prototype.B0b=function(t){return t.zA == l.ow.Ck | t.zA == l.ow.NKa & f() - t.UN < d.SKb;};k.prototype.YH=function(t){var w,v,y,x,z,A,B;w=[];v={};x=0;z=t.length;for(y=0;y < z;y++){A=t[y].J;B=t[y];!1 === (A in v)?(w.push(B),v[A]=x,x++):(A=w[v[A]],B.Lk < A.Lk && (A.Lk=B.Lk),B.zA > A.zA && (A.zA=B.zA),B.UN > A.UN && (A.UN=B.UN));}return w;};r.exports=k;},14845:function(r){function b(c,k){var f;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.og)return (this.og={},this.og[c]=[k],!0);f=this.og[c];return void 0 === f?(this.og[c]=[k],!0):0 > f.indexOf(k)?(f.push(k),!0):!1;}function a(c,k){c=this.og?this.og[c]:void 0;if(!c)return !1;c.forEach(function(f){f(k);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,k){var f;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.og)return !1;f=this.og[c];if(void 0 === f)return !1;k=f.indexOf(k);if(0 > k)return !1;if(1 === f.length)return (delete this.og[c],!0);f.splice(k,1);return !0;},wq:a,emit:a,removeAllListeners:function(c){this.og && (void 0 === c?delete this.og:delete this.og[c]);return this;}};},14828:function(r){function b(c,k,f,l){c.trace(":",f,":",l);k(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,k,f,l){f=l?f.bind(l):f;l=!1;if(c){this.console && (f=b.bind(null,this.console,f,k));if("function" === typeof c.addEventListener)l=c.addEventListener(k,f);else if("function" === typeof c.addListener)l=c.addListener(k,f);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,f]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var f,l;f=k[0];l=k[1];k=k[2];"function" === typeof f.removeEventListener?f.removeEventListener(l,k):"function" === typeof f.removeListener && f.removeListener(l,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},25660:function(r,b,a){r.exports={EventEmitter:a(14845),Re:a(14828)};},92997:function(r,b,a){var l,d,g,n,h,m,p;function c(q,u,t,w,v,y){this.O=this.J=q;this.priority=u;this.we=t;y && y.wd && (this.wd=y.wd);void 0 !== w && (this.GM=w);this.Lk=v;this.nb=y;}function k(q,u,t,w,v){g(void 0 !== w,"video preparer is null");g(void 0 !== v,"ui preparer is null");this.V=u || console;this.V=u;this.ja=t;this.Qpb=w;this.Gpb=v;this.KOa=m.Jsa;this.HJ=[];this.iga=!1;this.nQ=0;new p().on(m,"changed",f,this);this.reset();}function f(){this.V.log("config changed");m.Jsa && (this.KOa=m.Jsa);m.VU !== this.yJ && (this.reset(),this.Rta());}l=a(54138);d=a(47151);b=a(33887);g=b.assert;n=b.eXa;h=a(81079);m=a(78378).config;p=a(25660).Re;m.declare({Jsa:["ppmConfig",{D7b:{y5a:0,x5a:2,v5a:0,w5a:5,R$a:0},kac:{y5a:0,x5a:1,v5a:0,w5a:3,R$a:1E3},P7b:{y5a:0,x5a:1,v5a:0,w5a:3,R$a:1E3}}]});k.prototype.constructor=k;k.prototype.reset=function(){this.dfa=!0;this.yJ=m.VU;this.V.log("create model: " + m.VU,m.y9a,m.aTa);switch(m.VU){case "modelone":this.yJ=new h(this.V);break;default:this.yJ=new h(this.V);}};k.prototype.Rta=function(){var u,t;if(!1 === this.iga){this.iga=!0;for(var q=0;q < this.HJ.length;q++){this.V.log("PlayPredictionModel replay: ",JSON.stringify(this.HJ[q]));u=this.MTa(this.HJ[q]);t=this.SXa(u);this.yJ.update(u,t);this.dfa=!1;}this.HJ=[];}};k.prototype.update=function(q){var u,t,w;this.V.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Fb && q.Fb[0]){!1 === this.iga && this.HJ.length < m.VPb && this.HJ.push(q);u=this.MTa(q);t=this.SXa(u);this.V.log("actionType",t);u="mlmodel" == m.VU?this.yJ.update(q,t):this.yJ.update(u,t);u=this.UFb(u,m.wNb || 1);this.V.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(u));0 === this.nQ && (this.nQ=l(),this.ja && this.ja.eW && this.ja.eW({ZAb:this.nQ}));if(this.ja && this.ja.qYb){this.TGb();w=[];u.forEach(function(v){w.push({ygc:v.J});});JSON.stringify(q);JSON.stringify(u);}this.Qpb.UG(u);this.Gpb.UG(u);this.dfa=!1;}};k.prototype.TGb=function(){l();};k.prototype.eW=function(){this.nQ=l();this.ja && this.ja.eW && this.ja.eW({ZAb:this.nQ});};k.prototype.MTa=function(q){var u,t,w,v,y;u={};w=q.Fb || [];v=(function(x){var z,A;z={};y=d.jP.name.indexOf(x.context);z.context=0 <= y?y:d.jP.Iw;z.rowIndex=x.rowIndex;z.requestId=x.requestId;z.list=[];t=x.list || [];t.forEach((function(B){A={J:B.J,we:B.we,index:B.index,GM:B.GM,w8:B.w8,list:B.list,nb:B.nb};void 0 !== B.property && (y=d.AI.name.indexOf(B.property),A.property=0 <= y?y:d.AI.Iw);z.list.push(A);}).bind(this));u.Fb.push(z);}).bind(this);if(void 0 !== q.direction){y=d.du.name.indexOf(q.direction);u.direction=0 <= y?y:d.du.Iw;}void 0 !== q.OS && (u.Xcc=q.OS.rowIndex,u.Wcc=q.OS.cwb);u.OS=q.OS;u.Fb=[];w.forEach(v);return u;};k.prototype.SXa=function(q){var u,t,w;u=q.direction || d.du.Iw;t=q.OS;w=q.Fb || [];!0 === this.dfa?q=d.jw.BCa:!0 === w.some(this.EKb)?(q=d.jw.GP,this.Y8(w,u,t)):q=w[0].context === d.jP.B_?d.jw.B_:u === d.du.sKa || u === d.du.QEa?d.jw.MKa:d.jw.Iw;return q;};k.prototype.EKb=function(q){return (q.list || []).some(function(u){return u.property === d.AI.GP || u.property === d.AI.UAa;});};k.prototype.Y8=function(q,u,t){var w,v;this.V.log("reportPlayFocusEvent: ",u,t);w={};v=n(q);this.ja && this.ja.Y8 && (w.Mcc=l(),w.direction=d.du.name[u],t && (w.rowIndex=t.rowIndex,w.bTa=t.cwb),void 0 !== v.Dj && (w.requestId=q[v.Dj].requestId),this.ja.Y8 && this.ja.Y8(w));};k.prototype.UFb=function(q,u){for(var t=q.length,w=[],v,y,x,z,A=0;A < t;A++){y=q[A];v=Math.floor(A / u) + 1;if(void 0 !== y.list){x=y.list;z=x.length;for(var B=0;B < Math.min(m.Zvb,z) && !(x[B].Lk=y.Lk,this.cQa(x[B],v,w),w.length >= m.R3a);B++){;}}else this.cQa(y,v,w);if(w.length >= m.R3a)break;}return w;};k.prototype.cQa=function(q,u,t){var v,y;function w(x){x.wd && (x.nb || (x.nb={}),x.nb.wd=x.wd);return x.nb;}v=q.w8;if(void 0 !== v && v instanceof Array)v.forEach(function(x){void 0 !== x.J && (y=w(x),t.push(new c(x.J,u,x.we,x.GM,q.Lk,y)));});else if(void 0 !== v && void 0 !== v.J){v=q.w8;y=w(v);t.push(new c(v.J,u,v.we,v.GM,q.Lk,y));}void 0 !== q.J && (y=w(q),t.push(new c(q.J,u,q.we,q.GM,q.Lk,y)));};k.prototype.uF=function(q){var u;u=this.KOa;return q?u[q]:u;};r.exports=k;},33887:function(r,b,a){var k;function c(f){for(var l="",d=0;d < f.length;d++){l+=f[d].J + "|";}return l;}k=a(47151);r.exports={assert:function(f,l){if(!f)throw Error("PlayPredictionModel assertion failed" + (l?" : " + l:""));},Kdc:function(f,l,d){Array.prototype.splice.apply(f,[l,0].concat(d));},KGb:function(f){for(var l=[],d=0;d < f.length;d++){if(f[d].context === k.jP.kgb){l=f[d].list;break;}}return l;},tGb:function(f){for(var l=[],d=0;d < f.length;d++){if(f[d].context === k.jP.hfb){l=f[d].list;break;}}return l;},aBb:function(f,l){for(var d=0,g,n,h,m=0,p=f.length - 1;m < p;m++){g=c(f[m].list || []);h=!1;for(var q=0,u=l.length;q < u;q++){if((n=c(l[q].list || []),n == g)){h=!0;break;}}if(!1 === h){d=m;break;}}return d;},sSb:function(f,l,d){for(var g=[],n,h=0;h < Math.min(l,f.length);h++){n=f[h].list || [];g=g.concat(n.slice(0,d));}return g;},rSb:function(f,l){for(var d=[],g,n=0;n < f.length && (g=f[n].list || [],g=g.slice(0,Math.min(g.length,l)),l-=g.length,d=d.concat(g),0 !== l);n++){;}return d;},qSb:function(f,l,d){var g;l < f.length && 0 <= l && (f=f[l].list || [],d < f.length && (g=f[d]));return g;},eXa:function(f){for(var l={},d=f.length,g,n=0;n < d;n++){g=f[n].list || [];for(var h=0;h < g.length;h++){if(g[h].property === k.AI.GP || g[h].property === k.AI.UAa){l.Dj=n;l.Hl=h;break;}}}void 0 === l.Dj && void 0 === l.Hl && (l.Dj=0,l.Hl=0);return l;}};},69208:function(r,b,a){var n,h,m,p,q,u,t,w;function c(v){return v.split(",").reduce(function(y,x){var z;z=x.split("=");x=z[0];z=z.slice(1).join("=");x && x.length && (y[x]=z || !0);return y;},{});}function k(v){return v && "object" === typeof v?JSON.stringify(v):"string" === typeof v?'"' + v + '"':"" + v;}function f(v,y,x){var z;if("string" === typeof v)return f.call(this,c(v),y,x);z=0;Object.keys(v).forEach(function(A){var B,C,D;B=q[A];C=v[A];if(B){if(D=u[A] || w[typeof n[B]])try{C=D(C);}catch(F){x && x.error("Failed to convert value '" + C + "' for config '" + A + "' : " + F.toString());return;}D=p[B];this[B]=C;p[B] !== D && (x && x.debug("Config changed for '" + A + "' from " + k(D) + " (" + typeof D + ") to " + k(C) + " (" + typeof C + ")"),++z);}else y?(B=(B=t[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,C]),t[A]=B):x && x.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function l(){return Object.keys(q).reduce(function(v,y){var x,z;x=q[y];z=v[x];z?(z.push(y),v[x]=z.sort(function(A,B){return B.length - A.length;})):v[x]=[y];return v;},{});}function d(v,y){return v.hasOwnProperty(y)?k(v[y]):void 0;}function g(v,y){return "undefined" === typeof v?y:v;}b=a(6328);a=a(30810).EventEmitter;n={};h=Object.create(n);m=Object.create(h);p=Object.create(m);q={};u={};t={};p.declare=function(v){Object.keys(v).forEach(function(y){var x,z,A,B;x=v[y];z=x[0];A=x[1];B=x[2];if(n.hasOwnProperty(y))throw Error("The local configuraion key '" + y + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(C){var D;if(q.hasOwnProperty(C))throw Error("The configuration value '" + C + "' has been declared more than once");n.hasOwnProperty(y) || ("function" === typeof A && (A=A()),n[y]=A);q[C]=y;"function" === typeof B && (u[C]=B);if(D=t[C])(D.forEach(function(F){var G,E;G=F[0];E={};E[C]=F[1];f.call(G,E,!1);}),delete t[C]);});});return p;};w={object:function(v){return "object" == typeof v?v:JSON.parse("" + v);},"boolean":function(v){return "boolean" == typeof v?v:!("0" === "" + v || "false" === ("" + v).toLowerCase());},number:function(v){if("number" == typeof v)return v;v=parseFloat("" + v);if(isNaN(v))throw Error("parseFloat returned NaN");return v;}};p.set=f.bind(h);p.tV=f.bind(m);p.dump=function(v,y){var z,A,B,C;function x(){C && v && v.log("===========================================");}z=Object.keys(t).sort();A={};B=l();y=g(y,!0);Object.keys(q).sort().forEach(function(D){var F,G,E;D=q[D];if(!A[D]){A[D]=!0;F=d(h,D);G=d(m,D);if(y || "undefined" !== typeof F || "undefined" !== typeof G){E=B[D].join(",");E+=" = " + k(p[D]) + " (" + typeof p[D] + ") [";E+=g(G,"<unset>") + ",";E+=g(F,"<unset>") + ",";E+=d(n,D) + "]";C || (C=!0,v && v.log("Current config values"),x());v && v.log(E);}}});(y || z.length) && v && v.log("<undeclared> :",z);x();};p.En=function(v){var y,x;y={};x={};Object.keys(q).forEach(function(z){z=q[z];x[z] || (x[z]=!0,y[z]=p[z]);});v && f.call(y,v);return y;};p.G6a=function(){var v;v=l();return Object.getOwnPropertyNames(h).reduce(function(y,x){y[v[x][0]]=h[x];return y;},{});};p.reset=function(){Object.keys(h).forEach(function(v){delete h[v];});};p.og={};b(a,p);r.exports=Object.freeze(p);},46152:function(r){function b(c,k){var f;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.og)return (this.og={},this.og[c]=[k],!0);f=this.og[c];return void 0 === f?(this.og[c]=[k],!0):0 > f.indexOf(k)?(f.push(k),!0):!1;}function a(c,k){c=this.og?this.og[c]:void 0;if(!c)return !1;c.forEach(function(f){f(k);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,k){var f;if(void 0 === k || "function" !== typeof k || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.og)return !1;f=this.og[c];if(void 0 === f)return !1;k=f.indexOf(k);if(0 > k)return !1;if(1 === f.length)return (delete this.og[c],!0);f.splice(k,1);return !0;},wq:a,emit:a,removeAllListeners:function(c){this.og && (void 0 === c?delete this.og:delete this.og[c]);return this;}};},1471:function(r){function b(c,k,f,l){c.trace(":",f,":",l);k(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,k,f,l){f=l?f.bind(l):f;l=!1;if(c){this.console && (f=b.bind(null,this.console,f,k));if("function" === typeof c.addEventListener)l=c.addEventListener(k,f);else if("function" === typeof c.addListener)l=c.addListener(k,f);else throw Error("Emitter does not have a function to add listeners for '" + k + "'");this.listeners.push([c,k,f]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(k){var f,l;f=k[0];l=k[1];k=k[2];"function" === typeof f.removeEventListener?f.removeEventListener(l,k):"function" === typeof f.removeListener && f.removeListener(l,k);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},30810:function(r,b,a){r.exports={EventEmitter:a(46152),Re:a(1471)};},5130:function(r,b,a){var f,l,d,g;function c(n,h,m){void 0 === m && (m=0);return n.displayTime - m <= h && h < n.displayTime + n.duration;}function k(n,h){for(var m=0;m < n.length;m++){if(h(n[m],m,n))return n[m];}}Object.defineProperty(b,"__esModule",{value:!0});b.yc=b.Pfb=b.Yya=void 0;f=a(70655);l=a(91854);d=a(28075);r=(function(n){function h(m,p,q,u,t,w,v,y){var x,z,A;x=this;x=n.call(this) || this;x.pnb=m;x.tQ=p;x.vnb=q;x.la=u;x.Ys=t;x.Jma=w;x.g8=v;x.options=y;x.mj=[];x.Ii=[];x.Gi=[];x.tsa=new d.Re();x.Lua=new d.Re();x.z2=new d.Re();x.Pz=new g(function(){return p(m());},x.la,(null === (z=x.options) || void 0 === z?void 0:z.ha) || !1);x.Pz.events.on("bufferingcomplete",function(){var B;x.la.trace("AseTimer:Received buffering complete from watcher");null === (B=x.ym) || void 0 === B?void 0:B.Sf();x.nra();});x.Pz.Isa();x.V$a();x.tsa.on(x.g8,"segmentPresenting",function(){x.R5a();});x.tsa.on(x.g8,"taskSchedulerChanged",function(){x.V$a();});null === (A=x.ym) || void 0 === A?void 0:A.Pa();return x;}f.__extends(h,n);Object.defineProperty(h.prototype,"_buffering",{get:function(){return this.Pz.HR;},enumerable:!1,configurable:!0});h.prototype.e2b=function(){var m,p,q,u,t,w,v,y,x,z,A,B,C,D;D=this;return f.__generator(this,function(F){switch(F.label){case 0:this.la.trace("AseTimer:Starting subtitle worker");if(this.Ys())return (this.la.trace("Paused: exiting"),[2]);m=function(){return D.Jd.qa.currentTime.G;};p=this.pnb;this.Gi=this.Ii.concat(this.mj);this.I7a(p(),!0);F.label=1;case 1:if(!this.Gi.length)return [3,3];u=q=p();this.zSa(q);try{for((t=(B=void 0,f.__values(this.Gi)),w=t.next());!w.done;w=t.next()){v=w.value;this.la.trace(("AseTimer:Checking subtitle ").concat(v.id));q >= v.displayTime + v.duration || (c(v,q,this.options.egc)?(this.la.trace(("AseTimer:Showing subtitle ").concat(v.id)),this.TVb(v),u=Math.max(q,v.displayTime)):(this.la.trace(("AseTimer:Staging subtitle ").concat(v.id)),this.Qva(v)));}}catch(G){B={error:G};}finally{try{w && !w.done && (C=t.return) && C.call(t);}finally{if(B)throw B.error;}}y=this.hub(u);if(!isFinite(y))return (this.Pz.Isa(),[3,3]);x=m();z=this.vnb(y,q);if(void 0 === z)return [3,3];A=Math.max(z,10) + x;this.la.trace(("AseTimer:Sleeping till PlayerTime ").concat(A));return [4,l.Pg.Qt(l.N.Ma(A))];case 2:return (F.Qa(),this.I7a(p()),[3,1]);case 3:return (this.la.trace(("AseTimer:Checking removed subtitles one more time ").concat(p())),this.zSa(p()),this.la.trace("AseTimer:Ending subtitle worker"),[2]);}});};h.prototype.I7a=function(m,p){var q,u,t,w,v;u=this;void 0 === p && (p=!1);t=p || !this.mj.length;t || (t=this.Gi[this.Gi.length - 1].displayTime > m);if(t){this.la.trace(("AseTimer:Getting subtitles for ").concat(m),{bcc:this.Jd.qa.currentTime});w=this.tQ(m);if(w){this.la.trace(("AseTimer:Received ").concat(w.length," subtitles"));t=function(A){k(v.Gi,function(B){return B.id === A.id;}) || m >= A.displayTime + A.duration || (v.la.trace(("AseTimer:adding ").concat(A.id),{start:A.startTime,ucc:A.displayTime,end:A.endTime,Ccc:A.duration}),v.Gi.push(A));};v=this;try{for(var y=f.__values(w),x=y.next();!x.done;x=y.next()){t(x.value);}}catch(A){var z;z={error:A};}finally{try{x && !x.done && (q=y.return) && q.call(y);}finally{if(z)throw z.error;}}p && this.Gi.filter(function(A){return !k(w,function(B){return B.id === A.id;});}).forEach(function(A){return u.mV(A);});this.Gi.length || this.Pz.Isa();}else this.sh();}};h.prototype.stop=function(){var m;this.la.trace("AseTimer:Stop");null === (m=this.ym) || void 0 === m?void 0:m.Pa();this.Pz.reset();this.S8();this.tsa.clear();this.Lua.clear();this.z2.clear();};h.prototype.S8=function(){var m,p,q,u;this.la.trace("AseTimer:Removing all",this.Ii.length);u=this.Ii;try{for(var t=f.__values(u),w=t.next();!w.done;w=t.next()){this.mV(w.value);}}catch(y){var v;v={error:y};}finally{try{w && !w.done && (m=t.return) && m.call(t);}finally{if(v)throw v.error;}}this.Ii=[];if(null === (p=this.ym) || void 0 === p?0:p.a1a)null === (q=this.ym) || void 0 === q?void 0:q.Pa();};h.prototype.pause=function(){var m;null === (m=this.ym) || void 0 === m?void 0:m.Pa();};h.prototype.hz=function(){var m,p,q,u;(null === (m=this.ym) || void 0 === m?void 0:m.state) !== l.Ek.complete && (null === (p=this.ym) || void 0 === p?void 0:p.state) !== l.Ek.XE || this.Ys() || (null === (q=this.ym) || void 0 === q?void 0:q.Sf());this.vn && this.Pz.check();this.Ys() && (null === (u=this.ym) || void 0 === u?void 0:u.Pa());};h.prototype.V$a=function(){var m;m=this;this.la.trace("Setting up new task scheduler");(this.Jd=this.Jma())?(this.Lua.clear(),this.Lua.on(this.Jd,"clockChanged",function(){return m.G5a();}),this.ym=this.Jd.Hx(function(){return m.e2b();},"subtitleWorker"),this.G5a()):this.la.warn("AseTimer: no player task scheduler");};h.prototype.hub=function(m){var p;return null !== (p=this.Gi.map(function(q){return [q.displayTime,q.displayTime + q.duration + 1];}).reduce(function(q,u){return q.concat(u);},[]).filter(function(q){return q > m;}).sort(function(q,u){return q - u;})[0]) && void 0 !== p?p:Infinity;};h.prototype.G5a=function(){var m,p,q;m=this;this.z2.clear();(null === (p=this.Jd) || void 0 === p?0:p.qa)?(this.la.trace("onClockChanged: clock listeners registered"),this.z2.on(this.Jd.qa,"clockAdjusted",function(u){u.reason === l.wz.wH && m.R5a();}),this.z2.on(this.Jd.qa,"stopStart",function(){var u;null === (u=m.ym) || void 0 === u?void 0:u.Sf();})):this.la.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (q=this.ym) || void 0 === q?void 0:q.Sf();};h.prototype.R5a=function(){var m,p;this.la.trace("Timeline changed");this.S8();this.Ys()?null === (p=this.ym) || void 0 === p?void 0:p.Pa():null === (m=this.ym) || void 0 === m?void 0:m.Sf();};h.prototype.Qva=function(m){-1 === this.mj.indexOf(m) && this.oTb(m);};h.prototype.zSa=function(m){var p,q,w;q=this.Ii.concat(this.mj);try{for(var u=f.__values(q),t=u.next();!t.done;t=u.next()){w=t.value;m >= w.displayTime + w.duration && this.mV(w);}}catch(y){var v;v={error:y};}finally{try{t && !t.done && (p=u.return) && p.call(u);}finally{if(v)throw v.error;}}};h.prototype.TVb=function(m){-1 === this.Ii.indexOf(m) && (this.Ii.push(m),-1 !== this.mj.indexOf(m) && (this.mj=this.mj.filter(function(p){return p !== m;})),this.Dra(m));};h.prototype.Dra=function(m){this.la.trace("AseTimer:Showing",m.id);this.emit("showsubtitle",m);};h.prototype.oTb=function(m){this.la.trace("AseTimer:Staging",m.id);this.mj.push(m);this.emit("stagesubtitle",m);};h.prototype.sh=function(){this.la.trace("AseTimer:onUnderflow",this.vn);this.vn || (this.emit("underflow"),this.Pz.sh());};h.prototype.mV=function(m){this.la.trace("AseTimer:Removing",m.id);-1 !== this.mj.indexOf(m) && (this.mj=this.mj.filter(function(p){return p !== m;}));-1 !== this.Ii.indexOf(m) && (this.emit("removesubtitle",m),this.Ii=this.Ii.filter(function(p){return p !== m;}));this.Gi=this.Gi.filter(function(p){return p !== m;});};h.prototype.nra=function(){var m;this.Gi.length && (this.emit("bufferingComplete"),this.Ys() || (null === (m=this.ym) || void 0 === m?void 0:m.Sf()));};return h;})(d.EventEmitter);b.Yya=r;g=(function(){function n(h,m,p){void 0 === p && (p=!1);this.tQ=h;this.la=m;this.vfa=p;this.events=new d.EventEmitter();this.vn=!1;}Object.defineProperty(n.prototype,"buffering",{get:function(){return this.vn;},enumerable:!1,configurable:!0});n.prototype.Isa=function(){var h;h=this;this.la.trace("AseTimer:Buffering watcher restart");this.vn=!0;this.Sob=this.vfa?setInterval(function(){return h.check();},500):setInterval(function(){return h.check();},2E4);};n.prototype.sh=function(){this.la.trace("AseTimer:Buffering watcher underflow");this.vn=!0;this.DSa(1);};n.prototype.reset=function(){this.la.trace("AseTimer:Buffering watcher reset");clearInterval(this.Sob);clearTimeout(this.Ipb);this.vn=!1;};n.prototype.DSa=function(h){var m;m=250 * (1 << h);2E3 < m && (m=2E3);this.check();this.vn && (this.Ipb=setTimeout(this.DSa.bind(this,h + 1),m));};n.prototype.check=function(){var h;h=this.tQ();this.la.trace("AseTimer:Buffering complete check",null === h || void 0 === h?void 0:h.length);null !== h && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",DC:h}));};return n;})();b.Pfb=g;b.yc=k;},14505:function(r,b,a){var v,y,x,z,A,B,C,D,F;function c(G,E){var J,L;J=this;L=G.styles || ({});return {startTime:E.startTime,id:E.id,endTime:E.endTime,displayTime:E.displayTime,duration:E.duration,blocks:E.blocks.map(function(N){var I;I=z.kzb(G,N);return {textNodes:N.textNodes.map(w.bind(J,L)),region:I,id:N.id};})};}function k(G){if(!Array.isArray(G))throw Error("last called on non-array: " + G);return G[G.length - 1];}function f(G,E){var J,L,N,I,O,K;J=y.nf(!0);L={};N=[];I=null;O=[];K={};J.onerror=function(H){E(H,null);};J.onend=function(){E(null,L);};J.onclosetag=function(){N.pop();};J.onopentag=function(H){var M,R,Y,ea;M=H.attributes;R=H.name;Y=L.regions;ea=L.styles;N.push(H);if("tt" === R)L=q(M);else if("body" === R)"undefined" !== typeof M.style && (L.defaultStyle=M.style,O.push(M.style));else if("initial" === R && t(N,"styling"))(K=u(M,B),L.initialStyle=K);else if("style" === R && t(N,"styling")){Y=M["xml:id"];H=K;M=u(M,B);if(Object.keys(H).length)for(var ca in H){"undefined" === typeof M[ca] && (M[ca]=H[ca]);}ea[Y]=M;}else "style" === R && t(N,"region")?(ea=Object.keys(M)[0],"string" === typeof ea && (Y[I][ea.slice(4)]=M[ea])):"region" === R && t(N,"layout") && (I=M["xml:id"],Y[I]=u(M,D));};setTimeout(function(){var H;for(J.write(G);0 < N.length && !J.error;){H=k(N).name;J.write("</" + H + ">");}J.close();},10);}function l(G,E){var J;J=G.filter(function(L){return L.startTime <= E && E <= L.endTime;});G=G.filter(function(L){return L.startTime > E;});return 0 < G.length?J.concat([G[0]]):J;}function d(){}function g(G){var E,J,L,N;E=G.preferences;J=G.Lf;L=G.we;N=G.la;if(!G.xml && !G.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");v.call(this);this.ae=this.mfa=null;this.dx="object" === typeof E?G.preferences:{};this.Uw="object" === typeof J?G.Lf:{};this.Hk="number" === typeof L?G.we:0;this.lE=G.xml || "";this.ja="object" === typeof N?G.la:F;this.dE=G.request;this.Xf=G.url;this.tf=[];this.Vj=this.Hk;this.md=null;this.um=this.wn=!1;this.FD=G.UV || 0;}function n(G,E){return G && "object" === typeof G[E] && null !== G[E]?G[E]:{};}function h(G,E){return G !== E && !(G && 0 === Object.keys(G).length && E && 0 === Object.keys(E).length);}function m(){var G,E,J;G=this;E=G.lE.indexOf("<p");if(-1 < E){J=G.lE.slice(0,E);f(J,function(L,N){null !== L?(L.Q_a=J,G.emit("error",L)):(G.mfa=N,G.ae=new x(G.lE,N.tickRate),p.call(G,G.Hk));});}else G.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function p(G){var E,J,L,N,I,O,K,H;E=this;J=E.mfa;L=0;N=[];I=J.defaultStyle?[J.defaultStyle]:[];O=J.lang?[J.lang]:[];E.ja.info("parsing the next 5 entries...");K=E.ae.lIb(G);E.ja.debug(K);H=y.nf(!0);H.onerror=function(M){M.xml=K;E.emit("error",M);};H.onend=function(){var M;M=E.tf.reduce(function(R,Y){Y=Y.blocks.reduce(function(ea,ca){return ea.concat([ca.id]);},[]);return R.concat(Y);},[]);N.forEach(function(R){var Y;if(-1 === M.indexOf(R.id)){Y=R && R.blocks && R.blocks.filter(function(ea){return 0 < ea.textNodes.length;});Y && 0 < Y.length && (R.blocks=Y,E.tf.push(R));}});E.um=!1;E.wn || (E.wn=!0,E.emit("ready"));};H.ontext=function(M){("" !== M.trim() || M.match(/ +/)) && k(k(N).blocks).textNodes.push({text:M.match(/ +/) || "ja" === k(O)?M:M.trim(),style:k(I),lang:k(O),lineBreaks:L});L=0;};H.onclosetag=function(){var M;M=H.tag;"undefined" !== typeof M.attributes.style && I.pop();"undefined" !== typeof M.attributes["xml:lang"] && O.pop();};H.onopentag=function(M){var R,Y,ea,ca,oa;R=M.attributes;Y=M.name;M=J.tickRate;if("p" === Y){L=0;Y=R["xml:id"];R.style && I.push(R.style);R["xml:lang"] && O.push(R["xml:lang"]);ea=Math.floor(parseInt(R.begin) / M * 1E3);if(0 === N.length || k(N).displayTime !== ea){ea=N.push;ca={};oa=parseInt(R.begin) / M;M=parseInt(R.end) / M;ca.id=Y;ca.startTime=Math.floor(1E3 * oa);ca.endTime=Math.floor(1E3 * M);ca.style=R.style;ca.region=R.region;ca.displayTime=ca.startTime;ca.duration=ca.endTime - ca.startTime;ca.extent=R["tts:extent"] || null;ca.origin=R["tts:origin"] || null;ca.latestEndSoFar=0 > ca.endTime?0:ca.endTime;ca.blocks=[{textNodes:[],region:ca.region,id:Y,extent:ca.extent,origin:ca.origin}];ea.call(N,ca);}else k(N).blocks.push({textNodes:[],region:R.region,id:Y,extent:R["tts:extent"] || null,origin:R["tts:origin"] || null});}else "span" === Y?(I.push(R.style),R["xml:lang"] && O.push(R["xml:lang"]),M=J.styles[R.style],R.style && M && M.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(M.ruby) && k(k(N).blocks).textNodes.push({text:"",style:k(I),lang:k(O),lineBreaks:0})):"br" === Y && L++;};H.write("<entries>").write(K).write("</entries>").close();}function q(G){var E;G=u(G,C);if("string" === typeof G.extent){E=G.extent.split(" ").map(function(J){return parseInt(J,10);});G.width=E[0];G.height=E[1];}else (G.width=1280,G.height=720);G.aspectRatio=G.width / G.height;"string" === typeof G.cellResolution?(E=G.cellResolution.split(" ").map(function(J){return parseInt(J,10);}),G.cellResolution={},G.cellResolution.x=E[0],G.cellResolution.y=E[1]):G.cellResolution={x:52,y:19};return G;}function u(G,E){var J;J={};E.forEach(function(L){"undefined" !== typeof G["tts:" + L]?J[L]=G["tts:" + L]:"undefined" !== typeof G["ttp:" + L]?J[L]=G["ttp:" + L]:"undefined" !== typeof G["ebutts:" + L]?J[L]=G["ebutts:" + L]:"undefined" !== typeof G["xml:" + L] && (J[L]=G["xml:" + L]);});J.styles={};J.regions={};return J;}function t(G,E){var J;for(J=G.length - 1;0 <= J;J--){if(G[J].name === E)return !0;}return !1;}function w(G,E){return {lineBreaks:E.lineBreaks,text:E.text,lang:E.lang,style:A.ozb(G[E.style] || ({}),this.Uw,this.dx),id:E.id};}v=a(17187).EventEmitter;y=a(93419);x=a(98310);z=a(62594);A=a(83032);B=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline textCombine multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear").split(" ");C=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");D=("backgroundColor displayAlign extent origin position writingMode multiRowAlign").split(" ");F={info:d,debug:d};b=Object.create(v.prototype);g.prototype=b;b.start=function(){var G;G=this;G.ja.info("incremental text stream created, starting at pts " + G.Hk);G.lE?m.call(G):G.dE({url:G.Xf},function(E,J){G.lE=J;m.call(G);});};b.cB=function(G){var E,J,L;E=this;G < E.Vj - E.FD && (E.tf=[]);J=E.tf;L=0 < J.length?J[J.length - 1].startTime:G;E.Vj=G;for(!E.md && 5 > E.tf.length && !E.um && (E.ja.info("buffer size: " + E.tf.length + "; minimum: 5"),E.um=!0,E.md=setTimeout(function(){E.md=null;p.call(E,L + 1);},10));0 < J.length && J[0].endTime < G;){J.shift();}J=l(J,G).map(c.bind(E,E.mfa));G < E.ae.XWa() && 0 === J.length && (J=null);return J;};b.Pl=function(G,E){return this.ae?this.ae.Pl(G,E):0;};b.close=function(){};b.LC=function(G){var E;E=n(G,"preferences");G=n(G,"defaults");return h(E,this.dx) || h(G,this.Uw)?(this.dx=E,this.Uw=G,!0):!1;};r.exports={Wba:g,v6a:f,Rd:k,z4:l,h3:c,LC:b.LC};},93419:function(r){var w,v,y,x,z,A,B,C,D,F,G,E,J,L,N,I,O;function b(){}function a(K,H){if(!(this instanceof a))return new a(K,H);for(var M=0,R=v.length;M < R;M++){this[v[M]]="";}this.q=this.c=this.Om=this.textNode="";this.KRa=w.uca;this.Zm=H || ({});this.Zm.i3a=this.Zm.i3a || this.Zm.cec;this.Gpa=this.Zm.i3a?"toLowerCase":"toUpperCase";this.zi=[];this.closed=this.PR=this.rN=!1;this.tag=this.error=null;this.em=!!K;this.n5a=!(!K && !this.Zm.n5a);this.state=O.Eaa;this.uw=(this.Vab=this.Zm.Vab)?Object.create(w.kmb):Object.create(w.uw);this.sA=[];this.Zm.VX && (this.yj=Object.create(L));if(this.s$=!1 !== this.Zm.position)this.position=this.line=this.QR=0;this.onready && this.onready(void 0);}function c(K,H){var M;if(!(this instanceof c))return new c(K,H);b.apply(this);this.bx=new a(K,H);this.readable=this.writable=!0;M=this;this.bx.onend=function(){M.emit("end");};this.bx.onerror=function(R){M.emit("error",R);M.bx.error=null;};y.forEach(function(R){Object.defineProperty(M,"on" + R,{get:function(){return M.bx["on" + R];},set:function(Y){if(!Y)return (M.removeAllListeners(R),M.bx["on" + R]=Y);M.on(R,Y);},enumerable:!0,configurable:!1});});}function k(K){return K.split("").reduce(function(H,M){H[M]=!0;return H;},{});}function f(K,H){return "[object RegExp]" === Object.prototype.toString.call(K)?!!H.match(K):K[H];}function l(K,H,M){K.textNode && d(K);K[H] && K[H](M);}function d(K){K.textNode=g(K.Zm,K.textNode);K.textNode && K.ontext && K.ontext(K.textNode);K.textNode="";}function g(K,H){K.trim && (H=H.trim());K.normalize && (H=H.replace(/\s+/g," "));return H;}function n(K,H){d(K);K.s$ && (H+="\nLine: " + K.line + "\nColumn: " + K.QR + "\nChar: " + K.c);H=Error(H);K.error=H;K.onerror && K.onerror(H);return K;}function h(K){K.rN && !K.PR && m(K,"Unclosed root tag");K.state !== O.Eaa && K.state !== O.Faa && K.state !== O.Ya && n(K,"Unexpected end");d(K);K.c="";K.closed=!0;K.onend && K.onend(void 0);a.call(K,K.em,K.Zm);return K;}function m(K,H){if("object" !== typeof K || !(K instanceof a))throw Error("bad call to strictFail");K.em && n(K,H);}function p(K,H){var M,R;M=0 > K.indexOf(":")?["",K]:K.split(":");R=M[0];M=M[1];H && "xmlns" === K && (R="xmlns",M="");return {prefix:R,local:M};}function q(K){var H,M,R;K.em || (K.Ki=K.Ki[K.Gpa]());if(-1 !== K.sA.indexOf(K.Ki) || K.tag.attributes.hasOwnProperty(K.Ki))return K.Ki=K.Li="";if(K.Zm.VX){H=p(K.Ki,!0);M=H.local;if("xmlns" === H.prefix)if("xml" === M && K.Li !== E)m(K,"xml: prefix must be bound to " + E + "\nActual: " + K.Li);else if("xmlns" === M && K.Li !== J)m(K,"xmlns: prefix must be bound to " + J + "\nActual: " + K.Li);else {H=K.tag;R=K.zi[K.zi.length - 1] || K;H.yj === R.yj && (H.yj=Object.create(R.yj));H.yj[M]=K.Li;}K.sA.push([K.Ki,K.Li]);}else (K.tag.attributes[K.Ki]=K.Li,l(K,"onattribute",{name:K.Ki,value:K.Li}));K.Ki=K.Li="";}function u(K,H){var M,R,ea,ca,oa,Ga,Fa;if(K.Zm.VX){M=K.tag;R=p(K.tagName);M.prefix=R.prefix;M.local=R.local;M.uri=M.yj[R.prefix] || "";M.prefix && !M.uri && (m(K,"Unbound namespace prefix: " + JSON.stringify(K.tagName)),M.uri=R.prefix);R=K.zi[K.zi.length - 1] || K;M.yj && R.yj !== M.yj && Object.keys(M.yj).forEach(function(Ja){l(K,"onopennamespace",{prefix:Ja,uri:M.yj[Ja]});});R=0;for(var Y=K.sA.length;R < Y;R++){ea=K.sA[R];ca=ea[0];oa=ea[1];Ga=p(ca,!0);ea=Ga.prefix;Fa="" == ea?"":M.yj[ea] || "";oa={name:ca,value:oa,prefix:ea,local:Ga.local,uri:Fa};ea && "xmlns" != ea && !Fa && (m(K,"Unbound namespace prefix: " + JSON.stringify(ea)),oa.uri=ea);K.tag.attributes[ca]=oa;l(K,"onattribute",oa);}K.sA.length=0;}K.tag.Sdc=!!H;K.rN=!0;K.zi.push(K.tag);l(K,"onopentag",K.tag);H || (K.state=K.n5a || "script" !== K.tagName.toLowerCase()?O.Ya:O.TI,K.tag=null,K.tagName="");K.Ki=K.Li="";K.sA.length=0;}function t(K){var H,M,Y;if(K.tagName){if(K.Jj){if("script" !== K.tagName){K.Jj+="</" + K.tagName + ">";K.tagName="";K.state=O.TI;return;}l(K,"onscript",K.Jj);K.Jj="";}H=K.zi.length;M=K.tagName;K.em || (M=M[K.Gpa]());for(var R=M;H--;){if(K.zi[H].name !== R)m(K,"Unexpected close tag");else break;}if(0 > H)(m(K,"Unmatched closing tag: " + K.tagName),K.textNode+="</" + K.tagName + ">");else {K.tagName=M;for(M=K.zi.length;M-- > H;){Y=K.tag=K.zi.pop();K.tagName=K.tag.name;l(K,"onclosetag",K.tagName);for(var ea in Y.yj){;}R=K.zi[K.zi.length - 1] || K;K.Zm.VX && Y.yj !== R.yj && Object.keys(Y.yj).forEach(function(ca){l(K,"onclosenamespace",{prefix:ca,uri:Y.yj[ca]});});}0 === H && (K.PR=!0);K.tagName=K.Li=K.Ki="";K.sA.length=0;}}else (m(K,"Weird empty close tag."),K.textNode+="</>");K.state=O.Ya;}w={nf:function(K,H){return new a(K,H);}};w.O$b=a;w.P$b=c;w.kUa=function(K){return new c(K,void 0);};w.uca=65536;v=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");w.Bk=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(K){function H(){this.__proto__=K;}H.prototype=K;return new H();});Object.getPrototypeOf || (Object.getPrototypeOf=function(K){return K.__proto__;});Object.keys || (Object.keys=function(K){var H,M;H=[];for(M in K){K.hasOwnProperty(M) && H.push(M);}return H;});a.prototype={end:function(){h(this);},write:function(K){var Y,ea,ca,oa,Ga,Fa;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === K)return h(this);if(this.error)throw this.error;for(var H=0,M;this.c=M=K.charAt(H++);){switch((this.s$ && (this.position++,"\n" === M?(this.line++,this.QR=0):this.QR++),this.state)){case O.Eaa:if((this.state=O.Faa,"\ufeff" === M))continue;case O.Faa:"<" === M?(this.state=O.Pca,this.Xva=this.position):f(x,M) || (m(this,"Non-whitespace before first tag."),this.textNode=M,this.state=O.Ya);continue;case O.Ya:if(this.rN && !this.PR){for(var R=H - 1;M && "<" !== M && "&" !== M;){(M=K.charAt(H++)) && this.s$ && (this.position++,"\n" === M?(this.line++,this.QR=0):this.QR++);}this.textNode+=K.substring(R,H - 1);}"<" !== M || this.rN && this.PR && !this.em?(f(x,M) || this.rN && !this.PR || m(this,"Text data outside of root node."),"&" === M?this.state=O.jea:this.textNode+=M):(this.state=O.Pca,this.Xva=this.position);continue;case O.TI:"<" === M?this.state=O.LKa:this.Jj+=M;continue;case O.LKa:"/" === M?this.state=O.Taa:(this.Jj+="<" + M,this.state=O.TI);continue;case O.Pca:"!" === M?(this.state=O.Sda,this.pr=""):f(x,M) || (f(N,M)?(this.state=O.pHa,this.tagName=M):"/" === M?(this.state=O.Taa,this.tagName=""):"?" === M?(this.state=O.QHa,this.B8=this.ZG=""):(m(this,"Unencoded <"),this.Xva + 1 < this.position && (M=Array(this.position - this.Xva).join(" ") + M),this.textNode+="<" + M,this.state=O.Ya));continue;case O.Sda:(this.pr + M).toUpperCase() === F?(l(this,"onopencdata"),this.state=O.lY,this.Gl=this.pr=""):"--" === this.pr + M?(this.state=O.oY,this.pr=this.Il=""):(this.pr + M).toUpperCase() === G?(this.state=O.tY,(this.doctype || this.rN) && m(this,"Inappropriately located doctype declaration"),this.pr=this.doctype=""):">" === M?(l(this,"onsgmldeclaration",this.pr),this.pr="",this.state=O.Ya):(f(B,M) && (this.state=O.OKa),this.pr+=M);continue;case O.OKa:M === this.q && (this.state=O.Sda,this.q="");this.pr+=M;continue;case O.tY:">" === M?(this.state=O.Ya,l(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=M,"[" === M?this.state=O.bba:f(B,M) && (this.state=O.YAa,this.q=M));continue;case O.YAa:this.doctype+=M;M === this.q && (this.q="",this.state=O.tY);continue;case O.bba:this.doctype+=M;"]" === M?this.state=O.tY:f(B,M) && (this.state=O.XAa,this.q=M);continue;case O.XAa:this.doctype+=M;M === this.q && (this.state=O.bba,this.q="");continue;case O.oY:"-" === M?this.state=O.aAa:this.Il+=M;continue;case O.aAa:"-" === M?(this.state=O.$za,(this.Il=g(this.Zm,this.Il)) && l(this,"oncomment",this.Il),this.Il=""):(this.Il+="-" + M,this.state=O.oY);continue;case O.$za:">" !== M?(m(this,"Malformed comment"),this.Il+="--" + M,this.state=O.oY):this.state=O.Ya;continue;case O.lY:"]" === M?this.state=O.Rza:this.Gl+=M;continue;case O.Rza:"]" === M?this.state=O.Sza:(this.Gl+="]" + M,this.state=O.lY);continue;case O.Sza:">" === M?(this.Gl && l(this,"oncdata",this.Gl),l(this,"onclosecdata"),this.Gl="",this.state=O.Ya):"]" === M?this.Gl+="]":(this.Gl+="]]" + M,this.state=O.lY);continue;case O.QHa:"?" === M?this.state=O.bda:f(x,M)?this.state=O.ada:this.B8+=M;continue;case O.ada:if(!this.ZG && f(x,M))continue;else "?" === M?this.state=O.bda:this.ZG+=M;continue;case O.bda:">" === M?(l(this,"onprocessinginstruction",{name:this.B8,body:this.ZG}),this.B8=this.ZG="",this.state=O.Ya):(this.ZG+="?" + M,this.state=O.ada);continue;case O.pHa:if(f(I,M))this.tagName+=M;else {this.em || (this.tagName=this.tagName[this.Gpa]());R=this.zi[this.zi.length - 1] || this;Y=this.tag={name:this.tagName,attributes:{}};this.Zm.VX && (Y.yj=R.yj);this.sA.length=0;">" === M?u(this):"/" === M?this.state=O.g_:(!f(x,M) && m(this,"Invalid character in tag name"),this.state=O.hI);}continue;case O.g_:">" === M?(u(this,!0),t(this)):(m(this,"Forward-slash in opening tag not followed by >"),this.state=O.hI);continue;case O.hI:if(f(x,M))continue;else ">" === M?u(this):"/" === M?this.state=O.g_:f(N,M)?(this.Ki=M,this.Li="",this.state=O.aY):m(this,"Invalid attribute name");continue;case O.aY:"=" === M?this.state=O.faa:">" === M?(m(this,"Attribute without value"),this.Li=this.Ki,q(this),u(this)):f(x,M)?this.state=O.Qxa:f(I,M)?this.Ki+=M:m(this,"Invalid attribute name");continue;case O.Qxa:if("=" === M)this.state=O.faa;else if(f(x,M))continue;else (m(this,"Attribute without value"),this.Li=this.tag.attributes[this.Ki]="",l(this,"onattribute",{name:this.Ki,value:""}),this.Ki="",">" === M?u(this):f(N,M)?(this.Ki=M,this.state=O.aY):(m(this,"Invalid attribute name"),this.state=O.hI));continue;case O.faa:if(f(x,M))continue;else f(B,M)?(this.q=M,this.state=O.iaa):(m(this,"Unquoted attribute value"),this.state=O.jaa,this.Li=M);continue;case O.iaa:if(M !== this.q){"&" === M?this.state=O.gaa:this.Li+=M;continue;}q(this);this.q="";this.state=O.Rxa;continue;case O.Rxa:f(x,M)?this.state=O.hI:">" === M?u(this):"/" === M?this.state=O.g_:f(N,M)?(m(this,"No whitespace between attributes"),this.Ki=M,this.Li="",this.state=O.aY):m(this,"Invalid attribute name");continue;case O.jaa:if(!f(D,M)){"&" === M?this.state=O.haa:this.Li+=M;continue;}q(this);">" === M?u(this):this.state=O.hI;continue;case O.Taa:if(this.tagName)">" === M?t(this):f(I,M)?this.tagName+=M:this.Jj?(this.Jj+="</" + this.tagName,this.tagName="",this.state=O.TI):(!f(x,M) && m(this,"Invalid tagname in closing tag"),this.state=O.Yza);else if(f(x,M))continue;else f(N,M)?this.tagName=M:this.Jj?(this.Jj+="</" + M,this.state=O.TI):m(this,"Invalid tagname in closing tag.");continue;case O.Yza:if(f(x,M))continue;">" === M?t(this):m(this,"Invalid characters in closing tag");continue;case O.jea:case O.gaa:case O.haa:switch(this.state){case O.jea:(ea=O.Ya,ca="textNode");break;case O.gaa:ea=O.iaa;ca="attribValue";break;case O.haa:(ea=O.jaa,ca="attribValue");}if(";" === M){M=ca;R=this[M];Y=this.Om;oa=Y.toLowerCase();Ga="";if(this.uw[Y])Y=this.uw[Y];else if(this.uw[oa])Y=this.uw[oa];else {Y=oa;if("#" === Y.charAt(0))if("x" === Y.charAt(1)){Y=Y.slice(2);Fa=parseInt(Y,16);Ga=Fa.toString(16);}else (Y=Y.slice(1),Fa=parseInt(Y,10),Ga=Fa.toString(10));Y=Y.replace(/^0+/,"");Y=Ga.toLowerCase() !== Y?(m(this,"Invalid character entity"),"&" + this.Om + ";"):String.fromCodePoint(Fa);}this[M]=R + Y;this.Om="";this.state=ea;}else f(C,M)?this.Om+=M:(m(this,"Invalid character entity"),this[ca]+="&" + this.Om + M,this.Om="",this.state=ea);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.KRa){K=Math.max(w.uca,10);M=H=0;for(ea=v.length;M < ea;M++){ca=this[v[M]].length;if(ca > K)switch(v[M]){case "textNode":d(this);break;case "cdata":l(this,"oncdata",this.Gl);this.Gl="";break;case "script":l(this,"onscript",this.Jj);this.Jj="";break;default:n(this,"Max buffer length exceeded: " + v[M]);}H=Math.max(H,ca);}this.KRa=w.uca - H + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){d(this);"" !== this.Gl && (l(this,"oncdata",this.Gl),this.Gl="");"" !== this.Jj && (l(this,"onscript",this.Jj),this.Jj="");}};y=w.Bk.filter(function(K){return "error" !== K && "end" !== K;});c.prototype=Object.create(b.prototype,{constructor:{value:c}});c.prototype.write=function(K){this.bx.write(K.toString());this.emit("data",K);return !0;};c.prototype.end=function(K){K && K.length && this.write(K);this.bx.end();return !0;};c.prototype.on=function(K,H){var M;M=this;M.bx["on" + K] || -1 === y.indexOf(K) || (M.bx["on" + K]=function(){var R;R=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);R.splice(0,0,K);M.emit.apply(M,R);});return b.prototype.on.call(M,K,H);};x="\r\n\t ";z="0124356789";A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";B="'\"";C=z + A + "#";D=x + ">";F="[CDATA[";G="DOCTYPE";E="http://www.w3.org/XML/1998/namespace";J="http://www.w3.org/2000/xmlns/";L={xml:E,VX:J};x=k(x);z=k(z);A=k(A);N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;B=k(B);C=k(C);D=k(D);O=0;w.Lz={Eaa:O++,Faa:O++,Ya:O++,jea:O++,Pca:O++,Sda:O++,OKa:O++,tY:O++,YAa:O++,bba:O++,XAa:O++,L7b:O++,oY:O++,aAa:O++,$za:O++,lY:O++,Rza:O++,Sza:O++,QHa:O++,ada:O++,bda:O++,pHa:O++,g_:O++,hI:O++,aY:O++,Qxa:O++,faa:O++,iaa:O++,Rxa:O++,jaa:O++,gaa:O++,haa:O++,Taa:O++,Yza:O++,TI:O++,LKa:O++};w.kmb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};w.uw={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(w.uw).forEach(function(K){var H;H=w.uw[K];H="number" === typeof H?String.fromCharCode(H):H;w.uw[K]=H;});for(O in w.Lz){w.Lz[w.Lz[O]]=O;}O=w.Lz;String.fromCodePoint || (function(){var H,M;function K(){var R,Y,ea,oa,Ga;R=[];Y=-1;ea=arguments.length;if(!ea)return "";for(var ca="";++Y < ea;){oa=Number(arguments[Y]);if(!isFinite(oa) || 0 > oa || 1114111 < oa || M(oa) != oa)throw RangeError("Invalid code point: " + oa);if(65535 >= oa)R.push(oa);else {oa-=65536;Ga=(oa >> 10) + 55296;oa=oa % 1024 + 56320;R.push(Ga,oa);}if(Y + 1 == ea || 16384 < R.length)(ca+=H.apply(null,R),R.length=0);}return ca;}H=String.fromCharCode;M=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:K,configurable:!0,writable:!0}):String.fromCodePoint=K;})();r.exports=w;},97464:function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},62594:function(r,b,a){var l,d,g,n,h,m,p;function c(q){return "string" !== typeof q?null:d[q];}function k(q){return "string" !== typeof q?null:h[q];}function f(q,u){var t;t=q.split(" ");q=t[0];t=t[1];-1 < q.indexOf("px")?(q=parseFloat(q) / u.width,t=parseFloat(t) / u.height):(q=.01 * parseFloat(q),t=.01 * parseFloat(t));return [q,t];}l=a(97464);r.exports={kzb:function(q,u){var t,w,v,y,x,z,G;t=u.textNodes[0] || ({});w=q.regions;v=q.styles;y=q.aspectRatio;x=q.initialStyle || ({});w=w && w[u.region]?w[u.region]:{};v=v && v[t.style]?v[t.style]:{};t=t.lang;z=f(l(u.extent,w.extent,"80% 80%"),q);if(w.position){for(var A=w.position.split(" "),B=[.5,.5],C=["left","top"],D=0,F=0;F < A.length;F++){G=A[F];(G in p)?(C[D]=G,F + 1 >= A.length && (B[D++]=0)):"center" === G?B[D++]=.5:B[D++]=.01 * parseFloat(G);}-1 < ["top","bottom"].indexOf(C[0]) || -1 < ["left","right"].indexOf(C[1])?(D="bottom" === C[0]?1 - B[0]:B[0],A="right" === C[1]?1 - B[1]:B[1]):(A="right" === C[0]?1 - B[0]:B[0],D="bottom" === C[1]?1 - B[1]:B[1]);B=[(1 - z[0]) * A,(1 - z[1]) * D];}else B=null;u=B?B:f(l(B,u.origin,w.origin,"10% 10%"),q);q=Object;y/=1280 / 720;B=(1 - y) / 2;C=u[0];u=u[1];z=q.create.call(q,{marginLeft:C * y + B,marginTop:u,marginRight:(1 - (C + z[0])) * y + B,marginBottom:1 - (u + z[1])});y=w.writingMode?w.writingMode:"lrtb";z.writingMode="string" !== typeof y?null:m[y];1 < Object.keys(w).length?(y=l(v.displayAlign,w.displayAlign,"before"),"tblr" === w.writingMode || "tbrl" === w.writingMode?(z.horizontalAlignment="string" !== typeof y?null:"tblr" === w.writingMode?g[y]:n[y],z.verticalAlignment=c(l(v.textAlign,w.textAlign,"start"))):z.verticalAlignment=c(y)):z.verticalAlignment=c(l(v.displayAlign,"after"));"horizontal-tb" === z.writingMode && (z.horizontalAlignment=k(l(v.textAlign,w.textAlign,"center")));z.multiRowAlignment=k(l(v.multiRowAlign,w.multiRowAlign,v.textAlign,w.textAlign,x.textAlign,"ja" === t?"start":"center"));return z;}};d={before:"top",start:"top",center:"center",after:"bottom",end:"bottom"};g={before:"left",center:"center",after:"right"};n={before:"right",center:"center",after:"left"};h={left:"left",start:"start",center:"center",right:"right",end:"end"};m={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};p={top:"top",bottom:"bottom",left:"left",right:"right"};},83032:function(r,b,a){var n,h,m,p,q,u,t,w,v,y,x,z,A,B,C;function c(D){return "string" !== typeof D || "#" === D[0] && 7 === D.length?D:"#" === D[0] && 4 === D.length?"#" + D[1] + D[1] + D[2] + D[2] + D[3] + D[3]:m[D.toLowerCase()];}function k(D){var F,G,E;F=(D || "").split(" ");G=(/^[0-9]/).test(F);D=G?"#000000":c(F[0]);E=G?0:1;G=parseInt(F[E]);F=parseInt(F[E + 1]);return {color:D,width:0 < G?G:0,blur:0 < F?F:0};}function f(D,F){if(-1 < F.indexOf(D))return D;}function l(D){var F,G;if(!D)return null;D=D.split(" ");if(0 === D.length)return null;F=d(D,C);F=F.length?F[0]:"outside";G=d(D,B);if(G.length)return g(G[0],"",F);G=d(D,z);D=d(D,A);return D.length || G.length?g(D.length?D[0]:"circle",G.length?G[0]:"filled",F):g("auto","",F);}function d(D,F){return D.filter(function(G){return -1 !== F.indexOf(G);});}function g(D,F,G){return {textEmphasisShape:D,textEmphasisFill:F,textEmphasisPosition:G};}n=a(97464);r.exports={ozb:function(D,F,G){var E,J,L,N,I,O,K,H,M,R,Y,ea,ca,oa,Ga,Fa;E=n(G.characterSize,F.characterSize,"MEDIUM");J=D.fontFamily;J=n(G.characterStyle,"string" !== typeof J?null:p[J],F.characterStyle,"PROPORTIONAL_SANS_SERIF");L=(D.fontSize || "").split(" ")[0] || "";N=-1 < L.indexOf("%")?parseInt(L,10) / 100:-1 < L.indexOf("em")?parseFloat(L):1;L="underline" === D.textDecoration;I="italic" === D.fontStyle;O=h[n(G.n6b,F.n6b,"OPAQUE")];K=h[n(G.characterOpacity,F.characterOpacity,"OPAQUE")];H=h[n(G.backgroundOpacity,D.opacity,F.backgroundOpacity,"OPAQUE")];M=c(n(G.characterColor,D.color,F.characterColor,"#ffffff"));R=c(n(G.backgroundColor,D.backgroundColor,F.backgroundColor,null));Y=c(n(G.deb,D.deb,F.deb,null));ea=n(G.characterEdgeAttributes,F.characterEdgeAttributes,null);N*=q[E] || 1;ca=1;u[E] && (ca=u[E][J] || 1);N*=1 / 19 * ca;ca=0;t[E] && (ca=t[E][J] || 0);E=ca;ca=D.textOutline;ca="string" !== typeof ca?null:k(ca).width;ca=n(ca,0);oa=D.textOutline;oa="string" !== typeof oa?null:k(oa).blur;oa=n(oa,0);Ga=G.characterEdgeColor;Fa=D.textOutline;Fa="string" !== typeof Fa?null:k(Fa).color;return {characterUnderline:L,characterItalic:I,characterStyle:J,windowOpacity:O,characterOpacity:K,backgroundOpacity:H,characterColor:M,backgroundColor:R,windowColor:Y,characterEdgeAttributes:ea,characterSize:N,characterTracking:E,characterEdgeWidth:ca,characterEdgeBlur:oa,characterEdgeColor:c(n(Ga,Fa,F.characterEdgeColor,"#000000")),direction:n(G.direction,D.direction,F.direction,"ltr"),ruby:n(f(D.zfc,w),null),rubyAlign:n(f(D.Afc,v),null),rubyPosition:n(f(D.Bfc,x),null),rubyReserve:n(f(D.Cfc,y),null),textEmphasis:l(D.rgc),shear:D.p0b?.01 * parseFloat(D.p0b):null,textCombine:D.M2b?D.M2b:null};}};h={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};m={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};p={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};q={SMALL:.5,"SMALL-MEDIUM":.8,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};u={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};t={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};w=("container base baseContainer text textContainer delimiter").split(" ");v=("start center end spaceAround spaceBetween withBase").split(" ");y=["before","after","both","outside"];x=["before","after","outside"];z=["filled","open"];A=["circle","dot","sesame"];B=["none","auto"];C=["before","after","outside"];},98310:function(r){function b(a,c){var k,f,l,d,g,n;k=[];f=a.indexOf("<p");l=-1;do {d={};d.d1b=f;g=a.indexOf("begin=",f) + 7;n=a.indexOf("end=",f) + 5;g=Math.floor(parseInt(a.substr(g,25),10) / c * 1E3);n=Math.floor(parseInt(a.substr(n,25),10) / c * 1E3);l=n > l?n:l;d.startTime=g;d.endTime=n;d.latestEndSoFar=l;d.vWa=a.indexOf("/p>",f) + 3;f=d.vWa;k.push(d);f=a.indexOf("<p",f);}while(-1 !== f);this.Jo=k;this.lE=a;}b.prototype.XWa=function(){return this.Jo[this.Jo.length - 1].endTime;};b.prototype.Pl=function(a,c){return this.Jo.filter(function(k){return k.startTime <= c && k.endTime >= a;}).length;};b.prototype.lIb=function(a){for(var c="",k=this.Jo.filter(function(l){return l.startTime <= a && a < l.endTime || l.startTime >= a;}),f=4;f + 1 < k.length && k[f + 1].startTime === k[4].startTime;){f++;}k=k.slice(0,f + 1);0 < k.length && (c=this.lE.slice(k[0].d1b,k[k.length - 1].vWa));return c;};r.exports=b;},27923:function(r,b){var c;function a(k,f){for(var l=0;l < k.length;l++){if(f(k[l],l,k))return k[l];}}Object.defineProperty(b,"__esModule",{value:!0});b.yc=b.UZ=b.hFa=b.tP=void 0;b.tP=1E4;r=(function(){function k(f){this.uf=[];this.BQ=0;this.ja=f;}Object.defineProperty(k.prototype,"endOfStreamSegment",{get:function(){return this.anb;},enumerable:!1,configurable:!0});k.prototype.GF=function(f){var l;l=a(this.uf,function(d){return f >= d.ab && f < d.jf;});"undefined" === typeof l && this.ja.warn("Get Segment at pts " + f + " is undefined");return l;};k.prototype.Cga=function(f,l){var g;for(var d=this.uf;0 < d.length && 300 <= f.I - d[0].I;){this.uW();}for(;0 < d.length && 300 <= d[d.length - 1].I - f.I;){this.Qua();}g=new c(f,l);f=d.length;if(0 === f || d[f - 1].I < g.I)this.Rua(g);else {f=a(d,function(n){return n.I >= g.I;});if((null === f || void 0 === f?void 0:f.I) === g.I)return;this.Sua(d.indexOf(f),g);}g.endOfStream && (this.ja.trace("EOS segment added to segment manager"),this.anb=g);this.BQ=d[d.length - 1].I;};k.prototype.yX=function(f){var l;if("undefined" === typeof f)this.ja.warn("Current segment is undefined.");else for((this.yl=f,this.ja.trace(("Current segment id is ").concat(f.I)));(null === (l=this.uf[0]) || void 0 === l?void 0:l.jf) < f.jf - b.tP;){this.uW();}};k.prototype.Dma=function(){if(this.Lo){if(this.BQ !== this.Lo.I)return this.uf[this.uf.indexOf(this.Lo) + 1];}else return this.uf[0];};k.prototype.Nt=function(f){this.Lo=this.ev(f);};k.prototype.ev=function(f){var l;l=a(this.uf,function(d){return d.I === f;});"undefined" === typeof l && this.ja.error("Segment with segmentId " + f + " is not in segmentArray");return l;};k.prototype.gT=function(){var f;return (null === (f=this.Lo) || void 0 === f?void 0:f.I) || -1;};k.prototype.ixa=function(f,l){f=this.ev(f);"undefined" !== typeof f && (this.uf[this.uf.indexOf(f)].header=l);};k.prototype.VZa=function(f){return this.ev(f);};k.prototype.lma=function(f){f=this.ev(f);return (null === f || void 0 === f?void 0:f.header) || ({});};k.prototype.uW=function(){this.uf.shift();};k.prototype.Rua=function(f){this.uf.push(f);};k.prototype.Sua=function(f,l){this.uf.splice(f,0,l);};k.prototype.Qua=function(){this.uf.pop();};return k;})();b.hFa=r;c=(function(){return function(k,f){this.I=k.I;this.xml=k.xml;this.ab=k.ab;this.jf=k.jf;this.NF=f;this.size=k.size;this.gr=k.gr;this.endOfStream=k.endOfStream;};})();b.UZ=c;b.yc=a;},42456:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.jFa=void 0;c=a(70655);r=(function(k){function f(l,d){d=k.call(this,l,d) || this;d.xml=l.xml;d.size=l.size;return d;}c.__extends(f,k);return f;})(a(27923).UZ);b.jFa=r;},98704:function(r,b,a){var c,k,f,l,d,g,n;Object.defineProperty(b,"__esModule",{value:!0});b.kFa=void 0;c=a(70655);r=a(17187);k=a(14505);f=a(93419);l=a(27923);d=a(62441);g=a(62441);n=r.EventEmitter;a=(function(h){function m(p){var q,u,t,w,v;q=h.call(this) || this;u=p.preferences;t=p.Lf;w=p.we;v=p.la;n.call(q);q.jx=new d.ica(v);q.dx="object" === typeof u?p.preferences:{};q.Uw="object" === typeof t?p.Lf:{};q.Hk="number" === typeof w?p.we:0;q.ja="object" === typeof v?p.la:console;q.tf=[];q.Wh=0;q.Vj=q.Hk;q.md=null;q.wn=!1;q.um=!1;q.FD=p.UV || 0;q.kd=new l.hFa(q.ja);q.ja.trace("LiveTextStream created with options",p);return q;}c.__extends(m,h);m.prototype.start=function(){this.ja.info(("Incremental live text stream created, starting at pts ").concat(this.Hk));"undefined" !== typeof this.kd.GF(this.Hk) && this.JG.call(this,this.Hk);};m.prototype.nta=function(p){var q,u,t,w;q=this;u=p.xml;t=u.indexOf("<p");this.ja.trace("pushNextSegment",p);this.kd.Cga(p,-1 !== t?t:0);if(!this.wn){w=this.kd.uf[0];this.kd.yX(w);this.Hk=w.ab;}-1 < t?(this.jx.dQa(u,p.I,p.gr),this.ja.trace(("Live segment ").concat(p.I," is pushed to segment manager"),{ab:p.ab,jf:p.jf,qBb:p.gr}),!this.wn && 4 > this.Wh && (u=0 < this.tf.length?this.tf[this.tf.length - 1].startTime + 1:this.Hk,this.ja.trace("parseNextSegment is called from push new live Segment at " + u),this.JG.call(this,u))):(this.ja.trace(("Live segment ").concat(p.I," is pushed to segment manager, it is an empty segment")),this.wn || setTimeout(function(){q.Nt(p.I);},10));};m.prototype.cB=function(p){var q,u,t,w,v,y;q=this;w=this;w.ja.trace(("LiveTextStream:get subtitles at pts ").concat(p));v=w.kd.GF(p);if("undefined" === typeof v)return (w.ja.debug(("LiveTextStream: get subtitle at pts ").concat(p," returns empty result with segment not available at this pts")),[]);w.kd.yX(v);p < w.Vj - w.FD?(w.ja.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(p),(", _lastPts: ").concat(w.Vj,", _backupTolerance: ").concat(w.FD)),w.tf=[],w.Wh=0):(w.Wh=0 < w.tf.length?Math.max(w.kd.gT() - v.I + 1,0):0,0 === w.Wh && (w.tf=[]));v=w.tf;w.ja.trace(("LiveTextStream: lastBufferedPts calculation ").concat(p),(", buffer.length: ").concat(v.length,", result: ").concat(0 < v.length?null === (u=v[v.length - 1]) || void 0 === u?void 0:u.startTime:p));u=this.kd.Lo;y=0 < v.length && void 0 !== u?u.ab:p;w.Vj=p;w.ja.info("LiveTextStream: timer is " + w.md + " bufffered segment number is " + w.Wh + " is parsing entry : " + this.um + " maxBufferedStartPts " + (null === (t=this.kd.Lo) || void 0 === t?void 0:t.ab));for(!w.md && 4 > w.Wh && !w.um && (w.ja.info("LiveTextStream: buffer size: " + w.Wh + "; minimum: 4"),w.um=!0,w.md=setTimeout(function(){w.md=null;q.ja.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (y + 1));q.JG.call(w,y + 1);},10));0 < v.length && v[0].endTime < p;){v.shift();}return (0,k.z4)(v,p).map(function(x){var z;z=w.kd.lma(x.segId);return k.h3.call(w,z,x);});};m.prototype.Pl=function(p,q){return this.jx?this.jx.Pl(p,q):0;};m.prototype.LC=function(p){return k.LC.call(this,p);};m.prototype.close=function(){};m.prototype.JG=function(p){var q;q=this.Bma.call(this,p);"undefined" !== typeof q?(this.ja.trace("Next segment to parse at pts " + p + " is segment " + q.I),0 === q.NF?(this.ja.trace("This is an empty segment"),this.Nt(q.I)):(this.Zra.call(this,q),this.ja.trace("parseNextSegEntries buffer length: " + this.tf.length))):(this.ja.debug("Next segment is undefined at pts " + p),this.um=!1);};m.prototype.Bma=function(p){var q,u;u=this.jx.rZa(p);this.ja.trace(("Most recent entry at current pts ").concat(p," is segment id  ").concat(u));-1 === u && (u=(null === (q=this.kd.GF(p)) || void 0 === q?void 0:q.I) || -1);return u === this.kd.gT()?this.kd.Dma():this.kd.ev(u);};m.prototype.Zra=function(p){var q,u,t,w,v;q=this;u=this;t=p.xml.slice(0,p.NF);w=p.xml.slice(p.NF,p.xml.lastIndexOf("/p>") + 3);(0,k.v6a)(t,function(y,x){null !== y?(y.Q_a=t,y.I=p.I,u.emit("error",y)):(v=x,u.kd.ixa(p.I,v),q.Wra.call(u,w,v,p));});};m.prototype.Wra=function(p,q,u){var t,w,v,y,x,z,A;t=this;w=this;v=0;y=[];x=q.defaultStyle?[q.defaultStyle]:[];z=q.lang?[q.lang]:[];w.ja.debug(p);A=f.nf(!0);A.onerror=function(B){B.xml=p;w.emit("error",B);};A.onend=function(){var B;B=w.tf.reduce(function(C,D){D=D.blocks.reduce(function(F,G){return F.concat([G.id]);},[]);return C.concat(D);},[]);y.forEach(function(C){var D;if(-1 === B.indexOf(C.id)){D=C && C.blocks && C.blocks.filter(function(F){return 0 < F.textNodes.length;});D && 0 < D.length && (C.blocks=D,w.tf.push(C));}});t.Nt(u.I);};A.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,k.Rd)((0,k.Rd)(y).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,k.Rd)(x),lang:(0,k.Rd)(z),lineBreaks:v});v=0;};A.onclosetag=function(){var B;B=A.tag;"undefined" !== typeof B.attributes.style && x.pop();"undefined" !== typeof B.attributes["xml:lang"] && z.pop();};A.onopentag=function(B){var C,D;C=B.attributes;B=B.name;if("p" === B){v=0;B=u.I.toString() + "_" + C["xml:id"];C.style && x.push(C.style);C["xml:lang"] && z.push(C["xml:lang"]);D=(0,g.QE)(C.begin);0 === y.length || (0,k.Rd)(y).displayTime !== D?(C=t.nja(B,0,C,u.gr),C.segId=u.I,y.push(C)):(0,k.Rd)(y).blocks.push({textNodes:[],region:C.region,id:B,extent:C["tts:extent"] || null,origin:C["tts:origin"] || null});}else "span" === B?(x.push(C.style),C["xml:lang"] && z.push(C["xml:lang"]),B=q.styles[C.style],C.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,k.Rd)((0,k.Rd)(y).blocks).textNodes.push({text:"",style:(0,k.Rd)(x),lang:(0,k.Rd)(z),lineBreaks:0})):"br" === B && v++;};A.write("<entries>").write(p).write("</entries>").close();};m.prototype.nja=function(p,q,u,t){var w;w={};w.id=p;w.startTime=(0,g.QE)(u.begin || "") - t;w.endTime=(0,g.QE)(u.end || "") - t;w.style=u.style;w.region=u.region;w.displayTime=w.startTime;w.duration=w.endTime - w.startTime;w.extent=u["tts:extent"] || null;w.origin=u["tts:origin"] || null;w.latestEndSoFar=q > w.endTime?q:w.endTime;w.blocks=[{textNodes:[],region:w.region,id:p,extent:w.extent || null,origin:w.origin || null}];return w;};m.prototype.Nt=function(p){this.kd.Nt(p);this.Wh+=1;this.um=!1;this.ja.trace("updateMaxParsedSegment " + p);if(!this.wn && 4 <= this.Wh || this.kd.Aka && this.kd.VZa(p) === this.kd.Aka)(this.kd.Aka && this.kd.VZa(p) === this.kd.Aka && this.ja.trace("Marking stream ready due to EOS"),this.wn=!0,this.emit("ready"));};return m;})(n);b.kFa=a;},62441:function(r,b,a){var k;function c(f){var l;f=f.split(".");l=f[0].split(":").map(function(d){return parseInt(d,0);});return 1E3 * (3600 * l[0] + 60 * l[1] + l[2]) + parseInt(f[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.QE=b.ica=void 0;k=a(27923);r=(function(){function f(l){this.Jo=[];this.ja=l;}f.prototype.dQa=function(l,d,g){var n,h,m,p,q,u;void 0 === g && (g=0);n=this.Jo;h=l.indexOf("<p");m=-1;do {p={};p.I=d;p.oab=h;q=l.indexOf("begin=",h) + 7;u=l.indexOf("end=",h) + 5;q=c(l.substring(q,q + 12)) - g;u=c(l.substring(u,u + 12)) - g;m=u > m?u:m;p.startTime=q;p.endTime=u;p.latestEndSoFar=m;p.mDb=l.indexOf("/p>",h) + 3;h=p.mDb;if(0 === n.length || p.startTime > n[n.length - 1].startTime)(n.push(p),this.ja.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,cDb:p.endTime}));else if((u=(0,k.yc)(n,function(t){return t.startTime >= p.startTime;}),u.startTime !== p.startTime || u.oab !== p.oab))(u=n.indexOf(u),n.splice(u,0,p),this.ja.trace(("LiveTtmlIndex:  entry is pushed at index number ").concat(u),{startTime:p.startTime,cDb:p.endTime}));h=l.indexOf("<p",h);}while(-1 !== h);};f.prototype.Pl=function(l,d){return this.Jo.filter(function(g){return g.startTime <= d && g.endTime >= l;}).length;};f.prototype.hta=function(l){this.Jo=this.Jo.filter(function(d){return d.startTime >= l;});};f.prototype.rZa=function(l){var d;d=(0,k.yc)(this.Jo,function(g){return g.startTime <= l && l < g.endTime || g.startTime >= l;});return (null === d || void 0 === d?void 0:d.I) || -1;};f.prototype.XWa=function(){return 0 < this.Jo.length?this.Jo[this.Jo.length - 1].endTime:0;};return f;})();b.ica=r;b.QE=c;},66229:function(r,b){function a(c,k){for(var f=0;f < c.length;f++){if(k(c[f],f,c))return c[f];}}Object.defineProperty(b,"__esModule",{value:!0});b.UZ=b.yc=b.eHa=b.tP=void 0;b.tP=1E4;r=(function(){function c(k){this.uf=[];this.BQ=0;this.ja=k;}c.prototype.GF=function(k){var f;f=a(this.uf,function(l){return k >= l.ab && k < l.jf;});"undefined" === typeof f && this.ja.warn("Get Segment at pts " + k + " is undefined");return f;};c.prototype.Cga=function(k){var l;for(var f=this.uf;0 < f.length && 300 <= k.I - f[0].I;){this.uW();}for(;0 < f.length && 300 <= f[f.length - 1].I - k.I;){this.Qua();}l=f.length;if(0 === l || f[l - 1].I < k.I)this.Rua(k);else {l=a(f,function(d){return d.I >= k.I;});if((null === l || void 0 === l?void 0:l.I) === k.I)return;this.Sua(f.indexOf(l),k);}this.BQ=f[f.length - 1].I;};c.prototype.yX=function(k){var f;if("undefined" === typeof k)this.ja.warn("Current segment is undefined.");else for((this.yl=k,this.ja.trace(("Current segment id is ").concat(k.I)));(null === (f=this.uf[0]) || void 0 === f?void 0:f.jf) < k.jf - b.tP;){this.uW();}};c.prototype.Dma=function(){if(this.Lo){if(this.BQ !== this.Lo.I)return this.uf[this.uf.indexOf(this.Lo) + 1];}else return this.uf[0];};c.prototype.Nt=function(k){this.Lo=this.ev(k);};c.prototype.ev=function(k){var f;f=a(this.uf,function(l){return l.I === k;});"undefined" === typeof f && this.ja.error("Segment with segmentId " + k + " is not in segmentArray");return f;};c.prototype.gT=function(){var k;return (null === (k=this.Lo) || void 0 === k?void 0:k.I) || -1;};c.prototype.ixa=function(k,f){k=this.ev(k);"undefined" !== typeof k && (this.uf[this.uf.indexOf(k)].header=f);};c.prototype.lma=function(k){k=this.ev(k);return (null === k || void 0 === k?void 0:k.header) || ({});};c.prototype.uW=function(){this.uf.shift();};c.prototype.Rua=function(k){this.uf.push(k);};c.prototype.Sua=function(k,f){this.uf.splice(k,0,f);};c.prototype.Qua=function(){this.uf.pop();};return c;})();b.eHa=r;b.yc=a;b.UZ=(function(){return function(c,k){this.I=c.I;this.xml=c.xml;this.ab=c.ab;this.jf=c.jf;this.NF=k;this.gr=c.gr;};})();},67974:function(r,b,a){var c,k,f,l,d,g,n,h;Object.defineProperty(b,"__esModule",{value:!0});b.fHa=void 0;c=a(70655);r=a(17187);k=a(14505);f=a(71558);l=a(42456);d=a(62441);g=a(66229);n=a(80404);h=r.EventEmitter;a=(function(m){function p(q,u){var t,w,v,y,x;void 0 === u && (u=f.jD.Ya);t=m.call(this) || this;w=q.preferences;v=q.Lf;y=q.we;x=q.la;h.call(t);t.jx=new d.ica(x);t.dx="object" === typeof w?q.preferences:{};t.Uw="object" === typeof v?q.Lf:{};t.Hk="number" === typeof y?q.we:0;t.ja="object" === typeof x?q.la:console;t.tf=[];t.Wh=0;t.Vj=t.Hk;t.md=null;t.wn=!1;t.um=!1;t.FD=q.UV || 0;t.kd=new g.eHa(t.ja);t.jPa=u;if(u === f.jD.Ya)t.V0=new n.kLa(t.ja,t.dx,t.Uw);else throw Error("Not implemented yet");t.ja.trace("LiveTextStream created with options",q);return t;}c.__extends(p,m);p.prototype.start=function(){this.ja.info(("Incremental live text stream created, starting at pts ").concat(this.Hk));"undefined" !== typeof this.kd.GF(this.Hk) && this.JG.call(this,this.Hk);};p.prototype.nta=function(q){var u,t,w,v;u=this;t=q.xml;w=t.indexOf("<p");if(this.jPa === f.jD.Ya)v=new l.jFa(q,-1 !== w?w:0);else throw Error("Not yet implemented");this.kd.Cga(v);this.wn || (q=this.kd.uf[0],this.kd.yX(q),this.Hk=q.ab);-1 < w?(this.jx.dQa(t,v.I,v.gr),this.ja.trace(("Live segment ").concat(v.I," is pushed to segment manager"),{ab:v.ab,jf:v.jf,qBb:v.gr}),!this.wn && 4 > this.Wh && (t=0 < this.tf.length?this.tf[this.tf.length - 1].startTime + 1:this.Hk,this.ja.trace("parseNextSegment is called from push new live Segment at " + t),this.JG.call(this,t))):(this.ja.trace(("Live segment ").concat(v.I," is pushed to segment manager, it is an empty segment")),this.wn || setTimeout(function(){u.Nt(v.I);},10));};p.prototype.cB=function(q){var u,t,w,v,y,x;u=this;v=this;v.ja.trace(("LiveTextStream:get subtitles at pts ").concat(q));y=v.kd.GF(q);if("undefined" === typeof y)return (v.ja.debug(("LiveTextStream: get subtitle at pts ").concat(q," returns empty result with segment not available at this pts")),[]);v.kd.yX(y);q < v.Vj - v.FD?(v.ja.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(q),(", _lastPts: ").concat(v.Vj,", _backupTolerance: ").concat(v.FD)),v.tf=[],v.Wh=0):(v.Wh=0 < v.tf.length?Math.max(v.kd.gT() - y.I + 1,0):0,0 === v.Wh && (v.tf=[]));y=v.tf;v.ja.trace(("LiveTextStream: lastBufferedPts calculation ").concat(q),(", buffer.length: ").concat(y.length,", result: ").concat(0 < y.length?null === (t=y[y.length - 1]) || void 0 === t?void 0:t.startTime:q));t=this.kd.Lo;x=0 < y.length && void 0 !== t?t.ab:q;v.Vj=q;v.ja.info("LiveTextStream: timer is " + v.md + " bufffered segment number is " + v.Wh + " is parsing entry : " + this.um + " maxBufferedStartPts " + (null === (w=this.kd.Lo) || void 0 === w?void 0:w.ab));for(!v.md && 4 > v.Wh && !v.um && (v.ja.info("LiveTextStream: buffer size: " + v.Wh + "; minimum: 4"),v.um=!0,v.md=setTimeout(function(){v.md=null;u.ja.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (x + 1));u.JG.call(v,x + 1);},10));0 < y.length && y[0].endTime < q;){y.shift();}return this.V0.z4(y,q).map(function(z){var A;A=v.kd.lma(z.segId);return u.V0.h3(A,z);});};p.prototype.Pl=function(q,u){return this.jx?this.jx.Pl(q,u):0;};p.prototype.LC=function(q){return this.V0.LC(q);};p.prototype.close=function(){};p.prototype.JG=function(q){c.__awaiter(this,void 0,void 0,function(){var u,t;return c.__generator(this,function(w){switch(w.label){case 0:u=this;t=this.Bma.call(u,q);if("undefined" === typeof t)return [3,4];u.ja.trace("Next segment to parse at pts " + q + " is segment " + t.I);if(0 !== t.NF)return [3,1];u.ja.trace("This is an empty segment");this.Nt(t.I);return [3,3];case 1:return [4,this.Zra.call(u,t)];case 2:(w.Qa(),u.ja.trace("parseNextSegEntries buffer length: " + u.tf.length),w.label=3);case 3:return [3,5];case 4:return (u.ja.debug("Next segment is undefined at pts " + q),this.um=!1,[2]);case 5:return [2];}});});};p.prototype.Bma=function(q){var u,t;t=this.jx.rZa(q);this.ja.trace(("Most recent entry at current pts ").concat(q," is segment id  ").concat(t));-1 === t && (t=(null === (u=this.kd.GF(q)) || void 0 === u?void 0:u.I) || -1);return t === this.kd.gT()?this.kd.Dma():this.kd.ev(t);};p.prototype.Zra=function(q){return c.__awaiter(this,void 0,void 0,function(){var u,t,w,v,y,x,z,A,B;return c.__generator(this,function(C){switch(C.label){case 0:(u=this,t=q.xml.slice(0,q.NF),C.label=1);case 1:return (C.Oj.push([1,3,,4]),[4,this.aUb(t)]);case 2:return (w=C.Qa(),[3,4]);case 3:return (v=C.Qa(),this.rka(v),[3,4]);case 4:if(!w)return (y=Error("Parsing header text returned undefined"),this.rka(y),[2]);if(w.error)return (x=w.error,x.Q_a=t,x.I=q.I,this.rka(x),[2]);A=w.head;this.kd.ixa(q.I,A);return this.jPa !== f.jD.Ya?[3,6]:[4,this.V0.Wra(q,A)];case 5:return (z=C.Qa(),[3,7]);case 6:throw Error("Not yet implemented");case 7:return (B=u.tf.reduce(function(D,F){F=F.blocks.reduce(function(G,E){return G.concat([E.id]);},[]);return D.concat(F);},[]),z && (z.forEach(function(D){var F;if(-1 === B.indexOf(D.id)){F=D && D.blocks && D.blocks.filter(function(G){return 0 < G.textNodes.length;});F && 0 < F.length && (D.blocks=F,u.tf.push(D));}}),this.Nt(q.I)),[2]);}});});};p.prototype.rka=function(q){this.ja.error(q);this.emit("error",q);};p.prototype.Nt=function(q){this.kd.Nt(q);this.Wh+=1;this.um=!1;!this.wn && 4 <= this.Wh && (this.wn=!0,this.emit("ready"));};p.prototype.aUb=function(q){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){return [2,new Promise(function(u){(0,k.v6a)(q,function(t,w){t?u({error:t}):u({head:w});});})];});});};return p;})(h);b.fHa=a;},80404:function(r,b,a){var c,k,f,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.kLa=void 0;c=a(70655);k=a(14505);f=a(14505);l=a(93419);d=a(62441);r=(function(){function g(n,h,m){this.ja=n;this.dx=m;this.Uw=h;}g.prototype.Wra=function(n,h){return c.__awaiter(this,void 0,void 0,function(){var m,p,q,u,t,w,v,y,x;x=this;return c.__generator(this,function(){m=this;p=0;q=[];u=h.defaultStyle?[h.defaultStyle]:[];t=h.lang?[h.lang]:[];w=n.xml.lastIndexOf("/p>") + 3;v=n.xml.slice(n.NF,w);m.ja.debug(v);y=l.nf(!0);return [2,new Promise(function(z,A){y.onerror=function(B){B.xml=v;A(B);};y.onend=function(){z(q);};y.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,k.Rd)((0,k.Rd)(q).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,k.Rd)(u),lang:(0,k.Rd)(t),lineBreaks:p});p=0;};y.onclosetag=function(){var B;B=y.tag;"undefined" !== typeof B.attributes.style && u.pop();"undefined" !== typeof B.attributes["xml:lang"] && t.pop();};y.onopentag=function(B){var C,D;C=B.attributes;B=B.name;if("p" === B){p=0;B=n.I.toString() + "_" + C["xml:id"];C.style && u.push(C.style);C["xml:lang"] && t.push(C["xml:lang"]);D=(0,d.QE)(C.begin);0 === q.length || (0,k.Rd)(q).displayTime !== D?(C=x.nja(B,0,C,n.gr),C.segId=n.I,q.push(C)):(0,k.Rd)(q).blocks.push({textNodes:[],region:C.region,id:B,extent:C["tts:extent"] || null,origin:C["tts:origin"] || null});}else "span" === B?(u.push(C.style),C["xml:lang"] && t.push(C["xml:lang"]),B=h.styles[C.style],C.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,k.Rd)((0,k.Rd)(q).blocks).textNodes.push({text:"",style:(0,k.Rd)(u),lang:(0,k.Rd)(t),lineBreaks:0})):"br" === B && p++;};y.write("<entries>").write(v).write("</entries>").close();})];});});};g.prototype.z4=function(n,h){return k.z4.call(this,n,h);};g.prototype.h3=function(n,h){return k.h3.call(this,n,h);};g.prototype.LC=function(n){return f.LC.call(this,n);};g.prototype.nja=function(n,h,m,p){var q;q={};q.id=n;q.startTime=(0,d.QE)(m.begin || "") - p;q.endTime=(0,d.QE)(m.end || "") - p;q.style=m.style;q.region=m.region;q.displayTime=q.startTime;q.duration=q.endTime - q.startTime;q.extent=m["tts:extent"] || null;q.origin=m["tts:origin"] || null;q.latestEndSoFar=h > q.endTime?h:q.endTime;q.blocks=[{textNodes:[],region:q.region,id:n,extent:q.extent || null,origin:q.origin || null}];return q;};return g;})();b.kLa=r;},55134:function(r,b,a){var k,f,l,d,g,n,h;function c(m){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(m);}Object.defineProperty(b,"__esModule",{value:!0});b.Ulb=void 0;k=a(70655);r=a(17187);f=a(14505);l=a(98704);d=a(67974);g=a(71558);n=a(94631);h=a(16272);r=(function(m){function p(q,u){var t,w,v,y,x;t=this;t=m.call(this) || this;t.Cu=!0;t.wQ=[];t.Vj=0;t.UOa=!0;y=t;x=q.kf || !1;t.ja=q.la || console;t.dE=q.request;t.Zr=q.MIb;t.w0=null !== (w=q.odc) && void 0 !== w?w:function(z,A){return z - (null !== A && void 0 !== A?A:t.Zr());};t.md=null;t.Cu=!0;t.wQ=[];t.DJ=u.profile;t.Xf=u.url;t.cE=u.we;t.dx=u.preferences;t.Uw=u.Lf;t.Vj=t.cE || 0;t.UOa=null !== (v=u.pfc) && void 0 !== v?v:!0;w={url:t.Xf,request:t.dE,we:t.cE,xml:u.xml,preferences:t.dx,Lf:t.Uw,la:t.ja,kf:x,bufferSize:u.bufferSize,dt:u.dt,UV:u.UV || 0,NRa:u.NRa};if("nflx-cmisc" === t.DJ)(w.offset=u.vqa,w.size=u.p4a,w.w9=u.w9,w.UVa=u.UVa,t.Fd=new n(w));else if(u.ha && c(t.DJ))t.Fd=u.Mgc?new d.fHa(w,g.jD.Ya):new l.kFa(w);else if(c(t.DJ) && "function" === typeof f.Wba)t.Fd=new f.Wba(w);else throw Error("SubtitleManager: " + t.DJ + " is an unsupported profile");t.Fd.on("ready",function(){var A,B,C;function z(){return y.Cu;}A=!!u.qRa;y.ja.info("ready event fired by subtitle stream");y.emit("ready");B=y.Fd.cB.bind(y.Fd);if(q.Jma && q.g8){C=a(5130).Yya;y.md=new C(y.Zr,B,t.w0,y.ja,z,q.Jma,q.g8,u);}else y.md=new h(y.Zr,B,t.w0,z,y.ja,u);if("dfxp-ls-sdh" === y.DJ && "function" === typeof f.Wba)y.md.on("stagesubtitle",y.Qva.bind(y));y.md.on("showsubtitle",y.Eva.bind(y));y.md.on("removesubtitle",y.Lta.bind(y));y.md.on("underflow",y.jm.bind(y));y.md.on("bufferingComplete",y.Dm.bind(y));A && (y.ja.info("autostarting subtitles"),setTimeout(function(){y.hz(y.Zr());},10));});t.Fd.on("error",t.emit.bind(t,"error"));return t;}k.__extends(p,m);p.prototype.start=function(){this.Fd.start();};p.prototype.R7a=function(){this.Cu || (this.Cu=!0,this.nWa(this.Vj));};p.prototype.hz=function(q){this.UOa && !this.Cu && 1E4 < Math.abs(q - this.Vj) && (this.ja.warn("Detected an unexpected pts jump larger than",1E4,"at",q,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.R7a());this.Vj=q;this.Cu && (this.Cu=!1,this.q1b(q));null !== this.md && (this.E4b(q),this.md.hz(q));};p.prototype.stop=function(){var q;this.ja.info("stop called");this.Cu || this.pause();this.Fd.removeAllListeners(["ready"]);null !== this.md && this.md.stop();q=this.wQ.reduce(function(u,t){u.bab+=t.HW;u.P3+=t.Q3 || 0;u.jMb.push(t);return u;},{bab:0,P3:0,jMb:[]});"object" === typeof this.Fd && this.Fd.close();this.ja.debug("metrics: " + JSON.stringify(q));return q;};p.prototype.pause=function(){var q;q=this.Zr();this.Cu?this.ja.warn("pause called on subtitle manager, but it was already paused!"):(this.ja.info("pause called at " + q),this.Cu=!0,this.nWa(q));null !== this.md && this.md.pause();};p.prototype.P4=function(q,u){return "function" === typeof this.Fd.P4?this.Fd.P4(q,u):[];};p.prototype.Pl=function(q,u){return this.Fd.Pl(q,u);};p.prototype.cB=function(q){return this.Fd.cB(q);};p.prototype.xC=function(q){var t;function u(){t.ja.info("bufferingComplete from setStreamStartPosition");t.emit("bufferingComplete");}t=this;"function" === typeof this.Fd.xC?this.Fd.xC(q,u):u();};p.prototype.Kj=function(q,u){"function" === typeof this.Fd.Kj && this.Fd.Kj(q,u);};p.prototype.aj=function(q,u){"function" === typeof this.Fd.aj && this.Fd.aj(q,u);};p.prototype.mta=function(q){"function" === typeof this.Fd.nta && this.Fd.nta(q);};p.prototype.t4=function(){return this.wQ[this.wQ.length - 1];};p.prototype.Eva=function(q){var u,t,w,x;t=0;this.ja.info("show subtitle called at " + this.Zr() + " for displayTime " + q.displayTime);this.emit("showsubtitle",q);w=this.t4();w.Et || (w.Et={});if(c(this.DJ))try{for(var v=k.__values(q.blocks),y=v.next();!y.done;y=v.next()){x=y.value;w.Et.hasOwnProperty(x.id) || t++;w.Et[x.id]=q.endTime;}}catch(A){var z;z={error:A};}finally{try{y && !y.done && (u=v.return) && u.call(v);}finally{if(z)throw z.error;}}else (w.Et.hasOwnProperty(q.id) || t++,w.Et[q.id]=q.endTime);this.fwb();w.HW+=t;};p.prototype.fwb=function(){var q,u,t;q=this.t4();if(null === q || void 0 === q?0:q.Et){u=q.Et;t=Object.keys(q.Et);30 < t.length && (t=t.sort(function(w,v){return u[v] - u[w];}),t.splice(19,Math.max(t.length - 20,0)),q.Et={},t.forEach(function(w){q.Et[w]=u[w];}));}};p.prototype.Lta=function(q){this.ja.info("remove subtitle called at " + this.Zr() + " for remove time " + (q.displayTime + q.duration));this.emit("removesubtitle",q);};p.prototype.Qva=function(q){this.ja.info("stage subtitle called at " + this.Zr() + " for displayTime " + q.displayTime);this.emit("stagesubtitle",q);};p.prototype.jm=function(){this.ja.info("underflow fired by the subtitle timer");this.emit("underflow");};p.prototype.Dm=function(){this.ja.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};p.prototype.q1b=function(q){this.ja.debug("creating a new subtitle interval at " + q);this.wQ.push({ab:q,HW:0});};p.prototype.E4b=function(q){var u;u=this.t4();u && (u.epa=q);};p.prototype.nWa=function(q){var u;this.ja.debug("ending subtitle interval at " + q);u=this.t4();u && (u.jf=q,u.jf < u.ab && (this.ja.warn("correcting for interval where endPts is smaller than startPts"),u.ab=0 < u.jf?u.jf - 1:0),u.Q3=this.Fd.Pl(u.ab,u.jf),delete u.Et,u.Q3 > u.HW && u.epa && 500 > u.jf - u.epa && (u.Q3=this.Fd.Pl(u.ab,u.epa)),this.ja.debug("showed " + u.HW + " during this interval"),this.ja.debug("expected " + u.Q3 + " for this interval"));};return p;})(r.EventEmitter);b.Ulb=r;b["default"]=r;},71558:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jD=void 0;r=b.jD || (b.jD={});r[r.TEXT=0]="TEXT";r[r.IMAGE=1]="IMAGE";},83809:function(r,b,a){var n,h;function c(m,p,q){var u;u=q.displayTime <= m && m <= q.displayTime + q.duration;return m <= q.displayTime && q.displayTime <= p || u;}function k(m,p,q){return p && (!p.entries.length && m > p.Mv || m > p.endTime) && q.entries.length && m < q.endTime;}function f(m,p,q){this.eE=this.yu=0;this.Unb=m.bufferSize || 4194304;this.Io=new g();this.bE;this.TD=m.kf;this.ja=m.la;this.lq=p;this.Xh=q;this.oq=new n(m);this.mE=new d(this.Xh.length,m.UVa);this.KQ=new l(m.NRa);}function l(m){this.oQ=0 !== m;this.on=!1;this.jj=m || 3E3;this.md;}function d(m,p){if(this.enabled=p)this.en=Array.apply(null,Array(m)).map(function(){return "-";});}function g(m,p){this.uk=m;this.index=p;}n=a(47120);h=a(11971);g.prototype.reset=function(){this.index=this.uk=void 0;};d.prototype.ba=function(m){this.enabled && m < this.en.length && (this.en[m]="x");};d.prototype.$5a=function(m){this.enabled && m < this.en.length && (this.en[m]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.en.join("") + "|";};l.prototype.start=function(){var m;if(this.oQ){m=this;this.on=!0;this.md=setTimeout(function(){m.on=!1;m.md=void 0;},this.jj);}};l.prototype.stop=function(){this.on=!1;clearTimeout(this.md);this.md=void 0;};Object.defineProperties(f.prototype,{Aja:{get:function(){return this.Io;}},Fub:{get:function(){return !this.KQ.on;}}});f.prototype.AQ=function(){this.mE.enabled && this.ja.debug("Buffer: " + this.mE.toString());};f.prototype.kpb=function(m){this.eE+=m;this.ja.debug("Reserved buffer size is",this.yu + this.eE,"after reserving",m);};f.prototype.Jpb=function(m){this.eE-=m;this.ja.debug("Reserved buffer size is",this.yu + this.eE,"after unreserving",m);};f.prototype.Fmb=function(m){this.yu+=m;this.ja.debug("Buffer size is",this.yu,"after claiming",m);};f.prototype.ZOa=function(m){this.yu-=m;this.ja.debug("Buffer size is",this.yu,"after clearing",m);};f.prototype.XXb=function(m,p){var q;this.ZOa(m);q=this;p && this.mE.enabled && (p.forEach(function(u){q.mE.$5a(u.index);}),this.AQ());};f.prototype.Ava=function(m){var p;p=this.knb(m);return h.k0a(p) && h.f2b(m,p);};f.prototype.v_b=function(m){var p;p=this.RNa(m);(!p || p.index) !== (!this.Io || this.Io.index) && (this.bE=this.Io.uk,p?(this.TD && this.ja.debug("Current sidx is index",p.index),this.Io=p):(this.TD && this.ja.debug("Current sidx is out of range"),this.Io.reset()));this.bE && "number" === typeof this.bE.index && (m < this.bE.Mv - 35E3 || m > this.bE.Jp + 35E3) && (this.Kea(this.bE.index),this.bE=void 0,this.AQ());};f.prototype.xC=function(m,p){var q,u;q=this.Xh && this.Xh.length;for(p;p < q;p++){(u=this.Xh[p]) && ((u.endTime || u.Jp) >= m - 1E4 && (u.endTime || u.Jp) < m + 3E5 || this.Kea(p));}this.KQ.stop();this.AQ();};f.prototype.nrb=function(){var m,p;this.ja.debug("executing aggressive cleanup");m=this.Xh && this.Xh.length;for(p=0;p < m;p++){p === this.Io.index && (p+=2);this.Kea(p);}this.KQ.stop();this.AQ();};f.prototype.fJb=function(m){var p,q,u,t;p=[];q=this.RNa(m);if(!q)return (this.Io.reset(),p);this.Io=q;u=m + 1E4;q=q.index;t=this.Xh[q];q;for(t;q < this.Xh.length && u > t.Mv;(q++,t=this.Xh[q])){h.k0a(t) && h.g2b(m,u,t) && p.push(t);}return p;};f.prototype.BVa=function(m,p){var q,u,t,w,v,y;if(!m || !m.length)return (p && p(null),!0);this.oq.FQ && 2 <= Object.keys(this.oq.FQ).length && !this.KQ.on && (this.ja.debug("Enabling buffering quiet period"),this.KQ.start());q=this;u=m[0];t=m[m.length - 1];if(0 < u.entries.length)(w=u.entries[0].QF,v=u.entries[u.entries.length - 1]);0 < t.entries.length && (h.Sc(w) || (w=t.entries[0].QF),v=t.entries[t.entries.length - 1]);if(w)y=v.QF + v.Qna - w;else return (p && p(null),!0);u=h.ema(w,y);if(this.oq.FQ[u])(this.ja.debug("The request for",u,"is already pending. Not requesting again"),p && p());else if(this.ynb(h.Yma(m)))(this.ja.debug("Reserving",y,"bytes for subtitle request",m[0].Mv,m[m.length - 1].Jp),this.kpb(y),this.oq.DBb(m,w,y,function(x,z){q.ja.debug("Claiming reserved space.  Expected",y,"received",z);q.mE.enabled && (m.forEach(function(A){q.mE.ba(A.index);}),q.AQ());q.Jpb(y);q.Fmb(z);p && p(x);}));else return (this.ja.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};f.prototype.bna=function(m,p){var q,u,t;q=this.lq;u=this.QNa(m,p,this.Xh);if(!u || 0 === u.length)return [];t=[];p=c.bind(null,m,p);for(var w=0;w < u.length;w++){m=u[w];t=t.concat(m.entries.filter(p));}t=t.map(function(v){return h.sja(v,null,q);});return h.ATa(t);};f.prototype.gJb=function(m,p,q){return this.QNa(m,p.endTime,p.en,q,!0);};f.prototype.QNa=function(m,p,q,u,t){var w,v,y,x;if(p && m > p || 0 > m)this.ja.error("invalid range startPts: " + m + ", endPts: " + p);else {w=q && q.length || 0;v=[];if(q && 0 !== w){y=q[0].duration;x=q[0].Mv;if(h.Sc(y) && 0 < y)y=Math.floor((m - x) / y);else for((this.TD && this.ja.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),y=0);y < w && (x=q[y],!h.yBb(x,m));y++){;}for(;y < w && (!u || v.length < u);){x=q[y];if(!t || !x.images.length && x.endTime > m)v.push(x);else if(v.length)break;if(p && p <= x.Jp)break;y++;}return v;}}};f.prototype.knb=function(m){var p,q,t;p=this.Xh;if(p && 0 !== p.length){q=p[Math.floor(m / 6E4)];if(q && (q.Mv > m || m > q.Jp))a:{this.cnb || (this.cnb=!0,q=h.KHb(this.lq.language),this.ja.error("bruteforce search for ",{movieId:this.lq.O,packageId:this.lq.cn,lang:q}));q=p.length;for(var u=0;u < q;u++){t=p[u];if(t.Mv <= m && m <= t.Jp){q=t;break a;}}q=void 0;}return q;}};f.prototype.RNa=function(m){var p,q,u,t,w,v,y,x;p=this.Io;q=p.uk;u=p.index;t=this.Xh;this.Qea(h.Sc(m));if(q)if(q.entries.length){if(0 === u && m <= q.startTime || m >= q.startTime && m <= q.endTime)(w=!0,v=p);else {if(0 < u){y=t[u - 1];k(m,y,q) && (w=!0,v=p);}}}else {y=t[u - 1];x=t[u + 1];k(m,y,q)?(w=!0,v=p):x && x.endTime && m <= x.endTime && (m >= q.endTime || m >= q.Jp) && (w=!0,v=new g(x,u + 1));}if(!w)for((p=t.length,q=0);q < p;q++){if((u=t[q],u.entries.length && m <= u.endTime)){v=new g(u,q);break;}}return v;};f.prototype.ynb=function(m){return this.yu + this.eE + m <= this.Unb;};f.prototype.Kea=function(m){var p,q,u;p=this.Xh[m];q=p && p.images && p.images.length || 0;if(0 < q){u=h.Yma([p]);p.images=[];this.mE.$5a(m);this.ZOa(u);this.TD && this.ja.debug("cleaning up space from sidx",{index:m,start:p.startTime,size:u,images:q,Rec:this.yu});}};f.prototype.Qea=function(m){this.TD && h.assert(m,this.ja);};r.exports=f;},94631:function(r,b,a){var k,f,l,d,g,n;function c(h){k.call(this);this.Xf=h.url;this.dE=h.request;this.cE=h.we || 0;this.ja=h.la;this.Xh=this.lq=null;h.dt?this.lq=h.dt:(this.Hb=h.offset,this.FJ=h.size);this.zl;this.Nfa=h;}k=a(17187).EventEmitter;f=a(46445);l=a(36872);d=a(87370);g=a(11971);n=c.events={ejb:"midxready",wlb:"sidxready",hlb:"ready",Qj:"error"};c.prototype=Object.create(k.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Io:{get:function(){return this.zl && this.zl.Aja;}}});c.prototype.start=function(){this.lq?(this.ja.warn("midx was prefectched and provided"),this.ENa(this.lq)):this.Xmb(this.Hb,this.FJ,this.Zob.bind(this));};c.prototype.close=function(){};c.prototype.P4=function(h,m){return this.zl && this.zl.bna(h,m);};c.prototype.Pl=function(h,m){return (h=this.P4(h,m))?h.length:h;};c.prototype.xC=function(h,m){this.ja.debug("setStreamStartPosition: buffering subtitles at pts " + h);this.cE=h;this.zl?this.zl.xC(h,m):m && m();};c.prototype.cB=function(h){var m,p,q;if(!this.zl || h > g.nHb(this.lq))return [];this.zl && this.zl.gka(h);m=this.Io.uk;p=this.Io.index;q=[];p=g.Sc(p) && this.Xh[p + 1];if(!(p && p.entries.length || m && !(h > m.endTime)))return [];m && m.images.length && (q=this.NNa(m,h,[]));2 > q.length && p && p.images.length && (m=this.NNa(p,h,q),q.push.apply(q,m));return this.zl.Ava(h)?null:g.ATa(q);};c.prototype.aj=function(h,m){this.zl && this.zl.aj(h,m);};c.prototype.Kj=function(h,m){this.zl && this.zl.Kj(h,m);};c.prototype.Xmb=function(h,m,p){this.ja.debug("downloading midx...");this.YNa(h,m,"binary",p);};c.prototype.Ymb=function(h,m,p){this.ja.debug("downloading sidx...");this.YNa(h,m,void 0,p);};c.prototype.YNa=function(h,m,p,q){this.dE({url:this.Xf,offset:h,size:m,responseType:p},q);};c.prototype.Zob=function(h,m){if(h)this.emit(n.Qj,g.eT(h,"midxdownloaderror"));else try{this.lq=new f(m);this.ENa(this.lq);}catch(p){this.emit(n.Qj,g.eT(p,"midxparseerror"));}};c.prototype.ENa=function(h){var m;m=h.entries.reduce(function(p,q){return p + q.size;},0);m?(this.emit(n.ejb,h),this.Ymb(h.startOffset,m,this.apb.bind(this,h))):this.emit(n.Qj,g.eT({},"nosidxfoundinmidx"));};c.prototype.apb=function(h,m,p){var q,u,t,w;q=this;if(m)q.emit(n.Qj,g.eT(m,"sidxdownloaderror"));else {u=0;t=0;q.Xh=[];try{w=0;h.entries.forEach(function(v){var y;y=new l(p,u,h.foa,q.ja,t,t + v.duration,w);q.Xh.push(y);v.N0b=y;t=y.Jp;u+=v.size;w++;});}catch(v){q.emit(n.Qj,g.eT(v,"sidxparseerror"));return;}q.emit(n.wlb,q.Xh);this.zl=new d(q.Nfa,h,q.Xh);m=q.cE;q.Nfa && q.Nfa.w9 || (m=Math.max(q.cE - 1E4,0));this.zl.gka(m,function(v){v && q.ja.error("initial sidx download failed");q.emit(n.hlb);});}};c.prototype.NNa=function(h,m,p){var x;for(var q=h.entries,u=0,t=q.length,w=[],v,y=this.lq;u < t;){v=q[u];if(v.displayTime <= m)v.displayTime + v.duration >= m && w.push(g.sja(v,h.images[u].data,y));else {x=w.length && w[w.length - 1] || p.length && p[p.length - 1];if(x && x.displayTime > m && x.displayTime !== v.displayTime)break;x.QF !== v.QF && w.push(g.sja(v,h.images[u].data,y));}u++;}return w;};r.exports=c;},46445:function(r,b,a){var k,f;function c(l,d){this.duration=l;this.size=d;this.N0b=void 0;}k=a(57966);f=a(11971);r.exports=function(l){var h;l=new k(l);this.identifier=l.tta(4);f.assert("midx" === this.identifier);this.version=l.Kp(4);f.assert(0 === this.version);this.foa=l.zj(36);this.creationTime=l.ZM();this.cn=l.ZM();this.O=l.ZM();this.fZb=l.Zg();this.gZb=l.Zg();this.language=l.zj(16);l.zj(16);this.startOffset=l.ZM();this.NK=l.Zg();for(var d=[],g=0,n=0;n < this.NK;n++){h=new c(l.Kp(4),l.Zg());d.push(h);g+=h.duration;}this.entries=d;this.endTime=g;};},47120:function(r,b,a){var k,f;function c(l){this.Xf=l.url;this.dE=l.request;this.cE=l.we || 0;this.TD=l.kf;this.ja=l.la;this.FQ={};}k=a(57966);f=a(11971);c.prototype.DBb=function(l,d,g,n){this.FQ[f.ema(d,g)]=!0;l && l.forEach(function(h){h.hW=!0;});this.dE({url:this.Xf,offset:d,size:g},this.Aob.bind(this,l,d,g,n));};c.prototype.Aob=function(l,d,g,n,h,m){var p,q,u,t;p=this;q=f.ema(d,g);setTimeout(function(){delete p.FQ[q];},1E3);if(h)(n && n(h,0),l && l.forEach(function(w){delete w.hW;}));else {u=new k(m);t=0;l && l.forEach(function(w){delete w.hW;w.entries.forEach(function(v,y){u.position=v.QF - d;v={data:u.zj(v.Qna)};w.images[y]=v;f.D5b(w.images[y].data,p.Qea.bind(p));t+=w.images[y].data.length;});});n && n(null,t);}};c.prototype.Qea=function(l){this.TD && f.assert(l,this.ja);};r.exports=c;},90840:function(r){function b(a,c,k,f){this.ja=f;this.id=a;this.startTime=c && c.ta || 0;this.endTime=c && c.sa;this.b5a=c && c.next || [];this.Y9a;this.cV=[];this.HL=!1;a=this.startTime;c=this.endTime;for(var l=[],d=0;d < k.length;d++){(f=k[d]) && (!c || c > f.Mv) && a < f.Jp && (f.CLb(),l.push(f));}this.en=l;}b.prototype.LSa=function(){this.ja.debug("Cleaning up segment",this.id);for(var a,c=0,k,f=[],l=0;l < this.en.length;l++){a=this.en[l];(k=a.kAb()) && f.push(a);a && (c+=k);}this.en=[];return {size:c,en:f};};r.exports=b;},87370:function(r,b,a){var l,d;function c(g,n){var m;g=g || 0;if(n)for(var h in n.L){m=n.L[h];if(g >= (m.ta || 0) && (!m.sa || g < m.sa))return h;}}function k(g,n){return g && n && n.L[g];}function f(g,n,h){var m;this.ja=g.la;this.Xh=h;this.eA=this.Hmb(g.w9);this.Eu=[];m=h && h[h.length - 1];this.Vj=m && (m.endTime || m.Jp);this.kg=new l(g,n,h);g=c(g.we || 0,this.eA);this.yl=this.lQ(g);}l=a(83809);d=a(90840);Object.defineProperties(f.prototype,{Aja:{get:function(){return this.kg.Aja;}}});f.prototype.bna=function(g,n){return this.kg && this.kg.bna(g,n);};f.prototype.gka=function(g,n){this.kg.v_b(g);this.BPa(g);if(!this.eA && this.Vj && g > this.Vj)n && n();else if((g=this.BNa(g,this.yl,2,n),this.eA && 0 < this.yl.b5a.length))n && n();else if(this.eA && this.yl.HL && g){2 > this.Eu.length && this.Mmb(this.yl);n=Math.ceil(2 / (this.Eu.length - 1));for(var h=0;h < this.Eu.length && g && 3 > h;h++){g=this.Eu[h];g=this.BNa(g.startTime,g,n);}}};f.prototype.Ava=function(g){return this.kg.Ava(g)?(this.kg.nrb(),this.gka(g),this.yl.HL=!1,!0):!1;};f.prototype.xC=function(g,n){var h;this.BPa(g);this.Eu.forEach(function(m){m.HL=!1;});h=this.yl.en && this.yl.en[0];this.kg.xC(g,h && h.index);(g=this.kg.fJb(g)) && g.length?this.kg.BVa(g,n):n && n();};f.prototype.Kj=function(g,n){var h;this.ja.debug("Set next segment to",n,"for segment",g);g=this.HNa(g) || this.lQ(g);g.Y9a=n;h=this;g.cV=g.cV.filter(function(m){if(m.id === n)return !0;h.Tea(m);return !1;});};f.prototype.aj=function(g,n){var h;h=k(g,this.eA);Object.keys(h.next).forEach(function(m){h.next[m].weight=n[m] || 0;});};f.prototype.Hmb=function(g){var n,m;n={};if(g=(g || ({})).L){n.L={};for(var h in g){m=g[h] || ({});n.L[h]={ta:m.ta,sa:m.sa,Ib:m.Ib,next:this.Gmb(m.next)};}}return n;};f.prototype.Gmb=function(g){var n,h;n={};for(h in g){n[h]={weight:(g[h] || ({})).weight};}return n;};f.prototype.BPa=function(g){var n,h;if(this.eA && this.yl.startTime > g || this.yl.endTime && this.yl.endTime < g){n=this.yl;h=c(g,this.eA);h?(this.ja.debug("Switching segments from",this.yl.id,"to",h,"at pts",g),this.yl=this.HNa(h) || this.lQ(h),this.Tea(n)):this.ja.debug("The pts is outside of the current segment but not in a new one yet");}};f.prototype.lQ=function(g){this.ja.debug("SegmentManager: creating segment",g);g=new d(g,k(g,this.eA),this.Xh,this.ja);this.Eu.push(g);this.ja.debug("SegmentManager: segment contains",g.en.length,"sidxes");return g;};f.prototype.Tea=function(g){var n;if(g && g !== this.yl){this.ja.debug("SegmentManager: deleting segment",g.id);g.cV.forEach(this.Tea.bind(this));this.Eu=this.Eu.filter(function(h){return h !== g;});n=g.LSa();this.kg.XXb(n && n.size || 0,n && n.en);}};f.prototype.HNa=function(g){var h;for(var n=0;g && n < this.Eu.length;n++){h=this.Eu[n];if(g === h.id)return h;}};f.prototype.Mmb=function(g){var n,m;n=g.Y9a;if(n && "" !== n)g.cV.push(this.lQ(n));else {n=g.b5a;for(var h in n){m=n[h];if(!m || !m.weight)break;g.cV.push(this.lQ(h));}}};f.prototype.BNa=function(g,n,h,m){if(!n || n.HL)return (this.ja.debug("Done driving segment",n && n.id),!0);if(!this.kg.Fub)return (this.ja.debug("Throttling buffering in quiet period"),!1);this.ja.debug("Drive streaming of segment",n.id,"from pts",g);h=(g=this.kg.gJb(g,n,h)) && g.length || 0;if(0 === h)return (this.ja.debug("Segment is fully downloaded",n && n.id),n.HL=!0,m && m(),!0);this.ja.debug("Downloading",h,"sidxes in segment",n.id);return this.kg.BVa(g,function(p,q){p && (n.HL=!1);m && m(p,q);});};r.exports=f;},36872:function(r,b,a){var f,l;function c(d,g,n,h,m,p,q,u){this.displayTime=d;this.duration=g;this.wTb=n;this.xTb=h;this.U0b=m;this.V0b=p;this.QF=q;this.Qna=u;}function k(d,g,n,h,m,p,q){var u;d=new f(d);u=0;d.position=g;this.ja=h;this.identifier=d.tta(4);l.assert("sidx" === this.identifier,h);this.foa=d.zj(36);l.hwb(this.foa,n,h);this.duration=d.Kp(4);this.NK=d.Zg();this.Mv=m;this.Jp=p;this.index=q || 0;this.entries=[];this.images=[];for(this.Zfa=0;u < this.NK;){g=new c(d.Kp(4),d.Kp(4),d.Zg(),d.Zg(),d.Zg(),d.Zg(),d.ZM(),d.Kp(4));u++;this.entries.push(g);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}f=a(57966);l=a(11971);k.prototype.CLb=function(){this.Zfa++;};k.prototype.kAb=function(){var d;d=0;this.Zfa--;1 > this.Zfa?this.images && 0 < this.images.length && (d+=l.Yma([this]),this.images=[]):this.ja.debug("Not cleaning up shared sidx with range",this.Mv,"-",this.Jp);return d;};r.exports=k;},11971:function(r){function b(l,d){return l.some(function(g){return g.id === d;});}function a(l,d){return l.filter(c.bind(null,d)).map(k).reduce(f,0);}function c(l,d){return l.id === d.id && l.displayTime + l.duration === d.displayTime;}function k(l){return l.duration;}function f(l,d){return l + d;}r.exports={hwb:function(l,d,g){for(var n=0;n < l.length;n++){if(l[n] !== d[n])return (g.error("indexId mismatch in sidx",{sIndexId:l,mIndexId:d}),!1);}return !0;},sja:function(l,d,g){var n;n={};n.displayTime=l.displayTime;n.duration=l.duration;n.originX=l.wTb;n.originY=l.xTb;n.sizeX=l.U0b;n.sizeY=l.V0b;n.imageData=d;n.id=l.QF;n.rootContainerExtentX=g.fZb;n.rootContainerExtentY=g.gZb;return n;},ema:function(l,d){return "o_" + l + "s_" + d;},D5b:function(l,d){d("P" === String.fromCharCode(l[1]));d("N" === String.fromCharCode(l[2]));d("G" === String.fromCharCode(l[3]));},Sc:function(l){return "undefined" !== typeof l;},Nfc:b,Dcc:a,eT:function(l,d){var g,n;g=Object.create({});for(n in l){g[n]=l[n];}l instanceof Error && (g.message=l.message,g.stack=l.stack);g.errorString=d;return g;},assert:function(l,d){if(!l)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},k0a:function(l){return l && 0 < l.entries.length && 0 === l.images.length;},f2b:function(l,d){for(var g=d.entries.length,n,h=0;h < g;h++){if((n=d.entries[h],n.displayTime <= l && n.displayTime + n.duration >= l))return !0;}return !1;},g2b:function(l,d,g){for(var n=g.entries.length,h,m,p=0;p < n;p++){h=g.entries[p];m=h.displayTime;h=m + h.duration;if(d < m)break;if(m <= l && h >= l || m > l && m <= d)return !0;}return !1;},ATa:function(l){return l.map(function(d,g){d.duration+=a(l.slice(g + 1),d);return d;}).reduce(function(d,g){b(d,g.id) || d.push(g);return d;},[]);},Yma:function(l){return l.reduce(function(d,g){return d + g.entries.reduce(function(n,h){return h.Qna + n;},0);},0);},yBb:function(l,d){return l && l.Mv <= d && l.Jp >= d;},nHb:function(l){if(l)return l.endTime;},KHb:function(l){try{return String.fromCharCode.apply(String,l);}catch(d){}return "";}};},16272:function(r,b,a){var c;c=a(17187).EventEmitter;a(57159)({});b=function m(f,l,d,g,n,h){if(!(this instanceof m))return new m(f,l,d,g,n,h);c.call(this);this.Zr=f;this.tQ=l;this.w0=d;this.Knb=g;this.Ii={};this.mj={};this.ja=n || console;this.vn=!1;this.vfa=h.ha;this.cpb=h && h.UV || 0;};b.prototype=Object.create(c.prototype);b.prototype.stop=function(){clearTimeout(this.md);this.md=void 0;this.S8();};b.prototype.S8=function(){var f;f=this;Object.keys(f.Ii).forEach(function(l){f.emit("removesubtitle",f.Ii[l]);});f.Ii={};f.mj={};};b.prototype.pause=function(){this.vn || (clearTimeout(this.md),this.md=void 0);};b.prototype.hz=function(f,l){var d,g;d=this;g=d.Zr();f=d.tQ(g);null !== f && d.vn && (d.vn=!1,this.ja.debug("bufferingComplete"),d.emit("bufferingComplete"),this.Knb())?this.ja.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(l="number" === typeof l?l:0,Object.keys(d.Ii).forEach(function(n){n=d.Ii[n];n.displayTime - d.cpb <= g && g < n.displayTime + n.duration || (delete d.Ii[n.id],d.emit("removesubtitle",n));}),Object.keys(d.mj).forEach(function(n){n=d.mj[n];g >= n.displayTime + n.duration && delete d.mj[n.id];}),null !== f && 0 < f.length?(l=f.length,d.ja.debug("found " + l + " entries for pts " + g),f.forEach(function(n){n.displayTime - 0 <= g && g < n.displayTime + n.duration && !d.Ii[n.id] && (d.emit("showsubtitle",n),d.Ii[n.id]=n,delete d.mj[n.id]);}),l=f[f.length - 1],d.Ii[l.id] || d.mj[l.id] || (d.emit("stagesubtitle",l),d.mj[l.id]=l),l=d.Dpb(g,f),"number" === typeof l && Infinity > l?d.RQ(l):d.RQ(2E4)):null === f?(f=250 * Math.pow(2,l),2E3 < f && (f=2E3),d.ja.warn("checking buffer again in " + f + "ms"),d.vn || (d.vn=!0,d.emit("underflow")),d.RQ(f,l + 1)):d.vfa?(f=500,d.ja.trace("Live : No entries for " + g + "checking buffer again in " + f + "ms"),d.RQ(f)):d.RQ(2E4));};b.prototype.RQ=function(f,l){var d;d=this;d.ja.debug("Scheduling pts check.",{timeout:f,ZN:d.md});clearTimeout(d.md);d.md=setTimeout(function(){d.hz(d.Zr(),l);},f);};b.prototype.Dpb=function(f,l){l=l.reduce(this.lob.bind(this,f),Infinity);return Infinity > l?this.w0(l,f):l;};b.prototype.lob=function(f,l,d){var g;g=d.displayTime;d=d.displayTime + d.duration;this.ja.debug("next events: start",g,"end",d,"now",f);return g < l && f < g?g:d < l && f < d?d:l;};r.exports=b;},57966:function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Qma:function(){return this.buffer.length - this.position;},Ky:function(){return this.buffer[this.position++];},zj:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Kp:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},tta:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Zg:function(){return this.Kp(2);},Lp:function(){return this.Kp(4);},ZM:function(){return this.Kp(8);},Nv:function(a){for(var c,k="";a--;){c=this.Ky();k+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return k;},uta:function(a){for(var c=0,k=0;k < a;k++){c+=this.Ky() << (k << 3);}return c;},YM:function(){return this.uta(4);},SX:function(a){this.tO(a,2);},lz:function(a){this.tO(a,4);},X$:function(a){this.buffer[this.position++]=a;},tO:function(a,c){this.position+=c;for(var k=1;k <= c;k++){this.buffer[this.position - k]=a & 255;a=Math.floor(a / 256);}},kz:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},RX:function(a){for(var c=a.length,k=0;k < c;k++){this.buffer[this.position++]=a[k];}},sO:function(a,c){this.RX(a.zj(c));}};r.exports=b;},57159:function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var l,d,g;function c(n,h,m){throw new TypeError(("undefined" !== typeof m.key?"Types: expected " + m.key:"Types: expected argument " + m.index) + (" to be '" + n + "' but found '" + h + "'"));}function k(n,h,m){var p;p=d[n];"undefined" !== typeof p?p(h) || c(n,h,m):n !== typeof h && c(n,h,m);}function f(n,h){var m;m=n.filter(function(p){return "object" !== typeof p && -1 === g.indexOf(p);});m=m.concat(n.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(u){return q[u];}).filter(function(u){return -1 === g.indexOf(u);}));},[]));if(0 < m.length)throw Error(m.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== n.length)throw new TypeError("Types: unexpected number of arguments");n.forEach(function(q,u){var t;t=p[u];if("string" === typeof q)k(q,t,{index:u});else if("object" === typeof q)Object.keys(q).forEach(function(w){k(q[w],t[w],{key:w});});else throw Error("Types: unexpected type in type array");});return h.apply(this,p);};}l=("number boolean string object function symbol").split(" ");d={array:function(n){return Array.isArray(n);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(n){if("undefined" !== typeof d[n] || -1 < l.indexOf(n))throw new TypeError("Types: attempting to override a built in type with " + n);d[n]=a[n];});}g=Object.keys(d).concat(l);return f(["array","function"],f);};},67841:function(r){var b;b={tb:function(a){return "number" === typeof a;},Xs:function(a){return "object" === typeof a;},xg:function(a){return "string" === typeof a;},ji:function(a){return "undefined" === typeof a;},Mdc:function(a){return "boolean" === typeof a;},up:function(a){return "function" === typeof a;},Zb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},XTb:function(a){var c,k;k=[];if(!b.Xs(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && k.push([c,a[c]]);}return k;}};b.Ds=b.forEach=function(a,c,k){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var f=0,l=a.length;f < l;f++){c.call(k,a[f],f,a);}else for(f in a){b.has(a,f) && c.call(k,a[f],f,a);}return a;};r.exports=b;},18987:function(r,b,a){var c,k,f,l,d,g,n,h,m,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;k=Object.prototype.toString;f=a(21414);b=Object.prototype.propertyIsEnumerable;l=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");g=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");n=function(q){var u;u=q.constructor;return u && u.prototype === q;};h={C6b:!0,D6b:!0,E6b:!0,F6b:!0,G6b:!0,H6b:!0,I6b:!0,J6b:!0,K6b:!0,L6b:!0,M6b:!0,N6b:!0,O6b:!0,P6b:!0,Q6b:!0,R6b:!0,S6b:!0,T6b:!0,U6b:!0,V6b:!0,W6b:!0,X6b:!0,Y6b:!0};m=(function(){if("undefined" === typeof pb)return !1;for(var q in pb){try{if(!h["$" + q] && c.call(pb,q) && null !== pb[q] && "object" === typeof pb[q])try{n(pb[q]);}catch(u){return !0;}}catch(u){return !0;}}return !1;})();p=function(q){var u,t,w,v,y,z;u=null !== q && "object" === typeof q;t="[object Function]" === k.call(q);w=f(q);v=u && "[object String]" === k.call(q);y=[];if(!u && !t && !w)throw new TypeError("Object.keys called on a non-object");u=d && t;if(v && 0 < q.length && !c.call(q,0))for(v=0;v < q.length;++v){y.push(String(v));}if(w && 0 < q.length)for(w=0;w < q.length;++w){y.push(String(w));}else for(var x in q){u && "prototype" === x || !c.call(q,x) || y.push(String(x));}if(l){if("undefined" !== typeof pb && m)try{z=n(q);}catch(A){z=!1;}else z=n(q);for(w=0;w < g.length;++w){z && "constructor" === g[w] || !c.call(q,g[w]) || y.push(g[w]);}}return y;};}r.exports=p;},82215:function(r,b,a){var c,k,f,l,d;c=Array.prototype.slice;k=a(21414);f=Object.keys;l=f?function(g){return f(g);}:a(18987);d=Object.keys;l.Xfc=function(){Object.keys?(function(){var g;g=Object.keys(arguments);return g && g.length === arguments.length;})(1,2) || (Object.keys=function(g){return k(g)?d(c.call(g)):d(g);}):Object.keys=l;return Object.keys || l;};r.exports=l;},21414:function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,k;c=b.call(a);k="[object Arguments]" === c;k || (k="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return k;};},33530:function(r,b,a){var k,f,l;function c(d,g,n){var h;if(!n)return !1;n=n[g];return "boolean" === typeof n?!0 === n:(null === n || void 0 === n?void 0:n.length) === (null === (h=d[g].Ye) || void 0 === h?void 0:h.length);}Object.defineProperty(b,"__esModule",{value:!0});b.OTa=b.qn=void 0;k=a(70655);f=a(85392);b.qn=-1;b.OTa=function(d,g,n,h,m){function p(w){var v,y,x,z,A,B;v=g.ce[w];y=c(g.ce,w,n);x=!!v.Ye;z=!!h && !y && x;A=0 === v.jk;v.jk > u && q.xf(("").concat(d,"-").concat(w),{J:d,ta:u,sa:v.jk,type:"content"});x || q.Zqb();!z || A && !m || q.xf(("padstart-").concat(w),{J:b.qn,ta:0,sa:h,type:"padding"});u=v.jk;if(v.Ye && !y){B=null === n || void 0 === n?void 0:n[w];v.Ye.forEach(function(C,D){var F;F=!1;Array.isArray(B) && (F=-1 < B.indexOf(D));F || q.xf(("ad-").concat(w,"-").concat(D),{J:C.id,ta:C.ta,sa:C.sa,type:"ad"});});z && q.xf(("padend-").concat(w),{J:b.qn,ta:0,sa:h,type:"padding"});}}void 0 === h && (h=0);void 0 === m && (m=!1);for(var q=new l(),u=0,t=0;t < g.ce.length;++t){p(t);}q.xf(("").concat(d,"-").concat(g.ce.length),{J:d,ta:u,sa:null,type:"content"});return q.Dh();};l=(function(){function d(){this.cb=new f.ju();}d.prototype.xf=function(g,n){var h,m,p;this.lF || (this.lF=g);if(this.kC){m=k.__read(this.kC,2);p=m[0];m=m[1];m.Ib=g;m.next=(h={},h[g]={},h);"content" === m.type && -1 < ["ad","padding"].indexOf(n.type) && (m.Ln=!0);"content" === n.type && (-1 < ["ad","padding"].indexOf(m.type) || m.Ln) && (n.Es=!0);this.cb.xf(p,m);}this.kC=[g,n];};d.prototype.Zqb=function(){var g,n;if(this.kC){g=k.__read(this.kC,2);n=g[0];g=g[1];"content" === g.type && (g.Ln=!0);this.cb.xf(n,g);this.kC=[n,g];}};d.prototype.Dh=function(){var g;if(this.kC){g=k.__read(this.kC,2);this.cb.xf(g[0],g[1]);}this.kC=void 0;this.lF && this.cb.rH(this.lF);return this.cb.Dh();};return d;})();},80539:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WQa=b.sR=b.yc=void 0;b.yc=function(a,c){for(var k=0;k < a.length;k++){if(c(a[k],k,a))return a[k];}};b.sR=function(a){return a.filter(function(c,k){return a.indexOf(c) === k;});};b.WQa=function(a,c){return a.filter(function(k,f){return a.indexOf(k) === f && -1 !== c.indexOf(k);});};},55169:function(r,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=b.AssertionError=void 0;c=a(70655);k=(function(f){function l(){return null !== f && f.apply(this,arguments) || this;}c.__extends(l,f);return l;})(Error);b.AssertionError=k;b.assert=function(f,l){if(!f)throw new k(l || "Assertion failed");};},78917:function(r,b,a){var g;function c(n){return Object.keys(n.segments).some(function(h){return void 0 !== d(n.segments[h]);});}function k(n){return "delayedSeamless" === n?"lazy":n;}function f(n){return Object.keys(n).reduce(function(h,m){var p,q;p=n[m];q=p.weight;p=p.transitionType || p.transitionHint;m=h[m]={};void 0 !== q && (m.weight=q);p && (m.Xd=k(p));return h;},{});}function l(n){var h,m;h=Object.keys(n);m=h.length;return m?h.reduce(function(p,q){return p + (n[q].weight || 0);},0) / m:void 0;}function d(n){var h;if(n.ui){h=n.ui.interactionZones;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0] - n.startTimeMs;n=n.ui.interactionZonesV2;if((null === n || void 0 === n?0:n.length) && n[0].length)return n[0][0];}else if(void 0 !== n.earliestSkipRequestOffset)return n.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.t2=void 0;g=a(85392);b.t2=function(n,h){var m,p,q,u,t,w;m=void 0 === h?{}:h;h=m.cg;p=m.ve;q=m.L;m=m.config;u=!(!m || -1 === m.Dla.indexOf(n.viewableId));t=c(n)?0:(null === m || void 0 === m?void 0:m.Cla) || 0;m=new g.ju();w=q || n.segments;m.rH(null !== p && void 0 !== p?p:n.initialSegment).A$a(null !== h && void 0 !== h?h:n.mediaTypes).xva(u?"immediate":k(n.transitionType)).qva(Object.keys(w).reduce(function(v,y){var x,z,A,B,C,D;x=w[y];if(null === (z=x.weight) || void 0 === z){z=x.next && (u || (null === (B=x.exitZones) || void 0 === B?0:B.length))?l(x.next):void 0;}B=z;if(z=x.exitZones)C=void 0;else a:{if(u && x.endTimeMs){C=x.endTimeMs - x.startTimeMs;D=d(x);if(D && D < C){C=[[D,C]];break a;}if(t && C > t){C=[[C - t,C]];break a;}}C=void 0;}D=u?C?void 0:x.transitionHint || "lazy":x.transitionHint;B={J:n.viewableId,ta:x.startTimeMs,sa:null !== (A=x.endTimeMs) && void 0 !== A?A:Infinity,Xd:k(D),Eq:z || C,weight:B};x.defaultNext && (B.Ib=x.defaultNext);x.next && (B.next=f(x.next));v[y]=B;return v;},{}));return m.Dh();};},41427:function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(70655);r.__exportStar(a(3491),b);r.__exportStar(a(85392),b);r.__exportStar(a(238),b);r.__exportStar(a(78917),b);r.__exportStar(a(47164),b);r.__exportStar(a(65463),b);r.__exportStar(a(51079),b);r.__exportStar(a(25561),b);r.__exportStar(a(33530),b);},65463:function(r,b,a){var g,n,h,m;function c(p){for(var q=p.ve,u=[];q;){u.push(q);q=p.L[q].next;if(!q)break;q=Object.keys(q);if(q.length)((0,h.assert)(1 === q.length,"Expected linear playgraph"),q=q[0]);else break;}return u;}function k(p){return (0,m.sR)(Object.keys(p.L).map(function(q){return p.L[q].J;}));}function f(p,q){return Object.keys(q.L).some(function(u){u=q.L[u];return p.J === u.J && p.ta > u.ta && (!u.sa || !!p.sa && (Infinity === p.sa || p.sa < u.sa));});}function l(p){return null === p || void 0 === p?Infinity:p;}function d(p,q){return null === p || void 0 === p?Infinity === l(q.sa):p >= q.ta && p <= l(q.sa);}Object.defineProperty(b,"__esModule",{value:!0});b.qqa=void 0;g=a(70655);n=a(85392);h=a(55169);m=a(80539);b.qqa=function(p,q){var u,t,w,v,y;u=c(q);t=k(p);w=k(q);t=(0,m.WQa)(t,w);(0,h.assert)(1 === t.length,"Source and content playgraphs should share one viewable");v=t[0];w=Object.keys(p.L).filter(function(x){return p.L[x].J === v;}).map(function(x){var E,J,L,N,I,O;for(var z,A=p.L[x],B=A.ta,C=l(A.sa),D=0 === B,F=[],G=0;G < u.length;++G){E=u[G];J=q.L[E];L=f(p.L[x],q);if(J.J !== v)D && F.push({id:("").concat(x,":").concat(E),u:g.__assign(g.__assign({},J),{Qb:x})});else if(D){I=Math.max(A.ta,J.ta);N=(O=!Number.isFinite(C) && G === u.length - 1)?C:Math.min(C,l(J.sa));N > I && (L=Infinity !== C || !L && !O?Infinity === N?null:N:A.sa,F.push({id:("").concat(x,":").concat(E),u:g.__assign(g.__assign({},J),{ta:I,sa:L,Qb:x})}));if(d(C,J)){if(C === l(J.sa))for(G+=1;G < u.length;++G){B=u[G];C=q.L[B];if(C.J === v)break;F.push({id:("").concat(x,":").concat(B),u:g.__assign(g.__assign({},C),{Qb:x})});}break;}}else if(d(B,J))if((D=!0,C <= l(J.sa)))F.push({id:x,u:A});else {I=A.ta;O=!Number.isFinite(C) && G === u.length - 1;L=O && L?A.sa:Math.min(C,l(J.sa));F.push({id:("").concat(x,":").concat(E),u:g.__assign(g.__assign({},J),{ta:I,sa:L,Qb:x})});}}F.length || F.push({id:x,u:g.__assign(g.__assign({},A),{Qb:x})});for(G=0;G < F.length - 1;++G){B=F[G + 1].id;F[G].u=g.__assign(g.__assign({},F[G].u),{Ib:B,next:(z={},z[B]={},z)});}z=F[F.length - 1];z.u=g.__assign(g.__assign({},z.u),{Ib:A.Ib,next:A.next});return {id:x,u:A,bbb:F};});y=w.reduce(function(x,z){return (x[z.id]=z.bbb[0].id,x);},{});t=new n.ju();w=w.reduce(function(x,z){z.bbb.forEach(function(A){return x[A.id]=A.u;});return x;},{});return t.qva(w,function(){return !0;},y).jQa(p.L,function(x,z){return !y[z];},y,function(x,z){return g.__assign(g.__assign({},x),{Qb:z});}).rH(y[p.ve] || p.ve).Dh();};},51079:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.W3=b.EEb=b.ila=void 0;c=a(80539);b.ila=function(k,f){var l;return Object.keys(k.L).some(function(d){var g;return null === (g=(l=k.L[d]).next) || void 0 === g?void 0:g[f];})?l:void 0;};b.EEb=function(k,f){return (0,c.yc)(Object.keys(k.L),function(l){var d;return null === (d=k.L[l].next) || void 0 === d?void 0:d[f];});};b.W3=function(k,f){return Object.keys(k.L).filter(function(l){var d;return null === (d=k.L[l].next) || void 0 === d?void 0:d[f];});};},3491:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},85392:function(r,b){function a(k){return k && "object" === typeof k?Array.isArray(k)?k.map(a):Object.keys(k).reduce(function(f,l){f[l]=a(k[l]);return f;},{}):k;}function c(k,f){return Object.keys(k).reduce(function(l,d){return (l[f[d] || d]=k[d],l);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.ju=void 0;r=(function(){function k(f){f && (this.rH(f.ve),this.xva(f.Xd),this.qva(f.L));}k.prototype.rH=function(f){this.ve=f;return this;};k.prototype.xva=function(f){this.Xd=f;return this;};k.prototype.A$a=function(f){this.cg=f;return this;};k.prototype.xf=function(f,l,d){this.L || (this.L={});this.L[f]=a(l);if(d){f=this.L[f];if(l=f.next)f.next=c(l,d);f.Ib && d[f.Ib] && (f.Ib=d[f.Ib]);}return this;};k.prototype.qva=function(f,l,d){void 0 === l && (l=function(){return !0;});this.L={};return this.jQa(f,l,d);};k.prototype.jQa=function(f,l,d,g){var n;n=this;void 0 === l && (l=function(){return !0;});Object.keys(f).filter(function(h){return l(f[h],h);}).forEach(function(h){var m;m=f[h];g && (m=g(m,h));n.xf(h,m,d);});return this;};k.prototype.H_a=function(f){var l;return !(null === (l=this.L) || void 0 === l || !l[f]);};k.prototype.Dh=function(){var f;if(!this.L)throw Error("Invalid playgraph - `segments` is not defined");if(!this.ve)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.L[this.ve])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");f={ve:this.ve,L:this.L};this.Xd && (f.Xd=this.Xd);this.cg && (f.cg=this.cg);return f;};return k;})();b.ju=r;},238:function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zda=void 0;b.zda=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.ve,segments:a.gAb(c.L)},void 0 !== c.Xd?{transitionType:c.Xd}:{});};a.encode=function(c){return Object.assign({ve:c.initialSegment,L:a.XCb(c.segments)},void 0 !== c.transitionType?{Xd:c.transitionType}:{});};a.XCb=function(c){return Object.keys(c).reduce(function(k,f){k[f]=a.WCb(c[f]);return k;},{});};a.WCb=function(c){return Object.assign({J:c.viewableId,ta:c.startTimeMs},c.endTimeMs?{sa:c.endTimeMs}:{},c.defaultNext?{Ib:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Xd:c.transitionType}:{},c.next?{next:a.UCb(c.next)}:{},c.exitZones?{Eq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{Qb:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{Es:c.fadeIn}:{},void 0 !== c.fadeOut?{Ln:c.fadeOut}:{});};a.UCb=function(c){return Object.keys(c).reduce(function(k,f){k[f]=a.VCb(c[f]);return k;},{});};a.VCb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Xd:c.transitionType}:{});};a.gAb=function(c){return Object.keys(c).reduce(function(k,f){k[f]=a.fAb(c[f]);return k;},{});};a.fAb=function(c){return Object.assign({viewableId:c.J,startTimeMs:c.ta},c.sa?{endTimeMs:c.sa}:{},c.Ib?{defaultNext:c.Ib}:{},c.weight?{weight:c.weight}:{},c.Xd?{transitionType:c.Xd}:{},c.next?{next:a.dAb(c.next)}:{},c.Eq?{exitZones:c.Eq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.Qb?{uxSegment:c.Qb}:{},c.type?{type:c.type}:{},void 0 !== c.Es?{fadeIn:c.Es}:{},void 0 !== c.Ln?{fadeOut:c.Ln}:{});};a.dAb=function(c){return Object.keys(c).reduce(function(k,f){k[f]=a.eAb(c[f]);return k;},{});};a.eAb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Xd?{transitionType:c.Xd}:{});};return a;})();},25561:function(r,b,a){var q,u,t,w,v;function c(y,x,z,A,B){var C,D,F;C=y.L[x];D=z.L[C.Qb];A=A.Qb;F=g(C.sa) - C.ta;F=void 0 === B?B=0:B + F;return C.J === (null === D || void 0 === D?void 0:D.J)?{CX:g(C.sa),RR:B}:C.Qb === A && (x=q.__read(k(y,x),1)[0]) && y.L[x].Qb === C.Qb?c(y,x,z,C,F):{CX:D.ta,RR:F};}function k(y,x){return Object.keys(y.L).filter(function(z){return y.L[z].Ib === x;});}function f(y,x,z,A,B){var C,D,F;void 0 === B && (B=0);x=y.L[x];C=z.L[x.Qb];A=A.Qb;D=z.L[A];F=g(x.sa) - x.ta;return x.J === (null === C || void 0 === C?void 0:C.J)?{CX:x.ta,RR:B}:x.Qb === A && x.Ib?f(y,x.Ib,z,x,B + F):{CX:g(D.sa),RR:B};}function l(y,x,z){var A,B,C,D,F,G,E,J,L,N,I,O,K;A=m(y,x,z);if(A)return A;A=y.L[z.u];B=z.offset;C=Object.keys(x.L).filter(function(H){return x.L[H].Qb === z.u;});D=[];C.forEach(function(H){var R,Y,ea;function M(ca){ca=(0,v.W3)(x,ca);null === ca || void 0 === ca?void 0:ca.forEach(function(oa){var Ga,Fa;if(x.L[oa].Qb !== z.u){Ga=x.L[oa];Fa=Ga.sa;ea={u:oa,offset:Fa - Ga.ta};(Ga=Fa?p(y,x,ea):void 0) && D.push({Ax:ea,Up:Ga});Ga || (ea={u:oa,offset:0},(Ga=p(y,x,{u:oa,offset:0})) && D.push({Ax:ea,Up:Ga}));M(oa);}});}R=x.L[H];Y=R.sa;ea={u:H,offset:Y - R.ta};(R=Y?p(y,x,ea):void 0) && D.push({Ax:ea,Up:R});ea={u:H,offset:0};(Y=p(y,x,ea)) && D.push({Ax:ea,Up:Y});Y || R || M(H);});(0,t.assert)(0 < D.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");F=A.ta + B;E=Infinity;D.forEach(function(H){var M;M=H.Up;M=F - (y.L[M.u].ta + M.offset);0 <= M && M < E && (E=M,G=H);});J=[];C.forEach(function(H){var R,Y,ea,ca;function M(oa){Object.keys(x.L[oa].next || ({})).forEach(function(Ga){var Fa,Ja,Xa;if(x.L[Ga].Qb !== z.u){Fa=x.L[Ga];Ja=Fa.ta;Fa=Fa.sa;ca={u:Ga,offset:0};Xa=p(y,x,ca);Xa && J.push({Ax:ca,Up:Xa});Xa || (ca={u:Ga,offset:Fa - Ja},(Ja=Fa?p(y,x,ca):void 0) && J.push({Ax:ca,Up:Ja}));}M(Ga);});}R=x.L[H];Y=R.ta;ea=R.sa;ca={u:H,offset:0};(R=p(y,x,ca)) && J.push({Ax:ca,Up:R});ca={u:H,offset:ea - Y};(Y=ea?p(y,x,ca):void 0) && J.push({Ax:ca,Up:Y});R || Y || M(H);});(0,t.assert)(0 < J.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");N=Infinity;J.forEach(function(H){var M;M=H.Up;M=y.L[M.u].ta + M.offset - F;if(0 <= M && M < N || M > N && 0 > N || Infinity === N)(N=M,L=H);});(0,t.assert)(G);(0,t.assert)(L);B=G.Ax;(0,t.assert)(B,"Segment not found in the combined playgraph");A=L.Ax;(0,t.assert)(A,"Segment not found in the combined playgraph");I=x.L[B.u];C=x.L[A.u];B.offset === g(I.sa) - I.ta && x.L[I.Ib].Qb === I.Qb && (B.u === A.u && B.offset === A.offset && (A={u:C.Ib,offset:0},C=x.L[A.u]),B={u:I.Ib,offset:0},I=x.L[B.u]);O=y.L[G.Up.u].ta + G.Up.offset;K=y.L[L.Up.u].ta + L.Up.offset - O;O=0 === K?0:(F - O) / K;if(B.u === A.u)return (I=I.ta + B.offset,B=B.u,{u:B,offset:I + O * (C.ta + A.offset - I) - x.L[B].ta});K=d(x,B,A);I=K.path;K=K.ZE;C=0 === A.offset?0:g(C.sa) - C.ta;return h(x,I,B.offset + O * (K - B.offset - (C - A.offset)));}function d(y,x,z){var A,B;if(x.u !== z.u){for(x=[x.u];x[x.length - 1] !== z.u;){A=y.L[x[x.length - 1]];(0,t.assert)(A.next,"Cannot find path between points in combined playgraph");if(A.next[z.u])break;B=Object.keys(A.next);1 === B.length?x.push(B[0]):((0,t.assert)(A.Ib,"Multiple paths but no default finding paths between points in combined playgrahp"),x.push(A.Ib));}0 !== z.offset && x.push(z.u);return {path:x,ZE:n(y,x)};}return {path:[],ZE:z.offset - x.offset};}function g(y){return null === y || void 0 === y?Infinity:y;}function n(y,x){return x.reduce(function(z,A){var B;A=y.L[A];B=A.ta;return z + g(A.sa) - B;},0);}function h(y,x,z){var B,C,D;for(var A=0;A < x.length;++A){B=x[A];C=y.L[B];D=C.ta;C=g(C.sa) - D;if(C > z)return {u:B,offset:z};z-=C;}(0,t.assert)(!1,"Invalid offset given for path");}function m(y,x,z){var A,B,C,D,F,G,E,J,L,N,I;B=y.L[z.u];(0,t.assert)(B,("Graph position ").concat(z.u," does not exist in UX playgraph"));C=z.offset;(0,t.assert)(0 <= C,("Graph position offset ").concat(C," cannot be negative"));(0,t.assert)(!B.sa || C <= B.sa - B.ta,("Graph position ").concat(C," offset outside segment"));if(x.L[z.u])return z;D=Object.keys(x.L).filter(function(O){return x.L[O].Qb === z.u;});(0,t.assert)(0 < D.length,"No segments found in combined playgraph that point back to the ux segment");F={};G=0;D.forEach(function(O){if(void 0 === F[O]){for(var K=0;O;){F[O]=[G,K++];O=x.L[O].Ib;}++G;}});D.sort(function(O,K){return F[O][0] !== F[K][0]?1:F[O][1] - F[K][1];});E=B.ta + C;J=D.filter(function(O){return x.L[O].J === B.J;});L=q.__read(D,1)[0];J=J.map(function(O){return [O,x.L[O]];}).filter(function(O){var K;O=q.__read(O,2);K=O[0];return E >= O[1].ta || K === L;});if(J=(0,u.yc)(J,function(O){var K;O=q.__read(O,2)[1];K=O.Ib?x.L[O.Ib]:void 0;return !O.sa || !!O.sa && E < O.sa || (null === K || void 0 === K?void 0:K.Qb) !== z.u && E >= O.ta;})){N=q.__read(J,2);J=N[0];N=N[1];I=(isFinite(E)?E:null !== (A=N.sa) && void 0 !== A?A:Infinity) - N.ta;(0,t.assert)(0 <= I,"Content playgrah graph position offset cannot be negative");A=!0;0 === I && (A=(0,w.ila)(x,J),A=!A || A.Qb !== N.Qb);if(A)return {u:J,offset:I};}D=D.filter(function(O){return x.L[O].J !== B.J;});if(0 === C && (C=(0,w.ila)(y,z.u),!C || C.Qb !== z.u) && (C=(0,u.yc)(D,function(O){return 0 === (0,v.W3)(x,O).length;}),void 0 !== C))return {u:C,offset:0};if(B.sa && Infinity !== B.sa && !(B.sa - B.ta !== z.offset || B.Ib && y.L[B.Ib]) && (C=(0,u.yc)(D,function(O){return !x.L[O].next || 0 === Object.keys(x.L[O].next).length;}),void 0 !== C))return (D=x.L[C],y=D.ta,D=D.sa,(0,t.assert)(D,"Content playgraph segments from other viewables must have end time"),{u:C,offset:D - y});}function p(y,x,z){var A,B;A=x.L[z.u];(0,t.assert)(A,"Graph position does not exist in combined playgraph");B=z.offset;(0,t.assert)(0 <= B,"Graph position offset cannot be negative");(0,t.assert)(!A.sa || B <= A.sa - A.ta,"Graph position offset outside segment");if(void 0 === A.Qb)return z;y=y.L[A.Qb];(0,t.assert)(y,"Referenced ux playgraph segment must exist");if(A.J === y.J)return (B=A.ta + B - y.ta,y=g(y.sa) - y.ta,B=Math.max(Math.min(B,y),0),{u:A.Qb,offset:B});if(0 === B && (z=(0,v.W3)(x,z.u).filter(function(C){return x.L[C].Qb === A.Qb;}),0 === B && 0 === z.length))return {u:A.Qb,offset:0};B=A.Ib?x.L[A.Ib]:void 0;if((null === B || void 0 === B?void 0:B.Qb) !== A.Qb)return {u:A.Qb,offset:y.sa?y.sa - y.ta:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.rYa=b.Bdb=b.hTa=void 0;q=a(70655);u=a(80539);t=a(55169);w=a(51079);v=a(41427);b.hTa=function(y,x,z){var A,B,C,D;A=x.L[z.u];B=p(y,x,z);if(B)return B;(0,t.assert)(A.Qb,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");C=y.L[A.Qb];(0,t.assert)(C,"Referenced ux playgraph segment must exist");(0,t.assert)(A.sa,"Content playgraph segments from other viewables must have end time");if(!A.Ib || !x.L[A.Ib])return ((0,t.assert)(C.sa,"Must have definite end time to add terminal content playgraph segment"),{u:A.Qb,offset:C.sa - C.ta});D=c(x,z.u,y,A);B=D.CX;D=D.RR;if(null === B || void 0 === B)return ((0,t.assert)(C.sa,"Experience playgraph segment must have end time"),{u:A.Qb,offset:C.sa - C.ta});x=f(x,z.u,y,A);y=x.CX;x=x.RR;null !== y && void 0 !== y && isFinite(y) || (0,t.assert)(y,"Experience playgraph segment must have end time");return {u:A.Qb,offset:B + (D + z.offset) / (D + x) * (y - B)};};b.Bdb=l;b.rYa=function(y,x,z){var A,B,C;return q.__generator(this,function(D){switch(D.label){case 0:(A=l(y,x,z),B=x.L[A.u],C=A.u,D.label=1);case 1:return [4,C];case 2:(D.Qa(),C=B.Ib,B=x.L[C],D.label=3);case 3:if((null === B || void 0 === B?void 0:B.Qb) === z.u && C !== A.u)return [3,1];D.label=4;case 4:return [2];}});};},47164:function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Q9=void 0;c=a(85392);b.Q9=function(k,f,l){var d;d=new c.ju();d.rH(f).xva("lazy").A$a(l).xf(f,{J:k,ta:0,sa:Infinity});return d.Dh();};},88385:function(r,b,a){var d,g,n,h;function c(m){var p,q,u;if("Object" !== n(this))throw new TypeError("receiver is not an Object");p=g(this,h);q=m;u=m;d(m) && (q=f(p,m),u=k(p,m));return this.then(q,u);}function k(m,p){return function(q){var u;u=p();return l(m,u).then(function(){throw q;});};}function f(m,p){return function(q){var u;u=p();return l(m,u).then(function(){return q;});};}function l(m,p){return new m(function(q){q(p);});}a(77971)();d=a(61787);g=a(39655);n=a(53633);h=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},18076:function(r,b,a){var c,k;c=a(77971);k=a(88385);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:k;};},77971:function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},13547:function(r,b,a){var c,k,f;c=a(77971);k=a(18076);f=a(4289);r.exports=function(){var l;c();l=k();f(Promise.prototype,{"finally":l},{"finally":function(){return Promise.prototype["finally"] !== l;}});return l;};},63195:function(r,b,a){var c;c=a(7455);b=a(79002)(function(k,f){return c(k.length,function(){return k.apply(f,arguments);});});r.exports=b;},38907:function(r,b,a){var c,k,f,l,d;b=a(79002);c=a(36692);k=a(2220);f=a(21186);l=a(84585);d=a(20793);a=b(function(g,n){return k(d(f,0,l("length",n)),function(){var h,m;h=arguments;m=this;return g.apply(m,c(function(p){return p.apply(m,h);},n));});});r.exports=a;},2220:function(r,b,a){var c,k,f;c=a(7455);k=a(76224);b=a(79002);f=a(32738);a=b(function(l,d){return 1 === l?k(d):c(l,f(l,[],d));});r.exports=a;},22013:function(r,b,a){var c;c=a(28247);b=a(16370)(function(k,f,l){for(var d=[],g=0,n=f.length;g < n;){c(k,f[g],l) || c(k,f[g],d) || d.push(f[g]);g+=1;}return d;});r.exports=b;},51383:function(r,b,a){var c,k,f,l,d,g;b=a(79002);c=a(34793);k=a(34877);f=a(8291);l=a(39488);d=a(11383);g=a(90368);a=b(c(["filter"],d,function(n,h){return f(h)?l(function(m,p){n(h[p]) && (m[p]=h[p]);return m;},{},g(h)):k(n,h);}));r.exports=a;},17233:function(r,b,a){b=a(79002)(function(c,k){for(var f=[],l=0,d=k.length;l < d;){for(var g=l + 1;g < d && c(k[g - 1],k[g]);){g+=1;}f.push(k.slice(l,g));l=g;}return f;});r.exports=b;},7455:function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,k){return a.apply(this,arguments);};case 3:return function(c,k,f){return a.apply(this,arguments);};case 4:return function(c,k,f,l){return a.apply(this,arguments);};case 5:return function(c,k,f,l,d){return a.apply(this,arguments);};case 6:return function(c,k,f,l,d,g){return a.apply(this,arguments);};case 7:return function(c,k,f,l,d,g,n){return a.apply(this,arguments);};case 8:return function(c,k,f,l,d,g,n,h){return a.apply(this,arguments);};case 9:return function(c,k,f,l,d,g,n,h,m){return a.apply(this,arguments);};case 10:return function(c,k,f,l,d,g,n,h,m,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},48770:function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},14011:function(r){r.exports=function(b,a){var c,k,f,l;b=b || [];a=a || [];k=b.length;f=a.length;l=[];for(c=0;c < k;){l[l.length]=b[c];c+=1;}for(c=0;c < f;){l[l.length]=a[c];c+=1;}return l;};},28247:function(r){r.exports=function(b,a,c){for(var k=0,f=c.length;k < f;){if(b(a,c[k]))return !0;k+=1;}return !1;};},76224:function(r,b,a){var c;c=a(36464);r.exports=function(k){return function d(l){return 0 === arguments.length || c(l)?d:k.apply(this,arguments);};};},79002:function(r,b,a){var c,k;c=a(76224);k=a(36464);r.exports=function(f){return function n(d,g){switch(arguments.length){case 0:return n;case 1:return k(d)?n:c(function(h){return f(d,h);});default:return k(d) && k(g)?n:k(d)?c(function(h){return f(h,g);}):k(g)?c(function(h){return f(d,h);}):f(d,g);}};};},16370:function(r,b,a){var c,k,f;c=a(76224);k=a(79002);f=a(36464);r.exports=function(l){return function m(g,n,h){switch(arguments.length){case 0:return m;case 1:return f(g)?m:k(function(p,q){return l(g,p,q);});case 2:return f(g) && f(n)?m:f(g)?k(function(p,q){return l(p,n,q);}):f(n)?k(function(p,q){return l(g,p,q);}):c(function(p){return l(g,n,p);});default:return f(g) && f(n) && f(h)?m:f(g) && f(n)?k(function(p,q){return l(p,q,h);}):f(g) && f(h)?k(function(p,q){return l(p,n,q);}):f(n) && f(h)?k(function(p,q){return l(g,p,q);}):f(g)?c(function(p){return l(p,n,h);}):f(n)?c(function(p){return l(g,p,h);}):f(h)?c(function(p){return l(g,n,p);}):l(g,n,h);}};};},32738:function(r,b,a){var k,f;function c(l,d,g){return function(){var q;for(var n=[],h=0,m=l,p=0;p < d.length || h < arguments.length;){if(p < d.length && (!f(d[p]) || h >= arguments.length))q=d[p];else (q=arguments[h],h+=1);n[p]=q;f(q) || --m;p+=1;}return 0 >= m?g.apply(this,n):k(m,c(l,n,g));};}k=a(7455);f=a(36464);r.exports=c;},34793:function(r,b,a){var c,k;c=a(20219);k=a(69082);r.exports=function(f,l,d){return function(){var g,n;if(0 === arguments.length)return d();g=Array.prototype.slice.call(arguments,0);n=g.pop();if(!c(n)){for(var h=0;h < f.length;){if("function" === typeof n[f[h]])return n[f[h]].apply(n,g);h+=1;}if(k(n))return l.apply(null,g)(n);}return d.apply(this,arguments);};};},34877:function(r){r.exports=function(b,a){for(var c=0,k=a.length,f=[];c < k;){b(a[c]) && (f[f.length]=a[c]);c+=1;}return f;};},87684:function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},97587:function(r,b,a){var c,k;c=a(87684);k=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === k.call(arguments)?function(f){return "[object Arguments]" === k.call(f);}:function(f){return c("callee",f);};};},20219:function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},3219:function(r,b,a){var c,k;b=a(76224);c=a(20219);k=a(20190);a=b(function(f){return c(f)?!0:!f || "object" !== typeof f || k(f)?!1:1 === f.nodeType?!!f.length:0 === f.length?!0:0 < f.length?f.hasOwnProperty(0) && f.hasOwnProperty(f.length - 1):!1;});r.exports=a;},8291:function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},36464:function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},20190:function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},69082:function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},36692:function(r){r.exports=function(b,a){for(var c=0,k=a.length,f=Array(k);c < k;){f[c]=b(a[c]);c+=1;}return f;};},39488:function(r,b,a){var f,l,d,g;function c(n,h,m){for(var p=m.next();!p.done;){if((h=n["@@transducer/step"](h,p.value)) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}p=m.next();}return n["@@transducer/result"](h);}function k(n,h,m,p){return n["@@transducer/result"](m[p](d(n["@@transducer/step"],n),h));}f=a(3219);l=a(39874);d=a(63195);g="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(n,h,m){"function" === typeof n && (n=l(n));if(f(m)){for(var p=0,q=m.length;p < q;){if((h=n["@@transducer/step"](h,m[p])) && h["@@transducer/reduced"]){h=h["@@transducer/value"];break;}p+=1;}return n["@@transducer/result"](h);}if("function" === typeof m["fantasy-land/reduce"])return k(n,h,m,"fantasy-land/reduce");if(null != m[g])return c(n,h,m[g]());if("function" === typeof m.next)return c(n,h,m);if("function" === typeof m.reduce)return k(n,h,m,"reduce");throw new TypeError("reduce: list must be array or iterable");};},93714:function(r){r.exports={va:function(){return this.TX["@@transducer/init"]();},result:function(b){return this.TX["@@transducer/result"](b);}};},11383:function(r,b,a){var c,k;b=a(79002);c=a(93714);k=(function(){function f(l,d){this.TX=d;this.f=l;}f.prototype["@@transducer/init"]=c.va;f.prototype["@@transducer/result"]=c.result;f.prototype["@@transducer/step"]=function(l,d){return this.f(d)?this.TX["@@transducer/step"](l,d):l;};return f;})();a=b(function(f,l){return new k(f,l);});r.exports=a;},72894:function(r,b,a){var c,k;b=a(79002);c=a(93714);k=(function(){function f(l,d){this.TX=d;this.f=l;}f.prototype["@@transducer/init"]=c.va;f.prototype["@@transducer/result"]=c.result;f.prototype["@@transducer/step"]=function(l,d){return this.TX["@@transducer/step"](l,this.f(d));};return f;})();a=b(function(f,l){return new k(f,l);});r.exports=a;},39874:function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,k){return this.f(c,k);};return a;})();r.exports=function(a){return new b(a);};},55389:function(r,b,a){var c;b=a(76224);c=a(38907);a=b(function(k){return c(function(){return Array.prototype.slice.call(arguments,0);},k);});r.exports=a;},90368:function(r,b,a){var c,k,f,l,d;b=a(76224);c=a(87684);k=a(97587);f=!({toString:null}).propertyIsEnumerable("toString");l=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(g){var n,h,m,p;if(Object(g) !== g)return [];n=[];h=d && k(g);for(m in g){!c(m,g) || h && "length" === m || (n[n.length]=m);}if(f)for(h=l.length - 1;0 <= h;){m=l[h];if(p=c(m,g)){a:{for(p=0;p < n.length;){if(n[p] === m){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (n[n.length]=m);--h;}return n;}:function(g){return Object(g) !== g?[]:Object.keys(g);});r.exports=a;},61894:function(r,b,a){var c,k,f,l,d,g;b=a(79002);c=a(34793);k=a(36692);f=a(39488);l=a(72894);d=a(2220);g=a(90368);a=b(c(["fantasy-land/map","map"],l,function(n,h){switch(Object.prototype.toString.call(h)){case "[object Function]":return d(h.length,function(){return n.call(this,h.apply(this,arguments));});case "[object Object]":return f(function(m,p){m[p]=n(h[p]);return m;},{},g(h));default:return k(n,h);}}));r.exports=a;},21186:function(r,b,a){b=a(79002)(function(c,k){return k > c?k:c;});r.exports=b;},71334:function(r,b,a){var c;b=a(16370);c=a(39036);a=b(function(k,f,l){return c(function(d,g,n){return k(g,n);},f,l);});r.exports=a;},39036:function(r,b,a){var c,k;b=a(16370);c=a(8291);k=a(56027);a=b(function n(l,d,g){return k(function(h,m,p){return c(m) && c(p)?n(l,m,p):l(h,m,p);},d,g);});r.exports=a;},56027:function(r,b,a){var c;b=a(16370);c=a(87684);a=b(function(k,f,l){var d,g;d={};for(g in f){c(g,f) && (d[g]=c(g,l)?k(g,f[g],l[g]):f[g]);}for(g in l){c(g,l) && !c(g,d) && (d[g]=l[g]);}return d;});r.exports=a;},38135:function(r,b,a){var c;b=a(51383);c=a(55389);a=a(63266);a=c([b,a]);r.exports=a;},87430:function(r,b,a){b=a(79002)(function(c,k){for(var f=0;f < c.length;){if(null == k)return;k=k[c[f]];f+=1;}return k;});r.exports=b;},84585:function(r,b,a){var c,k;b=a(79002);c=a(61894);k=a(52478);a=b(function(f,l){return c(k(f),l);});r.exports=a;},52478:function(r,b,a){var c;b=a(79002);c=a(87430);a=b(function(k,f){return c([k],f);});r.exports=a;},20793:function(r,b,a){b=a(16370);a=a(39488);a=b(a);r.exports=a;},63266:function(r,b,a){var c,k;c=a(48770);b=a(79002);k=a(51383);a=b(function(f,l){return k(c(f),l);});r.exports=a;},90014:function(r,b,a){var c,k;c=a(14011);b=a(16370);k=a(77263);a=b(function(f,l,d){return k(f,c(l,d));});r.exports=a;},77263:function(r,b,a){var c;c=a(28247);b=a(79002)(function(k,f){for(var l=0,d=f.length,g=[],n;l < d;){n=f[l];c(k,n,g) || (g[g.length]=n);l+=1;}return g;});r.exports=b;},28660:function(r,b,a){var c;(function(k){var F,G,E,J,L,N,I,O,K;function f(H,M,R){var Y;Y=K.get(H);if(!Y){if(!R)return;Y=new I();K.set(H,Y);}H=Y.get(M);if(!H){if(!R)return;H=new I();Y.set(M,H);}return H;}function l(H,M,R){if(d(H,M,R))return !0;M=w(M);return null !== M?l(H,M,R):!1;}function d(H,M,R){M=f(M,R,!1);return void 0 !== M && !!M.has(H);}function g(H,M,R){if(d(H,M,R))return n(H,M,R);M=w(M);return null !== M?g(H,M,R):void 0;}function n(H,M,R){M=f(M,R,!1);return void 0 === M?void 0:M.get(H);}function h(H,M){var R,ea;R=m(H,M);H=w(H);if(null === H)return R;M=h(H,M);if(0 >= M.length)return R;if(0 >= R.length)return M;H=new O();for(var Y=0;Y < R.length;Y++){ea=R[Y];H.add(ea);}for(R=0;R < M.length;R++){ea=M[R];H.add(ea);}return x(H);}function m(H,M){var R;H=f(H,M,!1);R=[];H && y(H,function(Y,ea){return R.push(ea);});return R;}function p(H){return void 0 === H;}function q(H){return Array.isArray?Array.isArray(H):H instanceof Array || "[object Array]" === Object.prototype.toString.call(H);}function u(H){return "object" === typeof H?null !== H:"function" === typeof H;}function t(H){return "symbol" === typeof H?H:String(H);}function w(H){var M,R;M=Object.getPrototypeOf(H);if("function" !== typeof H || H === N || M !== N)return M;R=H.prototype;R=R && Object.getPrototypeOf(R);if(null == R || R === Object.prototype)return M;R=R.constructor;return "function" !== typeof R || R === H?M:R;}function v(H){H=H.next();return H.done?void 0:H;}function y(H,M,R){var Y,ea,ca;Y=H.entries;if("function" === typeof Y){Y=Y.call(H);try{for(;ea=v(Y);){ca=ea.value;M.call(R,ca[1],ca[0],H);}}finally{ea && (H=Y["return"]) && H.call(Y);}}else (Y=H.forEach,"function" === typeof Y && Y.call(H,M,R));}function x(H){var M;M=[];y(H,function(R,Y){M.push(Y);});return M;}function z(H,M,R){var Y;Y=0;return {next:function(){var ea;if((H || M) && Y < (H || M).length){ea=Y++;switch(R){case "key":return {value:H[ea],done:!1};case "value":return {value:M[ea],done:!1};case "key+value":return {value:[H[ea],M[ea]],done:!1};}}M=H=void 0;return {value:void 0,done:!0};},"throw":function(ea){if(H || M)M=H=void 0;throw ea;},"return":function(ea){if(H || M)M=H=void 0;return {value:ea,done:!0};}};}function A(){var H;H={};return (function(){function M(){this.Ue=[];this.wf=[];this.vu=H;this.Ur=-2;}Object.defineProperty(M.prototype,"size",{get:function(){return this.Ue.length;},enumerable:!0,configurable:!0});M.prototype.has=function(R){return 0 <= this.Vw(R,!1);};M.prototype.get=function(R){R=this.Vw(R,!1);return 0 <= R?this.wf[R]:void 0;};M.prototype.set=function(R,Y){R=this.Vw(R,!0);this.wf[R]=Y;return this;};M.prototype.delete=function(R){var Y;Y=this.Vw(R,!1);if(0 <= Y){R=this.Ue.length;for(Y+=1;Y < R;Y++){this.Ue[Y - 1]=this.Ue[Y];this.wf[Y - 1]=this.wf[Y];}this.Ue.length--;this.wf.length--;this.vu=H;this.Ur=-2;return !0;}return !1;};M.prototype.clear=function(){this.Ue.length=0;this.wf.length=0;this.vu=H;this.Ur=-2;};M.prototype.keys=function(){return z(this.Ue,void 0,"key");};M.prototype.values=function(){return z(void 0,this.wf,"value");};M.prototype.entries=function(){return z(this.Ue,this.wf,"key+value");};M.prototype.Vw=function(R,Y){var ea;if(this.vu === R)return this.Ur;ea=this.Ue.indexOf(R);0 > ea && Y && (ea=this.Ue.length,this.Ue.push(R),this.wf.push(void 0));return (this.vu=R,this.Ur=ea);};return M;})();}function B(){return (function(){function H(){this.Hf=new I();}Object.defineProperty(H.prototype,"size",{get:function(){return this.Hf.size;},enumerable:!0,configurable:!0});H.prototype.has=function(M){return this.Hf.has(M);};H.prototype.add=function(M){return (this.Hf.set(M,M),this);};H.prototype.delete=function(M){return this.Hf.delete(M);};H.prototype.clear=function(){this.Hf.clear();};H.prototype.keys=function(){return this.Hf.keys();};H.prototype.values=function(){return this.Hf.values();};H.prototype.entries=function(){return this.Hf.entries();};return H;})();}function C(){var Y,ea;function H(ca,oa){for(var Ga=0;Ga < oa;++Ga){ca[Ga]=255 * Math.random() | 0;}return ca;}function M(){var ca,Fa;do {ca="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):H(new Uint8Array(16),16):H(Array(16),16);ca[6]=ca[6] & 79 | 64;ca[8]=ca[8] & 191 | 128;for(var oa="",Ga=0;16 > Ga;++Ga){Fa=ca[Ga];if(4 === Ga || 6 === Ga || 8 === Ga)oa+="-";16 > Fa && (oa+="0");oa+=Fa.toString(16).toLowerCase();}ca="@@WeakMap@@" + oa;}while(L.has(Y,ca));Y[ca]=!0;return ca;}function R(ca,oa){if(!F.call(ca,ea)){if(!oa)return;Object.defineProperty(ca,ea,{value:J()});}return ca[ea];}Y=J();ea=M();return (function(){function ca(){this.ds=M();}ca.prototype.has=function(oa){oa=R(oa,!1);return void 0 !== oa?L.has(oa,this.ds):!1;};ca.prototype.get=function(oa){oa=R(oa,!1);return void 0 !== oa?L.get(oa,this.ds):void 0;};ca.prototype.set=function(oa,Ga){R(oa,!0)[this.ds]=Ga;return this;};ca.prototype.delete=function(oa){oa=R(oa,!1);return void 0 !== oa?delete oa[this.ds]:!1;};ca.prototype.clear=function(){this.ds=M();};return ca;})();}function D(H){H.Nac=1;delete H.Oac;return H;}F=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;E=(function(){var M;function H(){}M={};H.prototype=M;return new H().__proto__ === M;})();J=G?function(){return D(Object.create(null));}:E?function(){return D({__proto__:null});}:function(){return D({});};(function(H){var M;M=!G && !E;H.has=M?function(R,Y){return F.call(R,Y);}:function(R,Y){return (Y in R);};H.get=M?function(R,Y){return F.call(R,Y)?R[Y]:void 0;}:function(R,Y){return R[Y];};})(L || (L={}));N=Object.getPrototypeOf(Function);I="function" === typeof Map?Map:A();O="function" === typeof Set?Set:B();K=new ("function" === typeof WeakMap?WeakMap:C())();k.JA=function(H,M,R,Y){var ca;if(p(Y)){if(p(R)){if(!q(H))throw new TypeError();if("function" !== typeof M)throw new TypeError();for(R=H.length - 1;0 <= R;--R){if((Y=(0,H[R])(M),!p(Y))){if("function" !== typeof Y)throw new TypeError();M=Y;}}return M;}if(!q(H))throw new TypeError();if(!u(M))throw new TypeError();R=t(R);for(Y=H.length - 1;0 <= Y;--Y){(0,H[Y])(M,R);}}else {if(!q(H))throw new TypeError();if(!u(M))throw new TypeError();if(p(R))throw new TypeError();if(!u(Y))throw new TypeError();R=t(R);for(var ea=H.length - 1;0 <= ea;--ea){ca=(0,H[ea])(M,R,Y);if(!p(ca)){if(!u(ca))throw new TypeError();Y=ca;}}return Y;}};k.Bd=function(H,M){return function(R,Y){if(p(Y)){if("function" !== typeof R)throw new TypeError();f(R,void 0,!0).set(H,M);}else {if(!u(R))throw new TypeError();Y=t(Y);f(R,Y,!0).set(H,M);}};};k.g3=function(H,M,R,Y){if(!u(R))throw new TypeError();p(Y) || (Y=t(Y));f(R,Y,!0).set(H,M);};k.zKb=function(H,M){var R;if(!u(M))throw new TypeError();p(R) || (R=t(R));return l(H,M,R);};k.Ana=function(H,M){var R;if(!u(M))throw new TypeError();p(R) || (R=t(R));return d(H,M,R);};k.getMetadata=function(H,M,R){if(!u(M))throw new TypeError();p(R) || (R=t(R));return g(H,M,R);};k.yZa=function(H,M,R){if(!u(M))throw new TypeError();p(R) || (R=t(R));return n(H,M,R);};k.kdc=function(H,M){if(!u(H))throw new TypeError();p(M) || (M=t(M));return h(H,M);};k.mdc=function(H,M){if(!u(H))throw new TypeError();p(M) || (M=t(M));return m(H,M);};k.qcc=function(H,M,R){var Y;if(!u(M))throw new TypeError();p(R) || (R=t(R));Y=f(M,R,!1);if(p(Y) || !Y.delete(H))return !1;if(0 < Y.size)return !0;H=K.get(M);H.delete(R);if(0 < H.size)return !0;K.delete(M);return !0;};(function(H){if("undefined" !== typeof H.Reflect){if(H.Reflect !== k)for(var M in k){F.call(k,M) && (H.Reflect[M]=k[M]);}}else H.Reflect=k;})("undefined" !== typeof pb?pb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a.j4?a.j4:Function("return this;")());})(c || (c={}));},79246:function(r,b,a){var c,k,f,l;b=a(21924);c=a(40210);k=a(98420);f=b("RegExp.prototype.exec");l=c("%TypeError%");r.exports=function(d){if(!k(d))throw new l("`regex` must be a RegExp");return function(g){return null !== f(d,g);};};},14378:function(r,b,a){var d;function c(g,n,h){this.xK=!1 === g;this.Hn=g || .01;this.Zba=void 0 === n?25:n;this.gAa=void 0 === h?1.1:h;this.qj=new d(k);this.reset();}function k(g,n){return g.Qf > n.Qf?1:g.Qf < n.Qf?-1:0;}function f(g,n){return g.xv - n.xv;}function l(g){this.config=g || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?g.Hn:!1);this.fBb=this.config.ratio || .9;this.gBb=this.config.tgc || 1E3;this.p7=0;}d=a(77424).glb;c.prototype.reset=function(){this.qj.clear();this.jpa=this.n=0;};c.prototype.size=function(){return this.qj.size;};c.prototype.yr=function(g){var n;n=[];g?(this.k0(!0),this.qj.Ds(function(h){n.push(h);})):this.qj.Ds(function(h){n.push({Qf:h.Qf,n:h.n});});return n;};c.prototype.summary=function(){return [(this.xK?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.si(0),"Q1  = " + this.si(.25),"Q2  = " + this.si(.5),"Q3  = " + this.si(.75),"max = " + this.si(1)].join("\n");};c.prototype.push=function(g,n){n=n || 1;g=Array.isArray(g)?g:[g];for(var h=0;h < g.length;h++){this.ANa(g[h],n);}};c.prototype.ota=function(g){g=Array.isArray(g)?g:[g];for(var n=0;n < g.length;n++){this.ANa(g[n].Qf,g[n].n);}};c.prototype.k0=function(g){var n;if(!(this.n === this.jpa || !g && this.gAa && this.gAa > this.n / this.jpa)){n=0;this.qj.Ds(function(h){h.xv=n + h.n / 2;n=h.pK=n + h.n;});this.n=this.jpa=n;}};c.prototype.KEb=function(g){var n,h;if(0 === this.size())return null;n=this.qj.lowerBound({Qf:g});h=null === n.data()?n.XG():n.data();return h.Qf === g || this.xK?h:(n=n.XG()) && Math.abs(n.Qf - g) < Math.abs(h.Qf - g)?n:h;};c.prototype.zJ=function(g,n,h){this.qj.Ts({Qf:g,n:n,pK:h});this.n+=n;};c.prototype.Z_=function(g,n,h){n !== g.Qf && (g.Qf+=h * (n - g.Qf) / (g.n + h));g.pK+=h;g.xv+=h / 2;g.n+=h;this.n+=h;};c.prototype.ANa=function(g,n){var h,m,p;h=this.qj.min();m=this.qj.max();p=this.KEb(g);p && p.Qf === g?this.Z_(p,g,n):p === h?this.zJ(g,n,0):p === m?this.zJ(g,n,this.n):this.xK?this.zJ(g,n,p.pK):(h=p.xv / this.n,Math.floor(4 * this.n * this.Hn * h * (1 - h)) - p.n >= n?this.Z_(p,g,n):this.zJ(g,n,p.pK));this.k0(!1);!this.xK && this.Zba && this.size() > this.Zba / this.Hn && this.Cx();};c.prototype.stb=function(g){var n,h;this.qj.Wr=f;n=this.qj.upperBound({xv:g});this.qj.Wr=k;h=n.XG();g=h && h.xv === g?h:n.next();return [h,g];};c.prototype.si=function(g){var n;n=(Array.isArray(g)?g:[g]).map(this.Oob,this);return Array.isArray(g)?n:n[0];};c.prototype.Oob=function(g){var n,h;if(0 !== this.size()){this.k0(!0);this.qj.min();this.qj.max();g*=this.n;n=this.stb(g);h=n[0];n=n[1];return n === h || null === h || null === n?(h || n).Qf:this.xK?g <= h.pK?h.Qf:n.Qf:h.Qf + (g - h.xv) * (n.Qf - h.Qf) / (n.xv - h.xv);}};c.prototype.Cx=function(){var g;if(!this.rTa){g=this.yr();this.reset();for(this.rTa=!0;0 < g.length;){this.ota(g.splice(Math.floor(Math.random() * g.length),1)[0]);}this.k0(!0);this.rTa=!1;}};l.prototype=Object.create(c.prototype);l.prototype.constructor=l;l.prototype.push=function(g){c.prototype.push.call(this,g);this.tvb();};l.prototype.zJ=function(g,n,h){this.p7+=1;c.prototype.zJ.call(this,g,n,h);};l.prototype.Z_=function(g,n,h){1 === g.n && --this.p7;c.prototype.Z_.call(this,g,n,h);};l.prototype.tvb=function(){!("auto" !== this.mode || this.size() < this.gBb) && this.p7 / this.size() > this.fBb && (this.mode="cont",this.xK=!1,this.Hn=this.config.Hn || .01,this.Cx());};r.exports={TDigest:c,Digest:l};},70655:function(r,b,a){var J,L;function c(){c=Object.assign || (function(N){for(var I,O=1,K=arguments.length;O < K;O++){I=arguments[O];for(var H in I){Object.prototype.hasOwnProperty.call(I,H) && (N[H]=I[H]);}}return N;});return c.apply(this,arguments);}function k(N,I){k=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(O,K){O.__proto__=K;}) || (function(O,K){for(var H in K){Object.prototype.hasOwnProperty.call(K,H) && (O[H]=K[H]);}});return k(N,I);}function f(N,I){function O(){this.constructor=N;}if("function" !== typeof I && null !== I)throw new TypeError("Class extends value " + String(I) + " is not a constructor or null");k(N,I);N.prototype=null === I?Object.create(I):(O.prototype=I.prototype,new O());}function l(N,I){var O,K,H;O={};for(K in N){Object.prototype.hasOwnProperty.call(N,K) && 0 > I.indexOf(K) && (O[K]=N[K]);}if(null != N && "function" === typeof Object.getOwnPropertySymbols){H=0;for(K=Object.getOwnPropertySymbols(N);H < K.length;H++){0 > I.indexOf(K[H]) && Object.prototype.propertyIsEnumerable.call(N,K[H]) && (O[K[H]]=N[K[H]]);}}return O;}function d(N,I,O,K){var H,M,R;H=arguments.length;M=3 > H?I:null === K?K=Object.getOwnPropertyDescriptor(I,O):K;if("object" === typeof Reflect && "function" === typeof Reflect.JA)M=Reflect.JA(N,I,O,K);else for(var Y=N.length - 1;0 <= Y;Y--){if(R=N[Y])M=(3 > H?R(M):3 < H?R(I,O,M):R(I,O)) || M;}return (3 < H && M && Object.defineProperty(I,O,M),M);}function g(N,I){return function(O,K){I(O,K,N);};}function n(N,I){if("object" === typeof Reflect && "function" === typeof Reflect.Bd)return Reflect.Bd(N,I);}function h(N,I,O,K){function H(M){return M instanceof O?M:new O(function(R){R(M);});}return new (O || (O=Promise))(function(M,R){function Y(oa){try{ca(K.next(oa));}catch(Ga){R(Ga);}}function ea(oa){try{ca(K["throw"](oa));}catch(Ga){R(Ga);}}function ca(oa){oa.done?M(oa.value):H(oa.value).then(Y,ea);}ca((K=K.apply(N,I || [])).next());});}function m(N,I){var H,M,R,Y,ea;function O(ca){return function(oa){return K([ca,oa]);};}function K(ca){if(M)throw new TypeError("Generator is already executing.");for(;(ea && (ea=0,ca[0] && (H=0)),H);){try{if((M=1,R && (Y=ca[0] & 2?R["return"]:ca[0]?R["throw"] || ((Y=R["return"]) && Y.call(R),0):R.next) && !(Y=Y.call(R,ca[1])).done))return Y;if((R=0,Y))ca=[ca[0] & 2,Y.value];switch(ca[0]){case 0:case 1:Y=ca;break;case 4:return (H.label++,{value:ca[1],done:!1});case 5:H.label++;R=ca[1];ca=[0];continue;case 7:ca=H.HG.pop();H.Oj.pop();continue;default:if(!(Y=H.Oj,Y=0 < Y.length && Y[Y.length - 1]) && (6 === ca[0] || 2 === ca[0])){H=0;continue;}if(3 === ca[0] && (!Y || ca[1] > Y[0] && ca[1] < Y[3]))H.label=ca[1];else if(6 === ca[0] && H.label < Y[1])(H.label=Y[1],Y=ca);else if(Y && H.label < Y[2])(H.label=Y[2],H.HG.push(ca));else {Y[2] && H.HG.pop();H.Oj.pop();continue;}}ca=I.call(N,H);}catch(oa){ca=[6,oa];R=0;}finally{M=Y=0;}}if(ca[0] & 5)throw ca[1];return {value:ca[0]?ca[1]:void 0,done:!0};}H={label:0,Qa:function(){if(Y[0] & 1)throw Y[1];return Y[1];},Oj:[],HG:[]};return (ea={next:O(0),"throw":O(1),"return":O(2)},"function" === typeof Symbol && (ea[Symbol.iterator]=function(){return this;}),ea);}function p(N,I){for(var O in N){"default" === O || Object.prototype.hasOwnProperty.call(I,O) || J(I,N,O);}}function q(N){var I,O,K;I="function" === typeof Symbol && Symbol.iterator;O=I && N[I];K=0;if(O)return O.call(N);if(N && "number" === typeof N.length)return {next:function(){N && K >= N.length && (N=void 0);return {value:N && N[K++],done:!N};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(N,I){var O,K,H;O="function" === typeof Symbol && N[Symbol.iterator];if(!O)return N;N=O.call(N);H=[];try{for(;(void 0 === I || 0 < I--) && !(K=N.next()).done;){H.push(K.value);}}catch(R){var M;M={error:R};}finally{try{K && !K.done && (O=N["return"]) && O.call(N);}finally{if(M)throw M.error;}}return H;}function t(){for(var N=[],I=0;I < arguments.length;I++){N=N.concat(u(arguments[I]));}return N;}function w(){var K;for(var N=0,I=0,O=arguments.length;I < O;I++){N+=arguments[I].length;}N=Array(N);K=0;for(I=0;I < O;I++){for(var H=arguments[I],M=0,R=H.length;M < R;(M++,K++)){N[K]=H[M];}}return N;}function v(N,I,O){if(O || 2 === arguments.length)for(var K=0,H=I.length,M;K < H;K++){!M && (K in I) || (M || (M=Array.prototype.slice.call(I,0,K)),M[K]=I[K]);}return N.concat(M || Array.prototype.slice.call(I));}function y(N){return this instanceof y?(this.H$=N,this):new y(N);}function x(N,I,O){var ea,ca,oa;function K(Ga){ea[Ga] && (ca[Ga]=function(Fa){return new Promise(function(Ja,Xa){1 < oa.push([Ga,Fa,Ja,Xa]) || H(Ga,Fa);});});}function H(Ga,Fa){var Ja;try{Ja=ea[Ga](Fa);Ja.value instanceof y?Promise.resolve(Ja.value.H$).then(M,R):Y(oa[0][2],Ja);}catch(Xa){Y(oa[0][3],Xa);}}function M(Ga){H("next",Ga);}function R(Ga){H("throw",Ga);}function Y(Ga,Fa){(Ga(Fa),oa.shift(),oa.length) && H(oa[0][0],oa[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");ea=O.apply(N,I || []);oa=[];return (ca={},K("next"),K("throw"),K("return"),ca[Symbol.asyncIterator]=function(){return this;},ca);}function z(N){var O,K;function I(H,M){O[H]=N[H]?function(R){return (K=!K)?{value:y(N[H](R)),done:"return" === H}:M?M(R):R;}:M;}return (O={},I("next"),I("throw",function(H){throw H;}),I("return"),O[Symbol.iterator]=function(){return this;},O);}function A(N){var K,H;function I(M){H[M]=N[M] && (function(R){return new Promise(function(Y,ea){R=N[M](R);O(Y,ea,R.done,R.value);});});}function O(M,R,Y,ea){Promise.resolve(ea).then(function(ca){M({value:ca,done:Y});},R);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");K=N[Symbol.asyncIterator];return K?K.call(N):(N="function" === typeof q?q(N):N[Symbol.iterator](),H={},I("next"),I("throw"),I("return"),H[Symbol.asyncIterator]=function(){return this;},H);}function B(N,I){Object.defineProperty?Object.defineProperty(N,"raw",{value:I}):N.raw=I;return N;}function C(N){var I;if(N && N.__esModule)return N;I={};if(null != N)for(var O in N){"default" !== O && Object.prototype.hasOwnProperty.call(N,O) && J(I,N,O);}L(I,N);return I;}function D(N){return N && N.__esModule?N:{default:N};}function F(N,I,O,K){if("a" === O && !K)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof I?N !== I || !K:!I.has(N))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === O?K:"a" === O?K.call(N):K?K.value:I.get(N);}function G(N,I,O,K,H){if("m" === K)throw new TypeError("Private method is not writable");if("a" === K && !H)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof I?N !== I || !H:!I.has(N))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === K?H.call(N,O):H?H.value=O:I.set(N,O),O);}function E(N,I){if(null === I || "object" !== typeof I && "function" !== typeof I)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof N?I === N:N.has(I);}a.r(b);a.d(b,{__assign:function(){return c;},__asyncDelegator:function(){return z;},__asyncGenerator:function(){return x;},__asyncValues:function(){return A;},__await:function(){return y;},__awaiter:function(){return h;},__classPrivateFieldGet:function(){return F;},__classPrivateFieldIn:function(){return E;},__classPrivateFieldSet:function(){return G;},__createBinding:function(){return J;},__decorate:function(){return d;},__exportStar:function(){return p;},__extends:function(){return f;},__generator:function(){return m;},__importDefault:function(){return D;},__importStar:function(){return C;},__makeTemplateObject:function(){return B;},__metadata:function(){return n;},__param:function(){return g;},__read:function(){return u;},__rest:function(){return l;},__spread:function(){return t;},__spreadArray:function(){return v;},__spreadArrays:function(){return w;},__values:function(){return q;}});J=Object.create?function(N,I,O,K){var H;void 0 === K && (K=O);H=Object.getOwnPropertyDescriptor(I,O);if(!H || (("get" in H)?!I.__esModule:H.writable || H.configurable))H={enumerable:!0,get:function(){return I[O];}};Object.defineProperty(N,K,H);}:function(N,I,O,K){void 0 === K && (K=O);N[K]=I[O];};L=Object.create?function(N,I){Object.defineProperty(N,"default",{enumerable:!0,value:I});}:function(N,I){N["default"]=I;};},43950:function(r,b,a){var c,k,f,l,d,g,n,h,m,p;c=a(40210)("%TypeError%");k=a(2435);f=a(63682);l=a(18334);d=a(52435);g=a(13746);n=a(14305);h=a(40484);m=a(69916);p=a(53633);r.exports=function(q,u,t){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!n(u))throw new c("Assertion failed: IsPropertyKey(P) is not true");t=k({yMa:p,FEa:g,EEa:d},t)?t:m(t);if(!k({yMa:p,FEa:g,EEa:d},t))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return f(g,h,l,q,u,t);};},18334:function(r,b,a){var c,k,f;c=a(62188);k=a(17141);f=a(53633);r.exports=function(l){"undefined" !== typeof l && c(f,"Property Descriptor","Desc",l);return k(l);};},52435:function(r,b,a){var c,k,f;c=a(17642);k=a(62188);f=a(53633);r.exports=function(l){if("undefined" === typeof l)return !1;k(f,"Property Descriptor","Desc",l);return c(l,"[[Get]]") || c(l,"[[Set]]")?!0:!1;};},61787:function(r,b,a){r.exports=a(95320);},41974:function(r,b,a){var c,k,f;c=a(14445)("%Reflect.construct%",!0);b=a(43950);try{b({},"",{"[[Get]]":function(){}});}catch(l){b=null;}if(b && c){k={};f={};b(f,"length",{"[[Get]]":function(){throw k;},"[[Enumerable]]":!0});r.exports=function(l){try{c(l,f);}catch(d){return d === k;}};}else r.exports=function(l){return "function" === typeof l && !!l.prototype;};},13746:function(r,b,a){var c,k,f;c=a(17642);k=a(62188);f=a(53633);r.exports=function(l){if("undefined" === typeof l)return !1;k(f,"Property Descriptor","Desc",l);return c(l,"[[Value]]") || c(l,"[[Writable]]")?!0:!1;};},14305:function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},39619:function(r,b,a){r.exports=a(4559);},40484:function(r,b,a){var c;c=a(29086);r.exports=function(k,f){return k === f?0 === k?1 / k === 1 / f:!0:c(k) && c(f);};},95912:function(r,b,a){var c;c=a(29086);r.exports=function(k,f){return k === f || c(k) && c(f);};},39655:function(r,b,a){var c,k,f,l;b=a(40210);c=b("%Symbol.species%",!0);k=b("%TypeError%");f=a(41974);l=a(53633);r.exports=function(d,g){if("Object" !== l(d))throw new k("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return g;if("Object" !== l(d))throw new k("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return g;if(f(d))return d;throw new k("no constructor found");};},39731:function(r){r.exports=function(b){return !!b;};},751:function(r,b,a){var c,k,f,l,d,g;c=a(54908);k=a(375);f=a(55631);l=a(29086);d=a(22633);g=a(38111);r.exports=function(n){var h;n=f(n);if(l(n) || 0 === n)return 0;if(!d(n))return n;h=k(c(n));return 0 === h?0:g(n) * h;};},88305:function(r,b,a){var c,k;c=a(11645);k=a(751);r.exports=function(f){f=k(f);return 0 >= f?0:f > c?c:f;};},55631:function(r,b,a){var c,k,f,l,d,g,n,h,m,p,q,u,t,w;c=a(40210);k=c("%TypeError%");f=c("%Number%");b=c("%RegExp%");l=c("%parseInt%");c=a(21924);d=a(79246);g=a(64790);n=c("String.prototype.slice");h=d(/^0b[01]+$/i);m=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=d(b);u=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;t=c("String.prototype.replace");w=a(54607);r.exports=function x(y){var z;y=g(y)?y:w(y,f);if("symbol" === typeof y)throw new k("Cannot convert a Symbol value to a number");if("bigint" === typeof y)throw new k("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof y){if(h(y))return x(l(n(y,2),2));if(m(y))return x(l(n(y,2),8));if(q(y) || p(y))return NaN;z=t(y,u,"");if(z !== y)return x(z);}return f(y);};},30821:function(r,b,a){var c,k;c=a(40210)("%Object%");k=a(39619);r.exports=function(f){k(f);return c(f);};},54607:function(r,b,a){var c;c=a(41503);r.exports=function(k){return 1 < arguments.length?c(k,arguments[1]):c(k);};},69916:function(r,b,a){var c,k,f,l,d;c=a(17642);k=a(40210)("%TypeError%");f=a(53633);l=a(39731);d=a(61787);r.exports=function(g){var n,h;if("Object" !== f(g))throw new k("ToPropertyDescriptor requires an object");n={};c(g,"enumerable") && (n["[[Enumerable]]"]=l(g.enumerable));c(g,"configurable") && (n["[[Configurable]]"]=l(g.configurable));c(g,"value") && (n["[[Value]]"]=g.value);c(g,"writable") && (n["[[Writable]]"]=l(g.writable));if(c(g,"get")){h=g.get;if("undefined" !== typeof h && !d(h))throw new k("getter must be a function");n["[[Get]]"]=h;}if(c(g,"set")){g=g.set;if("undefined" !== typeof g && !d(g))throw new k("setter must be a function");n["[[Set]]"]=g;}if((c(n,"[[Get]]") || c(n,"[[Set]]")) && (c(n,"[[Value]]") || c(n,"[[Writable]]")))throw new k("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n;};},53633:function(r,b,a){var c;c=a(23951);r.exports=function(k){return "symbol" === typeof k?"Symbol":"bigint" === typeof k?"BigInt":c(k);};},54908:function(r,b,a){var c;c=a(40210)("%Math.abs%");r.exports=function(k){return c(k);};},375:function(r,b,a){var c,k;c=a(53633);k=Math.floor;r.exports=function(f){return "BigInt" === c(f)?f:k(f);};},4559:function(r,b,a){var c;c=a(40210)("%TypeError%");r.exports=function(k,f){if(null == k)throw new c(f || "Cannot call method on " + k);return k;};},23951:function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},14445:function(r,b,a){r.exports=a(40210);},63682:function(r,b,a){var c,k,f,l,d;b=a(31044);c=a(40210);k=b() && c("%Object.defineProperty%",!0);f=b.rKb();l=f && a(675);d=a(21924)("Object.prototype.propertyIsEnumerable");r.exports=function(g,n,h,m,p,q){if(!k){if(!g(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in m) && d(m,p) !== !!q["[[Enumerable]]"])return !1;g=q["[[Value]]"];m[p]=g;return n(m[p],g);}if(f && "length" === p && ("[[Value]]" in q) && l(m) && m.length !== q["[[Value]]"])return (m.length=q["[[Value]]"],m.length === q["[[Value]]"]);k(m,p,h(q));return !0;};},675:function(r,b,a){var c;b=a(40210)("%Array%");c=!b.isArray && a(21924)("Object.prototype.toString");r.exports=b.isArray || (function(k){return "[object Array]" === c(k);});},62188:function(r,b,a){var c,k,f,l;b=a(40210);c=b("%TypeError%");k=b("%SyntaxError%");f=a(17642);l={"Property Descriptor":function(d){var g,n;g={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(n in d){if(f(d,n) && !g[n])return !1;}g=f(d,"[[Value]]");d=f(d,"[[Get]]") || f(d,"[[Set]]");if(g && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(64377),"Iterator Record":function(d){return f(d,"[[Iterator]]") && f(d,"[[NextMethod]]") && f(d,"[[Done]]");},"PromiseCapability Record":function(d){return d && f(d,"[[Resolve]]") && "function" === typeof d["[[Resolve]]"] && f(d,"[[Reject]]") && "function" === typeof d["[[Reject]]"] && f(d,"[[Promise]]") && d["[[Promise]]"] && "function" === typeof d["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(d){return d && f(d,"[[Completion]]") && f(d,"[[Capability]]") && l["PromiseCapability Record"](d["[[Capability]]"]);}};r.exports=function(d,g,n,h){var m;m=l[g];if("function" !== typeof m)throw new k("unknown record type: " + g);if("Object" !== d(h) || !m(h))throw new c(n + " must be a " + g);};},17141:function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},22633:function(r,b,a){var c;c=a(29086);r.exports=function(k){return ("number" === typeof k || "bigint" === typeof k) && !c(k) && Infinity !== k && -Infinity !== k;};},64377:function(r,b,a){var c;c=a(17642);r.exports=function(k){return c(k,"[[StartIndex]]") && c(k,"[[EndIndex]]") && 0 <= k["[[StartIndex]]"] && k["[[EndIndex]]"] >= k["[[StartIndex]]"] && String(parseInt(k["[[StartIndex]]"],10)) === String(k["[[StartIndex]]"]) && String(parseInt(k["[[EndIndex]]"],10)) === String(k["[[EndIndex]]"]);};},29086:function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},64790:function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},2435:function(r,b,a){var c,k;b=a(40210);c=a(17642);k=b("%TypeError%");r.exports=function(f,l){var d,g;if("Object" !== f.yMa(l))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(g in l){if(c(l,g) && !d[g])return !1;}if(f.FEa(l) && f.EEa(l))throw new k("Property Descriptors may not be both accessor and data descriptors");return !0;};},11645:function(r,b,a){a=a(40210);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},38111:function(r){r.exports=function(b){return 0 <= b?1:-1;};}};Na={};(function(){ra.d=function(r,b){for(var a in b){ra.C5a(b,a) && !ra.C5a(r,a) && Object.defineProperty(r,a,{enumerable:!0,get:b[a]});}};})();(function(){ra.j4=(function(){if("object" === typeof globalThis)return globalThis;try{return this || new Function("return this")();}catch(r){if("object" === typeof pb)return pb;}})();})();(function(){ra.C5a=function(r,b){return Object.prototype.hasOwnProperty.call(r,b);};})();(function(){ra.r=function(r){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});Object.defineProperty(r,"__esModule",{value:!0});};})();ra(28660);ra(26860)();ra(13547)();pb._cad_global={};pb.DEBUG=!1;ra(7942);ra(50876);ra(95919);ra(30818);ra(24133);ra(19591);ra(32660);ra(5845);ra(66052);ra(61831);ra(70633);ra(59883);ra(25892);ra(47545);ra(25420);ra(20916);ra(54615);ra(50995);ra(76813);ra(2108);ra(43038);ra(15789);ra(797);ra(54779);ra(83637);ra(66652);ra(84853);ra(88625);ra(43382);ra(37986);ra(83795);ra(16232);ra(89034);ra(89927);ra(93230);ra(30732);ra(38624);ra(24504);ra(50791);ra(17200);ra(13472);ra(43662);ra(9911);ra(49976);ra(49007);ra(61087);ra(15883);ra(61581);ra(53073);ra(31978);ra(37021);ra(49090);ra(31119);ra(82134);ra(54415);ra(5917);ra(19911);ra(91145);ra(22507);ra(22);ra(16512);ra(58680);ra(22528);ra(94181);ra(45108);ra(89136);ra(75412);ra(90399);ra(40142);ra(38686);ra(86977);ra(37853);ra(89525);ra(6538);ra(25097);})();}).call(pb);})(window);}).call(window);