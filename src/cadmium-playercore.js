m1ii.H7V=function (){return typeof m1ii.y0V.j5Q==='function'?m1ii.y0V.j5Q.apply(m1ii.y0V,arguments):m1ii.y0V.j5Q;};m1ii.K6D=function (){return typeof m1ii.l6D.E5Q==='function'?m1ii.l6D.E5Q.apply(m1ii.l6D,arguments):m1ii.l6D.E5Q;};m1ii.T28=function (){return typeof m1ii.t28.E5Q==='function'?m1ii.t28.E5Q.apply(m1ii.t28,arguments):m1ii.t28.E5Q;};m1ii.Q51=function(h51){return{E5Q:function(){var q51,V51=arguments;switch(h51){case 1:q51=V51[1]-V51[0];break;case 0:q51=V51[0]/V51[1];break;}return q51;},j5Q:function(j51){h51=j51;}};}();m1ii.v3x=function (){return typeof m1ii.H3x.j5Q==='function'?m1ii.H3x.j5Q.apply(m1ii.H3x,arguments):m1ii.H3x.j5Q;};m1ii.z8o=function (){return typeof m1ii.S8o.E5Q==='function'?m1ii.S8o.E5Q.apply(m1ii.S8o,arguments):m1ii.S8o.E5Q;};m1ii.g12=function(n12){return{E5Q:function(){var K12,L12=arguments;switch(n12){case 3:K12=L12[3]*L12[0]/L12[2]|L12[1];break;case 1:K12=L12[0]-L12[1];break;case 2:K12=L12[3]+L12[1]/L12[0]*L12[2];break;case 5:K12=(L12[2]/L12[0]|L12[3])*L12[1];break;case 4:K12=L12[0]/L12[1]|L12[2];break;case 0:K12=L12[1]/L12[0];break;}return K12;},j5Q:function(y12){n12=y12;}};}();m1ii.a0V=function (){return typeof m1ii.y0V.E5Q==='function'?m1ii.y0V.E5Q.apply(m1ii.y0V,arguments):m1ii.y0V.E5Q;};m1ii.J87=function (){return typeof m1ii.z87.j5Q==='function'?m1ii.z87.j5Q.apply(m1ii.z87,arguments):m1ii.z87.j5Q;};m1ii.H3x=function(y3x){return{E5Q:function(){var b3x,d3x=arguments;switch(y3x){case 0:b3x=d3x[0]+d3x[1];break;}return b3x;},j5Q:function(i3x){y3x=i3x;}};}();m1ii.M12=function (){return typeof m1ii.g12.E5Q==='function'?m1ii.g12.E5Q.apply(m1ii.g12,arguments):m1ii.g12.E5Q;};m1ii.o52=function (){return typeof m1ii.d52.j5Q==='function'?m1ii.d52.j5Q.apply(m1ii.d52,arguments):m1ii.d52.j5Q;};m1ii.v12=function (){return typeof m1ii.g12.j5Q==='function'?m1ii.g12.j5Q.apply(m1ii.g12,arguments):m1ii.g12.j5Q;};m1ii.c7V=function (){return typeof m1ii.y0V.j5Q==='function'?m1ii.y0V.j5Q.apply(m1ii.y0V,arguments):m1ii.y0V.j5Q;};m1ii.S5M=function (){return typeof m1ii.J5M.E5Q==='function'?m1ii.J5M.E5Q.apply(m1ii.J5M,arguments):m1ii.J5M.E5Q;};m1ii.W51=function (){return typeof m1ii.Q51.j5Q==='function'?m1ii.Q51.j5Q.apply(m1ii.Q51,arguments):m1ii.Q51.j5Q;};m1ii.I5M=function (){return typeof m1ii.J5M.j5Q==='function'?m1ii.J5M.j5Q.apply(m1ii.J5M,arguments):m1ii.J5M.j5Q;};m1ii.Q12=function (){return typeof m1ii.g12.j5Q==='function'?m1ii.g12.j5Q.apply(m1ii.g12,arguments):m1ii.g12.j5Q;};m1ii.d52=function(A52){return{E5Q:function(){var E52,v52=arguments;switch(A52){case 0:E52=v52[1]+v52[0];break;case 1:E52=v52[0]+v52[3]+v52[2]+v52[1]+v52[4];break;case 2:E52=v52[2]+v52[0]+v52[1];break;}return E52;},j5Q:function(x52){A52=x52;}};}();m1ii.I87=function (){return typeof m1ii.z87.j5Q==='function'?m1ii.z87.j5Q.apply(m1ii.z87,arguments):m1ii.z87.j5Q;};m1ii.B51=function (){return typeof m1ii.Q51.E5Q==='function'?m1ii.Q51.E5Q.apply(m1ii.Q51,arguments):m1ii.Q51.E5Q;};m1ii.L5Q=function (){return typeof m1ii.v5Q.j5Q==='function'?m1ii.v5Q.j5Q.apply(m1ii.v5Q,arguments):m1ii.v5Q.j5Q;};m1ii.f2f=function (){return typeof m1ii.T2f.E5Q==='function'?m1ii.T2f.E5Q.apply(m1ii.T2f,arguments):m1ii.T2f.E5Q;};m1ii.G3D=function (){return typeof m1ii.k3D.j5Q==='function'?m1ii.k3D.j5Q.apply(m1ii.k3D,arguments):m1ii.k3D.j5Q;};function m1ii(){}m1ii.B7V=function (){return typeof m1ii.y0V.E5Q==='function'?m1ii.y0V.E5Q.apply(m1ii.y0V,arguments):m1ii.y0V.E5Q;};m1ii.I51=function (){return typeof m1ii.Q51.j5Q==='function'?m1ii.Q51.j5Q.apply(m1ii.Q51,arguments):m1ii.Q51.j5Q;};m1ii.K28=function (){return typeof m1ii.t28.j5Q==='function'?m1ii.t28.j5Q.apply(m1ii.t28,arguments):m1ii.t28.j5Q;};m1ii.n3x=function (){return typeof m1ii.H3x.E5Q==='function'?m1ii.H3x.E5Q.apply(m1ii.H3x,arguments):m1ii.H3x.E5Q;};m1ii.E5M=function (){return typeof m1ii.J5M.j5Q==='function'?m1ii.J5M.j5Q.apply(m1ii.J5M,arguments):m1ii.J5M.j5Q;};m1ii.U2f=function (){return typeof m1ii.T2f.j5Q==='function'?m1ii.T2f.j5Q.apply(m1ii.T2f,arguments):m1ii.T2f.j5Q;};m1ii.k3D=function(U3D){return{E5Q:function(){var O3D,b3D=arguments;switch(U3D){case 2:O3D=b3D[1]+b3D[0];break;case 1:O3D=b3D[0]-b3D[1];break;case 0:O3D=b3D[1]/b3D[0];break;}return O3D;},j5Q:function(m3D){U3D=m3D;}};}();m1ii.J5M=function(M5M){return{E5Q:function(){var G5M,K5M=arguments;switch(M5M){case 0:G5M=K5M[0]<K5M[1];break;case 3:G5M=K5M[0]+K5M[1];break;case 1:G5M=K5M[0]>=K5M[1];break;case 2:G5M=K5M[0]<=K5M[1];break;}return G5M;},j5Q:function(m5M){M5M=m5M;}};}();m1ii.g2f=function (){return typeof m1ii.T2f.j5Q==='function'?m1ii.T2f.j5Q.apply(m1ii.T2f,arguments):m1ii.T2f.j5Q;};m1ii.N3x=function (){return typeof m1ii.H3x.E5Q==='function'?m1ii.H3x.E5Q.apply(m1ii.H3x,arguments):m1ii.H3x.E5Q;};m1ii.a5r=function (){return typeof m1ii.Q5r.j5Q==='function'?m1ii.Q5r.j5Q.apply(m1ii.Q5r,arguments):m1ii.Q5r.j5Q;};m1ii.m87=function (){return typeof m1ii.z87.E5Q==='function'?m1ii.z87.E5Q.apply(m1ii.z87,arguments):m1ii.z87.E5Q;};m1ii.T2f=function(o2f){return{E5Q:function(){var G2f,n2f=arguments;switch(o2f){case 2:G2f=n2f[0]-n2f[1];break;case 0:G2f=(-n2f[1]-n2f[2])/n2f[0];break;case 1:G2f=n2f[2]/n2f[3]/n2f[4]+n2f[5]+-n2f[1]/n2f[0];break;}return G2f;},j5Q:function(Q2f){o2f=Q2f;}};}();m1ii.k5r=function (){return typeof m1ii.Q5r.E5Q==='function'?m1ii.Q5r.E5Q.apply(m1ii.Q5r,arguments):m1ii.Q5r.E5Q;};m1ii.z87=function(Y87){return{E5Q:function(){var R87,L87=arguments;switch(Y87){case 0:R87=(L87[2]-L87[0])*L87[1];break;}return R87;},j5Q:function(M87){Y87=M87;}};}();m1ii.C52=function (){return typeof m1ii.d52.j5Q==='function'?m1ii.d52.j5Q.apply(m1ii.d52,arguments):m1ii.d52.j5Q;};m1ii.l6D=function(N6D){return{E5Q:function(){var L6D,t6D=arguments;switch(N6D){case 1:L6D=t6D[0]-t6D[1];break;case 0:L6D=t6D[1]*t6D[2]-t6D[0];break;}return L6D;},j5Q:function(h6D){N6D=h6D;}};}();m1ii.K3D=function (){return typeof m1ii.k3D.E5Q==='function'?m1ii.k3D.E5Q.apply(m1ii.k3D,arguments):m1ii.k3D.E5Q;};m1ii.O9g=function (){return typeof m1ii.E9g.E5Q==='function'?m1ii.E9g.E5Q.apply(m1ii.E9g,arguments):m1ii.E9g.E5Q;};m1ii.D8o=function (){return typeof m1ii.S8o.j5Q==='function'?m1ii.S8o.j5Q.apply(m1ii.S8o,arguments):m1ii.S8o.j5Q;};m1ii.e5Q=function (){return typeof m1ii.v5Q.E5Q==='function'?m1ii.v5Q.E5Q.apply(m1ii.v5Q,arguments):m1ii.v5Q.E5Q;};m1ii.n5Q=function (){return typeof m1ii.v5Q.j5Q==='function'?m1ii.v5Q.j5Q.apply(m1ii.v5Q,arguments):m1ii.v5Q.j5Q;};m1ii.P2f=function (){return typeof m1ii.T2f.E5Q==='function'?m1ii.T2f.E5Q.apply(m1ii.T2f,arguments):m1ii.T2f.E5Q;};m1ii.t28=function(s28){return{E5Q:function(){var V28,P28=arguments;switch(s28){case 1:V28=(P28[3]-P28[2])*P28[1]-P28[0];break;case 0:V28=P28[0]-P28[1];break;}return V28;},j5Q:function(O28){s28=O28;}};}();m1ii.r5M=function (){return typeof m1ii.J5M.E5Q==='function'?m1ii.J5M.E5Q.apply(m1ii.J5M,arguments):m1ii.J5M.E5Q;};m1ii.k12=function (){return typeof m1ii.g12.E5Q==='function'?m1ii.g12.E5Q.apply(m1ii.g12,arguments):m1ii.g12.E5Q;};m1ii.k5Q=function (){return typeof m1ii.v5Q.E5Q==='function'?m1ii.v5Q.E5Q.apply(m1ii.v5Q,arguments):m1ii.v5Q.E5Q;};m1ii.X87=function (){return typeof m1ii.z87.E5Q==='function'?m1ii.z87.E5Q.apply(m1ii.z87,arguments):m1ii.z87.E5Q;};m1ii.R6D=function (){return typeof m1ii.l6D.E5Q==='function'?m1ii.l6D.E5Q.apply(m1ii.l6D,arguments):m1ii.l6D.E5Q;};m1ii.t3x=function (){return typeof m1ii.H3x.j5Q==='function'?m1ii.H3x.j5Q.apply(m1ii.H3x,arguments):m1ii.H3x.j5Q;};m1ii.h8o=function (){return typeof m1ii.S8o.E5Q==='function'?m1ii.S8o.E5Q.apply(m1ii.S8o,arguments):m1ii.S8o.E5Q;};m1ii.B28=function (){return typeof m1ii.t28.E5Q==='function'?m1ii.t28.E5Q.apply(m1ii.t28,arguments):m1ii.t28.E5Q;};m1ii.E9g=function(h9g){return{E5Q:function(){var W9g,M9g=arguments;switch(h9g){case 0:W9g=M9g[1]-M9g[3]+-M9g[2]+M9g[0];break;}return W9g;},j5Q:function(v9g){h9g=v9g;}};}();m1ii.U52=function (){return typeof m1ii.d52.E5Q==='function'?m1ii.d52.E5Q.apply(m1ii.d52,arguments):m1ii.d52.E5Q;};m1ii.Z51=function (){return typeof m1ii.Q51.E5Q==='function'?m1ii.Q51.E5Q.apply(m1ii.Q51,arguments):m1ii.Q51.E5Q;};m1ii.p3D=function (){return typeof m1ii.k3D.j5Q==='function'?m1ii.k3D.j5Q.apply(m1ii.k3D,arguments):m1ii.k3D.j5Q;};m1ii.S8o=function(E8o){return{E5Q:function(){var A8o,C8o=arguments;switch(E8o){case 0:A8o=C8o[0]*C8o[2]/C8o[1];break;}return A8o;},j5Q:function(a8o){E8o=a8o;}};}();m1ii.v5Q=function(c5Q){return{E5Q:function(){var U5Q,a5Q=arguments;switch(c5Q){case 2:U5Q=a5Q[1]+a5Q[0];break;case 1:U5Q=a5Q[0]+a5Q[1]-a5Q[2];break;case 0:U5Q=a5Q[1]-a5Q[0];break;}return U5Q;},j5Q:function(N5Q){c5Q=N5Q;}};}();m1ii.T6D=function (){return typeof m1ii.l6D.j5Q==='function'?m1ii.l6D.j5Q.apply(m1ii.l6D,arguments):m1ii.l6D.j5Q;};m1ii.Q5r=function(g5r){return{E5Q:function(){var n5r,K5r=arguments;switch(g5r){case 1:n5r=void K5r[0]!==K5r[1];break;case 2:n5r=K5r[1]-K5r[0];break;case 0:n5r=K5r[1]+K5r[0];break;}return n5r;},j5Q:function(v5r){g5r=v5r;}};}();m1ii.W8o=function (){return typeof m1ii.S8o.j5Q==='function'?m1ii.S8o.j5Q.apply(m1ii.S8o,arguments):m1ii.S8o.j5Q;};m1ii.y0V=function(t0V){return{E5Q:function(){var z0V,Z0V=arguments;switch(t0V){case 1:z0V=Z0V[1]*Z0V[0]/Z0V[2]/Z0V[3];break;case 0:z0V=Z0V[1]+Z0V[0];break;}return z0V;},j5Q:function(X0V){t0V=X0V;}};}();m1ii.g9g=function (){return typeof m1ii.E9g.j5Q==='function'?m1ii.E9g.j5Q.apply(m1ii.E9g,arguments):m1ii.E9g.j5Q;};m1ii.W5r=function (){return typeof m1ii.Q5r.E5Q==='function'?m1ii.Q5r.E5Q.apply(m1ii.Q5r,arguments):m1ii.Q5r.E5Q;};m1ii.w28=function (){return typeof m1ii.t28.j5Q==='function'?m1ii.t28.j5Q.apply(m1ii.t28,arguments):m1ii.t28.j5Q;};m1ii.Y9g=function (){return typeof m1ii.E9g.j5Q==='function'?m1ii.E9g.j5Q.apply(m1ii.E9g,arguments):m1ii.E9g.j5Q;};m1ii.Q9g=function (){return typeof m1ii.E9g.E5Q==='function'?m1ii.E9g.E5Q.apply(m1ii.E9g,arguments):m1ii.E9g.E5Q;};m1ii.o6D=function (){return typeof m1ii.l6D.j5Q==='function'?m1ii.l6D.j5Q.apply(m1ii.l6D,arguments):m1ii.l6D.j5Q;};m1ii.c5r=function (){return typeof m1ii.Q5r.j5Q==='function'?m1ii.Q5r.j5Q.apply(m1ii.Q5r,arguments):m1ii.Q5r.j5Q;};m1ii.s52=function (){return typeof m1ii.d52.E5Q==='function'?m1ii.d52.E5Q.apply(m1ii.d52,arguments):m1ii.d52.E5Q;};m1ii.v3D=function (){return typeof m1ii.k3D.E5Q==='function'?m1ii.k3D.E5Q.apply(m1ii.k3D,arguments):m1ii.k3D.E5Q;};(function(){(function(M,ja){var vb,Eb,Va,sc,pa,va,bb,Cd,Dd,Ma,Na,Ob,Ed,tc,Fd,Gd,Uc,n,ma,gc,Hd,Vc,F,S,ia,xb,nb,Za,ea,cb,Ua,Qb,Ha,Da,Ka,eb,uc,yb,sb,tb,vc,Wc,Id,Hb,Ib,Rb,Xc,Yb,zb,wc,Nb,Yc,Jd,Zb,Zc,$c,ad,bd,Ab,cd,dd,ed,ac,Bb,Cb,bc,xc,yc,zc,lb,Me,Ra,Pb,Kd,Ac,pb,Ld,Ne,ub,Md,Nd,Bc,Od,Oe,fc,Pd,Le,Pe,fd,Cc,Qe,Re,zd,Se,Ad,Qd,ob,hc,Rd,ic,Sd,qb,Td,gd,Ud,id,Dc,Vd,Ue,Bd,Ec,Tc,Wd,Te,Xd,jd,Yd,Zd,$d,kd,Mb,be,ae,Ve,jc,ce,md,kc,de,ld,ee,fe,nd,he,ie,Hc,Ub,cc,Vb,je,ke,le,me,ne,oe,Ic,We,pe,qe,pd,re,kb,Sb,$b,Tb,Kb,Db,Fc,db,Gb,ge,lc,Wb,se,Xe,mc,te,Ye,dc,ue,Jc,qd,nc,rd,ve,oc,we,xe,ye,Ze,pc,ze,$e,af,Ae,od,Gc,Be,Ke,Ce,bf,df,cf,ec,rc,ef,yd,ff,De;function Ya(g,n){if(!n||"utf-8"===n)return Nc(g);throw Error("unsupported encoding");}function Wa(g,n){if(!n||"utf-8"===n)return Oc(g);throw Error("unsupported encoding");}function Nc(g){for(var n=0,r,Pa=g.length,F="";n<Pa;){r=g[n++];if(r&128)if(192===(r&224))r=((r&31)<<6)+(g[n++]&63);else if(224===(r&240))r=((r&15)<<12)+((g[n++]&63)<<6)+(g[n++]&63);else throw Error("unsupported character");F+=String.fromCharCode(r);}return F;}function Oc(g){var n,r,Pa,F,u;n=g.length;r=0;F=0;for(Pa=n;Pa--;)u=g.charCodeAt(Pa),128>u?r++:r=2048>u?r+2:r+3;r=new Uint8Array(r);for(Pa=0;Pa<n;Pa++)u=g.charCodeAt(Pa),128>u?r[F++]=u:(2048>u?r[F++]=192|u>>>6:(r[F++]=224|u>>>12,r[F++]=128|u>>>6&63),r[F++]=128|u&63);return r;}function ab(g,r){if(g===r)return!0;if(!g||!r||g.length!=r.length)return!1;for(var n=0;n<g.length;++n)if(g[n]!=r[n])return!1;return!0;}function hb(g){var u;if(!(g&&g.constructor==Uint8Array||Array.isArray(g)))throw new TypeError("Cannot compute the hash code of "+g);for(var r=1,n=0;n<g.length;++n){u=g[n];if("number"!==typeof u)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+u);r=31*r+u&4294967295;}return r;}function td(g,r){var Aa;if(g===r)return!0;if(!g||!r)return!1;r instanceof Array||(r=[r]);for(var n=0;n<r.length;++n){for(var u=r[n],F=!1,Lb=0;Lb<g.length;++Lb){Aa=g[Lb];if(u.equals&&"function"===typeof u.equals&&u.equals(Aa)||u==Aa){F=!0;break;}}if(!F)return!1;}return!0;}function ud(g,r){return td(g,r)&&(g.length==r.length||td(r,g));}function r(g,r,n){var u,F;n&&(u=n);if("object"!==typeof g||"function"!==typeof g.result||"function"!==typeof g.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{F=r.call(u,g);F!==ja&&g.result(F);}catch(Pc){try{g.error(Pc);}catch(Aa){}}}function u(g,n,u){if("object"!==typeof g||"function"!==typeof g.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");r(g,n,u);}function g(g,r,n){1E5>g&&(g=1E5+g);Object.defineProperties(this,{internalCode:{value:g,writable:!1,configurable:!1},responseCode:{value:r,writable:!1,configurable:!1},message:{value:n,writable:!1,configurable:!1}});}function Qc(g){switch(g){case Ra.PSK:case Ra.MGK:return!0;default:return!1;}}function vd(g){switch(g){case Ra.PSK:case Ra.MGK:case Ra.X509:case Ra.RSA:case Ra.NPTICKET:case Ra.ECC:return!0;default:return!1;}}function He(g){return g.toJSON();}function wd(r,n){rc?n.result(rc):Promise.resolve().then(function(){return Ka.getKeyByName(r);})["catch"](function(){return Ka.generateKey({name:r},!1,["wrapKey","unwrapKey"]);}).then(function(g){rc=g;n.result(rc);})["catch"](function(r){n.error(new F(g.INTERNAL_EXCEPTION,"Unable to get system key"));});}function xd(g,r){var n,u,F;n=r.masterToken;u=r.userIdToken;F=r.serviceTokens;return{NccpMethod:g.method,UserId:g.userId,UT:u&&u.serialNumber,MT:n&&n.serialNumber+":"+n.sequenceNumber,STCount:F&&F.length};}function Ie(g){return g.uniqueKey();}function Je(u,M,rb,Pa,qc){var Ja;function Lb(g,L){g.errorCode===n.ENTITY_REAUTH||g.errorCode===n.ENTITYDATA_REAUTH?(Pa.clearCryptoContexts(),Xa()):g.errorCode!==n.USER_REAUTH&&g.errorCode!==n.USERDATA_REAUTH||Aa(L);}function Aa(g){if(g=Pa.getUserIdToken(g))Pa.removeUserIdToken(g),Xa();}function W(g,L,I){var w;w=[];(function B(){g.read(-1,L,{result:function(g){r(I,function(){var v,D,J,I,L;if(g)w.push(g),B();else switch(w.length){case 0:return new Uint8Array(0);case 1:return w[0];default:I=w.length,L=0;for(D=v=0;D<I;D++)v+=w[D].length;v=new Uint8Array(v);for(D=0;D<I;D++)J=w[D],v.set(J,L),L+=J.length;return v;}});},timeout:function(){I.timeout();},error:function(g){I.error(g);}});}());}function Xa(){Pa.getStoreState({result:function(g){for(var L=Ja.slice(),I=0;I<L.length;I++)L[I]({storeState:g});},timeout:function(){u.error("Timeout getting store state",""+e);},error:function(g){u.error("Error getting store state",""+g);}});}Ja=[];this.addEventHandler=function(g,L){switch(g){case"shouldpersist":Ja.push(L);}};this.send=function(r){return new Promise(function(L,I){var w,x,B;w=r.timeout;x=new yd(u,rb,r,Pa.getKeyRequestData());B=new zd(r.url);u.trace("Sending MSL request");M.request(rb,x,B,w,{result:function(x){var v;x&&x.getMessageHeader();u.trace("Received MSL response",{Method:r.method});if(x){r.allowTokenRefresh&&Xa();v=x.getErrorHeader();v?(Lb(v,r.userId),I({success:!1,error:v})):W(x,w,{result:function(g){L({success:!0,body:Ya(g)});},timeout:function(){I({success:!1,subCode:qc.MSL_READ_TIMEOUT});},error:function(g){I({success:!1,error:g});}});}else I({success:!1,error:new F(g.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){I({success:!1,subCode:qc.MSL_REQUEST_TIMEOUT});},error:function(g){I({success:!1,error:g});}});});};this.hasUserIdToken=function(g){return!!Pa.getUserIdToken(g);};this.getUserIdTokenKeys=function(){return Pa.getUserIdTokenKeys();};this.removeUserIdToken=Aa;this.clearUserIdTokens=function(){Pa.clearUserIdTokens();Xa();};this.isErrorReauth=function(g){return g&&g.errorCode==n.USERDATA_REAUTH;};this.isErrorHeader=function(g){return g instanceof Mb;};this.getErrorCode=function(g){return g&&g.errorCode;};this.getStateForMdx=function(g){var L,I;L=Pa.getMasterToken();g=Pa.getUserIdToken(g);I=Pa.getCryptoContext(L);return{masterToken:L,userIdToken:g,cryptoContext:I};};this.buildPlayDataRequest=function(g,L){var I;I=new Ad();M.request(rb,new yd(u,rb,g),I,g.timeout,{result:function(){L.result(I.getRequest());},error:function(){L.result(I.getRequest());},timeout:function(){L.timeout();}});};this.rekeyUserIdToken=function(g,L){Pa.rekeyUserIdToken(g,L);Xa();};this.getServiceTokens=function(g){var L;L=Pa.getMasterToken();(g=Pa.getUserIdToken(g))&&!g.isBoundTo(L)&&(g=ja);return Pa.getServiceTokens(L,g);};this.removeServiceToken=function(g){var L;L=Pa.getMasterToken();Pa.getServiceTokens(L).find(function(I){return I.name===g;})&&(Pa.removeServiceTokens(g,L),Xa());};}function Rc(r,n,u,Pa,M,S){function Aa(n){var W;return Promise.resolve().then(function(){W=r.authenticationKeyNames[n];if(!W)throw new F(g.KEY_IMPORT_ERROR,"Invalid config keyName "+n);return Ka.getKeyByName(W);}).then(function(r){return new Promise(function(n,L){Yb(r,{result:n,error:function(){L(new F(g.KEY_IMPORT_ERROR,"Unable to create "+W+" CipherKey"));}});});})["catch"](function(r){throw new F(g.KEY_IMPORT_ERROR,"Unable to import "+W,r);});}return Promise.resolve().then(function(){if(!Ka.getKeyByName)throw new F(g.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([Aa("e"),Aa("h"),Aa("w")]);}).then(function(g){var W,Ja,La;W={};W[n]=new u(r.esn,g[0],g[1],g[2]);g=new Pa(r.esn);Ja=new Ke();Ja=[new M(Ja)];La=new S(n);return{entityAuthFactories:W,entityAuthData:g,keyExchangeFactories:Ja,keyRequestData:La};});}function Sc(r,n,u){var rb;function Pa(){return Promise.resolve().then(function(){return Ka.generateKey(n,!1,["wrapKey","unwrapKey"]);}).then(function(g){return M(g.publicKey,g.privateKey);});}function M(r,n){return Promise.all([new Promise(function(n,W){Nb(r,{result:n,error:function(r){W(new F(g.INTERNAL_EXCEPTION,"Unable to create keyx public key",r));}});}),new Promise(function(r,W){Zb(n,{result:r,error:function(r){W(new F(g.INTERNAL_EXCEPTION,"Unable to create keyx private key",r));}});})]).then(function(g){g=new Tc("rsaKeypairId",u,g[0],g[1]);rb&&(g.storeData={keyxPublicKey:r,keyxPrivateKey:n});return g;});}rb=!r.systemKeyWrapFormat;return Promise.resolve().then(function(){var g,n;g=r.storeState;n=g&&g.keyxPublicKey;g=g&&g.keyxPrivateKey;return rb&&n&&g?M(n,g):Pa();}).then(function(g){var n,Xa,Ja;n={};n[Ra.NONE]=new Le();Xa=new fc(r.esn);Ja=[new Bd()];return{entityAuthFactories:n,entityAuthData:Xa,keyExchangeFactories:Ja,keyRequestData:g,createKeyRequestData:rb?Pa:ja};});}Eb=M.nfCrypto||M.msCrypto||M.webkitCrypto||M.crypto;Va=Eb&&(Eb.webkitSubtle||Eb.subtle);sc=M.nfCryptokeys||M.msCryptokeys||M.webkitCryptokeys||M.cryptokeys;(function(g){var r,n;r=function(){function g(g,n){g instanceof r?(this.abv=g.abv,this.position=g.position):(this.abv=g,this.position=n||0);}g.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(g){this.abv[this.position++]=g;},peekByte:function(g){return this.abv[g];},copyBytes:function(g,n,r){var W;W=new Uint8Array(this.abv.buffer,this.position,r);g=new Uint8Array(g.buffer,n,r);W.set(g);this.position+=r;},seek:function(g){this.position=g;},skip:function(g){this.position+=g;},getPosition:function(){return this.position;},setPosition:function(g){this.position=g;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return g;}();n={};(function(){var J,v,D,Ba,Y,Ca,xa,Z,qa;function g(z,v){var w;v.writeByte(z.tagClass<<6|z.constructed<<5|z.tag);w=z.payloadLen;if(128>w)v.writeByte(w);else{for(var D=w,x=0;D;)++x,D>>=8;v.writeByte(128|x);for(D=0;D<x;++D)v.writeByte(w>>8*(x-D-1)&255);}if(z.child)for(z.tag==J.BIT_STRING&&v.writeByte(0),w=z._child;w;){if(!g(w,v))return!1;w=w.next;}else switch(z.tag){case J.INTEGER:z.backingStore[z.dataIdx]>>7&&v.writeByte(0);v.copyBytes(z.backingStore,z.dataIdx,z.dataLen);break;case J.BIT_STRING:v.writeByte(0);v.copyBytes(z.backingStore,z.dataIdx,z.dataLen);break;case J.OCTET_STRING:v.copyBytes(z.backingStore,z.dataIdx,z.dataLen);break;case J.OBJECT_IDENTIFIER:v.copyBytes(z.backingStore,z.dataIdx,z.dataLen);}return!0;}function u(g){var z,v;z=g.readByte();v=z&127;if(v==z)return v;if(3<v||0===v)return-1;for(var w=z=0;w<v;++w)z=z<<8|g.readByte();return z;}function F(g,w,D){var z,x,I,V,B,ha,L;z=g.backingStore;x=new r(z,w);w+=D;D=g;if(8<Y++)return ja;for(;x.getPosition()<w;){x.getPosition();B=x.readByte();if(31==(B&31)){for(V=0;B&128;)V<<=8,V|=B&127;B=V;}I=B;V=I&31;if(0>V||30<V)return ja;B=u(x);if(0>B||B>x.getRemaining())return ja;D.constructed=I&32;D.tagClass=(I&192)>>6;D.tag=V;D.dataLen=B;D.dataIdx=x.getPosition();V=x;ha=I;I=B;if(ha&32)V=!0;else if(ha<J.BIT_STRING||ha>J.OCTET_STRING)V=!1;else{L=new r(V);ha==J.BIT_STRING&&L.skip(1);L.readByte()>>6&1?V=!1:(ha=u(L),V=L.getPosition()-V.getPosition()+ha==I);}V&&(V=x.getPosition(),I=B,D.tag==J.BIT_STRING&&(D.dataIdx++,D.dataLen--,V++,I--),D.child=new v(z,D),F(D.child,V,I));D.tag==J.INTEGER&&(V=x.getPosition(),0==x.peekByte(V)&&x.peekByte(V+1)>>7&&(D.dataIdx++,D.dataLen--));x.skip(B);x.getPosition()<w&&(D.next=new v(z,D.parent),D=D.next);}Y--;return g;}function M(g,v,w){if(9!=w)return!1;for(w=0;9>w;++w)if(g[v++]!=Ca[w])return!1;return!0;}function W(g){var v;if(!(g&&g.child&&g.child.next&&g.child.child&&g.child.next.child))return!1;v=g.child.child;return M(v.backingStore,v.dataIdx,v.dataLen)&&2==g.nChildren&&2==g.child.nChildren&&2==g.child.next.child.nChildren?!0:!1;}function Xa(g){var v;if(!(g&&g.child&&g.child.next&&g.child.next.child&&g.child.next.next&&g.child.next.next.child))return!1;v=g.child.next.child;return M(v.backingStore,v.dataIdx,v.dataLen)&&3==g.nChildren&&2==g.child.next.nChildren&&9==g.child.next.next.child.nChildren?!0:!1;}function Ja(g){var v,z;v=D.createSequenceNode();z=new Ba(v);z.addChild(D.createSequenceNode());z.addChild(D.createOidNode(Ca));z.addSibling(D.createNullNode());z.addToParent(v,D.createBitStringNode(null));z.addChild(D.createSequenceNode());z.addChild(D.createIntegerNode(g.n));z.addSibling(D.createIntegerNode(g.e));return v;}function La(g){var v;g=g.child.next.child.child;v=g.data;g=g.next;return new xa(v,g.data,null,null);}function L(g){var v,z;v=D.createSequenceNode();z=new Ba(v);z.addChild(D.createIntegerNode(new Uint8Array([0])));z.addSibling(D.createSequenceNode());z.addChild(D.createOidNode(Ca));z.addSibling(D.createNullNode());z.addToParent(v,D.createOctetStringNode(null));z.addChild(D.createSequenceNode());z.addChild(D.createIntegerNode(new Uint8Array([0])));z.addSibling(D.createIntegerNode(g.n));z.addSibling(D.createIntegerNode(g.e));z.addSibling(D.createIntegerNode(g.d));z.addSibling(D.createIntegerNode(g.p));z.addSibling(D.createIntegerNode(g.q));z.addSibling(D.createIntegerNode(g.dp));z.addSibling(D.createIntegerNode(g.dq));z.addSibling(D.createIntegerNode(g.qi));return v;}function I(g){var v;v=[];g=g.child.next.next.child.child.next;for(var z=0;8>z;z++)v.push(g.data),g=g.next;return new Z(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7]);}function w(g,v,w,D){if(!(g instanceof xa||g instanceof Z))return ja;if(w)for(var z=0;z<w.length;++z)if(-1==qa.indexOf(w[z]))return ja;v={kty:"RSA",alg:v,key_ops:w||[],ext:D==ja?!1:D,n:pa(g.n,!0),e:pa(g.e,!0)};g instanceof Z&&(v.d=pa(g.d,!0),v.p=pa(g.p,!0),v.q=pa(g.q,!0),v.dp=pa(g.dp,!0),v.dq=pa(g.dq,!0),v.qi=pa(g.qi,!0));return v;}function x(g){var v,w,z,D,x,I,J,B,Y,L;if(!g.kty||"RSA"!=g.kty||!g.n||!g.e)return ja;v="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(g.alg&&-1==v.indexOf(g.alg))return ja;v=[];g.use?"enc"==g.use?v=["encrypt","decrypt","wrap","unwrap"]:"sig"==g.use&&(v=["sign","verify"]):v=g.key_ops;w=g.ext;z=va(g.n,!0);D=va(g.e,!0);if(g.d){x=va(g.d,!0);I=va(g.p,!0);J=va(g.q,!0);B=va(g.dp,!0);Y=va(g.dq,!0);L=va(g.qi,!0);return new Z(z,D,x,I,J,B,Y,L,g.alg,v,w);}return new xa(z,D,w,v);}function B(g,v,w,D){this.der=g;this.type=v;this.keyOps=w;this.extractable=D;}J={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};v=function(g,v,w,D,x,I){this._data=g;this._parent=v||ja;this._constructed=w||!1;this._tagClass=0;this._tag=D||0;this._dataIdx=x||0;this._dataLen=I||0;};v.prototype={_child:ja,_next:ja,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(g){this._constructed=0!=g?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(g){this._tagClass=g;},get tag(){return this._tag;},set tag(g){this._tag=g;},get dataIdx(){return this._dataIdx;},set dataIdx(g){this._dataIdx=g;},get dataLen(){return this._dataLen;},set dataLen(g){this._dataLen=g;},get child(){return this._child;},set child(g){this._child=g;this._child.parent=this;},get next(){return this._next;},set next(g){this._next=g;},get parent(){return this._parent;},set parent(g){this._parent=g;},get payloadLen(){var g;g=0;if(this._child){for(var v=this._child;v;)g+=v.length,v=v.next;this._tag==J.BIT_STRING&&g++;}else switch(this._tag){case J.INTEGER:g=this._dataLen;this._data[this._dataIdx]>>7&&g++;break;case J.BIT_STRING:g=this._dataLen+1;break;case J.OCTET_STRING:g=this._dataLen;break;case J.NULL:g=0;break;case J.OBJECT_IDENTIFIER:M(this._data,this._dataIdx,this._dataLen)&&(g=9);}return g;},get length(){var g,v;g=this.payloadLen;if(127<g)for(v=g;v;)v>>=8,++g;return g+2;},get der(){var v,w;v=this.length;if(!v)return ja;v=new Uint8Array(v);w=new r(v);return g(this,w)?v:ja;},get nChildren(){for(var g=0,v=this._child;v;)g++,v=v.next;return g;}};D={createSequenceNode:function(){return new v(null,null,!0,J.SEQUENCE,null,null);},createOidNode:function(g){return new v(g,null,!1,J.OBJECT_IDENTIFIER,0,g?g.length:0);},createNullNode:function(){return new v(null,null,!1,J.NULL,null,null);},createBitStringNode:function(g){return new v(g,null,!1,J.BIT_STRING,0,g?g.length:0);},createIntegerNode:function(g){return new v(g,null,!1,J.INTEGER,0,g?g.length:0);},createOctetStringNode:function(g){return new v(g,null,!1,J.OCTET_STRING,0,g?g.length:0);}};Ba=function(g){this._currentNode=this._rootNode=g;};Ba.prototype={addChild:function(g){this.addTo(this._currentNode,g);},addSibling:function(g){this.addTo(this._currentNode.parent,g);},addTo:function(g,v){this._currentNode=v;this._currentNode.parent=g;if(g.child){for(var w=g.child;w.next;)w=w.next;w.next=v;}else g.child=v;},addToParent:function(g,v){this.findNode(g)&&this.addTo(g,v);},findNode:function(g){for(var v=this._currentNode;v;){if(g==v)return!0;v=v.parent;}return!1;}};Y=0;Ca=new Uint8Array([42,134,72,134,247,13,1,1,1]);xa=function(g,v,w,D){this.n=g;this.e=v;this.ext=w;this.keyOps=D;};Z=function(g,v,w,D,x,I,J,B,ha,Y,L){this.n=g;this.e=v;this.d=w;this.p=D;this.q=x;this.dp=I;this.dq=J;this.qi=B;this.alg=ha;this.keyOps=Y;this.ext=L;};qa="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");B.prototype.getDer=function(){return this.der;};B.prototype.getType=function(){return this.type;};B.prototype.getKeyOps=function(){return this.keyOps;};B.prototype.getExtractable=function(){return this.extractable;};n.parse=function(g){Y=0;return F(new v(g),0,g.length);};n.show=function(g,v){};n.isRsaSpki=W;n.isRsaPkcs8=Xa;n.NodeFactory=D;n.Builder=Ba;n.tagVal=J;n.RsaPublicKey=xa;n.RsaPrivateKey=Z;n.buildRsaSpki=Ja;n.parseRsaSpki=function(g){g=n.parse(g);return W?La(g):ja;};n.buildRsaPkcs8=L;n.parseRsaPkcs8=function(g){g=n.parse(g);return Xa(g)?I(g):ja;};n.buildRsaJwk=w;n.parseRsaJwk=x;n.RsaDer=B;n.rsaDerToJwk=function(g,v,D,x){g=n.parse(g);if(!g)return ja;if(W(g))g=La(g);else if(Xa(g))g=I(g);else return ja;return w(g,v,D,x);};n.jwkToRsaDer=function(g){var v,w;g=x(g);if(!g)return ja;if(g instanceof xa)v="spki",w=Ja(g).der;else if(g instanceof Z)v="pkcs8",w=L(g).der;else return ja;return new B(w,v,g.keyOps,g.ext);};n.webCryptoAlgorithmToJwkAlg=function(g){return"RSAES-PKCS1-v1_5"==g.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==g.name?"SHA-256"==g.hash.name?"RS256":"SHA-384"==g.hash.name?"RS384":"SHA-512"==g.hash.name?"RS512":ja:ja;};n.webCryptoUsageToJwkKeyOps=function(g){return g.map(function(g){return"wrapKey"==g?"wrap":"unwrapKey"==g?"unwrap":g;});};}());g.ASN1=n;}(M));(function(){for(var g={},n={},r={"=":0,".":0},u={"=":0,".":0},F=/\s+/g,M=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,Aa=64;Aa--;)g["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]]=262144*Aa,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]]=4096*Aa,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]]=64*Aa,u["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]]=Aa;for(Aa=64;Aa--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Aa]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa];)g["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa]]=262144*Aa,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa]]=4096*Aa,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa]]=64*Aa,u["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Aa]]=Aa;pa=function(g,n){for(var r="",W=0,L=g.length,I=L-2,w,x=n?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=n?"":"=";W<I;)w=65536*g[W++]+256*g[W++]+g[W++],r+=x[w>>>18]+x[w>>>12&63]+x[w>>>6&63]+x[w&63];W==I?(w=65536*g[W++]+256*g[W++],r+=x[w>>>18]+x[w>>>12&63]+x[w>>>6&63]+B):W==L-1&&(w=65536*g[W++],r+=x[w>>>18]+x[w>>>12&63]+B+B);return r;};va=function(W,Xa){var Ja;W=W.replace(F,"");if(Xa){Ja=W.length%4;if(Ja)for(var Ja=4-Ja,La=0;La<Ja;++La)W+="=";}Ja=W.length;if(0!=Ja%4||!M.test(W))throw Error("bad base64: "+W);for(var L=Ja/4*3-("="==W[Ja-1]?1:0)-("="==W[Ja-2]?1:0),I=new Uint8Array(L),w=0,x=0;w<Ja;)La=g[W[w++]]+n[W[w++]]+r[W[w++]]+u[W[w++]],I[x++]=La>>>16,x<L&&(I[x++]=La>>>8&255,x<L&&(I[x++]=La&255));return I;};}());bb={};(function(){var M,Aa,W,Ja;function g(n){if(!(this instanceof g))return new g(n);for(var L=0,I=Aa.length;L<I;L++)this[Aa[L]]="";this.bufferCheckPosition=bb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=n||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=W.BEGIN;this.stack=new M();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;r(this,"onready");}function r(g,L,I){if(g[L])g[L](I);}function n(g,L){var I,w;I=g.opt;w=g.textNode;I.trim&&(w=w.trim());I.normalize&&(w=w.replace(/\s+/g," "));g.textNode=w;g.textNode&&r(g,L?L:"onvalue",g.textNode);g.textNode="";}function u(g,L){n(g);L+="\nLine: "+g.line+"\nColumn: "+g.column+"\nChar: "+g.c;L=Error(L);g.error=L;r(g,"onerror",L);return g;}function F(La){La.state!==W.VALUE&&u(La,"Unexpected end");n(La);La.c="";La.closed=!0;r(La,"onend");g.call(La,La.opt);return La;}M=Array;bb.parser=function(r){return new g(r);};bb.CParser=g;bb.MAX_BUFFER_LENGTH=65536;bb.DEBUG=!1;bb.INFO=!1;bb.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");Aa=["textNode","numberNode"];bb.EVENTS.filter(function(g){return"error"!==g&&"end"!==g;});W=0;bb.STATE={BEGIN:W++,VALUE:W++,OPEN_OBJECT:W++,CLOSE_OBJECT:W++,OPEN_ARRAY:W++,CLOSE_ARRAY:W++,TEXT_ESCAPE:W++,STRING:W++,BACKSLASH:W++,END:W++,OPEN_KEY:W++,CLOSE_KEY:W++,TRUE:W++,TRUE2:W++,TRUE3:W++,FALSE:W++,FALSE2:W++,FALSE3:W++,FALSE4:W++,NULL:W++,NULL2:W++,NULL3:W++,NUMBER_DECIMAL_POINT:W++,NUMBER_DIGIT:W++};for(var Xa in bb.STATE)bb.STATE[bb.STATE[Xa]]=Xa;W=bb.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(g){return g.__proto__;});Ja=/[\\"\n]/g;g.prototype={end:function(){F(this);},write:function(g){var w,x,B;if(this.error)throw this.error;if(this.closed)return u(this,"Cannot write after close. Assign an onready handler.");if(null===g)return F(this);for(var L=g[0],I;L;){I=L;this.c=L=g.charAt(this.index++);I!==L?this.p=I:I=this.p;if(!L)break;this.position++;"\n"===L?(this.line++,this.column=0):this.column++;switch(this.state){case W.BEGIN:"{"===L?this.state=W.OPEN_OBJECT:"["===L?this.state=W.OPEN_ARRAY:"\r"!==L&&"\n"!==L&&" "!==L&&"\t"!==L&&u(this,"Non-whitespace before {[.");continue;case W.OPEN_KEY:case W.OPEN_OBJECT:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;if(this.state===W.OPEN_KEY)this.stack.push(W.CLOSE_KEY);else if("}"===L){r(this,"onopenobject");r(this,"oncloseobject");this.state=this.stack.pop()||W.VALUE;continue;}else this.stack.push(W.CLOSE_OBJECT);'"'===L?this.state=W.STRING:u(this,'Malformed object key should start with "');continue;case W.CLOSE_KEY:case W.CLOSE_OBJECT:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;":"===L?(this.state===W.CLOSE_OBJECT?(this.stack.push(W.CLOSE_OBJECT),n(this,"onopenobject")):n(this,"onkey"),this.state=W.VALUE):"}"===L?(n(this),r(this,"oncloseobject",void 0),this.state=this.stack.pop()||W.VALUE):","===L?(this.state===W.CLOSE_OBJECT&&this.stack.push(W.CLOSE_OBJECT),n(this),this.state=W.OPEN_KEY):u(this,"Bad object");continue;case W.OPEN_ARRAY:case W.VALUE:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;if(this.state===W.OPEN_ARRAY)if(r(this,"onopenarray"),this.state=W.VALUE,"]"===L){r(this,"onclosearray");this.state=this.stack.pop()||W.VALUE;continue;}else this.stack.push(W.CLOSE_ARRAY);'"'===L?this.state=W.STRING:"{"===L?this.state=W.OPEN_OBJECT:"["===L?this.state=W.OPEN_ARRAY:"t"===L?this.state=W.TRUE:"f"===L?this.state=W.FALSE:"n"===L?this.state=W.NULL:"-"===L?this.numberNode+=L:"0"===L?(this.numberNode+=L,this.state=W.NUMBER_DIGIT):-1!=="123456789".indexOf(L)?(this.numberNode+=L,this.state=W.NUMBER_DIGIT):u(this,"Bad value");continue;case W.CLOSE_ARRAY:if(","===L)this.stack.push(W.CLOSE_ARRAY),n(this,"onvalue"),this.state=W.VALUE;else if("]"===L)n(this),r(this,"onclosearray",void 0),this.state=this.stack.pop()||W.VALUE;else if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;else u(this,"Bad array");continue;case W.STRING:I=this.index-1;w=this.slashed,x=this.unicodeI;a:for(;;){if(bb.DEBUG)for(;0<x;)if(this.unicodeS+=L,L=g.charAt(this.index++),4===x?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),x=0,I=this.index-1):x++,!L)break a;if('"'===L&&!w){this.state=this.stack.pop()||W.VALUE;(this.textNode+=g.substring(I,this.index-1))||r(this,"onvalue","");break;}if("\\"===L&&!w&&(w=!0,this.textNode+=g.substring(I,this.index-1),L=g.charAt(this.index++),!L))break;if(w)if(w=!1,"n"===L?this.textNode+="\n":"r"===L?this.textNode+="\r":"t"===L?this.textNode+="\t":"f"===L?this.textNode+="\f":"b"===L?this.textNode+="\b":"u"===L?(x=1,this.unicodeS=""):this.textNode+=L,L=g.charAt(this.index++),I=this.index-1,L)continue;else break;Ja.lastIndex=this.index;B=Ja.exec(g);if(null===B){this.index=g.length+1;this.textNode+=g.substring(I,this.index-1);break;}this.index=B.index+1;L=g.charAt(B.index);if(!L){this.textNode+=g.substring(I,this.index-1);break;}}this.slashed=w;this.unicodeI=x;continue;case W.TRUE:if(""===L)continue;"r"===L?this.state=W.TRUE2:u(this,"Invalid true started with t"+L);continue;case W.TRUE2:if(""===L)continue;"u"===L?this.state=W.TRUE3:u(this,"Invalid true started with tr"+L);continue;case W.TRUE3:if(""===L)continue;"e"===L?(r(this,"onvalue",!0),this.state=this.stack.pop()||W.VALUE):u(this,"Invalid true started with tru"+L);continue;case W.FALSE:if(""===L)continue;"a"===L?this.state=W.FALSE2:u(this,"Invalid false started with f"+L);continue;case W.FALSE2:if(""===L)continue;"l"===L?this.state=W.FALSE3:u(this,"Invalid false started with fa"+L);continue;case W.FALSE3:if(""===L)continue;"s"===L?this.state=W.FALSE4:u(this,"Invalid false started with fal"+L);continue;case W.FALSE4:if(""===L)continue;"e"===L?(r(this,"onvalue",!1),this.state=this.stack.pop()||W.VALUE):u(this,"Invalid false started with fals"+L);continue;case W.NULL:if(""===L)continue;"u"===L?this.state=W.NULL2:u(this,"Invalid null started with n"+L);continue;case W.NULL2:if(""===L)continue;"l"===L?this.state=W.NULL3:u(this,"Invalid null started with nu"+L);continue;case W.NULL3:if(""===L)continue;"l"===L?(r(this,"onvalue",null),this.state=this.stack.pop()||W.VALUE):u(this,"Invalid null started with nul"+L);continue;case W.NUMBER_DECIMAL_POINT:"."===L?(this.numberNode+=L,this.state=W.NUMBER_DIGIT):u(this,"Leading zero not followed by .");continue;case W.NUMBER_DIGIT:-1!=="0123456789".indexOf(L)?this.numberNode+=L:"."===L?(-1!==this.numberNode.indexOf(".")&&u(this,"Invalid number has two dots"),this.numberNode+=L):"e"===L||"E"===L?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||u(this,"Invalid number has two exponential"),this.numberNode+=L):"+"===L||"-"===L?("e"!==I&&"E"!==I&&u(this,"Invalid symbol in number"),this.numberNode+=L):(this.numberNode&&r(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||W.VALUE);continue;default:u(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){g=Math.max(bb.MAX_BUFFER_LENGTH,10);I=L=0;for(w=Aa.length;I<w;I++){x=this[Aa[I]].length;if(x>g)switch(Aa[I]){case"text":break;default:u(this,"Max buffer length exceeded: "+Aa[I]);}L=Math.max(L,x);}this.bufferCheckPosition=bb.MAX_BUFFER_LENGTH-L+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var u;function g(g,r){r||(r=g.length);return g.reduce(function(g,n,W){return W<r?g+String.fromCharCode(n):g;},"");}for(var r={},n=0;256>n;++n){u=g([n]);r[u]=n;}for(var F=Object.keys(r).length,M=[],n=0;256>n;++n)M[n]=[n];Cd=function(n,W){var v,D;function u(g,v){var D;for(;0<v;){if(x>=w.length)return!1;if(v>B){D=g;D=D>>>v-B;w[x]|=D&255;v-=B;B=8;++x;}else v<=B&&(D=g,D<<=B-v,D&=255,D>>>=8-B,w[x]|=D&255,B-=v,v=0,0==B&&(B=8,++x));}return!0;}for(var Ja in r)W[Ja]=r[Ja];for(var La=F,L=[],I=8,w=new Uint8Array(n.length),x=0,B=8,J=0;J<n.length;++J){v=n[J];L.push(v);Ja=g(L);D=W[Ja];if(!D){L=g(L,L.length-1);if(!u(W[L],I))return null;0!=La>>I&&++I;W[Ja]=La++;L=[v];}}return 0<L.length&&(Ja=g(L),D=W[Ja],!u(D,I))?null:w.subarray(0,8>B?x+1:x);};Dd=function(g){var J,v,B,u;for(var n=M.slice(),r=0,u=0,La=8,L=new Uint8Array(Math.ceil(1.5*g.length)),I=0,w,x=[];r<g.length&&!(8*(g.length-r)-u<La);){for(var B=w=0;B<La;){J=Math.min(La-B,8-u);v=g[r];v=v<<u;v=v&255;v=v>>>8-J;B=B+J;u=u+J;8==u&&(u=0,++r);w|=(v&255)<<La-B;}B=n[w];0==x.length?++La:(B?x.push(B[0]):x.push(x[0]),n[n.length]=x,x=[],n.length==1<<La&&++La,B||(B=n[w]));w=I+B.length;w>=L.length&&(J=new Uint8Array(Math.ceil(1.5*w)),J.set(L),L=J);L.set(B,I);I=w;x=x.concat(B);}return L.subarray(0,I);};}());(function(){var g,r,u;Ma="utf-8";Na=9007199254740992;g=Ob={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Ob);Ed=function(r){for(var n=[g.GZIP,g.LZW],u=0;u<n.length&&0<r.length;++u)for(var F=n[u],W=0;W<r.length;++W)if(r[W]==F)return F;return null;};r=tc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(tc);Fd=function(g){return r.AES_CBC_PKCS5Padding==g?r.AES_CBC_PKCS5Padding:r.RSA_ECB_PKCS1Padding==g?r.RSA_ECB_PKCS1Padding:r[g];};u=Gd={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Gd);Uc=function(g){return u[g];};n={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(n);}());ma={isObjectLiteral:function(g){return null!==g&&"object"===typeof g&&g.constructor===Object;},extendDeep:function(){var g,r,n,u,F,M,Aa,W;g=arguments[0];r=1;n=arguments.length;u=!1;"boolean"===typeof g&&(u=g,g=arguments[1],r=2);for(;r<n;r++)if(null!=(F=arguments[r]))for(M in F)u&&M in g||(W=F[M],g!==W&&W!==ja&&(Aa=g[M],g[M]=null!==Aa&&null!==W&&"object"===typeof Aa&&"object"===typeof W?ma.extendDeep(u,{},Aa,W):W));return g;}};(function(){var Aa,W;function g(g,r){return function(){var n,L;n=g.base;g.base=r;L=g.apply(this,arguments);g.base=n;return L;};}function r(r,n,u){var L,I,w,x;u=u||W;x=!!u.extendAll;for(L in n)I=n.__lookupGetter__(L),w=n.__lookupSetter__(L),I||w?(I&&r.__defineGetter__(L,I),w&&r.__defineSetter__(L,w)):(I=n[L],w=r[L],"function"===typeof I&&"function"===typeof w&&I!==w?(I.base!==Function.prototype.base&&(I=g(I,w)),I.base=w):(x||u[L])&&ma.isObjectLiteral(I)&&ma.isObjectLiteral(w)&&(I=ma.extendDeep({},w,I)),r[L]=I);}function n(){var g,r;g=Array.prototype.slice;r=g.call(arguments,1);return this.extend({init:function L(){var I;I=g.call(arguments,0);L.base.apply(this,r.concat(I));}});}function u(g,n){var W;W=new this(Aa);r(W,g,n);return M(W);}function F(g,n){r(this.prototype,g,n);return this;}function M(g){var r;r=function(){var g;g=this.init;g&&arguments[0]!==Aa&&g.apply(this,arguments);};g&&(r.prototype=g);r.prototype.constructor=r;r.extend=u;r.bind=n;r.mixin=F;return r;}Aa={};W={actions:!0};Function.prototype.base=function(){};ma.Class={create:M,mixin:r,extend:function(g,r){var n;n=M();n.prototype=new g();return n.extend(r);}};ma.mixin=function(){ma.log&&ma.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");r.apply(null,arguments);};}());(function(){var Aa,W,Xa;function g(g,r){return function(){var n,I;n=g.base;g.base=r;I=g.apply(this,arguments);g.base=n;return I;};}function r(r,n,L){var I,w,x,B;L=L||W;B=!!L.extendAll;for(I in n)w=n.__lookupGetter__(I),x=n.__lookupSetter__(I),w||x?(w&&r.__defineGetter__(I,w),x&&r.__defineSetter__(I,x)):(w=n[I],x=r[I],"function"===typeof w&&"function"===typeof x&&w!==x?(w.base!==Xa&&(w=g(w,x)),w.base=x):(B||L[I])&&ma.isObjectLiteral(w)&&ma.isObjectLiteral(x)&&(w=ma.extendDeep({},x,w)),r[I]=w);}function n(){var g,r;g=Array.prototype.slice;r=g.call(arguments,1);return this.extend({init:function I(){var w;w=g.call(arguments,0);I.base.apply(this,r.concat(w));}});}function u(g,n){var L;L=new this(Aa);r(L,g,n);return M(L);}function F(g,n){r(this.prototype,g,n);return this;}function M(g){var r;r=function(){var g;g=this.init;g&&arguments[0]!==Aa&&g.apply(this,arguments);};g&&(r.prototype=g);r.prototype.constructor=r;r.extend=u;r.bind=n;r.mixin=F;return r;}Aa={};W={actions:!0};Xa=function(){};Function.prototype.base=Xa;ma.Class={create:M,mixin:r,extend:function(g,r){var n;n=M();n.prototype=new g();return n.extend(r);}};ma.mixin=function(){ma.log&&ma.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");r.apply(null,arguments);};}());(function(){function g(g){return g==Na?1:g+1;}function r(r){if(0===Object.keys(r._waiters).length)return 0;for(var n=g(r._nextWaiter);!r._waiters[n];)n=g(n);return n;}gc=ma.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(g){var n;if(this._waiters[g]){n=this._waiters[g];delete this._waiters[g];g==this._nextWaiter&&(this._nextWaiter=r(this));n.call(this,ja);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(n,F){var M,S;M=this;S=g(this._lastWaiter);this._lastWaiter=S;u(F,function(){var g,W;if(0<this._queue.length){g=this._queue.shift();setTimeout(function(){F.result(g);},0);}else{-1!=n&&(W=setTimeout(function(){delete M._waiters[S];S==M._nextWaiter&&(M._nextWaiter=r(M));F.timeout();},n));this._waiters[S]=function(g){clearTimeout(W);setTimeout(function(){F.result(g);},0);};this._nextWaiter||(this._nextWaiter=S);}},M);return S;},add:function(g){var n;if(this._nextWaiter){n=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=r(this);n.call(this,g);}else this._queue.push(g);}});}());(function(){var g;g=0-Na;Hd=ma.Class.create({nextBoolean:function(){var g;g=new Uint8Array(1);Eb.getRandomValues(g);return g[0]&1?!0:!1;},nextInt:function(g){var r;if(null!==g&&g!==ja){if("number"!==typeof g)throw new TypeError("n must be of type number");if(1>g)throw new RangeError("n must be greater than zero");--g;r=new Uint8Array(4);Eb.getRandomValues(r);return Math.floor(((r[3]&127)<<24|r[2]<<16|r[1]<<8|r[0])/2147483648*(g-0+1)+0);}g=new Uint8Array(4);Eb.getRandomValues(g);r=(g[3]&127)<<24|g[2]<<16|g[1]<<8|g[0];return g[3]&128?-r:r;},nextLong:function(){var n,r;for(var r=g;r==g;){r=new Uint8Array(7);Eb.getRandomValues(r);n=16777216*((r[6]&31)<<24|r[5]<<16|r[4]<<8|r[3])+(r[2]<<16|r[1]<<8|r[0]);r=r[6]&128?-n-1:n;}return r;},nextBytes:function(g){Eb.getRandomValues(g);}});}());(function(){function g(g){return g==Na?1:g+1;}function r(r){if(0===Object.keys(r._waitingReaders).length)return 0;for(var n=g(r._nextReader);!r._waitingReaders[n];)n=g(n);return n;}function n(r){if(0===Object.keys(r._waitingWriters).length)return 0;for(var n=g(r._nextWriter);!r._waitingWriters[n];)n=g(n);return n;}Vc=ma.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(g){var u;if(this._waitingReaders[g]){u=this._waitingReaders[g];delete this._waitingReaders[g];g==this._nextReader&&(this._nextReader=r(this));u.call(this,!0);}this._waitingWriters[g]&&(u=this._waitingWriters[g],delete this._waitingWriters[g],g==this._nextWriter&&(this._nextWriter=n(this)),u.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(n,F){var M,S;M=this;S=g(this._lastNumber);this._lastNumber=S;u(F,function(){var g;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[S]=!0,S;-1!=n&&(g=setTimeout(function(){delete M._waitingReaders[S];S==M._nextReader&&(M._nextReader=r(M));F.timeout();},n));this._waitingReaders[S]=function(r){clearTimeout(g);r?setTimeout(function(){F.result(ja);},0):(M._readers[S]=!0,setTimeout(function(){F.result(S);},0));};this._nextReader||(this._nextReader=S);},M);return S;},writeLock:function(r,F){var M,S;M=this;S=g(this._lastNumber);this._lastNumber=S;u(F,function(){var g;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=S;-1!=r&&(g=setTimeout(function(){delete M._waitingWriters[S];S==M._nextWriter&&(M._nextWriter=n(M));F.timeout();},r));this._waitingWriters[S]=function(r){clearTimeout(g);r?setTimeout(function(){F.result(ja);},0):(M._writer=S,setTimeout(function(){F.result(S);},0));};this._nextWriter||(this._nextWriter=S);},M);return S;},unlock:function(r){if(r==this._writer)this._writer=null;else{if(!this._readers[r])throw new ea("There is no reader or writer with ticket number "+r+".");delete this._readers[r];}if(this._nextWriter)0<Object.keys(this._readers).length||(r=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=n(this),r.call(this,!1));else{for(var u=this._nextReader;0<Object.keys(this._waitingReaders).length;u=g(u))this._waitingReaders[u]&&(r=this._waitingReaders[u],delete this._waitingReaders[u],r.call(this,!1));this._nextReader=0;}}});}());ma.Class.mixin(g,{JSON_PARSE_ERROR:new g(0,n.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new g(1,n.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new g(2,n.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new g(3,n.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new g(4,n.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new g(5,n.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new g(6,n.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new g(7,n.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new g(8,n.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new g(9,n.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new g(10,n.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new g(11,n.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new g(12,n.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new g(13,n.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new g(14,n.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new g(15,n.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new g(16,n.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new g(17,n.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new g(18,n.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new g(19,n.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new g(20,n.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new g(21,n.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new g(22,n.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new g(23,n.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new g(24,n.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new g(25,n.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new g(26,n.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new g(27,n.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new g(28,n.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new g(29,n.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new g(30,n.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new g(31,n.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new g(32,n.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new g(33,n.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new g(34,n.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new g(35,n.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new g(36,n.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new g(37,n.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new g(38,n.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new g(39,n.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new g(40,n.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new g(41,n.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new g(42,n.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new g(43,n.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new g(44,n.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new g(45,n.FAIL,"Error exporting key."),DIGEST_ERROR:new g(46,n.FAIL,"Error in digest."),UNSUPPORTED_KEY:new g(47,n.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new g(48,n.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new g(49,n.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new g(50,n.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new g(51,n.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new g(52,n.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new g(53,n.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new g(54,n.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new g(55,n.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new g(56,n.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new g(57,n.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new g(58,n.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new g(59,n.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new g(60,n.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new g(61,n.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new g(62,n.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new g(1E3,n.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new g(1001,n.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new g(1002,n.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new g(1003,n.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new g(1004,n.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(1005,n.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new g(1006,n.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new g(1007,n.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new g(1008,n.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new g(1009,n.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new g(1010,n.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new g(1011,n.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new g(1012,n.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new g(1013,n.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new g(1014,n.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new g(2E3,n.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new g(2001,n.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new g(2002,n.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new g(2003,n.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new g(2004,n.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new g(2005,n.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(2006,n.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(2007,n.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new g(2008,n.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new g(2009,n.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new g(2010,n.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new g(2011,n.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new g(2012,n.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new g(2013,n.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new g(2014,n.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new g(2015,n.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new g(2016,n.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new g(2017,n.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new g(2018,n.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new g(2019,n.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new g(2020,n.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new g(3E3,n.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new g(3001,n.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new g(3002,n.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new g(3003,n.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new g(3004,n.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(3005,n.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(3006,n.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new g(3007,n.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new g(3008,n.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new g(3009,n.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new g(4E3,n.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new g(4001,n.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new g(4002,n.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new g(4003,n.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new g(4004,n.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new g(4005,n.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new g(4006,n.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new g(4007,n.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new g(4008,n.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new g(4009,n.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new g(4010,n.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new g(4011,n.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new g(4012,n.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new g(4013,n.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new g(4014,n.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new g(4015,n.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new g(4016,n.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new g(4017,n.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new g(4018,n.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new g(4019,n.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new g(4020,n.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new g(4021,n.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new g(4022,n.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new g(4023,n.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new g(4024,n.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new g(4025,n.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new g(4026,n.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new g(5E3,n.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new g(5001,n.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new g(5002,n.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new g(5003,n.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new g(5004,n.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new g(5005,n.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new g(5006,n.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new g(5007,n.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new g(5008,n.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new g(5009,n.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new g(5010,n.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new g(5011,n.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new g(5012,n.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new g(5013,n.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new g(5014,n.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new g(5015,n.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new g(5016,n.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new g(5017,n.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new g(5018,n.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new g(5019,n.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new g(5020,n.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new g(5021,n.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new g(5022,n.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new g(5023,n.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new g(5024,n.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new g(5025,n.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new g(5026,n.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new g(5027,n.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new g(5028,n.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new g(5029,n.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new g(5030,n.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new g(5031,n.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new g(5032,n.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new g(5033,n.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new g(5034,n.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new g(5035,n.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new g(5036,n.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new g(5037,n.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new g(5038,n.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new g(5039,n.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new g(5040,n.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new g(6E3,n.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new g(6001,n.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new g(6002,n.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new g(6003,n.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new g(6004,n.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new g(6005,n.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new g(6006,n.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new g(6007,n.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new g(6008,n.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new g(6009,n.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new g(6010,n.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new g(6011,n.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new g(6012,n.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new g(6013,n.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new g(6014,n.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new g(6015,n.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new g(6016,n.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new g(6017,n.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new g(6018,n.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new g(6019,n.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new g(6020,n.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new g(6021,n.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new g(6022,n.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new g(6023,n.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new g(6024,n.FAIL,"Invalid header data."),PAYLOAD_INVALID:new g(6025,n.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new g(6026,n.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new g(6027,n.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new g(6028,n.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new g(6029,n.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new g(6030,n.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new g(6031,n.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new g(6032,n.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new g(6033,n.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new g(6034,n.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new g(6035,n.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new g(6036,n.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new g(6037,n.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new g(7E3,n.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new g(7001,n.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new g(7002,n.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new g(7003,n.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new g(7004,n.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new g(7005,n.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new g(7006,n.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new g(7007,n.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new g(7008,n.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new g(7009,n.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new g(7010,n.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new g(7011,n.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new g(7012,n.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new g(7013,n.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new g(7014,n.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new g(7015,n.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new g(7016,n.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new g(8E3,n.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new g(8001,n.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new g(8002,n.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new g(8003,n.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new g(8004,n.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new g(8005,n.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new g(8006,n.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new g(8007,n.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new g(8008,n.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new g(8009,n.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new g(8010,n.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new g(8011,n.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new g(8012,n.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new g(9E3,n.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new g(9001,n.FAIL,"Error communicating with MSL entity."),NONE:new g(9999,n.FAIL,"Special unit test error.")});Object.freeze(g);(function(){F=ma.Class.create(Error());F.mixin({init:function(g,r,n){var M,S,ea;function u(){return S?S:this.cause&&this.cause instanceof F?this.cause.messageId:ja;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);M=g.message;r&&(M+=" ["+r+"]");ea=this.stack;Object.defineProperties(this,{message:{value:M,writable:!1,configurable:!0},error:{value:g,writable:!1,configurable:!0},cause:{value:n,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:u,set:function(g){if(0>g||g>Na)throw new RangeError("Message ID "+g+" is outside the valid range.");u()||(S=g);},configurable:!0},stack:{get:function(){var g;g=this.toString();ea&&(g+="\n"+ea);n&&n.stack&&(g+="\nCaused by "+n.stack);return g;},configurable:!0}});},setEntity:function(g){!g||this.masterToken||this.entityAuthenticationData||(g instanceof kb?this.masterToken=g:g instanceof Pb&&(this.entityAuthenticationData=g));return this;},setUser:function(g){!g||this.userIdToken||this.userAuthenticationData||(g instanceof $b?this.userIdToken=g:g instanceof Gb&&(this.userAuthenticationData=g));return this;},setMessageId:function(g){this.messageId=g;return this;},toString:function(){return this.name+": "+this.message;}});}());S=F.extend({init:function Lb(g,r,n){Lb.base.call(this,g,r,n);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ia=F.extend({init:function rb(g,r,n){rb.base.call(this,g,r,n);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});xb=F.extend({init:function Pa(g,r,n){Pa.base.call(this,g,r,n);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){nb=ma.Class.create(Error());nb.mixin({init:function(g,r,n){var u;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);u=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:r,writable:!1,configurable:!1},requestCause:{value:n,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();u&&(g+="\n"+u);r&&r.stack&&(g+="\nCaused by "+r.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Za=ma.Class.create(Error());Za.mixin({init:function(g,r){var n;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);n=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:r,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();n&&(g+="\n"+n);r&&r.stack&&(g+="\nCaused by "+r.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){ea=ma.Class.create(Error());ea.mixin({init:function(g,r){var n;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);n=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:r,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();n&&(g+="\n"+n);r&&r.stack&&(g+="\nCaused by "+r.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){cb=ma.Class.create(Error());cb.mixin({init:function(g,r){var n;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);n=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:r,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();n&&(g+="\n"+n);r&&r.stack&&(g+="\nCaused by "+r.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Ua=F.extend({init:function qc(g,r,n){qc.base.call(this,g,r,n);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Qb=F.extend({init:function Pc(g,r){Pc.base.call(this,g);Object.defineProperties(this,{masterToken:{value:r,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ha=F.extend({init:function Aa(g,r,n){Aa.base.call(this,g,r,n);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Da=F.extend({init:function W(g,r,n){W.base.call(this,g,r,n);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var L;function g(g){return"undefined"===typeof g?!1:g;}function r(g){return g&&g.length?(eb===L.V2014_02&&(g=g.map(function(g){return"wrap"==g?"wrapKey":"unwrap"==g?"unwrapKey":g;})),g):eb===L.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function n(g,w,r,n,J){return Promise.resolve().then(function(){return Va.importKey(g,w,r,n,J);})["catch"](function(v){var D;if("spki"!==g&&"pkcs8"!==g)throw v;v=ASN1.webCryptoAlgorithmToJwkAlg(r);D=ASN1.webCryptoUsageToJwkKeyOps(J);v=ASN1.rsaDerToJwk(w,v,D,n);if(!v)throw Error("Could not make valid JWK from DER input");v=JSON.stringify(v);return Va.importKey("jwk",Oc(v),r,n,J);});}function u(g,w){return Promise.resolve().then(function(){return Va.exportKey(g,w);})["catch"](function(r){if("spki"!==g&&"pkcs8"!==g)throw r;return Va.exportKey("jwk",w).then(function(g){g=JSON.parse(Nc(new Uint8Array(g)));g=ASN1.jwkToRsaDer(g);if(!g)throw Error("Could not make valid DER from JWK input");return g.getDer().buffer;});});}L=uc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(uc);eb=L.LATEST;Ka={encrypt:function(g,w,r){switch(eb){case L.LEGACY:return new Promise(function(x,n){var v;v=Va.encrypt(g,w,r);v.oncomplete=function(g){x(g.target.result);};v.onerror=function(g){n(g);};});case L.V2014_01:case L.V2014_02:return Va.encrypt(g,w,r).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(g,w,r){switch(eb){case L.LEGACY:return new Promise(function(x,n){var v;v=Va.decrypt(g,w,r);v.oncomplete=function(g){x(g.target.result);};v.onerror=function(g){n(g);};});case L.V2014_01:case L.V2014_02:return Va.decrypt(g,w,r).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(g,w,r){switch(eb){case L.LEGACY:return new Promise(function(x,n){var v;v=Va.sign(g,w,r);v.oncomplete=function(g){x(g.target.result);};v.onerror=function(g){n(g);};});case L.V2014_01:case L.V2014_02:return Va.sign(g,w,r).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(g,w,r,n){switch(eb){case L.LEGACY:return new Promise(function(x,v){var D;D=Va.verify(g,w,r,n);D.oncomplete=function(g){x(g.target.result);};D.onerror=function(g){v(g);};});case L.V2014_01:case L.V2014_02:return Va.verify(g,w,r,n);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(g,w){switch(eb){case L.LEGACY:return new Promise(function(r,n){var x;x=Va.digest(g,w);x.oncomplete=function(g){r(g.target.result);};x.onerror=function(g){n(g);};});case L.V2014_01:case L.V2014_02:return Va.digest(g,w).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(n,w,x){var I,J;I=g(w);J=r(x);switch(eb){case L.LEGACY:return new Promise(function(g,w){var v;v=Va.generateKey(n,I,J);v.oncomplete=function(v){g(v.target.result);};v.onerror=function(g){w(g);};});case L.V2014_01:case L.V2014_02:return Va.generateKey(n,I,J);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(n,w,x,B,J){var v,D;v=g(B);D=r(J);switch(eb){case L.LEGACY:return new Promise(function(g,r){var J;J=Va.deriveKey(n,w,x,v,D);J.oncomplete=function(v){g(v.target.result);};J.onerror=function(g){r(g);};});case L.V2014_01:case L.V2014_02:return Va.deriveKey(n,w,x,v,D);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(I,w,x,B,J){var v,D;v=g(B);D=r(J);switch(eb){case L.LEGACY:return new Promise(function(g,r){var n;n=Va.importKey(I,w,x,v,D);n.oncomplete=function(v){g(v.target.result);};n.onerror=function(g){r(g);};});case L.V2014_01:case L.V2014_02:return n(I,w,x,v,D);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(g,w){switch(eb){case L.LEGACY:return new Promise(function(r,n){var x;x=Va.exportKey(g,w);x.oncomplete=function(g){r(g.target.result);};x.onerror=function(g){n(g);};});case L.V2014_01:case L.V2014_02:return u(g,w).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(g,w,r,n){switch(eb){case L.LEGACY:return new Promise(function(g,v){var D;D=Va.wrapKey(w,r,n);D.oncomplete=function(v){g(v.target.result);};D.onerror=function(g){v(g);};});case L.V2014_01:case L.V2014_02:return Va.wrapKey(g,w,r,n).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(n,w,x,B,J,v,D){switch(eb){case L.LEGACY:return new Promise(function(g,v){var r;r=Va.unwrapKey(w,J,x);r.oncomplete=function(v){g(v.target.result);};r.onerror=function(g){v(g);};});case L.V2014_01:case L.V2014_02:return Va.unwrapKey(n,w,x,B,J,g(v),r(D));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};sc&&sc.getKeyByName&&(Ka.getKeyByName=function(g){switch(eb){case L.LEGACY:return new Promise(function(w,r){var x;x=sc.getKeyByName(g);x.oncomplete=function(g){w(g.target.result);};x.onerror=function(g){r(g);};});case L.V2014_01:case L.V2014_02:return sc.getKeyByName(g);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});M.netflix=M.netflix||{};M.netflix.crypto=Ka;}());yb={name:"AES-KW"};sb={name:"AES-CBC"};tb={name:"HMAC",hash:{name:"SHA-256"}};vc={name:"RSA-OAEP",hash:{name:"SHA-1"}};Wc={name:"RSAES-PKCS1-v1_5"};Id={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Hb=["encrypt","decrypt"];Ib=["wrap","unwrap"];Rb=["sign","verify"];(function(){Xc=ma.Class.create({init:function(n,u,F){var L;function W(g){r(u,function(){var w;w=g?pa(g):ja;Object.defineProperties(L,{rawKey:{value:n,writable:!1,configurable:!1},keyData:{value:g,writable:!1,configurable:!1},keyDataB64:{value:w,writable:!1,configurable:!1}});return this;},L);}L=this;r(u,function(){if(!n||"object"!=typeof n)throw new S(g.INVALID_SYMMETRIC_KEY);!F&&n.extractable?Ka.exportKey("raw",n).then(function(g){W(new Uint8Array(g));},function(r){u.error(new S(g.KEY_EXPORT_ERROR,"raw"));}):W(F);},L);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Yb=function(g,r){new Xc(g,r);};zb=function(n,u,F,M){r(M,function(){try{n="string"==typeof n?va(n):n;}catch(L){throw new S(g.INVALID_SYMMETRIC_KEY,"keydata "+n,L);}Ka.importKey("raw",n,u,!0,F).then(function(g){new Xc(g,M,n);},function(r){M.error(new S(g.INVALID_SYMMETRIC_KEY));});});};}());(function(){wc=ma.Class.create({init:function(n,u,F){var L;function W(g){r(u,function(){Object.defineProperties(L,{rawKey:{value:n,writable:!1,configurable:!1},encoded:{value:g,writable:!1,configurable:!1}});return this;},L);}L=this;r(u,function(){if(!n||"object"!=typeof n||"public"!=n.type)throw new TypeError("Only original public crypto keys are supported.");!F&&n.extractable?Ka.exportKey("spki",n).then(function(g){W(new Uint8Array(g));},function(r){u.error(new S(g.KEY_EXPORT_ERROR,"spki"));}):W(F);});},getEncoded:function(){return this.encoded;}});Nb=function(g,r){new wc(g,r);};Yc=function(n,u,F,M){r(M,function(){try{n="string"==typeof n?va(n):n;}catch(L){throw new S(g.INVALID_PUBLIC_KEY,"spki "+n,L);}Ka.importKey("spki",n,u,!0,F).then(function(g){new wc(g,M,n);},function(r){M.error(new S(g.INVALID_PUBLIC_KEY));});});};}());(function(){Jd=ma.Class.create({init:function(n,u,F){var L;function W(g){r(u,function(){Object.defineProperties(L,{rawKey:{value:n,writable:!1,configurable:!1},encoded:{value:g,writable:!1,configurable:!1}});return this;},L);}L=this;r(u,function(){if(!n||"object"!=typeof n||"private"!=n.type)throw new TypeError("Only original private crypto keys are supported.");!F&&n.extractable?Ka.exportKey("pkcs8",n).then(function(g){W(new Uint8Array(g));},function(r){u.error(new S(g.KEY_EXPORT_ERROR,"pkcs8"));}):W(F);});},getEncoded:function(){return this.encoded;}});Zb=function(g,r){new Jd(g,r);};}());(function(){var n;n=bd={V1:1,V2:2};Zc=ma.Class.create({init:function(g,u,F,L){r(L,function(){var r,w,x,B;r=n.V1;w=g;x=null;for(B in tc)if(tc[B]==g){r=n.V2;w=null;x=g;break;}Object.defineProperties(this,{version:{value:r,writable:!1,enumerable:!1,configurable:!1},keyId:{value:w,writable:!1,configurable:!1},cipherSpec:{value:x,writable:!1,configurable:!1},iv:{value:u,writable:!1,configurable:!1},ciphertext:{value:F,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var g;g={};switch(this.version){case n.V1:g.keyid=this.keyId;this.iv&&(g.iv=pa(this.iv));g.ciphertext=pa(this.ciphertext);g.sha256="AA==";break;case n.V2:g.version=this.version;g.cipherspec=this.cipherSpec;this.iv&&(g.iv=pa(this.iv));g.ciphertext=pa(this.ciphertext);break;default:throw new ea("Ciphertext envelope version "+this.version+" encoding unsupported.");}return g;}});$c=function(g,r,n,L){new Zc(g,r,n,L);};ad=function(u,F,W){r(W,function(){var r,I,w,x,B,J,v;r=u.keyid;I=u.cipherspec;w=u.iv;x=u.ciphertext;B=u.sha256;if(!F)if((F=u.version)&&"number"===typeof F&&F===F){J=!1;for(v in n)if(n[v]==F){J=!0;break;}if(!J)throw new S(g.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(u));}else F=n.V1;switch(F){case n.V1:if("string"!==typeof r||w&&"string"!==typeof w||"string"!==typeof x||"string"!==typeof B)throw new ia(g.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(u));break;case n.V2:v=u.version;if(v!=n.V2)throw new S(g.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(u));if("string"!==typeof I||w&&"string"!==typeof w||"string"!==typeof x)throw new ia(g.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(u));I=Fd(I);if(!I)throw new S(g.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(u));r=I;break;default:throw new S(g.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(u));}try{w&&(w=va(w));x=va(x);}catch(D){throw new S(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(u),D);}new Zc(r,w,x,W);});};}());(function(){var n;n=ed={V1:1,V2:2};Ab=ma.Class.create({init:function(g,r,u){var L;switch(g){case n.V1:L=u;break;case n.V2:L={};L.version=g;L.algorithm=r;L.signature=pa(u);L=Wa(JSON.stringify(L),Ma);break;default:throw new ea("Signature envelope version "+g+" encoding unsupported.");}Object.defineProperties(this,{version:{value:g,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:r,writable:!1,configurable:!1},signature:{value:u,writable:!1,configurable:!1},bytes:{value:L,writable:!1,configurable:!1}});}});cd=function(){var g,u,F,L;2==arguments.length?(g=n.V1,u=arguments[0],F=null,L=arguments[1]):3==arguments.length&&(g=n.V2,F=arguments[0],u=arguments[1],L=arguments[2]);r(L,function(){return new Ab(g,F,u);});};dd=function(u,F,W){r(W,function(){var r,I,w,x,B,J,v;if(F)switch(F){case n.V1:return new Ab(n.V1,null,u);case n.V2:try{r=Ya(u,Ma);I=JSON.parse(r);w=parseInt(I.version);x=I.algorithm;B=I.signature;if(!w||"number"!==typeof w||w!=w||"string"!==typeof x||"string"!==typeof B)throw new ia(g.JSON_PARSE_ERROR,"signature envelope "+pa(u));if(n.V2!=w)throw new S(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+pa(u));J=Uc(x);if(!J)throw new S(g.UNIDENTIFIED_ALGORITHM,"signature envelope "+pa(u));v=va(B);if(!v)throw new S(g.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(u));return new Ab(n.V2,J,v);}catch(D){if(D instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"signature envelope "+pa(u),D);throw D;}default:throw new S(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+pa(u));}try{r=Ya(u,Ma);I=JSON.parse(r);}catch(D){I=null;}if(I&&I.version){if(r=I.version,"number"!==typeof r||r!==r)r=n.V1;}else r=n.V1;switch(r){case n.V1:return new Ab(r,null,u);case n.V2:J=I.algorithm;B=I.signature;if("string"!==typeof J||"string"!==typeof B)return new Ab(n.V1,null,u);J=Uc(J);if(!J)return new Ab(n.V1,null,u);try{v=va(B);}catch(D){return new Ab(n.V1,null,u);}return new Ab(r,J,v);default:throw new S(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+u);}});};}());ac=ma.Class.create({encrypt:function(g,r){},decrypt:function(g,r){},wrap:function(g,r){},unwrap:function(g,r,n,u){},sign:function(g,r){},verify:function(g,r,n){}});(function(){var n;n=Cb={RSA_OAEP:vc.name,A128KW:yb.name};vb="A128GCM";Bb=ma.Class.create({init:function(g,r,u,L,I){switch(r){case n.RSA_OAEP:I=I&&(I.rawKey||I);L=L&&(L.rawKey||L);break;case n.A128KW:I=L=L&&(L.rawKey||L);break;default:throw new ea("Unsupported algorithm: "+r);}Object.defineProperties(this,{_ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},_algo:{value:r,writable:!1,enumerable:!1,configurable:!1},_enc:{value:u,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:I,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:L,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(r,n){n.error(new S(g.ENCRYPT_NOT_SUPPORTED));},decrypt:function(r,n){n.error(new S(g.DECRYPT_NOT_SUPPORTED));},wrap:function(n,u){r(u,function(){Ka.wrapKey("jwe+jwk",n.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(g){u.result(g);},function(r){u.error(new S(g.WRAP_ERROR));});},this);},unwrap:function(n,u,F,L){function I(n){r(L,function(){switch(n.type){case"secret":Yb(n,L);break;case"public":Nb(n,L);break;case"private":Zb(n,L);break;default:throw new S(g.UNSUPPORTED_KEY,"type: "+n.type);}});}r(L,function(){Ka.unwrapKey("jwe+jwk",n,this._unwrapKey,this._unwrapKey.algorithm,u,!1,F).then(function(g){I(g);},function(){L.error(new S(g.UNWRAP_ERROR));});},this);},sign:function(r,n){n.error(new S(g.SIGN_NOT_SUPPORTED));},verify:function(r,n,u){u.error(new S(g.VERIFY_NOT_SUPPORTED));}});}());bc=ac.extend({encrypt:function(g,r){r.result(g);},decrypt:function(g,r){r.result(g);},wrap:function(g,r){r.result(g);},unwrap:function(g,r,n,u){u.result(g);},sign:function(g,r){r.result(new Uint8Array(0));},verify:function(g,r,n){n.result(!0);}});(function(){var n;n=yc={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};xc=ac.extend({init:function Ja(g,r,I,w,x){Ja.base.call(this);I&&(I=I.rawKey);w&&(w=w.rawKey);Object.defineProperties(this,{id:{value:r,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:I,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:w,writable:!1,enumerable:!1,configurable:!1},transform:{value:x==n.ENCRYPT_DECRYPT_PKCS1?Wc:x==n.ENCRYPT_DECRYPT_OAEP?vc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:x==n.WRAP_UNWRAP_PKCS1?Wc:x==n.WRAP_UNWRAP_OAEP?vc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:x==n.SIGN_VERIFY?Id:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,u){var L;L=this;r(u,function(){if("nullOp"==this.transform)return n;if(!this.publicKey)throw new S(g.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==n.length)return n;Ka.encrypt(L.transform,L.publicKey,n).then(function(r){$c(L.id,null,r,{result:function(r){var n;try{n=JSON.stringify(r);u.result(Wa(n,Ma));}catch(B){u.error(new S(g.ENCRYPT_ERROR,null,B));}},error:function(r){r instanceof F||(r=new S(g.ENCRYPT_ERROR,null,r));u.error(r);}});},function(r){u.error(new S(g.ENCRYPT_ERROR));});},this);},decrypt:function(n,u){var L;L=this;r(u,function(){var r,w;if("nullOp"==this.transform)return n;if(!this.privateKey)throw new S(g.DECRYPT_NOT_SUPPORTED,"no private key");if(0==n.length)return n;try{w=Ya(n,Ma);r=JSON.parse(w);}catch(x){if(x instanceof SyntaxError)throw new S(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,x);throw new S(g.DECRYPT_ERROR,null,x);}ad(r,bd.V1,{result:function(r){var n;try{if(r.keyId!=L.id)throw new S(g.ENVELOPE_KEY_ID_MISMATCH);n=u.result;Ka.decrypt(L.transform,L.privateKey,r.ciphertext).then(n,function(r){u.error(new S(g.DECRYPT_ERROR));});}catch(J){J instanceof F?u.error(J):u.error(new S(g.DECRYPT_ERROR,null,J));}},error:function(r){r instanceof ia&&(r=new S(g.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,r));r instanceof F||(r=new S(g.DECRYPT_ERROR,null,r));u.error(r);}});},this);},wrap:function(n,u){r(u,function(){var r;if("nullOp"==this.wrapTransform||!this.publicKey)throw new S(g.WRAP_NOT_SUPPORTED,"no public key");r=u.result;Ka.wrapKey("jwk",n.rawKey,this.publicKey,this.wrapTransform).then(r,function(r){u.error(new S(g.WRAP_ERROR));});},this);},unwrap:function(n,u,L,I){function w(n){r(I,function(){switch(n.type){case"secret":Yb(n,I);break;case"public":Nb(n,I);break;case"private":Zb(n,I);break;default:throw new S(g.UNSUPPORTED_KEY,"type: "+n.type);}});}r(I,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new S(g.UNWRAP_NOT_SUPPORTED,"no private key");Ka.unwrapKey("jwk",n,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},u,!1,L).then(w,function(r){I.error(new S(g.UNWRAP_ERROR));});},this);},sign:function(n,u){r(u,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new S(g.SIGN_NOT_SUPPORTED,"no private key");Ka.sign(this.algo,this.privateKey,n).then(function(g){cd(g,{result:function(g){u.result(g.bytes);},error:u.error});},function(r){u.error(new S(g.SIGNATURE_ERROR));});},this);},verify:function(n,u,L){var I;I=this;r(L,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new S(g.VERIFY_NOT_SUPPORTED,"no public key");dd(u,ed.V1,{result:function(w){r(L,function(){var r;r=L.result;Ka.verify(this.algo,this.publicKey,w.signature,n).then(r,function(r){L.error(new S(g.SIGNATURE_ERROR));});},I);},error:L.error});},this);}});}());(function(){zc=ac.extend({init:function Xa(g,r,n,I,w){Xa.base.call(this);n=n&&n.rawKey;I=I&&I.rawKey;w=w&&w.rawKey;Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},id:{value:r,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:n,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:I,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:w,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,u){var M;M=this;r(u,function(){var r;if(!this.encryptionKey)throw new S(g.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==n.length)return n;r=new Uint8Array(16);this.ctx.getRandom().nextBytes(r);Ka.encrypt({name:sb.name,iv:r},M.encryptionKey,n).then(function(n){n=new Uint8Array(n);$c(M.id,r,n,{result:function(r){var n;try{n=JSON.stringify(r);u.result(Wa(n,Ma));}catch(B){u.error(new S(g.ENCRYPT_ERROR,null,B));}},error:function(r){r instanceof F||(r=new S(g.ENCRYPT_ERROR,null,r));u.error(r);}});},function(r){u.error(new S(g.ENCRYPT_ERROR));});},this);},decrypt:function(n,u){var M;M=this;r(u,function(){var r,I;if(!this.encryptionKey)throw new S(g.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==n.length)return n;try{I=Ya(n,Ma);r=JSON.parse(I);}catch(w){if(w instanceof SyntaxError)throw new S(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,w);throw new S(g.DECRYPT_ERROR,null,w);}ad(r,bd.V1,{result:function(r){try{if(r.keyId!=M.id)throw new S(g.ENVELOPE_KEY_ID_MISMATCH);Ka.decrypt({name:sb.name,iv:r.iv},M.encryptionKey,r.ciphertext).then(function(g){g=new Uint8Array(g);u.result(g);},function(){u.error(new S(g.DECRYPT_ERROR));});}catch(x){x instanceof F?u.error(x):u.error(new S(g.DECRYPT_ERROR,null,x));}},error:function(r){r instanceof ia&&(r=new S(g.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,r));r instanceof F||(r=new S(g.DECRYPT_ERROR,null,r));u.error(r);}});},this);},wrap:function(n,u){r(u,function(){if(!this.wrapKey)throw new S(g.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ka.wrapKey("raw",n.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(g){u.result(g);},function(r){u.error(new S(g.WRAP_ERROR));});},this);},unwrap:function(n,u,F,L){function I(n){r(L,function(){switch(n.type){case"secret":Yb(n,L);break;case"public":Nb(n,L);break;case"private":Zb(n,L);break;default:throw new S(g.UNSUPPORTED_KEY,"type: "+n.type);}});}r(L,function(){if(!this.wrapKey)throw new S(g.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ka.unwrapKey("raw",n,this.wrapKey,this.wrapKey.algorithm,u,!1,F).then(function(g){I(g);},function(r){L.error(new S(g.UNWRAP_ERROR));});},this);},sign:function(n,u){var F;F=this;r(u,function(){if(!this.hmacKey)throw new S(g.SIGN_NOT_SUPPORTED,"no HMAC key.");Ka.sign(tb,this.hmacKey,n).then(function(g){r(u,function(){var r;r=new Uint8Array(g);cd(r,{result:function(g){u.result(g.bytes);},error:u.error});},F);},function(){u.error(new S(g.HMAC_ERROR));});},this);},verify:function(n,u,F){var L;L=this;r(F,function(){if(!this.hmacKey)throw new S(g.VERIFY_NOT_SUPPORTED,"no HMAC key.");dd(u,ed.V1,{result:function(I){r(F,function(){Ka.verify(tb,this.hmacKey,I.signature,n).then(function(g){F.result(g);},function(r){F.error(new S(g.HMAC_ERROR));});},L);},error:F.error});},this);}});}());lb=zc.extend({init:function Xa(r,n,u,I,w){if(u||I||w)Xa.base.call(this,r,u+"_"+n.sequenceNumber,I,w,null);else{if(!n.isDecrypted())throw new Qb(g.MASTERTOKEN_UNTRUSTED,n);Xa.base.call(this,r,n.identity+"_"+n.sequenceNumber,n.encryptionKey,n.hmacKey,null);}}});Me=ac.extend({encrypt:function(g,r){r.result(g);},decrypt:function(g,r){r.result(g);},wrap:function(g,r){r.error(new ea("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(g,r,n,u){u.error(new ea("Unwrap is unsupported by the MSL token crypto context."));},sign:function(g,r){r.result(new Uint8Array(0));},verify:function(g,r,n){n.result(!1);}});Ra={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Ra);(function(){Pb=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(g){return this===g?!0:g instanceof Pb?this.scheme==g.scheme:!1;},toJSON:function(){var g;g={};g.scheme=this.scheme;g.authdata=this.getAuthData();return g;}});Kd=function(r,n){var u,L,I;u=n.scheme;L=n.authdata;if(!u||!L)throw new ia(g.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(n));if(!Ra[u])throw new xb(g.UNIDENTIFIED_ENTITYAUTH_SCHEME,u);I=r.getEntityAuthenticationFactory(u);if(!I)throw new xb(g.ENTITYAUTH_FACTORY_NOT_FOUND,u);return I.createData(r,L);};}());Ac=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createData:function(g,r){},getCryptoContext:function(g,r){}});(function(){pb=Pb.extend({init:function Ja(g){Ja.base.call(this,Ra.MGK);Object.defineProperties(this,{identity:{value:g,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function La(g){return this===g?!0:g instanceof pb?La.base.call(this,this,g)&&this.identity==g.identity:!1;}});Ld=function(r){var n;n=r.identity;if(!n)throw new ia(g.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(r));return new pb(n);};}());Ne=Ac.extend({init:function Ja(g){Ja.base.call(this,Ra.MGK);Object.defineProperties(this,{localIdentity:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,r){return Ld(r);},getCryptoContext:function(r,n){if(!(n instanceof pb))throw new ea("Incorrect authentication data type "+JSON.stringify(n)+".");if(n.identity!=this.localIdentity)throw new xb(g.ENTITY_NOT_FOUND,"mgk "+n.identity).setEntity(n);return new bc();}});(function(){ub=Pb.extend({init:function La(g){La.base.call(this,Ra.PSK);Object.defineProperties(this,{identity:{value:g,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function L(g){return this===g?!0:g instanceof ub?L.base.call(this,this,g)&&this.identity==g.identity:!1;}});Md=function(r){var n;n=r.identity;if(!n)throw new ia(g.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(r));return new ub(n);};}());Nd=Ac.extend({init:function La(g){La.base.call(this,Ra.PSK);Object.defineProperties(this,{localIdentity:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,r){return Md(r);},getCryptoContext:function(r,n){if(!(n instanceof ub))throw new ea("Incorrect authentication data type "+JSON.stringify(n)+".");if(n.getIdentity()!=this.localIdentity)throw new xb(g.ENTITY_NOT_FOUND,"psk "+n.identity).setEntity(n);return new bc();}});(function(){Bc=Pb.extend({init:function L(g,r){L.base.call(this,Ra.RSA);Object.defineProperties(this,{identity:{value:g,writable:!1,configurable:!1},publicKeyId:{value:r,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;g.pubkeyid=this.publicKeyId;return g;},equals:function I(g){return this===g?!0:g instanceof Bc?I.base.call(this,this,g)&&this.identity==g.identity&&this.publicKeyId==g.publicKeyId:!1;}});Od=function(r){var n,x;n=r.identity;x=r.pubkeyid;if(!n||"string"!==typeof n||!x||"string"!==typeof x)throw new ia(g.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(r));return new Bc(n,x);};}());Oe=Ac.extend({init:function L(g){L.base.call(this,Ra.RSA);Object.defineProperties(this,{store:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,r){return Od(r);},getCryptoContext:function(r,n){var w,x,B;if(!(n instanceof Bc))throw new ea("Incorrect authentication data type "+n+".");w=n.identity;x=n.publicKeyId;B=this.store.getPublicKey(x);if(!B)throw new xb(g.RSA_PUBLICKEY_NOT_FOUND,x).setEntity(n);return new xc(r,w,null,B,yc.SIGN_VERIFY);}});(function(){fc=Pb.extend({init:function I(g){I.base.call(this,Ra.NONE);Object.defineProperties(this,{identity:{value:g,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function w(g){return this===g?!0:g instanceof fc?w.base.call(this,this,g)&&this.identity==g.identity:!1;}});Pd=function(r){var n;n=r.identity;if(!n)throw new ia(g.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(r));return new fc(n);};}());Le=Ac.extend({init:function I(){I.base.call(this,Ra.NONE);},createData:function(g,r){return Pd(r);},getCryptoContext:function(g,r){if(!(r instanceof fc))throw new ea("Incorrect authentication data type "+JSON.stringify(r)+".");return new bc();}});Pe=ma.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(g,r){if(!(r instanceof wc))throw new ea("Incorrect key data type "+r+".");this.rsaKeys[g]=r;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(g){delete this.rsaKeys[g];},getPublicKey:function(g){return this.rsaKeys[g];}});fd=ma.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(g,r,n){}});Cc=ma.Class.create({abort:function(){},close:function(g,r){},write:function(g,r,n,B,J){},flush:function(g,r){}});Qe=ma.Class.create({init:function(g){Object.defineProperties(this,{_data:{value:g,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Za("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(g,r,n){u(n,function(){var r;if(this._closed)throw new Za("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==g&&(g=this._data.length-this._currentPosition);r=this._data.subarray(this._currentPosition,this._currentPosition+g);this._currentPosition+=r.length;return r;},this);}});Re=ma.Class.create({init:function(){var g;g={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},abort:function(){},close:function(g,r){this._closed=!0;r.result(!0);},write:function(g,r,n,B,J){u(J,function(){var v;if(this._closed)throw new Za("Stream is already closed.");if(0>r)throw new RangeError("Offset cannot be negative.");if(0>n)throw new RangeError("Length cannot be negative.");if(r+n>g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");v=g.subarray(r,n);this._buffered.push(v);return v.length;},this);},flush:function(g,r){var n,w;for(;0<this._buffered.length;){n=this._buffered.shift();if(this._result){w=new Uint8Array(this._result.length+n.length);w.set(this._result);w.set(n,this._result.length);this._result=w;}else this._result=new Uint8Array(n);}r.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Se=ma.Class.create({getResponse:function(g,r,n){}});(function(){var g,r;g=Cc.extend({init:function(g,r){var n;n={_httpLocation:{value:g,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:r,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Re(),writable:!1,enumerable:!1,configurable:!1},_response:{value:ja,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:ja,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new gc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,n);},setTimeout:function(g){this._timeout=g;},getResponse:function(g,r){var n;n=this;this._responseQueue.poll(g,{result:function(g){u(r,function(){g&&this._responseQueue.add(g);return g;},n);},timeout:function(){u(r,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();r.timeout();},n);},error:function(g){u(r,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw g;},n);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(g,r){var n;n=this;u(r,function(){var g;if(this._response)return!0;g=this._buffer.toByteArray();0<g.length&&(this._abortToken=this._httpLocation.getResponse({body:g},this._timeout,{result:function(g){n._response={response:g};n._responseQueue.add(n._response);},timeout:function(){n._response={isTimeout:!0};n._responseQueue.add(n._response);},error:function(g){n._response={isError:!0,error:g};n._responseQueue.add(n._response);}}));return!0;},this);},write:function(g,r,n,v,D){u(D,function(){if(this._response)throw new Za("HttpOutputStream already closed.");this._buffer.write(g,r,n,v,D);},this);},flush:function(g,r){u(r,function(){if(this._response)return!0;this._buffer.flush(g,r);},this);}});r=fd.extend({init:function(g){Object.defineProperties(this,{_out:{value:g,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:ja,writable:!0,enumerable:!1,configurable:!1},_exception:{value:ja,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:ja,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(g,r,n){var D;function v(v){u(n,function(){if(!v)return new Uint8Array(0);this._out.getResponse(r,{result:function(v){u(n,function(){var w;if(v.isTimeout)this._timedout=!0,n.timeout();else{if(v.isError)throw this._exception=v.error||new Za("Unknown HTTP exception."),this._exception;if(!v.response)throw this._exception=new Za("Missing HTTP response."),this._exception;v.response.json!==ja&&(this._json=v.response.json,this.getJSON=function(){return D._json;});w=v.response.content||Oc("string"===typeof v.response.body?v.response.body:JSON.stringify(this._json));this._buffer=new Qe(w);this._buffer.read(g,r,n);}},D);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});},D);}D=this;u(n,function(){if(this._exception)throw this._exception;if(this._timedout)n.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(g,r,n):this._out.close(r,{result:function(g){v(g);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});}},D);}});zd=ma.Class.create({init:function(g,r){Object.defineProperties(this,{_httpLocation:{value:g,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:r,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(g){this._timeout=g;},openConnection:function(){var n;n=new g(this._httpLocation,this._timeout);return{input:new r(n),output:n};}});}());(function(){var g,r;g=Cc.extend({init:function(){var g;g={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},setTimeout:function(){},getResponse:function(g,r){r.result({success:!1,content:null,errorHttpCode:ja,errorSubCode:ja});},abort:function(){},close:function(g,r){r.result(!0);},write:function(g,r,n,v,D){var w,x;try{if(0>r)throw new RangeError("Offset cannot be negative.");if(0>n)throw new RangeError("Length cannot be negative.");if(r+n>g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=g.subarray(r,n);x=new Uint8Array(this._buffer.length+w.length);x.set(this._buffer);x.set(w,this._buffer.length);this._buffer=x;D.result(w.length);}catch(Ca){D.error(Ca);}},flush:function(g,r){r.result(!0);},request:function(){return this._buffer;}});r=fd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(g,r,n){n.result(new Uint8Array(16));}});Ad=ma.Class.create({init:function(){var n;n={output:{value:new g(),writable:!1,enumerable:!1,configurable:!1},input:{value:new r(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,n);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Nc(this.output.request());}});}());Qd=function(g,r,n){function w(g){var r,n;g=new Te(Ya(g,"utf-8"));r=[];for(n=g.nextValue();n!==ja;)r.push(n),n=g.nextValue();return r;}(function(g,r,D){g.read(-1,r,{result:function(g){g&&g.length?D(null,g):D(null,null);},timeout:function(){n.timeout();},error:function(g){D(g,null);}});}(g,r,function(r,v){r?n.error(r):v?g.getJSON!==ja&&"function"===typeof g.getJSON?n.result(g.getJSON()):n.result(w(v)):n.result(null);}));};ob={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(ob);(function(){hc=ma.Class.create({init:function(g){Object.defineProperties(this,{keyExchangeScheme:{value:g,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var g;g={};g.scheme=this.keyExchangeScheme;g.keydata=this.getKeydata();return g;},equals:function(g){return this===g?!0:g instanceof hc?this.keyExchangeScheme==g.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Rd=function(n,w,x){r(x,function(){var r,u,v;r=w.scheme;u=w.keydata;if(!r||!u||"object"!==typeof u)throw new ia(g.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(w));if(!ob[r])throw new Ua(g.UNIDENTIFIED_KEYX_SCHEME,r);v=n.getKeyExchangeFactory(r);if(!v)throw new Ua(g.KEYX_FACTORY_NOT_FOUND,r);v.createRequestData(n,u,x);});};}());(function(){ic=ma.Class.create({init:function(g,r){Object.defineProperties(this,{masterToken:{value:g,writable:!1,configurable:!1},keyExchangeScheme:{value:r,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var g;g={};g.mastertoken=this.masterToken;g.scheme=this.keyExchangeScheme;g.keydata=this.getKeydata();return g;},equals:function(g){return this===g?!0:g instanceof ic?this.masterToken.equals(g.masterToken)&&this.keyExchangeScheme==g.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});Sd=function(n,w,x){r(x,function(){var u,J,v;u=w.mastertoken;J=w.scheme;v=w.keydata;if(!J||!u||"object"!==typeof u||!v||"object"!==typeof v)throw new ia(g.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(w));if(!ob[J])throw new Ua(g.UNIDENTIFIED_KEYX_SCHEME,J);Sb(n,u,{result:function(D){r(x,function(){var r;r=n.getKeyExchangeFactory(J);if(!r)throw new Ua(g.KEYX_FACTORY_NOT_FOUND,J);return r.createResponseData(n,D,v);});},error:function(g){x.error(g);}});});};}());(function(){var n;n=ma.Class.create({init:function(g,r){Object.defineProperties(this,{keyResponseData:{value:g,writable:!1,configurable:!1},cryptoContext:{value:r,writable:!1,configurable:!1}});}});qb=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createRequestData:function(g,r,n){},createResponseData:function(g,r,n){},generateResponse:function(g,r,n,u){},getCryptoContext:function(g,r,n,u,v){},generateSessionKeys:function(n,x){r(x,function(){var r,w;r=new Uint8Array(16);w=new Uint8Array(32);n.getRandom().nextBytes(r);n.getRandom().nextBytes(w);zb(r,sb,Hb,{result:function(r){zb(w,tb,Rb,{result:function(g){x.result({encryptionKey:r,hmacKey:g});},error:function(r){x.error(new S(g.SESSION_KEY_CREATION_FAILURE,null,r));}});},error:function(r){x.error(new S(g.SESSION_KEY_CREATION_FAILURE,null,r));}});});},importSessionKeys:function(g,r,n){zb(g,sb,Hb,{result:function(g){zb(r,tb,Rb,{result:function(r){n.result({encryptionKey:g,hmacKey:r});},error:function(g){n.error(g);}});},error:function(g){n.error(g);}});}});qb.KeyExchangeData=n;}());(function(){var w,x,u;function n(n,v,D,x,u){r(u,function(){var Y,J;switch(v){case w.PSK:Y=new ub(x),J=n.getEntityAuthenticationFactory(Ra.PSK);if(!J)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,v);Y=J.getCryptoContext(n,Y);return new Bb(n,Cb.A128KW,vb,ja);case w.MGK:Y=new pb(x);J=n.getEntityAuthenticationFactory(Ra.MGK);if(!J)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,v);Y=J.getCryptoContext(n,Y);return new Bb(n,Cb.A128KW,vb,ja);case w.WRAP:Y=n.getMslCryptoContext();Y.unwrap(D,yb,Ib,{result:function(g){r(u,function(){return new Bb(n,Cb.A128KW,vb,g);});},error:u.error});break;default:throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,v);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};x=gd=hc.extend({init:function v(g,r){v.base.call(this,ob.JWE_LADDER);switch(g){case w.WRAP:if(!r)throw new ea("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:r=null;}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},wrapdata:{value:r,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.mechanism=this.mechanism;this.wrapdata&&(g.wrapdata=pa(this.wrapdata));return g;},equals:function D(g){return g===this?!0:g instanceof gd?D.base.call(this,g)&&this.mechanism==g.mechanism&&ab(this.wrapdata,g.wrapdata):!1;},uniqueKey:function Ba(){var g;g=Ba.base.call(this)+":"+this.mechanism;this.wrapdata&&(g+=":"+hb(this.wrapdata));return g;}});u=Ud=ic.extend({init:function Y(g,r,n,w,z){Y.base.call(this,g,ob.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:r,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:z,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.wrapkey=pa(this.wrapKey);g.wrapdata=pa(this.wrapdata);g.encryptionkey=pa(this.encryptionKey);g.hmackey=pa(this.hmacKey);return g;},equals:function Ca(g){return this===g?!0:g instanceof Ud?Ca.base.call(this,g)&&ab(this.wrapKey,g.wrapKey)&&ab(this.wrapdata,g.wrapdata)&&ab(this.encryptionKey,g.encryptionKey)&&ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function xa(){return xa.base.call(this)+":"+hb(this.wrapKey)+":"+hb(this.wrapdata)+":"+hb(this.encryptionKey)+":"+hb(this.hmacKey);}});Td=qb.extend({init:function Z(g){Z.base.call(this,ob.JWE_LADDER);Object.defineProperties(this,{repository:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(n,u,z){r(z,function(){var r,n,z;r=u.mechanism;n=u.wrapdata;if(!r||r==w.WRAP&&(!n||"string"!==typeof n))throw new ia(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(u));if(!w[r])throw new Ua(g.UNIDENTIFIED_KEYX_MECHANISM,r);switch(r){case w.WRAP:try{z=va(n);}catch(ca){throw new Ua(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+u.toString());}if(null==z||0==z.length)throw new Ua(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+u.toString());break;default:z=null;}return new x(r,z);});},createResponseData:function(r,n,w){var z,x,Z,B,qa,I,F;r=w.wrapkey;z=w.wrapdata;x=w.encryptionkey;Z=w.hmackey;if(!(r&&"string"===typeof r&&z&&"string"===typeof z&&x&&"string"===typeof x&&Z)||"string"!==typeof Z)throw new ia(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{B=va(r);qa=va(z);}catch(ha){throw new S(g.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),ha);}try{I=va(x);}catch(ha){throw new S(g.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),ha);}try{F=va(Z);}catch(ha){throw new S(g.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),ha);}return new u(n,B,qa,I,F);},generateResponse:function(w,B,z,V){var Qa,ra;function Z(g,n,z){Qa.generateSessionKeys(w,{result:function(w){r(V,function(){qa(g,n,z,w.encryptionKey,w.hmacKey);},Qa);},error:function(g){r(V,function(){g instanceof F&&g.setEntity(ra);throw g;});}});}function qa(g,z,x,u,Z){r(V,function(){n(w,B.mechanism,B.wrapdata,g,{result:function(g){g.wrap(z,{result:function(d){I(z,x,u,Z,d);},error:function(d){r(V,function(){d instanceof F&&d.setEntity(ra);throw d;});}});},error:function(g){r(V,function(){g instanceof F&&g.setEntity(ra);throw g;});}});},Qa);}function I(g,n,z,x,u){r(V,function(){var ha;ha=new Bb(w,Cb.A128KW,vb,g);ha.wrap(z,{result:function(d){ha.wrap(x,{result:function(b){ta(n,u,z,d,x,b);},error:function(b){r(V,function(){b instanceof F&&b.setEntity(ra);throw b;});}});},error:function(d){r(V,function(){d instanceof F&&d.setEntity(ra);throw d;});}});},Qa);}function ta(g,n,x,Z,B,qa){r(V,function(){var d;d=w.getTokenFactory();ra?d.renewMasterToken(w,ra,x,B,{result:function(b){r(V,function(){var a,c;a=new lb(w,b);c=new u(b,n,g,Z,qa);return new qb.KeyExchangeData(c,a,V);},Qa);},error:function(b){r(V,function(){b instanceof F&&b.setEntity(ra);throw b;});}}):d.createMasterToken(w,z,x,B,{result:function(b){r(V,function(){var a,c;a=new lb(w,b);c=new u(b,n,g,Z,qa);return new qb.KeyExchangeData(c,a,V);},Qa);},error:V.error});},Qa);}Qa=this;r(V,function(){var n,u;if(!(B instanceof x))throw new ea("Key request data "+JSON.stringify(B)+" was not created by this factory.");n=z;if(z instanceof kb){if(!z.isVerified())throw new Qb(g.MASTERTOKEN_UNTRUSTED,z);ra=z;n=z.identity;}u=new Uint8Array(16);w.getRandom().nextBytes(u);zb(u,yb,Ib,{result:function(g){r(V,function(){w.getMslCryptoContext().wrap(g,{result:function(r){Z(n,g,r);},error:function(g){r(V,function(){g instanceof F&&g.setEntity(ra);throw g;},Qa);}});},Qa);},error:function(n){r(V,function(){throw new S(g.WRAP_KEY_CREATION_FAILURE,null,n).setEntity(ra);},Qa);}});},Qa);},getCryptoContext:function(n,B,z,V,za){var qa;function Z(g,w,z,x,u){r(za,function(){var ha;ha=new Bb(n,Cb.A128KW,vb,u);ha.unwrap(w.encryptionKey,sb,Hb,{result:function(u){ha.unwrap(w.hmacKey,tb,Rb,{result:function(g){r(za,function(){this.repository.addCryptoContext(w.wrapdata,ha);this.repository.removeCryptoContext(z);return new lb(n,w.masterToken,x,u,g);},qa);},error:function(n){r(za,function(){n instanceof F&&n.setEntity(g);throw n;});}});},error:function(n){r(za,function(){n instanceof F&&n.setEntity(g);throw n;});}});},qa);}qa=this;r(za,function(){var V,da;if(!(B instanceof x))throw new ea("Key request data "+JSON.stringify(B)+" was not created by this factory.");if(!(z instanceof u))throw new ea("Key response data "+JSON.stringify(z)+" was not created by this factory.");V=B.mechanism;da=B.wrapdata;n.getEntityAuthenticationData(null,{result:function(x){r(za,function(){var u,B,qa;u=x.getIdentity();switch(V){case w.PSK:B=new ub(u);qa=n.getEntityAuthenticationFactory(Ra.PSK);if(!qa)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,V).setEntity(x);B=qa.getCryptoContext(n,B);B=new Bb(n,Cb.A128KW,vb,ja);break;case w.MGK:B=new pb(u);qa=n.getEntityAuthenticationFactory(Ra.MGK);if(!qa)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,V).setEntity(x);B=qa.getCryptoContext(n,B);B=new Bb(n,Cb.A128KW,vb,B.wrapKey);break;case w.WRAP:B=this.repository.getCryptoContext(da);if(!B)throw new Ua(g.KEYX_WRAPPING_KEY_MISSING,pa(da)).setEntity(x);break;default:throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,V).setEntity(x);}B.unwrap(z.wrapKey,yb,Ib,{result:function(g){Z(x,z,da,u,g);},error:function(g){r(za,function(){g instanceof F&&g.setEntity(x);throw g;});}});},qa);},error:za.error});},qa);}});}());(function(){var w,x,u,J;function n(n,D,x,u,B){r(B,function(){var v,Y;switch(D){case w.PSK:v=new ub(u),Y=n.getEntityAuthenticationFactory(Ra.PSK);if(!Y)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,D);v=Y.getCryptoContext(n,v);return new J(ja);case w.MGK:v=new pb(u);Y=n.getEntityAuthenticationFactory(Ra.MGK);if(!Y)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,D);v=Y.getCryptoContext(n,v);return new J(ja);case w.WRAP:v=n.getMslCryptoContext();v.unwrap(x,yb,Ib,{result:function(g){r(B,function(){return new J(g);});},error:B.error});break;default:throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,D);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};x=Dc=hc.extend({init:function D(g,r){D.base.call(this,ob.JWK_LADDER);switch(g){case w.WRAP:if(!r)throw new ea("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:r=null;}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},wrapdata:{value:r,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.mechanism=this.mechanism;this.wrapdata&&(g.wrapdata=pa(this.wrapdata));return g;},equals:function Ba(g){return g===this?!0:g instanceof Dc?Ba.base.call(this,g)&&this.mechanism==g.mechanism&&ab(this.wrapdata,g.wrapdata):!1;},uniqueKey:function Y(){var g;g=Y.base.call(this)+":"+this.mechanism;this.wrapdata&&(g+=":"+hb(this.wrapdata));return g;}});u=Vd=ic.extend({init:function Ca(g,r,n,w,x){Ca.base.call(this,g,ob.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:r,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:x,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.wrapkey=pa(this.wrapKey);g.wrapdata=pa(this.wrapdata);g.encryptionkey=pa(this.encryptionKey);g.hmackey=pa(this.hmacKey);return g;},equals:function xa(g){return this===g?!0:g instanceof Vd?xa.base.call(this,g)&&ab(this.wrapKey,g.wrapKey)&&ab(this.wrapdata,g.wrapdata)&&ab(this.encryptionKey,g.encryptionKey)&&ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function Z(){return Z.base.call(this)+":"+hb(this.wrapKey)+":"+hb(this.wrapdata)+":"+hb(this.encryptionKey)+":"+hb(this.hmacKey);}});J=ac.extend({init:function(g){g&&g.rawKey&&(g=g.rawKey);Object.defineProperties(this,{_wrapKey:{value:g,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(r,n){n.error(new S(g.ENCRYPT_NOT_SUPPORTED));},decrypt:function(r,n){n.error(new S(g.DECRYPT_NOT_SUPPORTED));},wrap:function(n,w){r(w,function(){Ka.wrapKey("jwk",n.rawKey,this._wrapKey,yb).then(function(g){w.result(g);},function(r){w.error(new S(g.WRAP_ERROR));});},this);},unwrap:function(n,w,x,u){function z(n){r(u,function(){switch(n.type){case"secret":Yb(n,u);break;case"public":Nb(n,u);break;case"private":Zb(n,u);break;default:throw new S(g.UNSUPPORTED_KEY,"type: "+n.type);}});}r(u,function(){Ka.unwrapKey("jwk",n,this._wrapKey,yb,w,!1,x).then(function(g){z(g);},function(r){u.error(new S(g.UNWRAP_ERROR));});},this);},sign:function(r,n){n.error(new S(g.SIGN_NOT_SUPPORTED));},verify:function(r,n,w){w.error(new S(g.VERIFY_NOT_SUPPORTED));}});id=qb.extend({init:function qa(g){qa.base.call(this,ob.JWK_LADDER);Object.defineProperties(this,{repository:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(n,u,J){r(J,function(){var r,n,z;r=u.mechanism;n=u.wrapdata;if(!r||r==w.WRAP&&(!n||"string"!==typeof n))throw new ia(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(u));if(!w[r])throw new Ua(g.UNIDENTIFIED_KEYX_MECHANISM,r);switch(r){case w.WRAP:try{z=va(n);}catch(ta){throw new Ua(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+u.toString());}if(null==z||0==z.length)throw new Ua(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+u.toString());break;default:z=null;}return new x(r,z);});},createResponseData:function(r,n,w){var x,z,J,B,V,qa,ha;r=w.wrapkey;x=w.wrapdata;z=w.encryptionkey;J=w.hmackey;if(!(r&&"string"===typeof r&&x&&"string"===typeof x&&z&&"string"===typeof z&&J)||"string"!==typeof J)throw new ia(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{B=va(r);V=va(x);}catch(wb){throw new S(g.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),wb);}try{qa=va(z);}catch(wb){throw new S(g.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),wb);}try{ha=va(J);}catch(wb){throw new S(g.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),wb);}return new u(n,B,V,qa,ha);},generateResponse:function(w,z,B,I){var ra,ha;function V(g,n,x){ra.generateSessionKeys(w,{result:function(w){r(I,function(){qa(g,n,x,w.encryptionKey,w.hmacKey);},ra);},error:function(g){r(I,function(){g instanceof F&&g.setEntity(ha);throw g;});}});}function qa(g,x,u,B,J){r(I,function(){n(w,z.mechanism,z.wrapdata,g,{result:function(d){d.wrap(x,{result:function(b){za(x,u,B,J,b);},error:function(b){r(I,function(){b instanceof F&&b.setEntity(ha);throw b;});}});},error:function(d){r(I,function(){d instanceof F&&d.setEntity(ha);throw d;});}});},ra);}function za(g,n,w,x,u){r(I,function(){var d;d=new J(g);d.wrap(w,{result:function(b){d.wrap(x,{result:function(a){Qa(n,u,w,b,x,a);},error:function(a){r(I,function(){a instanceof F&&a.setEntity(ha);throw a;});}});},error:function(b){r(I,function(){b instanceof F&&b.setEntity(ha);throw b;});}});},ra);}function Qa(g,n,x,z,J,d){r(I,function(){var b;b=w.getTokenFactory();ha?b.renewMasterToken(w,ha,x,J,{result:function(a){r(I,function(){var b,k;b=new lb(w,a);k=new u(a,n,g,z,d);return new qb.KeyExchangeData(k,b,I);},ra);},error:function(a){r(I,function(){a instanceof F&&a.setEntity(ha);throw a;});}}):b.createMasterToken(w,B,x,J,{result:function(a){r(I,function(){var b,k;b=new lb(w,a);k=new u(a,n,g,z,d);return new qb.KeyExchangeData(k,b,I);},ra);},error:I.error});},ra);}ra=this;r(I,function(){var n,u;if(!(z instanceof x))throw new ea("Key request data "+JSON.stringify(z)+" was not created by this factory.");n=B;if(B instanceof kb){if(!B.isVerified())throw new Qb(g.MASTERTOKEN_UNTRUSTED,B);ha=B;n=B.identity;}u=new Uint8Array(16);w.getRandom().nextBytes(u);zb(u,yb,Ib,{result:function(g){r(I,function(){w.getMslCryptoContext().wrap(g,{result:function(r){V(n,g,r);},error:function(g){r(I,function(){g instanceof F&&g.setEntity(ha);throw g;},ra);}});},ra);},error:function(n){r(I,function(){throw new S(g.WRAP_KEY_CREATION_FAILURE,null,n).setEntity(ha);},ra);}});},ra);},getCryptoContext:function(n,z,B,I,da){var qa;function V(g,w,x,u,z){r(da,function(){var ha;ha=new J(z);ha.unwrap(w.encryptionKey,sb,Hb,{result:function(z){ha.unwrap(w.hmacKey,tb,Rb,{result:function(g){r(da,function(){this.repository.addCryptoContext(w.wrapdata,ha);this.repository.removeCryptoContext(x);return new lb(n,w.masterToken,u,z,g);},qa);},error:function(n){r(da,function(){n instanceof F&&n.setEntity(g);throw n;});}});},error:function(n){r(da,function(){n instanceof F&&n.setEntity(g);throw n;});}});},qa);}qa=this;r(da,function(){var I,za;if(!(z instanceof x))throw new ea("Key request data "+JSON.stringify(z)+" was not created by this factory.");if(!(B instanceof u))throw new ea("Key response data "+JSON.stringify(B)+" was not created by this factory.");I=z.mechanism;za=z.wrapdata;n.getEntityAuthenticationData(null,{result:function(x){r(da,function(){var u,z,ha;u=x.getIdentity();switch(I){case w.PSK:z=new ub(u);ha=n.getEntityAuthenticationFactory(Ra.PSK);if(!ha)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,I).setEntity(x);z=ha.getCryptoContext(n,z);z=new J(z.wrapKey);break;case w.MGK:z=new pb(u);ha=n.getEntityAuthenticationFactory(Ra.MGK);if(!ha)throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,I).setEntity(x);z=ha.getCryptoContext(n,z);z=new J(z.wrapKey);break;case w.WRAP:z=this.repository.getCryptoContext(za);if(!z)throw new Ua(g.KEYX_WRAPPING_KEY_MISSING,pa(za)).setEntity(x);break;default:throw new Ua(g.UNSUPPORTED_KEYX_MECHANISM,I).setEntity(x);}z.unwrap(B.wrapKey,yb,Ib,{result:function(g){V(x,B,za,u,g);},error:function(g){r(da,function(){g instanceof F&&g.setEntity(x);throw g;});}});},qa);},error:da.error});},qa);}});}());Ue=ma.Class.create({addCryptoContext:function(g,n){},getCryptoContext:function(g){},removeCryptoContext:function(g){}});(function(){var w,x,u,J;function n(n,r,x,u,B){switch(x){case w.JWE_RSA:case w.JWEJS_RSA:return new Bb(n,Cb.RSA_OAEP,vb,u,B);case w.JWK_RSA:return new xc(n,r,u,B,yc.WRAP_UNWRAP_OAEP);case w.JWK_RSAES:return new xc(n,r,u,B,yc.WRAP_UNWRAP_PKCS1);default:throw new S(g.UNSUPPORTED_KEYX_MECHANISM,x);}}w=Ec={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};x=Tc=hc.extend({init:function D(g,n,r,w){D.base.call(this,ob.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:g,writable:!1,configurable:!1},mechanism:{value:n,writable:!1,configurable:!1},publicKey:{value:r,writable:!1,configurable:!1},privateKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.keypairid=this.keyPairId;g.mechanism=this.mechanism;g.publickey=pa(this.publicKey.getEncoded());return g;},equals:function Ba(g){var n;if(g===this)return!0;if(!(g instanceof Tc))return!1;n=this.privateKey===g.privateKey||this.privateKey&&g.privateKey&&ab(this.privateKey.getEncoded(),g.privateKey.getEncoded());return Ba.base.call(this,g)&&this.keyPairId==g.keyPairId&&this.mechanism==g.mechanism&&ab(this.publicKey.getEncoded(),g.publicKey.getEncoded())&&n;},uniqueKey:function Y(){var g,n;g=this.publicKey.getEncoded();n=this.privateKey&&this.privateKey.getEncoded();g=Y.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+hb(g);n&&(g+=":"+hb(n));return g;}});u=function(n,u){r(u,function(){var r,B,J,z;r=n.keypairid;B=n.mechanism;J=n.publickey;if(!r||"string"!==typeof r||!B||!J||"string"!==typeof J)throw new ia(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(n));if(!w[B])throw new Ua(g.UNIDENTIFIED_KEYX_MECHANISM,B);try{z=va(J);switch(B){case w.JWE_RSA:case w.JWEJS_RSA:case w.JWK_RSA:Yc(z,vc,Ib,{result:function(g){u.result(new x(r,B,g,null));},error:function(g){u.error(g);}});break;case w.JWK_RSAES:Yc(z,Wc,Ib,{result:function(g){u.result(new x(r,B,g,null));},error:function(g){u.error(g);}});break;default:throw new S(g.UNSUPPORTED_KEYX_MECHANISM,B);}}catch(V){if(!(V instanceof F))throw new S(g.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(n),V);throw V;}});};J=Wd=ic.extend({init:function Ca(g,n,r,w){Ca.base.call(this,g,ob.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:n,writable:!1,configurable:!1},encryptionKey:{value:r,writable:!1,configurable:!1},hmacKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.keypairid=this.keyPairId;g.encryptionkey=pa(this.encryptionKey);g.hmackey=pa(this.hmacKey);return g;},equals:function xa(g){return this===g?!0:g instanceof Wd?xa.base.call(this,g)&&this.keyPairId==g.keyPairId&&ab(this.encryptionKey,g.encryptionKey)&&ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function Z(){return Z.base.call(this)+":"+this.keyPairId+":"+hb(this.encryptionKey)+":"+hb(this.hmacKey);}});Bd=qb.extend({init:function qa(){qa.base.call(this,ob.ASYMMETRIC_WRAPPED);},createRequestData:function(g,n,r){u(n,r);},createResponseData:function(n,r,w){var x,u,z,B;n=w.keypairid;x=w.encryptionkey;u=w.hmackey;if(!n||"string"!==typeof n||!x||"string"!==typeof x||!u||"string"!==typeof u)throw new ia(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{z=va(x);}catch(Qa){throw new S(g.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),Qa);}try{B=va(u);}catch(Qa){throw new S(g.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),Qa);}return new J(r,n,z,B);},generateResponse:function(g,w,u,B){var V;function z(x,z){r(B,function(){var ha;ha=n(g,w.keyPairId,w.mechanism,null,w.publicKey);ha.wrap(x,{result:function(g){r(B,function(){ha.wrap(z,{result:function(n){I(x,g,z,n);},error:function(g){r(B,function(){g instanceof F&&u instanceof kb&&g.setEntity(u);throw g;},V);}});},V);},error:function(g){r(B,function(){g instanceof F&&u instanceof kb&&g.setEntity(u);throw g;},V);}});},V);}function I(n,x,z,I){r(B,function(){var ha;ha=g.getTokenFactory();u instanceof kb?ha.renewMasterToken(g,u,n,z,{result:function(n){r(B,function(){var r,u;r=new lb(g,n);u=new J(n,w.keyPairId,x,I);return new qb.KeyExchangeData(u,r,B);},V);},error:function(g){r(B,function(){g instanceof F&&g.setEntity(u);throw g;},V);}}):ha.createMasterToken(g,u,n,z,{result:function(n){r(B,function(){var r,u;r=new lb(g,n);u=new J(n,w.keyPairId,x,I);return new qb.KeyExchangeData(u,r,B);},V);},error:B.error});},V);}V=this;r(B,function(){if(!(w instanceof x))throw new ea("Key request data "+JSON.stringify(w)+" was not created by this factory.");this.generateSessionKeys(g,{result:function(g){z(g.encryptionKey,g.hmacKey);},error:function(g){r(B,function(){g instanceof F&&u instanceof kb&&g.setEntity(u);throw g;},V);}});},V);},getCryptoContext:function(w,u,B,I,da){var z;z=this;r(da,function(){var V,qa,ca;if(!(u instanceof x))throw new ea("Key request data "+JSON.stringify(u)+" was not created by this factory.");if(!(B instanceof J))throw new ea("Key response data "+JSON.stringify(B)+" was not created by this factory.");V=u.keyPairId;qa=B.keyPairId;if(V!=qa)throw new Ua(g.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+V+"; response "+qa).setEntity(I);qa=u.privateKey;if(!qa)throw new Ua(g.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(I);ca=n(w,V,u.mechanism,qa,null);ca.unwrap(B.encryptionKey,sb,Hb,{result:function(g){ca.unwrap(B.hmacKey,tb,Rb,{result:function(n){w.getEntityAuthenticationData(null,{result:function(u){r(da,function(){var r;r=u.getIdentity();return new lb(w,B.masterToken,r,g,n);},z);},error:function(g){r(da,function(){g instanceof F&&g.setEntity(I);throw g;},z);}});},error:function(g){r(da,function(){g instanceof F&&g.setEntity(I);throw g;},z);}});},error:function(g){r(da,function(){g instanceof F&&g.setEntity(I);throw g;},z);}});},z);}});}());Te=ma.Class.create({init:function(g){var n,r,u,J,v,D,I,Y;n=bb.parser();r=[];u=[];I=0;Y=!1;n.onerror=function(g){Y||(Y=!0,n.end());};n.onopenobject=function(g){var n;if(J)J[D]={},u.push(J),J=J[D];else if(v){n={};u.push(v);v.push(n);J=n;v=ja;}else J={};D=g;};n.oncloseobject=function(){var g;g=u.pop();g?"object"===typeof g?J=g:(J=ja,v=g):(r.push(J),I=n.index,J=ja);};n.onopenarray=function(){var g;if(J)J[D]=[],u.push(J),v=J[D],J=ja;else if(v){g=[];u.push(v);v.push(g);v=g;}else v=[];};n.onclosearray=function(){var g;g=u.pop();g?"object"===typeof g?(J=g,v=ja):v=g:(r.push(v),I=n.index,v=ja);};n.onkey=function(g){D=g;};n.onvalue=function(g){J?J[D]=g:v?v.push(g):(r.push(g),I=n.index);};n.write(g).close();Object.defineProperties(this,{_values:{value:r,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:I,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?ja:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var n,w,u,B,J;n=jd="entityauthdata";w=Yd="mastertoken";u=Zd="headerdata";B=$d="errordata";J=kd="signature";Xd=function(v,D,x,Y){r(Y,function(){var r,I,Z,qa,z,V;r=D[n];I=D[w];Z=D[J];if(r&&"object"!==typeof r||I&&"object"!==typeof I||"string"!==typeof Z)throw new ia(g.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(D));try{qa=va(Z);}catch(za){throw new Ha(g.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(D),za);}z=null;r&&(z=Kd(v,r));V=D[u];if(V!=ja&&null!=V){if("string"!==typeof V)throw new ia(g.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(D));I?Sb(v,I,{result:function(g){ld(v,V,z,g,qa,x,Y);},error:function(g){Y.error(g);}}):ld(v,V,z,null,qa,x,Y);}else if(r=D[B],r!=ja&&null!=r){if("string"!==typeof r)throw new ia(g.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(D));ae(v,r,z,qa,Y);}else throw new ia(g.JSON_PARSE_ERROR,JSON.stringify(D));});};}());(function(){function u(g,n){this.errordata=g;this.signature=n;}Mb=ma.Class.create({init:function(n,u,B,J,v,D,I,Y,Ca,xa){var w;w=this;r(xa,function(){var x,z;0>D&&(D=-1);if(0>J||J>Na)throw new ea("Message ID "+J+" is out of range.");if(!u)throw new Ha(g.MESSAGE_ENTITY_NOT_FOUND);if(Ca)return Object.defineProperties(this,{entityAuthenticationData:{value:u,writable:!1,configurable:!1},recipient:{value:B,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:D,writable:!1,configurable:!1},errorMessage:{value:I,writable:!1,configurable:!1},userMessage:{value:Y,writable:!1,configurable:!1},errordata:{value:Ca.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ca.signature,writable:!1,enumerable:!1,configurable:!1}}),this;x={};B&&(x.recipient=B);x.messageid=J;x.errorcode=v;0<D&&(x.internalcode=D);I&&(x.errormsg=I);Y&&(x.usermsg=Y);try{z=n.getEntityAuthenticationFactory(u.scheme).getCryptoContext(n,u);}catch(V){throw V instanceof F&&(V.setEntity(u),V.setMessageId(J)),V;}x=Wa(JSON.stringify(x),Ma);z.encrypt(x,{result:function(g){r(xa,function(){z.sign(g,{result:function(n){r(xa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:u,writable:!1,configurable:!1},recipient:{value:B,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:D,writable:!1,configurable:!1},errorMessage:{value:I,writable:!1,configurable:!1},userMessage:{value:Y,writable:!1,configurable:!1},errordata:{value:g,writable:!1,enumerable:!1,configurable:!1},signature:{value:n,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){r(xa,function(){g instanceof F&&(g.setEntity(u),g.setMessageId(J));throw g;},w);}});},w);},error:function(g){r(xa,function(){g instanceof F&&(g.setEntity(u),g.setMessageId(J));throw g;},w);}});},w);},toJSON:function(){var g;g={};g[jd]=this.entityAuthenticationData;g[$d]=pa(this.errordata);g[kd]=pa(this.signature);return g;}});be=function(g,n,r,u,v,D,I,Y,Ca){new Mb(g,n,r,u,v,D,I,Y,null,Ca);};ae=function(w,x,B,J,v){r(v,function(){var D,I,Y;if(!B)throw new Ha(g.MESSAGE_ENTITY_NOT_FOUND);try{I=B.scheme;Y=w.getEntityAuthenticationFactory(I);if(!Y)throw new xb(g.ENTITYAUTH_FACTORY_NOT_FOUND,I);D=Y.getCryptoContext(w,B);}catch(Ca){throw Ca instanceof F&&Ca.setEntity(B),Ca;}try{x=va(x);}catch(Ca){throw new Ha(g.HEADER_DATA_INVALID,x,Ca).setEntity(B);}if(!x||0==x.length)throw new Ha(g.HEADER_DATA_MISSING,x).setEntity(B);D.verify(x,J,{result:function(I){r(v,function(){if(!I)throw new S(g.MESSAGE_VERIFICATION_FAILED).setEntity(B);D.decrypt(x,{result:function(D){r(v,function(){var r,I,z,Y,Ca,da,ca,Ba;r=Ya(D,Ma);try{I=JSON.parse(r);}catch(ra){if(ra instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"errordata "+r,ra).setEntity(B);throw ra;}z=I.recipient!==ja?I.recipient:null;Y=parseInt(I.messageid);Ca=parseInt(I.errorcode);da=parseInt(I.internalcode);ca=I.errormsg;Ba=I.usermsg;if(z&&"string"!==typeof z||!Y||Y!=Y||!Ca||Ca!=Ca||I.internalcode&&da!=da||ca&&"string"!==typeof ca||Ba&&"string"!==typeof Ba)throw new ia(g.JSON_PARSE_ERROR,"errordata "+r).setEntity(B);if(0>Y||Y>Na)throw new Ha(g.MESSAGE_ID_OUT_OF_RANGE,"errordata "+r).setEntity(B);I=!1;for(var F in n)if(n[F]==Ca){I=!0;break;}I||(Ca=n.FAIL);if(da){if(0>da)throw new Ha(g.INTERNAL_CODE_NEGATIVE,"errordata "+r).setEntity(B).setMessageId(Y);}else da=-1;r=new u(x,J);new Mb(w,B,z,Y,Ca,da,ca,Ba,r,v);});},error:function(g){r(v,function(){g instanceof F&&g.setEntity(B);throw g;});}});});},error:function(g){r(v,function(){g instanceof F&&g.setEntity(B);throw g;});}});});};}());Ve=ma.Class.create({getUserMessage:function(g,n){}});(function(){md=function(g,n){var r,w;if(!g||!n)return null;r=g.compressionAlgorithms.filter(function(g){for(var r=0;r<n.compressionAlgorithms.length;++r)if(g==n.compressionAlgorithms[r])return!0;return!1;});w=g.languages.filter(function(g){for(var r=0;r<n.languages.length;++r)if(g==n.languages[r])return!0;return!1;});return new jc(r,w);};jc=ma.Class.create({init:function(g,n){g||(g=[]);n||(n=[]);g.sort();Object.defineProperties(this,{compressionAlgorithms:{value:g,writable:!1,enumerable:!0,configurable:!1},languages:{value:n,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var g;g={};g.compressionalgos=this.compressionAlgorithms;g.languages=this.languages;return g;},equals:function(g){return this===g?!0:g instanceof jc?ud(this.compressionAlgorithms,g.compressionAlgorithms)&&ud(this.languages,g.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});ce=function(n){var r,u,J;r=n.compressionalgos;u=n.languages;if(r&&!(r instanceof Array)||u&&!(u instanceof Array))throw new ia(g.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(n));n=[];for(var B=0;r&&B<r.length;++B){J=r[B];Ob[J]&&n.push(J);}return new jc(n,u);};}());(function(){var xa,Z;function n(g,n,r,v,w){this.customer=g;this.sender=n;this.messageCryptoContext=r;this.headerdata=v;this.signature=w;}function w(g,n,r,v,w,u,D,x,B,ha,J,Y,I,na,Z,d,b,a,c,k){return{cryptoContext:{value:n,writable:!1,configurable:!1},customer:{value:r,writable:!1,configurable:!1},entityAuthenticationData:{value:v,writable:!1,configurable:!1},masterToken:{value:w,writable:!1,configurable:!1},sender:{value:u,writable:!1,configurable:!1},messageId:{value:D,writable:!1,configurable:!1},nonReplayableId:{value:d,writable:!1,configurable:!1},keyRequestData:{value:x,writable:!1,configurable:!1},keyResponseData:{value:B,writable:!1,configurable:!1},userAuthenticationData:{value:ha,writable:!1,configurable:!1},userIdToken:{value:J,writable:!1,configurable:!1},serviceTokens:{value:Y,writable:!1,configurable:!1},peerMasterToken:{value:I,writable:!1,configurable:!1},peerUserIdToken:{value:na,writable:!1,configurable:!1},peerServiceTokens:{value:Z,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:b,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:c,writable:!1,enumerable:!1,configurable:!1},signature:{value:k,writable:!1,enumerable:!1,configurable:!1}};}function u(n,r,v){var w;if(v){if(r=n.getMslStore().getCryptoContext(v))return r;if(!v.isVerified()||!v.isDecrypted())throw new Qb(g.MASTERTOKEN_UNTRUSTED,v);return new lb(n,v);}v=r.scheme;w=n.getEntityAuthenticationFactory(v);if(!w)throw new xb(g.ENTITYAUTH_FACTORY_NOT_FOUND,v);return w.getCryptoContext(n,r);}function B(n,v,w,u,D){r(D,function(){v.verify(w,u,{result:function(n){r(D,function(){if(!n)throw new S(g.MESSAGE_VERIFICATION_FAILED);v.decrypt(w,{result:function(g){r(D,function(){return Ya(g,Ma);});},error:function(g){D.error(g);}});});},error:function(g){D.error(g);}});});}function J(g,n,v){r(v,function(){if(n)Sd(g,n,v);else return null;});}function v(g,n,v,w){r(w,function(){if(n)Tb(g,n,v,w);else return null;});}function D(g,n,v,w){r(w,function(){if(v)ge(g,n,v,w);else return null;});}function Ba(n,v,w,u,D,x,B){var J;function z(v,B,Y){var ha,I;if(B>=v.length){ha=[];for(I in J)ha.push(J[I]);Y.result(ha);}else{ha=v[B];if("object"!==typeof ha)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+x);Fc(n,ha,w,u,D,{result:function(g){r(Y,function(){J[g.uniqueKey()]=g;z(v,B+1,Y);});},error:function(g){Y.error(g);}});}}J={};r(B,function(){if(v){if(!(v instanceof Array))throw new ia(g.JSON_PARSE_ERROR,"headerdata "+x);z(v,0,B);}else return[];});}function Y(n,v,w,u,D,x){function z(n,v,w){r(w,function(){var r;r=v.peermastertoken;if(r&&"object"!==typeof r)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+D);if(!r)return null;Sb(n,r,w);});}function B(n,v,w,u){r(u,function(){var r;r=v.peeruseridtoken;if(r&&"object"!==typeof r)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+D);if(!r)return null;Tb(n,r,w,u);});}r(x,function(){if(!n.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};z(n,v,{result:function(g){r(x,function(){var z;z=w?w.masterToken:g;B(n,v,z,{result:function(w){r(x,function(){Ba(n,v.peerservicetokens,z,w,u,D,{result:function(n){r(x,function(){return{peerMasterToken:g,peerUserIdToken:w,peerServiceTokens:n};});},error:function(g){r(x,function(){g instanceof F&&(g.setEntity(z),g.setUser(w));throw g;});}});});},error:function(g){r(x,function(){g instanceof F&&g.setEntity(z);throw g;});}});});},error:x.error});});}function Ca(n,v,w,u){var x;function D(g,v){r(u,function(){if(v>=g.length)return x;Rd(n,g[v],{result:function(n){r(u,function(){x.push(n);D(g,v+1);});},error:function(g){u.error(g);}});});}x=[];r(u,function(){var n;n=v.keyrequestdata;if(!n)return x;if(!(n instanceof Array))throw new ia(g.JSON_PARSE_ERROR,"headerdata "+w);D(n,0);});}xa=ee=ma.Class.create({init:function(g,n,r,v,w,u,D,x,B){Object.defineProperties(this,{messageId:{value:g,writable:!1,configurable:!1},nonReplayableId:{value:n,writable:!1,configurable:!1},renewable:{value:r,writable:!1,configurable:!1},capabilities:{value:v,writable:!1,configurable:!1},keyRequestData:{value:w,writable:!1,configurable:!1},keyResponseData:{value:u,writable:!1,configurable:!1},userAuthData:{value:D,writable:!1,configurable:!1},userIdToken:{value:x,writable:!1,configurable:!1},serviceTokens:{value:B,writable:!1,configurable:!1}});}});Z=fe=ma.Class.create({init:function(g,n,r){Object.defineProperties(this,{peerMasterToken:{value:g,writable:!1,configurable:!1},peerUserIdToken:{value:n,writable:!1,configurable:!1},peerServiceTokens:{value:r,writable:!1,configurable:!1}});}});kc=ma.Class.create({init:function(g,n,v,D,x,B,J){var Y;function z(z){r(J,function(){var ha,I,Z,na,da,d,b,a,c,k,m,t,q,l,h,f,p;n=v?null:n;ha=D.nonReplayableId;I=D.renewable;Z=D.capabilities;na=D.messageId;da=D.keyRequestData?D.keyRequestData:[];d=D.keyResponseData;b=D.userAuthData;a=D.userIdToken;c=D.serviceTokens?D.serviceTokens:[];g.isPeerToPeer()?(k=x.peerMasterToken,m=x.peerUserIdToken,t=x.peerServiceTokens?x.peerServiceTokens:[]):(m=k=null,t=[]);if(0>na||na>Na)throw new ea("Message ID "+na+" is out of range.");if(!n&&!v)throw new ea("Message entity authentication data or master token must be provided.");d?g.isPeerToPeer()?(q=v,l=d.masterToken):(q=d.masterToken,l=k):(q=v,l=k);if(a&&(!q||!a.isBoundTo(q)))throw new ea("User ID token must be bound to a master token.");if(m&&(!l||!m.isBoundTo(l)))throw new ea("Peer user ID token must be bound to a peer master token.");c.forEach(function(b){if(b.isMasterTokenBound()&&(!q||!b.isBoundTo(q)))throw new ea("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound()&&(!a||!b.isBoundTo(a)))throw new ea("User ID token bound service tokens must be bound to the provided user ID token.");},this);t.forEach(function(a){if(a.isMasterTokenBound()&&(!l||!a.isBoundTo(l)))throw new ea("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!m||!a.isBoundTo(m)))throw new ea("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(B){h=B.customer;f=B.messageCryptoContext;p=w(g,f,h,n,v,z,na,da,d,b,a,c,k,m,t,ha,I,Z,B.headerdata,B.signature);Object.defineProperties(this,p);return this;}h=a?a.customer:null;p={};z&&(p.sender=z);p.messageid=na;"number"===typeof ha&&(p.nonreplayableid=ha);p.renewable=I;Z&&(p.capabilities=Z);0<da.length&&(p.keyrequestdata=da);d&&(p.keyresponsedata=d);b&&(p.userauthdata=b);a&&(p.useridtoken=a);0<c.length&&(p.servicetokens=c);k&&(p.peermastertoken=k);m&&(p.peeruseridtoken=m);0<t.length&&(p.peerservicetokens=t);try{f=u(g,n,v);}catch(y){throw y instanceof F&&(y.setEntity(v),y.setEntity(n),y.setUser(a),y.setUser(b),y.setMessageId(na)),y;}p=Wa(JSON.stringify(p),Ma);f.encrypt(p,{result:function(l){r(J,function(){f.sign(l,{result:function(q){r(J,function(){var p;p=w(g,f,h,n,v,z,na,da,d,b,a,c,k,m,t,ha,I,Z,l,q);Object.defineProperties(this,p);return this;},Y);},error:function(f){r(J,function(){f instanceof F&&(f.setEntity(v),f.setEntity(n),f.setUser(a),f.setUser(b),f.setMessageId(na));throw f;},Y);}});},Y);},error:function(f){r(J,function(){f instanceof F&&(f.setEntity(v),f.setEntity(n),f.setUser(a),f.setUser(b),f.setMessageId(na));throw f;},Y);}});},Y);}Y=this;r(J,function(){B?z(B.sender):v?g.getEntityAuthenticationData(null,{result:function(g){g=g.getIdentity();z(g);},error:J.error}):z(null);},Y);},isEncrypting:function(){return this.masterToken||Qc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var g;g={};this.masterToken?g[Yd]=this.masterToken:g[jd]=this.entityAuthenticationData;g[Zd]=pa(this.headerdata);g[kd]=pa(this.signature);return g;}});de=function(g,n,r,v,w,D){new kc(g,n,r,v,w,null,D);};ld=function(w,x,I,za,da,ca,ta){r(ta,function(){var z,V;I=za?null:I;if(!I&&!za)throw new Ha(g.MESSAGE_ENTITY_NOT_FOUND);z=x;try{x=va(z);}catch(ha){throw new Ha(g.HEADER_DATA_INVALID,z,ha);}if(!x||0==x.length)throw new Ha(g.HEADER_DATA_MISSING,z);try{V=u(w,I,za);}catch(ha){throw ha instanceof F&&(ha.setEntity(za),ha.setEntity(I)),ha;}B(w,V,x,da,{result:function(u){r(ta,function(){var z,B,ha,na,qa;try{z=JSON.parse(u);}catch(d){if(d instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u,d).setEntity(za).setEntity(I);throw d;}B=parseInt(z.messageid);if(!B||B!=B)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u).setEntity(za).setEntity(I);if(0>B||B>Na)throw new Ha(g.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+u).setEntity(za).setEntity(I);ha=za?z.sender:null;if(za&&(!ha||"string"!==typeof ha))throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u).setEntity(za).setEntity(I).setMessageId(B);na=z.keyresponsedata;if(na&&"object"!==typeof na)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u).setEntity(za).setEntity(I).setMessageId(B);qa=ta;ta={result:function(d){qa.result(d);},error:function(d){d instanceof F&&(d.setEntity(za),d.setEntity(I),d.setMessageId(B));qa.error(d);}};J(w,na,{result:function(d){r(ta,function(){var b,a;b=!w.isPeerToPeer()&&d?d.masterToken:za;a=z.useridtoken;if(a&&"object"!==typeof a)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u);v(w,a,b,{result:function(a){r(ta,function(){var k;k=z.userauthdata;if(k&&"object"!==typeof k)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u);D(w,b,k,{result:function(k){r(ta,function(){var c,q,l;if(k){q=k.scheme;l=w.getUserAuthenticationFactory(q);if(!l)throw new Da(g.USERAUTH_FACTORY_NOT_FOUND,q).setUser(a).setUser(k);q=za?za.identity:I.getIdentity();c=l.authenticate(w,q,k,a);}else c=a?a.customer:null;Ba(w,z.servicetokens,b,a,ca,u,{result:function(b){r(ta,function(){var f,h,l,q;f=z.nonreplayableid!==ja?parseInt(z.nonreplayableid):null;h=z.renewable;if(f!=f||"boolean"!==typeof h)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u);if(0>f||f>Na)throw new Ha(g.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+u);l=null;q=z.capabilities;if(q){if("object"!==typeof q)throw new ia(g.JSON_PARSE_ERROR,"headerdata "+u);l=ce(q);}Ca(w,z,u,{result:function(q){Y(w,z,d,ca,u,{result:function(p){r(ta,function(){var m,t,y,H;m=p.peerMasterToken;t=p.peerUserIdToken;y=p.peerServiceTokens;H=new xa(B,f,h,l,q,d,k,a,b);m=new Z(m,t,y);t=new n(c,ha,V,x,da);new kc(w,I,za,H,m,t,ta);});},error:ta.error});},error:function(b){r(ta,function(){b instanceof F&&(b.setUser(a),b.setUser(k));throw b;});}});});},error:function(h){r(ta,function(){h instanceof F&&(h.setEntity(b),h.setUser(a),h.setUser(k));throw h;});}});});},error:ta.error});});},error:ta.error});});},error:ta.error});});},error:ta.error});});};}());(function(){function n(g,n){this.payload=g;this.signature=n;}nd=ma.Class.create({init:function(g,n,u,J,v,D,I,Y){var w;w=this;r(Y,function(){var x,B;if(0>g||g>Na)throw new ea("Sequence number "+g+" is outside the valid range.");if(0>n||n>Na)throw new ea("Message ID "+n+" is outside the valid range.");if(I)return Object.defineProperties(this,{sequenceNumber:{value:g,writable:!1,configurable:!1},messageId:{value:n,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:u,writable:!1,enumerable:!1,configurable:!1},payload:{value:I.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:I.signature,writable:!1,enumerable:!1,configurable:!1}}),this;J?(x=od(J,v),x||(J=null,x=v)):(J=null,x=v);B={};B.sequencenumber=g;B.messageid=n;u&&(B.endofmsg=u);J&&(B.compressionalgo=J);B.data=pa(x);x=Wa(JSON.stringify(B),Ma);D.encrypt(x,{result:function(x){r(Y,function(){D.sign(x,{result:function(D){r(Y,function(){Object.defineProperties(this,{sequenceNumber:{value:g,writable:!1,configurable:!1},messageId:{value:n,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:u,writable:!1,enumerable:!1,configurable:!1},payload:{value:x,writable:!1,enumerable:!1,configurable:!1},signature:{value:D,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){Y.error(g);}});},w);},error:function(g){Y.error(g);}});},w);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var g;g={};g.payload=pa(this.payload);g.signature=pa(this.signature);return g;}});he=function(g,n,r,u,v,D,I){new nd(g,n,r,u,v,D,null,I);};ie=function(w,u,B){r(B,function(){var x,v,D,I;x=w.payload;v=w.signature;if(!x||"string"!==typeof x||"string"!==typeof v)throw new ia(g.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(w));try{D=va(x);}catch(Y){throw new Ha(g.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(w),Y);}try{I=va(v);}catch(Y){throw new Ha(g.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(w),Y);}u.verify(D,I,{result:function(v){r(B,function(){if(!v)throw new S(g.PAYLOAD_VERIFICATION_FAILED);u.decrypt(D,{result:function(v){r(B,function(){var r,w,x,z,J,Y,da;r=Ya(v,Ma);try{w=JSON.parse(r);}catch(ca){if(ca instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"payload chunk payload "+r,ca);throw ca;}x=parseInt(w.sequencenumber);z=parseInt(w.messageid);J=w.endofmsg;Y=w.compressionalgo;w=w.data;if(!x||x!=x||!z||z!=z||J&&"boolean"!==typeof J||Y&&"string"!==typeof Y||"string"!==typeof w)throw new ia(g.JSON_PARSE_ERROR,"payload chunk payload "+r);if(0>x||x>Na)throw new F(g.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+r);if(0>z||z>Na)throw new F(g.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+r);J||(J=!1);if(Y&&!Ob[Y])throw new Ha(g.UNIDENTIFIED_COMPRESSION,Y);try{da=va(w);}catch(ca){throw new Ha(g.PAYLOAD_DATA_CORRUPT,w,ca);}if(da&&0!=da.length)r=Y?Gc(Y,da):da;else{if(0<w.length)throw new Ha(g.PAYLOAD_DATA_CORRUPT,w);if(J)r=new Uint8Array(0);else throw new Ha(g.PAYLOAD_DATA_MISSING,w);}da=new n(D,I);new nd(x,z,J,Y,r,u,da,B);});},error:function(g){B.error(g);}});});},error:function(g){B.error(g);}});});};}());(function(){var B,J;function n(n,w,u,x,B){var D,J,z,Y,I;function v(){r(B,function(){var u,x;J>=w.length&&(J=0,++D);if(D>=z.length){if(Y)throw Y;throw new Ua(g.KEYX_FACTORY_NOT_FOUND,JSON.stringify(w));}u=z[D];x=w[J];u.scheme!=x.keyExchangeScheme?(++J,v()):u.generateResponse(n,x,I,{result:function(g){B.result(g);},error:function(g){r(B,function(){if(!(g instanceof F))throw g;Y=g;++J;v();});}});});}D=0;J=0;z=n.getKeyExchangeFactories();I=u?u:x;v();}function w(g,w,u,x,B){r(B,function(){var v;v=w.keyRequestData;if(w.isRenewable()&&0<v.length)x?x.isRenewable()||x.isExpired()?n(g,v,x,null,B):g.getTokenFactory().isNewestMasterToken(g,x,{result:function(w){r(B,function(){if(w)return null;n(g,v,x,null,B);});},error:B.error}):n(g,v,null,u.getIdentity(),B);else return null;});}function u(n,w,u,x){r(x,function(){var r,v,D,B;r=w.userIdToken;v=w.userAuthenticationData;D=w.messageId;if(r&&r.isVerified()){if(r.isRenewable()&&w.isRenewable()||r.isExpired()||!r.isBoundTo(u)){v=n.getTokenFactory();v.renewUserIdToken(n,r,u,x);return;}}else if(w.isRenewable()&&u&&v){r=w.customer;if(!r){r=v.scheme;B=n.getUserAuthenticationFactory(r);if(!B)throw new Da(g.USERAUTH_FACTORY_NOT_FOUND,r).setEntity(u).setUser(v).setMessageId(D);r=B.authenticate(n,u.identity,v,null);}v=n.getTokenFactory();v.createUserIdToken(n,r,u,x);return;}return r;});}B=new Uint8Array(0);J=Ub=function(g){if(0>g||g>Na)throw new ea("Message ID "+g+" is outside the valid range.");return g==Na?0:g+1;};cc=function(g){if(0>g||g>Na)throw new ea("Message ID "+g+" is outside the valid range.");return 0==g?Na:g-1;};Vb=function(g,n,w,u,x){r(x,function(){var v;if(u==ja||null==u){v=g.getRandom();do u=v.nextLong();while(0>u||u>Na);}else if(0>u||u>Na)throw new ea("Message ID "+u+" is outside the valid range.");g.getEntityAuthenticationData(null,{result:function(v){r(x,function(){var r;r=g.getMessageCapabilities();return new Hc(g,u,r,v,n,w,null,null,null,null,null);});},error:function(g){x.error(g);}});});};je=function(g,n,x){r(x,function(){var D,B,I,Ba,z,V;function v(g){r(x,function(){g instanceof F&&(g.setEntity(D),g.setEntity(B),g.setUser(I),g.setUser(Ba),g.setMessageId(z));throw g;});}D=n.masterToken;B=n.entityAuthenticationData;I=n.userIdToken;Ba=n.userAuthenticationData;z=n.messageId;V=J(z);w(g,n,B,D,{result:function(w){r(x,function(){var B;B=w?w.keyResponseData.masterToken:B=D;g.getEntityAuthenticationData(null,{result:function(z){r(x,function(){u(g,n,B,{result:function(v){r(x,function(){var r,u,x;I=v;r=md(n.messageCapabilities,g.getMessageCapabilities());u=n.keyResponseData;x=n.serviceTokens;return g.isPeerToPeer()?new Hc(g,V,r,z,u?u.masterToken:n.peerMasterToken,n.peerUserIdToken,n.peerServiceTokens,D,I,x,w):new Hc(g,V,r,z,u?u.masterToken:D,I,x,null,null,null,w);});},error:v});});},error:v});});},error:v});});};ke=function(g,n,w,u,x){r(x,function(){g.getEntityAuthenticationData(null,{result:function(v){r(x,function(){var r,D;if(n!=ja&&null!=n)r=J(n);else{D=g.getRandom();do r=D.nextInt();while(0>r||r>Na);}be(g,v,r,w.responseCode,w.internalCode,w.message,u,x);});},error:function(g){x.error(g);}});});};Hc=ma.Class.create({init:function(g,n,r,w,u,x,B,J,z,I,F){var v,D,Y,Z,V;if(!g.isPeerToPeer()&&(J||z))throw new ea("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");v=F&&!g.isPeerToPeer()?F.keyResponseData.masterToken:u;D={};g.getMslStore().getServiceTokens(v,x).forEach(function(g){D[g.name]=g;},this);B&&B.forEach(function(g){D[g.name]=g;},this);V={};g.isPeerToPeer()&&(Y=J,Z=z,B=F?F.keyResponseData.masterToken:J,g.getMslStore().getServiceTokens(B,z).forEach(function(g){V[g.name]=g;},this),I&&I.forEach(function(g){V[g.name]=g;},this));Object.defineProperties(this,{_ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:w,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:u,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:n,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:r,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:F,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:x,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:D,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Y,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Z,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:V,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||Qc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Qc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||vd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||vd(this._entityAuthData.scheme);},getHeader:function(n){r(n,function(){var r,v,w,u,x;r=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);u=[];for(x in this._keyRequestData)u.push(this._keyRequestData[x]);if(this._nonReplayable){if(!this._masterToken)throw new Ha(g.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);x=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else x=null;r=new ee(this._messageId,x,this._renewable,this._capabilities,u,r,this._userAuthData,this._userIdToken,v);v=[];for(w in this._peerServiceTokens)v.push(this._peerServiceTokens[w]);w=new fe(this._peerMasterToken,this._peerUserIdToken,v);de(this._ctx,this._entityAuthData,this._masterToken,r,w,n);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(g){this._nonReplayable=g;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(g){this._renewable=g;return this;},setAuthTokens:function(g,n){var r,v,w;if(n&&!n.isBoundTo(g))throw new ea("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new ea("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{r=this._ctx.getMslStore().getServiceTokens(g,n);}catch(xa){if(xa instanceof F)throw new ea("Invalid master token and user ID token combination despite checking above.",xa);throw xa;}v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);v.forEach(function(r){(r.isUserIdTokenBound()&&!r.isBoundTo(n)||r.isMasterTokenBound()&&!r.isBoundTo(g))&&delete this._serviceTokens[r.name];},this);r.forEach(function(g){this._serviceTokens[g.name]=g;},this);this._masterToken=g;this._userIdToken=n;},setUserAuthenticationData:function(g){this._userAuthData=g;return this;},setCustomer:function(g,n){var v;v=this;r(n,function(){var w;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new ea("User ID token or peer user ID token already exists for the remote user.");w=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!w)throw new ea("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,g,w,{result:function(g){r(n,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=g:(this._userIdToken=g,this._userAuthData=null);return!0;},v);},error:function(g){n.error(g);}});},v);},addKeyRequestData:function(g){this._keyRequestData[g.uniqueKey()]=g;return this;},removeKeyRequestData:function(g){delete this._keyRequestData[g.uniqueKey()];return this;},addServiceToken:function(n){var r;r=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(n.isMasterTokenBound()&&!n.isBoundTo(r))throw new Ha(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; mt "+JSON.stringify(r)).setEntity(r);if(n.isUserIdTokenBound()&&!n.isBoundTo(this._userIdToken))throw new Ha(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(r).setUser(this._userIdToken);this._serviceTokens[n.name]=n;return this;},addServiceTokenIfAbsent:function(g){this._serviceTokens[g.name]||this.addServiceToken(g);return this;},excludeServiceToken:function(g){delete this._serviceTokens[g];return this;},deleteServiceToken:function(g,n){var v;v=this;r(n,function(){var w,u;w=this._serviceTokens[g];if(!w)return this;u=w.isMasterTokenBound()?this._masterToken:null;w=w.isUserIdTokenBound()?this._userIdToken:null;Db(this._ctx,g,B,u,w,!1,null,new bc(),{result:function(g){r(n,function(){return this.addServiceToken(g);},v);},error:function(g){g instanceof F&&(g=new ea("Failed to create and add empty service token to message.",g));n.error(g);}});},v);},getServiceTokens:function(){var g,n;g=[];for(n in this._serviceTokens)g.push(this._serviceTokens[n]);return g;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(n,r){var v;if(!this._ctx.isPeerToPeer())throw new ea("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(r&&!n)throw new ea("Peer master token cannot be null when setting peer user ID token.");if(r&&!r.isBoundTo(n))throw new Ha(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+r+"; mt "+n).setEntity(n).setUser(r);try{v=this._ctx.getMslStore().getServiceTokens(n,r);}catch(Y){if(Y instanceof F)throw new ea("Invalid peer master token and user ID token combination despite proper check.",Y);throw Y;}Object.keys(this._peerServiceTokens).forEach(function(g){var v;v=this._peerServiceTokens[g];v.isUserIdTokenBound()&&!v.isBoundTo(r)?delete this._peerServiceTokens[g]:v.isMasterTokenBound()&&!v.isBoundTo(n)&&delete this._peerServiceTokens[g];},this);v.forEach(function(g){var n;n=g.name;this._peerServiceTokens[n]||(this._peerServiceTokens[n]=g);},this);this._peerUserIdToken=r;this._peerMasterToken=n;return this;},addPeerServiceToken:function(n){if(!this._ctx.isPeerToPeer())throw new ea("Cannot set peer service tokens when not in peer-to-peer mode.");if(n.isMasterTokenBound()&&!n.isBoundTo(this._peerMasterToken))throw new Ha(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(n.isUserIdTokenBound()&&!n.isBoundTo(this._peerUserIdToken))throw new Ha(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(n)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this._peerServiceTokens[n.name]=n;return this;},addPeerServiceTokenIfAbsent:function(g){this._peerServiceTokens[g.name]||this.addPeerServiceToken(g);return this;},excludePeerServiceToken:function(g){delete this._peerServiceTokens[g];return this;},deletePeerServiceToken:function(g,n){var v;v=this;r(n,function(){var w,u;w=this._peerServiceTokens[g];if(!w)return this;u=w.isMasterTokenBound()?this._peerMasterToken:null;w=w.isUserIdTokenBound()?this._peerUserIdToken:null;Db(this._ctx,g,B,u,w,!1,null,new bc(),{result:function(g){r(n,function(){return this.addPeerServiceToken(g);},v);},error:function(g){g instanceof F&&(g=new ea("Failed to create and add empty peer service token to message.",g));n.error(g);}});},v);},getPeerServiceTokens:function(){var g,n;g=[];for(n in this._peerServiceTokens)g.push(this._peerServiceTokens[n]);return g;}});}());(function(){function g(g,n){return n[g]?n[g]:n[""];}function n(g){var n;n=g.builder.getKeyExchangeData();return n&&!g.ctx.isPeerToPeer()?n.keyResponseData.masterToken:g.builder.getMasterToken();}le=ma.Class.create({init:function(g,n,r){g={ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:n.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:r,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},isPrimaryMasterTokenAvailable:function(){return n(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(g){try{return this.builder.addServiceToken(g),!0;}catch(B){if(B instanceof Ha)return!1;throw B;}},addPeerServiceToken:function(g){try{return this.builder.addPeerServiceToken(g),!0;}catch(B){if(B instanceof Ha)return!1;throw B;}},addUnboundPrimaryServiceToken:function(n,w,u,v,D){var x;x=this;r(D,function(){var B;B=g(n,this.cryptoContexts);if(!B)return!1;Db(this.ctx,n,w,null,null,u,v,B,{result:function(g){r(D,function(){try{this.builder.addServiceToken(g);}catch(xa){if(xa instanceof Ha)throw new ea("Service token bound to incorrect authentication tokens despite being unbound.",xa);throw xa;}return!0;},x);},error:function(g){D.error(g);}});},x);},addUnboundPeerServiceToken:function(n,w,u,v,D){var x;x=this;r(D,function(){var B;B=g(n,this.cryptoContexts);if(!B)return!1;Db(this.ctx,n,w,null,null,u,v,B,{result:function(g){r(D,function(){try{this.builder.addPeerServiceToken(g);}catch(xa){if(xa instanceof Ha)throw new ea("Service token bound to incorrect authentication tokens despite being unbound.",xa);throw xa;}return!0;},x);},error:function(g){D.error(g);}});},x);},addMasterBoundPrimaryServiceToken:function(w,u,J,v,D){var x;x=this;r(D,function(){var B,I;B=n(this);if(!B)return!1;I=g(w,this.cryptoContexts);if(!I)return!1;Db(this.ctx,w,u,B,null,J,v,I,{result:function(g){r(D,function(){try{this.builder.addServiceToken(g);}catch(Z){if(Z instanceof Ha)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token.",Z);throw Z;}return!0;},x);},error:function(g){D.error(g);}});},x);},addMasterBoundPeerServiceToken:function(n,w,u,v,D){var x;x=this;r(D,function(){var B,J;B=this.builder.getPeerMasterToken();if(!B)return!1;J=g(n,this.cryptoContexts);if(!J)return!1;Db(this.ctx,n,w,B,null,u,v,J,{result:function(g){r(D,function(){try{this.builder.addPeerServiceToken(g);}catch(Z){if(Z instanceof Ha)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token.",Z);throw Z;}return!0;},x);},error:function(g){D.error(g);}});},x);},addUserBoundPrimaryServiceToken:function(w,u,J,v,D){var x;x=this;r(D,function(){var B,I,F;B=n(this);if(!B)return!1;I=this.builder.getUserIdToken();if(!I)return!1;F=g(w,this.cryptoContexts);if(!F)return!1;Db(this.ctx,w,u,B,I,J,v,F,{result:function(g){r(D,function(){try{this.builder.addServiceToken(g);}catch(qa){if(qa instanceof Ha)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",qa);throw qa;}return!0;},x);},error:function(g){D.error(g);}});},x);},addUserBoundPeerServiceToken:function(n,w,u,v,D){var x;x=this;r(D,function(){var B,J,I;B=this.builder.getPeerMasterToken();if(!B)return!1;J=this.builder.getPeerUserIdToken();if(!J)return!1;I=g(n,this.cryptoContexts);if(!I)return!1;Db(this.ctx,n,w,B,J,u,v,I,{result:function(g){r(D,function(){try{this.builder.addPeerServiceToken(g);}catch(qa){if(qa instanceof Ha)throw new ea("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",qa);throw qa;}return!0;},x);},error:function(g){D.error(g);}});},x);},excludePrimaryServiceToken:function(g){for(var n=this.builder.getServiceTokens(),r=0;r<n.length;++r)if(n[r].name==g)return this.builder.excludeServiceToken(g),!0;return!1;},excludePeerServiceToken:function(g){for(var n=this.builder.getPeerServiceTokens(),r=0;r<n.length;++r)if(n[r].name==g)return this.builder.excludePeerServiceToken(g),!0;return!1;},deletePrimaryServiceToken:function(g,n){r(n,function(){for(var r=this.builder.getServiceTokens(),v=0;v<r.length;++v)if(r[v].name==g){this.builder.deleteServiceToken(g,{result:function(){n.result(!0);},error:function(g){n.error(g);}});return;}return!1;},this);},deletePeerServiceToken:function(g,n){r(n,function(){for(var r=this.builder.getPeerServiceTokens(),v=0;v<r.length;++v)if(r[v].name==g){this.builder.deletePeerServiceToken(g,{result:function(){n.result(!0);},error:function(g){n.error(g);}});return;}return!1;},this);}});}());(function(){function n(n,u,B,J){r(J,function(){var w,x,I,Ca,M,Z;function v(){r(J,function(){var u;if(Z>=B.length){if(M)throw M;throw new Ua(g.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(B));}u=B[Z];I!=u.keyExchangeScheme?(++Z,v()):Ca.getCryptoContext(n,u,x,w,{result:J.result,error:function(g){r(J,function(){if(!(g instanceof F))throw g;M=g;++Z;v();});}});});}w=u.masterToken;x=u.keyResponseData;if(!x)return null;I=x.keyExchangeScheme;Ca=n.getKeyExchangeFactory(I);if(!Ca)throw new Ua(g.KEYX_FACTORY_NOT_FOUND,I);Z=0;v();});}me=fd.extend({init:function(r,x,B,J,v,D,I){var w;w=this;u(I,function(){var V;function u(){w._ready=!0;w._readyQueue.add(!0);}function I(g,n){var r;try{r=n.masterToken;g.getTokenFactory().isMasterTokenRevoked(g,r,{result:function(v){v?(w._errored=new Qb(v,r).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),u()):Z(g,n);},error:function(g){g instanceof F&&(g.setEntity(n.masterToken),g.setUser(n.userIdToken),g.setUser(n.userAuthenticationData),g.setMessageId(n.messageId));w._errored=g;u();}});}catch(ta){ta instanceof F&&(ta.setEntity(n.masterToken),ta.setUser(n.userIdToken),ta.setUser(n.userAuthenticationData),ta.setMessageId(n.messageId));w._errored=ta;u();}}function Z(g,n){var r,v;try{r=n.masterToken;v=n.userIdToken;v?g.getTokenFactory().isUserIdTokenRevoked(g,r,v,{result:function(x){x?(w._errored=new MslUserIdTokenException(x,v).setEntity(r).setUser(v).setMessageId(n.messageId),u()):Y(g,n);},error:function(g){g instanceof F&&(g.setEntity(n.masterToken),g.setUser(n.userIdToken),g.setUser(n.userAuthenticationData),g.setMessageId(n.messageId));w._errored=g;u();}}):Y(g,n);}catch(Qa){Qa instanceof F&&(Qa.setEntity(n.masterToken),Qa.setUser(n.userIdToken),Qa.setUser(n.userAuthenticationData),Qa.setMessageId(n.messageId));w._errored=Qa;u();}}function Y(n,r){var v;try{v=r.masterToken;v.isExpired()?r.isRenewable()&&0!=r.keyRequestData.length?n.getTokenFactory().isMasterTokenRenewable(n,v,{result:function(g){g?(w._errored=new Ha(g,"Master token is expired and not renewable.").setEntity(v).setUser(r.userIdToken).setUser(r.userAuthenticationData).setMessageId(r.messageId),u()):z(n,r);},error:function(g){g instanceof F&&(g.setEntity(r.masterToken),g.setUser(r.userIdToken),g.setUser(r.userAuthenticationData),g.setMessageId(r.messageId));w._errored=g;u();}}):(w._errored=new Ha(g.MESSAGE_EXPIRED,JSON.stringify(r)).setEntity(v).setUser(r.userIdToken).setUser(r.userAuthenticationData).setMessageId(r.messageId),u()):z(n,r);}catch(ta){ta instanceof F&&(ta.setEntity(r.masterToken),ta.setUser(r.userIdToken),ta.setUser(r.userAuthenticationData),ta.setMessageId(r.messageId));w._errored=ta;u();}}function z(n,r){var v,x;try{v=r.masterToken;x=r.nonReplayableId;"number"===typeof x?v?n.getTokenFactory().acceptNonReplayableId(n,v,x,{result:function(n){n||(w._errored=new Ha(g.MESSAGE_REPLAYED,JSON.stringify(r)).setEntity(v).setUser(r.userIdToken).setUser(r.userAuthenticationData).setMessageId(r.messageId));u();},error:function(g){g instanceof F&&(g.setEntity(v),g.setUser(r.userIdToken),g.setUser(r.userAuthenticationData),g.setMessageId(r.messageId));w._errored=g;u();}}):(w._errored=new Ha(g.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(r)).setEntity(r.entityAuthenticationData).setUser(r.userIdToken).setUser(r.userAuthenticationData).setMessageId(r.messageId),u()):u();}catch(Qa){Qa instanceof F&&(Qa.setEntity(r.masterToken),Qa.setEntity(r.entityAuthenticationData),Qa.setUser(r.userIdToken),Qa.setUser(r.userAuthenticationData),Qa.setMessageId(r.messageId));w._errored=Qa;u();}}V={_source:{value:x,writable:!1,enumerable:!1,configurable:!1},_parser:{value:ja,writable:!0,enumerable:!1,configurable:!1},_charset:{value:B,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:D,writable:!1,enumerable:!1,configurable:!1},_header:{value:ja,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ja,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:ja,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new gc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,V);Qd(w._source,D,{result:function(x){w._json=x;w._jsonIndex=0;null===w._json?(w._errored=new ia(g.MESSAGE_DATA_MISSING),u()):Xd(r,w._json[w._jsonIndex++],v,{result:function(g){var v;w._header=g;if(w._header instanceof Mb)w._keyxCryptoContext=null,w._cryptoContext=null,u();else{v=w._header;n(r,v,J,{result:function(g){var n;try{w._keyxCryptoContext=g;r.isPeerToPeer()||!w._keyxCryptoContext?w._cryptoContext=v.cryptoContext:w._cryptoContext=w._keyxCryptoContext;try{n=v.masterToken;n&&(r.isPeerToPeer()||n.isVerified())?I(r,v):z(r,v);}catch(ra){ra instanceof F&&(ra.setEntity(v.masterToken),ra.setUser(v.userIdToken),ra.setUser(v.userAuthenticationData),ra.setMessageId(v.messageId));w._errored=ra;u();}}catch(ra){ra instanceof F&&(ra.setEntity(v.masterToken),ra.setEntity(v.entityAuthenticationData),ra.setUser(v.userIdToken),ra.setUser(v.userAuthenticationData),ra.setMessageId(v.messageId));w._errored=ra;u();}},error:function(g){g instanceof F&&(g.setEntity(v.masterToken),g.setEntity(v.entityAuthenticationData),g.setUser(v.userIdToken),g.setUser(v.userAuthenticationData),g.setMessageId(v.messageId));w._errored=g;u();}});}},error:function(g){w._errored=g;u();}});},timeout:function(){w._timedout=!0;u();},error:function(g){w._errored=g;u();}});return this;},w);},nextData:function(n,r){var w;w=this;u(r,function(){var v;function n(g){u(g,function(){var r;if(this._jsonIndex<this._json.length)return r=this._json[this._jsonIndex++];Qd(this._source,this._timeout,{result:function(r){r&&r.length&&0<r.length?(r.forEach(function(g){this._json.push(g);}),n(g)):(this._eom=!0,g.result(null));},timeout:function(){g.timeout();},error:function(n){g.error(n);}});},w);}v=this.getMessageHeader();if(!v)throw new ea("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;n({result:function(n){u(r,function(){if(!n)return null;if("object"!==typeof n)throw new ia(g.MESSAGE_FORMAT_ERROR);ie(n,this._cryptoContext,{result:function(n){u(r,function(){var r,w,u,x;r=v.masterToken;w=v.entityAuthenticationData;u=v.userIdToken;x=v.getUserAuthenticationData;if(n.messageId!=v.messageId)throw new Ha(g.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+n.messageId+" header mid "+v.messageId).setEntity(r).setEntity(w).setUser(u).setUser(x);if(n.sequenceNumber!=this._payloadSequenceNumber)throw new Ha(g.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+n.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(r).setEntity(w).setUser(u).setUser(x);++this._payloadSequenceNumber;n.isEndOfMessage()&&(this._eom=!0);r=n.data;this._payloads.push(r);this._payloadIndex=-1;return r;},w);},error:function(n){n instanceof SyntaxError&&(n=new ia(g.JSON_PARSE_ERROR,"payloadchunk",n));r.error(n);}});},w);},timeout:function(){r.timeout();},error:function(g){r.error(g);}});},w);},isReady:function(g,n){var w;function r(){u(n,function(){if(this._aborted)return!1;if(this._timedout)n.timeout();else{if(this._errored)throw this._errored;return!0;}},w);}w=this;u(n,function(){this._ready?r():this._readyQueue.poll(g,{result:function(g){u(n,function(){if(g===ja)return!1;r();},w);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});},w);},getMessageHeader:function(){return this._header instanceof kc?this._header:null;},getErrorHeader:function(){return this._header instanceof Mb?this._header:null;},getIdentity:function(){var g,n;g=this.getMessageHeader();if(g){n=g.masterToken;return n?n.identity:g.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var g;g=this.getMessageHeader();return g?g.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(g){this._closeSource=g;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(g,n,r){var v;function w(){u(r,function(){var x,B,I,J;function w(r){u(r,function(){var x,D,Z;if(B&&J>=B.length)return B.subarray(0,J);x=-1;if(this._currentPayload){D=this._currentPayload.length-this._payloadOffset;if(!B){Z=D;if(-1!=this._payloadIndex)for(var Y=this._payloadIndex;Y<this._payloads.length;++Y)Z+=this._payloads[Y].length;0<Z&&(B=new Uint8Array(Z));}D=Math.min(D,B?B.length-J:0);0<D&&(x=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+D),B.set(x,I),x=D,I+=D,this._payloadOffset+=D);}-1!=x?(J+=x,w(r)):this.nextData(n,{result:function(n){u(r,function(){if(this._aborted)return B?B.subarray(0,J):new Uint8Array(0);this._currentPayload=n;this._payloadOffset=0;if(this._currentPayload)w(r);else return 0==J&&0!=g?null:B?B.subarray(0,J):new Uint8Array(0);},v);},timeout:function(){r.timeout(B?B.subarray(0,J):new Uint8Array(0));},error:function(g){u(r,function(){g instanceof F&&(g=new Za("Error reading the payload chunk.",g));if(0<J)return v._readException=g,B.subarray(0,J);throw g;},v);}});},v);}if(this._aborted)return new Uint8Array(0);if(this._timedout)r.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){x=this._readException;this._readException=null;throw x;}B=-1!=g?new Uint8Array(g):ja;I=0;J=0;w(r);}},v);}v=this;u(r,function(){if(-1>g)throw new RangeError("read requested with illegal length "+g);this._ready?w():this._readyQueue.poll(n,{result:function(g){g===ja?r.result(!1):w();},timeout:function(){r.timeout(new Uint8Array(0));},error:function(g){r.error(g);}});},v);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});ne=function(g,n,r,u,v,D,I){new me(g,n,r,u,v,D,I);};}());(function(){oe=Cc.extend({init:function(g,n,r,B,J,v,D){var w;w=this;u(D,function(){var x,D,I;function u(){w._ready=!0;w._readyQueue.add(!0);}x=md(g.getMessageCapabilities(),B.messageCapabilities);D=null;x&&(D=Ed(x.compressionAlgorithms));x={_destination:{value:n,writable:!1,enumerable:!1,configurable:!1},_charset:{value:r,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:x,writable:!1,enumerable:!1,configurable:!1},_header:{value:B,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:D,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:J,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new gc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,x);I=Wa(JSON.stringify(B),r);n.write(I,0,I.length,v,{result:function(g){try{w._aborted?u():g<I.length?(w._timedout=!0,u()):n.flush(v,{result:function(g){w._aborted||(w._timedout=!g);u();},timeout:function(){w._timedout=!0;u();},error:function(g){w._errored=g;u();}});}catch(z){w._errored=z;u();}},timeout:function(){w._timedout=!0;u();},error:function(g){w._errored=g;u();}});return this;},w);},setCompressionAlgorithm:function(g,n,r){var x;function w(){x.flush(n,{result:function(n){u(r,function(){if(!n)throw new Za("flush() aborted");this._compressionAlgo=g;return!0;},x);},timeout:function(){r.timeout();},error:function(g){r.error(g);}});}x=this;u(r,function(){if(!this.getMessageHeader())throw new ea("Cannot write payload data for an error message.");if(this._compressionAlgo==g)return!0;if(g){if(!this._capabilities)return!1;for(var n=this._capabilities.compressionAlgorithms,r=0;r<n.length;++r)if(n[r]==g){w();return;}return!1;}w();},x);},getMessageHeader:function(){return this._header instanceof kc?this._header:null;},getErrorMessage:function(){return this._header instanceof Mb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(g,n){var r;r=this;u(n,function(){if(this._aborted)return!1;if(this._timedout)n.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(g,{result:function(g){u(n,function(){g&&(this._currentPayload=null);return g;},r);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});}},r);},flush:function(g,n){var w;function r(){u(n,function(){var r,v,M;if(this._aborted)return!1;if(this._timedout)n.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;r=this.getMessageHeader();if(!r)return!0;v=0;this._currentPayload&&this._currentPayload.forEach(function(g){v+=g.length;});for(var x=new Uint8Array(v),B=0,I=0;this._currentPayload&&I<this._currentPayload.length;++I){M=this._currentPayload[I];x.set(M,B);B+=M.length;}he(this._payloadSequenceNumber,r.messageId,this._closed,this._compressionAlgo,x,this._cryptoContext,{result:function(r){u(n,function(){var v;this._payloads.push(r);v=Wa(JSON.stringify(r),this._charset);this._destination.write(v,0,v.length,g,{result:function(v){u(n,function(){if(this._aborted)return!1;v<r.length?n.timeout():this._destination.flush(g,{result:function(g){u(n,function(){if(this._aborted)return!1;if(g)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;n.timeout();},w);},timeout:function(){n.timeout();},error:function(g){g instanceof F&&(g=new Za("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",g));n.error(g);}});},w);},timeout:function(g){n.timeout();},error:function(g){g instanceof F&&(g=new Za("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",g));n.error(g);}});},w);},error:function(g){g instanceof F&&(g=new Za("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",g));n.error(g);}});}},w);}w=this;u(n,function(){this._ready?r():this._readyQueue.poll(g,{result:function(g){g===ja?n.result(!1):r();},timeout:function(){n.timeout();},error:function(g){n.error(g);}});},w);},write:function(g,n,r,B,J){u(J,function(){var v;if(this._aborted)return!1;if(this._timedout)J.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Za("Message output stream already closed.");if(0>n)throw new RangeError("Offset cannot be negative.");if(0>r)throw new RangeError("Length cannot be negative.");if(n+r>g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new ea("Cannot write payload data for an error message.");v=g.subarray(n,n+r);this._currentPayload.push(v);return v.length;}},this);}});Ic=function(g,n,r,u,J,v,D){new oe(g,n,r,u,J,v,D);};}());We=ma.Class.create({sentHeader:function(g){},receivedHeader:function(g){}});Object.freeze({USERDATA_REAUTH:n.USERDATA_REAUTH,SSOTOKEN_REJECTED:n.SSOTOKEN_REJECTED});pe=ma.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(g,n,r,u){},getCustomer:function(){},getKeyRequestData:function(g){},updateServiceTokens:function(g,n,r){},write:function(g,n,r){},getDebugContext:function(){}});ma.Class.create({getInputStream:function(g){},getOutputStream:function(g){}});(function(){var M,Y,Ca,xa,Z,qa,z,V,za,da,ca,ta;function I(g){return function(){g.abort();};}function w(g,n){Object.defineProperties(this,{masterToken:{value:g,writable:!1,configurable:!1},ticket:{value:n,writable:!1,configurable:!1}});}function x(g,n){Object.defineProperties(this,{builder:{value:g,writable:!1,configurable:!1},msgCtx:{value:n,writable:!1,configurable:!1}});}function B(g,n,r){Object.defineProperties(this,{requestHeader:{value:g,writable:!1,configurable:!1},payloads:{value:n,writable:!1,configurable:!1},handshake:{value:r,writable:!1,configurable:!1}});}function J(g,n){Object.defineProperties(this,{requestHeader:{value:n.requestHeader,writable:!1,configurable:!1},payloads:{value:n.payloads,writable:!1,configurable:!1},handshake:{value:n.handshake,writable:!1,configurable:!1},response:{value:g,writable:!1,configurable:!1}});}function v(g){for(;g;){if(g instanceof cb)return!0;g=g instanceof F?g.cause:ja;}return!1;}function D(g,n,r,v,w,x,D,B,d){ke(n,v,w,x,{result:function(b){r&&r.sentHeader(b);Ic(n,D,Ma,b,null,null,B,{result:function(a){g.setAbort(function(){a.abort();});a.close(B,{result:function(a){u(d,function(){if(!a)throw new cb("sendError aborted.");return a;});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){},error:function(a){d.error(a);}});},error:function(b){d.error(b);}});}M=Cc.extend({close:function(g,n){n.result(!0);},write:function(g,n,v,w,u){r(u,function(){return Math.min(g.length-n,v);});},flush:function(g,n){n.result(!0);}});Y=Ve.extend({getUserMessage:function(g,n){return null;}});Ca=pe.extend({init:function(g){Object.defineProperties(this,{_appCtx:{value:g,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(g,n,r,v){this._appCtx.getUserAuthData(g,n,r,v);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(g){this._appCtx.getKeyRequestData(g);},updateServiceTokens:function(g,n,r){this._appCtx.updateServiceTokens(g,n,r);},write:function(g,n,r){this._appCtx.write(g,n,r);},getDebugContext:function(){return this._appCtx.getDebugContext();}});xa=Ca.extend({init:function ra(g,n){ra.base.call(this,n);Object.defineProperties(this,{_payloads:{value:g,writable:!1,enumerable:!1,configurable:!1}});},write:function(g,n,r){var w;function v(x,D){var d;if(x==w._payloads.length)r.result(!0);else{d=w._payloads[x];g.setCompressionAlgorithm(d.compressionAlgo,n,{result:function(b){g.write(d.data,0,d.data.length,n,{result:function(a){u(r,function(){d.isEndOfMessage()?v(x+1,D):g.flush(n,{result:function(a){r.result(a);},timeout:function(){r.timeout();},error:function(a){r.error(a);}});},w);},timeout:function(a){r.timeout(a);},error:function(a){r.error(a);}});},timeout:function(){},error:function(b){r.error(b);}});}}w=this;v(0);}});Z=Ca.extend({init:function ha(g){ha.base.call(this,g);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(g,n,r){r.result(!0);}});qa={};ca=ma.Class.create({init:function(g){g||(g=new Y());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:g,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(g){this._filterFactory=g;},getNewestMasterToken:function(g,n,r,v){var x;x=this;u(v,function(){var D,d,b,a,c;D=n.getMslStore();d=D.getMasterToken();if(!d)return null;b=d.uniqueKey();a=this._masterTokenLocks[b];a||(a=new Vc(),this._masterTokenLocks[b]=a);c=a.readLock(r,{result:function(k){u(v,function(){var c;if(k===ja)throw new cb("getNewestMasterToken aborted.");c=D.getMasterToken();if(d.equals(c))return new w(d,k);a.unlock(k);a.writeLock(r,{result:function(k){u(v,function(){if(k===ja)throw new cb("getNewestMasterToken aborted.");delete this._masterTokenLocks[b];a.unlock(k);return this.getNewestMasterToken(g,n,r,v);},x);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},x);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});g.setAbort(function(){c&&(a.cancel(c),c=ja);});},x);},deleteMasterToken:function(g,n){var r;if(n){r=this;setTimeout(function(){var v,w;v=n.uniqueKey();w=r._masterTokenLocks[v];w||(w=new Vc(),r._masterTokenLocks[v]=w);w.writeLock(-1,{result:function(u){g.getMslStore().removeCryptoContext(n);delete r._masterTokenLocks[v];w.unlock(u);},timeout:function(){throw new ea("Unexpected timeout received.");},error:function(g){throw g;}});},0);}},releaseMasterToken:function(g){var n;if(g&&g.masterToken){n=g.masterToken.uniqueKey();n=this._masterTokenLocks[n];if(!n)throw new ea("Master token read/write lock does not exist when it should.");n.unlock(g.ticket);}},updateOutgoingCryptoContexts:function(g,n,r){var v;v=g.getMslStore();!g.isPeerToPeer()&&r&&(v.setCryptoContext(r.keyResponseData.masterToken,r.cryptoContext),this.deleteMasterToken(g,n.masterToken));},updateIncomingCryptoContexts:function(g,n,r){var v,w;v=r.getMessageHeader();if(v){w=g.getMslStore();if(v=v.keyResponseData)w.setCryptoContext(v.masterToken,r.getKeyExchangeCryptoContext()),this.deleteMasterToken(g,n.masterToken);}},storeServiceTokens:function(g,n,r,v){var d,b;g=g.getMslStore();for(var w=[],u=0;u<v.length;++u){d=v[u];if(!d.isBoundTo(n)||!n.isVerified()){b=d.data;b&&0==b.length?g.removeServiceTokens(d.name,d.isMasterTokenBound()?n:null,d.isUserIdTokenBound()?r:null):w.push(d);}}0<w.length&&g.addServiceTokens(w);},buildRequest:function(g,n,v,w,u){var x;x=this;this.getNewestMasterToken(g,n,w,{result:function(d){r(u,function(){var b,a,c;b=d&&d.masterToken;if(b){a=v.getUserId();c=n.getMslStore();a=(a=a?c.getUserIdToken(a):null)&&a.isBoundTo(b)?a:null;}else a=null;Vb(n,b,a,null,{result:function(a){r(u,function(){a.setNonReplayable(v.isNonReplayable());return{builder:a,tokenTicket:d};});},error:function(a){r(u,function(){this.releaseMasterToken(d);a instanceof F&&(a=new ea("User ID token not bound to master token despite internal check.",a));throw a;},x);}});},x);},timeout:function(){u.timeout();},error:function(d){u.error(d);}});},buildResponse:function(g,n,r,v,w,x){var d;d=this;je(n,v,{result:function(b){u(x,function(){b.setNonReplayable(r.isNonReplayable());if(!n.isPeerToPeer()&&!v.keyResponseData)return{builder:b,tokenTicket:null};this.getNewestMasterToken(g,n,w,{result:function(a){u(x,function(){var c,k,m;c=a&&a.masterToken;if(c){k=r.getUserId();m=n.getMslStore();k=(k=k?m.getUserIdToken(k):null)&&k.isBoundTo(c)?k:null;}else k=null;b.setAuthTokens(c,k);return{builder:b,tokenTicket:a};},d);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},d);},error:function(b){x.error(b);}});},buildErrorResponse:function(g,r,v,w,D,B,d){var c;function b(a,b){u(d,function(){var k,q;k=Ub(D.messageId);q=new xa(b,v);Vb(r,null,null,k,{result:function(b){u(d,function(){r.isPeerToPeer()&&b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(q.isNonReplayable());return{errorResult:new x(b,q),tokenTicket:null};},c);},error:function(a){d.error(a);}});},c);}function a(a,b){c.getNewestMasterToken(g,r,B,{result:function(k){u(d,function(){var q,l,h;q=k&&k.masterToken;l=Ub(D.messageId);h=new xa(b,v);Vb(r,q,null,l,{result:function(b){u(d,function(){r.isPeerToPeer()&&b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(h.isNonReplayable());return{errorResult:new x(b,h),tokenTicket:k};},c);},error:function(a){d.error(a);}});},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}c=this;u(d,function(){var k,m,t,q;k=w.requestHeader;m=w.payloads;t=D.errorCode;switch(t){case n.ENTITYDATA_REAUTH:case n.ENTITY_REAUTH:r.getEntityAuthenticationData(t,{result:function(a){u(d,function(){if(!a)return null;b(k,m);},c);},error:function(a){d.error(a);}});break;case n.USERDATA_REAUTH:case n.SSOTOKEN_REJECTED:v.getUserAuthData(t,!1,!0,{result:function(b){u(d,function(){if(!b)return null;a(k,m);},c);},error:function(a){d.error(a);}});break;case n.USER_REAUTH:a(k,m);break;case n.KEYX_REQUIRED:t=Ub(D.messageId),q=new xa(m,v);Vb(r,null,null,t,{result:function(a){u(d,function(){r.isPeerToPeer()&&a.setPeerAuthTokens(k.peerMasterToken,k.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(q.isNonReplayable());return{errorResult:new x(a,q),tokenTicket:null};},c);},error:function(a){d.error(a);}});break;case n.EXPIRED:this.getNewestMasterToken(g,r,B,{result:function(a){u(d,function(){var b,f,l,q;b=a&&a.masterToken;f=k.userIdToken;l=Ub(D.messageId);q=new xa(m,v);Vb(r,b,f,l,{result:function(f){u(d,function(){r.isPeerToPeer()&&f.setPeerAuthTokens(k.peerMasterToken,k.peerUserIdToken);k.masterToken.equals(b)&&f.setRenewable(!0);f.setNonReplayable(q.isNonReplayable());return{errorResult:new x(f,q),tokenTicket:a};},c);},error:function(a){d.error(a);}},c);},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});break;case n.REPLAYED:this.getNewestMasterToken(g,r,B,{result:function(a){u(d,function(){var b,f,l,q;b=a&&a.masterToken;f=k.userIdToken;l=Ub(D.messageId);q=new xa(m,v);Vb(r,b,f,l,{result:function(f){u(d,function(){r.isPeerToPeer()&&f.setPeerAuthTokens(k.peerMasterToken,k.peerUserIdToken);k.masterToken.equals(b)?(f.setRenewable(!0),f.setNonReplayable(!1)):f.setNonReplayable(q.isNonReplayable());return{errorResult:new x(f,q),tokenTicket:a};},c);},error:function(a){d.error(a);}});},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});break;default:return null;}},c);},cleanupContext:function(g,r,v){switch(v.errorCode){case n.ENTITY_REAUTH:this.deleteMasterToken(g,r.masterToken);break;case n.USER_REAUTH:v=r.userIdToken,r.masterToken&&v&&g.getMslStore().removeUserIdToken(v);}},send:function(g,n,r,v,w,x,d){var t;function b(b,k,h){u(d,function(){var f;f=w.getPeerUserIdToken();!n.isPeerToPeer()&&!k||n.isPeerToPeer()&&!f?(f=r.getCustomer())?w.setCustomer(f,{result:function(f){u(d,function(){k=w.getUserIdToken();a(b,k,h);},t);},error:function(a){d.error(a);}}):a(b,k,h):a(b,k,h);},t);}function a(a,b,k){u(d,function(){var f,h;f=!k&&(!r.isEncrypted()||w.willEncryptPayloads())&&(!r.isIntegrityProtected()||w.willIntegrityProtectPayloads())&&(!r.isNonReplayable()||w.isNonReplayable()&&a);f||w.setNonReplayable(!1);h=[];w.isRenewable()&&(!a||a.isRenewable()||r.isNonReplayable())?r.getKeyRequestData({result:function(k){u(d,function(){var q;for(var l=0;l<k.length;++l){q=k[l];h.push(q);w.addKeyRequestData(q);}c(a,b,f,h);},t);},error:function(a){d.error(a);}}):c(a,b,f,h);},t);}function c(a,b,h,f){u(d,function(){var f;f=new le(n,r,w);r.updateServiceTokens(f,!h,{result:function(f){w.getHeader({result:function(f){u(d,function(){var l,c;l=r.getDebugContext();l&&l.sentHeader(f);l=w.getKeyExchangeData();this.updateOutgoingCryptoContexts(n,f,l);this.storeServiceTokens(n,a,b,f.serviceTokens);l=!n.isPeerToPeer()&&l?l.cryptoContext:f.cryptoContext;if(g.isAborted())throw new cb("send aborted.");c=null!=this._filterFactory?this._filterFactory.getOutputStream(v):v;Ic(n,c,Ma,f,l,x,{result:function(a){g.setAbort(function(){a.abort();});k(a,f,h);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},t);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},error:function(a){d.error(a);}});},t);}function k(a,b,k){var f,h;if(k)r.write(a,x,{result:function(f){u(d,function(){if(g.isAborted())throw new cb("MessageOutputStream write aborted.");m(a,b,k);},t);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});else{f=new M();h=new bc();Ic(n,f,Ma,b,h,x,{result:function(f){r.write(f,x,{result:function(h){u(d,function(){if(g.isAborted())throw new cb("MessageOutputStream proxy write aborted.");f.close(x,{result:function(h){u(d,function(){var l;if(!h)throw new cb("MessageOutputStream proxy close aborted.");l=f.getPayloads();m(a,b,k,l);},t);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},t);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}}function m(a,b,k,f){a.close(x,{result:function(h){u(d,function(){if(!h)throw new cb("MessageOutputStream close aborted.");f||(f=a.getPayloads());return new B(b,f,!k);},t);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}t=this;u(d,function(){var a,k,h,f;a=w.getMasterToken();k=w.getUserIdToken();h=!1;if(r.getUserId()){f=!k;r.getUserAuthData(null,w.isRenewable(),f,{result:function(f){u(d,function(){f&&(w.willEncryptHeader()&&w.willIntegrityProtectHeader()?w.setUserAuthenticationData(f):h=!0);b(a,k,h);},t);},error:function(a){d.error(a);}});}else b(a,k,h);},t);},receive:function(r,v,w,x,D,B,d){var b;b=this;u(d,function(){var a,c,k;if(r.isAborted())throw new cb("receive aborted.");a=[];D&&(a=D.keyRequestData.filter(function(){return!0;}));c=w.getCryptoContexts();k=this._filterFactory?this._filterFactory.getInputStream(x):x;ne(v,k,Ma,a,c,B,{result:function(a){r.setAbort(function(){a.abort();});a.isReady(B,{result:function(k){u(d,function(){var c,l,h,f;if(!k)throw new cb("MessageInputStream aborted.");c=a.getMessageHeader();l=a.getErrorHeader();h=w.getDebugContext();h&&h.receivedHeader(c?c:l);if(D&&(h=l?l.errorCode:null,c||h!=n.FAIL&&h!=n.TRANSIENT_FAILURE&&h!=n.ENTITY_REAUTH&&h!=n.ENTITYDATA_REAUTH)){h=c?c.messageId:l.messageId;f=Ub(D.messageId);if(h!=f)throw new Ha(g.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+f+"; received "+h);}v.getEntityAuthenticationData(null,{result:function(f){u(d,function(){var b,k,h,q;b=f.getIdentity();if(c){k=c.entityAuthenticationData;h=c.masterToken;k=h?c.sender:k.getIdentity();if(h&&h.isDecrypted()&&h.identity!=k||b==k)throw new Ha(g.UNEXPECTED_MESSAGE_SENDER,k);D&&this.updateIncomingCryptoContexts(v,D,a);b=c.keyResponseData;v.isPeerToPeer()?(b=b?b.masterToken:c.peerMasterToken,h=c.peerUserIdToken,k=c.peerServiceTokens):(b=b?b.masterToken:c.masterToken,h=c.userIdToken,k=c.serviceTokens);q=w.getUserId();q&&h&&!h.isVerified()&&v.getMslStore().addUserIdToken(q,h);this.storeServiceTokens(v,b,h,k);}else if(k=l.entityAuthenticationData.getIdentity(),b==k)throw new Ha(g.UNEXPECTED_MESSAGE_SENDER,k);return a;},b);},error:d.error});},b);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},b);},sendReceive:function(g,n,r,v,w,x,d,b,a){var k;function c(c,t){u(a,function(){x.setRenewable(t);this.send(g,n,r,w,x,d,{result:function(q){u(a,function(){var l;l=q.requestHeader.keyRequestData;b||q.handshake||!l.isEmpty()?this.receive(g,n,r,v,q.requestHeader,d,{result:function(b){u(a,function(){t&&this.releaseRenewalLock(n,c,b);return new J(b,q);},k);},timeout:function(){u(a,function(){t&&this.releaseRenewalLock(n,c,null);a.timeout();},k);},error:function(b){u(a,function(){t&&this.releaseRenewalLock(n,c,null);throw b;},k);}}):u(a,function(){t&&this.releaseRenewalLock(n,c,null);return new J(null,q);},k);},k);},timeout:function(){u(a,function(){t&&this.releaseRenewalLock(n,c,null);a.timeout();},k);},error:function(b){u(a,function(){t&&this.releaseRenewalLock(n,c,null);throw b;},k);}});},k);}k=this;u(a,function(){var b;b=new gc();this.acquireRenewalLock(g,n,r,b,x,d,{result:function(a){c(b,a);},timeout:function(){a.timeout();},error:function(b){b instanceof cb?a.result(null):a.error(b);}});},k);},acquireRenewalLock:function(g,n,r,v,w,x,d){var c;function b(k,m,t){u(d,function(){var h,f;if(g.isAborted())throw new cb("acquireRenewalLock aborted.");for(var q=null,l=0;l<this._renewingContexts.length;++l){h=this._renewingContexts[l];if(h.ctx===n){q=h.queue;break;}}if(!q)return this._renewingContexts.push({ctx:n,queue:v}),!0;f=q.poll(x,{result:function(f){u(d,function(){var h;if(f===ja)throw new cb("acquireRenewalLock aborted.");q.add(f);if(f===qa||f.isExpired())b(f,m,t);else{if(t&&!m||m&&!m.isBoundTo(f)){h=n.getMslStore().getUserIdToken(t);m=h&&h.isBoundTo(f)?h:null;}w.setAuthTokens(f,m);w.isRenewable()&&f.equals(k)?b(f,m,t):r.isRequestingTokens()&&!m?b(f,m,t):a(f,m);}},c);},timeout:function(){},error:function(a){}});g.setAbort(function(){f&&(q.cancel(f),f=ja);});},c);}function a(a,b){u(d,function(){var l;if(g.isAborted())throw new cb("acquireRenewalLock aborted.");if(!a||a.isRenewable()||!b&&r.getUserId()||b&&b.isRenewable()){for(var k=null,c=0;c<this._renewingContexts.length;++c){l=this._renewingContexts[c];if(l.ctx===n){k=l.queue;break;}}if(!k)return this._renewingContexts.push({ctx:n,queue:v}),!0;}return!1;},c);}c=this;u(d,function(){var k,c,t;k=w.getMasterToken();c=w.getUserIdToken();t=r.getUserId();r.isEncrypted()&&!w.willEncryptPayloads()||r.isIntegrityProtected()&&!w.willIntegrityProtectPayloads()||w.isRenewable()||!k&&r.isNonReplayable()||k&&k.isExpired()||!(c||!t||w.willEncryptHeader()&&w.willIntegrityProtectHeader())||r.isRequestingTokens()&&(!k||t&&!c)?b(k,c,t):a(k,c);},c);},releaseRenewalLock:function(g,n,r){var d;for(var v,w,u=0;u<this._renewingContexts.length;++u){d=this._renewingContexts[u];if(d.ctx===g){v=u;w=d.queue;break;}}if(w!==n)throw new ea("Attempt to release renewal lock that is not owned by this queue.");r?(r=r.messageHeader)?(w=r.keyResponseData)?n.add(w.masterToken):(g=g.isPeerToPeer()?r.peerMasterToken:r.masterToken)?n.add(g):n.add(qa):n.add(qa):n.add(qa);this._renewingContexts.splice(v,1);}});qe=ma.Class.create({init:function(){var g;g={_impl:{value:new ca(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},setFilterFactory:function(g){this._impl.setFilterFactory(g);},shutdown:function(){this._shutdown=!0;},receive:function(g,n,r,v,w,u){var d;if(this._shutdown)throw new F("MslControl is shutdown.");d=new z(this._impl,g,n,r,v,w);setTimeout(function(){d.call(u);},0);return I(d);},respond:function(g,n,r,v,w,u,d){var b;if(this._shutdown)throw new F("MslControl is shutdown.");b=new V(this._impl,g,n,r,v,w,u);setTimeout(function(){b.call(d);},0);return I(b);},error:function(g,n,r,v,w,u,d){var b;if(this._shutdown)throw new F("MslControl is shutdown.");b=new za(this._impl,g,n,r,v,w,u);setTimeout(function(){b.call(d);},0);return I(b);},request:function(g,n){var r,v,w,u,d,b;if(this._shutdown)throw new F("MslControl is shutdown.");if(5==arguments.length){if(r=arguments[2],w=v=null,u=arguments[3],d=arguments[4],g.isPeerToPeer()){d.error(new ea("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(r=null,v=arguments[2],w=arguments[3],u=arguments[4],d=arguments[5],!g.isPeerToPeer())){d.error(new ea("This method cannot be used in trusted network mode."));return;}b=new da(this._impl,g,n,r,v,w,null,0,u);setTimeout(function(){b.call(d);},0);return I(b);}});z=ma.Class.create({init:function(g,n,r,v,w,u){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:r,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:u,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ja,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},call:function(n){var B;function r(r){u(n,function(){var d;d=r.messageHeader;if(!d)return r;this.setAbort(function(){r.abort();});r.mark(Number.MAX_VALUE);r.read(1,B._timeout,{result:function(b){u(n,function(){if(b&&0==b.length)return null;if(b)return r.reset(),r;w(r);},B);},timeout:function(){n.timeout();},error:function(b){u(n,function(){var a,c,k;if(v(b))return null;a=d?d.messageId:null;b instanceof Za?(c=g.MSL_COMMS_FAILURE,k=b):(c=g.INTERNAL_EXCEPTION,k=new ea("Error peeking into the message payloads."));D(this,this._ctx,this._msgCtx.getDebugContext(),a,c,null,this._output,this._timeout,{result:function(a){n.error(k);},timeout:function(){n.timeout();},error:function(a){u(n,function(){if(v(a))return null;throw new nb("Error peeking into the message payloads.",a,b);},B);}});},B);}});},B);}function w(r){u(n,function(){r.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,r.messageHeader,this._timeout,{result:function(d){u(n,function(){var b,a,c,k,m;b=d.builder;a=d.tokenTicket;c=r.messageHeader;k=new Z(this._msgCtx);if(!this._ctx.isPeerToPeer()||c.isEncrypting()||c.keyResponseData)x(c,b,k,a);else{m=new da(this._ctrl,this._ctx,k,null,this._input,this._output,d,1,this._timeout);this.setAbort(function(){m.abort();});m.call(n);}},B);},timeout:function(){n.timeout();},error:function(d){u(n,function(){var b,a,c,k;if(v(d))return null;d instanceof F?(b=d.messageId,a=d.error,c=r.messageHeader.messageCapabilities,c=this._ctrl.messageRegistry.getUserMessage(a,c?c.languages:null),k=d):(b=requestHeader?requestHeader.messageId:null,a=g.INTERNAL_EXCEPTION,c=null,k=new ea("Error creating an automatic handshake response.",d));D(this,this._ctx,this._msgCtx.getDebugContext(),b,a,c,this._output,this._timeout,{result:function(a){n.error(k);},timeout:function(){n.timeout();},error:function(a){u(n,function(){if(v(a))return null;throw new nb("Error creating an automatic handshake response.",a,d);},B);}});},B);}});},B);}function x(r,d,b,a){u(n,function(){d.setRenewable(!1);this._ctrl.send(this._ctx,b,this._output,d,this._timeout,{result:function(b){u(n,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);return null;},B);},timeout:function(){u(n,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);n.timeout();},B);},error:function(b){u(n,function(){var k,c,t,q;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);if(v(b))return null;b instanceof F?(k=b.messageId,c=b.error,t=r?r.messageCapabilities:null,t=this._ctrl.messageRegistry.getUserMessage(c,t?t.languages:null),q=b):b instanceof Za?(k=r?r.messageId:null,c=g.MSL_COMMS_FAILURE,t=null,q=b):(k=r?r.messageId:null,c=g.INTERNAL_EXCEPTION,t=null,q=new ea("Error sending an automatic handshake response.",b));D(this,this._ctx,this._msgCtx.getDebugContext(),k,c,t,this._output,this._timeout,{result:function(a){n.error(q);},timeout:function(){n.timeout();},error:function(a){u(n,function(){if(v(a))return null;throw new nb("Error sending an automatic handshake response.",a,b);},B);}});},B);}});},B);}B=this;u(n,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(g){r(g);},timeout:function(){n.timeout();},error:function(r){u(n,function(){var d,b,a,c;if(v(r))return null;r instanceof F?(d=r.messageId,b=r.error,a=this._ctrl.messageRegistry.getUserMessage(b,null),c=r):(d=null,b=g.INTERNAL_EXCEPTION,a=null,c=new ea("Error receiving the message header.",r));D(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){n.error(c);},timeout:function(){n.timeout();},error:function(a){u(n,function(){if(v(a))return null;throw new nb("Error receiving the message header.",a,r);},B);}});},B);}});},B);}});V=ma.Class.create({init:function(g,n,r,v,w,u,d){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:r,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_request:{value:u,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ja,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},trustedNetworkExecute:function(n,r,w){var x;x=this;u(w,function(){var B,z;if(12<r+1)return!1;if(B=this._msgCtx.isIntegrityProtected()&&!n.willIntegrityProtectHeader()?g.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!n.willEncryptPayloads()?g.RESPONSE_REQUIRES_ENCRYPTION:null){z=cc(n.getMessageId());D(this,this._ctx,this._msgCtx.getDebugContext(),z,B,null,this._output,this._timeout,{result:function(d){w.result(!1);},timeout:function(){w.timeout();},error:function(d){u(w,function(){if(v(d))return!1;throw new nb("Response requires encryption or integrity protection but cannot be protected: "+B,d,null);},x);}});}else!this._msgCtx.getCustomer()||n.getMasterToken()||n.getKeyExchangeData()?(n.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,n,this._timeout,{result:function(d){w.result(!0);},timeout:function(){w.timeout();},error:function(d){w.error(d);}})):(z=cc(n.getMessageId()),D(this,this._ctx,this._msgCtx.getDebugContext(),z,g.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(d){w.result(!1);},timeout:function(){w.timeout();},error:function(d){u(w,function(){if(v(d))return!1;throw new nb("Response wishes to attach a user ID token but there is no master token.",d,null);},x);}}));},x);},peerToPeerExecute:function(n,r,w,x){var z;function B(d){u(x,function(){var b;b=d.response;b.close();b=b.getErrorHeader();this._ctrl.cleanupContext(this._ctx,d.requestHeader,b);this._ctrl.buildErrorResponse(this,this._ctx,n,d,b,{result:function(a){u(x,function(){var b,k;if(!a)return!1;b=a.errorResult;k=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,w,{result:function(a){u(x,function(){this._ctrl.releaseMasterToken(k);return a;},z);},timeout:function(){u(x,function(){this._ctrl.releaseMasterToken(k);x.timeout();},z);},error:function(a){u(x,function(){this._ctrl.releaseMasterToken(k);throw a;},z);}});},z);}});},z);}z=this;u(x,function(){var d;if(12<w+2)return!1;if(null!=n.getCustomer()&&null==r.getPeerMasterToken()&&null==r.getKeyExchangeData()){d=cc(r.getMessageId());D(this,this._ctx,n.getDebugContext(),d,g.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(b){x.result(!1);},timeout:function(){x.timeout();},error:function(b){u(x,function(){if(v(b))return!1;throw new nb("Response wishes to attach a user ID token but there is no master token.",b,null);},z);}});}else this._ctrl.sendReceive(this._ctx,n,this._input,this._output,r,this._timeout,!1,{result:function(b){u(x,function(){var k,m,t;function a(){k.read(32768,z._timeout,{result:function(b){u(x,function(){b?a():c();},z);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}function c(){u(x,function(){var a;a=new xa(b.payloads,n);this._ctrl.buildResponse(this,this._ctx,a,m,this._timeout,{result:function(b){u(x,function(){var k;k=b.tokenTicket;this.peerToPeerExecute(a,b.builder,w,{result:function(a){u(x,function(){this._ctrl.releaseMasterToken(k);return a;},z);},timeout:function(){u(x,function(){this._ctrl.releaseMasterToken(k);x.timeout();},z);},error:function(a){u(x,function(){this._ctrl.releaseMasterToken(k);throw a;},z);}});},z);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},z);}k=b.response;w+=2;if(!k)return!0;m=k.getMessageHeader();if(m){t=b.payloads;t=0<t.length&&0<t[0].data.length;if(b.handshake&&t)a();else return!0;}else B(b);},z);},timeout:function(){x.timeout();},error:function(b){x.error(b);}});},z);},call:function(n){var r;r=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(w){u(n,function(){var x,B;x=w.builder;B=w.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,x,3,{result:function(g){u(n,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);return g;},r);},timeout:function(){u(n,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);n.timeout();},r);},error:function(w){u(n,function(){var d,b,a,c;this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);if(v(w))return!1;d=cc(x.getMessageId());w instanceof F?(b=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(b,a?a.languages:null),c=w):w instanceof Za?(b=g.MSL_COMMS_FAILURE,a=null,c=w):(b=g.INTERNAL_EXCEPTION,a=null,c=new ea("Error sending the response.",w));D(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){n.error(c);},timeout:function(){n.timeout();},error:function(a){u(n,function(){if(v(a))return!1;throw new nb("Error sending the response.",a,null);},r);}});},r);}}):this.trustedNetworkExecute(x,3,{result:function(g){u(n,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);return g;},r);},timeout:function(){u(n,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);n.timeout();},r);},error:function(w){u(n,function(){var d,b,a,c;this._ctx.isPeerToPeer()&&this.releaseMasterToken(B);if(v(w))return!1;d=cc(x.getMessageId());w instanceof F?(b=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(b,a?a.languages:null),c=w):w instanceof Za?(b=g.MSL_COMMS_FAILURE,a=null,c=w):(b=g.INTERNAL_EXCEPTION,a=null,c=new ea("Error sending the response.",w));D(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){n.error(c);},timeout:function(){n.timeout();},error:function(a){u(n,function(){if(v(a))return!1;throw new nb("Error sending the response.",a,null);},r);}});},r);}});},r);},timeout:function(){n.timeout();},error:function(w){u(n,function(){var x,B,z,d;if(v(w))return!1;w instanceof F?(x=w.messageId,B=w.error,z=this._request.messageCapabilities,z=this._ctrl.messageRegistry.getUserMessage(B,z?z.languages:null),d=w):(x=null,B=g.INTERNAL_EXCEPTION,z=null,d=new ea("Error building the response.",w));D(this,this._ctx,this._msgCtx.getDebugContext(),x,B,z,this._output,this._timeout,{result:function(b){n.error(d);},timeout:function(){n.timeout();},error:function(b){u(n,function(){if(v(b))return null;throw new nb("Error building the response.",b,w);},r);}});},r);}});}});za=ma.Class.create({init:function(g,n,r,w,v,u,d){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:r,writable:!1,enumerable:!1,configurable:!1},_appError:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:u,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ja,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},call:function(n){var r;r=this;u(n,function(){var w,x;if(this._appError==ENTITY_REJECTED)w=this._request.masterToken?g.MASTERTOKEN_REJECTED_BY_APP:g.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)w=this._request.userIdToken?g.USERIDTOKEN_REJECTED_BY_APP:g.USER_REJECTED_BY_APP;else throw new ea("Unhandled application error "+this._appError+".");x=this._request.messageCapabilities;x=this._ctrl.messageRegistry.getUserMessage(w,x?x.languages:null);D(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,w,x,this._output,this._timeout,{result:function(g){n.result(g);},timeout:n.timeout,error:function(g){u(n,function(){if(v(g))return!1;if(g instanceof F)throw g;throw new ea("Error building the error response.",g);},r);}});},r);}});ta={result:function(){},timeout:function(){},error:function(){}};da=ma.Class.create({init:function(g,n,r,w,v,u,d,b,a){var c;d?(c=d.builder,d=d.tokenTicket):d=c=null;Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:r,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:w,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!0,enumerable:!1,configurable:!1},_output:{value:u,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:c,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:d,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:b,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ja,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},execute:function(g,n,r,w,v){var b;function x(a){function c(k){u(v,function(){var b;b=a.response;return k?k:b;},b);}u(v,function(){var k,m;k=a.response;k.close();m=k.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,m);this._ctrl.buildErrorResponse(this,this._ctx,g,a,m,r,{result:function(a){u(v,function(){var q,l,h,f;if(!a)return k;q=a.errorResult;l=a.tokenTicket;h=q.builder;q=q.msgCtx;if(this._ctx.isPeerToPeer())this.execute(q,h,this._timeout,w,{result:function(a){u(v,function(){this._ctrl.releaseMasterToken(l);c(a);},b);},timeout:function(){u(v,function(){this._ctrl.releaseMasterToken(l);v.timeout();},b);},error:function(a){u(v,function(){this._ctrl.releaseMasterToken(l);v.error(a);},b);}});else{this._openedStreams&&(this._input.close(),this._output.close(r,ta));f=new da(this._ctrl,this._ctx,q,this._remoteEntity,null,null,{builder:h,tokenTicket:l},w,this._timeout);this.setAbort(function(){f.abort();});f.call({result:function(a){c(a);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},b);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},b);}function d(a){u(v,function(){var m,t,q,l,h;function c(){m.read(32768,b._timeout,{result:function(a){a?c():k();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function k(){u(v,function(){var f;f=new xa(a.payloads,g);this._ctrl.buildResponse(this,this._ctx,g,t,r,{result:function(a){u(v,function(){var k;k=a.tokenTicket;this.execute(f,a.builder,this._timeout,w,{result:function(a){u(v,function(){this._ctrl.releaseMasterToken(k);return a;},b);},timeout:function(){u(v,function(){this._ctrl.releaseMasterToken(k);v.timeout();},b);},error:function(a){u(v,function(){this._ctrl.releaseMasterToken(k);throw a;},b);}});},b);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},b);}m=a.response;t=m.getMessageHeader();q=a.payloads;q=0<q.length&&0<q[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake||!q)return m;this._openedStreams&&(this._input.close(),this._output.close(r,ta));l=new xa(a.payloads,g);this._ctrl.buildResponse(this,this._ctx,g,t,r,{result:function(a){u(v,function(){var b;b=new da(this._ctrl,this._ctx,l,this._remoteEntity,null,null,a,w,this._timeout);this.setAbort(function(){b.abort();});b.call(v);},b);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}else if(a.handshake&&q)c();else if(0<t.keyRequestData.length){h=new Z(g);this._ctrl.buildResponse(this,this._ctx,h,t,r,{result:function(a){u(v,function(){var f,k;f=a.builder;k=a.tokenTicket;m.mark();m.read(1,this._timeout,{result:function(a){u(v,function(){function l(){m.read(32768,b._timeout,{result:function(a){a?l():c();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function c(){b.execute(h,f,b._timeout,w,{result:function(a){u(v,function(){this._ctrl.releaseMasterToken(k);return a;},b);},timeout:function(){u(v,function(){this._ctrl.releaseMasterToken(k);v.timeout();},b);},error:function(a){u(v,function(){this._ctrl.releaseMasterToken(k);throw a;},b);}});}if(a)if(m.reset(),12>=w+1)f.setRenewable(!1),this._ctrl.send(this,this._ctx,h,this._output,f,this._timeout,{result:function(a){u(v,function(){this.releaseMasterToken(k);return m;},b);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});else return this.releaseMasterToken(k),m;else l();},b);},timeout:function(){u(v,function(){this.releaseMasterToken(k);v.timeout();},b);},error:function(a){u(v,function(){this.releaseMasterToken(k);throw a;},b);}});},b);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},b);}b=this;u(v,function(){if(12<w+2)return null;this._ctrl.sendReceive(this,this._ctx,g,this._input,this._output,n,r,!0,{result:function(a){u(v,function(){var b;if(!a)return null;b=a.response;w+=2;b.getMessageHeader()?d(a):x(a);},b);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},b);},call:function(g){var r;function n(n,w,x){u(g,function(){this.execute(this._msgCtx,n,x,this._msgCount,{result:function(d){u(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&this._output.close(x,ta);d&&d.closeSource(this._openedStreams);return d;},r);},timeout:function(){u(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(x,ta),this._input.close());g.timeout();},r);},error:function(d){u(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(x,ta),this._input.close());if(v(d))return null;throw d;},r);}});},r);}r=this;u(g,function(){var w,x,D;w=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);x=Date.now();D=this._remoteEntity.openConnection();this._output=D.output;this._input=D.input;-1!=w&&(w=this._timeout-(Date.now()-x));this._openedStreams=!0;}catch(d){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,ta);this._input&&this._input.close();if(v(d))return null;throw d;}this._builder?n(this._builder,this._tokenTicket,w):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(d){u(g,function(){n(d.builder,d.tokenTicket,w);},r);},timeout:function(){u(g,function(){this._openedStreams&&(this._output.close(this._timeout,ta),this._input.close());g.timeout();},r);},error:function(d){u(g,function(){this._openedStreams&&(this._output.close(this._timeout,ta),this._input.close());if(v(d))return null;throw d;},r);}});},r);}});}());(function(){pd=ma.Class.create({init:function(g){Object.defineProperties(this,{id:{value:g,writable:!1,configurable:!1}});},toJSON:function(){var g;g={};g.id=this.id;return g;},equals:function(g){return this===g?!0:g instanceof pd?this.id==g.id:!1;},uniqueKey:function(){return this.id;}});re=function(n){var r;r=n.id;if(!r)throw new ia(g.JSON_PARSE_ERROR,JSON.stringify(n));return new pd(r);};}());ma.Class.create({isNewestMasterToken:function(g,n,r){},isMasterTokenRevoked:function(g,n){},acceptNonReplayableId:function(g,n,r,u){},createMasterToken:function(g,n,r,u,J){},isMasterTokenRenewable:function(g,n,r){},renewMasterToken:function(g,n,r,u,J){},isUserIdTokenRevoked:function(g,n,r,u){},createUserIdToken:function(g,n,r,u){},renewUserIdToken:function(g,n,r,u){}});(function(){function n(g,n,r,u){this.sessiondata=g;this.tokendata=n;this.signature=r;this.verified=u;}kb=ma.Class.create({init:function(g,n,u,J,v,D,I,F,M,xa,Z){var w;w=this;r(Z,function(){var x,B,Y,da,ca;if(u.getTime()<n.getTime())throw new ea("Cannot construct a master token that expires before its renewal window opens.");if(0>J||J>Na)throw new ea("Sequence number "+J+" is outside the valid range.");if(0>v||v>Na)throw new ea("Serial number "+v+" is outside the valid range.");x=Math.floor(n.getTime()/1E3);B=Math.floor(u.getTime()/1E3);if(xa)Y=xa.sessiondata;else{da={};D&&(da.issuerdata=D);da.identity=I;da.encryptionkey=pa(F.toByteArray());da.hmackey=pa(M.toByteArray());Y=Wa(JSON.stringify(da),Ma);}if(xa)return Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:J,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:D,writable:!1,configurable:!1},identity:{value:I,writable:!1,configurable:!1},encryptionKey:{value:F,writable:!1,configurable:!1},hmacKey:{value:M,writable:!1,configurable:!1},sessiondata:{value:Y,writable:!1,enumerable:!1,configurable:!1},verified:{value:xa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:xa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:xa.signature,writable:!1,enumerable:!1,configurable:!1}}),this;ca=g.getMslCryptoContext();ca.encrypt(Y,{result:function(n){r(Z,function(){var u,z;u={};u.renewalwindow=x;u.expiration=B;u.sequencenumber=J;u.serialnumber=v;u.sessiondata=pa(n);z=Wa(JSON.stringify(u),Ma);ca.sign(z,{result:function(n){r(Z,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:J,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:v,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:D,writable:!1,configurable:!1},identity:{value:I,writable:!1,configurable:!1},encryptionKey:{value:F,writable:!1,configurable:!1},hmacKey:{value:M,writable:!1,configurable:!1},sessiondata:{value:Y,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:z,writable:!1,enumerable:!1,configurable:!1},signature:{value:n,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){Z.error(g);}});},w);},error:function(g){Z.error(g);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(g){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(g){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(g){var n;if(this.sequenceNumber==g.sequenceNumber)return this.expiration>g.expiration;if(this.sequenceNumber>g.sequenceNumber){n=this.sequenceNumber-Na+127;return g.sequenceNumber>=n;}n=g.sequenceNumber-Na+127;return this.sequenceNumber<n;},toJSON:function(){var g;g={};g.tokendata=pa(this.tokendata);g.signature=pa(this.signature);return g;},equals:function(g){return this===g?!0:g instanceof kb?this.serialNumber==g.serialNumber&&this.sequenceNumber==g.sequenceNumber&&this.expiration.getTime()==g.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Sb=function(w,u,B){r(B,function(){var x,v,D,I,Y;x=w.getMslCryptoContext();v=u.tokendata;D=u.signature;if("string"!==typeof v||"string"!==typeof D)throw new ia(g.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(u));try{I=va(v);}catch(Ca){throw new F(g.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(u),Ca);}if(!I||0==I.length)throw new ia(g.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(u));try{Y=va(D);}catch(Ca){throw new F(g.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(u),Ca);}x.verify(I,Y,{result:function(v){r(B,function(){var u,D,J,z,V,M,da,ca,ta,Ba;M=Ya(I,Ma);try{da=JSON.parse(M);u=parseInt(da.renewalwindow);D=parseInt(da.expiration);J=parseInt(da.sequencenumber);z=parseInt(da.serialnumber);V=da.sessiondata;}catch(ra){if(ra instanceof SyntaxError)throw new ia(g.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+M,ra);throw ra;}if(!u||u!=u||!D||D!=D||"number"!==typeof J||J!=J||"number"!==typeof z||z!=z||"string"!==typeof V)throw new ia(g.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+M);if(D<u)throw new F(g.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+M);if(0>J||J>Na)throw new F(g.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+M);if(0>z||z>Na)throw new F(g.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+M);ca=new Date(1E3*u);ta=new Date(1E3*D);try{Ba=va(V);}catch(ra){throw new F(g.MASTERTOKEN_SESSIONDATA_INVALID,V,ra);}if(!Ba||0==Ba.length)throw new F(g.MASTERTOKEN_SESSIONDATA_MISSING,V);v?x.decrypt(Ba,{result:function(u){r(B,function(){var x,D,F,Z,V,da;V=Ya(u,Ma);try{da=JSON.parse(V);x=da.issuerdata;D=da.identity;F=da.encryptionkey;Z=da.hmackey;}catch(d){if(d instanceof SyntaxError)throw new ia(g.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+V,d);throw d;}if(x&&"object"!==typeof x||!D||"string"!==typeof F||"string"!==typeof Z)throw new ia(g.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+V);zb(F,sb,Hb,{result:function(d){zb(Z,tb,Rb,{result:function(b){r(B,function(){var a;a=new n(u,I,Y,v);new kb(w,ca,ta,J,z,x,D,d,b,a,B);});},error:function(b){B.error(new S(g.MASTERTOKEN_KEY_CREATION_ERROR,b));}});},error:function(d){B.error(new S(g.MASTERTOKEN_KEY_CREATION_ERROR,d));}});});},error:function(g){B.error(g);}}):(u=new n(null,I,Y,v),new kb(w,ca,ta,J,z,null,null,null,null,u,B));});},error:function(g){B.error(g);}});});};}());(function(){function n(g,n,r){this.tokendata=g;this.signature=n;this.verified=r;}$b=ma.Class.create({init:function(g,n,u,J,v,D,I,Y,M){var w;w=this;r(M,function(){var x,B,z,V,za,da,ca;if(u.getTime()<n.getTime())throw new ea("Cannot construct a user ID token that expires before its renewal window opens.");if(!J)throw new ea("Cannot construct a user ID token without a master token.");if(0>v||v>Na)throw new ea("Serial number "+v+" is outside the valid range.");x=Math.floor(n.getTime()/1E3);B=Math.floor(u.getTime()/1E3);z=J.serialNumber;if(Y){V=Y.tokendata;za=Y.signature;da=Y.verified;z=J.serialNumber;Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:z,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:D,writable:!1,configurable:!1},customer:{value:I,writable:!1,configurable:!1},verified:{value:da,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:V,writable:!1,enumerable:!1,configurable:!1},signature:{value:za,writable:!1,enumerable:!1,configurable:!1}});return this;}V={};D&&(V.issuerdata=D);V.identity=I;V=Wa(JSON.stringify(V),Ma);ca=g.getMslCryptoContext();ca.encrypt(V,{result:function(n){r(M,function(){var u,Z;u={};u.renewalwindow=x;u.expiration=B;u.mtserialnumber=z;u.serialnumber=v;u.userdata=pa(n);Z=Wa(JSON.stringify(u),Ma);ca.sign(Z,{result:function(n){r(M,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:B,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:J.serialNumber,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:D,writable:!1,configurable:!1},customer:{value:I,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Z,writable:!1,enumerable:!1,configurable:!1},signature:{value:n,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){r(M,function(){g instanceof F&&g.setEntity(J);throw g;},w);}});},w);},error:function(g){r(M,function(){g instanceof F&&g.setEntity(J);throw g;},w);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(g){return g&&g.serialNumber==this.mtSerialNumber;},toJSON:function(){var g;g={};g.tokendata=pa(this.tokendata);g.signature=pa(this.signature);return g;},equals:function(g){return this===g?!0:g instanceof $b?this.serialNumber==g.serialNumber&&this.mtSerialNumber==g.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Tb=function(w,u,B,J){r(J,function(){var v,x,I,Y,M;v=w.getMslCryptoContext();x=u.tokendata;I=u.signature;if("string"!==typeof x||"string"!==typeof I)throw new ia(g.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(u)).setEntity(B);try{Y=va(x);}catch(xa){throw new F(g.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(u),xa).setEntity(B);}if(!Y||0==Y.length)throw new ia(g.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(u)).setEntity(B);try{M=va(I);}catch(xa){throw new F(g.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(u),xa).setEntity(B);}v.verify(Y,M,{result:function(u){r(J,function(){var x,D,z,I,za,da,ca,ta,Ba,Ca;da=Ya(Y,Ma);try{ca=JSON.parse(da);x=parseInt(ca.renewalwindow);D=parseInt(ca.expiration);z=parseInt(ca.mtserialnumber);I=parseInt(ca.serialnumber);za=ca.userdata;}catch(ha){if(ha instanceof SyntaxError)throw new ia(g.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+da,ha).setEntity(B);throw ha;}if(!x||x!=x||!D||D!=D||"number"!==typeof z||z!=z||"number"!==typeof I||I!=I||"string"!==typeof za)throw new ia(g.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+da).setEntity(B);if(D<x)throw new F(g.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+da).setEntity(B);if(0>z||z>Na)throw new F(g.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+da).setEntity(B);if(0>I||I>Na)throw new F(g.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+da).setEntity(B);ta=new Date(1E3*x);Ba=new Date(1E3*D);if(!B||z!=B.serialNumber)throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+z+"; mt "+JSON.stringify(B)).setEntity(B);try{Ca=va(za);}catch(ha){throw new F(g.USERIDTOKEN_USERDATA_INVALID,za,ha).setEntity(B);}if(!Ca||0==Ca.length)throw new F(g.USERIDTOKEN_USERDATA_MISSING,za).setEntity(B);u?v.decrypt(Ca,{result:function(v){r(J,function(){var r,x,D,z,Z;D=Ya(v,Ma);try{z=JSON.parse(D);r=z.issuerdata;x=z.identity;}catch(d){if(d instanceof SyntaxError)throw new ia(g.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+D).setEntity(B);throw d;}if(r&&"object"!==typeof r||"object"!==typeof x)throw new ia(g.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+D).setEntity(B);try{Z=re(x);}catch(d){throw new F(g.USERIDTOKEN_IDENTITY_INVALID,"userdata "+D,d).setEntity(B);}x=new n(Y,M,u);new $b(w,ta,Ba,B,I,r,Z,x,J);});},error:function(g){r(J,function(){g instanceof F&&g.setEntity(B);throw g;});}}):(x=new n(Y,M,u),new $b(w,ta,Ba,B,I,null,null,x,J));});},error:function(g){r(J,function(){g instanceof F&&g.setEntity(B);throw g;});}});});};}());(function(){function n(n,r){var w,v,u;w=n.tokendata;if("string"!==typeof w)throw new ia(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(n));try{v=va(w);}catch(Ba){throw new F(g.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(n),Ba);}if(!v||0==v.length)throw new ia(g.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(n));try{u=JSON.parse(Ya(v,Ma)).name;}catch(Ba){if(Ba instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(n),Ba);throw Ba;}if(!u)throw new ia(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(n));return r[u]?r[u]:r[""];}function w(g,n,r){this.tokendata=g;this.signature=n;this.verified=r;}Kb=ma.Class.create({init:function(g,n,w,v,u,I,Y,M,S,Z){var x;x=this;r(Z,function(){var D,B,J,da,ca;if(v&&u&&!u.isBoundTo(v))throw new ea("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");D=v?v.serialNumber:-1;B=u?u.serialNumber:-1;if(S)return ca=S.tokendata,Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:n,writable:!1,configurable:!1},mtSerialNumber:{value:D,writable:!1,configurable:!1},uitSerialNumber:{value:B,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:Y,writable:!1,configurable:!1},verified:{value:S.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:S.signature,writable:!1,enumerable:!1,configurable:!1}}),this;Y?(J=od(Y,w),J.length<w.length||(Y=null,J=w)):(Y=null,J=w);da={};da.name=n;-1!=D&&(da.mtserialnumber=D);-1!=B&&(da.uitserialnumber=B);da.encrypted=I;Y&&(da.compressionalgo=Y);if(I&&0<J.length)M.encrypt(J,{result:function(z){r(Z,function(){var J;da.servicedata=pa(z);J=Wa(JSON.stringify(da),Ma);M.sign(J,{result:function(v){r(Z,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:n,writable:!1,configurable:!1},mtSerialNumber:{value:D,writable:!1,configurable:!1},uitSerialNumber:{value:B,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:Y,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:J,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},x);},error:function(g){r(Z,function(){g instanceof F&&(g.setEntity(v),g.setUser(u));throw g;});}});},x);},error:function(g){r(Z,function(){g instanceof F&&(g.setEntity(v),g.setUser(u));throw g;});}});else{da.servicedata=pa(J);ca=Wa(JSON.stringify(da),Ma);M.sign(ca,{result:function(v){r(Z,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:n,writable:!1,configurable:!1},mtSerialNumber:{value:D,writable:!1,configurable:!1},uitSerialNumber:{value:B,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:Y,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ca,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},x);},error:function(g){r(Z,function(){g instanceof F&&(g.setEntity(v),g.setUser(u));throw g;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(g){return g?g instanceof kb?g.serialNumber==this.mtSerialNumber:g instanceof $b?g.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var g;g={};g.tokendata=pa(this.tokendata);g.signature=pa(this.signature);return g;},equals:function(g){return this===g?!0:g instanceof Kb?this.name==g.name&&this.mtSerialNumber==g.mtSerialNumber&&this.uitSerialNumber==g.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});Db=function(g,n,r,v,w,u,I,F,M){new Kb(g,n,r,v,w,u,I,F,null,M);};Fc=function(u,B,J,v,D,I){r(I,function(){var x,M,S,Z,qa,z,V,za,da,ca,ta,Ba,ra;!D||D instanceof ac||(D=n(B,D));x=B.tokendata;M=B.signature;if("string"!==typeof x||"string"!==typeof M)throw new ia(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(B)).setEntity(J).setEntity(v);try{S=va(x);}catch(ha){throw new F(g.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(B),ha).setEntity(J).setEntity(v);}if(!S||0==S.length)throw new ia(g.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(B)).setEntity(J).setEntity(v);try{Z=va(M);}catch(ha){throw new F(g.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(B),ha).setEntity(J).setEntity(v);}ta=Ya(S,Ma);try{Ba=JSON.parse(ta);qa=Ba.name;z=Ba.mtserialnumber?parseInt(Ba.mtserialnumber):-1;V=Ba.uitserialnumber?parseInt(Ba.uitserialnumber):-1;za=Ba.encrypted;da=Ba.compressionalgo;ca=Ba.servicedata;}catch(ha){if(ha instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"servicetokendata "+ta,ha).setEntity(J).setEntity(v);throw ha;}if(!qa||"number"!==typeof z||z!=z||"number"!==typeof V||V!=V||"boolean"!==typeof za||da&&"string"!==typeof da||"string"!==typeof ca)throw new ia(g.JSON_PARSE_ERROR,"servicetokendata "+ta).setEntity(J).setEntity(v);if(Ba.mtserialnumber&&0>z||z>Na)throw new F(g.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ta).setEntity(J).setEntity(v);if(Ba.uitserialnumber&&0>V||V>Na)throw new F(g.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ta).setEntity(J).setEntity(v);if(-1!=z&&(!J||z!=J.serialNumber))throw new F(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+z+"; mt "+J).setEntity(J).setEntity(v);if(-1!=V&&(!v||V!=v.serialNumber))throw new F(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+V+"; uit "+v).setEntity(J).setEntity(v);za=!0===za;if(da){if(!Ob[da])throw new F(g.UNIDENTIFIED_COMPRESSION,da);ra=da;}else ra=null;D?D.verify(S,Z,{result:function(n){r(I,function(){var x,B;if(n){try{x=va(ca);}catch(hd){throw new F(g.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ta,hd).setEntity(J).setEntity(v);}if(!x||0!=ca.length&&0==x.length)throw new F(g.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ta).setEntity(J).setEntity(v);if(za&&0<x.length)D.decrypt(x,{result:function(g){r(I,function(){var r,x;r=ra?Gc(ra,g):g;x=new w(S,Z,n);new Kb(u,qa,r,-1!=z?J:null,-1!=V?v:null,za,ra,D,x,I);});},error:function(g){r(I,function(){g instanceof F&&(g.setEntity(J),g.setUser(v));throw g;});}});else{x=ra?Gc(ra,x):x;B=new w(S,Z,n);new Kb(u,qa,x,-1!=z?J:null,-1!=V?v:null,za,ra,D,B,I);}}else x=""==ca?new Uint8Array(0):null,B=new w(S,Z,n),new Kb(u,qa,x,-1!=z?J:null,-1!=V?v:null,za,ra,D,B,I);});},error:function(g){r(I,function(){g instanceof F&&(g.setEntity(J),g.setUser(v));throw g;});}}):(x=""==ca?new Uint8Array(0):null,M=new w(S,Z,!1),new Kb(u,qa,x,-1!=z?J:null,-1!=V?v:null,za,ra,D,M,I));});};}());db={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(db);(function(){Gb=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(g){return this===g?!0:g instanceof Gb?this.scheme==g.scheme:!1;},toJSON:function(){var g;g={};g.scheme=this.scheme;g.authdata=this.getAuthData();return g;}});ge=function(n,w,u,B){r(B,function(){var r,v,x;r=u.scheme;v=u.authdata;if(!r||!v)throw new ia(g.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(u));if(!db[r])throw new Da(g.UNIDENTIFIED_USERAUTH_SCHEME,r);x=n.getUserAuthenticationFactory(r);if(!x)throw new Da(g.USERAUTH_FACTORY_NOT_FOUND,r);x.createData(n,w,v,B);});};}());lc=ma.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createData:function(g,n,r,u){},authenticate:function(g,n,r,u){}});(function(){Wb=Gb.extend({init:function w(g,n){w.base.call(this,db.NETFLIXID);Object.defineProperties(this,{netflixId:{value:g,writable:!1,configurable:!1},secureNetflixId:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.netflixid=this.netflixId;this.secureNetflixId&&(g.securenetflixid=this.secureNetflixId);return g;},equals:function x(g){return this===g?!0:g instanceof Wb?x.base.call(this,g)&&this.netflixId==g.netflixId&&this.secureNetflixId==g.secureNetflixId:!1;}});se=function(n){var r,u;r=n.netflixid;u=n.securenetflixid;if(!r)throw new ia(g.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(n));return new Wb(r,u);};}());Xe=lc.extend({init:function w(){w.base.call(this,db.NETFLIXID);},createData:function(g,n,u,J){r(J,function(){return se(u);});},authenticate:function(n,r,u,J){if(!(u instanceof Wb))throw new ea("Incorrect authentication data type "+u+".");n=u.secureNetflixId;if(!u.netflixId||!n)throw new Da(g.NETFLIXID_COOKIES_BLANK).setUser(u);throw new Da(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(u);}});(function(){mc=Gb.extend({init:function x(g,n){x.base.call(this,db.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:g,writable:!1,configurable:!1},password:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.email=this.email;g.password=this.password;return g;},equals:function B(g){return this===g?!0:g instanceof mc?B.base.call(this,this,g)&&this.email==g.email&&this.password==g.password:!1;}});te=function(n){var r,v;r=n.email;v=n.password;if(!r||!v)throw new ia(g.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(n));return new mc(r,v);};}());Ye=lc.extend({init:function x(){x.base.call(this,db.EMAIL_PASSWORD);},createData:function(g,n,u,v){r(v,function(){return te(u);});},authenticate:function(n,r,u,v){if(!(u instanceof mc))throw new ea("Incorrect authentication data type "+u+".");n=u.password;if(!u.email||!n)throw new Da(g.EMAILPASSWORD_BLANK).setUser(u);throw new Da(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(u);}});(function(){var v,D,M,Y,Ca,xa,Z,qa;function n(g,n){return"<"+g+">"+n+"</"+g+">";}function u(g){return g.replace(/[<>&"']/g,function(g){return Ca[g];});}function J(g){return encodeURIComponent(g).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}v=Jc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};D=ma.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});M=qd=D.extend({init:function(n,v,u,x,D,B,J){var Z;function z(x){r(J,function(){var r,z;try{z={};z.useridtoken=n;z.action=v;z.nonce=u;z.pin=pa(x);r=Wa(JSON.stringify(z),Ma);}catch(Jb){throw new ia(g.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Jb);}D.sign(r,{result:function(g){F(r,g);},error:J.error});},Z);}function F(g,D){r(J,function(){Object.defineProperties(this,{_userIdToken:{value:n,writable:!1,enumerable:!1,configurable:!1},_action:{value:v,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:u,writable:!1,enumerable:!1,configurable:!1},_pin:{value:x,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:g,writable:!1,enumerable:!1,configurable:!1},_signature:{value:D,writable:!1,enumerable:!1,configurable:!1}});return this;},Z);}Z=this;r(J,function(){B?F(B.encoding,B.signature):D.encrypt(Wa(x,Ma),{result:function(g){z(g);},error:J.error});},Z);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this===g?!0:g instanceof M?this._action==g._action&&this._nonce==g._nonce&&this._pin==g._pin&&this._userIdToken.equals(g._userIdToken):!1;}});qd.ACTION="userauth";Y=function(n,v,u,x,D){function B(x){r(D,function(){var B,J,Z,Y,M,V;B=Ya(u,Ma);try{V=JSON.parse(B);J=V.useridtoken;Z=V.action;Y=V.nonce;M=V.pin;}catch(d){if(d instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"MDX authdata "+B,d);throw d;}if(!(J&&"object"===typeof J&&Z&&"string"===typeof Z&&Y&&"number"===typeof Y&&M)||"string"!==typeof M)throw new ia(g.JSON_PARSE_ERROR,"MDX authdata "+B);Tb(n,J,v,{result:function(d){r(D,function(){if(!d.isDecrypted())throw new Da(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+B);z(x,d,Z,Y,M);});},error:function(d){r(D,function(){if(d instanceof F)throw new Da(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+B,d);throw d;});}});});}function z(g,n,v,B,z){r(D,function(){var J;J=va(z);g.decrypt(J,{result:function(g){r(D,function(){var d;d=Ya(g,Ma);new M(n,v,B,d,null,{encoding:u,signature:x},D);});},error:D.error});});}r(D,function(){var z,J;try{J=n.getMslStore().getCryptoContext(v);z=J?J:new lb(n,v);}catch(wb){if(wb instanceof Qb)throw new Da(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+pa(u));throw wb;}z.verify(u,x,{result:function(n){r(D,function(){if(!n)throw new S(g.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+pa(u));B(z);});},error:D.error});});};Ca={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};xa=nc=D.extend({init:function(g,r,v,x){var D,B;D=n("action",u(g));B=n("nonce",r.toString());v=n("pin",v);D=n("registerdata",D+B+v);D=Wa(D,"utf-8");Object.defineProperties(this,{_action:{value:g,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:r,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:D,writable:!1,enumerable:!1,configurable:!1},_signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this===g?!0:g instanceof xa?this._action==g._action&&this._nonce==g._nonce&&this._pin==g._pin:!1;}});nc.ACTION="regpairrequest";Z=rd=D.extend({init:function(g,v,x,D,B,F){var Y;function z(x){r(F,function(){var r,B,z,Y,d;r=pa(x);B=n("action",u(g));z=n("nonce",v.toString());Y=n("pin",r);B=n("registerdata",B+z+Y);d=Wa(B,"utf-8");r="action="+J(g)+"&nonce="+J(v.toString())+"&pin="+J(r);D.sign(Wa(r,"utf-8"),{result:function(b){Z(d,b);},error:F.error});},Y);}function Z(n,u){r(F,function(){Object.defineProperties(this,{_action:{value:g,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:v,writable:!1,enumerable:!1,configurable:!1},_pin:{value:x,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:n,writable:!1,enumerable:!1,configurable:!1},_signature:{value:u,writable:!1,enumerable:!1,configurable:!1}});return this;},Y);}Y=this;r(F,function(){B?Z(B.encoding,B.signature):D.encrypt(Wa(x,"utf-8"),{result:function(g){z(g);},error:F.error});},Y);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this===g?!0:g instanceof Z?this._action==g._action&&this._nonce==g._nonce&&this._pin==g._pin:!1;}});rd.ACTION=nc.ACTION;qa=function(n,v,u,x,D){r(D,function(){var B,z,F,Y,M,V,da;B=n.getMslStore().getCryptoContext(v);z=B?B:new lb(n,v);B=Ya(u,"utf-8");F=new DOMParser().parseFromString(B,"application/xml");B=F.getElementsByTagName("action");Y=F.getElementsByTagName("nonce");F=F.getElementsByTagName("pin");M=B&&1==B.length&&B[0].firstChild?B[0].firstChild.nodeValue:null;V=Y&&1==Y.length&&Y[0].firstChild?parseInt(Y[0].firstChild.nodeValue):null;da=F&&1==F.length&&F[0].firstChild?F[0].firstChild.nodeValue:null;if(!M||!V||!da)throw new ia(g.XML_PARSE_ERROR,"MDX authdata "+pa(u));B="action="+J(M)+"&nonce="+J(V.toString())+"&pin="+J(da);z.verify(Wa(B,"utf-8"),x,{result:function(n){r(D,function(){var v;if(!n)throw new S(g.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+pa(u));v=va(da);z.decrypt(v,{result:function(d){r(D,function(){var b;b=Ya(d,"utf-8");new Z(M,V,b,null,{encoding:u,signature:x},D);});},error:D.error});});},error:D.error});});};dc=Gb.extend({init:function V(g,n,r,u,x,D){var B,J,F,Z,Y,da;V.base.call(this,db.MDX);B=null;J=null;F=null;if("string"===typeof r)g=v.MSL_LEGACY,F=r;else if(r instanceof Uint8Array)g=v.NTBA,J=r;else if(r instanceof kb)g=v.MSL,B=r;else throw new TypeError("Controller token "+r+" is not a master token, encrypted CTicket, or MSL token construct.");Z=r=null;Y=null;if(D){da=D.controllerAuthData;r=da.getAction();Z=da.getPin();D=D.userIdToken;da instanceof M?Y=da.getUserIdToken().customer:D&&(Y=D.customer);}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},action:{value:r,writable:!1,configurable:!1},targetPin:{value:n,writable:!1,configurable:!1},controllerPin:{value:Z,writable:!1,configurable:!1},customer:{value:Y,writable:!1,configurable:!1},_masterToken:{value:B,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:J,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:F,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:u,writable:!1,enumerable:!1,configurable:!1},_signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var g,n;g={};switch(this.mechanism){case v.MSL:n=JSON.parse(JSON.stringify(this._masterToken));g.mastertoken=n;break;case v.NTBA:n=Ya(this._encryptedCTicket,"utf-8");g.cticket=n;break;case v.MSL_LEGACY:g.cticket=this._mslTokens;break;default:throw new ea("Unsupported MDX mechanism.");}g.pin=this.targetPin;g.mdxauthdata=pa(this._controllerEncoding);g.signature=pa(this._signature);return g;},equals:function za(g){return this===g?!0:g instanceof dc?za.base.call(this,g)&&(this._masterToken==g._masterToken||this._masterToken&&this._masterToken.equals(g._masterToken))&&(this._encryptedCTicket==g._encryptedCTicket||this._encryptedCTicket&&ab(this._encryptedCTicket,g._encryptedCTicket))&&this._mslTokens==g._mslTokens&&ab(this._controllerEncoding,g._controllerEncoding)&&ab(this._signature,g._signature):!1;}});ue=function(n,v,u){function x(x,D,B,J){Sb(n,D,{result:function(D){r(u,function(){if(!D.isDecrypted())throw new Da(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());Y(n,D,B,J,{result:function(g){r(u,function(){var d,b;d=g.getEncoding();b=g.getSignature();return new dc(n,x,D,d,b,{controllerAuthData:g,userIdToken:null});});},error:u.error});});},error:function(n){r(u,function(){if(n instanceof F)throw new Da(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),n);throw n;});}});}function D(n,v,x,D){r(u,function(){throw new Da(g.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function B(x,D,B,J){function Z(d,b){r(b,function(){var a,c;try{a=va(d);}catch(k){throw new Da(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),k);}if(!a||0==a.length)throw new Da(g.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{c=JSON.parse(Ya(a,"utf-8"));Sb(n,c,{result:function(a){r(b,function(){if(!a.isDecrypted())throw new Da(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());return a;});},error:function(a){r(b,function(){if(a instanceof F)throw new Da(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),a);throw a;});}});}catch(k){if(k instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),k);throw k;}});}function Y(d,b,a){r(a,function(){var c,k;try{c=va(d);}catch(m){throw new Da(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),m);}if(!c||0==c.length)throw new Da(g.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{k=JSON.parse(Ya(c,"utf-8"));Tb(n,k,b,{result:function(b){r(a,function(){if(!b.isDecrypted())throw new Da(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v));return b;});},error:function(b){r(a,function(){if(b instanceof F)throw new Da(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),b);throw b;});}});}catch(m){if(m instanceof SyntaxError)throw new ia(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),m);throw m;}});}r(u,function(){var d;d=D.split(",");if(3!=d.length||"1"!=d[0])throw new Da(g.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));Z(d[1],{result:function(b){Y(d[2],b,{result:function(a){qa(n,b,B,J,{result:function(b){r(u,function(){return new dc(n,x,D,B,J,{controllerAuthData:b,userIdToken:a});});},error:function(a){r(u,function(){if(a instanceof Qb)throw new Da(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v),a);throw a;});}});},error:u.error});},error:u.error});});}r(u,function(){var n,r,u,J,F;n=v.pin;r=v.mdxauthdata;u=v.signature;if(!n||"string"!==typeof n||!r||"string"!==typeof r||!u||"string"!==typeof u)throw new ia(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));try{J=va(r);F=va(u);}catch(Jb){throw new Da(g.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(v),Jb);}if(v.mastertoken){r=v.mastertoken;if(!r||"object"!==typeof r)throw new ia(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));x(n,r,J,F);}else if(v.cticket){r=v.cticket;if(!r||"string"!==typeof r)throw new ia(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));-1==r.indexOf(",")?D(n,r,J,F):B(n,r,J,F);}else throw new Da(g.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));});};}());(function(){var n,r,u;n=qd.ACTION;r=nc.ACTION;u=rd.ACTION;ve=lc.extend({init:function D(){D.base.call(this,db.MDX);},createData:function(g,n,r,u){ue(g,r,u);},authenticate:function(x,B,J,F){if(!(J instanceof dc))throw new ea("Incorrect authentication data type "+J.getClass().getName()+".");x=J.action;switch(J.mechanism){case Jc.MSL:if(n!=x)throw new Da(g.MDX_USERAUTH_ACTION_INVALID).setUser(J);break;case Jc.NTBA:if(r!=x)throw new Da(g.MDX_USERAUTH_ACTION_INVALID).setUser(J);break;case Jc.MSL_LEGACY:if(u!=x)throw new Da(g.MDX_USERAUTH_ACTION_INVALID).setUser(J);}x=J.controllerPin;B=J.targetPin;if(!x||!B)throw new Da(g.MDX_PIN_BLANK).setUser(J);if(x!=B)throw new Da(g.MDX_PIN_MISMATCH).setUser(J);x=J.customer;if(!x)throw new Da(g.MDX_USER_UNKNOWN).setUser(J);if(F&&(F=F.customer,!x.equals(F)))throw new Da(g.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+x+"; uit customer "+F).setUser(J);return x;}});}());(function(){var n,r,u;n={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};r=xe=ma.Class.create({init:function(g,n){Object.defineProperties(this,{email:{value:g,writable:!1,enumerable:!0,configurable:!1},password:{value:n,writable:!1,enumerable:!0,configurable:!1}});}});u=ye=ma.Class.create({init:function(g,n){Object.defineProperties(this,{netflixId:{value:g,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:n,writable:!1,enumerable:!0,configurable:!1}});}});oc=Gb.extend({init:function D(g,n,x,B){var J,F,z,Y;D.base.call(this,db.SSO);J=null;F=null;z=null;Y=null;x instanceof r?(J=x.email,F=x.password):x instanceof u&&(z=x.netflixId,Y=x.secureNetflixId);Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},token:{value:n,writable:!1,configurable:!1},email:{value:J,writable:!1,configurable:!1},password:{value:F,writable:!1,configurable:!1},netflixId:{value:z,writable:!1,configurable:!1},secureNetflixId:{value:Y,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof B?null:B,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.mechanism=this.mechanism;g.token=pa(this.token);this.email&&this.password?(g.email=this.email,g.password=this.password):this.netflixId&&this.secureNetflixId&&(g.netflixid=this.netflixId,g.securenetflixid=this.secureNetflixId);this.profileGuid&&(g.profileguid=this.profileGuid);return g;},equals:function Ba(g){return this===g?!0:g instanceof oc?Ba.base.call(this,g)&&this.mechanism==g.mechanism&&ab(this.token,g.token)&&this.email==g.email&&this.password==g.password&&this.netflixId==g.netflixId&&this.secureNetflixId==g.secureNetflixId&&this.profileGuid==g.profileGuid:!1;}});we=function(x){var B,J,F,Z,M,z,V,S,da;B=x.mechanism;J=x.token;if(!B||!J||"string"!==typeof J)throw new ia(g.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(x));if(!n[B])throw new Da(g.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(x));F=x.email;Z=x.password;M=x.netflixid;z=x.securenetflixid;V=x.profileguid;if(F&&!Z||!F&&Z||M&&!z||!M&&z||F&&M)throw new ia(g.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(x));try{S=va(J);}catch(ca){throw new Da(g.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(x),ca);}F&&Z?da=new r(F,Z):M&&z&&(da=new u(M,z));return new oc(B,S,da,V);};}());Ze=lc.extend({init:function B(){B.base.call(this,db.SSO);},createData:function(g,n,v,u){r(u,function(){return we(v);});},authenticate:function(n,r,v,u){var D,B;if(!(v instanceof oc))throw new ea("Incorrect authentication data type "+v+".");n=v.token;r=v.email;u=v.password;D=v.netflixId;B=v.secureNetflixId;if(!n||0==n.length)throw new Da(g.SSOTOKEN_BLANK);if(!(null===r&&null===u||r&&u))throw new Da(g.EMAILPASSWORD_BLANK);if(!(null===D&&null===B||D&&B))throw new Da(g.NETFLIXID_COOKIES_BLANK).setUser(v);throw new Da(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(v);}});(function(){pc=Gb.extend({init:function J(g,n){J.base.call(this,db.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:g,writable:!1,configurable:!1},profileGuid:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));g.profileguid=this.profileGuid;return g;},equals:function v(g){return this==g?!0:g instanceof pc?v.base.call(this,g)&&this.userIdToken.equals(g.userIdToken)&&this.profileGuid==g.profileGuid:!1;}});ze=function(n,u,F,M){r(M,function(){var v,D;if(!u)throw new Da(g.USERAUTH_MASTERTOKEN_MISSING);v=F.useridtoken;D=F.profileguid;if("object"!==typeof v||"string"!==typeof D)throw new ia(g.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(F));Tb(n,v,u,{result:function(n){r(M,function(){if(!n.isDecrypted())throw new Da(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(F));return new pc(n,D);});},error:function(n){M.error(new Da(g.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(F),n));}});});};}());$e=lc.extend({init:function J(g){J.base.call(this,db.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,n,r,u){ze(g,n,r,u);},authenticate:function(n,r,u,F){if(!(u instanceof pc))throw new ea("Incorrect authentication data type "+u+".");r=u.userIdToken;n=u.profileGuid;if(!n)throw new Da(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(u);r=r.user;if(!r)throw new Da(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(u);n=this._store.switchUsers(r,n);if(!n)throw new Da(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(u);if(F&&(F=F.user,!n.equals(F)))throw new Da(g.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+n+"; uit user "+F).setUserAuthenticationData(u);return n;}});Object.freeze({ENTITY_REAUTH:n.ENTITY_REAUTH,ENTITYDATA_REAUTH:n.ENTITYDATA_REAUTH});af=ma.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(g,n){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(g){},getUserAuthenticationFactory:function(g){},getTokenFactory:function(){},getKeyExchangeFactory:function(g){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Ae=ma.Class.create({setCryptoContext:function(g,n){},getMasterToken:function(){},getNonReplayableId:function(g){},getCryptoContext:function(g){},removeCryptoContext:function(g){},clearCryptoContexts:function(){},addUserIdToken:function(g,n){},getUserIdToken:function(g){},removeUserIdToken:function(g){},clearUserIdTokens:function(){},addServiceTokens:function(g){},getServiceTokens:function(g,n){},removeServiceTokens:function(g,n,r){},clearServiceTokens:function(){}});(function(){var n;n=Ob;od=function(r,u){var v;v={};switch(r){case n.LZW:return Cd(u,v);case n.GZIP:return gzip$compress(u);default:throw new F(g.UNSUPPORTED_COMPRESSION,r);}};Gc=function(r,u,J){switch(r){case n.LZW:return Dd(u);case n.GZIP:return gzip$uncompress(u);default:throw new F(g.UNSUPPORTED_COMPRESSION,r.name());}};}());Ae.extend({setCryptoContext:function(g,n){},getMasterToken:function(){return null;},getNonReplayableId:function(g){return 1;},getCryptoContext:function(g){return null;},removeCryptoContext:function(g){},clearCryptoContexts:function(){},addUserIdToken:function(g,n){},getUserIdToken:function(g){return null;},removeUserIdToken:function(g){},clearUserIdTokens:function(){},addServiceTokens:function(g){},getServiceTokens:function(n,r){if(r){if(!n)throw new F(g.USERIDTOKEN_MASTERTOKEN_NULL);if(!r.isBoundTo(n))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.mtSerialNumber+"; mt "+n.serialNumber);}return[];},removeServiceTokens:function(n,r,u){if(u&&r&&!u.isBoundTo(r))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+u.masterTokenSerialNumber+"; mt "+r.serialNumber);},clearServiceTokens:function(){}});(function(){Be=Ae.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(g,n){var r;if(n){r=g.uniqueKey();this.masterTokens[r]=g;this.cryptoContexts[r]=n;}else this.removeCryptoContext(g);},getMasterToken:function(){var g,n,r;g=null;for(n in this.masterTokens){r=this.masterTokens[n];if(!g||r.isNewerThan(g))g=r;}return g;},getNonReplayableId:function(g){var n;g=g.serialNumber;n=this.nonReplayableIds[g]!==ja?this.nonReplayableIds[g]:0;if(0>n||n>Na)throw new ea("Non-replayable ID "+n+" is outside the valid range.");n=n==Na?0:n+1;return this.nonReplayableIds[g]=n;},getCryptoContext:function(g){return this.cryptoContexts[g.uniqueKey()];},removeCryptoContext:function(g){var n,r;n=g.uniqueKey();if(this.masterTokens[n]){delete this.masterTokens[n];delete this.cryptoContexts[n];n=g.serialNumber;for(r in this.masterTokens)if(this.masterTokens[r].serialNumber==n)return;delete this.nonReplayableIds[n];Object.keys(this.userIdTokens).forEach(function(n){n=this.userIdTokens[n];n.isBoundTo(g)&&this.removeUserIdToken(n);},this);try{this.removeServiceTokens(null,g,null);}catch(Y){if(Y instanceof F)throw new ea("Unexpected exception while removing master token bound service tokens.",Y);throw Y;}}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(g){for(var n in g)delete g[n];},this);},addUserIdToken:function(n,r){var u,v;u=!1;for(v in this.masterTokens)if(r.isBoundTo(this.masterTokens[v])){u=!0;break;}if(!u)throw new F(g.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+r.mtSerialNumber);this.userIdTokens[n]=r;},getUserIdToken:function(g){return this.userIdTokens[g];},removeUserIdToken:function(g){var n,r,u;n=null;for(r in this.masterTokens){u=this.masterTokens[r];if(g.isBoundTo(u)){n=u;break;}}Object.keys(this.userIdTokens).forEach(function(r){if(this.userIdTokens[r].equals(g)){delete this.userIdTokens[r];try{this.removeServiceTokens(null,n,g);}catch(xa){if(xa instanceof F)throw new ea("Unexpected exception while removing user ID token bound service tokens.",xa);throw xa;}}},this);},clearUserIdTokens:function(){var n;for(var g in this.userIdTokens){n=this.userIdTokens[g];try{this.removeServiceTokens(null,null,n);}catch(Ba){if(Ba instanceof F)throw new ea("Unexpected exception while removing user ID token bound service tokens.",Ba);throw Ba;}delete this.userIdTokens[g];}},addServiceTokens:function(n){n.forEach(function(n){var r,u,v;if(n.isUnbound())this.unboundServiceTokens[n.uniqueKey()]=n;else{if(n.isMasterTokenBound()){r=!1;for(u in this.masterTokens)if(n.isBoundTo(this.masterTokens[u])){r=!0;break;}if(!r)throw new F(g.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+n.mtSerialNumber);}if(n.isUserIdTokenBound()){r=!1;for(v in this.userIdTokens)if(n.isBoundTo(this.userIdTokens[v])){r=!0;break;}if(!r)throw new F(g.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+n.uitSerialNumber);}n.isMasterTokenBound()&&((v=this.mtServiceTokens[n.mtSerialNumber])||(v={}),v[n.uniqueKey()]=n,this.mtServiceTokens[n.mtSerialNumber]=v);n.isUserIdTokenBound()&&((v=this.uitServiceTokens[n.uitSerialNumber])||(v={}),v[n.uniqueKey()]=n,this.uitServiceTokens[n.uitSerialNumber]=v);}},this);},getServiceTokens:function(n,r){var u,v,D,M;if(r){if(!n)throw new F(g.USERIDTOKEN_MASTERTOKEN_NULL);if(!r.isBoundTo(n))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.mtSerialNumber+"; mt "+n.serialNumber);}u={};for(v in this.unboundServiceTokens){D=this.unboundServiceTokens[v];u[D.uniqueKey()]=D;}if(n&&(D=this.mtServiceTokens[n.serialNumber]))for(v in D){M=D[v];M.isUserIdTokenBound()||(u[v]=M);}if(r&&(D=this.uitServiceTokens[r.serialNumber]))for(v in D)M=D[v],M.isBoundTo(n)&&(u[v]=M);D=[];for(v in u)D.push(u[v]);return D;},removeServiceTokens:function(n,r,u){var D,M,qa;if(u&&r&&!u.isBoundTo(r))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+u.mtSerialNumber+"; mt "+r.serialNumber);if(n&&!r&&!u){Object.keys(this.unboundServiceTokens).forEach(function(g){this.unboundServiceTokens[g].name==n&&delete this.unboundServiceTokens[g];},this);for(var v in this.mtServiceTokens){D=this.mtServiceTokens[v];M=Object.keys(D);M.forEach(function(g){D[g].name==n&&delete D[g];},this);this.mtServiceTokens[v]=D;}for(var Z in this.uitServiceTokens)D=this.uitServiceTokens[Z],v=Object.keys(D),v.forEach(function(g){D[g].name==n&&delete D[g];},this),this.uitServiceTokens[Z]=D;}if(r&&!u){if(D=this.mtServiceTokens[r.serialNumber])M=Object.keys(D),M.forEach(function(g){var r;r=D[g];n&&r.name!=n||delete D[g];},this),this.mtServiceTokens[r.serialNumber]=D;for(Z in this.uitServiceTokens){qa=this.uitServiceTokens[Z];v=Object.keys(qa);v.forEach(function(g){var u;u=qa[g];n&&u.name!=n||u.isBoundTo(r)&&delete qa[g];},this);this.uitServiceTokens[Z]=qa;}}u&&(D=this.uitServiceTokens[u.serialNumber])&&(v=Object.keys(D),v.forEach(function(g){var u;u=D[g];n&&u.name!=n||r&&!u.isBoundTo(r)||delete D[g];},this),this.uitServiceTokens[u.serialNumber]=D);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(g){for(var n in g)delete g[n];},this);}});}());Ke=Ue.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(g,n){var r;if(n&&g&&g.length){r=pa(g);this._contextMap[r]=n;}},getCryptoContext:function(g){return g&&g.length?(g=pa(g),this._contextMap[g]||null):null;},removeCryptoContext:function(g){g&&g.length&&(g=pa(g),delete this._contextMap[g]);}});Ce=Ne.extend({init:function D(g,n,r,u){D.base.call(this,g);Object.defineProperties(this,{_kde:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:r,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:u,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(n,r){if(!(r instanceof pb))throw new ea("Incorrect authentication data type "+JSON.stringify(r)+".");if(r.identity!=this.localIdentity)throw new xb(g.ENTITY_NOT_FOUND,"mgk "+r.identity);return new zc(n,this.localIdentity,this._kde,this._kdh,this._kdw);}});bf=Nd.extend({init:function Ba(g,n,r,u){Ba.base.call(this,g);Object.defineProperties(this,{_kpe:{value:n,writable:!1,enumerable:!1,configurable:!1},_kph:{value:r,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:u,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(n,r){if(!(r instanceof ub))throw new ea("Incorrect authentication data type "+JSON.stringify(r)+".");if(r.identity!=this.localIdentity)throw new xb(g.ENTITY_NOT_FOUND,"psk "+r.identity);return new zc(n,this.localIdentity,this._kpe,this._kph,this._kpw);}});df=Be.extend({init:function Y(g,n,r,u,z,F){Y.base.call(this);this._log=g;this._esn=n;this._keyRequestData=r;this._createKeyRequestData=u;this._systemKeyName=z;this._systemKeyWrapFormat=F;},setCryptoContext:function Ca(g,n,r){var u;u=this;u._log.trace("Adding MasterToken",{SequenceNumber:g.sequenceNumber,SerialNumber:g.serialNumber,Expiration:g.expiration.getTime()});Ca.base.call(this,g,n);!r&&(g=u._createKeyRequestData)&&(u._log.trace("Generating new keyx request data"),g().then(function(g){u._keyRequestData=g;},function(g){u._log.error("Unable to generate new keyx request data",""+g);}));},addUserIdToken:function xa(g,n){this._log.trace("Adding UserIdToken",{UserId:g,SerialNumber:n.serialNumber,MTSerialNumber:n.mtSerialNumber,Expiration:n.expiration.getTime()});xa.base.call(this,g,n);},addServiceTokens:function Z(g){Z.base.call(this,g.filter(function(g){return!cf[g.name];}));},getUserIdTokenKeys:function(){var g,n;g=[];for(n in this.userIdTokens)g.push(n);return g;},rekeyUserIdToken:function(g,n){this.userIdTokens[g]&&(this.userIdTokens[n]=this.userIdTokens[g],delete this.userIdTokens[g]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(g){var n;n=this;r(g,function(){var u;u=n.getMasterToken();u?n.getKeysForStore(u,{result:function(z){r(g,function(){var g,r,F;g=n.userIdTokens;r=Object.keys(g).map(function(r){var z;z=g[r];return{userId:r,userIdTokenJSON:g[r].toJSON(),serviceTokenJSONList:n.getServiceTokens(u,z).map(He)};});z.esn=n._esn;z.masterTokenJSON=u.toJSON();z.userList=r;F=n._keyRequestData.storeData;F&&Object.keys(F).forEach(function(g){z[g]=F[g];});return z;});},timeout:g.timeout,error:g.error}):g.result(null);});},getKeysForStore:function(n,u){var z;z=this;r(u,function(){var r;r=z.getCryptoContext(n);r={encryptionKey:r.encryptionKey,hmacKey:r.hmacKey};if(r.encryptionKey&&r.hmacKey)if(z._systemKeyWrapFormat)z.wrapKeysWithSystemKey(r,u);else return r;else throw new F(g.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(n,u){var z;z=this;wd(this._systemKeyName,{result:function(M){r(u,function(){var r,Z,V,S;r=n.encryptionKey;Z=n.hmacKey;V=r[ec];S=Z[ec];if(V&&S)return{wrappedEncryptionKey:V,wrappedHmacKey:S};Promise.resolve().then(function(){return Promise.all([Ka.wrapKey(z._systemKeyWrapFormat,r,M,M.algorithm),Ka.wrapKey(z._systemKeyWrapFormat,Z,M,M.algorithm)]);}).then(function(g){V=pa(g[0]);r[ec]=V;S=pa(g[1]);Z[ec]=S;u.result({wrappedEncryptionKey:V,wrappedHmacKey:S});})["catch"](function(n){u.error(new F(g.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",n));});});},timeout:u.timeout,error:u.error});},unwrapKeysWithSystemKey:function(n,u){var z;z=this;wd(this._systemKeyName,{result:function(M){r(u,function(){var r,Z;r=va(n.wrappedEncryptionKey);Z=va(n.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ka.unwrapKey(z._systemKeyWrapFormat,r,M,M.algorithm,sb,!1,Hb),Ka.unwrapKey(z._systemKeyWrapFormat,Z,M,M.algorithm,tb,!1,Rb)]);}).then(function(g){var r;r=g[0];g=g[1];r[ec]=n.wrappedEncryptionKey;g[ec]=n.wrappedHmacKey;u.result({encryptionKey:r,hmacKey:g});})["catch"](function(n){u.error(new F(g.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",n));});});},timeout:u.timeout,error:u.error});},loadStoreState:function(g,n,r,u){var M,Z;function z(g,u){var z;try{z=r.userList.slice();}catch(wb){}z?function Fb(){var r;r=z.shift();r?Tb(n,r.userIdTokenJSON,g,{result:function(n){try{M.addUserIdToken(r.userId,n);F(g,n,r.serviceTokenJSONList,{result:Fb,timeout:Fb,error:Fb});}catch(Jb){Fb();}},timeout:Fb,error:Fb}):u.result();}():u.result();}function F(g,r,u,z){var F,Z;try{F=u.slice();}catch(na){}if(F){Z=M.getCryptoContext(g);(function Jb(){var d;d=F.shift();d?Fc(n,d,g,r,Z,{result:function(b){M.addServiceTokens([b]);Jb();},timeout:function(){Jb();},error:function(){Jb();}}):z.result();}());}else z.result();}M=this;Z=M._log;r.esn!=M._esn?(Z.error("Esn mismatch, starting fresh"),u.error()):function(u){var V,da,S,ca;function z(){var r;if(!V&&da&&S&&ca){V=!0;r=new lb(n,da,g.esn,{rawKey:S},{rawKey:ca});M.setCryptoContext(da,r,!0);u.result(da);}}function F(g,d){Z.error(g,d&&""+d);V||(V=!0,u.error());}r.masterTokenJSON?(Sb(n,r.masterTokenJSON,{result:function(g){da=g;z();},timeout:function(){F("Timeout parsing MasterToken");},error:function(g){F("Error parsing MasterToken",g);}}),M._systemKeyWrapFormat?M.unwrapKeysWithSystemKey(r,{result:function(g){S=g.encryptionKey;ca=g.hmacKey;z();},timeout:function(){F("Timeout unwrapping keys");},error:function(g){F("Error unwrapping keys",g);}}):Promise.resolve().then(function(){return Ka.encrypt({name:sb.name,iv:new Uint8Array(16)},r.encryptionKey,new Uint8Array(1));}).then(function(g){S=r.encryptionKey;})["catch"](function(g){F("Error loading encryptionKey");}).then(function(){return Ka.sign(tb,r.hmacKey,new Uint8Array(1));}).then(function(g){ca=r.hmacKey;z();})["catch"](function(g){F("Error loading hmacKey");})):F("Persisted store is corrupt");}({result:function(g){z(g,u);},timeout:u.timeout,error:u.error});}});cf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};ec="$netflix$msl$wrapsys";ef=af.extend({init:function(g,n,r,u,F,M){var z,Z;z=new jc([Ob.LZW]);Z=new Pe();Z.addPublicKey(n,r);u[Ra.RSA]=new Oe(Z);n={};n[db.EMAIL_PASSWORD]=new Ye();n[db.NETFLIXID]=new Xe();n[db.MDX]=new ve();n[db.SSO]=new Ze();n[db.SWITCH_PROFILE]=new $e();g={_mslCryptoContext:{value:new Me(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:z,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:F,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:u,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:n,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:M,writable:!1,enumerable:!1,configurable:!1},_store:{value:g,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},getTime:function(){return Date.now();},getRandom:function(){return new Hd();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(g,n){n.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(g){return this._entityAuthFactories[g];},getUserAuthenticationFactory:function(g){return this._userAuthFactories[g];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(g){return this._keyExchangeFactories.filter(function(n){return n.scheme==g;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});yd=pe.extend({init:function(g,n,r,u){this._log=g;this._mslContext=n;this._mslRequest=r;this._keyRequestData=u;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(g,n,u,F){var z,M;z=this._mslRequest;M=this._mslContext;r(F,function(){var n,r;if(g||!z.shouldSendUserAuthData)return null;if(z.token){z.email?n=new xe(z.email,z.password):z.netflixId&&(n=new ye(z.netflixId,z.secureNetflixId));r="undefined"===typeof z.profileGuid?null:z.profileGuid;return new oc(z.mechanism,Wa(z.token),n,r);}return z.email?new mc(z.email,z.password):z.netflixId?new Wb(z.netflixId,z.secureNetflixId):z.mdxControllerToken?(n=new nc("regpairrequest",z.mdxNonce,z.mdxEncryptedPinB64,z.mdxSignature).getEncoding(),new dc(M,z.mdxPin,z.mdxControllerToken,n,z.mdxSignature)):z.useNetflixUserAuthData?new Wb():z.profileGuid?(n=z.userId,n=M.getMslStore().userIdTokens[n],new pc(n,z.profileGuid)):u&&z.sendUserAuthIfRequired?new Wb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(g){g.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(g,n,r){var u,z,F,M,Z,S;u=this._log;z=(this._mslRequest.serviceTokens||[]).slice();F=this._mslContext;n=F.getMslStore();M=g.builder.getMasterToken();Z=this.getUserId();S=n.getUserIdToken(Z);(function ha(){var n;n=z.shift();if(n)try{n instanceof Kb?(g.addPrimaryServiceToken(n),ha()):Fc(F,n,M,S,null,{result:function(n){try{g.addPrimaryServiceToken(n);}catch(hd){u.warn("Exception adding service token",""+hd);}ha();},timeout:function(){u.warn("Timeout parsing service token");ha();},error:function(g){u.warn("Error parsing service token",""+g);ha();}});}catch(Fb){u.warn("Exception processing service token",""+Fb);ha();}else r.result(!0);}());},write:function(g,n,r){var u;u=Wa(this._mslRequest.body);g.write(u,0,u.length,n,{result:function(z){z!=u.length?r.error(new Za("Not all data was written to output.")):g.flush(n,{result:function(){r.result(!0);},timeout:function(){r.timeout();},error:function(g){r.error(g);}});},timeout:function(){r.timeout();},error:function(g){r.error(g);}});},getDebugContext:function(){this._dc||(this._dc=new ff(this._log,this._mslRequest));return this._dc;}});ff=We.extend({init:function(g,n){this._log=g;this._mslRequest=n;},sentHeader:function(g){this._log.trace("Sent MSL header",xd(this._mslRequest,g),g.serviceTokens&&g.serviceTokens.map(Ie).join("\n"));},receivedHeader:function(g){var n,r;n=xd(this._mslRequest,g);r=g.errorCode;r?this._log.warn("Received MSL error header",n,{errorCode:r,errorMessage:g.errorMessage,internalCode:g.internalCode}):this._log.trace("Received MSL header",n);}});De={PSK:function(g){return Rc(g,Ra.PSK,bf,ub,id,Dc);},MGK:function(g){return Rc(g,Ra.MGK,Ce,pb,id,Dc);},MGK_WITH_FALLBACK:function(n){var r,u;switch(n.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":case"GOOGEST001":case"GOOGNEW001":r="PSK";break;default:r="MGK";}u=De[r];if(!u)throw new F(g.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+r);return u(n);},MGK_JWE:function(g){return Rc(g,Ra.MGK,Ce,pb,Td,gd);},JWK_RSA:function(g){return Sc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ec.JWK_RSA);},JWK_RSAES:function(g){return Sc(g,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Ec.JWK_RSAES);},JWEJS_RSA:function(g){return Sc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Ec.JWEJS_RSA);}};M.netflix=M.netflix||{};M.netflix.msl={createMslClient:function(n,r){var u,M,Z,da,S;u=n.log;S=n.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Va&&Va.generateKey&&Va.importKey&&Va.unwrapKey))throw new F(g.INTERNAL_EXCEPTION,"No WebCrypto");eb=Va.generateKey({name:"AES-CBC",length:128},!0,Hb).then?uc.V2014_02:uc.LEGACY;S("mslisik");return Ka.importKey("spki",n.serverIdentityKeyData,Id,!1,["verify"]);}).then(function(n){return new Promise(function(r,u){Nb(n,{result:r,error:function(){u(new F(g.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(r){M=r;if(r=De[n.authenticationType])return S("mslcc"),r(n);throw new F(g.INTERNAL_EXCEPTION,"Invalid authenticationType: "+n.authenticationType);}).then(function(g){var r;Z=new df(u,n.esn,g.keyRequestData,g.createKeyRequestData,n.authenticationKeyNames.s,n.systemKeyWrapFormat);da=new ef(Z,n.serverIdentityId,M,g.entityAuthFactories,g.entityAuthData,g.keyExchangeFactories);r=n.storeState;if(r)return S("mslss"),u.info("Loading store state"),new Promise(function(g,u){Z.loadStoreState(n,da,r,{result:g,timeout:g,error:g});});u.info("No store state, starting fresh");}).then(function(){var g;g=new qe();S("msldone");r.result(new Je(u,g,da,Z,n.ErrorSubCodes));})["catch"](function(g){r.error(g);});},IHttpLocation:Se,MslIoException:Za};(function(){var va,na,Da;function g(){g=function(){};na.Symbol||(na.Symbol=n);}function n(d){return"jscomp_symbol_"+(d||"")+Da++;}function r(){var d;g();d=na.Symbol.iterator;d||(d=na.Symbol.iterator=na.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&va(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return u(this);}});r=function(){};}function u(d){var b;b=0;return F(function(){return b<d.length?{done:!1,value:d[b++]}:{done:!0};});}function F(d){r();d={next:d};d[na.Symbol.iterator]=function(){return this;};return d;}function S(d){var b;r();g();r();b=d[Symbol.iterator];return b?b.call(d):u(d);}function ca(d,b){var k;function a(){}a.prototype=b.prototype;d.prototype=new a();d.prototype.constructor=d;for(var c in b)if(Object.defineProperties){k=Object.getOwnPropertyDescriptor(b,c);k&&Object.defineProperty(d,c,k);}else d[c]=b[c];}function ea(d){if(!(d instanceof Array)){d=S(d);for(var b,a=[];!(b=d.next()).done;)a.push(b.value);d=a;}return d;}function ia(d,b){var a,k;if(b){a=na;d=d.split(".");for(var c=0;c<d.length-1;c++){k=d[c];k in a||(a[k]={});a=a[k];}d=d[d.length-1];c=a[d];b=b(c);b!=c&&null!=b&&va(a,d,{configurable:!0,writable:!0,value:b});}}function ja(d,b){return Object.prototype.hasOwnProperty.call(d,b);}function ha(d,b){var a,c;r();d instanceof String&&(d+="");a=0;c={next:function(){var k;if(a<d.length){k=a++;return{value:b(k,d[k]),done:!1};}c.next=function(){return{done:!0,value:void 0};};return c.next();}};c[Symbol.iterator]=function(){return c;};return c;}function ma(d,b,a){if(null==d)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return d+"";}function pa(d,b,a){var m;d instanceof String&&(d=String(d));for(var c=d.length,k=0;k<c;k++){m=d[k];if(b.call(a,m,k,d))return{xj:k,c2:m};}return{xj:-1,c2:void 0};}va="function"==typeof Object.defineProperties?Object.defineProperty:function(d,b,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[b]=a.value);};na="undefined"!=typeof M&&M===this?this:"undefined"!=typeof global&&null!=global?global:this;Da=0;ia("Object.setPrototypeOf",function(d){return d?d:"object"!=typeof"".__proto__?null:function(b,a){b.__proto__=a;if(b.__proto__!==a)throw new TypeError(b+" is not extensible");return b;};});ia("Object.assign",function(d){return d?d:function(b,a){var k;for(var c=1;c<arguments.length;c++){k=arguments[c];if(k)for(var m in k)ja(k,m)&&(b[m]=k[m]);}return b;};});ia("Object.getOwnPropertySymbols",function(d){return d?d:function(){return[];};});ia("Promise",function(d){var c,k;function b(a){var b;this.WP=0;this.Dka=void 0;this.BO=[];b=this.yba();try{a(b.resolve,b.reject);}catch(q){b.reject(q);}}function a(){this.Vw=null;}if(d)return d;a.prototype.EBa=function(a){null==this.Vw&&(this.Vw=[],this.U9a());this.Vw.push(a);};a.prototype.U9a=function(){var a;a=this;this.FBa(function(){a.kib();});};c=na.setTimeout;a.prototype.FBa=function(a){c(a,0);};a.prototype.kib=function(){var a,k;for(;this.Vw&&this.Vw.length;){a=this.Vw;this.Vw=[];for(var b=0;b<a.length;++b){k=a[b];delete a[b];try{k();}catch(l){this.W9a(l);}}}this.Vw=null;};a.prototype.W9a=function(a){this.FBa(function(){throw a;});};b.prototype.yba=function(){var b,k;function a(a){return function(h){k||(k=!0,a.call(b,h));};}b=this;k=!1;return{resolve:a(this.VAb),reject:a(this.jka)};};b.prototype.VAb=function(a){var k;if(a===this)this.jka(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.hDb(a);else{a:switch(typeof a){case"object":k=null!=a;break a;case"function":k=!0;break a;default:k=!1;}k?this.UAb(a):this.tGa(a);}};b.prototype.UAb=function(a){var b;b=void 0;try{b=a.then;}catch(q){this.jka(q);return;}"function"==typeof b?this.iDb(b,a):this.tGa(a);};b.prototype.jka=function(a){this.uRa(2,a);};b.prototype.tGa=function(a){this.uRa(1,a);};b.prototype.uRa=function(a,b){if(0!=this.WP)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.WP);this.WP=a;this.Dka=b;this.lib();};b.prototype.lib=function(){if(null!=this.BO){for(var a=this.BO,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.BO=null;}};k=new a();b.prototype.hDb=function(a){var b;b=this.yba();a.TV(b.resolve,b.reject);};b.prototype.iDb=function(a,b){var k;k=this.yba();try{a.call(b,k.resolve,k.reject);}catch(l){k.reject(l);}};b.prototype.then=function(a,k){var l,h,f;function c(a,b){return"function"==typeof a?function(b){try{l(a(b));}catch(K){h(K);}}:b;}f=new b(function(a,b){l=a;h=b;});this.TV(c(a,l),c(k,h));return f;};b.prototype["catch"]=function(a){return this.then(void 0,a);};b.prototype.TV=function(a,b){var l;function c(){switch(l.WP){case 1:a(l.Dka);break;case 2:b(l.Dka);break;default:throw Error("Unexpected state: "+l.WP);}}l=this;null==this.BO?k.EBa(c):this.BO.push(function(){k.EBa(c);});};b.resolve=function(a){return a instanceof b?a:new b(function(b){b(a);});};b.reject=function(a){return new b(function(b,k){k(a);});};b.race=function(a){return new b(function(k,c){for(var l=S(a),h=l.next();!h.done;h=l.next())b.resolve(h.value).TV(k,c);});};b.all=function(a){var k,c;k=S(a);c=k.next();return c.done?b.resolve([]):new b(function(a,h){var l,q;function f(b){return function(f){l[b]=f;q--;0==q&&a(l);};}l=[];q=0;do l.push(void 0),q++,b.resolve(c.value).TV(f(l.length-1),h),c=k.next();while(!c.done);});};b.$jscomp$new$AsyncExecutor=function(){return new a();};return b;});ia("Array.prototype.keys",function(d){return d?d:function(){return ha(this,function(b){return b;});};});ia("Math.tanh",function(d){return d?d:function(b){var a;b=Number(b);if(0===b)return b;a=Math.exp(-2*Math.abs(b));a=(1-a)/(1+a);return 0>b?-a:a;};});ia("Number.isNaN",function(d){return d?d:function(b){return"number"===typeof b&&isNaN(b);};});ia("String.prototype.includes",function(d){return d?d:function(b,a){return-1!==ma(this,b,"includes").indexOf(b,a||0);};});ia("WeakMap",function(d){var k,m;function b(a){this.qN=(m+=Math.random()+1).toString();if(a){g();r();a=S(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1]);}}function a(a){ja(a,k)||va(a,k,{value:{}});}function c(b){var k;k=Object[b];k&&(Object[b]=function(b){a(b);return k(b);});}if(function(){var a,b,k;if(!d||!Object.seal)return!1;try{a=Object.seal({});b=Object.seal({});k=new d([[a,2],[b,3]]);if(2!=k.get(a)||3!=k.get(b))return!1;k["delete"](a);k.set(b,4);return!k.has(a)&&4==k.get(b);}catch(h){return!1;}}())return d;k="$jscomp_hidden_"+Math.random().toString().substring(2);c("freeze");c("preventExtensions");c("seal");m=0;b.prototype.set=function(b,c){a(b);if(!ja(b,k))throw Error("WeakMap key fail: "+b);b[k][this.qN]=c;return this;};b.prototype.get=function(a){return ja(a,k)?a[k][this.qN]:void 0;};b.prototype.has=function(a){return ja(a,k)&&ja(a[k],this.qN);};b.prototype["delete"]=function(a){return ja(a,k)&&ja(a[k],this.qN)?delete a[k][this.qN]:!1;};return b;});ia("Map",function(d){var m,t;function b(){var a;a={};return a.pv=a.next=a.head=a;}function a(a,b){var k;k=a.Bu;return F(function(){if(k){for(;k.head!=a.Bu;)k=k.pv;for(;k.next!=k.head;)return k=k.next,{done:!1,value:b(k)};k=null;}return{done:!0,value:void 0};});}function c(a,b){var k,f,c;k=b&&typeof b;"object"==k||"function"==k?m.has(b)?k=m.get(b):(k=""+ ++t,m.set(b,k)):k="p_"+b;f=a.iu[k];if(f&&ja(a.iu,k))for(a=0;a<f.length;a++){c=f[a];if(b!==b&&c.key!==c.key||b===c.key)return{id:k,list:f,index:a,oe:c};}return{id:k,list:f,index:-1,oe:void 0};}function k(a){this.iu={};this.Bu=b();this.size=0;if(a){a=S(a);for(var k;!(k=a.next()).done;)k=k.value,this.set(k[0],k[1]);}}if(function(){var a,b,k,f;if(!d||!d.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new d(S([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;k=b.entries();f=k.next();if(f.done||f.value[0]!=a||"s"!=f.value[1])return!1;f=k.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!k.next().done?!1:!0;}catch(p){return!1;}}())return d;g();r();m=new WeakMap();k.prototype.set=function(a,b){var k;k=c(this,a);k.list||(k.list=this.iu[k.id]=[]);k.oe?k.oe.value=b:(k.oe={next:this.Bu,pv:this.Bu.pv,head:this.Bu,key:a,value:b},k.list.push(k.oe),this.Bu.pv.next=k.oe,this.Bu.pv=k.oe,this.size++);return this;};k.prototype["delete"]=function(a){a=c(this,a);return a.oe&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.iu[a.id],a.oe.pv.next=a.oe.next,a.oe.next.pv=a.oe.pv,a.oe.head=null,this.size--,!0):!1;};k.prototype.clear=function(){this.iu={};this.Bu=this.Bu.pv=b();this.size=0;};k.prototype.has=function(a){return!!c(this,a).oe;};k.prototype.get=function(a){return(a=c(this,a).oe)&&a.value;};k.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};k.prototype.keys=function(){return a(this,function(a){return a.key;});};k.prototype.values=function(){return a(this,function(a){return a.value;});};k.prototype.forEach=function(a,b){for(var k=this.entries(),f;!(f=k.next()).done;)f=f.value,a.call(b,f[1],f[0],this);};k.prototype[Symbol.iterator]=k.prototype.entries;t=0;return k;});ia("Set",function(d){function b(a){this.km=new Map();if(a){a=S(a);for(var b;!(b=a.next()).done;)this.add(b.value);}this.size=this.km.size;}if(function(){var a,b,k,m;if(!d||!d.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new d(S([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;k=b.entries();m=k.next();if(m.done||m.value[0]!=a||m.value[1]!=a)return!1;m=k.next();return m.done||m.value[0]==a||4!=m.value[0].x||m.value[1]!=m.value[0]?!1:k.next().done;}catch(t){return!1;}}())return d;g();r();b.prototype.add=function(a){this.km.set(a,a);this.size=this.km.size;return this;};b.prototype["delete"]=function(a){a=this.km["delete"](a);this.size=this.km.size;return a;};b.prototype.clear=function(){this.km.clear();this.size=0;};b.prototype.has=function(a){return this.km.has(a);};b.prototype.entries=function(){return this.km.entries();};b.prototype.values=function(){return this.km.values();};b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var k;k=this;this.km.forEach(function(c){return a.call(b,c,c,k);});};return b;});ia("Array.prototype.find",function(d){return d?d:function(b,a){return pa(this,b,a).c2;};});ia("Array.prototype.entries",function(d){return d?d:function(){return ha(this,function(b,a){return[b,a];});};});ia("Array.prototype.values",function(d){return d?d:function(){return ha(this,function(b,a){return a;});};});ia("WeakSet",function(d){function b(a){this.km=new WeakMap();if(a){g();r();a=S(a);for(var b;!(b=a.next()).done;)this.add(b.value);}}if(function(){var a,b,k;if(!d||!Object.seal)return!1;try{a=Object.seal({});b=Object.seal({});k=new d([a]);if(!k.has(a)||k.has(b))return!1;k["delete"](a);k.add(b);return!k.has(a)&&k.has(b);}catch(m){return!1;}}())return d;b.prototype.add=function(a){this.km.set(a,!0);return this;};b.prototype.has=function(a){return this.km.has(a);};b.prototype["delete"]=function(a){return this.km["delete"](a);};return b;});ia("String.prototype.repeat",function(d){return d?d:function(b){var a;a=ma(this,null,"repeat");if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;)if(b&1&&(c+=a),b>>>=1)a+=a;return c;};});ia("String.prototype.endsWith",function(d){return d?d:function(b,a){var c;c=ma(this,b,"endsWith");b+="";void 0===a&&(a=c.length);a=Math.max(0,Math.min(a|0,c.length));for(var k=b.length;0<k&&0<a;)if(c[--a]!=b[--k])return!1;return 0>=k;};});ia("Array.prototype.findIndex",function(d){return d?d:function(b,a){return pa(this,b,a).xj;};});ia("String.prototype.startsWith",function(d){return d?d:function(b,a){var c,k,m;c=ma(this,b,"startsWith");b+="";k=c.length;m=b.length;a=Math.max(0,Math.min(a|0,c.length));for(var t=0;t<m&&a<k;)if(c[a++]!=b[t++])return!1;return t>=m;};});ia("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ia("Array.prototype.fill",function(d){return d?d:function(b,a,c){var k;k=this.length||0;0>a&&(a=Math.max(0,k+a));if(null==c||c>k)c=k;c=Number(c);0>c&&(c=Math.max(0,k+c));for(a=Number(a||0);a<c;a++)this[a]=b;return this;};});(function(d){var a;function b(c){var k;if(a[c])return a[c].R;k=a[c]={xj:c,Xqb:!1,R:{}};d[c].call(k.R,k,k.R,b);k.Xqb=!0;return k.R;}a={};b.gTb=d;b.DQb=a;b.d=function(a,k,m){b.svb(a,k)||Object.defineProperty(a,k,{configurable:!1,enumerable:!0,get:m});};b.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};b.n=function(a){var k;k=a&&a.Exa?function(){return a["default"];}:function(){return a;};b.d(k,"a",k);return k;};b.svb=function(a,b){return Object.prototype.hasOwnProperty.call(a,b);};b.p="";return b(b.MUb=1158);}([function(d,b,a){function c(){c=Object.assign||function(a){for(var b,f=1,k=arguments.length;f<k;f++){b=arguments[f];for(var h in b)Object.prototype.hasOwnProperty.call(b,h)&&(a[h]=b[h]);}return a;};return c.apply(this,arguments);}function k(a,b){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b;}||function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);};return k(a,b);}function m(a,b){function f(){this.constructor=a;}k(a,b);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());}function t(a,b){var f,k,h;f={};for(k in a)Object.prototype.hasOwnProperty.call(a,k)&&0>b.indexOf(k)&&(f[k]=a[k]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){h=0;for(k=Object.getOwnPropertySymbols(a);h<k.length;h++)0>b.indexOf(k[h])&&Object.prototype.propertyIsEnumerable.call(a,k[h])&&(f[k[h]]=a[k[h]]);}return f;}function q(a,b,f,k){var h,c,l;h=arguments.length;c=3>h?b:null===k?k=Object.getOwnPropertyDescriptor(b,f):k;if("object"===typeof Reflect&&"function"===typeof Reflect.lx)c=Reflect.lx(a,b,f,k);else for(var p=a.length-1;0<=p;p--)if(l=a[p])c=(3>h?l(c):3<h?l(b,f,c):l(b,f))||c;return 3<h&&c&&Object.defineProperty(b,f,c),c;}function l(a,b){return function(f,k){b(f,k,a);};}function h(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.Cd)return Reflect.Cd(a,b);}function f(a,b,f,k){return new(f||(f=Promise))(function(h,c){function l(a){try{q(k.next(a));}catch(wa){c(wa);}}function p(a){try{q(k["throw"](a));}catch(wa){c(wa);}}function q(a){a.done?h(a.value):new f(function(b){b(a.value);}).then(l,p);}q((k=k.apply(a,b||[])).next());});}function p(a,b){var h,c,l,p,q;function f(a){return function(b){return k([a,b]);};}function k(f){if(c)throw new TypeError("Generator is already executing.");for(;h;)try{if(c=1,l&&(p=f[0]&2?l["return"]:f[0]?l["throw"]||((p=l["return"])&&p.call(l),0):l.next)&&!(p=p.call(l,f[1])).done)return p;if(l=0,p)f=[f[0]&2,p.value];switch(f[0]){case 0:case 1:p=f;break;case 4:return h.label++,{value:f[1],done:!1};case 5:h.label++;l=f[1];f=[0];continue;case 7:f=h.MB.pop();h.IC.pop();continue;default:if(!(p=h.IC,p=0<p.length&&p[p.length-1])&&(6===f[0]||2===f[0])){h=0;continue;}if(3===f[0]&&(!p||f[1]>p[0]&&f[1]<p[3]))h.label=f[1];else if(6===f[0]&&h.label<p[1])h.label=p[1],p=f;else if(p&&h.label<p[2])h.label=p[2],h.MB.push(f);else{p[2]&&h.MB.pop();h.IC.pop();continue;}}f=b.call(a,h);}catch(wa){f=[6,wa];l=0;}finally{c=p=0;}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0};}h={label:0,Z0:function(){if(p[0]&1)throw p[1];return p[1];},IC:[],MB:[]};g();g();r();return q={next:f(0),"throw":f(1),"return":f(2)},"function"===typeof Symbol&&(q[Symbol.iterator]=function(){return this;}),q;}function y(a,b){for(var f in a)b.hasOwnProperty(f)||(b[f]=a[f]);}function H(a){var b,f;g();g();r();b="function"===typeof Symbol&&a[Symbol.iterator];f=0;return b?b.call(a):{next:function(){a&&f>=a.length&&(a=void 0);return{value:a&&a[f++],done:!a};}};}function K(a,b){var f,k,h,c;g();g();r();f="function"===typeof Symbol&&a[Symbol.iterator];if(!f)return a;a=f.call(a);h=[];try{for(;(void 0===b||0<b--)&&!(k=a.next()).done;)h.push(k.value);}catch(sa){c={error:sa};}finally{try{k&&!k.done&&(f=a["return"])&&f.call(a);}finally{if(c)throw c.error;}}return h;}function E(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(K(arguments[b]));return a;}function G(){for(var a=0,b=0,f=arguments.length;b<f;b++)a+=arguments[b].length;for(var a=Array(a),k=0,b=0;b<f;b++)for(var h=arguments[b],c=0,l=h.length;c<l;c++,k++)a[k]=h[c];return a;}function N(a){return this instanceof N?(this.c2=a,this):new N(a);}function C(a,b,f){var q,m,t;function k(a){q[a]&&(m[a]=function(b){return new Promise(function(f,k){1<t.push([a,b,f,k])||h(a,b);});});}function h(a,b){var f;try{f=q[a](b);f.value instanceof N?Promise.resolve(f.value.c2).then(c,l):p(t[0][2],f);}catch(ka){p(t[0][3],ka);}}function c(a){h("next",a);}function l(a){h("throw",a);}function p(a,b){(a(b),t.shift(),t.length)&&h(t[0][0],t[0][1]);}g();if(!Symbol.DV)throw new TypeError("Symbol.asyncIterator is not defined.");q=f.apply(a,b||[]);t=[];g();return m={},k("next"),k("throw"),k("return"),m[Symbol.DV]=function(){return this;},m;}function X(a){var f,k;function b(b,h){f[b]=a[b]?function(f){return(k=!k)?{value:N(a[b](f)),done:"return"===b}:h?h(f):f;}:h;}g();r();return f={},b("next"),b("throw",function(a){throw a;}),b("return"),f[Symbol.iterator]=function(){return this;},f;}function P(a){var k,h;function b(b){h[b]=a[b]&&function(k){return new Promise(function(h,c){k=a[b](k);f(h,c,k.done,k.value);});};}function f(a,b,f,k){Promise.resolve(k).then(function(b){a({value:b,done:f});},b);}g();if(!Symbol.DV)throw new TypeError("Symbol.asyncIterator is not defined.");g();k=a[Symbol.DV];g();r();g();return k?k.call(a):(a="function"===typeof H?H(a):a[Symbol.iterator](),h={},b("next"),b("throw"),b("return"),h[Symbol.DV]=function(){return this;},h);}function n(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a;}function R(a){var b;if(a&&a.Exa)return a;b={};if(null!=a)for(var f in a)Object.hasOwnProperty.call(a,f)&&(b[f]=a[f]);b["default"]=a;return b;}function A(a){return a&&a.Exa?a:{"default":a};}a.r(b);a.d(b,"__extends",function(){return m;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return t;});a.d(b,"__decorate",function(){return q;});a.d(b,"__param",function(){return l;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return f;});a.d(b,"__generator",function(){return p;});a.d(b,"__exportStar",function(){return y;});a.d(b,"__values",function(){return H;});a.d(b,"__read",function(){return K;});a.d(b,"__spread",function(){return E;});a.d(b,"__spreadArrays",function(){return G;});a.d(b,"__await",function(){return N;});a.d(b,"__asyncGenerator",function(){return C;});a.d(b,"__asyncDelegator",function(){return X;});a.d(b,"__asyncValues",function(){return P;});a.d(b,"__makeTemplateObject",function(){return n;});a.d(b,"__importStar",function(){return R;});a.d(b,"__importDefault",function(){return A;});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(37);b.bMb=d;d=a(1143);b.qR=d.qR;d=a(79);b.qp=d.qp;b.zi=d.zi;b.Zs=d.Zs;d=a(1127);b.Wna=d.Wna;b.Dc=d.Dc;d=a(1126);b.N=d.N;d=a(1125);b.tSa=d.tSa;d=a(1124);b.pMa=d.pMa;d=a(506);b.l=d.l;b.N4=d.N4;d=a(1123);b.optional=d.optional;d=a(1122);b.Wh=d.Wh;d=a(1121);b.IB=d.IB;d=a(1120);b.lQ=d.lQ;d=a(1119);b.wOa=d.wOa;d=a(508);b.u5=d.u5;d=a(101);b.id=d.id;d=a(89);b.lx=d.lx;d=a(503);b.kTa=d.kTa;b.uSa=d.uSa;b.qMa=d.qMa;b.qTa=d.qTa;d=a(138);b.bG=d.bG;a=a(1118);b.mMa=a.mMa;},function(d,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Un=b.M3=b.pqa=b.L3=b.gYa=b.hYa=b.oqa=b.lqa=b.fYa=b.Osa=b.oS=b.cS=b.nqa=b.u=b.J=void 0;(function(a){a[a.Ok=7001]="UNKNOWN";a[a.i2a=7002]="UNHANDLED_EXCEPTION";a[a.kZa=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.cra=7010]="INIT_ASYNCCOMPONENT";a[a.tra=7011]="INIT_HTTP";a[a.gZa=7014]="INIT_BADMOVIEID";a[a.xZa=7016]="INIT_NETFLIXID_MISSING";a[a.wZa=7017]="INIT_NETFLIXID_INVALID";a[a.zZa=7018]="INIT_SECURENETFLIXID_MISSING";a[a.ura=7020]="INIT_PLAYBACK_LOCK";a[a.vra=7022]="INIT_SESSION_LOCK";a[a.yZa=7029]="INIT_POSTAUTHORIZE";a[a.MLb=7031]="INIT_HEADER_MEDIA";a[a.qLb=7032]="HEADER_MISSING";a[a.pLb=7033]="HEADER_FRAGMENTS_MISSING";a[a.AZa=7034]="INIT_TIMEDTEXT_TRACK";a[a.NLb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.OLb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.MUa=7037]="ASE_SESSION_ERROR";a[a.LUa=7038]="ASE_SEEK_THREW";a[a.NUa=7039]="ASE_SKIPPED_THREW";a[a.tZa=7041]="INIT_CORE_OBJECTS1";a[a.uZa=7042]="INIT_CORE_OBJECTS2";a[a.vZa=7043]="INIT_CORE_OBJECTS3";a[a.JLb=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.DLb=7052]="INIT_COMPONENT_FILESYSTEM";a[a.mra=7053]="INIT_COMPONENT_STORAGE";a[a.nra=7054]="INIT_COMPONENT_STORAGELOCK";a[a.ELb=7055]="INIT_COMPONENT_LOGPERSIST";a[a.FLb=7056]="INIT_COMPONENT_NRDDPI";a[a.HLb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.ira=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.y4=7059]="INIT_COMPONENT_DEVICE";a[a.GLb=7062]="INIT_COMPONENT_NTBA";a[a.jra=7063]="INIT_COMPONENT_MSL";a[a.iZa=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.hra=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.Tv=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.ILb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.hZa=7069]="INIT_COMPONENT_ACCOUNT";a[a.mZa=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.oZa=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.pZa=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.qZa=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.rZa=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.lZa=7081]="INIT_COMPONENT_NRDP";a[a.nZa=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.sra=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.pra=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.LLb=7085]="INIT_CONGESTION_SERVICE";a[a.gra=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.ora=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.era=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.dra=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.KLb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.iD=7091]="INIT_COMPONENT_DRM_CACHE";a[a.jZa=7092]="INIT_COMPONENT_DRM";a[a.kra=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.fra=7094]="INIT_COMPONENT_FTL";a[a.lra=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.qra=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.sZa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.rra=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.YUa=7112]="AUTHORIZE_UNKNOWN";a[a.$Za=7117]="MANIFEST_VERIFY";a[a.F1a=7120]="START";a[a.jz=7121]="LICENSE";a[a.s1a=7122]="SECURESTOP";a[a.Nva=7123]="STOP";a[a.fLb=7124]="FPSAPPDATA";a[a.K4=7125]="KEEPALIVE";a[a.bKb=7126]="DEACTIVATE";a[a.ROb=7127]="SYNC_DEACTIVATE_LINKS";a[a.XIb=7130]="ACTIVATE";a[a.r0a=7131]="PING";a[a.EMb=7133]="NETFLIXID";a[a.$Xa=7134]="ENGAGE";a[a.YZa=7135]="LOGIN";a[a.M1a=7136]="SWITCH_PROFILES";a[a.XZa=7137]="LOGBLOB";a[a.a0a=7138]="PAUSE";a[a.i1a=7139]="RESUME";a[a.Kva=7140]="SPLICE";a[a.oKb=7141]="DOWNLOAD_EVENT";a[a.sVa=7142]="BIND";a[a.$_a=7143]="PAIR";a[a.tVa=7144]="BIND_DEVICE";a[a.tYa=7145]="GENERATE_SCREENSHOTS";a[a.u0a=7202]="PLAY_INIT_EXCEPTION";a[a.aMb=7301]="MEDIA_DOWNLOAD";a[a.qNb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.rNb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.Nta=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.A0a=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.Ota=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.B0a=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.R5=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";a[a.sNb=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";a[a.Qta=7351]="PLAY_MSE_NOTSUPPORTED";a[a.Pta=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.Mta=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.S5=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.U5=7355]="PLAY_MSE_SOURCEADD";a[a.v0a=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.F0a=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.xNb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.pNb=7359]="PLAY_MSE_ADDKEY";a[a.ANb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.E0a=7361]="PLAY_MSE_EVENT_ERROR";a[a.T5=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.DS=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.D0a=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.G0a=7365]="PLAY_MSE_GETCURRENTTIME";a[a.H0a=7367]="PLAY_MSE_SETCURRENTTIME";a[a.I0a=7371]="PLAY_MSE_SOURCEAPPEND";a[a.yNb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.M0a=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.L0a=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.K0a=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.zNb=7379]="PLAY_MSE_SOURCE_EOS";a[a.J0a=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.wNb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.w0a=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.x0a=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.y0a=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.uNb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.C0a=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.tNb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.vNb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.z0a=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.Rta=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.cYa=7400]="EXTERNAL";a[a.CS=7500]="PAUSE_TIMEOUT";a[a.dS=7502]="INACTIVITY_TIMEOUT";a[a.XUa=7510]="AUTHORIZATION_EXPIRED";a[a.dKb=7520]="DECRYPT_AUDIO";a[a.Iva=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.t1a=7601]="SECURE_STOP_KEY_ERROR";a[a.vOb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.fOb=7603]="SECURE_STOP_NCCP_ERROR";a[a.gOb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.uOb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.kOb=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.u1a=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.lOb=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.mOb=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.pOb=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.hOb=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.nOb=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.rOb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.oOb=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.jOb=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.tOb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.qOb=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.iOb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.sOb=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.UXa=7700]="EME_INVALID_KEYSYSTEM";a[a.Rpa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.D3=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.Spa=7703]="EME_GENERATEREQUEST_FAILED";a[a.BR=7704]="EME_UPDATE_FAILED";a[a.yKb=7705]="EME_KEYSESSION_ERROR";a[a.VXa=7706]="EME_KEYMESSAGE_EMPTY";a[a.Wpa=7707]="EME_REMOVE_FAILED";a[a.XXa=7708]="EME_LOAD_FAILED";a[a.RXa=7709]="EME_CREATE_SESSION_FAILED";a[a.AR=7710]="EME_LDL_RENEWAL_ERROR";a[a.Tpa=7711]="EME_INVALID_INITDATA_DATA";a[a.Upa=7712]="EME_INVALID_LICENSE_DATA";a[a.WXa=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.AKb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.Vpa=7715]="EME_INVALID_SECURESTOP_DATA";a[a.QXa=7716]="EME_CLOSE_FAILED";a[a.s0a=7800]="PLAYDATA_STORE_FAILURE";a[a.oNb=7801]="PLAYDATA_SEND_FAILURE";a[a.EI=7900]="BRANCH_PLAY_FAILURE";a[a.RC=7901]="BRANCH_QUEUE_FAILURE";a[a.coa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.JMb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.KMb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.g0a=8100]="PBO_EVENTLOOKUP_FAILURE";a[a.Q5=8200]="PLAYGRAPH_ADD_MANIFEST";a[a.t0a=8201]="PLAYGRAPH_SEGMENT_NOT_READY";}(a=b.J||(b.J={})));(function(a){a[a.Ok=1001]="UNKNOWN";a[a.yh=1003]="EXCEPTION";a[a.DZa=1004]="INVALID_DI";a[a.QUa=1011]="ASYNCLOAD_EXCEPTION";a[a.RUa=1013]="ASYNCLOAD_TIMEOUT";a[a.YIb=1015]="ASYNCLOAD_BADCONFIG";a[a.OUa=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.PUa=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.eJ=1101]="HTTP_UNKNOWN";a[a.t4=1102]="HTTP_XHR";a[a.bJ=1103]="HTTP_PROTOCOL";a[a.aJ=1104]="HTTP_OFFLINE";a[a.dJ=1105]="HTTP_TIMEOUT";a[a.fz=1106]="HTTP_READTIMEOUT";a[a.Sv=1107]="HTTP_ABORT";a[a.p4=1108]="HTTP_PARSE";a[a.Nqa=1110]="HTTP_BAD_URL";a[a.cJ=1111]="HTTP_PROXY";a[a.zsa=1203]="MSE_AUDIO";a[a.Asa=1204]="MSE_VIDEO";a[a.o_a=1250]="MSE_MEDIA_ERR_BASE";a[a.fMb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.iMb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.gMb=1253]="MSE_MEDIA_ERR_DECODE";a[a.jMb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.hMb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.$C=1260]="EME_MEDIA_KEYERR_BASE";a[a.GKb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.BKb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.FKb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.EKb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.DKb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.CKb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.HKb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.TXa=1280]="EME_ERROR_NODRMSESSSION";a[a.SXa=1281]="EME_ERROR_NODRMREQUESTS";a[a.wKb=1282]="EME_ERROR_INDIV_FAILED";a[a.xKb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.ZXa=1284]="EME_TIMEOUT_MESSAGE";a[a.YXa=1285]="EME_TIMEOUT_KEYCHANGE";a[a.F3=1286]="EME_UNDEFINED_DATA";a[a.SI=1287]="EME_INVALID_STATE";a[a.zKb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.E3=1289]="EME_EMPTY_DATA";a[a.TI=1290]="EME_TIMEOUT";a[a.yMb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.BMb=1305]="NCCP_PARSEXML";a[a.U0a=1309]="PROCESS_EXCEPTION";a[a.AMb=1311]="NCCP_NETFLIXID_MISSING";a[a.CMb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.vMb=1313]="NCCP_HMAC_MISSING";a[a.uMb=1315]="NCCP_HMAC_MISMATCH";a[a.tMb=1317]="NCCP_HMAC_FAILED";a[a.sMb=1321]="NCCP_CLIENTTIME_MISSING";a[a.rMb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.Eqa=1331]="GENERIC";a[a.H_a=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.I_a=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.DMb=1341]="NCCP_TRANSACTION";a[a.wMb=1343]="NCCP_INVALID_DRMTYPE";a[a.xMb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.zMb=1345]="NCCP_MISSING_PAYLOAD";a[a.KNb=1346]="PROTOCOL_NOT_INITIALIZED";a[a.JNb=1347]="PROTOCOL_MISSING_FIELD";a[a.INb=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.jw=1402]="STORAGE_NODATA";a[a.BOb=1403]="STORAGE_EXCEPTION";a[a.JOb=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.KOb=1407]="STORAGE_QUOTA_TO_SMALL";a[a.Pva=1411]="STORAGE_LOAD_ERROR";a[a.I1a=1412]="STORAGE_LOAD_TIMEOUT";a[a.Qva=1414]="STORAGE_SAVE_ERROR";a[a.L1a=1415]="STORAGE_SAVE_TIMEOUT";a[a.Y6=1417]="STORAGE_DELETE_ERROR";a[a.Ova=1418]="STORAGE_DELETE_TIMEOUT";a[a.IOb=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.FOb=1423]="STORAGE_FS_GETDIRECTORY";a[a.HOb=1425]="STORAGE_FS_READENTRIES";a[a.COb=1427]="STORAGE_FS_FILEREAD";a[a.EOb=1429]="STORAGE_FS_FILEWRITE";a[a.DOb=1431]="STORAGE_FS_FILEREMOVE";a[a.GOb=1432]="STORAGE_FS_PARSEJSON";a[a.K1a=1451]="STORAGE_NO_LOCALSTORAGE";a[a.J1a=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.QMb=1501]="NTBA_UNKNOWN";a[a.PMb=1502]="NTBA_EXCEPTION";a[a.LMb=1504]="NTBA_CRYPTO_KEY";a[a.NMb=1506]="NTBA_CRYPTO_OPERATION";a[a.MMb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.OMb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.hpa=1553]="DEVICE_NO_ESN";a[a.e3=1555]="DEVICE_ERROR_GETTING_ESN";a[a.Uta=1603]="PLUGIN_LOAD_MISSING";a[a.Sta=1605]="PLUGIN_LOAD_ERROR";a[a.Vta=1607]="PLUGIN_LOAD_TIMEOUT";a[a.Tta=1609]="PLUGIN_LOAD_EXCEPTION";a[a.P0a=1625]="PLUGIN_EXCEPTION";a[a.N0a=1627]="PLUGIN_CALLBACK_ERROR";a[a.O0a=1629]="PLUGIN_CALLBACK_TIMEOUT";a[a.kYa=1701]="FORMAT_UNKNOWN";a[a.uqa=1713]="FORMAT_XML";a[a.lYa=1715]="FORMAT_XML_CONTENT";a[a.jYa=1721]="FORMAT_BASE64";a[a.FR=1723]="FORMAT_DFXP";a[a.TYa=1801]="INDEXDB_OPEN_EXCEPTION";a[a.ara=1802]="INDEXDB_NOT_SUPPORTED";a[a.SYa=1803]="INDEXDB_OPEN_ERROR";a[a.bra=1804]="INDEXDB_OPEN_NULL";a[a.RYa=1805]="INDEXDB_OPEN_BLOCKED";a[a.UYa=1807]="INDEXDB_OPEN_TIMEOUT";a[a.QYa=1808]="INDEXDB_INVALID_STORE_STATE";a[a.eS=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.y_a=1901]="MSL_UNKNOWN";a[a.r_a=1911]="MSL_INIT_NO_MSL";a[a.Csa=1913]="MSL_INIT_ERROR";a[a.s_a=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.p_a=1931]="MSL_ERROR";a[a.x_a=1933]="MSL_REQUEST_TIMEOUT";a[a.w_a=1934]="MSL_READ_TIMEOUT";a[a.q_a=1935]="MSL_ERROR_HEADER";a[a.kMb=1936]="MSL_ERROR_ENVELOPE";a[a.lMb=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.Bsa=1957]="MSL_ERROR_REAUTH";a[a.J7=2103]="WEBCRYPTO_MISSING";a[a.r2a=2105]="WEBCRYPTOKEYS_MISSING";a[a.s2a=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.JJb=2200]="CACHEDDATA_PARSEJSON";a[a.roa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.KJb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.Ov=2203]="CACHEDDATA_INVALID_FORMAT";a[a.VIb=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.WIb=3001]="ACCOUNT_INVALID";a[a.nKb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.mKb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.kKb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.lKb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.jKb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.LOb=3300]="STORAGE_VA_LOAD_ERROR";a[a.MOb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.POb=3302]="STORAGE_VA_SAVE_ERROR";a[a.QOb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.NOb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.OOb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.N5=3077]="PBO_DEVICE_EOL_WARNING";a[a.Fta=3078]="PBO_DEVICE_EOL_FINAL";a[a.Ita=3100]="PBO_DEVICE_RESET";a[a.Hta=3101]="PBO_DEVICE_RELOAD";a[a.Gta=3102]="PBO_DEVICE_EXIT";a[a.n0a=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.b0a=5005]="PBO_ACCOUNT_ON_HOLD";a[a.f0a=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.Jta=5007]="PBO_INCORRECT_PIN";a[a.l0a=5008]="PBO_MOBILE_ONLY";a[a.o0a=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";a[a.h0a=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.d0a=5059]="PBO_BLACKLISTED_IP";a[a.c0a=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.e0a=5080]="PBO_CHOICE_MAP_ERROR";a[a.m0a=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.j0a=5091]="PBO_MALFORMED_REQUEST";a[a.i0a=5092]="PBO_INVALID_SERVICE_VERSION";a[a.k0a=5093]="PBO_MDX_INVALID_CTICKET";a[a.IWa=5100]="DECODER_TIMEOUT_BUFFERING";a[a.JWa=5101]="DECODER_TIMEOUT_PRESENTING";a[a.zXa=5200]="DOWNLOADER_IO_ERROR";a[a.boa=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.xVa=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.mJb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.D2=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.uVa=5304]="BRANCHING_ASE_FAILURE";a[a.jJb=5305]="BRANCHING_MOMENT_FAILURE";a[a.vVa=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.lJb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.yVa=5308]="BRANCHING_SEEK_THREW";a[a.kJb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.wVa=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.zVa=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.AVa=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";a[a.GUa=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";a[a.FUa=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";}(c=b.u||(b.u={})));(function(a){a[a.xJb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.nJb=5005]="BR_ACCOUNT_ON_HOLD";a[a.rJb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.uJb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.qJb=5059]="BR_BLACKLISTED_IP";a[a.oJb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.vJb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.sJb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.wJb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.tJb=2207]="BR_ENDPOINT_ERROR";a[a.pJb=2208]="BR_AUTHORIZATION_ERROR";}(b.nqa||(b.nqa={})));b.cS={HVa:"400",mPb:"401",Xta:"413"};b.oS={dLb:1,ePb:2,KKb:3,lPb:4,ULb:5,JKb:6,A7:7,bYa:8,YNb:9,yOb:10};(function(a){a[a.mNb=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.nNb=98]="PAIRING_UNKNOWN_ERROR";}(b.Osa||(b.Osa={})));b.fYa=function(a){return 7100<=a&&7200>a;};b.lqa=function(b){return b==a.CS||b==a.dS;};b.oqa=function(a){return 1100<=a&&1199>=a;};b.hYa=function(a){return 1300<=a&&1399>=a;};b.gYa=function(a){return 1900<=a&&1999>=a;};b.L3=function(a,b){return 1<=a&&9>=a?b+a:b;};b.pqa=function(a){return b.L3(a,c.o_a);};b.M3=function(a){return b.L3(a,c.$C);};b.Un=function(a){var b,k,q;b={};k=a.errorExternalCode||a.Vd;q=a.errorDetails||a.nb;b.ErrorSubCode=a.errorSubCode||a.da||c.Ok;k&&(b.ErrorExternalCode=k);q&&(b.ErrorDetails=q);return b;};},function(d,b,a){var m;function c(a){return m.KJ.apply(this,arguments)||this;}function k(a){return new m.up(a,b.ha);}Object.defineProperty(b,"__esModule",{value:!0});b.Dd=b.Wqa=b.x5=b.Fl=b.ha=b.qz=b.timestamp=b.Fob=b.oO=b.bh=b.Gb=b.AOa=b.Itb=b.$1a=void 0;m=a(502);ca(c,m.KJ);b.$1a=c;b.Itb=function(a){return new m.up(a,b.qz);};b.AOa=function(a){return new m.up(a*b.Fl.mf,b.qz);};b.Gb=k;b.bh=function(a){return new m.up(a,b.Fl);};b.oO=function(a){return new m.up(a,b.x5);};b.Fob=function(a){return new m.up(a,b.Wqa);};b.timestamp=function(a){return k(a);};b.qz=new c(1,"\u03bcs");b.ha=new c(1E3,"ms",b.qz);b.Fl=new c(1E3*b.ha.mf,"s",b.qz);b.x5=new c(60*b.Fl.mf,"min",b.qz);b.Wqa=new c(60*b.x5.mf,"hr",b.qz);b.Dd=k(0);},function(d){d.R={tN:function(b){for(var a in b)b.hasOwnProperty(a)&&(this[a]=b[a]);},reset:function(){}};},function(d,b,a){var c,k,m,t,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Y=b.Pua=b.OM=b.Rg=b.wg=b.log=b.Af=b.bB=b.ywa=b.VBa=b.Ep=b.HV=b.oc=b.K$a=b.gaa=b.I$a=b.J$a=b.Dh=b.aUa=b.Yma=b.vh=void 0;c=a(509);d=a(8);k=a(33);m=a(97);t=a(98);q=a(42);l=a(21);h=a(60);b.vh=c.Zc.get(m.ow);b.Yma=b.vh.encode.bind(b.vh);b.aUa=b.vh.decode.bind(b.vh);b.Dh=c.Zc.get(t.Nv);b.J$a=b.Dh.encode.bind(b.Dh);b.I$a=b.Dh.decode.bind(b.Dh);b.gaa=b.Dh.KM.bind(b.Dh);b.K$a=b.Dh.USa.bind(b.Dh);b.oc=c.Zc.get(q.$i);b.HV=function(a){a=l.Ge(a)?b.aUa(a):a;return b.oc.encode(a);};b.Ep=b.oc.decode.bind(b.oc);b.VBa=function(a){return b.Yma(b.Ep(a));};b.ywa=a(554);b.bB=function(){return c.Zc.get(k.wR);};b.Af=c.Zc.get(d.Ab);b.log=b.Af.xb("General");b.wg=function(a,h){return b.Af.xb(a,void 0,h);};b.Rg=function(a,h,c){return b.Af.xb(h,a,c);};b.OM=function(a,h,c,l){return b.Af.xb(a,void 0,l,h,c);};b.Pua=function(a,b,l){return c.Zc.get(h.Mk)(a,b,l).wma();};b.Y=c.Zc;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(0);k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);return b;}(Error);b.assert=function(a,b){if(!a)throw new k(b||"Assertion failed");};},function(d){var b;b={ma:function(a){return"number"===typeof a;},Qe:function(a){return"object"===typeof a;},Ge:function(a){return"string"===typeof a;},V:function(a){return"undefined"===typeof a;},Lpb:function(a){return"boolean"===typeof a;},Sb:function(a){return"function"===typeof a;},Na:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,b){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,b);},pwb:function(a){var c,k;k=[];if(!b.Qe(a))throw new TypeError("Object.pairs called on non-object");for(c in a)a.hasOwnProperty(c)&&k.push([c,a[c]]);return k;}};b.Ud=b.forEach=function(a,c,k){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var m=0,t=a.length;m<t;m++)c.call(k,a[m],m,a);else for(m in a)b.has(a,m)&&c.call(k,a[m],m,a);return a;};d.R=b;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.QI=b.Ab=b.V4=b.Zh=void 0;d=b.Zh||(b.Zh={});d[d.iYa=0]="FATAL";d[d.ERROR=1]="ERROR";d[d.I7=2]="WARN";d[d.x4=3]="INFO";d[d.Hwa=4]="TRACE";d[d.cb=5]="DEBUG";b.V4="LogFieldBuilderFactorySymbol";b.Ab="LoggerFactorySymbol";b.QI={};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cha=b.localStorage=b.jpb=b.indexedDB=b.tS=b.jx=b.ew=b.sD=b.tD=b.URL=b.wS=b.uS=b.Nsa=b.lS=b.nz=b.oz=b.Jm=b.Dl=b.zh=b.i5=b.Ss=b.vwa=b.WC=b.I5=b.vz=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.Nt=b.K_a=b.$d=b.Sq=b.Tq=b.vS=b.El=b.Bi=void 0;d="undefined"===typeof M?{}:M;b.Bi=d.navigator||{};b.El=b.Bi.userAgent;b.vS=d.location;b.Tq=d.screen;b.Sq=d.performance;b.$d=d.document||{};b.K_a=b.$d.documentElement;b.Nt=Array.prototype;b.sort=b.Nt.sort;b.map=b.Nt.map;b.slice=b.Nt.slice;b.every=b.Nt.every;b.reduce=b.Nt.reduce;b.filter=b.Nt.filter;b.forEach=b.Nt.forEach;b.pop=b.Nt.pop;b.vz=Object.create;b.I5=Object.keys;b.WC=Date.now;b.vwa=String.fromCharCode;b.Ss=Math.floor;b.i5=Math.ceil;b.zh=Math.round;b.Dl=Math.max;b.Jm=Math.min;b.oz=Math.random;b.nz=Math.abs;b.lS=Math.pow;b.Nsa=Math.sqrt;b.uS=d.escape;b.wS=d.unescape;b.URL=d.URL||d.webkitURL;b.tD=d.MediaSource||d.WebKitMediaSource;b.sD=d.WebKitMediaKeys||d.MSMediaKeys||d.MediaKeys;b.ew=d.nfCrypto||d.webkitCrypto||d.msCrypto||d.crypto;b.jx=b.ew&&(b.ew.webkitSubtle||b.ew.subtle);b.tS=d.nfCryptokeys||d.webkitCryptokeys||d.msCryptokeys||d.cryptokeys;try{b.indexedDB=d.indexedDB;}catch(a){b.jpb=a||"noex";}try{b.localStorage=d.localStorage;}catch(a){b.cha=a||"noex";}},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.O6=b.nD=b.jS=b.RVa=b.MVa=b.OVa=b.PVa=b.koa=b.LVa=b.NVa=b.joa=b.QVa=b.WVa=b.VVa=b.loa=b.UVa=b.MXa=b.LXa=b.Lpa=b.d_a=b.e_a=b.Pq=b.wsa=b.xsa=b.Zv=b.Npa=b.NXa=b.z3=b.zR=b.V_a=b.B1a=b.rsa=b.GVa=b.epa=b.AS=b.uz=b.zS=b.qsa=b.Rs=b.FVa=b.aoa=b.SZa=b.n2a=b.c_a=b.b_a=b.r1a=b.q1a=b.cj=b.rd=b.tva=b.Ke=void 0;b.Ke=function(){};b.tva=function(){return!0;};b.rd={aa:!0};b.cj=1E3;b.q1a=86400;b.r1a=604800;b.b_a=1E4;b.c_a=1E7;b.n2a=1.5;b.SZa=.128;b.aoa=7.8125;b.FVa=128;b.Rs=145152E5;b.qsa=1E5;b.zS="$netflix$player$order";b.uz=-1;b.AS=1;b.epa=["en-US"];b.GVa=8;b.rsa=65535;b.B1a=65536;b.V_a=Number.MAX_VALUE;b.zR="playready";b.z3="widevine";b.NXa="fps";b.Npa="clearkey";b.Zv='audio/mp4; codecs="mp4a.40.5"';b.xsa='audio/mp4; codecs="mp4a.40.42"';b.wsa='audio/mp4; codecs="mp4a.a6"';b.Pq='video/mp4; codecs="avc1.640028"';b.e_a='video/mp4; codecs="hev1.2.6.L153.B0"';b.d_a='video/mp4; codecs="dvhe.01000000"';b.Lpa="9A04F079-9840-4286-AB92-E65BE0885F95";b.LXa="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.MXa="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.UVa=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.loa="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.VVa="4E657466-6C69-7846-7261-6D6552617465";b.WVa="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.QVa="mp4a";b.joa="enca";b.NVa="ec-3";b.LVa="avc1";b.koa="encv";b.PVa="hvcC";b.OVa="hev1";b.MVa="dvhe";b.RVa="vp09";b.jS=0;b.nD=1;b.O6="position:relative;width:100%;height:100%;overflow:hidden";},function(d,b,a){var m,t,q,l,h,f,p,y,H,K,E,G,N,g,X,P,n,r;function c(a){return(a=b.config.kGb[k(a)])?a:{};}function k(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";if(0<=a.indexOf("content-sampling"))return"content-sampling";if(0<=a.indexOf("video-merch-bob-horizontal"))return"video-merch-bob-horizontal";if(0<=a.indexOf("mini-modal-horizontal"))return"mini-modal-horizontal";}}Object.defineProperty(b,"__esModule",{value:!0});b.ecb=b.hcb=b.icb=b.eba=b.fba=b.gcb=b.tDa=b.fcb=b.uDa=b.dba=b.config=void 0;m=a(10);t=a(46);q=a(5);l=a(32);h=a(16);a(21);f=a(33);p=a(61);y=a(17);a(8);H=a(9);K=a(38);E=a(14);G=a(231);N=a(44);g=a(62);X=a(137);P=a(48);n=a(3);r=a(30);b.uDa=function(a,c){var Oa,z,Ia,mb,F,ib,Ta,jb,S;function k(a,b){y.yd(a,function(a,f){E.Sb(f)?b[a]=f.call(void 0,b[a]):E.Qe(f)&&(b[a]=b[a]||{},k(f,b[a]));});}function d(a,b,f,c){for(var l=[],p=3;p<arguments.length;++p)l[p-3]=arguments[p];return function(c){E.Wb(c)&&(f=c);h.eb(E.Sb(a));return a.apply(void 0,[].concat([b,f],ea(l)));};}function C(a){a=a.toLowerCase();mb.hasOwnProperty(a)&&(Ia[a]=mb[a],F[a]=mb[a]);return a;}function aa(a,b,f){var c;a=a.toLowerCase();if(Ia.hasOwnProperty(a)){c=Ia[a];try{c=f?f(c):c;}catch(Kc){c=void 0;}if(void 0!==c)return c;h.eb(!1);q.log.error("Invalid configuration value. Name: "+a);}return b;}function R(a,b,f,h){return aa(a,b,function(a){E.Ge(a)&&(a=y.Ld(a));if(E.KJa(a,f,h))return a;});}function A(a,b,f,h){return aa(a,b,function(a){E.Ge(a)&&(a=y.Ld(a));if(E.Ju(a,f,h))return a;});}function T(a,b,f,h){return aa(a,b,function(a){E.Ge(a)&&(a=parseFloat(a));if(E.ma(a,f,h))return a;});}function u(a,b,f){return aa(a,b,function(a){if(f?f.test(a):E.Ge(a))return a;});}function Q(a,b){return aa(a,b,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function wa(a,b){return aa(a,b,function(a){if(E.Ge(a))return JSON.parse(H.wS(a));if(E.Qe(a))return a;});}function ga(a,b,f,h,c,l){var p;a=a.toLowerCase();Ia.hasOwnProperty(a)&&(p=Ia[a]);if(!E.Wb(p))return b;if(E.Ge(p))if(p[0]!==f)p=h(p);else try{p=JSON.parse(H.wS(p));}catch(gb){p=void 0;}if(void 0===p)return b;for(a=0;a<c.length;a++)if(!c[a](p))return b;return l?l(p):p;}function Ga(a,b,f,h,c){return ga(a,b,"[",function(a){a=a.split("|");for(var b=a.length;b--;)a[b]=y.Ld(a[b]);return a;},[function(a){return E.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!E.Ju(a[b],f,h))return!1;return!0;},function(a){return void 0===c||a.length>=c;}]);}function Fa(a,b){return ga(a,b,"[",function(a){a=E.isArray(a)?a:a.split("|");for(var b=a.length;b--;)try{a[b]=JSON.parse(H.wS(a[b]));}catch(Kc){a=void 0;break;}return a;},[function(a){return E.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(!E.Wb(a[b])||!E.Qe(a[b]))return!1;return!0;}]);}function ka(a,b,f,h){return ga(a,b,"[",function(a){return E.isArray(a)?a:a.split("|");},[function(a){return E.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--;)if(f?!f.test(a[b]):!E.Ku(a[b]))return!1;return!0;},function(a){return void 0===h||a.length>=h;}]);}function Ea(a,b,f){return ga(a,b,"{",function(a){var b,h,c;b={};a=a.split(";");for(var f=a.length;f--;){h=a[f];c=h.indexOf(":");if(0>=c)return;b[h.substring(0,c)]=h.substring(c+1);}return b;},[function(a){return E.Qe(a)&&0<Object.keys(a).length;},function(a){if(f)for(var b in a)if(!f.test(a[b]))return!1;return!0;}],function(a){var f;f={};y.sb(f,b);y.sb(f,a);return f;});}function Sa(a){var b;b=[];y.yd(a,function(a,f){var h;try{h="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(f);}catch(Xb){h="cantparse";}b.push(a+"="+h);});return b.join("\n");}Oa=/^[0-9]+[%]?$/;z=/^[0-9]*$/;F={};ib=q.Y.get(l.Kk);Ta=q.Y.get(X.zD);(function(b){function f(a){a.split(",").forEach(function(a){var b;b=a.indexOf("=");0<b&&(Ia[a.substring(0,b).toLowerCase()]=a.substring(b+1));});}Ia={};y.sb(Ia,b);a&&a.length&&H.forEach.call(a,function(a){E.Ge(a)?f(a):E.Qe(a)&&y.sb(Ia,a,{BG:!0});});mb=y.sb({},t.fY(),{BG:!0});if(b=t.gPa().cadmiumconfig)q.log.info("Config cookie loaded",b),f(b);if(q.Y.get(r.Uj).i9a||Ia.istestaccount)y.sb(Ia,mb),F=mb;"clearkey"!=u("drmType")||Ia.keysystemid||(Ia.keysystemid=(M.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}(c));b.config={};jb={Mhb:d(Q,C("enableXHEAAC"),!1),Dca:d(Q,C("enableDDPlus20"),!0),Cca:d(Q,C("enableDDPlus"),!0),wM:d(Q,C("enableDDPlusAtmos"),!1),zhb:d(Q,C("enableLSSDH"),!0),uhb:d(Q,C("enableHEVC"),!1),CNa:d(Q,C("overrideEnableHEVC"),!1),Fca:d(Q,C("enableHDR"),!1),BNa:d(Q,C("overrideEnableHDR"),!1),VW:d(Q,C("enableAVCHigh"),Ta.VW),IO:d(Q,C("overrideEnableAVCHigh"),Ta.IO),Khb:d(Q,C("enableVP9"),!1),DNa:d(Q,C("overrideEnableVP9"),!1),qhb:d(Q,C("enableAV1"),!1),ANa:d(Q,C("overrideEnableAV1"),!1),Ehb:d(Q,C("enablePRK"),!1),vhb:d(Q,C("enableHWDRM"),!1),xhb:d(Q,C("enableImageSubs"),!0),pL:d(ka,C("audioProfiles"),Ta.pL),wRb:d(Q,C("disableHD"),!1),g2:d(A,"videoCapabilityDetectorType",f.Vj.$y),V$:d(A,"audioCapabilityDetectorType",f.Mv.$y),JQ:d(ka,C("videoProfiles"),Ta.JQ),C7a:d(ka,C("timedTextProfiles"),Ta.Cv),Cv:function(){return jb.C7a().filter(function(a){return a===p.Nk.f3?jb.zhb():a===p.Nk.rD?jb.xhb():!0;});},endpoint:d(Q,C("endpoint"),!1),version:d(u,"version","unknown"),fRa:d(Q,C("setMediaKeysEarly"),!1),XTb:d(Q,C("nrdpPersistCookiesToIndexDB"),!1),KEa:d(Q,C("doNotPerformLdlOnPlaybackCreate"),!1),LEa:d(Q,C("doNotPerformLdlOnPlaybackStart"),!1),STa:d(Q,C("useHdcpLevelOnCast"),!1),whb:d(Q,C("enableHdcp"),!1),Xo:d(Q,C("prepareCadmium"),!1),f8a:d(Q,C("acceptManifestOnPrepareItemParams"),!0),zOa:d(wa,"ppmconfig",{maxNumberTitlesScheduled:1}),Cxb:d(Q,C("playerPredictionModelV2"),!0),CF:d(Q,C("enableLdlPrefetch"),!1),WW:d(Q,C("enableGetHeadersAndMediaPrefetch"),!1),kM:d(Q,C("deleteCachedManifestOnPlayback"),!1),mM:d(Q,C("deleteOtherManifestCacheOnCreate"),!1),lM:d(Q,C("deleteOtherLdlCacheOnCreate"),!1),Xwb:d(A,C("periodicPrepareLogsIntervalMilliseconds"),36E5),gyb:d(A,C("prepareManifestCacheMaxCount"),50),eyb:d(A,C("prepareLdlCacheMaxCount"),30),DOa:d(A,C("prepareManifestExpiryMilliseconds"),12E5),fyb:d(A,C("prepareLdlExpiryMilliseconds"),78E4),dyb:d(u,C("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),WVb:d(wa,"videoApp"),By:d(wa,"storageRules"),Njb:d(Q,"ftlEnabled",!0),Pfa:d(A,C("imageSubsResolution"),0),Yob:d(A,C("imageSubsMaxBuffer"),Ta.etb.ca(P.Iq),0),KL:d(Q,C("captureBatteryStatus"),!1),rkb:d(A,C("getBatteryApiTimeoutMilliseconds"),5E3),Yd:d(u,C("keySystemId"),Ta.Yd),nKa:d(ka,C("keySystemList"),void 0,void 0),Mtb:d(A,C("hdcpGlobalTimeout1"),1E4),Ntb:d(A,C("hdcpGlobalTimeout2"),1E4),ATb:d(A,C("hdcpQueryTimeout1"),1E3),BTb:d(A,C("hdcpQueryTimeout2"),1E3),Otb:d(A,C("hdcpQueryTimeout2"),100),Ptb:d(Q,C("microsoftHwdrmRequiresHevc"),!1),Jtb:d(Q,C("microsoftEnableDeviceInfo"),!1),Ktb:d(Q,C("microsoftEnableHardwareInfo"),!1),Ltb:d(Q,C("microsoftEnableHardwareReset"),!1),kHb:d(Q,C("useHevcCodecForDolbyVision"),!1),ksb:d(Q,"logMediaPipelineStatus",!1),iP:d(Q,C("renderDomDiagnostics"),!0),MKa:function(){return-1;},AG:d(R,C("logDisplayMaxEntryCount"),Ta.AG,-1),rsb:d(R,C("logToConsoleLevel"),-1),tQb:d(R,C("bladerunnerCmdHistorySize"),10),Cr:function(){return ib.Cr;},aHb:d(Q,"upgradeNetflixId",!0),hha:d(Q,"logErrorIfEsnNotProvided",!0),Oca:d(Q,"enforceSinglePlayback",Ta.Oca),bX:d(Q,"enforceSingleSession",Ta.bX),Uaa:d(Q,"closeOtherPlaybacks",!0),V9a:d(A,"asyncLoadTimeout",15E3,1),Asb:d(A,"mainThreadMonitorPollRate",0),WTb:d(Q,"nrdpAlwaysShowUIOverlay",!1),YTb:d(Q,"nrdpValidateSSOTokens",!0),gVb:d(Q,"showNrdpDebugBadging",!1),j2:function(){return ib.j2;},Lx:function(){return ib.Lx;},XE:function(){return ib.XE;},JC:function(){return ib.JC;},dUa:d(A,C("verbosePlaybackInfoDenominator"),0),x0:d(Q,"renderTimedText",!0),Sxb:d(Q,"preBufferTimedText",!0),Dib:d(Q,"fatalOnTimedTextLoadError",!0),MSa:d(Ea,"timedTextStyleDefaults",{}),sma:d(Ea,"timedTextStyleOverrides",{}),rma:d(Ea,"timedTextFontFamilyMapping",Ta.rma||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),NSa:d(A,C("timedTextTimeOverride"),0),hI:d(A,"timedTextSimpleFallbackThreshold",Ta.hI.ca(P.Iq)),Iba:d(u,C("customDfxpUrl")),Jhb:d(Q,C("enableSubtitleTrackerLogging"),!1),eCb:d(Q,C("sendSubtitleQoeLogblobOnMidplay"),!1),Daa:d(Ga,"cdnIdWhiteList",[]),Caa:d(Ga,"cdnIdBlackList",[]),Dda:d(u,C("forceAudioTrack")),Aub:d(Q,"muteVolumeOnPlaybackClose",!0),ZTb:d(u,"nrdpVolumeControlType","VOLUME_STREAM"),Fda:d(u,C("forceTimedTextTrack")),jtb:d(A,C("maxRetriesTimedTextDownload"),0),sFb:d(A,C("timedTextRetryInterval"),8E3),nEb:d(u,"storageType","idb",/^(none|fs|idb|ls)$/),IKa:d(A,"lockExpiration",1E4),hsb:d(A,"lockRefresh",3E3),Qab:d(Q,"captureUnhandledExceptions",!0),Xob:d(Q,"ignoreUnhandledExceptionDuringPlayback",!0),nGb:d(Q,"unhandledExceptionsArePlaybackErrors",!1),vTa:d(u,"unhandledExceptionSource",""),pyb:d(Q,"preserveLastFrame",!1),$tb:d(A,"minBufferingTimeInMilliseconds",4E3),Hyb:d(A,"progressBackwardsGraceTimeMilliseconds",4E3),Iyb:d(A,"progressBackwardsMinPercent",10),V$a:d(u,C("bookmarkIgnoreBeginning"),"0",Oa),W$a:d(u,C("bookmarkIgnoreEnd"),"5%",Oa),X$a:d(u,C("bookmarkIgnoreEndForBranching"),"60000",Oa),EG:d(A,"maxParallelConnections",3),oka:d(Q,"reportThroughputInLogblobs",!0),KG:d(A,"minAudioMediaRequestDuration",16E3),Ytb:d(A,"minAudioMediaRequestDurationBranching",0),PG:d(A,"minVideoMediaRequestDuration",4E3),eub:d(A,"minVideoMediaRequestDurationAL1",0),fub:d(A,"minVideoMediaRequestDurationBranching",0),g_:d(A,"minAudioMediaRequestSizeBytes",0),l_:d(A,"minVideoMediaRequestSizeBytes",0),chb:d(Q,"droppedFrameRateFilterEnabled",!1),dhb:d(A,"droppedFrameRateFilterMaxObservation",60,10,1E3),fhb:d(function(a,b,f,h,c,l){return ga(a,b,"[",function(a){a=a.split(";");for(var b=a.length;b--;){a[b]=a[b].split("|");for(var f=a[b].length;f--;)a[b][f]=y.Ld(a[b][f]);}return a;},[function(a){return E.isArray(a)&&0<a.length;},function(a){for(var b=a.length;b--&&void 0!==a;){if(!E.isArray(a[b]))return!1;for(var c=a[b].length;c--;)if(!E.Ju(a[b][c],f,h))return!1;}return!0;},function(a){if(void 0!==c)for(var b=a.length;b--;)if(c!==a[b].length)return!1;return!0;},function(a){return void 0===l||a.length>=l;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),ERb:d(Q,"droppedFrameRateFilterWithoutRebufferEnabled",!0),ehb:d(A,"droppedFrameRateFilterMinHeight",384),ghb:d(Ga,"droppedFramesPercentilesList",[]),Qtb:d(Q,"microsoftScreenSizeFilterEnabled",!1),Qqb:d(Q,"keyStatusFilterEnabled",!1),jGb:d(Q,"uiLabelFilterEnabled",!0),iGb:d(wa,"uiLabelFilter",{}),Qfb:d(A,C("defaultVolume"),100,0,100),FEa:d(Q,"disableVideoRightClickMenu",!1),bub:d(A,"minDecoderBufferMilliseconds",1E3,0,m.Rs),L_:d(A,"optimalDecoderBufferMilliseconds",5E3,0,m.Rs),sNa:d(A,"optimalDecoderBufferMillisecondsBranching",3E3,0,m.Rs),m_:d(A,"minimumTimeBeforeBranchDecision",3E3,0,m.Rs),TZ:d(A,"maxDecoderBufferMilliseconds",Ta.TZ.ca(n.ha),0,m.Rs),gEa:d(A,"decoderTimeoutMilliseconds",1E4,1),Cgb:d(Q,"disgardMediaOnAppend",!1),r9a:d(Q,"appendMediaBeforeInit",!1),Jwb:d(A,"pauseTimeoutLimitMilliseconds",18E5),Sfa:d(A,"inactivityMonitorInterval",3E4,0),d8a:d(Ga,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),DF:d(Q,"enableTrickPlay",!1),Y8a:d(Ga,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),ZFb:d(A,"trickPlayHighResolutionBitrateThreshold",1E3),$Fb:d(A,"trickPlayHighResolutionThresholdMilliseconds",1E4),cGb:d(T,"trickplayBufferFactor",.5),YFb:d(A,"trickPlayDownloadRetryCount",1),Eha:d(u,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),tia:d(u,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Vqa:d(wa,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),vLa:d(R,"maxIQRSamples",Infinity),WLa:d(R,"minIQRSamples",5),XTa:d(Q,"useResourceTimingAPI",!1),Vob:d(Q,"ignoreFirstByte",!0),Atb:d(Q,"mediaRequestAsyncLoadStart",!0),sHb:d(Q,"useXHROnLoadStart",!1),eda:d(Ga,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),dW:d(A,"connectTimeoutMilliseconds",8E3,500),zia:d(A,"noProgressTimeoutMilliseconds",8E3,500),nHb:d(Q,"useOnLineApi",!1),LSa:d(A,"timedTextDownloadRetryCountBeforeCdnSwitch",3),QTb:d(A,"netflixRequestExpiryTimeout",0),fIb:d(Q,"webkitDecodedFrameCountIncorrectlyReported",!1),JBb:d(A,"seekBackOnAudioTrackChangeMilliseconds",8E3),Hwb:d(Q,"pausePlaybackOnAudioSwitch",!0),bma:d(ka,C("supportedAudioTrackTypes"),[],void 0,1),sJa:d(A,"initialLogFlushTimeout",5E3),qOa:d(u,"playdataPersistKey",ib.Cr?"unsentplaydatatest":"unsentplaydata"),fla:d(Q,"sendPersistedPlaydata",!0),zxb:d(A,"playdataPersistIntervalMilliseconds",4E3),rUb:d(A,"playdataSendDelayMilliseconds",1E4),Y0:d(Q,"sendPlaydataBackupOnInit",!0),nsb:d(ka,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),Stb:d(Q,"midplayEnabled",!0),QLa:d(A,"midplayIntervalMilliseconds",3E5),Ttb:d(Ga,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),rM:d(A,"downloadReportDenominator",0),Ogb:d(A,"downloadReportInterval",3E5),LKa:d(A,"logConfigApplyDenominator",0),cCa:d(Ea,C("bookmarkByMovieId"),{}),HM:d(Q,C("forceLimitedDurationLicense"),!1),Vx:d(A,C("licenseRenewalRequestDelay"),0),gja:d(A,C("persistedReleaseDelay"),1E4),aTb:d(Q,C("limitedDurationFlagOverride"),void 0),vi:d(Q,C("secureStopEnabled"),!1),$Ub:d(Q,C("secureStopFromPersistedKeySession"),!1),EQa:d(A,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),Uka:d(A,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),GBb:d(A,C("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),HBb:d(A,C("secureStopPersistedKeySessionRetries"),17,1),FBb:d(A,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),qQa:d(A,"safariPlayPauseWorkaroundDelay",100),nIb:d(A,"workaroundValueForSeekIssue",1200),mIb:d(Q,"workaroundSaio",!0),zaa:d(Q,C("callEndOfStream"),Ta.zaa),Vwb:d(Q,"performRewindCheck",!0),Fib:d(Q,"fatalOnUnexpectedSeeking",!0),Eib:d(Q,"fatalOnUnexpectedSeeked",!0),dDb:d(Q,C("setVideoElementSize")),Ebb:d(Q,C("clearVideoSrc"),!0),vEa:d(A,C("delayPlayPause"),0),mp:d(Q,C("useTypescriptEme"),!1),Qbb:d(Q,C("combineManifestAndLicense"),!1),uM:d(u,C("drmPersistKey"),"unsentDrmData"),Mja:d(Q,C("promiseBasedEme"),!1),Pab:d(Q,"captureKeyStatusData",!1),lG:d(Q,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),mvb:d(Q,C("nudgeSourceBuffer"),!1),Vka:d(R,C("seekDelta"),1),RO:d(Q,C("preciseSeeking"),!1),Vxb:d(Q,C("preciseSeekingOnTwoCoreDevice"),!1),uEa:d(Ea,C("delayErrorHandling")),aTa:d(Q,"trackingLogEnabled",!1),bTa:d(function(a,b){var f;f=Ea(a,b,void 0);f&&Object.keys(f).forEach(function(a){var b;b=f[a];"true"===b?f[a]=!0:"false"===b&&(f[a]=!1);});return f;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),Ama:d(u,"trackingLogPath","/customerevents/track/debug"),OFb:d(Ga,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),Ih:d(u,"esn",""),KFa:d(u,"fesn",""),Ghb:d(Q,C("enablePerformanceLogging"),!1),Eca:d(Q,C("enableEmeVerboseLogging"),!1),Ahb:d(Q,"enableLastChunkLogging",!1),iL:d(u,"appId","",z),sessionId:d(u,"sessionId","",z),Faa:d(u,"cdnProxyUrl"),rHb:d(Q,"usePlayReadyHeaderObject",!1),iGa:d(A,"forceXhrErrorResponseCode",void 0),nu:{KTb:d(u,"mslApiPath","/msl/"),GRb:d(u,C("edgePath"),"/cbp/cadmium-29"),BUb:d(u,"proxyPath",""),vQ:d(u,"uiVersion"),P1:d(u,"uiPlatform"),KQb:function(){return"0";},Aja:d(ka,"preferredLanguages",m.epa,/^[a-zA-Z-]{2,5}$/,1),tjb:d(u,C("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),REb:d(Q,"supportPreviewContentPin",!0),SEb:d(Q,"supportWatermarking",!0),DDb:d(Q,"showAllSubDubTracks",!1),SRb:d(Q,C("failOnGuidMismatch"),!1)},l0:{enabled:d(Q,"qcEnabled",!1),pl:d(u,"qcPackageId","")},Dq:d(Q,"useRangeHeader",!1),xM:d(Q,"enableMilestoneEventList",!1),sL:d(u,"authenticationType",ib.Cr?Ta.m$a:Ta.sL),PBa:d(Ea,"authenticationKeyNames",y.sb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),$Eb:d(u,"systemKeyWrapFormat"),dpb:d(Q,"includeNetflixIdUserAuthData",!0),yDb:d(Q,"shouldSendUserAuthData",!0),ila:d(Q,"sendUserAuthIfRequired",Ta.ila),tDb:d(Q,"shouldClearUserData",!1),vub:d(Q,"mslDeleteStore",!1),xub:d(Q,"mslPersistStore",!0),Ccb:d(Q,"correctNetworkForShortTitles",!0),Qxb:d(Q,"postplayHighInitBitrate",!1),pjb:d(Q,"flushHeaderCacheOnAudioTrackChange",!0),XEb:d(Q,"supportsUnequalizedDownloadables",!0),cEa:d(A,C("debugAseDenominator"),100),yV:d(A,"aseAudioBufferSizeBytes",Ta.yV.ca(P.Iq)),AV:d(A,"aseVideoBufferSizeBytes",Ta.AV.ca(P.Iq)),as:d(A,"minInitVideoBitrate",560),fia:d(A,"minHCInitVideoBitrate",560),Vu:d(A,"maxInitVideoBitrate",Infinity),mO:d(A,"minInitAudioBitrate",0),lO:d(A,"minHCInitAudioBitrate",0),YN:d(A,"maxInitAudioBitrate",65535),jO:d(A,"minAcceptableVideoBitrate",235),nO:d(A,"minRequiredBuffer",3E4),Wg:d(A,"minPrebufSize",7800),aka:d(T,"rebufferingFactor",1),Qo:d(A,"maxBufferingTime",2600),Vma:d(Q,"useMaxPrebufSize",!0),by:d(A,"maxPrebufSize",45E3),Oha:d(A,"maxRebufSize",Infinity),XY:d(Fa,"initialBitrateSelectionCurve",null),oJa:d(A,"initSelectionLowerBound",560),pJa:d(A,"initSelectionUpperBound",1050),F1:d(A,"throughputPercentForAudio",15),daa:d(A,"bandwidthMargin",10),eaa:d(Q,"bandwidthMarginContinuous",!1),faa:d(Fa,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),hba:d(A,"conservBandwidthMargin",20),ema:d(Q,"switchConfigBasedOnInSessionTput",!1),UL:d(A,"conservBandwidthMarginTputThreshold",0),iba:d(Fa,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),qSa:d(Q,"switchAlgoBasedOnHistIQR",!1),Hy:d(u,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Nha:d(R,"maxPlayerStateToSwitchConfig",-1),pha:d(u,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),z4:d(T,"IQRThreshold",.5),Hfa:d(u,"histIQRCalcToUse","simple"),Yu:d(A,"maxTotalBufferLevelPerSession",0),YIa:d(A,"highWatermarkLevel",3E4),TSa:d(A,"toStableThreshold",3E4),J1:d(A,"toUnstableThreshold",Ta.J1.ca(n.ha)),Kla:d(Q,"skipBitrateInUpswitch",!0),dna:d(A,"watermarkLevelForSkipStart",8E3),Afa:d(A,"highStreamRetentionWindow",9E4),qha:d(A,"lowStreamTransitionWindow",51E4),Cfa:d(A,"highStreamRetentionWindowUp",3E5),sha:d(A,"lowStreamTransitionWindowUp",3E5),Bfa:d(A,"highStreamRetentionWindowDown",6E5),rha:d(A,"lowStreamTransitionWindowDown",0),zfa:d(T,"highStreamInfeasibleBitrateFactor",.5),Ru:d(A,"lowestBufForUpswitch",15E3),MZ:d(A,"lockPeriodAfterDownswitch",15E3),uha:d(A,"lowWatermarkLevel",25E3),Su:d(A,"lowestWaterMarkLevel",2E4),vha:d(Q,"lowestWaterMarkLevelBufferRelaxed",!1),$ha:d(T,"mediaRate",1),ZZ:d(A,"maxTrailingBufferLen",1E4),oL:d(A,"audioBufferTargetAvailableSize",262144),HQ:d(A,"videoBufferTargetAvailableSize",1048576),ELa:d(A,"maxVideoTrailingBufferSize",8388608),pLa:d(A,"maxAudioTrailingBufferSize",393216),lX:d(T,"fastUpswitchFactor",3),gda:d(T,"fastDownswitchFactor",1),Wu:d(A,"maxMediaBufferAllowed",24E4),Xr:d(A,"maxVideoBufferAllowedInBytes",0),Hla:d(Q,"simulatePartialBlocks",!0),CRa:d(Q,"simulateBufferFull",!0),jba:d(Q,"considerConnectTime",!1),gba:d(T,"connectTimeMultiplier",1),UKa:d(A,"lowGradeModeEnterThreshold",12E4),VKa:d(A,"lowGradeModeExitThreshold",9E4),sLa:d(A,"maxDomainFailureWaitDuration",3E4),oLa:d(A,"maxAttemptsOnFailure",18),AFa:d(Q,"exhaustAllLocationsForFailure",!0),yLa:d(A,"maxNetworkErrorsDuringBuffering",20),Hha:d(A,"maxBufferingTimeAllowedWithNetworkError",6E4),IFa:d(A,"fastDomainSelectionBwThreshold",2E3),ESa:d(A,"throughputProbingEnterThreshold",4E4),FSa:d(A,"throughputProbingExitThreshold",34E3),HKa:d(A,"locationProbingTimeout",1E4),MFa:d(A,"finalLocationSelectionBwThreshold",1E4),CSa:d(T,"throughputHighConfidenceLevel",.75),DSa:d(T,"throughputLowConfidenceLevel",.4),jFa:d(Q,"enablePerfBasedLocationSwitch",!1),pq:d(Q,"probeServerWhenError",!0),Hja:d(A,"probeRequestTimeoutMilliseconds",8E3),Lt:d(Q,"allowSwitchback",!0),YB:d(A,"probeDetailDenominator",100),UZ:d(A,"maxDelayToReportFailure",300),eha:d(A,"locationStatisticsUpdateInterval",6E4),FDa:d(Q,"countGapInBuffer",!1),eBa:d(Q,"allowCallToStreamSelector",!0),iCa:d(A,"bufferThresholdForAbort",1E4),ija:d(A,"pipelineScheduleTimeoutMs",2),Xu:d(A,"maxPartialBuffersAtBufferingStart",2),gia:d(A,"minPendingBufferLen",6E3),ay:d(A,"maxPendingBufferLen",12E3),htb:d(A,"maxPendingBufferLenAL1",3E4),Pha:d(A,"maxStreamingSkew",4E3),Mha:d(A,"maxPendingBufferPercentage",10),BB:d(A,"maxRequestsInBuffer",60),ALa:d(A,"maxRequestsInBufferAL1",240),BLa:d(A,"maxRequestsInBufferBranching",120),HY:d(A,"headerRequestSize",4096),kO:d(A,"minBufferLenForHeaderDownloading",1E4),nP:d(A,"reserveForSkipbackBufferMs",1E4),Jia:d(A,"numExtraFragmentsAllowed",2),Uo:d(Q,"pipelineEnabled",!1),IRa:d(A,"socketReceiveBufferSize",0),GV:d(A,"audioSocketReceiveBufferSize",32768),sI:d(A,"videoSocketReceiveBufferSize",65536),xfa:d(A,"headersSocketReceiveBufferSize",32768),V1:d(A,"updatePtsIntervalMs",1E3),naa:d(A,"bufferTraceDenominator",100),VE:d(A,"bufferLevelNotifyIntervalMs",2E3),mL:d(A,"aseReportDenominator",0),R$:d(A,"aseReportIntervalMs",3E5),fFa:d(Q,"enableAbortTesting",!1),FAa:d(A,"abortRequestFrequency",8),Yla:d(A,"streamingStatusIntervalMs",2E3),nv:d(A,"prebufferTimeLimit",24E4),h_:d(A,"minBufferLevelForTrackSwitch",2E3),dja:d(A,"penaltyFactorForLongConnectTime",2),nha:d(A,"longConnectTimeThreshold",200),y$:d(A,"additionalBufferingLongConnectTime",2E3),z$:d(A,"additionalBufferingPerFailure",8E3),fP:d(A,"rebufferCheckDuration",6E4),iFa:d(Q,"enableLookaheadHints",!1),QKa:d(A,"lookaheadFragments",2),QA:d(Q,"enableOCSideChannel",!0),yS:d(wa,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),DTa:d(Q,"updateDrmRequestOnNetworkFailure",!1),tEa:d(Q,"deferAseScheduling",!1),rLa:d(A,"maxDiffAudioVideoEndPtsMs",16E3),nI:d(Q,"useHeaderCache",!0),yW:d(A,"defaultHeaderCacheSize",4),Vba:d(A,"defaultHeaderCacheDataPrefetchMs",8E3),tfa:d(A,"headerCacheMaxPendingData",6),uia:d(Q,"neverWipeHeaderCache",!0),ufa:d(A,"headerCachePriorityLimit",5),zM:d(Q,"enableUsingHeaderCount",!1),TIa:d(Q,"headerCacheTruncateHeaderAfterParsing",!0),ojb:d(Q,C("flushHeaderCacheBeforePlayback"),!1),sia:d(A,"networkFailureResetWaitMs",2E3),ria:d(A,"networkFailureAbandonMs",6E4),YZ:d(A,"maxThrottledNetworkFailures",3),E1:d(A,"throttledNetworkFailureThresholdMs",200),tha:d(R,"lowThroughputThreshold",400),Yca:d(Q,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),hMa:d(Q,"mp4ParsingInNative",!1),JRa:d(Q,"sourceBufferInOrderAppend",!0),vs:d(Q,"requireAudioStreamToEncompassVideo",!0),dBa:d(Q,"allowAudioToStreamPastVideo",!0),$f:d(Q,"enableManagerDebugTraces",!1),fLa:d(A,"managerDebugMessageInterval",1E3),eLa:d(A,"managerDebugMessageCount",20),QMa:d(Q,"notifyManifestCacheEom",!1),maa:d(A,"bufferThresholdToSwitchToSingleConnMs",18E4),laa:d(A,"bufferThresholdToSwitchToParallelConnMs",12E4),W_:d(A,"periodicHistoryPersistMs",3E5),O0:d(A,"saveVideoBitrateMs",18E4),rBa:d(Q,"appendMediaRequestOnComplete",!0),tI:d(Q,"waitForDrmToAppendMedia",!1),xX:d(Q,C("forceAppendHeadersAfterDrm"),!1),eP:d(Q,C("reappendRequestsOnSkip"),!0),Eub:d(A,"netIntrStoreWindow",36E3),cub:d(A,"minNetIntrDuration",8E3),zib:d(A,"fastHistoricBandwidthExpirationTime",10368E3),A$a:d(A,"bandwidthExpirationTime",5184E3),wib:d(A,"failureExpirationTime",86400),Cob:d(A,"historyTimeOfDayGranularity",4),nib:d(Q,"expandDownloadTime",!1),nub:d(A,"minimumMeasurementTime",500),mub:d(A,"minimumMeasurementBytes",131072),jFb:d(A,"throughputMeasurementTimeout",2E3),spb:d(A,"initThroughputMeasureDataSize",262144),kFb:d(u,"throughputPredictor","ewma"),iFb:d(A,"throughputMeasureWindow",5E3),mFb:d(A,"throughputWarmupTime",5E3),hFb:d(A,"throughputIQRMeasureWindow",5E3),OZa:d(A,"IQRBucketizerWindow",15E3),kcb:d(A,"connectTimeHalflife",10),XAb:d(A,"responseTimeHalflife",10),Bob:d(A,"historicBandwidthUpdateInterval",2E3),kub:d(A,"minimumBufferToStopProbing",1E4),Ska:d(u,"secondThroughputEstimator","none"),BQa:d(R,"secondThroughputMeasureWindowInMs",Infinity),thb:d(ka,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),Oib:d(wa,"filterDefinitionOverrides",{}),Lfb:d(u,"defaultFilter","throughput-ewma"),BBb:d(u,"secondaryFilter","none"),Mfb:d(wa,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),rO:d(Q,"needMinimumNetworkConfidence",!0),jaa:d(Q,"biasTowardHistoricalThroughput",!0),pV:d(Q,"addHeaderDataToNetworkMonitor",!1),Rla:d(Q,"startMonitorOnLoadStart",!1),nka:d(Q,"reportFailedRequestsToNetworkMonitor",!1),Jha:d(R,"maxFastPlayBufferInMs",Infinity),Iha:d(R,"maxFastPlayBitThreshold",Infinity),K$:d(Q,"appendFirstHeaderOnComplete",!0),G9a:d(u,"ase_stream_selector","optimized"),aga:d(u,"initBitrateSelectorAlgorithm","default"),paa:d(u,"bufferingSelectorAlgorithm","default"),dEa:d(u,"ase_ls_failure_simulation",""),Mba:d(Q,"ase_dump_fragments",!1),Nba:d(A,"ase_location_history",0),Oba:d(A,"ase_throughput",0),fEa:d(Q,"ase_simulate_verbose",!1),Lxb:d(A,"pollingPeriod",150),Zrb:d(A,"loadTimeMs",18E4),Rsb:d(A,"marginTimeMs",1E4),My:d(Q,"useMediaCache",!1),px:d(A,"diskCacheSizeLimit",52428800),b_:d(A,"mediaCachePrefetchMs",8E3),Uha:d(Ea,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),gea:d(Q,"getDeviceIdFromBindDevice",!1),s$:d(Q,"addFailedLogBlobsToQueue",!0),kGb:{"content-sampling":{Qo:d(A,"contentSamplingMaxBufferingTime",3E3),GH:d(u,"contentSamplingSelectStartingVMAFMethod","fallback"),bL:d(Q,"contentSamplingActivateSelectStartingVMAF",!0),OG:d(A,"contentSamplingMinStartingVideoVMAF",80)},billboard:{as:d(A,"billboardMinInitVideoBitrate",1050),Vu:d(A,"billboardMaxInitVideoBitrate",null),Wg:d(A,"billboardMinPrebufSize",null),by:d(A,"billboardMaxPrebufSize",null),Qo:d(A,"billboardMaxBufferingTime",null),Xu:d(A,"billboardMaxPartialBuffersAtBufferingStart",null),Su:d(A,"billboardLowestWaterMarkLevel",6E3),Ru:d(A,"billboardLowestBufForUpswitch",25E3),Hy:d(u,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),pI:d(Q,"billboardUseNewApi",null)},preplay:{as:d(A,"preplayMinInitVideoBitrate",1050),Vu:d(A,"preplayMaxInitVideoBitrate",null),Wg:d(A,"preplayMinPrebufSize",null),by:d(A,"preplayMaxPrebufSize",null),Qo:d(A,"preplayMaxBufferingTime",null),Xu:d(A,"preplayMaxPartialBuffersAtBufferingStart",null),Su:d(A,"preplayLowestWaterMarkLevel",6E3),Ru:d(A,"preplayLowestBufForUpswitch",25E3)},embedded:{as:d(A,"embeddedMinInitVideoBitrate",1050),Vu:d(A,"embeddedMaxInitVideoBitrate",null),Wg:d(A,"embeddedMinPrebufSize",null),by:d(A,"embeddedMaxPrebufSize",null),Qo:d(A,"embeddedMaxBufferingTime",null),Xu:d(A,"embeddedMaxPartialBuffersAtBufferingStart",null),Su:d(A,"embeddedLowestWaterMarkLevel",6E3),Ru:d(A,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{as:d(A,"videoMerchBobHorizontalMinInitVideoBitrate",null),Vu:d(A,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Wg:d(A,"videoMerchBobHorizontalMinPrebufSize",null),by:d(A,"videoMerchBobHorizontalMaxPrebufSize",null),Qo:d(A,"videoMerchBobHorizontalMaxBufferingTime",null),Xu:d(A,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Su:d(A,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Ru:d(A,"videoMerchBobHorizontalLowestBufForUpswitch",null),pI:d(Q,"videoMerchBobHorizontalUseNewApi",null)},"mini-modal-horizontal":{as:d(A,"miniModalHorizontalMinInitVideoBitrate",null),Vu:d(A,"miniModalHorizontalMaxInitVideoBitrate",null),Wg:d(A,"miniModalHorizontalMinPrebufSize",null),by:d(A,"miniModalHorizontalMaxPrebufSize",null),Qo:d(A,"miniModalHorizontalMaxBufferingTime",500),Xu:d(A,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Su:d(A,"miniModalHorizontalLowestWaterMarkLevel",null),Ru:d(A,"miniModalHorizontalLowestBufForUpswitch",null)}},Lhb:d(Q,"enableVerbosePlaydelayLogging",!1),Ihb:d(Q,"enableSeamless",!1),Gfa:d(A,"hindsightDenominator",0),Ffa:d(A,"hindsightDebugDenominator",0),KY:d(wa,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),yM:d(Q,"enableSessionHistoryReport",!1),Aca:d(A,"earlyStageEstimatePeriod",1E4),tKa:d(A,"lateStageEstimatePeriod",3E4),VZ:d(A,"maxNumSessionHistoryStored",30),k_:d(A,"minSessionHistoryDuration",3E4),Vr:d(A,"maxActiveRequestsPerSession",3),SZ:d(A,"maxActiveRequestsSABCell100",2),WZ:d(A,"maxPendingBufferLenSABCell100",500),$ga:d(Q,"limitAudioDiscountByMaxAudioBitrate",!0),qr:d(wa,"browserInfo",{}),nab:d(A,C("busyGracePeriod"),199),fCb:d(Q,C("sendTransitionLogblob"),!0),SW:d(Q,C("editAudioFragments"),!1),tx:d(Q,C("editVideoFragments"),!1),lhb:d(Q,C("editAudioFragmentsBranching"),!0),ZEa:d(Q,C("editVideoFragmentsBranching"),!0),RW:d(Q,C("earlyAppendSingleChildBranch"),!0),epb:d(Q,C("includeSegmentInfoOnLogblobs"),!0),qib:d(Q,"exposeTestData",!1),Qba:d(Q,"declareBufferingCompleteAtSegmentEnd",!0),oA:d(Q,"applyProfileTimestampOffset",!1),po:d(Q,"applyProfileStreamingOffset",!1),j9a:d(Q,C("allowSmallSeekDelta"),!1),NDb:d(A,C("smallSeekDeltaThresholdMilliseconds"),G.cT),rhb:d(Q,"enableCDMAttestedDescriptors",!1),E0:d(Q,"requireDownloadDataAtBuffering",!1),F0:d(Q,"requireSetupConnectionDuringBuffering",!1),cka:d(Q,"recordFirstFragmentOnSubBranchCreate",!1),bab:d(Q,"branchingAudioTrackFrameDropSmallSeekFix",!0),gGa:d(Q,"forceL3WidevineCdm",!1),mHb:d(Q,"useMobileVMAF",!1),jgb:d(u,"desiredVMAFTypeMobile","phone_plus_exp"),kgb:d(u,"desiredVMAFTypeNonMobile","plus_lts"),bL:d(Q,"activateSelectStartingVMAF",!1),OG:d(A,"minStartingVideoVMAF",1),G$:d(Q,"alwaysNotifyEOSForPlaygraph",!0),ZW:d(Q,"enableNewAse",!1),pI:d(Q,"useNewApi",!1),YW:d(Q,"enableHudsonFieldTest",!1),pN:d(ka,"hudsonTitles",["81127954","70125931","80158148"]),Lha:d(A,"maxPartialBuffersAtHudson",1),YG:d(A,"numberOfChunksPerSegment",4),ima:d(A,"targetContentLatency",1E4),vSa:d(A,"targetLongContentLatency",3E4),iia:d(A,"minimumTimeDelay",1),$W:d(Q,"enableWsslEstimate",!1)};S=!0;b.dba=function(a){var f,c;if(0<b.config.LKa&&0===K.I4%b.config.LKa)try{f=q.Y.get(N.Pj);c=q.Y.get(g.Wn).sn("config","info",{params:a});f.Kc(c);}catch(gf){q.log.error("Failed to log config$apply",gf);}M._cad_global.config=b.config;h.eb(a);a&&(Ia=y.sb({},a,{BG:!0}),y.sb(Ia,F,{BG:!0}),k(jb,b.config),Ia.istestaccount&&q.log.trace("Config applied for",Sa(S?Ia:a)),S=!1);};b.dba(Ia);};b.fcb=function(a,b){return E.Ge(a)&&"%"==a[a.length-1]?H.zh(parseFloat(a)*b/100):a|0;};b.tDa=function(a){return a?(a=y.sb({},b.config),y.sb(a,{L_:b.config.sNa},{ev:!0})):b.config;};b.gcb=function(a){var f;f=y.sb({},b.config);return y.sb(f,c(a),{ev:!0});};b.fba=function(b){b=c(b);return y.sb({},a(152)(b),{ev:!0});};b.eba=function(f,h,c){c=!!c&&(0<=c.indexOf("h264hpl")||0<=c.indexOf("vp9"));f={KG:f?b.config.Ytb:b.config.KG,PG:f?b.config.fub:c?b.config.eub:b.config.PG,BB:f&&c?Math.max(b.config.BLa,b.config.ALa):f?b.config.BLa:c?b.config.ALa:b.config.BB,ay:c?b.config.htb:b.config.ay,SW:b.config.SW||f&&b.config.lhb,tx:b.config.tx||f&&b.config.ZEa,RW:!h};return y.sb({},a(152)(f),{ev:!0});};b.icb=c;b.hcb=k;b.ecb="";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ze=b.ib=b.Ue=b.mb=b.U=b.E4=b.wz=b.ub=void 0;(function(a){a.dsb="loadedtracks";a.csb="loadedmetadata";a.loaded="loaded";a.error="error";a.closed="closed";a.yo="currenttimechanged";a.kCa="bufferedtimechanged";a.hhb="durationchanged";a.THb="videosizechanged";a.Kwb="pausedchanged";a.Jxb="playingchanged";a.Thb="endedchanged";a.taa="busychanged";a.KBa="audiotracklistchanged";a.qL="audiotrackchanged";a.EC="timedtexttracklistchanged";a.iI="timedtexttrackchanged";a.qQ="trickplayframeschanged";a.Bub="mutedchanged";a.ZHb="volumechanged";a.EDb="showsubtitle";a.oAb="removesubtitle";a.eIb="watermark";a.sga="isReadyToTransition";a.kG="inactivated";a.QBb="segmentmaploaded";a.RBb="segmentpresenting";a.p$a="autoplaywasallowed";a.q$a="autoplaywasblocked";}(b.ub||(b.ub={})));(b.wz||(b.wz={})).yP="playgraphsegmenttransition";b.E4=function(){function a(){}a.TQa="serverTimeChanged";return a;}();(function(a){a.OE="aseException";a.PE="aseReport";a.n$a="authorized";a.$$="autoplayWasAllowed";a.bk="autoplayWasBlocked";a.F$a="bandwidthMeterAggregateUpdate";a.Tt="bufferUnderrun";a.closed="closed";a.uf="closing";a.yo="currentTimeChanged";a.rx="downloadComplete";a.kG="inactivated";a.vKa="licenseAdded";a.ON="licensed";a.Sr="locationSelected";a.CG="manifestClosing";a.No="manifestPresenting";a.jTb="manifestSelected";a.a_="mediaBufferChanged";a.pia="needLicense";a.w_="nextSegmentChosen";a.Jn="playbackStart";a.Zo="repositioned";a.us="repositioning";a.rQa="safePlayRequested";a.KBb="segmentAborted";a.T0="segmentPresenting";a.aVb="segmentComplete";a.MBb="segmentLastPts";a.PBb="segmentStarting";a.LH="serverSwitch";a.zRa="shouldUpdateVideoDiagInfo";a.Qh="skipped";a.$H="subtitleError";a.mma="throttledMediaTimeChanged";a.gI="timedTextRebuffer";a.EC="timedTextTrackListChanged";a.qQ="trickPlayFramesChanged";a.sQ="tryRecoverFromStall";a.kp="updateNextSegmentWeights";a.zHb="userInitiatedPause";a.$Ta="userInitiatedResume";}(b.U||(b.U={})));(function(a){a[a.uD=0]="NOTLOADED";a[a.LOADING=1]="LOADING";a[a.qd=2]="NORMAL";a[a.CLOSING=3]="CLOSING";a[a.CLOSED=4]="CLOSED";}(b.mb||(b.mb={})));(function(a){a[a.qd=1]="NORMAL";a[a.ve=2]="BUFFERING";a[a.Lva=3]="STALLED";}(b.Ue||(b.Ue={})));(function(a){a[a.Vf=1]="WAITING";a[a.Nc=2]="PLAYING";a[a.Bh=3]="PAUSED";a[a.Lq=4]="ENDED";}(b.ib||(b.ib={})));(function(a){a[a.gz=0]="INITIAL";a[a.Xs=1]="SEEK";a[a.FJ=2]="TRACK_CHANGED";a[a.zz=3]="SEGMENT_CHANGED";}(b.ze||(b.ze={})));},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.yJ=b.Fqa=b.Bxa=void 0;d=a(0);d.__exportStar(a(866),b);d.__exportStar(a(109),b);d.__exportStar(a(34),b);d.__exportStar(a(865),b);d.__exportStar(a(864),b);d.__exportStar(a(863),b);d=a(862);b.Bxa=d;d=a(861);b.Fqa=d;a=a(407);b.yJ=a;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Sb=b.jga=b.Ku=b.Ge=b.Aga=b.Wpb=b.Mpb=b.rga=b.Ju=b.KJa=b.ma=b.yga=b.isArray=b.dKa=b.Qe=b.Wb=b.is=void 0;d=a(139);b.is=d.Qs;b.Wb=function(a){return b.is.Td(a);};b.Qe=function(a){return b.is.nA(a);};b.dKa=function(a){return b.is.i$(a);};b.isArray=function(a){return b.is.Mt(a);};b.yga=function(a){return b.is.jBa(a);};b.ma=function(a,k,m){return b.is.jh(a,k,m);};b.KJa=function(a,k,m){return b.is.H$(a,k,m);};b.Ju=function(a,k,m){return b.is.mr(a,k,m);};b.rga=function(a){return b.is.$K(a);};b.Mpb=function(a){return b.is.b8a(a);};b.Wpb=function(a){return b.is.c8a(a);};b.Aga=function(a){return b.is.kBa(a);};b.Ge=function(a){return b.is.gn(a);};b.Ku=function(a){return b.is.Nl(a);};b.jga=function(a){return b.is.ZK(a);};b.Sb=function(a){return b.is.mV(a);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dd=void 0;b.dd="ConfigSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.xfb=b.Lba=b.qfb=b.ufb=b.mF=b.iM=b.tfb=b.vfb=b.nF=b.bEa=b.sfb=b.rfb=b.eb=b.$e=b.wfb=b.$na=void 0;d=a(5);a=a(86);b.$na=function(){b.eb();};b.wfb=!0;b.$e=d.Y.get(a.Jq);b.eb=b.$e.assert.bind(b.$e);b.rfb=b.$e.K9a.bind(b.$e);b.sfb=b.$e.L9a.bind(b.$e);b.bEa=b.$e.Q9a.bind(b.$e);b.nF=b.$e.T9a.bind(b.$e);b.vfb=b.$e.R9a.bind(b.$e);b.tfb=b.$e.O9a.bind(b.$e);b.iM=b.$e.N9a.bind(b.$e);b.mF=b.$e.S9a.bind(b.$e);b.ufb=b.$e.P9a.bind(b.$e);b.qfb=b.$e.J9a.bind(b.$e);b.Lba=b.$e.M9a.bind(b.$e);b.xfb=b.$e.Gpb.bind(b.$e);},function(d,b,a){var c,k,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.DDa=b.jGa=b.tu=b.Zl=b.Ee=b.VN=b.trim=b.mN=b.iSa=b.Sja=b.rwb=b.Ld=b.zBa=b.yCa=b.sb=b.yd=void 0;c=a(16);k=a(21);m=a(9);t=a(14);b.yd=function(a,b){for(var h in a)a.hasOwnProperty(h)&&b(h,a[h]);};b.sb=b.sb||function(a,c,h){var f,l,q;if(c)if(h){f=h.BG;l=h.prefix;q=h.ev;b.yd(c,function(b,h){if(!q||k.Wb(h))a[(l||"")+(f?b.toLowerCase():b)]=h;});}else b.yd(c,function(b,f){a[b]=f;});return a;};b.yCa=function(a,b,h,f){var c;if(a){c=a[b];t.Sb(c)&&(h=c.apply(a,m.slice.call(arguments,3)));}return h;};b.zBa=function(a){for(var b={},h=a.length;h--;)b[a[h]]=!0;return b;};b.Ld=b.Ld||function(a){return parseInt(a,10);};b.rwb=function(a){return/^true$/i.test(a);};b.Sja=function(a,b){return m.zh(a+m.oz()*(b-a));};b.iSa=function(a){return JSON.stringify(a,null,"  ");};b.mN=function(){var b,h;function a(a){c.eb(void 0!==b[a]);return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};h=/[&'"<>]/g;return function(b){return b.replace(h,a);};}();b.trim=function(){var a;a=/^\s+|\s+$/gm;return function(b){return b.replace(a,"");};}();b.VN=function(a){return Array.isArray(a)?a:[a];};b.Ee=b.Ee||function(a){var b,h,f;if(a){b=a.stack;h=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!=a.indexOf(f)&&(a=f+"\n"+a)):a=f;h&&(a+="\nnumber:"+h);return a;}};b.Zl=function(a){return t.ma(a)?a.toFixed(0):"";};b.tu=function(a){return t.ma(a)?(a/1E3).toFixed(0):"";};b.jGa=function(a){return t.ma(a)?a.toFixed():"";};b.DDa=function(a){for(var b=[],h=0;h<a.length;h++)b[h]=a[h];return b;};},function(d){d.R={yJb:{Ys:0,AOb:1,name:["STARTUP","STEADY"]},QR:{Kg:0,zOb:1,j2a:2,name:["STARTING","STABLE","UNSTABLE"]},Ma:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Qj:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},ng:{URL:0,Az:1,Ora:2,Vs:3,name:["URL","SERVER","LOCATION","NETWORK"]},Je:{HAVE_NOTHING:0,ez:1,dz:2,WI:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Jg:{fJb:0,eLb:1,GNb:2,NEXT:3,gNb:4,cPb:5,gLb:6,$Lb:7,Ys:8,ERROR:9,W5:10,T0a:11,C2:12,WZa:13,VZa:14,w1a:15,v1a:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},IKb:{Vs:0,cKb:1,name:["NETWORK","DECODE"]},wOb:{eKb:"delayedSeamless",zLb:"hideLongTransition"}};},function(d,b,a){var c,k,m,t;c=a(85);k=a(1101);m=a(256);t=a(1098);d=function(){function a(a){this.qt=!1;a&&(this.Ll=a);}a.prototype.fq=function(b){var h;h=new a();h.source=this;h.bH=b;return h;};a.prototype.subscribe=function(a,b,f){var h;h=this.bH;a=k.GFb(a,b,f);h?h.call(a,this.source):a.add(this.source||!a.Cm?this.Ll(a):this.X9(a));if(a.Cm&&(a.Cm=!1,a.yC))throw a.zC;return a;};a.prototype.X9=function(a){try{return this.Ll(a);}catch(h){a.yC=!0;a.zC=h;a.error(h);}};a.prototype.forEach=function(a,b){var f;f=this;b||(c.root.yz&&c.root.yz.config&&c.root.yz.config.Promise?b=c.root.yz.config.Promise:c.root.Promise&&(b=c.root.Promise));if(!b)throw Error("no Promise impl found");return new b(function(b,h){var c;c=f.subscribe(function(b){if(c)try{a(b);}catch(E){h(E);c.unsubscribe();}else a(b);},h,b);});};a.prototype.Ll=function(a){return this.source.subscribe(a);};a.prototype[m.observable]=function(){return this;};a.prototype.bxb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return 0===a.length?this:t.cxb(a)(this);};a.prototype.oQ=function(){var a,b;b=this;a||(c.root.yz&&c.root.yz.config&&c.root.yz.config.Promise?a=c.root.yz.config.Promise:c.root.Promise&&(a=c.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,h){var f;b.subscribe(function(a){return f=a;},function(a){return h(a);},function(){return a(f);});});};a.create=function(b){return new a(b);};return a;}();b.lb=d;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(410),b);},function(d,b,a){var t,q;function c(a){return null!==a&&void 0!==a;}function k(a){return typeof a==b.Jwa;}function m(a,b,f){var h,l,m;if(b)if(f){h=f.BG;l=f.prefix;m=f.ev;q.yd(b,function(b,f){if(!m||c(f))a[(l||"")+(h?b.toLowerCase():b)]=f;});}else q.yd(b,function(b,f){a[b]=f;});return a;}Object.defineProperty(b,"__esModule",{value:!0});b.u=b.Ee=b.mN=b.RF=b.BA=b.createElement=b.wr=b.yBa=b.$V=b.OH=b.sb=b.vp=b.Ld=b.Ku=b.Ge=b.Qe=b.Wb=b.Iwa=b.Y1a=b.Z1a=b.Jwa=b.Py=b.n2=b.pp=b.xI=b.wI=b.xi=b.lS=b.nz=b.oz=b.Jm=b.Dl=b.zh=b.i5=b.Ss=b.WC=b.I5=b.vz=b.cj=b.Ke=void 0;t=a(9);q=a(17);b.Ke=function(){};b.cj=1E3;b.vz=Object.create;b.I5=Object.keys;b.WC=Date.now;b.Ss=Math.floor;b.i5=Math.ceil;b.zh=Math.round;b.Dl=Math.max;b.Jm=Math.min;b.oz=Math.random;b.nz=Math.abs;b.lS=Math.pow;b.xi="$attributes";b.wI="$children";b.xI="$name";b.pp="$text";b.n2="$parent";b.Py="$sibling";b.Jwa="string";b.Z1a="number";b.Y1a="function";b.Iwa="object";b.Wb=c;b.Qe=function(a){return typeof a==b.Iwa;};b.Ge=k;b.Ku=function(a){return k(a)&&a;};b.Ld=function(a){return parseInt(a,10);};b.vp=function(a,b,f){return a>=b?a<=f?a:f:b;};b.sb=m;b.OH=function(a){return m({},a);};b.$V=function(a){var l;for(var b=0;b<arguments.length;++b);for(var b=0,f=arguments.length;b<f;){l=arguments[b++];if(c(l))return l;}};b.yBa=function(a,b){for(var f,h=!0,c;h;)for(h=!1,f=a.length;--f;)c=a[f],c[b]<a[f-1][b]&&(a[f]=a[f-1],a[f-1]=c,h=!0);};b.wr=function(a,b){if(a.length==b.length){for(var f=a.length;f--;)if(a[f]!=b[f])return!1;return!0;}return!1;};b.createElement=function(a,b,f,c){var h;h=t.$d.createElement(a);b&&(h.style.cssText=b);f&&(h.innerHTML=f);c&&q.yd(c,function(a,b){h.setAttribute(a,b);});return h;};b.BA=function(a){var b;b="";q.yd(a,function(a,h){b+=(b?";":"")+a+":"+h;});return b;};b.RF=function(a,h,f){var c;a/h>f?(c=b.zh(h*f),a=h):(c=a,a=b.zh(a/f));return{width:c,height:a};};b.mN=function(){var b,f;function a(a){return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(b){return b.replace(f,a);};}();b.Ee=function(a){var b,f;if(a){b=a.stack;f=a.number;a=""+a;b?(b=""+b,0!=b.indexOf(a)&&(b=a+"\n"+b)):b=a;f&&(b+="\nnumber:"+f);return b;}};b.u={Ok:1001,yh:1003,kYa:1701,uqa:1713,lYa:1715,jYa:1721,FR:1723};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ve=void 0;b.Ve="UtilitiesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ie=void 0;b.Ie="IsTypeSymbol";},function(d,b,a){b=a(125);b.Nfb=0;d.R={EventEmitter:b,Vn:a(873)};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Se=void 0;b.Se="ApplicationSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gf=void 0;b.Gf="AsyncComponentLoaderSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(124);b.cb=!1;d=function(){function a(a,b,c,l,h){this.$a=a;this.type=b;this.byteOffset=c;this.byteLength=l;this.parent=h;this.Pc={};this.NB=l;}a.WA=function(a,b){var l,f;function c(a){a&&a.WA&&(a=a.WA(b),a.length&&(l=l.concat(a)));}l=[];a.type===b&&l.push(a);if(a.Pc)for(var h in a.Pc){f=a.Pc[h];Array.isArray(f)&&f.forEach(c);}return l;};a.dL=function(a,b){void 0===a.Pc[b.type]&&(a.Pc[b.type]=[]);a.Pc[b.type].push(b);};a.XA=function(b,c){return a.WA(b,c)[0];};Object.defineProperties(a.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{L:{get:function(){return this.$a;},enumerable:!0,configurable:!0}});a.prototype.Sf=function(){var a;a=this.$a.Db();this.version=a>>24;this.df=a&16777215;};a.prototype.dL=function(b){a.dL(this,b);};a.prototype.WA=function(b){return a.WA(this,b);};a.prototype.XA=function(b){return a.XA(this,b);};a.prototype.parse=function(){return!0;};a.prototype.NF=function(){return!0;};a.prototype.Bq=function(a){if((a=this.Pc[a])&&Array.isArray(a)&&1===a.length)return a[0];};a.prototype.Ck=function(a,b){b=void 0===b?this.$a.offset:b;c.assert(b>=this.startOffset+8&&b+a<=this.startOffset+this.NB,"Removal range [0x"+b.toString(16)+"-0x"+(b+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.NB).toString(16)+")");this.$a.Ck(a,b,this);};a.prototype.y0=function(a,b,q){q=void 0===q?this.$a.offset:q;c.assert(q>=this.startOffset+8&&q+a<=this.startOffset+this.NB,"Removal range [0x"+q.toString(16)+"-0x"+(q+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.NB).toString(16)+")");this.$a.y0(a,b,q,this);};a.prototype.oPa=function(a,b,c){if(1<c){for(var l=[];0<c--;)l.push(this.Sza(a,b));return l;}return this.Sza(a,b);};a.prototype.rs=function(a){var b,c;c=this;void 0===b&&(b={});a.forEach(function(a){var h,f;if("offset"===a.type){h=a.offset;if(0<h%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");c.$a.offset+=h/8;}else for(h in a){f=a[h];b[h]="string"===typeof f?c.oPa(f):c.oPa(f.type,f.length,f.C9a);}});return b;};a.prototype.Sza=function(a,b){var c;c=this.byteLength-this.$a.offset+this.startOffset;"undefined"===typeof b&&(b=c);switch(a){case"int8":a=this.$a.od();break;case"int64":a=this.$a.Wi();break;case"int32":a=this.$a.Db();break;case"int16":a=this.$a.Zg();break;case"string":a=this.$a.fzb(Math.min(b,c));break;default:throw Error("Invalid type: "+a);}return a;};a.jc=!1;return a;}();b.Uf=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.hJ=b.Yy=b.Ci=b.pR=void 0;b.pR="ConfigurableInputsSymbol";b.Ci="ValidatingConfigurableInputsSymbol";b.Yy="ConfigNameSymbol";b.hJ="InitParamsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.AD=b.KS=b.i3=b.R4=b.$sa=b.fw=b.C7=b.Vv=b.K7=void 0;b.K7="WindowTimersSymbol";b.Vv="JSONSymbol";b.C7="UserAgentSymbol";b.fw="NavigatorSymbol";b.$sa="MediaSourceSymbol";b.R4="LocationSymbol";b.i3="DateSymbol";b.KS="PerformanceSymbol";b.AD="PlatformExtraInfoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yn=b.Uj=void 0;b.Uj="PlatformSymbol";b.Yn="PlatformMutableSymbol";},function(d,b,a){var t,q;function c(a,b){return a&&a.yj&&(b||!1!==a.zx);}function k(a,b,f){return!t.ma(a)||a<b?b:a>f?f:a;}function m(a){if(!(this instanceof m))return new m(a);this.pd=t.ma(a)?a:void 0;}t=a(7);q=new(a(4)).Console("ASEJS_STREAM_SELECTOR","media|asejs");d.R={console:q,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",q.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},pB:c,pda:function(a,b,f){var c,l,q,m;function h(b){var h;h=a[b];if(!h.yj||f&&!f(h,b))return!1;m=b;return!0;}c=a.length;l=0;q=c;t.isArray(b)&&(l=k(b[0],0,c),q=k(b[1],0,c),b=b[2]);b=k(b,l-1,q);for(c=b-1;c>=l;--c)if(h(c))return m;for(c=b+1;c<q;++c)if(h(c))return m;return-1;},tub:function(a,b){return Math.floor(a/(125*b)*1E3);},oab:function(a,b){return Math.ceil(a/1E3*b*125);},NSb:function(a,b){return!a.slice(b+1).some(c);},Om:m,ln:function(a,b){var f;return a.some(function(a,h,c){f=a;return b(a,h,c);})?f:void 0;},Tw:function(a,b){var f;return a.some(function(a,h,c){f=h;return b(a,h,c);})?f:-1;},XV:k};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kk=b.Us=b.Os=void 0;(function(a){a[a.Mwa=0]="Test";a[a.Gra=1]="Int";a[a.P1a=2]="Staging";a[a.a1a=3]="Prod";}(b.Os||(b.Os={})));(function(a){a[a.RS=0]="PreferMsl";a[a.eva=1]="PreferNoMsl";a[a.U_a=2]="NoMsl";}(b.Us||(b.Us={})));b.Kk="GeneralConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.KXa=b.wR=b.vxa=b.o2a=b.Yh=b.sd=b.Vj=b.Mv=b.Rq=void 0;(function(a){a[a.Audio=0]="Audio";a[a.qxa=1]="Video";}(b.Rq||(b.Rq={})));(function(a){a[a.$y=0]="Default";a[a.rz=1]="Microsoft";}(b.Mv||(b.Mv={})));(function(a){a[a.$y=0]="Default";a[a.S2=1]="Cast";a[a.V2=2]="Chrome";a[a.rz=3]="Microsoft";a[a.Sva=4]="Safari";}(b.Vj||(b.Vj={})));(function(a){a[a.EJ=0]="SD";a[a.LR=1]="HD";a[a.oT=2]="UHD";a[a.Ns=3]="DV";a[a.Ps=4]="HDR10";a[a.PC=5]="AVCHigh";a[a.pw=6]="VP9";a[a.yi=7]="AV1";}(b.sd||(b.sd={})));(function(a){a[a.Oq=0]="Level_1_4";a[a.kz=1]="Level_2_2";}(b.Yh||(b.Yh={})));b.o2a=function(){};(function(a){a[a.PNb=0]="Platform";a[a.$Jb=1]="CurrentTitle";}(b.vxa||(b.vxa={})));b.wR="DeviceCapabilitiesSymbol";b.KXa=function(){};},function(d,b){function a(a,b){return"number"!==typeof a||"number"!==typeof b?!1:a&&b?Math.abs(a*b/c(a,b)):0;}function c(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a%b;a=c;}return a;}Object.defineProperty(b,"__esModule",{value:!0});b.la=void 0;d=function(){function b(a,b){"object"===typeof a?(this.Et=a.Ib,this.Ml=a.T):(this.Et=a,this.Ml=b);}b.cwb=function(a){return new b(1,a);};b.Of=function(a){return new b(a,1E3);};b.vma=function(a,b){return Math.floor(1E3*a/b);};b.oia=function(a,b){return Math.floor(a*b/1E3);};b.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};b.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};b.Pda=function(m,k){var q;if(m.T===k.T)return new b(c(m.Ib,k.Ib),m.T);q=a(m.T,k.T);return b.Pda(m.jg(q),k.jg(q));};Object.defineProperties(b.prototype,{Ib:{get:function(){return this.Et;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{T:{get:function(){return this.Ml;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xa:{get:function(){return 1E3*this.Et/this.Ml;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bh:{get:function(){return this.Et/this.Ml;},enumerable:!1,configurable:!0}});b.prototype.jg=function(a){a/=this.T;return new b(Math.floor(this.Ib*a),Math.floor(this.T*a));};b.prototype.add=function(c){var m;if(this.T===c.T)return new b(this.Ib+c.Ib,this.T);m=a(this.T,c.T);return this.jg(m).add(c.jg(m));};b.prototype.zb=function(a){return this.add(new b(-a.Ib,a.T));};b.prototype.q_=function(a){return new b(this.Ib*a,this.T);};b.prototype.lu=function(b){var c;if(this.T===b.T)return this.Ib/b.Ib;c=a(this.T,b.T);return this.jg(c).lu(b.jg(c));};b.prototype.nIa=function(b){return a(this.T,b);};b.prototype.xPa=function(){return new b(this.T,this.Ib);};b.prototype.compare=function(b,c){var q;if(this.T===c.T)return b(this.Ib,c.Ib);q=a(this.T,c.T);return b(this.jg(q).Ib,c.jg(q).Ib);};b.prototype.equal=function(a){return this.compare(function(a,b){return a===b;},a);};b.prototype.VG=function(a){return this.compare(function(a,b){return a!==b;},a);};b.prototype.lessThan=function(a){return this.compare(function(a,b){return a<b;},a);};b.prototype.greaterThan=function(a){return this.compare(function(a,b){return a>b;},a);};b.prototype.Tx=function(a){return this.compare(function(a,b){return a<=b;},a);};b.prototype.fN=function(a){return this.compare(function(a,b){return a>=b;},a);};b.prototype.N$a=function(a,b){var c;c=!1;void 0===c&&(c=!0);return c?this.fN(a)&&this.Tx(b):this.greaterThan(a)&&this.lessThan(b);};b.prototype.toJSON=function(){return{ticks:this.Ib,timescale:this.T};};b.prototype.toString=function(){return this.Ib+"/"+this.T;};b.Dd=new b(0,1);b.dv=new b(1,1E3);b.lpb=new b(Infinity,1);return b;}();b.la=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lg=void 0;b.Lg="SchedulerSymbol";},function(d,b,a){var t,q,l;function c(a){return function(b,h){return b.Zja(h,a);};}function k(a,b){return a.m0.Vyb[b]||m(a,b);}function m(a,b){a=a.Du.data[b];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(b,"__esModule",{value:!0});b.kn=b.hka=b.object=b.bib=b.url=b.ba=b.Vg=b.Jma=b.Fpb=b.C1=b.string=b.Gv=b.vd=b.cZ=b.config=void 0;t=a(48);q=a(3);l=a(133);b.config=function(a,b){return function(f,h,c){var p,q;p=void 0!==b?b:h;q=c.get;void 0!==q&&(c.get=function(){var b;if(!this.pqb(h))return this.Nmb(h);a:{b=(this.h9a?k:m)(this,p.toString());if(void 0!==b)if(b=a(this.vO,b),b instanceof l.Km)this.nGa(p,b);else break a;b=q.bind(this)();}this.WAb(h,b);return b;});return c;};};b.cZ=function(a,b){return a.kPa(b);};b.vd=function(a,b){return a.Wja(b);};b.Gv=function(a,b){return a.Oa(b);};b.string=function(a,b){return a.Zja(b);};b.C1=function(a,f){return a.te(f,b.string);};b.Fpb=function(a,f){return a.te(f,b.cZ);};b.Jma=function(a,f){return a.te(f,b.Gv);};b.Vg=function(a,b){a=a.Oa(b);return a instanceof l.Km?a:q.Gb(a);};b.ba=function(a,b){a=a.Oa(b);return a instanceof l.Km?a:t.ba(a);};b.url=c(/^\S+$/);b.bib=function(a){return function(b,h){return b.jPa(h,a);};};b.object=function(){return function(a,b){return a.lPa(b);};};b.hka=c;b.kn=function(a,b){return function(f,c){return f.te(c,a,b);};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dw="named";b.pS="name";b.JJ="unmanaged";b.yta="optional";b.fJ="inject";b.mz="multi_inject";b.Awa="inversify:tagged";b.Bwa="inversify:tagged_props";b.M5="inversify:paramtypes";b.XWa="design:paramtypes";b.uJ="post_construct";},function(d,b,a){var k,m,t,q;function c(){return b.VJ.vB.ca(q.ha);}Object.defineProperty(b,"__esModule",{value:!0});b.Ibb=b.aDa=b.$Ca=b.ZCa=b.Hbb=b.QL=b.Qg=b.I4=b.Oya=b.VJ=b.m8=void 0;d=a(509);k=a(39);m=a(25);t=a(112);q=a(3);b.m8=d.Zc.get(k.Ai);b.VJ=d.Zc.get(m.Se);b.Oya=d.Zc.get(t.iz);b.I4=b.VJ.id;b.Qg=function(){return b.VJ.Zb().ca(q.ha);};b.QL=function(){return b.m8.bf.ca(q.Fl);};b.Hbb=function(){return b.VJ.vB.ca(q.Fl);};b.ZCa=function(){return b.Oya.CA();};b.$Ca=c;b.aDa=function(){return b.m8.bf.ca(q.ha);};b.Ibb=function(){return c();};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ai=void 0;b.Ai="ClockSymbol";},function(d,b,a){var c,k,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.ae=b.FI=b.Gwa=void 0;c=a(0);k=a(1108);m=a(1);t=a(133);b.Gwa="isTestAccount";q=function(){var h;function a(a,b){this.vDa=b;this.Nja={};this.Du=a.Du;this.vO=a.vO;this.m0=a.m0;}a.prototype.nGa=function(){};a.prototype.WAb=function(a,b){this.Nja[a]=[b,this.Du.jQa];};a.prototype.pqb=function(a){return k.L5.of(this.Nja[a]).map(function(a){return a[1];}).vNa(-1)<this.Du.jQa;};a.prototype.Nmb=function(a){return k.L5.of(this.Nja[a]).map(function(a){return a[0];}).vNa(function(){throw Error("Invalid State Error");});};na.Object.defineProperties(a.prototype,{h9a:{configurable:!0,enumerable:!0,get:function(){var a,c;if(this&&this.Du&&this.Du.data){a=this.Du.data[b.Gwa];"undefined"!==typeof a&&(c=a.toString());a=this.vO.Wja(c);a=a instanceof t.Km?!1:a;}else a=!1;return a;}}});h=a;return h=c.__decorate([m.N(),c.__param(0,m.Wh()),c.__param(1,m.Wh())],h);}();b.FI=q;d=function(){var b;function a(a,b){var f;f=q.call(this,a,b)||this;f.vDa=b;f.debug=a.debug;f.ka=a.Af.xb(f.vDa);return f;}ca(a,q);a.prototype.nGa=function(a,b){this.ka.error("Invalid configuration value.",{name:a},b);this.debug.assert(!1);};b=a;return b=c.__decorate([c.__param(0,m.Wh()),c.__param(1,m.Wh())],b);}();b.ae=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$S=b.og=b.hh=void 0;b.hh={NKa:"logblob",va:"manifest",pi:"license",events:"events",bind:"bind",FNa:"pair",ping:"ping",config:"config"};d=b.og||(b.og={});d[d.Mq=20]="High";d[d.q5=10]="Medium";d[d.mD=0]="Low";b.$S={og:"reqPriority",l1a:"reqAttempt",m1a:"reqName"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$i=void 0;b.$i="Base64EncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tj=void 0;b.Tj="PboCommandContextSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.S4=b.Pj=b.iS=void 0;b.iS="LogBatcherConfigSymbol";b.Pj="LogBatcherSymbol";b.S4="LogBatcherProviderSymbol";},function(d,b,a){var t,q;function c(a){var b,l;b=Object.getOwnPropertyNames(a);for(a=Object.getPrototypeOf(a);a!==Object.prototype;){for(var f=0,c=Object.getOwnPropertyNames(a);f<c.length;f++){l=c[f];-1===b.indexOf(l)&&b.push(l);}a=Object.getPrototypeOf(a);}return b;}function k(a,b,f,c,q){var h;Object.getOwnPropertyNames(a).filter(function(a){return q(a)&&(f||!Object.prototype.hasOwnProperty.call(b,a))&&(c||!(a in b));}).forEach(function(f){h=Object.getOwnPropertyDescriptor(a,f);void 0!==h&&Object.defineProperty(b,f,h);});}function m(a,b,f,p){var h,l;h=[];f||(h=Object.getOwnPropertyNames(b));p||(h=c(b));l=Object.getPrototypeOf(a);null!==l&&l!==Object.prototype&&m(l,b,f,p);k(a,b,!0,!0,function(a){return"constructor"!==a&&-1===h.indexOf(a);});}Object.defineProperty(b,"__esModule",{value:!0});b.Fg=b.Bcb=void 0;t=a(6);b.Bcb=m;q=Object.getOwnPropertyNames(Function);b.Fg=function(a,b,f,c){void 0===f&&(f=!0);void 0===c&&(c=!0);c||t.assert(!f);a.prototype?(m(a.prototype,b.prototype,f,c),k(a,b,f,c,function(a){return-1===q.indexOf(a);})):k(a,b.prototype,f,c,function(a){return-1===q.indexOf(a);});return b;};},function(d,b,a){var h,f,p,y,H,K,E;function c(){var a,f;if(a=b.fY.Qza)return a;a=K.vS.search.substr(1);f=a.indexOf("#");0<=f&&(a=a.substr(0,f));a=k(a);return b.fY.Qza=a;}function k(a){for(var b=/[+]/g,f=(a||"").split("&"),c={},h,l=0;l<f.length;l++)a=y.trim(f[l]),h=a.indexOf("="),0<=h?c[decodeURIComponent(a.substr(0,h).replace(b,"%20")).toLowerCase()]=decodeURIComponent(a.substr(h+1).replace(b,"%20")):c[a.toLowerCase()]=null;return c;}function m(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function t(a){return m(a.constructor);}function q(a){return K.sort.call(a,function(a,b){return a-b;});}function l(a){for(var b=0,f=a.length;f--;)b+=a[f];return b;}Object.defineProperty(b,"__esModule",{value:!0});b.Oxb=b.cN=b.fHa=b.vZ=b.Kxb=b.TJa=b.SVa=b.TVa=b.njb=b.Ip=b.bcb=b.RF=b.Lib=b.qNa=b.kVa=b.u2=b.lVa=b.SQ=b.Ena=b.jVa=b.Bpb=b.BA=b.jyb=b.Lia=b.eea=b.getFunctionName=b.ZG=b.JO=b.fY=b.Fmb=b.gPa=b.SAa=b.yDa=b.dzb=b.wr=b.Xaa=void 0;h=a(10);f=a(16);p=a(5);y=a(17);H=a(21);K=a(9);E=a(14);b.Xaa=function(a,b){if(a===b)return!0;if(!a||!b)return!1;for(var f in a)if(a.hasOwnProperty(f)&&(!b.hasOwnProperty(f)||a[f]!==b[f]))return!1;return!0;};b.wr=b.wr||function(a,b){if(a.length==b.length){for(var f=a.length;f--;)if(a[f]!=b[f])return!1;return!0;}return!1;};b.dzb=function(a){var b;if(a){b=a.length;if(b)return b=y.Sja(0,b-1),a[b];}};b.yDa=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var f=a.length;f--;)if(a[f]!==b[f])return!1;return!0;};b.SAa=function(a,b,f){function c(){a.removeEventListener(b,c);f.apply(this,arguments);}a.addEventListener(b,c);};b.gPa=function(){var a,b,f,c,h,l;a=K.$d.cookie.split("; ");b=a.length;l={};for(f=0;f<b;f++)if(c=y.trim(a[f]))h=c.indexOf("="),0<h&&(l[c.substr(0,h)]=c.substr(h+1));return l;};b.Fmb=c;b.fY=Object.assign(c,{Qza:void 0});b.JO=k;b.ZG=function(a){var b;b="";y.yd(a,function(a,c){b&&(b+="&");f.eb(H.Ge(c)||E.ma(c)||E.jga(c));b+=encodeURIComponent(a)+"="+encodeURIComponent(c);});return b;};b.getFunctionName=m;b.eea=t;b.Lia=function(a){var b;b="";E.isArray(a)||E.yga(a)?b=K.reduce.call(a,function(a,b){return a+(32<=b&&128>b?K.vwa(b):".");},""):H.Ge(a)?b=a:y.yd(a,function(a,f){b+=(b?", ":"")+"{"+a+": "+(E.Sb(f)?m(f)||"function":f)+"}";});return"["+t(a)+" "+b+"]";};b.jyb=function(a,b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b);};b.BA=b.BA||function(a){var b;b="";y.yd(a,function(a,f){b+=(b?";":"")+a+":"+f;});return b;};b.Bpb=function(a,b){var f;f=a[0];if(b<=f[0])return f.slice(1);for(var c=1,h;h=a[c++];){if(b<=h[0]){a=(b-f[0])/(h[0]-f[0]);b=[];for(c=1;c<f.length;c++)b.push((f[c]||0)+a*((h[c]||0)-(f[c]||0)));return b;}f=h;}return f.slice(1);};b.jVa=function(a,b){var h;for(var f={},c=0;c<b.length;c++){h=b[c];if("string"!=typeof h&&"number"!=typeof h)return!1;f[b[c]]=1;}for(c=0;c<a.length;c++)if(h=a[c],!f[h])return!1;return!0;};b.Ena=function(a,b){0>a.indexOf(b)&&a.push(b);};b.SQ=q;b.lVa=l;b.u2=function(a,b){var f,c,h,l;f=-1;c=a.length;if(1===arguments.length){for(;++f<c&&!(null!=(h=a[f])&&h<=h);)h=void 0;for(;++f<c;)null!=(l=a[f])&&l>h&&(h=l);}else{for(;++f<c&&!(null!=(h=b.call(a,a[f],f))&&h<=h);)h=void 0;for(;++f<c;)null!=(l=b.call(a,a[f],f))&&l>h&&(h=l);}return h;};b.kVa=function(a,b){var f,c,h,l;f=-1;c=a.length;if(1===arguments.length){for(;++f<c&&!(null!=(h=a[f])&&h<=h);)h=void 0;for(;++f<c;)null!=(l=a[f])&&h>l&&(h=l);}else{for(;++f<c&&!(null!=(h=b.call(a,a[f],f))&&h<=h);)h=void 0;for(;++f<c;)null!=(l=b.call(a,a[f],f))&&h>l&&(h=l);}return h;};b.qNa=function(a){return E.Sb(a.then)?a:new Promise(function(b,f){a.oncomplete=function(){b(a.result);};a.onerror=function(){f(a.error);};});};b.Lib=function(a,b){var c,h,l,p,m,k;function f(a){0>c.indexOf(a)&&E.ma(a)&&c.push(a);}a=a.slice();q(a);c=[];if(!b||!b.length)return a;if(!a.length)return[];h=b.length;try{for(;h--;){m=""+b[h];k=H.Ld(m);switch(m[m.length-1]){case"-":for(l=a.length;l--;)if(p=a[l],p<k){f(p);break;}break;case"+":for(l=0;l<a.length;l++)if(p=a[l],p>k){f(p);break;}break;default:0<=a.indexOf(k)&&f(k);}}}catch(oa){}c.length||c.push(a[0]);q(c);return c;};b.RF=b.RF||function(a,b,f){var c;a/b>f?(c=K.zh(b*f),a=b):(c=a,a=K.zh(a/f));return{width:c,height:a};};b.bcb=function(a,b,f){for(var c=[],h=0;h<b;h++)c.push(K.lS(a[h]-f,2));return K.Nsa(l(c)/c.length);};b.Ip=function(a,b){var f;f=a.length;b=(f-1)*b+1;if(1===b)return a[0];if(b==f)return a[f-1];f=K.Ss(b);return a[f-1]+(b-f)*(a[f]-a[f-1]);};b.njb=function(a,b){if(!E.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");b=E.isArray(b)?b:[b];for(var f=a.length,c=0;c<f;c++)for(var h=0;h<b.length;h++)if(a[c].type==b[h])return a[c];throw Error("Box not found "+b);};b.TVa=function(a){return a.Dx("trak/mdia/minf/stbl/stsd/"+h.joa+"|"+h.koa).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.tda.schm.uBb;})[0].Dx("schi/tenc").Rr;};b.SVa=function(a){var f;function b(a,b){var c;c=f[a];f[a]=f[b];f[b]=c;}f=new Uint8Array(a);b(0,3);b(1,2);b(4,5);b(6,7);return f;};b.TJa=function(){return E.Sb(K.Bi.requestMediaKeySystemAccess);};b.Kxb=function(a){return function(b){return b&&b[a];};};E.Sb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,b){var f,c;void 0===a&&(a=0);void 0===b&&(b=this.byteLength);a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);f=new ArrayBuffer(b-a);c=new Uint8Array(f);a=new Uint8Array(this,a,b-a);c.set(a);return f;});b.vZ=function(a){return a&&0==a.toLowerCase().indexOf("https");};b.fHa=function(){var a,b;a=new ArrayBuffer(4);b=new Uint8Array(a);a=new Uint32Array(a);b[0]=161;b[1]=178;b[2]=195;b[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};b.cN=function(){var a,b,f;try{a=/playercore.*js/;b=K.Sq.getEntries("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length){f=K.zh(b[0].duration);return JSON.stringify(f);}}catch(X){}};b.Oxb=function(a,b,f){if(a&&a.length)if(f&&f.sbb)try{a.forEach(function(a,c){var h;h=(c=f.sbb[c])&&c.media;h&&H.Ge(h)?(h=p.Ep(h).buffer,a.media={arrayBuffer:h,length:h.byteLength,stream:b,gc:c.cdn}):p.log.warn("chunk not in cache",a.Ug);});}catch(X){p.log.error("error reading cached chunks",X);}else p.log.warn("chunks not available in cached stream",f.type);else p.log.warn("chunks not available in mediabuffer",f.type);};},function(d,b,a){var k;function c(a,b,c,l,h,f,p,y,d,K,E,G){this.code=void 0===a?k.J.Ok:a;this.ad=b;this.mh=c;this.yF=l;this.cs=h;this.message=f;this.sF=p;this.data=y;this.Rca=d;this.xxb=K;this.alert=E;this.D$=G;this.aa=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Cc=void 0;k=a(2);c.Ee=function(a){var b,c,l;if(a){b=a.stack;c=a.number;l=a.message;l||(l=""+a);b?(a=""+b,0!==a.indexOf(l)&&(a=l+"\n"+a)):a=l;c&&(a+="\nnumber:"+c);return a;}return"";};c.prototype.oM=function(a){this.sF=c.Ee(a);this.data=a;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return{code:this.code,subCode:this.ad,extCode:this.mh,edgeCode:this.yF,mslCode:this.cs,message:this.message,details:this.sF,data:this.data,errorDisplayMessage:this.Rca,playbackServiceError:this.xxb};};c.GX=function(a,b){return new c(a,k.u.yh,void 0,void 0,void 0,void 0,b.message,b.stack);};b.Cc=c;},function(d,b,a){var m;function c(a){return m.KJ.apply(this,arguments)||this;}function k(a){return new m.up(a,b.Wy);}Object.defineProperty(b,"__esModule",{value:!0});b.Dd=b.bta=b.M4=b.Iq=b.Wy=b.Dtb=b.Wqb=b.ba=b.yL=b.YVa=void 0;m=a(502);ca(c,m.KJ);b.YVa=c;b.yL=k;b.ba=function(a){return new m.up(a,b.Iq);};b.Wqb=function(a){return new m.up(a,b.M4);};b.Dtb=function(a){return new m.up(a,b.bta);};b.Wy=new c(1,"b");b.Iq=new c(8*b.Wy.mf,"B",b.Wy);b.M4=new c(1024*b.Iq.mf,"KB",b.Wy);b.bta=new c(1024*b.M4.mf,"MB",b.Wy);b.Dd=k(0);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.rub=b.platform=b.Wl=b.Qc=b.Nlb=b.$Ka=void 0;d=a(0);d.__exportStar(a(410),b);d.__exportStar(a(877),b);d.__exportStar(a(876),b);d.__exportStar(a(875),b);b.$Ka=function(c){b.platform.tN(c);return a(874).Esa;};b.Nlb=function(){return a(215);};d=a(18);b.Qc=d;d=a(708);b.Wl=d.Wl;d=a(4);b.platform=d;c=a(707);b.rub=function(){return{cw:c.cw};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ic=void 0;b.ic=function(a){return setTimeout(a,0);};},function(d,b,a){var c,k;c=a(110);k=a(167);d.R=function(a){return function q(b,h){switch(arguments.length){case 0:return q;case 1:return k(b)?q:c(function(f){return a(b,f);});default:return k(b)&&k(h)?q:k(b)?c(function(b){return a(b,h);}):k(h)?c(function(f){return a(b,f);}):a(b,h);}};};},function(d,b,a){var k,m,t,q,l,h;function c(a){return["STANDARD","LIMITED","PREVIEW"][a];}Object.defineProperty(b,"__esModule",{value:!0});b.Od=b.ya=b.bi=b.xe=void 0;d=a(113);(function(a){a[a.Mm=0]="STANDARD";a[a.Wv=1]="LIMITED";a[a.FNb=2]="PREVIEW";}(k||(k={})));m=function(){function a(){}a.xoa="created";a.Mva="started";a.Rva="succeeded";a.Rv="failed";a.Xy="cancelled";a.dR="cancelled_on_create";a.HI="cancelled_on_start";a.cR="cancelled_not_encrypted";return a;}();b.xe=m;t=function(){function a(){}a.kPb="uirequest";a.ENb="prefetch_start";a.CNb="prefetch_complete";a.DNb="prefetch_delete";a.q0a="periodic_update";return a;}();q={manifest:d.ye.Nj.mna,ldl:d.ye.Nj.jz,getHeaders:d.ye.Nj.$I,getMedia:d.ye.Nj.MEDIA};(function(a){a[a.HAVE_NOTHING=0]="HAVE_NOTHING";a[a.HAVE_METADATA=1]="HAVE_METADATA";a[a.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";a[a.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";a[a.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";}(l||(l={})));(function(a){a.UUa="asl_start";a.SUa="asl_comp";a.ZIb="asl_exc";a.TUa="asl_fail";a.H1a="stf_creat";a.YYa="idb_open";a.VYa="idb_block";a.eZa="idb_upgr";a.dZa="idb_succ";a.WYa="idb_error";a.XYa="idb_invalid_state";a.$Ya="idb_open_timeout";a.bZa="idb_open_wrkarnd";a.cZa="idb_storelen_exc";a.ZYa="idb_open_exc";a.aZa="idb_timeout_invalid_storelen";a.t_a="msl_load_data";a.v_a="msl_load_no_data";a.u_a="msl_load_failed";}(h=b.bi||(b.bi={})));(function(a){a.P5="PlaybackRequestStart";a.O5="PlaybackRequestEnd";a.ZS="RequestPrefetchManifestStart";a.YS="RequestPrefetchManifestEnd";a.XS="RequestManifestStart";a.WS="RequestManifestEnd";a.VS="RequestLicenseStart";a.US="RequestLicenseEnd";a.iR="RequestTimedTextUrlStart";a.hR="RequestTimedTextUrlEnd";a.gR="RequestAudioUrlStart";a.fR="RequestAudioUrlEnd";a.kR="RequestVideoUrlStart";a.jR="RequestVideoUrlEnd";a.p2="AppendBufferStart";a.o2="AppendBufferEnd";a.W6="SetMediaKeysStart";a.V6="SetMediaKeysEnd";a.HR="GenerateChallengeStart";a.GR="GenerateChallengeEnd";a.r2="ApplyLicenseStart";a.q2="ApplyLicenseEnd";}(b.ya||(b.ya={})));b.Od=function(){function a(){}a.VLb=k;a.BDa=c;a.xe=m;a.R0a=t;a.vJ=q;a.bi=h;a.Lqa=l;return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bl=void 0;b.Bl="EmeConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jm=b.uEb=b.aNa=void 0;b.aNa=function(a,b){return a-b;};b.uEb=function(a,b){return a.localeCompare(b);};b.jm=function(a,b){var c;c=Object.getOwnPropertyDescriptor(a,b);c&&Object.defineProperty(a,b,{configurable:c.configurable,enumerable:!1,value:c.value,writable:c.writable});};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.AXa="Cannot apply @injectable decorator multiple times.";b.BXa="Metadata key was used more than once in a parameter:";b.oJ="NULL argument";b.Kra="Key Not Found";b.IUa="Ambiguous match found for serviceIdentifier:";b.dWa="Could not unbind serviceIdentifier:";b.M_a="No matching bindings found for serviceIdentifier:";b.l_a="Missing required @injectable annotation in:";b.m_a="Missing required @inject or @multiInject annotation in:";b.h2a=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.gWa="Circular dependency found:";b.HMb="Sorry, this feature is not fully implemented yet.";b.BZa="Invalid binding type:";b.N_a="No snapshot available to restore.";b.EZa="Invalid return type in middleware. Middleware must return!";b.PLb="Value provided to function binding must be a function!";b.GZa="The toSelf function can only be applied when a constructor is used as service identifier";b.CZa="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.JUa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};b.vWa="Invalid Container constructor argument. Container options must be an object.";b.tWa="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.sWa="Invalid Container option. Auto bind injectable must be a boolean";b.uWa="Invalid Container option. Skip base check must be a boolean";b.z_a="Cannot apply @postConstruct decorator multiple times in the same class";b.Q0a=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};b.hWa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};b.E1a="Maximum call stack size exceeded";},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.uY=b.gG=b.vY=b.Kx=b.il=b.Fe=void 0;d=a(76);c=a(50);k=a(9);b.Fe=new d.aj();b.il=1;b.Kx=2;b.vY=3;b.gG=4;b.uY=5;c.ic(function(){var c,q,l;function a(a,b){if(q)q.on(a,b);else M.addEventListener(a,b);}c=M.jQuery;q=c&&c(M);c=(c=M.netflix)&&c.cadmium&&c.cadmium.addBeforeUnloadHandler;l=k.$d.hidden;c?c(function(a){b.Fe.Ub(b.il,a);}):a("beforeunload",function(a){b.Fe.Ub(b.il,a);});a("keydown",function(a){b.Fe.Ub(b.Kx,a);});a("resize",function(){b.Fe.Ub(b.vY);});k.$d.addEventListener("visibilitychange",function(){l!==k.$d.hidden&&(l=k.$d.hidden,b.Fe.Ub(b.gG));});});(function(){M.addEventListener("error",function(a){b.Fe.Ub(b.uY,a);return!0;});}());},function(d,b,a){var k,m;function c(a,q){var l;l=b.Lm[0];l==q&&(l=b.Lm[1]);l?l.close(function(){c(a,q);}):a&&a(k.rd);}Object.defineProperty(b,"__esModule",{value:!0});b.Fua=b.Eua=b.t6=b.u6=b.BD=b.w6=b.v6=b.z6=b.y6=b.Lm=b.A6=b.x6=void 0;k=a(10);m=a(16);b.x6=c;b.A6=function(a,c){switch(a){case b.v6:b.y6.push(c);return;case b.w6:b.z6.push(c);return;}m.eb(!1);};b.Lm=[];b.y6=[];b.z6=[];b.v6=1;b.w6=3;b.BD={index:0,pub:void 0,xda:void 0};b.u6="network";b.t6="media";b.Eua="timedtext";b.Fua="playback";},function(d){d.R=function(b,a){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.JMa=b.EDa=b.Gr=b.aub=b.kDa=b.Tw=b.ln=void 0;b.ln=function(a,b){var c;return a.some(function(a,k,q){c=a;return b(a,k,q);})?c:void 0;};b.Tw=function(a,b){var c;c=-1;return a.some(function(a,k){c=k;return b(a);})?c:-1;};b.kDa=function(a){return function(b,k){b=a(b);k=a(k);return b<k?-1:b>k?1:0;};};b.aub=function(a){return function(b,k){return a(b)<a(k)?b:k;};};b.Gr=function(a){var b;return(b=[]).concat.apply(b,a);};b.EDa=function(a,b){void 0===b&&(b=function(a){return a;});return a.reduce(function(a,c){c=b(c);return void 0===a[c]?a[c]=1:++a[c],a;},{});};b.JMa=function(a){return null!==a&&void 0!==a;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mk=void 0;b.Mk="PlayerErrorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nk=b.Xh=b.X=void 0;d=function(){function a(){}a.UI="playready-h264mpl30-dash";a.eD="playready-h264mpl31-dash";a.W3="playready-h264mpl40-dash";a.vYa="playready-h264hpl22-dash";a.JR="playready-h264hpl30-dash";a.KR="playready-h264hpl31-dash";a.V3="playready-h264hpl40-dash";a.i4="hevc-main-L30-dash-cenc";a.j4="hevc-main-L31-dash-cenc";a.k4="hevc-main-L40-dash-cenc";a.l4="hevc-main-L41-dash-cenc";a.m4="hevc-main-L50-dash-cenc";a.n4="hevc-main-L51-dash-cenc";a.e4="hevc-main10-L30-dash-cenc";a.f4="hevc-main10-L31-dash-cenc";a.g4="hevc-main10-L40-dash-cenc";a.h4="hevc-main10-L41-dash-cenc";a.gD="hevc-main10-L50-dash-cenc";a.hD="hevc-main10-L51-dash-cenc";a.RR="hevc-main10-L30-dash-cenc-prk";a.TR="hevc-main10-L31-dash-cenc-prk";a.VR="hevc-main10-L40-dash-cenc-prk";a.XR="hevc-main10-L41-dash-cenc-prk";a.SR="hevc-main10-L30-dash-cenc-prk-do";a.UR="hevc-main10-L31-dash-cenc-prk-do";a.WR="hevc-main10-L40-dash-cenc-prk-do";a.YR="hevc-main10-L41-dash-cenc-prk-do";a.ZR="hevc-main10-L50-dash-cenc-prk-do";a.$R="hevc-main10-L51-dash-cenc-prk-do";a.vLb="hevc-main-L30-L31-dash-cenc-tl";a.wLb="hevc-main-L31-L40-dash-cenc-tl";a.xLb="hevc-main-L40-L41-dash-cenc-tl";a.yLb="hevc-main-L50-L51-dash-cenc-tl";a.rLb="hevc-main10-L30-L31-dash-cenc-tl";a.sLb="hevc-main10-L31-L40-dash-cenc-tl";a.tLb="hevc-main10-L40-L41-dash-cenc-tl";a.uLb="hevc-main10-L50-L51-dash-cenc-tl";a.KI="hevc-dv5-main10-L30-dash-cenc-prk";a.LI="hevc-dv5-main10-L31-dash-cenc-prk";a.VC="hevc-dv5-main10-L40-dash-cenc-prk";a.MI="hevc-dv5-main10-L41-dash-cenc-prk";a.NI="hevc-dv5-main10-L50-dash-cenc-prk";a.tR="hevc-dv5-main10-L51-dash-cenc-prk";a.X3="hevc-hdr-main10-L30-dash-cenc";a.Y3="hevc-hdr-main10-L31-dash-cenc";a.Z3="hevc-hdr-main10-L40-dash-cenc";a.a4="hevc-hdr-main10-L41-dash-cenc";a.b4="hevc-hdr-main10-L50-dash-cenc";a.c4="hevc-hdr-main10-L51-dash-cenc";a.XI="hevc-hdr-main10-L30-dash-cenc-prk";a.YI="hevc-hdr-main10-L31-dash-cenc-prk";a.fD="hevc-hdr-main10-L40-dash-cenc-prk";a.ZI="hevc-hdr-main10-L41-dash-cenc-prk";a.MR="hevc-hdr-main10-L50-dash-cenc-prk";a.NR="hevc-hdr-main10-L51-dash-cenc-prk";a.oxa="vp9-profile0-L21-dash-cenc";a.NJ="vp9-profile0-L30-dash-cenc";a.OJ="vp9-profile0-L31-dash-cenc";a.qT="vp9-profile0-L40-dash-cenc";a.jxa="vp9-profile2-L30-dash-cenc-prk";a.kxa="vp9-profile2-L31-dash-cenc-prk";a.lxa="vp9-profile2-L40-dash-cenc-prk";a.mxa="vp9-profile2-L50-dash-cenc-prk";a.nxa="vp9-profile2-L51-dash-cenc-prk";a.nna="av1-main-L20-dash-cbcs-prk";a.ona="av1-main-L21-dash-cbcs-prk";a.pna="av1-main-L30-dash-cbcs-prk";a.qna="av1-main-L31-dash-cbcs-prk";a.rna="av1-main-L40-dash-cbcs-prk";a.sna="av1-main-L41-dash-cbcs-prk";a.tna="av1-main-L50-dash-cbcs-prk";a.una="av1-main-L51-dash-cbcs-prk";a.p1a=[a.UI];a.AYa=[a.eD,a.W3];a.e2a=[a.i4,a.j4,a.k4,a.l4,a.m4,a.n4];a.g2a=[a.e4,a.f4,a.g4,a.h4,a.gD,a.hD];a.f2a=[a.RR,a.TR,a.VR,a.XR,a.gD,a.hD];a.jPb=[a.SR,a.UR,a.WR,a.YR,a.ZR,a.$R];a.zYa=[a.X3,a.Y3,a.Z3,a.a4,a.b4,a.c4];a.yYa=[a.XI,a.YI,a.fD,a.ZI,a.MR,a.NR];a.CXa=[a.KI,a.VC,a.NI,a.LI,a.MI,a.tR];a.pKb=[a.KI,a.LI,a.VC,a.MI,a.NI];a.aJb=[a.JR,a.KR,a.V3];a.rPb=[a.NJ,a.OJ,a.qT];a.pw=[a.oxa,a.NJ,a.OJ,a.qT,a.jxa,a.kxa,a.lxa,a.mxa,a.nxa];a.$Ua=[a.nna,a.ona,a.pna];a.ZUa=[a.qna,a.rna,a.sna];a.aVa=[a.tna,a.una];a.yi=[].concat(a.$Ua,a.ZUa,a.aVa);a.uYa=a.p1a.concat(a.AYa);a.xYa=a.e2a;a.wYa=a.g2a;a.hVa=[].concat(a.uYa,a.xYa,a.wYa,a.f2a,a.zYa,a.yYa,a.CXa,a.pw,a.yi);return a;}();b.X=d;b.Xh=function(){function a(){}a.OR="heaac-2-dash";a.BYa="heaac-5.1-dash";a.PR="heaac-2hq-dash";a.uT="xheaac-dash";a.rR="ddplus-2.0-dash";a.c3="ddplus-5.1-dash";a.sR="ddplus-atmos-dash";a.d4="playready-heaac-2-dash";a.DYa="heaac-2-dash-enc";a.DWa="ddplus-2.0-dash-enc";a.EWa="ddplus-5.1-dash-enc";a.CYa="playready-heaac-2-dash-enc";a.hVa=[a.OR,a.PR,a.rR,a.c3,a.sR,a.d4,a.DYa,a.DWa,a.EWa,a.CYa];return a;}();b.Nk=function(){function a(){}a.A1a="simplesdh";a.f3="dfxp-ls-sdh";a.rD="nflx-cmisc";a.xOb="simplesdh-enc";a.iKb="dfxp-ls-sdh-enc";a.sS="nflx-cmisc-enc";return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wn=void 0;b.Wn="LogMessageFactorySymbol";},function(d,b){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(b,"__esModule",{value:!0});b.hw=b.Rm=void 0;ca(a,Error);b.Rm=a;b.hw="PromiseTimerSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37);d=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===c.dw?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();b.Metadata=d;},function(d,b,a){var c,k,m,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.eh=void 0;c=a(0);k=a(1);m=a(309);t=a(3);q=a(47);l=a(32);d=function(){var b;function a(a,b,f,c,h,l){this.context=a;this.errorCode=b;this.bBb=f;this.ska=h;this.D9=l;this.name=c;}a.prototype.send=function(a,b,f,c,h,q,m){var p;m=void 0===m?l.Us.RS:m;p=this;return this.alb(a,b,f,m,c,h,q).then(function(a){return p.context.Egb.send(a.context,a.request);});};a.prototype.alb=function(a,b,f,c,h,l,q){var p,m;try{p=this.context.EAb.create(this.context.iG.CA(),b,f,h,c);m=this.kab(a,c,l,q);return Promise.resolve({context:m,request:p});}catch(P){return Promise.reject(P);}};a.prototype.kab=function(a,b,f,c){return{Pe:this.context.Pe,log:a,ek:this.name,url:this.context.fHb(m.nCa(this.context.Yf,this.context.Cj,this.name,b)),Fka:this.bBb,timeout:t.bh(59),headers:m.mCa(this.context.Cj,this.context.ox),rka:this.rka,ska:void 0!==f?f:this.ska,R$a:c};};a.prototype.$l=function(a){return a instanceof q.Cc?a:m.$l(this.errorCode,a);};a.prototype.OCa=function(a){var b;b=this;a.forEach(function(a){if(b.DN(a))throw a.error;});};a.prototype.DN=function(a){return void 0!==a.error;};na.Object.defineProperties(a.prototype,{rka:{configurable:!0,enumerable:!0,get:function(){return this.D9;}}});b=a;return b=c.__decorate([k.N(),c.__param(0,k.Wh()),c.__param(1,k.Wh()),c.__param(2,k.Wh()),c.__param(3,k.Wh()),c.__param(4,k.Wh()),c.__param(5,k.Wh())],b);}();b.eh=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cb=void 0;b.cb=!1;},function(d,b,a){var f,p,y,H,K,E,G,N,g,X,P,n,r,A,T,oa;function c(a){var b,f,c,h;b=a.url.split("?");f=b[0];c="sc="+a.vBb;h=a.qCa?"random="+(1E17*P.oz()).toFixed(0):"";f=b[1]?f+("?"+b[1]+"&"+c):f+("?"+c);f=f+(h?"&"+h:"");a.gc&&!H.vZ(f)&&(a=p.config&&p.config.Faa)&&(f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function k(a){var b,f,c,h;b=a.url.split("?");f=b[0];c="bb_reason="+a.reason;h=a.qCa?"random="+(1E17*P.oz()).toFixed(0):"";f=b[1]?f+("?"+b[1]+"&"+c):f+("?"+c);f=f+(h?"&"+h:"");a.gc&&!H.vZ(f)&&(a=p.config&&p.config.Faa)&&(f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function m(a,b){var f,c,h,l;f=a.url.split("?");c=f[0];h=t(a);h&&(b.sq=h,(void 0===a.Dq?p.config.Dq:a.Dq)?(a.headers=a.headers||{},a.headers.Range="bytes="+h):(b.sq=h,c="/"==c[c.length-1]?c+"range/":c+"/range/",c+=h));h=a.qCa?"random="+(1E17*P.oz()).toFixed(0):"";p.config.QA&&a.i1&&(l="sc="+a.i1,h=l+(h?"&"+h:""));c=f[1]?c+("?"+f[1]+(h?"&"+h:"")):c+(h?"?"+h:"");a.gc&&!H.vZ(c)&&(a=p.config&&p.config.Faa)&&(c=a.replace("{URL}",c).replace("{EURL}",encodeURIComponent(c)));b.url=c;}function t(a){var b;b=a.offset;if(void 0!==b)return g.iM(b),void 0!==a.length?(a=a.offset+a.length-1,g.iM(a),b+"-"+a):b+"-";}function q(){return!1!==P.Bi.onLine;}function l(a,f,c,h){var l,p;l=h.vja;p=h.headers;a.open(l?"POST":"GET",f,!c);switch(h.responseType){case b.nN:a.responseType="arraybuffer";break;case b.Kfa:X.yCa(a,"overrideMimeType",void 0,"text/xml");}l&&(f={"Content-Type":E.Ge(l)?"text/plain":"application/x-octet-stream"},p=p?E.sb(f,p):f);p&&X.yd(p,function(b,f){a.setRequestHeader(b,f);});h.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");l?a.send(l):a.send();}function h(a,f){switch(f.type){case b.nN:return a.response||new ArrayBuffer(0);case b.Kfa:return a.responseXML;default:return a.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.nN=b.Kfa=b.Jfa=b.Lfa=b.OY=b.aJa=b.$Ia=b.MY=b.v2a=b.w2a=b.Mob=b.NY=b.Job=b.Kob=b.Iob=b.Lob=b.Pe=void 0;f=a(76);p=a(11);y=a(10);H=a(46);K=a(38);E=a(21);G=a(2);N=a(5);g=a(16);X=a(17);P=a(9);n=a(50);r=a(14);A=a(26);T={n7:1,vPb:2,rVa:3};b.Pe=function(){var H,C,X,P;function a(a){var b;try{b=a.url;r.Aga(b)?0===b.indexOf("https")?P.ssl++:0===b.indexOf("http")?P["non-ssl"]++:P.invalid++:P.invalid++;}catch(ga){}}function t(){C.Ub(b.aJa);C.Ub(b.Lfa);}function d(){C.Ub(b.OY);C.Ub(b.Lfa);}H=N.wg("Http");C=new f.aj();X=0;P={ssl:0,"non-ssl":0,invalid:0};N.Y.get(A.Gf).register(G.J.tra,function(a){p.config.nHb&&(M.addEventListener("online",t),M.addEventListener("offline",d),b.NY=q);a(y.rd);});return{addEventListener:C.addListener,removeEventListener:C.removeListener,download:function(f,c){var aa,O,T,U,la,fa,u,Q,sa,wa,ya;function q(){var a;q=E.Ke;ya&&(clearTimeout(ya),ya=null);C.removeListener(b.OY,d);sa&&(sa.onloadstart=null,sa.onreadystatechange=null,sa.onprogress=null,sa.onerror=null,sa.onload=null,sa=sa.onabort=null);Q.aa||(Q.da!=G.u.Sv?aa.warn("Download failed",O,G.Un(Q)):aa.trace("Download aborted",O));a=T;T=void 0;for(var f=a.length;f--;)(function(){var b;b=a[f];n.ic(function(){b(Q);});}());C.Ub(b.$Ia,Q,!0);}function k(){ya&&(clearTimeout(ya),ya=null);ya=setTimeout(P,wa?u:fa);}function t(a,b,f,c){var h,l;Q.aa=!1;Q.da=a;h=K.Qg();l=Q.qk;l.ah=l.ah||h;l.xm=l.xm||h;0<b&&(Q.Li=Q.Vd=b);f&&(Q.nb=f);c&&(Q.wy=c);a!==G.u.aJ&&a!==G.u.fz&&a!==G.u.dJ||!sa||(sa.onabort=null,A());q();}function y(a){var b,f;try{f=a.getResponseHeader("X-Netflix.Retry.Server.Policy");f&&(b=JSON.parse(f));}catch(gb){}return b;}function d(){b.NY()||t(G.u.aJ);}function P(){t(wa?G.u.fz:G.u.dJ);}function A(){try{sa&&sa.abort();}catch(Kc){}}function R(){t(G.u.Sv);}g.eb(c);aa=f.j&&f.j.log&&N.Rg(f.j,"Http")||H;O={Num:X++};T=[c];U={};fa=f.dW||p.config.dW;u=f.zia||p.config.zia;a(f);Q=function(){var a,b,c;a=E.Ke;b=E.Ke;c=E.Ke;return{request:f,type:f.responseType,qk:U,abort:A,timeout:P,o$:function(a){q!==E.Ke&&(g.eb(T,"Callback should be added before download starts."),T&&T.unshift(a));},H_:function(a){c(a);},J_:function(b){a(b);},aH:function(a){b(a);},MCb:function(a){c=a;},UCb:function(b){a=b;},GCb:function(a){b=a;}};}();n.ic(function(){var a,c;if(r.Aga(f.url))try{if(m(f,Q),la=Q.url,g.nF(la),O.Url=la,b.NY()){sa=new XMLHttpRequest();a=p.config.sHb&&"undefined"!=typeof sa.onloadstart;a&&(sa.onloadstart=function(){var a;a=K.Qg();U.requestTime=a;Q.H_({mediaRequest:f,timestamp:a});});sa.onreadystatechange=function(){if(2==sa.readyState){wa=!0;U.ah=K.Qg();sa.onreadystatechange=null;k();for(var a=Q,b=sa.getAllResponseHeaders().split("\n"),c=b.length,h,l,p={};c--;)if(h=b[c])l=h.indexOf(": "),1<=l&&l<h.length-1&&(p[h.substr(0,l)]=h.substr(l+2));a.headers=p;Q.J_({timestamp:U.ah,connect:!0,mediaRequest:f,start:U.requestTime,rt:[U.ah-U.requestTime]});}};sa.onprogress=function(a){wa=!0;U.gx=a.loaded;k();a={mediaRequest:f,bytes:a.loaded,tempstamp:K.Qg(),bytesLoaded:a.loaded};Q.J_(a);};sa.onload=function(){var a;if(q!==E.Ke){g.eb(void 0===U.xm);U.xm=K.Qg();U.ah=U.ah||U.xm;if(200<=sa.status&&299>=sa.status)if(a=h(sa,Q),f.gg)try{Q.content=f.gg(a,Q);Q.aa=!0;Q.parsed=!0;Q.raw=a;}catch(gb){aa.warn("Exception parsing response",gb,O);t(G.u.p4,void 0,E.Ee(gb));}else Q.parsed=!1,Q.content=a,Q.aa=!0;else sa.status==oa?t(G.u.cJ,sa.status):t(G.u.bJ,sa.status,sa.response,y(sa));q();}};sa.onabort=R;sa.onerror=function(){var a,b;a=sa.status;"undefined"!==typeof p.config.iGa&&(a=p.config.iGa);if(0<a)if(a==oa)t(G.u.cJ,a);else{try{b=sa.responseText;}catch(nf){}t(G.u.bJ,a,b,y(sa));}else t(G.u.eJ);};c=K.Qg();l(sa,la,!1,f);C.Ub(b.MY,Q,!0);a||(U.requestTime=c,Q.H_({mediaRequest:f,timestamp:c}));k();C.addListener(b.OY,d);}else n.ic(t.bind(void 0,G.u.aJ));}catch(Ee){aa.error("Exception starting download",Ee,O);t(G.u.t4,void 0,E.Ee(Ee));}else t(G.u.Nqa);});return Q;},Vb:P,VTb:function(a){var b;b=new XMLHttpRequest();a=k(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},GDb:function(a){var b;b=new XMLHttpRequest();a=c(a);b.open("HEAD",a);b.onreadystatechange=function(){};b.send();},vyb:function(a){var b,f,c;b=new XMLHttpRequest();f=a.url;c=a.syb;b.open("HEAD",f);b.timeout=Math.max(2*c.fsb,p.config.Hja);b.onreadystatechange=function(){2==b.readyState&&c&&c.ds({url:f});};b.ontimeout=b.onerror=function(){c&&c.Gia({url:f});};b.send();},h1a:T};}();b.Lob=c;b.Iob=k;b.Kob=m;b.Job=t;b.NY=y.tva;b.Mob=q;b.w2a=l;b.v2a=h;b.MY=1;b.$Ia=2;b.aJa=3;b.OY=4;b.Lfa=5;b.Jfa=1;b.Kfa=2;b.nN=3;oa=420;M._cad_global.http=b.Pe;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.q3=b.XC=b.IR=b.ER=void 0;b.ER="EventSourceSymbol";b.IR="GlobalEventSourceSymbol";b.XC="DebugEventSourceSymbol";b.q3="DiagnosticsEventSourceSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qD=b.nw=void 0;b.nw="TimingApiSymbol";b.qD="MilestoneTimingApiSymbol";},function(d,b,a){var c,k,m,t,q,l;c=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};k=a(494);d=a(114);m=a(258);t=a(257);q=function(a){function b(b,f,c){var h;a.call(this);this.zC=null;this.yg=this.Cm=this.yC=!1;switch(arguments.length){case 0:this.destination=m.empty;break;case 1:if(!b){this.destination=m.empty;break;}if("object"===typeof b){if(b instanceof q||"syncErrorThrowable"in b&&b[t.iC]){h=b[t.iC]();this.Cm=h.Cm;this.destination=h;h.add(this);}else this.Cm=!0,this.destination=new l(this,b);break;}default:this.Cm=!0,this.destination=new l(this,b,f,c);}}c(b,a);b.prototype[t.iC]=function(){return this;};b.create=function(a,f,c){a=new b(a,f,c);a.Cm=!1;return a;};b.prototype.next=function(a){this.yg||this.Uk(a);};b.prototype.error=function(a){this.yg||(this.yg=!0,this.tf(a));};b.prototype.complete=function(){this.yg||(this.yg=!0,this.Pd());};b.prototype.unsubscribe=function(){this.closed||(this.yg=!0,a.prototype.unsubscribe.call(this));};b.prototype.Uk=function(a){this.destination.next(a);};b.prototype.tf=function(a){this.destination.error(a);this.unsubscribe();};b.prototype.Pd=function(){this.destination.complete();this.unsubscribe();};b.prototype.M7a=function(){var a,b;a=this.ho;b=this.Wz;this.Wz=this.ho=null;this.unsubscribe();this.yg=this.closed=!1;this.ho=a;this.Wz=b;};return b;}(d.lw);b.Qm=q;l=function(a){function b(b,f,c,h){var l;a.call(this);this.HK=b;b=this;k.Sb(f)?l=f:f&&(l=f.next,c=f.error,h=f.complete,f!==m.empty&&(b=Object.create(f),k.Sb(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this.ej=b;this.Uk=l;this.tf=c;this.Pd=h;}c(b,a);b.prototype.next=function(a){var b;if(!this.yg&&this.Uk){b=this.HK;b.Cm?this.Q7(b,this.Uk,a)&&this.unsubscribe():this.R7(this.Uk,a);}};b.prototype.error=function(a){var b;if(!this.yg){b=this.HK;if(this.tf)b.Cm?this.Q7(b,this.tf,a):this.R7(this.tf,a),this.unsubscribe();else if(b.Cm)b.zC=a,b.yC=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};b.prototype.complete=function(){var a,b,f;a=this;if(!this.yg){b=this.HK;if(this.Pd){f=function(){return a.Pd.call(a.ej);};b.Cm?this.Q7(b,f):this.R7(f);}this.unsubscribe();}};b.prototype.R7=function(a,b){try{a.call(this.ej,b);}catch(H){throw this.unsubscribe(),H;}};b.prototype.Q7=function(a,b,f){try{b.call(this.ej,f);}catch(K){return a.zC=K,a.yC=!0;}return!1;};b.prototype.Z9=function(){var a;a=this.HK;this.HK=this.ej=null;a.unsubscribe();};return b;}(q);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gq=b.k7=void 0;b.k7="StorageValidatorSymbol";b.Gq="AppStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kq=void 0;b.Kq="DeviceFactorySymbol";},function(d){d.R=function a(c,k){var m;c.__proto__&&c.__proto__!==Object.prototype&&a(c.__proto__,k);Object.getOwnPropertyNames(c).forEach(function(a){m=Object.getOwnPropertyDescriptor(c,a);void 0!==m&&Object.defineProperty(k,a,m);});};},function(d,b,a){var c,k,m,t,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.xh=void 0;c=a(0);a(6);k=a(18);m=a(73);t=a(395);q=a(34);d=a(45);l=a(164);h=a(221);a=a(163);f=function(a){function b(b,f){var c;c=a.call(this,b,f)||this;c.gj=f.index;c.TD=f.Wa;c.ft=f.qb;c.W7a=f.vc?f.vc:b.vc;c.FH=f.FH;c.Nza=f.tl||0;c.Vya=!!f.Mu;c.vg=void 0===f.Ida||void 0===f.Gda||f.Ida===f.Wa&&f.Gda===f.qb?c:new h.QC(c,{Wa:f.Ida,qb:f.Gda});c.m5a=f.lia;c.E2a=f.ki;c.jt=f.Qa?c.GMa(f.Qa):void 0;c.lAa=f.zv;c.Fi=!1;return c;}c.__extends(b,a);b.Ueb=function(a){for(var b=new Uint32Array(a.length),f=new Uint32Array(a.length),c=0,h,l,p=0;p<a.length;++p)h=a[p],l=h.ac,b[p]=h.ft-h.TD,f[p]=l,c+=l;return new t.d7(b,f,a.length?a[0].T:1E3,c);};Object.defineProperties(b.prototype,{oB:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{index:{get:function(){return this.gj;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vc:{get:function(){return this.W7a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Wa:{get:function(){return this.TD;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qb:{get:function(){return this.ft;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tl:{get:function(){return this.Nza;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Mu:{get:function(){return this.Vya;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{lia:{get:function(){return this.m5a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ki:{get:function(){return this.E2a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qa:{get:function(){return this.jt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zv:{get:function(){return this.lAa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ida:{get:function(){return this.vg.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Gda:{get:function(){return this.vg.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zjb:{get:function(){return this.vg.Ao;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pGa:{get:function(){return this.vg.qja;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Bx:{get:function(){return this.vg.qc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{DX:{get:function(){return this.vg.se;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{oGa:{get:function(){return this.vg.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hda:{get:function(){return this.vg.Yb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yjb:{get:function(){return this.vg.wd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JM:{get:function(){return this.zjb/this.stream.Ra.Ib;},enumerable:!1,configurable:!0}});b.prototype.hRa=function(a){this.Nza=a.jg(this.T).Ib;};b.prototype.mLa=function(){this.Vya=!0;};b.prototype.VCb=function(a){this.FH={ke:a.UGa(),wga:a.Av};};b.prototype.MP=function(a){this.lAa=a;};b.prototype.Gj=function(a){var b,f;void 0===a&&(a={});b=this.stream.Ra.Ib;f=this.jt||{start:0,end:this.JM};a=this.GMa(a);this.vg&&this.vg!==this||(this.vg=new h.QC(this,this));a.start>f.start&&(this.TD=this.vg.Wa+a.start*b);a.end<f.end&&(this.ft=this.vg.Wa+a.end*b);this.jt=a;};b.prototype.vca=function(a){void 0===a&&(a=1);this.jt?this.Gj({start:this.jt.start+a,end:this.jt.end}):this.Gj({start:a});};b.prototype.ahb=function(){this.jt?this.Gj({start:this.jt.start,end:(this.jt.end||0)-1}):this.Gj({start:0,end:-1});};b.prototype.cjb=function(a){var f;if(!(a<this.S||a>=this.ja)&&this.ki&&this.ki.length){a=new q.la(a+1-this.S,1E3).lu(this.stream.Ra);for(var b=this.ki.length-1;0<=b;--b){f=this.ki[b];if(f.ym<=a)return f;}return{ym:0,Rc:this.Bx};}};b.prototype.bjb=function(a){var f;if(!(a<this.S||a>=this.ja)&&this.ki&&this.ki.length){a=new q.la(a+1-this.S,1E3).lu(this.stream.Ra);for(var b=this.ki.length-1;0<=b;--b){f=this.ki[b];if(f.ym<=a)return f;}return{ym:0,Rc:this.Bx};}};b.prototype.QFa=function(a,b){var f,c,h;if(!(a<this.S||a>=this.ja)){f=this.Ra.Ib;c=this.Ra.T;h=Math.floor(this.Ao/f);a=Math.min((b?Math.ceil:Math.floor)((q.la.oia(a,c)-this.Wa+(b?-1:1)*(c/1E3-1))/f),h);f=q.la.vma(this.Wa+a*f,c);return a===h?void 0:{ym:a,Rc:f};}};b.prototype.qX=function(a){return this.M===k.Ma.VIDEO?this.cjb(a):this.QFa(a,!1);};b.prototype.$ib=function(a){return this.M===k.Ma.VIDEO?this.bjb(a):this.QFa(a,!0);};b.prototype.C$=function(a){this.ac+=a.ba;this.ft=a.qb;};b.prototype.toString=function(){return"["+this.sa+", "+this.O+"kbit/s, "+("c:"+this.Yb+"-"+this.wd+",")+("p:"+this.qc+"-"+this.se+",d:"+this.duration+"]");};b.prototype.toJSON=function(){var a;a=l.Lv.prototype.toJSON.call(this);m({index:this.index,startPts:this.S,endPts:this.ja,contentStartPts:this.Yb,contentEndPts:this.wd,fragmentStartPts:this.Bx!==this.S?this.Bx:void 0,fragmentEndPts:this.DX!==this.ja?this.DX:void 0,edit:this.Qa},a);return a;};b.prototype.VFa=function(a){var b;if(this.ki)for(var f=0;f<this.ki.length;++f)this.ki[f].ym===a&&(b=this.ki[f].offset);return b;};b.prototype.GMa=function(a){return{start:a.start||0,end:(void 0!==a.end&&0<=a.end?0:this.JM)+(a.end||0)};};return b;}(l.Lv);b.xh=f;d.Fg(a.CI,f);d.Fg(a.AI,f);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(124);b.Mz=function(a){c.assert("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};b.aya=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};b.GPb=function(a,b){return Math.floor(1E3*a/b);};},function(d,b,a){var k,m;function c(){var a,b;a=this;this.yp={};this.on=function(b,c,f){a.addListener(b,c,f);};this.addListener=function(b,c,f){a.yp&&(a.yp[b]=a.yp[b]||new m.M6(!0)).add(c,f);};this.removeListener=function(b,c){a.yp&&a.yp[b]&&a.yp[b].removeAll(c);};this.kea=function(b){return a.yp&&a.yp[b]?a.yp[b].Gr():[];};b=this;this.Ub=function(a,c,f){var h;if(b.yp){h=b.kea(a);for(a={xj:0};a.xj<h.length;a={xj:a.xj},a.xj++)f?function(a){return function(){var b;b=h[a.xj];k.ic(function(){b(c);});};}(a)():h[a.xj].call(this,c);}};}Object.defineProperty(b,"__esModule",{value:!0});b.aj=void 0;k=a(50);m=a(462);c.prototype.tg=function(){this.yp=void 0;};b.aj=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hg=void 0;b.Hg={audio:"audio",video:"video",H1:"timedtext",Gma:"trickplay"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.J3=b.f7=b.L4=b.j7=b.i7=b.DR=b.Cl=void 0;b.Cl={start:"start",stop:"stop",FN:"keepAlive",AM:"engage",splice:"splice"};b.DR="EventPboCommandFactorySymbol";b.i7="StartEventPboCommandSymbol";b.j7="StopEventPboCommandSymbol";b.L4="KeepAliveEventPboCommandSymbol";b.f7="SpliceEventPboCommandSymbol";b.J3="EngageEventPboCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qp={Request:"Request",e7:"Singleton",nT:"Transient"};b.zi={Voa:"ConstantValue",Woa:"Constructor",Qpa:"DynamicValue",R3:"Factory",Function:"Function",D4:"Instance",QZa:"Invalid",pva:"Provider"};b.Zs={Poa:"ClassProperty",Xoa:"ConstructorArgument",G7:"Variable"};},function(d,b){var c;function a(a,b){var m;m=this;this.G8=[];c.forEach(function(c){(c=c(a,b))&&m.G8.push(c);});}Object.defineProperty(b,"__esModule",{value:!0});b.pz=b.ata=void 0;c=[];a.prototype.xs=function(a){var q;for(var b=[],c=this.G8.length;c--;){q=this.G8[c];q.xs(a)&&b.push(q.MF);}if(b.length)return b;};b.ata=a;b.pz=function(a){c.push(a);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(b){a.prototype.parse.call(this,b);this.Ad=this.rs([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{DSb:"int32"},{UVb:"int32"},{offset:32,type:"offset"},{Ajb:"int16"},{$bb:{type:"int8",C9a:32}},{depth:"int16"},{offset:16,type:"offset"}]);return!0;};b.jc=!0;return b;}(a(226)["default"]);b["default"]=d;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Me="avc1";return b;}(d);b.bVa=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Me="avc2";return b;}(d);b.cVa=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Me="avc3";return b;}(d);b.dVa=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Me="avc4";return b;}(d);b.eVa=a;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Me="hvc1";return b;}(d);b.LYa=a;d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Me="hev1";return b;}(d);b.GYa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.B5="6674654e-696c-5078-6966-665374726d21";b.C5="6674654e-696c-4878-6165-6465722e7632";b.mta="6674654e-696c-5078-6966-66496e646578";b.rS="6674654e-696c-4d78-6f6f-6653697a6573";b.qS="6674654e-696c-5378-6565-6b506f696e74";b.Lta="cedb7489-e77b-514c-84f9-7148f9882554";b.Kta="524f39a2-9b5a-144f-a244-6c427c648df4";b.A5="6674654e-696c-4678-7261-6d6552617465";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hq=void 0;d=function(){function a(a){this.Ae=a;}a.prototype.iRa=function(a){this.Ae=a;};a.prototype.WCa=function(){this.Ae=void 0;};a.prototype.IM=function(a){return this.Ae&&this.Ae.K_&&this.Ae.K_(a);};a.prototype.$A=function(a){this.Ae&&this.Ae.fv&&this.Ae.fv(a);};a.prototype.ZA=function(a){this.Ae&&this.Ae.FO&&this.Ae.FO(a);};a.prototype.SF=function(a){this.Ae&&this.Ae.GO&&this.Ae.GO(a);};a.prototype.kGa=function(a){this.Ae&&this.Ae.Via&&this.Ae.Via(a);};a.prototype.Rp=function(a){this.Ae&&this.Ae.Si&&this.Ae.Si(a);};a.prototype.CX=function(a){this.Ae&&this.Ae.EO&&this.Ae.EO(a);};a.prototype.BX=function(a,b,m){this.Ae&&this.Ae.DO&&this.Ae.DO(a,b,m);};return a;}();b.Hq=d;d.prototype.K_=d.prototype.IM;d.prototype.fv=d.prototype.$A;d.prototype.FO=d.prototype.ZA;d.prototype.GO=d.prototype.SF;d.prototype.Si=d.prototype.Rp;d.prototype.EO=d.prototype.CX;d.prototype.DO=d.prototype.BX;d.prototype.Via=d.prototype.kGa;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zI=b.oVa=b.x2=b.y2=void 0;(function(a){a[a.TEa=0]="downloading";a[a.Vgb=1]="downloaded";a[a.Fi=2]="appended";a[a.buffered=3]="buffered";a[a.qAb=4]="removed";a[a.KVb=5]="unused";}(b.y2||(b.y2={})));(function(a){a[a.waiting=1]="waiting";a[a.cUb=2]="ondeck";a[a.TEa=4]="downloading";a[a.Vgb=8]="downloaded";a[a.xN=6]="inprogress";}(b.x2||(b.x2={})));b.oVa="AseBufferViewSymbol";b.zI="AseBufferAccountingSymbol";},function(d,b,a){d=a(140);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;d="undefined"!==typeof M&&M||"undefined"!==typeof d&&d||a;b.root=d;if(!d)throw Error("RxJS could not find any global context (window, self, global)");},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jq=b.k3=void 0;b.k3="DebugConfigSymbol";b.Jq="DebugSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zga=b.bj=void 0;(function(a){a[a.Mm=0]="STANDARD";a[a.Wv=1]="LIMITED";}(b.bj||(b.bj={})));b.Zga=function(a){return["STANDARD","LIMITED"][a];};},function(d,b,a){var k,m;function c(a,b,c,h,f){a=void 0===a?k.J.Ok:a;return m.Cc.call(this,a,b,c,void 0,void 0,h,m.Cc.Ee(f),f)||this;}Object.defineProperty(b,"__esModule",{value:!0});b.Hf=void 0;k=a(2);m=a(47);ca(c,m.Cc);b.Hf=c;},function(d,b,a){var m,t;function c(a,b,c,f,p){var h,l,k;h={};l="number"===typeof p;p=void 0!==p&&l?p.toString():c;if(l&&void 0!==c)throw Error(m.CZa);Reflect.sfa(a,b)&&(h=Reflect.getMetadata(a,b));c=h[p];if(Array.isArray(c))for(var l=0,q=c;l<q.length;l++){k=q[l];if(k.key===f.key)throw Error(m.BXa+" "+k.key.toString());}else c=[];c.push(f);h[p]=c;Reflect.Yba(a,h,b);}function k(a,b){return function(c,f){b(c,f,a);};}Object.defineProperty(b,"__esModule",{value:!0});m=a(55);t=a(37);b.AC=function(a,b,h,f){c(t.Awa,a,b,f,h);};b.iQ=function(a,b,h){c(t.Bwa,a.constructor,b,h);};b.lx=function(a,b,c){"number"===typeof c?Reflect.lx([k(c,a)],b):"string"===typeof c?Reflect.lx([a],b,c):Reflect.lx([a],b);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ah=b.W_a=b.vp=void 0;c=a(14);b.vp=b.vp||function(a,b,c){return a>=b?a<=c?a:c:b;};b.W_a=function(a,b,c,q,l){return(a-b)*(l-q)/(c-b)+q;};b.Ah=function(a){if(c.ma(a))return(a/1E3).toFixed(3);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xv=b.NYa=b.ResponseType=void 0;d=b.ResponseType||(b.ResponseType={});d[d.Text=0]="Text";d[d.wPb=1]="Xml";d[d.CJb=2]="Binary";b.NYa="HttpClientSymbol";b.Xv="LegacyHttpSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gw=void 0;b.gw="PboConfigSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});d=a(228);c=a(123);b.DXa=c;c=a(404);b.z7=c;c=a(400);b.jQb=c;b.gwa=d.SG.Pc.sidx;d=a(841);b.cw=d.cw;d=a(396);b.lJ=d.lJ;d=a(837);b.aw=d.aw;b.XN=d.XN;d=a(75);b.Mz=d.Mz;a=a(836);b.Rq=a.Rq;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lz=void 0;b.lz="LoggerSinksSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dz=void 0;b.Dz="ThrottleFactorySymbol";},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.kw=void 0;c=a(0);k=a(1);d=function(){var b;function a(){}a.prototype.format=function(a,b){var f;for(var c=1;c<arguments.length;++c);f=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof f[b]?f[b]:a;});};a.prototype.vEb=function(a){for(var b=a.length,c=new Uint16Array(b),f=0;f<b;f++)c[f]=a.charCodeAt(f);return c.buffer;};a.prototype.iSa=function(a){return JSON.stringify(a,null,"  ");};b=a;return b=c.__decorate([k.N()],b);}();b.kw=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ow=void 0;b.ow="Utf8EncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nv=void 0;b.Nv="Base16EncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ts=void 0;b.Ts="MediaKeySystemAccessServicesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.BJ=b.Rs=b.C4=void 0;b.C4="Injector";b.Rs=145152E5;b.BJ="ProfileSymbol";},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nq=void 0;d=b.Nq||(b.Nq={});d[d.AJb=8]="Backspace";d[d.Tab=9]="Tab";d[d.OKb=13]="Enter";d[d.XOb=16]="Shift";d[d.ZJb=17]="Ctrl";d[d.cJb=18]="Alt";d[d.NNb=19]="PauseBreak";d[d.SJb=20]="CapsLock";d[d.QKb=27]="Escape";d[d.ZOb=32]="Space";d[d.MNb=33]="PageUp";d[d.LNb=34]="PageDown";d[d.NKb=35]="End";d[d.BLb=36]="Home";d[d.WLb=37]="LeftArrow";d[d.nPb=38]="UpArrow";d[d.cOb=39]="RightArrow";d[d.vKb=40]="DownArrow";d[d.QLb=45]="Insert";d[d.sKb=46]="Delete";d[d.zPb=48]="Zero";d[d.jNb=49]="One";d[d.hPb=50]="Two";d[d.fPb=51]="Three";d[d.kLb=52]="Four";d[d.iLb=53]="Five";d[d.YOb=54]="Six";d[d.WOb=55]="Seven";d[d.MKb=56]="Eight";d[d.RMb=57]="Nine";d[d.TIb=65]="A";d[d.eJb=66]="B";d[d.IJb=67]="C";d[d.CWa=68]="D";d[d.E=69]="E";d[d.RKb=70]="F";d[d.lLb=71]="G";d[d.oLb=72]="H";d[d.OYa=73]="I";d[d.RLb=74]="J";d[d.J4=75]="K";d[d.TZa=76]="L";d[d.ZLb=77]="M";d[d.G_a=78]="N";d[d.dNb=79]="O";d[d.lNb=80]="P";d[d.Q=81]="Q";d[d.WNb=82]="R";d[d.n1a=83]="S";d[d.X1a=84]="T";d[d.iPb=85]="U";d[d.oPb=86]="V";d[d.sPb=87]="W";d[d.M7=88]="X";d[d.xPb=89]="Y";d[d.yPb=90]="Z";d[d.XLb=91]="LeftWindowKey";d[d.dOb=92]="RightWindowKey";d[d.UOb=93]="SelectKey";d[d.UMb=96]="Numpad0";d[d.VMb=97]="Numpad1";d[d.WMb=98]="Numpad2";d[d.XMb=99]="Numpad3";d[d.YMb=100]="Numpad4";d[d.ZMb=101]="Numpad5";d[d.$Mb=102]="Numpad6";d[d.aNb=103]="Numpad7";d[d.bNb=104]="Numpad8";d[d.cNb=105]="Numpad9";d[d.qMb=106]="Multiply";d[d.bJb=107]="Add";d[d.aPb=109]="Subtract";d[d.rKb=110]="DecimalPoint";d[d.uKb=111]="Divide";d[d.SKb=112]="F1";d[d.WKb=113]="F2";d[d.XKb=114]="F3";d[d.YKb=115]="F4";d[d.ZKb=116]="F5";d[d.$Kb=117]="F6";d[d.aLb=118]="F7";d[d.bLb=119]="F8";d[d.cLb=120]="F9";d[d.TKb=121]="F10";d[d.UKb=122]="F11";d[d.VKb=123]="F12";d[d.TMb=144]="NumLock";d[d.SOb=145]="ScrollLock";d[d.VOb=186]="SemiColon";d[d.PKb=187]="Equals";d[d.VJb=188]="Comma";d[d.qKb=189]="Dash";d[d.ONb=190]="Period";d[d.jLb=191]="ForwardSlash";d[d.gPb=192]="Tilde";d[d.kNb=219]="OpenBracket";d[d.zJb=220]="BackSlash";d[d.UJb=221]="CloseBracket";d[d.VNb=222]="Quote";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hz=void 0;b.Hz="VideoPreparerSymbol";},function(d,b,a){(function(b,k){var t;function c(a,b){var c;c=Date.now();this.VDb=c;this.dX=c+a;this.Wwb=a;this.ofb=c+b;this.debug=!1;this.ZL=this.hq=0;}t=new(a(4)).Console("ASEJS_QOE_EVAL","media|asejs");c.prototype.constructor=c;c.prototype.wb=function(a,c){var h;a=((a-this.VDb)/1E3).toFixed(3);a="     ".slice(a.length-4)+a;h=b.Etb();t.debug(a+(" "+Math.floor(h.ASb/1024/1024)+" MB/"+Math.floor(h.VIa/1024/1024)+" MB ")+this.Pba+c);};c.prototype.h7a=function(a){var b;b=Date.now();this.Pba=a;this.hq=0;this.origin=b;this.wb(b,"starting");};c.prototype.N7a=function(a){var c,h;this.ZL++;if(!(1E3>this.ZL)){this.ZL=0;c=Date.now();if(c>=this.ofb)throw Error("Execution deadline exceeded: "+this.Pba);h=b.Etb();this.hq=Math.max(this.hq,h.VIa);if(7516192768<h.VIa)throw Error("Heap total limit exceeded: "+this.Pba);if(!(c<=this.dX)){for(;c>this.dX;)this.dX+=this.Wwb;this.wb(c,a);}}};c.Kb=function(){k.qH=new c(5E3,33E5);};c.d1=function(a){k.qH&&k.qH.h7a(a);};c.update=function(a){k.qH&&k.qH.N7a(a);};c.Bea=function(){if(k.qH)return k.qH.hq;};d.R=c;}.call(this,a(249),a(140)));},function(d,b,a){d.R={EventEmitter:a(743),Vn:a(742)};},function(d,b,a){var q,l;function c(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function k(a){return q.Ge(a);}function m(a){return q.ma(a);}function t(a){return!c(a)&&!k(a)&&!m(a)&&!Array.isArray(a)&&q.Qe(a);}q=a(7);l={Zy:0,eT:1,O_a:2,OBJECT:3,Ok:4};d.R={hfa:function(a){return c(a)?l.Zy:k(a)?l.eT:m(a)?l.O_a:t(a)?l.OBJECT:l.Ok;},fZ:c,Ge:k,ma:m,Qe:t,Xn:l};},function(d){var b;b={tN:function(a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);}};d.R=b;},function(d,b,a){var m,t,q,l,h,f,p,y;function c(a){var b;if(!a.a$){b=a.mIa();a.Tk.mA(b["default"].Ca,a.ci);a.Tk.MC(b.aq?b.aq.U_:void 0,b.aq?b.aq.jC:void 0);m.Na(a.Qb)||(a.a$=!0);}}function k(a,b,c){var h;this.K=c;this.Ap={};this.YD=c.YD;this.vya=new l(this.YD);this.fK=new f(!0);this.SJ=new f(!1);this.reset();this.i9=a;this.Tk=b;this.Rya=t.lm.name();this.Tk.c1(this.Rya);this.LK=this.Iz=0;this.TJ=[];t.events.on("networkchange",function(a){this.Rya=a;this.Tk.c1(a);}.bind(this));h=c.Oba;h&&(h={Jd:q.Je.WI,Fa:{Ca:parseInt(h,10),wh:0},qh:{v$a:0,wh:0},$p:{v$a:0,wh:0}},this.get=function(){return h;});y=this;}m=a(7);t=a(4);q=a(18);a(13);b=a(24).EventEmitter;l=a(392).zqa;h=new t.Console("ASEJS_NETWORK_MONITOR","media|asejs");f=a(822).iqa;p=a(820);y=void 0;k.prototype.constructor=k;k.prototype=Object.create(b.prototype);k.eg=function(){p(void 0!==y);return y;};k.reset=function(){y&&y.reset();};Object.defineProperties(k.prototype,{startTime:{get:function(){return this.ce;}},Jd:{get:function(){return this.ci;}},no:{get:function(){return this.Iz;}},GAa:{get:function(){return this.TJ;}}});k.prototype.C3a=function(){var a,b,f,c;a=this.K;b=a.R3a.concat(a.Z3a);f=a.F8;c=this.vya;return b.reduce(function(a,b){a[b]=c.create(b,f);return a;},{});};k.prototype.reset=function(){var a,b,f;a=this.K.F8;b=this.vya;f=this.K;this.location=null;this.Ap=this.C3a();this.fK.reset();this.SJ.reset();this.zt=b.create("respconn-ewma",a);this.pt=b.create("respconn-ewma",a);this.ci=q.Je.HAVE_NOTHING;this.P7a=function(){c(this);}.bind(this);this.jV=void 0;this.Dw=this.ac=this.Qb=this.ce=null;this.Z2a=this.dV=this.VK=0;this.v9=!1;f.ZPa&&(this.LK=this.Iz=0,this.TJ=[]);};k.prototype.JP=function(a){var b;b=this.Ap;if(a!==this.location){m.V(this.jV)||(clearInterval(this.jV),this.jV=void 0);m.Na(this.location)&&(this.dV=this.VK=0,this.ce=null);if(!m.Na(a)){this.ci=q.Je.HAVE_NOTHING;for(var f in b)b[f]&&b[f].reset&&b[f].reset();this.zt.reset();this.pt.reset();}m.Na(this.ce)||(this.VK+=(m.Na(this.Qb)?t.time.ea():this.Qb)-this.ce,this.dV+=this.ac);this.Qb=this.ce=null;this.ac=0;this.location=a;this.Tk.JP(a);}};k.prototype.c1=function(a){this.Tk.c1(a);};k.prototype.w8a=function(a){this.Ap.QoEEvaluator?h.warn("monitor (QoEEvaluator) already existed."):this.Ap.QoEEvaluator=a;};k.prototype.dAb=function(){delete this.Ap.QoEEvaluator;};k.prototype.Rw=function(a,b,f,l){var p,k;p=this.K;k=this.Ap;if(!0===l.OC)(l=k["throughput-wssl"])&&l.add(a,b,f,!0);else if(m.V(b))h.warn("addDataReceived called with undefined start time");else{p.Y3a&&10>f-b?b=f-10:0===f-b&&(b=f-1);this.fK.Rw(a,b,f,l);this.SJ.Rw(a,b,f,l);for(var t in k)k[t]&&k[t].add&&k[t].add(a,b,f);this.ci=Math.max(this.ci,q.Je.ez);m.Na(this.ce)&&(this.ce=b,this.Qb=null,this.a$=!1,this.ac=0);m.Na(this.Qb)||(b>this.Qb&&(this.ce+=b-this.Qb),this.Qb=null,this.a$=!1);this.ac+=a;this.ci<q.Je.dz&&(f-this.ce>p.k5a||this.ac>p.j5a)&&(this.ci=q.Je.dz);this.ci<q.Je.WI&&(f-this.ce>p.x6a||this.ac>p.w6a)&&(!this.v9||this.Z2a>p.i5a)&&(this.ci=q.Je.WI,c(this),this.jV=setInterval(this.P7a,p.V4a));m.Na(this.Dw)||(b-this.Dw>p.mza?this.i9.AJa(this.Dw,b):f-b>p.mza&&this.i9.AJa(b,f));this.Dw=Math.max(f,this.Dw);}};k.prototype.Kt=function(a){this.zt.add(a);this.Tk.Kt(a);};k.prototype.Jt=function(a){this.pt.add(a);this.Tk.Jt(a);};k.prototype.start=function(a){var b;m.Na(this.Dw)&&!m.Na(this.Qb)&&(this.Dw=a);b=this.Ap;if(this.K.Rla)for(var f in b)b[f]&&b[f].start&&b[f].start(a);};k.prototype.stop=function(a){var b,f;b=this.Ap;for(f in b)b[f]&&b[f].stop&&b[f].stop(a);this.Qb=m.Na(this.Qb)?a:Math.min(this.Qb,a);this.Dw=null;};k.prototype.flush=function(){var a,b;a=this.Ap;for(b in a)a[b]&&a[b].flush&&a[b].flush();};k.prototype.fail=function(){this.ce=null;};k.prototype.gHa=function(){var a,b;a=this.Ap.entropy;a&&(b=a.wab(),a.reset());return b;};k.prototype.mIa=function(){var a,b,f,c,h,l,p;a=t.time.ea();b={};f=this.Ap;c=this.K;h=c.G3a;l=c.d7a;for(p in f)f[p]&&f[p].get&&(b[p]=f[p].get(a),"iqr"===f[p].type&&(b.aq=b[p]),"tdigest"===f[p].type&&(b.wi=b[p]),"wssl"===f[p].type&&(b.OC=b[p]));b.cdnavtp=this.fK.dm();b.activecdnavtp=this.SJ.dm();b["default"]=h&&b[h]?b[h]:b["throughput-ewma"];"none"!==c.Ska&&"none"!==l&&(b.CQa=l&&b[l]?b[l]:b["throughput-sw"]);return b;};k.prototype.get=function(){var a,b,f,c,h,l;a=this.mIa();b=a["default"];f=this.zt.get();c=this.pt.get();h=this.K;if(a.CQa)l=a.CQa,b=m.ma(b.Ca)&&m.ma(l.Ca)&&b.Ca>l.Ca&&0<l.Ca?l:b;a.Jd=this.ci;a.Fa=b;!h.$W||!b||m.Na(b.Ca)||isNaN(b.Ca)||!a.OC||m.Na(a.OC.Ca)||isNaN(a.OC.Ca)||("max"===h.wUa?a.Fa.Ca=Math.max(a.OC.Ca,b.Ca):"sum"===h.wUa&&(a.Fa.Ca+=a.OC.Ca));a.qh=f;a.$p=c;b=this.VK+!m.Na(this.ce)?(m.Na(this.Qb)?t.time.ea():this.Qb)-this.ce:0;a.time=b;return a;};k.prototype.akb=function(){var a;a=this.VK+!m.Na(this.ce)?(m.Na(this.Qb)?t.time.ea():this.Qb)-this.ce:0;return{SE:Math.floor(8*(this.dV+this.ac)/a),BSb:this.i9.Yc()};};k.prototype.pnb=function(){var a,b,f;a={};b=this.get(!0);if(b.Jd&&b.Fa){a.aseavtp=Number(b.Fa.Ca).toFixed(2);a.asevartp=Number(b.Fa.wh).toFixed(2);if(b.aq){f=b.aq.U_;!f||isNaN(f.vk)||isNaN(f.uk)||isNaN(f.Ti)||(a.aseniqr=0<f.Ti?Number((f.vk-f.uk)/f.Ti).toFixed(2):-1,a.aseiqr=Number(f.vk-f.uk).toFixed(2),a.asemedtp=Number(f.Ti).toFixed(2));a.iqrsamples=b.aq.jC;}b.wi&&b.wi.vu&&(a.tdigest=b.wi.vu());}return a;};k.prototype.dC=function(a,b){var f;f=b.requestId;1===++this.Iz&&(this.emit("active",a),this.start(a));f&&this.TJ.push(f);this.fK.dC(a,b);this.SJ.dC(a,b);};k.prototype.uka=function(){++this.LK;};k.prototype.fC=function(a,b,f){var c;c=f.requestId;b&&--this.LK;--this.Iz;this.K.ZPa&&(this.Iz=Math.max(this.Iz,0),this.LK=Math.max(this.LK,0));0===this.Iz&&(this.stop(a),this.emit("inactive",a));c&&(b=this.TJ.indexOf(c),0<=b&&this.TJ.splice(b,1));this.fK.fC(a,f);this.SJ.fC(a,f);};d.R=k;},function(d,b,a){var p;function c(a,b){if(a.length==b.length&&1<a.length){for(var f=a.length,c=0,h=q(a),l=q(b),p=0;p<f;p++)c+=a[p]*b[p];return(c-h*l/f)/f;}return!1;}function k(a){if(!Array.isArray(a)||2>a.length)return!1;a=m(a);return Math.sqrt(a);}function m(a){var b;if(!Array.isArray(a)||2>a.length)return!1;b=t(a);return q(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function t(a){return Array.isArray(a)&&a.length?q(a)/a.length:!1;}function q(a){return Array.isArray(a)?a.reduce(function(a,b){return a+b;},0):!1;}function l(a,b,f){return Math.max(Math.min(a,f),b);}function h(a,b){return"number"===typeof a?a:b;}function f(a){return 1/(1+Math.exp(-a));}p=a(7);d.R={Ha:function(a,b,f){try{a.emit(b,f);}catch(E){a.tf("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",E,"Event:",f);}},xr:function(){var a,b,f;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);f=new Uint8Array(b);a.reduce(function(a,b){f.set(new Uint8Array(b),a);return a+b.byteLength;},0);return f.buffer;},XV:l,vbb:function(a,b,f,c){return{min:l(h(a.min,b),f,c),max:l(h(a.max,b),f,c),au:l(a.au||6E4,0,6E5),FCa:l(a.FCa||0,-3E5,3E5),scale:l(a.scale||6E4,0,3E5),xQa:l(a.xQa||0,-3E5,3E5),gamma:l(a.gamma||1,.1,10)};},yd:function(a,b){void 0!==a&&p.pwb(a).forEach(function(a){b(a[0],a[1]);});},yFa:function(a,b,c){return a.min+(a.max-a.min)*(1-Math.pow(f(6*(b-(a.au+(a.FCa||0)*(1-c)))/(a.scale+(a.xQa||0)*(1-c))),a.gamma));},gib:function(a,b){return a.min+(a.max-a.min)*Math.pow(f(6*(b-a.au)/a.scale),a.gamma);},rSb:q,kkb:t,Enb:m,pSb:k,cSb:c,bSb:function(a,b){var f;if(a.length==b.length){f=c(a,b);a=k(a);b=k(b);if(0<a&&0<b)return f/(a*b);}return!1;},Yx:function(a,b,f){return b.PDa?b.PDa(f):new a.Console("ASEJS","media|asejs",f);},Zka:function(a){return a.length?"{"+a+"} ":"";},sBb:function(a,b,f){return{min:a.min*f+(1-f)*b.min,max:a.max*f+(1-f)*b.max,au:a.au*f+(1-f)*b.au,scale:a.scale*f+(1-f)*b.scale,gamma:a.gamma*f+(1-f)*b.gamma};},tanh:Math.tanh||function(a){var b;b=Math.exp(+a);a=Math.exp(-a);return Infinity==b?1:Infinity==a?-1:(b-a)/(b+a);},Ela:f,im:function(a){var b;b=a.Ja.fd.ia.id;return{S:a.S,duration:a.duration,offset:a.offset,ba:a.ba,O:a.O,profile:a.profile,bc:a.bc,La:b,sa:a.sa,Lb:a.Lb,location:a.location,wj:a.wj,Ji:a.Ji,jv:{fd:{ia:{id:b}}}};}};},function(d,b,a){var c;c=a(167);d.R=function(a){return function t(b){return 0===arguments.length||c(b)?t:a.apply(this,arguments);};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cz=void 0;b.Cz="SourceBufferTypeProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.iz=void 0;b.iz="IdProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.K6=b.ye=void 0;(function(a){a.bz=function(){function a(){}a.bWa="cache_start";a.cWa="cache_success";a.ZVa="cache_abort";a.aWa="cache_fail";a.$Va="cache_evict";a.p0a="pb_request";a.G1a="start_playback";return a;}();a.Nj=function(){function a(){}a.mna="auth";a.jz="ldl";a.$I="hdr";a.MEDIA="media";return a;}();a.RQ=function(){function a(){}a.bR="cached";a.LOADING="loading";a.bYa="expired";return a;}();}(b.ye||(b.ye={})));b.K6="PrefetchEventsFactorySymbol";},function(d,b,a){var k,m,t,q,l,h;function c(a){return a.reduce(function(a,b){return a.concat(b instanceof h.pT?b.IF:b);},[]);}k=a(176);m=a(493);t=a(494);q=a(1100);l=a(492);h=a(1099);d=function(){function a(a){this.closed=!1;this.DE=this.Wz=this.ho=null;a&&(this.Z9=a);}a.prototype.unsubscribe=function(){var a,b,f,d,g,G;a=!1;if(!this.closed){f=this.ho;d=this.Wz;g=this.Z9;G=this.DE;this.closed=!0;this.DE=this.Wz=this.ho=null;for(var N=-1,C=d?d.length:0;f;)f.remove(this),f=++N<C&&d[N]||null;t.Sb(g)&&(f=q.mTa(g).call(this),f===l.vx&&(a=!0,b=b||(l.vx.e instanceof h.pT?c(l.vx.e.IF):[l.vx.e])));if(k.isArray(G))for(N=-1,C=G.length;++N<C;)f=G[N],m.Qe(f)&&(f=q.mTa(f.unsubscribe).call(f),f===l.vx&&(a=!0,b=b||[],f=l.vx.e,f instanceof h.pT?b=b.concat(c(f.IF)):b.push(f)));if(a)throw new h.pT(b);}};a.prototype.add=function(b){var f;if(!b||b===a.EMPTY)return a.EMPTY;if(b===this)return this;f=b;switch(typeof b){case"function":f=new a(b);case"object":if(f.closed||"function"!==typeof f.unsubscribe)return f;if(this.closed)return f.unsubscribe(),f;"function"!==typeof f.Kxa&&(b=f,f=new a(),f.DE=[b]);break;default:throw Error("unrecognized teardown "+b+" added to Subscription.");}(this.DE||(this.DE=[])).push(f);f.Kxa(this);return f;};a.prototype.remove=function(a){var b;b=this.DE;b&&(a=b.indexOf(a),-1!==a&&b.splice(a,1));};a.prototype.Kxa=function(a){var b,f;b=this.ho;f=this.Wz;b&&b!==a?f?-1===f.indexOf(a)&&f.push(a):this.Wz=[a]:this.ho=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();b.lw=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qy=void 0;b.Qy="ApiInfoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.RI=b.y3=void 0;b.y3="DrmServicesSymbol";b.RI="DrmServicesProviderSymbol";},function(d,b,a){var c,k,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.Rn=void 0;c=a(0);k=a(1);m=a(41);t=a(65);a(151);d=function(){var b;function a(a,b,c,l,q){b=t.eh.call(this,a,b,l,m.hh.events,q,m.hh.events+"/"+c)||this;b.context=a;b.hib=c;return b;}ca(a,t.eh);a.prototype.cf=function(a,b){var f,c;f=this;c=this.LV(b);return this.send(a,b.href,c).then(function(){return b;})["catch"](function(a){throw f.$l(a);});};a.prototype.Co=function(a,b,c){var f,h;f=this;h=this.LV(c);return this.send(a,b.wea("events").href,h).then(function(a){b.t$(a.result.links);return c;})["catch"](function(a){throw f.$l(a);});};a.prototype.LV=function(a){return{event:this.hib,xid:a.ga,position:a.position||0,clientTime:a.PL,sessionStartTime:a.GP,mediaId:a.GG,trackId:a.ab,sessionId:a.sessionId,appId:a.iL,playTimes:this.mab(a.MO),sessionParams:a.Mn,mdxControllerEsn:a.Tha};};a.prototype.raa=function(a){return{downloadableId:a.gd,duration:a.duration};};a.prototype.mab=function(a){var b;b={total:a.total,audio:a.audio.map(this.raa),video:a.video.map(this.raa),text:a.text.map(this.raa)};a.total!==a.GC&&(b.totalContentTime=a.GC);return b;};b=a;return b=c.__decorate([k.N(),c.__param(0,k.Wh()),c.__param(1,k.Wh()),c.__param(2,k.Wh()),c.__param(3,k.Wh()),c.__param(4,k.Wh())],b);}();b.Rn=d;},function(d,b,a){var c,k,m,t,q,l,h,f,p,y,H,K,g,G,N;Object.defineProperty(b,"__esModule",{value:!0});b.Xc=b.Yk=void 0;c=a(49);k=a(312);m=a(621);t=a(186);q=a(11);l=a(10);h=a(147);f=a(297);p=a(38);d=a(2);y=a(5);H=a(200);K=a(9);g=a(144);G=a(26);N=a(57);y.Y.get(G.Gf).register(d.J.dra,function(d){var G,E,C,n,A,r,oa;G=y.Y.get(H.pJ).tba();E=y.Y.get(h.v3).YC;C=y.Y.get(k.o5).Rj;n={SB:y.OM("ASE"),E9a:y.OM("JS-ASE",void 0,"Platform"),wg:y.OM,storage:g.storage,zo:g.zo,imb:K.WC,getTime:p.Qg,xG:{},Rj:C,Vq:m.Vq,YC:E,MediaSource:f.Zsa,SourceBuffer:t.m5,lk:function(){return[q.config.yV,q.config.AV];},ix:function(a){N.Lm.forEach(function(b){b.rRa(a);});}};E=new Promise(function(a){g.storage.load("nh",function(b){n.xG.nh=b.aa?b.data:void 0;a();});});C=new Promise(function(a){g.storage.load("lh",function(b){n.xG.lh=b.aa?b.data:void 0;a();});});A=new Promise(function(a){g.storage.load("gh",function(b){n.xG.gh=b.aa?b.data:void 0;a();});});r=new Promise(function(a){g.storage.load("sth",function(b){n.xG.sth=b.aa?b.data:void 0;a();});});oa=new Promise(function(a){g.storage.load("vb",function(b){n.xG.vb=b.aa?b.data:void 0;a();});});Promise.all([E,C,oa,r,A]).then(function(){var f;f=a(619)(n);b.Xc=a(296);b.Xc.declare(c.Wl);b.Xc.declare({My:["useMediaCache",!1],px:["diskCacheSizeLimit",0],dRb:["dailyDiskCacheWriteLimit",0],b_:["mediaCachePrefetchMs",8E3],Uha:["mediaCachePartitionConfig",{}]});b.Xc.set(a(152)(q.config),!0,y.OM("ASE"));f=c.$Ka(f);b.Yk=new f(b.Xc,G);b.Yk.Kb(q.config.yV,q.config.AV,{SB:n.SB},q.config.nP);d(l.rd);})["catch"](function(a){n.SB.error("Exception loading location history from local storage",a);});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.HS=b.Lk=b.xh=void 0;b.xh=function(){};(function(a){a.V5="PRE_FETCH";a.N6="QC";a.Mm="STANDARD";a.Z6="SUPPLEMENTAL";a.yXa="DOWNLOAD";}(b.Lk||(b.Lk={})));b.HS="PboManifestCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.DD=void 0;b.DD="PlaygraphConfigSymbol";},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Hsb=b.UNa=b.xwb=b.VGa=b.Fwb=b.Py=b.n2=b.pp=b.xI=b.wI=b.xi=void 0;c=a(17);k=a(16);b.xi="$attributes";b.wI="$children";b.xI="$name";b.pp="$text";b.n2="$parent";b.Py="$sibling";b.Fwb=/^\s*\<\?xml.*\?\>/i;b.VGa=function(a,b,c){for(var l=2;l<arguments.length;++l);for(l=1;(b=arguments[l++])&&(a=a[b]););return a;};b.xwb=function(a,t){var q;a?q=c.Ld(a[b.pp]):void 0!==t&&(q=t);k.iM(q);return q;};b.UNa=function(a,c){var q;a?q=a[b.pp]:void 0!==c&&(q=c);k.bEa(q);return q;};b.Hsb=function(a,c){var q;q={};q[b.xi]=a;q[b.pp]=c;return q;};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(225);d=function(){function a(a,b,c){this.tag=a;this.view=b;this.L=c;this.startOffset=c.offset;}a.hPa=function(b,c){var l,h;l=b.od();h=b.izb();b=new(k.rF[l]||a)(l,b.Skb(h),b);b.parse(c);return b;};Object.defineProperties(a.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});a.prototype.parse=function(){this.L.offset=this.startOffset+this.length;this.L.JB=0;return!0;};a.prototype.RFa=function(a){var b;b=[];this.tag===a&&b.push(this);if(this.rF)for(var l=0;l<this.rF.length;l++)b=c.__spreadArrays(b,this.rF[l].RFa(a));return b;};a.prototype.XA=function(a){for(a=this.RFa(a);0<a.length;)return a[0];};a.prototype.Rza=function(){for(this.rF=[];this.L.offset<this.startOffset+this.length;)this.rF.push(a.hPa(this.L,this));};return a;}();b.n3=d;d.prototype.skip=d.prototype.parse;},function(d){var c,k;function b(){var b,t;if(DataView.prototype&&DataView.prototype.dG&&!k){try{b=new ArrayBuffer(4);t=new DataView(b);t.eG(0,4,1);}catch(q){return;}try{b=new ArrayBuffer(4);t=new DataView(b);t.eG(1,2,2);}catch(q){DataView.prototype.eG=a(DataView.prototype.eG,DataView.prototype.getUint8,Uint8Array);DataView.prototype.oY=a(DataView.prototype.oY,DataView.prototype.getUint16,Uint16Array);DataView.prototype.dG=a(DataView.prototype.dG,DataView.prototype.getUint32,Uint32Array);DataView.prototype.rea=a(DataView.prototype.rea,DataView.prototype.getInt8,Int8Array);DataView.prototype.pea=a(DataView.prototype.pea,DataView.prototype.getInt16,Int16Array);DataView.prototype.qea=a(DataView.prototype.qea,DataView.prototype.getInt32,Int32Array);}c.Anb=function(a,b,c,f,p){return a.eG(b,c,f||1,p);};c.ynb=function(a,b,c,f,p){return a.oY(b,c,f||2,p);};c.znb=function(a,b,c,f,p){return a.dG(b,c,f||4,p);};c.gSb=function(a,b,c,f,p){return a.rea(b,c,f||1,p);};c.eSb=function(a,b,c,f,p){return a.pea(b,c,f||2,p);};c.fSb=function(a,b,c,f,p){return a.qea(b,c,f||4,p);};k=!0;}}function a(a,b,c){return function(l,h,f,p){var q;f=f||c.BYTES_PER_ELEMENT;if(l+h*f>this.byteLength){q=new c(h);q.set(a.call(this,l,h-1,f,p));q[h-1]=b.call(this,l+(h-1*f),p);return q;}return a.call(this,l,h,f,p);};}c={eG:function(a,b,c,l,h){var f;f=new Uint8Array(c);l=l||1;for(var p=0;p<c;++p,b+=l)f[p]=a.getUint8(b,h);return f;},oY:function(a,b,c,l,h){var f;f=new Uint16Array(c);l=l||2;for(var p=0;p<c;++p,b+=l)f[p]=a.getUint16(b,h);return f;},dG:function(a,b,c,l,h){var f;f=new Uint32Array(c);l=l||4;for(var p=0;p<c;++p,b+=l)f[p]=a.getUint32(b,h);return f;},rea:function(a,b,c,l,h){var f;f=new Int8Array(c);l=l||1;for(var p=0;p<c;++p,b+=l)f[p]=a.getInt8(b,h);return f;},pea:function(a,b,c,l,h){var f;f=new Int16Array(c);l=l||2;for(var p=0;p<c;++p,b+=l)f[p]=a.getInt16(b,h);return f;},qea:function(a,b,c,l,h){var f;f=new Int32Array(c);l=l||4;for(var p=0;p<c;++p,b+=l)f[p]=a.getInt32(b,h);return f;},RRb:b};k=!1;c.Ykb=function(){return k;};b();d.R=c;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);return b;}(Error);b.assert=function(a,b){if(!a)throw new k(b||"Assertion failed");};},function(d){var t,q,l,h;function b(){b.Kb.call(this);}function a(a,c,h,l){var f,p;if("function"!==typeof h)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof h);f=a.Wf;void 0===f?(f=a.Wf=Object.create(null),a.Pz=0):(void 0!==f.STb&&(a.emit("newListener",c,h.listener?h.listener:h),f=a.Wf),p=f[c]);void 0===p?(f[c]=h,++a.Pz):("function"===typeof p?p=f[c]=l?[h,p]:[p,h]:l?p.unshift(h):p.push(h),h=void 0===a.BK?b.Nfb:a.BK,0<h&&p.length>h&&!p.cIb&&(p.cIb=!0,h=Error("Possible EventEmitter memory leak detected. "+p.length+" "+String(c)+" listeners added. Use emitter.setMaxListeners() to increase limit"),h.name="MaxListenersExceededWarning",h.ou=a,h.type=c,h.count=p.length,console&&console.warn&&console.warn(h)));return a;}function c(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.YFa||(this.target.removeListener(this.type,this.tUa),this.YFa=!0,q(this.listener,this.target,a));}function k(a,b,h){a={YFa:!1,tUa:void 0,target:a,type:b,listener:h};b=c.bind(a);b.listener=h;return a.tUa=b;}function m(a){var b;b=this.Wf;if(void 0!==b){a=b[a];if("function"===typeof a)return 1;if(void 0!==a)return a.length;}return 0;}t="object"===typeof Reflect?Reflect:null;q=t&&"function"===typeof t.apply?t.apply:function(a,b,c){return Function.prototype.apply.call(a,b,c);};l=Number.isNaN||function(a){return a!==a;};d.R=b;b.EventEmitter=b;b.prototype.Wf=void 0;b.prototype.Pz=0;b.prototype.BK=void 0;h=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return h;},set:function(a){if("number"!==typeof a||0>a||l(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");h=a;}});b.Kb=function(){if(void 0===this.Wf||this.Wf===Object.getPrototypeOf(this).Wf)this.Wf=Object.create(null),this.Pz=0;this.BK=this.BK||void 0;};b.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||l(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");this.BK=a;return this;};b.prototype.emit=function(a){var c,f,h;for(var b=[],f=1;f<arguments.length;f++)b.push(arguments[f]);c="error"===a;f=this.Wf;if(void 0!==f)c=c&&void 0===f.error;else if(!c)return!1;if(c){0<b.length&&(h=b[0]);if(h instanceof Error)throw h;b=Error("Unhandled error."+(h?" ("+h.message+")":""));b.context=h;throw b;}f=f[a];if(void 0===f)return!1;if("function"===typeof f)q(f,this,b);else{h=f.length;for(var c=Array(h),l=0;l<h;++l)c[l]=f[l];for(f=0;f<h;++f)q(c[f],this,b);}return!0;};b.prototype.addListener=function(b,c){return a(this,b,c,!1);};b.prototype.on=b.prototype.addListener;b.prototype.GOa=function(b,c){return a(this,b,c,!0);};b.prototype.once=function(a,b){if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);this.on(a,k(this,a,b));return this;};b.prototype.kyb=function(a,b){if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);this.GOa(a,k(this,a,b));return this;};b.prototype.removeListener=function(a,b){var f,c,h,l,p;if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);c=this.Wf;if(void 0===c)return this;f=c[a];if(void 0===f)return this;if(f===b||f.listener===b)0===--this.Pz?this.Wf=Object.create(null):(delete c[a],c.removeListener&&this.emit("removeListener",a,f.listener||b));else if("function"!==typeof f){h=-1;for(l=f.length-1;0<=l;l--)if(f[l]===b||f[l].listener===b){p=f[l].listener;h=l;break;}if(0>h)return this;if(0===h)f.shift();else{for(;h+1<f.length;h++)f[h]=f[h+1];f.pop();}1===f.length&&(c[a]=f[0]);void 0!==c.removeListener&&this.emit("removeListener",a,p||b);}return this;};b.prototype.$G=b.prototype.removeListener;b.prototype.removeAllListeners=function(a){var b,f,c;f=this.Wf;if(void 0===f)return this;if(void 0===f.removeListener)return 0===arguments.length?(this.Wf=Object.create(null),this.Pz=0):void 0!==f[a]&&(0===--this.Pz?this.Wf=Object.create(null):delete f[a]),this;if(0===arguments.length){b=Object.keys(f);for(f=0;f<b.length;++f)c=b[f],"removeListener"!==c&&this.removeAllListeners(c);this.removeAllListeners("removeListener");this.Wf=Object.create(null);this.Pz=0;return this;}b=f[a];if("function"===typeof b)this.removeListener(a,b);else if(void 0!==b)for(f=b.length-1;0<=f;f--)this.removeListener(a,b[f]);return this;};b.prototype.listeners=function(a){var b;b=this.Wf;if(void 0===b)a=[];else if(a=b[a],void 0===a)a=[];else if("function"===typeof a)a=[a.listener||a];else{for(var b=Array(a.length),f=0;f<b.length;++f)b[f]=a[f].listener||a[f];a=b;}return a;};b.listenerCount=function(a,b){return"function"===typeof a.listenerCount?a.listenerCount(b):m.call(a,b);};b.prototype.listenerCount=m;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.mT=b.Sm=void 0;b.Sm={yD:"PRIMARY",lna:"ASSISTIVE",toa:"COMMENTARY",NONE:"NONE"};b.mT={assistive:b.Sm.lna,closedcaptions:b.Sm.lna,directorscommentary:b.Sm.toa,commentary:b.Sm.toa,subtitles:b.Sm.yD,primary:b.Sm.yD,none:b.Sm.NONE};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.hs=b.MLa=void 0;d=a(944);a=a(941);b.MLa=d;b.hs=a;},function(d,b,a){var c,k,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.Al=void 0;c=a(33);k=a(61);m=a(443);d=a(96);t=a(129);new d.kw();a=function(){function a(a,b,f){var h;h=m.JI.call(this,a,b,c.Rq.qxa)||this;h.config=a;h.aia=b;h.is=f;h.type=c.Vj.$y;h.LQ=t.Ed.SDa();return h;}ca(a,m.JI);a.prototype.Bs=function(){return Promise.resolve(!1);};a.prototype.VF=function(){return Promise.resolve("");};a.prototype.cI=function(){return Promise.resolve(!1);};a.prototype.bI=function(){return Promise.resolve(!1);};a.prototype.cQ=function(){return Promise.resolve(!1);};a.prototype.aQ=function(){return Promise.resolve(!1);};a.prototype.TF=function(a){return this.LQ[a];};a.prototype.r$=function(a){return a;};a.prototype.iLa=function(a){switch(a){case c.Yh.Oq:return"1.4";case c.Yh.kz:return"2.2";}};a.prototype.DA=function(){var a;a={};a[k.X.UI]="avc1.4D401E";a[k.X.eD]="avc1.4D401F";a[k.X.W3]="avc1.4D4028";a[k.X.i4]="hev1.1.6.L90.B0";a[k.X.j4]="hev1.1.6.L93.B0";a[k.X.k4]="hev1.1.6.L120.B0";a[k.X.l4]="hev1.1.6.L123.B0";a[k.X.m4]="hev1.1.6.L150.B0";a[k.X.n4]="hev1.1.6.L153.B0";a[k.X.e4]="hev1.2.6.L90.B0";a[k.X.f4]="hev1.2.6.L93.B0";a[k.X.g4]="hev1.2.6.L120.B0";a[k.X.h4]="hev1.2.6.L123.B0";a[k.X.gD]="hev1.2.6.L150.B0";a[k.X.hD]="hev1.2.6.L153.B0";a[k.X.RR]="hev1.2.6.L90.B0";a[k.X.TR]="hev1.2.6.L93.B0";a[k.X.VR]="hev1.2.6.L120.B0";a[k.X.XR]="hev1.2.6.L123.B0";a[k.X.X3]="hev1.2.6.L90.B0";a[k.X.Y3]="hev1.2.6.L93.B0";a[k.X.Z3]="hev1.2.6.L120.B0";a[k.X.a4]="hev1.2.6.L123.B0";a[k.X.b4]="hev1.2.6.L150.B0";a[k.X.c4]="hev1.2.6.L153.B0";a[k.X.XI]="hev1.2.6.L90.B0";a[k.X.YI]="hev1.2.6.L93.B0";a[k.X.fD]="hev1.2.6.L120.B0";a[k.X.ZI]="hev1.2.6.L123.B0";a[k.X.KI]=t.Ed.g3;a[k.X.LI]=t.Ed.lpa;a[k.X.VC]=t.Ed.mpa;a[k.X.MI]=t.Ed.npa;a[k.X.NI]=t.Ed.opa;a[k.X.tR]=t.Ed.ppa;a[k.X.vYa]="avc1.640016";a[k.X.JR]="avc1.64001E";a[k.X.KR]="avc1.64001F";a[k.X.V3]="avc1.640028";a[k.X.oxa]=t.Ed.MJ;a[k.X.NJ]=t.Ed.MJ;a[k.X.OJ]=t.Ed.MJ;a[k.X.qT]=t.Ed.MJ;a[k.X.jxa]=t.Ed.LJ;a[k.X.kxa]=t.Ed.LJ;a[k.X.lxa]=t.Ed.LJ;a[k.X.mxa]=t.Ed.LJ;a[k.X.nxa]=t.Ed.LJ;a[k.X.nna]=t.Ed.yi;a[k.X.ona]=t.Ed.yi;a[k.X.pna]=t.Ed.yi;a[k.X.qna]=t.Ed.yi;a[k.X.rna]=t.Ed.yi;a[k.X.sna]=t.Ed.yi;a[k.X.tna]=t.Ed.yi;a[k.X.una]=t.Ed.yi;return a;};a.prototype.UHa=function(){return this.config().JQ;};a.prototype.$F=function(){return Promise.resolve(void 0);};a.prototype.bN=function(){return Promise.resolve(void 0);};a.prototype.cM=function(a){var b;b=[];this.is.Td(a)&&b.push(this.iLa(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:b,isHdcpEngaged:!!b.length}];};a.lI="video/mp4;codecs={0};";return a;}();b.Al=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ed=void 0;c=a(33);b.Ed=function(){function a(){}a.SDa=function(b){var m;m={};m[c.sd.EJ]=a.dD;m[c.sd.LR]=a.dD;m[c.sd.oT]=a.VI;m[c.sd.Ps]=a.Ps;m[c.sd.Ns]=b||a.Ns;m[c.sd.PC]=a.dD;m[c.sd.pw]=a.MJ;m[c.sd.yi]=a.yi;return m;};a.dD="avc1.640028";a.VI="hev1.1.6.L93.B0";a.g3="dvhe.05.01";a.lpa="dvhe.05.04";a.mpa="dvhe.05.05";a.npa="dvhe.05.06";a.opa="dvhe.05.07";a.ppa="dvhe.05.09";a.Ns=a.g3;a.Ps=a.VI;a.PQ="mp4a.40.2";a.uT="mp4a.40.42";a.aKb="ec-3";a.qPb="vp9";a.MJ="vp09.00.11.08.02";a.LJ="vp09.02.31.10.01";a.yi="av01.0.04M.08";a.yWa=[a.ppa,a.opa,a.npa,a.mpa,a.lpa,a.g3];return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gz=void 0;b.Gz="TimeoutMonitorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.CJ=b.m7=void 0;b.m7="SystemRandomSymbol";b.CJ="RandomGeneratorSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(19),b);d.__exportStar(a(491),b);d.__exportStar(a(1096),b);d.__exportStar(a(258),b);d.__exportStar(a(114),b);a(1089);a(1085);a(1082);a(1078);a(1075);a(1072);a(1070);a(1067);a(1063);a(1060);a(1059);a(1053);a(1051);a(1049);a(1047);a(1046);a(1040);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.iT=b.Km=void 0;b.Km=function(){};b.iT="StringObjectReaderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pD=void 0;b.pD="MediaKeysStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Opa=b.Im=void 0;d=b.Im||(b.Im={});d[d.WB=0]="playready";d[d.l2=1]="widevine";d[d.VA=2]="fairplay";d[d.SQb=3]="clearkey";b.Opa="DrmTypeSymbol";},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.ZC=b.ob=void 0;c=a(135);k=a(47);m=a(2);b.ob=function(){function a(){}a.hea=function(a){if(a){if(a.includes(b.ZC.WB))return c.Im.WB;if(a.includes("fps"))return c.Im.VA;if(a.includes(b.ZC.l2))return c.Im.l2;}throw new k.Cc(m.J.UXa,void 0,void 0,void 0,void 0,"Invalid KeySystem: "+a);};a.$Ga=function(a){switch(a){case c.Im.WB:return b.ZC.WB;case c.Im.VA:return b.ZC.VA;default:return b.ZC.l2;}};a.Uq="com.microsoft.playready";a.Fd="com.microsoft.playready.hardware";a.zJ="com.microsoft.playready.software";a.QNb="com.chromecast.playready";a.RNb="org.chromium.external.playready";a.hLb="com.apple.fps.2_0";a.u2a="com.widevine.alpha";a.SNb="com.microsoft.playready.recommendation";a.TNb="com.microsoft.playready.recommendation.3000";a.UNb="com.microsoft.playready.recommendation.2000";return a;}();b.ZC={VA:"fairplay",l2:"widevine",WB:"playready"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zD=void 0;b.zD="PlatformConfigDefaultsSymbol";},function(d,b,a){var l;function c(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function k(a,b){return null===a.gv?!1:a.gv.jf===b?!0:k(a.gv,b);}function m(a){function b(a,f){void 0===f&&(f=[]);f.push(c(a.jf));return null!==a.gv?b(a.gv,f):f;}return b(a).reverse().join(" --\x3e ");}function t(a){a.Kaa.forEach(function(a){if(k(a,a.jf))throw a=m(a),Error(l.gWa+" "+a);t(a);});}function q(a){var b;if(a.name)return a.name;a=a.toString();b=a.match(/^function\s*([^\s(]+)/);return b?b[1]:"Anonymous function: "+a;}Object.defineProperty(b,"__esModule",{value:!0});l=a(55);b.bG=c;b.BKa=function(a,b,c){var f;f="";a=c(a,b);0!==a.length&&(f="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.nk&&(b=q(a.nk));f=f+"\n "+b;a.AA.PLa&&(f=f+" - "+a.AA.PLa);}));return f;};b.ubb=t;b.urb=function(a,b){var f,c;if(b.vga()||b.oga()){f="";c=b.dmb();b=b.Rkb();null!==c&&(f+=c.toString()+"\n");null!==b&&b.forEach(function(a){f+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+f;}return" "+a;};b.getFunctionName=q;},function(d,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Qs=void 0;c=/^\S+$/;a.prototype.IA=function(a){return void 0!==a;};a.prototype.Td=function(a){return null!==a&&void 0!==a;};a.prototype.nA=function(b){return a.iBa(b);};a.prototype.i$=function(b){return!(!b||!a.iBa(b));};a.prototype.Mt=function(a){return Array.isArray(a);};a.prototype.jBa=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.jh=function(b,c,t){return a.DAa(b,c,t);};a.prototype.h$=function(b){return a.h$(b);};a.prototype.H$=function(b,c,t){return a.uV(b,c,t)&&0===b%1;};a.prototype.mr=function(b,c,t){return a.uV(b,c||0,t);};a.prototype.$K=function(b){return a.uV(b,1);};a.prototype.b8a=function(b){return a.uV(b,0,255);};a.prototype.c8a=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.kBa=function(a){return!(!a||!c.test(a));};a.prototype.gn=function(b){return a.EAa(b);};a.prototype.Nl=function(b){return!(!a.EAa(b)||!b);};a.prototype.ZK=function(a){return!0===a||!1===a;};a.prototype.mV=function(a){return"function"==typeof a;};a.EAa=function(a){return"string"==typeof a;};a.DAa=function(a,b,c){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===c||a<=c);};a.h$=function(a){return"number"==typeof a&&isNaN(a);};a.uV=function(b,c,t){return a.DAa(b,c,t)&&0===b%1;};a.iBa=function(a){return"object"==typeof a;};b.Qs=new a();},function(d){var b;b=function(){return this;}();try{b=b||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof M&&(b=M);}d.R=b;},function(d,b,a){var c,k,m,t,q,l,h,f,p,y,H,K,g,G,N,C,X,P;Object.defineProperty(b,"__esModule",{value:!0});b.rT=void 0;c=a(189);k=a(11);m=a(57);t=a(5);q=a(192);l=a(2);h=a(28);f=a(200);p=a(148);y=a(279);H=a(180);K=a(103);g=a(26);G=a(276);N=a(25);C=a(142);X=a(166);P=a(500);d=function(){function a(b){var h,p;h=this;this.createPlayer=function(a,b){var f;b=void 0===b?{}:b;b="number"===typeof b?{Vh:b}:b;f=t.Y.get(X.oD);f=b.manifest?f.create(b.manifest):void 0;a=t.Y.get(H.AJ).Qeb(a);return h.RDa(a,b,f);};this.createPlaygraphPlayer=function(a,b,f){var c;c=t.Y.get(X.oD);f=f?c.create(f):void 0;return h.RDa(C.$0a.encode(a),b,f);};this.closeAllPlayers=function(a){m.x6(void 0===a?function(){}:a);};this.init=function(b){b=void 0===b?function(){}:b;h.QE.PN(function(f){f.aa?(k.config.Y0?h.aCb().then(function(){c.Bua();})["catch"](function(a){t.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(h,a.CV);b(Object.assign({success:!0},a.CV));}):b({success:!1,error:t.Pua(f.errorCode||l.J.cra,f)});});};this.applyConfig=function(a){h.GTa(a);k.dba(a);};this.prepare=function(a,b){var f;a=h.Cja.zEa(a)||[];f=new Set();a=a.filter(function(a){var b;b=f.has(a.G);f.add(a.G);return!b;});if(k.config.Xo&&h.Bc())try{h.Bc().ov(a,b);}catch(la){t.log.warn("Prepare call failed",la);}};this.predownload=function(a,b){if((a=h.Cja.zEa(a))&&k.config.My&&h.Bc())try{h.Bc().Yxb(a,b);}catch(U){t.log.warn("Predownload call failed",U);}};this.lookupPredownloaded=function(){return k.config.My&&h.Bc()?h.Bc().Qu():Promise.resolve([]);};this.ppmUpdate=function(a){M._cad_global.playerPredictionModel?((a=h.Cja.igb(a))&&M._cad_global.playerPredictionModel.update(a),M._cad_global.prefetchEvents&&M._cad_global.prefetchEvents.update(a)):t.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){t.bB().cI().then(a)["catch"](function(){return a(!1);});};this.supportsUltraHd=function(a){t.bB().cQ().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){t.bB().aQ().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyVision=function(a){t.bB().bI().then(a)["catch"](function(){return a(!1);});};this.close=function(){};this.deviceThroughput=function(){var a;a=t.Y.get(f.pJ).tba();return a?Promise.resolve(a.dm()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=t.Y.get(f.pJ).tba();return a?Promise.resolve(a.hmb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return k.config.Ihb;};this.Cja=t.Y.get(q.MS);this.QE=t.Y.get(g.Gf);this.Bc=t.Y.get(K.Hz);p=t.Y.get(P.q6).apply();this.GTa(b);k.uDa([b],p);t.bB().cQ();}a.prototype.GTa=function(a){t.Y.get(h.hJ).Ftb(a);};a.prototype.aCb=function(){return t.Y.get(p.wJ)()["catch"](function(a){t.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){t.log.error("Unable to send deferred playdata",a);});};a.prototype.RDa=function(a,b,f){var c,h,l,p;b=void 0===b?{}:b;c=t.Y.get(N.Se);h=t.Y.get(y.G6);l=t.Y.get(G.I6);p=t.Y.get(H.AJ);h=h.create(a);a=h.TX();c=c.Zb();b=Object.assign(Object.assign({startPts:b.playbackState&&b.playbackState.currentTime||a.kf,uiPlayStartTime:Date.now()},b),{endPts:a.ug,isPlaygraph:!0});l=l.create(c,h,p);l.addEpisode({movieId:a.oa,playbackParams:b,manifest:f});return l;};a.CV={};return a;}();b.rT=d;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(568),b);d.__exportStar(a(567),b);},function(d,b,a){var c,k,m,t,q,l,h,f,p;Object.defineProperty(b,"__esModule",{value:!0});b.Gh=void 0;c=a(10);k=a(11);d=a(2);m=a(16);t=a(5);q=a(350);l=a(9);h=a(26);f=a(30);p=t.Y.get(h.Gf);p.register(d.J.y4,function(a){var h,d,y,G;h=t.Y.get(f.Uj);m.eb(k.config);m.eb(l.ew&&l.ew.getDeviceId||l.tS||h.HX);d=t.Y.get(q.p3);y=t.wg("Device");p.cd("devs");G=t.Y.get(f.Yn);d.create({deviceId:k.config.deviceId,HX:h.HX,EEa:"deviceid",Ih:k.config.Ih,wx:G.Ypa,eca:h.eca,userAgent:l.El,hha:k.config.hha,gea:k.config.gea,rgb:G.YWa||!1,l$a:k.config.PBa.e,qgb:G.fKb||!1,LTb:k.config.Cr?"mslstoretest":"mslstore"}).then(function(f){b.Gh=f;M._cad_global.device=b.Gh;y.info("Esn source: "+b.Gh.Uca);p.cd("devdone");a(c.rd);})["catch"](function(b){b.aa=void 0;a(b);});});},function(d,b,a){var c,k,m,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.zo=b.storage=void 0;c=a(11);k=a(10);m=a(301);d=a(2);t=a(300);q=a(298);l=a(5);a=a(26);b.storage=b.storage||void 0;b.zo=b.zo||void 0;l.Y.get(a.Gf).register(d.J.mra,function(a){var f;switch(c.config.nEb){case"idb":f=t.aSa;break;case"none":f=m.cSa;break;case"ls":f=q.bSa;}f(function(f){f.aa?(b.storage=f.storage,b.zo=f.zo,a(k.rd)):a(f);});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xJ=void 0;b.xJ="PboPublisherSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pb=void 0;b.Pb=function(){function a(){}a.Nd={wta:"mr1",vta:"mr2",xta:"mr3",rJ:"mr4",Y_a:"mr5",tz:"mr6"};a.kc={UNSENT:0,OPENED:1,iw:2,xz:3,DONE:5,Rv:6,yI:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};a.$Nb={kna:0,Bz:1,nta:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.aD={NO_ERROR:-1,iXa:0,jpa:1,uXa:2,mXa:3,nWa:4,voa:5,Q2:6,oWa:7,pWa:8,qWa:9,kWa:10,mWa:11,uoa:12,lWa:13,jWa:14,IYa:15,Pqa:16,Oqa:17,q4:18,s4:19,r4:20,Rqa:21,KYa:22,aS:23,Qqa:24,JYa:25,pXa:26,jXa:27,D1a:28,$Wa:29,aXa:30,bXa:31,cXa:32,dXa:33,eXa:34,fXa:35,gXa:36,hXa:37,kXa:38,lXa:39,nXa:40,oXa:41,qXa:42,rXa:43,sXa:44,tXa:45,vXa:46,wXa:47,C1a:48,TIMEOUT:49,o4:50,Mqa:51,HYa:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};a.xc={AH:{kna:!0,Bz:!1,nta:!0}};return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.v3=b.Fpa=void 0;b.Fpa=function(){this.AUDIO=0;this.VIDEO=1;this.EYa=2;this.cf=function(){};};b.v3="DownloadTrackConstructorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.wJ=b.k6=void 0;b.k6="PboPlaydataServicesSymbol";b.wJ="PboPlaydataServicesProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kD=void 0;b.kD="LicenseProviderSymbol";},function(d,b,a){var k,m;function c(a){switch(a){case k.u.bJ:return"http";case k.u.dJ:return"connectiontimeout";case k.u.fz:return"readtimeout";case k.u.p4:return"corruptcontent";case k.u.Sv:return"abort";case k.u.eJ:case k.u.t4:return"unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Tea=b.Jea=b.Iea=void 0;k=a(2);m=a(9);b.Iea=c;b.Jea=function(a,b){a={errorcode:a+(b.errorCode||k.J.Ok)};b.da&&(a.errorsubcode=b.da);b.Vd&&(a.errorextcode=b.Vd);b.Sca&&(a.erroredgecode=b.Sca);b.nb&&(a.errordetails=b.nb);b.Li&&(a.httperr=b.Li);b.s_&&(a.aseneterr=b.s_);b.eX&&(a.errordata=b.eX);b.cO&&(a.mediaerrormessage=b.cO);(b=c(Number(b.da)))&&(a.nwerr=b);return a;};b.Tea=function(){return{screensize:m.Tq.width+"x"+m.Tq.height,screenavailsize:m.Tq.availWidth+"x"+m.Tq.availHeight,clientsize:M.innerWidth+"x"+M.innerHeight};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uR=b.l3=void 0;(b.l3||(b.l3={})).W0a="PboDebugEvent";b.uR={A_a:"Manifest",Event:"Event",YLb:"Logblob"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d.R=function(a){return{minInitVideoBitrate:a.as,minHCInitVideoBitrate:a.fia,maxInitVideoBitrate:a.Vu,minInitAudioBitrate:a.mO,maxInitAudioBitrate:a.YN,minHCInitAudioBitrate:a.lO,minAcceptableVideoBitrate:a.jO,minRequiredBuffer:a.nO,minPrebufSize:a.Wg,rebufferingFactor:a.aka,useMaxPrebufSize:a.Vma,maxPrebufSize:a.by,maxRebufSize:a.Oha,maxBufferingTime:a.Qo,minAudioMediaRequestSizeBytes:a.g_,minVideoMediaRequestSizeBytes:a.l_,initialBitrateSelectionCurve:a.XY,initSelectionLowerBound:a.oJa,initSelectionUpperBound:a.pJa,throughputPercentForAudio:a.F1,bandwidthMargin:a.daa,bandwidthMarginContinuous:a.eaa,bandwidthMarginCurve:a.faa,conservBandwidthMargin:a.hba,switchConfigBasedOnInSessionTput:a.ema,conservBandwidthMarginTputThreshold:a.UL,conservBandwidthMarginCurve:a.iba,switchAlgoBasedOnHistIQR:a.qSa,switchConfigBasedOnThroughputHistory:a.Hy,maxPlayerStateToSwitchConfig:a.Nha,lowEndMarkingCriteria:a.pha,IQRThreshold:a.z4,histIQRCalcToUse:a.Hfa,maxTotalBufferLevelPerSession:a.Yu,highWatermarkLevel:a.YIa,toStableThreshold:a.TSa,toUnstableThreshold:a.J1,skipBitrateInUpswitch:a.Kla,watermarkLevelForSkipStart:a.dna,highStreamRetentionWindow:a.Afa,lowStreamTransitionWindow:a.qha,highStreamRetentionWindowUp:a.Cfa,lowStreamTransitionWindowUp:a.sha,highStreamRetentionWindowDown:a.Bfa,lowStreamTransitionWindowDown:a.rha,highStreamInfeasibleBitrateFactor:a.zfa,lowestBufForUpswitch:a.Ru,lockPeriodAfterDownswitch:a.MZ,lowWatermarkLevel:a.uha,lowestWaterMarkLevel:a.Su,lowestWaterMarkLevelBufferRelaxed:a.vha,mediaRate:a.$ha,maxTrailingBufferLen:a.ZZ,audioBufferTargetAvailableSize:a.oL,videoBufferTargetAvailableSize:a.HQ,maxVideoTrailingBufferSize:a.ELa,maxAudioTrailingBufferSize:a.pLa,fastUpswitchFactor:a.lX,fastDownswitchFactor:a.gda,maxMediaBufferAllowed:a.Wu,maxMediaBufferAllowedInBytes:a.Xr,simulatePartialBlocks:a.Hla,simulateBufferFull:a.CRa,considerConnectTime:a.jba,connectTimeMultiplier:a.gba,lowGradeModeEnterThreshold:a.UKa,lowGradeModeExitThreshold:a.VKa,maxDomainFailureWaitDuration:a.sLa,maxAttemptsOnFailure:a.oLa,exhaustAllLocationsForFailure:a.AFa,maxNetworkErrorsDuringBuffering:a.yLa,maxBufferingTimeAllowedWithNetworkError:a.Hha,fastDomainSelectionBwThreshold:a.IFa,throughputProbingEnterThreshold:a.ESa,throughputProbingExitThreshold:a.FSa,locationProbingTimeout:a.HKa,finalLocationSelectionBwThreshold:a.MFa,throughputHighConfidenceLevel:a.CSa,throughputLowConfidenceLevel:a.DSa,locationStatisticsUpdateInterval:a.eha,enablePerfBasedLocationSwitch:a.jFa,probeServerWhenError:a.pq,probeRequestTimeoutMilliseconds:a.Hja,allowSwitchback:a.Lt,probeDetailDenominator:a.YB,maxDelayToReportFailure:a.UZ,countGapInBuffer:a.FDa,bufferThresholdForAbort:a.iCa,allowCallToStreamSelector:a.eBa,pipelineScheduleTimeoutMs:a.ija,maxPartialBuffersAtBufferingStart:a.Xu,minPendingBufferLen:a.gia,maxPendingBufferLen:a.ay,maxPendingBufferLenSABCell100:a.WZ,maxActiveRequestsSABCell100:a.SZ,maxStreamingSkew:a.Pha,maxPendingBufferPercentage:a.Mha,maxRequestsInBuffer:a.BB,headerRequestSize:a.HY,minBufferLenForHeaderDownloading:a.kO,reserveForSkipbackBufferMs:a.nP,numExtraFragmentsAllowed:a.Jia,pipelineEnabled:a.Uo,maxParallelConnections:a.EG,socketReceiveBufferSize:a.IRa,audioSocketReceiveBufferSize:a.GV,videoSocketReceiveBufferSize:a.sI,headersSocketReceiveBufferSize:a.xfa,updatePtsIntervalMs:a.V1,bufferTraceDenominator:a.naa,bufferLevelNotifyIntervalMs:a.VE,aseReportDenominator:a.mL,aseReportIntervalMs:a.R$,enableAbortTesting:a.fFa,abortRequestFrequency:a.FAa,streamingStatusIntervalMs:a.Yla,prebufferTimeLimit:a.nv,minBufferLevelForTrackSwitch:a.h_,penaltyFactorForLongConnectTime:a.dja,longConnectTimeThreshold:a.nha,additionalBufferingLongConnectTime:a.y$,additionalBufferingPerFailure:a.z$,rebufferCheckDuration:a.fP,enableLookaheadHints:a.iFa,lookaheadFragments:a.QKa,enableOCSideChannel:a.QA,OCSCBufferQuantizationConfig:a.yS,updateDrmRequestOnNetworkFailure:a.DTa,deferAseScheduling:a.tEa,maxDiffAudioVideoEndPtsMs:a.rLa,useHeaderCache:a.nI,useHeaderCacheData:a.WW,defaultHeaderCacheSize:a.yW,defaultHeaderCacheDataPrefetchMs:a.Vba,headerCacheMaxPendingData:a.tfa,neverWipeHeaderCache:a.uia,headerCachePriorityLimit:a.ufa,enableUsingHeaderCount:a.zM,networkFailureResetWaitMs:a.sia,networkFailureAbandonMs:a.ria,maxThrottledNetworkFailures:a.YZ,throttledNetworkFailureThresholdMs:a.E1,lowThroughputThreshold:a.tha,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Yca,mp4ParsingInNative:a.hMa,sourceBufferInOrderAppend:a.JRa,requireAudioStreamToEncompassVideo:a.vs,allowAudioToStreamPastVideo:a.dBa,enableManagerDebugTraces:a.$f,managerDebugMessageInterval:a.fLa,managerDebugMessageCount:a.eLa,bufferThresholdToSwitchToSingleConnMs:a.maa,bufferThresholdToSwitchToParallelConnMs:a.laa,netIntrStoreWindow:a.Eub,minNetIntrDuration:a.cub,fastHistoricBandwidthExpirationTime:a.zib,bandwidthExpirationTime:a.A$a,failureExpirationTime:a.wib,historyTimeOfDayGranularity:a.Cob,expandDownloadTime:a.nib,minimumMeasurementTime:a.nub,minimumMeasurementBytes:a.mub,throughputMeasurementTimeout:a.jFb,initThroughputMeasureDataSize:a.spb,throughputMeasureWindow:a.iFb,throughputIQRMeasureWindow:a.hFb,IQRBucketizerWindow:a.OZa,connectTimeHalflife:a.kcb,responseTimeHalflife:a.XAb,historicBandwidthUpdateInterval:a.Bob,throughputWarmupTime:a.mFb,minimumBufferToStopProbing:a.kub,throughputPredictor:a.kFb,ase_stream_selector:a.G9a,enableFilters:a.thb,filterDefinitionOverrides:a.Oib,defaultFilter:a.Lfb,secondaryFilter:a.BBb,defaultFilterDefinitions:a.Mfb,initBitrateSelectorAlgorithm:a.aga,bufferingSelectorAlgorithm:a.paa,ase_ls_failure_simulation:a.dEa,ase_dump_fragments:a.Mba,ase_location_history:a.Nba,ase_throughput:a.Oba,ase_simulate_verbose:a.fEa,secondThroughputEstimator:a.Ska,secondThroughputMeasureWindowInMs:a.BQa,marginPredictor:a.Eha,networkMeasurementGranularity:a.tia,HistoricalTDigestConfig:a.Vqa,maxIQRSamples:a.vLa,minIQRSamples:a.WLa,periodicHistoryPersistMs:a.W_,saveVideoBitrateMs:a.O0,needMinimumNetworkConfidence:a.rO,biasTowardHistoricalThroughput:a.jaa,maxFastPlayBufferInMs:a.Jha,maxFastPlayBitThreshold:a.Iha,headerCacheTruncateHeaderAfterParsing:a.TIa,minAudioMediaRequestDuration:a.KG,minVideoMediaRequestDuration:a.PG,minAudioMediaRequestDurationCache:a.KG,minVideoMediaRequestDurationCache:a.PG,addHeaderDataToNetworkMonitor:a.pV,useMediaCache:a.My,mediaCachePartitionConfig:a.Uha,diskCacheSizeLimit:a.px,mediaCachePrefetchMs:a.b_,hindsightDenominator:a.Gfa,hindsightDebugDenominator:a.Ffa,hindsightParam:a.KY,minimumTimeBeforeBranchDecision:a.m_,enableSessionHistoryReport:a.yM,earlyStageEstimatePeriod:a.Aca,lateStageEstimatePeriod:a.tKa,maxNumSessionHistoryStored:a.VZ,minSessionHistoryDuration:a.k_,appendMediaRequestOnComplete:a.rBa,waitForDrmToAppendMedia:a.tI,forceAppendHeadersAfterDrm:a.xX,startMonitorOnLoadStart:a.Rla,reportFailedRequestsToNetworkMonitor:a.nka,reappendRequestsOnSkip:a.eP,maxActiveRequestsPerSession:a.Vr,limitAudioDiscountByMaxAudioBitrate:a.$ga,appendFirstHeaderOnComplete:a.K$,maxAudioFragmentOverlapMs:0,editAudioFragments:a.SW,editVideoFragments:a.tx,declareBufferingCompleteAtSegmentEnd:a.Qba,applyProfileTimestampOffset:a.oA,applyProfileStreamingOffset:a.po,requireDownloadDataAtBuffering:a.E0,requireSetupConnectionDuringBuffering:a.F0,recordFirstFragmentOnSubBranchCreate:a.cka,earlyAppendSingleChildBranch:a.RW,selectStartingVMAFMethod:a.GH,activateSelectStartingVMAF:a.bL,minStartingVideoVMAF:a.OG,alwaysNotifyEOSForPlaygraph:a.G$,enableNewAse:a.ZW,useNewApi:a.pI,enableHudsonFieldTest:a.YW,hudsonTitles:a.pN,maxPartialBuffersAtHudson:a.Lha,numberOfChunksPerSegment:a.YG,targetContentLatency:a.ima,targetLongContentLatency:a.vSa,minimumTimeDelay:a.iia,enableWsslEstimate:a.$W};};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Bva=b.CD=void 0;c=a(0);k=a(759);(function(a){a[a.Tla=0]="startPlayback";a[a.Ica=1]="endPlayback";}(b.CD||(b.CD={})));d=function(){function a(a){this.config=a;this.QPa=[];}a.prototype.x$=function(a){var b,c;c=this.config.fca.filter(function(b){return b.TL===a.TL;})[0];(null!==(b=null===c||void 0===c?void 0:c.enabled)&&void 0!==b?b:a.enabled)&&this.QPa.push(a);};a.prototype.MM=function(a){var p,m;for(var b={},l=[],h=0,f=this.QPa;h<f.length;h++){p=f[h];try{m=p.MM({cq:a});m&&(p.rMa?b[p.rMa]=m:b=c.__assign(c.__assign({},b),m));}catch(H){l.push(H);}}l.length&&(b["rpt-error"]=new k.yna("Reporting error",l));return b;};return a;}();b.Bva=d;},function(d,b,a){var c,k,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.rp=void 0;c=a(0);k=a(18);m=a(780);t=a(4);d=function(){function b(a){this.RJ=a;this.yl=[];this.console=new t.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(b,{eg:{get:function(){var c;if(void 0===b.Qz){c=a(4);b.Qz=new b(c.YC);}return b.Qz;},enumerable:!1,configurable:!0}});b.reset=function(){b.Qz=void 0;};b.prototype.EA=function(a,b,f,c,q,k){var h,l,p,t;h=!1;p=k.nDb?this.Xib(f,b,a):-1;if(-1===p){l={track:this.ueb(f,c,a,q,k),nq:f,G:b,bPa:a,vH:[],Mp:!1,BEa:!1};this.yl.push(l);t=function(){l.Mp=!0;l.track.removeListener("created",t);};l.track.on("created",t);h=!1;}else h=!0,l=this.yl[p];a=new m.Gva(this.console,l.track,l.Mp,h);l.vH.push(a);return a;};b.prototype.HW=function(a){var b,f;a.un();b=this.rX(function(b){return b.track===a.track;});if(-1!==b)if(b=this.yl[b],1===b.vH.length)b.track.un(),b.BEa=!0;else{f=b.vH.indexOf(a);0<=f&&b.vH.splice(f,1);}else a.track.un();};b.prototype.cf=function(){this.RJ.cf();};b.prototype.ueb=function(a,b,f,p,q){var h,l,m;h=this;l=!1;a?1===f?(a=!1,b=1,q.Uo?(a=!0,b=q.EG):q.Vr&&2<q.Vr&&(a=!0,b=q.Vr),a={type:this.RJ.VIDEO,openRange:!a,pipeline:a,connections:b,socketBufferSize:q.sI,minRequestSize:q.NG}):0===f?(l=q.Uo&&(q.pHb||b&&q.qHb),a={type:this.RJ.AUDIO,openRange:!l,pipeline:l,connections:1,socketBufferSize:q.GV,minRequestSize:q.NG}):a={type:this.RJ.EYa,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.xfa,minRequestSize:q.NG}:a={type:0===f?k.Ma.AUDIO:k.Ma.VIDEO,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0===f?q.GV:q.sI,minRequestSize:q.NG};m=new this.RJ(a,p);m.on("transportreport",function(a){var b;b=h.rX(function(a){return a.track===m;});-1!==b&&(b=h.yl[b],b.vH.length&&b.vH[0].emit("transportreport",a));});m.on("destroyed",function(){var a;a=h.rX(function(a){return a.track===m;});-1!==a&&h.yl.splice(a,1);m.removeAllListeners();});if(l&&q.oHb||q.WTa)m.on("pipelinedisabled",function(){q.WTa&&1===m.config.type?m.u0(c.__assign(c.__assign({},m.config),{socketBufferSize:q.hub,pipeline:!1,openRange:!0,connections:1})):m.u0(c.__assign(c.__assign({},m.config),{pipeline:!1,openRange:!0}));});return m;};b.prototype.Xib=function(a,b,f){return this.rX(function(c){return!c.BEa&&(a?c.nq&&c.G===b&&c.bPa===f:!c.nq&&c.bPa===f);});};b.prototype.rX=function(a){for(var b=0;b<this.yl.length;++b)if(a(this.yl[b]))return b;return-1;};return b;}();b.rp=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eea=b.F$=void 0;b.F$=function(a,b){var c,m,t;c=b.profile;b=b.G;m=a.xBb;t=a.yBb;return a.wBb||Array.isArray(m)&&-1!==m.indexOf(c)||"object"===typeof t&&Array.isArray(t[c])&&-1!==t[c].indexOf(""+b);};b.Eea=function(a,b){return void 0!==a.LG?a.LG:b&&void 0!==b.LG?b.LG:100;};},function(d,b,a){var m,t,q,l,h,f,p,y;function c(a){return a&&"function"===typeof a.tg?!0:!1;}function k(a){return c(a)&&(a=typeof a.Spb,"boolean"===a||"undefined"===a)?!0:!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Gr=b.map=b.BWa=b.rib=b.Rpb=b.mVa=b.Uy=void 0;m=a(0);t=a(66);q=a(4).Promise;h=function(){function a(a){var b;b=this;this.A4a=a;this.tK=!1;this.z6a=function(a){return b.zyb(a);};this.GDa();}a.Jqb=function(a,b){function f(){var c;c=a.next();c.then(function(f){k(a)&&a.Spb||b(f);});c.then(function(a){return!a.done&&f();});}f();};Object.defineProperties(a.prototype,{Gu:{get:function(){return this.tK;},enumerable:!1,configurable:!0}});a.klb=function(){return new f([]);};a.dfa=function(){l||(l=q.resolve({done:!0}));return l;};a.tSb=function(){return{done:!0};};Object.defineProperties(a.prototype,{nG:{get:function(){return this.Yq||!1;},enumerable:!1,configurable:!0}});a.prototype.tg=function(){this.cancel();};a.prototype.cancel=function(){this.Aza();this.Yq=!0;return this.h8;};a.prototype.next=function(){return this.Yq?this.h8:q.race([this.h8,this.A4a()]).then(this.z6a);};a.prototype.zyb=function(a){a.done&&(this.tK=!0,this.tg());this.nG||(this.Aza(),this.GDa());return a;};a.prototype.GDa=function(){var a;a=this;this.h8=new q(function(b){a.Aza=function(){b({done:!0});};});};return a;}();b.Uy=h;f=function(a){function b(b){var f;f=a.call(this,function(){return f.fmb();})||this;f.kn=b;f.index=0;return f;}m.__extends(b,a);b.prototype.tg=function(){c(this.kn)&&this.kn.tg();a.prototype.tg.call(this);};b.prototype.fmb=function(){return this.kn.length>this.index?q.resolve({value:this.kn[this.index++],done:!1}):q.resolve({done:!0});};return b;}(h);b.mVa=f;b.Rpb=c;b.rib=k;p=function(a){function b(b,c,h){var l;l=a.call(this,function(){return l.wia();})||this;l.console=c;l.hj=h;l.Jja=!1;Array.isArray(b)?l.FK=new f(b):l.FK=b;return l;}m.__extends(b,a);b.prototype.Byb=function(a){var b;this.Jja=!1;b=this.console;t.cb&&b&&b.trace("CompoundIterator: processNextOuterIterator");if(a.done)return a;a=a.value;if(this.eE)return c(a)&&a.tg(),h.dfa();Array.isArray(a)?this.hj=new f(a):this.hj=a;return this.wia();};b.prototype.Ayb=function(a){var b;b=this.console;t.cb&&b&&b.trace("CompoundIterator: processNextInnerResult",this.eE,a.done);if(!a.done||this.eE)return a;this.hj=void 0;return this.wia();};b.prototype.tg=function(){var b;b=this.console;t.cb&&b&&b.trace("CompoundIterator: dispose");this.eE=!0;a.prototype.tg.call(this);c(this.FK)&&this.FK.tg();c(this.hj)&&this.hj.tg();};b.prototype.toString=function(){return"CompoundIterator "+this.eE+" "+this.FK+" "+this.hj;};b.prototype.wia=function(){var a,b;a=this;b=this.console;t.cb&&b&&b.trace("CompoundIterator: nextImpl");if(this.hj)return t.cb&&b&&b.trace("CompoundIterator: getNextInner"),this.hj.next().then(function(b){return a.Ayb(b);});this.Jja=!0;t.cb&&b&&b.trace("CompoundIterator: getNextOuter");return this.FK.next().then(function(b){return a.Byb(b);});};return b;}(h);b.BWa=p;b.map=function(a,b,f){return new y(a,b,f);};y=function(a){function b(b,f,c){var h;h=a.call(this,function(){return h.l4a();})||this;h.source=b;h.Dha=f;h.ccb=c;return h;}m.__extends(b,a);b.prototype.tg=function(){c(this.source)&&this.source.tg();a.prototype.tg.call(this);};b.prototype.l4a=function(){var a,b,f;a=this.ccb;b=this.Dha;f=this.source;t.cb&&a&&a.trace("MappedIterator: Requesting next");return f.next().then(function(a){return a.done?a:b(a.value);});};return b;}(h);b.Gr=function(a,b,f){return new p(a,b,f);};},function(d,b){function a(a){var b;b={profile:a.spoofedProfile||a.profile,Lda:a.max_framerate_value,Kda:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,ixb:a.pixelAspectX,jxb:a.pixelAspectY,uo:a.channels,sampleRate:a.channels?48E3:void 0};a.spoofedProfile&&(b.fUb=a.profile);return b;}Object.defineProperty(b,"__esModule",{value:!0});b.qIa=b.HHa=b.GHa=void 0;b.GHa=function(b,k,m){var c;c=[{},{}];(0===m?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(q,l){b[q].some(function(b,f){return f===k[l]?(c[l]=a(b),!0):!1;});});return c;};b.HHa=a;b.qIa=function(a,b){var c;a.some(function(a,q){if(a.track_id===b)return c=q,!0;});return c;};},function(d,b,a){var c,k,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.Ty=void 0;c=a(0);k=a(6);m=a(18);t=a(4);d=function(a){function b(b,f,c,l,q){c=a.call(this,c)||this;c.B$=!1;c.VPa=b;c.Xc=l;c.Yya=b.location||f.location;c.SK=b.tc||f.Lb;c.lla=b.lla||f.lla;c.AVb=t.time.ea();k.assert(q);c.H=q;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{location:{get:function(){return this.Yya;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Lb:{get:function(){return this.SK;},enumerable:!1,configurable:!0}});b.prototype.Kb=function(a){this.Ja=a;};b.prototype.f1=function(a,b){this.Yya=a;this.SK=b;};b.prototype.HU=function(a){var b,c,h;b={type:"logdata",target:"endplay",fields:{}};c=this.M===m.Ma.AUDIO?"audioedit":"videoedit";h=[this.Bx===this.S?this.wd:this.Yb,this.Bx===this.S?-this.duration:this.duration];a&&a.zs&&h.push(a.zs);b.fields[c]={type:"array",value:h};return b;};b.prototype.xU=function(a){this.Xc.eP&&(this.qGa=!0,this.$Ea=a);};b.prototype.X1=function(){var a,b;if(this.complete)return 0;a=this.VPa;b=a.P;return a.url?this.url===a.url||(b.f1(this,a.location,a.tc),this.eQ(a.url))?0:(this.H.warn("swapUrl failed: ",this.LF),2):(this.H.warn("updateurl, missing url for streamId:",a.sa,"mediaRequest:",this,"stream:",a),1);};return b;}(a(83).Hq);b.Ty=d;},function(d,b,a){function c(a,b){this.HE=a;this.ji=Math.floor((a+b-1)/b);this.Oc=b;this.reset();}a(6);c.prototype.shift=function(){this.Vc.shift();this.ir.shift();};c.prototype.eH=function(a){return this.vCa(this.Vc[a],a);};c.prototype.update=function(a,b){this.Vc[a]=(this.Vc[a]||0)+b;};c.prototype.push=function(){this.Vc.push(0);this.ir.push(0);this.Pa+=this.Oc;};c.prototype.add=function(a,b,c){var q,l,h;if(null===this.Pa)for(q=Math.max(Math.floor((c-b+this.Oc-1)/this.Oc),1),this.Pa=b;this.Vc.length<q;)this.push();for(;this.Pa<=c;)this.push(),this.Vc.length>this.ji&&this.shift();if(null===this.Hl||b<this.Hl)this.Hl=b;if(b>this.Pa-this.Oc)this.update(this.Vc.length-1,a);else if(b==c)q=this.Vc.length-Math.max(Math.ceil((this.Pa-c)/this.Oc),1),0<=q&&this.update(q,a);else for(q=1;q<=this.Vc.length;++q){l=this.Pa-q*this.Oc;h=l+this.Oc;if(!(l>c)){if(h<b)break;this.update(this.Vc.length-q,Math.round(a*(Math.min(h,c)-Math.max(l,b))/(c-b)));}}for(;this.Vc.length>this.ji;)this.shift();};c.prototype.start=function(a){null===this.Hl&&(this.Hl=a);null===this.Pa&&(this.Pa=a);};c.prototype.stop=function(a){var b,c;if(null!==this.Pa)if(a-this.Pa>10*this.HE)this.reset();else{for(;this.Pa<=a;)this.push(),this.Vc.length>this.ji&&this.shift();b=this.Vc.length-Math.ceil((this.Pa-this.Hl)/this.Oc);0>b&&(this.Hl=this.Pa-this.Oc*this.Vc.length,b=0);c=this.Vc.length-Math.ceil((this.Pa-a)/this.Oc);if(b===c)this.ir[b]+=a-this.Hl;else if(c>b)for(this.ir[b]+=(this.Pa-this.Hl)%this.Oc,this.ir[c]+=this.Oc-(this.Pa-a)%this.Oc,a=b+1;a<c;++a)this.ir[a]=this.Oc;this.Hl=null;}};c.prototype.vCa=function(a,b){b=this.Sda(b);return 0===b?null:8*a/b;};c.prototype.Sda=function(a){var b;b=this.ir[a];null!==this.Hl&&(a=this.Pa-(this.Vc.length-a-1)*this.Oc,a>this.Hl&&(b=a-this.Hl<=this.Oc?b+(a-this.Hl):this.Oc));return b;};c.prototype.get=function(a,b){var c,q;c=this.Vc.map(this.vCa,this);if("last"===a)for(a=0;a<c.length;++a)null===c[a]&&(c[a]=0<a?c[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.Oc));for(a=0;a<c.length;++a)null===c[a]?c[a]=Math.floor(q||0):q=void 0!==q?b*c[a]+(1-b)*q:c[a];}return c;};c.prototype.reset=function(){this.N8||(this.Vc=[],this.ir=[],this.Hl=this.Pa=null);};c.prototype.setInterval=function(a){this.ji=Math.floor((a+this.Oc-1)/this.Oc);};d.R=c;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Ls=void 0;c=a(219);k=a(6);d=function(){function a(a){this.config=a;this.reset();}a.eg=function(){k.assert(void 0!==a.Qz);return a.Qz;};a.jcb=function(b){a.Qz=new a(b);};a.QQb=function(){a.Qz=void 0;};a.prototype.push=function(a){this.wi&&this.wi.push(a);};a.prototype.kb=function(){if(this.wi)return this.wi.gu(),this.wi.Nh([.25,.5,.75,.9,.95,.99]).map(function(a){return a?parseFloat(a.toFixed(1)):0;});};a.prototype.reset=function(){this.config.kFa&&this.config.H4&&(this.wi=new c.bPb(this.config.H4.c,this.config.H4.maxc));};return a;}();b.Ls=d;},function(d,b,a){var c,k,m,t,q,l,h,f,p,y;Object.defineProperty(b,"__esModule",{value:!0});b.Sy=void 0;c=a(0);d=a(24);k=a(7);m=d.Vn;t=a(4);q=t.Rj;l=a(160);h=a(108);f=a(13);d=a(45);p=a(158);y=a(164);a=function(a){function b(b,f,c,h,l,k,t){f=a.call(this,f,c)||this;p.Ty.call(f,b,h,l,k,t);y.Lv.call(f,b,h);f.QJ=b.url||h.url;f.PJ=h.responseType;f.Dxa=h.i1;void 0===f.PJ&&(f.PJ=q.xc&&!q.xc.AH.Bz?0:1);f.Kf=new m();f.Kf.on(f,q.Nd.wta,f.EK);f.Kf.on(f,q.Nd.vta,f.n9);f.Kf.on(f,q.Nd.xta,f.o9);f.Kf.on(f,q.Nd.rJ,f.DK);f.Kf.on(f,q.Nd.tz,f.pE);f.GD=!1;f.Uc=!1;f.qg=!1;f.fr=!1;f.iK=!1;f.ql=0;return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{active:{get:function(){return this.Uc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wPa:{get:function(){return this.qg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return!this.GD&&5===this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jr:{get:function(){return this.GD;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qga:{get:function(){return this.fr&&!this.iK;},enumerable:!1,configurable:!0}});b.prototype.Kb=function(a){p.Ty.prototype.Kb.call(this,a);this.Xb||!this.Xc.pV&&this.bc||(this.Xb=h.eg(),this.active&&(this.Xb.dC(t.time.ea(),{requestId:this.Zm(),ee:this.Lb,type:this.M}),this.qg&&(this.Xb.uka(t.time.ea()),this.connect&&0<this.$o.length&&this.Xb.Kt(this.$o[0]))));};b.prototype.mB=function(){return 1===this.responseType?3<=this.readyState:5===this.readyState;};b.prototype.NE=function(a){this.Fi=a.appendBuffer(this.response,f.im(this));return{aa:this.Fi};};b.prototype.gs=function(){(this.fr=q.prototype.open.call(this,this.QJ,{start:this.offset,end:this.offset+this.ba-1},this.PJ,{},void 0,void 0,this.Dxa))&&this.IM(this);return this.fr;};b.prototype.abort=function(){var a;if(this.jr)return!0;a=this.Uc;this.Xb&&a&&this.Xb.fC(t.time.ea(),this.qg,{requestId:this.Zm(),ee:this.Lb,type:this.M});this.GD=!0;this.qg=this.Uc=!1;q.prototype.abort.call(this);this.BX(this,a,this.qga);return!0;};b.prototype.yc=function(){7!==this.readyState&&5!==this.readyState&&(this.H.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Kf&&this.Kf.clear();a.prototype.yc.call(this);};b.prototype.EK=function(){var a;a=this.$c||this.ef;l.Ls.eg().push(t.time.ea()-a);this.Uc||(this.Uc=!0,this.En=this.track.En(),this.stream.K.nLa||this.Xb&&this.Xb.dC(a,{requestId:this.Zm(),ee:this.Lb,type:this.M}),this.$A(this),this.rl=this.$c);};b.prototype.n9=function(){var a,b,f;a=this.$c||this.qda;b=this.connect;f=this.$o;l.Ls.eg().push(t.time.ea()-a);this.Uc||(this.Uc=!0);this.qg||(this.qg=!0,this.stream.K.nLa&&this.Xb&&this.Xb.dC(a,{requestId:this.Zm(),ee:this.Lb,type:this.M}),this.Xb&&this.Xb.uka(),b&&0<f.length&&this.Xb&&this.Xb.Kt(f[0]),this.ZA(this),this.rl=a);};b.prototype.o9=function(){var a,b,f;a=this;b=this.$c;f=this.Be-this.ql;l.Ls.eg().push(t.time.ea()-b);this.qg||(this.qg=!0);this.Xb&&(void 0===this.rl||this.Xb.Rw(f,this.rl,b,{requestId:this.Zm(),ee:this.Lb,type:this.M}),this.$o&&this.$o.length&&this.$o.forEach(function(b){a.Xb.Jt(b);}));this.SF(this);this.rl=b;this.ql=this.Be;};b.prototype.DK=function(){var a,b,f;a=this;b=this.$c;f=this.Be-this.ql;l.Ls.eg().push(t.time.ea()-b);this.Xb&&(0<f&&this.Xb.Rw(f,this.rl,b,{requestId:this.Zm(),ee:this.Lb,type:this.M}),this.$o&&this.$o.length&&this.$o.forEach(function(b){a.Xb.Jt(b);}),this.Xb.fC(b,this.qg,{requestId:this.Zm(),ee:this.Lb,type:this.M}));this.qg=this.Uc=!1;this.iK=!0;this.Rp(this);this.rl=b;this.ql=this.Be;this.yc();};b.prototype.Zm=function(){var a,b;a=(a=this.stream)?a.toString():this.url;b=this.MV;b&&(a+=",range "+b.start+"-"+b.end);return a;};b.prototype.pE=function(){var a,b,f,c;this.H.warn("AseMediaRequest._onError:",this.toString());a=this.$c;b=this.status;f=this.oh;c=this.Qi;l.Ls.eg().push(t.time.ea()-a);this.complete?this.H.warn("Error on a done request "+this.toString()+", failurecode: "+f):this.jr?this.H.warn("Error on an aborted request "+this.toString()+", failurecode: "+f):k.ma(f)?(this.Xb&&this.Xc&&this.Xc.nka&&this.ef&&void 0===b&&this.Xb.Rw(this.ql?this.Be-this.ql:this.Be,this.rl?this.rl:this.ef,a,{requestId:this.Zm(),ee:this.Lb,type:this.M}),this.CX(this)):this.H.warn("ignoring undefined request error (nativecode: "+c+")");};return b;}(q);b.Sy=a;d.Fg(p.Ty,a,!1);d.Fg(y.Lv,a,!1);},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Jk=void 0;c=a(4);k=a(13);d=function(){function a(a){this.H=new c.Console("ASEJS","media|asejs","("+a+")");this.e9=[];}a.prototype.bm=function(a){this.e9[a]||(this.e9[a]=k.Yx(c,this.H,"["+a+"]"));return this.e9[a];};return a;}();b.Jk=new d(0);},function(d,b,a){var q;function c(a,b){return void 0===a?void 0:0===a?q.la.Dd:new q.la(a,b);}function k(a,b){return a&&Math.floor(q.la.vma(a,b));}function m(a,b){return void 0===a||void 0===b?void 0:a+b;}function t(a,b){return void 0===a||void 0===b?void 0:a-b;}Object.defineProperty(b,"__esModule",{value:!0});b.AI=b.CI=void 0;q=a(34);d=function(){function a(){}Object.defineProperties(a.prototype,{Ao:{get:function(){return t(this.qb,this.Wa)||0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qja:{get:function(){return m(this.Wa,this.tl);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rOa:{get:function(){return m(this.qb,this.tl);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xca:{get:function(){return c(this.Ao,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hx:{get:function(){return c(this.Wa,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{VL:{get:function(){return c(this.qb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ks:{get:function(){return c(this.qja,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nja:{get:function(){return c(this.rOa,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Oyb:{get:function(){return c(this.tl,this.T);},enumerable:!1,configurable:!0}});return a;}();b.CI=d;d=function(){function a(){}Object.defineProperties(a.prototype,{duration:{get:function(){return t(this.ja,this.S)||0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return k(m(this.Wa,this.tl),this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ja:{get:function(){return k(m(this.qb,this.tl),this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sm:{get:function(){return k(this.tl,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ji:{get:function(){return k(this.Wa,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Yb:{get:function(){return k(this.Wa,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wd:{get:function(){return k(this.qb,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qc:{get:function(){return k(m(this.Wa,this.tl),this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{se:{get:function(){return k(m(this.qb,this.tl),this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Br:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qv:{get:function(){return this.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rH:{get:function(){return this.ja;},enumerable:!1,configurable:!0}});return a;}();b.AI=d;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Lv=void 0;a(6);d=function(){function a(a,b){this.Hd=a;this.ac=b.ba;this.Qd=b.offset;}Object.defineProperties(a.prototype,{stream:{get:function(){return this.Hd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.ac;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{offset:{get:function(){return this.Qd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.Hd.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{G:{get:function(){return this.Hd.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Hd.M;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sa:{get:function(){return this.Hd.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Hd.O;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Hd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.Hd.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{RG:{get:function(){return this.Hd.RG;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.Hd.Ra;},enumerable:!1,configurable:!0}});a.prototype.toJSON=function(){return{movieId:this.G,streamId:this.sa,offset:this.offset,bytes:this.ba};};return a;}();b.Lv=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(27);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.L.offset+=8;this.dbb=this.L.Zg();this.nBb=this.L.Zg();this.L.offset+=4;this.uQa=this.L.Zg();this.L.offset+=2;k.cb&&this.L.console.trace("MP4AudioSampleEntry: channelcount: "+this.dbb+", samplesize: "+this.nBb+", samplerate: "+this.uQa);return b;};b.jc=!1;return b;}(a(226)["default"]);b["default"]=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oD=void 0;b.oD="ManifestFactorySymbol";},function(d){d.R=function(b){return null!=b&&"object"===typeof b&&!0===b["@@functional/placeholder"];};},function(d,b,a){var c,k,m;c=a(110);k=a(51);m=a(167);d.R=function(a){return function l(b,f,p){switch(arguments.length){case 0:return l;case 1:return m(b)?l:k(function(f,c){return a(b,f,c);});case 2:return m(b)&&m(f)?l:m(b)?k(function(b,c){return a(b,f,c);}):m(f)?k(function(f,c){return a(b,f,c);}):c(function(c){return a(b,f,c);});default:return m(b)&&m(f)&&m(p)?l:m(b)&&m(f)?k(function(b,f){return a(b,f,p);}):m(b)&&m(p)?k(function(b,c){return a(b,f,c);}):m(f)&&m(p)?k(function(f,c){return a(b,f,c);}):m(b)?c(function(b){return a(b,f,p);}):m(f)?c(function(f){return a(b,f,p);}):m(p)?c(function(c){return a(b,f,c);}):a(b,f,p);}};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.mJ=void 0;b.mJ="MslProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fS=b.B4=b.v4=void 0;b.v4="IDBDatabaseFactorySymbol";b.B4="IndexedDBFactorySymbol";b.fS="IndexedDBStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.w4=b.D5=b.ota=void 0;b.ota="NativeLocalStorageSymbol";b.D5="NativeLocalStorageFactorySymbol";b.w4="IDBFactorySymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.OI=b.FXa=void 0;c=a(33);b.FXa=function(){this.pL=[];this.JQ=[];this.V$=c.Mv.$y;this.g2=c.Vj.$y;};b.OI="DeviceCapabilitiesConfigSymbol";},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var q in b)b.hasOwnProperty(q)&&(a[q]=b[q]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b){a.call(this);this.ta=b;}c(b,a);b.create=function(a){return new b(a);};b.ic=function(a){a.Yi.complete();};b.prototype.Ll=function(a){var c;c=this.ta;if(c)return c.Lc(b.ic,0,{Yi:a});a.complete();};return b;}(a(19).lb);b.CR=d;},function(d,b,a){var c,k,m,t,q,l,h,f;c=a(85);k=a(485);m=a(484);t=a(493);q=a(19);l=a(255);h=a(1086);f=a(256);b.D1=function(a,b,d,g){var p;p=new h.Fra(a,d,g);if(p.closed)return null;if(b instanceof q.lb)if(b.qt)p.next(b.value),p.complete();else return p.Cm=!0,b.subscribe(p);else if(k.CJa(b)){a=0;for(d=b.length;a<d&&!p.closed;a++)p.next(b[a]);p.closed||p.complete();}else{if(m.SJa(b))return b.then(function(a){p.closed||(p.next(a),p.complete());},function(a){return p.error(a);}).then(null,function(a){c.root.setTimeout(function(){throw a;});}),p;if(b&&"function"===typeof b[l.iterator]){b=b[l.iterator]();do{a=b.next();if(a.done){p.complete();break;}p.next(a.value);if(p.closed)break;}while(1);}else if(b&&"function"===typeof b[f.observable])if(b=b[f.observable](),"function"!==typeof b.subscribe)p.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return b.subscribe(new h.Fra(a,d,g));else b="You provided "+(t.Qe(b)?"an invalid object":"'"+b+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",p.error(new TypeError(b));}return null;};},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var q in b)b.hasOwnProperty(q)&&(a[q]=b[q]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(){a.apply(this,arguments);}c(b,a);b.prototype.D_=function(a,b){this.destination.next(b);};b.prototype.Zub=function(a){this.destination.error(a);};b.prototype.ds=function(){this.destination.complete();};return b;}(a(70).Qm);b.BS=d;},function(d,b){b.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.U3=b.T3=b.S6=b.T6=void 0;b.T6="ReportSyncSymbol";b.S6="ReportApiErrorSyncSymbol";b.T3="FtlProbeConfigSymbol";b.U3="FtlProbeSymbol";},function(d){d.R={Ms:{o7:0,Jva:1,dj:2,name:["transient","semiTransient","permanent"]},Ks:{tqa:0,Hva:1,bT:2,tJ:3,Ws:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},pPb:{dPb:0,eMb:1,RJb:2,Ws:100,name:["trailer","montage","content"]},Qq:{Nra:0,vva:1,k2a:2,xXa:3,Ws:100,name:["left","right","up","down"]},iJ:{wWa:0,bT:1,nLb:2,LKb:3,iJb:4,mLb:5,qVa:6,Ws:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},jD:{tJ:0,gpa:1,Ws:100,name:["playFocused","detailsOpened"]}};},function(d,b,a){b=a(249);d.R="undefined"!==typeof b&&"undefined"!==typeof nrdp?nrdp.ea:Date.now;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.AJ=void 0;b.AJ="PlaygraphHelperSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$n=void 0;d=b.$n||(b.$n={});d[d.sta=0]="None";d[d.yqa=1]="Fetching";d[d.t3=2]="Done";d[d.Error=3]="Error";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q6=void 0;b.Q6=function(a,b){var c;this.xla=function(){c||(c=setInterval(b,a));};this.Raa=function(){c&&(clearInterval(c),c=void 0);};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ai=void 0;d=b.ai||(b.ai={});d[d.MRa=1]="sourceopen";d[d.yo=2]="currentTimeChanged";d[d.wP=3]="seeked";d[d.MTb=4]="needlicense";d[d.zKa=5]="licenseadded";d[d.LRa=6]="sourceBuffersAdded";d[d.Qia=7]="onNeedKey";},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.UDa=b.wha=void 0;c=a(16);k=a(17);m=a(14);(function(){var q,l,h;function a(a){c.eb(void 0!==q[a]);return q[a];}q={'"':'""',"\r":"","\n":" "};l=/["\r\n]/g;h=/[", ]/;b.UDa=function(b){return m.Wb(b)?m.ma(b)?b:m.Ge(b)?b.replace(l,a):m.jga(b)?b:isNaN(b)?"NaN":"":"";};b.wha=function(a){var f,c;f=b.UDa;c="";k.yd(a,function(a,b){a=f(a)+"="+f(b);h.test(a)&&(a='"'+a+'"');c=c?c+(","+a):a;});return c;};}());},function(d,b,a){var k,m,t;function c(a,b){this.br=b?[b]:[];this.M8="$op$"+t++;this.o=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Mc=void 0;k=a(10);m=a(16);t=0;c.prototype.addListener=function(a,b){var c;c=this;m.Lba(a);m.eb(0>this.br.indexOf(a));a[k.zS+this.M8]=b;this.br=this.br.slice();this.br.push(a);this.br.sort(function(a,b){return c.PDb(a,b);});};c.prototype.removeListener=function(a){var b;m.Lba(a);this.br=this.br.slice();0<=(b=this.br.indexOf(a))&&this.br.splice(b,1);};c.prototype.set=function(a,b){if(this.o!==a){b={oldValue:this.o,newValue:a,kx:b};this.o=a;a=this.br;for(var c=a.length,f=0;f<c;f++)a[f](b);}};c.prototype.when=function(a){var b;b=this;return new Promise(function(c){function f(h){if(a(h.newValue))return b.removeListener(f),c(h.newValue);}if(a(b.o))return c(b.o);b.addListener(f);});};c.prototype.PDb=function(a,b){return(a[k.zS+this.M8]||0)-(b[k.zS+this.M8]||0);};na.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});b.Mc=c;},function(d,b,a){var k,m,t,q,l,h,f,p,y,H,g,E,G;function c(a,b,c,d,y){var H,N;H=this;this.j=a;this.type=b;this.Nxa=d;this.log=y;this.jU=new l.Mc(!1);this.Oz={data:[],state:"",operation:""};this.JG=this.EFa((this.type===k.Qc.Ma.VIDEO?this.j.mg.value:this.j.ed.value).dc);this.Xj=new h.aj();this.Y8={Type:this.type};q.config.Vx&&(N=!0,this.uda=new l.Mc(!1));this.log.trace("Adding source buffer",this.Y8,{TypeId:this.JG});this.Fc=c.addSourceBuffer(this.JG);this.Fc.addEventListener("updatestart",function(){H.Oz.state="updatestart";});this.Fc.addEventListener("update",function(){H.Oz.state="update";});this.Fc.addEventListener("updateend",function(){var a;H.jU.set(!1);H.Uxa&&H.Uxa();H.Oz.state="updateend";a=0;try{a=H.Fc.buffered.length;}catch(oa){}N&&a&&(N=!1,H.uda.set(!0));});this.Fc.addEventListener("error",function(b){var c;try{c=b.target.error&&b.target.error.message;(b.message||c)&&y.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(fa){}b=f.Y.get(t.Mk);a.Sd(b(p.J.J0a,m.XX(H.type)));});this.Fc.addEventListener("abort",function(){});a.addEventListener(g.U.closed,function(){H.Fc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.m5=void 0;k=a(49);m=a(231);t=a(60);q=a(11);l=a(185);h=a(76);f=a(5);a(84);p=a(2);a(3);y=a(16);H=a(14);g=a(12);E=a(111);G=a(146);c.prototype.kk=function(){return this.jU.value;};c.prototype.updating=function(){return this.Fc?this.Fc.updating:!1;};c.prototype.$Qa=function(a){this.Uxa=a;};c.prototype.TX=function(){return this.Oz;};c.prototype.buffered=function(){return this.Fc.buffered;};c.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};c.prototype.toJSON=function(){return{type:this.type};};c.prototype.PX=function(){var a,b,f,c,h,l,p;try{a=this.Fc.buffered;h=0;if(a)for(b=[],f=0,c=a.length,f=0;f<c;f++){l=a.start(f);p=a.end(f);h=h+(p-l);y.eb(p>l);b.push(l+"-"+p);}if(b)return{Buffered:h.toFixed(3),Ranges:b.join("|")};}catch(T){}};c.prototype.qBa=function(a,b){try{y.eb(this.Fc.buffered&&1>=this.Fc.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.PX()));}catch(X){}y.eb(!this.kk());this.vRa("append",a);b=b&&b.sm/1E3;H.ma(b)&&this.Fc.timestampOffset!==b&&(this.Fc.timestampOffset=b);this.Fc.appendBuffer(a);this.jU.set(!0);};c.prototype.remove=function(a,b){y.eb(!this.kk());try{this.vRa("remove");this.Fc.remove(a,b);this.jU.set(!0);}catch(X){this.log.error("SourceBuffer remove exception",X,this.Y8);}};c.prototype.vRa=function(a,b){this.Oz.data=b||[];this.Oz.state="init";this.Oz.operation=a;};c.prototype.aDb=function(a,b){this.mrb=Math.floor(1E3*a/b);};c.prototype.cbb=function(a){var b;if(this.Fc){if(a=this.EFa([{type:this.qcb,Nf:a}]),a!==this.JG){b=this.JG;this.log.info("Changing SourceBuffer mime-type from: "+this.JG+" to: "+a);try{if(this.Fc.changeType)this.Fc.changeType(a),this.JG=a;else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(X){throw this.log.error("Error changing SourceBuffer type",X,this.Y8,{From:b,To:a}),X;}}}else this.log.info("No SourceBuffer");};c.prototype.appendBuffer=function(a,b){!b||b.bc?this.L$(a,b):this.wV(a,b);return!0;};c.prototype.L$=function(a,b){this.j.Pi.L$(this,a,b||{});};c.prototype.wV=function(a,b){this.j.Pi.wV(this.lcb(a,b));};c.prototype.lcb=function(a,b){var f;f=this.mrb||0;return{TCa:function(){this.response=void 0;},wj:function(){return this.requestId;},constructor:{name:"MediaRequest"},M:this.M,readyState:G.Pb.kc.DONE,qv:b.S,rH:b.S+b.duration,Br:b.duration,sm:f,Ji:b.Ji,La:b.La,sa:b.sa,Lb:+b.Lb,location:b.location,GL:b.offset,FL:b.offset+b.ba-1,O:b.O,response:a,IIa:a&&0<a.byteLength,oB:!0,get bc(){return!this.oB;},HQa:this.fj-f||Infinity,toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.La,isHeader:this.bc,ptsStart:this.qv,ptsOffset:this.sm,responseType:this.TPb,duration:this.Br,readystate:this.pg};this.stream&&(a.bitrate=this.stream.O);return JSON.stringify(a);}};};c.prototype.endOfStream=function(){var a;this.j.oo("EndOfStream");null===(a=this.j.Pi)||void 0===a?void 0:a.C_(this.M);};c.prototype.addEventListener=function(a,b,f){this.Xj.addListener(a,b,f);};c.prototype.removeEventListener=function(a,b){this.Xj.removeListener(a,b);};c.prototype.EFa=function(a){var b;b=f.Y.get(E.Cz);return this.type===k.Qc.Ma.VIDEO?b.eM(a):b.$L(a);};na.Object.defineProperties(c.prototype,{M:{configurable:!0,enumerable:!0,get:function(){return this.type;}},KV:{configurable:!0,enumerable:!0,get:function(){return this.Nxa.KV;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.Nxa.sourceId;}},qcb:{configurable:!0,enumerable:!0,get:function(){return 0===this.type?"audio":"video";}}});b.m5=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ES=void 0;b.ES="PboBindCommandSymbol";},function(d,b,a){var k,m,t,q,l,h,f,p,y,H,g,E,G,N,C,X,P;function c(a,b){var c;function f(a){return a&&0<a.length&&a[0].Ux;}c=q.Y.get(g.kD);return a.ga&&f(a.pc)?c.release(Object.assign(Object.assign({},b),{ga:a.ga,pc:a.pc})):b.ga&&f(b.pc)?c.release(b):Promise.resolve(k.rd);}Object.defineProperty(b,"__esModule",{value:!0});b.DPa=b.$oa=void 0;k=a(10);m=a(11);t=a(38);q=a(5);l=a(16);h=a(498);f=a(2);p=a(52);y=a(50);H=a(14);g=a(149);E=a(148);G=a(12);N=a(92);C=a(103);X=a(187);P=a(30);d=function(){function a(a){var b;b=this;this.j=a;this.QBa=this.AKa=!1;this.log=q.Rg(this.j,"Playback");this.JZ=q.Y.get(g.kD);this.Cj=q.Y.get(N.gw);this.Bc=q.Y.get(C.Hz);this.Lwb=q.Y.get(X.ES);this.j.addEventListener(G.U.ON,function(){return b.bHb();});l.eb(m.config);m.config.mp||(this.Ygb=q.Y.get(h.w3));}a.prototype.tL=function(a){var h,p,q;function b(){h.j.MQa().then(c)["catch"](a);}function c(b){try{h.j.OOa(b);a(k.rd);h.ejb();}catch(O){h.log.error("Exception processing authorization response",O);a({aa:!1,da:f.u.U0a});}}h=this;l.mF(this.j.G);l.mF(this.j.Vh);p=this.j.va;if(p){q=p.Mf.Zca;q?(q-=t.aDa(),18E5<q?y.ic(function(){c(p);h.j.Xt="ui";}):(this.log.error("manifest is expired",{gap:q}),b())):y.ic(function(){c(p);h.j.Xt="ui";});}else m.config.Xo&&this.Bc()?(q=this.Bc().Tp(this.j.G,"manifest"))&&q.then(function(a){c(a);h.j.Xt="videopreparer";})["catch"](function(a){h.log.warn("manifest not in cache",a);b();}):b();};a.prototype.YM=function(a){var b;b=this;return new Promise(function(f,c){var h,l,m;h=p.Od.BDa(a.ri);l=a.li.map(function(a){return{sessionId:a.sessionId,dataBase64:q.HV(a.data)};});m=b.j.vmb(a.li[0].sessionId);h={hg:m.hg,ri:H.is.Nl(a.ri)?a.ri:h,OW:[m.ik],li:l,ga:m.ga,Ar:a.Ar,Aj:m.va.Aj};b.j.XL&&b.j.XL.fW&&(h.bO=b.j.XL.fW);b.JZ.lA(h).then(function(a){b.j.pc=a.pc;f(a);b.fjb(m);})["catch"](c);});};a.prototype.release=function(a){return c(this.j,a);};a.prototype.HDa=function(){var a;a=this.Ygb.create();this.j.wf&&(a.Yd=this.j.wf.VF());a.pc=this.j.pc;a.ga=this.j.ga;a.G=this.j.G;return a;};a.prototype.fjb=function(a){this.AKa||(this.AKa=!0,this.j.fireEvent(G.U.ON,{G:a.G}));};a.prototype.ejb=function(){var a;a=this;this.QBa||(this.QBa=!0,this.j.fireEvent(G.U.n$a),q.Y.get(E.wJ)().then(function(b){b.Tla(a.j);}));};a.prototype.bHb=function(){var b,c;b=this;c=q.Y.get(P.Uj);this.Cj.pG||a.PTa||(a.PTa=!0,c.AHb&&m.config.aHb&&this.Lwb.cf(this.log,{}).then(function(){return b.log.trace("Updated NetflixId");})["catch"](function(a){return b.log.error("NetflixId upgrade failed",f.Un(a));}));};a.PTa=!1;return a;}();b.$oa=d;b.DPa=c;},function(d,b,a){var t,q,l,h,f,p,y,H,g,E,G,N,C,X,P,n,r,A;function c(a,b){var G;function c(b){return t.DPa(a,b);}function h(){var a,b,h,q;b=p.wg("Eme");h=p.Y.get(f.Yn);a=new h.az(b,void 0,c,{Lh:!1,CN:!1});q=p.Y.get(H.Cz);return h.cz(b,"cenc",void 0,{Lh:!1,CN:!1,XJa:l.config.vi,FQa:{OLa:l.config.GBb,JCa:l.config.Uka,JVb:l.config.FBb},vy:a,ROa:l.config.Mja,NC:l.config.Eca,nUb:l.config.HBb,JBa:q.$L([]),fUa:q.eM([]),lG:l.config.lG});}function d(a,b){var f,c;c=p.Y.get(r.OS)(0,b.movieId,void 0,{},b.xid,P.Gb(n.Qg()),!1,void 0,function(){return null;});l.config.vi&&(G.info("secure stop is enabled"),f=a.aa?{success:a.aa,persisted:!0,ss_km:a.NLa,ss_sr:a.FP,ss_ka:a.oDa}:{success:a.aa,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.ad,ErrorExternalCode:a.mh,ErrorEdgeCode:a.yF,ErrorDetails:a.cause&&a.cause.nb},f.browserua=E.El,b=p.Y.get(C.Pj),a=p.Y.get(X.Wn).sn("securestop",a.aa?"info":"error",f,c),b.Kc(a));}function g(){function a(a,b){var f;if(!b.pc||0===b.pc.length||!b.pc[0].Ux)return G.error("releaseDrmSession exception: missing valid keySessionData"),k(a,b);if(0<b.pc.length){G.info("Sending the deferred playdata and secure stop data");f=h();return f.create(l.config.Yd).then(function(){return f.mRb(b);}).then(function(f){G.info("Sent the deferred playdata and secure stop data");d(f,b);return k(a,b);})["catch"](function(f){f&&f.code===y.J.u1a&&k(a,b);f&&f.code===y.J.t1a&&k(a,b);G.error("Unable to send last stop",f);d(f,b);throw f;});}G.info("No key session so just send the playdata");return c(b).then(function(){G.trace("Successfully sent stop command for previous session");return k(a,b);})["catch"](function(a){G.error("Unable to send stop command for previous session",a);throw a;});}m(G).then(function(f){var c;c=f.PW.filter(function(a){return!1===a.active;}).map(function(b){return a(f,b);});Promise.all(c).then(function(){G.info("release drm session completed for "+c.length+" entries");b(q.rd);})["catch"](function(a){a=a||{};a.DrmCacheSize=c.length;G.error("Unable to release one or more DRM session data",a);b(q.rd);});})["catch"](function(a){G.error("Unable to load DRM session data",a);b(q.rd);});}G=p.wg("PlayDataManager");b=b||q.Ke;l.config.mp?b(q.rd):g();}function k(a,b){return a?a.lka(b):Promise.resolve();}function m(a){var f;if(!b.sca){f=p.Y.get(g.lR);b.sca=new Promise(function(b,c){f.iPa().then(function(){b(f);})["catch"](function(b){a.error("Unable to load DRM data for persistent secure stop",b);c(b);});});}return b.sca;}Object.defineProperty(b,"__esModule",{value:!0});b.Bua=b.Aua=b.sca=void 0;t=a(188);q=a(10);l=a(11);h=a(56);f=a(30);p=a(5);y=a(2);H=a(111);g=a(260);E=a(9);G=a(148);N=a(12);C=a(44);X=a(62);P=a(3);n=a(38);r=a(191);d=a(26);A=a(263);b.Aua=function(a){var d,y,H,g,K,E;function b(){y||(a.cd("pdsb"),y=p.Y.get(G.wJ)().then(function(b){g=b;a.cd("pdsc");return b;})["catch"](function(b){d.error("Unable to initialize the playdata services",b);a.cd("pdse");throw b;}));return y;}function t(){H=!0;g&&g.close();h.Fe.removeListener(h.il,t);}d=p.Rg(a,"PlayDataManager");H=!1;K=p.Y.get(f.Yn);if(!K.cz||!K.az){E=p.Y.get(A.LS)();K.cz=E.rb;K.az=E.request;}a.cd("pdctor");a.addEventListener(N.U.uf,function(){h.Fe.removeListener(h.il,t);});a.addEventListener(N.U.ON,function(){var b;if(!l.config.mp&&a.wf){b=a.WL.HDa();m(d).then(function(a){return a.JAa(b);})["catch"](function(){d.error("Unable to load/add cached DRM data");});}});a.addEventListener(N.U.uf,function(){var f;if(!H){a.aIb();f=[function(){return l.config.mp||!a.wf?Promise.resolve():new Promise(function(b){var f;d.info("Sending the expedited playdata and secure stop data");f=a.WL.HDa();a.wf.PRb(f).then(function(b){d.info("Sent the expedited playdata and secure stop data");l.config.vi&&a.Pu.S0({success:b.aa,persisted:!1,ss_km:b.NLa,ss_sr:b.FP,ss_ka:b.oDa});return m(d);}).then(function(a){return k(a,f);}).then(function(){b();})["catch"](function(f){d.error("Unable to send the expedited playdata and secure stop data",f);l.config.vi&&a.Pu.S0({success:f.aa,state:f.state,ErrorCode:f.code,ErrorSubCode:f.ad,ErrorExternalCode:f.mh,ErrorEdgeCode:f.yF,ErrorDetails:f.cause&&f.cause.nb});b();});});}(),function(){return b().then(function(b){return b.ZRa(a.fa);}).then(function(){d.info("Sent the playdata");})["catch"](function(a){d.error("Unable to send the playdata",a);});}(),function(){return new Promise(function(a){p.Y.get(C.Pj).flush(!1)["catch"](function(){d.error("Unable to send logblob");a();}).then(function(){a();});});}()];Promise.all(f).then(function(){a.B_();})["catch"](function(){a.B_();});}});h.Fe.addListener(h.il,t);return{$Bb:function(f){a.cd("pdpb");l.config.Y0||b().then(function(b){return b.send(a.G);}).then(function(){l.config.mp?(a.cd("pdpc"),f(q.rd)):c(a,function(){a.cd("pdpc");f(q.rd);});})["catch"](function(){a.cd("pdpe");f(q.rd);});}};};b.Bua=function(){return new Promise(function(a){c({},function(b){a(b);});});};p.Y.get(d.Gf).register(y.J.Tv,function(a){a(q.rd);});},function(d,b,a){var c,k,m,t,q,l,h,f,p,y,H;Object.defineProperty(b,"__esModule",{value:!0});b.wC=void 0;c=a(10);k=a(11);m=a(56);t=a(38);q=a(2);l=a(16);h=a(5);f=a(17);p=a(9);y=a(144);H=a(14);d=a(26);h.Y.get(d.Gf).register(q.J.nra,function(a){var N,K,X;function d(){var a;d=c.Ke;a=setInterval(g,k.config.hsb);m.Fe.addListener(m.il,function(b){b&&b.isPopStateEvent?N.trace("popstate event, Lock timers can stay"):(f.yd(K,function(a,b){localStorage.removeItem(b.Mo);}),clearInterval(a));},c.uz);}function g(){var a;a=t.QL();f.yd(K,function(b,f){b=localStorage.getItem(f.Mo);(b=JSON.parse(b))?b.updated=a:b={updated:a,sessionId:X,count:1};localStorage.setItem(f.Mo,JSON.stringify(b));});}l.eb(y.storage);N=h.wg("StorageLock");K={};X=Date.now()+"-"+Math.floor(1E6*Math.random());b.wC={lA:function(a,b,h){var m,y,g,G,E,C,P,n,r,aa;function l(a){localStorage.setItem(g,JSON.stringify(a));a={Mo:g};K[g]=a;N.trace("Lock acquired",{Name:a.Mo});d();b({aa:!0,NZ:a});}h=void 0===h?!1:h;m=this;if(localStorage){y=t.QL();g="lock-"+a;G={updated:y,sessionId:X,count:1};try{if(g in localStorage){E=localStorage.getItem(g);C=0;P=JSON.parse(E);H.Ju(P.updated)&&(C=P.updated);n=p.nz(y-C)*c.cj;r=X===P.sessionId;if(n<k.config.IKa)if(r)P.count+=1,N.debug("Incremented lock count for existing playbackSession",{id:X,count:P.count}),P.updated=y,l(P);else if(h){aa=k.config.IKa-n+c.cj;N.error("Waiting until current expiration to confirm whether lock is still active",{id:X,count:P.count,Epoch:y,LockEpoch:C,waitTimeoutMs:aa});M.setTimeout(function(){return m.lA(a,b,!1);},aa);}else b({aa:!1});else N.error("Lock was expired or invalid, ignoring",{Epoch:y,LockEpoch:C}),l(G);}else l(G);}catch(wa){N.error("Error acquiring Lock",{errorSubCode:q.u.yh,errorDetails:f.Ee(wa)});b({aa:!0});}}else p.cha?N.error("Local storage access exception",{errorSubCode:q.u.J1a,errorDetails:f.Ee(p.cha)}):N.error("No localstorage",{errorSubCode:q.u.K1a}),b({aa:!0});},release:function(a,b){var f,h;l.eb(K[a.Mo]==a);if(localStorage){try{f=localStorage.getItem(a.Mo);h=JSON.parse(f);1<h.count?(--h.count,localStorage.setItem(a.Mo,JSON.stringify(h)),N.trace("Lock count decremented",{Name:a.Mo,count:h.count})):(localStorage.removeItem(a.Mo),delete K[a.Mo],N.trace("Lock released",{Name:a.Mo}));}catch(T){N.error("Unable to release Lock",{Name:a.Mo},T);}b&&b(c.rd);}}};k.config.bX?b.wC.lA("session",function(f){b.wC.YQa=f;a(c.rd);}):a(c.rd);});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.OS=void 0;b.OS="PlaybackSegmentDataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.MS=void 0;b.MS="PlayPredictionDeserializerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.JN=void 0;b.JN=function(a,b,k){var c;if(k.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");c=k.get;k.get=function(){var m,q;m=c.apply(this,arguments);q={enumerable:k.enumerable,value:m};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,q):Object.defineProperty(this,b,q);return m;};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.a5=void 0;b.a5=function(){function a(){}a.ZWa="display";a.rWa="console";a.XNb="remote";a.tPb="writer";return a;}();},function(d,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.oR=void 0;k=a(9);c.pba=function(a){var b;if(k.$d.queryCommandSupported&&k.$d.queryCommandSupported("copy")){b=k.$d.createElement("textarea");b.textContent=a;b.style.position="fixed";k.$d.body.appendChild(b);b.select();try{k.$d.execCommand("copy");}catch(q){console.warn("Copy to clipboard failed.",q);}finally{k.$d.body.removeChild(b);}}};b.oR=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.j6=b.i6=b.l6=void 0;b.l6="PboPlaydataValidatorSymbol";b.i6="PboPlaydataArrayValidatorSymbol";b.j6="PboPlaydataCollectionValidatorSymbol";},function(d,b,a){var t,q,l,h,f,p,y;function c(){}function k(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.rua=b.IS=void 0;t=a(0);q=a(1);l=a(39);h=a(3);f=a(15);p=a(25);y=a(100);m.prototype.encode=function(a){return{downloadableId:a.gd,duration:a.duration};};m.prototype.decode=function(a){return{gd:a.downloadableId,duration:a.duration};};k.prototype.encode=function(a){return{total:a.total,totalContentTime:a.GC,audio:a.audio.map(new m().encode),video:a.video.map(new m().encode),text:a.text.map(new m().encode)};};k.prototype.decode=function(a){var b;return{total:a.total,GC:null!==(b=a.totalContentTime)&&void 0!==b?b:a.total,audio:a.audio.map(new m().decode),video:a.video.map(new m().decode),text:a.text.map(new m().decode)};};c.prototype.encode=function(a){return{type:a.type,href:a.href,xid:a.ga,movieId:a.G,position:a.position,clientTime:a.PL,sessionStartTime:a.GP,mediaId:a.GG,playTimes:new k().encode(a.MO),trackId:a.ab,sessionId:a.sessionId,appId:a.iL,sessionParams:a.Mn,mdxControllerEsn:a.Tha,profileId:a.profileId};};c.prototype.decode=function(a){return{type:a.type,href:a.href,ga:a.xid,G:a.movieId,position:a.position,PL:a.clientTime,GP:a.sessionStartTime,GG:a.mediaId,MO:new k().decode(a.playTimes),ab:a.trackId,sessionId:a.sessionId,iL:a.appId,Mn:a.sessionParams,Tha:a.mdxControllerEsn,profileId:a.profileId};};b.IS=c;d=function(){var b;function a(a,b,f,c){this.Ia=a;this.tY=b;this.qa=f;this.profile=c;}a.prototype.create=function(a){return{href:a.va&&a.va.Aj?a.va.Aj.wea("events").href:"",type:"online",ga:a.ga.toString(),G:a.G,position:a.Gba||0,PL:this.Ia.a1.ca(h.ha),GP:a.mG?a.mG.ca(h.ha):-1,GG:this.Pkb(a),MO:this.tmb(a),ab:void 0!==a.Vh?a.Vh.toString():"",sessionId:this.tY().sessionId||this.qa.id,iL:this.tY().iL||this.qa.id,Mn:a.Ua.Mn||{},profileId:this.profile};};a.prototype.yeb=function(a,b){return Object.assign({},this.create(a),{Tha:b&&b.fW});};a.prototype.load=function(a){return new c().decode(a);};a.prototype.Pkb=function(a){var b,f,c;b=a.ed.value;f=a.mg.value;c=a.uc.value;return b&&f&&c?(a=a.va.Mf.media.find(function(a){return a.yl.AUDIO===b.ab&&a.yl.VIDEO===f.ab&&a.yl.n7===c.ab;}))?a.id:"":"";};a.prototype.Mea=function(a){return a.map(function(a){return{gd:a.downloadableId,duration:a.duration};});};a.prototype.tmb=function(a){return(a=a.qm)?(a=a.smb(),{total:a.total,GC:a.totalContentTime,audio:this.Mea(a.audio),video:this.Mea(a.video),text:this.Mea(a.timedtext)}):{total:0,GC:0,video:[],audio:[],text:[]};};b=a;return b=t.__decorate([q.N(),t.__param(0,q.l(l.Ai)),t.__param(1,q.l(f.dd)),t.__param(2,q.l(p.Se)),t.__param(3,q.l(y.BJ))],b);}();b.rua=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.GS=void 0;b.GS="PboLicenseResponseTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.gl=function(){return this.buffer.length-this.position;};a.prototype.hf=function(){return this.buffer[this.position++];};a.prototype.te=function(a){var b;b=this.position;this.position+=a;return this.Bqb(this.buffer)?this.buffer.subarray(b,this.position):this.buffer.slice(b,this.position);};a.prototype.Bqb=function(a){return void 0!==a.subarray;};a.prototype.zc=function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;};a.prototype.qs=function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;};a.prototype.Xja=function(){for(var a="",b;b=this.hf();)a+=String.fromCharCode(b);return a;};a.prototype.Ob=function(){return this.zc(2);};a.prototype.Oa=function(){return this.zc(4);};a.prototype.Bg=function(){return this.zc(8);};a.prototype.q0=function(){return this.zc(2)/256;};a.prototype.cP=function(){return this.zc(4)/65536;};a.prototype.Ef=function(a){for(var b,c="";a--;)b=this.hf(),c+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return c;};a.prototype.sy=function(){return this.Ef(4)+"-"+this.Ef(2)+"-"+this.Ef(2)+"-"+this.Ef(2)+"-"+this.Ef(6);};a.prototype.dP=function(a){for(var b=0,c=0;c<a;c++)b+=this.hf()<<(c<<3);return b;};a.prototype.bC=function(){return this.dP(4);};a.prototype.gna=function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);};return a;}();b.h3=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pJ=void 0;b.pJ="NetworkMonitorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.X4=b.W4=void 0;b.W4="LogMessageRulerConfigSymbol";b.X4="LogMessageRulerSymbol";},function(d,b,a){var c,k,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.ina=void 0;c=a(5);k=a(2);m=a(356);t=a(355);q=a(50);b.ina=function(a,b){var f,h;try{f=m.xUa(a);}catch(y){c.log.error("xml2xmlDoc exception",y);}q.ic(function(){if(f&&f.documentElement)try{h=t.yUa(f);}catch(y){c.log.error("xmlDoc2js exception",y);}q.ic(function(){h?b({aa:!0,object:h}):b({aa:!1,da:k.u.uqa});});});};},function(d,b,a){var c,k,m,t,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.LNa=b.KNa=b.P_=b.Yia=b.MNa=b.ONa=b.NNa=b.PNa=b.Q_=b.QNa=b.RNa=b.JNa=void 0;c=a(16);k=a(21);m=a(10);t=a(121);q=a(9);l=a(14);h=a(17);b.JNa=function(){var fa,U,la,O,sa,ua,ya,Q,wa,ga,Ga,Fa;function a(a){if(k.Ku(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return b.PNa[a];}}function p(a,b,f){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return q.Jm(b,f);}function d(a,b){var f,c;f=a.length;c=a[f-1];if("t"===c)return parseFloat(a)*b|0;if("s"===c)return"m"===a[f-2]?parseFloat(a)|0:parseFloat(a)*m.cj|0;if((a=a.match(wa))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*m.cj|0;throw Error("dfxp-badtime");}function H(a,b,f,c,h){var l,p,q,m,k,t,d,y;if(a){p=a.style;f=p?f[p]:void 0;c=(p=a.region)?c[p]:void 0;p=h.length;for(q=0;q<p;q++)if(m=h[q],k=a[m],void 0===k&&f&&(k=f[m]),void 0===k&&c&&(k=c[m]),void 0!==k&&k!==b[m]){if(!l)for(l={},t=0;t<p;t++)d=h[t],y=b[d],void 0!==y&&(l[d]=y);l[m]=k;}}return l||b;}function g(a,b,f,c,h,l,p,q,m){var y,g;function d(a,G,N){var K,E,X,P,n,A;K=a[t.xi];E=K.style||G.style||"";X=K.region||G.region||"";E||X?(P=E+"/"+X,n=f[P]):n=b;if(!n){n=b;A=k.OH(c);k.sb(A,h[E]);n=C(n,A,p,q,m);f[E+"/"]=n;X&&(k.sb(A,l[X]),k.sb(A,h[E]),n=C(n,A,p,q,m),f[P]=n);}if(!N)a:{for(N=ua.length;N--;)if(void 0!==K[ua[N]]){N=!0;break a;}N=void 0;}N&&(K=H(K,G,h,l,ya),n=C(n,K,p,q,m));G=(a=a[t.wI])&&a.length;for(E=0;E<G;E++)X=a[E],k.Qe(X)?ga.test(X[t.xI])?g++:d(X,K,N):(y.push({text:X,lineBreaks:g,style:n}),g=0);}y=[];g=0;d(a,c,!1);0<g&&y.push({text:"",lineBreaks:g,style:b});return y;}function E(a,b,f,c,h,l,p,q){var m,k;f&&(f=U[f]||"top",a.verticalAlignment!==f&&(a.verticalAlignment=f));c&&(f=la[c]||"left",a.horizontalAlignment!==f&&(a.horizontalAlignment=f));h?((k=q[h])?(c=k.marginLeft,f=k.marginTop):(m=h.split(" "),c=n(m[0],p.x)||0,f=n(m[1],p.y)||0,k={wn:0,marginLeft:c,marginTop:f,a9a:c*b.nfa+b.hN,c9a:f*b.Zma+b.e2},30>q.wn&&(q.wn++,q[h]=k)),a.marginLeft=k.a9a,a.marginTop=k.c9a):(f=c=0,(k=q["default"])||(q["default"]=k={wn:0}));l&&(h=k[l],h||(m=l.split(" "),h={b9a:(1-(c+(n(m[0],p.x)||0)))*b.nfa+b.hN,$8a:(1-(f+(n(m[1],p.y)||0)))*b.Zma+b.e2},30>k.wn&&(k.wn++,k[l]=h)),a.marginRight=h.b9a,a.marginBottom=h.$8a);}function G(a,b,f,c,h){var l,p,q;l=a.displayAlign;p=a.textAlign;q=a.origin;a=a.extent;f=k.OH(f);E(f,b,l,p,q,a,c,h);f.id=fa++;return f;}function N(f,c,h,l){var q,m,t,d,y,H;q=p(h.characterSize||c.characterSize,b.QNa,2)||1;m=(m=f.fontSize)&&Ga.test(m)?k.vp(k.Ld(m),25,200):void 0;q*=m/100||1;m=f.textOutline;if(m&&"none"!=m){d=m.split(" ");Fa.test(d)?(H=0,y=f.color):(H=1,y=a(d[0]));t=P(d[H]);d=P(d[H+1]);}return{characterStyle:h.characterStyle||b.RNa[f.fontFamily]||c.characterStyle,characterSize:q*l,characterColor:a(h.characterColor||f.color||c.characterColor),characterOpacity:p(k.$V(h.characterOpacity,f.opacity,c.characterOpacity),b.Q_,1),characterEdgeAttributes:h.characterEdgeAttributes||m&&("none"===m?b.NNa:d?b.P_:b.Yia)||c.characterEdgeAttributes,characterEdgeColor:a(h.characterEdgeColor||y||c.characterEdgeColor),characterEdgeWidth:t,characterEdgeBlur:d,characterItalic:"italic"===f.fontStyle,characterUnderline:"underline"===f.textDecoration,backgroundColor:a(h.backgroundColor||f.backgroundColor||c.backgroundColor),backgroundOpacity:p(k.$V(h.backgroundOpacity,f.opacity,c.backgroundOpacity),b.Q_,1)};}function C(a,b,f,c,l){var p;b=N(b,f,c,l);h.yd(b,function(b,f){f!==a[b]&&(p||(p=q.vz(a)),p[b]=f);});return p||a;}function X(a,b,f,c,h,l,p,m){var k;k=a[t.xi];f=H(a[t.xi],b,f,h,Q);b=f.region;a=k.displayAlign;f=f.textAlign;h=k.origin;k=k.extent;b||a||f||h||k?((c=c[b])?c=q.vz(c):a||h||k?(c=q.vz(sa),c.id=fa++):c=q.vz(O),E(c,l,a,f,h,k,p,m)):c=O;return c;}function P(a){a=k.Ld(a);return l.Ju(a,0,100)?a:0;}function n(a,b){var f;f=a[a.length-1];if("%"===f)return k.vp(.01*parseFloat(a),0,1);if("c"===f)return k.vp(k.Ld(a)/b,0,1);}function r(a){for(var b=a.length,f=a[--b].endTime;b--;)f=q.Jm(a[b].endTime,f);return f;}function A(b){h.yd(b,function(f,c){0<=f.toLowerCase().indexOf("color")&&(b[f]=a(c));});}function T(a,b){var f,h,l,p;f=a.pixelAspectRatio;p={hN:0,nfa:1,e2:0,Zma:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(f=(f||"").split(" "),h=parseFloat(a[0])*(parseFloat(f[0])||1),l=parseFloat(a[1])*(parseFloat(f[1])||1));h=0<h&&0<l?h/l:1280/720;b=b||1280/720;f=h/b;.01<q.nz(b-h)&&(b>=h?(p.hN=(1-f)/2,p.nfa=f):c.eb(!1,"not implemented"));return p;}function u(a){var f,c,h,l,p;if(f=a.cellResolution)if(f=f.split(" "),2<=f.length){c=k.Ld(f[0]);f=k.Ld(f[1]);if(0<c&&0<f)return{x:c,y:f};}f=a.extent;if(f&&(f=f.split(" "),2<=f.length)){c=k.Ld(f[0]);p=k.Ld(f[1]);if(a=a.pixelAspectRatio)f=a.split(" "),h=k.Ld(f[0]),l=k.Ld(f[1]);if(c&&p&&1.5<c*(h||1)/(p*(l||1)))return b.LNa;}return b.KNa;}fa=1;U={before:"top",center:"center",after:"bottom"};la={left:"left",start:"left",center:"center",right:"right",end:"right"};O={id:fa++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};sa={id:fa++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};ua="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");ya=ua.concat(["style","region"]);Q=["region","textAlign","displayAlign","extent","origin"];wa=/^([0-9]+):([0-9]+):([0-9.]+)$/;ga=/^br$/i;Ga=/^[0-9]{1,3}%$/;Fa=/^[0-9]/;return function(f,c,h,l,y){var n,P,aa,R,O,U,la,oa,ga,ua,wa,Ea,Ga,ka,Sa,Fa,Oa,z,F,Lc,S,V,Z,ca,da,ea,Ge,ia,ha,ja;function K(){try{for(var a;Z;)if(ga=Z[t.xi],ca.push({id:fa++,startTime:d(ga.begin,aa),endTime:d(ga.end,aa),region:X(Z,ea,U,oa,la,R,ka,z),textNodes:g(Z,Ge,ia,da,U,la,Fa,Oa,Sa)}),Z=Z[t.Py],a=q.WC(),100<a-ha){ha=Date.now();ja=setTimeout(K,1);return;}}catch(lf){C({da:k.u.FR,nb:k.Ee(lf)});return;}ja=setTimeout(E,1);}function E(){var b,f,c,h,l,p,q;function a(a,c){for(var h,l=[],p={},q,m=f.length;m--;)h=f[m],q=h.region.id,p[q]||(p[q]=1,l.unshift(h));(h=b[b.length-1])&&h.endTime==a&&k.wr(h.blocks,l)?h.endTime=c:b.push({id:fa++,startTime:a,endTime:c,blocks:l});}try{if(!ca.length){C({aa:!0,entries:[]});return;}k.yBa(ca,"startTime");b=[];f=[];c=ca[0];l=ca[0].startTime;for(p=1;f.length||c;){for(;!f.length||c&&c.startTime==l;)f.push(c),l=c.startTime,c=ca[p++];h=r(f);if(!c||h<=c.startTime)for(a(l,h),l=h,q=f.length;q--;)f[q].endTime<=l&&f.splice(q,1);else a(l,c.startTime),l=c.startTime,f.push(c),c=ca[p++];}for(p=b.length;p--;)b[p].index=p,b[p].previous=b[p-1],b[p].next=b[p+1];}catch(mf){C({da:k.u.FR,nb:k.Ee(mf)});return;}C({aa:!0,entries:b});}function C(a){setTimeout(function(){n.abort=k.Ke;y(a);},1);}n={abort:function(){ja&&clearTimeout(ja);}};try{P=f[t.xi];aa=m.cj/(k.Ld(P.tickRate)||1);R=T(P,c);O=k.sb(sa,{marginLeft:R.hN,marginTop:R.e2,marginRight:R.hN,marginBottom:R.e2});U={};la={};oa={};Ea=f.head;Ga=f.body;ka=u(P);Sa=1/ka.y*R.Zma;Fa=k.sb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.P_,characterEdgeColor:"#000000",characterSize:1},h,{ev:!0});Oa=l||{};z={wn:0};if(Ea){F=Ea.styling;if(F)for(wa=F.style;wa;)ga=wa[t.xi],A(ga),U[ga.id]=ga,wa=wa[t.Py];Lc=Ea.layout;if(Lc)for(var M=Lc.region;M;){ga=M[t.xi];S=ga.id;ua=k.OH(U[ga.style]);ua=k.sb(ua,ga);for(wa=M.style;wa;)k.sb(ua,wa[t.xi]),wa=wa[t.Py];A(ua);la[S]=ua;oa[S]=G(ua,R,O,ka,z);M=M[t.Py];}}V=Ga.div;Z=V.p;ca=[];da={};da=H(Ga[t.xi],da,U,la,ya);da=H(V[t.xi],da,U,la,ya);ea={};ea=H(Ga[t.xi],ea,U,la,Q);ea=H(V[t.xi],ea,U,la,Q);Ge=N(da,Fa,Oa,Sa);k.sb(Ge,{windowColor:a(Oa.windowColor||Fa.windowColor),windowOpacity:p(k.$V(Oa.windowOpacity,Fa.windowOpacity),b.Q_,1),cellResolution:ka},{ev:!0});ia={};V.p=void 0;V[t.wI]=[];}catch(kf){C({da:k.u.FR,nb:k.Ee(kf)});return;}ha=q.WC();ja=setTimeout(K,1);return n;};}();b.RNa={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.QNa={SMALL:.5,MEDIUM:1,LARGE:2};b.Q_={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.PNa={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.NNa="NONE";b.ONa="RAISED";b.MNa="DEPRESED";b.Yia="UNIFORM";b.P_="DROP_SHADOW";b.KNa={x:40,y:19};b.LNa={x:52,y:19};},function(d,b,a){var t;function c(){}function k(a,b){this.vo=a;void 0!==b?(t(b<=a.cp,"require remain_sec <= chunk.sec but has "+b+" and "+a.cp),this.Xi=b):this.Xi=a.cp;}function m(a){void 0===a&&(a=[]);this.Bk=[];this.kg=this.Lj=0;for(var b in a)this.add(a[b],void 0);}t=a(6).assert;c.prototype=Error();k.prototype.constructor=k;k.prototype.xo=function(){return new k(this.vo,this.Xi);};m.prototype.constructor=m;m.prototype.add=function(a,b){a=new k(a,b);this.Bk.push(a);this.kg+=a.Xi;this.Lj+=a.vo.xu()*a.Xi;};m.prototype.xo=function(){var a,b;a=new m(void 0);for(b in this.Bk)a.add(this.Bk[b].vo,this.Bk[b].Xi);return a;};m.prototype.Xp=function(){try{return this.Bk[0];}catch(q){}};m.prototype.jOa=function(a){var b;for(t(0<=a,"unexpected play_for_x_sec: x="+a);0<a;){if(void 0===this.Xp())throw new c();if(a<this.Xp().Xi){b=this.Xp().vo.xu()*a;this.Xp().Xi-=a;this.kg-=a;this.Lj-=b;a=0;}else b=this.Bk.shift(),this.kg-=b.Xi,this.Lj-=b.vo.xu()*b.Xi,a-=b.Xi;}};m.prototype.sxb=function(a){var h;t(0<=a,"unexpected play_y_kb: y="+a);for(var b=0;0<a;){if(void 0===this.Xp())throw new c();if(a<this.Xp().Xi*this.Xp().vo.xu()){h=a/this.Xp().vo.xu();this.Xp().Xi-=h;this.kg-=h;this.Lj-=a;b+=h;a=0;}else h=this.Bk.shift(),this.kg-=h.Xi,this.Lj-=h.vo.xu()*h.Xi,b+=h.Xi,a-=h.vo.xu()*h.Xi;}return b;};d.R={poa:m,XVa:c};},function(d){d.R={wIa:function(b){var a;if(b&&0!==b.length){a=[];b.forEach(function(b){var c;void 0===b.error.code&&(b.error.code=0);void 0===b.error.description&&(b.error.description="Unknown");a.forEach(function(a){b.error&&b.error.code==a.error.code&&b.error.description===a.error.description&&(c=a);});c?c.pP.push(b.Ln):a.push({error:b.error,pP:[b.Ln]});});return a;}},NGa:function(b){var a;a={freeSize:b.uj,dailyBytesRemaining:b.kF,bytesWritten:b.Gi,time:b.time,duration:b.duration};b.items&&(a.items=b.items.map(function(a){return{key:a.key,operation:a.Bf,itemBytes:a.wZ,error:a.error};}));return a;},ns:function(b){return b["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(d){d.R={usa:{code:-1,description:"MediaCache is not supported."},ZNb:{code:100,description:"Resource was not found"},g_a:{code:101,description:"Resource Metadata was not found"},ED:{code:102,description:"Read failed",Qn:function(b,a){return{code:this.code,description:b,cause:a};}},tT:{code:200,description:"Daily write limit exceeded"},SC:{code:201,description:"Capacity has been exceeded"},sT:{code:202,description:"Write failed, cause unknown",Qn:function(b,a){return{code:this.code,description:b,cause:a};}},uPb:{code:203,description:"Write failed, cause unknown"},WWa:{code:300,description:"Failed to delete resource",Qn:function(b,a){return{code:this.code,description:b,cause:a};}},Uv:{code:900,description:"Invalid partition name"},FZa:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},ipa:{code:701,description:"Failed to initialize underlying disk cache."},f_a:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.M$=b.py=b.xFa=void 0;c=a(109).yFa;b.xFa=function(a,b,c){var q,l,h;q=0;if(c){a.some(function(a){var f;f=a.b;a=a.m;if(b<=f)return q=h&&f!==l?h+(a-h)/(f-l)*(b-l):a,!0;l=f;q=h=a;return!1;});}else a.some(function(a){q=a.m;return b<=a.b;});return q;};b.py=function(a,b,t){var q;b=(null===(q=b.Fa)||void 0===q?void 0:q.Ca)||0;return a.D$a?(a=c(a.C$a,t.Ul-t.Hc,1),b*(1-a)):b*a.F1/100;};b.M$=function(a,b){return a<2*b?a/2:a-b;};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(776);k=a(775);b["default"]=function(a,b){switch(a.Eha){case"manifold":return new c.Msa(a,b);default:return new k.jwa(a,b);}};},function(d,b,a){var c;b=a(794);c=a(373);a=a(792);d.R={STARTING:a.IQa,BUFFERING:b.V0,REBUFFERING:b.V0,PLAYING:c.AP,PAUSED:c.AP};},function(d,b,a){var c,k,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.Ry=void 0;c=a(0);k=a(73);m=a(6);d=a(45);t=a(385);q=a(74);a=function(a){function b(b,c,h,l,m){h=a.call(this,b,c,h,l,m)||this;q.xh.call(h,b,c);h.ac=0;h.Qa||h.Gj();h.Fi=!1;return h;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return!1;},enumerable:!1,configurable:!0}});b.prototype.push=function(b){this.ac+=b.ba;a.prototype.push.call(this,b);};b.prototype.mB=function(){return!this.Fi&&!!this.wa.length&&this.wa.every(function(a){return a.mB();});};b.prototype.NE=function(a,b){m.assert(!this.Fi);this.Fi=this.wa.every(function(f){return f.mB()?f.NE(a,b,void 0,void 0):!1;});return{aa:this.Fi};};b.prototype.Yzb=function(){this.wa.forEach(function(a){a.hP();});};b.prototype.wj=function(){return this.wa?this.wa[0].wj()+"-"+this.wa[this.wa.length-1].wj():"empty";};b.prototype.toString=function(){return q.xh.prototype.toString.call(this)+"(aggregate)";};b.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);k(q.xh.prototype.toJSON.call(this),b);return b;};return b;}(t.w2);b.Ry=a;d.Fg(q.xh,a);},function(d,b,a){var c,k,m,t,q,l,h,f,p;Object.defineProperty(b,"__esModule",{value:!0});b.UQ=void 0;c=a(0);a(6);d=a(45);k=a(210);m=a(74);t=a(161);q=a(18);l=a(73);h=a(4).Rj;f=a(806);a=a(805);p=function(a){var m1i;function b(b,f,c,l,p,q,k){var R1i,t,F1i,B1i,d1i;R1i=2;while(R1i!==6){F1i="e";F1i+="di";F1i+="t";B1i="c";B1i+="a";B1i+="c";B1i+="h";B1i+="e";d1i="1";d1i+="SIYb";d1i+="Zr";d1i+="NJCp9";switch(R1i){case 2:t=this;d1i;R1i=5;break;case 5:t=[B1i,F1i].filter(function(a,b){var J1i;J1i=2;while(J1i!==1){switch(J1i){case 4:return[p,c.Qa][b];break;J1i=1;break;case 2:return[p,c.Qa][b];break;}}});t=t.length?"("+t.join(",")+")":"";void 0===c.responseType&&(c.responseType=c.Qa||h.xc&&!h.xc.AH.Bz?0:1);R1i=9;break;case 9:t=a.call(this,b,f,t,c,l,q,k)||this;m.xh.call(t,b,c);return t;break;}}}m1i=2;while(m1i!==3){switch(m1i){case 4:return b;break;case 14:return b;break;m1i=3;break;case 2:c.__extends(b,a);b.create=function(a,c,l,p,m,d,y){var Y1i,H,g,G,k1i;Y1i=2;while(Y1i!==19){k1i="su";k1i+="brequ";k1i+="est";switch(Y1i){case 10:return m;break;case 4:H=Math.ceil(p.ba/p.AB);d=p.offset;g=p.ba;m=new k.Ry(a,p,m,c,y);Y1i=7;break;case 2:Y1i=!c.Dg&&p.Qa&&a.M===q.Ma.VIDEO&&h.xc&&h.xc.AH.Bz?1:5;break;case 5:Y1i=p.AB&&p.ba>p.AB?4:20;break;case 13:d+=G.ba;g-=G.ba;Y1i=11;break;case 11:m.push(new t.Sy(a,l,k1i,G,m,c,y));Y1i=6;break;case 6:Y1i=0<g?14:10;break;case 1:return new f.Gna(a,l,p,m,d,c,y);break;case 7:H=Math.ceil(p.ba/H);Y1i=6;break;case 14:G={offset:d,ba:Math.min(g,H),responseType:p.responseType};Y1i=13;break;case 20:return new b(a,l,p,m,d,c,y);break;}}};b.prototype.toString=function(){var U1i;U1i=2;while(U1i!==1){switch(U1i){case 2:return t.Sy.prototype.toString.call(this)+":"+m.xh.prototype.toString.call(this);break;}}};m1i=4;break;}}}(t.Sy);b.UQ=p;l(a["default"],p.prototype);d.Fg(m.xh,p,!1);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jv=void 0;d=b.Jv||(b.Jv={});d[d.CLOSED=0]="CLOSED";d[d.OPEN=1]="OPEN";d[d.PJb=2]="COMPLETED";d[d.Bh=3]="PAUSED";d[d.Xy=4]="CANCELLED";},function(d,b,a){var k,m,t,q,l,h;function c(a){var b;b=a.xa;return a.zb(l.la.Of(0>b?Math.ceil(b):Math.floor(b)));}Object.defineProperty(b,"__esModule",{value:!0});b.O2=b.nia=void 0;k=a(0);d=a(24);m=a(18);t=a(4);q=a(810);l=a(34);h=a(6);b.nia=c;a=function(a){function b(b,f,c,h,l,p,q){var m,k;k=a.call(this)||this;k.H=b;k.Le=f;k.Ye=c;k.Fc=h;k.K=l;k.W=p;k.Pf=q;k.tf=k.H.error.bind(k.H);k.Za=k.H.warn.bind(k.H);k.kj=k.H.trace.bind(k.H);null===(m=h.events)||void 0===m?void 0:m.addListener("ready",function(){k.tw();});k.reset();return k;}k.__extends(b,a);Object.defineProperties(b.prototype,{endOfStream:{get:function(){return this.YT;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{KV:{get:function(){return this.Fc?this.Fc.KV:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bIb:{get:function(){return this.lo.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zqb:{get:function(){return this.Sz;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mSa:{get:function(){return!!this.Fc.Shb;},enumerable:!1,configurable:!0}});b.prototype.reset=function(a){var b,f;this.ut=!1;a||(this.lo=[]);this.oU=this.Sz=this.J8=this.hE=void 0;this.rE=l.la.Dd;this.Tz=void 0;this.AQa=new q.Xva(this.K,this.H);this.YT=!1;this.O9(l.la.Dd);null===(f=(b=this.Fc).reset)||void 0===f?void 0:f.call(b);};b.prototype.eGa=function(){this.J8=!0;};b.prototype.pause=function(){this.ut=!0;};b.prototype.resume=function(){this.ut=!1;this.tw();};b.prototype.uea=function(){var a;return null===(a=this.Sz)||void 0===a?void 0:a.se;};b.prototype.Y9a=function(a){var b;if(this.K.hFa){b=a.Ja.fd;if(a.Yb>=b.ja)return;a.sm!==b.wc&&a.hRa(new l.la(b.wc,1E3));}this.lo.push(a);this.tw();};b.prototype.Cq=function(){this.tw();};b.prototype.C0=function(a){a=this.lo.indexOf(a);-1!==a&&this.lo.splice(a,1);};b.prototype.NMa=function(a,b){this.K.K$&&b&&void 0===this.Sz&&this.Mxa(a,0);this.tw();};b.prototype.C_=function(){this.YT||(this.YT=!0,this.tw(),this.mSa||this.Fc.endOfStream());};b.prototype.$0=function(){return JSON.stringify(this.lo);};b.prototype.O9=function(a){this.oAa=a;this.Fc.aDb(a.Ib,a.T);};b.prototype.tw=function(){var a,b,f,c,h,l,p,q;b=this.K;if(this.lo.length)if(this.Fc&&!1!==this.Fc.ready){f=this.lo[0];if(this.ut)this.sE("@"+t.time.ea()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(f));else if(!f.complete&&f.jr)this.Za("aborted MediaRequest should not appear in the toAppend list"),this.sE("@"+t.time.ea()+", append: removing aborted request from toAppend: "+f.toString()),this.lo.shift();else{c=f.stream;h=c.P;if(c.ni)if(this.rDb(c,f.index))this.J8=!1,this.Mxa(c,f.index);else if(c=this.W.Iu(h)||this.Zob(c),!b.tI||c)if(c=f.qc-this.W.Xd(),!(this.Le===m.Ma.AUDIO&&f.Mu&&f.Qa&&!b.vs&&!this.YT&&1===this.lo.length&&c>b.aMa)||null!==(a=f.FH)&&void 0!==a&&a.wga){if(b.hFa||b.yhb){a=f.Ja.fd;l=this.ngb();if(l){p=a.Ki;q=f.wd>=l;c=c>b.aMa;if(l<a.ja&&q&&c&&!p)return;}}b.Iwb&&this.Pf&&(b=this.Pf(h.Va))&&!b.jL?this.pause():(this.lo.shift(),this.J2a(f));}}}else this.sE("@"+t.time.ea()+", append: not appending, sourceBuffer not ready");};b.prototype.rDb=function(a,b){var f;if(this.J8||void 0===this.hE||a.sa!==this.hE.sa)return!0;a=a.ni;h.assert(a);f=this.hE.JJa;return f===a.length-1?!1:b>=a[f+1].aB;};b.prototype.Zob=function(a){if(void 0===this.hE)return!1;a=a.ni;h.assert(a);return!1===a[this.hE.JJa].sj;};b.prototype.ngb=function(){throw Error("not supported");};b.prototype.F2a=function(a){var b,f;if(a.si){f=null===(b=this.Ye.xc)||void 0===b?void 0:b.tRb;this.K.jHb&&void 0!==f&&0<=f?(b=new l.la(f,48E3),this.rE=a.si.add(b)):this.K.oA&&(this.rE=a.si);}};b.prototype.Mxa=function(a,b){var f;f=a.ni.reduce(function(a,f,c){return f.aB<=b?c:a;},0);if(this.Fc.appendBuffer(a.ni[f].data,{bc:!0,profile:a.profile,O:a.O,sa:a.id}))this.sE("@"+t.time.ea()+", header appended, streamId: "+a.sa),this.hE={sa:a.sa,JJa:f},this.R6a(a.P.Va||0,a.sa,f),this.F2a(a),this.tw();else throw this.Za("appendHeader error: "+this.Fc.error),this.sE("@"+t.time.ea()+", appendHeader error: "+this.Fc.error),Error("appendHeaderError");};b.prototype.J2a=function(a){var b,f,c,h,p,q,k,d;p=a.Oyb||l.la.Dd;q=a.Ja.fd.ia;q.ja&&Infinity!==q.ja&&(q=new l.la(q.ja,1E3).add(p).bh,Infinity===this.Ye.duration||this.Ye.duration<q)&&(this.Ye.duration=q);if(void 0===this.oU||p&&!p.equal(this.oU))q=this.rE.add(this.AQa.$s).add(p),this.O9(q),this.oU=p;p=this.AQa.Pka(this.Le,a,this.Tz,this.rE,this.oU,this.Sz,this.lo[0],this.Q4a,this.O9.bind(this),this.T6a.bind(this));q=p.Pka;k=p.$gb;p=p.h$a;if(void 0===this.Sz&&!this.K.bia&&a.stream.si&&this.K.po){d=null===(b=a.hx)||void 0===b?void 0:b.zb(a.stream.si).add(this.oAa);d.lessThan(l.la.Dd)&&a.vca(Math.ceil(d.q_(-1).lu(a.stream.Ra)));}q=a.NE(this.Fc,this.Ye.xc,this.Sz,this.lo[0],q,k);b=q.aa;(q=q.Gn)&&this.emit(q.type,q);if(b)void 0===this.Tz||this.Le!==m.Ma.AUDIO||a.ks.equal(this.Tz.add(p))||(this.M6a(a,this.Tz.add(p)),this.Tz=void 0),this.sE("@"+t.time.ea()+", request appended, type: "+a.M+", streamId: "+a.sa+", pts: "+a.qc+"-"+a.se),this.Sz=a,a.Mu?(this.Tz=a.nja,this.Q4a=this.c3a(a,this.oAa||l.la.Dd),null===(c=(f=this.Fc).Shb)||void 0===c?void 0:c.call(f,a.FH),this.K.pI&&(null===(h=a.FH)||void 0===h?0:h.wga)&&this.C_()):this.Tz=void 0,this.S6a(a),this.tw();else{if(void 0!==this.Fc.error){if("done"===this.Fc.error)return;this.tf("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.Fc.error);throw this.Fc.error;}a=Error("failure to append queued mediaRequest: "+(a&&JSON.stringify(a))+" err: "+this.Fc.error);this.tf(a.message);throw a;}};b.prototype.c3a=function(a,b){var f,h;f=a.stream.Ra;h=a.VL;this.K.po&&a.stream.si&&(h=h.zb(a.stream.si));return c(h.zb(f)).add(c(f)).add(c(b));};b.prototype.R6a=function(a,b,f){a={type:"headerAppended",mediaType:this.Le,manifestIndex:a,streamId:b,isIndex:f};this.emit(a.type,a);};b.prototype.S6a=function(a){a={type:"requestAppended",mediaType:this.Le,request:a};this.emit(a.type,a);};b.prototype.sE=function(a){a={type:"managerdebugevent",message:a};this.emit(a.type,a);};b.prototype.M6a=function(a,b){var f;f=a.Yb;a=a.ks.zb(b).xa;f={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[f,a]}}};this.emit(f.type,f);};b.prototype.T6a=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.xa,minavsyncerror:b.xa}};this.emit(a.type,a);};return b;}(d.EventEmitter);b.O2=a;},function(d,b,a){var c,k,m,t,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.d1a=b.XQ=void 0;c=a(0);d=a(24);k=a(156);m=a(66);t=a(4);q=a(13);a=a(45);l=t.Promise;h=function(){function a(a,b){this.console=a;this.Tf=b;this.q5a=this.dK=0;this.If=[];this.console=q.Yx(t,this.console,"QueueIterator:");}Object.defineProperties(a.prototype,{bgb:{get:function(){return this.dK;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ybb:{get:function(){var a;for(a=0;a<this.If.length&&this.If[a].EN;a++);return a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{count:{get:function(){return this.Tf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Gu:{get:function(){return 0===this.Tf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vka:{get:function(){var a;for(a=0;a<this.If.length&&this.If[a].uga;a++);return a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{head:{get:function(){var a;a=this.If[0];return(a=a&&a.item)&&!a.done&&a.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xia:{get:function(){var a;for(a=0;a<this.If.length&&this.If[a].EN;a++);return a;},enumerable:!1,configurable:!0}});a.prototype.cX=function(){var a;if(void 0===this.Tf){a=this.console;m.cb&&a&&a.trace("QueueIterator: enqueueEnd");this.Pma(this.xia-(this.Tf||0));}};a.prototype.Es=function(){return this.If.map(function(a){return a.item;});};a.prototype.VSa=function(){return this.If.filter(function(a){return(null===a||void 0===a?void 0:a.item)&&!a.item.done;}).map(function(a){return a.item.value;});};a.prototype.Pma=function(a){var b;m.cb&&this.console.trace("updateCount",{aUb:this.Tf,qF:a});if(void 0!==this.Tf){b=this.If[this.Tf];b&&this.fga(b);}this.Tf=void 0===this.Tf?a:void 0===a?a:this.Tf+a;void 0!==this.Tf&&(this.Tf=Math.max(0,this.Tf),(b=this.If[this.Tf])&&b.sG.resolve({done:!0}));};a.prototype.enqueue=function(a){m.cb&&this.console.trace("Enqueue called");return this.Lyb(this.xia,{value:a,done:!1}).xEa.ms;};a.prototype.G0=function(){m.cb&&this.console.trace("resetEnd");this.Pma(void 0);};a.prototype.clear=function(a){var b,f,c;m.cb&&this.console.trace("clear");this.VOa();b=this.vka;f=this.If.length-b;if(0<f){c={index:b,Kia:f};m.cb&&this.console.trace("Removing items",c);this.If.splice(b,f);this.emit("onRemoved",c);}for(f=1;f<b;f++)this.fga(this.If[f]);this.Tf=void 0;this.Pma(a?a+b:a);this.dK&&(this.dK=0);};a.prototype.sHa=function(){var a,b;a=this;b=q.Yx(t,this.console,"QueueIteratorInstance::");return new f(this,function(b){return a.KHa(b);},b);};a.prototype.aca=function(){var a;if(0<this.vka){a=this.If[0];if(a.EN)return m.cb&&this.console.trace("dequeue",a.id),this.VOa(1),this.emit("onDequeue",a.sG.ms);}};a.prototype.remove=function(a){var b,f,c;for(b=0;b<this.If.length;b++){f=this.If[b];c=f.item;if(c&&!c.done&&c.value===a){this.If.splice(b,1);m.cb&&this.console.trace("removed",{id:f.id});this.emit("onRemoved",{index:b,Kia:1});break;}}};a.prototype.VOa=function(a){var b;a=a||Math.min(this.vka,this.xia);if(0<a){b=this.If.splice(0,a);this.Tf&&(this.Tf-=a);m.cb&&this.console.trace("pruned",a);setTimeout(function(){b.forEach(function(a){a.xEa.resolve();});},0);this.emit("onRemoved",{index:0,Kia:a});this.dK+=a;}};a.prototype.KHa=function(a){var b;m.cb&&this.console.trace("getNextItemCalled",{offset:a});if(void 0===this.count||0<this.count){this.nJa(a);b=this.If[a];b.IAb.resolve();a=b.sG.ms;m.cb&&this.console.trace("getNextItem:return",{id:b.id});}else m.cb&&this.console.trace("getNextItem:returnDone"),a=l.resolve({done:!0});return a;};a.prototype.Lyb=function(a,b){var f;f=!b.done&&b.value;f=f&&f.toJSON?f.toJSON():f;m.cb&&this.console.trace("Providing result",{B9a:a,item:f});this.nJa(a);a=this.If[a];f=a.sG.resolve;f(b);return a;};a.prototype.nJa=function(a){var b;if(void 0===this.If[a]){b={};this.fga(b);this.If[a]=b;a===this.Tf&&b.sG.resolve({done:!0});m.cb&&this.console.trace("Item initialized",{B9a:a});}};a.prototype.xba=function(a){var b;b={};b.ms=new l(function(f,c){b.resolve=function(b){f(b);a&&a(b);};b.reject=c;});return b;};a.prototype.fga=function(a){var b;b=this;a.sG=this.xba(function(f){a.item=f;a.EN=!0;m.cb&&b.console.trace("Item resolved",{id:a.id});});a.id&&a.uga&&!a.EN&&(a.sG.resolve({done:!0}),m.cb&&this.console.warn("Overwriting requested queue item",a.id));a.xEa=this.xba();a.IAb=this.xba(function(){a.uga=!0;m.cb&&b.console.trace("Item requested",{id:a.id});});a.id=this.q5a++;a.uga=!1;a.EN=!1;a.item=void 0;};a.prototype.jkb=function(){var a,b;a=this;b=new k.Uy(function(){var f,c;if(0===a.count)return k.Uy.dfa();f=a.KHa(0);c=a.If[0];f.then(function(){b.nG||c===a.If[0]&&a.aca();});return f;});return b;};return a;}();b.XQ=h;a.Fg(d.EventEmitter,h);f=function(a){function b(b,f,c){var h;h=a.call(this,function(){m.cb&&h.console.trace("Next item requested",{index:h.index});return h.eBb(h.index++);})||this;h.parent=b;h.eBb=f;h.console=c;h.eE=!1;h.index=0;h.pK=!1;h.mNa=function(a){var b;b=a.index;a=a.Kia;h.index>=b&&(h.index=Math.max(b,h.index-a));b=h.console;m.cb&&b&&b.trace("QueueIteratorInstance: onRemoved modified",h.index);};return h;}c.__extends(b,a);b.prototype.tg=function(){this.console.trace("disposed");this.eE=!0;this.yc();a.prototype.tg.call(this);};b.prototype.next=function(){this.nG||this.aZ();return a.prototype.next.call(this);};b.prototype.cancel=function(){this.yc();return a.prototype.cancel.call(this);};b.prototype.yc=function(){this.parent.$G("onRemoved",this.mNa);this.pK=!1;};b.prototype.aZ=function(){this.pK||(this.pK=!0,this.parent.on("onRemoved",this.mNa));};return b;}(k.Uy);b.d1a=f;},function(d,b,a){var q,l,h,f,p,y;function c(a){var b;b=a.F8;this.K=a;this.ci=l.Je.HAVE_NOTHING;this.YD=a.YD;a=new p(this.YD);this.UK=a.create("throughput-location-history",b);this.zt=a.create("respconn-location-history",b);this.pt=a.create("respconn-location-history",b);this.bV=a.create("throughput-tdigest-history",b);this.iU=a.create("throughput-iqr-history",b);this.Pa=null;}function k(a,b,f,l,p){this.ot=new c(p);this.ko=[];this.g5a=h.time.ea()-Date.now()%864E5;this.kt=null;this.K=p;for(a=0;a<l;++a)this.ko.push(new c(p));}function m(a,b,f){return q.has(a,b)?a[b]:a[b]=f;}function t(a,b){var f;this.K=a;this.mAa=b;this.vFa();this.kK=new c(this.K);this.xK();f=a.Nba;f&&(f={Jd:l.Je.WI,Fa:{Ca:parseInt(f,10),wh:0},qh:{Ca:0,wh:0},$p:{Ca:0,wh:0}},this.get=function(){return f;});}q=a(7);l=a(18);b=a(13);h=a(4);f=b.Fqa;p=a(392).zqa;new h.Console("ASEJS_LOCATION_HISTORY","media|asejs");y={Jd:l.Je.HAVE_NOTHING};c.prototype.mA=function(a,b){this.ci=b;this.UK.add(a);this.bV.add(a);this.Pa=h.time.ea();};c.prototype.MC=function(a,b){this.iU.set(a,b);};c.prototype.Kt=function(a){this.zt.add(a);};c.prototype.Jt=function(a){this.pt.add(a);};c.prototype.Yc=function(){var a,b,f,c,l,p;a=this.UK.Yc();b=this.zt.Yc();f=this.pt.Yc();c=this.iU.Yc();l=this.bV.Yc();if(q.Na(a)&&q.Na(b)&&q.Na(f))return null;p={c:this.ci,t:h.time.kia(this.Pa)};q.Na(a)||(p.tp=a);q.Na(b)||(p.rt=b);q.Na(f)||(p.hrt=f);q.Na(c)||(p.iqr=c);q.Na(l)||(p.td=l);return p;};c.prototype.Zd=function(a){var b;b=h.time.now();if(!(a&&q.has(a,"c")&&q.has(a,"t")&&q.has(a,"tp")&&q.isFinite(a.c)&&q.isFinite(a.t))||0>a.c||a.c>l.Je.WI||a.t>b||!this.UK.Zd(a.tp))return this.ci=l.Je.HAVE_NOTHING,this.kt=this.Pa=null,this.UK.Zd(null),this.zt.Zd(null),this.pt.Zd(null),!1;this.ci=a.c;this.Pa=h.time.Hia(a.t);this.zt.Zd(q.has(a,"rt")?a.rt:null);this.pt.Zd(q.has(a,"hrt")?a.hrt:null);q.has(a,"iqr")&&this.iU.Zd(a.iqr);q.has(a,"td")&&this.bV.Zd(a.td);return!0;};c.prototype.get=function(){var a,b,c,p,m,k;a=this.K;if(q.Na(this.Pa))return y;b=(h.time.ea()-this.Pa)/1E3;b>a.B4a?this.ci=l.Je.HAVE_NOTHING:b>a.c4a&&(this.ci=Math.min(this.ci,l.Je.ez));a=this.UK.get();c=this.zt.get();p=this.pt.get();m=this.iU.get();k=this.bV.get();b={Pl:b,Jd:this.ci,Fa:a,qh:c,$p:p,aq:m,wi:k};a&&(b.yVb=f.prototype.wja.bind(a));c&&(b.KUb=f.prototype.wja.bind(c));p&&(b.FSb=f.prototype.wja.bind(p));return b;};c.prototype.time=function(){return this.Pa;};c.prototype.XD=function(){this.get();h.time.ea();};k.prototype.gj=function(){return((h.time.ea()-this.g5a)/1E3/3600/(24/this.ko.length)|0)%this.ko.length;};k.prototype.Yc=function(){var a;a={g:this.ot.Yc(),h:this.ko.map(function(a){return a.Yc();})};q.Na(this.kt)||(a.f=h.time.kia(this.kt));return a;};k.prototype.Zd=function(a){var b,f;if(!this.ot.Zd(a.g))return!1;b=this.ko.length;f=!1;this.ko.forEach(function(c,h){f=!c.Zd(a.h[h*a.h.length/b|0])||f;});this.kt=q.has(a,"f")?h.time.Hia(a.f):null;return f;};k.prototype.mA=function(a,b){this.ot.mA(a,b);this.ko[this.gj()].mA(a,b);this.kt=null;};k.prototype.MC=function(a,b){this.ot.MC(a,b);this.ko[this.gj()].MC(a,b);};k.prototype.Kt=function(a){this.ot.Kt(a);this.ko[this.gj()].Kt(a);};k.prototype.Jt=function(a){this.ot.Jt(a);this.ko[this.gj()].Jt(a);};k.prototype.fail=function(a){this.kt=a;};k.prototype.get=function(){var a,b;if(!q.Na(this.kt)){if((h.time.ea()-this.kt)/1E3<this.K.b4a)return{Jd:l.Je.HAVE_NOTHING,yx:!0};this.kt=null;}a=this.ko[this.gj()].get();b=this.ot.get();a=a.Jd>=b.Jd?a:b;a.yx=!1;return a;};k.prototype.time=function(){return this.ot.time();};k.prototype.XD=function(a){this.ot.XD(a+": global");this.ko.forEach(function(b,f,c){q.Na(b.time())||(f=24*f/c.length,b.XD(a+":  "+((10>f?"0":"")+f+"00")+"h"));});};t.prototype.Gya=function(a,b){var f;f=this.K;a=m(this.Bw,a,{});return m(a,b,new k(0,0,0,f.Cza||4,f));};t.prototype.xK=function(){var a,b;a=h.storage.get("lh");b=h.storage.get("gh");a&&this.M9(a);b&&this.i7a(b);};t.prototype.K8=function(){var a;a={};q.Ud(this.Bw,function(b,f){q.Ud(b,function(b,c){m(a,f,{})[c]=b.Yc();},this);},this);return a;};t.prototype.i7a=function(a){this.kK.Zd(a);};t.prototype.M9=function(a){var b,f;b=null;f=this.K;q.Ud(a,function(a,c){q.Ud(a,function(a,h){var l;l=new k(0,0,0,f.Cza||4,f);l.Zd(a)?(m(this.Bw,c,{})[h]=l,b=!0):q.Na(b)&&(b=!1);},this);},this);return q.Na(b)?!0:b;};t.prototype.save=function(){var a;a=this.K8();h.storage.set("lh",a);h.storage.set("gh",this.kK.Yc());this.mAa&&this.mAa.ola(this.kK.Yc());};t.prototype.vFa=function(a){a?(q.has(this.Bw,a)&&delete this.Bw[a],this.ST==a&&(this.Nz=this.ST="",this.Tk=null)):(this.Bw={},this.Nz=this.ST="",this.Tk=null);};t.prototype.JP=function(a){this.ST=a;this.Tk=null;};t.prototype.c1=function(a){this.Nz=a;this.Tk=null;};t.prototype.dU=function(){q.Na(this.Tk)&&(this.Tk=this.Gya(this.ST,this.Nz));return this.Tk;};t.prototype.mA=function(a,b){this.dU().mA(a,b);this.kK.mA(a,b);};t.prototype.MC=function(a,b){a&&a.uk&&a.Ti&&a.vk&&(this.dU().MC(a,b),this.kK.MC(a,b));};t.prototype.Kt=function(a){this.dU().Kt(a);};t.prototype.Jt=function(a){this.dU().Jt(a);};t.prototype.fail=function(a,b){this.Gya(a,this.Nz).fail(b);};t.prototype.get=function(a,b){var f,c,h,p;a=(a=this.Bw[a])?a[this.Nz]:null;f=null;if(a&&(f=a.get(),f.Jd>l.Je.HAVE_NOTHING))return f;if(!1===b)return y;c=f=null;h=!1;p=null;q.Ud(this.Bw,function(a){q.Ud(a,function(a,b){var l;if(!h||b==this.Nz){l=a.get();l&&(!c||c<=l.Jd)&&(!p||c<l.Jd||p<a.time())&&(c=l.Jd,h=b==this.Nz,p=a.time(),f=l);}},this);},this);return f?f:y;};t.prototype.XD=function(){q.Ud(this.Bw,function(a,b){q.Ud(a,function(a,f){a.XD(b+":"+f);});});};d.R=t;},function(d,b,a){var c,k,m,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.UC=void 0;c=a(160);k=a(215);m=a(815);t=a(108);q=a(6);d=function(){function a(a,b){var f;f=this;this.zf=new k(a,b);this.mm=new m(a);this.tb=new t(this.mm,this.zf,a);c.Ls.jcb(a);a.W_&&setInterval(function(){f.zf.save();f.mm.save();},a.W_);}a.NHa=function(b,c){void 0===l?(a.config=b,a.Bv=c,l=new a(b,c)):(q.assert(a.config===b),q.assert(a.Bv===c));return l;};a.reset=function(){a.config=void 0;l=a.Bv=void 0;};return a;}();b.UC=d;},function(d,b,a){b=a(818);d.R=b;},function(d,b,a){var t;function c(a){this.GE=a;this.reset();}function k(a){this.ji=new c(a);this.Qd=0;this.Qb=null;}function m(a,b){this.GE=a;this.dza=b;this.reset();}t=a(7);c.prototype.Oza=function(a,b){this.Pa+=a;this.fj+=a;this.ac+=b;this.Ei.push({d:a,aaa:b});};c.prototype.JK=function(){var a;for(;this.fj>this.GE;){a=this.Ei.shift();this.ac-=a.aaa;this.fj-=a.d;}};c.prototype.reset=function(){this.Ei=[];this.Pa=null;this.fj=this.ac=0;};c.prototype.setInterval=function(a){this.GE=a;this.JK();};c.prototype.start=function(a){t.Na(this.Pa)&&(this.Pa=a);};c.prototype.add=function(a,b,c){t.Na(this.Pa)&&(this.Pa=b);b>this.Pa&&this.Oza(b-this.Pa,0);this.Oza(c>this.Pa?c-this.Pa:0,a);this.JK();};c.prototype.get=function(){return{Ca:Math.floor(8*this.ac/this.fj),wh:0};};k.prototype.reset=function(){this.ji.reset();this.Qd=0;this.Qb=null;};k.prototype.add=function(a,b,c){!t.Na(this.Qb)&&c>this.Qb&&(b>this.Qb&&(this.Qd+=b-this.Qb),this.Qb=null);this.ji.add(a,b-this.Qd,c-this.Qd);};k.prototype.start=function(a){!t.Na(this.Qb)&&a>this.Qb&&(this.Qd+=a-this.Qb,this.Qb=null);this.ji.start(a-this.Qd);};k.prototype.stop=function(a){this.Qb=t.Na(this.Qb)?a:Math.min(a,this.Qb);};k.prototype.get=function(){return this.ji.get();};k.prototype.setInterval=function(a){this.ji.setInterval(a);};m.prototype.reset=function(){this.Ei=[];this.ac=this.fj=0;};m.prototype.add=function(a,b,c,f){void 0!==f&&!0===f&&(b=c-b,this.fj+=b,this.ac+=a,this.Ei.push({d:b,aaa:a}),this.JK());};m.prototype.JK=function(){var a;for(;this.fj>this.GE||this.Ei.length>this.dza;){a=this.Ei.shift();this.ac-=a.aaa;this.fj-=a.d;}};m.prototype.start=function(){};m.prototype.stop=function(){};m.prototype.get=function(){return{Ca:Math.floor(8*this.ac/this.fj),wh:0};};m.prototype.setInterval=function(a,b){this.GE=a;this.dza=b;this.JK();};d.R={XJb:c,HXa:k,t2a:m};},function(d,b,a){var q;function c(a,b,f){this.uF=!1===a;this.qF=a||.01;this.J4=void 0===b?25:b;this.Boa=void 0===f?1.1:f;this.kh=new q(k);this.reset();}function k(a,b){return a.ff>b.ff?1:a.ff<b.ff?-1:0;}function m(a,b){return a.Yr-b.Yr;}function t(a){this.config=a||{};this.mode=this.config.mode||"auto";c.call(this,"cont"===this.mode?a.qF:!1);this.ugb=this.config.ratio||.9;this.vgb=this.config.xVb||1E3;this.r_=0;}q=a(831).f1a;c.prototype.reset=function(){this.kh.clear();this.Wga=this.n=0;};c.prototype.size=function(){return this.kh.size;};c.prototype.Es=function(a){var b;b=[];a?(this.QT(!0),this.kh.Ud(function(a){b.push(a);})):this.kh.Ud(function(a){b.push({ff:a.ff,n:a.n});});return b;};c.prototype.summary=function(){return[(this.uF?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.Nh(0),"Q1  = "+this.Nh(.25),"Q2  = "+this.Nh(.5),"Q3  = "+this.Nh(.75),"max = "+this.Nh(1)].join("\n");};c.prototype.push=function(a,b){b=b||1;a=Array.isArray(a)?a:[a];for(var f=0;f<a.length;f++)this.kya(a[f],b);};c.prototype.Pja=function(a){a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.kya(a[b].ff,a[b].n);};c.prototype.QT=function(a){var b;if(!(this.n===this.Wga||!a&&this.Boa&&this.Boa>this.n/this.Wga)){b=0;this.kh.Ud(function(a){a.Yr=b+a.n/2;b=a.gF=b+a.n;});this.n=this.Wga=b;}};c.prototype.djb=function(a){var b,f;if(0===this.size())return null;b=this.kh.lowerBound({ff:a});f=null===b.data()?b.XB():b.data();return f.ff===a||this.uF?f:(b=b.XB())&&Math.abs(b.ff-a)<Math.abs(f.ff-a)?b:f;};c.prototype.nE=function(a,b,f){a={ff:a,n:b,gF:f};this.kh.Bn(a);this.n+=b;return a;};c.prototype.vT=function(a,b,f){b!==a.ff&&(a.ff+=f*(b-a.ff)/(a.n+f));a.gF+=f;a.Yr+=f/2;a.n+=f;this.n+=f;};c.prototype.kya=function(a,b){var f,c,h;f=this.kh.min();c=this.kh.max();h=this.djb(a);h&&h.ff===a?this.vT(h,a,b):h===f?this.nE(a,b,0):h===c?this.nE(a,b,this.n):this.uF?this.nE(a,b,h.gF):(f=h.Yr/this.n,Math.floor(4*this.n*this.qF*f*(1-f))-h.n>=b?this.vT(h,a,b):this.nE(a,b,h.gF));this.QT(!1);!this.uF&&this.J4&&this.size()>this.J4/this.qF&&this.gu();};c.prototype.Z$a=function(a){var b,f;this.kh.Qk=m;b=this.kh.upperBound({Yr:a});this.kh.Qk=k;f=b.XB();a=f&&f.Yr===a?f:b.next();return[f,a];};c.prototype.Nh=function(a){var b;b=(Array.isArray(a)?a:[a]).map(this.r6a,this);return Array.isArray(a)?b:b[0];};c.prototype.r6a=function(a){var b,f;if(0!==this.size()){this.QT(!0);this.kh.min();this.kh.max();a*=this.n;b=this.Z$a(a);f=b[0];b=b[1];return b===f||null===f||null===b?(f||b).ff:this.uF?a<=f.gF?f.ff:b.ff:f.ff+(a-f.Yr)*(b.ff-f.ff)/(b.Yr-f.Yr);}};c.prototype.gu=function(){var a;if(!this.qDa){a=this.Es();this.reset();for(this.qDa=!0;0<a.length;)this.Pja(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.QT(!0);this.qDa=!1;}};t.prototype=Object.create(c.prototype);t.prototype.constructor=t;t.prototype.push=function(a){c.prototype.push.call(this,a);this.mbb();};t.prototype.nE=function(a,b,f){this.r_+=1;c.prototype.nE.call(this,a,b,f);};t.prototype.vT=function(a,b,f){1===a.n&&--this.r_;c.prototype.vT.call(this,a,b,f);};t.prototype.mbb=function(){!("auto"!==this.mode||this.size()<this.vgb)&&this.r_/this.size()>this.ugb&&(this.mode="cont",this.uF=!1,this.qF=this.config.qF||.01,this.gu());};d.R={TDigest:c,Digest:t};},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.BI=void 0;c=a(0);d=a(73);k=a(161);m=a(164);a=function(a){function b(b,c,f,p,q,k,t){c=a.call(this,b,c,f,p,q,k,t)||this;m.Lv.call(c,b,p);return c;}c.__extends(b,a);return b;}(k.Sy);b.BI=a;d(m.Lv.prototype,a.prototype);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.QC=void 0;d=a(45);a=a(163);c=function(){function a(a,b){this.ho=a;this.TD=b.Wa;this.ft=b.qb;}Object.defineProperties(a.prototype,{Wa:{get:function(){return void 0!==this.TD?this.TD:this.ho.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qb:{get:function(){return void 0!==this.ft?this.ft:this.ho.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.ho.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tl:{get:function(){return this.ho.tl;},enumerable:!1,configurable:!0}});a.prototype.HP=function(a){this.ft=a;};a.prototype.Naa=function(){this.ft=void 0;};return a;}();b.QC=c;d.Fg(a.CI,c);d.Fg(a.AI,c);},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(122);k=a(225);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.nPa=function(){15!==this.L.Rf(4)||this.L.Rf(24);};b.prototype.parse=function(a){if(this.Qpb(a)&&64===a.tvb)switch(this.pA=this.fPa(),this.nPa(),this.L.Rf(4),this.tib=5===this.pA||29===this.pA?5:-1,0<this.tib&&(this.nPa(),this.pA=this.fPa(),22===this.pA&&this.L.Rf(4)),this.pA){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.rGa=this.L.Rf(1),(this.$fb=this.L.Rf(1))&&this.L.Rf(14),this.L.Rf(1),this.EX=3===this.pA?256:23===this.pA?this.rGa?480:512:this.rGa?960:1024;}this.skip();return!0;};b.prototype.fPa=function(){var a;a=this.L.Rf(5);31===a&&(a=32+this.L.Rf(6));return a;};b.prototype.Qpb=function(a){return a.tag===k.tpa.tag;};b.tag=5;return b;}(d.n3);b.EXa=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.tvb=this.L.od();this.L.od();this.L.Zg();this.L.od();this.Po=this.L.Db();this.w$a=this.L.Db();this.Rza();return!0;};b.tag=4;return b;}(a(122).n3);b.tpa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.L.Zg();a=this.L.od();this.oEb=!!(a&128);this.l2a=!!(a&64);this.X_a=!!(a&32);this.oEb&&this.L.Zg();this.l2a&&this.L.p0(this.L.od());this.X_a&&this.L.Zg();this.Rza();return!0;};b.tag=3;return b;}(a(122).n3);b.Xpa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(122),b);d.__exportStar(a(224),b);d.__exportStar(a(223),b);d.__exportStar(a(222),b);d=a(223);c=a(222);a=a(224);b.rF={3:a.Xpa,4:d.tpa,5:c.EXa};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.L.offset+=6;this.L.Zg();return!0;};return b;}(a(27).Uf);b["default"]=d;},function(d,b){function a(a,b){return"number"!==typeof a||"number"!==typeof b?!1:a&&b?Math.abs(a*b/c(a,b)):0;}function c(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a%b;a=c;}return a;}Object.defineProperty(b,"__esModule",{value:!0});d=function(){function b(a,b){"object"===typeof a?(this.Et=a.Ib,this.Ml=a.T):(this.Et=a,this.Ml=b);}b.cwb=function(a){return new b(1,a);};b.Of=function(a){return new b(a,1E3);};b.vma=function(a,b){return Math.floor(1E3*a/b);};b.oia=function(a,b){return Math.floor(a*b/1E3);};b.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};b.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};b.Pda=function(m,t){var q;if(m.T===t.T)return new b(c(m.Ib,t.Ib),m.T);q=a(m.T,t.T);return b.Pda(m.jg(q),t.jg(q));};Object.defineProperties(b.prototype,{Ib:{get:function(){return this.Et;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{T:{get:function(){return this.Ml;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{xa:{get:function(){return 1E3*this.Et/this.Ml;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{bh:{get:function(){return this.Et/this.Ml;},enumerable:!0,configurable:!0}});b.prototype.jg=function(a){a/=this.T;return new b(Math.floor(this.Ib*a),Math.floor(this.T*a));};b.prototype.add=function(c){var m;if(this.T===c.T)return new b(this.Ib+c.Ib,this.T);m=a(this.T,c.T);return this.jg(m).add(c.jg(m));};b.prototype.zb=function(a){return this.add(new b(-a.Ib,a.T));};b.prototype.q_=function(a){return new b(this.Ib*a,this.T);};b.prototype.lu=function(b){var c;if(this.T===b.T)return this.Ib/b.Ib;c=a(this.T,b.T);return this.jg(c).lu(b.jg(c));};b.prototype.nIa=function(b){return a(this.T,b);};b.prototype.xPa=function(){return new b(this.T,this.Ib);};b.prototype.compare=function(b,c){var q;if(this.T===c.T)return b(this.Ib,c.Ib);q=a(this.T,c.T);return b(this.jg(q).Ib,c.jg(q).Ib);};b.prototype.equal=function(a){return this.compare(function(a,b){return a===b;},a);};b.prototype.VG=function(a){return this.compare(function(a,b){return a!==b;},a);};b.prototype.lessThan=function(a){return this.compare(function(a,b){return a<b;},a);};b.prototype.greaterThan=function(a){return this.compare(function(a,b){return a>b;},a);};b.prototype.Tx=function(a){return this.compare(function(a,b){return a<=b;},a);};b.prototype.fN=function(a){return this.compare(function(a,b){return a>=b;},a);};b.prototype.toJSON=function(){return{ticks:this.Ib,timescale:this.T};};b.prototype.toString=function(){return this.Ib+"/"+this.T;};b.Dd=new b(0,1);b.dv=new b(1,1E3);return b;}();b.la=d;},function(d,b,a){var fa,U,la,O,sa,ua,ya,Q,wa,ga,Ga,Fa,ka,Ea,Sa,Oa,z,Ia,mb,F,M,Ta,jb,S,ba,sd,V,Z,ca,da,ea;function c(a,b,f,c,h){O.call(this,a,b,f,c,h);}function k(a,b,f,c,h){O.call(this,a,b,f,c,h);}function m(a,b,f,c,h){O.call(this,a,b,f,c,h);}function t(a,b,f,c,h){O.call(this,a,b,f,c,h);this.Cla=a.config.Cla;this.Kd=this.sizes=void 0;}function q(a,b,f,c,h){O.call(this,a,b,f,c,h);}function l(){for(var a=new DataView(this),b="",f,c=0;c<this.byteLength;c++)f=a.getUint8(c),b+=("00"+f.toString(16)).slice(-2);return b;}function h(a,b,f,c,h){O.call(this,a,b,f,c,h);}function f(a,b,f,c,h){O.call(this,a,b,f,c,h);}function p(a,b,f,c,h){O.call(this,a,b,f,c,h);}function y(a,b,f,c,h){O.call(this,a,b,f,c,h);}function g(a,b,f,c,h){O.call(this,a,b,f,c,h);}function K(a){function b(b,f,c,h,p){O.call(this,b,f,c,h,p);this.wMa=a;}b.jc=!1;b.prototype=new O();b.prototype.constructor=b;Object.defineProperties(b.prototype,{kpa:{get:function(){return this.wMa;}}});b.prototype.parse=function(){this.L.console.trace("renaming '"+this.type+"' to draft type '"+this.wMa+"'");this.L.offset=this.startOffset+4;this.$a.vUa(this.kpa);this.type=this.kpa;return!0;};return b;}function E(a,b,f,c,h){O.call(this,a,b,f,c,h);}function G(a,b,f,c,h){O.call(this,a,b,f,c,h);}function N(a,b,f,c,h){O.call(this,a,b,f,c,h);}function C(a,b,f,c,h){O.call(this,a,b,f,c,h);}function X(a,b,f,c,h){O.call(this,a,b,f,c,h);}function n(a,b,f,c,h){O.call(this,a,b,f,c,h);}function r(a,b,f,c,h){O.call(this,a,b,f,c,h);}function R(a,b,f,c,h){O.call(this,a,b,f,c,h);}function A(a,b,f,c,h){O.call(this,a,b,f,c,h);}function T(a,b,f,c,h){O.call(this,a,b,f,c,h);}function u(a,b){a.forEach(function(a){b[a.Me]=a;});}fa=a(124).assert;b=a(82);U=a(227).la;la=a(404);a(123);a(75);a(75);a(75);O=a(27).Uf;sa=a(858)["default"];ua=a(857)["default"];ya=a(856)["default"];Q=a(855)["default"];wa=a(854)["default"];ga=a(853)["default"];Ga=a(852)["default"];Fa=a(851)["default"];ka=a(850)["default"];a(226);a(165);Ea=a(403).EUa;Sa=a(403).PXa;Oa=a(849)["default"];z=a(848)["default"];Ia=a(81)["default"];mb=a(81).bVa;F=a(81).cVa;M=a(81).dVa;Ta=a(81).eVa;jb=a(847)["default"];S=a(846)["default"];ba=a(81).LYa;sd=a(81).GYa;V=a(845)["default"];Z=a(844)["default"];ca=a(843)["default"];da=a(402)["default"];ea=a(401)["default"];a(122);a(223);a(222);a(224);a=a(842)["default"];c.jc=!0;c.prototype=new O();c.prototype.constructor=c;k.jc=!0;k.prototype=new O();k.prototype.constructor=k;m.jc=!1;m.prototype=new O();m.prototype.constructor=m;m.prototype.parse=function(){var a;this.Sf();1===this.version?(this.L.Wi(),this.L.Wi(),this.T=this.L.Db(),this.duration=this.L.Wi()):(this.L.Db(),this.L.Db(),this.T=this.L.Db(),this.duration=this.L.Db());a=this.L.Zg()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));return!0;};t.jc=!1;t.prototype=new O();t.prototype.constructor=t;t.prototype.o6a=function(){this.Sf();this.L.Db();this.T=this.L.Db();0===this.version?(this.zca=this.L.Db(),this.wda=this.L.Db()):(this.zca=this.L.Wi(),this.wda=this.L.Wi());this.NAb=this.L.Zg();this.APa=this.L.Zg();};t.prototype.w3a=function(a,b){var f,c,h;f=this.T;a=a&&a.T||f;c=a/f;f=this.L.o0(b,12,!1);h=1===c?this.L.o0(b,12,!1):la.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.L.Db()*c);this.L.offset+=8;return a;},this);this.O7a(b,h,f,a);};t.prototype.O7a=function(a,b,f,c){if(this.Cla){c=this.Cla*c/1E3;for(var h=0,p=1;p<a;p++)Math.abs(b[h]-c)>Math.abs(b[h]+b[p]-c)?(b[h]+=b[p],f[h]+=f[p]):(++h,h!==p&&(b[h]=b[p],f[h]=f[p]));++h;b=new Uint32Array(b.buffer.slice(0,4*h));f=new Uint32Array(f.buffer.slice(0,4*h));}this.sizes=f;this.Kd=b;};t.prototype.parse=function(a){var b,f,c,h;this.o6a();this.Ra=a.Ra;b=this.T;f=this.Ra&&this.Ra.T||b;c=this.APa;h=this.startOffset+this.length+this.wda;b=new U(this.zca,b).jg(f).Ib;this.$={T:f,Ij:b,offset:h};this.w3a(this.Ra,c);this.$.Kd=this.Kd;this.$.sizes=this.sizes;a.ys=this;return!0;};q.jc=!1;q.prototype=new O();q.prototype.constructor=q;q.prototype.parse=function(){var a;this.Oy=[];this.axb=[];a=(this.length-11)/2;this.L.od();this.L.od();this.L.od();for(var b=0;b<a;b++)this.Oy.push(this.L.od()),this.axb.push(this.L.od());return!0;};h.jc=!1;h.prototype=new O();h.prototype.constructor=h;h.prototype.parse=function(){this.Sf();this.L.offset+=4;this.lKa=this.L.offset;this.Rr=this.L.gzb();this.Rr.toString=l;return!0;};f.jc=!1;f.prototype=new O();f.prototype.constructor=f;f.prototype.parse=function(){this.Sf();this.xn=this.L.Zg();this.ntb=this.L.o0(this.xn,void 0,!0);return!0;};p.jc=!1;p.prototype=new O();p.prototype.constructor=p;p.prototype.parse=function(a){var b,f,c,h,p,l;h=a.ys;fa(h);a=a.Ra;b=h.T;h=h.APa;fa(a);fa(b);fa(h);this.Sf();fa(2>this.version);this.xn=this.L.Zg();this.lH=new Uint16Array(h+1);f=a.nIa(b);p=f/b;l=a.jg(f).Ib;if(0===this.version)for(this.DH=new Uint16Array(),this.Xg=new Uint32Array(),a=b=0;a<=h;++a){if(this.lH[a]=b,a<this.xn&&(c=this.L.od(),0!==c))for(f=0;f<c;++f,++b)this.DH[b]=Math.floor((this.L.Db()+1)*p)/l,this.Xg[b]=this.L.Db();}else if(1===this.version)for(f=this.L.ezb(this.xn),this.L.offset+=4,this.Xg=this.L.o0(this.xn,10,!1),this.L.offset-=8,this.DH=la.from(Uint16Array,{length:this.xn},function(){var a;a=Math.floor((this.L.Db()+1)*p)/l;this.L.offset+=6;return a;},this),b=a=0;a<=h;++a){for(;b<f.length&&f[b]<a;)++b;this.lH[a]=b;}this.ki={lH:this.lH,DH:this.DH,Xg:this.Xg};return!0;};y.jc=!0;y.prototype=Object.create(c.prototype);y.prototype.constructor=y;g.jc=!0;g.prototype=Object.create(c.prototype);g.prototype.constructor=g;g.prototype.NF=function(){var a;a=this.Bq("tfhd");a&&(this.St=a.WBa?a.St:this.parent.startOffset);return!0;};E.jc=!1;E.prototype=new O();E.prototype.constructor=E;E.prototype.parse=function(){var a,m,k,f,h;a=this.L.offset;this.Sf();if(1===this.version){this.L.console.trace("translating vpcC box to draft equivalent");this.L.offset+=2;for(var b=this.L.offset,f=this.L.od(),c=this.L.od(),h=this.L.od(),p=this.L.od(),l=this.L.Zg(),q=[],m=0;m<l;++m)q=this.L.od();m=(f&240)>>>4;k=(f&14)>>>1;f=f&1;h=16===h?1:0;c!=p&&this.L.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+c+" and matrixCoefficients "+p+" should be the same value!");p=2;switch(c){case 1:p=2;break;case 6:p=1;break;case 9:p=5;break;default:this.L.console.warn("VP9: Unknown colourPrimaries "+c+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.$a.m2(this.version,a);this.$a.m2(m<<4|p,b++);this.$a.m2(k<<4|h<<1|f,b++);l+=2;q.push(0,0);this.$a.oIb(l);b+=2;q.forEach(function(a){this.$a.m2(a,b++);});}return!0;};G.jc=!1;G.prototype=new O();G.prototype.constructor=G;G.Me="tfhd";Object.defineProperties(G.prototype,{WBa:{get:function(){return this.df&1;}},mBb:{get:function(){return this.df&2;}},Rfb:{get:function(){return this.df&8;}},Ufb:{get:function(){return this.df&16;}},Sfb:{get:function(){return this.df&32;}}});G.prototype.parse=function(){this.Sf();this.yma=this.L.Db();this.St=this.WBa?this.L.Wi():void 0;this.mBb&&this.L.Db();this.zW=this.Rfb?this.L.Db():void 0;this.BW=this.Ufb?this.L.Db():void 0;this.AW=this.Sfb?this.L.Db():void 0;return!0;};N.jc=!1;N.prototype=new O();N.prototype.constructor=N;N.prototype.parse=function(){this.Sf();this.wL=1===this.version?this.L.Wi():this.L.Db();return!0;};N.prototype.Qa=function(a){var b;b=this.startOffset+12;this.wL+=a;1===this.version?this.$a.pIb(this.wL,b):this.$a.np(this.wL,b);};C.jc=!1;C.prototype=new O();C.prototype.constructor=C;Object.defineProperties(C.prototype,{$Da:{get:function(){return this.df&1;}},Bda:{get:function(){return this.df&4;}},M0:{get:function(){return this.df&256;}},N0:{get:function(){return this.df&512;}},tQa:{get:function(){return this.df&1024;}},Kka:{get:function(){return this.df&2048;}}});C.prototype.parse=function(){this.Sf();this.fCa=this.L.offset;this.je=this.L.Db();this.ju=this.$Da?this.L.Yja():0;this.Bda&&this.L.Db();this.qP=(this.M0?4:0)+(this.N0?4:0)+(this.tQa?4:0)+(this.Kka?4:0);this.uX=this.L.offset;fa(this.$Da,"Expected data offset to be present in Track Run");fa(this.length-(this.L.offset-this.startOffset)===this.je*this.qP,"Expected remaining data in box to be sample information");return!0;};C.prototype.KK=function(a,b,f){var c,h,p;c=this.M0?this.L.Db():a.zW;h=this.N0?this.L.Db():a.BW;a=this.tQa?this.L.Db():a.AW;p=0===this.version?this.Kka?this.L.Db():0:this.Kka?this.L.Yja():0;return{lBb:p,XUb:a,wUb:f+p-(void 0!==b?b:p),uv:h,rP:c};};C.prototype.Qa=function(a,b,f,c,h,p,l){var q,m,k,t;q=0;m=0;this.$a.offset=this.uX;for(c=0;c<h;++c)t=this.KK(b,k,m),0==c&&(k=t.lBb),q+=t.uv,m+=t.rP;c=h;h=this.L.offset;t=this.KK(b,k,m);this.QH=c;this.LDb=m;if(l){if(this.wH=this.ju+q,this.rv=0,c===this.je)return!0;}else if(this.wH=this.ju,this.rv=q,0===c)return!0;if(0===c||c===this.je)return!1;this.TW=!0;if(l){this.rv+=t.uv;for(l=c+1;l<this.je;++l)t=this.KK(b,k,m),this.rv+=t.uv;this.$a.offset=this.fCa;this.je=c;this.$a.np(this.je);this.$a.fna(p);this.Bda&&(this.L.offset+=4);this.Ck(this.length-(h-this.startOffset),h);}else b=h-this.uX,this.$a.offset=this.fCa,this.je-=c,this.$a.np(this.je),this.ju+=q,this.$a.fna(p,this.ju),this.Bda&&(this.L.offset+=4),this.Ck(b,this.$a.offset);f.Ck(this.rv,a.St+this.wH);return!0;};C.prototype.wAb=function(a,b,f,c,h,p){var q;if(c){c=this.wH;for(var l=this.je-1;0<=l&&this.je-l<=h;--l){this.$a.offset=this.uX+l*this.qP;q=this.KK(b);if(q.rP!=p.duration){this.L.console.warn("Could not replace sample of duration "+q.rP+" with silence of duration "+p.duration);break;}if(this.N0)this.$a.offset-=this.qP-(this.M0?4:0),this.$a.np(p.vv.byteLength);else if(p.vv.byteLength!==q.uv){this.L.console.warn("Cannot replace sample with default size with silence of different size");break;}c-=q.uv;f.y0(q.uv,p.vv,a.St+c);}}else for(c=this.wH+this.rv,l=0;l<this.je&&l<h;++l){this.$a.offset=this.uX+(l+this.QH)*this.qP;q=this.KK(b);if(q.rP!=p.duration){this.L.console.warn("Could not replace sample of duration "+q.rP+" with silence of duration "+p.duration);break;}if(this.N0)this.$a.offset-=this.qP-(this.M0?4:0),this.$a.np(p.vv.byteLength);else if(p.vv.byteLength!==q.uv){this.L.console.warn("Cannot replace sample with default size with silence of different size");break;}f.y0(q.uv,p.vv,a.St+c);c+=q.uv;}};X.jc=!1;X.prototype=Object.create(O.prototype);X.prototype.constructor=X;Object.defineProperties(X.prototype,{rA:{get:function(){return this.df&1;}}});X.prototype.parse=function(){this.Sf();this.rA&&this.L.ry();this.rA&&this.L.Db();this.Tfb=this.L.od();this.je=this.L.Db();this.L.p0(this.je);return!0;};X.prototype.Qa=function(a,b){if(a&&0===this.Tfb){a=b?this.je-a:a;this.$a.offset=this.startOffset+13+(this.rA?8:0);this.je-=a;this.$a.np(this.je);this.Ika=0;if(b)this.$a.offset+=this.je;else{for(b=0;b<a;++b)this.Ika+=this.$a.od();this.$a.offset-=a;}this.Ck(a,this.L.offset);}return!0;};n.jc=!1;n.prototype=Object.create(O.prototype);n.prototype.constructor=n;Object.defineProperties(n.prototype,{rA:{get:function(){return this.df&1;}}});n.prototype.parse=function(){this.Sf();this.rA&&this.L.ry();this.rA&&this.L.Db();this.xn=this.L.Db();fa(1===this.xn,"Expected a single entry in Sample Auxiliary Information Offsets box");this.ju=0===this.version?this.L.Yja():this.L.mzb();return!0;};n.prototype.Qa=function(a,b){this.ju+=a;this.$a.offset=this.startOffset+16+(this.rA?8:0)+(0===this.version?0:4);this.$a.fna(b,this.ju);return!0;};r.jc=!1;r.prototype=Object.create(O.prototype);r.prototype.constructor=r;Object.defineProperties(r.prototype,{ENa:{get:function(){return this.df&1;}},tHb:{get:function(){return this.df&2;}}});r.prototype.parse=function(){this.Sf();this.ENa&&(this.L.Db(),this.Vqb=this.L.p0(16));this.je=this.L.Db();return!0;};r.prototype.Qa=function(a,b){var f,c;f=b?this.je-a:a;this.$a.offset=this.startOffset+28+(this.ENa?20:0);this.je-=f;this.$a.np(this.je);a=this.$a.offset;if(this.tHb)for(f=b?this.je:f;0<f;--f){this.$a.offset+=8;c=this.$a.Zg();this.$a.offset+=6*c;}else this.$a.offset+=8*(b?this.je:f);b?this.Ck(this.length-(this.L.offset-this.startOffset),this.L.offset):this.Ck(this.L.offset-a,a);};R.jc=!1;R.prototype=Object.create(O.prototype);R.prototype.constructor=R;R.prototype.parse=function(){this.Sf();return!0;};R.prototype.Qa=function(a,b,f){f?this.Ck(b-a,this.startOffset+12+a):this.Ck(a,this.startOffset+12);return!0;};A.jc=!1;A.prototype=Object.create(O.prototype);A.prototype.constructor=A;A.prototype.parse=function(){this.Sf();this.L.ry();1===this.version&&this.L.Db();this.xn=this.L.Db();this.sP=[];for(var a=0;a<this.xn;++a)for(var b=this.L.Db(),f=this.L.Db(),c=0;c<b;++c)this.sP.push(f);return!0;};A.prototype.Qa=function(a,b){this.sP=b?this.sP.slice(0,a):this.sP.slice(a);a=this.sP.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.$a.offset=this.startOffset+16+(1===this.version?4:0);this.$a.np(a.length);a.forEach(function(a){this.$a.np(a.count);this.$a.np(a.group);}.bind(this));this.xn>a.length&&this.Ck(8*(this.xn-a.length));this.xn=a.length;return!0;};T.jc=!1;T.prototype=Object.create(O.prototype);T.prototype.constructor=T;Ia={Pc:{moov:k,trak:c,mdia:c,mdhd:m,minf:c,encv:Ia,schi:c,sidx:t,sinf:c,stbl:c,tenc:h,mvex:c,moof:y,traf:g,tfhd:G,trun:C,sbgp:A,sdtp:R,saiz:X,saio:n,tfdt:N,mdat:T,vmaf:q},VFb:{vpcC:E,SmDm:K("smdm"),CoLL:K("coll")},hTa:{schm:jb},Jka:{}};u([S,ga,Ga,Fa,ba,sd,sa,Q,da,ea,wa,ka,ua,ya,a],Ia.Pc);u([Ea,Oa,mb,F,M,Ta,Sa,z,Z,V],Ia.Jka);u([S,jb],Ia.hTa);Ia.Pc[b.Lta]=h;Ia.Pc[b.rS]=f;Ia.Pc[b.qS]=p;Ia.Pc[b.Kta]=r;Ia.Jka[b.A5]=ca;Ia.Uf=O;d.R={SG:Ia};},function(d,b,a){var c,k,m,t,q,l,h,f,p,y,g,K,E;Object.defineProperty(b,"__esModule",{value:!0});b.WQ=void 0;c=a(0);k=a(24);m=a(867);d=a(83);t=a(860);q=a(835);l=a(832);h=a(217);f=a(817);p=a(20);y=a(4);g=a(6);K=a(383);a(157);E=function(){return function(a){var b;b=a.tga;a=a.jZ;this.aO=this.replace=b;this.xf=a;};}();a=function(a){function b(b){var f,p,d,g,G,H,N,C,n,r,O,u,ua,ya,Q,wa,ga,Ga,Fa,ka,Ea,Sa,Oa;f=b.oa;p=b.Va;d=b.va;g=b.yk;G=b.hb;H=b.Sha;N=b.Ii;C=b.Gp;n=b.config;r=b.PP;O=b.wfa;u=b.gC;ua=b.NM;ya=b.tb;Q=b.zf;wa=b.WG;b=b.Tca;ga=a.call(this)||this;ga.IY=!1;ga.Qya=[];ga.bza=[];ga.ih=[];ga.We=!1;ga.oa=f;ga.Va=p;ga.va=d;ga.yk=g;ga.hb=G;ga.config=n;ga.console=new y.Console("ASEJS","media|asejs","<"+String(ga.oa)+">");ga.I6a=new K.R6();O&&(f=O.Vp,ga.yf=new l.Tqa(ga,ga.console,ga.config,O.ol,O.hY,f,O.gZ,O.Oe,O.Lc,O.Pf,O.Nx));ga.Mx=new k.EventEmitter();ga.NM=ua;ga.tb=ya;ga.WG=wa;ga.gm=new h.hS(d,ya,Q,ga.config,null===b||void 0===b?void 0:b.ol);b&&(O=b.Nr,ua=b.Ko,ya=b.qG,Q=b.vm,ga.Vk=b.Cg,ga.qG=ya,ga.Ko=ua,ga.Nr=O,ga.vm=Q,ga.Hh=new q.mqa(ga.gm,ga.config,ga.Tnb.bind(ga),ga.Snb.bind(ga)));r&&(b=r.OB,O=r.ga,ua=r.qx,ya=r.om,f=r.Vp,b&&O?(ga.OP=new m.fwa(b,{ga:String(O),qx:ua,mtb:ga.config.yS.mx,fab:ga.config.yS.lv,Taa:ga.config.Taa},ya),ga.Vp=f):ya("SideChannel: pbcid/xid is missing."));ga.Hh&&ga.OP&&ga.Hh.YCb(ga.OP);ga.gC=u;ga.re=new E(H);ga.Ii=N;Ga=[[],[]];Fa=[{},{}];ka=[0,0];Ea=!1;Sa=ga.hb(0);Oa=ga.hb(1);["audio_tracks","video_tracks"].forEach(function(a,b){var f;f=0===b;f&&!Sa||1===b&&!Oa||d[a].forEach(function(a,h){a=new t.Sna({P:ga,yB:a,M:b,xf:H.jZ,Gp:C,K1:h,kA:h+(f?d.video_tracks.length:0)},ga.config,ga.console);Ga[b].push(a);Fa[b]=c.__assign(c.__assign({},Fa[b]),a.cG());a.Po>ka[a.M]&&(ka[a.M]=a.Po);Ea=Ea||a.DY;});});ga.yT=Ga;ga.pEb=Fa;ga.gq=ka;ga.DY=Ea;ga.S3a=ga.config&&ga.config.YW&&ga.config.pN&&!!ga.config.pN.length&&-1!==ga.config.pN.indexOf(String(ga.G));return ga;}c.__extends(b,a);Object.defineProperties(b.prototype,{dg:{get:function(){return this.Qya;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dtb:{get:function(){return this.bza;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{G:{get:function(){return this.va.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bu:{get:function(){return this.va.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{duration:{get:function(){return this.va.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bq:{get:function(){return this.We;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gka:{get:function(){return this.I6a;},enumerable:!1,configurable:!0}});b.prototype.close=function(){this.gm.close();this.We=!0;};b.prototype.yc=function(){this.yf&&this.yf.yc();};b.prototype.Fu=function(){return void 0!==this.bu;};b.prototype.getTracks=function(a){return this.yT[a];};b.prototype.getTrackById=function(a){var b;this.yT.some(function(f){return f.some(function(f){if(f.ab===a)return b=f,!0;});});b||this.console.warn("getTrackById not found:",a,"length:",this.yT.length);return b;};b.prototype.tnb=function(a,b){var f;f=this.yT[a];if(0>b||b>=f.length)this.console.warn("getTrackByIndex out of range:",b,"length:",f.length,"mediaType:",a);else return f[b];};b.prototype.Lr=function(a,b){return(a=this.cG(a))&&a[b];};b.prototype.cG=function(a){return this.pEb[a];};b.prototype.yGb=function(a,b){this.Qya[a]=b;b.stream.$&&this.ITa(a,b.stream.$);};b.prototype.XW=function(a){return void 0===a||1===a?this.S3a:!1;};b.prototype.Cqb=function(a){var b,f;if(void 0===a.h0||void 0===a.Fja){b=this.gm.xea().filter(function(b){return void 0!==b.dc[a.sa];})[0];f=b.children.filter(function(b){return b.me.some(function(b){return b.stream.id===a.sa;});})[0];a.h0=b.id;a.Fja=f.id;}return{Bga:a.location===a.h0,Dqb:a.tc===a.Fja};};b.prototype.f1=function(a,b,f){void 0!==b&&void 0!==f&&(this.PPa(a.M,b),a.f1(b,f));};b.prototype.PPa=function(a,b){var f,c;c=this.config.tia;("location"===c||"video_location"===c&&1===a)&&this.tb.JP(b);null===(f=this.NM)||void 0===f?void 0:f.call(this).Pvb(a,b);};b.prototype.Cg=function(a,b,f,c,h){g.assert(this.Vk,"Stream failure reporting can not be used on prefetch viewables.");return this.Vk(a,b,f,c,h);};b.prototype.lp=function(){var a,b,f;a=this;b=[];if(this.bq)return this.console.error("updateRequestUrls, closed Viewable:",this.oa),!1;p.pf.forEach(function(f){a.hb(f)&&a.RGb(f)&&(f=a.DGb(f),0<f.length&&b.push.apply(b,f));});f=this.zGb();0<f.length&&b.push.apply(b,f);return this.KAb(b);};b.prototype.RGb=function(a){var h,p;if(this.bq)return this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1;if(!this.hb(a))return this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),!1;for(var b=!0,f=0,c=this.ih;f<c.length;f++){h=c[f].pe(a);p=this.gm.zQ(this.oa,h.track.Ac);p||h.Za("location selector failed to update streamList");b=b&&p;}return b;};b.prototype.zGb=function(){g.assert(this.yf,"Headers not available from prefetch viewables.");return this.yf.lp();};b.prototype.DGb=function(a){var b,h;b=[];if(this.bq)return this.console.warn("updateStreamUrls ignored, viewable cleaned up"),b;if(!this.hb(a))return this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),b;for(var f=0,c=this.ih;f<c.length;f++){h=c[f].lp(a);h.length&&b.push.apply(b,h);}return b;};b.prototype.KAb=function(a){var b,f,c;b=this;if(0===a.length)return!0;f=0;c=[];a.forEach(function(a){var h;if(a.bc){h=a.P;h.Va>b.Va&&(c.push({P:h,track:a.stream.track}),++f);}});c.forEach(function(a){var b;b=a.track;a.P.yH([0===b.M?b:void 0,1===b.M?b:void 0],void 0,b.M);});return f===a.length;};b.prototype.tk=function(){var a;a=this;this.gm.tk();this.Hh&&this.Hh.tk();this.OP&&(g.assert(this.Vp),p.pf.forEach(function(b){b=a.Vp(b);a.OP.cla("rebuffer",b.Vga);}));};b.prototype.xO=function(){this.Hh&&this.Hh.xO();};b.prototype.Sma=function(a,b){g.assert(this.yf,"Headers not available from prefetch viewables.");this.yf.Sma(a,b);};b.prototype.Oaa=function(){g.assert(this.yf,"Headers not available from prefetch viewables.");this.yf.Oaa();};b.prototype.nla=function(a,b){g.assert(this.yf,"Headers not available from prefetch viewables.");g.assert(a.P===this);this.yf.nla(a,b);};b.prototype.vj=function(a,b){g.assert(this.yf,"Headers not available from prefetch viewables.");return this.yf.vj(a,b);};b.prototype.yha=function(){g.assert(this.yf,"Headers not available from prefetch viewables.");this.yf.yha();};b.prototype.KDa=function(a,b,f){g.assert(this.yf,"Headers not available from prefetch viewables.");this.yf.O1(a,b,f,!0);};b.prototype.qV=function(a,b,f){g.assert(this.yf,"Headers not available from prefetch viewables.");return this.yf.qV(a,b,!!f);};b.prototype.HC=function(a){g.assert(this.yf,"Headers not available from prefetch viewables.");return this.yf.HC(a);};b.prototype.j$=function(a,b){g.assert(this.yf,"Headers not available from prefetch viewables.");return this.yf.j$(a,b);};b.prototype.Cka=function(a){g.assert(this.yf,"Headers not available from prefetch viewables.");return this.yf.Cka(a);};b.prototype.yH=function(a,b,f){g.assert(this.yf,"Headers not available from prefetch viewables.");return this.yf.yH(a,b,f);};b.prototype.Vnb=function(a){var b,f,c,h;b=a.sa;f=a.M;this.ITa(f,a.stream.$);b=this.Lr(f,b);c=this.Fu()?this.config.uLa:0;h=y.lk()[f];1===f&&0<this.config.Xr&&(h=Math.min(h,this.config.Xr));b.BTa(h,c);this.Mx.emit("onHeaderFragments",a);};b.prototype.CPa=function(a){this.ih.push(a);};b.prototype.wTa=function(a){a=this.ih.indexOf(a);g.assert(-1!==a,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.ih.splice(a,1);};b.prototype.K_=function(){var a;null===(a=this.gC)||void 0===a?void 0:a.LE();};b.prototype.fv=function(a){this.bq?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",a):void 0!==a.location&&this.PPa(a.M,a.location);};b.prototype.GO=function(a){g.assert(this.Hh,"Requests cannot be handled on prefetch viewables.");this.bq?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",a):this.Hh.S1({timestamp:a.$c,url:a.url});};b.prototype.Si=function(a){var b;null===(b=this.gC)||void 0===b?void 0:b.w0();g.assert(this.Hh&&this.Ko&&this.WG,"Requests cannot be handled on prefetch viewables.");this.bq?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",a):(this.Ko()&&this.Hh.oP(!0),this.Hh.S1({timestamp:a.$c,mediaRequest:a}),this.WG(a));};b.prototype.DO=function(a,b,f){var c;f&&(null===(c=this.gC)||void 0===c?void 0:c.w0());};b.prototype.EO=function(a){var b;g.assert(this.Hh&&this.Vk,"Requests cannot be handled on prefetch viewables.");if(this.bq)this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",a);else{b=a.oh;this.config.Pnb&&b===f.Rj.aD.o4&&0<a.Be&&(b=f.Rj.aD.Q2);this.Hh.Yo({url:a.url},a.status,b,a.Qi);this.lp()||this.Cg(a.LF||"unknown","NFErr_MC_StreamingFailure",a.oh,a.status,a.Qi);}};b.prototype.ITa=function(a,b){this.bza[a]=b.Kha;};b.prototype.Tnb=function(a){var b,f,c;g.assert(this.qG&&this.Vk,"Error handling not available on prefetch viewables.");if(!this.We){b=a.iqb;f=a.hwb;c=a.iwb;a=a.jwb;this.console.warn("Streaming failure, isBuffering "+this.qG()+" is permanent: "+b+", last error code: "+f+", last http code: "+c+", last native code: "+a);b?(this.console.warn(" > Permanent failure, done"),this.Cg("Permanent failure","NFErr_MC_StreamingFailure",f,c,a)):this.qG()?(this.console.warn(" > We are buffering, calling it!"),this.Cg("Temporary failure while buffering","NFErr_MC_StreamingFailure",a,c,a)):(this.console.warn(" > Resetting failures"),this.Hh.oP());}};b.prototype.Snb=function(){g.assert(this.vm&&this.Nr,"Error handling not available on prefetch viewables.");this.We||(this.vm(),this.lp(),this.Nr());};return b;}(d.Hq);b.WQ=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pf=void 0;b.pf=[0,1];},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.uva=b.cT=b.XX=void 0;c=a(49);k=a(2);b.XX=function(a){return a===c.Qc.Qj.AUDIO?k.u.zsa:k.u.Asa;};b.cT=50;b.uva=1E3;},function(d,b,a){var c,k,m,t,q,l,h,f,p,y,g,K,E;Object.defineProperty(b,"__esModule",{value:!0});b.Ez=void 0;c=a(0);k=a(67);m=a(11);t=a(77);q=a(5);l=a(61);h=a(16);f=a(357);p=a(14);y=a(706);g=a(12);K=a(2);(function(a){a[a.xS=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.jJ=3]="LOAD_FAILED";}(E||(E={})));d=function(){function a(a,b,f,c,h,p,m,k,d,y,g,H,G,K,n){this.j=a;this.ab=b;this.lB=f;this.gd=c;this.mu=h;this.nca=p;this.$k=m;this.displayName=k;this.Gm=d;this.bP=y;this.profile=g;this.kq=H;this.Aia=G;this.wjb=K;this.oZ=n;this.type=t.Hg.H1;this.Dq=void 0;this.Dn=!(!g||g!=l.Nk.rD&&g!=l.Nk.sS);this.Ug={bcp47:m,trackId:b,downloadableId:c,isImageBased:this.Dn};this.log=q.Rg(a,"TimedTextTrack");this.state=E.xS;this.request=this.request.bind(this);}a.prototype.getEntries=function(){var a;a=this;if(this.j.state.value===g.mb.CLOSED||this.j.state.value===g.mb.CLOSING)return Promise.reject({aa:!1});if(this.Dn)return this.wpb();this.SEa||(this.SEa=this.REa());return this.SEa.then(function(b){return a.twb(b);});};a.prototype.Yc=function(){return this.state;};a.prototype.pZ=function(){return this.Aia;};a.prototype.kZ=function(){return this.wjb;};a.prototype.Hx=function(a,b){var f;f=[];try{this.Dn?f=this.cg&&this.cg.Hx(a,b)||[]:this.entries&&(f=this.entries.filter(function(f){var c;c=S([f.startTime,f.endTime]);f=c.next().value;c=c.next().value;return f>=a&&f<=b||f<=a&&a<=c;}));}catch(P){this.log.error("error in getSubtitles",P,{start:a,end:b,isImageBased:this.Dn});}return f;};a.prototype.cnb=function(){var b;if(!p.Wb(this.S))try{this.S=this.Dn?(b=this.Hx(0,a.a_a)[0])&&b.displayTime:(b=this.entries&&this.entries[0])&&b.startTime;}catch(C){this.log.error("exception in getStartPts",C);}return this.S;};a.prototype.g1=function(a){return this.j.state.value===g.mb.CLOSING||this.j.state.value===g.mb.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.uc.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};a.prototype.wpb=function(){var a,b,f,c,h,l,k,t,d;a=this;if(!this.uJa){this.state=E.LOADING;b={r$a:!1,profile:this.profile,e_:this.kq.offset,eia:this.kq.length,Rc:this.j.$b.value||0,bufferSize:m.config.Yob,bVb:{Ta:this.j.RX()}};f=q.Rg(this.j,"TimedTextTrack");f.warn=f.trace.bind(f);f.info=f.debug.bind(f);c=y.QDa(this.j,f,this.request);h=(this.nca||[]).filter(function(b){return b.id in a.mu;}).sort(function(a,b){return a.Qf-b.Qf;}).map(function(a){return a.id;});l=0;k={};t=!0;d=function(f,y){var g;if(p.Wb(f))if(t||a.g1(a.Jr(a.Np,"","image"))){t=!1;a.kq.url=a.mu[a.Np];b.url=a.kq.url;k[f]=(k[f]||0)+1;g=new q.ywa(c,b);g.on("ready",function(){a.cg=g;y({aa:!0,track:a});});g.on("error",function(b){var c;b=Object.assign({aa:!1},b);c=a.Jr(a.Np,a.kq.url,"image");c.details={midxoffset:a.kq.offset,midxsize:a.kq.length};c.errorstring=b.errorString;k[f]<=m.config.LSa?(a.sX(c,!0,"retry with current cdn"),a.baa(k[f]).then(function(b){a.log.trace("retry timed text download after "+b,a.Jr(a.Np,"","image"));d(a.Np,y);})):(a.Np=h[l++],a.Np?(a.sX(c,!0,"retry with next cdn"),a.baa(k[f]).then(function(b){a.log.trace("retry timed text download after "+b,a.Jr(a.Np,"","image"));d(a.Np,y);})):(a.sX(c,!1,"all cdns tried"),y({aa:!1,uub:"all cdns failed for image subs",track:a})));});g.start();}else y({aa:!1,jr:!0});else y({aa:!1,uub:"cdnId is not defined for image subs downloadUrl"}),a.sX(a.Jr(0,"","image"),!1,"cdnId is undefined");};this.Np=h[l++];this.uJa=new Promise(function(b,f){d(a.Np,function(c){c.aa?(a.log.info("Loaded image subtitle manager"),a.state=E.LOADED,b(c)):(a.log.error("Unable to load image subtitles manager",c),a.state=E.jJ,f(c));});});}return this.uJa;};a.prototype.sX=function(a,b,f){a=Object.assign({},a,{aWb:b,status:f});this.j.fireEvent(g.U.$H,a);this.log.warn("subtitleerror event",a);};a.prototype.request=function(a,b){var f;f=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,Dq:this.Dq,responseType:k.nN,headers:{},gc:this.bea(this.Np)};this.j.PY.download(a,function(a){f.log.trace("imgsub: request status "+a.aa);a.aa?b(null,new Uint8Array(a.content)):b({da:a.da,Vd:a.Vd});});};a.prototype.Jr=function(a,b,f){return{currentCdnId:a,url:b,profile:this.profile,dlid:this.gd,subtitletype:f,bcp47:this.$k,trackId:this.ab,cdnCount:Object.keys(this.mu).length,isImageBased:this.Dn};};a.prototype.bea=function(a){return(this.nca||[]).find(function(b){return b.id===a;});};a.prototype.REa=function(){var h,p;function a(a){return c.__awaiter(h,void 0,void 0,function(){var h,l,q,m,k;function c(){for(;;)switch(h){case 0:q=f();l=m.Jr(a.gc.id,a.url,"text");l.errorstring=a.reason;if(!q||!m.g1(l)){h=1;break;}h=-1;return{value:m.baa(p[q.id]).then(b),done:!0};case 1:return h=-1,{value:Promise.reject({aa:!1,jr:!0}),done:!0};default:return{value:void 0,done:!0};}}h=0;m=this;k={next:function(){return c();},"throw":function(){return c();},"return":function(){throw Error("Not yet implemented");}};r();k[Symbol.iterator]=function(){return this;};return k;});}function b(){return c.__awaiter(h,void 0,void 0,function(){var c,h,l,q,m;function b(){for(;;)switch(c){case 0:h=(l=f())&&q.mu[l.id];if(!l||!h){c=1;break;}p[l.id]=(p[l.id]||0)+1;c=-1;return{value:q.Mgb(h,l)["catch"](a),done:!0};case 1:return c=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}c=0;q=this;m={next:function(){return b();},"throw":function(){return b();},"return":function(){throw Error("Not yet implemented");}};r();m[Symbol.iterator]=function(){return this;};return m;});}function f(){return(h.nca||[]).find(function(a){return!!((p[a.id]||0)<m.config.LSa&&h.mu[a.id]);});}h=this;this.state=E.LOADING;p={};return b();};a.prototype.baa=function(a){return new Promise(function(b){var f;f=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return b(f);},f);});};a.prototype.twb=function(a){var b,c;b=this;c=this.j.rI;h.eb(c);return f.SNa(a,c.width/c.height,m.config.MSa,m.config.sma).then(function(a){var f;if(m.config.NSa){f=0;b.entries=a.map(function(a){return Object.assign({},a,{startTime:f,endTime:f+=m.config.NSa});});}else b.entries=a;b.log.trace("Entries parsed",{Length:a.length},b.Ug);b.state=E.LOADED;return{aa:!0,entries:b.entries,track:b};})["catch"](function(a){b.log.error("Unable to parse timed text track",K.Un(a),b.Ug,{url:a.url});b.state=E.jJ;a.reason="parseerror";a.track=b;throw a;});};a.prototype.Mgb=function(a,b){var f;f=this;this.log.trace("Downloading",b&&{gc:b.id},this.Jr(b.id,a,"text"));return new Promise(function(c,h){var p;p={responseType:k.Jfa,url:a,track:f,gc:b,JA:"tt-"+f.$k};f.j.PY.download(p,function(a){a.aa?c(a.content):(a.reason="downloadfailed",a.url=p.url,a.track=f,a.gc=b,h(a));});});};a.a_a=72E7;a.X6=E;return a;}();b.Ez=d;},function(d,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.jT=void 0;k=a(9);c.Oea=function(){var a;a=k.Tq&&k.Tq.height;return a?1080<=a?1080:720:720;};b.jT=c;},function(d){d.R=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,k){return a.apply(this,arguments);};case 3:return function(b,k,m){return a.apply(this,arguments);};case 4:return function(b,k,m,t){return a.apply(this,arguments);};case 5:return function(b,k,m,t,q){return a.apply(this,arguments);};case 6:return function(b,k,m,t,q,l){return a.apply(this,arguments);};case 7:return function(b,k,m,t,q,l,h){return a.apply(this,arguments);};case 8:return function(b,k,m,t,q,l,h,f){return a.apply(this,arguments);};case 9:return function(b,k,m,t,q,l,h,f,p){return a.apply(this,arguments);};case 10:return function(b,k,m,t,q,l,h,f,p,d){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(d,b,a){var m,t,q,l;function c(a,b,c){for(var f=c.next();!f.done;){if((b=a["@@transducer/step"](b,f.value))&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}f=c.next();}return a["@@transducer/result"](b);}function k(a,b,c,l){return a["@@transducer/result"](c[l](q(a["@@transducer/step"],a),b));}m=a(938);t=a(936);q=a(935);g();g();r();l="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";d.R=function(a,b,p){"function"===typeof a&&(a=t(a));if(m(p)){for(var f=0,h=p.length;f<h;){if((b=a["@@transducer/step"](b,p[f]))&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}f+=1;}return a["@@transducer/result"](b);}if("function"===typeof p["fantasy-land/reduce"])return k(a,b,p,"fantasy-land/reduce");if(null!=p[l])return c(a,b,p[l]());if("function"===typeof p.next)return c(a,b,p);if("function"===typeof p.reduce)return k(a,b,p,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(d){d.R=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.IJ=void 0;b.IJ="TransportConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Q=void 0;b.$Q="BookmarkSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.N3=b.Qv=void 0;d=b.Qv||(b.Qv={});d.m2a="unknown";d.vna="absent";d.hva="present";d.Error="error";b.N3="ExternalDisplayLogHelperSymbol";},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.$v=void 0;c=a(33);d=a(96);k=a(136);m=new d.kw();b.$v=function(){function a(){this.type=c.Mv.rz;}a.rba=function(){return{isTypeSupported:function(b){var c;try{if(-1==b.toLowerCase().indexOf("codec"))return M.MSMediaKeys.isTypeSupported(b,"video/mp4");c=b.split("|");return 1===c.length?M.MSMediaKeys.isTypeSupported(k.ob.Uq,b):"probably"===a.cma(c[0],c[1]);}catch(h){return!1;}}};};a.kW=function(b,c,h){c=m.format(a.lI,c);if(0===h.length)return c;h=m.format('features="{0}"',h.join());return m.format("{0}|{1}{2}",b,c,h);};a.cma=function(a,b){var c;try{c=M.MSMediaKeys.isTypeSupportedWithFeatures?M.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(f){c="exception";}return c;};a.lI='video/mp4;codecs="{0},mp4a";';return a;}();},function(d,b,a){var c,k,m,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.nR=b.T2=void 0;c=a(61);k=a(128);m=a(33);d=a(96);t=a(129);q=a(442);l=new d.kw().format;a=function(){function a(b,c,h,q){var f;f=k.Al.call(this,b,c,h)||this;f.cast=q;f.type=m.Vj.S2;b=a.d2a;f.LQ[m.sd.oT]=t.Ed.VI+"; "+b;f.LQ[m.sd.Ps]=t.Ed.Ps+"; "+b;b=t.Ed.yWa.find(function(b){return f.Yt(l(a.lI,b));});f.LQ[m.sd.Ns]=b;return f;}ca(a,k.Al);a.rba=function(b,c){return(c=a.eQa(c))?{isTypeSupported:c}:b;};a.eQa=function(a){if("undefined"!==typeof a)return a.framework&&a.framework.platform&&a.framework.platform.canDisplayType?a.framework.platform.canDisplayType:a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType||void 0;};a.prototype.Bs=function(b){var f,c;f=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().STa){c={};if(f)return c[m.Yh.Oq]="1.4",c[m.Yh.kz]="2.2",f().then(function(a){return a===c[b];});f=this.iLa(b);f=l(a.lI,t.Ed.VI)+" hdcp="+f;f=this.Yt.bind(this,f);return Promise.resolve(f());}return Promise.resolve(!1);};a.prototype.TF=function(a){return this.LQ[a];};a.prototype.$F=function(){var a;a=this;return this.config().STa?this.Bs(m.Yh.kz).then(function(b){return b?Promise.resolve(m.Yh.kz):a.Bs(m.Yh.Oq).then(function(a){return a?Promise.resolve(m.Yh.Oq):Promise.resolve(void 0);});}).then(function(b){return a.cM(b);}):Promise.resolve(void 0);};a.prototype.DA=function(){var b,h;b=k.Al.prototype.DA.call(this);h=a.RIa;b[c.X.W3]=["avc1.4D4028","width=1920; height=1080; "];b[c.X.X3]=["hev1.2.6.L90.B0",h];b[c.X.Y3]=["hev1.2.6.L93.B0",h];b[c.X.Z3]=["hev1.2.6.L120.B0",h];b[c.X.a4]=["hev1.2.6.L123.B0",h];b[c.X.b4]=["hev1.2.6.L150.B0","width=3840; height=2160; "+h];b[c.X.c4]=["hev1.2.6.L153.B0","width=3840; height=2160; "+h];b[c.X.XI]=["hev1.2.6.L90.B0",h];b[c.X.YI]=["hev1.2.6.L93.B0",h];b[c.X.fD]=["hev1.2.6.L120.B0",h];b[c.X.ZI]=["hev1.2.6.L123.B0",h];b[c.X.MR]=["hev1.2.6.L150.B0","width=3840; height=2160; "+h];b[c.X.NR]=["hev1.2.6.L153.B0","width=3840; height=2160; "+h];b[c.X.i4]="hev1.1.6.L90.B0";b[c.X.j4]="hev1.1.6.L93.B0";b[c.X.k4]="hev1.1.6.L120.B0";b[c.X.l4]="hev1.1.6.L123.B0";b[c.X.m4]=["hev1.1.6.L150.B0","width=3840; height=2160; "];b[c.X.n4]=["hev1.1.6.L153.B0","width=3840; height=2160; "];b[c.X.e4]="hev1.2.6.L90.B0";b[c.X.f4]="hev1.2.6.L93.B0";b[c.X.g4]="hev1.2.6.L120.B0";b[c.X.h4]="hev1.2.6.L123.B0";b[c.X.gD]=["hev1.2.6.L150.B0","width=3840; height=2160; "];b[c.X.hD]=["hev1.2.6.L153.B0","width=3840; height=2160; "];b[c.X.SR]="hev1.2.6.L90.B0";b[c.X.UR]="hev1.2.6.L93.B0";b[c.X.WR]="hev1.2.6.L120.B0";b[c.X.YR]="hev1.2.6.L123.B0";b[c.X.ZR]=["hev1.2.6.L150.B0","width=3840; height=2160; "];b[c.X.$R]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return b;};a.prototype.TGa=function(){return[q.fh.PQ,q.fh.UI,q.fh.eD];};a.prototype.ega=function(){k.Al.prototype.ega.call(this);!a.eQa(this.cast)&&this.sl.push(q.fh.Ps);};a.RIa="eotf=smpte2084";a.zSb="video/mp4;codecs={0}; "+a.RIa;a.d2a="width=3840; height=2160; ";return a;}();b.T2=a;b.nR="CastSDKSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.r6=b.F4=void 0;b.F4="IsTypeSupportedProviderFactorySymbol";b.r6="PlatformIsTypeSupportedSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lT=b.q7=void 0;b.q7="ThroughputTrackerSymbol";b.lT="ThroughputTrackerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.JS=void 0;b.JS="PboPlaydataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fT=void 0;b.fT="SegmentManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.mS=void 0;b.mS="MomentObserverFactory";},function(d,b,a){var k,m,t;function c(a,b,c,f){this.qa=a;this.Vt=b;this.xl=c;this.Rl=void 0===f?"General":f;this.Waa={};}Object.defineProperty(b,"__esModule",{value:!0});b.lD=void 0;k=a(8);m=a(455);t=a(1E3);c.prototype.p$=function(a,b){this.Waa[a]=b;};c.prototype.fatal=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.Qw(k.Zh.iYa,a,t.vA(this.Vt,this.UF(c)));};c.prototype.error=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.Qw(k.Zh.ERROR,a,t.vA(this.Vt,this.UF(c)));};c.prototype.warn=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.Qw(k.Zh.I7,a,t.vA(this.Vt,this.UF(c)));};c.prototype.info=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.Qw(k.Zh.x4,a,t.vA(this.Vt,this.UF(c)));};c.prototype.trace=function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];this.Qw(k.Zh.Hwa,a,t.vA(this.Vt,this.UF(c)));};c.prototype.debug=function(a,b){for(var c=1;c<arguments.length;++c);};c.prototype.log=function(a,b){for(var c=1;c<arguments.length;++c);this.debug.apply(this,arguments);};c.prototype.write=function(a,b,c){for(var f=[],h=2;h<arguments.length;++h)f[h-2]=arguments[h];this.Qw(a,b,t.vA(this.Vt,this.UF(f)));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return{category:this.Rl};};c.prototype.wba=function(a){return new c(this.qa,this.Vt,this.xl,a);};c.prototype.Qw=function(a,b,c){a=new m.U4(a,this.Rl,this.qa.Zb(),b,c);b=S(this.xl.xl);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};c.prototype.UF=function(a){return 0<Object.keys(this.Waa).length?[].concat([this.Waa],ea(a)):a;};b.lD=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.K3=b.qw=void 0;b.qw="_ANY_";b.K3="EnricherSymbol";},function(d){var h,f,p,y,g,K;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(a){if(h===setTimeout)return setTimeout(a,0);if((h===b||!h)&&setTimeout)return h=setTimeout,setTimeout(a,0);try{return h(a,0);}catch(G){try{return h.call(null,a,0);}catch(N){return h.call(this,a,0);}}}function k(b){if(f===clearTimeout)clearTimeout(b);else if(f!==a&&f||!clearTimeout)try{f(b);}catch(G){try{f.call(null,b);}catch(N){f.call(this,b);}}else f=clearTimeout,clearTimeout(b);}function m(){y&&g&&(y=!1,g.length?p=g.concat(p):K=-1,p.length&&t());}function t(){var a;if(!y){a=c(m);y=!0;for(var b=p.length;b;){g=p;for(p=[];++K<b;)g&&g[K].CH();K=-1;b=p.length;}g=null;y=!1;k(a);}}function q(a,b){this.Ojb=a;this.kn=b;}function l(){}d=d.R={};try{h="function"===typeof setTimeout?setTimeout:b;}catch(E){h=b;}try{f="function"===typeof clearTimeout?clearTimeout:a;}catch(E){f=a;}p=[];y=!1;K=-1;d.yMa=function(a){var b;b=Array(arguments.length-1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)b[f-1]=arguments[f];p.push(new q(a,b));1!==p.length||y||c(t);};q.prototype.CH=function(){this.Ojb.apply(null,this.kn);};d.title="browser";d.wQb=!0;d.cib={};d.fQb=[];d.version="";d.SVb={};d.on=l;d.addListener=l;d.once=l;d.$G=l;d.removeListener=l;d.removeAllListeners=l;d.emit=l;d.GOa=l;d.kyb=l;d.listeners=function(){return[];};d.rQb=function(){throw Error("process.binding is not supported");};d.aRb=function(){return"/";};d.PQb=function(){throw Error("process.chdir is not supported");};d.IVb=function(){return 0;};},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.YQ=void 0;c=a(0);k=a(1);m={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};d=function(){var b;function a(){}a.prototype.decode=function(a){for(var b=new Uint8Array(a.length/2),f=0;f<b.length;f++)b[f]=this.USa(a.substr(2*f,2));return b;};a.prototype.encode=function(a){for(var b="",f=a.length,c=0;c<f;c++)var l=a[c],b=b+("0123456789ABCDEF"[l>>>4]+"0123456789ABCDEF"[l&15]);return b;};a.prototype.KM=function(a,b){var f;f="";for(b<<=1;b--;)f=("0123456789ABCDEF"[a&15]||"0")+f,a>>>=4;return f;};a.prototype.USa=function(a){var b;b=a.length;if(7<b)throw Error("hex to long");for(var f=0,c=0;c<b;c++)f=16*f+m[a[c]];return f;};b=a;return b=c.__decorate([k.N()],b);}();b.YQ=d;},function(d,b,a){var c,k,m,t,q,l,h,f,p,y,g;Object.defineProperty(b,"__esModule",{value:!0});b.Wq=void 0;c=a(0);k=a(1);m=a(54);t=a(2);q=a(29);l=a(23);h=a(88);f=a(22);p=a(42);y=a(53);g=a(97);d=function(){var b,d;function a(a,b,f,c,h,p){this.qO=a;this.is=b;this.oc=f;this.Sc=c;this.De=h;this.vh=p;m.jm(this,"nav");}a.prototype.Gx=function(){if(this.Xa)return this.Xa.sessionId;};a.prototype.DAb=function(a,b){return this.qO.requestMediaKeySystemAccess(a,b);};a.prototype.Ieb=function(a){return a.createMediaKeys();};a.prototype.tn=function(a,b){this.Xa=a.createSession(b);};a.prototype.tqb=function(){return!!this.Xa;};a.prototype.XCb=function(a,b){return this.is.mV(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};a.prototype.Qda=function(a,b){return this.Xa?this.Xa.generateRequest(a,b[0]):Promise.reject(new h.Hf(t.J.Spa,t.u.SI,void 0,"Unable to generate a license request, key session is not valid"));};a.prototype.update=function(a){return this.Xa?this.Xa.update(a[0]):Promise.reject(new h.Hf(t.J.BR,t.u.SI,void 0,"Unable to update the EME with a response, key session is not valid"));};a.prototype.load=function(a){return this.Xa?this.Xa.load(a):Promise.reject(new h.Hf(t.J.XXa,t.u.SI,void 0,"Unable to load a key session, key session is not valid"));};a.prototype.close=function(){var a;if(!this.Xa)return Promise.reject(new h.Hf(t.J.QXa,t.u.SI,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.Gx()&&(a=this.Xa.close());this.Xa=void 0;return a;};a.prototype.remove=function(){return this.Xa?this.Xa.remove():Promise.reject(new h.Hf(t.J.Wpa,t.u.SI,void 0,"Unable to remove a key session, key session is not valid"));};a.prototype.jP=function(){return Promise.reject(new h.Hf(t.J.AR,void 0,"Unable to renew a key session, not supported"));};a.prototype.G8a=function(a){if(!this.Xa)throw ReferenceError("Unable to add message handler, key session is not valid");this.Xa.addEventListener(b.aqa,a);};a.prototype.A8a=function(a){if(!this.Xa)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Xa.addEventListener(b.$pa,a);};a.prototype.u8a=function(a){if(!this.Xa)throw ReferenceError("Unable to add error handler, key session is not valid");this.Xa.addEventListener(b.Zpa,a);};a.prototype.hAb=function(a){if(!this.Xa)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Xa.removeEventListener(b.aqa,a);};a.prototype.eAb=function(a){if(!this.Xa)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Xa.removeEventListener(b.$pa,a);};a.prototype.cAb=function(a){if(!this.Xa)throw ReferenceError("Unable to remove error handler, key session is not valid");this.Xa.removeEventListener(b.Zpa,a);};d=b=a;d.aqa="message";d.$pa="keystatuseschange";d.Zpa="error";return d=b=c.__decorate([k.N(),c.__param(0,k.l(q.fw)),c.__param(1,k.l(l.Ie)),c.__param(2,k.l(p.$i)),c.__param(3,k.l(f.Ve)),c.__param(4,k.l(y.Bl)),c.__param(5,k.l(g.ow))],d);}();b.Wq=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mpa=b.Zv=b.Pq=void 0;b.Pq='video/mp4; codecs="avc1.640028"';b.Zv='audio/mp4; codecs="mp4a.40.5"';b.Mpa="DrmTraitsSymbol";},function(d,b,a){var c,k,m,t;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(19);k=a(480);m=a(173);t=a(254);a=function(a){function b(b,f){a.call(this);this.kn=b;(this.ta=f)||1!==b.length||(this.qt=!0,this.value=b[0]);}c(b,a);b.create=function(a,f){return new b(a,f);};b.of=function(){var c;for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];f=a[a.length-1];t.rZ(f)?a.pop():f=null;c=a.length;return 1<c?new b(a,f):1===c?new k.Vva(a[0],f):new m.CR(f);};b.ic=function(a){var b,c,h;b=a.kn;c=a.index;h=a.Yi;c>=a.count?h.complete():(h.next(b[c]),h.closed||(a.index=c+1,this.Lc(a)));};b.prototype.Ll=function(a){var f,c,h;f=this.kn;c=f.length;h=this.ta;if(h)return h.Lc(b.ic,0,{kn:f,index:0,count:c,Yi:a});for(h=0;h<c&&!a.closed;h++)a.next(f[h]);a.complete();};return b;}(d.lb);b.v2=a;},function(d,b){b.rZ=function(a){return a&&"function"===typeof a.Lc;};},function(d,b,a){function c(a){var b,q;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),c=0;c<b.length;++c){q=b[c];if("entries"!==q&&"size"!==q&&a.prototype[q]===a.prototype.entries)return q;}return"@@iterator";}d=a(85);b.tVb=c;b.iterator=c(d.root);b.tIb=b.iterator;},function(d,b,a){function c(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}d=a(85);b.sSb=c;b.observable=c(d.root);b.uIb=b.observable;},function(d,b,a){d=a(85).root.Symbol;b.iC="function"===typeof d&&"function"===typeof d["for"]?d["for"]("rxSubscriber"):"@@rxSubscriber";b.vIb=b.iC;},function(d,b){b.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.mR=void 0;b.mR="CannedChallengeProvider";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lR=void 0;b.lR="CachedDrmDataSymbol";},function(d,b,a){var k,m;function c(a){a?(this.active=!1,this.Nda(a)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.Ipa=b.yR=void 0;k=a(0);m=a(1);c.prototype.Nda=function(a){this.pc=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,Ux:a.licenseContextId,zG:a.licenseId};}):[];this.ga=a.xid;this.G=a.movieId;};c.prototype.Fs=function(){return JSON.parse(JSON.stringify({keySessionData:this.pc?this.pc.map(function(a){return{id:a.id,licenseContextId:a.Ux,licenseId:a.zG};}):[],xid:this.ga,movieId:this.G}));};b.yR=c;d=function(){var b;function a(){}a.prototype.create=function(){return new c();};a.prototype.load=function(a){return new c(a);};b=a;return b=k.__decorate([m.N()],b);}();b.Ipa=d;},function(d,b,a){var c,k,m,t,q,l,h,f,p,y,g;Object.defineProperty(b,"__esModule",{value:!0});b.zF=b.eme=void 0;d=a(1);c=a(116);k=a(498);m=a(261);t=a(260);q=a(1115);l=a(1114);h=a(99);f=a(134);p=a(1113);y=a(259);g=a(1112);b.eme=new d.Dc(function(a){a(k.w3).to(m.Ipa).Z();a(t.lR).to(q.Coa).Z();a(c.RI).pQ(l.TOa);a(h.Ts).Ly(function(a){b.zF.parent=a.jb;return b.zF.get(h.Ts);});a(f.pD).lf(function(){return function(){return new p.Vsa();};});a(y.mR).to(g.Eoa).Z;});b.zF=new d.qR({rC:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.LS=void 0;b.LS="PlatformEmeSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(265);a(503);d=function(){function a(a){this.Mb=a;}a.prototype.when=function(a){this.Mb.AA=a;return new c.ZQ(this.Mb);};a.prototype.MQ=function(){this.Mb.AA=function(a){return null!==a.target&&!a.target.oga()&&!a.target.vga();};return new c.ZQ(this.Mb);};return a;}();b.J2=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(264);d=function(){function a(a){this.Mb=a;}a.prototype.fs=function(a){this.Mb.fs=a;return new c.J2(this.Mb);};return a;}();b.ZQ=d;},function(d,b,a){var m,t,q,l,h,f,p,y,H;function c(a){var b;b=[];p(a,y,function(a,f,c,h){b[b.length]=c?p(h,H,"$1"):f||a;});return b;}function k(){throw new m();}m=TypeError;t=Object.getOwnPropertyDescriptor;if(t)try{t({},"");}catch(K){t=null;}b=t?function(){try{return arguments.callee,k;}catch(K){try{return t(arguments,"callee").get;}catch(E){return k;}}}():k;q=a(1148)();l=Object.getPrototypeOf||function(a){return a.__proto__;};h="undefined"===typeof Uint8Array?void 0:l(Uint8Array);g();r();g();g();g();r();g();r();g();r();g();r();g();g();f={"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":q?l([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":void 0,"%Atomics%":"undefined"===typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"===typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"===typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"===typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"===typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"===typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"===typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"===typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"===typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"===typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"===typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"===typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"===typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":q?l(l([][Symbol.iterator]())):void 0,"%JSON%":"object"===typeof JSON?JSON:void 0,"%JSONParse%":"object"===typeof JSON?JSON.parse:void 0,"%Map%":"undefined"===typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&q?l(new Map()[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"===typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"===typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"===typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"===typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"===typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"===typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"===typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"===typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"===typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&q?l(new Set()[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"===typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":q?l(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":q?Symbol:void 0,"%SymbolPrototype%":q?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":b,"%TypedArray%":h,"%TypedArrayPrototype%":h?h.prototype:void 0,"%TypeError%":m,"%TypeErrorPrototype%":m.prototype,"%Uint8Array%":"undefined"===typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"===typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"===typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"===typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"===typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"===typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"===typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"===typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"===typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"===typeof WeakSet?void 0:WeakSet.prototype};p=a(267).call(Function.call,String.prototype.replace);y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;H=/\\(\\)?/g;d.R=function(a,b){var h,p,q;if("string"!==typeof a||0===a.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!==typeof b)throw new TypeError('"allowMissing" argument must be a boolean');h=c(a);p="%"+(0<h.length?h[0]:"")+"%";if(!(p in f))throw new SyntaxError("intrinsic "+p+" does not exist!");if("undefined"===typeof f[p]&&!b)throw new m("intrinsic "+p+" exists, but is not available. Please file an issue!");p=f[p];for(var l=1;l<h.length;l+=1)if(null!=p)if(t&&l+1>=h.length){q=t(p,h[l]);if(!(b||h[l]in p))throw new m("base intrinsic for "+a+" exists, but the property is not available.");p=q?q.get||q.value:p[h[l]];}else p=p[h[l]];return p;};},function(d,b,a){b=a(1151);d.R=Function.prototype.bind||b;},function(d,b,a){var t;function c(a,b,c,f,p,m,k){this.DQ=f;this.DUa=a;this.BMa=b;this.jia=c;this.Gqb=m;this.xy=k;this.split=p;}function k(){this.I={};this.I["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.I["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.I["3"]=new c("7","8","7","10","1.5",0,0);this.I["7"]=new c("15","16","15","9","4.5",0,0);this.I["15"]=new c("31","32","31","2","5.5",0,0);this.I["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.I["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.I["123"]=new c("123","124","123","0","0",1,.207298);this.I["124"]=new c("123","124","123","0","0",1,.49076);this.I["64"]=new c("125","126","125","4","40.5",0,0);this.I["125"]=new c("125","126","125","0","0",1,-.00157835);this.I["126"]=new c("125","126","125","0","0",1,.934205);this.I["32"]=new c("65","66","65","135","5.5",0,0);this.I["65"]=new c("127","128","128","4","1272.5",0,0);this.I["127"]=new c("127","128","128","0","0",1,-.510333);this.I["128"]=new c("127","128","128","0","0",1,.18363);this.I["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.I["129"]=new c("129","130","129","0","0",1,-.0464542);this.I["130"]=new c("129","130","129","0","0",1,.458833);this.I["16"]=new c("33","34","34","10","2.00001",0,0);this.I["33"]=new c("67","68","67","0","29.5",0,0);this.I["67"]=new c("131","132","131","2","39.5",0,0);this.I["131"]=new c("131","132","131","0","0",1,-.37577);this.I["132"]=new c("131","132","131","0","0",1,.512087);this.I["68"]=new c("133","134","134","140","1.5",0,0);this.I["133"]=new c("133","134","134","0","0",1,.321272);this.I["134"]=new c("133","134","134","0","0",1,-.675396);this.I["34"]=new c("69","70","70","2","24.5",0,0);this.I["69"]=new c("135","136","136","9","28.5",0,0);this.I["135"]=new c("135","136","136","0","0",1,-.0573845);this.I["136"]=new c("135","136","136","0","0",1,-.507455);this.I["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.I["137"]=new c("137","138","137","0","0",1,-.503909);this.I["138"]=new c("137","138","137","0","0",1,.450886);this.I["8"]=new c("17","18","17","4","44189.5",0,0);this.I["17"]=new c("35","36","35","2","21.5",0,0);this.I["35"]=new c("71","72","72","0","19.5",0,0);this.I["71"]=new c("139","140","140","9","2.5",0,0);this.I["139"]=new c("139","140","140","0","0",1,.00403497);this.I["140"]=new c("139","140","140","0","0",1,-.312656);this.I["72"]=new c("141","142","141","135","96",0,0);this.I["141"]=new c("141","142","141","0","0",1,-.465786);this.I["142"]=new c("141","142","141","0","0",1,.159633);this.I["36"]=new c("73","74","73","130","89.5",0,0);this.I["73"]=new c("143","144","144","10","4.5",0,0);this.I["143"]=new c("143","144","144","0","0",1,-.76265);this.I["144"]=new c("143","144","144","0","0",1,-.580804);this.I["74"]=new c("145","146","146","10","16.5",0,0);this.I["145"]=new c("145","146","146","0","0",1,.296357);this.I["146"]=new c("145","146","146","0","0",1,-.691659);this.I["18"]=new c("37","38","38","9","1.5",0,0);this.I["37"]=new c("37","38","38","0","0",1,.993951);this.I["38"]=new c("75","76","75","0","19",0,0);this.I["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.I["147"]=new c("147","148","147","0","0",1,-.346535);this.I["148"]=new c("147","148","147","0","0",1,-.995745);this.I["76"]=new c("147","148","147","0","0",1,-.99978);this.I["4"]=new c("9","10","9","5","4.5",0,0);this.I["9"]=new c("19","20","19","2","4.5",0,0);this.I["19"]=new c("39","40","39","140","7.5",0,0);this.I["39"]=new c("77","78","78","134","6.5",0,0);this.I["77"]=new c("149","150","150","7","11.5",0,0);this.I["149"]=new c("149","150","150","0","0",1,.729843);this.I["150"]=new c("149","150","150","0","0",1,.383857);this.I["78"]=new c("151","152","151","133","4.5",0,0);this.I["151"]=new c("151","152","151","0","0",1,.39017);this.I["152"]=new c("151","152","151","0","0",1,.0434342);this.I["40"]=new c("79","80","79","133","3.5",0,0);this.I["79"]=new c("153","154","154","8","4.5",0,0);this.I["153"]=new c("153","154","154","0","0",1,-.99536);this.I["154"]=new c("153","154","154","0","0",1,-.00943396);this.I["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.I["155"]=new c("155","156","155","0","0",1,.266272);this.I["156"]=new c("155","156","155","0","0",1,.959904);this.I["20"]=new c("41","42","42","10","65.5",0,0);this.I["41"]=new c("81","82","82","7","10.5",0,0);this.I["81"]=new c("157","158","158","2","37.5",0,0);this.I["157"]=new c("157","158","158","0","0",1,-.701873);this.I["158"]=new c("157","158","158","0","0",1,.224649);this.I["82"]=new c("159","160","159","133","9.5",0,0);this.I["159"]=new c("159","160","159","0","0",1,.0955181);this.I["160"]=new c("159","160","159","0","0",1,-.58962);this.I["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.I["83"]=new c("161","162","161","135","31",0,0);this.I["161"]=new c("161","162","161","0","0",1,-.229692);this.I["162"]=new c("161","162","161","0","0",1,.88595);this.I["84"]=new c("163","164","164","1","13.5",0,0);this.I["163"]=new c("163","164","164","0","0",1,-.992157);this.I["164"]=new c("163","164","164","0","0",1,.922159);this.I["10"]=new c("21","22","22","4","486",0,0);this.I["21"]=new c("43","44","44","133","4.5",0,0);this.I["43"]=new c("85","86","86","10","4.5",0,0);this.I["85"]=new c("165","166","166","4","158.5",0,0);this.I["165"]=new c("165","166","166","0","0",1,-.127778);this.I["166"]=new c("165","166","166","0","0",1,.955189);this.I["86"]=new c("165","166","166","0","0",1,-.994012);this.I["44"]=new c("87","88","88","1","3.5",0,0);this.I["87"]=new c("167","168","168","135","7",0,0);this.I["167"]=new c("167","168","168","0","0",1,-.997015);this.I["168"]=new c("167","168","168","0","0",1,.400821);this.I["88"]=new c("169","170","169","130","36",0,0);this.I["169"]=new c("169","170","169","0","0",1,-.898638);this.I["170"]=new c("169","170","169","0","0",1,.56129);this.I["22"]=new c("45","46","45","9","2.5",0,0);this.I["45"]=new c("89","90","90","9","1.5",0,0);this.I["89"]=new c("171","172","171","10","10.5",0,0);this.I["171"]=new c("171","172","171","0","0",1,.573986);this.I["172"]=new c("171","172","171","0","0",1,-.627266);this.I["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.I["173"]=new c("173","174","173","0","0",1,.925273);this.I["174"]=new c("173","174","173","0","0",1,-.994805);this.I["46"]=new c("91","92","91","136","5.5",0,0);this.I["91"]=new c("175","176","175","10","10.5",0,0);this.I["175"]=new c("175","176","175","0","0",1,.548352);this.I["176"]=new c("175","176","175","0","0",1,-.879195);this.I["92"]=new c("177","178","178","8","14.5",0,0);this.I["177"]=new c("177","178","178","0","0",1,.457305);this.I["178"]=new c("177","178","178","0","0",1,-.998992);this.I["2"]=new c("5","6","5","10","2.5",0,0);this.I["5"]=new c("11","12","11","9","4.5",0,0);this.I["11"]=new c("23","24","24","10","4.00001",0,0);this.I["23"]=new c("47","48","48","133","5.5",0,0);this.I["47"]=new c("93","94","93","3","13.5",0,0);this.I["93"]=new c("179","180","179","138","15.5",0,0);this.I["179"]=new c("179","180","179","0","0",1,.658398);this.I["180"]=new c("179","180","179","0","0",1,-.927007);this.I["94"]=new c("181","182","182","3","15.5",0,0);this.I["181"]=new c("181","182","182","0","0",1,-.111351);this.I["182"]=new c("181","182","182","0","0",1,-.99827);this.I["48"]=new c("95","96","95","7","167",0,0);this.I["95"]=new c("183","184","183","132","36.5",0,0);this.I["183"]=new c("183","184","183","0","0",1,.895161);this.I["184"]=new c("183","184","183","0","0",1,-.765217);this.I["96"]=new c("185","186","186","137","6.00001",0,0);this.I["185"]=new c("185","186","186","0","0",1,-.851095);this.I["186"]=new c("185","186","186","0","0",1,.674286);this.I["24"]=new c("49","50","49","137","5.5",0,0);this.I["49"]=new c("97","98","97","5","23.5",0,0);this.I["97"]=new c("187","188","187","3","28.5",0,0);this.I["187"]=new c("187","188","187","0","0",1,.951654);this.I["188"]=new c("187","188","187","0","0",1,-.993808);this.I["98"]=new c("187","188","187","0","0",1,-.99705);this.I["50"]=new c("187","188","187","0","0",1,-.997525);this.I["12"]=new c("25","26","25","8","8.5",0,0);this.I["25"]=new c("51","52","52","10","4.00001",0,0);this.I["51"]=new c("99","100","100","133","5.5",0,0);this.I["99"]=new c("189","190","190","7","40.5",0,0);this.I["189"]=new c("189","190","190","0","0",1,.151839);this.I["190"]=new c("189","190","190","0","0",1,-.855517);this.I["100"]=new c("191","192","192","133","14.5",0,0);this.I["191"]=new c("191","192","192","0","0",1,.86223);this.I["192"]=new c("191","192","192","0","0",1,.544394);this.I["52"]=new c("101","102","101","135","47.5",0,0);this.I["101"]=new c("193","194","194","4","24.5",0,0);this.I["193"]=new c("193","194","194","0","0",1,.946185);this.I["194"]=new c("193","194","194","0","0",1,.811859);this.I["102"]=new c("193","194","194","0","0",1,-.991561);this.I["26"]=new c("53","54","54","132","6.5",0,0);this.I["53"]=new c("103","104","103","131","85",0,0);this.I["103"]=new c("195","196","196","134","16.5",0,0);this.I["195"]=new c("195","196","196","0","0",1,.0473538);this.I["196"]=new c("195","196","196","0","0",1,-.999401);this.I["104"]=new c("197","198","198","8","15.5",0,0);this.I["197"]=new c("197","198","198","0","0",1,.816129);this.I["198"]=new c("197","198","198","0","0",1,-.99322);this.I["54"]=new c("105","106","105","133","3.5",0,0);this.I["105"]=new c("105","106","105","0","0",1,-.998783);this.I["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.I["199"]=new c("199","200","199","0","0",1,.528588);this.I["200"]=new c("199","200","199","0","0",1,-.998599);this.I["6"]=new c("13","14","14","10","7.5",0,0);this.I["13"]=new c("27","28","28","133","7.5",0,0);this.I["27"]=new c("55","56","56","10","4.5",0,0);this.I["55"]=new c("107","108","107","3","3.5",0,0);this.I["107"]=new c("201","202","201","4","17.5",0,0);this.I["201"]=new c("201","202","201","0","0",1,-.379512);this.I["202"]=new c("201","202","201","0","0",1,.15165);this.I["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.I["203"]=new c("203","204","203","0","0",1,-.884606);this.I["204"]=new c("203","204","203","0","0",1,.265406);this.I["56"]=new c("109","110","109","136","6.5",0,0);this.I["109"]=new c("205","206","205","4","157.5",0,0);this.I["205"]=new c("205","206","205","0","0",1,-.0142737);this.I["206"]=new c("205","206","205","0","0",1,.691279);this.I["110"]=new c("205","206","205","0","0",1,-.998086);this.I["28"]=new c("57","58","58","138","11.5",0,0);this.I["57"]=new c("111","112","112","2","6.5",0,0);this.I["111"]=new c("207","208","208","7","67.5",0,0);this.I["207"]=new c("207","208","208","0","0",1,.763925);this.I["208"]=new c("207","208","208","0","0",1,-.309645);this.I["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.I["209"]=new c("209","210","209","0","0",1,-.306635);this.I["210"]=new c("209","210","209","0","0",1,.556696);this.I["58"]=new c("113","114","113","138","50.5",0,0);this.I["113"]=new c("211","212","212","8","25.5",0,0);this.I["211"]=new c("211","212","212","0","0",1,.508234);this.I["212"]=new c("211","212","212","0","0",1,.793551);this.I["114"]=new c("211","212","212","0","0",1,-.998438);this.I["14"]=new c("29","30","29","134","27.5",0,0);this.I["29"]=new c("59","60","60","7","17.5",0,0);this.I["59"]=new c("115","116","115","135","5.5",0,0);this.I["115"]=new c("213","214","214","137","5.5",0,0);this.I["213"]=new c("213","214","214","0","0",1,.401747);this.I["214"]=new c("213","214","214","0","0",1,.0367503);this.I["116"]=new c("215","216","216","8","5.5",0,0);this.I["215"]=new c("215","216","216","0","0",1,-.0241984);this.I["216"]=new c("215","216","216","0","0",1,-.999046);this.I["60"]=new c("117","118","117","0","12.5",0,0);this.I["117"]=new c("217","218","218","132","5.5",0,0);this.I["217"]=new c("217","218","218","0","0",1,-.997294);this.I["218"]=new c("217","218","218","0","0",1,.210398);this.I["118"]=new c("219","220","219","137","1.5",0,0);this.I["219"]=new c("219","220","219","0","0",1,-.55763);this.I["220"]=new c("219","220","219","0","0",1,.074493);this.I["30"]=new c("61","62","62","133","42.5",0,0);this.I["61"]=new c("119","120","119","135","5.5",0,0);this.I["119"]=new c("221","222","222","4","473.5",0,0);this.I["221"]=new c("221","222","222","0","0",1,-.920213);this.I["222"]=new c("221","222","222","0","0",1,-.17615);this.I["120"]=new c("223","224","224","5","144",0,0);this.I["223"]=new c("223","224","224","0","0",1,-.954295);this.I["224"]=new c("223","224","224","0","0",1,-.382538);this.I["62"]=new c("121","122","121","133","50",0,0);this.I["121"]=new c("225","226","226","10","18.5",0,0);this.I["225"]=new c("225","226","226","0","0",1,-.0731343);this.I["226"]=new c("225","226","226","0","0",1,.755454);this.I["122"]=new c("227","228","228","0","30",0,0);this.I["227"]=new c("227","228","228","0","0",1,.25);this.I["228"]=new c("227","228","228","0","0",1,-.997101);}function m(a,b,c,f,p,m){this.L0=p;this.aW=m;}b=a(296);t=a(179);a={};a.a$a=new function(){this.e4a=t();this.o=0;this.update=function(){this.o=t()-this.e4a;};this.getValue=function(){return this.o;};this.type="num";}();a.vrb=new function(){this.getValue=function(a,b,c){return this.o="becauseYouAdded"===c.Ba[a].context||null;};this.type="cat";}();a.wrb=new function(){this.getValue=function(a,b,c){return this.o="becauseYouLiked"===c.Ba[a].context||null;};this.type="cat";}();a.yrb=new function(){this.getValue=function(a,b,c){return this.o="billboard"===c.Ba[a].context||null;};this.type="cat";}();a.zrb=new function(){this.getValue=function(a,b,c){return this.o="continueWatching"===c.Ba[a].context||null;};this.type="cat";}();a.xrb=new function(){this.getValue=function(a,b,c){return this.o="bigRow"===c.Ba[a].context||null;};this.type="cat";}();a.Arb=new function(){this.getValue=function(a,b,c){return this.o="genre"===c.Ba[a].context||null;};this.type="cat";}();a.Brb=new function(){this.getValue=function(a,b,c){return this.o="netflixOriginals"===c.Ba[a].context||null;};this.type="cat";}();a.Crb=new function(){this.getValue=function(a,b,c){return this.o="newRelease"===c.Ba[a].context||null;};this.type="cat";}();a.Drb=new function(){this.getValue=function(a,b,c){return this.o="popularTitles"===c.Ba[a].context||null;};this.type="cat";}();a.Erb=new function(){this.getValue=function(a,b,c){return this.o="queue"===c.Ba[a].context||null;};this.type="cat";}();a.Frb=new function(){this.getValue=function(a,b,c){return this.o="recentlyAdded"===c.Ba[a].context||null;};this.type="cat";}();a.Grb=new function(){this.getValue=function(a,b,c){return this.o="similars"===c.Ba[a].context||null;};this.type="cat";}();a.Irb=new function(){this.getValue=function(a,b,c){return this.o="trendingNow"===c.Ba[a].context||null;};this.type="cat";}();a.Jrb=new function(){this.getValue=function(a,b,c){return this.o="ultraHD"===c.Ba[a].context||null;};this.type="cat";}();a.Krb=new function(){this.getValue=function(a,b,c){return this.o="watchAgain"===c.Ba[a].context||null;};this.type="cat";}();a.Hrb=new function(){this.getValue=function(a,b,c){return this.o="topTen"===c.Ba[a].context||null;};this.type="cat";}();a.L$a=new function(){this.update=function(a){for(var b in a.Ba)if("becauseYouAdded"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.M$a=new function(){this.update=function(a){for(var b in a.Ba)if("becauseYouLiked"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Q$a=new function(){this.update=function(a){for(var b in a.Ba)if("billboard"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.tcb=new function(){this.update=function(a){for(var b in a.Ba)if("continueWatching"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.P$a=new function(){this.update=function(a){for(var b in a.Ba)if("bigRow"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Vjb=new function(){this.update=function(a){for(var b in a.Ba)if("genre"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Hub=new function(){this.update=function(a){for(var b in a.Ba)if("netflixOriginals"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Kub=new function(){this.update=function(a){for(var b in a.Ba)if("newRelease"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Nxb=new function(){this.update=function(a){for(var b in a.Ba)if("popularTitles"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Bk=new function(){this.update=function(a){for(var b in a.Ba)if("queue"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.vzb=new function(){this.update=function(a){for(var b in a.Ba)if("recentlyAdded"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.HDb=new function(){this.update=function(a){for(var b in a.Ba)if("similars"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.XFb=new function(){this.update=function(a){for(var b in a.Ba)if("trendingNow"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.lGb=new function(){this.update=function(a){for(var b in a.Ba)if("ultraHD"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.dIb=new function(){this.update=function(a){for(var b in a.Ba)if("watchAgain"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.KFb=new function(){this.update=function(a){for(var b in a.Ba)if("topTen"===a.Ba[b].context){this.o=Math.max(a.Ba[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Dcb=new function(){this.getValue=function(a,b,c){return this.o="AR"===c.Da||null;};this.type="cat";}();a.Ecb=new function(){this.getValue=function(a,b,c){return this.o="AT"===c.Da||null;};this.type="cat";}();a.Fcb=new function(){this.getValue=function(a,b,c){return this.o="AU"===c.Da||null;};this.type="cat";}();a.Gcb=new function(){this.getValue=function(a,b,c){return this.o="AZ"===c.Da||null;};this.type="cat";}();a.Hcb=new function(){this.getValue=function(a,b,c){return this.o="BB"===c.Da||null;};this.type="cat";}();a.Icb=new function(){this.getValue=function(a,b,c){return this.o="BE"===c.Da||null;};this.type="cat";}();a.Jcb=new function(){this.getValue=function(a,b,c){return this.o="BO"===c.Da||null;};this.type="cat";}();a.Kcb=new function(){this.getValue=function(a,b,c){return this.o="BR"===c.Da||null;};this.type="cat";}();a.Lcb=new function(){this.getValue=function(a,b,c){return this.o="BS"===c.Da||null;};this.type="cat";}();a.Mcb=new function(){this.getValue=function(a,b,c){return this.o="CA"===c.Da||null;};this.type="cat";}();a.Ncb=new function(){this.getValue=function(a,b,c){return this.o="CH"===c.Da||null;};this.type="cat";}();a.Ocb=new function(){this.getValue=function(a,b,c){return this.o="CL"===c.Da||null;};this.type="cat";}();a.Pcb=new function(){this.getValue=function(a,b,c){return this.o="CO"===c.Da||null;};this.type="cat";}();a.Qcb=new function(){this.getValue=function(a,b,c){return this.o="CR"===c.Da||null;};this.type="cat";}();a.Rcb=new function(){this.getValue=function(a,b,c){return this.o="CW"===c.Da||null;};this.type="cat";}();a.Scb=new function(){this.getValue=function(a,b,c){return this.o="DE"===c.Da||null;};this.type="cat";}();a.Tcb=new function(){this.getValue=function(a,b,c){return this.o="DK"===c.Da||null;};this.type="cat";}();a.Ucb=new function(){this.getValue=function(a,b,c){return this.o="DM"===c.Da||null;};this.type="cat";}();a.Vcb=new function(){this.getValue=function(a,b,c){return this.o="DO"===c.Da||null;};this.type="cat";}();a.Wcb=new function(){this.getValue=function(a,b,c){return this.o="EC"===c.Da||null;};this.type="cat";}();a.Xcb=new function(){this.getValue=function(a,b,c){return this.o="EE"===c.Da||null;};this.type="cat";}();a.Ycb=new function(){this.getValue=function(a,b,c){return this.o="EG"===c.Da||null;};this.type="cat";}();a.Zcb=new function(){this.getValue=function(a,b,c){return this.o="ES"===c.Da||null;};this.type="cat";}();a.$cb=new function(){this.getValue=function(a,b,c){return this.o="FI"===c.Da||null;};this.type="cat";}();a.adb=new function(){this.getValue=function(a,b,c){return this.o="FR"===c.Da||null;};this.type="cat";}();a.bdb=new function(){this.getValue=function(a,b,c){return this.o="GB"===c.Da||null;};this.type="cat";}();a.cdb=new function(){this.getValue=function(a,b,c){return this.o="GF"===c.Da||null;};this.type="cat";}();a.ddb=new function(){this.getValue=function(a,b,c){return this.o="GP"===c.Da||null;};this.type="cat";}();a.edb=new function(){this.getValue=function(a,b,c){return this.o="GT"===c.Da||null;};this.type="cat";}();a.fdb=new function(){this.getValue=function(a,b,c){return this.o="HK"===c.Da||null;};this.type="cat";}();a.gdb=new function(){this.getValue=function(a,b,c){return this.o="HN"===c.Da||null;};this.type="cat";}();a.hdb=new function(){this.getValue=function(a,b,c){return this.o="HR"===c.Da||null;};this.type="cat";}();a.jdb=new function(){this.getValue=function(a,b,c){return this.o="HU"===c.Da||null;};this.type="cat";}();a.kdb=new function(){this.getValue=function(a,b,c){return this.o="ID"===c.Da||null;};this.type="cat";}();a.ldb=new function(){this.getValue=function(a,b,c){return this.o="IE"===c.Da||null;};this.type="cat";}();a.mdb=new function(){this.getValue=function(a,b,c){return this.o="IL"===c.Da||null;};this.type="cat";}();a.ndb=new function(){this.getValue=function(a,b,c){return this.o="IN"===c.Da||null;};this.type="cat";}();a.odb=new function(){this.getValue=function(a,b,c){return this.o="IT"===c.Da||null;};this.type="cat";}();a.pdb=new function(){this.getValue=function(a,b,c){return this.o="JE"===c.Da||null;};this.type="cat";}();a.qdb=new function(){this.getValue=function(a,b,c){return this.o="JM"===c.Da||null;};this.type="cat";}();a.rdb=new function(){this.getValue=function(a,b,c){return this.o="JP"===c.Da||null;};this.type="cat";}();a.sdb=new function(){this.getValue=function(a,b,c){return this.o="KE"===c.Da||null;};this.type="cat";}();a.tdb=new function(){this.getValue=function(a,b,c){return this.o="KN"===c.Da||null;};this.type="cat";}();a.udb=new function(){this.getValue=function(a,b,c){return this.o="KR"===c.Da||null;};this.type="cat";}();a.vdb=new function(){this.getValue=function(a,b,c){return this.o="LU"===c.Da||null;};this.type="cat";}();a.wdb=new function(){this.getValue=function(a,b,c){return this.o="MK"===c.Da||null;};this.type="cat";}();a.xdb=new function(){this.getValue=function(a,b,c){return this.o="MU"===c.Da||null;};this.type="cat";}();a.ydb=new function(){this.getValue=function(a,b,c){return this.o="MX"===c.Da||null;};this.type="cat";}();a.zdb=new function(){this.getValue=function(a,b,c){return this.o="MY"===c.Da||null;};this.type="cat";}();a.Adb=new function(){this.getValue=function(a,b,c){return this.o="NI"===c.Da||null;};this.type="cat";}();a.Bdb=new function(){this.getValue=function(a,b,c){return this.o="NL"===c.Da||null;};this.type="cat";}();a.Cdb=new function(){this.getValue=function(a,b,c){return this.o="NO"===c.Da||null;};this.type="cat";}();a.Ddb=new function(){this.getValue=function(a,b,c){return this.o="NZ"===c.Da||null;};this.type="cat";}();a.Edb=new function(){this.getValue=function(a,b,c){return this.o="OM"===c.Da||null;};this.type="cat";}();a.Fdb=new function(){this.getValue=function(a,b,c){return this.o="PA"===c.Da||null;};this.type="cat";}();a.Gdb=new function(){this.getValue=function(a,b,c){return this.o="PE"===c.Da||null;};this.type="cat";}();a.Hdb=new function(){this.getValue=function(a,b,c){return this.o="PF"===c.Da||null;};this.type="cat";}();a.Idb=new function(){this.getValue=function(a,b,c){return this.o="PH"===c.Da||null;};this.type="cat";}();a.Jdb=new function(){this.getValue=function(a,b,c){return this.o="PK"===c.Da||null;};this.type="cat";}();a.Kdb=new function(){this.getValue=function(a,b,c){return this.o="PL"===c.Da||null;};this.type="cat";}();a.Ldb=new function(){this.getValue=function(a,b,c){return this.o="PT"===c.Da||null;};this.type="cat";}();a.Mdb=new function(){this.getValue=function(a,b,c){return this.o="PY"===c.Da||null;};this.type="cat";}();a.Ndb=new function(){this.getValue=function(a,b,c){return this.o="QA"===c.Da||null;};this.type="cat";}();a.Odb=new function(){this.getValue=function(a,b,c){return this.o="RO"===c.Da||null;};this.type="cat";}();a.Pdb=new function(){this.getValue=function(a,b,c){return this.o="RS"===c.Da||null;};this.type="cat";}();a.Qdb=new function(){this.getValue=function(a,b,c){return this.o="RU"===c.Da||null;};this.type="cat";}();a.Rdb=new function(){this.getValue=function(a,b,c){return this.o="SA"===c.Da||null;};this.type="cat";}();a.Sdb=new function(){this.getValue=function(a,b,c){return this.o="SE"===c.Da||null;};this.type="cat";}();a.Tdb=new function(){this.getValue=function(a,b,c){return this.o="SG"===c.Da||null;};this.type="cat";}();a.Udb=new function(){this.getValue=function(a,b,c){return this.o="SV"===c.Da||null;};this.type="cat";}();a.Vdb=new function(){this.getValue=function(a,b,c){return this.o="SX"===c.Da||null;};this.type="cat";}();a.Wdb=new function(){this.getValue=function(a,b,c){return this.o="TH"===c.Da||null;};this.type="cat";}();a.Xdb=new function(){this.getValue=function(a,b,c){return this.o="TR"===c.Da||null;};this.type="cat";}();a.Ydb=new function(){this.getValue=function(a,b,c){return this.o="TT"===c.Da||null;};this.type="cat";}();a.Zdb=new function(){this.getValue=function(a,b,c){return this.o="TW"===c.Da||null;};this.type="cat";}();a.$db=new function(){this.getValue=function(a,b,c){return this.o="US"===c.Da||null;};this.type="cat";}();a.aeb=new function(){this.getValue=function(a,b,c){return this.o="UY"===c.Da||null;};this.type="cat";}();a.beb=new function(){this.getValue=function(a,b,c){return this.o="VE"===c.Da||null;};this.type="cat";}();a.ceb=new function(){this.getValue=function(a,b,c){return this.o="ZA"===c.Da||null;};this.type="cat";}();a.yzb=new function(){this.getValue=function(a,b,c){return this.o=1===c.$g||null;};this.type="cat";}();a.zzb=new function(){this.getValue=function(a,b,c){return this.o=10===c.$g||null;};this.type="cat";}();a.Azb=new function(){this.getValue=function(a,b,c){return this.o=11===c.$g||null;};this.type="cat";}();a.Bzb=new function(){this.getValue=function(a,b,c){return this.o=12===c.$g||null;};this.type="cat";}();a.Czb=new function(){this.getValue=function(a,b,c){return this.o=13===c.$g||null;};this.type="cat";}();a.Dzb=new function(){this.getValue=function(a,b,c){return this.o=14===c.$g||null;};this.type="cat";}();a.Ezb=new function(){this.getValue=function(a,b,c){return this.o=15===c.$g||null;};this.type="cat";}();a.Fzb=new function(){this.getValue=function(a,b,c){return this.o=16===c.$g||null;};this.type="cat";}();a.Gzb=new function(){this.getValue=function(a,b,c){return this.o=17===c.$g||null;};this.type="cat";}();a.Hzb=new function(){this.getValue=function(a,b,c){return this.o=18===c.$g||null;};this.type="cat";}();a.Izb=new function(){this.getValue=function(a,b,c){return this.o=19===c.$g||null;};this.type="cat";}();a.Jzb=new function(){this.getValue=function(a,b,c){return this.o=2===c.$g||null;};this.type="cat";}();a.Kzb=new function(){this.getValue=function(a,b,c){return this.o=20===c.$g||null;};this.type="cat";}();a.Lzb=new function(){this.getValue=function(a,b,c){return this.o=21===c.$g||null;};this.type="cat";}();a.Mzb=new function(){this.getValue=function(a,b,c){return this.o=22===c.$g||null;};this.type="cat";}();a.Nzb=new function(){this.getValue=function(a,b,c){return this.o=23===c.$g||null;};this.type="cat";}();a.Ozb=new function(){this.getValue=function(a,b,c){return this.o=3===c.$g||null;};this.type="cat";}();a.Pzb=new function(){this.getValue=function(a,b,c){return this.o=4===c.$g||null;};this.type="cat";}();a.Qzb=new function(){this.getValue=function(a,b,c){return this.o=5===c.$g||null;};this.type="cat";}();a.Rzb=new function(){this.getValue=function(a,b,c){return this.o=6===c.$g||null;};this.type="cat";}();a.Szb=new function(){this.getValue=function(a,b,c){return this.o=7===c.$g||null;};this.type="cat";}();a.Tzb=new function(){this.getValue=function(a,b,c){return this.o=8===c.$g||null;};this.type="cat";}();a.Uzb=new function(){this.getValue=function(a,b,c){return this.o=9===c.$g||null;};this.type="cat";}();a.MEb=new function(){this.update=function(a){"down"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.OEb=new function(){this.update=function(a){"right"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.NEb=new function(){this.update=function(a){"left"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.PEb=new function(){this.update=function(a){"up"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.ktb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";}();a.ltb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.Vaa);};this.getValue=function(){return this.o;};this.type="num";}();a.rtb=new function(){this.bK=this.o=0;this.update=function(a){this.bK++;this.o=1*(this.o+a.rowIndex)/this.bK;};this.getValue=function(){return this.o;};this.type="num";}();a.stb=new function(){this.bK=this.o=0;this.update=function(a){this.bK++;return this.o=1*(this.o+a.Vaa)/this.bK;};this.getValue=function(){return this.o;};this.type="num";}();a.myb=new function(){this.getValue=function(a,b,c){return this.o=c.Vaa+b;};this.type="num";}();a.nyb=new function(){this.getValue=function(a,b,c){return this.o=c.rowIndex+a;};this.type="num";}();k.prototype.xy=function(a){return this.bAa(this.I["0"].zQa(a),a);};k.prototype.bAa=function(a,b){return"string"==typeof a?this.bAa(this.I[a].zQa(b),b):a;};c.prototype.zQa=function(a){switch(this.Gqb){case 0:switch(a.zd[this.DQ].type){case"cat":return null===a.zd[this.DQ].value?this.BMa:"missing"==a.zd[this.DQ].value?this.jia:this.DUa;case"num":return null===a.zd[this.DQ].value?this.jia:a.zd[this.DQ].value<this.split?this.DUa:this.BMa;default:return this.jia;}case 1:return this.xy;default:return this.xy;}};b.declare({pO:["modelSelector","modelone"],Nbb:["colEpisodeList",5],Eob:["holdDuration",15E3],mQa:["rowFirst",2],fDa:["colFirst",5],oQa:["rowScroll",2],gDa:["colScroll",6],hBb:["rowScrollHorizontal",6],ABb:["searchTop",3],ZDa:["cwFirst",2],lN:["horizontalItemsFocusedMode",3],Iqb:["itemsPerRank",1],gtb:["maxNumberPayloadsStored",10],zLa:["maxNumberTitlesScheduled",5],IRb:["enableDetailedLogging",!0],LUb:["rowStep",20],UQb:["colStep",15],iUb:["pageRows",100],hUb:["pageColumns",75],Fha:["maskParamsList",new function(){var a,b;this.Fha=[];this.Fj={};this.L0=20;this.aW=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.L0)+"_"+Math.floor(b/this.aW)in this.Fj||(this.Fj[Math.floor(a/this.L0)+"_"+Math.floor(b/this.aW)]=1,this.Fha.push(new m(0,0,0,0,Math.floor(a/this.L0),Math.floor(b/this.aW))));}().Fha],I:["nodes",new k().I],mapping:["mapping",{ltb:"0",stb:"1",ktb:"2",rtb:"3",a$a:"4",PEb:"5",NEb:"6",OEb:"7",MEb:"8",nyb:"9",myb:"10",vrb:"11",wrb:"12",yrb:"13",zrb:"14",xrb:"15",Arb:"16",Brb:"17",Crb:"18",Drb:"19",Erb:"20",Frb:"21",Grb:"22",Hrb:"23",Irb:"24",Jrb:"25",Krb:"26",yzb:"27",zzb:"28",Azb:"29",Bzb:"30",Czb:"31",Dzb:"32",Ezb:"33",Fzb:"34",Gzb:"35",Hzb:"36",Izb:"37",Jzb:"38",Kzb:"39",Lzb:"40",Mzb:"41",Nzb:"42",Ozb:"43",Pzb:"44",Qzb:"45",Rzb:"46",Szb:"47",Tzb:"48",Uzb:"49",Dcb:"50",Ecb:"51",Fcb:"52",Gcb:"53",Hcb:"54",Icb:"55",Jcb:"56",Kcb:"57",Lcb:"58",Mcb:"59",Ncb:"60",Ocb:"61",Pcb:"62",Qcb:"63",Rcb:"64",Scb:"65",Tcb:"66",Ucb:"67",Vcb:"68",Wcb:"69",Xcb:"70",Ycb:"71",Zcb:"72",$cb:"73",adb:"74",bdb:"75",cdb:"76",ddb:"77",edb:"78",fdb:"79",gdb:"80",hdb:"81",jdb:"82",kdb:"83",ldb:"84",mdb:"85",ndb:"86",odb:"87",pdb:"88",qdb:"89",rdb:"90",sdb:"91",tdb:"92",udb:"93",vdb:"94",wdb:"95",xdb:"96",ydb:"97",zdb:"98",Adb:"99",Bdb:"100",Cdb:"101",Ddb:"102",Edb:"103",Fdb:"104",Gdb:"105",Hdb:"106",Idb:"107",Jdb:"108",Kdb:"109",Ldb:"110",Mdb:"111",Ndb:"112",Odb:"113",Pdb:"114",Qdb:"115",Rdb:"116",Sdb:"117",Tdb:"118",Udb:"119",Vdb:"120",Wdb:"121",Xdb:"122",Ydb:"123",Zdb:"124",$db:"125",aeb:"126",beb:"127",ceb:"128",dIb:"129",vzb:"130",HDb:"131",Bk:"132",tcb:"133",Vjb:"134",XFb:"135",KFb:"136",Q$a:"137",Kub:"138",lGb:"139",Nxb:"140",L$a:"141",P$a:"142",M$a:"143",Hub:"144"}],zd:["features",a],QPb:["_modelName","tree"],HPb:["_format","xgboost"],PPb:["_itemsToKeep",5],OPb:["_itemsThreshold",null],EQb:["cacheLimit",20]});d.R={config:b,kTb:m,bRb:c};},function(d,b,a){var k;function c(a){for(var b="",c=0;c<a.length;c++)b+=a[c].oa+"|";return b;}k=a(178);d.R={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},KSb:function(a,b,c){Array.prototype.splice.apply(a,[b,0].concat(c));},Kkb:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===k.iJ.wWa){b=a[c].list;break;}return b;},tkb:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===k.iJ.qVa){b=a[c].list;break;}return b;},mgb:function(a,b){for(var q=0,l,h,f,p=0,m=a.length-1;p<m;p++){l=c(a[p].list||[]);f=!1;for(var k=0,t=b.length;k<t;k++)if(h=c(b[k].list||[]),h==l){f=!0;break;}if(!1===f){q=p;break;}}return q;},Bvb:function(a,b,c){for(var l=[],h,f=0;f<Math.min(b,a.length);f++)h=a[f].list||[],l=l.concat(h.slice(0,c));return l;},Avb:function(a,b){for(var c=[],l,h=0;h<a.length&&(l=a[h].list||[],l=l.slice(0,Math.min(l.length,b)),b-=l.length,c=c.concat(l),0!==b);h++);return c;},zvb:function(a,b,c){var l;b<a.length&&0<=b&&(a=a[b].list||[],c<a.length&&(l=a[c]));return l;},UFa:function(a){for(var b={},c=a.length,l,h=0;h<c;h++){l=a[h].list||[];for(var f=0;f<l.length;f++)if(l[f].property===k.jD.tJ||l[f].property===k.jD.gpa){b.ti=h;b.dk=f;break;}}void 0===b.ti&&void 0===b.dk&&(b.ti=0,b.dk=0);return b;}};},function(d,b,a){var c,k,m,t,q,l,h,f,p,y,g,K,E,G;Object.defineProperty(b,"__esModule",{value:!0});b.$Sa=void 0;c=a(67);k=a(10);m=a(11);t=a(46);q=a(38);l=a(5);h=a(2);f=a(17);p=a(69);y=a(9);g=a(115);K=a(26);E=a(29);G=a(30);b.$Sa=function(){var d,H,n,r,A,T;function a(a){var c,h,q;c="info";h="";q=l.Y.get(p.nw).CHa();a.aa||(c="error",h+="&errorcode="+(a.errorCode||""),h+="&errorsubcode="+(a.da||""));h="type=startup&sev="+c+h+"&"+t.ZG(f.sb({},q,{prefix:"m_"}));b("startup",h,n);}function b(a,b,h){h&&r&&m.config.bTa[a]&&(a=A+"&jsoffms="+q.Qg()+"&do="+y.Bi.onLine+"&"+b+"&"+t.ZG(f.sb({},T.ld,{prefix:"im_"})),c.Pe.download({url:h,vja:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},JA:"track"},k.Ke));}d=l.Y.get(G.Uj);H=l.Y.get(G.Yn);A="cat=cadplayback&dev="+encodeURIComponent(d.dca)+"&ep="+encodeURIComponent(H.Ypa)+"&ver="+encodeURIComponent("6.0023.745.051")+"&jssid="+q.I4;l.wg("TrackingLog");T=l.Y.get(K.Gf);A=A+("&browserua="+y.El);T.register(h.J.ora,function(b){var c,h;n=l.Y.get(g.Qy).host+m.config.Ama;if(r=m.config.aTa&&!!m.config.Ama){m.config.Lx&&(A+="&groupname="+encodeURIComponent(m.config.Lx));m.config.JC&&(A+="&uigroupname="+encodeURIComponent(m.config.JC));c=A;h=l.Y.get(E.AD);h=f.sb({},h,{prefix:"pi_"});h="&"+t.ZG(h);A=c+h;T.PN(a);}b(k.rd);});return b;}();},function(d,b,a){var t;function c(a,b,c){b=b||0;c=c||a.length;for(var f,h=b,l,q,m,d={};h<b+c;){f=a[h];l=f&7;q=f>>3;m=k(a,h);if(!m.count)throw Error("Parsing error. bytes length is 0 for the tag "+f);h+=m.count+1;2==l&&(h+=m.value);d[q]={TRb:q,bWb:l,value:m.value,count:m.count,start:m.start};}return d;}function k(a,b){var c,f,p,l,m,q,k,d;c=b+1;f=a.length;p=c;l=0;m={};q=[];d=0;if(c>=f)throw Error("Invalid Range for Protobuf - start: "+c+" , len: "+f);for(;p<f;){l++;c=a[p];k=c&127;q.push(k);if(!(c&128))break;p++;}t.eb(q.length);for(a=q.length-1;0<=a;a--)d<<=7,d|=q[a];m.count=l;m.value=d;m.start=b+l+1;return m;}function m(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(b,"__esModule",{value:!0});b.Emb=b.Dmb=b.vib=b.oqb=b.WJa=void 0;t=a(16);b.WJa=function(a){a=c(a);if(1==m(a,1)&&a[5]&&a[5].value)return!0;};b.oqb=function(a){var b;b=c(a);if(2==m(b,1)&&(a=c(a,b[2].start,b[2].value),m(a,5)))return!0;};b.vib=c;b.Dmb=k;b.Emb=m;},function(d){function b(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}d.R=function(a){var d,q,l;function c(a,b,c){throw new TypeError(("undefined"!==typeof c.key?"Types: expected "+c.key:"Types: expected argument "+c.index)+(" to be '"+a+"' but found '"+b+"'"));}function k(a,b,p){var f;f=q[a];"undefined"!==typeof f?f(b)||c(a,b,p):a!==typeof b&&c(a,b,p);}function m(a,b){var c;c=a.filter(function(a){return"object"!==typeof a&&-1===l.indexOf(a);});c=c.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===l.indexOf(a);}));},[]));if(0<c.length)throw Error(c.join(",")+" are invalid types");return function(){var c;c=Array.prototype.slice.call(arguments);if(c.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var f;f=c[b];if("string"===typeof a)k(a,f,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){k(a[b],f[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,c);};}d="number boolean string object function symbol".split(" ");q={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof q[b]||-1<d.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);q[b]=a[b];});}l=Object.keys(q).concat(d);return m(["array","function"],m);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dqa=void 0;b.Dqa=function(a){var m,d,q,l;function b(){if(q)for(var a;a=m.pop();)a(l);}function k(a){q=!0;l=a;b();}m=[];return function(c){m.push(c);d||(d=!0,a(k));b();};};},function(d,b,a){var k;function c(a,b,c,l){this.Jc=a;this.zl=b;this.wq=c;this.Jb=l;this.kDb();}Object.defineProperty(b,"__esModule",{value:!0});b.nJ=void 0;k=a(12);c.prototype.uIa=function(a,b){var c;c=this;return this.wq.transition(b).then(function(){c.Jc.sg=a;});};c.prototype.close=function(a){return this.wq.close(a);};c.prototype.isReady=function(){return this.wq.Imb();};c.prototype.zn=function(){return this.wq.zn();};c.prototype.Jh=function(){return this.wq.Jh();};c.prototype.Eja=function(a){return this.wq.Cp(a);};c.prototype.kDb=function(){var a;a=this;this.wq.addListener(k.wz.yP,function(){return a.Jb.Ub(k.wz.yP);});Object.keys(k.ub).forEach(function(b){var c;c=k.ub[b];a.wq.addListener(c,function(b){return a.Jb.Ub(c,b);});});};c.prototype.zO=function(){};c.prototype.oNa=function(a){this.wq.MGb({id:a,G:this.Jc.Sg(a).oa,Hn:this.Jc.cIa(a)});};b.nJ=c;},function(d,b,a){var k;function c(a,b,c){var l;l=this;this.xk=a;this.Cf=b;this.PO=c;this.addEventListener=function(a,b,c){return l.Cf.addListener(a,l.hEa(a,b),c);};this.removeEventListener=function(a,b){return l.Cf.removeListener(a,l.hEa(a,b));};this.getReady=function(){return l.Cf.isReady();};this.getXid=function(){return l.gb().rY();};this.getMovieId=function(){return l.gb().amb();};this.getPlaygraphId=function(){return l.gb().xmb();};this.getElement=function(){return l.Cf.zn();};this.isPlaying=function(){return l.gb().Rx();};this.isPaused=function(){return l.gb().hqb();};this.isMuted=function(){return l.gb().eqb();};this.isReady=function(){return l.gb().isReady();};this.isBackground=function(){return l.gb().Kpb();};this.setBackground=function(a){return l.gb().ZQa(a);};this.startInactivityMonitor=function(){return l.gb().UP();};this.setTransitionTime=function(a){return l.gb().pRa(a);};this.getDiagnostics=function(){return l.gb().Wkb();};this.getTextTrackList=function(a){return l.gb().lIa(a);};this.getTextTrack=function(){return l.gb().kIa();};this.setTextTrack=function(a){return l.gb().mRa(a);};this.getVolume=function(){return l.gb().Inb();};this.isEnded=function(){return l.gb().Tpb();};this.getBusy=function(){return l.gb().kk();};this.getError=function(){return l.gb().getError();};this.getCurrentTime=function(){return l.gb().j.$b.value;};this.getBufferedTime=function(){return l.gb().wkb();};this.getSegmentTime=function(){return l.gb().SX();};this.getDuration=function(){return l.gb().PGa();};this.getVideoSize=function(){return l.gb().Gnb();};this.getAudioTrackList=function(){return l.gb().gkb();};this.getAudioTrack=function(){return l.gb().fkb();};this.getTimedTextTrackList=function(a){return l.gb().lIa(a);};this.getTimedTextTrack=function(){return l.gb().kIa();};this.getAdditionalLogInfo=function(){return l.gb().Zjb();};this.getTrickPlayFrame=function(a){return l.gb().vnb(a);};this.getSessionSummary=function(){return l.gb().bIa();};this.getTimedTextSettings=function(){return l.gb().mY();};this.setMuted=function(a){return l.gb().OCb(a);};this.setVolume=function(a){return l.gb().fDb(a);};this.getPlaybackRate=function(){return l.gb().SHa();};this.setPlaybackRate=function(a){return l.gb().TCb(a);};this.setAudioTrack=function(a){return l.gb().wCb(a);};this.setTimedTextTrack=function(a){return l.gb().mRa(a);};this.setTimedTextSettings=function(a){return l.gb().NP(a);};this.prepare=function(){return l.gb().ov();};this.load=function(){return l.gb().load();};this.close=function(a){return l.sBa(l.Cf.close(),a);};this.play=function(){return l.gb().play();};this.pause=function(){return l.gb().pause();};this.seek=function(a){return l.gb().seek(a);};this.engage=function(a,b){return l.sBa(l.gb().AM(a),b);};this.induceError=function(a){return l.gb().kpb(a);};this.loadCustomTimedTextTrack=function(a,b,c,m){return l.gb().Orb(a,b,c,m);};this.tryRecoverFromStall=function(){return l.gb().sQ();};this.addEpisode=function(a){var b,c;l.log.info("Next episode added",a);b=l.jLa(a.playbackParams);c="startPts"in a?a.startPts:"nextStartPts"in a?a.nextStartPts:b.S;if(void 0===c||0>c)c=0;return l.Cf.Cp({id:b.Oi?void 0:l.PO.JX(a.movieId,c),G:a.movieId,S:c,Hn:"endPts"in a?a.endPts:"currentEndPts"in a?a.currentEndPts:b.Hn,fb:b,va:a.manifest,xk:l.xk});};this.playNextEpisode=function(a){a=void 0===a?{}:a;a=l.jLa(a);l.log.info("Playing the next episode",a);return l.Cf.kfa(l.Cf.SGa(),l.Cf.TX().bl,a);};this.playSegment=function(a){return l.gb().rxb(a);};this.queueSegment=function(a){return l.gb().Zyb(a);};this.updateNextSegmentWeights=function(a,b){return l.gb().kp(a,b);};this.getCropAspectRatio=function(){return l.gb().fea();};this.getCropAspectRatioXandY=function(){return l.gb().Mkb();};this.generateScreenshots=function(a){return l.gb().Tjb(a);};this.getCurrentSegmentId=function(){return l.Cf.SGa();};this.getPlaygraphMap=function(){return l.Cf.ymb();};this.setNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];b=b.map(function(a){return{La:a.segmentId,tO:a.nextSegmentId};});l.Cf.KP.apply(l.Cf,[].concat(ea(b)));};this.clearNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return l.Cf.Cbb.apply(l.Cf,[].concat(ea(b)));};this.updatePlaygraphMap=function(a){return l.Cf.JGb(a);};this.goToNextSegment=function(a,b){return l.Cf.kfa(a,b);};this.getPlaying=function(){return l.isPlaying();};this.getPaused=function(){return l.isPaused();};this.getMuted=function(){return l.isMuted();};this.getEnded=function(){return l.isEnded();};this.getTimedTextVisibility=function(){return l.isTimedTextVisible();};this.isTimedTextVisible=function(){return!!l.gb().mY().visibility;};this.setTimedTextVisibility=function(a){return l.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return l.gb().NP({size:a});};this.setTimedTextBounds=function(a){return l.gb().NP({bounds:a});};this.setTimedTextMargins=function(a){return l.gb().NP({margins:a});};this.setTimedTextVisible=function(a){return l.gb().NP({visibility:a});};this.getCongestionInfo=function(a){a&&a({success:!1,name:null,isCongested:null});};this.Wca=new Map();this.log=k.wg("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.rxa=void 0;k=a(5);a(84);c.prototype.gb=function(){return this.Cf.Jh();};c.prototype.hEa=function(a,b){var c;this.Wca.has(a)||this.Wca.set(a,new Map());c=this.Wca.get(a);c.has(b)||c.set(b,this.Kfb(a,b));return c.get(b);};c.prototype.Kfb=function(a,b){var c;c=this;return function(l){return b(Object.assign({},l,{type:a,target:c}));};};c.prototype.sBa=function(a,b){return b?a.then(b,b):a;};c.prototype.jLa=function(a){a=void 0===a?{}:a;return{Vh:a.trackingId,rL:a.authParams,Mn:a.sessionParams,le:a.uiLabel,jca:a.disableTrackStickiness,Q1:a.uiPlayStartTime,yX:a.forceAudioTrackId,zX:a.forceTimedTextTrackId,Oi:a.isBranching,cna:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted}:void 0,DF:a.enableTrickPlay,yfa:a.heartbeatCooldown,qZ:a.isPlaygraph,KZ:a.loadImmediately||!1,fOa:a.pin,RO:a.preciseSeeking,S:a.startPts,ja:a.endPts,Hn:a.logicalEnd,pl:a.packageId,x0:a.renderTimedText,CFa:a.extraManifestParams};};b.rxa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.I6=void 0;b.I6="PlaygraphVideoPlayerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.H6=void 0;b.H6="PlaygraphPlaybackStrategyFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zn=void 0;d=b.Zn||(b.Zn={});d[d.qJ=0]="No";d[d.O7=1]="Yes";d[d.Pra=2]="Later";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.G6=void 0;b.G6="PlaygraphManagerFactorySymbol";},function(d,b,a){var c,k,m,t,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.GI=void 0;c=a(0);k=a(2);m=a(1);t=a(14);q=a(21);l=a(5);h=a(12);d=function(){var b;function a(a,b,c){this.he=a;this.Fb=b;this.j=c;this.LN=[];}a.prototype.tX=function(a){this.LN.forEach(function(b){return b(a);});};a.prototype.Sd=function(a,b,c){this.j.Sd(this.he(a,b,c));};a.prototype.xY=function(a){this.j.fireEvent(h.U.pia,{bbb:a});};a.prototype.C8a=function(a){-1===this.LN.indexOf(a)&&this.LN.push(a);};a.prototype.fAb=function(a){a=this.LN.indexOf(a);0<=a&&this.LN.splice(a,1);};a.prototype.sIa=function(a){var b,c;b={};t.Wb(a.code)?b.da=k.M3(a.code):b.da=k.u.yh;try{c=a.message.match(/\((\d*)\)/)[1];b.Vd=l.gaa(c,4);}catch(E){}b.nb=q.Ee(a);return b;};b=a;return b=c.__decorate([m.N()],b);}();b.GI=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.NS=void 0;b.NS="PlaybackMilestoneStoreSymbol";},function(d,b,a){var c,k,m,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.ZKa=void 0;c=a(11);k=a(10);m=a(38);d=a(2);t=a(9);q=a(14);l=a(5);a=a(26);l.Y.get(a.Gf).register(d.J.ira,function(a){var h,l,d,g,E;function f(){var a;a=t.Ss(m.Qg()/d);if(a!=E){for(var b=t.Jm(a-E,30);b--;)g.push(0);(b=t.Dl(g.length-31,0))&&g.splice(0,b);E=a;}g[g.length-1]++;}h=c.config.Asb;l=-6/(h-2-2);d=k.cj;g=[];E=t.Ss(m.Qg()/d);q.rga(h)&&(setInterval(f,1E3/h),b.ZKa={Blb:function(){var c;for(var a=[],b=g.length-1;b--;){c=g[b];a.unshift(0>=c?9:1>=c?8:c>=h-1?0:t.zh((c-2)*l+7));}return a;}});a(k.rd);});},function(d,b,a){var c,k,m,t,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.rqa=void 0;c=a(11);k=a(56);m=a(17);t=a(2);q=a(60);l=a(5);h=a(12);b.rqa=function(a,b,d){function f(b){var f,h;f=b.error||b;h=m.Ee(f);d.error("uncaught exception",f,h);(f=(f=f&&f.stack)&&c.config.vTa&&c.config.nGb?0<=f.indexOf(c.config.vTa):void 0)&&(b&&b.stopImmediatePropagation&&b.stopImmediatePropagation(),b=l.Y.get(q.Mk),a.Sd(b(t.J.i2a)));}function p(){k.Fe.removeListener(k.uY,f);a.removeEventListener(h.U.uf,p);a.removeEventListener(h.U.Jn,p);}try{k.Fe.addListener(k.uY,f);a.addEventListener(h.U.uf,p);c.config.Xob&&a.addEventListener(h.U.Jn,p);}catch(E){d.error("exception in exception handler ",E);}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.a7=void 0;b.a7="SeekManagerFactorySymbol";},function(d,b,a){var k,m,t,q,l,h,f,p,y,g,K,E,G,N,C,X,n,r,R,A,T,u,fa,U,la;function c(a){var b;b=this;this.j=a;this.Fb=this.j.Fb;this.wb=g.Rg(this.j,"MediaPresenterASE");this.nza=this.iya=this.Il=0;this.ud=this.Fb.bb;this.Fza=this.Bza=this.S9=this.s9=this.kV=this.AT=this.u9=!1;this.Gl={type:p.Hg.audio,oF:[],iq:[]};this.Bp={type:p.Hg.video,oF:[],iq:[]};this.gA={};this.iza=q.config.bub;this.xza=q.tDa(!!this.j.Ua.Oi).L_;this.c9=q.config.TZ;this.A7a=g.Y.get(u.Dz)(T.Gb(R.cT));this.vq=g.Y.get(U.a7)(this.j);this.Lf={};this.fza={};this.jK={};this.j.bk=!1;this.gA[k.Qc.Qj.AUDIO]=this.Gl;this.gA[k.Qc.Qj.VIDEO]=this.Bp;G.eb(this.c9>this.iza,"bad config");G.eb(this.c9>this.xza,"bad config");this.Fb.addEventListener(A.ai.LRa,function(){b.wb.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.pK();}catch(ua){b.wb.error("Exception while initializing",ua);b.Xm(K.J.u0a);}});}Object.defineProperty(b,"__esModule",{value:!0});b.Wsa=void 0;k=a(49);m=a(60);t=a(10);q=a(11);l=a(57);h=a(56);f=a(46);p=a(77);y=a(38);g=a(5);a(84);K=a(2);E=a(464);G=a(16);N=a(90);C=a(21);X=a(50);n=a(12);r=a(14);R=a(231);A=a(183);T=a(3);u=a(95);fa=a(130);U=a(284);la=a(52);c.prototype.dHa=function(){return this.Fb.UM(!1);};c.prototype.dB=function(){return this.Fb.dB();};c.prototype.cB=function(){return this.Fb.cB();};c.prototype.SM=function(){return this.Fb.SM();};c.prototype.YX=function(){return this.Fb.YX();};c.prototype.pK=function(){var a;a=this;this.wb.trace("Video element initializing");this.Fb.sourceBuffers.forEach(function(b){return a.k7a(b);});this.C4a(this.j.Lu);};c.prototype.C4a=function(a){var p,l,m;function b(){function a(a){var b,c;a=void 0===a?!0:a;c=p.j.Eb&&p.j.Eb.rfa();p.j.Nb.value==n.ib.Vf&&p.j.state.value==n.mb.qd&&p.j.ro.value==n.Ue.qd&&p.j.Ek.value==n.Ue.qd&&!p.j.bk&&c?(a&&p.UT.th(),p.UT.qu(),b="ensureTimer"):(p.UT.th(),b="stopTimer");p.wb.trace("Timer update: "+b,{presentingState:p.j.Nb.value,playbackState:p.j.state.value,avBufferingState:p.j.ro.value,textBufferingState:p.j.Ek.value,autoplayWasBlocked:p.j.bk,hasLicense:c,restartTimer:a});}q.config.gEa&&(G.eb(!p.UT),p.UT=g.Y.get(fa.Gz)(q.config.gEa,function(){var a;a=g.Y.get(E.m3).sgb(p.j);p.Xm(a.code,a);}),p.j.Nb.addListener(function(){return a();}),p.j.ro.addListener(function(){return a();}),p.j.Ek.addListener(function(){return a();}),p.j.state.addListener(function(){return a();}),p.j.addEventListener(n.U.vKa,function(){return a();}),p.j.addEventListener(n.U.bk,function(){return a();}),p.j.addEventListener(n.U.$$,function(){return a();}),p.j.addEventListener(n.U.us,function(){return a(!0);}),a());}function c(){p.Lz||(c=G.$na,p.Fb.addEventListener(A.ai.wP,p.Lf[A.ai.wP]=function(){return p.p9();}),p.Fb.addEventListener(A.ai.yo,p.Lf[A.ai.yo]=function(){return p.Z5a();}),p.ud.addEventListener("ended",p.Lf.ended=function(){return p.$5a();}),p.ud.addEventListener("play",p.Lf.play=function(){return p.e6a();}),p.ud.addEventListener("pause",p.Lf.pause=function(){return p.d6a();}),p.ud.addEventListener("playing",p.Lf.playing=function(){return p.f6a();}),p.rK=!0,p.j.YJa&&(p.W9(),p.wb.trace("Video element initialization complete"),p.j.cd("vi"),q.config.vEa?setTimeout(function(){p.l9=!0;p.$j();},q.config.vEa):p.l9=!0,b(),X.ic(function(){return p.$j();})));}p=this;a?this.wb.trace("Waiting for needkey"):(this.wb.warn("Movie is not DRM protected",{MovieId:this.j.G}),this.j.Eb.QW(""+this.j.G));this.wb.trace("Waiting for loadedmetadata");this.Fb.addEventListener(A.ai.zKa,function(a){a=a.oa;p.j.cd("ld",a);p.j.Eb.QW(""+a);p.j.fireEvent(n.U.vKa);});f.SAa(this.ud,"loadedmetadata",function(){p.wb.trace("Video element event: loadedmetadata");p.j.cd("md");});h.Fe.addListener(h.il,this.jK[h.il]=function(){return p.Zxa();},t.uz);this.j.addEventListener(n.U.uf,function(){return p.Zxa();},t.uz);this.j.addEventListener(n.U.rQa,function(){return p.H9();});this.j.addEventListener(n.U.No,function(){return p.b6a();});this.j.paused.addListener(function(){return p.$j();});this.j.muted.addListener(function(){return p.b$();});this.j.volume.addListener(function(){return p.b$();});this.j.playbackRate.addListener(function(){return p.Q7a();});this.j.ro.addListener(function(){return p.$j();});this.j.Ek.addListener(function(){return p.$j();});this.b$();null===(l=this.Gl.Hj)||void 0===l?void 0:l.$Qa(function(){return p.CK();});null===(m=this.Bp.Hj)||void 0===m?void 0:m.$Qa(function(){return p.CK();});this.CK();X.ic(function(){c();});};c.prototype.wV=function(a){var b,c;b=this;c=this.gA[a.M];c?c.iq.push(a):G.eb(!1);this.l3a(a).then(function(){b.CK();b.j.fireEvent(n.U.a_);})["catch"](function(a){b.Xm(K.J.z0a,{nb:C.Ee(a)});});};c.prototype.L$=function(a,b,c){c=void 0===c?{}:c;b={M:a.type,oB:!1,response:b,wj:function(){return"header";},get bc(){return!this.oB;},profile:c.profile};(c=this.gA[a.type])?c.iq.push(b):G.eb(!1);this.CK();this.Bza||a.type!==k.Qc.Qj.VIDEO||(this.vq.Qx||this.seek(this.j.S,n.ze.gz),this.Bza=!0);};c.prototype.k7a=function(a){var b;b=this.gA[a.type];if(b)try{b.Hj=a;}catch(ua){this.Xm(K.J.U5,{da:R.XX(a.type),nb:C.Ee(ua)});}};c.prototype.CK=function(){this.rK?this.$j():q.config.r9a&&this.W9();};c.prototype.kvb=function(){var a;a=this.j.eB()||0;this.j.Ua.Oi?q.config.bab&&(a=Math.max(a-(this.Fb.Wka+1)-q.config.Vka,this.j.Eb.dY().Yb)):(a-=q.config.JBb,a=Math.max(a,this.vq.Qga));this.seek(a,n.ze.FJ);};c.prototype.C_=function(a){var b;b=this;a===k.Qc.Qj.AUDIO?this.AT=!0:a===k.Qc.Qj.VIDEO&&(this.kV=!0);X.ic(function(){return b.$j();});};c.prototype.Glb=function(){return{Jfb:this.iya,Jub:this.nza};};c.prototype.Tba=function(){return this.lya(this.Gl,this.uW())&&this.lya(this.Bp,this.uW());};c.prototype.l3a=function(a){var b;b=this.Fb&&this.Fb.IHa();return this.j.js&&void 0===this.r9&&b&&Infinity!==a.HQa&&(a=a.HQa+a.sm,a>this.j.js.d0(T.ha)&&(this.j.js=T.Gb(a)),a>b.d0(T.ha))?(this.r9=b.scale(2),this.D6a()):Promise.resolve();};c.prototype.D6a=function(){var a;a=this;return new Promise(function(b,c){function f(){return h().then(function(a){if(!1===a)return f();});}function h(){return new Promise(function(b){setTimeout(function(){var c,f;if(!((null===(c=a.Gl.Hj)||void 0===c?0:c.kk())||(null===(f=a.Bp.Hj)||void 0===f?0:f.kk())))try{a.Fb.NCb(a.r9);a.S9=!1;a.r9=void 0;b(!0);}catch(Fa){b(!1);}b(!1);},0);});}a.S9=!0;f().then(function(){b();})["catch"](function(b){a.wb.error("Unable to change the duration",b);c(b);});});};c.prototype.Uwb=function(){var a;a=this;return this.vq.Qx&&this.qaa()&&this.Tba()?(this.Fb.seek(this.Il),this.vq.Qx=!1,X.ic(function(){return a.$j();}),!0):!1;};c.prototype.FGb=function(a){var b;if(a<this.Il){b=this.Il-a;q.config.Vwb&&a&&b>R.cT&&(a={ElementTime:N.Ah(a),MediaTime:N.Ah(this.Il)},b>R.uva?(this.wb.error("VIDEO.currentTime became much smaller",a),this.Xm(K.J.K0a)):this.wb.warn("VIDEO.currentTime became smaller",a));}else this.Il=N.vp(a,0,this.j.js.ca(T.ha));};c.prototype.uW=function(){return this.j.Nb.value===n.ib.Vf?this.xza:this.iza;};c.prototype.qaa=function(){return this.j.ro.value===n.Ue.qd&&this.j.Ek.value===n.Ue.qd;};c.prototype.$j=function(){var a,b,c;this.j.fQ=y.Qg();if(!this.We()&&this.rK){a=this.Fb.Smb();a||this.W9();this.j.paused.value||!this.Tba()||!this.qaa()||a||this.vq.Qx?this.G9():this.u9||this.H9();if(!(a||this.vq.Qx&&this.Uwb()||this.We())){a=this.Fb.UM(!0);b=this.j.Nb.value;c=this.acb();c===n.ib.Lq?(this.Il=this.j.js.ca(T.ha),this.G9()):c!==n.ib.Vf&&this.FGb(a);this.yAa();this.HT();this.j.Nb.set(c);c!==n.ib.Vf||b!==n.ib.Nc&&b!==n.ib.Bh||this.Svb();}}};c.prototype.acb=function(){var a,b,c;a=this;b=this.j.Nb.value;c=b;this.vq.Qx?c=n.ib.Vf:this.ud&&this.ud.ended?b===n.ib.Nc&&(c=n.ib.Lq):this.qaa()&&this.Tba()?this.Fb.tgb()?c=this.ud&&this.ud.paused?n.ib.Bh:n.ib.Nc:this.A7a.Lc(function(){return a.z7a();}):c=this.j.js?this.j.EIa(this.Il,this.uW())?n.ib.Vf:n.ib.Lq:n.ib.Vf;return c;};c.prototype.Svb=function(){var a;if(this.j.Nb.value===n.ib.Vf){a=this.D7a()>this.uW();this.j.Ek.value!==n.Ue.qd?this.j.lj.value?(this.j.fireEvent(n.U.Tt,{cause:l.Eua}),this.wb.warn("rebuffer due to timed text",this.j.lj.value.Ug)):this.j.fireEvent(n.U.gI):a?(this.iya++,this.j.fireEvent(n.U.Tt,{cause:l.t6})):(this.nza++,this.j.fireEvent(n.U.Tt,{cause:l.u6}));}};c.prototype.D7a=function(){var a,b;a=this.Bp.iq.filter(function(a){return!a.bc;}).reduce(function(a,b){return a+b.Br;},0);b=this.Gl.iq.filter(function(a){return!a.bc;}).reduce(function(a,b){return a+b.Br;},0);return Math.min(a,b);};c.prototype.z7a=function(){this.We()||(q.config.mvb&&this.Gl.Hj&&!this.Gl.Hj.kk()&&this.Gl.Hj.qBa(new Uint8Array([0,0,0,8,102,114,101,101])),this.$j());};c.prototype.lya=function(a,b){var c;c=a.vW;c=c&&c.eO;return!a.Hj||0===a.iq.length&&(a.type===p.Hg.audio&&this.AT||a.type===p.Hg.video&&this.kV)?!0:c&&c.rH-this.Il>=b||!1;};c.prototype.p9=function(){this.$j();};c.prototype.Z5a=function(){this.$j();this.j.fireEvent(n.U.yo);};c.prototype.$5a=function(){this.wb.trace("Video element event: ended");this.$j();};c.prototype.e6a=function(){this.wb.trace("Video element event: play");this.$j();};c.prototype.d6a=function(){this.wb.trace("Video element event: pause");this.$j();};c.prototype.f6a=function(){this.wb.trace("Video element event: playing");this.$j();};c.prototype.b$=function(){this.We()||(this.ud&&this.ud.volume!==this.j.volume.value&&(this.ud.volume=this.j.volume.value),this.ud&&this.ud.muted!==this.j.muted.value&&(this.ud.muted=this.j.muted.value));};c.prototype.Q7a=function(){!this.We()&&this.ud&&(this.ud.playbackRate=this.j.playbackRate.value);};c.prototype.W9=function(){var a,b;this.S9||(this.uAa(this.Gl),this.uAa(this.Bp));!(this.We()||!this.AT&&!this.kV||(null===(a=this.Gl.Hj)||void 0===a?0:a.kk())||(null===(b=this.Bp.Hj)||void 0===b?0:b.kk())||this.z8)&&this.ud.readyState>la.Od.Lqa.HAVE_NOTHING&&(this.z8=!0,this.Fb.endOfStream());};c.prototype.uAa=function(a){var b,c,f;if(!this.We()&&a.Hj){b=a.Hj;c=a.oF;!b.kk()&&0<c.length&&(a.vW=c[c.length-1]);if(a.zla){if(b.kk())return;a.zla=!1;f=this.Fb.IHa().d0(T.Fl);0<f&&b.remove(0,f);}for(f=a.iq[0];f&&f.response&&(f.bc||f.qv-this.Il<=this.c9);)if(this.z8=!1,this.K7a(f))a.iq.shift(),f=a.iq[0];else break;!b.kk()&&0<c.length&&(a.vW=c[c.length-1]);}};c.prototype.K7a=function(a){var b,c,f;G.eb(a&&a.response);b=a.response;c=a.M;f=this.gA[c];if(!this.We()&&f.Hj&&!f.Hj.kk()){try{a.bc&&a.profile&&f.Hj.cbb(a.profile);this.wb.trace("Feeding media segment to decoder",{Bytes:b.byteLength});f.Hj.qBa(b,a);a.bc||f.oF.push(this.t3a(a));q.config.Cgb&&!a.bc&&a.TCa();}catch(Q){"QuotaExceededError"!=Q.name?(this.wb.error("Exception while appending media",a,Q),this.Xm(K.J.I0a,R.XX(c))):this.j.wW=this.j.wW?this.j.wW+1:1;return;}return!0;}};c.prototype.s3a=function(a){var b;b=this.j.iob(a.Lb);b||(this.wb.error("Could not find CDN",{cdnId:a.Lb}),b={id:a.Lb,dha:a.location});return b;};c.prototype.z3a=function(a){var b,c;c=a.sa;a.M===k.Qc.Qj.AUDIO?b=this.j.CIa(c):a.M===k.Qc.Qj.VIDEO&&(b=this.j.MIa(c));b||this.wb.error("Could not find stream",{stream:c});return b;};c.prototype.t3a=function(a){var b;b=this.z3a(a);return{eO:a,stream:b,vo:{startTime:Math.floor(a.qv),endTime:Math.floor(a.rH)},gc:this.s3a(a)};};c.prototype.H9=function(){var a;a=this;this.We()||!r.Wb(this.ud)||this.ud.ended||!this.l9||!this.EE&&void 0!==this.EE||(this.wb.trace("Calling play on element"),Promise.resolve(this.ud.play()).then(function(){a.Lz||(a.EE=!1,a.u9=!1,a.ud.style.display=null,a.j.bk=!1,a.j.fireEvent(n.U.$$,{j:a.j}));})["catch"](function(b){"NotAllowedError"===b.name?(a.wb.warn("Playback is blocked by the browser settings",b),a.j.bk=!0,a.Lz||(a.u9=!0,a.ud.style.display="none",a.j.fireEvent(n.U.bk,{player:{play:function(){return a.H9();}}}))):a.Lz||(a.EE=!1,a.Fza||(a.Fza=!0,a.wb.error("Play promise rejected",b)));}));};c.prototype.b6a=function(){this.vq.Qga=this.j.eB()||0;};c.prototype.G9=function(){this.We()||!r.Wb(this.ud)||this.ud.ended||!this.l9||this.EE&&void 0!==this.EE||(this.wb.trace("Calling pause on element"),this.ud.pause(),this.EE=!0);};c.prototype.HT=function(a){if(r.Wb(a)){for(var b=this.gA[a],c=b.oF,h,p=!1;(h=c[0])&&h.eO.qv<=this.Il;)if(this.Il<h.eO.rH){a=a===k.Qc.Qj.AUDIO?this.j.ig:this.j.gf;f.Xaa(h,a.value)||(p=!0,a.set(h));break;}else c.shift();!p&&!this.s9||this.z8||(h=h&&h.eO.qv-h.eO.Br-1,0<h&&((b=b.Hj)&&!b.kk()?(b.remove(0,h/C.cj),this.s9=!1):this.s9=!0));}else this.HT(k.Qc.Qj.AUDIO),this.HT(k.Qc.Qj.VIDEO);};c.prototype.yAa=function(a){this.j.$b.set(this.Il);a&&this.j.qjb();};c.prototype.seek=function(a,b,c,f){var h,p,l,q;b=void 0===b?n.ze.Xs:b;c=void 0===c?this.j.La:c;f=void 0===f?!1:f;if(!this.We()&&this.j.Eb){h=this.j.wu(c).G;p=this.vq.emb(a,b,c,f);c=p.UG;f=p.Ji;l=p.Dxb;p=p.Zt;this.HT();q=this.Il;a=N.Ah(a);this.j.oo("SEEKING: Requested: ("+h+":"+b+":"+a+") - Actual: (contentPts: "+f+","+("playerPts: "+l+", newMediaTime: "+c+")"));this.wb.info("Seeking",{Requested:a,Actual:N.Ah(c),Cause:b,Skip:p});this.j.fireEvent(n.U.us,{wO:q,UG:c,cause:b,skip:p});this.j.Nb.set(n.ib.Vf);b!==n.ze.gz&&(this.Xza(),this.Gl.zla=!0,this.Bp.zla=!0);this.Il=c;this.vq.Qga=f;a=this.j.ig.value;l=this.j.gf.value;this.j.ig.set(null);this.j.gf.set(null);this.yAa(!0);this.j.fireEvent(n.U.Zo,{wO:q,UG:c,Ji:f,cause:b,skip:p,ig:a,gf:l,G:h});this.vq.Qx=!0;this.$j();}};c.prototype.Xza=function(){this.Gl.oF=[];this.Gl.vW=void 0;this.Gl.iq=[];this.Bp.oF=[];this.Bp.vW=void 0;this.Bp.iq=[];this.kV=this.AT=!1;this.j.fireEvent(n.U.a_);};c.prototype.Xm=function(a,b,c){var f;if(!this.Lz){f=g.Y.get(m.Mk);this.j.Sd(f(a,b,c));}};c.prototype.Zxa=function(){if(!this.Lz){this.wb.info("Closing.");this.Fb.removeEventListener(A.ai.wP,this.fza[A.ai.wP]);this.Fb.removeEventListener(A.ai.yo,this.fza[A.ai.yo]);this.ud.removeEventListener("ended",this.Lf.ended);this.ud.removeEventListener("play",this.Lf.play);this.ud.removeEventListener("pause",this.Lf.pause);this.ud.removeEventListener("playing",this.Lf.playing);h.Fe.removeListener(h.il,this.jK[h.il]);this.Lz=!0;try{q.config.Aub&&(this.ud.volume=0,this.ud.muted=!0);this.G9();this.Fb.close();}catch(O){}this.ud=void 0;this.Xza();}};c.prototype.We=function(){return this.Lz?!0:r.Wb(this.ud)?!1:(this.wb.error("MediaPresenter not closed and _videoElement is not defined"),!0);};b.Wsa=c;},function(d,b,a){var c,k,m,t,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Gua=void 0;c=a(10);k=a(11);m=a(38);t=a(90);q=a(9);l=a(50);h=a(14);f=a(12);b.Gua=function(a){var g,G,N,C,X,n;function b(){return a.state.value===f.mb.LOADING||a.state.value===f.mb.qd&&a.Nb.value===f.ib.Vf;}function p(){b()?n||(n=setInterval(d,100)):n&&(clearInterval(n),n=void 0,l.ic(d));}function d(){var c,p,l,d,y,H,K,E;c=m.Qg();p=g.value;l=p?p.Oh:0;y=a.state.value==f.mb.LOADING||b()&&c-G>k.config.nab;y&&a.state.value==f.mb.qd?(a.Zw.value===f.Ue.Lva?(K=l,H=!0):(d=c+(a.ll&&a.ll.Gob()||0),N=N||c,C=C||N+k.config.$tb+1,h.ma(d)&&(d=q.Dl(d,C),K=a.ll?a.ll.iSb():.99,K=q.zh(1E3*t.vp((c-N)/(d-N),0,K))/1E3)),K<l&&(l-K<k.config.Iyb/100?(K=l,X=void 0):X?c-X>k.config.Hyb?(E=!0,X=void 0):K=l:(X=c,K=l))):X=C=N=void 0;c=y?{p1:H,Oh:K,Jyb:E}:null;(!c||!g||!p||h.ma(c.Oh)&&!h.ma(p.Oh)||h.ma(c.Oh)&&h.ma(p.Oh)&&.01<q.nz(c.Oh-p.Oh)||c.p1!==p.p1)&&g.set(c);}g=a.saa;G=0;a.state.addListener(function(){p();d();},c.AS);a.Nb.addListener(function(a){if(a.oldValue!==f.ib.Vf||a.newValue!==f.ib.Vf)G=m.Qg();p();});a.Zw.addListener(function(){p();});a.ro.addListener(function(){p();});a.Ek.addListener(function(){p();});n||(n=setInterval(d,100));};},function(d,b,a){var l,h,f,p;function c(a,b,c,f,h){var p;p={};"right"==a.horizontalAlignment?p.right=100*(c-b.left-b.width-h)/c+"%":p.left=100*(b.left-h)/c+"%";"bottom"==a.verticalAlignment?p.bottom=100*(f-b.top-b.height-h)/f+"%":p.top=100*(b.top-h)/f+"%";return p;}function k(a,b){var c;if(a&&b){40===b.x&&19===b.y?c=4/3/(40/19):52===b.x&&19===b.y&&(c=16/9/(52/19));if(c)return a.width/a.fontSize/c;}}function m(a,b,c,h,p){var l,q;l=a.style;q=f.mN(a.text);for(a=a.lineBreaks;a--;)q="<br />"+q;return t(q,l,b,c,h,p);}function t(a,b,c,f,m,d){var t;t=b.characterStyle;m=m[t];f=b.characterSize*f.height/((0<=t.indexOf("MONOSPACE")?k(m,b.cellResolution)||m.lineHeight:m.lineHeight)||1);f=0<d?p.Ss(f*d):p.zh(f);d={"font-size":f+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(d["font-style"]="italic");b.characterUnderline&&(d["text-decoration"]="underline");b.characterColor&&(d.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(d["background-color"]=q(b.backgroundColor,b.backgroundOpacity));f=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case h.P_:d["text-shadow"]=f+" 0px 0px 7px";break;case h.Yia:d["text-shadow"]="-1px 0px "+f+",0px 1px "+f+",1px 0px "+f+",0px -1px "+f;break;case h.ONa:d["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case h.MNa:d["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}d=l.BA(d);(c=c[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(d+=";"+c);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+d+'">'+a+"</span>";}function q(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(b,"__esModule",{value:!0});b.sFa=b.$hb=b.Yhb=b.aib=b.Zhb=b.tFa=b.uFa=b.Qca=void 0;l=a(46);h=a(203);f=a(17);p=a(9);b.Qca=function(a,b,c,f,h){var p;p="";a.textNodes.forEach(function(a){p+=m(a,c,b,f,h);});return p;};b.uFa=function(a,b,h,l,q){var m,k,t,y,g;m="";k=q.width;q=q.height;for(var d=b.length;d--;){t=b[d];y=a[d];y=y&&y.region;g="position:absolute;background:"+l+";width:"+p.zh(t.width+2*h)+"px;height:"+p.zh(t.height+2*h)+"px;";f.yd(c(y,t,k,q,h),function(a,b){g+=a+":"+b+";";});m+='<div style="'+g+'"></div>';}return m;};b.tFa=c;b.Zhb=k;b.aib=m;b.Yhb=t;b.$hb=q;b.sFa=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return l.BA(b);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.tTa=void 0;c=a(9);b.tTa=function(a,b){function m(a,b,p){var d,t,g,n;if(a&&1<a.length){for(var f=[],h=[],l=0;l<a.length;l++)f[l]=0,h[l]=0;for(var m=!1,l=0;l<a.length;l++)for(var k=l+1;k<a.length;k++){t=a[l];g=a[k];if(0>t.width||0>g.width||g.left>t.left+t.width||g.left+g.width<t.left||g.top>t.top+t.height?0:g.top+g.height>=t.top){d=c.Dl(t.left,g.left);n=c.Dl(t.top,g.top);d={width:c.Dl(c.Jm(t.left+t.width,g.left+g.width)-d,0),height:c.Dl(c.Jm(t.top+t.height,g.top+g.height)-n,0),x:d,y:n};}else d=void 0;if(d&&1<d.width&&1<d.height)if(n=d.width<=d.height,t=q(a[l]),g=q(a[k]),n&&b||!n&&!b)d=c.Dl(d.width/2,.25),t.x<=g.x?(h[l]-=d,h[k]+=d):(h[k]-=d,h[l]+=d);else if(n&&!b||!n&&b)t=c.Dl(d.height/2,.25),f[l]-=t,f[k]+=t;}for(l=0;l<a.length;l++){if(-.25>h[l]&&0<=a[l].left+h[l]||.25<h[l]&&a[l].left+a[l].width+h[l]<=p.width)a[l].left+=h[l],m=!0;if(-.25>f[l]&&0<=a[l].top+f[l]||.25<f[l]&&a[l].top+a[l].height+f[l]<=p.height)a[l].top+=f[l],m=!0;}return m;}}function q(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,b){a.forEach(function(a){0>a.left&&a.left+a.width<b.width?a.left+=c.Jm(-a.left,b.width-(a.left+a.width)):a.left+a.width>b.width&&0<a.left&&(a.left-=c.Jm(a.left+a.width-b.width,a.left));0>a.top&&a.top+a.height<b.height?a.top+=c.Jm(-a.top,b.height-(a.top+a.height)):a.top+a.height>b.height&&0<a.top&&(a.top-=c.Jm(a.top+a.height-b.height,a.top));});}(a,b));for(var l=0;50>l&&m(a,!0,b);l++);for(l=0;50>l&&m(a,!1,b);l++);return a;};},function(d,b,a){var c,k,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.Swa=void 0;c=a(21);k=a(288);m=a(287);t=a(9);q=a(17);d=function(){function a(a,b){this.Cda=a;this.PA={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=c.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.cRa(b);this.dGa=this.tlb(this.Cda);}a.prototype.zn=function(){return this.element;};a.prototype.vCb=function(a){this.S$=a;};a.prototype.FCb=function(a){this.oe=a;this.xH();};a.prototype.LCb=function(a){this.cRa(a);this.xH();};a.prototype.xH=function(){var b,f,p,l,q,d,t,g,N,C,n,r,R,A;b=this;f=this.zn();p=f.parentElement;l=p&&p.clientWidth||0;q=p&&p.clientHeight||0;d=p=0;t={width:l,height:q};if(0<l&&0<q&&this.oe){this.S$&&(t=c.RF(l,q,this.S$),p=Math.round((l-t.width)/2),d=Math.round((q-t.height)/2));g=this.Iab(t);C=c.RF(g.width,g.height,this.S$);g=(N=this.oe.blocks)&&N.map(function(f){var h;h=m.Qca(f,C,b.Cda,b.dGa);f=m.sFa(f)+";position:absolute";return c.createElement("div",f,h,a.d3);});}Object.assign(this.PA,{left:p+"px",right:p+"px",top:d+"px",bottom:d+"px"});f.style.display="none";f.style.direction=this.PA.direction;f.innerHTML="";if(g&&g.length){l=t.width;p=t.height;n=t;this.AL&&(n=this.g8a(t,this.AL,q,d));this.PA.margin=this.Oo?this.QV(t,"top")+"px "+this.QV(t,"right")+"px "+this.QV(t,"bottom")+"px "+this.QV(t,"left")+"px ":void 0;g.forEach(function(a){return f.appendChild(a);});q=c.BA(this.PA);f.style.cssText=q+";visibility:hidden;z-index:-1";for(var d=[],P=g.length-1;0<=P;P--){r=g[P];R=N[P];A=this.DMa(r,R,l,p);A.width>l&&(r.innerHTML=m.Qca(R,t,this.Cda,this.dGa,l/A.width),A=this.DMa(r,R,l,p));d[P]=A;}d=k.tTa(d,n);if(P=N&&N[0]&&N[0].textNodes&&N[0].textNodes[0]&&N[0].textNodes[0].style)n=P.windowColor,P=P.windowOpacity,n&&0<P&&(t=m.uFa(N,d,Math.round(p/50),n,t),t=c.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+P,t,a.d3),f.insertBefore(t,f.firstChild));f.style.display="none";for(t=d.length-1;0<=t;t--)n=g[t].style,P=m.tFa(N[t].region,d[t],l,p,0),Object.assign(n,P);f.style.cssText=q;}};a.prototype.ula=function(a){this.AL=a;this.xH();};a.prototype.efa=function(){return this.AL;};a.prototype.vla=function(a){this.Oo=a;this.xH();};a.prototype.ffa=function(){return this.Oo;};a.prototype.gfa=function(){return"block"===this.PA.display;};a.prototype.wla=function(a){var b;b=a?"block":"none";this.element.style.display=b;this.PA.display=b;a&&this.xH();};a.prototype.tlb=function(a){var b,c;b=this;c={};q.yd(a,function(a,f){c[a]=b.ttb(f);});return c;};a.prototype.cRa=function(a){this.PA.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};a.prototype.QV=function(a,b){if(this.Oo){if("left"===b||"right"===b)return a.width*(this.Oo[b]||0);if("top"===b||"bottom"===b)return a.height*(this.Oo[b]||0);}return 0;};a.prototype.Iab=function(a){return this.Oo?{height:a.height*(1-(this.Oo.top||0)-(this.Oo.bottom||0)),width:a.width*(1-(this.Oo.left||0)-(this.Oo.right||0))}:a;};a.prototype.ttb=function(b){var f;b=c.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+b+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a.d3);t.$d.body.appendChild(b);f={fontSize:1E3,height:b.clientHeight,width:b.clientWidth/52,lineHeight:b.clientHeight/1E3};t.$d.body.removeChild(b);return f;};a.prototype.DMa=function(a,b,c,l){var f,h,p,q,m;f=b.region;h=(f.marginTop||0)*l;p=(f.marginBottom||0)*l;q=(f.marginLeft||0)*c;m=(f.marginRight||0)*c;b=a.clientWidth||1;a=a.clientHeight||1;switch(f.verticalAlignment){case"top":l=h;break;case"center":l=(h+l-p-a)/2;break;default:l=l-p-a;}switch(f.horizontalAlignment){case"left":c=q;break;case"right":c=c-m-b;break;default:c=(q+c-m-b)/2;}return{top:l,left:c,width:b,height:a};};a.prototype.g8a=function(a,b,c,l){return{height:c-Math.max(l,b.bottom||0)-Math.max(l,b.top||0),width:a.width};};a.d3={"class":"player-timedtext-text-container"};return a;}();b.Swa=d;},function(d,b,a){var k,m,t,q,l,h,f;function c(a){var b,c,h,p;b=this;this.j=a;this.bM=void 0;this.y8=t.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});this.p8=t.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.f8=t.createElement("DIV","width:100%;text-align:center");this.S2a=this.s8("Audio Bitrate");this.e$=this.s8("Video Bitrate");this.j8=this.s8("CDN");this.GK={};this.tY=q.Y.get(l.Kk);this.y8.appendChild(this.p8);this.p8.appendChild(this.f8);c=t.createElement("BUTTON",void 0,"Override");c.addEventListener("click",this.K2a.bind(this),!1);this.f8.appendChild(c);c=t.createElement("BUTTON",void 0,"Reset");c.addEventListener("click",this.Y6a.bind(this),!1);this.f8.appendChild(c);h=this.l6a.bind(this);m.Fe.addListener(m.Kx,h);a.addEventListener(f.U.No,function(){b.GK={};});a.addEventListener(f.U.uf,function(){m.Fe.removeListener(m.Kx,h);});p=this.K6a.bind(this);a.gc.forEach(function(a){a.addListener(p);});a.ed.addListener(p);a.mg.addListener(p);}Object.defineProperty(b,"__esModule",{value:!0});b.Nua=void 0;k=a(49);m=a(56);t=a(21);q=a(5);l=a(32);h=a(102);f=a(12);c.prototype.show=function(){this.YK||(this.Vza(),this.j.Ff.appendChild(this.y8),this.YK=!0);};c.prototype.Fo=function(){this.YK&&(this.j.Ff.removeChild(this.y8),this.YK=!1);};c.prototype.toggle=function(){this.YK?this.Fo():this.show();};c.prototype.zTa=function(){var c,f,h;function a(a,b,c){var f,h,p;p=[];b.filter(function(b){return b.Nf===a;}).forEach(function(a){0<=c.indexOf(a)?(void 0===f?f=a.O:h=a.O,void 0===h&&(h=a.O)):void 0!==f&&void 0!==h&&(p.push({min:f,max:h}),f=h=void 0);});void 0!==f&&void 0!==h&&(p.push({min:f,max:h}),f=h=void 0);return p;}function b(a,b,c){var f;f=[];b.filter(function(b){return b.Nf===a;}).forEach(function(a){-1===c.indexOf(a)&&f.push({stream:{bitrate:a.O},disallowedBy:["manual"]});});return f;}c=this.j.ix();f=this.j.gB().sort(function(a,b){return a.O-b.O;});h=f.reduce(function(a,b){0>a.indexOf(b.Nf)&&a.push(b.Nf);return a;},[]).map(function(h){return{profile:h,ranges:a(h,f,c),disallowed:b(h,f,c)};});this.j.Eb.pC(h,this.j.G);};c.prototype.K2a=function(){var c,f,a,b;this.GK={};for(var a=this.e$.options,b=a.length;b--;){c=a[b];c.selected&&(this.GK[c.value]=1);}this.bM=this.u3a.bind(this);this.zTa();if(a=this.j.oj){f=this.j8.value;a=a.filter(function(a){return a.id==f;})[0];b=this.j.gc[k.Qc.Ma.VIDEO].value;a&&a!=b&&(a.ECa={testreason:"streammanager",selreason:"userselection"},this.j.gc[k.Qc.Ma.VIDEO].set(a));}this.Fo();};c.prototype.Y6a=function(){this.bM=void 0;this.j.rRa(this.j.G);this.Fo();};c.prototype.u3a=function(){var a;a=this;return this.j.gB().filter(function(b){return a.GK[b.O];});};c.prototype.Vza=function(){var a,b,c,f;a=this;b=this.j.ed.value;c=this.j.mg.value;f=this.j.oj;b&&(f=f.slice(),f.sort(function(a,b){return a.Qf-b.Qf;}),this.L9(this.S2a,b.dc.map(function(b){return{value:b.O,caption:b.O,selected:b==a.j.Zk.value};})));c&&(this.L9(this.e$,c.dc.map(function(b){var c,f;c=a.j.fO.xs(b);b=b.O;f=""+b;c&&(f+=" ("+c.join("|")+")");return{value:b,caption:f,selected:a.bM?a.GK[b]:!c};})),this.e$.removeAttribute("disabled"));f&&(this.L9(this.j8,f.map(function(b){return{value:b.id,caption:"["+b.id+"] "+b.name,selected:b==a.j.gc[k.Qc.Ma.VIDEO].value};})),this.j8.removeAttribute("disabled"));};c.prototype.K6a=function(){this.YK&&this.Vza();};c.prototype.s8=function(a){var b,c;b=t.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=t.createElement("DIV",void 0,a);c=t.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(c);this.p8.appendChild(b);return c;};c.prototype.L9=function(a,b){a.innerHTML="";b.forEach(function(b){var c;c={title:b.caption};b.selected&&(c.selected="selected");c=t.createElement("option",void 0,b.caption,c);c.value=b.value;a.appendChild(c);});};c.prototype.l6a=function(a){a.ctrlKey&&a.altKey&&a.shiftKey&&a.keyCode==h.Nq.n1a&&this.tY.xga&&this.toggle();};b.Nua=c;},function(d,b,a){var c,k,m,t,q,l,h,f,p;Object.defineProperty(b,"__esModule",{value:!0});b.zra=void 0;c=a(11);k=a(38);m=a(2);t=a(182);q=a(9);l=a(14);h=a(12);f=a(5);p=a(130);b.zra=function(a){var d,y,g,N;function b(){a.state.value!==h.mb.qd||a.Nb.value!==h.ib.Bh&&a.Nb.value!==h.ib.Lq?y.th():y.qu();}d=c.config.Jwb;if(!a.qB()&&d){y=f.Y.get(p.Gz)(d,function(){a.fireEvent(h.U.kG,m.J.CS);});a.Nb.addListener(b);a.state.addListener(b);if(c.config.Sfa){N=k.Qg();g=new t.Q6(c.config.Sfa,function(){var b,f;b=k.Qg();f=b-N;f>d&&(a.fireEvent(h.U.kG,m.J.dS),g.Raa());f>2*c.config.Sfa&&(a.Tfa=q.Dl(f,a.Tfa||0));N=b;});g.xla();}a.addEventListener(h.U.uf,function(){y.th();l.Wb(g)&&g.Raa();});}};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Xqa=void 0;c=a(12);k=a(67);b.Xqa=function(a){function b(b){a.fireEvent(c.U.rx,{response:b,G:a.fa.G});}return{download:function(c,l){c.j=a;c=k.Pe.download(c,l);c.o$(b);return c;}};};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Vwa=void 0;c=a(21);d=function(){function a(a,b){var c;c=this;this.JHa=a;this.dNa=b;this.tma=!1;this.cv=function(){c.Em=void 0;c.update();};}a.prototype.update=function(a){var b,q,l;b=this.JHa();if(this.MTa!==b){c.Wb(b)&&c.Wb(this.duration)&&b<this.duration&&this.entries&&(l=this.xMa||this.entries[Math.floor(b*this.rFb)]||this.entries[0]);if(l){for(;l&&l.endTime<b;)l=l.next;for(;l&&l.previous&&l.previous.endTime>=b;)l=l.previous;}l&&(l.startTime<=b&&b<=l.endTime?(q=l,this.HTa(l.endTime-b)):this.HTa(l.startTime-b));this.xMa=l;this.MTa=b;this.n$!==q&&(this.n$=q,!a&&this.dNa&&this.dNa());}};a.prototype.start=function(){this.tma=!0;this.update();};a.prototype.dRa=function(a){this.xMa=this.n$=this.MTa=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(ea(a.map(function(a){return a.endTime;}))))||0;this.rFb=a&&a.length/this.duration||0;this.update();};a.prototype.stop=function(){this.tma=!1;this.th();};a.prototype.Xjb=function(){this.update(!0);return this.n$;};a.prototype.HTa=function(b){this.th();this.tma&&0<b&&(this.Em=setTimeout(this.cv,b+a.J_a));};a.prototype.th=function(){this.Em&&(clearTimeout(this.Em),this.Em=void 0);};a.J_a=10;return a;}();b.Vwa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.P4=void 0;b.P4="LicenseBrokerFactorySymbol";},function(d,b,a){var c,k,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.pr=void 0;c=a(10);k=a(11);d=a(2);m=a(5);t=a(21);q=a(9);a=a(26);m.Y.get(a.Gf).register(d.J.era,function(a){var f,p,l;function h(){l&&clearTimeout(l);a(c.rd);h=t.Ke;}f=m.wg("BatteryManager");b.pr={fWa:"chargingchange",xHa:function(){return p?p.level:null;},dea:function(){return p?p.charging:null;},addEventListener:function(a,b){p&&p.addEventListener(a,b);},removeEventListener:function(a,b){p&&p.removeEventListener(a,b);}};if(k.config.KL){l=setTimeout(h,k.config.rkb);try{q.Bi.getBattery().then(function(a){p=a;h();})["catch"](function(a){f.error("getBattery promise rejected",a);h();});}catch(H){f.error("exception on getBattery api call",H);h();}}else h();});},function(d,b,a){var h,f,p,y,g,K,E,G;function c(a){return a.split(",").reduce(function(a,b){var c;c=b.split("=");b=c[0];c=c.slice(1).join("=");b&&b.length&&(a[b]=c||!0);return a;},{});}function k(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function m(a,b,f){var p;if("string"===typeof a)return m.call(this,c(a),b,f);p=0;Object.keys(a).forEach(function(c){var l,q,d;l=g[c];q=a[c];if(l){if(d=K[c]||G[typeof h[l]])try{q=d(q);}catch(oa){f&&f.error("Failed to convert value '"+q+"' for config '"+c+"' : "+oa.toString());return;}d=y[l];this[l]=q;y[l]!==d&&(f&&f.debug("Config changed for '"+c+"' from "+k(d)+" ("+typeof d+") to "+k(q)+" ("+typeof q+")"),++p);}else b?(l=(l=E[c])?l.filter(function(a){return a[0]!==this;},this):[],l.push([this,q]),E[c]=l):f&&f.error("Attempt to change undeclared config option '"+c+"'");},this);p&&y.emit("changed");return p;}function t(){return Object.keys(g).reduce(function(a,b){var c,f;c=g[b];f=a[c];f?(f.push(b),a[c]=f.sort(function(a,b){return b.length-a.length;})):a[c]=[b];return a;},{});}function q(a,b){return a.hasOwnProperty(b)?k(a[b]):void 0;}function l(a,b){return"undefined"===typeof a?b:a;}b=a(58);a=a(105).EventEmitter;h={};f=Object.create(h);p=Object.create(f);y=Object.create(p);g={};K={};E={};y.declare=function(a){Object.keys(a).forEach(function(b){var c,f,p,l;c=a[b];f=c[0];p=c[1];l=c[2];if(h.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof f&&(f=[f]);f.forEach(function(a){var c;if(g.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");h.hasOwnProperty(b)||("function"===typeof p&&(p=p()),h[b]=p);g[a]=b;"function"===typeof l&&(K[a]=l);if(c=E[a])c.forEach(function(b){var c,f;c=b[0];f={};f[a]=b[1];m.call(c,f,!1);}),delete E[a];});});return y;};G={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};y.set=m.bind(f);y.cH=m.bind(p);y.dump=function(a,b){var d,m,G,H;function c(){H&&a&&a.log("===========================================");}d=Object.keys(E).sort();m={};G=t();b=l(b,!0);Object.keys(g).sort().forEach(function(d){var t,K,N;d=g[d];!m[d]&&(m[d]=!0,K=q(f,d),N=q(p,d),b||"undefined"!==typeof K||"undefined"!==typeof N)&&(t=G[d].join(","),t+=" = "+k(y[d])+" ("+typeof y[d]+") [",t+=l(N,"<unset>")+",",t+=l(K,"<unset>")+",",t+=q(h,d)+"]",H||(H=!0,a&&a.log("Current config values"),c()),a&&a.log(t));});(b||d.length)&&a&&a.log("<undeclared> :",d);c();};y.xo=function(a){var b,c;b={};c={};Object.keys(g).forEach(function(a){a=g[a];c[a]||(c[a]=!0,b[a]=y[a]);});a&&m.call(b,a);return b;};y.eOa=function(){var a;a=t();return Object.getOwnPropertyNames(f).reduce(function(b,c){b[a[c][0]]=f[c];return b;},{});};y.reset=function(){Object.keys(f).forEach(function(a){delete f[a];});};y.$m={};b(a,y);d.R=Object.freeze(y);},function(d,b,a){var k,m,t,q,l;function c(a){var b,c;b=q.platform;k.wg("MediaSourceASE").trace("Inside MediaSourceASE");c=a.Cea();this.readyState=l.kc.CLOSED;this.sourceBuffers=c.sourceBuffers;this.addSourceBuffer=function(a){return c.addSourceBuffer(a);};this.sV=function(a){return c.sV(a);};this.removeSourceBuffer=function(a){return c.removeSourceBuffer(a);};this.un=function(a){return c.un(a);};this.sourceId=b.ZM();b.uN();this.duration=void 0;c.uCb(this.sourceId);this.readyState=l.kc.OPEN;this.xc=m.Y.get(t.Ve).FB(l.xc,{});}Object.defineProperty(b,"__esModule",{value:!0});b.Zsa=void 0;k=a(5);m=a(5);t=a(22);q=a(49);Object.defineProperty(c.prototype,"duration",{get:function(){return this.fj;},set:function(a){var b;this.fj=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.fj=b;});}});l={kc:{CLOSED:0,OPEN:1,Lq:2,name:["CLOSED","OPEN","ENDED"]},xc:{dDa:!0,nMa:!0}};b.Zsa=Object.assign(c,l);},function(d,b,a){var c,k,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.bSa=void 0;c=a(299);k=a(5);m=a(434);t=a(22);b.bSa=function(a){a({aa:!0,storage:new c.O4(k.Y.get(m.Q4),k.Y.get(t.Ve))});};},function(d,b){function a(a,b){this.nr=a;this.Tc=b;}Object.defineProperty(b,"__esModule",{value:!0});b.O4=void 0;a.prototype.load=function(b,d){var c;c=this;this.nr.load(b).then(function(b){d&&d(a.lSa(b));})["catch"](function(a){d&&d(c.HF(b,a));});};a.prototype.save=function(b,d,m,t){var c;c=this;this.nr.save(b,d,m).then(function(){t&&t(a.lSa({key:b,value:d}));})["catch"](function(a){t&&t(c.HF(b,a));});};a.prototype.remove=function(a,b){var c;c=this;this.nr.remove(a).then(function(){b&&b({aa:!0,v1:a});})["catch"](function(d){b&&b(c.HF(a,d));});};a.lSa=function(a){return{aa:!0,data:a.value,v1:a.key};};a.prototype.HF=function(a,b){return{aa:!1,v1:a,da:b.da,nb:b.cause?this.Tc.Ee(b.cause):void 0};};b.O4=a;},function(d,b,a){var c,k,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.aSa=void 0;c=a(5);k=a(71);m=a(22);t=a(299);q=a(432);b.aSa=function(a){c.Y.get(k.Gq).create().then(function(b){a({aa:!0,storage:new t.O4(b,c.Y.get(m.Ve)),zo:c.Y.get(q.s3)});})["catch"](function(b){a(b);});};},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.cSa=void 0;c=a(10);k=a(5);m=a(2);a(17);b.cSa=function(a){var b;k.wg("Storage");b={};a({aa:!0,storage:{load:function(a,c){b.hasOwnProperty(a)?c({aa:!0,data:b[a],v1:a}):c({da:m.u.jw});},save:function(a,c,f,p){f&&b.hasOwnProperty(a)?p({aa:!1}):(b[a]=c,p&&p({aa:!0,v1:a}));},remove:function(a,h){delete b[a];h&&h(c.rd);}}});};},function(d,b,a){var k,m,t,q,l,h,f,p,g,H,K,E,G,N,C,n,P,r,R,A,T,u,fa,U,la,O,sa,ua,ya,Q,wa,ga,Ga,Fa,ka,Ea,Sa,Oa,z;function c(a,b,c,f,h,l,d,q,m,y,G,n,X,r,aa,O,Q,oa,ga,wa,ya,Sa,Fa,Oa,z,F,Lc,S){var ba,fb,jb,ib;function Ia(a){a.newValue!==ka.ib.Vf&&a.newValue!==ka.ib.Bh&&(ba.Nb.removeListener(Ia),ba.mG=ba.Ia.a1,ba.Jb.Ub(ka.U.Jn));}function mb(a){a.newValue!==ka.ib.Vf&&(ba.Nb.removeListener(mb),ba.oOa=ba.Ia.bf.ca(T.ha));}ba=this;this.iG=h;this.qa=d;this.QE=q;this.Ia=m;this.Bha=y;this.Cha=X;this.PZ=r;this.Bc=aa;this.he=O;this.Dj=Q;this.Xw=oa;this.lja=ga;this.Aha=wa;this.Fma=ya;this.Mh=Sa;this.Tc=Fa;this.kja=Oa;this.wk=z;this.B0=F;this.lL=Lc;this.UV=S;this.tOa=[];this.iH={};this.ed=new H.Mc(null);this.mg=new H.Mc(null);this.uc=new H.Mc(null);this.lj=new H.Mc(null);this.Ds=new H.Mc(void 0);this.nf=new H.Mc(null);this.Zk=new H.Mc(null);this.$b=new H.Mc(void 0);this.playbackRate=new H.Mc(1);this.Nma=function(a){return ba.ed.set(a.newValue);};this.XGb=function(a){return ba.mg.set(a.newValue);};this.UGb=function(a){return ba.uc.set(a.newValue);};this.tGb=function(a){return ba.lj.set(a.newValue);};this.TGb=function(a){return ba.Ds.set(a.newValue);};this.WGb=function(a){return ba.nf.set(a.newValue);};this.uGb=function(a){return ba.Zk.set(a.newValue);};this.LGb=function(a){return ba.gf.set(a.newValue);};this.KGb=function(a){return ba.ig.set(a.newValue);};this.EGb=function(a){return ba.$b.set(a.newValue);};this.IGb=function(a){return ba.playbackRate.set(a.newValue);};this.Gn={};this.Bka=this.xma=0;this.Jb=new E.aj();this.IQ={};this.gza=0;this.VRa=!1;this.state=new H.Mc(ka.mb.uD);this.nq=new H.Mc(!1);this.paused=new H.Mc(!1);this.muted=new H.Mc(!1);this.volume=new H.Mc(K.config.Qfb/100);this.Nb=new H.Mc(ka.ib.Vf);this.Zw=new H.Mc(ka.Ue.ve);this.ro=new H.Mc(ka.Ue.ve);this.Ek=new H.Mc(ka.Ue.ve);this.ig=new H.Mc(null);this.gf=new H.Mc(null);this.saa=new H.Mc(null);this.PY=p.Xqa(this);this.$Z=[];this.gc=[];this.iaa={};this.vM=this.gFa=!1;this.qEb=this.Fa=this.qh=-1;this.Uea=function(a,b){a=void 0===a?null:a;return ua.ma(a)?b&&!ba.wu(b).va?a:ba.Eb?ba.Eb.zr(void 0,a,b):a:null;};this.fNa=function(){ba.Ola();};this.YOa=this.iG.CA();this.FA=a;this.addEventListener=this.Jb.addListener;this.removeEventListener=this.Jb.removeListener;this.fireEvent=this.Jb.Ub;h=K.config.Xo&&this.Bc()?this.Bc().rY(a):void 0;this.v$({oa:a,La:f,Ua:c||{}},h,b);this.log=A.Rg(this);this.fca=l(this);this.E$a=G(this);this.Ff=Ga.createElement("DIV",g.O6,void 0,{id:this.G});this.qpb();fb=n(T.bh(1));this.ge=this.log.wba("Playback");this.oxb=t.Aua(this);C.BD.pub=this;C.BD.xda||(C.BD.xda=this);this.ge.info("Playback created",this.Ug);this.kha?this.ge.info("Playback selected for trace playback info logging"):this.ge.trace("Playback not selected for trace playback info logging");K.config.Xo&&this.Bc()&&(this.Bc().bob(this.G),this.addEventListener(ka.U.Jn,function(){ba.Bc().cob(ba.G);ba.uc.addListener(function(){ba.Bc().AIa();});ba.ed.addListener(function(){ba.Bc().AIa();});}),this.addEventListener(ka.U.uf,function(){ba.Bc().aob(ba.G);}));this.state.addListener(function(a){ba.ge.info("Playback state changed",{From:a.oldValue,To:a.newValue});U.eb(a.newValue>a.oldValue);});N.Fe.addListener(N.il,this.fNa,g.AS);this.$b.addListener(function(){fb.Lc(function(){return ba.XFa();});});ib=!1;this.paused.addListener(function(a){var b;b=ba.Eb;!a.Cia&&b&&(!0===a.newValue?b.paused&&b.paused():b.xQ&&b.xQ());a.newValue||(ib=!1);ba.ge.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:la.Ah(ba.$b.value)});});this.addEventListener(ka.U.us,function(a){ba.B0.us(a);ba.fa.qm.fvb(a.wO,a.UG);});this.Nb.addListener(function(a){ba.ge.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:la.Ah(ba.$b.value)},ba.FG());});this.Nb.addListener(function(){ba.nq.set(ba.Nb.value===ka.ib.Nc);});this.Zw.addListener(function(a){ba.ge.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:la.Ah(ba.$b.value)},ba.FG());});this.ro.addListener(function(a){ba.ge.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:la.Ah(ba.$b.value)},ba.FG());});this.Ek.addListener(function(a){ba.ge.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:la.Ah(ba.$b.value)},ba.FG());});this.ed.addListener(function(a){U.eb(a.newValue);ba.ge.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.$k,To:a.newValue.ab},a.oldValue&&{FromBcp47:a.oldValue.$k,From:a.oldValue.ab},{MediaTime:la.Ah(ba.$b.value)});});this.mg.addListener(function(){for(var a=ba.gB(),b=a.length,c=0;c<b;c++)a[c].lower=a[c-1],a[c].yob=a[c+1];});this.uc.addListener(function(a){ba.ge.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.$k,To:a.newValue.ab}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.$k,From:a.oldValue.ab}:{From:"none"},{MediaTime:la.Ah(ba.$b.value)});});this.gc[k.Qc.Ma.AUDIO]=new H.Mc(null);this.gc[k.Qc.Ma.VIDEO]=new H.Mc(null);this.Nb.addListener(mb,g.uz);this.Nb.addListener(Ia);this.addEventListener(ka.U.Jn,function(){var a,b,c,f;ba.VRa=!0;ba.WDb=ba.yaa();ba.cd("start");a=ba.gf.value;b=M._cad_global.prefetchEvents;if(b){c=T.Gb(ba.An?ba.An.audio:0);f=T.Gb(ba.An?ba.An.video:0);b.rm(ba.G,ba.ga,"notcached"!==ba.Xt,"notcached"!==ba.cx,!!ba.An,c,f);}ba.$Y=a.stream.O;});R.Gua(this);C.Lm.push(this);K.config.iP&&(this.Z_=this.kja(this),this.$_=new P.Nua(this));C.y6.forEach(function(a){a(ba);});this.Q8a=function(a){ba.addEventListener(ka.U.us,function(b){b=b.cause;b!==ka.ze.gz&&b!==ka.ze.zz&&a.stop();});ba.addEventListener(ka.U.Zo,function(b){var c,f,h,p,l,d,q;c=b.cause;f=b.skip;h=b.UG;p=b.wO;l=b.G;b=b.Ji;if(c!==ka.ze.zz&&(K.config.pjb&&c===ka.ze.FJ&&ba.Bm.IL(),c!==ka.ze.gz))if(f)if(a.Zt(h)){ba.ge.trace("Repositioned. Skipping from "+p+" to "+h);c=function(a){ba.log.error("streamingSession.skipped threw an exception",a);a=Ea.Cc.GX(u.J.NUa,a);ba.Kn(a.code,a);};try{d=a.Qh(h);d?d.then(function(b){b.nG||a.play();})["catch"](c):a.play();}catch(Mc){c(Mc);}}else ba.log.error("can skip returned false");else{ba.ge.trace("Repositioned. Seeking from "+p+" to "+h);try{q=ba.cm(l).La;a.yy(b,ba.wHa(q),q);}catch(Mc){ba.log.error("streamingSession.seekByContentPts threw an exception",Mc);h=Ea.Cc.GX(u.J.LUa,Mc);ba.Kn(h.code,h);}}});a.addEventListener("maxPosition",function(a){var b;b=T.Gb(a.maxPts);if(a=ba.mv[a.index])a.yr=b;ba.js||(ba.js=b);});a.addEventListener("segmentStarting",function(a){ba.fireEvent(ka.U.PBb,a);});a.addEventListener("lastSegmentPts",function(a){ba.fireEvent(ka.U.MBb,a);});a.addEventListener("segmentPresenting",function(a){ba.fireEvent(ka.U.T0,a);});a.addEventListener("segmentAborted",function(a){ba.fireEvent(ka.U.KBb,a);});a.addEventListener("manifestPresenting",function(a){ba.hLa({G:parseInt(a.movieId),g0:a.previousMovieId?parseInt(a.previousMovieId):void 0,nB:!1});});a.addEventListener("skip",function(a){ba.fireEvent(ka.U.Qh,a);});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure"===a.error&&(ba.ge.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),ba.ge.trace("StreamingFailure, buffer status:"+JSON.stringify(ba.FG())),sa.ic(function(){ba.Sd(ba.he(u.J.MUa,{da:a.nativeCode,nb:a.errormsg,Li:a.httpCode,s_:a.networkErrorCode}));}));});a.addEventListener("maxvideobitratechanged",function(a){ba.$Z.push(a);});a.addEventListener("bufferingStarted",function(){ba.ro.set(ka.Ue.ve);});a.addEventListener("locationSelected",function(a){ba.fireEvent(ka.U.Sr,a);});a.addEventListener("serverSwitch",function(a){var b;ba.fireEvent(ka.U.LH,a);"video"===a.mediatype?b=k.Qc.Ma.VIDEO:"audio"===a.mediatype&&(b=k.Qc.Ma.AUDIO);ua.Wb(b)&&ba.ACb(a.server,b);});a.addEventListener("bufferingComplete",function(b){ba.ge.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},ba.FG());ba.so=b;ba.ro.set(ka.Ue.qd);jb||(jb=!0,ba.cd("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.eNa();K.config.Hwb&&!ba.paused.value&&(ib=!0,ba.paused.set(!0,{Cia:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){ba.paused.value&&ib&&(ib=!1,ba.paused.set(!1,{Cia:!0}));ba.Pi.kvb();});a.addEventListener("asereportenabled",function(){ba.vM=!0;});a.addEventListener("asereport",function(a){ba.fireEvent(ka.U.PE,a);});a.addEventListener("aseexception",function(a){ba.fireEvent(ka.U.OE,a);});a.addEventListener("hindsightreport",function(a){var b,c;b=ua.ma(ba.ef)?0:ba.ef;c=a.report;c&&c.length&&c.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});ba.Efa={BAb:c,Hob:a.hptwbr,cJa:a.htwbr,T_:a.pbtwbr};a.rr&&(ba.Efa.pQa=a.rr);a.ra&&(ba.Efa.czb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;ba.Fa=a.location.bandwidth;ba.qh=a.location.httpResponseTime;ba.qEb=a.stat.streamingBitrate;b&&(void 0===ba.uA&&(ba.uA={interval:K.config.VE,startTime:b.startTime,Pt:[],Hv:[]}),ba.uA.Pt=ba.uA.Pt.concat(b.Pt),ba.uA.Hv=ba.uA.Hv.concat(b.Hv));a.psdConservCount&&(ba.WOa=a.psdConservCount);});a.addEventListener("headerCacheDataHit",function(a){a.movieId===""+ba.G&&(ba.An=a);});a.addEventListener("startEvent",function(a){M._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&M._cad_global.prefetchEvents.HL(fa.ye.Nj.MEDIA,ba.G);});a.addEventListener("requestComplete",function(a){var b;b=(a=a&&a.mediaRequest)&&a.cF&&a.cF.cadmiumResponse;b&&ba.fireEvent(ka.U.rx,{response:b,G:ba.wu(a.La).G});});a.addEventListener("streamSelected",function(a){var b,c;a.mediaType===k.Qc.Ma.VIDEO?(c=ba.MIa(a.streamId),b=ba.nf):a.mediaType===k.Qc.Ma.AUDIO&&(c=ba.CIa(a.streamId),b=ba.Zk);c&&b?b.set(c,{SCa:a.movieTime,z$a:a.bandwidth}):ba.ge.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,c;if("string"===typeof a.target&&"object"===typeof a.fields){b=ba.Gn[a.target];c=ua.ma(ba.ef)?ba.ef:0;b||(b=ba.Gn[a.target]={});Object.keys(a.fields).forEach(function(f){var h,p,l,d;h=a.fields[f];if("object"!==typeof h||null===h)b[f]=h;else{p=h.type;if("count"===p)void 0===b[f]&&(b[f]=0),++b[f];else if(void 0!==h.value)if("array"===p){p=b[f];l=h.adjust;d=h.value;p||(p=b[f]=[]);l&&0<l.length&&l.forEach(function(a){d[a]-=c||0;});p.push(d);}else"sum"===p?(void 0===b[f]&&(b[f]=0),b[f]+=h.value):b[f]=h.value;else b[f]=h;}});}});};this.ed.addListener(function(a){var b,c,f,h;if(ba.Eb)if(a.kx&&a.kx.hBa)ba.ge.trace("Not processing already applied track",null===(b=a.newValue)||void 0===b?void 0:b.ab);else{h=a.newValue;ba.Eb.rSa({qA:h.lB,toJSON:function(){return h.Ug;}})?ba.ge.trace("ASE accepted the audio track switch",null===(f=a.newValue)||void 0===f?void 0:f.ab):(ba.ge.trace("ASE rejected the audio track switch",null===(c=a.newValue)||void 0===c?void 0:c.ab),a.oldValue.lB!==h.lB&&ba.ed.set(a.oldValue,{hBa:!0}));}});this.addEventListener(ka.U.Tt,function(a){a.cause==C.u6&&(ba.Zw.set(ka.Ue.ve),ba.Eb.uTa(ba.Pi.dHa()));});}Object.defineProperty(b,"__esModule",{value:!0});b.Iua=void 0;k=a(49);m=a(190);t=a(189);q=a(118);l=a(295);h=a(618);f=a(617);p=a(292);g=a(10);H=a(185);K=a(11);E=a(76);G=a(291);N=a(56);C=a(57);n=a(80);P=a(290);r=a(614);R=a(286);A=a(5);T=a(3);u=a(2);fa=a(113);U=a(16);la=a(90);O=a(17);sa=a(50);ua=a(14);ya=a(143);Q=a(285);wa=a(127);ga=a(183);Ga=a(21);Fa=a(119);ka=a(12);Ea=a(47);Sa=a(188);Oa=a(283);z=a(126);c.prototype.cd=function(a,b){b=void 0===b?this.FA:b;this.iH[b].cd(a);};c.prototype.Cu=function(a){this.fa.Cu(a);};c.prototype.qpb=function(){var a;a=this;this.ed.addListener(function(b){return a.fa.ed.set(b.newValue);});this.mg.addListener(function(b){return a.fa.mg.set(b.newValue);});this.uc.addListener(function(b){return a.fa.uc.set(b.newValue);});this.lj.addListener(function(b){return a.fa.lj.set(b.newValue);});this.Ds.addListener(function(b){return a.fa.Ds.set(b.newValue);});this.nf.addListener(function(b){return a.fa.nf.set(b.newValue);});this.Zk.addListener(function(b){return a.fa.Zk.set(b.newValue);});this.gf.addListener(function(b){return a.fa.gf.set(b.newValue);});this.ig.addListener(function(b){return a.fa.ig.set(b.newValue);});this.$b.addListener(function(b){return a.fa.$b.set(b.newValue);});this.playbackRate.addListener(function(b){return a.fa.playbackRate.set(b.newValue);});this.lQa();};c.prototype.lQa=function(){this.fa!==this.ala&&(this.fa.$b.set(this.$b.value),this.fa.playbackRate.set(this.playbackRate.value),this.Fq(function(a){return a.ed;},this.Nma),this.Fq(function(a){return a.mg;},this.XGb),this.Fq(function(a){return a.Ds;},this.TGb),this.Fq(function(a){return a.uc;},this.UGb),this.Fq(function(a){return a.lj;},this.tGb),this.Fq(function(a){return a.nf;},this.WGb),this.Fq(function(a){return a.Zk;},this.uGb),this.Fq(function(a){return a.ig;},this.KGb),this.Fq(function(a){return a.gf;},this.LGb),this.Fq(function(a){return a.$b;},this.EGb),this.Fq(function(a){return a.playbackRate;},this.IGb),this.uc.set(this.fa.uc.value),this.ed.set(this.fa.ed.value,{hBa:!0}),this.mg.set(this.fa.mg.value),this.lj.set(this.fa.lj.value),this.Ds.set(this.fa.Ds.value),this.nf.set(this.fa.nf.value),this.Zk.set(this.fa.Zk.value),this.ala=this.fa);};c.prototype.Fq=function(a,b){this.ala&&a(this.ala).removeListener(b);a(this.fa).addListener(b);};c.prototype.load=function(a){var b,c;b=this;this.load=function(){};this.vOa=a;if(this.state.value==ka.mb.uD){this.ge.info("Playback loading",this);this.avb();this.cd("asl_load_start");a=this.QE;c=a.endTime;ua.Wb(a.startTime)?ua.Wb(c)?this.cd("asl_ended"):this.cd("asl_in_progress"):this.cd("asl_not_started");this.QE.PN(function(a){b.cd("asl_load_complete");a.aa?b.oeb():b.Kn(a.errorCode||u.J.cra,a);});}};c.prototype.Pxb=function(){var a;try{if(this.state.value===ka.mb.LOADING){a={width:1,height:1,A$:1};this.gB().forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height,a.A$=b.A$);});this.rI=a;this.tA=this.Xw.$Aa({LC:T.Gb(this.S),G:this.G,NO:this.yr,Ua:this.Ua}).ca(T.ha);this.vBa();this.bfb();}}catch(mb){this.Kn(u.J.uZa,{da:u.u.yh,nb:O.Ee(mb)});}};c.prototype.v$=function(a,b,c){var f,h,p;b=void 0===b?this.iG.CA():b;c=void 0===c?this.qa.Zb():c;f=!!K.config.dUa&&!(b%K.config.dUa);h=a.oa;p=a.La;a=a.Ua;b=this.lja(C.BD.index++,h,p,a,b,c,f,this.fa,this.Uea);this.iH[h]=b;1<this.mv.length&&(b.Pu=this.PZ.create(this,b,!1));b.fO=new n.ata(this,b);return h;};c.prototype.wHa=function(a){return a?void 0:0;};c.prototype.cm=function(a){return this.iH[a];};c.prototype.wu=function(a){return this.mv.find(function(b){return b.La===a;})||this.fa;};c.prototype.vmb=function(a){return this.mv.find(function(b){var c,f;return(null===(f=null===(c=b.wf)||void 0===c?void 0:c.Pqb)||void 0===f?void 0:f.sessionId)===a;})||this.fa;};c.prototype.Xyb=function(a,b){var c,f;b=void 0===b?!0:b;c=this;f=this.cm(a);return this.MQa(f).then(function(a){var h;if(!c.Eb)throw new Ea.Cc(u.J.Q5,u.u.FUa);c.OOa(a,f);a=[f.cc.lEa,f.cc.rEa];h=!1;try{h=!!c.Eb.NAa(f.va.Mf,{MFb:a,replace:!1,S:f.Ua.S,ja:f.Ua.ja,VB:!0,Ii:!f.Lu,RBa:b,Gp:c.Aba(f.G),Uob:!0},f.La);}catch(hf){throw Ea.Cc.GX(u.J.Q5,hf);}if(!h)throw new Ea.Cc(u.J.Q5,u.u.GUa);return f.Lu?c.Fb.zj.SPa(f):Promise.resolve();})["catch"](function(a){c.log.error("queueManifest failed",a);throw c.he(a.code,a);});};c.prototype.ikb=function(){if(ua.ma(this.ld.ats)&&ua.ma(this.ld.at))return this.ld.at-this.ld.ats;};c.prototype.FGa=function(){var a,b;a=this.GQ();b=this.nL();return Math.min(a,b);};c.prototype.UP=function(){this.background||(this.ge.info("Starting inactivity monitor for movie "+this.G),new G.zra(this));};c.prototype.close=function(a){a&&(this.state.value==ka.mb.CLOSED?a():this.addEventListener(ka.U.closed,function(){a();}));this.Ola();};c.prototype.Sd=function(a,b){var c,f,h;c=this;if(this.state.value==ka.mb.uD)this.Mi||(this.Mi=a,this.load());else{b&&(this.state.value==ka.mb.CLOSED?b():this.addEventListener(ka.U.closed,function(){b();}));f=function(){c.Ola(a);};h=K.config.uEa&&a&&K.config.uEa[a.errorCode];ua.Ku(h)&&(h=O.Ld(h));this.ge.error("Fatal playback error",{Error:""+a,HandleDelay:""+h});0<=h?setTimeout(f,h):f();}};c.prototype.sQ=function(){this.Jb.Ub(ka.U.sQ);};c.prototype.oo=function(a,b){b=void 0===b?this.La:b;this.tOa.push(this.qa.Zb().ca(T.ha)+"-"+b+"-"+a);};c.prototype.qjb=function(){this.XFa();};c.prototype.Lea=function(){var a;a=this.Eb;return a&&(a=a.eY(),void 0!==a)?a:null;};c.prototype.eB=function(){return void 0!==this.fa.eW&&void 0===this.Eb?this.fa.eW:this.Uea(this.$b.value,this.La);};c.prototype.Kea=function(){var a;a=this.Uea(this.Pi.dHa());return null===a?null:Math.min(this.yr.ca(T.ha),Math.max(0,a));};c.prototype.RX=function(){var a,b;return null===(b=null===(a=this.va)||void 0===a?void 0:a.Mf.bu)||void 0===b?void 0:b.Ta;};c.prototype.HGb=function(a){this.Ua=wa.MLa(function(a,b){return void 0!==b?b:a;},this.Ua,a);this.vBa();};c.prototype.gB=function(a){a=void 0===a?this.G:a;return(a=this.cm(a).mg)&&a.value?a.value.dc:[];};c.prototype.iob=function(a){for(var b=S(this.mv),c=b.next();!c.done;c=b.next())if(c=(c=c.value.oj)&&c.find(function(b){return b.id===a;}))return c;};c.prototype.byb=function(a){a=void 0===a?this.fa:a;a.uc.value?this.On.$xb(a.uc.value):Promise.resolve();};c.prototype.CIa=function(a){for(var b=S(this.mv),c=b.next();!c.done;c=b.next())for(var c=S(c.value.nn),f=c.next();!f.done;f=c.next())if(f=f.value.dc.find(function(b){return b.gd===a;}))return f;};c.prototype.MIa=function(a){for(var b=S(this.mv),c=b.next();!c.done;c=b.next())for(var c=S(c.value.Hm),f=c.next();!f.done;f=c.next())if(f=(f=f.value)&&f.dc.find(function(b){return b.gd===a;}))return f;};c.prototype.ix=function(){var a,b,c;return null!==(c=null===(b=null===(a=this.$_)||void 0===a?void 0:a.bM)||void 0===b?void 0:b.call(a))&&void 0!==c?c:this.JDa().Ac;};c.prototype.rRa=function(a){var b;this.Eb&&this.cm(a)&&((null===(b=this.$_)||void 0===b?0:b.bM)?this.$_.zTa():(b=this.Aba(a),this.Eb.pC(b,a)));};c.prototype.Aqb=function(){return"trailer"===this.le;};c.prototype.EJa=function(){return!!this.le&&0<=this.le.indexOf("billboard");};c.prototype.Eqb=function(){return!!this.le&&0<=this.le.indexOf("video-merch");};c.prototype.cqb=function(){return!!this.le&&0<=this.le.indexOf("mini-modal");};c.prototype.qB=function(){return this.Aqb()||this.EJa()||this.Eqb()||this.cqb();};c.prototype.fea=function(){var h;if(this.Hm){for(var a,b=0;b<this.Hm.length;b++)for(var c=this.Hm[b],f=0;f<c.dc.length;f++){h=c.dc[f];ua.ma(h.Bba)&&ua.ma(h.oW)&&ua.ma(h.nW)&&ua.ma(h.mW)&&(0<h.Bba||0<h.oW)&&(h=h.mW/h.nW,a=ua.ma(a)?Math.min(a,h):h);}return a;}};c.prototype.Omb=function(){return{tr:this.xma,rt:this.Bka};};c.prototype.vu=function(a){return this.Gn[a];};c.prototype.zab=function(){return this.Gk?this.qa.Zb().ca(T.ha)-this.Gk:this.Ia.bf.ca(T.ha)-this.MX();};c.prototype.yaa=function(){var a;if(this.Gk)return this.qa.Zb().ca(T.ha)-this.Gk;a=this.qa.vB;return this.oOa-(this.xk.ca(T.ha)+a.ca(T.ha));};c.prototype.Eab=function(){return this.Gk?this.qa.Zb().ca(T.ha)-this.Gk:this.oOa-this.MX();};c.prototype.Uub=function(a){var b,c;b=this.ef;c={};O.yd(a,function(a,f){c[a]=f.map(function(a){return a-b;});});return c;};c.prototype.skb=function(){var a,b;a=this.ef;b={};O.yd(this.iaa,function(c,f){b[c]=f.map(function(b){return b-a;});});return l.pr?{level:l.pr.xHa(),charging:l.pr.dea(),statuses:b}:null;};c.prototype.pY=function(){this.WFa();return this.IQ;};c.prototype.MX=function(){var a;a=this.Ua.Q1;a=ua.ma(a)?a:this.xk.ca(T.ha)+this.qa.vB.ca(T.ha);U.eb(ua.Ju(a));return a;};c.prototype.Qea=function(){return this.qa.Zb().ca(T.ha)-this.xk.ca(T.ha);};c.prototype.cDb=function(){this.IQ.HasRA=!0;};c.prototype.aIb=function(){this.CDb=!0;};c.prototype.B_=function(){this.EPa();};c.prototype.GQ=function(){var a;a=this.zV();return a&&a.vbuflmsec||0;};c.prototype.nL=function(){var a;a=this.zV();return a&&a.abuflmsec||0;};c.prototype.$ma=function(){var a;a=this.zV();return a&&a.vbuflbytes||0;};c.prototype.T$=function(){var a;a=this.zV();return a&&a.abuflbytes||0;};c.prototype.MQa=function(a){var b,c,f,h;a=void 0===a?this:a;b=this;c=K.config.l0.enabled?Fa.Lk.N6:this.qB()?Fa.Lk.Z6:Fa.Lk.Mm;c={ga:a.ga,Ua:a.Ua,oa:a.G,Ax:c};f=a.G!==this.G;h=this.qa.Zb().ca(T.ha);return this.Aha.cf(this.log,c).then(function(a){var c;c=b.qa.Zb().ca(T.ha);f&&(a.uy=h,a.eC=c);return a;})["catch"](function(a){b.log.error("PBO manifest failed",a);return Promise.reject(a);});};c.prototype.OOa=function(a,b){b=void 0===b?this:b;b.va=a;a=this.Bha.create(this).$ia(a);b.cc=a;b.mg.set(a.Xba);b.ed.set(a.xW);b.uc.set(a.Wba);};c.prototype.hGa=function(a,b){this.hLa({G:a,g0:this.FA,nB:void 0===b?!1:b});};c.prototype.Knb=function(a,b){this.cm(a.oa)||this.v$(a);this.hGa(a.oa,!0);this.Sd(b);};c.prototype.EIa=function(a,b){if(!this.Dj.Z1)return!0;a=this.js.ca(T.ha)-a;return 0>a||a>b;};c.prototype.hLa=function(a){var b,c;if(a.g0){if(a.G===this.FA)return;b=this.cm(a.G);c=b.va;c&&ua.Wb(c.uy)&&ua.Wb(c.eC)&&b.Cu({pr_ats:c.uy,pr_at:c.eC});this.fireEvent(ka.U.CG,{G:this.FA});this.FA=a.G;a.nB||this.lQa();this.mG=this.Ia.a1;this.fa.Gk||(this.fa.Gk=this.qa.Zb().ca(T.ha));}("boolean"===typeof this.Ua.DF?this.Ua.DF:K.config.DF)&&!a.nB&&this.Fma.DF(this);this.fireEvent(ka.U.No,a);};c.prototype.oeb=function(){try{this.WL=new Sa.$oa(this);this.Pu=this.PZ.create(this,this.fa,!0);K.config.Qab&&new Oa.rqa(this,this.Mh,this.log);K.config.KL&&this.KL(this);this.GHb();}catch(Ia){this.Kn(u.J.tZa,{da:u.u.yh,nb:O.Ee(Ia)});}};c.prototype.GHb=function(){this.Mi?this.Sd(this.Mi):ua.rga(this.G)?this.lbb():this.Kn(u.J.gZa,{nb:""+this.G});};c.prototype.lbb=function(){var a;a=m.wC.YQa;a?a.aa?this.Uaa():this.Kn(u.J.vra,a):(U.eb(!K.config.bX),this.l$());};c.prototype.Uaa=function(){var a;a=this;!this.background&&K.config.Uaa?C.x6(function(){a.l$();},this):this.l$();};c.prototype.l$=function(){var a;a=this;this.state.value==ka.mb.LOADING&&(K.config.Oca&&!this.qB()?m.wC.lA(C.Fua,function(b){b.aa?(a.NZ=b.NZ,K.config.Y0?a.tL():a.fla()):a.Kn(u.J.ura);},!0):K.config.Y0?this.tL():this.fla());};c.prototype.fla=function(){var a;a=this;this.state.value==ka.mb.LOADING&&(this.cd("ic"),this.oxb.$Bb(function(b){b.error&&a.log.error("Error sending persisted playdata",u.Un(b));try{a.tL();}catch(fb){a.log.error("playback.authorize threw an exception",fb);a.Kn(u.J.YUa,{da:u.u.yh,nb:O.Ee(fb)});}}));};c.prototype.tL=function(){var a,b;a=this;if(this.state.value==ka.mb.LOADING){this.log.info("Authorizing",this);b=this.qa.Zb().ca(T.ha);this.cd("ats");this.WL.tL(function(c){var f;if(a.state.value==ka.mb.LOADING){a.cd("at");f=a.va;a.Cu({pr_ats:f&&ua.Wb(f.uy)?f.uy:b,pr_at:f&&ua.Wb(f.eC)?f.eC:a.qa.Zb().ca(T.ha)});c.aa?0<a.cc.oj.length&&a.cc.xW&&a.cc.Xba&&a.cc.Wba?a.Cyb():a.Kn(u.J.$Za,a.Cha(a.cc)):a.Kn(u.J.MANIFEST,c);}});}};c.prototype.Cyb=function(){var a;a=this;this.vOa?(this.log.info("Processing post-authorize",this),this.vOa(this,function(b){b.aa?a.CTa():a.Kn(u.J.yZa,b);})):this.CTa();};c.prototype.CTa=function(){var b,c,f,h;b=this;if(this.state.value==ka.mb.LOADING){c={};this.Bm=q.Yk;K.config.ojb&&this.Bm.IL();q.Xc.set(a(152)(K.config),!0,A.wg("ASE"));q.Xc.set({maxNumberTitlesScheduled:K.config.zOa?K.config.zOa.maxNumberTitlesScheduled:1},!0,this.ge);K.config.Ccb&&3E5>this.va.Mf.duration?q.Xc.cH({expandDownloadTime:!1},!0,this.ge):q.Xc.cH({expandDownloadTime:q.Xc.eOa().expandDownloadTime},!0,this.ge);this.background||K.config.Qxb&&"postplay"===this.le?q.Xc.cH({initBitrateSelectorAlgorithm:"historical"},!0,this.ge):q.Xc.cH({initBitrateSelectorAlgorithm:q.Xc.eOa().initBitrateSelectorAlgorithm},!0,this.ge);h=this.mg&&this.mg.value&&this.mg.value.dc;h&&h.length&&(f=h[0].Nf);q.Xc.cH(K.eba(this.Ua.Oi,this.Ua.qZ,f),!0,this.ge);c=this.Tc.FB(c,K.fba(this.le));this.sEb=q.Xc.xo(c);k.platform.events.emit("networkchange",this.cc.tCb);this.Bm.U1({ZM:function(){return b.ZM();},uN:function(){return b.uN();}});this.Pxb();}};c.prototype.bfb=function(){var a,b,c,p,l;a=this;try{this.Fb=new h.Ssa(this);this.Fb.open();b=new Promise(function(b){a.Fb.addEventListener(ga.ai.MRa,b);});this.Pi=new Q.Wsa(this);c={xf:!1,nI:K.config.nI,Y1:K.config.WW,TN:!1,Ii:!this.Lu,VB:!!this.Ua.qZ,ja:this.Ua.ja,RHb:this.cc.xW.Gm===z.Sm.NONE};p={SB:this.log,ll:this.ll,sessionId:this.G+"-"+this.ga,ga:this.ga,OB:this.fk,Ih:ya.Gh?ya.Gh.Ih:void 0,qx:0===K.config.rM||0!==this.ga%K.config.rM?!1:!0};this.gFa=p.qx;l=this.cm(this.G).La;this.Eb=this.Bm.tn(this.va.Mf,[this.cc.lEa,this.cc.rEa],this.S,c,p,void 0,{Xd:function(){return a.$b.value;},SHa:function(){return a.playbackRate.value;},Cea:function(){return a.Fb;}},this.sEb,this.Aba(this.G),l);this.Q8a(this.Eb);b.then(function(){a.state.value!==ka.mb.CLOSING&&a.state.value!==ka.mb.CLOSED&&a.Eb.open();});this.$b.set(this.S);this.On=new f.Twa(this);if("boolean"===typeof this.Ua.x0?this.Ua.x0:K.config.x0)this.nQ=new r.Uwa(this);this.UP();C.z6.forEach(function(b){b(a);});this.$ub();}catch(jb){this.Kn(u.J.vZa,{da:u.u.yh,nb:O.Ee(jb)});}};c.prototype.avb=function(){U.eb(this.state.value==ka.mb.uD);this.ef=this.qa.Zb().ca(T.ha);this.state.set(ka.mb.LOADING);M._cad_global.prefetchEvents&&M._cad_global.prefetchEvents.wxb(this.G);};c.prototype.Kn=function(a,b){this.done||(this.done=!0,b instanceof Ea.Cc?this.Sd(this.he(b.code,b)):this.Sd(this.he(a,b)));};c.prototype.KL=function(a){var c,f;function b(){var b,f;b=l.pr.dea()+"";f=a.iaa[b];f||(f=a.iaa[b]=[]);f.push(c.qa.Zb().ca(T.ha));c.log.trace("charging change event",{level:l.pr.xHa(),charging:l.pr.dea()});}c=this;f=l.pr.fWa;l.pr.addEventListener(f,b);a.addEventListener(ka.U.uf,function(){l.pr.removeEventListener(f,b);});};c.prototype.Ola=function(a){var b;b=this;if(this.state.value==ka.mb.uD||this.state.value==ka.mb.LOADING||this.state.value==ka.mb.qd){this.ge.info("Playback closing",this,a?{ErrorCode:a.IW}:void 0);this.oo("Closing");N.Fe.removeListener(N.il,this.fNa);this.Mi=a;this.WFa();this.Eb&&this.Eb.flush();try{this.Jb.Ub(ka.U.uf,{movieId:this.FA});}catch(fb){this.ge.error("Unable to fire playback closing event",fb);}this.state.set(ka.mb.CLOSING);this.fa.eW=this.eB();this.KUa();this.CDb||sa.ic(function(){return b.EPa();});}};c.prototype.XFa=function(){var a;a=this.$b.value;this.lrb!=a&&(this.lrb=a,this.Jb.Ub(ka.U.mma));};c.prototype.EPa=function(){var a,b;a=this;U.eb(this.state.value==ka.mb.CLOSING);b=this.NZ;this.NZ=void 0;b?m.wC.release(b,function(b){U.eb(b.aa);a.$aa();}):this.$aa();};c.prototype.KUa=function(){this.Eb&&(this.Eb.close(),this.Eb.yc());this.Bm&&this.Mi&&this.Bm.IL();delete this.Eb;delete this.Bm;};c.prototype.$aa=function(){var a;this.$aa=g.Ke;U.eb(this.state.value==ka.mb.CLOSING);a=C.Lm.indexOf(this);U.eb(0<=a);C.Lm.splice(a,1);this.state.set(ka.mb.CLOSED);this.Jb.Ub(ka.U.closed,void 0,!0);this.Jb.tg();delete this.wf;this.fa.B_();};c.prototype.vBa=function(){this.Ua.playbackState&&("number"===typeof this.Ua.playbackState.volume&&this.volume.set(this.Ua.playbackState.volume),"boolean"===typeof this.Ua.playbackState.muted&&this.muted.set(this.Ua.playbackState.muted));};c.prototype.WFa=function(){this.Jb.Ub(ka.U.zRa,{IQ:this.IQ});};c.prototype.ACb=function(a,b){var c;c=this.oj.filter(function(b){return b.id===a;})[0];c&&this.gc[b].set(c);};c.prototype.FG=function(){return{AudioBufferLength:this.nL(),VideoBufferLength:this.GQ()};};c.prototype.zV=function(){if(this.Eb)return this.Eb.dZ(!1);};c.prototype.ZM=function(){return this.gza;};c.prototype.uN=function(){this.gza++;};c.prototype.$ub=function(){this.state.value==ka.mb.LOADING&&this.state.set(ka.mb.qd);};c.prototype.JDa=function(a){var b,c;a=void 0===a?this.G:a;b=void 0;c=this.cm(a);a=this.gB(a).filter(function(a){var f;f=c.fO.xs(a);f&&(b=b||[],b.push({stream:a,tF:f}));return!f;});0===a.length&&this.log.error("FilteredVideoStreamList is empty. Media stream filters are not setup correctly.");for(var f=0;f<a.length;f++)a[f].lower=a[f-1],a[f].yob=a[f+1];return{Ac:a,Bgb:b};};c.prototype.Aba=function(a){var b,c,f,h,p,l,d;a=void 0===a?this.G:a;b=this.JDa(a);c=b.Ac;f=b.Bgb;h=[];this.gB(a).forEach(function(a){-1==h.indexOf(a.Nf)&&h.push(a.Nf);});p=null;l=null;c.forEach(function(a){null===p?l=p=a.O:l<a.O?l=a.O:p>a.O&&(p=a.O);});d=[];h.forEach(function(a){var b;b={ranges:[],profile:a};p&&l&&(b.ranges.push({min:p,max:l}),f&&(b.disallowed=f.filter(function(b){return b.stream.Nf===a;})),d.push(b));});return d;};na.Object.defineProperties(c.prototype,{mv:{configurable:!0,enumerable:!0,get:function(){var a;a=this;return Object.keys(this.iH).map(function(b){return a.iH[b];});}},fa:{configurable:!0,enumerable:!0,get:function(){return this.iH[this.FA];}},YJa:{configurable:!0,enumerable:!0,get:function(){return 1===this.mv.length;}},S:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.tA?this.tA:this.mv[0].Ua.S||0;}},cc:{configurable:!0,enumerable:!0,get:function(){return this.fa.cc;},set:function(a){this.fa.cc=a;}},yX:{configurable:!0,enumerable:!0,get:function(){return this.fa.Ua.yX;}},zX:{configurable:!0,enumerable:!0,get:function(){return this.fa.Ua.zX;}},index:{configurable:!0,enumerable:!0,get:function(){return this.fa.index;}},La:{configurable:!0,enumerable:!0,get:function(){return this.fa.La;}},wf:{configurable:!0,enumerable:!0,get:function(){return this.fa.wf;},set:function(a){this.fa.wf=a;}},Gk:{configurable:!0,enumerable:!0,get:function(){return this.fa.Gk;},set:function(a){this.fa.Gk=a;}},Xt:{configurable:!0,enumerable:!0,get:function(){return this.fa.Xt;},set:function(a){this.fa.Xt=a;}},cx:{configurable:!0,enumerable:!0,get:function(){return this.fa.cx;},set:function(a){this.fa.cx=a;}},$Y:{configurable:!0,enumerable:!0,get:function(){return this.fa.$Y;},set:function(a){this.fa.$Y=a;}},va:{configurable:!0,enumerable:!0,get:function(){return this.fa.va;},set:function(a){this.fa.va=a;}},tA:{configurable:!0,enumerable:!0,get:function(){return this.fa.tA;},set:function(a){this.fa.tA=a;}},fQ:{configurable:!0,enumerable:!0,get:function(){return this.fa.fQ;},set:function(a){this.fa.fQ=a;}},Ua:{configurable:!0,enumerable:!0,get:function(){return this.fa.Ua;},set:function(a){this.fa.Ua=a;}},Pu:{configurable:!0,enumerable:!0,get:function(){return this.fa.Pu;},set:function(a){this.fa.Pu=a;}},qm:{configurable:!0,enumerable:!0,get:function(){return this.fa.qm;}},G:{configurable:!0,enumerable:!0,get:function(){return this.fa.G;}},le:{configurable:!0,enumerable:!0,get:function(){return this.fa.le;}},nn:{configurable:!0,enumerable:!0,get:function(){return this.fa.nn;}},Hm:{configurable:!0,enumerable:!0,get:function(){return this.fa.Hm;}},Fv:{configurable:!0,enumerable:!0,get:function(){return this.fa.Fv;}},Fk:{configurable:!0,enumerable:!0,get:function(){return this.fa.Fk;}},hg:{configurable:!0,enumerable:!0,get:function(){return this.fa.hg;}},Lu:{configurable:!0,enumerable:!0,get:function(){return this.fa.Lu;}},rq:{configurable:!0,enumerable:!0,get:function(){return this.fa.rq;}},ik:{configurable:!0,enumerable:!0,get:function(){return this.fa.ik;}},oj:{configurable:!0,enumerable:!0,get:function(){return this.fa.oj;}},f0:{configurable:!0,enumerable:!0,get:function(){return this.fa.f0;}},yr:{configurable:!0,enumerable:!0,get:function(){return this.fa.yr;},set:function(a){this.fa.yr=a;}},ga:{configurable:!0,enumerable:!0,get:function(){return this.fa.ga;}},Vh:{configurable:!0,enumerable:!0,get:function(){return this.fa.Vh;}},xk:{configurable:!0,enumerable:!0,get:function(){return this.fa.xk;}},mG:{configurable:!0,enumerable:!0,get:function(){return this.fa.mG;},set:function(a){this.fa.mG=a;}},fk:{configurable:!0,enumerable:!0,get:function(){return this.fa.fk;}},lC:{configurable:!0,enumerable:!0,get:function(){return this.fa.lC;}},background:{configurable:!0,enumerable:!0,get:function(){return this.fa.background;},set:function(a){this.fa.background=a;}},Gba:{configurable:!0,enumerable:!0,get:function(){return this.fa.Gba;}},ld:{configurable:!0,enumerable:!0,get:function(){return this.fa.ld;}},qn:{configurable:!0,enumerable:!0,get:function(){return this.fa.qn;}},wca:{configurable:!0,enumerable:!0,get:function(){return this.fa.wca;}},fO:{configurable:!0,enumerable:!0,get:function(){return this.fa.fO;}},Ug:{configurable:!0,enumerable:!0,get:function(){return{MovieId:this.G,TrackingId:this.Vh,Xid:this.ga};}}});b.Iua=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.U6=void 0;b.U6="RepositionTraceSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.C6=void 0;b.C6="PlaybackInfoPanelFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.E2=void 0;b.E2="BandwidthMeterFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tm=void 0;d=b.Tm||(b.Tm={});d[d.xS=0]="NOT_LOADED";d[d.LOADING=1]="LOADING";d[d.LOADED=2]="LOADED";d[d.jJ=3]="LOAD_FAILED";d[d.Eta=4]="PARSE_FAILED";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.x7=void 0;b.x7="TrickPlayManagerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.n6=void 0;b.n6="PboRequestFactorySymbol";},function(d,b,a){var h,f;function c(a){return!(!a||!a.PB&&!a.pboc||!a.code&&!a.code);}function k(a){return!(!a||!a.ad);}function m(a){return!!(a instanceof Error);}function t(a){switch(a){case"ACCOUNT_ON_HOLD":return f.u.b0a;case"STREAM_QUOTA_EXCEEDED":return f.u.f0a;case"INSUFFICICENT_MATURITY":return f.u.h0a;case"TITLE_OUT_OF_WINDOW":return f.u.n0a;case"CHOICE_MAP_ERROR":return f.u.e0a;case"BadRequest":return f.u.j0a;case"Invalid_SemVer_Format":return f.u.i0a;case"RESTRICTED_TO_TESTERS":return f.u.m0a;case"AGE_VERIFICATION_REQUIRED":return f.u.c0a;case"BLACKLISTED_IP":return f.u.d0a;case"DEVICE_EOL_WARNING":return f.u.N5;case"DEVICE_EOL_FINAL":return f.u.Fta;case"INCORRECT_PIN":return f.u.Jta;case"MOBILE_ONLY":return f.u.l0a;case"MDX_CONTROLLER_CTICKET_INVALID":return f.u.k0a;case"VIEWABLE_RESTRICTED_BY_PROFILE":return f.u.o0a;case"RESET_DEVICE":return f.u.Ita;case"RELOAD_DEVICE":return f.u.Hta;case"EXIT_DEVICE":return f.u.Gta;default:return f.u.Eqa;}}function q(a,b){return new h.Cc(a,t(b.code),"BadRequest"===b.code?f.cS.HVa:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert,b.alertTag);}function l(a,b){return new h.Cc(a,b.ad,b.mh,void 0,b.cs,b.message,b.sF,b.data);}Object.defineProperty(b,"__esModule",{value:!0});b.mCa=b.nCa=b.Ejb=b.Ijb=b.$l=b.Hjb=b.DN=b.Npb=b.QJa=void 0;h=a(47);f=a(2);b.QJa=c;b.Npb=k;b.DN=m;b.Hjb=t;b.$l=function(a,b){return k(b)?l(a,b):c(b)?q(a,b):m(b)?h.Cc.GX(a,b):new h.Cc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,b);};b.Ijb=q;b.Ejb=l;b.nCa=function(a,b,c,f,h){var p,l,d,q;p=b.UQa[c];if(void 0===p)throw{PB:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no configuration information",detail:b};l=p.version;if(void 0===l)throw{PB:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no version information",detail:b};d=b.pG&&p.serviceNonMember?p.serviceNonMember:p.service;if(void 0===d)throw{PB:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no service information",detail:b};q=p.orgOverride;if(void 0===q&&(q=b.wNa,void 0===q))throw{PB:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no organization information",detail:b};return p.isPlayApiDirect?a.rmb(f)+"/"+q+"/"+d+"/"+l:a.jmb(f)+"/"+q+"/"+d+"/"+l+"/"+(void 0===h?"router":h);};b.mCa=function(a,b){var c;c={"Content-Type":"text/plain"};b=b();a.VAa&&b&&(c["X-Esn"]=b.Ih);return c;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.g7=b.z5=b.v7=void 0;b.v7="TransportFactorySymbol";b.z5="MslTransportSymbol";b.g7="SslTransportSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.a6=void 0;b.a6="PboDispatcherSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.o5=void 0;b.o5="MediaRequestConstructorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.p5=b.K5=void 0;b.K5="OpenConnectSideChannelSymbol";b.p5="MediaRequestDownloaderSymbol";},function(d,b,a){var H,K,E;function c(a,b,c){this.type=a;this.size=b;this.gx=c;}function k(a){var b,f,h,p,l;a:{b=a.position;if(8<=a.gl()){f=a.Oa();h=a.qs(4);if(!K.test(h))throw a.seek(b),Error("mp4-badtype");if(1==f){if(8>a.gl()){a.seek(b);b=void 0;break a;}f=a.Bg();}if(!(8<=f))throw a.seek(b),Error("mp4-badsize");if("uuid"==h){if(16>a.gl()){a.seek(b);b=void 0;break a;}h=a.sy();}b={type:h,offset:b,size:f,gx:b+f-a.position};}else b=void 0;}if(b&&b.gx<=a.gl()){p=b.type;f=b.size;l=b.gx;h=new c(p,f,l);p=E[p];if(a.gl()<l)throw Error("mp4-shortcontent");p?(l=new H(a.te(l)),p(h,l)):a.skip(l);a.seek(b.offset);h.raw=a.te(f);return h;}}function m(a,b){for(var c=[],f={},h,p;0<b.gl();){h=k(b);if(!h)throw Error("mp4-badchildren");p=h.type;c.push(h);f[p]||(f[p]=h);}a.children=c;a.tda=f;}function t(a,b){a.version=b.zc(1);a.df=b.zc(3);}function q(a,b){b.skip(6);a.lfb=b.Ob();b.skip(8);a.channelCount=b.Ob();a.jC=b.Ob();b.skip(4);a.sampleRate=b.Ob();b.skip(2);m(a,b);}function l(a,b){var c;b.skip(6);a.lfb=b.Ob();b.skip(16);a.width=b.Ob();a.height=b.Ob();a.CSb=b.Oa();a.TVb=b.Oa();b.skip(4);a.Ajb=b.Ob();c=b.hf();a.$bb=b.qs(c);b.skip(31-c);a.depth=b.Ob();b.skip(2);m(a,b);}function h(a,b){t(a,b);a.jRb=b.zc(3);a.kRb=b.hf();a.Rr=b.te(16);}function f(a,b){for(var c=[],f;b--;)f=a.Ob(),c.push(a.te(f));return c;}function p(a){var b;b=a.te(2);a={WUb:b[1]>>1&7,VUb:!!(b[1]&1),OUb:a.Ob()};g(a,(b[0]<<8|b[1])>>4);return a;}function g(a,b){a.PUb=b>>4&3;a.UUb=b>>2&3;a.SUb=b&3;return a;}H=a(639);K=/^[a-zA-Z0-9-]{4,4}$/;c.prototype.Dx=function(a){var b,c,f,h,p;b=this;a=a.split("/");for(h=0;h<a.length&&b;h++){f=a[h].split("|");c=void 0;for(p=0;p<f.length&&!c;p++)c=f[p],c=b.tda&&b.tda[c];b=c;}return b;};c.prototype.toString=function(){return"["+this.type+"]";};E={ftyp:function(a,b){a.hTb=b.qs(4);a.ITb=b.Oa();for(a.Sbb=[];4<=b.gl();)a.Sbb.push(b.qs(4));},moov:m,sidx:function(a,b){t(a,b);a.EUb=b.Oa();a.pma=b.Oa();a.zca=1<=a.version?b.Bg():b.Oa();a.wda=1<=a.version?b.Bg():b.Oa();b.skip(2);for(var c=b.Ob(),f=[],h,p;c--;){h=b.Oa();p=h>>31;if(0!==p)throw Error("mp4-badsdix");h&=2147483647;p=b.Oa();b.skip(4);f.push({size:h,duration:p});}a.FUb=f;},moof:m,mvhd:function(a,b){var c;t(a,b);c=1<=a.version?8:4;a.Fh=b.zc(c);a.modificationTime=b.zc(c);a.pma=b.Oa();a.duration=b.zc(c);a.dPa=b.cP();a.volume=b.q0();b.skip(70);a.TTb=b.Oa();},pssh:function(a,b){var c;t(a,b);a.Zgb=b.sy();c=b.Oa();a.data=b.te(c);},trak:m,mdia:m,minf:m,stbl:m,stsd:function(a,b){t(a,b);b.Oa();m(a,b);},encv:l,avc1:l,hvcC:l,hev1:l,mp4a:q,enca:q,"ec-3":q,avcC:function(a,b){a.version=b.hf();a.mQb=b.hf();a.zUb=b.hf();a.lQb=b.hf();a.ZSb=(b.hf()&3)+1;a.eVb=f(b,b.hf()&31);a.oUb=f(b,b.hf());},pasp:function(a,b){a.wSb=b.Oa();a.RVb=b.Oa();},sinf:m,frma:function(a,b){a.eRb=b.qs(4);},schm:function(a,b){t(a,b);a.uBb=b.qs(4);a.ZUb=b.Oa();a.df&1&&(a.YUb=b.Xja());},schi:m,tenc:h,mvex:m,trex:function(a,b){t(a,b);a.ab=b.Oa();a.Ofb=b.Oa();a.pF=b.Oa();a.pEa=b.Oa();a.oEa=p(b);},traf:m,tfhd:function(a,b){var c;t(a,b);a.ab=b.Oa();c=a.df;c&1&&(a.oQb=b.Bg());c&2&&(a.RUb=b.Oa());c&8&&(a.pF=b.Oa());c&16&&(a.pEa=b.Oa());c&32&&(a.oEa=p(b));},saio:function(a,b){t(a,b);a.df&1&&(a.t$a=b.Oa(),a.u$a=b.Oa());for(var c=1<=a.version?8:4,f=b.Oa(),h=[];f--;)h.push(b.zc(c));a.sQa=h;},mdat:function(a,b){a.data=b.te(b.gl());},tkhd:function(a,b){var c;t(a,b);c=1<=a.version?8:4;a.Fh=b.zc(c);a.modificationTime=b.zc(c);a.ab=b.Oa();b.skip(4);a.duration=b.zc(c);b.skip(8);a.orb=b.Ob();a.l9a=b.Ob();a.volume=b.q0();b.skip(2);b.skip(36);a.width=b.cP();a.height=b.cP();},mdhd:function(a,b){var c;t(a,b);c=1<=a.version?8:4;a.Fh=b.zc(c);a.modificationTime=b.zc(c);a.pma=b.Oa();a.duration=b.zc(c);c=b.Ob();a.language=String.fromCharCode((c>>10&31)+96)+String.fromCharCode((c>>5&31)+96)+String.fromCharCode((c&31)+96);b.skip(2);},mfhd:function(a,b){t(a,b);a.dVb=b.Oa();},tfdt:function(a,b){t(a,b);a.wL=b.zc(1<=a.version?8:4);8==b.gl()&&b.skip(8);},saiz:function(a,b){t(a,b);a.df&1&&(a.t$a=b.Oa(),a.u$a=b.Oa());for(var c=b.hf(),f=b.Oa(),h=[];f--;)h.push(c||b.hf());a.TUb=h;},trun:function(a,b){var c,f;t(a,b);c=b.Oa();f=a.df;f&1&&(a.gRb=b.Oa());f&4&&(a.WRb=p(b));for(var h=[],l;c--;)l={},f&256&&(l.duration=b.Oa()),f&512&&(l.size=b.Oa()),f&1024&&(l.df=b.Oa()),f&2048&&(l.WQb=b.Oa()),h.push(l);a.bp=h;},sdtp:function(a,b){t(a,b);for(var c=[];0<b.gl();)c.push(g({},b.hf()));a.bp=c;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){t(a,b);a.fileSize=b.Bg();a.pma=b.Bg();a.duration=b.Bg();a.bNa=b.Bg();a.iVb=b.Bg();1<=a.version&&(a.OTb=b.Bg(),a.PTb=b.Oa(),a.cNa=b.Bg(),a.ZFa=b.Oa(),a.LFa=b.sy());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){t(a,b);a.df&1&&(a.cQb=b.zc(3),a.VSb=b.hf(),a.Vqb=b.sy());a.NUb=b.Oa();a.s$a=b.te(b.gl());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){t(a,b);a.F_=b.Oa();a.nM=b.Ob();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":h,"636F6D2E-6E65-7466-6C69-782E6974726B":m,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){t(a,b);a.BV=b.sy();a.Fh=b.Bg();a.G=b.Bg();a.pl=b.Bg();a.J0=b.Ob();a.K0=b.Ob();a.Yqb=b.te(16);a.JEb=b.te(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){t(a,b);a.CQb=b.te(b.gl());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var c;t(a,b);a.OBb=b.Bg();c=b.Oa();a.Ta=[];for(var f=0;f<c;f++)a.Ta.push({duration:b.Oa(),size:b.Ob()});},"636F6D2E-6E65-7466-6C69-782E69736567":m,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var c;t(a,b);a.BV=b.sy();a.duration=b.Oa();c=b.Oa();a.bp=[];for(var f=0;f<c;f++)a.bp.push({rj:b.Oa(),duration:b.Oa(),M_:b.Ob(),N_:b.Ob(),l1:b.Ob(),m1:b.Ob(),Pr:b.Bg(),jG:b.Oa()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var c,f,p,l;t(a,b);c=b.Oa();f=b.hf();a.bp=[];for(var h=0;h<c;h++){p=b.hf();l=p>>6;p=p&63;0!=l&&0===p&&(p=f);a.bp.push({mFa:l,tG:b.te(p)});}}};d.R={CUb:function(a,b){a=new H(a);b&&a.seek(b);return k(a);},Vja:function(a,b){var c;if(!a)throw Error("mp4-badinput");a=new H(a);c=[];for(b&&a.seek(b);b=k(a);)c.push(b);return c;}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.W2=void 0;b.W2="ChunkMediaSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.n5=void 0;b.n5="MediaHttpSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.J6=void 0;b.J6="PrefetchEventsConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.L7=void 0;b.L7="WindowUtilsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.G5=void 0;b.G5="NfCryptoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.T4=void 0;b.T4="LogDisplayConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.B3=b.C3=void 0;b.C3="DxManagerSymbol";b.B3="DxManagerProviderSymbol";},function(d,b,a){var c,k,m,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.GJ=b.TC=b.Aoa=b.zoa=b.yoa=void 0;c=a(0);k=a(1);m=a(22);t=a(23);q=a(662);l=a(9);b.yoa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.zoa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.Aoa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.TC="";d=function(){var f;function a(a,b,c){this.Sc=a;this.is=b;this.prefix=c;this.TO=this.Fn=!1;this.pCa=new q.axa(b);}a.prototype.show=function(){this.Fn||(this.mcb(),this.eF&&l.$d.body.appendChild(this.eF),this.Ff&&l.$d.body.appendChild(this.Ff),this.zL&&l.$d.body.appendChild(this.zL),this.xC&&l.$d.getElementsByTagName("head")[0].appendChild(this.xC),this.Fn=!0,this.refresh());};a.prototype.Fo=function(){this.Fn&&(this.Ff&&l.$d.body.removeChild(this.Ff),this.zL&&l.$d.body.removeChild(this.zL),this.eF&&l.$d.body.removeChild(this.eF),this.xC&&l.$d.getElementsByTagName("head")[0].removeChild(this.xC),this.xC=this.hQ=this.eF=this.zL=this.Ff=void 0,this.Fn=!1);};a.prototype.toggle=function(){this.Fn?this.Fo():this.show();};a.prototype.IFb=function(){(this.TO=!this.TO)||this.refresh();};a.prototype.zkb=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("div."+a+"-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("select."+a+"-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};a.prototype.mcb=function(){var a;a=this;this.xC=l.$d.createElement("style");this.xC.type="text/css";this.xC.innerHTML=this.zkb(this.prefix);this.zL=this.Sc.createElement("div",b.yoa,void 0,{"class":this.prefix+"-display-blur"});this.Ff=this.Sc.createElement("div",b.zoa,void 0,{"class":this.prefix+"-display"});this.eF=this.Sc.createElement("div",b.Aoa,void 0,{"class":this.prefix+"-display"});this.QGa().forEach(function(b){return a.eF.appendChild(b);});};a.prototype.pcb=function(a){a=this.Sc.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),c=0;c<b.length;c++)b[c].addEventListener("click",function(a){var b,c;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{c=a.querySelectorAll(":scope .open");for(a=0;a<c.length;a++)c[a].classList.remove("open");}catch(N){}}else b.add("open");}});return a;};a.prototype.refresh=function(){var a;a=this;return!this.Fn||this.TO?Promise.resolve():this.BPa().then(function(b){if(b&&(b=a.pcb(b),a.Ff)){a.hQ&&(a.Ff.removeChild(a.hQ),a.hQ=void 0);a.hQ=b;a.Ff.appendChild(a.hQ);b=a.Ff.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var c=0;c<b.length;++c)b[c].addEventListener("click",a.nQa);(b=a.Ff.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}});};f=a;return f=c.__decorate([k.N(),c.__param(0,k.l(m.Ve)),c.__param(1,k.l(t.Ie)),c.__param(2,k.Wh())],f);}();b.GJ=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.A3=void 0;b.A3="DxDisplaySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.c6=b.FS=void 0;b.FS={FN:"keepAlive",splice:"splice"};b.c6="PboEventSenderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.D6=void 0;b.D6="PlaydataConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z5=void 0;b.Z5="PboCachedPlaydataSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.e6=void 0;b.e6="PboLicenseRequestTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.m6=void 0;b.m6="PboReleaseLicenseCommandSymbol";},function(d,b,a){var q,l,h,f,p,g;function c(a){var b;a=new h.h3(a);if(1481462272!=a.Oa())throw Error("Invalid header");b={XMR:{Version:a.Oa(),RightsID:a.Ef(16)}};k(a,b.XMR,a.buffer.length);return b;}function k(a,b,c){var f,h,p,l,d;for(;a.position<c;){f=a.Ob();h=a.Oa();h=h-8;switch(f){case 1:p="OuterContainer";break;case 2:p="GlobalPolicy";break;case 3:p="MinimumEnvironment";break;case 4:p="PlaybackPolicy";break;case 5:p="OutputProtection";break;case 6:p="UplinkKID";break;case 7:p="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:p="AnalogVideoOutputConfiguration";break;case 9:p="KeyMaterial";break;case 10:p="ContentKey";break;case 11:p="Signature";break;case 12:p="DeviceIdentification";break;case 13:p="Settings";break;case 18:p="ExpirationRestriction";break;case 42:p="ECCKey";break;case 48:p="ExpirationAfterFirstPlayRestriction";break;case 50:p="PlayReadyRevocationInformationVersion";break;case 51:p="EmbeddedLicenseSettings";break;case 52:p="SecurityLevel";break;case 54:p="PlayEnabler";break;case 57:p="PlayEnablerType";break;case 85:p="RealTimeExpirationRestriction";break;default:p="Other";}l={Type:m(f)};d=b[p];d?g.isArray(d)?d.push(l):(b[p]=[],b[p].push(d),b[p].push(l)):b[p]=l;switch(f){case 1:case 2:case 4:case 7:case 9:case 54:k(a,l,a.position+h);break;case 5:l.Reserved1=a.Ob();l.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Ob();l.MinimumAnalogVideoOutputProtectionLevel=a.Ob();l.Reserved2=a.Ob();l.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Ob();break;case 10:l.Reserved=a.Ef(16);l.SymmetricCipherType=a.Ob();l.AsymmetricCipherType=a.Ob();h=a.Ob();l.EncryptedKeyLength=h;f=a.Ef(h);l.EncryptedKeyData=10>=h?f:f.substring(0,4)+"..."+f.substring(f.length-4,f.length);break;case 11:l.SignatureType=a.Ef(2);h=a.Ob();f=a.Ef(h);l.SignatureData=10>=h?f:f.substring(0,4)+"..."+f.substring(f.length-4,f.length);break;case 13:l.Reserved=a.Ob();break;case 18:l.BeginDate=a.Oa();l.EndDate=a.Oa();break;case 42:l.CurveType=a.Ef(2);h=a.Ob();f=a.Ef(h);l.Key=10>=h?f:f.substring(0,4)+"..."+f.substring(f.length-4,f.length);break;case 48:l.ExpireAfterFirstPlay=a.Oa();break;case 50:l.Sequence=a.Oa();break;case 51:l.LicenseProcessingIndicator=a.Ob();break;case 52:l.MinimumSecurityLevel=a.Ob();break;case 57:l.PlayEnablerType=t(a.Ef(16));break;case 85:break;default:l.OtherData=a.Ef(h);}}}function m(a){return"0x"+a.toString(16);}function t(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.Bfb=b.Cfb=b.Afb=b.zfb=b.yfb=void 0;q=a(10);l=a(5);h=a(199);f=a(121);p=a(202);g=a(14);b.yfb=function(a,b,h){switch(b){case q.zR:a&&(a=l.VBa(a),p.ina(a,function(a){a.aa&&(a=a.object)&&(a=f.VGa(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=f.UNa(a))&&(a=l.Ep(a))&&(a=c(a))&&h(a);}));}};b.zfb=c;b.Afb=k;b.Cfb=m;b.Bfb=t;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.X5=void 0;b.X5="PboAcquireLicenseCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.u4=void 0;b.u4="HttpRequesterSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.S3=void 0;b.S3="FtlDataParserSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F5=void 0;b.F5="NetworkMonitorSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.N7=void 0;b.N7="XhrFactorySymbol";},function(d,b,a){var c,k,m,t,q,l,h,f,p,g;Object.defineProperty(b,"__esModule",{value:!0});b.Dpa=void 0;c=a(0);k=a(150);m=a(77);t=a(17);q=a(2);l=a(16);h=a(9);f=a(14);p=a(1);g=a(15);d=function(){var b;function a(a){this.config=a;}a.prototype.construct=function(a,b){var c,f,h;c=this;f={};a.forEach(function(a){var b;b=a.url;f[b]||(f[b]=[]);f[b].push(a);});h=[];t.yd(f,function(a,f){h.push(c.Dnb(f,b));});return{urls:h};};a.prototype.Dnb=function(a,b){var c,h,p,l;c=this;h=a[0];p={url:h.url,bitrate:h.O,cdnid:f.Qe(h.gc)?h.gc.id:h.gc,dltype:h.Igb,id:h.gd};l={};a.forEach(function(a){var b;b=c.Upb(a)?"fail":"success";l[b]||(l[b]=[]);l[b].push(a);});t.yd(l,function(a,f){"fail"===a?p.failures=c.plb(f,b):"success"===a&&(p.downloads=c.flb(f,b));});return p;};a.prototype.flb=function(a,b){var c,f,h;c=this;f={};a.forEach(function(a){var b;b=a.Gbb;f[b]||(f[b]=[]);f[b].push(a);});h=[];t.yd(f,function(a,f){var p;p=[];f.forEach(function(f){p.push(f);c.Jpb(f)&&(h.push(c.YGa(p,b,a)),p=[]);});0<p.length&&h.push(c.YGa(p,b,a));});return h;};a.prototype.YGa=function(a,b,c){var q;for(var f=a.sort(function(a,b){return a.qk.ah<b.qk.ah?-1:a.qk.ah>b.qk.ah?1:0;}),h=f[0].qk,p=h.requestTime,l=h.ah,h=h.xm,d=1;d<a.length;d++){q=a[d].qk;q.requestTime<p&&(p=q.requestTime);q.ah<l&&(l=q.ah);q.xm>h&&(h=q.xm);}d=this.Gmb(f);q=f[f.length-1];return{time:p-b,tcpid:c?parseInt(c):-1,tresp:l-p,first:d,ranges:this.Hmb(f,d),dur:h-l,trace:this.snb(a),status:this.kY(q)};};a.prototype.Gmb=function(a){var b;b=0;a.forEach(function(a){a.sq&&(b=h.Jm(b,a.sq[0]));});return b;};a.prototype.Hmb=function(a,b){var c;c=[];a.forEach(function(a){a.sq?c.push([a.sq[0]-b,a.sq[1]-b]):c.push([0,-1]);});return c;};a.prototype.snb=function(a){var b,c;b=[];a.forEach(function(a){var f;a=a.qk;if(c){f=a.requestTime-c.xm;0<f&&b.push([f,-2]);f=h.Dl(c.xm,a.requestTime);f=a.ah-f;0<f&&b.push([f,-3]);}b.push([a.xm-a.ah,a.gx||0]);c=a;});return b;};a.prototype.Jpb=function(a){if(a.da===q.u.Sv||a.da===q.u.fz)return!0;};a.prototype.kY=function(a){if(a.aa)return"complete";if(a.da===q.u.Sv)return"abort";if(a.da===q.u.fz)return"stall";l.eb(!1,"download status should never be: other");return"other";};a.prototype.plb=function(a,b){var c,f;c=this;f=[];a.forEach(function(a){var h;h=a.qk;a={time:h.ah-b,tresp:h.ah-h.requestTime,dur:h.xm-h.ah,range:a.sq,reason:c.Jmb(a),httpcode:a.Li,nwerr:k.Iea(a.da)};f.push(a);});return f;};a.prototype.Jmb=function(a){return a.Li||a.da===q.u.bJ?"http":a.da===q.u.dJ?"timeout":"network";};a.prototype.Upb=function(a){return a.aa||void 0===a.aa||a.da===q.u.Sv||a.da===q.u.fz?!1:!0;};a.prototype.ycb=function(a){var b,c,f,h,p,l;b=a.request;c=b.stream;f=b.track;h=b.url;p=this.clb(f,h);switch(p){case m.Hg.audio:case m.Hg.video:l=b.stream.gd;break;case m.Hg.H1:case m.Hg.Gma:l=f.gd;}a={O:c&&c.O,Igb:p,gd:l,qk:a.qk,gc:b.gc,url:h,Vd:a.Vd,Li:a.Li,da:a.da,aa:a.aa,Gbb:this.uib(a)};void 0!==b.offset&&void 0!=b.length&&(a.sq=[b.offset,b.offset+b.length-1]);return a;};a.prototype.clb=function(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";};a.prototype.uib=function(a){if(a.headers&&(a=a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]))return(a=a.split(";").filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0])?t.Ld(a):a;};b=a;return b=c.__decorate([p.N(),c.__param(0,p.l(g.dd))],b);}();b.Dpa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.v5=void 0;b.v5="MilestonesEventBuilderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.u3=void 0;b.u3="DownloadReportBuilderSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.xR=void 0;c=a(48);b.xR=function(a,b){this.Pgb=a;this.size=b.NJa()?c.Dd:b;};},function(d,b,a){var k,m,t,q,l,h,f,p,g,H,K,E,G,N,C,n,r,aa,R,A,T,u,fa,U;function c(a,b,c,f,d,q,k,y,H,X,A,P,T,oa,z,F,S,fb,ib,Ta,jb,V){var O;O=this;this.j=a;this.zm=b;this.GSa=f;this.VV=d;this.Mh=q;this.Xha=k;this.cda=y;this.Cj=H;this.Tc=X;this.NW=A;this.Pe=P;this.config=T;this.Bc=oa;this.Ia=z;this.qa=F;this.platform=S;this.pm=fb;this.RN=ib;this.Dj=Ta;this.Sp=jb;this.f_=V;this.mQ=[];this.Utb=this.eZ=this.RPa=0;this.wF=[];this.w$=!1;this.Ou=function(a,b){return function(c){var f;f=b(c);if("number"!==typeof f)throw Error("Event "+JSON.stringify(c)+" does not have movie Id");f===O.G&&a(c);};};this.No=this.Ou(function(a){O.PRa(a.nB);},function(a){return a.G;});this.CG=this.Ou(function(){O.Kbb();},function(a){return a.G;});this.gI=function(){O.Kc(u.we.uFb,!1,U.$h|U.dh,{track:O.j.uc.value.Ug});};this.OSa=function(a){a.newValue&&O.rm&&(a={track:a.newValue.Ug},O.iB(a,O.j.gf.value&&O.j.gf.value.stream,O.j.ig.value&&O.j.ig.value.stream),O.Kc(u.we.vFb,!1,U.$h|U.dh,a));};this.qn=function(a){O.Kc(u.we.S$a,!1,U.$h|U.dh,a.newValue);};this.HEa=function(){var a,b,c;if(O.j.oj)try{a=!1;O.ga%O.config().rM&&!O.j.vM&&(a=!0,O.wF=O.wF.filter(function(a){return!a.aa;}));if(0<O.wF.length){b=O.NW.construct(O.wF,O.j.xk.ca(g.ha));O.wF=[];b.erroronly=a;c={};p.yd(b,function(a,b){c[a]=JSON.stringify(b);});O.Kc(u.we.Ggb,!1,U.dh,c);}}catch(Kc){O.log.error("Exception in dlreport.",Kc);}};this.d_=function(){var a,b;if(O.j.state.value==R.mb.qd){a=O.nOa();O.config().oka&&(a.avtp=O.Ky.dm().BC,O.j.Bm&&O.TY(a));a.midplayseq=O.Utb++;b=O.j.Nb.value;a.prstate=b===R.ib.Nc?"playing":b===R.ib.Bh?"paused":b===R.ib.Lq?"ended":"waiting";O.config().eCb&&O.kSa("midplay");O.config().Xo&&O.Bc()&&O.Zfa(a);O.Wfa(a);O.Xfa(a);O.Yfa(a);O.Kc(u.we.d_,!1,U.$h|U.dh|U.Pv|U.aT,a);}};this.uxa=/-?l(\d\d)/i;this.QEa=this.Ou(function(a){O.wF.push(O.NW.ycb(a.response));},function(a){return a.G;});this.MW=this.Ou(function(a){var b,c,f,h,d,q;a=a.response;b=a.request;c=a.request.Ro;f=b.track;if(f){h=!a.aa&&a.da!=K.u.Sv;d=f.type;q=a.qk;if(h||O.zm.kha){c={dltype:d,url1:b.url,url2:a.url||"",cdnid:b.gc&&b.gc.id,tresp:p.Zl(q.ah-q.requestTime),brecv:p.jGa(q.gx),trecv:p.Zl(q.xm-q.ah),sbr:c&&c.O};a.sq&&(c.range=a.sq);switch(d){case l.Hg.audio:c.adlid=b.stream.gd;break;case l.Hg.video:c.vdlid=b.stream.gd;break;case l.Hg.H1:c.ttdlid=f.gd;}(b=fa.Iea(a.da))&&(c.nwerr=b);a.Li&&(c.httperr=a.Li);O.Kc(u.we.MW,h,U.dh,c);}}},function(a){return a.G;});this.bk=function(){O.Kc(u.we.T$a,!1,U.$h|U.Pv,{browserua:r.El});};this.hDa=this.Ou(function(a){var b,c,f;a=a.response;b=a.qk;c=g.Gb(b.ah);f=g.Gb(b.xm);b=G.ba(b.gx||0);b.eKa()||b.NJa()||(c=new N.P6(c,f),O.Ky.oV(new C.xR(c,b)),a&&a.request&&a.request.Ro&&a.request.Ro.Lb&&O.VV.oV(new n.Joa(c,b,a.request.Ro.Lb)));},function(a){return a.G;});this.YNa=function(a){var b;b=a.newValue;a.kx&&a.kx.Cia&&b||b==O.Nga||(O.bEb(O.Nga,b),O.Nga=b);};this.Tt=function(a){function b(a){var b;if(O.j.Fb&&O.j.Fb.sourceBuffers){b=O.j.Fb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.kk(),updating:b.updating(),ranges:b.PX()};}}O.BH="rebuffer";a={cause:a.cause};a.cause&&a.cause===t.t6&&(a.mediaTime=O.j.$b.value,a.buf_audio=b(m.jS),a.buf_video=b(m.nD));O.hga(O.mQ[R.ib.Nc]||0,O.mQ[R.ib.Bh]||0,a);O.vI=O.getTime();aa.ic(O.WV);};this.ZSa=function(a){var b;a=a.oldValue;b=O.getTime();a===R.ib.Vf?O.mQ=[]:O.mQ[a]=(O.mQ[a]||0)+(b-O.hrb);O.hrb=b;};this.Zo=function(a){switch(a.cause){case R.ze.Xs:case R.ze.FJ:O.BH&&O.vI?O.txb(O.getTime()-O.vI,O.BH):O.rm||O.kOa(),O.BH="repos",O.pka(a.wO,a.ig,a.gf),O.vI=O.getTime(),aa.ic(O.WV);}};this.WV=function(){var a;if(O.vI&&O.j.Nb.value!==R.ib.Vf){a=O.getTime()-O.vI;O.Eka(a,O.Qh);O.Jga&&O.Jga!=O.j.ed.value&&O.f$a();O.vI=void 0;O.BH=void 0;O.Qh=void 0;}};this.Gaa=this.Ou(function(){O.j.Nb.value===R.ib.Nc&&(O.j.Nb.removeListener(O.Gaa),O.Jn());},function(){return O.j.G;});this.qL=function(a){O.arb=O.getTime();O.Jga=a.oldValue;};this.Jn=function(){O.rm||(O.rm=!0,O.s1(!1),O.ppb(),O.config().sJa&&(O.ZY=M.setTimeout(function(){O.Mh.flush(!1)["catch"](function(){return O.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});O.ZY=void 0;},O.config().sJa)));};this.uf=function(){O.ZY&&(M.clearTimeout(O.ZY),O.ZY=void 0);if(O.config().rM||O.config().mL)O.oca&&(M.clearInterval(O.oca),O.oca=void 0),O.HEa();O.xTa&&O.xTa();O.rm?O.Nca(!!O.j.Mi):O.j.Mi?O.s1(!0):O.zm.background||O.kOa();O.EBb||(O.Kc=m.Ke);};this.cDa=this.Ou(function(){O.uf();},function(a){return a.movieId;});this.iUa=function(a){a.oldValue&&a.kx&&a.kx.SCa&&O.Jaa(a.oldValue,a.newValue,a.kx.SCa,a.kx.z$a);};this.IOa=function(a){var b;if(a.newValue){b=a.newValue.stream;O.Oga!=b&&(O.Oga&&O.sAb(O.Oga,b,a.newValue.vo.startTime),O.Oga=b);}};this.Sr=this.Ou(function(a){function b(a,b){var c;if(!a||a.gha!==b.location){c={gha:b.location,JKa:b.locationlv,pCb:b.serverid,kC:b.servername};O.Yab(a,b);return c;}}if("audio"===a.mediaType){if(a=b(O.$qb,a))O.$qb=a;}else if(a=b(O.GN,a))O.GN=a;},function(a){return O.j.wu(a.segmentId).G;});this.LH=this.Ou(function(a){var b,c;b=a.mediatype;c=a.reason;"video"===b?"serverswitchaway"===c?(O.Sh.summary.nUa++,O.Sh.EZ=O.Ia.bf.ca(g.ha)):"serverswitchback"===c&&(O.Sh.summary.oUa++,O.Sh.EZ&&(O.Sh.summary.pUa.push(O.Ia.bf.ca(g.ha)-O.Sh.EZ),O.Sh.EZ=void 0)):"audio"===b&&("serverswitchaway"===c?(O.Sh.summary.ABa++,O.Sh.zZ=O.Ia.bf.ca(g.ha)):"serverswitchback"===c&&(O.Sh.summary.BBa++,O.Sh.zZ&&(O.Sh.summary.CBa.push(O.Ia.bf.ca(g.ha)-O.Sh.zZ),O.Sh.zZ=void 0)));O.Kc(u.we.rCb,!1,U.$h|U.dh,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});},function(a){return O.j.wu(a.segmentId).G;});this.PE=function(a){O.Kc(u.we.I9a,!1,U.dh,{strmsel:a.strmsel});};this.OE=function(a){O.Kc(u.we.H9a,!1,U.dh,{msg:a.msg});};this.$H=function(a){a=E.OH(a);a.details&&(a.details=JSON.stringify(a.details));O.Kc(u.we.KEb,!0,U.$h|U.xD|U.eR,a);};this.w$=Ta.Z1||Ta.a2;this.Ky=f();this.log=h.Rg(a,"LogblobBuilder");this.Nga=a.paused.value;this.G=b.G;this.ga=this.zm.ga;this.Sh={summary:{nUa:0,oUa:0,pUa:[],ABa:0,BBa:0,CBa:[]},EZ:void 0,zZ:void 0};this.Kb();c&&this.PRa();}Object.defineProperty(b,"__esModule",{value:!0});b.ksa=void 0;k=a(49);m=a(10);t=a(57);q=a(46);l=a(77);h=a(5);f=a(16);p=a(17);g=a(3);H=a(52);K=a(2);E=a(21);G=a(48);N=a(351);C=a(338);n=a(689);r=a(9);aa=a(50);R=a(12);A=a(14);T=a(688);u=a(344);fa=a(150);c.prototype.Kb=function(){this.j.addEventListener(R.U.No,this.No);this.j.addEventListener(R.U.CG,this.CG);this.j.addEventListener(R.U.Sr,this.Sr);this.j.addEventListener(R.U.LH,this.LH);this.j.addEventListener(R.U.uf,this.cDa);this.j.addEventListener(R.U.rx,this.MW,m.AS);if(this.config().rM||this.config().mL)this.j.addEventListener(R.U.rx,this.QEa),this.oca=M.setInterval(this.HEa,this.config().Ogb);this.config().oka&&this.j.addEventListener(R.U.rx,this.hDa);};c.prototype.PRa=function(a){var b;b=this;this.eMa||(this.j.Nb.value!==R.ib.Nc||(void 0===a?0:a)?this.j.Nb.addListener(this.Gaa):this.Jn(),this.j.lj.addListener(this.OSa),this.j.ed.addListener(this.qL),this.j.paused.addListener(this.YNa),this.j.gf.addListener(this.IOa),this.j.Nb.addListener(this.WV),this.j.Nb.addListener(this.ZSa),this.j.nf.addListener(this.iUa),this.j.addEventListener(R.U.bk,this.bk),this.j.addEventListener(R.U.OE,this.OE),this.j.addEventListener(R.U.PE,this.PE),this.j.addEventListener(R.U.$H,this.$H),this.j.addEventListener(R.U.Tt,this.Tt),this.j.addEventListener(R.U.Zo,this.Zo),this.j.addEventListener(R.U.gI,this.gI),this.j.addEventListener(R.U.Qh,function(){b.Qh=!0;}),this.zm.qn&&this.zm.qn.addListener(this.qn),this.config().vi&&(this.EBb=!0),this.eMa=!0);};c.prototype.Kbb=function(){this.uf();this.eMa&&(this.j.removeEventListener(R.U.No,this.No),this.j.removeEventListener(R.U.CG,this.CG),this.j.removeEventListener(R.U.Sr,this.Sr),this.j.removeEventListener(R.U.LH,this.LH),this.j.lj.removeListener(this.OSa),this.j.ed.removeListener(this.qL),this.j.paused.removeListener(this.YNa),this.j.gf.removeListener(this.IOa),this.j.Nb.removeListener(this.WV),this.j.Nb.removeListener(this.Gaa),this.j.Nb.removeListener(this.ZSa),this.j.nf.removeListener(this.iUa),this.j.removeEventListener(R.U.rx,this.MW),this.j.removeEventListener(R.U.uf,this.cDa),this.j.removeEventListener(R.U.bk,this.bk),this.j.removeEventListener(R.U.OE,this.OE),this.j.removeEventListener(R.U.PE,this.PE),this.j.removeEventListener(R.U.$H,this.$H),this.j.removeEventListener(R.U.Tt,this.Tt),this.j.removeEventListener(R.U.Zo,this.Zo),this.j.removeEventListener(R.U.gI,this.gI),this.zm.qn&&this.zm.qn.removeListener(this.qn),this.j.removeEventListener(R.U.rx,this.QEa),this.j.removeEventListener(R.U.rx,this.hDa));};c.prototype.s1=function(a){var b,c,m,k,t,y,K,G,E,N,C,n,X,P,aa,la,fa,oa,z,F,S,V,Z,ca;b={};try{b={browserua:r.El,browserhref:location.href,playdelaysdk:p.Zl(this.j.yaa()),applicationPlaydelay:p.Zl(this.j.zab()),playdelay:p.Zl(this.j.Eab()),trackid:this.j.Vh,bookmark:p.Zl(this.j.tA||0),pbnum:this.j.index,endianness:q.fHa()};this.config().Lhb&&(b.transitiontime=this.j.Gk,b.uiplaystarttime=this.j.Ua.Q1,b.playbackrequestedat=this.j.xk.ca(g.ha),b.clockgettime=this.getTime(),b.clockgetpreciseepoch=this.Ia.bf.ca(g.ha),b.clockgetpreciseappepoch=this.qa.vB.ca(g.ha),b.absolutestarttime=this.j.MX(),b.relativetime=this.j.Qea());this.LX(b,"startplay");}catch(gb){this.log.error("error in startplay log fields",gb);}this.j.bk&&(b.blocked=this.j.bk);b.configversion=this.config().version;this.config().endpoint||(b.configendpoint="error");this.j.hg&&(b.playbackcontextid=this.j.hg);this.iJa(b);if(this.config().j2&&this.j.Ua.cna){for(var f={},h=Object.keys(this.j.Ua.cna),l,d=h.length;d--;)l=h[d],f[l.toLowerCase()]=this.j.Ua.cna[l];b.vui=f;}A.ma(this.j.eCa)&&(b.bookmarkact=p.Zl(this.j.eCa));(f=this.j.ld.at&&this.j.ld.ats?this.j.ld.at-this.j.ld.ats:void 0)&&(b.nccpat=f);(f=this.j.ld.lr&&this.j.ld.lc?this.j.ld.lr-this.j.ld.lc:void 0)&&(b.nccplt=f);(f=this.Ugb())&&(b.downloadables=f);M._cad_global.device&&A.Wb(M._cad_global.device.Uca)&&(b.esnSource=M._cad_global.device.Uca);p.sb(b,this.pm,{prefix:"pi_"});(f=r.Bi&&r.Bi.connection&&r.Bi.connection.type)&&(b.nettype=f);this.j.so&&this.j.so.initBitrate&&(b.initvbitrate=this.j.so.initBitrate);this.j.so&&this.j.so.selector&&(b.selector=this.j.so.selector);b.fullDlreports=this.j.gFa;if(this.j.state.value>=R.mb.qd)try{m=this.j.ix();m&&(this.Po=q.u2(m.map(function(a){return a.O;})),this.CLa=q.u2(m.map(function(a){return a.height;})),c=0<m.length?T.qLa(m,function(a){return a.O;}):void 0,b.maxbitrate=this.Po,b.maxresheight=this.CLa);}catch(gb){this.log.error("Exception computing max bitrate",gb);}try{k=q.cN();k&&(b.pdltime=k);}catch(gb){}try{p.sb(b,this.j.ld,{prefix:"sm_"});p.sb(b,this.j.pY(),{prefix:"vd_"});}catch(gb){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&this.j.rq&&(b.pssh=this.j.rq);this.j.wf&&this.j.wf.nl&&this.j.wf.nl.keySystem&&(b.keysys=this.j.wf.nl.keySystem);if(this.config().Xo&&this.Bc())try{m={};t=this.Bc().getStats(void 0,void 0,this.j.G);y=this.j.MX();K=t.Iy.Xbb;m.attempts=t.COa||0;m.num_completed_tasks=K.length;G=this.Tc.Mib;k={};E=H.Od.xe.Rva;N=H.Od.xe.Rv;C=H.Od.xe.dR;n=H.Od.xe.HI;X=H.Od.xe.cR;t.tj&&(k.scheduled=t.tj-y);P=this.j.va;P&&A.ma(P.uy)&&(k.preauthsent=P.uy-this.j.ef,k.preauthreceived=P.eC-this.j.ef);aa=K.filter(G("type","manifest"));m.mf_succ=aa.filter(G("status",E)).length;m.mf_fail=aa.filter(G("status",N)).length;la=this.j.ld;A.Wb(la.lg)&&0>la.lg&&this.j.ef&&(k.ldlsent=la.lc,k.ldlreceived=la.lr);fa=K.filter(G("type","ldl"));m.ldl_succ=fa.filter(G("status",E)).length;m.ldl_fail=fa.filter(G("status",N)).length;t=!0;oa="ui"===this.j.Xt;k.preauthreceived&&0>k.preauthreceived||oa||(t=!1);this.config().CF||(t=!1);z=fa.filter(G("status",C)).length;F=fa.filter(G("status",n)).length;S=fa.filter(G("status",X)).length;this.config().CF&&0===z+F+S&&(!k.ldlreceived||0<=k.ldlreceived)&&(t=!1);if(this.config().WW){V=this.j.An&&this.j.An.stats;if(V){if(V.vX&&(k.headersent=V.vX-this.j.ef),V.GZ&&(k.headerreceived=V.GZ-this.j.ef),V.mH&&(k.prebuffstarted=V.mH-this.j.ef),V.c0&&(k.prebuffcomplete=V.c0-this.j.ef),!k.prebuffcomplete||0<=k.prebuffcomplete)t=!1;}else t=!1;}Z=K.filter(G("type","getHeadersAndMedia"));m.hm_succ=Z.filter(G("status",E)).length;m.hm_fail=Z.filter(G("status",N)).length;p.sb(b,m,{prefix:"pr_"});this.Sp.xM&&(b.eventlist=this.f_.RHa(this.j));b.prefetchCompleted=t;this.Zfa(b);}catch(gb){this.log.warn("error in collecting video prepare data",gb);}b.avtp=this.Ky.dm().BC;this.j.Bm&&this.TY(b);if(this.j.uc.value)try{b.ttTrackFields=this.j.uc.value.Ug;}catch(gb){}if(K=this.j.ed&&this.j.ed.value&&this.j.ed.value.dc){ca={};K.forEach(function(a){ca[a.Nf]=void 0;});b.audioProfiles=Object.keys(ca);}this.$fa(b);this.j.va&&"boolean"===typeof this.j.va.Mf.qB&&(b.isSupplemental=this.j.va.Mf.qB);b.headerCacheHit=!!this.j.An;this.j.An&&(b.headerCacheDataAudio=this.j.An.audio,b.headerCacheDataAudioFromMediaCache=this.j.An.audioFromMediaCache,b.headerCacheDataVideo=this.j.An.video,b.headerCacheDataVideoFromMediaCache=this.j.An.videoFromMediaCache);this.j.va&&(b.packageId=this.j.va.Mf.pl);this.j.va&&this.j.va.Mf.bu&&(b.hasChoiceMap=!0);this.config().gGa&&(b.forceL3WidevineCdm=!0);b.isNonMember=this.Cj.pG;this.Uqb(c);this.Tqb();this.gJa(this.j,b);this.hJa(this.j,b);this.jB(this.j,b);this.Ox(this.j,b,this.w$);this.Wfa(b);this.Xfa(b);this.Yfa(b);this.lJa(b);this.fJa(b);this.mJa(b);this.Kc(u.we.s1,a,U.$h|U.xD|U.dh|U.aT|U.Pv|U.eR|U.Q3,b);};c.prototype.Eka=function(a,b){b={playdelay:p.Zl(a),reason:this.BH,intrplayseq:this.eZ-1,skipped:b};this.jB(this.j,b);this.Kc(u.we.Eka,!1,U.$h|U.xD|U.dh,b);"rebuffer"==this.BH&&this.j.qm.z8a(Number(p.Zl(a)));};c.prototype.Jaa=function(a,b,c,f){a={moff:p.tu(c),vbitrate:b.O,vbitrateold:a.O,vdlid:b.gd,vdlidold:a.gd,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:f};this.jB(this.j,a);this.Ox(this.j,a);this.Kc(u.we.Jaa,!1,U.dh,a);};c.prototype.sAb=function(a,b,c){a={moff:p.tu(c),vdlidold:a.gd,vbitrateold:a.O};this.jB(this.j,a);this.Ox(this.j,a);this.iB(a,b,this.j.ig.value&&this.j.ig.value.stream);this.Kc(u.we.tAb,!1,U.dh,a);};c.prototype.kOa=function(){var a,b;a={waittime:p.Zl(this.j.Qea()),abortedevent:"startplay",browserua:r.El,browserhref:location.href,trackid:this.j.Vh};this.LX(a,"endplay");this.Sp.xM&&(a.eventlist=this.f_.RHa(this.j));this.j.hg&&(a.playbackcontextid=this.j.hg);this.j.so&&this.j.so.initBitrate&&(a.initvbitrate=this.j.so.initBitrate);try{b=q.cN();b&&(a.pdltime=b);p.sb(a,this.j.ld,{prefix:"sm_"});}catch(sa){}this.Ufa(a,!0);this.mJa(a);this.$fa(a);this.jJa(a);this.iB(a,this.j.nf.value,this.j.Zk.value);this.Kc(u.we.pOa,!1,U.$h|U.dh|U.Pv,a);};c.prototype.txb=function(a,b){a={waittime:p.Zl(a),abortedevent:"resumeplay",browserua:r.El,resumeplayreason:b};this.j.hg&&(a.playbackcontextid=this.j.hg);this.j.so&&this.j.so.initBitrate&&(a.initvbitrate=this.j.so.initBitrate);this.iB(a,this.j.nf.value,this.j.Zk.value);this.Kc(u.we.pOa,!1,U.$h|U.dh,a);};c.prototype.bEb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.jB(this.j,a);this.Ox(this.j,a);this.iB(a,this.j.gf.value&&this.j.gf.value.stream,this.j.ig.value&&this.j.ig.value.stream);this.Kc(u.we.dEb,!1,U.$h|U.dh,a);};c.prototype.hga=function(a,b,c){a=p.sb({vdlid:this.j.nf.value.gd,playingms:a,pausedms:b,intrplayseq:this.eZ++},c);this.LX(a,"intrplay");b=this.j.gc[k.Qc.Ma.VIDEO].value;c=this.j.gc[k.Qc.Ma.AUDIO].value;a.cdnid=a.vcdnid=b&&b.id;a.acdnid=c&&c.id;a.locid=this.GN&&this.GN.gha;a.loclv=this.GN&&this.GN.JKa;a.avtp=this.Ky.dm().BC;this.j.Bm&&(this.Ufa(a,!0),this.TY(a),this.kJa(a));try{p.sb(a,this.j.pY(),{prefix:"vd_"});}catch(ua){}this.jB(this.j,a);this.Ox(this.j,a);this.iB(a,this.j.gf.value&&this.j.gf.value.stream,this.j.ig.value&&this.j.ig.value.stream);this.Kc(u.we.hga,!1,U.$h|U.dh,a);};c.prototype.pka=function(a,b,c){a={moffold:p.tu(a),reposseq:this.RPa++};this.Ox(this.j,a);this.iB(a,c&&c.stream,b&&b.stream);this.Kc(u.we.pka,!1,U.$h|U.dh,a);};c.prototype.f$a=function(){this.Kc(u.we.k$a,!1,U.$h|U.dh,{switchdelay:p.Zl(this.getTime()-this.arb),newtrackinfo:this.j.ed.value.ab,oldtrackinfo:this.Jga.ab});};c.prototype.Yab=function(a,b){var c,f,h,p;c=b.serverid;f=b.serverrtt;h=b.serverbw;p={locid:b.location,loclv:b.locationlv,selocaid:c,selcdnid:c,selocaname:b.servername};p.mediatype=b.mediatype;p.selcdnrtt=f;p.selcdnbw=h;p.selreason=b.selreason||"unknown";p.testreason=b.testreason;p.fastselthreshold=b.fastselthreshold;p.seldetail=b.seldetail;p.cdnbwdata=JSON.stringify([{id:c,rtt:f,bw:h}]);a&&(p.oldlocid=a.gha,p.oldloclv=a.JKa,p.oldocaid=a.pCb,p.oldocaname=a.kC);this.Kc(u.we.ECa,!1,U.eR,p);};c.prototype.kSa=function(a){var b,c;b={};b.trigger=a;try{c=this.j.Kea();b.subtitleqoescore=this.j.On.hnb(c);b.metrics=JSON.stringify(this.j.On.afa(c));}catch(ua){this.log.error("error getting subtitle qoe data",ua);}this.Kc(u.we.LEb,!1,U.$h|U.Pv|U.xD,b,"info");};c.prototype.transition=function(a){this.Ox(this.j,a);this.Kc(u.we.transition,!1,0,a);};c.prototype.Wmb=function(a,b){if(a=a.RX())if(b=a[b])return b.kf;};c.prototype.gJa=function(a,b){a.Ua.Oi&&(b.isBranching=!0);};c.prototype.hJa=function(a,b){b.cachedManifest=a.Xt;b.cachedLicense=a.cx;b.usedldl=this.config().CF?("videopreparer"===a.cx).toString():"not_capable";};c.prototype.jB=function(a,b){var c,f;if(this.config().epb){c=a.Lea();f=a.fa.va;c&&f&&(b.segment=c,f=a.eB(),b.segmenttime=f,a=this.Wmb(a,c),null!==f&&void 0!==a&&(b.segmentoffset=f-a));}};c.prototype.Ox=function(a,b,c){b.pxid=a.YOa;(void 0===c?0:c)&&(b.playgraph_trace=a.tOa);};c.prototype.kJa=function(a){var b,c;b=this.j.Efa;c=b&&b.BAb;b&&b.cJa&&(a.htwbr=b.cJa,a.pbtwbr=b.T_,a.hptwbr=b.Hob);b&&b.pQa&&(a.rr=b.pQa,a.ra=b.czb);b&&c&&0<(c.length||0)&&(a.qe=JSON.stringify(c));};c.prototype.$fa=function(a){var b,c,f,h,p;b=this;c=this.j.mg&&this.j.mg.value&&this.j.mg.value.dc;if(c){f=new Set();h=new Set();p=new Set();c.forEach(function(a){a=a.Nf;f.add(a);h.add(a.replace(b.uxa,""));(a=a.match(b.uxa))&&0<a.length&&p.add(a[1]);});a.videoProfiles=[].concat(ea(f));a.videoProfile=0===h.size?"none":[].concat(ea(h))[0];a.videoProfileLevels=[].concat(ea(p));}};c.prototype.jJa=function(a){var b,c,f;try{b=this.Tc.createElement("canvas");c=b.getContext("webgl")||b.getContext("experimental-webgl");if(c){f=c.getExtension("WEBGL_debug_renderer_info");f&&(a.WebGLRenderer=c.getParameter(f.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=c.getParameter(f.UNMASKED_VENDOR_WEBGL));}}catch(ya){}};c.prototype.fpb=function(a){a.switchAwaySummary={vsa:this.Sh.summary.nUa,vsb:this.Sh.summary.oUa,vsbt:this.Sh.summary.pUa,asa:this.Sh.summary.ABa,asb:this.Sh.summary.BBa,asbt:this.Sh.summary.CBa};};c.prototype.Nca=function(a){var b,c,f,h,y;b=this;c=this.nOa();this.LX(c,"endplay");c.browserua=r.El;this.j.Ev&&"downloaded"===this.j.Ev.kY()&&(c.trickplay_ms=this.j.rQ.offset,c.trickplay_res=this.j.rQ.YPa);this.config().XTa&&(c.rtinfo=this.j.Omb());if(this.config().oka){f=this.Ky.dm().BC;void 0!==c.avtp?c.avtp_retired=f:c.avtp=f;f=this.VV.Fkb().map(function(a){return{cdnid:a.ex,avtp:a.BC,tm:a.pca};});void 0!=c.cdnavtp?c.cdnavtp_retired=f:c.cdnavtp=f;this.j.Bm&&this.TY(c);}this.iJa(c);c.endreason=a?"error":this.j.Nb.value===R.ib.Lq?"ended":"stopped";f=this.pm;this.$ob(f);f&&p.sb(c,f,{prefix:"pi_"});f=this.j.Mi;a&&f&&K.lqa(f.errorCode)&&(h="info");try{p.sb(c,this.j.ld,{prefix:"sm_"});}catch(Oa){}this.j.Tfa&&(c.inactivityTime=this.j.Tfa);this.Ufa(c,"info"!==h&&a);this.kJa(c);if(this.j.uA){for(var f=this.j.uA,l=this.config().VE,d=this.j.ef,q={iv:l,seg:[]},m=function(a,b,c){return 0===b||void 0===c[b-1]?a:a-c[b-1];},k=f.Pt.map(m),m=f.Hv.map(m),t,g=0;g<k.length;g++){if(k[g]||m[g])t?(t.ams.push(k[g]),t.vms.push(m[g])):t={ams:[f.Pt[g]],vms:[f.Hv[g]],soffms:f.startTime+g*l-d};g!==k.length-1&&k[g]&&m[g]||!t||(q.seg.push(t),t=void 0);}c.bt=JSON.stringify(q);}if(this.j.$Z&&0<this.j.$Z.length){y=[];this.j.$Z.forEach(function(a){y.push({soffms:a.time-b.j.ef,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});c.maxvbevents=y;}this.j.WOa&&(c.psdConservCount=this.j.WOa);a&&this.jJa(c);this.kSa("endplay");this.config().Xo&&this.Bc()&&this.Zfa(c);c.isNonMember=this.Cj.pG;this.$fa(c);this.gJa(this.j,c);this.hJa(this.j,c);this.jB(this.j,c);this.Ox(this.j,c,this.w$);this.Wfa(c);this.Xfa(c);this.Yfa(c);this.lJa(c);this.apb(c);this.fJa(c);this.cpb(c);this.bpb(c);this.fpb(c);this.Kc(u.we.Nca,a,U.$h|U.xD|U.dh|U.Pv|U.aT|U.Q3,c,h);};c.prototype.a4a=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return+a;}):b;};c.prototype.Ugb=function(){var a,b;a=this;if(this.j.Hm&&this.j.nn){b=[];this.j.Hm.concat(this.j.nn).forEach(function(c){c.dc.forEach(function(c){b.push({dlid:c.gd,type:c.type,bitrate:c.O,vmaf:c.vc,cdn_ids:a.a4a(c.mu)});});});return JSON.stringify(b);}};c.prototype.Xab=function(){var b,c,h;function a(a,b){var l,d,q;l=a.cdnId;d=h[l];q=a.vmaf;d||(d={cdnid:l,dls:[]},h[l]=d,c.push(d));f.mF(a.bitrate);f.mF(a.duration);l={bitrate:a.bitrate,tm:r.zh(a.duration)};q&&(f.mF(a.vmaf),l.vf=q);l[b]=p.Ld(a.downloadableId);d.dls.push(l);}b=this.j.qm.hkb();c=[];h={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(c);};c.prototype.nOa=function(){var a,b,c,h,l,d,q,m,k,y,H;a=this.j.qm;b={totaltime:p.tu(a.eN()),totalcontenttime:p.tu(a.pIa()),cdndldist:this.Xab(),reposcount:this.RPa,intrplaycount:this.eZ};try{c={numskip:0,numlowqual:0};h=this.j.Pi;l=h.dB();A.ma(l)&&(b.totfr=l,c.numren=l);l=h.cB();A.ma(l)&&(b.totdfr=l,c.numrendrop=l);l=h.SM();A.ma(l)&&(b.totcfr=l,c.numrenerr=l);l=h.YX();A.ma(l)&&(b.totfdl=l);b.playqualvideo=JSON.stringify(c);d=this.j.nf.value;d&&(b.videofr=d.FX.toFixed(3));q=a.BGa();q&&(b.abrdel=q);m=a.sob()&&a.mkb();m&&(b.tw_vmaf=m);k=a.lkb();k&&p.sb(b,k);b.rbfrs=this.eZ;b.maxbitrate=this.Po;b.maxresheight=this.CLa;for(var t=this.j.gB(),g,a=0;a<t.length;a++){y=t[a];H=this.zm.fO.xs(y);if(H){f.eb(g);b.maxbitrate=g?g.O:0;b.maxresheight=g?g.height:0;b.bitratefilters=H.join("|");break;}g=y;}this.j.Ev&&(b.trickplay=this.j.Ev.kY());null!==this.j.On.UBa&&(b.avg_subt_delay=this.j.On.UBa);}catch(Oa){this.log.error("Exception reading some of the endplay fields",Oa);}p.sb(b,this.j.pY(),{prefix:"vd_"});return b;};c.prototype.getTime=function(){return this.qa.Zb().ca(g.ha);};c.prototype.S0=function(a){a.browserua=r.El;this.Kc(u.we.IBb,!a.success,U.$h|U.Pv,a);this.Kc=m.Ke;};c.prototype.ppb=function(){var a,b,c;a=this;c=[];this.config().Stb&&(this.config().Ttb.forEach(function(b){c.push(M.setTimeout(a.d_,b));}),this.config().QLa&&(b=M.setInterval(this.d_,this.config().QLa)),this.xTa=function(){c.forEach(function(a){M.clearTimeout(a);});b&&M.clearInterval(b);});};c.prototype.Zfa=function(a){var b;try{b=this.Bc().getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.uGa);}catch(sa){}};c.prototype.Wfa=function(a){this.log.debug("httpstats",this.Pe.Vb);p.sb(a,this.Pe.Vb,{prefix:"http_"});};c.prototype.Ufa=function(a,b){this.config().cEa&&!(this.ga%this.config().cEa)&&this.j.Eb&&this.j.Eb.dZ&&(a.ASEstats=JSON.stringify(this.j.Eb.dZ(b)));};c.prototype.TY=function(a){Object.assign(a,this.j.Bm.tb.pnb());};c.prototype.Xfa=function(a){var b;try{b=r.Sq.memory;A.dKa(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(sa){}};c.prototype.Yfa=function(a){var b,c;if(this.config().Ghb){c=null===(b=null===r.Bi||void 0===r.Bi?void 0:r.Bi.connection)||void 0===b?void 0:b.effectiveType;b=null===r.Bi||void 0===r.Bi?void 0:r.Bi.deviceMemory;c&&(a.effectiveType=c);b&&(a.deviceMemory=b);}};c.prototype.lJa=function(a){var b;b=this.j.wf;this.config().Pab&&b&&!this.config().mp&&(a.keystatuses=this.j.Uub(b.hSb()),this.log.trace("keystatuses",a.keystatuses));};c.prototype.fJa=function(a){try{this.config().KL&&(a.battery=this.j.skb(),this.log.trace("batterystatuses",a.battery));}catch(O){}};c.prototype.apb=function(a){this.j.wW&&(a.dqec=this.j.wW);};c.prototype.$ob=function(a){this.j.UV&&p.sb(a,{cast_interaction_counts:this.j.UV.uSb()});};c.prototype.mJa=function(a){var b;b=this.j.Ua.Mn;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);};c.prototype.bpb=function(a){this.bda&&(a.externaldisplay=this.bda.CM);};c.prototype.cpb=function(a){this.Ny&&this.Ny.xc&&(a.media_capabilities_smooth=this.Ny.xc.ODb,a.media_capabilities_efficient=this.Ny.xc.Rxb,a.media_capabilities_bitrate=this.Ny.xc.O,a.media_capabilities_height=this.Ny.xc.height,a.media_capabilities_width=this.Ny.xc.width);};c.prototype.iB=function(a,b,c){c&&(a.adlid=c.gd,a.abitrate=c.O);b&&(a.vdlid=b.gd,a.vbitrate=b.O);};c.prototype.iJa=function(a){var b,c;if(this.j.XL){b=this.j.XL;b.fW&&(a.controllerESN=b.fW);b.vcb&&(a.controllerUiVer=b.vcb);if(b.ucb)try{c=JSON.parse(b.ucb);a.controllerGroupNames=c;}catch(ua){this.log.error("Exception parsing controller group names",ua);}}};c.prototype.Tqb=function(){void 0===this.bda&&(this.bda=this.cda.Hib());};c.prototype.Uqb=function(a){void 0===this.Ny&&void 0!==a&&(this.Ny=this.Xha.hda(a));};c.prototype.LX=function(a,b){var c;c=this.j.vu(b);c&&Object.keys(c).forEach(function(b){a[b]=c[b];});};c.prototype.Kc=function(a,b,c,f,h){this.r8a(f,this.j,b,c);a=this.RN.sn(a,h||(b?"error":"info"),f,this.zm);this.Mh.Kc(a);};c.prototype.r8a=function(a,b,c,h){var l,d,q,m,t;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(a.devmod=nrdp.device.deviceModel);b.fk&&(a.pbcid=b.fk);h&U.$h&&(f.eb(!a||void 0===a.moff),0<=b.$b.value&&(a.moff=p.tu(b.$b.value)));if(h&U.xD){l=b.gc[k.Qc.Ma.VIDEO].value;d=b.gc[k.Qc.Ma.AUDIO].value;q=b.ig.value;m=b.gf.value;l&&(a.cdnid=l.id,a.cdnname=l.name);d&&(a.acdnid=d.id,a.acdnname=d.name);q&&(a.adlid=q.stream.gd,a.abitrate=q.stream.O);m&&(a.vdlid=m.stream.gd,a.vbitrate=m.stream.O,a.vheight=m.stream.height,a.vwidth=m.stream.width);}h&U.dh&&b.Eb&&(a.abuflbytes=b.T$(),a.abuflmsec=b.nL(),a.vbuflbytes=b.$ma(),a.vbuflmsec=b.GQ());if(h&U.aT){Object.assign(a,fa.Tea());try{t=b.Ff.getBoundingClientRect();a.rendersize=t.width+"x"+t.height;a.renderpos=t.left+"x"+t.top;}catch(Fa){}}h&U.Pv&&(l=r.Bi.hardwareConcurrency,0<=l&&(a.numcores=l),l=this.zm.wca)&&(d=l.nkb(),a.droppedFrames=JSON.stringify(d),l=l.aN(this.config().ghb),p.yd(l,function(b,c){a["droppedFramesP"+b]=JSON.stringify(c);}));if(h&U.eR)try{b.oj&&(a.cdninfo=JSON.stringify(b.oj.map(function(a){return{id:a.id,nm:a.name,rk:a.Qf,wt:a.location.weight,lv:a.location.level};})));}catch(Fa){}c&&h&U.Q3&&(f.eb(b.Mi),(c=b.Mi)?a=Object.assign(a,fa.Jea(this.platform.UA,c)):a.errorcode=K.J.Ok,a.errorcode===this.platform.UA+K.J.Mta&&(a.lastSyncWithVideoElement=this.getTime()-b.fQ));};b.ksa=c;(function(a){a[a.$h=1]="MOFF";a[a.xD=2]="PRESENTEDSTREAMS";a[a.dh=4]="BUFFER";a[a.aT=8]="SCREEN";a[a.Pv=16]="CPU";a[a.eR=32]="CDN";a[a.Q3=64]="FATALERROR";}(U||(U={})));},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y4=void 0;b.Y4="LogblobBuilderFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.s2=void 0;b.s2="AppLogSinkSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F7=void 0;b.F7="UuidProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.h6=void 0;b.h6="PboLogblobCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.we=void 0;d=b.we||(b.we={});d.S$a="bitraterestriction";d.ECa="cdnsel";d.Jaa="chgstrm";d.debug="debug";d.Ggb="dlreport";d.Nca="endplay";d.hga="intrplay";d.d_="midplay";d.pOa="playbackaborted";d.tAb="renderstrmswitch";d.pka="repos";d.Eka="resumeplay";d.rCb="serversel";d.s1="startplay";d.dEb="statechanged";d.transition="transition";d.I9a="asereport";d.H9a="aseexception";d.k$a="audioswitch";d.T$a="blockedautoplay";d.config="config";d.rRb="destiny_prepare";d.sRb="destiny_start";d.pRb="destiny_events";d.oRb="destiny_cachestate";d.qRb="destiny_playback";d.MW="dlreq";d.ov="prepare";d.$Rb="ftlProbeError";d.IBb="securestop";d.KEb="subtitleerror";d.LEb="subtitleqoe";d.uFb="timedtextrebuffer";d.vFb="timedtextswitch";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.s5=void 0;b.s5="MessageQueueSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z4=void 0;b.Z4="LogblobSenderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y5=void 0;b.Y5="PboBindDeviceCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.a3=void 0;b.a3="CryptoKeysSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z2=void 0;b.Z2="CryptoDeviceIdSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.p3=void 0;b.p3="DeviceProviderSymbol";},function(d,b){function a(b,d,m){if(null!=m){if(0<m(b,d))throw a.ODa(b,d);}else if(b.Tl&&0<b.Tl(d))throw a.ODa(b,d);this.start=b;this.end=d;}Object.defineProperty(b,"__esModule",{value:!0});b.P6=void 0;a.ODa=function(a,b){return new RangeError("end ["+b+"] must be >= start ["+a+"]");};b.P6=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.o3=void 0;b.o3="DeviceIdGeneratorSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.nS=void 0;b.nS="MslReadyNotifierSymbol";},function(d,b,a){var c,k,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.xWa=b.Doa=void 0;c=a(10);k=a(17);m=a(14);t=a(77);b.Doa=function(a,b,c,f,p,d,t,g,E,G){var h,l;h=this;l={Type:b,Bitrate:f,DownloadableId:c};k.sb(h,{track:a,type:b,gd:c,O:f,vc:p,Nf:g,size:d,mu:t,Eo:null,gDb:function(a,b,c,f){if(m.Wb(a)||m.Wb(b))h.width=a,h.height=b,m.ma(c)&&m.ma(f)&&(h.A$=c/f*a),l.Resolution=(h.width||"")+":"+(h.height||"");},BCb:function(a,b,c,f){m.Wb(a)&&m.Wb(b)&&m.Wb(c)&&m.Wb(f)&&(h.Bba=a,h.oW=b,h.nW=c,h.mW=f);},FX:E,Hu:G,Ug:l,toJSON:function(){return l;}});};b.xWa=function(a,b,h,f,p){if(a==c.jS||a===t.Hg.audio)return b;if(a==c.nD||a===t.Hg.video)return h;if(a==t.Hg.H1)return f;if(a==t.Hg.Gma)return p;};},function(d,b,a){var k;function c(a){var d,q,l,h,f,p,m;l={};l[k.xI]=a.localName;h={};l[k.xi]=h;f=[];l[k.wI]=f;p=a.attributes;d=p.length;for(q=0;q<d;q++){m=p[q];h[m.localName]=m.value;}a=a.childNodes;d=a.length;h={};for(q=0;q<d;q++)switch(p=a[q],p.nodeType){case b.BUa:p=c(p);m=p[k.xI];p[k.n2]=l;f.push(p);l[m]?h[m][k.Py]=p:l[m]=p;h[m]=p;break;case b.CUa:case b.zUa:p=p.text||p.nodeValue,f.push(p),l[k.pp]||(l[k.pp]=p);}return l;}Object.defineProperty(b,"__esModule",{value:!0});b.AUa=b.zUa=b.CUa=b.rIb=b.BUa=b.sIb=b.yUa=void 0;k=a(121);b.yUa=function(a){return c(a.nodeType==b.AUa?a.documentElement:a);};b.sIb=c;b.BUa=1;b.rIb=2;b.CUa=3;b.zUa=4;b.AUa=9;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.xUa=void 0;c=a(5);k=a(14);b.xUa=function(a){var b,d;if(k.Ku(a)){b=new DOMParser().parseFromString(a,"text/xml");d=b.getElementsByTagName("parsererror");if(d&&d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(l){}throw Error("xml parser error");}return b;}throw Error("bad xml text");};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.SNa=void 0;c=a(203);k=a(202);b.SNa=function(a,b,d,l){return new Promise(function(h,f){k.ina(a,function(a){a.aa?c.JNa(a.object,b,d,l,function(a){a.aa?h(a.entries):f(a);}):f(a);});});};},function(d,b,a){var c,k,m,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Uqa=b.bS=void 0;c=a(0);k=a(7);m=a(4);t=a(725);q=a(724);l=function(){return function(){this.SE=new q.yJ(100);this.u_=new q.yJ(100);};}();d=function(){function a(a,b,c){var f,h,p;this.K=b;this.H=c;this.RU=a;f=this.aA=this.LD=this.KD=0;h=0;p=0;this.RU.length>=this.K.i_&&(this.RU.forEach(function(a){!(a=a.get().rjb)||k.V(a.avtp)||k.V(a.neuhd)||(f+=a.avtp,h+=1*a.neuhd,p++);}),this.aA=p,this.KD=f/p,this.LD=h/p);}Object.defineProperties(a.prototype,{SBa:{get:function(){return this.KD;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{TBa:{get:function(){return this.LD;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sCb:{get:function(){return this.aA;},enumerable:!1,configurable:!0}});a.prototype.mZ=function(){return this.aA>=this.K.i_&&this.KD>=this.K.baselineHighAndStableThreshold.bwThreshold&&this.LD<this.K.baselineHighAndStableThreshold.nethreshold;};return a;}();b.bS=d;d=function(a){function b(b,c,f){b=a.call(this,b,c,f)||this;b.M7=[];b.Gib={};b.BSa=[];b.hu=new l();b.RU.length>=b.K.i_&&(b.xAa("avtp",b.hu.SE),b.xAa("neuhd",b.hu.u_));return b;}c.__extends(b,a);b.prototype.mZ=function(){var a;this.pmb();a=new t.osa(this.H,this.BSa,this.O$a);a.zja(this.M7);a=a.xbb(this.K.JY.xUb);return this.lHb&&1===a&&this.aA>=this.K.i_;};b.prototype.UM=function(){var a,b,c,f;a={};b=m.time.now();c=new Date(b);f=c.getHours();a.currentMonoTime=b;a.currentTime=c.getTime();a.currentHour=f;return a;};b.prototype.XGa=function(a,b,c){a="avtp"===a?this.KD:this.LD;for(var f=b.SV(),h=0,p="skew"===c?3:4,l=0;l<b.Ze.length;l++)k.V(a)||k.V(f)||(h+=Math.pow(b.Ze[l]-a,p));h/=b.Ze.length;return!k.V(f)&&0<f?h/Math.pow(f,p)-3*("skew"===c?0:1):NaN;};b.prototype.iHa=function(a,b,c){var f;f=0;"lte"===c?f=a.reduce(function(a,c){return c<=b?a+1:a;},0)/(1*a.length):"gte"===c&&(f=a.reduce(function(a,c){return c>=b?a+1:a;},0)/(1*a.length));return f;};b.prototype.cmb=function(a){var b,c;b=a.Ip(25);c=a.Ip(50);a=a.Ip(75);return k.V(b)||k.V(c)||k.V(a)?NaN:0<c?(a-b)/c:NaN;};b.prototype.xkb=function(a,b){a="avtp"===a?this.KD:this.LD;b=b.SV();return!k.V(b)&&!k.V(a)&&(0<b||0<a)&&0<a?(a-b)/(a+b):NaN;};b.prototype.aN=function(a,b){a=a.Ip(b);return k.V(a)?NaN:a;};b.prototype.normalize=function(a,b,c){return!isNaN(a)&&0<c?(a-b)/c:NaN;};b.prototype.pmb=function(){var a,b,c,f,h,l,d,q,m,t,g,n;a=this;b=this.K.JY.YKa.fTb;c=this.K.JY.YKa.dTb;f=this.K.JY.YKa.eTb;q=[];n=0;this.lHb=!Object.keys(b).some(function(p){var y;g=NaN;if(!(b.hasOwnProperty(p)&&c.hasOwnProperty(p)&&f.hasOwnProperty(p)&&!k.V(a.hu)&&a.hu.SE&&a.hu.u_)||1>a.aA||"number"!==typeof b[p]||"number"!==typeof c[p]||"number"!==typeof f[p])return!0;h=b[p];l=c[p];d=f[p];q=p.split("_",2);m=q[0];t=q[1];switch(m){case"avtp":y=a.hu.SE;break;case"neuhd":y=a.hu.u_;break;default:y=void 0;}if("avtp"===m||"neuhd"===m){if(y)switch(t){case"last":g=y.Ze[a.aA-1];break;case"mean":g="avtp"===m?a.KD:a.LD;break;case"niqr":g=a.cmb(y);break;case"skew":g=a.XGa(m,y,"skew");break;case"kurtosis":g=a.XGa(m,y,"kurtosis");break;case"std":g=y.SV();break;case"b":g=a.xkb(m,y);break;default:-1!==p.search("[p][1-9]?[1-9]")&&(g=a.aN(y,Number(p.split("_p",2)[1])));}}else switch(p){case"fracAbove20Mbps":y=a.hu.SE;g=k.V(y)?NaN:a.iHa(y.Ze,2E4,"gte");break;case"fracBelow20p":y=a.hu.u_;g=k.V(y)?NaN:a.iHa(y.Ze,.15,"lte");break;case"hour_current":g=a.UM().currentHour;break;case"session_ct":g=a.aA;break;case"intercept":g=h,a.O$a=g;}g=a.normalize(g,l,d);if(isNaN(g))return!0;"intercept"!==p&&(a.M7.push(g),a.BSa.push(h),a.Gib[p]=n,n+=1);});};b.prototype.xAa=function(a,b){this.RU.forEach(function(c){c=c.get().rjb;!c||"avtp"!==a&&"neuhd"!==a||k.V(c[a])||b.rV(Number(c[a]));});};return b;}(d);b.Uqa=d;},function(d,b,a){var t;function c(){}function k(a,b,c){void 0===c&&(c=!1);t(a.length===b.length,"bitrates_kbps and durations_sec must be of the same length.");t(1E-8<m(a),"bitrate zero, won't be able to send anything.");this.Ww=a;this.WEa=b;this.repeat=c;this.gk=this.Vl=0;}function m(a){return a.reduce(function(a,b){return a+b;},0);}t=a(6).assert;c.prototype=Error();k.prototype.constructor=k;k.prototype.xo=function(){var a;a=new k(this.Ww,this.WEa,this.repeat);a.Vl=this.Vl;a.gk=this.gk;return a;};k.prototype.jfa=function(){return this.Ww[this.Vl%this.Ww.length];};k.prototype.Jx=function(){return this.WEa[this.Vl%this.Ww.length];};k.prototype.Rgb=function(a){t(0<a,"expect x_sec > 0.0");if(!(this.repeat||0<=this.Vl&&this.Vl<this.Ww.length))throw new c();t(this.gk<this.Jx(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b;;){b=this.Jx()-this.gk;b=a<b?a:b;a-=b;this.gk+=b;if(this.gk<this.Jx())break;this.gk-=this.Jx();this.Vl+=1;if(!this.repeat&&this.Vl>=this.Ww.length){if(0<a)throw new c();break;}}};k.prototype.XNa=function(a){this.Rgb(a);};k.prototype.Sgb=function(a){t(0<a,"expect y_kb > 0.0");if(!(this.repeat||0<=this.Vl&&this.Vl<this.Ww.length))throw new c();t(this.gk<this.Jx(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b,h=0;;){b=this.Jx()-this.gk;b=a<b*this.jfa()?a/this.jfa():b;a-=this.jfa()*b;h+=b;this.gk+=b;if(this.gk<this.Jx())return h;this.gk-=this.Jx();this.Vl+=1;if(!this.repeat&&this.Vl>=this.Ww.length){if(0<a)throw new c();return h;}}};d.R={a2a:k,b2a:c};},function(d,b,a){var m;function c(a,b,c){this.ba=a;this.cp=b;this.XO=c;}function k(a,b){this.zha=b;void 0===b&&(this.zha=!0);this.Hi=a;this.P2a();}m=a(6).assert;c.prototype.constructor=c;c.prototype.xu=function(){return 8*this.ba/1E3/this.cp;};k.prototype.constructor=k;k.prototype.xo=function(a,b,c,h,f){void 0===b&&(b=0);void 0===c&&(c=a.fG());void 0===h&&(h=0);void 0===f&&(f=a.Hi.length);for(var p=[],l,d=h;d<f;d++){h=[];for(var m=b;m<c;m++)l=a.Hi[d][m],h.push(l);p.push(h);}return new k(p,a.zha);};k.prototype.P2a=function(){var a,b;a=this.Hi[0].length;for(b in this.Hi.slice(1))m(this.Hi[b].length===a,"expect this.chunkss[chunksIndex].length === n but got "+this.Hi[b].length+" and "+a);this.zha&&this.Q2a();this.R2a();};k.prototype.fG=function(){return this.Hi[0].length;};k.prototype.Q2a=function(){for(var a=0;a<this.Hi.length-1;a++)for(var b=0;b<this.fG();b++)m(this.Hi[a][b].ba<=this.Hi[a+1][b].ba,"Chunk size for epoch "+b+" is not monotonic");};k.prototype.R2a=function(){for(var a=0;a<this.Hi.length-1;a++)for(var b=0;b<this.fG();b++)m(1E-8>Math.abs(this.Hi[a][b].cp-this.Hi[a+1][b].cp),"Chunk duration for epoch "+b+" is not consistent");};k.prototype.Jnb=function(){var a;a=[];this.Hi[0].forEach(function(b){a.push(b.cp);});return a;};d.R={zWa:c,AWa:k};},function(d,b,a){var c,k,m,t,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.gS=void 0;c=a(0);k=a(734);d=a(378);m=a(155);t=a(18);q=a(377);l=a(6);h=a(34);f=a(4);a=function(a){function b(b,c,l,p,d,m,q,t,g,y,n,r,u){l=a.call(this,p,t,l,p,p,d,h.la.Of(m),q,n,r,u)||this;l.Xa=b;l.Xf=c;l.af=g;l.rf=y;l.oaa=0;l.Yz.RTa=!1;l.c7a=t;l.gK=new k.Sra(p,l.rf,t,l.H,l.M,l.Xf,l.Ja,l.Xa);l.krb=f.time.ea();l.brb=void 0;l.CB=t.cga;l.JOa=f.time.ea();l.nRa(d);return l;}c.__extends(b,a);Object.defineProperties(b.prototype,{E$:{get:function(){return this.Ja.E$;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bF:{get:function(){return this.Ja.bF;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zA:{get:function(){return this.Ja.zA;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ty:{get:function(){return this.Ja.ty;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Gg:{get:function(){return this.gK.Gg;},set:function(a){(this.gK.Gg=a)?this.Ja.ECb():this.Ja.zbb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tn:{get:function(){return this.gK.Tn;},set:function(a){this.gK.Tn=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{IZ:{get:function(){return this.Ec;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vpb:{get:function(){return this.Pya.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JH:{get:function(){return this.R9.JH;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$mb:{get:function(){return this.Xa.B9;},enumerable:!1,configurable:!0}});b.prototype.reset=function(){this.seeking=void 0;this.connected=this.Gg=!1;this.Yz.reset();};b.prototype.Pg=function(){this.reset();a.prototype.Pg.call(this);};b.prototype.YA=function(a,b){return q.YA(this.rg.M,this.K,a,b,this.Dg,this.Xa.Ctb,this.QK);};b.prototype.Qh=function(a){this.Ja.Qh(a);this.CB=this.K.cga;};b.prototype.RE=function(){this.Ja.tQ();};b.prototype.nRa=function(a){var b,c;b=this.Xa;c=this.M;l.assert(a.M===c);l.assert(a.P===this.fd.P);this.rg=a;this.fd.P.Sma(c,a.Ac);0===c&&(this.QK=m.F$(this.c7a,a.Ac[0]));b.x4a(this,a.yB);this.Bab(a.Ac);this.yq.PCb(a);this.fd.P.Oaa();this.Gg=!1;};b.prototype.kda=function(a){var b;b=this.fd.P.dg[this.M];if(b&&b.stream.Bd&&(a=b.stream.$.Yl(a),-1!==a))return a;};b.prototype.oC=function(a){var b,c,f;if(this.ag&&this.ag.S===a)b=this.ag.index,c=a;else{f=this.fd.P;b=f.dg[this.M];if(!b||!b.stream.Bd){this.QB=a;return;}c=b.stream.$;this.ag=this.OF(b.stream,a,void 0,!1);if(void 0===this.ag){if(b=c.length-1,c=c.Rh(b),this.Za("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",f.re.xf),f.re.xf){this.QB=a;return;}}else b=this.ag.index,c=this.ag.S;}this.sk=b;this.ZU=c;this.QB=void 0;};b.prototype.KHb=function(a){var b,c;b=this.rg.Lr(a);c="verifying streamId: "+a+" stream's track: "+(b?b.sa:"unknown")+" currentTrack: "+this.rg.ab;return b?!0:(this.Xf.Ri(c),this.Xf.Ri("unknown streamId: "+a),!1);};b.prototype.Bab=function(a){this.zob=a.reduce(function(a,b){return b.yj&&b.O>a.O?b:a;},a[0]);};b.prototype.e1=function(a){this.zg=a;this.ja=a.ja;};b.prototype.Isb=function(a,b,c,f){this.nTa(a,b,f);c&&++this.oaa;this.Xa.ii();};b.prototype.fv=function(b){b.ja&&b.S&&(this.CB-=b.ja-b.S);a.prototype.fv.call(this,b);};b.prototype.Si=function(a){this.zIa(a);this.Rp(a);};b.prototype.CGb=function(a){var b;b=f.time.ea();this.CB+=a*(b-this.JOa);this.JOa=b;};b.prototype.QAb=function(){this.CB=this.K.cga;};b.prototype.$E=function(a){this.Ja.NCa();this.Dg||this.gK.$E(a,this.ja);};b.prototype.zIa=function(a){var b,c,f;c=this.IZ;f=this.Xa;this.af.kAa()||(this.Xf.S5a(a.M,a.P.Va,a.stream.track.kA,this.fu),null===(b=this.Dg)||void 0===b?void 0:b.hpb(a),b=c.W.Xd()||0,f.Ya.et()||(c=c.pe(t.Ma.VIDEO))&&!c.nj&&c.FY&&f.Ya.Zea(c),this.$E(b),this.Xa.yIa(a),this.af.LT(this)&&this.af.ii());};b.prototype.Via=function(a){this.Xa.wY(a);};b.prototype.MCa=function(a,b,c,f,h){var l,p;l=this.K;p=l.Wg;if(c>=l.Wg&&(l.E0&&(p=c+1E3),l.F0&&!this.connected))return!1;l.$f&&this.Xf.Ri("Pipeline checkBufferingComplete02, buffer length: "+f);if(this.Dg)return this.Dg.Sl();c=this.Gg&&0===this.Ja.S_&&0===this.Ja.Is;return!c&&f<p?!1:c?h&&0===f?(this.Za("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.PCa(a,b);};b.prototype.QCb=function(a){this.ZU=a;};return b;}(d.o6);b.gS=a;},function(d,b,a){var c,k,m,t,q,l,h,f,p,g,H;Object.defineProperty(b,"__esModule",{value:!0});b.Rra=b.DJ=void 0;c=a(0);d=a(24);k=a(379);m=a(361);t=a(20);q=a(374);l=a(34);h=a(45);f=a(7);p=a(58);g=a(4);(function(a){a[a.lGa=0]="forwards";a[a.caa=1]="backwards";a[a.Aia=2]="none";}(H=b.DJ||(b.DJ={})));a=function(a){function b(b,c,f,h,l,p,d,q,k,t,g,y,H,K,E,n,r){var G,N;G=a.call(this,c,h,k.P,b,k,t,g,K,y,d.Xd.bind(d),H,r,void 0,void 0,!0)||this;G.Xa=b;G.Xf=f;G.yb=l;G.XT=p;G.W=d;G.wE=q;G.Df=H;G.PM=E;G.rf=n;G.Vm=r;G.active=!1;G.Lya=[];G.w9=0;G.children=Object.create(null);G.Gs=[];G.kd=void 0;void 0===K&&(K=g);N=[G.K.X$,G.K.y1];t.forEach(function(a){var f,h;f=a.M;h=l.lHa.bind(l,G,f);a=new m.gS(b,G.Xf,G.H,G,a,K.xa,N[f],c,G.XT,G.rf,G.cU[f],null===H||void 0===H?void 0:H.pe(f),h);G.jj[f]=a;});return G;}c.__extends(b,a);Object.defineProperties(b.prototype,{G:{get:function(){return this.P.G;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ul:{get:function(){return[this.md[0].ul,this.md[1].ul];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wo:{get:function(){return[this.md[0].wo,this.md[1].wo];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Yb:{get:function(){return this.XH.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wd:{get:function(){return this.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qc:{get:function(){return this.XH.xa+this.wc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{se:{get:function(){return this.ja+this.wc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hb:{get:function(){return this.P.hb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{weight:{get:function(){return this.ia.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ia:{get:function(){return this.cAa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{md:{get:function(){return this.jj;},enumerable:!1,configurable:!0}});b.prototype.Pg=function(){this.Jp||(this.active=!1,this.Df&&(delete this.Df.children[this.ia.id],this.Df=void 0),f.Ud(this.children,function(a){a&&a.Df&&(a.Df=void 0);}),this.children=Object.create(null),this.QD=void 0,a.prototype.Pg.call(this),this.jj=[]);};b.prototype.zka=function(a,b){void 0===b&&(b=H.caa);this.md.forEach(function(b){(f.V(a)||b.M===a)&&b.reset();});switch(b){case H.caa:this.Df&&this.Df.zka(a,b);break;case H.lGa:this.children&&f.Ud(this.children,function(c){c&&c.zka(a,b);});}};b.prototype.BJa=function(a){var b,c,f;if(!this.active)return!1;b=this.Df;if(b){c=b.pe(a);f=c.Ja.bOa;if(0!==f&&(b.RE(a),f=c.Ja.bOa,0!==f))return!1;}return!0;};b.prototype.Ic=function(a){return this.md[a];};b.prototype.qob=function(){return this.md.every(function(a){return 0===a.ty;});};b.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.qc,playerEndPts:this.se,pipelines:this.md,previousBranch:this.Df});};b.prototype.sRa=function(a,b){this.P.wTa(this);this.P=this.ia.P=a;this.iRa(this.P);this.P.CPa(this);this.md.forEach(function(a){var c;c=b[a.M];c&&a.nRa(c);});};b.prototype.wmb=function(a){return this.Vm[a];};b.prototype.pe=function(a){return this.md[a];};b.prototype.Lmb=function(a){return this.md[a].ty;};b.prototype.tla=function(a,b,c){var f,h,l,p;f=this;h=this.ia;a=this.RV(h.S,this.P,a,this.G===(a?a.G:this.yb.Rb.G));l=a.sH;p=a.su;void 0===b&&(b=[0,1]);0===p.length||b.forEach(function(a){var b,l;b=f.md[a];c&&(b.ag=p[a]);l=f.FM(h.ja);b.e1(l[a]);});return l;};b.prototype.zPa=function(a,b){var c,h,l,p;c=this.Xa;h=this.md[0];void 0===b&&(b=h.vpb);this.Df&&(l=this.Df.Ic(0));p=this.yb.lHa.bind(this.yb,this,0);c=new m.gS(c,this.Xf,this.H,this,a,b,h.JH,this.K,this.XT,this.rf,this.cU[0],l,p);this.md[0]=c;this.tla(this.Df,[0],!0);c.oC(b);h.Pg();f.Ud(this.children,function(b){b&&b.zPa(a);});};b.prototype.Dr=function(a,b){if(b=this.md[b])return b.Ja.Dr(a);};b.prototype.RE=function(a){void 0===a?this.md.forEach(function(a){a.RE();}):this.md[a].RE();};b.prototype.VO=function(a,b,c){(a=this.md[a])&&a.Ja.VO(b,c);};b.prototype.gY=function(a,b){(b=this.md[b])&&b.Ja.gY(a);};b.prototype.Ssb=function(a){this.Lya[a]=!0;};b.prototype.hbb=function(){var a;a=this;return[0,1].every(function(b){return!a.hb(b)||a.Lya[b];});};b.prototype.fbb=function(a,b,c,f){var h,l,p,d,m,k,y,H,K;h=this.K;l=this.Xa;p=this.W.Yc();d=p===t.na.ve||p===t.na.Ig;if(!d&&void 0===c)return{nj:!0};if(p===t.na.Ig&&g.time.ea()<this.w9+h.lub)return{nj:!1};m=this.md[0];k=this.md[1];y=this.yb.vr(this,0);H=this.yb.vr(this,1);K=q.rja(p);b=!m||m.MCa(K,this.W.Xd(),b,y,f);a=!k||k.MCa(K,this.W.Xd(),a,H,f);h.$f&&this.Xf.Ri("Branch checkBufferingComplete02, audio: "+y+" video: "+H+" audio ready: "+b+" video ready: "+a);void 0!==c&&b&&(y=c.ab,H=this.P.getTrackById(y),this.T2a(y,H.K1),l.Qt=void 0);if(b&&a)return this.wE(),p===t.na.Ig&&(this.w9=g.time.ea()),{nj:!0,Hp:k?k.Ut:m.Ut};y=this.jk(0);H=this.jk(1);if(d){l=!k||H>h.Wg;if((!m||y>h.Wg)&&l&&(m=this.PM(),m>=h.nv))return this.Za("buffering longer than limit: "+m+" >= "+h.nv+", audio buffer: "+y+" ms, video buffer: "+H+" ms"),this.wE(),p===t.na.Ig&&(this.w9=g.time.ea()),{nj:!0,Hp:"prebufferTimeLimit"};this.Xf.u5a();}return{nj:!1};};b.prototype.Iaa=function(a,b){var c,f,h,l,p,d;c=this.K;f=this.md[0];h=this.md[1];b?(b=this.jk(0,a),a=this.jk(1,a)):(b=this.yb.vr(this,0,a),a=this.yb.vr(this,1,a));l=c.Wg;p=!this.hb(0)||f.Gg&&0===f.Ja.hv&&0===f.Ja.Is;f=!this.hb(1)||h.Gg&&0===h.Ja.hv&&0===h.Ja.Is;d=p&&f;c=!p&&b<c.Wg;if(!d&&(c||!f&&a<l))return!1;if(h&&h.nj||!this.hb(1))return!0;if(d)if(this.Xa.BU&&0===b&&0===a)this.Za("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};b.prototype.mC=function(a,b){var c,f;c=this;f=this.K;this.md.forEach(function(a){a.seeking=void 0;});a&&f.$f&&this.md.forEach(function(a){var f;if(a){f=c.yb.xA(c,a.M);a="bufferingComplete: , mediaType: "+a.M+", bufferLevelBytes: "+a.wo.ba+", completedMs: "+a.bF+", completedBytes: "+f+", partials: "+a.Ja.hv+", streamingPts: "+a.Hb+", completeStreamingPts: "+a.fu+", fragments: "+JSON.stringify(a.Ja.$)+", toAppend: "+b(a.M);c.Xf.Ri(a);}});};b.prototype.EGa=function(){var a,b;a=!0;b={};this.md.map(function(c){var f;f=1===c.M?"v":"a";c=c.wo;b[f+"buflmsec"]=c.xa;b[f+"buflbytes"]=c.ba;a=a&&0<c.xa;});return{zY:a,DL:b};};b.prototype.q1=function(a,b,c){var h,l,p;h=this;l=g.time.ea();p={};f.Ud(this.children,function(a){var b,c;if(a){a.kd?(a.kd.Wgb=l-a.kd.YY,a.kd.YY=void 0,b=a.kd.weight):b=h.yb.YHa(h.ia.id,a.ia.id);c=a.EGa();p[a.ia.id]={weight:b,DL:c.DL,zY:c.zY};}});c={requestTime:l,R0:a,Vfb:c,o1:this.ia.id,kd:p};a||(a=b.Xd(),c.TH=a-(this.ia.S+this.wc),c.TH=Math.max(0,c.TH),c.DW=0,c.startTime=l);this.Gs.unshift(c);return c;};b.prototype.Wbb=function(a){var b,c;b=this.Gs[0];b.R0&&(b.TH=this.ja-this.ia.S,b.TH=Math.max(0,b.TH));c=a.EGa();b.eTa={};p(c.DL,b.eTa);b.zY=a.wo.every(function(a){return 0<a.xa;});this.Gs=[];return b;};b.prototype.Qh=function(a){var b;b=this.ia;a-=this.wc;if(b.S<a&&a<b.ja)this.Gs.shift();else if(b=this.Gs[0])b.Qh=!0;};b.prototype.RV=function(a,b,c,f){var h,l,p,d;h=this;void 0===b&&(b=this.P);l=!1;if(c){l=!0;p=c.md[1].zg;c=c.md[0].zg;if(!p||!c)return{sH:[],su:[]};p=p.ja;f||(p=void 0);}d=this.SFa(a,p,l,b);b.Va===this.yb.ifb&&[1,0].forEach(function(a){var b;b=h.pe(a);b&&(b.ag=d[a]);});return{sH:d.map(function(a){return a.S;}),su:d};};b.prototype.SFa=function(a,b,c,f){var h;h=this;void 0===f&&(f=this.P);return this.AAa(f)?[1,0].map(function(l){if(!h.hb(l))return{};l=h.md[l].OF(f.dg[l].stream,a,b,c);a=l.S;return l;}).reverse():[];};b.prototype.FM=function(a,b){var c;c=this;void 0===b&&(b=this.P);return this.AAa(b)?[1,0].map(function(f){var h;if(!c.hb(f))return{};h=b.dg[f].stream;f=c.md[f].YA(h,a);a=c.K.Dg?new l.la(f.qb,h.Ra.T).xa:f.ja;return f;}).reverse():[];};b.prototype.AGb=function(a,b){var c;c=this.ia.ja;c&&c<b&&(a=this.FM(c));b=this.Ic(1);c=this.Ic(0);b&&b.e1(a[1]);c&&c.e1(a[0]);};b.prototype.AAa=function(a){var b;b=a.dg;if(!b)return!1;a=b[1];a=!this.hb(1)||a&&a.stream.Bd;b=b[0];b=!this.hb(0)||b&&b.stream.Bd;return a&&b?!0:!1;};b.prototype.T2a=function(a,b){this.Xf.s5a(a,b);};return b;}(k.aR);b.Rra=a;h.Fg(d.EventEmitter,k.aR);},function(d,b,a){var c,k,m,t,q,l,h,f,p,g;Object.defineProperty(b,"__esModule",{value:!0});b.N2=void 0;c=a(7);k=a(58);m=a(4);t=a(362);q=a(733);l=a(20);h=a(214);f=a(13);p=a(6);g=a(34);d=function(){function a(a,b,c,l,d,q,k,t,g,y){this.Xa=a;this.Xf=b;this.H=c;this.wE=l;this.K=k;this.XT=t;this.Gza=g;this.PM=y;this.Za=this.H.warn.bind(this.H);this.kj=this.H.trace.bind(this.H);this.wb=this.H.log.bind(this.H);this.ih=[];this.dn={};d.bu?(p.assert(!d.yk),this.d8=!0,this.n6a(d,d.bu,q)):(this.Sk=this.r8(d.yk||"",d,0,void 0,void 0,{},!0),this.Sk.z_=!0,this.Sk.ja=Infinity,this.cV=[this.Sk]);this.Ec=this.NT(this.Sk,this.Sk.S,void 0,q);this.Ec.active=!0;a=f.Yx(m,this.H,"BranchQueue::");this.Wj=new h.XQ(a);this.Wj.enqueue(this.Ec);this.x9=this.vK=void 0;}a.Rda=function(a){return"m"+a;};Object.defineProperties(a.prototype,{Fu:{get:function(){return!!this.d8;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bq:{get:function(){return this.Ec.Jp;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Kh:{get:function(){return this.Sk;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sg:{get:function(){return this.Ec.ia.id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ifb:{get:function(){return this.Ec.P.Va;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Rb:{get:function(){return this.Ec;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bd:{get:function(){return this.ih;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wc:{get:function(){return this.Ec.wc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rf:{get:function(){return this.Xa.rf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{zk:{get:function(){return this.vK?this.vK:this.bd[0];},enumerable:!1,configurable:!0}});a.prototype.vn=function(){this.ih.forEach(function(a){a.Pg();});this.ih=[];this.Wj.clear();};a.prototype.Sg=function(a){return this.dn[a];};a.prototype.ZHa=function(){return this.Wj.sHa();};a.prototype.YHa=function(a,b){var c;c=this.dn[a];if(c)return(a=c.qj[b])&&a.weight;this.Za("getSegmentWeight, unknown segment:",a);};a.prototype.Vmb=function(a){var b;b=this.dn[a];if(b)return b.S;this.Za("getSegmentStartPts, unknown segment:",a);};a.prototype.Umb=function(a){var b;b=this.dn[a];if(!b)this.Za("getSegmentDuration, unknown segment:",a);else if(c.ma(b.ja)&&isFinite(b.ja)&&c.ma(b.S)&&isFinite(b.S))return b.ja-b.S;};a.prototype.kka=function(a){var b;b=-1;this.ih.some(function(c,f){return c===a?(b=f,!0):!1;});-1!==b?this.ih.splice(b,1):this.Za("Unable to find branch:",a,"in branches array");};a.prototype.yab=function(a,b){var c;c=0;this.Dya(a).forEach(function(a){(a=a.Ic(b))&&(c+=a.E$);});return c;};a.prototype.xA=function(a,b){var c;c=0;this.Dya(a).forEach(function(a){(a=a.Ic(b))&&(c+=a.zA);});return c;};a.prototype.vr=function(a,b,c){if(!a.hb(b))return 0;for(var f=a.pe(b),f=c?f.Hb:f.fu;void 0===f;){if(!a.Df)return 0;a=a.Df;f=a.pe(b);f=c?f.Hb:f.fu;}a=this.Gza.Xd();return Math.max(f-a,0);};a.prototype.lHa=function(a,b){var c;if(void 0!==this.K.AB){c=m.lk()[b];a=this.yab(a,b);return c-a;}};a.prototype.jda=function(a){return this.ih.filter(function(b){if(b.P.Va===a)return!0;});};a.prototype.Rib=function(a,b){return this.wya(a,!1,b);};a.prototype.Qib=function(a,b){return this.wya(a,!0,b);};a.prototype.uAb=function(a,b,f){c.Ud(this.ih,function(c){c.P===a&&c.sRa(b,f);});c.Ud(this.dn,function(c){c.P===a&&(c.P=b);});};a.prototype.$Pa=function(){var a;a=this;c.Ud(this.ih,function(b){var c;c=a.Xa.Pf(b.P.Va);b.wc=c.Ur;});};a.prototype.pC=function(a){var b;b=this;c.Ud(this.ih,function(c){c.pe(1).track.Ac.forEach(function(c){var f;f=l.kL(c.Nf,c.O,a,b.H);k(f,c);});});};a.prototype.Dr=function(a,b,c,f){var h;for(;b;){h=b.Dr(a,c);if(h)return h;if(f)break;b=b.Df;}};a.prototype.aEa=function(a){var b,c;b=this;void 0===a&&(a=!1);c=this.ih;a&&(c=c.filter(function(a){return a!==b.Ec;}));c.forEach(function(a){a.active=!1;b.Wj.remove(a);});a||this.Wj.clear();return c;};a.prototype.Nyb=function(){var a;for(;0<this.ih.length;){a=this.ih[0];if(!a.active)break;if(a===this.Ec)break;if(!a.qob())break;a.Pg();this.ih.shift();}};a.prototype.VO=function(a,b,c,f,h){if(c>f){for(c-=f;a;)a.VO(b,c,h),a=a.Df;return c;}};a.prototype.cLa=function(a,b){for(var c={SL:null,jH:null,qc:null,Ui:0,Uh:0,$:[]};a;)a.gY(c,b),a=a.Df;return c;};a.prototype.Jbb=function(a){var b,c,f;b=this.Ec;if(b.TKa)c=b.TKa;else{f=this.Ec.wc;c=this.NT(b.ia,0,b);l.pf.forEach(function(a){var f;f=c.Ic(a);f&&(f.oC(0),f.e1(b.Ic(a).zg));});c.wc=f+a;b.TKa=c;}this.HD(c,b);};a.prototype.P8a=function(b,c,f){var h,l;p.assert(!b.Fu());if(!this.d8){this.d8=!0;this.vK=this.zk;h=this.Sk.id||a.Rda(0);this.Sk.id=h;this.dn[h]=this.Sk;this.Sk.ja=this.Xa.Elb().vHa();this.Sk.ny=!0;}l=void 0!==b.yk?b.yk:a.Rda(b.Va);b=this.r8(l,b,c,f,void 0,{},!0);b.ny=!0;this.cV.forEach(function(a){a.qj={};a.qj[l]={weight:100};a.jM=l;a.Av=!1;});this.cV=[b];};a.prototype.cu=function(a,b){var c,f,h,l;c=this.zk;f=c.q1(b,this.Xa.W);h=c.ia;l=c.children[a];if(b){if(!h.qj[a])return this.Ec.Za("chooseNextSegment, invalid destination:",a,"for current segment:",h.id),!1;if(c.Ki)return c.Ki===a;c.Ki=a;l&&c.AX&&this.HD(l,c);return!0;}if(void 0!==c.Ki)return!1;if(!l)return f.tMa=!0,!1;f.tMa=!l.Iaa();this.Xa.F9(void 0,t.DJ.Aia);c.AX=void 0;c.Ki=a;this.HD(l,c);c.Kca();this.Xa.PK();return!0;};a.prototype.Dob=function(a,b){var f,h,l,p;f=this;p=a.ia;b&&!a.Ki&&(a.Ki=p.jM,a.q1(!0,this.Xa.W,!0));a.children=Object.create(null);c.Ud(p.qj,function(b,c){a.Ki&&c!==a.Ki||(h=f.dn[c],l=f.B3a(h,a),a.children[c]=l);});a.Ki&&(b=a.children[a.Ki])&&this.HD(b,a);a.AX=!0;};a.prototype.LFb=function(){var a;a=0;c.Ud(this.ih,function(b){l.pf.forEach(function(c){b.hb(c)&&(a+=b.Ic(c).Ja.no);});});return a;};a.prototype.ZEb=function(a,b){var c,f,h;c=this;f=this.d4a(a,b);if(f){f!==this.Ec.ia?(this.aEa(),h=this.NT(f,a,this.Ec),h.Df=void 0,h.tla(void 0,void 0,!0),this.y2a(this.Ec),this.HD(h,this.Ec)):(this.aEa(!0).forEach(function(a){a.Pg();c.kka(a);c.Wj.remove(a);}),this.Ec.Qma(a));f===this.zk.ia&&(this.zk.Gs.shift(),h&&(h.Gs=this.zk.Gs,h.Ki=this.zk.Ki));this.Xf.vU(f,this.Ec.wc);this.Ec.AX=void 0;}else this.Za("findSegment no segment for manifestIndex:",b);};a.prototype.aLa=function(a,b){var c;c=a.ia;b||(b=c.jM);f.Zka(c.id);a.Ki||(a.Ki=b,a.q1(!0,this.Xa.W,!0));(b=a.children[a.Ki])&&this.HD(b,a);};a.prototype.aRa=function(a,b){if(this.Ec!==a){if(b)for(b=this.Ec;b&&b!==a;)b.active=!1,this.Wj.remove(b),b=b.Df;this.Ec=a;}};a.prototype.Cq=function(a,b){var c,h,p,d,m;c=this;if(this.Fu){h=this.K;p=this.zk;d=p.ia;m=f.Zka(d.id);!p.Ki&&!d.Av&&p.ja-b<=h.m_&&(this.Za(m+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.aLa(p));}l.pf.forEach(function(a){c.Ec.hb(a)&&c.rf[a].Cq();});};a.prototype.ivb=function(a,b){var c,f;if(this.Fu){c=this.vK;if(!(this.K.Wob&&a&&this.x9&&a.S===this.x9||(a=a.Ja.fd,c&&a.ia.id===c.ia.id))){f=null===c||void 0===c?void 0:c.Ic(1);f=null===f||void 0===f?void 0:f.zg;this.x9=null===f||void 0===f?void 0:f.S;this.vK=a;this.W2a(c);c=c&&c.Wbb(a);this.Xf.O5a(a.ia,b,c);}}};a.prototype.Wub=function(a,b,c){b.z_||(b.S=this.LHa(a,b.S,!0),c||(b.ja=this.LHa(a,b.ja,!1)),b.z_=!0,!1);};a.prototype.R1=function(a,b){var h;f.Zka(a);h=this.dn[a];h?c.Ud(h.qj,function(a,c){a.weight=b[c]||0;}):this.Za("updateChoiceMapEntry, unknown segment:",a);};a.prototype.LHa=function(a,b,c){a=c?a.SFa(b):a.FM(b);if(!a.length)return b;b=a[1];return c?b.S:b.ja;};a.prototype.Tya=function(a,b,c){var f;f=b?c.wd:c.se;return(b?c.Yb:c.qc)<=a&&a<f;};a.prototype.wya=function(a,b,f){var d;for(var h=this.Xa,l=this.Ec;l;){if((!c.ma(f)||h.kga(f,l.P.Va))&&this.Tya(a,b,l))return l;l=l.Df;}if(b)for(var l=Object.keys(this.Ec.children),p=0;p<l.length;p++){d=this.Ec.children[l[p]];if((!c.ma(f)||h.kga(f,d.P.Va))&&this.Tya(a,b,d))return d;}};a.prototype.B3a=function(a,b){var c,f;c=this.NT(a,a.S,b);f=c.tla(b,void 0,this.K.cka);l.pf.forEach(function(a){var h,l,p;if(c.hb(a)){h=c.Ic(a);l=b.Ic(a);p=f[a];1===a&&(c.wc=l.Hb+b.wc-p,c.XH=g.la.Of(p));h.oC(p);}});this.Xf.vU(a,c.wc);return c;};a.prototype.y2a=function(a){for(var b=[a.ia.id];a.Df;)a=a.Df,b.unshift(a.ia.id);this.S7(a);};a.prototype.S7=function(a){var b,f;b=this;f=a.ia;c.Ud(a.children,function(a){a&&b.S7(a);});this.Wj.remove(a);a.Pg();this.kka(a);this.Xf.L5a(f);};a.prototype.HD=function(a,b){var f,h,l,p;f=this;h=b.ia;b.P!==a.P&&this.Xa.$ya(a.P.Va);a.active=!0;this.Wj.enqueue(a);a.RE();l=m.time.ea();p={};c.Ud(b.children,function(b){var c,h;if(b){if(b.kd){c=b.Ic(0);h=b.Ic(1);b.kd.CL=[c?c.wo.xa:0,h?h.wo.xa:0];b.kd.Wgb=l-b.kd.YY;b.kd.YY=void 0;p[b.ia.id]=b.kd;}b.ia.id!==a.ia.id&&f.S7(b);}});b.children=Object.create(null);b.children[a.ia.id]=a;b.QD=void 0;this.aRa(a);this.Xf.M5a(a.ia,p);1<Object.keys(h.qj).length&&a.Iaa();};a.prototype.W2a=function(a){var b,c;if(a){b=m.time.ea();c=a.Gs[0];c&&void 0===c.DW?c.DW=b-c.requestTime:c||(this.Za("missing metrics for branch:",a.ia.id),c={o1:a.ia.id,R0:!0,DW:0,kd:{}},a.Gs.unshift(c));void 0===c.startTime&&(c.startTime=b);}};a.prototype.d4a=function(a,b){var f,h,d,m;p.assert(0<=a);for(var l in this.dn){d=this.dn[l];if(this.Xa.kga(d.P.Va,b)){if(d.S<=a&&(Infinity===d.ja||void 0===d.ja||a<d.ja))return d;m=Math.min(Math.abs(a-d.S),Math.abs(a-d.ja));if(c.V(f)||m<f)f=m,h=d;}}return h;};a.prototype.r8=function(a,b,c,f,h,l,p,d,m){b=new q.$va(a,b,c,f,h,l,p,d,void 0,m);return this.dn[a]=b;};a.prototype.n6a=function(a,b,f){var h,l,p;h=this;this.Sk=void 0;this.cV=[];l=null;p=null;c.Ud(b.segments,function(b,d){var m,q,k,t,g;m=b.startTimeMs;q=b.endTimeMs;k={};c.Ud(b.next,function(a,c){k[c]={weight:a.weight||0,UFb:a.transitionHint||b.transitionHint,FRb:"number"===typeof a.earliestSkipRequestOffset?a.earliestSkipRequestOffset:b.earliestSkipRequestOffset};});t=b.defaultNext;c.V(t)&&(t=Object.keys(k)[0]);g=c.V(t);t=h.r8(d,a,m,q,t,k,g,b.transitionDelayZones,b.transitionHint);m<=f&&(f<q||c.V(q))?h.Sk=t:m>f&&(!l||m<p)&&(l=d,p=m);g&&h.cV.push(t);});this.Sk||(this.Sk=l?this.dn[l]:this.dn[b.initialSegment]);};a.prototype.NT=function(a,b,c,f){var h,l,p,d;h=a.P;l=this.Xa.Pf(h.Va);p=l.Ur;d=[];[0,1].forEach(function(a){h.hb(a)&&d.push(l.am(a));});a=new t.Rra(this.Xa,this.K,this.Xf,this.H,this,this.XT,this.Gza,this.wE,a,d,g.la.Of(b),p,c,f?g.la.Of(f):void 0,this.PM,this.Xa.rf,this.Xa.gr);this.B2a(a);this.ih.push(a);return a;};a.prototype.B2a=function(a){var c;function b(a){c.Xa.emit(a.type,a);}c=this;a.addListener("locationSelected",b);a.addListener("logdata",b);a.addListener("serverSwitch",b);a.addListener("streamSelected",b);a.addListener("lastSegmentPts",b);a.addListener("managerdebugevent",b);a.addListener("requestCreated",function(a){a=a.request;c.Xa.K9(a.M,a.S);});};a.prototype.Dya=function(a){for(var b=[a];a.Df;)a=a.Df,b.push(a);return b;};return a;}();b.N2=d;},function(d,b,a){var t,q;function c(a,b,c,p,d,q){return new m(a,b,c,p,d,q);}function k(a){return a&&0<=a.indexOf(".__metadata__");}function m(a,b,c,p,d,m){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=p;this.creationTime=d;this.lastRefresh=m;return this.XSa();}t=a(7);q=a(107);a(106);new q.Console("MEDIACACHE","media|asejs");m.prototype.refresh=function(){this.lastRefresh=q.time.now();return this.XSa();};m.prototype.jRa=function(a){this.size=a;};m.prototype.rDa=function(){var a;a=q.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};m.prototype.XSa=function(){this.lastMetadataUpdate=q.time.now();return this;};m.prototype.constructor=m;d.R={create:c,Mda:function(a){var b;b=a;"string"===typeof a&&(b=JSON.parse(a));if(b&&b.partition&&!t.V(b.lifespan)&&b.resourceIndex&&b.creationTime&&b.lastRefresh)return a=c(b.partition,b.resourceIndex,b.lifespan,-1,b.creationTime,b.lastRefresh),b.lastMetadataUpdate&&(a.lastMetadataUpdate=b.lastMetadataUpdate),!t.V(b.size)&&0<=b.size&&a.jRa(b.size),a.rDa(),a.convertToBinaryData=b.convertToBinaryData,a;},sba:function(a){return a+".__metadata__";},iX:function(a){return k(a)?a.slice(0,a.length-13):a;},oG:k};},function(d,b,a){var K,E,G,N,C,n,r,aa,R,A,T,u,fa;function c(){}function k(a,b){var f,l,d,m;f=K.Sb(b)?b:c;this.K=a||{};(function(a,b,c){this.gi[a].Gd[b]=c;}.bind(this));(function(a,b){return this.gi[a].Gd?this.gi[a].Gd[b]:void 0;}.bind(this));this.on=this.addEventListener=u.addEventListener;this.removeEventListener=u.removeEventListener;this.emit=this.Ha=a.JRb?u.Ha:c;l=N.seb(a);d=this.K.dailyDiskCacheWriteLimit;if(l){this.$q=l;m=p(a.Uha||fa,N.$kb());this.Ht=function(a){return K.V(m)||null===m||void 0===this.gi[a]?!1:!K.V(m[a]);};m?(this.gi={},b=E.Promise.all(Object.keys(m).map(function(b){return new E.Promise(function(c,f){var h;h=m[b];h.UTa=a.UTa;new C(b,l,h,function(a,b){a?f(a):c(b);},d);});})).then(function(a){a.map(function(a){var b;b=a.Gw;this.gi[b]=a;m[b].Djb=m[b].Kp-a.Gt;this.gi[b].on(C.Nd.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.Ha("mediacache",a);}.bind(this));this.gi[b].on(C.Nd.zxa,function(a){a=a||{};a.partition=b;a.type="save";this.Ha("mediacache",a);}.bind(this));this.gi[b].on(C.Nd.ERROR,function(a){a=a||{};a.partition=b;a.type=C.Nd.ERROR;this.Ha("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this)).then(function(a){h(l,E.storage.vD,Object.keys(m));return a;}.bind(this)).then(function(a){Object.keys(a.gi).map(function(b){a.gi[b].lea().map(function(c){a["delete"](b,c);});});a.Io=!0;f(null,a);}.bind(this))["catch"](function(a){G.error("Failed to initialize media cache ",a);this.kB=A.ipa;f(this.kB,this);}.bind(this)),T.ns(b)):(this.kB=A.FZa,f(this.kB,this));}else this.kB=A.ipa,f(this.kB,this);}function m(a,b,c,f,h,l){var p;p=l?"mediacache-error":"mediacache";b={partition:c,type:b,resource:f,time:E.time.now()};l&&(b.error=l);h&&(K.ma(h.duration)&&(b.duration=h.duration),K.ma(h.Wt)&&(b.bytesRead=h.Wt));try{a.Ha(p,b);}catch(wa){G.warn("caught exception while emitting basic event",wa);}}function t(a,b,c,f,h){var l;l=h?"mediacache-error":"mediacache";b={partition:c,type:b,resources:f,time:E.time.now()};h&&(b.error=h);try{a.Ha(l,b);}catch(Q){G.warn("caught exception while emitting basic event",Q);}}function q(a){return!K.V(a)&&!K.Na(a)&&K.ma(a.lifespan);}function l(a){return!n.oG(a)&&!aa.$pb(a);}function h(a,b,f){a.query(b,"",function(h,l){h||Object.keys(l).filter(function(a){return 0>f.indexOf(a.slice(0,a.indexOf(".")));}).map(function(f){a.remove(b,f,c);});});}function f(a,b,c){var h,l;function f(b){a["delete"](h,function(f){f?c(f):(delete a.Gd[l],f=Object.keys(b.resourceIndex),f=E.Promise.all(f.map(function(b){return new E.Promise(function(c,f){a["delete"](b,function(a){a?f(a):c(b);});});})).then(function(){c();},function(a){c(a);}),T.ns(f));});}n.oG(b)?(h=b,l=n.iX(b)):(h=n.sba(b),l=b);(b=a.Gd[l])?f(b):a.read(h,function(a,b){a?c(a):f(b);});}function p(a,b){var c,f,h;c={};f=a.partitions.reduce(function(a,b){return a+b.capacity;},0);h=b/f;a.partitions.map(function(a){var b;b=a.key;c[b]={};c[b].Kp=Math.floor(h*a.capacity);c[b].kfb=a.dailyWriteFactor||1;c[b].gUb=a.owner;c[b].jib=a.evictionPolicy;});return c;}function g(a,b,c){if(c)return aa.Dgb(a,b).reduce(function(a,b){Object.keys(b).map(function(c){a[c]=b[c];});return a;},{});c={};c[a]=b;return c;}function H(a,b,c,f,h,l,p,d,m,q,k){return function(t,g){t?K.isArray(t)?(g=t.map(function(a){return a.error;}),g.some(function(a){return a.code===A.SC.code;})&&!g.some(function(a){return a.code===A.tT.code;})?k(q,t,function(){m.save(b,c,f,h,l,p);}):(q["delete"](d),delete q.Gd[c],l({error:t[0].error,hs:t[0].hs,type:t[0].type,bBa:t}))):l({error:t,hs:b,type:"save"}):(t=g.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.wZ;},0),q.Gd[c].jRa(t),t={Djb:g.uj,cRb:g.kF,Gi:0,items:g},0<g.Gi&&(t.Gi=g.Gi),0<g.duration&&(t.duration=g.duration),l(null,t));};}K=a(7);E=a(107);G=new E.Console("MEDIACACHE","media|asejs");N=a(747);C=a(746);n=a(364);r=a(106);aa=a(739);R=a(738);A=a(206);T=a(205);u=a(105).EventEmitter;fa={jUb:[]};k.prototype.$B=function(a,b,f){var h;h=K.Sb(f)?f:c;this.Ht(a)?this.gi[a].query(b,function(a,b){a?(G.error("Failed to query resources",a),h([])):h(b.filter(l));}):h([]);};k.prototype.read=function(a,b,f){var h,l,p,d;h=K.Sb(f)?f:c;if(this.Ht(a)){l=this.gi[a];p=l.Gd[b];if(!n.oG(b)&&this.K.xtb){d=function(c){l.r0(Object.keys(c),function(c,f,l){c?h(A.ED.Qn("Failed to read "+b,c)):(m(this,"read",a,b,l),h(null,aa.zpb(f)));}.bind(this),c);}.bind(this);p?d(p.resourceIndex):this.jzb(a,b,function(a,c){a?h(A.ED.Qn("Failed to read "+b,a)):d(c.resourceIndex);});}else l.read(b,function(c,f,l){c?h(A.ED.Qn("Failed to read "+b,c)):(p&&p.convertToBinaryData&&(f=R.wcb(f)),m(this,"read",a,b,l),h(null,f));}.bind(this));}else h(A.Uv);};k.prototype.r0=function(a,b,f){var h,l;h=K.Sb(f)?f:c;if(this.Ht(a)){l={};b=E.Promise.all(b.map(function(b){return new E.Promise(function(c,f){this.read(a,b,function(a,h){a?(h={},h[b]=a,f(h)):(l[b]=h,c());});}.bind(this));}.bind(this))).then(function(){h(null,l);},function(a){h(a);});T.ns(b);}else h(A.Uv);};k.prototype.vQa=function(a,b,f){var h;h=K.Sb(f)?f:c;this.Ht(a)?"[object Object]"!==Object.prototype.toString.call(b)?h(A.sT.Qn("items must be a map of keys to objects")):(f=new E.Promise(function(c){var f,h;f=this.gi[a].lea();h=Object.keys(b);(f=f.filter(function(a){return-1===h.indexOf(a);}))&&0<f.length?this.wEa(a,f,function(){c();}):c();}.bind(this)).then(function(){return E.Promise.all(Object.keys(b).map(function(c){return new E.Promise(function(f,h){this.save(a,c,b[c].Ln,b[c].Cd,function(a,b){a?(G.error("Received an error saving",c,a),h(a)):f(b);},!0);}.bind(this));}.bind(this)));}.bind(this)).then(function(c){var f,l,p;try{f=Number.MAX_VALUE;l=Number.MAX_VALUE;p=c.reduce(function(a,b){b.uj&&b.uj<f&&(f=b.uj);b.kF&&b.kF<l&&(l=b.kF);f<Number.MAX_VALUE&&(a.freeSize=f);l<Number.MAX_VALUE&&(a.dailyBytesRemaining=l);K.ma(b.Gi)&&(a.bytesWritten+=b.Gi);K.ma(b.duration)&&(a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(b),time:E.time.now(),bytesWritten:0,duration:0});this.Ha("mediacache",p);h(null,p);}catch(ga){h(err);}}.bind(this),function(b){K.isArray(b.bBa)?b.bBa.forEach(function(b){this.Ha("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.pP});}.bind(this)):this.Ha("mediacache-error",{partition:a,type:"saveMultiple",error:b});h(b);}.bind(this)),T.ns(f)):(K.Sb(f)?f:c)(A.Uv);};k.prototype.save=function(a,b,f,h,l,p){var d,k,y,N,C,X,P,aa,T;d=K.Sb(l)?l:c;if(this.Ht(a)){k=this.gi[a];y=n.sba(b);l=k.lea();l=l.filter(function(a){return a!==b;});if(q(h)){N=g(b,f,this.K.xtb);C=k.Gd[b]||{};X=C.resourceIndex;X&&Object.keys(X).map(function(a){K.V(N[a])&&k["delete"](a);});h.convertToBinaryData&&(f=R.xcb(N),N=g(b,f,!1));X=E.time.now();P={};P.partition=a;P.resourceIndex=Object.keys(N).reduce(function(a,b){a[b]=r.hfa(N[b]);return a;},{});P.creationTime=C.creationTime||X;P.lastRefresh=X;P.lifespan=h.lifespan;P.lastMetadataUpdate=X;P.size=C.size;P.convertToBinaryData=h.convertToBinaryData;aa=function(a,c,f){a.Zfb(function(h,l){h&&G.error("Evicting","Failed to delete some orphaned records",h);l.eka?f():(h=a.mlb())?this["delete"](a.getName(),h,function(h){h?(p||(K.isArray(c)?c.forEach(function(b){t(this,"save",a.getName,b.pP,b.error);}.bind(this)):m(this,"save",a.getName(),b,void 0,c)),d(c)):f();}.bind(this)):d(A.SC);}.bind(this));}.bind(this);T=function(){var a,b,c;a=this.gi;b=0;c=E.time.now();if(!K.V(a))for(var f in a)b+=a[f].ykb(c);return b;}.bind(this);this.wEa(a,l,function(){k.replace(y,P,function(c,l){l?(k.Gd[b]=n.Mda(P),k.vAb(N,H(N,a,b,f,h,d,p,y,this,k,aa),p,T)):c.code===A.SC.code?aa(k,c,function(){this.save(a,b,f,h,d,p);}.bind(this)):d(c);}.bind(this),p,T);}.bind(this));}else d(A.f_a);}else d(A.Uv);};k.prototype["delete"]=function(a,b,h){var l;l=K.Sb(h)?h:c;this.Ht(a)?f(this.gi[a],b,function(c){m(this,"delete",a,b,void 0,c);l(c);}.bind(this)):l(A.Uv);};k.prototype.wEa=function(a,b,h){var l,p;l=K.Sb(h)?h:c;if(this.Ht(a)){p=this.gi[a];h=E.Promise.all(b.map(function(a){return new E.Promise(function(b){f(p,a,function(c){b({aa:K.V(c),error:c,Ln:a});}.bind(this));}.bind(this));}.bind(this))).then(function(b){var d,m;for(var c=[],f=[],h=[],p=0;p<b.length;p++){d=b[p];d.aa?c.push(d.Ln):d.error&&f.push(d);}0<c.length&&t(this,"delete",a,c);0<f.length&&(h=f.map(function(a){return a.Ln;}),b=T.wIa(f),m=b[0],b.forEach(function(b){G.error("Failed to delete resources ",b.error,b.pP);t(this,"delete",a,b.pP,b.error);}.bind(this)));b={};b.IUb=c;0<h.length&&(b.JUb=h);m?l(m,b):l(void 0,b);}.bind(this),function(c){t(this,"delete",a,b,c);l(c);}.bind(this));T.ns(h);}else l(A.Uv);};k.prototype.clear=function(a,b){var f;f=K.Sb(b)?b:c;this.Ht(a)?this.gi[a].clear(function(a){f(a.filter(l));}):f(A.Uv);};k.prototype.jzb=function(a,b,f){var h,l;h=K.Sb(f)?f:c;if(this.Ht(a)){f=n.sba(b);l=this.gi[a];l.read(f,function(a,c){var f;if(a)h(A.g_a);else{f=n.Mda(c)||{};l.OHa(Object.keys(f.Aka),function(a){f.size=a;(a=l.Gd[b])&&(f.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=f.lastMetadataUpdate?l.Gd[b]=f:a.lastMetadataUpdate&&(a.lastMetadataUpdate>f.lastMetadataUpdate||K.V(f.lastMetadataUpdate))&&(f=a));h(null,f);});}});}else h(A.Uv);};k.prototype.U1=function(a){E.tN(a);};k.prototype.constructor=k;d.R=k;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.mba=void 0;b.mba=function(a,b){var c;if(!Array.isArray(a.zDa))return a;c=a.xo?a.xo():Object.create(a);a.zDa.forEach(function(a){if(void 0!==a.iub&&b.duration>=a.iub&&a.config)for(var d in a.config)c[d]=a.config[d];});return c;};},function(d){d.R="4.1.1023";},function(d,b,a){var t,q,l,h;function c(a,b,c){this.Wo=b;this.rn=c;this.wv=this.vN=this.T_=this.$Na=this.ZNa=this.XG=this.Ac=this.Axb=this.rn=this.uh=this.Hb=this.S=this.EQ=this.FQ=this.$=this.wJa=this.Uw=void 0;}function k(a,b,c){this.ja=b;this.UJa=c;this.xBa=this.mUa=this.k$=this.FQ=this.Wr=this.fl=void 0;}function m(a,b,h,d,m,q){var f;f=new c(0,b,a.rn);a.forEach(function(a){var c,h;c=a.buffer;h=c.$;a.M===t.Ma.AUDIO?f.Uw=h.length?h[0].O:void 0:a.M===t.Ma.VIDEO&&(f.wJa=h.length?h[0].O:void 0,f.$=h,f.FQ=c.Ul-c.Hc,f.EQ=c.Uh,f.S=c.Hc,f.Hb=c.Hb,f.uh=a.Dy,f.rn=a.rn,f.Axb=b-a.rn,f.Ac=a.Ac.filter(function(a){return l(a,!0);}),f.XG=h.filter(function(a){return f.S<=a.rH;}).length);});this.sh=f;this.Xl=void 0;this.eEa=d;this.kaa=m;this.$ja=this.t0=this.rNa=this.Aq=this.ME=this.NFa=this.Hk=this.Ac=this.Xl=void 0;this.g9a=q;}t=a(18);b=a(31);q=b.assert;l=b.pB;h=a(20).na;c.prototype.constructor=c;k.prototype.constructor=k;m.prototype.constructor=m;m.prototype.NF=function(a,b){var c,f,l,p,d,m,q,g,n,r,R,A,T,u,fa,la,O,sa,ua,ya,Q;c=this.sh;f=[];p=a[t.Ma.VIDEO];d=a[t.Ma.AUDIO];if(void 0===p||void 0===d)return!1;m=p.buffer;q=d.buffer;g=c.Ac.filter(function(a){return a.$X();});if(void 0===m||void 0===q||void 0===g||0===g.length)return!1;l=new k(0,p.Hc,b===h.Ig);n=0;r=0;R=0;A=0;u=c.S;a=a[t.Ma.VIDEO].Hc;fa=c.$;T=c.XG;for(var U=0;U<T;U++){la=fa[U];O=la.offset;sa=la.offset+la.ba-1;ya=la.Br;ua=la.qv;Q=ua+ya;la&&ua<=a&&Q>u&&(ya=la.Br,ua=Math.min(ya,Math.min(a,Q)-Math.max(ua,u)+1),A+=ua,n+=ua/ya*(sa-O+1),r+=la.O*ua,R+=la.vc*ua);}c.ZNa=n;c.$Na=A;c.T_=0<A?r/A:0;c.Qwb=0<A?R/A:0;c.vN||(c.vN=0,g.some(function(a,b){if(a.O===c.wJa)return c.vN=b,!0;}));g.forEach(function(a){var b,h;a=a.$X();b=[];c.wv||(c.wv=a.Yl(c.S,void 0,!0));l.fl||(l.fl=a.Yl(l.ja,void 0,!0),l.Wr=a.length-1);c.uh!==c.wv+c.XG&&(c.uh=c.wv+c.XG);T=Math.min(l.Wr,l.fl+1);for(var p=c.wv;p<=T;p++)h=a.get(p),b[p]=h;f.push(b);});b===h.Ig&&(l.FQ=m.Ul-m.Hc,l.k$=q.Ul-q.Hc,l.mUa=p.qPa,l.xBa=d.qPa);this.Xl=l;this.Ac=g;this.Hk=f;return this.NFa=!0;};m.prototype.vu=function(){var a,b,c,h,l,d,m,k,t,g,n,r,A,T,u;if(this.Gn)return this.Gn;b=this.Aq;a=this.sh;h=this.Xl;l=this.Ac;d=this.rNa;r=this.g9a;q(void 0!==b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace&&0===b.trace.length||void 0===b.timestamp)h.UJa?(t=!1,m=!0):h.fl-a.wv+1<=a.XG?m=t=!0:(t=!0,m=!1),k=!0;if(d){g=d.Jo;n=d.gX;for(var R=0;R<r.length;R++)c=r[R],(b=d[c])&&b.gy&&(m=!0);}a={bst:a.rn,pst:a.Wo,s:a.wv,e:h.fl,prebuf:a.XG,brsi:a.uh,pbdlbytes:a.ZNa,pbdur:a.$Na,pbtwbr:a.T_,pbvmaf:a.Qwb};k&&(a.nt=k);m&&(a.nd=m);g&&(a.invalid=g);n&&(a.exception=n);this.$ja&&(a.rr=this.$ja);this.t0&&(a.ra=this.t0);if(!m&&!g&&!n&&this.eEa){a.bitrate=l.map(function(a){return a.O;});b=this.Aq;c=b.trace;A=[];T=0;c.forEach(function(a){a=Number(a).toFixed(0);A.push(a-T);T=a;});a.tput={ts:b.timestamp,trace:A,bkms:b.Ql};}if(m||k||g||n)a.feasible=t;else for(a.sols={},a.elapsed=d.UW,R=0;R<r.length;R++){c=r[R];b=d[c];m={};if(b&&b.As&&(m.algelapsed=b.f9a,m.maxHeapTotal=b.hq,m.f=b&&b.oi||!1,m.dltwbr=b.Hgb,m.dlvmaf=b.IEa,m.dlvdur=b.mca,m.dlvbytes=b.lca,m.dlabytes=b.kca,this.eEa)){T=0;u=[];b.As.filter(function(a){return a;}).map(function(a){return a.pd;}).forEach(function(a){u.push(a-T);T=a;});m.strmsel=u;}a.sols[c]=m;}return this.Gn=a;};d.R=m;},function(d,b,a){var c,k,m,t,q,l,h,f,p,g,H,K;Object.defineProperty(b,"__esModule",{value:!0});b.Q1a=b.t5=b.S1a=b.qwa=void 0;c=a(7);k=a(4);m=a(31).pB;t=a(13).Yx;q=a(368);l=a(384);h=a(230);f=a(20);p=a(6);d=function(){function a(a,b,c,f,h,l,p,d,m,q,k){var t;t=this;this.H=a;this.qf=b;this.K=c;this.hb=f;this.W=h;this.MH=l;this.tb=p;this.Sa=d;this.af=m;this.BL=q;this.Lw=k;this.YU=[];this.Q9=[];this.hza=[];this.Pxa=void 0;[0,1].forEach(function(a){t.hb(a)&&(t.YU[a]=new K(t.H,a),t.Q9[a]=new g(a),t.hza[a]=new H(a));});this.xw=void 0;}Object.defineProperties(a.prototype,{He:{get:function(){return this.YU;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yv:{get:function(){return this.Q9;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$r:{get:function(){return this.hza;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qt:{get:function(){return this.Pxa;},set:function(a){this.Pxa=a;},enumerable:!1,configurable:!0}});a.prototype.RZ=function(a){var b,f,h,l,p;b=this.K;f=a.M;h=k.lk()[f];b=b.iHb?0===f?b.oL:b.HQ:1===f?b.oL:b.HQ;l=this.W.Yc();p=this.W.Xd();f=this.BL.cLa(a.Ja.fd,f);h={Kp:h,S:f.qc,Hc:p,Hb:f.jH||p,Ul:f.SL||p,Uh:f.Uh,Ui:f.Ui,Jda:f.$.length,$:[]};b={state:l,Rx:this.W.Rx(),Dy:a.sk,buffer:h,rca:b,SKa:!!this.MH.TN,vM:!!this.MH.ss,no:this.tb&&this.tb.no,bka:a.$mb};void 0===b.Dy&&(b.Dy=a.kda(h.Hb));h.$=f.$;c.ma(h.S)?a.seeking&&h.Hc!=h.S&&(h.Hc=h.S):(h.S=0,h.Hb=0);this.qf.kbb(b);this.qf.N8a(b);return b;};a.prototype.jbb=function(a,b,c){var d,q;a=this.YU[a];for(var f=a.Po,h="manifest",l=0,p=b.length-1;0<=p;p--){d=b[p];q=d.O;if(m(d)){l=Math.max(l,q);break;}else!d.inRange&&d.tF&&Array.isArray(d.tF)?h=d.tF.join("|"):this.K.B1&&!d.zx?h="bc":d.Cn?d.zu&&(h="hf"):h="av";}if(void 0===f||l!==f){a.Po=l;if(this.Lw.Bo)try{this.xw&&this.Ynb();}catch(oa){this.Sa.om("Hindsight: Error when handling maxbitrate chagned: "+oa);}this.Sa.dvb(f,l,h,c);}};a.prototype.Xmb=function(a){return this.Zea(a).Eg;};a.prototype.Zea=function(a){var b,h,d,m,q,k,t,g,y,H,K,G,E;b=this.K;h=a.M;d=1==h;q=this.YU[h];k=this.Q9[h];if(!q.um)return{Eg:void 0};t=this.RZ(a);g=a.yq;y=g.Nu;H=a.IZ;K=H.P;G=a.track.Ac;E=y?y.Eg:q.Ada;if(y&&(m=y.O,y&&!y.track.equals(g.track))){E=l.lda(G,m);void 0===E&&a.Za("Unable to find stream for bitrate "+m);m=G[E];if(y.O!==m.O||1===h)t.state=f.na.Kg;y=m;}if(!K.gm.zQ(K.oa,G))return a.tf("location selector did not find any urls"),{Eg:void 0};if(!d&&(m=b.dI,!(m&&0<m.length)&&E&&G[E]&&y&&y.location===G[E].location))return{Eg:E};t=a.ZH.X0(t,G,void 0,this.qf.zmb(h),q.um.config.jv,K.Hh);if(!t)return a.tf("stream selector did not find a stream"),{Eg:void 0};this.MH.ss&&this.MH.ss.R8a(a.M,t,G);d&&this.jbb(h,G,a.Hb);h=t.pd;G=G[h];y=G.O;h!=E&&(d&&b.AF&&this.af.Gxa(a,y),d||this.qf.NH(y));c.ma(q.Ada)||(q.Ada=h);a.nj||(t.nj?(p.assert(void 0!==t.JV),a.mC(t.JV),k.Hp=t.JV):(a.Xx=t.Xx,a.hC=t.hC,a.Oh=t.Oh));this.et();d&&K.nla(H,t.nx);return{sa:G.sa,Eg:h};};a.prototype.et=function(){var a,b,c,f,h,l;c=this.He[0];f=this.He[1];h=this.yv[1];l=this.yv[0];c=this.BL.Rb.fbb(null!==(a=null===f||void 0===f?void 0:f.oq)&&void 0!==a?a:0,null!==(b=null===c||void 0===c?void 0:c.oq)&&void 0!==b?b:0,this.Qt,this.MH.VB);c.Hp&&(this.MH.Ik&&h?h.Hp=c.Hp:l&&(l.Hp=c.Hp));return c.nj;};a.prototype.ida=function(a,b){var c,l,p,d;c=this;if(this.xw){l=this.xw;p=this.W.Xd();d=[];b&&(p=b.ja);h.pf.forEach(function(b){var h,l;h=c.BL.Rb.Ic(b);if(h){l=c.RZ(h);l.M=b;l.Hc=p;a===f.na.Ig&&(l.qPa=h.Ja.I$(p));d[b]=l;}});l.NFa||l.NF(d,a)||this.xka();return l;}};a.prototype.Ynb=function(){var a,b,c,f;a=this;b=this.xw;c=this.K;f=[];b&&(this.ida(void 0),b&&!b.ME&&this.qf.Qja.Vca(b));h.pf.forEach(function(b){var c,h;c=a.BL.Rb.Ic(b);if(c){h=a.RZ(c);h.rn=k.time.ea();h.Ac=c.track.Ac;h.M=b;f[b]=h;}});b=k.lk();b={e8a:b[0],qI:b[1],$N:c.BB,Wu:c.Wu};this.xw=b=new q(f,k.time.ea(),void 0,this.Lw.BF,b,c.kN);};a.prototype.xka=function(){this.xw=void 0;};a.prototype.GGb=function(a){var b,c,l,p,d;b=this;c=a.oldValue;l=a.newValue;p=this.xw;a=this.K;l===f.na.Nc&&c!==f.na.Nc?(p&&this.H.warn("override an existing play segment!"),d=[],h.pf.forEach(function(a){var c,f,h;c=b.BL.Rb.Ic(a);if(c){f=b.RZ(c);h=b.He[a];h.Mla?(f.rn=h.Mla,h.Mla=void 0):f.rn=h.rn;f.Ac=c.track.Ac;f.M=a;d[a]=f;}}),l=k.lk(),l={e8a:l[0],qI:l[1],$N:a.BB,Wu:a.Wu},this.xw=p=new q(d,k.time.ea(),c,this.Lw.BF,l,a.kN)):l!==f.na.Nc&&c===f.na.Nc&&p&&(this.ida(l),p&&!p.ME&&this.qf.Qja.Vca(p),this.xka());};return a;}();b.qwa=d;g=function(){function a(a){this.M=a;this.EL=this.Do=this.Eu=this.Hp=this.Ho=void 0;}a.prototype.NGb=function(a,b,c,f){this.Ho=a?a:this.Ho;this.Hp=this.Hp;this.Eu=b?b:this.Eu;this.Do=c?c:this.Do;this.rpb=f?f:this.rpb;};return a;}();b.S1a=g;H=function(){return function(a){this.M=a;this.DZ=this.Vga=this.DZ=this.Sga=this.tB=void 0;};}();b.t5=H;K=function(){return function(a,b){this.M=b;this.H=t(k,a,"["+b+"]");this.tf=this.H.error.bind(this.H);this.Za=this.H.warn.bind(this.H);this.kj=this.H.trace.bind(this.H);this.wb=this.H.log.bind(this.H);this.XD=this.H.debug.bind(this.H);this.Ada=this.rn=this.Ol=this.um=void 0;this.QO=this.oq=0;this.uI=!1;this.Po=void 0;};}();b.Q1a=K;},function(d,b){function a(a,b){return a<b?-1:a>b?1:0;}Object.defineProperty(b,"__esModule",{value:!0});b.w5=void 0;d=function(){function b(b,c){this.data=null!==b&&void 0!==b?b:[];this.compare=null!==c&&void 0!==c?c:a;if(!this.empty)for(b=(this.length>>1)-1;0<=b;b--)this.mya(b);}Object.defineProperties(b.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{empty:{get:function(){return 0===this.data.length;},enumerable:!1,configurable:!0}});b.prototype.push=function(a){this.data.push(a);this.wAa(this.length-1);};b.prototype.pop=function(){var a,b;if(!this.empty){a=this.data[0];b=this.data.pop();this.empty||(this.data[0]=b,this.mya(0));return a;}};b.prototype.eH=function(){return this.data[0];};b.prototype.qyb=function(a){a=this.data.indexOf(a);-1!==a&&this.wAa(a);};b.prototype.wAa=function(a){for(var b=this.data,c=this.compare,d=b[a],l,h;0<a;){l=a-1>>1;h=b[l];if(0<=c(d,h))break;b[a]=h;a=l;}b[a]=d;};b.prototype.mya=function(a){for(var b=this.data,c=this.compare,d=this.length>>1,l=b[a],h,f,p;a<d;){h=(a<<1)+1;p=b[h];f=h+1;f<this.length&&0>c(b[f],p)&&(h=f,p=b[f]);if(0<=c(p,l))break;b[a]=p;a=h;}b[a]=l;};return b;}();b.w5=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.H2=void 0;c=a(207);d=function(){var C1i;C1i=2;function a(a,b){var K1i,a1i;K1i=2;while(K1i!==3){a1i="1SIY";a1i+="b";a1i+="Z";a1i+="rNJC";a1i+="p9";switch(K1i){case 2:this.config=a;this.DG=b;this.W$=null;a1i;K1i=3;break;}}}while(C1i!==3){switch(C1i){case 2:a.prototype.GEa=function(a,b){var s1i,d;s1i=2;while(s1i!==9){switch(s1i){case 2:d=null===this.W$?a*(100-this.config.F1)/100:c.M$(a,this.W$);b=null!==b&&void 0!==b?b:this.DG;this.config.$ga&&b?(a=c.M$(a,b),a=Math.max(a,d)):a=d;return a;break;}}};a.prototype.NH=function(a){var P1i;P1i=2;while(P1i!==1){switch(P1i){case 2:this.W$=a;P1i=1;break;case 4:this.W$=a;P1i=2;break;P1i=1;break;}}};a.prototype.Oma=function(a){var V1i;V1i=2;while(V1i!==1){switch(V1i){case 4:this.config=a;V1i=4;break;V1i=1;break;case 2:this.config=a;V1i=1;break;}}};return a;break;}}}();b.H2=d;},function(d,b,a){var m,t,q,l,h,f;function c(a,b,c,h){l(!m.V(h),"Must have at least one selected stream");return new f(h);}function k(a,b,c,h){l(!m.V(h),"Must have at least one selected stream");return new f(h);}m=a(7);b=a(31);t=b.console;q=b.debug;l=b.assert;h=b.pB;f=b.Om;d.R={STARTING:function(a,b,c){var p,d,m,k;function l(c,f){var h,l,p,d;h=c.id;l=c.O;p=c.Fa||0;d=!!p;q&&t.log("Checking feasibility of ["+f+"] "+h+" ("+l+" Kbps)");if(!c.yj)return q&&!c.Cn&&t.log("  Not available"),q&&!c.inRange&&t.log("  Not in range"),q&&c.zu&&t.log("  Failed"),!1;if(l>a.YN)return q&&t.log("  Above maxInitAudioBitrate ("+a.YN+" Kbps)"),!1;if(!(l*a.j_/8<b.buffer.Kp))return q&&t.log("  audio buffer too small to handle this stream"),!1;if(d){q&&t.log("  Have throughput history = "+d+" : available throughput = "+p+" Kbps");if(l<p/m)return q&&t.log(" +FEASIBLE: bitrate less than available throughput"),!0;q&&t.log(" bitrate requires more than available throughput");return!1;}c=a.mO;b.lZ&&(c=Math.max(c,a.lO));if(l<=c)return q&&t.log("  Bitrate is less than max of minInitAudioBitrate ("+a.mO+" Kbps) "+(b.lZ?" and also minHCInitAudioBitrate ("+a.lO+" Kbps)":"")),q&&t.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;q&&t.log("  No throughput history");return!1;}p=new f();m=a.gQb||1;for(k=c.length-1;0<=k;--k){d=c[k];if(l(d,k)){p.pd=k;break;}h(d)&&(p.pd=k);}return p;},BUFFERING:c,REBUFFERING:c,PLAYING:k,PAUSED:k};},function(d,b,a){var c,k,m,t,q,l,h,f,p;Object.defineProperty(b,"__esModule",{value:!0});b.AP=void 0;c=a(59);k=a(7);m=a(74);t=a(18);d=a(31);q=a(793);l=a(20);h=d.assert;f=d.Om;b.AP=p;(function(){var N1i,s5Q;N1i=2;while(N1i!==5){s5Q="1SIYbZr";s5Q+="N";s5Q+="JCp9";switch(N1i){case 2:b.AP=p=function(b,p,d,g,y,n){var Q62=m1ii;var y1i,G,E,N,C,r,u,U,la,O,sa,ua,ya,Q,wa,ga,Ga,z,ka,Ea,Sa,Oa,F,M,i5Q,J5Q,V5Q,y5Q;function K(a,c,f,l,d,m){var q1i,k,t,g,y,H,K,G,N,X,A,P,R,aa,T,fa,w5Q,g5Q,o5Q,F5Q,u5Q,z5Q,q5Q,d5Q,B5Q,R5Q;q1i=2;while(q1i!==61){w5Q="Second stream";w5Q+=" un";w5Q+="defined";g5Q="First st";g5Q+="ream not usab";g5Q+="le";o5Q="S";o5Q+="econd stream";o5Q+=" not ";o5Q+="us";o5Q+="able";F5Q="S";F5Q+="econd s";F5Q+="tream has failed";u5Q="S";u5Q+="econd strea";u5Q+="m ";u5Q+="not i";u5Q+="n range";z5Q="Se";z5Q+="cond str";z5Q+="eam unavailable";q5Q="First s";q5Q+="tr";q5Q+="eam ";q5Q+="has fai";q5Q+="led";d5Q="First stream not";d5Q+=" in ran";d5Q+="g";d5Q+="e";B5Q="Fir";B5Q+="s";B5Q+="t stream unava";B5Q+="i";B5Q+="lable";R5Q="F";R5Q+="irst st";R5Q+="ream undef";R5Q+="ine";R5Q+="d";switch(q1i){case 43:R=a.Fa;Q62.n5Q(0);aa=Q62.k5Q(m,g);T=a.$&&a.$.length;fa=c.$&&c.$.length;h(f.length===K);b.vha&&(X=Math.min(X,aa));q1i=37;break;case 54:c&&c.result&&(E.cTb=c.UN);Q={mX:c&&c.result,Fa:k,O:a.O};return c&&c.result;break;case 21:h(a,R5Q);h(a.Cn,B5Q);h(a.inRange,d5Q);h(!a.zu,q5Q);q1i=32;break;case 46:T=Math.min(P,a.$.length-H),aa.push(a.$.PH.subarray(H,H+T)),P-=T,H+=T,H>=a.$.length&&(H=0);q1i=47;break;case 64:T=Math.min(P,c.$.length-H),aa.push(c.$.PH.subarray(H,H+T)),P-=T,H+=T,H>=c.$.length&&(H=0);q1i=65;break;case 63:c=0<l||0<d?q(f.concat(aa),K+l+d,m,g,t,G,y,K,K+l,A,N,R,X,b.nO,b.B1):R>a.XZ?{result:!0,UN:0,zx:!0}:{result:!1,UN:0,zx:!0};q1i=54;break;case 24:X=ya;A=p.rca;P=!!p.SKa;q1i=21;break;case 10:m=!b.jba||a===f||a.tc===f.tc&&n?0:(f=a.kb)&&f.qh&&f.qh.Ca?f.qh.Ca+b.gba*(f.qh.wh?Math.sqrt(f.qh.wh):0):0;f=Ga;Q62.n5Q(1);m=Q62.e5Q(r,m,C);t=ua;q1i=17;break;case 48:P=l;q1i=47;break;case 30:h(c.Cn,z5Q);h(c.inRange,u5Q);h(!c.zu,F5Q);h(c.yj,o5Q);q1i=43;break;case 17:Q62.L5Q(0);g=Q62.e5Q(C,U);Q62.n5Q(0);y=Q62.k5Q(C,u);H=la;K=Ga.length;G=sa;N=ka;q1i=24;break;case 14:q1i=k>=Math.max(a.XZ,a.O*g)&&!a.BRa?13:10;break;case 45:P=d;q1i=65;break;case 12:q1i=k>=a.O*g?11:10;break;case 62:l=Math.max(0,Math.min(l,a.$.length-H)),d=Math.max(0,Math.min(d,c.$.length-H-l)),0<l&&aa.push(a.$.PH.subarray(H,H+l)),0<d&&aa.push(c.$.PH.subarray(H+l,H+l+d));q1i=63;break;case 65:q1i=0<P?64:63;break;case 9:return!1;break;case 37:q1i=!R||R<a.O*b.zfa||!T?36:51;break;case 6:q1i=t&&!b.B1?14:12;break;case 32:h(a.yj,g5Q);h(c,w5Q);q1i=30;break;case 13:return!0;break;case 2:k=a.Fa||0;t=a.$&&a.$.length;g=m?b.gda:t?b.lX:b.Cib;q1i=3;break;case 47:q1i=0<P?46:45;break;case 49:q1i=P?48:62;break;case 51:fa||(c=a);aa=[];q1i=49;break;case 11:return!0;break;case 8:m||t||(a.Wla=!0);q1i=7;break;case 7:q1i=!m||!t?6:10;break;case 3:q1i=Q&&!Q.mX&&Q.Fa>=k&&Q.O<=a.O?9:8;break;case 36:c=!1;q1i=54;break;}}}y1i=2;function H(a,b,c){var W1i;W1i=2;while(W1i!==1){switch(W1i){case 4:return a.$?a.$.qba(b,c):7;break;W1i=1;break;case 2:return a.$?a.$.qba(b,c):0;break;}}}while(y1i!==40){i5Q="nu";i5Q+="m";i5Q+="b";i5Q+="e";i5Q+="r";J5Q="n";J5Q+="um";J5Q+="b";J5Q+="e";J5Q+="r";V5Q="player missing str";V5Q+="eaming";V5Q+="Index";y5Q="Must hav";y5Q+="e at least one selecte";y5Q+="d strea";y5Q+="m";switch(y1i){case 30:E.wl=y||N;return E;break;case 41:y=Ea;y1i=30;break;case 33:Sa=H(y,la,b.Cfa);Q62.n5Q(2);Oa=H(y,Q62.e5Q(Sa,la),b.sha);y1i=31;break;case 24:0<b.Xr&&(z=Math.min(z,b.Xr));ka=z-Ga.ba;y1i=22;break;case 22:z=d[Math.max(Q62.e5Q(1,g,Q62.L5Q(0)),0)];Ea=null!==(G=this.yea(p,d,b).wl)&&void 0!==G?G:d[0];y1i=35;break;case 27:y.$&&y.$.length||(y.Wla=!0);Ga=m.xh.Ueb(p.buffer.$);z=p.buffer.Kp;y1i=24;break;case 2:h(!k.V(g),y5Q);h(k.ma(p.Dy),V5Q);h(J5Q===typeof p.buffer.Kp);h(i5Q===typeof p.rca);y1i=9;break;case 31:y=c.ln(d.slice(g+1,b.Kla&&O>=b.dna?d.length:g+2),function(a,b){var E1i;E1i=2;while(E1i!==1){switch(E1i){case 4:return K(a,d[g/b],N,Sa,Oa,+0);break;E1i=1;break;case 2:return K(a,d[g+b],N,Sa,Oa,!1);break;}}});y1i=30;break;case 9:E=new f();N=y=d[g];C=p.buffer.S;r=p.buffer.Hc;u=p.buffer.Hb;U=p.buffer.Ul;y1i=12;break;case 42:y1i=(y=c.ln(d.slice(0,g).reverse(),function(a,b){var j1i;j1i=2;while(j1i!==1){switch(j1i){case 2:return K(a,d[Math.max(g-b-2,0)],N,F,M,!0);break;}}}))&&y.Eg<Ea.Eg||!y?41:30;break;case 28:y1i=y.$&&y.$.length?44:30;break;case 15:return a.call(this,p,b,d,y);break;case 12:la=p.Dy;Q62.n5Q(0);O=Q62.e5Q(r,U);sa=p.state===l.na.Nc||p.state===l.na.Bh?p.buffer.Ui:0;y1i=20;break;case 16:y1i=(this.gU||t.QR.Kg)===t.QR.j2a||!y.Fa?15:27;break;case 44:F=H(y,la,b.Bfa);Q62.n5Q(2);M=H(y,Q62.e5Q(F,la),b.rha);y1i=42;break;case 20:ua=b.ZZ;ya=b.Su?b.Su:1E3;wa=H(y,la,b.Afa);Q62.L5Q(2);ga=H(y,Q62.k5Q(wa,la),b.qha);y1i=16;break;case 34:y1i=g+1<d.length&&O>b.Ru&&(void 0===this.AZ||this.Uga&&this.Uga>this.AZ||u-this.AZ>b.MZ&&O>b.uha)?33:30;break;case 35:y1i=K(y,z,y,wa,ga,!1)?34:28;break;}}};s5Q;N1i=5;break;}}function a(a,b,c,f){var Q1i,h,l;Q1i=2;while(Q1i!==9){switch(Q1i){case 4:a.wl=f;Q1i=3;break;case 2:a=this.yea(a,c,b);Q1i=5;break;case 3:return a;break;case 5:Q1i=(null!==(l=null===(h=a.wl)||void 0===h?void 0:h.O)&&void 0!==l?l:-Infinity>f.O)?4:3;break;}}}}());},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.rja=void 0;c=a(20);b.rja=function(a){switch(a){case c.na.ve:a=c.Te.ve;break;case c.na.Ig:a=c.Te.Ig;break;case c.na.Kg:case c.na.Nm:case c.na.FD:a=c.Te.Nm;break;default:a=c.Te.dT;}return a;};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(797),b);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.h7=void 0;c=a(155);a(34);d=function(){function a(a,b){this.Dg=a;this.console=b;this.Vz=Infinity;this.$J=this.LU=0;}a.AAb=function(){this.Y9=!0;};a.RQb=function(){this.Y9=!1;};a.prototype.Uib=function(a,b,d,l,h){var f;if(this.Dg){f=a.$;if(f){if(1===d)d=f.Yl(this.Dg*a.Ra.xa,void 0,!0),f=a.mi(d),f.Gj({start:0,end:this.Dg-d*f.xca.lu(a.Ra)}),this.Vz=this.Dg;else{d=c.Eea(l,h)+l.c$a*a.Ra.xa;d=b+d;b=Math.ceil(d/a.Ra.xa);d=f.Yl(d,void 0,!0);for(h=l=0;h<d;++h)f=a.mi(h),l+=f.xca.lu(a.Ra);l=b-l;f=a.mi(d);f.Gj({end:l});this.Vz=b;}f.mLa();return f;}}};a.prototype.hpb=function(a){this.$J+=a.XPa;this.console.warn("StallAtFrameCount, adding frames: "+a.XPa,"total frames: "+this.$J,"needed frames: "+this.Vz);};a.prototype.nob=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: "+this.LU,"needed: "+this.Vz);return this.LU>=this.Vz;};a.prototype.mob=function(){return this.$J>=this.Vz;};a.prototype.ipb=function(a,b){this.LU+=this.dB(a,b);};a.prototype.Whb=function(a,b,c){a.XPa=this.dB(b,c);};a.prototype.dB=function(a,b){return a.xca.lu(b.Ra);};a.prototype.Sl=function(){if(!this.mob())return!1;if(a.Y9)return this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1;this.console.warn("StallAtFrameCount bufferingComplete = true:",this.$J+" >= "+this.Vz);return!0;};a.Y9=!1;return a;}();b.h7=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.nFa=b.YA=b.OF=b.kHa=b.jY=void 0;c=a(6);k=a(162);b.jY=function(a,b){return!(1!==a||!b.tx)||0===a;};b.kHa=function(a,b,c,l){a=a.Yl(b,void 0,!0);c&&(a=Math.floor(a/l)*l);return a;};b.OF=function(a,d,q,l,h,f){var p,m,t,g;k.Jk.bm(a);c.assert(q.$,"findFirstFragment called without stream fragments");p=q.$;c.assert(l>=p.Rh(0));m=b.jY(a,d);0===a&&!f&&d.po&&!d.oA&&q.si&&(l=Math.max(q.$.Rh(0),l+q.si.xa));t=b.kHa(p,l,q.P.XW(a),d.YG);g=q.mi(t);if(g.ja<l)return g;m&&((m=g.qX(l))?(0<m.ym&&g.Gj({start:m.ym}),0!==a||d.bia||(0>m.Rc&&g.Gj({start:m.ym}),m.Rc<(d.po&&!d.oA&&q.si?Math.floor(q.si.xa):0)&&g.vca())):l>=g.ja&&t<p.length-1&&(g=q.mi(t+1)));1===a&&h&&g.ja===h&&t<p.length-1&&(g=q.mi(t+1));0===a&&!g.Qa&&(d.yN||d.zJa||d.mhb)&&f&&g.Gj({});g.MP(l);return g;};b.YA=function(a,c,d,l,h,f,p){var m;k.Jk.bm(a);m=d.$;void 0===l&&(l=m.ja);if(h&&(h=h.Uib(d,l,a,c,f)))return h;h=m.Ra;p=l?l+b.nFa(a,h,c.vs,p):m.Mca(m.length-1);m=m.Yl(p,void 0,!0);h=d.mi(m);0===m||h.S!==l||1!==a&&c.vs||(--m,h=d.mi(m));b.jY(a,c)?(p=1===a?p:l,p<h.ja&&((f=h.$ib(p))&&0!==f.ym?h.Gj({end:f.ym}):0===a&&(f||p<h.S)&&0!==m?h=d.mi(m-1):1===a&&f&&0!==m&&(h=d.mi(m-1))),0!==a||h.Qa||!c.yN&&!c.yJa||h.Gj()):0===a&&!c.vs&&l-h.S<h.duration/2&&0!==m&&(h=d.mi(m-1));h.MP(l);return h;};b.nFa=function(a,b,c,l){var h;return 1===a||l?0:c?null!==(h=null===b||void 0===b?void 0:b.xa)&&void 0!==h?h:0:b?-b.xa:0;};},function(d,b,a){var c,k,m,t,q,l,h,f,p,g,H,K,E;Object.defineProperty(b,"__esModule",{value:!0});b.o6=void 0;c=a(0);k=a(808);d=a(83);m=a(377);t=a(20);q=a(807);l=a(376);h=a(798);f=a(375);p=a(13);g=a(6);H=a(34);K=a(7);E=a(4);a=function(a){function b(b,c,d,m,t,g,y,H,K,G,N){var n;b=a.call(this,b)||this;b.K=c;b.Ec=t;b.rg=g;b.Pya=y;b.f4a=K;b.h4a=N;b.connected=!1;b.Yq=!1;b.ct=!1;b.H=p.Yx(E,d,"["+b.M+"]");b.tf=b.H.error.bind(b.H);b.Za=b.H.warn.bind(b.H);b.kj=b.H.trace.bind(b.H);b.VU=y;b.FPb=y;b.ZU=y.xa;b.YLa=1===b.M?c.l_:c.g_;b.MG=(1===b.M?c.PG:c.KG)||c.MG;G&&(n=G.R9);b.yq=new h.twa(g,G?G.yq:void 0);b.R9=new f.hT(H,c,n);b.vt=new k.yua(b,m,b.K,b.H,b.M);b.Yz=new q.Eva(b,c,b.H,b.vt,b.Ec,b.M);b.QK=!1;c.Dg&&(b.Dg=new l.h7(c.Dg,b.H));return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{M:{get:function(){return this.rg.M;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{track:{get:function(){return this.rg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fd:{get:function(){return this.Ec;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{La:{get:function(){return this.Ec.ia.id;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ja:{get:function(){return this.Yz;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ac:{get:function(){return this.rg.Ac;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wo:{get:function(){return this.Yz.wo;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ul:{get:function(){return this.Yz.ul;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hb:{get:function(){return this.ZU;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fu:{get:function(){return this.Ja.fu;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{aba:{get:function(){return this.Ja.aba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pga:{get:function(){return!!this.zg&&this.sk>this.zg.index;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fL:{get:function(){return this.Pga&&0===this.Yz.hv;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ZH:{get:function(){return this.R9;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Nu:{get:function(){return this.yq.Nu;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nj:{get:function(){return this.ct;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ut:{get:function(){return this.Sxa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{FY:{get:function(){return this.Ja.FY;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vC:{get:function(){return this.Ja.vC;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Sla:{get:function(){return this.Ja.Sla;},enumerable:!1,configurable:!0}});b.prototype.Pg=function(){this.Yq=!0;this.Yz.Pg();};b.prototype.toJSON=function(){return{started:this.vC,startOfSequence:this.Sla,segmentId:this.La,requestedBufferLevel:this.ul,viewableId:this.Ec.P.oa,hasFragments:this.FY};};b.prototype.mC=function(a){this.ct=!0;this.Sxa=a;};b.prototype.YV=function(){this.ct=!1;this.Sxa=void 0;};b.prototype.lp=function(){return this.Ja.lp();};b.prototype.sla=function(a,b){this.ZU=a;this.sk=b;};b.prototype.dN=function(){return this.Ja.dN();};b.prototype.Kca=function(){this.Ja.close();};Object.defineProperties(b.prototype,{weight:{get:function(){return this.Ec.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{A1:{get:function(){return void 0===this.rg.Fm||void 0===this.sk?this.Pya.add(H.la.Of(this.Ec.wc)):this.rg.Fm.get(this.sk).hx.add(H.la.Of(this.Ec.wc));},enumerable:!1,configurable:!0}});b.prototype.gGb=function(a,b){var c;if(this.Yq)return g.assert(!1,"pipeline.tryIssueRequest on disabled pipeline"),!1;c=a.$X();return c?this.nTa(a,c,b):a.HC();};b.prototype.OFa=function(a,b){g.assert(this.track.Bd,"Pipeline cannot be normalized until its track has recieved headers.");return this.ag=this.OF(this.track.rJa,a,void 0,b);};b.prototype.PFa=function(a){g.assert(this.track.Bd,"Pipeline cannot be normalized until its track has recieved headers.");return this.zg=this.YA(this.track.rJa,a);};b.prototype.OF=function(a,b,c,f){return m.OF(this.rg.M,this.K,a,b,c,f);};b.prototype.vJa=function(){g.assert(this.ag);g.assert(this.zg);g.assert(void 0===this.sk);this.sla(this.ag.Yb,this.ag.index);};b.prototype.YA=function(a,b){return m.YA(this.rg.M,this.K,a,b,this.Dg);};b.prototype.yla=function(){return m.jY(this.rg.M,this.K);};b.prototype.yqb=function(){return this.HJa()?!1:this.fqb()?!0:this.track.Cub;};b.prototype.fqb=function(){return void 0!==this.ag&&void 0!==this.zg;};b.prototype.HJa=function(){return this.zg?this.sk>this.zg.index:!1;};b.prototype.Sl=function(a,b,c,f,h){var l,p;l=this.K;p=l.Wg;if(c>=l.Wg&&(l.E0&&(p=c+1E3),l.F0&&!this.connected))return!1;if(this.Dg)return(a=this.Dg.Sl())&&this.mC("stall"),a;c=this.HJa()&&0===this.Ja.S_&&0===this.Ja.Is;if(!c&&f<p)return!1;if(c){if(h&&0===f)return this.Za("playlist mode with nothing buffered, waiting for next manifest"),!1;this.mC("complete");return!0;}return 0===this.M?(this.mC("audio"),!0):this.PCa(a,b);};b.prototype.PCa=function(a,b){if(this.nj||0===this.M)return!0;if(void 0===this.Nu)return!1;b=this.g4a(b,a);a=this.ZH.Sl(b,a,this.Nu,this.fd.P.Hh);a.complete?this.mC(a.reason):(this.YV(),this.Xx=a.Xx,this.Oh=a.Oh);return this.nj;};b.prototype.Si=function(a){this.vt.gvb(a);this.Rp(a);};b.prototype.fv=function(a){a.bc||this.vt.SMa(a.stream,a.S,a.Yb);this.vt.cvb(this.La,a.stream,a.bc);this.$A(a);};b.prototype.FO=function(a){a.B$||(this.connected=!0);this.ZA(a);};b.prototype.ulb=function(a){var b,c;b=this.Ja.$;if(0===b.length)return{$:[],cja:0,Ui:0};c=b.PF(a.xa);0>c&&(c=void 0===b.S||a.xa<=b.S?0:b.length);return{$:b.SBb(c),cja:Math.max(0,b.Zbb-c),Ui:b.Ui};};b.prototype.nTa=function(a,b,c){var f,h,l,p,d,m,q;p=this.Ec;d=p.P;m=this.M;q=this.sk;if(q>=b.length)return this.Za("makeRequest nextFragmentIndex:",q,"past fragments length:",b.length),!1;if(!this.ag||!this.zg)return this.Za("makeRequest delayed, first or last fragment not set","first:",!!this.ag,"last:",!!this.zg),!1;b=this.f4a.jHa(a,q,this,d.Fu());if(!b)return this.Za("makeRequest unable to get valid fragment"),!1;null===(f=this.Dg)||void 0===f?void 0:f.ipb(b,a);b.Mu&&1===m&&this.vt.k9(p.ia,b.ja);b.hRa(new H.la(p.wc,1E3));f=null===(h=this.h4a)||void 0===h?void 0:h.call(this);this.K.AB&&void 0!==f&&f<b.ba&&(b.AB=this.K.AB);E.time.ea();c=this.Ja.Teb(p,b,c,a);if(!c.gs()){this.Za("MediaRequest.open error: "+c.oh+" native: "+c.Qi);if(7===c.readyState)return!1;this.Za("makeRequest caught:",c.oh);d.Cg("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return!1;}null===(l=this.Dg)||void 0===l?void 0:l.Whb(c,b,a);this.vt.hvb(c);this.sla(c.wd,b.sO);return!0;};b.prototype.g4a=function(a,b){var c,f,h,l,p;l=E.lk()[this.M];p=this.Ja.gY();a={Kp:l,S:null!==(c=p.qc)&&void 0!==c?c:0,Hc:a,Hb:null!==(f=p.jH||a)&&void 0!==f?f:0,Ul:null!==(h=p.SL||a)&&void 0!==h?h:0,Uh:p.Uh,Ui:p.Ui,Jda:p.$.length,$:p.$};K.ma(a.S)?b===t.Te.ve&&a.Hc!==a.S&&(a.Hc=a.S):(a.S=0,a.Hb=0);return a;};return b;}(d.Hq);b.o6=a;},function(d,b,a){var k,m,t,q,l,h,f,p,g,H,K;function c(a,b){return(1===a.M?0:1)-(1===b.M?0:1);}Object.defineProperty(b,"__esModule",{value:!0});b.aR=b.Y0a=void 0;k=a(0);m=a(24);t=a(378);d=a(83);q=a(156);l=a(784);h=a(20);f=a(783);p=a(13);g=a(6);H=a(34);K=a(4);b.Y0a={XVb:c};a=function(a){function b(b,c,h,d,q,k,y,G,E,n,r,u,O,sa,ua){var N,C,X;C=a.call(this,h)||this;C.K=b;C.P=h;C.rya=d;C.cAa=q;C.qAa=k;C.XH=y;C.wc=E;C.Fya=n;C.Vm=u;C.DT=O;C.v9=!1;C.X7a=1;C.Yq=!1;C.RK=!1;C.b8=0;C.Ew=0;C.Txa=C.Hvb.bind(C);g.assert(h.oa===C.ia.oa||isNaN(h.oa)&&isNaN(C.ia.oa));C.P.CPa(C);C.H=p.Yx(K,c,q.id&&q.id.length?"{"+q.id+"}":"");C.tf=C.H.error.bind(C.H);C.Za=C.H.warn.bind(C.H);C.kj=C.H.trace.bind(C.H);C.qK=null!==G&&void 0!==G?G:y;C.cU=[];k.forEach(function(a){var b;a=a.M;b=C.P.XW(a)?new l.Zqa(C.K.YG):new l.tta();C.cU[a]=b;});C.jj=[];if(!ua){X=[C.K.X$,C.K.y1];k.forEach(function(a){var b;b=a.M;C.jj[b]=new t.o6(C,C.K,C.H,C.rya,C,a,C.qK,X[b],C.cU[b],null===r||void 0===r?void 0:r.pe(b),sa);});C.IK=new f.xua({P:C.P,md:C.jj,hx:C.qK,VL:void 0!==C.ja?H.la.Of(C.ja):void 0,splice:void 0!==r});C.IK.Kb(C.a6a.bind(C));}C.Qma(C.qK.xa);C.events=new m.EventEmitter();null===(N=C.DT)||void 0===N?void 0:N.addListener(C.Txa);return C;}k.__extends(b,a);Object.defineProperties(b.prototype,{Jp:{get:function(){return this.Yq;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nq:{get:function(){return this.v9;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{weight:{get:function(){return this.X7a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ja:{get:function(){return this.ia.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ia:{get:function(){return this.cAa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pga:{get:function(){return this.jj.every(function(a){return a.Pga;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fL:{get:function(){return this.jj.every(function(a){return a.fL;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ks:{get:function(){var a;a=this.PHa()[0];if(a.ag)return H.la.Of(a.ag.Yb+this.wc);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wBa:{get:function(){return H.la.Of(this.XH.xa+this.wc);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yl:{get:function(){return this.qAa;},enumerable:!1,configurable:!0}});b.prototype.dN=function(a){return(a=this.pe(a))?a.dN():q.Uy.klb();};b.prototype.Kca=function(){var a;a=this;this.qAa.forEach(function(b){a.pe(b.M).Kca();});};b.prototype.Pg=function(){var a,b;this.Yq||(this.Yq=!0,this.P.wTa(this),null===(a=this.IK)||void 0===a?void 0:a.yc(),this.IK=void 0,this.jj.forEach(function(a){a.Pg();}),null===(b=this.DT)||void 0===b?void 0:b.removeListener(this.Txa),this.events.removeAllListeners());};b.prototype.BJa=function(){return!0;};b.prototype.pe=function(a){return this.jj[a];};b.prototype.PHa=function(){var a;void 0===a&&(a=c);return this.jj.filter(function(a){return a;}).sort(a);};b.prototype.Wlb=function(){return this.jj.filter(function(a){return a.yqb();});};b.prototype.jk=function(a,b){var c;a=this.jj[a];if(!a)return 0;if(b)return a.ul;b=a.fu;if(void 0===b)return 0;a=null!==(c=this.Fya())&&void 0!==c?c:this.qK.xa;return b-a;};b.prototype.Qma=function(a){this.opb=a+this.K.ima;this.tpb=K.time.ea();};b.prototype.lp=function(a){return this.pe(a).lp();};b.prototype.Hvb=function(a){a=a.newValue;if(a===h.Te.ve||a===h.Te.Ig)this.RK=!1,this.b8=K.time.ea(),this.Ew=0,this.jj.forEach(function(a){return a.YV();}),this.Sl();};b.prototype.Si=function(a){this.Yq||(a.B$||g.assert(!a.bc),!1===this.RK&&this.Sl(),this.fL&&this.i6a());this.Rp(a);};b.prototype.a6a=function(){var a,b;null===(a=this.IK)||void 0===a?void 0:a.yc();this.IK=void 0;a=null!==(b=this.jj[1])&&void 0!==b?b:this.jj[0];this.rya.emit("segmentNormalized",{type:"segmentNormalized",segmentId:this.ia.id,normalizedStart:a.ag.ks,normalizedEnd:a.zg.nja,contentEnd:a.track.Fm.RA});};b.prototype.wU=function(a){a={type:"branchBufferingComplete",audioBufferLevel:this.jk(0),videoBufferLevel:this.jk(1),reason:a};this.events.emit(a.type,a);this.RK=!0;};b.prototype.m9=function(a,b,c){var f;f=this.K;c?b=(K.time.ea()-this.b8)/f.nv:b||(b=a/f.Wg);a=Math.min(Math.max(Math.round(100*b),this.Ew),99);a!=this.Ew&&(b={type:"branchBufferingProgress",percentage:a},this.events.emit(b.type,b),this.Ew=a);};b.prototype.i6a=function(){var a;a={type:"branchStreamingComplete"};this.events.emit(a.type,a);};b.prototype.Sl=function(){var a,b,c,f,l,p,d,m,q,k,t;if(!0!==this.RK){p=this.K;d=this.jj[0];m=this.jj[1];q=this.jk(0);k=this.jk(1);t=null!==(a=this.Fya())&&void 0!==a?a:this.qK.xa;a=!d||d.Sl(null!==(c=null===(b=this.DT)||void 0===b?void 0:b.value)&&void 0!==c?c:h.Te.Nm,t,0,q);b=!m||m.Sl(null!==(l=null===(f=this.DT)||void 0===f?void 0:f.value)&&void 0!==l?l:h.Te.Nm,t,0,k);a&&b?(p=m?m.Ut:d.Ut,g.assert(void 0!==p),this.wU(p)):(f=K.time.ea()-this.b8,f>=p.nv&&(l=!m||k>p.Wg,(!d||q>p.Wg)&&l&&(this.Za("buffering longer than limit: "+f+" >= "+p.nv+", audio buffer: "+q+" ms, video buffer: "+k+" ms"),this.wU("prebufferTimeLimit"))));!1===this.RK&&(d=m?m:d,m=this.jk(m?1:0),this.m9(m,d.Oh,d.Xx));}};b.prototype.toJSON=function(){return{segment:this.ia.id,branchOffset:this.wc,viewableId:this.P.oa,contentStartPts:this.XH,contentEndPts:this.ja};};return b;}(d.Hq);b.aR=a;},function(d,b,a){var c,k,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.E6=void 0;c=a(0);k=a(24);m=a(13);t=a(6);d=function(){function a(){this.NA=[];this.events=new k.EventEmitter();}Object.defineProperties(a.prototype,{Op:{get:function(){return this.TM();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{position:{get:function(){var a,b;a=this.Op;b=this.kH(a);t.assert(b,"Could not find current branch for "+a.xa);return b;},enumerable:!1,configurable:!0}});a.prototype.EV=function(a){if(void 0!==this.Tb)return!1;a.al.HBa(this.events);return!0;};a.prototype.vn=function(){};a.prototype.vIa=function(a){if(void 0!==this.Tb&&a.La===this.Tb.Ag.Kh)return a.offset;};a.prototype.Iu=function(a){return-1!==this.NA.indexOf(a.oa)||a.Ii;};a.prototype.Uu=function(){this.tZ=!0;};a.prototype.kH=function(a){var b,c;b=this.vkb(a);if(!b)return void 0===this.Tb?void 0:this.Tb.kH(a);c=b.XH.zb(m.la.Of(b.wc));return{La:b.ia.id,offset:a.zb(c)};};a.prototype.reset=function(){this.tZ=!1;};a.prototype.DCb=function(a){a=this.NA.indexOf(a);-1!==a&&this.NA.splice(a,1);};a.prototype.IP=function(a){-1===this.NA.indexOf(a)&&this.NA.push(a);};a.prototype.Bma=function(a){var b;t.assert(this.Tb);t.assert(a!==this);this.Tb.al.CEa();this.t1();b=a.EV(this.Tb,this);b&&(this.tZ&&(a.Uu(),this.tZ=!1),a.Pca.apply(a,this.bd),a.NA=c.__spreadArrays(this.NA),this.cca(this.Tb));return b;};a.prototype.TM=function(){return this.rHa();};a.prototype.rHa=function(){var a,b,c,p;p=this.bd;return p.length?(c=p[0],t.assert(c),null!==(a=c.ks)&&void 0!==a?a:c.wBa):this.Tb?(a=null===(b=this.Tb)||void 0===b?void 0:b.Ag.Kh,a=null===(c=this.Tb)||void 0===c?void 0:c.Ag.Ta[a],m.la.Of(a.kf)):m.la.Dd;};a.prototype.vkb=function(a){var b;if(0!==this.bd.length){b=this.rHa();return a.lessThan(b)?this.bd[0]:m.nda(this.bd,a);}};return a;}();b.E6=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.PS=void 0;c=a(4).Promise;d=function(){function a(a,b,c){var l;this.F9a=a;this.j9=b;this.D3a=c;this.C8=(l={},l[0]=!1,l[1]=!1,l);this.reset();}a.prototype.Sl=function(){var a,b;a=this;b=this.F9a.filter(function(b){return!b.GJa(a.D3a());});0===b.length&&this.R8?this.v5a():b.forEach(function(b){a.C8[b.M]||(b.once("requestAppended",function(){a.C8[b.M]=!1;a.Sl();}),a.C8[b.M]=!0);});};a.prototype.reset=function(){var a;a=this;this.R8=!1;new c(function(b){a.v5a=b;}).then(function(){return a.j9();});};a.prototype.Uu=function(){this.R8||(this.R8=!0,this.Sl());};return a;}();b.PS=d;},function(d,b,a){var c,k,m,t,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.A2=void 0;c=a(0);d=a(24);k=a(66);m=a(4);t=a(13);q=a(812);l=a(156);h=a(811);a=function(a){function b(){var b;b=null!==a&&a.apply(this,arguments)||this;b.Wza=0;b.E9=0;b.aK=0;b.o8=0;return b;}c.__extends(b,a);b.prototype.tka=function(b){var c,f;a.prototype.tka.call(this,b);this.Wza++;this.E9++;this.nAa=m.time.ea();this.ZD||(this.ZD={wd:b.wd,Yb:b.Yb,index:b.index},this.aU||(this.aU=this.ZD));c=this.nU;f=!1;c&&100>Math.abs(c.wd-b.Yb)&&(this.aK+=b.wd-c.wd,this.o8++,f=!0);f||(this.aK=b.Br,this.o8=1);this.nU=b;};b.prototype.stop=function(){a.prototype.stop.call(this);this.aK=this.E9=0;this.ZD=void 0;};b.prototype.tHa=function(){var a,b,c,f;a=this.tE;b=a.pW;if(b){f=b.pe(this.Le);f&&f.Ja&&(c=f.Ja.Pea());return{RM:c,currentBranch:{sId:b.ia&&b.ia.id,cancelled:b.Jp},currentReceivedCount:a&&a.hfb,totalReceivedCount:this.Wza,currentState:a&&a.jfb||"Uninitialized",lastRequestPushed:this.nU&&{contentEndPts:this.nU.wd,fragmentIndex:this.nU.index},tslp:this.nAa&&m.time.ea()-this.nAa,cpts:this.aK,crq:this.o8,rslp:this.E9,firstRequestSSPushed:this.ZD&&{contentStartPts:this.ZD.Yb,fragmentIndex:this.ZD.index},firstRequestPushed:this.aU&&{contentStartPts:this.aU.Yb,fragmentIndex:this.aU.index}};}};return b;}(function(a){function b(b,c,f,l,p,d){var k;k=a.call(this)||this;k.Xq=b;k.Le=c;k.K=l;k.H=p;k.H=t.Yx(m,k.H,"AsePlayerBuffer:");k.tE=new q.moa(k.H,f,c);k.resume();d&&(k.HOa=new h.iva(c,p,d,d.W,k.Xq,d.events,t.la.Of(l.nP)));k.Xq.on("requestAppended",function(){return k.emit("requestAppended");});return k;}c.__extends(b,a);Object.defineProperties(b.prototype,{M:{get:function(){return this.Le;},enumerable:!1,configurable:!0}});b.prototype.tHa=function(){};b.prototype.resume=function(){k.cb&&this.H.trace("resume");this.Pla();};b.prototype.GJa=function(a){return this.Xq.uea()>a;};b.prototype.reset=function(a){var b;void 0===a&&(a=!1);k.cb&&this.H.trace("reset");this.stop();this.Xq.reset(a);a||(this.zT=void 0);null===(b=this.HOa)||void 0===b?void 0:b.reset();};b.prototype.YAb=function(){var a;a=!0;void 0===a&&(a=!1);this.reset(a);this.Pla(!0);};b.prototype.stop=function(){this.tE.YRa();};b.prototype.close=function(){var a;null===(a=this.HOa)||void 0===a?void 0:a.close();};b.prototype.Oia=function(){this.K.xX&&this.Xq.eGa();this.K.tI&&this.Xq.resume();};b.prototype.jjb=function(a){this.Xq.NMa(a,!0);};b.prototype.Pla=function(a){if(!this.tE.sqb||a)this.tE.ZAb(),l.Uy.Jqb(this.tE,this.xZ.bind(this));};b.prototype.xZ=function(a){a.done||this.tka(a.value);};b.prototype.tka=function(a){this.Xq.endOfStream?k.cb&&this.H.error("Buffer manager has declared EOS, ignoring request",a.toString()):(this.zT?(this.zT.erb=a.wd,this.zT.grb=a.se):this.zT={URb:a.Yb,VRb:a.qc,erb:a.wd,grb:a.se},this.Xq.Y9a(a));};return b;}(d.EventEmitter));b.A2=a;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.R6=void 0;c=a(4).Promise;d=function(){function a(){var a;a=this;this.GU=[];this.mAb=function(b){b=a.GU.indexOf(b);0<=b&&a.GU.splice(b,1);};}Object.defineProperties(a.prototype,{Sw:{get:function(){return 0!==this.GU.length;},enumerable:!1,configurable:!0}});a.prototype.add=function(){var a;a=new k(this.mAb);this.GU.push(a);return a;};a.prototype.sUa=function(a){var b;b=this.add();try{return c.resolve(a()).then(function(a){b.release();return a;},function(a){b.release();return c.reject(a);});}catch(l){return b.release(),c.reject(l);}};return a;}();b.R6=d;k=function(){function a(a){this.J6a=a;}a.prototype.release=function(){this.J6a(this);};return a;}();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lda=void 0;b.lda=function(a,b){for(var c,d,t=a.length-1;0<=t;--t)if(d=a[t],d.yj){if(d.O<=b)return t;c=t;}return c;};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.w2=void 0;c=a(0);a(4);a(6);d=function(a){function b(b,c,l,h,f){b=a.call(this,b,c,l,h,f)||this;b.Bya=!1;b.Aya=!1;b.iK=!1;b.wa=[];b.fr=!1;b.wza=!1;b.rK=!1;b.Uc=!1;b.qg=!1;b.Pd=!1;b.GD=!1;b.gE=void 0;b.ar=void 0;return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{qga:{get:function(){return this.fr&&!this.iK;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return this.Uc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wPa:{get:function(){return this.qg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return this.Pd||(this.Pd=this.wa.every(function(a){return a.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jr:{get:function(){return this.GD;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Uh:{get:function(){return this.wa.reduce(function(a,b){return a+b.Uh;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Be:{get:function(){return this.wa.reduce(function(a,b){return a+b.Be;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$c:{get:function(){return this.gE||0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{url:{get:function(){return this.wa[0]&&this.wa[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.pg||this.wa.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return this.ar&&this.ar.status||0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{oh:{get:function(){return this.ar&&this.ar.oh;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{LF:{get:function(){return this.ar&&this.ar.LF;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qi:{get:function(){return this.ar&&this.ar.Qi;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{En:{get:function(){return!!this.wa.length&&this.wa[0].En;},enumerable:!1,configurable:!0}});b.prototype.push=function(a){this.rK&&a.Kb(this.Ja);this.wa.push(a);this.fr&&a.gs();};b.prototype.Kb=function(b){a.prototype.Kb.call(this,b);this.wa.forEach(function(a){return a.Kb(b);});this.rK=!0;};b.prototype.gs=function(){this.wza=!0;(this.fr=this.wa.every(function(a){return a.gs();}))&&this.IM(this);this.wza=!1;return this.fr;};b.prototype.yc=function(){7!==this.readyState&&5!==this.readyState&&(this.H.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.wa.forEach(function(a){return a.yc();});};b.prototype.eQ=function(a){this.pg=this.ar=void 0;return this.wa.every(function(b){return 5!==b.readyState&&7!==b.readyState?b.eQ(a):!0;});};b.prototype.abort=function(){var a,b;a=this.active;this.pg=7;this.GD=!0;this.qg=this.Uc=!1;b=this.wa.map(function(a){return a.abort();}).every(function(a){return a;});this.BX(this,a,this.qga);return b;};b.prototype.getResponseHeader=function(a){var b;b=null;this.wa.some(function(c){return!!(b=c.getResponseHeader(a));});return b;};b.prototype.getAllResponseHeaders=function(){var a;a=null;this.wa.some(function(b){return!!(a=b.getAllResponseHeaders());});return a;};b.prototype.K_=function(){};b.prototype.fv=function(a){this.Uc||(this.Uc=!0);this.Bya||(this.Bya=!0,this.ql=0,this.gE=this.rl=a.$c,this.$A(this));};b.prototype.FO=function(a){this.qg||(this.qg=!0);this.Aya||(this.Aya=!0,this.gE=a.$c,this.ZA(this));};b.prototype.GO=function(a){this.gE=a.$c;this.SF(this);this.ql=this.Be;this.rl=a.$c;};b.prototype.Si=function(a){this.gE=a.$c;this.complete?(this.Pd=!0,this.pg=5,this.qg=this.Uc=!1,this.iK=!0,this.Rp(this)):this.SF(this);this.ql=this.Be;this.rl=a.$c;};b.prototype.EO=function(a){this.gE=a.$c;this.ar=a;this.pg=6;this.CX(this);};b.prototype.DO=function(){};b.prototype.wj=function(){return this.wa[0].wj()+"-"+this.wa[this.wa.length-1].wj();};b.prototype.toString=function(){return"Compound["+this.wa.map(function(a){return a.toString();}).join(",")+"]";};b.prototype.toJSON=function(){return{requests:this.wa};};return b;}(a(158).Ty);b.w2=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.VQ=void 0;c=a(0);k=a(6);d=function(a){function b(b,c,h){b=a.call(this,b,c)||this;b.SH=!1;b.Er=!1;b.TG=!1;b.sx=!1;b.Bk=void 0;b.cE=c.ni;b.Ym=c.bja;b.sya=c.sj;b.H=h;return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ni:{get:function(){return this.cE;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bja:{get:function(){return this.Ym;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sj:{get:function(){return this.sya;},enumerable:!1,configurable:!0}});b.prototype.yc=function(){};b.prototype.X1=function(){};b.prototype.d9a=function(a){k.assert(this.Hd.sa===a.sa);!a.Bd&&this.Hd.Bd&&a.hW(this.Hd);!a.location&&this.Hd.location&&(a.location=this.Hd.location,a.tc=this.Hd.tc,a.kC=this.Hd.kC,a.url=this.Hd.url,a.kb=this.Hd.kb);this.Hd=a;};b.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.$});};return b;}(a(164).Lv);b.VQ=d;},function(d){(function(){var Z5Q,f6Q;function b(){var X5Q;X5Q=2;while(X5Q!==5){switch(X5Q){case 2:this.Kw=this.ac=0;this.Pa=this.ce=void 0;X5Q=5;break;}}}Z5Q=2;while(Z5Q!==8){f6Q="1";f6Q+="SIYbZrNJ";f6Q+="Cp";f6Q+="9";switch(Z5Q){case 2:b.prototype.start=function(a){var b5Q;b5Q=2;while(b5Q!==1){switch(b5Q){case 2:this.ce?a<this.ce?(this.Kw+=this.ce-a,this.ce=a):a>this.Pa&&(this.Pa=this.ce=a):this.Pa=this.ce=a;b5Q=1;break;}}};b.prototype.stop=function(a){var O5Q;O5Q=2;while(O5Q!==1){switch(O5Q){case 2:this.Pa&&a>this.Pa&&(this.Kw+=a-this.Pa,this.Pa=a);O5Q=1;break;}}};b.prototype.add=function(a,b,d){var P6Q;P6Q=2;while(P6Q!==4){switch(P6Q){case 2:this.start(b);this.stop(d);this.ac+=a;P6Q=4;break;}}};b.prototype.get=function(){var r6Q;r6Q=2;while(r6Q!==1){switch(r6Q){case 2:return{Ca:this.Kw?Math.floor(8*this.ac/this.Kw):null,LW:this.Kw?this.Kw:0};break;}}};d.R=b;f6Q;Z5Q=8;break;}}}());},function(d,b,a){var k,m;function c(a){this.K={ZN:a.maxc||25,bba:a.c||.5,uzb:a.rc||"none",Qnb:a.hl||7200};this.OK();this.H6a=this.K.uzb;this.lK=this.K.Qnb;this.Y7=Math.exp(Math.log(2)/this.lK);this.Y7=Math.max(this.Y7,1);this.PT=1;}k=a(7);m=a(219).TDigest;new(a(4)).Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.Yc=function(){var a;if(0===this.de.size())return null;a=this.de.Nh([.25,.75]);if(a[0]===a[1])return null;this.de.size()>this.K.ZN&&this.de.gu();a=this.de.Es(!1).reduce(function(a,b){k.ma(b.ff)&&k.ma(b.n)&&a.push({mean:b.ff,n:b.n/this.PT});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};c.prototype.Zd=function(a){var b;if(k.Na(a)||!k.has(a,"tdigest")||!k.Ge(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(l){return!1;}b.forEach(function(a){k.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{ff:a.mean,n:a.n};});this.PT=1;this.de.Pja(a);void 0===this.de.Nh(0)&&this.OK();};c.prototype.get=function(){var a,b;a=this.de;b=a.Nh([0,.1,.25,.5,.75,.9,1]);return{min:b[0],Wia:b[1],uk:b[2],Ti:b[3],vk:b[4],Xia:b[5],max:b[6],kh:a.Es(!1)};};c.qmb=function(a){var b;b=new c({});k.Na(a)||k.V(a)||!k.isArray(a.kh)||(b.de.Pja(a.kh),void 0===b.de.Nh(0)&&b.OK());a=b.de.Nh([.25,.75]);return a[0]===a[1]?null:function(a){return b.de.Nh(a);};};c.prototype.add=function(a){var b;b=1;"ewma"===this.H6a&&(this.PT=b=this.PT*this.Y7);this.de.push(a,b);};c.prototype.toString=function(){return"TDigestHist("+this.de.summary()+")";};c.prototype.OK=function(){this.de=new m(this.K.bba,this.K.ZN);};d.R={Lwa:c};},function(d,b,a){var k,m;function c(a){this.K={ZN:a.maxc||25,bba:a.c||.5,hIb:a.w||15E3,Ql:a.b||5E3};k.call(this,this.K.hIb,this.K.Ql);this.OK();}k=a(159);m=a(219).TDigest;c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var a;a=this.eH(0);k.prototype.shift.call(this);null!==a&&(this.de.push(a,1),this.mo=!0);return a;};c.prototype.flush=function(){var a;a=this.get();this.de.push(a,1);this.mo=!0;k.prototype.reset.call(this);return a;};c.prototype.get=function(){return this.jIa();};c.prototype.vu=function(){var a;a=this.jIa();return{min:a.min,p10:a.Wia,p25:a.uk,p50:a.Ti,p75:a.vk,p90:a.Xia,max:a.max,centroidSize:a.$ab,sampleSize:a.jC,centroids:a.kh};};c.prototype.jIa=function(){var a;if(0===this.de.size())return null;a=this.de.Nh([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.mo||!this.ne)this.mo=!1,this.ne={min:a[0],Wia:a[1],uk:a[2],Ti:a[3],vk:a[4],Xia:a[5],max:a[6],Nh:this.de.Nh.bind(this.de),$ab:this.de.size(),jC:this.de.n,kh:this.Gkb(),vu:this.vu.bind(this)};return this.ne;};c.prototype.Gkb=function(){var a;if(0===this.de.size())return null;if(!this.mo&&this.ne)return this.ne.centroids;a=this.de.Nh([.25,.75]);if(a[0]===a[1])return null;this.de.size()>this.K.ZN&&this.de.gu();a=this.de.Es(!1).map(function(a){return{mean:a.ff,n:a.n};});return JSON.stringify(a);};c.prototype.hIa=function(){return this.de.summary();};c.prototype.size=function(){return this.de.size();};c.prototype.toString=function(){return"btdtput("+this.HE+","+this.Oc+","+this.ji+"): "+this.de.summary();};c.prototype.OK=function(){this.de=new m(this.K.bba,this.K.ZN);};d.R=c;},function(d,b,a){var k,m;function c(a,b,c,h){k.call(this,c,h);this.er=new m(a);this.h5a=b;}k=a(159);m=a(407);c.prototype=Object.create(k.prototype);c.prototype.shift=function(){var a;a=this.eH(0);k.prototype.shift.call(this);null!==a&&this.er.rV(a);return a;};c.prototype.flush=function(){var a;a=this.get();this.er.rV(a);k.prototype.reset.call(this);return a;};c.prototype.get=function(){var a;a=this.aN();return{jC:this.aG(),U_:a,uO:a.Ti?(a.vk-a.uk)/a.Ti:void 0};};c.prototype.aG=function(){return this.er.aG();};c.prototype.aN=function(){return this.er.aG()<this.h5a?{uk:void 0,Ti:void 0,vk:void 0,jC:void 0,Nh:void 0}:{uk:this.er.Ip(25),Ti:this.er.Ip(50),vk:this.er.Ip(75),jC:this.er.aG(),Nh:this.er.Ip.bind(this.er)};};c.prototype.toString=function(){return"biqr("+this.HE+","+this.Oc+","+this.ji+")";};d.R=c;},function(d,b,a){var t;function c(a){this.reset();this.RCb(a);}function k(a){this.setInterval(a);this.reset();}function m(a){this.yw=new k(a);this.Qd=0;this.Qb=null;}t=a(7);c.prototype.RCb=function(a){this.JD=Math.pow(.5,1/a);this.lK=a;};c.prototype.reset=function(a){a&&a.Ca&&t.ma(a.Ca)?a.wh&&t.ma(a.wh)?(this.Zq=this.D4a,this.Wm=a.Ca,this.uw=a.wh+a.Ca*a.Ca):(this.Zq=this.D4a,this.Wm=a.Ca,this.uw=a.Ca*a.Ca):this.uw=this.Wm=this.Zq=0;};c.prototype.add=function(a){var b;if(t.ma(a)){this.Zq++;b=this.JD;this.Wm=b*this.Wm+(1-b)*a;this.uw=b*this.uw+(1-b)*a*a;}};c.prototype.get=function(){var a,b,c;if(0===this.Zq)return{Ca:0,wh:0};a=this.Wm;b=this.uw;c=1-Math.pow(this.JD,this.Zq);a=a/c;b=b/c;c=a*a;return{Ca:Math.floor(a),wh:Math.floor(b>c?b-c:0)};};c.prototype.Yc=function(){return 0===this.Zq?null:{a:Math.round(this.Wm),s:Math.round(this.uw),n:this.Zq};};c.prototype.Zd=function(a){if(t.Na(a)||!t.has(a,"a")||!t.has(a,"s")||!t.isFinite(a.a)||!t.isFinite(a.s))return this.uw=this.Wm=this.Zq=0,!1;this.Wm=a.a;this.uw=a.s;t.has(a,"n")&&t.ma(a.n)?this.Zq=a.n:this.Zq=16*this.lK;return!0;};k.prototype.setInterval=function(a){this.lK=a;this.JD=-Math.log(.5)/a;};k.prototype.reset=function(a){this.Pa=this.ce=null;a&&t.isFinite(a.Ca)?this.Wm=a.Ca:this.Wm=0;};k.prototype.start=function(a){t.Na(this.ce)&&(this.Pa=this.ce=a);};k.prototype.add=function(a,b,c){var f,h;t.Na(this.ce)&&(this.Pa=this.ce=b);this.ce=Math.min(this.ce,b);b=Math.max(c-b,1);f=this.JD;h=c>this.Pa?c:this.Pa;this.Wm=this.Wm*(h>this.Pa?Math.exp(-f*(h-this.Pa)):1)+8*a/b*(1-Math.exp(-f*b))*(c>h?Math.exp(-f*(h-c)):1);this.Pa=h;};k.prototype.get=function(a){var b;a=Math.max(a,this.Pa);b=this.Wm*Math.exp(-this.JD*(a-this.Pa));a=1-Math.exp(-this.JD*(a-this.ce));0<a&&(b/=a);return{Ca:Math.floor(b)};};k.prototype.toString=function(){return"ewmav("+this.lK+")";};m.prototype.setInterval=function(a){this.yw.setInterval(a);};m.prototype.reset=function(a){this.yw.reset(a);this.Qd=0;this.Qb=null;};m.prototype.start=function(a){!t.Na(this.Qb)&&a>this.Qb&&(this.Qd+=a-this.Qb,this.Qb=null);this.yw.start(a-this.Qd);};m.prototype.add=function(a,b,c){!t.Na(this.Qb)&&c>this.Qb&&(this.Qd+=b>this.Qb?b-this.Qb:0,this.Qb=null);this.yw.add(a,b-this.Qd,c-this.Qd);};m.prototype.stop=function(a){this.Qb=Math.max(t.Na(this.yw.Pa)?0:this.yw.Pa+this.Qd,t.Na(this.Qb)?a:Math.min(this.Qb,a));};m.prototype.get=function(a){return this.yw.get((t.Na(this.Qb)?a:this.Qb)-this.Qd);};m.prototype.toString=function(){return this.yw.toString();};d.R={IXa:c,YJb:k,GXa:m};},function(d,b,a){d.R={ORb:a(391),kVb:a(218),FJb:a(828),EJb:a(390),GJb:a(389),zqa:a(825)};},function(d){function b(){}function a(a){this.rAa=a;this.Um=[];this.sf=null;}b.prototype.clear=function(){this.Rd=null;this.size=0;};b.prototype.find=function(a){var c;for(var b=this.Rd;null!==b;){c=this.Qk(a,b.data);if(0===c)return b.data;b=b.bg(0<c);}return null;};b.prototype.lowerBound=function(a){var q;for(var b=this.Rd,c=this.iterator(),d=this.Qk;null!==b;){q=d(a,b.data);if(0===q)return c.sf=b,c;c.Um.push(b);b=b.bg(0<q);}for(q=c.Um.length-1;0<=q;--q)if(b=c.Um[q],0>d(a,b.data))return c.sf=b,c.Um.length=q,c;c.Um.length=0;return c;};b.prototype.upperBound=function(a){for(var b=this.lowerBound(a),c=this.Qk;null!==b.data()&&0===c(b.data(),a);)b.next();return b;};b.prototype.min=function(){var a;a=this.Rd;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};b.prototype.max=function(){var a;a=this.Rd;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Ud=function(a){for(var b=this.iterator(),c;null!==(c=b.next());)a(c);};a.prototype.data=function(){return null!==this.sf?this.sf.data:null;};a.prototype.next=function(){var a;if(null===this.sf){a=this.rAa.Rd;null!==a&&this.jza(a);}else if(null===this.sf.right){do if(a=this.sf,this.Um.length)this.sf=this.Um.pop();else{this.sf=null;break;}while(this.sf.right===a);}else this.Um.push(this.sf),this.jza(this.sf.right);return null!==this.sf?this.sf.data:null;};a.prototype.XB=function(){var a;if(null===this.sf){a=this.rAa.Rd;null!==a&&this.eza(a);}else if(null===this.sf.left){do if(a=this.sf,this.Um.length)this.sf=this.Um.pop();else{this.sf=null;break;}while(this.sf.left===a);}else this.Um.push(this.sf),this.eza(this.sf.left);return null!==this.sf?this.sf.data:null;};a.prototype.jza=function(a){for(;null!==a.left;)this.Um.push(a),a=a.left;this.sf=a;};a.prototype.eza=function(a){for(;null!==a.right;)this.Um.push(a),a=a.right;this.sf=a;};d.R=b;},function(d,b,a){var c,k,m,t,q,l,h,f,p,g;Object.defineProperty(b,"__esModule",{value:!0});b.z2=void 0;c=a(0);k=a(93);m=a(18);t=a(4);d=a(24);q=a(13);l=a(45);h=a(6);f=a(220);p=a(386);a=a(385);g=t.MediaSource;a=function(a){function b(b,c,f,h,l,d,m){c=a.call(this,b,h,l,c,m)||this;p.VQ.call(c,b,h,m);c.Bk=f;c.track=f.track;c.Er=!!h.Er;c.TG=!!h.TG;c.sx=!!h.sx;c.gwb=h.ba;c.SH=!!h.SH;c.T8=(d?"(cache)":"")+c.sa+" header";c.zE(b.url||h.url,h.offset,h.ba);return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{R_:{get:function(){return this.p6a;},enumerable:!1,configurable:!0}});b.prototype.yc=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.yc.call(this);};b.prototype.IM=function(b){this.stream.Pia();a.prototype.IM.call(this,b);};b.prototype.Si=function(b){this.Ym=this.Ym?q.xr(this.Ym,b.response):b.response;b.hP();this.m6a()?a.prototype.Si.call(this,b):this.Lxa?(this.zE(b.url,b.offset+b.ba,this.Lxa),a.prototype.Si.call(this,b)):this.CX(this);};b.prototype.zE=function(a,b,c){a=new f.BI(this.stream,this.track,this.T8+" ("+this.wa.length+")",{offset:b,ba:c,url:a,location:this.location,Lb:this.Lb,responseType:0},this,this.Xc,this.H);this.push(a);this.ac=this.wa.reduce(function(a,b){return a+b.ba;},0);};b.prototype.m6a=function(){var a,c,f;a=this.Xc;c=new k.cw(b.qub,this.stream,this.Ym,["sidx"],this.M===m.Ma.VIDEO&&a.tx||this.M===m.Ma.AUDIO,{hVb:this.stream.track.uca,TNa:void 0===this.Ra,gTa:!g.xc||!g.xc.dDa,Dma:a.Dma,po:a.po,oI:this.Xc.oI,dBb:!0,n1:!g.xc||!g.xc.nMa});f=c.parse({Ra:this.Ra});this.uHb=a.oI&&c.pob;f.jy?(h.assert(f.ni),this.cE=f.ni,this.p6a=f.R_,this.sya=!!f.aX,void 0===this.Ra&&void 0===f.Ra&&this.H.error("No frame duration available for "+this.sa),void 0===this.Ra&&void 0===f.Ra&&this.H.error("No frame duration available for "+this.sa),c=f.Ra?new q.la(f.Ra):this.Ra,this.stream.G_(f.ni,f.T,c,f.$,f.QG,f.ki,a.fH&&a.fH.enabled?f.Oy:void 0),this.Ym=void 0):this.Lxa=f.X8a||0;return!!f.jy;};b.qub=new t.Console("MP4","media|asejs");return b;}(a.w2);b.z2=a;l.Fg(p.VQ,a,!1,!1);l.Fg(d.EventEmitter,a);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.d7=void 0;c=a(93);a(6);a(31);d=function(){function a(a,b,c,l){this.T=c;this.Kd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.ac=l;}Object.defineProperties(a.prototype,{ba:{get:function(){return void 0!==this.ac?this.ac:this.ac=this.g8();},enumerable:!1,configurable:!0}});a.prototype.subarray=function(b,c){return new a(this.Kd.subarray(b,c),this.sizes.subarray(b,c),this.T);};a.prototype.concat=function(){var d,b,k,l;for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];d=[this];b=d.concat.apply(d,b);d=b.reduce(function(a,b){return a+b.length;},0);k=new Uint32Array(d);l=new Uint32Array(d);d=b.reduce(function(a,b){return a||b.T;},void 0);b.reduce(function(a,b){c.z7.set(k,b.Kd,a);c.z7.set(l,b.sizes,a);return a+b.length;},0);return new a(k,l,d);};a.prototype.g8=function(){for(var a=this.sizes,b=this.length,c=0,l=0;l<b;++l)c+=a[l];return c;};return a;}();b.d7=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(398);k=a(228);m=a(397);d=function(){function a(a,b,c){this.console=a;this.stream=b;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);}a.prototype.parse=function(a){var b;b=new m.vpa(this.view.byteLength);this.gg=new c.M2(k.SG.Pc,b,this.view,this.console,{aja:!0});a=this.gg.parse(a);this.Pc=this.gg.Pc;return a.done;};return a;}();b.lJ=d;},function(d,b,a){var k;function c(a,b){a=b.indexOf(a);-1!==a&&b.splice(a,1);}Object.defineProperty(b,"__esModule",{value:!0});k=a(82);d=function(){function a(a){this.endOffset=a;this.done=!1;}a.prototype.mGa=function(){return this.done;};a.prototype.NEa=function(a,b,c){return this.done=b+c>=this.endOffset;};return a;}();b.vpa=d;d=function(){function a(a,b,c,h){void 0===b&&(b=[]);void 0===c&&(c=[]);void 0===h&&(h=!1);this.uq=a;this.FW=b;this.xSa=c;this.VNa=h;this.done=!1;this.Fj={};}a.prototype.mGa=function(b,c,l){-1!==a.tob.indexOf(b)&&(this.Fj[b]={offset:c,size:l});if(-1!==this.xSa.indexOf(b))if(this.Fj[b]={offset:c,size:l},this.VNa)this.endOffset=c+l;else return this.endOffset=c,this.done=!0;else this.uq&&-1!==this.uq.indexOf(b)?(b=1<this.uq.length?4096:0,this.endOffset=Math.max(c+l+b,this.endOffset||0)):-1!==this.FW.indexOf(b)&&(b=this.uq?4096:0,this.endOffset=Math.max(c+l+b,this.endOffset||0));return this.done;};a.prototype.NEa=function(a,b,l,h){var f;f=this;if(-1!==this.xSa.indexOf(a))return this.done=!0;a===k.B5&&this.gRa(h.Fj);a===k.C5&&this.gRa(h.Fj);this.uq&&c(a,this.uq);c(a,this.FW);return this.uq&&0===this.uq.length&&!this.FW.some(function(a){return f.Fj[a];})?this.done=!0:this.done;};a.prototype.gRa=function(a){var b;b=this;this.Fj=a;this.endOffset=(this.uq||[]).concat(this.FW).reduce(function(a,c){return b.Fj[c]?(c=b.Fj[c],Math.max(c.offset+(c.size||4096),a)):a;},this.endOffset||0);};a.tob=["moov","sidx"];return a;}();b.MYa=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(27);m=a(75);d=function(a){function b(b,c,f,p,d){f=a.call(this,f,p,d)||this;f.$$a=b;f.YH=c;f.Pc={};return f;}c.__extends(b,a);b.prototype.parse=function(a){var b,c,l,d,k,q;this.offset=0;b=[];for(a=a||{};this.offset<this.view.byteLength&&!(8>this.view.byteLength-this.offset);){c=this.offset;l=this.Db();if(0===l)return{done:!1,offset:this.offset,error:"Invalid zero-length box"};d=m.Mz(this.Db());if(null===d)return{done:!1,offset:this.offset,error:"Invalid box type"};if("uuid"===d){if(16>this.view.byteLength-this.offset)break;d=this.s0();}if(0===b.length&&this.YH.mGa(d,c,l))break;if(c+l>this.view.byteLength)break;k=this.$$a[d];q=void 0;if(k)if(q=new k(this,d,c,l,b[0]),(b[0]||this).dL(q),q.parse(a))this.config.aja&&k.jc?b.unshift(q):this.offset=c+l;else return{done:!1,offset:this.offset,error:"parse error in "+d+" box"};else this.offset=c+l;for(;b.length&&this.offset>b[0].byteOffset+b[0].NB-8;){q=b.shift();if(!q.NF(a))return{done:!1,offset:this.offset,error:"finalize error in "+q.type+" box"};this.offset=q.byteOffset+q.NB;}if(0===b.length&&this.YH.NEa(d,c,l,q))break;}return!this.YH.done&&(a=this.YH.endOffset?this.YH.endOffset-this.view.byteLength:4096,0<a)?{done:!1,offset:this.offset,sMa:a}:{done:!0,offset:Math.min(this.YH.endOffset||Infinity,this.offset)};};b.prototype.dL=function(a){k.Uf.dL(this,a);};return b;}(a(839).p2a);b.M2=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var a,b,d;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];a=Array.prototype.concat.apply([],a);b=a.reduce(function(a,b){return a+b.byteLength;},0);d=new Uint8Array(b);a.reduce(function(a,b){d.set(new Uint8Array(b),a);return a+b.byteLength;},0);return d.buffer;};},function(d){var b,a,c,k;b={name:"heaac-2-dash reset sample",profile:53,uo:2,sampleRate:24E3,duration:1024,vv:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,uo:2,sampleRate:24E3,duration:1024,vv:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,uo:6,sampleRate:48E3,duration:1536,vv:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};k={name:"ddplus-2.0-dash standard sample",profile:57,uo:2,sampleRate:48E3,duration:1536,vv:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};d.R={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":k},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":k};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(82);a=a(27);k=d.C5;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a,f,p;this.Sf();1<=this.version&&(this.LFa=this.L.s0());a=this.L.Db();this.Fj={};for(var b=this.startOffset+this.length,c=0;c<a;++c){f=this.L.ry();"uuid"===f&&(f=this.L.s0());p=this.L.Wi();this.Fj[f]={offset:b,size:p};b+=p;}return!0;};b.Me=k;b.jc=!1;return b;}(a.Uf);b["default"]=a;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);k=a(82);d=a(27);m=k.B5;d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Sf();this.fileSize=this.L.Wi();this.T=this.L.Wi();this.duration=this.L.Wi(!1,!0);this.bNa=this.L.Wi();this.L.Wi();this.Evb=this.L.Wi();this.Pub=this.L.Db();this.cNa=this.L.Wi();this.ZFa=this.L.Db();this.LFa=this.L.s0();this.Fj={moof:{offset:this.bNa},sidx:{offset:this.cNa,size:this.ZFa}};this.Fj[k.mta]={offset:this.Evb,size:this.Pub};this.L.offset-this.startOffset<=this.length-24&&(this.Dvb=this.L.Wi(),this.Gub=this.L.Db(),this.Cvb=this.L.Wi(),this.Fub=this.L.Db(),this.Fj[k.rS]={offset:this.Dvb,size:this.Gub},this.Fj[k.qS]={offset:this.Cvb,size:this.Fub});return!0;};b.Me=m;b.jc=!1;return b;}(d.Uf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){var b;b=null!==a&&a.apply(this,arguments)||this;b.EX=1536;return b;}c.__extends(b,a);b.jc=!0;return b;}(a(165)["default"]);b["default"]=d;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Me="ac-3";return b;}(d);b.EUa=a;d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Me="ec-3";return b;}(d);b.PXa=d;},function(d){var b;b=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,b,d){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),d*a.byteLength/a.length);}:function(a,b,d){a.set(b,d);};d.R={from:function(a,b,d,m){a=new a(b.length);for(var c="function"===typeof d,k=0;k<b.length;++k)a[k]=c?d.call(m,b[k],k,b):b[k];return a;},set:b};},function(d,b,a){var k,m,t;function c(a){return void 0===a?!0:a;}Object.defineProperty(b,"__esModule",{value:!0});b.Rna=void 0;k=a(859);m=a(34);a(6);t=a(74);d=function(){function a(a,b,f){this.K=b;this.H=f;this.rg=a.track;this.t7a=a.Eg;this.Zx=a.Zx;this.J4a=-1===this.profile.indexOf("none");this.cE=this.Ea=void 0;this.Cn=c(a.Cn);this.inRange=c(a.inRange);this.tF=a.tF;this.Aw=void 0;this.cza=this.dt=0;this.url=this.kC=this.tc=this.fp=this.fha=this.location=this.Fa=this.kb=void 0;this.zu=!1;this.Bga=this.fe=void 0;a=this.K&&"object"===typeof this.K.QOa&&this.K.QOa[this.profile];"object"===typeof a&&(a=a[this.O])&&(this.rE=new m.la(a.ticks,a.timescale));}Object.defineProperties(a.prototype,{Bd:{get:function(){return!!this.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.rg.P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{G:{get:function(){return this.rg.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.rg.M;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.rg.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.rg.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{RG:{get:function(){return this.rg.RG;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ab:{get:function(){return this.rg.ab;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.rg;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Eg:{get:function(){return this.t7a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sa:{get:function(){return this.Zx.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hu:{get:function(){return this.J4a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Zx.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vc:{get:function(){return this.Zx.vmaf||null;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Zx.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nf:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ys:{get:function(){return this.Zx.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{si:{get:function(){return this.rE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{XZ:{get:function(){return this.Ea&&this.Ea.XZ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Lda:{get:function(){return this.rg.Lda;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Kda:{get:function(){return this.rg.Kda;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{BRa:{get:function(){return this.xqb();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{zx:{get:function(){return void 0!==this.Aw?this.Aw:this.sZ();},set:function(a){this.Aw=a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yj:{get:function(){return this.Cn&&this.inRange&&!this.zu;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ni:{get:function(){return this.cE;},enumerable:!1,configurable:!0}});a.prototype.vj=function(){return this.P.vj(this.M,this.sa);};a.prototype.$X=function(){var a;a=this.vj();return a&&a.stream.$;};a.prototype.HC=function(){return this.P.HC(this);};a.prototype.Pia=function(){this.track.Pia();};a.prototype.G_=function(a,b,c,p,d,m,q){p&&void 0!==p.Ij&&(this.track.Bd||void 0!==p.Kd&&p.Kd.length)&&void 0!==p.offset&&void 0!==p.sizes&&p.sizes.length?(this.K.po&&this.si&&0===p.Ij&&(p.Ij+=this.si.jg(p.T).Ib),this.cE=a,this.Bd||(this.track.G_(this,b,c,p,m),this.Ea=new k.swa(this.track.Fm,p,d,m,q,this.G),this.track.Nvb(this))):p?this.H.error("AseStream.onHeaderReceived: fragmentsData was missing data:"+(void 0!==p.Ij)+","+this.track.Bd+","+this.track.uca+","+(void 0!==p.Kd)+","+!(!p.Kd||!p.Kd.length)+","+(void 0!==p.offset)+","+(void 0!==p.sizes)+","+!(!p.sizes||!p.sizes.length)):this.H.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};a.prototype.hW=function(a){this.Bd||(this.track.zcb(a.track),this.Ea=a.$,this.cE=a.ni);};a.prototype.mi=function(a){return new t.xh(this,this.$.get(a));};a.prototype.hHa=function(a){var b;b=this.mi(a.index);a.Qa&&(b.Gj(a.Qa),b.MP(a.zv));return b;};a.prototype.BTa=function(a,b){this.dt=a;this.cza=b;};a.prototype.Dbb=function(){this.Fa=this.kb=this.tc=this.location=this.url=void 0;};a.prototype.toJSON=function(){return{movieId:this.G,mediaType:this.M,streamId:this.sa,bitrate:this.O};};a.prototype.toString=function(){return(0===this.M?"a":"v")+":"+this.sa+":"+this.O;};a.prototype.sZ=function(){var a;if(!this.Bd)return!0;if(this.track.Dfa>=this.O)return this.Aw=!0;if(this.track.WKa<=this.O)return this.Aw=!1;a=this.Ea.sZ(this.K.nO,this.dt,this.cza);if(a){if(!this.track.uca||this.Hu)this.track.Dfa=this.O;}else this.track.WKa=this.O;return this.Aw=a;};a.prototype.xqb=function(){return void 0!==this.Aw?!this.Aw:!this.sZ();};return a;}();b.Rna=d;},function(d,b,a){var k,m,t,q;function c(a){return function(){for(var b=Array(this.length),c=0;c<this.length;++c)b[c]=a.call(this,c);return b;};}Object.defineProperty(b,"__esModule",{value:!0});b.D9a=b.VN=b.s7=b.Xwa=void 0;k=a(6);d=a(4);m=a(34);t=new d.Console("FRAGMENTS","media|asejs");q=function(){function a(a,b){this.ec=a;this.gj=b;}Object.defineProperties(a.prototype,{index:{get:function(){return this.gj;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hx:{get:function(){return new m.la(this.Wa,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wa:{get:function(){return this.ec.UU+this.ec.Ow[this.gj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qb:{get:function(){return this.Wa+this.ec.co[this.gj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ao:{get:function(){return this.ec.co[this.gj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.ec.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.ec.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return Math.floor(1E3*this.Wa/this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ja:{get:function(){return Math.floor(1E3*(this.Wa+this.Ao)/this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return this.ja-this.S;},enumerable:!1,configurable:!0}});a.prototype.toJSON=function(){return{startPts:1E3*this.Wa/this.Ra.T,endPts:1E3*this.qb/this.Ra.T,duration:1E3*this.Ao/this.Ra.T,index:this.index};};return a;}();b.Xwa=q;a=function(){function a(a,b,c,l){this.M=a;this.length=c.Kd.length;this.Ml=c.T;this.co=c.Kd;this.tV=l&&l.lH;this.YAa=l&&l.DH;this.$D=b;this.Lma=this.Mma=this.aza=void 0;this.UU=c.Ij;this.Ow=new Uint32Array(this.length+1);if(this.length){for(b=a=0;b<this.length;++b)this.Ow[b]=a,a+=this.co[b];this.Ow[b]=a;this.X7=Math.floor((this.ja-this.S)/this.length);}}Object.defineProperties(a.prototype,{Ij:{get:function(){return this.URa(0);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Lca:{get:function(){return this.URa(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.Rh(0);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ja:{get:function(){return this.Rh(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{RA:{get:function(){return new m.la(this.Lca,this.T);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Kha:{get:function(){return this.aza||this.b3a();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.$D;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.Ml;},enumerable:!1,configurable:!0}});a.prototype.URa=function(a){return this.UU+this.Ow[a];};a.prototype.Rh=function(a){return Math.floor(1E3*(this.UU+this.Ow[a])/this.T);};a.prototype.Mca=function(a){return this.Rh(a+1);};a.prototype.Kd=function(a){return this.Mca(a)-this.Rh(a);};a.prototype.get=function(a){return new q(this,a);};a.prototype.Yl=function(a,b,c){if(0===this.length||a<this.Rh(0))return-1;a=Math.max(a,b||0);for(var f=0,h=this.length-1,p,l;h>=f;)if(p=f+(h-f>>1),l=this.Rh(p),a<l)h=p-1;else if(a>=l+this.Kd(p))f=p+1;else{for(;b&&p<this.length&&this.Rh(p)<b;)++p;return p<this.length?p:c?this.length-1:-1;}return c?this.length-1:-1;};a.prototype.pX=function(a,b,c){a=this.Yl(a,b,c);return 0<=a?this.get(a):void 0;};a.prototype.qba=function(a,b){var c,f;c=Math.floor(b*this.T/1E3);b=Math.min(a+Math.ceil(b/this.X7),this.length);f=this.Ow[b]-this.Ow[a];if(f>c){for(;f>=c;)--b,f-=this.co[b];return b-a+1;}for(;f<c&&b<=this.length;)f+=this.co[b],++b;return b-a;};a.prototype.subarray=function(b,c){k.assert(void 0===b||0<=b&&b<this.length);k.assert(void 0===c||c>b&&c<=this.length);return new a(this.M,this.Ra,{T:this.T,Ij:this.UU+this.Ow[b],Kd:this.co.subarray(b,c)},this.tV&&{lH:this.tV.subarray(b,c+1),DH:this.YAa});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.X7};};a.prototype.dump=function(){var b;t.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.X7+"ms");for(var a=0;a<this.length;++a){b=this.get(a);t.trace("TrackFragments: "+a+": ["+b.S+"-"+b.ja+"]");}};a.prototype.b3a=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.co[b],a);return this.aza=a;};return a;}();b.s7=a;b.VN=c;a.prototype.TRa=c(a.prototype.Rh);b.D9a=function(a){return"["+Array(a.length).map(function(b,c){return a[c].toString();}).join(",")+"]";};},function(d){function b(a){this.d9=a;this.Ze=[];this.mo=!1;this.cA=void 0;this.hi={};}b.prototype.rV=function(a){this.Ze.length===this.d9&&this.Ze.shift();Array.isArray(a)?this.Ze=this.Ze.concat(a):this.Ze.push(a);this.mo=!0;};b.prototype.aG=function(){return this.Ze.length;};b.prototype.xaa=function(){var a;a=this.Ze;return 0<a.length?a.reduce(function(a,b){return a+b;},0)/this.Ze.length:void 0;};b.prototype.SV=function(){var a,b;a=this.Ze;if(0<a.length){b=this.xaa();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};b.prototype.Ip=function(a){var b,d,m;if(this.mo||void 0===this.cA)this.cA=this.Ze.slice(0).sort(function(a,b){return a-b;}),this.hi={},this.mo=!1;if(void 0===this.hi[a]){b=this.cA;d=Math.floor(a/100*(b.length-1)+1)-1;m=(a/100*(b.length-1)+1)%1;this.hi[a]=d===b.length-1?b[d]:b[d]+m*(b[d+1]-b[d]);}return this.hi[a];};d.R=b;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kv=void 0;d=b.Kv||(b.Kv={});d[d.CLOSED=0]="CLOSED";d[d.OPEN=1]="OPEN";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.kL=void 0;c=a(7);b.kL=function(a,b,d){var m,l;m=!0;d.forEach(function(h){var f;if(m&&a===h.profile){f=h.ranges;m=c.V(f)?b>=h.min&&b<=h.max:f.some(function(a){return b>=a.min&&b<=a.max;});!m&&h.disallowed&&h.disallowed.some(function(a){if(a.stream.bitrate===b)return l=a.disallowedBy,!0;});}});return{inRange:m,tF:l};};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(910),b);d.__exportStar(a(909),b);d.__exportStar(a(908),b);d.__exportStar(a(907),b);d.__exportStar(a(906),b);d.__exportStar(a(905),b);d.__exportStar(a(904),b);d.__exportStar(a(903),b);d.__exportStar(a(902),b);d.__exportStar(a(901),b);d.__exportStar(a(900),b);d.__exportStar(a(409),b);d.__exportStar(a(899),b);d.__exportStar(a(895),b);d.__exportStar(a(894),b);d.__exportStar(a(893),b);d.__exportStar(a(230),b);d.__exportStar(a(892),b);d.__exportStar(a(891),b);d.__exportStar(a(890),b);d.__exportStar(a(889),b);d.__exportStar(a(888),b);d.__exportStar(a(887),b);d.__exportStar(a(886),b);d.__exportStar(a(885),b);d.__exportStar(a(884),b);d.__exportStar(a(883),b);d.__exportStar(a(882),b);d.__exportStar(a(881),b);d.__exportStar(a(880),b);d.__exportStar(a(879),b);d.__exportStar(a(878),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.c5=void 0;b.c5="ManifestEnricherSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.f6=b.g6=void 0;b.g6="PboLinksManagerSymbol";b.f6="PboLinksManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.g5=void 0;b.g5="ManifestTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.h5=void 0;b.h5="ManifestVerifyErrorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.w7=void 0;b.w7="TrickPlayFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.t7=void 0;b.t7="TrackStreamFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F6=void 0;b.F6="PlayerTextTrackFactorySymbol";},function(d,b){function a(a,b){this.log=a;this.L1=b;}Object.defineProperty(b,"__esModule",{value:!0});b.kJ=void 0;a.prototype.dTa=function(a,b){var c;c=this;if(!a)return this.log.warn("There are no media streams for "+b.type+" track - "+b.ab),[];a=a.map(function(a){var d;d=c.L1(b,b.type,a.qca,a.O,a.vc,a.size,c.dlb(a.me),a.dF,a.Cjb/a.Bjb,a.Hu);d.gDb(a.MAb,a.LAb,a.fxb,a.exb);d.BCb(a.efb,a.ffb,a.dfb,a.cfb);b.ik&&(d.ik=b.ik);a.dF&&(d.Nf=a.dF);return d;});a.sort(function(a,b){return a.O-b.O;});return a;};a.prototype.dlb=function(a){return a.reduce(function(a,b){a[b.DCa]=b.url;return a;},{});};b.kJ=a;},function(d,b,a){var c,k,m;c=a(234);k=a(110);b=a(51);m=a(930);a=b(function(a,b){return 1===a?k(b):c(a,m(a,[],b));});d.R=a;},function(d){d.R=function(b,a){for(var c=0,d=a.length,m=Array(d);c<d;)m[c]=b(a[c]),c+=1;return m;};},function(d,b,a){var c,k,m,t,q;b=a(110);c=a(236);k=a(933);m=!{toString:null}.propertyIsEnumerable("toString");t="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");q=function(){return arguments.propertyIsEnumerable("length");}();a=b("function"!==typeof Object.keys||q?function(a){var b,f,p,l;if(Object(a)!==a)return[];p=[];f=q&&k(a);for(b in a)!c(b,a)||f&&"length"===b||(p[p.length]=b);if(m)for(f=t.length-1;0<=f;){b=t[f];if(l=c(b,a)){a:{for(l=0;l<p.length;){if(p[l]===b){l=!0;break a;}l+=1;}l=!1;}l=!l;}l&&(p[p.length]=b);--f;}return p;}:function(a){return Object(a)!==a?[]:Object.keys(a);});d.R=a;},function(d){d.R={Kb:function(){return this.OQ["@@transducer/init"]();},result:function(b){return this.OQ["@@transducer/result"](b);}};},function(d){d.R=Array.isArray||function(b){return null!=b&&0<=b.length&&"[object Array]"===Object.prototype.toString.call(b);};},function(d,b,a){var c,k;c=a(423);k=a(940);d.R=function(a,b,d){return function(){var l,h;if(0===arguments.length)return d();l=Array.prototype.slice.call(arguments,0);h=l.pop();if(!c(h)){for(var f=0;f<a.length;){if("function"===typeof h[a[f]])return h[a[f]].apply(h,l);f+=1;}if(k(h))return b.apply(null,l)(h);}return d.apply(this,arguments);};};},function(d,b,a){var c,k,m,t,q,l;b=a(51);c=a(424);k=a(939);m=a(426);t=a(235);q=a(934);l=a(421);a=b(c(["filter"],q,function(a,b){return m(b)?t(function(c,f){a(b[f])&&(c[f]=b[f]);return c;},{},l(b)):k(a,b);}));d.R=a;},function(d){d.R=function(b){return"[object Object]"===Object.prototype.toString.call(b);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.e5=void 0;b.e5="ManifestProviderConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.f5=void 0;b.f5="ManifestParserFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.P2=void 0;b.P2="CDMAttestedDescriptorProvider";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.K2=void 0;b.K2="BookmarkConfigParserSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.L2=void 0;b.L2="BookmarkConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.s3=void 0;b.s3="DiskStorageRegistrySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.r5=void 0;b.r5="MemoryStorageSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q4=void 0;b.Q4="LocalStorageSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y2=void 0;b.Y2="CorruptedStorageValidatorConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gT=void 0;b.gT="Storage";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gJ=void 0;b.gJ="IndexedDBConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.L6=void 0;b.L6="PresentationAPISymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.j5=void 0;b.j5="MediaCapabilitiesLogHelperSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.k5=void 0;b.k5="MediaCapabilitiesSymbol";},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.vR=void 0;c=a(33);k=a(443);m=a(61);a(129);new(a(96)).kw();d=function(){function a(a,b){var h;h=k.JI.call(this,a,b,c.Rq.Audio)||this;h.config=a;h.aia=b;h.type=c.Mv.$y;return h;}ca(a,k.JI);a.prototype.aQ=function(){return Promise.resolve(!1);};a.prototype.DA=function(){var a;a={};a[m.Xh.OR]="mp4a.40.2";a[m.Xh.BYa]="mp4a.40.2";a[m.Xh.d4]="mp4a.40.5";a[m.Xh.PR]="mp4a.40.2";a[m.Xh.uT]="mp4a.40.42";this.config().Dca&&(a[m.Xh.rR]="ec-3");this.config().Cca&&(a[m.Xh.c3]="ec-3");this.config().wM&&(a[m.Xh.sR]="ec-3");return a;};a.prototype.UHa=function(){return this.config().pL;};a.lI="audio/mp4;codecs={0};";return a;}();b.vR=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fh=void 0;b.fh=function(){function a(){}a.Kqa=/^hevc-main/;a.Jqa=/^hevc-hdr-|hevc-dv/;a.Ps=/^hevc-hdr-/;a.Ns=/^hevc-dv/;a.dD=/-h264mpl/;a.UI=/-h264mpl30/;a.eD=/-h264mpl31/;a.PC=/-h264hpl/;a.pw=/^vp9-/;a.yi=/^av1-/;a.PQ=/^heaac-2-/;a.ALb=/^heaac-2hq-dash/;a.uT=/^xheaac-dash/;a.FWa=/ddplus-2/;a.GWa=/ddplus-5/;a.HWa=/ddplus-atmos/;return a;}();},function(d,b,a){var k,m,t;function c(a,b,c){this.config=a;this.aia=b;this.M=c;this.cia={};this.cia[k.Rq.Audio]="audio";this.cia[k.Rq.qxa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.JI=void 0;k=a(33);d=a(96);m=a(442);t=new d.kw().format;c.prototype.iIa=function(){return this.ogb(this.UHa());};c.prototype.Yt=function(a){return this.aia.isTypeSupported(a);};c.prototype.TGa=function(){return[m.fh.PQ,m.fh.dD];};c.prototype.ega=function(){this.sl=[];this.qq=[];this.config().CNa&&this.qq.push(m.fh.Kqa);this.config().BNa&&this.qq.push(m.fh.Jqa);this.config().IO&&this.qq.push(m.fh.PC);this.config().DNa&&this.qq.push(m.fh.pw);this.config().ANa&&this.qq.push(m.fh.yi);this.qq=this.qq.concat(this.TGa());!this.config().Mhb&&this.sl.push(m.fh.uT);!this.config().Dca&&this.sl.push(m.fh.FWa);!this.config().Cca&&this.sl.push(m.fh.GWa);!this.config().wM&&this.sl.push(m.fh.HWa);!this.config().Ehb&&this.sl.push(/prk$/);this.config().CNa||this.config().uhb||this.sl.push(m.fh.Kqa);this.config().BNa||this.config().Fca||this.sl.push(m.fh.Jqa);this.config().IO||this.config().VW||this.sl.push(m.fh.PC);this.config().DNa||this.config().Khb||this.sl.push(m.fh.pw);this.config().ANa||this.config().qhb||this.sl.push(m.fh.yi);};c.prototype.nX=function(a){var b;b=this;a=a.filter(function(a){for(var c=S(b.qq),h=c.next();!h.done;h=c.next())if(h.value.test(a))return!0;c=S(b.sl);for(h=c.next();!h.done;h=c.next())if(h.value.test(a))return!1;a=b.Lja[a];h="";if(a)return Array.isArray(a)&&(h=1<a.length?" "+a[1]:"",a=a[0]),a=t("{0}/mp4;codecs={1};{2}",b.cia[b.M],a,h),b.Yt(a);});return Promise.resolve(a);};c.prototype.ogb=function(a){var b;b={};this.ega();return this.nX(a).then(function(a){return a.map(function(a){return b[a]=1;});}).then(function(){return Object.keys(b);});};na.Object.defineProperties(c.prototype,{Lja:{configurable:!0,enumerable:!0,get:function(){this.Lza||(this.Lza=this.DA());return this.Lza;}}});b.JI=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.B2=void 0;b.B2={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.R2=void 0;b.R2="CapabilityDetectorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.O3=void 0;b.O3="ExtraPlatformInfoProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.U2=void 0;b.U2="CdnThroughputTracker";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.p7=void 0;b.p7="ThroughputTrackerConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.d6=void 0;b.d6="PboGenerateScreenshotsCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.r3=void 0;b.r3="DiagnosticsFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.u7=void 0;b.u7="TransitionLoggerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.H7=void 0;b.H7="VideoPlayerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.B6=void 0;b.B6="PlaybackFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.b7=void 0;b.b7="SegmentConfigFactorySymbol";},function(d,b,a){var k;function c(a,b,c,l,h,f){this.level=a;this.Rl=b;this.timestamp=c;this.message=l;this.Ad=h;this.index=void 0===f?0:f;this.UZa={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.U4=void 0;k=a(3);c.prototype.I1=function(a,b){var c;c=""+this.message;this.Ad.forEach(function(l){c+=l.FC(a,b);});return(this.timestamp.ca(k.ha)/1E3).toFixed(3)+"|"+this.index+"|"+(this.UZa[this.level]||this.level)+"|"+this.Rl+"| "+c;};b.U4=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.j3=void 0;b.j3="DebouncerFactorySymbol";},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.bD=b.qqa=void 0;c=a(0);k=a(468);m=a(1);d=function(){var b;function a(){}a.prototype.create=function(){return new k.aj();};b=a;return b=c.__decorate([m.N()],b);}();b.qqa=d;b.bD="EventSourceFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.bD=void 0;b.bD="EventSourceFactorySymbol";},function(d,b,a){var k,m,t;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.l5=void 0;k=a(5);m=a(15);t=a(10);c.prototype.Up=function(){return this.Opb()?t.Npa:/widevine/i.test(this.config().Yd)?t.z3:/fps/i.test(this.config().Yd)?"fairplay":t.zR;};c.prototype.Opb=function(){return/clearkey/i.test(this.config().Yd);};na.Object.defineProperties(c.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.K||(this.K=k.Y.get(m.dd));return this.K;}}});b.l5=new c();},function(d,b,a){var k,m,t,q;function c(a,b,c,p,d,k,q){this.debug=a;this.config=b;this.platform=c;this.KLa=p;this.debug.assert(d&&d!=m.J.Ok,"There should always be a specific error code");this.errorCode=d||m.J.Ok;k&&t.Qe(k)?(this.da=k.da||k.ad,this.Vd=k.Vd||k.mh,this.Sca=k.Sca||k.yF,this.nb=k.nb||k.sF,this.KA=k.Rca,this.GF=k.GF||k.lMa||k.cs,this.eX=k.eX||k.data,k.cO&&(this.cO=k.cO),this.Li=k.Li,this.method=k.method,this.s_=k.s_,this.alert=k.alert,this.D$=k.D$,this.debug.assert(!this.Li||this.Li==this.Vd)):(this.da=k,this.Vd=q);this.stack=[this.errorCode];this.da?this.stack.push(this.da):this.Vd&&this.stack.push(m.u.Ok);this.Vd&&this.stack.push(this.Vd);this.IW=this.platform.UA+this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.Qua=void 0;k=a(10);m=a(2);t=a(21);q=a(14);a(17);c.prototype.toString=function(){var a;a="[PlayerError #"+this.IW+"]";this.nb&&(a+=" "+this.nb);this.KA&&(a+=" (CustomMessage: "+this.KA+")");return a;};c.prototype.wma=function(){var a,b;this.KA&&(a=["streaming_error"]);a||this.KLa.Up()!==k.zR||("80080017"==this.Vd&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.Vd&&(a=["pause_timeout"]));a||this.KLa.Up()!==k.z3||this.errorCode!==m.J.Rpa&&this.errorCode!==m.J.D3||(a=["no_cdm","platform_error","plugin_error"]);this.vqb()&&(a=["received_soad"]);b=this.Dkb();b&&(a=[b],this.KA=void 0);if(!a)switch(this.errorCode){case m.J.CS:case m.J.dS:case m.J.XUa:case m.J.Nta:a=["pause_timeout"];break;case m.J.ura:case m.J.vra:a=this.da?["platform_error"]:["multiple_tabs"];break;case m.J.YZa:case m.J.M1a:case m.J.xZa:case m.J.wZa:case m.J.zZa:a=["should_signout_and_signin"];break;case m.J.y4:case m.J.Qta:case m.J.Pta:case m.J.U5:case m.J.v0a:a=["platform_error","plugin_error"];break;case m.J.F0a:a=["no_cdm","platform_error","plugin_error"];break;case m.J.S5:a=this.da?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case m.J.BR:case m.J.DS:case m.J.Rta:switch(this.Vd){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case m.J.Ota:case m.J.R5:a=["unsupported_output"];}!a&&m.oqa(this.da)&&(a=this.da==m.u.cJ?["geo"]:["internet_connection_problem"]);a||this.errorCode!==m.J.D3||this.da!==m.u.yh||"S"!==this.platform.UA||(a=["private_mode"]);if(!a)switch(this.jSa(this.da)){case m.u.J7:a=["should_upgrade"];break;case m.u.Ita:a=["should_reset_device"];break;case m.u.Hta:a=["should_reload_device"];break;case m.u.Gta:a=["should_exit_device"];break;case m.u.H_a:case m.u.Bsa:a=["should_signout_and_signin"];break;case m.u.I_a:a=["internet_connection_problem"];break;case m.u.Uta:case m.u.Sta:case m.u.Vta:case m.u.Tta:case m.u.hpa:a=["platform_error","plugin_error"];break;case m.u.e3:case m.u.ara:case m.u.bra:a=["private_mode"];}a=a||[];a.push(this.platform.UA+this.errorCode);if(this.da)switch(this.jSa(this.da)){case m.u.Jta:a.push("incorrect_pin");break;default:a.push(""+this.da);}a={display:{code:this.IW,text:this.KA},messageIdList:a,alert:this.alert,alertTag:this.D$};if(this.GF||this.lMa)a.mslErrorCode=this.GF||this.lMa||this.cs;return a;};c.prototype.jSa=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};c.prototype.vqb=function(){var a;a=q.ma(this.Vd)?this.Vd.toString():q.Ge(this.Vd)?this.Vd:"";return this.GF===m.oS.A7&&(a.endsWith("2018")||a.endsWith("2020"));};c.prototype.Dkb=function(){if(this.errorCode===m.J.jz&&(this.da===m.u.N5||this.da===m.u.Fta))return this.Ekb(this.da===m.u.N5);};c.prototype.Ekb=function(a){var b,c,p;b=(this.config().browserInfo||{}).os||{};c=b.name;p=(b.version||"").split(".");b=parseInt(p&&p[0]);p=parseInt(p&&p[1]);switch(c){case"Windows":return 6>b||6===b&&1>p?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"Mac OS X":return 10>b||10===b&&10>p?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.Qua=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.B7=void 0;b.B7="UrlFactorySymbol";},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.M6=void 0;c=a(0);k=a(1);d=function(){var b;function a(a){this.M4a=void 0===a?!1:a;this.Rd={0:[]};}a.prototype.add=function(a,b){var c;b=void 0===b?0:b;c=this.Rd[b];c?this.M4a&&-1!==c.indexOf(a)||c.push(a):this.Rd[b]=[a];};a.prototype.remove=function(a,b){this.yt(a,void 0===b?0:b);};a.prototype.removeAll=function(a){this.yt(a);};a.prototype.Gr=function(){var a;a=this;return Object.keys(this.Rd).sort().reduce(function(b,c){return b.concat(a.Rd[c]);},[]);};a.prototype.yt=function(a,b){var c;c=this;Object.keys(this.Rd).forEach(function(f){var h;if(void 0===b||b===parseInt(f)){f=c.Rd[f];-1<(h=f.indexOf(a))&&f.splice(h,1);}});};b=a;return b=c.__decorate([k.N()],b);}();b.M6=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.y5=b.F_a=void 0;b.F_a=function(){};b.y5="MseConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.m3=void 0;b.m3="DecoderTimeoutPathologistSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.b3=void 0;b.b3="CsvEncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.l7=void 0;b.l7="StringUtilsSymbol";},function(d,b,a){(function(c){var U,la,O,sa,ua,ya;function d(a,c){var f;f={Xka:[],Kj:t};3<=arguments.length&&(f.depth=arguments[2]);4<=arguments.length&&(f.aF=arguments[3]);E(c)?f.Bla=c:c&&b.$3a(f,c);C(f.Bla)&&(f.Bla=!1);C(f.depth)&&(f.depth=2);C(f.aF)&&(f.aF=!1);C(f.YDa)&&(f.YDa=!0);f.aF&&(f.Kj=m);return l(f,a,f.depth);}function m(a,b){return(b=d.AEb[b])?"\u001b["+d.aF[b][0]+"m"+a+"\u001b["+d.aF[b][1]+"m":a;}function t(a){return a;}function q(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function l(a,c,d){var k,m,t,g,G;if(a.YDa&&c&&A(c.AN)&&c.AN!==b.AN&&(!c.constructor||c.constructor.prototype!==c)){k=c.AN(d,a);n(k)||(k=l(a,k,d));return k;}if(k=h(a,c))return k;m=Object.keys(c);t=q(m);a.Bla&&(m=Object.getOwnPropertyNames(c));if(R(c)&&(0<=m.indexOf("message")||0<=m.indexOf("description")))return f(c);if(0===m.length){if(A(c))return a.Kj("[Function"+(c.name?": "+c.name:"")+"]","special");if(r(c))return a.Kj(RegExp.prototype.toString.call(c),"regexp");if(aa(c))return a.Kj(Date.prototype.toString.call(c),"date");if(R(c))return f(c);}k="";g=!1;G=["{","}"];K(c)&&(g=!0,G=["[","]"]);A(c)&&(k=" [Function"+(c.name?": "+c.name:"")+"]");r(c)&&(k=" "+RegExp.prototype.toString.call(c));aa(c)&&(k=" "+Date.prototype.toUTCString.call(c));R(c)&&(k=" "+f(c));if(0===m.length&&(!g||0==c.length))return G[0]+k+G[1];if(0>d)return r(c)?a.Kj(RegExp.prototype.toString.call(c),"regexp"):a.Kj("[Object]","special");a.Xka.push(c);m=g?p(a,c,d,t,m):m.map(function(b){return y(a,c,d,t,b,g);});a.Xka.pop();return H(m,k,G);}function h(a,b){if(C(b))return a.Kj("undefined","undefined");if(n(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.Kj(b,"string");if(G(b))return a.Kj(""+b,"number");if(E(b))return a.Kj(""+b,"boolean");if(null===b)return a.Kj("null","null");}function f(a){return"["+Error.prototype.toString.call(a)+"]";}function p(a,b,c,f,h){for(var p=[],d=0,l=b.length;d<l;++d)Object.prototype.hasOwnProperty.call(b,String(d))?p.push(y(a,b,c,f,String(d),!0)):p.push("");h.forEach(function(h){h.match(/^\d+$/)||p.push(y(a,b,c,f,h,!0));});return p;}function y(a,b,c,f,h,p){var d,k;b=Object.getOwnPropertyDescriptor(b,h)||{value:b[h]};b.get?k=b.set?a.Kj("[Getter/Setter]","special"):a.Kj("[Getter]","special"):b.set&&(k=a.Kj("[Setter]","special"));Object.prototype.hasOwnProperty.call(f,h)||(d="["+h+"]");k||(0>a.Xka.indexOf(b.value)?(k=null===c?l(a,b.value,null):l(a,b.value,c-1),-1<k.indexOf("\n")&&(k=p?k.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+k.split("\n").map(function(a){return"   "+a;}).join("\n"))):k=a.Kj("[Circular]","special"));if(C(d)){if(p&&h.match(/^\d+$/))return k;d=JSON.stringify(""+h);d.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(d=d.substr(1,d.length-2),d=a.Kj(d,"name")):(d=d.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),d=a.Kj(d,"string"));}return d+": "+k;}function H(a,b,c){var f;f=0;return 60<a.reduce(function(a,b){f++;0<=b.indexOf("\n")&&f++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1];}function K(a){return Array.isArray(a);}function E(a){return"boolean"===typeof a;}function G(a){return"number"===typeof a;}function n(a){return"string"===typeof a;}function C(a){return void 0===a;}function r(a){return P(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function P(a){return"object"===typeof a&&null!==a;}function aa(a){return P(a)&&"[object Date]"===Object.prototype.toString.call(a);}function R(a){return P(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function A(a){return"function"===typeof a;}function u(a){return 10>a?"0"+a.toString(10):a.toString(10);}function oa(){var a,b;a=new Date();b=[u(a.getHours()),u(a.getMinutes()),u(a.getSeconds())].join(":");return[a.getDate(),ua[a.getMonth()],b].join(" ");}function fa(a,b){var c;if(!a){c=Error("Promise was rejected with a falsy value");c.reason=a;a=c;}return b(a);}U=Object.mSb||function(a){for(var b=Object.keys(a),c={},f=0;f<b.length;f++)c[b[f]]=Object.getOwnPropertyDescriptor(a,b[f]);return c;};la=/%[sdj%]/g;b.format=function(a){if(!n(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(d(arguments[c]));return b.join(" ");}for(var c=1,f=arguments,h=f.length,b=String(a).replace(la,function(a){if("%%"===a)return"%";if(c>=h)return a;switch(a){case"%s":return String(f[c++]);case"%d":return Number(f[c++]);case"%j":try{return JSON.stringify(f[c++]);}catch(Sa){return"[Circular]";}default:return a;}}),p=f[c];c<h;p=f[++c])b=null!==p&&P(p)?b+(" "+d(p)):b+(" "+p);return b;};b.agb=function(a,f){var h;if("undefined"!==typeof c&&!0===c.UTb)return a;if("undefined"===typeof c)return function(){return b.agb(a,f).apply(this,arguments);};h=!1;return function(){if(!h){if(c.zVb)throw Error(f);c.BVb?console.trace(f):console.error(f);h=!0;}return a.apply(this,arguments);};};O={};b.iRb=function(a){var f;C(sa)&&(sa=c.cib.GMb||"");a=a.toUpperCase();if(!O[a])if(new RegExp("\\b"+a+"\\b","i").test(sa)){f=c.pUb;O[a]=function(){var c;c=b.format.apply(b,arguments);console.error("%s %d: %s",a,f,c);};}else O[a]=function(){};return O[a];};b.AN=d;d.aF={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};d.AEb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};b.isArray=K;b.Lpb=E;b.Na=function(a){return null===a;};b.QSb=function(a){return null==a;};b.ma=G;b.Ge=n;b.TSb=function(a){return"symbol"===typeof a;};b.V=C;b.VJa=r;b.Qe=P;b.hZ=aa;b.DN=R;b.Sb=A;b.RJa=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};b.isBuffer=a(1019);ua="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");b.log=function(){console.log("%s - %s",oa(),b.format.apply(b,arguments));};b.mpb=a(1018);b.$3a=function(a,b){if(b&&P(b))for(var c=Object.keys(b),f=c.length;f--;)a[c[f]]=b[c[f]];};g();g();ya="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;b.Kyb=function(a){function b(){for(var b,c,f=new Promise(function(a,f){b=a;c=f;}),h=[],p=0;p<arguments.length;p++)h.push(arguments[p]);h.push(function(a,f){a?c(a):b(f);});try{a.apply(this,h);}catch(Sa){c(Sa);}return f;}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');if(ya&&a[ya]){b=a[ya];if("function"!==typeof b)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(b,ya,{value:b,enumerable:!1,writable:!1,configurable:!0});return b;}Object.setPrototypeOf(b,Object.getPrototypeOf(a));ya&&Object.defineProperty(b,ya,{value:b,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(b,U(a));};b.Kyb.$Qb=ya;b.JQb=function(a){function b(){var p,d;function b(){return p.apply(d,arguments);}for(var f=[],h=0;h<arguments.length;h++)f.push(arguments[h]);p=f.pop();if("function"!==typeof p)throw new TypeError("The last argument must be of type Function");d=this;a.apply(this,f).then(function(a){c.yMa(b,null,a);},function(a){c.yMa(fa,a,b);});}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(b,Object.getPrototypeOf(a));Object.defineProperties(b,U(a));return b;};}.call(this,a(249)));},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.aj=void 0;c=a(0);k=a(1);d=function(){var b,d;function a(){this.yn={};this.id="$es$"+b.ZL++;}a.prototype.addListener=function(a,b,c){var f,h;f="$netflix$player$order"+this.id+"$"+a;if(this.yn){h=this.yn[a]?this.yn[a].slice():[];c&&(b[f]=c);0>h.indexOf(b)&&(h.push(b),h.sort(function(a,b){return(a[f]||0)-(b[f]||0);}));this.yn[a]=h;}};a.prototype.removeListener=function(a,b){if(this.yn&&this.yn[a]){for(var c=this.yn[a].slice(),h;0<=(h=c.indexOf(b));)c.splice(h,1);this.yn[a]=c;}};a.prototype.Ub=function(a,b,c){var f;if(this.yn){f=this.kea(a);for(a={xj:0};a.xj<f.length;a={xj:a.xj},a.xj++)c?function(a){return function(){var c;c=f[a.xj];setTimeout(function(){c(b);},0);};}(a)():f[a.xj].call(this,b);}};a.prototype.tg=function(){this.yn=void 0;};a.prototype.on=function(a,b,c){this.addListener(a,b,c);};a.prototype.kea=function(a){return this.yn&&(this.yn[a]||(this.yn[a]=[]));};d=b=a;d.ZL=0;return d=b=c.__decorate([k.N()],d);}();b.aj=d;},function(d,b,a){var c,k,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.E7=void 0;c=a(0);k=a(1);a(2);m=a(23);t=a(98);q=a(9);d=function(){var b;function a(a,b){this.is=a;this.Dh=b;}a.prototype.FB=function(a,b,c){var f,h,p,d;f=this;if(b)if(c){h=c.BG;p=c.prefix;d=c.ev;this.ux(b,function(b,c){if(!d||f.is.Td(c))a[(p||"")+(h?b.toLowerCase():b)]=c;});}else this.ux(b,function(b,c){a[b]=c;});return a;};a.prototype.ux=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};a.prototype.wr=function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};a.prototype.yDa=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};a.prototype.Ee=function(a){var b,c,f;if(a){b=a.stack;c=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!==a.indexOf(f)&&(a=f+"\n"+a)):a=f;c&&(a+="\nnumber:"+c);return a;}};a.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};a.prototype.eea=function(a){return this.getFunctionName(a.constructor);};a.prototype.Lia=function(a){var b,c;b=this;c="";this.is.Mt(a)||this.is.jBa(a)?c=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.gn(a)?c=a:this.ux(a,function(a,f){c+=(c?", ":"")+"{"+a+": "+(b.is.mV(f)?b.getFunctionName(f)||"function":f)+"}";});return"["+this.eea(a)+" "+c+"]";};a.prototype.createElement=function(a,b,c,h){var f;f=q.$d.createElement(a);b&&(f.style.cssText=b);c&&(f.innerHTML=c);h&&this.ux(h,function(a,b){f.setAttribute(a,b);});return f;};a.prototype.Mib=function(a,b){return function(c){return c[a]===b;};};a.prototype.JO=function(a){var b;b={};(a||"").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0<=c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c+1)):b[a.toLowerCase()]=void 0;});return b;};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Ie)),c.__param(1,k.l(t.Nv))],b);}();b.E7=d;},function(d,b,a){var c,k,m,t,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.F2=void 0;c=a(0);k=a(1);d=Array.prototype.slice;m=d.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");d=d.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");t={};q={};l={};h={};f=/\s+/g;[m,d].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];t[c]=b<<18;q[c]=b<<12;l[c]=b<<6;h[c]=b;}});d=function(){var b,d;function a(){}a.prototype.encode=function(a){return b.Hca(a,m,"=");};a.prototype.decode=function(a){return b.Sba(a);};a.Sba=function(a){var b,c,p;a=a.replace(f,"");b=a.length;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=3*(b>>2);p=0;switch(b%4){case 2:p=1;break;case 3:p=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c+p),d=0,k=0,m;k<c;){m=t[a[d++]]+q[a[d++]]+l[a[d++]]+h[a[d++]];if(!(0<=m&&16777215>=m))throw Error("bad base64");b[k++]=m>>>16;b[k++]=m>>>8&255;b[k++]=m&255;}if(0<p&&(m=t[a[d++]]+q[a[d++]],b[k++]=m>>>16,1<p&&(m+=l[a[d++]],b[k++]=m>>>8&255),!(0<=m&&16776960>=m&&0===(m&(1<p?255:65535)))))throw Error("bad base64");return b;};a.Hca=function(a,b,c){for(var f="",h=0,p=a.length,d=p-2,l;h<d;){l=(a[h++]<<16)+(a[h++]<<8)+a[h++];if(!(0<=l&&16777215>=l))throw Error("not bytes");f+=b[l>>>18]+b[l>>>12&63]+b[l>>>6&63]+b[l&63];}if(h==d){l=(a[h++]<<8)+a[h++];if(!(0<=l&&65535>=l))throw Error("not bytes");f+=b[l>>>10]+b[l>>>4&63]+b[l<<2&63]+c;}else if(h==p-1){l=a[h++];if(!(0<=l&&255>=l))throw Error("not bytes");f+=b[l>>>2]+b[l<<4&63]+c+c;}return f;};d=b=a;return d=b=c.__decorate([k.N()],d);}();b.F2=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.J5=void 0;b.J5="OneWayCounterFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.X2=void 0;b.X2="ClockConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sn=void 0;d=b.Sn||(b.Sn={});d.Uma="usable";d.pib="expired";d.Zzb="released";d.yNa="output-restricted";d.mwb="output-downscaled";d.XRa="status-pending";d.Apb="internal-error";},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.UEa=b.sp=void 0;(function(a){a[a.yKa=0]="licenseStarted";a[a.sPa=1]="receivedLicenseChallenge";a[a.rPa=2]="receivedLicense";a[a.tPa=3]="receivedRenewalChallengeComplete";a[a.uPa=4]="receivedRenewalLicenseComplete";a[a.vPa=5]="receivedRenewalLicenseFailed";a[a.szb=6]="receivedIndivChallengeComplete";a[a.tzb=7]="receivedIndivLicenseComplete";a[a.MAa=8]="addLicenseComplete";a[a.PAa=9]="addRenewalLicenseComplete";a[a.QAa=10]="addRenewalLicenseFailed";}(a=b.sp||(b.sp={})));b.UEa=function(b){switch(b){case a.yKa:return"lg";case a.sPa:return"lc";case a.rPa:return"lr";case a.tPa:return"renew_lc";case a.uPa:return"renew_lr";case a.vPa:return"renew_lr_failed";case a.szb:return"ilc";case a.tzb:return"ilr";case a.MAa:return"ld";case a.PAa:return"renew_ld";case a.QAa:return"renew_ld_failed";default:return"unknown";}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.P3=b.yxa=void 0;b.yxa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.P3="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.I3=void 0;b.I3="EmeSessionFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.x3=void 0;b.x3="DrmProviderSymbol";},function(d,b,a){var m,t;function c(a){var b;b=a.value;a=a.Yi;a.closed||(a.next(b),a.complete());}function k(a){var b;b=a.TA;a=a.Yi;a.closed||a.error(b);}m=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};t=a(85);d=function(a){function b(b,c){a.call(this);this.ms=b;this.ta=c;}m(b,a);b.create=function(a,c){return new b(a,c);};b.prototype.Ll=function(a){var b,h,d;b=this;h=this.ms;d=this.ta;if(null==d)this.qt?a.closed||(a.next(this.value),a.complete()):h.then(function(c){b.value=c;b.qt=!0;a.closed||(a.next(c),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){t.root.setTimeout(function(){throw a;});});else if(this.qt){if(!a.closed)return d.Lc(c,0,{value:this.value,Yi:a});}else h.then(function(f){b.value=f;b.qt=!0;a.closed||a.add(d.Lc(c,0,{value:f,Yi:a}));},function(b){a.closed||a.add(d.Lc(k,0,{TA:b,Yi:a}));}).then(null,function(a){t.root.setTimeout(function(){throw a;});});};return b;}(a(19).lb);b.nva=d;},function(d,b,a){d=a(1057);b.from=d.sYa.create;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b,c){a.call(this);this.value=b;this.ta=c;this.qt=!0;c&&(this.qt=!1);}c(b,a);b.create=function(a,c){return new b(a,c);};b.ic=function(a){var b,c;b=a.value;c=a.Yi;a.done?c.complete():(c.next(b),c.closed||(a.done=!0,this.Lc(a)));};b.prototype.Ll=function(a){var c,d;c=this.value;d=this.ta;if(d)return d.Lc(b.ic,0,{done:!1,value:c,Yi:a});a.next(c);a.closed||a.complete();};return b;}(a(19).lb);b.Vva=d;},function(d,b,a){d=a(253);b.of=d.v2.of;},function(d,b,a){var c,k,m,t;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};k=a(174);d=a(175);b.IG=function(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);return function(f){"number"===typeof b&&(c=b,b=null);return f.fq(new m(a,b,c));};};m=function(){function a(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);this.ZB=a;this.ws=b;this.cba=c;}a.prototype.call=function(a,b){return b.subscribe(new t(a,this.ZB,this.ws,this.cba));};return a;}();b.nMb=m;t=function(a){function b(b,c,p,d){void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b);this.ZB=c;this.ws=p;this.cba=d;this.DIa=!1;this.buffer=[];this.index=this.active=0;}c(b,a);b.prototype.Uk=function(a){this.active<this.cba?this.I7a(a):this.buffer.push(a);};b.prototype.I7a=function(a){var b,c;c=this.index++;try{b=this.ZB(a,c);}catch(y){this.destination.error(y);return;}this.active++;this.G4a(b,a,c);};b.prototype.G4a=function(a,b,c){this.add(k.D1(this,a,b,c));};b.prototype.Pd=function(){this.DIa=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};b.prototype.D_=function(a,b,c,d){this.ws?this.K5a(a,b,c,d):this.destination.next(b);};b.prototype.K5a=function(a,b,c,d){var f;try{f=this.ws(a,b,c,d);}catch(K){this.destination.error(K);return;}this.destination.next(f);};b.prototype.ds=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.Uk(b.shift()):0===this.active&&this.DIa&&this.destination.complete();};return b;}(d.BS);b.oMb=t;},function(d,b,a){var c,k;c=a(482);k=a(1073);b.DB=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return c.IG(k.Qob,null,a);};},function(d,b){b.SJa=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(d,b){b.CJa=function(a){return a&&"number"===typeof a.length;};},function(d,b,a){var c,k,m,t,q;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var h in b)b.hasOwnProperty(h)&&(a[h]=b[h]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(70);k=a(1090);b.$Tb=function(a,b){void 0===b&&(b=0);return function(c){return c.fq(new m(a,b));};};m=function(){function a(a,b){void 0===b&&(b=0);this.ta=a;this.cl=b;}a.prototype.call=function(a,b){return b.subscribe(new t(a,this.ta,this.cl));};return a;}();b.iNb=m;t=function(a){function b(b,c,h){void 0===h&&(h=0);a.call(this,b);this.ta=c;this.cl=h;}c(b,a);b.ic=function(a){a.notification.observe(a.destination);this.unsubscribe();};b.prototype.Nka=function(a){this.add(this.ta.Lc(b.ic,this.cl,new q(a,this.destination)));};b.prototype.Uk=function(a){this.Nka(k.Notification.Leb(a));};b.prototype.tf=function(a){this.Nka(k.Notification.web(a));};b.prototype.Pd=function(){this.Nka(k.Notification.meb());};return b;}(d.Qm);b.Bta=t;q=function(){return function(a,b){this.notification=a;this.destination=b;};}();b.hNb=q;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(){a.apply(this,arguments);this.hn=[];this.active=!1;}c(b,a);b.prototype.flush=function(a){var b,c;b=this.hn;if(this.active)b.push(a);else{this.active=!0;do if(c=a.cf(a.state,a.cl))break;while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();)a.unsubscribe();throw c;}}};return b;}(a(1091).N1a);b.Xna=d;},function(d,b,a){var c,k;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};k=a(85);d=function(a){function b(b,c){a.call(this,b,c);this.ta=b;this.KO=!1;this.ena=c;}c(b,a);b.prototype.Lc=function(a,b){var c;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.KO=!0;a=this.id;c=this.ta;null!=a&&(this.id=this.fka(a,b));this.cl=b;this.id=this.id||this.qka(c,this.id,b);return this;};b.prototype.qka=function(a,b,c){void 0===c&&(c=0);return k.root.setInterval(a.flush.bind(a,this),c);};b.prototype.fka=function(a,b){void 0===b&&(b=0);return null!==b&&this.cl===b&&!1===this.KO?a:(k.root.clearInterval(a),void 0);};b.prototype.cf=function(a){if(this.closed)return Error("executing a cancelled action");this.KO=!1;if(a=this.uya(a))return a;!1===this.KO&&null!=this.id&&(this.id=this.fka(this.id,null));};b.prototype.uya=function(a){var b,c;b=!1;c=void 0;try{this.ena(a);}catch(f){b=!0;c=!!f&&f||Error(f);}if(b)return this.unsubscribe(),c;};b.prototype.Z9=function(){var a,b,c;a=this.id;b=this.ta.hn;c=b.indexOf(this);this.state=this.ena=null;this.KO=!1;this.ta=null;-1!==c&&b.splice(c,1);null!=a&&(this.id=this.fka(a,null));this.cl=null;};return b;}(a(1093).gVa);b.Una=d;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b,c){a.call(this);this.ZP=b;this.Yi=c;this.closed=!1;}c(b,a);b.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.ZP;b=a.bv;this.ZP=null;!b||0===b.length||a.yg||a.closed||(a=b.indexOf(this.Yi),-1!==a&&b.splice(a,1));}};return b;}(a(114).lw);b.xwa=d;},function(d,b){var a;a=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(b){function c(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);b.wD=d;},function(d,b,a){var c,k,m,t,q,l,h,f;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};k=a(19);d=a(70);m=a(114);t=a(490);q=a(489);l=a(257);h=function(a){function b(b){a.call(this,b);this.destination=b;}c(b,a);return b;}(d.Qm);b.$Ob=h;a=function(a){function b(){a.call(this);this.bv=[];this.iN=this.yg=this.closed=!1;this.oma=null;}c(b,a);b.prototype[l.iC]=function(){return new h(this);};b.prototype.fq=function(a){var b;b=new f(this,this);b.bH=a;return b;};b.prototype.next=function(a){if(this.closed)throw new t.wD();if(!this.yg)for(var b=this.bv,c=b.length,b=b.slice(),f=0;f<c;f++)b[f].next(a);};b.prototype.error=function(a){if(this.closed)throw new t.wD();this.iN=!0;this.oma=a;this.yg=!0;for(var b=this.bv,c=b.length,b=b.slice(),f=0;f<c;f++)b[f].error(a);this.bv.length=0;};b.prototype.complete=function(){if(this.closed)throw new t.wD();this.yg=!0;for(var a=this.bv,b=a.length,a=a.slice(),c=0;c<b;c++)a[c].complete();this.bv.length=0;};b.prototype.unsubscribe=function(){this.closed=this.yg=!0;this.bv=null;};b.prototype.X9=function(b){if(this.closed)throw new t.wD();return a.prototype.X9.call(this,b);};b.prototype.Ll=function(a){if(this.closed)throw new t.wD();if(this.iN)return a.error(this.oma),m.lw.EMPTY;if(this.yg)return a.complete(),m.lw.EMPTY;this.bv.push(a);return new q.xwa(this,a);};b.prototype.Q$=function(){var a;a=new k.lb();a.source=this;return a;};b.create=function(a,b){return new f(a,b);};return b;}(k.lb);b.Pm=a;f=function(a){function b(b,c){a.call(this);this.destination=b;this.source=c;}c(b,a);b.prototype.next=function(a){var b;b=this.destination;b&&b.next&&b.next(a);};b.prototype.error=function(a){var b;b=this.destination;b&&b.error&&this.destination.error(a);};b.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};b.prototype.Ll=function(a){return this.source?this.source.subscribe(a):m.lw.EMPTY;};return b;}(a);b.dJb=f;},function(d,b){b.vx={e:{}};},function(d,b){b.Qe=function(a){return null!=a&&"object"===typeof a;};},function(d,b){b.Sb=function(a){return"function"===typeof a;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.E5=void 0;b.E5="NetworkMonitorConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.TS=void 0;b.TS="QueryStringDataProviderSymbol";},function(d,b,a){var k,m;function c(a,b,c,h,f){this.version=a;this.gH=b;this.eSa=c;this.Jj=h;this.Fs=f;this.ur=[];}Object.defineProperty(b,"__esModule",{value:!0});b.A4=void 0;k=a(2);m=a(47);c.prototype.load=function(a){return this.Mrb(a);};c.prototype.add=function(a){this.ur.push(a);return this.eja();};c.prototype.remove=function(a,b){a=this.IGa(this.Tp(a,b));return 0<=a?(this.ur.splice(a,1),this.eja()):Promise.resolve();};c.prototype.update=function(a,b){b=this.IGa(this.Tp(a,b));return 0<=b?(this.ur[b]=a,this.eja()):Promise.resolve();};c.prototype.Mrb=function(a){var b;b=this;this.EKa||(this.EKa=new Promise(function(c,h){function f(a){b.Xfb().then(function(){h(a);})["catch"](function(){h(a);});}b.Yea().then(function(a){b.storage=a;return b.storage.load(b.gH);}).then(function(h){var d;h=h.value;try{d=a(h);b.version=d.version;b.ur=d.data;c();}catch(H){f(H);}})["catch"](function(a){a.da!==k.u.jw?h(a):c();});}));return this.EKa;};c.prototype.eja=function(){var a,b,c,h,f;a=this;if(!this.eSa)return Promise.resolve();if(this.w1){h=new Promise(function(a,f){b=a;c=f;});f=function(){a.w1=h;a.dSa().then(function(){b();})["catch"](function(a){c(a);});};this.w1.then(f)["catch"](f);return h;}return this.w1=this.dSa();};c.prototype.dSa=function(){var a,b;a=this;b=this.Fs();return new Promise(function(d,h){a.Yea().then(function(c){return c.save(a.gH,b,!1);}).then(function(){d();})["catch"](function(a){h(c.DFb(k.J.s0a,a));});});};c.prototype.Xfb=function(){var a;a=this;return this.eSa?new Promise(function(b,c){a.Yea().then(function(b){return b.remove(a.gH);}).then(function(){b();})["catch"](function(a){c(a);});}):Promise.resolve();};c.prototype.Yea=function(){return this.storage?Promise.resolve(this.storage):this.Jj.create();};c.prototype.Tp=function(a,b){for(var c=0;c<this.ur.length;++c)if(b(this.ur[c],a))return this.ur[c];};c.prototype.IGa=function(a){return a?this.ur.indexOf(a):-1;};c.DFb=function(a,b){var c;if(b.da&&b.cause)return new m.Cc(a,b.da,void 0,void 0,void 0,void 0,void 0,b.cause);if(void 0!==b.ad){c=(b.message?b.message+" ":"")+"";b.code=a;b.message=""===c?void 0:c;return b;}return b instanceof Error?new m.Cc(a,k.u.yh,void 0,void 0,void 0,void 0,b.stack,b):new m.Cc(a,k.u.Ok,void 0,void 0,void 0,void 0,void 0,b);};b.A4=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.w3=void 0;b.w3="DrmDataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.D7=void 0;b.D7="UserAgentUtilities";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.q6=void 0;b.q6="PlatformConfigOverridesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.DI=void 0;b.DI=function(){function a(){}a.V0a="PSK";a.h_a="MGK";a.dMb="MGK_WITH_FALLBACK";a.cMb="MGK_JWE";a.SLb="JWEJS_RSA";a.Jra="JWK_RSA";a.TLb="JWK_RSAES";return a;}();},function(d,b,a){var m;function c(a,b){this.mf=b;this.Tu=Math.floor(a);this.display=this.Tu+" "+this.mf.name;}function k(a,b,c){this.mf=a;this.name=b;this.pn=c?c:this;m.jm(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.up=b.KJ=void 0;m=a(54);k.prototype.BM=function(a){return this.mf==a.mf;};k.prototype.toJSON=function(){return this.name;};b.KJ=k;c.prototype.ca=function(a){return this.mf.BM(a)?this.Tu:Math.floor(this.Tu*this.mf.mf/a.mf);};c.prototype.d0=function(a){return this.mf.BM(a)?this.Tu:this.Tu*this.mf.mf/a.mf;};c.prototype.to=function(a){return new c(this.ca(a),a);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return{magnitude:this.Tu,units:this.mf.name};};c.prototype.add=function(a){return this.iDa(a);};c.prototype.zb=function(a){return this.iDa(a,function(a){return-a;});};c.prototype.scale=function(a){return new c(this.ca(this.mf.pn)*a,this.mf.pn);};c.prototype.Tl=function(a){return this.ca(this.mf.pn)-a.ca(this.mf.pn);};c.prototype.BM=function(a){return 0==this.Tl(a);};c.prototype.eKa=function(){return 0==this.Tu;};c.prototype.NJa=function(){return 0>this.Tu;};c.prototype.lqb=function(){return 0<this.Tu;};c.prototype.iDa=function(a,b){b=void 0===b?function(a){return a;}:b;return new c(this.ca(this.mf.pn)+b(a.ca(this.mf.pn)),this.mf.pn);};b.up=c;},function(d,b,a){var m;function c(a){return function(b){function c(c){return null!==c&&null!==c.target&&c.target.Gha(a)(b);}c.PLa=new m.Metadata(a,b);return c;};}function k(a,b){a=a.gv;return null!==a?b(a)?!0:k(a,b):!1;}Object.defineProperty(b,"__esModule",{value:!0});d=a(37);m=a(64);b.kTa=k;b.uSa=c;b.qMa=c(d.dw);b.qTa=function(a){return function(b){var c;return null!==b?(c=b.xL[0],"string"===typeof a?c.jf===a:a===b.xL[0].nk):!1;};};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(265);k=a(264);d=function(){function a(a){this.Mb=a;this.WJ=new k.J2(this.Mb);this.Z7=new c.ZQ(this.Mb);}a.prototype.when=function(a){return this.WJ.when(a);};a.prototype.MQ=function(){return this.WJ.MQ();};a.prototype.fs=function(a){return this.Z7.fs(a);};return a;}();b.Vy=d;},function(d,b,a){var c,k,m,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(37);k=a(101);m=a(64);t=a(1136);d=function(){function a(a,b,f,d){this.id=k.id();this.type=a;this.jf=f;this.name=new t.b1a(b||"");this.Cd=[];a=null;"string"===typeof d?a=new m.Metadata(c.dw,d):d instanceof m.Metadata&&(a=d);null!==a&&this.Cd.push(a);}a.prototype.LIa=function(a){for(var b=0,c=this.Cd;b<c.length;b++)if(c[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.LIa(c.mz);};a.prototype.Wsb=function(a){return this.Gha(c.mz)(a);};a.prototype.oga=function(){return this.LIa(c.dw);};a.prototype.vga=function(){return this.Cd.some(function(a){return a.key!==c.fJ&&a.key!==c.mz&&a.key!==c.pS&&a.key!==c.JJ&&a.key!==c.dw;});};a.prototype.PJa=function(){return this.Gha(c.yta)(!0);};a.prototype.dmb=function(){return this.oga()?this.Cd.filter(function(a){return a.key===c.dw;})[0]:null;};a.prototype.Rkb=function(){return this.vga()?this.Cd.filter(function(a){return a.key!==c.fJ&&a.key!==c.mz&&a.key!==c.pS&&a.key!==c.JJ&&a.key!==c.dw;}):null;};a.prototype.Gha=function(a){var b;b=this;return function(c){var d;for(var f=0,h=b.Cd;f<h.length;f++){d=h[f];if(d.key===a&&d.value===c)return!0;}return!1;};};return a;}();b.kT=d;},function(d,b,a){var c,k,m,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);k=a(37);m=a(64);t=a(89);d=function(){function a(a){this.k3a=a;}a.prototype.sGb=function(){return this.k3a();};return a;}();b.N4=d;b.l=function(a){return function(b,h,f){var d;if(void 0===a)throw Error(c.h2a(b.name));d=new m.Metadata(k.fJ,a);"number"===typeof f?t.AC(b,h,f,d):t.iQ(b,h,d);};};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);b.ZJa=function(a){return a instanceof RangeError||a.message===c.E1a;};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(37);d=function(){function a(){}a.prototype.OGa=function(a){var b;b=Reflect.getMetadata(c.M5,a);a=Reflect.getMetadata(c.Awa,a);return{lDa:b,xHb:a||{}};};a.prototype.Cmb=function(a){return Reflect.getMetadata(c.Bwa,a)||[];};return a;}();b.u5=d;},function(d,b,a){var c,k,m,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Zc=void 0;d=a(1);c=a(100);k=a(1117);m=a(262);t=a(1111);q=a(1103);l=a(1028);a=a(556);b.Zc=new d.qR({rC:!0});l.DKa(b.Zc);b.Zc.load(k.platform);b.Zc.load(t.config);m.zF.load(q.bFa);b.Zc.load(a.oBa);b.Zc.load(a.profile);b.Zc.bind(c.C4).Th(b.Zc);},function(d,b,a){var c;c=a(511);d.R=function(){return"function"===typeof Object.values?Object.values:c;};},function(d,b,a){var c,k,m;c=a(1152);k=a(1150);m=a(1146)("Object.prototype.propertyIsEnumerable");d.R=function(a){var b,d;a=k(a);b=[];for(d in a)c(a,d)&&m(a,d)&&b.push(a[d]);return b;};},function(d){var b;b=Object.prototype.toString;d.R=function(a){var c,d;c=b.call(a);d="[object Arguments]"===c;d||(d="[object Array]"!==c&&null!==a&&"object"===typeof a&&"number"===typeof a.length&&0<=a.length&&"[object Function]"===b.call(a.callee));return d;};},function(d,b,a){var k,m,t,q,l,h;function c(a,b){var c,f,p,g,n,C;c=2<arguments.length?arguments[2]:{};f=k(b);m&&(f=q.call(f,Object.getOwnPropertySymbols(b)));for(var d=0;d<f.length;d+=1){p=a;g=f[d];n=b[f[d]];C=c[f[d]];if(!(g in p)||"function"===typeof C&&"[object Function]"===t.call(C)&&C())h?l(p,g,{configurable:!0,enumerable:!1,value:n,writable:!0}):p[g]=n;}}k=a(1154);g();g();m="function"===typeof Symbol&&"symbol"===typeof Symbol("foo");t=Object.prototype.toString;q=Array.prototype.concat;l=Object.defineProperty;h=l&&function(){var a;a={};try{l(a,"x",{enumerable:!1,value:a});for(var b in a)return!1;return a.x===a;}catch(y){return!1;}}();c.sVb=!!h;d.R=c;},function(d,b,a){var c,k,m,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(118);k=a(10);d=a(2);m=a(5);t=a(113);q=a(52);a=a(26);m.Y.get(a.Gf).register(d.J.kra,function(a){var b,h;b=M._cad_global.videoPreparer;h=M._cad_global.playerPredictionModel;b&&M._cad_global.playerPredictionModel&&(l=m.Y.get(t.K6).create(h,b.ayb.bind(b)),M._cad_global.prefetchEvents=l,b.Eh.on("deletedCacheItem",function(a){l.HL(q.Od.vJ[a.type],parseInt(a.movieId,10),a.reason);}),c.Yk.addEventListener("cacheEvict",function(a){l.HL(t.ye.Nj.$I,a.movieId,"ase_cacheEvict");l.HL(t.ye.Nj.MEDIA,a.movieId,"ase_cacheEvict");}),c.Yk.addEventListener("flushedBytes",function(){c.Yk.JL().forEach(function(a){l.HL(t.ye.Nj.MEDIA,a.G,"ase_flushedBytes");},this);}),b.jp.addEventListener(b.jp.events.Ewa,function(a){l.sab(q.Od.vJ[a.type],a.G,a.reason);}),b.jp.addEventListener(b.jp.events.Cwa,function(a){l.pab(q.Od.vJ[a.type],a.G,a.reason);}),b.jp.addEventListener(b.jp.events.Dwa,function(a){l.rab(q.Od.vJ[a.type],a.G,a.reason);}),b.jp.addEventListener(b.jp.events.Fwa,function(a){l.vab(q.Od.vJ[a.type],a.G,a.reason);}));a(k.rd);});},function(d,b,a){var m,t,q,l,h,f,p,g,H,K;function c(a,b){this.ti=a;this.dk=b;}function k(a){this.H=a;this.reset();}m=a(179);t=a(178);b=a(269);q=a(268).config;l=b.Kkb;h=b.tkb;f=b.mgb;p=b.Bvb;g=b.Avb;H=b.zvb;K=b.UFa;k.prototype.constructor=k;k.prototype.reset=function(){this.Iza=void 0;this.Di=[];this.sza=this.tza=!1;};k.prototype.update=function(a,b){var c;this.Di&&(this.Di=this.Di.filter(this.vDb,this));if(!1===this.tza){c=l(a.Ba).slice(0,q.ZDa);0<c.length&&(this.GB(c,t.Ms.dj),this.tza=!0,this.Di=this.KC(c.concat(this.Di)));}!1===this.sza&&(c=h(a.Ba).slice(0,q.ZDa),0<c.length&&(this.GB(c,t.Ms.dj),this.sza=!0,this.Di=this.KC(c.concat(this.Di))));switch(b){case t.Ks.tqa:b=this.Unb(a);break;case t.Ks.Hva:b=this.dob(a);break;case t.Ks.bT:b=this.eob(a);break;case t.Ks.tJ:b=this.$nb(a);break;default:b=this.Rnb(a);}this.Iza=a;return b;};k.prototype.Unb=function(a){a=p(a.Ba,q.mQa,q.fDa);this.GB(a,t.Ms.dj);return this.Di=this.KC(this.Di.concat(a));};k.prototype.dob=function(a){var b,c;this.H.log("handleScrollHorizontal");b=a.Ba;a=p(b,q.oQa,q.gDa);c=f(b,this.Iza.Ba);b=b[c].list.slice(0,q.hBb);b.concat(a);this.GB(b,t.Ms.o7);return this.KC(b.concat(this.Di));};k.prototype.GB=function(a,b){a.forEach(function(a){if(void 0===a.bx||a.bx<b)a.bx=b;void 0===a.fI&&(a.fI=m());void 0===a.tj&&(a.tj=m());});};k.prototype.eob=function(a){this.H.log("handleSearch");a=g(a.Ba,q.ABb);this.GB(a,t.Ms.Jva);this.Di=a.concat(this.Di);return this.Di=this.KC(this.Di);};k.prototype.$nb=function(a){var b,f,h,d,p;this.H.log("handlePlayFocus: ",q.lN);b=a.direction;f=a.Ba;a=[];h=K(f);if(void 0!==h.ti)switch(a.push(h),b){case t.Qq.vva:for(b=1;b<q.lN;b++)a.push(new c(h.ti,h.dk+b));a.push(new c(h.ti-1,h.dk));a.push(new c(h.ti+1,h.dk));break;case t.Qq.Nra:for(b=1;b<q.lN;b++)a.push(new c(h.ti,h.dk-b));a.push(new c(h.ti-1,h.dk));a.push(new c(h.ti+1,h.dk));break;case t.Qq.k2a:a.push(new c(h.ti-1,h.dk));for(b=1;b<=q.lN/2;b++)a.push(new c(h.ti,h.dk+b)),a.push(new c(h.ti,h.dk-b));break;case t.Qq.xXa:for(a.push(new c(h.ti+1,h.dk)),b=1;b<=q.lN/2;b++)a.push(new c(h.ti,h.dk+b)),a.push(new c(h.ti,h.dk-b));}d=[];a.forEach(function(a){p=H(f,a.ti,a.dk);void 0!==p&&d.push(p);});this.GB(d,t.Ms.o7);return this.KC(d.concat(this.Di));};k.prototype.Rnb=function(a){this.H.log("ModelOne: handleDefaultCase");a=p(a.Ba,q.oQa,q.gDa);this.GB(a,t.Ms.o7);return this.KC(a.concat(this.Di));};k.prototype.vDb=function(a){return a.bx==t.Ms.dj|a.bx==t.Ms.Jva&m()-a.fI<q.Eob;};k.prototype.KC=function(a){var b,c,f,h,d,p,l;b=[];c={};p=0;l=a.length;for(d=0;d<l;d++)f=a[d].oa,h=a[d],!1===f in c?(b.push(h),c[f]=p,p++):(f=b[c[f]],h.tj<f.tj&&(f.tj=h.tj),h.bx>f.bx&&(f.bx=h.bx),h.fI>f.fI&&(f.fI=h.fI));return b;};d.R=k;},function(d,b,a){var t,q,l,h,f,p,g;function c(a,b,c,f,h,d){this.G=this.oa=a;this.ie=b;this.Rc=c;d&&d.le&&(this.le=d.le);void 0!==f&&(this.RB=f);this.tj=h;this.fb=d;}function k(a,b,c,f,h){l(void 0!==f,"video preparer is null");l(void 0!==h,"ui preparer is null");this.H=b||console;this.H=b;this.Bb=c;this.T7a=f;this.L7a=h;this.Hza=p.xja;this.BE=[];this.d$=!1;this.bo=0;new g().on(p,"changed",m,this);this.reset();}function m(){this.H.log("config changed");p.xja&&(this.Hza=p.xja);p.pO!==this.mE&&(this.reset(),this.xAb());}t=a(179);q=a(178);b=a(269);l=b.assert;h=b.UFa;f=a(515);p=a(268).config;g=a(105).Vn;p.declare({xja:["ppmConfig",{DJb:{ZMa:0,YMa:2,WMa:0,XMa:5,tRa:0},TOb:{ZMa:0,YMa:1,WMa:0,XMa:3,tRa:1E3},TJb:{ZMa:0,YMa:1,WMa:0,XMa:3,tRa:1E3}}]});k.prototype.constructor=k;k.prototype.reset=function(){this.H8=!0;this.mE=p.pO;this.H.log("create model: "+p.pO,p.mQa,p.fDa);switch(p.pO){case"modelone":this.mE=new f(this.H);break;default:this.mE=new f(this.H);}};k.prototype.xAb=function(){var b,c;if(!1===this.d$){this.d$=!0;for(var a=0;a<this.BE.length;a++){this.H.log("PlayPredictionModel replay: ",JSON.stringify(this.BE[a]));b=this.CDa(this.BE[a]);c=this.yGa(b);this.mE.update(b,c);this.H8=!1;}this.BE=[];}};k.prototype.update=function(a){var b,c,f;this.H.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.Ba&&a.Ba[0]){!1===this.d$&&this.BE.length<p.gtb&&this.BE.push(a);b=this.CDa(a);c=this.yGa(b);this.H.log("actionType",c);b="mlmodel"==p.pO?this.mE.update(a,c):this.mE.update(b,c);b=this.Sjb(b,p.Iqb||1);this.H.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.bo&&(this.bo=t(),this.Bb&&this.Bb.lP&&this.Bb.lP({GW:this.bo}));if(this.Bb&&this.Bb.OPa){f={GW:this.bo,offset:this.VX(),BOa:[]};b.forEach(function(a){f.BOa.push({zq:a.oa});});f.xOa=JSON.stringify(a);f.yOa=JSON.stringify(b);this.Bb.OPa(f);}this.T7a.ov(b);this.L7a.ov(b);this.H8=!1;}};k.prototype.OAb=function(){this.bo=0;};k.prototype.VX=function(){return t()-this.bo;};k.prototype.lP=function(){this.bo=t();this.Bb&&this.Bb.lP&&this.Bb.lP({GW:this.bo});};k.prototype.CDa=function(a){var b,c,f,h,d;b={};h=a.Ba||[];d=function(a){var h,d;h={};c=q.iJ.name.indexOf(a.context);h.context=0<=c?c:q.iJ.Ws;h.rowIndex=a.rowIndex;h.requestId=a.requestId;h.list=[];f=a.list||[];f.forEach(function(a){d={oa:a.oa,Rc:a.Rc,index:a.index,RB:a.RB,oH:a.oH,list:a.list,fb:a.fb};void 0!==a.property&&(c=q.jD.name.indexOf(a.property),d.property=0<=c?c:q.jD.Ws);h.list.push(d);}.bind(this));b.Ba.push(h);}.bind(this);void 0!==a.direction&&(c=q.Qq.name.indexOf(a.direction),b.direction=0<=c?c:q.Qq.Ws);void 0!==a.GM&&(b.YRb=a.GM.rowIndex,b.XRb=a.GM.Pbb);b.GM=a.GM;b.Ba=[];h.forEach(d);return b;};k.prototype.yGa=function(a){var b,c,f;b=a.direction||q.Qq.Ws;c=a.GM;f=a.Ba||[];!0===this.H8?a=q.Ks.tqa:!0===f.some(this.rob)?(a=q.Ks.tJ,this.z0(f,b,c)):a=f[0].context===q.iJ.bT?q.Ks.bT:b===q.Qq.vva||b===q.Qq.Nra?q.Ks.Hva:q.Ks.Ws;return a;};k.prototype.rob=function(a){return(a.list||[]).some(function(a){return a.property===q.jD.tJ||a.property===q.jD.gpa;});};k.prototype.z0=function(a,b,c){var f,d;this.H.log("reportPlayFocusEvent: ",b,c);f={};d=h(a);this.Bb&&this.Bb.z0&&(f.NRb=t(),f.direction=q.Qq.name[b],c&&(f.rowIndex=c.rowIndex,f.Vaa=c.Pbb),void 0!==d.ti&&(f.requestId=a[d.ti].requestId),this.Bb.z0&&this.Bb.z0(f));};k.prototype.Sjb=function(a,b){for(var c=a.length,f=[],h,d,l,k,m=0;m<c;m++){d=a[m];h=Math.floor(m/b)+1;if(void 0!==d.list){l=d.list;k=l.length;for(var q=0;q<Math.min(p.Nbb,k)&&!(l[q].tj=d.tj,this.OAa(l[q],h,f),f.length>=p.zLa);q++);}else this.OAa(d,h,f);if(f.length>=p.zLa)break;}return f;};k.prototype.OAa=function(a,b,f){var d,p;function h(a){a.le&&(a.fb||(a.fb={}),a.fb.le=a.le);return a.fb;}d=a.oH;void 0!==d&&d instanceof Array?d.forEach(function(d){void 0!==d.oa&&(p=h(d),f.push(new c(d.oa,b,d.Rc,d.RB,a.tj,p)));}):void 0!==d&&void 0!==d.oa&&(d=a.oH,p=h(d),f.push(new c(d.oa,b,d.Rc,d.RB,a.tj,p)));void 0!==a.oa&&(p=h(a),f.push(new c(a.oa,b,a.Rc,a.RB,a.tj,p)));};k.prototype.Cx=function(a){var b;b=this.Hza;return a?b[a]:b;};d.R=k;},function(d,b,a){var c,k,m,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(11);k=a(10);d=a(2);m=a(5);b=a(26);m.Y.get(b.Gf).register(d.J.lra,function(b){var d,h;if(c.config.Cxb){d=m.wg("PlayerPredictionModel");M._cad_global.videoPreparer||(d.error("videoPreparer is not defined"),b(k.rd));h=a(516);d.log=d.trace.bind(d);t=new h({},d,{lP:function(a){M._cad_global.prefetchEvents.lgb(a.GW);},OPa:function(a){M._cad_global.prefetchEvents.cyb(a);}},M._cad_global.videoPreparer,{ov:function(){}});M._cad_global.playerPredictionModel=t;d.info("ppm v2 initialized");}b(k.rd);});},function(d){d.R={xx:{va:12E5,KN:9E5,Cd:12E5},ax:{va:10,KN:10,Cd:10},$w:{va:10240,KN:10240,Cd:10240}};},function(d){function b(a){var b;b=[];return function m(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var c in a)if(a.hasOwnProperty(c)&&m(a[c]))return!0;}return!1;}(a);}d.R=function(a,c){var m;if(c&&b(a))return-1;c=[];a=[a];for(var d=0;a.length;){m=a.pop();if("boolean"===typeof m)d+=4;else if("string"===typeof m)d+=2*m.length;else if("number"===typeof m)d+=8;else if("object"===typeof m&&-1===c.indexOf(m)){c.push(m);for(var t in m)a.push(m[t]);}}return d;};},function(d,b,a){var q,l;function c(){return Object.create(null);}function k(a){this.log=a.log;this.Ia=a.Ia;this.HB=c();this.Promise=a.Promise;this.gu=a.gu;this.Kma=a.Kma;this.Lh=a.Lh||!1;this.xx=c();this.ax=c();this.$w=c();this.l7a(a);a.JF&&(this.JF=a.JF,q(this.JF,k.prototype));}function m(a){return"undefined"!==typeof a;}function t(a){var h;for(var b=0,c=arguments.length;b<c;){h=arguments[b++];if(m(h))return h;}}q=a(58);a(519);l=a(518);k.prototype.l7a=function(a){this.xx.manifest=t(a.ada,l.xx.va);this.xx.ldl=t(a.$ca,l.xx.KN);this.xx.metadata=t(a.QRb,l.xx.Cd);this.ax.manifest=t(a.waa,l.ax.va);this.ax.ldl=t(a.vaa,l.ax.KN);this.ax.metadata=t(a.IQb,l.ax.Cd);this.$w.manifest=t(a.GQb,l.$w.va);this.$w.ldl=t(a.FQb,l.$w.KN);this.$w.metadata=t(a.HQb,l.$w.Cd);};k.prototype.CY=function(a,b,c){this.hk("undefined"!==typeof a);this.hk("undefined"!==typeof b);return!!this.xya(a,b,c).value;};k.prototype.xya=function(a,b,c){var f,h;f={value:null,reason:"",log:""};h=this.HB[b];if("undefined"===typeof h)return f.log="cache miss: no data exists for field:"+b,f.reason="unavailable",f;"undefined"===typeof h[a]?(f.log="cache miss: no data exists for movieId:"+a,f.reason="unavailable"):(c=h[a][c?c:"DEFAULTCAPS"])&&c.value?this.iZ(b,c.Fh)?(f.log="cache miss: "+b+" data expired for movieId:"+a,f.reason="expired"):(f.log=this.Promise&&c.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,f.value=c.value):(f.log="cache miss: "+b+" data not available for movieId:"+a,f.reason="unavailable");return f;};k.prototype.getData=function(a,b,c){this.hk("undefined"!==typeof a);this.hk("undefined"!==typeof b);a=this.xya(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.Kma?JSON.parse(this.Kma(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};k.prototype.setData=function(a,b,d,l,k){var f;this.hk("undefined"!==typeof a);this.hk("undefined"!==typeof b);f=this.HB;k=k?k:"DEFAULTCAPS";f[b]||(f[b]=c(),Object.defineProperty(f[b],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(f[b],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));d=this.gu?this.gu(JSON.stringify(d),"gzip",!0):d;f=f[b];this.Y4a(a,b,k,f);b={Fh:this.Ia.getTime(),value:d,size:0,type:b,bca:l};f[a]=f[a]||c();f[a][k]=f[a][k]||c();f[a][k]=b;f.size+=0;f.numEntries++;this.JF&&this.emit("addedCacheItem",b);return b;};k.prototype.Y4a=function(a,b,c,d){var f,h,p,l,k,m,q,t,g;f=this;h=d.numEntries;p=this.ax[b];m=d[a]&&d[a][c];if(m&&m.value)l=a,k="promise_or_expired";else if(h>=p){t=Number.POSITIVE_INFINITY;Object.keys(d).every(function(a){var h;h=d[a]&&d[a][c];h&&h.value&&f.iZ(b,h.Fh)&&(g=a);h&&h.value&&h.Fh<t&&(t=h.Fh,q=a);return!0;});l=g||q;k="cache_full";}this.Lh&&this.log.debug("makespace ",{maxCount:p,currentCount:d.numEntries,field:b,movieId:a,movieToBeRemoved:l});l&&(f.clearData(l,b,c,void 0,k),this.log.debug("removed from cache: ",l,b));};k.prototype.Maa=function(a,b){var c,f;c=this;c.hk("undefined"!==typeof a);f=a+"";b.forEach(function(a){var b;b=c.HB[a];b&&Object.keys(b).forEach(function(b){b!=f&&c.clearData(b,a,void 0,void 0,"clear_all");});});};k.prototype.clearData=function(a,b,c,d,l){var f;this.hk("undefined"!==typeof a);this.hk("undefined"!==typeof b);f=this.HB[b];b=f?f[a]:void 0;c=c?c:"DEFAULTCAPS";if(b&&b[c]){f.size-=b[c].size;f.numEntries--;if(f=b&&b[c])b[c]=void 0,!d&&f.bca&&f.bca();this.JF&&(a={creationTime:f.Fh,destroyFn:f.bca,size:f.size,type:f.type,value:f.value,reason:l,movieId:a},this.emit("deletedCacheItem",a));}};k.prototype.flush=function(a){var b;this.hk("undefined"!==typeof a);b=this.HB;b[a]=c();b[a].numEntries=0;b[a].size=0;};k.prototype.iZ=function(a,b){return this.Ia.getTime()-b>this.xx[a];};k.prototype.getStats=function(a,b,c){var f,h,d,p,l;f={};h=this;d=h.HB;p=m(a)&&m(b);l=c||"DEFAULTCAPS";Object.keys(d).forEach(function(c){var k,q;k=Object.keys(d[c]);q=d[c];k.forEach(function(d){!(d=q&&q[d]&&q[d][l])||!m(d.value)||d.value instanceof this.Promise||(f[c]=(f[c]|0)+1,h.iZ(d.type,d.Fh)&&(f[c+"_expired"]=(f[c+"_expired"]|0)+1),p&&d.Fh>=a&&d.Fh<b&&(f[c+"_delta"]=(f[c+"_delta"]|0)+1));});});return f;};k.prototype.Yc=function(a){var b,c,h,d;b=[];c=this;h=c.HB;d=a||"DEFAULTCAPS";Object.keys(h).forEach(function(a){var f,p;f=Object.keys(h[a]);p=h[a];f.forEach(function(f){var h,l;h=p&&p[f]&&p[f][d];h&&m(h.value)&&(l=c.iZ(h.type,h.Fh)?"expired":h.value instanceof this.Promise?"loading":"cached",b.push({movieId:f,state:l,type:a,size:h.size}));});});return b;};k.prototype.rla=function(a,b){this.hk("undefined"!==typeof a);this.hk("undefined"!==typeof b);this.$w[a]=b;};k.prototype.hk=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.Lh))throw Error("Debug Assert Failed ");};d.R=k;},function(d,b,a){var k,m;function c(a,b,c,h,f,d,g){this.G=a;this.ie=b;this.type=c;this.id=++m;this.Mp=h;this.status=k.xe.xoa;this.Ywb=void 0===f?!1:f;this.MMa=g;}Object.defineProperty(b,"__esModule",{value:!0});b.HJ=void 0;k=a(52);m=0;c.prototype.Jr=function(){var a;a={id:this.id,type:this.type,created:this.Mp,status:this.status,movieId:this.G};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};c.prototype.ds=function(a){this.MMa&&this.MMa(a);};b.HJ=c;},function(d,b,a){var m,t,q,l;function c(a){this.log=a.log;this.Ia=a.Ia;this.qW=this.fM=0;this.Iy=[];this.paused=!1;this.r1=[];this.pDa=[];this.zN=a.zN||q.jna;this.Zc=a.Zc;this.Xj=this.Zc.get(t.ER);this.addEventListener=this.Xj.addListener.bind(this.Xj);this.events={Ewa:"taskstart",Cwa:"taskabort",Dwa:"taskfail",Fwa:"tasksuccess"};}function k(a){return a.Jr();}Object.defineProperty(b,"__esModule",{value:!0});b.Kwa=void 0;d=a(139);m=a(52);t=a(68);q=function(){function a(){}a.S0a="prepend";a.jna="append";a.PYa="ignore";return a;}();l=d.Qs;b.Kwa=c;c.prototype.TAa=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.Iy=this.H4a(a);this.fM=0;this.qW+=1;this.ic();};c.prototype.H4a=function(a){var b,c;b=this.Iy.filter(function(a){return a.Ywb&&a.status===m.xe.xoa;});c=this.zN;if(c===q.PYa)return[].concat(a);if(c===q.S0a)return b.concat(a);if(c===q.jna)return a.concat(b);};c.prototype.pause=function(){this.paused=!0;};c.prototype.ic=function(){var a,b;if(this.fM===this.Iy.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.fM,numberOfTasks:this.Iy.length});else{a=this.gmb();b=this.qW;a.startTime=this.Ia.getTime();a.status=m.xe.Mva;this.Xj.Ub(this.events.Ewa,{G:a.G,type:a.type});this.r1.push(a);a.Bf(function(c){a.endTime=this.Ia.getTime();c?0<=[m.xe.Xy,m.xe.dR,m.xe.HI,m.xe.cR].indexOf(c.status)?(a.status=c.status,this.z9(a,this.events.Cwa,"cancelled task")):(a.status=m.xe.Rv,this.z9(a,this.events.Dwa,"task failed",c)):(a.status=m.xe.Rva,this.z9(a,this.events.Fwa,"task succeeded"));this.pDa.push(a);this.r1.splice(this.r1.indexOf(a),1);this.qW===b&&(this.fM++,this.ic());}.bind(this));}};c.prototype.gmb=function(){return this.Iy[this.fM];};c.prototype.z9=function(a,b,c,d){var f;f=a.Jr();d?this.log.warn(c,f,d):this.log.trace(c,f);this.Xj.Ub(b,{G:a.G,type:a.type,reason:a.status});a.ds(f);};c.prototype.getStats=function(a,b,c){var f,h,d,p;f=this.pDa.map(k);h=this.r1.map(k);d=l.Td(a)&&l.Td(b);p={};if(l.Td(c))return p.Xbb=f.filter(function(a){return a.movieId===c;}),p;f.concat(h).forEach(function(c){var f;p[c.type+"_"+c.status]=(p[c.type+"_"+c.status]|0)+1;f=c.status==m.xe.Mva?c.startTime:c.endTime;d&&f>=a&&f<b&&(p[c.type+"_"+c.status+"_delta"]=(p[c.type+"_"+c.status+"_delta"]|0)+1);});return p;};},function(d,b,a){var k,m,t,q,l,h,f,p,g,H;function c(a){this.log=a.log;this.Ia=a.Ia;this.zea=a.zea;this.bY=a.bY;this.aY=a.aY;this.ZF=a.ZF;this.Qu=a.Qu;this.kM=a.kM;this.Zc=a.Zc;this.config=this.Zc.get(h.dd)();this.mM=a.mM;this.lM=a.lM;this.hna=a.hna;this.Ria=a.Ria;this.Sia=a.Sia;this.yO=a.yO;this.iea=a.iea;this.Lh=a.Lh||!1;this.g$={};this.tU={};this.WU={num_of_calls:0,num_of_movies:0};this.Haa=a.Haa;this.mia=a.mia;this.dkb=a.dkb;this.Wda=a.Wda;this.Eh=new f({log:this.log,Ia:this.Ia,Promise:Promise,Lh:this.Lh,waa:a.waa,vaa:a.vaa,ada:a.ada,$ca:a.$ca,JF:p});this.jp=new k.Kwa({log:this.log,Ia:this.Ia,zN:a.zN,Zc:this.Zc});this.Tp=this.Eh.getData.bind(this.Eh);this.zy=this.Eh.setData.bind(this.Eh);this.AY=this.Eh.CY.bind(this.Eh);}Object.defineProperty(b,"__esModule",{value:!0});b.txa=void 0;k=a(522);m=a(521);d=a(139);t=a(250);q=a(469);l=a(113);h=a(15);f=a(520);p=a(105).EventEmitter;g=d.Qs;H=new q.E7(g,new t.YQ());b.txa=c;c.prototype.HGa=function(a){var b;b=this.Eh.getData(a,"ldl");this.Eh.clearData(a,"ldl",void 0,!0);return b;};c.prototype.ov=function(a,b){var c,f,h;c=this;a=a.map(function(a){a.fb=a.fb||{rL:{gOa:!1},Vh:0};g.IA(a.fb.Vh)||(a.fb.Vh=0);g.IA(a.Rc)&&(a.fb.S=a.Rc);return a;});f=a.map(function(a){return c.cya(a,b);}).reduce(function(a,b){return a.concat(b);},[]);h=f.map(function(a){return a.G+"-"+a.type;});this.log.trace("prepare tasks",h);this.jp.TAa(f);this.WU.num_of_calls++;this.WU.num_of_movies+=a.length;};c.prototype.Yxb=function(a,b){var c,f,h;c=this;f=a.map(function(a){return a.G+"";});a=a.map(function(a){a.fb=a.fb||{rL:{gOa:!1},Vh:0};a.fb.ue=!0;a.fb.gMa=f;return c.cya(a,b);}).reduce(function(a,b){return a.concat(b);},[]);h=a.map(function(a){return a.G+"-"+a.type;});this.log.trace("predownload tasks",h);this.jp.TAa(a);};c.prototype.PGb=function(a,b){this.tU[a]||(this.tU[a]={});a=this.tU[a];a.COa=(a.COa|0)+1;a.tj=b;};c.prototype.getStats=function(a,b,c){var f;f=c&&this.tU[c]||{};f.Iy=this.jp.getStats(a,b,c);f.cache=this.Eh.getStats(a,b);f.uGa=H.FB(this.iea(),this.WU);return f||{};};c.prototype.cya=function(a,b){var c,f,h,d,p;a.le&&(a.fb.le=a.le);c=[];f=a.G;h=!!a.fb.ue;this.PGb(f,a.tj);d=null;if(this.Eh.CY(f,"manifest"))this.log.trace("manifest exists in cache for "+f);else{p=new m.HJ(f,a.ie,"manifest",this.Ia.getTime(),h,void 0,b);d=p.id;p.Bf=this.zea.bind(this,f,a);c.push(p);}this.bY&&(this.Eh.CY(f,"ldl")?this.Lh&&this.log.trace("ldl exists in cache for "+f):(p=new m.HJ(f,a.ie,"ldl",this.Ia.getTime(),h,d,b),p.Bf=this.bY.bind(this,f,a),c.push(p)));this.aY&&this.ZF&&this.Haa()&&(this.mia(f)?this.Lh&&this.log.trace("headers/media exists in cache for "+f):(f=new m.HJ(a.G,a.ie,"getHeaders",this.Ia.getTime(),h,d,b),f.Bf=this.aY.bind(this,a.G,a),c.push(f),b=new m.HJ(a.G,a.ie,"getMedia",this.Ia.getTime(),h,d,b),b.Bf=this.ZF.bind(this,a.G,a),c.push(b)));return c;};c.prototype.cob=function(a){this.Sia(a);};c.prototype.bob=function(a){this.log.trace("task scheduler paused on playback created");this.jp.pause();this.mM&&this.Eh.Maa(a,["manifest"]);this.lM&&this.Eh.Maa(a,["ldl"]);this.Ria(a);};c.prototype.AIa=function(){this.log.info("track changed, clearing all manifests from cache");this.Eh.Maa("none",["manifest"]);};c.prototype.aob=function(a){var b;b=this;this.kM?this.Eh.clearData(a,"manifest"):this.Eh.CY(a,"manifest")&&this.Eh.getData(a,"manifest").then(function(c){c.isSupplemental||b.Eh.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",c);});this.Saa(a);this.yO();};c.prototype.Saa=function(a){this.g$[a]=void 0;};c.prototype.rY=function(a){return this.g$[a];};c.prototype.TDa=function(a){return this.g$[a]=this.hna();};c.prototype.ayb=function(){var a;a=[];a=this.Eh.Yc().map(function(a){return{zq:parseInt(a.movieId,10),state:a.state,Ot:a.type,size:a.size||void 0};});this.Wda().map(function(b){2===b.Yp?a.push({zq:b.G,state:"cached",Ot:l.ye.Nj.$I,size:void 0}):b.mjb&&!b.frb&&a.push({zq:b.G,state:"loading",Ot:l.ye.Nj.$I,size:void 0});b.eUa&&0<b.eUa&&b.IBa&&0<b.IBa?a.push({zq:b.G,state:"cached",Ot:l.ye.Nj.MEDIA,size:void 0}):b.Uxb&&!b.Txb&&a.push({zq:b.G,state:"loading",Ot:l.ye.Nj.MEDIA,size:void 0});});return a;};c.prototype.EJa=function(a){return a&&0<=a.indexOf("billboard");};},function(d,b,a){var c,k,m,t,q,l,h,f,p,g,H,K,n,G,N,C,r,P,aa,R,A,u,oa,fa,U;Object.defineProperty(b,"__esModule",{value:!0});c=a(49);k=a(118);m=a(11);t=a(10);q=a(38);d=a(2);l=a(5);h=a(23);f=a(238);p=a(3);g=a(87);H=a(116);K=a(111);n=a(52);G=a(182);N=a(21);C=a(30);r=a(523);P=a(119);aa=a(149);R=a(44);A=a(62);b=a(26);u=a(134);oa=a(166);fa=a(263);l.Y.get(b.Gf).register(d.J.pra,function(a){var T,la,Ga,z,ka,Ea,Sa,Oa,F,S,V,fb,Z,Ta;function b(){var a,b,c;if(m.config.Xo){a={};a.trigger=n.Od.R0a.q0a;b=T.getTime();c=U.getStats(Z,b);a.startoffset=Z;Z=a.endoffset=b;a.cache=JSON.stringify(c.cache);a.tasks=JSON.stringify(c.Iy);a.general=JSON.stringify(c.uGa);b=l.Y.get(R.Pj);a=l.Y.get(A.Wn).sn("prepare","info",a);b.Kc(a);}}function d(a,b,c){var f,h;h=a.Iv;h&&h.length&&h[0].dc&&h[0].dc.length&&(f=h[0].dc[0].dF);h=m.fba(b.le);f=m.eba(!!a.bu,!1,f);f=k.Xc.xo(Object.assign(Object.assign({},h),f));return{G:c,ie:0,Slb:function(){return{va:a,xf:!1,qA:a.qEa[0].qA};},config:f,ue:!!b.ue,gMa:b.gMa};}function y(a,b,c){U.Tp(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Ea.trace("ldl not available in cache",f);U.Tp(a,"manifest").then(function(f){var d,p,k,q,t;function h(b){Ea.warn("ldl is now invalid",b);t.close();U.zy(a,"ldl",void 0);U.Saa(a);}d=f.Mf;if(U.AY(a,"ldl"))c({status:n.Od.xe.Xy});else if(d.EY)if(m.config.KEa&&Sa&&Sa!==a&&!b.force)c({status:n.Od.xe.dR});else if(m.config.LEa&&Oa&&Oa!==a&&!b.force)c({status:n.Od.xe.HI});else{Sa&&Sa!==a&&(F[a]=(F[a]|0)+1);Oa&&Oa!==a&&(S[a]=(S[a]|0)+1);p=d.Iv[0].pH;k=d.Iv[0].tca;q=(p?p:[k]).map(function(a){return l.Ep(a.bytes);});t=X({npb:"cenc",cFa:Ea,YM:function(b){var c;c=[];b.li.forEach(function(a){c.push({sessionId:a.sessionId,dataBase64:l.HV(a.data)});});b={li:c,OW:[d.ik],ri:n.Od.BDa(b.ri),hg:d.hg,ga:U.TDa(a),Aj:f.Aj};Ea.trace("xid created ",{MovieId:a,xid:b.ga});return z.lA(b);},jEb:void 0,dib:h,cd:void 0,Fia:N.Ke,Ia:ka});U.zy(a,"ldl",t,function(){t.close();});return t.create(m.config.Yd).then(function(){return t.pi(g.bj.Wv,q,!0);}).then(function(){c(null,t);})["catch"](function(a){h(a);c(a);});}else c({status:n.Od.xe.cR});})["catch"](function(a){Ea.warn("Manifest not available for ldl request",a);c({status:n.Od.xe.Xy});});});}function E(a,b,c){U.Tp(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Ea.trace("ldl not available in cache",f);U.Tp(a,"manifest").then(function(f){var d,p,k,q,t;function h(b,c){Ea.warn(b+" LDL is now invalid.",c);U.zy(a,"ldl",void 0);U.Saa(a);}d=f.Mf;if(U.AY(a,"ldl"))c({status:n.Od.xe.Xy});else if(d.EY)if(m.config.KEa&&Sa&&Sa!==a&&!b.force)c({status:n.Od.xe.dR});else if(m.config.LEa&&Oa&&Oa!==a&&!b.force)c({status:n.Od.xe.HI});else{Sa&&Sa!==a&&(F[a]=(F[a]|0)+1);Oa&&Oa!==a&&(S[a]=(S[a]|0)+1);p=d.Iv[0].pH;k=d.Iv[0].tca;q=(p?p:[k]).map(function(a){return l.Ep(a.bytes);});t=l.Y.get(H.RI)().then(function(b){var c;c={type:g.bj.Wv,VY:q,context:{Yd:m.config.Yd},Yg:{G:a,ga:U.TDa(a),hg:d.hg,ik:d.ik,Aj:f.Aj}};return b.ov(c,l.Y.get(u.pD)());}).then(function(a){c(null,a);return a;})["catch"](function(a){h("Unable to prepare an EME session.",a);});U.zy(a,"ldl",t,function(){try{t.then(function(a){a.close().subscribe(void 0,function(a){h("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){h("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(jf){h("Unable to cleanup LDL session, unexpected exception.",jf);}});}else c({status:n.Od.xe.cR});})["catch"](function(a){Ea.warn("Manifest not available for ldl request",a);c({status:n.Od.xe.Xy});});});}function X(a){var b,c,f;b=l.Y.get(C.Yn);c=new b.az(a.cFa,a.YM,a.jEb,{Lh:!1,CN:!1});f=l.Y.get(K.Cz);return b.cz(a.cFa,a.npb,a.cd,{Lh:!1,CN:!1,XJa:m.config.vi,FQa:{OLa:m.config.EQa,JCa:m.config.Uka},vy:c,ROa:m.config.Mja,bb:void 0,NC:m.config.Eca,onerror:a.dib,Fia:a.Fia,Ia:a.Ia,uxb:!1,JBa:f.$L([]),fUa:f.eM([]),lG:m.config.lG});}T={getTime:q.Qg,dSb:q.QL};la=l.Y.get(h.Ie);Ga=l.Y.get(P.HS);z=l.Y.get(aa.kD);ka=T;Ea=l.wg("VideoPreparer");F={};S={};V=l.Y.get(C.Yn);if(!V.cz||!V.az){fb=l.Y.get(fa.LS)();V.cz=fb.rb;V.az=fb.request;}Ea.info("instance created");U=new r.txa({log:Ea,Ia:T,hna:q.ZCa,zea:function(a,b,c){var h;function f(){var b;la.nA(h)||(h={trackingId:h});b={Ua:h,oa:a,Ax:P.Lk.V5};Ea.trace("manifest request for:"+a);return Ga.cf(Ea,b);}h=b.fb;Ea.trace("getManifest: "+a);m.config.f8a&&h&&h.va&&!U.AY(a,"manifest")&&(!h.va.clientGenesis||Date.now()-h.va.clientGenesis<m.config.DOa)?(b=l.Y.get(oa.oD).create(h.va),b.uy=T.getTime(),b.eC=T.getTime(),U.zy(a,"manifest",b),c(null,b)):U.Tp(a,"manifest").then(function(a){c(null,a);})["catch"](function(b){var h;Ea.trace("manifest not available in cache",b);if(U.AY(a,"manifest"))c({status:n.Od.xe.Xy});else{h=T.getTime();b=f();U.zy(a,"manifest",b);b.then(function(b){b.uy=h;b.eC=T.getTime();U.zy(a,"manifest",b);c(null,b);})["catch"](function(b){c(b);U.zy(a,"manifest",void 0);});}});},bY:m.config.CF?m.config.mp?E:y:void 0,aY:function(a,b,c){var f;f=b.fb;U.Tp(a,"manifest").then(function(b){b=d(b.Mf,f,a);k.Yk.OV(b,function(){c(null,{});});})["catch"](function(a){Ea.error("Exception in getHeaders",a);c(a);});},ZF:function(a,b,c){var m;m=b.fb;U.Tp(a,"manifest").then(function(q){var t,g,y;t=q.Mf;q=d(t,m,a);g=t.duration;t=l.Y.get(f.$Q).$Aa({LC:p.Gb(t.Xw),G:a,NO:p.Gb(g),Ua:m}).ca(p.ha);l.Y.get(h.Ie).mr(m.S)&&(t=m.S);q.Rc=t;if(Sa!=a||m.ue||b.force){y=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(k.Yk.removeEventListener("prebuffstats",y),c(null,{}));};k.Yk.addEventListener("prebuffstats",y);k.Yk.OV(q);}else c({status:n.Od.xe.HI});})["catch"](function(a){Ea.error("Exception in getMedia",a);c(a);});},Qu:function(){return k.Yk.Qu();},Haa:function(){return m.config.WW;},mia:function(a){var b;b=!1;k.Yk.JL().forEach(function(c){c.G==a&&(b=!0);});return b;},Wda:function(){return k.Yk.JL().map(function(a){var b,f;b=k.Yk.oha(a.G);f=b[c.Qc.Qj.AUDIO]&&b[c.Qc.Qj.AUDIO].data;b=b[c.Qc.Qj.VIDEO]&&b[c.Qc.Qj.VIDEO].data;return{G:a.G,Yp:a.Yp,IBa:f&&f.length,eUa:b&&b.length,mjb:la.mr(a.Vb.vX),frb:la.mr(a.Vb.GZ),Uxb:la.mr(a.Vb.mH),Txb:la.mr(a.Vb.c0)};});},Ria:function(a){Sa=a;},Sia:function(a){Ta&&(Ta.Raa(),b());Oa=a;},yO:function(){Ta&&Ta.xla();Oa=Sa=void 0;},iea:function(){return{ldls_after_create:F,ldls_after_start:S};},kM:m.config.kM,mM:m.config.mM,lM:m.config.lM,zN:m.config.dyb,waa:m.config.gyb,vaa:m.config.eyb,ada:m.config.DOa,$ca:m.config.fyb,Lh:!1,Zc:l.Y});M._cad_global.videoPreparer=U;V=m.config.Xwb;Z=T.getTime();V&&(Ta=new G.Q6(V,b),Ta.xla());a(t.rd);});},function(d,b,a){var c,k,m,t,q,l,h,f,p;Object.defineProperty(b,"__esModule",{value:!0});d=a(141);c=a(10);k=a(11);m=a(57);b=a(8);t=a(5);q=a(44);l=a(94);h=a(16);f=a(21);p=a(9);M.netflix=M.netflix||{};h.eb(!M.netflix.player);M.netflix.player={VideoSession:d.rT,diag:{togglePanel:function(a,b){var c;c=[];if(!k.config||k.config.iP){switch(a){case"info":c=m.Lm.map(function(a){return a.Z_;});break;case"streams":c=m.Lm.map(function(a){return a.$_;});break;case"log":c=[];}c.forEach(function(a){f.Wb(b)?b?a.show():a.Fo():a.toggle();});}},addLogMessageSink:function(a){t.Y.get(q.Pj).addListener({cVb:function(){},Gtb:function(b){a({data:b.data});}});}},log:t.wg("Ext"),LogLevel:b.Zh,addLogSink:function(a,b){t.Y.get(l.lz).v0(a,b);},getVersion:function(){return"6.0023.745.051";},isWidevineSupported:function(a){var f;function b(a){return function(b,c){return c.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");f=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.Pq,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.Zv,robustness:"SW_SECURE_CRYPTO"}]}];try{p.Bi.requestMediaKeySystemAccess("com.widevine.alpha",f).then(function(f){var h;h=f.getConfiguration();f=h.videoCapabilities||[];h=(h.audioCapabilities||[]).reduce(b(c.Zv),!1);f=f.reduce(b(c.Pq),!1);a(h&&f);})["catch"](function(){a(!1);});}catch(E){a(!1);}}};},function(d,b,a){var c,k,m,t,q,l,h,f,p,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(26);b=a(2);c=a(8);k=a(30);m=a(145);t=a(10);q=a(11);l=a(5);h=a(118);f=a(57);p=a(141);g=a(187);l.Y.get(d.Gf).register(b.J.rra,function(a){var d,y,H;function b(a,b){return void 0===a||void 0===b?Promise.reject("Invalid email and/or password"):l.Y.get(g.ES).cf(this.log,{},{aFa:a,password:b}).then(function(){});}if(q.config.qib){d=l.Y.get(m.xJ);y=l.Y.get(k.Uj);H=l.Y.get(c.Ab).xb("Test");p.rT.CV.test={pboRequests:d.vy.map(function(a){return JSON.parse(JSON.stringify(a));}),playbacks:f.Lm,getPlayback:function(a){return f.Lm.find(function(b){return b.ga===a;});},playgraphManager:{isNextSegmentReady:function(a,b){var c,h;return void 0!==(null===(h=null===(c=f.Lm.find(function(b){return b.ga===a;}))||void 0===c?void 0:c.Eb)||void 0===h?void 0:h.QX(b));}},aseManager:{cacheDestroy:function(){return h.Yk.NV();}},device:{esn:M._cad_global.device.Ih,esnPrefix:y.wx,errorPrefix:y.UA},log:{info:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return H.info(a,c);},error:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return H.error(a,c);},warn:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return H.warn(a,c);},trace:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return H.trace(a,c);},log:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return H.log(a,c);},debug:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return H.debug(a,c);}},login:b};}a(t.rd);});},function(d,b,a){var c,k,m,t,q,l,h,f,p,g,H;Object.defineProperty(b,"__esModule",{value:!0});c=a(143);k=a(141);m=a(10);t=a(11);d=a(2);q=a(5);l=a(16);h=a(17);f=a(21);p=a(14);g=a(44);H=a(62);a=a(26);q.Y.get(a.Gf).register(d.J.qra,function(a){var b,d;b=q.wg("NccpApi");d=h.zBa(["info","warn","trace","error"]);k.rT.CV.nccp={getEsn:function(){return c.Gh.Ih;},getPreferredLanguages:function(){return t.config.nu.Aja;},setPreferredLanguages:function(a){l.eb(p.isArray(a)&&f.Ku(a[0]));t.config.nu.Aja=a;},queueLogblob:function(a,c,f){var h;if(a&&c)if(c=c.toLowerCase(),d[c]){h=q.Y.get(g.Pj);a=q.Y.get(H.Wn).sn(a,c,f);h.Kc(a);}else b.warn("Invalid severity",{severity:c});},flushLogblobs:function(){q.Y.get(g.Pj).flush(!0);}};a(m.rd);});},function(d,b,a){var c,k,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.Toa=void 0;c=a(67);k=a(46);m=a(16);t=a(17);q=a(21);b.Toa=function(a,b){m.eb(a);m.eb(b);m.nF(b.Uhb,"endpointURL property is required");m.eb(b.qr);this.log=a;this.sOa=b;};b.Toa.prototype.Cx=function(){var a,b,f;a=this;a.log.trace("Downloading config data.");b={browserInfo:JSON.stringify(a.sOa.qr)};f=a.sOa.Uhb+"?"+k.ZG(b);return new Promise(function(b,h){function d(b){var c;try{if(b.aa){c=new Uint8Array(b.content);return{aa:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return{aa:!1,message:"Unable to download the config. "+b.nb,oN:b.Li};}catch(X){return b=t.Ee(X),a.log.error("Unable to download the config. Received an exception parsing response",{message:X.message,exception:b,url:f}),{aa:!1,nb:b,message:"Unable to download the config. "+X.message};}}function p(b,c,f){return c>f?(a.log.error("Config download failed, retry limit exceeded, giving up",q.sb({Attempts:c-1,MaxRetries:f},b)),!1):!0;}function l(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function k(f,m,g){c.Pe.download(f,function(c){var y;c=d(c);if(c.aa)b(c);else{a.log.warn("Config download failed, retrying",q.sb({Attempt:m,WaitTime:y,MaxRetries:g},c));if(p(c,m+1,g))return y=t.Sja(1E3,1E3*Math.pow(2,Math.min(m-1,g))),l(y).then(function(){return k(f,m+1,g);});h(c);}});}return c.Pe?k({url:f,responseType:3,withCredentials:!0,JA:"config-download"},1,3):Promise.reject({aa:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(d,b,a){var c,k,m,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(11);k=a(10);d=a(2);m=a(5);t=a(177);a=a(26);m.Y.get(a.Gf).register(d.J.fra,function(a){c.config.Njb&&m.Y.get(t.U3).start();a(k.rd);});},function(d,b,a){var c,k,m,t,q,l,h,f,p,g,H,K,n,G;Object.defineProperty(b,"__esModule",{value:!0});c=a(150);k=a(270);d=a(57);m=a(11);t=a(56);q=a(10);l=a(46);h=a(38);f=a(17);p=a(9);g=a(5);H=a(115);K=a(12);n=a(26);G=a(30);d.A6(d.v6,function(a){var oa,fa,U,la,O,sa;function b(c){c.newValue>=K.mb.LOADING&&(a.state.removeListener(b),u("type=openplay&sev=info&locstor="+p.uS(r())),U=h.Qg(),E());}function d(){sa("type=startplay&sev=info&outcome=success");}function y(){var b,h;b=a.Mi;if(b){h="type=startplay&sev=error&outcome=error";b=c.Jea(g.Y.get(G.Uj).UA,b);f.yd(b,function(a,b){h+="&"+p.uS(a)+"="+p.uS(b||"");});sa(h);}else sa("type=startplay&sev=info&outcome=abort");}function E(){var a,b;a=la.shift();if(0<a){b=p.Dl(a-(h.Qg()-U),0);fa=setTimeout(function(){u("type=startstall&sev=info&kt="+a);E();},b);}}function N(){sa("type=startplay&sev=info&outcome=unload");}function r(){var a,b,c;try{b=""+h.QL();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==c?"success":"mism";}catch(wa){a="ex: "+wa;}return a;}function u(b){b=O+"&soffms="+a.Qea()+"&"+b;a.ld&&Object.keys(a.ld).length&&(b+="&"+l.ZG(f.sb({},a.ld,{prefix:"sm_"})));k.$Sa("playback",b,oa);}oa=g.Y.get(H.Qy).host+m.config.Ama;if(m.config.aTa&&oa&&m.config.bTa.playback){la=m.config.OFb.slice();O="xid="+a.ga+"&pbi="+a.index+"&uiLabel="+(a.le||"");a.state.addListener(b);a.addEventListener(K.U.Jn,d);a.addEventListener(K.U.uf,y);t.Fe.addListener(t.il,N,q.uz);sa=function(b){var c;sa=q.Ke;c=g.Y.get(n.Gf);b+="&initstart="+c.startTime+"&initend="+c.endTime;u(b);clearTimeout(fa);a.removeEventListener(K.U.Jn,d);a.removeEventListener(K.U.uf,y);t.Fe.removeListener(t.il,N);};}});},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});d=a(80);c=a(11);k=a(5);d.pz(function(a,b){var d,l,h,f;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.iGb);l=d[b.le];if(c.config.jGb&&l){h={};f=k.Rg(a,"MediaStreamFilter");return{MF:"uiLabel",xs:function(a){if(a.lower&&a.height>l)return h[a.height]||(h[a.height]=!0,f.warn("Restricting resolution due to uiLabel",{MaxHeight:l,streamHeight:a.height}),b.qn.set({reason:"uiLabel",height:a.height})),!0;}};}});},function(d,b,a){var k;function c(a,b,c,d){this.j=a;this.zm=b;this.ka=c;this.oc=d;this.log=this.ka.xb("KeyStatusStreamFilter",this.j);this.uZ=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Mra=void 0;k=a(473);c.prototype.xs=function(a){this.CEb();if(a.lower&&1080<a.height&&!this.uZ)return this.log.trace("stream restricted",{height:a.height,bitrate:a.O}),!0;this.log.debug("stream allowed",{height:a.height,bitrate:a.O});return!1;};c.prototype.Ceb=function(){var a,b,c;b={};c=null===(a=this.zm.mg.value)||void 0===a?void 0:a.pH;null===c||void 0===c?void 0:c.forEach(function(a){b[a.Rr]=a.dQa.height;});this.log.trace("KeyStatusMap",b);return b;};c.prototype.Mub=function(a){var b;b=this.Rqb[this.oc.encode(a.Rr)];if(1080<b)switch(a.value){case k.Sn.Uma:this.uZ=!0;break;case k.Sn.XRa:this.uZ=!1;break;default:this.uZ=!1,this.log.error("Restricting resolution due to keyStatus",{keyHeight:b,keyStatus:a.value}),this.zm.qn.set({reason:"keyStatus",height:b});}this.log.trace("keyStatus change",{keyHeight:b,keyStatus:a.value});};c.prototype.CEb=function(){var a,b,c;a=this;b=this.zm.wf;c=b&&b.Hga;!this.zqb&&c&&(this.zqb=!0,this.Rqb=this.Ceb(),b.Hga().subscribe(function(b){return a.Mub(b);}));};na.Object.defineProperties(c.prototype,{MF:{configurable:!0,enumerable:!0,get:function(){return"keyStatus";}}});b.Mra=c;},function(d,b,a){var c,k,m,t;Object.defineProperty(b,"__esModule",{value:!0});d=a(80);c=a(11);k=a(5);m=a(532);t=a(470);d.pz(function(a,b){if(c.config.Qqb)return new m.Mra(a,b,k.Af,new t.F2());});},function(d,b,a){var k,m,t;function c(a){var c,f;function b(h){h=h.bbb;a.removeEventListener(t.U.pia,b);try{m.WJa(h.data[0])&&(f=!0,a.cDb());c.trace("RA check",{HasRA:f});}catch(y){c.error("RA check exception",y);}}c=k.Rg(a,"RAF");a.addEventListener(t.U.pia,b);return{MF:"ra",xs:function(a){if(!f&&a.Hu)return a=a.Nf,!(0<a.toLowerCase().indexOf("l30")||0<a.toLowerCase().indexOf("l31"));}};}Object.defineProperty(b,"__esModule",{value:!0});b.E_a=void 0;d=a(80);k=a(5);m=a(271);t=a(12);a=a(30);k.Y.get(a.Uj).$zb&&d.pz(c);b.E_a=c;},function(d,b,a){var k,m;function c(a,b){var c,h;c=m.Rg(a,"MSS");if(k.config.Qtb)return{MF:"mss",xs:function(a){var f,d;if(a.lower&&2160<=a.height)a:{for(f=a;f.lower;){if(2160>f.height&&1080<f.height){f=!0;break a;}if(1080>=f.height)break;f=f.lower;}f=!1;}else f=void 0;if(f){if(void 0===h){try{d=M.MSMediaKeys;h=d&&d.isTypeSupportedWithFeatures?"probably"===d.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(H){c.error("hasUltraHdDisplay exception");h=!0;}h||(c.warn("Restricting resolution due screen size",{MaxHeight:a.height}),b.qn.set({reason:"microsoftScreenSize",height:a.height}));}return!h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.D_a=void 0;d=a(80);k=a(11);m=a(5);d.pz(c);b.D_a=c;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(80).pz(function(){return{MF:"op",xs:function(){}};});},function(d,b,a){var k,m,t,q,l,h,f,p,g;function c(a,b){var y,H,K,n,r,R,A,u,oa,fa,U;function c(){var c;c=a.Nb.value===p.ib.Nc&&a.state.value===p.mb.qd&&a.G===b.G;U?c||(clearInterval(U),R=U=void 0):c&&(U=M.setInterval(d,1E3));}function d(){var b,c,f,h,d,p;b=a.gf.value;b=(b=b&&b.stream)&&b.height;if(null!==b&&0<b){c=q.Qg();f=a.Pi.cB();if(f){if(R&&2E3>c-R.time&&b===R.height){h=f-R.bhb;d=H[b];d||(H[b]=d=[],b>u&&(r.push(b),t.SQ(r)));0<h&&!(fa&&fa<b)&&(fa=b);d.push(h);d.length>A&&d.shift();(d=n[b])||(n[b]=d={});p=d[h];d[h]=p?p+1:1;}R={time:c,bhb:f,height:b};a.Z_&&a.Z_.CCb(H);}}}y=l.Rg(a,"DFF");H={};K=k.config.fhb;n={};r=[];A=k.config.dhb;u=k.config.ehb;oa=m.qsa;if(k.config.chb)return b.wca={nkb:function(){var a;a={};n&&r.forEach(function(b){var c,f,d;c=n[b];if(c){f=0;d=0;g.yd(c,function(a,b){d+=h.Ld(a);f+=b;});a[b]=d/f;}});return a;},aN:function(a){var b;b={};a.forEach(function(a){b[a]={};});n&&(t.SQ(a),r.forEach(function(c){var h,d,p,l;h=n[c];if(h){d=0;p=0;g.yd(h,function(a,b){d+=b;});l=Object.keys(h).map(Number);t.SQ(l);for(var k=l.length-1,m=l[k],q=a.length-1;0<=q;q--){for(var y=a[q];m>=y&&0<=k;)(m=h[m])&&(p+=m),m=l[--k];b[y][c]=f.zh(p/d*100);}}}));return b;}},a.state.addListener(c),a.Nb.addListener(c),a.addEventListener(p.U.No,c),{MF:"df",xs:function(a){var c,h,d,p;if(a.lower&&a.height>u){a=a.height;a:{if(fa){c=r.length;for(var f=0;f<c;f++){h=r[f];if(h>=fa&&h<oa){d=H[h];if(p=d)b:{p=K.length;for(var l=d.length,k=0;k<p;k++)for(var m=K[k],q=m[0],m=m[1],t=0;t<l;t++)if(d[t]>=m&&0>=--q){p=!0;break b;}p=!1;}if(p&&oa!=h){y.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:h});b.qn.set({reason:"droppedFrames",height:h});c=oa=h;break a;}}}fa=void 0;}c=oa;}a=a>=c;}else a=!1;return a;}};}Object.defineProperty(b,"__esModule",{value:!0});b.C_a=void 0;d=a(80);k=a(11);m=a(10);t=a(46);q=a(38);l=a(5);h=a(21);f=a(9);p=a(12);g=a(17);d.pz(c);b.C_a=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(5);a=a(341);a=d.Y.get(a.s2);a;},function(d,b,a){var c,k,m,t,q,l,h,f,p,g,H,K,n,G,N;Object.defineProperty(b,"__esModule",{value:!0});c=a(150);k=a(10);m=a(11);t=a(57);q=a(38);d=a(2);l=a(5);h=a(69);f=a(9);p=a(50);g=a(14);H=a(44);K=a(62);a=a(26);N=l.Y.get(a.Gf);N.register(d.J.hra,function(a){var d;function b(){var a,b,h,p;a=N.startTime;b={browserua:f.El,browserhref:f.vS.href,initstart:a,initdelay:N.endTime-a};(a=f.$d.documentMode)&&(b.browserdm=""+a);"undefined"!==typeof M.nrdp&&M.nrdp.device&&(b.firmware_version=M.nrdp.device.firmwareVersion);g.Ku(m.config.KFa)&&(b.fesn=m.config.KFa);Object.assign(b,c.Tea());h=f.Sq&&f.Sq.timing;h&&m.config.nsb.map(function(a){var c;c=h[a];c&&(b["pt_"+a]=c-q.$Ca());});p=d.CHa();Object.keys(p).forEach(function(a){return b["m_"+a]=p[a];});a=G.sn("startup","info",b,t.BD.xda);n.Kc(a);}G=l.Y.get(K.Wn);n=l.Y.get(H.Pj);d=l.Y.get(h.nw);N.PN(function(){n.Kb();p.ic(b);});a(k.rd);});},function(d,b,a){var c,k,m,t,q,l,h,f,p,g,H,K,n,G,N,C,r,P,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(190);k=a(143);m=a(11);t=a(10);q=a(2);l=a(16);h=a(5);f=a(69);p=a(52);g=a(71);H=a(17);K=a(9);n=a(14);G=a(46);N=a(95);C=a(3);d=a(26);r=a(353);P={};u=h.Y.get(d.Gf);u.register(q.J.jra,function(a){var E,X,R,aa,sa,ua,ya,Q,wa,ga,Ga,z,ka,Ea;function b(b){b&&b.userList&&m.config.tDb&&(b.userList=[]);aa({esn:k.Gh.Ih,esnPrefix:k.Gh.wx,authenticationType:m.config.sL,authenticationKeyNames:m.config.PBa,systemKeyWrapFormat:m.config.$Eb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:ka,storeState:b,notifyMilestone:u.cd.bind(u),log:ya,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:q.u.x_a,MSL_READ_TIMEOUT:q.u.w_a}},{result:function(a){d(a);},timeout:function(){a({da:q.u.Csa});},error:function(b){a(y(q.u.Csa,void 0,b));}});}function d(b){var f,d,p;function c(){z&&h.Y.get(g.Gq).create().then(function(a){return a.save(ga,d,!1);})["catch"](function(a){ya.error("Error persisting msl store",q.Un(a));});}f=h.Y.get(N.Dz)(C.Gb(100));p=sa.extend({init:function(a){this.lza=a;},getResponse:function(a,b,c){var f,d;b=this.lza;f=b.kMa.Pe||f;a=n.yga(a.body)?h.Yma(a.body):a.body;l.nF(a,"Msl should not be sending empty request");a={url:b.url,vja:a,withCredentials:!0,JA:"nq-"+b.method,headers:b.headers};b=this.lza.timeout;a.dW=b;a.zia=b;d=f.download(a,function(a){try{if(a.aa)c.result({body:a.content});else if(400===a.Li&&a.nb)c.result({body:a.nb});else throw H.sb(new ua("HTTP error, SubCode: "+a.da+(a.Li?", HttpCode: "+a.Li:"")),{cadmiumResponse:a});}catch(sd){c.error(sd);}});return{abort:function(){d.abort();}};}});wa&&b.addEventHandler("shouldpersist",function(a){d=a.storeState;f.Lc(c);});H.sb(P,{JSb:function(){Ga=!0;},send:function(a){function c(){var b,c;b=a.kMa;c={method:a.method,nonReplayable:a.Rub,encrypted:a.sj,userId:a.yHb,body:a.body,timeout:2*a.timeout,url:new p(a),allowTokenRefresh:z,sendUserAuthIfRequired:Ea,shouldSendUserAuthData:m.config.yDb};b.aFa?(c.email=b.aFa,c.password=b.password||""):b.JFb?(c.token=b.JFb,c.mechanism=b.xTb,b.qia&&(c.netflixId=b.qia,c.secureNetflixId=b.CBb),b.Kja&&(c.profileGuid=b.Kja)):b.qia?(c.netflixId=b.qia,c.secureNetflixId=b.CBb):b.ptb?(c.mdxControllerToken=b.ptb,c.mdxPin=b.vTb,c.mdxNonce=b.uTb,c.mdxEncryptedPinB64=b.tTb,c.mdxSignature=b.wTb):Ga||b.useNetflixUserAuthData?c.useNetflixUserAuthData=!0:b.Kja&&(c.profileGuid=b.Kja);return c;}return new Promise(function(a,f){var h;h=c();b.send(h).then(function(b){Ga&&(Ga=!1);a({aa:!0,body:b.body});})["catch"](function(a){var c,h;if(a.error){c=a.error.cadmiumResponse&&a.error.cadmiumResponse.da?a.error.cadmiumResponse.da:b.isErrorReauth(a.error)?q.u.Bsa:b.isErrorHeader(a.error)?q.u.q_a:q.u.p_a;h=b.getErrorCode(a.error);f(y(c,h,a.error));}else ya.error("Unknown MSL error",a),a.ad=a.subCode,f({da:a.ad?a.ad:q.u.y_a});});});},p_:b});a(t.rd);h.Y.get(r.nS).zub(P);}function y(a,b,c){var f,h,d,p;p={da:a,GF:b};if(c){f=function(a){var b;a=a||""+c;if(c.stack){b=""+c.stack;a=0<=b.indexOf(a)?b:a+b;}return a;};if(d=c.cadmiumResponse){if(h=d.Vd&&d.Vd.toString())d.Vd=h;d.da=a;d.GF=b;d.nb=f(c.message);d.error={ad:a,mh:h,cs:b,data:c.cause,message:c.message};return d;}f=f(c.errorMessage);h=H.Ld(c.internalCode)||H.Ld(c.error&&c.error.internalCode);d=void 0!==c.fib?G.Lia(c.fib):void 0;}f&&(p.nb=f);h&&(p.Vd=h);p.error={ad:a,mh:h.toString(),cs:b,data:d,message:f};return p;}l.eb(m.config);E=h.Y.get(f.nw);X=p.Od.bi;if(K.ew&&K.jx&&K.jx.unwrapKey){try{R=M.netflix.msl;aa=R.createMslClient;sa=R.IHttpLocation;ua=R.MslIoException;}catch(Sa){a({da:q.u.r_a});return;}ya=h.wg("Msl");Q=m.config.vub;wa=m.config.xub;ga=m.config.Cr?"mslstoretest":"mslstore";R=c.wC.YQa;Ga=m.config.dpb;z=!R||R.aa;ka=h.Ep(m.config.Cr?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");Ea=!!m.config.ila;h.Y.get(g.Gq).create().then(function(c){Q?c.remove(ga).then(function(){b();})["catch"](function(a){ya.error("Unable to delete MSL store",q.Un(a));b();}):wa?c.load(ga).then(function(a){E.mark(X.t_a);b(a.value);})["catch"](function(f){f.da==q.u.jw?(E.mark(X.v_a),b()):(ya.error("Error loading msl store",q.Un(f)),E.mark(X.u_a),c.remove(ga).then(function(){b();})["catch"](function(b){a(b);}));}):b();})["catch"](function(b){ya.error("Error creating app storage while loading msl store",q.Un(b));a(b);});}else a({da:q.u.s_a});});},function(d,b,a){var t,q,l,h;function c(a,b,c,d){var f,p,g;t.eb(h.Qe(a)&&!h.isArray(a));d=d||"";f="";p=a.hasOwnProperty(l.xi)&&a[l.xi];p&&q.yd(p,function(a,b){f&&(f+=" ");f+=a+'="'+m(b)+'"';});c=(b?b+":":"")+c;p=d+"<"+c+(f?" "+f:"");g=a.hasOwnProperty(l.pp)&&a[l.pp].trim&&""!==a[l.pp].trim()&&a[l.pp];if(g)return p+">"+m(g)+"</"+c+">";a=k(a,b,d+"  ");return p+(a?">\n"+a+"\n"+d+"</"+c+">":"/>");}function k(a,b,d){var f;t.eb(h.Qe(a)&&!h.isArray(a));d=d||"";f="";q.yd(a,function(a,p){var t;if("$"!=a[0])for(var l=q.VN(p),k=0;k<l.length;k++)if(p=l[k],f&&(f+="\n"),h.Qe(p))f+=c(p,b,a,d);else{t=(b?b+":":"")+a;f+=d+"<"+t+">"+m(p)+"</"+t+">";}});return f;}function m(a){if(h.Ge(a))return q.mN(a);if(h.ma(a))return t.iM(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";t.eb(!1,"Invalid xml value.");return"";}Object.defineProperty(b,"__esModule",{value:!0});b.HFb=b.Mqb=b.Lqb=void 0;t=a(16);q=a(17);l=a(121);h=a(14);b.Lqb=c;b.Mqb=k;b.HFb=m;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});d=a(2);c=a(5);k=a(321);a=a(26);c.Y.get(a.Gf).register(d.J.gra,function(a){c.Y.get(k.B3)().then(function(){a({aa:!0});})["catch"](function(b){c.log.error("error in initializing indexedDb debug tool",b);a({aa:!0});});});},function(d,b,a){var c,k,m,t,q,l,h,f,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(46);k=a(10);m=a(11);t=a(2);q=a(501);l=a(30);h=a(9);f=a(5);d=a(26);p=f.Y.get(d.Gf);p.register(t.J.sra,function(a){h.jx&&h.jx.generateKey&&h.jx.importKey&&h.jx.unwrapKey?!f.Y.get(l.Yn).YWa&&m.config.sL!=q.DI.V0a&&m.config.sL!=q.DI.h_a||h.tS?(p.cd("wcs"),c.qNa(h.jx.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){p.cd("wcdone");a(k.rd);},function(b){var c;b=""+b;0<=b.indexOf("missing crypto.subtle")?c=t.u.J7:0<=b.indexOf("timeout waiting for iframe to load")&&(c=t.u.s2a);a({da:c,nb:b});})):a({da:t.u.r2a}):a({da:t.u.J7});});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(11);a(10);d=a(5);a(94);a(194);a(2);a(95);a(3);a=a(26);d.Y.get(a.Gf);},function(d,b,a){var h,f,p,g,H;function c(a){var c,d;f.nF(a);if(p.Ge(a)&&b.wra.test(a)){c=a.split(".");if(4===c.length){for(var h=0;h<c.length;h++){d=p.Ld(c[h]);if(0>d||!H.Ju(d,0,255)||1!==c[h].length&&0===c[h].indexOf("0"))return;}return a;}}}function k(a){var b;b=0;if(c(a)===a)return a=a.split("."),b+=p.Ld(a[0])<<24,b+=p.Ld(a[1])<<16,b+=p.Ld(a[2])<<8,b+p.Ld(a[3]);}function m(a){var c;f.nF(a);if(p.Ge(a)&&a.match(b.xra)){c=a.split(":");-1!==c[c.length-1].indexOf(".")&&(a=t(c[c.length-1]),c.pop(),c.push(a[0]),c.push(a[1]),a=c.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==c.length)&&(c=1<a.length?q(a):c,a=c.length,8===a)){for(;a--;)if(!H.Ju(parseInt(c[a],16),0,h.rsa))return;return c.join(":");}}}function t(a){var b;a=k(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function q(a){var b,c,f;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);c=8-(b.length+a.length);if(1>c)return[];for(f=0;f<c;f++)b.push("0");for(f=0;f<a.length;f++)b.push(a[f]);return b;}function l(a){return-1<<32-a;}Object.defineProperty(b,"__esModule",{value:!0});b.IZa=b.NZa=b.KZa=b.JZa=b.MZa=b.HZa=b.LZa=b.hz=b.xra=b.wra=void 0;h=a(10);f=a(16);p=a(21);g=a(9);H=a(14);b.wra=/^[0-9.]*$/;b.xra=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.hz="0000000000000000";b.LZa=c;b.HZa=k;b.MZa=m;b.JZa=t;b.KZa=q;b.NZa=function(a,f,h){var d,p,q,t;d=c(a);p=m(a);q=c(f);t=m(f);if(!d&&!p||!q&&!t||d&&!q||p&&!t)return!1;if(a===d)return h=l(h),(k(a)&h)!==(k(f)&h)?!1:!0;if(a===p){a=a.split(":");f=f.split(":");for(d=g.Ss(h/b.hz.length);d--;)if(a[d]!==f[d])return!1;h%=b.hz.length;if(0!==h)for(a=parseInt(a[d],16).toString(2),f=parseInt(f[d],16).toString(2),a=b.hz.substring(0,b.hz.length-a.length)+a,f=b.hz.substring(0,b.hz.length-f.length)+f,d=0;d<h;d++)if(a[d]!==f[d])return!1;return!0;}return!1;};b.IZa=l;},function(d,b,a){var c,k,m,t,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Wrb=b.Xrb=b.Vrb=void 0;c=a(5);k=a(16);a(17);m=a(21);t=a(2);q=a(30);l=a(50);h=a(9);a(14);f=a(130);b.Vrb=function(a,b){var g,y,n,C;function d(a){var c;c=b;b=m.Ke;c(a);}function p(a){var b,c,f,h;try{b=JSON.parse(a.data);c=b.method;f=b.success;h=b.payload;k.eb("ready"==c);"ready"==c&&(n.removeEventListener("message",p),C.th(),l.ic(function(){g.info("Plugin sent ready message");f?d({success:!0,pluginObject:n,pluginVersion:h&&h.version}):d({da:t.u.Sta,Vd:b.errorCode});}));}catch(T){g.error("Exception while parsing message from plugin",T);d({da:t.u.Tta});}}g=c.wg("Plugin");k.eb(a);if(a){a=a[0].type;g.info("Injecting plugin OBJECT",{Type:a});y=c.Y.get(q.Yn).BNb;n=m.createElement("OBJECT",y,void 0,{type:a,"class":"netflix-plugin"});n.addEventListener("message",p);C=c.Y.get(f.Gz)(8E3,function(){g.error("Plugin load timeout");d({da:t.u.Vta});});h.$d.body.appendChild(n);C.qu();}else d({da:t.u.Uta});};b.Xrb=function(){};b.Wrb=function(a){var b,h,d;b=c.wg("Plugin");h=1;d={};a.addEventListener("message",function(a){var c,f,h,p;try{c=JSON.parse(a.data);f=c.success;h=c.payload;p=d[c.idx];p&&(f?p({aa:!0,eQb:h}):p({aa:!1,da:t.u.N0a,nb:c.errorMessage,Vd:c.errorCode}));}catch(P){b.error("Exception while parsing message from plugin",P);}},!1);return function(p,l,k){var q,g,y,H;function m(a){a.aa||b.info("Plugin called back with error",{Method:p},t.Un(a));y.th();delete d[q];k(a);}try{q=h++;g={idx:q,method:p};g.argsObj=l||{};y=c.Y.get(f.Gz)(8E3,function(){b.error("Plugin never called back",{Method:p});delete d[q];k({da:t.u.O0a});});y.qu();H=JSON.stringify(g);d[q]=m;a.postMessage(H);}catch(A){b.error("Exception calling plugin",A);k({da:t.u.P0a});}};};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(5);b=a(94);a=a(194);d.Y.get(b.lz).v0(a.a5.rWa,function(a){var b,c;b=a.level;if(!M._cad_global.config||b<=M._cad_global.config.rsb){a=a.I1();c=M.console;1>=b?c.error(a):2>=b?c.warn(a):c.log(a);}});},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.BHb=b.W1a=b.U1a=b.T1a=b.V1a=void 0;c=a(21);k=a(9);b.V1a=function(a,b,c){for(c=(c-a.length)/b.length;0<c--;)a+=b;return a;};b.T1a=function(a,b,d){d=c.Ge(d)?d:"...";return a.length<=b?a:a.substr(0,a.length-(a.length+d.length-b))+d;};b.U1a=function(a,b){var d;for(var c=1;c<arguments.length;++c);d=k.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof d[b]?d[b]:a;});};b.W1a=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer;};b.BHb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,c){b[c]=a.charCodeAt(0);});return b;};},function(d){function b(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function c(a,b){return a+b;}d.R={Rbb:function(a,b,c){for(var d=0;d<a.length;d++)if(a[d]!==b[d])return c.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},zba:function(a,b,c){var d;d={};d.displayTime=a.rj;d.duration=a.duration;d.originX=a.M_;d.originY=a.N_;d.sizeX=a.l1;d.sizeY=a.m1;d.imageData=b;d.id=a.Pr;d.rootContainerExtentX=c.J0;d.rootContainerExtentY=c.K0;return d;},blb:function(a,b){return"o_"+a+"s_"+b;},cUa:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},Wb:function(a){return"undefined"!==typeof a;},zBb:function(a,b){return a.some(function(a){return a.id===b;});},ihb:function(d,m){return d.filter(b.bind(null,m)).map(a).reduce(c,0);},XM:function(a,b){var c,d;c=Object.create({});for(d in a)c[d]=a[d];a instanceof Error&&(c.message=a.message,c.stack=a.stack);c.errorString=b;return c;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(d){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},gl:function(){return this.buffer.length-this.position;},hf:function(){return this.buffer[this.position++];},te:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},zc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},qs:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},Xja:function(){for(var a="",b;b=this.hf();)a+=String.fromCharCode(b);return a;},Ob:function(){return this.zc(2);},Oa:function(){return this.zc(4);},Bg:function(){return this.zc(8);},q0:function(){return this.zc(2)/256;},cP:function(){return this.zc(4)/65536;},Ef:function(a){for(var b,d="";a--;)b=this.hf(),d+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return d;},sy:function(){return this.Ef(4)+"-"+this.Ef(2)+"-"+this.Ef(2)+"-"+this.Ef(2)+"-"+this.Ef(6);},dP:function(a){for(var b=0,d=0;d<a;d++)b+=this.hf()<<(d<<3);return b;},bC:function(){return this.dP(4);},gna:function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);}};d.R=b;},function(d,b,a){var u,R,A,T,oa,fa;function c(a){u.call(this);this.Okb=h;this.Xk=a.url;this.NK=a.request;this.EU=a.Rc||0;this.kU=a.Lh;this.Bb=a.ka;this.Zj=this.ei=null;this.cK={};this.ww=0;this.zK=a.bufferSize||4194304;this.q9={};this.BAa=a.version||1;a.key&&(this.eya=a.crypto,this.Rz=this.eya.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.kq?this.ei=a.kq:(this.Qd=a.offset,this.xE=a.size);}function k(){}function m(){}function t(a,b){var c,f,h,d,p,l,m,t;if(a)this.emit(oa.ERROR,T.XM(a,fa.i_a));else try{if(2===this.BAa){f=new k();h=A.Vja(b)[0];d=h.Dx("636F6D2E-6E65-7466-6C69-782E68696E66");p=h.Dx("636F6D2E-6E65-7466-6C69-782E6D696478");f.UY=d.BV;f.Fh=d.Fh;f.pl=d.pl;f.G=d.G;f.J0=d.J0;f.K0=d.K0;f.language=d.Yqb;f.fFb=d.JEb;f.startOffset=p.OBb;l=[];m=0;for(a=0;a<p.Ta.length;a++){t=p.Ta[a];b={};b.duration=t.duration;b.size=t.size;l.push(b);m+=b.duration;}f.entries=l;f.endTime=m;c=f;}else{l=new R(b);m=new k();m.identifier=l.qs(4);T.assert("midx"===m.identifier);m.version=l.zc(4);T.assert(0===m.version);m.UY=l.te(36);m.Fh=l.Bg();m.pl=l.Bg();m.G=l.Bg();m.J0=l.Ob();m.K0=l.Ob();m.language=l.te(16);m.fFb=l.te(16);m.startOffset=l.Bg();m.wn=l.Ob();f=[];for(t=p=0;t<m.wn;t++)a={},a.duration=l.zc(4),a.size=l.Ob(),f.push(a),p+=a.duration;m.entries=f;m.endTime=p;c=m;}this.ei=c;q.call(this);}catch(Fa){this.emit(oa.ERROR,T.XM(Fa,fa.j_a));}}function q(){var a,b;a=this.ei;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.Xk,offset:b,size:a},this.emit(oa.k_a,this.ei),this.NK(b,l.bind(this))):this.emit(oa.ERROR,T.XM({},fa.L_a));}function l(a,b){var c,h,d,p;c=this;if(a)c.emit(oa.ERROR,T.XM(a,fa.x1a));else{h=0;d=[];p=0;try{c.ei.entries.forEach(function(a){var f,l,k,q,t,y,H;l=h;k=c.ei.UY;q=c.Bb;if(2===c.BAa){f=new m();t=A.Vja(b);f.entries=[];f.images=[];for(var g=0;g<t.length;g++)for(k=t[g],l=k.Dx("636F6D2E-6E65-7466-6C69-782E73696478"),k=k.Dx("636F6D2E-6E65-7466-6C69-782E73656E63"),q=0;q<l.bp.length;q++){y={};H=l.bp[q];y.rj=H.rj;y.duration=H.duration;y.M_=H.M_;y.N_=H.N_;y.l1=H.l1;y.m1=H.m1;y.Pr=H.Pr;y.jG=H.jG;if(H=k&&k.bp[q])y.aX={tG:H.tG.slice(0),mode:H.mFa};f.entries.push(y);}}else{f=new R(b);t=new m();g=0;f.position=l;t.identifier=f.qs(4);T.assert("sidx"===t.identifier);t.UY=f.te(36);T.Rbb(t.UY,k,q);t.duration=f.zc(4);t.wn=f.Ob();t.entries=[];for(t.images=[];g<t.wn;)l={},l.rj=f.zc(4),l.duration=f.zc(4),l.M_=f.Ob(),l.N_=f.Ob(),l.l1=f.Ob(),l.m1=f.Ob(),l.Pr=f.Bg(),l.jG=f.zc(4),g++,t.entries.push(l);f=t;}d.push(f);a.Dla=f;f.Tja=p;f.$O=p+a.duration;p=f.$O;t=f.entries;t.length&&(f.startTime=t[0].rj,f.endTime=t[t.length-1].rj+t[t.length-1].duration);h+=a.size;});}catch(Q){c.emit(oa.ERROR,T.XM(Q,fa.y1a));return;}c.Zj=d;c.emit(oa.z1a,this.Zj);a=f.call(c,c.EU,2);a.length?n.call(c,a,c.EU,function(a){a&&c.Bb.error("initial sidx download failed");c.emit(oa.rva);}):c.emit(oa.rva);}}function h(a){var b,c,h,d,p;b=f.call(this,a,2);c=(c=this.ei)?c.endTime:void 0;if(a>c)return[];h=this.cK.ys;d=this.cK.index;c=[];d=T.Wb(d)&&this.Zj[d+1];if(!(d&&d.entries.length||h&&!(a>h.endTime)))return[];b.length&&n.call(this,b,a);h&&h.images.length&&(c=g(h,a,[],this.ei));d&&d.images.length&&(b=g(d,a,c,this.ei),c.push.apply(c,b));b=H(c);if(this.Zj&&0!=this.Zj.length){c=this.Zj[Math.floor(a/6E4)];if(!(c.Tja<=a&&a<=c.$O))a:{c=this.Zj.length;if(!this.eib){this.eib=!0;b:{try{p=String.fromCharCode.apply(String,this.ei.language);break b;}catch(Q){}p="";}this.Bb.error("bruteforce search for ",{movieId:this.ei.G,packageId:this.ei.pl,lang:p});}for(p=0;p<c;p++)if(h=this.Zj[p],h.Tja<=a&&a<=h.$O){c=h;break a;}c=void 0;}p=c;}else p=void 0;if(c=p&&0<p.entries.length&&0===p.images.length)a:{c=p.entries.length;for(d=0;d<c;d++)if(h=p.entries[d],h.rj<=a&&h.rj+h.duration>=a){c=!0;break a;}c=!1;}return c?null:b;}function f(a,b){var c,d;c=[];if(a=p.call(this,a))this.cK=a;else return this.cK={},c;for(var f=0,h=this.Zj?this.Zj.length:0;f<b&&a.index+f<h;){d=this.Zj[a.index+f];d&&!d.images.length&&c.push(d);f++;}return c;}function p(a){var b,c,f,h,d,p,l;c=this.cK;f=c.ys;h=c.index;d=this.Zj;this.hk(T.Wb(a));f&&(0===h&&a<=f.startTime?(l=!0,b=c):a>=f.startTime&&a<=f.endTime?(l=!0,b=c):(p=d[h-1],d=d[h+1],p&&a>p.endTime&&a<=f.startTime?(l=!0,b=c):d&&a>=f.endTime&&a<=d.endTime&&(l=!0,b={ys:d,index:h+1})));if(!l)for(c=this.ei.entries,f=c.length,h=0;h<f;h++)if(p=c[h].Dla,a<=p.startTime||a>p.startTime&&a<=p.endTime){b={ys:c[h].Dla,index:h};break;}return b;}function g(a,b,c,f){var h,d,p,l,k,m;h=a.entries;d=h.length;p=[];k=0;if(!h.length)return p;for(;k<d;){l=h[k];if(l.rj<=b)l.rj+l.duration>=b&&p.push(T.zba(l,a.images[k].data,f));else{m=p.length&&p[p.length-1]||c.length&&c[c.length-1];if(m&&m.rj>b&&m.rj!==l.rj)break;m.Pr!==l.Pr&&p.push(T.zba(l,a.images[k].data,f));}k++;}return p;}function H(a){return a.map(function(b,c){b.duration+=T.ihb(a.slice(c+1),b);return b;}).reduce(function(a,b){T.zBb(a,b.id)||a.push(b);return a;},[]);}function n(a,b,c){var f,h,d,p,l,k;f=this;h=a[0];d=a[a.length-1];0<h.entries.length&&(p=h.entries[0].Pr,l=h.entries[h.entries.length-1]);0<d.entries.length&&(T.Wb(p)||(p=d.entries[0].Pr),l=d.entries[d.entries.length-1]);if(p){h=l.Pr+l.jG-p;k=T.blb(p,h);f.q9[k]||(f.q9[k]=!0,E.call(f,a,b),f.NK({url:f.Xk,offset:p,size:h},function(b,h){var d,l,m,q;setTimeout(function(){delete f.q9[k];},1E3);if(b)c&&c(b);else{d=new R(h);l=0;q=[];a.forEach(function(a){a.entries.forEach(function(b,c){var h,k;d.position=b.Pr-p;h={data:d.te(b.jG)};k=b.aX;k&&(h.tG=k.tG,h.mFa=k.mode,m=!0,q.push(h));a.images[c]=h;!b.aX&&T.cUa(a.images[c].data,f.hk.bind(f));l+=a.images[c].data.length;});});f.ww+=l;m?f.Rz.then(function(a){return P.call(f,q,a);}).then(function(){c&&c(null);})["catch"](function(a){f.Bb.error("decrypterror",a);c&&c({aa:!1});}):c&&c(null);}}));}else c&&c(null);}function E(a,b){var d,l,k,m,q,t;function c(){return{pts:b,hasEnoughSpace:d.ww+l<=d.zK,required:l,currentSize:d.ww,max:d.zK,currentIndex:p.call(d,b).index,sidxWithImages:N.call(d),newSidxes:a.map(function(a){return d.Zj.indexOf(a);})};}function f(a,b){d.kU&&!a&&d.Bb.info("not done in iteration",b);}function h(a){var b,c,f;b=d.Zj[a];c=b.images&&b.images.length;if(0<c){f=G([b]);b.images=[];d.ww-=f;d.kU&&d.Bb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:f,images:c});if(d.ww+l<=d.zK)return!0;}}d=this;l=G(a);d.Bb.info("make space start:",c());if(!(d.ww+l<=d.zK)){k=p.call(d,b).index;m=!1;q=0;t=d.Zj.length-1;if(0>k){d.Bb.error("inconsistent sidx index");return;}for(;!m&&q<k-2;)m=h(q),q++;for(f(m,1);!m&&t>k+2;)m=h(t),t--;for(f(m,2);!m&&q<k;)m=h(q),q++;for(f(m,3);!m&&t>k;)m=h(t),t--;f(m,4);m||d.Bb.error("could not make enough space",{maxBuffer:this.zK});}d.Bb.info("make space end",c());}function G(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.jG+a;},0);},0);}function N(){var a;a=[];this.ei&&this.ei.entries&&this.ei.entries.reduce(function(b,c,f){var h;c=c.Dla;h=0;c&&c.images.length&&(a.push(f),h=c.images.reduce(function(a,b){return a+b.data.length;},0));return b+h;},0);return a.join(", ");}function C(a,b){return a&&a.Tja<=b&&a.$O>=b;}function r(a,b){var c,f,h,d,p,l;c=this;f=c.ei;h=c.Zj;d=h&&h.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(f&&h){if(0===d)return[];f=h[0].duration;if(T.Wb(f)&&0<f)f=Math.floor(a/f),p=f<d&&C(h[f],a)?h[f]:void 0;else for(c.kU&&c.Bb.warn("duration not defined, so use brute force to get starting sidx"),f=0;f<d;f++){l=h[f];if(C(l,a)){p=l;break;}}if(T.Wb(p)){p=[];for(var k=function(c){var f;f=c.rj<=a&&a<=c.rj+c.duration;return a<=c.rj&&c.rj<=b||f;};f<d;){l=h[f];p=p.concat(l.entries.filter(k));if(b<l.$O)break;f++;}p=p.map(function(a){return T.zba(a,null,c.ei);});return H(p);}}}function P(a,b){var f,h;function c(a,b){var c,f;c=this;f=new Uint8Array(16);f.set(a.tG);return c.eya.decrypt({name:"AES-CTR",counter:f,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));T.cUa(a.data,c.hk.bind(c));});}f=this;try{h=[];a.forEach(function(a){a.tG&&(a=c.call(f,a,b),h.push(a));});return(void 0).all(h);}catch(ya){return f.Bb.error("decrypterror",ya),(void 0).reject(ya);}}u=a(125).EventEmitter;R=a(551);A=a(314);T=a(550);oa=c.events={k_a:"midxready",z1a:"sidxready",rva:"ready",ERROR:"error"};fa=c.LRb={i_a:"midxdownloaderror",j_a:"midxparseerror",L_a:"nosidxfoundinmidx",x1a:"sidxdownloaderror",y1a:"sidxparseerror"};c.prototype=Object.create(u.prototype);c.prototype.constructor=c;c.prototype.start=function(){var a;if(this.ei)this.Bb.warn("midx was prefectched and provided"),q.call(this);else{a={url:this.Xk,offset:this.Qd,size:this.xE,responseType:"binary"};this.Bb.warn("downloading midx...");this.NK(a,t.bind(this));}};c.prototype.close=function(){};c.prototype.hk=function(a){this.kU&&T.assert(a,this.Bb);};c.prototype.Hx=function(a,b){return r.call(this,a,b);};c.prototype.bfa=function(a,b){return(a=this.Hx(a,b))?a.length:a;};d.R=c;},function(d,b,a){var m;function c(a,b){return b.reduce(k.bind(this,a),[]);}function k(a,b,c){var h,f;h=c.displayTime-a;a=c.displayTime+c.duration-a;f=0<b.length?b[0].timeout:Infinity;return 0<h&&h<f?[{timeout:h,type:"showsubtitle",oe:c}]:h===f?b.concat([{timeout:h,type:"showsubtitle",oe:c}]):0<a&&a<f?[{timeout:a,type:"removesubtitle",oe:c}]:a===f?b.concat([{timeout:a,type:"removesubtitle",oe:c}]):b;}m=a(125).EventEmitter;b=a(272)({});a=function q(a,b,c){if(!(this instanceof q))return new q(a,b,c);m.call(this);this.mt=a;this.o4a=b;this.Bt={};this.yE={};this.Bb=c||console;this.CT=!1;};a.prototype=Object.create(m.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.Wk);Object.keys(a.Bt).forEach(function(b){a.emit("removesubtitle",a.Bt[b]);});a.Bt={};};a.prototype.pause=function(){clearTimeout(this.Wk);};a.prototype.Cq=function(a,b){var h,f;h=this;f=h.mt();clearTimeout(this.Wk);a=h.o4a(f);null!==a&&h.CT&&(h.CT=!1,h.emit("bufferingComplete"));b="number"===typeof b?b:0;Object.keys(h.Bt).forEach(function(a){a=h.Bt[a];a.displayTime<=f&&f<a.displayTime+a.duration||(delete h.Bt[a.id],h.emit("removesubtitle",a));});Object.keys(h.yE).forEach(function(a){a=h.yE[a];f>=a.displayTime+a.duration&&delete h.yE[a.id];});null!==a&&0<a.length?(b=a.length,h.Bb.info("found "+b+" entries for pts "+f),a.forEach(function(a){a.displayTime<=f&&f<a.displayTime+a.duration&&!h.Bt[a.id]&&(h.emit("showsubtitle",a),h.Bt[a.id]=a,delete h.yE[a.id]);}),b=a[a.length-1],h.Bt[b.id]||h.yE[b.id]||(h.emit("stagesubtitle",b),h.yE[b.id]=b),b=c(f,a),0<b.length?h.NU(b[0].timeout):h.NU(2E4)):null===a?(a=250*Math.pow(2,b),2E3<a&&(a=2E3),h.Bb.warn("checking buffer again in "+a+"ms"),h.CT||(h.CT=!0,h.emit("underflow")),h.NU(a,b+1)):h.NU(2E4);};a.prototype.NU=function(a,b){var c;c=this;c.Bb.trace("Scheduling pts check.");c.Wk=setTimeout(function(){c.Cq(c.mt(),b);},a);};d.R=b(["function","function","object"],a);},function(d,b,a){var q,l,h;function c(a){var b;b=1;"dfxp-ls-sdh"===this.DU&&(b=a.uQb.length);this.Bb.info("show subtitle called at "+this.mt()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.Cw[this.Cw.length-1].h1+=b;}function k(a){this.Bb.info("remove subtitle called at "+this.mt()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function m(){this.Bb.info("underflow fired by the subtitle timer");this.emit("underflow");}function t(){this.Bb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}q=a(125).EventEmitter;l=a(553);b=a(272)();h=a(552);a=function p(a,b){var d,g;d=this;g=a.Lh||!1;if(!(d instanceof p))return new p(a,b);q.call(d);d.Bb=a.ka||console;d.NK=a.request;d.mt=a.VHa;d.Wk=null;d.ut=!0;d.Cw=[];d.DU=b.profile;d.Xk=b.url;d.EU=b.Rc;d.v6a=b.Zxb;d.I3a=b.Wl;a={url:d.Xk,request:d.NK,Rc:d.EU,xml:b.xml,Zxb:d.v6a,Wl:d.I3a,ka:d.Bb,Lh:g,bufferSize:b.bufferSize,crypto:b.crypto,key:b.key,kq:b.kq};if("nflx-cmisc"===d.DU)a.offset=b.e_,a.size=b.eia,d.Hd=new h(a);else if("nflx-cmisc-enc"===d.DU)a.version=2,a.offset=b.e_,a.size=b.eia,d.Hd=new h(a);else throw Error("SubtitleManager: "+d.DU+" is an unsupported profile");d.Hd.on("ready",function(){var a,h;a=!!b.r$a;d.Bb.info("ready event fired by subtitle stream");d.emit("ready");h=d.Hd.Okb.bind(d.Hd);d.Wk=new l(d.mt,h,d.Bb);d.Wk.on("showsubtitle",c.bind(d));d.Wk.on("removesubtitle",k.bind(d));d.Wk.on("underflow",m.bind(d));d.Wk.on("bufferingComplete",t.bind(d));a&&(d.Bb.info("autostarting subtitles"),setTimeout(function(){d.Cq(d.mt());},10));});d.Hd.on("error",d.emit.bind(d,"error"));};a.prototype=Object.create(q.prototype);a.prototype.start=function(){this.Hd.start();};a.prototype.Cq=function(a){this.ut&&(this.ut=!1,this.Bb.info("creating a new subtitle interval at "+a),this.Cw.push({S:a,h1:0}));null!==this.Wk&&this.Wk.Cq(a);};a.prototype.stop=function(){var a;this.mt();this.Bb.info("stop called");this.ut||this.pause();this.Hd.removeAllListeners(["ready"]);null!==this.Wk&&this.Wk.stop();a=this.Cw.reduce(function(a,b){a.ARa+=b.h1;a.Qp+=b.BFa;a.Dpb.push(b);return a;},{ARa:0,Qp:0,Dpb:[]});"object"===typeof this.Hd&&this.Hd.close();this.Bb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.mt();if(this.ut)this.Bb.warn("pause called on subtitle manager, but it was already paused!");else{this.Bb.info("pause called at "+a);this.ut=!0;this.Bb.info("ending subtitle interval at "+a);b=this.Cw[this.Cw.length-1];b.ja=a;b.ja<b.S&&(this.Bb.warn("correcting for interval where endPts is smaller than startPts"),b.S=0<b.ja?b.ja-1:0);b.BFa=this.Hd.bfa(b.S,b.ja);this.Bb.info("showed "+b.h1+" during this interval");this.Bb.info("expected "+b.BFa+" for this interval");}null!==this.Wk&&this.Wk.pause();};a.prototype.Hx=function(a,b){return this.Hd.Hx(a,b);};a.prototype.bfa=function(a,b){return this.Hd.bfa(a,b);};a=b([{request:"function",VHa:"function",ka:"object"},"object"],a);d.R=a;},function(d,b,a){var c,k,m,t,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Ana=void 0;c=a(0);k=a(1);m=a(32);t=a(36);q=a(40);l=a(28);h=a(237);d=function(){var b;function a(a,b,c,f){a=q.ae.call(this,a,void 0===f?"AppInfoConfigImpl":f)||this;a.config=b;a.N1=c;return a;}ca(a,q.ae);a.prototype.jmb=function(a){return""+this.pFa+(this.N1.Ala(a)?"/msl_v1":"");};a.prototype.rmb=function(a){return""+this.host+(this.N1.Ala(a)?"/msl":"")+"/playapi";};na.Object.defineProperties(a.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},pFa:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.FF){case m.Os.P1a:a="www.stage";break;case m.Os.Mwa:a="www-qa.test";break;case m.Os.Gra:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}},ZBa:{configurable:!0,enumerable:!0,get:function(){return"pbo_events";}}});b=a;c.__decorate([t.config(t.string,"apiEndpoint")],b.prototype,"endpoint",null);c.__decorate([t.config(t.string,"nqEndpoint")],b.prototype,"pFa",null);c.__decorate([t.config(t.string,"bindService")],b.prototype,"ZBa",null);return b=c.__decorate([k.N(),c.__param(0,k.l(l.Ci)),c.__param(1,k.l(m.Kk)),c.__param(2,k.l(h.IJ)),c.__param(3,k.l(l.Yy)),c.__param(3,k.optional())],b);}();b.Ana=d;},function(d,b,a){var c,k,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.oBa=void 0;c=a(555);k=a(115);d=a(1);m=a(100);t=a(15);b.oBa=new d.Dc(function(a){a(k.Qy).to(c.Ana).Z();});b.profile=new d.Dc(function(a){a(m.BJ).Ly(function(a){return(a=a.jb.get(t.dd)())&&a.Cr?"browsertest":"browser";});});},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.KOa=void 0;c=a(2);k=[c.J.kZa,c.J.ora,c.J.mra,c.J.nra,c.J.sra,c.J.ira,c.J.gra,c.J.y4,c.J.tra,c.J.jra,c.J.hZa,c.J.iZa,c.J.hra,c.J.Tv,c.J.dra,c.J.fra,c.J.qra,c.J.sZa,c.J.rra,c.J.lZa,c.J.nZa,c.J.rZa,c.J.pZa,c.J.oZa,c.J.mZa,c.J.qZa,c.J.pra,c.J.lra,c.J.kra,c.J.era];(function(a){a.S_a=function(a){var f;for(var b={},h=0;h<a.length;h++){f=a[h];if(b[f.errorCode])return{errorCode:f.errorCode,da:c.u.OUa};b[f.errorCode]=1;}};a.T_a=function(a){var h;for(var b=0;b<a.length;b++){h=a[b];if(-1===k.indexOf(h.errorCode))return{errorCode:h.errorCode,da:c.u.PUa};}};}(m||(m={})));b.KOa=function(a){return new Promise(function(b,c){var h;h=m.T_a(a);h&&c(h);(h=m.S_a(a))&&c(h);b(a.sort(function(a,b){return k.indexOf(a.errorCode)-k.indexOf(b.errorCode);}));});};},function(d,b,a){var c,k,m,t,q,l,h,f,p,g,H,n,E,G;Object.defineProperty(b,"__esModule",{value:!0});b.Vna=void 0;c=a(0);k=a(69);m=a(2);t=a(557);q=a(52);l=a(1);h=a(8);f=a(15);p=a(63);g=a(3);H=a(86);n=a(273);E=a(25);G=a(10);d=function(){var b;function a(a,b,c,f,h,d){var p;p=this;this.Zi=a;this.config=c;this.Ak=f;this.debug=h;this.qa=d;this.RSa=[];this.ld={};this.log=b.xb("loadAsync");this.Fsb=n.Dqa(function(a){p.Wzb=!0;p.startTime=p.qa.Zb().ca(g.ha);p.load(p.RSa).then(function(){p.endTime=p.qa.Zb().ca(g.ha);a(G.rd);})["catch"](function(b){p.endTime=p.qa.Zb().ca(g.ha);a(b);});});}a.prototype.PN=function(a){this.Fsb(a);};a.prototype.register=function(a,b){this.debug.assert(!this.Wzb);this.RSa.push({Rrb:this.Kab(b),errorCode:a});};a.prototype.cd=function(a){this.debug.assert(void 0===this.ld[a]);this.ld[a]=this.qa.Zb().ca(g.ha);};a.prototype.load=function(a){var b;b=this;return t.KOa(a).then(function(a){b.Zi.mark(q.Od.bi.UUa);return a.reduce(function(a,c){return a.then(function(){return b.Nrb(c);});},Promise.resolve()).then(function(){b.Zi.mark(q.Od.bi.SUa);});});};a.prototype.Nrb=function(a){var b,c;b=this;c=a.Rrb;return this.Ak.wm(g.Gb(this.config().V9a),c())["catch"](function(c){b.log.error("Failed to load component "+a.errorCode,c);b.Zi.mark(q.Od.bi.TUa);if(c instanceof p.Rm)throw{da:m.u.RUa,errorCode:a.errorCode};c.errorCode=c.errorCode||a.errorCode;c.da=c.da||m.u.QUa;throw c;});};a.prototype.Kab=function(a){return function(){return new Promise(function(b,c){a(function(a){a.aa?b():c(a);});});};};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(k.nw)),c.__param(1,l.l(h.Ab)),c.__param(2,l.l(f.dd)),c.__param(3,l.l(p.hw)),c.__param(4,l.l(H.Jq)),c.__param(5,l.l(E.Se))],b);}();b.Vna=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.GBa=void 0;d=a(1);c=a(558);k=a(26);b.GBa=new d.Dc(function(a){a(k.Gf).to(c.Vna).Z();});},function(d,b,a){var k,m,t,q,l,h;function c(a,b,c,h,d,m,q,g,n,r){var f;f=l.nJ.call(this,b,c,n,r)||this;f.Dj=a;f.ka=h;f.he=d;f.qa=m;f.Hxb=q;f.QF=!1;f.Dja=Promise.resolve();f.bMa=g.uba({Nea:function(){return t.Gb(100);}},function(){return f.Jh().SX()||0;});f.Jb.addListener(k.ub.loaded,function(){return f.nH();});return f;}Object.defineProperty(b,"__esModule",{value:!0});b.kwa=void 0;k=a(12);m=a(181);t=a(3);q=a(2);l=a(274);h=a(278);ca(c,l.nJ);c.prototype.zO=function(){this.nH();};c.prototype.oNa=function(){};c.prototype.uIa=function(a){var b,c,f,h,d;b=this.Jc.Sg(a);if(this.Dj.a2&&this.Jc.fa.oa===b.oa)return Promise.resolve(this.Jh().seek(b.kf,k.ze.Xs,void 0));c=this.zl.qY(b.oa);f=this.Jh().Kr();if(c.state!==m.$n.t3){h=c.state===m.$n.Error?c.error:this.he(q.J.t0a,{nb:a});f.Knb({oa:b.oa,La:a,Ua:c.fb||{}},h);f.oo("Transition "+this.Jc.sg+"->"+a+" error "+h.KA);return Promise.reject();}b=f.Eb;if(!b)throw this.ka.debug("No streaming session. Aborting transition"),Error("No streaming session");this.ka.debug("going to next segment: "+this.Jc.sg+" -> "+a);f.oo("Transition "+this.Jc.sg+"->"+a);d=f.wu(a);d.Gk=this.qa.Zb().ca(t.ha);return(void 0!==b.QX(a)?this.Lnb(a,d.G):this.vP(a,d.G)).then(function(){f.hGa(d.G);});};c.prototype.vP=function(a,b){var c;c=this.Jc.Ej.Ta[a].kf;this.ka.debug("Segment is not pre-buffered - performing a regular seek");this.Jh().Kr().oo("NO DATA "+a+", SEEKING "+c+", viewableId: "+b);return Promise.resolve(this.Jh().seek(c,k.ze.Xs,a,!0));};c.prototype.Lnb=function(a,b){var c,f,h,d,p;c=this;f=this.Jh().Kr();h=f.Eb;if(!h)throw Error("No streaming session");d=new Promise(function(a){function b(){c.ka.debug("Stopped ASE");h.removeEventListener("stop",b);a();}h.addEventListener("stop",b);});p=new Promise(function(a){function b(){c.ka.debug("Repositioned");f.removeEventListener(k.U.Zo,b);a();}function d(){c.ka.debug("Repositioning");f.removeEventListener(k.U.us,d);h.stop();}f.addEventListener(k.U.us,d);f.addEventListener(k.U.Zo,b);});d=Promise.all([d,p]).then(function(){if(!h.cu(a,!1,!0))return f.oo("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),c.vP(a,b);f.fireEvent(k.U.w_,{sg:c.Jc.sg,tO:a});});p=h.YL(void 0,this.Jc.Ej.Ta[a].kf,a);this.ka.debug("Calling seek on internal player to "+p);this.Jh().seek(p,k.ze.zz,a,!0);return d;};c.prototype.Eja=function(a){if(!this.QF)return this.QF=!0,l.nJ.prototype.Eja.call(this,a);this.nH();this.Dja=this.Jh().Kr().Nb.when(function(a){return a!==k.ib.Vf;}).then(function(){});return this.zl.qY(a.G).nzb;};c.prototype.nH=function(){var a,b;a=this;if(this.isReady()){this.bMa.cancel();b=this.Hxb.wDb();b.result===h.Zn.Pra?this.bMa.observe(b.Ji,function(){a.nH();}):b.result===h.Zn.O7&&this.iyb(b.kUa);}};c.prototype.iyb=function(a){var c,f,h,d,l,m,t;function b(a){a.G===l&&(c.Jc.sg=f,c.nH(),d.removeEventListener(k.U.No,b),c.Jb.Ub(k.wz.yP));}c=this;f=a.La;h=this.Jc.Sg(f);d=this.Jh().Kr();a=Object.assign(this.zl.qY(a.oa).fb||{},{S:h.kf,ja:h.ug,Oi:!1,Q1:Date.now(),qZ:!0});l=d.v$({oa:h.oa,La:f,Ua:a});m=d.cm(l);this.ka.debug("Creating new playback xid: "+m.ga+", movieId: "+m.G);d.addEventListener(k.U.No,b);t="pauseAtStart"!==h.ke;this.zl.ICb(h.oa);d.oo("queueManifest",m.La);this.Dja=a=this.Dja.then(function(){return d.Xyb(l,t);}).then(function(){d.oo("queueManifest done",m.La);c.zl.bRa(h.oa);d.byb(m);})["catch"](function(a){d.oo("queueManifest error "+a.KA,m.La);c.zl.HCb(h.oa,a);throw a;});a.then(function(){return c.nH();});};b.kwa=c;},function(d,b,a){var c,k,m,t,q,l,h,f,p,g,H,n;Object.defineProperty(b,"__esModule",{value:!0});b.Yua=void 0;c=a(0);k=a(1);m=a(60);t=a(25);q=a(120);l=a(560);h=a(454);f=a(245);p=a(15);g=a(274);H=a(246);n=a(29);d=function(){var b;function a(a,b,c,f,h,d,p,l){this.qa=a;this.he=b;this.NBb=f;this.Dj=d;this.ey=p;this.pm=l;this.LBb=c.Cx(!1,"6.0023.745.051",a.id,l,h);}a.prototype.create=function(a,b,c,f,h){var d,p;d=this.NBb.Geb(this.LBb);p=this.Dj.Z1||this.Dj.ZTa&&1<Object.keys(a.Ej.Ta).length;c.debug("Using "+(p?"single":"multiple")+" player playback strategy");return p?new l.kwa(this.Dj,a,b,c,this.he,this.qa,f,this.ey,d,h):new g.nJ(a,b,d,h);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(t.Se)),c.__param(1,k.l(m.Mk)),c.__param(2,k.l(h.b7)),c.__param(3,k.l(f.fT)),c.__param(4,k.l(p.dd)),c.__param(5,k.l(q.DD)),c.__param(6,k.l(H.mS)),c.__param(7,k.l(n.AD))],b);}();b.Yua=d;},function(d,b,a){var c,k,m,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Sua=void 0;c=a(0);k=a(1);m=a(40);t=a(28);q=a(36);l=a(3);d=function(){var b;function a(a){return m.ae.call(this,a,"PlaygraphConfigImpl")||this;}ca(a,m.ae);na.Object.defineProperties(a.prototype,{FOa:{configurable:!0,enumerable:!0,get:function(){return 2;}},EOa:{configurable:!0,enumerable:!0,get:function(){return l.oO(3);}},Z1:{configurable:!0,enumerable:!0,get:function(){return!1;}},a2:{configurable:!0,enumerable:!0,get:function(){return!1;}},ZTa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});b=a;c.__decorate([q.config(q.Gv,"prepareSegmentsUpfront")],b.prototype,"FOa",null);c.__decorate([q.config(q.Vg,"prepareSegmentsDuration")],b.prototype,"EOa",null);c.__decorate([q.config(q.vd,"usePlaygraphForPostPlay")],b.prototype,"Z1",null);c.__decorate([q.config(q.vd,"usePlaygraphForSkipSegment")],b.prototype,"a2",null);c.__decorate([q.config(q.vd,"useSinglePlayerPlayback")],b.prototype,"ZTa",null);return b=c.__decorate([k.N(),c.__param(0,k.l(t.Ci))],b);}();b.Sua=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Tua=void 0;c=a(0);k=a(1);m=a(142);d=function(){var b;function a(){}a.prototype.Qeb=function(a){var d,l,k;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];d=this;if(0===b.length)throw Error("Empty playgraph");l=new m.QS().pla(this.JX(b[0]));b.reverse().forEach(function(a){var b;b=d.JX(a);l.Cp(b,Object.assign({oa:a,kf:0},k?{bl:k}:{}));k=b;});return l.ck();};a.prototype.JX=function(a,b){return a+":[startPts:"+(void 0===b?0:b)+"]";};a.prototype.s9a=function(a,b){var c,h,d,l;c=void 0===c?this.JX(b.G,b.S):c;h=void 0===h?"pauseAtStart":h;d=this.Mlb(a);l=new m.QS(a);l.Cp(c,{oa:b.G,kf:b.S||0,ke:h});a=a.Ta[d];b={};l.Cp(d,Object.assign({},a,{bl:c,next:Object.assign({},a.next||{},(b[c]={},b))}));return l.ck();};a.prototype.Mlb=function(a){for(var b=a.Kh,c=b;c=a.Ta[c].bl;)b=c;return b;};b=a;return b=c.__decorate([k.N()],b);}();b.Tua=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.bva=void 0;c=a(0);k=a(1);d=function(){var d;function b(){}b.prototype.create=function(b,c,h){return new(a(275)).rxa(b,c,h);};d=b;return d=c.__decorate([k.N()],d);}();b.bva=d;},function(d,b,a){var k,m;function c(a,b,c){this.Dj=a;this.Cf=b;this.zl=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Zua=void 0;k=a(3);m=a(278);c.prototype.wDb=function(){var a,b,c,h,f;a=this.zl.zMa;if(!a)return{result:m.Zn.qJ};b=this.Cf.Jc;if(b.sg===a.La)return{result:m.Zn.O7,kUa:a};c=this.Tmb(b,b.sg,a.La);if(!c)return{result:m.Zn.qJ};h=c.duration;if(c.ku>=this.Dj.FOa)return{result:m.Zn.qJ};c=this.cHa(b.sg);if(!c)return{result:m.Zn.qJ};b=this.Cf.Jh().SX()||0;c=Math.max(0,c-b);h=c+h;f=this.Dj.EOa.ca(k.ha);if(h<=f)return{result:m.Zn.O7,kUa:a};a=h-f;return c<a?{result:m.Zn.qJ}:{result:m.Zn.Pra,Ji:b+a};};c.prototype.Tmb=function(a,b,c){var d,l,f;b=a.$M(b);for(var h=0,f=0;b!==c&&void 0!==b;){h++;d=a.Sg(b);l=this.cHa(b)||Infinity;f=f+(l-d.kf);b=a.$M(b);}return b?{ku:h,duration:f}:void 0;};c.prototype.cHa=function(a){var b,c;b=this.Cf.Jc;c=b.cIa(a);if(void 0!==c)return c;a=b.Sg(a);if(a=this.Cf.cm(a.oa))return a.yr.ca(k.ha);};b.Zua=c;},function(d,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Wua=void 0;k=a(142);c.prototype.RFb=function(a){var b;if(!this.uqb(a.Ta))return a;b=new k.QS().pla(a.Kh);Object.keys(a.Ta).forEach(function(c){c===a.Kh?b.Cp(c,Object.assign(Object.assign({},a.Ta[c]),{next:void 0,ug:void 0,bl:void 0})):b.Cp(c,a.Ta[c]);});return b.ck();};c.prototype.uqb=function(a){var b;b=Object.keys(a).map(function(b){return a[b].oa;});return 1===new Set(b).size;};b.Wua=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(){}a.decode=function(b){return Object.assign({initialSegment:b.Kh,segments:a.Gfb(b.Ta)},void 0!==b.ke?{transitionType:b.ke}:{});};a.encode=function(b){return Object.assign({Kh:b.initialSegment,Ta:a.Qhb(b.segments)},void 0!==b.transitionType?{ke:b.transitionType}:{});};a.MSb=function(a){return void 0!==a.Kh&&void 0!==a.Ta;};a.SSb=function(a){return void 0!==a.oa&&void 0!==a.kf;};a.Qhb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Phb(b[d]);return c;},{});};a.Phb=function(b){return Object.assign({oa:b.viewableId,kf:b.startTimeMs},b.endTimeMs?{ug:b.endTimeMs}:{},b.defaultNext?{bl:b.defaultNext}:{},b.transitionType?{ke:b.transitionType}:{},b.next?{next:a.Nhb(b.next)}:{},b.transitionDelayZones?{M1:b.transitionDelayZones}:{});};a.Nhb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Ohb(b[d]);return c;},{});};a.Ohb=function(a){return Object.assign({},void 0!==a.weight?{weight:a.weight}:{},a.transitionType?{ke:a.transitionType}:{});};a.Gfb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Ffb(b[d]);return c;},{});};a.Ffb=function(b){return Object.assign({viewableId:b.oa,startTimeMs:b.kf},b.ug?{endTimeMs:b.ug}:{},b.bl?{defaultNext:b.bl}:{},b.ke?{transitionType:b.ke}:{},b.next?{next:a.Dfb(b.next)}:{},b.M1?{transitionDelayZones:b.M1}:{});};a.Dfb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Efb(b[d]);return c;},{});};a.Efb=function(a){return Object.assign({},void 0!==a.weight?{weight:a.weight}:{},a.ke?{transitionType:a.ke}:{});};return a;}();b.$0a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){a&&(this.pla(a.Kh),this.bDb(a.ke),this.WCb(a.Ta));}a.prototype.pla=function(a){this.Kh=a;return this;};a.prototype.bDb=function(a){this.ke=a;};a.prototype.Cp=function(a,b){this.Ta||(this.Ta={});this.Ta[a]=this.iEa(b);return this;};a.prototype.WCb=function(a){var b;b=this;this.Ta={};Object.keys(a).forEach(function(c){return b.Cp(c,a[c]);});};a.prototype.ck=function(){if(!this.Ta)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Kh)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.Ta[this.Kh])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");return Object.assign({Kh:this.Kh,Ta:this.Ta},this.ke?{ke:this.ke}:{});};a.prototype.iEa=function(a){var b;b=this;return a&&"object"===typeof a?Object.keys(a).reduce(function(c,d){c[d]="object"===typeof a[d]?b.iEa(a[d]):a[d];return c;},{}):a;};return a;}();b.QS=d;},function(d,b,a){var k;function c(a){this.uU={};this.Lla={};this.FTa=[];this.GRa=[];this.Ej=a;this.sg=a.Kh;}Object.defineProperty(b,"__esModule",{value:!0});b.ava=void 0;k=a(142);c.prototype.KP=function(a){var d;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];d=this;b.filter(function(a){return d.xP(a.La);}).filter(function(a){a=a.tO;return!a||d.xP(a);}).forEach(function(a){d.uU[a.La]=d.Iia(a.tO);});};c.prototype.DBa=function(a){var b;b=this;a.filter(function(a){return b.xP(a);}).forEach(function(a){b.uU[a]=b.Iia(b.Sg(a).bl);});};c.prototype.kp=function(a,b){var c,d,h;c=this.Sg(a);if(c&&c.next){d=new k.QS(this.Ej);h=Object.keys(c.next).reduce(function(a,h){a[h]=void 0===b[h]?c.next[h]:Object.assign({},c.next[h],{weight:b[h]});return a;},{});h=Object.assign({},c,{next:h});d.Cp(a,h);this.Ej=d.ck();}};c.prototype.xP=function(a,b){b=void 0===b?this.Ej.Ta:b;return a in b;};c.prototype.$M=function(a){return this.uU[a];};c.prototype.Sg=function(a){return this.Ej.Ta[a];};c.prototype.cIa=function(a){return void 0===this.Lla[a]?this.Iia(this.Sg(a).ug):this.Lla[a];};c.prototype.OGb=function(a,b){this.Lla[a]=b;this.jvb(a);};c.prototype.EEb=function(a){this.FTa.push(a);};c.prototype.FEb=function(a){this.GRa.push(a);};c.prototype.lvb=function(){var a;a=this;this.FTa.forEach(function(b){return b(a.Ej);});};c.prototype.jvb=function(a){this.GRa.forEach(function(b){return b(a);});};c.prototype.Iia=function(a){return null===a?void 0:a;};na.Object.defineProperties(c.prototype,{Ej:{configurable:!0,enumerable:!0,get:function(){return this.u6a;},set:function(a){if(this.sg&&!this.xP(this.sg,a.Ta))throw Error("Provided playgraphMap does not contain the current segmentId "+this.sg);this.u6a=a;this.uU={};a=Object.keys(a.Ta);this.DBa(a);this.lvb();}},sg:{configurable:!0,enumerable:!0,get:function(){return this.E3a;},set:function(a){if(!this.xP(a))throw Error("Provided currentSegmentId "+a+" does not exist in the current playgraph");this.E3a=a;}},fa:{configurable:!0,enumerable:!0,get:function(){return this.Sg(this.sg);}}});b.ava=c;},function(d,b,a){var k;function c(a){this.Ag=a;this.Js={};this.zO();}Object.defineProperty(b,"__esModule",{value:!0});b.cva=void 0;k=a(181);c.prototype.zO=function(){var a,b;a=this;b=this.Ag.Ej.Ta;Object.keys(b).map(function(c){var d,h;c=b[c].oa;if(!a.Js[c]){d=void 0;h=new Promise(function(a,b){d=function(c){(c?a:b)();};});a.Js[c]={state:k.$n.sta,nzb:h,fQa:d};}});this.T1();};c.prototype.qY=function(a){return this.Js[a];};c.prototype.ICb=function(a){this.Js[a].state=k.$n.yqa;this.T1();};c.prototype.HCb=function(a,b){a=this.Js[a];a.state=k.$n.Error;a.error=b;a.fQa(!1);this.T1();};c.prototype.bRa=function(a){a=this.Js[a];a.state=k.$n.t3;a.fQa(!0);this.T1();};c.prototype.K8a=function(a,b){this.Js[a].fb=b;};c.prototype.T1=function(){var b;this.zMa=void 0;for(var a=this.Ag.sg;a=this.Ag.$M(a);){b=this.ifa(a);if(this.Js[b].state===k.$n.Error)break;if(this.Js[b].state===k.$n.yqa)break;if(this.Js[b].state===k.$n.sta){this.zMa={oa:b,La:a};break;}}};c.prototype.ifa=function(a){return this.Ag.Ej.Ta[a].oa;};b.cva=c;},function(d,b,a){var k,m,g,q,l,h;function c(a,b,c,d,k,m,t){this.PO=d;this.Cma=m;this.QF=!1;k.a2&&(a=new l.Wua().RFb(a));this.Jc=new q.ava(a);this.zl=new g.cva(this.Jc);this.zl.bRa(this.Jc.fa.oa);this.log=b.xb("PlaygraphManager");a=new h.Zua(k,this,this.zl);this.Jb=c.create();this.ly=t.create(this.Jc,this.zl,this.log,a,this.Jb);this.lDb();}Object.defineProperty(b,"__esModule",{value:!0});b.Vua=void 0;k=a(12);m=a(181);g=a(570);q=a(569);l=a(566);h=a(565);c.prototype.TX=function(){return this.Jc.fa;};c.prototype.SGa=function(){return this.Jc.sg;};c.prototype.ymb=function(){return this.Jc.Ej;};c.prototype.KP=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.Jc.KP.apply(this.Jc,[].concat(ea(b)));};c.prototype.Cbb=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.Jc.DBa(b);};c.prototype.JGb=function(a){this.Jc.Ej=a;};c.prototype.kp=function(a,b){this.Jc.kp(a,b);};c.prototype.kfa=function(a,b,c){if(a!==this.Jc.sg)throw Error("Invalid currentSegmentId");if(b!==this.Jc.$M(a))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: "+a+" -> "+b);return this.ly.uIa(b,c);};c.prototype.isReady=function(){return this.ly.isReady();};c.prototype.addListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.zn=function(){return this.ly.zn();};c.prototype.Jh=function(){return this.ly.Jh();};c.prototype.Cp=function(a){var b,c;b=this;this.log.info("Adding segment - movieId: "+a.G+", startPts: "+a.S+", logicalEnd: "+(""+a.Hn));if(this.QF){c=Object.keys(this.Jc.Ej.Ta).find(function(c){return b.Jc.Ej.Ta[c].oa===a.G;});if(c)return a.Hn&&this.Jc.OGb(c,a.Hn),null;c=this.PO.s9a(this.Jc.Ej,a);this.Jc.Ej=c;this.Jh().Kr().oo("addSegment movieId: "+a.G+", startPts: "+a.S+", logicalEnd: "+a.Hn);this.zl.K8a(a.G,a.fb);}c=this.ly.Eja(a);this.QF||(this.Jh().Kr().addEventListener(k.U.T0,function(a){return b.Tia(a);}),this.QF=!0);return c;};c.prototype.transition=function(a){var b;b=this.Jc.$M(this.Jc.sg);return b?this.kfa(this.Jc.sg,b,a):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(a){return this.ly.close(a);};c.prototype.cm=function(a){if(this.zl.qY(a).state==m.$n.t3)return this.Jh().Kr().cm(a);};c.prototype.lDb=function(){var a;a=this;this.Jc.EEb(function(){a.zl.zO();a.ly.zO();});this.Jc.FEb(function(b){a.ly.oNa(b);});this.addListener(k.wz.yP,function(){return a.Xvb();});};c.prototype.Xvb=function(){var a;a=this.Jh().getError();a?this.Jb.Ub(k.ub.taa,a):(this.Jb.Ub(k.ub.KBa),this.Jb.Ub(k.ub.qL),this.Jb.Ub(k.ub.EC),this.Jb.Ub(k.ub.iI),this.Jb.Ub(k.ub.qQ),this.Jb.Ub(k.ub.taa));};c.prototype.Tia=function(a){var b,c,f;b=a.metrics;if(b){c=this.Jh().Kr();f=c.wu(a.segmentId);b=c.wu(b.srcsegment);this.Cma.Eyb(a,f,b);}};b.Vua=c;},function(d,b,a){var c,k,m,g,q,l,h,f,p;Object.defineProperty(b,"__esModule",{value:!0});b.Uua=void 0;c=a(0);k=a(1);m=a(571);g=a(8);q=a(120);l=a(458);h=a(277);f=a(180);p=a(451);d=function(){var b;function a(a,b,c,f,h,d){this.Af=a;this.Xca=b;this.Dj=c;this.PO=f;this.Cma=h;this.Gxb=d;}a.prototype.create=function(a){return new m.Vua(a,this.Af,this.Xca,this.PO,this.Dj,this.Cma,this.Gxb);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(g.Ab)),c.__param(1,k.l(l.bD)),c.__param(2,k.l(q.DD)),c.__param(3,k.l(f.AJ)),c.__param(4,k.l(p.u7)),c.__param(5,k.l(h.H6))],b);}();b.Uua=d;},function(d,b,a){var c,k,m,g,q,l,h,f,p,y;Object.defineProperty(b,"__esModule",{value:!0});b.Cf=void 0;d=a(1);c=a(279);k=a(572);m=a(276);g=a(564);q=a(180);l=a(563);h=a(562);f=a(120);p=a(277);y=a(561);b.Cf=new d.Dc(function(a){a(c.G6).to(k.Uua).Z();a(m.I6).to(g.bva).Z();a(q.AJ).to(l.Tua).Z();a(f.DD).to(h.Sua).Z();a(p.H6).to(y.Yua).Z();});},function(d,b,a){var c,k,m,g,q,l,h,f,p,y,H;Object.defineProperty(b,"__esModule",{value:!0});b.Tra=void 0;c=a(0);k=a(2);m=a(5);g=a(111);q=a(46);l=a(9);h=a(1);f=a(193);p=a(30);y=a(280);H=a(87);d=function(){var d;function b(a,b,c,f,h){c=y.GI.call(this,c,f,h)||this;c.config=a;c.Bc=b;c.log=m.Rg(c.j,"LegacyLicenseBroker");c.Yd=c.config().Yd;c.config().Mja?q.TJa()?c.b2=!0:c.log.error("Promise based eme requested but platform does not support it",{browserua:l.El}):c.b2=!1;return c;}ca(b,y.GI);b.prototype.IDa=function(a){var b;b=void 0===b?this.j:b;return new this.LO.az(a,function(a){return b.WL.YM(a);},function(a){return b.WL.release(a);},{Lh:!1,CN:!1});};b.prototype.aM=function(b,c){var f,h,d,p,l,q;c=void 0===c?this.j:c;f=this;p=a(38).Qg;this.LO.az||this.Sd(k.J.jz,k.u.SXa);d=m.Rg(c,"Eme");h=this.IDa(d);l=m.Y.get(g.Cz);q=l.$L(c.ed.value.dc);l=l.eM(c.mg.value.dc);return this.LO.cz(d,b,function(a){return c.cd(a);},{Lh:!1,CN:!1,XJa:this.config().vi,FQa:{OLa:this.config().EQa,JCa:this.config().Uka},Ia:{getTime:p},vy:h,ROa:!!this.b2,bb:this.Fb.bb,NC:this.config().Eca,onerror:function(a,b,c){return f.Sd(a,b,c);},Fia:function(a){return f.xY(a);},uxb:!0,JBa:q,fUa:l,lG:this.config().lG});};b.prototype.nC=function(a){var b;b=this;return this.b2?new Promise(function(c,f){if(b.Fb.bb)b.Fb.bb.setMediaKeys(a).then(function(){c();})["catch"](function(a){var c;c=b.sIa(a);f({aa:!1,code:k.J.T5,ad:c.da,mh:c.Vd,nb:c.nb,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};b.prototype.wFa=function(a){return{code:a.code,subCode:a.ad,extCode:a.mh,edgeCode:a.yF,message:a.message,errorDetails:a.nb,errorData:a.eX,state:a.state};};b.prototype.qla=function(a,b,c){var h,d,p;function f(){d.jP()["catch"](function(a){h.log.error("Unable to set the license",h.wFa(a));a.cause&&a.cause.nb&&(a.nb=a.nb?a.nb+a.cause.nb:a.cause.nb);h.Sd(a.code,a,a.mh);});}c=void 0===c?this.j:c;h=this;d=c.wf;this.log.info("Setting the license");p=b?function(){return Promise.resolve();}:function(){return d.pi(h.vea(),a);};return(b?function(){return d.N$(h.Fb.bb);}:function(){return d.create(h.Yd).then(function(){return Promise.resolve();});})().then(function(){return h.config().fRa?h.nC(d.nl):Promise.resolve();}).then(p).then(function(){return h.config().fRa?Promise.resolve():h.nC(d.nl);}).then(function(){h.log.info("license set");h.tX(c.G);h.Fb.qUa.then(function(){h.config().Vx&&(b||h.config().HM)&&(h.NPa=M.setTimeout(f,h.config().Vx));});})["catch"](function(a){h.log.error("Unable to set the license",h.wFa(a));a.cause&&a.cause.nb&&(a.nb=a.nb?a.nb+a.cause.nb:a.cause.nb);if(b)throw Error(a&&a.message?a.message:"failed to set license");h.Sd(a.code,a,a.mh);});};b.prototype.dOa=function(){return Promise.resolve();};b.prototype.Qia=function(a){var c;function b(){var b;c.j.wf=c.aM(a.initDataType);b=[];c.j.rq.forEach(function(a){b.push(m.Ep(a));});c.qla(b);}c=this;this.log.trace("Received event: "+a.type);this.MN||(this.MN=!0,this.LO.cz?this.j.rq?this.config().CF&&this.config().Xo&&this.Bc()?this.Bc().HGa(this.j.G).then(function(a){c.j.wf=a;return a.$Vb.then(function(){var b;b=[];c.j.rq.forEach(function(a){b.push(m.Ep(a));});return c.qla(b,!0).then(function(){var b;if(a.TQb)c.Sd(k.J.WXa);else{b=m.Rg(c.j,"Eme");a.MVb({log:b,bUb:function(a){return c.j.cd(a);}},{vy:c.IDa(b),onerror:function(a,b,f){return c.Sd(a,b,f);}});(b=a.mUb)&&c.xY(b);c.j.Cu(a.ld||{});c.j.cx="videopreparer";}});});})["catch"](function(a){c.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Sd(k.J.C0a)):this.Sd(k.J.jz,k.u.TXa));};b.prototype.SPa=function(a){var b;a=void 0===a?this.j:a;a.wf=this.aM("cenc");b=[];a.rq.forEach(function(a){b.push(m.Ep(a));});return this.qla(b,!1,a);};b.prototype.vea=function(){return this.config().HM?H.bj.Wv:H.bj.Mm;};na.Object.defineProperties(b.prototype,{LO:{configurable:!0,enumerable:!0,get:function(){return m.Y.get(p.Yn);}},KB:{configurable:!0,enumerable:!0,get:function(){return this.b2?"encrypted":this.Fb.H3+"needkey";}}});d=b;c.__decorate([f.JN],d.prototype,"LO",null);c.__decorate([f.JN],d.prototype,"KB",null);return d=c.__decorate([h.N()],d);}();b.Tra=d;},function(d,b,a){var c,k,m,g,q,l,h,f,p,y,H;Object.defineProperty(b,"__esModule",{value:!0});b.Wra=void 0;c=a(0);k=a(2);m=a(5);g=a(10);q=a(474);l=a(3);h=a(1);f=a(193);p=a(280);y=a(87);H=a(12);d=function(){var b;function a(a,b,c,f,h,d,l,k){f=p.GI.call(this,f,h,d)||this;f.config=a;f.De=b;f.Bc=c;f.OA=l;f.Zha=k;f.log=m.Rg(f.j,"LicenseBroker");f.MN=new Set();f.Yha=!1;return f;}ca(a,p.GI);a.prototype.Qia=function(){var a,b,c;a=this;c=this.j.fa;this.MN.has(c.G)||(this.MN.add(c.G),((null===(b=c.va)||void 0===b?0:b.MA)?this.v9a(c,c.va.MA):this.config.CF&&this.De.Xo&&this.Bc()?this.w9a(c):Promise.reject())["catch"](function(){return a.TPa(c);}).then(function(){return a.uBa(c);})["catch"](function(b){return a.tBa(c,b);})["catch"](function(b){return a.Sd(b.code,b,b.mh);}));};a.prototype.w9a=function(a){var b;b=this;return this.Bc().HGa(a.G).then(function(c){return b.N$(c,a,"videopreparer");})["catch"](function(a){b.log.warn("eme not in cache",a);throw a;});};a.prototype.v9a=function(a,b){var c;c=this;return this.OA().then(function(f){var h;h=c.zHa(a);f.dMa(h,b);f.yG().subscribe(c.MGa(a));return c.N$(b,a,"manifest");});};a.prototype.N$=function(a,b,c){this.LOa(a,b);b.cx=c;this.Zha.nC(a.nl);return a.O$().oQ();};a.prototype.xjb=function(a){var b;b={};a.forEach(function(a){b[q.UEa(a.Vtb)]=a.time.ca(l.ha);});return b;};a.prototype.Wnb=function(a,b){this.log.trace("Key status",{viewable:a.G,keyId:m.HV(b.Rr),status:b.value});};a.prototype.LOa=function(a,b){var c,f,h;c=this;b.wf=a;f={next:function(a){c.Wnb(b,a);},error:g.Ke,complete:g.Ke};h={next:function(a){c.Sd(a.code,a,a.mh);},error:g.Ke,complete:g.Ke};a.Hga().subscribe(f);(a=a.IF())&&a.subscribe(h);};a.prototype.uBa=function(a){var b;this.log.info("Successfully applied license for xid: "+a.ga+", viewable: "+a.G+", segment: "+a.La);b=a.wf;(null===b||void 0===b?0:b.Yga)&&this.xY(b.Yga);this.Cu(a);this.Yha?this.tX(a.G):this.nC(a);};a.prototype.tBa=function(a,b){this.Cu(a);throw b;};a.prototype.Cu=function(a){a.wf&&a.Cu(this.xjb(a.wf.ld));};a.prototype.MGa=function(a){var b;b=this;return{next:function(c){b.MN.add(a.G);b.xY(c);},error:g.Ke,complete:g.Ke};};a.prototype.zHa=function(a){return{type:this.vea(),VY:a.rq.map(function(a){return m.Ep(a);}),context:{Yd:this.config.Yd,bb:this.Fb.bb},Yg:{G:a.G,ga:a.ga,hg:a.hg,ik:a.ik,Aj:a.va.Aj}};};a.prototype.TPa=function(a){var b;b=this;return this.OA().then(function(c){var f;f=b.zHa(a);c.yG().subscribe(b.MGa(a));return c.pi(f,b.Zha).Fr(function(c){b.LOa(c,a);b.j.fireEvent(H.U.ON,{G:a.G});return c.O$();}).oQ();});};a.prototype.nC=function(a){var b;b=this;if(this.Yha)this.log.trace("Media Keys already set");else try{this.Fb.bb?this.Fb.bb.setMediaKeys(a.wf.nl).then(function(){b.tX(a.G);b.Yha=!0;})["catch"](function(a){a=b.sIa(a);b.Sd(k.J.T5,a,a.Vd);}):this.tX(a.G);}catch(C){this.Sd(k.J.T5,C,void 0);}};a.prototype.dOa=function(){var a,b;a=this;b=this.j.fa.wf;return b?this.OA().then(function(c){return new Promise(function(f){c.kEb(b,a.Zha).Fr(function(a){return a.x9a();}).Fr(function(b){a.log.trace("Fulfilled the last secure stop");a.De.vi&&a.j.Pu.S0({success:!0,persisted:!1});return b.close();}).subscribe({error:function(b){a.log.error("Unable to get/add secure stop data",b);a.De.vi&&a.j.Pu.S0({success:b.aa,ErrorCode:b.code,ErrorSubCode:b.ad,ErrorExternalCode:b.mh,ErrorEdgeCode:b.yF,ErrorDetails:b.sF});f();},complete:function(){f();}});});}):Promise.resolve();};a.prototype.SPa=function(a){var b;a=void 0===a?this.j:a;b=this;return this.TPa(a).then(function(){return b.uBa(a);})["catch"](function(c){return b.tBa(a,c);});};a.prototype.vea=function(){return this.De.HM?y.bj.Wv:y.bj.Mm;};na.Object.defineProperties(a.prototype,{KB:{configurable:!0,enumerable:!0,get:function(){return"encrypted";}},Yd:{configurable:!0,enumerable:!0,get:function(){return this.config.Yd;}}});b=a;c.__decorate([f.JN],b.prototype,"KB",null);return b=c.__decorate([h.N()],b);}();b.Wra=d;},function(d,b,a){var c,k,m,g,q,l,h,f,p,y;Object.defineProperty(b,"__esModule",{value:!0});b.Vra=void 0;c=a(0);k=a(1);m=a(116);g=a(575);q=a(574);l=a(53);h=a(60);f=a(15);p=a(134);y=a(103);d=function(){var b;function a(a,b,c,f,h,d){this.OA=a;this.De=b;this.he=c;this.config=f;this.dO=h;this.Bc=d;}a.prototype.create=function(a,b,c){return a?new g.Wra(this.config(),this.De,this.Bc,this.he,b,c,this.OA,this.dO()):new q.Tra(this.config,this.Bc,this.he,b,c);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.RI)),c.__param(1,k.l(l.Bl)),c.__param(2,k.l(h.Mk)),c.__param(3,k.l(f.dd)),c.__param(4,k.l(p.pD)),c.__param(5,k.l(y.Hz))],b);}();b.Vra=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.zj=void 0;d=a(1);c=a(294);k=a(576);b.zj=new d.Dc(function(a){a(c.P4).to(k.Vra);});},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.$wa=void 0;c=a(0);k=a(1);m=a(40);g=a(28);q=a(36);l=a(32);d=function(){var b;function a(a){return m.ae.call(this,a,"TransportConfigImpl")||this;}ca(a,m.ae);a.prototype.Ala=function(a){var b,c;b=this.Xma;c=this.fBa;switch(a){case l.Us.RS:return b;case l.Us.eva:return b&&!c;case l.Us.U_a:return!1;}};na.Object.defineProperties(a.prototype,{Xma:{configurable:!0,enumerable:!0,get:function(){return!0;}},fBa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=a;c.__decorate([q.config(q.vd,"usesMsl")],b.prototype,"Xma",null);c.__decorate([q.config(q.vd,"allowRequestsWithoutMsl")],b.prototype,"fBa",null);return b=c.__decorate([k.N(),c.__param(0,k.l(g.Ci))],b);}();b.$wa=d;},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.nwa=void 0;c=a(0);k=a(1);m=a(3);g=a(8);q=a(145);l=a(91);d=function(){var b;function a(a,b,c){this.receiver=b;this.Pe=c;this.log=a.xb("SslTransport");}a.prototype.send=function(a,b){var c,f;c=this;f={url:a.url.href,JA:"nq-"+a.ek,vja:JSON.stringify(b),dW:a.timeout.ca(m.ha),headers:a.headers,withCredentials:!0};return new Promise(function(a,b){c.Pe.download(f,function(c){c.aa?a(c):b(c);});}).then(function(f){f={status:"success",body:f.content};c.receiver.tH({command:a.ek,inputs:b,outputs:f});return f;})["catch"](function(f){var h;if(!f.error)throw f.ad=f.da||f.ad,c.receiver.tH({command:a.ek,inputs:b,outputs:f}),f;h=f.error;h.wy=f.wy;c.log.error("Error sending SSL request",{subCode:h.ad,data:h.content,message:h.message});c.receiver.tH({command:a.ek,inputs:b,outputs:h});throw h;});};a.prototype.kba=function(){return{};};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(g.Ab)),c.__param(1,k.l(q.xJ)),c.__param(2,k.l(l.Xv))],b);}();b.nwa=d;},function(d,b,a){var c,k,m,g,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.kta=void 0;c=a(0);k=a(1);m=a(8);g=a(169);q=a(3);l=a(145);h=a(100);f={license:!0};d=function(){var b;function a(a,b,c,f){var h;h=this;this.fy=b;this.receiver=c;this.profile=f;this.log=a.xb("MslTransport");this.fy().then(function(a){return h.jMa=a;});}a.prototype.send=function(a,b){var c,h;c=this;h={kMa:Object.assign({Pe:a.Pe,log:a.log,profile:this.profile},a.R$a),method:a.ek,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.ca(q.ha),yHb:this.profile,GUb:!f[a.ek],Rub:!!f[a.ek],sj:!0,I0:a.Fka,headers:a.headers};return this.fy().then(function(f){return f.send(h).then(function(f){c.receiver.tH({command:a.ek,inputs:b,outputs:f});return f;})["catch"](function(f){var h;if(!f.error)throw f.ad=f.da||f.ad,c.receiver.tH({command:a.ek,inputs:b,outputs:f}),f;h=f.error;h.wy=f.wy;c.log.error("Error sending MSL request",{mslCode:h.cs,subCode:h.ad,data:h.data,message:h.message});c.receiver.tH({command:a.ek,inputs:b,outputs:h});throw h;});});};a.prototype.kba=function(){var a;return{userTokens:null===(a=this.jMa)||void 0===a?void 0:a.p_.getUserIdTokenKeys()};};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Ab)),c.__param(1,k.l(g.mJ)),c.__param(2,k.l(l.xJ)),c.__param(3,k.l(h.BJ))],b);}();b.kta=d;},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.jTa=void 0;d=a(1);c=a(237);k=a(310);m=a(580);g=a(579);q=a(578);l=a(32);b.jTa=new d.Dc(function(a){a(c.IJ).to(q.$wa).Z();a(k.z5).to(m.kta);a(k.g7).to(g.nwa);a(k.v7).lf(function(a){return function(b){var f;return a.jb.get(c.IJ).Ala(null!==(f=null===b||void 0===b?void 0:b.wub)&&void 0!==f?f:l.Us.RS)?a.jb.get(k.z5):a.jb.get(k.g7);};});});},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.fua=void 0;c=a(0);k=a(1);m=a(2);g=a(41);q=a(65);l=a(43);d=function(){var b;function a(a){return q.eh.call(this,a,m.J.tYa,2,g.hh.va,g.og.Mq,"generateScreenshots")||this;}ca(a,q.eh);a.prototype.cf=function(a,b){var c;c=this;return this.send(a,"/generateScreenshots",b).then(function(a){return a.result;})["catch"](function(a){throw c.$l(a);});};a.prototype.Co=function(){return Promise.reject(Error("Links are unsupported with GenerateScreenshots"));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.Tj))],b);}();b.fua=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oua=void 0;b.oua="PboPingCommandSymbol";},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.nua=void 0;c=a(0);k=a(1);m=a(2);g=a(41);q=a(65);l=a(43);d=function(){var b;function a(a){return q.eh.call(this,a,m.J.r0a,1,g.hh.ping,g.og.Mq,g.hh.ping)||this;}ca(a,q.eh);a.prototype.cf=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.$l(a);});};a.prototype.Co=function(){return Promise.reject(Error("Links are unsupported with ping"));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.Tj))],b);}();b.nua=d;},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.$ta=void 0;c=a(0);k=a(1);m=a(2);g=a(41);q=a(65);l=a(43);d=function(){var b;function a(a){return q.eh.call(this,a,m.J.tVa,2,g.hh.bind,g.og.Mq,g.hh.bind)||this;}ca(a,q.eh);a.prototype.cf=function(a,b,c){var f;f=this;return this.send(a,"/bindDevice",b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.$l(a);});};a.prototype.Co=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.Tj))],b);}();b.$ta=d;},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.lua=void 0;c=a(0);k=a(1);m=a(2);g=a(41);q=a(65);l=a(43);d=function(){var b;function a(a){return q.eh.call(this,a,m.J.$_a,2,g.hh.FNa,g.og.Mq,g.hh.FNa)||this;}ca(a,q.eh);a.prototype.cf=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.$l(a);});};a.prototype.Co=function(){return Promise.reject(Error("Links are unsupported with pair"));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.Tj))],b);}();b.lua=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.mua=void 0;b.mua="PboPairCommandSymbol";},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Zta=void 0;c=a(0);k=a(1);m=a(2);g=a(41);q=a(65);l=a(43);d=function(){var b;function a(a){return q.eh.call(this,a,m.J.sVa,2,g.hh.bind,g.og.Mq,g.hh.bind)||this;}ca(a,q.eh);a.prototype.cf=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.$l(a);});};a.prototype.Co=function(){return Promise.reject(Error("Links are unsupported with bind"));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.Tj))],b);}();b.Zta=d;},function(d,b,a){var c,k,m,g,q,l,h,f,p,y,H;Object.defineProperty(b,"__esModule",{value:!0});b.bua=void 0;c=a(0);k=a(1);m=a(115);g=a(92);q=a(308);l=a(311);h=a(112);f=a(91);p=a(461);y=a(68);H=a(72);d=function(){function a(a,b,c,f,h,d,p,l,k){this.Yf=a;this.Pe=b;this.Cj=c;this.Egb=f;this.iG=h;this.fHb=d;this.tW=p;this.EAb=l;this.ox=k;}return a=c.__decorate([k.N(),c.__param(0,k.l(m.Qy)),c.__param(1,k.l(f.Xv)),c.__param(2,k.l(g.gw)),c.__param(3,k.l(l.a6)),c.__param(4,k.l(h.iz)),c.__param(5,k.l(p.B7)),c.__param(6,k.l(y.XC)),c.__param(7,k.l(q.n6)),c.__param(8,k.l(H.Kq))],a);}();b.bua=d;},function(d,b,a){var c,k,m,g,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.jqa=void 0;c=a(0);k=a(1);m=a(2);g=a(117);q=a(78);l=a(43);h=a(41);d=function(){var b;function a(a){return g.Rn.call(this,a,m.J.$Xa,q.Cl.AM,3,h.og.mD)||this;}ca(a,g.Rn);a.prototype.LV=function(a){return Object.assign(Object.assign({},g.Rn.prototype.LV.call(this,a)),{action:a.action});};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.Tj))],b);}();b.jqa=d;},function(d,b,a){var c,k,m,g,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.mwa=void 0;c=a(0);k=a(1);m=a(2);g=a(117);q=a(78);l=a(43);h=a(41);d=function(){var b;function a(a){return g.Rn.call(this,a,m.J.Kva,q.Cl.splice,1,h.og.mD)||this;}ca(a,g.Rn);b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.Tj))],b);}();b.mwa=d;},function(d,b,a){var c,k,m,g,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Lra=void 0;c=a(0);k=a(1);m=a(2);g=a(117);q=a(78);l=a(43);h=a(41);d=function(){var b;function a(a){return g.Rn.call(this,a,m.J.K4,q.Cl.FN,1,h.og.mD)||this;}ca(a,g.Rn);b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.Tj))],b);}();b.Lra=d;},function(d,b,a){var c,k,m,g,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.rwa=void 0;c=a(0);k=a(1);m=a(2);g=a(117);q=a(78);l=a(43);h=a(41);d=function(){var b;function a(a){return g.Rn.call(this,a,m.J.Nva,q.Cl.stop,3,h.og.q5)||this;}ca(a,g.Rn);b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.Tj))],b);}();b.rwa=d;},function(d,b,a){var c,k,m,g,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.owa=void 0;c=a(0);k=a(1);m=a(2);g=a(117);q=a(78);l=a(43);h=a(41);d=function(){var b;function a(a){return g.Rn.call(this,a,m.J.F1a,q.Cl.start,3,h.og.Mq)||this;}ca(a,g.Rn);b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.Tj))],b);}();b.owa=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.hua=void 0;c=a(0);k=a(1);m=a(22);g=a(42);d=function(){var b;function a(a,b){this.Sc=a;this.Rt=b;}a.prototype.cTa=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.Sc.JO(a.substring(a.indexOf("?")+1));});return{aa:!0,pc:a.map(function(a,b){return{id:a.drmSessionId,Ux:c[b].drmlicensecontextid,zG:c[b].licenseid};}),fm:a.map(function(a){return{data:b.Rt.decode(a.licenseResponseBase64),sessionId:a.drmSessionId};})};};a.prototype.TFb=function(a){return{aa:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.drmSessionId)&&c&&(a[b]=c);return a;},{})}};};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Ve)),c.__param(1,k.l(g.$i))],b);}();b.hua=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.gua=void 0;c=a(0);k=a(1);m=a(39);g=a(3);d=function(){var b;function a(a){this.Ia=a;}a.prototype.PFb=function(a){var b;b=this.Ia.bf.ca(g.Fl);return{inputs:a.li.map(function(c){return{drmSessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.ga.toString(),mdxControllerEsn:a.bO};}),aha:"standard"===a.ri.toLowerCase()?"license":"ldl"};};a.prototype.SFb=function(a){var b,c,d,h;b=this;c=a.DBb||{};d=[];h=a.pc.map(function(f){var h;d.push(f.id);h=c[f.id];delete c[f.id];return{url:b.oCa(f.Ux,f.zG),echo:"drmSessionId",params:{drmSessionId:f.id,secureStop:h,secureStopId:h?f.zG:void 0,xid:a.ga.toString()}};});Object.keys(c).forEach(function(f){h.push({url:b.oCa(a.pc[0].Ux),echo:"drmSessionId",params:{drmSessionId:f,secureStop:c[f],secureStopId:void 0,xid:a.ga.toString()}});});return h;};a.prototype.oCa=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Ai))],b);}();b.gua=d;},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.vua=void 0;c=a(0);k=a(1);m=a(2);g=a(41);q=a(65);l=a(43);d=function(){var b;function a(a){return q.eh.call(this,a,m.J.s1a,3,g.hh.pi,g.og.q5,"release/license")||this;}ca(a,q.eh);a.prototype.cf=function(a,b){var c;c=this;return this.send(a,"/bundle",b).then(function(a){a=a.result;c.OCa(a);return a;})["catch"](function(a){throw c.$l(a);});};a.prototype.Co=function(){return Promise.reject(Error("Links are unsupported with release"));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.Tj))],b);}();b.vua=d;},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Yta=void 0;c=a(0);k=a(1);m=a(2);g=a(41);q=a(65);l=a(43);d=function(){var b;function a(a){return q.eh.call(this,a,m.J.jz,3,g.hh.pi,g.og.Mq,g.hh.pi)||this;}ca(a,q.eh);a.prototype.cf=function(){return Promise.reject(Error("Links are required with acquire command"));};a.prototype.Co=function(a,b,c){var f,d;f=this;b=b.wea(c.aha).href;d="license"===c.aha?g.og.Mq:g.og.mD;this.D9="ldl"===c.aha?"prefetch/license":g.hh.pi;return this.send(a,b,c.inputs,"drmSessionId",d).then(function(a){a=a.result;f.OCa(a);f.ibb(a);return a;})["catch"](function(a){throw f.$l(a);});};a.prototype.ibb=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.Tj))],b);}();b.Yta=d;},function(d,b,a){var c,k,m,g,q,l,h,f,p,y,H,n,E,G,r,C,X,P,u,R,A,T;Object.defineProperty(b,"__esModule",{value:!0});b.kua=void 0;c=a(0);k=a(1);m=a(119);g=a(2);q=a(41);l=a(459);h=a(5);f=a(15);p=a(68);a(151);y=a(65);H=a(43);n=a(233);E=a(429);G=a(281);r=a(99);C=a(30);X=a(32);P=a(166);u=a(39);R=a(3);A=a(259);T=a(198);d=function(){var b;function a(a,b,c,f,d,h,p,l,k,m,t){a=y.eh.call(this,a,g.J.MANIFEST,3,q.hh.va,q.og.Mq,q.hh.va)||this;a.platform=b;a.config=c;a.tW=f;a.Sab=d;a.vxb=h;a.ml=p;a.Ksb=l;a.Aaa=k;a.Ia=m;a.srb=t;return a;}ca(a,y.eh);a.prototype.cf=function(a,b){var c;c=this;this.D9=b.Ax===m.Lk.V5?"prefetch/manifest":q.hh.va;return this.oib(b).then(function(f){var d,h;f=S(f);d=f.next().value;h=f.next().value;return c.send(a,h.ek,d,void 0,c.Mmb(b.Ax),void 0,b.Ax===m.Lk.Z6?X.Us.eva:X.Us.RS).then(function(a){var b;a=c.Ksb.create(a.result);b=a.Mf.Iv.map(function(a){return a.pi;}).filter(Boolean);h.MA&&(0<b.length?(b=c.srb.cTa(b),h.MA.LAa(b),a.MA=h.MA):h.MA.close().subscribe());return a;});})["catch"](function(a){throw c.$l(a);});};a.prototype.Co=function(){return Promise.reject(Error("Links are not supported with manifest command"));};a.prototype.oib=function(a){var b,c,f,d,p,k,m,g;b=this;c=a.Ua;f=Object.assign({},c.rL,c.Mn);d={};p=a.oa;d[p]={unletterboxed:!!f.preferUnletterboxed};k=this.config().rHb?30:25;m=h.bB();g=this.config().mp?this.ml.glb():Promise.resolve(l.l5.Up());return Promise.all([m.inb(),m.jnb(),m.$F(),m.bN(),this.Ckb(a.ga),this.jlb(a),g]).then(function(h){var l,m,g,q,t,y;l=S(h);m=l.next().value;g=l.next().value;q=l.next().value;t=l.next().value;y=l.next().value;h=l.next().value;l=l.next().value;m=(m||[]).concat(g||[]).concat(b.config().Cv).concat(["BIF240","BIF320"]).filter(Boolean);g=t&&void 0!==t.SUPPORTS_SECURE_STOP?!!t.SUPPORTS_SECURE_STOP:void 0;t=t?t.DEVICE_SECURITY_LEVEL:void 0;q={type:"standard",viewableId:p,profiles:m,flavor:a.Ax,drmType:l,drmVersion:k,usePsshBox:!0,isBranching:!!a.Ua.Oi,useHttpsStreams:!0,supportsUnequalizedDownloadables:b.config().XEb,imageSubtitleHeight:n.jT.Oea(),uiVersion:b.context.Cj.vQ,uiPlatform:b.context.Cj.P1,clientVersion:b.platform.version,supportsPreReleasePin:b.config().nu.REb,supportsWatermark:b.config().nu.SEb,showAllSubDubTracks:b.config().nu.DDb||!!f.showAllSubDubTracks,packageId:b.omb(c),deviceSupportsSecureStop:g,deviceSecurityLevel:t,videoOutputInfo:q,titleSpecificData:d,preferAssistiveAudio:!!f.assistiveAudioPreferred,preferredTextLocale:f.preferredTextLocale,preferredAudioLocale:f.preferredAudioLocale,isUIAutoPlay:!!f.isUIAutoPlay,challenge:y,isNonMember:b.context.Cj.pG,pin:c.fOa,desiredVmaf:b.config().mHb?b.config().jgb:b.config().kgb};c.CFa&&(q.extraParams=c.CFa);y={ek:h?"licensedManifest":"manifest",MA:null===h||void 0===h?void 0:h.rb};h&&(h={drmSessionId:h.rb.Gx()||"session",clientTime:b.Ia.a1.ca(R.Fl),challengeBase64:h.GCa},q.challenges={"default":[h]},q.profileGroups=[{name:"default",profiles:m}],q.licenseType="standard");return[q,y];});};a.prototype.omb=function(a){if(this.config().l0.enabled){if(void 0!==a.pl)return a.pl;if(void 0!==this.config().l0.pl)return Number(this.config().l0.pl);}};a.prototype.Mmb=function(a){switch(a){case m.Lk.Mm:case m.Lk.yXa:return q.og.Mq;case m.Lk.N6:case m.Lk.Z6:return q.og.q5;case m.Lk.V5:return q.og.mD;}};a.prototype.Ckb=function(a){var b;b=this;return this.Sab.LGa().then(function(c){var f;f=a&&b.vxb.umb(a);f&&f.jn("cad");return c;});};a.prototype.jlb=function(a){return(a.Ax===m.Lk.Mm||a.Ax===m.Lk.N6)&&this.config().mp&&this.config().Qbb?this.Aaa.$Ha():Promise.resolve(void 0);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(H.Tj)),c.__param(1,k.l(C.Uj)),c.__param(2,k.l(f.dd)),c.__param(3,k.l(p.XC)),c.__param(4,k.l(E.P2)),c.__param(5,k.l(G.NS)),c.__param(6,k.l(r.Ts)),c.__param(7,k.l(P.oD)),c.__param(8,k.l(A.mR)),c.__param(9,k.l(u.Ai)),c.__param(10,k.l(T.GS))],b);}();b.kua=d;},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.jua=void 0;c=a(0);k=a(1);m=a(2);g=a(41);q=a(65);l=a(43);d=function(){var b;function a(a){return q.eh.call(this,a,m.J.XZa,1,g.hh.NKa,g.og.mD,g.hh.NKa)||this;}ca(a,q.eh);a.prototype.cf=function(a,b){var c;c=this;return this.send(a,"/"+this.name,b).then(function(a){return a.result;})["catch"](function(a){throw c.$l(a);});};a.prototype.Co=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.Tj))],b);}();b.jua=d;},function(d,b,a){var c,k,m,g,q,l,h,f,p,y,H,n,E,G,r,C,X,P,u,R,A,T,oa,fa,U,la,O,sa,z,F,Q,wa;Object.defineProperty(b,"__esModule",{value:!0});b.jDa=void 0;d=a(1);c=a(343);k=a(600);m=a(119);g=a(599);q=a(330);l=a(598);h=a(328);f=a(597);p=a(327);y=a(596);H=a(198);n=a(595);E=a(78);G=a(594);r=a(593);C=a(47);X=a(2);P=a(592);u=a(591);R=a(590);A=a(43);T=a(589);oa=a(187);fa=a(588);U=a(587);la=a(586);O=a(347);sa=a(585);z=a(584);F=a(583);Q=a(449);wa=a(582);b.jDa=new d.Dc(function(a){a(A.Tj).to(T.bua);a(c.h6).to(k.jua);a(oa.ES).to(fa.Zta);a(O.Y5).to(sa.$ta);a(U.mua).to(la.lua);a(m.HS).to(g.kua);a(q.X5).to(l.Yta);a(h.m6).to(f.vua);a(p.e6).to(y.gua);a(H.GS).to(n.hua);a(E.i7).to(G.owa);a(E.j7).to(r.rwa);a(E.L4).to(P.Lra);a(E.f7).to(u.mwa);a(E.J3).to(R.jqa);a(F.oua).to(z.nua);a(Q.d6).to(wa.fua);a(E.DR).lf(function(a){return function(b){switch(b){case E.Cl.start:return a.jb.get(E.i7);case E.Cl.stop:return a.jb.get(E.j7);case E.Cl.FN:return a.jb.get(E.L4);case E.Cl.splice:return a.jb.get(E.f7);case E.Cl.AM:return a.jb.get(E.J3);}throw new C.Cc(X.J.g0a,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(d,b,a){var c,k,m,g,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.fta=void 0;c=a(0);k=a(1);m=a(52);g=a(69);q=a(3);l=a(67);h=a(32);f={start:{video:m.ya.kR,audio:m.ya.gR},end:{video:m.ya.jR,audio:m.ya.fR}};d=function(){var b;function a(a,b){var c;c=this;this.wk=a;this.Sp=b;this.YSa=function(a){var b,f,d,h,p,l;b=c.wSa++;f=a.request.JA||"dl";d=c.oIa(f,"start");if(d){h=a.request.Ro.stream.P.yk;if(h&&!c.WRa.has(h)){p=c.QHa(h);l=a.sq;c.wk.mark(d,p,l?f+"-"+l+"-"+b:f);a.o$(function(){var a,d;a=c.oIa(f,"end");d=l?f+"-"+l+"-"+b:f;a&&c.wk.mark(a,p,d);});}}};this.wSa=0;this.WRa=new Set();this.$ka=new Map();b.xM&&this.iIb();}a.prototype.RHa=function(a){var c,f,d,h,p,l,k,g;function b(b){return q.timestamp(c.ZAa(q.timestamp(b),a,!0));}c=this;f=new Set();d=a.ld;h=a.WDb;p=a.ga;l=a.La;k=this.wk.EHa(p);g=l&&this.QHa(l);g&&k.push.apply(k,[].concat(ea(this.wk.EHa(g))));this.wk.HPa(a.ga);g&&this.wk.HPa(g);l&&this.WRa.add(l);l=[];"pr_ats"in d&&l.push({name:m.ya.ZS,Cs:b(d.pr_ats),ga:p,fk:"request-pre-manifest"});"ats"in d&&l.push({name:m.ya.XS,Cs:b(d.ats),ga:p,fk:"request-manifest"});"pr_at"in d&&l.push({name:m.ya.YS,Cs:b(d.pr_at),ga:p,fk:"request-pre-manifest"});"at"in d&&l.push({name:m.ya.WS,Cs:b(d.at),ga:p,fk:"request-manifest"});"lg"in d&&l.push({name:m.ya.VS,Cs:b(d.lg),ga:p,fk:"request-license"});"lr"in d&&l.push({name:m.ya.US,Cs:b(d.lr),ga:p,fk:"request-license"});"tt_start"in d&&l.push({name:m.ya.iR,Cs:b(d.tt_start),ga:p,fk:"request-timed-text"});"tt_comp"in d&&l.push({name:m.ya.hR,Cs:b(d.tt_comp),ga:p,fk:"request-timed-text"});return l.concat(k).map(function(b){return c.zFb(b,a);}).filter(function(a){return a.timestamp<=h?("end"===a.step&&f.add(a.eventId),!0):!1;}).filter(function(a){return"start"!==a.step||f.has(a.eventId)?!0:!1;}).sort(function(a,b){return a.timestamp-b.timestamp;});};a.prototype.Z8a=function(a,b,c){return(void 0===c?0:c)?a.ca(q.ha)+b.xk.ca(q.ha):a.ca(q.ha)-b.xk.ca(q.ha);};a.prototype.ZAa=function(a,b,c){c=void 0===c?!1:c;if(b.Gk)if(c)a.ca(q.ha)+b.Gk;else return a.ca(q.ha)-b.Gk;return this.Z8a(a,b,c);};a.prototype.zFb=function(a,b){var c;c=a.name;return{eventName:c,eventId:a.fk||c,timestamp:this.ZAa(a.Cs,b),component:this.QM(c),category:this.Bkb(c),step:this.enb(c)};};a.prototype.QM=function(a){switch(a){case m.ya.ZS:case m.ya.YS:case m.ya.XS:case m.ya.WS:return"manifest";case m.ya.VS:case m.ya.US:case m.ya.W6:case m.ya.V6:case m.ya.HR:case m.ya.GR:case m.ya.r2:case m.ya.q2:return"license";case m.ya.iR:case m.ya.hR:case m.ya.gR:case m.ya.fR:case m.ya.kR:case m.ya.jR:case m.ya.p2:case m.ya.o2:return"buffering";case m.ya.P5:case m.ya.O5:return"playback";default:return null;}};a.prototype.Bkb=function(a){switch(a){case m.ya.ZS:case m.ya.YS:case m.ya.XS:case m.ya.WS:return"aws";case m.ya.VS:case m.ya.US:return"mixed";case m.ya.P5:case m.ya.O5:case m.ya.W6:case m.ya.V6:case m.ya.HR:case m.ya.GR:case m.ya.r2:case m.ya.q2:case m.ya.p2:case m.ya.o2:return"dev";case m.ya.iR:case m.ya.hR:case m.ya.gR:case m.ya.fR:case m.ya.kR:case m.ya.jR:return"cdn";default:return null;}};a.prototype.enb=function(a){switch(a){case m.ya.ZS:case m.ya.P5:case m.ya.XS:case m.ya.VS:case m.ya.p2:case m.ya.iR:case m.ya.gR:case m.ya.kR:case m.ya.W6:case m.ya.HR:case m.ya.r2:return"start";case m.ya.YS:case m.ya.O5:case m.ya.WS:case m.ya.US:case m.ya.V6:case m.ya.GR:case m.ya.q2:case m.ya.o2:case m.ya.hR:case m.ya.fR:case m.ya.jR:return"end";default:return null;}};a.prototype.oIa=function(a,b){if(a in f[b])return f[b][a];};a.prototype.rGb=function(){l.Pe.removeEventListener(l.MY,this.YSa);};a.prototype.iIb=function(){this.rGb();l.Pe.addEventListener(l.MY,this.YSa);};a.prototype.QHa=function(a){var b;if(this.$ka.has(a))return this.$ka.get(a);b=Date.now();this.$ka.set(a,b);return b;};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(g.qD)),c.__param(1,k.l(h.Kk))],b);}();b.fta=d;},function(d,b,a){var k;function c(a,b,c,d){this.gca=a;this.debug=b;this.qa=c;this.j=d;this.O_=[];this.n_={};this.ica={};this.oda=!1;this.wSa=1;this.aoa=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.Apa=void 0;k=a(3);a(12);a(14);a(67);c.prototype.register=function(a,b){this.debug.assert(!(0<=this.O_.indexOf(a)),"panel already registered");this.n_[a]=b;this.O_.push(a);};c.prototype.UMa=function(a){var b;b=this;this.ica[a]=!0;this.oda||(this.oda=!0,setTimeout(function(){return b.hjb();},0));};c.prototype.Zlb=function(a){return(a=this.n_[a])?a():void 0;};c.prototype.ZX=function(){var a;a=this.j.Z_;return a?a.ZX():[];};c.prototype.addEventListener=function(a,b){this.gca.addListener(a,b);this.n_[a]&&this.UMa(a);};c.prototype.removeEventListener=function(a,b){this.gca.removeListener(a,b);};c.prototype.getTime=function(){return this.qa.Zb().ca(k.ha);};c.prototype.hjb=function(){this.oda=!1;for(var a=this.O_.length,b;a--;)b=this.O_[a],this.ica[b]&&(this.ica[b]=!1,this.gca.Ub(b+"changed",{getModel:this.n_[b]}));};b.Apa=c;},function(d,b,a){var k,m,g,q,l,h,f;function c(a,b,c,d,m,q,t,n,r){var p;p=this;this.bGb=a;this.j=b;this.id=c;this.height=d;this.width=m;this.gxb=q;this.hxb=t;this.size=n;this.me=r;this.type=k.Hg.Gma;this.tv=!0;this.state=l.Tm.xS;this.Ug={};this.FV={};this.Dyb=function(a){if(a.aa)try{p.data=p.bGb.parse(a.content);p.state=l.Tm.LOADED;p.log.trace("TrickPlay parsed",{Images:p.data.images.length},p.Ug);p.j.fireEvent(h.U.qQ);}catch(R){p.state=l.Tm.Eta;p.log.error("TrickPlay parse failed.",R);}else p.state=l.Tm.xS,p.log.error("TrickPlay download failed.",f.Un(a),p.Ug);};this.log=g.Rg(b,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.bxa=void 0;k=a(77);m=a(11);g=a(5);q=a(67);l=a(306);h=a(12);f=a(2);c.prototype.vlb=function(a){if(this.data&&(a=Math.floor(a/this.data.Eo.PSa),0<=a&&a<this.data.images.length))return{image:this.data.images[a],time:a*this.data.Eo.PSa,height:this.height,width:this.width,pixelAspectHeight:this.gxb,pixelAspectWidth:this.hxb};};c.prototype.kY=function(){switch(this.state){case l.Tm.LOADED:return"downloaded";case l.Tm.LOADING:return"loading";case l.Tm.jJ:return"downloadfailed";case l.Tm.Eta:return"parsefailed";default:return"notstarted";}};c.prototype.download=function(){var a;a=this.Cnb();a?(this.state=l.Tm.LOADING,this.Ngb(a)):this.tv=!1;};c.prototype.Yc=function(){return this.state;};c.prototype.Cnb=function(){var a,b,c;a=this;b=Object.keys(this.me).find(function(b){return(a.FV[a.me[b]]||0)<=m.config.YFb;});if(b){c=this.me[b];c in this.FV?this.FV[c]++:this.FV[c]=1;return{url:c,ex:b};}};c.prototype.Ngb=function(a){this.log.trace("Downloading",a.url,this.Ug);a={responseType:q.nN,gc:this.bea(a.ex),url:a.url,track:this};this.j.PY.download(a,this.Dyb);};c.prototype.bea=function(a){return this.j.oj.find(function(b){return b&&b.id===a;});};b.bxa=c;},function(d,b,a){var c,k,m,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.Cva=void 0;c=a(0);k=a(12);m=a(1);g=a(25);q=a(3);d=function(){var b;function a(a){this.qa=a;this.trace=[];}a.prototype.us=function(a){a.cause!==k.ze.gz&&(this.trace.unshift({time:this.qa.Zb(),event:a}),5<this.trace.length&&this.trace.pop());};a.prototype.hIa=function(){var a,b;a=this;if(0===this.trace.length)return{};b=this.trace[0];return{timeSinceLastRepositionMs:this.JSa(b.time),lastRepositionCause:this.KGa(b.event.cause),repositionTrace:this.trace.map(function(b){return{timeSince:a.JSa(b.time),cause:a.KGa(b.event.cause),newMediaTime:b.event.UG,oldMediaTime:b.event.wO,skip:b.event.skip};})};};a.prototype.JSa=function(a){return this.qa.Zb().zb(a).ca(q.ha);};a.prototype.KGa=function(a){switch(a){case k.ze.gz:return"initial";case k.ze.Xs:return"seek";case k.ze.zz:return"segment_changed";case k.ze.FJ:return"track_changed";}};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(g.Se))],b);}();b.Cva=d;},function(d,b,a){var k,m,g,q,l;function c(a,b,c,d){this.ga=a;this.HAb=b;this.ka=c;this.app=d;this.ld={};}Object.defineProperty(b,"__esModule",{value:!0});b.Lua=void 0;k=a(0);m=a(1);g=a(8);q=a(25);l=a(3);d=function(){var b;function a(a,b){this.Af=a;this.app=b;this.Cd={};this.ka=a.xb("PlaybackMilestoneStoreImpl");}a.prototype.Vzb=function(a,b){this.Cd[a]&&this.ka.warn("registerPlayback: xid "+a+" already registered, overriding");b=(b?b:this.app.Zb()).ca(l.ha);this.ka.trace("registerPlayback: xid "+a+" at "+b);this.Cd[a]=new c(a,b,this.ka,this.app);return this.Cd[a];};a.prototype.umb=function(a){this.Cd[a]||this.ka.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.Cd[a];};a.prototype.jAb=function(a){this.ka.trace("removePlayback: xid "+a);delete this.Cd[a];};b=a;return b=k.__decorate([m.N(),k.__param(0,m.l(g.Ab)),k.__param(1,m.l(q.Se))],b);}();b.Lua=d;c.prototype.jn=function(a,b){b=b?b.ca(l.ha):this.app.Zb().ca(l.ha)-this.HAb;this.ka.trace("addMilestone: xid "+this.ga+" "+a+" at "+b);this.ld[a]=b;};},function(d,b,a){var k,m,g,q,l,h,f,p,y,H,n,E,G,r;function c(a,b,c,f,d){var l;l=this;this.j=a;this.Gh=b;this.AQ=c;this.Sc=f;this.KRa=d;this.Jba={};this.update=function(){var a;if(l.Dm.selectionStart==l.Dm.selectionEnd){a="";l.ZX().forEach(function(b){a=a?a+"\n":"";Object.keys(b).forEach(function(c){a+=c+": "+b[c]+"\n";});});l.Dm.style.fontSize=q.vp(h.Ss(l.element.clientHeight/60),8,18)+"px";l.Dm.value=a;}};this.Ovb=function(){var a,b;if(l.j.Pi){b=l.j.Pi.cB();b&&(l.Hba=b-(null!==(a=l.WSa)&&void 0!==a?a:0),l.WSa=b,l.AO());}};this.AO=function(){l.AQ.Lc(l.update);};this.onkeydown=function(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(a.keyCode==y.Nq.CWa||a.keyCode==y.Nq.Q)&&l.toggle();};this.mOa=[a.$b,a.gc[k.Qc.Ma.AUDIO],a.gc[k.Qc.Ma.VIDEO],a.ig,a.gf,a.Zk,a.nf,a.lj,a.state,a.ro,a.Nb,a.volume,a.muted];this.element=this.Sc.createElement("div","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});this.Dm=this.Sc.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto",void 0,{readonly:"readonly"});this.element.appendChild(this.Dm);this.controls=this.Sc.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);b=this.Sc.createElement("button",void 0,"X");b.addEventListener("click",function(){return l.Fo();},!1);this.controls.appendChild(b);g.Fe.addListener(g.Kx,this.onkeydown);a.addEventListener(p.U.uf,function(){g.Fe.removeListener(g.Kx,l.onkeydown);l.Fo();});}Object.defineProperty(b,"__esModule",{value:!0});b.Jua=void 0;k=a(49);m=a(57);g=a(56);q=a(90);l=a(184);h=a(9);f=a(14);p=a(12);y=a(102);H=a(3);d={};n=(d[p.mb.uD]="Not Loaded",d[p.mb.LOADING]="Loading",d[p.mb.qd]="Normal",d[p.mb.CLOSING]="Closing",d[p.mb.CLOSED]="Closed",d);d={};E=(d[p.Ue.qd]="Normal",d[p.Ue.ve]="Pre-buffering",d[p.Ue.Lva]="Network stalled",d);d={};G=(d[p.ib.Vf]="Waiting for decoder",d[p.ib.Nc]="Playing",d[p.ib.Bh]="Paused",d[p.ib.Lq]="Media ended",d);r=[p.U.a_,p.U.F$a];c.prototype.CCb=function(a){this.Jba.DFR=a;};c.prototype.show=function(){var a;a=this;this.visible||(this.Cpb=M.setInterval(this.Ovb,1E3),this.j.Ff.appendChild(this.element),this.mOa.forEach(function(b){b.addListener(a.AO);}),r.forEach(function(b){a.j.addEventListener(b,a.AO);}),this.visible=!0);this.update();};c.prototype.Fo=function(){var a;a=this;this.visible&&(clearInterval(this.Cpb),this.WSa=this.Hba=void 0,this.j.Ff.removeChild(this.element),this.mOa.forEach(function(b){b.removeListener(a.AO);}),r.forEach(function(b){a.j.removeEventListener(b,a.AO);}),this.AQ.Lc(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Fo():this.show();};c.prototype.ZX=function(){var b,c,d,p,g,t,y,K,r,N,u,O,sa,z,F,Q,wa,ga,Ga,Fa,ka,Ea,Sa,Oa,M,S,V,Z,ca,da,ea,ha,ba,ia,ja,ma,na;b=this;N=[];u=this.Gh();N.push({Version:"6.0023.745.051",Esn:u?u.Ih:"UNKNOWN",PBCID:this.j.fk,UserAgent:h.El});try{O={MovieId:this.j.G,TrackingId:this.j.Vh,Xid:this.j.ga+" ("+m.Lm.map(function(a){return a.ga;}).join(", ")+")",Position:q.Ah(this.j.$b.value),Duration:q.Ah(this.j.yr.ca(H.ha)),Volume:h.zh(100*this.j.volume.value)+"%"+(this.j.muted.value?" (Muted)":"")};if(this.j.Ua.Oi||this.j.Ua.qZ)O["Segment Position"]=q.Ah(this.j.eB()),O.Segment=this.j.Lea();N.push(O);}catch(Xb){}try{sa=this.j.ll?this.j.ll.Gob():void 0;N.push({"Player state":n[this.j.state.value],"Buffering state":E[this.j.ro.value]+(f.ma(sa)?", ETA:"+q.Ah(sa):""),"Rendering state":G[this.j.Nb.value]});}catch(Xb){}try{z=this.j.$ma()+this.j.T$();F=this.j.ig.value;Q=null===F||void 0===F?void 0:F.stream;wa=this.j.gf.value;ga=null===wa||void 0===wa?void 0:wa.stream;Ga=null!==(c=null===Q||void 0===Q?void 0:Q.O)&&void 0!==c?c:"?";Fa=ga?ga.O+" ("+ga.width+"x"+ga.height+")":"?";ka=null!==(d=null===ga||void 0===ga?void 0:ga.vc)&&void 0!==d?d:"?";Ea=null!==(g=null===(p=this.j.nf.value)||void 0===p?void 0:p.vc)&&void 0!==g?g:"?";Sa=null!==(y=null===(t=this.j.Zk.value)||void 0===t?void 0:t.O)&&void 0!==y?y:"?";Oa=null!==(r=null===(K=this.j.nf.value)||void 0===K?void 0:K.O)&&void 0!==r?r:"?";M=this.j.gc[k.Qc.Ma.VIDEO].value;S=this.j.gc[k.Qc.Ma.AUDIO].value;N.push({"Playing bitrate (a/v)":Ga+" / "+Fa,"Playing/Buffering vmaf":ka+"/"+Ea,"Buffering bitrate (a/v)":Sa+" / "+Oa,"Buffer size in Bytes (a/v)":this.j.T$()+" / "+this.j.$ma(),"Buffer size in Bytes":""+z,"Buffer size in Seconds (a/v)":q.Ah(this.j.nL())+" / "+q.Ah(this.j.GQ()),"Current CDN (a/v)":(S?S.name+", Id: "+S.id:"?")+" / "+(M?M.name+", Id: "+M.id:"?")});}catch(Xb){}try{if(this.j.ig.value&&this.j.gf.value){V=this.j.ig.value.stream.track;Z=this.j.gf.value.stream;ca=this.j.lj.value;da=this.KRa.eM(this.j.mg.value?this.j.mg.value.dc:[]);ea=this.KRa.$L(V.dc);ha=Z.Nf;ba=/hevc/.test(ha)?"hevc":/vp9/.test(ha)?"vp9":/h264hpl/.test(ha)?"avchigh":"avc";/hdr/.test(ha)&&(ba+=", hdr");/dv/.test(ha)&&(ba+=", dv");/prk/.test(ha)&&(ba+=", prk");N.push({"Audio Track":V.$k+", Id: "+V.ab+", Channels: "+V.uo+", Codec: "+ea,"Video Track":"Codec: "+da+" ("+ba+")","Timed Text Track":ca?ca.$k+", Profile: "+ca.profile+", Id: "+ca.ab:"none"});}}catch(Xb){}try{ia=this.j.Pi;ja=this.j.nf.value?this.j.nf.value.FX:0;ma=a(282).ZKa;N.push({Framerate:ja.toFixed(3),"Current Dropped Frames":f.ma(this.Hba)?this.Hba:"","Total Frames":ia.dB(),"Total Dropped Frames":ia.cB(),"Total Corrupted Frames":ia.SM(),"Total Frame Delay":ia.YX(),"Main Thread stall/sec":ma?ma.Blb().join(" "):"DISABLED",VideoDiag:l.wha(this.j.pY())});}catch(Xb){}try{N.push({Throughput:this.j.Fa+" kbps"});}catch(Xb){}na=void 0;try{Object.keys(this.Jba).forEach(function(a){na=na||{};na[a]=JSON.stringify(b.Jba[a]);});na&&N.push(na);}catch(Xb){}return N;};b.Jua=c;},function(d,b,a){var k,m,g;function c(a,b){this.config=a;this.j=b;this.Qx=!1;this.Qga=0;}Object.defineProperty(b,"__esModule",{value:!0});b.Yva=void 0;k=a(12);m=a(3);g=a(90);c.prototype.emb=function(a,b,c,f){var d,h,l,g,q;c=void 0===c?this.j.La:c;f=void 0===f?!1:f;d=b===k.ze.zz;h=this.j.wHa(c);f=this.Hab(d?a:this.wbb(a,c),f,c,h);d?(a=f,f=this.j.Eb.zr(h,f,c)):a=this.j.Eb.YL(h,f,c);b===k.ze.gz&&(this.j.eCa=f);l=this.Zt(a,b);g=(b===k.ze.Xs||b===k.ze.FJ)&&!this.j.YJa;g=(d=d||l||g)?a:f;if(this.j.js){q=this.config().L_;this.j.EIa(g,q)||b!==k.ze.Xs||(g=this.j.js.ca(m.ha)-q-1E3,d?(a=g,f=this.j.Eb.zr(h,g,c)):(a=this.j.Eb.YL(h,g,c),f=g));}return{UG:g,Ji:f,Dxb:a,Zt:l};};c.prototype.Hab=function(a,b,c,f){a=this.mqb()||b?Math.round(a):this.bnb(a,c,f);this.config().Vka&&(a+=this.config().Vka);return a;};c.prototype.Zt=function(a,b){return b===k.ze.zz||this.j.Ua.Oi&&this.Qx?!1:(b=this.j.Eb)&&b.Zt(a)||!1;};c.prototype.mqb=function(){return this.j.Ua.Oi?!0:"boolean"===typeof this.j.Ua.RO?this.j.Ua.RO:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?this.config().RO&&this.config().Vxb:this.config().RO;};c.prototype.wbb=function(a,b){b=this.j.wu(b).yr.ca(m.ha)-this.config().nIb;return g.vp(a,0,b);};c.prototype.bnb=function(a,b,c){var f;f=this.j.Ua.Oi?this.config().ZEa:this.config().tx;return this.j.Eb.xCa(a,c,f,b);};b.Yva=c;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.exa=void 0;c=a(0);k=a(199);m=a(1);d=function(){var b,d;function a(){}a.prototype.parse=function(a){var b,c;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);c=new k.h3(b);a=this.uwb(c);b=this.wwb(c,b,a);return{Eo:a,images:b};};a.prototype.uwb=function(a){var c,d,h,l;if(a.gl()<this.JAb())throw Error("array buffer too short");b.psa.forEach(function(b){if(b!=a.hf())throw Error("BIF has invalid magic.");});c=a.bC();if(c>b.VERSION)throw Error("BIF version in unsupported");d=a.bC();if(0==d)throw Error("BIF has no frames.");h=a.bC();l=a.te(b.sva);return{version:c,rvb:d,PSa:h,NAb:l};};a.prototype.wwb=function(a,b,c){var h,p;for(var f=[],d=0;d<=c.rvb;d++){p={timestamp:a.bC(),offset:a.bC()};void 0!=h&&f.push(b.subarray(h.offset,p.offset));h=p;}return f;};a.prototype.JAb=function(){return b.psa.length+4+4+4+b.sva;};d=b=a;d.psa=[137,66,73,70,13,10,26,10];d.VERSION=0;d.sva=44;return d=b=c.__decorate([m.N()],d);}();b.exa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.y7=void 0;b.y7="TrickPlayParserSymbol";},function(d,b,a){var k,m;function c(a,b,c,d,f,p,m,g,n,E,G){this.index=a;this.G=b;this.La=c;this.Ua=d;this.ga=f;this.xk=p;this.kha=m;this.rcb=n;this.RLa=G;this.ed=new k.Mc(null);this.mg=new k.Mc(null);this.uc=new k.Mc(null);this.lj=new k.Mc(null);this.Ds=new k.Mc(void 0);this.nf=new k.Mc(null);this.Zk=new k.Mc(null);this.ig=new k.Mc(null);this.gf=new k.Mc(null);this.$b=new k.Mc(void 0);this.playbackRate=new k.Mc(1);this.qn=new k.Mc(null);this.Xt=this.cx="notcached";this.background=!1;g&&(this.nf.set(g.nf.value),this.Zk.set(g.Zk.value));this.qm=E(this);this.wk=this.RLa.Vzb(this.ga,this.xk);}Object.defineProperty(b,"__esModule",{value:!0});b.Mua=void 0;k=a(185);m=a(3);c.prototype.cd=function(a){this.wk.jn(a);};c.prototype.Cu=function(a){var b;b=this;Object.keys(a).forEach(function(c){b.wk.jn(c,m.Gb(a[c]-b.xk.ca(m.ha)));});};c.prototype.B_=function(){this.RLa.jAb(this.ga);};na.Object.defineProperties(c.prototype,{le:{configurable:!0,enumerable:!0,get:function(){return this.Ua.le;}},ik:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.ik;}},nn:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.nn;}},Hm:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.Hm;}},Fv:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.Fv;}},Fk:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.Fk;}},hg:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.hg;}},Lu:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.Lu;}},rq:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.rq;}},oj:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.oj;}},f0:{configurable:!0,enumerable:!0,get:function(){return this.cc&&this.cc.f0;}},yr:{configurable:!0,enumerable:!0,get:function(){return this.n8&&0<this.n8.ca(m.ha)?this.n8:m.Gb(this.va?this.va.Mf.duration:0);},set:function(a){this.n8=a;}},Vh:{configurable:!0,enumerable:!0,get:function(){return this.Ua.Vh||0;}},Gba:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.eW?this.eW:void 0===this.$b.value?null:this.rcb(this.$b.value,this.La);}},fk:{configurable:!0,enumerable:!0,get:function(){var a,b;return null===(b=null===(a=this.va)||void 0===a?void 0:a.Mf.CCa)||void 0===b?void 0:b.OB;}},lC:{configurable:!0,enumerable:!0,get:function(){var a,b;return null===(b=null===(a=this.va)||void 0===a?void 0:a.Mf.CCa)||void 0===b?void 0:b.lC;}},ld:{configurable:!0,enumerable:!0,get:function(){return this.wk.ld;}}});b.Mua=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.s6=void 0;b.s6="PlayTimeTrackerFactorySymbol";},function(d,b,a){var k,m,g,q,l,h,f,p,y;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Dua=void 0;k=a(0);m=a(1);g=a(8);q=a(15);l=a(100);a(3);h=a(23);f=a(86);p=a(10);y=a(17);c.prototype.encode=function(a){return{key:a.key,downloadableId:a.gd,bitrate:a.O,vmaf:a.vc,duration:a.duration,metric:a.iO,cdnId:a.ex};};c.prototype.decode=function(a){return{key:a.key,gd:a.downloadableId,O:a.bitrate,vc:a.vmaf,duration:a.duration,iO:a.metric,ex:a.cdnId};};d=function(){var b;function a(a,b,c,f,d){var h;h=this;this.ph=a;this.config=c;this.Ga=f;this.debug=d;this.b0=[];this.Vo=[];this.mja=[];this.sA={};this.OEa=!1;this.vL={};this.iga=0;this.log=b.xb("PlayTimeTracker");this.startTime=this.ph.$b.value;this.OZ=this.config().d8a;this.NQ();this.sA.abrdel=0;this.OZ.forEach(function(a){a="abrdel"+a;h.vL[a]=0;h.sA[a]=0;});}a.prototype.eN=function(){var a;this.tC(this.ph.$b.value);a=0;this.Vo.forEach(function(b){a+=b.endTime-b.startTime;});this.debug.assert(a===Math.floor(a),"Value of totalPlayTime is not an integer.");return Math.floor(a);};a.prototype.pIa=function(){var a;this.tC(this.ph.$b.value);a=0;this.Vo.forEach(function(b){a+=(b.endTime-b.startTime)*b.dPa;});return Math.floor(a);};a.prototype.hkb=function(){this.tC(this.ph.$b.value);return{audio:this.WM(this.b0,this.ZGa),video:this.WM(this.Vo,this.ZGa)};};a.prototype.smb=function(){var a;a={total:this.eN(),totalContentTime:this.pIa(),audio:this.WM(this.b0,this.WX),video:this.WM(this.Vo,this.WX),timedtext:this.WM(this.mja,this.WX)};this.debug.assert(!(!a.audio||!a.video));return a;};a.prototype.BGa=function(){var a,b;this.tC(this.ph.$b.value);a=this.Tda(this.Vo,this.ukb);try{b=this.CGa(a);}catch(N){return this.log.warn("Failed to calc average bitrate."),null;}this.sA.abrdel=Math.round(b);return this.sA.abrdel;};a.prototype.mkb=function(){var a,b;this.tC(this.ph.$b.value);a=this.Tda(this.Vo,this.Hnb);try{b=this.CGa(a);}catch(N){return this.log.warn("Failed to calc average vmaf."),null;}return Math.round(b);};a.prototype.lkb=function(){var a,b;a=this;if(!this.OEa){b=this.eN();this.OZ.forEach(function(c){var f,d,h;if(0===a.vL["abrdel"+c]&&b>c*p.cj){f=0;d=0;h=0;a.Vo.some(function(a){f+=a.stream.O*(a.endTime-a.startTime);d+=a.endTime-a.startTime;h=a.stream.O;if(d>c*p.cj)return!0;});f&&(a.vL["abrdel"+c]=Math.round((f-h*(d-c*p.cj))/(c*p.cj)));}});0!==this.vL["abrdel"+this.OZ[this.OZ.length-1]]&&(this.OEa=!0);y.yd(this.vL,function(b,c){a.sA[b]=0===c?a.sA.abrdel:c;});}return this.sA;};a.prototype.z8a=function(a){this.iga+=a;};a.prototype.sob=function(){return!!(this.Vo[0]&&this.Vo[0].stream&&this.Ga.Td(this.Vo[0].stream.vc));};a.prototype.NQ=function(){var a;a=this;this.ph.ig.addListener(function(b){a.hF=a.ICa(a.hF,a.b0,b.newValue);});this.ph.gf.addListener(function(b){a.jF=a.ICa(a.jF,a.Vo,b.newValue);});this.ph.playbackRate.addListener(function(b){a.tC(a.ph.$b.value,b.oldValue);});this.ph.lj.addListener(this.Fvb.bind(this));};a.prototype.fvb=function(a,b){this.tC(a);this.startTime=b;this.jF=this.hF=void 0;this.iF&&(this.iF.startTime=this.startTime);};a.prototype.Fvb=function(a){this.WO(this.iF,this.mja,this.ph.$b.value);this.iF=a.newValue?{track:a.newValue,startTime:this.ph.$b.value,endTime:l.Rs}:void 0;};a.prototype.tC=function(a,b){b=void 0===b?this.ph.playbackRate.value:b;a&&this.hF&&this.jF&&(a=Math.min(a,this.hF.endTime,this.jF.endTime),this.WO(this.hF,this.b0,a,b),this.hF.startTime=a,this.WO(this.jF,this.Vo,a,b),this.jF.startTime=a,this.iF&&(this.WO(this.iF,this.mja,a,b),this.iF.startTime=a),this.startTime=a);};a.prototype.ICa=function(a,b,c){a&&this.WO(a,b,Math.min(a.endTime,this.ph.$b.value));if(c&&c.stream)return a=c.vo,b=c.stream,{gc:c.gc,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime};};a.prototype.WO=function(a,b,c,f){f=void 0===f?this.ph.playbackRate.value:f;a&&c&&c>=a.startTime&&(a={gc:a.gc,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c,dPa:f},(c=b[b.length-1])&&c.track===a.track&&c.stream===a.stream&&c.gc===a.gc&&c.endTime===a.startTime?c.endTime=a.endTime:b.push(a));};a.prototype.Tda=function(a,b){var c,f;c=this;f={};return a.reduce(function(a,d){var h,p,l;h=b.bind(c,d)();p=h.key;d=d.endTime-d.startTime;l=f[p];l?l.duration+=d:(delete h.key,l=h,l.duration=d,a.push(l),f[p]=l);return a;},[]);};a.prototype.WM=function(a,b){return this.Tda(a,b).map(function(a){return new c().encode(a);});};a.prototype.WX=function(a){var b,c,f;f=a.stream;f?(a=f.gd,b=f.O,c=f.vc):a=a.track.gd;return{key:a+"$"+(b||0),gd:a,O:b,vc:c};};a.prototype.ZGa=function(a){var b;b=this.WX(a);a=a.gc.id;return Object.assign({},b,{key:b.key+"$"+a,ex:a});};a.prototype.ukb=function(a){a=(a=a.stream)?a.O:0;return{key:a,iO:a};};a.prototype.Hnb=function(a){a=(a=a.stream)?a.vc:0;return{key:a,iO:a};};a.prototype.CGa=function(a){var b,c,f;b=this;c=0;a.forEach(function(a){if(b.Ga.Td(a.duration)&&b.Ga.Td(a.iO))c+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!c)return 0;f=0;a.forEach(function(a){f+=a.iO*a.duration/c;});return f;};b=a;return b=k.__decorate([m.N(),k.__param(1,m.l(g.Ab)),k.__param(2,m.l(q.dd)),k.__param(3,m.l(h.Ie)),k.__param(4,m.l(f.Jq))],b);}();b.Dua=d;},function(d,b,a){var k,m,g,q,l,h;function c(a){var b,c;b=this;this.j=a;this.Lvb=function(){var a;g.Fe.removeListener(g.vY,b.nNa);a=b.Go.zn();a&&a.parentNode&&a.parentNode.removeChild(a);};this.Uia=function(a){b.Go.FCb(a.newValue);};this.awb=function(a){b.Go.LCb(a.newValue?a.newValue.oZ:void 0);};this.nNa=function(){b.Go.xH();};this.Go=new l.Swa(q.config.rma,a.uc.value?a.uc.value.oZ:void 0);c=a.rI;m.eb(.1<c.width/c.height);this.Go.vCb(c.width/c.height);a.Ff.appendChild(this.Go.zn());a.Ds.addListener(this.Uia);a.uc.addListener(this.awb);a.addEventListener(h.U.uf,this.Lvb,k.uz);g.Fe.addListener(g.vY,this.nNa);}Object.defineProperty(b,"__esModule",{value:!0});b.Uwa=void 0;k=a(10);m=a(16);g=a(56);q=a(11);l=a(289);h=a(12);c.prototype.wla=function(a){this.Go.wla(a);};c.prototype.gfa=function(){return this.Go.gfa();};c.prototype.ula=function(a){this.Go.ula(a);};c.prototype.efa=function(){return this.Go.efa();};c.prototype.vla=function(a){this.Go.vla(a);};c.prototype.ffa=function(){return this.Go.ffa();};b.Uwa=c;},function(d,b,a){var c,k,m,g,q,l,h,f,p;Object.defineProperty(b,"__esModule",{value:!0});b.Rwa=void 0;d=a(57);c=a(11);k=a(56);m=a(5);g=a(21);q=a(232);l=a(126);h=a(67);f=a(102);p=a(12);d.A6(d.w6,function(a){var d;function b(b){var c;if(b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==f.Nq.X1a){c=g.createElement("INPUT",void 0,void 0,{type:"file"});c.addEventListener("change",function(){var b,f,h;b=c.files[0];if(b){f=b.name;d.info("Loading file",{FileName:f});h=new FileReader();h.readAsText(b);h.addEventListener("load",function(){return a.On.q$("nourl",f,{content:h.result});});}});c.click();}}d=m.Rg(a,"TimedTextCustomTrack");c.config.Iba&&(d.info("Loading url",{Url:c.config.Iba}),a.On.q$(c.config.Iba,"custom"));k.Fe.addListener(k.Kx,b);a.addEventListener(p.U.uf,function(){k.Fe.removeListener(k.Kx,b);});});a=function(){function a(a,b,c,f,d){var h,p;a=q.Ez.call(this,b,a,a,"1",{0:c},[{id:0,name:"custom"}],"xx",f||a,l.Sm.yD,"primary",null!==(h=null===d||void 0===d?void 0:d.profile)&&void 0!==h?h:"custom",null!==(p=null===d||void 0===d?void 0:d.midx)&&void 0!==p?p:{},!1,!1,null===d||void 0===d?void 0:d.isLanguageLeftToRight)||this;a.j=b;a.url=c;a.options=d;a.Dq=null===d||void 0===d?void 0:d.useRangeHeader;return a;}ca(a,q.Ez);a.peb=function(b,c,f,d){var h;h="custom"+a.ypb++;return new a(h,b,c,f,d);};a.prototype.REa=function(){var a;a=this;return new Promise(function(b,c){var f,d;if(null===(f=a.options)||void 0===f?0:f.content)b(a.options.content);else if(a.url){d={responseType:h.Jfa,url:a.url,track:a,gc:null,JA:"tt-"+a.$k};a.j.PY.download(d,function(f){f.aa?b(f.content):(f.reason="downloadfailed",f.url=d.url,f.track=a,c(f));});}});};a.ypb=0;return a;}();b.Rwa=a;},function(d,b,a){var m;function c(a,b,c){this.start=a;this.track=b;this.aI=Array.isArray(c)?c:[];}function k(a,b){this.log=a;this.NC=b;this.Uja=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.zwa=void 0;m=a(16);k.prototype.l8a=function(a,b){this.vMa(a,b,"activating");};k.prototype.nfb=function(a){this.Jca(a,"de-activating");};k.prototype.vMa=function(a,b,d){var h;this.pj&&this.Jca(a,"close current for new");h=[];this.orphans.length&&(h.push.apply(h,[].concat(ea(this.orphans))),this.orphans=[]);this.pj=new c(a,b,h);this.NC&&this.log.trace("new range: "+d,this.pj);};k.prototype.Jca=function(a,b){this.pj&&(this.pj.end=a,this.Uja.push(this.pj),this.NC&&this.log.trace("end range: "+b,this.pj||{}),this.pj=void 0);};k.prototype.LTa=function(a){this.pj?this.pj.aI.push(a):this.orphans.push(a);};k.prototype.afa=function(a){var b,d;b=this.Uja.slice(0);if(this.pj&&"undefined"!==typeof a){d=new c(this.pj.start,this.pj.track,this.pj.aI);d.end=a;b.push(d);}a=b.reduce(function(a,b){var c,f,d,h;if(!b.track)return a;f=b.track.gd;d=b.track.Hx(b.start,b.end);if(!d)return a;h=new Set(b.aI);a[f]?(b=a[f],b.expected+=d.length,b.missed+=d.length-h.size):a[f]={dlid:f,bcp47:b.track.$k,profile:b.track.profile,expected:d.length,missed:d.length-h.size,startPts:null!==(c=b.track.cnb())&&void 0!==c?c:0};return a;},{});a=Object.values(a);this.NC&&this.log.trace("subtitleqoe:",JSON.stringify(a,null,"\t"));return a;};k.prototype.Rmb=function(a){var b,d,h,f;b=this.Uja.slice(0);d=0;h=0;this.pj&&"undefined"!=typeof a&&(f=new c(this.pj.start,this.pj.track,this.pj.aI),f.end=a,b.push(f));b.forEach(function(a){var b,c;if(a.track){if(a.end<a.start){m.eb("negative range",a);a.xy=0;return;}b=new Set(a.aI);c=a.track.Hx(a.start,a.end);a.Qp=c?c.map(function(a){return a.id;}):[];a.xy=c?0===c.length?100:100*b.size/c.length:0;}else a.xy=100;b=a.end-a.start;d+=b;h+=a.xy*b;});f=d?Math.round(h/d):100;this.log.trace("qoe score "+f+", at pts: "+a);this.NC&&(a=b.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.xy),lang:a.track?a.track.$k:"none","actual  ":a.aI.join(" "),expected:(a.Qp||[]).join(" ")};}),this.log.trace("score for each range: ",JSON.stringify(a,function(a,b){return b;}," ")));return f;};b.zwa=k;},function(d,b,a){var c,k,m,g,q,l,h,f,p,y,n,K,r;Object.defineProperty(b,"__esModule",{value:!0});b.Twa=void 0;c=a(232);k=a(293);m=a(76);g=a(11);q=a(46);l=a(5);h=a(616);f=a(2);p=a(50);y=a(14);n=a(12);K=a(615);r=a(60);d=function(){var b;function a(b){var d;d=this;this.j=b;this.ama=this.oMa=0;this.uf=this.rm=!1;this.I0=0;this.iI=function(){var a,b;d.H0();d.VDa&&(d.log.info("Deactivating",d.VDa),d.Ey.nfb(d.Xd()));d.j.lj.set(null);d.DC.dRa(d.entries=void 0);d.UCa();a=d.j.uc.value;a&&a.pZ()&&!a.kZ()&&(a=null);if(a&&d.j.Nb.value!==n.ib.Vf){b=d.Xd();d.Ey.l8a(b,a);}a?(d.log.info("Activating",a),d.j.Ek.set(a.Yc()===c.Ez.X6.LOADED?n.Ue.qd:n.Ue.ve),d.rm||d.j.cd("tt_start"),a.getEntries().then(d.JE)["catch"](d.JE)):d.j.Ek.set(n.Ue.qd);d.VDa=a;d.mI();};this.hma=function(){d.rm&&(d.DC.start(),d.j.Nb.value!==n.ib.Nc&&d.DC.stop());};this.mI=function(){var b;d.j.state.value===n.mb.qd&&d.j.Nb.value!==n.ib.Vf&&(d.entries?b=d.DC.Xjb():d.j.uc.value&&(b=a.cEb[d.j.uc.value.Yc()]));b&&y.Wb(b.startTime)&&(d.oMa++,d.ama+=d.DC.JHa()-b.startTime,d.UBa=Math.ceil(d.ama/(d.oMa+0)));d.j.Ds.set(b);};this.Xd=function(){return d.j.Kea();};this.Zvb=function(b){d.fireEvent(a.FDb,b);b&&b.id&&d.Ey.LTa(b.id);d.log.trace("showsubtitle",d.gIa(b));};this.Uvb=function(b){d.fireEvent(a.rAb,b);d.log.trace("removesubtitle",d.gIa(b));};this.tk=function(){d.log.warn("imagesubs buffer underflow",d.j.uc.value.Ug);d.j.Ek.set(n.Ue.ve);};this.Gvb=function(){d.log.info("imagesubs buffering complete",d.j.uc.value.Ug);d.j.Ek.set(n.Ue.qd);};this.gNa=function(){d.rm&&d.cg&&d.cg.Cq(d.Xd());};this.kNa=function(a){d.cg&&d.cg.KP&&d.cg.KP(a.sg,a.tO);};this.pNa=function(a){d.cg&&d.cg.kp&&d.cg.kp(a.La,a.YGb);};this.I_=function(){d.rm=!0;p.ic(function(){d.cg?d.cg.Cq(d.Xd()):d.hma();d.mI();});};this.yO=function(){d.entries=void 0;d.UCa();d.DC.stop();d.mI();d.uf=!0;d.H0();};this.Uia=function(a){(a=a.newValue)&&y.Wb(a.id)&&d.Ey.LTa(a.id);};this.Rvb=function(a){d.SGb(a.newValue,a.oldValue);d.hma();};this.JE=function(a){var b;if(!d.uf){b=a.track;if(b===d.j.uc.value)try{b.Dn?d.j8a(a):d.k8a(a);}catch(R){d.log.error("Error activating track:",R,b);return;}d.rm||d.j.cd(a.aa?"tt_comp":"tt_err");a.aa?(g.config.qQa?setTimeout(function(){d.j.Ek.set(n.Ue.qd);},g.config.qQa):d.j.Ek.set(n.Ue.qd),b.Dn||d.mI()):a.jr?d.log.warn("aborted timed text track loading"):g.config.Dib?(b=l.Y.get(r.Mk),d.j.Sd(b(f.J.AZa,{nb:a.track?a.track.Ug:{}}))):(d.log.error("ignore subtitle initialization error",a),d.j.Ek.set(n.Ue.qd));}};this.Jb=new m.aj();this.Ey=new h.zwa(l.Rg(b,"SubtitleTracker"),g.config.Jhb);this.log=l.Rg(b,"TimedTextManager");this.DC=new k.Vwa(this.Xd,this.mI);this.j.uc.addListener(this.iI);g.config.Sxb?(this.j.addEventListener(n.U.Jn,this.I_),this.iI()):(this.j.Ek.set(n.Ue.qd),this.j.addEventListener(n.U.Jn,function(){d.rm=!0;d.iI();}));this.j.Nb.addListener(this.Rvb);this.j.addEventListener(n.U.mma,this.hma);this.j.Ds.addListener(this.Uia);this.j.addEventListener(n.U.uf,this.yO);}a.prototype.addEventListener=function(a,b,c){this.Jb.addListener(a,b,c);};a.prototype.removeEventListener=function(a,b){this.Jb.removeListener(a,b);};a.prototype.fireEvent=function(a,b,c){this.Jb.Ub(a,b,c);};a.prototype.q$=function(a,b,c){var f;f=K.Rwa.peb(this.j,a,b,c);this.j.Fk.push(f);this.j.nn.forEach(function(a){q.Ena(a.Fk,f);});this.j.uc.set(f);this.j.fireEvent(n.U.EC);};a.prototype.$xb=function(a){this.wka(a)?a.getEntries().then(function(){}):Promise.resolve();};a.prototype.hnb=function(a){return this.Ey.Rmb(a);};a.prototype.afa=function(a){return this.Ey.afa(a);};a.prototype.mY=function(){var a,b;a=this.j.nQ;b=g.config.MSa.characterSize;b={size:g.config.sma.characterSize||b};a&&(b.visibility=a.gfa(),b.AL=a.efa(),b.Oo=a.ffa());return b;};a.prototype.$Cb=function(a){g.config.sma.characterSize=a;a=this.j.uc.value;this.wka(a)&&!a.Dn&&a.getEntries().then(this.JE)["catch"](this.JE);};a.prototype.SGb=function(a,b){var c;a===n.ib.Nc||a==n.ib.Bh?b!==n.ib.Nc&&b!==n.ib.Bh&&((b=this.j.uc.value)&&!this.wka(b)||this.Ey.vMa(this.Xd(),b||void 0,"presentingstate:"+a)):a!==n.ib.Vf&&a!==n.ib.Lq||this.Ey.Jca(null!==(c=this.Xd())&&void 0!==c?c:void 0,"presentingstate:"+a);};a.prototype.H0=function(){this.I0=0;clearTimeout(this.cBb);};a.prototype.UCa=function(){this.cg&&(this.cg.stop(),this.dLa("removeListener"));this.cg=void 0;};a.prototype.dLa=function(a){this.cg&&(this.cg[a]("showsubtitle",this.Zvb),this.cg[a]("removesubtitle",this.Uvb),this.cg[a]("underflow",this.tk),this.cg[a]("bufferingComplete",this.Gvb),"addListener"===a?(this.j.addEventListener(n.U.yo,this.gNa),this.j.addEventListener(n.U.w_,this.kNa),this.j.addEventListener(n.U.kp,this.pNa)):(this.j.removeEventListener(n.U.yo,this.gNa),this.j.removeEventListener(n.U.w_,this.kNa),this.j.removeEventListener(n.U.kp,this.pNa)));};a.prototype.gIa=function(a){return{currentPts:this.Xd(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};a.prototype.j8a=function(a){var b,c;b=this;c=a.track;if(!c||!c.Dn)throw Error("Not an image base subtitle");a.aa?(this.H0(),this.cg=c.cg,this.dLa("addListener"),this.log.info("Activated",c),this.j.lj.set(c),this.rm?p.ic(function(){b.cg.Cq(b.Xd());}):this.cg.pause()):this.hQa(c,a);};a.prototype.k8a=function(a){var b,c;b=a.track;c=a.entries;if(!b||b.Dn)throw Error("Not a valid text track");c?(this.H0(),this.DC.dRa(this.entries=c),this.log.info("Activated",b),this.j.lj.set(b)):this.hQa(b,f.Un(a));this.mI();};a.prototype.hQa=function(a,b){var c,f;c=this;f=this.I0<g.config.jtb;f&&(this.cBb=setTimeout(function(){c.I0++;a.getEntries().then(c.JE)["catch"](c.JE);},g.config.sFb));this.log.error("Failed to activate"+((null===a||void 0===a?0:a.Dn)?" img subtitle":""),{retry:f},b,a);};a.prototype.wka=function(a){return!(!a||a.pZ()&&!a.kZ());};b={};a.cEb=(b[c.Ez.X6.LOADING]={bTb:!0},b[c.Ez.X6.jJ]={yx:!0},b);a.FDb="showsubtitle";a.rAb="removesubtitle";return a;}();b.Twa=d;},function(d,b,a){var q,l,h,f,p,y,n,K,r,G,N,C,u,P,aa,R,A,T,oa,fa,U,la,O,sa,z,F,Q;function c(a){var b;b=this;this.j=a;this.qUa=Promise.resolve();this.H3=M.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.Nw=[];this.Xj=new y.aj();this.gya=this.V7=0;this.MT=[];this.wb=r.Rg(this.j,"MediaElementASE");this.Zza=aa.Ke;this.u8=!1;this.Lf={};this.jK={};this.dB=this.OT(function(){var a;if(b.bb){a=b.eU();return a?a.totalVideoFrames:b.bb.webkitDecodedFrameCount;}});this.cB=this.OT(function(){var a;if(b.bb){a=b.eU();return a?a.droppedVideoFrames:b.bb.webkitDroppedFrameCount;}});this.SM=this.OT(function(){var a;if(b.bb){a=b.eU();return a&&a.corruptedVideoFrames;}});this.YX=this.OT(function(){var a;if(b.bb){a=b.eU();return a&&A.zh(a.totalFrameDelay*aa.cj);}});this.Xya=function(a){return b.Xj.Ub(fa.ai.zKa,{oa:a});};this.zj=r.Y.get(oa.P4).create(p.config.mp,this,this.j);p.config.Vx&&(this.qUa=new Promise(function(a){b.Zza=a;b.j.addEventListener(O.U.uf,a);}));this.wb.trace("Created Media Element");this.addEventListener=this.Xj.addListener;this.removeEventListener=this.Xj.removeListener;this.bb=k(this.j.rI);this.sourceBuffers=this.Nw;}function k(a){var b,c;b=r.Y.get(U.L7).Kmb();a=a.width/a.height*b.height;c=(b.width-a)/2;return p.config.dDb?aa.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+c+"px;top:0px"):aa.createElement("VIDEO","position:absolute;width:100%;height:100%");}function m(a){a.preventDefault();return!1;}function g(a,b){var c,f,d;c=a.target;c=c&&c.error;f=a.errorCode;d=c&&c.code;aa.Wb(d)||(d=f&&f.code);f=c&&c.msExtendedCode;aa.Wb(f)||(f=c&&c.systemCode);aa.Wb(f)||(f=a.systemCode);a=aa.sb({},{code:d,systemCode:f},{ev:!0});b={da:b(d),nb:R.wha(a)};try{c&&c.message&&(b.cO=c.message);}catch(Ea){}f=aa.Ld(f);T.ma(f)&&(b.Vd=r.gaa(f,4));return{HF:b,jsb:a};}Object.defineProperty(b,"__esModule",{value:!0});b.Ssa=void 0;q=a(49);l=a(186);h=a(60);f=a(10);p=a(11);y=a(76);n=a(56);K=a(46);r=a(5);G=a(2);N=a(16);C=a(90);u=a(471);P=a(17);aa=a(21);R=a(184);A=a(9);T=a(14);oa=a(294);fa=a(183);U=a(318);la=a(3);O=a(12);sa=a(130);z=a(52);F=!!(A.tD&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);Q=F&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||A.sD);c.prototype.UM=function(a){try{this.bb&&(this.gya=this.bb.currentTime);}catch(ga){this.wb.error("Exception while getting VIDEO.currentTime",ga);a&&this.SD(G.J.G0a,ga);}return A.zh(this.gya*aa.cj);};c.prototype.seek=function(a){var b;N.eb(!this.cn);this.Uza();b=this.UM(!0);if(!p.config.j9a&&A.nz(b-a)<=this.Wka)this.wb.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.Wka});else try{this.wb.trace("Setting video elements currentTime",{From:C.Ah(b),To:C.Ah(a)});this.cn={};this.bb.currentTime=a/aa.cj;this.Xj.Ub(fa.ai.yo);}catch(Ga){this.wb.error("Exception while setting VIDEO.currentTime",Ga);this.SD(G.J.H0a,Ga);}};c.prototype.Smb=function(){return!!this.cn;};c.prototype.addSourceBuffer=function(a){var b,c;b=aa.Ld(this.V7.toString()+this.Nw.length.toString());b={sourceId:this.V7,KV:b};try{c=new l.m5(this.j,a,this.Ye,b,this.wb);this.Nw.push(c);a==f.nD&&c.uda&&c.uda.addListener(this.Zza);return c;}catch(Fa){c=aa.Ee(Fa);this.wb.error("Unable to add source buffer.",{error:c});b=r.Y.get(h.Mk);this.j.Sd(b(G.J.U5,{da:a===q.Qc.Qj.AUDIO?aa.u.zsa:aa.u.Asa,nb:c}));}};c.prototype.sV=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.Xj.Ub(fa.ai.LRa);return!0;};c.prototype.removeSourceBuffer=function(a){this.Nw=this.Nw.filter(function(b){return!K.Xaa(a,b);});this.Ye.removeSourceBuffer(a);};c.prototype.endOfStream=function(){p.config.zaa&&this.Ye.endOfStream();};c.prototype.un=function(a){this.Nw=[];a&&a.dUb();return!0;};c.prototype.uCb=function(a){this.V7=a;};c.prototype.IHa=function(){if(this.Ye)return la.AOa(this.Ye.duration);};c.prototype.NCb=function(a){this.Ye&&(this.Ye.duration=a.d0(la.Fl));};c.prototype.tgb=function(){var a;if(!this.u8&&this.bb&&this.bb.readyState>=z.Od.Lqa.HAVE_CURRENT_DATA){a=this.bb.webkitDecodedFrameCount;if(void 0===a||0<a||p.config.fIb)this.u8=!0;}return this.u8;};c.prototype.open=function(){var a,b,c;a=this;this.j.addEventListener(O.U.zRa,function(b){return a.h6a(b);});if(F){if(this.j.Lu){if(!Q){this.Xm(G.J.Pta);return;}if(A.sD&&A.sD.isTypeSupported&&this.zj.Yd)try{if(!A.sD.isTypeSupported(this.zj.Yd,"video/mp4")){this.H7a(function(b){a.Xm(G.J.S5,b);});return;}}catch(Fa){this.SD(G.J.S5,Fa);return;}}try{this.Ye=new A.tD();}catch(Fa){this.SD(G.J.w0a,Fa);return;}try{this.Xk=URL.createObjectURL(this.Ye);}catch(Fa){this.SD(G.J.x0a,Fa);return;}try{this.zj.C8a(this.Xya);this.Ye.addEventListener("sourceopen",function(b){return a.vza(b);});this.Ye.addEventListener(this.H3+"sourceopen",function(b){return a.vza(b);});this.bb.addEventListener("error",this.Lf.error=function(b){return a.pE(b);});this.bb.addEventListener("seeking",this.Lf.seeking=function(){return a.g6a();});this.bb.addEventListener("seeked",this.Lf.seeked=function(){return a.p9();});this.bb.addEventListener("timeupdate",this.Lf.timeupdate=function(){return a.j6a();});this.bb.addEventListener("loadstart",this.Lf.loadstart=function(){return a.EK();});this.bb.addEventListener("volumechange",this.Lf.volumechange=function(b){return a.k6a(b);});this.bb.addEventListener(this.zj.KB,this.Lf[this.zj.KB]=function(b){return a.c6a(b);});b=this.j.Ff;c=b.lastChild;c?b.insertBefore(this.bb,c):b.appendChild(this.bb);p.config.FEa&&this.bb.addEventListener("contextmenu",m);this.bb.src=this.Xk;n.Fe.addListener(n.gG,this.jK[n.gG]=function(){return a.uza();});this.uza();}catch(Fa){this.SD(G.J.y0a,Fa);}}else this.Xm(G.J.Qta);};c.prototype.close=function(){var b;function a(){b.Xk&&(b.Uza(),n.Fe.removeListener(n.gG,b.jK[n.gG]),b.q3a());}b=this;this.bb.removeEventListener(this.zj.KB,this.Lf[this.zj.KB]);this.bb.removeEventListener("error",this.Lf.error);this.bb.removeEventListener("seeking",this.Lf.seeking);this.bb.removeEventListener("seeked",this.Lf.seeked);this.bb.removeEventListener("timeupdate",this.Lf.timeupdate);this.bb.removeEventListener("loadstart",this.Lf.loadstart);this.bb.removeEventListener("volumechange",this.Lf.volumechange);this.zj.fAb(this.Xya);p.config.mp?this.zj.dOa().then(function(){return a();}):a();this.zj.NPa&&clearTimeout(this.zj.NPa);};c.prototype.c6a=function(a){return this.zj.Qia(a);};c.prototype.eU=function(){if(this.bb)return this.bb.getVideoPlaybackQuality&&this.bb.getVideoPlaybackQuality()||this.bb.videoPlaybackQuality||this.bb.playbackQuality;};c.prototype.n7a=function(){var a;a=this.j.Mi;return(a=a&&a.errorCode)&&0<=[G.J.CS,G.J.dS].indexOf(a);};c.prototype.q3a=function(){var a;a=!1;p.config.pyb&&this.n7a()&&(a=!0);p.config.Ebb&&!a&&(this.bb.removeAttribute("src"),this.bb.load&&this.bb.load());URL.revokeObjectURL(this.Xk);p.config.FEa&&this.bb.removeEventListener("contextmenu",m);!a&&this.bb&&this.j.Ff.removeChild(this.bb);this.bb=this.Ye=void 0;this.Xk="";};c.prototype.uza=function(){!0===A.$d.hidden?this.MT.forEach(function(a){a.refresh();a.TDb();}):this.MT.forEach(function(a){a.refresh();a.hEb();});};c.prototype.OT=function(a){var b;b=r.Y.get(u.J5)(a);this.MT.push(b);return function(){b.refresh();return b.Lkb();};};c.prototype.SD=function(a,b){var c,f;c={da:aa.u.yh,nb:aa.Ee(b)};try{(f=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==f.length&&(c.Vd=f);}catch(ka){}b=r.Y.get(h.Mk);this.j.Sd(b(a,c));};c.prototype.Uza=function(){this.MT.forEach(function(a){a.refresh();});};c.prototype.i4a=function(){return this.bb&&this.bb.msGraphicsTrustStatus;};c.prototype.Xm=function(a,b,c){var f;f=r.Y.get(h.Mk);this.j.Sd(f(a,b,c));};c.prototype.H7a=function(a){var c,d;function b(f){b=aa.Ke;c.th();a(f);}c=r.Y.get(sa.Gz)(500,function(){b();});c.qu();try{d=this.j.nf.value.Eo.JTb.children.filter(function(a){return"pssh"==a.type&&a.Zgb==f.Lpa;})[0];new A.sD(this.zj.Yd).createSession("video/mp4",d.raw,null).addEventListener(this.H3+"keyerror",function(a){a=g(a,G.M3);b(a.HF);});}catch(ka){b();}};c.prototype.h6a=function(a){var b,d,h,l,k,m,g;if(this.bb){a=a.IQ;b=this.i4a();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.bb.readyState;a.currentTime=""+this.bb.currentTime;a.pbRate=""+this.bb.playbackRate;}catch(Ia){}for(var b=this.Nw.length,c;b--;){c=this.Nw[b];d="";c.type==f.jS?d="audio":c.type==f.nD&&(d="video");aa.sb(a,c.PX(),{prefix:d});p.config.Ahb&&this.j.Mi&&f.nD==c.type&&(d=aa.OH(c.TX()),3E3>(d.data&&d.data.length)&&(d.data=P.DDa(d.data).join(),aa.sb(a,d,{prefix:c.type})));}this.Ye&&(b=this.Ye.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(p.config.ksb)try{h=this.j.wf;l=h&&h.Pqb;if(l){k=l.expiration;isNaN(k)||(a.exp=k);m=l.keyStatuses.entries();if(m.next){g=m.next().value;g&&(a.keyStatus=g[1]);}}}catch(Ia){}}};c.prototype.vza=function(a){this.p7a||(this.p7a=!0,this.Xj.Ub(fa.ai.MRa,a));};c.prototype.g6a=function(){this.wb.trace("Video element event: seeking");this.cn?this.cn.vvb=!0:(this.wb.error("unexpected seeking event"),p.config.Fib&&this.Xm(G.J.M0a));};c.prototype.p9=function(){this.wb.trace("Video element event: seeked");this.cn?(N.eb(this.cn.vvb),this.cn.uvb=!0,this.tAa()):(this.wb.error("unexpected seeked event"),p.config.Eib&&this.Xm(G.J.L0a));};c.prototype.j6a=function(){this.cn&&(this.cn.xvb=!0,this.tAa());this.Xj.Ub(fa.ai.yo);};c.prototype.EK=function(){this.wb.trace("Video element event: loadstart");};c.prototype.k6a=function(a){this.wb.trace("Video element event:",a.type);try{this.j.volume.set(this.bb.volume);this.j.muted.set(this.bb.muted);}catch(ga){this.wb.error("error updating volume",ga);}};c.prototype.pE=function(a){a=g(a,G.pqa);this.wb.error("Video element event: error",a.jsb);this.Xm(G.J.E0a,a.HF);};c.prototype.tAa=function(){this.cn&&this.cn.uvb&&this.cn.xvb&&(this.cn=void 0,this.Xj.Ub(fa.ai.wP));};na.Object.defineProperties(c.prototype,{Wka:{configurable:!0,enumerable:!0,get:function(){return p.config.NDb;}}});b.Ssa=c;},function(d,b,a){var h,f,p,y,n,K,r,G,N,C,u,P,aa,R,A,T,oa,fa;function c(a,b,c){this.Rl=a;this.mfa=b;this.prefix=c;a=P(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function k(){this.AEa=h.zo.AEa.bind(h.zo);this.jW=h.zo.jW.bind(h.zo);this.vF=h.zo.vF;this.vD="NDA";}function m(){}function g(){}function q(){return N?N:"0.0.0.0";}function l(a){a({xNa:0,gQ:0,WIa:0,JFa:0});}h=a(144);k.prototype.set=function(a,b){y[a]=b;n.save(a,b);};k.prototype.get=function(a,b){if(y.hasOwnProperty(a))return y[a];G.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");n.load(a,function(c){c.aa?(y[a]=c.data,b&&b(c.data)):y[a]=void 0;});};k.prototype.remove=function(a){n.remove(a);};k.prototype.clear=function(){G.info("WARNING: Calling unimplemented function Storage.clear()");};m.prototype.now=function(){return K();};m.prototype.ea=function(){return r();};m.prototype.kia=function(a){return a+K()-r();};m.prototype.Hia=function(a){return a+r()-K();};b=a(105).EventEmitter;a(58)(b,g.prototype);c.prototype.PDa=function(a){var b;b=[];this.prefix&&Array.isArray(this.prefix)?b.push.apply(b,[].concat(ea(this.prefix))):this.prefix&&b.push(this.prefix);b.push(a);return new c(this.Rl,this.mfa,b);};aa=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();d.R=function(a){f=a.SB;P=a.wg;n=a.storage;y=a.xG;K=a.imb;C=a.ZM;u=a.uN;r=a.getTime;G=a.E9a;R=a.Rj;fa=a.Vq;A=a.YC;T=a.SourceBuffer;oa=a.MediaSource;N=a.LSb;p=a.ix;return{name:"cadmium",ix:p,SB:f,ZM:C,uN:u,storage:new k(),Storage:k,time:new m(),events:new g(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:aa,Rj:R,YC:A,B_a:T,MediaSource:oa,Vq:fa,lm:{name:q},memory:{zlb:l},lk:a.lk};};},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.lva=void 0;c=a(5);k=a(67);b.lva=function(){c.wg("ProbeDownloader");return{LM:function(a){k.Pe.vyb({url:a.url,syb:a});}};}();},function(d,b,a){var k,m,g,q,l,h,f;function c(){var a;a=new m.aj();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.Ub.bind(this);this.JU=h++;this.wb=g.wg("ProbeRequest");this.Jza=k.lva;q.eb(void 0!==this.Jza);this.pg=b.Vq.kc.UNSENT;}Object.defineProperty(b,"__esModule",{value:!0});b.Vq=void 0;k=a(620);m=a(76);g=a(5);q=a(16);l=a(21);h=0;(function(){function a(){return JSON.stringify({url:this.Xk,id:this.JU,affected:this.wT,readystate:this.pg});}l.sb(c.prototype,{ds:function(a){a.affected=this.wT;a.probed={requestId:this.JU,url:this.Xk,Lb:this.SK,groupId:this.fU};this.emit(b.Vq.Nd.rJ,a);},Gia:function(a){this.s7a=a.httpcode;a.affected=this.wT;a.probed={requestId:this.JU,url:this.Xk,Lb:this.SK,groupId:this.fU};this.emit(b.Vq.Nd.tz,a);},open:function(a,c,f,d){if(!a)return!1;this.Xk=a;this.wT=c;this.SK=f;this.pg=b.Vq.kc.OPENED;this.U4a=d;this.Jza.LM(this);return!0;},yc:function(){return!0;},wj:function(){return this.JU;},toString:a,toJSON:a});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.pg;},set:function(){}},status:{get:function(){return this.s7a;}},url:{get:function(){return this.Xk;}},bQb:{get:function(){return this.wT;}},fsb:{get:function(){return this.U4a;}}});}());(function(a){a.Nd={rJ:"pr0",tz:"pr1"};a.kc={UNSENT:0,OPENED:1,iw:2,DONE:3,Rv:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(f||(f={})));b.Vq=Object.assign(c,f);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Goa=b.Hoa=void 0;d=b.Hoa||(b.Hoa={});d[d.a0a=0]="PAUSE";d[d.i1a=1]="RESUME";d[d.MJb=2]="CAPTIONS_ON";d[d.LJb=3]="CAPTIONS_OFF";d[d.NJb=4]="CAPTION_LANGUAGE_CHANGED";d[d.$Ib=5]="AUDIO_LANGUAGE_CHANGED";d[d.FMb=6]="NEXT_EP";d[d.HNb=7]="PREV_EP";d[d.Xs=8]="SEEK";d[d.Nva=9]="STOP";b.Goa="CastInteractionTrackerSymbol";},function(d,b,a){var c,k,m,g,q,l,h,f,p,y,n,r,E,G,N,C,u,P,aa,R,A,T,oa,fa,U;Object.defineProperty(b,"__esModule",{value:!0});b.Hua=void 0;c=a(0);k=a(112);m=a(1);g=a(95);q=a(26);l=a(25);h=a(39);f=a(305);p=a(428);y=a(414);n=a(340);r=a(103);E=a(60);G=a(120);N=a(84);C=a(238);u=a(191);P=a(119);aa=a(622);R=a(307);A=a(44);T=a(22);oa=a(304);fa=a(69);U=a(303);d=function(){var d;function b(a,b,c,f,d,h,l,p,k,m,g,q,t,y,n,H,G,r,K,E,N,C,A){this.iG=a;this.QE=b;this.qa=c;this.Ia=f;this.G$a=d;this.lma=h;this.Bha=l;this.Cha=p;this.PZ=k;this.Bc=m;this.he=g;this.Dj=q;this.Xw=t;this.lja=y;this.Aha=n;this.Fma=H;this.Mh=G;this.wk=r;this.Tc=K;this.kja=E;this.B0=N;this.UV=C;this.lL=A;}b.prototype.create=function(b,c,f,d,h){return new(a(302)).Iua(b,c,d,h,this.iG,f,this.qa,this.QE,this.Ia,this.Bha,this.G$a,this.lma,this.Cha,this.PZ,this.Bc,this.he,this.Dj,this.Xw,this.lja,this.Aha,this.Fma,this.Mh,this.Tc,this.kja,this.wk,this.B0,void 0,this.UV);};d=b;return d=c.__decorate([m.N(),c.__param(0,m.l(k.iz)),c.__param(1,m.l(q.Gf)),c.__param(2,m.l(l.Se)),c.__param(3,m.l(h.Ai)),c.__param(4,m.l(f.E2)),c.__param(5,m.l(g.Dz)),c.__param(6,m.l(p.f5)),c.__param(7,m.l(y.h5)),c.__param(8,m.l(n.Y4)),c.__param(9,m.l(r.Hz)),c.__param(10,m.l(E.Mk)),c.__param(11,m.l(G.DD)),c.__param(12,m.l(C.$Q)),c.__param(13,m.l(u.OS)),c.__param(14,m.l(P.HS)),c.__param(15,m.l(R.x7)),c.__param(16,m.l(A.Pj)),c.__param(17,m.l(fa.qD)),c.__param(18,m.l(T.Ve)),c.__param(19,m.l(oa.C6)),c.__param(20,m.l(U.U6)),c.__param(21,m.l(aa.Goa)),c.__param(21,m.optional()),c.__param(22,m.l(N.zI)),c.__param(22,m.optional())],d);}();b.Hua=d;},function(d,b){function a(a){this.j=a;}Object.defineProperty(b,"__esModule",{value:!0});b.eoa=void 0;a.prototype.KTa=function(){var a;a=this.j.Bm&&this.j.Bm.tb.get()||{};a.qh&&(this.j.qh=a.qh.Ca);a.Fa&&(this.j.Fa=a.Fa.Ca);};a.prototype.dm=function(){-1===this.j.Fa&&this.KTa();return this.j.Fa;};a.prototype.Aab=function(a){-1!==this.j.qh&&-1!==this.j.Fa||this.KTa();return-1===this.j.qh||-1===this.j.Fa?Number.MAX_VALUE:this.j.qh+8*a/this.j.Fa;};b.eoa=a;},function(d,b,a){var c,k,m,g,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.dxa=void 0;c=a(0);k=a(12);m=a(306);g=a(25);q=a(1);l=a(3);h=a(15);d=function(){var b;function a(a,b){this.app=a;this.config=b;}a.prototype.DF=function(a){var b;a.rQ={};if(!a.qB()&&a.Fv&&0<a.Fv.length&&(a.Ev=this.pHa(a),a.Ev)){b=this.jDb(a);b()||(a.Nb.addListener(b),a.nf.addListener(b));}};a.prototype.jDb=function(a){var c;function b(){var f,d;if(!a.nf.value||a.Nb.value===k.ib.Vf)return!1;f=a.Ev;d=f.Yc();return d===m.Tm.LOADING?!1:d!==m.Tm.LOADED&&f.tv?(f=c.wnb(a))?(a.rQ.offset=c.app.Zb().ca(l.ha),a.Ev=f,f.download(),!0):!1:(a.Nb.removeListener(b),a.nf.removeListener(b),!1);}c=this;return b;};a.prototype.wnb=function(a){var b,c;b=this.config();c=a.qm.eN()<b.$Fb;b=(a.nf.value?a.nf.value.O:0)>b.ZFb;return this.Qmb(a,c&&b);};a.prototype.Qmb=function(a,b){if(b&&(b=this.pHa(a),this.XHa(a,b.size)))return a.rQ.YPa="h",b;b=this.Qlb(a);if(this.XHa(a,b.size))return a.rQ.YPa="l",b;};a.prototype.XHa=function(a,b){var c,f;c=this.config();f=Math.min(a.nL(),a.GQ());return a.E$a.Aab(b)*(1+.01*c.Y8a[2])<f*c.cGb;};a.prototype.pHa=function(a){return a.Fv[a.Fv.length-1];};a.prototype.Qlb=function(a){return a.Fv[0];};b=a;return b=c.__decorate([q.N(),c.__param(0,q.l(g.Se)),c.__param(1,q.l(h.dd))],b);}();b.dxa=d;},function(d,b,a){var c,k,m,g,q,l,h,f,p,y,n,r,E,G,N,C,u,P,aa,R,A,T,oa,fa,U,la,O,sa,z,F,Q,M,ga,Ga,Fa,ka;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;d=a(1);c=a(415);k=a(307);m=a(625);g=a(305);q=a(624);l=a(450);h=a(453);f=a(623);p=a(613);y=a(15);n=a(25);r=a(86);E=a(23);G=a(8);N=a(612);C=a(191);u=a(611);P=a(3);aa=a(610);R=a(609);A=a(284);T=a(608);oa=a(68);fa=a(304);U=a(607);la=a(95);O=a(22);sa=a(111);z=a(72);F=a(336);Q=a(281);M=a(606);ga=a(69);Ga=a(32);Fa=a(303);ka=a(605);b.j=new d.Dc(function(b){b(Q.NS).to(M.Lua).Z();b(c.w7).lf(function(b){var c;c=b.jb;return function(b,f,d,h,l,p,k,m){return new(a(604)).bxa(c.get(aa.y7),b,f,d,h,l,p,k,m);};});b(aa.y7).to(R.exa).Z();b(k.x7).to(m.dxa).Z();b(h.B6).to(f.Hua).Z();b(Fa.U6).to(ka.Cva);b(l.r3).lf(function(b){var c;c=b.jb;return function(b){return new(a(603)).Apa(c.get(oa.q3),c.get(r.Jq),c.get(n.Se),b);};});b(g.E2).lf(function(){return function(a){return new q.eoa(a);};});b(N.s6).lf(function(a){var b;b=a.jb;return function(a){return new p.Dua(a,b.get(G.Ab),b.get(y.dd),b.get(E.Ie),b.get(r.Jq));};});b(C.OS).lf(function(a){var b;b=a.jb;return function(a,c,f,d,h,l,p,k,m){return new u.Mua(a,c,f,d,h,l,p,k,m,b.get(N.s6),b.get(Q.NS));};});b(A.a7).lf(function(a){return function(b){var c;c=a.jb.get(y.dd);return new T.Yva(c,b);};});b(fa.C6).lf(function(a){return function(b){var c,f,d,h;c=a.jb.get(z.Kq);f=a.jb.get(la.Dz);d=a.jb.get(O.Ve);h=a.jb.get(sa.Cz);return new U.Jua(b,c,f(P.bh(1)),d,h);};});b(F.v5).Ly(function(b){return new(a(602)).fta(b.jb.get(ga.qD),b.jb.get(Ga.Kk));}).Z();});},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.uua=void 0;c=a(0);k=a(1);m=a(132);d=function(){var b;function a(){this.ZP=new m.Pm();}a.prototype.tH=function(a){this.ZP.next(a);};na.Object.defineProperties(a.prototype,{vy:{configurable:!0,enumerable:!0,get:function(){return this.ZP;}}});b=a;return b=c.__decorate([k.N()],b);}();b.uua=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.iua=void 0;c=a(0);k=a(1);m=a(8);g=a(72);d=function(){var b;function a(a,b){this.ox=b;this.log=a.xb("Pbo");this.links={};}a.prototype.t$=function(a){a&&(this.links=Object.assign(Object.assign({},this.links),a));};a.prototype.wea=function(a){return this.links[a];};a.prototype.B8a=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.ox().Ih;a="drmContextId="+a.drmContextId;this.t$({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Ab)),c.__param(1,k.l(g.Kq))],b);}();b.iua=d;},function(d,b,a){var k,m,g;function c(a,b,c,f,d,k,m){this.version=a;this.url=b;this.id=c;this.languages=f;this.fb=d;this.jhb=k;this.wub=m;}Object.defineProperty(b,"__esModule",{value:!0});b.wua=void 0;k=a(0);m=a(1);g=a(92);d=function(){var b;function a(a){this.Cj=a;}a.prototype.create=function(a,b,d,l,k){return new c(this.Cj.version,b,a,this.Cj.languages,d,l,k);};b=a;return b=k.__decorate([m.N(),k.__param(0,m.l(g.gw))],b);}();b.wua=d;c.prototype.toJSON=function(){return{version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.fb,echo:this.jhb};};},function(d,b,a){var c,k,m,g,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.cua=void 0;c=a(0);k=a(1);m=a(40);g=a(28);q=a(36);l=a(15);h=a(115);d=function(){var b;function a(a,b,c){a=m.ae.call(this,a,"PboConfigImpl")||this;a.config=b;a.p9a=c;return a;}ca(a,m.ae);na.Object.defineProperties(a.prototype,{vQ:{configurable:!0,enumerable:!0,get:function(){return this.config().nu.vQ||"";}},P1:{configurable:!0,enumerable:!0,get:function(){return this.config().nu.P1||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},wNa:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().nu.Aja;}},pG:{configurable:!0,enumerable:!0,get:function(){return!1;}},otb:{configurable:!0,enumerable:!0,get:function(){return!0;}},qtb:{configurable:!0,enumerable:!0,get:function(){return!0;}},UQa:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},bind:{service:this.p9a.ZBa,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.VQa);}},VQa:{configurable:!0,enumerable:!0,get:function(){return{};}},yPa:{configurable:!0,enumerable:!0,get:function(){return!1;}},Ifa:{configurable:!0,enumerable:!0,get:function(){return 10;}},VAa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=a;c.__decorate([q.config(q.string,"uiVersion")],b.prototype,"vQ",null);c.__decorate([q.config(q.string,"uiPlatform")],b.prototype,"P1",null);c.__decorate([q.config(q.Gv,"pboVersion")],b.prototype,"version",null);c.__decorate([q.config(q.string,"pboOrganization")],b.prototype,"wNa",null);c.__decorate([q.config(q.C1,"pboLanguages")],b.prototype,"languages",null);c.__decorate([q.config(q.vd,"hasLimitedPlaybackFunctionality")],b.prototype,"pG",null);c.__decorate([q.config(q.vd,"mdxBindUsingNodeQuark")],b.prototype,"otb",null);c.__decorate([q.config(q.vd,"mdxPairUsingNodeQuark")],b.prototype,"qtb",null);c.__decorate([q.config(q.object(),"pboCommands")],b.prototype,"UQa",null);c.__decorate([q.config(q.object(),"pboCommandsOverride")],b.prototype,"VQa",null);c.__decorate([q.config(q.vd,"pboRecordHistory")],b.prototype,"yPa",null);c.__decorate([q.config(q.Gv,"pboHistorySize")],b.prototype,"Ifa",null);c.__decorate([q.config(q.vd,"pboAddXEsnHeader")],b.prototype,"VAa",null);return b=c.__decorate([k.N(),c.__param(0,k.l(g.Ci)),c.__param(1,k.l(l.dd)),c.__param(2,k.l(h.Qy))],b);}();b.cua=d;},function(d,b,a){var k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.b6=void 0;k=a(2);c.rqb=function(a){var b,c;b=a&&a.code;c=a&&(a.da||a.ad);a=a.mh!==k.cS.Xta;c=!!c&&c>=k.u.eJ&&c<=k.u.cJ&&a;return!("RETRY"!==b&&"FAIL"!==b)||c;};c.Ulb=function(a){var b,c;c=null===(b=null===a||void 0===a?void 0:a.wy)||void 0===b?void 0:b.maxRetries;return"number"===typeof c?c:"FAIL"===(null===a||void 0===a?void 0:a.code)?1:void 0;};b.b6=c;},function(d,b,a){var m,g,q,l,h,f,p,y,n,r,E,G,N,C,u,P;function c(a){this.config=a;this.du=[];}function k(a,b,c){this.qa=a;this.kI=b;this.context=c;this.startTime=this.qa.Zb();}Object.defineProperty(b,"__esModule",{value:!0});b.dua=void 0;m=a(0);g=a(1);q=a(3);l=a(310);h=a(8);f=a(29);p=a(25);y=a(32);n=a(131);r=a(35);E=a(309);G=a(92);N=a(68);C=a(12);u=a(41);P=a(631);d=function(){var b;function a(a,b,f,d,h,l,p,k,m){this.iTa=b;this.json=f;this.qa=d;this.Sp=h;this.Rja=l;this.ta=p;this.Jb=m;this.log=a.xb("Pbo");k.yPa&&(this.du=new c(k));this.kI=this.iTa();}a.prototype.send=function(a,b){var c;c=new k(this.qa,this.kI,a);this.du&&this.du.append(c);return this.gla(a,b,c);};a.prototype.gla=function(a,b,c){var f;f=this;return new Promise(function(d,h){f.tv(a,b).then(function(a){var b,l;f.dCb(a);b=S(f.IHb(a));l=b.next().value;b=b.next().value;l&&(f.Lbb(c),d(a));b&&(f.eDa(c,b),h(b));})["catch"](function(a){var b;b=f.eDa(c,a);a.nb&&(a.nb=[a.nb," ",b].join(""));h(a);});});};a.prototype.dCb=function(a){(a=a.serverTime)&&this.Jb.Ub(C.E4.TQa,q.Gb(a));};a.prototype.IHb=function(a){var b;b=a.result;if("deviceCommand"in a){a=a.deviceCommand;this.log.trace("Received device command '"+a+"'");switch(a){case"reset":b="RESET_DEVICE";break;case"reload":b="RELOAD_DEVICE";break;case"exit":b="EXIT_DEVICE";break;default:b="FAIL",this.log.error("Unhandled device command '"+a+"'");}return[,{code:b,detail:{message:"Server sent device action to '"+a+"' device"}}];}if(b)return[b,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};a.prototype.Bwb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(oa){throw{PB:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{PB:!0,code:"FAIL",message:"There is no result property on the response"};}throw{PB:!0,code:"FAIL",message:"There is no body property on the response"};};a.prototype.Z9a=function(a,b,c){var f;f=this;this.VGb(b,a);this.kI=this.iTa(c);return this.kI.send(b,c).then(function(a){return{tv:!1,result:f.Bwb(a.body)};})["catch"](function(c){var d,h;h=(d=P.b6.Ulb(c))?Math.min(d,b.Fka):b.Fka;return f.g1(b,c,a,h)?(d=f.Gab(c,a,h),f.log.warn("Method failed, retrying",Object.assign({Method:b.ek,Attempt:a+1,WaitTime:d,MaxRetries:h},f.Rba(c))),Promise.resolve({tv:!0,cl:d,error:c})):Promise.resolve({tv:!1,error:c});});};a.prototype.VGb=function(a,b){var c;c=a.url.searchParams;c.set(u.$S.l1a,(b+1).toString());c.set(u.$S.og,a.ska.toString());c.set(u.$S.m1a,a.rka);};a.prototype.tv=function(a,b,c){var f;c=void 0===c?0:c;f=this;return this.Z9a(c++,a,b).then(function(d){if(d.tv)return f.$Hb(d.cl).then(function(){return f.tv(a,b,c);});if(d.error)throw d.error;if(void 0===d.result)throw{pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return d.result;});};a.prototype.g1=function(a,b,c,f){var d;d=this.Sp.iQa||P.b6.rqb(b);if(d&&c<f)return!0;d?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.ek,Attempt:c+1,MaxRetries:f},this.Rba(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.ek},this.Rba(b)));return!1;};a.prototype.Gab=function(a,b,c){return a&&a.wy&&void 0!==a.wy.retryAfterSeconds?q.bh(a.wy.retryAfterSeconds):q.Gb(this.Rja.cPa(1E3*(0===b?1:b),1E3*Math.pow(2,Math.min(b,c))));};a.prototype.$Hb=function(a){var b;b=this;return new Promise(function(c){b.ta.rh(a||q.Dd,c);});};a.prototype.Rba=function(a){return E.QJa(a)?a:{message:a.message,subCode:a.ad,extCode:a.mh,mslCode:a.cs,data:a.data};};a.prototype.Lbb=function(a){a.$la();};a.prototype.eDa=function(a,b){var c;a.yx(b);if(this.du)try{c=this.json.stringify(this.du);this.log.error("PBO command history",c);return c;}catch(fa){}return"";};b=a;return b=m.__decorate([g.N(),m.__param(0,g.l(h.Ab)),m.__param(1,g.l(l.v7)),m.__param(2,g.l(f.Vv)),m.__param(3,g.l(p.Se)),m.__param(4,g.l(y.Kk)),m.__param(5,g.l(n.CJ)),m.__param(6,g.l(r.Lg)),m.__param(7,g.l(G.gw)),m.__param(8,g.l(N.IR))],b);}();b.dua=d;k.prototype.$la=function(){this.aa=!0;this.elapsedTime=this.qa.Zb().zb(this.startTime);};k.prototype.yx=function(a){this.aa=!1;this.elapsedTime=this.qa.Zb().zb(this.startTime);this.BEb=a.ad||a.subCode;this.sib=a.mh||a.extCode;};k.prototype.toString=function(){return JSON.stringify(this);};k.prototype.toJSON=function(){var a;a=Object.assign({success:this.aa,method:this.context.ek,startTime:this.startTime.ca(q.ha),elapsedTime:this.elapsedTime?this.elapsedTime.ca(q.ha):"in progress"},this.kI.kba());return this.aa?a:Object.assign(Object.assign(Object.assign({},a),this.kI.kba()),{subcode:this.BEb,extcode:this.sib});};c.prototype.append=function(a){this.du.push(a);0<this.config.Ifa&&this.du.length>this.config.Ifa&&this.du.shift();};c.prototype.toJSON=function(){return this.du;};},function(d,b,a){var c,k,m,g,q,l,h,f,p,y;Object.defineProperty(b,"__esModule",{value:!0});b.aOa=void 0;d=a(1);c=a(311);k=a(632);m=a(92);g=a(630);q=a(308);l=a(629);h=a(412);f=a(628);p=a(145);y=a(627);b.aOa=new d.Dc(function(a){a(m.gw).to(g.cua).Z();a(c.a6).to(k.dua).Z();a(h.g6).to(f.iua);a(h.f6).lf(function(a){return function(){return a.jb.get(h.g6);};});a(q.n6).to(l.wua).Z();a(p.xJ).to(y.uua).Z();});},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.ita=void 0;c=a(0);k=a(36);m=a(40);g=a(1);q=a(28);l=a(3);d=function(){var b;function a(a){return m.ae.call(this,a,"MseConfigImpl")||this;}ca(a,m.ae);na.Object.defineProperties(a.prototype,{$La:{configurable:!0,enumerable:!0,get:function(){return l.Gb(5E3);}},tNa:{configurable:!0,enumerable:!0,get:function(){return l.Gb(1E3);}},uNa:{configurable:!0,enumerable:!0,get:function(){return l.Gb(1E3);}}});b=a;c.__decorate([k.config(k.Vg,"minDecoderBufferMilliseconds")],b.prototype,"$La",null);c.__decorate([k.config(k.Vg,"optimalDecoderBufferMilliseconds")],b.prototype,"tNa",null);c.__decorate([k.config(k.Vg,"optimalDecoderBufferMillisecondsBranching")],b.prototype,"uNa",null);return b=c.__decorate([g.N(),c.__param(0,g.l(q.Ci))],b);}();b.ita=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.iMa=void 0;d=a(1);c=a(463);k=a(634);b.iMa=new d.Dc(function(a){a(c.y5).to(k.ita).Z();});},function(d,b,a){var c,k,m,g,q,l,h,f,p,y;Object.defineProperty(b,"__esModule",{value:!0});b.Xsa=void 0;c=a(0);k=a(1);m=a(8);g=a(15);q=a(9);l=a(23);h=a(313);f=a(76);p=a(146);y=a(112);d=function(){function a(a,b,c,d,h,l){function k(k,m){this.track=k;this.label=m;this.pg=p.Pb.kc.UNSENT;this.Be=0;this.$o=[];this.requestId=l.CA().toString();this.Ga=c;this.log=b.xb("MediaRequest");this.config=a;this.Jb=new f.aj();"notification"===this.label?this.config().QA&&(this.ll=d):this.ll=h;}function m(k,m){this.requestId=l.CA().toString();this.Ga=c;this.log=b.xb("MediaRequest");this.config=a;this.Jb=new f.aj();this.label=m;"notification"===this.label?this.config().QA&&(this.ll=d):this.ll=h;this.xN=this.FL=this.GL=void 0;this.track=k;this.MV=this.url=this.responseType=void 0;this.pg=p.Pb.kc.UNSENT;this.Qi=this.LF=this.oh=this.status=void 0;this.ql=this.Be=0;this.connect=this.rda=this.yA=this.Wx=this.Lga=this.$c=this.qda=this.ef=this.vE=void 0;this.$o=[];this.Mp=!1;}k.prototype.addEventListener=function(a,b,c){this.Jb.addListener.call(this,a,b,c);};k.prototype.removeEventListener=function(a,b){this.Jb.removeListener.call(this,a,b);};k.prototype.emit=function(a,b,c){this.Jb.Ub.call(this,a,b,c);};k.prototype.bvb=function(a){this.pg===p.Pb.kc.OPENED&&(this.xN=!0,this.ef=this.$c=a.timestamp,this.pg=p.Pb.kc.iw,this.emit(p.Pb.Nd.wta,a));};k.prototype.Eia=function(a){var b;if(this.pg<p.Pb.kc.xz){this.$o=[];b=a.timestamp-this.ef;!this.bc&&0<b&&(this.connect=!0,this.$o.push(b));!0===this.config().Vob?this.qda=a.timestamp:this.qda=this.$c=a.timestamp;this.pg=p.Pb.kc.xz;this.emit(p.Pb.Nd.vta,a);}};k.prototype.evb=function(a){this.pg===p.Pb.kc.xz&&(this.Lga=this.$c=a.timestamp,a.newBytes=a.bytesLoaded-this.Be,this.Be=a.bytesLoaded,this.Ga.Td(this.Lga)&&this.emit(p.Pb.Nd.xta,a));};k.prototype.ds=function(a){-1<[p.Pb.kc.iw,p.Pb.kc.xz].indexOf(this.pg)&&(this.xN=!1,this.$c=a.timestamp,this.pg=p.Pb.kc.DONE,a.newBytes=this.Uh-this.Be,this.Be=this.Uh,this.Ga.Td(this.yA)&&(this.$c=this.yA,0===a.newBytes&&(this.Lga=this.yA)),this.Ga.Td(this.Wx)&&(this.ef=this.Wx),this.vE=a.response,this.emit(p.Pb.Nd.rJ,a));};k.prototype.Yub=function(a){this.xN=!1;this.emit(p.Pb.Nd.Y_a,a);};k.prototype.Gia=function(a){this.$c=a.timestamp;this.status=a.httpcode;this.oh=a.errorcode;this.LF=p.Pb.aD.name[this.oh];this.Qi=a.nativecode;this.emit(p.Pb.Nd.tz,a);this.xN=!1;};k.prototype.open=function(a,b,c,f,d,h,l){this.vC=!1;this.MV=b;this.url=a;this.responseType=c;if(!this.url)return!1;this.pg=p.Pb.kc.OPENED;this.ll.LM(this,b,l);return!0;};k.prototype.yc=function(){-1!==[p.Pb.kc.OPENED,p.Pb.kc.iw,p.Pb.kc.xz].indexOf(this.pg)&&this.abort();return!0;};k.prototype.TCa=function(){this.vE=void 0;this.cF&&(this.cF.response=void 0,this.cF.cadmiumResponse.content=void 0);this.Mfa=void 0;};k.prototype.eQ=function(a){this.url=a;return!0;};k.prototype.abort=function(){this.pg=p.Pb.kc.yI;this.ll.jA(this);return!0;};k.prototype.pause=function(){};k.prototype.getResponseHeader=function(){return null;};k.prototype.getAllResponseHeaders=function(){return"";};k.prototype.hP=function(){};k.prototype.wj=function(){return this.requestId;};k.prototype.toString=function(){var a;a={requestId:this.wj(),segmentId:this.La,isHeader:this.bc,ptsStart:this.qv,ptsOffset:this.sm,responseType:this.responseType,duration:this.Br,readystate:this.pg};this.stream&&(a.bitrate=this.stream.O);return JSON.stringify(a);};k.prototype.toJSON=function(){return this.toString();};k.prototype.rnb=function(){var a,b;if(this.config().XTa&&q.Sq&&q.Sq.getEntriesByType&&(!this.Ga.Td(this.Wx)||!this.Ga.Td(this.yA)&&this.Ga.Td(this.url))){a=""+this.url.split("nflxvideo.net")[0].split("//").pop()+("*nflxvideo.net/range/"+this.GL+"-"+this.FL+"*");b=new RegExp(a);a=q.Sq.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];this.Ga.Td(a)&&(0<a.startTime&&(this.Wx=a.startTime,0<a.requestStart&&(this.Wx=Math.max(this.Wx,a.requestStart))),0<a.responseStart&&(this.rda=a.responseStart),0<a.responseEnd&&(this.yA=a.responseEnd));}};k.prototype.qqb=function(){return this.Ga.Td(this.Wx)&&this.Ga.Td(this.yA)&&this.Ga.Td(this.rda);};na.Object.defineProperties(k.prototype,{Uh:{configurable:!0,enumerable:!0,get:function(){return this.MV.end-this.MV.start+1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.FL-this.GL+1;}},IIa:{configurable:!0,enumerable:!0,get:function(){return!!(this.response&&0<this.response.byteLength);}},bc:{configurable:!0,enumerable:!0,get:function(){return!this.oB;}},response:{configurable:!0,enumerable:!0,get:function(){return this.vE;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.pg;},set:function(){}}});Object.getOwnPropertyNames(k.prototype).forEach(function(a){Object.defineProperty(m.prototype,a,Object.getOwnPropertyDescriptor(k.prototype,a));});this.Rj=Object.assign(m,p.Pb);}return a=c.__decorate([k.N(),c.__param(0,k.l(g.dd)),c.__param(1,k.l(m.Ab)),c.__param(2,k.l(l.Ie)),c.__param(3,k.l(h.K5)),c.__param(4,k.l(h.p5)),c.__param(5,k.l(y.iz))],a);}();b.Xsa=d;},function(d,b,a){var c,k,m,g,q,l,h,f,p,y,n,r,E;Object.defineProperty(b,"__esModule",{value:!0});b.Ysa=void 0;c=a(0);k=a(49);m=a(1);g=a(8);q=a(91);l=a(316);h=a(77);f=a(146);p=a(25);y=a(3);n=a(315);r=a(32);E=a(15);d=function(){var b;function a(a,b,c,f,d,h,l){this.qa=a;this.Sp=b;this.config=c;this.Pe=d;this.ytb=h;this.RCa=l;this.log=f.xb("MediaRequestDownloader");}a.prototype.LM=function(a,b,c){var l,p,m;function d(){a.removeEventListener(f.Pb.Nd.tz,d);a.EM?a.EM++:a.EM=1;a.EM>=l.config().eda.length&&(a.EM=l.config().eda.length-1);setTimeout(function(){l.LM(a,b,c);},l.config().eda[a.EM]);}l=this;a.RSb=!0;p={url:a.url,responseType:this.Pe.h1a.rVa,withCredentials:!1,JA:a.M===k.Qc.Ma.AUDIO?"audio":"video",offset:b.start,length:a.Uh,track:{type:a.M===k.Qc.Ma.AUDIO?h.Hg.audio:h.Hg.video},stream:{gd:a.sa,O:a.O},gc:a.Lb,Ro:a,gg:a.bc?void 0:this.RCa.parse.bind(this.RCa),i1:c,Dq:this.Sp.Dq};p=this.ytb.download(p,function(b){b.aa&&a.readyState!==f.Pb.kc.DONE&&a.readyState!==f.Pb.kc.yI&&(a.readyState!==f.Pb.kc.Rv&&a.readyState===f.Pb.kc.iw&&(a.readyState=f.Pb.kc.xz,a.Eia({mediaRequest:a,readyState:a.readyState,timestamp:l.uu(),connect:!1})),a.readyState=f.Pb.kc.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:l.uu(),cadmiumResponse:b,response:b.content},a.cF=b,a.ds(b));});if(a.bc){m={mediaRequest:a,readyState:a.readyState,timestamp:this.uu(),connect:!1};a.Eia(m);}a.addEventListener(f.Pb.Nd.tz,d);a.Mfa=p.abort;};a.prototype.jA=function(a){try{a.Mfa();}catch(X){this.log.warn("exception aborting request");}};a.prototype.uu=function(){return this.qa.Zb().ca(y.ha);};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(p.Se)),c.__param(1,m.l(r.Kk)),c.__param(2,m.l(E.dd)),c.__param(3,m.l(g.Ab)),c.__param(4,m.l(q.Xv)),c.__param(5,m.l(l.n5)),c.__param(6,m.l(n.W2))],b);}();b.Ysa=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.Dta=void 0;c=a(0);k=a(1);m=a(8);g=a(91);d=function(){var b;function a(a,b){this.Pe=b;this.log=a.xb("OpenConnectSideChannel");}a.prototype.LM=function(a,b,c){this.Pe.GDb({url:a.url,vBb:c});};a.prototype.jA=function(a){try{a.Mfa();}catch(f){this.log.warn("exception aborting request");}};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Ab)),c.__param(1,k.l(g.Xv))],b);}();b.Dta=d;},function(d){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},gl:function(){return this.buffer.length-this.position;},hf:function(){return this.buffer[this.position++];},te:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},zc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},qs:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},Xja:function(){for(var a="",b;b=this.hf();)a+=String.fromCharCode(b);return a;},Ob:function(){return this.zc(2);},Oa:function(){return this.zc(4);},Bg:function(){return this.zc(8);},q0:function(){return this.zc(2)/256;},cP:function(){return this.zc(4)/65536;},Ef:function(a){for(var b,d="";a--;)b=this.hf(),d+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return d;},sy:function(){return this.Ef(4)+"-"+this.Ef(2)+"-"+this.Ef(2)+"-"+this.Ef(2)+"-"+this.Ef(6);},dP:function(a){for(var b=0,d=0;d<a;d++)b+=this.hf()<<(d<<3);return b;},bC:function(){return this.dP(4);},gna:function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);}};d.R=b;},function(d,b,a){var c,k,m,g,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Ooa=void 0;c=a(0);k=a(1);m=a(199);g=a(8);q=a(10);l=a(15);h=a(314).Vja;d=function(){var b;function a(a,b){this.config=a;this.log=b.xb("ChunkMediaParser");}a.prototype.parse=function(a){var f,d,l;a=new Uint8Array(a);for(var b=h(a),c=0;c<b.length;c+=2){f=b[c];if("moof"!==f.type||"mdat"!==b[c+1].type)throw this.log.error("data is not moof-mdat box pairs",{boxType:f.type,nextBoxType:b[c+1].type}),Error("data is not moof-mdat box pairs");if(this.config().mIb&&"moof"==f.type){d=f.Dx("traf/saio");l=f.Dx("traf/"+q.loa);d&&l&&(f=l.s$a.byteOffset-f.raw.byteOffset,d.sQa[0]!==f&&(this.log.error("Repairing bad SAIO",{saioOffsets:d.sQa[0],auxDataOffsets:f}),this.nwb(d,f)));}}return a.buffer;};a.prototype.nwb=function(a,b){var c;c=new m.h3(a.raw);c.seek(a.size-a.gx);a=c.zc(1);c.zc(3)&1&&(c.Oa(),c.Oa());a=1<=a?8:4;c.Oa();c.gna(b,a);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.dd)),c.__param(1,k.l(g.Ab))],b);}();b.Ooa=d;},function(d,b,a){var c,k,m,g,q,l,h,f,p,y,n;Object.defineProperty(b,"__esModule",{value:!0});b.Tsa=void 0;c=a(0);k=a(146);m=a(84);g=a(2);q=a(8);l=a(1);h=a(91);f=a(23);p=a(25);y=a(3);n=a(15);d=function(){var b;function a(a,b,c,f,d,h){this.lL=a;this.Pe=c;this.Ga=f;this.qa=d;this.config=h;this.log=b.xb("MediaHttp");}a.prototype.uu=function(){return this.qa.Zb().ca(y.ha);};a.prototype.OMa=function(a,b){a.bvb({mediaRequest:a,timestamp:b});};a.prototype.hNa=function(a){var b;b=a.mediaRequest.Ro;b.readyState=k.Pb.kc.xz;a=a.connect?a:{timestamp:this.uu(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.Eia(a);};a.prototype.H_=function(a){this.OMa(a.mediaRequest.Ro,a.timestamp);};a.prototype.J_=function(a){var b,c;b=a.mediaRequest.Ro;c=a.bytes;"undefined"!==typeof b&&(b.readyState===k.Pb.kc.iw&&this.hNa(a),this.Ga.jh(c)&&(a.mediaRequest=b,a.timestamp=this.uu(),c>b.Be&&(a.newBytes=c-b.Be,a.bytesLoaded=c,b.evb(a))));};a.prototype.aH=function(a){var b,c,f,d;b=a.mediaRequest;c=a.errorcode;f=a.httpcode;d=k.Pb.aD;if("undefined"!==typeof b&&(b=b.Ro,"undefined"!==typeof b&&b.readyState!==k.Pb.kc.Rv))if(c===g.u.Sv)b.readyState=k.Pb.kc.yI,a.mediaRequest=b,a.readyState=b.readyState,b.Yub(a);else{b.readyState=k.Pb.kc.Rv;switch(c){case g.u.eJ:f=d.Q2;break;case g.u.t4:f=d.q4;break;case g.u.bJ:f=400<f&&500>f?d.s4:500<=f?d.Rqa:d.q4;break;case g.u.cJ:f=d.r4;break;case g.u.aJ:f=d.uoa;break;case g.u.dJ:f=d.aS;break;case g.u.fz:f=d.aS;break;case g.u.p4:f=d.Qqa;break;case g.u.Nqa:f=d.s4;break;case g.u.zXa:f=d.r4;break;default:f=d.aS;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=f;a.nativecode=c;b.Gia(a);}};a.prototype.Nia=function(a,b){var c,f;c=b.request.Ro;if(c)if(b.aa){if(a.j&&c.readyState!==k.Pb.kc.DONE){switch(c.readyState){case k.Pb.kc.yI:return;case k.Pb.kc.iw:this.hNa({mediaRequest:b.request});}c.readyState=k.Pb.kc.DONE;if(!c.bc){f={mediaRequest:c,readyState:c.readyState,timestamp:this.uu(),cadmiumResponse:b};a.j.xma+=1;c.rnb();c.qqb()&&(a.j.Bka+=1,b.qk.ah=Math.ceil(c.rda),b.qk.xm=Math.ceil(c.yA),b.qk.requestTime=Math.floor(c.Wx));c.cF=f;c.ds(f);}}}else c.readyState!==k.Pb.kc.yI&&(a={mediaRequest:b.request,timestamp:this.uu(),errorcode:b.da,httpcode:b.Li},this.aH(a));};a.prototype.download=function(a,b){var c,f;c=this;b=this.Pe.download(a,b);if(a.Ro){f=a.Ro;-1<[k.Pb.kc.OPENED,k.Pb.kc.Rv].indexOf(f.readyState)&&(f.readyState=k.Pb.kc.iw,this.config().Atb?b.MCb(function(a){c.H_(a);}):this.OMa(f,this.uu()));}b.o$(function(b){c.Nia(a,b);});b.UCb(function(a){c.J_(a);});b.GCb(function(a){c.aH(a);});return b;};b=a;return b=c.__decorate([l.N(),c.__param(0,l.l(m.zI)),c.__param(1,l.l(q.Ab)),c.__param(2,l.l(h.Xv)),c.__param(3,l.l(f.Ie)),c.__param(4,l.l(p.Se)),c.__param(5,l.l(n.dd))],b);}();b.Tsa=d;},function(d,b,a){var c,k,m,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.Epa=void 0;c=a(0);k=a(1);m=a(8);g=a(147);q=a(125).EventEmitter;d=function(){function a(a){function b(b,c){this.K=b;this.Rk=c;this.jX=!1;this.emit=q.prototype.emit;this.addListener=q.prototype.addListener;this.on=q.prototype.on;this.once=q.prototype.once;this.removeListener=q.prototype.removeListener;this.removeAllListeners=q.prototype.removeAllListeners;this.listeners=q.prototype.listeners;this.listenerCount=q.prototype.listenerCount;q.call(this);this.wb=a.xb("DownloadTrack");}b.prototype.un=function(){this.eV=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.eV+" config: "+JSON.stringify(this.K);};b.prototype.toJSON=function(){return"Download Track id:"+this.eV+" config: "+JSON.stringify(this.K);};b.prototype.u0=function(a){this.K.connections!==a.connections&&(this.K=a);};b.prototype.En=function(){return 1<this.K.connections?!0:!1;};na.Object.defineProperties(b.prototype,{ab:{configurable:!0,enumerable:!0,get:function(){return this.eV;}},Mp:{configurable:!0,enumerable:!0,get:function(){return void 0===this.eV;}},config:{configurable:!0,enumerable:!0,get:function(){return this.K;}},SB:{configurable:!0,enumerable:!0,get:function(){return this.wb;}},ll:{configurable:!0,enumerable:!0,get:function(){return this.Rk.ll;}}});this.YC=Object.assign(b,new g.Fpa());}return a=c.__decorate([k.N(),c.__param(0,k.l(m.Ab))],a);}();b.Epa=d;},function(d,b,a){var c,k,m,g,q,l,h,f,p,y,n;Object.defineProperty(b,"__esModule",{value:!0});b.Zf=void 0;d=a(1);c=a(147);k=a(642);m=a(316);g=a(641);q=a(315);l=a(640);h=a(313);f=a(638);p=a(637);y=a(312);n=a(636);b.Zf=new d.Dc(function(a){a(c.v3).to(k.Epa).Z();a(m.n5).to(g.Tsa).Z();a(q.W2).to(l.Ooa).Z();a(h.K5).to(f.Dta).Z();a(h.p5).to(p.Ysa).Z();a(y.o5).to(n.Xsa).Z();});},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.fva=void 0;c=a(0);k=a(1);m=a(40);g=a(28);q=a(36);l=a(3);d=function(){var b;function a(a){return m.ae.call(this,a,"PrefetchEventsConfigImpl")||this;}ca(a,m.ae);na.Object.defineProperties(a.prototype,{NQa:{configurable:!0,enumerable:!0,get:function(){return!0;}},mha:{configurable:!0,enumerable:!0,get:function(){return l.oO(5);}}});b=a;c.__decorate([q.config(q.vd,"sendPrefetchEventLogs")],b.prototype,"NQa",null);c.__decorate([q.config(q.Vg,"logsInterval")],b.prototype,"mha",null);return b=c.__decorate([k.N(),c.__param(0,k.l(g.Ci))],b);}();b.fva=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.Cua=void 0;c=a(0);k=a(1);m=a(8);g=a(23);d=function(){var b;function a(a,b){this.Ga=b;this.ka=a.xb("PlayPredictionDeserializer");}a.prototype.igb=function(a){var b;b=this;try{return{direction:a.direction,prb:a.layoutHasChanged,gBb:a.rowInteractionIndex,Ba:a.lolomos.map(function(a){return b.egb(a);})};}catch(p){this.ka.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};a.prototype.egb=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.dgb(a);}),requestId:a.requestId,rowIndex:a.rowIndex,iBb:a.rowSegment};};a.prototype.dgb=function(a){var b,c;b={Rc:a.pts,property:a.property,oa:a.viewableId,index:a.index};c=a.preplay;this.Ga.Td(c)&&(b.oH=this.hgb(c));a=a.params;this.Ga.Td(a)&&(b.fb=this.yEa(a));return b;};a.prototype.hgb=function(a){var b;b={Rc:a.pts,oa:a.viewableId,RB:a.pipelineNum,index:a.index};a=a.params;this.Ga.Td(a)&&(b.fb=this.yEa(a));return b;};a.prototype.yEa=function(a){return{le:a.uiLabel,Vh:a.trackingId,Mn:a.sessionParams};};a.prototype.zEa=function(a){var b;b=this;try{return a.map(function(a){return b.fgb(a);});}catch(p){this.ka.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};a.prototype.fgb=function(a){var b,c;c=a.params;this.Ga.Td(c)&&(b=this.ggb(c));return{G:a.movieId,ie:a.priority,force:a.force,fb:b,le:a.uiLabel,HVb:a.uiExpectedStartTime,GVb:a.uiExpectedEndTime,tj:a.firstTimeAdded};};a.prototype.ggb=function(a){var b,c;b=void 0;c=a.sessionParams;this.Ga.Td(c)&&(b=c);return{rL:this.cgb(a.authParams),Mn:b,Vh:a.trackingId,S:a.startPts,va:a.manifest,Oi:a.isBranching};};a.prototype.cgb=function(a){return{gOa:(a||{}).pinCapableClient};};a.prototype.gCb=function(a){var b,c;try{b="";this.Ga.Td(a.xOa)&&(b=JSON.stringify(this.jCb(JSON.parse(a.xOa))));c="";this.Ga.Td(a.yOa)&&(c=JSON.stringify(this.kCb(JSON.parse(a.yOa))));return{dest_id:a.GW,offset:a.offset,predictions:a.BOa.map(this.mCb,this),ppm_input:b,ppm_output:c,prepare_type:a.vUb};}catch(y){this.ka.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};a.prototype.mCb=function(a){return{title_id:a.zq};};a.prototype.jCb=function(a){return{direction:a.direction,layoutHasChanged:a.prb,rowInteractionIndex:a.gBb,lolomos:a.Ba.map(this.iCb,this)};};a.prototype.iCb=function(a){return{context:a.context,list:a.list.map(this.hCb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.iBb};};a.prototype.hCb=function(a){var b,c;this.Ga.Td(a.oH)&&(b=this.nCb(a.oH));this.Ga.Td(a.fb)&&(c=this.kla(a.fb));return{preplay:b,pts:a.Rc,viewableId:a.oa,params:c,property:a.property,index:a.index};};a.prototype.nCb=function(a){var b;this.Ga.Td(a.fb)&&(b=this.kla(a.fb));return{pts:a.Rc,viewableId:a.oa,params:b,pipelineNum:a.RB,index:a.index};};a.prototype.kla=function(a){return{uiLabel:a.le,trackingId:a.Vh,sessionParams:a.Mn};};a.prototype.kCb=function(a){return a.map(this.lCb,this);};a.prototype.lCb=function(a){var b;this.Ga.Td(a.fb)&&(b=this.kla(a.fb));return{movieId:a.G,priority:a.ie,params:b,uiLabel:a.le,firstTimeAdded:a.tj,viewableId:a.oa,pts:a.Rc};};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Ab)),c.__param(1,k.l(g.Ie))],b);}();b.Cua=d;},function(d,b,a){var k,m,g,q,l,h,f,p,y,n;function c(a,b,c,f,d,h,l,p){this.Mh=a;this.EB=b;this.ta=c;this.ky=d;this.config=h;this.aea=l;this.jja=p;this.n0=[];this.Kga=[];this.Bja={};this.ka=f.xb("PrefetchEvents");}Object.defineProperty(b,"__esModule",{value:!0});b.gva=void 0;k=a(0);m=a(113);g=a(1);q=a(3);l=a(44);h=a(62);f=a(35);p=a(8);y=a(317);n=a(192);d=function(){var b;function a(a,b,c,f,d,h){this.Mh=a;this.EB=b;this.ta=c;this.Af=f;this.config=d;this.jja=h;}a.prototype.create=function(a,b){return new c(this.Mh,this.EB,this.ta,this.Af,a,this.config,b,this.jja);};b=a;return b=k.__decorate([g.N(),k.__param(0,g.l(l.Pj)),k.__param(1,g.l(h.Wn)),k.__param(2,g.l(f.Lg)),k.__param(3,g.l(p.Ab)),k.__param(4,g.l(y.J6)),k.__param(5,g.l(n.MS))],b);}();b.gva=d;c.prototype.sab=function(a,b,c){this.wB(m.ye.bz.bWa,a,b,void 0,c);};c.prototype.vab=function(a,b,c){this.wB(m.ye.bz.cWa,a,b,void 0,c);};c.prototype.rab=function(a,b,c){this.wB(m.ye.bz.aWa,a,b,void 0,c);};c.prototype.pab=function(a,b,c){this.wB(m.ye.bz.ZVa,a,b,void 0,c);};c.prototype.HL=function(a,b,c){this.wB(m.ye.bz.$Va,a,b,void 0,c);};c.prototype.wxb=function(a){this.wB(m.ye.bz.p0a,void 0,a);};c.prototype.rm=function(a,b,c,f,d,h,l){this.nV()&&(this.wB(m.ye.bz.G1a,void 0,a),this.osb(a,b,c,f,d,h,l),this.cGa(),this.KKa());this.nqb(a)&&this.PAb();};c.prototype.lgb=function(a){a={dest_id:a,cache:this.jla(this.aea())};this.DP("destiny_start",a);};c.prototype.cyb=function(a){(a=this.jja.gCb(a))?this.DP("destiny_prepare",a):this.ka.error("failed to serialize prepare event");};c.prototype.cGa=function(){0<this.n0.length&&this.nV()&&(this.DP("destiny_events",{dest_id:this.ky.bo,events:this.n0}),this.n0=[]);this.Q0&&(this.Q0.cancel(),this.Q0=void 0);this.rFa();};c.prototype.KKa=function(){var a;if(this.uab()&&this.nV()){a=this.aea();this.Kga=a;a={dest_id:this.ky.bo,offset:this.ky.VX(),cache:this.jla(a)};this.DP("destiny_cachestate",a);}this.P0&&(this.P0.cancel(),this.P0=void 0);this.qFa();};c.prototype.update=function(a){var b;b=this;a.Ba.forEach(function(a){a.list.forEach(function(a){b.Bja[a.oa]=!0;});});};c.prototype.nqb=function(a){return this.Bja[a];};c.prototype.uab=function(){var a,b,c;a=this;b=this.aea();if(b.length!==this.Kga.length)return!0;c=!1;b.forEach(function(b,f){try{JSON.stringify(b)!==JSON.stringify(a.Kga[f])&&(c=!0);}catch(X){a.ka.error("Failed to stringify cachedTitle",X);}});return c;};c.prototype.wB=function(a,b,c,f,d){this.nV()&&(a={offset:this.ky.VX(),event_type:a,title_id:c,asset_type:b,size:f,reason:d},this.n0.push(a),this.rFa(),this.qFa());};c.prototype.rFa=function(){this.Q0||(this.Q0=this.ta.rh(this.config.mha,this.cGa.bind(this)));};c.prototype.qFa=function(){this.P0||(this.P0=this.ta.rh(this.config.mha,this.KKa.bind(this)));};c.prototype.osb=function(a,b,c,f,d,h,l){var p;p=[];c&&p.push({zq:a,Ot:m.ye.Nj.mna,state:m.ye.RQ.bR});f&&p.push({zq:a,Ot:m.ye.Nj.jz,state:m.ye.RQ.bR});d&&p.push({zq:a,Ot:m.ye.Nj.$I,state:m.ye.RQ.bR});(0<h.ca(q.ha)||0<l.ca(q.ha))&&p.push({zq:a,Ot:m.ye.Nj.MEDIA,state:m.ye.RQ.bR,j$a:h.ca(q.ha),UHb:l.ca(q.ha)});a={dest_id:this.ky.bo,offset:this.ky.VX(),xid:b,cache:this.jla(p)};this.DP("destiny_playback",a);};c.prototype.DP=function(a,b){this.config.NQa&&(a=this.EB.sn(a,"info",b),this.Mh.Kc(a));};c.prototype.jla=function(a){return a.map(function(a){return{title_id:a.zq,state:a.state,asset_type:a.Ot,size:a.size,audio_ms:a.j$a,video_ms:a.UHb};});};c.prototype.nV=function(){return 0!==this.ky.bo;};c.prototype.PAb=function(){this.ky.OAb();this.Bja={};};},function(d,b,a){var c,k,m,g,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Bc=void 0;d=a(1);c=a(113);k=a(646);m=a(192);g=a(645);q=a(644);l=a(317);h=a(103);b.Bc=new d.Dc(function(a){a(l.J6).to(q.fva).Z();a(c.K6).to(k.gva).Z();a(m.MS).to(g.Cua).Z();a(h.Hz).lf(function(){return function(){return M._cad_global.videoPreparer;};});});},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Axa=void 0;c=a(0);k=a(1);m=a(9);g=a(30);q=a(193);l=a(5);d=function(){var b;function a(){}a.prototype.Kmb=function(){var a;a=M.devicePixelRatio||1;return{width:this.t9.hKb||m.Tq.width*a,height:this.t9.gKb||m.Tq.height*a};};na.Object.defineProperties(a.prototype,{t9:{configurable:!0,enumerable:!0,get:function(){return l.Y.get(g.Yn);}}});b=a;c.__decorate([q.JN],b.prototype,"t9",null);return b=c.__decorate([k.N()],b);}();b.Axa=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.zta=void 0;c=a(0);k=a(1);m=a(139);d=function(){var b;function a(){}a.prototype.compare=function(a,b){var c;c=[];this.Yaa(a,b,"",c);return c;};a.prototype.Yaa=function(a,b,c,d){var f;f=this;if(m.Qs.Mt(a))m.Qs.Mt(b)&&a.length===b.length?a.forEach(function(h,l){f.Yaa(a[l],b[l],c+"["+l+"]",d);}):d.push({a:a,b:b,path:c});else if(m.Qs.nA(a)&&null!=a)if(m.Qs.nA(b)&&null!=b){for(var h in a)this.Yaa(a[h],b[h],c+"."+h,d);for(var l in b)l in a||void 0===b[l]||d.push({a:void 0,b:b[l],path:c+"."+l});}else d.push({a:a,b:b,path:c});else a!==b&&d.push({a:a,b:b,path:c});};b=a;return b=c.__decorate([k.N()],b);}();b.zta=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ata=void 0;b.Ata="ObjectComparerSymbol";},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.qva=void 0;c=a(0);k=a(54);m=a(29);g=a(1);d=function(){var b,d;function a(a){this.location=a;k.jm(this,"location");}a.JO=function(a){var c,d,h;c={};if(0<a.length){a=a.split("&");for(var f=0;f<a.length;f++){d=a[f].trim();h=d.indexOf("=");0<=h?c[decodeURIComponent(d.substr(0,h).replace(b.Wta,"%20"))]=decodeURIComponent(d.substr(h+1).replace(b.Wta,"%20")):c[d.toLowerCase()]="";}}return c;};na.Object.defineProperties(a.prototype,{Vyb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=b.JO(this.$Oa);}},$Oa:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.YO)return this.YO;this.YO=this.location.search.substr(1);a=this.YO.indexOf("#");0<=a&&(this.YO=this.$Oa.substr(0,a));return this.YO;}}});d=b=a;d.Wta=/[+]/g;return d=b=c.__decorate([g.N(),c.__param(0,g.l(m.R4))],d);}();b.qva=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.ixa=void 0;c=a(0);k=a(1);d=function(){var b;function a(){}a.prototype.xGa=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.xGa(a);});};b=a;return b=c.__decorate([k.N()],b);}();b.ixa=d;},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.wwa=void 0;c=a(0);k=a(54);m=a(29);g=a(1);q=a(23);l=a(133);d=function(){var b,d;function a(a,b){this.is=a;this.json=b;k.jm(this,"json");}a.prototype.kPa=function(a){var c;c=this;return b.read(a,function(a){return parseInt(a);},function(a){return c.is.H$(a);});};a.prototype.Wja=function(a){var c;c=this;return b.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return c.is.ZK(a);});};a.prototype.Oa=function(a){var c;c=this;return b.read(a,function(a){return parseInt(a);},function(a){return c.is.mr(a);});};a.prototype.hzb=function(a){var c;c=this;return b.read(a,function(a){return parseFloat(a);},function(a){return c.is.jh(a);});};a.prototype.jPa=function(a,c){return b.read(a,function(a){return b.Tib(a,c);},function(a){return void 0!==a;});};a.prototype.Zja=function(a,c){return b.read(a,function(a){return a;},function(a){return c?c.test(a):!0;});};a.prototype.lPa=function(a){var c,f;c=void 0===c?function(){return!0;}:c;f=this;try{return b.read(a,function(a){return f.json.parse(decodeURIComponent(a));},function(a){return f.is.nA(a)&&c(a);});}catch(E){return new l.Km();}};a.prototype.te=function(a,c,f){var d,h;f=void 0===f?1:f;d=this;a=a.trim();h=c instanceof Function?c:this.Keb(c,f);c=a.indexOf("[");f=a.lastIndexOf("]");if(0!=c||f!=a.length-1)return new l.Km();a=a.substring(c+1,f);try{return b.ywb(a).map(function(a){a=h(d,b.HHb(a));if(a instanceof l.Km)throw a;return a;});}catch(N){return N instanceof l.Km?N:new l.Km();}};a.prototype.Keb=function(a,c){var f;c=void 0===c?1:c;f=this;return function(d,h){d=b.nmb(a);return 1<c?f.te(h,a,c-1):d(f,h);};};a.Tib=function(a,b){var f;for(var c in b){f=parseInt(c);if(b[f]==a)return f;}};a.read=function(a,b,c){a=b(a);return void 0!==a&&c(a)?a:new l.Km();};a.nmb=function(a){switch(a){case"int":return function(a,b){return a.kPa(b);};case"bool":return function(a,b){return a.Wja(b);};case"uint":return function(a,b){return a.Oa(b);};case"float":return function(a,b){return a.hzb(b);};case"string":return function(a,b){return a.Zja(b);};case"object":return function(a,b){return a.lPa(b);};}};a.ywb=function(a){var m;for(var b=[["[","]"]],c=[],f=0,d=0,h=0,p=[],k={};d<a.length;k={"char":k["char"]},++d){k["char"]=a.charAt(d);m=void 0;","==k["char"]&&0==h?(c.push(a.substr(f,d-f)),f=d+1):(m=b.find(function(a){return function(b){return b[0]==a["char"];};}(k)))?(++h,p.push(m)):0<p.length&&p[p.length-1][1]==k["char"]&&(--h,p.pop());}if(f!=d)c.push(a.substr(f,d-f));else if(f==d&&0<f)throw new l.Km();return c;};a.HHb=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new l.Km();return a.substring(1,a.length-1);}return a;};d=b=a;return d=b=c.__decorate([g.N(),c.__param(0,g.l(q.Ie)),c.__param(1,g.l(m.Vv))],d);}();b.wwa=d;},function(d,b,a){var c,k,m,g,q,l,h,f,p,y;Object.defineProperty(b,"__esModule",{value:!0});b.Tc=void 0;d=a(1);c=a(653);k=a(652);m=a(651);g=a(133);q=a(496);l=a(342);h=a(650);f=a(649);p=a(318);y=a(648);b.Tc=new d.Dc(function(a){a(g.iT).to(c.wwa).Z();a(q.TS).to(m.qva).Z();a(l.F7).to(k.ixa).Z();a(h.Ata).to(f.zta).Z();a(p.L7).to(y.Axa).Z();});},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.cpa=void 0;c=a(0);k=a(319);m=a(1);d=function(){var b;function a(a){this.Oub=a;}a.prototype.WGa=function(){var a;a=this.Oub.getDeviceId();return new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(k.G5))],b);}();b.cpa=d;},function(d,b,a){var c,k,m,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;d=a(1);c=a(319);k=a(348);m=a(349);g=a(655);q=a(9);b.crypto=new d.Dc(function(a){a(m.Z2).to(g.cpa).Z();a(c.G5).Th(q.ew);a(k.a3).Th(q.tS);});},function(d,b,a){var c,k,m,g,q,l,h,f,p;Object.defineProperty(b,"__esModule",{value:!0});b.P_a=void 0;c=a(0);k=a(1);m=a(22);g=a(23);q=a(68);l=a(151);h=a(322);f=a(102);p=a(195);d=function(){var b;function a(a,b,c){var f;f=h.GJ.call(this,a,b,"network")||this;f.tW=c;f.KW=l.uR.A_a;f.btb=30;f.bwb=function(a){f.KW=a.target.value;f.refresh();};f.Jvb=function(){f.data={};f.refresh();};f.nQa=function(a){var b,c;b=Number(a.target.id);a=a.target.getAttribute("data-type");b=f.data[f.KW][b].value;c=JSON.stringify(b,null,4);"copy"===a?p.oR.pba(c):"log"===a&&console.log(b);};return f;}ca(a,h.GJ);a.prototype.Kb=function(){var a;a=this;if(this.Io)return Promise.resolve();M.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==f.Nq.G_a&&a.toggle();});this.data={};this.tW.addListener(l.l3.W0a,function(b){var c;a.data[b.type]||(a.data[b.type]=[]);c=a.data[b.type];c.length===a.btb&&c.shift();c.push(b);b.type===a.KW&&a.refresh();});this.Io=!0;return Promise.resolve();};a.prototype.vj=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};a.prototype.Sea=function(a,b,c){var f;f=a.toString();b='<font color="#C41A16">"'+b+'"</font>';c=this.pCa.ck(c);return'\n            <tr>\n                <td><span class="'+this.prefix+'-display-indexvalue">'+f+'</span></td>\n                <td><span class="'+this.prefix+'-display-keyvalue">'+b+'</span></td>\n                <td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+'</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="'+a+'" class="'+this.prefix+'-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="'+a+'" class="'+this.prefix+'-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};a.prototype.cfa=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.vj(),b=this.data[this.KW]||[],c=0;c<b.length;++c)a+=this.Sea(c,b[c].name,b[c].value);return a+"</table>";};a.prototype.QGa=function(){var a;a=this.Sc.createElement("button",h.TC,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.Jvb;return[a,this.Yeb(),this.Reb()];};a.prototype.Yeb=function(){var a;a=this.Sc.createElement("select",h.TC,Object.keys(l.uR).reduce(function(a,b){b=l.uR[b];return a+('<option value="'+b+'">'+b+"</option>");},""),{"class":this.prefix+"-display-select"});a.onchange=this.bwb;return a;};a.prototype.Reb=function(){var a,b,c,f;a=this;b=this.Sc.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.TO;b.onchange=function(){return a.IFb();};c=this.Sc.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});f=this.Sc.createElement("div",void 0,void 0,{"class":this.prefix+"-display-div"});f.appendChild(b);f.appendChild(c);return f;};a.prototype.BPa=function(){return Promise.resolve(this.cfa());};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Ve)),c.__param(1,k.l(g.Ie)),c.__param(2,k.l(q.XC))],b);}();b.P_a=d;},function(d,b,a){var k,m,g,q,l,h,f,p,y,n,r,E,G,N,C,u,P,aa;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.dsa=void 0;k=a(0);m=a(1);g=a(22);q=a(95);l=a(456);h=a(35);f=a(39);p=a(3);y=a(25);n=a(72);r=a(8);E=a(94);G=a(194);N=a(320);C=a(71);u=a(102);P=a(195);c.download=function(a,b){return c.qlb(a).then(function(a){return c.nnb(a,b.join("\r\n")).then(function(a){return c.Kgb(a.filename,a.text);});});};c.qlb=function(a){return new Promise(function(b,c){var f,d,h,l,p,k,m;try{f=new Date();d=f.getDate().toString();h=(f.getMonth()+1).toString();l=f.getFullYear().toString();p=f.getHours().toString();k=f.getMinutes().toString();m=f.getSeconds().toString();1===d.length&&(d="0"+d);1===h.length&&(h="0"+h);1===p.length&&(p="0"+p);1===k.length&&(k="0"+k);1===m.length&&(m="0"+m);b(l+h+d+p+k+m+"."+a+".log");}catch(ya){c(ya);}});};c.nnb=function(a,b){return new Promise(function(c,f){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(fa){f(fa);}});};c.Kgb=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(oa){return Promise.reject(oa);}};aa=function(){function a(b){var c;this.elements=[];c=document.createElementNS(a.dQ,"svg");c.setAttribute("viewBox",b);this.elements.push(c);}a.prototype.VH=function(){var b;b=document.createElementNS(a.dQ,"g");b.setAttribute("stroke","none");b.setAttribute("stroke-width",1..toString());b.setAttribute("fill","none");b.setAttribute("fill-rule","evenodd");b.setAttribute("stroke-linecap","round");this.addElement(b);return this;};a.prototype.WH=function(b,c,f){var d;d=document.createElementNS(a.dQ,"path");d.setAttribute("d",b);c&&d.setAttribute("fill",c);f&&d.setAttribute("fill-rule",f);this.addElement(d);return this;};a.prototype.VP=function(b,c,f,d,h){var l;h=void 0===h?"#000000":h;l=document.createElementNS(a.dQ,"rect");l.setAttribute("x",b.toString());l.setAttribute("y",c.toString());l.setAttribute("height",f.toString());l.setAttribute("width",d.toString());h&&l.setAttribute("fill",h);this.addElement(l);return this;};a.prototype.ZDb=function(){var b;b=document.createElementNS(a.dQ,"polygon");b.setAttribute("points","0 0 24 0 24 24 0 24");b.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(b);return this;};a.prototype.end=function(){this.elements.pop();return this;};a.prototype.ck=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};a.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};na.Object.defineProperties(a,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},GA:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});a.dQ="http://www.w3.org/2000/svg";return a;}();d=function(){var b;function a(a,b,f,d,h,l,k,m,g,q){var t;t=this;this.Ia=a;this.app=b;this.Sc=f;this.ta=d;this.xl=h;this.config=l;this.ox=k;this.lma=m;this.pfb=g;this.Jj=q;this.gFb=function(){t.AQ.Lc(function(){t.update();});};this.clear=function(){t.entries=[];t.update();};this.XLa=function(){t.Md.rG=!t.Md.rG;t.$x&&t.dy&&(t.Md.rG?(t.$x.style.display="inline-block",t.dy.style.display="none"):(t.dy.style.display="inline-block",t.$x.style.display="none"));t.qC(!1);};this.usb=function(a){var b;t.entries.push(a);b=t.config.AG;0<=b&&t.entries.length>b&&t.entries.shift();void 0===t.Md.$t[a.Rl]&&(t.Md.$t[a.Rl]=!0,t.qC(!1));t.Md.Fn&&!t.ASa?t.gFb():t.AQ.Lc();};this.Lgb=function(){c.download("all",t.entries.map(function(a){return a.I1(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.Io=!1;this.Md={Fn:!1,rG:!0,JW:!0,jha:r.Zh.x4,$t:{}};this.AQ=this.lma(p.bh(1));this.Nib=this.pfb(p.Gb(250));this.entries=[];}a.prototype.Kb=function(){var a;a=this;this.kl||(this.kl=new Promise(function(b){M.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&(b.keyCode==u.Nq.TZa?a.toggle():b.keyCode==u.Nq.E&&P.oR.pba(a.ox().Ih));});a.xl.v0(G.a5.ZWa,a.usb);b();}));return this.kl;};a.prototype.show=function(){document.body&&(this.element||(this.neb(),this.Io=!0),!this.Md.Fn&&this.element&&(document.body.appendChild(this.element),this.Md.Fn=!0,this.update(!0)));};a.prototype.Fo=function(){this.Io&&this.Md.Fn&&this.element&&(document.body.removeChild(this.element),this.Md.Fn=!1);};a.prototype.toggle=function(){this.Md.Fn?this.Fo():this.show();this.qC(!1);};a.prototype.neb=function(){var a,b;try{a=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.Dm=this.Web());a.appendChild(this.Xeb());a.appendChild(this.heb());this.element=a;}catch(fa){console.error("Unable to create the log console",fa);}};a.prototype.Web=function(){var a,b;a=this;b=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.ASa=!0;a.update();a.Dm&&(a.Dm.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.ASa=!1;a.update();a.Dm&&(a.Dm.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};a.prototype.Xeb=function(){var a;a=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.Eeb());a.appendChild(this.xeb());a.appendChild(this.reb());a.appendChild(this.Zeb());a.appendChild(this.keb());a.appendChild(this.Jeb());a.appendChild(this.Heb());a.appendChild(this.teb());a.appendChild(this.leb());return a;};a.prototype.heb=function(){var a,b,c,f,d,h;a=this;b=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("div","padding:2px");f=this.createElement("select",this.Ir(22,160,1,2),"<option>Select categories</option>");d=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(d);c.appendChild(f);c.addEventListener("mousedown",function(a){a.preventDefault();});h=!1;c.addEventListener("click",function(){h?d.style.display="none":(d.innerHTML="",["all","none"].concat(Object.keys(a.Md.$t).sort()).forEach(function(b){d.appendChild(a.ieb(b,c));}),d.style.display="block");h=!h;});return b;};a.prototype.ieb=function(a,b){var c,f,d;c=this;f=this.createElement("label","display: block;margin:1px");f.htmlFor=a;d=this.createElement("input","margin:1px");d.type="checkbox";d.id=a;d.checked=this.Md.$t[a];d.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(c.Md.$t).forEach(function(b){c.Md.$t[b]="all"===a;}),b.click()):c.Md.$t[a]=!c.Md.$t[a];c.qC(!0);});f.appendChild(d);f.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return f;};a.prototype.Eeb=function(){var a,b;a=this;b=this.createElement("select",this.Ir(22,NaN,1,2),'<option value="'+r.Zh.ERROR+'">Error</option>'+('<option value="'+r.Zh.I7+'">Warn</option>')+('<option value="'+r.Zh.x4+'">Info</option>')+('<option value="'+r.Zh.Hwa+'">Trace</option>')+('<option value="'+r.Zh.cb+'">Debug</option>'));b.value=this.Md.jha.toString();b.addEventListener("change",function(b){a.Md.jha=parseInt(b.target.value);a.qC(!0);},!1);return b;};a.prototype.xeb=function(){var b,c;function a(a){return b.Nib.Lc(function(){var c;c=a.target.value;b.Md.filter=c?new RegExp(c):void 0;b.qC(!0);});}b=this;c=this.createElement("input",this.Ir(14,150,1,2));c.value=this.Md.filter?this.Md.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};a.prototype.reb=function(){var a,b,c,f;a=this;b=this.createElement("div",this.Ir(NaN,NaN));c=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.Md.JW;c.addEventListener("change",function(b){a.Md.JW=b.target.checked;a.qC(!0);},!1);f=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");f.setAttribute("for","details");f.innerHTML="View details";b.appendChild(c);b.appendChild(f);return b;};a.prototype.Zeb=function(){var a,b,c;a=this;b=this.createElement("button",this.Ir());c=new aa("0 0 24 24").VH().ZDb().end().WH("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",aa.GA,"nonzero").end().end().ck();b.appendChild(c);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};a.prototype.keb=function(){var a,b;a=this.createElement("button",this.Ir());b=new aa("0 0 24 24").VH().VP(0,0,24,24,aa.background).end().WH("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",aa.GA).end().end().ck();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};a.prototype.Jeb=function(){var a;this.dy=this.createElement("button",this.Ir());this.dy.style.display=this.Md.rG?"none":"inline-block";a=new aa("0 0 24 24").VH().VP(0,0,24,24,aa.background).end().WH("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",aa.GA,"nonzero").end().end().ck();this.dy.addEventListener("click",this.XLa,!1);this.dy.appendChild(a);this.dy.setAttribute("title","Shrink the log console");return this.dy;};a.prototype.Heb=function(){var a;this.$x=this.createElement("button",this.Ir());this.$x.style.display=this.Md.rG?"inline-block":"none";a=new aa("0 0 24 24").VH().VP(4,4,16,16,aa.background).end().WH("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",aa.GA,"nonzero").end().end().ck();this.$x.addEventListener("click",this.XLa,!1);this.$x.appendChild(a);this.$x.setAttribute("title","Expand the log console");return this.$x;};a.prototype.teb=function(){var a,b;a=this.createElement("button",this.Ir());b=new aa("0 0 26 26").VH().VP(0,0,24,24,aa.background).end().WH("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",aa.GA,"nonzero").end().end().ck();a.appendChild(b);a.addEventListener("click",this.Lgb,!1);a.setAttribute("title","Download all log messages");return a;};a.prototype.leb=function(){var a,b,c;a=this;b=this.createElement("button",this.Ir());c=new aa("0 0 24 24").VH().VP(0,0,24,24,aa.background).end().WH("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",aa.GA,"nonzero").end().end().ck();b.appendChild(c);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};a.prototype.qC=function(a){(void 0===a?0:a)&&this.update(!1);};a.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.iP&&Promise.resolve(this.lab()+this.rlb().join("\r\n")).then(function(c){b.element&&b.Dm&&(b.Dm.value=c,b.element.style.cssText=b.Md.rG?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.ta.rh(p.Dd,function(){b.Dm.scrollTop=b.Dm.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};a.prototype.rlb=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level||c.level)<=a.Md.jha&&a.Md.$t[c.Rl]&&(c=c.I1(!a.Md.JW,!a.Md.JW),a.Md.filter&&!a.Md.filter.test(c)||b.push(c));});return b;};a.prototype.lab=function(){var a;a=this.ox();return"Version: 6.0023.745.051 \n"+((a?"Esn: "+a.Ih:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.Ia.bf.ca(p.Fl)+", Start: "+this.app.vB.ca(p.Fl)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};a.prototype.createElement=function(a,b,c,f){return this.Sc.createElement(a,b,c,f);};a.prototype.Ir=function(a,b,c,f){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===c?0:c)+"px solid "+aa.GA+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(f?"border-radius:"+f+"px;":"");};b=a;b.mEb="logDxDisplay";return b=k.__decorate([m.N(),k.__param(0,m.l(f.Ai)),k.__param(1,m.l(y.Se)),k.__param(2,m.l(g.Ve)),k.__param(3,m.l(h.Lg)),k.__param(4,m.l(E.lz)),k.__param(5,m.l(N.T4)),k.__param(6,m.l(n.Kq)),k.__param(7,m.l(q.Dz)),k.__param(8,m.l(l.j3)),k.__param(9,m.l(C.Gq))],b);}();b.dsa=d;},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.csa=void 0;c=a(0);k=a(1);m=a(36);g=a(40);q=a(28);l=a(137);d=function(){var b;function a(a,b){a=g.ae.call(this,a,"LogDisplayConfigImpl")||this;a.Wl=b;return a;}ca(a,g.ae);na.Object.defineProperties(a.prototype,{iP:{configurable:!0,enumerable:!0,get:function(){return!0;}},AG:{configurable:!0,enumerable:!0,get:function(){return this.Wl.AG;}},MKa:{configurable:!0,enumerable:!0,get:function(){return-1;}}});b=a;c.__decorate([m.config(m.vd,"renderDomDiagnostics")],b.prototype,"iP",null);c.__decorate([m.config(m.cZ,"logDisplayMaxEntryCount")],b.prototype,"AG",null);c.__decorate([m.config(m.cZ,"logDisplayAutoshowLevel")],b.prototype,"MKa",null);return b=c.__decorate([k.N(),c.__param(0,k.l(q.Ci)),c.__param(1,k.l(l.zD))],b);}();b.csa=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Fna=void 0;c=a(0);k=a(1);a(3);m=a(84);d=function(){var b;function a(){this.Yka="";this.lUa=[[],[]];this.$=[[],[]];}a.prototype.downloadRequest=function(a){var b;""===this.Yka&&(this.Yka=a.La);if(!a.bc){b=this.BFb(a);this.$[a.M].push(b);this.lUa[a.M].forEach(function(a){a.ZPb(b);});}};a.prototype.BFb=function(a){return{id:a.wj(),La:a.La,M:a.M,Ji:a.Ji,startTime:a.qv,endTime:a.rH,offset:a.sm,GL:a.GL,FL:a.FL,duration:a.Br,O:a.O,state:m.y2.TEa,nq:!1,ISb:!1,IIa:!1,ARb:m.x2.waiting};};a.prototype.update=function(a){this.lUa[a.M].forEach(function(b){b.LVb(a);});};na.Object.defineProperties(a.prototype,{La:{configurable:!0,enumerable:!0,get:function(){return this.Yka;}}});b=a;return b=c.__decorate([k.N()],b);}();b.Fna=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});b.Ppa=void 0;c=a(0);k=a(1);m=a(323);d=function(){var b;function a(a){this.Fgb=a;}a.prototype.Kb=function(){var a;a=this;this.kl||(this.kl=new Promise(function(b,c){var f;f=[];a.Fgb.forEach(function(a){f.push(a.Kb());});Promise.all(f).then(function(){b();})["catch"](function(a){c(a);});}));return this.kl;};b=a;return b=c.__decorate([k.N(),c.__param(0,k.IB(m.A3))],b);}();b.Ppa=d;},function(d,b){function a(a){this.is=a;this.Oqb="#881391";this.tEb="#C41A16";this.Y$a=this.qvb="#1C00CF";this.Epb="#D79BDB";this.pGb=this.nvb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.axa=void 0;a.prototype.ck=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.Fx=function(a,b){return'<font color="'+((void 0===b?0:b)?this.Epb:this.Oqb)+'">'+a+": </font>";};a.prototype.zGa=function(a,b){b=b||"";a=""+('<li><a href="#">'+this.Fx(a)+"Array["+b.length+"]</a>");a+="<ul>";for(var c=0;c<b.length;++c)a+=this.getValue(c.toString(),b[c]);a+=this.getValue("length",b.length,!0);return a+"</ul></li>";};a.prototype.MHa=function(a,b){var c,d,k;c=this;if(b instanceof CryptoKey)return this.Nkb(a,b);d=Object.keys(b);k="";k=k+('<li><a href="#">'+("~~NONAME~~"!==a?this.Fx(a):"")+"Object</a>");k=k+"<ul>";d.forEach(function(a){k=a.startsWith("$")?k+c.getValue(a,"REMOVED"):k+c.getValue(a,b[a]);});k+="</ul>";return k+="</li>";};a.prototype.Nkb=function(a,b){a=""+('<li><a href="#">'+this.Fx(a)+"CryptoKey</a>");a=a+"<ul>"+this.MHa("algorithm",b.algorithm);a+=this.DGa("extractable",b.extractable);a+=this.fIa("type",b.type);a+=this.zGa("usages",b.usages);return a+"</ul></li>";};a.prototype.lmb=function(a,b,d){return'<li><a href="#">'+this.Fx(a,void 0===d?!1:d)+('<font color="'+this.qvb+'">'+b.toString()+"</font>")+"</a></li>";};a.prototype.DGa=function(a,b,d){return'<li><a href="#">'+this.Fx(a,void 0===d?!1:d)+('<font color="'+this.Y$a+'">'+b.toString()+"</font>")+"</a></li>";};a.prototype.fIa=function(a,b,d){128<b.length&&(b=b.substr(0,128)+"...");return'<li><a href="#">'+this.Fx(a,void 0===d?!1:d)+('<font color="'+this.tEb+'">"'+b+'"</font>')+"</a></li>";};a.prototype.kmb=function(a){return'<li><a href="#">'+this.Fx(a)+('<font color="'+this.nvb+'">null</font>')+"</a></li>";};a.prototype.Bnb=function(a,b){b="undefined"===typeof b?"":b.toString();255<b.length&&(b=b.substr(0,255)+"...");return'<li><a href="#">'+this.Fx(a)+('<font color="'+this.pGb+'">'+b+"</font>")+"</a></li>";};a.prototype.getValue=function(a,b,d){d=void 0===d?!1:d;return null===b?""+this.kmb(a):this.is.Mt(b)?""+this.zGa(a,b):this.is.nA(b)?""+this.MHa(a,b):this.is.gn(b)?""+this.fIa(a,b,d):this.is.jh(b)?""+this.lmb(a,b,d):this.is.ZK(b)?""+this.DGa(a,b,d):""+this.Bnb(a,b);};b.axa=a;},function(d,b,a){var c,k,m,g,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.PZa=void 0;c=a(0);k=a(1);m=a(22);g=a(23);q=a(170);l=a(322);h=a(102);f=a(195);d=function(){var b;function a(a,b,c){var f;f=l.GJ.call(this,a,b,"idb")||this;f.Jj=c;f.nQa=function(a){f.Yfb(a.target.id).then(function(){return f.refresh();});};f.Kvb=function(){f.Abb().then(function(){return f.refresh();});};f.Tvb=function(){f.refresh();};f.Mvb=function(){f.Acb();};return f;}ca(a,l.GJ);a.prototype.Kb=function(){var a;a=this;if(this.Io)return Promise.resolve();M.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==h.Nq.OYa&&a.toggle();});return this.Jj.create().then(function(b){a.storage=b;a.Io=!0;});};a.prototype.vj=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};a.prototype.Sea=function(a,b,c){var f;a=a.toString();f='<font color="#C41A16">"'+b+'"</font>';c=this.pCa.ck({name:b,data:c});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+f+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};a.prototype.cfa=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.vj(),c=Object.keys(a),f=0;f<c.length;++f)b+=this.Sea(f,c[f],a[c[f]]);return b+"</table>";};a.prototype.QGa=function(){var a,b,c;a=this.Sc.createElement("button",l.TC,"Clear",{"class":this.prefix+"-display-btn"});b=this.Sc.createElement("button",l.TC,"Refresh",{"class":this.prefix+"-display-btn"});c=this.Sc.createElement("button",l.TC,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.Kvb;b.onclick=this.Tvb;c.onclick=this.Mvb;return[a,b,c];};a.prototype.Srb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.eJa=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.eJa;});};a.prototype.Yfb=function(a){return this.storage.remove(a);};a.prototype.Abb=function(){return this.storage.removeAll();};a.prototype.BPa=function(){var a;a=this;return this.Srb().then(function(b){return a.cfa(b);});};a.prototype.Acb=function(){var a;a=JSON.stringify(this.eJa,null,4);f.oR.pba(a);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Ve)),c.__param(1,k.l(g.Ie)),c.__param(2,k.l(q.fS))],b);}();b.PZa=d;},function(d,b,a){var k,m,g,q,l,h,f,p;function c(a){return function(){return new Promise(function(b,c){var f;f=a.jb.get(m.C3);f.Kb().then(function(){b(f);})["catch"](function(a){c(a);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.XEa=void 0;d=a(1);k=a(323);a(663);m=a(321);g=a(661);q=a(84);l=a(660);h=a(320);f=a(659);p=a(658);a(657);b.XEa=new d.Dc(function(a){a(h.T4).to(f.csa).Z();a(k.A3).to(p.dsa);a(q.zI).to(l.Fna).Z();a(m.C3).to(g.Ppa).Z();a(m.B3).pQ(c);});},function(d,b,a){var c,k,m,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.tua=b.qua=b.pua=void 0;c=a(0);k=a(1);m=a(196);g=a(47);q=a(2);d=function(){var b;function a(a){this.Pwb=a;}a.prototype.Eq=function(a){a.map(this.Pwb.Eq);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.l6))],b);}();b.pua=d;d=function(){var b;function a(a){this.Nwb=a;}a.prototype.Eq=function(a){this.Nwb.Eq(a.data);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.i6))],b);}();b.qua=d;d=function(){var b;function a(){}a.prototype.Eq=function(a){var b;a.ga&&"string"===typeof a.ga?a.href&&"string"===typeof a.href?a.profileId&&"string"===typeof a.profileId||(b="ProfileId value is corrupted."):b="Href value is corrupted.":b="Xid value is corrupted.";if(b)throw new g.Cc(q.J.Tv,q.u.Ov,void 0,void 0,void 0,b,void 0,a.ga);};b=a;return b=c.__decorate([k.N()],b);}();b.tua=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.eua=void 0;c=a(0);k=a(78);m=a(8);g=a(1);d=function(){var b;function a(a,b){this.RL=b;this.log=a.xb("PboEventSenderImpl");}a.prototype.hla=function(a,b){var c;c=this.RL(k.Cl.start);return this.zFa(c,a,b);};a.prototype.QQa=function(a){var b;b=this;return this.RL(k.Cl.stop).cf(this.log,a).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};a.prototype.CP=function(a,b,c){a=this.RL(a);return this.zFa(a,b,c);};a.prototype.zFa=function(a,b,c){var f;f=this;return a.Co(this.log,b.va.Aj,c).then(function(){})["catch"](function(a){f.log.error("PBO event failed",a);throw a;});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ab)),c.__param(1,g.l(k.DR))],b);}();b.eua=d;},function(d,b,a){var c,k,m,g,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Oua=void 0;c=a(0);k=a(1);m=a(40);g=a(28);q=a(36);l=a(3);h=a(32);d=function(){var b;function a(a,b){a=m.ae.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}ca(a,m.ae);na.Object.defineProperties(a.prototype,{gH:{configurable:!0,enumerable:!0,get:function(){return this.config.Cr?"unsentplaydatatest":"unsentplaydata";}},ela:{configurable:!0,enumerable:!0,get:function(){return!0;}},LQa:{configurable:!0,enumerable:!0,get:function(){return l.Gb(1E4);}},fja:{configurable:!0,enumerable:!0,get:function(){return l.Gb(4E3);}},jKa:{configurable:!0,enumerable:!0,get:function(){return l.oO(1);}},kKa:{configurable:!0,enumerable:!0,get:function(){return l.bh(30);}}});b=a;c.__decorate([q.config(q.string,"playdataPersistKey")],b.prototype,"gH",null);c.__decorate([q.config(q.vd,"sendPersistedPlaydata")],b.prototype,"ela",null);c.__decorate([q.config(q.Vg,"playdataSendDelayMilliseconds")],b.prototype,"LQa",null);c.__decorate([q.config(q.Vg,"playdataPersistIntervalMilliseconds")],b.prototype,"fja",null);c.__decorate([q.config(q.Vg,"heartbeatCooldown")],b.prototype,"jKa",null);c.__decorate([q.config(q.Vg,"keepAliveWindow")],b.prototype,"kKa",null);return b=c.__decorate([k.N(),c.__param(0,k.l(g.Ci)),c.__param(1,k.l(h.Kk))],b);}();b.Oua=d;},function(d,b,a){var m,g,q,l,h,f,p,y,n,r,E,G,N,C,u;function c(a,b){this.config=a;this.Ia=b;}function k(a,b,c,f,d,h){this.log=a;this.ta=b;this.ph=c;this.mq=f;this.Hs=d;this.pxb=h;this.GFa=this.Jp=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.sua=b.X0a=void 0;m=a(0);g=a(1);q=a(3);l=a(8);h=a(35);f=a(244);p=a(326);y=a(12);n=a(325);r=a(2);E=a(197);G=a(324);N=a(127);C=a(39);u=a(60);k.prototype.o_=function(a,b){var f;function c(){var a;a=f.mq.create(f.ph);f.Hs.Rma(a)["catch"](function(a){var b;b=f.GFa?l.Zh.I7:l.Zh.ERROR;f.GFa=!0;f.log.write(b,"Unable to save playdata changes to IDB",a);});}f=this;this.log.trace("Adding initial playdata",b);this.Hs.L8a(b).then(function(){f.log.trace("Scheduling monitor",{interval:a});f.ap=f.ta.Mka(a,c);})["catch"](function(d){f.log.error("Unable to add playdata",{error:d,playdata:new E.IS().encode(b)});f.ap=f.ta.Mka(a,c);});};k.prototype.stop=function(a){var b,c;b=this;if(this.Jp)return Promise.resolve();this.ap&&this.ap.cancel();c=this.mq.create(this.ph);return this.Hs.Rma(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.ph.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve();b.log.trace("Sending final playdata to the server",c);return b.pxb.QQa(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",c),b.Hs.IPa(c);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.G);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};k.prototype.cancel=function(){this.Jp=!0;this.ap&&this.ap.cancel();this.Hs.Rma(this.mq.create(this.ph));};na.Object.defineProperties(c.prototype,{Lab:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Ia.bf;return!this.sB||0<=a.zb(this.sB).Tl(this.config.kKa)?(this.sB=a,!0):!1;}}});b.X0a=c;d=function(){var b;function a(a,b,f,d,h,l,p,k){this.config=a;this.ta=f;this.Hs=d;this.mq=h;this.a0=l;this.he=p;this.sB=Promise.resolve();this.closed=!1;this.log=b.xb("PlaydataServices");this.TB=[];this.active=new Set();this.aBb=new c(a,k);}a.prototype.Kb=function(){var a;a=this;this.kl||(this.log.trace("Starting playdata services"),this.kl=this.Hs.kzb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.kl;};a.prototype.close=function(){this.closed=!0;this.TB.forEach(function(a){a.o_.cancel();});};a.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.gH&&b.ela?this.XBb(a):Promise.resolve();};a.prototype.Tla=function(a){this.closed||this.XDb(a);};a.prototype.ZRa=function(a){var b,c,f;b=this;if(this.closed)return Promise.resolve();c=this.mq.create(a);this.active["delete"](c.ga);a=S(N.hs(function(a){return a.key===c.ga;},this.TB));f=a.next().value;this.TB=a.next().value;return Promise.all(f.map(function(a){a.$Ra=!0;return a.o_.stop(b.config.ela);})).then(function(){});};a.prototype.I_=function(a,b){var c,f;c=this;f=a.fa;this.QRa(f,b);this.hla(f,a.XL)["catch"](function(a){c.log.error("Start command failed",{playdata:a.UB,error:a.TA});});this.UDb(a);};a.prototype.XDb=function(a){var b;b=this;a.addEventListener(y.U.No,function(c){var f;if(void 0!==c.g0){f=a.cm(c.g0);b.ZRa(f);c.nB||new Promise(function(b){var c;if(a.nq.value)b();else{c=function(f){f.newValue&&(b(),a.nq.removeListener(c));};a.nq.addListener(c);}}).then(function(){return b.I_(a,"online");});}});a.addEventListener(y.U.Jn,function(){b.I_(a,"online");});a.background||a.addEventListener(y.U.ON,function(c){c=a.cm(c.G);b.QRa(c,"online");});a.addEventListener(y.U.uf,function(){b.iEb();});a.addEventListener(y.U.$Ta,function(){b.cCb(a.fa)["catch"](function(b){(b=b.oja)&&a.Sd(b);});});a.uc.addListener(function(){a.Ua.jca?b.log.trace("stickiness is disabled for timedtext"):b.PQa(a.fa);});a.ed.addListener(function(){a.Ua.jca?b.log.trace("stickiness is disabled for audio"):b.PQa(a.fa)["catch"](function(b){(b=b.oja)&&a.Sd(b);});});};a.prototype.QRa=function(a,b){var c,f;a.cd("pdb");if(this.config.fja.lqb()){c=this.mq.create(a);f=c.ga;this.TB.some(function(a){return a.key===f;})?this.log.trace("Already collecting "+b+" playdata, ignoring",c):(this.log.info("Starting to collect "+b+" playdata",c),this.active.add(f),this.TB.push({key:f,o_:this.$lb(a,c),vC:!1,$Ra:!1}));}};a.prototype.XBb=function(a){var b,c,f,d;b=this;c=this.Hs.UB.filter(function(a){return!b.active.has(a.ga);});f=void 0;d=void 0;a&&Infinity===a?f=c:(c=S(N.hs(function(b){return b.G===a;},c)),f=c.next().value,d=c.next().value);d&&0<d.length&&this.ta.rh(this.config.LQa,function(){b.OQa(d);});return f&&0!==f.length?this.OQa(f):Promise.resolve();};a.prototype.OQa=function(a){var c;function b(a){return c.a0.QQa(a).then(function(){return c.iAb(a);});}c=this;return a.reduce(function(a,c){return a.then(function(){return b(c);});},Promise.resolve());};a.prototype.iAb=function(a){var b;b=this;return this.Hs.IPa(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};a.prototype.$lb=function(a,b){a=new k(this.log,this.ta,a,this.mq,this.Hs,this.a0);a.o_(this.config.fja,b);return a;};a.prototype.hla=function(a,b){var c,f;c=this;f=this.mq.yeb(a,b);return this.a0.hla(a,f).then(function(){c.TB.filter(function(b){return b.key===a.ga.toString();}).forEach(function(a){a.vC=!0;});})["catch"](function(a){throw{UB:f,TA:a};});};a.prototype.cCb=function(a){return this.aBb.Lab?this.CP(G.FS.FN,a,r.J.K4):Promise.resolve();};a.prototype.PQa=function(a){return this.CP(G.FS.splice,a,r.J.Kva);};a.prototype.CP=function(a,b,c){var d;function f(a){var b;b=d.TB.filter(function(b){return b.key===a.ga.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.$Ra||!b.vC;},!1);}d=this;return f(b)?this.sB:this.sB=this.sB["catch"](function(){return Promise.resolve();}).then(function(){var c;if(f(b))return Promise.resolve();c=d.mq.create(b);return d.a0.CP(a,b,c);}).then(function(a){return a;})["catch"](function(f){var h;d.log.error("Failed to send event",{eventKey:a,xid:b.ga,error:f});f.Rca?h=d.he(c,f):f.cs===r.oS.A7&&(h=d.he(c,f));throw{TA:f,oja:h};});};a.prototype.UDb=function(a){this.xDb(a)&&this.Qla(this.Klb(a.fa),a);};a.prototype.Qla=function(a,b){var c;c=this;this.Paa();this.Fga=this.ta.rh(a,function(){c.Paa();c.CP(G.FS.FN,b.fa,r.J.K4).then(function(){c.Qla(a,b);})["catch"](function(f){var d;d=f.TA;(f=f.oja)&&b.Sd(f);d.cs===r.oS.A7&&c.Qla(a,b);});});};a.prototype.iEb=function(){this.Paa();};a.prototype.xDb=function(a){return a.state.value==y.mb.qd;};a.prototype.Paa=function(){this.Fga&&(this.Fga.cancel(),this.Fga=void 0);};a.prototype.Klb=function(a){return a.Ua.yfa?q.Gb(a.Ua.yfa):this.config.jKa;};b=a;return b=m.__decorate([g.N(),m.__param(0,g.l(n.D6)),m.__param(1,g.l(l.Ab)),m.__param(2,g.l(h.Lg)),m.__param(3,g.l(p.Z5)),m.__param(4,g.l(f.JS)),m.__param(5,g.l(G.c6)),m.__param(6,g.l(u.Mk)),m.__param(7,g.l(C.Ai))],b);}();b.sua=d;},function(d,b,a){var m,g,q,l,h,f,p,y,n,r,E;function c(){}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.aua=void 0;m=a(0);g=a(1);q=a(15);l=a(2);h=a(23);f=a(47);p=a(497);y=a(71);n=a(72);r=a(197);E=a(196);d=function(){var b;function a(a,b,d,h,k){var m;m=this;this.is=a;this.Jj=b;this.config=d;this.ox=h;this.Owb=k;this.Fs=function(){return new c().encode({version:m.version,data:m.UB});};this.$Gb=function(a){a=m.ZGb(a);m.Owb.Eq(a);return a;};this.ZGb=function(a){if(m.is.Nl(a))return m.cHb(a);if(void 0!=a.version&&m.is.jh(a.version)&&1==a.version)return m.dHb(a);if(void 0!=a.version&&m.is.jh(a.version)&&2==a.version)return new c().decode(a);if(a.version&&m.is.jh(a.version))throw new f.Cc(l.J.Tv,l.u.roa,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new f.Cc(l.J.Tv,l.u.Ov,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.gp=new p.A4(2,this.config().qOa,""!==this.config().qOa&&0<this.config().zxb,this.Jj,this.Fs);}a.prototype.kzb=function(){return this.gp.load(this.$Gb)["catch"](function(a){throw new f.Cc(l.J.Tv,a.da||a.ad,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};a.prototype.L8a=function(a){return this.gp.add(a);};a.prototype.IPa=function(a){return this.gp.remove(a,function(a,b){return a.ga===b.ga;});};a.prototype.Rma=function(a){return this.gp.update(a,function(a,b){return a.ga===b.ga;});};a.prototype.toString=function(){return JSON.stringify(this.Fs(),null,"  ");};a.prototype.NTa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.ox().Ih:"";};a.prototype.Tma=function(a){return a.map(function(a){return{gd:a.downloadableId,duration:a.duration};});};a.prototype.OTa=function(a){var b;return a?{total:a.playTimes.total,GC:null!==(b=a.playTimes.totalContentTime)&&void 0!==b?b:a.playTimes.total,audio:this.Tma(a.playTimes.audio||[]),video:this.Tma(a.playTimes.video||[]),text:this.Tma(a.playTimes.timedtext||[])}:{total:0,GC:0,audio:[],video:[],text:[]};};a.prototype.cHb=function(a){var b,c,d;b=this;a=JSON.parse(a);c={type:"online",href:this.NTa(a.playbackContextId),ga:a.xid?a.xid.toString():"",G:a.movieId,position:a.position,PL:a.timestamp,GP:a.playback?1E3*a.playback.startEpoch:-1,GG:a.mediaId,MO:this.OTa(a.playback),ab:"",Mn:{},profileId:a.accountKey};d=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.Jj.create().then(function(a){a.save(b.config().uM,d,!1);});if(""===c.href||""===c.ga)throw new f.Cc(l.J.Tv,l.u.Ov);return{version:2,data:[c]};};a.prototype.dHb=function(a){var b;b=this;if(!a.playdata||!this.is.Mt(a.playdata))throw new f.Cc(l.J.Tv,l.u.Ov,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,href:b.NTa(a.playbackContextId),ga:a.xid?a.xid.toString():"",G:a.movieId,position:a.position,PL:a.timestamp,GP:a.playback?1E3*a.playback.startEpoch:-1,GG:a.mediaId,MO:b.OTa(a.playback),ab:"",Mn:{},profileId:a.profileId};});}(a.playdata)};};na.Object.defineProperties(a.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.gp.version;}},UB:{configurable:!0,enumerable:!0,get:function(){return this.gp.ur;}}});b=a;return b=m.__decorate([g.N(),m.__param(0,g.l(h.Ie)),m.__param(1,g.l(y.Gq)),m.__param(2,g.l(q.dd)),m.__param(3,g.l(n.Kq)),m.__param(4,g.l(E.j6))],b);}();b.aua=d;k.prototype.encode=function(a){var b;b=new r.IS();return a.map(b.encode);};k.prototype.decode=function(a){var b;b=new r.IS();return a.map(b.decode);};c.prototype.encode=function(a){return{version:a.version,data:new k().encode(a.data)};};c.prototype.decode=function(a){return{version:a.version,data:new k().decode(a.data)};};},function(d,b,a){var k,m,g,q,l,h,f,p,y,n,r,E;function c(a){return function(){return a.jb.get(k.k6).Kb();};}Object.defineProperty(b,"__esModule",{value:!0});b.UB=void 0;d=a(1);k=a(148);m=a(244);g=a(197);q=a(326);l=a(669);h=a(668);f=a(325);p=a(667);y=a(324);n=a(666);r=a(196);E=a(665);b.UB=new d.Dc(function(a){a(f.D6).to(p.Oua).Z();a(m.JS).to(g.rua).Z();a(q.Z5).to(l.aua).Z();a(k.k6).to(h.sua).Z();a(k.wJ).pQ(c);a(y.c6).to(n.eua).Z().MQ();a(r.l6).to(E.tua).Z();a(r.i6).to(E.pua).Z();a(r.j6).to(E.qua).Z();});},function(d,b,a){var c,k,m,g,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Xra=void 0;c=a(0);k=a(1);m=a(8);g=a(330);a(329);q=a(328);l=a(327);h=a(198);d=function(){var b;function a(a,b,c,f,d){this.i8a=a;this.Xzb=b;this.WPa=f;this.gQa=d;this.ka=c.xb("LicenseProviderImpl");}a.prototype.lA=function(a){var b,c;b=this;c=this.WPa.PFb(a);return this.i8a.Co(this.ka,a.Aj,c).then(function(a){a.map(function(a){return a.rrb;});return b.gQa.cTa(a);})["catch"](function(a){b.ka.error("PBO license failed",a);return Promise.reject(a);});};a.prototype.release=function(a){var b;b=this;a=this.WPa.SFb(a);return this.Xzb.cf(this.ka,a).then(function(a){return b.gQa.TFb(a);})["catch"](function(a){b.ka.error("PBO release license failed",a);return Promise.reject(a);});};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(g.X5)),c.__param(1,k.l(q.m6)),c.__param(2,k.l(m.Ab)),c.__param(3,k.l(l.e6)),c.__param(4,k.l(h.GS))],b);}();b.Xra=d;},function(d,b,a){var c,k,m,g,q,l,h,f,p;Object.defineProperty(b,"__esModule",{value:!0});b.Jpa=void 0;c=a(0);k=a(1);m=a(22);g=a(42);q=a(97);l=a(135);h=a(87);f=a(475);p=a(149);d=function(){var b;function a(a,b,c,f){this.Sc=a;this.Rt=b;this.CHb=c;this.JZ=f;}a.prototype.pi=function(a){var b;b=this;return this.Sc.wr(a.li[0].data[0],[8,4])?Promise.resolve({pc:[{id:"ddd",Ux:"cert",zG:void 0}],fm:[{sessionId:"ddd",data:new Uint8Array(this.Rt.decode(f.yxa))}]}):this.Sc.wr(a.li[0].data[0],this.CHb.decode("certificate"))?Promise.resolve({pc:[{id:"ddd",Ux:"cert",zG:void 0}],fm:[{sessionId:"ddd",data:new Uint8Array(this.Rt.decode(f.P3))}]}):this.JZ.lA(this.Fjb(a)).then(function(a){return b.Gjb(a);});};a.prototype.release=function(a){var b;b=this;return this.JZ.release(this.Jjb(a)).then(function(c){return b.Kjb(c,a);});};a.prototype.Fjb=function(a){var b,c;b=this;c=a.li.map(function(a){return a.data.map(function(c){return{sessionId:a.sessionId,dataBase64:b.Rt.encode(c)};});});return{ga:a.ga,hg:a.hg,OW:a.OW,ri:h.Zga(a.ri),Ar:l.Im[a.Ar],li:c.reduce(function(a,b){return a.concat(b);},[]),bO:a.bO,Aj:a.Aj};};a.prototype.Jjb=function(a){var b;b={};a.li&&a.pc[0].id&&(b[a.pc[0].id]=this.Rt.encode(a.li[0]));return a&&a.li?{ga:a.ga,pc:a.pc,DBb:b}:{ga:a.ga,pc:a.pc};};a.prototype.Gjb=function(a){return{pc:a.pc,fm:a.fm};};a.prototype.Kjb=function(a,b){return a&&a.response&&a.response.data&&b.pc[0].id&&(a=a.response.data[b.pc[0].id])?{response:this.Rt.decode(a)}:{};};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(m.Ve)),c.__param(1,k.l(g.$i)),c.__param(2,k.l(q.ow)),c.__param(3,k.l(p.kD))],b);}();b.Jpa=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.UOa=void 0;d=a(1);c=a(477);k=a(672);m=a(149);g=a(671);b.UOa=new d.Dc(function(a){a(c.x3).to(k.Jpa).Z();a(m.kD).to(g.Xra).Z();});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gsb=b.bLa=b.Esb=void 0;b.Esb=function(a){return a;};b.bLa=function(a){return a;};b.Gsb=function(a){return Object.assign({},a);};},function(d,b,a){var c,k,m,g,q,l,h,f,p;Object.defineProperty(b,"__esModule",{value:!0});b.Yqa=void 0;c=a(0);k=a(54);m=a(674);g=a(48);q=a(29);l=a(39);h=a(1);f=a(334);p=a(3);d=function(){var b,d;function a(a,b,c){this.Ia=a;this.qIb=b;this.performance=c;k.jm(this,"performance");}a.prototype.get=function(a,c,f){var d;d=this;return new Promise(function(h,l){var k,m,q;try{k=d.qIb.create();"withCredentials"in k||l(Error("Missing CORS support"));k.open("GET",a,!0);c&&(k.withCredentials=!0);f&&(k.timeout=f.ca(p.ha));m=d.Ia.bf;q=void 0;k.onreadystatechange=function(){var c;switch(k.readyState){case XMLHttpRequest.HEADERS_RECEIVED:q=d.Ia.bf.zb(m);break;case XMLHttpRequest.DONE:c=d.Ia.bf.zb(m),c={body:k.responseText,status:k.status,headers:b.vwb(k.getAllResponseHeaders()),kd:d.Xlb(a,g.ba(k.responseText.length),c,q)};h(c);}};k.send();}catch(T){l(T);}});};a.vwb=function(a){var b,f,d;b={};a=a.split("\r\n");for(var c=0;c<a.length;c++){f=a[c];d=f.indexOf(": ");0<d&&(b[f.substring(0,d).toLowerCase()]=f.substring(d+2));}return b;};a.prototype.Xlb=function(a,b,c,f){b={size:b,duration:c,qma:f};if(!this.performance||!this.performance.getEntriesByName)return b;c=this.performance.getEntriesByName(a);if(0==c.length&&(c=this.performance.getEntriesByName(a+"/"),0==c.length))return b;a=c[c.length-1];b=m.bLa(b);a.Hfb&&(b.size=g.ba(a.Hfb));0<a.duration?b.duration=p.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=p.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.JEa=p.timestamp(a.domainLookupEnd-a.domainLookupStart),b.jma=p.timestamp(a.connectEnd-a.connectStart),b.qma=p.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.uma=p.timestamp(0):void 0!==a.secureConnectionStart&&(c=a.connectEnd-a.secureConnectionStart,b.uma=p.timestamp(c),b.jma=p.timestamp(a.connectEnd-a.connectStart-c)));return b;};d=b=a;return d=b=c.__decorate([h.N(),c.__param(0,h.l(l.Ai)),c.__param(1,h.l(f.N7)),c.__param(2,h.l(q.KS)),c.__param(2,h.optional())],d);}();b.Yqa=d;},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Aqa=void 0;c=a(0);k=a(1);m=a(54);g=a(29);q=a(3);l=a(23);d=function(){var b;function a(a,b){this.is=a;this.json=b;m.jm(this,"json");}a.prototype.parse=function(a){var c;a=this.json.parse(a);if(!this.is.i$(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.$K(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.$K(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays&&!this.is.Mt(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.$K(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Mt(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Nl(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.nA(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){c=a.urls[b];if(!this.is.i$(c))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.gn(c.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.gn(c.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{Ryb:a.pulses,XOa:a.pulse_delays?a.pulse_delays.map(q.Gb):[],Qyb:q.Gb(a.pulse_timeout),iKa:a.next?q.Gb(a.next):void 0,me:a.urls,lha:a.logblob,context:a.ctx};};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(l.Ie)),c.__param(1,k.l(g.Vv))],b);}();b.Aqa=d;},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.yva=void 0;c=a(0);k=a(1);m=a(48);g=a(3);q=a(44);l=a(62);d=function(){var b,d;function a(a,b){this.Mh=a;this.EB=b;}a.prototype.kP=function(a){a=this.EB.sn("ftlProbeError","info",b.kIb({url:a.url,sc:a.status,pf_err:a.hja},a));this.Mh.Kc(a);};a.kIb=function(a,c){c.kd&&(c=c.kd,b.kr(a,"d",c.duration),b.kr(a,"dns",c.JEa),b.kr(a,"tcp",c.jma),b.kr(a,"tls",c.uma),b.kr(a,"ttfb",c.qma),a.sz=c.size.ca(m.Iq));return a;};a.kr=function(a,b,c){c&&(a[b]=c.ca(g.ha));return a;};d=b=a;return d=b=c.__decorate([k.N(),c.__param(0,k.l(q.Pj)),c.__param(1,k.l(l.Wn))],d);}();b.yva=d;},function(d,b,a){var c,k,m,g,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.zva=void 0;c=a(0);k=a(1);m=a(48);g=a(3);q=a(44);l=a(62);d=function(){var b,d;function a(a,b){this.Mh=a;this.EB=b;}a.prototype.kP=function(a){a=this.EB.sn(a.lha,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return b.lIb({d:a.kd.duration.ca(g.ha),sc:a.status,sz:a.kd.size.ca(m.Iq),via:a.NHb,cip:a.tbb,err:a.TA},a);})};})});this.Mh.Kc(a);};a.lIb=function(a,c){b.kr(a,"dns",c.kd.JEa);b.kr(a,"tcp",c.kd.jma);b.kr(a,"tls",c.kd.uma);b.kr(a,"ttfb",c.kd.qma);return a;};a.kr=function(a,b,c){c&&(a[b]=c.ca(g.ha));return a;};d=b=a;return d=b=c.__decorate([k.N(),c.__param(0,k.l(q.Pj)),c.__param(1,k.l(l.Wn))],d);}();b.zva=d;},function(d,b,a){var c,k,m,g,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Cqa=void 0;c=a(0);k=a(1);m=a(3);g=a(35);q=a(8);l=a(332);h=a(331);f=a(177);d=function(){var b,d;function a(a,b,c,f,d,h,l){this.config=a;this.bJa=b;this.ta=c;this.gg=f;this.zAb=d;this.mka=h;this.Kqb=0;this.ka=l.xb("FTL");}a.prototype.start=function(){this.config.enabled&&!this.ap&&(this.ap=this.ta.rh(this.config.ORa,this.CH.bind(this)));};a.prototype.stop=function(){this.ap&&(this.ap.cancel(),this.ap=void 0);};a.prototype.CH=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.Kqb++;this.knb(b).then(function(b){return Promise.all(b.me.map(function(c){return a.hob(b,c.url,c.name);})).then(function(c){0<c.length&&a.zAb.kP({data:c,context:b.context,lha:b.lha});}).then(function(){return b;});}).then(function(b){a.ap&&(b.iKa?a.ap=a.ta.rh(b.iKa,a.CH.bind(a)):a.stop());})["catch"](function(b){return a.ka.error("FTL run failed",b);});};a.prototype.knb=function(a){var b;b=this;return this.bJa.get(a,!1).then(function(c){var f;if(200!=c.status||null==c.body)return b.mka.kP({url:a,status:c.status,hja:"FTL API request failed",kd:c.kd}),Promise.reject(Error("FTL API request failed: "+c.status));f=b.gg.parse(c.body);return f instanceof Error?(b.mka.kP({url:a,status:4,hja:"FTL Probe API JSON parsing error",kd:c.kd}),Promise.reject(f)):Promise.resolve(f);})["catch"](function(c){c instanceof Error&&(b.mka.kP({url:a,status:0,hja:c.message}),b.ka.error("FTL API call failed",c.message));return Promise.reject(c);});};a.prototype.hob=function(a,c,f){var d;d=this;return new Promise(function(h,l){var n;for(var p,k,g,q=[],t={},y=0;y<a.Ryb;t={cl:t.cl,Oja:t.Oja},++y){t.cl=y<a.XOa.length?a.XOa[y]:m.Dd;t.Oja=""+c+(-1===c.indexOf("?")?"?":"&")+"pulse="+(y+1);n=function(c){return function(){return new Promise(function(f,h){d.ta.rh(c.cl,function(){b.wyb(d.bJa,c.Oja,a.Qyb).then(function(a){function b(a,b,c){a||(a=c.headers[b]);return a;}p=b(p,"via",a);k=b(k,"x-ftl-probe-data",a);g=b(g,"x-ftl-error",a);f({status:a.status,kd:a.kd,NHb:p||"",tbb:k||"",TA:g||""});})["catch"](function(a){h(a);});});});};}(t);q.push(0<y?q[y-1].then(n):n());}Promise.all(q).then(function(a){h({url:c,name:f,data:a});})["catch"](function(a){l(a);});});};a.wyb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};d=b=a;return d=b=c.__decorate([k.N(),c.__param(0,k.l(f.T3)),c.__param(1,k.l(h.u4)),c.__param(2,k.l(g.Lg)),c.__param(3,k.l(l.S3)),c.__param(4,k.l(f.T6)),c.__param(5,k.l(f.S6)),c.__param(6,k.l(q.Ab))],d);}();b.Cqa=d;},function(d,b,a){var c,k,m,g,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.sGa=void 0;d=a(1);c=a(679);k=a(678);m=a(677);g=a(676);q=a(675);l=a(332);h=a(331);f=a(177);b.sGa=new d.Dc(function(a){a(f.U3).to(c.Cqa).Z();a(f.T6).to(k.zva).Z();a(f.S6).to(m.yva).Z();a(l.S3).to(g.Aqa).Z();a(h.u4).to(q.Yqa).Z();});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){this.nr=a;}a.prototype.uO=function(){var a,b,d;a=this.nr.Hlb();b=this.nr.Ilb();d=this.nr.Jlb();if("number"===typeof a&&"number"===typeof b&&"number"===typeof d)return(d-a)/b;};return a;}();b.R_a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a,b){this.nr=a;this.uO=b;}a.prototype.ola=function(a){return this.nr.ola(a);};a.prototype.dm=function(){return this.nr.dm();};a.prototype.hmb=function(){return this.uO.uO();};return a;}();b.Q_a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){this.GKa=a;}a.prototype.ola=function(a){try{this.GKa.setItem("gtp",JSON.stringify(a));}catch(k){return!1;}return!0;};a.prototype.nHa=function(){var a;try{a=this.GKa.getItem("gtp");if(a)return JSON.parse(a);}catch(k){}};a.prototype.dm=function(){var a;a=this.nHa();if(a&&a.tp)return a.tp.a;};a.prototype.Hlb=function(){var a;a=this.sea();if(a)return a.p25;};a.prototype.Ilb=function(){var a;a=this.sea();if(a)return a.p50;};a.prototype.Jlb=function(){var a;a=this.sea();if(a)return a.p75;};a.prototype.sea=function(){var a;a=this.nHa();if(a&&(a=a.iqr))return a;};return a;}();b.t2=d;},function(d,b,a){var c,k,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(683);k=a(682);m=a(681);b["default"]=function(a){var b;a=new c.t2(a);b=new m.R_a(a);return new k.Q_a(a,b);};},function(d,b,a){var c,k,m,g,q;Object.defineProperty(b,"__esModule",{value:!0});b.qta=void 0;c=a(0);k=a(495);m=a(1);g=a(171);q=a(333);d=function(){var b;function a(a,b,c){this.config=a;this.esb=b;this.tb=c;}a.prototype.tba=function(){if(this.config.TTa)return this.tb(this.esb());};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(k.E5)),c.__param(1,m.l(g.D5)),c.__param(2,m.l(q.F5))],b);}();b.qta=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Cxa=void 0;c=a(0);k=a(1);d=function(){var b;function a(){}a.prototype.create=function(){return new XMLHttpRequest();};b=a;return b=c.__decorate([k.N()],b);}();b.Cxa=d;},function(d,b,a){var c,k,m,g,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.uMa=void 0;d=a(1);c=a(686);k=a(91);m=a(334);g=a(685);q=a(200);l=a(333);h=a(684);b.uMa=new d.Dc(function(a){a(m.N7).to(c.Cxa).Z();a(k.Xv).Ly(function(){return M._cad_global.http;});a(q.pJ).to(g.qta).Z();a(l.F5).Th(h["default"]);});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qLa=void 0;b.qLa=function(a,b){var q,l;if(0!==a.length){if(1===a.length)return a[0];for(var c=a[0],d=b(c),g=1;g<a.length;g++){q=a[g];l=b(q);l>d&&(c=q,d=l);}return c;}};},function(d,b,a){var k;function c(a,b,c){a=k.xR.call(this,a,b)||this;a.ex=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Joa=void 0;k=a(338);ca(c,k.xR);b.Joa=c;},function(d,b,a){var c,k,m,g,q,l,h,f,p,y,n,r,E,G,N,C,u,P,aa,R,A,T;Object.defineProperty(b,"__esModule",{value:!0});b.jsa=void 0;c=a(0);k=a(243);m=a(447);g=a(44);q=a(22);l=a(439);h=a(239);f=a(92);p=a(1);y=a(339);n=a(337);r=a(91);E=a(15);G=a(39);N=a(25);C=a(30);u=a(62);P=a(103);aa=a(120);R=a(29);A=a(32);T=a(336);d=function(){var b;function a(a,b,c,f,d,h,l,p,k,m,g,q,t,y,n,H,r,G,K){this.GSa=a;this.VV=b;this.Mh=c;this.Xha=f;this.cda=d;this.Cj=h;this.Tc=l;this.NW=p;this.Pe=k;this.config=m;this.Bc=g;this.Ia=q;this.qa=t;this.platform=y;this.pm=n;this.RN=H;this.Dj=r;this.Sp=G;this.f_=K;}a.prototype.create=function(a,b,c){return new y.ksa(a,b,c,this.GSa,this.VV,this.Mh,this.Xha,this.cda,this.Cj,this.Tc,this.NW,this.Pe,this.config,this.Bc,this.Ia,this.qa,this.platform,this.pm,this.RN,this.Dj,this.Sp,this.f_);};b=a;return b=c.__decorate([p.N(),c.__param(0,p.l(k.lT)),c.__param(1,p.l(m.U2)),c.__param(2,p.l(g.Pj)),c.__param(3,p.l(l.j5)),c.__param(4,p.l(h.N3)),c.__param(5,p.l(f.gw)),c.__param(6,p.l(q.Ve)),c.__param(7,p.l(n.u3)),c.__param(8,p.l(r.Xv)),c.__param(9,p.l(E.dd)),c.__param(10,p.l(P.Hz)),c.__param(11,p.l(G.Ai)),c.__param(12,p.l(N.Se)),c.__param(13,p.l(C.Uj)),c.__param(14,p.l(R.AD)),c.__param(15,p.l(u.Wn)),c.__param(16,p.l(aa.DD)),c.__param(17,p.l(A.Kk)),c.__param(18,p.l(T.v5))],b);}();b.jsa=d;},function(d,b,a){var c,k,m,g;Object.defineProperty(b,"__esModule",{value:!0});b.hsa=void 0;c=a(0);k=a(1);m=a(48);g=a(72);d=function(){var b;function a(a){this.Gh=a;}a.prototype.msb=function(){var a;a=this.Gh()?this.Gh().Ih.length:40;return m.ba(a+33);};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(g.Kq))],b);}();b.hsa=d;},function(d,b,a){var k,m,g,q,l,h,f,p,y,n;function c(a,b,c,f,d,h,p,k,m,g){this.platform=b;this.Eba=c;this.type=f;this.severity=d;this.timestamp=h;this.data=p;this.qa=k;this.data.type=f;this.data.sev=d;this.data.devmod=this.platform.dca;this.data.clver=this.platform.version;a&&a.qr&&(a.qr.os&&(this.data.osplatform=a.qr.os.name,this.data.osver=a.qr.os.version),this.data.browsername=a.qr.name,this.data.browserver=a.qr.version);a.xga&&(this.data.tester=!0);a.Lx&&!this.data.groupname&&(this.data.groupname=a.Lx);a.XE&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.XE:a.XE);a.JC&&(this.data.uigroupname=a.JC);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.qa.Plb();this.data.uniqueLogId=m.xGa();this.data.appId=this.qa.id;g&&(a=this.qa.Zb(),this.data.soffms=a.zb(g.xk).ca(l.ha),this.data.mid=this.data.mid||g.G,this.data.lvpi=g.kha,this.data.uiLabel=g.le,f="startup"===f?"playbackxid":"xid",this.data[f]="xid"===f&&this.data.xid||g.ga,g.lC&&(f=g.lC,(g=g.lC.split("."))&&1<g.length&&"S"!==g[0][0]&&(f="SABTest"+g[0]+".Cell"+g[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+f:f));}Object.defineProperty(b,"__esModule",{value:!0});b.gsa=void 0;k=a(0);m=a(48);g=a(1);q=a(39);l=a(3);h=a(465);f=a(32);p=a(25);y=a(342);n=a(30);d=function(){var b;function a(a,b,c,f,d,h){this.Ia=a;this.Eba=b;this.config=c;this.qa=f;this.EHb=d;this.platform=h;}a.prototype.sn=function(a,b,f,d){return new c(this.config,this.platform,this.Eba,a,b,this.Ia.bf,f,this.qa,this.EHb,d);};b=a;return b=k.__decorate([g.N(),k.__param(0,g.l(q.Ai)),k.__param(1,g.l(h.b3)),k.__param(2,g.l(f.Kk)),k.__param(3,g.l(p.Se)),k.__param(4,g.l(y.F7)),k.__param(5,g.l(n.Uj))],b);}();b.gsa=d;na.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.tCa||(this.tCa=m.ba(this.Eba.encode(this.data).length));return this.tCa;}}});},function(d,b,a){var c,k,g,t,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.$ra=void 0;c=a(0);k=a(48);g=a(3);t=a(1);q=a(15);l=a(36);h=a(40);f=a(28);d=function(){var b;function a(a,b){a=h.ae.call(this,a,"PboConfigImpl")||this;a.config=b;a.ctb=k.ba(5E5);a.ZBb=g.oO(1);a.wLa=k.ba(1E6);return a;}ca(a,h.ae);na.Object.defineProperties(a.prototype,{s$:{configurable:!0,enumerable:!0,get:function(){return this.config().s$;}},yRa:{configurable:!0,enumerable:!0,get:function(){return[];}},xRa:{configurable:!0,enumerable:!0,get:function(){return["MslTransport","Pbo","LogblobSender"];}}});b=a;c.__decorate([l.config(l.object(),"shedLogblobTypes")],b.prototype,"yRa",null);c.__decorate([l.config(l.kn("string"),"shedDebugTypes")],b.prototype,"xRa",null);return b=c.__decorate([t.N(),c.__param(0,t.l(f.Ci)),c.__param(1,t.l(q.dd))],b);}();b.$ra=d;},function(d,b,a){var c,k,g,t;Object.defineProperty(b,"__esModule",{value:!0});b.isa=void 0;c=a(0);k=a(1);g=a(201);t=a(48);d=function(){var b;function a(a){this.config=a;}a.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.msb());}).reduce(function(a,b){return a.add(b);},t.ba(0));};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(g.W4))],b);}();b.isa=d;},function(d,b,a){var k,g,t,q,l,h,f,p,y,n,r,E;function c(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.lsa=void 0;k=a(0);g=a(1);t=a(54);q=a(29);l=a(3);h=a(22);f=a(25);p=a(30);y=a(72);n=a(8);r=a(343);E=a(92);d=function(){var b;function a(a,b,c,f,d,h,l,p){this.qa=a;this.platform=c;this.Gh=f;this.json=d;this.Sc=h;this.Cj=l;this.tsb=p;t.jm(this,"json");this.ka=b.xb("LogblobSender");}a.prototype.send=function(a){var b;b=this;return new Promise(function(f,d){var h;try{h=a.reduce(function(a,c){a.entries.push(b.Feb(c));return a;},new c());f(b.Rjb(h));}catch(A){b.ka.error(A.message);d(A);}}).then(function(a){return b.gla(a);});};a.prototype.Feb=function(a){return this.Sc.FB(this.Sc.FB({},a.data),{esn:this.Gh().Ih,sev:a.severity,type:a.type,lver:this.platform.ssb,jssid:this.qa.id,devmod:this.platform.dca,jsoffms:a.timestamp.zb(this.qa.vB).ca(l.ha),clienttime:a.timestamp.ca(l.ha),client_utc:a.timestamp.ca(l.Fl),uiver:this.Cj.vQ});};a.prototype.Rjb=function(a){var b;b=this;try{return this.json.stringify(a);}catch(R){for(var c={},f=0;f<a.entries.length;c={YP:c.YP,oe:c.oe},++f){c.oe=Object.assign({},a.entries[f]);try{this.json.stringify(c.oe);}catch(A){c.YP=void 0;this.Sc.ux(c.oe,function(a){return function(c,f){try{b.json.stringify(f);}catch(U){a.YP=U.message;a.oe[c]=a.YP;}};}(c));c.oe.stringifyException=c.YP;c.oe.originalType=c.oe.type;c.oe.type="debug";c.oe.sev="error";}}return this.json.stringify(a);}};a.prototype.gla=function(a){var b;b=this;return this.tsb.cf(this.ka,{logblobs:a}).then(function(){})["catch"](function(a){b.ka.error("PBO logblob failed",a);return Promise.reject(a);});};b=a;return b=k.__decorate([g.N(),k.__param(0,g.l(f.Se)),k.__param(1,g.l(n.Ab)),k.__param(2,g.l(p.Uj)),k.__param(3,g.l(y.Kq)),k.__param(4,g.l(q.Vv)),k.__param(5,g.l(h.Ve)),k.__param(6,g.l(E.gw)),k.__param(7,g.l(r.h6))],b);}();b.lsa=d;},function(d,b,a){var k,g,t,q,l,h,f,p;function c(a){this.xE=q.Dd;this.f9=[];this.tK=this.hU=!1;this.Oxa=0;a&&(this.xE=a.size,this.f9=a.Zr,a instanceof c&&(this.Oxa=a.$9a+1));}Object.defineProperty(b,"__esModule",{value:!0});b.dta=void 0;k=a(0);g=a(1);t=a(54);q=a(48);l=a(201);h=a(8);f=a(29);p=a(44);d=function(){var b;function a(a,b,c,f){this.Htb=a;this.config=b;this.Af=c;this.json=f;t.jm(this,"json");this.ka=this.Af.xb("MessageQueue");this.Fp=[];}a.prototype.u$=function(a){var b,c;0===this.Fp.length&&this.Fp.push(this.jea());if(a=this.Pmb(a)){b=this.Htb.measure([a]);c=this.Fp[this.Fp.length-1];0<c.size.add(b).Tl(this.config.wLa)&&(c=this.jea(),this.Fp.push(c));c.u$(a);}};a.prototype.qkb=function(){var a;a=this.Fp.filter(function(a){return a.Nab;});this.Fp.push(this.jea());a.forEach(function(a){return a.Tsb();});return a;};a.prototype.o8a=function(a){a.Gu||this.Fp.unshift(new c(a));};a.prototype.bAb=function(a){a=this.Fp.indexOf(a);0<=a&&this.Fp.splice(a,1);};a.prototype.Pmb=function(a){try{return{data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};}catch(N){var b,c;b={};c=a.data.debugMessage;c&&"string"===typeof c&&(b.originalDebugMessage=c);(a=a.data.debugCategory)&&"string"===typeof a&&(b.originalDebugCategory=a);this.ka.error("JSON.stringify error: "+N.message,b);}};a.prototype.jea=function(){return new c();};na.Object.defineProperties(a.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Fp.reduce(function(a,b){return a.add(b.size);},q.Dd);}}});b=a;return b=k.__decorate([g.N(),k.__param(0,g.l(l.X4)),k.__param(1,g.l(p.iS)),k.__param(2,g.l(h.Ab)),k.__param(3,g.l(f.Vv))],b);}();b.dta=d;c.prototype.$la=function(){this.hU=!1;this.tK=!0;};c.prototype.yx=function(){this.hU=!1;};c.prototype.u$=function(a){this.f9.push(a);this.xE=this.xE.add(a.size);};c.prototype.Tsb=function(){this.hU=!0;};na.Object.defineProperties(c.prototype,{$9a:{configurable:!0,enumerable:!0,get:function(){return this.Oxa;}},size:{configurable:!0,enumerable:!0,get:function(){return this.xE;}},Zr:{configurable:!0,enumerable:!0,get:function(){return this.f9;}},Nab:{configurable:!0,enumerable:!0,get:function(){return 0<this.Zr.length&&!1===this.hU;}},Gu:{configurable:!0,enumerable:!0,get:function(){return this.tK;}}});},function(d,b,a){var c,k,g,t,q,l,h,f,p,y,n,r;Object.defineProperty(b,"__esModule",{value:!0});b.bsa=void 0;c=a(0);k=a(1);g=a(54);t=a(29);q=a(346);l=a(35);h=a(8);f=a(44);p=a(345);y=a(2);n=a(68);a(151);r=a(344);d=function(){var b;function a(a,b,c,f,d,h,l){this.config=a;this.json=b;this.ta=c;this.isb=f;this.hO=h;this.tW=l;this.nZ=this.Io=!1;this.listeners=[];g.jm(this,"json");this.ka=d.xb("LogBatcher");}a.prototype.Kb=function(){this.Io=!0;};a.prototype.Kc=function(a){var b;b=this;this.zDb(a)||(0<a.size.Tl(this.config.ctb)?this.ka.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(this.listeners.forEach(function(b){return b.Gtb(a);}),this.hO.u$(a),this.ta.Lc(function(){b.gjb();})));};a.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.nZ?(this.ka.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,f){b.ka.trace("Flushing",h.QI);b.th();b.ta.Lc(function(){b.dla(a).then(function(){c();})["catch"](function(a){f(a);});});});};a.prototype.addListener=function(a){this.listeners.push(a);};a.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};a.prototype.dla=function(a){var b,c;a=void 0===a?!1:a;b=this;if(!this.Io)return this.ka.trace("LogBatcher is not initialized"),Promise.resolve();if(this.nZ)return this.ka.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve();c=this.hO.qkb();if(0===c.length&&!a)return this.ka.trace("No logblobs to send"),Promise.resolve();this.th();this.listeners.forEach(function(){});a=Promise.resolve();for(var f={},d=S(c),h=d.next();!h.done;f={haa:f.haa},h=d.next())f.haa=h.value,a=a.then(function(a){return function(){return b.YBb(a.haa);};}(f));return a.then(function(){return b.qu();})["catch"](function(a){c.filter(function(a){return!a.Gu;}).forEach(function(a){return a.yx();});b.qu();throw Error("Send failure. "+a);});};a.prototype.YBb=function(a){var b;b=this;this.ka.trace("Sending batch: "+a.size,h.QI);return Promise.resolve(this.hO.bAb(a)).then(function(){return b.isb.send(a.Zr);}).then(function(){return a.$la();})["catch"](function(c){b.ka.warn("Failed to send batch of logblobs.",c,h.QI);a.yx();b.pDb(c)&&b.hO.o8a(a);b.ADb(c)&&(b.nZ=!0);throw c;});};a.prototype.pDb=function(a){return a.mh===y.cS.Xta?!1:this.config.s$;};a.prototype.ADb=function(a){return a.ad===y.u.Eqa||a.ad===y.u.aJ||a.ad===y.u.eJ?!0:!1;};a.prototype.gjb=function(){var a;a=this;0<this.hO.size.Tl(this.config.wLa)?this.dla()["catch"](function(b){return a.ka.warn("Failed to send log messages on size threshold. "+b);}):this.qu();};a.prototype.th=function(){this.rB&&(this.rB.cancel(),this.rB=void 0);};a.prototype.qu=function(){this.rB||(this.rB=this.ta.rh(this.config.ZBb,this.cv.bind(this)));};a.prototype.cv=function(){var a;a=this;this.nZ=!1;this.th();this.dla()["catch"](function(b){return a.ka.warn("Failed to send log messages on timer. "+b);});};a.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(X){}return b;};a.prototype.zDb=function(a){return 0<=this.config.yRa.indexOf(a.type)?!0:a.type===r.we.debug?0<=this.config.xRa.indexOf(a.data.debugCategory):!1;};b=a;return b=c.__decorate([k.N(),c.__param(0,k.l(f.iS)),c.__param(1,k.l(t.Vv)),c.__param(2,k.l(l.Lg)),c.__param(3,k.l(q.Z4)),c.__param(4,k.l(h.Ab)),c.__param(5,k.l(p.s5)),c.__param(6,k.l(n.XC))],b);}();b.bsa=d;},function(d,b,a){var c,k,g,t,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Bna=void 0;c=a(0);k=a(1);g=a(15);t=a(94);q=a(44);l=a(62);h=a(8);d=function(){var b,d;function a(a,c,f,d){var l;l=this;this.wsb=a;this.RN=c;this.config=d;this.dka=[];this.wsb.v0(b.HUa,this.Xnb.bind(this));f().then(function(a){var b;b=d().nu.tjb;l.ftb=b?h.Zh[b.toUpperCase()]:h.Zh.ERROR;l.Mh=a;l.bCb();});}a.prototype.Xnb=function(a,b){this.Mh?this.aPa(a,b):this.dka.push([a,b]);};a.prototype.bCb=function(){var a,b;a=this;b=this.dka;this.dka=[];b.forEach(function(b){a.aPa(b[0],b[1]);});};a.prototype.aPa=function(a,b){var c;if(this.Mh&&this.sDb(a)){c={debugMessage:a.message,debugCategory:a.Rl};a.Ad.forEach(function(a){return c=Object.assign(Object.assign({},c),a.value);});c=Object.assign(Object.assign({},c),{prefix:"debug"});a=this.RN.sn("debug",h.Zh[a.level].toLowerCase(),c,b);this.Mh.Kc(a);}};a.prototype.sDb=function(a){var b;b=this.ftb;return void 0!==b&&a.level<=b&&!a.Ad.find(function(a){return a.BM(h.QI);});};d=b=a;d.HUa="adaptorAll";return d=b=c.__decorate([k.N(),c.__param(0,k.l(t.lz)),c.__param(1,k.l(l.Wn)),c.__param(2,k.l(q.S4)),c.__param(3,k.l(g.dd))],d);}();b.Bna=d;},function(d,b,a){var c,k,g,t,q,l,h,f,p,y,n,r,E,G,N,C,u,P,aa,R,A,T;Object.defineProperty(b,"__esModule",{value:!0});b.OKa=void 0;d=a(1);c=a(169);k=a(698);g=a(697);t=a(696);q=a(695);l=a(694);h=a(15);f=a(693);p=a(692);y=a(691);n=a(35);r=a(72);E=a(341);G=a(345);N=a(346);C=a(62);u=a(201);P=a(44);aa=a(340);R=a(690);A=a(337);T=a(335);b.OKa=new d.Dc(function(a){a(P.Pj).to(g.bsa).Z();a(G.s5).to(t.dta).Z();a(N.Z4).to(q.lsa).Z();a(u.X4).to(l.isa).Z();a(P.iS).to(f.$ra).Z();a(C.Wn).to(p.gsa).Z();a(u.W4).to(y.hsa).Z();a(aa.Y4).to(R.jsa).Z();a(A.u3).to(T.Dpa).Z();a(E.s2).to(k.Bna).Z();a(P.S4).pQ(function(a){return function(){return a.jb.get(c.mJ)().then(function(b){return new Promise(function(c){var d,l,p;function f(){l()&&p()&&b.p_?c(a.jb.get(P.Pj)):d.Lc(f);}d=a.jb.get(n.Lg);l=a.jb.get(h.dd);p=a.jb.get(r.Kq);d.Lc(f);});});};});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ypa=void 0;b.ypa=function(a,b,d,g){this.Ih=a;this.wx=b;this.Uca=g;};},function(d,b,a){var c,k,g,t,q,l,h,f,p,y,n,r,E,G;Object.defineProperty(b,"__esModule",{value:!0});b.zpa=void 0;c=a(0);k=a(2);g=a(23);t=a(700);q=a(8);l=a(352);h=a(42);f=a(86);p=a(22);y=a(1);n=a(71);r=a(349);E=a(348);G=a(347);d=function(){var b;function a(a,b,c,f,d,h,l,p,k,g){this.DEa=a;this.Jj=b;this.Ga=f;this.Dba=d;this.oc=h;this.debug=l;this.DHb=p;this.Cba=k;this.Mwb=g;this.G3=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.xb("Device");}a.prototype.DFa=function(a){try{return a.match(this.G3)[2];}catch(P){}};a.prototype.FFa=function(a){try{return a.match(this.G3)[1];}catch(P){}};a.prototype.create=function(a){var b;b=this;return new Promise(function(c,f){b.Jj.create().then(function(d){var l,p,g,m,q,y;function h(d){b.Ga.Nl(d)&&b.Ga.Nl(l)?(p=new t.ypa(d,l,void 0,g,a.eca||"cadmium"),c(p)):f({da:k.u.hpa});}l=a.wx;if(a.gea)g="bind_device",b.Mwb.cf(b.log,{}).then(function(a){h(a.esn);})["catch"](function(a){f(a);});else if(a.HX){q=a.Ih;if(b.Ga.Nl(q)){y=b.FFa(q);y!=a.wx&&b.log.error("esn prefix from ui is different",{ui:y,cad:a.wx,ua:a.userAgent});}else a.hha&&b.log.error("esn from ui is missing");d.load(a.EEa).then(function(a){m=a.value;b.Ga.Nl(m)&&(b.Ga.Nl(q)?(a=b.DFa(q),g=a===m?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):g="storage_esn_not_in_config",h(l+m));})["catch"](function(c){var m;function p(){d.save(a.EEa,m,!1).then(function(){h(l+m);})["catch"](function(a){f(a);});}c.da===k.u.jw?(b.Ga.Nl(a.Ih)?(m=b.DFa(a.Ih),b.Ga.Nl(m)?g="config_since_not_in_storage":(g="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.Ih),m=b.DEa.vGa())):(g="generated_since_not_in_config_and_storage",m=b.DEa.vGa()),p()):f(c);});}else a.rgb&&b.Dba&&b.Dba.getKeyByName?b.Dba.getKeyByName(a.l$a).then(function(a){a=a.id;if(b.Ga.gn(a))a=String.fromCharCode.apply(void 0,b.oc.decode(a)),b.debug.assert(""!=a),l=b.FFa(a),h(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){f({da:k.u.e3,nb:b.DHb.Ee(a)});}):a.qgb&&b.Cba&&b.Cba.WGa?b.Cba.WGa().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=l+a;b.debug.assert(b.G3.test(a));h(c);})["catch"](function(){f({da:k.u.e3});}):h();})["catch"](function(a){f(a);});});};b=a;return b=c.__decorate([y.N(),c.__param(0,y.l(l.o3)),c.__param(1,y.l(n.Gq)),c.__param(2,y.l(q.Ab)),c.__param(3,y.l(g.Ie)),c.__param(4,y.l(E.a3)),c.__param(5,y.l(h.$i)),c.__param(6,y.l(f.Jq)),c.__param(7,y.l(p.Ve)),c.__param(8,y.l(r.Z2)),c.__param(9,y.l(G.Y5))],b);}();b.zpa=d;},function(d,b,a){var c,k,g,t,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.xpa=void 0;c=a(0);k=a(39);g=a(3);t=a(131);q=a(351);l=a(54);h=a(1);d=function(){var b;function a(a,b){this.Ia=a;this.Rja=b;}a.prototype.vGa=function(){for(var a="",b=this.Ia.bf.ca(g.ha),c=6;c--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.Rja.cPa(new q.P6(0,31,l.aNa))];return a;};b=a;return b=c.__decorate([h.N(),c.__param(0,h.l(k.Ai)),c.__param(1,h.l(t.CJ))],b);}();b.xpa=d;},function(d,b,a){var c,k,g,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.Gh=void 0;d=a(1);c=a(72);k=a(352);g=a(702);t=a(350);q=a(701);b.Gh=new d.Dc(function(a){a(c.Kq).lf(function(){return function(){return M._cad_global.device;};});a(t.p3).to(q.zpa).Z();a(k.o3).to(g.xpa).Z();});},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.jta=void 0;c=a(0);k=a(1);d=function(){var b;function a(){var a;a=this;this.ready=!1;this.yub=new Promise(function(b){a.SAb=b;});}a.prototype.zub=function(a){this.ready||(this.SAb(a),this.ready=!0);};a.prototype.isReady=function(){return this.ready;};b=a;return b=c.__decorate([k.N()],b);}();b.jta=d;},function(d,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.fy=void 0;d=a(1);c=a(353);k=a(704);g=a(169);b.fy=new d.Dc(function(a){a(c.nS).to(k.jta).Z();a(g.mJ).pQ(function(a){return function(){return a.jb.get(c.nS).yub;};});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.QDa=void 0;b.QDa=function(a,b,d){return{VHa:function(){return a.Kea();},ka:b,request:d,Lh:!1};};},function(d,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.aw=b.lJ=b.cw=b.XN=b.gwa=void 0;c=a(0);k=a(93);Object.defineProperty(b,"Mp4FragmentParser",{enumerable:!0,get:function(){return k.lJ;}});Object.defineProperty(b,"Mp4FragmentSlicer",{enumerable:!0,get:function(){return k.aw;}});Object.defineProperty(b,"makeMdatHeader",{enumerable:!0,get:function(){return k.XN;}});Object.defineProperty(b,"SidxBox",{enumerable:!0,get:function(){return k.gwa;}});g=a(49);d=function(a){function b(c,d,f,p,k){return a.call(this,b.console,c,d,f,p,k)||this;}c.__extends(b,a);Object.defineProperties(b,{console:{get:function(){return this.H||(this.H=new g.platform.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return b;}(k.cw);b.cw=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wl=b.wDa=void 0;b.wDa={as:["minInitVideoBitrate",-Infinity],fia:["minHCInitVideoBitrate",-Infinity],Vu:["maxInitVideoBitrate",Infinity],mO:["minInitAudioBitrate",-Infinity],lO:["minHCInitAudioBitrate",-Infinity],YN:["maxInitAudioBitrate",Infinity],jO:["minAcceptableVideoBitrate",-Infinity],SLa:["minAcceptableVMAF",0],Wtb:["minAcceptableVMAFRebufferScalingFactor",0],Xtb:["minAllowedVideoBitrate",-Infinity],Ysb:["maxAllowedVideoBitrate",Infinity],TLa:["minAllowedVmaf",-Infinity],Zsb:["maxAllowedVmaf",Infinity],XP:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],nO:["minRequiredBuffer",2E4],j_:["minRequiredAudioBuffer",0],Wg:["minPrebufSize",5800],KRb:["enableNewBufferingComplete",!0],lub:["minimumBufferingCompleteInterval",1E4],E0:["requireDownloadDataAtBuffering",!1],F0:["requireSetupConnectionDuringBuffering",!1],aka:["rebufferingFactor",1],Qo:["maxBufferingTime",2E3],Vma:["useMaxPrebufSize",!0],by:["maxPrebufSize",4E4],Oha:["maxRebufSize",Infinity],Bib:["fastRebufferRecoveryThreshold",Infinity],Aib:["fastRebufferRecoverBwThrehold",3E3],XY:["initialBitrateSelectionCurve",null],oJa:["initSelectionLowerBound",-Infinity],pJa:["initSelectionUpperBound",Infinity],F1:["throughputPercentForAudio",15],daa:["bandwidthMargin",0],faa:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],C$a:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,au:76376,scale:18862.4,gamma:3.0569}],eaa:["bandwidthMarginContinuous",!1],D$a:["bandwidthMarginForAudio",!0],ema:["switchConfigBasedOnInSessionTput",!0],hba:["conservBandwidthMargin",20],UL:["conservBandwidthMarginTputThreshold",6E3],iba:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],qSa:["switchAlgoBasedOnHistIQR",!1],Hy:["switchConfigBasedOnThroughputHistory","iqr"],Nha:["maxPlayerStateToSwitchConfig",-1],pha:["lowEndMarkingCriteria","iqr"],z4:["IQRThreshold",.5],Hfa:["histIQRCalcToUse","simple"],Dp:["bandwidthManifold",{curves:[{min:.05,max:.82,au:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,au:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Yu:["maxTotalBufferLevelPerSession",0],YIa:["highWatermarkLevel",3E4],TSa:["toStableThreshold",3E4],J1:["toUnstableThreshold",0],Kla:["skipBitrateInUpswitch",!1],dna:["watermarkLevelForSkipStart",8E3],Afa:["highStreamRetentionWindow",9E4],qha:["lowStreamTransitionWindow",51E4],Cfa:["highStreamRetentionWindowUp",5E5],sha:["lowStreamTransitionWindowUp",1E5],Bfa:["highStreamRetentionWindowDown",6E5],rha:["lowStreamTransitionWindowDown",0],zfa:["highStreamInfeasibleBitrateFactor",.5],Ru:["lowestBufForUpswitch",9E3],MZ:["lockPeriodAfterDownswitch",15E3],uha:["lowWatermarkLevel",15E3],Su:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],vha:["lowestWaterMarkLevelBufferRelaxed",!1],$ha:["mediaRate",1.5],ZZ:["maxTrailingBufferLen",15E3],oL:["audioBufferTargetAvailableSize",262144],HQ:["videoBufferTargetAvailableSize",1048576],ELa:["maxVideoTrailingBufferSize",8388608],pLa:["maxAudioTrailingBufferSize",393216],lX:["fastUpswitchFactor",3],Cib:["fastUpswitchFactorWithoutHeaders",3],gda:["fastDownswitchFactor",3],Wu:["maxMediaBufferAllowed",27E4],HTb:["minMediaBufferLen",1E4],Xr:["maxMediaBufferAllowedInBytes",0],Hla:["simulatePartialBlocks",!0],CRa:["simulateBufferFull",!0],jba:["considerConnectTime",!0],gba:["connectTimeMultiplier",1],UKa:["lowGradeModeEnterThreshold",12E4],VKa:["lowGradeModeExitThreshold",9E4],sLa:["maxDomainFailureWaitDuration",3E4],oLa:["maxAttemptsOnFailure",18],AFa:["exhaustAllLocationsForFailure",!0],yLa:["maxNetworkErrorsDuringBuffering",20],Hha:["maxBufferingTimeAllowedWithNetworkError",6E4],IFa:["fastDomainSelectionBwThreshold",2E3],ESa:["throughputProbingEnterThreshold",4E4],FSa:["throughputProbingExitThreshold",34E3],HKa:["locationProbingTimeout",1E4],MFa:["finalLocationSelectionBwThreshold",1E4],CSa:["throughputHighConfidenceLevel",.75],DSa:["throughputLowConfidenceLevel",.4],eha:["locationStatisticsUpdateInterval",6E4],gsb:["locationSelectorPersistFailures",!0],jFa:["enablePerfBasedLocationSwitch",!1],qTb:["maxRateMaxFragmentGroups",4500],ija:["pipelineScheduleTimeoutMs",2],Xu:["maxPartialBuffersAtBufferingStart",2],gia:["minPendingBufferLen",3E3],ay:["maxPendingBufferLen",6E3],Dhb:["enableNginxRateLimit",!1],y_:["nginxSendingRate",4E4],Hhb:["enableRequestPacingToken",!1],Btb:["mediaRequestPacingSpeed",2],cga:["initialMediaRequestToken",2E4],SZ:["maxActiveRequestsSABCell100",2],WZ:["maxPendingBufferLenSABCell100",500],ZPa:["resetActiveRequestsAtSessionInit",!0],shb:["enableCpr",!1],Taa:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3]}],Pha:["maxStreamingSkew",2E3],$sb:["maxBufferOccupancyForSkewCheck",Infinity],hHb:["useBufferOccupancySkipBack",!0],Mha:["maxPendingBufferPercentage",10],BB:["maxRequestsInBuffer",120],HY:["headerRequestSize",4096],uob:["headerCacheEstimateHeaderSize",!1],uia:["neverWipeHeaderCache",!1],YTa:["useSidxInfoFromManifestForHeaderRequestSize",!1],kX:["fastPlayHeaderRequestSize",0],AB:["maxRequestSize",0],NG:["minRequestSize",65536],kO:["minBufferLenForHeaderDownloading",1E4],HRa:["smartHeaderPreDownloading",!1],eUb:["onlyAllowPtsUpdatePolling",!1],dub:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],nP:["reserveForSkipbackBufferMs",15E3],Jia:["numExtraFragmentsAllowed",2],Uo:["pipelineEnabled",!0],EG:["maxParallelConnections",3],pHb:["usePipelineForAudio",!1],oHb:["usePipelineDetectionForAudio",!1],IRa:["socketReceiveBufferSize",0],GV:["audioSocketReceiveBufferSize",32768],sI:["videoSocketReceiveBufferSize",65536],WTa:["usePipelineDetectionForVideo",!1],hub:["minVideoSocketReceiveBufferSize",65536],xfa:["headersSocketReceiveBufferSize",32768],nDb:["shareDownloadTracks",!0],hia:["minTimeBetweenHeaderRequests",void 0],V1:["updatePtsIntervalMs",1E3],naa:["bufferTraceDenominator",0],VE:["bufferLevelNotifyIntervalMs",2E3],fFa:["enableAbortTesting",!1],FAa:["abortRequestFrequency",8],Yla:["streamingStatusIntervalMs",2E3],nv:["prebufferTimeLimit",6E4],h_:["minBufferLevelForTrackSwitch",2E3],Fhb:["enablePenaltyForLongConnectTime",!1],dja:["penaltyFactorForLongConnectTime",2],nha:["longConnectTimeThreshold",200],y$:["additionalBufferingLongConnectTime",2E3],z$:["additionalBufferingPerFailure",8E3],fP:["rebufferCheckDuration",6E4],iFa:["enableLookaheadHints",!1],QKa:["lookaheadFragments",2],QA:["enableOCSideChannel",!0],Hja:["probeRequestTimeoutMilliseconds",3E4],yUb:["probeRequestConnectTimeoutMilliseconds",8E3],yS:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],DTa:["updateDrmRequestOnNetworkFailure",!0],rLa:["maxDiffAudioVideoEndPtsMs",1E3],lTb:["maxAudioFragmentOverlapMs",80],Wfb:["deferAseHeaderCache",!1],tEa:["deferAseScheduling",!1],oFb:["timeBeforeEndOfStreamBufferMark",6E3],Jha:["maxFastPlayBufferInMs",2E4],Iha:["maxFastPlayBitThreshold",2E8],atb:["maxBufferingCompleteBufferInMs",Infinity],g_:["minAudioMediaRequestSizeBytes",0],l_:["minVideoMediaRequestSizeBytes",0],KG:["minAudioMediaRequestDuration",0],PG:["minVideoMediaRequestDuration",0],MG:["minMediaRequestDuration",0],Ztb:["minAudioMediaRequestDurationCache",0],gub:["minVideoMediaRequestDurationCache",0],Chb:["enableMultiFragmentRequest",!1],nI:[["useHeaderCache","usehc"],!0],Y1:[["useHeaderCacheData","usehcd"],!0],yW:["defaultHeaderCacheSize",4],Uba:["defaultHeaderCacheDataCount",4],Vba:["defaultHeaderCacheDataPrefetchMs",0],tfa:["headerCacheMaxPendingData",6],ufa:["headerCachePriorityLimit",5],SIa:["headerCacheAdoptBothAV",!1],qHb:["usePipelineForBranchedAudio",!0],obb:["childBranchBatchedAmount",1E4],m_:["minimumTimeBeforeBranchDecision",2E3],itb:["maxRequestsToAttachOnBranchActivation",void 0],aMa:["minimumJustInTimeBufferLevel",3E3],yhb:["enableJustInTimeAppends",!1],hFa:["enableDelayedSeamless",!1],vQb:["branchEndPtsIntervalMs",250],Wob:["ignorePtsJustBeforeCurrentSegment",!1],uLa:["maxFragsForFittableOnBranching",300],Iwb:["pausePlaylistAtEnd",!0],n8a:["adaptiveParallelTimeoutMs",1E3],AF:["enableAdaptiveParallelStreaming",!1],maa:["bufferThresholdToSwitchToSingleConnMs",45E3],laa:["bufferThresholdToSwitchToParallelConnMs",35E3],phb:["enableAPSForBranching",!1],k2:["waitForPendingConnAdaptation",!1],sia:["networkFailureResetWaitMs",2E3],ria:["networkFailureAbandonMs",6E4],YZ:["maxThrottledNetworkFailures",5],E1:["throttledNetworkFailureThresholdMs",200],tha:["lowThroughputThreshold",400],Yca:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],nFb:["timeAtEachBitrateRoundRobin",1E4],fBb:["roundRobinDirection","forward"],Pnb:["hackForHttpsErrorCodes",!1],Nob:["httpsConnectErrorAsPerm",!1],hMa:["mp4ParsingInNative",!1],$f:["enableManagerDebugTraces",!1],fLa:["managerDebugMessageInterval",1E3],eLa:["managerDebugMessageCount",20],QMa:["notifyManifestCacheEom",!0],zM:["enableUsingHeaderCount",!1],JRa:["sourceBufferInOrderAppend",!0],vs:["requireAudioStreamToEncompassVideo",!1],dBa:["allowAudioToStreamPastVideo",!1],FDa:["countGapInBuffer",!1],eBa:["allowCallToStreamSelector",!1],iCa:["bufferThresholdForAbort",2E4],y1:["ase_stream_selector","optimized"],X$:["audiostreamSelectorAlgorithm","selectaudioadaptive"],aga:["initBitrateSelectorAlgorithm","default"],paa:["bufferingSelectorAlgorithm","default"],dEa:["ase_ls_failure_simulation",""],Mba:["ase_dump_fragments",!1],Nba:["ase_location_history",0],Oba:["ase_throughput",0],fEa:["ase_simulate_verbose",!1],Dg:["stallAtFrameCount",void 0],Eha:["marginPredictor","simple"],gHb:["useBackupUnderflowTimer",!0],OVb:["useManifestDrmHeader",!0],PVb:["useOnlyManifestDrmHeader",!0],tia:["networkMeasurementGranularity","video_location"],Iub:["netIntrStoreWindow",36E3],RTb:["minNetIntrDuration",8E3],c4a:["fastHistoricBandwidthExpirationTime",10368E3],B4a:["bandwidthExpirationTime",5184E3],b4a:["failureExpirationTime",86400],Cza:["historyTimeOfDayGranularity",4],Y3a:["expandDownloadTime",!0],k5a:["minimumMeasurementTime",500],j5a:["minimumMeasurementBytes",131072],x6a:["throughputMeasurementTimeout",2E3],w6a:["initThroughputMeasureDataSize",262144],V4a:["historicBandwidthUpdateInterval",2E3],i5a:["minimumBufferToStopProbing",1E4],XPb:["throughputPredictor","ewma"],Ska:["secondThroughputEstimator","slidingwindow"],BQa:["secondThroughputMeasureWindowInMs",3E5],WPb:["throughputMeasureWindow",5E3],YPb:["throughputWarmupTime",5E3],VPb:["throughputIQRMeasureWindow",1E3],APb:["IQRBucketizerWindow",15E3],vLa:["maxIQRSamples",100],WLa:["minIQRSamples",5],SPb:["connectTimeHalflife",10],LPb:["responseTimeHalflife",10],KPb:["historicThroughputHalflife",14400],JPb:["historicResponseTimeHalflife",100],IPb:["historicHttpResponseTimeHalflife",100],Vqa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],mza:["minReportedNetIntrDuration",4E3],UPb:["throughputBucketMs",500],EPb:["bucketHoltWintersWindow",2E3],R3a:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")],Z3a:["experimentalFilter",["throughput-wssl"]],F8:["filterDefinitionOverrides",{}],G3a:["defaultFilter","throughput-ewma"],d7a:["secondaryFilter","throughput-sw"],YD:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],YW:["enableHudsonFieldTest",!1],$W:["enableWsslEstimate",!1],Rha:["maxWsslRequestSize",131072],Qha:["maxWsslRequestRatio",.2],wUa:["wsslAggregationMethod","max"],pN:["hudsonTitles",["81127954","70125931"]],Lha:["maxPartialBuffersAtHudson",1],YG:["numberOfChunksPerSegment",4],ima:["targetContentLatency",1E4],vSa:["targetLongContentLatency",3E4],iia:["minimumTimeDelay",1],yM:["enableSessionHistoryReport",!0],Aca:["earlyStageEstimatePeriod",1E4],tKa:["lateStageEstimatePeriod",3E4],VZ:["maxNumSessionHistoryStored",10],k_:["minSessionHistoryDuration",3E5],wob:["highAndStableModelName","baseline"],Gca:["enableHighAndStablePredictor",!1],i_:["minNumSessionHistory",5],pQb:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],JY:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],xob:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],pV:["addHeaderDataToNetworkMonitor",!0],Rla:["startMonitorOnLoadStart",!1],nka:["reportFailedRequestsToNetworkMonitor",!1],W_:["periodicHistoryPersistMs",0],O0:["saveVideoBitrateMs",0],rO:["needMinimumNetworkConfidence",!0],jaa:["biasTowardHistoricalThroughput",!1],lsb:["logMemoryUsage",!1],TIa:["headerCacheTruncateHeaderAfterParsing",!0],pq:["probeServerWhenError",!0],Lt:["allowSwitchback",!0],YB:["probeDetailDenominator",100],UZ:["maxDelayToReportFailure",300],gL:["allowParallelStreaming",!1],ztb:["mediaPrefetchDisabled",!1],VLa:["minBufferLevelToAllowPrefetch",5E3],tx:["editVideoFragments",!1],SW:["editAudioFragments",!0],wBb:["seamlessAudio",!1],xBb:["seamlessAudioProfiles",[]],yBb:["seamlessAudioProfilesAndTitles",{}],Qka:["seamlessAudioMaximumSyncError",void 0],Rka:["seamlessAudioMinimumSyncError",void 0],yN:["insertSilentFrames",0],zJa:["insertSilentFramesOnExit",void 0],yJa:["insertSilentFramesOnEntry",void 0],xJa:["insertSilentFramesForProfile",void 0],ujb:["forceDiscontinuityAtTransition",!0],Gy:["supportAudioResetOnDiscontinuity",void 0],Fy:["supportAudioEasingOnDiscontinuity",void 0],or:["audioCodecResetForProfiles",["heaac-2-dash","heaac-2hq-dash"]],mhb:["editCompleteFragments",!0],jub:["minimumAudioFramesPerFragment",1],oA:["applyProfileTimestampOffset",!1],po:["applyProfileStreamingOffset",!0],QOa:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],jHb:["useDpiAssumedAacEncoderDelay",!0],bia:["mediaSourceSupportsNegativePts",!1],LG:["minAudioPtsGap",void 0],c$a:["audioOverlapGuardSampleCount",2],kFa:["enableRecordJSBridgePerf",!1],H4:["JSBridgeTDigestConfig",{maxc:25,c:.5}],lFb:["throughputThresholdSelectorParam",0],eHb:["upswitchDuringBufferingFactor",2],k9a:["allowUpswitchDuringBuffering",!1],zDa:["contentOverrides",void 0],lba:["contentProfileOverrides",void 0],Gfa:["hindsightDenominator",0],Ffa:["hindsightDebugDenominator",0],kN:["hindsightAlgorithmsEnabled",["htwbr"]],KY:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],rBa:["appendMediaRequestOnComplete",!1],tI:["waitForDrmToAppendMedia",!1],xX:["forceAppendHeadersAfterDrm",!1],eP:["reappendRequestsOnSkip",!1],Qba:["declareBufferingCompleteAtSegmentEnd",!1],Vr:["maxActiveRequestsPerSession",void 0],$ga:["limitAudioDiscountByMaxAudioBitrate",!1],K$:["appendFirstHeaderOnComplete",!0],B1:["strictBufferCapacityCheck",!1],mL:["aseReportDenominator",0],R$:["aseReportIntervalMs",3E5],Dma:["translateToVp9Draft",!1],dI:["switchableAudioProfiles",[]],d$a:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],sSa:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],g$a:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],DLa:["maxStartingVideoVMAF",110],OG:["minStartingVideoVMAF",1],bL:["activateSelectStartingVMAF",!1],W0:["selectStartingVMAFTDigest",-1],GH:["selectStartingVMAFMethod","fallback"],JQa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],fH:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],Agb:["disablePtsStartsEvent",!0],cka:["recordFirstFragmentOnSubBranchCreate",!0],HLa:["mediaCacheConvertToBinaryData",!1],Vha:["mediaCacheSaveOneObject",!1],nLa:["markRequestActiveOnFirstByte",!1],RW:["earlyAppendSingleChildBranch",!0],oI:["useNativeDataViewMethods",!0],G$:["alwaysNotifyEOSForPlaygraph",!1],iHb:["useCorrectDrainingAmounts",!0],ZW:["enableNewAse",!1],pI:["useNewApi",!1],fca:["aseDiagnostics",[{TL:"queue-audit",enabled:!1}]],Fxb:["playgraphImmediateTransitionDistance",3E3],aab:["branchDistanceThreshold",6E4],Xsb:["maxAllowedOutstandingRequests",3]};b.Wl=b.wDa;},function(d,b,a){var g,t;function c(){this.tt=this.eK=this.bU=this.pU=this.ZT=null;}function k(a){this.K=a;this.At=[];this.ao=new c();this.xK();}g=a(7);a(18);a(13);t=a(4);new t.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Zd=function(a){var b;b=!1;a&&g.has(a,"ens")&&g.has(a,"lns")&&g.has(a,"fns")&&g.has(a,"d")&&g.has(a,"t")&&(this.ZT=a.ens,this.pU=a.lns,this.bU=a.fns,this.eK=a.d,this.tt=a.t,b=!0);return b;};c.prototype.Yc=function(){var a;if(g.Na(this.ZT)||g.Na(this.pU)||g.Na(this.bU)||g.Na(this.eK)||g.Na(this.tt))return null;a={d:this.eK,t:this.tt};a.ens=this.ZT;a.lns=this.pU;a.fns=this.bU;return a;};c.prototype.get=function(){var a,b;a=this.Yc();if(a){b=new Date(this.tt);a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};k.prototype.xK=function(){var a;a=t.storage.get("sth");a&&this.Zd(a);};k.prototype.Zd=function(a){var b,d;b=null;d=this.K;a.forEach(function(a){var f;f=new c();f.Zd(a)?(b=!0,this.At.push(f)):g.Na(b)&&(b=!1);},this);this.At=this.At.filter(function(a){return a.eK>=d.k_;});this.At.sort(function(a,b){return a.tt-b.tt;});return g.Na(b)?!0:b;};k.prototype.K8=function(){var a;a=[];this.At.forEach(function(b){a.push(b.Yc());},this);return a;};k.prototype.save=function(){var a,b,d;a=this.K8();b=this.K;d=this.ao.Yc();d&&d.d>=b.k_&&(a.push(d),this.At.push(this.ao));a.length>b.VZ&&(a=a.slice(a.length-b.VZ,a.length));this.ao=new c();a&&t.storage.set("sth",a);};k.prototype.reset=function(){this.ao=new c();};k.prototype.Qkb=function(){return this.ao.get();};k.prototype.Zmb=function(){return this.At.length+1;};k.prototype.s8a=function(a){this.ao.ZT=a;this.ao.tt=t.time.ea();};k.prototype.E8a=function(a){this.ao.pU=a;this.ao.tt=t.time.ea();};k.prototype.x8a=function(a,b){this.ao.bU=a;this.ao.tt=t.time.ea();this.ao.eK=b;};d.R=k;},function(d,b,a){var k,g,t,q;function c(a){var b;b=nrdp.Gh.lVb.match(/android-(\d*)/);b?23<b[1]?(a.Gy=!1,a.Fy=!1,a.or=void 0):(b=nrdp.Gh.eOb.VQb.platform.qUb.match(/(\d*)\.(\d*).(\d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.Gy=!0,a.Fy=!1,a.or=void 0):(a.Gy=!1,a.Fy=!1,a.or=[]):(a.Gy=!1,a.Fy=!1,a.or=[]):(a.Gy=!1,a.Fy=!1,a.or=[]);}k=a(6).assert;a(73);g=a(4);t=g.Rj;q=g.B_a;d.R=function(){var a,b,f;new g.Console("ASEJSMONKEY","media|asejs");if(!g.Rj.xc){a=function(a){this.d5a=a;};b=q.prototype.appendBuffer;g.MediaSource.xc||(g.MediaSource.xc={});"undefined"!==typeof nrdp&&nrdp.dQb&&(c(g.MediaSource.xc),g.MediaSource.xc.dDa=!1,g.MediaSource.xc.nMa=!1);g.Rj.xc={AH:{kna:!0,Bz:!0,nta:!0}};Object.defineProperty(t.prototype,"_response",{get:function(){return this.v7a||this.F3a;},set:function(a){this.F3a=a;}});f=t.prototype.open;t.prototype.open=function(b,c,d,h,l,k,g){1===d&&(this.v7a=new a(this));return f.call(this,b,c,d,h,l,k,g);};t.prototype.hP=function(){this.vE=void 0;};q.prototype.appendBuffer=function(c){if(c instanceof ArrayBuffer)return b.call(this,c);if(c instanceof a)return this.wV(c.d5a);k(!1);};}};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.xna=void 0;c=a(66);d=function(){function a(a){this.console=a;this.Xz=[];this.Hw=[];c.cb&&this.console.trace("Received pending adoption "+this.vy.length);}Object.defineProperties(a.prototype,{length:{get:function(){return this.Xz.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vy:{get:function(){return this.Hw;},enumerable:!1,configurable:!0}});a.prototype.Usb=function(a){a=this.Hw.indexOf(a);-1!==a&&(c.cb&&this.console.trace("Marking request attached"),this.Xz[a].DJa=!0,this.oTa(a));};a.prototype.Vsb=function(a){a=this.Hw.indexOf(a);-1!==a&&(c.cb&&this.console.trace("Marking request completed"),this.Xz[a].Gu=!0,this.oTa(a));};a.prototype.pAb=function(a){var b,c;b=this;c=[];this.Hw.forEach(function(b,d){a(b)&&c.unshift(d);});c.forEach(function(a){b.Hw.splice(a,1);b.Xz.splice(a,1);});};a.prototype.push=function(a){this.Hw.push(a);this.Xz.push({DJa:!1,Gu:!1});c.cb&&this.console.trace("Pushing pending request, "+this.length+" total");};a.prototype.hB=function(){return 0<this.length;};a.prototype.oTa=function(a){var b;b=this.Xz[a];b.DJa&&b.Gu&&(b=this.Hw[a],this.Hw.splice(a,1),this.Xz.splice(a,1),c.cb&&this.console.trace("Removing request, "+this.length+" left"),0===this.length&&c.cb&&this.console.trace("Removing last request, contentEndPts: "+b.wd));};return a;}();b.xna=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ywa=void 0;d=function(){function a(a){this.$za=a;}Object.defineProperties(a.prototype,{nG:{get:function(){return this.I4a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.$za;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$Ab:{get:function(){var a;a=this;return this.$za.then(function(){return a;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.I4a=!0;};a.prototype.Nia=function(a,b){var c;c=this;this.result.then(function(d){c.nG?b&&b(d):a(d);});return this;};return a;}();b.Ywa=d;},function(d,b,a){var c,k,g,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Zva=void 0;c=a(7);k=a(20);g=a(20);t=a(4);q=a(712);l=a(363);d=function(){var H6Q;function a(a,b,c,d){var D6Q,E6Q;D6Q=2;while(D6Q!==9){E6Q="1SIYbZr";E6Q+="NJC";E6Q+="p9";switch(D6Q){case 2:this.za=a;this.H=b;this.hb=c;this.Xf=d;E6Q;D6Q=9;break;}}}H6Q=2;while(H6Q!==13){switch(H6Q){case 2:a.prototype.yy=function(a,b){var Y6Q,f,d,h,p,m,q,t,n,q6Q,d6Q,B6Q,R6Q,L6Q,n6Q,e6Q,k6Q,v6Q,N6Q,U6Q,a6Q,c6Q,j6Q;Y6Q=2;while(Y6Q!==47){q6Q="seekF";q6Q+="ai";q6Q+="l";q6Q+="ed";d6Q="s";d6Q+="eek, no manifest at m";d6Q+="anifestIndex:";B6Q="se";B6Q+="ek";B6Q+="Del";B6Q+="ay";B6Q+="ed";R6Q=" playerSta";R6Q+="t";R6Q+="e: ";L6Q=" ";L6Q+="media.currentPts:";L6Q+=" ";n6Q=" c";n6Q+="urrent ";n6Q+="mani";n6Q+="fest:";n6Q+=" ";e6Q=" manife";e6Q+="stInde";e6Q+="x: ";k6Q="s";k6Q+="e";k6Q+="e";k6Q+="k";k6Q+=": ";v6Q="see";v6Q+="k";v6Q+="Dela";v6Q+="yed";N6Q="s";N6Q+="e";N6Q+="e";N6Q+="k";U6Q="p";U6Q+="t";U6Q+="scha";U6Q+="nged";a6Q="s";a6Q+="eekF";a6Q+="ai";a6Q+="l";a6Q+="ed";c6Q="after seeking";c6Q+=", playerState no lo";c6Q+="n";c6Q+="ger STARTING: ";j6Q="see";j6Q+="kD";j6Q+="el";j6Q+="ay";j6Q+="ed";switch(Y6Q){case 54:t=this.za.pa.Rb.RV(a).sH;h.Bia();n=this.za.pa.Rb;g.pf.forEach(function(a){var K6Q,b;K6Q=2;while(K6Q!==4){switch(K6Q){case 2:b=n.Ic(a);f.hb(a)&&f.A6a(b,t[a]);K6Q=4;break;}}});Y6Q=50;break;case 25:Y6Q=this.cu(l.N2.Rda(b),!1,!0)?24:23;break;case 34:Y6Q=h.P.re.xf?33:29;break;case 49:this.Iw={Va:b,Ji:a},this.za.emit(j6Q);Y6Q=47;break;case 20:b<p.P.Va&&h.P.re.replace&&(h.P.re.replace=!1);m=this.za.xd;q=this.za.pa.Rb;g.pf.forEach(function(a){var p6Q;p6Q=2;while(p6Q!==1){switch(p6Q){case 2:(a=q.Ic(a))&&f.za.dAa(a,m.hy);p6Q=1;break;}}});Y6Q=16;break;case 38:this.H.warn(c6Q+this.za.W.Yc());this.za.emit(a6Q);Y6Q=47;break;case 24:return;break;case 35:Y6Q=a>p?34:28;break;case 28:this.za.W.Zd(k.na.Kg);this.za.Ula();this.za.pa.ZEb(a,b);Y6Q=42;break;case 50:this.za.PK();Y6Q=40;break;case 14:Y6Q=(h=this.za.Pf(b))?13:48;break;case 40:Y6Q=this.za.W.$Ja()?39:38;break;case 21:p=this.za.qo?this.za.Ik?Math.min(p[0].S,p[1].S):p[0].S:p[1].S;Y6Q=35;break;case 41:g.pf.forEach(function(a){var S6Q;S6Q=2;while(S6Q!==1){switch(S6Q){case 2:f.za.gr[a].YAb();S6Q=1;break;}}});Y6Q=40;break;case 10:Y6Q=b!=p.P.Va?20:23;break;case 2:f=this;null===(d=this.Wya)||void 0===d?void 0:d.cancel();h=this.za.K;p=this.za.W.Xd();Y6Q=9;break;case 39:return this.za.emit(U6Q,d),this.za.emit(N6Q),this.aL(b),a=p&&this.za.Ya.et()?100:0,this.za.SU(1,a),this.za.ii(),d;break;case 29:a=p,d=a+this.za.pa.wc;Y6Q=28;break;case 22:Y6Q=p.length?21:49;break;case 16:Y6Q=!this.za.Yxa(b)?15:25;break;case 23:p=this.za.pa.Rb.FM(h.ja||Infinity,h.P);Y6Q=22;break;case 32:this.Iw={Va:h.P.Va+1,Ji:a};this.za.emit(v6Q);return;break;case 9:d=a;h.$f&&this.Xf.Ri(k6Q+a+e6Q+b+n6Q+this.za.xd.P.Va+L6Q+p+R6Q+this.za.W.Yc());c.V(b)&&(b=this.za.xd.P.Va);this.za.pa.$Pa();Y6Q=14;break;case 36:this.za.F9();Y6Q=54;break;case 15:this.Iw={Va:b,Ji:a};this.za.emit(B6Q);return;break;case 42:Y6Q=(p=this.za.xd.P.Va===b&&!this.L4a(b)&&a===h.S)?41:36;break;case 33:Y6Q=!this.za.fV(h.P.Va+1)?32:28;break;case 48:this.H.warn(d6Q,b),this.za.emit(q6Q);Y6Q=47;break;case 13:!h.P.re.aO&&0<b&&(d=this.za.YL(b,a));this.za.W.Zd(k.na.Nm);p=this.za.xd;Y6Q=10;break;}}};a.prototype.seek=function(a,b){var x6Q,f;x6Q=2;while(x6Q!==8){switch(x6Q){case 2:f=a;c.V(b)&&(b=this.za.xd.P.Va);this.za.pa.$Pa();this.za.Pf(b).P.re.aO||this.za.jE||(f=this.za.zr(b,a));return this.yy(f,b);break;}}};a.prototype.cu=function(a,b,c){var t6Q,f,u6Q,z6Q;t6Q=2;while(t6Q!==8){u6Q="s";u6Q+="e";u6Q+="e";u6Q+="k";z6Q="pt";z6Q+="schan";z6Q+="ge";z6Q+="d";switch(t6Q){case 4:return f;break;case 2:f=this.za.pa.cu(a,b);t6Q=5;break;case 3:f?(this.za.W.Zd(k.na.Nm),(a=this.za.pa.zk.children[a])&&this.za.emit(z6Q,a.qc),this.za.W.Zd(k.na.Kg),this.za.emit(u6Q),a&&this.aL(a.P.Va),this.za.SU(1),this.za.ii(),this.za.Ya.et()):c||(a=this.za.pa.Vmb(a),this.yy(a));return f;break;case 5:t6Q=b?4:3;break;}}};a.prototype.L4a=function(a){var W6Q;W6Q=2;while(W6Q!==1){switch(W6Q){case 2:return!!this.za.Pf(a).jL;break;case 4:return+-this.za.Pf(a).jL;break;W6Q=1;break;}}};a.prototype.aL=function(a){var I6Q,b;I6Q=2;while(I6Q!==3){switch(I6Q){case 2:b=this;a=this.za.Pf(a);a.jL||(a.jL=!0,g.pf.forEach(function(a){var l6Q;l6Q=2;while(l6Q!==1){switch(l6Q){case 2:b.za.rf[a].resume();l6Q=1;break;}}}),this.za.PK());I6Q=3;break;}}};a.prototype.A6a=function(a,b){var m6Q,c,f,d;m6Q=2;while(m6Q!==6){switch(m6Q){case 3:a.QAb();m6Q=9;break;case 9:m6Q=(null===(f=this.za.Mg)||void 0===f?0:f.hB())?8:7;break;case 8:this.za.Mg.vy.forEach(function(a){var h6Q;h6Q=2;while(h6Q!==1){switch(h6Q){case 4:c.za.jA(a,-7);h6Q=2;break;h6Q=1;break;case 2:c.za.jA(a,!1);h6Q=1;break;}}}),this.za.Mg=void 0;m6Q=7;break;case 2:c=this;d=a.M;a.oC(b);m6Q=3;break;case 7:this.za.tM.Tza(d,a.fd.P);m6Q=6;break;}}};a.prototype.D8=function(){var M6Q,a,b;M6Q=2;while(M6Q!==9){switch(M6Q){case 1:M6Q=this.Iw?5:9;break;case 2:M6Q=1;break;case 3:this.za.Pf(b)&&(this.Iw=void 0,this.yy(a,b));M6Q=9;break;case 5:a=this.Iw.Ji;b=this.Iw.Va;M6Q=3;break;}}};H6Q=7;break;case 7:a.prototype.Qh=function(a){var T6Q,c,f,d;T6Q=2;while(T6Q!==14){switch(T6Q){case 9:this.za.pa.zk.Qh(a);g.pf.forEach(function(a){var Q6Q,f,F6Q;Q6Q=2;while(Q6Q!==8){F6Q="skip: not ";F6Q+="resum";F6Q+="ing bufferMana";F6Q+="ger, audio track switch in progress";switch(Q6Q){case 5:f=c.za.Ya.He[a];c.za.Bo&&(f.Mla=t.time.ea());d.eP?c.za.rf[a].reset():f.uI?f.Za(F6Q):c.za.rf[a].resume();b(c.za.pa.Rb,a);Q6Q=8;break;case 2:Q6Q=1;break;case 1:Q6Q=c.hb(a)?5:8;break;}}});this.Wya=f=new q.Ywa(this.za.UH());return f.Nia(function(){var A6Q,o6Q;A6Q=2;while(A6Q!==4){o6Q="s";o6Q+="k";o6Q+="i";o6Q+="p";switch(A6Q){case 2:c.za.W.Zd(k.na.Nc);c.za.XK();c.za.emit(o6Q);A6Q=4;break;}}}).$Ab;break;case 2:c=this;null===(f=this.Wya)||void 0===f?void 0:f.cancel();d=this.za.K;this.za.Ula();T6Q=9;break;}}function b(f,d){var G6Q,g6Q;G6Q=2;while(G6Q!==5){g6Q="skip: unexpected beha";g6Q+="viour - a non-pres";g6Q+="entin";g6Q+="g branch d";g6Q+="oesn't have a previous branch";switch(G6Q){case 2:f!==c.za.pa.zk&&(f.Df?b(f.Df,d):c.H.error(g6Q));(f=f.Ic(d))&&f.Qh(a);G6Q=5;break;}}}};a.prototype.Zt=function(a){var C6Q,b,c;C6Q=2;while(C6Q!==6){switch(C6Q){case 4:C6Q=a<b.qc||a>=c?3:9;break;case 3:return!1;break;case 8:a=this.za.Dr(a,1,!0);return void 0!==b&&void 0!==a&&b.complete&&a.complete;break;case 9:b=this.za.Dr(a,0,!0);C6Q=8;break;case 2:b=this.za.pa.zk;c=0<Object.keys(b.ia&&b.ia.qj||{}).length&&!b.Ki?b.se-this.za.K.m_:b.se;C6Q=4;break;}}};return a;break;}}}();b.Zva=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Kna=void 0;c=a(20);k=a(13);d=function(){function a(a){this.OL=a;this.state=new k.sJ(c.na.Kg);this.fm={};}a.prototype.Yc=function(){return this.state.value;};a.prototype.Zd=function(a){this.state.set(a);};a.prototype.addListener=function(a){this.state.addListener(a);};a.prototype.paused=function(){this.state.value===c.na.Nc&&this.state.set(c.na.Bh);};a.prototype.xQ=function(){this.state.value===c.na.Bh&&this.state.set(c.na.Nc);};a.prototype.$Ja=function(){return this.state.value===c.na.Kg;};a.prototype.Rx=function(){return"function"===typeof this.OL.Rx?this.OL.Rx():this.state.value===c.na.Nc;};a.prototype.xg=function(){return this.state.value===c.na.ve||this.state.value===c.na.Ig;};a.prototype.yg=function(){return this.state.value===c.na.Nm;};a.prototype.aKa=function(){return this.state.value===c.na.FD;};a.prototype.Xd=function(){return this.OL.Xd();};a.prototype.Cea=function(){return this.OL.Cea();};a.prototype.IP=function(a,b){this.fm[a]=b;};a.prototype.Iu=function(a){return!!this.fm[a.G]||a.Ii;};return a;}();b.Kna=d;},function(d,b,a){var c,k,g,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.uta=void 0;c=a(7);k=a(162);g=a(18);t=a(73);q=a(4);l=a(13);a(6);d=function(){var w6Q;function a(a,b){var y6Q,R2Q;y6Q=2;while(y6Q!==4){R2Q="1SIYb";R2Q+="Zr";R2Q+="NJCp9";switch(y6Q){case 2:this.Ka=a;this.H=b;R2Q;y6Q=4;break;}}}w6Q=2;while(w6Q!==39){switch(w6Q){case 3:a.prototype.z5a=function(a,b,c,d,h){var Z6Q,f,B2Q;Z6Q=2;while(Z6Q!==9){B2Q="h";B2Q+="eaderCacheDataH";B2Q+="it";switch(Z6Q){case 2:f=this.Ka.Nya;this.Ka.Nya=void 0;a={type:B2Q,movieId:a,audio:b,audioFromMediaCache:d,video:c,videoFromMediaCache:h,actualStartPts:f&&f.Ol,headerCount:f&&f.Yp,stats:f&&f.Vb};l.Ha(this.Ka,a.type,a);Z6Q=9;break;}}};w6Q=9;break;case 2:a.prototype.Yj=function(a){var V6Q,d2Q;V6Q=2;while(V6Q!==5){d2Q="st";d2Q+="ar";d2Q+="tE";d2Q+="v";d2Q+="ent";switch(V6Q){case 2:a={type:d2Q,event:a,time:q.time.ea()};l.Ha(this.Ka,a.type,a);V6Q=5;break;}}};a.prototype.I5a=function(){var J6Q,a,q2Q;J6Q=2;while(J6Q!==4){q2Q="op";q2Q+="e";q2Q+="nCo";q2Q+="mpl";q2Q+="ete";switch(J6Q){case 2:a={type:q2Q};l.Ha(this.Ka,a.type,a);J6Q=4;break;}}};a.prototype.J5a=function(a,b,c,d,h){var i6Q,z2Q;i6Q=2;while(i6Q!==1){z2Q="ptsSta";z2Q+="r";z2Q+="ts";switch(i6Q){case 2:this.Ka.K.Agb||(a={type:z2Q,manifestIndex:a,mediaType:b,movieId:d,streamId:c,ptsStarts:h.TRa()},l.Ha(this.Ka,a.type,a));i6Q=1;break;}}};a.prototype.A5a=function(a,b){var s6Q,u2Q;s6Q=2;while(s6Q!==5){u2Q="headerC";u2Q+="acheH";u2Q+="it";switch(s6Q){case 2:a={type:u2Q,movieId:a,streamId:b};l.Ha(this.Ka,a.type,a);s6Q=5;break;}}};w6Q=3;break;case 9:a.prototype.H5a=function(a,b,c){var X6Q,F2Q;X6Q=2;while(X6Q!==5){F2Q="ma";F2Q+="xPos";F2Q+="i";F2Q+="tio";F2Q+="n";switch(X6Q){case 2:a={type:F2Q,index:a,endPts:b,maxPts:c};l.Ha(this.Ka,a.type,a);X6Q=5;break;}}};a.prototype.R5a=function(a,b,c,d,h,k){var b6Q,g2Q,o2Q;b6Q=2;while(b6Q!==4){g2Q="no";g2Q+="tify";g2Q+="Str";g2Q+="e";g2Q+="amingError: ";o2Q="er";o2Q+="r";o2Q+="or";switch(b6Q){case 2:a={type:o2Q,error:a,errormsg:b,networkErrorCode:c,httpCode:d,nativeCode:h,manifestIndex:k};this.H.error(g2Q+JSON.stringify(a));l.Ha(this.Ka,a.type,a);b6Q=4;break;}}};w6Q=7;break;case 7:a.prototype.vU=function(a,b){var O6Q,w2Q;O6Q=2;while(O6Q!==5){w2Q="segmen";w2Q+="tStart";w2Q+="ing";switch(O6Q){case 2:b={type:w2Q,segmentId:a.id,contentOffset:b,maxBitrates:{audio:a.P.gq[0],video:a.P.gq[1]}};a.ny||l.Ha(this.Ka,b.type,b);O6Q=5;break;}}};a.prototype.L5a=function(a){var P2Q,b,y2Q;P2Q=2;while(P2Q!==4){y2Q="se";y2Q+="g";y2Q+="ment";y2Q+="Aborte";y2Q+="d";switch(P2Q){case 2:b={type:y2Q,segmentId:a.id};a.ny||l.Ha(this.Ka,b.type,b);P2Q=4;break;}}};a.prototype.q4a=function(a,b){var r2Q,f,d,h,X2Q,Z2Q,s2Q,i2Q,J2Q,V2Q;r2Q=2;while(r2Q!==20){X2Q="sea";X2Q+="m";X2Q+="le";X2Q+="ss";Z2Q="r";Z2Q+="e";Z2Q+="se";Z2Q+="t";s2Q="s";s2Q+="k";s2Q+="i";s2Q+="p";i2Q="l";i2Q+="o";i2Q+="n";i2Q+="g";J2Q="l";J2Q+="o";J2Q+="n";J2Q+="g";V2Q="s";V2Q+="e";V2Q+="am";V2Q+="l";V2Q+="ess";switch(r2Q){case 4:h?(d=h.weight,t(h.DL,f.atRequest)):d=this.Ka.pa.YHa(b.o1,a);f.atRequest.weight=d;c.Ud(b.kd,function(b,c){var f2Q;f2Q=2;while(f2Q!==1){switch(f2Q){case 2:c!=a&&(f.discard[c]={weight:b.weight},t(b.DL,f.discard[c]));f2Q=1;break;}}});d=b.R0?b.zY?V2Q:J2Q:b.tMa?i2Q:b.Qh?s2Q:Z2Q;r2Q=7;break;case 2:f={segment:a,srcsegment:b.o1,srcoffset:b.TH,seamlessRequested:b.R0,atRequest:{},discard:{}};h=b.kd[a];r2Q=4;break;case 7:f.transitionType=d;b.Vfb||(f.delayToTransition=b.DW);d=X2Q===d?0:q.time.ea()-b.startTime;f.durationOfTransition=d;f.atTransition=b.eTa;f.srcsegmentduration=this.Ka.pa.Umb(b.o1);r2Q=10;break;case 10:return f;break;}}};a.prototype.O5a=function(a,b,c){var H2Q,b2Q;H2Q=2;while(H2Q!==4){b2Q="s";b2Q+="egm";b2Q+="en";b2Q+="tPres";b2Q+="enting";switch(H2Q){case 1:a={type:b2Q,segmentId:a.id,contentOffset:b,metrics:c,playlistSegment:a.ny,manifestIndex:a.P.Va};l.Ha(this.Ka,a.type,a);H2Q=4;break;case 2:c=c?this.q4a(a.id,c):void 0;H2Q=1;break;}}};a.prototype.M5a=function(a,b){var D2Q,O2Q;D2Q=2;while(D2Q!==5){O2Q="segme";O2Q+="ntAppe";O2Q+="nded";switch(D2Q){case 2:b={type:O2Q,segmentId:a.id,metrics:b};a.ny||l.Ha(this.Ka,b.type,b);D2Q=5;break;}}};w6Q=11;break;case 15:a.prototype.U5a=function(a){var I2Q,P3Q;I2Q=2;while(I2Q!==5){P3Q="vi";P3Q+="d";P3Q+="eoLooped";switch(I2Q){case 2:a={type:P3Q,offset:a};l.Ha(this.Ka,a.type,a);I2Q=5;break;}}};a.prototype.S5a=function(a,b,c,d){var l2Q,r3Q;l2Q=2;while(l2Q!==4){r3Q="upd";r3Q+="a";r3Q+="teStream";r3Q+="i";r3Q+="ngPts";switch(l2Q){case 2:b={type:r3Q,mediaType:a,manifestIndex:b,trackIndex:c,movieTime:Math.floor(d)};k.Jk.bm(a);l.Ha(this.Ka,b.type,b);l2Q=4;break;}}};a.prototype.y5a=function(a){var m2Q,f3Q;m2Q=2;while(m2Q!==5){f3Q="f";f3Q+="irstReque";f3Q+="stA";f3Q+="ppe";f3Q+="nded";switch(m2Q){case 2:a={type:f3Q,manifestIndex:a.Ja.fd.P.Va,mediatype:a.M,time:q.time.ea()};l.Ha(this.Ka,a.type,a);m2Q=5;break;}}};a.prototype.C5a=function(a,b){var h2Q,H3Q;h2Q=2;while(h2Q!==5){H3Q="in";H3Q+="it";H3Q+="ialAudioTrack";switch(h2Q){case 2:a={type:H3Q,trackId:b,trackIndex:a};l.Ha(this.Ka,a.type,a);h2Q=5;break;}}};w6Q=24;break;case 24:a.prototype.t5a=function(a,b){var M2Q,D3Q;M2Q=2;while(M2Q!==3){D3Q="aud";D3Q+="ioT";D3Q+="rackSwitchStarted";switch(M2Q){case 2:a=a.yB;b=b.yB;b={type:D3Q,oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:b.language,newNumChannels:b.channels};M2Q=4;break;case 4:l.Ha(this.Ka,b.type,b);M2Q=3;break;}}};a.prototype.s5a=function(a,b){var T2Q,c;T2Q=2;while(T2Q!==4){switch(T2Q){case 2:c=this;T2Q=5;break;case 9:c=this;T2Q=6;break;T2Q=5;break;case 5:setTimeout(function(){var G2Q,f,Y3Q;G2Q=2;while(G2Q!==4){Y3Q="audioTrackSw";Y3Q+="itc";Y3Q+="hComplet";Y3Q+="e";switch(G2Q){case 2:f={type:Y3Q,trackId:a,trackIndex:b};l.Ha(c.Ka,f.type,f);G2Q=4;break;}}},0);T2Q=4;break;}}};a.prototype.w5a=function(a){var Q2Q,b,p3Q;Q2Q=2;while(Q2Q!==3){p3Q="buffer";p3Q+="i";p3Q+="ngS";p3Q+="tar";p3Q+="ted";switch(Q2Q){case 2:b={type:p3Q,time:q.time.ea(),percentage:a||0};l.Ha(this.Ka,b.type,b);Q2Q=4;break;case 4:this.Ew=a||0;Q2Q=3;break;}}};a.prototype.u5a=function(){var A2Q,a,b,c,d,h,S3Q;A2Q=2;while(A2Q!==14){S3Q="b";S3Q+="u";S3Q+="f";S3Q+="feri";S3Q+="ng";switch(A2Q){case 2:a=this.Ka.K;b=q.time.ea();A2Q=4;break;case 4:c=this.Ka.pa.Rb;d=this.Ka.Ik?1:0;h=c.pe(d);c=c.jk(d);a=Math.min(Math.max(Math.round(100*(h.Xx?(b-this.Ka.e8)/a.nv:h.Oh?h.Oh:c/a.Wg)),this.Ew),99);a!=this.Ew&&(b={type:S3Q,time:b,percentage:a},l.Ha(this.Ka,b.type,b),this.Ew=a);A2Q=14;break;}}};w6Q=35;break;case 11:a.prototype.N5a=function(a,b,c){var Y2Q,K3Q;Y2Q=2;while(Y2Q!==5){K3Q="segm";K3Q+="en";K3Q+="tC";K3Q+="omplete";switch(Y2Q){case 2:a={type:K3Q,mediaType:a,manifestIndex:b,segmentId:c.id};l.Ha(this.Ka,a.type,a);Y2Q=5;break;}}};a.prototype.k9=function(a,b){var p2Q,x3Q;p2Q=2;while(p2Q!==5){x3Q="lastSeg";x3Q+="m";x3Q+="entPt";x3Q+="s";switch(p2Q){case 2:b={type:x3Q,segmentId:a.id,pts:Math.floor(b)};a.ny||l.Ha(this.Ka,b.type,b);p2Q=5;break;}}};a.prototype.F5a=function(a,b,c,d,h){var S2Q,t3Q;S2Q=2;while(S2Q!==5){t3Q="manifes";t3Q+="tRan";t3Q+="ge";switch(S2Q){case 2:a={type:t3Q,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(d),maxPts:Math.floor(h)};l.Ha(this.Ka,a.type,a);S2Q=5;break;}}};a.prototype.rza=function(a){var K2Q,W3Q;K2Q=2;while(K2Q!==5){W3Q="maxBit";W3Q+="ra";W3Q+="tes";switch(K2Q){case 2:a={type:W3Q,audio:a[0],video:a[1]};l.Ha(this.Ka,a.type,a);K2Q=5;break;}}};a.prototype.G5a=function(a,b){var x2Q,c,l3Q,I3Q;x2Q=2;while(x2Q!==9){l3Q="notifyMa";l3Q+="nifestSelecte";l3Q+="d: ";I3Q="mani";I3Q+="fe";I3Q+="stSelected";switch(x2Q){case 2:c=this.Ka.K;x2Q=5;break;case 5:a={type:I3Q,index:a,replace:b.P.re.replace,ptsStarts:b.sH,streamingOffset:b.S+b.Ur};c.$f&&(b=l3Q+JSON.stringify(a),c.$f&&this.Ri(b));l.Ha(this.Ka,a.type,a);x2Q=9;break;}}};a.prototype.E5a=function(a,b,c,d,h){var t2Q,m3Q;t2Q=2;while(t2Q!==4){m3Q="manif";m3Q+="es";m3Q+="t";m3Q+="Prese";m3Q+="nting";switch(t2Q){case 2:a={type:m3Q,index:a.Va,pts:Math.floor(b),movieId:a.G,replace:a.re.replace,contentOffset:c};null!=d&&null!=h&&(a.previousMovieId=d,a.previousIndex=h);l.Ha(this.Ka,a.type,a);t2Q=4;break;}}};a.prototype.P5a=function(a,b,c,d){var W2Q,f,h3Q;W2Q=2;while(W2Q!==9){h3Q="st";h3Q+="re";h3Q+="amPresent";h3Q+="ing";switch(W2Q){case 3:l.Ha(this.Ka,a.type,a);W2Q=9;break;case 4:a={type:h3Q,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:f,manifestIndex:d,trackIndex:a.track.kA,streamIndex:a.Eg};W2Q=3;break;case 2:f=a.M;k.Jk.bm(f);W2Q=4;break;}}};w6Q=15;break;case 35:a.prototype.j9=function(){var C2Q,a,b,c,d,h,M3Q;C2Q=2;while(C2Q!==13){M3Q="buffering";M3Q+="Comp";M3Q+="le";M3Q+="te";switch(C2Q){case 7:a={type:M3Q,time:q.time.ea(),actualStartPts:h,aBufferLevelMs:a.jk(0),vBufferLevelMs:a.jk(1),selector:c?c.JH:b.JH,initBitrate:d.Do,skipbackBufferSizeBytes:this.Ka.yb.sC};this.Ka.qf.Jib({initSelReason:d.Ho,initSelectionPredictedDelay:d.Eu,buffCompleteReason:d.Hp,hashindsight:this.Ka.Bo,hasasereport:!!this.Ka.ss});l.Ha(this.Ka,a.type,a);C2Q=13;break;case 2:a=this.Ka.pa.Rb;b=a.pe(0);c=a.pe(1);C2Q=3;break;case 3:this.qza();d=this.Ka.Ik?this.Ka.Ya.yv[g.Ma.VIDEO]:this.Ka.Ya.yv[g.Ma.AUDIO];h=d.EL;C2Q=7;break;}}};a.prototype.qza=function(){var E2Q,a,b,c,d,h,k,g,T3Q;E2Q=2;while(E2Q!==19){T3Q="up";T3Q+="dateB";T3Q+="uf";T3Q+="ferLev";T3Q+="el";switch(E2Q){case 5:E2Q=!this.Ka.We()?4:19;break;case 4:b=this.Ka.pa.Rb;c=b.jk(0);d=b.jk(1);E2Q=8;break;case 2:a=this.Ka.K;E2Q=5;break;case 6:h=h.Jd?h.Fa.Ca:0;k=this.Ka.pa;g=k.xA(b,0);b=k.xA(b,1);c={type:T3Q,abuflbytes:g,vbuflbytes:b,totalabuflmsecs:c,totalvbuflmsecs:d,predictedFutureRebuffers:0,currentBandwidth:h};E2Q=10;break;case 8:this.Ka.qf.q8a(c,d);h=this.Ka.yb.tb.get();E2Q=6;break;case 10:d>a.VLa&&this.Ka.yb.Oe&&this.Ka.yb.Oe.hL(!0,this.Ka.Rk.sessionId);l.Ha(this.Ka,c.type,c);E2Q=19;break;}}};a.prototype.W4a=function(a){var j2Q,b,f,d,j3Q,E3Q,C3Q,A3Q,Q3Q,G3Q;j2Q=2;while(j2Q!==13){j3Q=", osA";j3Q+="lloc";j3Q+="at";j3Q+="orDelta: ";E3Q=",";E3Q+=" jsHe";E3Q+="apDelta:";E3Q+=" ";C3Q=", fa";C3Q+="stMallo";C3Q+="cDelta: ";A3Q="memoryUsage a";A3Q+="t";A3Q+=" time: ";Q3Q=",";Q3Q+=" s";Q3Q+="yst";Q3Q+="e";Q3Q+="mDelta: ";G3Q="memory";G3Q+="Us";G3Q+="age at time: ";switch(j2Q){case 1:j2Q=!c.V(a)?5:13;break;case 2:j2Q=1;break;case 4:j2Q=!c.V(this.lE)?3:14;break;case 5:c.ma(a.gQ);j2Q=4;break;case 6:c.ma(a.gQ)&&c.ma(this.lE.gQ)&&(b=a.gQ-this.lE.gQ,4194304<b&&this.H.warn(G3Q+q.time.ea(),Q3Q+b));j2Q=14;break;case 3:b=a.JFa-this.lE.JFa;f=a.WIa-this.lE.WIa;d=a.xNa-this.lE.xNa;(4194304<b||4194304<d)&&this.H.warn(A3Q+q.time.ea()+C3Q+b+E3Q+f+j3Q+d);j2Q=6;break;case 14:this.lE=a;j2Q=13;break;}}};a.prototype.T5a=function(){var c2Q,a,c3Q;c2Q=2;while(c2Q!==9){c3Q="str";c3Q+="eam";c3Q+="ingstat";switch(c2Q){case 2:c2Q=1;break;case 1:this.Ka.K.lsb&&q.memory.zlb(this.W4a.bind(this));a={type:c3Q,time:q.time.ea(),playbackTime:this.Ka.W.Xd()};this.Ka.qf.Kib(a);l.Ha(this.Ka,a.type,a);c2Q=9;break;}}};w6Q=31;break;case 31:a.prototype.pza=function(){var a2Q,a,a3Q;a2Q=2;while(a2Q!==3){a3Q="asere";a3Q+="p";a3Q+="o";a3Q+="rt";switch(a2Q){case 2:a2Q=1;break;case 5:a={type:a3Q};this.Ka.ss.Iib(a)&&l.Ha(this.Ka,a.type,a);a2Q=3;break;case 1:a2Q=this.Ka.ss?5:3;break;case 8:a2Q=2;break;a2Q=1;break;}}};a.prototype.r5a=function(){var U2Q,a,U3Q;U2Q=2;while(U2Q!==4){U3Q="ase";U3Q+="reporten";U3Q+="a";U3Q+="b";U3Q+="led";switch(U2Q){case 1:a={type:U3Q};l.Ha(this.Ka,a.type,a);U2Q=4;break;case 2:U2Q=1;break;}}};a.prototype.B5a=function(a){var N2Q,b,c,f,d,h,k,g,m,q,t,n,r,A,u,oa,fa,U,la,O,z,N3Q,n3Q,e3Q,k3Q,v3Q;N2Q=2;while(N2Q!==7){N3Q="hin";N3Q+="dsightr";N3Q+="eport";switch(N2Q){case 1:N2Q=a?5:7;break;case 5:b={type:N3Q};N2Q=4;break;case 4:c=this.Ka.K.kN;for(f in c){n3Q="h";n3Q+="v";n3Q+="ma";n3Q+="f";n3Q+="dp";e3Q="h";e3Q+="v";e3Q+="maf";e3Q+="gr";k3Q="hv";k3Q+="m";k3Q+="af";k3Q+="t";k3Q+="b";v3Q="h";v3Q+="tw";v3Q+="b";v3Q+="r";d=c[f];h=0;k=0;g=0;m=0;q=0;t=0;n=void 0;r=void 0;A=!1;u=-1;oa=-1;fa=-1;U=-1;la=-1;O=-1;for(z in a)r=a[z],void 0===r.nd&&(n=(n=r.sols)&&n[d])&&(A=!0,g+=n.dlvdur,h+=n.dltwbr*n.dlvdur,k+=n.dlvmaf*n.dlvdur),t+=r.pbdur,m+=r.pbtwbr*r.pbdur,q+=r.pbvmaf*r.pbdur,n=r.rr,r=r.ra;0<t&&(u=1*m/t,U=1*q/t);A&&(0<g&&(oa=1*h/g,la=1*k/g),0<g+t&&(fa=1*(h+m)/(g+t),O=1*(k+q)/(g+t)));switch(d){case v3Q:b.htwbr=fa;b.hptwbr=oa;b.pbtwbr=u;n&&(b.rr=n,b.ra=r);break;case k3Q:b.hvmaftb=O;b.hpvmaftb=la;b.pbvmaftb=U;n&&(b.rrvmaftb=n,b.ravmaftb=r);break;case e3Q:b.hvmafgr=O;b.hpvmafgr=la;b.pbvmafgr=U;n&&(b.rrvmafgr=n,b.ravmafgr=r);break;case n3Q:b.hvmafdp=O,b.hpvmafdp=la,b.pbvmafdp=U,n&&(b.rrvmafdp=n,b.ravmafdp=r);}}this.Ka.BF&&(b.report=a);l.Ha(this.Ka,b.type,b);N2Q=7;break;case 2:N2Q=1;break;}}};a.prototype.x5a=function(a){var v2Q,L3Q;v2Q=2;while(v2Q!==5){L3Q="e";L3Q+="ndO";L3Q+="fStrea";L3Q+="m";switch(v2Q){case 2:a={type:L3Q,mediaType:a};l.Ha(this.Ka,a.type,a);v2Q=5;break;}}};a.prototype.om=function(a){var k2Q,B3Q,R3Q;k2Q=2;while(k2Q!==1){B3Q="ase";B3Q+="exceptio";B3Q+="n";R3Q="aseexcep";R3Q+="t";R3Q+="ion";switch(k2Q){case 2:this.Ka.emit(R3Q,{type:B3Q,msg:a});k2Q=1;break;}}};w6Q=43;break;case 43:a.prototype.dvb=function(a,b,c,d){var e2Q,q3Q,d3Q;e2Q=2;while(e2Q!==5){q3Q="maxvi";q3Q+="deobitratechan";q3Q+="ged";d3Q="maxvideobitra";d3Q+="t";d3Q+="echang";d3Q+="ed";switch(e2Q){case 2:a={type:d3Q,time:q.time.ea(),spts:d,maxvb_old:a,maxvb:b,reason:c};this.Ka.emit(q3Q,a);e2Q=5;break;}}};a.prototype.TMa=function(){var n2Q,a,z3Q;n2Q=2;while(n2Q!==9){z3Q="stream";z3Q+="eren";z3Q+="d";switch(n2Q){case 1:n2Q=!this.w7a&&this.Ka.K.QMa?5:9;break;case 2:n2Q=1;break;case 5:this.w7a=!0;a={type:z3Q,time:q.time.ea()};l.Ha(this.Ka,a.type,a);n2Q=9;break;}}};a.prototype.Ri=function(a){var L2Q,F3Q,u3Q;L2Q=2;while(L2Q!==5){F3Q=",";F3Q+=" ";u3Q="ma";u3Q+="nagerde";u3Q+="buge";u3Q+="vent";switch(L2Q){case 2:a={type:u3Q,message:"@"+q.time.ea()+F3Q+a};l.Ha(this.Ka,a.type,a);L2Q=5;break;}}};return a;break;}}}();b.uta=d;},function(d,b,a){var c,k,g,t;Object.defineProperty(b,"__esModule",{value:!0});b.Yra=void 0;c=a(160);k=a(20);g=a(20);t=a(13);d=function(){var o3Q;o3Q=2;function a(a,b,c,d){var g3Q,q3x;g3Q=2;while(g3Q!==8){q3x="1SIYb";q3x+="ZrN";q3x+="JCp9";switch(g3Q){case 4:this.Lw=d;this.zza=this.T9=!1;g3Q=9;break;case 2:this.rb=a;this.H=b;this.hb=c;g3Q=4;break;case 9:q3x;g3Q=8;break;}}}while(o3Q!==6){switch(o3Q){case 2:a.prototype.play=function(){var w3Q,a,s3x,G3x;w3Q=2;while(w3Q!==4){s3x="p";s3x+="la";s3x+="y";G3x="play called after pipel";G3x+="ines already shut";G3x+="do";G3x+="wn";switch(w3Q){case 2:w3Q=1;break;case 9:w3Q=6;break;w3Q=1;break;case 1:a=this;this.We()?this.H.warn(G3x):(this.rb.W.Zd(k.na.Nc),this.rb.m7a(),this.rb.Ya.He.forEach(function(b){var y3Q,g3x;y3Q=2;while(y3Q!==1){g3x="pl";g3x+="ay: not resuming bufferManager, audio track switch in";g3x+=" prog";g3x+="ress";switch(y3Q){case 2:a.hb(b.M)&&(b.uI?b.Za(g3x):(a.rb.rf[b.M].resume(),a.rb.gr[b.M].resume()));y3Q=1;break;}}}),this.rb.XK(),this.rb.emit(s3x));w3Q=4;break;}}};a.prototype.stop=function(){var V3Q,a,b,c,d,P3x;V3Q=2;while(V3Q!==12){P3x="s";P3x+="t";P3x+="op";switch(V3Q){case 9:this.rb.IT();b||c||this.rb.pa.zk.q1(!1,this.rb.W);d=this.rb.pa.Rb;g.pf.forEach(function(a){var J3Q;J3Q=2;while(J3Q!==5){switch(J3Q){case 2:J3Q=(a=d.Ic(a))?1:5;break;case 3:J3Q=(a=d.Ic(a))?9:3;break;J3Q=(a=d.Ic(a))?1:5;break;case 1:a.Gg=!1;J3Q=5;break;case 9:a.Gg=~2;J3Q=6;break;J3Q=5;break;}}});g.pf.forEach(function(b){var i3Q;i3Q=2;while(i3Q!==1){switch(i3Q){case 2:(b=a.rb.rf[b])&&b.pause();i3Q=1;break;}}});this.rb.emit(P3x);V3Q=12;break;case 4:c=this.rb.W.yg();this.rb.W.Zd(k.na.FD);V3Q=9;break;case 2:a=this;b=this.rb.W.aKa();V3Q=4;break;}}};a.prototype.suspend=function(){var s3Q;s3Q=2;while(s3Q!==1){switch(s3Q){case 4:this.T9=+9;s3Q=5;break;s3Q=1;break;case 2:this.T9=!0;s3Q=1;break;}}};a.prototype.resume=function(){var Z3Q;Z3Q=2;while(Z3Q!==5){switch(Z3Q){case 2:this.T9=!1;this.rb.af.ii();Z3Q=5;break;}}};a.prototype.close=function(){var X3Q,a,c3x,w3x,F3x;X3Q=2;while(X3Q!==13){c3x="e";c3x+="n";c3x+="d";c3x+="p";c3x+="lay";w3x="l";w3x+="o";w3x+="gd";w3x+="a";w3x+="ta";F3x="c";F3x+="los";F3x+="e";switch(X3Q){case 4:this.stop();this.rb.emit(F3x);this.rb.CE=!1;a.kFa&&(a=c.Ls.eg().kb())&&(a={type:w3x,target:c3x,fields:{bridgestat:a}},t.Ha(this.rb,a.type,a));X3Q=7;break;case 2:a=this.rb.K;this.zza=!0;X3Q=4;break;case 7:this.rb.yb.Oe&&this.rb.yb.Oe.hL(!0,this.rb.Rk.sessionId,!0);this.rb.Sa.TMa();this.rb.KPa();X3Q=13;break;}}};o3Q=9;break;case 9:a.prototype.flush=function(){var b3Q,O3Q,a,b,c,d,g,m,q,j3x,h3x,D3x,m3x,J3x,C3x,A3x,x3x,e3x,M3x,Z3x;b3Q=2;while(b3Q!==25){j3x="end";j3x+="p";j3x+="lay";h3x="l";h3x+="o";h3x+="g";h3x+="data";D3x="t";D3x+="hrough";D3x+="put";D3x+="-s";D3x+="w";m3x="throu";m3x+="ghput-s";m3x+="w";J3x="t";J3x+="hroug";J3x+="hpu";J3x+="t-sw";C3x="through";C3x+="pu";C3x+="t-";C3x+="sw";A3x="e";A3x+="ndp";A3x+="l";A3x+="a";A3x+="y";x3x="lo";x3x+="gd";x3x+="ata";switch(b3Q){case 7:g&&g.avtp&&g.avtp.Ca&&(d.avtp=g.avtp.Ca,d.dltm=g.avtp.LW,m.avtp=d.avtp);g&&g.cdnavtp&&(d.cdnavtp=g.cdnavtp,d.activecdnavtp=g.activecdnavtp);c.flush();b3Q=13;break;case 27:b3Q=this.Lw.Bo?26:25;break;case 10:for(var n in q){e3x="n";e3x+="e";M3x="n";M3x+="e";Z3x="n";Z3x+="e";q.hasOwnProperty(n)&&(d[Z3x+n]=Number(q[n]).toFixed(6),m[M3x+n]=1*d[e3x+n]);}b3Q=20;break;case 11:b3Q=q?10:20;break;case 13:q=c.gHa();c=c.GAa;b3Q=11;break;case 4:b3Q=c?3:15;break;case 20:c&&c.length&&(d.activeRequests=JSON.stringify(c));this.rb.xd.P.XW(1)&&(d.enableHudson=!0);d.aseApiVersion=this.rb.vV;Object.keys(d).length&&(d={type:x3x,target:A3x,fields:d},t.Ha(this.rb,d.type,d));b3Q=16;break;case 16:b.yM&&(g&&g[C3x]&&g[J3x].Ca&&this.rb.hp.E8a({avtp:g[m3x].Ca,variance:g[D3x].wh}),this.rb.hp.x8a(m,null===(a=g.avtp)||void 0===a?void 0:a.LW),a=this.rb.hp.Qkb(),b=this.rb.hp.Zmb(),a&&(a.n=b,a={type:h3x,target:j3x,fields:{ibef:a}},t.Ha(this.rb,a.type,a),this.rb.hp.save()));b3Q=15;break;case 15:this.rb.Sa.pza();b3Q=27;break;case 26:try{O3Q=2;while(O3Q!==1){switch(O3Q){case 2:this.rb.fX(k.na.FD);O3Q=1;break;}}}catch(G){var K3x;K3x="Hin";K3x+="dsight: Err";K3x+="or evaluating Qo";K3x+="E at s";K3x+="topping: ";m1ii.v3x(0);this.rb.Sa.om(m1ii.N3x(K3x,G));}b3Q=25;break;case 2:b=this.rb.K;c=this.rb.yb.tb;b3Q=4;break;case 3:d={};g=c.get();m={};b3Q=7;break;}}};a.prototype.We=function(){var P4Q;P4Q=2;while(P4Q!==1){switch(P4Q){case 4:return this.zza&&this.rb.pa.bq;break;P4Q=1;break;case 2:return this.zza||this.rb.pa.bq;break;}}};return a;break;}}}();b.Yra=d;},function(d,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.Hpa=void 0;c=a(7);k=a(20);g=a(4);d=function(){var U3x;U3x=2;while(U3x!==18){switch(U3x){case 3:a.prototype.ii=function(){var Q3x,a,b;Q3x=2;while(Q3x!==3){switch(Q3x){case 4:!this.Aa.Dza||this.Aa.MU||this.Aa.CE||(this.Aa.MU=setTimeout(function(){var o3x;o3x=2;while(o3x!==4){switch(o3x){case 2:clearTimeout(a.Aa.MU);a.Aa.MU=void 0;a.pya();o3x=4;break;}}},b.ija),b.AF&&this.Aa.Ik&&(this.Jz||(this.Jz=setTimeout(function(){var E3x,b;E3x=2;while(E3x!==9){switch(E3x){case 2:clearTimeout(a.Jz);a.Jz=void 0;E3x=4;break;case 4:b=a.Aa.pa.Rb.Ic(1);b&&a.Gxa(b);E3x=9;break;}}},b.n8a))));Q3x=3;break;case 2:a=this;b=this.Aa.K;Q3x=4;break;}}};a.prototype.Gxa=function(a,b){var S3x,c,f,d,l;S3x=2;while(S3x!==7){switch(S3x){case 3:S3x=f&&d?9:7;break;case 2:c=a.M;f=this.Aa.Ya.$r[c].tB;d=a.yq.uB;S3x=3;break;case 9:l=this.Aa.Ya.He[c].um;l&&(this.Aa.W.xg()||this.Aa.qf.m8a(c,l,f.O,d.O,a.zob.O,b));S3x=7;break;}}};a.prototype.nya=function(a,b){var a3x,c,f,d,l,k,S51;a3x=2;while(a3x!==11){S51="Still in buf";S51+="fering ";S51+="state while pipeline's a";S51+="re done";switch(a3x){case 1:c=a.ia;f=a.Ic(1);d=a.Ic(0);l=!d||d.Gg;k=!f||f.Gg;c.z_||this.Aa.pa.Wub(a,c,a.P.re.xf&&0===a.P.Va);a3x=7;break;case 2:a3x=1;break;case 6:a3x=(this.Aa.Ik&&this.oya(a,f,d),this.Aa.qo&&this.oya(a,d,f),l=!d||d.Gg,k=!f||f.Gg,!k||!l)?14:13;break;case 14:return;break;case 13:this.Aa.W.xg()&&(this.H.warn(S51),this.Aa.Ya.et());b||c.Av||a.P.re.xf||!this.gbb(a)||((b=this.Aa.W.xg())&&this.Aa.K.Qba&&(this.Aa.N9(),b=!1),a.AX||this.Aa.pa.Dob(a,b),a.RE(),a.hbb()&&(b=Object.keys(a.children),this.Aa.K.RW&&1===b.length&&!a.children[b[0]].active&&this.Aa.pa.aLa(a,b[0]),this.O3a(a,c)));a3x=11;break;case 7:a3x=!k||!l?6:13;break;}}};a.prototype.O3a=function(a,b){var B3x,d,f,l,k,m,q,t,n,u51;B3x=2;while(B3x!==22){u51="N";u51+="o su";u51+="bbranch candidates to drive";switch(B3x){case 26:a.l8=d.ul;B3x=25;break;case 8:m=[];q=[];c.Ud(a.children,function(a,c){var u3x;u3x=2;while(u3x!==5){switch(u3x){case 2:c=b.qj[c].weight;0!==c&&(c={weight:c,fd:a},a.Iaa(!0,!0)||q.push(c),m.push(c));u3x=5;break;}}});0===q.length?q=m:2<q.length&&(q.sort(function(a,b){var T3x;T3x=2;while(T3x!==1){switch(T3x){case 4:return b.weight+a.weight;break;T3x=1;break;case 2:return b.weight-a.weight;break;}}}),q.length=2);B3x=13;break;case 25:d.kd||(d.kd={YY:g.time.ea(),ty:0});d.kd.weight=f;this.nya(d,!0);B3x=22;break;case 12:d=q.reduce(function(a,b){var l3x,H1x;l3x=2;while(l3x!==4){switch(l3x){case 2:b.ul=b.fd.ul;b.ULa=Math.min(b.ul[0],b.ul[1]);m1ii.I51(0);H1x=m1ii.B51(20,20);return[a[0]+b.weight,a[H1x]+b.ULa];break;}}},[0,0]);t=d[0];n=d[1];B3x=20;break;case 16:d=q[0].fd;f=q[0].weight;a.QD=d;B3x=26;break;case 4:k=a.QD.ul;B3x=3;break;case 19:B3x=0===q.length?18:16;break;case 18:this.H.warn(u51);B3x=17;break;case 20:0!==t&&0!==n?(c.Ud(q,function(a){var f3x;f3x=2;while(f3x!==4){switch(f3x){case 2:a.gIb=a.weight/t;a.gab=a.ULa/n;a.QTa=a.gab-a.gIb;f3x=4;break;}}}),q.sort(function(a,b){var k3x;k3x=2;while(k3x!==1){switch(k3x){case 2:return a.QTa-b.QTa;break;case 4:return a.QTa+b.QTa;break;k3x=1;break;}}})):q.sort(function(a,b){var W3x;W3x=2;while(W3x!==4){switch(W3x){case 2:a=Math.min.apply(null,a.fd.ul);b=Math.min.apply(null,b.fd.ul);m1ii.W51(1);return m1ii.Z51(b,a);break;}}});B3x=19;break;case 13:B3x=1<q.length?12:19;break;case 17:return;break;case 2:l=this.Aa.K;B3x=5;break;case 3:Math.min(k[0]-a.l8[0],k[1]-a.l8[1])>=l.obb?a.QD=void 0:(d=a.QD,f=b.qj[d.ia.id].weight);B3x=9;break;case 5:B3x=this.Aa.yb.Nfa&&a.QD&&a.l8?4:9;break;case 9:B3x=!d?8:25;break;}}};a.prototype.oya=function(a,b,d){var L3x,f,h,l,k,m,q,L51,J51;L3x=2;while(L3x!==13){L51="Still in buffering state whil";L51+="e pipelin";L51+="e does not have vacancy";J51="drivePipeline";J51+=", delay";J51+="ing audio unti";J51+="l video ac";J51+="tualStartPts determined";switch(L3x){case 3:l=this.Aa.Ya.He[h];k=this.Aa.Ya.yv[h];m=this.Aa.Ya.$r[h];L3x=7;break;case 4:L3x=!b.Gg?3:13;break;case 7:L3x=l.um&&(void 0===b.QB||(b.oC(b.QB),void 0===b.QB))?6:13;break;case 2:f=this.Aa.K;h=b.M;L3x=4;break;case 6:q=this.Aa.xd;c.V(q.hy)||(f.vs&&0===h&&c.V(this.Aa.Ya.He[1].Ol)?b.Za(J51):(c.V(b.sk)&&(b.sk=b.ag?b.ag.index:b.kda(b.Hb)),b.zg&&b.sk>b.zg.index?a.P.re.xf&&c.V(q.ja)&&c.V(a.ja)||(b.Gg||this.Aa.dAa(b),a=this.Aa.xd.P.Va,a<this.Aa.YF()-1&&this.Aa.fV(a+1)):this.LT(b)&&(f.Hhb&&!this.Aa.W.xg()&&0>=b.CB?b.CGb(f.Btb):this.o3a(b,d)?(b.krb=g.time.ea(),d=this.Aa.Ya.Zea(b),d=d.Eg,c.V(d)||(d=b.track.Ac[d],this.n3a(b,d)||((f=d.$X())?(b.brb=d.O,b.Isb(d,f,this.Aa.W.xg(),l.um),this.QGb(d,m,k),a.kd&&++a.kd.ty):d.HC()))):this.Aa.W.xg()&&(b.kj(L51),this.Aa.Ya.et()))));L3x=13;break;}}};a.prototype.QGb=function(a,b,d){var X3x;X3x=2;while(X3x!==4){switch(X3x){case 2:b.DZ=a.tc;c.ma(d.Do)||(d.NGb(a.fp,a.Eu||-1,a.O,a.U0),c.V(a.U0)||this.Aa.qf.eRa(a.U0,a.jl,a.mk));a.url&&(b.Vga=a.url);X3x=4;break;}}};a.prototype.n3a=function(a,b){var R3x,c;R3x=2;while(R3x!==4){switch(R3x){case 2:c=this.Aa.Ya.$r[a.M];return this.Aa.Dza&&b.tc&&c.DZ&&b.tc!==c.DZ&&(0<a.Ja.hv||0<a.Ja.Is)?!0:!1;break;}}};U3x=12;break;case 12:a.prototype.o3a=function(a,b){var z3x,d,f,l,m,q,t,n,r,N,C,U51,w51;z3x=2;while(z3x!==42){U51="f";U51+="loo";U51+="red to 0";w51="negative scheduledBuff";w51+="er";w51+="Level:";switch(z3x){case 2:z3x=1;break;case 32:r=this.Aa.pa.LFb();z3x=31;break;case 23:r=void 0;b&&(r=b.M,N=g.lk()[r],r=f.hHb?this.Aa.pa.cLa(m,r).Uh/N:C/N);z3x=21;break;case 24:return!1;break;case 17:z3x=t===k.na.Nc&&n>f.atb&&!d.re.xf&&!C||n&&q>Math.max(n*f.Mha/100,f.gia)?16:15;break;case 16:return!1;break;case 25:z3x=this.Aa.yb.zga?24:23;break;case 44:return!1;break;case 35:return!1;break;case 29:z3x=(m=this.Aa.W.xg())?28:43;break;case 26:z3x=b&&(C=this.Aa.pa.xA(m,b.M),N=a.Hb-N,this.hb(b.M)&&!b.Gg&&N>=f.Pha&&r>f.Wg)?25:34;break;case 30:return!1;break;case 1:f=this.Aa.K;l=a.M;m=a.IZ;q=this.Aa.W.Xd();z3x=9;break;case 34:z3x=this.p4a(l)>=f.BB?33:32;break;case 21:z3x=void 0===r||r<f.$sb?35:34;break;case 13:z3x=(null===(d=a.Dg)||void 0===d?0:d.nob())?12:11;break;case 43:return f.YW&&a.Ja.hv>=f.Lha||!m&&0<f.Xr&&1===l&&t>f.Xr||0<f.Yu&&!m&&t+(b?C:0)>f.Yu||void 0!==this.Rxa&&n>this.Rxa||1===l&&d.re.xf&&n>f.Jha&&(b=this.Aa.yb.tb.get(),b.Jd&&b.Fa&&b.Fa.Ca*a.bF>f.Iha)?!1:!0;break;case 33:return!1;break;case 12:return!1;break;case 31:z3x=!c.V(f.Vr)&&r>=f.Vr||a.bF+q>=Math.max(f.Wu,this.Aa.yb.Ay+f.Jia*m.P.dtb[l])?30:29;break;case 11:q=a.Ja.S_;z3x=10;break;case 28:z3x=(q=1,a.oaa<f.Xu&&(q=f.Xu),a.Ja.hv>=q)?44:43;break;case 19:d=this.Aa.xd.P;C=this.Aa.W.Iu(d);z3x=17;break;case 20:return!1;break;case 10:z3x=q>=f.ay?20:19;break;case 9:t=this.Aa.W.Yc();n=this.Aa.pa.vr(m,l);r=a.Hb+m.wc-q;0>r&&(a.Za(w51,r,U51),r=0);N=b?b.Hb:0;z3x=13;break;case 15:t=this.Aa.pa.xA(m,l);C=0;z3x=26;break;}}};a.prototype.p4a=function(a){var I1x;I1x=2;while(I1x!==1){switch(I1x){case 2:return this.Aa.pa.bd.reduce(function(b,c){var y1x;y1x=2;while(y1x!==1){switch(y1x){case 4:return b-c.Lmb(a);break;y1x=1;break;case 2:return b+c.Lmb(a);break;}}},0);break;}}};a.prototype.gbb=function(a){var d1x,b,d,f;d1x=2;while(d1x!==8){switch(d1x){case 3:c.Ud(a.ia.qj,function(c,h){var b1x,l,e51,v51;b1x=2;while(b1x!==6){e51="in de";e51+="sts";e51+=":";v51="i";v51+="nvali";v51+="d segment";v51+=":";switch(b1x){case 5:h=c.P;c=h.dg[0];b1x=3;break;case 1:b1x=(c=d.Sg(h))?5:7;break;case 3:l=h.dg[1];c&&l&&c.stream.Bd&&l.stream.Bd||(f=!1);b.Aa.W.Iu(h)||(f=!1);b1x=6;break;case 2:b1x=1;break;case 7:a.Za(v51,h,e51,a.ia.qj);b1x=6;break;}}});return f;break;case 2:b=this;d=this.Aa.pa;f=!0;d1x=3;break;}}};a.prototype.G7a=function(){var i1x,a,b,c;i1x=2;while(i1x!==9){switch(i1x){case 3:this.Aa.W.xg()||b.vr(c,1)<a.kO||c.P.yha();i1x=9;break;case 2:a=this.Aa.K;b=this.Aa.pa;c=b.Rb;i1x=3;break;}}};U3x=19;break;case 2:a.prototype.IT=function(){var O3x;O3x=2;while(O3x!==1){switch(O3x){case 2:this.Jz&&(clearTimeout(this.Jz),this.Jz=void 0);O3x=1;break;}}};a.prototype.pya=function(){var r3x,a,b,c,f,x51;r3x=2;while(r3x!==11){x51="firs";x51+="tD";x51+="riveStreaming";switch(r3x){case 2:r3x=1;break;case 1:r3x=!this.Aa.cq.T9&&!this.Aa.We()?5:11;break;case 5:void 0===this.Aa.L3a&&(this.Aa.L3a=!0,this.Aa.Sa.Yj(x51));a=this.Aa.pa;b=a.Rb.Ic(0);c=a.Rb.Ic(1);r3x=8;break;case 12:this.G7a();r3x=11;break;case 8:f=!c||c.Gg;(!b||b.Gg)&&f&&this.Aa.jE&&a.Jbb(c?c.ja:b.ja);c=!c||c.Tn;b&&!b.Tn||!c||this.Aa.jE||(this.Aa.yb.Oe&&this.Aa.yb.Oe.hL(!0,this.Aa.Rk.sessionId),this.Aa.Sa.TMa());this.nya(a.Rb);r3x=12;break;}}};a.prototype.kAa=function(){var p3x;p3x=2;while(p3x!==1){switch(p3x){case 2:return this.Aa.We()||this.Aa.W.aKa()||this.Aa.W.yg()?!0:!1;break;}}};a.prototype.LT=function(a){var Y3x;Y3x=2;while(Y3x!==1){switch(Y3x){case 2:return this.kAa()||this.Aa.Ya.He[a.M].uI||this.Aa.rw.Sw?!1:!0;break;}}};U3x=3;break;case 19:return a;break;}}function a(a,b,c){var V3x,f51;V3x=2;while(V3x!==9){f51="1SI";f51+="Y";f51+="bZrNJCp9";switch(V3x){case 2:this.Aa=a;this.H=b;this.hb=c;f51;this.Rxa=this.Jz=void 0;V3x=9;break;}}}}();b.Hpa=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Gpa=void 0;c=a(7);k=a(154);d=function(){var P51;P51=2;function a(a,b,c){var i51,m51;i51=2;while(i51!==3){m51="1";m51+="SIYbZrN";m51+="JCp";m51+="9";switch(i51){case 2:this.el=a;this.H=b;this.Xf=c;m51;i51=3;break;}}}while(P51!==7){switch(P51){case 2:a.prototype.x3a=function(a,b){var F51,c,d,p51;F51=2;while(F51!==6){p51="createDlTra";p51+="c";p51+="ksStart";switch(F51){case 4:0===this.Zz&&this.el.Sa.Yj(p51);this.Zz+=a.length;a=a.map(function(a){var C51;C51=2;while(C51!==1){switch(C51){case 2:return c.bya(a,b.G,b.Fu(),c.el.Rk,d);break;}}});k.rp.eg.cf();return a;break;case 2:c=this;d=this.el.K;F51=4;break;}}};P51=1;break;case 1:a.prototype.K3a=function(){var t51,a,b;t51=2;while(t51!==8){switch(t51){case 2:a=this;b=[];t51=4;break;case 4:this.el.Ya.He.forEach(function(a){var D51;D51=2;while(D51!==5){switch(D51){case 2:c.V(a.um)||b.push(a.um);a.um=void 0;D51=5;break;}}});this.el.nK&&(b.push(this.el.nK),this.el.nK=void 0);b.forEach(function(b){var l51;l51=2;while(l51!==5){switch(l51){case 2:b.Mp||--a.Zz;k.rp.eg.HW(b);l51=5;break;}}});t51=8;break;}}};a.prototype.E4a=function(){var z51;z51=2;while(z51!==1){switch(z51){case 4:this.Zz=1;z51=9;break;z51=1;break;case 2:this.Zz=0;z51=1;break;}}};a.prototype.Tza=function(a,b){var y51,c,d;y51=2;while(y51!==3){switch(y51){case 2:c=this.el.Ya.He[a];d=c.um;d&&(d=b.j$(a,d),this.J3a(a),c.um=this.bya(a,b.G,b.Fu(),this.el.Rk,this.el.K),b.Cka(d));y51=3;break;}}};a.prototype.bya=function(a,b,c,d,f){var N51,h,l,r51,K51,s51,E51;N51=2;while(N51!==14){r51="tran";r51+="spo";r51+="rtreport";K51="e";K51+="r";K51+="r";K51+="o";K51+="r";s51="network";s51+="f";s51+="ail";s51+="ing";E51="cre";E51+="a";E51+="t";E51+="e";E51+="d";switch(N51){case 2:h=this;N51=5;break;case 5:l=k.rp.eg.EA(a,b,!0,c,d,f);l.pk.on(l,E51,function(){var H51,c51;H51=2;while(H51!==5){c51="crea";c51+="te";c51+="D";c51+="l";c51+="TracksEnd";switch(H51){case 2:--h.Zz;H51=1;break;case 1:0===h.Zz&&h.el.Sa.Yj(c51);H51=5;break;case 3:++h.Zz;H51=5;break;H51=1;break;}}});l.pk.on(l,s51,function(){var M51,a,d51;M51=2;while(M51!==8){d51="reportNe";d51+="tworkFailin";d51+="g";d51+=": ";switch(M51){case 4:a=h.el.xd.P;a.Hh&&a.Hh.Yo(l.fda,void 0,l.oh,l.Qi);a.lp();M51=8;break;case 5:M51=l.jX?4:8;break;case 2:f.$f&&h.Xf.Ri(d51+l);M51=5;break;}}});l.pk.on(l,K51,function(){var a51,X51,O51,G51;a51=2;while(a51!==5){X51="NF";X51+="Err_MC_St";X51+="reamingFailure";O51="DownloadTra";O51+="c";O51+="k fatal error";G51="Downlo";G51+="adTrack ";G51+="fata";G51+="l error";switch(a51){case 2:f.$f&&h.Xf.Ri(G51);h.el.Vk(O51,void 0,X51,l.oh,0,l.Qi);a51=5;break;}}});l.on(r51,function(a){var A51,o51;A51=2;while(A51!==1){o51="tra";o51+="nsport";o51+="repor";o51+="t";switch(A51){case 4:h.el.emit("",a);A51=7;break;A51=1;break;case 2:h.el.emit(o51,a);A51=1;break;}}});l.Kb();N51=6;break;case 6:return l;break;}}};P51=9;break;case 9:a.prototype.J3a=function(a){var n51,b;n51=2;while(n51!==8){switch(n51){case 2:a=this.el.Ya.He[a];b=a.um;b.Mp||--this.Zz;n51=3;break;case 3:k.rp.eg.HW(b);a.um=void 0;n51=8;break;}}};return a;break;}}}();b.Gpa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Zoa=void 0;c=a(366);d=function(){var g61;g61=2;function a(a){var T61,b61;T61=2;while(T61!==5){b61="1SIYbZr";b61+="N";b61+="J";b61+="Cp9";switch(T61){case 2:this.H=a;b61;T61=5;break;case 3:this.H=a;"";T61=0;break;T61=5;break;}}}while(g61!==3){switch(g61){case 4:return a;break;case 2:a.prototype.L2a=function(a,b){var Y61,d,I61,W61,B61,Z61,Q61,j61,q61,V61,h61;Y61=2;while(Y61!==13){I61="usi";I61+="ng sa";I61+="b cell >= 1";I61+="00, pipelineEnabled: ";W61="using sa";W61+="b cell >= 200, ";W61+="pipeli";W61+="neEnabled: ";B61=", allowSw";B61+="itchbac";B61+="k";Z61=", pr";Z61+="obeDetai";Z61+="lDenomina";Z61+="tor: ";Q61="using sab";Q61+=" cell >= 300, probeServerW";Q61+="henError: ";j61=", allow";j61+="S";j61+="wit";j61+="ch";j61+="back";q61=", probe";q61+="Detai";q61+="lDenomin";q61+="ator: ";V61="using sab cell ";V61+=">= 4";V61+="00, probeServerWhenErro";V61+="r: ";h61="appl";h61+="ying manifes";h61+="t base";h61+="d streamingClientConfi";h61+="g";switch(Y61){case 3:return a=d.streamingClientConfig,this.H.trace(h61+JSON.stringify(a)),this.yza(b,a);break;case 7:return b;break;case 4:Y61=d&&d.streamingClientConfig&&Object.keys(d.streamingClientConfig).length?3:9;break;case 2:b=c.mba(b,a);Y61=5;break;case 5:d=a.steeringAdditionalInfo;Y61=4;break;case 8:Y61=!a?7:6;break;case 6:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!0})):(b.pq=!0,b.YB=1,b.Lt=!0),this.H.trace(V61+b.pq+q61+b.YB+j61+b.Lt)):300<=a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!1})):(b.pq=!0,b.YB=1,b.Lt=!1),this.H.trace(Q61+b.pq+Z61+b.YB+B61+b.Lt)):200<=a?(b.set?b.set({pipelineEnabled:!1}):b.Uo=!1,this.H.trace(W61+b.Uo)):100<=a&&(b.set?(b.set({pipelineEnabled:!0}),b.set({maxParallelConnections:1}),b.set({maxActiveRequestsPerSession:b.SZ}),b.set({maxPendingBufferLen:b.WZ})):(b.Uo=!0,b.EG=1,b.Vr=b.SZ,b.ay=b.WZ),this.H.trace(I61+b.Uo)));return b;break;case 9:a=a.cdnResponseData;Y61=8;break;}}};a.prototype.N2a=function(a,b){var R61;R61=2;while(R61!==9){switch(R61){case 2:R61=!b.lba||a===this.N4a?1:5;break;case 5:this.N4a=a;R61=4;break;case 1:return b;break;case 4:for(var c in b.lba)new RegExp(c).test(a)&&(b=this.yza(b,b.lba[c]));return b;break;}}};a.prototype.yza=function(a,b){var k61,c,d,h,S61;k61=2;while(k61!==4){switch(k61){case 1:for(d in b)if(b.hasOwnProperty(d)){S61="I";S61+="nv";S61+="al";S61+="id ";S61+="key";h=b[d];a.set?0===a.set((c={},c[d]=h,c))&&this.H.trace(S61+d):a[d]=h;}return a;break;case 2:k61=1;break;}}};g61=4;break;}}}();b.Zoa=d;},function(d,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.Qra=void 0;c=a(0);d=a(382);k=a(66);g=a(361);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.zgb=function(b){var c;c=this;b.forEach(function(b){a.prototype.xZ.call(c,{value:b});});};b.prototype.GJa=function(){return!0;};b.prototype.Pla=function(){};b.prototype.xZ=function(b){a.prototype.xZ.call(this,b);b.done&&(b=this.tE.pW,k.cb&&this.H.trace("Requests drained",{nQb:b&&b.ia.id}),(b=b&&b.pe(this.Le))&&b instanceof g.gS&&b.$E(this.Xq.uea()||0));};return b;}(d.A2);b.Qra=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qHa=void 0;b.qHa=function(a){var b,d,g;b=Math.floor(1E6*Math.random());d=a.Ffa;g=a.kN;a=0===b%a.Gfa&&0<g.length;return{Bo:a,BF:a&&0===b%d};};},function(d,b,a){var k;function c(a){this.Ct=void 0;this.e5a=a;this.I9=[];this.ne=[];}k=a(31).pB;c.prototype.reset=function(a){this.Ct=void 0;this.I9=[];a&&(this.ne=[]);};c.prototype.add=function(a,b){var c,d;c=b.filter(function(b,c){return k(b)||c===a.pd;});d=c.map(function(a){return a.O;});b=c.indexOf(b[a.pd]);this.Ct&&(this.Ct.length!==d.length||this.Ct.some(function(a,b){return a!==d[b];}))&&(c=this.RGa())&&(this.ne.push(c),this.reset(!1));void 0===this.Ct&&(this.Ct=d);this.I9.push([b,a.pTa,a.Hb,a.jab,a.lCa,a.Wxb,a.wvb,a.my,a.no,a.Ji,a.eFb-a.pTa]);};c.prototype.Rhb=function(){for(var a=this.I9,b=[],c=[],d=0;d<a.length;d++){for(var h=a[d],f=[],k=0;k<h.length;k++)f.push(h[k]-(c[k]||0));b.push(f);c=h;}return b;};c.prototype.RGa=function(){var a;a=this.Rhb();if(0!==a.length)return{dltype:this.e5a,bitrates:this.Ct,seltrace:a};};c.prototype.get=function(){var a,b;a=this.RGa();b=this.ne;a&&b.push(a);if(0!==b.length)return b;};d.R=c;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.Ava=void 0;c=a(18);k=a(722);d=function(){function a(){this.aV=[];this.aV[c.Ma.VIDEO]=new k(c.Ma.VIDEO);this.aV[c.Ma.AUDIO]=new k(c.Ma.AUDIO);}a.prototype.R8a=function(a,b,c){this.aV[a].add(b,c);};a.prototype.fnb=function(){var a;a=[];this.aV.forEach(function(b){var c;if(b){c=b.get();c&&0<c.length&&c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.Iib=function(a){var b;b=this.fnb();a.strmsel=b;return 0<b.length;};return a;}();b.Ava=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.yJ=void 0;d=function(){function a(a){this.hi={};this.d9=a;this.Ze=[];this.mo=!1;this.cA=void 0;}a.prototype.rV=function(a){this.Ze.length===this.d9&&this.Ze.shift();Array.isArray(a)?this.Ze=this.Ze.concat(a):this.Ze.push(a);this.mo=!0;};a.prototype.aG=function(){return this.Ze.length;};a.prototype.xaa=function(){var a;a=this.Ze;return 0<a.length?a.reduce(function(a,b){return a+b;},0)/this.Ze.length:void 0;};a.prototype.SV=function(){var a,b;a=this.Ze;b=this.xaa();if(0<a.length&&"undefined"!==typeof b)return a=a.reduce(function(a,b){return a+b*b;},0)/a.length,Math.sqrt(a-b*b);};a.prototype.Ip=function(a){var b,c,d;if(this.mo||void 0===this.cA)this.cA=this.Ze.slice(0).sort(function(a,b){return a-b;}),this.mo=!1;if(void 0===this.hi[a]){b=this.cA;c=Math.floor(a/100*(b.length-1)+1)-1;d=(a/100*(b.length-1)+1)%1;this.hi[a]=c===b.length-1?b[c]:b[c]+d*(b[c+1]-b[c]);}return this.hi[a];};return a;}();b.yJ=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.osa=void 0;d=function(){function a(a,b,d){this.B7a=b;this.V2a=d;this.H=a;}a.prototype.zja=function(a){a=this.xpb(a,this.B7a)+this.V2a;return this.y9=isNaN(a)?NaN:this.Ela(a);};a.prototype.xbb=function(a){return isNaN(this.y9)?0:this.y9>a?1:0;};a.prototype.xpb=function(a,b){var c;c=0;if(a.length!==b.length)c=NaN;else for(var d=0;d<a.length;d++)c+=a[d]*b[d];return c;};a.prototype.Ela=function(a){return 1/(1+Math.exp(-a));};return a;}();b.osa=d;},function(d,b,a){var t,q;function c(a,b,c){var f,d;a=Math.max(0,a);f=[];c.forEach(function(a){f.push(a[b].ba);});c=f.filter(function(b){return b<=a;});if(0<c.length)c=c[c.length-1],d=f.lastIndexOf(c);else throw Error("selectStream infeasible");return{ep:c,pd:d};}function k(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function g(a,b,c,d,k){var f,h,l,g,p,m;f=a.sh;h=c+f.S;c=a.Hk[f.vN];a=a.kaa;l={CQ:!0,waitUntil:void 0,BN:!1};g=c.filter(function(a){return a&&a.S<=h&&a.S+a.duration>h;})[0];if(void 0===g)return{BN:!0};p=k-1-(g.index-1);d=f.EQ+d;m=0;m=g.index<f.uh?m+c.slice(f.wv,g.index).reduce(function(a,b){return a+b.ba;},0):m+f.EQ;m=m+b.slice(f.uh,g.index).reduce(function(a,b){return a+b.ep;},0);d-=m;if(p>=a.$N||d>=a.qI)for(l.CQ=!1,g=g.index;g<k&&(p>=a.$N||d>=a.qI);)q.update("checkBufferVacancy loop"),l.waitUntil=c[g].S+c[g].duration-f.S,d=g<f.uh?d-c[g].ba:d-b[g].ep,--p,g+=1;return l;}t=a(6).assert;q=a(104).mva||a(104);d.R={gN:function(a){var b,C,u,P,aa,R,A,T,oa,fa,U,la,O,z;q.d1("htwbr-"+(a.zP?"segvmaf":"dlvmaf")+": ");for(var f=a.sh,d=a.Xl,l=d.fl,m=a.Hk,n=!0,r=[],G,N=l=Math.min(d.Wr,l);N>=f.uh;N--){q.update("backward step");b=a.Hk[0][N].S-a.sh.S;N<l&&(b=Math.min(r[N+1].startTime,b));d=m[0][N].ba;G=f.Uw*m[0][N].duration*1/8;a:{C=void 0;R=d+G;G=a.Aq;A=f.Wo;T=G.trace;oa=1*G.Ql;u=b+A-G.timestamp;P=Math.floor(1*u/oa);aa=0+(u-P*oa)/oa*k(T,P,oa);if(aa>=R)C=u-1*R/aa*(u-P*oa);else for(u=P;aa<R;){q.update("findDownloadStartTime loop");--u;if(0>u){C=-1;break a;}P=k(T,u,oa);if(aa+P>=R){C=1*(R-aa)/P*oa;C=(u+1)*oa-C;break;}aa+=P;}C=C+G.timestamp-A;}if(0>C){n=!1;break;}r[N]={startTime:C,endTime:b,sW:b,ep:d,pd:0};}b={oi:n,As:r,Jo:!1,gy:0===r.length};if(!1===b.oi||!0===b.gy)return b;a:{f=a.sh;l=a.Xl;m=l.fl;n=a.Hk;d=r=0;b=b.As;C=N=0;m=Math.min(l.Wr,m);for(A=f.uh;A<=m;A++){q.update("forwardStep loop");aa=b[A];R=aa.pd;G=n[R][A].duration;oa=A===f.uh?0:b[A-1].endTime;R=g(a,b,oa,r,A);if(R.BN){b={oi:!1,Jo:!0};break a;}R.CQ||(oa=R.waitUntil);P=aa.sW;U=a.Aq;fa=f.Wo;aa=0;R=U.trace;T=1*U.Ql;u=oa+fa-U.timestamp;U=P+fa-U.timestamp;if(!(oa>=P)){t(0<=u);t(0<=U);t(U>=u);la=Math.floor(1*u/T);O=1*U/T;if(la===Math.floor(O))u=(U-u)/T*k(R,la,T),t(0<=u),aa+=u;else for(O=Math.ceil(O),fa=la,P=O,la*T<u&&(fa++,u=(fa*T-u)/T*k(R,la,T),t(0<=u),aa+=u),O*T>U&&(P--,u=(U-P*T)/T*k(R,P,T),t(0<=u),aa+=u),u=fa;u<P;u++)aa+=k(R,u,T);}T=f.Uw*G*1/8;d+=T;R=c(Math.max(0,aa-T),A,n);if(void 0===R){b={oi:!1,Jo:!0};break a;}aa=R.ep;R=R.pd;T=aa+T;fa=a.Aq;P=u=0;U=fa.trace;la=Math.max(0,oa+f.Wo-fa.timestamp);fa=1*fa.Ql;z=O=Math.max(0,Math.floor(1*la/fa));for(z*fa<la&&(O+=1,la=z*fa+fa-la,z=la/fa*k(U,z,fa),u=T-P<z?u+(T-P)/z*1*la:u+la,P+=z);P<T;)q.update("getDownloadTime"),la=k(U,O,fa),u=T-P<la?u+(T-P)/la*1*fa:u+fa,P+=la,O+=1;T=u;b[A].startTime=oa;b[A].endTime=oa+T;b[A].ep=aa;b[A].pd=R;A<=l.fl&&(r+=aa,C+=G,N+=G*a.Ac[R].O);}b={oi:!0,Jo:!1,As:b,Hgb:0<C?1*N/C:0,mca:C,lca:r,kca:d};}b.hq=q.Bea();console.log("Max heap used: "+Math.round(b.hq/1024/1024)+" MB");return b;}};},function(d,b,a){var r,K,E,G;function c(a,b,c){this.$Ba=this.r3a(a,b,c);}function k(){}function g(){}function t(){}function q(a){this.rbb=a;}function l(){}function h(){}function f(){}function p(){this.hca={};}function n(a){return Array.apply(0,Array(a)).map(function(a,b){return b+1;});}r=a(6).assert;b=a(204).poa;K=a(359).b2a;E=a(204).XVa;new(a(4)).Console("ASEJS_QOE_EVAL","media|asejs");G=a(104).mva||a(104);c.prototype.constructor=c;c.prototype.r3a=function(a,b,c){r(a<b,"expect min_buffer_sec < max_buffer_sec but got "+a+" and "+b);r(0<c,"expect buffer_step_sec > 0. but got "+c);for(var f=[];a<b;a+=c)f.push(a);f[f.length-1]<b&&f.push(b);return f;};c.prototype.Ix=function(a){return this.r4a(a,this.$Ba);};c.prototype.r4a=function(a,b){a=this.wgb(a,b);if(0===a)throw new k();if(a===b.length)throw new g();return a;};c.prototype.wgb=function(a,b){r(0<b.length,"expect bins.length > 0 but got "+b.length);if(a<b[0])return 0;if(a>=b[b.length-1])return b.length;for(var c=1;c<b.length;c++)if(b[c-1]<=a&&a<b[c])return c;r(!1,"expect not coming here in digitize()");};c.prototype.sY=function(){return n(this.$Ba.length-1);};k.prototype=Error();g.prototype=Error();t.prototype=Error();q.prototype.constructor=q;q.prototype.VERSION="0.5";q.prototype.TWa=-20;q.prototype.SWa=20;q.prototype.RWa=void 0;q.prototype.MWa=new b(void 0);q.prototype.OWa=0;q.prototype.NWa=1;q.prototype.VWa=!1;q.prototype.QWa=!0;q.prototype.PWa=!0;q.prototype.UWa=void 0;q.prototype.KWa=!0;q.prototype.LWa=0;q.prototype.CH=function(a){r(void 0!==a.KSa,"expect recipe.time_varying_bandwidth !== undefined");return this.$6a(this.rbb,a.KSa,void 0!==a.ZLa?a.ZLa:this.TWa,void 0!==a.GLa?a.GLa:this.SWa,void 0!==a.FLa?a.FLa:this.RWa,void 0!==a.XBa?a.XBa:this.MWa,void 0!==a.oFa?a.oFa:this.OWa,void 0!==a.jCa?a.jCa:this.NWa,void 0!==a.MDb?a.MDb:this.VWa,void 0!==a.Onb?a.Onb:this.QWa,void 0!==a.xIa?a.xIa:this.PWa,void 0!==a.ZOa?a.ZOa:this.UWa,void 0!==a.gBa?a.gBa:this.KWa,void 0!==a.MBa?a.MBa:this.LWa);};q.prototype.$6a=function(a,b,d,m,q,n,y,H,u,fa,U,la,O,z){var C,A,R,X,P,aa,T,S,ea,ha,ba,ia,ja,ma,na,qa,pa,ra,ta,va;function N(a){return a[aa];}G.d1("dp: ");r(d<=n.kg,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");r(n.kg<=m,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");r(d<=y,"expect min_buffer_sec <= end_buffer_sec");r(y<=m,"expect end_buffer_sec <= max_buffer_sec");void 0!==q&&r(n.Lj<=q,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+n.Lj+" and "+q);C=new c(d,m,H);H=new p();A=0;R=n;H.put([0,C.Ix(n.kg)],[A,R,void 0,void 0,b,void 0,void 0,void 0]);X=R=0;b=a.Jnb();r(a.fG()==b.length,"expect chunk_map.get_n_epoch() == durations_sec.length");aa=-1;for(T in b){for(var aa=aa+1,oa=!0,sa=a.Hi.map(N),F=C.sY(),M=0;M<F.length;M++){S=F[M];if(H.Gga([aa,S])){P=H.get([aa,S]);for(var V=P[0],Z=P[1],ca=P[4],da=0;da<sa.length;da++){b=sa[da];G.update("epoch-ibuf-chunk loop");n=void 0!==la?la(b.XO):b.XO;ea=ca.xo();try{P=this.X3a(Z,b,ea,z);ha=P[0];ba=P[1];ia=P[2];ja=P[3];ma=P[4];na=P[5];}catch($a){if($a instanceof K)continue;else if($a instanceof k){R+=1;continue;}else throw $a;}qa=A=!1;try{pa=C.Ix(ja.kg);fa&&C.Ix(ha);U&&C.Ix(ba);if(void 0!==q)if(U){if(ia.Lj>q)throw new t();}else if(ja.Lj>q)throw new t();}catch($a){if($a instanceof k)pa=void 0,R+=1;else if($a instanceof g)O?A=!0:X+=1,pa=void 0;else if($a instanceof t)O?qa=A=!0:X+=1,pa=void 0;else throw $a;}try{if(A&&qa){r(void 0!==q,"expect max_buffer_kb !== undefined");ta=U?ia.Lj-q:ja.Lj-q;r(0<=ta,"pause dlnd kb cannot be -ve but is "+ta);try{ra=ja.sxb(ta);}catch($a){if($a instanceof E)throw new k();throw $a;}ea.XNa(ra);ma+=ra;r(ja.kg<m,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");pa=C.Ix(ja.kg);}else if(A&&!qa){ra=U?ia.kg-m+1E-8:ja.kg-m+1E-8;r(0<=ra,"pause dlnd kb cannot be -ve but is "+ra);try{ja.jOa(ra);}catch($a){if($a instanceof E)throw new k();throw $a;}ea.XNa(ra);ma+=ra;r(d<=ja.kg,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");r(ja.kg<m,"cur_buffer_queue.total_remain_sec < max_buffer_sec");pa=C.Ix(ja.kg);}else ra=0;}catch($a){if($a instanceof k)pa=void 0,R+=1,ra=void 0;else if($a instanceof K)continue;else throw $a;}A=H.Gga([aa+1,pa])?H.get([aa+1,pa])[0]:-Infinity;this.R7a(ja,pa,b,n,S,aa+1,A,H,V,da,ea,ma,na,ra)&&(oa=!1);}}}if(oa){--aa;break;}}try{va=this.yya(aa+1,C.Ix(y),H,u,C);}catch($a){if($a instanceof l)try{va=this.yya(aa+1,C.Ix(y),H,!u,C);}catch(Fe){if(Fe instanceof l){if(R>X)throw new h();throw new f();}throw Fe;}else throw $a;}S=va;for(d=[];-1<aa;aa--)P=H.get([aa+1,S]),A=P[0],R=P[1],m=P[3],q=P[5],y=P[6],u=P[7],P=P[2],b=a.Hi[P][aa],fa=b.xu(),n=b.XO,d.unshift({dJa:aa,Ofa:P,info:{sQb:fa,XO:n,AQb:R.kg,zQb:R.Lj,HRb:q,Fa:y,kUb:u}}),S=m;return d;};q.prototype.yya=function(a,b,c,f,d){var h,k;h=!1;k=d.sY()[0];for(d=d.sY()[d.sY().length-1];;){if(b<k||b>d){h=!0;break;}if(c.Gga([a,b]))break;else b=f?b-1:b+1;}if(h)throw new l();return b;};q.prototype.R7a=function(a,b,c,f,d,h,l,k,g,p,m,q,t,n){c=g+f*c.cp;return void 0!==b&&c>l?(k.put([h,b],[c,a,p,d,m,q,t,n]),!0):!1;};q.prototype.X3a=function(a,b,c,f){var d,h,l;f=(b.xu()+f)*b.cp;c=c.Sgb(f);f/=c;d=a.kg-c;h=a.kg+b.cp;l=a.xo();l.add(b,void 0);a=a.xo();a.add(b,void 0);try{a.jOa(c);}catch(T){if(T instanceof E)throw new k();throw T;}return[d,h,l,a,c,f];};l.prototype=Error();h.prototype=new l();f.prototype=new l();p.prototype={Ima:function(a){return a.join(",");},put:function(a,b){this.hca[this.Ima(a)]=b;},get:function(a){return this.hca[this.Ima(a)];},Gga:function(a){return this.Ima(a)in this.hca;}};d.R={OXa:q,HJb:c,gJb:k,hJb:g};},function(d,b,a){var E,G,N,u,X,P,aa,R,A,T;function c(a){var b,c,f;c=a.Aq;b=a.sh;f=a.Xl.ja-b.S;c.timestamp>b.Wo&&A.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+c.timestamp+" and "+b.Wo);a=[];for(var d,h=c.timestamp,l=0;l<c.trace.length;l++)h>=b.Wo&&(a.push(c.trace[l]),d=c.trace[l]),h+=c.Ql,f-=c.Ql;for(;0<f;)a.push(d),f-=c.Ql;b=c.Ql;c=a.length;if(0===c)c=[];else{for(b=[b/1E3];2*b.length<=c;)b=b.concat(b);b.length<c&&(b=b.concat(b.slice(0,c-b.length)));c=b;}return new X(a,c,!1);}function k(a,b){return a.zB<b.zB?1:a.zB>b.zB?-1:0;}function g(a){for(var b=a.sh,c=a.Xl,f=c.fl,d=a.Hk,h=!0,l,k=[],g,p=f=Math.min(c.Wr,f);p>=b.uh;p--){T.update("backward step loop");l=a.Hk[0][p].S-a.sh.S;p<f&&(E(void 0!==k[p+1],"expect solution[(fragIndex + 1)] !== undefined"),l=Math.min(k[p+1].startTime,l));c=d[0][p].ba;g=b.Uw*d[0][p].duration*1/8;g=r(c+g,l,a.Aq,b.Wo);if(0>g){h=!1;break;}k[p]={startTime:g,endTime:l,sW:l,ep:c,pd:0};}return{oi:h,As:k,Jo:!1,gy:0===k.length?!0:!1};}function t(a,b){var u,C,A,R,X,P;for(var c=a.sh,f=a.Xl,d=f.fl,h=a.Hk,l=0,k=0,g=b.As,m,q,t,y=0,r=0,H,G,d=Math.min(f.Wr,d),N=c.uh;N<=d;N++){T.update("forward step loop");t=g[N];b=t.pd;H=h[b][N].duration;G=N===c.uh?0:g[N-1].endTime;m=0;b=K(a,g,G,l,N);if(b.BN)return{oi:!1,Jo:!0};b.CQ||(m=b.waitUntil-G,G=b.waitUntil);E(0<=m,"expect waittime >= 0 but got "+m);C=a.Aq;A=c.Wo;m=0;b=C.trace;q=1*C.Ql;u=G+A-C.timestamp;A=t.sW+A-C.timestamp;E(0<=u,"invalid downloadStartTime");E(A>=u,"invalid downloadEndTime");R=Math.max(0,Math.floor(1*u/q));X=1*A/q;if(R===Math.floor(X))u=(A-u)/q*n(b,R,q),E(0<=u,"negative delta same bucket"),m+=u;else for(X=Math.ceil(X),C=R,t=X,R*q<u&&(C++,u=(C*q-u)/q*n(b,R,q),E(0<=u,"negative delta (2)"),m+=u),X*q>A&&(t--,u=(A-t*q)/q*n(b,t,q),E(0<=u,"negative delta (3)"),m+=u),u=C;u<t;u++)m+=n(b,u,q);q=c.Uw*H*1/8;k+=q;b=p(m-q,N,h);if(void 0===b)return{oi:!1,Jo:!0};m=b.ep;b=b.pd;q=m+q;A=a.Aq;t=u=0;C=A.trace;R=Math.max(0,G+c.Wo-A.timestamp);A=1*A.Ql;P=X=Math.max(0,Math.floor(1*R/A));for(P*A<R&&(X+=1,R=P*A+A-R,P=R/A*n(C,P,A),u=q-t<P?u+(q-t)/P*1*R:u+R,t+=P);t<q;)T.update("getDownloadTime"),R=n(C,X,A),u=q-t<R?u+(q-t)/R*1*A:u+A,t+=R,X+=1;q=u;g[N].startTime=G;g[N].endTime=G+q;g[N].ep=m;g[N].pd=b;N<=f.fl&&(l+=m,r+=H,y=void 0!=h[b][N].vc?y+H*h[b][N].vc:y+H*a.Ac[b].vc);}return{oi:!0,Jo:!1,As:g,IEa:0<r?1*y/r:0,mca:r,lca:l,kca:k};}function q(a){a=a.sh.$;for(var b=[],c,f=0;f<a.length;f++)T.update("get prebuffered chunks loop"),c=a[f],E(void 0!==c.vc,"expect frag.vmaf !== undefined"),c=new G(c.ba,c.duration/1E3,c.vc),b.push(c);return b;}function l(a){for(var b=a.Hk,c=a.sh,f=a.Xl,d=f.fl,h=a.Ac,l=[],k,d=Math.min(f.Wr,d),g=0;g<b.length;g++){for(var f=[],p=c.uh;p<=d;p++)T.update("get chunk map from play segment"),k=b[g][p],k=new G(k.ba,k.duration/1E3,a.zP&&void 0!==k.vc?k.vc:h[g].vc),f.push(k);l.push(f);}return new N(l,!1);}function h(a,b){E(a.fG()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,f=0,d,h,l=0;l<b.length;l++)T.update("calculate twvmaf"),E(b[l].dJa===l,"expect stream_choices[idx].i_epoch === idx"),h=a.Hi[b[l].Ofa][l],d=h.XO,h=h.cp,c+=d*h,f+=h;return{IEa:c/f,mca:1E3*f};}function f(a,b,c){var f,d;E(a.fG()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");f=0;d=0;c=c.sh.Uw;for(var h,l=0;l<b.length;l++)T.update("calculate Bytes"),E(b[l].dJa===l,"expect stream_choices[idx].i_epoch === idx"),h=a.Hi[b[l].Ofa][l],f+=h.ba,d+=c*h.cp*1E3/8;return{lca:f,kca:d};}function p(a,b,c){var f,d;a=Math.max(0,a);f=[];c.forEach(function(a){f.push(a[b].ba);});c=f.filter(function(b){return b<=a;});if(0<c.length)c=c[c.length-1],d=f.lastIndexOf(c);else throw Error("selectStream infeasible");return{ep:c,pd:d};}function n(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function r(a,b,c,f){var d,h,l,k,g;d=c.trace;h=1*c.Ql;g=b+f-c.timestamp;k=Math.floor(1*g/h);b=0+(g-k*h)/h*n(d,k,h);if(b>=a)l=g-1*a/b*(g-k*h);else for(g=k;b<a;){T.update("find download start time");--g;if(0>g)return-1;k=n(d,g,h);if(b+k>=a){a=1*(a-b)/k*h;l=(g+1)*h-a;break;}b+=k;}return l+c.timestamp-f;}function K(a,b,c,f,d){var h,l,k,g,p,m;h=a.sh;l=c+h.S;c=a.Hk[h.vN];a=a.kaa;k={CQ:!0,waitUntil:void 0,BN:!1};g=c.filter(function(a){return a&&a.S<=l&&a.S+a.duration>l;})[0];if(void 0===g)return{BN:!0};p=d-1-(g.index-1);f=h.EQ+f;m=0;m=g.index<h.uh?m+c.slice(h.wv,g.index).reduce(function(a,b){return a+b.ba;},0):m+h.EQ;m=m+b.slice(h.uh,g.index).reduce(function(a,b){return a+b.ep;},0);f-=m;if(p>=a.$N||f>=a.qI)for(k.CQ=!1,g=g.index;g<d&&(p>=a.$N||f>=a.qI);)T.update("check buffer vacancy"),k.waitUntil=c[g].S+c[g].duration-h.S,f=g<h.uh?f-c[g].ba:f-b[g].ep,--p,g+=1;k.lCa=f;k.BQb=p;return k;}E=a(6).assert;G=a(360).zWa;N=a(360).AWa;u=a(727).OXa;X=a(359).a2a;P=a(204).poa;aa=a(370).w5;R=a(58);A=new(a(4)).Console("ASEJS_QOE_EVAL","media|asejs");T=a(104).mva||a(104);d.R={qrb:function(a){var b;b=g(a);return!1===b.oi||!0===b.gy?b:t(a,b);},gN:function(a){var b,c,f,d,h,l,p,m,q,n,y,H,G,K,N,C;A.debug("greedy DEBUG false");T.d1("greedy-"+(a.zP?"segvmaf":"dlvmaf")+": ");c=a.Hk;b=a.Hk;f=a.sh;d=a.Xl;h=d.fl;l=a.Ac;h=Math.min(d.Wr,h);for(H=f.uh;H<=h;H++){b[0][H].wA=b[0][H].ba;for(y=1;y<b.length;y++)b[y][H].wA=b[y][H].ba,b[y-1][H].wA===b[y][H].wA&&(b[y][H].wA=b[y-1][H].wA+1);y=0;f=b[y][H];f.zB=Infinity;f.Eg=y;for(y=1;y<b.length;y++)f=b[y][H],d=b[y-1][H],p=8*f.wA/f.duration,m=8*d.wA/d.duration,a.zP&&void 0!==f.vc?(q=f.vc,n=d.vc):(q=l[y].vc,n=l[y-1].vc),f.zB=(q-n)/(p-m),f.Eg=y,E(void 0!==d.zB&&!isNaN(d.zB),"expect fragPrev.margUtil !== undefined && !isNaN(fragPrev.margUtil)");}b=g(a);if(!1===b.oi||!0===b.gy)return b;h=a.Hk;f=a.sh;d=a.Xl;l=d.fl;l=Math.min(d.Wr,l);d=[];for(f=f.uh;f<=l;f++)d.push(h[1][f]);for(h=new aa(d,k);0<h.length;){T.update("upgrade frags");l=h.pop();f=a;d=b;p=l;m=f.Hk;q=f.sh;N=f.Xl;n=N.fl;y=!0;H=JSON.parse(JSON.stringify(d.As));void 0!==p.Eg&&E(H[p.index].pd+1===p.Eg,"expect solution[targetFrag.index].selectedStreamIndex + 1 === targetFrag.streamIndex");n=Math.min(N.Wr,n);for(var u=p.index;u>=q.uh;u--){C=u===p.index?H[u].pd+1:H[u].pd;N=f.Hk[C][u].S-f.sh.S;if(u<n)if(E(void 0!==H[u+1],"expect solution[(fragIndex + 1)] !== undefined"),K=H[u+1].startTime,K<N)N=K;else if(u!==p.index)break;K=m[C][u].ba;G=q.Uw*m[C][u].duration*1/8;G=r(K+G,N,f.Aq,q.Wo);if(0>G){y=!1;break;}H[u]={startTime:G,endTime:N,sW:N,ep:K,pd:C};}f={oi:y,As:H,gy:d.gy};!0===f.oi&&(b=f,l.Eg+1<c.length&&h.push(c[l.Eg+1][l.index]));}b=t(a,b);b.hq=T.Bea();A.debug("Max heap used: "+Math.round(b.hq/1024/1024)+" MB");return b;},dp:function(a){var b,d,k,p,m,t;T.d1("dp-"+(a.zP?"segvmaf":"dlvmaf")+": ");b=g(a);if(!1===b.oi||!0===b.gy)return b;d=l(a);k=new u(d);p=q(a);p={KSa:c(a),MBa:a.sh.Uw,ZLa:0,GLa:240,FLa:8*a.kaa.qI/1E3,jCa:.5,XBa:new P(p),oFa:0,vSb:void 0,xIa:void 0,ZOa:void 0,gBa:!0};k=k.CH(p);p=h(d,k);d=f(d,k,a);m=[];t=a.sh.uh;k.forEach(function(a){m[t]={pd:a.Ofa};t++;});R(p,b);R(d,b);b.As=m;b.hq=T.Bea();A.debug("Max heap used: "+Math.round(b.hq/1024/1024)+" MB");return b;}};},function(d,b,a){var g,t;function c(){}function k(a,b){return function(c){c.zP=b;return a(c);};}g=a(728);t=a(726);c.prototype.constructor=c;c.prototype.create=function(a){switch(a){case"htwbr":a=t.gN;break;case"hvmaftb":a=g.qrb;break;case"hvmafgr":a=g.gN;break;case"hvmafdp":a=g.dp;break;case"hvmafgr-dlvmaf":a=k(g.gN,!1);break;case"hvmafgr-segvmaf":a=k(g.gN,!0);break;case"hvmafdp-dlvmaf":a=k(g.dp,!1);break;case"hvmafdp-segvmaf":a=k(g.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return a;};d.R=c;},function(d,b,a){var k,g;function c(a,b,c,d){this.Xa=a;this.H=b;this.tf=this.H.error.bind(this.H);this.Za=this.H.warn.bind(this.H);this.kj=this.H.trace.bind(this.H);this.wb=this.H.log.bind(this.H);this.I2a=new g();this.K=d;this.yU=[];this.XU=void 0;a=d.KY;k.call(this,a.numB*a.bSizeMs,a.bSizeMs);this.N8=!0;}a(18);b=a(4);k=a(159);a(368);g=a(729);new b.Console("ASEJS_QOE_EVAL","media|asejs");c.prototype=Object.create(k.prototype);c.prototype.add=function(a,b,c){this.XU||(this.XU=b);k.prototype.add.call(this,a,b,c);};c.prototype.Akb=function(){var a;if(0!==this.yU.length){a=[];this.yU.forEach(function(b){b&&b.ME&&a.push(b.vu());});return a;}};c.prototype.yc=function(){this.yU=[];};c.prototype.onb=function(){var a,b,c;a=this.get(this.K.KY.fillS);if(0===a[0]||null===a[0]){a.some(function(a,d){if(a)return b=a,c=d,!0;});if(b)for(var d=0;d<c;d++)a[d]=b;}a={trace:a,timestamp:this.XU,Ql:this.Oc};this.N8=!1;k.prototype.reset.call(this);this.N8=!0;this.XU=void 0;return a;};c.prototype.Vca=function(a){var b,c,d,f,k,g;if(a&&!a.ME){c=a.Xl.UJa;c&&(a.$ja=this.I$(a),a.t0=!1);if((b=this.onb())&&b.trace&&b.trace.length){d=a.sh.Wo;f=b.timestamp;if(f>d){k=b.Ql;g=b.trace[0];d=Math.ceil(1*(f-d)/k);b.timestamp=f-d*k;for(f=0;f<d;f++)b.trace.splice(0,0,g);}b.trace.length&&b.trace.pop();}a.Aq=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.xab(a),a.rNa=b,c&&b&&(a.t0=b.oi),a.ME=!0,this.yU.push(a));}};c.prototype.xab=function(a){var k,g,m,t;function b(a){var f;for(var b,c=0;c<a.length;c++){f=a[c].reduce(function(a,b){return b.vc?a+1:a;},0);if(void 0===b)b=f;else if(f!==b)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))="+Math.ceil(Math.log(f>b?f-b:b-f)*Math.LOG2E)+"]");}}for(var c=this.K.kN,d={oi:!1,Jo:!1,UW:0},f=0;f<c.length;f++){k=c[f];g=this.I2a.create(k);if(g){m=Date.now();t={};try{b(a.Hk);t=g(a);}catch(E){t.gX=E;}t.f9a=Date.now()-m;d[k]=t;d.oi=d.oi||t.oi;d.Jo=d.Jo||t.Jo;d.gX=d.gX||t.gX;}}return d;};c.prototype.I$=function(a){var b;a=a.Xl;b="";1E3>a.FQ&&(b+=a.mUa);1E3>a.k$&&(b=b+(""!==b?",":"")+a.xBa);1E3<=a.FQ&&1E3<=a.k$&&(b="media");return b;};d.R=c;},function(d,b,a){var c,k,g,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.zna=void 0;c=a(208);k=a(730);g=a(358);t=a(7);q=a(18);l=a(4);d=function(){var u61;u61=2;function a(a,b,d,h,m,t,n,r,u){var J61,w61,L61,f,p,y,l7V,F7V,R7V,r7V,d61;J61=2;while(J61!==32){l7V="1";l7V+="SI";l7V+="YbZrN";l7V+="JC";l7V+="p9";F7V="d";F7V+="e";F7V+="f";F7V+="ault";R7V="b";R7V+="asel";R7V+="ine";r7V="L";r7V+="R";switch(J61){case 26:J61=n&&1<n.length&&m.Gca?25:33;break;case 23:this.P8=this.bE.mZ();J61=33;break;case 34:this.bE=new g.bS(n,m,this.H);J61=23;break;case 18:h=m.rO?q.Je.dz:q.Je.ez;d&&d.Jd>=h&&d.Fa&&f&&this.F4a(d,b,f);J61=16;break;case 22:J61=L61===r7V?21:35;break;case 15:try{w61=2;while(w61!==3){switch(w61){case 4:this.Pza=y;w61=3;break;case 2:p=l.lk();y=new k(a,this.H,{bufferSize:p},m);this.Xb.w8a(y);w61=4;break;case 14:this.Pza=y;w61=0;break;w61=3;break;}}}catch(R){var K7V;K7V="Hi";K7V+="ndsight: Error when creatin";K7V+="g QoE";K7V+="Evaluator: ";m1ii.c7V(0);a.Sa.om(m1ii.B7V(R,K7V));}J61=27;break;case 25:L61=m.wob;J61=L61===R7V?24:22;break;case 24:this.bE=new g.bS(n,m,this.H);J61=23;break;case 33:m.k2&&(this.PU=this.OU=!1);J61=32;break;case 27:this.P8=!1;J61=26;break;case 16:J61=this.Lw.Bo?15:27;break;case 8:this.Xa=a;this.Za=this.H.warn.bind(this.H);this.kj=this.H.trace.bind(this.H);J61=14;break;case 35:J61=34;break;case 13:m1ii.c7V(1);d61=m1ii.a0V(19000000,999983,999983,19);this.Zya=0===Math.floor(d61*Math.random())%m.naa;this.Zp=this.LY=this.ZIa=this.cW=this.Lo=void 0;this.gma=this.DRa=this.ERa=this.fma=this.GNa=this.HNa=0;this.CU=c[F7V](m,t);b=this.Hya(d);void 0!==b&&void 0!==b.uk&&void 0!==b.Ti&&void 0!==b.vk&&(f=(b.vk-b.uk)/b.Ti);J61=18;break;case 21:this.bE=new g.Uqa(n,m,this.H);J61=23;break;case 14:this.K=m;J61=13;break;case 2:this.H=b;this.Xb=h;this.hb=r;this.Lw=u;l7V;J61=8;break;}}}while(u61!==27){switch(u61){case 2:Object.defineProperties(a.prototype,{mZ:{get:function(){var U61;U61=2;while(U61!==1){switch(U61){case 4:return this.P8;break;U61=1;break;case 2:return this.P8;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qja:{get:function(){var v61;v61=2;while(v61!==1){switch(v61){case 2:return this.Pza;break;case 4:return this.Pza;break;v61=1;break;}}},enumerable:!1,configurable:!0}});a.prototype.eRa=function(a,b,c){var e61;e61=2;while(e61!==4){switch(e61){case 2:this.Zp=a;t.V(b)||(this.ZIa=b);t.V(c)||(this.LY=c);e61=4;break;}}};u61=4;break;case 4:a.prototype.Oma=function(a){var x61;x61=2;while(x61!==5){switch(x61){case 2:this.K=a;this.CU.Oma(a);x61=5;break;}}};a.prototype.Q8=function(a,b,c,d){var f61,f,C7V,Q7V;f61=2;while(f61!==6){C7V="a";C7V+="v";C7V+="g";Q7V="i";Q7V+="q";Q7V+="r";switch(f61){case 3:return b.Fa&&c&&t.ma(d)&&b.Fa.Ca<f.UL&&d>f.z4;break;case 5:f61=a===Q7V?4:8;break;case 2:f=this.K;f61=5;break;case 4:f61=void 0!==d?3:9;break;case 9:return!1;break;case 8:f61=a===C7V?7:9;break;case 7:return b.Fa?b.Fa.Ca<f.UL:!0;break;}}};a.prototype.zmb=function(a){var P61;P61=2;while(P61!==1){switch(P61){case 2:return 1===a?this.CU.e0:this.CU.py;break;}}};a.prototype.NH=function(a){var i61;i61=2;while(i61!==1){switch(i61){case 2:this.CU.NH(a);i61=1;break;case 4:this.CU.NH(a);i61=6;break;i61=1;break;}}};a.prototype.m8a=function(a,b,c,d,h,l){var F61,f;F61=2;while(F61!==4){switch(F61){case 2:f=this.K;f.k2&&this.s6a(b)||!c||!d||!(c=l?Math.min(c,d,l):Math.min(c,d))||(this.Xb.get(),d=this.Xa.pa,a=d.vr(d.Rb,a),b.track.En()&&a>f.maa&&c===h?(f.set?(f.set({pipelineEnabled:!0}),f.set({maxParallelConnections:1}),f.set({maxActiveRequestsPerSession:2}),f.set({maxPendingBufferLen:500})):(f.Uo=!0,f.EG=1,f.Vr=2,f.ay=500),b.track.u0({type:b.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:f.sI,minRequestSize:f.NG}),this.fma++,f.k2&&(this.OU=!0)):f.Uo&&!b.En()&&(a<f.laa||c!==h)&&(f.set?(f.set({pipelineEnabled:!0}),f.set({maxParallelConnections:3}),f.set({maxActiveRequestsPerSession:3}),f.set({maxPendingBufferLen:12E3})):(f.Uo=!0,f.EG=3,f.Vr=3,f.ay=12E3),b.track.u0({type:b.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:f.sI,minRequestSize:f.NG}),this.gma++,f.k2&&(this.PU=!0)));F61=4;break;}}};a.prototype.q8a=function(a,b){var C61,c,f,d;C61=2;while(C61!==13){switch(C61){case 5:C61=this.Zya?4:13;break;case 2:c=this.K;C61=5;break;case 4:void 0===this.Pk&&(this.Pk={startTime:l.time.ea(),Pt:[],Hv:[],Tga:void 0,Mga:void 0});c=Math.floor((l.time.ea()-this.Pk.startTime)/c.VE);f=this.Pk.Mga;d=this.Pk.Tga?c-this.Pk.Tga-1:c;C61=7;break;case 6:this.Pk.Pt[d]=a,this.Pk.Hv[d]=b;C61=14;break;case 7:C61=void 0===f||c>f?6:14;break;case 14:this.Pk.Mga=c;C61=13;break;}}};a.prototype.Ivb=function(){var t61,a,D61;t61=2;while(t61!==3){switch(t61){case 5:t61=this.Lw.Bo?4:3;break;case 2:a=this.Xa;t61=5;break;case 6:t61=this.Lw.Bo?2:0;break;t61=this.Lw.Bo?4:3;break;case 4:try{D61=2;while(D61!==5){switch(D61){case 2:this.Xb.dAb();this.Pza.yc();D61=5;break;}}}catch(p){var M7V;M7V="Hindsight: Error";M7V+=" dur";M7V+="ing clea";M7V+="n up: ";m1ii.c7V(0);a.Sa.om(m1ii.a0V(p,M7V));}t61=3;break;}}};u61=13;break;case 13:a.prototype.Qvb=function(a){var l61;l61=2;while(l61!==1){switch(l61){case 2:this.K.AF&&a===q.Ma.VIDEO&&(this.gma=this.fma=this.DRa=this.ERa=this.GNa=this.HNa=0);l61=1;break;}}};a.prototype.Pvb=function(a,b){var z61;z61=2;while(z61!==1){switch(z61){case 2:a===q.Ma.VIDEO&&(this.QHb=b);z61=1;break;}}};a.prototype.kbb=function(a){var y61,b,c,f,d,h,p7V,L7V;y61=2;while(y61!==7){p7V="no";p7V+="n";p7V+="e";L7V="i";L7V+="q";L7V+="r";switch(y61){case 4:c=this.Xb.get();L7V===b.Hy&&(f=this.Hya(c),void 0!==f&&void 0!==f.uk&&void 0!==f.Ti&&void 0!==f.vk&&(d=(f.vk-f.uk)/f.Ti));h=b.rO?q.Je.dz:q.Je.ez;c&&c.Jd>=h&&this.Q8(b.Hy,c,f,d)&&(this.Lo=!0,this.cW=a.state);y61=7;break;case 5:y61=p7V!==b.Hy&&!0!==this.Lo&&a.state<=b.Nha?4:7;break;case 2:b=this.K;y61=5;break;}}};u61=10;break;case 18:a.prototype.s6a=function(a){var p61,b;p61=2;while(p61!==14){switch(p61){case 2:b=this.K;p61=5;break;case 5:p61=this.OU&&a.En()?4:3;break;case 9:p61=this.PU&&b.Uo&&!a.En()?8:7;break;case 4:return!0;break;case 8:return!0;break;case 3:this.OU&&(this.OU=!1);p61=9;break;case 7:this.PU&&(this.PU=!1);return!1;break;}}};a.prototype.Hya=function(a){var E61,c61,G7V;E61=2;while(E61!==4){G7V="td";G7V+="i";G7V+="ge";G7V+="st";switch(E61){case 2:c61=this.K.Hfa;E61=c61===G7V?1:3;break;case 1:a=a.wi;E61=5;break;case 5:return a;break;case 3:E61=9;break;case 9:a=a.aq&&a.aq.U_;E61=5;break;}}};a.prototype.F4a=function(a,b,c){var s61,f;s61=2;while(s61!==9){switch(s61){case 3:this.Q8(f.pha,a,b,c)&&(this.bqb=!0);s61=9;break;case 2:f=this.K;this.Q8(f.Hy,a,b,c)?this.Lo=!0:this.Lo=!1;this.cW=0;s61=3;break;}}};return a;break;case 10:a.prototype.N8a=function(a){var N61;N61=2;while(N61!==1){switch(N61){case 4:a.Lo=this.Lo;N61=7;break;N61=1;break;case 2:a.Lo=this.Lo;N61=1;break;}}};a.prototype.Jib=function(a){var H61,b,c,f,d,h,k,g,m,n7V,g7V;H61=2;while(H61!==21){n7V="sta";n7V+="rt";n7V+="p";n7V+="lay";g7V="lo";g7V+="g";g7V+="d";g7V+="ata";switch(H61){case 8:Object.keys(a).forEach(function(c){var M61;M61=2;while(M61!==1){switch(M61){case 4:b[c]=a[c];M61=0;break;M61=1;break;case 2:b[c]=a[c];M61=1;break;}}});h=this.Xb.get();h&&h.Fa&&(h=h.Fa.Ca);H61=14;break;case 2:b={};c=this.K;f=this.Xa;d={type:g7V,target:n7V,fields:{}};d.fields=b;H61=8;break;case 14:b.actualbw=h;b.isConserv=this.Lo;b.ccs=this.cW;b.isLowEnd=this.bqb;H61=10;break;case 18:g=function(a){var a61;a61=2;while(a61!==1){switch(a61){case 2:return t.ma(a)?Number(a).toFixed(2):-1;break;}}};h=[g(k.min||void 0),g(k.Wia||void 0),g(k.uk||void 0),g(k.Ti||void 0),g(k.vk||void 0),g(k.Xia||void 0),g(k.max||void 0)];m=[];k=t.isArray(k.kh)&&k.kh.reduce(function(a,b){var A61,c;A61=2;while(A61!==9){switch(A61){case 3:return a;break;case 2:c=g(b.ff||void 0);b=g(b.n||void 0);-1<c&&-1<b&&a.push({mean:c,n:b});A61=3;break;}}},m);H61=27;break;case 10:b.histdiscbw=this.Zp;k=this.LY;H61=19;break;case 27:b.histtdc=k;H61=26;break;case 26:b.histtd=h;H61=25;break;case 19:H61=k?18:25;break;case 22:f.emit(d.type,d);H61=21;break;case 25:b.histage=this.ZIa;c.Gca&&this.bE&&(b.ishighstable=this.P8,b.avg_avtp=this.bE.SBa,b.avg_ne=Number(this.bE.TBa).toFixed(4));f.yb&&(c=l.lk(),b.maxAudioBufferAllowedBytes=c[q.Ma.AUDIO],b.maxVideoBufferAllowedBytes=c[q.Ma.VIDEO]);H61=22;break;}}};a.prototype.Kib=function(a){var n61,b,c,f,d,h,l,k,E7V;n61=2;while(n61!==20){E7V="n";E7V+="o";E7V+="n";E7V+="e";switch(n61){case 3:d=[];[q.Ma.VIDEO,q.Ma.AUDIO].forEach(function(a){var m61,h;m61=2;while(m61!==3){switch(m61){case 2:m61=1;break;case 1:m61=b.hb(a)?5:3;break;case 7:m61=b.hb(a)?8:0;break;m61=b.hb(a)?5:3;break;case 5:h=b.Xa.dIa(a);m61=4;break;case 4:void 0!==h&&(a===q.Ma.VIDEO&&(c.AF&&(h.parallelDownloadMs=b.HNa,h.parallelDownloadBytes=b.GNa,h.singleDownloadMs=b.ERa,h.singleDownloadBytes=b.DRa,h.switchFromParallelToSingle=b.fma,h.switchFromSingleToParallel=b.gma),f&&f.Jd&&f.Fa&&(h.asetput=f.Fa,h.aseiqr=f.aq,h.tdigest=f.wi&&f.wi.vu()||void 0),f&&f.avtp&&(h.avtp=f.avtp.Ca)),d.push(h));m61=3;break;}}});a.stat=d;h=0;n61=6;break;case 6:l=0;k=0;f.Jd&&(h=f.Fa?f.Fa.Ca:0,l=f.qh?f.qh.Ca:0,k=f.$p?f.$p.Ca:0);a.location={responseTime:l,httpResponseTime:k,bandwidth:h,confidence:f.Jd,name:this.QHb};n61=11;break;case 2:b=this;c=this.K;f=this.Xb.get();n61=3;break;case 11:this.Zya&&(a.bt={startTime:this.Pk.startTime,audioMs:this.Pk.Pt,videoMs:this.Pk.Hv},this.Pk.Pt=[],this.Pk.Hv=[],this.Pk.Tga=this.Pk.Mga);E7V!==c.Hy&&(a.isConserv=this.Lo,a.ccs=this.cW);n61=20;break;}}};u61=18;break;}}}();b.zna=d;},function(d,b,a){var c,k;Object.defineProperty(b,"__esModule",{value:!0});b.d5=void 0;c=a(13);k=a(229);d=function(){function a(a,b,c,d,f,k,g,m,n,r,G){void 0===c&&(c=0);this.Wc=a;this.QU=b;this.S=c;this.ja=d;this.OX=f;this.Pf=k;this.YF=g;this.config=m;this.H=n;this.Sa=r;this.yib=G;this.Ur=0;}a.create=function(b){var h,f,g,m,t,n,r,G,u,C,X,P,aa,R,A,T;function d(a){return u.Ya.$r[a];}function l(a){c.Ha(u,a.type,a);}h=b.Va;f=b.va;g=b.KQa;m=b.S;t=b.ja;n=b.Nr;r=b.vm;G=b.Sa;u=b.rb;C=b.config;X=b.H;P=b.af;aa=b.vl;R=b.Oe;A=b.Nx;T=new k.WQ({oa:Number(f.movieId),Va:h,va:f,yk:b.yk,hb:b.hb,Sha:{jZ:b.xf,tga:!!b.LJa},Ii:b.Ii,Gp:b.Gp,config:C,PP:C.QA?{OB:u.Rk.OB,ga:u.Rk.ga,qx:u.Rk.qx,om:G.om.bind(G),Vp:d}:void 0,wfa:{Lc:P.ii.bind(P),Oe:R,Nx:A,ol:l,gZ:function(a){return a===u.pa.Rb.P;},hY:function(a,b,c,f,d){a=u.Ya.He[a];return!b||c||f||d?u.nK:a.um;},Vp:d,Pf:u.Pf.bind(u)},WG:function(a){u.emit("requestComplete",{timestamp:a.$c,mediaRequest:a});},NM:function(){return u.qf;},tb:u.yb.tb,zf:u.yb.zf,Tca:{Nr:n,Cg:function(a,b,c,f,d){u.Vk(a,h,b,c,f,d);},Ko:function(){return u.CE;},qG:u.W.xg.bind(u.W),vm:r,ol:l},gC:void 0});T.Mx.on("onHeaderFragments",function(a){var b,c,f,d,l;b=a.M;c=a.sa;f=a.stream.$;d=u.Pf(h);if(d){if(T.dg[b]&&a!==T.dg[b])a.Er&&(d=T.dg[b],a=a.stream,l=d&&d.stream,X.warn("first header received for non-current track (trackId "+a.ab+"streamId "+a.sa+"), expected track "+(l&&l.ab)+", stream "+(l&&l.sa)+", "+d));else{T.dg[b]=a;a=u.pa.Rb;if(0===h){l=T.hb(1)?a.pe(1).Hb:a.pe(0).Hb;a.RV(l,T);}d.ZO=!1;d.PV();u.gV();}aa.D8();G.J5a(h,b,c,T.G,f);P.ii();}else X.warn("addFragments for stale manifestIndex:",h);});T.Mx.on("onHeaderRequestComplete",function(a){var b,c;a.sj?u.gV():a.sx&&(X.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),u.QW(a.G));b=a.M;c=Object.getOwnPropertyNames(A.cr[b]);u.rf[b].NMa(a.stream,1===c.length&&c[0]===a.sa);P.pya();u.FAb();});T.Mx.on("onHeaderFromCache",function(a){var b;b=a.Eo;a=a.ljb;b.sj&&u.gV();a&&G.A5a(b.G,b.sa);});return new a(T,g,m,t,function(){return u.pa;},u.Pf.bind(u),u.YF.bind(u),C,X,G,!1);};Object.defineProperties(a.prototype,{P:{get:function(){return this.Wc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Va:{get:function(){return this.P.Va;},enumerable:!1,configurable:!0}});a.prototype.am=function(a){return this.Wc.tnb(a,this.UX(a));};a.prototype.UX=function(a){return this.QU[a];};a.prototype.yc=function(){this.Wc.yc();delete this.Wc;};a.prototype.clone=function(){return new a(this.P,this.QU,this.S,this.ja,this.OX,this.Pf,this.YF,this.config,this.H,this.Sa,!0);};a.prototype.Nma=function(a){this.H.trace("updateAudioTrack:",this.QU[0],"->",a);this.QU[0]=a;};a.prototype.vHa=function(){return void 0!==this.hy?this.hy:this.ja?this.ja:this.Wc.va.duration;};a.prototype.Jab=function(a,b){var c,d,f,k;c=this.Wc.dg[1];if(c&&c.stream.Bd){if(this.su&&this.su[1]&&this.su[1].S<=a&&this.su[1].ja>a)return this.su[1].qc;d=c.stream.$;f=d.Yl(a,void 0,!0);k=void 0;b&&(a=c.stream.mi(f).qX(a))&&(k=a.Rc);void 0===k&&(k=d.Rh(f));return k;}};a.prototype.PV=function(){var a,b;if(!this.ZO&&this.KIa()){this.Bia();b=[0,0];0===this.Va||this.Wc.re.aO||this.Wc.re.replace||(a=this.Pf(this.Va-1),a=this.Wc.G===a.Wc.G,b=this.OX().Rb,a=b.RV(this.S,this.P,b,a),b=a.sH);this.S=b[1];this.sH=b;this.su=a&&a.su;this.wCa();a=this.Wc.hb(1)?this.Wc.dg[1].stream.$.ja:this.Wc.dg[0].stream.$.ja;this.Sa.F5a(this.Va,this.Ur,this.S,this.hy,a);this.ZO=!0;for(a=this.Va+1;a<this.YF();++a)b=this.Pf(a),b.ZO=!1,b.PV();}};a.prototype.wCa=function(){var a;if(0===this.Va||this.Wc.re.replace)this.Ur=0;else{a=this.Pf(this.Va-1);this.Ur=a.Ur+a.vHa()-this.S;}};a.prototype.Bia=function(){var a,b,c,d;if(this.KIa()){a=this.OX().Rb;b=this.ja||Infinity;c=this.Wc.hb(1);d=a.FM(b,this.P);this.hy=c?d[1].ja:d[0].ja;this.Sa.H5a(this.Va,this.hy,c?this.Wc.dg[1].stream.$.ja:this.Wc.dg[0].stream.$.ja);a=this.OX().jda(this.Va);0<a.length&&a.forEach(function(a){a.AGb(d,b);});}};a.prototype.KIa=function(){var a,b,c,d;a=this.Wc.hb(0);b=this.Wc.hb(1);c=this.Wc.dg[0];d=this.Wc.dg[1];c=c&&c.stream.Bd;d=d&&d.stream.Bd;return(!a||c)&&(!b||d);};return a;}();b.d5=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$va=void 0;d=function(){function a(a,b,d,g,q,l,h,f,p,n){var c;c=this;this.id=a;this.P=b;this.S=d;this.jM=q;this.qj=l;this.Av=h;this.M1=f;this.yk=p;this.ke=n;this.nY=function(a){var b,f;return(null===(f=null===(b=c.qj)||void 0===b?void 0:b[a])||void 0===f?void 0:f.UFb)||c.ke;};this.ja=g||Infinity;}Object.defineProperties(a.prototype,{oa:{get:function(){return this.P.oa;},enumerable:!1,configurable:!0}});a.prototype.UGa=function(){var a,b,d;a=this;d=Object.keys(this.qj||{}).filter(function(b){var c,d;return!(null===(d=null===(c=a.qj)||void 0===c?void 0:c[b])||void 0===d||!d.weight);});return d.length?null!==(b=d.map(this.nY).reduce(function(a,b){return a===b?b:void 0;}))&&void 0!==b?b:this.ke:this.ke;};a.prototype.toString=function(){return"segmentId: "+this.id+" playlistSegmentId: "+this.yk+" viewableId: "+this.P.oa+" pts: "+this.S+"-"+this.ja+" defaultKey: "+this.jM+" dests: "+JSON.stringify(this.qj)+" terminal: "+!!this.Av;};a.prototype.toJSON=function(){return{id:this.id,viewable:this.P.oa,"startPts:":this.S,endPts:this.ja,defaultKey:this.jM,"dests:":this.qj,terminal:!!this.Av,playlistSegmentId:this.yk};};return a;}();b.$va=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sra=void 0;d=function(){function a(a,b,d,g,q,l,h,f){this.fd=a;this.hCa=b;this.config=d;this.console=g;this.M=q;this.Sa=l;this.Ja=h;this.rb=f;this.Tn=this.Gg=!1;}a.prototype.$E=function(a,b){!this.fd.ia.Av||this.rb.jE||this.rb.BU&&!this.config.G$||(a-=this.fd.wc,this.Gg&&!this.Tn&&a+this.config.oFb>=b&&0===this.Ja.hv&&0===this.Ja.Is&&0===this.Ja.Wyb&&(b=this.rb.xd.P.Va,a=this.rb.YF(),b+1<a||(this.hCa[this.M].mSa||this.Sa.x5a(this.M),this.Tn=!0,this.hCa[this.M].C_())));};return a;}();b.Sra=d;},function(d,b,a){var c,k,g,t,q,l,h,f,p,n,r,u,E,G,N,C,X,P,aa,R,A,T,z,fa,U,la,O,F,M,ya,Q,S,ga,Ga,Fa;Object.defineProperty(b,"__esModule",{value:!0});b.dwa=void 0;c=a(24);k=a(7);g=a(363);t=a(162);q=a(732);l=a(157);h=a(20);f=a(409);p=a(230);n=a(217);r=a(731);u=a(369);E=a(213);G=a(723);N=a(721);C=a(4);X=C.Promise;P=C.MediaSource;aa=a(13);R=a(6);A=a(362);T=a(720);z=a(160);fa=a(719);U=a(718);la=a(717);O=a(716);F=a(73);M=a(715);ya=a(714);Q=a(383);S=a(713);d=a(45);ga=a(381);Ga=a(711);Fa=a(376);a=function(){var f7V;f7V=2;while(f7V!==116){switch(f7V){case 29:a.prototype.close=function(){var n9V;n9V=2;while(n9V!==4){switch(n9V){case 2:this.XQa.close();this.mc.forEach(function(a){var E9V;E9V=2;while(E9V!==1){switch(E9V){case 4:a.P.close();E9V=8;break;E9V=1;break;case 2:a.P.close();E9V=1;break;}}});this.cq.close();n9V=4;break;}}};a.prototype.KPa=function(){var f9V;f9V=2;while(f9V!==1){switch(f9V){case 4:this.yb.L6a(this);f9V=4;break;f9V=1;break;case 2:this.yb.L6a(this);f9V=1;break;}}};a.prototype.yc=function(){var O9V,a,F5r;O9V=2;while(O9V!==10){F5r="Error on ";F5r+="Medi";F5r+="a";F5r+="Source destroy: ";switch(O9V){case 1:this.qf.Ivb();this.IT();this.pa.vn();this.tM.K3a();O9V=9;break;case 9:null===(a=this.ct)||void 0===a?void 0:a.reset();this.gr.forEach(function(a){var u9V;u9V=2;while(u9V!==1){switch(u9V){case 2:a.reset();u9V=1;break;case 4:a.reset();u9V=3;break;u9V=1;break;}}});O9V=7;break;case 2:O9V=1;break;case 7:this.W.Zd(h.na.Nm);this.p3a();this.Kf.clear();a=this.Ye;O9V=12;break;case 12:this.Ye=void 0;O9V=11;break;case 11:k.V(a)||a.un()||this.Za(F5r,a.error);O9V=10;break;}}};a.prototype.suspend=function(){var D9V;D9V=2;while(D9V!==1){switch(D9V){case 4:this.cq.suspend();D9V=5;break;D9V=1;break;case 2:this.cq.suspend();D9V=1;break;}}};a.prototype.resume=function(){var j9V;j9V=2;while(j9V!==1){switch(j9V){case 2:this.cq.resume();j9V=1;break;case 4:this.cq.resume();j9V=6;break;j9V=1;break;}}};a.prototype.We=function(){var U9V;U9V=2;while(U9V!==1){switch(U9V){case 2:return this.cq.We();break;case 4:return this.cq.We();break;U9V=1;break;}}};a.prototype.m7a=function(){var v9V,a;v9V=2;while(v9V!==7){switch(v9V){case 2:a=this.K;this.Pw&&clearTimeout(this.Pw);v9V=4;break;case 4:this.Pw=setTimeout(this.XK.bind(this),a.V1);this.BT||(this.BT=setInterval(this.Sa.qza.bind(this.Sa),a.VE));this.$U||(this.$U=setInterval(this.Sa.T5a.bind(this.Sa),a.Yla));this.ss&&!this.xT&&(this.xT=setInterval(this.Sa.pza.bind(this.Sa),a.R$));v9V=7;break;}}};a.prototype.IT=function(){var d9V;d9V=2;while(d9V!==7){switch(d9V){case 3:this.OD&&(clearTimeout(this.OD),this.OD=void 0);this.x8&&(clearTimeout(this.x8),this.x8=void 0);d9V=8;break;case 2:this.Pw&&(clearTimeout(this.Pw),this.Pw=void 0);this.BT&&(clearInterval(this.BT),this.BT=void 0);this.$U&&(clearInterval(this.$U),this.$U=void 0);this.xT&&(clearInterval(this.xT),this.xT=void 0);d9V=3;break;case 8:this.af.IT();d9V=7;break;}}};a.prototype.play=function(){var I9V;I9V=2;while(I9V!==1){switch(I9V){case 4:this.cq.play();I9V=7;break;I9V=1;break;case 2:this.cq.play();I9V=1;break;}}};a.prototype.stop=function(){var k9V;k9V=2;while(k9V!==1){switch(k9V){case 2:this.cq.stop();k9V=1;break;case 4:this.cq.stop();k9V=4;break;k9V=1;break;}}};a.prototype.yy=function(a,b,c){var S9V;S9V=2;while(S9V!==5){switch(S9V){case 2:c&&(R.assert(void 0===b),b=this.cY(c));return this.vl.yy(a,b);break;}}};f7V=54;break;case 12:Object.defineProperties(a.prototype,{TN:{get:function(){var h7V;h7V=2;while(h7V!==1){switch(h7V){case 2:return this.jE;break;case 4:return this.jE;break;h7V=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{VB:{get:function(){var b7V;b7V=2;while(b7V!==1){switch(b7V){case 2:return this.BU;break;case 4:return this.BU;break;b7V=1;break;}}},enumerable:!1,configurable:!0}});a.prototype.hb=function(a){var w7V;w7V=2;while(w7V!==1){switch(w7V){case 2:return this.x7a[a];break;case 4:return this.x7a[a];break;w7V=1;break;}}};a.prototype.PM=function(){var m7V;m7V=2;while(m7V!==1){switch(m7V){case 2:return C.time.ea()-this.e8;break;case 4:return C.time.ea()%this.e8;break;m7V=1;break;}}};a.prototype.lRa=function(a){var e7V;e7V=2;while(e7V!==1){switch(e7V){case 4:this.CE=a;e7V=0;break;e7V=1;break;case 2:this.CE=a;e7V=1;break;}}};a.prototype.FHa=function(){var V7V;V7V=2;while(V7V!==1){switch(V7V){case 2:return(this.mc||[]).reduce(function(a,b){var P7V,c;P7V=2;while(P7V!==3){switch(P7V){case 2:c=b.P;p.pf.forEach(function(b){var N7V;N7V=2;while(N7V!==1){switch(N7V){case 2:c.gq[b]>a[b]&&(a[b]=c.gq[b]);N7V=1;break;}}});return a;break;}}},[0,0]);break;}}};a.prototype.DG=function(){var A7V,a;A7V=2;while(A7V!==3){switch(A7V){case 2:a=0;k.forEach(this.xd.P.va.audio_tracks,function(b){var J7V;J7V=2;while(J7V!==1){switch(J7V){case 2:k.forEach(b.streams,function(b){var W7V;W7V=2;while(W7V!==1){switch(W7V){case 2:a=Math.max(a,b.bitrate);W7V=1;break;}}});J7V=1;break;}}});return a;break;}}};a.prototype.Pf=function(a){var Y7V;Y7V=2;while(Y7V!==1){switch(Y7V){case 4:return this.mc[a];break;Y7V=1;break;case 2:return this.mc[a];break;}}};a.prototype.Elb=function(){var t7V,a;t7V=2;while(t7V!==4){switch(t7V){case 2:a=this.mc[0];return a.P.re.xf?this.mc[1]:a;break;}}};a.prototype.YF=function(){var Z7V;Z7V=2;while(Z7V!==1){switch(Z7V){case 4:return this.mc.length;break;Z7V=1;break;case 2:return this.mc.length;break;}}};a.prototype.kga=function(a,b){var z7V;z7V=2;while(z7V!==9){switch(z7V){case 1:return!0;break;case 5:a=this.mc[a];b=this.mc[b];return a.P.re.xf&&b.P.re.aO||b.P.re.xf&&a.P.re.aO;break;case 2:z7V=a===b?1:5;break;}}};f7V=25;break;case 2:Object.defineProperties(a.prototype,{addEventListener:{get:function(){var v7V;v7V=2;while(v7V!==1){switch(v7V){case 2:return this.addListener.bind(this);break;case 4:return this.addListener.bind(this);break;v7V=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{removeEventListener:{get:function(){var d7V;d7V=2;while(d7V!==1){switch(d7V){case 4:return this.removeListener.bind(this);break;d7V=1;break;case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ctb:{get:function(){var I7V;I7V=2;while(I7V!==1){switch(I7V){case 4:return this.Ye.xc;break;I7V=1;break;case 2:return this.Ye.xc;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qo:{get:function(){var k7V;k7V=2;while(k7V!==1){switch(k7V){case 2:return this.hb(0);break;case 4:return this.hb(7);break;k7V=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ik:{get:function(){var S7V;S7V=2;while(S7V!==1){switch(S7V){case 2:return this.hb(1);break;case 4:return this.hb(3);break;S7V=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{attributes:{get:function(){var x7V;x7V=2;while(x7V!==1){switch(x7V){case 4:return this.W7;break;x7V=1;break;case 2:return this.W7;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pk:{get:function(){var q7V;q7V=2;while(q7V!==1){switch(q7V){case 4:return this.Kf;break;q7V=1;break;case 2:return this.Kf;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{SO:{get:function(){var i7V;i7V=2;while(i7V!==1){switch(i7V){case 2:return 0<=this.mU?this.mU:0;break;case 4:return 1<this.mU?this.mU:3;break;i7V=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xd:{get:function(){var s7V;s7V=2;while(s7V!==1){switch(s7V){case 2:return this.mc[this.kE];break;case 4:return this.mc[this.kE];break;s7V=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hp:{get:function(){var o7V;o7V=2;while(o7V!==1){switch(o7V){case 4:return this.yb.hp;break;o7V=1;break;case 2:return this.yb.hp;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ss:{get:function(){var T7V;T7V=2;while(T7V!==1){switch(T7V){case 4:return this.U6a;break;T7V=1;break;case 2:return this.U6a;break;}}},enumerable:!1,configurable:!0}});f7V=12;break;case 25:a.prototype.eY=function(){var X7V;X7V=2;while(X7V!==1){switch(X7V){case 4:return this.pa.zk.ia.id;break;X7V=1;break;case 2:return this.pa.zk.ia.id;break;}}};a.prototype.QX=function(a){var y7V;y7V=2;while(y7V!==5){switch(y7V){case 2:y7V=(a=this.pa.zk.children[a])?1:5;break;case 1:return{wc:a.wc,qc:a.qc,se:a.se,Yb:a.Yb,wd:a.wd};break;}}};a.prototype.dY=function(){var a7V,a;a7V=2;while(a7V!==4){switch(a7V){case 2:a=this.pa.zk;return{id:a.ia.id,wc:a.wc,qc:a.qc,se:a.se,Yb:a.Yb,wd:a.wd};break;}}};a.prototype.R1=function(a,b){var B9V;B9V=2;while(B9V!==1){switch(B9V){case 2:return this.pa.R1(a,b);break;case 4:return this.pa.R1(a,b);break;B9V=1;break;}}};a.prototype.p3a=function(){var c9V,a,b;c9V=2;while(c9V!==9){switch(c9V){case 1:c9V=b<this.mc.length?5:3;break;case 5:a=this.mc[b],a.yc();c9V=4;break;case 3:this.mc.length=0;c9V=9;break;case 4:++b;c9V=1;break;case 2:b=0;c9V=1;break;}}};a.prototype.open=function(){var H9V,a,b,c,f,d,h,l,g,p,m,J6r,p6r,m5r,T5r,X5r,h5r,I5r,l5r,U5r,P5r,R5r;H9V=2;while(H9V!==28){J6r="NFErr";J6r+="_MC_StreamingI";J6r+="nitFailure";p6r="except";p6r+="ion ";p6r+="in init";m5r="E";m5r+="r";m5r+="ro";m5r+="r";m5r+=":";T5r="NFEr";T5r+="r_MC_StreamingI";T5r+="nitFailure";X5r="startPts must be a pos";X5r+="it";X5r+="ive number,";X5r+=" not ";h5r="creat";h5r+="eMedi";h5r+="aSource";h5r+="End";I5r="Er";I5r+="ro";I5r+="r";I5r+=":";l5r="s";l5r+="tar";l5r+="tpla";l5r+="y";U5r="lo";U5r+="gda";U5r+="t";U5r+="a";P5r="cr";P5r+="e";P5r+="ateMediaSou";P5r+="rceSt";P5r+="art";R5r="he";R5r+="ad";R5r+="ers";switch(H9V){case 16:H9V=1===p.readyState?15:29;break;case 3:b=this.K;c=this.xd.P;f=c.G;d=[];h=[R5r];this.Ik&&(d.push(1),h.push(1));this.qo&&(d.push(0),h.push(0));H9V=12;break;case 12:this.tM.E4a();l=b.gL;this.yb.Oe&&this.yb.Oe.hL(l,this.Rk.sessionId);g=this.tM.x3a(h,c);h.forEach(function(b,c){var r9V,u5r;r9V=2;while(r9V!==1){u5r="he";u5r+="a";u5r+="ders";switch(r9V){case 2:u5r===b?a.nK=g[c]:a.Ya.He[b].um=g[c];r9V=1;break;}}});this.Sa.Yj(P5r);H9V=17;break;case 31:c={type:U5r,target:l5r,fields:{audiogapconfig:b.LG,audiogapdpi:this.Ye.xc&&this.Ye.xc.LG,aseApiVersion:this.vV}};this.emit(c.type,c);H9V=28;break;case 17:p=new P(this.W.OL);H9V=16;break;case 24:throw this.kj(I5r,p.error),p.error;H9V=23;break;case 15:this.Sa.Yj(h5r);p.xc||(p.xc=P.xc);this.Ye=p;H9V=25;break;case 2:a=this;H9V=5;break;case 5:H9V=!k.ma(this.TU)||0>this.TU?4:3;break;case 23:p.sourceBuffers.forEach(function(c){var K9V,f,d,L5r,q5r,G5r,f5r,e5r;K9V=2;while(K9V!==11){L5r="manag";L5r+="e";L5r+="rdebugeve";L5r+="n";L5r+="t";q5r="log";q5r+="d";q5r+="at";q5r+="a";G5r="e";G5r+="r";G5r+="r";G5r+="o";G5r+="r";f5r="reques";f5r+="tAp";f5r+="p";f5r+="end";f5r+="ed";e5r="header";e5r+="Appe";e5r+="nded";switch(K9V){case 13:a.rf[f]=c;a.gr[f]=d;K9V=11;break;case 2:f=c.M;d=a.Ya.He[f];c=new E.O2(d.H,f,p,c,b,a.W,a.Pf.bind(a));K9V=3;break;case 3:d=new T.Qra(c,f,a.pa,a.K,d.H);c.addListener(e5r,a.t4a.bind(a));c.addListener(f5r,a.w4a.bind(a));c.addListener(G5r,function(b){var R9V,H5r;R9V=2;while(R9V!==1){H5r="NFE";H5r+="rr";H5r+="_MC_Streamin";H5r+="gFa";H5r+="ilure";switch(R9V){case 2:a.Vk(b.errorstr,void 0,H5r);R9V=1;break;}}});c.addListener(q5r,function(b){var F9V;F9V=2;while(F9V!==1){switch(F9V){case 2:aa.Ha(a,b.type,b);F9V=1;break;case 4:aa.Ha(a,b.type,b);F9V=9;break;F9V=1;break;}}});b.$f&&c.addListener(L5r,function(b){var l9V;l9V=2;while(l9V!==1){switch(l9V){case 2:aa.Ha(a,b.type,b);l9V=1;break;case 4:aa.Ha(a,b.type,b);l9V=6;break;l9V=1;break;}}});K9V=13;break;}}});this.ct=new ga.PS(this.gr,this.wE.bind(this),this.W.Xd.bind(this.W));this.ss&&this.Sa.r5a();c=this.FHa();this.Sa.rza(c);m=function(){var Q9V,o5r;Q9V=2;while(Q9V!==5){o5r="shutdown";o5r+=" d";o5r+="etected be";o5r+="fore startReque";o5r+="sts";switch(Q9V){case 2:a.Sa.I5a();a.We()?a.Za(o5r):a.r7a();Q9V=5;break;}}};b.Wfb?setTimeout(function(){var C9V;C9V=2;while(C9V!==1){switch(C9V){case 2:a.Xxa(f).then(m);C9V=1;break;case 4:a.Xxa(f).then(m);C9V=5;break;C9V=1;break;}}},0):this.Xxa(f).then(function(){var M9V;M9V=2;while(M9V!==1){switch(M9V){case 2:setTimeout(m,0);M9V=1;break;case 4:setTimeout(m,5);M9V=8;break;M9V=1;break;}}});H9V=31;break;case 25:H9V=!p.sV(d)?24:23;break;case 4:this.Vk(X5r+this.TU,void 0,T5r);H9V=28;break;case 29:this.kj(m5r,p.error),this.Vk(p6r,void 0,J6r);H9V=28;break;}}};Object.defineProperties(a.prototype,{vV:{get:function(){var L9V,b6r;L9V=2;while(L9V!==1){b6r="1";b6r+=".";b6r+="0";switch(L9V){case 4:return"";break;L9V=1;break;case 2:return b6r;break;}}},enumerable:!1,configurable:!0}});a.prototype.Pea=function(){};a.prototype.flush=function(){var p9V;p9V=2;while(p9V!==1){switch(p9V){case 4:this.cq.flush();p9V=0;break;p9V=1;break;case 2:this.cq.flush();p9V=1;break;}}};a.prototype.paused=function(){var G9V;G9V=2;while(G9V!==1){switch(G9V){case 4:this.W.paused();G9V=7;break;G9V=1;break;case 2:this.W.paused();G9V=1;break;}}};a.prototype.xQ=function(){var g9V;g9V=2;while(g9V!==1){switch(g9V){case 2:this.W.xQ();g9V=1;break;case 4:this.W.xQ();g9V=9;break;g9V=1;break;}}};f7V=29;break;case 64:a.prototype.fV=function(a){var Z9V,b;Z9V=2;while(Z9V!==14){switch(Z9V){case 2:Z9V=1;break;case 1:Z9V=!this.Yxa(a)?5:4;break;case 4:b=this.mc[a];Z9V=3;break;case 5:return!1;break;case 3:Z9V=b.yib||!b.P.re.replace?9:8;break;case 8:this.y7a(a);Z9V=7;break;case 9:return!1;break;case 7:this.af.ii();return!0;break;}}};a.prototype.y7a=function(a){var z9V,b,c,f,d,h,r6r,t6r,y6r;z9V=2;while(z9V!==17){r6r=",";r6r+=" ";t6r=", stre";t6r+="am";t6r+="ing";t6r+="Pt";t6r+="s: ";y6r="switchMani";y6r+="fest";y6r+=" manifestIn";y6r+="dex: ";switch(z9V){case 4:f=c.pe(0);f=f?f.Hb:void 0;z9V=9;break;case 2:b=this.mc[a];c=this.pa.Rb;z9V=4;break;case 9:d=c.pe(1);d=d?d.Hb:void 0;this.K.$f&&this.Sa.Ri(y6r+a+t6r+f+r6r+d);f=this.xd;d=f.P.re.xf;h=[];[1,0].forEach(function(a){var X9V;X9V=2;while(X9V!==1){switch(X9V){case 2:b.P.hb(a)&&(h[a]=b.am(a));X9V=1;break;}}});z9V=11;break;case 18:this.af.ii();z9V=17;break;case 11:d?this.pa.uAb(f.P,b.P,h):c.sRa(b.P,h);this.$ya(a);b.Bia();this.vl.D8();z9V=18;break;}}};a.prototype.eNa=function(){var y9V,a,b,c,f,s6r,S6r;y9V=2;while(y9V!==12){s6r="onAudioTrackSwitchStarted ignored, no";s6r+=" audio ";s6r+="pipeline";S6r="onAudioTrackSwitchSt";S6r+="arte";S6r+="d but current playing request not found";switch(y9V){case 4:y9V=b?3:13;break;case 2:a=this.pa.Rb;b=a.pe(0);y9V=4;break;case 7:this.y6a(b);f.uI=!1;this.af.ii();y9V=12;break;case 3:c=this.W.Xd();f=this.Ya.He[b.M];(a=this.pa.Dr(c,a,0))?b=a.Ja:(this.Za(S6r),b=b.Ja);y9V=7;break;case 13:this.Za(s6r);y9V=12;break;}}};a.prototype.rSa=function(a){var a9V,b,c,f,d,h,V6r,B6r,Z6r,N6r,O6r,w6r,x6r,M6r;a9V=2;while(a9V!==21){V6r="swi";V6r+="tchTra";V6r+="cks rejected, previous sw";V6r+="itch still in progress: ";B6r=" ";B6r+="to";B6r+=":";B6r+=" ";Z6r="sw";Z6r+="itchTra";Z6r+="cks current: ";N6r="switchTr";N6r+="acks re";N6r+="jecte";N6r+="d, ";N6r+="audio disabled";O6r="switchTracks rejected,";O6r+=" previo";O6r+="us switch still wait";O6r+="ing to start";w6r="switchTracks can't f";w6r+="i";w6r+="nd trac";w6r+="kId";w6r+=":";x6r="switc";x6r+="hTrack";x6r+="s rejected, bufferLevelMs";M6r="switc";M6r+="hT";M6r+="racks ";M6r+="rejected, buffering";switch(a9V){case 7:return this.Za(M6r),!1;break;case 20:return this.Za(x6r,d,"<",b.h_),!1;break;case 16:return this.Za(w6r,a),!1;break;case 5:a9V=!this.qo?4:3;break;case 2:b=this.K;a9V=5;break;case 8:a9V=this.W.xg()?7:6;break;case 10:a9V=d<b.h_?20:19;break;case 17:a9V=!d?16:15;break;case 14:a9V=c.uI?13:12;break;case 13:return this.Za(O6r),!1;break;case 15:h=this.xd.am(0).ab;a9V=27;break;case 27:a9V=h===d.ab?26:25;break;case 4:return this.Za(N6r),!1;break;case 25:b.$f&&this.Sa.Ri(Z6r+h+B6r+d.ab);c.v_={ab:a};this.q7a(f.pe(0));a9V=22;break;case 12:f=this.pa.Rb;d=this.pa.vr(f,1);a9V=10;break;case 19:a=a.qA;d=this.xd.P.getTrackById(a);a9V=17;break;case 3:a9V=this.Ya.Qt?9:8;break;case 6:c=this.Ya.He[0];a9V=14;break;case 22:return!0;break;case 9:return this.Za(V6r+JSON.stringify(this.Ya.Qt)),!1;break;case 26:return!1;break;}}};a.prototype.pC=function(a,b){var B8V,c,d;B8V=2;while(B8V!==9){switch(B8V){case 4:void 0!==b&&(d=this.Rlb(b));void 0!==d?this.Pf(d).am(1).Ac.forEach(function(a){var c8V,b;c8V=2;while(c8V!==4){switch(c8V){case 2:b=f.kL(a.Nf,a.O,c.XJ,c.H);F(b,a);c8V=4;break;}}}):this.pa.pC(this.XJ);B8V=9;break;case 2:c=this;this.XJ=a;B8V=4;break;}}};a.prototype.Dr=function(a,b,c){var H8V;H8V=2;while(H8V!==1){switch(H8V){case 2:return this.pa.Dr(a,this.pa.zk,b,c);break;}}};a.prototype.Zt=function(a){var r8V;r8V=2;while(r8V!==1){switch(r8V){case 4:return this.vl.Zt(a);break;r8V=1;break;case 2:return this.vl.Zt(a);break;}}};a.prototype.fX=function(a,b){var K8V,R8V,c,f;K8V=2;while(K8V!==14){switch(K8V){case 7:b=f.Akb();try{R8V=2;while(R8V!==1){switch(R8V){case 4:this.Sa.B5a(b);R8V=0;break;R8V=1;break;case 2:this.Sa.B5a(b);R8V=1;break;}}}catch(Ia){var d6r,A6r;d6r="]";d6r+=" ";d6r+="[";A6r="ex";A6r+="cept";A6r+="i";A6r+="on: [";this.H.error(A6r+Ia.message+d6r+Ia.mVb+"]");}K8V=14;break;case 9:K8V=b?8:7;break;case 8:c.xka();K8V=14;break;case 2:c=this.Ya;a=c.ida(a,b);K8V=4;break;case 4:f=this.qf.Qja;a&&!a.ME&&f.Vca(a);K8V=9;break;}}};a.prototype.xCa=function(a,b,c,f){var F8V;F8V=2;while(F8V!==4){switch(F8V){case 2:f&&(R.assert(void 0===b),b=this.cY(f));m1ii.c5r(1);R.assert(m1ii.k5r(0,b));return this.mc[b].Jab(a,c||!1);break;}}};a.prototype.zr=function(a,b,c){var l8V,f;l8V=2;while(l8V!==8){switch(l8V){case 2:c&&(R.assert(void 0===a),a=this.cY(c),R.assert(void 0!==a));void 0===a&&(a=this.SO);(c=this.pa.Rib(b,a))?f=c.wc:(c=this.pa.jda(a),0<c.length&&(c=c[0],f=c.wc));l8V=3;break;case 3:k.ma(f)||(f=this.mc[a].Ur);m1ii.a5r(2);return m1ii.W5r(f,b);break;}}};a.prototype.YL=function(a,b,c){var Q8V,f;Q8V=2;while(Q8V!==8){switch(Q8V){case 2:c&&(R.assert(void 0===a),a=this.cY(c),R.assert(void 0!==a));void 0===a&&(a=this.SO);Q8V=4;break;case 4:(c=this.pa.Qib(b,a))?f=c.wc:(c=this.pa.jda(a),0<c.length&&(c=c[0],f=c.wc));k.ma(f)||(f=this.mc[a].Ur);Q8V=9;break;case 9:m1ii.a5r(0);return m1ii.W5r(f,b);break;}}};f7V=76;break;case 54:a.prototype.seek=function(a,b){var x9V;x9V=2;while(x9V!==1){switch(x9V){case 4:return this.vl.seek(a,b);break;x9V=1;break;case 2:return this.vl.seek(a,b);break;}}};a.prototype.uTa=function(a){var q9V,b,c,f,d,l,o9V,W6r,C6r,i6r,E6r,z6r;q9V=2;while(q9V!==26){W6r="und";W6r+="e";W6r+="r";W6r+="flo";W6r+="w";C6r="branc";C6r+="hOf";C6r+="f";C6r+="set:";i6r="entry";i6r+=".m";i6r+="anifestOffset:";E6r="con";E6r+="te";E6r+="n";E6r+="t";E6r+="Pts:";z6r="underflow";z6r+=": going to BUFFERI";z6r+="NG at";z6r+=" player pts";z6r+=":";switch(q9V){case 2:b=this;c=this.K;f=this.zr(this.SO,a);q9V=3;break;case 3:this.Za(z6r,a,E6r,f,i6r,this.xd.Ur,C6r,this.pa.wc);Fa.h7.AAb();d=c.Wu;this.rf.forEach(function(b){var i9V;i9V=2;while(i9V!==1){switch(i9V){case 2:d=Math.max(0,Math.min(d,b.uea-a));i9V=1;break;}}});this.B9+=1;q9V=14;break;case 14:this.pa.Rb.Qma(f);l=this.pa.Rb;p.pf.forEach(function(f){var s9V,d,h,k,k6r,Q6r,v6r,n6r,K6r,g6r,Y6r,j6r,D6r;s9V=2;while(s9V!==14){k6r=", toA";k6r+="ppen";k6r+="d: ";Q6r=", frag";Q6r+="ments";Q6r+=": ";v6r=", completeSt";v6r+="rea";v6r+="min";v6r+="gP";v6r+="ts: ";n6r=", st";n6r+="re";n6r+="a";n6r+="ming";n6r+="Pts: ";K6r=", p";K6r+="art";K6r+="i";K6r+="a";K6r+="ls: ";g6r=", c";g6r+="ompletedBytes";g6r+=":";g6r+=" ";Y6r=", com";Y6r+="pl";Y6r+="etedMs: ";j6r=", medi";j6r+="a";j6r+="Ty";j6r+="p";j6r+="e: ";D6r="underfl";D6r+="o";D6r+="w: ";switch(s9V){case 5:s9V=d?4:14;break;case 2:d=l.Ic(f);s9V=5;break;case 3:h=b.rf[f];k=b.pa.xA(l,f);s9V=8;break;case 8:h=D6r+a+j6r+f+Y6r+d.bF+g6r+k+K6r+d.Ja.hv+n6r+d.Hb+v6r+d.fu+Q6r+JSON.stringify(d.Ja.$)+k6r+(h&&h.$0());s9V=7;break;case 7:c.$f&&b.Sa.Ri(h);d.YV();s9V=14;break;case 4:s9V=c.$f?3:7;break;}}});this.xd.P.tk();q9V=10;break;case 10:this.emit(W6r);this.SU(2);this.af.ii();q9V=18;break;case 18:q9V=this.Bo?17:16;break;case 17:try{o9V=2;while(o9V!==1){switch(o9V){case 2:this.fX(h.na.ve);o9V=1;break;case 4:this.fX(h.na.ve);o9V=6;break;o9V=1;break;}}}catch(fb){var a6r;a6r="Hin";a6r+="dsight: Error when evaluating QoE";a6r+=" ";a6r+="at Buffer";a6r+="ing: ";m1ii.c5r(0);this.Sa.om(m1ii.k5r(fb,a6r));}q9V=16;break;case 16:f=this.yb.tb.get();f=f.Jd?f.Fa.Ca:0;d>c.Bib&&f>c.Aib&&this.N9();q9V=26;break;}}};a.prototype.Qh=function(a){var T9V;T9V=2;while(T9V!==1){switch(T9V){case 4:return this.vl.Qh(a);break;T9V=1;break;case 2:return this.vl.Qh(a);break;}}};a.prototype.cu=function(a,b,c){var h9V;h9V=2;while(h9V!==1){switch(h9V){case 2:return this.vl.cu(a,b,c);break;case 4:return this.vl.cu(a,b,c);break;h9V=1;break;}}};a.prototype.$ya=function(a){var b9V,b;b9V=2;while(b9V!==9){switch(b9V){case 3:this.Sa.rza(b.P.gq);b9V=9;break;case 2:this.kE=a;b=this.mc[a];this.Sa.G5a(a,b);b9V=3;break;}}};a.prototype.NAa=function(a,b,c){var w9V,f,d,h,l,g,p,m,G6r,f6r,e6r,h6r,I6r,l6r,U6r,P6r,u6r,R6r,F6r,c6r;w9V=2;while(w9V!==28){G6r=",";G6r+=" ";f6r=")";f6r+=" lastS";f6r+="trea";f6r+="mAppended";f6r+=": (";e6r=",";e6r+=" ";h6r=" ";h6r+="s";h6r+="treamC";h6r+="ount: (";I6r=" ";I6r+="p";I6r+="layerState: ";l6r="addManif";l6r+="est";l6r+=", current";l6r+="Pts: ";U6r="v";U6r+="id";U6r+="eo_tr";U6r+="acks";P6r="audi";P6r+="o_tra";P6r+="ck";P6r+="s";u6r="addManifest igno";u6r+="red, pipelines already set ";u6r+="EOS:";R6r="bo";R6r+="o";R6r+="lean";F6r="a";F6r+="dd";F6r+="Manifest in fastplay but not drm manifest, leaving space for it";c6r="addManifest";c6r+=": p";c6r+="ipelines al";c6r+="read";c6r+="y shutdown";switch(w9V){case 3:this.Za(c6r);w9V=28;break;case 18:p=a.P;w9V=17;break;case 7:l=this.pa.Rb.Ic(1);w9V=6;break;case 33:w9V=this.qo&&k.V(b)||this.Ik&&k.V(c)?32:31;break;case 15:b.replace&&c.forEach(function(a,b){var m9V,c,d;m9V=2;while(m9V!==9){switch(m9V){case 5:m9V=c?4:9;break;case 2:c=p.cG(b);m9V=5;break;case 4:d=f.mc[0].P;Object.keys(c).forEach(function(a){var e9V,f;e9V=2;while(e9V!==4){switch(e9V){case 5:f&&f.Bd&&(c[a].hW(f),a=p.gq,a[b]>m[b]&&(m[b]=a[b]));e9V=4;break;case 2:f=d.Lr(b,a);e9V=5;break;}}});m9V=9;break;}}});c.forEach(function(a,b){var V9V,c;V9V=2;while(V9V!==4){switch(V9V){case 2:c=p.cG(b);c&&Object.keys(c).forEach(function(a){var P9V,f;P9V=2;while(P9V!==3){switch(P9V){case 2:f=C.lk()[b];1===b&&0<d.Xr&&(f=Math.min(f,d.Xr));c[a].BTa(f,p.Fu()?d.uLa:0);P9V=3;break;}}});V9V=4;break;}}});w9V=26;break;case 13:b.VB&&(this.BU=!0);h=this.mc.length;b.replace&&1!==h?h=1:this.xd.P.re.xf&&!b.replace&&1===h&&(this.Za(F6r),h=this.mc[0].clone(),this.mc.push(h),h=this.mc.length);l=b.S||0;g=b.ja;a=q.d5.create({Va:h,va:a,yk:c,KQa:b.MFb||[this.xd.UX(0),this.xd.UX(1)],xf:!1,LJa:!!b.replace,Ii:!!b.Ii,Gp:b.Gp||this.XJ,S:l,ja:g,Sa:this.Sa,Nr:this.Jya.bind(this),vm:this.lRa.bind(this,!1),hb:this.hb.bind(this),rb:this,config:this.K,H:this.H,af:this.af,vl:this.vl,Oe:this.zAa?this.yb.Oe:void 0,Nx:this.Nx});w9V=18;break;case 4:w9V=this.We()?3:9;break;case 26:a.jL=R6r===typeof b.RBa?b.RBa:!0;this.mc[h]&&this.mc[h].yc();this.mc[h]=a;a.wCa();b.replace||this.pa.P8a(p,l,g);w9V=21;break;case 2:f=this;d=this.K;w9V=4;break;case 6:w9V=!b.Uob&&(this.qo&&h.Tn||this.Ik&&l.Tn)?14:13;break;case 14:this.Za(u6r,h.Tn,l.Tn);w9V=28;break;case 17:c=[P6r,U6r];m=this.FHa();w9V=15;break;case 21:b=this.Ya.$r[0].tB;c=this.Ya.$r[1].tB;d.$f&&this.Sa.Ri(l6r+this.W.Xd()+I6r+this.W.Yc()+h6r+a.am(0).Ac.length+e6r+a.am(1).Ac.length+f6r+b+G6r+c+")");w9V=33;break;case 32:return!0;break;case 31:a.P.yH([a.am(0),a.am(1)]);this.gV();return!0;break;case 9:b||(b={});h=this.pa.Rb.Ic(0);w9V=7;break;}}};a.prototype.aL=function(a){var N9V;N9V=2;while(N9V!==1){switch(N9V){case 2:return this.vl.aL(a);break;case 4:return this.vl.aL(a);break;N9V=1;break;}}};a.prototype.QW=function(a,b){var A9V,c,f,d,o6r,L6r,q6r,H6r;A9V=2;while(A9V!==14){o6r=" ";o6r+="re";o6r+="adyS";o6r+="tate: ";L6r=" for m";L6r+="ovi";L6r+="eId:";L6r+=" ";q6r=",";q6r+=" ";H6r="dr";H6r+="m";H6r+="Read";H6r+="y at streaming p";H6r+="ts: ";switch(A9V){case 2:c=this.K;A9V=5;break;case 5:A9V=!this.We()?4:14;break;case 7:m1ii.a5r(0);this.W.IP(m1ii.W5r("",a),b);b&&(this.rf.forEach(function(a){var J9V;J9V=2;while(J9V!==5){switch(J9V){case 2:c.xX&&a.eGa();c.tI&&a.resume();J9V=5;break;}}}),c.tI&&this.PK(),this.xd.P.re.xf&&this.fV(this.vl.Iw?this.vl.Iw.Va:this.kE+1),this.vl.D8());A9V=14;break;case 4:k.V(b)&&(b=!0);f=this.pa.Rb.Ic(0);d=this.pa.Rb.Ic(1);c.$f&&this.Sa.Ri(H6r+(f?f.Hb:null)+q6r+(d?d.Hb:null)+L6r+a+o6r+b);A9V=7;break;}}};a.prototype.rfa=function(){var W9V;W9V=2;while(W9V!==1){switch(W9V){case 2:return this.W.Iu(this.xd.P);break;case 4:return this.W.Iu(this.xd.P);break;W9V=1;break;}}};a.prototype.Yxa=function(a){var Y9V,b,c,f;Y9V=2;while(Y9V!==20){switch(Y9V){case 3:c=this.pa.Rb.Ic(1);b=!b||b.Gg;f=!c||c.Gg;c=this.mc[a].P;Y9V=6;break;case 1:Y9V=a>=this.mc.length?5:4;break;case 4:b=this.pa.Rb.Ic(0);Y9V=3;break;case 2:Y9V=1;break;case 14:return!1;break;case 11:b=!this.Ik||b&&b.stream.Bd;return(!this.qo||a&&a.stream.Bd)&&b?!0:!1;break;case 5:return!1;break;case 6:Y9V=!(a===this.kE+1&&c.re.replace||b&&f)||!this.W.Iu(c)?14:13;break;case 13:a=c.dg[0];b=c.dg[1];Y9V=11;break;}}};a.prototype.gV=function(){var t9V;t9V=2;while(t9V!==1){switch(t9V){case 4:this.fV(this.kE%2);t9V=4;break;t9V=1;break;case 2:this.fV(this.kE+1);t9V=1;break;}}};f7V=64;break;case 76:a.prototype.wE=function(){var C8V,a;C8V=2;while(C8V!==3){switch(C8V){case 2:a=this.W.xg();C8V=5;break;case 6:C8V=a&&this.Ya.Qt?6:7;break;C8V=a||this.Ya.Qt?4:3;break;case 5:C8V=a||this.Ya.Qt?4:3;break;case 4:a&&this.Sa.j9(),this.XK(),this.W.Zd(h.na.Nc),this.af.ii();C8V=3;break;}}};a.prototype.N9=function(){var M8V,a,b;M8V=2;while(M8V!==8){switch(M8V){case 2:a=this;b=this.W.xg();this.pa.Rb.mC(b,function(b){var L8V;L8V=2;while(L8V!==1){switch(L8V){case 2:return a.rf[b]?a.rf[b].$0():"";break;}}});M8V=3;break;case 3:this.OD&&(clearTimeout(this.OD),this.OD=void 0);this.ct.Uu();M8V=8;break;}}};a.prototype.dAa=function(a,b){var p8V,G8V;p8V=2;while(p8V!==6){switch(p8V){case 7:try{G8V=2;while(G8V!==1){switch(G8V){case 2:this.fX(h.na.FD,{ja:a.ja});G8V=1;break;}}}catch(Oa){var X6r;X6r="Hind";X6r+="sight: Error evaluating ";X6r+="QoE at endOfStream: ";m1ii.a5r(0);this.Sa.om(m1ii.W5r(Oa,X6r));}p8V=6;break;case 2:a.Gg=!0;a.ja=k.ma(b)?b:a.Hb;a.Tn=!1;b=this.W.Xd()||0;a.$E(b);this.Ya.et();p8V=8;break;case 8:p8V=this.Bo&&1===a.M?7:6;break;}}};a.prototype.P6a=function(){var g8V,a;g8V=2;while(g8V!==4){switch(g8V){case 2:a=this.yb.tb;a&&(a=a.get())&&a.avtp&&this.hp.s8a({avtp:a.avtp.Ca});g8V=4;break;}}};a.prototype.r7a=function(){var n8V,a,b,c,p2r,m6r,T6r;n8V=2;while(n8V!==8){p2r="st";p2r+="artu";p2r+="p, p";p2r+="layerState no";p2r+=" longer STARTING:";m6r="failed";m6r+=" ";m6r+="to";m6r+=" sta";m6r+="rt audio pipeline";T6r="fail";T6r+="ed ";T6r+="to start video ";T6r+="pipel";T6r+="ine";switch(n8V){case 2:this.W.Zd(h.na.Kg);a=this.pa.Rb;n8V=4;break;case 4:b=a.Ic(0);c=a.Ic(1);this.Ik&&!this.iAa(c)?this.Za(T6r):this.qo&&!this.iAa(b)?this.Za(m6r):(this.Dza=!0,this.mc[0].P.IY=!0,b=this.Ya.He[1],c=this.Ya.He[0],(b&&0<b.oq||c&&0<c.oq)&&this.Sa.z5a(String(a.P.G),c?c.oq:0,b?b.oq:0,c?c.QO:0,b?b.QO:0),this.W.$Ja()?(this.SU(0),this.qo&&(a=this.xd.UX(0),b=this.xd.am(0).ab,this.Sa.C5a(a,b))):this.Za(p2r,this.W.Yc()));n8V=8;break;}}};a.prototype.iAa=function(a){var E8V,b,c,b2r,J2r;E8V=2;while(E8V!==12){b2r="NFErr_MC_Stre";b2r+="amingI";b2r+="nitFailure";J2r="st";J2r+="artPip";J2r+="eline";J2r+=" failed";switch(E8V){case 2:b=a.M;c=this.Ya.Xmb(a);E8V=4;break;case 9:a=a.track.Ac[c];E8V=8;break;case 4:E8V=k.V(c)?3:9;break;case 7:return!0;break;case 8:E8V=a.vj()?7:6;break;case 3:return this.We()||this.Vk(J2r,a.fd.P.Va,b2r),!1;break;case 6:c=this.xd.P;a.P.KDa(a,{offset:0,sx:!c.re.xf&&!c.Ii&&1===b,Er:!this.Ya.He[b].kjb});return!0;break;}}};a.prototype.SU=function(a,b){var f8V,c,f,d,l,k,y2r;f8V=2;while(f8V!==27){y2r="s";y2r+="tartBu";y2r+="ffe";y2r+="r";y2r+="ing";switch(f8V){case 2:c=this;f=this.K;f8V=4;break;case 4:d=this.Ya.He[0]||{};f8V=3;break;case 14:this.Sa.w5a(b);this.ct.reset();this.xd.P.xO();this.emit(y2r);p.pf.forEach(function(b){var O8V;O8V=2;while(O8V!==5){switch(O8V){case 2:O8V=(b=c.pa.Rb.Ic(b))?1:5;break;case 1:b.oaa=0,b.seeking=0===a||1===a,b.YV();O8V=5;break;}}});this.e8=C.time.ea();f8V=19;break;case 3:l=this.Ya.He[1]||{};k=this.Ya.yv[1]||{};(this.Ya.yv[0]||{}).EL=void 0;k.EL=void 0;this.W.Zd(2===a?h.na.Ig:h.na.ve);f8V=14;break;case 16:this.W.xg()&&(this.OD=setTimeout(function(){var D8V;D8V=2;while(D8V!==1){switch(D8V){case 4:c.Ya.et();D8V=3;break;D8V=1;break;case 2:c.Ya.et();D8V=1;break;}}},f.nv));this.af.ii();f8V=27;break;case 19:d.rn=l.rn=this.e8;0===a&&(!this.Ik||0<l.oq)&&(!this.qo||0<d.oq)&&this.Ya.et();f.yM&&(this.x8=setTimeout(function(){var u8V;u8V=2;while(u8V!==1){switch(u8V){case 4:c.P6a();u8V=4;break;u8V=1;break;case 2:c.P6a();u8V=1;break;}}},f.Aca));f8V=16;break;}}};a.prototype.hV=function(a){var j8V,b,r2r,t2r;j8V=2;while(j8V!==9){r2r="AdoptingData still ";r2r+="has loc";r2r+="k:";t2r="wipeH";t2r+="ead";t2r+="e";t2r+="rCache:";switch(j8V){case 2:m1ii.c5r(0);a=m1ii.W5r(a,t2r);this.rw.Sw&&this.tf(r2r+a);b=this.K;j8V=3;break;case 3:b.uia||(b.$f&&this.Sa.Ri(a),this.yb.NV(),this.Mg&&(this.Mg=void 0));j8V=9;break;}}};a.prototype.Xxa=function(a){var U8V,c,f,d,h,B2r,M2r,s2r;function b(a,b){var v8V,f,d,h,l,g,p,m,S2r;v8V=2;while(v8V!==15){S2r="adoptPipeline ";S2r+="no head";S2r+="er";S2r+=" for strea";S2r+="mId:";switch(v8V){case 3:v8V=d?9:16;break;case 10:return h;break;case 18:b=c.xd.P;v8V=17;break;case 11:v8V=!a.KHb(l)?10:20;break;case 2:f=a.M;d=b[f];v8V=4;break;case 20:v8V=!d.Eo?19:18;break;case 4:h=X.resolve(void 0);v8V=3;break;case 9:l=d.sa;g=d.Eo.stream;p=c.Ya.He[f];m=c.Ya.yv[f];k.V(b.Zp)||c.qf.eRa(b.Zp,b.jl,b.mk);m.Ho=b.Ho;m.Do=b.Do;v8V=11;break;case 19:return a.tf(S2r,l),h;break;case 17:b.qV(d.Eo,!b.re.xf&&!b.Ii&&1===f,!0)&&(void 0!==a.QB&&a.oC(a.QB),h=b.vj(f,l).stream.$.Yl(a.Hb,void 0,!0),b=g.mi(h),g=b.S,a.yla()&&(b=b.qX(a.Hb))&&0<b.Rc&&(g=b.Rc),a.Hb!==g&&(a.sla(g,h),c.K9(f,g)),h=c.G2a(a,d.data).then(function(){var d8V;d8V=2;while(d8V!==1){switch(d8V){case 4:return l;break;d8V=1;break;case 2:return l;break;}}}),p.kjb=!0,0===f&&c.qf.NH(d.Eo.O));v8V=16;break;case 16:return h;break;}}}U8V=2;while(U8V!==13){B2r="c";B2r+="atc";B2r+="h";M2r="ch";M2r+="eckForHc";M2r+="dSta";M2r+="rt";s2r="Previously adopted request l";s2r+="ist s";s2r+="till retain";s2r+="ed was unexpected";switch(U8V){case 8:return this.yb.uaa(),X.resolve();break;case 2:c=this;(null===(f=this.Mg)||void 0===f?0:f.hB())&&this.tf(s2r);this.Mg=void 0;d=this.K;U8V=9;break;case 9:U8V=!this.S7a||!this.yb.Oe?8:7;break;case 7:this.Sa.Yj(M2r);this.mc.forEach(function(b){var I8V;I8V=2;while(I8V!==1){switch(I8V){case 2:b.P.G===a&&(h=b);I8V=1;break;}}});return this.yb.Oe.xsb(a,h?h.P:void 0).then(function(a){var k8V,f,h,O2r,w2r,x2r;k8V=2;while(k8V!==6){O2r="a";O2r+="dopt";O2r+="Hcd";O2r+="S";O2r+="tart";w2r="check";w2r+="ForH";w2r+="cd";w2r+="End";x2r="he";x2r+="aderCache";x2r+="DataNot";x2r+="Found";switch(k8V){case 4:return d.gL||c.rw.Sw||c.hV(x2r),X.resolve();break;case 2:c.Sa.Yj(w2r);k8V=5;break;case 5:k8V=k.V(a)?4:3;break;case 3:f=c.pa.Rb.Ic(0);h=c.pa.Rb.Ic(1);c.Sa.Yj(O2r);k8V=7;break;case 7:return c.rw.sUa(function(){var S8V,l,k,N2r;S8V=2;while(S8V!==6){N2r="adoptH";N2r+="cdEn";N2r+="d";switch(S8V){case 2:l=X.resolve();c.Ik&&(l=b(h,a));k=X.resolve();S8V=3;break;case 3:!c.qo||d.SIa&&!l||(k=d.SIa?l.then(function(c){var x8V;x8V=2;while(x8V!==1){switch(x8V){case 4:return c?b(f,a):X.resolve();break;x8V=1;break;case 2:return c?b(f,a):X.resolve();break;}}}):b(f,a));c.Nya=a;c.Sa.Yj(N2r);S8V=7;break;case 7:return X.all([l,k]);break;}}});break;}}}).then(function(){var q8V,a,Z2r;q8V=2;while(q8V!==5){Z2r="adop";Z2r+="tedCo";Z2r+="mpletedReques";Z2r+="ts";switch(q8V){case 2:d.gL||(null===(a=c.Mg)||void 0===a?0:a.hB())||c.rw.Sw||c.hV(Z2r);q8V=5;break;}}})[B2r](function(a){var i8V,V2r;i8V=2;while(i8V!==1){V2r="headerC";V2r+="ache:lookupDataPromise ";V2r+="caught err";V2r+="or:";switch(i8V){case 2:c.Za(V2r,a);i8V=1;break;case 4:c.Za("",a);i8V=3;break;i8V=1;break;}}});break;}}};a.prototype.G2a=function(a,b){var s8V,c,f,d,h,l,g,p;s8V=2;while(s8V!==13){switch(s8V){case 2:c=this;s8V=5;break;case 4:return X.resolve();break;case 3:f=a.IZ;d=f.ia;h=Math.min(this.mc[0].ja||Infinity,f.ja||Infinity);l=a.M;s8V=6;break;case 6:g=this.Ya.He[l];return this.rw.sUa(function(){var o8V,m;function f(){var T8V,f,d2r,A2r;T8V=2;while(T8V!==4){d2r="adoptData,";d2r+=" not";d2r+=" adopting failed med";d2r+="iaReq";d2r+="uest:";A2r="adop";A2r+="tData, n";A2r+="ot ad";A2r+="opting ";A2r+="aborted mediaRequest:";switch(T8V){case 2:f=b.shift();7===f.readyState?a.Za(A2r,f.toString()):6===f.readyState?(a.Za(d2r,f.toString()),c.jA(f,!1)):a.Hb>=f.Yb&&a.Hb<f.wd&&(a.Hb<h||!k.ma(h))?(m.push(c.H2a(a,f).then(function(){var h8V;h8V=2;while(h8V!==1){switch(h8V){case 2:f.complete&&c.yIa(f);h8V=1;break;case 4:f.complete||c.yIa(f);h8V=5;break;h8V=1;break;}}})),a.QCb(f.wd),k.ma(h)&&a.Hb>=h&&c.Sa.k9(d,f.wd),0===l&&c.qf.NH(f.O),f.complete?(g.oq+=f.duration,f.bsb&&(g.QO+=f.duration),p=f):(c.Mg||(c.Mg=new Ga.xna(c.H)),c.Mg.push(f))):c.jA(f,!1);T8V=4;break;}}}o8V=2;while(o8V!==3){switch(o8V){case 2:m=[];o8V=1;break;case 8:m=[];o8V=7;break;o8V=1;break;case 4:return X.all(m);break;case 5:f();o8V=1;break;case 1:o8V=0<b.length?5:4;break;case 6:f();o8V=0;break;o8V=1;break;}}}).then(function(){var b8V,b,d;b8V=2;while(b8V!==8){switch(b8V){case 5:b8V=p||(null===(b=c.Mg)||void 0===b?0:b.hB())?4:8;break;case 4:b=c.mc[f.P.Va];d=a.kda(a.Hb);b8V=9;break;case 2:p&&a.zIa(p);b8V=5;break;case 9:void 0!==d?(a.sk=d,a.ag=b.P.dg[l].stream.mi(a.sk)):a.sk=a.zg?a.zg.index+1:a.sk+1;b8V=8;break;}}});break;case 5:s8V=0===b.length?4:3;break;}}};a.prototype.H2a=function(a,b){var w8V,c,i2r,E2r,z2r;w8V=2;while(w8V!==9){i2r=",";i2r+=" pt";i2r+="s: ";E2r=",";E2r+=" st";E2r+="ate";E2r+=": ";z2r="adoptMediaRequ";z2r+="est: type:";z2r+=" ";switch(w8V){case 2:c=a.M;this.K.$f&&this.Sa.Ri(z2r+c+E2r+b.readyState+i2r+b.Yb);this.K9(c,b.Yb);w8V=3;break;case 3:return a.Ja.e9a(b);break;}}};f7V=90;break;case 90:a.prototype.F9=function(a,b,c){var m8V,f;m8V=2;while(m8V!==8){switch(m8V){case 2:f=this;void 0===b&&(b=A.DJ.caa);(c||this.pa.Rb).zka(a,b);this.ct.reset();(void 0===a?p.pf:[a]).forEach(function(a){var e8V;e8V=2;while(e8V!==1){switch(e8V){case 2:f.hb(a)&&(f.gr[a].reset(),f.Z6a(a),f.qf.Qvb(a));e8V=1;break;}}});m8V=8;break;}}};a.prototype.Ula=function(a){var V8V,b;V8V=2;while(V8V!==4){switch(V8V){case 2:b=this;(void 0===a?p.pf:[a]).forEach(function(a){var P8V,c;P8V=2;while(P8V!==5){switch(P8V){case 2:null===(c=b.gr[a])||void 0===c?void 0:c.stop();P8V=5;break;}}});V8V=4;break;}}};a.prototype.UH=function(a){var N8V,b;N8V=2;while(N8V!==3){switch(N8V){case 2:b=this;(void 0===a?p.pf:[a]).forEach(function(a){var A8V,c;A8V=2;while(A8V!==5){switch(A8V){case 2:null===(c=b.gr[a])||void 0===c?void 0:c.resume();A8V=5;break;}}});return X.resolve();break;}}};a.prototype.PK=function(a){var J8V,b,c;J8V=2;while(J8V!==9){switch(J8V){case 2:b=this;a=void 0===a?p.pf:[a];null===(c=this.ct)||void 0===c?void 0:c.reset();J8V=3;break;case 3:a.forEach(function(a){var W8V,c;W8V=2;while(W8V!==5){switch(W8V){case 2:null===(c=b.gr[a])||void 0===c?void 0:c.resume();W8V=5;break;}}});J8V=9;break;}}};a.prototype.Z6a=function(a){var Y8V,b;Y8V=2;while(Y8V!==9){switch(Y8V){case 2:b=this.Ya.He[a];this.Ya.$r[a].Sga=void 0;b.oq=0;Y8V=3;break;case 3:b.QO=0;Y8V=9;break;}}};a.prototype.K9=function(a,b){var t8V,c,f,d,C2r;t8V=2;while(t8V!==7){C2r="pts";C2r+="chan";C2r+="ged";switch(t8V){case 2:c=this.pa.Rb;t8V=5;break;case 5:t8V=c.pe(a)?4:7;break;case 9:k.V(f.Ol)&&(f.Ol=b,1===a&&this.qo&&(a=this.Ya.He[0],k.V(a.Ol)&&(c=c.pe(0),c.oC(b)),this.emit(C2r,b)));k.V(d.EL)&&(d.EL=b);t8V=7;break;case 4:f=this.Ya.He[a];d=this.Ya.yv[a];t8V=9;break;}}};a.prototype.yIa=function(a){var Z8V;Z8V=2;while(Z8V!==1){switch(Z8V){case 2:this.Mg&&(this.Mg.Vsb(a),this.KCa());Z8V=1;break;}}};a.prototype.wY=function(a){var z8V;z8V=2;while(z8V!==1){switch(z8V){case 2:this.Mg&&(this.Mg.Usb(a),this.KCa());z8V=1;break;}}};a.prototype.KCa=function(){var X8V,a,D2r;X8V=2;while(X8V!==3){D2r="allCompl";D2r+="et";D2r+="ed";switch(X8V){case 2:X8V=1;break;case 7:X8V=this.Mg?6:4;break;X8V=this.Mg?5:3;break;case 8:X8V=0;break;X8V=1;break;case 1:X8V=this.Mg?5:3;break;case 5:a=this.K;this.Mg.hB()||(this.Mg=void 0,a.gL||this.rw.Sw||this.hV(D2r));X8V=3;break;}}};a.prototype.XK=function(){var y8V,a,b,c,f,d,l,g,p;y8V=2;while(y8V!==19){switch(y8V){case 10:this.Pw&&clearTimeout(this.Pw);this.Pw=setTimeout(this.XK.bind(this),p);y8V=19;break;case 2:a=this;b=this.K;c=this.SO;y8V=3;break;case 3:f=this.mc[c];d=this.pa.Rb;l=this.W.Xd()||0;y8V=7;break;case 7:g=this.zr(c,l);p=b.V1;this.yb.Oe&&void 0!==f.hy&&f.hy-l<=b.VLa&&this.yb.Oe.hL(!0,this.Rk.sessionId);this.W.Yc()===h.na.Nc&&([1,0].forEach(function(b){var a8V,c,f,h,m,q,t,n,j2r;a8V=2;while(a8V!==33){j2r="U";j2r+="nable";j2r+=" to fin";j2r+="d request pr";j2r+="esenting at playerPts:";switch(a8V){case 22:k.V(t)||t==c.lOa||(c.lOa=t);a8V=21;break;case 5:c=d.pe(b);a8V=4;break;case 3:q=c.Ja;c.$E(l);(t=a.pa.Dr(l,d,b))&&!t.Fi&&(t=a.rf[b].Zqb);a8V=7;break;case 16:a.Sa.E5a(f,l,t.sm,null!==n?a.mc[n].P.G:null,n);a8V=15;break;case 7:a8V=t?6:34;break;case 12:f=t.P;h=f.Va;q=t.Ja;a8V=20;break;case 19:a8V=(a.pa.ivb(t,t.sm),h>a.mU)?18:27;break;case 18:a.mU=h;n=0<h?h-1:null;a8V=16;break;case 2:a8V=1;break;case 1:a8V=a.hb(b)?5:33;break;case 20:a8V=!a.Ik||1===b?19:26;break;case 4:a8V=c?3:33;break;case 15:g=a.zr(h,l);a8V=26;break;case 26:m.jrb=t.sm;f=t.sa;f!=m.Sga&&(m.Sga=f,b=a.mc[h].P.Lr(b,f),h=a.zr(h,t.qc),a.Sa.P5a(b,t.qc,h,b.P.Va));a8V=23;break;case 6:q=t.se-l;q<p&&(p=q);m=a.Ya.$r[b];a8V=12;break;case 34:c.Za(j2r,l);a8V=21;break;case 27:a.jE&&t.sm!=m.jrb&&a.Sa.U5a(t.sm);a8V=26;break;case 23:t=t.O;a8V=22;break;case 21:a.C6a(q,l);a.pa.Nyb();a8V=33;break;}}}),this.pa.Cq(l,g));this.af.ii();p=Math.max(p,1);y8V=10;break;}}};a.prototype.LT=function(a){var B1d;B1d=2;while(B1d!==1){switch(B1d){case 2:return this.af.LT(a);break;case 4:return this.af.LT(a);break;B1d=1;break;}}};f7V=79;break;case 95:a.prototype.FAb=function(){var E1d,a,Y2r;E1d=2;while(E1d!==4){Y2r="requestGar";Y2r+="bageCollectio";Y2r+="n";switch(E1d){case 2:a={type:Y2r,time:C.time.ea()};aa.Ha(this,a.type,a);E1d=4;break;}}};a.prototype.Vk=function(a,b,c,f,d,h){var f1d,g2r;f1d=2;while(f1d!==1){g2r="NFEr";g2r+="r";g2r+="_";g2r+="MC_Strea";g2r+="mingFailure";switch(f1d){case 2:this.CE||(k.V(c)&&(c=g2r),this.CE=!0,this.Sa.R5a(c,a,f,d,h,void 0!==b?b:this.SO));f1d=1;break;}}};a.prototype.Jya=function(){var O1d,K2r;O1d=2;while(O1d!==5){K2r="Netw";K2r+="ork fai";K2r+="lure";K2r+="s reset!";switch(O1d){case 2:this.Za(K2r);this.af.ii();O1d=5;break;}}};a.prototype.x4a=function(a,b){var u1d;u1d=2;while(u1d!==5){switch(u1d){case 2:b=l.HHa(b);this.W7[a.M]=b;u1d=5;break;}}};Object.defineProperties(a.prototype,{Qt:{set:function(a){var D1d;D1d=2;while(D1d!==1){switch(D1d){case 4:this.Ya.Qt=a;D1d=2;break;D1d=1;break;case 2:this.Ya.Qt=a;D1d=1;break;}}},enumerable:!1,configurable:!0}});a.prototype.cY=function(a){var j1d,b;j1d=2;while(j1d!==4){switch(j1d){case 2:this.mc.some(function(c){var U1d;U1d=2;while(U1d!==1){switch(U1d){case 2:return c.P.yk===a?(b=c.P.Va,!0):!1;break;}}});return b;break;}}};a.prototype.Rlb=function(a){var v1d,b;v1d=2;while(v1d!==4){switch(v1d){case 2:this.mc.some(function(c){var d1d;d1d=2;while(d1d!==1){switch(d1d){case 2:return c.P.oa===a?(b=c.P.Va,!0):!1;break;}}});return b;break;}}};return a;break;case 79:a.prototype.ii=function(){var c1d;c1d=2;while(c1d!==1){switch(c1d){case 4:return this.af.ii();break;c1d=1;break;case 2:return this.af.ii();break;}}};a.prototype.jA=function(a,b){var H1d,c,f,d,n2r;H1d=2;while(H1d!==11){n2r="abort";n2r+="Request with no requestManagae";n2r+="r:";switch(H1d){case 13:!0===b&&this.af.ii();return d;break;case 4:return this.Za(n2r,a),!1;break;case 2:c=a.Ja;H1d=5;break;case 5:H1d=!c?4:3;break;case 3:f=a.M;d=a.abort();a.yc();a.Kf&&a.Kf.clear();c.C0(a);this.rf[f].C0(a);H1d=13;break;}}};a.prototype.q7a=function(a){var r1d,b,c,v2r;r1d=2;while(r1d!==3){v2r="no";v2r+=" ";v2r+="newAudioTrack";v2r+=" set";switch(r1d){case 1:b=a.M;c=this.Ya.He[b];k.V(c.v_)?a.Za(v2r):(this.rf[b].pause(),c.uI=!0,a=this.xd.am(0),c=this.xd.P.getTrackById(c.v_.ab),this.Sa.t5a(a,c));r1d=3;break;case 2:r1d=1;break;case 8:r1d=6;break;r1d=1;break;}}};a.prototype.y6a=function(a){var K1d,b,c,f,d,h,l,k,g,Q2r;K1d=2;while(K1d!==22){Q2r="a";Q2r+="udio";Q2r+="S";Q2r+="wi";Q2r+="tch";switch(K1d){case 15:c=this.kE;K1d=27;break;case 7:l=h.P.getTrackById(this.Ya.Qt.ab);k=l.K1;g=this.W.Xd()-a.wc;K1d=13;break;case 20:this.tM.Tza(0,a.P);d.v_=void 0;this.qf.NH(null);this.F9(0,A.DJ.lGa,a);this.pa.aRa(a,!0);K1d=15;break;case 23:this.UH(0);K1d=22;break;case 12:this.Mg.pAb(function(a){var R1d;R1d=2;while(R1d!==5){switch(R1d){case 2:R1d=0===a.M?1:5;break;case 1:return b.jA(a,!1),!0;break;}}}),this.Mg.hB()||(this.Mg=void 0,f.gL||this.rw.Sw||this.hV(Q2r));K1d=11;break;case 11:c=this.yb.NX(h.P.va,[k],0);this.W7[0]=c[0];K1d=20;break;case 13:K1d=(null===(c=this.Mg)||void 0===c?0:c.hB())?12:11;break;case 27:K1d=c<this.mc.length?26:24;break;case 26:this.yyb(c,k,g);K1d=25;break;case 25:++c;K1d=27;break;case 24:a.zPa(l,g);K1d=23;break;case 2:b=this;f=this.K;a=a.fd;d=this.Ya.He[0];this.Ya.Qt=d.v_;h=this.xd;K1d=7;break;}}};a.prototype.yyb=function(a,b,c){var F1d,f;F1d=2;while(F1d!==6){switch(F1d){case 3:F1d=a.P.IY?9:7;break;case 8:f?(a.P.dg[0]=f,a.ZO=!1,f.stream.Bd&&a.PV()):(a.P.dg[0]=void 0,a.ZO=!1,a.P.yH([a.am(0)],!0,0));F1d=7;break;case 9:a.am(0).Ac.some(function(a){var l1d;l1d=2;while(l1d!==4){switch(l1d){case 5:return!!f;break;case 1:l1d=!(f&&f.stream&&f.stream.$&&c<f.stream.$.Rh(0))?5:4;break;case 2:f=a.vj();l1d=1;break;case 7:return+-f;break;l1d=4;break;case 9:f=a.vj();l1d=5;break;l1d=1;break;}}});F1d=8;break;case 7:this.PK(0);F1d=6;break;case 2:t.Jk.bm(0);a=this.mc[a];F1d=4;break;case 4:a.Nma(b);F1d=3;break;}}};a.prototype.C6a=function(a,b){var Q1d,c;Q1d=2;while(Q1d!==3){switch(Q1d){case 4:k.V(a)||this.af.ii();Q1d=3;break;case 2:c=this.rf[a.M];a=this.pa.VO(a.fd,a.M,b,this.yb.Ay||0,function(a){var C1d;C1d=2;while(C1d!==1){switch(C1d){case 2:c.C0(a);C1d=1;break;case 4:c.C0(a);C1d=3;break;C1d=1;break;}}});Q1d=4;break;}}};a.prototype.t4a=function(a){var M1d,b;M1d=2;while(M1d!==8){switch(M1d){case 2:b=a.mediaType;a=this.mc[a.manifestIndex].P.Lr(b,a.streamId);M1d=4;break;case 4:this.j7a(this.pa.Rb.pe(b),a);this.K=this.ADa.N2a(a.Nf,this.K);this.mc.forEach(function(a,b){var L1d,c;L1d=2;while(L1d!==4){switch(L1d){case 2:c=a.P;c.IY||0===b||c.yH([a.am(0),a.am(1)]);L1d=4;break;}}});M1d=8;break;}}};a.prototype.w4a=function(a){var p1d,b,c;p1d=2;while(p1d!==7){switch(p1d){case 5:a=a.mediaType;c=b.Ja.fd;c.Ssb(a);b.yda&&this.Sa.y5a(b);b.Mu&&this.Sa.N5a(a,b.P.Va,c.ia);p1d=7;break;case 2:b=a.request;p1d=5;break;}}};a.prototype.j7a=function(a,b){var G1d;G1d=2;while(G1d!==1){switch(G1d){case 2:this.Ya.$r[a.M].tB={id:b.sa,index:b.Eg,O:b.O,Fa:b.kb&&b.kb.Jd&&b.kb.Fa?b.kb.Fa.Ca:0,location:b.location};G1d=1;break;}}};a.prototype.dZ=function(a){var g1d,b,c,f,d,h,l,k,g,p,m;g1d=2;while(g1d!==17){switch(g1d){case 2:h={};l=this.rf;k=this.pa;g1d=3;break;case 9:g=k.Rb;p=g.Ic(0);m=g.Ic(1);h.vspts=null!==(b=null===m||void 0===m?void 0:m.Hb)&&void 0!==b?b:0;g1d=14;break;case 14:h.aspts=null!==(c=null===p||void 0===p?void 0:p.Hb)&&void 0!==c?c:0;h.vbuflbytes=null!==(f=null===m||void 0===m?void 0:m.wo.ba)&&void 0!==f?f:0;h.abuflbytes=null!==(d=null===p||void 0===p?void 0:p.wo.ba)&&void 0!==d?d:0;h.vbuflmsec=k.vr(g,1);h.abuflmsec=k.vr(g,0);g1d=20;break;case 3:g1d=!k.Rb.Jp?9:18;break;case 20:a&&(h.a=null===p||void 0===p?void 0:p.Ja.$.toJSON(),h.v=null===m||void 0===m?void 0:m.Ja.$.toJSON());g1d=19;break;case 19:a&&l&&(a=l[1],l=l[0],h.atoappend=null===a||void 0===a?void 0:a.$0(),h.vtoappend=null===l||void 0===l?void 0:l.$0());g1d=18;break;case 18:return h;break;}}};a.prototype.dIa=function(a){var n1d,b,c,f,d,h,l,k;n1d=2;while(n1d!==12){switch(n1d){case 4:n1d=c?3:12;break;case 2:b=this.pa.Rb;c=b.pe(a);n1d=4;break;case 3:f=this.Ya.$r[a];d=this.pa.xA(b,a);f=f.tB?f.tB.O:0;n1d=7;break;case 7:h=c.Ja.S_;l=this.pa.wc;k=C.lk()[a];n1d=13;break;case 13:return{type:a,availableMediaBuffer:k-d,completeBuffer:b.jk(a),incompleteBuffer:h,playbackBitrate:c.lOa,streamingBitrate:f,streamingTime:c.Hb+l,usedMediaBuffer:d,toappend:c.bIb};break;}}};f7V=95;break;}}function a(a,b,f,d,h,l,k,p,m,t,y){var O7V,H,E,K,A,X,P2r,u2r,F2r,c2r,a2r,k2r;O7V=2;while(O7V!==74){P2r="manag";P2r+="erd";P2r+="ebugev";P2r+="e";P2r+="nt";u2r="b";u2r+="ranchin";u2r+="g";F2r="media";F2r+="|asej";F2r+="s";c2r="A";c2r+="S";c2r+="E";c2r+="JS";a2r="1S";a2r+="IY";a2r+="bZrNJC";a2r+="p9";k2r="m";k2r+="e";k2r+="di";k2r+="acache";switch(O7V){case 59:this.qf.Oma(this.K);O7V=58;break;case 36:this.Kf.on(this.yb.Oe,k2r,function(a){var D7V,W2r;D7V=2;while(D7V!==1){W2r="me";W2r+="dia";W2r+="c";W2r+="ach";W2r+="e";switch(D7V){case 2:aa.Ha(H,W2r,a);D7V=1;break;case 4:aa.Ha(H,"",a);D7V=3;break;D7V=1;break;}}});O7V=54;break;case 45:b=q.d5.create({Va:0,va:b,yk:f,KQa:d,xf:!!l.xf,LJa:!1,Ii:!!l.Ii,Gp:y||this.XJ,S:0,ja:l.ja,Sa:this.Sa,Nr:this.Jya.bind(this),vm:this.lRa.bind(this,!1),hb:this.hb.bind(this),rb:this,config:this.K,H:this.H,af:this.af,vl:this.vl,Oe:this.zAa?this.yb.Oe:void 0,Nx:this.Nx});b.jL=!0;this.mc=[b];this.qf=new r.zna(this,this.H,a,this.yb.tb,t,this.DG(),h,this.hb.bind(this),A);O7V=62;break;case 55:this.Ya=new u.qwa(this.H,this.qf,this.K,this.hb.bind(this),this.W,R,this.yb.tb,this.Sa,this.af,this.pa,A);O7V=77;break;case 42:this.vl=new S.Zva(this,this.H,this.hb.bind(this),E);this.af=new la.Hpa(this,this.H,this.hb.bind(this));this.tM=new U.Gpa(this,this.H,E);O7V=39;break;case 39:O7V=t.$f&&this.yb.Oe?38:37;break;case 3:this.Nx={cr:[Object.create(null),Object.create(null)]};a2r;this.H=new C.Console(c2r,F2r,"("+k.sessionId+")");this.tf=this.H.error.bind(this.H);this.Za=this.H.warn.bind(this.H);this.kj=this.H.trace.bind(this.H);E=new M.uta(this,this.H);O7V=12;break;case 76:X=this;this.W.addListener(function(a){var j7V,U7V;j7V=2;while(j7V!==1){switch(j7V){case 2:try{U7V=2;while(U7V!==1){switch(U7V){case 2:X.Ya.GGb.bind(X.Ya)(a);U7V=1;break;}}}catch(gb){var R2r;R2r="Hindsight: Error when a";R2r+="dding update";R2r+="PlaySegment Listener: ";m1ii.a5r(0);X.Sa.om(m1ii.W5r(gb,R2r));}j7V=1;break;}}});O7V=74;break;case 58:R=b.P;this.pa=new g.N2(this,this.Sa,this.H,this.N9.bind(this),R,this.TU,this.K,this.af,this.W,this.PM.bind(this));R={TN:this.TN,ss:this.ss,Ik:this.Ik,VB:this.VB};O7V=55;break;case 77:O7V=this.Bo?76:74;break;case 31:this.W7=p;this.CE=!1;this.nK=void 0;this.mU=-1;this.B9=0;this.Kf=new c.Vn();O7V=42;break;case 34:this.W=new ya.Kna(m);this.TU=h||0;this.kE=0;O7V=31;break;case 61:t=t.xob;for(var R in t){f=t[R];t.hasOwnProperty(R)&&f&&(this.K[R]=f);}O7V=59;break;case 50:this.XQa=new n.hS(b,this.yb.tb,this.yb.zf,this.K,void 0);a=this.XQa.dnb();h=null;t.yM&&(h=this.yb.hp.At);z.Ls.eg().reset();O7V=45;break;case 12:this.Sa=E;this.ADa=new fa.Zoa(this.H);K=!(!b||!b.choiceMap||u2r!==b.choiceMap.type);A=K?{BF:!1,Bo:!1}:N.qHa(t);this.BF=A.BF;this.Bo=A.Bo;O7V=17;break;case 38:this.Kf.on(this.yb.Oe,P2r,function(a){var u7V;u7V=2;while(u7V!==1){switch(u7V){case 4:aa.Ha(H,a.type,a);u7V=5;break;u7V=1;break;case 2:aa.Ha(H,a.type,a);u7V=1;break;}}});O7V=37;break;case 2:H=this;this.rw=new Q.R6();this.XJ=[];O7V=3;break;case 37:O7V=(t.Wma||t.My)&&this.yb.Oe?36:54;break;case 54:K&&t.AF&&!t.phb&&(t.set?t.set({enableAdaptiveParallelStreaming:!1}):t.AF=!1);0===Math.floor(1E6*Math.random())%t.mL&&(this.U6a=new G.Ava());this.gr=[];this.rf=[];O7V=50;break;case 17:this.cq=new O.Yra(this,this.H,this.hb.bind(this),A);this.x7a=[!l.RHb,!l.iQb];this.hb(0)&&this.hb(1);this.yb=a;this.Rk=k;this.K=t=this.ADa.L2a(b,t);this.BU=l.VB;O7V=23;break;case 62:O7V=t.Gca&&this.qf.mZ?61:58;break;case 23:this.zAa=!!l.nI;this.S7a=!!l.Y1;this.jE=l.TN;this.MU=void 0;O7V=34;break;}}}}();b.dwa=a;d.Fg(c.EventEmitter,a);},function(d,b,a){var c,k,g;Object.defineProperty(b,"__esModule",{value:!0});b.Hna=void 0;c=a(0);k=a(13);d=a(45);g=a(74);a=function(a){function b(b,c,f,d,k,m){d=a.call(this,b,c,d,k,m)||this;c.ba=f.byteLength;g.xh.call(d,b,c);d.vE=f;d.a3a=c.ba;return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{bc:{get:function(){return!1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{En:{get:function(){return!1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$c:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qi:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{oh:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{response:{get:function(){return this.vE;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bsb:{get:function(){return!0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Be:{get:function(){return this.a3a;},enumerable:!1,configurable:!0}});b.prototype.mB=function(){return!0;};b.prototype.NE=function(a){this.Fi=a.appendBuffer(this.response,k.im(this));return{aa:this.Fi};};b.prototype.wj=function(){return-1;};b.prototype.abort=function(){return!0;};b.prototype.yc=function(){};b.prototype.eQ=function(){return!1;};return b;}(a(158).Ty);b.Hna=a;d.Fg(g.xh,a);},function(d,b,a){var k,g,t,q,l;function c(a){return{mediaType:a.M,streamId:a.sa,movieId:a.G,bitrate:a.O,location:a.location,serverId:a.Lb,saveToDisk:!0,offset:a.offset,bytes:a.ba,timescale:a.T,frameDuration:a.stream.Ra&&a.stream.Ra.Ib,encrypted:a.sj,initSegments:1<a.ni.length?a.ni.map(function(a){return{fi:a.aB,s:a.data.byteLength,e:!!a.sj};}):void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.mga=b.nga=b.IJa=b.Gea=b.mHa=b.oHa=b.Dea=b.Hea=b.Fea=b.Uda=b.Vda=b.tsa=void 0;k=a(7);g=a(736);t=a(386);q=a(13);l=a(34);b.tsa={kS:"movieEntry",FYa:"header",b5:"metadata",fZa:"headerData",CLb:"headerMetadata",nYa:"sizes",mYa:"durations",vqa:"fragments",n_a:"response",Oj:"billboard",Yv:{lifespan:259200}};b.Vda=function(a,b,c){var f,d;f=b.headerData;c&&b.sizes instanceof ArrayBuffer&&b.durations instanceof ArrayBuffer&&(d={Ij:c.startTicks,offset:c.offset,T:c.timescale,sizes:new Uint32Array(b.sizes),Kd:new Uint32Array(b.durations)});return{bc:!0,M:a.mediaType,G:a.movieId,sa:a.streamId,O:a.bitrate,location:a.location,Lb:a.serverId,ba:a.bytes,offset:a.offset,vfa:f,WY:a.initSegments,sj:a.encrypted,T:a.timescale,Ra:a.frameDuration,ue:a.saveToDisk,$:d};};b.Uda=function(a,b){var c,f,d;b=b.response;c=a.startTicks;f=a.durationTicks;void 0!==c&&void 0!==f&&(d=c+f);return{bc:!1,M:a.mediaType,G:a.movieId,sa:a.streamId,O:a.bitrate,location:a.location,Lb:a.serverId,ba:a.bytes,offset:a.offset,response:b,T:a.timescale,Wa:a.startTicks,Ao:f,ue:a.saveToDisk,qb:d};};b.Fea=function(a){return{ie:a.priority,G:a.movieId,headers:{},Yp:0,lF:0,GY:0,ue:a.saveToDisk,Vb:a.stats,Do:a.firstSelectedStreamBitrate,Ho:a.initSelectionReason,Zp:a.histDiscountedThroughputValue,mk:a.histTdigest,jl:a.histAge,Ol:void 0};};b.Hea=function(a,b,c,d,m){var f,h;f={headers:{},data:{}};d.forEach(function(d){var h,k,n;h=d.M;h=m&&m.Lr(h,d.sa);k=[];if(d.bc)if(!Array.isArray(d.WY)||2>d.WY.length)k.push({aB:0,data:d.vfa});else for(var p=0,q=0;q<d.WY.length;++q){n=d.WY[q];k.push({aB:n.fi,data:d.vfa.slice(p,p+n.s),sj:n.e});p+=n.s;}h?(d.$&&h.G_(k,d.T,d.Ra?new l.la(d.Ra,d.T):void 0,d.$),d.bc&&h&&h.Bd?(void 0===f.headers&&(f.headers={}),f.headers[d.sa]=new t.VQ(h,{ba:d.ba,offset:d.offset,ni:k,sj:d.sj},b)):d.response instanceof ArrayBuffer&&void 0!==h.$&&void 0!==d.Wa&&void 0!==d.T&&void 0!==d.qb&&(k=h.$.pX(new l.la(d.Wa,d.T).xa),void 0!==k&&(h=new g.Hna(h,{T:d.T,Wa:d.Wa,qb:d.qb,index:k.index,offset:d.offset,ba:d.ba},d.response,c,a,b),void 0===f.data&&(f.data={}),f.data[d.sa]||(f.data[d.sa]=[]),f.data[d.sa].push(h)))):b.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: "+d.sa+" movieId: "+d.G);});if(!k.V(f.data)){h=f.data;Object.keys(h).forEach(function(a){h[a].sort(function(a,b){return a.Wa-b.Wa;});});}return f;};b.Dea=function(a){return{mediaType:a.M,streamId:a.sa,movieId:a.G,bitrate:a.O,location:a.location,serverId:a.Lb,saveToDisk:!0,offset:a.offset,bytes:a.ba,timescale:a.T,startTicks:a.Wa,durationTicks:a.Ao};};b.oHa=c;b.mHa=function(a){var b,d,h,l;b=c(a);a.stream.Bd&&a.stream&&a.stream.$&&(d={timescale:a.stream.$.T,startTicks:a.stream.$.Ij,offset:a.stream.$.Xg(0)},l=a.stream.$.PH,h=l.sizes.buffer,l=l.Kd.buffer);return{mediaType:b.mediaType,streamId:b.streamId,movieId:b.movieId,bitrate:b.bitrate,location:b.location,serverId:b.serverId,saveToDisk:!0,offset:b.offset,bytes:b.bytes,timescale:b.timescale,frameDuration:b.frameDuration,headerData:q.xr(a.ni.map(function(a){return a.data;})),initSegments:b.initSegments,encrypted:a.sj,fragments:d,sizes:h,durations:l};};b.Gea=function(a){return{priority:a.ie,movieId:a.G,saveToDisk:a.ue,firstSelectedStreamBitrate:a.Do,initSelectionReason:a.Ho,histDiscountedThroughputValue:a.Zp,histTdigest:a.mk,histAge:a.jl};};b.IJa=function(a){return!k.has(a,"startTicks");};b.nga=function(a){return!a.vfa||!a.T||!a.$||void 0===a.$.Ij||void 0===a.$.offset||void 0===a.$.Kd||!a.$.Kd.length||void 0===a.$.sizes||!a.$.sizes.length;};b.mga=function(a){return void 0===a.ba||void 0===a.offset||void 0===a.T||void 0===a.Wa||void 0===a.Ao;};},function(d,b,a){var t,q;function c(a,b,f){Object.keys(a).forEach(function(d){var h,l;if(t.Qe(a[d]))if(a[d].fZ){h=a[d];l=f+h.offset;a[d]=b.slice(l,l+h.byteLength);}else a[d]=c(a[d],b,f);});return a;}function k(a,b,c){Object.keys(a).forEach(function(f){var d;if(t.fZ(a[f])){d=a[f];b.push(d);a[f]={fZ:!0,offset:c.Fba,byteLength:d.byteLength};c.Fba+=d.byteLength;}else t.Qe(a[f])&&k(a[f],b,c);});return a;}function g(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;}t=a(106);q=a(58);d.R={xcb:function(a){var b,c,d;b=q(a,{});a=[];b=k(b,a,{Fba:0});b=JSON.stringify(b);c=new ArrayBuffer(b.length+4);d=new DataView(c);d.setUint32(0,b.length);for(var l=4,m=0,t=b.length;m<t;m++)d.setUint8(l,b.charCodeAt(m)),l++;a=[c].concat(a);return g.apply(null,a);},wcb:function(a){var b;b=new DataView(a,0,4).getInt32(0);for(var f=new Uint8Array(a,4,b),d="",l=0;l<f.byteLength;l++)d+=String.fromCharCode(f[l]);b=4+b;d=JSON.parse(d);return c(d,a,b);}};},function(d,b,a){var g;function c(a,b){return a.length>b.length?1:b.length>a.length?-1:0;}function k(a,b){var c,d,f;c=[];if(g.Qe(b)){d={};f={};f[a]=d;c.push(f);c=Object.keys(b).reduce(function(c,f){var h,l,p;h=b[f];p={};g.fZ(h)?(l=a+".__embed__."+f,p[l]=h,c.push(p)):g.Qe(h)?(l=a+".__sub__."+f,h=k(l,h),d[f]=h[0][l],c=c.concat(h.slice(1))):d[f]=h;return c;},c);}else f={},f[a]=b,c.push(f);return c;}g=a(106);d.R={Dgb:k,zpb:function(a){var b,n;b=Object.keys(a).map(function(a){return a.split(".");});b.sort(c);for(var d=b[0],h=d.length,d=a[d.join(".")],f=1;f<b.length;f++)for(var k=!1,g=!1,m=d,t=h;t<b[f].length;t++){n=b[f][t];switch(n){case"__metadata__":break;case"__sub__":g=!0;break;case"__embed__":k=!0;break;default:g?(m=m[n],g=!1):k&&(m[n]=a[b[f].join(".")],k=!1);}}return d;},$pb:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(d,b,a){function c(a){return a;}function k(){return c;}a(7);d.R={VM:k,Vea:k};},function(d,b,a){var c,k,g,t;c=a(7);k=a(106);g={};g[k.Xn.Zy]=function(a){return a;};g[k.Xn.eT]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};g[k.Xn.OBJECT]=function(a){var b;b=a||new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c<b.byteLength;c++)a+=String.fromCharCode(b[c]);return JSON.parse(a);};t={};t[k.Xn.Zy]=function(a){return a;};t[k.Xn.eT]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),f=0,d=a.length;f<d;f++)c[f]=a.charCodeAt(f);return b;};t[k.Xn.OBJECT]=function(a){return c.V(a)||c.Na(a)?a:t[k.Xn.eT](JSON.stringify(a));};d.R={VM:function(a){return g[a]||g[k.Xn.Zy];},Vea:function(a){return t[a]||t[k.Xn.Zy];}};},function(d){function b(a,b,d,g){a.trace(":",d,":",g);b(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,d,g,t){g=t?g.bind(t):g;t=!1;if(a){this.console&&(g=b.bind(null,this.console,g,d));if("function"===typeof a.addEventListener)t=a.addEventListener(d,g);else if("function"===typeof a.addListener)t=a.addListener(d,g);else throw Error("Emitter does not have a function to add listeners for '"+d+"'");this.listeners.push([a,d,g]);}return t;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};d.R=a;},function(d){function b(a,b){var c;if(void 0===b||"function"!==typeof b||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.$m)return this.$m={},this.$m[a]=[b],!0;c=this.$m[a];return void 0===c?(this.$m[a]=[b],!0):0>c.indexOf(b)?(c.push(b),!0):!1;}function a(a,b){a=this.$m?this.$m[a]:void 0;if(!a)return!1;a.forEach(function(a){a(b);});return!0;}d.R={addEventListener:b,on:b,removeEventListener:function(a,b){var c;if(void 0===b||"function"!==typeof b||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.$m)return!1;c=this.$m[a];if(void 0===c)return!1;b=c.indexOf(b);if(0>b)return!1;if(1===c.length)return delete this.$m[a],!0;c.splice(b,1);return!0;},Ha:a,emit:a,removeAllListeners:function(a){this.$m&&(void 0===a?delete this.$m:delete this.$m[a]);return this;}};},function(d){function b(a){if(!(this instanceof b))return new b(a);if("undefined"===typeof a)this.Qk=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.Qk=a;}this.eo=[];}function a(b,d){var g,k,l,h,f,p,m;g=b.eo;k=b.Qk;l=2*d+1;h=2*d+2;f=g[d];p=g[l];m=g[h];p&&k(p.ie,f.ie)&&(!m||k(p.ie,m.ie))?(c(g,d,l),a(b,l)):m&&k(m.ie,f.ie)&&(c(g,d,h),a(b,h));}function c(a,b,c){var d;d=a[b];a[b]=a[c];a[c]=d;}b.prototype.clear=function(){this.eo=[];};b.prototype.Bn=function(a,b){this.eo.push({ie:a,value:b});a=this.eo;b=this.Qk;for(var d=a.length-1,g=0===d?null:Math.floor((d-1)/2);null!==g&&b(a[d].ie,a[g].ie);)c(a,d,g),d=g,g=0===d?null:Math.floor((d-1)/2);};b.prototype.remove=function(){var b;if(0!==this.eo.length){b=this.eo[0];c(this.eo,0,this.eo.length-1);this.eo.pop();a(this,0);return b.value;}};b.prototype.eH=function(){if(0!==this.eo.length)return this.eo[0].value;};b.prototype.enqueue=b.prototype.Bn;b.prototype.aca=b.prototype.remove;b.prototype.Es=function(){return this.eo.map(function(a){return a.value;});};d.R=b;},function(d,b,a){var g,m,t,q,l,h,f,p;function c(a,b,d){var K,R;function k(a,b,c,f){a.info.call(a,function(a,d){var h;if(a)f(a);else{try{h=d.values[this.context].entries[b][c].size;}catch(sa){h=-1;}-1<h?f(null,h):this.Eq(function(a,b){a?f(a):(b[c]&&(h=b[c].size),f(null,h));});}}.bind(a));}function n(a,b,d,h,g,p,q){var t;p?p.hn||(p.hn={}):p={hn:{}};K(h);t=m.time.now();h=new f(function(c,f){a.create(m.storage.vD,b,d,function(a,b){a?f(a):c(b);});}).then(function(f){f.aa?k(a,m.storage.vD,b,function(a,d){a?q(a):(R(d),K(d),p.hn[c.QQ.G4]={aa:!0,time:g,Gi:d,Sx:b,ePa:f,duration:m.time.now()-t},p.uj=f.uj,q(null,p));}):(p.hn[c.QQ.G4]={aa:!1,Sx:b,error:f.error},q(null,p));},function(a){q(a);});l.ns(h);}function y(a,b,c,f,d,h){f.Bn(c.time,c);for(var g=c.time-864E5,l=f.eH();l&&!isNaN(l.time)&&l.time<g;)l=f.aca(),K(0-(l.ba||0)),l=f.eH();f=f.Es().map(function(a){return a.time+";"+a.ba;});n(a,b,Array.prototype.join.call(f,"|"),c.ba,c.time,d,h);}function r(a,b,f,d,g,l,p,q,n){var r;r=m.time.now();a.create(f,d,g,function(g,H){var G;if(g)h.error("Failed to replace item",d,g);else if(H.aa){G=H.uj;k(a,f,d,function(f,h){var g,k;if(f)n(f);else{f={time:q,ba:h||0};g={uj:G,hn:{}};k=m.time.now()-r;g.hn[c.QQ.REPLACE]={aa:!0,time:q,Gi:h,Sx:d,ePa:H,duration:k};l?y(a,b,f,p,g,n):(K(h),n(null,g));}});}else n(t.sT.Qn(H.error||"Failed to create item"));});}function H(a,b,f,d,g,l,p,q,n){var r;r=m.time.now();a.append(f,d,g,function(g,H){var G;if(g)h.error("Failed to save item "+d,g),n(g);else if(H.aa){G=H.uj;k(a,f,d,function(f,h){var g,k;if(f)n(f);else{f={time:q,ba:h||0};g={uj:G,hn:{}};k=m.time.now()-r;g.hn[c.QQ.o1a]={aa:!0,time:q,Gi:h,Sx:d,ePa:H,duration:k};l?y(a,b,f,p,g,n):(K(h),n(null,g));}});}else n(t.sT.Qn(H.error||"Failed to save item"));});}function u(a,b){a&&g.Sb(a.remove)&&a.ej.valid&&a.remove(m.storage.vD,b.fE,function(c,f){if(c)h.error("Failed to delete old journal key",c);else try{f&&(g.V(f.error)||f.error.some(function(a){return"NFErr_FileNotFound"===a.MRb;}))&&y(a,b.fE,{time:0,ba:0},b.MK,0,function(){});}catch(U){}});}if(!a.ej.valid)return p;this.hya=g.V(b)||g.Na(b)?0:b;this.v8=a;this.S8=this.YJ=0;this.MK=new q();this.q6a=d||"default";this.fE=this.q6a+".NRDCACHEJOURNALKEY";K=function(a){isNaN(a)||(this.YJ+=a);return this.YJ;}.bind(this);R=function(a){isNaN(a)||(this.S8+=a);return this.S8;}.bind(this);this.tea=function(){return this.fE;};this.save=function(a,b,c,f){var d;d=m.time.now();H(this.v8,this.fE,a,b,c,0<=this.hya,this.MK,d,f);};this.replace=function(a,b,c,f){var d;d=m.time.now();r(this.v8,this.fE,a,b,c,0<=this.hya,this.MK,d,f);};this.GGa=function(a){var b,d;b=this.YJ;a-=864E5;for(var c=this.MK.Es(),f=0;f<c.length;f++){d=c[f];d.time<a&&!isNaN(d.ba)&&(b-=d.ba);}return b;};(function(a){var b;b=a.v8;a.YJ=0;b.read(m.storage.vD,a.fE,0,-1,function(c,f){var d,g,l,p;d=[];g=0;l=!0;if(c)h.error("Failed to compile records",c);else if(f.aa){c=String.fromCharCode.apply(null,new Uint8Array(f.value));c=String.prototype.split.call(c,"|");f=c.reduce(function(a,b){return a+(b.length+40);},0);K(f);d=c.map(function(a){a=a.split(";");return{time:Number(a[0]),ba:Number(a[1])};});try{if(!isNaN(d.reduce(function(a,b){return a+b.ba;},0)))for(var l=!1,k=m.time.now()-864E5;g<d.length;g++){p=d[g];p.time<k||(a.MK.Bn(p.time,p),K(p.ba));}}catch(ya){}}l&&u(b,a);});}(this));}g=a(7);m=a(107);t=a(206);q=a(744);b=a(58);l=a(205);h=new m.Console("DISKWRITEMANAGER","media|asejs");f=m.Promise;b({QQ:{o1a:"saveitem",REPLACE:"replaceitem",G4:"journalupdate"}},c);p={save:function(a,b,c,f){f(t.usa);},replace:function(a,b,c,f){f(t.usa);},tea:function(){return"";},GGa:function(){return 0;}};c.prototype.constructor=c;d.R={create:function(a,b,f){return new c(a,b,f);},SMb:p};},function(d,b,a){var l,h,f,p,n,r,u,E,G;function c(){}function g(b,f,d,k,p){var q;q=l.Sb(k)?k:c;this.Gw=b;this.dt=d.Kp;this.Gt=0;this.W3a=d.jib||"NONE";this.ht=l.V(p)||l.Na(p)?0:p;this.Gd={};this.wp=d.yTb||h.storage.vD;this.$q=f;this.IE=n.create(this.$q,d.kfb*this.ht,this.Gw);this.on=this.addEventListener=G.addEventListener;this.removeEventListener=G.removeEventListener;this.emit=this.Ha=G.Ha;this.Kya=t(this,g.Nd.REPLACE);this.y4a=t(this,g.Nd.zxa);this.$z;this.$z=d.UTa?a(741):a(740);this.$q.query(this.wp,this.In(""),function(a,b){var c;if(a)q(a);else{c=this.IE.tea();a=Object.keys(b).filter(function(a){return a!==c&&r.oG(a);}).map(this.Hma.bind(this));this.r0(a,function(a,c){Object.keys(c).map(function(a){var f,d;f=c[a];this.Gd[r.iX(a)]=f;if(f.Aka&&1<Object.keys(f.Aka).length){d=0;Object.keys(f.Aka).forEach(function(a){b[this.In(a)]&&l.ma(b[this.In(a)].size)&&(d+=b[this.In(a)].size);}.bind(this));a=r.iX(a);this.Gd[a].size=d;}else a=r.iX(a),b[this.In(a)]&&(this.Gd[a].size=b[this.In(a)].size);}.bind(this));m(this.$q,this.wp,this.Gw,function(a,b){this.Gt=b;a?q(a):q(null,this);}.bind(this));}.bind(this));}}.bind(this));}function m(a,b,f,d){var h;h=l.Sb(d)?d:c;a.query(b,f,function(a,b){a?h(a):(a=Object.keys(b).reduce(function(a,c){return a+(b[c].size||0);},0),h(null,a));});}function t(a,b){return function(c,f,d,k,p){return function(q,t){var n;if(q)f||a.Ha(g.Nd.ERROR,{itemKey:c,error:q}),d(q);else{n={Gi:0,duration:0,items:[],time:h.time.now()};Object.keys(t.hn).map(function(b){var c;c=t.hn[b];b={key:a.Hma(c.Sx),Bf:b};c.aa?(n.Gi+=c.Gi,b.wZ=c.Gi,l.ma(c.duration)&&(n.duration+=c.duration)):b.error=c.error;n.items.push(b);});q=l.Sb(k)?k():0;0<p&&(n.kF=p-q);m(a.$q,a.wp,a.Gw,function(c,h){c?d(c):(a.Gt=h,n.uj=a.dt-h,f||a.Ha(b,E.NGa(n)),d(null,n));});}};};}function q(a,b){return 0<b&&a>=b?!0:!1;}l=a(7);h=a(107);f=a(206);b=a(58);p=new h.Console("MEDIACACHE","media|asejs");n=a(745);r=a(364);u=a(106);E=a(205);G=a(105).EventEmitter;b({Nd:{zxa:"writeitem",REPLACE:"replaceitem",G4:"journalupdate",ERROR:"mediacache-error"}},g);g.prototype.getName=function(){return this.Gw;};g.prototype.Hma=function(a){return a.slice(this.Gw.length+1);};g.prototype.lea=function(){return Object.keys(this.Gd).filter(function(a){a=r.Mda(this.Gd[a]);return void 0===a||0>=a.rDa();}.bind(this));};g.prototype.mmb=function(){return Object.keys(this.Gd).reduce(function(a,b){var c;c=this.Gd[b];return c&&c.creationTime<a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:h.time.now()}).HUb;};g.prototype.mlb=function(){var a;switch(this.W3a){case"FIFO":a=this.mmb();}return a;};g.prototype.Zfb=function(a){var b;b=l.Sb(a)?a:c;this.uHa(function(c){var f,d,g;f=this.Gd;d=Object.keys(f).reduce(function(a,b){b=f[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((c=c.filter(function(a){return!r.oG(a)&&0>d.indexOf(a);}))&&0<c.length){g=this;c=h.Promise.all(c.map(function(a){return new h.Promise(function(b,c){g["delete"](a,function(a){a?c(a):b();});});})).then(function(){b(void 0,{eka:!0});},function(a){b(a,{eka:!1});});E.ns(c);}else a(void 0,{eka:!1});}.bind(this));};g.prototype.lzb=function(a,b,d){var g,k;g=l.Sb(b)?b:c;b=this.In(a);k=h.time.now();this.$q.read(this.wp,b,0,-1,function(b,c){var m;if(b)g(b);else if(c&&c.aa&&c.value){l.Sb(d)||(d=this.$z.VM(u.Xn.Zy),r.oG(a)?d=this.$z.VM(u.Xn.OBJECT):(b=this.Gd[a],!l.V(b)&&l.ma(b.resourceIndex[a])?(b=b.resourceIndex[a],l.V(b)&&(b=u.Xn.Zy),d=this.$z.VM(b)):p.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{m=d(c.value);}catch(oa){return g(f.ED.Qn(oa.message));}c={duration:h.time.now()-k};this.Gd[a]&&l.ma(this.Gd[a].size)&&(c.Wt=l.ma(this.Gd[a].size)?this.Gd[a].size:0);g(null,m,c);}else g(f.ED.Qn(c.error));}.bind(this));};g.prototype.read=function(a,b,c){this.lzb(a,b,c);};g.prototype.r0=function(a,b,d){var g,k,p;g=l.Sb(b)?b:c;if("[object Array]"!==Object.prototype.toString.call(a))g(f.ED.Qn("item keys must be an array"));else{k={};p=[];a=h.Promise.all(a.map(function(a){return new h.Promise(function(b,c){var f;d&&!l.V(d[a])&&(f=this.$z.VM(d[a]));this.read(a,function(f,d,h){f?(d={},d[a]=f,c(d)):(k[a]=d,p.push({duration:h.duration,Wt:h.Wt}),b());},f);}.bind(this));}.bind(this))).then(function(){var a;a={};0<p.length&&(a=p.reduce(function(a,b){l.ma(b.duration)&&(a.duration+=b.duration);l.ma(b.Wt)&&(a.Wt+=b.Wt);return a;},{duration:0,Wt:0}));g(null,k,a);},function(a){g(a);});E.ns(a);}};g.prototype.write=function(a,b,d,h,g){var k,p,m;d=l.Sb(d)?d:c;k=this.In(a);p="function"===typeof g?g():0;m=u.hfa(b);m=this.$z.Vea(m)(b);m.byteLength+this.Gt>=this.dt?d(f.SC):q(m.byteLength+p,this.ht)?d(f.tT):this.IE.save(this.wp,k,b,this.y4a(a,h,d,g,this.ht),m.byteLength);};g.prototype.replace=function(a,b,d,h,g){var k,m,t,n;k=l.Sb(d)?d:c;m=this.In(a);t=0;"function"===typeof g&&(t=g());d=u.hfa(b);n=this.$z.Vea(d)(b);d=(this.Gd[a]||{}).size||0;0>=d&&this.Gd[a]?this.OHa([a],function(c){p.trace("Replacing key",a,"which exists:",!!this.Gd[a],this.Gd[a]?this.Gd[a]:void 0,"and has size",c,"with",b,"with size",n.byteLength,"plus _used",this.Gt,"vs capacity",this.dt);n.byteLength-c+this.Gt>=this.dt?k(f.SC):q(n.byteLength-c+t,this.ht)?k(f.tT):this.IE.replace(this.wp,m,b,this.Kya(a,h,k,g,this.ht),n.byteLength);}.bind(this)):(p.trace("Replacing key",a,"which exists:",!!this.Gd[a],this.Gd[a]?this.Gd[a]:void 0,"and has size",d,"with",b,"with size",n.byteLength,"plus _used",this.Gt,"vs capacity",this.dt),n.byteLength-d+this.Gt>=this.dt?k(f.SC):q(n.byteLength-d+t,this.ht)?k(f.tT):this.IE.replace(this.wp,m,b,this.Kya(a,h,k,g,this.ht),n.byteLength));};g.prototype.vAb=function(a,b,d,k){var p;p=l.Sb(b)?b:c;"[object Object]"!==Object.prototype.toString.call(a)?p(f.sT.Qn("items must be a map of keys to objects")):(b=h.Promise.all(Object.keys(a).map(function(b){return new h.Promise(function(c){this.replace(b,a[b],function(a,f){a?c({error:a,Ln:b}):c(f);},!0,k);}.bind(this));}.bind(this))).then(function(a){var b,c,f,m;try{b=Number.MAX_VALUE;c=a.reduce(function(a,c){c.error||(a.Gi+=c.Gi,l.ma(c.duration)&&(a.duration+=c.duration),!l.V(c.uj)&&c.uj<b&&(b=c.uj),c.items.map(function(b){a.items.push({key:b.key,Bf:b.Bf,wZ:b.wZ,qsb:b.qsb,duration:b.duration});}),b<Number.MAX_VALUE&&(a.uj=b));return a;},{Gi:0,items:[],time:h.time.now(),duration:0});0<this.ht&&(c.kF=this.ht-k());f=a.filter(function(a){return!l.V(a.error);});m=E.wIa(f);d||(m?m.forEach(function(a){this.Ha(g.Nd.ERROR,a);}.bind(this)):this.Ha(g.Nd.REPLACE,E.NGa(c)));p(m,c);}catch(U){p(U);}}.bind(this),function(a){d||this.Ha(g.Nd.ERROR,a);p(a);}.bind(this)),E.ns(b));};g.prototype["delete"]=function(a,b){var d;d=l.Sb(b)?b:c;this.$q.remove(this.wp,this.In(a),function(a,b){a?d(a):b&&b.aa?m(this.$q,this.wp,this.In(""),function(a,b){a?d(a):(this.Gt=b,d());}.bind(this)):d(f.WWa.Qn(b.error));}.bind(this));};g.prototype.uHa=function(a){this.query("",function(b,c){b?(p.error("Failed to get keys",b),a([])):a(c);});};g.prototype.query=function(a,b){var f,d;f=l.Sb(b)?b:c;d=this.IE.tea();this.$q.query(this.wp,this.In(a),function(a,b){a?f(a):f(null,Object.keys(b).filter(function(a){return a!==d;}).map(this.Hma.bind(this)));}.bind(this));};g.prototype.In=function(a){return this.Gw+"."+a;};g.prototype.clear=function(a){var b;b=l.Sb(a)?a:c;this.uHa(function(a){var c;c=h.Promise.all(a.map(function(a){return new h.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){b(a);},function(a){this.Ha(g.Nd.ERROR,a);b([],a);}.bind(this));E.ns(c);}.bind(this));};g.prototype.OHa=function(a,b){var f,d;f=l.Sb(b)?b:c;d=(a||[]).map(function(a){return this.In(a);}.bind(this));this.$q.query(this.wp,this.Gw,function(b,c){b?(p.error("failed to get persisted size for keyset ",a,b),f(0)):(b=Object.keys(c).filter(function(a){return 0<=d.indexOf(a);}).reduce(function(a,b){return a+(c[b].size||0);},0),f(b));}.bind(this));};g.prototype.ykb=function(a){return this.IE.GGa(a);};g.prototype.constructor=g;d.R=g;},function(d,b,a){var g,m,t,q,l;function c(a){this.ej=a;this.context=a.context;this.LMa="NULLCONTEXT"===a.context?!0:!1;}g=a(7);m=a(107);t=new m.Console("DISKCACHE","media|asejs");q={context:"NULLCONTEXT",read:function(a,b,c,d,g){g("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,d){d("MediaCache is not supported");},append:function(a,b,c,d){d("MediaCache is not supported");},query:function(a,b,c){c([]);}};c.prototype.hA=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length-1];a=a.slice(1,a.length-1);a.push(function(a){c(null,a);});try{if(this.LMa)throw Error("Media Cache not supported");b.apply(this.ej,a);}catch(y){c(y);}};c.prototype.query=function(a,b,c,d){try{if(this.LMa)throw Error("Media Cache not supported");this.ej.query(a,b,function(a){c(null,a);},d);}catch(H){c(H);}};c.prototype.read=function(a,b,c,d,g){this.hA(this.ej.read,a,b,c,d,g);};c.prototype.remove=function(a,b,c){this.hA(this.ej.remove,a,b,c);};c.prototype.create=function(a,b,c,d){this.hA(this.ej.create,a,b,c,d);};c.prototype.append=function(a,b,c,d){this.hA(this.ej.append,a,b,c,d);};c.prototype.info=function(a){this.hA(this.ej.info,a);};c.prototype.Eq=function(a){this.hA(this.ej.Eq,a);};c.prototype.flush=function(a){this.hA(this.ej.flush,a);};c.prototype.clear=function(){this.ej.clear();};d.R={seb:function(a){var b,d,h,k,n;b=a.yRb||"NRDMEDIADISKCACHE";l=a.px||0;0!==l||g.V(m.options)||g.V(m.options.HG)||(l=m.options.HG);a=l;try{k=m.storage.vF;if(!k||!g.Qe(k))throw t.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(h=k[b])t.warn("Disk store exists, returning"),d=new c(h);else{if(g.V(m.storage)||!g.Sb(m.storage.jW)||m.options&&0===m.options.HG)throw t.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";t.warn("Disk store context doesn't exist, creating with size "+a);n=m.storage.jW({context:b,size:a,encrypted:!0,signed:!0});if(!n||!n.valid)throw"Failed to create disk store context";d=new c(n);}}catch(E){t.warn("Exception creating disk store context - returning NullContext (noops)",E);d=new c(q);}return d;},$kb:function(){return l;},tKb:c};},function(d,b,a){var c,g,m,t,q;c=a(7);m=[];q=!1;d.R={aZ:function(b,d,f){var h;if(q)c.Sb(f)&&(g.Io||g.kB?setTimeout(function(){f(g);},0):m.push(f));else{q=!0;h=a(107);h.tN(b);t=new h.Console("MEDIACACHE","media|asejs");g=new(a(365))(d,function(a){a&&t.warn("Failed to initialize MediaCache",a);c.Sb(f)&&setTimeout(function(){f(g);},0);m.map(function(a){setTimeout(function(){a(g);},0);});});}return g;},ZRb:function(b,d){g=new(a(365))(b,function(a,b){a&&t.warn("Failed to initialize MediaCache",a);c.Sb(d)&&setTimeout(function(){d(b);},0);});}};},function(d,b,a){var c,g,m,t,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Rsa=void 0;c=a(24);a(6);g=a(748);m=a(7);t=a(211);q=a(13);d=a(45);l=a(737);h=l.tsa;a=function(){var U2r;U2r=2;function a(a,b,c){var l2r,d4r,A4r,V4r,B4r;l2r=2;while(l2r!==13){d4r="1SIY";d4r+="bZ";d4r+="rNJCp";d4r+="9";A4r="Me";A4r+="dia cac";A4r+="he";A4r+=" has not been initiaized";V4r="m";V4r+="edia|a";V4r+="sejs";B4r="MEDIA";B4r+="CAC";B4r+="HE";switch(l2r){case 9:this.K=a;this.Kl=b;this.Ae=c;l2r=6;break;case 2:this.H=new b.Console(B4r,V4r);this.c$=(a.My||a.Wma)&&0<(a.px||(b.options||{}).HG||0);this.T3a=a.Bhb?a.Bhb:!1;l2r=4;break;case 4:this.fo=a.Vha?a.Vha:!1;this.b5a=a.HLa?a.HLa:!1;l2r=9;break;case 6:this.dr=Promise.reject(A4r);d4r;l2r=13;break;}}}while(U2r!==27){switch(U2r){case 4:a.prototype.Qrb=function(a,b){var r3r,c,f;r3r=2;while(r3r!==3){switch(r3r){case 8:r3r=7;break;r3r=1;break;case 1:c=this;r3r=5;break;case 7:c=this;r3r=2;break;r3r=5;break;case 2:r3r=1;break;case 5:f=this.Kl.time.ea();return this.dr.then(function(){var S3r;S3r=2;while(S3r!==1){switch(S3r){case 4:return c.Sya(a);break;S3r=1;break;case 2:return c.Sya(a);break;}}}).then(function(d){var s3r,z4r;s3r=2;while(s3r!==5){z4r="mediacac";z4r+="h";z4r+="elookup";switch(s3r){case 1:return c.F6a(a.toString(),b,f);break;case 2:s3r=d?1:4;break;case 4:c.KH(z4r,{QZ:c.Kl.time.ea()-f,rW:!1});s3r=5;break;case 9:s3r=d?9:1;break;s3r=d?1:4;break;}}});break;}}};a.prototype.qBb=function(a,b){var M3r,c;M3r=2;while(M3r!==4){switch(M3r){case 2:c=l.Gea(a);this.di.save(h.Oj,[h.kS,a.G].join("."),c,h.Yv,function(){var x3r;x3r=2;while(x3r!==1){switch(x3r){case 2:b();x3r=1;break;case 4:b();x3r=3;break;x3r=1;break;}}});M3r=4;break;}}};a.prototype.pBb=function(a,b){var w3r,c,f,d,g,k,p;w3r=2;while(w3r!==19){switch(w3r){case 10:k[f+"."+h.mYa]={Ln:p.Kd.buffer,Cd:h.Yv};w3r=20;break;case 14:g={timescale:a.stream.$.T,startTicks:a.stream.$.Ij,offset:a.stream.$.Xg(0)};p=a.stream.$.PH;k[f+"."+h.vqa]={Ln:g,Cd:h.Yv};k[f+"."+h.nYa]={Ln:p.sizes.buffer,Cd:h.Yv};w3r=10;break;case 6:w3r=a.stream.Bd&&!m.V(a.stream.$)?14:20;break;case 2:c=this;f=[a.G,a.sa,h.FYa].join(".");w3r=4;break;case 20:this.di.vQa(h.Oj,k,function(f){var N3r;N3r=2;while(N3r!==5){switch(N3r){case 2:f||(f=c.Kl.time.ea()-d,a.Bj&&(m.V(a.Bj.Vb.Pn)&&(a.Bj.Vb.Pn=0),a.Bj.Vb.Pn+=f));b();N3r=5;break;}}});w3r=19;break;case 4:d=this.Kl.time.ea();g=l.oHa(a);k={};k[f+"."+h.b5]={Ln:g,Cd:h.Yv};k[f+"."+h.fZa]={Ln:q.xr(a.ni.map(function(a){var O3r;O3r=2;while(O3r!==1){switch(O3r){case 4:return a.data;break;O3r=1;break;case 2:return a.data;break;}}})),Cd:h.Yv};w3r=6;break;}}};a.prototype.oBb=function(a,b,c){var Z3r,f,d,g,k,p,E4r;Z3r=2;while(Z3r!==11){E4r="Unable to sa";E4r+="ve fragment because respo";E4r+="nse i";E4r+="s not an ArrayBu";E4r+="ffer";switch(Z3r){case 4:Z3r=d instanceof ArrayBuffer?3:12;break;case 3:g=this.Kl.time.ea();k=[a.G,a.sa,a.Yb].join(".");a=l.Dea(a);p={};p[k+"."+h.b5]={Ln:a,Cd:h.Yv};Z3r=14;break;case 12:c(Error(E4r));Z3r=11;break;case 2:f=this;d=a.response;Z3r=4;break;case 14:m.V(d)||(p[k+"."+h.n_a]={Ln:d,Cd:h.Yv});this.di.vQa(h.Oj,p,function(a){var B3r,i4r;B3r=2;while(B3r!==5){i4r="Fail";i4r+="ed to save fra";i4r+="gme";i4r+="nt";switch(B3r){case 2:a?f.H.warn(i4r,a):(a=f.Kl.time.ea()-g,m.V(b.Vb.Pn)&&(b.Vb.Pn=0),b.Vb.Pn+=a);c();B3r=5;break;}}});Z3r=11;break;}}};U2r=7;break;case 2:a.prototype.Kb=function(a,b){var I2r,c,D4r;I2r=2;while(I2r!==4){D4r="M";D4r+="edia cache is dis";D4r+="abled";switch(I2r){case 2:c=this;return this.dr=this.c$?new Promise(function(f,d){var h2r;h2r=2;while(h2r!==1){switch(h2r){case 2:(void 0!==b&&null!==b?b.aZ:function(a){var e2r;e2r=2;while(e2r!==1){switch(e2r){case 4:return g.aZ(c.Kl,c.K,a);break;e2r=1;break;case 2:return g.aZ(c.Kl,c.K,a);break;}}})(function(b){var f2r,h,C4r;f2r=2;while(f2r!==3){C4r="Me";C4r+="dia cache did";C4r+=" not init";C4r+="ialize";switch(f2r){case 4:(b=b.kB)?d(b):h?(c.mDb(a),f()):d(Error(C4r));f2r=3;break;case 2:c.di=b;h=b.Io;f2r=4;break;}}});h2r=1;break;}}}):Promise.reject(D4r);break;}}};a.prototype.Urb=function(a){var G2r,b,c,f;G2r=2;while(G2r!==9){switch(G2r){case 2:b=this;c=[h.kS,a].join(".");f=this.Kl.time.ea();return this.dr.then(function(){var H2r;H2r=2;while(H2r!==1){switch(H2r){case 2:return new Promise(function(d){var q2r;q2r=2;while(q2r!==1){switch(q2r){case 2:b.di.$B(h.Oj,c,function(c){var L2r,g,j4r;L2r=2;while(L2r!==9){j4r="me";j4r+="dia";j4r+="cache";j4r+="look";j4r+="up";switch(L2r){case 2:L2r=1;break;case 5:d(),b.KH(j4r,{QZ:b.Kl.time.ea()-f,rW:!1});L2r=9;break;case 4:g=c[0];b.di.read(h.Oj,g,function(c,f){var o2r,X2r,h,k,g4r,Y4r;o2r=2;while(o2r!==14){g4r=" fa";g4r+="ile";g4r+="d";Y4r="Re";Y4r+="ad";Y4r+="ing";Y4r+=" movie entr";Y4r+="y ";switch(o2r){case 3:try{X2r=2;while(X2r!==1){switch(X2r){case 2:h=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f)));X2r=1;break;}}}catch(R){}o2r=8;break;case 2:c&&b.H.warn(Y4r+g+g4r,c);o2r=5;break;case 5:o2r=!m.V(f)?4:8;break;case 4:o2r=f instanceof ArrayBuffer?3:9;break;case 9:h={priority:f.priority,movieId:f.movieId,saveToDisk:f.saveToDisk,firstSelectedStreamBitrate:f.firstSelectedStreamBitrate,initSelectionReason:f.initSelectionReason,histDiscountedThroughputValue:f.histDiscountedThroughput,histTdigest:f.histTdigest,histAge:f.histAge,headerCount:f.headerCount,dataRequestCount:f.dataRequestCount,headerRequestCount:f.headerRequestCount,stats:f.stats};o2r=8;break;case 8:m.V(h)||(k=l.Fea(h));m.V(k)||m.Na(k)||(k.Vb=k.Vb||{},k.headers=k.headers||{});o2r=6;break;case 6:b.MJa(k)?d(k):(b.a7a(a),d());o2r=14;break;}}});L2r=9;break;case 1:L2r=!c||0>=c.length?5:4;break;}}});q2r=1;break;}}});break;}}});break;}}};a.prototype.Prb=function(a,b,c){var T2r,f,d,K4r;T2r=2;while(T2r!==8){K4r="Medi";K4r+="a cache is n";K4r+="ot enable";K4r+="d";switch(T2r){case 5:T2r=!this.dr?4:3;break;case 4:return Promise.reject(K4r);break;case 2:f=this;T2r=5;break;case 3:d=this.Kl.time.ea();return this.dr.then(function(){var m2r;m2r=2;while(m2r!==1){switch(m2r){case 2:return new Promise(function(g){var p3r;p3r=2;while(p3r!==1){switch(p3r){case 2:f.di.$B(h.Oj,a,function(h){var J3r;J3r=2;while(J3r!==5){switch(J3r){case 2:h=h.reduce(function(a,b){var b3r,c,n4r;b3r=2;while(b3r!==8){n4r="drmHeader";n4r+="._";n4r+="_";n4r+="e";n4r+="mbed__";switch(b3r){case 5:b3r=-1!==c.indexOf(n4r)?4:3;break;case 4:return a;break;case 2:c=b.substr(0,b.lastIndexOf("."));b3r=5;break;case 3:a[c]?a[c].push(b):a[c]=[b];return a;break;}}},{});f.Syb(h,b).then(function(b){var y3r,h,l,Q4r,v4r;y3r=2;while(y3r!==6){Q4r="med";Q4r+="iacachelook";Q4r+="up";v4r="No c";v4r+="ontent data foun";v4r+="d for ";switch(y3r){case 1:y3r=void 0===c||void 0===b?5:4;break;case 5:return g();break;case 4:h=f.Kl.time.ea()-d;l=!1;m.V(b)||m.V(b.data)||!m.Qe(b.data)?f.H.trace(v4r+a,c):l=!0;f.KH(Q4r,{QZ:h,rW:l});g(b);y3r=6;break;case 2:y3r=1;break;}}},function(){var t3r;t3r=2;while(t3r!==1){switch(t3r){case 4:g();t3r=2;break;t3r=1;break;case 2:g();t3r=1;break;}}});J3r=5;break;}}});p3r=1;break;}}});break;}}});break;}}};U2r=4;break;case 7:a.prototype.rBb=function(a){var V3r,A,b,c,f,d,g,n,r,u,T,z,k,p,q;V3r=2;while(V3r!==32){switch(V3r){case 8:V3r=a.headers?7:13;break;case 17:A=0;V3r=16;break;case 21:f.data=d;V3r=35;break;case 13:V3r=a&&a.data?12:35;break;case 26:z=l.Dea(T);V3r=25;break;case 11:V3r=p<q.length?10:21;break;case 3:d=l.Gea(a);f.movieEntry=d;V3r=8;break;case 10:n=q[p];r=k[n];u={};V3r=18;break;case 18:V3r=r?17:22;break;case 2:b=this;c=this.Kl.time.ea();V3r=4;break;case 16:V3r=A<r.length?15:23;break;case 7:g={};Object.keys(a.headers).forEach(function(b){var A3r,c;A3r=2;while(A3r!==4){switch(A3r){case 2:c=l.mHa(a.headers[b]);g[b]=c;A3r=4;break;}}});V3r=14;break;case 25:u[T.Yb]={mediaType:z.mediaType,streamId:z.streamId,movieId:z.movieId,bitrate:z.bitrate,location:z.location,serverId:z.serverId,saveToDisk:z.saveToDisk,offset:z.offset,bytes:z.bytes,timescale:z.timescale,startTicks:z.startTicks,durationTicks:z.durationTicks,response:T.response};V3r=24;break;case 15:T=r[A];V3r=27;break;case 22:p++;V3r=11;break;case 23:d[n]=u;V3r=22;break;case 12:d={},k=a.data,p=0,q=Object.keys(a.data);V3r=11;break;case 4:f={};V3r=3;break;case 27:V3r=T instanceof t.UQ&&T.response instanceof ArrayBuffer&&!m.V(T.Yb)?26:24;break;case 24:A++;V3r=16;break;case 14:f.headers=g;V3r=13;break;case 35:d={lifespan:259200};this.b5a&&(d.convertToBinaryData=!0);this.di.save(h.Oj,a.G,f,d,function(a){var d3r,k4r;d3r=2;while(d3r!==1){k4r="s";k4r+="ave";k4r+="t";k4r+="od";k4r+="isk";switch(d3r){case 2:a||b.KH(k4r,{wQa:b.Kl.time.ea()-c});d3r=1;break;}}});V3r=32;break;}}};a.prototype.MJa=function(a){var z3r;z3r=2;while(z3r!==1){switch(z3r){case 2:return!(m.V(a)||m.Na(a)||m.V(a.Vb)||m.Na(a.Vb)||m.V(a.G)||m.Na(a.G)||m.V(a.ie)||m.Na(a.ie));break;}}};a.prototype.ysb=function(a){var E3r,b,c;E3r=2;while(E3r!==3){switch(E3r){case 2:b=this;c=m.V(a)?"":a.toString();return new Promise(function(a){var i3r,C3r;i3r=2;while(i3r!==4){switch(i3r){case 5:try{C3r=2;while(C3r!==1){switch(C3r){case 2:b.di.$B(h.Oj,"",function(b){var D3r;D3r=2;while(D3r!==5){switch(D3r){case 2:b=b.filter(function(a){var j3r,W4r;j3r=2;while(j3r!==5){W4r="movie";W4r+="En";W4r+="tr";W4r+="y";switch(j3r){case 2:a=a.split(".");return c&&(c===a[0]||W4r===a[0]&&c===a[1]);break;}}}).reduce(function(a,b){var Y3r,c,a4r;Y3r=2;while(Y3r!==3){a4r="mo";a4r+="vie";a4r+="Entry";switch(Y3r){case 2:c=b.split(".");a4r!==c[0]&&(b=c[1],c=c[2],m.V(a[b])&&(a[b]={}),m.V(a[b][c])&&(a[b][c]=!0));return a;break;}}},{});a(b);D3r=5;break;}}});C3r=1;break;}}}catch(E){a();}i3r=4;break;case 2:i3r=m.V(b.di)?1:5;break;case 9:i3r=m.V(b.di)?6:2;break;i3r=m.V(b.di)?1:5;break;case 1:a();i3r=4;break;}}});break;}}};a.prototype.Trb=function(a,b){var g3r,c;g3r=2;while(g3r!==4){switch(g3r){case 5:return b&&b.headers&&b.headers&&0<Object.keys(b.headers).length&&b.data?new Promise(function(a){var K3r,c,f;K3r=2;while(K3r!==7){switch(K3r){case 4:K3r=b.data?3:8;break;case 2:c={};b.headers&&Object.keys(b.headers).forEach(function(a){var n3r;n3r=2;while(n3r!==5){switch(n3r){case 2:c[a]||(c[a]={});c[a].header=!0;n3r=5;break;}}});K3r=4;break;case 3:f=b.data;K3r=9;break;case 9:Object.keys(f).forEach(function(a){var v3r;v3r=2;while(v3r!==5){switch(v3r){case 2:c[a]||(c[a]={});f[a].forEach(function(b){var Q3r;Q3r=2;while(Q3r!==1){switch(Q3r){case 2:m.V(b.Yb)||(c[a][b.Yb]=!0);Q3r=1;break;}}});v3r=5;break;}}});K3r=8;break;case 8:return a(c);break;}}}):this.Sya(a).then(function(b){var k3r;k3r=2;while(k3r!==5){switch(k3r){case 2:k3r=b?1:5;break;case 1:return new Promise(function(b){var W3r;W3r=2;while(W3r!==1){switch(W3r){case 2:c.di.read(h.Oj,a,function(c,f){var a3r,d,h;a3r=2;while(a3r!==4){switch(a3r){case 2:a3r=1;break;case 5:b();a3r=4;break;case 9:b(void 0);a3r=4;break;case 1:a3r=c?5:3;break;case 3:a3r=m.V(f)?9:8;break;case 8:d=f[a];h={};d.headers&&Object.keys(d.headers).forEach(function(a){var c3r;c3r=2;while(c3r!==5){switch(c3r){case 2:h[a]||(h[a]={});h[a].header=!0;c3r=5;break;}}});d.data&&Object.keys(d.data).forEach(function(a){var F3r;F3r=2;while(F3r!==5){switch(F3r){case 2:h[a]||(h[a]={});Object.keys(d.data[a]).forEach(function(b){var R3r;R3r=2;while(R3r!==1){switch(R3r){case 4:h[a][b]=+5;R3r=9;break;R3r=1;break;case 2:h[a][b]=!0;R3r=1;break;}}});F3r=5;break;}}});b(h);a3r=4;break;}}});W3r=1;break;}}});break;}}});break;case 2:c=this;g3r=5;break;}}};a.prototype.bmb=function(){var u3r,a,c4r;u3r=2;while(u3r!==4){c4r="Media";c4r+=" cache is not ";c4r+="enabled";switch(u3r){case 2:a=this;return this.dr?this.dr.then(function(){var P3r;P3r=2;while(P3r!==1){switch(P3r){case 2:return new Promise(function(b){var U3r;U3r=2;while(U3r!==1){switch(U3r){case 2:a.di.$B(h.Oj,h.kS,function(a){var l3r,c;l3r=2;while(l3r!==8){switch(l3r){case 2:l3r=1;break;case 4:c=[];a.forEach(function(a){var I3r;I3r=2;while(I3r!==1){switch(I3r){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&c.push(a[1]);I3r=1;break;}}});b(c);l3r=8;break;case 5:b([]);l3r=8;break;case 1:l3r=!a||0>=a.length?5:4;break;}}});U3r=1;break;}}});break;}}}):Promise.reject(c4r);break;}}};a.prototype.KH=function(a,b){var h3r,c,P4r,u4r,R4r,F4r;h3r=2;while(h3r!==8){P4r="me";P4r+="di";P4r+="ac";P4r+="a";P4r+="che";u4r="media";u4r+="cache";u4r+="lookup";R4r="sav";R4r+="eto";R4r+="di";R4r+="sk";F4r="mediacach";F4r+="estat";F4r+="s";switch(h3r){case 2:c={type:F4r,operation:a};R4r===a&&(c.saveTime=b.wQa);h3r=4;break;case 4:u4r===a&&(c.lookupTime=b.QZ,c.dataFound=b.rW);c.oneObject=this.fo;this.T3a&&this.emit(P4r,c);h3r=8;break;}}};U2r=10;break;case 16:a.prototype.mDb=function(a){var w4r,b,I4r,U4r;w4r=2;while(w4r!==3){I4r="media";I4r+="cache-erro";I4r+="r";U4r="me";U4r+="d";U4r+="iac";U4r+="ach";U4r+="e";switch(w4r){case 2:b=new c.Vn();b.on(this.di,U4r,function(b){var O4r,l4r;O4r=2;while(O4r!==4){l4r="mediacac";l4r+="h";l4r+="e";switch(O4r){case 1:b.keys||b.items.map(function(a){var N4r;N4r=2;while(N4r!==1){switch(N4r){case 4:return a.key;break;N4r=1;break;case 2:return a.key;break;}}});O4r=5;break;case 5:a.emit(l4r,b);O4r=4;break;case 2:O4r=b.keys||b.items?1:5;break;case 7:a.emit("",b);O4r=0;break;O4r=4;break;}}});b.on(this.di,I4r,function(b){var Z4r,e4r,h4r;Z4r=2;while(Z4r!==5){e4r="me";e4r+="d";e4r+="iacache";h4r="er";h4r+="r";h4r+="o";h4r+="r";switch(Z4r){case 2:b.type=h4r;a.emit(e4r,b);Z4r=5;break;}}});w4r=3;break;}}};return a;break;case 10:a.prototype.Syb=function(a,b){var e3r,c,f;e3r=2;while(e3r!==3){switch(e3r){case 2:c=this;f=Object.keys(a).map(function(b){var f3r;f3r=2;while(f3r!==1){switch(f3r){case 4:return c.qeb(a[b]);break;f3r=1;break;case 2:return c.qeb(a[b]);break;}}});return Promise.all(f).then(function(a){var G3r;G3r=2;while(G3r!==5){switch(G3r){case 1:return l.Hea(c.K,c.H,c.Ae,a,b);break;case 2:a.sort(function(a,b){var H3r;H3r=2;while(H3r!==1){switch(H3r){case 2:return a.bc===b.bc?0:a.bc?-1:1;break;}}});G3r=1;break;}}});break;}}};a.prototype.qeb=function(a){var q3r,b,c,f,d;q3r=2;while(q3r!==3){switch(q3r){case 4:return new Promise(function(g,k){var L3r,p;L3r=2;while(L3r!==5){switch(L3r){case 2:b.di.r0(h.Oj,a,function(a,b){var o3r,m,X3r,H4r,G4r,f4r;o3r=2;while(o3r!==5){switch(o3r){case 2:try{X3r=2;while(X3r!==19){H4r="Missing or invalid medi";H4r+="a data part";H4r+="s for stream ";G4r="Header f";G4r+="ragments was an array buffer, ";G4r+="is inval";G4r+="id type ";f4r="Missing ";f4r+="o";f4r+="r invalid header d";f4r+="ata parts f";f4r+="or stream ";switch(X3r){case 20:p=l.Uda(f,{response:d.response});X3r=6;break;case 13:return m=f4r+p.sa,k(m);break;case 4:X3r=l.IJa(f)?3:20;break;case 7:p=l.Vda(f,d,c);X3r=6;break;case 9:m=G4r+p.sa;return k(m);break;case 11:X3r=l.mga(p)?10:12;break;case 14:X3r=l.nga(p)?13:12;break;case 2:X3r=a||void 0===b?1:5;break;case 1:return k(a);break;case 3:X3r=c instanceof ArrayBuffer?9:7;break;case 12:g(p);X3r=19;break;case 5:Object.keys(b).map(function(a){var T3r,m3r,g,l;T3r=2;while(T3r!==9){switch(T3r){case 4:try{m3r=2;while(m3r!==5){switch(m3r){case 2:l=new Uint8Array(b[a]);f=JSON.parse(String.fromCharCode.apply(null,l));m3r=5;break;}}}catch(oa){f=b[a];}T3r=9;break;case 5:T3r=g===h.b5?4:3;break;case 2:g=a.substr(a.lastIndexOf(".")+1);T3r=5;break;case 3:g===h.vqa?c=b[a]:d[g]=b[a];T3r=9;break;}}});X3r=4;break;case 10:return m=H4r+p.sa,k(m);break;case 6:X3r=p.bc?14:11;break;}}}catch(R){k(R);}o3r=5;break;}}});L3r=5;break;}}});break;case 2:b=this;d={};q3r=4;break;}}};a.prototype.F6a=function(a,b,c){var p4r,f;p4r=2;while(p4r!==4){switch(p4r){case 2:f=this;return new Promise(function(d,g){var J4r,k;J4r=2;while(J4r!==5){switch(J4r){case 2:f.di.read(h.Oj,a,function(h,p){var b4r,y,r,H,q,G,t,n,X4r,o4r,L4r,q4r;b4r=2;while(b4r!==4){X4r="Missing ";X4r+="or invalid hea";X4r+="der data pa";X4r+="rts for strea";X4r+="m ";o4r="m";o4r+="ediacachel";o4r+="oo";o4r+="kup";L4r="Missing or i";L4r+="nvalid medi";L4r+="a data parts for stre";L4r+="am ";q4r="He";q4r+="ader fragments was";q4r+=" an array buffer,";q4r+=" is invalid type";q4r+=" ";switch(b4r){case 8:q=p[a];b4r=7;break;case 18:return h=q4r+y.streamId,g(h);break;case 7:b4r=q.movieEntry?6:43;break;case 22:y=n[t],r=0,H=Object.keys(q[y]);b4r=21;break;case 32:return h=L4r+G.sa,g(h);break;case 31:p.push(G);b4r=30;break;case 33:b4r=l.mga(G)?32:31;break;case 2:b4r=1;break;case 44:void 0!==k&&(k.Bj=h);b4r=43;break;case 13:b4r=q.headers?12:25;break;case 29:t++;b4r=23;break;case 9:d();b4r=4;break;case 23:b4r=t<n.length?22:28;break;case 16:b4r=l.nga(y)?15:27;break;case 27:p.push(y);b4r=26;break;case 17:y=l.Vda(y,y,y.fragments);b4r=16;break;case 43:f.KH(o4r,{QZ:f.Kl.time.ea()-c,rW:!0});d(k);b4r=4;break;case 1:b4r=h?5:3;break;case 25:b4r=q.data?24:28;break;case 28:k=l.Hea(f.K,f.H,f.Ae,p,b);b4r=44;break;case 30:r++;b4r=21;break;case 19:b4r=y.fragments instanceof ArrayBuffer?18:17;break;case 15:return h=X4r+y.sa,g(h);break;case 35:G=q[y][H[r]];G=l.Uda(G,G);b4r=33;break;case 6:h=l.Fea(q.movieEntry);p=[];b4r=13;break;case 21:b4r=r<H.length?35:29;break;case 26:t++;b4r=11;break;case 12:t=0,n=Object.keys(q.headers);b4r=11;break;case 5:g(h);b4r=4;break;case 10:y=n[t];y=q.headers[y];b4r=19;break;case 24:q=q.data,t=0,n=Object.keys(q);b4r=23;break;case 11:b4r=t<n.length?10:25;break;case 3:b4r=m.V(p)?9:8;break;}}});J4r=5;break;}}});break;}}};a.prototype.Sya=function(a){var y4r,b,T4r;y4r=2;while(y4r!==4){T4r="Media ca";T4r+="che is ";T4r+="not ";T4r+="enabled";switch(y4r){case 2:b=this;return this.dr?this.dr.then(function(){var t4r;t4r=2;while(t4r!==1){switch(t4r){case 2:return new Promise(function(c){var r4r;r4r=2;while(r4r!==1){switch(r4r){case 2:b.di.$B(h.Oj,a.toString(),function(b){var S4r;S4r=2;while(S4r!==1){switch(S4r){case 2:b&&0!==b.length?1===b.length&&b[0]===a.toString()?c(!0):c(!1):c(!1);S4r=1;break;}}});r4r=1;break;}}});break;}}}):Promise.reject(T4r);break;}}};a.prototype.a7a=function(a){var s4r,f,d;function c(a){var x4r;x4r=2;while(x4r!==1){switch(x4r){case 2:a.map(b);x4r=1;break;case 4:a.map(b);x4r=6;break;x4r=1;break;}}}s4r=2;function b(a){var M4r,m4r;M4r=2;while(M4r!==1){m4r="d";m4r+="el";m4r+="e";m4r+="t";m4r+="e";switch(M4r){case 2:f.di[m4r](h.Oj,a);M4r=1;break;}}}while(s4r!==9){switch(s4r){case 2:f=this;d=a.toString();s4r=4;break;case 4:this.di.$B(h.Oj,[h.kS,a].join("."),c);this.di.$B(h.Oj,d,c);s4r=9;break;}}};U2r=16;break;}}}();b.Rsa=a;d.Fg(c.EventEmitter,a);},function(d,b,a){var c,g,m,t,q,l,h,f,p,n,r,u,E,G,N,C,X,P,aa,R,A,T,z,fa;Object.defineProperty(b,"__esModule",{value:!0});b.Sqa=void 0;c=a(0);d=a(24);g=a(6);m=a(7);t=a(229);q=a(211);l=a(394);h=a(83);a(405);f=a(366);p=a(154);n=a(18);r=a(217);u=a(749);E=a(73);G=a(20);N=a(4);C=a(208);X=a(375);P=N.Promise;aa=new N.Console("HEADERCACHE","media|asejs");a=new N.Console("MEDIACACHE","media|asejs");R=N.YC;A=aa.trace.bind(aa);a.trace.bind(a);T=aa.warn.bind(aa);z=aa.error.bind(aa);fa=aa.info.bind(aa);a=function(a){var p0r;p0r=2;while(p0r!==49){switch(p0r){case 5:b.prototype.D0=function(){var r0r;r0r=2;while(r0r!==1){switch(r0r){case 2:return this.hr.map(function(a){var S0r;S0r=2;while(S0r!==1){switch(S0r){case 2:return a.D0();break;case 4:return a.D0();break;S0r=1;break;}}});break;}}};b.prototype.un=function(){var s0r;s0r=2;while(s0r!==5){switch(s0r){case 2:this.flush();this.jya();s0r=5;break;}}};b.prototype.hL=function(a,b,c){var M0r,f,d;M0r=2;while(M0r!==7){switch(M0r){case 2:f=this.bA;d=a;M0r=4;break;case 4:M0r=(f[b]=a)?3:9;break;case 9:c&&delete f[b];d?(this.TT=!1,this.X4a()):this.TT=!0;M0r=7;break;case 3:for(var h in f){f.hasOwnProperty(h)&&!1===f[h]&&(d=!1);}M0r=9;break;}}};b.prototype.hyb=function(a,b){var x0r,c,f,d,h,g5M,s5M,D5M;x0r=2;while(x0r!==25){g5M="); i";g5M+="gno";g5M+="ring prepare for movieId: ";s5M="PTS";s5M+=" pa";s5M+="s";s5M+="sed to HeaderCache.prepareP is not undefined or a positive number (";D5M="A config";D5M+=" must be passed to pr";D5M+="epar";D5M+="eP";switch(x0r){case 7:x0r=h.ztb?6:14;break;case 14:x0r=!m.V(d)&&(!m.ma(d)||0>d)?13:12;break;case 12:c=this.ne[c];x0r=11;break;case 2:c=b.G;f=b.ie;d=b.Rc;g.assert(b.config,D5M);h=b.config;x0r=8;break;case 13:return z(s5M+d+g5M+c),P.reject();break;case 11:x0r=!m.V(c)&&(2<=c.Yp||!h.zM)?10:16;break;case 15:x0r=f>h.ufa||this.vw+1>this.AK&&f>this.Ei[0].ie?27:26;break;case 17:return P.resolve();break;case 18:for(var l in c.headers){a=c.headers[l];!m.V(a.url)&&null!==a.url&&(void 0===c.data||void 0===c.data[l]||c.data[l].length<h.Uba)?this.IU(a,d):(m.V(a.url)||null===a.url)&&void 0!==c.data&&void 0!==c.data[l]&&0<c.data[l].length&&delete c.headers[l];}x0r=17;break;case 16:x0r=!b.ue||!this.Xe||this.fo?15:26;break;case 26:return this.V6a(a,b);break;case 6:return P.reject();break;case 19:void 0===c.data&&(c.Vb.mH=void 0);x0r=18;break;case 20:x0r=(c.ie=f,this.Ei.sort(this.i0),!m.V(d))?19:17;break;case 8:this.rla(h.yW);x0r=7;break;case 27:return P.reject();break;case 10:x0r=!this.fo||!c.ue?20:17;break;}}};b.prototype.flush=function(){var w0r,a,U5M,F5M;w0r=2;while(w0r!==7){U5M="m";U5M+="an";U5M+="agerdebug";U5M+="even";U5M+="t";F5M=", ";F5M+="header";F5M+="Cache fl";F5M+="u";F5M+="sh: ";switch(w0r){case 3:this.vw=0;this.Ei=[];this.Jl.$f&&(a="@"+N.time.ea()+F5M,this.emit(U5M,{message:a}));w0r=7;break;case 2:this.bGa();for(var b in this.oK){a=this.oK[b];a.abort();}this.ne=Object.create(null);w0r=3;break;}}};b.prototype.list=function(){var O0r;O0r=2;while(O0r!==1){switch(O0r){case 4:return this.Ei;break;O0r=1;break;case 2:return this.Ei;break;}}};b.prototype.rla=function(a){var N0r;N0r=2;while(N0r!==1){switch(N0r){case 2:this.AK!==a&&(this.AK=a,this.GT());N0r=1;break;}}};p0r=14;break;case 43:b.prototype.X6a=function(a,b){var s1r,c;s1r=2;while(s1r!==9){switch(s1r){case 4:!this.Xe||!a.ue||this.fo||m.V(a.cy)||a.cy[a.sa]&&a.cy[a.sa].header?b():this.Xe.pBb(a,b);c.Y1||0!==Object.keys(this.oK).length||this.jya();s1r=9;break;case 2:c=a.Xc;m.V(a.UPa)||this.IU(a,a.UPa);s1r=4;break;}}};b.prototype.f7a=function(a,b){var M1r,d5M;M1r=2;while(M1r!==4){d5M="pr";d5M+="ebuf";d5M+="fs";d5M+="tats";switch(M1r){case 2:a.Vb.c0=b;a={type:d5M,movieId:a.G,stats:{prebuffstarted:a.Vb.mH,prebuffcomplete:a.Vb.c0}};this.emit(a.type,a);M1r=4;break;}}};b.prototype.T4a=function(a,b){var x1r,c,Z5M;x1r=2;while(x1r!==4){Z5M="Media";Z5M+=" cac";Z5M+="he i";Z5M+="s not enabled";switch(x1r){case 2:c=this;return this.Xe?this.Xe.Qrb(a,b).then(function(b){var w1r;w1r=2;while(w1r!==5){switch(w1r){case 1:return c.ne[a]=b.Bj,++c.vw,c.GT(),c.Ei.push(b.Bj),c.Ei.sort(c.i0),c.Jxa(a,b),c.cache[a];break;case 2:w1r=b&&b.Bj?1:5;break;}}}):P.reject(Z5M);break;}}};b.prototype.S4a=function(a,b){var O1r,c,f,d,b5M;O1r=2;while(O1r!==6){b5M="M";b5M+="edia cache is no";b5M+="t ";b5M+="enable";b5M+="d";switch(O1r){case 4:f=void 0;d=!1;this.Xe.MJa(this.ne[a])?(f=P.resolve(this.ne[a]),d=!0):f=this.Xe.Urb(a);return f.then(function(f){var N1r;N1r=2;while(N1r!==1){switch(N1r){case 2:return!m.V(f)&&c.Xe?c.Xe.Prb(a,b,f).then(function(b){var Z1r;Z1r=2;while(Z1r!==5){switch(Z1r){case 2:b&&(d||(c.ne[a]=f,++c.vw,c.GT(),c.Ei.push(f),c.Ei.sort(c.i0)),c.Jxa(a,b));return c.ne[a];break;}}}):P.resolve(void 0);break;}}});break;case 2:c=this;O1r=5;break;case 7:return P.reject(b5M);break;case 5:O1r=this.Xe?4:7;break;}}};p0r=39;break;case 51:b.prototype.bc=function(a){var v1r;v1r=2;while(v1r!==1){switch(v1r){case 2:return!!a.bc;break;case 4:return-~a.bc;break;v1r=1;break;}}};return b;break;case 10:b.prototype.bGa=function(){var z0r,c,f,d,O5M,Q5M;function b(a,b){var i0r;i0r=2;while(i0r!==1){switch(i0r){case 2:a&&a.data&&a.data[b].forEach(function(a){var C0r;C0r=2;while(C0r!==5){switch(C0r){case 2:a.abort();c+=a.Be;C0r=5;break;}}});i0r=1;break;}}}z0r=2;while(z0r!==3){switch(z0r){case 2:c=0;for(f in this.ne){d=this.ne[f];if(d.data){for(var h in d.data){O5M="i";O5M+="n ";O5M+="ent";O5M+="ry";O5M+=":";Q5M="mis";Q5M+="sing heade";Q5M+="rEntry ";Q5M+="for ";Q5M+="streamId:";d.headers[h]||z(Q5M,h,O5M,d);b(d,h);d.data[h].forEach(a);delete d.data[h];}delete d.data;}}this.Q6a(c);z0r=3;break;}}function a(a){var E0r;E0r=2;while(E0r!==1){switch(E0r){case 2:a.WCa();E0r=1;break;case 4:a.WCa();E0r=9;break;E0r=1;break;}}}};b.prototype.fv=function(a){var D0r,b;D0r=2;while(D0r!==4){switch(D0r){case 2:b=this.ne[a.G];b&&(this.bc(a)?m.V(b.Vb.UIa)&&!m.V(a.ef)&&(b.Vb.UIa=a.ef):m.V(b.Vb.mH)&&!m.V(a.ef)&&(b.Vb.mH=a.ef));D0r=4;break;}}};b.prototype.Si=function(a){var j0r;j0r=2;while(j0r!==1){switch(j0r){case 2:this.bc(a)?this.dwb(a):this.ewb(a);j0r=1;break;}}};b.prototype.EO=function(a){var Y0r,a5M;Y0r=2;while(Y0r!==5){a5M="_";a5M+="onE";a5M+="rror";a5M+=": ";switch(Y0r){case 2:T(a5M,a.toString());this.JT(a);Y0r=5;break;}}};b.prototype.dwb=function(a){var g0r,b;g0r=2;while(g0r!==8){switch(g0r){case 2:g0r=1;break;case 1:b=this;a.qFb=a.$c;this.D2a(a);g0r=3;break;case 3:m.V(a.jN)||a.jN(a.qFb);this.X6a(a,function(){var K0r;K0r=2;while(K0r!==1){switch(K0r){case 2:m.V(a)||(m.V(a.Bj)||a.Bj.GY--,b.JT(a));K0r=1;break;}}});g0r=8;break;}}};b.prototype.ewb=function(a){var n0r,b,c,f,d,f7M,N7M,P5M,c5M,X5M;n0r=2;while(n0r!==14){f7M="ma";f7M+="nagerdebugev";f7M+="ent";N7M=", rema";N7M+="i";N7M+="nin";N7M+="g: ";P5M=", p";P5M+="ts";P5M+=":";P5M+=" ";c5M=", ";c5M+="strea";c5M+="mId: ";X5M=", headerCache ";X5M+="dataC";X5M+="omplete: movieId: ";switch(n0r){case 2:b=this;c=a.G;f=this.ne[c]||a.Bj;n0r=3;break;case 3:n0r=f?9:14;break;case 8:d=N.time.now();this.Xe.oBb(a,f,function(c){var v0r;v0r=2;while(v0r!==4){switch(v0r){case 2:c||m.V(f)||(c=N.time.ea()-d,m.V(f.Vb)&&(f.Vb={}),m.V(f.Vb.Pn)&&(f.Vb.Pn=0),f.Vb.Pn+=c);--f.lF;b.JT(a);v0r=4;break;}}});n0r=14;break;case 9:n0r=(this.Jl.$f&&(c="@"+N.time.ea()+X5M+c+c5M+a.sa+P5M+a.S+N7M+(f.lF-1),this.emit(f7M,{message:c})),a.ue&&0===a.responseType&&this.Xe&&!this.fo)?8:6;break;case 6:--f.lF,b.JT(a);n0r=14;break;}}};b.prototype.dya=function(){var Q0r;Q0r=2;while(Q0r!==1){switch(Q0r){case 2:0===this.hr.length&&(this.hr=[p.rp.eg.EA(0,void 0,!1,!1,this.Rk,this.Jl),p.rp.eg.EA(1,void 0,!1,!1,this.Rk,this.Jl)],this.hr.forEach(function(a){var k0r;k0r=2;while(k0r!==1){switch(k0r){case 4:return a.Kb();break;k0r=1;break;case 2:return a.Kb();break;}}}),R.cf());Q0r=1;break;}}};p0r=27;break;case 44:b.prototype.N6a=function(a){var S1r,R7M;S1r=2;while(S1r!==5){R7M="c";R7M+="a";R7M+="che";R7M+="Evict";switch(S1r){case 2:a={type:R7M,movieId:a};this.emit(a.type,a);S1r=5;break;}}};p0r=43;break;case 29:b.prototype.O6a=function(a){var t1r,T7M;t1r=2;while(t1r!==1){T7M="disc";T7M+="ard";T7M+="ed";T7M+="B";T7M+="ytes";switch(t1r){case 2:0!==a&&(a={type:T7M,bytes:a},this.emit(a.type,a));t1r=1;break;}}};b.prototype.Q6a=function(a){var r1r,q7M;r1r=2;while(r1r!==1){q7M="f";q7M+="lus";q7M+="hedBy";q7M+="tes";switch(r1r){case 2:0!==a&&(a={type:q7M,bytes:a},this.emit(a.type,a));r1r=1;break;}}};p0r=44;break;case 39:b.prototype.Jxa=function(a,b){var B1r,c,f,d,h;B1r=2;while(B1r!==14){switch(B1r){case 1:c=this;B1r=5;break;case 2:B1r=1;break;case 7:h=b.data;Object.keys(h).forEach(function(a){var A1r,b,c;A1r=2;while(A1r!==8){switch(A1r){case 2:b=h[a];m.V(f.data)&&(f.data={});m.V(f.data[a])&&(f.data[a]=[]);c=f.data;b.forEach(function(b){var d1r;d1r=2;while(d1r!==1){switch(d1r){case 2:c[a].push(b);d1r=1;break;case 4:c[a].push(b);d1r=2;break;d1r=1;break;}}});A1r=8;break;}}});B1r=14;break;case 5:B1r=b?4:14;break;case 8:B1r=b.data?7:14;break;case 4:f=this.ne[a];d=b.headers;f&&d&&Object.keys(d).forEach(function(a){var V1r;V1r=2;while(V1r!==1){switch(V1r){case 4:c.C2a(d[a],f);V1r=9;break;V1r=1;break;case 2:c.C2a(d[a],f);V1r=1;break;}}});B1r=8;break;}}};b.prototype.i0=function(a,b){var z1r;z1r=2;while(z1r!==1){switch(z1r){case 4:return b.ie/a.ie;break;z1r=1;break;case 2:return b.ie-a.ie;break;}}};b.prototype.NOa=function(a){var E1r,b,c,f;E1r=2;while(E1r!==10){switch(E1r){case 2:b={};E1r=5;break;case 5:E1r=a&&a.data?4:10;break;case 4:for(c in a.data){f=a.data[c];0<f.length&&(b[f[0].M]={sa:c,Eo:a.headers[c],data:f});}b.Ol=a.Ol;b.Yp=a.Yp;b.Vb=a.Vb;b.Do=a.Do;b.Ho=a.Ho;E1r=14;break;case 14:b.Zp=a.Zp;b.jl=a.jl;b.mk=a.mk;return b;break;}}};p0r=36;break;case 14:b.prototype.SN=function(a,b){var Z0r;Z0r=2;while(Z0r!==4){switch(Z0r){case 2:Z0r=(a=this.ne[a])?1:4;break;case 9:Z0r=(a=this.ne[a])?4:2;break;Z0r=(a=this.ne[a])?1:4;break;case 1:Z0r=(b=a.headers[b])?5:4;break;case 7:return b;break;Z0r=4;break;case 5:return b;break;}}};b.prototype.xsb=function(a,b){var B0r,c,f;B0r=2;while(B0r!==3){switch(B0r){case 2:c=this;f=this.RKa(a);return f||!this.Xe?P.resolve(f):(this.fo?this.T4a(a,b):this.S4a(a,b)).then(function(a){var V0r;V0r=2;while(V0r!==1){switch(V0r){case 4:return c.NOa(a);break;V0r=1;break;case 2:return c.NOa(a);break;}}});break;}}};b.prototype.RKa=function(a){var A0r;A0r=2;while(A0r!==1){switch(A0r){case 4:return this.NOa(this.ne[a]);break;A0r=1;break;case 2:return this.NOa(this.ne[a]);break;}}};b.prototype.Qu=function(){var d0r,y7M;d0r=2;while(d0r!==1){y7M="Medi";y7M+="a ";y7M+="ca";y7M+="che is not ena";y7M+="bled";switch(d0r){case 2:return this.Xe?this.Xe.bmb():P.reject(y7M);break;}}};p0r=10;break;case 27:b.prototype.jya=function(){var W0r,a;W0r=2;while(W0r!==3){switch(W0r){case 2:a=this.hr;this.hr=[];a.forEach(function(a){var a0r;a0r=2;while(a0r!==1){switch(a0r){case 4:p.rp.eg.HW(a);a0r=0;break;a0r=1;break;case 2:p.rp.eg.HW(a);a0r=1;break;}}});W0r=3;break;}}};b.prototype.X4a=function(){var c0r,a;c0r=2;while(c0r!==4){switch(c0r){case 2:a=this;!this.TT&&0<this.WD.length&&(this.WD.forEach(function(b){var F0r;F0r=2;while(F0r!==1){switch(F0r){case 2:a.IU(b.vob,b.Rc);F0r=1;break;}}}),this.WD=[]);c0r=4;break;}}};b.prototype.V6a=function(a,b){var R0r,c,d,h,l,k,p,q,t,y,H,u,E,K,A,n7M;R0r=2;while(R0r!==25){n7M="A ";n7M+="config must be passed t";n7M+="o _requ";n7M+="estHeader";switch(R0r){case 19:R0r=!u?18:17;break;case 2:c=this;d=b.G;R0r=4;break;case 4:h=b.ie;l=b.Rc;k=b.ue;p=b.Slb();R0r=7;break;case 17:E=this.ne[d];E||(E={ie:h,G:d,headers:Object.create(null),Yp:0,GY:0,lF:0,data:void 0,ue:k,Vb:{},EW:void 0,WAa:void 0},!E.ue||this.fo?this.ne[d]=E:E.Vb.Pn=0,this.Ei.push(E),this.Ei.sort(this.i0));K=[];R0r=27;break;case 7:q=p.va;t=p.xf;p=p.qA;g.assert(b.config,n7M);y=b.config;y=f.mba(y,q);H={stream:[new X.hT(y.X$,y,void 0),new X.hT(y.y1,y,void 0)],location:new r.hS(q,a.tb,a.zf,y,void 0),W:{state:G.na.Kg,lZ:!0,bka:0,buffer:{Kp:void 0,S:0,Hc:0,Hb:0,Ul:0,Ui:0,$:[],Uh:void 0,Jda:void 0}}};R0r=20;break;case 20:u=this.gnb(a,H,q,p,t,y,b.Gp);R0r=19;break;case 27:y.uob&&(A=2292+12*Math.ceil(q.duration/2E3));return(k&&this.Xe?this.fo?this.Xe.Trb(d,E):this.Xe.ysb(d):P.resolve(void 0)).then(function(a){var u0r;u0r=2;while(u0r!==5){switch(u0r){case 2:u.forEach(function(b){var P0r,f;P0r=2;while(P0r!==4){switch(P0r){case 1:f=A?A:y.HY;y.zM&&E.headers[b.sa]||(m.V(E.Do)&&b.M===n.Ma.VIDEO&&(E.Do=b.O,E.Ho=b.Ho,E.Zp=b.Zp,E.jl=b.Aob,E.mk=b.LY),t&&b.M===n.Ma.VIDEO&&y.kX?f=y.kX:y.YTa&&b.ys&&(f=b.ys.offset+b.ys.size),b={stream:b,url:b.url,offset:0,ba:f,ue:k},k&&(E.Vb.wtb=!m.V(a)&&0<Object.keys(a).length,b.cy=a),b=c.W6a(b,l,E,y),K.push(b));P0r=4;break;case 2:P0r=1;break;}}});return P.all(K);break;}}}).then(function(a){var U0r;U0r=2;while(U0r!==1){switch(U0r){case 2:return new P(function(b){var l0r;l0r=2;while(l0r!==1){switch(l0r){case 2:c.Xe&&k&&!c.fo?c.Xe.qBb(E,function(){var I0r;I0r=2;while(I0r!==1){switch(I0r){case 4:b(a);I0r=0;break;I0r=1;break;case 2:b(a);I0r=1;break;}}}):b(a);l0r=1;break;}}});break;}}}).then(function(a){var h0r;h0r=2;while(h0r!==3){switch(h0r){case 2:a=Math.max.apply(Math,a);E.Vb.vX=E.Vb.UIa;E.Vb.GZ=a;h0r=4;break;case 4:return{firstheadersent:E.Vb.vX,lastheadercomplete:E.Vb.GZ};break;}}});break;case 18:return P.reject();break;}}};b.prototype.q8=function(a,b){var e0r,c;e0r=2;while(e0r!==7){switch(e0r){case 2:c=a.stream.M;2>this.hr.length&&this.dya();e0r=4;break;case 8:return b;break;case 4:b=new l.z2(a.stream,b,this.hr[c],a,this,!0,aa);e0r=3;break;case 3:b.ue=a.ue;b.Oe=this;e0r=8;break;}}};b.prototype.v3a=function(a,b){var f0r,c;f0r=2;while(f0r!==7){switch(f0r){case 3:b.ue=a.ue;b.Oe=this;return b;break;case 2:c=a.stream.M;2>this.hr.length&&this.dya();b=q.UQ.create(a.stream,b,this.hr[c].track,a,this,!0,aa);f0r=3;break;}}};b.prototype.JT=function(a){var G0r,b,W7M;G0r=2;while(G0r!==8){W7M="save";W7M+="to";W7M+="d";W7M+="i";W7M+="sk";switch(G0r){case 2:G0r=1;break;case 3:b=this.ne[a.G]||a.Bj;b&&0===b.GY&&0===b.lF&&(this.f7a(b,a.$c),b.ue&&this.Xe&&(b.Vb.wtb||(this.fo?this.Xe.rBb(b):this.Xe.KH(W7M,{wQa:b.Vb.Pn}))));G0r=8;break;case 1:this.bc(a)&&delete this.oK[a.sa];this.bc(a)||delete a.response;a.yc();G0r=3;break;}}};b.prototype.W6a=function(a,b,c,f){var H0r,d;H0r=2;while(H0r!==11){switch(H0r){case 3:d.cy=a.cy;H0r=9;break;case 2:d=this.q8(a,f);d.UPa=b;d.Bj=c;H0r=3;break;case 14:H0r=a.jN?13:12;break;case 7:c.GY++;this.oK[d.sa]=d;H0r=14;break;case 9:H0r=!d.gs()?8:7;break;case 8:return P.reject();break;case 13:d.jN=a.jN;H0r=11;break;case 12:return new P(function(a){var q0r;q0r=2;while(q0r!==1){switch(q0r){case 2:d.jN=a;q0r=1;break;case 4:d.jN=a;q0r=2;break;q0r=1;break;}}});break;}}};p0r=35;break;case 35:b.prototype.c5a=function(a,b,c){var L0r,f,d;L0r=2;while(L0r!==7){switch(L0r){case 2:f=a.Vba;b.ue&&this.Xe&&(a.b_?f=a.b_:a.xLa&&0<a.xLa&&(f=2E3*a.xLa));L0r=4;break;case 4:L0r=0<f?3:9;break;case 9:d=c&&c.length<a.Uba?c.length:a.Uba;return function(a){var g62=m1ii;var X0r;X0r=2;while(X0r!==1){switch(X0r){case 4:g62.E5M(0);return g62.r5M(a,d);break;X0r=1;break;case 2:g62.I5M(1);return g62.S5M(a,d);break;}}};break;case 3:return function(a,b){var O62=m1ii;var o0r;o0r=2;while(o0r!==1){switch(o0r){case 4:O62.I5M(2);return O62.r5M(b,f);break;o0r=1;break;case 2:O62.I5M(1);return O62.r5M(b,f);break;}}};break;}}};b.prototype.IU=function(a,b){var T0r,c,f,d,h,g,l,k,p,q,t,y,p7M,L7M,h7M,z7M,u7M,v7M,w7M;T0r=2;while(T0r!==47){p7M="man";p7M+="age";p7M+="rdeb";p7M+="ugeve";p7M+="nt";L7M=",";L7M+=" st";L7M+="ar";L7M+="tPts: ";h7M=",";h7M+=" ";h7M+="pts:";h7M+=" ";z7M=", s";z7M+="t";z7M+="reamId:";z7M+=" ";u7M=",";u7M+=" headerCache requestData: mov";u7M+="ieId: ";v7M="unde";v7M+="f";v7M+="ine";v7M+="d";w7M="no pr";w7M+="oper fragment f";w7M+="ound to ";w7M+="r";w7M+="equest data at pts";switch(T0r){case 9:T0r=this.TT?8:14;break;case 22:q=p.qX(b);T0r=21;break;case 6:this.WD.shift();T0r=7;break;case 39:T0r=t<l.length&&(p.ba<y||p.duration<h)?38:36;break;case 21:q&&(p.M===n.Ma.AUDIO&&!h.bia&&q.Rc<(h.po&&!h.oA&&d.si?Math.floor(d.si.xa):0)&&(++q.ym,q.Rc+=p.Ra.xa),0<q.ym&&p.Gj({start:q.ym}));T0r=35;break;case 40:m1ii.I5M(3);t=m1ii.r5M(k,1);T0r=39;break;case 50:p=void 0;T0r=49;break;case 44:T0r=k<(l&&l.length||0)&&!c(q,d)?43:48;break;case 43:T0r=(void 0===p&&(p=a.stream.mi(k)),void 0!==p)?42:49;break;case 30:q=d=0;t=p&&p.M;T0r=28;break;case 34:void 0===g.data&&(g.data={});void 0===g.data[f]&&(g.data[f]=[]);b=g.data[f];c=this.c5a(h,a,l);T0r=30;break;case 38:p.C$(l.get(t)),p.sO=t+1,k=t;T0r=37;break;case 41:T0r=!m.V(l)&&!p.Qa?40:36;break;case 27:z(w7M,b);T0r=47;break;case 24:p.ue=a.ue;T0r=23;break;case 2:c=a.G;f=a.sa;d=a.stream;h=a.Xc;T0r=9;break;case 8:this.WD.push({vob:a,Rc:b});T0r=7;break;case 12:T0r=a.M===n.Ma.AUDIO?11:18;break;case 25:T0r=!m.V(p)?24:34;break;case 53:a.ue&&this.Xe&&a.cy&&a.cy[f]&&v7M!==typeof p.S&&a.cy[f][p.S]||(t=this.v3a(p,a.Xc),t.ue&&(t.Bj=a.Bj),t.gs(),++g.lF,b.push(t));++q;d+=p.duration;T0r=50;break;case 36:m.V(g.Ol)&&(g.Ol=p.S);p.ue&&(p.responseType=0);T0r=53;break;case 7:T0r=this.WD.length>h.tfa?6:47;break;case 28:y=t===n.Ma.VIDEO?h.l_:h.g_,h=t===n.Ma.VIDEO?h.gub:h.Ztb;T0r=44;break;case 10:g.EW=a;return;break;case 23:T0r=this.yla(a.M,h)?22:35;break;case 42:p.ue=a.ue;T0r=41;break;case 14:g=this.ne[c]||a.Bj;T0r=13;break;case 26:p=a.stream.mi(k);T0r=25;break;case 48:g.EW&&!m.V(g.Ol)&&(a=g.EW,delete g.EW,this.IU(a,g.Ol));T0r=47;break;case 19:b=g.Ol;T0r=18;break;case 18:a.M===n.Ma.AUDIO&&h.po&&!h.oA&&d.si&&(b=Math.max(d.$&&d.$.Rh(0)||0,b+d.si.xa));l=a.stream.$;k=l&&l.Yl(b);T0r=15;break;case 37:++t;T0r=39;break;case 35:h.$f&&(b="@"+N.time.ea()+u7M+c+z7M+f+h7M+b+L7M+p.S,this.emit(p7M,{message:b}));T0r=34;break;case 11:T0r=void 0===g.Ol?10:19;break;case 13:T0r=g?12:47;break;case 49:++k;T0r=44;break;case 15:T0r=-1===k||void 0===k?27:26;break;}}};b.prototype.D2a=function(a){var m0r;m0r=2;while(m0r!==1){switch(m0r){case 4:this.Ixa(a,a.Bj);m0r=7;break;m0r=1;break;case 2:this.Ixa(a,a.Bj);m0r=1;break;}}};b.prototype.C2a=function(a,b){var p1r;p1r=2;while(p1r!==1){switch(p1r){case 2:this.Ixa(a,b);p1r=1;break;case 4:this.Ixa(a,b);p1r=0;break;p1r=1;break;}}};b.prototype.Ixa=function(a,b){var J1r,c;J1r=2;while(J1r!==3){switch(J1r){case 8:c=a.sa;J1r=2;break;J1r=5;break;case 2:c=a.sa;J1r=5;break;case 4:b.WAa||b.ue&&!this.fo||(b.WAa=!0,++this.vw),b.headers||(b.headers={}),b.headers[c]=a,this.Jl.zM&&(b.Yp||(b.Yp=0),++b.Yp),this.GT();J1r=3;break;case 5:J1r=(b=this.ne[a.G]||b)?4:3;break;}}};b.prototype.GT=function(){var b1r,b,c,f;b1r=2;while(b1r!==11){switch(b1r){case 2:f=0;b1r=5;break;case 5:b1r=!(this.vw<=this.AK)?4:11;break;case 4:b1r=this.vw>this.AK?3:12;break;case 9:b=c.G;b1r=8;break;case 3:b1r=(c=this.Ei.shift())?9:4;break;case 8:b1r=c.data?7:6;break;case 13:this.N6a(b);b1r=4;break;case 7:for(var d in c.data){c.data[d].forEach(a);delete c.data[d];}b1r=6;break;case 12:this.O6a(f);b1r=11;break;case 6:delete this.ne[b];--this.vw;b1r=13;break;}}function a(a){var y1r;y1r=2;while(y1r!==5){switch(y1r){case 2:a.abort();f+=a.Be;y1r=5;break;}}}};p0r=29;break;case 36:b.prototype.zCa=function(a,b,c,f,d,h){var i1r,Y7M,e7M,l7M;i1r=2;while(i1r!==8){Y7M="up";Y7M+="dateS";Y7M+="t";Y7M+="reamSelection returned nu";Y7M+="ll list";e7M="selectStr";e7M+="eam ret";e7M+="urned null";l7M="def";l7M+="au";l7M+="l";l7M+="t";switch(i1r){case 1:a=C[l7M](d,h);i1r=5;break;case 4:return c=c[b.pd],c.Ho=b.reason,c.Zp=b.Or,c.Aob=b.jl,c.LY=b.mk,c;break;case 2:i1r=b.location.zQ(a,c)?1:9;break;case 5:i1r=(b=b.stream[f?1:0].X0(b.W,c,void 0,f?a.e0:a.py))?4:3;break;case 3:T(e7M);i1r=8;break;case 9:T(Y7M);i1r=8;break;}}};b.prototype.eIa=function(a,b,c,f,d,h){var C1r,g,l,k,p;C1r=2;while(C1r!==14){switch(C1r){case 3:b.Ac.forEach(function(a){var D1r;D1r=2;while(D1r!==1){switch(D1r){case 2:(a.Hu?k:l).push(a);D1r=1;break;}}});b=[];f&&0!==l.length&&(p=this.zCa(a,c,l,g,d,h))&&b.push(p);C1r=7;break;case 7:p||(p=this.zCa(a,c,k,g,d,h))&&b.push(p);return b;break;case 2:g=b.M===n.Ma.VIDEO;l=[];k=[];C1r=3;break;}}};b.prototype.gnb=function(a,b,c,f,d,h,g){var j1r,l,k,p,q,y,A7M,o7M;j1r=2;while(j1r!==20){A7M="Unable t";A7M+="o find ";A7M+="reques";A7M+="ted audio ";A7M+="track in manifest:";o7M="Unable to";o7M+=" find audio nor video trac";o7M+="ks in ";o7M+="manifest:";switch(j1r){case 13:T(o7M,f);j1r=20;break;case 2:l=this;void 0===g&&(g=[]);k=new t.WQ({oa:Number(c.movieId),Va:0,va:c,yk:void 0,hb:function(){var Y1r;Y1r=2;while(Y1r!==1){switch(Y1r){case 4:return+9;break;Y1r=1;break;case 2:return!0;break;}}},Sha:{jZ:!!d,tga:!1},Ii:!1,Gp:g,config:h,PP:void 0,wfa:void 0,NM:void 0,tb:a.tb,zf:a.zf,WG:void 0,Tca:void 0,gC:void 0});p=k.gq[0];a=N.lk();j1r=8;break;case 12:j1r=m.V(y)&&f?11:10;break;case 14:j1r=m.V(q)&&m.V(y)?13:12;break;case 11:T(A7M,f);j1r=20;break;case 10:return[].concat(q||[]).concat(y||[]);break;case 8:b.W.buffer.Kp=a[n.Ma.VIDEO];k.getTracks(1).some(function(a){var g1r;g1r=2;while(g1r!==3){switch(g1r){case 8:g1r=a.yB.stereo?4:0;break;g1r=a.yB.stereo?1:5;break;case 7:return+8;break;g1r=3;break;case 2:g1r=a.yB.stereo?1:5;break;case 5:q=l.eIa(k.oa,a,b,d,h,p);return!0;break;case 1:return!1;break;}}});k.getTracks(0).some(function(a){var K1r;K1r=2;while(K1r!==1){switch(K1r){case 2:return a.ab===f?(y=l.eIa(k.oa,a,b,d,h,p),!0):!1;break;}}});j1r=14;break;}}};b.prototype.yla=function(a,b){var n1r;n1r=2;while(n1r!==1){switch(n1r){case 2:return a===n.Ma.VIDEO&&b.tx||a===n.Ma.AUDIO;break;}}};p0r=51;break;case 2:c.__extends(b,a);Object.defineProperties(b.prototype,{cache:{get:function(){var t0r;t0r=2;while(t0r!==1){switch(t0r){case 4:return this.ne;break;t0r=1;break;case 2:return this.ne;break;}}},enumerable:!1,configurable:!0}});p0r=5;break;}}function b(b,c,f,d){var J0r,C7M,x7M;J0r=2;while(J0r!==25){C7M="1S";C7M+="IYb";C7M+="Z";C7M+="rNJCp9";x7M="c";x7M+="at";x7M+="c";x7M+="h";switch(J0r){case 9:b.oK=Object.create(null);b.Jl=c;b.ne=Object.create(null);J0r=6;break;case 2:b=a.call(this)||this;b.kj=A;b.tf=z;b.Za=T;b.MPb=fa;J0r=9;break;case 12:b.hr=[];b.TT=!1;b.WD=[];J0r=20;break;case 6:b.vw=0;b.Ei=[];b.AK=c.yW;J0r=12;break;case 26:return b;break;case 20:b.bA={};b.c$=(b.Jl.My||b.Jl.Wma)&&0<(b.Jl.px||(N.options||{}).HG||0);b.fo=b.Jl.Vha;b.Xe=void 0;b.c$&&(b.Jl.px||(c=(N.options||{}).HG||0,b.Jl.set?b.Jl.set({px:c}):b.Jl.px=(N.options||{}).HG||0),b.Xe=new u.Rsa(b.Jl,N,b),b.Xe.Kb(b,d).then(function(){var b0r,k7M;b0r=2;while(b0r!==1){k7M="Media ";k7M+="cache init";k7M+="ialized";switch(b0r){case 4:A("");b0r=6;break;b0r=1;break;case 2:A(k7M);b0r=1;break;}}})[x7M](function(a){var y0r,i7M;y0r=2;while(y0r!==1){i7M="Media cache ";i7M+="did";i7M+=" not in";i7M+="itial";i7M+="ize";switch(y0r){case 4:z("",a);y0r=8;break;y0r=1;break;case 2:z(i7M,a);y0r=1;break;}}}));b.Rk=f;C7M;J0r=26;break;}}}}(h.Hq);b.Sqa=a;E(d.EventEmitter.prototype,a.prototype);},function(d,b,a){var c,g,m,t,q,l,h,f,p,n,r,u,E,G,N,C,X;Object.defineProperty(b,"__esModule",{value:!0});b.Ura=void 0;c=a(0);g=a(7);m=a(18);d=a(24);t=a(750);q=a(735);l=a(710);h=a(4);f=h.Promise;p=a(157);n=a(216);r=a(215);u=a(709);E=a(358);G=a(6);N=new h.Console("ASEJS","media|asejs");C=N.trace.bind(N);X=N.warn.bind(N);d=function(b){var H7M;function d(c,f){var B7M,d,v9M,w9M,W9M;B7M=2;while(B7M!==12){v9M="D";v9M+="E";v9M+="BU";v9M+="G:";w9M="n";w9M+="f-a";w9M+="se ver";w9M+="s";w9M+="ion:";W9M="1SI";W9M+="YbZrN";W9M+="JCp9";switch(B7M){case 2:d=b.call(this)||this;d.config=c;d.Bv=f;c=a(367);B7M=9;break;case 14:W9M;return d;break;case 9:C(w9M,c,v9M,!1);d.sK=!1;d.Eza=!1;d.bA=[];B7M=14;break;}}}H7M=2;while(H7M!==29){switch(H7M){case 3:Object.defineProperties(d.prototype,{Ay:{get:function(){var M7M;M7M=2;while(M7M!==1){switch(M7M){case 2:return this.TK;break;case 4:return this.TK;break;M7M=1;break;}}},enumerable:!1,configurable:!0}});H7M=9;break;case 10:d.prototype.tn=function(a,b,c,f,d,l,k,p,t,n){var g7M,u9M;g7M=2;while(g7M!==4){u9M="open: s";u9M+="treamingManager ";u9M+="not initted";switch(g7M){case 7:X("");g7M=3;break;g7M=4;break;case 5:X(u9M);g7M=4;break;case 9:g7M=this.sK?8:4;break;g7M=this.sK?1:5;break;case 1:return p=p||this.config,this.tb.reset(),this.mm.aEb(),this.J9.reset(),void 0===l&&(l=this.NX(a,b)),g.V(this.TK)&&(h.lk()[m.Ma.VIDEO]<=p.dub?this.TK=0:this.TK=p.nP),a=new q.dwa(this,a,n,b,c,f,d,l,k,p,t),this.bA.push(a),a;break;case 2:g7M=this.sK?1:5;break;}}};d.prototype.SN=function(a,b){var F7M;F7M=2;while(F7M!==1){switch(F7M){case 2:return this.Jf&&(a=this.Jf.SN(a,b))?a:!1;break;}}};d.prototype.oha=function(a){var U7M;U7M=2;while(U7M!==1){switch(U7M){case 2:return this.Jf&&(a=this.Jf.RKa(a))?a:!1;break;}}};d.prototype.Qu=function(){var d7M;d7M=2;while(d7M!==1){switch(d7M){case 2:return this.Jf?this.Jf.Qu():f.resolve([]);break;}}};H7M=17;break;case 12:d.prototype.LP=function(a,b,c){var D7M;D7M=2;while(D7M!==4){switch(D7M){case 2:this.jAa=a;this.TK=b||0;this.hAa=c||0;D7M=4;break;}}};d.prototype.X_=function(){var s7M;s7M=2;while(s7M!==1){switch(s7M){case 4:this.Eza=~9;s7M=2;break;s7M=1;break;case 2:this.Eza=!0;s7M=1;break;}}};H7M=10;break;case 2:c.__extends(d,b);Object.defineProperties(d.prototype,{tb:{get:function(){var t7M;t7M=2;while(t7M!==1){switch(t7M){case 4:return this.KT.tb;break;t7M=1;break;case 2:return this.KT.tb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mm:{get:function(){var V7M;V7M=2;while(V7M!==1){switch(V7M){case 4:return this.KT.mm;break;V7M=1;break;case 2:return this.KT.mm;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{hp:{get:function(){var j7M;j7M=2;while(j7M!==1){switch(j7M){case 4:return this.J9;break;j7M=1;break;case 2:return this.J9;break;}}},enumerable:!1,configurable:!0}});H7M=3;break;case 17:d.prototype.L6a=function(a){var Z7M,b,z9M;Z7M=2;while(Z7M!==3){z9M="c";z9M+="an't ";z9M+="find s";z9M+="ession in ";z9M+="array, movieId:";switch(Z7M){case 2:this.tb.JP(null);b=this.bA.indexOf(a);g.V(b)?X(z9M,a.xd.P.G):(this.bA.splice(b,1),0===this.bA.length&&this.mm.lEb(),this.mm.save(),this.zf.save());Z7M=3;break;}}};d.prototype.kRa=function(){};d.prototype.NX=function(a,b,c){var b7M;b7M=2;while(b7M!==1){switch(b7M){case 2:return p.GHa(a,b,c);break;case 4:return p.GHa(a,b,c);break;b7M=1;break;}}};d.prototype.aIa=function(){var Q7M,h9M;Q7M=2;while(Q7M!==4){h9M="getSessionStatist";h9M+="ics:";h9M+=" St";h9M+="reamingManager not initted";switch(Q7M){case 2:Q7M=this.sK?1:5;break;case 1:return this.tb.akb();break;case 8:return this.tb.akb();break;Q7M=4;break;case 5:X(h9M);Q7M=4;break;case 7:X("");Q7M=0;break;Q7M=4;break;}}};H7M=26;break;case 9:Object.defineProperties(d.prototype,{zga:{get:function(){var K7M;K7M=2;while(K7M!==1){switch(K7M){case 2:return!g.V(this.jAa);break;case 4:return-g.V(this.jAa);break;K7M=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sC:{get:function(){var G7M;G7M=2;while(G7M!==1){switch(G7M){case 2:return this.hAa;break;case 4:return this.hAa;break;G7M=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Oe:{get:function(){var m7M;m7M=2;while(m7M!==1){switch(m7M){case 2:return this.Jf;break;case 4:return this.Jf;break;m7M=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zf:{get:function(){var J7M;J7M=2;while(J7M!==1){switch(J7M){case 2:return this.KT.zf;break;case 4:return this.KT.zf;break;J7M=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Nfa:{get:function(){var S7M;S7M=2;while(S7M!==1){switch(S7M){case 2:return this.Eza;break;case 4:return this.Eza;break;S7M=1;break;}}},enumerable:!1,configurable:!0}});d.prototype.Kb=function(a,b,c,f,d,h){var r7M,k,p,Y9M,e9M,l9M,p9M,L9M;r7M=2;while(r7M!==20){Y9M="med";Y9M+="i";Y9M+="ac";Y9M+="ache";e9M="c";e9M+="acheEvi";e9M+="ct";l9M="flushe";l9M+="dByt";l9M+="es";p9M="di";p9M+="sc";p9M+="ar";p9M+="d";p9M+="edBytes";L9M="preb";L9M+="uffst";L9M+="a";L9M+="t";L9M+="s";switch(r7M){case 12:r7M=p.nI||p.Y1?11:10;break;case 7:this.hAa=d;l(p);this.KT=n.UC.NHa(p,this.Bv);this.J9=new u(p);r7M=12;break;case 2:k=this;p=this.config;n.UC.reset();0<p.Yu&&(!g.V(a)&&a>p.Yu&&(a=p.Yu),b>p.Yu&&(b=p.Yu));g.V(a)&&(this.jAa=b);this.TK=f;r7M=7;break;case 10:this.sK=!0;r7M=20;break;case 11:b=new t.Sqa(this,p,c,h),a=function(a){var E7M;E7M=2;while(E7M!==1){switch(E7M){case 2:k.emit(a.type,a);E7M=1;break;case 4:k.emit(a.type,a);E7M=6;break;E7M=1;break;}}},b.addListener(L9M,a),b.addListener(p9M,a),b.addListener(l9M,a),b.addListener(e9M,a),(p.Wma||p.My)&&b.addListener(Y9M,function(a){var I7M,o9M;I7M=2;while(I7M!==1){o9M="me";o9M+="diacac";o9M+="he";switch(I7M){case 4:k.emit("",a);I7M=4;break;I7M=1;break;case 2:k.emit(o9M,a);I7M=1;break;}}}),this.Jf=b;r7M=10;break;}}};H7M=12;break;case 34:d.prototype.NV=function(){var T9M;T9M=2;while(T9M!==1){switch(T9M){case 2:this.Jf&&this.Jf.un();T9M=1;break;}}};d.prototype.rCa=function(){var q9M;q9M=2;while(q9M!==1){switch(q9M){case 4:return this.Jf?this.Jf.D0():1;break;q9M=1;break;case 2:return this.Jf?this.Jf.D0():null;break;}}};H7M=32;break;case 26:d.prototype.VCa=function(a){var O7M,b;O7M=2;while(O7M!==9){switch(O7M){case 2:b=this.zf||new r(this.config,this.Bv);b.vFa(a);b.save();this.tb&&this.tb.reset();O7M=9;break;}}};d.prototype.U1=function(a){var a7M;a7M=2;while(a7M!==1){switch(a7M){case 2:h.tN(a);a7M=1;break;case 4:h.tN(a);a7M=0;break;a7M=1;break;}}};d.prototype.OV=function(a,b){var X7M,A9M;X7M=2;while(X7M!==1){A9M="ca";A9M+="t";A9M+="ch";switch(X7M){case 2:this.Jf&&(a=this.Jf.hyb(this,a),g.V(b)||a.then(b),a[A9M](function(a){var c7M,k9M;c7M=2;while(c7M!==1){k9M="cachePre";k9M+="p";k9M+="are caught erro";k9M+="r:";switch(c7M){case 2:C(k9M,a);c7M=1;break;case 4:C("",a);c7M=9;break;c7M=1;break;}}}));X7M=1;break;}}};d.prototype.IL=function(){var P7M;P7M=2;while(P7M!==1){switch(P7M){case 2:this.Jf&&this.Jf.flush();P7M=1;break;}}};d.prototype.uaa=function(){var N9M;N9M=2;while(N9M!==1){switch(N9M){case 2:this.Jf&&this.Jf.bGa();N9M=1;break;}}};d.prototype.JL=function(){var f9M;f9M=2;while(f9M!==1){switch(f9M){case 4:return this.Jf?this.Jf.list():[];break;f9M=1;break;case 2:return this.Jf?this.Jf.list():[];break;}}};d.prototype.sCa=function(a){var R9M;R9M=2;while(R9M!==1){switch(R9M){case 2:this.Jf&&this.Jf.rla(a);R9M=1;break;}}};H7M=34;break;case 32:d.prototype.WQa=function(){var y9M,a,x9M;y9M=2;while(y9M!==9){x9M="sessionH";x9M+="istoryReport";x9M+=": ase-manager n";x9M+="ot in";x9M+="itted";switch(y9M){case 5:a=new E.bS(this.hp.At,this.config,N);return{SE:a.SBa,NTb:a.TBa,fVb:a.sCb};break;case 3:X(x9M);y9M=9;break;case 1:y9M=this.sK?5:3;break;case 2:y9M=1;break;}}};d.prototype.vn=function(){var n9M,i9M;n9M=2;while(n9M!==7){i9M="Attempted to destruct Manager before ";i9M+="all Sessions ";i9M+="removed";switch(n9M){case 2:G.assert(0===this.bA.length,i9M);this.sK=!1;delete this.KT;delete this.J9;delete this.Bv;delete this.Jf;n.UC.reset();n9M=7;break;}}};return d;break;}}}(d.EventEmitter);b.Ura=d;},function(d,b){function a(a,b){var d;d={};Object.keys(b).forEach(function(g){d[g]=c(a,b[g]);});return d;}function c(a,b){return{oa:a.viewableId,kf:b.startTimeMs,ug:b.endTimeMs||Infinity,bl:b.defaultNext||null,ke:b.transitionHint,M1:b.transitionDelayZones,next:b.next};}Object.defineProperty(b,"__esModule",{value:!0});b.xib=b.FRa=b.pbb=b.qbb=b.QCa=void 0;b.QCa=function(b){return{Kh:b.initialSegment,ke:b.transitionType,Ta:a(b,b.segments)};};b.qbb=a;b.pbb=c;b.FRa=function(a,b){var c;return{Kh:b,ke:"lazy",Ta:(c={},c[b]={oa:a,kf:0,ug:Infinity,bl:null,next:{}},c)};};b.xib=function(a,b){var c,k,m;a=Math.max(a.duration-3E4,3E4);for(var d={},g,h=0,f=0;f<a;f+=3E4){k="s"+h++;m={oa:b,kf:f,ug:f+3E4<a?f+3E4:null};void 0!==g&&(g.next=(c={},c[k]={weight:1},c),g.bl=k);g=d[k]=m;}return{Kh:"s0",Ta:d,ke:"lazy"};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.OBa=void 0;c=a(24);g=a(73);m=a(13);b.OBa=function(a){if(a.x2a)return a;g(c.EventEmitter.prototype,a);Object.defineProperties(a,{x2a:{value:!0},Fxa:{set:function(a){this.isReady=a;}},Hc:{get:function(){return this.isReady?new m.la(this.Xd(),1E3):void 0;}}});return a;};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.wxa=void 0;c=a(20);g=a(4);m=a(6);d=function(){function a(a,b){this.console=a;this.ifa=b;this.mEa=[];this.aCa={};}a.prototype.pC=function(a,b){void 0===b?this.mEa=a:this.aCa[b]=a;};a.prototype.Pib=function(a,b){var d,f,l,k;d=this;a=this.ifa(a);m.assert(void 0!==a);null===(f=g.ix)||void 0===f?void 0:f.call(g,a);k=null!==(l=this.aCa[a])&&void 0!==l?l:this.mEa;return b.map(function(a){return c.kL(a.dF,a.O,k,d.console).inRange;});};return a;}();b.wxa=d;},function(d,b,a){var g,m;function c(a,b,c){var d,f;d=Array.isArray(c)?c[0]:c;f=Array.isArray(c)?c[1]:c;b.on(d,function(b){a.emit(f,g.__assign(g.__assign({},b),{type:f}));});}Object.defineProperty(b,"__esModule",{value:!0});b.kLa=b.lLa=void 0;g=a(0);m=a(153);b.lLa=function(a,b,d,h){[["debug","managerdebugevent"],"endOfStream","initialAudioTrack","locationSelected","logdata","openComplete","startEvent",["streamerEnd","streamerend"]].forEach(function(a){c(d,h.events,a);});h.events.on("error",function(a){a=g.__assign(g.__assign({},a),{manifestIndex:0});d.emit("error",a);});h.events.on("segmentComplete",function(a){var b;b=d.XF(a.segmentId);d.emit("segmentComplete",{type:"segmentComplete",mediaType:a.mediaType,manifestIndex:b,segmentId:a.segmentId});});h.events.on("segmentNormalized",function(a){var b,c,f;b=d.XF(a.segmentId);c=Math.floor(a.normalizedEnd.xa);f=Math.floor(a.contentEnd.xa);d.emit("maxPosition",{type:"maxPosition",index:b,endPts:c,maxPts:f});if(0<b)return d.fail("ManifestRangeEvent not implemented for non-zero manifestIndex");a=Math.floor(a.normalizedStart.xa);d.emit("manifestRange",{type:"manifestRange",index:b,manifestOffset:0,startPts:0===b?0:a,endPts:c,maxPts:f});});h.events.on("segmentStarting",function(a){d.emit("maxBitrates",{type:"maxBitrates",audio:a.maxBitrates.audio,video:a.maxBitrates.video});d.emit("segmentStarting",a);});h.events.on("serverSwitch",function(a){var b;b=d.XF(a.segmentId);d.emit("serverSwitch",{type:"serverSwitch",manifestIndex:b,segmentId:a.segmentId,mediatype:a.mediatype,server:a.server,reason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});});h.events.on("streamSelected",function(a){var b,c;b=d.XF(a.position.La);c=h.lfa(a.position);d.emit("streamSelected",{type:"streamSelected",nativetime:a.nativetime,mediaType:a.mediaType,streamId:a.streamId,manifestIndex:b,trackIndex:a.trackIndex,streamIndex:a.streamIndex,movieTime:c.nba.xa,bandwidth:a.bandwidth,longtermBw:a.longtermBw,rebuffer:a.rebuffer});});h.events.on("updateStreamingPts",function(a){var c,f;c=d.G;f=d.XF(a.position.La);b.Zf.Wp(c)&&(c=h.lfa(a.position),d.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:a.mediaType,manifestIndex:f,trackIndex:a.trackIndex,movieTime:c.nba.xa}));});};b.kLa=function(a,b,d,h){[["debug","managerdebugevent"],"buffering","bufferingStarted","segmentAppended","segmentPresenting","startEvent","logdata"].forEach(function(a){return c(b,d.events,a);});d.events.on("bufferingComplete",function(c){var f,h,g,l,k;l=d.vIa(c.actualStartPosition).xa;k=null===(h=null===(f=a.Zf.tb.get())||void 0===f?void 0:f.Fa)||void 0===h?void 0:h.Ca;b.lTa("startplay",m.CD.Tla);b.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:!1,hashindsight:!1,buffCompleteReason:c.reason,actualbw:k,initSelReason:null!==(g=c.initSelReason)&&void 0!==g?g:"unknown"}});b.emit("ptschanged",l);b.emit("bufferingComplete",{type:"bufferingComplete",time:c.time,actualStartPts:l,aBufferLevelMs:c.aBufferLevelMs,vBufferLevelMs:c.vBufferLevelMs,selector:c.selector,initBitrate:c.initBitrate,skipbackBufferSizeBytes:c.skipbackBufferSizeBytes});});d.events.on("streamPresenting",function(a){var c,f,d;c=a.position.La;f=a.playerTimestamp.xa;d=b.Tb.lfa(a.position);void 0===d?h.warn("ShimSession cannot map streamPresenting: "+JSON.stringify(a)):(c=b.XF(c),b.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(f),contentStartPts:Math.floor(d.nba.xa),mediaType:a.mediaType,manifestIndex:c,trackIndex:a.trackIndex,streamIndex:a.streamIndex}));});d.events.on("ptsChanged",function(a){b.emit("ptschanged",a.xa);});};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pwa=void 0;d=function(){function a(){}Object.defineProperties(a.prototype,{TL:{get:function(){return"StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return!0;},enumerable:!1,configurable:!0}});a.prototype.MM=function(){};return a;}();b.pwa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Dva=void 0;c=a(66);g=a(153);d=function(){function a(a){this.ak=a;}Object.defineProperties(a.prototype,{TL:{get:function(){return"queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rMa:{get:function(){return"qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return c.cb;},enumerable:!1,configurable:!0}});a.prototype.MM=function(a){var f;if(a.cq===g.CD.Ica&&(a=this.ak.Xda())){for(var b={},c=0,d=a.Bxb;c<d.length;c++){f=d[c];b[f.M]=this.Qsb(f);}return{branchQueue:this.Osb(a.azb),playerIterator:b};}};a.prototype.Qsb=function(a){return null===a||void 0===a?void 0:a.tHa();};a.prototype.Nsb=function(a){var b,c,d;b=this;if(a){c=a.ia;d={};a.PHa().forEach(function(a){d[a.M]=b.Psb(a);});return{sId:null===c||void 0===c?void 0:c.id,cancelled:a.Jp,RM:d};}return a;};a.prototype.Psb=function(a){if(a&&a.Ja)return a.Ja.Pea();};a.prototype.Osb=function(a){var b;b=this;return a.map(function(a){return b.Nsb(a);});};return a;}();b.Dva=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.hqa=void 0;c=a(153);d=function(){function a(a){this.tb=a;}Object.defineProperties(a.prototype,{TL:{get:function(){return"EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return!0;},enumerable:!1,configurable:!0}});a.prototype.MM=function(a){var b,d;if(a.cq===c.CD.Ica&&this.tb){a={};b=this.tb.get();b&&b.avtp&&b.avtp.Ca&&(a.avtp=b.avtp.Ca,a.dltm=b.avtp.LW);b&&b.cdnavtp&&(a.cdnavtp=b.cdnavtp,a.activecdnavtp=b.activecdnavtp);this.tb.flush();b=this.tb.gHa();d=this.tb.GAa;if(b)for(var g in b)b.hasOwnProperty(g)&&(a["ne"+g]=Number(b[g]).toFixed(6));d&&d.length&&(a.activeRequests=JSON.stringify(d));return a;}};return a;}();b.hqa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.yna=void 0;c=a(0);d=function(a){function b(c,d){c=a.call(this,b.Qjb(c,d))||this;c.U3a=d;c.name="AggregateError";return c;}c.__extends(b,a);b.Qjb=function(a,b){return b.reduce(function(a,b){return a+"\n"+b;},a);};Object.defineProperties(b.prototype,{IF:{get:function(){return this.U3a;},enumerable:!1,configurable:!0}});return b;}(Error);b.yna=d;},function(d,b,a){var c,g,m,t,q,l,h,f,p,n,r,u,E,G,N,C;Object.defineProperty(b,"__esModule",{value:!0});b.ewa=void 0;c=a(0);g=a(24);m=a(212);t=a(157);q=a(20);l=a(13);h=a(6);f=a(34);p=a(7);n=a(153);r=a(758);u=a(757);E=a(756);G=a(755);N=a(754);C=a(753);d=function(a){function b(b,c,f,d,h,k,p,m,t,y,r,H,u){var E;E=a.call(this)||this;E.console=b;E.xB=c;E.Z4a=f;E.Tb=d;E.WK=h;E.uC=k;E.W=y;E.wN=r;E.VHb=u;E.uK=!1;E.Kf=new g.Vn();E.o5a=d.Ag.Ta[E.wN].oa;E.qE=new l.sJ(q.na.Kg);E.h2=new N.wxa(E.console,function(a){return E.Tb.Ag.Ta[a].oa;});E.Tb.ZCb(E.h2);d.oRa({BP:function(){return E.WK[0];}},{BP:function(){return E.WK[1];}});E.vRb=!1;E.uRb=!1;E.A0=new n.Bva(H);G.lLa(E.console,c,E,E.Tb);return E;}c.__extends(b,a);Object.defineProperties(b.prototype,{G:{get:function(){return this.o5a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pk:{get:function(){return this.Kf;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xd:{get:function(){return{upb:{1:{$:{ja:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});b.prototype.R1=function(){h.assert(!1);};b.prototype.open=function(){var a;if(!this.uK){this.uK=!0;this.Tb.open();this.emit("openComplete",{type:"openComplete"});this.Tb.GQa(this.uC);a=this.deb(this.W);this.A0.x$(new u.Dva(a));this.A0.x$(new r.hqa(this.xB.tb));this.A0.x$(new E.pwa());this.So=this.W;this.ak=a;G.kLa(this.xB,this,this.ak,this.console);this.Tb.X9a(a);}};b.prototype.deb=function(a){a=C.OBa(a);return this.xB.Zf.M8a(a);};b.prototype.close=function(){this.uK&&(this.uK=!1);};Object.defineProperties(b.prototype,{vV:{get:function(){return"1.5";},enumerable:!1,configurable:!0}});b.prototype.lTa=function(a,b){b=this.A0.MM(b);this.emit("logdata",{type:"logdata",target:a,fields:c.__assign(c.__assign({},b),{aseApiVersion:this.vV})});};b.prototype.flush=function(){this.lTa("endplay",n.CD.Ica);this.Tb.Pg();this.xB.zf.save();this.xB.mm.save();};b.prototype.paused=function(){this.qE.value===q.na.Nc&&(this.qE.set(q.na.Bh),this.So.emit("paused",{type:"paused",Rc:this.So.Hc}));};b.prototype.xQ=function(){this.qE.value===q.na.Bh&&(this.qE.set(q.na.Nc),this.So.emit("playing",{type:"playing",Rc:this.So.Hc}));};b.prototype.yc=function(){var a;this.VHb.release();this.xB.nAb(this);this.uK&&this.close();null===(a=this.ak)||void 0===a?void 0:a.vn();};b.prototype.suspend=function(){h.assert(!1,"Not supported");};b.prototype.resume=function(){h.assert(!1,"Not supported");};b.prototype.play=function(){this.Tb.state!==m.Jv.CLOSED&&(this.So.Fxa=!0,this.So.emit("playing",{type:"playing",Rc:this.So.Hc}),this.qE.set(q.na.Nc),this.emit("play"));};b.prototype.stop=function(){this.qE.set(q.na.FD);this.Tb.Pg();this.So.emit("paused",{type:"paused",Rc:this.So.Hc});this.So.Fxa=!1;this.emit("stop");};b.prototype.QW=function(a,b){void 0===b&&(b=!0);if(!this.ak)return this.fail("Must call open prior to drmReady");a=parseInt(a);p.isFinite(a)&&(b?this.ak.IP(a):this.ak.DCb(a));};b.prototype.rfa=function(){var a;if(!this.ak)return!1;a=this.xB.Zf.Wp(this.Tb.Ag.Ta[this.eY()].oa);return this.ak.Iu(a);};b.prototype.uTa=function(){this.So.emit("underflow",{type:"underflow",Rc:this.So.Hc});};b.prototype.Qh=function(){return this.jq("skipped");};b.prototype.xCa=function(a,b){var c;c=this.iY(b||0);b=this.Tb.Ag.Ta[c].kf;return(a=this.Tb.HMa({La:c,offset:f.la.Of(a-b)}))&&b+a.offset.xa;};b.prototype.zr=function(a,b){var c;if(this.ak){c=new f.la(b,1E3);return(c=this.ak.kH(c))&&c.La===this.iY(a||0)?this.Tb.Ag.Ta[c.La].kf+c.offset.xa:this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex "+a+", playerPts: "+b);}return b;};b.prototype.YL=function(a,b){var c,d;d=this.iY(a||0);d={La:d,offset:new f.la(b-this.Tb.Ag.Ta[d].kf,1E3)};return(d=null===(c=this.ak)||void 0===c?void 0:c.vIa(d))?d.xa:this.fail("convertPtsToPlayerPts failed to convert manifestIndex "+a+", playerPts: "+b);};b.prototype.dZ=function(){return{};};b.prototype.X_=function(){return this.jq("pipeliningDisabled");};b.prototype.eY=function(){var a,b;return null!==(b=null===(a=this.ak)||void 0===a?void 0:a.position.La)&&void 0!==b?b:this.wN;};b.prototype.QX=function(){return this.jq("getChildBranchInfo");};b.prototype.dY=function(){return{id:this.eY(),wc:0,qc:0,se:0,Yb:0,wd:0};};b.prototype.KPa=function(){return this.jq("removeSession");};b.prototype.yy=function(a,b,c){void 0===b&&(b=0);b=null!==c&&void 0!==c?c:this.iY(b);a=this.Tb.GQa({La:b,offset:f.la.Of(a-this.Tb.Ag.Ta[b].kf)});h.assert(a,"Valid position must be provided for seek");return a.offset.xa;};b.prototype.seek=function(a,b){a=this.zr(b,a);return this.yy(a,b);};b.prototype.cu=function(){return this.jq("chooseNextSegment");};b.prototype.NAa=function(){return this.jq("addManifest");};b.prototype.aL=function(){return this.jq("activateManifest");};b.prototype.eNa=function(){var a;a=this;h.assert(void 0!==this.KU);this.WK[0]=this.KU;this.KU=void 0;this.Tb.oRa({BP:function(){return a.WK[0];}},{BP:function(){return a.WK[1];}});};b.prototype.rSa=function(a){if(void 0!==this.KU)return!1;a=t.qIa(this.Z4a.audio_tracks,a.qA);if(void 0===a)return!1;this.KU=a;return!0;};b.prototype.pC=function(a,b){this.h2.pC(a,b);};b.prototype.Zt=function(){return!1;};b.prototype.fX=function(){return this.jq("evaluateQoE");};b.prototype.Ula=function(){return this.jq("stopBuffering");};b.prototype.UH=function(){return this.jq("startBuffering");};b.prototype.dIa=function(){return this.jq("getStreamingStatistics");};b.prototype.fail=function(a){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:a,manifestIndex:0});};b.prototype.XF=function(a){return a!==this.wN?this.fail("Unexpected segmentId: "+a+", "+("single viewable playback initialSegmentId: "+this.wN)):0;};b.prototype.iY=function(a){return 0!==a?this.fail("Unexpected manifestIndex: "+a+", single viewable playback only supports manifestIndex: 0"):this.wN;};b.prototype.jq=function(a){return this.fail("Method not implemented "+a);};return b;}(g.EventEmitter);b.ewa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Fva=void 0;c=a(4);g=a(6);d=function(){var C9M;C9M=2;while(C9M!==3){switch(C9M){case 2:a.prototype.LE=function(){var B9M;B9M=2;while(B9M!==1){switch(B9M){case 2:this.E_++;B9M=1;break;case 4:this.E_--;B9M=9;break;B9M=1;break;}}};a.prototype.w0=function(){var t9M,j9M;t9M=2;while(t9M!==4){j9M="R";j9M+="eceived remove request when there are no requests outs";j9M+="tanding";switch(t9M){case 2:this.E_--;g.assert(0<=this.E_,j9M);t9M=5;break;case 7:this.LL();t9M=0;break;t9M=4;break;case 5:this.LL();t9M=4;break;}}};a.prototype.LL=function(){var V9M,a;V9M=2;while(V9M!==5){switch(V9M){case 2:a=this.config.Xsb;V9M=1;break;case 1:V9M=this.E_<a&&this.Ega()?1:5;break;}}};return a;break;}}function a(a,b){var H9M,G9M,K9M,M9M;H9M=2;while(H9M!==9){G9M="1SIYb";G9M+="Z";G9M+="r";G9M+="NJC";G9M+="p9";K9M="med";K9M+="ia|";K9M+="ase";K9M+="j";K9M+="s";M9M="ASEJS_";M9M+="R";M9M+="EQU";M9M+="EST_PACER";switch(H9M){case 4:this.console=new c.Console(M9M,K9M);G9M;H9M=9;break;case 2:this.Ega=a;this.config=b;this.E_=0;H9M=4;break;}}}}();b.Fva=d;},function(d,b,a){var c,g,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.qoa=void 0;c=a(4);g=a(20);m=a(13);t=a(6);d=function(){function a(a){void 0===a&&(a=500);this.hab=a;this.state=new m.sJ(g.Te.Nm);this.my=new m.sJ(g.na.Kg);}Object.defineProperties(a.prototype,{xg:{get:function(){return this.state.value===g.Te.ve||this.state.value===g.Te.Ig;},enumerable:!1,configurable:!0}});a.prototype.HBa=function(a){t.assert(!this.events,"Cannot reassign BufferingStateTracker emitter!");this.events=a;this.xg&&(this.eFa(),this.qRa());};a.prototype.CEa=function(){this.events=void 0;this.Qaa();};a.prototype.Wvb=function(){this.UH(void 0,!1);};a.prototype.zCb=function(a){t.assert(this.state.value===g.Te.ve&&void 0===this.uC);this.uC=a;};a.prototype.KCb=function(a,b,c){t.assert(this.xg);void 0===this.dga&&void 0===this.bga&&(this.dga=a,this.bga=b,this.tJa=c);};a.prototype.xCb=function(a,b,c){t.assert(this.xg&&void 0===this.Ut&&void 0===this.d2&&void 0===this.lV);this.Ut=a;this.d2=b;this.lV=c;};a.prototype.tk=function(a){this.UH(a,!0);};a.prototype.yCb=function(a){t.assert(this.xg);this.sr=a;};a.prototype.nj=function(){t.assert(this.xg);this.sr=100;this.Qaa();this.events&&this.nhb();this.set(g.Te.dT);this.lV=this.d2=this.Ut=this.tJa=this.bga=this.dga=this.uC=void 0;};a.prototype.stop=function(){this.set(g.Te.Nm);this.Qaa();};a.prototype.UH=function(a,b){t.assert(void 0!==a&&!0===b||void 0===a&&!1===b);this.uC=a;this.sr=0;this.A_=void 0;a=this.xg;this.set(b?g.Te.Ig:g.Te.ve);!a&&this.events&&(this.eFa(),this.qRa());};a.prototype.set=function(a){this.state.set(a);switch(a){case g.Te.Nm:this.my.set(g.na.Nm);break;case g.Te.ve:this.my.set(g.na.ve);break;case g.Te.Ig:this.my.set(g.na.Ig);break;case g.Te.dT:this.my.set(g.na.Nc);}};a.prototype.eFa=function(){t.assert(this.events&&void 0!==this.sr);this.A_=this.sr;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:c.time.ea(),percentage:this.sr});};a.prototype.qRa=function(){var a;a=this;this.Dia=setInterval(function(){return a.ohb();},this.hab);};a.prototype.Qaa=function(){this.Dia&&(clearInterval(this.Dia),this.Dia=void 0);};a.prototype.ohb=function(){this.xg&&this.events&&void 0!==this.sr&&this.sr!==this.A_&&this.events.emit("buffering",{type:"buffering",time:c.time.ea(),percentage:this.sr})&&(this.A_=this.sr);};a.prototype.nhb=function(){var a;t.assert(this.events&&this.uC&&void 0!==this.Ut&&void 0!==this.lV&&void 0!==this.d2);this.A_=this.sr;this.events.emit("bufferingComplete",{type:"bufferingComplete",time:c.time.ea(),actualStartPosition:this.uC,reason:this.Ut,aBufferLevelMs:this.lV,vBufferLevelMs:this.d2,selector:this.dga,initBitrate:this.bga,initSelReason:null===(a=this.tJa)||void 0===a?void 0:a.reason,skipbackBufferSizeBytes:this.jVb});};return a;}();b.qoa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Rua=void 0;c=a(13);g=a(59);d=function(){function a(){this.bd=new c.lta();}Object.defineProperties(a.prototype,{size:{get:function(){return this.bd.size;},enumerable:!1,configurable:!0}});a.prototype.reset=function(){var a;a=this.bd.values();this.bd.clear();a.forEach(function(a){return a.Pg();});};a.prototype.$da=function(a){return this.bd.get(a);};a.prototype.kka=function(a){return this.bd["delete"](a.ia.id,a);};a.prototype.forEach=function(a){var b;b=this;this.bd.forEach(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.bd.reduce(function(b,f,d){return a(b,f,d,c);},b);};a.prototype.map=function(a){var b;b=this;return this.bd.map(function(c,d){return a(c,d,b);});};a.prototype.filter=function(a){var b;b=this;return this.bd.filter(function(c,d){return a(c,d,b);});};a.prototype.vGb=function(a,b){var c,d;c=this;d=g.EDa(a);a=Object.keys(d).map(function(a){return[a,d[a],c.bd.count(a)];});this.bd.keys().filter(function(a){return void 0===d[a];}).forEach(function(a){c.bd.get(a).forEach(function(a){return a.Pg();});c.bd["delete"](a);});a.filter(function(a){return a[1]<a[2];}).forEach(function(a){var b;b=a[0];a=a[1];return c.bd.get(b).slice(a).forEach(function(a){a.Pg();c.bd["delete"](b,a);});});a.filter(function(a){return a[1]>a[2];}).forEach(function(a){var f,d;f=a[0];d=a[1];a=a[2];for(var h=0;h<d-a;++h)c.bd.set(f,b(f));});};return a;}();b.Rua=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Bpa=void 0;c=a(6);g=a(370);d=function(){function a(a,b){this.khb=a;this.m9a=b;this.bna=!1;this.UE=this.Yw=0;}a.prototype.XHb=function(a,b){var h,f,k,m;function d(){var a,c,d;a=m.pop();c=f(a);if(c.Yw!==q.Yw){c.Yw=q.Yw;d=b(a,c.ku,c.yja).i2;k(a).forEach(function(b){var g,l;g=b.MHb;l=f(g);l.Yw!==h.Yw&&(b=c.ku+b.weight,l.UE!==h.UE?d&&(l.UE=h.UE,l.ku=b,l.yja=a,m.push(g)):b<l.ku&&(l.ku=b,l.yja=a,m.qyb(g)));});}}h=this;f=this.m9a;k=this.khb;c.assert(!this.bna);this.bna=!0;this.Yw=this.Yw+1|0;this.UE=this.UE+1|0;m=new g.w5([a],function(a,b){return f(a).ku-f(b).ku;});a=f(a);a.ku=0;a.yja=void 0;for(var q=this;!m.empty;)d();this.bna=!1;};return a;}();b.Bpa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Fab=b.xDa=void 0;c=a(770);b.xDa=function(a,b){return new c.Bpa(function(c){return Object.keys(c.ia.next||{}).map(function(d){return{MHb:a.Sg(d),weight:a.GIa(c,d)?b:c.RA?c.RA.zb(c.ip).xa:Infinity};});},function(a){return a.n9a;});};b.Fab=function(a,b){var c,d,g,h,f;c=Object.keys(a.Ta);d=Object.keys(b.Ta);g=d.filter(function(a){return-1===c.indexOf(a);});h=c.filter(function(a){return-1===d.indexOf(a);});f=c.filter(function(c){return-1===d.indexOf(c)?!1:a.Ta[c].ug!==b.Ta[c].ug;});return{$Pb:g,qAb:h,MQb:f};};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.$ua=void 0;c=a(13);d=function(){function a(a,b,d){var g;g=this;this.id=a;this.ia=b;this.ke=d;this.n9a={};this.oza=!1;this.nY=function(a){var b,c,d;return null!==(d=null===(c=null===(b=g.ia.next)||void 0===b?void 0:b[a])||void 0===c?void 0:c.ke)&&void 0!==d?d:g.ke;};this.VU=new c.la(b.kf,1E3);this.A8=void 0!==b.ug&&null!==b.ug?new c.la(b.ug,1E3):c.la.lpb;}Object.defineProperties(a.prototype,{oa:{get:function(){return this.ia.oa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{z_:{get:function(){return this.oza;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ip:{get:function(){return this.VU;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{RA:{get:function(){return this.A8;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.VU.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ja:{get:function(){return this.A8.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ny:{get:function(){return!1;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Av:{get:function(){return this.x_.length?!this.ia.bl&&0===this.yia.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{x_:{get:function(){var a,b;return Object.keys(null!==(b=null===(a=this.ia)||void 0===a?void 0:a.next)&&void 0!==b?b:{});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yia:{get:function(){var a;a=this;return this.x_.filter(function(b){var c,d;return!(null===(d=null===(c=a.ia.next)||void 0===c?void 0:c[b])||void 0===d||!d.weight);});},enumerable:!1,configurable:!0}});a.prototype.normalize=function(a,b){this.VU=a;this.A8=b;this.oza=!0;};a.prototype.UGa=function(){var a;return this.yia.length?null!==(a=this.yia.map(this.nY).reduce(function(a,b){return a===b?b:void 0;}))&&void 0!==a?a:this.ke:this.ke;};return a;}();b.$ua=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Xua=void 0;c=a(772);d=function(){function a(a){this.Ag=a;this.Ta={};}a.Zpb=function(a){return"immediate"===a||"delayedSeamless"===a;};a.prototype.Sg=function(a){var b,d,g;d=this.Ta[a];if(void 0===d){d=this.Ag.Ta[a];if(void 0===d)throw Error("Segment not found ("+a+")");g=null!==(b=d.ke)&&void 0!==b?b:this.Ag.ke;d=new c.$ua(a,d,g);this.Ta[a]=d;}return d;};a.prototype.Tkb=function(a){for(var b=[];a.ia.bl;)a=this.Sg(a.ia.bl),b.push(a);return b;};a.prototype.Zkb=function(a){var b;b=this;return Object.keys(this.Ag.Ta).filter(function(c){var d;return void 0!==(null===(d=b.Ag.Ta[c].next)||void 0===d?void 0:d[a.id]);}).map(function(a){return b.Sg(a);});};a.prototype.unb=function(a,b){var c,d;return null===(d=null===(c=a.ia.next)||void 0===c?void 0:c[b])||void 0===d?void 0:d.weight;};a.prototype.GIa=function(b,c){return a.Zpb(b.nY(c));};return a;}();b.Xua=d;},function(d,b){function a(a,b,d,g,q,l,h){if(h&&-1===b.indexOf(h.id)&&!a.GIa(h,q.id))return{i2:!1};a=h&&a.unb(h,q.id);if(void 0===a||0<a)if(-1!==b.indexOf(q.id)||l<d)return g.push(q.id),{i2:!0};return{i2:!1};}Object.defineProperty(b,"__esModule",{value:!0});b.YHb=b.gP=void 0;b.gP=function(b,d,g,t,q){var c,h,f;h=[];f=(null===(c=g.RA)||void 0===c?void 0:c.zb(g.ip).xa)||0;d.XHb(g,function(c,d,g){return a(b,t,q.xa+f,h,c,d,g);});return h;};b.YHb=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.jwa=void 0;c=a(0);d=a(371);g=a(207);new(a(4)).Console("ASEJS_PREDICTOR","media|asejs");a=function(a){var m9M;m9M=2;while(m9M!==3){switch(m9M){case 2:c.__extends(b,a);b.BDb=function(a,b){var E9M,c,f;E9M=2;while(E9M!==3){switch(E9M){case 2:f=!!a.Lo;b.ema&&(null===(c=a.Fa)||void 0===c?void 0:c.Ca)<b.UL&&(f=!0);return f;break;}}};b.prototype.okb=function(a,b){var I9M,c,f;I9M=2;while(I9M!==8){switch(I9M){case 2:c=this.config;I9M=5;break;case 5:f=b?c.hba:c.daa;b=b?c.iba:c.faa;Array.isArray(b)&&(f=g.xFa(b,a.Ul-a.Hc,c.eaa));return f;break;}}};return b;break;}}function b(c,d){var J9M,h,D9M;J9M=2;while(J9M!==8){D9M="1SIYbZr";D9M+="NJCp";D9M+="9";switch(J9M){case 2:h=a.call(this,c,d)||this;h.py=function(a,b){var S9M;S9M=2;while(S9M!==1){switch(S9M){case 2:return g.py(h.config,a,b);break;case 4:return g.py(h.config,a,b);break;S9M=1;break;}}};J9M=4;break;case 4:h.e0=function(a,c,d){var r9M,f;r9M=2;while(r9M!==9){switch(r9M){case 2:d=null!==d&&void 0!==d?d:h.DG;f=b.BDb(a,h.config);a=a.Fa?a.Fa.Ca*(100-h.okb(c,f))/100|0:0;return h.GEa(a,d);break;}}};D9M;return h;break;}}}}(d.H2);b.jwa=a;},function(d,b,a){var c,g,m,t,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Msa=void 0;c=a(0);d=a(109);g=a(371);m=a(207);a=a(4);t=d.XV;q=d.vbb;l=d.yFa;h=d.gib;f=d.sBb;new a.Console("ASEJS_PREDICTOR","media|asejs");a=function(a){var s9M;function b(b,c){var g9M,d,h97;g9M=2;while(g9M!==11){h97="1S";h97+="IYb";h97+="Z";h97+="rNJCp";h97+="9";switch(g9M){case 7:d.filter=b.Dp.filter;d.IDb=!!b.Dp.simpleScaling;b.Dp.niqrfilter&&b.Dp.niqrcurve&&(d.AMa=b.Dp.niqrfilter,d.Qub=q(b.Dp.niqrcurve,1,0,4));g9M=13;break;case 13:h97;return d;break;case 2:d=a.call(this,b,c)||this;d.py=function(a,b){var F9M;F9M=2;while(F9M!==1){switch(F9M){case 4:return m.py(d.config,a,b);break;F9M=1;break;case 2:return m.py(d.config,a,b);break;}}};d.e0=function(a,b,c){var U9M,g,k,p,m,q,t;U9M=2;while(U9M!==13){switch(U9M){case 1:c=null!==c&&void 0!==c?c:d.DG;U9M=5;break;case 5:t=null!==(k=null===(g=a.Fa)||void 0===g?void 0:g.Ca)&&void 0!==k?k:0;U9M=4;break;case 14:m1ii.I87(0);return d.GEa(m1ii.X87(b,t,1),c);break;case 4:g=null!==(m=null===(p=a[d.filter])||void 0===p?void 0:p.Ca)&&void 0!==m?m:t;p=Math.pow(Math.max(1-g/d.H$a,0),d.B$a);m=b.Ul-b.Hc;d.IDb?(b=l(d.XDa,m,1),m=l(d.WDa,m,1),b=b*p+m*(1-p)):b=l(f(d.XDa,d.WDa,p),m,1);U9M=7;break;case 2:U9M=1;break;case 7:a=d.AMa&&(null===(q=a[d.AMa])||void 0===q?void 0:q.uO);void 0!==a&&(q=h(d.Qub,a),b=Math.min(b*q,1));U9M=14;break;}}};Array.isArray(b.Dp.curves)&&(d.XDa=q(b.Dp.curves[0],0,0,1),d.WDa=q(b.Dp.curves[1],0,0,1));d.H$a=t(b.Dp.threshold||6E3,1,1E5);d.B$a=t(b.Dp.gamma||1,.1,10);g9M=7;break;}}}s9M=2;while(s9M!==5){switch(s9M){case 2:c.__extends(b,a);return b;break;case 3:c.__extends(b,a);return b;break;s9M=5;break;}}}(g.H2);b.Msa=a;},function(d,b,a){var c,g,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.Hqa=void 0;c=a(20);g=a(108);m=a(4);t=a(208);q=a(59);d=function(){function a(a,b,c){this.config=a;this.KDb=b;this.navigator=c;a=t["default"](this.config);this.Xxb=[a.py,a.e0];}a.prototype.UBb=function(a,b,d,g){var f,h,l,k,p;l=[];if(!this.Twb(d.track))return{stream:h,TP:l};h=d.yq.Nu;k=g?this.y9a(d.La,g,d.track.Ac):d.track.Ac;h&&!h.track.equals(d.track)&&(h=this.Zib(h,k));if(0===d.M&&h&&!this.uDb(d,h))return{stream:h,TP:l};a=this.Oeb(a===c.Te.ve?c.na.ve:a===c.Te.Ig?c.na.Ig:a===c.Te.dT?c.na.Nc:c.na.Kg,b,d);a=d.ZH.X0(a,k,void 0,this.Xxb[d.M],!0,d.track.P.Hh);if(!a)return{stream:h,TP:l};a.reason&&(p={reason:a.reason,U0:a.Or,Eu:a.Eu,jl:a.jl,mk:a.mk});h=k[a.pd];d.yq.x1(h);if(null===(f=a.nx)||void 0===f?0:f.length)l=a.nx.map(function(a){return q.ln(k,function(b){return b.id===a;});}).filter(q.JMa);return void 0!==p?{stream:h,TP:l,WBb:p}:{stream:h,TP:l};};a.prototype.y9a=function(a,b,c){var f;f=b.Pib(a,c.map(function(a){return a.Zx;}));return c.filter(function(a,b){return f[b];});};a.prototype.Zib=function(a,b){var c;c=b[0];b.filter(function(a){return a.yj;}).every(function(b){return b.O<=a.O?c=b:!1;});return c;};a.prototype.uDb=function(a,b){return 0<this.config.dI.length?!0:(a=a.yq.vG)&&a===b.location?!1:!0;};a.prototype.Twb=function(a){return a.P.gm.zQ(a.P.oa,a.Ac);};a.prototype.Oeb=function(a,b,d){var r;for(var f,h=b.zb(this.KDb),l=[],k=d,p=b,q,t,n=0;k;){r=k.ulb(h);if(0===r.$.length)break;p=r.$[0].ks;void 0===q&&(q=r.$[r.$.length-1].nja,t=r.cja>=r.$.length?q:r.$[r.cja].ks);l=r.$.concat(l);n+=r.Ui;k=this.navigator.parent(k);}h={Kp:m.lk()[d.M],S:p.xa,Hc:b.xa,Hb:null!==(f=null===q||void 0===q?void 0:q.xa)&&void 0!==f?f:b.xa,Ul:t?t.xa:b.xa,Uh:l.reduce(function(a,b){return a+b.ba;},0),Ui:n,Jda:l.length,$:l};f=1===d.M?this.config.HQ:this.config.oL;l=g.eg();return{state:a,Rx:a===c.na.Nc,Dy:d.sk,buffer:h,rca:f,SKa:!1,vM:!1,no:null===l||void 0===l?void 0:l.no,M:d.M,Hc:b.xa,Lo:!1,lZ:!1,bka:0};};return a;}();b.Hqa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cKa=void 0;b.cKa=function(a,b){a=a.Ta[b.La];if(void 0===a)return!1;if(void 0===a.ug||null===a.ug)throw Error("Cannot validate graph position without endTimeMs");a=a.ug-a.kf;return 0<=b.offset.xa&&b.offset.xa<a;};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.zua=void 0;c=a(0);g=a(6);m=a(66);d=function(a){function b(b){var c;c=a.call(this)||this;c.Tb=b;c.bd=[];return c;}c.__extends(b,a);b.prototype.EV=function(a,b){var c;c=!this.Tb;c&&(this.Tb=a,this.t8=null===b||void 0===b?void 0:b.Op);return c;};b.prototype.NL=function(){this.bd=[];this.t8=void 0;};b.prototype.cca=function(a){m.cb&&g.assert(this.Tb===a);this.Tb=void 0;this.tZ=!1;this.NL();};b.prototype.Pca=function(){for(var a,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];(a=this.bd).push.apply(a,b);};b.prototype.TM=function(){return this.t8?this.t8:a.prototype.TM.call(this);};b.prototype.t1=function(){};b.prototype.resume=function(){};return b;}(a(380).E6);b.zua=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Gva=void 0;c=a(0);g=a(24);d=function(a){function b(b,c,d,f){var h;h=a.call(this)||this;h.H=b;h.track=c;h.Mp=!1;h.O8=!1;h.pk=new g.Vn();h.pk.on(c,"networkfailing",function(){h.emit("networkfailing");});h.pk.on(c,"error",function(){h.H.warn("requestQueue got error");h.emit("error");});if(d)h.Mp=!0,setTimeout(function(){return h.emit("created");},0);else h.pk.on(c,"created",function(){h.Mp=!0;h.emit("created");});h.O8=f;return h;}c.__extends(b,a);Object.defineProperties(b.prototype,{jX:{get:function(){return this.track.jX;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{oh:{get:function(){return this.track.oh;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qi:{get:function(){return this.track.Qi;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fda:{get:function(){return this.track.fda;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});b.prototype.Kb=function(){var a,b;this.O8||(null===(b=(a=this.track).Kb)||void 0===b?void 0:b.call(a),this.O8=!0);};b.prototype.En=function(){return this.track.En();};b.prototype.D0=function(){return this.track.D0();};b.prototype.toString=function(){return this.track.toString();};b.prototype.toJSON=function(){return this.track;};b.prototype.un=function(){this.pk.clear();};return b;}(g.EventEmitter);b.Gva=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uwa=void 0;d=function(){function a(a,b){this.H=a;this.Wf=b;this.z1=!1;}a.prototype.Cg=function(a,b,d,g,q,l){this.z1||(this.z1=!0,a={type:"error",error:null!==d&&void 0!==d?d:"NFErr_MC_StreamingFailure",errormsg:a,networkErrorCode:g,httpCode:q,nativeCode:l,viewableId:b},this.H.error("notifyStreamingError: "+JSON.stringify(a)),this.Wf.emit("error",a));};a.prototype.Ko=function(){return this.z1;};a.prototype.vm=function(){this.z1=!1;};return a;}();b.uwa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.FMa=void 0;b.FMa=function(a,b,d,g){var c,k,l,h;l=a[0];a=a[1];h=null===a||void 0===a?void 0:a.OFa(b.xa,g);null===l||void 0===l?void 0:l.OFa(null!==(c=null===h||void 0===h?void 0:h.S)&&void 0!==c?c:b.xa,g);b=d?d.xa:void 0;d=null===a||void 0===a?void 0:a.PFa(b);null===l||void 0===l?void 0:l.PFa(null!==(k=null===d||void 0===d?void 0:d.ja)&&void 0!==k?k:b);null===l||void 0===l?void 0:l.vJa();null===a||void 0===a?void 0:a.vJa();};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.xua=void 0;c=a(782);d=function(){function a(a){var b,c,d,h,f;b=this;c=a.P;d=a.md;h=a.hx;f=a.VL;a=a.splice;this.qJa=this.ML=!1;this.LCa=function(){b.ML||b.cBa()&&b.EMa();};this.md=d;this.P=c;this.hx=h;this.VL=f;this.splice=a;}a.prototype.Kb=function(a){if(this.ML)throw Error("Cannot call init() after cleanup");if(this.qJa)throw Error("Cannot call init() twice");this.qJa=!0;this.lNa=a;this.P.Mx.addListener("onHeaderFragments",this.LCa);this.cBa()&&this.EMa();};a.prototype.yc=function(){this.ML||(this.ML=!0,this.lNa=void 0,this.P.Mx.removeListener("onHeaderFragments",this.LCa));};a.prototype.EMa=function(){var a;this.ML||(this.Vub(),null===(a=this.lNa)||void 0===a?void 0:a.call(this),this.yc());};a.prototype.cBa=function(){return this.md.every(function(a){return a.track.Bd;});};a.prototype.Vub=function(){c.FMa(this.md,this.hx,this.VL,this.splice);};return a;}();b.xua=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.tta=b.Zqa=void 0;c=a(66);g=a(4);d=function(){function a(a){this.YG=a;}a.prototype.jHa=function(a,b,d){var h;h=a.$;a=a.mi(b);a.sO=b+1;if(!a.Qa)for(++b;b<h.length&&b<d.zg.index&&(a.duration<d.MG||0!==b%this.YG);++b)a.C$(h.get(b)),a.sO=b+1,c.cb&&d.kj("getFragmentForHudsonRequest: extended fragment startPts:",a.S,"to duration:",a.duration,"size:",a.ba,"index: ",b,"min request size in ms:",d.MG);a.nrb=d.fd.opb+(g.time.ea()-d.fd.tpb);c.cb&&d.kj("getFragmentForHudsonRequest( "+b+") returning: "+JSON.stringify(a));return a;};return a;}();b.Zqa=d;d=function(){function a(){}a.prototype.jHa=function(a,b,d,h){var f,g;f=a.$;g=b===d.ag.index;b===d.zg.index?(a=a.hHa(d.zg),a.MP(d.zg.zv),a.mLa(),a.VCb(d.fd.ia)):g?(a=a.hHa(d.ag),a.MP(d.ag.zv)):a=a.mi(b);a.sO=b+1;if(!a.Qa&&!h)for(++b;b<f.length&&b<d.zg.index&&(a.ba<d.YLa||a.duration<d.MG);++b)a.C$(f.get(b)),a.sO=b+1,c.cb&&d.kj("getFragmentForRequest: extended fragment startPts:",a.S,"to duration:",a.duration,"size:",a.ba,"min request size:",d.YLa,"min request duration:",d.MG);c.cb&&d.kj("getFragmentForRequest( "+b+") returning: "+JSON.stringify(a)+", stream: "+JSON.stringify(a.stream));return a;};return a;}();b.tta=d;},function(d,b,a){var g,m,t,q,l,h;function c(a,b,c){l=c;h=c.map(function(a,b){return a.yj?b:null;}).filter(function(a){return null!==a;});if(null===q)return a=m(c),q=c[a].O,new t(a);if(!h.length)return null;a=h.filter(function(a){return c[a].O==q;})[0];return void 0===a?(g.log("Defaulting to first stream due to unvalid bitrate requested: "+q),new t(h[0])):new t(a);}b=a(31);a=a(4);g=b.console;m=b.pda;t=b.Om;q=null;l=null;h=null;a.abb&&(a.abb.ZH={Kb:function(){h=l=q=null;},X0:function(a){q=a;},qSb:function(){return{all:l,Uma:h};}});d.R={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){(function(){var d97,b,j8o;d97=2;while(d97!==7){j8o="1SIYbZr";j8o+="NJ";j8o+="Cp";j8o+="9";switch(d97){case 2:a(7);d97=5;break;case 5:a(18);a(31);b=a(20).Te;d.R={checkBuffering:function(a,c,d,g,l){var r97,f,k,m,q,t,n,r,t8o,U8o,m8o,b8o,G97;r97=2;while(r97!==36){t8o="n";t8o+="ore";t8o+="bu";t8o+="ff";U8o="h";U8o+="i";U8o+="g";U8o+="ht";U8o+="p";m8o="ma";m8o+="xsiz";m8o+="e";b8o="ou";b8o+="tof";b8o+="ran";b8o+="ge";switch(r97){case 43:r97=0<r?42:41;break;case 42:return m=Math.min(q,f+r),{complete:!1,hC:m,Oh:h(m)};break;case 14:r97=c<=l.tha&&(0<c||!l.Yca)?13:12;break;case 24:return{complete:!0,reason:b8o};break;case 29:r97=l>g?28:39;break;case 6:return{complete:!0,reason:m8o};break;case 17:t=0;a.$.forEach(function(b){var Q97;Q97=2;while(Q97!==1){switch(Q97){case 2:t+=b.S+b.duration>a.Hc?b.ba:0;Q97=1;break;}}});r97=15;break;case 30:--l;r97=29;break;case 12:m=l.Wg*(k?l.aka:1);l.Fhb&&d.kb&&d.kb.qh&&d.kb.qh.Ca>l.nha&&(m+=l.y$+d.kb.qh.Ca*l.dja);g&&(m+=g.lW*l.z$);m=q?Math.min(q,m):m;r97=19;break;case 13:return{complete:!1,Xx:!0};break;case 41:r=k.offset;r97=40;break;case 25:r97=-1===g?24:23;break;case 2:f=a.Ul-a.Hc;k=c===b.Ig;r97=4;break;case 33:l=Math.min(g+Math.floor(l.fP/m),d.$.length-1);r=d.$.Xg(l);m=8*n/c-a.Hc;r97=30;break;case 18:return{complete:!1,hC:m};break;case 27:return c<d.O&&(m=Math.min(q,Math.max(l.fP*(d.O/c-1),m))),{complete:!1,hC:m,Oh:(t-a.Ui)/(t+(m-(a.Hb-a.Hc))*d.O/8)};break;case 35:return{complete:!0,reason:U8o};break;case 19:r97=!c?18:17;break;case 34:m=d.$.Kd(g);r97=33;break;case 38:0<c&&c<d.O&&(m=Math.min(q,Math.max(l.fP*(d.O/c-1),m)));return{complete:!1,hC:m,Oh:h(m)};break;case 21:r97=c>d.O*l.lX?35:34;break;case 22:r97=f>=m?21:38;break;case 4:c=d.Fa||0;m=0;q=l.Vma&&!k?l.by:l.Oha;q=Math.min(l.Wu,q);r97=7;break;case 40:--l;r97=29;break;case 28:k=d.$.get(l);m1ii.D8o(0);G97=m1ii.h8o(20,5,2);r=G97*r/c-k.S-m;r97=43;break;case 15:r97=!d.$||!d.$.length?27:26;break;case 39:return{complete:!0,reason:t8o};break;case 26:g=d.$.Yl(a.Hb);r97=25;break;case 7:r97=f>=q?6:14;break;case 23:n=d.$.Xg(g);r97=22;break;}}function h(b){var c97;c97=2;while(c97!==5){switch(c97){case 2:b=d.$.pX(a.Hc+b,void 0,!0);return(t-a.Ui)/(t+(b.offset+b.ba)-n);break;}}}}};d97=8;break;case 8:j8o;d97=7;break;}}}());},function(d,b,a){(function(){var K8o,g,m,t,q,U9g;function b(a,b,c,d){var v8o,f,c9g,l9g,R8o;v8o=2;while(v8o!==11){c9g="playe";c9g+="r missing streamin";c9g+="gIndex";l9g="Must ";l9g+="h";l9g+="ave at least one selected s";l9g+="tream";switch(v8o){case 3:m1ii.Y9g(0);R8o=m1ii.O9g(14,14,10,17);d=c.length-R8o;v8o=9;break;case 2:t(!g.V(d),l9g);t(g.ma(b.Dy),c9g);b=q(d);v8o=3;break;case 9:v8o=-1<d?8:13;break;case 7:v8o=f.kb&&f.kb.Fa&&f.O<f.kb.Fa.Ca-a.lFb?6:14;break;case 8:f=c[d];v8o=7;break;case 14:--d;v8o=9;break;case 13:b.pd=0;return b;break;case 6:return b.pd=d,b;break;}}}K8o=2;while(K8o!==13){U9g="1";U9g+="SIY";U9g+="b";U9g+="ZrNJCp9";switch(K8o){case 2:g=a(7);a(18);m=a(31);a(4);t=m.assert;K8o=8;break;case 8:q=m.Om;m=a(209);K8o=6;break;case 6:d.R={STARTING:m.STARTING,BUFFERING:m.BUFFERING,REBUFFERING:m.REBUFFERING,PLAYING:b,PAUSED:b};U9g;K8o=13;break;}}}());},function(d,b,a){var g;function c(a,b,c){return new g(c.length-1);}a(7);g=a(31).Om;d.R={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var g;function c(){return new g(0);}a(7);g=a(31).Om;d.R={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){(function(){var p9g,m,t,q,l,h,f,p,n,r,u,D5f;p9g=2;function b(a,b){var K9g,c;K9g=2;while(K9g!==3){switch(K9g){case 5:b.some(function(b){var Z9g,f;Z9g=2;while(Z9g!==3){switch(Z9g){case 5:(f=f&&0<=f.indexOf(a))&&(c=b.override);Z9g=4;break;case 2:f=b.profiles;Z9g=5;break;case 4:return f;break;}}});return c;break;case 2:c=void 0;K9g=5;break;}}}function g(a,b,c,f){var N9g,d,g,k,t,r,y,H,u,G,E,K,G5f,F5f,o5f,n5f,m5f,e5f,x5f,A5f,L5f,s5f,J5f,w5f,f5f,T5f,H5f,S5f,B9g,d9g,X9g,I9g,a9g,u9g,y9g;N9g=2;while(N9g!==43){G5f=" k";G5f+="bp";G5f+="s";F5f=" ";F5f+="kb";F5f+="ps > ";o5f="throug";o5f+="hput";o5f+=" fo";o5f+="r a";o5f+="udio ";n5f=" kb";n5f+="p";n5f+="s, try to downs";n5f+="witch";m5f=" kb";m5f+="ps ";m5f+="<";m5f+=" ";e5f="t";e5f+="hroughput for ";e5f+="audio ";x5f="Mu";x5f+="st have at least one selec";x5f+="te";x5f+="d ";x5f+="stream";A5f="kb";A5f+="p";A5f+="s, s";A5f+="treamingPts :";L5f=", audio th";L5f+="roug";L5f+="hput:";s5f=" kbp";s5f+="s, profile";s5f+=" :";J5f="selectAudioStream";J5f+=": se";J5f+="lected ";J5f+="stream :";w5f=" ";w5f+="kb";w5f+="p";w5f+="s";f5f=" k";f5f+="b";f5f+="p";f5f+="s, t";f5f+="o ";T5f="switchi";T5f+="ng";T5f+=" ";T5f+="audio from ";H5f="d";H5f+="o";H5f+="w";H5f+="n";S5f="u";S5f+="p";B9g="m";B9g+="s";d9g=", bu";d9g+="ff";d9g+="er ";d9g+="le";d9g+="vel = ";X9g=", last";X9g+="Upswit";X9g+="c";X9g+="hP";X9g+="ts = ";I9g="  Upswit";I9g+="ch not all";I9g+="owed. lastDownswi";I9g+="tchPts = ";a9g=", stream";a9g+="ing";a9g+="Pts = ";u9g=", lastUpswi";u9g+="tchP";u9g+="ts ";u9g+="= ";y9g="  Upswitch al";y9g+="lowed. las";y9g+="tDownswitchPts = ";switch(N9g){case 6:t=c[f];r=t.O;y=k.indexOf(f);H=t.Fa;N9g=11;break;case 5:d=c[f].Nf;N9g=4;break;case 35:l&&q.log(y9g+K+u9g+E+a9g+r.Hb);N9g=34;break;case 10:N9g=0>y?20:19;break;case 11:u=a.g$a;N9g=10;break;case 31:l&&q.log(I9g+K+X9g+E+d9g+G+B9g);N9g=30;break;case 17:N9g=0<=y?16:30;break;case 9:g=f;a.sSa.some(function(f){var V9g,h,g,l,p,m,q;V9g=2;while(V9g!==13){switch(V9g){case 4:V9g=g?3:14;break;case 2:h=f.profiles;g=h&&0<=h.indexOf(d);V9g=4;break;case 14:return g;break;case 3:l=(f=f.cH)&&f.j_||a.j_;p=f&&f.CTb||-Infinity;m=f&&f.DG||Infinity;q=b.buffer.Kp;V9g=6;break;case 6:k=c.filter(function(a){var k9g,b;k9g=2;while(k9g!==4){switch(k9g){case 2:b=a.O;return b>=p&&b<=m&&0<=h.indexOf(a.Nf)&&b*l/8<q;break;}}}).map(function(a){var b9g;b9g=2;while(b9g!==1){switch(b9g){case 2:return a.Eg;break;case 4:return a.Eg;break;b9g=1;break;}}});V9g=14;break;}}});N9g=7;break;case 32:g=r;N9g=30;break;case 30:H=c[g];g!==f&&l&&q.log((g>f?S5f:H5f)+T5f+t.O+f5f+H.O+w5f);l&&q.log(J5f+H.O+s5f+d+L5f+H.Fa+A5f+b.buffer.Hb);return new n(g);break;case 7:N9g=k&&1<k.length?6:30;break;case 2:h(!m.V(f),x5f);N9g=5;break;case 27:N9g=p(G)&&(0==y||G.O*u.PEa<H)?26:25;break;case 21:N9g=b.Rx&&G>u.Ru&&(void 0===K||Number(E)>K||r.Hb-K>u.MZ)?35:31;break;case 34:N9g=++y<k.length?33:30;break;case 23:E=this.Uga;K=this.AZ;N9g=21;break;case 20:g=0;N9g=30;break;case 18:l&&q.log(e5f+H+m5f+u.PEa+"*"+r+n5f),--y;N9g=17;break;case 26:g=r;N9g=30;break;case 19:N9g=y&&H<u.PEa*r?18:24;break;case 33:N9g=(r=k[y],G=c[r],p(G)&&H>u.yTa*G.O)?32:34;break;case 24:N9g=y<k.length-1&&H>u.yTa*r&&(l&&q.log(o5f+H+F5f+u.yTa+"*"+r+G5f),r=b.buffer,G=r.Ul-r.Hc,t.$&&t.$.length)?23:30;break;case 25:y--;N9g=17;break;case 3:return new n(f);break;case 4:N9g=!(a&&a.dI&&0<=a.dI.indexOf(d))?3:9;break;case 16:r=k[y];G=c[r];N9g=27;break;}}}while(p9g!==10){D5f="1SIYbZ";D5f+="rN";D5f+="JCp9";switch(p9g){case 8:f=a(58);p=t.pB;p9g=6;break;case 1:m=a(7);t=a(31);q=t.console;l=t.debug;h=t.assert;p9g=8;break;case 14:r=a(372);u=a(20).na;d.R={STARTING:function(a,c,d,h){var z9g,g,k,P5f,R5f,i5f;z9g=2;while(z9g!==14){P5f=" ";P5f+="k";P5f+="bps, profil";P5f+="e :";R5f="selectAudio";R5f+="StreamSta";R5f+="rting: sele";R5f+="cted stream";R5f+=" :";i5f="selectAudioStr";i5f+="eamSt";i5f+="arting: overriding config with ";switch(z9g){case 2:g=a;k=d[h||0].Nf;z9g=4;break;case 4:z9g=(k=a&&a.dI&&0<=a.dI.indexOf(k)?b(k,a.sSa):b(k,a.d$a))?3:9;break;case 3:g={minInitAudioBitrate:a.mO,minHCInitAudioBitrate:a.lO,maxInitAudioBitrate:a.YN,minRequiredAudioBuffer:a.j_},l&&q.log(i5f+JSON.stringify(k)),f(k,g);z9g=9;break;case 9:a=r[u[u.Kg]](g,c,d,h);d=d[a.pd];l&&q.log(R5f+d.O+P5f+d.Nf);return a;break;}}},BUFFERING:g,REBUFFERING:g,PLAYING:g,PAUSED:g};D5f;p9g=10;break;case 2:p9g=1;break;case 6:n=t.Om;p9g=14;break;}}}());},function(d,b,a){var g,m,t,q;function c(a,b,c){var f,d;f=this.V8;b=b.buffer.Hb;d="forward"===a.fBb;if(g.V(f))return f=d?m(c):m(c,c.length),this.W8=b,this.V8=f,new q(f);t(c[f])||(f=m(c,f),this.W8=b,this.V8=f);if(0>f)return null;if(b>this.W8+a.nFb){a=c.map(function(a,b){return a.yj?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;d?f=(a.indexOf(f)+1)%a.length:(f=a.indexOf(f)-1,0>f&&(f=a.length-1));this.V8=a[f];this.W8=b;return new q(a[f]);}return new q(f);}g=a(7);b=a(31);m=b.pda;t=b.pB;q=b.Om;d.R={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var c,g,m,t,q,l,h,f,p,n;Object.defineProperty(b,"__esModule",{value:!0});b.Vpb=b.IQa=void 0;c=a(59);g=a(58);m=a(7);t=a(388);q=a(4);d=a(109);a=a(31);l=a.tub;h=a.oab;f=a.XV;p=a.Om;n=d.Ela;a=function(){var q5f,f0D;function y(a,b,c,f,d,h){var v5f,g6D,m6D,E6D;v5f=2;while(v5f!==5){g6D="no";g6D+="_val";g6D+="id_Bitrat";g6D+="e";m6D="no_v";m6D+="alid_V";m6D+="MAF";E6D="no";E6D+="_v";E6D+="al";E6D+="id_DelayTarget";switch(v5f){case 2:a=c?a.vc>=h.OG&&a.vc<=h.DLa:a.O>=h.as&&a.O<=h.Vu;return(f=f<d&&a)?{mX:f}:{mX:f,reason:a?E6D:c?m6D:g6D};break;}}}function P(a,b,f){var g5f,d,p6D,Y6D,X6D;g5f=2;while(g5f!==6){p6D="v";p6D+="b";Y6D="h";Y6D+="ist_bi";Y6D+="t";Y6D+="rate";X6D="num";X6D+="b";X6D+="e";X6D+="r";switch(g5f){case 5:g5f=X6D!==typeof d?4:3;break;case 3:a=new p();a.wl=c.ln(f.reverse(),function(a){var Y5f;Y5f=2;while(Y5f!==1){switch(Y5f){case 2:return a.O<=d;break;case 4:return a.O>=d;break;Y5f=1;break;}}})||f[0];a.reason=Y6D;return a;break;case 2:d=q.storage.get(p6D);g5f=5;break;case 4:return a.bL?r(a,f):u(a,b,f);break;}}}function r(c,f){var M5f,p,h,g,q,d,l,c0D,b0D,n0D;M5f=2;while(M5f!==24){c0D="fall";c0D+="bac";c0D+="k_no_acceptable_stream";b0D="fallback_";b0D+="m";b0D+="inAc";b0D+="ceptableVideoBitrate";n0D="fal";n0D+="lback";n0D+="_min";n0D+="AcceptableStartingVMAF";switch(M5f){case 27:q++;M5f=18;break;case 7:q=y(p,0,d,g,q,c);p=q.mX;q=q.reason;h.Eu=g;M5f=12;break;case 2:M5f=1;break;case 11:h.reason=q;M5f=10;break;case 5:M5f=0<=l&&(d?f[l].vc>=c.OG:f[l].O>=c.as)?4:20;break;case 15:h.reason=d?n0D:b0D;M5f=26;break;case 19:q=0;M5f=18;break;case 26:m.Na(h)&&(h=a(f[0],c),h.reason=c0D);return h;break;case 10:l--;M5f=5;break;case 18:M5f=q<=l?17:26;break;case 1:d=!!c.OG&&!!c.DLa&&f.every(function(a){var W5f;W5f=2;while(W5f!==1){switch(W5f){case 2:return a.vc&&110>=a.vc;break;case 4:return a.vc||278<=a.vc;break;W5f=1;break;}}}),h=null,g=!1,l=f.length-1;M5f=5;break;case 12:M5f=p?20:11;break;case 17:M5f=(p=f[q],g=d?p.vc>=c.SLa:p.O>=c.jO)?16:27;break;case 20:M5f=m.Na(h)?19:26;break;case 16:h=a(p,c);M5f=15;break;case 4:p=f[l];h=a(p,c);g=b(p.O,h.Or,c);q=k(h.Or,c);M5f=7;break;}}}function k(a,b){var h5f,c,u0D,d0D,c5f;h5f=2;while(h5f!==8){u0D="si";u0D+="g";u0D+="m";u0D+="oi";u0D+="d";d0D="l";d0D+="o";d0D+="g";switch(h5f){case 2:m1ii.o6D(0);c5f=m1ii.K6D(1300126,100009,14);a=f(a,0,c5f)/1E3;h5f=5;break;case 5:h5f=0===b.GH.lastIndexOf(d0D,0)?4:9;break;case 4:c=b.GH;return(c=b.JQa[c])&&2===c.length?1E3*(c[0]+c[1]*Math.log(1+a)):b.Qo;break;case 9:return 0===b.GH.lastIndexOf(u0D,0)?(c=b.GH,(c=b.JQa[c])&&2===c.length?1E3*(c[0]+c[1]*n(a)):b.Qo):b.Qo;break;}}}function d(a,b){var j5f,f,d;j5f=2;while(j5f!==11){switch(j5f){case 2:j5f=1;break;case 5:f=a.XY;d=c.Tw(f,function(a){var r5f;r5f=2;while(r5f!==1){switch(r5f){case 2:return b<=a.r;break;case 4:return b<a.r;break;r5f=1;break;}}});j5f=3;break;case 1:j5f=a.XY?5:12;break;case 3:j5f=0===d?9:8;break;case 9:return f[0].d;break;case 7:return f[f.length-1].d;break;case 6:m1ii.T6D(1);a=f[m1ii.R6D(d,1)];f=f[d];return Math.floor(a.d+(f.d-a.d)*(b-a.r)/(f.r-a.r));break;case 12:return a.Qo;break;case 8:j5f=-1===d?7:6;break;}}}q5f=2;while(q5f!==5){f0D="1S";f0D+="I";f0D+="YbZrNJ";f0D+="Cp";f0D+="9";switch(q5f){case 2:f0D;return{e7a:function(a,b,c){var l5f,W0D;l5f=2;while(l5f!==1){W0D="hi";W0D+="stor";W0D+="ical";switch(l5f){case 2:return W0D===a.aga?P(a,b,c):a.bL?r(a,c):u(a,b,c);break;}}},K4a:y};break;}}function u(a,f,h){var E5f,g,l;E5f=2;while(E5f!==9){switch(E5f){case 3:return g;break;case 2:g=new p();l=Math.max(a.as,a.jO,f.lZ?a.fia:-Infinity);g.wl=c.ln(h.filter(function(b){var Q5f;Q5f=2;while(Q5f!==1){switch(Q5f){case 4:return b.O<a.Vu;break;Q5f=1;break;case 2:return b.O<=a.Vu;break;}}}).reverse(),function(c){var O5f,f,h,k,U0D,v0D,e0D,O0D;O5f=2;while(O5f!==12){U0D="no_his";U0D+="tori";U0D+="cal_lte";U0D+="_minb";U0D+="itrate";v0D="h";v0D+="ist";v0D+="_tput_lt_mi";v0D+="nbit";v0D+="rate";e0D="lt_hist_lte_minb";e0D+="itra";e0D+="te";O0D="hist_buff";O0D+="t";O0D+="ime";switch(O5f){case 5:O5f=c.O>l?4:13;break;case 2:f={Fa:c.Fa,Pl:c.kb&&c.kb.Pl,wi:c.kb&&c.kb.wi};O5f=5;break;case 4:c=c.O;h=f.Fa;O5f=9;break;case 9:O5f=h?8:14;break;case 7:b(c,h,a)<=k?(g.Or=h,f&&(g.jl=f.Pl?f.Pl:0,g.mk=f.Pl&&f.wi),g.reason=O0D,f=!0):f=!1;O5f=6;break;case 14:f=!1;O5f=6;break;case 13:h=f.Fa,c.O<=h?(g.Or=h,f&&(g.jl=f.Pl?f.Pl:0,g.mk=f.Pl?f.wi:void 0),g.reason=e0D,f=!0):h?(g.Or=h,f&&(g.jl=f.Pl?f.Pl:0,g.mk=f.Pl?f.wi:void 0),g.reason=v0D,f=!1):(g.reason=U0D,f=!0);O5f=6;break;case 6:return f;break;case 8:k=d(a,c);O5f=7;break;}}})||h[0];E5f=3;break;}}}function b(a,b,c){var t5f;t5f=2;while(t5f!==5){switch(t5f){case 2:a=h(c.Wg,a*c.$ha);return l(a,b);break;}}}function a(a,b){var C5f,c,f,V0D,P0D;C5f=2;while(C5f!==12){V0D="hist_";V0D+="thro";V0D+="ug";V0D+="hpu";V0D+="t";P0D="hist_tdig";P0D+="es";P0D+="t";switch(C5f){case 6:f=t.Lwa.qmb(a),m.Sb(f)?(a.Nh=f,f=!0):f=!1;C5f=14;break;case 3:c.mk=a.Pl&&a.wi;c.jl=a.Pl?a.Pl:0;a=g(c.mk,{});C5f=7;break;case 7:C5f=(f=m.ma(b.W0)&&0<=b.W0&&100>=b.W0&&!m.V(a)&&!m.Na(a))?6:14;break;case 2:c=new p();c.wl=a;a=c.wl.kb||{};C5f=3;break;case 14:f?(b=a.Nh(b.W0/100)||c.wl.Fa,c.Or=b,c.reason=P0D):c.wl.Fa&&(b=c.wl.Fa,c.Or=b,c.reason=V0D);return c;break;}}}}();d=a.K4a;b.IQa=a.e7a;b.Vpb=d;},function(d,b,a){var c;a(7);c=a(31).console;d.R=function(a,b,d,g,l,h,f,p,n,r,u,E,G,N,C){var M62=m1ii;var a0D,k,m,q,t,y,H,K,fa,S12,T12,x12;a0D=2;while(a0D!==53){S12="1";S12+="SIYbZr";S12+="N";S12+="JC";S12+="p9";T12=" >= fr";T12+="a";T12+="gmen";T12+="t";T12+="sLength: ";x12="Str";x12+="eaming";x12+="Index: ";switch(a0D){case 25:M62.v12(0);H*=M62.k12(1E3,k);a0D=24;break;case 24:a0D=p<b?23:54;break;case 30:M62.Q12(1);a=M62.k12(f,d);a0D=29;break;case 35:K=Math.max(t,r);a0D=34;break;case 27:M62.v12(0);N*=M62.k12(1E3,k);a0D=26;break;case 36:return{result:!1,UN:Math.min(a,g)/(k/1E3),zx:!0};break;case 23:t=q[p];y=m[p];a0D=21;break;case 54:return{result:!0,UN:g/(k/1E3),zx:!0};break;case 39:K=a;a0D=38;break;case 37:a0D=(a=Math.max(f-d,0),a<G&&a<K)?36:29;break;case 21:a0D=u<t?35:37;break;case 19:p>=b&&c.error(x12+p+T12+b);d+=a;0===f&&(d=0);M62.Q12(0);d*=M62.M12(1E3,k);M62.Q12(0);f*=M62.k12(1E3,k);a0D=27;break;case 31:return{result:!1,UN:a/(k/1E3),zx:!1};break;case 42:u+=q[fa],++fa,l+=m[fa];a0D=43;break;case 33:d=l,u+=q[fa],++fa,a=m[fa],l+=a;a0D=34;break;case 32:a0D=!C&&(a=f-d,a<N)?31:30;break;case 43:a0D=l<d&&fa<p?42:41;break;case 44:u-=t;a0D=43;break;case 40:a0D=p>=n&&a>H?54:39;break;case 6:K=0;fa=0;a=a.Kd[0];a0D=12;break;case 26:M62.v12(0);G*=M62.k12(1E3,k);a0D=25;break;case 12:M62.v12(2);l=M62.M12(1E3,k,l,a);M62.v12(3);a=M62.k12(h,0,E,8);M62.v12(4);E=M62.M12(E,8,0);M62.Q12(0);h=M62.k12(1E3,k);a0D=19;break;case 29:M62.v12(5);d+=M62.k12(E,h,t,0);f+=y;a0D=44;break;case 3:m=a.Kd;q=a.sizes;M62.Q12(1);H=M62.M12(g,d);g=Infinity;a0D=6;break;case 2:S12;k=a.T;b=Math.min(a.length,b);a0D=3;break;case 38:g=Math.min(a,g);a0D=24;break;case 34:a0D=u<K?33:32;break;case 41:++p;a0D=40;break;}}};},function(d,b,a){var c,g,m,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.V0=void 0;c=a(59);g=a(7);d=a(31);m=a(373);t=d.assert;q=d.Om;b.V0=l;(function(){var u12,f12;u12=2;function a(a,b,d,h){var Z12,l,k,p,m,n,b12,p12,o12;function f(b){var C12,c,w12;C12=2;while(C12!==7){w12="buff_lt_h";w12+="is";w12+="t";switch(C12){case 2:c=b.Fa;C12=5;break;case 5:C12=!c||(b.O>k?a.eHb:1)*b.O>c?4:3;break;case 4:return!1;break;case 3:n=w12;m=c;return!0;break;}}}Z12=2;while(Z12!==13){b12="Must ";b12+="have at least one selected ";b12+="st";b12+="ream";p12="select_feas";p12+="ibl";p12+="e_buffering";o12="fa";o12+="llback";o12+="_lowest_accep";o12+="t";o12+="able_stream";switch(Z12){case 8:d=new q();d.wl=l;p!==l&&(d.reason=n,d.Or=m);return d;break;case 4:k=l.O;p=l;l.Fa&&(b=this.yea(b,d,a),l=c.ln(d.slice(b.pd,Math.min(h+(a.k9a?2:1),d.length)).reverse(),f),void 0===l?(l=b.wl,n=o12):n=p12,m=null===l||void 0===l?void 0:l.Fa);Z12=8;break;case 2:t(!g.V(h),b12);l=d[h];Z12=4;break;}}}while(u12!==5){f12="1SIY";f12+="bZr";f12+="NJCp9";switch(u12){case 2:b.V0=l=function(b,c,d,h,g,l){var e12,W12;e12=2;while(e12!==1){W12="pla";W12+="y";W12+="in";W12+="g";switch(e12){case 2:return W12===b.paa?m.AP.call(this,b,c,d,h,g,l):a.call(this,b,c,d,h);break;}}};f12;u12=5;break;}}}());},function(d,b,a){var g;function c(a,b,c){a=c.map(function(a,b){return a.yj?b:null;}).filter(function(a){return null!==a;});return a.length?new g(a[Math.floor(Math.random()*a.length)]):null;}g=a(31).Om;d.R={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var g,m,t,q;function c(a,b,c,d){if(g.V(d))a=m(c);else if(t(c[d]))a=d;else if(a=m(c,d),0>a)return null;return new q(a);}g=a(7);b=a(31);m=b.pda;t=b.pB;q=b.Om;d.R={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var c,g,m,t,q,l,h,f,p,n,r;Object.defineProperty(b,"__esModule",{value:!0});b.hT=void 0;c=a(7);g=a(18);m=a(4);t=a(59);q=a(20);l=a(374);d=a(31);h=new m.Console("ASEJS_STREAM_SELECTOR","media|asejs");f=d.Om;p=[q.na[q.na.Kg],q.na[q.na.ve],q.na[q.na.Ig],q.na[q.na.Nc],q.na[q.na.Bh],"checkBuffering"];n={first:a(796),random:a(795),optimized:a(209),roundrobin:a(791),selectaudio:a(372),selectaudioadaptive:a(790),"default":a(209),lowest:a(789),highest:a(788),throughputthreshold:a(787),checkdefault:a(786),testscript:a(785)};r={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=function(){var i12;function a(a,b,c){var h12,f,j28;h12=2;while(h12!==6){j28="1S";j28+="I";j28+="YbZrNJ";j28+="Cp";j28+="9";switch(h12){case 9:c&&(this.iE=c.iE,this.gU=c.gU);a=a||this.K.y1;this.qf=p.reduce(function(b,c){var q12;q12=2;while(q12!==5){switch(q12){case 2:b[c]=((n[a]||n[r[c]])[c]||n[r[c]][c]).bind(f);return b;break;}}},{});h12=6;break;case 2:f=this;this.JH=a;this.K=b;j28;h12=9;break;}}}i12=2;while(i12!==6){switch(i12){case 2:a.prototype.X0=function(a,b,f,d,k,p){var v62=m1ii;var O12,F12,n,r,y,H,u,G,E,K,C,N,X,P,v28,M28,j22,D22;O12=2;while(O12!==56){v28="pl";v28+="a";v28+="ying";M28="Strea";M28+="m selector called with invalid p";M28+="layer state ";switch(O12){case 53:G||(P.nx=void 0);O12=52;break;case 19:this.wX(b,function(b){var r12;r12=2;while(r12!==1){switch(r12){case 2:b.yj&&b.kb&&b.kb.Jd?(n!==b.kb&&(n=b.kb,a&&a.Lo&&b.kb&&(b.kb.Lo=!0),y=Math.floor(d(b.kb,a.buffer,b.track.P.gq[0])),y=0===y?1:y),b.Fa=y):b.Fa=void 0;r12=1;break;}}});a.state===q.na.Kg&&c.ma(u)&&(a.state=q.na.ve);X=b.filter(function(a){var a12;a12=2;while(a12!==1){switch(a12){case 2:return a&&a.yj;break;case 4:return a||a.yj;break;a12=1;break;}}});O12=16;break;case 23:F12=a.state;O12=F12===q.na.Kg?22:63;break;case 21:this.gU=g.QR.Kg;O12=35;break;case 38:O12=0<=H?37:53;break;case 10:N=E[K-1].O,E=t.Tw(b,function(a){var t12;t12=2;while(t12!==1){switch(t12){case 4:return a.O>=N;break;t12=1;break;case 2:return a.O>N;break;}}}),u=0<E?E-1:0===E?0:b.length-1;O12=20;break;case 11:O12=!(0<=u)?10:20;break;case 29:O12=H.HRa&&E>H.kO?28:53;break;case 33:O12=(P.nx=[],b.forEach(function(a,b){var H12;H12=2;while(H12!==4){switch(H12){case 2:a===P.wl&&(P.pd=b);a.Wla&&P.nx.push(a.sa);a.Wla=!1;H12=4;break;}}}),!P.nx.length)?32:52;break;case 37:O12=(k=b[H],k.yj)?36:54;break;case 35:P=this.qf[q.na[a.state]].call(this,H,a,X,G,d,!!k);O12=34;break;case 39:v62.w28(0);j22=v62.B28(16,15);H=P.pd-j22;O12=38;break;case 62:this.gU=g.QR.Kg;O12=35;break;case 50:this.iE=P.pd;H=b[P.pd];O12=48;break;case 58:return h.error(M28+q.na[a.state]),null;break;case 61:O12=F12===q.na.Ig?62:60;break;case 32:E=f.Ul-f.Hc;O12=31;break;case 52:O12=!P||null===P.pd?51:50;break;case 60:O12=F12===q.na.Nc?35:59;break;case 14:O12=0<K?13:20;break;case 13:C=E[K-1].sa;u=t.Tw(b,function(a){var s12;s12=2;while(s12!==1){switch(s12){case 4:return a.sa!==C;break;s12=1;break;case 2:return a.sa===C;break;}}});O12=11;break;case 48:P.reason&&(H.fp=P.reason,H.U0=P.Or,H.Eu=P.Eu,H.jl=P.jl,H.mk=P.mk);c.ma(u)&&H.O<b[u].O&&(this.U8=f.Hb);a.state!==q.na.Nc&&a.state!==q.na.Bh?(k=l.rja(a.state),p=this.Sl(a.buffer,k,H,p),(P.nj=p.complete)?P.JV=p.reason:(P.nj=!1,P.hC=p.hC,P.Xx=p.Xx,P.Oh=p.Oh)):(P.nj=!0,P.JV=v28);O12=45;break;case 36:k.$&&k.$.length||(G=!0,P.nx.push(k.sa));O12=53;break;case 20:c.V(u)&&(u=this.iE);O12=19;break;case 5:r=m.time.ea();H=this.K;u=this.iE;O12=9;break;case 40:O12=!G?39:53;break;case 43:O12=(k=b[H],k.yj)?42:41;break;case 44:O12=H<b.length?43:40;break;case 41:++H;O12=44;break;case 64:P.pd=function(a){var N12;N12=2;while(N12!==1){switch(N12){case 2:return t.Tw(b,function(b){var V22;V22=2;while(V22!==1){switch(V22){case 4:return b!==X[a];break;V22=1;break;case 2:return b===X[a];break;}}});break;}}}(P.pd);O12=52;break;case 54:--H;O12=38;break;case 9:c.ma(u)&&a.state===q.na.Kg&&(u=this.iE=void 0);c.ma(u)&&u>=b.length&&(u=this.iE=void 0);E=f.$;K=E.length;O12=14;break;case 45:a.vM&&(P.Hb=f.Hb,p=a&&a.Dy,k=H.$,P.Ji=k&&void 0!==p&&!isNaN(p)&&0<=p&&p<k.length?k.Rh(p):f.Hb,P.Wxb=H.Fa||0,P.wvb=H.kb&&H.kb.Fa&&H.kb.Fa.Ca||0,P.jab=f.Ul-f.Hc,P.lCa=f.Uh,P.my=a.state,P.no=a&&a.no,P.pTa=r,P.eFb=m.time.ea());return P;break;case 22:this.X8=this.U8=void 0;O12=21;break;case 51:return null;break;case 42:k.$&&k.$.length||(G=!0,P.nx.push(k.sa));O12=40;break;case 34:O12=P.wl?33:64;break;case 63:O12=F12===q.na.ve?62:61;break;case 31:k=void 0;G=!1;O12=29;break;case 28:v62.w28(0);D22=v62.T28(18,17);H=P.pd+D22;O12=44;break;case 26:X=0<E.length?E:X.slice(0,1);void 0!==u&&(E=t.Tw(X,function(a){var X12;X12=2;while(X12!==1){switch(X12){case 4:return a.O>=b[u].O;break;X12=1;break;case 2:return a.O>b[u].O;break;}}}),G=0<E?E-1:0===E?0:X.length-1);a.state!==q.na.Kg&&void 0===G&&(a.state=q.na.Kg);O12=23;break;case 16:X.length||(X=b.filter(function(a){var c12;c12=2;while(c12!==1){switch(c12){case 4:return a||a.Cn||+a.zu;break;c12=1;break;case 2:return a&&a.Cn&&!a.zu;break;}}}),X.forEach(function(a){var A12;A12=2;while(A12!==1){switch(A12){case 2:a.inRange=!0;A12=1;break;case 4:a.inRange=+8;A12=5;break;A12=1;break;}}}));E=X;H.B1?E=X.filter(function(a){var P12;P12=2;while(P12!==1){switch(P12){case 4:return a.zx;break;P12=1;break;case 2:return a.zx;break;}}}):a.state!==q.na.Nc&&a.state!==q.na.Bh&&(E=X.filter(function(a){var B12;B12=2;while(B12!==1){switch(B12){case 4:return-a.BRa;break;B12=1;break;case 2:return!a.BRa;break;}}}));O12=26;break;case 59:O12=F12===q.na.Bh?35:58;break;case 2:f=null===a||void 0===a?void 0:a.buffer;O12=5;break;}}};a.prototype.Sl=function(a,b,c,f){var R22;R22=2;while(R22!==1){switch(R22){case 2:return this.qf.checkBuffering.call(this,a,b,c,f,this.K);break;}}};a.prototype.x1=function(a,b,f){var J22;J22=2;while(J22!==1){switch(J22){case 2:c.V(b)?this.U8=this.X8=void 0:b.O<f.O&&(this.X8=a);J22=1;break;}}};a.prototype.wX=function(a,b){var Y22,c,I22;Y22=2;while(Y22!==3){switch(Y22){case 1:Y22=0<=c?5:3;break;case 2:m1ii.w28(1);I22=m1ii.B28(71,18,9,13);c=a.length-I22;Y22=1;break;case 4:--c;Y22=1;break;case 5:b(a[c],c,a);Y22=4;break;case 14:++c;Y22=9;break;Y22=1;break;}}};i12=3;break;case 3:Object.defineProperties(a.prototype,{AZ:{get:function(){var E22;E22=2;while(E22!==1){switch(E22){case 4:return this.U8;break;E22=1;break;case 2:return this.U8;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Uga:{get:function(){var d22;d22=2;while(d22!==1){switch(d22){case 2:return this.X8;break;case 4:return this.X8;break;d22=1;break;}}},enumerable:!1,configurable:!0}});a.prototype.yea=function(a,b,c){var G22,d,h,g,l;G22=2;while(G22!==8){switch(G22){case 2:a=a.bka;g=new f();l=Math.max(c.SLa-Math.floor(a*c.Wtb),c.TLa,0);G22=3;break;case 3:g.wl=null!==(h=null!==(d=t.ln(b,function(a){var z22,b;z22=2;while(z22!==5){switch(z22){case 2:return(null!==(b=a.vc)&&void 0!==b?b:-Infinity)>=l;break;}}}))&&void 0!==d?d:t.ln(b,function(a){var U22;U22=2;while(U22!==1){switch(U22){case 4:return a.O>c.jO;break;U22=1;break;case 2:return a.O>=c.jO;break;}}}))&&void 0!==h?h:b[b.length-1];return g;break;}}};i12=7;break;case 7:return a;break;}}}();b.hT=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.twa=void 0;d=function(){function a(a,b){this.track=a;b?(this.Nu=b.Nu,this.uB=b.uB,this.Rga=b.Rga,this.IN=b.IN):this.uB=this.Nu=void 0;}a.prototype.x1=function(a){this.Nu=a;};a.prototype.PCb=function(a){this.track=a;};return a;}();b.twa=d;},function(d,b,a){var c,g,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.Tna=void 0;c=a(0);a(6);d=a(45);g=a(4);m=a(108);t=a(74);a=a(161);q=g.Rj;a=function(a){function b(b,c,d,h,g,l,k){h.responseType=0;d=a.call(this,b,d,"",h,g,c,k)||this;t.xh.call(d,b,h);d.Qha=c.Qha;d.Rha=c.Rha;d.sda=0;return d;}c.__extends(b,a);b.prototype.Kb=function(){this.Xb||(this.Xb=m.eg());};b.prototype.gs=function(){return q.prototype.open.call(this,this.QJ,{start:this.offset,end:this.offset+Math.max(this.Rha,Math.floor(this.Qha*this.ba))-1},this.PJ,{},void 0,void 0,void 0);};b.prototype.abort=function(){return!0;};b.prototype.EK=function(){var a;a=this.$c||this.ef;this.Uc||(this.Uc=!0,this.sda=a);};b.prototype.n9=function(){this.sda=this.$c;};b.prototype.o9=function(){};b.prototype.DK=function(){var a;a=this.$c;this.Xb&&this.Xb.Rw(this.Be,this.sda,a,{requestId:this.Zm(),ee:this.Lb,type:this.M,OC:!0});this.qg=this.Uc=!1;this.yc();};b.prototype.pE=function(){this.Kf&&this.Kf.clear();};return b;}(a.Sy);b.Tna=a;d.Fg(t.xh,a,!1);},function(d,b,a){var c,g,m,t,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Nna=void 0;c=a(0);g=a(93);m=a(6);a(4);t=a(13);q=a(210);l=a(74);h=a(220);d=function(a){function b(c,f,d,h,g,k){f=a.call(this,c,h,g,f,k)||this;f.N3a=d;f.Ym=void 0;f.E8=b.cD.INIT;f.RPb=h.offset;f.T8=l.xh.prototype.toString.call(f)+" multiple";f.zE(c.url,h.offset,8,0);return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{data:{get:function(){return this.Ym;},enumerable:!1,configurable:!0}});b.prototype.Si=function(a){var c,f;this.Ym=this.Ym?t.xr(this.Ym,a.response):a.response;a.hP();switch(this.E8){case b.cD.INIT:c=new DataView(this.Ym);f=c.getUint32(0);c=c.getUint32(4);g.Mz(c);this.zE(a.url,a.offset+a.ba,f,0);q.Ry.prototype.Si.call(this,a);this.E8=b.cD.ysa;break;case b.cD.ysa:c=new DataView(this.Ym);f=c.getUint32(this.Vxa-8);c=c.getUint32(this.Vxa-4);g.Mz(c);this.zE(a.url,a.offset+a.ba,f-8,0);this.E8=b.cD.ssa;q.Ry.prototype.Si.call(this,a);break;case b.cD.ssa:q.Ry.prototype.Si.call(this,a);break;default:m.assert(!1);}};b.prototype.zE=function(a,b,c,f){a=new h.BI(this.stream,this.N3a,this.T8+" ("+this.wa.length+")",{G:this.G,M:this.M,sa:this.sa,O:this.O,offset:b,ba:c,url:a,location:this.location,Lb:this.Lb,responseType:f},this,this.Xc,this.H);this.push(a);this.Vxa=this.wa.reduce(function(a,b){return a+b.ba;},0);};b.cD={INIT:0,ysa:1,ssa:2,name:["INIT","MOOF","MDAT"]};return b;}(q.Ry);b.Nna=d;},function(d,b,a){var c,g,m,t,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Jna=void 0;c=a(0);a(6);g=a(7);d=a(45);m=a(4);t=a(108);q=a(74);l=a(161);h=a(158);f=m.Rj;a=function(a){function b(b,c,d,h,g,l,k){var p;p=this;p=["cache","edit"].filter(function(a,b){return[l,h.Qa][b];});p=p.length?"("+p.join(",")+")":"";void 0===h.responseType&&(h.responseType=f.xc&&!f.xc.AH.Bz?0:1);p=a.call(this,b,d,p,h,g,c,k)||this;q.xh.call(p,b,h);p.R4a=h.nrb;p.Kf.on(p,f.Nd.fNb,p.Y5a);p.Kf.on(p,f.Nd.eNb,p.X5a);return p;}c.__extends(b,a);b.prototype.Kb=function(a){h.Ty.prototype.Kb.call(this,a);this.Xb||!this.Xc.pV&&this.bc||(this.Xb=t.eg());};b.prototype.gs=function(){var a;a={start:this.offset,end:this.offset+this.ba-1};void 0!==this.Yb&&0<=this.Yb&&void 0!==this.wd&&(this.QJ=this.kza(this.QJ,!0),a={start:0,end:-1});return f.prototype.open.call(this,this.QJ,a,this.PJ,{},void 0,void 0,this.Dxa);};b.prototype.X1=function(){var a,b,c;if(this.complete)return 0;a=this.VPa;b=a.P;if(!a.url)return this.H.warn("updateurl, missing url for streamId:",a.sa,"mediaRequest:",this,"stream:",a),1;c=this.kza(a.url,!1);return this.url===c||(b.f1(this,a.location,a.tc),this.eQ(c))?0:(this.H.warn("swapUrl failed: ",this.LF),2);};b.prototype.EK=function(){this.Uc||(this.Uc=!0,this.En=this.track.En(),this.$A(this),this.ql=0,this.rl=this.$c);};b.prototype.n9=function(){var a;a=this.$c;this.ZA(this);this.rl=a;};b.prototype.o9=function(){var a;a=this.$c;this.SF(this);this.rl=a;this.ql=this.Be;};b.prototype.Y5a=function(){var a;a=this.drb;this.qg=!0;this.Xb&&(this.Xb.dC(a,{requestId:this.Zm(),ee:this.Lb,type:this.M}),this.Xb.uka());};b.prototype.DK=function(){var a;a=this.$c;this.Xb&&this.qg&&this.Xb.fC(m.time.ea(),this.qg,{requestId:this.Zm(),ee:this.Lb,type:this.M});this.qg=this.Uc=!1;this.Rp(this);this.rl=a;this.ql=this.Be;this.yc();};b.prototype.X5a=function(){this.Xb&&(this.Xb.Rw(this.YSb,this.drb,this.crb,{requestId:this.Zm(),ee:this.Lb,type:this.M}),this.Xb.fC(this.crb,this.qg,{requestId:this.Zm(),ee:this.Lb,type:this.M}));this.qg=!1;};b.prototype.g3a=function(a,b,c,f){return void 0===a||void 0===b||void 0===c?0:b<c?0:a<c?f:a-c;};b.prototype.kza=function(a,b){var c,f;if(g.V(this.Yb)||0>this.Yb||g.V(this.wd))return a;c=[];f=this.g3a(this.Yb,this.wd-1,this.R4a,this.Xc.iia);c.push("ptsRange/"+this.Yb+"-"+(this.wd-1));0<f&&b&&c.push("timeDelay/"+f);a=a.split("?");b=a[0];for(var f="",d=0;d<c.length;d++)f+="/"+c[d];return a[1]?b+(f+"?"+a[1]):b+f;};return b;}(l.Sy);b.Jna=a;d.Fg(q.xh,a,!1);},function(d,b,a){var c,g,m,t;Object.defineProperty(b,"__esModule",{value:!0});b.TQ=void 0;c=a(0);g=a(6);d=a(45);m=a(221);a=a(163);t=function(){function a(b,c){this.Ea=[];this.Ng=void 0;this.ac=0;this.H=b;c&&c.length&&(Array.isArray(c)?(this.Ea=c.slice(),this.UJ(0,this.Ea.length)):c instanceof a&&(this.Ea=c.Ea.slice(),this.UJ(0,this.Ea.length)));}Object.defineProperties(a.prototype,{length:{get:function(){return this.Ea.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.Ea.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{first:{get:function(){return this.Ea[0];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tg:{get:function(){return this.Ea[this.Ea.length-1];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wa:{get:function(){return this.first&&this.first.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qb:{get:function(){return this.Tg&&this.Tg.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.ac;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.first&&this.first.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tl:{get:function(){return this.first&&this.first.tl;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.Ea;},enumerable:!1,configurable:!0}});a.prototype.get=function(a){0>a&&(a+=this.Ea.length);return this.Ea[a];};a.prototype.push=function(a){this.Ea.push(a);this.UJ(this.Ea.length-1);return this.length;};a.prototype.unshift=function(a){this.Ea.unshift(a);this.UJ(0,1);return this.length;};a.prototype.pop=function(){if(0!==this.Ea.length)return this.C9(this.Ea.length-1),this.Ea.pop();};a.prototype.shift=function(){if(0!==this.Ea.length)return this.C9(0),this.Ea.shift();};a.prototype.splice=function(a,b){for(var f,d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];0>a&&(a+=this.Ea.length);0>a&&(a=0);a>this.Ea.length&&(a=this.Ea.length);if(void 0===b||0>b)b=0;b=Math.min(b,this.Ea.length-a);0<b&&this.C9(a,a+b);h=(f=this.Ea).splice.apply(f,c.__spreadArrays([a,b],d));0<d.length&&this.UJ(a,a+arguments.length-2);return h;};a.prototype.slice=function(b,c){void 0===b&&(b=0);void 0===c&&(c=this.Ea.length);0>b&&(b+=this.Ea.length);if(b>=this.Ea.length)return new a(this.H);c>this.Ea.length&&(c=this.Ea.length);0>c&&(c+=this.Ea.length);return new a(this.H,this.Ea.slice(b,c));};a.prototype.Bn=function(a){if(0===this.Ea.length||a.Wa>=this.qb)this.push(a);else if(a.qb<=this.Wa)this.unshift(a);else{for(var b=0,c=this.Ea.length-1,d;b<c-1;)d=Math.floor((c+b)/2),g.assert(d!==c&&d!==b),a.Wa>=this.Ea[d].qb?b=d:c=d;g.assert(b!==c);g.assert(this.Ea[b].qb<=a.Wa&&this.Ea[c].Wa>=a.qb);this.splice(c,0,a);}};a.prototype.remove=function(a){a=this.Ea.indexOf(a);if(0>a)return!1;this.splice(a,1);return!0;};a.prototype.concat=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=b.map(function(a){return a.Ea;});return new a(this.H,Array.prototype.concat.apply(this.Ea,b));};a.prototype.forEach=function(a){var b;b=this;this.Ea.forEach(function(c,d){return a(c,d,b);});};a.prototype.some=function(a){var b;b=this;return this.Ea.some(function(c,d){return a(c,d,b);});};a.prototype.every=function(a){var b;b=this;return this.Ea.every(function(c,d){return a(c,d,b);});};a.prototype.map=function(a){var b;b=this;return this.Ea.map(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.Ea.reduce(function(b,f,d){return a(b,f,d,c);},b);};a.prototype.indexOf=function(a){return this.Ea.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.Ea.some(function(f,d){c=d;return a(f,d,b);})?this.Ea[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.Ea.some(function(f,d){c=d;return a(f,d,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.H,this.Ea.filter(function(a,d){return b(a,d,c);}));};a.prototype.wX=function(a){for(var b=this.Ea.length-1;0<=b;--b)a(this.Ea[b],b,this);};a.prototype.PF=function(a){if(this.empty||a<this.qc||a>=this.se)return-1;for(var b=0,c=this.Ea.length-1,d;c>b;){d=Math.floor((c+b)/2);if(a>=this.Ea[d].qc&&a<this.Ea[d].se){c=d;break;}a<this.Ea[d].se?c=d-1:b=d+1;}return c;};a.prototype.TFa=function(a){a=this.PF(a);return 0<=a?this.Ea[a]:void 0;};a.prototype.iV=function(a){var b;b=this.Ea[a].qb;for(a+=1;a<this.Ea.length&&b===this.Ea[a].Wa;++a)b=this.Ea[a].qb;a<this.Ea.length?void 0===this.Ng?this.Ng=new m.QC(this,{qb:b}):this.Ng.HP(b):void 0===this.Ng?this.Ng=new m.QC(this,{}):this.Ng.Naa();};a.prototype.ID=function(a,b){for(var c=a;c<b;++c)this.ac+=this.Ea[c].ba;void 0===this.Ng||0===a?this.iV(0):this.Ng.qb===this.qb?this.iV(a-1):this.Ea[a].Wa===this.Ng.qb&&this.iV(a);};a.prototype.yt=function(a,b){var c;if(0===a)this.Ng=void 0,b<this.length&&this.iV(b);else{c=this.Ng;c.qb>this.Ea[a-1].qb&&(b<this.length?c.HP(this.Ea[a-1].qb):c.Naa());}for(;a<b;++a)this.ac-=this.Ea[a].ba;};a.prototype.UJ=function(a,b){void 0===b&&(b=a+1);this.ID(a,b);};a.prototype.C9=function(a,b){void 0===b&&(b=a+1);this.yt(a,b);};return a;}();b.TQ=t;d.Fg(a.CI,t);d.Fg(a.AI,t);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Soa=void 0;c=a(0);a(6);d=function(){function a(a,b){this.Gc=a;this.RD=b;this.st();}Object.defineProperties(a.prototype,{length:{get:function(){return this.Fw;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.Fw;},enumerable:!1,configurable:!0}});a.prototype.Ljb=function(){return this.aE&&this.aE.get(0);};a.prototype.y$a=function(){return this.MD&&this.MD.get(this.MD.length-1);};a.prototype.get=function(a){0>a&&(a+=this.length);for(var b=0;b<this.Gc.length;++b)if(this.Og[b+1]>a)return this.Gc[b].get(a-this.Og[b]);};a.prototype.push=function(a){this.Gc[this.RD(a)].push(a);this.st();return this.Fw;};a.prototype.shift=function(){var a;if(this.aE){a=this.aE.shift();this.st();return a;}};a.prototype.pop=function(){var a;if(this.MD){a=this.MD.pop();this.st();return a;}};a.prototype.unshift=function(a){this.Gc[this.RD(a)].unshift(a);this.st();return this.Fw;};a.prototype.Bn=function(a){var b;b=this.RD(a);this.Gc[b].Bn(a);this.st();};a.prototype.remove=function(a){var b;b=this.Gc.some(function(b){return b.remove(a);});b&&this.st();return b;};a.prototype.splice=function(a,b){var t,n,r,u;for(var d,g=[],h=2;h<arguments.length;h++)g[h-2]=arguments[h];for(var h=[],f,k=a+Math.max(0,b),m=0;m<this.Gc.length;++m){t=this.Gc[m];n=this.Og[m];r=this.Og[m+1];if(a<r){u=a-n;n=Math.min(k-n,t.length);void 0===f&&0<u&&n<t.length?Array.prototype.push.apply(h,t.splice.apply(t,c.__spreadArrays([u,n-u],g))):(Array.prototype.push.apply(h,t.splice(u,n-u)),void 0===f&&(f=0<m&&0===u?m-1:m));a=r;if(a>=k)break;}}if(g.length&&void 0!==f){for(k=this.RD(g[0]);0<f&&k<f&&this.Gc[f].empty;)--f;for(;g.length&&k===f;){this.Gc[f].push(g.shift());if(!g.length)break;k=this.RD(g[0]);}for(;g.length&&++f<this.Gc.length&&this.Gc[f].empty;)for(;g.length&&k===f;){this.Gc[f].push(g.shift());if(!g.length)break;k=this.RD(g[0]);}g.length&&(d=this.Gc[f]).splice.apply(d,c.__spreadArrays([0,0],g));}this.st();return h;};a.prototype.find=function(a){var b,c;b=this;return this.Gc.some(function(d,h){c=d.find(b.iA(a,h));return void 0!==c;})?c:void 0;};a.prototype.findIndex=function(a){var c;for(var b=0;b<this.Gc.length;++b){c=this.Gc[b].findIndex(this.iA(a,b));if(-1!==c)return c+this.Og[b];}return-1;};a.prototype.indexOf=function(a){var c;for(var b=0;b<this.Gc.length;++b){c=this.Gc[b].indexOf(a);if(-1!==c)return c+this.Og[b];}return-1;};a.prototype.map=function(a){var b,c;b=this;c=this.Gc.map(function(c,d){return c.map(b.iA(a,d));});return Array.prototype.concat.apply([],c);};a.prototype.reduce=function(a,b){var c;c=this;return this.Gc.reduce(function(b,d,f){return d.reduce(c.Z7a(a,f),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.Gc.forEach(function(c,d){c.forEach(b.iA(a,d));});};a.prototype.wX=function(a){for(var b=this.Gc.length-1;0<=b;--b)this.Gc[b].wX(this.iA(a,b));};a.prototype.some=function(a){var b;b=this;return this.Gc.some(function(c,d){return c.some(b.iA(a,d));});};a.prototype.every=function(a){var b;b=this;return this.Gc.every(function(c,d){return c.every(b.iA(a,d));});};a.prototype.sjb=function(a,b){var g,k;function c(b){return b.reduce(function(b,c,f,d){return void 0===c?b:void 0===b?f:0>a(c,d[b])?f:b;},void 0);}for(var d=this,h=this.Gc.map(function(){return 0;}),f=this.Gc.filter(function(a){return a.empty;}).length;f<this.Gc.length;){g=h.map(function(a,b){return a<d.Gc[b].length?d.Gc[b].get(a):void 0;});k=c(g);b(g[k],this.Og[k]+h[k],this);++h[k];h[k]===this.Gc[k].length&&++f;}};a.prototype.move=function(a){return this.remove(a)?(this.Bn(a),!0):!1;};a.prototype.oDb=function(){var a;if(this.Gc[1].length){a=this.Gc[1].shift();this.Gc[0].push(a);this.st();}};a.prototype.Vib=function(a){for(var b=-1,c=0;c<this.Gc.length;++c)if(b=a(this.Gc[c]),-1!==b){b+=this.Og[c];break;}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.st=function(){var b;this.Fw=0;this.Og=[0];this.MD=this.aE=void 0;for(var a=0;a<this.Gc.length;++a){b=this.Gc[a];this.Fw+=b.length;this.Og.push(this.Og[this.Og.length-1]+b.length);!this.aE&&b.length&&(this.aE=b);b.length&&(this.MD=b);}};a.prototype.iA=function(a,b){var c,d;c=this;d=this.Og[b];return function(b,f){return a(b,d+f,c);};};a.prototype.Z7a=function(a,b){var c,d;c=this;d=this.Og[b];return function(b,f,g){return a(b,f,d+g,c);};};return a;}();b.Soa=d;},function(d,b,a){var c,g,m,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Ina=void 0;c=a(0);a(6);g=a(803);d=a(45);m=a(802);t=a(163);q=a(83);l=a(221);a=function(a){function b(b,c){var f,d;f=this;d=[new m.TQ(b),new m.TQ(b),new m.TQ(b)];f=a.call(this,d,function(a){return a.complete?f.empty||a.Wa<=f.Ubb?0:1:a.active?1:2;})||this;f.Pd=d[0];f.Uc=d[1];f.Ft=d[2];f.io=0;f.T7=0;f.H=b;q.Hq.call(f,c);return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{ba:{get:function(){return this.Pd.ba+this.Uc.ba+this.Ft.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return this.Uc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return this.Pd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rzb:{get:function(){return this.io;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zA:{get:function(){return this.Pd.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ui:{get:function(){return this.Pd.ba+this.Uc.ba-this.io;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{first:{get:function(){return this.Ljb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tg:{get:function(){return this.y$a();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yca:{get:function(){return!this.Pd.empty||this.Ft.empty||this.Uc.empty?this.first:this.Uc.Wa<this.Ft.Wa?this.Uc.first:this.Ft.first;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{uKa:{get:function(){return this.Ft.empty||this.Uc.empty?this.Tg:this.Uc.qb<this.Ft.qb?this.Ft.Tg:this.Uc.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$Fa:{get:function(){return this.Ft.first;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{T:{get:function(){return this.first&&this.first.T;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Wa:{get:function(){return this.yca&&this.yca.Wa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qb:{get:function(){return this.uKa&&this.uKa.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tl:{get:function(){return this.first&&this.first.tl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tbb:{get:function(){return this.Pd.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{gpb:{get:function(){return this.wd-this.mDa||0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ubb:{get:function(){return this.Pd.empty?this.Wa:this.Pd.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mDa:{get:function(){return this.Pd.empty?this.Yb:this.Pd.wd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nDa:{get:function(){return this.Pd.empty?this.qc:this.Pd.se;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Gwb:{get:function(){return this.Uc.Tg||this.Pd.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Is:{get:function(){return this.Ft.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{no:{get:function(){return this.Uc.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zbb:{get:function(){return this.Pd.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Z0:{get:function(){return this.Pd.concat(this.Uc);},enumerable:!1,configurable:!0}});b.prototype.ID=function(a){var b;a.jr?++this.T7:this.io+=a.Be||0;if(this.empty)this.Ng=new l.QC(this,{});else if(a.Wa!==this.qb)if(a.Wa>this.Ng.qb)this.Ng.HP(this.Ng.qb);else if(a.Wa<this.Wa||a.Wa===this.Ng.qb){b=a.qb;this.sjb(function(a,b){return a.Wa-b.Wa;},function(a){b=a.Wa===b?a.qb:b;});b===Math.max(this.qb,a.qb)?this.Ng.Naa():this.Ng.HP(b);}a.iRa(this);};b.prototype.yt=function(a){a.jr?--this.T7:this.io-=a.Be;this.empty?this.Ng=void 0:a.Wa!==this.qb&&a.qb<=this.Ng.qb&&a.Wa>this.Ng.Wa&&this.Ng.HP(a.Wa);a.WCa();};b.prototype.push=function(b){this.ID(b);return a.prototype.push.call(this,b);};b.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b&&this.yt(b);return b;};b.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b&&this.yt(b);return b;};b.prototype.unshift=function(b){this.ID(b);return a.prototype.unshift.call(this,b);};b.prototype.Bn=function(b){this.ID(b);a.prototype.Bn.call(this,b);};b.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return!1;this.yt(b);return!0;};b.prototype.splice=function(b,f){for(var d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];h=a.prototype.splice.apply(this,c.__spreadArrays([b,f],d));d.forEach(this.ID.bind(this));h.forEach(this.yt.bind(this));return h;};b.prototype.Myb=function(a){var b;b=this;this.reduce(function(c,f,d){f.jr&&(a&&a(f,d,b),0===c.length||c[0].end!==d?c.unshift({start:d,end:d+1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end-a.start);});};b.prototype.PF=function(a){return this.Vib(function(b){return b.PF(a);});};b.prototype.TFa=function(a){a=this.PF(a);return-1!==a?this.get(a):void 0;};b.prototype.SBb=function(a){var c;for(var b=[];a<this.length;){c=this.get(a);c&&b.push(c);a++;}return b;};b.prototype.fv=function(a){this.move(a);this.$A(a);};b.prototype.GO=function(a){this.io+=a.Be-a.ql;this.SF(a);};b.prototype.Si=function(a){for(this.io+=a.Be-a.ql;this.Uc.first&&this.Uc.first.complete&&(this.Pd.empty?this.Uc.first===this.yca:this.Uc.first.Wa===this.Pd.qb);)this.oDb();this.Rp(a);};b.prototype.DO=function(a,b,c){this.io-=a.Be;++this.T7;this.BX(a,b,c);};return b;}(g.Soa);b.Ina=a;d.Fg(q.Hq,a,!1);d.Fg(t.CI,a);d.Fg(t.AI,a);},function(d,b,a){var c,g,m,t,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.pVa=void 0;c=a(93);g=a(155);m=a(18);t=a(13);a(6);q=a(34);l=a(4);d=function(){var c28;c28=2;while(c28!==13){switch(c28){case 7:a.prototype.P3a=function(a,b,d,h,g){var d28,f,k,p,q,F2f,R2f,X2f,N2f;d28=2;while(d28!==6){F2f=" fr";F2f+="om [";F2f+=" ";R2f="As";R2f+="eFragmentM";R2f+="e";R2f+="diaRequest: Fragment edit f";R2f+="ailed for ";X2f="me";X2f+="d";X2f+="i";X2f+="a|";X2f+="asejs";N2f="M";N2f+="P";N2f+="4";switch(d28){case 2:k={zs:0};f=!1;q=!0;d28=3;break;case 7:return{aa:f,Gn:p};break;case 3:this.M===m.Ma.AUDIO&&d&&(h?g&&this.vca():this.$xa(d)?d.Qa&&this.Qa&&this.Qa.start!==d.Qa.end&&this.Gj({start:d.Qa.end}):(k=this.i3a(b),d.se===this.qc&&(k.zs=0)));0>=this.duration&&(q=!1,f=!0);q&&(this.Qa&&(0<this.Qa.start||k.zs)?(f=new c.aw(new l.Console(N2f,X2f),this.stream,this.response),(b=f.GPa(this.Qa.start,this.RG,k.zs,k.yka))?(f=a.appendBuffer(t.xr(b.vg),t.im(this)),p=this.HU(k),this.xU(b.vg)):(this.H.error(R2f+this.toString()+F2f+this.Bx+"-"+this.DX+"]"),f=!0)):f=a.appendBuffer(this.response,t.im(this)));d28=7;break;}}};a.prototype.Q3a=function(a,b,d,h,g){var k28,f,k,l,p,y3f,s3f;k28=2;while(k28!==6){y3f=" f";y3f+="rom [";y3f+=" ";s3f="AseFragmentMed";s3f+="iaReq";s3f+="uest: Fragment edi";s3f+="t failed for ";switch(k28){case 8:k?this.Qa&&this.Qa.end<this.JM||l.zs?(k=new c.aw(this.H,this.stream,this.response),(k=k.LPa(this.Qa&&this.Qa.end,this.T,l.zs,l.yka))?(a=a.appendBuffer(t.xr(k.vg),t.im(this)),p=this.HU(l),this.xU(k.vg)):(this.H.error(s3f+this.toString()+y3f+this.Bx+"-"+this.DX+"]"),a=!0)):a=a.appendBuffer(this.response,t.im(this)):a=!0;return{aa:a,Gn:p};break;case 1:f=this.Xc;l={zs:0};k=!0;this.M===m.Ma.AUDIO&&(h?g&&(this.ahb(),k=0<this.Qa.end):this.$xa(d)?d.Qa&&0!==d.Qa.start?this.Gj({start:0,end:d.Qa.start}):k=!1:(l=this.j3a(b),f.vs||(b=this.M2a(b,d,l.fGa),(k=b.qDb)&&b.zsb&&!l.yka&&(l.zs=0))));k&&0===this.duration&&(k=!1);k28=8;break;case 2:k28=1;break;}}};return a;break;case 2:a.prototype.$xa=function(a){var E28;E28=2;while(E28!==1){switch(E28){case 2:return a&&a.G===this.G&&a.Hda===this.Hda?!0:!1;break;}}};a.prototype.h3a=function(a){var L28,b,c,f;L28=2;while(L28!==7){switch(L28){case 2:b=this.Xc;c=void 0!==b.Gy?b.Gy:a&&a.Gy;f=void 0!==b.Fy?b.Fy:a&&a.Fy;L28=3;break;case 3:a=a&&a.or;Array.isArray(a)&&Array.isArray(b.or)?a=a.filter(function(a){var L62=m1ii;var x28,F28,Q28;x28=2;while(x28!==1){switch(x28){case 2:L62.U2f(0);F28=L62.f2f(17,4,13);return F28!==b.or.indexOf(a);break;case 4:L62.U2f(1);Q28=L62.f2f(5,44,64,10,8,12);return Q28!=b.or.indexOf(a);break;x28=1;break;}}}):Array.isArray(b.or)?a=b.or:Array.isArray(a)||(a=[]);return-1!==a.indexOf(this.profile)?{fGa:!!c,bQa:!c,Fla:!c||!f}:{fGa:!1,bQa:!1,Fla:!f};break;}}};a.prototype.Wxa=function(a,b,c){var U28,f,d,h,b3f,d3f;U28=2;while(U28!==13){b3f="d";b3f+="e";b3f+="fa";b3f+="u";b3f+="lt";d3f="d";d3f+="ef";d3f+="a";d3f+="ul";d3f+="t";switch(U28){case 2:h=this.Xc;a=this.h3a(a);U28=4;break;case 4:U28=void 0!==h.yN&&null!==h.yN?3:14;break;case 3:U28=(f=(void 0!==b?b:h.yN)||0,b=h.xJa&&h.xJa[this.stream.profile])?9:8;break;case 8:a.zs=a.Fla?void 0!==f?f:1:0;a.yka=void 0!==d?d:a.bQa;return a;break;case 9:d=b.name,f=void 0!==b[c]?b[c]:void 0!==b[d3f]?b[b3f]:f;U28=8;break;case 14:a.Fla=!1;U28=8;break;}}};c28=4;break;case 4:a.prototype.i3a=function(a){var u28,e3f;u28=2;while(u28!==1){e3f="on";e3f+="En";e3f+="try";switch(u28){case 4:return this.Wxa(a,this.Xc.yJa,"");break;u28=1;break;case 2:return this.Wxa(a,this.Xc.yJa,e3f);break;}}};a.prototype.j3a=function(a){var a28,H3f;a28=2;while(a28!==1){H3f="on";H3f+="Exi";H3f+="t";switch(a28){case 4:return this.Wxa(a,this.Xc.zJa,"");break;a28=1;break;case 2:return this.Wxa(a,this.Xc.zJa,H3f);break;}}};a.prototype.M2a=function(a,b,c){var N28,d,h,k,l,p,m,t,n,r;N28=2;function f(a){var R28,b,c;R28=2;while(R28!==9){switch(R28){case 2:a=Math.floor(Math.min(m,a)/l.Ib);b=l.Ib*a;m1ii.U2f(2);c=m1ii.P2f(n,b);return{bp:a,Ao:b,aSb:c,CMa:0<a&&c<p/1E3};break;}}}while(N28!==18){switch(N28){case 2:h=this.Xc;k=!0;d=!1;N28=3;break;case 3:a=g.Eea(h,a);l=this.Ra;p=l.T;N28=7;break;case 7:m=this.Ao;t=b?b.qja:this.rOa-2*l.Ib;n=t-this.pGa;c=h.ujb||c;N28=12;break;case 12:b&&!c&&(d=f(n),r=d.bp,d=d.CMa);d||(r=t-q.la.oia(a,p),r=new q.la(r-this.pGa,p),b=f(h.Dg?Infinity:Math.max(0,r.Ib)),r=b.bp,(b=b.CMa)&&0<r&&!h.Dg&&--r);this.Gj({start:0,end:r});r<(h.jub||1)&&(k=!1);return{qDb:k,zsb:d};break;}}};a.prototype.NE=function(a,b,c,d,h,g){var G28,f,k;G28=2;while(G28!==6){switch(G28){case 2:k=this.Xc;G28=5;break;case 5:G28=this.Fi?4:3;break;case 3:this.qGa?a=a.appendBuffer(t.xr(this.$Ea),t.im(this)):this.Qa&&!this.Mu?(f=this.P3a(a,b,c,h,g),a=f.aa,f=f.Gn):this.Qa&&this.Mu?(f=this.Q3a(a,b,d,h,g),a=f.aa,f=f.Gn):a=this.M===m.Ma.AUDIO&&k.vs&&c&&this.zv&&c.se>=this.se&&this.wd-this.zv<this.zv-this.Yb?!0:a.appendBuffer(this.response,t.im(this));this.Fi=!0;this.hP();return{aa:a,Gn:f};break;case 4:return{aa:!1};break;}}};c28=7;break;}}function a(){var n28,L3f;n28=2;while(n28!==1){L3f="1SIYbZrNJ";L3f+="C";L3f+="p9";switch(n28){case 2:L3f;n28=1;break;case 4:"";n28=8;break;n28=1;break;}}}}();b.pVa=d;b["default"]=new d();},function(d,b,a){var c,g,m,t,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Gna=void 0;c=a(0);g=a(18);m=a(93);d=a(4);t=a(13);a(6);q=a(210);l=a(74);h=a(220);f=d.Rj;a=function(a){function b(b,c,d,k,p,m,q){var t,n;k=a.call(this,b,d,k,m,q)||this;p=l.xh.prototype.toString.call(k)+(p?"(cache)":"");t={offset:d.offset,ba:d.lia,responseType:0};k.push(new h.BI(b,c,p+"(moof)",t,k,m,q));t={offset:d.offset+t.ba+8,ba:d.ba-(t.ba+8),responseType:f.xc&&!f.xc.AH.Bz?0:1};if(k.M===g.Ma.VIDEO&&k.Qa){if(0<k.Qa.start){if(n=k.VFa(k.Qa.start))t.offset=d.offset+n,t.ba=d.ba-n;}else k.Qa.end<k.JM&&(n=k.VFa(k.Qa.end))&&(t.ba-=d.ba-n);}k.push(new h.BI(b,c,p+"(mdat)",t,k,m,q));return k;}c.__extends(b,a);b.prototype.NE=function(a){var b,c;if(this.Fi)return{aa:!0};if(!this.mB())return{aa:!1};c=!1;if(this.qGa)c=a.appendBuffer(t.xr(this.$Ea),t.im(this));else if(this.Qa&&0<this.Qa.start){b=new m.aw(this.H,this.stream,this.wa[0].response);if(b=b.GPa(this.Qa.start,this.T))c=a.appendBuffer(t.xr(b.vg),t.im(this)),this.xU(b.vg);b=this.HU();}else if(this.Qa&&this.Qa.end<this.JM){b=new m.aw(this.H,this.stream,this.wa[0].response);if(b=b.LPa(this.Qa.end,this.T))c=a.appendBuffer(t.xr(b.vg),t.im(this)),this.xU(b.vg);b=this.HU();}else c=a.appendBuffer(this.wa[0].response,t.im(this));c&&(c=a.appendBuffer(m.XN(this.wa[1].ba),t.im(this)))&&(c=a.appendBuffer(this.wa[1].response,t.im(this)));this.Fi=c;this.Yzb();return{aa:c,Gn:b};};return b;}(q.Ry);b.Gna=a;},function(d,b,a){var c,g,m,t,q,l,h,f,p,n,r;Object.defineProperty(b,"__esModule",{value:!0});b.Eva=void 0;c=a(0);g=a(211);m=a(804);t=a(801);q=a(800);d=a(83);l=a(799);h=a(6);f=a(7);p=a(4);n=a(214);r=p.Promise;a=function(a){function b(b,c,f,d,h,g){b=a.call(this,b)||this;b.K=c;b.H=f;b.vt=d;b.Ec=h;b.Le=g;b.RTa=!0;b.Ch=new n.XQ(b.H);b.tf=b.H.error.bind(b.H);b.Za=b.H.warn.bind(b.H);b.kj=b.H.trace.bind(b.H);b.Yza();return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{M:{get:function(){return this.Le;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fd:{get:function(){return this.Ec;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vC:{get:function(){return 0<this.ty;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Sla:{get:function(){return!this.hK;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ty:{get:function(){return this.wa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Is:{get:function(){return this.wa.Is;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Wyb:{get:function(){return this.Ch.count;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fu:{get:function(){return this.wa.nDa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{aba:{get:function(){return this.wa.mDa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ul:{get:function(){return void 0===this.wa.qc?0:this.wa.se-this.wa.qc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wo:{get:function(){return{ba:this.wa.zA,xa:Math.max(this.wa.nDa-this.wa.qc,0)||0};},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bF:{get:function(){return this.wa.Tbb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zA:{get:function(){return this.wa.zA;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{E$:{get:function(){return this.wa.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hv:{get:function(){return this.m4a();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{S_:{get:function(){return this.wa.gpb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{FY:{get:function(){return this.wa.length>this.wa.Is;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{no:{get:function(){return this.wa.no;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{irb:{get:function(){return this.wa.Gwb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{bOa:{get:function(){return this.wa.length-this.bn;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$:{get:function(){return this.wa;},enumerable:!1,configurable:!0}});b.prototype.Pg=function(){this.wa.forEach(function(a){a.abort();a.yc();});this.Yza();this.Ch.cX();};b.prototype.reset=function(){this.Pg();this.Ch.G0();};b.prototype.close=function(){this.Ch.cX();};b.prototype.zbb=function(){this.P7&&(this.P7=!1,this.Ch.G0());};b.prototype.ECb=function(){this.P7=!0;};b.prototype.Pea=function(){return{hasSentinel:void 0!==this.Ch.count,queueCount:this.Ch.count,isComplete:this.Ch.Gu,itemCount:this.Ch.Ybb,continuousEndPts:this.Ch.Es().reduce(function(a,b){return b&&!b.done&&(b=b.value,100>Math.abs(b.Hda-a)||-1===a)?b.yjb:a;},-1),sentinelItemCount:this.Ch.Es().filter(function(a){return a&&a.done;}).length,processedCount:this.Ch.bgb,rc:this.ty};};b.prototype.Teb=function(a,b,c,d){var k,m;k=this.K;f.V(d)||(b.location=d.location,b.Lb=d.tc,b.lla=d.fp);m=a.P.OP;m&&(b.i1=m.sn({CL:a.jk(this.Le),y_:k.Dhb?k.y_:void 0,QSa:String(p.time.ea()),iW:k.shb?a.P.gq[this.Le]:void 0}));h.assert(!b.Eo);k.Chb?a=new q.Nna(d,k,c.track,b,this.wa,this.H):d.P.XW(this.Le)?(a=new t.Jna(d,k,c.track,b,this.wa,!1,this.H),k.$W&&(b=new l.Tna(d,k,c.track,b,this.wa,!1,this.H),b.Kb(this),b.gs())):a=g.UQ.create(d,k,c.track,b,this.wa,!1,this.H);a.Kb(this);this.LE(a);return a;};b.prototype.e9a=function(a){var b;a.Kb(this);a.B$=!0;this.LE(a);b=r.resolve();a.complete?(this.k8(a),this.vt.SMa(a.stream,a.qc,a.Yb),b=this.tQ(),this.Rp(a)):(a.active&&this.$A(a),a.wPa&&this.ZA(a));return b;};b.prototype.LE=function(a){this.wa.Bn(a);this.k8(a);a.Mu&&(this.hK=!1);};b.prototype.dN=function(){return this.Ch.jkb();};b.prototype.NCa=function(){var a,b;this.bn===this.wa.length&&(this.P7||(null===(b=null===(a=this.irb)||void 0===a?void 0:a.FH)||void 0===b?0:b.wga))&&this.Ch.cX();};b.prototype.tQ=function(){var a,b,c,d;a=this;c=r.resolve();d=this.Ec;if(!d.BJa(this.Le)||this.bn===this.wa.length)return c;for(var h=this.K.itb,g=0,k=[];this.bn<this.wa.length;){if(b=this.wa.get(this.bn)){if(this.wa.$Fa&&this.wa.$Fa.Wa<b.Wa)break;if(!b.mB())break;k.push(b);++g;f.ma(this.qc)||(this.qc=b.qc);}++this.bn;if(!f.V(h)&&g>=h)break;}k.length&&(void 0!==this.Ch.count&&(this.tf("Request Manager count"),this.Ch.G0()),this.RTa?c=r.all(k.map(function(b){return a.Ch.enqueue(b).then(function(){return a.wY(b);});})):(d.wmb(this.M).zgb(k),k.forEach(function(b){return a.wY(b);})),this.NCa());return c;};b.prototype.wY=function(a){this.kGa(a);};b.prototype.pzb=function(a){var d;for(var b,c=0;c<this.wa.length;++c){d=this.wa.get(c);d&&a<d.se&&(f.V(b)&&(b=c),d.Fi=!1);}f.V(b)||(this.bn=b,this.Ch.G0());return this.tQ();};b.prototype.C0=function(){this.B6a();};b.prototype.VO=function(a,b){var c,f,d,h,g;c=this;f=this.K;d=!1;h=0;g=this.wa.some(function(g){if(a<g.se)return d&&c.k8(g),!0;++h;g.Fi||(c.Za("pruning unappended request:",g&&g.toString()),f.$f&&c.vt.Ri("prune pts:"+a+" unappended request:"+(g&&g.toString())),g.yda&&(c.hK=!1,d=!0),c.z2a(g,b)||c.tf("MediaRequest.abort error:",g.oh));});0<h&&(this.wa.splice(0,h),this.bn-=Math.min(h,this.bn));return g;};b.prototype.gY=function(a){var b,c,d;void 0===a&&(a={SL:null,jH:null,qc:null,Ui:0,Uh:0,$:[]});b=this.K;c=this.wa;f.ma(c.qc)&&(null===a.qc||c.qc<a.qc)&&(a.qc=c.qc);d=this.fu;void 0!==d&&null===a.SL&&(a.SL=d);d=c.se;void 0!==d&&(null===a.jH||d>a.jH)&&(a.jH=d);a.Ui+=c.Ui;a.Uh=b.Hla?a.Uh+c.rzb:a.Uh+c.zA;Array.prototype.unshift.apply(a.$,c.Z0.$);return a;};b.prototype.Dr=function(a){if(this.wa.length&&(a=this.wa.TFa(a)))return a;};b.prototype.lp=function(){var a,b;a=this;b=[];this.wa.forEach(function(c){var f;f=c.X1();1===f?b.push(c):2===f&&a.fd.P.Cg("swapUrl failure");});return b;};b.prototype.Qh=function(a){return this.K.eP?(this.Ch.clear(),this.pzb(a)):r.resolve();};b.prototype.FO=function(a){a.oB&&a.mB()&&this.tQ();this.ZA(a);};b.prototype.Si=function(a){a.oB&&!a.Fi&&this.tQ();this.Rp(a);};b.prototype.I$=function(a){var b,c,f;b=1===this.Le?"v_":"a_";c=this.wa;f=c.PF(a);a=0<=f?c.get(f):void 0;return(c=0<=f&&f+1<c.length?c.get(f+1):void 0)&&a?a.se!==c.qc?b+"rg":a.complete&&c.complete?b+"uk":b+"fd":b+"rm";};b.prototype.m4a=function(){return this.wa.no+this.wa.Is;};b.prototype.Yza=function(){this.wa=new m.Ina(this.H,this);this.bn=0;this.Ch.clear();this.qc=null;this.hK=!1;};b.prototype.k8=function(a){this.hK?a.yda=!1:this.hK=a.yda=!0;};b.prototype.z2a=function(a,b){if(!a.abort())return!1;"function"===typeof b&&b(a);return!0;};b.prototype.B6a=function(){var a,b;a=this;b=0;this.wa.Myb(function(c,f){f<a.bn&&++b;});this.bn-=b;};return b;}(d.Hq);b.Eva=a;},function(d,b,a){var c,g,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.yua=void 0;c=a(18);g=a(13);m=a(34);t=a(108);q=a(4);d=function(){function a(a,b,c,d,g){this.jv=a;this.ou=b;this.K=c;this.H=d;this.Le=g;}a.prototype.hvb=function(a){a={type:"requestCreated",request:a};g.Ha(this.ou,a.type,a);};a.prototype.gvb=function(a){var b;b=a.Ja.fd.ia;a={type:"updateStreamingPts",mediaType:a.M,position:{La:b.id,offset:m.la.Of(this.jv.aba-b.S)},trackIndex:a.stream.track.kA};g.Ha(this.ou,a.type,a);};a.prototype.SMa=function(a,b,c){var f,d;f=this.Le;d=this.jv.yq;d.x1(a);1===f&&this.K.O0&&(void 0===d.IN?d.IN=q.time.ea():q.time.ea()-d.IN>this.K.O0&&(a.O!==d.Rga&&(q.storage.set("vb",a.O),d.Rga=a.O),d.IN=q.time.ea()));d.uB&&d.uB===a||(this.jv.ZH.x1(b,d.uB,a),d.uB=a,b=0,a.kb&&a.kb.Jd&&a.kb.Fa&&(b=a.kb.Fa.Ca),d={La:this.jv.fd.ia.id,offset:m.la.Of(c-this.jv.fd.ia.S)},a={type:"streamSelected",nativetime:q.time.ea(),mediaType:f,streamId:a.id,manifestIndex:a.P.Va,trackIndex:a.track.kA,streamIndex:a.Eg,movieTime:c,bandwidth:b,longtermBw:b,rebuffer:0,position:d},g.Ha(this.ou,a.type,a));};a.prototype.cvb=function(a,b,d){var f,h,k,l,p;f=b.P;h=f.gm;k=this.jv.yq;l=f.Cqb(b);p=l.Bga;l=l.Dqb;d&&b.tc&&!k.HN?(l=c.Jg.Ys,b.fp=c.Jg.name[l],this.RMa(f.Va,a,b.tc,b.fp,b.location,b.O),k.HN=b.tc):!d&&b.tc&&b.tc!==k.HN&&(l=l?void 0===k.HN?c.Jg.Ys:h.IH===c.Jg.W5?c.Jg.w1a:c.Jg.C2:c.Jg.v1a,b.fp=c.Jg.name[l],this.RMa(f.Va,a,b.tc,b.fp,b.location,b.O),k.HN=b.tc);k.vG||(l={type:"logdata",target:"startplay",fields:{}},this.Le===c.Ma.AUDIO?l.fields.alocid=b.location:this.Le===c.Ma.VIDEO&&(l.fields.locid=b.location),g.Ha(this.ou,l.type,l));d&&b.location&&!k.vG?(l=c.Jg.Ys,b.fp=c.Jg.name[l],this.PMa(f.Va,a,b.location,b.fha,b.tc,b.kC,b.fp,b.ls),k.vG=b.location):!d&&b.location&&b.location!==k.vG&&(l=p?void 0===k.vG?c.Jg.Ys:h.IH===c.Jg.W5?c.Jg.WZa:c.Jg.C2:c.Jg.VZa,b.fp=c.Jg.name[l],this.PMa(f.Va,a,b.location,b.fha,b.tc,b.kC,b.fp,b.ls),b.ls=void 0,k.vG=b.location);this.K.pq||(b.qKa=b.location,b.rKa=b.tc);};a.prototype.RMa=function(a,b,d,k,l,m){var f,h;f=this.Le===c.Ma.VIDEO?"video":"audio";h=t.eg().get();a={type:"serverSwitch",manifestIndex:a,segmentId:b,mediatype:f,server:d,reason:k,location:l,bitrate:m,confidence:h.Jd};h.Jd&&(a.throughput=h.Fa.Ca);this.jv.yq.HN&&(a.oldserver=d);g.Ha(this.ou,a.type,a);};a.prototype.PMa=function(a,b,d,k,l,m,q,t){g.Ha(this.ou,"locationSelected",{type:"locationSelected",manifestIndex:a,segmentId:b,mediatype:this.Le===c.Ma.VIDEO?"video":"audio",location:d,locationlv:k,serverid:l,servername:m,selreason:q,seldetail:t});};a.prototype.k9=function(a,b){b={type:"lastSegmentPts",segmentId:a.id,pts:Math.floor(b)};a.ny||g.Ha(this.ou,b.type,b);};a.prototype.Ri=function(a){a={type:"managerdebugevent",message:"@"+q.time.ea()+", "+a};g.Ha(this.ou,a.type,a);};return a;}();b.yua=d;},function(d,b,a){var c,g,m,t,q,l,h,f,p,n,r,u,E,G,N,C,X,P;Object.defineProperty(b,"__esModule",{value:!0});b.Pna=void 0;c=a(0);g=a(24);m=a(212);t=a(20);q=a(13);l=a(379);h=a(781);f=a(4);p=a(6);n=a(154);r=a(779);u=a(778);E=a(777);G=a(774);N=a(773);C=a(771);X=a(769);P=a(768);d=function(){function a(a,b,c,d,k,l){var p;p=this;this.H=a;this.Ag=b;this.weight=c;this.config=d;this.Wp=k;this.LL=l;this.jo=m.Jv.CLOSED;this.I8=!0;this.navigator=new N.Xua(b);this.Mnb=C.xDa(this.navigator,d.Fxb);this.bd=new X.Rua();this.Nnb=new E.Hqa(this.config,q.la.Of(this.config.ZZ),{parent:function(){}});this.events=new g.EventEmitter();this.Xla=new h.uwa(a,this.events);this.al=new P.qoa();this.mP=[];this.console=new f.Console("ASEJS_PLAYGRAPH","asejs");this.events.on("segmentNormalized",function(a){p.Zw.value===t.Te.ve&&p.al.zCb({La:a.segmentId,offset:a.normalizedStart});});this.W=new r.zua(this);}Object.defineProperties(a.prototype,{state:{get:function(){return this.jo;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Zw:{get:function(){return this.al.state;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{my:{get:function(){return this.al.my;},enumerable:!1,configurable:!0}});a.prototype.open=function(){this.I8=!0;if(this.jo!==m.Jv.CLOSED)return!1;this.jo=m.Jv.OPEN;return!0;};a.prototype.close=function(){this.jo!==m.Jv.CLOSED&&(this.Pg(),this.jo=m.Jv.CLOSED);};a.prototype.oRa=function(a,b){this.Y$=a;this.ana=b;};a.prototype.ZCb=function(a){this.e$a=void 0;this.h2=a;};a.prototype.GQa=function(a){var b;if(u.cKa(this.Ag,a))if(a=this.HMa(a),void 0===a)this.Cg("Invalid seekPosition");else if(void 0===this.Y$||void 0===this.ana)this.Cg("No track selectors available");else{b=this.navigator.Sg(a.La);b=this.Wp(b.oa);if(void 0===b)this.Cg("Missing viewable corresponding to seek graph position");else return this.al.CEa(),this.Pg(),this.ybb(),b.xO(),this.al.Wvb(),this.xzb(a),this.gP(a),this.W.resume(),this.al.HBa(this.W.events),this.LL(),a;}else this.Cg("Invalid seekPosition");};a.prototype.Pg=function(){this.bd.reset();this.mP.forEach(function(a){return n.rp.eg.HW(a);});this.mP=[];this.W.reset();};a.prototype.tk=function(a){var b;b=this.navigator.Sg(a.La);b=this.Wp(b.oa);p.assert(void 0!==b,"Missing viewable corresponding to rebuffer graph position");b.tk();b.xO();this.al.tk(a);this.LL();};a.prototype.X9a=function(a){this.W.Bma(a)?this.W=a:this.Cg("player in use");};a.prototype.lfa=function(a){var b;b=this.navigator.Sg(a.La);a=b.ip.add(a.offset);return{oa:b.oa,nba:a};};a.prototype.kH=function(a){var b,f,d,h,g;b=q.nda(this.bd,a);if(b)return{La:b.ia.id,offset:a.zb(q.la.Of(b.wc-b.ia.S))};f=this.navigator.Sg(this.Ag.Kh);d=q.la.Dd;if(c.__spreadArrays([f],this.navigator.Tkb(f)).some(function(b){h=b;d=d.add(b.RA).zb(b.ip);return d.greaterThan(a.zb(f.ip));})&&h){b=h.RA.zb(h.ip);g=f.ip.add(d);return{La:h.id,offset:q.la.max(a.zb(g.zb(b)),q.la.Of(0))};}};a.prototype.HMa=function(a){var b;b=this.Ag.Ta[a.La];if(void 0!==b)return null===b.ug||void 0===b.ug?{La:a.La,offset:q.la.max(q.la.Dd,a.offset)}:{La:a.La,offset:q.la.max(q.la.Dd,q.la.min(a.offset,q.la.Of(b.ug-b.kf)))};};a.prototype.$ea=function(){var a,b;a=this;if(this.Ko())return[];b=this.Op;return this.bd.reduce(function(c,f){var d;d=0;for(f=f.Wlb();d<f.length;d++)c.push(a.Veb(f[d],b));return c;},[]);};a.prototype.Cg=function(a,b,c,f,d,h){this.Xla.Cg(a,b,c,f,d,h);};a.prototype.Ko=function(){return this.Xla.Ko();};a.prototype.vm=function(){this.Xla.vm();};a.prototype.p8a=function(a){this.W.Pca(a);};a.prototype.ybb=function(){this.W.NL();};a.prototype.Veb=function(a,b){var c;c=this;return{A1:a.A1,Op:b,Hqb:function(){var f,d,h,g;f=a.M;d=c.Nnb.UBb(c.Zw.value,b,a,0===f?c.e$a:c.h2);h=d.stream;g=d.TP;d=d.WBb;if(!h)return!1;c.al.xg&&1===f&&c.al.KCb(a.ZH.JH,h.O,d);0<g.length&&!c.al.xg&&a.A1.zb(b).xa>c.config.kO&&g[0].HC();(f=a.gGb(h,c.mP[f]))&&c.I8&&(c.Yj("firstDriveStreaming"),c.I8=!1);return f;}};};Object.defineProperties(a.prototype,{Op:{get:function(){return this.W.Op;},enumerable:!1,configurable:!0}});a.prototype.gP=function(a){var b,c,f;b=this;c=this.navigator.Sg(a.La);f=this.Ikb();c=G.gP(this.navigator,this.Mnb,c,f,q.la.Of(this.config.aab));this.bd.vGb(c,function(c){var f;f=b.navigator.Sg(c);c=c===a.La?f.ip.add(a.offset):f.ip;f=b.feb(f,c);b.p8a(f);return f;});};a.prototype.Ikb=function(){return this.bd.filter(function(a){return a.fL;}).map(function(a){return a.ia.id;});};a.prototype.Wjb=function(){return this.bd.filter(function(a){return!a.fL;}).length;};a.prototype.wU=function(a){this.al.xCb(a.reason,a.videoBufferLevel,a.audioBufferLevel);this.W.Uu();};a.prototype.m9=function(a){this.al.yCb(a.percentage);};a.prototype.W5a=function(){this.gP(this.W.position);0===this.Wjb()&&this.Q5a();};a.prototype.feb=function(a,b){var c,f,d,h,g,k,m;c=this;g=this.navigator.Zkb(a);p.assert(2>g.length,"Playgraph loops are not yet supported");k=(g=0<g.length?this.bd.$da(g[0].id):void 0)&&g[0];g=0;k&&(g=k.ja+k.wc-a.ip.xa);m=this.Wp(a.oa);p.assert(void 0!==m);b=new l.aR(this.config,this.console,m,this.events,a,this.VBb(m),a.ip,b,g,function(){return c.W.Op.xa;},k,[],this.Zw);null===(f=b.events)||void 0===f?void 0:f.on("branchBufferingComplete",this.wU.bind(this));null===(d=b.events)||void 0===d?void 0:d.on("branchBufferingProgress",this.m9.bind(this));null===(h=b.events)||void 0===h?void 0:h.on("branchStreamingComplete",this.W5a.bind(this,b));this.vU(a.id,m,g);return b;};a.prototype.xzb=function(a){var b,c,f,d,h;b=this;a=this.navigator.Sg(a.La);c=this.Wp(a.oa);p.assert(c);f=c.G;p.assert(0===this.mP.length);d=0;h=new g.Vn();this.Yj("createDlTracksStart");this.mP=t.pf.map(function(a){a=b.EA(a,f,c);++d;h.on(a,"created",function(){--d;0===d&&(b.Yj("createDlTracksEnd"),h.clear());});return a;});};a.prototype.EA=function(a,b,c){var f,d;f=this;d=n.rp.eg.EA(a,b,!0,!1,{},this.config);d.pk.on(d,"networkfailing",function(){var a;d.jX&&(null===(a=c.Hh)||void 0===a?void 0:a.Yo(d.fda,void 0,d.oh,d.Qi));c.lp();});d.pk.on(d,"error",function(){f.Cg("DownloadTrack fatal error",void 0,"NFErr_MC_StreamingFailure",d.oh,0,d.Qi);});d.Kb();return d;};a.prototype.VBb=function(a){var b,c;p.assert(this.Y$,"Expected audio track selector to be defined");p.assert(this.ana,"Expected video track selector to be defined");b=this.Y$.BP(a.va,a.va.audio_tracks);b=a.getTracks(0)[b];c=this.ana.BP(a.va,a.va.video_tracks);a=a.getTracks(1)[c];return[b,a];};a.prototype.vU=function(a,b,c){a={type:"segmentStarting",segmentId:a,contentOffset:c,maxBitrates:{audio:b.gq[0],video:b.gq[1]}};this.events.emit(a.type,a);};a.prototype.Q5a=function(){var a;a={type:"streamerEnd",time:f.time.ea()};this.events.emit(a.type,a);};a.prototype.Yj=function(a){a={type:"startEvent",event:a,time:f.time.ea()};this.events.emit(a.type,a);};return a;}();b.Pna=d;},function(d,b,a){var c,g,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.Xva=void 0;c=a(213);g=a(155);m=a(18);t=a(34);d=function(){function a(a,b){this.K=a;this.H=b;this.h9=this.b9=this.$s=t.la.Dd;this.sU=this.rU=void 0;this.kj=this.H.trace.bind(this.H);this.VMa=new q(a,b);}a.prototype.Pka=function(a,b,c,d,g,k,l,q,n,r){var f,h,p,y,u,H,G,K;f=!1;a=a===m.Ma.AUDIO&&!!b.Qa&&this.b7a(b.stream);h=t.la.Dd;p=b.console;if(a){y=b.stream.Ra;u=this.j4a(b.profile,y);H=this.k4a(b.profile,y);G=b.zv+b.sm;if(b.Mu)f=new t.la(b.ja-G,1E3),(f=this.$s.add(f).fN(u))||!l||this.O2a(b,l)||(n=l.zv+l.sm,b=new t.la(G-(b.ja-y.xa),1E3),n=new t.la(n-l.S,1E3),this.$s.zb(b).add(n).N$a(H,u)&&(f=!0));else if(void 0!==c){K=b.ks;new t.la(G-b.S,1E3);l=this.$s.add(c.zb(K));if(K.add(y).Tx(c)||l.fN(u))f=!0,K.add(y),l=l.zb(y);u=H.zb(t.la.dv);l.VG(this.$s)&&l.lessThan(u)?(f=a=!1,this.VMa.reset(),this.$s=t.la.Dd,u=d.add(g),n(u),p.error("Unexpected seamless audio sync "+l.toString()+" at content pts "+b.Yb+" in stream "+b.stream.sa+" following "+k.wd)):(u=d.add(l).add(g),u=this.VMa.round(b,q,u,f),n(u),l.VG(this.$s)&&(this.b9=t.la.max(this.b9,l),this.h9=t.la.min(this.h9,l),r(this.b9,this.h9),h=l.zb(this.$s),this.$s=l));}}return{Pka:a,$gb:f,h$a:h};};a.prototype.b7a=function(a){void 0===this.QK&&(this.QK=g.F$(this.K,a));return this.QK;};a.prototype.j4a=function(a,b){void 0===this.rU&&("object"===typeof this.K.Qka&&this.K.Qka[a]?(a=new t.la(this.K.Qka[a],1E3).jg(b.T).add(new t.la(1,b.T)),this.rU=t.la.min(b,a)):this.rU=b);return this.rU;};a.prototype.k4a=function(a,b){var c;if(void 0===this.sU)if("object"===typeof this.K.Rka&&this.K.Rka[a]){c=new t.la(-Math.floor(b.xa/2),b.T);a=new t.la(this.K.Rka[a],1E3).jg(b.T).zb(new t.la(1,b.T));this.sU=t.la.max(c,a);}else this.sU=new t.la(-12,1E3);return this.sU;};a.prototype.O2a=function(a,b){return a.Yb<=b.Yb&&a.wd>=b.Yb&&a.stream.track.equals(b.stream.track);};return a;}();b.Xva=d;q=function(){function a(a,b){this.K=a;this.H=b;this.fA=0;}a.prototype.round=function(a,b,c,d){this.K.vs||(a=this.d3a(a,c,d),b=b.zb(a),b.fN(t.la.dv.q_(2))?(c=c.zb(t.la.dv),++this.fA):b.lessThan(t.la.Dd)?(c=c.add(t.la.dv),--this.fA):0<this.fA&&b.lessThan(t.la.dv)?(c=c.add(t.la.dv),--this.fA):0>this.fA&&b.greaterThan(t.la.dv)&&(c=c.zb(t.la.dv),++this.fA));return c;};a.prototype.reset=function(){this.fA=0;};a.prototype.d3a=function(a,b,d){var f;f=a.hx;this.K.po&&a.stream.si&&(f=f.zb(a.stream.si));d&&(f=f.add(a.stream.Ra));return c.nia(f).add(c.nia(b));};return a;}();},function(d,b,a){var c,g,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.iva=void 0;c=a(24);d=a(13);g=a(6);m=a(59);t=a(66);q=d.la.Of(1E3);a=function(){function a(a,b,d,g,k,l,m){var f;f=this;this.M=a;this.console=b;this.ak=d;this.W=g;this.events=l;this.fg=[];this.WNa=m.add(q);this.listeners=new c.Vn();this.listeners.on(g,"playing",function(){return void 0===f.Vi?f.play():f.qGb();});this.listeners.on(g,"underflow",function(){return f.pause();});this.listeners.on(g,"paused",function(){return f.pause();});this.listeners.on(g,"skipped",function(){return f.Qh();});this.listeners.on(k,"requestAppended",function(a){return f.utb(a.request.stream,a.request.ks);});}a.prototype.utb=function(a,b){var c;c=this.fg.length?this.fg[this.fg.length-1]:void 0;if(void 0===c||c.stream!==a)t.cb&&this.trace("stream "+a.id+", "+a.O+"kbit/s @ "+b.xa+"ms"),this.fg.push({stream:a,timestamp:b}),void 0!==this.Vi&&void 0===this.xv&&(a=this.W.Hc,void 0!==a&&this.tP(a));};a.prototype.reset=function(){t.cb&&this.trace("reset");this.xv&&clearTimeout(this.xv);this.Vi=this.xv=void 0;this.fg=[];};a.prototype.close=function(){this.reset();this.listeners.clear();};a.prototype.play=function(){var a;a=this.W.Hc;g.assert(void 0!==a);t.cb&&this.trace("play @ "+a.xa+"ms");g.assert(this.fg.length);g.assert(this.fg[0].timestamp.Tx(a));g.assert(1===this.fg.length||this.fg[1].timestamp.greaterThan(a));this.Vi=0;this.Bca(a);this.tP(a);};a.prototype.pause=function(){t.cb&&this.trace("pause");this.xv&&clearTimeout(this.xv);this.xv=void 0;};a.prototype.qGb=function(){var a;a=this.W.Hc;g.assert(void 0!==a);t.cb&&this.trace("unpause @ "+a.xa+"ms");this.tP(a);};a.prototype.Qh=function(){var a,b;a=this.W.Hc;g.assert(void 0!==a);t.cb&&this.trace("skipped @ "+a.xa+"ms");g.assert(void 0!==this.Vi);g.assert(0<this.fg.length);g.assert(this.fg[0].timestamp.Tx(a));this.pause();b=m.Tw(this.fg,function(b){return b.timestamp.greaterThan(a);});this.Vi=-1===b?this.fg.length-1:b-1;this.shift(a.zb(this.WNa));this.Bca(a);this.tP(a);};a.prototype.$vb=function(){var a;a=this.W.Hc;g.assert(void 0!==a);t.cb&&this.trace("onStreamPresentingTimer @ "+a.xa+"ms");g.assert(void 0!==this.Vi);g.assert(1<this.fg.length);g.assert(this.Vi<this.fg.length-1);this.xv=void 0;this.shift(a.zb(this.WNa));this.fg[this.Vi+1].timestamp.Tx(a)&&(++this.Vi,this.Bca());this.tP(a);};a.prototype.tP=function(a){var b,c,d;b=this;g.assert(void 0===this.xv);g.assert(void 0!==this.Vi);g.assert(this.Vi<this.fg.length);if(this.Vi<this.fg.length-1){c=this.fg[this.Vi+1];d=a.zb(c.timestamp);t.cb&&this.trace("scheduleNextStreamPresentingTimer @ "+a.xa+"ms for "+c.timestamp+"ms");this.xv=setTimeout(function(){return b.$vb();},d.xa);}};a.prototype.Bca=function(a){var b,c,d;g.assert(void 0!==this.Vi);g.assert(this.Vi<this.fg.length);b=this.fg[this.Vi];c=b.stream;b=b.timestamp;a=null!==a&&void 0!==a?a:b;d=this.ak.kH(a);g.assert(void 0!==d);t.cb&&this.trace("emitStreamPresentingEvent @ "+b.xa+"ms for "+c.id+", "+c.O+"kbit/s");this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.M,playerTimestamp:a,position:d,trackIndex:c.track.kA,streamIndex:c.Eg});};a.prototype.shift=function(a){for(;1<this.fg.length&&0<this.Vi&&this.fg[1].timestamp.Tx(a);)this.fg.shift(),--this.Vi;};a.prototype.trace=function(a){this.console.trace("PresentationTracker ["+this.M+"]: "+a);};return a;}();b.iva=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.moa=void 0;c=a(156);g=a(66);d=function(){function a(a,b,c){this.H=a;this.X2a=b;this.Le=c;this.RT=0;this.lU=!1;g.cb&&a.trace("creating new iterator for "+this.Le);}Object.defineProperties(a.prototype,{hfb:{get:function(){return this.RT;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pW:{get:function(){return this.fya;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sqb:{get:function(){return this.lU;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jfb:{get:function(){return this.hj?this.hj.Gu?"Complete":this.hj.Jja?"WaitingForBranch":"WaitingForRequest":"Uninitialized";},enumerable:!1,configurable:!0}});a.prototype.next=function(){var a,b;a=this;b=this.hj;return b?b.next().then(function(c){if(a.hj!==b)return{done:!0};c.done||a.RT++;return c;}):c.Uy.dfa();};a.prototype.ZAb=function(){this.YRa();this.wzb();};a.prototype.YRa=function(){var a;if(this.hj){a=this.hj;a&&a.tg();a&&g.cb&&this.H.trace("Disposing iterator that was on branch",this.pW&&this.pW.ia);this.lU=!1;this.hj=void 0;}};a.prototype.wzb=function(){var a,b,d,h;a=this;if(!this.lU){b=this.H;d=this.X2a;h=this.Le;this.RT=0;this.fya=void 0;this.hj=c.Gr(c.map(d.ZHa(),function(c){var f;a.fya=c;a.RT=0;g.cb&&b.trace("Received branch",c.ia);f=c.dN(h);if(f)return{value:f};g.cb&&b.error("Skipping Branch",c.ia);return{value:[]};},b),b);this.lU=!0;}};return a;}();b.moa=d;},function(d,b,a){var c,g,m,t,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Yna=void 0;c=a(382);g=a(4);m=a(214);t=a(213);q=a(13);l=a(59);h=a(381);d=function(){function a(a,b,c,f,d,g){var k;k=this;this.Tb=a;this.W=b;this.H=c;this.K=f;this.Wf=d;this.gO=g;this.c8=!1;this.zya=new q.iwa();this.Wj=new m.XQ(this.H);this.Neb();this.zU=new h.PS(this.Vm,function(){return k.iNa();},function(){return k.W.Op.xa;});}a.prototype.Uu=function(){this.zU.Uu();};a.prototype.Vhb=function(a){this.Wj.enqueue(a);a.ia.Av&&this.Wj.cX();this.c8||this.ijb(a);};a.prototype.Oia=function(a){this.Vm.forEach(function(b){b.Oia(a);});};a.prototype.iNa=function(){this.Tb.al.nj();};a.prototype.reset=function(){this.Vm.forEach(function(a){a.reset();});this.zU.reset();this.c8=!1;this.zya.removeAllListeners();};a.prototype.NL=function(){this.Wj.clear();};a.prototype.resume=function(){this.Vm.forEach(function(a){a.resume();});};a.prototype.t1=function(){this.Vm.forEach(function(a){return a.stop();});};a.prototype.tk=function(){this.H.trace("onUnderflow");this.zU.reset();};a.prototype.ZHa=function(){return this.Wj.sHa();};a.prototype.$da=function(){return this.Wj.VSa();};a.prototype.Neb=function(){var a,b;a=this;this.Yj("createMediaSourceStart");b=new g.MediaSource(this.W.W);if(1!==b.readyState)this.Vk("exception in init","NFErr_MC_StreamingInitFailure");else{this.Yj("createMediaSourceEnd");this.Ye=b;if(!b.sV(this.gO))throw this.H.trace("Error:",b.error),this.Vk("error creating source buffers","NFErr_MC_StreamingInitFailure"),b.error;this.Vm=b.sourceBuffers.map(function(f){var d;d=new t.O2(a.H,f.M,b,f,a.K,{Xd:function(){return a.W.Op.xa;},Iu:function(b){return a.W.Iu(b);}});d.addListener("error",function(b){return a.Vk(b.errorstr);});d.addListener("logdata",function(b){return a.Wf.emit("logdata",b);});return new c.A2(d,f.M,a,a.K,a.H,a.W);});this.zU=new h.PS(this.Vm,function(){return a.iNa();},function(){return a.W.position.offset.xa;});}};a.prototype.vn=function(){this.Vm.forEach(function(a){return a.stop();});this.Vm.forEach(function(a){return a.close();});this.Ye.un();};a.prototype.Xda=function(){return{azb:this.Wj.VSa(),Bxb:this.Vm};};a.prototype.ijb=function(a){var b;b=this;this.c8=!0;a.yl.forEach(function(a){var c;c=b.ckb(a.M);if(void 0!==c)b.zya.once(a.vda,function(a){return c.jjb(a);});});};a.prototype.ckb=function(a){return l.ln(this.Vm,function(b){return b.M===a;});};a.prototype.Yj=function(a){a={type:"startEvent",event:a,time:g.time.ea()};this.Wf.emit(a.type,a);};a.prototype.Vk=function(a,b){this.Tb.Cg(a,void 0,b);};return a;}();b.Yna=d;},function(d,b,a){var c,g,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});b.Ona=void 0;c=a(0);g=a(24);m=a(6);t=a(4);q=a(813);d=function(a){function b(b,c){var f;f=a.call(this)||this;f.W=b;f.gO=c;f.tya=new g.Vn();f.tya.addListener(f.W,"underflow",function(){return f.tk();});return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{bd:{get:function(){var a,b;return null!==(b=null===(a=this.mj)||void 0===a?void 0:a.$da())&&void 0!==b?b:[];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Tb:{get:function(){var a;return null===(a=this.mj)||void 0===a?void 0:a.Tb;},enumerable:!1,configurable:!0}});b.prototype.IP=function(b){a.prototype.IP.call(this,b);this.mj&&this.mj.Oia(b);};b.prototype.reset=function(){var b;a.prototype.reset.call(this);null===(b=this.mj)||void 0===b?void 0:b.reset();};b.prototype.NL=function(){var a;null===(a=this.mj)||void 0===a?void 0:a.NL();};b.prototype.resume=function(){var a;null===(a=this.mj)||void 0===a?void 0:a.resume();};b.prototype.Uu=function(){var b;a.prototype.Uu.call(this);null===(b=this.mj)||void 0===b?void 0:b.Uu();};b.prototype.vn=function(){this.mj&&this.cca(this.mj.Tb);this.tya.clear();a.prototype.vn.call(this);};b.prototype.TM=function(){var b;b=this.W.Hc;void 0===b&&(b=a.prototype.TM.call(this));return b;};b.prototype.cca=function(a){var b;m.assert(a===this.Tb);null===(b=this.mj)||void 0===b?void 0:b.vn();this.mj=void 0;};b.prototype.EV=function(b,c){if(c=a.prototype.EV.call(this,b,c))this.mj=new q.Yna(b,this,new t.Console(),b.config,this.events,this.gO);return c;};b.prototype.Pca=function(){var c;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];c=this.mj;m.assert(c);a.forEach(function(a){return c.Vhb(a);});};b.prototype.tk=function(){var a,b;m.assert(this.Tb);b=this.kH(this.Op);m.assert(b);null===(a=this.mj)||void 0===a?void 0:a.tk();this.Tb.tk(b);};b.prototype.Xda=function(){var a;return null===(a=this.mj)||void 0===a?void 0:a.Xda();};b.prototype.t1=function(){var a;null===(a=this.mj)||void 0===a?void 0:a.t1();};b.prototype.Bma=function(b){m.assert(this.Tb&&this.mj);return a.prototype.Bma.call(this,b);};return b;}(a(380).E6);b.Ona=d;},function(d,b,a){var g,m;function c(a){this.K=a;this.xK();}g=a(7);m=a(4);new m.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var a;a=this.Yc();m.storage.set("nh",a);};c.prototype.aEb=function(){this.eA||(this.eA=!0,this.xt=m.time.ea());};c.prototype.lEb=function(){var a;if(this.eA){a=m.time.ea();this.Dt+=a-this.xt;this.xt=a;this.eA=!1;this.wK=null;}};c.prototype.AJa=function(a,b){this.eA&&(b>this.xt&&(this.Dt+=b-this.xt,this.xt=b),null===this.wK||a>this.wK)&&(a=b-a,this.dE.push([this.Dt-a,a]),this.F7a(),this.wK=b);};c.prototype.F7a=function(){var a;a=this.Dt-this.K.Iub;this.dE=this.dE.filter(function(b){return b[0]>a;});};c.prototype.xK=function(){var a;a=m.storage.get("nh");this.M9(a)||(this.xt=m.time.ea(),this.Dt=0,this.eA=!1,this.wK=null,this.dE=[]);};c.prototype.M9=function(a){if(!(a&&g.has(a,"t")&&g.has(a,"s")&&g.has(a,"i")&&g.ma(a.t)&&g.ma(a.s)&&g.isArray(a.i)))return!1;this.xt=m.time.Hia(1E3*a.t);this.Dt=1E3*a.s;this.eA=!1;this.dE=a.i.map(function(a){return[1E3*a[0],a[1]];});this.wK=null;return!0;};c.prototype.Yc=function(){return this.eA?{t:m.time.now()/1E3|0,s:(this.Dt+(m.time.ea()-this.xt))/1E3|0,i:this.dE.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:m.time.kia(this.xt)/1E3|0,s:this.Dt/1E3|0,i:this.dE.map(function(a){return[a[0]/1E3|0,a[1]];})};};d.R=c;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Iqa=void 0;c=a(0);g=a(59);d=function(){function a(a){this.H=a;}a.prototype.Vvb=function(a){var b;b=this;return 0<a.length?c.__spreadArrays(a).sort(g.kDa(function(a){return b.f3a(a);})).some(function(a){return a.Hqb();}):!1;};a.prototype.f3a=function(a){return a.A1.zb(a.Op).xa;};return a;}();b.Iqa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var h,f,p,n,r,u,E;function c(a){var b,f,d;a=a.parent;b=!1;if(a&&a.children){f={};f[u.Sj]=[];f[u.dj]=[];f[u.TEMPORARY]=[];d=a.children;d.forEach(function(a){a&&f[a.fe].push(a);});0<f[u.Sj].length||(f[u.dj].length===d.length?a.fe!==u.dj&&(a.fe=u.dj,r.error("PERM failing :",p.ng.name[a.SA]+" "+a.id),b=!0):(a.fe===u.Sj&&(a.fe=u.TEMPORARY,r.error("TEMP failing :",p.ng.name[a.SA]+" "+a.id),b=!0),f[u.TEMPORARY].forEach(function(a){a.fe=u.Sj;})),b&&c(a));}}function g(a){var c;for(var b=[];a;a=a.parent)switch(a.SA){case p.ng.Az:c=a;b.unshift(c.id+"("+c.name+")");break;case p.ng.Ora:b.unshift(a.id);break;case p.ng.URL:b.unshift("<url for "+a.stream.O+">");}return b.length?"/"+b.join("/"):"";}function m(a){var b;if((a=a.parent)&&0<a.children.length&&a.fe!==u.Sj){b={};b[u.Sj]=[];b[u.dj]=[];b[u.TEMPORARY]=[];a.children.forEach(function(a){a&&b[a.fe].push(a);});0<b[u.Sj].length&&(a.fe=u.Sj,m(a));}}function t(a){return a.fe!==u.Sj;}function q(a){switch(a.fe){case u.Sj:return"OK";case u.dj:return"FAILED PERMANENTLY";case u.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID";}}function l(a,b){if(a.fe===u.TEMPORARY||a.fe===u.dj&&b)a.fe=u.Sj;a.children&&a.children.forEach(function(a){a&&l(a,b);});}Object.defineProperty(b,"__esModule",{value:!0});b.hS=void 0;h=a(0);f=a(7);d=a(24);p=a(18);n=a(4);r=new n.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.Sj=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.dj=2]="PERMANENT";}(u||(u={})));(function(a){a[a.Ys=0]="STARTUP";a[a.g1a=1]="REBUFFER";}(E||(E={})));a=function(a){var a3f;function b(b,c,f,d,g){var i3f,h,s3D,g3D;i3f=2;while(i3f!==26){s3D="1S";s3D+="IYbZrNJ";s3D+="C";s3D+="p9";g3D="n";g3D+="e";g3D+="t";g3D+="w";g3D+="ork";switch(i3f){case 2:h=a.call(this)||this;h.tb=c;i3f=4;break;case 4:h.zf=f;h.config=d;h.D5a=g;i3f=8;break;case 6:h.hm={};h.xq={};h.me={};i3f=12;break;case 8:h.xyb=E.Ys;h.Sr=void 0;i3f=6;break;case 12:h.dc={};h.$u=[];h.t_=!1;h.lm={id:g3D,SA:p.ng.Vs,fe:u.Sj,ls:void 0,parent:void 0,children:h.$u};h.qU=null;h.HH=null;i3f=17;break;case 17:h.IH=p.Jg.Ys;h.$ia(b);s3D;return h;break;}}}a3f=2;while(a3f!==25){switch(a3f){case 9:b.prototype.LZ=function(a){var I3f;I3f=2;while(I3f!==5){switch(I3f){case 2:I3f=(a=this.me[a])&&a.tc?1:5;break;case 1:return a.tc.location;break;case 9:return a.tc.location;break;I3f=5;break;}}};b.prototype.fSa=function(a){var l3f;l3f=2;while(l3f!==5){switch(l3f){case 2:l3f=(a=this.me[a])?1:5;break;case 1:return a.stream;break;case 9:return a.stream;break;l3f=5;break;}}};b.prototype.$ia=function(a){var z3f,b;z3f=2;while(z3f!==10){switch(z3f){case 2:b=this;z3f=5;break;case 5:a.locations.forEach(function(a){var q3f,c,f,d,h;q3f=2;while(q3f!==14){switch(q3f){case 2:c=a.key;q3f=5;break;case 5:q3f=!b.hm[c]?4:14;break;case 4:f=[];d=b.zf.get(c);h=b.lm;a={id:c,SA:p.ng.Ora,fe:u.Sj,Qf:a.rank,level:a.level,weight:a.weight,ls:void 0,parent:h,children:f,xq:f,dc:{},kb:d};b.hm[a.id]=a;h.children.push(a);q3f=14;break;}}});this.qU=n.time.ea();this.$u.sort(function(a,b){var c3f;c3f=2;while(c3f!==1){switch(c3f){case 2:return a.level-b.level||a.Qf-b.Qf;break;}}});a.servers.forEach(function(a){var p3f,c,f,d;p3f=2;while(p3f!==14){switch(p3f){case 2:c=a.id;p3f=5;break;case 5:p3f=!b.xq[c]?4:14;break;case 3:p3f=f?9:14;break;case 9:d=[];a={id:c,SA:p.ng.Az,fe:u.Sj,ls:void 0,parent:f,children:d,me:d,name:a.name,type:a.type,Qf:a.rank,location:f};b.xq[a.id]=a;f.children.push(a);p3f=14;break;case 4:f=b.hm[a.key];p3f=3;break;}}});a.audio_tracks.forEach(function(a){var t3f;t3f=2;while(t3f!==1){switch(t3f){case 4:b.MOa(a);t3f=2;break;t3f=1;break;case 2:b.MOa(a);t3f=1;break;}}});a.video_tracks.forEach(function(a){var u3f;u3f=2;while(u3f!==1){switch(u3f){case 4:b.MOa(a);u3f=3;break;u3f=1;break;case 2:b.MOa(a);u3f=1;break;}}});a=this.$u.filter(function(a){var C3f,c;C3f=2;while(C3f!==3){switch(C3f){case 2:c=a.xq.every(function(a){var w3f,d4f;w3f=2;while(w3f!==1){switch(w3f){case 4:m1ii.p3D(0);d4f=m1ii.K3D(2,14);return d4f==a.me.length;break;w3f=1;break;case 2:return 0===a.me.length;break;}}});c&&(a.xq.forEach(function(a){var j3f;j3f=2;while(j3f!==1){switch(j3f){case 2:b.xq[a.id]=void 0;j3f=1;break;}}}),b.hm[a.id]=void 0,a.parent=void 0,a.children.length=0,a.dc={});return!c;break;}}});z3f=14;break;case 14:a.forEach(function(a){var J3f;J3f=2;while(J3f!==1){switch(J3f){case 2:a.xq.sort(function(a,b){var V3f;V3f=2;while(V3f!==1){switch(V3f){case 2:return a.Qf-b.Qf;break;case 4:return a.Qf%b.Qf;break;V3f=1;break;}}});J3f=1;break;}}});this.$u=a;this.lm.children=a;this.dump();z3f=10;break;}}};a3f=6;break;case 2:h.__extends(b,a);b.prototype.dnb=function(){var x3f;x3f=2;while(x3f!==1){switch(x3f){case 4:return this.$u[8].kb;break;x3f=1;break;case 2:return this.$u[0].kb;break;}}};b.prototype.xea=function(){var k3f;k3f=2;while(k3f!==1){switch(k3f){case 4:return this.$u;break;k3f=1;break;case 2:return this.$u;break;}}};b.prototype.yx=function(){var B3f;B3f=2;while(B3f!==1){switch(B3f){case 2:return t(this.lm);break;case 4:return t(this.lm);break;B3f=1;break;}}};b.prototype.SQa=function(a){var W3f;W3f=2;while(W3f!==5){switch(W3f){case 2:W3f=(a=this.me[a])&&a.parent?1:5;break;case 1:return a.parent.id;break;case 9:return a.parent.id;break;W3f=5;break;}}};a3f=9;break;case 11:b.prototype.oP=function(a){var Y3f;Y3f=2;while(Y3f!==1){switch(Y3f){case 2:l(this.lm,a);Y3f=1;break;case 4:l(this.lm,a);Y3f=2;break;Y3f=1;break;}}};b.prototype.ol=function(a){var K3f,b;K3f=2;while(K3f!==5){switch(K3f){case 2:null===(b=this.D5a)||void 0===b?void 0:b.call(this,a);K3f=5;break;}}};b.prototype.tk=function(){var S3f;S3f=2;while(S3f!==1){switch(S3f){case 4:this.CAb(E.g1a);S3f=3;break;S3f=1;break;case 2:this.CAb(E.g1a);S3f=1;break;}}};b.prototype.close=function(){var M3f;M3f=2;while(M3f!==1){switch(M3f){case 2:this.config.gsb&&this.Zwb();M3f=1;break;}}};b.prototype.MOa=function(a){var o3f,b;o3f=2;while(o3f!==4){switch(o3f){case 2:b=this;a.streams.forEach(function(a){var n3f,c,d,h,o3D;n3f=2;while(n3f!==13){o3D="n";o3D+="o";o3D+="ne";o3D+="-";switch(n3f){case 4:n3f=f.V(d)?3:7;break;case 2:c=a.downloadable_id;d=b.dc[c];n3f=4;break;case 8:b.dc[d.id]=d;n3f=7;break;case 3:h=a.content_profile;d={id:c,O:a.bitrate,vc:a.vmaf,type:a.type,profile:h,clear:0===h.indexOf(o3D),Cn:!0,me:[],BQ:{},hm:[]};n3f=8;break;case 7:a.urls.forEach(function(a){var G3f,c,h,g;G3f=2;while(G3f!==11){switch(G3f){case 2:c=a.url;h=b.me[c];G3f=4;break;case 4:G3f=f.V(h)&&(a=b.xq[a.cdn_id])?3:11;break;case 3:g=a.location;h={id:c,SA:p.ng.URL,fe:u.Sj,ls:void 0,parent:a,children:[],url:c,tc:a,stream:d};b.me[c]=h;a.children.push(h);d.me.push(h);G3f=14;break;case 14:0===d.hm.filter(function(a){var Q3f;Q3f=2;while(Q3f!==1){switch(Q3f){case 2:return a.id===g.id;break;case 4:return a.id!=g.id;break;Q3f=1;break;}}}).length&&d.hm.push(g);g.dc[d.id]=d;(c=d.BQ[g.id])?c.push(h):d.BQ[g.id]=[h];G3f=11;break;}}});f.Ud(d.BQ,function(a){var T3f;T3f=2;while(T3f!==1){switch(T3f){case 2:a.sort(function(a,b){var P3f;P3f=2;while(P3f!==1){switch(P3f){case 2:return a.tc.Qf-b.tc.Qf;break;case 4:return a.tc.Qf%b.tc.Qf;break;P3f=1;break;}}});T3f=1;break;}}});d.hm=d.hm.sort(function(a,b){var f3f;f3f=2;while(f3f!==1){switch(f3f){case 2:return a.level-b.level||a.Qf-b.Qf;break;}}});n3f=13;break;}}});o3f=4;break;}}};a3f=17;break;case 26:return b;break;case 6:b.prototype.zQ=function(a,b){var A3f,c,d,h,g,k,l,z3D,e3D,l3D,f3D;A3f=2;while(A3f!==15){z3D="(emp";z3D+="ty stream lis";z3D+="t)";e3D="Did not find a UR";e3D+="L for ANY s";e3D+="tream";e3D+="...";l3D="netw";l3D+="orkFa";l3D+="iled";f3D="Network has ";f3D+="failed";f3D+=", not updating stream selection";switch(A3f){case 18:return this.Yo(p.ng.Vs,!1),!1;break;case 11:A3f=!this.HH?10:20;break;case 10:return this.Yo(p.ng.Vs,!1),!1;break;case 1:c=this;d=this.config;h=this.tb.get();g=0;n.ix&&n.ix(a);A3f=8;break;case 2:A3f=1;break;case 7:return!1;break;case 20:l=this.HH;A3f=19;break;case 6:k=p.Je.ez;d.rO&&(k=p.Je.dz);this.tb.location&&h.Jd>=k&&(a=this.hm[this.tb.location])&&(a.kb=h);f.Na(this.HH)&&(this.HH=this.BGb());A3f=11;break;case 8:A3f=t(this.lm)?7:6;break;case 19:A3f=!l.length?18:17;break;case 17:b.forEach(function(a,b){var O3f,m,C3D,u3D,x3D,E3D;O3f=2;while(O3f!==4){C3D=" ";C3D+="K";C3D+="b";C3D+="ps)";u3D=" ";u3D+="(";x3D="]";x3D+=" ";E3D="Faili";E3D+="ng ";E3D+="stream [";switch(O3f){case 2:m=a.id;O3f=5;break;case 5:l.some(function(b){var v3f,c,g;v3f=2;while(v3f!==7){switch(v3f){case 2:c=b.dc[m];v3f=5;break;case 4:return!1;break;case 5:v3f=!c?4:3;break;case 3:g=c.hm[0];void 0===a.h0&&(a.h0=g.id,a.Fja=c.BQ[g.id][0].tc.id);return c.BQ[b.id].some(function(c){var D3f,m,q3D,N3D,J3D,Q3D;D3f=2;while(D3f!==11){q3D="locati";q3D+="o";q3D+="nfa";q3D+="ilo";q3D+="ver";N3D="s";N3D+="erverfa";N3D+="i";N3D+="love";N3D+="r";J3D="p";J3D+="erf";J3D+="ormance";Q3D="u";Q3D+="nkn";Q3D+="own";switch(D3f){case 1:D3f=t(c.tc)?5:4;break;case 3:return!1;break;case 5:return c.tc.fe===u.TEMPORARY&&(a.fe=u.TEMPORARY),d.pq&&a.tc===c.tc.id&&c.tc.ls&&(a.ls=c.tc.ls),!1;break;case 4:D3f=t(c)?3:9;break;case 9:m=Q3D;a.location!==b.id&&(d.pq?a.Bga=b.id===g.id:m=b!==l[0]?""+p.Jg.C2:void 0===a.location?""+p.Jg.Ys:f.V(a.qKa)||a.qKa===b.id?f.V(a.rKa)||a.rKa===c.tc.id?J3D:N3D:q3D,a.location=b.id,a.fha=b.level,a.fp=m);a.url=c.url;a.tc=c.tc.id;a.kC=c.tc.name;a.kb=d.jaa?b.kb.Jd>=p.Je.dz||h.Jd<k?b.kb:h:h.Jd===p.Je.HAVE_NOTHING||b.kb.Jd>=p.Je.dz?b.kb:h;D3f=12;break;case 12:return!0;break;case 2:D3f=1;break;}}});break;}}})?(a.zu=!1,a.fe=void 0,a.Cn&&++g):a.fe&&a.fe===u.TEMPORARY?c.lm.fe=u.TEMPORARY:a.zu||(r.warn(E3D+b+x3D+m+u3D+a.O+C3D),a.Dbb(),a.zu=!0);O3f=4;break;}}});return t(this.lm)?(r.warn(f3D),this.t_=!0,this.emit(l3D,this.lm.fe===u.dj),!1):g?!0:(r.warn(e3D+(b.length?"":z3D)),this.Yo(p.ng.Vs,!0),!1);break;}}};b.prototype.qCb=function(a,b){var E3f,c,d;E3f=2;while(E3f!==9){switch(E3f){case 3:return c;break;case 2:c={};d=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;f.forEach(this.me,function(h,g){var m3f,k,l,m,p,i3D,j3D,b4f;m3f=2;while(m3f!==13){i3D="8";i3D+="0";j3D="4";j3D+="4";j3D+="3";switch(m3f){case 9:m1ii.p3D(1);b4f=m1ii.v3D(18,17);m="s"===l[b4f];p=l[2];l=l[3];l.length||(l=m?j3D:i3D);f.Ge(p)&&f.Ge(l)&&p===a&&l==b&&(k?k.push(g):c[h]=[g]);m3f=13;break;case 3:m3f=l&&4===l.length?9:13;break;case 2:h=h.parent?h.parent.id:"";k=c[h];l=g.match(d);m3f=3;break;}}});E3f=3;break;}}};b.prototype.Yo=function(a,b,f,d){var h3f,h,k,l,r3f,w3D,n3D,t3D,H3D,L3D,y3D,F3D,P3D,A3D;h3f=2;while(h3f!==25){w3D="netw";w3D+="orkFai";w3D+="led";n3D="Emitting n";n3D+="etworkFailed, perma";n3D+="nent =";t3D="Unable to find f";t3D+="ailure";t3D+=" entity f";t3D+="or URL ";H3D=" :";H3D+=" w";H3D+="as ";L3D=" a";L3D+="t";L3D+=" ";y3D=" fa";y3D+="ilure";y3D+=" reported f";y3D+="or ";F3D="T";F3D+="E";F3D+="M";F3D+="P";P3D="P";P3D+="E";P3D+="R";P3D+="M";A3D="Inva";A3D+="li";A3D+="d ";A3D+="f";A3D+="ailure state";switch(h3f){case 5:h=h.parent;h3f=1;break;case 2:h=a!==p.ng.Vs&&f?this.me[f]:this.lm,k=this.lm.fe,l=b?u.dj:u.TEMPORARY;h3f=1;break;case 14:h.fe=l;c(h);this.t_=this.t_||t(this.lm);a=this.lm.fe;h3f=10;break;case 15:h3f=27;break;case 27:throw Error(A3D);h3f=14;break;case 9:r.warn((b?P3D:F3D)+y3D+p.ng.name[a]+L3D+g(h)+H3D+q(h));h3f=8;break;case 26:m1ii.p3D(2);r.warn(m1ii.v3D(f,t3D));h3f=25;break;case 1:h3f=h&&h.parent&&h.SA!==a?5:4;break;case 7:return;break;case 10:a>k&&(r.warn(n3D,a===u.dj),this.emit(w3D,a===u.dj));this.HH=null;this.IH=p.Jg.ERROR;d&&(this.IH=p.Jg.T0a,h.ls=d);h3f=17;break;case 6:h3f=r3f===u.TEMPORARY?14:16;break;case 8:r3f=h.fe;h3f=r3f===u.dj?7:6;break;case 16:h3f=r3f===u.Sj?14:15;break;case 3:h3f=l!==h.fe?9:25;break;case 4:h3f=h?3:26;break;case 17:this.dump();h3f=25;break;}}};b.prototype.aQa=function(a,b){var Z3f;Z3f=2;while(Z3f!==3){switch(Z3f){case 2:Z3f=(a=this.xq[a])?1:5;break;case 5:this.HH=null;this.IH=p.Jg.W5;Z3f=3;break;case 1:l(a,b),m(a);Z3f=5;break;case 7:l(a,b),m(a);Z3f=3;break;Z3f=5;break;}}};a3f=11;break;case 17:b.prototype.BGb=function(){var U3f,a,b,c,d;U3f=2;while(U3f!==10){switch(U3f){case 2:a=this;b=this.config;U3f=4;break;case 9:return null;break;case 4:c=this.$u.filter(function(a){var g3f;g3f=2;while(g3f!==1){switch(g3f){case 2:return!t(a)&&0!==a.level;break;case 4:return-t(a)||6==a.level;break;g3f=1;break;}}});U3f=3;break;case 3:U3f=0===c.length?9:8;break;case 7:U3f=null===this.qU||this.qU+b.eha<d?6:14;break;case 6:c.forEach(function(b){var N3f;N3f=2;while(N3f!==1){switch(N3f){case 2:b.id!==a.tb.location&&(b.kb=a.zf.get(b.id));N3f=1;break;}}}),this.qU=d;U3f=14;break;case 8:d=n.time.ea();U3f=7;break;case 14:b=this.IH;c.sort(function(a,b){var X3f;X3f=2;while(X3f!==1){switch(X3f){case 2:return a.level-b.level||a.Qf-b.Qf;break;}}});this.Sr||f.Na(b)||(this.Sr=!0);return c;break;}}};b.prototype.CAb=function(a){var R3f,b;R3f=2;while(R3f!==9){switch(R3f){case 2:b=this.tb.location;this.Sr=!1;this.xyb=a;this.$u.forEach(function(a){var F3f;F3f=2;while(F3f!==1){switch(F3f){case 2:a.id!==b&&a.kb&&a.kb.Jd>p.Je.ez&&(a.kb.Jd=p.Je.ez);F3f=1;break;}}});R3f=9;break;}}};b.prototype.Zwb=function(){var s4f,a;s4f=2;while(s4f!==4){switch(s4f){case 2:a=this;this.t_||this.$u.forEach(function(b){var y4f;y4f=2;while(y4f!==1){switch(y4f){case 2:b.fe===u.TEMPORARY&&a.zf.fail(b.id,n.time.ea());y4f=1;break;}}});s4f=4;break;}}};b.prototype.dump=function(){};a3f=26;break;}}}(d.EventEmitter);b.hS=a;},function(d){var b,a,c;b=Object.getOwnPropertySymbols;a=Object.prototype.hasOwnProperty;c=Object.prototype.propertyIsEnumerable;d.R=function(){var a,c;try{if(!Object.assign)return!1;a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a];}).join(""))return!1;c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a;});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0;}catch(q){return!1;}}()?Object.assign:function(d,g){var k,m;if(null===d||void 0===d)throw new TypeError("Object.assign cannot be called with null or undefined");m=Object(d);for(var l,h=1;h<arguments.length;h++){k=Object(arguments[h]);for(var f in k)a.call(k,f)&&(m[f]=k[f]);if(b){l=b(k);for(var p=0;p<l.length;p++)c.call(k,l[p])&&(m[l[p]]=k[l[p]]);}}return m;};},function(d,b,a){(function(b){var C,X,P,aa,R,A,T,z;function c(a,b){if(a===b)return 0;for(var c=a.length,f=b.length,d=0,h=Math.min(c,f);d<h;++d)if(a[d]!==b[d]){c=a[d];f=b[d];break;}return c<f?-1:f<c?1:0;}function g(a){return b.ooa&&"function"===typeof b.ooa.isBuffer?b.ooa.isBuffer(a):!(null==a||!a.NPb);}function t(a){return g(a)||"function"!==typeof b.ArrayBuffer?!1:"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a?a instanceof DataView||a.buffer&&a.buffer instanceof ArrayBuffer?!0:!1:!1;}function q(a){if(X.Sb(a))return R?a.name:(a=a.toString().match(T))&&a[1];}function l(a){return"string"===typeof a?128>a.length?a:a.slice(0,128):a;}function h(a){if(R||!X.Sb(a))return X.AN(a);a=q(a);return"[Function"+(a?": "+a:"")+"]";}function f(a,b,c,f,d){throw new A.AssertionError({message:c,KE:a,Qp:b,bH:f,RDb:d});}function p(a,b){a||f(a,!0,b,"==",A.ok);}function n(a,b,f,d){var h;if(a===b)return!0;if(g(a)&&g(b))return 0===c(a,b);if(X.hZ(a)&&X.hZ(b))return a.getTime()===b.getTime();if(X.VJa(a)&&X.VJa(b))return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase;if(null!==a&&"object"===typeof a||null!==b&&"object"===typeof b){if(!t(a)||!t(b)||Object.prototype.toString.call(a)!==Object.prototype.toString.call(b)||a instanceof Float32Array||a instanceof Float64Array){if(g(a)!==g(b))return!1;d=d||{KE:[],Qp:[]};h=d.KE.indexOf(a);if(-1!==h&&h===d.Qp.indexOf(b))return!0;d.KE.push(a);d.Qp.push(b);return r(a,b,f,d);}return 0===c(new Uint8Array(a.buffer),new Uint8Array(b.buffer));}return f?a===b:a==b;}function r(a,b,c,d){var f,h,g;if(null===a||void 0===a||null===b||void 0===b)return!1;if(X.RJa(a)||X.RJa(b))return a===b;if(c&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;f="[object Arguments]"==Object.prototype.toString.call(a);h="[object Arguments]"==Object.prototype.toString.call(b);if(f&&!h||!f&&h)return!1;if(f)return a=aa.call(a),b=aa.call(b),n(a,b,c);f=z(a);g=z(b);if(f.length!==g.length)return!1;f.sort();g.sort();for(h=f.length-1;0<=h;h--)if(f[h]!==g[h])return!1;for(h=f.length-1;0<=h;h--)if(g=f[h],!n(a[g],b[g],c,d))return!1;return!0;}function u(a,b,c){n(a,b,!0)&&f(a,b,c,"notDeepStrictEqual",u);}function E(a,b){if(!a||!b)return!1;if("[object RegExp]"==Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return!0;}catch(la){}return Error.isPrototypeOf(b)?!1:!0===b.call({},a);}function G(a,b,c,d){var h,g,k;if("function"!==typeof b)throw new TypeError('"block" argument must be a function');"string"===typeof c&&(d=c,c=null);try{b();}catch(Q){h=Q;}b=h;d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:".");a&&!b&&f(b,c,"Missing expected exception"+d);h="string"===typeof d;g=!a&&X.DN(b);k=!a&&b&&!c;(g&&h&&E(b,c)||k)&&f(b,c,"Got unwanted exception"+d);if(a&&b&&c&&!E(b,c)||!a&&b)throw b;}function N(a,b){a||f(a,!0,b,"==",N);}C=a(819);X=a(467);P=Object.prototype.hasOwnProperty;aa=Array.prototype.slice;R=function(){return"foo"===function(){}.name;}();A=d.R=p;T=/\s*function\s+([^\(\s]*)\s*/;A.AssertionError=function(a){var b;this.name="AssertionError";this.KE=a.KE;this.Qp=a.Qp;this.bH=a.bH;this.message=a.message?a.message:l(h(this.KE))+" "+this.bH+" "+l(h(this.Qp));b=a.RDb||f;Error.captureStackTrace?Error.captureStackTrace(this,b):(a=Error(),a.stack&&(a=a.stack,b=q(b),b=a.indexOf("\n"+b),0<=b&&(a=a.substring(a.indexOf("\n",b+1)+1)),this.stack=a));};X.mpb(A.AssertionError,Error);A.fail=f;A.ok=p;A.equal=function(a,b,c){a!=b&&f(a,b,c,"==",A.equal);};A.VG=function(a,b,c){a==b&&f(a,b,c,"!=",A.VG);};A.jEa=function(a,b,c){n(a,b,!1)||f(a,b,c,"deepEqual",A.jEa);};A.kEa=function(a,b,c){n(a,b,!0)||f(a,b,c,"deepStrictEqual",A.kEa);};A.IMa=function(a,b,c){n(a,b,!1)&&f(a,b,c,"notDeepEqual",A.IMa);};A.Xub=u;A.gSa=function(a,b,c){a!==b&&f(a,b,c,"===",A.gSa);};A.KMa=function(a,b,c){a===b&&f(a,b,c,"!==",A.KMa);};A["throws"]=function(a,b,c){G(!0,a,b,c);};A.zRb=function(a,b,c){G(!1,a,b,c);};A.HSb=function(a){if(a)throw a;};A.Zla=C(N,A,{equal:A.gSa,jEa:A.kEa,VG:A.KMa,IMa:A.Xub});A.Zla.Zla=A.Zla;z=Object.keys||function(a){var b,c;b=[];for(c in a)P.call(a,c)&&b.push(c);return b;};}.call(this,a(140)));},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ioa=void 0;c=a(387);d=function(){var a3D;function a(){var V3D,d3D;V3D=2;while(V3D!==5){d3D="1S";d3D+="I";d3D+="YbZ";d3D+="rNJCp";d3D+="9";switch(V3D){case 3:this.FU={};"";V3D=3;break;V3D=5;break;case 2:this.FU={};d3D;V3D=5;break;}}}a3D=2;while(a3D!==9){switch(a3D){case 2:a.prototype.add=function(a,b,d,g){var Z3D,h;Z3D=2;while(Z3D!==3){switch(Z3D){case 2:h=this.FU;void 0===h[g]&&(h[g]=new c());h[g].add(a,b,d);Z3D=3;break;}}};a.prototype.start=function(a,b){var M3D,d;M3D=2;while(M3D!==3){switch(M3D){case 2:d=this.FU;void 0===d[b]&&(d[b]=new c());M3D=4;break;case 4:d[b].start(a);M3D=3;break;case 14:d[b].start(a);M3D=4;break;M3D=3;break;}}};a.prototype.stop=function(a,b){var c3D,c;c3D=2;while(c3D!==4){switch(c3D){case 2:c=this.FU;void 0!==c[b]&&c[b].stop(a);c3D=4;break;}}};a.prototype.get=function(){var I3D,h,f,a,b,c,d;I3D=2;while(I3D!==6){switch(I3D){case 2:I3D=1;break;case 1:a=this.FU,b=Object.keys(a),c=[],d=0;I3D=5;break;case 8:d++;I3D=5;break;case 4:h=b[d];f=a[h].get();f&&c.push({cdnid:h,avtp:f.Ca,tm:f.LW});I3D=8;break;case 7:return c;break;case 5:I3D=d<b.length?4:7;break;}}};a3D=3;break;case 3:return a;break;}}}();b.Ioa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.iqa=void 0;c=a(821);new(a(4)).Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");d=function(){var D3D;D3D=2;function a(a){var B3D,Y1D;B3D=2;while(B3D!==4){Y1D="1";Y1D+="S";Y1D+="I";Y1D+="YbZrNJCp";Y1D+="9";switch(B3D){case 2:this.Vfa=a;this.pu={};B3D=5;break;case 5:Y1D;B3D=4;break;}}}while(D3D!==7){switch(D3D){case 9:a.prototype.ATa=function(a){var T1D,b,c;T1D=2;while(T1D!==3){switch(T1D){case 2:b=Object.keys(this.pu);c=this.pu[b[0]];1===b.length&&!1===c.oX?(this.Jy.start(a,c.ee),this.cL=c.ee):1<b.length&&this.cL&&(b=this.pu[this.cL],this.Jy.stop(a,this.cL),b.oX=!1,this.cL=void 0);T1D=3;break;}}};return a;break;case 2:a.prototype.reset=function(){var h3D;h3D=2;while(h3D!==1){switch(h3D){case 4:this.Jy=new c.Ioa();h3D=5;break;h3D=1;break;case 2:this.Jy=new c.Ioa();h3D=1;break;}}};a.prototype.dC=function(a,b){var X3D;X3D=2;while(X3D!==1){switch(X3D){case 2:b.ee&&(this.Vfa?this.Jy.start(a,b.ee):1===b.type&&(this.pu[b.ee]?this.pu[b.ee].KQ+=1:this.pu[b.ee]={ee:b.ee,KQ:1,oX:!1},this.ATa(a)));X3D=1;break;}}};a.prototype.fC=function(a,b){var r3D,c;r3D=2;while(r3D!==8){switch(r3D){case 5:r3D=this.Vfa?4:3;break;case 1:r3D=b.ee?5:8;break;case 2:r3D=1;break;case 3:c=this.pu[b.ee];1===b.type&&c&&(--c.KQ,0===c.KQ&&(c.oX&&this.Jy.stop(a,b.ee),c.oX=!1,delete this.pu[b.ee]),this.ATa(a));r3D=8;break;case 4:this.Jy.stop(a,b.ee);r3D=8;break;}}};a.prototype.Rw=function(a,b,c,d){var S3D;S3D=2;while(S3D!==1){switch(S3D){case 2:d.ee&&(this.Vfa?this.Jy.add(a,b,c,d.ee):this.cL===d.ee&&this.Jy.add(a,b,c,d.ee));S3D=1;break;}}};a.prototype.dm=function(){var W1D;W1D=2;while(W1D!==1){switch(W1D){case 2:return this.Jy.get();break;case 4:return this.Jy.get();break;W1D=1;break;}}};D3D=9;break;}}}();b.iqa=d;},function(d,b,a){var g;function c(a){var b,c;b=a.sw;c=a.mw;this.GE=b;this.a8={uhd:a.uhdl,hd:a.hdl};this.ji=Math.max(Math.ceil(1*b/c),1);this.l5a=a.mins||1;g.call(this,b,c);this.reset();}g=a(159);new(a(4)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(g.prototype);c.prototype.flush=function(){this.Vc.map(function(a,b){this.UAa(a,this.Sda(b));},this);};c.prototype.wab=function(){var a,b,c,d,h,f,g,u;a=this.a8;for(b in a)if(a.hasOwnProperty(b)){c=a[b];d=this.V9[b];h=this.U9[b];if(d.first){f=d.first;g=d.XB;void 0!==g&&(h[f][g]+=1);d.first=void 0;}for(var d=[],f=0,c=g=c.length+1,k=0;k<g;k++){for(var n=0,r=0;r<c;r++)n+=h[r][k];f+=n;d.push(n);}n=-1;if(f>this.l5a){for(k=n=0;k<g;k++)if(0<d[k])for(r=0;r<c;r++){u=h[r][k];0<u&&(n-=u*Math.log(1*u/d[k]));}n/=f*Math.log(2);}this.B8[b]=n;}return this.B8;};c.prototype.UAa=function(a,b){var c,f,g;for(var c=this.ji,d=this.a8;this.VT.length>=c;)this.VT.shift();for(;this.WT.length>=c;)this.WT.shift();this.VT.push(a);this.WT.push(b);a=this.VT.reduce(function(a,b){return a+b;},0);b=this.WT.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var h in d)if(d.hasOwnProperty(h)){b=this.V9[h];c=this.U9[h];f=this.Uyb(a,d[h]);g=b.XB;void 0!==g?c[f][g]+=1:b.first=f;b.XB=f;}}};c.prototype.Uyb=function(a,b){for(var c=0;c<b.length&&a>b[c];)c+=1;return c;};c.prototype.shift=function(){this.UAa(this.Vc[0],this.Sda(0));g.prototype.shift.call(this);};c.prototype.reset=function(){var a,b;this.V9={};this.VT=[];this.WT=[];this.U9={};this.B8={};a=this.a8;for(b in a)if(a.hasOwnProperty(b)){for(var c=this.U9,d=b,h,f=void 0,k=Array(f),f=h=a[b].length+1,n=0;n<f;n++){k[n]=Array(h);for(var r=0;r<h;r++)k[n][r]=0;}c[d]=k;this.V9[b]={first:void 0,XB:void 0};this.B8[b]=0;}g.prototype.reset.call(this);};d.R=c;},function(d,b,a){var g;function c(){this.hi=void 0;this.Mw=0;}g=a(7);c.prototype.Yc=function(){return 0!==this.Mw&&this.hi?{p25:this.hi.uk,p50:this.hi.Ti,p75:this.hi.vk,c:this.Mw}:null;};c.prototype.Zd=function(a){if(!(!g.Na(a)&&g.has(a,"p25")&&g.has(a,"p50")&&g.has(a,"p75")&&g.has(a,"c")&&g.isFinite(a.p25)&&g.isFinite(a.p50)&&g.isFinite(a.p75)&&g.isFinite(a.c)))return this.hi=void 0,this.Mw=0,!1;this.hi={uk:a.p25,Ti:a.p50,vk:a.p75};this.Mw=a.c;};c.prototype.get=function(){return{U_:this.hi,bp:this.Mw};};c.prototype.set=function(a,b){this.hi=a;this.Mw=b;};c.prototype.reset=function(){this.hi=void 0;this.Mw=0;};c.prototype.toString=function(){return"IQRHist("+this.hi+","+this.Mw+")";};d.R=c;},function(d,b,a){var g,m,t,q,l,h,f,p,n,r;function c(a){this.H3a=a;}b=a(391);g=b.IXa;m=b.GXa;t=a(218).HXa;q=a(218).t2a;l=a(390);h=a(389);f=a(388).Lwa;p=a(824);n=a(823);r=a(387);c.prototype.constructor=c;c.prototype.create=function(a,b){var c,d,k,y;d=this.H3a[a];k=b[a];y={};d&&Object.keys(d).forEach(function(a){y[a]=d[a];});k&&Object.keys(k).forEach(function(a){y[a]=k[a];});switch(y.type){case"slidingwindow":c=new t(y.mw);break;case"discontiguous-ewma":c=new m(y.mw);break;case"wssl":c=new q(y.mw,y.max_n);break;case"iqr":c=new l(y.mx,y.mn,y.bw,y.iv);break;case"tdigest":c=new h(y);break;case"discrete-ewma":c=new g(y.hl);break;case"tdigest-history":c=new f(y);break;case"iqr-history":c=new p(y);break;case"avtp":c=new r();break;case"entropy":c=new n(y);}c&&(c.type=y.type);return c;};d.R=c;},function(d){function b(a){this.UD=a;this.Qd=0;this.AE=null;}b.prototype.add=function(a,b,d){null!==this.AE&&b>this.AE&&(this.Qd+=b-this.AE,this.AE=null);this.UD.add(a,b-this.Qd,d-this.Qd,this.Qd);};b.prototype.stop=function(a){null===this.AE&&(this.AE=a);};b.prototype.zja=function(a,b){return this.UD.zja(a,b);};b.prototype.get=function(){return this.UD.get();};b.prototype.reset=function(){this.UD.reset();};b.prototype.toString=function(){return this.UD.toString();};d.R=b;},function(d){function b(a,b,d){this.HE=a;this.ji=Math.floor((a+b-1)/b);this.Oc=b;this.G6a=d;this.reset();}b.prototype.shift=function(){this.Vc.shift();this.Og.shift();};b.prototype.update=function(a,b){this.Vc[a]+=b;};b.prototype.push=function(a){this.Vc.push(0);this.Og.push(a?a:0);this.Pa+=this.Oc;};b.prototype.add=function(a,b,d,g){var c,k;if(null===this.Pa){c=Math.max(Math.floor((d-b+this.Oc-1)/this.Oc),1);for(this.Pa=b;this.Vc.length<c;)this.push(g);}for(;this.Pa<d;)if(this.push(g),this.G6a)for(;1<this.Vc.length&&d+g-(this.Pa-this.Oc*this.Vc.length+this.Og[0])>this.HE;)this.shift();else this.Vc.length>this.ji&&this.shift();if(b>this.Pa-this.Oc)this.update(this.Vc.length-1,a);else if(b==d)g=this.Vc.length-Math.max(Math.ceil((this.Pa-d)/this.Oc),1),0<=g&&this.update(g,a);else for(g=1;g<=this.Vc.length;++g){c=this.Pa-g*this.Oc;k=c+this.Oc;if(!(c>d)){if(k<b)break;this.update(this.Vc.length-g,Math.round(a*(Math.min(k,d)-Math.max(c,b))/(d-b)));}}for(;this.Vc.length>this.ji;)this.shift();};b.prototype.reset=function(){this.Vc=[];this.Og=[];this.Pa=null;};b.prototype.setInterval=function(a){this.ji=Math.floor((a+this.Oc-1)/this.Oc);};d.R=b;},function(d,b,a){var m,t,q,l;function c(a,b,c){m.call(this,a,b,c);}function g(a,b){t.call(this,new c(a,b,!1));}m=a(827);t=a(826);q=a(109).kkb;l=a(109).Enb;c.prototype=Object.create(m.prototype);c.prototype.Ca=function(){return Math.floor(8*q(this.Vc)/this.Oc);};c.prototype.wh=function(){return Math.floor(64*l(this.Vc)/(this.Oc*this.Oc));};c.prototype.get=function(){return{Ca:this.Ca(),wh:this.wh(),xQb:this.Vc.length};};c.prototype.toString=function(){return"bsw("+this.HE+","+this.Oc+","+this.ji+")";};g.prototype=Object.create(t.prototype);g.prototype.setInterval=function(a){this.UD.setInterval(a);};d.R=g;},function(d,b,a){function c(a){this.data=a;this.right=this.left=null;}function g(a){this.Rd=null;this.Qk=a;this.size=0;}b=a(393);c.prototype.bg=function(a){return a?this.right:this.left;};c.prototype.Nn=function(a,b){a?this.right=b:this.left=b;};g.prototype=new b();g.prototype.Bn=function(a){if(null===this.Rd)return this.Rd=new c(a),this.size++,!0;for(var b=0,d=null,g=this.Rd;;){if(null===g)return g=new c(a),d.Nn(b,g),ret=!0,this.size++,!0;if(0===this.Qk(g.data,a))return!1;b=0>this.Qk(g.data,a);d=g;g=g.bg(b);}};g.prototype.remove=function(a){var b,d,g,k,f;if(null===this.Rd)return!1;b=new c(void 0);d=b;d.right=this.Rd;for(var g=null,h=null,f=1;null!==d.bg(f);){g=d;d=d.bg(f);k=this.Qk(a,d.data);f=0<k;0===k&&(h=d);}return null!==h?(h.data=d.data,g.Nn(g.right===d,d.bg(null===d.left)),this.Rd=b.right,this.size--,!0):!1;};d.R=g;},function(d,b,a){function c(a){this.data=a;this.right=this.left=null;this.red=!0;}function g(a){this.Rd=null;this.Qk=a;this.size=0;}function m(a){return null!==a&&a.red;}function t(a,b){var c;c=a.bg(!b);a.Nn(!b,c.bg(b));c.Nn(b,a);a.red=!0;c.red=!1;return c;}function q(a,b){a.Nn(!b,t(a.bg(!b),!b));return t(a,b);}b=a(393);c.prototype.bg=function(a){return a?this.right:this.left;};c.prototype.Nn=function(a,b){a?this.right=b:this.left=b;};g.prototype=new b();g.prototype.Bn=function(a){var b,d,g,k,l,n,r,u,N;b=!1;if(null===this.Rd)this.Rd=new c(a),b=!0,this.size++;else{d=new c(void 0);g=0;k=0;l=null;n=d;r=null;u=this.Rd;for(n.right=this.Rd;;){null===u?(u=new c(a),r.Nn(g,u),b=!0,this.size++):m(u.left)&&m(u.right)&&(u.red=!0,u.left.red=!1,u.right.red=!1);if(m(u)&&m(r)){N=n.right===l;u===r.bg(k)?n.Nn(N,t(l,!k)):n.Nn(N,q(l,!k));}N=this.Qk(u.data,a);if(0===N)break;k=g;g=0>N;null!==l&&(n=l);l=r;r=u;u=u.bg(g);}this.Rd=d.right;}this.Rd.red=!1;return b;};g.prototype.remove=function(a){var b,d,r,g,u,n,N;if(null===this.Rd)return!1;b=new c(void 0);d=b;d.right=this.Rd;for(var g=null,k,l=null,n=1;null!==d.bg(n);){r=n;k=g;g=d;d=d.bg(n);u=this.Qk(a,d.data);n=0<u;0===u&&(l=d);if(!m(d)&&!m(d.bg(n)))if(m(d.bg(!n)))k=t(d,n),g.Nn(r,k),g=k;else if(!m(d.bg(!n))&&(u=g.bg(!r),null!==u))if(m(u.bg(!r))||m(u.bg(r))){N=k.right===g;m(u.bg(r))?k.Nn(N,q(g,r)):m(u.bg(!r))&&k.Nn(N,t(g,r));r=k.bg(N);r.red=!0;d.red=!0;r.left.red=!1;r.right.red=!1;}else g.red=!1,u.red=!0,d.red=!0;}null!==l&&(l.data=d.data,g.Nn(g.right===d,d.bg(null===d.left)),this.size--);this.Rd=b.right;null!==this.Rd&&(this.Rd.red=!1);return null!==l;};d.R=g;},function(d,b,a){d.R={f1a:a(830),BJb:a(829)};},function(d,b,a){var c,g,m,t,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Tqa=void 0;c=a(0);g=a(162);m=a(394);t=a(20);q=a(4);d=a(83);l=a(384);h=a(6);a=function(a){function b(b,c,d,f,g,h,k,l,m,p,q){var t;t=a.call(this,b)||this;t.Wc=b;t.H=c;t.K=d;t.ol=f;t.hY=g;t.Vp=h;t.gZ=k;t.Jf=l;t.aAa=m;t.Pf=p;t.Uya=[void 0,void 0];t.f$=[];t.mK=null!==q&&void 0!==q?q:{cr:[Object.create(null),Object.create(null)]};return t;}c.__extends(b,a);Object.defineProperties(b.prototype,{cr:{get:function(){return this.mK.cr;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xp:{get:function(){return this.mK.xp;},set:function(a){this.mK.xp=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{VD:{get:function(){return this.mK.VD;},set:function(a){this.mK.VD=a;},enumerable:!1,configurable:!0}});b.prototype.yc=function(){var a;a=this;this.cr.forEach(function(b,c){for(var d in b)b[d].yc(),a.$ba(c,d);});};b.prototype.vj=function(a,b){return this.cr[a][b];};b.prototype.Oaa=function(){this.xp=void 0;};b.prototype.nla=function(a,b){var c;if(b)this.xp=b;else if(!(this.xp&&0<this.xp.length||this.K.HRa))for(g.Jk.bm(1),a=a.pe(1).track.Ac,b=0;b<a.length;++b){c=a[b];if(c.yj&&!this.FIa(c.sa)){this.xp=[c.sa];break;}}};b.prototype.yha=function(){var a,b;if(this.xp&&0!==this.xp.length&&!this.VD)for(g.Jk.bm(1);0<this.xp.length;){a=this.xp.shift();b=this.Wc.Lr(1,a);if(b&&!this.FIa(a)&&b.yj){this.VD=a;this.O1(b,{offset:0,SH:!0});break;}}};b.prototype.Sma=function(a,b){var c;c=this;b.forEach(function(b){var d;d=c.vj(a,b.sa);d&&!b.Bd&&(d.stream.Bd?b.hW(d.stream):(d.HO||(d.HO=[]),d.HO.push(c.Wc)));});};b.prototype.yH=function(a,b,c){var d,f,g;d=this;g=this.Wc;t.pf.forEach(function(f){var k,m,p,q,t;if(g.hb(f)&&(void 0===c||f===c)){q=a[f];h.assert(q&&g.getTrackById(q.ab)===q);q=q.Ac;if(g.bq)d.H.warn("requestHeadersFromManifest, shutdown detected");else if(g.gm.zQ(g.oa,q)){t=null!==(p=null===(m=null===(k=d.Vp(f))||void 0===k?void 0:k.tB)||void 0===m?void 0:m.O)&&void 0!==p?p:0;k=l.lda(q,t);void 0===k&&d.H.warn("Unable to find stream for bitrate "+t);k=q[k];(m=g.vj(f,k.sa))&&m.stream.$?g.yGb(f,m):(f={offset:0,SH:!1,sx:1===f,Er:!0,TG:!d.gZ(g)},g.KDa(k,f,b));}else d.H.warn("requestHeadersFromManifest, unable to update urls");}});g.IY=!0;null===(f=this.Pf)||void 0===f?void 0:f.call(this,g.Va).PV();};b.prototype.HC=function(a){var b,c,d,f;b=this.K;c=this.vj(a.M,a.sa);if(c)return c.stream.$||c.SH&&this.XCa(c),!1;c=this.O4a;d=this.P4a;if(void 0!==b.hia&&void 0!==c&&void 0!==d){f=q.time.ea();if(f-c<b.hia||f-d<b.hia)return!1;}a=this.O1(a,{url:a.url,offset:0});this.P4a=q.time.ea();return a;};b.prototype.O1=function(a,b,d,f){var h,k,l,m;l=a.M;g.Jk.bm(l);m=a.sa;if(this.m3a(m,!!b.Er))return null===(h=this.aAa)||void 0===h?void 0:h.call(this),!1;if(h=this.vj(l,m))a=!1;else{h=c.__assign(c.__assign({},b),{ba:this.V3a(a)});d=this.hY(l,!!h.Er,!!h.sx,!!h.TG,!!d);a.url&&(this.Vp(l).Vga=a.url);h=a=this.q8(a,d,h);if(!a.gs())return this.Wc.Cg("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1;a=!0;}b.Er&&f&&(this.Wc.dg[l]=h);null===(k=this.aAa)||void 0===k?void 0:k.call(this);return a;};b.prototype.lp=function(){var a,b;a=this;b=[];this.cr.forEach(function(c,d){var h;g.Jk.bm(d);for(var f in c){d=c[f];h=d.X1();1===h?b.push(d):2===h&&a.Wc.Cg("swapUrl failure");}});return b;};b.prototype.Si=function(a){var b,c;b=a.M;c=g.Jk.bm(b);this.Wc.bq?c.warn("header onrequestcomplete ignored, session shutdown:",a.toString()):(this.ol({type:"logdata",target:"startplay",Ad:{usedNativeDataView:a.uHb}}),a.R_>a.gwb&&(this.Uya[b]=a.R_),a.SH&&this.XCa(a),this.v4a(a),this.O4a=q.time.ea(),this.Wc.Mx.emit("onHeaderRequestComplete",a));this.Rp(a);};b.prototype.qV=function(a,b,c){var d;d=a.M;g.Jk.bm(d);d=this.Wc.Lr(d,a.sa);if(b!==!!a.sj)return!1;this.KAa(a);a.d9a(d);this.Hxa(a);this.Wc.Mx.emit("onHeaderFromCache",{Eo:a,ljb:c});return!0;};b.prototype.j$=function(a,b){var c,d,f,g;c=[];d=this.cr[a];for(f in d){g=d[f];g&&!g.stream.$&&g.Bk===b&&(this.$ba(a,f),c.push({stream:g.stream,offset:g.offset,ba:g.ba,sx:g.sx,Er:g.Er,TG:g.TG,bja:g.bja}));}return c;};b.prototype.Cka=function(a){var b;b=this;a.forEach(function(a){b.O1(a.stream,a);});};b.prototype.KAa=function(a){this.cr[a.M][a.sa]=a;};b.prototype.FIa=function(a){return!!this.vj(1,a);};b.prototype.v4a=function(a){var b,c,d,f,k;b=this.K;c=g.Jk.bm(a.M);d=a.stream.$;if(b.Mba){f=d.length;c.trace("fragment count:",f);for(var h=0;h<f;++h){k=d.get(h);c.trace("fragment: "+h+", startPts: "+k.S+", duration: "+k.duration+", offset: "+k.offset);}}this.Hxa(a);if(b.fH&&b.fH.enabled&&void 0===d.Oy&&b.fH.simulatedFallback){f=d.length;b=[];for(h=0;h<f;++h)b[h]=Math.max(0,a.stream.vc+this.E6a(h));d.eDb(b);}};b.prototype.Hxa=function(a){var b,c;b=a.M;c=a.sa;g.Jk.bm(b);a.HO&&(a.HO.forEach(function(d){(d=d.Lr(b,c))&&d!==a.stream&&!d.Bd&&d.hW(a.stream);}),a.HO=void 0);this.Wc.Vnb(a);};b.prototype.q8=function(a,b,c){var d,f;d=this;f=g.Jk.bm(a.M);a=new m.z2(a,this.K,b,c,this,!1,f);a.addListener("headerRequestCancelled",function(a){d.u4a(a.request);});a.Kb(void 0);this.KAa(a);return a;};b.prototype.m3a=function(a,b){return this.Jf&&(a=this.Jf.SN(this.Wc.G,a))&&this.qV(a,!1,b)?!0:!1;};b.prototype.V3a=function(a){var b,c,d;b=a.ys;c=a.P;d=this.K;return c.re.xf?d.kX?d.kX:d.HY:d.YTa&&b?b.offset+b.size:(a=this.Uya[a.M])?a+128:2292+12*Math.ceil(c.duration/2E3);};b.prototype.u4a=function(a){this.$ba(a.M,a.sa);};b.prototype.$ba=function(a,b){delete this.cr[a][b];};b.prototype.XCa=function(a){this.VD===a.sa&&(this.VD=void 0);};b.prototype.E6a=function(a){var b;b=this.K.fH.fallbackBound;void 0===this.f$[a]&&(this.f$[a]=Math.floor(2*Math.random()*b)-b);return this.f$[a];};return b;}(d.Hq);b.Tqa=a;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Qna=void 0;c=a(0);g=a(24);m=a(4).Vq;d=function(a){function b(b){var c;c=a.call(this)||this;c.Kza=b;c.fU=b.groupId;c.Kf=new g.Vn();c.Kf.on(c,m.Nd.rJ,c.DK);c.Kf.on(c,m.Nd.tz,c.pE);return c;}c.__extends(b,a);b.prototype.fwb=function(a,b,c){m.prototype.open.call(this,a,b,c);};b.prototype.JCb=function(a){this.fU=a;};Object.defineProperties(b.prototype,{groupId:{get:function(){return this.fU;},enumerable:!1,configurable:!0}});b.prototype.yc=function(){this.Kf&&this.Kf.clear();m.prototype.yc.call(this);};b.prototype.DK=function(a){this.Kza.uyb(a.probed,a.affected);this.yc();};b.prototype.pE=function(a){this.Kza.ryb(a.probed,a.affected);this.yc();};return b;}(m);b.Qna=d;},function(d,b,a){var g,m,t;function c(a,b){this.yK=a;this.Uz=0===Math.floor(1E6*Math.random())%b.YB;this.groupId=1;this.config=b;this.ru={};this.qy={};}g=a(7);m=a(4);new m.Console("ASEJS_PROBE_MANAGER","asejs");t=a(833).Qna;c.prototype.constructor=c;c.prototype.tyb=function(a,b){var c,d,k,l,q,t,n,r,u,C,X;c=this.yK;d=a.Lb;k=c.fSa(a.url);l=c.LZ(a.url);q=this.config;t=m.time.ea();r=b;u=[];C=k.hm[0];X=!1;n=this.ru[d];if(!n)n=this.ru[d]={count:0,Tg:t,sv:!1,error:b,mla:[],Ija:{}};else if(n.Tg>=t-q.E1)return;n.sv||(C&&l.id===C.id&&(a.isPrimary=!0),n.Tg=t,n.sv=!1,n.error=b,++n.count,k&&k.me&&0!==k.me.length&&(g.forEach(k.me,function(b){var c,f,g;c=b.tc.id;f=c+"-"+d;g=this.qy[f];if(void 0===g||void 0===g.j0)g&&g.Em&&clearTimeout(g.Em),b=this.MDa(b.url,a,c),this.qy[f]={aa:!1,count:0,j0:b.wj()},u.push(b.wj()),X=!0;-1===n.mla.indexOf(c)&&n.mla.push(c);},this),this.Uz&&0<u.length&&(k={type:"logdata",target:"endplay",fields:{}},b=r,r={ts:m.time.ea(),es:b.aBa,fc:b.oh,fn:b.HFa,nc:b.Qi,pb:u,gid:this.groupId},b.oN&&(r.hc=b.oN),k.fields.errpb={type:"array",value:r,adjust:["ts"]},c.ol(k)),X&&this.groupId++));};c.prototype.MDa=function(a,b,c){var d,g,h;d=this.yK.LZ(b.url);d&&d.kb&&d.kb.$p&&d.kb.$p.Ca||Math.random(0,1);d=new t(this);g=a.split("?");h="random="+parseInt(1E7*Math.random(),10);d.fwb(1<g.length?a+"&"+h:a+"?"+h,b,c);return d;};c.prototype.uyb=function(a,b){var c,d,g,k,l,q,t,n;c=this.yK;d=this.config;g=b.Lb;k=this.ru[g];q=a.url;t=this.qy[a.Lb+"-"+g];if(k&&(l=k.error,t)){t&&t.Em&&clearTimeout(t.Em);t.aa=!0;t.count=0;t.j0=void 0;k.Ija[a.Lb]=!0;(t=this.ru[a.Lb])&&!0===t.sv&&d.Lt&&(c.aQa(a.Lb,t.error.uQ[1]),this.Uz&&(t={type:"logdata",target:"endplay",fields:{}},t.fields.errst={type:"array",value:{ts:m.time.ea(),id:a.requestId,servid:b.Lb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.ol(t)),this.ru[a.Lb]=void 0);if(q!==b.url){n=this.qy[g+"-"+g];n&&n.aa||(g=(g=c.LZ(q))&&g.kb&&g.kb.$p&&g.kb.$p.Ca||Math.random(0,1)*d.UZ,g=Math.min(g,d.UZ),setTimeout(function(){var d;if(!(!1!==k.sv||n&&n.aa)&&(k.sv=!0,c.Yo(l.uQ[0],l.uQ[1],b.url,l),this.Uz)){d={type:"logdata",target:"endplay",fields:{}};d.fields.erep={type:"array",value:{ts:m.time.ea(),id:a.requestId,servid:b.Lb,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.ol(d);}}.bind(this),g));}this.Uz&&(t={type:"logdata",target:"endplay",fields:{}},t.fields.pbres={type:"array",value:{ts:m.time.ea(),id:a.requestId,result:1,servid:a.Lb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.ol(t));}};c.prototype.ryb=function(a,b){var c,d,k,l,q,t,n,r,u,C;c=this.yK;d=parseInt(b.Lb,10);k=this.ru[d];l=parseInt(a.Lb,10);q=this.qy[l+"-"+d];t=0;u=this.config;if(q&&k){q.aa=!1;q.j0=void 0;k.Ija[l]=!1;r=k.mla;if(u.Lt&&l===d&&b.isPrimary){C=c.LZ(b.url);C=C&&C.kb&&C.kb.$p&&C.kb.$p.Ca||300*Math.random(0,1);C=C*Math.pow(2,q.count);C=Math.min(C,12E4);C=C+Math.random(0,1)*(1E4>C?100:1E4);q.Em=setTimeout(function(){var c;q.Em=void 0;c=this.MDa(a.url,b,l);c.JCb(a.groupId);q.j0=c.wj();}.bind(this),C);}++q.count;l===d&&(t=0,r.forEach(function(a){!1===k.Ija[a]&&t++;}),r.length===t&&k.count>=u.YZ&&(n=k.error,k.sv=!0,g.forEach(c.fSa(b.url).me,function(a){var b;c.Yo(n.uQ[0],n.uQ[1],a.url,n);if(this.Uz){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:m.time.ea(),id:-1,servid:a.tc.id},adjust:["ts"]};c.ol(b);}},this)));this.Uz&&(d={type:"logdata",target:"endplay",fields:{}},d.fields.pbres={type:"array",value:{ts:m.time.ea(),id:a.requestId,result:0,servid:a.Lb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.ol(d));}};c.prototype.S1=function(a){var b,c,d;b=a.url||a.mediaRequest.url;if(b){a=this.yK;b=a.SQa(b);c=this.ru[b];d=this.qy[b+"-"+b];c&&c.sv&&this.config.Lt&&(a.aQa(c.error.aBa,!1),this.Uz&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:m.time.ea(),id:-1,servid:b},adjust:["ts"]},a.ol(c)),this.ru[b]=void 0,d&&d.Em&&clearTimeout(d.Em));}};c.prototype.reset=function(){var a,b,c;a=this.qy;for(c in a)a.hasOwnProperty(c)&&(b=a[c+"-"+c])&&b.Em&&clearTimeout(b.Em);this.qy={};this.ru={};};d.R=c;},function(d,b,a){var c,g,m,t,q,l,h,f,p,n,r,u,E,G;Object.defineProperty(b,"__esModule",{value:!0});b.mqa=void 0;c=a(7);g=a(18);m=a(4);t=new m.Console("ASEJS_ERROR_DIRECTOR","asejs");q=a(834);l=m.Rj;h=l.aD;f={};p={};d=[g.ng.Vs,!1];a=[g.ng.Vs,!0];n=[g.ng.Az,!1];r=[g.ng.Az,!0];u=[g.ng.URL,!0];E=[-1,!1];G=[g.ng.Az,!1];f[h.UIb]=n;f[h.UNKNOWN_ERROR]=n;f[h.IMb]=n;f[h.iXa]=n;f[h.jpa]=n;f[h.uXa]=n;f[h.mXa]=r;f[h.nWa]=r;f[h.voa]=G;f[h.Q2]=G;f[h.oWa]=E;f[h.pWa]=G;f[h.qWa]=G;f[h.kWa]=n;f[h.mWa]=n;f[h.uoa]=d;f[h.lWa]=n;f[h.jWa]=G;f[h.QJb]=r;f[h.IYa]=G;f[h.Pqa]=G;f[h.Oqa]=G;f[h.o4]=G;f[h.Mqa]=G;f[h.HYa]=u;f[h.q4]=r;f[h.s4]=u;f[h.r4]=a;f[h.Rqa]=r;f[h.KYa]=u;f[h.aS]=G;f[h.Qqa]=r;f[h.JYa]=r;f[h.pXa]=r;f[h.jXa]=n;f[h.D1a]=n;f[h.$Wa]=n;f[h.aXa]=n;f[h.bXa]=n;f[h.cXa]=n;f[h.dXa]=n;f[h.eXa]=n;f[h.fXa]=n;f[h.gXa]=n;f[h.hXa]=n;f[h.kXa]=n;f[h.lXa]=n;f[h.nXa]=n;f[h.oXa]=n;f[h.qXa]=n;f[h.rXa]=n;f[h.sXa]=n;f[h.tXa]=n;f[h.vXa]=n;f[h.wXa]=n;f[h.C1a]=G;f[h.TIMEOUT]=d;p[h.voa]=!0;p[h.Pqa]=!0;p[h.Oqa]=!0;p[h.Mqa]=!0;p[h.jpa]=!0;d=function(){var R1D;function a(a,b,c,d){var U1D,e52,k52;U1D=2;while(U1D!==12){e52="netwo";e52+="rkFa";e52+="i";e52+="led";k52="1";k52+="SIYbZ";k52+="rNJC";k52+="p9";switch(U1D){case 4:this.Nr=d;U1D=3;break;case 3:k52;U1D=9;break;case 2:this.gm=a;this.config=b;this.fob=c;U1D=4;break;case 9:f[h.o4]=b.Nob?r:G;this.gm.on(e52,this.Znb.bind(this));this.wG=m.time.ea();this.lW=0;this.nma={};this.Gja=new q(a,b);U1D=12;break;}}}R1D=2;while(R1D!==13){switch(R1D){case 2:a.prototype.YCb=function(a){var b1D;b1D=2;while(b1D!==1){switch(b1D){case 4:this.j1=a;b1D=3;break;b1D=1;break;case 2:this.j1=a;b1D=1;break;}}};a.prototype.Yo=function(a,b,d,h){var O1D,k,m,q,r,y,u,H,K,C,b52,O52,T52,S52,I52;O1D=2;while(O1D!==23){b52="U";b52+="nmap";b52+="ped failure code";b52+=" in JSASE error director : ";O52=" :";O52+=" crit";O52+="ical error ";O52+="cou";O52+="nt = ";T52=" ";T52+="on";T52+=" ";S52="Fa";S52+="ilure";S52+=" ";I52="I";I52+="nvalid aff";I52+="e";I52+="cted for net";I52+="work failure";switch(O1D){case 10:O1D=void 0!==a.url?20:15;break;case 2:k=this;m=l.aD.name;q=d?m[d]:void 0;m={};O1D=9;break;case 26:t.error(I52);return;break;case 19:H&&(m[H]=[a.url]);O1D=18;break;case 9:r=this.config;y=this.gm;t.warn(S52+q+T52+JSON.stringify(a)+O52+this.lW);O1D=6;break;case 14:u=f[d];this.BZ={oN:b,oh:d,HFa:q,Qi:h};p[d]&&++this.lW;O1D=11;break;case 24:m1ii.o52(0);t.error(m1ii.U52(d,b52));O1D=23;break;case 18:K=u[0];C=u[1];r.pq?c.forEach(m,function(c,f){var m1D,q52;m1D=2;while(m1D!==5){q52="er";q52+="ro";q52+="r";switch(m1D){case 2:u===G||u===n?k.Gja.tyb({url:void 0!==a.url?a.url:c[0],Lb:f},{aBa:f,uQ:u,oN:b,oh:d,HFa:q,Qi:h}):c.some(function(a){var k1D;k1D=2;while(k1D!==5){switch(k1D){case 2:y.Yo(K,C,a);return K===g.ng.Az;break;}}});!k.j1||0!==b&&void 0!==b||(c=void 0!==a.url?a.url:c[0])&&k.j1.cla(q52,c);m1D=5;break;}}}):c.forEach(m,function(c,d){var v1D,V52;v1D=2;while(v1D!==5){V52="er";V52+="r";V52+="or";switch(v1D){case 1:c.some(function(a){var K1D;K1D=2;while(K1D!==5){switch(K1D){case 2:y.Yo(K,C,a);return K===g.ng.Az;break;}}}),!k.j1||0!==b&&void 0!==b||(c=void 0!==a.url?a.url:c[0])&&k.j1.cla(V52,c);v1D=5;break;case 2:v1D=u!==G||k.yAb(d)?1:5;break;}}});O1D=23;break;case 11:O1D=u!==E?10:23;break;case 15:O1D=void 0!==a.host&&void 0!==a.port?27:26;break;case 20:H=y.SQa(a.url);O1D=19;break;case 27:m=y.qCb(a.host,a.port);O1D=18;break;case 6:O1D=d&&c.isArray(f[d])?14:24;break;}}};a.prototype.yAb=function(a){var p1D,b,c,d;p1D=2;while(p1D!==13){switch(p1D){case 4:d=this.nma[a];p1D=3;break;case 2:b=m.time.ea();c=this.config;p1D=4;break;case 9:p1D=d.Tg<this.wG?8:7;break;case 3:p1D=d?9:14;break;case 8:d.Tg=b,d.count=1;p1D=13;break;case 7:p1D=!(d.Tg>=b-c.E1||d.sv||(d.Tg=b,++d.count,d.count<c.YZ))?6:13;break;case 6:return d.sv=!0;break;case 14:this.nma[a]={Tg:b,count:1};p1D=13;break;}}};a.prototype.Znb=function(a){var G1D,b,c,d,f,g,h,k,w52,L52,l52,m52,u52;G1D=2;while(G1D!==6){w52=" ";w52+="ms ";w52+="ag";w52+="o";L52="temp";L52+="or";L52+="ari";L52+="ly";l52="p";l52+="er";l52+="manent";l52+="l";l52+="y";m52=" la";m52+="st su";m52+="cce";m52+="ss w";m52+="as ";u52="Net";u52+="w";u52+="ork ";u52+="has failed";u52+=" ";switch(G1D){case 2:b=this;c=m.time.ea()-this.wG;d=a;k=this.config;m1ii.C52(1);t.warn(m1ii.s52(u52,c,m52,a?l52:L52,w52));!a&&c>k.ria&&(d=!0);G1D=7;break;case 7:d?(this.zH&&(clearTimeout(this.zH),this.zH=void 0),this.YCa(),this.Gja.reset(),this.BZ&&(f=this.BZ.oh,g=this.BZ.oN,h=this.BZ.Qi),this.fob({iqb:a,hwb:f,iwb:g,jwb:h})):this.zH||(this.zH=setTimeout(function(){var g1D;g1D=2;while(g1D!==5){switch(g1D){case 2:b.zH=void 0;b.oP();g1D=5;break;}}},k.sia));G1D=6;break;}}};a.prototype.oP=function(a){var s1D;s1D=2;while(s1D!==1){switch(s1D){case 2:this.zH||(this.gm.oP(!!a),this.nma={},this.Nr());s1D=1;break;}}};a.prototype.S1=function(a){var o1D,b;o1D=2;while(o1D!==9){switch(o1D){case 2:b=this.config;this.wG=Math.max(a.timestamp||m.time.ea(),this.wG);this.YCa();o1D=3;break;case 3:b.pq&&this.Gja.S1(a);o1D=9;break;}}};R1D=8;break;case 8:a.prototype.xO=function(){var Q1D;Q1D=2;while(Q1D!==1){switch(Q1D){case 4:this.lW=6;Q1D=8;break;Q1D=1;break;case 2:this.lW=0;Q1D=1;break;}}};a.prototype.tk=function(){var J1D,a,b,c,g52,J52;J1D=2;while(J1D!==8){g52="m";g52+="s";J52="Setting un";J52+="derf";J52+="low timeout in ";switch(J1D){case 9:b.gHb&&!this.wQ&&(t.info(J52+c+g52),this.wQ=setTimeout(function(){var N1D,i52,Y52;N1D=2;while(N1D!==4){i52="Forcing permanent network fail";i52+="ure ";i52+="after ";Y52="ms, since underflow with no";Y52+=" s";Y52+="uccess";switch(N1D){case 1:a.wQ=void 0;a.gm.Yo(g.ng.Vs,!0);N1D=4;break;case 2:m1ii.o52(2);t.info(m1ii.s52(c,Y52,i52));N1D=1;break;}}},c));J1D=8;break;case 2:J1D=1;break;case 1:a=this;b=this.config;c=b.Hha;this.wG=Math.max(m.time.ea(),this.wG);J1D=9;break;}}};a.prototype.YCa=function(){var q1D,p52;q1D=2;while(q1D!==1){p52="Cleared ";p52+="underflo";p52+="w timeout";switch(q1D){case 2:this.wQ&&(clearTimeout(this.wQ),this.wQ=void 0,t.info(p52));q1D=1;break;}}};R1D=14;break;case 14:return a;break;}}}();b.mqa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=b.Rq||(b.Rq={});d[d.AUDIO=0]="AUDIO";d[d.VIDEO=1]="VIDEO";},function(d,b,a){var m,t,q,l;function c(a,b,c,d){t.call(this,a,b,c,d);}function g(a,b,c){t.call(this,a,b,c,void 0);}m=a(82);t=a(396).lJ;q=a(400);l=a(75).aya;c.prototype=Object.create(t.prototype);g.prototype=Object.create(c.prototype);g.prototype.n4a=function(a,b){return"string"===typeof b?q[b]:b?q.reset[a]||q.SDb[a]:q.SDb[a];};g.prototype.GPa=function(a,b,c,d){return this.Qa(a,b,!1,c,d);};g.prototype.LPa=function(a,b,c,d){return this.Qa(a,b,!0,c,d);};g.prototype.Qa=function(a,b,c,d,g){var h,k,l,p,q,t,n,r,y,u,H,z,F,M;function f(a){k=h[a];l=k.Bq("traf");if(void 0===l||void 0===l.St)return!1;p=l.Bq("tfdt");if(void 0===p)return!1;q=l.Bq("trun");return void 0===q?!1:!0;}if(!this.parse())return!1;h=this.Pc.moof;if(!h||0===h.length)return!1;if(void 0!==a)for(t=a,a=0;a<h.length;++a){if(!f(a))return!1;if(q.je>t||c&&q.je===t)break;t-=q.je;}else if(a=c?h.length-1:0,!f(a))return!1;if(c&&a<h.length-1){n=h[a+1];this.gg.Ck(this.fRb-n.startOffset,n.startOffset);}else!c&&0<a&&this.gg.Ck(k.startOffset,0);n=l.Bq("tfhd");if(void 0===n)return!1;p=l.Bq("tfdt");r=q.je;y=l.Bq("saiz");u=l.Bq("saio");H=l.Bq(m.Kta);z=l.Bq("sbgp");if(!(!y&&!u||y&&u))return!1;F=l.Bq("sdtp");if(this.Pc.mdat&&a<this.Pc.mdat.length)M=this.Pc.mdat[a];else if(a!==h.length-1)return!1;void 0===t&&(t=c?q.je:0);if(q.Qa(l,n,M||this.gg,b,t,l.St,c))q.TW&&(!c&&p&&p.Qa(q.LDb),y&&u&&(y.Qa(q.QH,c),u.Qa(H?0:y.Ika,l.St,c)),H&&H.Qa(q.QH,c),F&&F.Qa(q.QH,r,c),z&&z.Qa(q.QH,c));else if(!c){if(a===h.length-1)return!1;this.gg.Ck(h[a+1].startOffset-k.startOffset,k.startOffset);}else if(0===q.QH)return!1;d&&(b=this.n4a(this.stream.profile,g))&&q.wAb(l,n,M,c,d,b);c=this.gg.Qa();d=c.reduce(function(a,b){return a+b.byteLength;},0);c={vg:c,length:d,NB:this.gg.view.byteLength};q.TW&&!M&&(c.wH=l.St+q.wH,c.rv=q.rv);return c;};d.R={aw:g,XN:function(a){var b,c;b=new ArrayBuffer(8);c=new DataView(b);c.setUint32(0,a+8);c.setUint32(4,l("mdat"));return b;}};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(123);a(123);g=a(75);d=function(){function a(a,b,c){this.view=a;this.console=b;this.config=c;this.view=a;this.console=b;this.JB=this.yL=this.offset=0;}a.prototype.Skb=function(a){return new DataView(this.view.buffer,this.view.byteOffset+this.offset,a);};a.prototype.Rf=function(a){for(;this.JB<a;)this.yL=(this.yL<<8)+this.od(),this.JB+=8;this.JB-=a;return this.yL>>>this.JB&(1<<a)-1;};a.prototype.od=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};a.prototype.Zg=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};a.prototype.Db=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};a.prototype.Yja=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};a.prototype.Rwb=function(a,b){var c;c=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);b||0===(c&4278190080)||this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296*c+a;};a.prototype.Wi=function(a,b){a=this.Rwb(a,b);this.offset+=8;return a;};a.prototype.Swb=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);0===((0<a?a:-a)&4278190080)||this.console.warn("Warning: read signed value > 56 bits");return 4294967296*a+b;};a.prototype.mzb=function(){var a;a=this.Swb();this.offset+=8;return a;};a.prototype.ry=function(){return g.Mz(this.Db());};a.prototype.s0=function(){var b,c,d,f,g,k;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.Db(!0);c=this.Zg(!0);d=this.Zg(!0);f=this.Zg();g=this.Zg();k=this.Db();return[a(b,4),a(c,2),a(d,2),a(f,2),a(g,2)+a(k,4)].join("-");};a.prototype.gzb=function(){var a;a=this.view.byteOffset+this.offset;return this.view.buffer.slice(a,a+16);};a.prototype.fzb=function(a){var b;b=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var c=this.od();0!==c&&0<=--a;)b.push(c),c=this.od();return String.fromCharCode.apply(null,b);};a.prototype.p0=function(a){var b,d;void 0===b&&(b=1);void 0===d&&(d=!0);return this.te(this.config.oI&&c.Anb||c.eG,1,a,b,d);};a.prototype.ezb=function(a){var b,d,g;d=10;g=!1;void 0===d&&(d=2);void 0===g&&(g=!0);void 0===b&&(b=!1);return this.te(this.config.oI&&c.ynb||c.oY,2,a,d,g,b);};a.prototype.o0=function(a,b,d){var g;void 0===b&&(b=4);void 0===d&&(d=!0);void 0===g&&(g=!1);return this.te(this.config.oI&&c.znb||c.dG,4,a,b,d,g);};a.prototype.izb=function(){for(var a=this.od(),b=a&127;a&128;)a=this.od(),b=b<<7|a&127;return b;};a.prototype.te=function(a,b,c,d,f,g){void 0===f&&(f=!0);void 0===g&&(g=!1);a=a(this.view,this.offset,c,d,g);this.offset=f||!d||d===b?this.offset+c*(d||b):this.offset+b;return a;};return a;}();b.q2a=d;},function(d,b,a){var c,g,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(124);m=a(399);t=a(75);d=a(838);q=function(){function a(a){a?(this.Am=a.Am.slice(),this.op=a.op.slice(),this.Xg=a.Xg.slice(),this.trim=a.trim):(this.Am=[],this.op=[],this.Xg=[]);}Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.Am.length&&0===this.op.length&&0===this.Xg.length;},enumerable:!0,configurable:!0}});return a;}();d=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;b.YEa=[];b.jd=new q();return b;}c.__extends(b,a);b.z9a=function(a,b){if(b.offset+b.size<=a.byteLength)switch(b.size){case 1:a.setUint8(b.offset,b.value);break;case 2:b.QP?a.setInt16(b.offset,b.value):a.setUint16(b.offset,b.value);break;case 4:b.QP?a.setInt32(b.offset,b.value):a.setUint32(b.offset,b.value);break;case 8:g.assert(!b.QP);a.setUint32(b.offset,Math.floor(b.value/4294967296));a.setUint32(b.offset+4,b.value&4294967295);break;default:g.assert(!1);}};Object.defineProperties(b.prototype,{TW:{get:function(){return!this.jd.empty;},enumerable:!0,configurable:!0}});b.prototype.m2=function(a,b){this.jd.op.push({offset:void 0!==b?b:this.offset,value:a,size:1});void 0===b&&(this.offset+=1);};b.prototype.oIb=function(a){this.jd.op.push({offset:!1,value:a,size:2,QP:!1});};b.prototype.np=function(a,b){this.jd.op.push({offset:void 0!==b?b:this.offset,value:a,size:4,QP:!1});void 0===b&&(this.offset+=4);};b.prototype.pIb=function(a,b){this.jd.op.push({offset:void 0!==b?b:this.offset,value:a,size:8,QP:!1});void 0===b&&(this.offset+=8);};b.prototype.vUa=function(a){this.np(t.aya(a));};b.prototype.fna=function(a,b){this.jd.Xg.push({offset:this.offset,pn:a,value:b});this.offset+=4;};b.prototype.Ck=function(a,b,c){this.jd.Am.push({offset:b,remove:a,jb:c});};b.prototype.y0=function(a,b,c,d){this.jd.Am.push({offset:c,remove:a,replace:b,jb:d});};b.prototype.trim=function(a){this.jd.trim=a;};b.prototype.Tyb=function(){this.YEa.push(new q(this.jd));};b.prototype.Mxb=function(){this.jd=this.YEa.pop()||new q();};b.prototype.Qa=function(){var a,c,d,g,h,k,l;a=this;if(0===this.jd.Am.length&&0===this.jd.op.length&&0===this.jd.Xg.length)return[void 0===this.jd.trim?this.view.buffer:this.view.buffer.slice(0,this.jd.trim)];this.jd.Am.sort(function(a,b){return a.offset-b.offset;});this.jd.op.sort(function(a,b){return a.offset-b.offset;});this.TAb();c=this.Sib();d=this.view.buffer.slice(0,c);g=new DataView(d);this.jd.op.forEach(b.z9a.bind(void 0,g));this.xGb(g);this.wGb(g);h=[];k=void 0!==this.jd.trim?Math.min(this.jd.trim,this.view.byteLength):this.view.byteLength;l=0;this.jd.Am.filter(function(a){return a.offset<=k;}).forEach(function(b){b.offset>l&&(h.push(g.buffer.slice(l,b.offset)),b.offset>g.byteLength&&g!==a.view&&(g=a.view,h.push(g.buffer.slice(c,b.offset))));b.replace&&h.push(b.replace);l=b.offset+b.remove;});l<c&&h.push(d.slice(l));l<k&&h.push(this.view.buffer.slice(Math.max(d.byteLength,l),k));return h;};b.prototype.Sib=function(){var a,b,c;a=[];b=this.jd.op[this.jd.op.length-1];c=this.jd.Xg[this.jd.Xg.length-1];b&&a.push(b.offset+b.size);c&&a.push(c.offset+4);this.jd.Am.filter(function(a){return a.jb;}).forEach(function(b){return a.push(b.jb.byteOffset+4);});b=Math.max.apply(void 0,a);return void 0!==this.jd.trim?Math.min(b,this.jd.trim):b;};b.prototype.TAb=function(){this.jd.Am=this.jd.Am.reduce(function(a,b){var c,d;if(0===a.length)return a.push(b),a;c=a[a.length-1];d=c.offset+c.remove;b.offset>=d?a.push(b):b.offset+b.remove>d&&(g.assert(c.jb===b.jb),c.remove+=b.offset+b.remove-d,b.replace&&(c.replace=c.replace?m.concat(c.replace,b.replace):b.replace));return a;},[]);};b.prototype.xGb=function(a){var b;b=this;this.jd.Xg.forEach(function(c){var d,f,g,h;d=a;f=c.offset;b.jd.Am.some(function(a){return a.offset<=c.offset&&a.replace&&a.offset+a.replace.byteLength>=c.offset+4?(d=new DataView(a.replace),f=c.offset-a.offset,!0):!1;});g=c.pn+(void 0!==c.value?c.value:d.getInt32(f));h=b.jd.Am.reduce(function(a,b){return b.offset>c.pn&&b.offset<g?a+(b.remove-(b.replace?b.replace.byteLength:0)):a;},0);d.setInt32(f,g-c.pn-h);});};b.prototype.wGb=function(a){this.jd.Am.forEach(function(b){var c;c=(b.remove||0)-(b.replace?b.replace.byteLength:0);if(0!==c)for(b=b.jb;b;)a.setUint32(b.byteOffset,a.getUint32(b.byteOffset)-c),b=b.parent;});};return b;}(d.q2a);b.p2a=d;},function(d){d.R=function a(c,d){var g;c.__proto__&&c.__proto__!==Object.prototype&&a(c.__proto__,d);Object.getOwnPropertyNames(c).forEach(function(a){g=Object.getOwnPropertyDescriptor(c,a);void 0!==g&&Object.defineProperty(d,a,g);});};},function(d,b,a){var c,g,m,t,q,l,h,f,p,n,r,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(840);m=a(399);t=a(124);q=a(227);l=a(27);d=a(402);h=a(401);f=a(398);p=a(123);n=a(228);r=a(82);u=a(397);a=function(){function a(a,b,c,d,f,g){this.console=a;this.stream=b;this.uq=d;this.W8a=f;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);this.config=g||{};this.pob=p.Ykb();}a.path=function(a,b){return b.reduce(function(a,b){return a&&a.Pc[b]&&a.Pc[b][0];},a);};a.Vlb=function(a){return a&&a.Zaa&&-1!==a.Zaa.indexOf("mcl0")?"mcl0":void 0;};a.Yib=function(a,b){var c;t.assert("mcl0"===a,"Unsupported McClearen brand");c=b.$;a=c.Kd;b=new q.la(120,1).jg(c.T).Ib;for(var d=0,c=c.Ij;d<a.length&&c<b;)c+=a[d++];return d;};a.prototype.parse=function(a){var b;b=this.tBb();if(!b.done){if(b.sMa)return{jy:!1,X8a:b.sMa};this.console.error("Scan error: "+b.error);return{jy:!1,parseError:b.error||"unknown mp4 scan error"};}b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+b.offset);this.view=new DataView(b);a=this.swb(a);return a.done?this.ocb():(this.console.error("Parse error: "+a.error),{jy:!1,parseError:a.error||"unknown mp4 parse error"});};a.prototype.WA=function(a){return l.Uf.WA(this,a);};a.prototype.XA=function(a){return l.Uf.XA(this,a);};a.prototype.tBb=function(){var b,d;b=new u.MYa(this.uq,this.W8a?[r.rS,r.qS]:[],this.config&&this.config.vVb||["moof",r.mta],this.config&&this.config.VNa);d=c.__assign(c.__assign({},this.config),{aja:!1});return new f.M2(a.Lka,b,this.view,this.console,d).parse();};a.prototype.swb=function(a){var b,d,h;b=new u.vpa(this.view.byteLength);d=Object.create(n.SG.Pc);this.config&&((this.config.TNa||this.config.gTa||this.config.n1)&&g(n.SG.Jka,d),this.config.Dma&&g(n.SG.VFb,d),this.config.gTa&&g(n.SG.hTa,d));h=c.__assign(c.__assign({},this.config),{aja:!0});this.gg=new f.M2(d,b,this.view,this.console,h);a=this.gg.parse(a);a.done&&(this.Pc=this.gg.Pc);return a;};a.prototype.ocb=function(){var b,c,d,f,g,h;b={jy:!0};c=a.path(this,["moov"]);d=a.path(c,["trak","mdia","minf","stbl","stsd"]);if(this.config.TNa)if(d)b.Ra=d.Ra,b.QUb=d.Pc;else return{jy:!1,parseError:"Missing sample descriptions"};f=a.path(d,["encv","sinf","schi"]);f&&(f=a.path(f,["tenc"])||a.path(f,[r.Lta]))&&(b.aX={XQb:f.Rr,lKa:f.lKa,WSb:!1});if(f=a.path(c,["trak","mdia","mdhd"]))b.T=f.T;if(f=a.path(c,["mvex","trex"]))b.pF=f&&f.Ad.pF;b.pF&&b.T&&(b.Ra=new q.la(b.pF,b.T));if(f=a.path(this,["sidx"])){g=a.path(this,[r.rS]);g=g&&g.ntb;h=a.path(this,[r.qS]);h=h&&h.ki;b.$=f.$;b.QG=g;b.ki=h;}if(g=this.Pc.vmaf&&this.Pc.vmaf[0])b.Oy=g.Oy;if(this.config.dBb)if(c)this.trim(c.byteOffset+c.byteLength),this.config.n1&&d&&1<d.wn&&f&&(b.ni=this.n1(d,f)),void 0===b.ni&&(c=this.gg.TW?m.concat(this.gg.Qa()):this.view.buffer,b.ni=[{aB:0,data:c}]);else return{jy:!1,parseError:"Missing movie box"};b.jy=!0;b.R_=this.gg.offset;return b;};a.prototype.trim=function(a){var b;b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+Math.min(a,this.view.byteLength));this.gg.trim(a);this.view=new DataView(b);};a.prototype.n1=function(b,c){var d,f,g;d=Object.keys(b.Pc);f=d.filter(function(a){return"encv"!==a;});if(!(2>d.length||f.length===d.length||0===f.length)){d=a.path(this,["ftyp"]);g=a.Vlb(d);if(g)return d=[],this.gg.Tyb(),b.JPa("encv"),d.push({aB:0,sj:!1,data:m.concat(this.gg.Qa())}),this.gg.Mxb(),b.JPa(f[0]),b=a.Yib(g,c),d.push({aB:b,sj:!0,data:m.concat(this.gg.Qa())}),d;}};a.Lka={};return a;}();b.cw=a;a.Lka[r.B5]=d["default"];a.Lka[r.C5]=h["default"];},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a,b,c,d,f;this.Sf();a=this.rs([{yma:"int32"},{sEa:"int32"},{zW:"int32"},{BW:"int32"},{AW:"int32"}]);b=a.yma;c=a.sEa;d=a.zW;f=a.AW;a=a.BW;this.Ad={ab:b,Ofb:c,pF:d,oEa:f,pEa:a};this.yma=b;this.sEa=c;this.zW=d;this.BW=a;this.AW=f;return!0;};b.Me="trex";b.jc=!1;return b;}(a(27).Uf);b["default"]=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(82);a=a(27);g=d.A5;a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Sf();this.Ad=this.rs([{F_:"int32"},{nM:"int16"}]);return!0;};b.Me=g;b.jc=!1;return b;}(a.Uf);b["default"]=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(225);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Sf();this.aYa=g.Xpa.hPa(this.L);return!0;};b.Me="esds";b.jc=!1;return b;}(a(27).Uf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.NF=function(){var a;a=this.XA("esds");if(a=a&&a.aYa.XA(5))this.EX=a.EX;return!0;};b.Me="mp4a";b.jc=!0;return b;}(a(165)["default"]);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.L.od();this.fVa=this.L.od();this.L.od();this.L.od();this.L.od();this.NRa=this.A9(this.L.od()&31);this.A9(this.L.od());this.k0=this.NRa.length?this.NRa[0][0]:this.fVa;this.Mza=this.L.offset;this.startOffset+this.length<this.L.offset&&(100===this.k0||110===this.k0||122===this.k0||144===this.k0)&&(this.L.od(),this.L.od(),this.A9(this.L.od()));a=this.startOffset+this.length-this.Mza;0<a&&this.Ck(a,this.Mza);return!0;};b.prototype.A9=function(a){var d;for(var b=[],c=0;c<a;++c){d=this.L.Zg();b.push(this.L.p0(d));}return b;};b.Me="avcC";b.jc=!1;return b;}(a(27).Uf);b["default"]=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(27);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Sf();this.yQa=this.L.ry();g.cb&&this.L.console.trace("SchemeTypeBoxTranslator: "+this.yQa);"cenc"===this.yQa&&(this.L.offset-=4,g.cb&&this.L.console.trace("SchemeTypeBoxTranslator: writing type piff at offset "+this.L.offset),this.$a.vUa("piff"));this.L.Db();return!0;};b.Me="schm";b.jc=!1;return b;}(g.Uf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var b;this.pvb=this.L.Zg()&7;this.HEb=[];for(var a=0;a<this.pvb;a++){b={Mjb:this.L.Rf(2),dab:this.L.Rf(5),eab:this.L.Rf(5),h8a:this.L.Rf(3),$Sb:this.L.Rf(1),ovb:this.L.Rf(4)};0<b.ovb?b.LQb=this.L.Rf(9):this.L.Rf(1);this.HEb.push(b);}return!0;};b.Me="dec3";return b;}(a(27).Uf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Mjb=this.L.Rf(2);this.dab=this.L.Rf(5);this.eab=this.L.Rf(3);this.h8a=this.L.Rf(3);this.L.Rf(1);this.L.Rf(5);this.L.Rf(5);return!0;};b.Me="dac3";return b;}(a(27).Uf);b["default"]=d;},function(d,b,a){var c,g,m,t,q;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(82);m=a(227);t=a(165);d=a(27);q=a(81);a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Sf();this.wn=this.L.Db();return!0;};b.prototype.NF=function(a){var b;b=Object.keys(this.Pc);b.length&&(b=b[0],this.Pc[b].length&&(b=this.Pc[b][0],b instanceof t["default"]?this.Ra=new m.la(b.EX,b.uQa):b instanceof q["default"]&&(b=b.Pc[g.A5])&&b.length&&(b=b[0].Ad,1E3!==b.nM&&1001!==b.nM||0!==b.F_%1E3?this.L.console.warn("Unexpected frame rate in NetflixFrameRateBox: "+b.F_+"/"+b.nM):this.Ra=new m.la(b.nM,b.F_)),this.Ra&&(a.Ra=this.Ra)));return!0;};b.prototype.JPa=function(a){void 0!==this.Pc[a]&&0!==this.Pc[a].length&&(this.$a.np(this.wn-1,this.byteOffset+12),a=this.Pc[a][0],this.Ck(a.byteLength,a.byteOffset));};b.Me="stsd";b.jc=!0;return b;}(d.Uf);b["default"]=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(75);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Sf();this.Ad=this.rs([{sUb:"int32"},{BIa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Ad.BIa=g.Mz(this.Ad.BIa);return!0;};b.Me="hdlr";b.jc=!1;return b;}(a(27).Uf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.L.ry();this.L.ry();for(this.Zaa=[];this.L.offset<=this.byteOffset+this.byteLength-4;)this.Zaa.push(this.L.ry());return!0;};b.Me="ftyp";b.jc=!1;return b;}(a(27).Uf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Ad=this.rs([{yQb:"int32"},{Po:"int32"},{w$a:"int32"}]);return!0;};b.Me="btrt";b.jc=!1;return b;}(a(27).Uf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Ad=this.rs([{ESb:"int32"},{VVb:"int32"}]);return!0;};b.Me="pasp";b.jc=!1;return b;}(a(27).Uf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Sf();this.Ad=this.rs(1===this.version?[{oGa:"int64"}]:[{oGa:"int32"}]);return!0;};b.Me="mehd";b.jc=!1;return b;}(a(27).Uf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.Sf();a=1===this.version?[{Fh:"int64"},{modificationTime:"int64"},{ab:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{Fh:"int32"},{modificationTime:"int32"},{ab:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{orb:"int16"},{l9a:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Ad=this.rs(a);this.Ad.CVb=!!(this.df&1);this.Ad.DVb=!!(this.df&2);this.Ad.EVb=!!(this.df&4);this.Ad.FVb=!!(this.df&8);this.L.console.trace("Finished parsing track box");return!0;};b.Me="tkhd";b.jc=!1;return b;}(a(27).Uf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.Me="trak";b.jc=!0;return b;}(a(27).Uf);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this;}c.__extends(b,a);b.prototype.parse=function(){this.Sf();this.Ad=1===this.version?this.rs([{Fh:"int64"},{modificationTime:"int64"},{T:"int32"},{duration:"int64"}]):this.rs([{Fh:"int32"},{modificationTime:"int32"},{T:"int32"},{duration:"int32"}]);return!0;};b.Me="mvhd";b.jc=!1;return b;}(a(27).Uf);b["default"]=d;},function(d,b,a){var c,g,m,t,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.swa=b.R1a=void 0;c=a(0);g=a(93);m=a(6);d=a(4);t=a(395);a=a(406);q=new d.Console("FRAGMENTS","media|asejs");try{l=!0;}catch(f){l=!1;}h=function(a){function b(b,c){c=a.call(this,b.Fm,c)||this;c.dA=b;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{ba:{get:function(){return this.dA.JDb(this.gj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{offset:{get:function(){return this.dA.Xg(this.gj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{lia:{get:function(){return this.dA.QG&&this.dA.QG[this.gj];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ki:{get:function(){return this.dA.$jb(this.gj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vc:{get:function(){return this.dA.Oy&&this.dA.Oy[this.gj];},enumerable:!1,configurable:!0}});b.prototype.toJSON=function(){return{index:this.index,contentStartTicks:this.Wa,contentEndTicks:this.qb,durationTicks:this.Ao,timescale:this.T,startPts:this.S,endPts:this.ja,duration:this.duration,additionalSAPs:this.ki};};return b;}(a.Xwa);b.R1a=h;d=function(){function a(a,b,c,d,f,g){this.oE=128;this.ec=a;this.Qd=b.offset;this.en=b.sizes;this.PD=this.ZJ=this.Og=this.pAa=this.P9=void 0;this.n5a=c;this.U7=d&&d.Xg;this.CAa=f;this.Fw=Math.min(this.ec.length,this.en.length);this.a5a=this.Dab();this.Fm.co.length!==this.en.length&&q.error("Mis-matched stream duration ("+this.Fm.co.length+","+this.en.length+") for movie id "+g);this.Fm.tV&&!this.U7&&q.error("Mis-matched additional SAPs information for movie id "+g);}a.YQb=function(a,b){var c,d;b=b.T;c=b/1E3;d=new DataView(a);a=Math.floor(a.byteLength/16);return{T:b,Ij:d.getUint32(4)*c,offset:65536*d.getUint32(8)+d.getUint16(12),sizes:g.DXa.dG(d,0,a,16),Kd:g.z7.from(Uint32Array,{length:a},function(a,b){return d.getUint16(16*b+14)*c;})};};Object.defineProperties(a.prototype,{M:{get:function(){return this.ec.M;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.Fw;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ij:{get:function(){return this.ec.Ij;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Lca:{get:function(){return this.ec.Lca;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.ec.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ja:{get:function(){return this.ec.ja;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Kha:{get:function(){return this.ec.Kha;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{XZ:{get:function(){return this.a5a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.ec.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.ec.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Uh:{get:function(){return this.pAa||this.g8();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{QG:{get:function(){return this.n5a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{XAa:{get:function(){return this.U7;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Oy:{get:function(){return this.CAa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Fm:{get:function(){return this.ec;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{PH:{get:function(){return this.P9||this.y3a();},enumerable:!1,configurable:!0}});a.prototype.JDb=function(a){if(this.en)return this.en[a];q.error("sizesByIndex _sizes is undefined");return-1;};a.prototype.Rh=function(a){return this.ec.Rh(a);};a.prototype.Mca=function(a){return this.ec.Rh(a)+this.ec.Kd(a);};a.prototype.Xg=function(a){if(this.ZJ!==a||void 0===this.PD){if(0===a)return this.Qd;if(this.ZJ===a-1&&void 0!==this.PD)this.PD+=this.en[this.ZJ],++this.ZJ;else{for(var b=this.Og||this.e3a(),c=Math.floor(a/this.oE),d=c*this.oE,b=b[c];d<a;++d)b+=this.en[d];this.ZJ=a;this.PD=b;}}return this.PD;};a.prototype.Kd=function(a){return this.ec.Kd(a);};a.prototype.get=function(a){return new h(this,a);};a.prototype.$jb=function(a){var b,c,d;m.assert(0<=a);b=this.Fm.tV;c=this.Fm.YAa;d=this.U7;if(!d||!b||!c||a>=b.length)return[];for(var f=[],g=a===b.length-1?c.length:b[a+1],b=b[a];b<g;++b)f.push({ym:c[b],Rc:this.Rh(a)+this.Ra.q_(c[b]).xa,offset:d[b]});return f;};a.prototype.eDb=function(a){this.CAa=a;};a.prototype.Yl=function(a,b,c){return this.ec.Yl(a,b,c);};a.prototype.pX=function(a,b,c){return this.ec.pX(a,b,c);};a.prototype.qba=function(a,b){return this.ec.qba(a,b);};a.prototype.sZ=function(a,b,c){var d,f,g,h,k,l,m,p,q;d=!0;f=0;h=this.ec.co;k=this.en;l=Math.floor(a*this.T/1E3);m=0;p=0;q=0;if(this.ec.Mma&&this.ec.Lma)for(f=this.ec.Mma;f<=this.ec.Lma;++f)m+=h[f],p+=k[f];if(p>b)d=!1;else for(;f<this.length&&(!c||f<c);){g=k[f];a=h[f];if(p+g>b&&m<l){d=!1;this.ec.Mma=q;this.ec.Lma=f;break;}for(;0<f-q&&p+g>b;)m-=h[q],p-=k[q],++q;m+=a;p+=g;++f;}return d;};a.prototype.subarray=function(b,c){m.assert(void 0===b||0<=b&&b<this.length);m.assert(void 0===c||c>b&&c<=this.length);return new a(this.ec.subarray(b,c),{offset:this.Xg(b),sizes:this.en.subarray(b,c)},this.QG&&this.QG.subarray(b,c),this.XAa&&{Xg:this.XAa});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length};};a.prototype.dump=function(){var b;q.trace("StreamFragments: "+this.length);for(var a=0;a<this.length;++a){b=this.get(a);q.trace("StreamFragments: "+a+": ["+b.S+"-"+b.ja+"] @ "+b.offset+", "+b.ba+" bytes");}};a.prototype.Dab=function(){var a,b,c,d,f;b=0;c=this.ec.tLa;d=this.ec.co;f=this.en;if(void 0===c||c>=this.length){for(var g=0;g<this.length;++g)a=f[g]/d[g],a>b&&(b=a,c=g);void 0===this.ec.tLa&&(this.ec.tLa=c);}else b=f[c]/d[c];return Math.floor(b*this.T/125);};a.prototype.g8=function(){for(var a=0,b=0;b<this.length;++b)a+=this.en[b];return this.pAa=a;};a.prototype.y3a=function(){return this.P9=new t.d7(this.ec.co,this.en,this.ec.T);};a.prototype.e3a=function(){var a;if(!this.Og){a=l?new Float64Array(Math.ceil(this.length/this.oE)):Array(Math.ceil(this.length/this.oE));for(var b=this.Qd,c=0;c<a.length;++c){a[c]=b;for(var d=0;d<this.oE;++d)b+=this.en[c*this.oE+d];}this.Og=a;}return this.Og;};return a;}();b.swa=d;d.prototype.TRa=a.VN(d.prototype.Rh);},function(d,b,a){var g,m,t,q,l,h,f,p;function c(a,b){var c,d;c=Math.floor(1E3*a/b);d=1E3*Math.round(c/1E3);return new l.la(d,Math.abs(Math.floor(1001*a/b)-d)>Math.abs(c-d)?1E3:1001);}Object.defineProperty(b,"__esModule",{value:!0});b.Sna=void 0;g=a(0);m=a(58);t=a(7);q=a(406);l=a(34);a(6);h=a(20);f=a(13);p=a(405);d=function(){function a(b,d,g){this.K=d;this.H=g;this.zw=new f.hwa();this.Mya=!1;this.a9=b.yB;this.Wc=b.P;this.Le=b.M;this.E7a=b.K1;this.A2a=b.kA;1===this.Le&&(d=this.a9.streams[0],void 0!==d.framerate_value&&void 0!==d.framerate_scale&&(this.Z8=c(d.framerate_value,d.framerate_scale).xPa()));this.Ml=(this.$D=this.Z8)&&this.$D.T;this.L8=this.qya=!1;this.Dfa=-Infinity;this.WKa=Infinity;b=a.A3a(this,b.xf,b.Gp);d=b.Po;g=b.Ac;this.z4a=b.DY;this.$4a=d;this.Ct=g;this.u7a=g.reduce(function(a,b){a[b.sa]=b;return a;},{});!1;}a.A3a=function(a,b,c){var d,f,k,l,q,n;d=a.K;f=1===a.M;k={};d.XP&&d.XP.enabled&&d.XP.profiles&&d.XP.profiles.forEach(function(a){k[a]={action:d.XP.action,applied:!1};});l=!1;q=0;n=[];a.yB.streams.forEach(function(r,u){var y,H,G,K,E;H=r.bitrate;G=r.vmaf;K=r.content_profile;E={inRange:!0,Cn:!0};if(f){y=-1===r.content_profile.indexOf("none");E.Cn=b&&!y||!b&&y;E.Cn&&c&&m(h.kL(r.content_profile,r.bitrate,c,a.H),E);if(H<d.Xtb||H>d.Ysb)E.inRange=!1;!t.Na(G)&&(G<d.TLa||G>d.Zsb)&&(E.inRange=!1);k.hasOwnProperty(K)&&"keepLowest"===k[K].action&&(k[K].applied?E.inRange=!1:k[K].applied=!0);l=l||y;}E.inRange&&E.Cn&&H>q&&(q=H);r=new p.Rna(g.__assign({Zx:r,Eg:u,track:a},E),d,a.H);n.push(r);});return{DY:l,Po:q,Ac:n};};Object.defineProperties(a.prototype,{Cub:{get:function(){return!this.Bd&&!this.Mya;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Bd:{get:function(){return!!this.Fm&&!!this.zw.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{uca:{get:function(){return this.qya;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{P:{get:function(){return this.Wc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{G:{get:function(){return String(this.Wc.G);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ab:{get:function(){return this.a9.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Le;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.$D;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T:{get:function(){return this.Ml;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{RG:{get:function(){return this.p5a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Fm:{get:function(){return this.ec;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rJa:{get:function(){return this.zw.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yB:{get:function(){return this.a9;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{K1:{get:function(){return this.E7a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{kA:{get:function(){return this.A2a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{DY:{get:function(){return this.z4a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Po:{get:function(){return this.$4a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ac:{get:function(){return this.Ct;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Lda:{get:function(){return this.Ra.T;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Kda:{get:function(){return this.Ra.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vda:{get:function(){return this.zw;},enumerable:!1,configurable:!0}});a.prototype.Lr=function(a){return this.cG()[a];};a.prototype.cG=function(){return this.u7a;};a.prototype.equals=function(a){return this.G===a.G&&this.M===a.M&&this.ab===a.ab;};a.prototype.Pia=function(){this.Mya=!0;};a.prototype.G_=function(a,b,c,d,f){if(d&&void 0!==d.Ij&&(this.Bd||void 0!==d.Kd&&d.Kd.length))if(a.Hu&&(this.qya=!0),this.Bd)!this.L8&&d.Kd&&d.Kd.length>this.Fm.length&&(this.ec=new q.s7(this.M,this.Ra,d,f),this.zw.cQa(),this.Dfa=-Infinity,this.L8=!0);else{this.fAa(b);if(c=c||this.Z8)this.eAa(c||this.Z8),void 0===this.T&&this.gAa(c.T);this.ec=new q.s7(this.M,this.Ra,d,f);a.Hu&&(this.L8=!0);}else this.H&&this.H.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.Nvb=function(a){void 0===this.zw.value&&this.zw.set(a);};a.prototype.zcb=function(a){this.Bd||(this.gAa(a.T),this.fAa(a.RG),this.eAa(a.Ra),this.ec=a.Fm,a.vda.value?this.zw.set(a.vda.value):this.zw.cQa());};a.prototype.toJSON=function(){return{movieId:this.G,mediaType:this.M,trackId:this.ab};};a.prototype.toString=function(){return(0===this.M?"a":"v")+":"+this.ab;};a.prototype.gAa=function(a){this.Ml=a;};a.prototype.fAa=function(a){this.p5a=a;};a.prototype.eAa=function(a){this.$D=a;};return a;}();b.Sna=d;},function(d){function b(a,b){this.Ca=a;this.wh=b;}b.prototype.wja=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,d=Math.sqrt(-2*Math.log(b/2)),d=-.70711*((2.30753+.27061*d)/(1+d*(.99229+.04481*d))-d),g=0;2>g;g++)var t=Math.abs(d),q=1/(1+t/2),t=q*Math.exp(-t*t-1.26551223+q*(1.00002368+q*(.37409196+q*(.09678418+q*(-.18628806+q*(.27886807+q*(-1.13520398+q*(1.48851587+q*(-.82215223+.17087277*q))))))))),t=(0<=d?t:2-t)-b,d=d+t/(1.1283791670955126*Math.exp(-(d*d))-d*t);a=1>a?d:-d;}return this.Ca-Math.sqrt(2*this.wh)*a;};d.R=b;},function(d,b,a){var g;function c(a){this.EH=new Uint16Array(a.length);for(var b=0;b<a.length;++b)this.EH[b]=a.charCodeAt(b);}g=new(a(4)).Console("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(a){var b,c;b=this.EH.length;if(void 0===this.EH)g.warn("XORCiper.encrypt is called with undefined secret!");else{c="";for(var d=0;d<a.length;++d)c+=String.fromCharCode(this.EH[d%b]^a.charCodeAt(d));return encodeURIComponent(c);}};c.prototype.decrypt=function(a){var b,c;b="";c=this.EH.length;a=decodeURIComponent(a);for(var d=0;d<a.length;d++)b+=String.fromCharCode(this.EH[d%c]^a.charCodeAt(d));return b;};d.R=c;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.iwa=b.hwa=void 0;c=a(59);d=function(){function a(a){this.o=a;this.listeners=[];this.CO=[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});a.prototype.set=function(a){var b;this.o=a;b=this.CO;this.CO=[];this.listeners.forEach(function(b){return b(a);});b.forEach(function(b){return b(a);});};a.prototype.cQa=function(){this.o=void 0;};a.prototype.on=function(a){this.listeners=this.listeners.concat([a]);void 0!==this.o&&a(this.o);};a.prototype.once=function(a){void 0!==this.o?a(this.o):this.CO.push(a);};a.prototype.$G=function(a){this.listeners=this.listeners.filter(function(b){return b!==a;});this.CO=this.CO.filter(function(b){return b!==a;});};return a;}();b.hwa=d;d=function(){function a(){this.listeners=[];}a.prototype.on=function(a,b){this.listeners.push({k1:a,listener:b});a.on(b);};a.prototype.once=function(a,b){var c,d;c=this;if(void 0===a.value){d=function(d){c.remove(a,b);b(d);};this.listeners.push({k1:a,listener:b,uUa:d});a.once(d);}else a.once(b);};a.prototype.$G=function(a,b){var d,g;g=c.ln(this.listeners,function(c){return c.k1===a&&c.listener===b;});void 0!==g&&a.$G(null!==(d=g.uUa)&&void 0!==d?d:g.listener);this.remove(a,b);};a.prototype.removeAllListeners=function(){this.listeners.forEach(function(a){var b,c;b=a.listener;c=a.uUa;return a.k1.$G(null!==c&&void 0!==c?c:b);});this.listeners=[];};a.prototype.remove=function(a,b){this.listeners=this.listeners.filter(function(c){return c.k1!==a||c.listener!==b;});};return a;}();b.iwa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.nda=void 0;b.nda=function(a,b){return a.filter(function(a){var c,d;a=null!==(d=null!==(c=a.ks)&&void 0!==c?c:a.wBa)&&void 0!==d?d:a.ip;return!!a&&a.Tx(b);}).pop();};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.lta=void 0;c=a(59);g=a(6);d=function(){function a(){this.data={};}Object.defineProperties(a.prototype,{empty:{get:function(){return 0===Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{size:{get:function(){var a;a=this;return Object.keys(this.data).reduce(function(b,c){return b+a.data[c].length;},0);},enumerable:!1,configurable:!0}});a.prototype.get=function(a){var b;return null!==(b=this.data[a])&&void 0!==b?b:[];};a.prototype.has=function(a,b){return(a=this.data[a])?void 0===b?!0:-1!==a.indexOf(b):!1;};a.prototype.count=function(a){return(a=this.data[a])?a.length:0;};a.prototype.keys=function(){return Object.keys(this.data);};a.prototype.values=function(){var a;a=this;return c.Gr(this.keys().map(function(b){return a.data[b];}));};a.prototype.set=function(a,b){(this.data[a]||(this.data[a]=[])).push(b);return this;};a.prototype.clear=function(){this.data={};};a.prototype["delete"]=function(a,b){var c,d;c=this.data[a];if(void 0===c)return!1;if(void 0===b)return g.assert(1===arguments.length),delete this.data[a],!0;d=c.indexOf(b);if(-1===d)return!1;1===c.length?delete this.data[a]:c.splice(d,1);return!0;};a.prototype.forEach=function(a,b){var c;c=this;a=void 0!==b?a.bind(b):a;this.keys().forEach(function(b){return c.data[b].forEach(function(d){return a(d,b,c);});});};a.prototype.reduce=function(a,b,c){var d,f;d=this;a=void 0!==c?a.bind(c):a;f=b;this.forEach(function(b,c){f=a(f,b,c,d);});return f;};a.prototype.map=function(a,b){var d;d=this;a=void 0!==b?a.bind(b):a;return c.Gr(this.keys().map(function(b){return d.data[b].map(function(c){return a(c,b,d);});}));};a.prototype.filter=function(a,b){var d;d=this;a=void 0!==b?a.bind(b):a;return c.Gr(this.keys().map(function(b){return d.data[b].filter(function(c){return a(c,b,d);});}));};return a;}();b.lta=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.sJ=b.j1a=void 0;c=a(0);d=function(){function a(a,b){this.o=a;this.yu=b?[b]:[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});a.prototype.addListener=function(a){-1===this.yu.indexOf(a)&&(this.yu=this.yu.slice(),this.yu.push(a));};a.prototype.removeListener=function(a){a=this.yu.indexOf(a);-1!==a&&(this.yu=this.yu.slice(),this.yu.splice(a,1));};return a;}();b.j1a=d;d=function(a){function b(b,c){return a.call(this,b,c)||this;}c.__extends(b,a);Object.defineProperties(b.prototype,{value:{get:function(){return this.o;},set:function(a){this.set(a);},enumerable:!1,configurable:!0}});b.prototype.set=function(a){var b,c;b=this.o;c=this.yu;this.o=a;c.forEach(function(c){return c({oldValue:b,newValue:a});});};return b;}(d);b.sJ=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.fwa=void 0;c=a(13);d=a(4);g=d.Rj;new d.Console("ASEJS_SIDECHANNEL","media|asejs");d=function(){function a(a,b,d){this.om=d;this.a8a=new c.Bxa(a);this.$7a=b.ga;this.Y2a=1E3*b.mtb/b.fab;this.M3a=b.qx;this.Kz=b.Taa;}a.prototype.sn=function(a){var b,d,g,f;b={s_xid:this.$7a,dl:this.M3a?1:0};a.CL&&(b.bs=c.XV(Math.floor(a.CL/this.Y2a)+1,1,5));a.y_&&(b.limit_rate=a.y_);a.bCa&&(b.bb_reason=a.bCa);a.QSa&&(b.tm=a.QSa);if(a.iW){d=0;g=0;f=0;a.CL&&a.CL>this.Kz.nO&&(this.Kz.aP[0]&&(d=this.Kz.aP[0]*a.iW),this.Kz.aP[1]&&(g=this.Kz.aP[1]*a.iW),this.Kz.aP[2]&&(f=this.Kz.aP[2]*a.iW));b.cpr_ss=d;b.cpr_ca=g;b.cpr_rec=f;}return this.V5a(b);};a.prototype.cla=function(a,b){var c,d;try{c=new g(void 0,"notification");d=this.sn({bCa:a});b&&d&&c.open(b,void 0,2,void 0,void 0,void 0,d);}catch(f){this.om("SideChannel: Error when sending sendBlackBoxNotification. Error: "+f);}};a.prototype.V5a=function(a){var b;try{b=this.g7a(a);return this.a8a.encrypt(b);}catch(l){this.om("SideChannel: Error when obfuscating msg. Error: "+l);}};a.prototype.g7a=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;}();b.fwa=d;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,K,E;Object.defineProperty(b,"__esModule",{value:!0});b.wna=void 0;c=a(0);g=a(24);m=a(408);n=a(229);q=a(816);l=a(216);h=a(814);f=a(809);p=a(767);r=a(154);u=a(369);K=a(59);E=a(6);d=function(){function a(a){this.H=a;this.events=new g.EventEmitter();this.jo=m.Kv.CLOSED;this.FE=[];this.AU=[];this.Jw=[];this.s4a=new q.Iqa(a);}Object.defineProperties(a.prototype,{state:{get:function(){return this.jo;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{WHb:{get:function(){return this.FE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Exb:{get:function(){return this.AU;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ixb:{get:function(){return this.Jw;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tb:{get:function(){this.CC();return this.eu.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mm:{get:function(){this.CC();return this.eu.mm;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{zf:{get:function(){this.CC();return this.eu.zf;},enumerable:!1,configurable:!0}});a.prototype.open=function(a,b){if(this.jo===m.Kv.OPEN)return!1;this.uE=new p.Fva(this.Ega.bind(this),a);this.eu=l.UC.NHa(a,b);this.jo=m.Kv.OPEN;return!0;};a.prototype.O8a=function(a,b){this.CC();a=new f.Pna(this.H,a,100,b,this.Wp.bind(this),this.uE.LL.bind(this.uE));this.Jw.push(a);return a;};a.prototype.lAb=function(a){this.Jw=this.Jw.filter(function(b){return b!==a;});a.close();};a.prototype.M8a=function(a){this.CC();a=new h.Ona(a,[0,1]);this.AU.push(a);return a;};a.prototype.kAb=function(a){this.CC();this.AU=this.AU.filter(function(b){return b!==a;});a.vn();};a.prototype.V8a=function(a,b,d,f){var l,m,p;function g(a){return p[a];}function h(){}function k(a){l.events.emit("logdata",a);}l=this;this.CC();m=r.rp.eg.EA("headers",""+a,!1,!1,{},f);m.Kb();p=[new u.t5(0),new u.t5(1)];a={oa:a,va:b,config:f,PP:f.QA?c.__assign(c.__assign({},d.PP),{om:h,Vp:g}):void 0,hb:function(){return!0;},Ii:d.Ii,NM:void 0,tb:this.eu.tb,zf:this.eu.zf,Tca:{qG:function(){return!0;},Nr:h,Cg:this.Cg.bind(this,a),Ko:this.Ko.bind(this,a),vm:this.vm.bind(this,a),ol:k},wfa:{ol:k,hY:function(){return m;},Vp:g,gZ:function(){return!0;},Oe:void 0,Lc:void 0,Pf:void 0,Nx:void 0},gC:{LE:this.uE.LE.bind(this.uE),w0:this.uE.w0.bind(this.uE)},Va:0,yk:void 0,Sha:{jZ:!1,tga:!1},Gp:[],WG:h};a=new n.WQ(a);this.FE.push(a);};a.prototype.Wp=function(a){var b;b=K.ln(this.FE,function(b){return b.oa===a;});if(b)return b;};a.prototype.close=function(){this.jo!==m.Kv.CLOSED&&(this.aAb(),delete this.eu,this.jo=m.Kv.CLOSED);};a.prototype.MPa=function(a){E.assert(!a.gka.Sw,"Viewable has outstanding leases");this.FE=this.FE.filter(function(b){return b!==a;});a.close();a.yc();};a.prototype.Ega=function(){var a;a=this.$ea();return this.s4a.Vvb(a);};a.prototype.$ea=function(){var a;a=this.Jw.map(function(a){return a.$ea();});return K.Gr(a);};a.prototype.CC=function(){if(this.jo===m.Kv.CLOSED)throw Error("Engine CLOSED");};a.prototype.aAb=function(){for(var a=0,b=this.FE;a<b.length;a++)this.MPa(b[a]);};a.prototype.Cg=function(a,b,c,d,f,g){this.Jw.forEach(function(h){return h.Cg(b,a,c,d,f,g);});};a.prototype.Ko=function(){return this.Jw.some(function(a){return a.Ko();});};a.prototype.vm=function(){this.Jw.forEach(function(a){return a.vm();});};return a;}();b.wna=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.construct=void 0;c=a(868);g=a(4);b.construct=function(){var a;a=new g.Console("ASEJS","media|asejs");return new c.wna(a);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(869);Object.defineProperty(b,"construct",{enumerable:!0,get:function(){return c.construct;}});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(870),b);d.__exportStar(a(408),b);d.__exportStar(a(766),b);d.__exportStar(a(212),b);d.__exportStar(a(765),b);d.__exportStar(a(764),b);d.__exportStar(a(763),b);d.__exportStar(a(762),b);d.__exportStar(a(761),b);},function(d,b,a){var c,g,m,n,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.c7=void 0;c=a(0);d=a(24);g=a(4);m=a(871);n=a(13);q=a(6);l=a(760);h=a(752);f=new g.Console("ASEJS","media|asejs");f.trace.bind(f);d=function(b){var F52;F52=2;while(F52!==20){var Z62="s";Z62+="0";switch(F52){case 2:c.__extends(d,b);Object.defineProperties(d.prototype,{tb:{get:function(){var y52;y52=2;while(y52!==1){switch(y52){case 4:return this.Zf.tb;break;y52=1;break;case 2:return this.Zf.tb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mm:{get:function(){var n52;n52=2;while(n52!==1){switch(n52){case 2:return this.Zf.mm;break;case 4:return this.Zf.mm;break;n52=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zf:{get:function(){var G62;G62=2;while(G62!==1){switch(G62){case 2:return this.Zf.zf;break;case 4:return this.Zf.zf;break;G62=1;break;}}},enumerable:!1,configurable:!0}});F52=3;break;case 3:d.prototype.Kb=function(){var c62;c62=2;while(c62!==1){switch(c62){case 2:this.Zf.open(this.config,this.Bv);c62=1;break;}}};d.prototype.LP=function(){};d.prototype.X_=function(){};F52=7;break;case 7:d.prototype.tn=function(a,b,c,f,g,h,k,m,p,q){var H62,t;H62=2;while(H62!==14){var P62="cre";P62+="ati";P62+="ng session";switch(H62){case 6:return this.HZ=new l.ewa(this.console,this,a,t,b,c,f,g,h,k,q,m,p);break;case 2:this.console.trace(P62);this.Zf.tb.reset();p=a.movieId;q=q||d.Pfb;H62=9;break;case 9:t=this.Peb(a,m,g,q,f);c={La:q,offset:n.la.Of(c)};p=this.Zf.Wp(p).gka.add();H62=6;break;}}};d.prototype.Peb=function(a,b,c,d,f){var r62,g;r62=2;while(r62!==9){switch(r62){case 2:g=Number(a.movieId);this.Zf.Wp(g)||this.Zf.V8a(g,a,{Ii:!!f.Ii,PP:{OB:c.OB,ga:c.ga,qx:c.qx}},b);a=a.choiceMap?h.QCa(a.choiceMap):h.FRa(g,d);return this.Zf.O8a(a,b);break;}}};d.prototype.Bbb=function(){var D62;D62=2;while(D62!==1){switch(D62){case 4:this.tb.JP(1);D62=4;break;D62=1;break;case 2:this.tb.JP(null);D62=1;break;}}};d.prototype.nAb=function(a){var R62,b;R62=2;while(R62!==6){switch(R62){case 8:b.gka.Sw||this.Zf.MPa(b);a===this.HZ&&delete this.HZ;R62=6;break;case 4:this.Zf.kAb(a.ak);b=this.Zf.Wp(a.G);q.assert(b);R62=8;break;case 2:this.Bbb();this.Zf.lAb(a.Tb);R62=4;break;}}};d.prototype.vn=function(){var z62;z62=2;while(z62!==9){var N62="Attempt to destruct Shi";N62+="mManager with ";N62+="latest sessi";N62+="on";N62+=" still defined";var t62="Attempted ";t62+="to destruct ShimManager with viewables pr";t62+="esent in AS";t62+="E";var j62="Attempte";j62+="d to destruct ShimMana";j62+="ger with players present in ASE";var K62="Attempt";K62+="ed";K62+=" to destruct ShimManager with playgraphs present";K62+=" in ASE";switch(z62){case 2:q.assert(0===this.Zf.Ixb.length,K62);q.assert(0===this.Zf.Exb.length,j62);z62=5;break;case 5:q.assert(0===this.Zf.WHb.length,t62);q.assert(void 0===this.HZ,N62);this.Zf.close();z62=9;break;}}};d.Pfb=Z62;F52=10;break;case 10:return d;break;}}function d(c,d){var X52,g;X52=2;while(X52!==13){var a62="1SIYbZ";a62+="rN";a62+="JCp9";var W62="D";W62+="E";W62+="BU";W62+="G:";var B62="nf-as";B62+="e sh";B62+="im ";B62+="v";B62+="ersion:";switch(X52){case 2:g=b.call(this)||this;g.config=c;g.Bv=d;c=a(367);g.console=f;g.console.trace(B62,c,W62,!1);X52=7;break;case 7:g.Zf=m.construct();a62;return g;break;}}}}(d.EventEmitter);b.c7=d;},function(d){function b(a,b,d,g){a.trace(":",d,":",g);b(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addListener=function(a,d,g,n){g=n?g.bind(n):g;if(a){this.console&&(g=b.bind(null,this.console,g,d));if("function"===typeof a.addListener)a.addListener(d,g);else if("function"===typeof a.addEventListener)a.addEventListener(d,g);else throw Error("Emitter does not have a function to add listeners for '"+d+"'");this.listeners.push([a,d,g]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};d.R=a;},function(d,b,a){var c,g,m,n,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Esa=void 0;c=a(0);g=a(24);m=a(872);n=a(751);q=a(216);d=new(a(4)).Console("ASEJS","media|asejs");d.trace.bind(d);l=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];d=function(a){function b(b,c){var d;d=a.call(this)||this;d.K=b;d.Cb=new n.Ura(b,c);b.ZW&&(d.Dk=new m.c7(b,c));d.pk=new g.Vn();l.forEach(function(a){d.pk.on(d.Cb,a,function(b){return d.emit(a,b);});d.Dk&&d.pk.on(d.Dk,a,function(b){return d.emit(a,b);});});return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{tb:{get:function(){return this.Cb.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mm:{get:function(){return this.Cb.mm;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{hp:{get:function(){return this.Cb.hp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ay:{get:function(){return this.Cb.Ay;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zga:{get:function(){return this.Cb.zga;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sC:{get:function(){return this.Cb.sC;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Oe:{get:function(){return this.Cb.Oe;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zf:{get:function(){return this.Cb.zf;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Nfa:{get:function(){return this.Cb.Nfa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{X_:{get:function(){return this.Cb.X_.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{SN:{get:function(){return this.Cb.SN.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{oha:{get:function(){return this.Cb.oha.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{kRa:{get:function(){return this.Cb.kRa.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{NX:{get:function(){return this.Cb.NX.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{aIa:{get:function(){return this.Cb.aIa.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qu:{get:function(){return this.Cb.Qu.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{VCa:{get:function(){return this.Cb.VCa.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{U1:{get:function(){return this.Cb.U1.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{OV:{get:function(){return this.Cb.OV.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{IL:{get:function(){return this.Cb.IL.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{uaa:{get:function(){return this.Cb.uaa.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JL:{get:function(){return this.Cb.JL.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{NV:{get:function(){return this.Cb.NV.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sCa:{get:function(){return this.Cb.sCa.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{rCa:{get:function(){return this.Cb.rCa.bind(this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{WQa:{get:function(){return this.Cb.WQa.bind(this.Cb);},enumerable:!1,configurable:!0}});b.prototype.Kb=function(a,b,c,d,f,g){this.Cb.Kb(a,b,c,d,f,g);this.Dk?this.Dk.Kb(a,b,c,d,f,g):this.pKa={b$a:a,OHb:b,gfb:c,Ay:d,sC:f,vtb:g};};b.prototype.LP=function(a,b,c){this.Cb.LP(a,b,c);this.Dk?this.Dk.LP(a,b,c):this.sKa={rEb:a,Ay:b,sC:c};};b.prototype.tn=function(a,b,c,d,f,g,h,k,q,n){var p,t,r,u;p=this;if(this.Cb.config.ZW&&!this.Dk){this.Dk=new m.c7(this.Cb.config,this.Cb.Bv);l.forEach(function(a){p.pk.on(p.Dk,a,function(b){return p.emit(a,b);});});if(this.pKa){t=this.pKa;r=t.Ay;u=t.sC;this.Dk.Kb(t.b$a,t.OHb,t.gfb,r,u,t.vtb);}this.sKa&&(u=this.sKa,t=u.rEb,r=u.Ay,u=u.sC,this.Dk.LP(t,r,u));}return this.Dk&&k.pI?this.Dk.tn(a,b,c,d,f,g,h,k,q,n):this.Cb.tn(a,b,c,d,f,g,h,k,q,n);};b.prototype.addEventListener=function(a,b){this.addListener(a,b);return!0;};b.prototype.removeEventListener=function(a,b){this.removeListener(a,b);return!0;};b.prototype.vn=function(){var a;this.pk.clear();this.Cb.vn();null===(a=this.Dk)||void 0===a?void 0:a.vn();q.UC.reset();};return b;}(g.EventEmitter);b.Esa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.na=void 0;d=a||(a={});d[d.Kg=0]="STARTING";d[d.ve=1]="BUFFERING";d[d.Ig=2]="REBUFFERING";d[d.Nc=3]="PLAYING";d[d.FD=4]="STOPPING";d[d.Nm=5]="STOPPED";d[d.Bh=6]="PAUSED";b.na=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(898),b);d.__exportStar(a(897),b);d.__exportStar(a(896),b);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.Te=void 0;d=a||(a={});d[d.Nm=0]="STOPPED";d[d.ve=1]="BUFFERING";d[d.Ig=2]="REBUFFERING";d[d.dT=3]="STREAMING";b.Te=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Fsa=void 0;c=a(0);g=a(1);m=a(248);d=function(){var b;function a(a){this.Xhb=a;this.Lsb={Ar:"drmType",DRb:"drmVersion",Zca:"expiration",USb:"isUsingLegacyBatchingAPI",Xw:"bookmark",G:"movieId",pl:"packageId",duration:"duration",hg:"playbackContextId",qEa:["defaultTrackOrderList",{GG:"mediaId",YVb:"videoTrackId",IEb:"subtitleTrackId",qA:"audioTrackId",tUb:"preferenceOrder"}],ik:"drmContextId",lob:"hasDrmProfile",job:"hasClearProfile",EY:"hasDrmStreams",kob:"hasClearStreams",hm:["locations",{Qf:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],xq:["servers",{id:"id",name:"name",type:"type",Qf:"rank",XKa:"lowgrade",Jgb:["dns",{host:"host",Hpb:"ipv4",Ipb:"ipv6",vjb:"forceLookup"}],key:"key"}],NBa:["audio_tracks",{type:"type",Gm:"trackType",lq:"new_track_id",zma:"track_id",Gyb:"profileType",eEb:"stereo",profile:"profile",uo:"channels",language:"language",ebb:"channelsFormat",YEb:"surroundFormatLabel",yZ:"languageDescription",xRb:"disallowedSubtitleTracks",lRb:"defaultTimedText",isNative:"isNative",dc:["streams",{qca:"downloadable_id",size:"size",dF:"content_profile",Gm:"trackType",O:"bitrate",Hu:"isDrm",me:["urls",{DCa:"cdn_id",url:"url"}],Lub:"new_stream_id",type:"type",uo:"channels",ebb:"channelsFormat",YEb:"surroundFormatLabel",language:"language",hQb:"audioKey"}],Mbb:"codecName",bP:"rawTrackType",id:"id"}],Iv:["video_tracks",{Gm:"trackType",lq:"new_track_id",type:"type",zma:"track_id",lob:"hasDrmProfile",job:"hasClearProfile",EY:"hasDrmStreams",kob:"hasClearStreams",dc:["streams",{qca:"downloadable_id",size:"size",dF:"content_profile",Gm:"trackType",O:"bitrate",Hu:"isDrm",me:["urls",{DCa:"cdn_id",url:"url"}],Lub:"new_stream_id",type:"type",lUb:"peakBitrate",xgb:"dimensionsCount",ygb:"dimensionsLabel",fxb:"pix_w",exb:"pix_h",MAb:"res_w",LAb:"res_h",efb:"crop_x",ffb:"crop_y",dfb:"crop_w",cfb:"crop_h",Cjb:"framerate_value",Bjb:"framerate_scale",nVb:"startByteOffset",vc:"vmaf"}],Gyb:"profileType",eEb:"stereo",profile:"profile",xgb:"dimensionsCount",ygb:"dimensionsLabel",tca:["drmHeader",{ba:"bytes",nbb:"checksum",Rr:"keyId"}],pH:["prkDrmHeaders",{ba:"bytes",nbb:"checksum",Rr:"keyId",dQa:["resolution",{height:"height",width:"width"}]}],Ax:"flavor",GSb:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",ixb:"pixelAspectX",jxb:"pixelAspectY",nTb:"maxCroppedWidth",mTb:"maxCroppedHeight",oTb:"maxCroppedX",pTb:"maxCroppedY",sTb:"max_framerate_value",rTb:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",ETb:"minCroppedWidth",DTb:"minCroppedHeight",FTb:"minCroppedX",GTb:"minCroppedY",pi:["license",{rrb:"licenseResponseBase64",AUb:"providerSessionToken",CRb:"drmSessionId",links:["links",{}]}]}],CCa:["cdnResponseData",{lC:"sessionABTestCell",OB:"pbcid"}],bu:["choiceMap",{Kh:"initialSegment",type:"type",oa:"viewableId",Ta:["segments",{qw:[m.qw,{kf:"startTimeMs",ug:"endTimeMs",next:["next",{qw:[m.qw,{weight:"weight"}]}],bl:"defaultNext"}]}]}],upb:["initialHeader",{$:["fragments",{ja:"endPts"}]}],media:["media",{id:"id",yl:["tracks",{AUDIO:"AUDIO",n7:"TEXT",VIDEO:"VIDEO"}]}],wFb:["timedtexttracks",{Gm:"trackType",lq:"new_track_id",type:"type",bP:"rawTrackType",yZ:"languageDescription",language:"language",id:"id",pga:"isNoneTrack",lga:"isForcedNarrative",Tgb:["downloadableIds",{}],Zab:["cdnlist",{id:"id",name:"name",type:"type",Qf:"rank",XKa:"lowgrade",Jgb:["dns",{host:"host",Hpb:"ipv4",Ipb:"ipv6",vjb:"forceLookup"}],key:"key"}],hGb:["ttDownloadables",{qw:[m.qw,{size:"size",wVb:"textKey",ySb:"hashValue",xSb:"hashAlgo",OSb:"isImage",e_:"midxOffset",eia:"midxSize",height:"height",width:"width",mu:["downloadUrls",{}]}]}],oZ:"isLanguageLeftToRight"}],dGb:["trickplays",{qca:"downloadable_id",size:"size",me:"urls",id:"id",interval:"interval",lxb:"pixelsAspectY",kxb:"pixelsAspectX",width:"width",height:"height"}],rUa:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],BRb:"dpsid",Oi:"isBranching",ZVb:"viewableType",qB:"isSupplemental",Fbb:"clientIpAddress",NVb:"urlExpirationDuration",iTb:"manifestExpirationDuration",oVb:["steeringAdditionalInfo",{pVb:"steeringId",aQb:"additionalGroupNames",qVb:["streamingClientConfig",{}]}]};}a.prototype.EF=function(a){this.Xhb.EF(a,this.Lsb);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.K3))],b);}();b.Fsa=d;},function(d,b,a){var c,g,m,n,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Gsa=void 0;c=a(0);g=a(413);m=a(1);n=a(39);q=a(3);l=a(412);h=a(411);d=function(){var b;function a(a,b,c,d){this.Ia=a;this.Msb=b;this.trb=c;this.Jsb=d;}a.prototype.create=function(a){var b;b=this.trb();this.aqb(a)?(a.clientGenesis=a.clientGenesis||this.Ia.bf.ca(q.ha),a=this.Msb.decode(a),b.B8a(a)):b.t$(a.links);this.Jsb.EF(a);return{Mf:a,Aj:b};};a.prototype.aqb=function(a){return!!a.runtime;};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(n.Ai)),c.__param(1,m.l(g.g5)),c.__param(2,m.l(l.f6)),c.__param(3,m.l(h.c5))],b);}();b.Gsa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Ksa=void 0;c=a(0);g=a(1);m=a(233);d=function(){var b;function a(){}a.prototype.decode=function(a){var b,c;b=this.Ymb(a.cdns);c=this.nlb(a);return{movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.xea(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.Ukb(a),timedtexttracks:this.qnb(a.textTracks,b),media:this.ZF(a.media),trickplays:this.xnb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:c.Zca,urlExpirationDuration:c.bUa,manifestExpirationDuration:c.bUa,initialHeader:void 0,steeringAdditionalInfo:null,viewableType:""};};a.prototype.Ukb=function(a){var b,c,d;b=S(a.defaultMedia.split("|"));c=b.next().value;d=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:d,subtitleTrackId:b,preferenceOrder:0}];};a.prototype.xea=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};a.prototype.Ymb=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};a.prototype.tIa=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};a.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.ekb(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c&&c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};a.prototype.ekb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.tIa(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};a.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:c.Fnb(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",hasDrmProfile:!0,hasDrmStreams:!!b,hasClearProfile:!1,hasClearStreams:!b,drmHeader:b&&b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};a.prototype.Fnb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.tIa(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};a.prototype.qnb=function(a,b){var c;c=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.lnb(a.downloadables),ttDownloadables:c.mnb(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:b};}):[];};a.prototype.lnb=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};a.prototype.Amb=function(a){var b;b=m.jT.Oea();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(ea(a.map(function(a){return a.pixHeight;}))));};a.prototype.mnb=function(a){var b;if(a){b=this.Amb(a);return a.reduce(function(a,c){c.isImage&&c.pixHeight!==b||(a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};a.prototype.ZF=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};a.prototype.xnb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};a.prototype.nlb=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return{bUa:1E3*b,Zca:a.clientGenesis+1E3*b};};a.prototype.encode=function(){throw Error("encode not supported");};b=a;return b=c.__decorate([g.N()],b);}();b.Ksa=d;},function(d,b){function a(a){this.cc=a;this.nb=JSON.stringify(this.Tlb());}Object.defineProperty(b,"__esModule",{value:!0});b.Lsa=void 0;a.prototype.Tlb=function(){var a;a=[];(!this.cc.oj||0>=this.cc.oj.length)&&a.push({error:"No CDN."});this.cc.xW||a.push({error:"No default audio track.",foundTracks:this.mea(this.cc.nn)});this.cc.Xba||a.push({error:"No default video track.",foundTracks:this.mea(this.cc.Hm)});this.cc.Wba||a.push({error:"No default subtitle track.",foundTracks:this.mea(this.cc.Fk)});return a;};a.prototype.mea=function(a){return a&&0<a.length?a.map(function(a){return a.ab;}):"No tracks found.";};b.Lsa=a;},function(d,b,a){var c,g,m,n,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Hsa=void 0;c=a(0);g=a(1);m=a(40);n=a(28);q=a(36);l=a(137);h=a(48);d=function(){var b;function a(a,b){a=m.ae.call(this,a,"ManifestParserConfigImpl")||this;a.Wl=b;return a;}ca(a,m.ae);na.Object.defineProperties(a.prototype,{bma:{configurable:!0,enumerable:!0,get:function(){return[];}},Dda:{configurable:!0,enumerable:!0,get:function(){return"";}},Daa:{configurable:!0,enumerable:!0,get:function(){return[];}},Caa:{configurable:!0,enumerable:!0,get:function(){return[];}},Fda:{configurable:!0,enumerable:!0,get:function(){return"";}},Pfa:{configurable:!0,enumerable:!0,get:function(){return 0;}},hI:{configurable:!0,enumerable:!0,get:function(){return this.Wl.hI.ca(h.Iq);}},Cv:{configurable:!0,enumerable:!0,get:function(){return this.Wl.Cv;}}});b=a;c.__decorate([q.config(q.C1,"supportedAudioTrackTypes")],b.prototype,"bma",null);c.__decorate([q.config(q.string,"forceAudioTrack")],b.prototype,"Dda",null);c.__decorate([q.config(q.Jma,"cdnIdWhiteList")],b.prototype,"Daa",null);c.__decorate([q.config(q.Jma,"cdnIdBlackList")],b.prototype,"Caa",null);c.__decorate([q.config(q.string,"forceTimedTextTrack")],b.prototype,"Fda",null);c.__decorate([q.config(q.Gv,"imageSubsResolution")],b.prototype,"Pfa",null);c.__decorate([q.config(q.Gv,"timedTextSimpleFallbackThreshold")],b.prototype,"hI",null);c.__decorate([q.config(q.C1,"timedTextProfiles")],b.prototype,"Cv",null);return b=c.__decorate([g.N(),c.__param(0,g.l(n.Ci)),c.__param(1,g.l(l.zD))],b);}();b.Hsa=d;},function(d,b,a){var g,m,n,q;function c(a,b){return m.kJ.call(this,a,b)||this;}Object.defineProperty(b,"__esModule",{value:!0});b.xxa=void 0;g=a(127);m=a(418);n=a(77);q=a(126);ca(c,m.kJ);c.prototype.Ewb=function(a){var b,c;b=this;a=S(g.hs(function(a){return a.dc&&0<a.dc.length;},a));c=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.lq});});a=c.map(function(a){var c;c=a.Gm;c={type:n.Hg.video,ab:a.lq,lB:a.zma,Gm:q.mT[c.toLowerCase()]||q.Sm.yD,bP:c,dc:[],Ug:{},pH:a.pH};c.dc=b.dTa(a.dc,c);b.log.trace("Transformed video track",{StreamCount:c.dc.length});return c;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};c.prototype.Awb=function(a){var b;b=a.map(function(a){return a.pH;}).filter(Boolean);b=[].concat.apply([],[].concat(ea(b))).map(function(a){return a.ba;});a=a.map(function(a){return a.tca;}).filter(Boolean).map(function(a){return a.ba;});return 0<b.length?b:a;};b.xxa=c;},function(d,b,a){var g,m,n,q,l;function c(a,b,c,d){a=m.kJ.call(this,a,d)||this;a.config=b;a.j=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Zna=void 0;g=a(444);m=a(418);n=a(127);q=a(77);l=a(126);ca(c,m.kJ);c.prototype.qwb=function(a,b,c){var d,f,h;d=this;a=S(n.hs(function(a){return a.dc&&0<a.dc.length;},a));f=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Audio track is missing streams",d.rIa(a));});h=this.config.bma;a=S(n.hs(function(a){return 0===h.length||0<=h.indexOf(a.Gm);},f));f=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Audio track is not supported",d.rIa(a));});a=f.map(function(a){var f;f=a.Gm;f={type:q.Hg.audio,ab:a.lq,lB:a.zma,Gm:l.mT[f.toLowerCase()]||l.Sm.yD,bP:f,$k:a.language,displayName:a.yZ,uo:a.uo,OQb:a.uo,NQb:Number(a.uo[0]),Fk:d.bkb(a.lq,b,c),Ug:{Bcp47:a.language,TrackId:a.lq},dc:[],isNative:a.isNative};f.dc=d.dTa(a.dc,f);d.log.trace("Transformed audio track",f,{StreamCount:f.dc.length,AllowedTimedTextTracks:f.Fk.length});f.Mbb=g.B2[f.dc[0].Nf];return f;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};c.prototype.i$a=function(a){var b,c;b=this;c=this.config.Dda;if(c){if(a=S(a.filter(function(a){return a.$k==c||a.ab==c;})).next().value)return a;}else if(this.j.yX&&(a=S(a.filter(function(a){return a.ab==b.j.yX;})).next().value))return a;};c.prototype.rIa=function(a){return{language:a.yZ,bcp47:a.language,type:a.Gm};};c.prototype.bkb=function(a,b,c){return b.filter(function(b){return b.yl.AUDIO===a;}).map(function(a){return a.yl.n7;}).map(function(a){return c.find(function(b){return b.ab===a;});}).filter(Boolean);};b.Zna=c;},function(d,b){function a(a,b,d){this.log=a;this.j=b;this.Ema=d;}Object.defineProperty(b,"__esModule",{value:!0});b.cxa=void 0;a.prototype.Dwb=function(a){var b;b=this;a=(a||[]).filter(function(a){return a.me&&0<a.me.length;}).map(function(a){return b.Ema(b.j,a.id,a.height,a.width,a.kxb,a.lxb,a.size,{unknown:a.me[0]});});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size-b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};b.cxa=a;},function(d,b){function a(a,b,d,g,q){this.Eaa=a;this.zSa=b;this.aGb=d;this.LBa=g;this.jUa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.Jsa=void 0;a.prototype.$ia=function(a){var b,c,d,g,l,h,f,p,n,r,u,E,G,N,C;b=a.Mf;a=this.Eaa.INa(b.xq,b.hm,!0);c=this.zSa.Cwb(b.wFb);d=this.aGb.Dwb(b.dGb);g=this.LBa.qwb(b.NBa,b.media,c);l=this.jUa.Ewb(b.Iv);h=this.zwb(b,g,c);f=h[0];p=l[0];n=this.LBa.i$a(g)||f.ed||g[0];f=this.zSa.tFb(n.Fk)||f.uc||n.Fk[0];r=this.jUa.Awb(b.Iv);u=b.hg;E=b.Fbb;G=b.EY;N=b.ik;C=b.NBa.findIndex(function(a){return a.lq==n.ab;});b=b.Iv.findIndex(function(a){return a.lq==p.ab;});return{rq:r,oj:a,nn:g,Hm:l,Fk:c,Fv:d,hg:u,tCb:E,Lu:G,ik:N,lEa:C,rEa:b,f0:h,Xba:p,xW:n,Wba:f};};a.prototype.zwb=function(a,b,d){var c,g;c=[];g=a.qEa[0];c.push({ed:b.find(function(a){return a.lB===g.qA;}),uc:d.find(function(a){return a.lB===g.IEb;}),uUb:0});return c;};b.Jsa=a;},function(d,b,a){var g,m,n,q;function c(a,b,c,d,g){this.log=a;this.config=b;this.j=c;this.Eaa=d;this.sja=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Nwa=void 0;g=a(61);m=a(9);n=a(126);q=a(233);c.prototype.Cwb=function(a){var b;b=this;a=a.map(function(a){var c,d,f;c=b.QFb(a);!1!==a.pga||c.length||b.log.error("track without downloadables",b.BHa(a));!0!==a.lga||c.length||b.log.error("forced track without downloadables",b.BHa(a));d={};f=[];if(0<c.length){d=c[0];f=d.profile;if(f==g.Nk.rD||f==g.Nk.sS)d=b.TBb(c);f=b.Eaa.INa(a.Zab,void 0,!1);}a=b.sja(b.j,a.lq,a.id,d.gd,d.me||{},f,a.language,a.yZ,n.mT[a.Gm.toLowerCase()]||n.Sm.yD,a.bP.toUpperCase(),d.profile,b.Ylb(d)||{},a.pga,a.lga,a.oZ);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};c.prototype.tFb=function(a){var b,c;b=this;c=this.config.Fda;if(c){if(a=S(a.filter(function(a){return a.$k==c||a.ab==c;})).next().value)return a;}else if(this.j.zX&&(a=S(a.filter(function(a){return a.ab==b.j.zX;})).next().value))return a;};c.prototype.QFb=function(a){var b,c,d;b=this;c=a.hGb;d=a.Tgb;a=Object.keys(c||{}).map(function(a){var f;f=c[a];return{gd:d[a],profile:a,size:f.size||0,ie:b.elb(a,f),offset:f.e_||0,dxb:f.width,hOa:f.height,me:f.mu};});a.sort(function(a,b){return a.ie-b.ie;});return a;};c.prototype.elb=function(a,b){var c,d;c=this.config.Cv.indexOf(a);b=b.size;d=this.config.hI;return a===g.Nk.f3&&0<d&&b>d?this.config.Cv.length+1:0<=c?c:this.config.Cv.length;};c.prototype.Ylb=function(a){if(a.profile===g.Nk.rD||a.profile===g.Nk.sS)return{offset:a.offset,length:a.size,dQa:{width:a.dxb,height:a.hOa}};};c.prototype.TBb=function(a){var b,c;b=this.config.Pfa||q.jT.Oea();c=S(a.filter(function(a){return a.profile===g.Nk.rD||a.profile===g.Nk.sS;}).filter(function(a){return a.hOa===b;})).next().value;if(c)return c;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:m.Tq.height,intendedResolution:b});return a[0];};c.prototype.BHa=function(a){return{isNone:a.pga,isForced:a.lga,bcp47:a.language,id:a.lq};};b.Nwa=c;},function(d){d.R=function(b){return function(){return!b.apply(this,arguments);};};},function(d,b,a){var c,g;c=a(921);b=a(51);g=a(425);a=b(function(a,b){return g(c(a),b);});d.R=a;},function(d,b,a){b=a(168);a=a(235);a=b(a);d.R=a;},function(d,b,a){b=a(51)(function(a,b){for(var c=0;c<a.length;){if(null==b)return;b=b[a[c]];c+=1;}return b;});d.R=b;},function(d,b,a){var c;b=a(51);c=a(924);a=b(function(a,b){return c([a],b);});d.R=a;},function(d,b,a){var c,g;b=a(51);c=a(422);g=function(){function a(a,b){this.OQ=b;this.DM=a;}a.prototype["@@transducer/init"]=c.Kb;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.OQ["@@transducer/step"](a,this.DM(b));};return a;}();a=b(function(a,b){return new g(a,b);});d.R=a;},function(d,b,a){var c,g,m,n,q,l;b=a(51);c=a(424);g=a(420);m=a(235);n=a(926);q=a(419);l=a(421);a=b(c(["fantasy-land/map","map"],n,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return q(b.length,function(){return a.call(this,b.apply(this,arguments));});case"[object Object]":return m(function(c,d){c[d]=a(b[d]);return c;},{},l(b));default:return g(a,b);}}));d.R=a;},function(d,b,a){var c,g;b=a(51);c=a(927);g=a(925);a=b(function(a,b){return c(g(a),b);});d.R=a;},function(d,b,a){b=a(51)(function(a,b){return b>a?b:a;});d.R=b;},function(d,b,a){var g,m;function c(a,b,d){return function(){var q;for(var h=[],f=0,k=a,l=0;l<b.length||f<arguments.length;){l<b.length&&(!m(b[l])||f>=arguments.length)?q=b[l]:(q=arguments[f],f+=1);h[l]=q;m(q)||--k;l+=1;}return 0>=k?d.apply(this,h):g(k,c(a,h,d));};}g=a(234);m=a(167);d.R=c;},function(d,b,a){var c,g,m,n,q;b=a(51);c=a(420);g=a(419);m=a(929);n=a(928);q=a(923);a=b(function(a,b){return g(q(m,0,n("length",b)),function(){var d,g;d=arguments;g=this;return a.apply(g,c(function(a){return a.apply(g,d);},b));});});d.R=a;},function(d,b,a){var c;b=a(110);c=a(931);a=b(function(a){return c(function(){return Array.prototype.slice.call(arguments,0);},a);});d.R=a;},function(d,b,a){var c,g;c=a(236);g=Object.prototype.toString;d.R=function(){return"[object Arguments]"===g.call(arguments)?function(a){return"[object Arguments]"===g.call(a);}:function(a){return c("callee",a);};};},function(d,b,a){var c,g;b=a(51);c=a(422);g=function(){function a(a,b){this.OQ=b;this.DM=a;}a.prototype["@@transducer/init"]=c.Kb;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.DM(b)?this.OQ["@@transducer/step"](a,b):a;};return a;}();a=b(function(a,b){return new g(a,b);});d.R=a;},function(d,b,a){var c;c=a(234);b=a(51)(function(a,b){return c(a.length,function(){return a.apply(b,arguments);});});d.R=b;},function(d){var b;b=function(){function a(a){this.DM=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,b){return this.DM(a,b);};return a;}();d.R=function(a){return new b(a);};},function(d){d.R=function(b){return"[object String]"===Object.prototype.toString.call(b);};},function(d,b,a){var c,g;b=a(110);c=a(423);g=a(937);a=b(function(a){return c(a)?!0:!a||"object"!==typeof a||g(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});d.R=a;},function(d){d.R=function(b,a){for(var c=0,d=a.length,g=[];c<d;)b(a[c])&&(g[g.length]=a[c]),c+=1;return g;};},function(d){d.R=function(b){return"function"===typeof b["@@transducer/step"];};},function(d,b,a){var c;b=a(425);c=a(932);a=a(922);a=c([b,a]);d.R=a;},function(d,b,a){var c;b=a(168);c=a(236);a=b(function(a,b,d){var g,k;g={};for(k in b)c(k,b)&&(g[k]=c(k,d)?a(k,b[k],d[k]):b[k]);for(k in d)c(k,d)&&!c(k,g)&&(g[k]=d[k]);return g;});d.R=a;},function(d,b,a){var c,g;b=a(168);c=a(426);g=a(942);a=b(function t(a,b,d){return g(function(b,d,g){return c(d)&&c(g)?t(a,d,g):a(b,d,g);},b,d);});d.R=a;},function(d,b,a){var c;b=a(168);c=a(943);a=b(function(a,b,d){return c(function(b,c,d){return a(c,d);},b,d);});d.R=a;},function(d,b,a){var g;function c(a,b){this.log=a;this.config=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Koa=void 0;g=a(127);c.prototype.INa=function(a,b,c){var d,h,f,k,m;d=this;h=this.config.Daa;f=this.config.Caa;a=S(g.hs(function(a){return(!h.length||0<=h.indexOf(a.id))&&0>f.indexOf(a.id);},a||[]));k=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Cdn is not allowed",{Id:a.id});});m=k.map(function(a){var c;c=(b?b.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,Qf:a.Qf,type:a.type,dha:a.key,PSb:a.XKa,location:{id:c.key,Qf:c.Qf,level:c.level,weight:c.weight,oj:[]}};});m.sort(function(a,b){return a.Qf-b.Qf;});m.forEach(function(a){return a.location.oj=m.filter(function(b){return b.dha===a.dha;});});this.log.trace("Transformed cdns",{Count:m.length});if(c&&!m.length)throw Error("no valid cdns");return m;};b.Koa=c;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,K,E;Object.defineProperty(b,"__esModule",{value:!0});b.Isa=void 0;c=a(0);g=a(1);m=a(8);n=a(427);q=a(945);l=a(920);h=a(919);f=a(918);p=a(917);r=a(916);u=a(417);K=a(416);E=a(415);d=function(){var b;function a(a,b,c,d,f){this.Af=a;this.config=b;this.sja=c;this.Ema=d;this.L1=f;}a.prototype.create=function(a){var b,c;b=this.Af.xb("ManifestParser",a);c=new q.Koa(b,this.config);return new h.Jsa(c,new l.Nwa(b,this.config,a,c,this.sja),new f.cxa(b,a,this.Ema),new p.Zna(b,this.config,a,this.L1),new r.xxa(b,this.L1));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ab)),c.__param(1,g.l(n.e5)),c.__param(2,g.l(u.F6)),c.__param(3,g.l(E.w7)),c.__param(4,g.l(K.t7))],b);}();b.Isa=d;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,K,E,G;Object.defineProperty(b,"__esModule",{value:!0});b.gLa=void 0;d=a(1);c=a(428);g=a(946);m=a(427);n=a(915);q=a(417);l=a(416);h=a(414);f=a(914);p=a(413);r=a(913);u=a(166);K=a(912);E=a(411);G=a(911);b.gLa=new d.Dc(function(b){b(m.e5).to(n.Hsa).Z();b(c.f5).to(g.Isa).Z();b(q.F6).Th(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(232).Ez;return new(Function.prototype.bind.apply(d,[null].concat(ea(c))))();});b(l.t7).Th(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(354).Doa;return new(Function.prototype.bind.apply(d,[null].concat(ea(c))))();});b(h.h5).lf(function(){return function(a){return new f.Lsa(a);};});b(p.g5).to(r.Ksa).Z();b(u.oD).to(K.Gsa).Z();b(E.c5).to(G.Fsa).Z();});},function(d,b,a){var c,g,m,n,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.soa=void 0;c=a(0);g=a(1);m=a(15);n=a(8);q=a(169);l=a(237);h=a(100);f=a(259);d=function(){var b;function a(a,b,c,d,f,g){this.config=a;this.fy=c;this.profile=d;this.N1=f;this.Aaa=g;this.log=b.xb("CDMAttestedDescriptor");this.LGa();}a.prototype.LGa=function(){var a;a=this;return this.N1.Xma?this.config().rhb?this.JGa().then(function(b){if(b)return Promise.resolve(void 0);a.wKa||(a.wKa=a.Aaa.$Ha());return a.wKa;})["catch"](function(b){a.log.error("Failed to generate challenge",b);}).then(function(a){null===a||void 0===a?void 0:a.rb.close().subscribe();return null===a||void 0===a?void 0:a.GCa;}).then(function(b){return Promise.all([Promise.resolve(b),a.JGa()]);}).then(function(a){var b;a=S(a);b=a.next().value;if(!a.next().value)return b;}):this.fy().then(function(a){a.p_.removeServiceToken("cad");}):Promise.resolve(void 0);};a.prototype.JGa=function(){var a;a=this;return this.fy().then(function(b){return(b=b.p_.getServiceTokens(a.profile))&&b.find(function(a){return"cad"===a.name;});});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.dd)),c.__param(1,g.l(n.Ab)),c.__param(2,g.l(q.mJ)),c.__param(3,g.l(h.BJ)),c.__param(4,g.l(l.IJ)),c.__param(5,g.l(f.mR))],b);}();b.soa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.uCa=void 0;d=a(1);c=a(429);g=a(948);b.uCa=new d.Dc(function(a){a(c.P2).to(g.soa).Z();});},function(d,b,a){var c,g,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.hoa=void 0;c=a(0);g=a(1);m=a(23);n=a(3);d=function(){var b;function a(a){this.Ga=a;}a.prototype.wEb=function(a,b){var c,d;c=parseFloat(a);d=0;"%"===a[a.length-1]&&this.Ga.jh(c)?d=Math.round(c*b.ca(n.ha)/100):(a=parseInt(a),this.Ga.mr(a)&&(d=a));return n.Gb(Math.min(d,b.ca(n.ha)));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ie))],b);}();b.hoa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.goa=void 0;c=a(0);g=a(1);m=a(15);d=function(){var b;function a(a){this.config=a;}a.prototype.nea=function(){return this.Cx().V$a;};a.prototype.oea=function(){return this.Cx().W$a;};a.prototype.Clb=function(){return this.Cx().X$a;};a.prototype.Zda=function(){return this.Cx().cCa;};a.prototype.Cx=function(){return this.config();};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.dd))],b);}();b.goa=d;},function(d,b,a){var c,g,m,n,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.ioa=void 0;c=a(0);g=a(1);m=a(431);n=a(430);q=a(8);l=a(23);h=a(3);f=a(15);d=function(){var b;function a(a,b,c,d,f){this.IV=b;this.Ga=c;this.U$a=d;this.config=f;this.ka=a.xb("Bookmark");}a.prototype.$Aa=function(a){var b,c;b=a.Ua.playbackState&&a.Ua.playbackState.currentTime;c=this.Jkb(a.G);b=this.Ga.IA(b)?h.Gb(b):c;if(this.Ga.Td(b))this.ka.info("Overriding bookmark",{From:a.LC.ca(h.ha),To:b.ca(h.ha)}),a=Object.assign({},a,{LC:b});else if(this.Tob(a))return this.ka.trace("Ignoring bookmark because it's too close to beginning"),h.bh(0);return this.Sob(a)?(this.ka.trace("Ignoring bookmark because it's too close to end"),h.bh(0)):this.Rob(a)?(this.ka.trace("Ignoring bookmark because it's too close to the end to start decoding"),h.bh(0)):a.LC;};a.prototype.Tob=function(a){return 0>a.LC.Tl(this.nea(a));};a.prototype.nea=function(a){return this.dCa(this.IV.nea(),a.NO);};a.prototype.Sob=function(a){return 0<a.LC.Tl(this.oea(a));};a.prototype.oea=function(a){var b;b=a.Ua.Oi?this.IV.Clb():this.IV.oea();return a.NO.zb(this.dCa(b,a.NO));};a.prototype.Rob=function(a){return 0<a.LC.Tl(this.llb(a));};a.prototype.llb=function(a){var b;b=a.Ua.Oi?this.config().sNa:this.config().L_;return a.NO.zb(h.Gb(b));};a.prototype.Jkb=function(a){var b;a=this.IV.Zda()[a];b=-1;this.Ga.gn(a)?b=parseInt(a):this.Ga.jh(a)&&(b=a);if(this.Ga.mr(b))return h.Gb(b);};a.prototype.dCa=function(a,b){return this.U$a.wEb(a,b);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.Ab)),c.__param(1,g.l(m.L2)),c.__param(2,g.l(l.Ie)),c.__param(3,g.l(n.K2)),c.__param(4,g.l(f.dd))],b);}();b.ioa=d;},function(d,b,a){var c,g,m,n,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Xw=void 0;d=a(1);c=a(238);g=a(431);m=a(430);n=a(952);q=a(951);l=a(950);b.Xw=new d.Dc(function(a){a(c.$Q).to(n.ioa).Z();a(g.L2).to(q.goa).Z();a(m.K2).to(l.hoa).Z();});},function(d,b,a){var g,m,n,q;function c(a,b,c){var d;d=this;this.ka=a;this.valid=!0;this.sj=!1;this.context=c.context;this.size=c.size;this.kl=b.create().then(function(a){d.storage=a;return a.QN("mediacache").then(function(a){d.keys=a;});});}Object.defineProperty(b,"__esModule",{value:!0});b.JXa=b.Cpa=void 0;g=a(0);m=a(1);n=a(8);q=a(71);d=function(){var b;function a(a,b){this.Af=a;this.Jj=b;this.vF={};}a.prototype.jW=function(a){this.vF[a.context]=new c(this.Af.xb("DiskStorageContext"),this.Jj,a);return this.vF[a.context];};a.prototype.AEa=function(a){delete this.vF[a.context];};b=a;return b=g.__decorate([m.N(),g.__param(0,m.l(n.Ab)),g.__param(1,m.l(q.Gq))],b);}();b.Cpa=d;c.prototype.create=function(a,b,c,d){var f,g,h;f=this;g=this.getKey(a,b);h=Date.now();this.kl.then(function(){f.keys[g]=void 0;return f.storage.save(g,c,!1).then(function(){f.ka.trace("create succeeded for "+g+", "+(Date.now()-h)+" ms");d(f.lY(a,b));});})["catch"](function(c){f.ka.trace("create failed",c);d(f.Ex(a,b,c));});};c.prototype.append=function(a,b,c,d){c=this.getKey(a,b);this.ka.trace("append "+c);d(this.Ex(a,b,"append is not supported"));};c.prototype.remove=function(a,b,c){var d,f,g;d=this;f=this.getKey(a,b);g=Date.now();this.kl.then(function(){if(d.keys.hasOwnProperty(f))return delete d.keys[f],d.storage.remove(f).then(function(){d.ka.trace("remove succeeded for "+f+", "+(Date.now()-g)+" ms");c(d.lY(a,b));});c(d.lY(a,b));})["catch"](function(f){d.ka.trace("remove failed",f);c(d.Ex(a,b,f));});};c.prototype.read=function(a,b,c,d,g){var f,h,k;f=this;h=this.getKey(a,b);k=Date.now();0!==c||-1!=d?g(this.Ex(a,b,"byteStart/byteEnd combination is not supported")):this.kl.then(function(){if(f.keys.hasOwnProperty(h))return f.storage.load(h).then(function(l){f.ka.trace("read succeeded for "+h+", "+(Date.now()-k)+" ms");g(Object.assign(f.lY(a,b),{value:l.value,qQb:c,end:d}));});g(f.Ex(a,b,"Item doesn't exist"));})["catch"](function(c){f.ka.trace("read failed",c);g(f.Ex(a,b,c));});};c.prototype.info=function(a){var b;b=this;this.ka.trace("info ");this.kl.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.Zia(c);a[c.gM]||(a[c.gM]={});a[c.gM][c.Sx]={size:0};return a;},{}),total:b.size,QVb:0};a(c);})["catch"](function(c){b.ka.trace("info failed",c);a(b.Ex(void 0,void 0,c));});};c.prototype.query=function(a,b,c){var d,f;d=this;f=this.getKey(a,b||"");this.kl.then(function(){var a;a=Object.keys(d.keys).filter(function(a){return 0===a.indexOf(f);}).reduce(function(a,b){a[d.Zia(b).Sx]={size:0};return a;},{});d.ka.trace("query succeeded for prefix "+b,a);c(a);})["catch"](function(a){d.ka.trace("query failed",a);c({});});};c.prototype.Eq=function(a){var b;b=this;this.ka.trace("validate");this.kl.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.Zia(c).Sx]={size:0};return a;},{});a(c);})["catch"](function(c){b.ka.trace("validate failed",c);a(b.Ex(void 0,void 0,c));});};c.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};c.prototype.lY=function(a,b){return{aa:!0,gM:void 0===a?"":a,key:void 0===b?"":b,vHb:0,uj:this.size};};c.prototype.Ex=function(a,b,c){return{aa:!1,error:c,gM:void 0===a?"":a,key:void 0===b?"":b,vHb:0,uj:this.size};};c.prototype.Zia=function(a){var b,c;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c+1);return{gM:a,Sx:b};};b.JXa=c;},function(d,b,a){var c,g,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.cta=void 0;c=a(0);g=a(1);m=a(2);n=a(8);d=function(){var b;function a(a){this.Af=a;this.Zu={};this.ka=this.Af.xb("MemoryStorage");}a.prototype.load=function(a){var b;if(this.Zu.hasOwnProperty(a)){b=this.Zu[a];this.ka.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ka.debug("Storage entry not found",{key:a});return Promise.reject({da:m.u.jw});};a.prototype.save=function(a,b,c){if(c&&this.Zu.hasOwnProperty(a))return Promise.resolve(!1);this.Zu[a]=b;return Promise.resolve(!0);};a.prototype.remove=function(a){delete this.Zu[a];return Promise.resolve();};a.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.Zu).map(function(b){return{key:b,value:a.Zu[b]};});return Promise.resolve(b);};a.prototype.QN=function(a){var b;b=Object.keys(this.Zu).reduce(function(b,c){a&&0!==c.indexOf(a)||(b[c]=void 0);return b;},{});return Promise.resolve(b);};a.prototype.removeAll=function(){this.Zu={};return Promise.resolve();};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.Ab))],b);}();b.cta=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fpa=void 0;b.fpa="__default_rule_key__";},function(d,b,a){var g,m,n,q,l,h,f,p;function c(a,b,c,d){this.ka=a;this.config=b;this.Pob=c;this.dia=d;this.fx={mem:{storage:this.dia,key:"mem"}};this.By=this.config.By;}Object.defineProperty(b,"__esModule",{value:!0});b.t2=b.Cna=void 0;g=a(0);m=a(1);n=a(2);q=a(170);l=a(8);h=a(433);f=a(956);p=a(32);d=function(){var b;function a(a,b,c,d){this.Af=a;this.Jj=b;this.dia=c;this.config=d;}a.prototype.create=function(){this.dM||(this.dM=this.fF());return this.dM;};a.prototype.fF=function(){this.q9a=new c(this.Af.xb("AppStorage"),this.config,this.Jj,this.dia);return this.q9a.create();};b=a;return b=g.__decorate([m.N(),g.__param(0,m.l(l.Ab)),g.__param(1,m.l(q.fS)),g.__param(2,m.l(h.r5)),g.__param(3,m.l(p.Kk))],b);}();b.Cna=d;c.prototype.create=function(){var a;a=this;return this.Beb().then(function(b){if(!a.Mab(b,a.config.SY))throw a.Tub(b);return a;});};c.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.QM(a).storage.load(a).then(function(a){c(a);})["catch"](function(a){d(a);});});};c.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.QM(a).storage.save(a,b,c).then(function(a){f(a);})["catch"](function(a){g(a);});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.QM(a).storage.remove(a).then(function(){c();})["catch"](function(a){d(a);});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.FPa("mem").then(function(){return a.FPa("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.ka.error("remove all failed");c(b);});});};c.prototype.loadAll=function(){var a,b;a=this;b=[];return this.CKa("mem").then(function(c){b=b.concat(c);return a.CKa("idb");})["catch"](function(b){a.wqb(b)||a.ka.error("IndexedDb.LoadAll exception",b);return[];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.ka.error("load all failed",b);throw b;});};c.prototype.QN=function(a){var b;b=this;return new Promise(function(c,d){var f;f=b.fx.idb;f?f.storage.QN(a).then(function(a){c(a);})["catch"](function(a){b.ka.error("loadKeys failed",a);d(a);}):d("Storage is not available");});};c.prototype.Beb=function(){var a;a=this;return this.Pob.create().then(function(b){a.fx.idb={storage:b,key:"idb"};})["catch"](function(b){a.ka.error("idb failed to load",b);return b||{da:n.u.Ok};});};c.prototype.Mab=function(a,b){return!a||a&&b?!0:!1;};c.prototype.Tub=function(a){var b;b="";a&&(b+=a.da);return{da:b};};c.prototype.FPa=function(a){return(a=this.fx[a])?a.storage.removeAll():Promise.resolve();};c.prototype.CKa=function(a){return(a=this.fx[a])?a.storage.loadAll():Promise.resolve([]);};c.prototype.Wib=function(a){for(var b in this.By)if(a.startsWith(b))return this.By[b];return this.By[f.fpa];};c.prototype.QM=function(a){var b,c;b=this;this.Wib(a).every(function(a){return b.fx[a]?(c=b.fx[a],!1):!0;});c||(this.ka.error("component not found for storageKey",{mEb:a,kQb:Object.keys(this.fx),rules:this.By}),c=this.fx.mem);this.ka.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};c.prototype.wqb=function(a){return(a&&(a.da||a.errorSubCode))===n.u.jw;};b.t2=c;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.bpa=void 0;c=a(0);g=a(1);m=a(32);d=function(){var b;function a(a){this.config=a;}na.Object.defineProperties(a.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Vla;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.ySa;}}});b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Kk))],b);}();b.bpa=d;},function(d,b,a){var c,g,m,n,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Bra=void 0;c=a(0);g=a(1);m=a(36);n=a(40);q=a(32);l=a(28);d=function(){var b;function a(a,b){a=n.ae.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.LB="namedatapairs";return a;}ca(a,n.ae);na.Object.defineProperties(a.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.Cr?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Vla;}},xV:{configurable:!0,enumerable:!0,get:function(){return this.config.xV;}},Gla:{configurable:!0,enumerable:!0,get:function(){return 0;}},RP:{configurable:!0,enumerable:!0,get:function(){return 0;}},aGa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});b=a;c.__decorate([m.config(m.Gv,"simulateIdbOpenError")],b.prototype,"Gla",null);c.__decorate([m.config(m.Gv,"simulateIdbLoadAllError")],b.prototype,"RP",null);c.__decorate([m.config(m.vd,"fixInvalidDatabase")],b.prototype,"aGa",null);return b=c.__decorate([g.N(),c.__param(0,g.l(l.Ci)),c.__param(1,g.l(q.Kk))],b);}();b.Bra=d;},function(d,b,a){var m,n,q;function c(a,b,c){this.config=a;this.Ak=b;this.kv=c;}function g(a,b){this.reason=a;this.cause=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Ara=b.xva=void 0;m=a(2);n=a(63);(function(a){a[a.H5=0]="NoData";a[a.Error=1]="Error";a[a.Fz=2]="Timeout";}(q=b.xva||(b.xva={})));c.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.hX("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=m.u.Pva;switch(a.reason){case q.H5:b=m.u.jw;break;case q.Fz:b=m.u.I1a;}d({da:b,cause:a.cause});});});};c.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.hX(c?"add":"put",!0,{name:a,data:b}).then(function(){f(!c);})["catch"](function(a){var b;b=m.u.Qva;switch(a.reason){case q.Fz:b=m.u.L1a;}g({da:b,cause:a.cause});});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.hX("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=m.u.Y6;switch(a.reason){case q.Fz:b=m.u.Ova;}d({da:b,cause:a.cause});});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.hX("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=m.u.Y6;switch(a.reason){case q.Fz:b=m.u.Ova;}c({da:b,cause:a.cause});});});};c.prototype.loadAll=function(){var a;a=this;return this.Ak.wm(this.config.timeout,new Promise(function(b,c){var d,f,h;if(a.config.RP)c(new g(a.config.RP));else{d=[];f=a.kv.transaction(a.config.LB,"readonly");h=f.objectStore(a.config.LB).openCursor();f.onerror=function(){c(new g(q.Error,h.error));};h.onsuccess=function(a){if(a=a.target.result)try{d.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(E){c(new g(q.Error,E));}else b(d);};h.onerror=function(){c(new g(q.Error,h.error));};}}))["catch"](function(a){return a instanceof n.Rm?Promise.reject(new g(q.Fz,a)):a instanceof g?Promise.reject(a):Promise.reject(new g(q.Error,a));});};c.prototype.QN=function(a){var b;b=this;return this.Ak.wm(this.config.timeout,new Promise(function(c,d){var f,h,k;if(b.config.RP)d(new g(b.config.RP));else{f={};h=b.kv.transaction(b.config.LB,"readonly");k=h.objectStore(b.config.LB).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);h.onerror=function(){d(new g(q.Error,k.error));};k.onsuccess=function(b){var h,k;try{h=b.target.result;if(h){k=h.key;a&&0!==k.indexOf(a)?c(f):(f[k]=void 0,h["continue"]());}else c(f);}catch(C){d(new g(q.Error,C));}};k.onerror=function(){d(new g(q.Error,k.error));};}}))["catch"](function(a){return a instanceof n.Rm?Promise.reject(new g(q.Fz,a)):a instanceof g?Promise.reject(a):Promise.reject(new g(q.Error,a));});};c.prototype.hX=function(a,b,c){var d;d=this;return this.Ak.wm(this.config.timeout,new Promise(function(f,h){var k,l;k=d.kv.transaction(d.config.LB,b?"readwrite":"readonly");l=k.objectStore(d.config.LB)[a](c);k.onerror=function(){h(new g(q.Error,l.error));};l.onsuccess=function(b){var c;if("get"==a)try{c=b.target.result;c?f(c.data):h(new g(q.H5));}catch(C){h(new g(q.H5,C));}else f();};l.onerror=function(){h(new g(q.Error,l.error));};}))["catch"](function(a){return a instanceof n.Rm?Promise.reject(new g(q.Fz,a)):a instanceof g?Promise.reject(a):Promise.reject(new g(q.Error,a));});};b.Ara=c;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,K,E;Object.defineProperty(b,"__esModule",{value:!0});b.Dra=b.Cra=b.$qa=void 0;c=a(0);g=a(1);m=a(8);n=a(960);q=a(171);l=a(2);h=a(436);f=a(437);p=a(63);r=a(71);u=a(69);K=a(170);E=a(52);d=function(){var b;function a(a,b,c,d,f){this.config=b;this.Dv=c;this.Zi=f;this.ka=a.xb(h.gT);this.hM=new Promise(function(a,b){var c;try{c=d();c?a(c):b({da:l.u.ara});}catch(fa){b({da:l.u.eS,cause:fa});}});}a.prototype.create=function(){this.Kba||(this.Kba=this.fF());return this.Kba;};a.prototype.un=function(a){var b;b=this;this.Kba=null;return this.Dv.wm(this.config.timeout,new Promise(function(c,d){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){d(a);});}))["catch"](function(a){return a instanceof p.Rm?Promise.reject({da:l.u.eS}):a.da?Promise.reject(a):Promise.reject({da:l.u.eS,cause:a});});};a.prototype["delete"]=function(a){var b;b=this;return this.Dv.wm(this.config.timeout,new Promise(function(c,d){b.hM.then(function(b){var f;f=b.deleteDatabase(a);f.onsuccess=function(){c();};f.onerror=function(){d({da:l.u.eS,cause:f.error});};})["catch"](function(a){d(a);});}));};a.prototype.fF=function(){var a,b;a=this;return this.Dv.wm(this.config.timeout,new Promise(function(c,d){if(a.config.Gla)return d({da:a.config.Gla});a.hM.then(function(f){a.Zi.mark(E.bi.YYa);b=f.open(a.config.name,a.config.version);if(!b)return d({da:l.u.bra});b.onblocked=function(){a.Zi.mark(E.bi.VYa);d({da:l.u.RYa});};b.onupgradeneeded=function(){var c;a.Zi.mark(E.bi.eZa);c=b.result;try{c.createObjectStore(a.config.LB,{keyPath:"name"});}catch(T){a.ka.error("Exception while creating object store",T);}};b.onsuccess=function(g){var h,k;a.Zi.mark(E.bi.dZa);try{h=g.target.result;k=h.objectStoreNames.length;a.ka.trace("objectstorenames length ",k);if(0===k){a.ka.error("invalid indexedDb state, deleting");a.Zi.mark(E.bi.XYa);try{h.close();}catch(fa){}f.deleteDatabase(a.config.name);setTimeout(function(){d({da:l.u.QYa});},1);return;}}catch(fa){a.ka.error("Exception while inspecting indexedDb objectstorenames",fa);}c(b.result);};b.onerror=function(){a.Zi.mark(E.bi.WYa);a.ka.error("IndexedDB open error",b.error);d({da:l.u.SYa,cause:b.error});};})["catch"](function(a){d(a);});}))["catch"](function(c){if(c instanceof p.Rm){try{b&&b.readyState&&a.Zi.mark("readyState-"+b.readyState);}catch(aa){}if(a.config.xV&&b&&"done"===b.readyState){if(a.FHb(b))return a.Zi.mark(E.bi.bZa),Promise.resolve(b.result);a.Zi.mark(E.bi.aZa);}a.Zi.mark(E.bi.$Ya);return Promise.reject({da:l.u.UYa});}if(c.da)return Promise.reject(c);a.Zi.mark(E.bi.ZYa);a.ka.error("IndexedDB open exception occurred",c);return Promise.reject({da:l.u.TYa,cause:c});});};a.prototype.FHb=function(a){try{return 0<a.result.objectStoreNames.length;}catch(X){this.Zi.mark(E.bi.cZa);this.ka.error("failed to check open request state",X);}return!1;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ab)),c.__param(1,g.l(f.gJ)),c.__param(2,g.l(p.hw)),c.__param(3,g.l(q.w4)),c.__param(4,g.l(u.nw))],b);}();b.$qa=d;d=function(){var b;function a(a,b){this.config=a;this.Dv=b;}a.prototype.create=function(a){return Promise.resolve(new n.Ara(this.config,this.Dv,a));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(f.gJ)),c.__param(1,g.l(p.hw))],b);}();b.Cra=d;d=function(){var b;function a(a,b,c,d,f,g){this.config=b;this.hM=c;this.Jj=d;this.JHb=f;this.Zi=g;this.ka=a.xb(h.gT);}a.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.dM||(this.dM=this.fF(this.JHb));return this.dM;};a.prototype.fF=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(c,d){b.Zi.mark(E.bi.H1a);b.hM.create().then(function(f){b.Jj.create(f).then(function(g){Promise.all(a.map(function(a){return a.Eq(g);})).then(function(){b.storage=g;c(b.storage);})["catch"](function(a){b.ka.debug("DB validation failed, cause: "+a);b.config.aGa?(b.ka.debug("Fixing corrupt DB"),b.hM.un(f).then(function(){b.ka.error("Invalid database deleted, creating new database.");b.fF().then(function(a){b.ka.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ka.error("Couldn't delete invalid database.");d(a);})):(b.ka.debug("Ignoring invalid DB due to config"),b.storage=g,c(b.storage));});})["catch"](function(a){d(a);});})["catch"](function(a){d(a);});});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ab)),c.__param(1,g.l(f.gJ)),c.__param(2,g.l(K.v4)),c.__param(3,g.l(K.B4)),c.__param(4,g.IB(r.k7)),c.__param(5,g.l(u.nw))],b);}();b.Dra=d;},function(d,b,a){var c,g,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.Zra=void 0;c=a(0);g=a(1);m=a(2);n=a(171);d=function(){var b;function a(a){this.kv=a;}a.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var f,g;try{f=b.kv.getItem(a);if(f){g=f;if("{"===f[0])try{g=JSON.parse(f)||f;}catch(E){}c({key:a,value:g});}else d({da:m.u.jw});}catch(E){d({da:m.u.Pva,cause:E});}});};a.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){if(c&&d.kv.getItem(a))f(!1);else try{"string"===typeof b?d.kv.setItem(a,b):d.kv.setItem(a,JSON.stringify(b));f(!0);}catch(E){g({da:m.u.Qva,cause:E});}});};a.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){try{b.kv.removeItem(a);c();}catch(H){d({da:m.u.Y6,cause:H});}});};a.prototype.loadAll=function(){return Promise.reject("Not supported");};a.prototype.QN=function(){return Promise.reject("Not supported");};a.prototype.removeAll=function(){return Promise.reject("Not supported");};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.ota))],b);}();b.Zra=d;},function(d,b,a){var c,g,m,n,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.apa=void 0;c=a(0);g=a(1);m=a(8);n=a(63);q=a(436);l=a(435);d=function(){var b;function a(a,b,c){this.Ak=b;this.config=c;this.ka=a.xb(q.gT);}a.prototype.Eq=function(a){return this.config.enabled?this.config.timeout?this.Ak.wm(this.config.timeout,this.MEa(a)):this.MEa(a):Promise.resolve();};a.prototype.MEa=function(a){var b;b=this;return new Promise(function(c,d){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(f){"true"!==f.value&&d();b.ka.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ka.error("Failed to remove testValue");c();});});})["catch"](function(a){return d(a);});});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ab)),c.__param(1,g.l(n.hw)),c.__param(2,g.l(l.Y2))],b);}();b.apa=d;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,K,E,G,N,C,z;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;d=a(1);c=a(437);g=a(71);m=a(171);n=a(963);q=a(434);l=a(962);h=a(435);f=a(170);p=a(961);r=a(959);u=a(958);K=a(957);E=a(71);G=a(433);N=a(955);C=a(432);z=a(954);b.storage=new d.Dc(function(a){a(m.D5).lf(function(){return function(){return M.localStorage;};});a(m.w4).lf(function(){return function(){return M.indexedDB;};});a(G.r5).to(N.cta).Z();a(E.Gq).to(K.Cna).Z();a(q.Q4).to(l.Zra).Z();a(c.gJ).to(r.Bra).Z();a(f.B4).to(p.Cra).Z();a(g.k7).to(n.apa).Z();a(f.v4).to(p.$qa).Z();a(f.fS).to(p.Dra).Z();a(h.Y2).to(u.bpa).Z();a(C.s3).to(z.Cpa).Z();});},function(d,b,a){var c,g,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.sqa=void 0;c=a(0);g=a(1);m=a(239);n=a(438);d=function(){var b;function a(a){this.lyb=a;}a.prototype.Hib=function(){var a,b;a={CM:m.Qv.m2a};b=this.lyb.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var c;a.CM=b.value?m.Qv.hva:m.Qv.vna;if(a.CM===m.Qv.vna){c=function(){b.value&&(a.CM=m.Qv.hva);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.CM=m.Qv.Error;});return a;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.L6))],b);}();b.sqa=d;},function(d,b,a){var c,g,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.Qsa=void 0;c=a(0);g=a(440);m=a(8);n=a(1);d=function(){var b;function a(a,b){this.ILa=a;this.log=b.xb("MediaCapabilities");}a.prototype.hda=function(a){var b,c,d;b=this;c={xc:void 0};if(this.ILa.JLa){d={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,O:1E3*a.O,FX:"24"};this.ILa.hda(d).then(function(a){return c.xc=Object.assign(Object.assign({},a),d);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};b=a;return b=c.__decorate([n.N(),c.__param(0,n.l(g.k5)),c.__param(1,n.l(m.Ab))],b);}();b.Qsa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Psa=void 0;c=a(0);g=a(1);m=a(29);d=function(){var b;function a(a){this.navigator=a;this.JLa="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}a.prototype.hda=function(a){return this.JLa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.O,framerate:a.FX}}).then(function(a){return{rVb:a.supported,ODb:a.smooth,Rxb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.fw))],b);}();b.Psa=d;},function(d,b,a){var g,m,n;function c(a,b,c,d,k){a=g.Al.call(this,a,b,c)||this;a.De=d;a.navigator=k;a.type=m.Vj.Sva;a.gUa={};a.gUa=a.$eb();return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Uva=void 0;g=a(128);m=a(33);n=a(61);ca(c,g.Al);c.prototype.bN=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.De.vi.toString()});};c.prototype.nX=function(a){var b,c;b=this;c=a.map(function(a){for(var c=S(b.qq),d=c.next();!d.done;d=c.next())if(d.value.test(a))return Promise.resolve(!0);c=S(b.sl);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return Promise.resolve(!1);return b.Wha(a);});return Promise.all(c).then(function(b){return a.filter(function(a,c){return b[c];});});};c.prototype.Wha=function(a){var b;try{b=this.gUa[a];return!b||this.Xpb(b)&&!this.Ypb()?Promise.resolve(!1):this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:b}).then(function(a){return!0===a.supported&&!0===a.powerEfficient;})["catch"](function(){return!1;});}catch(h){return Promise.resolve(!1);}};c.prototype.$eb=function(){var a,b,c,d,g,k,m,t,r,u,N,C,z;a={};b={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};c={contentType:'video/mp4; codecs="dvh1.05.04"'};d={width:1920,height:1080};g={width:3840,height:2160};k=Object.assign(Object.assign({},d),{bitrate:3E7,framerate:30});m=Object.assign(Object.assign({},d),{bitrate:5E7,framerate:60});d=Object.assign(Object.assign({},g),{bitrate:1E8,framerate:30});g=Object.assign(Object.assign({},g),{bitrate:16E7,framerate:60});t={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};r={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),k);a[n.X.JR]=u;a[n.X.KR]=u;a[n.X.V3]=u;u=Object.assign(Object.assign({},b),k);N=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),m);C=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),d);z=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),g);a[n.X.RR]=u;a[n.X.TR]=u;a[n.X.VR]=u;a[n.X.XR]=N;a[n.X.gD]=C;a[n.X.hD]=z;a[n.X.SR]=u;a[n.X.UR]=u;a[n.X.WR]=u;a[n.X.YR]=N;a[n.X.ZR]=C;a[n.X.$R]=z;u=Object.assign(Object.assign(Object.assign({},b),k),t);N=Object.assign(Object.assign(Object.assign({},b),m),t);C=Object.assign(Object.assign(Object.assign({},b),d),t);b=Object.assign(Object.assign(Object.assign({},b),g),t);a[n.X.XI]=u;a[n.X.YI]=u;a[n.X.fD]=u;a[n.X.ZI]=N;a[n.X.MR]=C;a[n.X.NR]=b;k=Object.assign(Object.assign(Object.assign({},c),k),r);m=Object.assign(Object.assign(Object.assign({},c),m),r);d=Object.assign(Object.assign(Object.assign({},c),d),r);c=Object.assign(Object.assign(Object.assign({},c),g),r);a[n.X.KI]=k;a[n.X.LI]=k;a[n.X.VC]=k;a[n.X.MI]=m;a[n.X.NI]=d;a[n.X.tR]=c;return a;};c.prototype.Xpb=function(a){return!!a.colorGamut||!!a.hdrMetadataType||!!a.transferFunction;};c.prototype.Ypb=function(){return M.matchMedia("(dynamic-range: high)").matches;};c.prototype.bI=function(){return this.config().Fca?this.Wha(n.X.VC):Promise.resolve(!1);};c.prototype.cI=function(){return this.config().Fca?this.Wha(n.X.fD):Promise.resolve(!1);};b.Uva=c;},function(d,b,a){var g,m,n;function c(a,b,c,d,k,n){a=g.Al.call(this,a,b,c)||this;a.ml=d;a.Tr=k;a.Ia=n;a.type=m.Vj.V2;a.log=a.Tr.xb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Noa=void 0;g=a(128);m=a(33);n=a(3);ca(c,g.Al);c.prototype.Bs=function(a){switch(a){case m.Yh.Oq:return this.VEb;default:return Promise.resolve(!1);}};c.prototype.$F=function(){var a;a=this;return this.Bs(m.Yh.Oq).then(function(a){return a?m.Yh.Oq:void 0;}).then(function(b){return a.cM(b);});};c.prototype.r$=function(a){return this.pm=a;};c.prototype.yQ=function(){var a;if(this.pm){a=this.PIa&&this.QIa&&this.PIa.zb(this.QIa).ca(n.ha);this.pm.itshdcp=JSON.stringify({hdcp1:this.Au,time1:a});}};na.Object.defineProperties(c.prototype,{nl:{configurable:!0,enumerable:!0,get:function(){this.LLa||(this.LLa=this.ml.WF().then(function(a){return a.createMediaKeys();}));return this.LLa;}},VEb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.dma||(this.config().whb?this.dma=this.nl.then(function(b){if(b&&b.getStatusForPolicy)return a.QIa=a.Ia.bf,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.PIa=a.Ia.bf;a.Au=b;a.log.trace("hdcpStatus: "+a.Au);return"usable"===a.Au;});a.Au="not available";a.log.trace("hdcpStatus: "+a.Au);return!1;})["catch"](function(b){a.Au="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.Au},b);return!1;}).then(function(b){a.yQ();return b;}):(this.Au="not enabled",this.log.trace("hdcpStatus: "+this.Au),this.yQ(),this.dma=Promise.resolve(!1)));return this.dma;}}});b.Noa=c;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,K,E,G,N,C,z,P,F;Object.defineProperty(b,"__esModule",{value:!0});b.Dsa=void 0;c=a(61);g=a(128);m=a(33);d=a(96);n=a(136);q=a(132);l=a(3);h=a(250);f=a(129);p=a(240);r="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");u="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");K="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");E="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");G="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");N="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");C=["hdcp=1"];z=["hdcp=2"];P=new d.kw();F=new h.YQ();a=function(){function a(a,b,c,d,f,h,k){a=g.Al.call(this,a,b,c)||this;a.ta=d;a.Ia=f;a.Tr=h;a.oc=k;a.type=m.Vj.rz;a.II="hvc1";a.iWa="avc1";a.iOa={};a.log=a.Tr.xb("MicrosoftVideoCapabilityDetector");a.YDb();a.bQ&&a.config().Jtb?a.Xgb=a.veb():(a.Xgb=Promise.resolve(""),a.config().Ltb?a.Aeb():a.config().Ktb&&a.zeb());return a;}ca(a,g.Al);a.prototype.TF=function(a){return a===m.sd.Ns&&this.config().kHb?f.Ed.VI:g.Al.prototype.TF.call(this,a);};a.prototype.Bs=function(a){switch(a){case m.Yh.Oq:return this.nSa();case m.Yh.kz:return this.UO;default:return Promise.resolve(!1);}};a.prototype.VF=function(){return this.bQ?this.Oob?this.nSa().then(function(a){return Promise.resolve(a?n.ob.Fd:n.ob.zJ);}):Promise.resolve(n.ob.zJ):this.WEb?Promise.resolve(n.ob.zJ):Promise.resolve(n.ob.Uq);};a.prototype.cI=function(){return Promise.resolve(this.UEb());};a.prototype.cQ=function(){return this.bQ&&this.pSa()?this.UO:Promise.resolve(!1);};a.prototype.bI=function(){return Promise.resolve(this.TEb());};a.prototype.r$=function(a){this.pm=a;Object.assign(this.pm,this.iOa);a.itshwdrm=this.bQ;a.itsqhd=this.oSa();a.itshevc=this.pSa();a.itshdr=this.cI();a.itsdv=this.bI();return a;};a.prototype.eL=function(a,b){(this.pm?this.pm:this.iOa)[a]=b;};a.prototype.$F=function(){var a;a=this;return this.Bs(m.Yh.kz).then(function(b){return b?a.cM(m.Yh.kz):a.Bs(m.Yh.Oq).then(function(b){return b?a.cM(m.Yh.Oq):a.cM(void 0);});});};a.prototype.bN=function(){return this.VF().then(function(a){return a===n.ob.Fd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};a.prototype.nX=function(a){var b;b=this;a=a.filter(function(a){var c,f;for(var c=S(b.qq),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=S(b.sl);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.Lja[a];c=[];f=n.ob.Uq;if(a)return b.is.gn(a)?d=a:(c=a.zd,d=a.Ne,f=a.Re),b.dx(f,d,c);});return Promise.resolve(a);};a.prototype.DA=function(){var a;a=g.Al.prototype.DA.call(this);a[c.X.NJ]="vp09.00.11.08.02";a[c.X.OJ]="vp09.00.11.08.02";a[c.X.qT]="vp09.00.11.08.02";a[c.X.RR]={Ne:"hev1.2.6.L90.B0",Re:n.ob.Fd,zd:r};a[c.X.TR]={Ne:"hev1.2.6.L93.B0",Re:n.ob.Fd,zd:r};a[c.X.VR]={Ne:"hev1.2.6.L120.B0",Re:n.ob.Fd,zd:r};a[c.X.XR]={Ne:"hev1.2.6.L123.B0",Re:n.ob.Fd,zd:r};a[c.X.gD]={Ne:"hev1.2.6.L150.B0",Re:n.ob.Fd,zd:r};a[c.X.hD]={Ne:"hev1.2.6.L153.B0",Re:n.ob.Fd,zd:r};a[c.X.SR]={Ne:"hev1.2.6.L90.B0",Re:n.ob.Fd,zd:r};a[c.X.UR]={Ne:"hev1.2.6.L93.B0",Re:n.ob.Fd,zd:r};a[c.X.WR]={Ne:"hev1.2.6.L120.B0",Re:n.ob.Fd,zd:r};a[c.X.YR]={Ne:"hev1.2.6.L123.B0",Re:n.ob.Fd,zd:r};a[c.X.ZR]={Ne:"hev1.2.6.L150.B0",Re:n.ob.Fd,zd:r};a[c.X.$R]={Ne:"hev1.2.6.L153.B0",Re:n.ob.Fd,zd:r};a[c.X.XI]={Ne:"hev1.2.6.L90.B0",Re:n.ob.Fd,zd:K};a[c.X.YI]={Ne:"hev1.2.6.L93.B0",Re:n.ob.Fd,zd:K};a[c.X.fD]={Ne:"hev1.2.6.L120.B0",Re:n.ob.Fd,zd:K};a[c.X.ZI]={Ne:"hev1.2.6.L123.B0",Re:n.ob.Fd,zd:E};a[c.X.MR]={Ne:"hev1.2.6.L150.B0",Re:n.ob.Fd,zd:E};a[c.X.NR]={Ne:"hev1.2.6.L153.B0",Re:n.ob.Fd,zd:E};a[c.X.KI]={Ne:"hev1.2.6.L90.B0",Re:n.ob.Fd,zd:G};a[c.X.LI]={Ne:"hev1.2.6.L93.B0",Re:n.ob.Fd,zd:G};a[c.X.VC]={Ne:"hev1.2.6.L120.B0",Re:n.ob.Fd,zd:G};a[c.X.MI]={Ne:"hev1.2.6.L123.B0",Re:n.ob.Fd,zd:N};a[c.X.NI]={Ne:"hev1.2.6.L150.B0",Re:n.ob.Fd,zd:N};a[c.X.tR]={Ne:"hev1.2.6.L153.B0",Re:n.ob.Fd,zd:N};return a;};a.prototype.dx=function(a,b,c){a=p.$v.kW(a,b,c);return this.Yt(a);};a.prototype.oSa=function(){return this.dx(n.ob.Fd,this.II,r);};a.prototype.UEb=function(){return this.dx(n.ob.Fd,this.II,K);};a.prototype.TEb=function(){return this.dx(n.ob.Fd,this.II,G);};a.prototype.pSa=function(){return this.dx(n.ob.Fd,this.II,u);};a.prototype.nSa=function(){var a;a=this;return this.UO.then(function(b){return b?Promise.resolve(b):a.SOa;});};a.prototype.yQ=function(){this.pm&&(this.pm.itshdcp=JSON.stringify({hdcp1:this.NIa,time1:this.HSa-this.RRa,hdcp2:this.OIa,time2:this.ISa-this.SRa}));};a.prototype.YDb=function(){var a;a=this;this.bQ?(this.tja=new q.Pm(),this.uja=new q.Pm(),this.SOa=q.lb.from(this.tja).oQ().then(function(a){return"probably"===a;}),this.UO=q.lb.from(this.uja).oQ().then(function(a){return"probably"===a;}),this.wRa(this.uja,this.config().Ntb),this.uOa(this.ylb.bind(this),this.uja),this.UO.then(function(b){b||(a.wRa(a.tja,a.config().Mtb),a.uOa(a.xlb.bind(a),a.tja));})):(this.SOa=Promise.resolve(!0),this.UO=Promise.resolve(!1));};a.prototype.uOa=function(a,b){q.lb.Dv(0,this.config().Otb).map(function(){return a();}).SP(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).kQ(q.lb.from(b)).oQ();};a.prototype.wRa=function(a,b){this.ta.rh(l.Gb(b),function(){a.next("timeout");a.complete();});};a.prototype.xlb=function(){var a;a=p.$v.kW(n.ob.zJ,this.iWa,C).split("|");this.NIa=p.$v.cma(a[0],a[1]);this.HSa=this.Ia.bf.ca(l.ha);this.RRa=this.RRa||this.HSa;this.yQ();return this.NIa;};a.prototype.ylb=function(){var a;a=p.$v.kW(n.ob.Fd,this.II,z).split("|");this.OIa=p.$v.cma(a[0],a[1]);this.ISa=this.Ia.bf.ca(l.ha);this.SRa=this.SRa||this.ISa;this.yQ();return this.OIa;};a.prototype.veb=function(){var a;a=this;return this.vba(n.ob.Fd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.eL("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};a.prototype.zeb=function(){var a;a=this;this.vba(n.ob.Uq,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.oc.decode(b));a.eL("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.eL("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};a.prototype.Aeb=function(){var a;a=this;this.vba(n.ob.Uq,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.oc.decode(b));a.eL("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.eL("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};a.prototype.vba=function(a,b){var c;c=this;return new Promise(function(d,f){var n,q,t;function g(a){try{m(a.target,"Unexpectedly got an mskeyerror event: 0x"+F.KM(a&&a.target&&a.target.error&&a.target.error.uVb||0,4));}catch(Fa){m(a.target,Fa);}}function h(a){m(a.target,"Unexpectedly got an mskeyadded event");}function k(a){var b;try{b=c.dda(a.message,"PlayReadyKeyMessage","Challenge");p(a.target);d(b);}catch(ka){m(a.target,ka);}}function m(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});p(a);f(d);}function p(a){a.removeEventListener("mskeymessage",k);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",g);n&&n.cancel();}try{q=new Uint8Array(P.vEb(b));t=new M.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),q);t.addEventListener("mskeymessage",k);t.addEventListener("mskeyadded",h);t.addEventListener("mskeyerror",g);n=c.ta.rh(l.Gb(1E3),function(){m(t,Error("timeout"));});}catch(Ga){f(Ga);}});};a.prototype.dda=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return;g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}if(c=c.match(new RegExp(f)))return c[1];};na.Object.defineProperties(a.prototype,{Oob:{configurable:!0,enumerable:!0,get:function(){return this.config().vhb&&(!this.config().Ptb||this.oSa());}},bQ:{configurable:!0,enumerable:!0,get:function(){try{return this.Yt(n.ob.Fd+'|video/mp4;codecs="'+f.Ed.dD+'"');}catch(A){return!1;}}},WEb:{configurable:!0,enumerable:!0,get:function(){try{return this.Yt(n.ob.zJ);}catch(A){return!1;}}}});a.lI='video/mp4;codecs="{0},mp4a";';return a;}();b.Dsa=a;},function(d,b,a){var g,m,n,q,l;function c(a,b,c,d){a=q.vR.call(this,a,b)||this;a.is=c;a.platform=d;a.type=g.Mv.rz;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.eta=void 0;g=a(33);m=a(61);n=a(136);q=a(441);l=a(240);ca(c,q.vR);c.prototype.aQ=function(){return Promise.resolve(this.config().wM&&this.dx(n.ob.Uq,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.DA=function(){var a;a={};a[m.Xh.OR]="mp4a.40.2";a[m.Xh.d4]="mp4a.40.5";a[m.Xh.PR]="mp4a.40.2";"browser"===this.platform.pgb?this.config().wM&&(a[m.Xh.rR]={Ne:"avc1",Re:n.ob.Uq,zd:["audio-endpoint-codec=DD+JOC"]},a[m.Xh.sR]={Ne:"avc1",Re:n.ob.Uq,zd:["audio-endpoint-codec=DD+JOC"]}):(this.config().Dca&&(a[m.Xh.rR]="ec-3"),this.config().Cca&&(a[m.Xh.c3]="ec-3"),this.config().wM&&(a[m.Xh.sR]={Ne:"avc1",Re:n.ob.Uq,zd:["audio-endpoint-codec=DD+JOC"]}));return a;};c.prototype.nX=function(a){var b;b=this;a=a.filter(function(a){var c,f;for(var c=S(b.qq),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=S(b.sl);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.Lja[a];c=[];f=n.ob.Uq;if(a)return b.is.gn(a)?d=a:(c=a.zd,d=a.Ne,f=a.Re),b.dx(f,d,c);});return Promise.resolve(a);};c.prototype.dx=function(a,b,c){a=l.$v.kW(a,b,c);return this.Yt(a);};b.eta=c;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,K,E,G,N,C,z,P,F,R,A;Object.defineProperty(b,"__esModule",{value:!0});b.Foa=void 0;c=a(0);g=a(1);m=a(33);n=a(242);q=a(172);l=a(241);h=a(971);f=a(970);p=a(128);r=a(441);u=a(35);K=a(39);E=a(23);G=a(969);N=a(99);C=a(8);z=a(968);P=a(53);F=a(30);R=a(42);A=a(29);d=function(){var b;function a(a,b,c,d,f,g,h,k,l,m,p,n){this.bKa=a;this.cast=b;this.config=c;this.ta=d;this.Ia=f;this.is=g;this.ml=h;this.Tr=k;this.De=l;this.platform=m;this.oc=p;this.navigator=n;}a.prototype.eeb=function(a){var b;b=this.bKa.NDa();switch(a){case m.Mv.rz:return new h.eta(this.config,b,this.is,this.platform);default:return new r.vR(this.config,b);}};a.prototype.afb=function(a){var b;b=this.bKa.NDa();switch(a){case m.Vj.S2:a=new l.T2(this.config,b,this.is,this.cast);break;case m.Vj.V2:a=new G.Noa(this.config,b,this.is,this.ml,this.Tr,this.Ia);break;case m.Vj.rz:a=new f.Dsa(this.config,b,this.is,this.ta,this.Ia,this.Tr,this.oc);break;case m.Vj.Sva:a=new z.Uva(this.config,b,this.is,this.De,this.navigator);break;default:a=new p.Al(this.config,b,this.is);}return a;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.F4)),c.__param(1,g.l(l.nR)),c.__param(2,g.l(q.OI)),c.__param(3,g.l(u.Lg)),c.__param(4,g.l(K.Ai)),c.__param(5,g.l(E.Ie)),c.__param(6,g.l(N.Ts)),c.__param(7,g.l(C.Ab)),c.__param(8,g.l(P.Bl)),c.__param(9,g.l(F.Uj)),c.__param(10,g.l(R.$i)),c.__param(11,g.l(A.fw))],b);}();b.Foa=d;},function(d,b,a){var c,g,m,n,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Ira=void 0;c=a(0);g=a(1);m=a(242);n=a(172);q=a(33);l=a(241);h=a(240);d=function(){var b;function a(a,b,c){this.config=a;this.nEa=b;this.cast=c;}a.prototype.NDa=function(){switch(this.config().g2){case q.Vj.S2:return l.T2.rba(this.nEa,this.cast);case q.Vj.rz:return h.$v.rba(this.config);default:return this.nEa;}};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.OI)),c.__param(1,g.l(m.r6)),c.__param(2,g.l(l.nR))],b);}();b.Ira=d;},function(d,b,a){var c,g,m,n,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.lwa=void 0;c=a(0);g=a(33);m=a(1);n=a(129);q=a(23);l=a(466);h=a(444);f=a(10);d=function(){var b,d;function a(a,b,c){this.pM=a;this.Ga=b;this.hSa=c;this.V7a="video/mp4;codecs={0}";this.U2a="audio/mp4;codecs={0}";a=this.pM.TF(g.sd.Ns);this.U7a=n.Ed.SDa(a);}a.prototype.eM=function(a){a=this.pM.Alb(a);a=this.Ga.IA(a)?a:g.sd.EJ;return this.hSa.format(this.V7a,this.U7a[a]);};a.prototype.$L=function(a){if(0===a.length)return this.hSa.format(this.U2a,n.Ed.PQ);a=h.B2[a[0].Nf];return a===b.VUa?f.Zv:a===b.WUa?f.xsa:f.wsa;};d=b=a;d.VUa="AAC";d.WUa="XHEAAC";return d=b=c.__decorate([m.N(),c.__param(0,m.l(g.wR)),c.__param(1,m.l(q.Ie)),c.__param(2,m.l(l.l7))],d);}();b.lwa=d;},function(d,b,a){var c,g,m,n,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.wpa=void 0;c=a(0);g=a(33);m=a(172);n=a(1);q=a(61);l=a(446);h=a(445);d=function(){var b;function a(a,b,c){this.config=a;this.ACa=b;this.mxb=c;this.Fyb=this.Seb();}a.prototype.inb=function(){return this.AGa().iIa();};a.prototype.jnb=function(){return this.Mr().iIa();};a.prototype.AGa=function(){this.U$&&this.U$.type==this.config().V$||(this.U$=this.ACa.eeb(this.config().V$));return this.U$;};a.prototype.Mr=function(){this.f2&&this.f2.type==this.config().g2||(this.f2=this.ACa.afb(this.config().g2),this.f2.r$(this.mxb.olb()));return this.f2;};a.prototype.Alb=function(a){var d;if(!a||!a.length)return g.sd.LR;a=this.ajb(a);for(var b=[g.sd.EJ,g.sd.LR,g.sd.oT,g.sd.Ps,g.sd.Ns,g.sd.PC,g.sd.pw,g.sd.yi],c=b.length;c--;){d=b[c];if((0,this.Fyb[d])(a))return d;}return g.sd.EJ;};a.prototype.Bs=function(a){return this.Mr().Bs(a);};a.prototype.Yt=function(a){return this.Mr().Yt(a);};a.prototype.VF=function(){return this.Mr().VF();};a.prototype.cI=function(){return this.Mr().cI();};a.prototype.aQ=function(){return this.AGa().aQ();};a.prototype.bI=function(){return this.Mr().bI();};a.prototype.cQ=function(){return this.Mr().cQ();};a.prototype.TF=function(a){return this.Mr().TF(a);};a.prototype.$F=function(){return this.Mr().$F();};a.prototype.bN=function(){return this.Mr().bN();};a.prototype.ajb=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.Nf]="";});return Object.keys(b);};a.prototype.Seb=function(){var a;a={};a[g.sd.yi]=function(a){return a.some(function(a){return-1<a.indexOf("av1");});};a[g.sd.PC]=function(a){return a.some(function(a){return-1<a.indexOf("hpl");});};a[g.sd.pw]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[g.sd.Ns]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[g.sd.Ps]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[g.sd.oT]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[g.sd.LR]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=S(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[q.X.eD]);a[g.sd.EJ]=function(){return!0;};return a;};b=a;return b=c.__decorate([n.N(),c.__param(0,n.l(m.OI)),c.__param(1,n.l(h.R2)),c.__param(2,n.l(l.O3))],b);}();b.wpa=d;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,K,E,G,N,C,z,P,F,R,A;Object.defineProperty(b,"__esModule",{value:!0});b.pM=void 0;d=a(1);c=a(33);g=a(15);m=a(975);n=a(172);q=a(111);l=a(974);h=a(242);f=a(973);p=a(446);r=a(445);u=a(972);K=a(241);E=a(9);G=a(440);N=a(967);C=a(439);z=a(966);P=a(239);F=a(965);R=a(438);A=a(29);b.pM=new d.Dc(function(a){a(q.Cz).to(l.lwa).Z();a(c.wR).to(m.wpa).Z();a(h.F4).to(f.Ira).Z();a(r.R2).to(u.Foa).Z();a(h.r6).Th({isTypeSupported:E.tD&&E.tD.isTypeSupported});a(K.nR).Th("undefined"!==typeof cast?cast:null);a(p.O3).Ly(function(a){return{olb:function(){return a.jb.get(A.AD);}};});a(n.OI).Ly(function(a){return a.jb.get(g.dd);});a(G.k5).to(N.Psa).Z();a(C.j5).to(z.Qsa).Z();a(P.N3).to(F.sqa).Z();a(R.L6).Th(M);});},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Pwa=void 0;c=a(0);g=a(1);d=function(){function a(a){this.Qgb=void 0===a?10:a;}return a=c.__decorate([g.N()],a);}();b.Pwa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Loa=void 0;c=a(0);g=a(1);m=a(243);d=function(){var b;function a(a){this.NFb=a;this.G1={};}a.prototype.Fkb=function(){var a,b,c;a=[];for(b in this.G1){c=this.G1[b];a.push({ex:Number(b),BC:c.dm().BC,pca:c.dm().pca});}return a;};a.prototype.oV=function(a){var b,c;b=a.ex;c=this.G1[b];c||(c=this.NFb(),this.G1[b]=c);c.oV(a);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.lT))],b);}();b.Loa=d;},function(d,b,a){var c,g,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.Qwa=void 0;c=a(0);g=a(1);m=a(48);n=a(3);q=a(448);d=function(){var b;function a(a){this.config=a;this.Jla=m.Dd;this.RH=[];}a.prototype.dm=function(){var b;for(var a;0<this.RH.length;)a=this.RH.shift(),this.IAa(a);a=void 0===this.sM||void 0===this.LA?n.Dd:this.LA.zb(this.sM);b=a.eKa()?0:this.Jla.ca(m.Wy)/a.ca(n.ha);return{BC:Math.floor(b),pca:a.ca(n.ha)};};a.prototype.oV=function(a){this.Jla=this.Jla.add(a.size);this.RH.push(a.Pgb);for(this.RH.sort(function(a,b){return a.start.Tl(b.start);});this.RH.length>this.config.Qgb;)a=this.RH.shift(),this.IAa(a);};a.prototype.IAa=function(a){void 0===this.sM&&(this.sM=a.start);void 0!==this.LA&&0>this.LA.Tl(a.start)&&(this.sM=this.sM.add(a.start.zb(this.LA)));if(void 0===this.LA||0>this.LA.Tl(a.end))this.LA=a.end;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.p7))],b);}();b.Qwa=d;},function(d,b,a){var c,g,m,n,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Ky=void 0;d=a(1);c=a(979);g=a(978);m=a(977);n=a(447);q=a(448);l=a(243);b.Ky=new d.Dc(function(a){a(l.q7).to(c.Qwa);a(n.U2).to(g.Loa).Z();a(q.p7).Th(new m.Pwa());a(l.lT).lf(function(a){return function(){return a.jb.get(l.q7);};});});},function(d,b,a){var g,m,n,q,l,h;function c(a,b,c,d,g,h,k,l,n,q,t,r,u){var f;f=this;this.Tc=a;this.Ga=b;this.Jb=d;this.mq=h;this.RL=k;this.Ujb=l;this.config=q;this.he=r;this.ia=u;this.j=t.create(u.G,u.xk,n,u.fb,u.id);this.j.background=!0;this.j.va=u.va;this.log=c.xb("VideoPlayer",this.j);this.cOa=[];this.ended=!1;this.NQ();this.j.state.addListener(function(a){a.newValue===m.mb.qd&&f.Wd(m.ub.sga,{movieId:u.G});});this.j.Ua.Oi&&(this.TE=g.geb(this,this.j,this.he),this.j.addEventListener(m.U.T0,function(a){f.Wd(m.ub.RBb,{segmentId:a.segmentId});}));}Object.defineProperty(b,"__esModule",{value:!0});b.Hra=void 0;g=a(2);m=a(12);n=a(3);q=a(9);l=a(78);h=a(17);c.prototype.isReady=function(){return this.j.state.value===m.mb.qd;};c.prototype.amb=function(){return this.j.G;};c.prototype.rY=function(){return this.j.ga;};c.prototype.xmb=function(){return this.j.YOa;};c.prototype.zn=function(){return this.j.Ff;};c.prototype.Kr=function(){return this.j;};c.prototype.Rx=function(){return this.j.nq.value;};c.prototype.hqb=function(){return this.j.paused.value;};c.prototype.Tpb=function(){return this.ended;};c.prototype.kk=function(){var a;a=this.j.saa.value;return a?{networkStalled:!!a.p1,stalled:!!a.p1,progress:a.Oh,progressRollback:!!a.Jyb}:null;};c.prototype.getError=function(){var a;a=this.j.Mi;return a?a.wma():null;};c.prototype.wkb=function(){var a;a=(this.SX()||0)+this.j.FGa();return Math.min(a,this.PGa());};c.prototype.SX=function(){return this.j.eB();};c.prototype.PGa=function(){return this.j.yr.ca(n.ha);};c.prototype.Gnb=function(){return this.j.rI?{width:this.j.rI.width,height:this.j.rI.height}:null;};c.prototype.fea=function(){var g;if(this.j.Hm){for(var a,b=0;b<this.j.Hm.length;b++)for(var c=this.j.Hm[b],d=0;d<c.dc.length;d++){g=c.dc[d];this.Ga.jh(g.Bba)&&this.Ga.jh(g.oW)&&this.Ga.jh(g.nW)&&this.Ga.jh(g.mW)&&0<g.oW&&(g=g.mW/g.nW,a=this.Ga.jh(a)?Math.min(a,g):g);}return a;}};c.prototype.Mkb=function(){return this.j.fea();};c.prototype.Tjb=function(a){var b,c;c=null===(b=this.j.Ua)||void 0===b?void 0:b.pl;return c?this.Ujb.cf(this.log,Object.assign({packageId:c},a)):Promise.reject("Unknown packageId");};c.prototype.Wkb=function(){return this.Xkb(this.j.fca);};c.prototype.gkb=function(){var a;a=this;return this.j.nn?this.j.nn.map(function(b){return a.fB(b);}).filter(function(a){return null!==a;}):[];};c.prototype.lIa=function(a){var b,c;b=this;c=a&&this.j.nn.find(function(c){return b.fB(c)===a;})||this.j.ed.value;return null===c?[]:c.Fk.map(function(a){return b.fB(a);}).filter(function(a){return null!==a;});};c.prototype.eqb=function(){return this.j.muted.value;};c.prototype.Inb=function(){return this.j.volume.value;};c.prototype.fkb=function(){return this.fB(this.j.ed.value);};c.prototype.kIa=function(){return this.fB(this.j.uc.value);};c.prototype.Kpb=function(){return!!this.j.background;};c.prototype.OCb=function(a){this.j.muted.set(!!a);};c.prototype.fDb=function(a){this.j.volume.set(this.$Ma(a,1));};c.prototype.TCb=function(a){this.j.playbackRate.set(this.$Ma(a,2));};c.prototype.SHa=function(){return this.j.playbackRate.value;};c.prototype.wCb=function(a){var b,c;b=this;c=this.j.nn.find(function(c){return b.fB(c)===a;});c?this.j.ed.set(c):this.log.error("Invalid setAudioTrack call");};c.prototype.mRa=function(a){var d;if(null!==this.j.ed.value){for(var b=this.j.ed.value.Fk,c=0;c<b.length;c++){d=b[c];if(!a&&null===d){this.j.uc.set(null);return;}if(this.fB(d)===a){this.log.info("Setting Timed Text, profile: "+d.profile);this.j.uc.set(d);return;}}this.log.error("Invalid setTimedTextTrack call");}};c.prototype.ZQa=function(a){this.j.background=a;};c.prototype.UP=function(){this.j.UP();};c.prototype.addEventListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.ov=function(){};c.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.j.load(function(b,c){try{a.Wd(m.ub.dsb,void 0,!0);b.va&&(b.va.Mf.rUa&&a.Wd(m.ub.eIb,b.va.Mf.rUa,!0),b.va.Mf.bu&&a.Wd(m.ub.QBb,{segmentMap:b.va.Mf.bu},!0));c({aa:!0});}catch(H){c({da:g.u.yh,nb:a.Tc.Ee(H)});}}));};c.prototype.close=function(a){var b;b=this;this.bDa||(this.bDa=new Promise(function(c){a?b.j.Sd(a,c):b.j.close(c);}));return this.bDa;};c.prototype.play=function(){this.j.bk?this.j.fireEvent(m.U.rQa):(this.load(),this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(m.U.$Ta)));};c.prototype.pause=function(){this.load();this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(m.U.zHb));};c.prototype.seek=function(a,b,c,d){this.j.Pi?this.j.Pi.seek(a,b,c,d):this.j.tA=a;};c.prototype.rxb=function(a){return this.TE?(this.log.trace("Playing a segment",a),this.TE.play(a)):Promise.resolve();};c.prototype.Zyb=function(a){return this.TE?(this.log.trace("Queueing a segment",a),this.TE.Bk(a)):Promise.resolve();};c.prototype.kp=function(a,b){return this.TE?(this.log.trace("Updating next segment weights",a,b),this.TE.kp(a,b)):Promise.resolve();};c.prototype.sQ=function(){this.j.sQ();};c.prototype.mY=function(){var a;a=this.j.On.mY();return{bounds:a.AL,margins:a.Oo,size:a.size,visibility:a.visibility};};c.prototype.NP=function(a){var b,c,d;b=a.bounds;c=a.margins;d=a.size;a=a.visibility;this.j.nQ&&(b&&this.j.nQ.ula(b),c&&this.j.nQ.vla(c),"boolean"===typeof a&&this.j.nQ.wla(a));this.j.On&&d&&this.j.On.$Cb(d);};c.prototype.pRa=function(a){this.j.Gk=a;};c.prototype.vnb=function(a){return this.j.Ev&&this.j.Ev.vlb(a)||null;};c.prototype.Zjb=function(){return this.Tc.FB({playerver:this.config.version,jssid:this.config.Nqb,groupName:this.config.wlb(),xid:this.j.ga,pbi:this.j.index},this.config.nxb,{prefix:"pi_"});};c.prototype.kpb=function(a){this.j.Sd(this.he(g.J.cYa,g.u.Ok,a));};c.prototype.Orb=function(a,b,c,d){if(!this.Ga.kBa(a))throw Error("invalid url");this.cOa.push({url:a,name:b,o$a:c,options:d});this.POa();};c.prototype.bIa=function(){var a,b,c,d,g,k,l,m;a={};b=this.j.VRa;try{if(this.j.Mi&&(a.errorCode=this.j.Mi.IW,a.errorType=b?"endplay":"startplay"),a.playdelay=h.Zl(this.j.yaa()),a.xid=this.j.ga,this.j.va&&this.Ga.gn(this.j.va.Mf.pl)&&(a.packageId=Number(this.j.va.Mf.pl)),a.auth=this.j.ikb(),b){a.totaltime=this.j.qm?this.tu(this.j.qm.eN()):0;a.abrdel=this.j.qm?this.j.qm.BGa():0;c=this.j.Pi;d=c?c.cB():null;this.Ga.jh(d)&&(a.totdfr=d);d=c?c.SM():null;this.Ga.jh(d)&&(a.totcfr=d);g=c?c.Glb():null;g&&(a.rbfrs_decoder=g.Jfb,a.rbfrs_network=g.Jub);a.rbfrs_delay=this.j.qm?this.j.qm.iga:0;a.init_vbr=this.j.$Y;k=this.cN();this.Ga.IA(k)&&(a.pdltime=k);l=this.j.gf.value;m=l&&l.stream;m&&(a.vbr=m.O,a.vdlid=m.gd);a.bufferedTime=this.j.FGa();}}catch(C){this.log.error("error capturing session summary",C);}return a;};c.prototype.AM=function(a){return this.Ga.jh(this.j.$b.value)?(a=Object.assign(Object.assign({},this.mq.create(this.j)),{action:a}),this.RL(l.Cl.AM).Co(this.log,this.j.va.Aj,a).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.ad,errorExternalCode:a.mh,errorData:a.data,errorDetails:a.sF};})):Promise.resolve({success:!1});};c.prototype.Xkb=function(a){return{register:a.register.bind(a),notifyUpdated:a.UMa.bind(a),getModel:a.Zlb.bind(a),getGroups:a.ZX.bind(a),addEventListener:a.addEventListener.bind(a),removeEventListener:a.removeEventListener.bind(a),getTime:a.getTime.bind(a)};};c.prototype.fB=function(a){var b;if(null!==a){b=a.Pyb=a.Pyb||{trackId:a.ab,bcp47:a.$k,displayName:a.displayName,trackType:a.Gm,channels:a.uo};a.Dn&&(b.isImageBased=!0);this.jqb(a)&&(b.isNative=a.isNative);this.kqb(a)&&(b.isNoneTrack=a.pZ(),b.isForcedNarrative=a.kZ());return b;}return null;};c.prototype.jqb=function(a){return"undefined"!==typeof a.isNative;};c.prototype.kqb=function(a){return"undefined"!==typeof a.pZ&&"undefined"!==typeof a.kZ;};c.prototype.$Ma=function(a,b){return 0<=a?a<=b?a:b:0;};c.prototype.tu=function(a){return this.Ga.jh(a)?(a/1E3).toFixed(0):"";};c.prototype.Wd=function(a,b,c){b=b||{};b.target=this;this.Jb.Ub(a,b,!c);};c.prototype.NQ=function(){var a;a=this;this.j.addEventListener(m.U.mma,function(){a.Wd(m.ub.yo);});this.j.addEventListener(m.U.a_,function(){a.Wd(m.ub.kCa);});this.j.addEventListener(m.U.Zo,function(){a.Wd(m.ub.kCa);});this.j.addEventListener(m.U.kG,function(b){a.Wd(m.ub.kG,{errorCode:b});});this.j.addEventListener(m.U.$$,function(b){a.Wd(m.ub.p$a,b.j);});this.j.addEventListener(m.U.bk,function(b){a.Wd(m.ub.q$a,b);});this.j.nq.addListener(function(){a.Wd(m.ub.Jxb);});this.j.paused.addListener(function(){a.Wd(m.ub.Kwb);});this.j.muted.addListener(function(){a.Wd(m.ub.Bub);});this.j.volume.addListener(function(){a.Wd(m.ub.ZHb);});this.j.Nb.addListener(function(){a.ETa();});this.j.state.addListener(function(){a.ETa();});this.j.saa.addListener(function(b){a.$rb||a.j.state.value!=m.mb.qd||b.newValue||(a.$rb=!0,a.Wd(m.ub.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.bIa());}));a.Wd(m.ub.taa);});this.j.ed.addListener(function(b){a.Wd(m.ub.qL);b.oldValue&&b.newValue&&b.oldValue.Fk==b.newValue.Fk||a.Wd(m.ub.EC);setTimeout(function(){var b;if(null!==a.j.ed.value&&null!==a.j.uc.value){b=a.j.ed.value.Fk;0<=b.indexOf(a.j.uc.value)||(a.log.info("Changing timed text track to match audio track"),a.j.uc.set(b[0]));}},0);});this.j.uc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.ab==b.newValue.ab||a.Wd(m.ub.iI);});this.j.addEventListener(m.U.EC,function(){a.Wd(m.ub.EC);});this.j.addEventListener(m.U.qQ,function(){a.Wd(m.ub.qQ);});this.j.state.addListener(function(b){switch(b.newValue){case m.mb.qd:a.Wd(m.ub.hhb);a.Wd(m.ub.THb);a.Wd(m.ub.KBa);a.Wd(m.ub.EC);a.Wd(m.ub.csb);a.POa();a.jIb();break;case m.mb.CLOSING:a.j.Mi&&a.Wd(m.ub.error,a.j.Mi.wma());break;case m.mb.CLOSED:a.Wd(m.ub.closed),a.Jb.tg();}});};c.prototype.jIb=function(){var a;a=this;this.j.On.addEventListener("showsubtitle",function(b){a.Wd(m.ub.EDb,b,!0);});this.j.On.addEventListener("removesubtitle",function(b){a.Wd(m.ub.oAb,b,!0);});};c.prototype.POa=function(){if(this.j.state.value==m.mb.qd){for(var a,b,c;b=this.cOa.shift();)a=this.j.On.q$(b.url,b.name,b.options),b.o$a&&(c=a);c&&this.j.uc.set(c);}};c.prototype.ETa=function(){var a;a=this.j.state.value==m.mb.qd&&this.j.Nb.value==m.ib.Lq;this.ended!==a&&(this.ended=a,this.j.oo("Ended changed: "+a),(a||this.j.state.value===m.mb.CLOSING)&&this.Wd(m.ub.Thb));};c.prototype.cN=function(){var a,b;try{a=/playercore.*js/;b=q.Sq.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(y){}};b.Hra=c;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,K,E;Object.defineProperty(b,"__esModule",{value:!0});b.sxa=void 0;c=a(0);g=a(1);m=a(100);n=a(22);q=a(23);l=a(8);h=a(68);f=a(245);p=a(450);r=a(981);u=a(244);K=a(78);E=a(449);d=function(){var b;function a(a){this.Zc=a;}a.prototype.Meb=function(a,b,c,d){return new r.Hra(this.Zc.get(n.Ve),this.Zc.get(q.Ie),this.Zc.get(l.Ab),this.Zc.get(h.ER),this.Zc.get(f.fT),this.Zc.get(u.JS),this.Zc.get(K.DR),this.Zc.get(E.d6),this.Zc.get(p.r3),a,b,c,d);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.C4))],b);}();b.sxa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.hUa=void 0;d=a(1);c=a(452);g=a(982);b.hUa=new d.Dc(function(a){a(c.H7).to(g.sxa).Z();});},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Zwa=void 0;c=a(0);g=a(1);m=a(15);d=function(){var b;function a(a){this.config=a;}a.prototype.Eyb=function(a,b,c){var d,f;if(this.config().fCb){d=a.metrics;if(void 0!==d){f=a.playlistSegment||void 0;b.Pu.transition({isBranching:void 0===f||void 0,isPlaygraph:f,mid:b.G,xid:b.ga,srcxid:c.ga,srcmid:c.G,segment:a.segmentId,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard});}}};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.dd))],b);}();b.Zwa=d;},function(d,b,a){var g,m,n;function c(a,b,c,d,g){this.debug=a;this.version=b;this.Nqb=c;this.nxb=d;this.config=g;}Object.defineProperty(b,"__esModule",{value:!0});b.awa=void 0;g=a(0);m=a(1);n=a(3);c.prototype.wlb=function(){return this.config().Lx;};c.prototype.Zda=function(){return this.config().cCa;};c.prototype.Nea=function(){return n.Gb(this.config().Lxb);};c.prototype.AHa=function(){return this.config().Zrb;};c.prototype.DHa=function(){return this.config().Rsb;};d=function(){var b;function a(){}a.prototype.Cx=function(a,b,d,g,k){return new c(a,b,d,g,k);};b=a;return b=g.__decorate([m.N()],b);}();b.awa=d;},function(d,b,a){var n,q,l,h;function c(a,b,c,d,g,h,k){var f;f=this;this.W=b;this.j=c;this.ey=d;this.ta=g;this.lL=h;this.he=k;this.YE=function(){f.iy&&(f.iy.cancel(),f.iy=void 0);};this.log=a.xb("SegmentManager",this.j);this.Ta=new Map();this.j.Ua.Oi&&(this.j.addEventListener(l.U.T0,function(a){return f.Tia(a);}),this.j.addEventListener(l.U.closed,this.YE));}function g(a,b){this.id=a;this.Laa=b;}function m(a,b,c,d){return q.Cc.call(this,a,c,void 0,void 0,void 0,b,void 0,d)||this;}Object.defineProperty(b,"__esModule",{value:!0});b.noa=void 0;n=a(2);q=a(47);l=a(12);h=a(3);ca(m,q.Cc);m.prototype.toString=function(){return this.code+"-"+this.ad+" : "+this.message+"\n"+JSON.stringify(this.data);};g.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.kf,contentEndPts:this.ug};};na.Object.defineProperties(g.prototype,{kf:{configurable:!0,enumerable:!0,get:function(){return this.Laa.startTimeMs;}},ug:{configurable:!0,enumerable:!0,get:function(){return this.Laa.endTimeMs;}},x_:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Laa.next);}}});c.prototype.Tia=function(a){var b,c;b=this;if(0===this.Ta.size){c=this.j.RX();Object.keys(c).forEach(function(a){b.Ta.set(a,new g(a,c[a]));});}this.fa=this.Ta.get(a.segmentId);};c.prototype.play=function(a){this.uH&&(this.uH=void 0);this.YE();this.log.trace("Playing segment",a);return this.OJa(a)?this.qxb(a):this.Y_(a);};c.prototype.Bk=function(a){this.log.trace("Queueing segment",a);return this.OJa(a)?this.Yyb(a):this.$yb(a);};c.prototype.kp=function(a,b){var c,d;c=this;d=this.j.Eb;if(!d)return Promise.reject(this.getError(n.J.coa,"ASE session manager is not yet initialized",n.u.D2,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(f,g){try{d.R1(a,b);c.j.fireEvent(l.U.kp,{La:a,YGb:b});f();}catch(G){g(c.getError(n.J.coa,"updateNextSegmentWeights threw an exception",n.u.AVa,{segmentId:a,updates:b,error:G}));}});};c.prototype.OJa=function(a){return this.fa?void 0!==this.j.RX()[this.fa.id].next[a]:!1;};c.prototype.THa=function(){if(this.j.Eb)return this.j.Eb.dY().se;};c.prototype.Bmb=function(){if(this.j.Eb)return this.j.Eb.dY().id;};c.prototype.Hkb=function(a){if(this.j.Eb)return(a=this.j.Eb.QX(a))&&a.wc;};c.prototype.qxb=function(a){var b,c,d;b=this;c=this.j.Eb;if(!c)return Promise.reject(this.getError(n.J.EI,"ASE session manager is not yet initialized",n.u.D2,{id:a}));if(this.fa&&1===this.fa.x_.length)return this.Y_(a);if(!this.j.Pi)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(n.J.EI,"MediaPresenter is not initialized",n.u.xVa,{id:a}));d=this.Hkb(a);return void 0===d?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.Y_(a)):new Promise(function(f,g){var t,r,u,y,H,E;function k(){!u&&r&&t&&(E.cancel(),u=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:r,repositioned:t,completed:u}),c.cu(a,!1,!0)?(f(),u=!0):(u=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.Y_(a).then(f)["catch"](g)));}function m(){t=!0;b.log.trace("Player is repositioned",{id:a,stopped:r,repositioned:t,completed:u});b.j.removeEventListener(l.U.Zo,m);k();}function p(){b.j.removeEventListener(l.U.us,p);c.stop();}function q(){r=!0;b.log.trace("ASE is stopped",{id:a,stopped:r,repositioned:t,completed:u});c.removeEventListener("stop",q);k();}t=!1;r=!1;u=!1;y=b.Ta.get(a);H=y.kf+(d||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:H,currentSegment:b.fa,nextSegment:y},null,"  "));b.j.fireEvent(l.U.w_,{sg:b.fa&&b.fa.id,tO:a});c.addEventListener("stop",q);b.j.addEventListener(l.U.us,p);b.j.addEventListener(l.U.Zo,m);E=b.ta.rh(h.bh(10),function(){u=!0;E.cancel();g(b.getError(n.J.EI,"Timed out waiting for the player to be repositioned and ASE to be stopped",n.u.wVa,{id:a,stopped:r,repositioned:t,completed:u}));});b.W.seek(H,l.ze.zz);});};c.prototype.Y_=function(a){var b;b=this.Ta.get(a);return b?this.vP(b,n.J.EI):Promise.reject(this.getError(n.J.EI,"Unable to find the separated segment",n.u.boa,{id:a}));};c.prototype.Yyb=function(a){var b;b=this.j.Eb;if(!b)return Promise.reject(this.getError(n.J.RC,"ASE session manager is not yet initialized",n.u.D2,{id:a}));if(b.cu(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(n.J.RC,"ASE chooseNextSegment failed",n.u.uVa,{id:a}));};c.prototype.$yb=function(a){var b,c;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.G,srcsegment:this.Bmb()});if(this.uH)return Promise.reject(this.getError(n.J.RC,"Unable to queue a non-next segment because there is currently already a segment queued",n.u.zVa,{currentSegment:this.fa?this.fa.id:void 0,queuedSegment:this.uH.id,failedSegment:a}));if(!this.fa)return Promise.reject(this.getError(n.J.RC,"Unable to queue a non-next segment because there is no currently playing segment",n.u.vVa,{nextSegmentid:a}));c=this.Ta.get(a);if(!c)return Promise.reject(this.getError(n.J.RC,"Unable to find the separated segment",n.u.boa,{nextSegmentid:a,currentSegmentId:this.fa.id}));this.uH={id:a,ms:new Promise(function(d,f){var g;b.iy=b.ey.uba({Nea:function(){return h.Gb(100);}},function(){return b.W.j.$b.value||0;});g=b.THa()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:g});b.iy.observe(g,function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.fa.id,playerEndPts:b.THa(),pts:g});b.uH=void 0;b.YE();b.vP(c,n.J.RC).then(d)["catch"](f);});})};this.uH.ms["catch"](function(a){b.j.Sd(b.he(a.code,a));});return Promise.resolve();};c.prototype.vP=function(a,b){var c;c=this;return new Promise(function(d,f){try{c.W.seek(a.kf,l.ze.Xs);d();}catch(E){f(c.getError(b,"Seek threw an exception",n.u.yVa,{id:a.id,error:E}));}});};c.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new m(a,b,c,d);};b.noa=c;},function(d,b,a){var q,l,h,f;function c(a,b,c,d,g,h,k,m,n){var p;p=this;this.qa=a;this.ey=c;this.pja=d;this.config=g;this.he=h;this.OO=k;this.Sc=m;this.iib=Object.keys(l.ub).map(function(a){return{event:l.ub[a],yY:function(b){return p.Jb.Ub(l.ub[a],b);}};});this.Jb=n.create();this.aC=[];this.log=b.xb("SegmentManager");new q.Pm();this.zda=!0;this.Ff=this.Sc.createElement("div",f.O6);}function g(a,b,c,d,f,g,h,k,l){var n;n=this;this.log=a;this.config=b;this.yvb=c;this.pja=d;this.he=f;this.OO=g;this.wq=h;this.ia=k;this.Ff=l;this.YE=function(){n.iy&&(n.iy.cancel(),n.iy=void 0);};this.ofa=function(a){n.log.trace("Received the transition event",{movieId:a.G});n.ozb();};this.log.debug("Constructing session data",m(k));this.bha=new q.Pm();this.AFb=new Promise(function(a){n.ozb=a;});}function m(a){return{movieId:a.G};}function n(a){return JSON.stringify({movieId:a.G,startPts:a.S,logicalEnd:a.Hn,params:a.fb?{trackingId:a.fb.Vh,authParams:a.fb.rL,sessionParams:a.fb.Mn,disableTrackStickiness:a.fb.jca,uiPlayStartTime:a.fb.Q1,loadImmediately:a.fb.KZ,playbackState:a.fb.playbackState?{currentTime:a.fb.playbackState.currentTime,volume:a.fb.playbackState.volume,muted:a.fb.playbackState.muted}:void 0,pin:a.fb.fOa,heartbeatCooldown:a.fb.yfa,uiLabel:a.fb.le}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.cwa=void 0;q=a(132);l=a(12);h=a(3);f=a(10);g.prototype.load=function(a){var b,c;b=this;this.log.trace("Loading new segment",m(this.ia));this.W=this.pja.Meb(this.config,this.OO,this.he,this.ia);this.W.addEventListener(l.ub.kG,function(a){b.log.trace("Segment is inactive",m(b.ia));b.wq.close(b.he(a.errorCode));});this.W.addEventListener(l.ub.closed,this.YE);if(a)this.log.debug("Pausing background segment",m(this.ia)),this.W.addEventListener(l.ub.sga,this.ofa),this.W.pause();else{this.Ff.appendChild(this.W.zn());c=function(a){b.ofa(a);b.W.removeEventListener(l.ub.loaded,c);};this.W.addEventListener(l.ub.loaded,c);}};g.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",n(this.ia));if(this.iy)this.log.trace("Segment is currently observing",m(this.ia));else if(this.ia.fb&&this.ia.fb.KZ)this.bha.next(this);else{b=this.yvb.uba(this.config,function(){var b;if(a.W){b=a.W.j.$b.value;if(b)return b;}return 0;});c=this.Cab(this.ia);this.log.trace("Adding a moment to watch",{time:c});b.observe(c,function(){a.log.trace("Segment has reached its loading point",m(a.ia));a.bha.next(a);a.YE();});}};g.prototype.close=function(a){this.log.info("Closing segment",{segment:n(this.ia),error:a});return this.W?(this.W.removeEventListener(l.ub.sga,this.ofa),this.W.close(a)):Promise.resolve();};g.prototype.Cab=function(a){var b,c;b=a.Hn;a=a.fb?a.fb.KZ:!1;c=0;b&&!a&&(c=b-this.config.AHa(),c<this.config.DHa()&&(a=b-this.config.DHa(),c=b-a/2));return c;};c.prototype.Imb=function(){return this.Ce&&this.Ce.W?this.Ce.W.isReady():!1;};c.prototype.zn=function(){return this.Ff;};c.prototype.Jh=function(){if(!this.Ce||!this.Ce.W)throw Error("Player not ready");return this.Ce.W;};c.prototype.MGb=function(a){var b,c;c=this.mda(a);c?this.JTa(c,a):(this.log.p$("xid",null===(b=this.Ce.W)||void 0===b?void 0:b.rY()),this.log.error("Tried to update a non-existent segment",{segment:n(a),currentMovieId:this.Ce.ia.G,queuedMovieIds:this.aC.map(function(a){return a.ia.G;})}));};c.prototype.Cp=function(a){var b;this.log.info("Adding segment",n(a));this.zda?(this.log.trace("First segment, loading",m(a)),b=this.FKa(a),this.zda=!1):(this.log.trace("Subsequent segment, caching",m(a)),(b=this.mda(a))?this.JTa(b,a):(b=this.tn(a),this.aC.push(b),this.Ce.observe()));return b?b.AFb:null;};c.prototype.transition=function(a){var b;if(this.av&&this.av.W){b=this.av;this.av=void 0;this.log.info("Transitioning segment",n(b.ia));b&&b.W&&b.W.pRa(this.qa.Zb().ca(h.ha));return this.fTa(b,a);}return Promise.resolve();};c.prototype.close=function(a){var b;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(m(this.Ce.ia)),nextSession:this.av?JSON.stringify(m(this.av.ia)):void 0});a=[this.Ce.close(a)];this.av&&a.push(this.av.close());return Promise.all(a).then(function(){b.av=void 0;b.aC=[];b.zda=!0;});};c.prototype.addListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.JTa=function(a,b){this.owb(a.ia,b);this.log.trace("Overwrote existing segment data",n(a.ia));};c.prototype.FKa=function(a){var b,c;b=this;this.log.info("Loading the next episode",m(a));this.Ce?(this.config.Zda()[a.G]=a.S,c=this.mda(a)):c=this.tn(a);if(c)return this.log.trace("Found the next session",m(a)),c.bha.subscribe(function(a){b.pFb(a);}),this.Ce?(this.log.trace("Subsequent playback, caching player and pausing",m(a)),this.av=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",m(a)),c.load(!1),this.fTa(c)),c;this.log.warn("Unable to find the session, make sure to add it before loading",m(a));};c.prototype.fTa=function(a,b){var c,d;b=void 0===b?{}:b;this.log.trace("Playing episode",m(a.ia));c=this.Ce;this.Ce=a;if(this.Ce.W&&(this.Ce.W.ZQa(!1),this.NQ(this.Ce.W,c?c.W:void 0),c&&c.W)){d=c.W.zn();a=this.Ce.W.zn();d.style.display="none";c=c.close();this.Ff.appendChild(a);this.Ce.W&&(a.style.display="block",this.Ce.W.getError()?this.Ce.W.close():(this.Ce.W.Kr().HGb(b),this.Ce.W.UP(),this.Ce.W.play()));c.then(function(){d.parentElement&&d.parentElement.removeChild(d);});return c;}return Promise.resolve();};c.prototype.pFb=function(a){var b,c,d,f;if(this.aC.length&&a.W){a=a.W.j.$b.value;b=this.aC[0];c=this.Ce.ia.Hn;d=this.Ce.ia.fb?this.Ce.ia.fb.KZ:!1;if(c||d){d?f=0:c&&(f=c-this.config.AHa());null!==a&&a>=f&&(this.log.info("Got a time change, loading the next player",m(b.ia)),this.FKa(b.ia),this.aC.splice(0,1));}}};c.prototype.mda=function(a){return this.Ce.ia.G===a.G?this.Ce:this.aC.find(function(b){return b.ia.G===a.G;});};c.prototype.owb=function(a,b){a.S=b.S||a.S;a.Hn=b.Hn||a.Hn;a.fb=b.fb||a.fb;a.va=b.va||a.va;};c.prototype.tn=function(a){return new g(this.log,this.config,this.ey,this.pja,this.he,this.OO,this,a,this.Ff);};c.prototype.NQ=function(a,b){this.iib.forEach(function(c){b&&b.removeEventListener(c.event,c.yY);a.addEventListener(c.event,c.yY);});this.Jb.Ub(l.wz.yP);};b.cwa=c;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,K,E,G;Object.defineProperty(b,"__esModule",{value:!0});b.bwa=void 0;c=a(0);g=a(1);m=a(25);n=a(8);q=a(246);l=a(60);h=a(453);f=a(452);p=a(987);r=a(986);u=a(84);K=a(35);E=a(457);G=a(22);d=function(){var b;function a(a,b,c,d,f,g,h,k,l,m){this.qa=a;this.Af=b;this.ey=c;this.SHb=d;this.OO=f;this.ta=g;this.lL=h;this.he=k;this.Xca=l;this.Sc=m;}a.prototype.Geb=function(a){return new p.cwa(this.qa,this.Af,this.ey,this.SHb,a,this.he,this.OO,this.Sc,this.Xca);};a.prototype.geb=function(a,b,c){c=void 0===c?this.he:c;return new r.noa(this.Af,a,b,this.ey,this.ta,this.lL,c);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Se)),c.__param(1,g.l(n.Ab)),c.__param(2,g.l(q.mS)),c.__param(3,g.l(f.H7)),c.__param(4,g.l(h.B6)),c.__param(5,g.l(K.Lg)),c.__param(6,g.l(u.zI)),c.__param(7,g.l(l.Mk)),c.__param(8,g.l(E.bD)),c.__param(9,g.l(G.Ve))],b);}();b.bwa=d;},function(d,b,a){var c,g,m,n,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.Ta=void 0;d=a(1);c=a(245);g=a(454);m=a(988);n=a(985);q=a(451);l=a(984);b.Ta=new d.Dc(function(a){a(c.fT).to(m.bwa).Z();a(g.b7).to(n.awa).Z();a(q.u7).to(l.Zwa).Z();});},function(d,b){function a(a,b,d){this.ta=a;this.config=b;this.getTime=d;}Object.defineProperty(b,"__esModule",{value:!0});b.hta=void 0;a.prototype.observe=function(a,b){var c;c=this;this.cancel();this.Ph=this.ta.Mka(this.config.Nea(),function(){c.getTime()>=a&&(c.cancel(),b());});};a.prototype.cancel=function(){this.Ph&&(this.Ph.cancel(),this.Ph=void 0);};b.hta=a;},function(d,b,a){var c,g,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.gta=void 0;c=a(0);g=a(1);m=a(990);n=a(35);d=function(){var b;function a(a){this.ta=a;}a.prototype.uba=function(a,b){return new m.hta(this.ta,a,b);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.Lg))],b);}();b.gta=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.cMa=void 0;d=a(1);c=a(246);g=a(991);b.cMa=new d.Dc(function(a){a(c.mS).to(g.gta).Z();});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.reduce=void 0;b.reduce=function(a,b,d){for(;void 0!==a;a=a.cause)d=b(d,a);return d;};},function(d,b,a){var r,u,K,E,G;function c(a){return p.call(this,a,function(a){return{Details:a};})||this;}function g(a){return p.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function m(a,b){b=p.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.oc=a;return b;}function n(a,b){b=p.call(this,b,function(a){return a();})||this;b.Tc=a;return b;}function q(a,b){return h.call(this,a,b,function(a){var b;b=K.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;q.Obb(b,a,"stack","message");return a;},{});return Object.assign(Object.assign({},a),b);})||this;}function l(a){return p.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function h(a,b,c){b=p.call(this,b,c)||this;b.Tc=a;return b;}function f(a){return p.call(this,a,function(a){return{Details:a};})||this;}function p(a,b){this.tq=a;this.value=b?b(a):a;}Object.defineProperty(b,"__esModule",{value:!0});b.fsa=b.eYa=void 0;r=a(0);u=a(1);K=a(993);E=a(22);G=a(42);p.prototype.BM=function(a){return this.tq===a;};ca(f,p);f.prototype.FC=function(a,b){return b?"":"\r\n"+this.tq;};ca(h,p);h.prototype.FC=function(){var a;a="";this.Tc.ux(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(P){try{a+=", "+b+": "+JSON.stringify(c);}catch(aa){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};ca(l,p);l.prototype.FC=function(a){var b;b="\r\n"+this.tq.message;a||(b+="\r\n"+this.tq.stack);return b;};ca(q,h);q.Obb=function(a,b,c){var g,h;for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];for(f=0;f<d.length;++f){g=a[d[f]];if(void 0!==g){h=""+d[f];b[h]=b[h]||[];b[h].push(g);}}};b.eYa=q;ca(n,p);n.prototype.FC=function(){var a;a="";this.Tc.ux(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[\r\n]+ */g," ");};ca(m,p);m.prototype.FC=function(a,b){return this.tq&&!b?"\r\n"+this.oc.encode(this.tq):"";};ca(g,p);g.prototype.FC=function(){return this.tq?this.tq.toJSON():"";};ca(c,p);c.prototype.FC=function(){return", "+(this.tq.toString?""+this.tq.toString():"");};d=function(){var b;function a(a,b){this.oc=a;this.Tc=b;this.Ad=[];}a.prototype.S8a=function(a){this.Ad.push(new f(a));};a.prototype.H8a=function(a){this.Ad.push(new h(this.Tc,a));};a.prototype.v8a=function(a){this.Ad.push(new l(a));};a.prototype.t8a=function(a){this.Ad.push(new q(this.Tc,a));};a.prototype.y8a=function(a){this.Ad.push(new n(this.Tc,a));};a.prototype.T8a=function(a){this.Ad.push(new m(this.oc,a));};a.prototype.F8a=function(a){this.Ad.push(new g(a));};a.prototype.U8a=function(a){this.Ad.push(new c(a));};a.prototype.ck=function(){return this.Ad;};b=a;return b=r.__decorate([u.N(),r.__param(0,u.l(G.$i)),r.__param(1,u.l(E.Ve))],b);}();b.fsa=d;},function(d,b,a){var c,g,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.esa=void 0;c=a(0);g=a(1);m=a(994);n=a(42);q=a(22);d=function(){var b;function a(a,b){this.oc=a;this.Tc=b;}a.prototype.Olb=function(){return new m.fsa(this.oc,this.Tc);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.$i)),c.__param(1,g.l(q.Ve))],b);}();b.esa=d;},function(d,b,a){var g,m;function c(a,b,c,d,f,g,k){this.level=a;this.Rl=b;this.timestamp=c;this.message=d;this.Ad=f;this.prefix=g;this.index=void 0===k?0:k;}Object.defineProperty(b,"__esModule",{value:!0});b.Lna=void 0;g=a(3);m={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.I1=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.zEb(!!a));return(this.timestamp.ca(g.ha)/1E3).toFixed(3)+"|"+this.index+"|"+(m[this.level]||this.level)+"|"+this.Rl+"| "+a;};c.prototype.zEb=function(a){var f;for(var b=this.Ad.length,c="",d=0;d<b;++d){f=this.Ad[d].tq;d&&c.length&&(c+=" ");if("object"===typeof f)if(null===f)c+="null";else if(f instanceof Error)c+=this.yEb(f,a);else try{c+=JSON.stringify(f);}catch(p){c+=this.xEb(f);}else c+=f;}return c;};c.prototype.yEb=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};c.prototype.xEb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};b.Lna=c;},function(d,b,a){var g,m;function c(a,b,c,d,f,k){a=g.lD.call(this,a,b,c,d)||this;a.mfa=f;Array.isArray(k)?a.prefix=k:k&&"string"===typeof k&&(a.prefix=[],a.prefix.push(k));return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Mna=void 0;g=a(247);m=a(996);ca(c,g.lD);c.prototype.Qw=function(a,b,c){a=new m.Lna(a,this.Rl,this.qa.Zb(),b,c,this.prefix);b=S(this.xl.xl);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};c.prototype.wba=function(a){return new c(this.qa,this.Vt,this.xl,a,this.mfa,this.prefix);};b.Mna=c;},function(d,b,a){var g,m,n;function c(a,b,c,d,k){a=n.lD.call(this,a,b,c,k)||this;a.j=d;g.jm(a,"playback");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Kua=void 0;g=a(54);m=a(455);n=a(247);ca(c,n.lD);c.prototype.wba=function(a){return new c(this.qa,this.Vt,this.xl,this.j,a);};c.prototype.Qw=function(a,b,c){a=new m.U4(a,this.Rl,this.qa.Zb(),b,c,this.j.index);b=S(this.xl.xl);for(c=b.next();!c.done;c=b.next())c=c.value,c(a,this.j);};b.Kua=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.EnumeratedErrorBase=void 0;b.EnumeratedErrorBase=function(a,b,d,g){this.type=a;this.name=a.name;this.number=b;"string"===typeof d?this.message=d:void 0!==d&&(this.cause=d);void 0!==g&&(this.message=g);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.vA=void 0;c=a(999);b.vA=function(a,b){var g;a=a.Olb();for(var d=0;d<b.length;++d){g=b[d];void 0!=g&&null!=g&&(g.Ug&&(g=g.Ug),g.constructor===Uint8Array?a.T8a(g):"MediaRequest"===g.constructor.name?a.F8a(g):"string"===typeof g?a.S8a(g):"function"===typeof g?a.y8a(g):g instanceof Error?a.v8a(g):g instanceof c.EnumeratedErrorBase?a.t8a(g):g instanceof Object?a.H8a(g):a.U8a(g));}return a.ck();};},function(d,b,a){var c,g,m,n,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.msa=void 0;c=a(0);g=a(247);m=a(1);n=a(998);q=a(25);l=a(94);h=a(8);f=a(997);d=function(){var b;function a(a,b,c){this.qa=a;this.xl=b;this.iha=c;}a.prototype.xb=function(a,b,c,d,h){c=void 0===c?this.xl:c;return b?new n.Kua(this.qa,this.iha,c,b,a):h?new f.Mna(this.qa,this.iha,c,a,d||"",h):new g.lD(this.qa,this.iha,c,a);};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(q.Se)),c.__param(1,m.l(l.lz)),c.__param(2,m.l(h.V4))],b);}();b.msa=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.nsa=void 0;c=a(0);g=a(1);d=function(){var b;function a(){this.Ila={};this.xl=[];}a.prototype.v0=function(a,b){var c;c=this;b&&(this.Ila[a]=b,this.xl=Object.keys(this.Ila).map(function(a){return c.Ila[a];}));};b=a;return b=c.__decorate([g.N()],b);}();b.nsa=d;},function(d,b,a){var c,g,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.PKa=void 0;c=a(1002);g=a(1001);d=a(1);m=a(94);n=a(8);q=a(995);b.PKa=new d.Dc(function(a){a(n.Ab).to(g.msa).Z();a(m.lz).to(c.nsa).Z();a(n.V4).to(q.esa).Z();});},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.kqa=void 0;c=a(0);g=a(1);m=a(248);d=function(){var b;function a(){}a.prototype.EF=function(a,b){var c;c=this;a&&Object.keys(b).forEach(function(d){var f,g,h;f=b[d];if(c.Ppb(f)){g=S(f);f=g.next().value;h=g.next().value;g=a[f];Array.isArray(g)?(c.Zba(a,d,f),g.forEach(function(a){c.EF(a,h);})):f===m.qw?Object.keys(a).forEach(function(b){c.EF(a[b],h);}):(c.Zba(a,d,f),"object"===typeof g&&c.EF(g,h));}else c.Zba(a,d,f);});};a.prototype.Ppb=function(a){return Array.isArray(a);};a.prototype.Zba=function(a,b,c){a.hasOwnProperty(b)||b===c||Object.defineProperty(a,b,{get:function(){return a[c];},enumerable:!1});};b=a;return b=c.__decorate([g.N()],b);}();b.kqa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.qpa=void 0;c=a(0);g=a(1);m=a(35);d=function(){var b;function a(a,b){this.ta=a;this.gW=b;}a.prototype.Lc=function(a){this.tg();this.Ph=this.ta.rh(this.gW,a);};a.prototype.tg=function(){this.Ph&&this.Ph.cancel();this.Ph=void 0;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Lg))],b);}();b.qpa=d;},function(d,b,a){var c,g,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.Wwa=void 0;c=a(0);g=a(35);m=a(1);n=a(3);d=function(){var b;function a(a,b,c){this.ta=a;this.yFb=b;this.yY=c;}a.prototype.qu=function(){this.Ph||(this.Ph=this.ta.rh(n.Gb(this.yFb),this.yY));};a.prototype.th=function(){this.Ph&&this.Ph.cancel();this.Ph=void 0;};b=a;return b=c.__decorate([m.N(),c.__param(0,m.l(g.Lg))],b);}();b.Wwa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.gxa=void 0;c=a(0);g=a(1);m=a(22);d=function(){var b;function a(a){this.Sc=a;}a.prototype.u9a=function(a,b){var c;c={enableVP9:!0,preciseSeeking:!0};58<=this.slb(a)&&this.Sc.FB(b,c);};a.prototype.slb=function(a){return(a=a.match(/Firefox\/(\d*)\./))&&Number(a[1])||0;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ve))],b);}();b.gxa=d;},function(d,b){function a(){this.searchParams={};}function c(b){this.pn=b;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.fxa=void 0;c.prototype.toString=function(){return this.href;};na.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.pn+this.searchParams.toString();}}});b.fxa=c;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){var a,b;a=this;b=Object.keys(this.searchParams);return 0<b.length?b.reduce(function(b,c,d){return""+b+(0==d?"?":"&")+c+"="+a.searchParams[c];},""):"";};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kva=b.jva=b.SS=void 0;b.SS="PrioritizedSetOfListsSymbol";b.jva="PrioritizedSetOfListsFactorySymbol";b.kva="PrioritizedSetOfSetsFactorySymbol";},function(d,b,a){var c,g,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.Owa=void 0;c=a(0);g=a(1);m=a(25);n=a(3);q=a(35);d=function(){var b;function a(a,b,c){var d;d=this;this.app=a;this.ta=b;this.gW=c;this.cv=function(a){d.Ph=void 0;d.fGb(a||d.gW);};this.oKa=n.Gb(-this.gW.ca(n.ha));}a.prototype.Lc=function(a){this.Oka=a;this.Ph=this.Ph||this.ic(this.cv);};a.prototype.tg=function(){this.Ph&&this.Ph.cancel();this.Ph=void 0;};a.prototype.fGb=function(a){var b,c;b=this.app.Zb();if(this.Oka){c=a.zb(b.zb(this.oKa));0>=c.Tl(n.Dd)?(a=this.Oka,this.Oka=void 0,this.oKa=b,a()):this.Ph=this.Ph||this.ta.rh(c,this.cv.bind(this,a));}};a.prototype.ic=function(a){return this.ta.rh(n.Dd,a);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Se)),c.__param(1,g.l(q.Lg))],b);}();b.Owa=d;},function(d,b,a){var c,g,m,n,q,l,h,f,p;Object.defineProperty(b,"__esModule",{value:!0});b.upa=void 0;c=a(0);g=a(1);m=a(25);n=a(47);q=a(2);l=a(12);h=a(3);f=a(9);p=a(463);d=function(){var b,d;function a(a,b){this.qa=a;this.config=b;}a.prototype.sgb=function(a){var c,d,f,g,k,m,p,r,t,u;c=this;m=a.$b.value;p=a.ro.value;r=a.Nb.value;t=a.state.value;k={segmentId:a.Lea(),mediaTime:m,segmentTime:a.eB(),bufferingState:b.iab[p],presentingState:b.oyb[r],playbackState:b.yxb[t],mseBuffersBusy:this.anb(a),intBuffersBusy:this.Flb(a),tabVisible:this.bFb(),decodedFrameCount:this.Ifb(a),videoElementInDom:this.PHb(a),lastVideoSync:this.qa.Zb().zb(h.Gb(a.fQ)).ca(h.ha)};u=r===l.ib.Vf?a.Ua.Oi?this.config.uNa:this.config.tNa:this.config.$La;p!==l.Ue.qd?(f=q.u.IWa,this.gCa(k.mseBuffersBusy,k.intBuffersBusy)&&(g=b.doa)):r!==l.ib.Nc&&(f=q.u.JWa,(p=a.Pi)&&p.Fb.sourceBuffers.forEach(function(a){var d,f;d=b.gO[a.M];k[d+"Ranges"]=a.PX();try{f=a.buffered();}catch(O){f=void 0;}f&&0!==f.length?(a=1E3*f.end(0)-m,k[d+"Undecoded"]=a,1<f.length&&(g=b.CVa),m<1E3*f.start(0)||m>1E3*f.end(0)?g=b.DVa:a<u.ca(h.ha)?g=b.EVa:c.gCa(k.mseBuffersBusy,k.intBuffersBusy)&&(g=b.doa)):(k[d+"Undecoded"]=0,g=b.BVa);}));a=a.B0.hIa();p=m===(null===(d=a.repositionTrace)||void 0===d?void 0:d[0].newMediaTime);k.lastRepositionCausedTimeout=p;Object.assign(k,a);d="";try{d=JSON.stringify(k);}catch(fa){d="Cannot stringify details: "+fa;}return new n.Cc(q.J.Mta,f,g,void 0,void 0,void 0,d,void 0);};a.prototype.anb=function(a){var b;if(a.Fb){b={};a.Fb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};a.prototype.Flb=function(a){var b;if(a.Fb){b={};a.Fb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.kk()};});return b;}};a.prototype.bFb=function(){return!f.$d.hidden;};a.prototype.Ifb=function(a){return(a=a.Pi)&&(a=a.Fb.bb)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};a.prototype.PHb=function(a){if(a=a.Pi)if(a=a.Fb.bb)return f.$d.body.contains(a);return!1;};a.prototype.gCa=function(a,b){var c,d,f,g;return!((null===(c=a.audio)||void 0===c?void 0:c.updating)===(null===(d=b.audio)||void 0===d?void 0:d.updating)&&(null===(f=a.video)||void 0===f?void 0:f.updating)===(null===(g=b.video)||void 0===g?void 0:g.updating));};d=b=a;d.BVa="1";d.CVa="2";d.DVa="3";d.doa="4";d.EVa="5";d.gO=["Audio","Video"];d.iab=["","NORMAL","BUFFERING","STALLED"];d.oyb=["","WAITING","PLAYING ","PAUSED","ENDED"];d.yxb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];return d=b=c.__decorate([g.N(),c.__param(0,g.l(m.Se)),c.__param(1,g.l(p.y5))],d);}();b.upa=d;},function(d,b,a){var c,g,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.r7=void 0;c=a(0);g=a(1);m=a(25);n=a(3);q=a(8);d=function(){var b;function a(a,b){this.qa=a;this.entries=new Set();this.ka=b.xb("TimingApi");}a.prototype.mark=function(a,b,c){a={name:a,Cs:this.qa.Zb()};b&&(a.ga=b);c&&(a.fk=c);this.entries.add(a);return a;};a.prototype.Aea=function(){var a;a=[];this.entries.forEach(function(b){return a.push(b);});return a;};a.prototype.EHa=function(a){return this.Aea().filter(function(b){return b.ga===a;});};a.prototype.CHa=function(){var a;a={};try{a=this.Aea().filter(function(a){return!a.ga;}).reduce(function(a,b){a[b.name]=b.Cs.ca(n.ha);return a;},{});}catch(p){this.ka.error(" getMapOfCommonMarks exception",p);}return a;};a.prototype.HPa=function(a){var b;b=this;this.Aea().forEach(function(c){c.ga===a&&b.entries["delete"](c);});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Se)),c.__param(1,g.l(q.Ab))],b);}();b.r7=d;},function(d,b,a){var c,g,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.Qoa=void 0;c=a(0);g=a(36);m=a(40);n=a(1);q=a(28);d=function(){var b;function a(a){return m.FI.call(this,a,"ClockConfigImpl")||this;}ca(a,m.FI);na.Object.defineProperties(a.prototype,{VTa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=a;c.__decorate([g.config(g.vd,"usePerformanceApi")],b.prototype,"VTa",null);return b=c.__decorate([n.N(),c.__param(0,n.l(q.pR))],b);}();b.Qoa=d;},function(d,b,a){var c,g,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.rpa=void 0;c=a(0);g=a(36);m=a(40);n=a(1);q=a(28);d=function(){var b;function a(a){a=m.FI.call(this,a,"DebugConfigImpl")||this;a.hRb=function(){debugger;};return a;}ca(a,m.FI);na.Object.defineProperties(a.prototype,{cab:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=a;c.__decorate([g.config(g.vd,"breakOnError")],b.prototype,"cab",null);return b=c.__decorate([n.N(),c.__param(0,n.l(q.pR))],b);}();b.rpa=d;},function(d,b,a){var c,g,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.spa=void 0;c=a(0);g=a(1);m=a(23);n=a(86);q=a(8);d=function(){var b;function a(a,b,c){this.config=a;this.Ga=b;this.ka=c.xb("General");}a.prototype.assert=function(){};a.prototype.K9a=function(a,b){this.assert(this.Ga.IA(a),b);};a.prototype.L9a=function(a,b){this.assert(this.Ga.Td(a),b);};a.prototype.Q9a=function(a,b){this.assert(this.Ga.gn(a),b);};a.prototype.T9a=function(a,b){this.assert(this.Ga.Nl(a),b);};a.prototype.R9a=function(a,b){this.assert(this.Ga.gn(a)||null===a||void 0===a,b);};a.prototype.O9a=function(a,b){this.assert(this.Ga.jh(a),b);};a.prototype.N9a=function(a,b){this.assert(this.Ga.H$(a),b);};a.prototype.S9a=function(a,b){this.assert(this.Ga.mr(a),b);};a.prototype.P9a=function(a,b){this.assert(this.Ga.$K(a),b);};a.prototype.J9a=function(a,b){this.assert(this.Ga.ZK(a),b);};a.prototype.M9a=function(a,b){this.assert(this.Ga.mV(a),b);};a.prototype.Gpb=function(){this.assert(!1,"invalid operation, this method should not be called");};a.oSb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return"";}};a(d,c||b);return d.stack;}:function(){try{throw Error("capture stack");}catch(y){return y.stack;}};};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.k3)),c.__param(1,g.l(m.Ie)),c.__param(2,g.l(q.Ab))],b);}();b.spa=d;},function(d,b,a){var c,g,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.dpa=void 0;c=a(0);g=a(1);m=a(23);n=a(22);d=function(){var b,d;function a(a,b){this.is=a;this.Tc=b;}a.prototype.encode=function(a){var b,c;b=this;c="";this.Tc.ux(a,function(a,d){a=b.lFa(a)+"="+b.lFa(d);c=c?c+(","+a):a;});return c;};a.prototype.lFa=function(a){return this.is.IA(a)?this.is.jh(a)?""+a:this.is.gn(a)?(a=a.replace(b.hka,this.Dha.bind(this)),!b.bzb.test(a)&&b.Dub.test(a)&&(a='"'+a+'"'),a):this.is.ZK(a)?""+a:this.is.h$(a)?"NaN":"":"";};a.prototype.Dha=function(a){return b.map[a];};d=b=a;d.map={'"':'""',"\r":"","\n":" "};d.hka=/(?!^.+)["\r\n](?=.+$)/g;d.bzb=/["].*["]/g;d.Dub=/[", ]/;return d=b=c.__decorate([g.N(),c.__param(0,g.l(m.Ie)),c.__param(1,g.l(n.Ve))],d);}();b.dpa=d;},function(d,b,a){var c,g,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.Dna=void 0;c=a(0);g=a(1);m=a(39);n=a(3);q=a(112);d=function(){var b;function a(a,b){this.Ia=a;this.KX=this.Ia.bf.ca(n.ha)-1;this.psb=this.CZ=0;this.id=""+b.CA();}a.prototype.Zb=function(){var a,b;a=this.Ia.bf.ca(n.ha)-this.KX;if(a<this.CZ){b=this.CZ+1;this.KX-=b-a;a=b;}this.CZ=a;return n.Gb(this.CZ);};a.prototype.Plb=function(){return this.psb++;};na.Object.defineProperties(a.prototype,{vB:{configurable:!0,enumerable:!0,get:function(){return n.Gb(this.KX);}}});b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ai)),c.__param(1,g.l(q.iz))],b);}();b.Dna=d;},function(d){d.R="function"===typeof Object.create?function(b,a){b.QEb=a;b.prototype=Object.create(a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});}:function(b,a){function c(){}b.QEb=a;c.prototype=a.prototype;b.prototype=new c();b.prototype.constructor=b;};},function(d){d.R=function(b){return b&&"object"===typeof b&&"function"===typeof b.xo&&"function"===typeof b.fill&&"function"===typeof b.DUb;};},function(d,b,a){var g;function c(a){this.Yjb=a;this.BY=!1;this.QY=this.Tf=this.eI=0;this.sN=!1;this.RY=0;}Object.defineProperty(b,"__esModule",{value:!0});b.Cta=void 0;g=a(467);c.prototype.I8a=function(a){a<this.eI&&(this.Tf+=this.eI);this.eI=a;this.BY=!0;};c.prototype.Lkb=function(){if(this.BY)return this.sN?this.RY-this.QY:this.Tf+this.eI-this.QY;};c.prototype.refresh=function(){var a;a=this.Yjb();g.ma(a)&&this.I8a(a);};c.prototype.TDb=function(){this.sN||(this.BY&&(this.RY=this.Tf+this.eI),this.sN=!0);};c.prototype.hEb=function(){this.sN&&(this.BY&&(this.QY+=this.Tf+this.eI-this.RY),this.RY=0,this.sN=!1);};b.Cta=c;},function(d,b,a){var c,g,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.ova=void 0;c=a(0);g=a(1);m=a(35);n=a(63);d=function(){var b;function a(a){this.ta=a;}a.prototype.wm=function(a,b){var c;c=this;return new Promise(function(d,f){var g;g=c.ta.rh(a,function(){f(new n.Rm(a));});b.then(function(a){d(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Lg))],b);}();b.ova=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.hxa=void 0;c=a(0);g=a(1);d=function(){var b,d;function a(){}a.prototype.encode=function(a){return b.Hca(a);};a.prototype.decode=function(a){return b.Sba(a);};a.Hca=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,d=a.length,g="";b<d;){c=a[b++];if(!(0<=c&&255>=c))throw Error("bad utf8");if(c&128)if(192===(c&224))c=((c&31)<<6)+(a[b++]&63);else if(224===(c&240))c=((c&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");g+=String.fromCharCode(c);}return g;};a.Sba=function(a){var b,c,d,g,k;b=a.length;c=0;g=0;if(!(0<=b))throw Error("bad string");for(d=b;d--;)k=a.charCodeAt(d),128>k?c++:c=2048>k?c+2:c+3;c=new Uint8Array(c);for(d=0;d<b;d++)k=a.charCodeAt(d),128>k?c[g++]=k:(2048>k?c[g++]=192|k>>>6:(c[g++]=224|k>>>12,c[g++]=128|k>>>6&63),c[g++]=128|k&63);return c;};d=b=a;return d=b=c.__decorate([g.N()],d);}();b.hxa=d;},function(d,b,a){var c,g,m,n,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Roa=void 0;c=a(0);g=a(54);m=a(3);n=a(1);q=a(29);l=a(472);h=a(68);f=a(12);d=function(){var b;function a(a,b,c,d){var h;h=this;this.config=a;this.mfb=b;this.Jb=c;this.performance=d;this.Yvb=function(a){h.RQa=a.zb(h.bf);};g.jm(this,"date");g.jm(this,"performance");this.o9a=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.RQa=m.Dd;this.Jb.addListener(f.E4.TQa,this.Yvb);}na.Object.defineProperties(a.prototype,{bf:{configurable:!0,enumerable:!0,get:function(){return this.fMa?m.timestamp(this.performance.timing.navigationStart+this.performance.now()):m.Gb(this.mfb.now());}},a1:{configurable:!0,enumerable:!0,get:function(){return this.bf.add(this.RQa);}},fMa:{configurable:!0,enumerable:!0,get:function(){return this.config.VTa&&this.o9a;}}});b=a;return b=c.__decorate([n.N(),c.__param(0,n.l(l.X2)),c.__param(1,n.l(q.i3)),c.__param(2,n.l(h.IR)),c.__param(3,n.l(q.KS)),c.__param(3,n.optional())],b);}();b.Roa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.wva=void 0;c=a(0);g=a(1);m=a(131);d=function(){var b;function a(a){this.aFb=a;}a.prototype.random=function(){return this.aFb.random();};a.prototype.cPa=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.m7))],b);}();b.wva=d;},function(d,b,a){var c,g,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.yra=void 0;c=a(0);g=a(1);m=a(3);n=a(39);q=a(131);d=function(){var b,d;function a(a,b){this.Ia=a;this.random=b;}a.prototype.CA=function(){return this.Ia.bf.ca(m.Fl)*b.woa+Math.floor(this.random.random()*b.woa);};d=b=a;d.woa=1E4;return d=b=c.__decorate([g.N(),c.__param(0,g.l(n.Ai)),c.__param(1,g.l(q.CJ))],d);}();b.yra=d;},function(d,b,a){var g,m,n,q,l;function c(a,b){this.jI=a;this.Oab=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Wva=void 0;g=a(0);m=a(1);n=a(54);q=a(29);l=a(3);c.prototype.cancel=function(){this.Oab(this.jI);};d=function(){var b;function a(a){this.jI=a;n.jm(this,"timers");}a.prototype.Lc=function(a){return this.rh(l.Dd,a);};a.prototype.rh=function(a,b){var d;d=this.jI.setTimeout(b,a.ca(l.ha));return new c(this.jI,function(a){a.clearTimeout(d);});};a.prototype.Mka=function(a,b){var d;d=this.jI.setInterval(b,a.ca(l.ha));return new c(this.jI,function(a){a.clearInterval(d);});};b=a;return b=g.__decorate([m.N(),g.__param(0,m.l(q.K7))],b);}();b.Wva=d;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,K,E,G,N,C,z,P,F,R,A,T,S,fa,U,V,O,Z,ca,da,Q,ea,ga,Ga,Fa,ka,ha,ia,ja,ma,na,pa,qa,ra,ta,va,za,ba,Da,Ha,Ka,Ma,Na,Qa,Ra,Ua,Va,Wa,Ya,Za,ab,bb,cb;Object.defineProperty(b,"__esModule",{value:!0});b.eu=void 0;d=a(1);c=a(29);g=a(39);m=a(35);n=a(112);q=a(131);l=a(1026);h=a(1025);f=a(1024);p=a(1023);r=a(97);u=a(98);K=a(42);E=a(22);G=a(23);N=a(68);C=a(63);z=a(471);P=a(1022);F=a(250);R=a(470);A=a(469);T=a(1021);S=a(139);fa=a(468);U=a(1020);V=a(466);O=a(96);Z=a(1017);ca=a(25);da=a(465);Q=a(1016);ea=a(1015);ga=a(86);Ga=a(1014);Fa=a(8);ka=a(472);ha=a(1013);ia=a(69);ja=a(1012);ma=a(464);na=a(1011);pa=a(1010);qa=a(95);ra=a(9);ta=a(1009);va=a(462);za=a(461);ba=a(1008);Da=a(460);Ha=a(15);Ka=a(30);Ma=a(60);Na=a(459);Qa=a(499);Ra=a(1007);Ua=a(458);Va=a(457);Wa=a(130);Ya=a(1006);Za=a(456);ab=a(1005);bb=a(248);cb=a(1004);b.eu=new d.Dc(function(a){a(c.AD).Ly(function(){return{};}).Z();a(c.Vv).Th(JSON);a(c.K7).Th(M);a(q.m7).Th(Math);a(c.R4).Th(ra.vS);a(c.KS).Th(ra.Sq);a(c.C7).Th(ra.El);a(c.i3).Th(Date);a(c.fw).Th(ra.Bi);a(c.$sa).Th(ra.tD);a(ka.X2).to(ha.Qoa).Z();a(ca.Se).to(Z.Dna).Z();a(g.Ai).to(p.Roa).Z();a(m.Lg).to(l.Wva).Z();a(n.iz).to(h.yra).Z();a(C.hw).to(T.ova).Z();a(q.CJ).to(f.wva).Z();a(ga.Jq).to(ea.spa).Z();a(ga.k3).to(Ga.rpa).Z();a(r.ow).to(P.hxa).Z();a(u.Nv).to(F.YQ).Z();a(K.$i).to(R.F2).Z();a(E.Ve).to(A.E7).Z();a(G.Ie).Th(S.Qs);a(Ua.bD).to(Va.qqa).Z();a(N.ER).to(fa.aj).Rfa();a(N.XC).to(fa.aj).Z();a(N.q3).to(fa.aj).Z();a(N.IR).to(fa.aj).Z();a(V.l7).to(O.kw).Z();a(da.b3).to(Q.dpa).Z();a(ia.nw).to(ja.r7).Z();a(ia.qD).to(ja.r7).Z();a("Factory<LoggerFactory>").CFb(Fa.Ab);a(ma.m3).to(na.upa).Z();a(qa.Dz).lf(function(a){return function(b){return new pa.Owa(a.jb.get(ca.Se),a.jb.get(m.Lg),b);};});a(Za.j3).lf(function(a){return function(b){return new ab.qpa(a.jb.get(m.Lg),b);};});a(ta.SS).EFb(va.M6);a(ta.jva).lf(function(a){var b;b=a.jb.get(ta.SS);return function(){return new b(!1);};});a(ta.kva).lf(function(a){var b;b=a.jb.get(ta.SS);return function(){return new b(!0);};});a(za.B7).lf(function(){return function(a){return new ba.fxa(a);};});a(Ma.Mk).lf(function(a){return function(b,c,d){var f,g,h;f=a.jb.get(ga.Jq);g=a.jb.get(Ha.dd);h=a.jb.get(Ka.Uj);return new Da.Qua(f,g,h,Na.l5,b,c,d);};});a(z.J5).lf(function(){return function(a){return new U.Cta(a);};});a(Qa.D7).to(Ra.gxa).Z();a(Wa.Gz).lf(function(a){return function(b,c){return new Ya.Wwa(a.jb.get(m.Lg),b,c);};});a(bb.K3).to(cb.kqa).Z();});},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,K,E,G,z,C,F,P,aa,R,A,T,M,fa,U,S,O,V,Z,ca,Q,da;Object.defineProperty(b,"__esModule",{value:!0});b.DKa=void 0;c=a(1027);g=a(1003);m=a(992);n=a(989);q=a(983);l=a(980);h=a(976);f=a(964);p=a(953);r=a(949);u=a(947);K=a(705);E=a(703);G=a(699);z=a(687);C=a(680);F=a(673);P=a(670);aa=a(664);R=a(262);A=a(656);T=a(654);M=a(647);fa=a(643);U=a(635);S=a(633);O=a(626);V=a(601);Z=a(581);ca=a(577);Q=a(573);da=a(559);b.DKa=function(a){a.load(c.eu,l.Ky,g.PKa,h.pM,m.cMa,n.Ta,q.hUa,f.storage,p.Xw,r.uCa,u.gLa,K.fy,E.Gh,G.OKa,z.uMa,C.sGa,F.UOa,P.UB,aa.XEa,R.eme,A.crypto,T.Tc,M.Bc,fa.Zf,U.iMa,S.aOa,O.j,V.jDa,Z.jTa,ca.zj,Q.Cf,da.GBa);};},function(d,b,a){var m,n;function c(a,b,c,d,g){this.qa=a;this.config=b;this.ta=c;this.cv=d;this.name=g;}function g(a,b,c,d){var f;f=this;this.qa=a;this.ta=b;this.timeout=c;this.xFb=d;this.gob=function(){f.Jp=!0;f.rB.cancel();f.xFb();};this.startTime=this.qa.Zb();this.rB=this.ta.rh(this.timeout,function(){f.gob();});this.Jp=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.eqa=void 0;m=a(2);n=a(88);g.prototype.stop=function(){this.Jp||(this.u1=this.qa.Zb(),this.rB.cancel());};na.Object.defineProperties(g.prototype,{UW:{configurable:!0,enumerable:!0,get:function(){if(this.u1&&this.startTime)return this.u1.zb(this.startTime);}}});c.prototype.Vab=function(){var a;a=this;this.ZE=new g(this.qa,this.ta,this.config.Qfa,function(){a.cv(new n.Hf(m.J.Iva,m.u.ZXa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.Qfa+"ms"));});};c.prototype.Uab=function(){this.ZE&&this.ZE.stop();};c.prototype.oCb=function(){this.FP=this.qa.Zb();};c.prototype.Wab=function(){var a;a=this;this.W1=new g(this.qa,this.ta,this.config.Tka,function(){a.cv(new n.Hf(m.J.Iva,m.u.YXa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.Tka+"ms"));});};c.prototype.BCa=function(){this.W1&&this.W1.stop();};na.Object.defineProperties(c.prototype,{ld:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.ZE){b=this.ZE.UW;b&&(a.NLa=b);this.FP&&this.ZE.u1&&(a.FP=this.FP.zb(this.ZE.u1));}this.W1&&(b=this.W1.UW)&&(a.oDa=b);return a;}}});b.eqa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cqa=void 0;b.cqa="EmeApiSymbol";},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,K,E,G,z,C,F,P,aa,R,A;Object.defineProperty(b,"__esModule",{value:!0});b.gqa=void 0;c=a(0);g=a(1);m=a(132);n=a(3);q=a(2);l=a(25);h=a(8);f=a(42);p=a(35);r=a(53);u=a(87);K=a(474);d=a(473);E=a(135);G=a(252);z=a(1030);C=a(88);F=a(1029);P=a(63);aa=a(47);(function(a){a[a.oGb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.pi=3]="license";a[a.cC=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(R||(R={})));A={usable:{status:d.Sn.Uma},expired:{status:d.Sn.pib,error:q.J.Nta},released:{status:d.Sn.Zzb},"output-not-allowed":{status:d.Sn.yNa,error:q.J.Ota},"output-restricted":{status:d.Sn.yNa,error:q.J.R5},"output-downscaled":{status:d.Sn.mwb},"status-pending":{status:d.Sn.XRa},"internal-error":{status:d.Sn.Apb,error:q.J.A0a}};a=function(){var b;function a(a,b,c,d,f,g,h,k,l){var p;p=this;this.qa=b;this.Rt=c;this.config=d;this.Yf=f;this.Mj=g;this.Ar=h;this.ta=k;this.Ak=l;this.onMessage=function(a){var b,c,d,f;b=p.Mj.oba(a);c=b.Zr;d=b.c_;f=b.sessionId;p.uG=p.uG||b.uG;p.b1(f);p.Px=p.Mj.Px(b);p.log.trace("Received "+a.type+" event",{sessionId:f,messageType:d,keyIds:p.uG,isIntermediateChallenge:p.Px});"license-renewal"===d&&(p.log.trace("Received a renewal request"),p.ri=u.bj.Mm,p.Bf=R.cC);p.Bf!==R.pi||p.Px||(p.Yga={Ar:p.Ar,data:c},p.jn(K.sp.sPa));p.Bf===R.cC&&p.jn(K.sp.tPa);if(p.NN){if(p.pfa(c)){p.Qr(new aa.Cc(q.J.VXa));return;}p.NN.next({li:c,HCa:d,ri:p.ri});p.ri!==u.bj.Mm||p.Px||(p.NN.complete(),p.NN=void 0);}p.Bf===R.stop&&(p.th.Uab(),p.config.vi&&p.uP&&(p.uP.next({li:c}),p.uP.complete(),p.uP=void 0));};this.jNa=function(a){var b,c,g,h,k,l;b=a.target.keyStatuses;p.b1(a.target.sessionId);p.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem});try{for(var d=S(b),f=d.next();!f.done;f=d.next()){g=S(f.value);h=g.next().value;k=g.next().value;p.log.trace("key status: "+k);l=A[k];p.Iga.next({Rr:new Uint8Array(h),value:l.status});p.nB(l.error)&&(c=new C.Hf(l.error),p.Cga(c));}}catch(fb){c=new C.Hf(q.J.B0a);c.oM(fb);}c?p.Dga(c):(p.Mj.bW()||p.hKa(),p.ri!==u.bj.Wv||p.Mj.Z$()||(p.log.info("Kicking off license renewal",{timeout:p.config.Vx}),setTimeout(function(){p.jP();},p.config.Vx.ca(n.ha))));};this.aH=function(a){var b;b=p.Mj.Lp(a);p.log.error("Received event: "+a.type,b);p.Qr(b);p.Dga(b);p.Ni||p.em||p.Cga(b);};this.Qr=function(a){p.Ni&&p.close().subscribe(void 0,function(b){p.log.error("EmeSession closed with an error.",p.Mj.Lp(b));p.Ni&&(p.Ni.error(a),p.Ni=void 0);},function(){p.log.trace("Issuing a generate challenge error");p.Ni&&(p.Ni.error(a),p.Ni=void 0);});};this.gKa=function(){p.Ni&&(p.Ni.complete(),p.Ni=void 0);};this.Dga=function(a){p.em&&(p.log.error("Failed to add license",a),p.close().subscribe(void 0,function(b){p.log.error("EmeSession closed with an error.",p.Mj.Lp(b));p.Bf===R.cC&&p.jn(K.sp.QAa);p.Ni=void 0;p.em&&(p.em.error(a),p.em=void 0);},function(){p.log.trace("Issuing a license error");p.Ni=void 0;p.em&&(p.em.error(a),p.em=void 0);}));};this.hKa=function(){p.em&&(p.log.info("Successfully added license"),p.Bf===R.pi?p.jn(K.sp.MAa):p.Bf===R.cC&&p.jn(K.sp.PAa),p.em.complete(),p.em=void 0);};this.Cga=function(a){p.Pp&&p.close().subscribe(void 0,function(b){p.log.error("EmeSession closed with an error.",p.Mj.Lp(b));p.Ni=void 0;p.em=void 0;p.Pp&&(p.Pp.next(a),p.Pp.complete(),p.Pp=void 0);},function(){p.log.trace("Issuing a CDM error");p.Ni=void 0;p.em=void 0;p.Pp&&(p.Pp.next(a),p.Pp.complete(),p.Pp=void 0);});};this.jn=function(a){p.ld.push({time:p.qa.Zb(),Vtb:a});};this.log=a.xb("EmeSession");this.NN=new m.Pm();this.config.vi&&(this.uP=new m.Pm());this.Iga=new m.k1a();this.Pp=new m.Pm();this.Bf=R.oGb;this.ld=[];}a.prototype.VF=function(){return this.context.Yd;};a.prototype.Gx=function(){return this.sessionId;};a.prototype.close=function(){var a;a=this;this.Iga.complete();this.Bf=R.closed;this.ld=[];return this.Yf.tqb()?(this.log.trace("Closing the session"),this.Yf.hAb(this.onMessage),this.Yf.eAb(this.jNa),this.Yf.cAb(this.aH),this.nl=void 0,m.lb.create(function(b){a.Ak.wm(a.config.lBa,a.Yf.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(c){a.log.error("Close failed",c);c=a.Mj.Lp(c);c.code=q.J.D0a;b.error(c);});})):m.lb.empty();};a.prototype.Hga=function(){return this.Iga.Q$();};a.prototype.IF=function(){return this.Pp?this.Pp.Q$():void 0;};a.prototype.Up=function(){return this.Ar;};a.prototype.rfa=function(){return void 0!==this.fm;};a.prototype.tn=function(a,b,c,d){var f;f=this;this.ri=d;this.Bf=R.create;this.context=a;this.jn(K.sp.yKa);return m.lb.create(function(a){(c.JIa()?Promise.resolve():f.Ak.wm(f.config.mBa,f.Yf.Ieb(b)).then(function(a){f.log.trace("Created media keys");c.nC(a);return f.t9a(a);})).then(function(){f.nl=c.nl;try{f.Yf.tn(f.nl,f.Mj.Wea(d));f.Yf.G8a(f.onMessage);f.Yf.A8a(f.jNa);f.Yf.u8a(f.aH);f.b1(f.Yf.Gx());a.next(f);a.complete();}catch(ya){a.error(new C.Hf(q.J.RXa,q.u.yh,void 0,"Unable to create a persisted key session",ya));}})["catch"](function(b){b.code&&b.ad?a.error(b):a.error(new C.Hf(q.J.D3,b instanceof P.Rm?q.u.TI:q.u.yh,void 0,"Unable to create MediaKeys. "+b.message,b));});});};a.prototype.SCb=function(a){this.Yg=a;this.log.p$("xid",a.ga);};a.prototype.Yrb=function(a){var b;b=this;this.Bf=R.load;return m.lb.Hr(this.Yf.load(a).then(function(){return b;}));};a.prototype.IX=function(a){var b;b=this;this.Bf=R.pi;this.log.trace("Generating a license challenge");this.Ni=new m.Pm();if(!a)return this.ZV(new C.Hf(q.J.Tpa,q.u.F3));if(this.pfa(a))return this.ZV(new C.Hf(q.J.Tpa,q.u.E3));this.Ak.wm(this.config.nBa,this.Yf.Qda("cenc",a)).then(function(){b.b1(b.Yf.Gx());})["catch"](function(a){var c;c=new C.Hf(q.J.Spa,a instanceof P.Rm?q.u.TI:q.u.yh);c.message="Unable to generate request.";c.oM(a);b.log.error("Unable to generate a license request",c);b.Qr(c);});this.log.trace("Returning the challenge subject");return this.Ni;};a.prototype.LAa=function(a){var b;b=this;this.pc=a.pc;a=a.fm.map(function(a){return a.data;});this.pfa(a)?(this.log.error("The license buffer is empty"),this.Qr(new C.Hf(q.J.Upa,q.u.E3))):this.Px?this.Ak.wm(this.config.J$,this.Yf.update(a,this.uG)).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.Mj.Lp(a);a.code=q.J.BR;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.Qr(a);}):(this.Bf===R.pi&&(this.jn(K.sp.rPa),this.fm=a,this.gKa()),this.Bf===R.cC&&(this.jn(K.sp.uPa),this.fm=a,this.O$()));};a.prototype.D8a=function(a){this.Bf===R.cC?(this.jn(K.sp.vPa),this.Cga(a)):this.Qr(a);};a.prototype.O$=function(){var a,b;a=this;if(!this.fm)return this.ZV(new C.Hf(q.J.Upa,q.u.F3));this.em=new m.Pm();b=this.fm;this.fm=void 0;this.Ak.wm(this.config.J$,this.Yf.update(b,this.uG)).then(function(){a.Mj.bW()&&a.hKa();})["catch"](function(b){b=a.Mj.Lp(b);b.code=q.J.Rta;b.message="Unable to update the EME";a.log.error(b.message,b);a.Dga(b);});return this.em;};a.prototype.yG=function(){return this.NN;};a.prototype.wGa=function(){var a;a=this;if(this.Bf===R.pi&&this.ri===u.bj.Wv)return m.lb.empty();this.Bf=R.stop;this.log.trace("Generating a secure stop challenge");this.Ni=new m.Pm();this.th=new F.eqa(this.qa,this.config,this.ta,function(){a.log.error("got a timeout error");},"non-persisted");this.th.Vab();this.Yf.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var c;c=a.Mj.Lp(b);c.code=q.J.Wpa;c.ad=q.u.yh;c.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{error:b});a.Qr(c);});return this.Ni;};a.prototype.RAa=function(a){a&&a.constructor!==Uint8Array?this.Qr(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.Qr(new C.Hf(q.J.Vpa,q.u.E3))):(this.log.trace("Secure stop is ready to apply"),this.DQa=a,this.th.oCb(),this.gKa()):(this.log.error("The secure stop buffer is undefined"),this.Qr(new C.Hf(q.J.Vpa,q.u.F3)));};a.prototype.x9a=function(){var a;a=this;if(!this.DQa)return m.lb.from([this]);this.log.trace("Setting the secure stop data");return m.lb.create(function(b){a.th.Wab();a.Yf.update([a.DQa]).then(function(){a.th.BCa();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(c){var d;a.th.BCa();d=a.Mj.Lp(c);d.code=q.J.BR;d.ad=q.u.yh;d.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:c});b.error(d);});});};a.prototype.t9a=function(a){var b,c;b=this;c=this.Mj.cea();return c?(c=this.Rt.decode(c),this.Ak.wm(this.config.pBa,this.Yf.XCb(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};a.prototype.b1=function(a){a&&a!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+a),this.sessionId=a,this.log.p$("sessionId",a));};a.prototype.nB=function(a){return a===q.J.R5?this.config.zNa:!!a;};a.prototype.jP=function(){var a;a=this;this.log.trace("Initiating a renewal request");this.ri=u.bj.Mm;this.Bf=R.cC;this.Mj.gga(this.Yf)["catch"](function(){return a.ZV(new aa.Cc(q.J.AR));});};a.prototype.ZV=function(a){var b;b=this;return m.lb.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};a.prototype.pfa=function(a){return 0===a.length||a.reduce(function(a,b){return a||0===b.length;},!1);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(h.Ab)),c.__param(1,g.l(l.Se)),c.__param(2,g.l(f.$i)),c.__param(3,g.l(r.Bl)),c.__param(4,g.l(z.cqa)),c.__param(5,g.l(G.Mpa)),c.__param(6,g.l(E.Opa)),c.__param(7,g.l(p.Lg)),c.__param(8,g.l(P.hw))],b);}();b.gqa=a;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.fqa=void 0;c=a(0);g=a(1);m=a(8);n=a(25);q=a(42);l=a(53);h=a(35);f=a(63);p=a(1031);r=a(99);d=function(){var b;function a(a,b,c,d,f,g,h){this.Tr=a;this.qa=b;this.oc=c;this.config=d;this.ta=f;this.Ak=g;this.ml=h;}a.prototype.create=function(){var a;a=this;return Promise.all([this.ml.ilb(),this.ml.hlb(),this.ml.Up()]).then(function(b){var c,d;c=S(b);b=c.next().value;d=c.next().value;c=c.next().value;return new p.gqa(a.Tr,a.qa,a.oc,a.config,b,d,c,a.ta,a.Ak);});};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ab)),c.__param(1,g.l(n.Se)),c.__param(2,g.l(q.$i)),c.__param(3,g.l(l.Bl)),c.__param(4,g.l(h.Lg)),c.__param(5,g.l(f.hw)),c.__param(6,g.l(r.Ts))],b);}();b.fqa=d;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u;Object.defineProperty(b,"__esModule",{value:!0});b.Tva=void 0;c=a(0);g=a(1);m=a(2);n=a(22);q=a(98);l=a(97);h=a(88);f=a(63);p=a(53);r=a(42);u=a(475);d=function(){var b;function a(a,b,c,d,f){this.Tc=a;this.Dh=b;this.oc=c;this.vh=d;this.De=f;}a.prototype.bW=function(){return!1;};a.prototype.Z$=function(){return!1;};a.prototype.Wea=function(){return this.De.vi?"persistent-usage-record":"temporary";};a.prototype.cea=function(){return u.P3;};a.prototype.Rea=function(){return[{initDataTypes:["cenc"],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary","persistent-usage-record"]}];};a.prototype.Px=function(a){return this.Tc.wr(a.Zr[0],this.vh.decode("certificate"));};a.prototype.gga=function(a){return a.jP();};a.prototype.oba=function(a){var b,c,d;b=this;if("license-request"===a.messageType){c=this.vh.encode(new Uint8Array(a.message));d=JSON.parse(c);c=d.map(function(a){return b.oc.decode(a.payload);});d=d.map(function(a){return a.keyID;});return{type:a.type,sessionId:a.target.sessionId,uG:d,Zr:c,c_:"license-request"};}return{type:a.type,sessionId:a.target.sessionId,Zr:[new Uint8Array(a.message)],c_:a.messageType};};a.prototype.Lp=function(a){var b,c,d,g;c=null===(b=a.target)||void 0===b?void 0:b.error;c&&(d=c.systemCode,g=c.code);b=new h.Hf(m.J.DS,a instanceof f.Rm?m.u.TI:m.u.$C,d?this.Dh.KM(d,4):g,"",c);b.oM(a);return b;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.Ve)),c.__param(1,g.l(q.Nv)),c.__param(2,g.l(r.$i)),c.__param(3,g.l(l.ow)),c.__param(4,g.l(p.Bl))],b);}();b.Tva=d;},function(d,b){function a(a,b,d){var c;c=this;this.oc=a;this.Sc=b;this.vh=d;this.Llb=function(a){var b;a=a.subarray(14,30);a=c.oc.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.rYa={eWa:1667591779,OJb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.wqa=void 0;a.prototype.ncb=function(a,b){var c;c=this.rYa.eWa;b=b?1:0;a=a.map(function(a){return{XSb:"",Sqb:a,BV:a,QDb:a,LHb:[1]};});return this.Dsb(c,b,a);};a.prototype.Csb=function(a,b){var c;c=new Uint8Array(4);new DataView(c.buffer).setUint32(0,a);return this.xha("fpsi",b,[c]);};a.prototype.Bsb=function(a,b,d,g){a=[this.xha("fkri",0,[a])];b.byteLength&&a.push(this.WN("fkai",[b]));d.byteLength&&a.push(this.WN("fkcx",[d]));g.length&&a.push(this.WN("fkvl",[new Uint8Array(new Uint32Array(g).buffer)]));return this.WN("fpsk",a);};a.prototype.Dsb=function(a,b,d){var c;c=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);a=[this.Csb(a,b)];for(var g in d)b=d[g],a.push(this.Bsb(b.Sqb,b.BV,b.QDb,b.LHb));d=this.WN("fpsd",a);g=new Uint8Array(4);new DataView(g.buffer).setUint32(0,d.byteLength);return this.xha("pssh",0,[c,g,d]);};a.prototype.xha=function(a,b,d){var c,g,k;c=0;for(g in d)c+=d[g].byteLength;c=new Uint8Array(12+c);k=new DataView(c.buffer);g=0;k.setUint32(g,c.byteLength);g+=4;c.set(this.vh.decode(a),g);g+=4;k.setUint32(g,0|4095&b);g+=4;for(var h in d)a=d[h],c.set(a,g),g+=a.byteLength;return c;};a.prototype.WN=function(a,b){var c,d;c=0;for(d in b)c+=b[d].byteLength;c=new Uint8Array(8+c);d=0;new DataView(c.buffer).setUint32(d,c.byteLength);d+=4;c.set(this.vh.decode(a),d);d+=4;for(var g in b)a=b[g],c.set(a,d),d+=a.byteLength;return c;};b.wqa=a;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.xqa=void 0;c=a(0);g=a(1);m=a(251);n=a(1034);q=a(29);l=a(23);h=a(42);f=a(22);p=a(53);r=a(97);d=function(){var b;function a(a,b,c,d,f,g){a=m.Wq.call(this,a,b,c,d,f,g)||this;a.oc=c;a.Sc=d;a.De=f;a.vh=g;a.XIa=new n.wqa(a.oc,a.Sc,a.vh);return a;}ca(a,m.Wq);a.prototype.Qda=function(a,b){var c,d,f;c=this;try{d=b.map(function(a){return c.XIa.Llb(a);});this.mKa=d.map(function(a){return c.oc.encode(a);});f=this.XIa.ncb(d,this.De.vi);return m.Wq.prototype.Qda.call(this,a,[f]);}catch(P){return Promise.reject(P);}};a.prototype.update=function(a,b){var c,d,f,g;c=this;if(b)try{d=a.map(function(d,f){return{keyID:1===a.length?c.mKa[c.mKa.length-1]:b[f],payload:c.oc.encode(d)};});f=JSON.stringify(d);g=this.vh.decode(f);return m.Wq.prototype.update.call(this,[g]);}catch(aa){return Promise.reject(aa);}return m.Wq.prototype.update.call(this,a);};a.prototype.jP=function(){return m.Wq.prototype.update.call(this,[this.vh.decode("renew")]);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(q.fw)),c.__param(1,g.l(l.Ie)),c.__param(2,g.l(h.$i)),c.__param(3,g.l(f.Ve)),c.__param(4,g.l(p.Bl)),c.__param(5,g.l(r.ow))],b);}();b.xqa=d;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u;Object.defineProperty(b,"__esModule",{value:!0});b.Moa=void 0;c=a(0);g=a(1);m=a(2);n=a(22);q=a(98);l=a(252);h=a(88);f=a(63);p=a(53);r=a(15);u=a(47);d=function(){var b;function a(a,b,c,d){this.Tc=a;this.Dh=b;this.De=c;this.config=d;}a.prototype.bW=function(){return!0;};a.prototype.Z$=function(){return!0;};a.prototype.Wea=function(){return"temporary";};a.prototype.cea=function(){return this.De.EP?this.De.EP:"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};a.prototype.Rea=function(){var a,b;a=[{contentType:l.Pq,robustness:"HW_SECURE_DECODE"},{contentType:l.Pq,robustness:"SW_SECURE_DECODE"},{contentType:l.Pq,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:l.Pq,robustness:"SW_SECURE_CRYPTO"}];return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:l.Zv,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().gGa?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};a.prototype.Px=function(a){return this.Tc.wr(a.Zr[0],new Uint8Array([8,4]));};a.prototype.gga=function(){return Promise.reject(new u.Cc(m.J.AR));};a.prototype.oba=function(a){return{type:a.type,sessionId:a.target.sessionId,Zr:[new Uint8Array(a.message)],c_:a.messageType};};a.prototype.Lp=function(a){var b,c,d;b=new h.Hf(m.J.DS);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.ad=1<=c&&9>=c?m.u.$C+c:m.u.$C):b.ad=a instanceof f.Rm?m.u.TI:m.u.yh;try{d=a.message.match(/\((\d*)\)/)[1];b.mh=this.Dh.KM(d,4);}catch(P){}b.oM(a);return b;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.Ve)),c.__param(1,g.l(q.Nv)),c.__param(2,g.l(p.Bl)),c.__param(3,g.l(r.dd))],b);}();b.Moa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.dva=void 0;c=a(0);g=a(1);m=a(251);d=function(){var b;function a(a){return m.Wq.apply(this,arguments)||this;}ca(a,m.Wq);b=a;return b=c.__decorate([g.N()],b);}();b.dva=d;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u;Object.defineProperty(b,"__esModule",{value:!0});b.bqa=void 0;c=a(0);g=a(1);m=a(2);n=a(98);q=a(42);l=a(252);h=a(88);f=a(87);p=a(53);r=a(63);u=a(47);d=function(){var b;function a(a,b,c){this.Dh=a;this.oc=b;this.De=c;}a.prototype.bW=function(){return!0;};a.prototype.Z$=function(){return!1;};a.prototype.Wea=function(a){return this.De.vi&&a===f.bj.Mm?"persistent-usage-record":"temporary";};a.prototype.cea=function(){if(this.De.EP)return this.De.EP;};a.prototype.Rea=function(){return[{initDataTypes:["cenc"],audioCapabilities:[{contentType:l.Zv}],videoCapabilities:[{contentType:l.Pq}],sessionTypes:["temporary","persistent-usage-record"]}];};a.prototype.Px=function(){return!1;};a.prototype.gga=function(){return Promise.reject(new u.Cc(m.J.AR));};a.prototype.oba=function(a){var b;b=new Uint8Array(a.message);b=this.dda(b,"PlayReadyKeyMessage","Challenge");b=this.oc.decode(b);return{type:a.type,sessionId:a.target.sessionId,Zr:[b],c_:a.messageType};};a.prototype.Lp=function(a){var b,c;b=new h.Hf(m.J.DS);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.ad=1<=c&&9>=c?m.u.$C+c:m.u.$C):b.ad=a instanceof r.Rm?m.u.TI:m.u.yh;try{b.mh=this.Dh.KM(a.target&&a.target.error&&a.target.error.systemCode,4);}catch(X){}b.oM(a);return b;};a.prototype.dda=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);for(c=1;c<arguments.length;c++);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return"";g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}return(c=c.match(new RegExp(f)))?c[1]:"";};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.Nv)),c.__param(1,g.l(q.$i)),c.__param(2,g.l(p.Bl))],b);}();b.bqa=d;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,z,E,G,N,C,F,P,aa,R,A;Object.defineProperty(b,"__esModule",{value:!0});b.Usa=void 0;c=a(0);g=a(1);m=a(2);n=a(8);q=a(88);l=a(135);h=a(1038);f=a(1037);p=a(1036);r=a(251);u=a(22);z=a(98);E=a(42);G=a(23);N=a(29);C=a(1035);F=a(1033);P=a(97);aa=a(15);R=a(136);A=a(53);d=function(){var b;function a(a,b,c,d,f,g,h,k,l){this.Tr=a;this.Tc=b;this.vh=c;this.Dh=d;this.oc=f;this.is=g;this.qO=h;this.config=k;this.De=l;this.log=this.Tr.xb("MediaKeySystemAccessServices");}a.prototype.WF=function(){this.ms||(this.ms=this.jBb());return this.ms;};a.prototype.Deb=function(a){var b;b=this;return new Promise(function(c,d){var f,g;f=R.ob.hea(a);g=b.eHa(f);f=b.aHa(f);g.DAb(a,f.Rea()).then(function(d){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:d.getConfiguration?JSON.stringify(d.getConfiguration()):void 0});c(d);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});d(new q.Hf(m.J.Rpa,m.u.yh,void 0,"Unable to create media keys system access. "+c.message,c));});});};a.prototype.Up=function(){var a;a=this;return this.WF().then(function(b){return a.bHa(b);});};a.prototype.glb=function(){var a,b;a=this;b=this.config().nKa||[this.config().Yd];if(1<b.length)return this.WF().then(function(b){return a.bHa(b);}).then(function(a){return R.ob.$Ga(a);});b=R.ob.hea(b[0]);return Promise.resolve(R.ob.$Ga(b));};a.prototype.hlb=function(){var a;a=this;return this.Up().then(function(b){return a.aHa(b);});};a.prototype.ilb=function(){var a;a=this;return this.Up().then(function(b){return a.eHa(b);});};a.prototype.bHa=function(a){return R.ob.hea(a.keySystem);};a.prototype.aHa=function(a){switch(a){case l.Im.WB:return new h.bqa(this.Dh,this.oc,this.De);case l.Im.VA:return new F.Tva(this.Tc,this.Dh,this.oc,this.vh,this.De);default:return new p.Moa(this.Tc,this.Dh,this.De,this.config);}};a.prototype.eHa=function(a){switch(a){case l.Im.WB:return new f.dva(this.qO,this.is,this.oc,this.Tc,this.De,this.vh);case l.Im.VA:return new C.xqa(this.qO,this.is,this.oc,this.Tc,this.De,this.vh);default:return new r.Wq(this.qO,this.is,this.oc,this.Tc,this.De,this.vh);}};a.prototype.jBb=function(){var a,b;a=this;b=(this.config().nKa||[this.config().Yd]).map(function(b){return function(){return a.Deb(b);};});return this.kBb(b);};a.prototype.kBb=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.Ab)),c.__param(1,g.l(u.Ve)),c.__param(2,g.l(P.ow)),c.__param(3,g.l(z.Nv)),c.__param(4,g.l(E.$i)),c.__param(5,g.l(G.Ie)),c.__param(6,g.l(N.fw)),c.__param(7,g.l(aa.dd)),c.__param(8,g.l(A.Bl))],b);}();b.Usa=d;},function(d,b,a){d=a(19);a=a(479);d.lb.from=a.from;},function(d,b){b.hZ=function(a){return a instanceof Date&&!isNaN(+a);};},function(d,b,a){d=a(488);a=a(487);b.async=new a.Xna(d.Una);},function(d,b,a){var c;c=a(176);b.gqb=function(a){return!c.isArray(a)&&0<=a-parseFloat(a)+1;};},function(d,b,a){var c,g,m,n,q;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(1043);d=a(19);m=a(1042);n=a(254);q=a(1041);a=function(a){function b(b,c,d){void 0===b&&(b=0);a.call(this);this.V_=-1;this.VEa=0;g.gqb(c)?this.V_=1>Number(c)&&1||Number(c):n.rZ(c)&&(d=c);n.rZ(d)||(d=m.async);this.ta=d;this.VEa=q.hZ(b)?+b-this.ta.now():b;}c(b,a);b.create=function(a,c,d){void 0===a&&(a=0);return new b(a,c,d);};b.ic=function(a){var b,c,d;b=a.index;c=a.V_;d=a.Yi;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.Lc(a,c);}};b.prototype.Ll=function(a){return this.ta.Lc(b.ic,this.VEa,{index:0,V_:this.V_,Yi:a});};return b;}(d.lb);b.c2a=a;},function(d,b,a){d=a(1044);b.Dv=d.c2a.create;},function(d,b,a){d=a(19);a=a(1045);d.lb.Dv=a.Dv;},function(d,b,a){d=a(19);a=a(481);d.lb.of=a.of;},function(d,b,a){var c,g,m,n,q,l;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(176);m=a(253);d=a(175);n=a(174);b.race=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];if(1===a.length)if(g.isArray(a[0]))a=a[0];else return a[0];return new m.v2(a).fq(new q());};q=function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new l(a));};return a;}();b.aOb=q;l=function(a){function b(b){a.call(this,b);this.qfa=!1;this.Mia=[];this.$P=[];}c(b,a);b.prototype.Uk=function(a){this.Mia.push(a);};b.prototype.Pd=function(){var a,b,d;a=this.Mia;b=a.length;if(0===b)this.destination.complete();else{for(var c=0;c<b&&!this.qfa;c++){d=a[c];d=n.D1(this,d,d,c);this.$P&&this.$P.push(d);this.add(d);}this.Mia=null;}};b.prototype.D_=function(a,b,c){var d;if(!this.qfa){this.qfa=!0;for(a=0;a<this.$P.length;a++)if(a!==c){d=this.$P[a];d.unsubscribe();this.remove(d);}this.$P=null;}this.destination.next(b);};return b;}(d.BS);b.bOb=l;},function(d,b,a){d=a(19);a=a(1048);d.lb.race=a.race;},function(d,b,a){d=a(478);b.Hr=d.nva.create;},function(d,b,a){d=a(19);a=a(1050);d.lb.Hr=a.Hr;},function(d,b,a){d=a(173);b.empty=d.CR.create;},function(d,b,a){d=a(19);a=a(1052);d.lb.empty=a.empty;},function(d,b,a){var c;c=a(483);b.dcb=function(){return c.DB(1);};},function(d,b,a){var c,g,m;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(19);g=a(480);m=a(173);a=function(a){function b(b,c){a.call(this);this.P$=b;(this.ta=c)||1!==b.length||(this.qt=!0,this.value=b[0]);}c(b,a);b.create=function(a,c){var d;d=a.length;return 0===d?new m.CR():1===d?new g.Vva(a[0],c):new b(a,c);};b.ic=function(a){var b,c,d;b=a.P$;c=a.index;d=a.Yi;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.Lc(a)));};b.prototype.Ll=function(a){var c,d,g;c=this.P$;d=this.ta;g=c.length;if(d)return d.Lc(b.ic,0,{P$:c,index:0,length:g,Yi:a});for(d=0;d<g&&!a.closed;d++)a.next(c[d]);a.complete();};return b;}(d.lb);b.nVa=a;},function(d,b,a){var c,g,m,n,q,l;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(85);d=a(19);m=a(255);a=function(a){function b(b,c){a.call(this);this.ta=c;if(null==b)throw Error("iterator cannot be null.");if((c=b[m.iterator])||"string"!==typeof b)if(c||void 0===b.length){if(!c)throw new TypeError("object is not iterable");b=b[m.iterator]();}else b=new q(b);else b=new n(b);this.iterator=b;}c(b,a);b.create=function(a,c){return new b(a,c);};b.ic=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.Yi;if(a.iN)d.error(a.error);else{f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.Lc(a));}};b.prototype.Ll=function(a){var c,d;c=this.iterator;d=this.ta;if(d)return d.Lc(b.ic,0,{index:0,iterator:c,Yi:a});do{d=c.next();if(d.done){a.complete();break;}else a.next(d.value);if(a.closed){"function"===typeof c["return"]&&c["return"]();break;}}while(1);};return b;}(d.lb);b.RZa=a;n=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.Cy=a;this.rN=b;this.Xga=c;}a.prototype[m.iterator]=function(){return this;};a.prototype.next=function(){return this.rN<this.Xga?{done:!1,value:this.Cy.charAt(this.rN++)}:{done:!0,value:void 0};};return a;}();q=function(){function a(a,b,c){var d;void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&g.root.isFinite(c)){d=+c;c=(0===d||isNaN(d)?d:0>d?-1:1)*Math.floor(Math.abs(c));c=0>=c?0:c>l?l:c;}this.A9a=a;this.rN=b;this.Xga=c;}a.prototype[m.iterator]=function(){return this;};a.prototype.next=function(){return this.rN<this.Xga?{done:!1,value:this.A9a[this.rN++]}:{done:!0,value:void 0};};return a;}();l=Math.pow(2,53)-1;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,z;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(176);m=a(485);n=a(484);q=a(478);l=a(1056);h=a(253);f=a(1055);p=a(255);r=a(19);u=a(486);z=a(256);d=function(a){function b(b,c){a.call(this,null);this.Fqb=b;this.ta=c;}c(b,a);b.create=function(a,c){if(null!=a){if("function"===typeof a[z.observable])return a instanceof r.lb&&!c?a:new b(a,c);if(g.isArray(a))return new h.v2(a,c);if(n.SJa(a))return new q.nva(a,c);if("function"===typeof a[p.iterator]||"string"===typeof a)return new l.RZa(a,c);if(m.CJa(a))return new f.nVa(a,c);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};b.prototype.Ll=function(a){var b,c;b=this.Fqb;c=this.ta;return null==c?b[z.observable]().subscribe(a):b[z.observable]().subscribe(new u.Bta(a,c,0));};return b;}(r.lb);b.sYa=d;},function(d,b,a){var c,g,m,n;c=a(254);g=a(481);m=a(479);n=a(1054);b.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return 1===a.length||2===a.length&&c.rZ(a[1])?m.from(a[0]):n.dcb()(g.of.apply(void 0,a));};},function(d,b,a){d=a(19);a=a(1058);d.lb.concat=a.concat;},function(){},function(d,b,a){var c,g,m,n;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(175);g=a(174);b.kQ=function(a){return function(b){return b.fq(new m(a));};};m=function(){function a(a){this.Sa=a;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.Sa));};return a;}();n=function(a){function b(b,c){a.call(this,b);this.Sa=c;this.add(g.D1(this,c));}c(b,a);b.prototype.D_=function(){this.complete();};b.prototype.ds=function(){};return b;}(d.BS);},function(d,b,a){var c;c=a(1061);b.kQ=function(a){return c.kQ(a)(this);};},function(d,b,a){d=a(19);a=a(1062);d.lb.prototype.kQ=a.kQ;},function(d,b){var a;a=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);b.iVa=d;},function(d,b,a){var c,g,m,n,q;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(70);g=a(1064);m=a(173);b.jQ=function(a){return function(b){return 0===a?new m.CR():b.fq(new n(a));};};n=function(){function a(a){this.total=a;if(0>this.total)throw new g.iVa();}a.prototype.call=function(a,b){return b.subscribe(new q(a,this.total));};return a;}();q=function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0;}c(b,a);b.prototype.Uk=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return b;}(d.Qm);},function(d,b,a){var c;c=a(1065);b.jQ=function(a){return c.jQ(a)(this);};},function(d,b,a){d=a(19);a=a(1066);d.lb.prototype.jQ=a.jQ;},function(d,b,a){var c,g,m;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(70);b.SP=function(a){return function(b){return b.fq(new g(a));};};g=function(){function a(a){this.oy=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.oy));};return a;}();m=function(a){function b(b,c){a.call(this,b);this.oy=c;this.Nla=!0;this.index=0;}c(b,a);b.prototype.Uk=function(a){var b;b=this.destination;this.Nla&&this.eGb(a);this.Nla||b.next(a);};b.prototype.eGb=function(a){try{this.Nla=!!this.oy(a,this.index++);}catch(h){this.destination.error(h);}};return b;}(d.Qm);},function(d,b,a){var c;c=a(1068);b.SP=function(a){return c.SP(a)(this);};},function(d,b,a){d=a(19);a=a(1069);d.lb.prototype.SP=a.SP;},function(d,b,a){var c;c=a(482);b.IG=function(a,b,d){void 0===d&&(d=Number.POSITIVE_INFINITY);return c.IG(a,b,d)(this);};},function(d,b,a){d=a(19);a=a(1071);d.lb.prototype.IG=a.IG;d.lb.prototype.Fr=a.IG;},function(d,b){b.Qob=function(a){return a;};},function(d,b,a){var c;c=a(483);b.DB=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return c.DB(a)(this);};},function(d,b,a){d=a(19);a=a(1074);d.lb.prototype.DB=a.DB;},function(d,b,a){var c,g,m;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(70);b.map=function(a,b){return function(c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.fq(new g(a,b));};};g=function(){function a(a,b){this.ZB=a;this.kma=b;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.ZB,this.kma));};return a;}();b.mMb=g;m=function(a){function b(b,c,d){a.call(this,b);this.ZB=c;this.count=0;this.kma=d||this;}c(b,a);b.prototype.Uk=function(a){var b;try{b=this.ZB.call(this.kma,a,this.count++);}catch(f){this.destination.error(f);return;}this.destination.next(b);};return b;}(d.Qm);},function(d,b,a){var c;c=a(1076);b.map=function(a,b){return c.map(a,b)(this);};},function(d,b,a){d=a(19);a=a(1077);d.lb.prototype.map=a.map;},function(d,b){var a;a=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);b.dYa=d;},function(d,b,a){var c,g,m,n;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(70);g=a(1079);b.Tg=function(a,b,c){return function(d){return d.fq(new m(a,b,c,d));};};m=function(){function a(a,b,c,d){this.oy=a;this.ws=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.oy,this.ws,this.defaultValue,this.source));};return a;}();n=function(a){function b(b,c,d,g,k){a.call(this,b);this.oy=c;this.ws=d;this.defaultValue=g;this.source=k;this.hG=!1;this.index=0;"undefined"!==typeof g&&(this.FZ=g,this.hG=!0);}c(b,a);b.prototype.Uk=function(a){var b;b=this.index++;this.oy?this.J7a(a,b):this.ws?this.vAa(a,b):(this.FZ=a,this.hG=!0);};b.prototype.J7a=function(a,b){var c;try{c=this.oy(a,b,this.source);}catch(y){this.destination.error(y);return;}c&&(this.ws?this.vAa(a,b):(this.FZ=a,this.hG=!0));};b.prototype.vAa=function(a,b){var c;try{c=this.ws(a,b);}catch(y){this.destination.error(y);return;}this.FZ=c;this.hG=!0;};b.prototype.Pd=function(){var a;a=this.destination;this.hG?(a.next(this.FZ),a.complete()):a.error(new g.dYa());};return b;}(d.Qm);},function(d,b,a){var c;c=a(1080);b.Tg=function(a,b,d){return c.Tg(a,b,d)(this);};},function(d,b,a){d=a(19);a=a(1081);d.lb.prototype.Tg=a.Tg;},function(d,b,a){var c,g,m,n;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(70);b.cFb=function(a,b,c){return function(d){return d.fq(new m(a,b,c));};};m=function(){function a(a,b,c){this.Nub=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.Nub,this.error,this.complete));};return a;}();n=function(a){function b(b,c,d,k){a.call(this,b);b=new g.Qm(c,d,k);b.Cm=!0;this.add(b);this.Hka=b;}c(b,a);b.prototype.Uk=function(a){var b;b=this.Hka;b.next(a);b.yC?this.destination.error(b.zC):this.destination.next(a);};b.prototype.tf=function(a){var b;b=this.Hka;b.error(a);b.yC?this.destination.error(b.zC):this.destination.error(a);};b.prototype.Pd=function(){var a;a=this.Hka;a.complete();a.yC?this.destination.error(a.zC):this.destination.complete();};return b;}(g.Qm);},function(d,b,a){var c;c=a(1083);b.w8=function(a,b,d){return c.cFb(a,b,d)(this);};},function(d,b,a){d=a(19);a=a(1084);d.lb.prototype.qM=a.w8;d.lb.prototype.w8=a.w8;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b,c,d){a.call(this);this.parent=b;this.lwb=c;this.kwb=d;this.index=0;}c(b,a);b.prototype.Uk=function(a){this.parent.D_(this.lwb,a,this.kwb,this.index++,this);};b.prototype.tf=function(a){this.parent.Zub(a);this.unsubscribe();};b.prototype.Pd=function(){this.parent.ds(this);this.unsubscribe();};return b;}(a(70).Qm);b.Fra=d;},function(d,b,a){var c,g,m,n;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(175);g=a(174);b.Rab=function(a){return function(b){var c;c=new m(a);b=b.fq(c);return c.Baa=b;};};m=function(){function a(a){this.bla=a;}a.prototype.call=function(a,b){return b.subscribe(new n(a,this.bla,this.Baa));};return a;}();n=function(a){function b(b,c,d){a.call(this,b);this.bla=c;this.Baa=d;}c(b,a);b.prototype.error=function(b){var c;if(!this.yg){c=void 0;try{c=this.bla(b,this.Baa);}catch(p){a.prototype.error.call(this,p);return;}this.M7a();this.add(g.D1(this,c));}};return b;}(d.BS);},function(d,b,a){var c;c=a(1087);b.i8=function(a){return c.Rab(a)(this);};},function(d,b,a){d=a(19);a=a(1088);d.lb.prototype["catch"]=a.i8;d.lb.prototype.i8=a.i8;},function(d,b,a){a(19);d=function(){function a(a,b,c){this.kind=a;this.value=b;this.error=c;this.hG="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.qM=function(a,b,c){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return c&&c();}};a.prototype.accept=function(a,b,c){return a&&"function"===typeof a.next?this.observe(a):this.qM(a,b,c);};a.Leb=function(b){return"undefined"!==typeof b?new a("N",b):a.mGb;};a.web=function(b){return new a("E",void 0,b);};a.meb=function(){return a.Vbb;};a.Vbb=new a("C");a.mGb=new a("N",void 0);return a;}();b.Notification=d;},function(d,b){d=function(){function a(b,d){void 0===d&&(d=a.now);this.O1a=b;this.now=d;}a.prototype.Lc=function(a,b,d){void 0===b&&(b=0);return new this.O1a(this,a).Lc(d,b);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();b.N1a=d;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(){a.apply(this,arguments);}c(b,a);return b;}(a(487).Xna);b.e1a=d;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(){a.call(this);}c(b,a);b.prototype.Lc=function(){return this;};return b;}(a(114).lw);b.gVa=d;},function(d,b,a){var c;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function b(b,c){a.call(this,b,c);this.ta=b;this.ena=c;}c(b,a);b.prototype.Lc=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.Lc.call(this,b,c);this.cl=c;this.state=b;this.ta.flush(this);return this;};b.prototype.cf=function(b,c){return 0<c||this.closed?a.prototype.cf.call(this,b,c):this.uya(b);};b.prototype.qka=function(b,c,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.cl?a.prototype.qka.call(this,b,c,d):b.flush(this);};return b;}(a(488).Una);b.c1a=d;},function(d,b,a){d=a(1094);a=a(1092);b.Bk=new a.e1a(d.c1a);},function(d,b,a){var c,g,m,n,q,l,h;c=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(491);g=a(1095);m=a(114);n=a(486);q=a(490);l=a(489);a=function(a){function b(b,c,d){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this);this.ta=d;this.Wf=[];this.$2a=1>b?1:b;this.Y7a=1>c?1:c;}c(b,a);b.prototype.next=function(b){var c;c=this.Iya();this.Wf.push(new h(c,b));this.sAa();a.prototype.next.call(this,b);};b.prototype.Ll=function(a){var b,c,d;b=this.sAa();c=this.ta;if(this.closed)throw new q.wD();this.iN?d=m.lw.EMPTY:this.yg?d=m.lw.EMPTY:(this.bv.push(a),d=new l.xwa(this,a));c&&a.add(a=new n.Bta(a,c));for(var c=b.length,f=0;f<c&&!a.closed;f++)a.next(b[f].value);this.iN?a.error(this.oma):this.yg&&a.complete();return d;};b.prototype.Iya=function(){return(this.ta||g.Bk).now();};b.prototype.sAa=function(){for(var a=this.Iya(),b=this.$2a,c=this.Y7a,d=this.Wf,f=d.length,g=0;g<f&&!(a-d[g].time<c);)g++;f>b&&(g=Math.max(g,f-b));0<g&&d.splice(0,g);return d;};return b;}(d.Pm);b.k1a=a;h=function(){return function(a,b){this.time=a;this.value=b;};}();},function(d,b){b.Sub=function(){};},function(d,b,a){var g;function c(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:g.Sub;}g=a(1097);b.bxb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return c(a);};b.cxb=c;},function(d,b){var a;a=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(b){function c(a){b.call(this);this.IF=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);b.pT=d;},function(d,b,a){var g,m;function c(){try{return m.apply(this,arguments);}catch(t){return g.vx.e=t,g.vx;}}g=a(492);b.mTa=function(a){m=a;return c;};},function(d,b,a){var c,g,m;c=a(70);g=a(257);m=a(258);b.GFb=function(a,b,d){if(a){if(a instanceof c.Qm)return a;if(a[g.iC])return a[g.iC]();}return a||b||d?new c.Qm(a,b,d):new c.Qm(m.empty);};},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,z,E,G,F,C;Object.defineProperty(b,"__esModule",{value:!0});b.Kpa=void 0;c=a(0);g=a(1);m=a(132);n=a(8);q=a(35);l=a(477);h=a(69);f=a(87);p=a(53);r=a(260);u=a(261);z=a(476);E=a(15);G=a(99);F=a(134);C=a(52);d=function(){var b;function a(a,b,c,d,g,h,k,l,n,p){var q;q=this;this.ta=b;this.ps=c;this.config=d;this.Sp=g;this.dFa=h;this.WE=k;this.ml=l;this.dO=n;this.wk=p;this.DEb=function(a,b){q.wk.mark(C.ya.HR,a.Yg.ga,"generate-challenge");b.yG().jQ(1).subscribe(function(c){q.xKa.next({Ar:b.Up(),data:c.li});q.wk.mark(C.ya.GR,a.Yg.ga,"generate-challenge");});b.yG().map(function(c){return q.YM(a,b,c);}).DB().qM(function(a){return b.LAa(a);}).subscribe(void 0,function(a){b.D8a(a);},function(){q.qab(b);});};this.GEb=function(a){a.uP.map(function(b){return q.WHa(a,b);}).DB().qM(function(b){return a.RAa(b.response);}).subscribe(void 0,a.RAa);};this.log=a.xb("DrmServices");this.xKa=new m.Pm();this.Sp().mp&&this.WE.iPa().then(function(){q.gEb();})["catch"](function(a){q.log.error("Unable to load the persisted DRM data",a);});this.config.bZ&&this.ml.WF().then(function(a){return q.LDa(a,{Yd:a.keySystem},f.bj.Mm,n()).Fr(function(a){return a.close();}).subscribe();});}a.prototype.ov=function(a,b){var c;c=this;return new Promise(function(d,f){c.pi(a,b).subscribe(d,f);});};a.prototype.Pjb=function(a,b){var c;c=this;return new Promise(function(d,f){c.IX(a,b).subscribe(d,f);});};a.prototype.pi=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.yHa(a,a.type));return this.aM(a.context,a.type,b).Fr(function(b){c.dMa(a,b);return c.sDa(b.IX(a.VY),b);});};a.prototype.dMa=function(a,b){b.SCb(a.Yg);this.DEb(a,b);};a.prototype.kEb=function(a,b){var c,d;c=this;this.config.vi?(this.log.info("Releasing server license and EME license",this.Xea(a)),this.GEb(a),d=a.wGa()):(this.log.info("Releasing server license",this.Xea(a)),d=this.WHa(a));return this.sDa(d,a).qM(function(){var d;d=Object.assign({Yd:a.context.Yd,pc:[]},a.Yg);c.WE.lka(d);b.gAb();});};a.prototype.yG=function(){return this.xKa.Q$();};a.prototype.yHa=function(a,b){return{movieId:a.Yg.G,xid:a.Yg.ga,type:f.Zga(b)};};a.prototype.Xea=function(a){return{movieId:a.Yg?a.Yg.G:void 0,xid:a.Yg?a.Yg.ga:void 0,keySessionId:a.Gx()};};a.prototype.sDa=function(a,b){return m.lb.concat(a,m.lb.of(b)).Tg();};a.prototype.YM=function(a,b,c){this.log.info("Sending license request",this.yHa(a,c.ri));return m.lb.Hr(this.ps.pi({ga:a.Yg.ga,hg:a.Yg.hg,OW:[a.Yg.ik],li:[{sessionId:b.Gx()||"session",data:c.li}],ri:c.ri,Ar:b.Up(),HCa:c.HCa,bO:a.Yg.bO,Aj:a.Yg.Aj}));};a.prototype.WHa=function(a,b){this.log.info("Sending release request",this.Xea(a));return b?m.lb.Hr(this.ps.release({ga:a.Yg.ga,pc:a.pc,li:b.li})):m.lb.Hr(this.ps.release({ga:a.Yg.ga,pc:a.pc}));};a.prototype.IX=function(a,b){return this.aM(a.context,a.type,b).Fr(function(b){return m.lb.race(b.IX(a.VY).map(function(){return b;}),b.yG().map(function(){return b;}));});};a.prototype.aM=function(a,b,c){var d;d=this;return m.lb.Hr(this.ml.WF()).Fr(function(f){return d.LDa(f,a,b,c);});};a.prototype.LDa=function(a,b,c,d){return m.lb.Hr(this.dFa.create()).Fr(function(f){return f.tn(b,a,d,c);});};a.prototype.fEb=function(a){var b;b=this;return this.config.vi?m.lb.Hr(this.Lrb(a)):m.lb.Hr(this.ps.release({ga:a.ga,pc:a.pc}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return m.lb.empty();}).map(function(){return a;});};a.prototype.Lrb=function(a){var b;b=this;this.ml.WF().then(function(c){b.dFa.create().then(function(d){d.tn({Yd:c.keySystem},c,b.dO(),f.bj.Mm).Fr(function(){return d.Yrb(a.pc[0].id);}).Fr(function(){return d.wGa();}).subscribe(void 0,function(a){b.log.error("SecureStop failed.",a);});});});return Promise.resolve(a);};a.prototype.gEb=function(){var a;a=this;this.ta.rh(this.config.gja,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.WE.PW.length});b=a.WE.PW.filter(function(a){return!a.active;}).map(function(b){return a.fEb(b);});m.lb.concat.apply(m.lb,[].concat(ea(b))).subscribe(function(b){a.WE.lka(b);});});};a.prototype.qab=function(a){var b;if(a.Gx()&&a.Yg){b=new u.yR();b.Yd=a.context.Yd;b.pc=a.pc;b.ga=a.Yg.ga;b.G=a.Yg.G;this.WE.JAa(b);}};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(n.Ab)),c.__param(1,g.l(q.Lg)),c.__param(2,g.l(l.x3)),c.__param(3,g.l(p.Bl)),c.__param(4,g.l(E.dd)),c.__param(5,g.l(z.I3)),c.__param(6,g.l(r.lR)),c.__param(7,g.l(G.Ts)),c.__param(8,g.l(F.pD)),c.__param(9,g.l(h.qD))],b);}();b.Kpa=d;},function(d,b,a){var c,g,m,n,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.bFa=void 0;d=a(1);c=a(116);g=a(1102);m=a(99);n=a(1039);q=a(476);l=a(1032);b.bFa=new d.Dc(function(a){a(c.y3).to(g.Kpa).Z();a(m.Ts).to(n.Usa).Z();a(q.I3).to(l.fqa);});},function(d,b,a){var c,g,m,n,q,l;Object.defineProperty(b,"__esModule",{value:!0});b.G2=void 0;c=a(0);g=a(1);m=a(40);n=a(28);q=a(3);l=a(36);d=function(){var b;function a(a,b){return m.ae.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}ca(a,m.ae);na.Object.defineProperties(a.prototype,{bZ:{configurable:!0,enumerable:!0,get:function(){return!1;}},vi:{configurable:!0,enumerable:!0,get:function(){return!1;}},Vx:{configurable:!0,enumerable:!0,get:function(){return q.bh(5);}},gja:{configurable:!0,enumerable:!0,get:function(){return q.bh(10);}},Qfa:{configurable:!0,enumerable:!0,get:function(){return q.Gb(2E3);}},Tka:{configurable:!0,enumerable:!0,get:function(){return q.Gb(1E3);}},$wb:{configurable:!0,enumerable:!0,get:function(){return q.Gb(2500);}},uM:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},HM:{configurable:!0,enumerable:!0,get:function(){return!1;}},Xo:{configurable:!0,enumerable:!0,get:function(){return!0;}},lBa:{configurable:!0,enumerable:!0,get:function(){return q.bh(30);}},mBa:{configurable:!0,enumerable:!0,get:function(){return q.bh(30);}},pBa:{configurable:!0,enumerable:!0,get:function(){return q.bh(30);}},nBa:{configurable:!0,enumerable:!0,get:function(){return q.bh(30);}},J$:{configurable:!0,enumerable:!0,get:function(){return q.bh(30);}},EP:{configurable:!0,enumerable:!0,get:function(){return"";}},zNa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});b=a;c.__decorate([l.config(l.vd,"initializeKeySystemAtStartup")],b.prototype,"bZ",null);c.__decorate([l.config(l.vd,"secureStopEnabled")],b.prototype,"vi",null);c.__decorate([l.config(l.Vg,"licenseRenewalRequestDelay")],b.prototype,"Vx",null);c.__decorate([l.config(l.Vg,"persistedReleaseDelay")],b.prototype,"gja",null);c.__decorate([l.config(l.Vg,"secureStopKeyMessageTimeoutMilliseconds")],b.prototype,"Qfa",null);c.__decorate([l.config(l.Vg,"secureStopKeyAddedTimeoutMilliseconds")],b.prototype,"Tka",null);c.__decorate([l.config(l.Vg,"secureStopPersistedKeyMessageTimeoutMilliseconds")],b.prototype,"$wb",null);c.__decorate([l.config(l.string,"drmPersistKey")],b.prototype,"uM",null);c.__decorate([l.config(l.vd,"forceLimitedDurationLicense")],b.prototype,"HM",null);c.__decorate([l.config(l.vd,"prepareCadmium")],b.prototype,"Xo",null);c.__decorate([l.config(l.Vg,"apiCloseTimeout")],b.prototype,"lBa",null);c.__decorate([l.config(l.Vg,"apiCreateMediaKeysTimeout")],b.prototype,"mBa",null);c.__decorate([l.config(l.Vg,"apiSetServerCertificateTimeout")],b.prototype,"pBa",null);c.__decorate([l.config(l.Vg,"apiGenerateRequestTimeout")],b.prototype,"nBa",null);c.__decorate([l.config(l.Vg,"apiUpdateTimeout")],b.prototype,"J$",null);c.__decorate([l.config(l.string,"serverCertificate")],b.prototype,"EP",null);c.__decorate([l.config(l.vd,"outputRestrictedIsFatal")],b.prototype,"zNa",null);return b=c.__decorate([g.N(),c.__param(0,g.l(n.Ci)),c.__param(1,g.l(n.Yy)),c.__param(1,g.optional())],b);}();b.G2=d;},function(d,b,a){var c,g,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.dqa=void 0;c=a(0);g=a(1);m=a(28);n=a(36);q=a(1104);d=function(){var b;function a(a,b){return q.G2.call(this,a,void 0===b?"FirefoxEmeConfig":b)||this;}ca(a,q.G2);na.Object.defineProperties(a.prototype,{bZ:{configurable:!0,enumerable:!0,get:function(){return!0;}}});b=a;c.__decorate([n.config(n.vd,"initializeKeySystemAtStartup")],b.prototype,"bZ",null);return b=c.__decorate([g.N(),c.__param(0,g.l(m.Ci)),c.__param(1,g.l(m.Yy)),c.__param(1,g.optional())],b);}();b.dqa=d;},function(d,b,a){var c,g,m,n,q,l,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Bqa=void 0;c=a(0);g=a(39);m=a(1);n=a(3);q=a(40);l=a(115);h=a(36);f=a(28);d=function(){var b;function a(a,b,c,d){a=q.ae.call(this,a,void 0===d?"FtlProbeConfigImpl":d)||this;a.Yf=b;a.Ia=c;return a;}ca(a,q.ae);na.Object.defineProperties(a.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.Oda+(-1===this.Oda.indexOf("?")?"?":"&")+"monotonic="+this.Ia.fMa+"&device=web";}},ORa:{configurable:!0,enumerable:!0,get:function(){return n.Dd;}},Eda:{configurable:!0,enumerable:!0,get:function(){return"";}},Oda:{configurable:!0,enumerable:!0,get:function(){return this.Yf.endpoint+"/ftl/probe"+(this.Eda?"?force="+this.Eda:"");}}});b=a;c.__decorate([h.config(h.vd,"ftlEnabled")],b.prototype,"enabled",null);c.__decorate([h.config(h.Vg,"ftlStartDelay")],b.prototype,"ORa",null);c.__decorate([h.config(h.string,"ftlEndpointForceParam")],b.prototype,"Eda",null);c.__decorate([h.config(h.url,"ftlEndpoint")],b.prototype,"Oda",null);return b=c.__decorate([m.N(),c.__param(0,m.l(f.Ci)),c.__param(1,m.l(l.Qy)),c.__param(2,m.l(g.Ai)),c.__param(3,m.l(f.Yy)),c.__param(3,m.optional())],b);}();b.Bqa=d;},function(d,b,a){var c,g,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.pta=void 0;c=a(0);g=a(1);m=a(36);n=a(40);q=a(28);d=function(){var b;function a(a,b){return n.ae.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}ca(a,n.ae);na.Object.defineProperties(a.prototype,{TTa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});b=a;c.__decorate([m.config(m.vd,"useNetworkMonitor")],b.prototype,"TTa",null);return b=c.__decorate([g.N(),c.__param(0,g.l(q.Ci)),c.__param(1,g.l(q.Yy)),c.__param(1,g.optional())],b);}();b.pta=d;},function(d,b){function a(a){this.value=a;}Object.defineProperty(b,"__esModule",{value:!0});b.L5=void 0;a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.vNa=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};b.L5=a;},function(d,b,a){var c,g,m,n,q,l,h,f,p;Object.defineProperty(b,"__esModule",{value:!0});b.Gqa=b.FF=void 0;c=a(0);g=a(3);m=a(1);n=a(36);q=a(40);l=a(32);h=a(28);f=a(137);p={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.FF=function(a,b){return a.jPa(p[b]||b,l.Os);};d=function(){var d;function a(a,b,c){a=q.ae.call(this,a,void 0===c?"GeneralConfigImpl":c)||this;a.Wl=b;return a;}ca(a,q.ae);na.Object.defineProperties(a.prototype,{FF:{configurable:!0,enumerable:!0,get:function(){return l.Os.a1a;}},Vla:{configurable:!0,enumerable:!0,get:function(){return g.bh(8);}},Lx:{configurable:!0,enumerable:!0,get:function(){return"";}},XE:{configurable:!0,enumerable:!0,get:function(){return"";}},JC:{configurable:!0,enumerable:!0,get:function(){return"";}},ySa:{configurable:!0,enumerable:!0,get:function(){return!1;}},xV:{configurable:!0,enumerable:!0,get:function(){return!0;}},SY:{configurable:!0,enumerable:!0,get:function(){return this.Wl.SY;}},mib:{configurable:!0,enumerable:!0,get:function(){return!1;}},qr:{configurable:!0,enumerable:!0,get:function(){return{};}},iQa:{configurable:!0,enumerable:!0,get:function(){return!1;}},xga:{configurable:!0,enumerable:!0,get:function(){return!1;}},j2:{configurable:!0,enumerable:!0,get:function(){return!1;}},Dq:{configurable:!0,enumerable:!0,get:function(){return!1;}},xM:{configurable:!0,enumerable:!0,get:function(){return!1;}},By:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},Cr:{configurable:!0,enumerable:!0,get:function(){return 0<=[l.Os.Mwa,l.Os.Gra].indexOf(this.FF);}}});d=a;c.__decorate([n.config(b.FF,"environment")],d.prototype,"FF",null);c.__decorate([n.config(n.Vg,"storageTimeout")],d.prototype,"Vla",null);c.__decorate([n.config(n.string,"groupName")],d.prototype,"Lx",null);c.__decorate([n.config(n.string,"canaryGroupName")],d.prototype,"XE",null);c.__decorate([n.config(n.string,"uiGroupName")],d.prototype,"JC",null);c.__decorate([n.config(n.vd,"testIndexDBForCorruptedDatabase")],d.prototype,"ySa",null);c.__decorate([n.config(n.vd,"applyIndexedDbOpenWorkaround")],d.prototype,"xV",null);c.__decorate([n.config(n.vd,"ignoreIdbOpenError")],d.prototype,"SY",null);c.__decorate([n.config(n.vd,"executeStorageMigration")],d.prototype,"mib",null);c.__decorate([n.config(n.object(),"browserInfo")],d.prototype,"qr",null);c.__decorate([n.config(n.vd,"retryAllMslRequestsOnError")],d.prototype,"iQa",null);c.__decorate([n.config(n.vd,"isTestAccount")],d.prototype,"xga",null);c.__decorate([n.config(n.vd,"vuiCommandLogging")],d.prototype,"j2",null);c.__decorate([n.config(n.vd,"useRangeHeader")],d.prototype,"Dq",null);c.__decorate([n.config(n.vd,"enableMilestoneEventList")],d.prototype,"xM",null);c.__decorate([n.config(n.object,"storageRules")],d.prototype,"By",null);return d=c.__decorate([m.N(),c.__param(0,m.l(h.Ci)),c.__param(1,m.l(f.zD)),c.__param(2,m.l(h.Yy)),c.__param(2,m.optional())],d);}();b.Gqa=d;},function(d,b,a){var c,g,m,n,q,l,h;Object.defineProperty(b,"__esModule",{value:!0});b.Era=b.pxa=b.Uoa=void 0;c=a(0);g=a(1);m=a(86);n=a(8);q=a(133);l=a(496);h=a(28);d=function(){function a(a,b,c){this.Du=a;this.vO=b;this.m0=c;}return a=c.__decorate([g.N(),c.__param(0,g.l(h.hJ)),c.__param(1,g.l(q.iT)),c.__param(2,g.l(l.TS))],a);}();b.Uoa=d;d=function(){function a(a,b,c,d,f){this.debug=a;this.Du=b;this.vO=c;this.Af=d;this.m0=f;}return a=c.__decorate([g.N(),c.__param(0,g.l(m.Jq)),c.__param(1,g.l(h.hJ)),c.__param(2,g.l(q.iT)),c.__param(3,g.l(n.Ab)),c.__param(4,g.l(l.TS))],a);}();b.pxa=d;d=function(){var b;function a(){this.iu={};this.kQa=0;}a.prototype.Ftb=function(a){this.iu=Object.assign({},this.iu,a);this.kQa++;};na.Object.defineProperties(a.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.iu;}},jQa:{configurable:!0,enumerable:!0,get:function(){return this.kQa;}}});b=a;return b=c.__decorate([g.N()],b);}();b.Era=d;},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;d=a(1);c=a(15);g=a(1110);m=a(28);n=a(32);q=a(1109);l=a(495);h=a(1107);f=a(177);p=a(1106);r=a(53);u=a(1105);b.config=new d.Dc(function(a){a(c.dd).lf(function(){return function(){return M._cad_global.config;};});a(m.pR).to(g.Uoa).Z();a(m.Ci).to(g.pxa).Z();a(m.hJ).to(g.Era).Z();a(n.Kk).to(q.Gqa).Z();a(l.E5).to(h.pta).Z();a(f.T3).to(p.Bqa).Z();a(r.Bl).to(u.dqa).Z();});},function(d,b,a){var c,g,m,n,q,l,h,f,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.Eoa=void 0;c=a(0);g=a(1);m=a(116);n=a(42);q=a(15);l=a(8);h=a(134);f=a(99);p=a(87);r=a(135);d=function(){var b;function a(a,b,c,d,f,g){this.OA=a;this.oc=b;this.config=c;this.dO=f;this.ml=g;this.log=d.xb("CannedChallengeProviderImpl");}a.prototype.$Ha=function(){var a;a=this;return Promise.all([this.OA(),this.Dlb()]).then(function(b){var c;c=S(b);b=c.next().value;c=c.next().value;c={type:p.bj.Wv,VY:[c],context:{Yd:a.config().Yd}};return b.Pjb(c,a.dO());}).then(function(b){var c;c=b.Yga.data.map(function(b){return a.oc.encode(b);});a.log.trace("Challenge generated",c);return{rb:b,GCa:c&&c[0]};});};a.prototype.Dlb=function(){return this.ml.Up().then(function(a){switch(a){case r.Im.VA:return"c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV6SWZ5aFdkc0dObEdGaGllK1VhUXNYZVNQczJ1eDQ2Nm9JMVZGN2RqTVRPZXJOST0=";default:return"AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA==";}}).then(this.oc.decode);};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.RI)),c.__param(1,g.l(n.$i)),c.__param(2,g.l(q.dd)),c.__param(3,g.l(l.Ab)),c.__param(4,g.l(h.pD)),c.__param(5,g.l(f.Ts))],b);}();b.Eoa=d;},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Vsa=void 0;a.prototype.JIa=function(){return void 0!==this.nl;};a.prototype.nC=function(a){this.nl=a;};a.prototype.gAb=function(){this.JIa()&&(this.nl=void 0);};b.Vsa=a;},function(d,b,a){var c,g,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.TOa=void 0;c=a(2);g=a(88);m=a(116);n=a(262);b.TOa=function(a){n.zF.parent=a.jb;return function(){q||(q=new Promise(function(a,b){try{a(n.zF.get(m.y3));}catch(p){b(new g.Hf(c.J.jZa,c.u.DZa,void 0,"Unable to extract the DRM services from the dependency injector",p));}}));return q;};};},function(d,b,a){var m,n,q,l,h,f,p,r,u;function c(a){a=JSON.parse(a);a={xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!a.licenseContextId||!a.xid||!a.movieId)throw new f.Cc(l.J.iD,l.u.Ov);return{version:1,drmData:[a]};}function g(a,b){if(a.Mt(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new u.yR({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),xid:a.xid,movieId:a.movieId}).Fs();})};throw new f.Cc(l.J.iD,l.u.Ov);}Object.defineProperty(b,"__esModule",{value:!0});b.Coa=void 0;m=a(0);n=a(1);q=a(53);l=a(2);h=a(23);f=a(47);p=a(497);r=a(71);u=a(261);d=function(){var b;function a(a,b,d){var h;h=this;this.is=a;this.Jj=b;this.config=d;this.Fs=function(){return{version:h.version,drmData:h.PW.map(function(a){return a.Fs();})};};this.Nda=function(a){var b;h.is.Nl(a)&&(a=c(a));1===a.version&&(a=g(h.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new u.yR(a);});}catch(R){throw new f.Cc(l.J.iD,l.u.Ov,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",R);}}else{if(!a.version||!h.is.jh(a.version))throw new f.Cc(l.J.iD,l.u.Ov,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new f.Cc(l.J.iD,l.u.roa,void 0,void 0,void 0,"Version number is not supported. Version: "+h.getVersion);}return b;};this.gp=new p.A4(2,this.config.uM,this.is.Nl(this.config.uM),this.Jj,this.Fs);}a.prototype.iPa=function(){return this.$Db();};a.prototype.JAa=function(a){return this.gp.add(a);};a.prototype.lka=function(a){return this.gp.remove(a,function(a,b){return a.ga===b.ga;});};a.prototype.toString=function(){return JSON.stringify(this.Fs(),null,"  ");};a.prototype.$Db=function(){var a;a=this;this.mPa||(this.mPa=new Promise(function(b,c){a.gp.load(a.Nda).then(function(){b();})["catch"](function(a){a.da&&a.cause?c(new f.Cc(l.J.iD,a.da,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.mPa;};na.Object.defineProperties(a.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.gp.version;}},PW:{configurable:!0,enumerable:!0,get:function(){return this.gp.ur;}}});b=a;return b=m.__decorate([n.N(),m.__param(0,n.l(h.Ie)),m.__param(1,n.l(r.Gq)),m.__param(2,n.l(q.Bl))],b);}();b.Coa=d;},function(d,b,a){var c,g,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.p6=void 0;c=a(3);g=a(48);m=a(501);n=a(61);q={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.p6=function(){this.m$a=this.sL=m.DI.Jra;this.ila=!0;this.pL=[];this.JQ=[];this.IO=this.VW=!1;this.Cv=[n.Nk.f3,n.Nk.A1a,n.Nk.rD];this.Yd=void 0;this.Oca=!0;this.bX=!1;this.yV=g.ba(288E4);this.AV=g.ba(335544320);this.TZ=c.Gb(15E3);this.etb=g.ba(6291456);this.AG=1E3;this.zaa=!0;this.rma=q;this.hI=g.ba(0);this.J1=c.Gb(0);this.SY=!0;};},function(d,b,a){var c,g,m,n,q,l,h,f,p,r,u,z,E,G,F,C,M;Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.qYa=b.pYa=b.oYa=void 0;c=a(0);g=a(1);m=a(29);n=a(30);q=a(3);l=a(137);h=a(1116);f=a(61);p=a(136);r=a(500);u=a(499);z=a(33);E=a(263);G=function(){function a(a){a=a.userAgent;this.version="6.0023.745.051";this.jMa=!0;this.UA="F";this.wx=/Intel Mac OS X/.test(a)?"NFCDFF-MC-":/Windows NT/.test(a)?"NFCDFF-02-":"NFCDFF-LX-";this.HX=!0;this.dca="firefox-cadmium";this.pgb="browser";this.ssb="";this.eca="cadmium";this.i9a=this.AHb=!0;this.$zb=!1;}return a=c.__decorate([g.N(),c.__param(0,g.l(m.fw))],a);}();b.oYa=G;F=function(){var b;function a(){var a;a=h.p6.call(this)||this;a.pL=[f.Xh.OR,f.Xh.PR];a.JQ=[f.X.UI,f.X.eD,f.X.JR,f.X.KR,f.X.NJ,f.X.OJ];a.VW=!0;a.IO=!0;a.Yd=p.ob.u2a;a.TZ=q.Gb(31E3);return a;}ca(a,h.p6);b=a;return b=c.__decorate([g.N()],b);}();b.pYa=F;C=function(){var b;function a(a,b){this.userAgent=a;this.wHb=b;}a.prototype.apply=function(){var a;a={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,doNotPerformLdlOnPlaybackStart:!0,enableGetHeadersAndMediaPrefetch:!0,enableLdlPrefetch:!0,enableUsingHeaderCount:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:z.Vj.V2,editAudioFragments:!0,editVideoFragments:!0,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0};this.wHb.u9a(this.userAgent,a);return a;};b=a;return b=c.__decorate([g.N(),c.__param(0,g.l(m.C7)),c.__param(1,g.l(u.D7))],b);}();b.qYa=C;M=function(){function a(a){this.Ypa=a.wx;}return a=c.__decorate([g.N(),c.__param(0,g.l(n.Uj))],a);}();b.platform=new g.Dc(function(a){a(n.Uj).to(G);a(l.zD).to(F);a(r.q6).to(C);a(n.Yn).to(M).Z();a(E.LS).lf(function(){return function(){return{};};});});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.mMa=function(a){return function(b){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return c.forEach(function(c){return a.bind(c).FFb(b);});};};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);g=a(37);m=a(64);b.wOa=function(){return function(a,b){b=new m.Metadata(g.uJ,b);if(Reflect.sfa(g.uJ,a.constructor))throw Error(c.z_a);Reflect.Yba(g.uJ,b,a.constructor);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(37);g=a(64);m=a(89);b.lQ=function(a){return function(b,d,h){var f;f=new g.Metadata(c.pS,a);m.AC(b,d,h,f);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(37);g=a(64);m=a(89);b.IB=function(a){return function(b,d,h){var f;f=new g.Metadata(c.mz,a);"number"===typeof h?m.AC(b,d,h,f):m.iQ(b,d,f);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(37);g=a(64);m=a(89);b.Wh=function(){return function(a,b,d){var h;h=new g.Metadata(c.JJ,!0);m.AC(a,b,d,h);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(37);g=a(64);m=a(89);b.optional=function(){return function(a,b,d){var h;h=new g.Metadata(c.yta,!0);"number"===typeof d?m.AC(a,b,d,h):m.iQ(a,b,h);};};},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(37);g=a(64);m=a(89);b.pMa=function(a){return function(b,d,h){var f;f=new g.Metadata(c.dw,a);"number"===typeof h?m.AC(b,d,h,f):m.iQ(b,d,f);};};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(64);g=a(89);b.tSa=function(a,b){return function(d,k,h){var f;f=new c.Metadata(a,b);"number"===typeof h?g.AC(d,k,h,f):g.iQ(d,k,f);};};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);g=a(37);b.N=function(){return function(a){var b;if(Reflect.sfa(g.M5,a))throw Error(c.AXa);b=Reflect.getMetadata(g.XWa,a)||[];Reflect.Yba(g.M5,b,a);return a;};};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);b.Dc=function(){return function(a){this.id=c.id();this.ika=a;};}();b.Wna=function(){return function(a){this.id=c.id();this.ika=a;};}();},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);d=function(){function a(){this.ij=new Map();}a.prototype.add=function(a,b){var d;if(null===a||void 0===a)throw Error(c.oJ);if(null===b||void 0===b)throw Error(c.oJ);d=this.ij.get(a);void 0!==d?(d.push(b),this.ij.set(a,d)):this.ij.set(a,[b]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(c.oJ);a=this.ij.get(a);if(void 0!==a)return a;throw Error(c.Kra);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(c.oJ);if(!this.ij["delete"](a))throw Error(c.Kra);};a.prototype.HIa=function(a){if(null===a||void 0===a)throw Error(c.oJ);return this.ij.has(a);};a.prototype.clone=function(){var b;b=new a();this.ij.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.WFb=function(a){this.ij.forEach(function(b,c){a(c,b);});};return a;}();b.ZZa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(){}a.of=function(b,d){var c;c=new a();c.xL=b;c.Rtb=d;return c;};return a;}();b.WJb=d;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(79);g=a(504);d=function(){function a(a){this.Mb=a;}a.prototype.Z=function(){this.Mb.scope=c.qp.e7;return new g.Vy(this.Mb);};a.prototype.Rfa=function(){this.Mb.scope=c.qp.nT;return new g.Vy(this.Mb);};return a;}();b.JVa=d;},function(d,b,a){var c,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(1130);g=a(265);m=a(264);d=function(){function a(a){this.Mb=a;this.WJ=new m.J2(this.Mb);this.Z7=new g.ZQ(this.Mb);this.Qxa=new c.JVa(a);}a.prototype.Z=function(){return this.Qxa.Z();};a.prototype.Rfa=function(){return this.Qxa.Rfa();};a.prototype.when=function(a){return this.WJ.when(a);};a.prototype.MQ=function(){return this.WJ.MQ();};a.prototype.fs=function(a){return this.Z7.fs(a);};return a;}();b.foa=d;},function(d,b,a){var c,g,m,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);g=a(79);m=a(1131);n=a(504);d=function(){function a(a){this.Mb=a;}a.prototype.to=function(a){this.Mb.type=g.zi.D4;this.Mb.nk=a;return new m.foa(this.Mb);};a.prototype.SSa=function(){if("function"!==typeof this.Mb.jf)throw Error(""+c.GZa);this.to(this.Mb.jf);};a.prototype.Th=function(a){this.Mb.type=g.zi.Voa;this.Mb.cache=a;this.Mb.xF=null;this.Mb.nk=null;new n.Vy(this.Mb);};a.prototype.Ly=function(a){this.Mb.type=g.zi.Qpa;this.Mb.cache=null;this.Mb.xF=a;this.Mb.nk=null;return new m.foa(this.Mb);};a.prototype.EFb=function(a){this.Mb.type=g.zi.Woa;this.Mb.nk=a;new n.Vy(this.Mb);};a.prototype.lf=function(a){this.Mb.type=g.zi.R3;this.Mb.KF=a;new n.Vy(this.Mb);};a.prototype.CFb=function(a){this.Mb.type=g.zi.R3;this.Mb.KF=function(b){return function(){return b.jb.get(a);};};new n.Vy(this.Mb);};a.prototype.pQ=function(a){this.Mb.type=g.zi.pva;this.Mb.ps=a;new n.Vy(this.Mb);};a.prototype.FFb=function(a){this.Ly(function(b){return b.jb.get(a);});};return a;}();b.KVa=d;},function(d,b,a){var m,n,q;function c(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===n.Zs.Poa;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function g(a,b){var c;if(Reflect.oob(q.uJ,a)){c=Reflect.getMetadata(q.uJ,a);try{b[c.value]();}catch(p){throw Error(m.Q0a(a.name,p.message));}}}Object.defineProperty(b,"__esModule",{value:!0});m=a(55);n=a(79);q=a(37);b.RAb=function(a,b,d){var f;f=null;0<b.length?(f=b.filter(function(a){return null!==a.target&&a.target.type===n.Zs.Xoa;}).map(d),f=new(a.bind.apply(a,[void 0].concat(f)))(),f=c(f,b,d)):f=new a();g(a,f);return f;};},function(d,b,a){var m,n,q,l,h;function c(a){return function(b){var d,f,k,p,q;d=b.xL;f=b.Kaa;k=b.target&&b.target.isArray();p=!b.gv||!b.gv.target||!b.target||!b.gv.target.Wsb(b.target.jf);if(k&&p)return f.map(function(b){return c(a)(b);});k=null;if(!b.target.PJa()||0!==d.length){q=d[0];d=q.scope===n.qp.e7;p=q.scope===n.qp.Request;if(d&&q.m$)return q.cache;if(p&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===n.zi.Voa)k=q.cache;else if(q.type===n.zi.Function)k=q.cache;else if(q.type===n.zi.Woa)k=q.nk;else if(q.type===n.zi.Qpa&&null!==q.xF)k=g("toDynamicValue",q.jf,function(){return q.xF(b.dH);});else if(q.type===n.zi.R3&&null!==q.KF)k=g("toFactory",q.jf,function(){return q.KF(b.dH);});else if(q.type===n.zi.pva&&null!==q.ps)k=g("toProvider",q.jf,function(){return q.ps(b.dH);});else if(q.type===n.zi.D4&&null!==q.nk)k=h.RAb(q.nk,f,c(a));else throw f=l.bG(b.jf),Error(m.BZa+" "+f);"function"===typeof q.fs&&(k=q.fs(b.dH,k));d&&(q.cache=k,q.m$=!0);p&&null!==a&&!a.has(q.id)&&a.set(q.id,k);return k;}};}function g(a,b,c){try{return c();}catch(H){if(q.ZJa(H))throw Error(m.hWa(a,b.toString()));throw H;}}Object.defineProperty(b,"__esModule",{value:!0});m=a(55);n=a(79);q=a(507);l=a(138);h=a(1133);b.resolve=function(a){return c(a.hH.Gka.GAb)(a.hH.Gka);};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);d=function(){function a(a,b,d,g,h){this.id=c.id();this.jf=a;this.dH=b;this.gv=d;this.target=h;this.Kaa=[];this.xL=Array.isArray(g)?g:[g];this.GAb=null===d?new Map():null;}a.prototype.HAa=function(b,c,d){b=new a(b,this.dH,this,c,d);this.Kaa.push(b);return b;};return a;}();b.Request=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=function(){function a(a){this.Cy=a;}a.prototype.startsWith=function(a){return 0===this.Cy.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.Cy.split("").reverse().join("");return this.startsWith.call({Cy:a},b);};a.prototype.contains=function(a){return-1!==this.Cy.indexOf(a);};a.prototype.equals=function(a){return this.Cy===a;};a.prototype.value=function(){return this.Cy;};return a;}();b.b1a=d;},function(d,b,a){var q,l,h,f,p,r;function c(a,b,c,d){var f,k,u,y,E,G,z,H,F,K;f=a.OGa(c);k=f.lDa;if(void 0===k)throw Error(l.l_a+" "+b+".");for(var f=f.xHb,m=Object.keys(f),p=0===c.length&&0<m.length?m.length:c.length,m=[],t=0;t<p;t++){y=t;E=d;G=b;z=k;u=f[y.toString()]||[];H=n(u);F=!0!==H.Wh;z=z[y];K=H.l||H.IB;z=K?K:z;z instanceof q.N4&&(z=z.sGb());if(F){F=z===Function;F=z===Object||F||void 0===z;if(!E&&F)throw Error(l.m_a+" argument "+y+" in class "+G+".");y=new r.kT(h.Zs.Xoa,H.lQ,z);y.Cd=u;u=y;}else u=null;null!==u&&m.push(u);}a=g(a,c);return m.concat(a);}function g(a,b){var l,m,p;for(var c=a.Cmb(b),d=[],f=0,k=Object.keys(c);f<k.length;f++){l=k[f];m=c[l];p=n(c[l]);l=new r.kT(h.Zs.Poa,p.lQ||l,p.l||p.IB);l.Cd=m;d.push(l);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=g(a,b),d=d.concat(a));return d;}function m(a,b){var d,g;b=Object.getPrototypeOf(b.prototype).constructor;if(b!==Object){d=p.getFunctionName(b);d=c(a,d,b,!0);g=d.map(function(a){return a.Cd.filter(function(a){return a.key===f.JJ;});});g=[].concat.apply([],g).length;d=d.length-g;return 0<d?d:m(a,b);}return 0;}function n(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{l:b[f.fJ],IB:b[f.mz],lQ:b[f.pS],Wh:b[f.JJ]};}Object.defineProperty(b,"__esModule",{value:!0});q=a(506);l=a(55);h=a(79);f=a(37);p=a(138);b.getFunctionName=p.getFunctionName;r=a(505);b.Vkb=function(a,b){var d;d=p.getFunctionName(b);return c(a,d,b,!1);};b.pkb=m;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z0a=function(){return function(a,b){this.dH=a;this.Gka=b;};}();},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);d=function(){function a(a){this.id=c.id();this.jb=a;}a.prototype.J8a=function(a){this.hH=a;};return a;}();b.Yoa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.I2={pMb:2,rta:0,Z_a:1};},function(d,b,a){var q,l,h,f,p,r,u,z,E,G,F,C;function c(a,b,c,d,f){var h,k;h=n(c.jb,f.jf);k=[];h.length===q.I2.rta&&c.jb.options.uL&&"function"===typeof f.jf&&a.OGa(f.jf).lDa&&(c.jb.bind(f.jf).SSa(),h=n(c.jb,f.jf));k=b?h:h.filter(function(a){var b;b=new F.Request(a.jf,c,d,a,f);return a.AA(b);});g(f.jf,k,f,c.jb);return k;}function g(a,b,c,d){switch(b.length){case q.I2.rta:if(c.PJa())break;a=r.bG(a);b=l.M_a;b+=r.urb(a,c);b+=r.BKa(d,a,n);throw Error(b);case q.I2.Z_a:if(!c.isArray())break;default:if(!c.isArray())throw a=r.bG(a),b=l.IUa+" "+a,b+=r.BKa(d,a,n),Error(b);}}function m(a,b,d,f,g,k){var n;null===g?(b=c(a,b,f,null,k),n=new F.Request(d,f,null,b,k),d=new E.Z0a(f,n),f.J8a(d)):(b=c(a,b,f,g,k),n=g.HAa(k.jf,b,k));b.forEach(function(b){var c,d,g;c=null;if(k.isArray())c=n.HAa(b.jf,b,k);else{if(b.cache)return;c=n;}if(b.type===h.zi.D4&&null!==b.nk){d=G.Vkb(a,b.nk);if(!f.jb.options.rC){g=G.pkb(a,b.nk);if(d.length<g)throw b=l.JUa(G.getFunctionName(b.nk)),Error(b);}d.forEach(function(b){m(a,!1,b.jf,f,c,b);});}});}function n(a,b){var c,d;c=[];d=a.ND;d.HIa(b)?c=d.get(b):null!==a.parent&&(c=n(a.parent,b));return c;}Object.defineProperty(b,"__esModule",{value:!0});q=a(1140);l=a(55);h=a(79);f=a(37);p=a(507);r=a(138);u=a(1139);z=a(64);E=a(1138);G=a(1137);F=a(1135);C=a(505);b.Yda=function(a){return a.ND;};b.hH=function(a,b,c,d,g,h,k,l){void 0===l&&(l=!1);b=new u.Yoa(b);c=new z.Metadata(c?f.mz:f.fJ,g);d=new C.kT(d,"",g,c);void 0!==h&&(h=new z.Metadata(h,k),d.Cd.push(h));try{return m(a,l,g,b,null,d),b;}catch(U){throw p.ZJa(U)&&b.hH&&r.ubb(b.hH.Gka),U;}};b.ZQb=function(a,b,c,d){c=new C.kT(h.Zs.G7,"",b,new z.Metadata(c,d));a=new u.Yoa(a);return new F.Request(b,a,null,[],c);};},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(79);g=a(101);d=function(){function a(a,b){this.id=g.id();this.m$=!1;this.jf=a;this.scope=b;this.type=c.zi.QZa;this.AA=function(){return!0;};this.xF=this.fs=this.ps=this.KF=this.cache=this.nk=null;}a.prototype.clone=function(){var b;b=new a(this.jf,this.scope);b.m$=!1;b.nk=this.nk;b.xF=this.xF;b.scope=this.scope;b.type=this.type;b.KF=this.KF;b.ps=this.ps;b.AA=this.AA;b.fs=this.fs;b.cache=this.cache;return b;};return a;}();b.IVa=d;},function(d,b,a){var c,k,m,n,q,l,h,f,p,u,z,F;c=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(oa){g(oa);}}function k(a){try{l(d["throw"](a));}catch(oa){g(oa);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};k=this&&this.DPb||function(a,b){var f,h,k,l,m;function c(a){return function(b){return d([a,b]);};}function d(c){if(h)throw new TypeError("Generator is already executing.");for(;f;)try{if(h=1,k&&(l=k[c[0]&2?"return":c[0]?"throw":"next"])&&!(l=l.call(k,c[1])).done)return l;if(k=0,l)c=[0,l.value];switch(c[0]){case 0:case 1:l=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;k=c[1];c=[0];continue;case 7:c=f.MB.pop();f.IC.pop();continue;default:if(!(l=f.IC,l=0<l.length&&l[l.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!l||c[1]>l[0]&&c[1]<l[3]))f.label=c[1];else if(6===c[0]&&f.label<l[1])f.label=l[1],l=c;else if(l&&f.label<l[2])f.label=l[2],f.MB.push(c);else{l[2]&&f.MB.pop();f.IC.pop();continue;}}c=b.call(a,f);}catch(oa){c=[6,oa];k=0;}finally{h=l=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,Z0:function(){if(l[0]&1)throw l[1];return l[1];},IC:[],MB:[]};g();g();r();return m={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(m[Symbol.iterator]=function(){return this;}),m;};Object.defineProperty(b,"__esModule",{value:!0});m=a(1142);n=a(55);q=a(79);a(37);l=a(508);h=a(1141);f=a(1134);p=a(1132);u=a(101);z=a(138);a(1129);F=a(1128);d=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+n.vWa);if(void 0===a.HA)a.HA=q.qp.nT;else if(a.HA!==q.qp.e7&&a.HA!==q.qp.nT&&a.HA!==q.qp.Request)throw Error(""+n.tWa);if(void 0===a.uL)a.uL=!1;else if("boolean"!==typeof a.uL)throw Error(""+n.sWa);if(void 0===a.rC)a.rC=!1;else if("boolean"!==typeof a.rC)throw Error(""+n.uWa);this.options={uL:a.uL,HA:a.HA,rC:a.rC};this.id=u.id();this.ND=new F.ZZa();this.o7a=[];this.parent=this.g9=null;this.f5a=new l.u5();}a.zTb=function(b,c){var f,g;function d(a,b){a.WFb(function(a,c){c.forEach(function(a){b.add(a.jf,a.clone());});});}f=new a();g=h.Yda(f);b=h.Yda(b);c=h.Yda(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.Eya(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.ika(f.YBa,f.sTa,f.fKa,f.pPa);}};a.prototype.PN=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return c(this,void 0,void 0,function(){var b,c,d,f,g;return k(this,function(h){switch(h.label){case 0:b=this.Eya(),c=0,d=a,h.label=1;case 1:if(!(c<d.length))return[3,4];f=d[c];g=b(f.id);return[4,f.ika(g.YBa,g.sTa,g.fKa,g.pPa)];case 2:h.Z0(),h.label=3;case 3:return c++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new m.IVa(a,this.options.HA||q.qp.nT);this.ND.add(a,b);return new p.KVa(b);};a.prototype.qzb=function(a){this.rTa(a);return this.bind(a);};a.prototype.rTa=function(a){try{this.ND.remove(a);}catch(N){throw Error(n.dWa+" "+z.bG(a));}};a.prototype.FJa=function(a){var b;b=this.ND.HIa(a);!b&&this.parent&&(b=this.parent.FJa(a));return b;};a.prototype.restore=function(){var a;a=this.o7a.pop();if(void 0===a)throw Error(n.N_a);this.ND=a.xL;this.g9=a.Rtb;};a.prototype.jeb=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.Cya(!1,!1,q.Zs.G7,a);};a.prototype.getAll=function(a){return this.Cya(!0,!0,q.Zs.G7,a);};a.prototype.resolve=function(a){var b;b=this.jeb();b.bind(a).SSa();return b.get(a);};a.prototype.Eya=function(){var f;function a(a){return function(b){b=f.qzb.bind(f)(b);b.Mb.oub=a;return b;};}function b(){return function(a){return f.FJa.bind(f)(a);};}function c(){return function(a){f.rTa.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.Mb.oub=a;return b;};}f=this;return function(f){return{YBa:d(f),fKa:b(),pPa:a(f),sTa:c()};};};a.prototype.Cya=function(a,b,c,d){var f;f=null;a={x$a:a,scb:function(a){return a;},dqb:b,key:void 0,jf:d,dFb:c,value:void 0};if(this.g9){if(f=this.g9(a),void 0===f||null===f)throw Error(n.EZa);}else f=this.t6a()(a);return f;};a.prototype.t6a=function(){var a;a=this;return function(b){var c;c=h.hH(a.f5a,a,b.dqb,b.dFb,b.jf,b.key,b.value,b.x$a);c=b.scb(c);return f.resolve(c);};};return a;}();b.qR=d;},function(d,b,a){var c,g;c=a(510);g=a(513);d.R=function(){var a;a=c();g(Object,{values:a},{values:function(){return Object.values!==a;}});return a;};},function(d,b,a){var c,g,m;c=a(267);b=a(266)("%Function%");g=b.apply;m=b.call;d.R=function(){return c.apply(m,arguments);};d.R.apply=function(){return c.apply(g,arguments);};},function(d,b,a){var c,g,m;c=a(266);g=a(1145);m=g(c("String.prototype.indexOf"));d.R=function(a,b){b=c(a,!!b);return"function"===typeof b&&m(a,".prototype.")?g(b):b;};},function(d){d.R=function(){var b,a,c;g();if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;g();r();if("symbol"===typeof Symbol.iterator)return!0;b={};g();a=Symbol("test");c=Object(a);if("string"===typeof a||"[object Symbol]"!==Object.prototype.toString.call(a)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;b[a]=42;for(a in b)return!1;if("function"===typeof Object.keys&&0!==Object.keys(b).length||"function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(b).length)return!1;c=Object.getOwnPropertySymbols(b);return 1!==c.length||c[0]!==a||!Object.prototype.propertyIsEnumerable.call(b,a)||"function"===typeof Object.getOwnPropertyDescriptor&&(b=Object.getOwnPropertyDescriptor(b,a),42!==b.value||!0!==b.enumerable)?!1:!0;};},function(d,b,a){(function(b){var c,m;c=b.Symbol;m=a(1147);d.R=function(){if("function"!==typeof c)return!1;g();if("function"!==typeof Symbol||"symbol"!==typeof c("foo"))return!1;g();return"symbol"!==typeof Symbol("bar")?!1:m();};}.call(this,a(140)));},function(d,b,a){var c;c=a(266)("%TypeError%");d.R=function(a,b){if(null==a)throw new c(b||"Cannot call method on "+a);return a;};},function(d,b,a){d.R=a(1149);},function(d){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;d.R=function(c){var d;d=this;if("function"!==typeof d||"[object Function]"!==a.call(d))throw new TypeError("Function.prototype.bind called on incompatible "+d);for(var g=b.call(arguments,1),n,q=Math.max(0,d.length-g.length),l=[],h=0;h<q;h++)l.push("$"+h);n=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(function(){var a;if(this instanceof n){a=d.apply(this,g.concat(b.call(arguments)));return Object(a)===a?a:this;}return d.apply(c,g.concat(b.call(arguments)));});d.prototype&&(q=function(){},q.prototype=d.prototype,n.prototype=new q(),q.prototype=null);return n;};},function(d,b,a){b=a(267);d.R=b.call(Function.call,Object.prototype.hasOwnProperty);},function(d,b,a){var c,g,m,n,q,l,h,f,p,r;if(!Object.keys){g=Object.prototype.hasOwnProperty;m=Object.prototype.toString;n=a(512);b=Object.prototype.propertyIsEnumerable;q=!b.call({toString:null},"toString");l=b.call(function(){},"prototype");h="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" ");f=function(a){var b;b=a.constructor;return b&&b.prototype===a;};p={wIb:!0,xIb:!0,yIb:!0,zIb:!0,AIb:!0,BIb:!0,CIb:!0,DIb:!0,EIb:!0,FIb:!0,GIb:!0,HIb:!0,IIb:!0,JIb:!0,KIb:!0,LIb:!0,MIb:!0,NIb:!0,OIb:!0,PIb:!0,QIb:!0,RIb:!0,SIb:!0};r=function(){if("undefined"===typeof M)return!1;for(var a in M)try{!p["$"+a]&&g.call(M,a);}catch(K){return!0;}return!1;}();c=function(a){var b,c,d,k,p,u;b=null!==a&&"object"===typeof a;c="[object Function]"===m.call(a);d=n(a);k=b&&"[object String]"===m.call(a);p=[];if(!b&&!c&&!d)throw new TypeError("Object.keys called on a non-object");b=l&&c;if(k&&0<a.length&&!g.call(a,0))for(k=0;k<a.length;++k)p.push(String(k));if(d&&0<a.length)for(d=0;d<a.length;++d)p.push(String(d));else for(var t in a)b&&"prototype"===t||!g.call(a,t)||p.push(String(t));if(q){if("undefined"!==typeof M&&r)try{u=f(a);}catch(aa){u=!1;}else u=f(a);for(d=0;d<h.length;++d)u&&"constructor"===h[d]||!g.call(a,h[d])||p.push(h[d]);}return p;};}d.R=c;},function(d,b,a){var c,g,m,n,q;c=Array.prototype.slice;g=a(512);m=Object.keys;n=m?function(a){return m(a);}:a(1153);q=Object.keys;n.Dk=function(){Object.keys?function(){var a;a=Object.keys(arguments);return a&&a.length===arguments.length;}(1,2)||(Object.keys=function(a){return g(a)?q(c.call(a)):q(a);}):Object.keys=n;return Object.keys||n;};d.R=n;},function(d,b,a){var c,g,m;b=a(513);c=a(511);g=a(510);a=a(1144);m=g();b(m,{nSb:g,implementation:c,Dk:a});d.R=m;},function(d,b,a){(function(a){var b;(function(b){var ca,U,da,O,ea,ia,ha,Q,ja;function c(a,b,c){var d;d=ja.get(a);if(!d){if(!c)return;d=new ha();ja.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new ha();d.set(b,a);}return a;}function d(a,b,c){if(g(a,b,c))return!0;b=F(b);return null!==b?d(a,b,c):!1;}function g(a,b,d){b=c(b,d,!1);return void 0!==b&&!!b.has(a);}function h(a,b,c){if(g(a,b,c))return f(a,b,c);b=F(b);return null!==b?h(a,b,c):void 0;}function f(a,b,d){b=c(b,d,!1);return void 0===b?void 0:b.get(a);}function k(a,b){var c,f;c=m(a,b);a=F(a);if(null===a)return c;b=k(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new Q();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return P(a);}function m(a,b){var d;a=c(a,b,!1);d=[];a&&S(a,function(a,b){return d.push(b);});return d;}function n(a){return void 0===a;}function r(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function u(a){return"object"===typeof a?null!==a:"function"===typeof a;}function z(a){return"symbol"===typeof a?a:String(a);}function F(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===ia||b!==ia)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function C(a){a=a.next();return a.done?void 0:a;}function S(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=C(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function P(a){var b;b=[];S(a,function(a,c){b.push(c);});return b;}function V(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function R(){var a;a={};return function(){function b(){this.zp=[];this.It=[];this.FT=a;this.ET=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.zp.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.$T(a,!1);};b.prototype.get=function(a){a=this.$T(a,!1);return 0<=a?this.It[a]:void 0;};b.prototype.set=function(a,b){a=this.$T(a,!0);this.It[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.$T(b,!1);if(0<=c){b=this.zp.length;for(c+=1;c<b;c++)this.zp[c-1]=this.zp[c],this.It[c-1]=this.It[c];this.zp.length--;this.It.length--;this.FT=a;this.ET=-2;return!0;}return!1;};b.prototype.clear=function(){this.zp.length=0;this.It.length=0;this.FT=a;this.ET=-2;};b.prototype.keys=function(){return V(this.zp,void 0,"key");};b.prototype.values=function(){return V(void 0,this.It,"value");};b.prototype.entries=function(){return V(this.zp,this.It,"key+value");};b.prototype.$T=function(a,b){var c;if(this.FT===a)return this.ET;c=this.zp.indexOf(a);0>c&&b&&(c=this.zp.length,this.zp.push(a),this.It.push(void 0));return this.FT=a,this.ET=c;};return b;}();}function A(){return function(){function a(){this.ij=new ha();}Object.defineProperty(a.prototype,"size",{get:function(){return this.ij.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.ij.has(a);};a.prototype.add=function(a){return this.ij.set(a,a),this;};a.prototype["delete"]=function(a){return this.ij["delete"](a);};a.prototype.clear=function(){this.ij.clear();};a.prototype.keys=function(){return this.ij.keys();};a.prototype.values=function(){return this.ij.values();};a.prototype.entries=function(){return this.ij.entries();};return a;}();}function T(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(ea.has(d,b));d[b]=!0;return b;}function c(a,b){if(!ca.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:O()});}return a[f];}d=O();f=b();return function(){function a(){this.Rz=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?ea.has(a,this.Rz):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?ea.get(a,this.Rz):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.Rz]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.Rz]:!1;};a.prototype.clear=function(){this.Rz=b();};return a;}();}function Z(a){a.BPb=1;delete a.CPb;return a;}ca=Object.prototype.hasOwnProperty;U="function"===typeof Object.create;da=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();O=U?function(){return Z(Object.create(null));}:da?function(){return Z({__proto__:null});}:function(){return Z({});};(function(a){var b;b=!U&&!da;a.has=b?function(a,b){return ca.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return ca.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(ea||(ea={})));ia=Object.getPrototypeOf(Function);ha="function"===typeof Map?Map:R();Q="function"===typeof Set?Set:A();ja=new("function"===typeof WeakMap?WeakMap:(T()))();b.lx=function(a,b,c,d){var g;if(n(d)){if(n(c)){if(!r(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!n(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!r(a))throw new TypeError();if(!u(b))throw new TypeError();c=z(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!r(a))throw new TypeError();if(!u(b))throw new TypeError();if(n(c))throw new TypeError();if(!u(d))throw new TypeError();c=z(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!n(g)){if(!u(g))throw new TypeError();d=g;}}return d;}};b.Cd=function(a,b){return function(d,f){if(n(f)){if("function"!==typeof d)throw new TypeError();c(d,void 0,!0).set(a,b);}else{if(!u(d))throw new TypeError();f=z(f);c(d,f,!0).set(a,b);}};};b.Yba=function(a,b,d){var f;if(!u(d))throw new TypeError();n(f)||(f=z(f));c(d,f,!0).set(a,b);};b.oob=function(a,b){var c;if(!u(b))throw new TypeError();n(c)||(c=z(c));return d(a,b,c);};b.sfa=function(a,b){var c;if(!u(b))throw new TypeError();n(c)||(c=z(c));return g(a,b,c);};b.getMetadata=function(a,b,c){if(!u(b))throw new TypeError();n(c)||(c=z(c));return h(a,b,c);};b.kSb=function(a,b,c){if(!u(b))throw new TypeError();n(c)||(c=z(c));return f(a,b,c);};b.jSb=function(a,b){if(!u(a))throw new TypeError();n(b)||(b=z(b));return k(a,b);};b.lSb=function(a,b){if(!u(a))throw new TypeError();n(b)||(b=z(b));return m(a,b);};b.nRb=function(a,b,d){var f;if(!u(b))throw new TypeError();n(d)||(d=z(d));f=c(b,d,!1);if(n(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=ja.get(b);a["delete"](d);if(0<a.size)return!0;ja["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)ca.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof M?M:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(140)));},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(1156);a(1155);M._cad_global={};M.DEBUG=!1;a(10);a(9);a(14);a(17);a(46);a(90);a(549);a(273);a(50);a(38);a(16);a(76);a(56);a(548);a(184);a(460);a(547);a(546);a(182);a(545);a(271);a(203);a(357);a(293);a(287);a(289);a(288);a(270);a(301);a(300);a(298);a(144);a(190);a(544);a(11);a(282);a(543);a(143);a(67);a(292);a(121);a(356);a(355);a(202);a(542);a(541);a(329);a(540);a(539);a(335);a(188);a(339);a(189);a(302);a(538);a(186);a(285);a(147);a(297);a(118);a(80);a(537);a(536);a(535);a(534);a(533);a(531);a(286);a(57);a(530);a(290);a(354);a(291);a(283);a(529);a(528);a(275);a(141);a(527);a(526);a(525);a(524);a(517);a(514);a(295);},function(d,b,a){d.R=a(1157);}]));}.call(M));}(window));}.call(window));