a000.w7Q=(function(X7Q){return {N7Q:function(){var T7Q,q7Q=arguments;switch(X7Q){case 20:T7Q=q7Q[1] >= q7Q[0];break;case 1:T7Q=q7Q[1] - q7Q[0];break;case 11:T7Q=q7Q[1] * q7Q[0];break;case 17:T7Q=(q7Q[4] * q7Q[2] * q7Q[0] - q7Q[1]) * q7Q[5] / q7Q[3];break;case 12:T7Q=(q7Q[0] / q7Q[2] | q7Q[3]) * q7Q[1];break;case 18:T7Q=(q7Q[0] / q7Q[3] - q7Q[4]) / q7Q[1] + q7Q[2];break;case 22:T7Q=(q7Q[2] - q7Q[1]) / q7Q[0];break;case 16:T7Q=q7Q[1] * q7Q[2] / q7Q[0];break;case 13:T7Q=q7Q[2] / q7Q[1] | q7Q[0];break;case 6:T7Q=q7Q[1] + q7Q[4] + q7Q[3] + q7Q[2] + q7Q[0];break;case 10:T7Q=(q7Q[3] - q7Q[0] + q7Q[1]) * q7Q[4] / q7Q[2];break;case 19:T7Q=(q7Q[0] - q7Q[2]) * q7Q[1];break;case 23:T7Q=q7Q[0] === q7Q[1];break;case 3:T7Q=q7Q[2] / q7Q[1] / q7Q[0];break;case 0:T7Q=q7Q[0] + q7Q[1] - q7Q[2];break;case 8:T7Q=(q7Q[2] * q7Q[1] - q7Q[0]) / q7Q[3];break;case 7:T7Q=q7Q[2] * q7Q[1] * q7Q[3] - q7Q[0];break;case 14:T7Q=q7Q[0] + q7Q[1] / q7Q[3] * q7Q[2];break;case 2:T7Q=q7Q[0] + q7Q[1];break;case 21:T7Q=q7Q[0] <= q7Q[1];break;case 5:T7Q=q7Q[2] + q7Q[1] + q7Q[0];break;case 15:T7Q=q7Q[1] * q7Q[0] / q7Q[3] | q7Q[2];break;case 4:T7Q=void q7Q[0] !== q7Q[1];break;case 9:T7Q=q7Q[0] / q7Q[1];break;}return T7Q;},D7Q:function(E7Q){X7Q=E7Q;}};})();function a000(){}a000.Z7Q=function(){return typeof a000.w7Q.N7Q === 'function'?a000.w7Q.N7Q.apply(a000.w7Q,arguments):a000.w7Q.N7Q;};a000.f7Q=function(){return typeof a000.w7Q.D7Q === 'function'?a000.w7Q.D7Q.apply(a000.w7Q,arguments):a000.w7Q.D7Q;};a000.H7Q=function(){return typeof a000.w7Q.N7Q === 'function'?a000.w7Q.N7Q.apply(a000.w7Q,arguments):a000.w7Q.N7Q;};a000.r7Q=function(){return typeof a000.w7Q.D7Q === 'function'?a000.w7Q.D7Q.apply(a000.w7Q,arguments):a000.w7Q.D7Q;};(function(){(function(pb,Ab){var vc,Gc,Qb,ud,Db,Fb,Yb,Be,Ce,Lb,Mb,Pc,De,vd,Ee,Fe,Ud,Ja,Bb,hd,Ge,Vd,bb,tb,yb,wc,kc,Wb,vb,Zb,Pb,Rc,Ib,Gb,Jb,bc,wd,xc,rc,sc,xd,Wd,He,Ic,Jc,Sc,Xd,Yc,yc,yd,Oc,Yd,Ie,Zc,Zd,$d,ae,be,zc,ce,de,ee,ad,Ac,Bc,bd,zd,Ad,Bd,jc,If,Nb,Qc,Je,Cd,nc,Ke,Jf,tc,Le,Kf,Dd,Me,Lf,gd,Ne,Hf,Mf,fe,Ed,Nf,Of,ye,Pf,ze,Oe,lc,id,Pe,jd,Qe,oc,Re,ge,Se,he,Fd,Te,Rf,Ae,Gd,Td,Ue,Qf,Ve,ie,We,Xe,Ye,je,Nc,$e,Ze,Sf,kd,af,le,ld,bf,ke,cf,df,me,ff,gf,Jd,Vc,cd,Wc,hf,jf,kf,lf,mf,nf,Kd,Tf,of,pf,oe,qf,ic,Tc,$c,Uc,Kc,Cc,Hd,$b,Hc,ef,md,Xc,rf,Uf,nd,sf,Vf,dd,tf,Ld,pe,od,qe,uf,pd,vf,wf,xf,Wf,qd,yf,Xf,Yf,zf,ne,Id,Af,Gf,Bf,Zf,ag,$f,ed,td,bg,xe,cg,Cf;function Tb(gb,fb){if(!fb || "utf-8" === fb)return Od(gb);throw Error("unsupported encoding");}function Sb(gb,fb){if(!fb || "utf-8" === fb)return Pd(gb);throw Error("unsupported encoding");}function Od(gb){for(var fb=0,eb,ab=gb.length,lb="";fb < ab;){eb=gb[fb++];if(eb & 128)if(192 === (eb & 224))eb=((eb & 31) << 6) + (gb[fb++] & 63);else if(224 === (eb & 240))eb=((eb & 15) << 12) + ((gb[fb++] & 63) << 6) + (gb[fb++] & 63);else throw Error("unsupported character");lb+=String.fromCharCode(eb);}return lb;}function Pd(gb){var fb,eb,ab,lb,qb;fb=gb.length;eb=0;lb=0;for(ab=fb;ab--;){qb=gb.charCodeAt(ab);128 > qb?eb++:eb=2048 > qb?eb + 2:eb + 3;}eb=new Uint8Array(eb);for(ab=0;ab < fb;ab++){qb=gb.charCodeAt(ab);128 > qb?eb[lb++]=qb:(2048 > qb?eb[lb++]=192 | qb >>> 6:(eb[lb++]=224 | qb >>> 12,eb[lb++]=128 | qb >>> 6 & 63),eb[lb++]=128 | qb & 63);}return eb;}function Xb(gb,fb){if(gb === fb)return !0;if(!gb || !fb || gb.length != fb.length)return !1;for(var eb=0;eb < gb.length;++eb){if(gb[eb] != fb[eb])return !1;}return !0;}function gc(gb){var ab;if(!(gb && gb.constructor == Uint8Array || Array.isArray(gb)))throw new TypeError("Cannot compute the hash code of " + gb);for(var fb=1,eb=0;eb < gb.length;++eb){ab=gb[eb];if("number" !== typeof ab)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + ab);fb=31 * fb + ab & 4294967295;}return fb;}function se(gb,fb){var jb;if(gb === fb)return !0;if(!gb || !fb)return !1;fb instanceof Array || (fb=[fb]);for(var eb=0;eb < fb.length;++eb){for(var ab=fb[eb],lb=!1,qb=0;qb < gb.length;++qb){jb=gb[qb];if(ab.equals && "function" === typeof ab.equals && ab.equals(jb) || ab == jb){lb=!0;break;}}if(!lb)return !1;}return !0;}function te(gb,fb){return se(gb,fb) && (gb.length == fb.length || se(fb,gb));}function Ka(gb,fb,eb){var ab,lb;eb && (ab=eb);if("object" !== typeof gb || "function" !== typeof gb.result || "function" !== typeof gb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{lb=fb.call(ab,gb);lb !== Ab && gb.result(lb);}catch(qb){try{gb.error(qb);}catch(jb){}}}function db(gb,fb,eb){if("object" !== typeof gb || "function" !== typeof gb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Ka(gb,fb,eb);}function V(gb,fb,eb){1E5 > gb && (gb=1E5 + gb);Object.defineProperties(this,{internalCode:{value:gb,writable:!1,configurable:!1},responseCode:{value:fb,writable:!1,configurable:!1},message:{value:eb,writable:!1,configurable:!1}});}function Qd(gb){switch(gb){case Nb.PSK:case Nb.MGK:return !0;default:return !1;}}function ue(gb){switch(gb){case Nb.PSK:case Nb.MGK:case Nb.X509:case Nb.RSA:case Nb.NPTICKET:case Nb.ECC:return !0;default:return !1;}}function Df(gb){return gb.toJSON();}function ve(gb,fb){td?fb.result(td):Promise.resolve().then(function(){return Jb.getKeyByName(gb);}).catch(function(){return Jb.generateKey({name:gb},!1,["wrapKey","unwrapKey"]);}).then(function(eb){td=eb;fb.result(td);}).catch(function(eb){fb.error(new bb(V.INTERNAL_EXCEPTION,"Unable to get system key"));});}function we(gb,fb){var eb,ab;eb=fb.masterToken;ab=fb.userIdToken;fb=fb.serviceTokens;return {NccpMethod:gb.method,UserId:gb.userId,UT:ab && ab.serialNumber,MT:eb && eb.serialNumber + ":" + eb.sequenceNumber,STCount:fb && fb.length};}function Ef(gb){return gb.uniqueKey();}function Ff(gb,fb,eb,ab,lb){var Qa;function qb(Aa,ma){Aa.errorCode === Ja.ENTITY_REAUTH || Aa.errorCode === Ja.ENTITYDATA_REAUTH?(ab.clearCryptoContexts(),La()):Aa.errorCode !== Ja.USER_REAUTH && Aa.errorCode !== Ja.USERDATA_REAUTH || jb(ma);}function jb(Aa){if(Aa=ab.getUserIdToken(Aa))(ab.removeUserIdToken(Aa),La());}function Fa(Aa,ma,ha){var Z;Z=[];(function ia(){Aa.read(-1,ma,{result:function(ea){Ka(ha,function(){var U,Y,pa,na,ra;if(ea)(Z.push(ea),ia());else switch(Z.length){case 0:return new Uint8Array(0);case 1:return Z[0];default:(pa=Z.length,na=0);for(Y=U=0;Y < pa;Y++){U+=Z[Y].length;}U=new Uint8Array(U);for(Y=0;Y < pa;Y++){ra=Z[Y];U.set(ra,na);na+=ra.length;}return U;}});},timeout:function(){ha.timeout();},error:function(ea){ha.error(ea);}});})();}function La(){ab.getStoreState({result:function(Aa){for(var ma=Qa.slice(),ha=0;ha < ma.length;ha++){ma[ha]({storeState:Aa});}},timeout:function(){gb.error("Timeout getting store state","" + e);},error:function(Aa){gb.error("Error getting store state","" + Aa);}});}Qa=[];this.addEventHandler=function(Aa,ma){switch(Aa){case "shouldpersist":Qa.push(ma);}};this.send=function(Aa){return new Promise(function(ma,ha){var Z,ba,ia;Z=Aa.timeout;ba=new xe(gb,eb,Aa,ab.getKeyRequestData());ia=new ye(Aa.url);gb.trace("Sending MSL request");fb.request(eb,ba,ia,Z,{result:function(ea){var U;gb.trace("Received MSL response",{Method:Aa.method});if(ea){Aa.allowTokenRefresh && La();U=ea.getErrorHeader();U?(qb(U,Aa.profileGuid || Aa.userId),ha({success:!1,error:U})):Fa(ea,Z,{result:function(Y){ma({success:!0,body:Tb(Y)});},timeout:function(){ha({success:!1,subCode:lb.MSL_READ_TIMEOUT});},error:function(Y){ha({success:!1,error:Y});}});}else ha({success:!1,error:new bb(V.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ha({success:!1,subCode:lb.MSL_REQUEST_TIMEOUT});},error:function(ea){ha({success:!1,error:ea});}});});};this.hasUserIdToken=function(Aa){return ! !ab.getUserIdToken(Aa);};this.getUserIdTokenKeys=function(){return ab.getUserIdTokenKeys();};this.removeUserIdToken=jb;this.clearUserIdTokens=function(){ab.clearUserIdTokens();La();};this.isErrorReauth=function(Aa){return Aa && Aa.errorCode == Ja.USERDATA_REAUTH;};this.isErrorHeader=function(Aa){return Aa instanceof Nc;};this.getErrorCode=function(Aa){return Aa && Aa.errorCode;};this.getStateForMdx=function(Aa){var ma,ha;ma=ab.getMasterToken();Aa=ab.getUserIdToken(Aa);ha=ab.getCryptoContext(ma);return {masterToken:ma,userIdToken:Aa,cryptoContext:ha};};this.buildPlayDataRequest=function(Aa,ma){var ha;ha=new ze();fb.request(eb,new xe(gb,eb,Aa),ha,Aa.timeout,{result:function(){ma.result(ha.getRequest());},error:function(){ma.result(ha.getRequest());},timeout:function(){ma.timeout();}});};this.rekeyUserIdToken=function(Aa,ma){ab.rekeyUserIdToken(Aa,ma);La();};this.getServiceTokens=function(Aa){var ma;ma=ab.getMasterToken();(Aa=ab.getUserIdToken(Aa)) && !Aa.isBoundTo(ma) && (Aa=Ab);return ab.getServiceTokens(ma,Aa);};this.removeServiceToken=function(Aa){var ma;ma=ab.getMasterToken();ab.getServiceTokens(ma).find(function(ha){return ha.name === Aa;}) && (ab.removeServiceTokens(Aa,ma),La());};}function Rd(gb,fb,eb,ab,lb,qb){function jb(Fa){var La;return Promise.resolve().then(function(){La=gb.authenticationKeyNames[Fa];if(!La)throw new bb(V.KEY_IMPORT_ERROR,"Invalid config keyName " + Fa);return Jb.getKeyByName(La);}).then(function(Qa){return new Promise(function(Aa,ma){Yc(Qa,{result:Aa,error:function(){ma(new bb(V.KEY_IMPORT_ERROR,"Unable to create " + La + " CipherKey"));}});});}).catch(function(Qa){throw new bb(V.KEY_IMPORT_ERROR,"Unable to import " + La,Qa);});}return Promise.resolve().then(function(){if(!Jb.getKeyByName)throw new bb(V.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([jb("e"),jb("h"),jb("w")]);}).then(function(Fa){var La,Qa,Aa;La={};La[fb]=new eb(gb.esn,Fa[0],Fa[1],Fa[2]);Fa=new ab(gb.esn);Qa=new Gf();Qa=[new lb(Qa)];Aa=new qb(fb);return {entityAuthFactories:La,entityAuthData:Fa,keyExchangeFactories:Qa,keyRequestData:Aa};});}function Sd(gb,fb,eb){var qb;function ab(){return Promise.resolve().then(function(){return Jb.generateKey(fb,!1,["wrapKey","unwrapKey"]);}).then(function(jb){return lb(jb.publicKey,jb.privateKey);});}function lb(jb,Fa){return Promise.all([new Promise(function(La,Qa){Oc(jb,{result:La,error:function(Aa){Qa(new bb(V.INTERNAL_EXCEPTION,"Unable to create keyx public key",Aa));}});}),new Promise(function(La,Qa){Zc(Fa,{result:La,error:function(Aa){Qa(new bb(V.INTERNAL_EXCEPTION,"Unable to create keyx private key",Aa));}});})]).then(function(La){La=new Td("rsaKeypairId",eb,La[0],La[1]);qb && (La.storeData={keyxPublicKey:jb,keyxPrivateKey:Fa});return La;});}qb=!gb.systemKeyWrapFormat;return Promise.resolve().then(function(){var jb,Fa;jb=gb.storeState;Fa=jb && jb.keyxPublicKey;jb=jb && jb.keyxPrivateKey;return qb && Fa && jb?lb(Fa,jb):ab();}).then(function(jb){var Fa,La,Qa;Fa={};Fa[Nb.NONE]=new Hf();La=new gd(gb.esn);Qa=[new Ae()];return {entityAuthFactories:Fa,entityAuthData:La,keyExchangeFactories:Qa,keyRequestData:jb,createKeyRequestData:qb?ab:Ab};});}Gc=pb.nfCrypto || pb.msCrypto || pb.webkitCrypto || pb.crypto;Qb=Gc && (Gc.webkitSubtle || Gc.subtle);ud=pb.nfCryptokeys || pb.msCryptokeys || pb.webkitCryptokeys || pb.cryptokeys;(function(gb){var fb,eb;fb=(function(){function ab(lb,qb){lb instanceof fb?(this.abv=lb.abv,this.position=lb.position):(this.abv=lb,this.position=qb || 0);}ab.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(lb){this.abv[this.position++]=lb;},peekByte:function(lb){return this.abv[lb];},copyBytes:function(lb,qb,jb){var Fa;Fa=new Uint8Array(this.abv.buffer,this.position,jb);lb=new Uint8Array(lb.buffer,qb,jb);Fa.set(lb);this.position+=jb;},seek:function(lb){this.position=lb;},skip:function(lb){this.position+=lb;},getPosition:function(){return this.position;},setPosition:function(lb){this.position=lb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return ab;})();eb={};(function(){var ea,U,Y,pa,na,ra,Ca,ta,oa;function ab(W,aa){var da;aa.writeByte(W.tagClass << 6 | W.constructed << 5 | W.tag);da=W.payloadLen;if(128 > da)aa.writeByte(da);else {for(var la=da,Ga=0;la;){++Ga;la>>=8;}aa.writeByte(128 | Ga);for(la=0;la < Ga;++la){aa.writeByte(da >> 8 * (Ga - la - 1) & 255);}}if(W.child)for((W.tag == ea.BIT_STRING && aa.writeByte(0),W=W._child);W;){if(!ab(W,aa))return !1;W=W.next;}else switch(W.tag){case ea.INTEGER:W.backingStore[W.dataIdx] >> 7 && aa.writeByte(0);aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case ea.BIT_STRING:aa.writeByte(0);aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case ea.OCTET_STRING:aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case ea.OBJECT_IDENTIFIER:aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);}return !0;}function lb(W){var aa,da;aa=W.readByte();da=aa & 127;if(da == aa)return da;if(3 < da || 0 === da)return -1;for(var la=aa=0;la < da;++la){aa=aa << 8 | W.readByte();}return aa;}function qb(W,aa,da){var la,Ga,Da,Oa,Sa,ka,va;la=W.backingStore;Ga=new fb(la,aa);aa+=da;da=W;if(8 < na++)return Ab;for(;Ga.getPosition() < aa;){Ga.getPosition();Oa=Ga.readByte();if(31 == (Oa & 31)){for(Da=0;Oa & 128;){Da<<=8;Da|=Oa & 127;}Oa=Da;}Sa=Oa;Da=Sa & 31;if(0 > Da || 30 < Da)return Ab;Oa=lb(Ga);if(0 > Oa || Oa > Ga.getRemaining())return Ab;da.constructed=Sa & 32;da.tagClass=(Sa & 192) >> 6;da.tag=Da;da.dataLen=Oa;da.dataIdx=Ga.getPosition();Da=Ga;ka=Sa;Sa=Oa;if(ka & 32)Da=!0;else if(ka < ea.BIT_STRING || ka > ea.OCTET_STRING)Da=!1;else {va=new fb(Da);ka == ea.BIT_STRING && va.skip(1);va.readByte() >> 6 & 1?Da=!1:(ka=lb(va),Da=va.getPosition() - Da.getPosition() + ka == Sa);}Da && (Da=Ga.getPosition(),Sa=Oa,da.tag == ea.BIT_STRING && (da.dataIdx++,da.dataLen--,Da++,Sa--),da.child=new U(la,da),qb(da.child,Da,Sa));da.tag == ea.INTEGER && (Da=Ga.getPosition(),0 == Ga.peekByte(Da) && Ga.peekByte(Da + 1) >> 7 && (da.dataIdx++,da.dataLen--));Ga.skip(Oa);Ga.getPosition() < aa && (da.next=new U(la,da.parent),da=da.next);}na--;return W;}function jb(W,aa,da){if(9 != da)return !1;for(da=0;9 > da;++da){if(W[aa++] != ra[da])return !1;}return !0;}function Fa(W){var aa;if(!(W && W.child && W.child.next && W.child.child && W.child.next.child))return !1;aa=W.child.child;return jb(aa.backingStore,aa.dataIdx,aa.dataLen) && 2 == W.nChildren && 2 == W.child.nChildren && 2 == W.child.next.child.nChildren?!0:!1;}function La(W){var aa;if(!(W && W.child && W.child.next && W.child.next.child && W.child.next.next && W.child.next.next.child))return !1;aa=W.child.next.child;return jb(aa.backingStore,aa.dataIdx,aa.dataLen) && 3 == W.nChildren && 2 == W.child.next.nChildren && 9 == W.child.next.next.child.nChildren?!0:!1;}function Qa(W){var aa,da;aa=Y.createSequenceNode();da=new pa(aa);da.addChild(Y.createSequenceNode());da.addChild(Y.createOidNode(ra));da.addSibling(Y.createNullNode());da.addToParent(aa,Y.createBitStringNode(null));da.addChild(Y.createSequenceNode());da.addChild(Y.createIntegerNode(W.n));da.addSibling(Y.createIntegerNode(W.e));return aa;}function Aa(W){var aa;W=W.child.next.child.child;aa=W.data;W=W.next;return new Ca(aa,W.data,null,null);}function ma(W){var aa,da;aa=Y.createSequenceNode();da=new pa(aa);da.addChild(Y.createIntegerNode(new Uint8Array([0])));da.addSibling(Y.createSequenceNode());da.addChild(Y.createOidNode(ra));da.addSibling(Y.createNullNode());da.addToParent(aa,Y.createOctetStringNode(null));da.addChild(Y.createSequenceNode());da.addChild(Y.createIntegerNode(new Uint8Array([0])));da.addSibling(Y.createIntegerNode(W.n));da.addSibling(Y.createIntegerNode(W.e));da.addSibling(Y.createIntegerNode(W.d));da.addSibling(Y.createIntegerNode(W.p));da.addSibling(Y.createIntegerNode(W.q));da.addSibling(Y.createIntegerNode(W.dp));da.addSibling(Y.createIntegerNode(W.dq));da.addSibling(Y.createIntegerNode(W.qi));return aa;}function ha(W){var aa;aa=[];W=W.child.next.next.child.child.next;for(var da=0;8 > da;da++){aa.push(W.data);W=W.next;}return new ta(aa[0],aa[1],aa[2],aa[3],aa[4],aa[5],aa[6],aa[7]);}function Z(W,aa,da,la){if(!(W instanceof Ca || W instanceof ta))return Ab;if(da)for(var Ga=0;Ga < da.length;++Ga){if(-1 == oa.indexOf(da[Ga]))return Ab;}aa={kty:"RSA",alg:aa,key_ops:da || [],ext:la == Ab?!1:la,n:Db(W.n,!0),e:Db(W.e,!0)};W instanceof ta && (aa.d=Db(W.d,!0),aa.p=Db(W.p,!0),aa.q=Db(W.q,!0),aa.dp=Db(W.dp,!0),aa.dq=Db(W.dq,!0),aa.qi=Db(W.qi,!0));return aa;}function ba(W){var aa,da,la,Ga,Da,Oa,Sa,ka,va,za;if(!W.kty || "RSA" != W.kty || !W.n || !W.e)return Ab;aa=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(W.alg && -1 == aa.indexOf(W.alg))return Ab;aa=[];W.use?"enc" == W.use?aa=["encrypt","decrypt","wrap","unwrap"]:"sig" == W.use && (aa=["sign","verify"]):aa=W.key_ops;da=W.ext;la=Fb(W.n,!0);Ga=Fb(W.e,!0);if(W.d){Da=Fb(W.d,!0);Oa=Fb(W.p,!0);Sa=Fb(W.q,!0);ka=Fb(W.dp,!0);va=Fb(W.dq,!0);za=Fb(W.qi,!0);return new ta(la,Ga,Da,Oa,Sa,ka,va,za,W.alg,aa,da);}return new Ca(la,Ga,da,aa);}function ia(W,aa,da,la){this.der=W;this.type=aa;this.keyOps=da;this.extractable=la;}ea={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};U=function(W,aa,da,la,Ga,Da){this._data=W;this._parent=aa || Ab;this._constructed=da || !1;this._tagClass=0;this._tag=la || 0;this._dataIdx=Ga || 0;this._dataLen=Da || 0;};U.prototype={_child:Ab,_next:Ab,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(W) {this._constructed=0 != W?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(W) {this._tagClass=W;},get tag() {return this._tag;},set tag(W) {this._tag=W;},get dataIdx() {return this._dataIdx;},set dataIdx(W) {this._dataIdx=W;},get dataLen() {return this._dataLen;},set dataLen(W) {this._dataLen=W;},get child() {return this._child;},set child(W) {this._child=W;this._child.parent=this;},get next() {return this._next;},set next(W) {this._next=W;},get parent() {return this._parent;},set parent(W) {this._parent=W;},get payloadLen() {var W;W=0;if(this._child){for(var aa=this._child;aa;){W+=aa.length;aa=aa.next;}this._tag == ea.BIT_STRING && W++;}else switch(this._tag){case ea.INTEGER:W=this._dataLen;this._data[this._dataIdx] >> 7 && W++;break;case ea.BIT_STRING:W=this._dataLen + 1;break;case ea.OCTET_STRING:W=this._dataLen;break;case ea.NULL:W=0;break;case ea.OBJECT_IDENTIFIER:jb(this._data,this._dataIdx,this._dataLen) && (W=9);}return W;},get length() {var W,aa;W=this.payloadLen;if(127 < W)for(aa=W;aa;){aa>>=8;++W;}return W + 2;},get der() {var W,aa;W=this.length;if(!W)return Ab;W=new Uint8Array(W);aa=new fb(W);return ab(this,aa)?W:Ab;},get nChildren() {for(var W=0,aa=this._child;aa;){W++;aa=aa.next;}return W;}};Y={createSequenceNode:function(){return new U(null,null,!0,ea.SEQUENCE,null,null);},createOidNode:function(W){return new U(W,null,!1,ea.OBJECT_IDENTIFIER,0,W?W.length:0);},createNullNode:function(){return new U(null,null,!1,ea.NULL,null,null);},createBitStringNode:function(W){return new U(W,null,!1,ea.BIT_STRING,0,W?W.length:0);},createIntegerNode:function(W){return new U(W,null,!1,ea.INTEGER,0,W?W.length:0);},createOctetStringNode:function(W){return new U(W,null,!1,ea.OCTET_STRING,0,W?W.length:0);}};pa=function(W){this._currentNode=this._rootNode=W;};pa.prototype={addChild:function(W){this.addTo(this._currentNode,W);},addSibling:function(W){this.addTo(this._currentNode.parent,W);},addTo:function(W,aa){this._currentNode=aa;this._currentNode.parent=W;if(W.child){for(W=W.child;W.next;){W=W.next;}W.next=aa;}else W.child=aa;},addToParent:function(W,aa){this.findNode(W) && this.addTo(W,aa);},findNode:function(W){for(var aa=this._currentNode;aa;){if(W == aa)return !0;aa=aa.parent;}return !1;}};na=0;ra=new Uint8Array([42,134,72,134,247,13,1,1,1]);Ca=function(W,aa,da,la){this.n=W;this.e=aa;this.ext=da;this.keyOps=la;};ta=function(W,aa,da,la,Ga,Da,Oa,Sa,ka,va,za){this.n=W;this.e=aa;this.d=da;this.p=la;this.q=Ga;this.dp=Da;this.dq=Oa;this.qi=Sa;this.alg=ka;this.keyOps=va;this.ext=za;};oa=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");ia.prototype.getDer=function(){return this.der;};ia.prototype.getType=function(){return this.type;};ia.prototype.getKeyOps=function(){return this.keyOps;};ia.prototype.getExtractable=function(){return this.extractable;};eb.parse=function(W){na=0;return qb(new U(W),0,W.length);};eb.show=function(W,aa){};eb.isRsaSpki=Fa;eb.isRsaPkcs8=La;eb.NodeFactory=Y;eb.Builder=pa;eb.tagVal=ea;eb.RsaPublicKey=Ca;eb.RsaPrivateKey=ta;eb.buildRsaSpki=Qa;eb.parseRsaSpki=function(W){W=eb.parse(W);return Fa?Aa(W):Ab;};eb.buildRsaPkcs8=ma;eb.parseRsaPkcs8=function(W){W=eb.parse(W);return La(W)?ha(W):Ab;};eb.buildRsaJwk=Z;eb.parseRsaJwk=ba;eb.RsaDer=ia;eb.rsaDerToJwk=function(W,aa,da,la){W=eb.parse(W);if(!W)return Ab;if(Fa(W))W=Aa(W);else if(La(W))W=ha(W);else return Ab;return Z(W,aa,da,la);};eb.jwkToRsaDer=function(W){var aa,da;W=ba(W);if(!W)return Ab;if(W instanceof Ca){aa="spki";da=Qa(W).der;}else if(W instanceof ta)(aa="pkcs8",da=ma(W).der);else return Ab;return new ia(da,aa,W.keyOps,W.ext);};eb.webCryptoAlgorithmToJwkAlg=function(W){return "RSAES-PKCS1-v1_5" == W.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == W.name?"SHA-256" == W.hash.name?"RS256":"SHA-384" == W.hash.name?"RS384":"SHA-512" == W.hash.name?"RS512":Ab:Ab;};eb.webCryptoUsageToJwkKeyOps=function(W){return W.map(function(aa){return "wrapKey" == aa?"wrap":"unwrapKey" == aa?"unwrap":aa;});};})();gb.ASN1=eb;})(pb);(function(){for(var gb={},fb={},eb={"=":0,".":0},ab={"=":0,".":0},lb=/\s+/g,qb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,jb=64;jb--;){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=262144 * jb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=64 * jb;ab[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb]]=jb;}for(jb=64;jb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[jb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb];){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=262144 * jb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=4096 * jb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=64 * jb;ab[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[jb]]=jb;}Db=function(Fa,La){for(var Qa="",Aa=0,ma=Fa.length,ha=ma - 2,Z=La?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ba=La?"":"=";Aa < ha;){La=65536 * Fa[Aa++] + 256 * Fa[Aa++] + Fa[Aa++];Qa+=Z[La >>> 18] + Z[La >>> 12 & 63] + Z[La >>> 6 & 63] + Z[La & 63];}Aa == ha?(La=65536 * Fa[Aa++] + 256 * Fa[Aa++],Qa+=Z[La >>> 18] + Z[La >>> 12 & 63] + Z[La >>> 6 & 63] + ba):Aa == ma - 1 && (La=65536 * Fa[Aa++],Qa+=Z[La >>> 18] + Z[La >>> 12 & 63] + ba + ba);return Qa;};Fb=function(Fa,La){Fa=Fa.replace(lb,"");if(La && (La=Fa.length % 4)){La=4 - La;for(var Qa=0;Qa < La;++Qa){Fa+="=";}}La=Fa.length;if(0 != La % 4 || !qb.test(Fa))throw Error("bad base64: " + Fa);for(var Aa=La / 4 * 3 - ("=" == Fa[La - 1]?1:0) - ("=" == Fa[La - 2]?1:0),ma=new Uint8Array(Aa),ha=0,Z=0;ha < La;){Qa=gb[Fa[ha++]] + fb[Fa[ha++]] + eb[Fa[ha++]] + ab[Fa[ha++]];ma[Z++]=Qa >>> 16;Z < Aa && (ma[Z++]=Qa >>> 8 & 255,Z < Aa && (ma[Z++]=Qa & 255));}return ma;};})();Yb={};(function(){var qb,jb,Fa,Qa;function gb(Aa){if(!(this instanceof gb))return new gb(Aa);for(var ma=0,ha=jb.length;ma < ha;ma++){this[jb[ma]]="";}this.bufferCheckPosition=Yb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=Aa || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Fa.BEGIN;this.stack=new qb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;fb(this,"onready");}function fb(Aa,ma,ha){if(Aa[ma])Aa[ma](ha);}function eb(Aa,ma){var ha,Z;ha=Aa.opt;Z=Aa.textNode;ha.trim && (Z=Z.trim());ha.normalize && (Z=Z.replace(/\s+/g," "));Aa.textNode=Z;Aa.textNode && fb(Aa,ma?ma:"onvalue",Aa.textNode);Aa.textNode="";}function ab(Aa,ma){eb(Aa);ma+="\nLine: " + Aa.line + "\nColumn: " + Aa.column + "\nChar: " + Aa.c;ma=Error(ma);Aa.error=ma;fb(Aa,"onerror",ma);return Aa;}function lb(Aa){Aa.state !== Fa.VALUE && ab(Aa,"Unexpected end");eb(Aa);Aa.c="";Aa.closed=!0;fb(Aa,"onend");gb.call(Aa,Aa.opt);return Aa;}qb=Array;Yb.parser=function(Aa){return new gb(Aa);};Yb.CParser=gb;Yb.MAX_BUFFER_LENGTH=65536;Yb.DEBUG=!1;Yb.INFO=!1;Yb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");jb=["textNode","numberNode"];Yb.EVENTS.filter(function(Aa){return "error" !== Aa && "end" !== Aa;});Fa=0;Yb.STATE={BEGIN:Fa++,VALUE:Fa++,OPEN_OBJECT:Fa++,CLOSE_OBJECT:Fa++,OPEN_ARRAY:Fa++,CLOSE_ARRAY:Fa++,TEXT_ESCAPE:Fa++,STRING:Fa++,BACKSLASH:Fa++,END:Fa++,OPEN_KEY:Fa++,CLOSE_KEY:Fa++,TRUE:Fa++,TRUE2:Fa++,TRUE3:Fa++,FALSE:Fa++,FALSE2:Fa++,FALSE3:Fa++,FALSE4:Fa++,NULL:Fa++,NULL2:Fa++,NULL3:Fa++,NUMBER_DECIMAL_POINT:Fa++,NUMBER_DIGIT:Fa++};for(var La in Yb.STATE){Yb.STATE[Yb.STATE[La]]=La;}Fa=Yb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(Aa){return Aa.__proto__;});Qa=/[\\"\n]/g;gb.prototype={end:function(){lb(this);},write:function(Aa){var Z,ba,ia;if(this.error)throw this.error;if(this.closed)return ab(this,"Cannot write after close. Assign an onready handler.");if(null === Aa)return lb(this);for(var ma=Aa[0],ha;ma;){ha=ma;this.c=ma=Aa.charAt(this.index++);ha !== ma?this.p=ha:ha=this.p;if(!ma)break;this.position++;"\n" === ma?(this.line++,this.column=0):this.column++;switch(this.state){case Fa.BEGIN:"{" === ma?this.state=Fa.OPEN_OBJECT:"[" === ma?this.state=Fa.OPEN_ARRAY:"\r" !== ma && "\n" !== ma && " " !== ma && "\t" !== ma && ab(this,"Non-whitespace before {[.");continue;case Fa.OPEN_KEY:case Fa.OPEN_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Fa.OPEN_KEY)this.stack.push(Fa.CLOSE_KEY);else if("}" === ma){fb(this,"onopenobject");fb(this,"oncloseobject");this.state=this.stack.pop() || Fa.VALUE;continue;}else this.stack.push(Fa.CLOSE_OBJECT);'"' === ma?this.state=Fa.STRING:ab(this,'Malformed object key should start with "');continue;case Fa.CLOSE_KEY:case Fa.CLOSE_OBJECT:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;":" === ma?(this.state === Fa.CLOSE_OBJECT?(this.stack.push(Fa.CLOSE_OBJECT),eb(this,"onopenobject")):eb(this,"onkey"),this.state=Fa.VALUE):"}" === ma?(eb(this),fb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Fa.VALUE):"," === ma?(this.state === Fa.CLOSE_OBJECT && this.stack.push(Fa.CLOSE_OBJECT),eb(this),this.state=Fa.OPEN_KEY):ab(this,"Bad object");continue;case Fa.OPEN_ARRAY:case Fa.VALUE:if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;if(this.state === Fa.OPEN_ARRAY)if((fb(this,"onopenarray"),this.state=Fa.VALUE,"]" === ma)){fb(this,"onclosearray");this.state=this.stack.pop() || Fa.VALUE;continue;}else this.stack.push(Fa.CLOSE_ARRAY);'"' === ma?this.state=Fa.STRING:"{" === ma?this.state=Fa.OPEN_OBJECT:"[" === ma?this.state=Fa.OPEN_ARRAY:"t" === ma?this.state=Fa.TRUE:"f" === ma?this.state=Fa.FALSE:"n" === ma?this.state=Fa.NULL:"-" === ma?this.numberNode+=ma:"0" === ma?(this.numberNode+=ma,this.state=Fa.NUMBER_DIGIT):-1 !== ("123456789").indexOf(ma)?(this.numberNode+=ma,this.state=Fa.NUMBER_DIGIT):ab(this,"Bad value");continue;case Fa.CLOSE_ARRAY:if("," === ma)(this.stack.push(Fa.CLOSE_ARRAY),eb(this,"onvalue"),this.state=Fa.VALUE);else if("]" === ma)(eb(this),fb(this,"onclosearray",void 0),this.state=this.stack.pop() || Fa.VALUE);else if("\r" === ma || "\n" === ma || " " === ma || "\t" === ma)continue;else ab(this,"Bad array");continue;case Fa.STRING:ha=this.index - 1;(Z=this.slashed,ba=this.unicodeI);a:for(;;){if(Yb.DEBUG)for(;0 < ba;){if((this.unicodeS+=ma,ma=Aa.charAt(this.index++),4 === ba?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),ba=0,ha=this.index - 1):ba++,!ma))break a;}if('"' === ma && !Z){this.state=this.stack.pop() || Fa.VALUE;(this.textNode+=Aa.substring(ha,this.index - 1)) || fb(this,"onvalue","");break;}if("\\" === ma && !Z && (Z=!0,this.textNode+=Aa.substring(ha,this.index - 1),ma=Aa.charAt(this.index++),!ma))break;if(Z)if((Z=!1,"n" === ma?this.textNode+="\n":"r" === ma?this.textNode+="\r":"t" === ma?this.textNode+="\t":"f" === ma?this.textNode+="\f":"b" === ma?this.textNode+="\b":"u" === ma?(ba=1,this.unicodeS=""):this.textNode+=ma,ma=Aa.charAt(this.index++),ha=this.index - 1,ma))continue;else break;Qa.lastIndex=this.index;ia=Qa.exec(Aa);if(null === ia){this.index=Aa.length + 1;this.textNode+=Aa.substring(ha,this.index - 1);break;}this.index=ia.index + 1;ma=Aa.charAt(ia.index);if(!ma){this.textNode+=Aa.substring(ha,this.index - 1);break;}}this.slashed=Z;this.unicodeI=ba;continue;case Fa.TRUE:if("" === ma)continue;"r" === ma?this.state=Fa.TRUE2:ab(this,"Invalid true started with t" + ma);continue;case Fa.TRUE2:if("" === ma)continue;"u" === ma?this.state=Fa.TRUE3:ab(this,"Invalid true started with tr" + ma);continue;case Fa.TRUE3:if("" === ma)continue;"e" === ma?(fb(this,"onvalue",!0),this.state=this.stack.pop() || Fa.VALUE):ab(this,"Invalid true started with tru" + ma);continue;case Fa.FALSE:if("" === ma)continue;"a" === ma?this.state=Fa.FALSE2:ab(this,"Invalid false started with f" + ma);continue;case Fa.FALSE2:if("" === ma)continue;"l" === ma?this.state=Fa.FALSE3:ab(this,"Invalid false started with fa" + ma);continue;case Fa.FALSE3:if("" === ma)continue;"s" === ma?this.state=Fa.FALSE4:ab(this,"Invalid false started with fal" + ma);continue;case Fa.FALSE4:if("" === ma)continue;"e" === ma?(fb(this,"onvalue",!1),this.state=this.stack.pop() || Fa.VALUE):ab(this,"Invalid false started with fals" + ma);continue;case Fa.NULL:if("" === ma)continue;"u" === ma?this.state=Fa.NULL2:ab(this,"Invalid null started with n" + ma);continue;case Fa.NULL2:if("" === ma)continue;"l" === ma?this.state=Fa.NULL3:ab(this,"Invalid null started with nu" + ma);continue;case Fa.NULL3:if("" === ma)continue;"l" === ma?(fb(this,"onvalue",null),this.state=this.stack.pop() || Fa.VALUE):ab(this,"Invalid null started with nul" + ma);continue;case Fa.NUMBER_DECIMAL_POINT:"." === ma?(this.numberNode+=ma,this.state=Fa.NUMBER_DIGIT):ab(this,"Leading zero not followed by .");continue;case Fa.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(ma)?this.numberNode+=ma:"." === ma?(-1 !== this.numberNode.indexOf(".") && ab(this,"Invalid number has two dots"),this.numberNode+=ma):"e" === ma || "E" === ma?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || ab(this,"Invalid number has two exponential"),this.numberNode+=ma):"+" === ma || "-" === ma?("e" !== ha && "E" !== ha && ab(this,"Invalid symbol in number"),this.numberNode+=ma):(this.numberNode && fb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Fa.VALUE);continue;default:ab(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){Aa=Math.max(Yb.MAX_BUFFER_LENGTH,10);ha=ma=0;for(Z=jb.length;ha < Z;ha++){ba=this[jb[ha]].length;if(ba > Aa)switch(jb[ha]){case "text":break;default:ab(this,"Max buffer length exceeded: " + jb[ha]);}ma=Math.max(ma,ba);}this.bufferCheckPosition=Yb.MAX_BUFFER_LENGTH - ma + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var ab,lb,qb;function gb(jb,Fa){Fa || (Fa=jb.length);return jb.reduce(function(La,Qa,Aa){return Aa < Fa?La + String.fromCharCode(Qa):La;},"");}for(var fb={},eb=0;256 > eb;++eb){ab=gb([eb]);fb[ab]=eb;}lb=Object.keys(fb).length;qb=[];for(eb=0;256 > eb;++eb){qb[eb]=[eb];}Be=function(jb,Fa){var U,Y;function La(pa,na){var ra;for(;0 < na;){if(ba >= Z.length)return !1;if(na > ia){ra=pa;ra>>>=na - ia;Z[ba]|=ra & 255;na-=ia;ia=8;++ba;}else na <= ia && (ra=pa,ra<<=ia - na,ra&=255,ra>>>=8 - ia,Z[ba]|=ra & 255,ia-=na,na=0,0 == ia && (ia=8,++ba));}return !0;}for(var Qa in fb){Fa[Qa]=fb[Qa];}for(var Aa=lb,ma=[],ha=8,Z=new Uint8Array(jb.length),ba=0,ia=8,ea=0;ea < jb.length;++ea){U=jb[ea];ma.push(U);Qa=gb(ma);Y=Fa[Qa];if(!Y){ma=gb(ma,ma.length - 1);if(!La(Fa[ma],ha))return null;0 != Aa >> ha && ++ha;Fa[Qa]=Aa++;ma=[U];}}return 0 < ma.length && (Qa=gb(ma),Y=Fa[Qa],!La(Y,ha))?null:Z.subarray(0,8 > ia?ba + 1:ba);};Ce=function(jb){var ea,U;for(var Fa=qb.slice(),La=0,Qa=0,Aa=8,ma=new Uint8Array(Math.ceil(1.5 * jb.length)),ha=0,Z,ba=[];La < jb.length && !(8 * (jb.length - La) - Qa < Aa);){for(var ia=Z=0;ia < Aa;){ea=Math.min(Aa - ia,8 - Qa);U=jb[La];U<<=Qa;U&=255;U>>>=8 - ea;ia+=ea;Qa+=ea;8 == Qa && (Qa=0,++La);Z|=(U & 255) << Aa - ia;}ia=Fa[Z];0 == ba.length?++Aa:(ia?ba.push(ia[0]):ba.push(ba[0]),Fa[Fa.length]=ba,ba=[],Fa.length == 1 << Aa && ++Aa,ia || (ia=Fa[Z]));Z=ha + ia.length;Z >= ma.length && (ea=new Uint8Array(Math.ceil(1.5 * Z)),ea.set(ma),ma=ea);ma.set(ia,ha);ha=Z;ba=ba.concat(ia);}return ma.subarray(0,ha);};})();(function(){var gb,fb,eb;Lb="utf-8";Mb=9007199254740992;gb=Pc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Pc);De=function(ab){for(var lb=[gb.GZIP,gb.LZW],qb=0;qb < lb.length && 0 < ab.length;++qb){for(var jb=lb[qb],Fa=0;Fa < ab.length;++Fa){if(ab[Fa] == jb)return jb;}}return null;};fb=vd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(vd);Ee=function(ab){return fb.AES_CBC_PKCS5Padding == ab?fb.AES_CBC_PKCS5Padding:fb.RSA_ECB_PKCS1Padding == ab?fb.RSA_ECB_PKCS1Padding:fb[ab];};eb=Fe={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Fe);Ud=function(ab){return eb[ab];};Ja={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ja);})();Bb={isObjectLiteral:function(gb){return null !== gb && "object" === typeof gb && gb.constructor === Object;},extendDeep:function(){var gb,fb,eb,ab,lb,qb,jb,Fa;gb=arguments[0];fb=1;eb=arguments.length;ab=!1;"boolean" === typeof gb && (ab=gb,gb=arguments[1],fb=2);for(;fb < eb;fb++){if(null != (lb=arguments[fb]))for(qb in lb){if(!(ab && (qb in gb))){jb=lb[qb];if(gb !== jb && jb !== Ab){Fa=gb[qb];gb[qb]=null !== Fa && null !== jb && "object" === typeof Fa && "object" === typeof jb?Bb.extendDeep(ab,{},Fa,jb):jb;}}}}return gb;}};(function(){var jb,Fa;function gb(La,Qa){return function(){var Aa,ma;Aa=La.base;La.base=Qa;ma=La.apply(this,arguments);La.base=Aa;return ma;};}function fb(La,Qa,Aa){var ma,ha,Z,ba;Aa=Aa || Fa;ha=! !Aa.extendAll;for(ma in Qa){Z=Qa.__lookupGetter__(ma);ba=Qa.__lookupSetter__(ma);Z || ba?(Z && La.__defineGetter__(ma,Z),ba && La.__defineSetter__(ma,ba)):(Z=Qa[ma],ba=La[ma],"function" === typeof Z && "function" === typeof ba && Z !== ba?(Z.base !== Function.prototype.base && (Z=gb(Z,ba)),Z.base=ba):(ha || Aa[ma]) && Bb.isObjectLiteral(Z) && Bb.isObjectLiteral(ba) && (Z=Bb.extendDeep({},ba,Z)),La[ma]=Z);}}function eb(){var La,Qa;La=Array.prototype.slice;Qa=La.call(arguments,1);return this.extend({init:function ma(){var ha;ha=La.call(arguments,0);ma.base.apply(this,Qa.concat(ha));}});}function ab(La,Qa){var Aa;Aa=new this(jb);fb(Aa,La,Qa);return qb(Aa);}function lb(La,Qa){fb(this.prototype,La,Qa);return this;}function qb(La){var Qa;Qa=function(){var Aa;Aa=this.init;Aa && arguments[0] !== jb && Aa.apply(this,arguments);};La && (Qa.prototype=La);Qa.prototype.constructor=Qa;Qa.extend=ab;Qa.bind=eb;Qa.mixin=lb;return Qa;}jb={};Fa={actions:!0};Function.prototype.base=function(){};Bb.Class={create:qb,mixin:fb,extend:function(La,Qa){var Aa;Aa=qb();Aa.prototype=new La();return Aa.extend(Qa);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){var jb,Fa,La;function gb(Qa,Aa){return function(){var ma,ha;ma=Qa.base;Qa.base=Aa;ha=Qa.apply(this,arguments);Qa.base=ma;return ha;};}function fb(Qa,Aa,ma){var ha,Z,ba,ia;ma=ma || Fa;Z=! !ma.extendAll;for(ha in Aa){ba=Aa.__lookupGetter__(ha);ia=Aa.__lookupSetter__(ha);ba || ia?(ba && Qa.__defineGetter__(ha,ba),ia && Qa.__defineSetter__(ha,ia)):(ba=Aa[ha],ia=Qa[ha],"function" === typeof ba && "function" === typeof ia && ba !== ia?(ba.base !== La && (ba=gb(ba,ia)),ba.base=ia):(Z || ma[ha]) && Bb.isObjectLiteral(ba) && Bb.isObjectLiteral(ia) && (ba=Bb.extendDeep({},ia,ba)),Qa[ha]=ba);}}function eb(){var Qa,Aa;Qa=Array.prototype.slice;Aa=Qa.call(arguments,1);return this.extend({init:function ha(){var Z;Z=Qa.call(arguments,0);ha.base.apply(this,Aa.concat(Z));}});}function ab(Qa,Aa){var ma;ma=new this(jb);fb(ma,Qa,Aa);return qb(ma);}function lb(Qa,Aa){fb(this.prototype,Qa,Aa);return this;}function qb(Qa){var Aa;Aa=function(){var ma;ma=this.init;ma && arguments[0] !== jb && ma.apply(this,arguments);};Qa && (Aa.prototype=Qa);Aa.prototype.constructor=Aa;Aa.extend=ab;Aa.bind=eb;Aa.mixin=lb;return Aa;}jb={};Fa={actions:!0};La=function(){};Function.prototype.base=La;Bb.Class={create:qb,mixin:fb,extend:function(Qa,Aa){var ma;ma=qb();ma.prototype=new Qa();return ma.extend(Aa);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){function gb(eb){return eb == Mb?1:eb + 1;}function fb(eb){if(0 === Object.keys(eb._waiters).length)return 0;for(var ab=gb(eb._nextWaiter);!eb._waiters[ab];){ab=gb(ab);}return ab;}hd=Bb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(eb){var ab;if(this._waiters[eb]){ab=this._waiters[eb];delete this._waiters[eb];eb == this._nextWaiter && (this._nextWaiter=fb(this));ab.call(this,Ab);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(eb,ab){var lb,qb;lb=this;qb=gb(this._lastWaiter);this._lastWaiter=qb;db(ab,function(){var jb,Fa;if(0 < this._queue.length){jb=this._queue.shift();setTimeout(function(){ab.result(jb);},0);}else {-1 != eb && (Fa=setTimeout(function(){delete lb._waiters[qb];qb == lb._nextWaiter && (lb._nextWaiter=fb(lb));ab.timeout();},eb));this._waiters[qb]=function(La){clearTimeout(Fa);setTimeout(function(){ab.result(La);},0);};this._nextWaiter || (this._nextWaiter=qb);}},lb);return qb;},add:function(eb){var ab;if(this._nextWaiter){ab=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=fb(this);ab.call(this,eb);}else this._queue.push(eb);}});})();(function(){var gb;gb=0 - Mb;Ge=Bb.Class.create({nextBoolean:function(){var fb;fb=new Uint8Array(1);Gc.getRandomValues(fb);return fb[0] & 1?!0:!1;},nextInt:function(fb){var eb;if(null !== fb && fb !== Ab){if("number" !== typeof fb)throw new TypeError("n must be of type number");if(1 > fb)throw new RangeError("n must be greater than zero");--fb;eb=new Uint8Array(4);Gc.getRandomValues(eb);return Math.floor(((eb[3] & 127) << 24 | eb[2] << 16 | eb[1] << 8 | eb[0]) / 2147483648 * (fb - 0 + 1));}fb=new Uint8Array(4);Gc.getRandomValues(fb);eb=(fb[3] & 127) << 24 | fb[2] << 16 | fb[1] << 8 | fb[0];return fb[3] & 128?-eb:eb;},nextLong:function(){var eb;for(var fb=gb;fb == gb;){fb=new Uint8Array(7);Gc.getRandomValues(fb);eb=16777216 * ((fb[6] & 31) << 24 | fb[5] << 16 | fb[4] << 8 | fb[3]) + (fb[2] << 16 | fb[1] << 8 | fb[0]);fb=fb[6] & 128?-eb - 1:eb;}return fb;},nextBytes:function(fb){Gc.getRandomValues(fb);}});})();(function(){function gb(ab){return ab == Mb?1:ab + 1;}function fb(ab){if(0 === Object.keys(ab._waitingReaders).length)return 0;for(var lb=gb(ab._nextReader);!ab._waitingReaders[lb];){lb=gb(lb);}return lb;}function eb(ab){if(0 === Object.keys(ab._waitingWriters).length)return 0;for(var lb=gb(ab._nextWriter);!ab._waitingWriters[lb];){lb=gb(lb);}return lb;}Vd=Bb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(ab){var lb;if(this._waitingReaders[ab]){lb=this._waitingReaders[ab];delete this._waitingReaders[ab];ab == this._nextReader && (this._nextReader=fb(this));lb.call(this,!0);}this._waitingWriters[ab] && (lb=this._waitingWriters[ab],delete this._waitingWriters[ab],ab == this._nextWriter && (this._nextWriter=eb(this)),lb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(ab,lb){var qb,jb;qb=this;jb=gb(this._lastNumber);this._lastNumber=jb;db(lb,function(){var Fa;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[jb]=!0,jb);-1 != ab && (Fa=setTimeout(function(){delete qb._waitingReaders[jb];jb == qb._nextReader && (qb._nextReader=fb(qb));lb.timeout();},ab));this._waitingReaders[jb]=function(La){clearTimeout(Fa);La?setTimeout(function(){lb.result(Ab);},0):(qb._readers[jb]=!0,setTimeout(function(){lb.result(jb);},0));};this._nextReader || (this._nextReader=jb);},qb);return jb;},writeLock:function(ab,lb){var qb,jb;qb=this;jb=gb(this._lastNumber);this._lastNumber=jb;db(lb,function(){var Fa;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=jb;-1 != ab && (Fa=setTimeout(function(){delete qb._waitingWriters[jb];jb == qb._nextWriter && (qb._nextWriter=eb(qb));lb.timeout();},ab));this._waitingWriters[jb]=function(La){clearTimeout(Fa);La?setTimeout(function(){lb.result(Ab);},0):(qb._writer=jb,setTimeout(function(){lb.result(jb);},0));};this._nextWriter || (this._nextWriter=jb);},qb);return jb;},unlock:function(ab){if(ab == this._writer)this._writer=null;else {if(!this._readers[ab])throw new vb("There is no reader or writer with ticket number " + ab + ".");delete this._readers[ab];}if(this._nextWriter)0 < Object.keys(this._readers).length || (ab=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=eb(this),ab.call(this,!1));else {for(var lb=this._nextReader;0 < Object.keys(this._waitingReaders).length;lb=gb(lb)){this._waitingReaders[lb] && (ab=this._waitingReaders[lb],delete this._waitingReaders[lb],ab.call(this,!1));}this._nextReader=0;}}});})();Bb.Class.mixin(V,{JSON_PARSE_ERROR:new V(0,Ja.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new V(1,Ja.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new V(2,Ja.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new V(3,Ja.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new V(4,Ja.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new V(5,Ja.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new V(6,Ja.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new V(7,Ja.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new V(8,Ja.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new V(9,Ja.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new V(10,Ja.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new V(11,Ja.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new V(12,Ja.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new V(13,Ja.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new V(14,Ja.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new V(15,Ja.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new V(16,Ja.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new V(17,Ja.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new V(18,Ja.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new V(19,Ja.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new V(20,Ja.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new V(21,Ja.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new V(22,Ja.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new V(23,Ja.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new V(24,Ja.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new V(25,Ja.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new V(26,Ja.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new V(27,Ja.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new V(28,Ja.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new V(29,Ja.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new V(30,Ja.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new V(31,Ja.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new V(32,Ja.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new V(33,Ja.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new V(34,Ja.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new V(35,Ja.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new V(36,Ja.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new V(37,Ja.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new V(38,Ja.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new V(39,Ja.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new V(40,Ja.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new V(41,Ja.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new V(42,Ja.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new V(43,Ja.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new V(44,Ja.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new V(45,Ja.FAIL,"Error exporting key."),DIGEST_ERROR:new V(46,Ja.FAIL,"Error in digest."),UNSUPPORTED_KEY:new V(47,Ja.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new V(48,Ja.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new V(49,Ja.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new V(50,Ja.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new V(51,Ja.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new V(52,Ja.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new V(53,Ja.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new V(54,Ja.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new V(55,Ja.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new V(56,Ja.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new V(57,Ja.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new V(58,Ja.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new V(59,Ja.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new V(60,Ja.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new V(61,Ja.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new V(62,Ja.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new V(1E3,Ja.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new V(1001,Ja.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new V(1002,Ja.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new V(1003,Ja.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new V(1004,Ja.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(1005,Ja.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new V(1006,Ja.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new V(1007,Ja.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new V(1008,Ja.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new V(1009,Ja.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new V(1010,Ja.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new V(1011,Ja.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new V(1012,Ja.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new V(1013,Ja.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new V(1014,Ja.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new V(2E3,Ja.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new V(2001,Ja.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new V(2002,Ja.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new V(2003,Ja.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new V(2004,Ja.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new V(2005,Ja.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(2006,Ja.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(2007,Ja.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new V(2008,Ja.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new V(2009,Ja.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new V(2010,Ja.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new V(2011,Ja.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new V(2012,Ja.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new V(2013,Ja.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new V(2014,Ja.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new V(2015,Ja.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new V(2016,Ja.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new V(2017,Ja.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new V(2018,Ja.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new V(2019,Ja.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new V(2020,Ja.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new V(3E3,Ja.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new V(3001,Ja.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new V(3002,Ja.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new V(3003,Ja.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new V(3004,Ja.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(3005,Ja.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(3006,Ja.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new V(3007,Ja.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new V(3008,Ja.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new V(3009,Ja.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new V(4E3,Ja.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new V(4001,Ja.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new V(4002,Ja.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new V(4003,Ja.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new V(4004,Ja.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new V(4005,Ja.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new V(4006,Ja.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new V(4007,Ja.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new V(4008,Ja.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new V(4009,Ja.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new V(4010,Ja.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new V(4011,Ja.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new V(4012,Ja.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new V(4013,Ja.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new V(4014,Ja.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new V(4015,Ja.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new V(4016,Ja.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new V(4017,Ja.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new V(4018,Ja.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new V(4019,Ja.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new V(4020,Ja.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new V(4021,Ja.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new V(4022,Ja.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new V(4023,Ja.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new V(4024,Ja.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new V(4025,Ja.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new V(4026,Ja.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new V(5E3,Ja.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new V(5001,Ja.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new V(5002,Ja.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new V(5003,Ja.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new V(5004,Ja.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new V(5005,Ja.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new V(5006,Ja.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new V(5007,Ja.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new V(5008,Ja.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new V(5009,Ja.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new V(5010,Ja.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new V(5011,Ja.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new V(5012,Ja.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new V(5013,Ja.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new V(5014,Ja.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new V(5015,Ja.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new V(5016,Ja.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new V(5017,Ja.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new V(5018,Ja.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new V(5019,Ja.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new V(5020,Ja.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new V(5021,Ja.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new V(5022,Ja.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new V(5023,Ja.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new V(5024,Ja.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new V(5025,Ja.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new V(5026,Ja.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new V(5027,Ja.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new V(5028,Ja.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new V(5029,Ja.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new V(5030,Ja.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new V(5031,Ja.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new V(5032,Ja.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new V(5033,Ja.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new V(5034,Ja.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new V(5035,Ja.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new V(5036,Ja.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new V(5037,Ja.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new V(5038,Ja.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new V(5039,Ja.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new V(5040,Ja.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new V(6E3,Ja.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new V(6001,Ja.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new V(6002,Ja.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new V(6003,Ja.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new V(6004,Ja.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new V(6005,Ja.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new V(6006,Ja.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new V(6007,Ja.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new V(6008,Ja.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new V(6009,Ja.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new V(6010,Ja.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new V(6011,Ja.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new V(6012,Ja.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new V(6013,Ja.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new V(6014,Ja.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new V(6015,Ja.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new V(6016,Ja.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new V(6017,Ja.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new V(6018,Ja.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new V(6019,Ja.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new V(6020,Ja.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new V(6021,Ja.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new V(6022,Ja.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new V(6023,Ja.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new V(6024,Ja.FAIL,"Invalid header data."),PAYLOAD_INVALID:new V(6025,Ja.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new V(6026,Ja.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new V(6027,Ja.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new V(6028,Ja.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new V(6029,Ja.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new V(6030,Ja.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new V(6031,Ja.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new V(6032,Ja.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new V(6033,Ja.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new V(6034,Ja.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new V(6035,Ja.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new V(6036,Ja.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new V(6037,Ja.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new V(7E3,Ja.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new V(7001,Ja.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new V(7002,Ja.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new V(7003,Ja.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new V(7004,Ja.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new V(7005,Ja.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new V(7006,Ja.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new V(7007,Ja.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new V(7008,Ja.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new V(7009,Ja.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new V(7010,Ja.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new V(7011,Ja.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new V(7012,Ja.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new V(7013,Ja.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new V(7014,Ja.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new V(7015,Ja.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new V(7016,Ja.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new V(8E3,Ja.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new V(8001,Ja.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new V(8002,Ja.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new V(8003,Ja.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new V(8004,Ja.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new V(8005,Ja.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new V(8006,Ja.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new V(8007,Ja.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new V(8008,Ja.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new V(8009,Ja.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new V(8010,Ja.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new V(8011,Ja.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new V(8012,Ja.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new V(9E3,Ja.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new V(9001,Ja.FAIL,"Error communicating with MSL entity."),NONE:new V(9999,Ja.FAIL,"Special unit test error.")});Object.freeze(V);(function(){bb=Bb.Class.create(Error());bb.mixin({init:function(gb,fb,eb){var lb,qb,jb;function ab(){return qb?qb:this.cause && this.cause instanceof bb?this.cause.messageId:Ab;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);lb=gb.message;fb && (lb+=" [" + fb + "]");jb=this.stack;Object.defineProperties(this,{message:{value:lb,writable:!1,configurable:!0},error:{value:gb,writable:!1,configurable:!0},cause:{value:eb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:ab,set:function(Fa){if(0 > Fa || Fa > Mb)throw new RangeError("Message ID " + Fa + " is outside the valid range.");ab() || (qb=Fa);},configurable:!0},stack:{get:function(){var Fa;Fa=this.toString();jb && (Fa+="\n" + jb);eb && eb.stack && (Fa+="\nCaused by " + eb.stack);return Fa;},configurable:!0}});},setEntity:function(gb){!gb || this.masterToken || this.entityAuthenticationData || (gb instanceof ic?this.masterToken=gb:gb instanceof Qc && (this.entityAuthenticationData=gb));return this;},setUser:function(gb){!gb || this.userIdToken || this.userAuthenticationData || (gb instanceof $c?this.userIdToken=gb:gb instanceof Hc && (this.userAuthenticationData=gb));return this;},setMessageId:function(gb){this.messageId=gb;return this;},toString:function(){return this.name + ": " + this.message;}});})();tb=bb.extend({init:function lb(fb,eb,ab){lb.base.call(this,fb,eb,ab);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});yb=bb.extend({init:function qb(eb,ab,lb){qb.base.call(this,eb,ab,lb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});wc=bb.extend({init:function jb(ab,lb,qb){jb.base.call(this,ab,lb,qb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){kc=Bb.Class.create(Error());kc.mixin({init:function(ab,lb,qb){var jb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);jb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},requestCause:{value:qb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Fa;Fa=this.toString();jb && (Fa+="\n" + jb);lb && lb.stack && (Fa+="\nCaused by " + lb.stack);return Fa;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Wb=Bb.Class.create(Error());Wb.mixin({init:function(ab,lb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();qb && (jb+="\n" + qb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){vb=Bb.Class.create(Error());vb.mixin({init:function(ab,lb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();qb && (jb+="\n" + qb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Zb=Bb.Class.create(Error());Zb.mixin({init:function(ab,lb){var qb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);qb=this.stack;Object.defineProperties(this,{message:{value:ab,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var jb;jb=this.toString();qb && (jb+="\n" + qb);lb && lb.stack && (jb+="\nCaused by " + lb.stack);return jb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Pb=bb.extend({init:function Fa(lb,qb,jb){Fa.base.call(this,lb,qb,jb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Rc=bb.extend({init:function Fa(qb,jb){Fa.base.call(this,qb);Object.defineProperties(this,{masterToken:{value:jb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ib=bb.extend({init:function Qa(jb,Fa,La){Qa.base.call(this,jb,Fa,La);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Gb=bb.extend({init:function Aa(Fa,La,Qa){Aa.base.call(this,Fa,La,Qa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var ma;function Fa(ha){return "undefined" === typeof ha?!1:ha;}function La(ha){return ha && ha.length?(bc === ma.V2014_02 && (ha=ha.map(function(Z){return "wrap" == Z?"wrapKey":"unwrap" == Z?"unwrapKey":Z;})),ha):bc === ma.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Qa(ha,Z,ba,ia,ea){return Promise.resolve().then(function(){return Qb.importKey(ha,Z,ba,ia,ea);}).catch(function(U){var Y;if("spki" !== ha && "pkcs8" !== ha)throw U;U=ASN1.webCryptoAlgorithmToJwkAlg(ba);Y=ASN1.webCryptoUsageToJwkKeyOps(ea);U=ASN1.rsaDerToJwk(Z,U,Y,ia);if(!U)throw Error("Could not make valid JWK from DER input");U=JSON.stringify(U);return Qb.importKey("jwk",Pd(U),ba,ia,ea);});}function Aa(ha,Z){return Promise.resolve().then(function(){return Qb.exportKey(ha,Z);}).catch(function(ba){if("spki" !== ha && "pkcs8" !== ha)throw ba;return Qb.exportKey("jwk",Z).then(function(ia){ia=JSON.parse(Od(new Uint8Array(ia)));ia=ASN1.jwkToRsaDer(ia);if(!ia)throw Error("Could not make valid DER from JWK input");return ia.getDer().buffer;});});}ma=wd={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(wd);bc=ma.LATEST;Jb={encrypt:function(ha,Z,ba){switch(bc){case ma.LEGACY:return new Promise(function(ia,ea){var U;U=Qb.encrypt(ha,Z,ba);U.oncomplete=function(Y){ia(Y.target.result);};U.onerror=function(Y){ea(Y);};});case ma.V2014_01:case ma.V2014_02:return Qb.encrypt(ha,Z,ba).then(function(ia){return new Uint8Array(ia);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ha,Z,ba){switch(bc){case ma.LEGACY:return new Promise(function(ia,ea){var U;U=Qb.decrypt(ha,Z,ba);U.oncomplete=function(Y){ia(Y.target.result);};U.onerror=function(Y){ea(Y);};});case ma.V2014_01:case ma.V2014_02:return Qb.decrypt(ha,Z,ba).then(function(ia){return new Uint8Array(ia);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ha,Z,ba){switch(bc){case ma.LEGACY:return new Promise(function(ia,ea){var U;U=Qb.sign(ha,Z,ba);U.oncomplete=function(Y){ia(Y.target.result);};U.onerror=function(Y){ea(Y);};});case ma.V2014_01:case ma.V2014_02:return Qb.sign(ha,Z,ba).then(function(ia){return new Uint8Array(ia);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ha,Z,ba,ia){switch(bc){case ma.LEGACY:return new Promise(function(ea,U){var Y;Y=Qb.verify(ha,Z,ba,ia);Y.oncomplete=function(pa){ea(pa.target.result);};Y.onerror=function(pa){U(pa);};});case ma.V2014_01:case ma.V2014_02:return Qb.verify(ha,Z,ba,ia);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ha,Z){switch(bc){case ma.LEGACY:return new Promise(function(ba,ia){var ea;ea=Qb.digest(ha,Z);ea.oncomplete=function(U){ba(U.target.result);};ea.onerror=function(U){ia(U);};});case ma.V2014_01:case ma.V2014_02:return Qb.digest(ha,Z).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ha,Z,ba){var ia,ea;ia=Fa(Z);ea=La(ba);switch(bc){case ma.LEGACY:return new Promise(function(U,Y){var pa;pa=Qb.generateKey(ha,ia,ea);pa.oncomplete=function(na){U(na.target.result);};pa.onerror=function(na){Y(na);};});case ma.V2014_01:case ma.V2014_02:return Qb.generateKey(ha,ia,ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ha,Z,ba,ia,ea){var U,Y;U=Fa(ia);Y=La(ea);switch(bc){case ma.LEGACY:return new Promise(function(pa,na){var ra;ra=Qb.deriveKey(ha,Z,ba,U,Y);ra.oncomplete=function(Ca){pa(Ca.target.result);};ra.onerror=function(Ca){na(Ca);};});case ma.V2014_01:case ma.V2014_02:return Qb.deriveKey(ha,Z,ba,U,Y);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ha,Z,ba,ia,ea){var U,Y;U=Fa(ia);Y=La(ea);switch(bc){case ma.LEGACY:return new Promise(function(pa,na){var ra;ra=Qb.importKey(ha,Z,ba,U,Y);ra.oncomplete=function(Ca){pa(Ca.target.result);};ra.onerror=function(Ca){na(Ca);};});case ma.V2014_01:case ma.V2014_02:return Qa(ha,Z,ba,U,Y);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ha,Z){switch(bc){case ma.LEGACY:return new Promise(function(ba,ia){var ea;ea=Qb.exportKey(ha,Z);ea.oncomplete=function(U){ba(U.target.result);};ea.onerror=function(U){ia(U);};});case ma.V2014_01:case ma.V2014_02:return Aa(ha,Z).then(function(ba){return new Uint8Array(ba);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ha,Z,ba,ia){switch(bc){case ma.LEGACY:return new Promise(function(ea,U){var Y;Y=Qb.wrapKey(Z,ba,ia);Y.oncomplete=function(pa){ea(pa.target.result);};Y.onerror=function(pa){U(pa);};});case ma.V2014_01:case ma.V2014_02:return Qb.wrapKey(ha,Z,ba,ia).then(function(ea){return new Uint8Array(ea);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ha,Z,ba,ia,ea,U,Y){switch(bc){case ma.LEGACY:return new Promise(function(pa,na){var ra;ra=Qb.unwrapKey(Z,ea,ba);ra.oncomplete=function(Ca){pa(Ca.target.result);};ra.onerror=function(Ca){na(Ca);};});case ma.V2014_01:case ma.V2014_02:return Qb.unwrapKey(ha,Z,ba,ia,ea,Fa(U),La(Y));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};ud && ud.getKeyByName && (Jb.getKeyByName=function(ha){switch(bc){case ma.LEGACY:return new Promise(function(Z,ba){var ia;ia=ud.getKeyByName(ha);ia.oncomplete=function(ea){Z(ea.target.result);};ia.onerror=function(ea){ba(ea);};});case ma.V2014_01:case ma.V2014_02:return ud.getKeyByName(ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});pb.netflix=pb.netflix || ({});pb.netflix.crypto=Jb;})();xc={name:"AES-KW"};rc={name:"AES-CBC"};sc={name:"HMAC",hash:{name:"SHA-256"}};xd={name:"RSA-OAEP",hash:{name:"SHA-1"}};Wd={name:"RSAES-PKCS1-v1_5"};He={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Ic=["encrypt","decrypt"];Jc=["wrap","unwrap"];Sc=["sign","verify"];(function(){Xd=Bb.Class.create({init:function(Fa,La,Qa){var ma;function Aa(ha){Ka(La,function(){var Z;Z=ha?Db(ha):Ab;Object.defineProperties(ma,{rawKey:{value:Fa,writable:!1,configurable:!1},keyData:{value:ha,writable:!1,configurable:!1},keyDataB64:{value:Z,writable:!1,configurable:!1}});return this;},ma);}ma=this;Ka(La,function(){if(!Fa || "object" != typeof Fa)throw new tb(V.INVALID_SYMMETRIC_KEY);!Qa && Fa.extractable?Jb.exportKey("raw",Fa).then(function(ha){Aa(new Uint8Array(ha));},function(ha){La.error(new tb(V.KEY_EXPORT_ERROR,"raw"));}):Aa(Qa);},ma);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Yc=function(Fa,La){new Xd(Fa,La);};yc=function(Fa,La,Qa,Aa){Ka(Aa,function(){try{Fa="string" == typeof Fa?Fb(Fa):Fa;}catch(ma){throw new tb(V.INVALID_SYMMETRIC_KEY,"keydata " + Fa,ma);}Jb.importKey("raw",Fa,La,!0,Qa).then(function(ma){new Xd(ma,Aa,Fa);},function(ma){Aa.error(new tb(V.INVALID_SYMMETRIC_KEY));});});};})();(function(){yd=Bb.Class.create({init:function(Fa,La,Qa){var ma;function Aa(ha){Ka(La,function(){Object.defineProperties(ma,{rawKey:{value:Fa,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},ma);}ma=this;Ka(La,function(){if(!Fa || "object" != typeof Fa || "public" != Fa.type)throw new TypeError("Only original public crypto keys are supported.");!Qa && Fa.extractable?Jb.exportKey("spki",Fa).then(function(ha){Aa(new Uint8Array(ha));},function(ha){La.error(new tb(V.KEY_EXPORT_ERROR,"spki"));}):Aa(Qa);});},getEncoded:function(){return this.encoded;}});Oc=function(Fa,La){new yd(Fa,La);};Yd=function(Fa,La,Qa,Aa){Ka(Aa,function(){try{Fa="string" == typeof Fa?Fb(Fa):Fa;}catch(ma){throw new tb(V.INVALID_PUBLIC_KEY,"spki " + Fa,ma);}Jb.importKey("spki",Fa,La,!0,Qa).then(function(ma){new yd(ma,Aa,Fa);},function(ma){Aa.error(new tb(V.INVALID_PUBLIC_KEY));});});};})();(function(){Ie=Bb.Class.create({init:function(Fa,La,Qa){var ma;function Aa(ha){Ka(La,function(){Object.defineProperties(ma,{rawKey:{value:Fa,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},ma);}ma=this;Ka(La,function(){if(!Fa || "object" != typeof Fa || "private" != Fa.type)throw new TypeError("Only original private crypto keys are supported.");!Qa && Fa.extractable?Jb.exportKey("pkcs8",Fa).then(function(ha){Aa(new Uint8Array(ha));},function(ha){La.error(new tb(V.KEY_EXPORT_ERROR,"pkcs8"));}):Aa(Qa);});},getEncoded:function(){return this.encoded;}});Zc=function(Fa,La){new Ie(Fa,La);};})();(function(){var Fa;Fa=be={V1:1,V2:2};Zd=Bb.Class.create({init:function(La,Qa,Aa,ma){Ka(ma,function(){var ha,Z,ba,ia;ha=Fa.V1;Z=La;ba=null;for(ia in vd){if(vd[ia] == La){ha=Fa.V2;Z=null;ba=La;break;}}Object.defineProperties(this,{version:{value:ha,writable:!1,enumerable:!1,configurable:!1},keyId:{value:Z,writable:!1,configurable:!1},cipherSpec:{value:ba,writable:!1,configurable:!1},iv:{value:Qa,writable:!1,configurable:!1},ciphertext:{value:Aa,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var La;La={};switch(this.version){case Fa.V1:La.keyid=this.keyId;this.iv && (La.iv=Db(this.iv));La.ciphertext=Db(this.ciphertext);La.sha256="AA==";break;case Fa.V2:La.version=this.version;La.cipherspec=this.cipherSpec;this.iv && (La.iv=Db(this.iv));La.ciphertext=Db(this.ciphertext);break;default:throw new vb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return La;}});$d=function(La,Qa,Aa,ma){new Zd(La,Qa,Aa,ma);};ae=function(La,Qa,Aa){Ka(Aa,function(){var ma,ha,Z,ba,ia,ea,U;ma=La.keyid;ha=La.cipherspec;Z=La.iv;ba=La.ciphertext;ia=La.sha256;if(!Qa)if((Qa=La.version) && "number" === typeof Qa && Qa === Qa){ea=!1;for(U in Fa){if(Fa[U] == Qa){ea=!0;break;}}if(!ea)throw new tb(V.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}else Qa=Fa.V1;switch(Qa){case Fa.V1:if("string" !== typeof ma || Z && "string" !== typeof Z || "string" !== typeof ba || "string" !== typeof ia)throw new yb(V.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));break;case Fa.V2:U=La.version;if(U != Fa.V2)throw new tb(V.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));if("string" !== typeof ha || Z && "string" !== typeof Z || "string" !== typeof ba)throw new yb(V.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));ha=Ee(ha);if(!ha)throw new tb(V.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(La));ma=ha;break;default:throw new tb(V.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}try{Z && (Z=Fb(Z));ba=Fb(ba);}catch(Y){throw new tb(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(La),Y);}new Zd(ma,Z,ba,Aa);});};})();(function(){var Fa;Fa=ee={V1:1,V2:2};zc=Bb.Class.create({init:function(La,Qa,Aa){var ma;switch(La){case Fa.V1:ma=Aa;break;case Fa.V2:ma={};ma.version=La;ma.algorithm=Qa;ma.signature=Db(Aa);ma=Sb(JSON.stringify(ma),Lb);break;default:throw new vb("Signature envelope version " + La + " encoding unsupported.");}Object.defineProperties(this,{version:{value:La,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Qa,writable:!1,configurable:!1},signature:{value:Aa,writable:!1,configurable:!1},bytes:{value:ma,writable:!1,configurable:!1}});}});ce=function(){var La,Qa,Aa,ma;if(2 == arguments.length){La=Fa.V1;Qa=arguments[0];Aa=null;ma=arguments[1];}else 3 == arguments.length && (La=Fa.V2,Aa=arguments[0],Qa=arguments[1],ma=arguments[2]);Ka(ma,function(){return new zc(La,Aa,Qa);});};de=function(La,Qa,Aa){Ka(Aa,function(){var ma,ha,Z,ba,ia,ea,U;if(Qa)switch(Qa){case Fa.V1:return new zc(Fa.V1,null,La);case Fa.V2:try{ma=Tb(La,Lb);ha=JSON.parse(ma);Z=parseInt(ha.version);ba=ha.algorithm;ia=ha.signature;if(!Z || "number" !== typeof Z || Z != Z || "string" !== typeof ba || "string" !== typeof ia)throw new yb(V.JSON_PARSE_ERROR,"signature envelope " + Db(La));if(Fa.V2 != Z)throw new tb(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(La));ea=Ud(ba);if(!ea)throw new tb(V.UNIDENTIFIED_ALGORITHM,"signature envelope " + Db(La));U=Fb(ia);if(!U)throw new tb(V.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(La));return new zc(Fa.V2,ea,U);}catch(Y){if(Y instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"signature envelope " + Db(La),Y);throw Y;}default:throw new tb(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Db(La));}try{ma=Tb(La,Lb);ha=JSON.parse(ma);}catch(Y){ha=null;}if(ha && ha.version){if((ma=ha.version,"number" !== typeof ma || ma !== ma))ma=Fa.V1;}else ma=Fa.V1;switch(ma){case Fa.V1:return new zc(ma,null,La);case Fa.V2:ea=ha.algorithm;ia=ha.signature;if("string" !== typeof ea || "string" !== typeof ia)return new zc(Fa.V1,null,La);ea=Ud(ea);if(!ea)return new zc(Fa.V1,null,La);try{U=Fb(ia);}catch(Y){return new zc(Fa.V1,null,La);}return new zc(ma,ea,U);default:throw new tb(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + La);}});};})();ad=Bb.Class.create({encrypt:function(Fa,La){},decrypt:function(Fa,La){},wrap:function(Fa,La){},unwrap:function(Fa,La,Qa,Aa){},sign:function(Fa,La){},verify:function(Fa,La,Qa){}});(function(){var Fa;Fa=Bc={RSA_OAEP:xd.name,A128KW:xc.name};vc="A128GCM";Ac=Bb.Class.create({init:function(La,Qa,Aa,ma,ha){switch(Qa){case Fa.RSA_OAEP:ha=ha && (ha.rawKey || ha);ma=ma && (ma.rawKey || ma);break;case Fa.A128KW:ha=ma=ma && (ma.rawKey || ma);break;default:throw new vb("Unsupported algorithm: " + Qa);}Object.defineProperties(this,{_ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Qa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:Aa,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Qa){Qa.error(new tb(V.ENCRYPT_NOT_SUPPORTED));},decrypt:function(La,Qa){Qa.error(new tb(V.DECRYPT_NOT_SUPPORTED));},wrap:function(La,Qa){Ka(Qa,function(){Jb.wrapKey("jwe+jwk",La.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(Aa){Qa.result(Aa);},function(Aa){Qa.error(new tb(V.WRAP_ERROR));});},this);},unwrap:function(La,Qa,Aa,ma){function ha(Z){Ka(ma,function(){switch(Z.type){case "secret":Yc(Z,ma);break;case "public":Oc(Z,ma);break;case "private":Zc(Z,ma);break;default:throw new tb(V.UNSUPPORTED_KEY,"type: " + Z.type);}});}Ka(ma,function(){Jb.unwrapKey("jwe+jwk",La,this._unwrapKey,this._unwrapKey.algorithm,Qa,!1,Aa).then(function(Z){ha(Z);},function(){ma.error(new tb(V.UNWRAP_ERROR));});},this);},sign:function(La,Qa){Qa.error(new tb(V.SIGN_NOT_SUPPORTED));},verify:function(La,Qa,Aa){Aa.error(new tb(V.VERIFY_NOT_SUPPORTED));}});})();bd=ad.extend({encrypt:function(Fa,La){La.result(Fa);},decrypt:function(Fa,La){La.result(Fa);},wrap:function(Fa,La){La.result(Fa);},unwrap:function(Fa,La,Qa,Aa){Aa.result(Fa);},sign:function(Fa,La){La.result(new Uint8Array(0));},verify:function(Fa,La,Qa){Qa.result(!0);}});(function(){var Fa;Fa=Ad={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};zd=ad.extend({init:function ba(Qa,Aa,ma,ha,Z){ba.base.call(this);ma && (ma=ma.rawKey);ha && (ha=ha.rawKey);Object.defineProperties(this,{id:{value:Aa,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},transform:{value:Z == Fa.ENCRYPT_DECRYPT_PKCS1?Wd:Z == Fa.ENCRYPT_DECRYPT_OAEP?xd:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:Z == Fa.WRAP_UNWRAP_PKCS1?Wd:Z == Fa.WRAP_UNWRAP_OAEP?xd:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:Z == Fa.SIGN_VERIFY?He:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Qa,Aa){var ma;ma=this;Ka(Aa,function(){if("nullOp" == this.transform)return Qa;if(!this.publicKey)throw new tb(V.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Qa.length)return Qa;Jb.encrypt(ma.transform,ma.publicKey,Qa).then(function(ha){$d(ma.id,null,ha,{result:function(Z){var ba;try{ba=JSON.stringify(Z);Aa.result(Sb(ba,Lb));}catch(ia){Aa.error(new tb(V.ENCRYPT_ERROR,null,ia));}},error:function(Z){Z instanceof bb || (Z=new tb(V.ENCRYPT_ERROR,null,Z));Aa.error(Z);}});},function(ha){Aa.error(new tb(V.ENCRYPT_ERROR));});},this);},decrypt:function(Qa,Aa){var ma;ma=this;Ka(Aa,function(){var ha,Z;if("nullOp" == this.transform)return Qa;if(!this.privateKey)throw new tb(V.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Qa.length)return Qa;try{ha=Tb(Qa,Lb);Z=JSON.parse(ha);}catch(ba){if(ba instanceof SyntaxError)throw new tb(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ba);throw new tb(V.DECRYPT_ERROR,null,ba);}ae(Z,be.V1,{result:function(ba){var ia;try{if(ba.keyId != ma.id)throw new tb(V.ENVELOPE_KEY_ID_MISMATCH);ia=Aa.result;Jb.decrypt(ma.transform,ma.privateKey,ba.ciphertext).then(ia,function(ea){Aa.error(new tb(V.DECRYPT_ERROR));});}catch(ea){ea instanceof bb?Aa.error(ea):Aa.error(new tb(V.DECRYPT_ERROR,null,ea));}},error:function(ba){ba instanceof yb && (ba=new tb(V.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ba));ba instanceof bb || (ba=new tb(V.DECRYPT_ERROR,null,ba));Aa.error(ba);}});},this);},wrap:function(Qa,Aa){Ka(Aa,function(){var ma;if("nullOp" == this.wrapTransform || !this.publicKey)throw new tb(V.WRAP_NOT_SUPPORTED,"no public key");ma=Aa.result;Jb.wrapKey("jwk",Qa.rawKey,this.publicKey,this.wrapTransform).then(ma,function(ha){Aa.error(new tb(V.WRAP_ERROR));});},this);},unwrap:function(Qa,Aa,ma,ha){function Z(ba){Ka(ha,function(){switch(ba.type){case "secret":Yc(ba,ha);break;case "public":Oc(ba,ha);break;case "private":Zc(ba,ha);break;default:throw new tb(V.UNSUPPORTED_KEY,"type: " + ba.type);}});}Ka(ha,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new tb(V.UNWRAP_NOT_SUPPORTED,"no private key");Jb.unwrapKey("jwk",Qa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},Aa,!1,ma).then(Z,function(ba){ha.error(new tb(V.UNWRAP_ERROR));});},this);},sign:function(Qa,Aa){Ka(Aa,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new tb(V.SIGN_NOT_SUPPORTED,"no private key");Jb.sign(this.algo,this.privateKey,Qa).then(function(ma){ce(ma,{result:function(ha){Aa.result(ha.bytes);},error:Aa.error});},function(ma){Aa.error(new tb(V.SIGNATURE_ERROR));});},this);},verify:function(Qa,Aa,ma){var ha;ha=this;Ka(ma,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new tb(V.VERIFY_NOT_SUPPORTED,"no public key");de(Aa,ee.V1,{result:function(Z){Ka(ma,function(){var ba;ba=ma.result;Jb.verify(this.algo,this.publicKey,Z.signature,Qa).then(ba,function(ia){ma.error(new tb(V.SIGNATURE_ERROR));});},ha);},error:ma.error});},this);}});})();(function(){Bd=ad.extend({init:function Z(La,Qa,Aa,ma,ha){Z.base.call(this);Aa=Aa && Aa.rawKey;ma=ma && ma.rawKey;ha=ha && ha.rawKey;Object.defineProperties(this,{ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},id:{value:Qa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:Aa,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:ma,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Qa){var Aa;Aa=this;Ka(Qa,function(){var ma;if(!this.encryptionKey)throw new tb(V.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;ma=new Uint8Array(16);this.ctx.getRandom().nextBytes(ma);Jb.encrypt({name:rc.name,iv:ma},Aa.encryptionKey,La).then(function(ha){ha=new Uint8Array(ha);$d(Aa.id,ma,ha,{result:function(Z){var ba;try{ba=JSON.stringify(Z);Qa.result(Sb(ba,Lb));}catch(ia){Qa.error(new tb(V.ENCRYPT_ERROR,null,ia));}},error:function(Z){Z instanceof bb || (Z=new tb(V.ENCRYPT_ERROR,null,Z));Qa.error(Z);}});},function(ha){Qa.error(new tb(V.ENCRYPT_ERROR));});},this);},decrypt:function(La,Qa){var Aa;Aa=this;Ka(Qa,function(){var ma,ha;if(!this.encryptionKey)throw new tb(V.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;try{ma=Tb(La,Lb);ha=JSON.parse(ma);}catch(Z){if(Z instanceof SyntaxError)throw new tb(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,Z);throw new tb(V.DECRYPT_ERROR,null,Z);}ae(ha,be.V1,{result:function(Z){try{if(Z.keyId != Aa.id)throw new tb(V.ENVELOPE_KEY_ID_MISMATCH);Jb.decrypt({name:rc.name,iv:Z.iv},Aa.encryptionKey,Z.ciphertext).then(function(ba){ba=new Uint8Array(ba);Qa.result(ba);},function(){Qa.error(new tb(V.DECRYPT_ERROR));});}catch(ba){ba instanceof bb?Qa.error(ba):Qa.error(new tb(V.DECRYPT_ERROR,null,ba));}},error:function(Z){Z instanceof yb && (Z=new tb(V.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,Z));Z instanceof bb || (Z=new tb(V.DECRYPT_ERROR,null,Z));Qa.error(Z);}});},this);},wrap:function(La,Qa){Ka(Qa,function(){if(!this.wrapKey)throw new tb(V.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.wrapKey("raw",La.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(Aa){Qa.result(Aa);},function(Aa){Qa.error(new tb(V.WRAP_ERROR));});},this);},unwrap:function(La,Qa,Aa,ma){function ha(Z){Ka(ma,function(){switch(Z.type){case "secret":Yc(Z,ma);break;case "public":Oc(Z,ma);break;case "private":Zc(Z,ma);break;default:throw new tb(V.UNSUPPORTED_KEY,"type: " + Z.type);}});}Ka(ma,function(){if(!this.wrapKey)throw new tb(V.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.unwrapKey("raw",La,this.wrapKey,this.wrapKey.algorithm,Qa,!1,Aa).then(function(Z){ha(Z);},function(Z){ma.error(new tb(V.UNWRAP_ERROR));});},this);},sign:function(La,Qa){var Aa;Aa=this;Ka(Qa,function(){if(!this.hmacKey)throw new tb(V.SIGN_NOT_SUPPORTED,"no HMAC key.");Jb.sign(sc,this.hmacKey,La).then(function(ma){Ka(Qa,function(){var ha;ha=new Uint8Array(ma);ce(ha,{result:function(Z){Qa.result(Z.bytes);},error:Qa.error});},Aa);},function(){Qa.error(new tb(V.HMAC_ERROR));});},this);},verify:function(La,Qa,Aa){var ma;ma=this;Ka(Aa,function(){if(!this.hmacKey)throw new tb(V.VERIFY_NOT_SUPPORTED,"no HMAC key.");de(Qa,ee.V1,{result:function(ha){Ka(Aa,function(){Jb.verify(sc,this.hmacKey,ha.signature,La).then(function(Z){Aa.result(Z);},function(Z){Aa.error(new tb(V.HMAC_ERROR));});},ma);},error:Aa.error});},this);}});})();jc=Bd.extend({init:function Z(La,Qa,Aa,ma,ha){if(Aa || ma || ha)Z.base.call(this,La,Aa + "_" + Qa.sequenceNumber,ma,ha,null);else {if(!Qa.isDecrypted())throw new Rc(V.MASTERTOKEN_UNTRUSTED,Qa);Z.base.call(this,La,Qa.identity + "_" + Qa.sequenceNumber,Qa.encryptionKey,Qa.hmacKey,null);}}});If=ad.extend({encrypt:function(La,Qa){Qa.result(La);},decrypt:function(La,Qa){Qa.result(La);},wrap:function(La,Qa){Qa.error(new vb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(La,Qa,Aa,ma){ma.error(new vb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(La,Qa){Qa.result(new Uint8Array(0));},verify:function(La,Qa,Aa){Aa.result(!1);}});Nb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Nb);(function(){Qc=Bb.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(La){return this === La?!0:La instanceof Qc?this.scheme == La.scheme:!1;},toJSON:function(){var La;La={};La.scheme=this.scheme;La.authdata=this.getAuthData();return La;}});Je=function(La,Qa){var Aa,ma;Aa=Qa.scheme;ma=Qa.authdata;if(!Aa || !ma)throw new yb(V.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Qa));if(!Nb[Aa])throw new wc(V.UNIDENTIFIED_ENTITYAUTH_SCHEME,Aa);Qa=La.getEntityAuthenticationFactory(Aa);if(!Qa)throw new wc(V.ENTITYAUTH_FACTORY_NOT_FOUND,Aa);return Qa.createData(La,ma);};})();Cd=Bb.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},createData:function(La,Qa){},getCryptoContext:function(La,Qa){}});(function(){nc=Qc.extend({init:function Aa(Qa){Aa.base.call(this,Nb.MGK);Object.defineProperties(this,{identity:{value:Qa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Qa;Qa={};Qa.identity=this.identity;return Qa;},equals:function ma(Aa){return this === Aa?!0:Aa instanceof nc?ma.base.call(this,this,Aa) && this.identity == Aa.identity:!1;}});Ke=function(Aa){var ma;ma=Aa.identity;if(!ma)throw new yb(V.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(Aa));return new nc(ma);};})();Jf=Cd.extend({init:function Aa(Qa){Aa.base.call(this,Nb.MGK);Object.defineProperties(this,{localIdentity:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Qa,Aa){return Ke(Aa);},getCryptoContext:function(Qa,Aa){if(!(Aa instanceof nc))throw new vb("Incorrect authentication data type " + JSON.stringify(Aa) + ".");if(Aa.identity != this.localIdentity)throw new wc(V.ENTITY_NOT_FOUND,"mgk " + Aa.identity).setEntity(Aa);return new bd();}});(function(){tc=Qc.extend({init:function ma(Aa){ma.base.call(this,Nb.PSK);Object.defineProperties(this,{identity:{value:Aa,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Aa;Aa={};Aa.identity=this.identity;return Aa;},equals:function ha(ma){return this === ma?!0:ma instanceof tc?ha.base.call(this,this,ma) && this.identity == ma.identity:!1;}});Le=function(ma){var ha;ha=ma.identity;if(!ha)throw new yb(V.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(ma));return new tc(ha);};})();Kf=Cd.extend({init:function ma(Aa){ma.base.call(this,Nb.PSK);Object.defineProperties(this,{localIdentity:{value:Aa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Aa,ma){return Le(ma);},getCryptoContext:function(Aa,ma){if(!(ma instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(ma) + ".");if(ma.getIdentity() != this.localIdentity)throw new wc(V.ENTITY_NOT_FOUND,"psk " + ma.identity).setEntity(ma);return new bd();}});(function(){Dd=Qc.extend({init:function Z(ma,ha){Z.base.call(this,Nb.RSA);Object.defineProperties(this,{identity:{value:ma,writable:!1,configurable:!1},publicKeyId:{value:ha,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ma;ma={};ma.identity=this.identity;ma.pubkeyid=this.publicKeyId;return ma;},equals:function Z(ha){return this === ha?!0:ha instanceof Dd?Z.base.call(this,this,ha) && this.identity == ha.identity && this.publicKeyId == ha.publicKeyId:!1;}});Me=function(ha){var Z,ba;Z=ha.identity;ba=ha.pubkeyid;if(!Z || "string" !== typeof Z || !ba || "string" !== typeof ba)throw new yb(V.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ha));return new Dd(Z,ba);};})();Lf=Cd.extend({init:function ha(ma){ha.base.call(this,Nb.RSA);Object.defineProperties(this,{store:{value:ma,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ma,ha){return Me(ha);},getCryptoContext:function(ma,ha){var Z,ba,ia;if(!(ha instanceof Dd))throw new vb("Incorrect authentication data type " + ha + ".");Z=ha.identity;ba=ha.publicKeyId;ia=this.store.getPublicKey(ba);if(!ia)throw new wc(V.RSA_PUBLICKEY_NOT_FOUND,ba).setEntity(ha);return new zd(ma,Z,null,ia,Ad.SIGN_VERIFY);}});(function(){gd=Qc.extend({init:function Z(ha){Z.base.call(this,Nb.NONE);Object.defineProperties(this,{identity:{value:ha,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ha;ha={};ha.identity=this.identity;return ha;},equals:function ba(Z){return this === Z?!0:Z instanceof gd?ba.base.call(this,this,Z) && this.identity == Z.identity:!1;}});Ne=function(Z){var ba;ba=Z.identity;if(!ba)throw new yb(V.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(Z));return new gd(ba);};})();Hf=Cd.extend({init:function ha(){ha.base.call(this,Nb.NONE);},createData:function(ha,Z){return Ne(Z);},getCryptoContext:function(ha,Z){if(!(Z instanceof gd))throw new vb("Incorrect authentication data type " + JSON.stringify(Z) + ".");return new bd();}});Mf=Bb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ha,Z){if(!(Z instanceof yd))throw new vb("Incorrect key data type " + Z + ".");this.rsaKeys[ha]=Z;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ha){delete this.rsaKeys[ha];},getPublicKey:function(ha){return this.rsaKeys[ha];}});fe=Bb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ha,Z,ba){}});Ed=Bb.Class.create({abort:function(){},close:function(ha,Z){},write:function(ha,Z,ba,ia,ea){},flush:function(ha,Z){}});Nf=Bb.Class.create({init:function(ha){Object.defineProperties(this,{_data:{value:ha,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Wb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ha,Z,ba){db(ba,function(){var ia;if(this._closed)throw new Wb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ha && (ha=this._data.length - this._currentPosition);ia=this._data.subarray(this._currentPosition,this._currentPosition + ha);this._currentPosition+=ia.length;return ia;},this);}});Of=Bb.Class.create({init:function(){var ha;ha={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ha);},abort:function(){},close:function(ha,Z){this._closed=!0;Z.result(!0);},write:function(ha,Z,ba,ia,ea){db(ea,function(){var U;if(this._closed)throw new Wb("Stream is already closed.");if(0 > Z)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(Z + ba > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");U=ha.subarray(Z,ba);this._buffered.push(U);return U.length;},this);},flush:function(ha,Z){var ba;for(;0 < this._buffered.length;){if((ha=this._buffered.shift(),this._result)){ba=new Uint8Array(this._result.length + ha.length);ba.set(this._result);ba.set(ha,this._result.length);this._result=ba;}else this._result=new Uint8Array(ha);}Z.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Pf=Bb.Class.create({getResponse:function(ha,Z,ba){}});(function(){var ha,Z;ha=Ed.extend({init:function(ba,ia){ba={_httpLocation:{value:ba,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ia,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Of(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new hd(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},setTimeout:function(ba){this._timeout=ba;},getResponse:function(ba,ia){var ea;ea=this;this._responseQueue.poll(ba,{result:function(U){db(ia,function(){U && this._responseQueue.add(U);return U;},ea);},timeout:function(){db(ia,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();ia.timeout();},ea);},error:function(U){db(ia,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw U;},ea);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(ba,ia){var ea;ea=this;db(ia,function(){var U;if(this._response)return !0;U=this._buffer.toByteArray();0 < U.length && (this._abortToken=this._httpLocation.getResponse({body:U},this._timeout,{result:function(Y){ea._response={response:Y};ea._responseQueue.add(ea._response);},timeout:function(){ea._response={isTimeout:!0};ea._responseQueue.add(ea._response);},error:function(Y){ea._response={isError:!0,error:Y};ea._responseQueue.add(ea._response);}}));return !0;},this);},write:function(ba,ia,ea,U,Y){db(Y,function(){if(this._response)throw new Wb("HttpOutputStream already closed.");this._buffer.write(ba,ia,ea,U,Y);},this);},flush:function(ba,ia){db(ia,function(){if(this._response)return !0;this._buffer.flush(ba,ia);},this);}});Z=fe.extend({init:function(ba){Object.defineProperties(this,{_out:{value:ba,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(ba,ia,ea){var Y;function U(pa){db(ea,function(){if(!pa)return new Uint8Array(0);this._out.getResponse(ia,{result:function(na){db(ea,function(){var ra;if(na.isTimeout)(this._timedout=!0,ea.timeout());else {if(na.isError)throw (this._exception=na.error || new Wb("Unknown HTTP exception."),this._exception);if(!na.response)throw (this._exception=new Wb("Missing HTTP response."),this._exception);na.response.json !== Ab && (this._json=na.response.json,this.getJSON=function(){return Y._json;});ra=na.response.content || Pd("string" === typeof na.response.body?na.response.body:JSON.stringify(this._json));this._buffer=new Nf(ra);this._buffer.read(ba,ia,ea);}},Y);},timeout:function(){ea.timeout();},error:function(na){ea.error(na);}});},Y);}Y=this;db(ea,function(){if(this._exception)throw this._exception;if(this._timedout)ea.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(ba,ia,ea):this._out.close(ia,{result:function(pa){U(pa);},timeout:function(){ea.timeout();},error:function(pa){ea.error(pa);}});}},Y);}});ye=Bb.Class.create({init:function(ba,ia){Object.defineProperties(this,{_httpLocation:{value:ba,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ia,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(ba){this._timeout=ba;},openConnection:function(){var ba;ba=new ha(this._httpLocation,this._timeout);return {input:new Z(ba),output:ba};}});})();(function(){var ha,Z;ha=Ed.extend({init:function(){var ba;ba={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},setTimeout:function(){},getResponse:function(ba,ia){ia.result({success:!1,content:null,errorHttpCode:Ab,errorSubCode:Ab});},abort:function(){},close:function(ba,ia){ia.result(!0);},write:function(ba,ia,ea,U,Y){var pa,na;try{if(0 > ia)throw new RangeError("Offset cannot be negative.");if(0 > ea)throw new RangeError("Length cannot be negative.");if(ia + ea > ba.length)throw new RangeError("Offset plus length cannot be greater than the array length.");pa=ba.subarray(ia,ea);na=new Uint8Array(this._buffer.length + pa.length);na.set(this._buffer);na.set(pa,this._buffer.length);this._buffer=na;Y.result(pa.length);}catch(ra){Y.error(ra);}},flush:function(ba,ia){ia.result(!0);},request:function(){return this._buffer;}});Z=fe.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ba,ia,ea){ea.result(new Uint8Array(16));}});ze=Bb.Class.create({init:function(){var ba;ba={output:{value:new ha(),writable:!1,enumerable:!1,configurable:!1},input:{value:new Z(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Od(this.output.request());}});})();Oe=function(ha,Z,ba){(function(ia,ea,U){ia.read(-1,ea,{result:function(Y){Y && Y.length?U(null,Y):U(null,null);},timeout:function(){ba.timeout();},error:function(Y){U(Y,null);}});})(ha,Z,function(ia,ea){var U,Y;if(ia)ba.error(ia);else if(ea){if(ha.getJSON !== Ab && "function" === typeof ha.getJSON)ba.result(ha.getJSON());else {ia=ba.result;ea=new Qf(Tb(ea,"utf-8"));U=[];for(Y=ea.nextValue();Y !== Ab;){U.push(Y);Y=ea.nextValue();}ia.call(ba,U);}}else ba.result(null);});};lc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(lc);(function(){id=Bb.Class.create({init:function(ha){Object.defineProperties(this,{keyExchangeScheme:{value:ha,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof id?this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Pe=function(ha,Z,ba){Ka(ba,function(){var ia,ea,U;ia=Z.scheme;ea=Z.keydata;if(!ia || !ea || "object" !== typeof ea)throw new yb(V.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(Z));if(!lc[ia])throw new Pb(V.UNIDENTIFIED_KEYX_SCHEME,ia);U=ha.getKeyExchangeFactory(ia);if(!U)throw new Pb(V.KEYX_FACTORY_NOT_FOUND,ia);U.createRequestData(ha,ea,ba);});};})();(function(){jd=Bb.Class.create({init:function(ha,Z){Object.defineProperties(this,{masterToken:{value:ha,writable:!1,configurable:!1},keyExchangeScheme:{value:Z,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.mastertoken=this.masterToken;ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof jd?this.masterToken.equals(ha.masterToken) && this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});Qe=function(ha,Z,ba){Ka(ba,function(){var ia,ea,U;ia=Z.mastertoken;ea=Z.scheme;U=Z.keydata;if(!ea || !ia || "object" !== typeof ia || !U || "object" !== typeof U)throw new yb(V.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(Z));if(!lc[ea])throw new Pb(V.UNIDENTIFIED_KEYX_SCHEME,ea);Tc(ha,ia,{result:function(Y){Ka(ba,function(){var pa;pa=ha.getKeyExchangeFactory(ea);if(!pa)throw new Pb(V.KEYX_FACTORY_NOT_FOUND,ea);return pa.createResponseData(ha,Y,U);});},error:function(Y){ba.error(Y);}});});};})();(function(){var ha;ha=Bb.Class.create({init:function(Z,ba){Object.defineProperties(this,{keyResponseData:{value:Z,writable:!1,configurable:!1},cryptoContext:{value:ba,writable:!1,configurable:!1}});}});oc=Bb.Class.create({init:function(Z){Object.defineProperties(this,{scheme:{value:Z,writable:!1,configurable:!1}});},createRequestData:function(Z,ba,ia){},createResponseData:function(Z,ba,ia){},generateResponse:function(Z,ba,ia,ea){},getCryptoContext:function(Z,ba,ia,ea,U){},generateSessionKeys:function(Z,ba){Ka(ba,function(){var ia,ea;ia=new Uint8Array(16);ea=new Uint8Array(32);Z.getRandom().nextBytes(ia);Z.getRandom().nextBytes(ea);yc(ia,rc,Ic,{result:function(U){yc(ea,sc,Sc,{result:function(Y){ba.result({encryptionKey:U,hmacKey:Y});},error:function(Y){ba.error(new tb(V.SESSION_KEY_CREATION_FAILURE,null,Y));}});},error:function(U){ba.error(new tb(V.SESSION_KEY_CREATION_FAILURE,null,U));}});});},importSessionKeys:function(Z,ba,ia){yc(Z,rc,Ic,{result:function(ea){yc(ba,sc,Sc,{result:function(U){ia.result({encryptionKey:ea,hmacKey:U});},error:function(U){ia.error(U);}});},error:function(ea){ia.error(ea);}});}});oc.KeyExchangeData=ha;})();(function(){var Z,ba,ia;function ha(ea,U,Y,pa,na){Ka(na,function(){var ra,Ca;switch(U){case Z.PSK:(ra=new tc(pa),Ca=ea.getEntityAuthenticationFactory(Nb.PSK));if(!Ca)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,U);ra=Ca.getCryptoContext(ea,ra);return new Ac(ea,Bc.A128KW,vc,Ab);case Z.MGK:ra=new nc(pa);Ca=ea.getEntityAuthenticationFactory(Nb.MGK);if(!Ca)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,U);ra=Ca.getCryptoContext(ea,ra);return new Ac(ea,Bc.A128KW,vc,Ab);case Z.WRAP:ra=ea.getMslCryptoContext();ra.unwrap(Y,xc,Jc,{result:function(ta){Ka(na,function(){return new Ac(ea,Bc.A128KW,vc,ta);});},error:na.error});break;default:throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,U);}});}Z={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};ba=ge=id.extend({init:function pa(U,Y){pa.base.call(this,lc.JWE_LADDER);switch(U){case Z.WRAP:if(!Y)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:Y=null;}Object.defineProperties(this,{mechanism:{value:U,writable:!1,configurable:!1},wrapdata:{value:Y,writable:!1,configurable:!1}});},getKeydata:function(){var U;U={};U.mechanism=this.mechanism;this.wrapdata && (U.wrapdata=Db(this.wrapdata));return U;},equals:function pa(Y){return Y === this?!0:Y instanceof ge?pa.base.call(this,Y) && this.mechanism == Y.mechanism && Xb(this.wrapdata,Y.wrapdata):!1;},uniqueKey:function pa(){var na;na=pa.base.call(this) + ":" + this.mechanism;this.wrapdata && (na+=":" + gc(this.wrapdata));return na;}});ia=Se=jd.extend({init:function W(na,ra,Ca,ta,oa){W.base.call(this,na,lc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:ra,writable:!1,configurable:!1},wrapdata:{value:Ca,writable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var na;na={};na.wrapkey=Db(this.wrapKey);na.wrapdata=Db(this.wrapdata);na.encryptionkey=Db(this.encryptionKey);na.hmackey=Db(this.hmacKey);return na;},equals:function Ca(ra){return this === ra?!0:ra instanceof Se?Ca.base.call(this,ra) && Xb(this.wrapKey,ra.wrapKey) && Xb(this.wrapdata,ra.wrapdata) && Xb(this.encryptionKey,ra.encryptionKey) && Xb(this.hmacKey,ra.hmacKey):!1;},uniqueKey:function Ca(){return Ca.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});Re=oc.extend({init:function oa(ta){oa.base.call(this,lc.JWE_LADDER);Object.defineProperties(this,{repository:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ta,oa,W){Ka(W,function(){var aa,da,la;aa=oa.mechanism;da=oa.wrapdata;if(!aa || aa == Z.WRAP && (!da || "string" !== typeof da))throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(oa));if(!Z[aa])throw new Pb(V.UNIDENTIFIED_KEYX_MECHANISM,aa);switch(aa){case Z.WRAP:try{la=Fb(da);}catch(Ga){throw new Pb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());}if(null == la || 0 == la.length)throw new Pb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());break;default:la=null;}return new ba(aa,la);});},createResponseData:function(ta,oa,W){var aa,da,la,Ga,Da,Oa,Sa;ta=W.wrapkey;aa=W.wrapdata;da=W.encryptionkey;la=W.hmackey;if(!(ta && "string" === typeof ta && aa && "string" === typeof aa && da && "string" === typeof da && la) || "string" !== typeof la)throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(W));try{Ga=Fb(ta);Da=Fb(aa);}catch(ka){throw new tb(V.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(W),ka);}try{Oa=Fb(da);}catch(ka){throw new tb(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(W),ka);}try{Sa=Fb(la);}catch(ka){throw new tb(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(W),ka);}return new ia(oa,Ga,Da,Oa,Sa);},generateResponse:function(ta,oa,W,aa){var Oa,Sa;function da(ka,va,za){Oa.generateSessionKeys(ta,{result:function(Ha){Ka(aa,function(){la(ka,va,za,Ha.encryptionKey,Ha.hmacKey);},Oa);},error:function(Ha){Ka(aa,function(){Ha instanceof bb && Ha.setEntity(Sa);throw Ha;});}});}function la(ka,va,za,Ha,Ba){Ka(aa,function(){ha(ta,oa.mechanism,oa.wrapdata,ka,{result:function(Na){Na.wrap(va,{result:function(Ea){Ga(va,za,Ha,Ba,Ea);},error:function(Ea){Ka(aa,function(){Ea instanceof bb && Ea.setEntity(Sa);throw Ea;});}});},error:function(Na){Ka(aa,function(){Na instanceof bb && Na.setEntity(Sa);throw Na;});}});},Oa);}function Ga(ka,va,za,Ha,Ba){Ka(aa,function(){var Na;Na=new Ac(ta,Bc.A128KW,vc,ka);Na.wrap(za,{result:function(Ea){Na.wrap(Ha,{result:function(Wa){Da(va,Ba,za,Ea,Ha,Wa);},error:function(Wa){Ka(aa,function(){Wa instanceof bb && Wa.setEntity(Sa);throw Wa;});}});},error:function(Ea){Ka(aa,function(){Ea instanceof bb && Ea.setEntity(Sa);throw Ea;});}});},Oa);}function Da(ka,va,za,Ha,Ba,Na){Ka(aa,function(){var Ea;Ea=ta.getTokenFactory();Sa?Ea.renewMasterToken(ta,Sa,za,Ba,{result:function(Wa){Ka(aa,function(){var Za,Xa;Za=new jc(ta,Wa);Xa=new ia(Wa,va,ka,Ha,Na);return new oc.KeyExchangeData(Xa,Za,aa);},Oa);},error:function(Wa){Ka(aa,function(){Wa instanceof bb && Wa.setEntity(Sa);throw Wa;});}}):Ea.createMasterToken(ta,W,za,Ba,{result:function(Wa){Ka(aa,function(){var Za,Xa;Za=new jc(ta,Wa);Xa=new ia(Wa,va,ka,Ha,Na);return new oc.KeyExchangeData(Xa,Za,aa);},Oa);},error:aa.error});},Oa);}Oa=this;Ka(aa,function(){var ka,va;if(!(oa instanceof ba))throw new vb("Key request data " + JSON.stringify(oa) + " was not created by this factory.");ka=W;if(W instanceof ic){if(!W.isVerified())throw new Rc(V.MASTERTOKEN_UNTRUSTED,W);Sa=W;ka=W.identity;}va=new Uint8Array(16);ta.getRandom().nextBytes(va);yc(va,xc,Jc,{result:function(za){Ka(aa,function(){ta.getMslCryptoContext().wrap(za,{result:function(Ha){da(ka,za,Ha);},error:function(Ha){Ka(aa,function(){Ha instanceof bb && Ha.setEntity(Sa);throw Ha;},Oa);}});},Oa);},error:function(za){Ka(aa,function(){throw new tb(V.WRAP_KEY_CREATION_FAILURE,null,za).setEntity(Sa);},Oa);}});},Oa);},getCryptoContext:function(ta,oa,W,aa,da){var Ga;function la(Da,Oa,Sa,ka,va){Ka(da,function(){var za;za=new Ac(ta,Bc.A128KW,vc,va);za.unwrap(Oa.encryptionKey,rc,Ic,{result:function(Ha){za.unwrap(Oa.hmacKey,sc,Sc,{result:function(Ba){Ka(da,function(){this.repository.addCryptoContext(Oa.wrapdata,za);this.repository.removeCryptoContext(Sa);return new jc(ta,Oa.masterToken,ka,Ha,Ba);},Ga);},error:function(Ba){Ka(da,function(){Ba instanceof bb && Ba.setEntity(Da);throw Ba;});}});},error:function(Ha){Ka(da,function(){Ha instanceof bb && Ha.setEntity(Da);throw Ha;});}});},Ga);}Ga=this;Ka(da,function(){var Da,Oa;if(!(oa instanceof ba))throw new vb("Key request data " + JSON.stringify(oa) + " was not created by this factory.");if(!(W instanceof ia))throw new vb("Key response data " + JSON.stringify(W) + " was not created by this factory.");Da=oa.mechanism;Oa=oa.wrapdata;ta.getEntityAuthenticationData(null,{result:function(Sa){Ka(da,function(){var ka,va,za;ka=Sa.getIdentity();switch(Da){case Z.PSK:va=new tc(ka);za=ta.getEntityAuthenticationFactory(Nb.PSK);if(!za)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Da).setEntity(Sa);va=za.getCryptoContext(ta,va);va=new Ac(ta,Bc.A128KW,vc,Ab);break;case Z.MGK:va=new nc(ka);za=ta.getEntityAuthenticationFactory(Nb.MGK);if(!za)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Da).setEntity(Sa);va=za.getCryptoContext(ta,va);va=new Ac(ta,Bc.A128KW,vc,va.wrapKey);break;case Z.WRAP:va=this.repository.getCryptoContext(Oa);if(!va)throw new Pb(V.KEYX_WRAPPING_KEY_MISSING,Db(Oa)).setEntity(Sa);break;default:throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Da).setEntity(Sa);}va.unwrap(W.wrapKey,xc,Jc,{result:function(Ha){la(Sa,W,Oa,ka,Ha);},error:function(Ha){Ka(da,function(){Ha instanceof bb && Ha.setEntity(Sa);throw Ha;});}});},Ga);},error:da.error});},Ga);}});})();(function(){var Z,ba,ia,ea;function ha(U,Y,pa,na,ra){Ka(ra,function(){var Ca,ta;switch(Y){case Z.PSK:(Ca=new tc(na),ta=U.getEntityAuthenticationFactory(Nb.PSK));if(!ta)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Y);Ca=ta.getCryptoContext(U,Ca);return new ea(Ab);case Z.MGK:Ca=new nc(na);ta=U.getEntityAuthenticationFactory(Nb.MGK);if(!ta)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Y);Ca=ta.getCryptoContext(U,Ca);return new ea(Ab);case Z.WRAP:Ca=U.getMslCryptoContext();Ca.unwrap(pa,xc,Jc,{result:function(oa){Ka(ra,function(){return new ea(oa);});},error:ra.error});break;default:throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Y);}});}Z={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};ba=Fd=id.extend({init:function na(Y,pa){na.base.call(this,lc.JWK_LADDER);switch(Y){case Z.WRAP:if(!pa)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:pa=null;}Object.defineProperties(this,{mechanism:{value:Y,writable:!1,configurable:!1},wrapdata:{value:pa,writable:!1,configurable:!1}});},getKeydata:function(){var Y;Y={};Y.mechanism=this.mechanism;this.wrapdata && (Y.wrapdata=Db(this.wrapdata));return Y;},equals:function na(pa){return pa === this?!0:pa instanceof Fd?na.base.call(this,pa) && this.mechanism == pa.mechanism && Xb(this.wrapdata,pa.wrapdata):!1;},uniqueKey:function na(){var ra;ra=na.base.call(this) + ":" + this.mechanism;this.wrapdata && (ra+=":" + gc(this.wrapdata));return ra;}});ia=Te=jd.extend({init:function aa(ra,Ca,ta,oa,W){aa.base.call(this,ra,lc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:Ca,writable:!1,configurable:!1},wrapdata:{value:ta,writable:!1,configurable:!1},encryptionKey:{value:oa,writable:!1,configurable:!1},hmacKey:{value:W,writable:!1,configurable:!1}});},getKeydata:function(){var ra;ra={};ra.wrapkey=Db(this.wrapKey);ra.wrapdata=Db(this.wrapdata);ra.encryptionkey=Db(this.encryptionKey);ra.hmackey=Db(this.hmacKey);return ra;},equals:function ta(Ca){return this === Ca?!0:Ca instanceof Te?ta.base.call(this,Ca) && Xb(this.wrapKey,Ca.wrapKey) && Xb(this.wrapdata,Ca.wrapdata) && Xb(this.encryptionKey,Ca.encryptionKey) && Xb(this.hmacKey,Ca.hmacKey):!1;},uniqueKey:function ta(){return ta.base.call(this) + ":" + gc(this.wrapKey) + ":" + gc(this.wrapdata) + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});ea=ad.extend({init:function(ta){ta && ta.rawKey && (ta=ta.rawKey);Object.defineProperties(this,{_wrapKey:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(ta,oa){oa.error(new tb(V.ENCRYPT_NOT_SUPPORTED));},decrypt:function(ta,oa){oa.error(new tb(V.DECRYPT_NOT_SUPPORTED));},wrap:function(ta,oa){Ka(oa,function(){Jb.wrapKey("jwk",ta.rawKey,this._wrapKey,xc).then(function(W){oa.result(W);},function(W){oa.error(new tb(V.WRAP_ERROR));});},this);},unwrap:function(ta,oa,W,aa){function da(la){Ka(aa,function(){switch(la.type){case "secret":Yc(la,aa);break;case "public":Oc(la,aa);break;case "private":Zc(la,aa);break;default:throw new tb(V.UNSUPPORTED_KEY,"type: " + la.type);}});}Ka(aa,function(){Jb.unwrapKey("jwk",ta,this._wrapKey,xc,oa,!1,W).then(function(la){da(la);},function(la){aa.error(new tb(V.UNWRAP_ERROR));});},this);},sign:function(ta,oa){oa.error(new tb(V.SIGN_NOT_SUPPORTED));},verify:function(ta,oa,W){W.error(new tb(V.VERIFY_NOT_SUPPORTED));}});he=oc.extend({init:function W(oa){W.base.call(this,lc.JWK_LADDER);Object.defineProperties(this,{repository:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(oa,W,aa){Ka(aa,function(){var da,la,Ga;da=W.mechanism;la=W.wrapdata;if(!da || da == Z.WRAP && (!la || "string" !== typeof la))throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(W));if(!Z[da])throw new Pb(V.UNIDENTIFIED_KEYX_MECHANISM,da);switch(da){case Z.WRAP:try{Ga=Fb(la);}catch(Da){throw new Pb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + W.toString());}if(null == Ga || 0 == Ga.length)throw new Pb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + W.toString());break;default:Ga=null;}return new ba(da,Ga);});},createResponseData:function(oa,W,aa){var da,la,Ga,Da,Oa,Sa,ka;oa=aa.wrapkey;da=aa.wrapdata;la=aa.encryptionkey;Ga=aa.hmackey;if(!(oa && "string" === typeof oa && da && "string" === typeof da && la && "string" === typeof la && Ga) || "string" !== typeof Ga)throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Da=Fb(oa);Oa=Fb(da);}catch(va){throw new tb(V.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(aa),va);}try{Sa=Fb(la);}catch(va){throw new tb(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),va);}try{ka=Fb(Ga);}catch(va){throw new tb(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),va);}return new ia(W,Da,Oa,Sa,ka);},generateResponse:function(oa,W,aa,da){var Sa,ka;function la(va,za,Ha){Sa.generateSessionKeys(oa,{result:function(Ba){Ka(da,function(){Ga(va,za,Ha,Ba.encryptionKey,Ba.hmacKey);},Sa);},error:function(Ba){Ka(da,function(){Ba instanceof bb && Ba.setEntity(ka);throw Ba;});}});}function Ga(va,za,Ha,Ba,Na){Ka(da,function(){ha(oa,W.mechanism,W.wrapdata,va,{result:function(Ea){Ea.wrap(za,{result:function(Wa){Da(za,Ha,Ba,Na,Wa);},error:function(Wa){Ka(da,function(){Wa instanceof bb && Wa.setEntity(ka);throw Wa;});}});},error:function(Ea){Ka(da,function(){Ea instanceof bb && Ea.setEntity(ka);throw Ea;});}});},Sa);}function Da(va,za,Ha,Ba,Na){Ka(da,function(){var Ea;Ea=new ea(va);Ea.wrap(Ha,{result:function(Wa){Ea.wrap(Ba,{result:function(Za){Oa(za,Na,Ha,Wa,Ba,Za);},error:function(Za){Ka(da,function(){Za instanceof bb && Za.setEntity(ka);throw Za;});}});},error:function(Wa){Ka(da,function(){Wa instanceof bb && Wa.setEntity(ka);throw Wa;});}});},Sa);}function Oa(va,za,Ha,Ba,Na,Ea){Ka(da,function(){var Wa;Wa=oa.getTokenFactory();ka?Wa.renewMasterToken(oa,ka,Ha,Na,{result:function(Za){Ka(da,function(){var Xa,ib;Xa=new jc(oa,Za);ib=new ia(Za,za,va,Ba,Ea);return new oc.KeyExchangeData(ib,Xa,da);},Sa);},error:function(Za){Ka(da,function(){Za instanceof bb && Za.setEntity(ka);throw Za;});}}):Wa.createMasterToken(oa,aa,Ha,Na,{result:function(Za){Ka(da,function(){var Xa,ib;Xa=new jc(oa,Za);ib=new ia(Za,za,va,Ba,Ea);return new oc.KeyExchangeData(ib,Xa,da);},Sa);},error:da.error});},Sa);}Sa=this;Ka(da,function(){var va,za;if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");va=aa;if(aa instanceof ic){if(!aa.isVerified())throw new Rc(V.MASTERTOKEN_UNTRUSTED,aa);ka=aa;va=aa.identity;}za=new Uint8Array(16);oa.getRandom().nextBytes(za);yc(za,xc,Jc,{result:function(Ha){Ka(da,function(){oa.getMslCryptoContext().wrap(Ha,{result:function(Ba){la(va,Ha,Ba);},error:function(Ba){Ka(da,function(){Ba instanceof bb && Ba.setEntity(ka);throw Ba;},Sa);}});},Sa);},error:function(Ha){Ka(da,function(){throw new tb(V.WRAP_KEY_CREATION_FAILURE,null,Ha).setEntity(ka);},Sa);}});},Sa);},getCryptoContext:function(oa,W,aa,da,la){var Da;function Ga(Oa,Sa,ka,va,za){Ka(la,function(){var Ha;Ha=new ea(za);Ha.unwrap(Sa.encryptionKey,rc,Ic,{result:function(Ba){Ha.unwrap(Sa.hmacKey,sc,Sc,{result:function(Na){Ka(la,function(){this.repository.addCryptoContext(Sa.wrapdata,Ha);this.repository.removeCryptoContext(ka);return new jc(oa,Sa.masterToken,va,Ba,Na);},Da);},error:function(Na){Ka(la,function(){Na instanceof bb && Na.setEntity(Oa);throw Na;});}});},error:function(Ba){Ka(la,function(){Ba instanceof bb && Ba.setEntity(Oa);throw Ba;});}});},Da);}Da=this;Ka(la,function(){var Oa,Sa;if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");if(!(aa instanceof ia))throw new vb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Oa=W.mechanism;Sa=W.wrapdata;oa.getEntityAuthenticationData(null,{result:function(ka){Ka(la,function(){var va,za,Ha;va=ka.getIdentity();switch(Oa){case Z.PSK:za=new tc(va);Ha=oa.getEntityAuthenticationFactory(Nb.PSK);if(!Ha)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Oa).setEntity(ka);za=Ha.getCryptoContext(oa,za);za=new ea(za.wrapKey);break;case Z.MGK:za=new nc(va);Ha=oa.getEntityAuthenticationFactory(Nb.MGK);if(!Ha)throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Oa).setEntity(ka);za=Ha.getCryptoContext(oa,za);za=new ea(za.wrapKey);break;case Z.WRAP:za=this.repository.getCryptoContext(Sa);if(!za)throw new Pb(V.KEYX_WRAPPING_KEY_MISSING,Db(Sa)).setEntity(ka);break;default:throw new Pb(V.UNSUPPORTED_KEYX_MECHANISM,Oa).setEntity(ka);}za.unwrap(aa.wrapKey,xc,Jc,{result:function(Ba){Ga(ka,aa,Sa,va,Ba);},error:function(Ba){Ka(la,function(){Ba instanceof bb && Ba.setEntity(ka);throw Ba;});}});},Da);},error:la.error});},Da);}});})();Rf=Bb.Class.create({addCryptoContext:function(ha,Z){},getCryptoContext:function(ha){},removeCryptoContext:function(ha){}});(function(){var Z,ba,ia,ea;function ha(U,Y,pa,na,ra){switch(pa){case Z.JWE_RSA:case Z.JWEJS_RSA:return new Ac(U,Bc.RSA_OAEP,vc,na,ra);case Z.JWK_RSA:return new zd(U,Y,na,ra,Ad.WRAP_UNWRAP_OAEP);case Z.JWK_RSAES:return new zd(U,Y,na,ra,Ad.WRAP_UNWRAP_PKCS1);default:throw new tb(V.UNSUPPORTED_KEYX_MECHANISM,pa);}}Z=Gd={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};ba=Td=id.extend({init:function Ca(Y,pa,na,ra){Ca.base.call(this,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Y,writable:!1,configurable:!1},mechanism:{value:pa,writable:!1,configurable:!1},publicKey:{value:na,writable:!1,configurable:!1},privateKey:{value:ra,writable:!1,configurable:!1}});},getKeydata:function(){var Y;Y={};Y.keypairid=this.keyPairId;Y.mechanism=this.mechanism;Y.publickey=Db(this.publicKey.getEncoded());return Y;},equals:function na(pa){var ra;if(pa === this)return !0;if(!(pa instanceof Td))return !1;ra=this.privateKey === pa.privateKey || this.privateKey && pa.privateKey && Xb(this.privateKey.getEncoded(),pa.privateKey.getEncoded());return na.base.call(this,pa) && this.keyPairId == pa.keyPairId && this.mechanism == pa.mechanism && Xb(this.publicKey.getEncoded(),pa.publicKey.getEncoded()) && ra;},uniqueKey:function na(){var ra,Ca;ra=this.publicKey.getEncoded();Ca=this.privateKey && this.privateKey.getEncoded();ra=na.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + gc(ra);Ca && (ra+=":" + gc(Ca));return ra;}});ia=function(na,ra){Ka(ra,function(){var Ca,ta,oa,W;Ca=na.keypairid;ta=na.mechanism;oa=na.publickey;if(!Ca || "string" !== typeof Ca || !ta || !oa || "string" !== typeof oa)throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(na));if(!Z[ta])throw new Pb(V.UNIDENTIFIED_KEYX_MECHANISM,ta);try{W=Fb(oa);switch(ta){case Z.JWE_RSA:case Z.JWEJS_RSA:case Z.JWK_RSA:Yd(W,xd,Jc,{result:function(aa){ra.result(new ba(Ca,ta,aa,null));},error:function(aa){ra.error(aa);}});break;case Z.JWK_RSAES:Yd(W,Wd,Jc,{result:function(aa){ra.result(new ba(Ca,ta,aa,null));},error:function(aa){ra.error(aa);}});break;default:throw new tb(V.UNSUPPORTED_KEYX_MECHANISM,ta);}}catch(aa){if(!(aa instanceof bb))throw new tb(V.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(na),aa);throw aa;}});};ea=Ue=jd.extend({init:function W(ra,Ca,ta,oa){W.base.call(this,ra,lc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Ca,writable:!1,configurable:!1},encryptionKey:{value:ta,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var ra;ra={};ra.keypairid=this.keyPairId;ra.encryptionkey=Db(this.encryptionKey);ra.hmackey=Db(this.hmacKey);return ra;},equals:function ta(Ca){return this === Ca?!0:Ca instanceof Ue?ta.base.call(this,Ca) && this.keyPairId == Ca.keyPairId && Xb(this.encryptionKey,Ca.encryptionKey) && Xb(this.hmacKey,Ca.hmacKey):!1;},uniqueKey:function ta(){return ta.base.call(this) + ":" + this.keyPairId + ":" + gc(this.encryptionKey) + ":" + gc(this.hmacKey);}});Ae=oc.extend({init:function oa(){oa.base.call(this,lc.ASYMMETRIC_WRAPPED);},createRequestData:function(oa,W,aa){ia(W,aa);},createResponseData:function(oa,W,aa){var da,la,Ga,Da;oa=aa.keypairid;da=aa.encryptionkey;la=aa.hmackey;if(!oa || "string" !== typeof oa || !da || "string" !== typeof da || !la || "string" !== typeof la)throw new yb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Ga=Fb(da);}catch(Oa){throw new tb(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),Oa);}try{Da=Fb(la);}catch(Oa){throw new tb(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),Oa);}return new ea(W,oa,Ga,Da);},generateResponse:function(oa,W,aa,da){var Da;function la(Oa,Sa){Ka(da,function(){var ka;ka=ha(oa,W.keyPairId,W.mechanism,null,W.publicKey);ka.wrap(Oa,{result:function(va){Ka(da,function(){ka.wrap(Sa,{result:function(za){Ga(Oa,va,Sa,za);},error:function(za){Ka(da,function(){za instanceof bb && aa instanceof ic && za.setEntity(aa);throw za;},Da);}});},Da);},error:function(va){Ka(da,function(){va instanceof bb && aa instanceof ic && va.setEntity(aa);throw va;},Da);}});},Da);}function Ga(Oa,Sa,ka,va){Ka(da,function(){var za;za=oa.getTokenFactory();aa instanceof ic?za.renewMasterToken(oa,aa,Oa,ka,{result:function(Ha){Ka(da,function(){var Ba,Na;Ba=new jc(oa,Ha);Na=new ea(Ha,W.keyPairId,Sa,va);return new oc.KeyExchangeData(Na,Ba,da);},Da);},error:function(Ha){Ka(da,function(){Ha instanceof bb && Ha.setEntity(aa);throw Ha;},Da);}}):za.createMasterToken(oa,aa,Oa,ka,{result:function(Ha){Ka(da,function(){var Ba,Na;Ba=new jc(oa,Ha);Na=new ea(Ha,W.keyPairId,Sa,va);return new oc.KeyExchangeData(Na,Ba,da);},Da);},error:da.error});},Da);}Da=this;Ka(da,function(){if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");this.generateSessionKeys(oa,{result:function(Oa){la(Oa.encryptionKey,Oa.hmacKey);},error:function(Oa){Ka(da,function(){Oa instanceof bb && aa instanceof ic && Oa.setEntity(aa);throw Oa;},Da);}});},Da);},getCryptoContext:function(oa,W,aa,da,la){var Ga;Ga=this;Ka(la,function(){var Da,Oa,Sa;if(!(W instanceof ba))throw new vb("Key request data " + JSON.stringify(W) + " was not created by this factory.");if(!(aa instanceof ea))throw new vb("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Da=W.keyPairId;Oa=aa.keyPairId;if(Da != Oa)throw new Pb(V.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Da + "; response " + Oa).setEntity(da);Oa=W.privateKey;if(!Oa)throw new Pb(V.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(da);Sa=ha(oa,Da,W.mechanism,Oa,null);Sa.unwrap(aa.encryptionKey,rc,Ic,{result:function(ka){Sa.unwrap(aa.hmacKey,sc,Sc,{result:function(va){oa.getEntityAuthenticationData(null,{result:function(za){Ka(la,function(){var Ha;Ha=za.getIdentity();return new jc(oa,aa.masterToken,Ha,ka,va);},Ga);},error:function(za){Ka(la,function(){za instanceof bb && za.setEntity(da);throw za;},Ga);}});},error:function(va){Ka(la,function(){va instanceof bb && va.setEntity(da);throw va;},Ga);}});},error:function(ka){Ka(la,function(){ka instanceof bb && ka.setEntity(da);throw ka;},Ga);}});},Ga);}});})();Qf=Bb.Class.create({init:function(ha){var Z,ba,ia,ea,U,Y,pa,na;Z=Yb.parser();ba=[];ia=[];pa=0;na=!1;Z.onerror=function(ra){na || (na=!0,Z.end());};Z.onopenobject=function(ra){var Ca;if(ea)(ea[Y]={},ia.push(ea),ea=ea[Y]);else if(U){Ca={};ia.push(U);U.push(Ca);ea=Ca;U=Ab;}else ea={};Y=ra;};Z.oncloseobject=function(){var ra;ra=ia.pop();ra?"object" === typeof ra?ea=ra:(ea=Ab,U=ra):(ba.push(ea),pa=Z.index,ea=Ab);};Z.onopenarray=function(){var ra;if(ea)(ea[Y]=[],ia.push(ea),U=ea[Y],ea=Ab);else if(U){ra=[];ia.push(U);U.push(ra);U=ra;}else U=[];};Z.onclosearray=function(){var ra;ra=ia.pop();ra?"object" === typeof ra?(ea=ra,U=Ab):U=ra:(ba.push(U),pa=Z.index,U=Ab);};Z.onkey=function(ra){Y=ra;};Z.onvalue=function(ra){ea?ea[Y]=ra:U?U.push(ra):(ba.push(ra),pa=Z.index);};Z.write(ha).close();Object.defineProperties(this,{_values:{value:ba,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:pa,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Ab:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ha,Z,ba,ia,ea;ha=ie="entityauthdata";Z=We="mastertoken";ba=Xe="headerdata";ia=Ye="errordata";ea=je="signature";Ve=function(U,Y,pa,na){Ka(na,function(){var ra,Ca,ta,oa,W,aa;ra=Y[ha];Ca=Y[Z];ta=Y[ea];if(ra && "object" !== typeof ra || Ca && "object" !== typeof Ca || "string" !== typeof ta)throw new yb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));try{oa=Fb(ta);}catch(da){throw new Ib(V.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(Y),da);}W=null;ra && (W=Je(U,ra));aa=Y[ba];if(aa != Ab && null != aa){if("string" !== typeof aa)throw new yb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));Ca?Tc(U,Ca,{result:function(da){ke(U,aa,W,da,oa,pa,na);},error:function(da){na.error(da);}}):ke(U,aa,W,null,oa,pa,na);}else if((ra=Y[ia],ra != Ab && null != ra)){if("string" !== typeof ra)throw new yb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));Ze(U,ra,W,oa,na);}else throw new yb(V.JSON_PARSE_ERROR,JSON.stringify(Y));});};})();(function(){function ha(Z,ba){this.errordata=Z;this.signature=ba;}Nc=Bb.Class.create({init:function(Z,ba,ia,ea,U,Y,pa,na,ra,Ca){var ta;ta=this;Ka(Ca,function(){var oa,W;0 > Y && (Y=-1);if(0 > ea || ea > Mb)throw new vb("Message ID " + ea + " is out of range.");if(!ba)throw new Ib(V.MESSAGE_ENTITY_NOT_FOUND);if(ra)return (Object.defineProperties(this,{entityAuthenticationData:{value:ba,writable:!1,configurable:!1},recipient:{value:ia,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:U,writable:!1,configurable:!1},internalCode:{value:Y,writable:!1,configurable:!1},errorMessage:{value:pa,writable:!1,configurable:!1},userMessage:{value:na,writable:!1,configurable:!1},errordata:{value:ra.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ra.signature,writable:!1,enumerable:!1,configurable:!1}}),this);oa={};ia && (oa.recipient=ia);oa.messageid=ea;oa.errorcode=U;0 < Y && (oa.internalcode=Y);pa && (oa.errormsg=pa);na && (oa.usermsg=na);try{W=Z.getEntityAuthenticationFactory(ba.scheme).getCryptoContext(Z,ba);}catch(aa){throw (aa instanceof bb && (aa.setEntity(ba),aa.setMessageId(ea)),aa);}oa=Sb(JSON.stringify(oa),Lb);W.encrypt(oa,{result:function(aa){Ka(Ca,function(){W.sign(aa,{result:function(da){Ka(Ca,function(){Object.defineProperties(this,{entityAuthenticationData:{value:ba,writable:!1,configurable:!1},recipient:{value:ia,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:U,writable:!1,configurable:!1},internalCode:{value:Y,writable:!1,configurable:!1},errorMessage:{value:pa,writable:!1,configurable:!1},userMessage:{value:na,writable:!1,configurable:!1},errordata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:da,writable:!1,enumerable:!1,configurable:!1}});return this;},ta);},error:function(da){Ka(Ca,function(){da instanceof bb && (da.setEntity(ba),da.setMessageId(ea));throw da;},ta);}});},ta);},error:function(aa){Ka(Ca,function(){aa instanceof bb && (aa.setEntity(ba),aa.setMessageId(ea));throw aa;},ta);}});},ta);},toJSON:function(){var Z;Z={};Z[ie]=this.entityAuthenticationData;Z[Ye]=Db(this.errordata);Z[je]=Db(this.signature);return Z;}});$e=function(Z,ba,ia,ea,U,Y,pa,na,ra){new Nc(Z,ba,ia,ea,U,Y,pa,na,null,ra);};Ze=function(Z,ba,ia,ea,U){Ka(U,function(){var Y,pa,na;if(!ia)throw new Ib(V.MESSAGE_ENTITY_NOT_FOUND);try{Y=ia.scheme;pa=Z.getEntityAuthenticationFactory(Y);if(!pa)throw new wc(V.ENTITYAUTH_FACTORY_NOT_FOUND,Y);na=pa.getCryptoContext(Z,ia);}catch(ra){throw (ra instanceof bb && ra.setEntity(ia),ra);}try{ba=Fb(ba);}catch(ra){throw new Ib(V.HEADER_DATA_INVALID,ba,ra).setEntity(ia);}if(!ba || 0 == ba.length)throw new Ib(V.HEADER_DATA_MISSING,ba).setEntity(ia);na.verify(ba,ea,{result:function(ra){Ka(U,function(){if(!ra)throw new tb(V.MESSAGE_VERIFICATION_FAILED).setEntity(ia);na.decrypt(ba,{result:function(Ca){Ka(U,function(){var ta,oa,W,aa,da,la,Ga,Da;ta=Tb(Ca,Lb);try{oa=JSON.parse(ta);}catch(Sa){if(Sa instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"errordata " + ta,Sa).setEntity(ia);throw Sa;}W=oa.recipient !== Ab?oa.recipient:null;aa=parseInt(oa.messageid);da=parseInt(oa.errorcode);la=parseInt(oa.internalcode);Ga=oa.errormsg;Da=oa.usermsg;if(W && "string" !== typeof W || !aa || aa != aa || !da || da != da || oa.internalcode && la != la || Ga && "string" !== typeof Ga || Da && "string" !== typeof Da)throw new yb(V.JSON_PARSE_ERROR,"errordata " + ta).setEntity(ia);if(0 > aa || aa > Mb)throw new Ib(V.MESSAGE_ID_OUT_OF_RANGE,"errordata " + ta).setEntity(ia);oa=!1;for(var Oa in Ja){if(Ja[Oa] == da){oa=!0;break;}}oa || (da=Ja.FAIL);if(la){if(0 > la)throw new Ib(V.INTERNAL_CODE_NEGATIVE,"errordata " + ta).setEntity(ia).setMessageId(aa);}else la=-1;ta=new ha(ba,ea);new Nc(Z,ia,W,aa,da,la,Ga,Da,ta,U);});},error:function(Ca){Ka(U,function(){Ca instanceof bb && Ca.setEntity(ia);throw Ca;});}});});},error:function(ra){Ka(U,function(){ra instanceof bb && ra.setEntity(ia);throw ra;});}});});};})();Sf=Bb.Class.create({getUserMessage:function(ha,Z){}});(function(){le=function(ha,Z){var ba;if(!ha || !Z)return null;ba=ha.compressionAlgorithms.filter(function(ia){for(var ea=0;ea < Z.compressionAlgorithms.length;++ea){if(ia == Z.compressionAlgorithms[ea])return !0;}return !1;});ha=ha.languages.filter(function(ia){for(var ea=0;ea < Z.languages.length;++ea){if(ia == Z.languages[ea])return !0;}return !1;});return new kd(ba,ha);};kd=Bb.Class.create({init:function(ha,Z){ha || (ha=[]);Z || (Z=[]);ha.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ha,writable:!1,enumerable:!0,configurable:!1},languages:{value:Z,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ha;ha={};ha.compressionalgos=this.compressionAlgorithms;ha.languages=this.languages;return ha;},equals:function(ha){return this === ha?!0:ha instanceof kd?te(this.compressionAlgorithms,ha.compressionAlgorithms) && te(this.languages,ha.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});af=function(ha){var Z,ba,ea;Z=ha.compressionalgos;ba=ha.languages;if(Z && !(Z instanceof Array) || ba && !(ba instanceof Array))throw new yb(V.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ha));ha=[];for(var ia=0;Z && ia < Z.length;++ia){ea=Z[ia];Pc[ea] && ha.push(ea);}return new kd(ha,ba);};})();(function(){var Ca,ta;function ha(oa,W,aa,da,la){this.customer=oa;this.sender=W;this.messageCryptoContext=aa;this.headerdata=da;this.signature=la;}function Z(oa,W,aa,da,la,Ga,Da,Oa,Sa,ka,va,za,Ha,Ba,Na,Ea,Wa,Za,Xa,ib){return {cryptoContext:{value:W,writable:!1,configurable:!1},customer:{value:aa,writable:!1,configurable:!1},entityAuthenticationData:{value:da,writable:!1,configurable:!1},masterToken:{value:la,writable:!1,configurable:!1},sender:{value:Ga,writable:!1,configurable:!1},messageId:{value:Da,writable:!1,configurable:!1},nonReplayableId:{value:Ea,writable:!1,configurable:!1},keyRequestData:{value:Oa,writable:!1,configurable:!1},keyResponseData:{value:Sa,writable:!1,configurable:!1},userAuthenticationData:{value:ka,writable:!1,configurable:!1},userIdToken:{value:va,writable:!1,configurable:!1},serviceTokens:{value:za,writable:!1,configurable:!1},peerMasterToken:{value:Ha,writable:!1,configurable:!1},peerUserIdToken:{value:Ba,writable:!1,configurable:!1},peerServiceTokens:{value:Na,writable:!1,configurable:!1},messageCapabilities:{value:Za,writable:!1,configurable:!1},renewable:{value:Wa,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Xa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ib,writable:!1,enumerable:!1,configurable:!1}};}function ba(oa,W,aa){var da;if(aa){if(W=oa.getMslStore().getCryptoContext(aa))return W;if(!aa.isVerified() || !aa.isDecrypted())throw new Rc(V.MASTERTOKEN_UNTRUSTED,aa);return new jc(oa,aa);}aa=W.scheme;da=oa.getEntityAuthenticationFactory(aa);if(!da)throw new wc(V.ENTITYAUTH_FACTORY_NOT_FOUND,aa);return da.getCryptoContext(oa,W);}function ia(oa,W,aa,da,la){Ka(la,function(){W.verify(aa,da,{result:function(Ga){Ka(la,function(){if(!Ga)throw new tb(V.MESSAGE_VERIFICATION_FAILED);W.decrypt(aa,{result:function(Da){Ka(la,function(){return Tb(Da,Lb);});},error:function(Da){la.error(Da);}});});},error:function(Ga){la.error(Ga);}});});}function ea(oa,W,aa){Ka(aa,function(){if(W)Qe(oa,W,aa);else return null;});}function U(oa,W,aa,da){Ka(da,function(){if(W)Uc(oa,W,aa,da);else return null;});}function Y(oa,W,aa,da){Ka(da,function(){if(aa)ef(oa,W,aa,da);else return null;});}function pa(oa,W,aa,da,la,Ga,Da){var Sa;function Oa(ka,va,za){var Ha,Ba;if(va >= ka.length){Ha=[];for(Ba in Sa){Ha.push(Sa[Ba]);}za.result(Ha);}else {Ha=ka[va];if("object" !== typeof Ha)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + Ga);Hd(oa,Ha,aa,da,la,{result:function(Na){Ka(za,function(){Sa[Na.uniqueKey()]=Na;Oa(ka,va + 1,za);});},error:function(Na){za.error(Na);}});}}Sa={};Ka(Da,function(){if(W){if(!(W instanceof Array))throw new yb(V.JSON_PARSE_ERROR,"headerdata " + Ga);Oa(W,0,Da);}else return [];});}function na(oa,W,aa,da,la,Ga){function Da(Sa,ka,va){Ka(va,function(){var za;za=ka.peermastertoken;if(za && "object" !== typeof za)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + la);if(!za)return null;Tc(Sa,za,va);});}function Oa(Sa,ka,va,za){Ka(za,function(){var Ha;Ha=ka.peeruseridtoken;if(Ha && "object" !== typeof Ha)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + la);if(!Ha)return null;Uc(Sa,Ha,va,za);});}Ka(Ga,function(){if(!oa.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Da(oa,W,{result:function(Sa){Ka(Ga,function(){var ka;ka=aa?aa.masterToken:Sa;Oa(oa,W,ka,{result:function(va){Ka(Ga,function(){pa(oa,W.peerservicetokens,ka,va,da,la,{result:function(za){Ka(Ga,function(){return {peerMasterToken:Sa,peerUserIdToken:va,peerServiceTokens:za};});},error:function(za){Ka(Ga,function(){za instanceof bb && (za.setEntity(ka),za.setUser(va));throw za;});}});});},error:function(va){Ka(Ga,function(){va instanceof bb && va.setEntity(ka);throw va;});}});});},error:Ga.error});});}function ra(oa,W,aa,da){var Ga;function la(Da,Oa){Ka(da,function(){if(Oa >= Da.length)return Ga;Pe(oa,Da[Oa],{result:function(Sa){Ka(da,function(){Ga.push(Sa);la(Da,Oa + 1);});},error:function(Sa){da.error(Sa);}});});}Ga=[];Ka(da,function(){var Da;Da=W.keyrequestdata;if(!Da)return Ga;if(!(Da instanceof Array))throw new yb(V.JSON_PARSE_ERROR,"headerdata " + aa);la(Da,0);});}Ca=cf=Bb.Class.create({init:function(oa,W,aa,da,la,Ga,Da,Oa,Sa){Object.defineProperties(this,{messageId:{value:oa,writable:!1,configurable:!1},nonReplayableId:{value:W,writable:!1,configurable:!1},renewable:{value:aa,writable:!1,configurable:!1},capabilities:{value:da,writable:!1,configurable:!1},keyRequestData:{value:la,writable:!1,configurable:!1},keyResponseData:{value:Ga,writable:!1,configurable:!1},userAuthData:{value:Da,writable:!1,configurable:!1},userIdToken:{value:Oa,writable:!1,configurable:!1},serviceTokens:{value:Sa,writable:!1,configurable:!1}});}});ta=df=Bb.Class.create({init:function(oa,W,aa){Object.defineProperties(this,{peerMasterToken:{value:oa,writable:!1,configurable:!1},peerUserIdToken:{value:W,writable:!1,configurable:!1},peerServiceTokens:{value:aa,writable:!1,configurable:!1}});}});ld=Bb.Class.create({init:function(oa,W,aa,da,la,Ga,Da){var Sa;function Oa(ka){Ka(Da,function(){var va,za,Ha,Ba,Na,Ea,Wa,Za,Xa,ib,mb,ob,rb,sb,zb,xb,r;W=aa?null:W;va=da.nonReplayableId;za=da.renewable;Ha=da.capabilities;Ba=da.messageId;Na=da.keyRequestData?da.keyRequestData:[];Ea=da.keyResponseData;Wa=da.userAuthData;Za=da.userIdToken;Xa=da.serviceTokens?da.serviceTokens:[];if(oa.isPeerToPeer()){ib=la.peerMasterToken;mb=la.peerUserIdToken;ob=la.peerServiceTokens?la.peerServiceTokens:[];}else (mb=ib=null,ob=[]);if(0 > Ba || Ba > Mb)throw new vb("Message ID " + Ba + " is out of range.");if(!W && !aa)throw new vb("Message entity authentication data or master token must be provided.");if(Ea){if(oa.isPeerToPeer()){rb=aa;sb=Ea.masterToken;}else (rb=Ea.masterToken,sb=ib);}else (rb=aa,sb=ib);if(Za && (!rb || !Za.isBoundTo(rb)))throw new vb("User ID token must be bound to a master token.");if(mb && (!sb || !mb.isBoundTo(sb)))throw new vb("Peer user ID token must be bound to a peer master token.");Xa.forEach(function(b){if(b.isMasterTokenBound() && (!rb || !b.isBoundTo(rb)))throw new vb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!Za || !b.isBoundTo(Za)))throw new vb("User ID token bound service tokens must be bound to the provided user ID token.");},this);ob.forEach(function(b){if(b.isMasterTokenBound() && (!sb || !b.isBoundTo(sb)))throw new vb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!mb || !b.isBoundTo(mb)))throw new vb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ga){r=Ga.customer;zb=Ga.messageCryptoContext;xb=Z(oa,zb,r,W,aa,ka,Ba,Na,Ea,Wa,Za,Xa,ib,mb,ob,va,za,Ha,Ga.headerdata,Ga.signature);Object.defineProperties(this,xb);return this;}r=Za?Za.customer:null;xb={};ka && (xb.sender=ka);xb.messageid=Ba;"number" === typeof va && (xb.nonreplayableid=va);xb.renewable=za;Ha && (xb.capabilities=Ha);0 < Na.length && (xb.keyrequestdata=Na);Ea && (xb.keyresponsedata=Ea);Wa && (xb.userauthdata=Wa);Za && (xb.useridtoken=Za);0 < Xa.length && (xb.servicetokens=Xa);ib && (xb.peermastertoken=ib);mb && (xb.peeruseridtoken=mb);0 < ob.length && (xb.peerservicetokens=ob);try{zb=ba(oa,W,aa);}catch(b){throw (b instanceof bb && (b.setEntity(aa),b.setEntity(W),b.setUser(Za),b.setUser(Wa),b.setMessageId(Ba)),b);}xb=Sb(JSON.stringify(xb),Lb);zb.encrypt(xb,{result:function(b){Ka(Da,function(){zb.sign(b,{result:function(a){Ka(Da,function(){var c;c=Z(oa,zb,r,W,aa,ka,Ba,Na,Ea,Wa,Za,Xa,ib,mb,ob,va,za,Ha,b,a);Object.defineProperties(this,c);return this;},Sa);},error:function(a){Ka(Da,function(){a instanceof bb && (a.setEntity(aa),a.setEntity(W),a.setUser(Za),a.setUser(Wa),a.setMessageId(Ba));throw a;},Sa);}});},Sa);},error:function(b){Ka(Da,function(){b instanceof bb && (b.setEntity(aa),b.setEntity(W),b.setUser(Za),b.setUser(Wa),b.setMessageId(Ba));throw b;},Sa);}});},Sa);}Sa=this;Ka(Da,function(){Ga?Oa(Ga.sender):aa?oa.getEntityAuthenticationData(null,{result:function(ka){ka=ka.getIdentity();Oa(ka);},error:Da.error}):Oa(null);},Sa);},isEncrypting:function(){return this.masterToken || Qd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var oa;oa={};this.masterToken?oa[We]=this.masterToken:oa[ie]=this.entityAuthenticationData;oa[Xe]=Db(this.headerdata);oa[je]=Db(this.signature);return oa;}});bf=function(oa,W,aa,da,la,Ga){new ld(oa,W,aa,da,la,null,Ga);};ke=function(oa,W,aa,da,la,Ga,Da){Ka(Da,function(){var Oa,Sa;aa=da?null:aa;if(!aa && !da)throw new Ib(V.MESSAGE_ENTITY_NOT_FOUND);Oa=W;try{W=Fb(Oa);}catch(ka){throw new Ib(V.HEADER_DATA_INVALID,Oa,ka);}if(!W || 0 == W.length)throw new Ib(V.HEADER_DATA_MISSING,Oa);try{Sa=ba(oa,aa,da);}catch(ka){throw (ka instanceof bb && (ka.setEntity(da),ka.setEntity(aa)),ka);}ia(oa,Sa,W,la,{result:function(ka){Ka(Da,function(){var va,za,Ha,Ba,Na;try{va=JSON.parse(ka);}catch(Ea){if(Ea instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ka,Ea).setEntity(da).setEntity(aa);throw Ea;}za=parseInt(va.messageid);if(!za || za != za)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ka).setEntity(da).setEntity(aa);if(0 > za || za > Mb)throw new Ib(V.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + ka).setEntity(da).setEntity(aa);Ha=da?va.sender:null;if(da && (!Ha || "string" !== typeof Ha))throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ka).setEntity(da).setEntity(aa).setMessageId(za);Ba=va.keyresponsedata;if(Ba && "object" !== typeof Ba)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ka).setEntity(da).setEntity(aa).setMessageId(za);Na=Da;Da={result:function(Ea){Na.result(Ea);},error:function(Ea){Ea instanceof bb && (Ea.setEntity(da),Ea.setEntity(aa),Ea.setMessageId(za));Na.error(Ea);}};ea(oa,Ba,{result:function(Ea){Ka(Da,function(){var Wa,Za;Wa=!oa.isPeerToPeer() && Ea?Ea.masterToken:da;Za=va.useridtoken;if(Za && "object" !== typeof Za)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ka);U(oa,Za,Wa,{result:function(Xa){Ka(Da,function(){var ib;ib=va.userauthdata;if(ib && "object" !== typeof ib)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ka);Y(oa,Wa,ib,{result:function(mb){Ka(Da,function(){var ob,rb,sb;if(mb){ob=mb.scheme;rb=oa.getUserAuthenticationFactory(ob);if(!rb)throw new Gb(V.USERAUTH_FACTORY_NOT_FOUND,ob).setUser(Xa).setUser(mb);ob=da?da.identity:aa.getIdentity();sb=rb.authenticate(oa,ob,mb,Xa);}else sb=Xa?Xa.customer:null;pa(oa,va.servicetokens,Wa,Xa,Ga,ka,{result:function(zb){Ka(Da,function(){var xb,r,b,a;xb=va.nonreplayableid !== Ab?parseInt(va.nonreplayableid):null;r=va.renewable;if(xb != xb || "boolean" !== typeof r)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ka);if(0 > xb || xb > Mb)throw new Ib(V.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + ka);b=null;a=va.capabilities;if(a){if("object" !== typeof a)throw new yb(V.JSON_PARSE_ERROR,"headerdata " + ka);b=af(a);}ra(oa,va,ka,{result:function(c){na(oa,va,Ea,Ga,ka,{result:function(f){Ka(Da,function(){var k,l,d,g;k=f.peerMasterToken;l=f.peerUserIdToken;d=f.peerServiceTokens;g=new Ca(za,xb,r,b,c,Ea,mb,Xa,zb);k=new ta(k,l,d);l=new ha(sb,Ha,Sa,W,la);new ld(oa,aa,da,g,k,l,Da);});},error:Da.error});},error:function(c){Ka(Da,function(){c instanceof bb && (c.setUser(Xa),c.setUser(mb));throw c;});}});});},error:function(zb){Ka(Da,function(){zb instanceof bb && (zb.setEntity(Wa),zb.setUser(Xa),zb.setUser(mb));throw zb;});}});});},error:Da.error});});},error:Da.error});});},error:Da.error});});},error:Da.error});});};})();(function(){function ha(Z,ba){this.payload=Z;this.signature=ba;}me=Bb.Class.create({init:function(Z,ba,ia,ea,U,Y,pa,na){var ra;ra=this;Ka(na,function(){var Ca,ta;if(0 > Z || Z > Mb)throw new vb("Sequence number " + Z + " is outside the valid range.");if(0 > ba || ba > Mb)throw new vb("Message ID " + ba + " is outside the valid range.");if(pa)return (Object.defineProperties(this,{sequenceNumber:{value:Z,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:U,writable:!1,configurable:!1},endofmsg:{value:ia,writable:!1,enumerable:!1,configurable:!1},payload:{value:pa.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:pa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ea){Ca=ne(ea,U);Ca || (ea=null,Ca=U);}else (ea=null,Ca=U);ta={};ta.sequencenumber=Z;ta.messageid=ba;ia && (ta.endofmsg=ia);ea && (ta.compressionalgo=ea);ta.data=Db(Ca);Ca=Sb(JSON.stringify(ta),Lb);Y.encrypt(Ca,{result:function(oa){Ka(na,function(){Y.sign(oa,{result:function(W){Ka(na,function(){Object.defineProperties(this,{sequenceNumber:{value:Z,writable:!1,configurable:!1},messageId:{value:ba,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:U,writable:!1,configurable:!1},endofmsg:{value:ia,writable:!1,enumerable:!1,configurable:!1},payload:{value:oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:W,writable:!1,enumerable:!1,configurable:!1}});return this;},ra);},error:function(W){na.error(W);}});},ra);},error:function(oa){na.error(oa);}});},ra);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var Z;Z={};Z.payload=Db(this.payload);Z.signature=Db(this.signature);return Z;}});ff=function(Z,ba,ia,ea,U,Y,pa){new me(Z,ba,ia,ea,U,Y,null,pa);};gf=function(Z,ba,ia){Ka(ia,function(){var ea,U,Y,pa;ea=Z.payload;U=Z.signature;if(!ea || "string" !== typeof ea || "string" !== typeof U)throw new yb(V.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(Z));try{Y=Fb(ea);}catch(na){throw new Ib(V.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(Z),na);}try{pa=Fb(U);}catch(na){throw new Ib(V.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(Z),na);}ba.verify(Y,pa,{result:function(na){Ka(ia,function(){if(!na)throw new tb(V.PAYLOAD_VERIFICATION_FAILED);ba.decrypt(Y,{result:function(ra){Ka(ia,function(){var Ca,ta,oa,W,aa,da,la;Ca=Tb(ra,Lb);try{ta=JSON.parse(Ca);}catch(Ga){if(Ga instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"payload chunk payload " + Ca,Ga);throw Ga;}oa=parseInt(ta.sequencenumber);W=parseInt(ta.messageid);aa=ta.endofmsg;da=ta.compressionalgo;ta=ta.data;if(!oa || oa != oa || !W || W != W || aa && "boolean" !== typeof aa || da && "string" !== typeof da || "string" !== typeof ta)throw new yb(V.JSON_PARSE_ERROR,"payload chunk payload " + Ca);if(0 > oa || oa > Mb)throw new bb(V.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + Ca);if(0 > W || W > Mb)throw new bb(V.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + Ca);aa || (aa=!1);if(da && !Pc[da])throw new Ib(V.UNIDENTIFIED_COMPRESSION,da);try{la=Fb(ta);}catch(Ga){throw new Ib(V.PAYLOAD_DATA_CORRUPT,ta,Ga);}if(la && 0 != la.length)Ca=da?Id(da,la):la;else {if(0 < ta.length)throw new Ib(V.PAYLOAD_DATA_CORRUPT,ta);if(aa)Ca=new Uint8Array(0);else throw new Ib(V.PAYLOAD_DATA_MISSING,ta);}la=new ha(Y,pa);new me(oa,W,aa,da,Ca,ba,la,ia);});},error:function(ra){ia.error(ra);}});});},error:function(na){ia.error(na);}});});};})();(function(){var ia,ea;function ha(U,Y,pa,na,ra){var ta,oa,W,aa,da;function Ca(){Ka(ra,function(){var la,Ga;oa >= Y.length && (oa=0,++ta);if(ta >= W.length){if(aa)throw aa;throw new Pb(V.KEYX_FACTORY_NOT_FOUND,JSON.stringify(Y));}la=W[ta];Ga=Y[oa];la.scheme != Ga.keyExchangeScheme?(++oa,Ca()):la.generateResponse(U,Ga,da,{result:function(Da){ra.result(Da);},error:function(Da){Ka(ra,function(){if(!(Da instanceof bb))throw Da;aa=Da;++oa;Ca();});}});});}ta=0;oa=0;W=U.getKeyExchangeFactories();da=pa?pa:na;Ca();}function Z(U,Y,pa,na,ra){Ka(ra,function(){var Ca;Ca=Y.keyRequestData;if(Y.isRenewable() && 0 < Ca.length)na?na.isRenewable() || na.isExpired()?ha(U,Ca,na,null,ra):U.getTokenFactory().isNewestMasterToken(U,na,{result:function(ta){Ka(ra,function(){if(ta)return null;ha(U,Ca,na,null,ra);});},error:ra.error}):ha(U,Ca,null,pa.getIdentity(),ra);else return null;});}function ba(U,Y,pa,na){Ka(na,function(){var ra,Ca,ta,oa;ra=Y.userIdToken;Ca=Y.userAuthenticationData;ta=Y.messageId;if(ra && ra.isVerified()){if(ra.isRenewable() && Y.isRenewable() || ra.isExpired() || !ra.isBoundTo(pa)){Ca=U.getTokenFactory();Ca.renewUserIdToken(U,ra,pa,na);return;}}else if(Y.isRenewable() && pa && Ca){ra=Y.customer;if(!ra){ra=Ca.scheme;oa=U.getUserAuthenticationFactory(ra);if(!oa)throw new Gb(V.USERAUTH_FACTORY_NOT_FOUND,ra).setEntity(pa).setUser(Ca).setMessageId(ta);ra=oa.authenticate(U,pa.identity,Ca,null);}Ca=U.getTokenFactory();Ca.createUserIdToken(U,ra,pa,na);return;}return ra;});}ia=new Uint8Array(0);ea=Vc=function(U){if(0 > U || U > Mb)throw new vb("Message ID " + U + " is outside the valid range.");return U == Mb?0:U + 1;};cd=function(U){if(0 > U || U > Mb)throw new vb("Message ID " + U + " is outside the valid range.");return 0 == U?Mb:U - 1;};Wc=function(U,Y,pa,na,ra){Ka(ra,function(){var Ca;if(na == Ab || null == na){Ca=U.getRandom();do {na=Ca.nextLong();}while(0 > na || na > Mb);}else if(0 > na || na > Mb)throw new vb("Message ID " + na + " is outside the valid range.");U.getEntityAuthenticationData(null,{result:function(ta){Ka(ra,function(){var oa;oa=U.getMessageCapabilities();return new Jd(U,na,oa,ta,Y,pa,null,null,null,null,null);});},error:function(ta){ra.error(ta);}});});};hf=function(U,Y,pa){Ka(pa,function(){var ra,Ca,ta,oa,W,aa;function na(da){Ka(pa,function(){da instanceof bb && (da.setEntity(ra),da.setEntity(Ca),da.setUser(ta),da.setUser(oa),da.setMessageId(W));throw da;});}ra=Y.masterToken;Ca=Y.entityAuthenticationData;ta=Y.userIdToken;oa=Y.userAuthenticationData;W=Y.messageId;aa=ea(W);Z(U,Y,Ca,ra,{result:function(da){Ka(pa,function(){var la;la=da?da.keyResponseData.masterToken:la=ra;U.getEntityAuthenticationData(null,{result:function(Ga){Ka(pa,function(){ba(U,Y,la,{result:function(Da){Ka(pa,function(){var Oa,Sa,ka;ta=Da;Oa=le(Y.messageCapabilities,U.getMessageCapabilities());Sa=Y.keyResponseData;ka=Y.serviceTokens;return U.isPeerToPeer()?new Jd(U,aa,Oa,Ga,Sa?Sa.masterToken:Y.peerMasterToken,Y.peerUserIdToken,Y.peerServiceTokens,ra,ta,ka,da):new Jd(U,aa,Oa,Ga,Sa?Sa.masterToken:ra,ta,ka,null,null,null,da);});},error:na});});},error:na});});},error:na});});};jf=function(U,Y,pa,na,ra){Ka(ra,function(){U.getEntityAuthenticationData(null,{result:function(Ca){Ka(ra,function(){var ta,oa;if(Y != Ab && null != Y)ta=ea(Y);else {oa=U.getRandom();do {ta=oa.nextInt();}while(0 > ta || ta > Mb);}$e(U,Ca,ta,pa.responseCode,pa.internalCode,pa.message,na,ra);});},error:function(Ca){ra.error(Ca);}});});};Jd=Bb.Class.create({init:function(U,Y,pa,na,ra,Ca,ta,oa,W,aa,da){var la,Ga,Da,Oa,Sa;if(!U.isPeerToPeer() && (oa || W))throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");la=da && !U.isPeerToPeer()?da.keyResponseData.masterToken:ra;Ga=[];la=U.getMslStore().getServiceTokens(la,Ca);Ga.push.apply(Ga,la);ta && ta.forEach(function(ka){Ga.push(ka);},this);Da=[];if(U.isPeerToPeer()){Oa=oa;Sa=W;ta=da?da.keyResponseData.masterToken:oa;W=U.getMslStore().getServiceTokens(ta,W);Da.push.apply(Da,W);aa && aa.forEach(function(ka){Da.push(ka);},this);}Object.defineProperties(this,{_ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:na,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:ra,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:Y,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:pa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:da,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:Ca,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Oa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Sa,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Da,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Qd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Qd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || ue(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || ue(this._entityAuthData.scheme);},getHeader:function(U){Ka(U,function(){var Y,pa,na;Y=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;pa=[];for(na in this._keyRequestData){pa.push(this._keyRequestData[na]);}if(this._nonReplayable){if(!this._masterToken)throw new Ib(V.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);na=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else na=null;Y=new cf(this._messageId,na,this._renewable,this._capabilities,pa,Y,this._userAuthData,this._userIdToken,this._serviceTokens);pa=new df(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);bf(this._ctx,this._entityAuthData,this._masterToken,Y,pa,U);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(U){this._nonReplayable=U;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(U){this._renewable=U;return this;},setAuthTokens:function(U,Y){var pa,ra;if(Y && !Y.isBoundTo(U))throw new vb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new vb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{pa=this._ctx.getMslStore().getServiceTokens(U,Y);}catch(Ca){if(Ca instanceof bb)throw new vb("Invalid master token and user ID token combination despite checking above.",Ca);throw Ca;}for(var na=this._serviceTokens.length - 1;0 <= na;--na){ra=this._serviceTokens[na];(ra.isUserIdTokenBound() && !ra.isBoundTo(Y) || ra.isMasterTokenBound() && !ra.isBoundTo(U)) && this._serviceTokens.splice(na,1);}pa.forEach(function(Ca){this.excludeServiceToken(Ca.name,Ca.isMasterTokenBound(),Ca.isUserIdTokenBound());this._serviceTokens.push(Ca);},this);this._masterToken=U;this._userIdToken=Y;},setUserAuthenticationData:function(U){this._userAuthData=U;return this;},setCustomer:function(U,Y){var pa;pa=this;Ka(Y,function(){var na;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new vb("User ID token or peer user ID token already exists for the remote user.");na=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!na)throw new vb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,U,na,{result:function(ra){Ka(Y,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=ra:(this._userIdToken=ra,this._userAuthData=null);return !0;},pa);},error:function(ra){Y.error(ra);}});},pa);},addKeyRequestData:function(U){this._keyRequestData[U.uniqueKey()]=U;return this;},removeKeyRequestData:function(U){delete this._keyRequestData[U.uniqueKey()];return this;},addServiceToken:function(U){var Y;Y=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(U.isMasterTokenBound() && !U.isBoundTo(Y))throw new Ib(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; mt " + JSON.stringify(Y)).setEntity(Y);if(U.isUserIdTokenBound() && !U.isBoundTo(this._userIdToken))throw new Ib(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(Y).setUser(this._userIdToken);this.excludeServiceToken(U.name,U.isMasterTokenBound(),U.isUserIdTokenBound());this._serviceTokens.push(U);return this;},addServiceTokenIfAbsent:function(U){var pa;for(var Y=this._serviceTokens.length - 1;0 <= Y;--Y){pa=this._serviceTokens[Y];if(pa.name == U.name && pa.isMasterTokenBound() == U.isMasterTokenBound() && pa.isUserIdTokenBound() == U.isUserIdTokenBound())return this;}this.addServiceToken(U);return this;},excludeServiceToken:function(){var U,Y,pa,ra;if(1 == arguments.length){U=arguments[0];Y=U.name;pa=U.isMasterTokenBound();U=U.isUserIdTokenBound();}else (arguments.length=3,Y=arguments[0],pa=arguments[1],U=arguments[2]);for(var na=this._serviceTokens.length - 1;0 <= na;--na){ra=this._serviceTokens[na];ra.name == Y && ra.isMasterTokenBound() == pa && ra.isUserIdTokenBound() == U && this._serviceTokens.splice(na,1);}return this;},deleteServiceToken:function(){var U,Y,pa,na;if(2 == arguments.length){U=arguments[0];Y=U.name;U.isMasterTokenBound();U.isUserIdTokenBound();pa=arguments[1];}else (arguments.length=4,Y=arguments[0],pa=arguments[3]);na=this;Ka(pa,function(){var ra,Ca;ra=originalToken.isMasterTokenBound()?this._masterToken:null;Ca=originalToken.isUserIdTokenBound()?this._userIdToken:null;Cc(this._ctx,Y,ia,ra,Ca,!1,null,new bd(),{result:function(ta){Ka(pa,function(){return this.addServiceToken(ta);},na);},error:function(ta){ta instanceof bb && (ta=new vb("Failed to create and add empty service token to message.",ta));pa.error(ta);}});},na);},getServiceTokens:function(){var U;U=[];U.push.apply(U,this._serviceTokens);return U;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(U,Y){var pa,ra;if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(Y && !U)throw new vb("Peer master token cannot be null when setting peer user ID token.");if(Y && !Y.isBoundTo(U))throw new Ib(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + Y + "; mt " + U).setEntity(U).setUser(Y);try{pa=this._ctx.getMslStore().getServiceTokens(U,Y);}catch(Ca){if(Ca instanceof bb)throw new vb("Invalid peer master token and user ID token combination despite proper check.",Ca);throw Ca;}for(var na=this._peerServiceTokens.length - 1;0 <= na;--na){ra=this._peerServiceTokens[na];(ra.isUserIdTokenBound() && !ra.isBoundTo(Y) || ra.isMasterTokenBound() && !ra.isBoundTo(U)) && this._peerServiceTokens.slice(na,1);}pa.forEach(function(Ca){this.excludePeerServiceToken(Ca.name,Ca.isMasterTokenBound(),Ca.isUserIdTokenBound());this._peerServiceTokens.push(Ca);},this);this._peerUserIdToken=Y;this._peerMasterToken=U;return this;},addPeerServiceToken:function(U){if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer service tokens when not in peer-to-peer mode.");if(U.isMasterTokenBound() && !U.isBoundTo(this._peerMasterToken))throw new Ib(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(U.isUserIdTokenBound() && !U.isBoundTo(this._peerUserIdToken))throw new Ib(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(U.name,U.isMasterTokenBound(),U.isUserIdTokenBound());this._peerServiceTokens.push(U);return this;},addPeerServiceTokenIfAbsent:function(U){var pa;for(var Y=this._peerServiceTokens.length - 1;0 <= Y;--Y){pa=this._peerServiceTokens[Y];if(pa.name == U.name && pa.isMasterTokenBound() == U.isMasterTokenBound() && pa.isUserIdTokenBound() == U.isUserIdTokenBound())return this;}this.addPeerServiceToken(U);return this;},excludePeerServiceToken:function(){var U,Y,pa,ra;if(1 == arguments.length){U=arguments[0];Y=U.name;pa=U.isMasterTokenBound();U=U.isUserIdTokenBound();}else (arguments.length=3,Y=arguments[0],pa=arguments[1],U=arguments[2]);for(var na=this._peerServiceTokens.length - 1;0 <= na;--na){ra=this._peerServiceTokens[na];ra.name == Y && ra.isMasterTokenBound() == pa && ra.isUserIdTokenBound() == U && this._peerServiceTokens.splice(na,1);}return this;},deletePeerServiceToken:function(){var U,Y,pa,na,ra,Ca;if(2 == arguments.length){U=arguments[0];Y=U.name;pa=U.isMasterTokenBound();na=U.isUserIdTokenBound();ra=arguments[1];}else (arguments.length=4,Y=arguments[0],pa=arguments[1],na=arguments[2],ra=arguments[3]);Ca=this;Ka(ra,function(){Cc(this._ctx,Y,ia,pa?this._peerMasterToken:null,na?this._peerUserIdToken:null,!1,null,new bd(),{result:function(ta){Ka(ra,function(){return this.addPeerServiceToken(ta);},Ca);},error:function(ta){ta instanceof bb && (ta=new vb("Failed to create and add empty peer service token to message.",ta));ra.error(ta);}});},Ca);},getPeerServiceTokens:function(){var U;U=[];U.push.apply(U,this._peerServiceTokens);return U;}});})();(function(){function ha(ba,ia){return ia[ba]?ia[ba]:ia[""];}function Z(ba){var ia;ia=ba.builder.getKeyExchangeData();return ia && !ba.ctx.isPeerToPeer()?ia.keyResponseData.masterToken:ba.builder.getMasterToken();}kf=Bb.Class.create({init:function(ba,ia,ea){ba={ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:ia.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ea,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ba);},isPrimaryMasterTokenAvailable:function(){return Z(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(ba){try{return (this.builder.addServiceToken(ba),!0);}catch(ia){if(ia instanceof Ib)return !1;throw ia;}},addPeerServiceToken:function(ba){try{return (this.builder.addPeerServiceToken(ba),!0);}catch(ia){if(ia instanceof Ib)return !1;throw ia;}},addUnboundPrimaryServiceToken:function(ba,ia,ea,U,Y){var pa;pa=this;Ka(Y,function(){var na;na=ha(ba,this.cryptoContexts);if(!na)return !1;Cc(this.ctx,ba,ia,null,null,ea,U,na,{result:function(ra){Ka(Y,function(){try{this.builder.addServiceToken(ra);}catch(Ca){if(Ca instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Ca);throw Ca;}return !0;},pa);},error:function(ra){Y.error(ra);}});},pa);},addUnboundPeerServiceToken:function(ba,ia,ea,U,Y){var pa;pa=this;Ka(Y,function(){var na;na=ha(ba,this.cryptoContexts);if(!na)return !1;Cc(this.ctx,ba,ia,null,null,ea,U,na,{result:function(ra){Ka(Y,function(){try{this.builder.addPeerServiceToken(ra);}catch(Ca){if(Ca instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",Ca);throw Ca;}return !0;},pa);},error:function(ra){Y.error(ra);}});},pa);},addMasterBoundPrimaryServiceToken:function(ba,ia,ea,U,Y){var pa;pa=this;Ka(Y,function(){var na,ra;na=Z(this);if(!na)return !1;ra=ha(ba,this.cryptoContexts);if(!ra)return !1;Cc(this.ctx,ba,ia,na,null,ea,U,ra,{result:function(Ca){Ka(Y,function(){try{this.builder.addServiceToken(Ca);}catch(ta){if(ta instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",ta);throw ta;}return !0;},pa);},error:function(Ca){Y.error(Ca);}});},pa);},addMasterBoundPeerServiceToken:function(ba,ia,ea,U,Y){var pa;pa=this;Ka(Y,function(){var na,ra;na=this.builder.getPeerMasterToken();if(!na)return !1;ra=ha(ba,this.cryptoContexts);if(!ra)return !1;Cc(this.ctx,ba,ia,na,null,ea,U,ra,{result:function(Ca){Ka(Y,function(){try{this.builder.addPeerServiceToken(Ca);}catch(ta){if(ta instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",ta);throw ta;}return !0;},pa);},error:function(Ca){Y.error(Ca);}});},pa);},addUserBoundPrimaryServiceToken:function(ba,ia,ea,U,Y){var pa;pa=this;Ka(Y,function(){var na,ra,Ca;na=Z(this);if(!na)return !1;ra=this.builder.getUserIdToken();if(!ra)return !1;Ca=ha(ba,this.cryptoContexts);if(!Ca)return !1;Cc(this.ctx,ba,ia,na,ra,ea,U,Ca,{result:function(ta){Ka(Y,function(){try{this.builder.addServiceToken(ta);}catch(oa){if(oa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},pa);},error:function(ta){Y.error(ta);}});},pa);},addUserBoundPeerServiceToken:function(ba,ia,ea,U,Y){var pa;pa=this;Ka(Y,function(){var na,ra,Ca;na=this.builder.getPeerMasterToken();if(!na)return !1;ra=this.builder.getPeerUserIdToken();if(!ra)return !1;Ca=ha(ba,this.cryptoContexts);if(!Ca)return !1;Cc(this.ctx,ba,ia,na,ra,ea,U,Ca,{result:function(ta){Ka(Y,function(){try{this.builder.addPeerServiceToken(ta);}catch(oa){if(oa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},pa);},error:function(ta){Y.error(ta);}});},pa);},excludePrimaryServiceToken:function(){var ba,ia,ea,U;if(1 == arguments.length){ba=arguments[0];ia=ba.name;ea=ba.isMasterTokenBound();U=ba.isUserIdTokenBound();}else (arguments.length=3,ia=arguments[0],ea=arguments[1],U=arguments[2]);for(var Y=this.builder.getServiceTokens(),pa=0;pa < Y.length;++pa){if((ba=Y[pa],ba.name == ia && ba.isMasterTokenBound() == ea && ba.isUserIdTokenBound() == U))return (this.builder.excludeServiceToken(ia,ea,U),!0);}return !1;},excludePeerServiceToken:function(){var ba,ia,ea,U;if(1 == arguments.length){ba=arguments[0];ia=ba.name;ea=ba.isMasterTokenBound();U=ba.isUserIdTokenBound();}else (arguments.length=3,ia=arguments[0],ea=arguments[1],U=arguments[2]);for(var Y=this.builder.getPeerServiceTokens(),pa=0;pa < Y.length;++pa){if((ba=Y[pa],ba.name == ia && ba.isMasterTokenBound() == ea && ba.isUserIdTokenBound() == U))return (this.builder.excludePeerServiceToken(ia,ea,U),!0);}return !1;},deletePrimaryServiceToken:function(){var ba,ia,ea,U,Y;if(2 == arguments.length){ba=arguments[0];ia=ba.name;ea=ba.isMasterTokenBound();U=ba.isUserIdTokenBound();Y=arguments[1];}else 4 == arguments.length && (ia=arguments[0],ea=arguments[1],U=arguments[2],Y=arguments[3]);Ka(Y,function(){var ra;for(var pa=this.builder.getServiceTokens(),na=0;na < pa.length;++na){ra=pa[na];if(ra.name == ia && ra.isMasterTokenBound() == ea && ra.isUserIdTokenBound() == U){this.builder.deleteServiceToken(ia,ea,U,{result:function(){Y.result(!0);},error:function(Ca){Y.error(Ca);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var ba,ia,ea,U,Y;if(2 == arguments.length){ba=arguments[0];ia=ba.name;ea=ba.isMasterTokenBound();U=ba.isUserIdTokenBound();Y=arguments[1];}else 4 == arguments.length && (ia=arguments[0],ea=arguments[1],U=arguments[2],Y=arguments[3]);Ka(Y,function(){var ra;for(var pa=this.builder.getPeerServiceTokens(),na=0;na < pa.length;++na){ra=pa[na];if(ra.name == ia && ra.isMasterTokenBound() == ea && ra.isUserIdTokenBound() == U){this.builder.deletePeerServiceToken(ia,ea,U,{result:function(){Y.result(!0);},error:function(Ca){Y.error(Ca);}});return;}}return !1;},this);}});})();(function(){function ha(Z,ba,ia,ea){Ka(ea,function(){var Y,pa,na,ra,Ca,ta;function U(){Ka(ea,function(){var oa;if(ta >= ia.length){if(Ca)throw Ca;throw new Pb(V.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(ia));}oa=ia[ta];na != oa.keyExchangeScheme?(++ta,U()):ra.getCryptoContext(Z,oa,pa,Y,{result:ea.result,error:function(W){Ka(ea,function(){if(!(W instanceof bb))throw W;Ca=W;++ta;U();});}});});}Y=ba.masterToken;pa=ba.keyResponseData;if(!pa)return null;na=pa.keyExchangeScheme;ra=Z.getKeyExchangeFactory(na);if(!ra)throw new Pb(V.KEYX_FACTORY_NOT_FOUND,na);ta=0;U();});}lf=fe.extend({init:function(Z,ba,ia,ea,U,Y,pa){var na;na=this;db(pa,function(){var aa;function ra(){na._ready=!0;na._readyQueue.add(!0);}function Ca(da,la){var Ga;try{Ga=la.masterToken;da.getTokenFactory().isMasterTokenRevoked(da,Ga,{result:function(Da){Da?(na._errored=new Rc(Da,Ga).setUser(la.userIdToken).setUser(la.userAuthenticationData).setMessageId(la.messageId),ra()):ta(da,la);},error:function(Da){Da instanceof bb && (Da.setEntity(la.masterToken),Da.setUser(la.userIdToken),Da.setUser(la.userAuthenticationData),Da.setMessageId(la.messageId));na._errored=Da;ra();}});}catch(Da){Da instanceof bb && (Da.setEntity(la.masterToken),Da.setUser(la.userIdToken),Da.setUser(la.userAuthenticationData),Da.setMessageId(la.messageId));na._errored=Da;ra();}}function ta(da,la){var Ga,Da;try{Ga=la.masterToken;Da=la.userIdToken;Da?da.getTokenFactory().isUserIdTokenRevoked(da,Ga,Da,{result:function(Oa){Oa?(na._errored=new MslUserIdTokenException(Oa,Da).setEntity(Ga).setUser(Da).setMessageId(la.messageId),ra()):oa(da,la);},error:function(Oa){Oa instanceof bb && (Oa.setEntity(la.masterToken),Oa.setUser(la.userIdToken),Oa.setUser(la.userAuthenticationData),Oa.setMessageId(la.messageId));na._errored=Oa;ra();}}):oa(da,la);}catch(Oa){Oa instanceof bb && (Oa.setEntity(la.masterToken),Oa.setUser(la.userIdToken),Oa.setUser(la.userAuthenticationData),Oa.setMessageId(la.messageId));na._errored=Oa;ra();}}function oa(da,la){var Ga;try{Ga=la.masterToken;Ga.isExpired()?la.isRenewable() && 0 != la.keyRequestData.length?da.getTokenFactory().isMasterTokenRenewable(da,Ga,{result:function(Da){Da?(na._errored=new Ib(Da,"Master token is expired and not renewable.").setEntity(Ga).setUser(la.userIdToken).setUser(la.userAuthenticationData).setMessageId(la.messageId),ra()):W(da,la);},error:function(Da){Da instanceof bb && (Da.setEntity(la.masterToken),Da.setUser(la.userIdToken),Da.setUser(la.userAuthenticationData),Da.setMessageId(la.messageId));na._errored=Da;ra();}}):(na._errored=new Ib(V.MESSAGE_EXPIRED,JSON.stringify(la)).setEntity(Ga).setUser(la.userIdToken).setUser(la.userAuthenticationData).setMessageId(la.messageId),ra()):W(da,la);}catch(Da){Da instanceof bb && (Da.setEntity(la.masterToken),Da.setUser(la.userIdToken),Da.setUser(la.userAuthenticationData),Da.setMessageId(la.messageId));na._errored=Da;ra();}}function W(da,la){var Ga,Da;try{Ga=la.masterToken;Da=la.nonReplayableId;"number" === typeof Da?Ga?da.getTokenFactory().acceptNonReplayableId(da,Ga,Da,{result:function(Oa){Oa || (na._errored=new Ib(V.MESSAGE_REPLAYED,JSON.stringify(la)).setEntity(Ga).setUser(la.userIdToken).setUser(la.userAuthenticationData).setMessageId(la.messageId));ra();},error:function(Oa){Oa instanceof bb && (Oa.setEntity(Ga),Oa.setUser(la.userIdToken),Oa.setUser(la.userAuthenticationData),Oa.setMessageId(la.messageId));na._errored=Oa;ra();}}):(na._errored=new Ib(V.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(la)).setEntity(la.entityAuthenticationData).setUser(la.userIdToken).setUser(la.userAuthenticationData).setMessageId(la.messageId),ra()):ra();}catch(Oa){Oa instanceof bb && (Oa.setEntity(la.masterToken),Oa.setEntity(la.entityAuthenticationData),Oa.setUser(la.userIdToken),Oa.setUser(la.userAuthenticationData),Oa.setMessageId(la.messageId));na._errored=Oa;ra();}}aa={_source:{value:ba,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_charset:{value:ia,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:Y,writable:!1,enumerable:!1,configurable:!1},_header:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,aa);Oe(na._source,Y,{result:function(da){na._json=da;na._jsonIndex=0;null === na._json?(na._errored=new yb(V.MESSAGE_DATA_MISSING),ra()):Ve(Z,na._json[na._jsonIndex++],U,{result:function(la){var Ga;na._header=la;if(na._header instanceof Nc)(na._keyxCryptoContext=null,na._cryptoContext=null,ra());else {Ga=na._header;ha(Z,Ga,ea,{result:function(Da){var Oa;try{na._keyxCryptoContext=Da;Z.isPeerToPeer() || !na._keyxCryptoContext?na._cryptoContext=Ga.cryptoContext:na._cryptoContext=na._keyxCryptoContext;try{Oa=Ga.masterToken;Oa && (Z.isPeerToPeer() || Oa.isVerified())?Ca(Z,Ga):W(Z,Ga);}catch(Sa){Sa instanceof bb && (Sa.setEntity(Ga.masterToken),Sa.setUser(Ga.userIdToken),Sa.setUser(Ga.userAuthenticationData),Sa.setMessageId(Ga.messageId));na._errored=Sa;ra();}}catch(Sa){Sa instanceof bb && (Sa.setEntity(Ga.masterToken),Sa.setEntity(Ga.entityAuthenticationData),Sa.setUser(Ga.userIdToken),Sa.setUser(Ga.userAuthenticationData),Sa.setMessageId(Ga.messageId));na._errored=Sa;ra();}},error:function(Da){Da instanceof bb && (Da.setEntity(Ga.masterToken),Da.setEntity(Ga.entityAuthenticationData),Da.setUser(Ga.userIdToken),Da.setUser(Ga.userAuthenticationData),Da.setMessageId(Ga.messageId));na._errored=Da;ra();}});}},error:function(la){na._errored=la;ra();}});},timeout:function(){na._timedout=!0;ra();},error:function(da){na._errored=da;ra();}});return this;},na);},nextData:function(Z,ba){var ia;ia=this;db(ba,function(){var U;function ea(Y){db(Y,function(){var pa;if(this._jsonIndex < this._json.length)return pa=this._json[this._jsonIndex++];Oe(this._source,this._timeout,{result:function(na){na && na.length && 0 < na.length?(na.forEach(function(ra){this._json.push(ra);}),ea(Y)):(this._eom=!0,Y.result(null));},timeout:function(){Y.timeout();},error:function(na){Y.error(na);}});},ia);}U=this.getMessageHeader();if(!U)throw new vb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ea({result:function(Y){db(ba,function(){if(!Y)return null;if("object" !== typeof Y)throw new yb(V.MESSAGE_FORMAT_ERROR);gf(Y,this._cryptoContext,{result:function(pa){db(ba,function(){var na,ra,Ca,ta;na=U.masterToken;ra=U.entityAuthenticationData;Ca=U.userIdToken;ta=U.getUserAuthenticationData;if(pa.messageId != U.messageId)throw new Ib(V.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + pa.messageId + " header mid " + U.messageId).setEntity(na).setEntity(ra).setUser(Ca).setUser(ta);if(pa.sequenceNumber != this._payloadSequenceNumber)throw new Ib(V.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + pa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(na).setEntity(ra).setUser(Ca).setUser(ta);++this._payloadSequenceNumber;pa.isEndOfMessage() && (this._eom=!0);na=pa.data;this._payloads.push(na);this._payloadIndex=-1;return na;},ia);},error:function(pa){pa instanceof SyntaxError && (pa=new yb(V.JSON_PARSE_ERROR,"payloadchunk",pa));ba.error(pa);}});},ia);},timeout:function(){ba.timeout();},error:function(Y){ba.error(Y);}});},ia);},isReady:function(Z,ba){var ea;function ia(){db(ba,function(){if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;return !0;}},ea);}ea=this;db(ba,function(){this._ready?ia():this._readyQueue.poll(Z,{result:function(U){db(ba,function(){if(U === Ab)return !1;ia();},ea);},timeout:function(){ba.timeout();},error:function(U){ba.error(U);}});},ea);},getMessageHeader:function(){return this._header instanceof ld?this._header:null;},getErrorHeader:function(){return this._header instanceof Nc?this._header:null;},getIdentity:function(){var Z,ba;Z=this.getMessageHeader();if(Z){ba=Z.masterToken;return ba?ba.identity:Z.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var Z;Z=this.getMessageHeader();return Z?Z.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(Z){this._closeSource=Z;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(Z,ba,ia){var U;function ea(){db(ia,function(){var pa,na,ra,Ca;function Y(ta){db(ta,function(){var oa,W,aa;if(na && Ca >= na.length)return na.subarray(0,Ca);oa=-1;if(this._currentPayload){W=this._currentPayload.length - this._payloadOffset;if(!na){aa=W;if(-1 != this._payloadIndex)for(var da=this._payloadIndex;da < this._payloads.length;++da){aa+=this._payloads[da].length;}0 < aa && (na=new Uint8Array(aa));}W=Math.min(W,na?na.length - Ca:0);0 < W && (oa=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + W),na.set(oa,ra),oa=W,ra+=W,this._payloadOffset+=W);}-1 != oa?(Ca+=oa,Y(ta)):this.nextData(ba,{result:function(la){db(ta,function(){if(this._aborted)return na?na.subarray(0,Ca):new Uint8Array(0);this._currentPayload=la;this._payloadOffset=0;if(this._currentPayload)Y(ta);else return 0 == Ca && 0 != Z?null:na?na.subarray(0,Ca):new Uint8Array(0);},U);},timeout:function(){ta.timeout(na?na.subarray(0,Ca):new Uint8Array(0));},error:function(la){db(ta,function(){la instanceof bb && (la=new Wb("Error reading the payload chunk.",la));if(0 < Ca)return (U._readException=la,na.subarray(0,Ca));throw la;},U);}});},U);}if(this._aborted)return new Uint8Array(0);if(this._timedout)ia.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){pa=this._readException;this._readException=null;throw pa;}na=-1 != Z?new Uint8Array(Z):Ab;ra=0;Ca=0;Y(ia);}},U);}U=this;db(ia,function(){if(-1 > Z)throw new RangeError("read requested with illegal length " + Z);this._ready?ea():this._readyQueue.poll(ba,{result:function(Y){Y === Ab?ia.result(!1):ea();},timeout:function(){ia.timeout(new Uint8Array(0));},error:function(Y){ia.error(Y);}});},U);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});mf=function(Z,ba,ia,ea,U,Y,pa){new lf(Z,ba,ia,ea,U,Y,pa);};})();(function(){nf=Ed.extend({init:function(ha,Z,ba,ia,ea,U,Y){var pa;pa=this;db(Y,function(){var ra,Ca,ta;function na(){pa._ready=!0;pa._readyQueue.add(!0);}ra=le(ha.getMessageCapabilities(),ia.messageCapabilities);Ca=null;ra && (Ca=De(ra.compressionAlgorithms));ra={_destination:{value:Z,writable:!1,enumerable:!1,configurable:!1},_charset:{value:ba,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ra,writable:!1,enumerable:!1,configurable:!1},_header:{value:ia,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:Ca,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ea,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new hd(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ra);ta=Sb(JSON.stringify(ia),ba);Z.write(ta,0,ta.length,U,{result:function(oa){try{pa._aborted?na():oa < ta.length?(pa._timedout=!0,na()):Z.flush(U,{result:function(W){pa._aborted || (pa._timedout=!W);na();},timeout:function(){pa._timedout=!0;na();},error:function(W){pa._errored=W;na();}});}catch(W){pa._errored=W;na();}},timeout:function(){pa._timedout=!0;na();},error:function(oa){pa._errored=oa;na();}});return this;},pa);},setCompressionAlgorithm:function(ha,Z,ba){var ea;function ia(){ea.flush(Z,{result:function(U){db(ba,function(){if(!U)throw new Wb("flush() aborted");this._compressionAlgo=ha;return !0;},ea);},timeout:function(){ba.timeout();},error:function(U){ba.error(U);}});}ea=this;db(ba,function(){if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");if(this._compressionAlgo == ha)return !0;if(ha){if(!this._capabilities)return !1;for(var U=this._capabilities.compressionAlgorithms,Y=0;Y < U.length;++Y){if(U[Y] == ha){ia();return;}}return !1;}ia();},ea);},getMessageHeader:function(){return this._header instanceof ld?this._header:null;},getErrorMessage:function(){return this._header instanceof Nc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ha,Z){var ba;ba=this;db(Z,function(){if(this._aborted)return !1;if(this._timedout)Z.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ha,{result:function(ia){db(Z,function(){ia && (this._currentPayload=null);return ia;},ba);},timeout:function(){Z.timeout();},error:function(ia){Z.error(ia);}});}},ba);},flush:function(ha,Z){var ia;function ba(){db(Z,function(){var ea,U,ra;if(this._aborted)return !1;if(this._timedout)Z.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ea=this.getMessageHeader();if(!ea)return !0;U=0;this._currentPayload && this._currentPayload.forEach(function(Ca){U+=Ca.length;});for(var Y=new Uint8Array(U),pa=0,na=0;this._currentPayload && na < this._currentPayload.length;++na){ra=this._currentPayload[na];Y.set(ra,pa);pa+=ra.length;}ff(this._payloadSequenceNumber,ea.messageId,this._closed,this._compressionAlgo,Y,this._cryptoContext,{result:function(Ca){db(Z,function(){var ta;this._payloads.push(Ca);ta=Sb(JSON.stringify(Ca),this._charset);this._destination.write(ta,0,ta.length,ha,{result:function(oa){db(Z,function(){if(this._aborted)return !1;oa < Ca.length?Z.timeout():this._destination.flush(ha,{result:function(W){db(Z,function(){if(this._aborted)return !1;if(W)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);Z.timeout();},ia);},timeout:function(){Z.timeout();},error:function(W){W instanceof bb && (W=new Wb("Error encoding payload chunk [sequence number " + ia._payloadSequenceNumber + "].",W));Z.error(W);}});},ia);},timeout:function(oa){Z.timeout();},error:function(oa){oa instanceof bb && (oa=new Wb("Error encoding payload chunk [sequence number " + ia._payloadSequenceNumber + "].",oa));Z.error(oa);}});},ia);},error:function(Ca){Ca instanceof bb && (Ca=new Wb("Error encoding payload chunk [sequence number " + ia._payloadSequenceNumber + "].",Ca));Z.error(Ca);}});}},ia);}ia=this;db(Z,function(){this._ready?ba():this._readyQueue.poll(ha,{result:function(ea){ea === Ab?Z.result(!1):ba();},timeout:function(){Z.timeout();},error:function(ea){Z.error(ea);}});},ia);},write:function(ha,Z,ba,ia,ea){db(ea,function(){var U;if(this._aborted)return !1;if(this._timedout)ea.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Wb("Message output stream already closed.");if(0 > Z)throw new RangeError("Offset cannot be negative.");if(0 > ba)throw new RangeError("Length cannot be negative.");if(Z + ba > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");U=ha.subarray(Z,Z + ba);this._currentPayload.push(U);return U.length;}},this);}});Kd=function(ha,Z,ba,ia,ea,U,Y){new nf(ha,Z,ba,ia,ea,U,Y);};})();Tf=Bb.Class.create({sentHeader:function(ha){},receivedHeader:function(ha){}});Object.freeze({USERDATA_REAUTH:Ja.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ja.SSOTOKEN_REJECTED});of=Bb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ha,Z,ba,ia){},getCustomer:function(){},getKeyRequestData:function(ha){},updateServiceTokens:function(ha,Z,ba){},write:function(ha,Z,ba){},getDebugContext:function(){}});Bb.Class.create({getInputStream:function(ha){},getOutputStream:function(ha){}});(function(){var pa,na,ra,Ca,ta,oa,W,aa,da,la,Ga,Da;function ha(Oa){return function(){Oa.abort();};}function Z(Oa,Sa){Object.defineProperties(this,{masterToken:{value:Oa,writable:!1,configurable:!1},ticket:{value:Sa,writable:!1,configurable:!1}});}function ba(Oa,Sa){Object.defineProperties(this,{builder:{value:Oa,writable:!1,configurable:!1},msgCtx:{value:Sa,writable:!1,configurable:!1}});}function ia(Oa,Sa,ka){Object.defineProperties(this,{requestHeader:{value:Oa,writable:!1,configurable:!1},payloads:{value:Sa,writable:!1,configurable:!1},handshake:{value:ka,writable:!1,configurable:!1}});}function ea(Oa,Sa){Object.defineProperties(this,{requestHeader:{value:Sa.requestHeader,writable:!1,configurable:!1},payloads:{value:Sa.payloads,writable:!1,configurable:!1},handshake:{value:Sa.handshake,writable:!1,configurable:!1},response:{value:Oa,writable:!1,configurable:!1}});}function U(Oa){for(;Oa;){if(Oa instanceof Zb)return !0;Oa=Oa instanceof bb?Oa.cause:Ab;}return !1;}function Y(Oa,Sa,ka,va,za,Ha,Ba,Na,Ea){jf(Sa,va,za,Ha,{result:function(Wa){ka && ka.sentHeader(Wa);Kd(Sa,Ba,Lb,Wa,null,null,Na,{result:function(Za){Oa.setAbort(function(){Za.abort();});Za.close(Na,{result:function(Xa){db(Ea,function(){if(!Xa)throw new Zb("sendError aborted.");return Xa;});},timeout:function(){Ea.timeout();},error:function(Xa){Ea.error(Xa);}});},timeout:function(){},error:function(Za){Ea.error(Za);}});},error:function(Wa){Ea.error(Wa);}});}pa=Ed.extend({close:function(Oa,Sa){Sa.result(!0);},write:function(Oa,Sa,ka,va,za){Ka(za,function(){return Math.min(Oa.length - Sa,ka);});},flush:function(Oa,Sa){Sa.result(!0);}});na=Sf.extend({getUserMessage:function(Oa,Sa){return null;}});ra=of.extend({init:function(Oa){Object.defineProperties(this,{_appCtx:{value:Oa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Oa,Sa,ka,va){this._appCtx.getUserAuthData(Oa,Sa,ka,va);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Oa){this._appCtx.getKeyRequestData(Oa);},updateServiceTokens:function(Oa,Sa,ka){this._appCtx.updateServiceTokens(Oa,Sa,ka);},write:function(Oa,Sa,ka){this._appCtx.write(Oa,Sa,ka);},getDebugContext:function(){return this._appCtx.getDebugContext();}});Ca=ra.extend({init:function va(Sa,ka){va.base.call(this,ka);Object.defineProperties(this,{_payloads:{value:Sa,writable:!1,enumerable:!1,configurable:!1}});},write:function(Sa,ka,va){var Ha;function za(Ba,Na){var Ea;if(Ba == Ha._payloads.length)va.result(!0);else {Ea=Ha._payloads[Ba];Sa.setCompressionAlgorithm(Ea.compressionAlgo,ka,{result:function(Wa){Sa.write(Ea.data,0,Ea.data.length,ka,{result:function(Za){db(va,function(){Ea.isEndOfMessage()?za(Ba + 1,Na):Sa.flush(ka,{result:function(Xa){va.result(Xa);},timeout:function(){va.timeout();},error:function(Xa){va.error(Xa);}});},Ha);},timeout:function(Za){va.timeout(Za);},error:function(Za){va.error(Za);}});},timeout:function(){},error:function(Wa){va.error(Wa);}});}}Ha=this;za(0);}});ta=ra.extend({init:function va(ka){va.base.call(this,ka);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(ka,va,za){za.result(!0);}});oa={};W=Bb.Class.create({init:function(ka){ka || (ka=new na());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:ka,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(ka){this._filterFactory=ka;},getNewestMasterToken:function(ka,va,za,Ha){var Ba;Ba=this;db(Ha,function(){var Na,Ea,Wa,Za,Xa;Na=va.getMslStore();Ea=Na.getMasterToken();if(!Ea)return null;Wa=Ea.uniqueKey();Za=this._masterTokenLocks[Wa];Za || (Za=new Vd(),this._masterTokenLocks[Wa]=Za);Xa=Za.readLock(za,{result:function(ib){db(Ha,function(){var mb;if(ib === Ab)throw new Zb("getNewestMasterToken aborted.");mb=Na.getMasterToken();if(Ea.equals(mb))return new Z(Ea,ib);Za.unlock(ib);Za.writeLock(za,{result:function(ob){db(Ha,function(){if(ob === Ab)throw new Zb("getNewestMasterToken aborted.");delete this._masterTokenLocks[Wa];Za.unlock(ob);return this.getNewestMasterToken(ka,va,za,Ha);},Ba);},timeout:function(){Ha.timeout();},error:function(ob){Ha.error(ob);}});},Ba);},timeout:function(){Ha.timeout();},error:function(ib){Ha.error(ib);}});ka.setAbort(function(){Xa && (Za.cancel(Xa),Xa=Ab);});},Ba);},deleteMasterToken:function(ka,va){var za;if(va){za=this;setTimeout(function(){var Ha,Ba;Ha=va.uniqueKey();Ba=za._masterTokenLocks[Ha];Ba || (Ba=new Vd(),za._masterTokenLocks[Ha]=Ba);Ba.writeLock(-1,{result:function(Na){ka.getMslStore().removeCryptoContext(va);delete za._masterTokenLocks[Ha];Ba.unlock(Na);},timeout:function(){throw new vb("Unexpected timeout received.");},error:function(Na){throw Na;}});},0);}},releaseMasterToken:function(ka){var va;if(ka && ka.masterToken){va=ka.masterToken.uniqueKey();va=this._masterTokenLocks[va];if(!va)throw new vb("Master token read/write lock does not exist when it should.");va.unlock(ka.ticket);}},updateOutgoingCryptoContexts:function(ka,va,za){var Ha;Ha=ka.getMslStore();!ka.isPeerToPeer() && za && (Ha.setCryptoContext(za.keyResponseData.masterToken,za.cryptoContext),this.deleteMasterToken(ka,va.masterToken));},updateIncomingCryptoContexts:function(ka,va,za){var Ha,Ba;Ha=za.getMessageHeader();if(Ha){Ba=ka.getMslStore();if(Ha=Ha.keyResponseData)(Ba.setCryptoContext(Ha.masterToken,za.getKeyExchangeCryptoContext()),this.deleteMasterToken(ka,va.masterToken));}},storeServiceTokens:function(ka,va,za,Ha){var Ea,Wa;ka=ka.getMslStore();for(var Ba=[],Na=0;Na < Ha.length;++Na){Ea=Ha[Na];if(!Ea.isBoundTo(va) || !va.isVerified()){Wa=Ea.data;Wa && 0 == Wa.length?ka.removeServiceTokens(Ea.name,Ea.isMasterTokenBound()?va:null,Ea.isUserIdTokenBound()?za:null):Ba.push(Ea);}}0 < Ba.length && ka.addServiceTokens(Ba);},buildRequest:function(ka,va,za,Ha,Ba){var Na;Na=this;this.getNewestMasterToken(ka,va,Ha,{result:function(Ea){Ka(Ba,function(){var Wa,Za,Xa;Wa=Ea && Ea.masterToken;if(Wa){Za=za.getUserId();Xa=va.getMslStore();Za=(Za=Za?Xa.getUserIdToken(Za):null) && Za.isBoundTo(Wa)?Za:null;}else Za=null;Wc(va,Wa,Za,null,{result:function(ib){Ka(Ba,function(){ib.setNonReplayable(za.isNonReplayable());return {builder:ib,tokenTicket:Ea};});},error:function(ib){Ka(Ba,function(){this.releaseMasterToken(Ea);ib instanceof bb && (ib=new vb("User ID token not bound to master token despite internal check.",ib));throw ib;},Na);}});},Na);},timeout:function(){Ba.timeout();},error:function(Ea){Ba.error(Ea);}});},buildResponse:function(ka,va,za,Ha,Ba,Na){var Ea;Ea=this;hf(va,Ha,{result:function(Wa){db(Na,function(){Wa.setNonReplayable(za.isNonReplayable());if(!va.isPeerToPeer() && !Ha.keyResponseData)return {builder:Wa,tokenTicket:null};this.getNewestMasterToken(ka,va,Ba,{result:function(Za){db(Na,function(){var Xa,ib,mb;Xa=Za && Za.masterToken;if(Xa){ib=za.getUserId();mb=va.getMslStore();ib=(ib=ib?mb.getUserIdToken(ib):null) && ib.isBoundTo(Xa)?ib:null;}else ib=null;Wa.setAuthTokens(Xa,ib);return {builder:Wa,tokenTicket:Za};},Ea);},timeout:function(){Na.timeout();},error:function(Za){Na.error(Za);}});},Ea);},error:function(Wa){Na.error(Wa);}});},buildErrorResponse:function(ka,va,za,Ha,Ba,Na,Ea){var Xa;function Wa(ib,mb){db(Ea,function(){var ob,rb;ob=Vc(Ba.messageId);rb=new Ca(mb,za);Wc(va,null,null,ob,{result:function(sb){db(Ea,function(){va.isPeerToPeer() && sb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new ba(sb,rb),tokenTicket:null};},Xa);},error:function(sb){Ea.error(sb);}});},Xa);}function Za(ib,mb){Xa.getNewestMasterToken(ka,va,Na,{result:function(ob){db(Ea,function(){var rb,sb,zb;rb=ob && ob.masterToken;sb=Vc(Ba.messageId);zb=new Ca(mb,za);Wc(va,rb,null,sb,{result:function(xb){db(Ea,function(){va.isPeerToPeer() && xb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);xb.setNonReplayable(zb.isNonReplayable());return {errorResult:new ba(xb,zb),tokenTicket:ob};},Xa);},error:function(xb){Ea.error(xb);}});},Xa);},timeout:function(){Ea.timeout();},error:function(ob){Ea.error(ob);}});}Xa=this;db(Ea,function(){var ib,mb,ob,rb;ib=Ha.requestHeader;mb=Ha.payloads;ob=Ba.errorCode;switch(ob){case Ja.ENTITYDATA_REAUTH:case Ja.ENTITY_REAUTH:va.getEntityAuthenticationData(ob,{result:function(sb){db(Ea,function(){if(!sb)return null;Wa(ib,mb);},Xa);},error:function(sb){Ea.error(sb);}});break;case Ja.USERDATA_REAUTH:case Ja.SSOTOKEN_REJECTED:za.getUserAuthData(ob,!1,!0,{result:function(sb){db(Ea,function(){if(!sb)return null;Za(ib,mb);},Xa);},error:function(sb){Ea.error(sb);}});break;case Ja.USER_REAUTH:Za(ib,mb);break;case Ja.KEYX_REQUIRED:ob=Vc(Ba.messageId);rb=new Ca(mb,za);Wc(va,null,null,ob,{result:function(sb){db(Ea,function(){va.isPeerToPeer() && sb.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);sb.setRenewable(!0);sb.setNonReplayable(rb.isNonReplayable());return {errorResult:new ba(sb,rb),tokenTicket:null};},Xa);},error:function(sb){Ea.error(sb);}});break;case Ja.EXPIRED:this.getNewestMasterToken(ka,va,Na,{result:function(sb){db(Ea,function(){var zb,xb,r,b;zb=sb && sb.masterToken;xb=ib.userIdToken;r=Vc(Ba.messageId);b=new Ca(mb,za);Wc(va,zb,xb,r,{result:function(a){db(Ea,function(){va.isPeerToPeer() && a.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);ib.masterToken.equals(zb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new ba(a,b),tokenTicket:sb};},Xa);},error:function(a){Ea.error(a);}},Xa);},Xa);},timeout:function(){Ea.timeout();},error:function(sb){Ea.error(sb);}});break;case Ja.REPLAYED:this.getNewestMasterToken(ka,va,Na,{result:function(sb){db(Ea,function(){var zb,xb,r,b;zb=sb && sb.masterToken;xb=ib.userIdToken;r=Vc(Ba.messageId);b=new Ca(mb,za);Wc(va,zb,xb,r,{result:function(a){db(Ea,function(){va.isPeerToPeer() && a.setPeerAuthTokens(ib.peerMasterToken,ib.peerUserIdToken);ib.masterToken.equals(zb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new ba(a,b),tokenTicket:sb};},Xa);},error:function(a){Ea.error(a);}});},Xa);},timeout:function(){Ea.timeout();},error:function(sb){Ea.error(sb);}});break;default:return null;}},Xa);},cleanupContext:function(ka,va,za){switch(za.errorCode){case Ja.ENTITY_REAUTH:this.deleteMasterToken(ka,va.masterToken);break;case Ja.USER_REAUTH:(za=va.userIdToken,va.masterToken && za && ka.getMslStore().removeUserIdToken(za));}},send:function(ka,va,za,Ha,Ba,Na,Ea){var ob;function Wa(rb,sb,zb){db(Ea,function(){var xb;xb=Ba.getPeerUserIdToken();!va.isPeerToPeer() && !sb || va.isPeerToPeer() && !xb?(xb=za.getCustomer())?Ba.setCustomer(xb,{result:function(r){db(Ea,function(){sb=Ba.getUserIdToken();Za(rb,sb,zb);},ob);},error:function(r){Ea.error(r);}}):Za(rb,sb,zb):Za(rb,sb,zb);},ob);}function Za(rb,sb,zb){db(Ea,function(){var xb,r;xb=!zb && (!za.isEncrypted() || Ba.willEncryptPayloads()) && (!za.isIntegrityProtected() || Ba.willIntegrityProtectPayloads()) && (!za.isNonReplayable() || Ba.isNonReplayable() && rb);xb || Ba.setNonReplayable(!1);r=[];Ba.isRenewable() && (!rb || rb.isRenewable() || za.isNonReplayable())?za.getKeyRequestData({result:function(b){db(Ea,function(){var c;for(var a=0;a < b.length;++a){c=b[a];r.push(c);Ba.addKeyRequestData(c);}Xa(rb,sb,xb,r);},ob);},error:function(b){Ea.error(b);}}):Xa(rb,sb,xb,r);},ob);}function Xa(rb,sb,zb,xb){db(Ea,function(){var r;r=new kf(va,za,Ba);za.updateServiceTokens(r,!zb,{result:function(b){Ba.getHeader({result:function(a){db(Ea,function(){var c,f;c=za.getDebugContext();c && c.sentHeader(a);c=Ba.getKeyExchangeData();this.updateOutgoingCryptoContexts(va,a,c);this.storeServiceTokens(va,rb,sb,a.serviceTokens);c=!va.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(ka.isAborted())throw new Zb("send aborted.");f=null != this._filterFactory?this._filterFactory.getOutputStream(Ha):Ha;Kd(va,f,Lb,a,c,Na,{result:function(k){ka.setAbort(function(){k.abort();});ib(k,a,zb);},timeout:function(){Ea.timeout();},error:function(k){Ea.error(k);}});},ob);},timeout:function(){Ea.timeout();},error:function(a){Ea.error(a);}});},error:function(b){Ea.error(b);}});},ob);}function ib(rb,sb,zb){var xb,r;if(zb)za.write(rb,Na,{result:function(b){db(Ea,function(){if(ka.isAborted())throw new Zb("MessageOutputStream write aborted.");mb(rb,sb,zb);},ob);},timeout:function(){Ea.timeout();},error:function(b){Ea.error(b);}});else {xb=new pa();r=new bd();Kd(va,xb,Lb,sb,r,Na,{result:function(b){za.write(b,Na,{result:function(a){db(Ea,function(){if(ka.isAborted())throw new Zb("MessageOutputStream proxy write aborted.");b.close(Na,{result:function(c){db(Ea,function(){var f;if(!c)throw new Zb("MessageOutputStream proxy close aborted.");f=b.getPayloads();mb(rb,sb,zb,f);},ob);},timeout:function(){Ea.timeout();},error:function(c){Ea.error(c);}});},ob);},timeout:function(){Ea.timeout();},error:function(a){Ea.error(a);}});},timeout:function(){Ea.timeout();},error:function(b){Ea.error(b);}});}}function mb(rb,sb,zb,xb){rb.close(Na,{result:function(r){db(Ea,function(){if(!r)throw new Zb("MessageOutputStream close aborted.");xb || (xb=rb.getPayloads());return new ia(sb,xb,!zb);},ob);},timeout:function(){Ea.timeout();},error:function(r){Ea.error(r);}});}ob=this;db(Ea,function(){var rb,sb,zb,xb;rb=Ba.getMasterToken();sb=Ba.getUserIdToken();zb=!1;if(za.getUserId()){xb=!sb;za.getUserAuthData(null,Ba.isRenewable(),xb,{result:function(r){db(Ea,function(){r && (Ba.willEncryptHeader() && Ba.willIntegrityProtectHeader()?Ba.setUserAuthenticationData(r):zb=!0);Wa(rb,sb,zb);},ob);},error:function(r){Ea.error(r);}});}else Wa(rb,sb,zb);},ob);},receive:function(ka,va,za,Ha,Ba,Na,Ea){var Wa;Wa=this;db(Ea,function(){var Za,Xa,ib;if(ka.isAborted())throw new Zb("receive aborted.");Za=[];Ba && (Za=Ba.keyRequestData.filter(function(){return !0;}));Xa=za.getCryptoContexts();ib=this._filterFactory?this._filterFactory.getInputStream(Ha):Ha;mf(va,ib,Lb,Za,Xa,Na,{result:function(mb){ka.setAbort(function(){mb.abort();});mb.isReady(Na,{result:function(ob){db(Ea,function(){var rb,sb,zb,xb;if(!ob)throw new Zb("MessageInputStream aborted.");rb=mb.getMessageHeader();sb=mb.getErrorHeader();zb=za.getDebugContext();zb && zb.receivedHeader(rb?rb:sb);if(Ba && (zb=sb?sb.errorCode:null,rb || zb != Ja.FAIL && zb != Ja.TRANSIENT_FAILURE && zb != Ja.ENTITY_REAUTH && zb != Ja.ENTITYDATA_REAUTH)){zb=rb?rb.messageId:sb.messageId;xb=Vc(Ba.messageId);if(zb != xb)throw new Ib(V.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + xb + "; received " + zb);}va.getEntityAuthenticationData(null,{result:function(r){db(Ea,function(){var b,a,c,f;b=r.getIdentity();if(rb){a=rb.entityAuthenticationData;c=rb.masterToken;a=c?rb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Ib(V.UNEXPECTED_MESSAGE_SENDER,a);Ba && this.updateIncomingCryptoContexts(va,Ba,mb);b=rb.keyResponseData;va.isPeerToPeer()?(b=b?b.masterToken:rb.peerMasterToken,c=rb.peerUserIdToken,a=rb.peerServiceTokens):(b=b?b.masterToken:rb.masterToken,c=rb.userIdToken,a=rb.serviceTokens);f=za.getUserId();f && c && !c.isVerified() && va.getMslStore().addUserIdToken(f,c);this.storeServiceTokens(va,b,c,a);}else if((a=sb.entityAuthenticationData.getIdentity(),b == a))throw new Ib(V.UNEXPECTED_MESSAGE_SENDER,a);return mb;},Wa);},error:Ea.error});},Wa);},timeout:function(){Ea.timeout();},error:function(ob){Ea.error(ob);}});},timeout:function(){Ea.timeout();},error:function(mb){Ea.error(mb);}});},Wa);},sendReceive:function(ka,va,za,Ha,Ba,Na,Ea,Wa,Za){var ib;function Xa(mb,ob){db(Za,function(){Na.setRenewable(ob);this.send(ka,va,za,Ba,Na,Ea,{result:function(rb){db(Za,function(){var sb;sb=rb.requestHeader.keyRequestData;Wa || rb.handshake || !sb.isEmpty()?this.receive(ka,va,za,Ha,rb.requestHeader,Ea,{result:function(zb){db(Za,function(){ob && this.releaseRenewalLock(va,mb,zb);return new ea(zb,rb);},ib);},timeout:function(){db(Za,function(){ob && this.releaseRenewalLock(va,mb,null);Za.timeout();},ib);},error:function(zb){db(Za,function(){ob && this.releaseRenewalLock(va,mb,null);throw zb;},ib);}}):db(Za,function(){ob && this.releaseRenewalLock(va,mb,null);return new ea(null,rb);},ib);},ib);},timeout:function(){db(Za,function(){ob && this.releaseRenewalLock(va,mb,null);Za.timeout();},ib);},error:function(rb){db(Za,function(){ob && this.releaseRenewalLock(va,mb,null);throw rb;},ib);}});},ib);}ib=this;db(Za,function(){var mb;mb=new hd();this.acquireRenewalLock(ka,va,za,mb,Na,Ea,{result:function(ob){Xa(mb,ob);},timeout:function(){Za.timeout();},error:function(ob){ob instanceof Zb?Za.result(null):Za.error(ob);}});},ib);},acquireRenewalLock:function(ka,va,za,Ha,Ba,Na,Ea){var Xa;function Wa(ib,mb,ob){db(Ea,function(){var zb,xb;if(ka.isAborted())throw new Zb("acquireRenewalLock aborted.");for(var rb=null,sb=0;sb < this._renewingContexts.length;++sb){zb=this._renewingContexts[sb];if(zb.ctx === va){rb=zb.queue;break;}}if(!rb)return (this._renewingContexts.push({ctx:va,queue:Ha}),!0);xb=rb.poll(Na,{result:function(r){db(Ea,function(){var b;if(r === Ab)throw new Zb("acquireRenewalLock aborted.");rb.add(r);if(r === oa || r.isExpired())Wa(r,mb,ob);else {if(ob && !mb || mb && !mb.isBoundTo(r)){b=va.getMslStore().getUserIdToken(ob);mb=b && b.isBoundTo(r)?b:null;}Ba.setAuthTokens(r,mb);Ba.isRenewable() && r.equals(ib)?Wa(r,mb,ob):za.isRequestingTokens() && !mb?Wa(r,mb,ob):Za(r,mb);}},Xa);},timeout:function(){},error:function(r){}});ka.setAbort(function(){xb && (rb.cancel(xb),xb=Ab);});},Xa);}function Za(ib,mb){db(Ea,function(){var sb;if(ka.isAborted())throw new Zb("acquireRenewalLock aborted.");if(!ib || ib.isRenewable() || !mb && za.getUserId() || mb && mb.isRenewable()){for(var ob=null,rb=0;rb < this._renewingContexts.length;++rb){sb=this._renewingContexts[rb];if(sb.ctx === va){ob=sb.queue;break;}}if(!ob)return (this._renewingContexts.push({ctx:va,queue:Ha}),!0);}return !1;},Xa);}Xa=this;db(Ea,function(){var ib,mb,ob;ib=Ba.getMasterToken();mb=Ba.getUserIdToken();ob=za.getUserId();za.isEncrypted() && !Ba.willEncryptPayloads() || za.isIntegrityProtected() && !Ba.willIntegrityProtectPayloads() || Ba.isRenewable() || !ib && za.isNonReplayable() || ib && ib.isExpired() || !(mb || !ob || Ba.willEncryptHeader() && Ba.willIntegrityProtectHeader()) || za.isRequestingTokens() && (!ib || ob && !mb)?Wa(ib,mb,ob):Za(ib,mb);},Xa);},releaseRenewalLock:function(ka,va,za){var Ea;for(var Ha,Ba,Na=0;Na < this._renewingContexts.length;++Na){Ea=this._renewingContexts[Na];if(Ea.ctx === ka){Ha=Na;Ba=Ea.queue;break;}}if(Ba !== va)throw new vb("Attempt to release renewal lock that is not owned by this queue.");za?(za=za.messageHeader)?(Ba=za.keyResponseData)?va.add(Ba.masterToken):(ka=ka.isPeerToPeer()?za.peerMasterToken:za.masterToken)?va.add(ka):va.add(oa):va.add(oa):va.add(oa);this._renewingContexts.splice(Ha,1);}});pf=Bb.Class.create({init:function(){var ka;ka={_impl:{value:new W(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ka);},setFilterFactory:function(ka){this._impl.setFilterFactory(ka);},shutdown:function(){this._shutdown=!0;},receive:function(ka,va,za,Ha,Ba,Na){var Ea;if(this._shutdown)throw new bb("MslControl is shutdown.");Ea=new aa(this._impl,ka,va,za,Ha,Ba);setTimeout(function(){Ea.call(Na);},0);return ha(Ea);},respond:function(ka,va,za,Ha,Ba,Na,Ea){var Wa;if(this._shutdown)throw new bb("MslControl is shutdown.");Wa=new da(this._impl,ka,va,za,Ha,Ba,Na);setTimeout(function(){Wa.call(Ea);},0);return ha(Wa);},error:function za(ka,va,za,Ha,Ba,Na,Ea){var Wa;if(this._shutdown)throw new bb("MslControl is shutdown.");Wa=new la(this._impl,ka,va,za,Ha,Ba,Na);setTimeout(function(){Wa.call(Ea);},0);return ha(Wa);},request:function(ka,va){var za,Ha,Ba,Na,Ea,Wa;if(this._shutdown)throw new bb("MslControl is shutdown.");if(5 == arguments.length){Ha=arguments[2];Ba=za=null;Na=arguments[3];Ea=arguments[4];if(ka.isPeerToPeer()){Ea.error(new vb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ha=null,za=arguments[2],Ba=arguments[3],Na=arguments[4],Ea=arguments[5],!ka.isPeerToPeer())){Ea.error(new vb("This method cannot be used in trusted network mode."));return;}Wa=new Da(this._impl,ka,va,Ha,za,Ba,null,0,Na);setTimeout(function(){Wa.call(Ea);},0);return ha(Wa);}});aa=Bb.Class.create({init:function(ka,va,za,Ha,Ba,Na){Object.defineProperties(this,{_ctrl:{value:ka,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:va,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:za,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ba,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Na,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ka){this._abortFunc=ka;},call:function(ka){var Ba;function va(Na){db(ka,function(){var Ea;Ea=Na.messageHeader;if(!Ea)return Na;this.setAbort(function(){Na.abort();});Na.mark(Number.MAX_VALUE);Na.read(1,Ba._timeout,{result:function(Wa){db(ka,function(){if(Wa && 0 == Wa.length)return null;if(Wa)return (Na.reset(),Na);za(Na);},Ba);},timeout:function(){ka.timeout();},error:function(Wa){db(ka,function(){var Za,Xa,ib;if(U(Wa))return null;Za=Ea?Ea.messageId:null;if(Wa instanceof Wb){Xa=V.MSL_COMMS_FAILURE;ib=Wa;}else (Xa=V.INTERNAL_EXCEPTION,ib=new vb("Error peeking into the message payloads."));Y(this,this._ctx,this._msgCtx.getDebugContext(),Za,Xa,null,this._output,this._timeout,{result:function(mb){ka.error(ib);},timeout:function(){ka.timeout();},error:function(mb){db(ka,function(){if(U(mb))return null;throw new kc("Error peeking into the message payloads.",mb,Wa);},Ba);}});},Ba);}});},Ba);}function za(Na){db(ka,function(){Na.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Na.messageHeader,this._timeout,{result:function(Ea){db(ka,function(){var Wa,Za,Xa,ib,mb;Wa=Ea.builder;Za=Ea.tokenTicket;Xa=Na.messageHeader;ib=new ta(this._msgCtx);if(!this._ctx.isPeerToPeer() || Xa.isEncrypting() || Xa.keyResponseData)Ha(Xa,Wa,ib,Za);else {mb=new Da(this._ctrl,this._ctx,ib,null,this._input,this._output,Ea,1,this._timeout);this.setAbort(function(){mb.abort();});mb.call(ka);}},Ba);},timeout:function(){ka.timeout();},error:function(Ea){db(ka,function(){var Wa,Za,Xa,ib;if(U(Ea))return null;if(Ea instanceof bb){Wa=Ea.messageId;Za=Ea.error;Xa=Na.messageHeader.messageCapabilities;Xa=this._ctrl.messageRegistry.getUserMessage(Za,Xa?Xa.languages:null);ib=Ea;}else (Wa=requestHeader?requestHeader.messageId:null,Za=V.INTERNAL_EXCEPTION,Xa=null,ib=new vb("Error creating an automatic handshake response.",Ea));Y(this,this._ctx,this._msgCtx.getDebugContext(),Wa,Za,Xa,this._output,this._timeout,{result:function(mb){ka.error(ib);},timeout:function(){ka.timeout();},error:function(mb){db(ka,function(){if(U(mb))return null;throw new kc("Error creating an automatic handshake response.",mb,Ea);},Ba);}});},Ba);}});},Ba);}function Ha(Na,Ea,Wa,Za){db(ka,function(){Ea.setRenewable(!1);this._ctrl.send(this._ctx,Wa,this._output,Ea,this._timeout,{result:function(Xa){db(ka,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);return null;},Ba);},timeout:function(){db(ka,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);ka.timeout();},Ba);},error:function(Xa){db(ka,function(){var ib,mb,ob,rb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(Za);if(U(Xa))return null;if(Xa instanceof bb){ib=Xa.messageId;mb=Xa.error;ob=Na?Na.messageCapabilities:null;ob=this._ctrl.messageRegistry.getUserMessage(mb,ob?ob.languages:null);rb=Xa;}else Xa instanceof Wb?(ib=Na?Na.messageId:null,mb=V.MSL_COMMS_FAILURE,ob=null,rb=Xa):(ib=Na?Na.messageId:null,mb=V.INTERNAL_EXCEPTION,ob=null,rb=new vb("Error sending an automatic handshake response.",Xa));Y(this,this._ctx,this._msgCtx.getDebugContext(),ib,mb,ob,this._output,this._timeout,{result:function(sb){ka.error(rb);},timeout:function(){ka.timeout();},error:function(sb){db(ka,function(){if(U(sb))return null;throw new kc("Error sending an automatic handshake response.",sb,Xa);},Ba);}});},Ba);}});},Ba);}Ba=this;db(ka,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Na){va(Na);},timeout:function(){ka.timeout();},error:function(Na){db(ka,function(){var Ea,Wa,Za,Xa;if(U(Na))return null;if(Na instanceof bb){Ea=Na.messageId;Wa=Na.error;Za=this._ctrl.messageRegistry.getUserMessage(Wa,null);Xa=Na;}else (Ea=null,Wa=V.INTERNAL_EXCEPTION,Za=null,Xa=new vb("Error receiving the message header.",Na));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ea,Wa,Za,this._output,this._timeout,{result:function(ib){ka.error(Xa);},timeout:function(){ka.timeout();},error:function(ib){db(ka,function(){if(U(ib))return null;throw new kc("Error receiving the message header.",ib,Na);},Ba);}});},Ba);}});},Ba);}});da=Bb.Class.create({init:function(ka,va,za,Ha,Ba,Na,Ea){Object.defineProperties(this,{_ctrl:{value:ka,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:va,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:za,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ba,writable:!1,enumerable:!1,configurable:!1},_request:{value:Na,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ka){this._abortFunc=ka;},trustedNetworkExecute:function(ka,va,za){var Ha;Ha=this;db(za,function(){var Ba,Na;if(12 < va + 1)return !1;if(Ba=this._msgCtx.isIntegrityProtected() && !ka.willIntegrityProtectHeader()?V.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !ka.willEncryptPayloads()?V.RESPONSE_REQUIRES_ENCRYPTION:null){Na=cd(ka.getMessageId());Y(this,this._ctx,this._msgCtx.getDebugContext(),Na,Ba,null,this._output,this._timeout,{result:function(Ea){za.result(!1);},timeout:function(){za.timeout();},error:function(Ea){db(za,function(){if(U(Ea))return !1;throw new kc("Response requires encryption or integrity protection but cannot be protected: " + Ba,Ea,null);},Ha);}});}else !this._msgCtx.getCustomer() || ka.getMasterToken() || ka.getKeyExchangeData()?(ka.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,ka,this._timeout,{result:function(Ea){za.result(!0);},timeout:function(){za.timeout();},error:function(Ea){za.error(Ea);}})):(Na=cd(ka.getMessageId()),Y(this,this._ctx,this._msgCtx.getDebugContext(),Na,V.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ea){za.result(!1);},timeout:function(){za.timeout();},error:function(Ea){db(za,function(){if(U(Ea))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Ea,null);},Ha);}}));},Ha);},peerToPeerExecute:function(ka,va,za,Ha){var Na;function Ba(Ea){db(Ha,function(){var Wa;Wa=Ea.response;Wa.close();Wa=Wa.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ea.requestHeader,Wa);this._ctrl.buildErrorResponse(this,this._ctx,ka,Ea,Wa,{result:function(Za){db(Ha,function(){var Xa,ib;if(!Za)return !1;Xa=Za.errorResult;ib=Za.tokenTicket;this.peerToPeerExecute(Xa.msgCtx,Xa.builder,za,{result:function(mb){db(Ha,function(){this._ctrl.releaseMasterToken(ib);return mb;},Na);},timeout:function(){db(Ha,function(){this._ctrl.releaseMasterToken(ib);Ha.timeout();},Na);},error:function(mb){db(Ha,function(){this._ctrl.releaseMasterToken(ib);throw mb;},Na);}});},Na);}});},Na);}Na=this;db(Ha,function(){var Ea;if(12 < za + 2)return !1;if(null != ka.getCustomer() && null == va.getPeerMasterToken() && null == va.getKeyExchangeData()){Ea=cd(va.getMessageId());Y(this,this._ctx,ka.getDebugContext(),Ea,V.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Wa){Ha.result(!1);},timeout:function(){Ha.timeout();},error:function(Wa){db(Ha,function(){if(U(Wa))return !1;throw new kc("Response wishes to attach a user ID token but there is no master token.",Wa,null);},Na);}});}else this._ctrl.sendReceive(this._ctx,ka,this._input,this._output,va,this._timeout,!1,{result:function(Wa){db(Ha,function(){var ib,mb,ob;function Za(){ib.read(32768,Na._timeout,{result:function(rb){db(Ha,function(){rb?Za():Xa();},Na);},timeout:function(){Ha.timeout();},error:function(rb){Ha.error(rb);}});}function Xa(){db(Ha,function(){var rb;rb=new Ca(Wa.payloads,ka);this._ctrl.buildResponse(this,this._ctx,rb,mb,this._timeout,{result:function(sb){db(Ha,function(){var zb;zb=sb.tokenTicket;this.peerToPeerExecute(rb,sb.builder,za,{result:function(xb){db(Ha,function(){this._ctrl.releaseMasterToken(zb);return xb;},Na);},timeout:function(){db(Ha,function(){this._ctrl.releaseMasterToken(zb);Ha.timeout();},Na);},error:function(xb){db(Ha,function(){this._ctrl.releaseMasterToken(zb);throw xb;},Na);}});},Na);},timeout:function(){Ha.timeout();},error:function(sb){Ha.error(sb);}});},Na);}ib=Wa.response;za+=2;if(!ib)return !0;mb=ib.getMessageHeader();if(mb){ob=Wa.payloads;ob=0 < ob.length && 0 < ob[0].data.length;if(Wa.handshake && ob)Za();else return !0;}else Ba(Wa);},Na);},timeout:function(){Ha.timeout();},error:function(Wa){Ha.error(Wa);}});},Na);},call:function(ka){var va;va=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(za){db(ka,function(){var Ha,Ba;Ha=za.builder;Ba=za.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ha,3,{result:function(Na){db(ka,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);return Na;},va);},timeout:function(){db(ka,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);ka.timeout();},va);},error:function(Na){db(ka,function(){var Ea,Wa,Za,Xa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);if(U(Na))return !1;Ea=cd(Ha.getMessageId());if(Na instanceof bb){Wa=Na.error;Za=this._request.messageCapabilities;Za=this._ctrl.messageRegistry.getUserMessage(Wa,Za?Za.languages:null);Xa=Na;}else Na instanceof Wb?(Wa=V.MSL_COMMS_FAILURE,Za=null,Xa=Na):(Wa=V.INTERNAL_EXCEPTION,Za=null,Xa=new vb("Error sending the response.",Na));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ea,Wa,Za,this._output,this._timeout,{result:function(ib){ka.error(Xa);},timeout:function(){ka.timeout();},error:function(ib){db(ka,function(){if(U(ib))return !1;throw new kc("Error sending the response.",ib,null);},va);}});},va);}}):this.trustedNetworkExecute(Ha,3,{result:function(Na){db(ka,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);return Na;},va);},timeout:function(){db(ka,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);ka.timeout();},va);},error:function(Na){db(ka,function(){var Ea,Wa,Za,Xa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);if(U(Na))return !1;Ea=cd(Ha.getMessageId());if(Na instanceof bb){Wa=Na.error;Za=this._request.messageCapabilities;Za=this._ctrl.messageRegistry.getUserMessage(Wa,Za?Za.languages:null);Xa=Na;}else Na instanceof Wb?(Wa=V.MSL_COMMS_FAILURE,Za=null,Xa=Na):(Wa=V.INTERNAL_EXCEPTION,Za=null,Xa=new vb("Error sending the response.",Na));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ea,Wa,Za,this._output,this._timeout,{result:function(ib){ka.error(Xa);},timeout:function(){ka.timeout();},error:function(ib){db(ka,function(){if(U(ib))return !1;throw new kc("Error sending the response.",ib,null);},va);}});},va);}});},va);},timeout:function(){ka.timeout();},error:function(za){db(ka,function(){var Ha,Ba,Na,Ea;if(U(za))return !1;if(za instanceof bb){Ha=za.messageId;Ba=za.error;Na=this._request.messageCapabilities;Na=this._ctrl.messageRegistry.getUserMessage(Ba,Na?Na.languages:null);Ea=za;}else (Ha=null,Ba=V.INTERNAL_EXCEPTION,Na=null,Ea=new vb("Error building the response.",za));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ha,Ba,Na,this._output,this._timeout,{result:function(Wa){ka.error(Ea);},timeout:function(){ka.timeout();},error:function(Wa){db(ka,function(){if(U(Wa))return null;throw new kc("Error building the response.",Wa,za);},va);}});},va);}});}});la=Bb.Class.create({init:function(ka,va,za,Ha,Ba,Na,Ea){Object.defineProperties(this,{_ctrl:{value:ka,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:va,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:za,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Na,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ea,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ka){this._abortFunc=ka;},call:function(ka){var va;va=this;db(ka,function(){var za,Ha;if(this._appError == ENTITY_REJECTED)za=this._request.masterToken?V.MASTERTOKEN_REJECTED_BY_APP:V.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)za=this._request.userIdToken?V.USERIDTOKEN_REJECTED_BY_APP:V.USER_REJECTED_BY_APP;else throw new vb("Unhandled application error " + this._appError + ".");Ha=this._request.messageCapabilities;Ha=this._ctrl.messageRegistry.getUserMessage(za,Ha?Ha.languages:null);Y(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,za,Ha,this._output,this._timeout,{result:function(Ba){ka.result(Ba);},timeout:ka.timeout,error:function(Ba){db(ka,function(){if(U(Ba))return !1;if(Ba instanceof bb)throw Ba;throw new vb("Error building the error response.",Ba);},va);}});},va);}});Ga={result:function(){},timeout:function(){},error:function(){}};Da=Bb.Class.create({init:function(ka,va,za,Ha,Ba,Na,Ea,Wa,Za){var Xa;if(Ea){Xa=Ea.builder;Ea=Ea.tokenTicket;}else Ea=Xa=null;Object.defineProperties(this,{_ctrl:{value:ka,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:va,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:za,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ba,writable:!0,enumerable:!1,configurable:!1},_output:{value:Na,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Xa,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ea,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:Za,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Wa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ka){this._abortFunc=ka;},execute:function(ka,va,za,Ha,Ba){var Wa;function Na(Za){function Xa(ib){db(Ba,function(){var mb;mb=Za.response;return ib?ib:mb;},Wa);}db(Ba,function(){var ib,mb;ib=Za.response;ib.close();mb=ib.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Za.requestHeader,mb);this._ctrl.buildErrorResponse(this,this._ctx,ka,Za,mb,za,{result:function(ob){db(Ba,function(){var rb,sb,zb,xb;if(!ob)return ib;rb=ob.errorResult;sb=ob.tokenTicket;zb=rb.builder;rb=rb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(rb,zb,this._timeout,Ha,{result:function(r){db(Ba,function(){this._ctrl.releaseMasterToken(sb);Xa(r);},Wa);},timeout:function(){db(Ba,function(){this._ctrl.releaseMasterToken(sb);Ba.timeout();},Wa);},error:function(r){db(Ba,function(){this._ctrl.releaseMasterToken(sb);Ba.error(r);},Wa);}});else {this._openedStreams && (this._input.close(),this._output.close(za,Ga));xb=new Da(this._ctrl,this._ctx,rb,this._remoteEntity,null,null,{builder:zb,tokenTicket:sb},Ha,this._timeout);this.setAbort(function(){xb.abort();});xb.call({result:function(r){Xa(r);},timeout:function(){Ba.timeout();},error:function(r){Ba.error(r);}});}},Wa);},timeout:function(){Ba.timeout();},error:function(ob){Ba.error(ob);}});},Wa);}function Ea(Za){db(Ba,function(){var mb,ob,rb,sb,zb;function Xa(){mb.read(32768,Wa._timeout,{result:function(xb){xb?Xa():ib();},timeout:function(){Ba.timeout();},error:function(xb){Ba.error(xb);}});}function ib(){db(Ba,function(){var xb;xb=new Ca(Za.payloads,ka);this._ctrl.buildResponse(this,this._ctx,ka,ob,za,{result:function(r){db(Ba,function(){var b;b=r.tokenTicket;this.execute(xb,r.builder,this._timeout,Ha,{result:function(a){db(Ba,function(){this._ctrl.releaseMasterToken(b);return a;},Wa);},timeout:function(){db(Ba,function(){this._ctrl.releaseMasterToken(b);Ba.timeout();},Wa);},error:function(a){db(Ba,function(){this._ctrl.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Ba.timeout();},error:function(r){Ba.error(r);}});},Wa);}mb=Za.response;ob=mb.getMessageHeader();rb=Za.payloads;rb=0 < rb.length && 0 < rb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!Za.handshake || !rb)return mb;this._openedStreams && (this._input.close(),this._output.close(za,Ga));sb=new Ca(Za.payloads,ka);this._ctrl.buildResponse(this,this._ctx,ka,ob,za,{result:function(xb){db(Ba,function(){var r;r=new Da(this._ctrl,this._ctx,sb,this._remoteEntity,null,null,xb,Ha,this._timeout);this.setAbort(function(){r.abort();});r.call(Ba);},Wa);},timeout:function(){Ba.timeout();},error:function(xb){Ba.error(xb);}});}else if(Za.handshake && rb)Xa();else if(0 < ob.keyRequestData.length){zb=new ta(ka);this._ctrl.buildResponse(this,this._ctx,zb,ob,za,{result:function(xb){db(Ba,function(){var r,b;r=xb.builder;b=xb.tokenTicket;mb.mark();mb.read(1,this._timeout,{result:function(a){db(Ba,function(){function c(){mb.read(32768,Wa._timeout,{result:function(k){k?c():f();},timeout:function(){Ba.timeout();},error:function(k){Ba.error(k);}});}function f(){Wa.execute(zb,r,Wa._timeout,Ha,{result:function(k){db(Ba,function(){this._ctrl.releaseMasterToken(b);return k;},Wa);},timeout:function(){db(Ba,function(){this._ctrl.releaseMasterToken(b);Ba.timeout();},Wa);},error:function(k){db(Ba,function(){this._ctrl.releaseMasterToken(b);throw k;},Wa);}});}if(a){if((mb.reset(),12 >= Ha + 1))(r.setRenewable(!1),this._ctrl.send(this,this._ctx,zb,this._output,r,this._timeout,{result:function(k){db(Ba,function(){this.releaseMasterToken(b);return mb;},Wa);},timeout:function(){Ba.timeout();},error:function(k){Ba.error(k);}}));else return (this.releaseMasterToken(b),mb);}else c();},Wa);},timeout:function(){db(Ba,function(){this.releaseMasterToken(b);Ba.timeout();},Wa);},error:function(a){db(Ba,function(){this.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Ba.timeout();},error:function(xb){Ba.error(xb);}});}},Wa);}Wa=this;db(Ba,function(){if(12 < Ha + 2)return null;this._ctrl.sendReceive(this,this._ctx,ka,this._input,this._output,va,za,!0,{result:function(Za){db(Ba,function(){var Xa;if(!Za)return null;Xa=Za.response;Ha+=2;Xa.getMessageHeader()?Ea(Za):Na(Za);},Wa);},timeout:function(){Ba.timeout();},error:function(Za){Ba.error(Za);}});},Wa);},call:function(ka){var za;function va(Ha,Ba,Na){db(ka,function(){this.execute(this._msgCtx,Ha,Na,this._msgCount,{result:function(Ea){db(ka,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && this._output.close(Na,Ga);Ea && Ea.closeSource(this._openedStreams);return Ea;},za);},timeout:function(){db(ka,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && (this._output.close(Na,Ga),this._input.close());ka.timeout();},za);},error:function(Ea){db(ka,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && (this._output.close(Na,Ga),this._input.close());if(U(Ea))return null;throw Ea;},za);}});},za);}za=this;db(ka,function(){var Ha,Ba,Na;Ha=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Ba=Date.now();Na=this._remoteEntity.openConnection();this._output=Na.output;this._input=Na.input;-1 != Ha && (Ha=this._timeout - (Date.now() - Ba));this._openedStreams=!0;}catch(Ea){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ga);this._input && this._input.close();if(U(Ea))return null;throw Ea;}this._builder?va(this._builder,this._tokenTicket,Ha):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ea){db(ka,function(){va(Ea.builder,Ea.tokenTicket,Ha);},za);},timeout:function(){db(ka,function(){this._openedStreams && (this._output.close(this._timeout,Ga),this._input.close());ka.timeout();},za);},error:function(Ea){db(ka,function(){this._openedStreams && (this._output.close(this._timeout,Ga),this._input.close());if(U(Ea))return null;throw Ea;},za);}});},za);}});})();(function(){oe=Bb.Class.create({init:function(ha){Object.defineProperties(this,{id:{value:ha,writable:!1,configurable:!1}});},toJSON:function(){var ha;ha={};ha.id=this.id;return ha;},equals:function(ha){return this === ha?!0:ha instanceof oe?this.id == ha.id:!1;},uniqueKey:function(){return this.id;}});qf=function(ha){var Z;Z=ha.id;if(!Z)throw new yb(V.JSON_PARSE_ERROR,JSON.stringify(ha));return new oe(Z);};})();Bb.Class.create({isNewestMasterToken:function(ha,Z,ba){},isMasterTokenRevoked:function(ha,Z){},acceptNonReplayableId:function(ha,Z,ba,ia){},createMasterToken:function(ha,Z,ba,ia,ea){},isMasterTokenRenewable:function(ha,Z,ba){},renewMasterToken:function(ha,Z,ba,ia,ea){},isUserIdTokenRevoked:function(ha,Z,ba,ia){},createUserIdToken:function(ha,Z,ba,ia){},renewUserIdToken:function(ha,Z,ba,ia){}});(function(){function ha(Z,ba,ia,ea){this.sessiondata=Z;this.tokendata=ba;this.signature=ia;this.verified=ea;}ic=Bb.Class.create({init:function(Z,ba,ia,ea,U,Y,pa,na,ra,Ca,ta){var oa;oa=this;Ka(ta,function(){var W,aa,da,la,Ga;if(ia.getTime() < ba.getTime())throw new vb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ea || ea > Mb)throw new vb("Sequence number " + ea + " is outside the valid range.");if(0 > U || U > Mb)throw new vb("Serial number " + U + " is outside the valid range.");W=Math.floor(ba.getTime() / 1E3);aa=Math.floor(ia.getTime() / 1E3);if(Ca)da=Ca.sessiondata;else {la={};Y && (la.issuerdata=Y);la.identity=pa;la.encryptionkey=Db(na.toByteArray());la.hmackey=Db(ra.toByteArray());da=Sb(JSON.stringify(la),Lb);}if(Ca)return (Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:W,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,configurable:!1},serialNumber:{value:U,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},identity:{value:pa,writable:!1,configurable:!1},encryptionKey:{value:na,writable:!1,configurable:!1},hmacKey:{value:ra,writable:!1,configurable:!1},sessiondata:{value:da,writable:!1,enumerable:!1,configurable:!1},verified:{value:Ca.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ca.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ca.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ga=Z.getMslCryptoContext();Ga.encrypt(da,{result:function(Da){Ka(ta,function(){var Oa,Sa;Oa={};Oa.renewalwindow=W;Oa.expiration=aa;Oa.sequencenumber=ea;Oa.serialnumber=U;Oa.sessiondata=Db(Da);Sa=Sb(JSON.stringify(Oa),Lb);Ga.sign(Sa,{result:function(ka){Ka(ta,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:W,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:U,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},identity:{value:pa,writable:!1,configurable:!1},encryptionKey:{value:na,writable:!1,configurable:!1},hmacKey:{value:ra,writable:!1,configurable:!1},sessiondata:{value:da,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ka,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(ka){ta.error(ka);}});},oa);},error:function(Da){ta.error(Da);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(Z){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(Z){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(Z){var ba;if(this.sequenceNumber == Z.sequenceNumber)return this.expiration > Z.expiration;if(this.sequenceNumber > Z.sequenceNumber){ba=this.sequenceNumber - Mb + 127;return Z.sequenceNumber >= ba;}ba=Z.sequenceNumber - Mb + 127;return this.sequenceNumber < ba;},toJSON:function(){var Z;Z={};Z.tokendata=Db(this.tokendata);Z.signature=Db(this.signature);return Z;},equals:function(Z){return this === Z?!0:Z instanceof ic?this.serialNumber == Z.serialNumber && this.sequenceNumber == Z.sequenceNumber && this.expiration.getTime() == Z.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Tc=function(Z,ba,ia){Ka(ia,function(){var ea,U,Y,pa,na;ea=Z.getMslCryptoContext();U=ba.tokendata;Y=ba.signature;if("string" !== typeof U || "string" !== typeof Y)throw new yb(V.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(ba));try{pa=Fb(U);}catch(ra){throw new bb(V.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(ba),ra);}if(!pa || 0 == pa.length)throw new yb(V.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(ba));try{na=Fb(Y);}catch(ra){throw new bb(V.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(ba),ra);}ea.verify(pa,na,{result:function(ra){Ka(ia,function(){var Ca,ta,oa,W,aa,da,la,Ga,Da,Oa;Ca=Tb(pa,Lb);try{ta=JSON.parse(Ca);oa=parseInt(ta.renewalwindow);W=parseInt(ta.expiration);aa=parseInt(ta.sequencenumber);da=parseInt(ta.serialnumber);la=ta.sessiondata;}catch(Sa){if(Sa instanceof SyntaxError)throw new yb(V.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ca,Sa);throw Sa;}if(!oa || oa != oa || !W || W != W || "number" !== typeof aa || aa != aa || "number" !== typeof da || da != da || "string" !== typeof la)throw new yb(V.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ca);if(W < oa)throw new bb(V.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Ca);if(0 > aa || aa > Mb)throw new bb(V.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ca);if(0 > da || da > Mb)throw new bb(V.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ca);Ga=new Date(1E3 * oa);Da=new Date(1E3 * W);try{Oa=Fb(la);}catch(Sa){throw new bb(V.MASTERTOKEN_SESSIONDATA_INVALID,la,Sa);}if(!Oa || 0 == Oa.length)throw new bb(V.MASTERTOKEN_SESSIONDATA_MISSING,la);ra?ea.decrypt(Oa,{result:function(Sa){Ka(ia,function(){var ka,va,za,Ha,Ba,Na;ka=Tb(Sa,Lb);try{va=JSON.parse(ka);za=va.issuerdata;Ha=va.identity;Ba=va.encryptionkey;Na=va.hmackey;}catch(Ea){if(Ea instanceof SyntaxError)throw new yb(V.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ka,Ea);throw Ea;}if(za && "object" !== typeof za || !Ha || "string" !== typeof Ba || "string" !== typeof Na)throw new yb(V.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ka);yc(Ba,rc,Ic,{result:function(Ea){yc(Na,sc,Sc,{result:function(Wa){Ka(ia,function(){var Za;Za=new ha(Sa,pa,na,ra);new ic(Z,Ga,Da,aa,da,za,Ha,Ea,Wa,Za,ia);});},error:function(Wa){ia.error(new tb(V.MASTERTOKEN_KEY_CREATION_ERROR,Wa));}});},error:function(Ea){ia.error(new tb(V.MASTERTOKEN_KEY_CREATION_ERROR,Ea));}});});},error:function(Sa){ia.error(Sa);}}):(oa=new ha(null,pa,na,ra),new ic(Z,Ga,Da,aa,da,null,null,null,null,oa,ia));});},error:function(ra){ia.error(ra);}});});};})();(function(){function ha(Z,ba,ia){this.tokendata=Z;this.signature=ba;this.verified=ia;}$c=Bb.Class.create({init:function(Z,ba,ia,ea,U,Y,pa,na,ra){var Ca;Ca=this;Ka(ra,function(){var ta,oa,W,aa,da,la,Ga;if(ia.getTime() < ba.getTime())throw new vb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ea)throw new vb("Cannot construct a user ID token without a master token.");if(0 > U || U > Mb)throw new vb("Serial number " + U + " is outside the valid range.");ta=Math.floor(ba.getTime() / 1E3);oa=Math.floor(ia.getTime() / 1E3);W=ea.serialNumber;if(na){aa=na.tokendata;da=na.signature;la=na.verified;W=ea.serialNumber;Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ta,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},serialNumber:{value:U,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},customer:{value:pa,writable:!1,configurable:!1},verified:{value:la,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:da,writable:!1,enumerable:!1,configurable:!1}});return this;}aa={};Y && (aa.issuerdata=Y);aa.identity=pa;aa=Sb(JSON.stringify(aa),Lb);Ga=Z.getMslCryptoContext();Ga.encrypt(aa,{result:function(Da){Ka(ra,function(){var Oa,Sa;Oa={};Oa.renewalwindow=ta;Oa.expiration=oa;Oa.mtserialnumber=W;Oa.serialnumber=U;Oa.userdata=Db(Da);Sa=Sb(JSON.stringify(Oa),Lb);Ga.sign(Sa,{result:function(ka){Ka(ra,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ta,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ea.serialNumber,writable:!1,configurable:!1},serialNumber:{value:U,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},customer:{value:pa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ka,writable:!1,enumerable:!1,configurable:!1}});return this;},Ca);},error:function(ka){Ka(ra,function(){ka instanceof bb && ka.setEntity(ea);throw ka;},Ca);}});},Ca);},error:function(Da){Ka(ra,function(){Da instanceof bb && Da.setEntity(ea);throw Da;},Ca);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(Z){return Z && Z.serialNumber == this.mtSerialNumber;},toJSON:function(){var Z;Z={};Z.tokendata=Db(this.tokendata);Z.signature=Db(this.signature);return Z;},equals:function(Z){return this === Z?!0:Z instanceof $c?this.serialNumber == Z.serialNumber && this.mtSerialNumber == Z.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});Uc=function(Z,ba,ia,ea){Ka(ea,function(){var U,Y,pa,na,ra;U=Z.getMslCryptoContext();Y=ba.tokendata;pa=ba.signature;if("string" !== typeof Y || "string" !== typeof pa)throw new yb(V.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(ba)).setEntity(ia);try{na=Fb(Y);}catch(Ca){throw new bb(V.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(ba),Ca).setEntity(ia);}if(!na || 0 == na.length)throw new yb(V.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(ba)).setEntity(ia);try{ra=Fb(pa);}catch(Ca){throw new bb(V.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(ba),Ca).setEntity(ia);}U.verify(na,ra,{result:function(Ca){Ka(ea,function(){var ta,oa,W,aa,da,la,Ga,Da,Oa,Sa;ta=Tb(na,Lb);try{oa=JSON.parse(ta);W=parseInt(oa.renewalwindow);aa=parseInt(oa.expiration);da=parseInt(oa.mtserialnumber);la=parseInt(oa.serialnumber);Ga=oa.userdata;}catch(ka){if(ka instanceof SyntaxError)throw new yb(V.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ta,ka).setEntity(ia);throw ka;}if(!W || W != W || !aa || aa != aa || "number" !== typeof da || da != da || "number" !== typeof la || la != la || "string" !== typeof Ga)throw new yb(V.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ta).setEntity(ia);if(aa < W)throw new bb(V.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + ta).setEntity(ia);if(0 > da || da > Mb)throw new bb(V.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ta).setEntity(ia);if(0 > la || la > Mb)throw new bb(V.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ta).setEntity(ia);Da=new Date(1E3 * W);Oa=new Date(1E3 * aa);if(!ia || da != ia.serialNumber)throw new bb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + da + "; mt " + JSON.stringify(ia)).setEntity(ia);try{Sa=Fb(Ga);}catch(ka){throw new bb(V.USERIDTOKEN_USERDATA_INVALID,Ga,ka).setEntity(ia);}if(!Sa || 0 == Sa.length)throw new bb(V.USERIDTOKEN_USERDATA_MISSING,Ga).setEntity(ia);Ca?U.decrypt(Sa,{result:function(ka){Ka(ea,function(){var va,za,Ha,Ba,Na;va=Tb(ka,Lb);try{za=JSON.parse(va);Ha=za.issuerdata;Ba=za.identity;}catch(Ea){if(Ea instanceof SyntaxError)throw new yb(V.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + va).setEntity(ia);throw Ea;}if(Ha && "object" !== typeof Ha || "object" !== typeof Ba)throw new yb(V.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + va).setEntity(ia);try{Na=qf(Ba);}catch(Ea){throw new bb(V.USERIDTOKEN_IDENTITY_INVALID,"userdata " + va,Ea).setEntity(ia);}Ba=new ha(na,ra,Ca);new $c(Z,Da,Oa,ia,la,Ha,Na,Ba,ea);});},error:function(ka){Ka(ea,function(){ka instanceof bb && ka.setEntity(ia);throw ka;});}}):(W=new ha(na,ra,Ca),new $c(Z,Da,Oa,ia,la,null,null,W,ea));});},error:function(Ca){Ka(ea,function(){Ca instanceof bb && Ca.setEntity(ia);throw Ca;});}});});};})();(function(){function ha(ba,ia){var ea,U,Y;ea=ba.tokendata;if("string" !== typeof ea)throw new yb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ba));try{U=Fb(ea);}catch(pa){throw new bb(V.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ba),pa);}if(!U || 0 == U.length)throw new yb(V.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ba));try{Y=JSON.parse(Tb(U,Lb)).name;}catch(pa){if(pa instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ba),pa);throw pa;}if(!Y)throw new yb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ba));return ia[Y]?ia[Y]:ia[""];}function Z(ba,ia,ea){this.tokendata=ba;this.signature=ia;this.verified=ea;}Kc=Bb.Class.create({init:function(ba,ia,ea,U,Y,pa,na,ra,Ca,ta){var oa;oa=this;Ka(ta,function(){var W,aa,da,la,Ga;if(U && Y && !Y.isBoundTo(U))throw new vb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");W=U?U.serialNumber:-1;aa=Y?Y.serialNumber:-1;if(Ca)return (Ga=Ca.tokendata,Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},name:{value:ia,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:pa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:na,writable:!1,configurable:!1},verified:{value:Ca.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ga,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ca.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(na){da=ne(na,ea);da.length < ea.length || (na=null,da=ea);}else (na=null,da=ea);la={};la.name=ia;-1 != W && (la.mtserialnumber=W);-1 != aa && (la.uitserialnumber=aa);la.encrypted=pa;na && (la.compressionalgo=na);if(pa && 0 < da.length)ra.encrypt(da,{result:function(Da){Ka(ta,function(){var Oa;la.servicedata=Db(Da);Oa=Sb(JSON.stringify(la),Lb);ra.sign(Oa,{result:function(Sa){Ka(ta,function(){Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},name:{value:ia,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:pa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:na,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Sa,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Sa){Ka(ta,function(){Sa instanceof bb && (Sa.setEntity(U),Sa.setUser(Y));throw Sa;});}});},oa);},error:function(Da){Ka(ta,function(){Da instanceof bb && (Da.setEntity(U),Da.setUser(Y));throw Da;});}});else {la.servicedata=Db(da);Ga=Sb(JSON.stringify(la),Lb);ra.sign(Ga,{result:function(Da){Ka(ta,function(){Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},name:{value:ia,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:pa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:na,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ga,writable:!1,enumerable:!1,configurable:!1},signature:{value:Da,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Da){Ka(ta,function(){Da instanceof bb && (Da.setEntity(U),Da.setUser(Y));throw Da;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(ba){return ba?ba instanceof ic?ba.serialNumber == this.mtSerialNumber:ba instanceof $c?ba.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var ba;ba={};ba.tokendata=Db(this.tokendata);ba.signature=Db(this.signature);return ba;},equals:function(ba){return this === ba?!0:ba instanceof Kc?this.name == ba.name && this.mtSerialNumber == ba.mtSerialNumber && this.uitSerialNumber == ba.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});Cc=function(ba,ia,ea,U,Y,pa,na,ra,Ca){new Kc(ba,ia,ea,U,Y,pa,na,ra,null,Ca);};Hd=function(ba,ia,ea,U,Y,pa){Ka(pa,function(){var na,ra,Ca,ta,oa,W,aa,da,la,Ga,Da,Oa,Sa;!Y || Y instanceof ad || (Y=ha(ia,Y));na=ia.tokendata;ra=ia.signature;if("string" !== typeof na || "string" !== typeof ra)throw new yb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ia)).setEntity(ea).setEntity(U);try{Ca=Fb(na);}catch(ka){throw new bb(V.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ia),ka).setEntity(ea).setEntity(U);}if(!Ca || 0 == Ca.length)throw new yb(V.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ia)).setEntity(ea).setEntity(U);try{ta=Fb(ra);}catch(ka){throw new bb(V.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(ia),ka).setEntity(ea).setEntity(U);}oa=Tb(Ca,Lb);try{W=JSON.parse(oa);aa=W.name;da=W.mtserialnumber?parseInt(W.mtserialnumber):-1;la=W.uitserialnumber?parseInt(W.uitserialnumber):-1;Ga=W.encrypted;Da=W.compressionalgo;Oa=W.servicedata;}catch(ka){if(ka instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"servicetokendata " + oa,ka).setEntity(ea).setEntity(U);throw ka;}if(!aa || "number" !== typeof da || da != da || "number" !== typeof la || la != la || "boolean" !== typeof Ga || Da && "string" !== typeof Da || "string" !== typeof Oa)throw new yb(V.JSON_PARSE_ERROR,"servicetokendata " + oa).setEntity(ea).setEntity(U);if(W.mtserialnumber && 0 > da || da > Mb)throw new bb(V.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(ea).setEntity(U);if(W.uitserialnumber && 0 > la || la > Mb)throw new bb(V.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(ea).setEntity(U);if(-1 != da && (!ea || da != ea.serialNumber))throw new bb(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + da + "; mt " + ea).setEntity(ea).setEntity(U);if(-1 != la && (!U || la != U.serialNumber))throw new bb(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + la + "; uit " + U).setEntity(ea).setEntity(U);Ga=!0 === Ga;if(Da){if(!Pc[Da])throw new bb(V.UNIDENTIFIED_COMPRESSION,Da);Sa=Da;}else Sa=null;Y?Y.verify(Ca,ta,{result:function(ka){Ka(pa,function(){var va,za;if(ka){try{va=Fb(Oa);}catch(Ha){throw new bb(V.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa,Ha).setEntity(ea).setEntity(U);}if(!va || 0 != Oa.length && 0 == va.length)throw new bb(V.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa).setEntity(ea).setEntity(U);if(Ga && 0 < va.length)Y.decrypt(va,{result:function(Ha){Ka(pa,function(){var Ba,Na;Ba=Sa?Id(Sa,Ha):Ha;Na=new Z(Ca,ta,ka);new Kc(ba,aa,Ba,-1 != da?ea:null,-1 != la?U:null,Ga,Sa,Y,Na,pa);});},error:function(Ha){Ka(pa,function(){Ha instanceof bb && (Ha.setEntity(ea),Ha.setUser(U));throw Ha;});}});else {va=Sa?Id(Sa,va):va;za=new Z(Ca,ta,ka);new Kc(ba,aa,va,-1 != da?ea:null,-1 != la?U:null,Ga,Sa,Y,za,pa);}}else (va="" == Oa?new Uint8Array(0):null,za=new Z(Ca,ta,ka),new Kc(ba,aa,va,-1 != da?ea:null,-1 != la?U:null,Ga,Sa,Y,za,pa));});},error:function(ka){Ka(pa,function(){ka instanceof bb && (ka.setEntity(ea),ka.setUser(U));throw ka;});}}):(na="" == Oa?new Uint8Array(0):null,ra=new Z(Ca,ta,!1),new Kc(ba,aa,na,-1 != da?ea:null,-1 != la?U:null,Ga,Sa,Y,ra,pa));});};})();$b={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze($b);(function(){Hc=Bb.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ha){return this === ha?!0:ha instanceof Hc?this.scheme == ha.scheme:!1;},toJSON:function(){var ha;ha={};ha.scheme=this.scheme;ha.authdata=this.getAuthData();return ha;}});ef=function(ha,Z,ba,ia){Ka(ia,function(){var ea,U,Y;ea=ba.scheme;U=ba.authdata;if(!ea || !U)throw new yb(V.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(ba));if(!$b[ea])throw new Gb(V.UNIDENTIFIED_USERAUTH_SCHEME,ea);Y=ha.getUserAuthenticationFactory(ea);if(!Y)throw new Gb(V.USERAUTH_FACTORY_NOT_FOUND,ea);Y.createData(ha,Z,U,ia);});};})();md=Bb.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},createData:function(ha,Z,ba,ia){},authenticate:function(ha,Z,ba,ia){}});(function(){Xc=Hc.extend({init:function ia(Z,ba){ia.base.call(this,$b.NETFLIXID);Object.defineProperties(this,{netflixId:{value:Z,writable:!1,configurable:!1},secureNetflixId:{value:ba,writable:!1,configurable:!1}});},getAuthData:function(){var Z;Z={};Z.netflixid=this.netflixId;this.secureNetflixId && (Z.securenetflixid=this.secureNetflixId);return Z;},equals:function ia(ba){return this === ba?!0:ba instanceof Xc?ia.base.call(this,ba) && this.netflixId == ba.netflixId && this.secureNetflixId == ba.secureNetflixId:!1;}});rf=function(ba){var ia,ea;ia=ba.netflixid;ea=ba.securenetflixid;if(!ia)throw new yb(V.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(ba));return new Xc(ia,ea);};})();Uf=md.extend({init:function Z(){Z.base.call(this,$b.NETFLIXID);},createData:function(Z,ba,ia,ea){Ka(ea,function(){return rf(ia);});},authenticate:function(Z,ba,ia,ea){if(!(ia instanceof Xc))throw new vb("Incorrect authentication data type " + ia + ".");Z=ia.secureNetflixId;if(!ia.netflixId || !Z)throw new Gb(V.NETFLIXID_COOKIES_BLANK).setUser(ia);throw new Gb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ia);}});(function(){nd=Hc.extend({init:function ea(ba,ia){ea.base.call(this,$b.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:ba,writable:!1,configurable:!1},password:{value:ia,writable:!1,configurable:!1}});},getAuthData:function(){var ba;ba={};ba.email=this.email;ba.password=this.password;return ba;},equals:function ea(ia){return this === ia?!0:ia instanceof nd?ea.base.call(this,this,ia) && this.email == ia.email && this.password == ia.password:!1;}});sf=function(ia){var ea,U;ea=ia.email;U=ia.password;if(!ea || !U)throw new yb(V.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(ia));return new nd(ea,U);};})();Vf=md.extend({init:function ba(){ba.base.call(this,$b.EMAIL_PASSWORD);},createData:function(ba,ia,ea,U){Ka(U,function(){return sf(ea);});},authenticate:function(ba,ia,ea,U){if(!(ea instanceof nd))throw new vb("Incorrect authentication data type " + ea + ".");ba=ea.password;if(!ea.email || !ba)throw new Gb(V.EMAILPASSWORD_BLANK).setUser(ea);throw new Gb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ea);}});(function(){var U,Y,pa,na,ra,Ca,ta,oa;function ba(W,aa){return "<" + W + ">" + aa + "</" + W + ">";}function ia(W){return W.replace(/[<>&"']/g,function(aa){return ra[aa];});}function ea(W){return encodeURIComponent(W).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}U=Ld={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};Y=Bb.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});pa=pe=Y.extend({init:function(W,aa,da,la,Ga,Da,Oa){var va;function Sa(za){Ka(Oa,function(){var Ha,Ba;try{Ha={};Ha.useridtoken=W;Ha.action=aa;Ha.nonce=da;Ha.pin=Db(za);Ba=Sb(JSON.stringify(Ha),Lb);}catch(Na){throw new yb(V.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Na);}Ga.sign(Ba,{result:function(Na){ka(Ba,Na);},error:Oa.error});},va);}function ka(za,Ha){Ka(Oa,function(){Object.defineProperties(this,{_userIdToken:{value:W,writable:!1,enumerable:!1,configurable:!1},_action:{value:aa,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:da,writable:!1,enumerable:!1,configurable:!1},_pin:{value:la,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:za,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ha,writable:!1,enumerable:!1,configurable:!1}});return this;},va);}va=this;Ka(Oa,function(){Da?ka(Da.encoding,Da.signature):Ga.encrypt(Sb(la,Lb),{result:function(za){Sa(za);},error:Oa.error});},va);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof pa?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin && this._userIdToken.equals(W._userIdToken):!1;}});pe.ACTION="userauth";na=function(W,aa,da,la,Ga){function Da(Sa){Ka(Ga,function(){var ka,va,za,Ha,Ba,Na;ka=Tb(da,Lb);try{va=JSON.parse(ka);za=va.useridtoken;Ha=va.action;Ba=va.nonce;Na=va.pin;}catch(Ea){if(Ea instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + ka,Ea);throw Ea;}if(!(za && "object" === typeof za && Ha && "string" === typeof Ha && Ba && "number" === typeof Ba && Na) || "string" !== typeof Na)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + ka);Uc(W,za,aa,{result:function(Ea){Ka(Ga,function(){if(!Ea.isDecrypted())throw new Gb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + ka);Oa(Sa,Ea,Ha,Ba,Na);});},error:function(Ea){Ka(Ga,function(){if(Ea instanceof bb)throw new Gb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + ka,Ea);throw Ea;});}});});}function Oa(Sa,ka,va,za,Ha){Ka(Ga,function(){var Ba;Ba=Fb(Ha);Sa.decrypt(Ba,{result:function(Na){Ka(Ga,function(){var Ea;Ea=Tb(Na,Lb);new pa(ka,va,za,Ea,null,{encoding:da,signature:la},Ga);});},error:Ga.error});});}Ka(Ga,function(){var Sa,ka;try{Sa=W.getMslStore().getCryptoContext(aa);ka=Sa?Sa:new jc(W,aa);}catch(va){if(va instanceof Rc)throw new Gb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + Db(da));throw va;}ka.verify(da,la,{result:function(va){Ka(Ga,function(){if(!va)throw new tb(V.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(da));Da(ka);});},error:Ga.error});});};ra={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};Ca=od=Y.extend({init:function(W,aa,da,la){var Ga,Da;Ga=ba("action",ia(W));Da=ba("nonce",aa.toString());da=ba("pin",da);Ga=ba("registerdata",Ga + Da + da);Ga=Sb(Ga,"utf-8");Object.defineProperties(this,{_action:{value:W,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:aa,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_signature:{value:la,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof Ca?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin:!1;}});od.ACTION="regpairrequest";ta=qe=Y.extend({init:function(W,aa,da,la,Ga,Da){var ka;function Oa(va){Ka(Da,function(){var za,Ha,Ba,Na,Ea;za=Db(va);Ha=ba("action",ia(W));Ba=ba("nonce",aa.toString());Na=ba("pin",za);Ha=ba("registerdata",Ha + Ba + Na);Ea=Sb(Ha,"utf-8");za="action=" + ea(W) + "&nonce=" + ea(aa.toString()) + "&pin=" + ea(za);la.sign(Sb(za,"utf-8"),{result:function(Wa){Sa(Ea,Wa);},error:Da.error});},ka);}function Sa(va,za){Ka(Da,function(){Object.defineProperties(this,{_action:{value:W,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:aa,writable:!1,enumerable:!1,configurable:!1},_pin:{value:da,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:va,writable:!1,enumerable:!1,configurable:!1},_signature:{value:za,writable:!1,enumerable:!1,configurable:!1}});return this;},ka);}ka=this;Ka(Da,function(){Ga?Sa(Ga.encoding,Ga.signature):la.encrypt(Sb(da,"utf-8"),{result:function(va){Oa(va);},error:Da.error});},ka);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof ta?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin:!1;}});qe.ACTION=od.ACTION;oa=function(W,aa,da,la,Ga){Ka(Ga,function(){var Da,Oa,Sa,ka,va,za,Ha;Da=W.getMslStore().getCryptoContext(aa);Oa=Da?Da:new jc(W,aa);Da=Tb(da,"utf-8");Sa=new DOMParser().parseFromString(Da,"application/xml");Da=Sa.getElementsByTagName("action");ka=Sa.getElementsByTagName("nonce");Sa=Sa.getElementsByTagName("pin");va=Da && 1 == Da.length && Da[0].firstChild?Da[0].firstChild.nodeValue:null;za=ka && 1 == ka.length && ka[0].firstChild?parseInt(ka[0].firstChild.nodeValue):null;Ha=Sa && 1 == Sa.length && Sa[0].firstChild?Sa[0].firstChild.nodeValue:null;if(!va || !za || !Ha)throw new yb(V.XML_PARSE_ERROR,"MDX authdata " + Db(da));Da="action=" + ea(va) + "&nonce=" + ea(za.toString()) + "&pin=" + ea(Ha);Oa.verify(Sb(Da,"utf-8"),la,{result:function(Ba){Ka(Ga,function(){var Na;if(!Ba)throw new tb(V.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Db(da));Na=Fb(Ha);Oa.decrypt(Na,{result:function(Ea){Ka(Ga,function(){var Wa;Wa=Tb(Ea,"utf-8");new ta(va,za,Wa,null,{encoding:da,signature:la},Ga);});},error:Ga.error});});},error:Ga.error});});};dd=Hc.extend({init:function Sa(aa,da,la,Ga,Da,Oa){var ka,va,za,Ha,Ba,Na;Sa.base.call(this,$b.MDX);ka=null;va=null;za=null;if("string" === typeof la)(aa=U.MSL_LEGACY,za=la);else if(la instanceof Uint8Array)(aa=U.NTBA,va=la);else if(la instanceof ic)(aa=U.MSL,ka=la);else throw new TypeError("Controller token " + la + " is not a master token, encrypted CTicket, or MSL token construct.");Ha=la=null;Ba=null;if(Oa){Na=Oa.controllerAuthData;la=Na.getAction();Ha=Na.getPin();Oa=Oa.userIdToken;Na instanceof pa?Ba=Na.getUserIdToken().customer:Oa && (Ba=Oa.customer);}Object.defineProperties(this,{mechanism:{value:aa,writable:!1,configurable:!1},action:{value:la,writable:!1,configurable:!1},targetPin:{value:da,writable:!1,configurable:!1},controllerPin:{value:Ha,writable:!1,configurable:!1},customer:{value:Ba,writable:!1,configurable:!1},_masterToken:{value:ka,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:va,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:za,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Da,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var aa,da;aa={};switch(this.mechanism){case U.MSL:da=JSON.parse(JSON.stringify(this._masterToken));aa.mastertoken=da;break;case U.NTBA:da=Tb(this._encryptedCTicket,"utf-8");aa.cticket=da;break;case U.MSL_LEGACY:aa.cticket=this._mslTokens;break;default:throw new vb("Unsupported MDX mechanism.");}aa.pin=this.targetPin;aa.mdxauthdata=Db(this._controllerEncoding);aa.signature=Db(this._signature);return aa;},equals:function la(da){return this === da?!0:da instanceof dd?la.base.call(this,da) && (this._masterToken == da._masterToken || this._masterToken && this._masterToken.equals(da._masterToken)) && (this._encryptedCTicket == da._encryptedCTicket || this._encryptedCTicket && Xb(this._encryptedCTicket,da._encryptedCTicket)) && this._mslTokens == da._mslTokens && Xb(this._controllerEncoding,da._controllerEncoding) && Xb(this._signature,da._signature):!1;}});tf=function(da,la,Ga){function Da(ka,va,za,Ha){Tc(da,va,{result:function(Ba){Ka(Ga,function(){if(!Ba.isDecrypted())throw new Gb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + la.toString());na(da,Ba,za,Ha,{result:function(Na){Ka(Ga,function(){var Ea,Wa;Ea=Na.getEncoding();Wa=Na.getSignature();return new dd(da,ka,Ba,Ea,Wa,{controllerAuthData:Na,userIdToken:null});});},error:Ga.error});});},error:function(Ba){Ka(Ga,function(){if(Ba instanceof bb)throw new Gb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(la),Ba);throw Ba;});}});}function Oa(ka,va,za,Ha){Ka(Ga,function(){throw new Gb(V.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function Sa(ka,va,za,Ha){function Ba(Ea,Wa){Ka(Wa,function(){var Za,Xa;try{Za=Fb(Ea);}catch(ib){throw new Gb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(la),ib);}if(!Za || 0 == Za.length)throw new Gb(V.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata " + JSON.stringify(la));try{Xa=JSON.parse(Tb(Za,"utf-8"));Tc(da,Xa,{result:function(ib){Ka(Wa,function(){if(!ib.isDecrypted())throw new Gb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + la.toString());return ib;});},error:function(ib){Ka(Wa,function(){if(ib instanceof bb)throw new Gb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(la),ib);throw ib;});}});}catch(ib){if(ib instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(la),ib);throw ib;}});}function Na(Ea,Wa,Za){Ka(Za,function(){var Xa,ib;try{Xa=Fb(Ea);}catch(mb){throw new Gb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(la),mb);}if(!Xa || 0 == Xa.length)throw new Gb(V.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata " + JSON.stringify(la));try{ib=JSON.parse(Tb(Xa,"utf-8"));Uc(da,ib,Wa,{result:function(mb){Ka(Za,function(){if(!mb.isDecrypted())throw new Gb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(la));return mb;});},error:function(mb){Ka(Za,function(){if(mb instanceof bb)throw new Gb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(la),mb);throw mb;});}});}catch(mb){if(mb instanceof SyntaxError)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(la),mb);throw mb;}});}Ka(Ga,function(){var Ea;Ea=va.split(",");if(3 != Ea.length || "1" != Ea[0])throw new Gb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(la));Ba(Ea[1],{result:function(Wa){Na(Ea[2],Wa,{result:function(Za){oa(da,Wa,za,Ha,{result:function(Xa){Ka(Ga,function(){return new dd(da,ka,va,za,Ha,{controllerAuthData:Xa,userIdToken:Za});});},error:function(Xa){Ka(Ga,function(){if(Xa instanceof Rc)throw new Gb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(la),Xa);throw Xa;});}});},error:Ga.error});},error:Ga.error});});}Ka(Ga,function(){var ka,va,za,Ha,Ba;ka=la.pin;va=la.mdxauthdata;za=la.signature;if(!ka || "string" !== typeof ka || !va || "string" !== typeof va || !za || "string" !== typeof za)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(la));try{Ha=Fb(va);Ba=Fb(za);}catch(Na){throw new Gb(V.MDX_CONTROLLERDATA_INVALID,"MDX authdata " + JSON.stringify(la),Na);}if(la.mastertoken){va=la.mastertoken;if(!va || "object" !== typeof va)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(la));Da(ka,va,Ha,Ba);}else if(la.cticket){va=la.cticket;if(!va || "string" !== typeof va)throw new yb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(la));-1 == va.indexOf(",")?Oa(ka,va,Ha,Ba):Sa(ka,va,Ha,Ba);}else throw new Gb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(la));});};})();(function(){var ba,ia,ea;ba=pe.ACTION;ia=od.ACTION;ea=qe.ACTION;uf=md.extend({init:function Y(){Y.base.call(this,$b.MDX);},createData:function(Y,pa,na,ra){tf(Y,na,ra);},authenticate:function(Y,pa,na,ra){if(!(na instanceof dd))throw new vb("Incorrect authentication data type " + na.getClass().getName() + ".");Y=na.action;switch(na.mechanism){case Ld.MSL:if(ba != Y)throw new Gb(V.MDX_USERAUTH_ACTION_INVALID).setUser(na);break;case Ld.NTBA:if(ia != Y)throw new Gb(V.MDX_USERAUTH_ACTION_INVALID).setUser(na);break;case Ld.MSL_LEGACY:if(ea != Y)throw new Gb(V.MDX_USERAUTH_ACTION_INVALID).setUser(na);}Y=na.controllerPin;pa=na.targetPin;if(!Y || !pa)throw new Gb(V.MDX_PIN_BLANK).setUser(na);if(Y != pa)throw new Gb(V.MDX_PIN_MISMATCH).setUser(na);Y=na.customer;if(!Y)throw new Gb(V.MDX_USER_UNKNOWN).setUser(na);if(ra && (ra=ra.customer,!Y.equals(ra)))throw new Gb(V.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer " + Y + "; uit customer " + ra).setUser(na);return Y;}});})();(function(){var ba,ia,ea;ba={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};ia=wf=Bb.Class.create({init:function(U,Y){Object.defineProperties(this,{email:{value:U,writable:!1,enumerable:!0,configurable:!1},password:{value:Y,writable:!1,enumerable:!0,configurable:!1}});}});ea=xf=Bb.Class.create({init:function(U,Y){Object.defineProperties(this,{netflixId:{value:U,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:Y,writable:!1,enumerable:!0,configurable:!1}});}});pd=Hc.extend({init:function Ca(Y,pa,na,ra){var ta,oa,W,aa;Ca.base.call(this,$b.SSO);ta=null;oa=null;W=null;aa=null;na instanceof ia?(ta=na.email,oa=na.password):na instanceof ea && (W=na.netflixId,aa=na.secureNetflixId);Object.defineProperties(this,{mechanism:{value:Y,writable:!1,configurable:!1},token:{value:pa,writable:!1,configurable:!1},email:{value:ta,writable:!1,configurable:!1},password:{value:oa,writable:!1,configurable:!1},netflixId:{value:W,writable:!1,configurable:!1},secureNetflixId:{value:aa,writable:!1,configurable:!1},profileGuid:{value:"undefined" === typeof ra?null:ra,writable:!1,configurable:!1}});},getAuthData:function(){var Y;Y={};Y.mechanism=this.mechanism;Y.token=Db(this.token);this.email && this.password?(Y.email=this.email,Y.password=this.password):this.netflixId && this.secureNetflixId && (Y.netflixid=this.netflixId,Y.securenetflixid=this.secureNetflixId);this.profileGuid && (Y.profileguid=this.profileGuid);return Y;},equals:function na(pa){return this === pa?!0:pa instanceof pd?na.base.call(this,pa) && this.mechanism == pa.mechanism && Xb(this.token,pa.token) && this.email == pa.email && this.password == pa.password && this.netflixId == pa.netflixId && this.secureNetflixId == pa.secureNetflixId && this.profileGuid == pa.profileGuid:!1;}});vf=function(pa){var na,ra,Ca,ta,oa,W,aa,da,la;na=pa.mechanism;ra=pa.token;if(!na || !ra || "string" !== typeof ra)throw new yb(V.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(pa));if(!ba[na])throw new Gb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata " + JSON.stringify(pa));Ca=pa.email;ta=pa.password;oa=pa.netflixid;W=pa.securenetflixid;aa=pa.profileguid;if(Ca && !ta || !Ca && ta || oa && !W || !oa && W || Ca && oa)throw new yb(V.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(pa));try{da=Fb(ra);}catch(Ga){throw new Gb(V.SSOTOKEN_INVALID,"SSO authdata " + JSON.stringify(pa),Ga);}Ca && ta?la=new ia(Ca,ta):oa && W && (la=new ea(oa,W));return new pd(na,da,la,aa);};})();Wf=md.extend({init:function ia(){ia.base.call(this,$b.SSO);},createData:function(ia,ea,U,Y){Ka(Y,function(){return vf(U);});},authenticate:function(ia,ea,U,Y){var pa,na;if(!(U instanceof pd))throw new vb("Incorrect authentication data type " + U + ".");ia=U.token;ea=U.email;Y=U.password;pa=U.netflixId;na=U.secureNetflixId;if(!ia || 0 == ia.length)throw new Gb(V.SSOTOKEN_BLANK);if(!(null === ea && null === Y || ea && Y))throw new Gb(V.EMAILPASSWORD_BLANK);if(!(null === pa && null === na || pa && na))throw new Gb(V.NETFLIXID_COOKIES_BLANK).setUser(U);throw new Gb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(U);}});(function(){qd=Hc.extend({init:function Y(ea,U){Y.base.call(this,$b.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:ea,writable:!1,configurable:!1},profileGuid:{value:U,writable:!1,configurable:!1}});},getAuthData:function(){var ea;ea={};ea.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));ea.profileguid=this.profileGuid;return ea;},equals:function Y(U){return this == U?!0:U instanceof qd?Y.base.call(this,U) && this.userIdToken.equals(U.userIdToken) && this.profileGuid == U.profileGuid:!1;}});yf=function(U,Y,pa,na){Ka(na,function(){var ra,Ca;if(!Y)throw new Gb(V.USERAUTH_MASTERTOKEN_MISSING);ra=pa.useridtoken;Ca=pa.profileguid;if("object" !== typeof ra || "string" !== typeof Ca)throw new yb(V.JSON_PARSE_ERROR,"switch profile authdata " + JSON.stringify(pa));Uc(U,ra,Y,{result:function(ta){Ka(na,function(){if(!ta.isDecrypted())throw new Gb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata " + JSON.stringify(pa));return new qd(ta,Ca);});},error:function(ta){na.error(new Gb(V.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata " + JSON.stringify(pa),ta));}});});};})();Xf=md.extend({init:function U(ea){U.base.call(this,$b.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:ea,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ea,U,Y,pa){yf(ea,U,Y,pa);},authenticate:function(ea,U,Y,pa){if(!(Y instanceof qd))throw new vb("Incorrect authentication data type " + Y + ".");U=Y.userIdToken;ea=Y.profileGuid;if(!ea)throw new Gb(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(Y);U=U.user;if(!U)throw new Gb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(Y);ea=this._store.switchUsers(U,ea);if(!ea)throw new Gb(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(Y);if(pa && (pa=pa.user,!ea.equals(pa)))throw new Gb(V.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user " + ea + "; uit user " + pa).setUserAuthenticationData(Y);return ea;}});Object.freeze({ENTITY_REAUTH:Ja.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ja.ENTITYDATA_REAUTH});Yf=Bb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(ea,U){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(ea){},getUserAuthenticationFactory:function(ea){},getTokenFactory:function(){},getKeyExchangeFactory:function(ea){},getKeyExchangeFactories:function(){},getMslStore:function(){}});zf=Bb.Class.create({setCryptoContext:function(ea,U){},getMasterToken:function(){},getNonReplayableId:function(ea){},getCryptoContext:function(ea){},removeCryptoContext:function(ea){},clearCryptoContexts:function(){},addUserIdToken:function(ea,U){},getUserIdToken:function(ea){},removeUserIdToken:function(ea){},clearUserIdTokens:function(){},addServiceTokens:function(ea){},getServiceTokens:function(ea,U){},removeServiceTokens:function(ea,U,Y){},clearServiceTokens:function(){}});(function(){var ea;ea=Pc;ne=function(U,Y){var pa;pa={};switch(U){case ea.LZW:return Be(Y,pa);case ea.GZIP:return gzip$compress(Y);default:throw new bb(V.UNSUPPORTED_COMPRESSION,U);}};Id=function(U,Y,pa){switch(U){case ea.LZW:return Ce(Y);case ea.GZIP:return gzip$uncompress(Y);default:throw new bb(V.UNSUPPORTED_COMPRESSION,U.name());}};})();zf.extend({setCryptoContext:function(ea,U){},getMasterToken:function(){return null;},getNonReplayableId:function(ea){return 1;},getCryptoContext:function(ea){return null;},removeCryptoContext:function(ea){},clearCryptoContexts:function(){},addUserIdToken:function(ea,U){},getUserIdToken:function(ea){return null;},removeUserIdToken:function(ea){},clearUserIdTokens:function(){},addServiceTokens:function(ea){},getServiceTokens:function(ea,U){if(U){if(!ea)throw new bb(V.USERIDTOKEN_MASTERTOKEN_NULL);if(!U.isBoundTo(ea))throw new bb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + U.mtSerialNumber + "; mt " + ea.serialNumber);}return [];},removeServiceTokens:function(ea,U,Y){if(Y && U && !Y.isBoundTo(U))throw new bb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Y.masterTokenSerialNumber + "; mt " + U.serialNumber);},clearServiceTokens:function(){}});(function(){Af=zf.extend({init:function U(){U.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(U,Y){var pa;if(Y){pa=U.uniqueKey();this.masterTokens[pa]=U;this.cryptoContexts[pa]=Y;}else this.removeCryptoContext(U);},getMasterToken:function(){var U,Y,pa;U=null;for(Y in this.masterTokens){pa=this.masterTokens[Y];if(!U || pa.isNewerThan(U))U=pa;}return U;},getNonReplayableId:function(U){var Y;U=U.serialNumber;Y=this.nonReplayableIds[U] !== Ab?this.nonReplayableIds[U]:0;if(0 > Y || Y > Mb)throw new vb("Non-replayable ID " + Y + " is outside the valid range.");Y=Y == Mb?0:Y + 1;return this.nonReplayableIds[U]=Y;},getCryptoContext:function(U){return this.cryptoContexts[U.uniqueKey()];},removeCryptoContext:function(U){var Y,pa,na,ra;Y=U.uniqueKey();if(this.masterTokens[Y]){pa=U.serialNumber;for(na in this.masterTokens){ra=this.masterTokens[na];if(!ra.equals(U) && ra.serialNumber == pa){delete this.masterTokens[Y];delete this.cryptoContexts[Y];return;}}Object.keys(this.userIdTokens).forEach(function(Ca){Ca=this.userIdTokens[Ca];Ca.isBoundTo(U) && this.removeUserIdToken(Ca);},this);try{this.removeServiceTokens(null,U,null);}catch(Ca){if(Ca instanceof bb)throw new vb("Unexpected exception while removing master token bound service tokens.",Ca);throw Ca;}delete this.nonReplayableIds[pa];delete this.masterTokens[Y];delete this.cryptoContexts[Y];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(U){for(var Y in U){delete U[Y];}},this);},addUserIdToken:function(U,Y){var pa,na;pa=!1;for(na in this.masterTokens){if(Y.isBoundTo(this.masterTokens[na])){pa=!0;break;}}if(!pa)throw new bb(V.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + Y.mtSerialNumber);this.userIdTokens[U]=Y;},getUserIdToken:function(U){return this.userIdTokens[U];},removeUserIdToken:function(U){var Y,pa,na;Y=null;for(pa in this.masterTokens){na=this.masterTokens[pa];if(U.isBoundTo(na)){Y=na;break;}}Object.keys(this.userIdTokens).forEach(function(ra){if(this.userIdTokens[ra].equals(U)){try{this.removeServiceTokens(null,Y,U);}catch(Ca){if(Ca instanceof bb)throw new vb("Unexpected exception while removing user ID token bound service tokens.",Ca);throw Ca;}delete this.userIdTokens[ra];}},this);},clearUserIdTokens:function(){for(var U in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[U]);}},addServiceTokens:function(U){U.forEach(function(Y){var pa,na;if(Y.isMasterTokenBound()){pa=!1;for(na in this.masterTokens){if(Y.isBoundTo(this.masterTokens[na])){pa=!0;break;}}if(!pa)throw new bb(V.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + Y.mtSerialNumber);}if(Y.isUserIdTokenBound()){pa=!1;for(var ra in this.userIdTokens){if(Y.isBoundTo(this.userIdTokens[ra])){pa=!0;break;}}if(!pa)throw new bb(V.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + Y.uitSerialNumber);}},this);U.forEach(function(Y){var pa;if(Y.isUnbound())this.unboundServiceTokens[Y.uniqueKey()]=Y;else {if(Y.isMasterTokenBound()){pa=this.mtServiceTokens[Y.mtSerialNumber];pa || (pa={});pa[Y.uniqueKey()]=Y;this.mtServiceTokens[Y.mtSerialNumber]=pa;}Y.isUserIdTokenBound() && ((pa=this.uitServiceTokens[Y.uitSerialNumber]) || (pa={}),pa[Y.uniqueKey()]=Y,this.uitServiceTokens[Y.uitSerialNumber]=pa);}},this);},getServiceTokens:function(U,Y){var pa,na,ra;if(Y){if(!U)throw new bb(V.USERIDTOKEN_MASTERTOKEN_NULL);if(!Y.isBoundTo(U))throw new bb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Y.mtSerialNumber + "; mt " + U.serialNumber);}pa={};for(na in this.unboundServiceTokens){ra=this.unboundServiceTokens[na];pa[ra.uniqueKey()]=ra;}if(U && (na=this.mtServiceTokens[U.serialNumber]))for(var Ca in na){ra=na[Ca];ra.isUserIdTokenBound() || (pa[Ca]=ra);}if(Y && (Y=this.uitServiceTokens[Y.serialNumber]))for(var ta in Y){Ca=Y[ta];Ca.isBoundTo(U) && (pa[ta]=Ca);}U=[];for(var oa in pa){U.push(pa[oa]);}return U;},removeServiceTokens:function(U,Y,pa){var na,ra,Ca;if(pa && Y && !pa.isBoundTo(Y))throw new bb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + pa.mtSerialNumber + "; mt " + Y.serialNumber);!U || Y || pa || Object.keys(this.unboundServiceTokens).forEach(function(ta){this.unboundServiceTokens[ta].name == U && delete this.unboundServiceTokens[ta];},this);if(Y && !pa && (na=this.mtServiceTokens[Y.serialNumber])){Ca=Object.keys(na);Ca.forEach(function(ta){var oa;oa=na[ta];U && oa.name != U || delete na[ta];},this);this.mtServiceTokens[Y.serialNumber]=na;}pa && (ra=this.uitServiceTokens[pa.serialNumber]) && (Y=Object.keys(ra),Y.forEach(function(ta){var oa;oa=ra[ta];U && oa.name != U || delete ra[ta];},this),this.uitServiceTokens[pa.serialNumber]=ra);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(U){for(var Y in U){delete U[Y];}},this);}});})();Gf=Rf.extend({init:function U(){U.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(U,Y){Y && U && U.length && (U=Db(U),this._contextMap[U]=Y);},getCryptoContext:function(U){return U && U.length?(U=Db(U),this._contextMap[U] || null):null;},removeCryptoContext:function(U){U && U.length && (U=Db(U),delete this._contextMap[U]);}});Bf=Jf.extend({init:function Ca(Y,pa,na,ra){Ca.base.call(this,Y);Object.defineProperties(this,{_kde:{value:pa,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:na,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:ra,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(Y,pa){if(!(pa instanceof nc))throw new vb("Incorrect authentication data type " + JSON.stringify(pa) + ".");if(pa.identity != this.localIdentity)throw new wc(V.ENTITY_NOT_FOUND,"mgk " + pa.identity);return new Bd(Y,this.localIdentity,this._kde,this._kdh,this._kdw);}});Zf=Kf.extend({init:function ta(pa,na,ra,Ca){ta.base.call(this,pa);Object.defineProperties(this,{_kpe:{value:na,writable:!1,enumerable:!1,configurable:!1},_kph:{value:ra,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:Ca,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(pa,na){if(!(na instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(na) + ".");if(na.identity != this.localIdentity)throw new wc(V.ENTITY_NOT_FOUND,"psk " + na.identity);return new Bd(pa,this.localIdentity,this._kpe,this._kph,this._kpw);}});ag=Af.extend({init:function aa(na,ra,Ca,ta,oa,W){aa.base.call(this);this._log=na;this._esn=ra;this._keyRequestData=Ca;this._createKeyRequestData=ta;this._systemKeyName=oa;this._systemKeyWrapFormat=W;},setCryptoContext:function oa(ra,Ca,ta){var W;W=this;W._log.trace("Adding MasterToken",{SequenceNumber:ra.sequenceNumber,SerialNumber:ra.serialNumber,Expiration:ra.expiration.getTime()});oa.base.call(this,ra,Ca);!ta && (ra=W._createKeyRequestData) && (W._log.trace("Generating new keyx request data"),ra().then(function(aa){W._keyRequestData=aa;},function(aa){W._log.error("Unable to generate new keyx request data","" + aa);}));},addUserIdToken:function oa(Ca,ta){this._log.trace("Adding UserIdToken",{UserId:Ca,SerialNumber:ta.serialNumber,MTSerialNumber:ta.mtSerialNumber,Expiration:ta.expiration.getTime()});oa.base.call(this,Ca,ta);},addServiceTokens:function oa(ta){oa.base.call(this,ta.filter(function(W){return !$f[W.name];}));},getUserIdTokenKeys:function(){var ta,oa;ta=[];for(oa in this.userIdTokens){ta.push(oa);}return ta;},rekeyUserIdToken:function(ta,oa){this.userIdTokens[ta] && (this.userIdTokens[oa]=this.userIdTokens[ta],delete this.userIdTokens[ta]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(ta){var oa;oa=this;Ka(ta,function(){var W;W=oa.getMasterToken();W?oa.getKeysForStore(W,{result:function(aa){Ka(ta,function(){var da,la,Ga;da=oa.userIdTokens;la=Object.keys(da).map(function(Da){var Oa;Oa=da[Da];return {userId:Da,userIdTokenJSON:da[Da].toJSON(),serviceTokenJSONList:oa.getServiceTokens(W,Oa).map(Df)};});aa.esn=oa._esn;aa.masterTokenJSON=W.toJSON();aa.userList=la;Ga=oa._keyRequestData.storeData;Ga && Object.keys(Ga).forEach(function(Da){aa[Da]=Ga[Da];});return aa;});},timeout:ta.timeout,error:ta.error}):ta.result(null);});},getKeysForStore:function(ta,oa){var W;W=this;Ka(oa,function(){var aa;aa=W.getCryptoContext(ta);aa={encryptionKey:aa.encryptionKey,hmacKey:aa.hmacKey};if(aa.encryptionKey && aa.hmacKey){if(W._systemKeyWrapFormat)W.wrapKeysWithSystemKey(aa,oa);else return aa;}else throw new bb(V.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(ta,oa){var W;W=this;ve(this._systemKeyName,{result:function(aa){Ka(oa,function(){var da,la,Ga,Da;da=ta.encryptionKey;la=ta.hmacKey;Ga=da[ed];Da=la[ed];if(Ga && Da)return {wrappedEncryptionKey:Ga,wrappedHmacKey:Da};Promise.resolve().then(function(){return Promise.all([Jb.wrapKey(W._systemKeyWrapFormat,da,aa,aa.algorithm),Jb.wrapKey(W._systemKeyWrapFormat,la,aa,aa.algorithm)]);}).then(function(Oa){Ga=Db(Oa[0]);da[ed]=Ga;Da=Db(Oa[1]);la[ed]=Da;oa.result({wrappedEncryptionKey:Ga,wrappedHmacKey:Da});}).catch(function(Oa){oa.error(new bb(V.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Oa));});});},timeout:oa.timeout,error:oa.error});},unwrapKeysWithSystemKey:function(ta,oa){var W;W=this;ve(this._systemKeyName,{result:function(aa){Ka(oa,function(){var da,la;da=Fb(ta.wrappedEncryptionKey);la=Fb(ta.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Jb.unwrapKey(W._systemKeyWrapFormat,da,aa,aa.algorithm,rc,!1,Ic),Jb.unwrapKey(W._systemKeyWrapFormat,la,aa,aa.algorithm,sc,!1,Sc)]);}).then(function(Ga){var Da;Da=Ga[0];Ga=Ga[1];Da[ed]=ta.wrappedEncryptionKey;Ga[ed]=ta.wrappedHmacKey;oa.result({encryptionKey:Da,hmacKey:Ga});}).catch(function(Ga){oa.error(new bb(V.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",Ga));});});},timeout:oa.timeout,error:oa.error});},loadStoreState:function(ta,oa,W,aa){var Ga,Da;function da(Oa,Sa){var ka;try{ka=W.userList.slice();}catch(va){}ka?(function za(){var Ha;Ha=ka.shift();Ha?Uc(oa,Ha.userIdTokenJSON,Oa,{result:function(Ba){try{Ga.addUserIdToken(Ha.userId,Ba);la(Oa,Ba,Ha.serviceTokenJSONList,{result:za,timeout:za,error:za});}catch(Na){za();}},timeout:za,error:za}):Sa.result();})():Sa.result();}function la(Oa,Sa,ka,va){var za,Ha;try{za=ka.slice();}catch(Ba){}if(za){Ha=Ga.getCryptoContext(Oa);(function Na(){var Ea;Ea=za.shift();Ea?Hd(oa,Ea,Oa,Sa,Ha,{result:function(Wa){Ga.addServiceTokens([Wa]);Na();},timeout:function(){Na();},error:function(){Na();}}):va.result();})();}else va.result();}Ga=this;Da=Ga._log;W.esn != Ga._esn?(Da.error("Esn mismatch, starting fresh"),aa.error()):(function(Oa){var va,za,Ha,Ba;function Sa(){var Na;if(!va && za && Ha && Ba){va=!0;Na=new jc(oa,za,ta.esn,{rawKey:Ha},{rawKey:Ba});Ga.setCryptoContext(za,Na,!0);Oa.result(za);}}function ka(Na,Ea){Da.error(Na,Ea && "" + Ea);va || (va=!0,Oa.error());}W.masterTokenJSON?(Tc(oa,W.masterTokenJSON,{result:function(Na){za=Na;Sa();},timeout:function(){ka("Timeout parsing MasterToken");},error:function(Na){ka("Error parsing MasterToken",Na);}}),Ga._systemKeyWrapFormat?Ga.unwrapKeysWithSystemKey(W,{result:function(Na){Ha=Na.encryptionKey;Ba=Na.hmacKey;Sa();},timeout:function(){ka("Timeout unwrapping keys");},error:function(Na){ka("Error unwrapping keys",Na);}}):Promise.resolve().then(function(){return Jb.encrypt({name:rc.name,iv:new Uint8Array(16)},W.encryptionKey,new Uint8Array(1));}).then(function(Na){Ha=W.encryptionKey;}).catch(function(Na){ka("Error loading encryptionKey");}).then(function(){return Jb.sign(sc,W.hmacKey,new Uint8Array(1));}).then(function(Na){Ba=W.hmacKey;Sa();}).catch(function(Na){ka("Error loading hmacKey");})):ka("Persisted store is corrupt");})({result:function(Oa){da(Oa,aa);},timeout:aa.timeout,error:aa.error});}});$f={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};ed="$netflix$msl$wrapsys";bg=Yf.extend({init:function(ta,oa,W,aa,da,la){var Ga,Da;Ga=new kd([Pc.LZW]);Da=new Mf();Da.addPublicKey(oa,W);aa[Nb.RSA]=new Lf(Da);oa={};oa[$b.EMAIL_PASSWORD]=new Vf();oa[$b.NETFLIXID]=new Uf();oa[$b.MDX]=new uf();oa[$b.SSO]=new Wf();oa[$b.SWITCH_PROFILE]=new Xf();ta={_mslCryptoContext:{value:new If(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:da,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:aa,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:oa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:la,writable:!1,enumerable:!1,configurable:!1},_store:{value:ta,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ta);},getTime:function(){return Date.now();},getRandom:function(){return new Ge();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(ta,oa){oa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(ta){return this._entityAuthFactories[ta];},getUserAuthenticationFactory:function(ta){return this._userAuthFactories[ta];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(ta){return this._keyExchangeFactories.filter(function(oa){return oa.scheme == ta;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});xe=of.extend({init:function(ta,oa,W,aa){this._log=ta;this._mslContext=oa;this._mslRequest=W;this._keyRequestData=aa;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(ta,oa,W,aa){var da,la;da=this._mslRequest;la=this._mslContext;Ka(aa,function(){var Ga,Da;if(ta || !da.shouldSendUserAuthData)return null;if(da.token){da.email?Ga=new wf(da.email,da.password):da.netflixId && (Ga=new xf(da.netflixId,da.secureNetflixId));Da="undefined" === typeof da.profileGuid?null:da.profileGuid;return new pd(da.mechanism,Sb(da.token),Ga,Da);}return da.email?new nd(da.email,da.password):da.netflixId?new Xc(da.netflixId,da.secureNetflixId):da.mdxControllerToken?(Ga=new od("regpairrequest",da.mdxNonce,da.mdxEncryptedPinB64,da.mdxSignature).getEncoding(),new dd(la,da.mdxPin,da.mdxControllerToken,Ga,da.mdxSignature)):da.useNetflixUserAuthData?new Xc():da.profileGuid?(Ga=da.userId,Ga=la.getMslStore().userIdTokens[Ga],new qd(Ga,da.profileGuid)):W && da.sendUserAuthIfRequired?new Xc():null;});},getCustomer:function(){return null;},getKeyRequestData:function(ta){ta.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(ta,oa,W){var aa,da,la,Ga,Da,Oa;aa=this._log;da=(this._mslRequest.serviceTokens || []).slice();la=this._mslContext;oa=la.getMslStore();Ga=ta.builder.getMasterToken();Da=this.getUserId();Oa=oa.getUserIdToken(Da);(function ka(){var va;va=da.shift();if(va)try{va instanceof Kc?(ta.addPrimaryServiceToken(va),ka()):Hd(la,va,Ga,Oa,null,{result:function(za){try{ta.addPrimaryServiceToken(za);}catch(Ha){aa.warn("Exception adding service token","" + Ha);}ka();},timeout:function(){aa.warn("Timeout parsing service token");ka();},error:function(za){aa.warn("Error parsing service token","" + za);ka();}});}catch(za){aa.warn("Exception processing service token","" + za);ka();}else W.result(!0);})();},write:function(ta,oa,W){var aa;aa=Sb(this._mslRequest.body);ta.write(aa,0,aa.length,oa,{result:function(da){da != aa.length?W.error(new Wb("Not all data was written to output.")):ta.flush(oa,{result:function(){W.result(!0);},timeout:function(){W.timeout();},error:function(la){W.error(la);}});},timeout:function(){W.timeout();},error:function(da){W.error(da);}});},getDebugContext:function(){this._dc || (this._dc=new cg(this._log,this._mslRequest));return this._dc;}});cg=Tf.extend({init:function(ta,oa){this._log=ta;this._mslRequest=oa;},sentHeader:function(ta){this._log.trace("Sent MSL header",we(this._mslRequest,ta),ta.serviceTokens && ta.serviceTokens.map(Ef).join("\n"));},receivedHeader:function(ta){var oa,W;oa=we(this._mslRequest,ta);W=ta.errorCode;W?this._log.warn("Received MSL error header",oa,{errorCode:W,errorMessage:ta.errorMessage,internalCode:ta.internalCode}):this._log.trace("Received MSL header",oa);}});Cf={PSK:function(ta){return Rd(ta,Nb.PSK,Zf,tc,he,Fd);},MGK:function(ta){return Rd(ta,Nb.MGK,Bf,nc,he,Fd);},MGK_WITH_FALLBACK:function(ta){var oa,W;switch(ta.esnPrefix){case "GOOGEUR001":case "GOOGLEXX01":case "GOOGEST001":case "GOOGNEW001":oa="PSK";break;default:oa="MGK";}W=Cf[oa];if(!W)throw new bb(V.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: " + oa);return W(ta);},MGK_JWE:function(ta){return Rd(ta,Nb.MGK,Bf,nc,Re,ge);},JWK_RSA:function(ta){return Sd(ta,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Gd.JWK_RSA);},JWK_RSAES:function(ta){return Sd(ta,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gd.JWK_RSAES);},JWEJS_RSA:function(ta){return Sd(ta,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Gd.JWEJS_RSA);}};pb.netflix=pb.netflix || ({});pb.netflix.msl={createMslClient:function(ta,oa){var W,aa,da,la,Ga;W=ta.log;Ga=ta.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Qb && Qb.generateKey && Qb.importKey && Qb.unwrapKey))throw new bb(V.INTERNAL_EXCEPTION,"No WebCrypto");bc=Qb.generateKey({name:"AES-CBC",length:128},!0,Ic).then?wd.V2014_02:wd.LEGACY;Ga("mslisik");return Jb.importKey("spki",ta.serverIdentityKeyData,He,!1,["verify"]);}).then(function(Da){return new Promise(function(Oa,Sa){Oc(Da,{result:Oa,error:function(){Sa(new bb(V.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Da){aa=Da;if(Da=Cf[ta.authenticationType])return (Ga("mslcc"),Da(ta));throw new bb(V.INTERNAL_EXCEPTION,"Invalid authenticationType: " + ta.authenticationType);}).then(function(Da){var Oa;da=new ag(W,ta.esn,Da.keyRequestData,Da.createKeyRequestData,ta.authenticationKeyNames.s,ta.systemKeyWrapFormat);la=new bg(da,ta.serverIdentityId,aa,Da.entityAuthFactories,Da.entityAuthData,Da.keyExchangeFactories);Oa=ta.storeState;if(Oa)return (Ga("mslss"),W.info("Loading store state"),new Promise(function(Sa,ka){da.loadStoreState(ta,la,Oa,{result:Sa,timeout:Sa,error:Sa});}));W.info("No store state, starting fresh");}).then(function(){var Da;Da=new pf();Ga("msldone");oa.result(new Ff(W,Da,la,da,ta.ErrorSubCodes));}).catch(function(Da){oa.error(Da);});},IHttpLocation:Pf,MslIoException:Wb};(function(){var Za,Xa,ib,mb,ob,rb,sb,zb,xb;function ta(r){var b;b=0;return function(){return b < r.length?{done:!1,value:r[b++]}:{done:!0};};}function oa(r,b){var a,f;if(b)a:{a=Xa;r=r.split(".");for(var c=0;c < r.length - 1;c++){f=r[c];if(!((f in a)))break a;a=a[f];}r=r[r.length - 1];c=a[r];b=b(c);b != c && null != b && Za(a,r,{configurable:!0,writable:!0,value:b});}}function W(r){r={next:r};r[Symbol.iterator]=function(){return this;};return r;}function aa(r){var b;b="undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator];return b?b.call(r):{next:ta(r)};}function da(r){if(!(r instanceof Array)){r=aa(r);for(var b,a=[];!(b=r.next()).done;){a.push(b.value);}r=a;}return r;}function la(r,b){var c;r.prototype=ib(b.prototype);r.prototype.constructor=r;if(zb)zb(r,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(r,a,c);}else r[a]=b[a];}r.W8b=b.prototype;}function Ga(){this.jU=!1;this.gD=null;this.Lua=void 0;this.uG=1;this.lSa=this.Sob=0;this.nR=null;}function Da(r){if(r.jU)throw new TypeError("Generator is already running");r.jU=!0;}function Oa(r){this.lf=new Ga();this.lPb=r;}function Sa(r,b){var a;Da(r.lf);a=r.lf.gD;if(a)return ka(r,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,r.lf.return);r.lf.return(b);return va(r);}function ka(r,b,a,c){var f,k;try{f=b.call(r.lf.gD,a);if(!(f instanceof Object))throw new TypeError("Iterator result " + f + " is not an object");if(!f.done)return (r.lf.jU=!1,f);k=f.value;}catch(l){return (r.lf.gD=null,r.lf.cX(l),va(r));}r.lf.gD=null;c.call(r.lf,k);return va(r);}function va(r){var b;for(;r.lf.uG;){try{b=r.lPb(r.lf);if(b)return (r.lf.jU=!1,{value:b.value,done:!1});}catch(a){r.lf.Lua=void 0;r.lf.cX(a);}}r.lf.jU=!1;if(r.lf.nR){b=r.lf.nR;r.lf.nR=null;if(b.FFb)throw b.TK;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function za(r){this.next=function(b){return r.cV(b);};this.throw=function(b){return r.cX(b);};this.return=function(b){return Sa(r,b);};this[Symbol.iterator]=function(){return this;};}function Ha(r,b){b=new za(new Oa(b));zb && r.prototype && zb(b,r.prototype);return b;}function Ba(r,b){return Object.prototype.hasOwnProperty.call(r,b);}function Na(r,b){var a,c,f;r instanceof String && (r+="");a=0;c=!1;f={next:function(){var k;if(!c && a < r.length){k=a++;return {value:b(k,r[k]),done:!1};}c=!0;return {done:!0,value:void 0};}};f[Symbol.iterator]=function(){return f;};return f;}function Ea(r,b,a){var k;r instanceof String && (r=String(r));for(var c=r.length,f=0;f < c;f++){k=r[f];if(b.call(a,k,f,r))return {Ela:f,aD:k};}return {Ela:-1,aD:void 0};}function Wa(r,b,a){if(null == r)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return r + "";}Za="function" == typeof Object.defineProperties?Object.defineProperty:function(r,b,a){if(r == Array.prototype || r == Object.prototype)return r;r[b]=a.value;return r;};Xa=(function(r){var a;r=["object" == typeof globalThis && globalThis,r,"object" == typeof pb && pb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < r.length;++b){a=r[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);oa("Symbol",function(r){var c;function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (f || "") + "_" + c++,f);}function a(f,k){this.a8a=f;Za(this,"description",{configurable:!0,writable:!0,value:k});}if(r)return r;a.prototype.toString=function(){return this.a8a;};c=0;return b;});oa("Symbol.iterator",function(r){var c;if(r)return r;r=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Xa[b[a]];"function" === typeof c && "function" != typeof c.prototype[r] && Za(c.prototype,r,{configurable:!0,writable:!0,value:function(){return W(ta(this));}});}return r;});ib="function" == typeof Object.create?Object.create:function(r){function b(){}b.prototype=r;return new b();};mb=(function(){var b;function r(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(r())return Reflect.construct;b=Reflect.construct;return function(a,c,f){a=b(a,c);f && Reflect.setPrototypeOf(a,f.prototype);return a;};}return function(a,c,f){void 0 === f && (f=a);f=ib(f.prototype || Object.prototype);return Function.prototype.apply.call(a,f,c) || f;};})();if("function" == typeof Object.setPrototypeOf)ob=Object.setPrototypeOf;else {a:{rb={a:!0};sb={};try{sb.__proto__=rb;ob=sb.a;break a;}catch(r){}ob=!1;}ob=ob?function(r,b){r.__proto__=b;if(r.__proto__ !== b)throw new TypeError(r + " is not extensible");return r;}:null;}zb=ob;Ga.prototype.cV=function(r){this.Lua=r;};Ga.prototype.cX=function(r){this.nR={TK:r,FFb:!0};this.uG=this.Sob || this.lSa;};Ga.prototype.return=function(r){this.nR={return:r};this.uG=this.lSa;};Oa.prototype.cV=function(r){Da(this.lf);if(this.lf.gD)return ka(this,this.lf.gD.next,r,this.lf.cV);this.lf.cV(r);return va(this);};Oa.prototype.cX=function(r){Da(this.lf);if(this.lf.gD)return ka(this,this.lf.gD["throw"],r,this.lf.cV);this.lf.cX(r);return va(this);};oa("Reflect",function(r){return r?r:{};});oa("Reflect.construct",function(){return mb;});oa("Reflect.setPrototypeOf",function(r){return r?r:zb?function(b,a){try{return (zb(b,a),!0);}catch(c){return !1;}}:null;});oa("Object.setPrototypeOf",function(r){return r || zb;});xb="function" == typeof Object.assign?Object.assign:function(r,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var f in c){Ba(c,f) && (r[f]=c[f]);}}return r;};oa("Object.assign",function(r){return r || xb;});oa("Promise",function(r){var f,k;function b(l){var d;this.JN=0;this.pW=void 0;this.wM=[];this.cXa=!1;d=this.fha();try{l(d.resolve,d.reject);}catch(g){d.reject(g);}}function a(){this.lB=null;}function c(l){return l instanceof b?l:new b(function(d){d(l);});}if(r)return r;a.prototype.ZMa=function(l){var d;if(null == this.lB){this.lB=[];d=this;this.$Ma(function(){d.axb();});}this.lB.push(l);};f=Xa.setTimeout;a.prototype.$Ma=function(l){f(l,0);};a.prototype.axb=function(){var l,g;for(;this.lB && this.lB.length;){l=this.lB;this.lB=[];for(var d=0;d < l.length;++d){g=l[d];l[d]=null;try{g();}catch(h){this.Fmb(h);}}}this.lB=null;};a.prototype.Fmb=function(l){this.$Ma(function(){throw l;});};b.prototype.fha=function(){var d,g;function l(h){return function(m){g || (g=!0,h.call(d,m));};}d=this;g=!1;return {resolve:l(this.xRb),reject:l(this.Zqa)};};b.prototype.xRb=function(l){var d;if(l === this)this.Zqa(new TypeError("A Promise cannot resolve to itself"));else if(l instanceof b)this.ATb(l);else {a:switch(typeof l){case "object":d=null != l;break a;case "function":d=!0;break a;default:d=!1;}d?this.wRb(l):this.SSa(l);}};b.prototype.wRb=function(l){var d;d=void 0;try{d=l.then;}catch(g){this.Zqa(g);return;}"function" == typeof d?this.BTb(d,l):this.SSa(l);};b.prototype.Zqa=function(l){this.j4a(2,l);};b.prototype.SSa=function(l){this.j4a(1,l);};b.prototype.j4a=function(l,d){if(0 != this.JN)throw Error("Cannot settle(" + l + ", " + d + "): Promise already settled in state" + this.JN);this.JN=l;this.pW=d;2 === this.JN && this.aSb();this.bxb();};b.prototype.aSb=function(){var l;l=this;f(function(){var d;if(l.bLb()){d=Xa.console;"undefined" !== typeof d && d.error(l.pW);}},1);};b.prototype.bLb=function(){var l,d,g;if(this.cXa)return !1;l=Xa.CustomEvent;d=Xa.Event;g=Xa.dispatchEvent;if("undefined" === typeof g)return !0;"function" === typeof l?l=new l("unhandledrejection",{cancelable:!0}):"function" === typeof d?l=new d("unhandledrejection",{cancelable:!0}):(l=Xa.document.createEvent("CustomEvent"),l.initCustomEvent("unhandledrejection",!1,!0,l));l.promise=this;l.reason=this.pW;return g(l);};b.prototype.bxb=function(){if(null != this.wM){for(var l=0;l < this.wM.length;++l){k.ZMa(this.wM[l]);}this.wM=null;}};k=new a();b.prototype.ATb=function(l){var d;d=this.fha();l.s1(d.resolve,d.reject);};b.prototype.BTb=function(l,d){var g;g=this.fha();try{l.call(d,g.resolve,g.reject);}catch(h){g.reject(h);}};b.prototype.then=function(l,d){var h,m,n;function g(q,p){return "function" == typeof q?function(t){try{h(q(t));}catch(u){m(u);}}:p;}n=new b(function(q,p){h=q;m=p;});this.s1(g(l,h),g(d,m));return n;};b.prototype.catch=function(l){return this.then(void 0,l);};b.prototype.s1=function(l,d){var h;function g(){switch(h.JN){case 1:l(h.pW);break;case 2:d(h.pW);break;default:throw Error("Unexpected state: " + h.JN);}}h=this;null == this.wM?k.ZMa(g):this.wM.push(g);this.cXa=!0;};b.resolve=c;b.reject=function(l){return new b(function(d,g){g(l);});};b.race=function(l){return new b(function(d,g){for(var h=aa(l),m=h.next();!m.done;m=h.next()){c(m.value).s1(d,g);}});};b.all=function(l){var d,g;d=aa(l);g=d.next();return g.done?c([]):new b(function(h,m){var q,p;function n(t){return function(u){q[t]=u;p--;0 == p && h(q);};}q=[];p=0;do {q.push(void 0);p++;c(g.value).s1(n(q.length - 1),m);g=d.next();}while(!g.done);});};return b;});oa("Object.entries",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Ba(b,c) && a.push([c,b[c]]);}return a;};});oa("Array.prototype.keys",function(r){return r?r:function(){return Na(this,function(b){return b;});};});oa("Array.prototype.find",function(r){return r?r:function(b,a){return Ea(this,b,a).aD;};});oa("Object.is",function(r){return r?r:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});oa("Array.prototype.includes",function(r){return r?r:function(b,a){var c,f,k;c=this;c instanceof String && (c=String(c));f=c.length;a=a || 0;for(0 > a && (a=Math.max(a + f,0));a < f;a++){k=c[a];if(k === b || Object.is(k,b))return !0;}return !1;};});oa("String.prototype.includes",function(r){return r?r:function(b,a){return -1 !== Wa(this,b,"includes").indexOf(b,a || 0);};});oa("Number.isNaN",function(r){return r?r:function(b){return "number" === typeof b && isNaN(b);};});oa("Math.tanh",function(r){return r?r:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});oa("Array.prototype.entries",function(r){return r?r:function(){return Na(this,function(b,a){return [b,a];});};});oa("WeakMap",function(r){var l,d;function b(g){this.ZT=(d+=Math.random() + 1).toString();if(g){g=aa(g);for(var h;!(h=g.next()).done;){h=h.value;this.set(h[0],h[1]);}}}function a(){}function c(g){var h;h=typeof g;return "object" === h && null !== g || "function" === h;}function f(g){var h;if(!Ba(g,l)){h=new a();Za(g,l,{value:h});}}function k(g){var h;h=Object[g];h && (Object[g]=function(m){if(m instanceof a)return m;Object.isExtensible(m) && f(m);return h(m);});}if((function(){var g,h,m;if(!r || !Object.seal)return !1;try{g=Object.seal({});h=Object.seal({});m=new r([[g,2],[h,3]]);if(2 != m.get(g) || 3 != m.get(h))return !1;m.delete(g);m.set(h,4);return !m.has(g) && 4 == m.get(h);}catch(n){return !1;}})())return r;l="$jscomp_hidden_" + Math.random();k("freeze");k("preventExtensions");k("seal");d=0;b.prototype.set=function(g,h){if(!c(g))throw Error("Invalid WeakMap key");f(g);if(!Ba(g,l))throw Error("WeakMap key fail: " + g);g[l][this.ZT]=h;return this;};b.prototype.get=function(g){return c(g) && Ba(g,l)?g[l][this.ZT]:void 0;};b.prototype.has=function(g){return c(g) && Ba(g,l) && Ba(g[l],this.ZT);};b.prototype.delete=function(g){return c(g) && Ba(g,l) && Ba(g[l],this.ZT)?delete g[l][this.ZT]:!1;};return b;});oa("Map",function(r){var k,l;function b(){var d;d={};return d.oz=d.next=d.head=d;}function a(d,g){var h;h=d.Cy;return W(function(){if(h){for(;h.head != d.Cy;){h=h.oz;}for(;h.next != h.head;){return (h=h.next,{done:!1,value:g(h)});}h=null;}return {done:!0,value:void 0};});}function c(d,g){var h,m,n;h=g && typeof g;"object" == h || "function" == h?k.has(g)?h=k.get(g):(h="" + ++l,k.set(g,h)):h="p_" + g;m=d.Xx[h];if(m && Ba(d.Xx,h))for(d=0;d < m.length;d++){n=m[d];if(g !== g && n.key !== n.key || g === n.key)return {id:h,list:m,index:d,entry:n};}return {id:h,list:m,index:-1,entry:void 0};}function f(d){this.Xx={};this.Cy=b();this.size=0;if(d){d=aa(d);for(var g;!(g=d.next()).done;){g=g.value;this.set(g[0],g[1]);}}}if((function(){var d,g,h,m;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});g=new r(aa([[d,"s"]]));if("s" != g.get(d) || 1 != g.size || g.get({x:4}) || g.set({x:4},"t") != g || 2 != g.size)return !1;h=g.entries();m=h.next();if(m.done || m.value[0] != d || "s" != m.value[1])return !1;m=h.next();return m.done || 4 != m.value[0].x || "t" != m.value[1] || !h.next().done?!1:!0;}catch(n){return !1;}})())return r;k=new WeakMap();f.prototype.set=function(d,g){var h;d=0 === d?0:d;h=c(this,d);h.list || (h.list=this.Xx[h.id]=[]);h.entry?h.entry.value=g:(h.entry={next:this.Cy,oz:this.Cy.oz,head:this.Cy,key:d,value:g},h.list.push(h.entry),this.Cy.oz.next=h.entry,this.Cy.oz=h.entry,this.size++);return this;};f.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.Xx[d.id],d.entry.oz.next=d.entry.next,d.entry.next.oz=d.entry.oz,d.entry.head=null,this.size--,!0):!1;};f.prototype.clear=function(){this.Xx={};this.Cy=this.Cy.oz=b();this.size=0;};f.prototype.has=function(d){return ! !c(this,d).entry;};f.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};f.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};f.prototype.keys=function(){return a(this,function(d){return d.key;});};f.prototype.values=function(){return a(this,function(d){return d.value;});};f.prototype.forEach=function(d,g){for(var h=this.entries(),m;!(m=h.next()).done;){m=m.value;d.call(g,m[1],m[0],this);}};f.prototype[Symbol.iterator]=f.prototype.entries;l=0;return f;});oa("Set",function(r){function b(a){this.Dv=new Map();if(a){a=aa(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.Dv.size;}if((function(){var a,c,f,k;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new r(aa([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;f=c.entries();k=f.next();if(k.done || k.value[0] != a || k.value[1] != a)return !1;k=f.next();return k.done || k.value[0] == a || 4 != k.value[0].x || k.value[1] != k.value[0]?!1:f.next().done;}catch(l){return !1;}})())return r;b.prototype.add=function(a){a=0 === a?0:a;this.Dv.set(a,a);this.size=this.Dv.size;return this;};b.prototype.delete=function(a){a=this.Dv.delete(a);this.size=this.Dv.size;return a;};b.prototype.clear=function(){this.Dv.clear();this.size=0;};b.prototype.has=function(a){return this.Dv.has(a);};b.prototype.entries=function(){return this.Dv.entries();};b.prototype.values=function(){return this.Dv.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var f;f=this;this.Dv.forEach(function(k){return a.call(c,k,k,f);});};return b;});oa("String.prototype.endsWith",function(r){return r?r:function(b,a){var c;c=Wa(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var f=b.length;0 < f && 0 < a;){if(c[--a] != b[--f])return !1;}return 0 >= f;};});oa("String.prototype.repeat",function(r){return r?r:function(b){var a;a=Wa(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});oa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});oa("Array.prototype.values",function(r){return r?r:function(){return Na(this,function(b,a){return a;});};});oa("Object.values",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Ba(b,c) && a.push(b[c]);}return a;};});oa("String.prototype.startsWith",function(r){return r?r:function(b,a){var c,f,k;c=Wa(this,b,"startsWith");b+="";f=c.length;k=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var l=0;l < k && a < f;){if(c[a++] != b[l++])return !1;}return l >= k;};});oa("Array.prototype.findIndex",function(r){return r?r:function(b,a){return Ea(this,b,a).Ela;};});oa("String.fromCodePoint",function(r){return r?r:function(b){var f;for(var a="",c=0;c < arguments.length;c++){f=Number(arguments[c]);if(0 > f || 1114111 < f || f !== Math.floor(f))throw new RangeError("invalid_code_point " + f);65535 >= f?a+=String.fromCharCode(f):(f-=65536,a+=String.fromCharCode(f >>> 10 & 1023 | 55296),a+=String.fromCharCode(f & 1023 | 56320));}return a;};});oa("Number.isFinite",function(r){return r?r:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});(function(r){var a;function b(c){var f;if(a[c])return a[c].exports;f=a[c]={Ela:c,MGb:!1,exports:{}};r[c].call(f.exports,f,f.exports,b);f.MGb=!0;return f.exports;}a={};b.Q6b=r;b.c=a;b.d=function(c,f,k){b.lLb(c,f) || Object.defineProperty(c,f,{enumerable:!0,get:k});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,f){var k;f & 1 && (c=b(c));if(f & 8 || f & 4 && "object" === typeof c && c && c.__esModule)return c;k=Object.create(null);b.r(k);Object.defineProperty(k,"default",{enumerable:!0,value:c});if(f & 2 && "string" != typeof c)for(var l in c){b.d(k,l,(function(d){return c[d];}).bind(null,l));}return k;};b.n=function(c){var f;f=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(f,"a",f);return f;};b.lLb=function(c,f){return Object.prototype.hasOwnProperty.call(c,f);};b.p="";return b(b.QRb=533);})([function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(41);b.m1b=r;r=a(536);b.iY=r.iY;r=a(75);b.Or=r.Or;b.gj=r.gj;b.Tw=r.Tw;r=a(552);b.Gva=r.Gva;b.$c=r.$c;r=a(553);b.R=r.R;r=a(554);b.x5a=r.x5a;r=a(555);b.SZa=r.SZa;r=a(300);b.l=r.l;b.X$=r.X$;r=a(556);b.optional=r.optional;r=a(557);b.ej=r.ej;r=a(558);b.rG=r.rG;r=a(559);b.aX=r.aX;r=a(560);b.d1a=r.d1a;r=a(298);b.qaa=r.qaa;r=a(103);b.id=r.id;r=a(88);b.Qq=r.Qq;r=a(303);b.p6a=r.p6a;b.y5a=r.y5a;b.TZa=r.TZa;b.v6a=r.v6a;r=a(130);b.sL=r.sL;a=a(561);b.PZa=a.PZa;},function(r,b,a){var G,J;function c(){c=Object.assign || (function(K){for(var H,L=1,P=arguments.length;L < P;L++){H=arguments[L];for(var I in H){Object.prototype.hasOwnProperty.call(H,I) && (K[I]=H[I]);}}return K;});return c.apply(this,arguments);}function f(K,H){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(L,P){L.__proto__=P;}) || (function(L,P){for(var I in P){Object.prototype.hasOwnProperty.call(P,I) && (L[I]=P[I]);}});return f(K,H);}function k(K,H){function L(){this.constructor=K;}if("function" !== typeof H && null !== H)throw new TypeError("Class extends value " + String(H) + " is not a constructor or null");f(K,H);K.prototype=null === H?Object.create(H):(L.prototype=H.prototype,new L());}function l(K,H){var L,P,I;L={};for(P in K){Object.prototype.hasOwnProperty.call(K,P) && 0 > H.indexOf(P) && (L[P]=K[P]);}if(null != K && "function" === typeof Object.getOwnPropertySymbols){I=0;for(P=Object.getOwnPropertySymbols(K);I < P.length;I++){0 > H.indexOf(P[I]) && Object.prototype.propertyIsEnumerable.call(K,P[I]) && (L[P[I]]=K[P[I]]);}}return L;}function d(K,H,L,P){var I,O,N;I=arguments.length;O=3 > I?H:null === P?P=Object.getOwnPropertyDescriptor(H,L):P;if("object" === typeof Reflect && "function" === typeof Reflect.Qq)O=Reflect.Qq(K,H,L,P);else for(var M=K.length - 1;0 <= M;M--){if(N=K[M])O=(3 > I?N(O):3 < I?N(H,L,O):N(H,L)) || O;}return (3 < I && O && Object.defineProperty(H,L,O),O);}function g(K,H){return function(L,P){H(L,P,K);};}function h(K,H){if("object" === typeof Reflect && "function" === typeof Reflect.yd)return Reflect.yd(K,H);}function m(K,H,L,P){function I(O){return O instanceof L?O:new L(function(N){N(O);});}return new (L || (L=Promise))(function(O,N){function M(fa){try{S(P.next(fa));}catch(qa){N(qa);}}function Q(fa){try{S(P["throw"](fa));}catch(qa){N(qa);}}function S(fa){fa.done?O(fa.value):I(fa.value).then(M,Q);}S((P=P.apply(K,H || [])).next());});}function n(K,H){var I,O,N,M,Q;function L(S){return function(fa){return P([S,fa]);};}function P(S){if(O)throw new TypeError("Generator is already executing.");for(;I;){try{if((O=1,N && (M=S[0] & 2?N["return"]:S[0]?N["throw"] || ((M=N["return"]) && M.call(N),0):N.next) && !(M=M.call(N,S[1])).done))return M;if((N=0,M))S=[S[0] & 2,M.value];switch(S[0]){case 0:case 1:M=S;break;case 4:return (I.label++,{value:S[1],done:!1});case 5:I.label++;N=S[1];S=[0];continue;case 7:S=I.Tm.pop();I.kn.pop();continue;default:if(!(M=I.kn,M=0 < M.length && M[M.length - 1]) && (6 === S[0] || 2 === S[0])){I=0;continue;}if(3 === S[0] && (!M || S[1] > M[0] && S[1] < M[3]))I.label=S[1];else if(6 === S[0] && I.label < M[1])(I.label=M[1],M=S);else if(M && I.label < M[2])(I.label=M[2],I.Tm.push(S));else {M[2] && I.Tm.pop();I.kn.pop();continue;}}S=H.call(K,I);}catch(fa){S=[6,fa];N=0;}finally{O=M=0;}}if(S[0] & 5)throw S[1];return {value:S[0]?S[1]:void 0,done:!0};}I={label:0,Yd:function(){if(M[0] & 1)throw M[1];return M[1];},kn:[],Tm:[]};return (Q={next:L(0),"throw":L(1),"return":L(2)},"function" === typeof Symbol && (Q[Symbol.iterator]=function(){return this;}),Q);}function q(K,H){for(var L in K){"default" === L || Object.prototype.hasOwnProperty.call(H,L) || G(H,K,L);}}function p(K){var H,L,P;H="function" === typeof Symbol && Symbol.iterator;L=H && K[H];P=0;if(L)return L.call(K);if(K && "number" === typeof K.length)return {next:function(){K && P >= K.length && (K=void 0);return {value:K && K[P++],done:!K};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function t(K,H){var L,P,I;L="function" === typeof Symbol && K[Symbol.iterator];if(!L)return K;K=L.call(K);I=[];try{for(;(void 0 === H || 0 < H--) && !(P=K.next()).done;){I.push(P.value);}}catch(N){var O;O={error:N};}finally{try{P && !P.done && (L=K["return"]) && L.call(K);}finally{if(O)throw O.error;}}return I;}function u(){for(var K=[],H=0;H < arguments.length;H++){K=K.concat(t(arguments[H]));}return K;}function w(){var P;for(var K=0,H=0,L=arguments.length;H < L;H++){K+=arguments[H].length;}K=Array(K);P=0;for(H=0;H < L;H++){for(var I=arguments[H],O=0,N=I.length;O < N;(O++,P++)){K[P]=I[O];}}return K;}function v(K,H,L){if(L || 2 === arguments.length)for(var P=0,I=H.length,O;P < I;P++){!O && (P in H) || (O || (O=Array.prototype.slice.call(H,0,P)),O[P]=H[P]);}return K.concat(O || H);}function x(K){return this instanceof x?(this.aD=K,this):new x(K);}function y(K,H,L){var Q,S,fa;function P(qa){Q[qa] && (S[qa]=function(xa){return new Promise(function(ua,X){1 < fa.push([qa,xa,ua,X]) || I(qa,xa);});});}function I(qa,xa){var ua;try{ua=Q[qa](xa);ua.value instanceof x?Promise.resolve(ua.value.aD).then(O,N):M(fa[0][2],ua);}catch(X){M(fa[0][3],X);}}function O(qa){I("next",qa);}function N(qa){I("throw",qa);}function M(qa,xa){(qa(xa),fa.shift(),fa.length) && I(fa[0][0],fa[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");Q=L.apply(K,H || []);fa=[];return (S={},P("next"),P("throw"),P("return"),S[Symbol.asyncIterator]=function(){return this;},S);}function z(K){var L,P;function H(I,O){L[I]=K[I]?function(N){return (P=!P)?{value:x(K[I](N)),done:"return" === I}:O?O(N):N;}:O;}return (L={},H("next"),H("throw",function(I){throw I;}),H("return"),L[Symbol.iterator]=function(){return this;},L);}function A(K){var P,I;function H(O){I[O]=K[O] && (function(N){return new Promise(function(M,Q){N=K[O](N);L(M,Q,N.done,N.value);});});}function L(O,N,M,Q){Promise.resolve(Q).then(function(S){O({value:S,done:M});},N);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");P=K[Symbol.asyncIterator];return P?P.call(K):(K="function" === typeof p?p(K):K[Symbol.iterator](),I={},H("next"),H("throw"),H("return"),I[Symbol.asyncIterator]=function(){return this;},I);}function B(K,H){Object.defineProperty?Object.defineProperty(K,"raw",{value:H}):K.raw=H;return K;}function D(K){var H;if(K && K.__esModule)return K;H={};if(null != K)for(var L in K){"default" !== L && Object.prototype.hasOwnProperty.call(K,L) && G(H,K,L);}J(H,K);return H;}function E(K){return K && K.__esModule?K:{default:K};}function F(K,H,L,P){if("a" === L && !P)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof H?K !== H || !P:!H.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === L?P:"a" === L?P.call(K):P?P.value:H.get(K);}function C(K,H,L,P,I){if("m" === P)throw new TypeError("Private method is not writable");if("a" === P && !I)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof H?K !== H || !I:!H.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === P?I.call(K,L):I?I.value=L:H.set(K,L),L);}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return l;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return m;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return G;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return p;});a.d(b,"__read",function(){return t;});a.d(b,"__spread",function(){return u;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__spreadArray",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});G=Object.create?function(K,H,L,P){void 0 === P && (P=L);Object.defineProperty(K,P,{enumerable:!0,get:function(){return H[L];}});}:function(K,H,L,P){void 0 === P && (P=L);K[P]=H[L];};J=Object.create?function(K,H){Object.defineProperty(K,"default",{enumerable:!0,value:H});}:function(K,H){K["default"]=H;};},function(r,b,a){function c(){c=Object.assign || (function(G){for(var J,K=1,H=arguments.length;K < H;K++){J=arguments[K];for(var L in J){Object.prototype.hasOwnProperty.call(J,L) && (G[L]=J[L]);}}return G;});return c.apply(this,arguments);}function f(G,J){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,H){K.__proto__=H;}) || (function(K,H){for(var L in H){H.hasOwnProperty(L) && (K[L]=H[L]);}});return f(G,J);}function k(G,J){function K(){this.constructor=G;}f(G,J);G.prototype=null === J?Object.create(J):(K.prototype=J.prototype,new K());}function l(G,J){var K,H,L;K={};for(H in G){Object.prototype.hasOwnProperty.call(G,H) && 0 > J.indexOf(H) && (K[H]=G[H]);}if(null != G && "function" === typeof Object.getOwnPropertySymbols){L=0;for(H=Object.getOwnPropertySymbols(G);L < H.length;L++){0 > J.indexOf(H[L]) && Object.prototype.propertyIsEnumerable.call(G,H[L]) && (K[H[L]]=G[H[L]]);}}return K;}function d(G,J,K,H){var L,P,I;L=arguments.length;P=3 > L?J:null === H?H=Object.getOwnPropertyDescriptor(J,K):H;if("object" === typeof Reflect && "function" === typeof Reflect.Qq)P=Reflect.Qq(G,J,K,H);else for(var O=G.length - 1;0 <= O;O--){if(I=G[O])P=(3 > L?I(P):3 < L?I(J,K,P):I(J,K)) || P;}return (3 < L && P && Object.defineProperty(J,K,P),P);}function g(G,J){return function(K,H){J(K,H,G);};}function h(G,J){if("object" === typeof Reflect && "function" === typeof Reflect.yd)return Reflect.yd(G,J);}function m(G,J,K,H){function L(P){return P instanceof K?P:new K(function(I){I(P);});}return new (K || (K=Promise))(function(P,I){function O(Q){try{M(H.next(Q));}catch(S){I(S);}}function N(Q){try{M(H["throw"](Q));}catch(S){I(S);}}function M(Q){Q.done?P(Q.value):L(Q.value).then(O,N);}M((H=H.apply(G,J || [])).next());});}function n(G,J){var L,P,I,O,N;function K(M){return function(Q){return H([M,Q]);};}function H(M){if(P)throw new TypeError("Generator is already executing.");for(;L;){try{if((P=1,I && (O=M[0] & 2?I["return"]:M[0]?I["throw"] || ((O=I["return"]) && O.call(I),0):I.next) && !(O=O.call(I,M[1])).done))return O;if((I=0,O))M=[M[0] & 2,O.value];switch(M[0]){case 0:case 1:O=M;break;case 4:return (L.label++,{value:M[1],done:!1});case 5:L.label++;I=M[1];M=[0];continue;case 7:M=L.Tm.pop();L.kn.pop();continue;default:if(!(O=L.kn,O=0 < O.length && O[O.length - 1]) && (6 === M[0] || 2 === M[0])){L=0;continue;}if(3 === M[0] && (!O || M[1] > O[0] && M[1] < O[3]))L.label=M[1];else if(6 === M[0] && L.label < O[1])(L.label=O[1],O=M);else if(O && L.label < O[2])(L.label=O[2],L.Tm.push(M));else {O[2] && L.Tm.pop();L.kn.pop();continue;}}M=J.call(G,L);}catch(Q){M=[6,Q];I=0;}finally{P=O=0;}}if(M[0] & 5)throw M[1];return {value:M[0]?M[1]:void 0,done:!0};}L={label:0,Yd:function(){if(O[0] & 1)throw O[1];return O[1];},kn:[],Tm:[]};return (N={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (N[Symbol.iterator]=function(){return this;}),N);}function q(G,J,K,H){void 0 === H && (H=K);G[H]=J[K];}function p(G,J){for(var K in G){"default" === K || J.hasOwnProperty(K) || (J[K]=G[K]);}}function t(G){var J,K,H;J="function" === typeof Symbol && Symbol.iterator;K=J && G[J];H=0;if(K)return K.call(G);if(G && "number" === typeof G.length)return {next:function(){G && H >= G.length && (G=void 0);return {value:G && G[H++],done:!G};}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(G,J){var K,H,L;K="function" === typeof Symbol && G[Symbol.iterator];if(!K)return G;G=K.call(G);L=[];try{for(;(void 0 === J || 0 < J--) && !(H=G.next()).done;){L.push(H.value);}}catch(I){var P;P={error:I};}finally{try{H && !H.done && (K=G["return"]) && K.call(G);}finally{if(P)throw P.error;}}return L;}function w(){for(var G=[],J=0;J < arguments.length;J++){G=G.concat(u(arguments[J]));}return G;}function v(){var H;for(var G=0,J=0,K=arguments.length;J < K;J++){G+=arguments[J].length;}G=Array(G);H=0;for(J=0;J < K;J++){for(var L=arguments[J],P=0,I=L.length;P < I;(P++,H++)){G[H]=L[P];}}return G;}function x(G){return this instanceof x?(this.aD=G,this):new x(G);}function y(G,J,K){var N,M,Q;function H(S){N[S] && (M[S]=function(fa){return new Promise(function(qa,xa){1 < Q.push([S,fa,qa,xa]) || L(S,fa);});});}function L(S,fa){var qa;try{qa=N[S](fa);qa.value instanceof x?Promise.resolve(qa.value.aD).then(P,I):O(Q[0][2],qa);}catch(xa){O(Q[0][3],xa);}}function P(S){L("next",S);}function I(S){L("throw",S);}function O(S,fa){(S(fa),Q.shift(),Q.length) && L(Q[0][0],Q[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");N=K.apply(G,J || []);Q=[];return (M={},H("next"),H("throw"),H("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function z(G){var K,H;function J(L,P){K[L]=G[L]?function(I){return (H=!H)?{value:x(G[L](I)),done:"return" === L}:P?P(I):I;}:P;}return (K={},J("next"),J("throw",function(L){throw L;}),J("return"),K[Symbol.iterator]=function(){return this;},K);}function A(G){var H,L;function J(P){L[P]=G[P] && (function(I){return new Promise(function(O,N){I=G[P](I);K(O,N,I.done,I.value);});});}function K(P,I,O,N){Promise.resolve(N).then(function(M){P({value:M,done:O});},I);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");H=G[Symbol.asyncIterator];return H?H.call(G):(G="function" === typeof t?t(G):G[Symbol.iterator](),L={},J("next"),J("throw"),J("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function B(G,J){Object.defineProperty?Object.defineProperty(G,"raw",{value:J}):G.raw=J;return G;}function D(G){var J;if(G && G.__esModule)return G;J={};if(null != G)for(var K in G){Object.hasOwnProperty.call(G,K) && (J[K]=G[K]);}J.default=G;return J;}function E(G){return G && G.__esModule?G:{default:G};}function F(G,J){if(!J.has(G))throw new TypeError("attempted to get private field on non-instance");return J.get(G);}function C(G,J,K){if(!J.has(G))throw new TypeError("attempted to set private field on non-instance");J.set(G,K);return K;}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return l;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return m;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return q;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return u;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});},function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Sr=b.Lya=b.Kya=b.s$=b.uab=b.vab=b.Jya=b.Gya=b.tab=b.eCa=b.cZ=b.UY=b.Iya=b.L=b.M=void 0;(function(f){f[f.km=7001]="UNKNOWN";f[f.ifb=7002]="UNHANDLED_EXCEPTION";f[f.obb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";f[f.Tza=7010]="INIT_ASYNCCOMPONENT";f[f.iAa=7011]="INIT_HTTP";f[f.kbb=7014]="INIT_BADMOVIEID";f[f.Cbb=7016]="INIT_NETFLIXID_MISSING";f[f.Bbb=7017]="INIT_NETFLIXID_INVALID";f[f.Ebb=7018]="INIT_SECURENETFLIXID_MISSING";f[f.jAa=7020]="INIT_PLAYBACK_LOCK";f[f.kAa=7022]="INIT_SESSION_LOCK";f[f.Dbb=7029]="INIT_POSTAUTHORIZE";f[f.a1b=7031]="INIT_HEADER_MEDIA";f[f.O0b=7032]="HEADER_MISSING";f[f.N0b=7033]="HEADER_FRAGMENTS_MISSING";f[f.Fbb=7034]="INIT_TIMEDTEXT_TRACK";f[f.b1b=7035]="INIT_LOAD_DOWNLOADED_MEDIA";f[f.c1b=7036]="INIT_STREAMS_NOT_AVAILABLE";f[f.i8a=7037]="ASE_SESSION_ERROR";f[f.h8a=7038]="ASE_SEEK_THREW";f[f.j8a=7039]="ASE_SKIPPED_THREW";f[f.ybb=7041]="INIT_CORE_OBJECTS1";f[f.zbb=7042]="INIT_CORE_OBJECTS2";f[f.Abb=7043]="INIT_CORE_OBJECTS3";f[f.Y0b=7051]="INIT_COMPONENT_REQUESTQUOTA";f[f.S0b=7052]="INIT_COMPONENT_FILESYSTEM";f[f.bAa=7053]="INIT_COMPONENT_STORAGE";f[f.cAa=7054]="INIT_COMPONENT_STORAGELOCK";f[f.T0b=7055]="INIT_COMPONENT_LOGPERSIST";f[f.U0b=7056]="INIT_COMPONENT_NRDDPI";f[f.W0b=7057]="INIT_COMPONENT_PEPPERCRYPTO";f[f.Zza=7058]="INIT_COMPONENT_MAINTHREADMONITOR";f[f.M$=7059]="INIT_COMPONENT_DEVICE";f[f.V0b=7062]="INIT_COMPONENT_NTBA";f[f.$za=7063]="INIT_COMPONENT_MSL";f[f.mbb=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";f[f.Yza=7066]="INIT_COMPONENT_LOGBLOBBATCHER";f[f.mA=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";f[f.X0b=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";f[f.lbb=7069]="INIT_COMPONENT_ACCOUNT";f[f.qbb=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";f[f.sbb=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";f[f.tbb=7072]="INIT_COMPONENT_NRDP_MEDIA";f[f.ubb=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";f[f.vbb=7074]="INIT_COMPONENT_NRDP_REGISTRATION";f[f.pbb=7081]="INIT_COMPONENT_NRDP";f[f.rbb=7082]="INIT_COMPONENT_NRDP_DEVICE";f[f.hAa=7083]="INIT_COMPONENT_WEBCRYPTO";f[f.xbb=7084]="INIT_COMPONENT_VIDEO_PREPARER";f[f.$0b=7085]="INIT_CONGESTION_SERVICE";f[f.Xza=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";f[f.dAa=7087]="INIT_COMPONENT_TRACKING_LOG";f[f.Vza=7088]="INIT_COMPONENT_BATTERY_MANAGER";f[f.Uza=7089]="INIT_COMPONENT_ASE";f[f.Z0b=7090]="INIT_COMPONENT_VIDEO_CACHE";f[f.qI=7091]="INIT_COMPONENT_DRM_CACHE";f[f.nbb=7092]="INIT_COMPONENT_DRM";f[f.wbb=7093]="INIT_COMPONENT_PREFETCH_EVENTS";f[f.Wza=7094]="INIT_COMPONENT_FTL";f[f.aAa=7095]="INIT_COMPONENT_PREPARE_MODEL";f[f.eAa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";f[f.fAa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";f[f.gAa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";f[f.faa=7111]="MANIFEST";f[f.t8a=7112]="AUTHORIZE_UNKNOWN";f[f.fcb=7117]="MANIFEST_VERIFY";f[f.Keb=7120]="START";f[f.tI=7121]="LICENSE";f[f.sba=7122]="RELEASE";f[f.pGa=7123]="STOP";f[f.E0b=7124]="FPSAPPDATA";f[f.U$=7125]="KEEPALIVE";f[f.C_b=7126]="DEACTIVATE";f[f.o3b=7127]="SYNC_DEACTIVATE_LINKS";f[f.AZb=7130]="ACTIVATE";f[f.Bdb=7131]="PING";f[f.K1b=7133]="NETFLIXID";f[f.pab=7134]="ENGAGE";f[f.ccb=7135]="LOGIN";f[f.Reb=7136]="SWITCH_PROFILES";f[f.bcb=7137]="LOGBLOB";f[f.ldb=7138]="PAUSE";f[f.seb=7139]="RESUME";f[f.nGa=7140]="SPLICE";f[f.N_b=7141]="DOWNLOAD_EVENT";f[f.I8a=7142]="BIND";f[f.jdb=7143]="PAIR";f[f.J8a=7144]="BIND_DEVICE";f[f.Gab=7145]="GENERATE_SCREENSHOTS";f[f.Fdb=7202]="PLAY_INIT_EXCEPTION";f[f.l1b=7301]="MEDIA_DOWNLOAD";f[f.s2b=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";f[f.t2b=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";f[f.tDa=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";f[f.Ldb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";f[f.uDa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";f[f.Mdb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";f[f.Haa=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";f[f.u2b=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";f[f.Kdb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";f[f.xDa=7351]="PLAY_MSE_NOTSUPPORTED";f[f.sDa=7353]="PLAY_MSE_DECODER_TIMEOUT";f[f.Iaa=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";f[f.Jaa=7355]="PLAY_MSE_SOURCEADD";f[f.rDa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";f[f.FP=7357]="PLAY_MSE_GENERATEKEYREQUEST";f[f.x2b=7358]="PLAY_MSE_PARSECHALLENGE";f[f.r2b=7359]="PLAY_MSE_ADDKEY";f[f.A2b=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";f[f.Pdb=7361]="PLAY_MSE_EVENT_ERROR";f[f.CI=7362]="PLAY_MSE_SETMEDIAKEYS";f[f.vq=7363]="PLAY_MSE_EVENT_KEYERROR";f[f.Odb=7364]="PLAY_MSE_EME_SESSION_CLOSE";f[f.Qdb=7365]="PLAY_MSE_GETCURRENTTIME";f[f.Rdb=7367]="PLAY_MSE_SETCURRENTTIME";f[f.Sdb=7371]="PLAY_MSE_SOURCEAPPEND";f[f.y2b=7373]="PLAY_MSE_SOURCEAPPEND_INIT";f[f.Wdb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";f[f.Vdb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";f[f.Udb=7377]="PLAY_MSE_UNEXPECTED_REWIND";f[f.z2b=7379]="PLAY_MSE_SOURCE_EOS";f[f.Tdb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";f[f.yDa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";f[f.w2b=7385]="PLAY_MSE_KEYSESSION_UPDATE";f[f.Gdb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";f[f.Hdb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";f[f.Idb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";f[f.vDa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";f[f.Ndb=7395]="PLAY_MSE_EME_MISSING_PSSH";f[f.v2b=7396]="PLAY_MSE_EME_MISSING_CERT";f[f.wDa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";f[f.Jdb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";f[f.qZ=7399]="PLAY_MSE_SET_LICENSE_ERROR";f[f.sab=7400]="EXTERNAL";f[f.pZ=7500]="PAUSE_TIMEOUT";f[f.VY=7502]="INACTIVITY_TIMEOUT";f[f.s8a=7510]="AUTHORIZATION_EXPIRED";f[f.E_b=7520]="DECRYPT_AUDIO";f[f.jab=7700]="EME_INVALID_KEYSYSTEM";f[f.gya=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";f[f.MO=7702]="EME_CREATE_MEDIAKEYS_FAILED";f[f.BY=7703]="EME_GENERATEREQUEST_FAILED";f[f.nya=7704]="EME_UPDATE_FAILED";f[f.lya=7705]="EME_KEYSESSION_ERROR";f[f.kya=7706]="EME_KEYMESSAGE_EMPTY";f[f.mab=7707]="EME_REMOVE_FAILED";f[f.lab=7708]="EME_LOAD_FAILED";f[f.gab=7709]="EME_CREATE_SESSION_FAILED";f[f.q$=7710]="EME_LDL_RENEWAL_ERROR";f[f.iya=7711]="EME_INVALID_INITDATA_DATA";f[f.jya=7712]="EME_INVALID_LICENSE_DATA";f[f.kab=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";f[f.X_b=7714]="EME_MEDIAKEYS_GENERIC_ERROR";f[f.fya=7716]="EME_CLOSE_FAILED";f[f.nab=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";f[f.Cdb=7800]="PLAYDATA_STORE_FAILURE";f[f.q2b=7801]="PLAYDATA_SEND_FAILURE";f[f.sO=7900]="BRANCH_PLAY_FAILURE";f[f.XH=7901]="BRANCH_QUEUE_FAILURE";f[f.Nva=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";f[f.P1b=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";f[f.Q1b=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";f[f.rdb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.M || (b.M={}));(function(f){f[f.km=1001]="UNKNOWN";f[f.hj=1003]="EXCEPTION";f[f.Ibb=1004]="INVALID_DI";f[f.m8a=1011]="ASYNCLOAD_EXCEPTION";f[f.n8a=1013]="ASYNCLOAD_TIMEOUT";f[f.BZb=1015]="ASYNCLOAD_BADCONFIG";f[f.k8a=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";f[f.l8a=1017]="ASYNCLOAD_COMPONENT_MISSING";f[f.lP=1101]="HTTP_UNKNOWN";f[f.H$=1102]="HTTP_XHR";f[f.iP=1103]="HTTP_PROTOCOL";f[f.hP=1104]="HTTP_OFFLINE";f[f.kP=1105]="HTTP_TIMEOUT";f[f.sD=1106]="HTTP_READTIMEOUT";f[f.lA=1107]="HTTP_ABORT";f[f.Eza=1108]="HTTP_PARSE";f[f.Aza=1110]="HTTP_BAD_URL";f[f.jP=1111]="HTTP_PROXY";f[f.JBa=1203]="MSE_AUDIO";f[f.KBa=1204]="MSE_VIDEO";f[f.rcb=1250]="MSE_MEDIA_ERR_BASE";f[f.o1b=1251]="MSE_MEDIA_ERR_ABORTED";f[f.r1b=1252]="MSE_MEDIA_ERR_NETWORK";f[f.p1b=1253]="MSE_MEDIA_ERR_DECODE";f[f.s1b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";f[f.q1b=1255]="MSE_MEDIA_ERR_ENCRYPTED";f[f.Rr=1260]="EME_MEDIA_KEYERR_BASE";f[f.c0b=1261]="EME_MEDIA_KEYERR_UNKNOWN";f[f.Y_b=1262]="EME_MEDIA_KEYERR_CLIENT";f[f.b0b=1263]="EME_MEDIA_KEYERR_SERVICE";f[f.a0b=1264]="EME_MEDIA_KEYERR_OUTPUT";f[f.$_b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";f[f.Z_b=1266]="EME_MEDIA_KEYERR_DOMAIN";f[f.d0b=1269]="EME_MEDIA_UNAVAILABLE_CDM";f[f.iab=1280]="EME_ERROR_NODRMSESSSION";f[f.hab=1281]="EME_ERROR_NODRMREQUESTS";f[f.U_b=1282]="EME_ERROR_INDIV_FAILED";f[f.V_b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";f[f.oab=1284]="EME_TIMEOUT_MESSAGE";f[f.e0b=1285]="EME_TIMEOUT_KEYCHANGE";f[f.mya=1286]="EME_UNDEFINED_DATA";f[f.hI=1287]="EME_INVALID_STATE";f[f.W_b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";f[f.hya=1289]="EME_EMPTY_DATA";f[f.NO=1290]="EME_TIMEOUT";f[f.E1b=1303]="NCCP_METHOD_NOT_SUPPORTED";f[f.H1b=1305]="NCCP_PARSEXML";f[f.Zdb=1309]="PROCESS_EXCEPTION";f[f.G1b=1311]="NCCP_NETFLIXID_MISSING";f[f.I1b=1312]="NCCP_SECURENETFLIXID_MISSING";f[f.B1b=1313]="NCCP_HMAC_MISSING";f[f.A1b=1315]="NCCP_HMAC_MISMATCH";f[f.z1b=1317]="NCCP_HMAC_FAILED";f[f.y1b=1321]="NCCP_CLIENTTIME_MISSING";f[f.x1b=1323]="NCCP_CLIENTTIME_MISMATCH";f[f.gza=1331]="GENERIC";f[f.Kcb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";f[f.Lcb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";f[f.J1b=1341]="NCCP_TRANSACTION";f[f.C1b=1343]="NCCP_INVALID_DRMTYPE";f[f.D1b=1344]="NCCP_INVALID_LICENCE_RESPONSE";f[f.F1b=1345]="NCCP_MISSING_PAYLOAD";f[f.G2b=1346]="PROTOCOL_NOT_INITIALIZED";f[f.F2b=1347]="PROTOCOL_MISSING_FIELD";f[f.E2b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";f[f.zA=1402]="STORAGE_NODATA";f[f.Z2b=1403]="STORAGE_EXCEPTION";f[f.g3b=1405]="STORAGE_QUOTA_NOT_GRANTED";f[f.h3b=1407]="STORAGE_QUOTA_TO_SMALL";f[f.rGa=1411]="STORAGE_LOAD_ERROR";f[f.Meb=1412]="STORAGE_LOAD_TIMEOUT";f[f.sGa=1414]="STORAGE_SAVE_ERROR";f[f.Peb=1415]="STORAGE_SAVE_TIMEOUT";f[f.Aba=1417]="STORAGE_DELETE_ERROR";f[f.qGa=1418]="STORAGE_DELETE_TIMEOUT";f[f.f3b=1421]="STORAGE_FS_REQUESTFILESYSTEM";f[f.c3b=1423]="STORAGE_FS_GETDIRECTORY";f[f.e3b=1425]="STORAGE_FS_READENTRIES";f[f.$2b=1427]="STORAGE_FS_FILEREAD";f[f.b3b=1429]="STORAGE_FS_FILEWRITE";f[f.a3b=1431]="STORAGE_FS_FILEREMOVE";f[f.d3b=1432]="STORAGE_FS_PARSEJSON";f[f.Oeb=1451]="STORAGE_NO_LOCALSTORAGE";f[f.Neb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";f[f.W1b=1501]="NTBA_UNKNOWN";f[f.V1b=1502]="NTBA_EXCEPTION";f[f.R1b=1504]="NTBA_CRYPTO_KEY";f[f.T1b=1506]="NTBA_CRYPTO_OPERATION";f[f.S1b=1508]="NTBA_CRYPTO_KEYEXCHANGE";f[f.U1b=1515]="NTBA_DECRYPT_UNSUPPORTED";f[f.lxa=1553]="DEVICE_NO_ESN";f[f.kxa=1555]="DEVICE_ERROR_GETTING_ESN";f[f.yab=1701]="FORMAT_UNKNOWN";f[f.Uya=1713]="FORMAT_XML";f[f.zab=1715]="FORMAT_XML_CONTENT";f[f.xab=1721]="FORMAT_BASE64";f[f.GY=1723]="FORMAT_DFXP";f[f.Xab=1801]="INDEXDB_OPEN_EXCEPTION";f[f.Rza=1802]="INDEXDB_NOT_SUPPORTED";f[f.Wab=1803]="INDEXDB_OPEN_ERROR";f[f.Sza=1804]="INDEXDB_OPEN_NULL";f[f.Vab=1805]="INDEXDB_OPEN_BLOCKED";f[f.Yab=1807]="INDEXDB_OPEN_TIMEOUT";f[f.Uab=1808]="INDEXDB_INVALID_STORE_STATE";f[f.WY=1809]="INDEXDB_ACCESS_EXCEPTION";f[f.Bcb=1901]="MSL_UNKNOWN";f[f.ucb=1911]="MSL_INIT_NO_MSL";f[f.MBa=1913]="MSL_INIT_ERROR";f[f.vcb=1915]="MSL_INIT_NO_WEBCRYPTO";f[f.scb=1931]="MSL_ERROR";f[f.Acb=1933]="MSL_REQUEST_TIMEOUT";f[f.zcb=1934]="MSL_READ_TIMEOUT";f[f.tcb=1935]="MSL_ERROR_HEADER";f[f.t1b=1936]="MSL_ERROR_ENVELOPE";f[f.u1b=1937]="MSL_ERROR_MISSING_PAYLOAD";f[f.LBa=1957]="MSL_ERROR_REAUTH";f[f.Xba=2103]="WEBCRYPTO_MISSING";f[f.ofb=2105]="WEBCRYPTOKEYS_MISSING";f[f.pfb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";f[f.k_b=2200]="CACHEDDATA_PARSEJSON";f[f.jwa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";f[f.l_b=2202]="CACHEDDATA_UPGRADE_FAILED";f[f.iA=2203]="CACHEDDATA_INVALID_FORMAT";f[f.yZb=3E3]="ACCOUNT_CHANGE_INFLIGHT";f[f.zZb=3001]="ACCOUNT_INVALID";f[f.M_b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";f[f.L_b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";f[f.J_b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";f[f.K_b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";f[f.I_b=3202]="DOWNLOADED_LICENSE_EXCEPTION";f[f.i3b=3300]="STORAGE_VA_LOAD_ERROR";f[f.j3b=3301]="STORAGE_VA_LOAD_TIMEOUT";f[f.m3b=3302]="STORAGE_VA_SAVE_ERROR";f[f.n3b=3303]="STORAGE_VA_SAVE_TIMEOUT";f[f.k3b=3304]="STORAGE_VA_REMOVE_ERROR";f[f.l3b=3305]="STORAGE_VA_REMOVE_TIMEOUT";f[f.Daa=3077]="PBO_DEVICE_EOL_WARNING";f[f.mDa=3078]="PBO_DEVICE_EOL_FINAL";f[f.pDa=3100]="PBO_DEVICE_RESET";f[f.oDa=3101]="PBO_DEVICE_RELOAD";f[f.nDa=3102]="PBO_DEVICE_EXIT";f[f.zdb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";f[f.mdb=5005]="PBO_ACCOUNT_ON_HOLD";f[f.qdb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";f[f.qDa=5007]="PBO_INCORRECT_PIN";f[f.xdb=5008]="PBO_MOBILE_ONLY";f[f.Adb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";f[f.tdb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";f[f.odb=5059]="PBO_BLACKLISTED_IP";f[f.ndb=5070]="PBO_AGE_VERIFICATION_REQUIRED";f[f.pdb=5080]="PBO_CHOICE_MAP_ERROR";f[f.ydb=5090]="PBO_RESTRICTED_TO_TESTERS";f[f.vdb=5091]="PBO_MALFORMED_REQUEST";f[f.udb=5092]="PBO_INVALID_SERVICE_VERSION";f[f.wdb=5093]="PBO_MDX_INVALID_CTICKET";f[f.sdb=5094]="PBO_FREE_PREVIEW_ENDED";f[f.$9a=5100]="DECODER_TIMEOUT_BUFFERING";f[f.b$a=5101]="DECODER_TIMEOUT_PRESENTING";f[f.a$a=5102]="DECODER_TIMEOUT_PLAYING";f[f.S$a=5200]="DOWNLOADER_IO_ERROR";f[f.Mva=5300]="BRANCHING_SEGMENT_NOTFOUND";f[f.N8a=5301]="BRANCHING_PRESENTER_UNINITIALIZED";f[f.OZb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";f[f.N9=5303]="BRANCHING_ASE_UNINITIALIZED";f[f.K8a=5304]="BRANCHING_ASE_FAILURE";f[f.LZb=5305]="BRANCHING_MOMENT_FAILURE";f[f.L8a=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";f[f.NZb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";f[f.O8a=5308]="BRANCHING_SEEK_THREW";f[f.MZb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";f[f.M8a=5310]="BRANCHING_PLAY_TIMEDOUT";f[f.P8a=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";f[f.Q8a=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";f[f.Qeb=5500]="STUDIO_MUXED_MANIFEST";f[f.ecb=5600]="MANIFEST_HYDRATION_FAILURE";})(c=b.L || (b.L={}));(function(f){f[f.ZZb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";f[f.PZb=5005]="BR_ACCOUNT_ON_HOLD";f[f.TZb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";f[f.WZb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";f[f.SZb=5059]="BR_BLACKLISTED_IP";f[f.QZb=5070]="BR_AGE_VERIFICATION_REQUIRED";f[f.XZb=2204]="BR_PLAYBACK_CONTEXT_CREATION";f[f.UZb=2205]="BR_DRM_LICENSE_AQUISITION";f[f.YZb=2206]="BR_PLAYBACK_SERVICE_ERROR";f[f.VZb=2207]="BR_ENDPOINT_ERROR";f[f.RZb=2208]="BR_AUTHORIZATION_ERROR";})(b.Iya || (b.Iya={}));b.UY={X8a:"400",I3b:"401",DDa:"413"};b.cZ={C0b:1,B3b:2,h0b:3,H3b:4,f1b:5,g0b:6,Sba:7,j0b:8,O2b:9,W2b:10};(function(f){f[f.o2b=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";f[f.p2b=98]="PAIRING_UNKNOWN_ERROR";})(b.eCa || (b.eCa={}));b.tab=function(f){return 7100 <= f && 7200 > f;};b.Gya=function(f){return f == a.pZ || f == a.VY;};b.Jya=function(f){return 1100 <= f && 1199 >= f;};b.vab=function(f){return 1300 <= f && 1399 >= f;};b.uab=function(f){return 1900 <= f && 1999 >= f;};b.s$=function(f,k){return 1 <= f && 9 >= f?k + f:k;};b.Kya=function(f){return b.s$(f,c.rcb);};b.Lya=function(f){return b.s$(f,c.Rr);};b.Sr=function(f){var k,l,d;k={};l=f.errorExternalCode || f.Ze;d=f.errorDetails || f.rb;k.ErrorSubCode=f.errorSubCode || f.oa || c.km;l && (k.ErrorExternalCode=l);d && (k.ErrorDetails=d);return k;};},function(r,b,a){var k;function c(){return k.ZP.apply(this,arguments) || this;}function f(l){return new k.Tr(l,b.ma);}Object.defineProperty(b,"__esModule",{value:!0});b.ab=b.Kza=b.saa=b.rn=b.ma=b.FD=b.timestamp=b.aEb=b.U5=b.Tg=b.xc=b.h1a=b.CJb=b.cfb=void 0;k=a(304);la(c,k.ZP);b.cfb=c;b.CJb=function(l){return new k.Tr(l,b.FD);};b.h1a=function(l){return new k.Tr(l * b.rn.Yf,b.FD);};b.xc=f;b.Tg=function(l){return new k.Tr(l,b.rn);};b.U5=function(l){return new k.Tr(l,b.saa);};b.aEb=function(l){return new k.Tr(l,b.Kza);};b.timestamp=function(l){return f(l);};b.FD=new c(1,"\u03bcs");b.ma=new c(1E3,"ms",b.FD);b.rn=new c(1E3 * b.ma.Yf,"s",b.FD);b.saa=new c(60 * b.rn.Yf,"min",b.FD);b.Kza=new c(60 * b.saa.Yf,"hr",b.FD);b.ab=f(0);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={bU:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(2);f=a(144);k=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);return d;})(Error);b.assert=function(l,d){if(!l)try{throw new k(d || "Assertion failed");}catch(g){throw (f.em.H.error("Assertion failed",{value:l,message:d,stack:g.stack}),g);}};},function(r,b,a){var c,f,k,l,d,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.ha=b.$Ea=b.nT=b.jh=b.mi=b.log=b.Ag=b.lL=b.sNa=b.Kq=b.kB=b.Dc=b.wnb=b.yfa=b.unb=b.vnb=b.Ii=b.$N=b.wX=b.wh=b.yc=b.wa=void 0;c=a(193);r=a(8);f=a(25);k=a(77);l=a(76);d=a(35);g=a(29);h=a(137);m=a(39);a=a(46);b.wa=c.kd.get(m.Wh);b.yc=c.kd.get(a.mj);b.wh=c.kd.get(k.yu);b.wX=b.wh.encode.bind(b.wh);b.$N=b.wh.decode.bind(b.wh);b.Ii=c.kd.get(l.vw);b.vnb=b.Ii.encode.bind(b.Ii);b.unb=b.Ii.decode.bind(b.Ii);b.yfa=b.Ii.AF.bind(b.Ii);b.wnb=b.Ii.c6a.bind(b.Ii);b.Dc=c.kd.get(d.Uh);b.kB=function(n){n=g.Ce(n)?b.$N(n):n;return b.Dc.encode(n);};b.Kq=b.Dc.decode.bind(b.Dc);b.sNa=function(n){return b.wX(b.Kq(n));};b.lL=function(){return c.kd.get(f.Aw);};b.Ag=c.kd.get(r.Jb);b.log=b.Ag.Cb("General");b.mi=function(n,q){return b.Ag.Cb(n,void 0,q);};b.jh=function(n,q,p){return b.Ag.Cb(q,n,p);};b.nT=function(n,q,p,t){return b.Ag.Cb(n,void 0,t,q,p);};b.$Ea=function(n,q,p){return c.kd.get(h.KP)(n,q,p).zta();};b.ha=c.kd;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LO=b.Jb=b.baa=b.jj=void 0;r=b.jj || (b.jj={});r[r.wab=0]="FATAL";r[r.wf=1]="ERROR";r[r.Wba=2]="WARN";r[r.L$=3]="INFO";r[r.pHa=4]="TRACE";r[r.ia=5]="DEBUG";b.baa="LogFieldBuilderFactorySymbol";b.Jb="LoggerFactorySymbol";b.LO={};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.HP=b.hza=b.zIa=void 0;r=a(2);r.__exportStar(a(379),b);r.__exportStar(a(110),b);r.__exportStar(a(22),b);r.__exportStar(a(789),b);r.__exportStar(a(790),b);r.__exportStar(a(791),b);r.__exportStar(a(792),b);r.__exportStar(a(793),b);r.__exportStar(a(794),b);r.__exportStar(a(795),b);c=r.__importDefault(a(796));b.zIa=c.default;c=r.__importDefault(a(797));b.hza=c.default;a=r.__importDefault(a(385));b.HP=a.default;},function(r){var b;b={ya:function(a){return "number" === typeof a;},kh:function(a){return "object" === typeof a;},Ce:function(a){return "string" === typeof a;},fa:function(a){return "undefined" === typeof a;},x6b:function(a){return "boolean" === typeof a;},Oc:function(a){return "function" === typeof a;},tb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},IMb:function(a){var c,f;f=[];if(!b.kh(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && f.push([c,a[c]]);}return f;}};b.We=b.forEach=function(a,c,f){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var k=0,l=a.length;k < l;k++){c.call(f,a[k],k,a);}else for(k in a){b.has(a,k) && c.call(f,a[k],k,a);}return a;};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cna=b.localStorage=b.MEb=b.indexedDB=b.eZ=b.kp=b.uA=b.LD=b.URL=b.hZ=b.fZ=b.dCa=b.aZ=b.CD=b.DD=b.Bo=b.qn=b.Bi=b.laa=b.Jw=b.iHa=b.cI=b.PD=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.Ex=b.Ncb=b.He=b.ru=b.su=b.gZ=b.vA=void 0;r=pb;b.Te=r.navigator;b.vA=null === b.Te || void 0 === b.Te?void 0:b.Te.userAgent;b.gZ=r.location;b.su=r.screen;b.ru=r.performance;b.He=r.document;b.Ncb=b.He.documentElement;b.Ex=Array.prototype;b.sort=b.Ex.sort;b.map=b.Ex.map;b.slice=b.Ex.slice;b.every=b.Ex.every;b.reduce=b.Ex.reduce;b.filter=b.Ex.filter;b.forEach=b.Ex.forEach;b.pop=b.Ex.pop;b.PD=Object.create;b.cI=Date.now;b.iHa=String.fromCharCode;b.Jw=Math.floor;b.laa=Math.ceil;b.Bi=Math.round;b.qn=Math.max;b.Bo=Math.min;b.DD=Math.random;b.CD=Math.abs;b.aZ=Math.pow;b.dCa=Math.sqrt;b.fZ=r.escape;b.hZ=r.unescape;b.URL=r.URL || r.webkitURL;b.LD=r.MediaSource || r.WebKitMediaSource;b.uA=r.webkitCrypto || r.msCrypto || r.crypto;b.kp=b.uA && (b.uA.webkitSubtle || b.uA.subtle);b.eZ=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.MEb=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.cna=a || "noex";}},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yI=b.$Y=b.g9a=b.b9a=b.d9a=b.e9a=b.$va=b.a9a=b.c9a=b.Zva=b.f9a=b.m9a=b.k9a=b.l9a=b.j9a=b.cab=b.bab=b.aab=b.icb=b.jcb=b.Iw=b.FBa=b.GBa=b.xI=b.Zxa=b.eab=b.o$=b.AY=b.adb=b.Geb=b.BBa=b.W8a=b.ixa=b.oZ=b.OD=b.nZ=b.ABa=b.rA=b.V8a=b.Lva=b.Xbb=b.mfb=b.hcb=b.gcb=b.Aeb=b.zeb=b.Jk=b.Ie=b.PFa=b.Kk=void 0;b.tba=void 0;b.Kk=function(){};b.PFa=function(){return !0;};b.Ie={W:!0};b.Jk=1E3;b.zeb=86400;b.Aeb=604800;b.gcb=1E4;b.hcb=1E7;b.mfb=1.5;b.Xbb=.128;b.Lva=7.8125;b.V8a=128;b.rA=145152E5;b.ABa=1E5;b.nZ="$netflix$player$order";b.OD=-1;b.oZ=1;b.ixa=["en-US"];b.W8a=8;b.BBa=65535;b.Geb=65536;b.adb=Number.MAX_VALUE;b.AY="playready";b.o$="widevine";b.eab="fps";b.Zxa="clearkey";b.xI='audio/mp4; codecs="mp4a.40.5"';b.GBa='audio/mp4; codecs="mp4a.40.42"';b.FBa='audio/mp4; codecs="mp4a.a6"';b.Iw='video/mp4; codecs="avc1.640028"';b.jcb='video/mp4; codecs="hev1.2.6.L153.B0"';b.icb='video/mp4; codecs="dvhe.01000000"';b.aab="9A04F079-9840-4286-AB92-E65BE0885F95";b.bab="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.cab="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.j9a=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.l9a="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.k9a="4E657466-6C69-7846-7261-6D6552617465";b.m9a="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.f9a="mp4a";b.Zva="enca";b.c9a="ec-3";b.a9a="avc1";b.$va="encv";b.e9a="hvcC";b.d9a="hev1";b.b9a="dvhe";b.g9a="vp09";b.$Y=0;b.yI=1;b.tba="position:relative;width:100%;height:100%;overflow:hidden";},function(r,b,a){var k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B;function c(D){return (D=b.config.Sta[f(D)])?D:{};}function f(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":D;}Object.defineProperty(b,"__esModule",{value:!0});b.pqb=b.qqb=b.cPa=b.Mga=b.oqb=b.dPa=b.nqb=b.ePa=b.Lga=b.config=void 0;k=a(12);l=a(47);d=a(7);g=a(38);h=a(21);a(29);m=a(25);n=a(50);q=a(24);a(8);p=a(11);t=a(18);u=a(171);w=a(55);v=a(99);x=a(131);y=a(49);z=a(4);A=a(34);B=a(19);b.ePa=function(D,E){var xa,ua,X,sa,T,R,ca,ja,Pa;function F(wa,Ua){q.de(wa,function(Va,cb){t.Oc(cb)?Ua[Va]=cb.call(void 0,Ua[Va]):t.kh(cb) && (Ua[Va]=Ua[Va] || ({}),F(cb,Ua[Va]));});}function C(wa,Ua,Va,cb){for(var Ya=[],kb=3;kb < arguments.length;++kb){Ya[kb - 3]=arguments[kb];}return function($a){t.Kc($a) && (Va=$a);h.hb(t.Oc(wa));return wa.apply(void 0,[Ua,Va].concat(da(Ya)));};}function G(wa){wa=wa.toLowerCase();sa.hasOwnProperty(wa) && (X[wa]=sa[wa],T[wa]=sa[wa]);return wa;}function J(wa,Ua,Va){var cb;wa=wa.toLowerCase();if(X.hasOwnProperty(wa)){cb=X[wa];try{cb=Va?Va(cb):cb;}catch(Ya){cb=void 0;}if(void 0 !== cb)return cb;h.hb(!1);d.log.error("Invalid configuration value. Name: " + wa);}return Ua;}function K(wa,Ua,Va,cb){return J(wa,Ua,function(Ya){t.Ce(Ya) && (Ya=q.se(Ya));if(t.SWa(Ya,Va,cb))return Ya;});}function H(wa,Ua,Va,cb){return J(wa,Ua,function(Ya){t.Ce(Ya) && (Ya=q.se(Ya));if(t.Oy(Ya,Va,cb))return Ya;});}function L(wa,Ua,Va,cb){return J(wa,Ua,function(Ya){t.Ce(Ya) && (Ya=parseFloat(Ya));if(t.ya(Ya,Va,cb))return Ya;});}function P(wa,Ua,Va){return J(wa,Ua,function(cb){if(Va?Va.test(cb):t.Ce(cb))return cb;});}function I(wa,Ua){return J(wa,Ua,function(Va){if("true" == Va || !0 === Va)return !0;if("false" == Va || !1 === Va)return !1;});}function O(wa,Ua){return J(wa,Ua,function(Va){if(t.Ce(Va))return JSON.parse(p.hZ(Va));if(t.kh(Va))return Va;});}function N(wa,Ua,Va,cb,Ya,kb){var $a;wa=wa.toLowerCase();X.hasOwnProperty(wa) && ($a=X[wa]);if(!t.Kc($a))return Ua;if(t.Ce($a))if($a[0] !== Va)$a=cb($a);else try{$a=JSON.parse(p.hZ($a));}catch(Ra){$a=void 0;}if(void 0 === $a)return Ua;for(wa=0;wa < Ya.length;wa++){if(!Ya[wa]($a))return Ua;}return kb?kb($a):$a;}function M(wa,Ua,Va,cb,Ya){return N(wa,Ua,"[",function(kb){kb=kb.split("|");for(var $a=kb.length;$a--;){kb[$a]=q.se(kb[$a]);}return kb;},[function(kb){return t.isArray(kb) && 0 < kb.length;},function(kb){for(var $a=kb.length;$a--;){if(!t.Oy(kb[$a],Va,cb))return !1;}return !0;},function(kb){return void 0 === Ya || kb.length >= Ya;}]);}function Q(wa,Ua){return N(wa,Ua,"[",function(Va){Va=t.isArray(Va)?Va:Va.split("|");for(var cb=Va.length;cb--;){try{Va[cb]=JSON.parse(p.hZ(Va[cb]));}catch(Ya){Va=void 0;break;}}return Va;},[function(Va){return t.isArray(Va) && 0 < Va.length;},function(Va){for(var cb=Va.length;cb--;){if(!t.Kc(Va[cb]) || !t.kh(Va[cb]))return !1;}return !0;}]);}function S(wa,Ua,Va,cb){return N(wa,Ua,"[",function(Ya){return t.isArray(Ya)?Ya:Ya.split("|");},[function(Ya){return t.isArray(Ya) && 0 < Ya.length;},function(Ya){for(var kb=Ya.length;kb--;){if(Va?!Va.test(Ya[kb]):!t.Py(Ya[kb]))return !1;}return !0;},function(Ya){return void 0 === cb || Ya.length >= cb;}]);}function fa(wa,Ua,Va){return N(wa,Ua,"{",function(cb){var Ya,$a,Ra;Ya={};cb=cb.split(";");for(var kb=cb.length;kb--;){$a=cb[kb];Ra=$a.indexOf(":");if(0 >= Ra)return;Ya[$a.substring(0,Ra)]=$a.substring(Ra + 1);}return Ya;},[function(cb){return t.kh(cb) && 0 < Object.keys(cb).length;},function(cb){if(Va)for(var Ya in cb){if(!Va.test(cb[Ya]))return !1;}return !0;}],function(cb){var Ya;Ya={};q.Tb(Ya,Ua);q.Tb(Ya,cb);return Ya;});}function qa(wa){var Ua;Ua=[];q.de(wa,function(Va,cb){var Ya;try{Ya="videoapp" === Va.toLowerCase()?"[object object]":JSON.stringify(cb);}catch(kb){Ya="cantparse";}Ua.push(Va + "=" + Ya);});return Ua.join("\n");}xa=/^[0-9]+[%]?$/;ua=/^[0-9]*$/;T={};R=d.ha.get(g.gm);ca=d.ha.get(x.IP);(function(wa){function Ua(Va){Va.split(",").forEach(function(cb){var Ya;Ya=cb.indexOf("=");0 < Ya && (X[cb.substring(0,Ya).toLowerCase()]=cb.substring(Ya + 1));});}X={};q.Tb(X,wa);D && D.length && p.forEach.call(D,function(Va){t.Ce(Va)?Ua(Va):t.kh(Va) && q.Tb(X,Va,{WL:!0});});sa=q.Tb({},l.C3(),{WL:!0});if(wa=l.O1a().cadmiumconfig)(d.log.info("Config cookie loaded",wa),Ua(wa));if(d.ha.get(A.Mk).O0 || X.istestaccount)(q.Tb(X,sa),T=sa);})(E);b.config={};ja={Ewb:C(I,G("enableXHEAAC"),!1),pRa:C(I,G("enableDDPlus20"),!0),oRa:C(I,G("enableDDPlus"),!0),MS:C(I,G("enableDDPlusAtmos"),!1),mwb:C(I,G("enableLSSDH"),!0),gwb:C(I,G("enableHEVC"),!1),d0a:C(I,G("overrideEnableHEVC"),!1),lia:C(I,G("enableHDR"),!1),c0a:C(I,G("overrideEnableHDR"),!1),b0a:C(I,G("overrideEnableDV"),!1),LK:C(I,G("enableAVCHigh"),ca.LK),BG:C(I,G("overrideEnableAVCHigh"),ca.BG),Cwb:C(I,G("enableVP9"),!1),e0a:C(I,G("overrideEnableVP9"),!1),awb:C(I,G("enableAV1"),!1),a0a:C(I,G("overrideEnableAV1"),!1),FMb:C(I,G("overrideEnableXHEAAC"),!1),swb:C(I,G("enablePRK"),!1),ewb:C(I,G("enableDV"),!1),hwb:C(I,G("enableHWDRM"),!1),kwb:C(I,G("enableImageSubs"),!0),iYb:C(I,G("useLegacySubs"),!1),jB:C(S,G("audioProfiles"),ca.jB),e5b:C(I,G("disableHD"),!1),Awb:C(I,G("enableUHD"),!0),Z8:C(H,"videoCapabilityDetectorType",m.Ei.fu),ifa:C(H,"audioCapabilityDetectorType",m.cu.fu),pw:C(S,G("videoProfiles"),ca.pw),wkb:C(S,G("timedTextProfiles"),ca.hw),hw:function(){return ja.wkb().filter(function(wa){return wa === n.Vr.d$?ja.mwb():wa === n.Vr.zI?ja.kwb():!0;});},endpoint:C(I,G("endpoint"),!1),version:C(P,"version","unknown"),T3a:C(I,G("setMediaKeysEarly"),!1),L7b:C(I,G("nrdpPersistCookiesToIndexDB"),!1),f7a:C(I,G("useHdcpLevelOnCast"),!1),iwb:C(I,G("enableHdcp"),!1),Sv:C(I,G("prepareCadmium"),!1),Ukb:C(I,G("acceptManifestOnPrepareItemParams"),!0),iOb:C(O,"ppmconfig",{maxNumberTitlesScheduled:1}),SNb:C(I,G("playerPredictionModelV2"),!0),OS:C(I,G("enableLdlPrefetch"),!1),wRa:C(I,G("enableMediaPrefetch"),!1),wub:C(I,G("deleteCachedManifestOnPlayback"),!1),vub:C(I,G("deleteCachedManifestOnCreate"),!1),Aub:C(I,G("deleteOtherManifestCacheOnCreate"),!1),zub:C(I,G("deleteOtherLdlCacheOnCreate"),!1),a8b:C(H,G("periodicPrepareLogsIntervalMilliseconds"),36E5),GOb:C(H,G("prepareManifestCacheMaxCount"),50),EOb:C(H,G("prepareLdlCacheMaxCount"),30),l1a:C(H,G("prepareManifestExpiryMilliseconds"),12E5),FOb:C(H,G("prepareLdlExpiryMilliseconds"),78E4),xOb:C(H,G("prefetcherMaxWishlistSize"),1),wOb:C(H,G("prefetcherBudgetInBytes"),Infinity),yOb:C(I,G("prefetcherOverrideItemPriority"),!0),AOb:C(I,G("prefetcherRemoveItemOnManifestExpiration"),!0),pOb:C(I,G("preferManifestFromPrefetcher"),!1),DOb:C(P,G("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),t9b:C(O,"videoApp"),VC:C(O,"storageRules"),Nyb:C(I,"ftlEnabled",!0),Gla:C(H,G("imageSubsResolution"),0),wEb:C(H,G("imageSubsMaxBuffer"),ca.RIb.ea(y.du),0),VR:C(I,G("captureBatteryStatus"),!1),wzb:C(H,G("getBatteryApiTimeoutMilliseconds"),5E3),Pl:C(P,G("keySystemId"),ca.Pl),AXa:C(S,G("keySystemList"),void 0,void 0),GJb:C(H,G("hdcpGlobalTimeout1"),1E4),HJb:C(H,G("hdcpGlobalTimeout2"),1E4),q7b:C(H,G("hdcpQueryTimeout1"),1E3),r7b:C(H,G("hdcpQueryTimeout2"),1E3),sZa:C(H,G("hdcpQueryTimeout2"),100),IJb:C(I,G("microsoftHwdrmRequiresHevc"),!1),ioa:C(I,G("microsoftClearLeadRequiresSwdrm"),!1),DJb:C(I,G("microsoftEnableDeviceInfo"),!1),EJb:C(I,G("microsoftEnableHardwareInfo"),!1),FJb:C(I,G("microsoftEnableHardwareReset"),!1),fYb:C(I,G("useHevcCodecForDolbyVision"),!1),pwb:C(I,G("enableMediaCapabilities"),!1),hOb:C(I,G("powerEfficientForVideo"),!1),XHb:C(I,"logMediaPipelineStatus",!1),fW:C(I,G("renderDomDiagnostics"),!0),gYa:function(){return -1;},VL:C(K,G("logDisplayMaxEntryCount"),ca.VL,-1),cIb:C(K,G("logToConsoleLevel"),-1),A4b:C(K,G("bladerunnerCmdHistorySize"),10),hv:function(){return R.hv;},WXb:C(I,"upgradeNetflixId",!0),hna:C(I,"logErrorIfEsnNotProvided",!0),tia:C(I,"enforceSinglePlayback",ca.tia),t2:C(I,"enforceSingleSession",ca.t2),Bga:C(I,"closeOtherPlaybacks",!0),Emb:C(H,"asyncLoadTimeout",15E3,1),mIb:C(H,"mainThreadMonitorPollRate",0),K7b:C(I,"nrdpAlwaysShowUIOverlay",!1),M7b:C(I,"nrdpValidateSSOTokens",!0),H8b:C(I,"showNrdpDebugBadging",!1),c9:function(){return R.c9;},Ay:function(){return R.Ay;},kK:function(){return R.kK;},KH:function(){return R.KH;},v7a:C(H,G("verbosePlaybackInfoDenominator"),0),l7:C(I,"renderTimedText",!0),jOb:C(I,"preBufferTimedText",!0),wxb:C(I,"fatalOnTimedTextLoadError",!0),wta:C(fa,"timedTextStyleDefaults",{}),v8:C(fa,"timedTextStyleOverrides",{}),vta:C(fa,"timedTextFontFamilyMapping",ca.vta || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),TN:C(H,"timedTextSimpleFallbackThreshold",ca.TN.ea(y.du)),qha:C(P,G("customDfxpUrl")),zwb:C(I,G("enableSubtitleTrackerLogging"),!1),ASb:C(I,G("sendSubtitleQoeLogblobOnMidplay"),!1),bga:C(M,"cdnIdWhiteList",[]),aga:C(M,"cdnIdBlackList",[]),lja:C(P,G("forceAudioTrack")),sKb:C(I,"muteVolumeOnPlaybackClose",!0),N7b:C(P,"nrdpVolumeControlType","VOLUME_STREAM"),qja:C(P,G("forceTimedTextTrack")),ZIb:C(H,G("maxRetriesTimedTextDownload"),0),eWb:C(H,G("timedTextRetryInterval"),8E3),RUb:C(P,"storageType","idb",/^(none|fs|idb|ls)$/),cYa:C(H,"lockExpiration",1E4),VHb:C(H,"lockRefresh",3E3),Rob:C(I,"captureUnhandledExceptions",!0),vEb:C(I,"ignoreUnhandledExceptionDuringPlayback",!0),iXb:C(I,"unhandledExceptionsArePlaybackErrors",!1),A6a:C(P,"unhandledExceptionSource",""),ROb:C(I,"preserveLastFrame",!1),SJb:C(H,"minBufferingTimeInMilliseconds",4E3),mPb:C(H,"progressBackwardsGraceTimeMilliseconds",4E3),nPb:C(H,"progressBackwardsMinPercent",10),Inb:C(P,G("bookmarkIgnoreBeginning"),"0",xa),Jnb:C(P,G("bookmarkIgnoreEnd"),"5%",xa),Knb:C(P,G("bookmarkIgnoreEndForBranching"),"60000",xa),YL:C(H,"maxParallelConnections",3),mra:C(I,"reportThroughputInLogblobs",!0),eM:C(H,"minAudioMediaRequestDuration",16E3),QJb:C(H,"minAudioMediaRequestDurationBranching",0),iM:C(H,"minVideoMediaRequestDuration",4E3),VJb:C(H,"minVideoMediaRequestDurationAL1",0),WJb:C(H,"minVideoMediaRequestDurationBranching",0),L5:C(H,"minAudioMediaRequestSizeBytes",0),S5:C(H,"minVideoMediaRequestSizeBytes",0),Ivb:C(I,"droppedFrameRateFilterEnabled",!1),Jvb:C(H,"droppedFrameRateFilterMaxObservation",60,10,1E3),Lvb:C(function(wa,Ua,Va,cb,Ya,kb){return N(wa,Ua,"[",function($a){$a=$a.split(";");for(var Ra=$a.length;Ra--;){$a[Ra]=$a[Ra].split("|");for(var ya=$a[Ra].length;ya--;){$a[Ra][ya]=q.se($a[Ra][ya]);}}return $a;},[function($a){return t.isArray($a) && 0 < $a.length;},function($a){for(var Ra=$a.length;Ra-- && void 0 !== $a;){if(!t.isArray($a[Ra]))return !1;for(var ya=$a[Ra].length;ya--;){if(!t.Oy($a[Ra][ya],Va,cb))return !1;}}return !0;},function($a){if(void 0 !== Ya)for(var Ra=$a.length;Ra--;){if(Ya !== $a[Ra].length)return !1;}return !0;},function($a){return void 0 === kb || $a.length >= kb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),p5b:C(I,"droppedFrameRateFilterWithoutRebufferEnabled",!0),Kvb:C(H,"droppedFrameRateFilterMinHeight",384),Mvb:C(M,"droppedFramesPercentilesList",[]),JJb:C(I,"microsoftScreenSizeFilterEnabled",!1),FGb:C(I,"keyStatusFilterEnabled",!1),KVa:C(H,"hdcpEngagementWaitTime",0),fXb:C(I,"uiLabelFilterEnabled",!0),eXb:C(O,"uiLabelFilter",{}),qub:C(H,G("defaultVolume"),100,0,100),Qna:C(H,G("maxPlaybackRate"),2,0,16),FQa:C(I,"disableVideoRightClickMenu",!1),N5:C(H,"minDecoderBufferMilliseconds",1E3,0,k.rA),AG:C(H,"optimalDecoderBufferMilliseconds",5E3,0,k.rA),S_a:C(H,"optimalDecoderBufferMillisecondsBranching",3E3,0,k.rA),uC:C(H,"minimumTimeBeforeBranchDecision",3E3,0,k.rA),Xy:C(H,"maxDecoderBufferMilliseconds",ca.Xy.ea(z.ma),0,k.rA),hQa:C(H,"decoderTimeoutMilliseconds",1E4,1),c_a:C(H,"noRenderTimeoutMilliseconds",0),dvb:C(I,"disgardMediaOnAppend",!1),jmb:C(I,"appendMediaBeforeInit",!1),dNb:C(H,"pauseTimeoutLimitMilliseconds",18E5),Ila:C(H,"inactivityMonitorInterval",3E4,0),Tkb:C(M,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),NK:C(I,"enableTrickPlay",!1),Llb:C(M,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),PWb:C(H,"trickPlayHighResolutionBitrateThreshold",1E3),QWb:C(H,"trickPlayHighResolutionThresholdMilliseconds",1E4),TWb:C(L,"trickplayBufferFactor",.5),OWb:C(H,"trickPlayDownloadRetryCount",1),Ina:C(P,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),Coa:C(P,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Jza:C(O,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),XYa:C(K,"maxIQRSamples",Infinity),zZa:C(K,"minIQRSamples",5),m7a:C(I,"useResourceTimingAPI",!1),rEb:C(I,"ignoreFirstByte",!0),pJb:C(I,"mediaRequestAsyncLoadStart",!0),qYb:C(I,"useXHROnLoadStart",!1),Lia:C(M,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),G1:C(H,"connectTimeoutMilliseconds",8E3,500),Hoa:C(H,"noProgressTimeoutMilliseconds",8E3,500),jYb:C(I,"useOnLineApi",!1),U5a:C(H,"timedTextDownloadRetryCountBeforeCdnSwitch",3),C7b:C(H,"netflixRequestExpiryTimeout",0),hZb:C(I,"webkitDecodedFrameCountIncorrectlyReported",!1),fSb:C(H,"seekBackOnAudioTrackChangeMilliseconds",8E3),bNb:C(I,"pausePlaybackOnAudioSwitch",!0),l8:C(S,G("supportedAudioTrackTypes"),[],void 0,1),uWa:C(H,"initialLogFlushTimeout",5E3),W0a:C(P,"playdataPersistKey",R.hv?"unsentplaydatatest":"unsentplaydata"),esa:C(I,"sendPersistedPlaydata",!0),PNb:C(H,"playdataPersistIntervalMilliseconds",4E3),b8b:C(H,"playdataSendDelayMilliseconds",1E4),I7:C(I,"sendPlaydataBackupOnInit",!0),$Hb:C(S,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),LJb:C(I,"midplayEnabled",!0),tZa:C(H,"midplayIntervalMilliseconds",3E5),MJb:C(M,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),BS:C(H,"downloadReportDenominator",0),wvb:C(H,"downloadReportInterval",3E5),fYa:C(H,"logConfigApplyDenominator",0),ANa:C(fa,G("bookmarkByMovieId"),{}),gT:C(I,G("forceLimitedDurationLicense"),!1),kC:C(H,G("licenseRenewalRequestDelay"),0),Ipa:C(H,G("persistedReleaseDelay"),1E4),I6b:C(I,G("limitedDurationFlagOverride"),void 0),e3a:C(H,"safariPlayPauseWorkaroundDelay",100),rZb:C(H,"workaroundValueForSeekIssue",1200),Yfa:C(I,G("callEndOfStream"),ca.Yfa),qNb:C(I,"performRewindCheck",!0),yxb:C(I,"fatalOnUnexpectedSeeking",!0),xxb:C(I,"fatalOnUnexpectedSeeked",!0),wTb:C(I,G("setVideoElementSize")),Opb:C(I,G("clearVideoSrc"),!0),sQa:C(H,G("delayPlayPause"),0),Kr:C(I,G("useTypescriptEme"),!1),e7a:C(I,G("useEncryptedEvent"),!0),ES:C(P,G("drmPersistKey"),"unsentDrmData"),y1a:C(I,G("promiseBasedEme"),!1),Qob:C(I,"captureKeyStatusData",!1),l4:C(I,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),eLb:C(I,G("nudgeSourceBuffer"),!1),Ura:C(K,G("seekDelta"),1),IV:C(I,G("preciseSeeking"),!1),mOb:C(I,G("preciseSeekingOnTwoCoreDevice"),!1),rQa:C(fa,G("delayErrorHandling")),i6a:C(I,"trackingLogEnabled",!1),j6a:C(function(wa,Ua){var Va;Va=fa(wa,Ua,void 0);Va && Object.entries(Va).forEach(function(cb){var Ya;Ya=aa(cb);cb=Ya.next().value;Ya=Ya.next().value;"true" === Ya?Va[cb]=!0:"false" === Ya && (Va[cb]=!1);});return Va;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),Fta:C(P,"trackingLogPath","/customerevents/track/debug"),GWb:C(M,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),ki:C(P,"esn",""),gSa:C(P,"fesn",""),uwb:C(I,G("enablePerformanceLogging"),!1),sRa:C(I,G("enableEmeVerboseLogging"),!1),nwb:C(I,"enableLastChunkLogging",!1),appId:C(P,"appId","",ua),sessionId:C(P,"sessionId","",ua),dga:C(P,"cdnProxyUrl"),nYb:C(I,"usePlayReadyHeaderObject",!1),HSa:C(H,"forceXhrErrorResponseCode",void 0),Sq:{A7b:C(P,"mslApiPath","/msl/"),g8b:C(P,"proxyPath",""),Rz:C(P,"uiVersion"),K8:C(P,"uiPlatform"),K4b:function(){return "0";},gqa:C(S,"preferredLanguages",k.ixa,/^[a-zA-Z-]{2,5}$/,1),qyb:C(P,G("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),wVb:C(I,"supportPreviewContentPin",!0),xVb:C(I,"supportWatermarking",!0),aUb:C(I,"showAllSubDubTracks",!1),D5b:C(I,G("failOnGuidMismatch"),!1)},d7:{enabled:C(I,"qcEnabled",!1),Mp:C(P,"qcPackageId","")},$t:C(I,"useRangeHeader",!1),PS:C(I,"enableMilestoneEventList",!0),cK:C(P,"authenticationType",R.hv?ca.mNa:ca.cK),lNa:C(fa,"authenticationKeyNames",q.Tb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),GVb:C(P,"systemKeyWrapFormat"),DEb:C(I,"includeNetflixIdUserAuthData",!0),VTb:C(I,"shouldSendUserAuthData",!0),hsa:C(I,"sendUserAuthIfRequired",ca.hsa),RTb:C(I,"shouldClearUserData",!1),nKb:C(I,"mslDeleteStore",!1),pKb:C(I,"mslPersistStore",!0),Nqb:C(I,"correctNetworkForShortTitles",!0),gOb:C(I,"postplayHighInitBitrate",!1),myb:C(I,"flushHeaderCacheOnAudioTrackChange",!0),AVb:C(I,"supportsUnequalizedDownloadables",!0),dQa:C(H,G("debugAseDenominator"),100),xR:C(H,"aseAudioBufferSizeBytes",ca.xR.ea(y.du)),yR:C(H,"aseVideoBufferSizeBytes",ca.yR.ea(y.du)),Jv:C(H,"minInitVideoBitrate",560),moa:C(H,"minHCInitVideoBitrate",560),Zy:C(H,"maxInitVideoBitrate",Infinity),SU:C(H,"minInitAudioBitrate",0),RU:C(H,"minHCInitAudioBitrate",0),EU:C(H,"maxInitAudioBitrate",65535),K5:C(H,"minAcceptableVideoBitrate",235),TU:C(H,"minRequiredBuffer",3E4),Si:C(H,"minPrebufSize",7800),loa:C(H,"minCheckBufferingCompleteInterval",999999),Oqa:C(L,"rebufferingFactor",1),gr:C(H,"maxBufferingTime",2600),nua:C(I,"useMaxPrebufSize",!0),rC:C(H,"maxPrebufSize",45E3),Sna:C(H,"maxRebufSize",Infinity),o4:C(Q,"initialBitrateSelectionCurve",null),pWa:C(H,"initSelectionLowerBound",560),qWa:C(H,"initSelectionUpperBound",1050),s8:C(H,"throughputPercentForAudio",15),vfa:C(H,"bandwidthMargin",10),wfa:C(I,"bandwidthMarginContinuous",!1),xfa:C(Q,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Oga:C(H,"conservBandwidthMargin",20),mta:C(I,"switchConfigBasedOnInSessionTput",!1),dS:C(H,"conservBandwidthMarginTputThreshold",0),Pga:C(Q,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),u5a:C(I,"switchAlgoBasedOnHistIQR",!1),XC:C(P,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Rna:C(K,"maxPlayerStateToSwitchConfig",-1),qna:C(P,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),N$:C(L,"IQRThreshold",.5),xla:C(P,"histIQRCalcToUse","simple"),jt:C(H,"maxTotalBufferLevelPerSession",0),q2:C(I,"enableDiscontiguousBuffering",!1),oja:C(M,"forceImmediateTransitionTypeForTitles",[]),nja:C(H,"forceImmediateTransitionExitZone",0),kua:C(I,"useBufferSizeLimiter",!1),SVa:C(H,"highWatermarkLevel",3E4),b6a:C(H,"toStableThreshold",3E4),y8:C(H,"toUnstableThreshold",ca.y8.ea(z.ma)),Hsa:C(I,"skipBitrateInUpswitch",!0),Fua:C(H,"watermarkLevelForSkipStart",8E3),rla:C(H,"highStreamRetentionWindow",9E4),rna:C(H,"lowStreamTransitionWindow",51E4),tla:C(H,"highStreamRetentionWindowUp",3E5),tna:C(H,"lowStreamTransitionWindowUp",3E5),sla:C(H,"highStreamRetentionWindowDown",6E5),sna:C(H,"lowStreamTransitionWindowDown",0),qla:C(L,"highStreamInfeasibleBitrateFactor",.5),Ty:C(H,"lowestBufForUpswitch",15E3),l5:C(H,"lockPeriodAfterDownswitch",15E3),vna:C(H,"lowWatermarkLevel",25E3),Uy:C(H,"lowestWaterMarkLevel",2E4),wna:C(I,"lowestWaterMarkLevelBufferRelaxed",!1),coa:C(L,"mediaRate",1),y5:C(H,"maxTrailingBufferLen",1E4),BR:C(H,"audioBufferTargetAvailableSize",262144),zX:C(H,"videoBufferTargetAvailableSize",1048576),fZa:C(H,"maxVideoTrailingBufferSize",8388608),RYa:C(H,"maxAudioTrailingBufferSize",393216),H2:C(L,"fastUpswitchFactor",3),Mia:C(L,"fastDownswitchFactor",1),$y:C(H,"maxMediaBufferAllowed",24E4),Fsa:C(I,"simulatePartialBlocks",!0),u4a:C(I,"simulateBufferFull",!0),Qga:C(I,"considerConnectTime",!1),Nga:C(L,"connectTimeMultiplier",1),nYa:C(H,"lowGradeModeEnterThreshold",12E4),oYa:C(H,"lowGradeModeExitThreshold",9E4),UYa:C(H,"maxDomainFailureWaitDuration",3E4),QYa:C(H,"maxAttemptsOnFailure",18),VRa:C(I,"exhaustAllLocationsForFailure",!0),$Ya:C(H,"maxNetworkErrorsDuringBuffering",20),s5:C(H,"maxBufferingTimeAllowedWithNetworkError",12E4),cSa:C(H,"fastDomainSelectionBwThreshold",2E3),H5a:C(H,"throughputProbingEnterThreshold",4E4),I5a:C(H,"throughputProbingExitThreshold",34E3),aYa:C(H,"locationProbingTimeout",1E4),jSa:C(H,"finalLocationSelectionBwThreshold",1E4),F5a:C(L,"throughputHighConfidenceLevel",.75),G5a:C(L,"throughputLowConfidenceLevel",.4),zRa:C(I,"enablePerfBasedLocationSwitch",!1),Ft:C(I,"probeServerWhenError",!0),nqa:C(H,"probeRequestTimeoutMilliseconds",8E3),Bx:C(I,"allowSwitchback",!0),MG:C(H,"probeDetailDenominator",100),t5:C(H,"maxDelayToReportFailure",300),ena:C(H,"locationStatisticsUpdateInterval",6E4),uPa:C(I,"countGapInBuffer",!1),pMa:C(I,"allowCallToStreamSelector",!0),INa:C(H,"bufferThresholdForAbort",1E4),Tna:C(H,"maxResponsesInitialTput",6),r2:C(I,"enableInitialTputLogging",!1),Mpa:C(H,"pipelineScheduleTimeoutMs",2),az:C(H,"maxPartialBuffersAtBufferingStart",2),noa:C(H,"minPendingBufferLen",6E3),qC:C(H,"maxPendingBufferLen",12E3),WIb:C(H,"maxPendingBufferLenAL1",3E4),Una:C(H,"maxStreamingSkew",4E3),Pna:C(H,"maxPendingBufferPercentage",10),$L:C(H,"maxRequestsInBuffer",60),bZa:C(H,"maxRequestsInBufferAL1",240),cZa:C(H,"maxRequestsInBufferBranching",120),Y3:C(H,"headerRequestSize",4096),Cia:C(I,"estimateHeaderSize",!0),QU:C(H,"minBufferLenForHeaderDownloading",1E4),fN:C(H,"reserveForSkipbackBufferMs",1E4),Qoa:C(H,"numExtraFragmentsAllowed",2),Np:C(I,"pipelineEnabled",!1),D4a:C(H,"socketReceiveBufferSize",0),Z0:C(H,"audioSocketReceiveBufferSize",32768),cO:C(H,"videoSocketReceiveBufferSize",65536),ola:C(H,"headersSocketReceiveBufferSize",32768),P8:C(H,"updatePtsIntervalMs",1E3),Ifa:C(H,"bufferTraceDenominator",100),gK:C(H,"bufferLevelNotifyIntervalMs",2E3),hB:C(H,"aseReportDenominator",0),U0:C(H,"aseReportIntervalMs",3E5),bwb:C(I,"enableAbortTesting",!1),Rkb:C(H,"abortRequestFrequency",8),dta:C(H,"streamingStatusIntervalMs",2E3),mz:C(H,"prebufferTimeLimit",24E4),M5:C(H,"minBufferLevelForTrackSwitch",2E3),Dpa:C(H,"penaltyFactorForLongConnectTime",2),ona:C(H,"longConnectTimeThreshold",200),Jea:C(H,"additionalBufferingLongConnectTime",2E3),Kea:C(H,"additionalBufferingPerFailure",8E3),YV:C(H,"rebufferCheckDuration",6E4),vRa:C(I,"enableLookaheadHints",!1),kYa:C(H,"lookaheadFragments",2),jy:C(I,"enableOCSideChannel",!0),lZ:C(O,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),L6a:C(I,"updateDrmRequestOnNetworkFailure",!1),qQa:C(I,"deferAseScheduling",!1),TYa:C(H,"maxDiffAudioVideoEndPtsMs",16E3),c2:C(H,"defaultHeaderCacheSize",4),b2:C(H,"defaultHeaderCacheDataPrefetchMs",8E3),tG:C(I,"neverWipeHeaderCache",!0),Boa:C(H,"networkFailureResetWaitMs",2E3),Aoa:C(H,"networkFailureAbandonMs",6E4),x5:C(H,"maxThrottledNetworkFailures",3),r8:C(H,"throttledNetworkFailureThresholdMs",200),una:C(K,"lowThroughputThreshold",400),Gia:C(I,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),LZa:C(I,"mp4ParsingInNative",!1),F4a:C(I,"sourceBufferInOrderAppend",!0),Bz:C(I,"requireAudioStreamToEncompassVideo",!0),oMa:C(I,"allowAudioToStreamPastVideo",!0),Hh:C(I,"enableManagerDebugTraces",!1),BYa:C(H,"managerDebugMessageInterval",1E3),AYa:C(H,"managerDebugMessageCount",20),p_a:C(I,"notifyManifestCacheEom",!1),Hfa:C(H,"bufferThresholdToSwitchToSingleConnMs",18E4),Gfa:C(H,"bufferThresholdToSwitchToParallelConnMs",12E4),K6:C(H,"periodicHistoryPersistMs",3E5),z7:C(H,"saveVideoBitrateMs",18E4),FMa:C(I,"appendMediaRequestOnComplete",!0),e9:C(I,"waitForDrmToAppendMedia",!1),Q2:C(I,G("forceAppendHeadersAfterDrm"),!1),NPb:C(I,G("reappendRequestsOnSkip"),!1),vKb:C(H,"netIntrStoreWindow",36E3),TJb:C(H,"minNetIntrDuration",8E3),txb:C(H,"fastHistoricBandwidthExpirationTime",10368E3),mnb:C(H,"bandwidthExpirationTime",5184E3),qxb:C(H,"failureExpirationTime",86400),VDb:C(H,"historyTimeOfDayGranularity",4),dxb:C(I,"expandDownloadTime",!1),cKb:C(H,"minimumMeasurementTime",500),bKb:C(H,"minimumMeasurementBytes",131072),WVb:C(H,"throughputMeasurementTimeout",2E3),SEb:C(H,"initThroughputMeasureDataSize",262144),XVb:C(P,"throughputPredictor","ewma"),VVb:C(H,"throughputMeasureWindow",5E3),$Vb:C(H,"throughputWarmupTime",5E3),UVb:C(H,"throughputIQRMeasureWindow",5E3),Ubb:C(H,"IQRBucketizerWindow",15E3),sqb:C(H,"connectTimeHalflife",10),zRb:C(H,"responseTimeHalflife",10),UDb:C(H,"historicBandwidthUpdateInterval",2E3),aKb:C(H,"minimumBufferToStopProbing",1E4),Tra:C(P,"secondThroughputEstimator","none"),l3a:C(K,"secondThroughputMeasureWindowInMs",Infinity),fwb:C(S,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),Kxb:C(O,"filterDefinitionOverrides",{}),iub:C(P,"defaultFilter","throughput-ewma"),dSb:C(P,"secondaryFilter","none"),jub:C(O,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),YU:C(I,"needMinimumNetworkConfidence",!0),Afa:C(I,"biasTowardHistoricalThroughput",!0),Cea:C(I,"addHeaderDataToNetworkMonitor",!1),Qsa:C(I,"startMonitorOnLoadStart",!1),lra:C(I,"reportFailedRequestsToNetworkMonitor",!1),Nna:C(K,"maxFastPlayBufferInMs",Infinity),Mna:C(K,"maxFastPlayBitThreshold",Infinity),Sea:C(I,"appendFirstHeaderOnComplete",!0),smb:C(P,"ase_stream_selector","optimized"),Tla:C(P,"initBitrateSelectorAlgorithm","default"),Mfa:C(P,"bufferingSelectorAlgorithm","default"),eQa:C(P,"ase_ls_failure_simulation",""),tha:C(I,"ase_dump_fragments",!1),vha:C(H,"ase_location_history",0),wha:C(H,"ase_throughput",0),gQa:C(I,"ase_simulate_verbose",!1),cOb:C(H,"pollingPeriod",150),NHb:C(H,"loadTimeMs",18E4),BIb:C(H,"marginTimeMs",1E4),Qja:C(I,"getDeviceIdFromBindDevice",!1),Bea:C(I,"addFailedLogBlobsToQueue",!0),Sta:{"content-sampling":{gr:C(H,"contentSamplingMaxBufferingTime",3E3),mN:C(P,"contentSamplingSelectStartingVMAFMethod","fallback"),qR:C(I,"contentSamplingActivateSelectStartingVMAF",!0),hM:C(H,"contentSamplingMinStartingVideoVMAF",80),PU:C(H,"contentSamplingMinAcceptableVMAF",70),nG:C(H,"contentSamplingMinAllowedVmaf",60)},billboard:{Jv:C(H,"billboardMinInitVideoBitrate",1050),Zy:C(H,"billboardMaxInitVideoBitrate",null),Si:C(H,"billboardMinPrebufSize",null),rC:C(H,"billboardMaxPrebufSize",null),gr:C(H,"billboardMaxBufferingTime",null),az:C(H,"billboardMaxPartialBuffersAtBufferingStart",null),Uy:C(H,"billboardLowestWaterMarkLevel",6E3),Ty:C(H,"billboardLowestBufForUpswitch",25E3),XC:C(P,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Jv:C(H,"preplayMinInitVideoBitrate",1050),Zy:C(H,"preplayMaxInitVideoBitrate",null),Si:C(H,"preplayMinPrebufSize",null),rC:C(H,"preplayMaxPrebufSize",null),gr:C(H,"preplayMaxBufferingTime",null),az:C(H,"preplayMaxPartialBuffersAtBufferingStart",null),Uy:C(H,"preplayLowestWaterMarkLevel",6E3),Ty:C(H,"preplayLowestBufForUpswitch",25E3)},embedded:{Jv:C(H,"embeddedMinInitVideoBitrate",1050),Zy:C(H,"embeddedMaxInitVideoBitrate",null),Si:C(H,"embeddedMinPrebufSize",null),rC:C(H,"embeddedMaxPrebufSize",null),gr:C(H,"embeddedMaxBufferingTime",null),az:C(H,"embeddedMaxPartialBuffersAtBufferingStart",null),Uy:C(H,"embeddedLowestWaterMarkLevel",6E3),Ty:C(H,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Jv:C(H,"videoMerchBobHorizontalMinInitVideoBitrate",null),Zy:C(H,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Si:C(H,"videoMerchBobHorizontalMinPrebufSize",null),rC:C(H,"videoMerchBobHorizontalMaxPrebufSize",null),gr:C(H,"videoMerchBobHorizontalMaxBufferingTime",null),az:C(H,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Uy:C(H,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Ty:C(H,"videoMerchBobHorizontalLowestBufForUpswitch",null),pw:C(S,"videoMerchVideoProfiles",void 0)},"mini-modal-horizontal":{Jv:C(H,"miniModalHorizontalMinInitVideoBitrate",null),Zy:C(H,"miniModalHorizontalMaxInitVideoBitrate",null),Si:C(H,"miniModalHorizontalMinPrebufSize",null),rC:C(H,"miniModalHorizontalMaxPrebufSize",null),gr:C(H,"miniModalHorizontalMaxBufferingTime",500),az:C(H,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Uy:C(H,"miniModalHorizontalLowestWaterMarkLevel",null),Ty:C(H,"miniModalHorizontalLowestBufForUpswitch",null)}},Dwb:C(I,"enableVerbosePlaydelayLogging",!1),xwb:C(I,"enableSeamless",!1),wla:C(H,"hindsightDenominator",0),vla:C(H,"hindsightDebugDenominator",0),c4:C(O,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),RS:C(I,"enableSessionHistoryReport",!1),jia:C(H,"earlyStageEstimatePeriod",1E4),OXa:C(H,"lateStageEstimatePeriod",3E4),v5:C(H,"maxNumSessionHistoryStored",30),R5:C(H,"minSessionHistoryDuration",3E4),Ev:C(H,"maxActiveRequestsPerSession",3),q5:C(H,"maxActiveRequestsSABCell100",2),w5:C(H,"maxPendingBufferLenSABCell100",500),Zma:C(I,"limitAudioDiscountByMaxAudioBitrate",!0),Vd:C(O,"browserInfo",{}),dob:C(H,G("busyGracePeriod"),199),BSb:C(I,G("sendTransitionLogblob"),!0),Tvb:C(I,G("editVideoFragments"),!0),o2:C(I,G("earlyAppendSingleChildBranch"),!0),EEb:C(I,G("includeSegmentInfoOnLogblobs"),!0),ixb:C(I,"exposeTestData",!1),yha:C(I,"declareBufferingCompleteAtSegmentEnd",!0),gB:C(I,"applyProfileTimestampOffset",!1),ek:C(I,"applyProfileStreamingOffset",!1),amb:C(I,G("allowSmallSeekDelta"),!1),pUb:C(H,G("smallSeekDeltaThresholdMilliseconds"),u.HZ),dwb:C(I,"enableCDMAttestedDescriptors",!1),q7:C(I,"requireDownloadDataAtBuffering",!1),r7:C(I,"requireSetupConnectionDuringBuffering",!1),Sqa:C(I,"recordFirstFragmentOnSubBranchCreate",!1),Qnb:C(I,"branchingAudioTrackFrameDropSmallSeekFix",!0),FSa:C(I,"forceL3WidevineCdm",!1),h7a:C(I,"useMobileVMAF",!1),yQa:C(P,"desiredVMAFTypeMobile","phone_plus_lts"),zQa:C(P,"desiredVMAFTypeNonMobile","plus_lts"),qR:C(I,"activateSelectStartingVMAF",!1),hM:C(H,"minStartingVideoVMAF",1),PU:C(H,"minAcceptableVMAF",1),nG:C(H,"minAllowedVmaf",1),emb:C(I,"alwaysNotifyEOSForPlaygraph",!0),QS:C(I,"enableNewAse",!0),S8:C(I,"useNewApi",!0),jwb:C(I,"enableHudsonFieldTest",!1),jEb:C(S,"hudsonTitles",["81127954","70125931","80158148"]),VIb:C(H,"maxPartialBuffersAtHudson",1),jLb:C(H,"numberOfChunksPerSegment",4),JVb:C(H,"targetContentLatency",1E4),KVb:C(H,"targetLongContentLatency",3E4),dKb:C(H,"minimumTimeDelay",1),nia:C(I,"enableWsslEstimate",!1),r5:C(H,"maxAllowedOutstandingRequests",4),WJ:C(I,"alwaysRunUnderflowTimer",!0),ooa:C(H,"minStreamableConcurrencyWindow",3E3),$sa:C(L,"streamableConcurrencyFactor",.3),RR:C(H,"bufferingConcurrencyWindow",7800),kUb:C(I,"singleStreamablePerBranch",!0),s2:C(I,"enableResolutionVMAFStreamFilter",!1),v7:C(O,"resolutionVMAFCappingRuleList",{}),Fpa:C(K,"percentCapTitlesForResolutionVMAFStreamFilter",100),$ub:C(I,"disableSkipping",!1),lua:C(I,G("useExitZones"),!0),jRb:C(I,"requestSegmentVmaf",!1),lz:C(O,"perFragmentVMAFConfig",{enabled:!1})};Pa=!0;b.Lga=function(wa){var Ua,Va,cb;Ua=d.ha.get(B.rd).id;if(0 < b.config.fYa && 0 === Ua % b.config.fYa)try{Va=d.ha.get(w.Ao);cb=d.ha.get(v.qA).bv("config","info",{params:wa});Va.te(cb);}catch(Ya){d.log.error("Failed to log config$apply",Ya);}pb._cad_global.config=b.config;h.hb(wa);wa && (X=q.Tb({},wa,{WL:!0}),q.Tb(X,T,{WL:!0}),F(ja,b.config),X.istestaccount && d.log.trace("Config applied for",qa(Pa?X:wa)),Pa=!1);};b.Lga(X);};b.nqb=function(D,E){return t.Ce(D) && "%" == D[D.length - 1]?p.Bi(parseFloat(D) * E / 100):D | 0;};b.dPa=function(D){return D?(D=q.Tb({},b.config),q.Tb(D,{AG:b.config.S_a},{gz:!0})):b.config;};b.oqb=function(D){var E;E=q.Tb({},b.config);D=c(D);return q.Tb(E,D,{gz:!0});};b.Mga=function(D){D=c(D);return q.Tb({},a(181)(D),{gz:!0});};b.cPa=function(D,E,F){F=! !F && (0 <= F.indexOf("h264hpl") || 0 <= F.indexOf("vp9"));D={eM:D?b.config.QJb:b.config.eM,iM:D?b.config.WJb:F?b.config.VJb:b.config.iM,$L:D && F?Math.max(b.config.cZa,b.config.bZa):D?b.config.cZa:F?b.config.bZa:b.config.$L,qC:F?b.config.WIb:b.config.qC,o2:!E};return q.Tb({},a(181)(D),{gz:!0});};b.qqb=c;b.pqb=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yo={J4b:"casttv",sga:"chrome",N4b:"chromecast",Sq:"edge",dRa:"edgeoss",xSa:"firefox",q6b:"ie",opera:"opera",d3a:"safari"};b.Eo={Q0:"android",uOa:"chromeos",lHb:"linux",tYa:"mac",A5a:"tesla",Gua:"windows"};b.mP={lqb:"computer",phone:"phone",w5a:"tablet"};b.Zc="ConfigSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(376),b);},function(r,b,a){b=a(109);b.kub=0;r.exports={EventEmitter:b,yh:a(785)};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.me=b.Db=b.df=b.Kb=b.Z=b.Q$=b.SD=b.Ub=void 0;(function(c){c.RHb="loadedtracks";c.QHb="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Pq="currenttimechanged";c.pXb="unthrottledcurrenttimechanged";c.MNa="bufferedtimechanged";c.Ovb="durationchanged";c.SYb="videosizechanged";c.eNb="pausedchanged";c.aOb="playingchanged";c.Lwb="endedchanged";c.Rfa="busychanged";c.fNa="audiotracklistchanged";c.SE="audiotrackchanged";c.AH="timedtexttracklistchanged";c.Nz="timedtexttrackchanged";c.nX="trickplayframeschanged";c.tKb="mutedchanged";c.$Yb="volumechanged";c.bUb="showsubtitle";c.MQb="removesubtitle";c.gZb="watermark";c.uma="isReadyToTransition";c.BL="inactivated";c.GWa="internalPlaybackError";c.lSb="segmentmaploaded";c.mSb="segmentpresenting";c.enb="autoplaywasallowed";c.fnb="autoplaywasblocked";})(b.Ub || (b.Ub={}));(b.SD || (b.SD={})).vW="playgraphsegmenttransition";b.Q$=a;a.B3a="serverTimeChanged";(function(c){c.$J="aseReport";c.anb="authorized";c.qfa="autoplayWasAllowed";c.El="autoplayWasBlocked";c.rnb="bandwidthMeterAggregateUpdate";c.Kx="bufferUnderrun";c.closed="closed";c.xg="closing";c.Pq="currentTimeChanged";c.rF="downloadComplete";c.BL="inactivated";c.QXa="licenseAdded";c.UL="licensed";c.Sy="locationSelected";c.Dna="manifestClosing";c.gG="manifestPresenting";c.B5="mediaBufferChanged";c.h6="nextBranchingSegmentChosen";c.ut="playbackStart";c.Pp="playbackReady";c.Yl="repositioned";c.TG="repositioning";c.f3a="safePlayRequested";c.dH="segmentPresenting";c.B8b="segmentComplete";c.xW="serverSwitch";c.r4a="shouldUpdateVideoDiagInfo";c.NN="subtitleError";c.rta="throttledMediaTimeChanged";c.E6a="unthrottledMediaTimeChanged";c.SN="timedTextRebuffer";c.AH="timedTextTrackListChanged";c.nX="trickPlayFramesChanged";c.pX="tryRecoverFromStall";c.cua="updateNextBranchingSegmentWeights";c.uYb="userInitiatedPause";c.q7a="userInitiatedResume";})(b.Z || (b.Z={}));(function(c){c[c.AI=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.$d=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Kb || (b.Kb={}));(function(c){c[c.$d=1]="NORMAL";c[c.Yc=2]="BUFFERING";c[c.oGa=3]="STALLED";})(b.df || (b.df={}));(function(c){c[c.Gg=1]="WAITING";c[c.Hc=2]="PLAYING";c[c.$h=3]="PAUSED";c[c.hu=4]="ENDED";})(b.Db || (b.Db={}));(function(c){c[c.Hw=0]="INITIAL";c[c.xA=1]="SEEK";c[c.UP=2]="TRACK_CHANGED";c[c.LI=3]="SEGMENT_CHANGED";c[c.FY=4]="FORCE_REBUFFER";})(b.me || (b.me={}));},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Oc=b.cma=b.Py=b.Ce=b.Bma=b.JFb=b.vFb=b.sma=b.Oy=b.SWa=b.ya=b.zma=b.isArray=b.mXa=b.kh=b.Kc=b.is=void 0;r=a(192);b.is=r.uD;b.Kc=function(c){return b.is.eg(c);};b.kh=function(c){return b.is.XJ(c);};b.mXa=function(c){return b.is.rea(c);};b.isArray=function(c){return b.is.Cx(c);};b.zma=function(c){return b.is.vMa(c);};b.ya=function(c,f,k){return b.is.di(c,f,k);};b.SWa=function(c,f,k){return b.is.Qea(c,f,k);};b.Oy=function(c,f,k){return b.is.vR(c,f,k);};b.sma=function(c){return b.is.kR(c);};b.vFb=function(c){return b.is.Pkb(c);};b.JFb=function(c){return b.is.Qkb(c);};b.Bma=function(c){return b.is.wMa(c);};b.Ce=function(c){return b.is.Xo(c);};b.Py=function(c){return b.is.En(c);};b.cma=function(c){return b.is.jR(c);};b.Oc=function(c){return b.is.I0(c);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rd="ApplicationSymbol";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ia=!1;},function(r,b,a){function c(f,k){return b.In.assert(f,k);}Object.defineProperty(b,"__esModule",{value:!0});b.Utb=b.sha=b.Ntb=b.Rtb=b.AK=b.pS=b.Qtb=b.Stb=b.BK=b.cQa=b.Ptb=b.Otb=b.hb=b.In=b.Ttb=b.F8a=void 0;r=a(7);a=a(91);b.F8a=function(){c(!1);};b.Ttb=!0;b.In=r.ha.get(a.eu);b.hb=c;b.Otb=function(f,k){return b.In.vmb(f,k);};b.Ptb=function(f,k){return b.In.wmb(f,k);};b.cQa=function(f,k){return b.In.W0(f,k);};b.BK=function(f,k){return b.In.Cmb(f,k);};b.Stb=function(f,k){return b.In.Amb(f,k);};b.Qtb=function(f,k){return b.In.cfa(f,k);};b.pS=function(f,k){return b.In.ymb(f,k);};b.AK=function(f,k){return b.In.Bmb(f,k);};b.Rtb=function(f,k){return b.In.zmb(f,k);};b.Ntb=function(f,k){return b.In.umb(f,k);};b.sha=function(f,k){return b.In.xmb(f,k);};b.Utb=function(){return b.In.jFb();};},function(r,b){function a(c,f){var k,l,d,g,h;if(c && f){k=Math;l=k.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=l.call(k,c * f / g);}else c=0;return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.S=void 0;r=(function(){function c(f,k){"object" === typeof f?(this.dc=f.Xb,this.fb=f.U):(this.dc=f,this.fb=k);}c.compare=function(f,k){return f.Yk(k);};c.abs=function(f){return new c(Math.abs(f.dc),f.fb);};c.mb=function(f){return 0 === f?c.ab:new c(f,1E3);};c.hX=function(f,k){return Math.floor(1E3 * f / k);};c.Y5=function(f,k){return Math.floor(f * k / 1E3);};c.max=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(l,d){return l.greaterThan(d)?l:d;});};c.min=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(l,d){return l.lessThan(d)?l:d;});};Object.defineProperties(c.prototype,{Xb:{get:function(){return this.dc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return c.hX(this.dc,this.fb);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{IG:{get:function(){return 1E3 * this.dc / this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{XG:{get:function(){var f;f=this.IG;return 0 > f?Math.ceil(f):Math.floor(f);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Tg:{get:function(){return this.dc / this.fb;},enumerable:!1,configurable:!0}});c.prototype.Xf=function(f){f/=this.fb;return new c(Math.floor(this.dc * f),Math.floor(this.fb * f));};c.prototype.add=function(f){var k;if(this.fb === f.fb)return new c(this.dc + f.dc,this.fb);k=a(this.fb,f.fb);return new c(this.dc * k / this.fb + f.dc * k / f.fb,k);};c.prototype.Aa=function(f){var k;if(this.fb === f.fb)return new c(this.dc - f.dc,this.fb);k=a(this.fb,f.fb);return new c(this.dc * k / this.fb - f.dc * k / f.fb,k);};c.prototype.xC=function(f){return new c(this.dc * f,this.fb);};c.prototype.$k=function(f){var k;if("number" === typeof f){k=a(this.dc,f);return k !== this.dc?this.Xf(k / this.dc * this.fb).$k(f):new c(this.dc / f,this.fb);}if(this.fb === f.fb)return this.dc / f.dc;k=a(this.fb,f.fb);return this.dc * k / this.fb / (f.dc * k / f.fb);};c.prototype.EQa=function(f){var k;if(this.fb === f.fb)return new c(Math.abs(this.dc - f.dc),this.fb);k=a(this.fb,f.fb);return new c(Math.abs(this.dc * k / this.fb - f.dc * k / f.fb),k);};c.prototype.Qqa=function(){return new c(this.fb,this.dc);};c.prototype.compare=function(f,k){var l;if(this.fb === k.fb)return f(this.dc,k.dc);l=a(this.fb,k.fb);return f(this.dc * l / this.fb,k.dc * l / k.fb);};c.prototype.Yk=function(f){var k;if(this.fb === f.fb)return this.dc - f.dc;k=a(this.fb,f.fb);return this.dc * k / this.fb - f.dc * k / f.fb;};c.prototype.equal=function(f){return this.compare(function(k,l){return k === l;},f);};c.prototype.m6=function(f){return this.compare(function(k,l){return k !== l;},f);};c.prototype.lessThan=function(f){return this.compare(function(k,l){return k < l;},f);};c.prototype.greaterThan=function(f){return this.compare(function(k,l){return k > l;},f);};c.prototype.zv=function(f){return this.compare(function(k,l){return k <= l;},f);};c.prototype.Sn=function(f){return this.compare(function(k,l){return k >= l;},f);};c.prototype.isFinite=function(){return ! !this.fb && isFinite(this.dc);};c.prototype.I3=function(f){return a(this.U,f);};c.prototype.toJSON=function(){return {ticks:this.dc,timescale:this.fb};};c.prototype.toString=function(){return this.dc + "/" + this.fb;};c.prototype.Nd=function(){return this.dc + "/" + this.fb + " (" + this.V + "ms)";};c.ab=new c(0,1E3);c.Mv=new c(1,1E3);c.Ey=new c(Infinity,1);return c;})();b.S=r;},function(r,b,a){function c(){c=Object.assign || (function(G){for(var J,K=1,H=arguments.length;K < H;K++){J=arguments[K];for(var L in J){Object.prototype.hasOwnProperty.call(J,L) && (G[L]=J[L]);}}return G;});return c.apply(this,arguments);}function f(G,J){f=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(K,H){K.__proto__=H;}) || (function(K,H){for(var L in H){H.hasOwnProperty(L) && (K[L]=H[L]);}});return f(G,J);}function k(G,J){function K(){this.constructor=G;}f(G,J);G.prototype=null === J?Object.create(J):(K.prototype=J.prototype,new K());}function l(G,J){var K,H,L;K={};for(H in G){Object.prototype.hasOwnProperty.call(G,H) && 0 > J.indexOf(H) && (K[H]=G[H]);}if(null != G && "function" === typeof Object.getOwnPropertySymbols){L=0;for(H=Object.getOwnPropertySymbols(G);L < H.length;L++){0 > J.indexOf(H[L]) && Object.prototype.propertyIsEnumerable.call(G,H[L]) && (K[H[L]]=G[H[L]]);}}return K;}function d(G,J,K,H){var L,P,I;L=arguments.length;P=3 > L?J:null === H?H=Object.getOwnPropertyDescriptor(J,K):H;if("object" === typeof Reflect && "function" === typeof Reflect.Qq)P=Reflect.Qq(G,J,K,H);else for(var O=G.length - 1;0 <= O;O--){if(I=G[O])P=(3 > L?I(P):3 < L?I(J,K,P):I(J,K)) || P;}return (3 < L && P && Object.defineProperty(J,K,P),P);}function g(G,J){return function(K,H){J(K,H,G);};}function h(G,J){if("object" === typeof Reflect && "function" === typeof Reflect.yd)return Reflect.yd(G,J);}function m(G,J,K,H){function L(P){return P instanceof K?P:new K(function(I){I(P);});}return new (K || (K=Promise))(function(P,I){function O(Q){try{M(H.next(Q));}catch(S){I(S);}}function N(Q){try{M(H["throw"](Q));}catch(S){I(S);}}function M(Q){Q.done?P(Q.value):L(Q.value).then(O,N);}M((H=H.apply(G,J || [])).next());});}function n(G,J){var L,P,I,O,N;function K(M){return function(Q){return H([M,Q]);};}function H(M){if(P)throw new TypeError("Generator is already executing.");for(;L;){try{if((P=1,I && (O=M[0] & 2?I["return"]:M[0]?I["throw"] || ((O=I["return"]) && O.call(I),0):I.next) && !(O=O.call(I,M[1])).done))return O;if((I=0,O))M=[M[0] & 2,O.value];switch(M[0]){case 0:case 1:O=M;break;case 4:return (L.label++,{value:M[1],done:!1});case 5:L.label++;I=M[1];M=[0];continue;case 7:M=L.Tm.pop();L.kn.pop();continue;default:if(!(O=L.kn,O=0 < O.length && O[O.length - 1]) && (6 === M[0] || 2 === M[0])){L=0;continue;}if(3 === M[0] && (!O || M[1] > O[0] && M[1] < O[3]))L.label=M[1];else if(6 === M[0] && L.label < O[1])(L.label=O[1],O=M);else if(O && L.label < O[2])(L.label=O[2],L.Tm.push(M));else {O[2] && L.Tm.pop();L.kn.pop();continue;}}M=J.call(G,L);}catch(Q){M=[6,Q];I=0;}finally{P=O=0;}}if(M[0] & 5)throw M[1];return {value:M[0]?M[1]:void 0,done:!0};}L={label:0,Yd:function(){if(O[0] & 1)throw O[1];return O[1];},kn:[],Tm:[]};return (N={next:K(0),"throw":K(1),"return":K(2)},"function" === typeof Symbol && (N[Symbol.iterator]=function(){return this;}),N);}function q(G,J,K,H){void 0 === H && (H=K);G[H]=J[K];}function p(G,J){for(var K in G){"default" === K || J.hasOwnProperty(K) || (J[K]=G[K]);}}function t(G){var J,K,H;J="function" === typeof Symbol && Symbol.iterator;K=J && G[J];H=0;if(K)return K.call(G);if(G && "number" === typeof G.length)return {next:function(){G && H >= G.length && (G=void 0);return {value:G && G[H++],done:!G};}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.");}function u(G,J){var K,H,L;K="function" === typeof Symbol && G[Symbol.iterator];if(!K)return G;G=K.call(G);L=[];try{for(;(void 0 === J || 0 < J--) && !(H=G.next()).done;){L.push(H.value);}}catch(I){var P;P={error:I};}finally{try{H && !H.done && (K=G["return"]) && K.call(G);}finally{if(P)throw P.error;}}return L;}function w(){for(var G=[],J=0;J < arguments.length;J++){G=G.concat(u(arguments[J]));}return G;}function v(){var H;for(var G=0,J=0,K=arguments.length;J < K;J++){G+=arguments[J].length;}G=Array(G);H=0;for(J=0;J < K;J++){for(var L=arguments[J],P=0,I=L.length;P < I;(P++,H++)){G[H]=L[P];}}return G;}function x(G){return this instanceof x?(this.aD=G,this):new x(G);}function y(G,J,K){var N,M,Q;function H(S){N[S] && (M[S]=function(fa){return new Promise(function(qa,xa){1 < Q.push([S,fa,qa,xa]) || L(S,fa);});});}function L(S,fa){var qa;try{qa=N[S](fa);qa.value instanceof x?Promise.resolve(qa.value.aD).then(P,I):O(Q[0][2],qa);}catch(xa){O(Q[0][3],xa);}}function P(S){L("next",S);}function I(S){L("throw",S);}function O(S,fa){(S(fa),Q.shift(),Q.length) && L(Q[0][0],Q[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");N=K.apply(G,J || []);Q=[];return (M={},H("next"),H("throw"),H("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function z(G){var K,H;function J(L,P){K[L]=G[L]?function(I){return (H=!H)?{value:x(G[L](I)),done:"return" === L}:P?P(I):I;}:P;}return (K={},J("next"),J("throw",function(L){throw L;}),J("return"),K[Symbol.iterator]=function(){return this;},K);}function A(G){var H,L;function J(P){L[P]=G[P] && (function(I){return new Promise(function(O,N){I=G[P](I);K(O,N,I.done,I.value);});});}function K(P,I,O,N){Promise.resolve(N).then(function(M){P({value:M,done:O});},I);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");H=G[Symbol.asyncIterator];return H?H.call(G):(G="function" === typeof t?t(G):G[Symbol.iterator](),L={},J("next"),J("throw"),J("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function B(G,J){Object.defineProperty?Object.defineProperty(G,"raw",{value:J}):G.raw=J;return G;}function D(G){var J;if(G && G.__esModule)return G;J={};if(null != G)for(var K in G){Object.hasOwnProperty.call(G,K) && (J[K]=G[K]);}J.default=G;return J;}function E(G){return G && G.__esModule?G:{default:G};}function F(G,J){if(!J.has(G))throw new TypeError("attempted to get private field on non-instance");return J.get(G);}function C(G,J,K){if(!J.has(G))throw new TypeError("attempted to set private field on non-instance");J.set(G,K);return K;}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return l;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return g;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return m;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return q;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return t;});a.d(b,"__read",function(){return u;});a.d(b,"__spread",function(){return w;});a.d(b,"__spreadArrays",function(){return v;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return D;});a.d(b,"__importDefault",function(){return E;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return C;});},function(r,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.tPa=b.ISa=b.qy=b.nk=b.wd=b.Av=b.trim=b.WT=b.j5a=b.Bqa=b.MMb=b.se=b.RMa=b.eOa=b.Tb=b.de=void 0;c=a(21);f=a(29);k=a(11);l=a(18);b.de=function(d,g){for(var h in d){d.hasOwnProperty(h) && g(h,d[h]);}};b.Tb=b.Tb || (function(d,g,h){var m,n,q;if(g)if(h){m=h.WL;n=h.prefix;q=h.gz;b.de(g,function(p,t){if(!q || f.Kc(t))d[(n || "") + (m?p.toLowerCase():p)]=t;});}else b.de(g,function(p,t){d[p]=t;});return d;});b.eOa=function(d,g,h,m){var n;if(d){n=d[g];l.Oc(n) && (h=n.apply(d,k.slice.call(arguments,3)));}return h;};b.RMa=function(d){for(var g={},h=d.length;h--;){g[d[h]]=!0;}return g;};b.se=b.se || (function(d){return parseInt(d,10);});b.MMb=function(d){return (/^true$/i).test(d);};b.Bqa=function(d,g){return k.Bi(d + k.DD() * (g - d));};b.j5a=function(d){return JSON.stringify(d,null,"  ");};b.WT=(function(){var g,h;function d(m){c.hb(void 0 !== g[m]);return g[m];}g={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};h=/[&'"<>]/g;return function(m){return m.replace(h,d);};})();b.trim=(function(){var d;d=/^\s+|\s+$/gm;return function(g){return g.replace(d,"");};})();b.Av=function(d){return Array.isArray(d)?d:[d];};b.wd=b.wd || (function(d){var g,h,m;if(d){g=d.stack;h=d.number;m=d.message;m || (m="" + d);g?(d="" + g,0 != d.indexOf(m) && (d=m + "\n" + d)):d=m;h && (d+="\nnumber:" + h);return d;}});b.nk=function(d){return l.ya(d)?d.toFixed(0):"";};b.qy=function(d){return l.ya(d)?(d / 1E3).toFixed(0):"";};b.ISa=function(d){return l.ya(d)?d.toFixed():"";};b.tPa=function(d){for(var g=[],h=0;h < d.length;h++){g[h]=d[h];}return g;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aw=b.oIa=b.nfb=b.ij=b.ce=b.Ei=b.cu=b.hm=void 0;(function(a){a[a.Audio=0]="Audio";a[a.iIa=1]="Video";})(b.hm || (b.hm={}));(function(a){a[a.fu=0]="Default";a[a.Kw=1]="Microsoft";})(b.cu || (b.cu={}));(function(a){a[a.fu=0]="Default";a[a.X9=1]="Cast";a[a.aI=2]="Chrome";a[a.Kw=3]="Microsoft";})(b.Ei || (b.Ei={}));(function(a){a[a.RP=0]="SD";a[a.JY=1]="HD";a[a.OI=2]="UHD";a[a.Pr=3]="DV";a[a.Gw=4]="HDR10";a[a.cA=5]="AVCHigh";a[a.Vw=6]="VP9";a[a.Gk=7]="AV1";})(b.ce || (b.ce={}));(function(a){a[a.xD=0]="Level_1_4";a[a.lu=1]="Level_2_2";})(b.ij || (b.ij={}));b.nfb=function(){};(function(a){a[a.L2b=0]="Platform";a[a.B_b=1]="CurrentTitle";})(b.oIa || (b.oIa={}));b.Aw="DeviceCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.If="IsTypeSymbol";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={$Zb:{Sw:0,Y2b:1,name:["STARTUP","STEADY"]},KY:{$g:0,X2b:1,jfb:2,name:["STARTING","STABLE","UNSTABLE"]},Ra:{Sb:0,Eb:1,name:["AUDIO","VIDEO"]},Ik:{Sb:0,Eb:1,name:["AUDIO","VIDEO"]},Yg:{URL:0,UD:1,LOCATION:2,Nw:3,name:["URL","SERVER","LOCATION","NETWORK"]},yf:{HAVE_NOTHING:0,kA:1,Fw:2,nI:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},TD:{HZb:0,D0b:1,C2b:2,L1b:3,k2b:4,z3b:5,F0b:6,k1b:7,Sw:8,wf:9,Kaa:10,Ydb:11,M9:12,acb:13,$bb:14,Deb:15,Ceb:16,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway").split(" ")},f0b:{Nw:0,D_b:1,name:["NETWORK","DECODE"]},V2b:{F_b:"delayedSeamless",P0b:"hideLongTransition"}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jf="UtilitiesSymbol";},function(r,b,a){var l,d;function c(g){return null !== g && void 0 !== g;}function f(g){return typeof g == b.rHa;}function k(g,h,m){var n,q,p;if(h)if(m){n=m.WL;q=m.prefix;p=m.gz;d.de(h,function(t,u){if(!p || c(u))g[(q || "") + (n?t.toLowerCase():t)]=u;});}else d.de(h,function(t,u){g[t]=u;});return g;}Object.defineProperty(b,"__esModule",{value:!0});b.L=b.wd=b.WT=b.ZK=b.hF=b.createElement=b.xs=b.QMa=b.z1=b.yN=b.Tb=b.Co=b.se=b.Py=b.Ce=b.kh=b.Kc=b.qHa=b.afb=b.bfb=b.rHa=b.fD=b.i9=b.Mr=b.lO=b.kO=b.Xj=b.aZ=b.CD=b.DD=b.Bo=b.qn=b.Bi=b.laa=b.Jw=b.cI=b.fdb=b.PD=b.Jk=b.Kk=void 0;l=a(11);d=a(24);b.Kk=function(){};b.Jk=1E3;b.PD=Object.create;b.fdb=Object.keys;b.cI=Date.now;b.Jw=Math.floor;b.laa=Math.ceil;b.Bi=Math.round;b.qn=Math.max;b.Bo=Math.min;b.DD=Math.random;b.CD=Math.abs;b.aZ=Math.pow;b.Xj="$attributes";b.kO="$children";b.lO="$name";b.Mr="$text";b.i9="$parent";b.fD="$sibling";b.rHa="string";b.bfb="number";b.afb="function";b.qHa="object";b.Kc=c;b.kh=function(g){return typeof g == b.qHa;};b.Ce=f;b.Py=function(g){return f(g) && g;};b.se=function(g){return parseInt(g,10);};b.Co=function(g,h,m){return g >= h?g <= m?g:m:h;};b.Tb=k;b.yN=function(g){return k({},g);};b.z1=function(g){var n;for(var h=0;h < arguments.length;++h){;}h=0;for(var m=arguments.length;h < m;){n=arguments[h++];if(c(n))return n;}};b.QMa=function(g,h){for(var m,n=!0,q;n;){for((n=!1,m=g.length);--m;){q=g[m];q[h] < g[m - 1][h] && (g[m]=g[m - 1],g[m - 1]=q,n=!0);}}};b.xs=function(g,h){if(g.length == h.length){for(var m=g.length;m--;){if(g[m] != h[m])return !1;}return !0;}return !1;};b.createElement=function(g,h,m,n){var q;q=l.He.createElement(g);h && (q.style.cssText=h);m && (q.innerHTML=m);n && d.de(n,function(p,t){q.setAttribute(p,t);});return q;};b.hF=function(g){var h;h="";d.de(g,function(m,n){h+=(h?";":"") + m + ":" + n;});return h;};b.ZK=function(g,h,m){var n;if(g / h > m){n=b.Bi(h * m);g=h;}else (n=g,g=b.Bi(g / m));return {width:n,height:g};};b.WT=(function(){var h,m;function g(n){return h[n];}h={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};m=/[&'"<>]/g;return function(n){return n.replace(m,g);};})();b.wd=function(g){var h,m;if(g){h=g.stack;m=g.number;g="" + g;h?(h="" + h,0 != h.indexOf(g) && (h=g + "\n" + h)):h=g;m && (h+="\nnumber:" + m);return h;}};b.L={km:1001,hj:1003,yab:1701,Uya:1713,zab:1715,xab:1721,GY:1723};},function(r,b,a){var f;function c(k){return k.filter(function(l,d){return k.indexOf(l) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.l6=b.aDb=b.Oqb=b.flatten=b.yZa=b.aqb=b.SMa=b.ms=b.PMa=b.MMa=b.NMa=b.cp=b.OMa=b.vg=void 0;f=a(2);b.vg=function(k,l){for(var d=0;d < k.length;d++){if(l(k[d],d,k))return k[d];}};b.OMa=function(k,l){for(var d=k.length - 1;0 <= d;--d){if(l(k[d],d,k))return k[d];}};b.cp=function(k,l){var d;d=-1;return k.some(function(g,h,m){d=h;return l(g,h,m);})?d:-1;};b.NMa=function(k,l){for(var d=k.length - 1;0 <= d;d--){if(l(k[d],d,k))return d;}return -1;};b.MMa=c;b.PMa=function(k,l){l=k.indexOf(l);if(-1 === l)return !1;k.splice(l,1);return !0;};b.ms=function(k,l,d){return d?k.filter(function(g){return !l.some(function(h){return d(g,h);});}):k.filter(function(g){return -1 === l.indexOf(g);});};b.SMa=function(k,l){return c(k.concat(l));};b.aqb=function(k){return function(l,d){return k(l) - k(d);};};b.yZa=function(k){return function(l,d){return k(l) < k(d)?l:d;};};b.flatten=function(k){var l;return (l=[]).concat.apply(l,f.__spread(k));};b.Oqb=function(k,l){void 0 === l && (l=function(d){return d;});return k.reduce(function(d,g){g=l(g);return (void 0 === d[g]?d[g]=1:++d[g],d);},{});};b.aDb=function(k,l){return k.reduce(function(d,g){var h;h=l(g);return (void 0 === d[h]?d[h]=[g]:d[h].push(g),d);},{});};b.l6=function(k){return null !== k && void 0 !== k;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(147);b.ia=!1;r=(function(){function f(k,l,d,g,h){this.ja=k;this.type=l;this.byteOffset=d;this.byteLength=g;this.parent=h;this.Ta={};this.Vm=g;}f.Em=function(k,l){var g,m;function d(n){n && n.Em && (n=n.Em(l),n.length && (g=g.concat(n)));}g=[];k.type === l && g.push(k);if(k.Ta)for(var h in k.Ta){m=k.Ta[h];Array.isArray(m) && m.forEach(d);}return g;};f.ls=function(k,l){void 0 === k.Ta[l.type] && (k.Ta[l.type]=[]);k.Ta[l.type].push(l);};f.cl=function(k,l){return f.Em(k,l)[0];};Object.defineProperties(f.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{u:{get:function(){return this.ja;},enumerable:!0,configurable:!0}});f.prototype.ic=function(){var k;k=this.ja.ta();this.version=k >> 24;this.flags=k & 16777215;};f.prototype.ls=function(k){f.ls(this,k);};f.prototype.Em=function(k){return f.Em(this,k);};f.prototype.cl=function(k){return f.cl(this,k);};f.prototype.parse=function(){return !0;};f.prototype.Js=function(){return !0;};f.prototype.vh=function(k){if((k=this.Ta[k]) && Array.isArray(k) && 1 === k.length)return k[0];};f.prototype.ue=function(k,l){l=void 0 === l?this.ja.offset:l;c.assert(l >= this.startOffset + 8 && l + k <= this.startOffset + this.Vm,"Removal range [0x" + l.toString(16) + "-0x" + (l + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Vm).toString(16) + ")");this.ja.ue(k,l,this);};f.prototype.Lt=function(k,l,d){d=void 0 === d?this.ja.offset:d;c.assert(d >= this.startOffset + 8 && d + k <= this.startOffset + this.Vm,"Removal range [0x" + d.toString(16) + "-0x" + (d + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Vm).toString(16) + ")");this.ja.Lt(k,l,d,this);};f.prototype.XV=function(k,l,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.WQ(k,l));}return g;}return this.WQ(k,l);};f.prototype.ti=function(k){var l,d;d=this;void 0 === l && (l={});k.forEach(function(g){var h,m;if("offset" === g.type){h=g.offset;if(0 < h % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.ja.offset+=h / 8;}else for(h in g){m=g[h];l[h]="string" === typeof m?d.XV(m):d.XV(m.type,m.length,m.Zea);}});return l;};f.prototype.WQ=function(k,l){var d;d=this.byteLength - this.ja.offset + this.startOffset;"undefined" === typeof l && (l=d);switch(k){case "int8":k=this.ja.eb();break;case "int64":k=this.ja.Hd();break;case "int32":k=this.ja.ta();break;case "int16":k=this.ja.Gc();break;case "string":k=this.ja.Fqa(Math.min(l,d));break;default:throw Error("Invalid type: " + k);}return k;};f.La=!1;return f;})();b.mc=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xg="AsyncComponentLoaderSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(156);b.ia=!1;r=(function(){function f(k,l,d,g,h){this.ja=k;this.type=l;this.byteOffset=d;this.byteLength=g;this.parent=h;this.Ta={};this.Vm=g;}f.Em=function(k,l){var g,m;function d(n){n && n.Em && (n=n.Em(l),n.length && (g=g.concat(n)));}g=[];k.type === l && g.push(k);if(k.Ta)for(var h in k.Ta){m=k.Ta[h];Array.isArray(m) && m.forEach(d);}return g;};f.ls=function(k,l){void 0 === k.Ta[l.type] && (k.Ta[l.type]=[]);k.Ta[l.type].push(l);};f.cl=function(k,l){return f.Em(k,l)[0];};Object.defineProperties(f.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{u:{get:function(){return this.ja;},enumerable:!0,configurable:!0}});f.prototype.ic=function(){var k;k=this.ja.ta();this.version=k >> 24;this.flags=k & 16777215;};f.prototype.ls=function(k){f.ls(this,k);};f.prototype.Em=function(k){return f.Em(this,k);};f.prototype.cl=function(k){return f.cl(this,k);};f.prototype.parse=function(){return !0;};f.prototype.Js=function(){return !0;};f.prototype.vh=function(k){if((k=this.Ta[k]) && Array.isArray(k) && 1 === k.length)return k[0];};f.prototype.ue=function(k,l){l=void 0 === l?this.ja.offset:l;c.assert(l >= this.startOffset + 8 && l + k <= this.startOffset + this.Vm,"Removal range [0x" + l.toString(16) + "-0x" + (l + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Vm).toString(16) + ")");this.ja.ue(k,l,this);};f.prototype.Lt=function(k,l,d){d=void 0 === d?this.ja.offset:d;c.assert(d >= this.startOffset + 8 && d + k <= this.startOffset + this.Vm,"Removal range [0x" + d.toString(16) + "-0x" + (d + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.Vm).toString(16) + ")");this.ja.Lt(k,l,d,this);};f.prototype.XV=function(k,l,d){if(1 < d){for(var g=[];0 < d--;){g.push(this.WQ(k,l));}return g;}return this.WQ(k,l);};f.prototype.ti=function(k){var l,d;d=this;void 0 === l && (l={});k.forEach(function(g){var h,m;if("offset" === g.type){h=g.offset;if(0 < h % 8)throw Error("Requested offset " + g.offset + "is not an even byte multiple");d.ja.offset+=h / 8;}else for(h in g){m=g[h];l[h]="string" === typeof m?d.XV(m):d.XV(m.type,m.length,m.Zea);}});return l;};f.prototype.WQ=function(k,l){var d;d=this.byteLength - this.ja.offset + this.startOffset;"undefined" === typeof l && (l=d);switch(k){case "int8":k=this.ja.eb();break;case "int64":k=this.ja.Hd();break;case "int32":k=this.ja.ta();break;case "int16":k=this.ja.Gc();break;case "string":k=this.ja.Fqa(Math.min(l,d));break;default:throw Error("Invalid type: " + k);}return k;};f.La=!1;return f;})();b.mc=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mk="PlatformSymbol";b.wA="PlatformMutableSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uh="Base64EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vIa="WindowTimersSymbol";b.vD="JSONSymbol";b.aIa="UserAgentSymbol";b.BI="NavigatorSymbol";b.Fcb="MediaSourceSymbol";b.$Aa="LocationSymbol";b.sxa="DateSymbol";b.Taa="PerformanceSymbol";b.JP="PlatformExtraInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z9="ConfigurableInputsSymbol";b.lm="ValidatingConfigurableInputsSymbol";b.DO="ConfigNameSymbol";b.oP="InitParamsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gm=b.qu=b.Ew=void 0;(function(a){a[a.uHa=0]="Test";a[a.yAa=1]="Int";a[a.Seb=2]="Staging";a[a.leb=3]="Prod";})(b.Ew || (b.Ew={}));(function(a){a[a.LP=0]="PreferMsl";a[a.xFa=1]="PreferNoMsl";a[a.$cb=2]="NoMsl";})(b.qu || (b.qu={}));b.gm="GeneralConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wh="ClockSymbol";},function(r,b,a){var l,d;function c(g,h){return g && g.dt && (h || !1 !== g.ov);}function f(g,h,m){return !l.ya(g) || g < h?h:g > m?m:g;}function k(g){if(!(this instanceof k))return new k(g);this.he=l.ya(g)?g:void 0;}l=a(10);d=new (a(5).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(g,h){if(!g)throw (g=h?" : " + h:"",d.error("Assertion failed" + g),Error("ASEJS_STREAM_SELECTOR assertion failed" + g));},PL:c,$ia:function(g,h,m){var q,p,t,u;function n(w){var v;v=g[w];if(!v.dt || m && !m(v,w))return !1;u=w;return !0;}q=g.length;p=0;t=q;l.isArray(h) && (p=f(h[0],0,q),t=f(h[1],0,q),h=h[2]);h=f(h,p - 1,t);for(q=h - 1;q >= p;--q){if(n(q))return u;}for(q=h + 1;q < t;++q){if(n(q))return u;}return -1;},lKb:function(g,h){return Math.floor(g / (125 * h) * 1E3);},eob:function(g,h){return Math.ceil(g / 1E3 * h * 125);},y6b:function(g,h){return !g.slice(h + 1).some(c);},Ho:k,vg:function(g,h){var m;return g.some(function(n,q,p){m=n;return h(n,q,p);})?m:void 0;},cp:function(g,h){var m;return g.some(function(n,q,p){m=q;return h(n,q,p);})?m:-1;},v1:f};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tA="named";b.dZ="name";b.YP="unmanaged";b.fDa="optional";b.nP="inject";b.AD="multi_inject";b.mHa="inversify:tagged";b.nHa="inversify:tagged_props";b.Caa="inversify:paramtypes";b.q$a="design:paramtypes";b.GP="post_construct";},function(r,b,a){var f;function c(k,l,d,g,h,m,n,q,p,t,u,w){this.code=void 0 === k?f.M.km:k;this.kc=l;this.xd=d;this.Bm=g;this.Kv=h;this.message=m;this.details=n;this.data=q;this.Fj=p;this.NNb=t;this.alert=u;this.Oea=w;this.W=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.ed=void 0;f=a(3);c.wd=function(k){var l,d,g;if(k){l=k.stack;d=k.number;g=k.message;g || (g="" + k);l?(k="" + l,0 !== k.indexOf(g) && (k=g + "\n" + k)):k=g;d && (k+="\nnumber:" + d);return k;}return "";};c.prototype.vS=function(k){this.details=c.wd(k);this.data=k;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.kc,extCode:this.xd,edgeCode:this.Bm,mslCode:this.Kv,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.Fj,playbackServiceError:this.NNb};};c.uja=function(k,l){return new c(k,f.L.hj,void 0,void 0,void 0,void 0,l.message,l.stack);};c.oZb=function(k,l,d){return new c(k,l,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.ed=c;},function(r,b,a){var l,d,g;function c(h){var m,n,q,u;q=Object.getOwnPropertyNames(h);for(h=Object.getPrototypeOf(h);h !== Object.prototype;){try{for(var p=(m=void 0,l.__values(Object.getOwnPropertyNames(h))),t=p.next();!t.done;t=p.next()){u=t.value;-1 === q.indexOf(u) && q.push(u);}}catch(w){m={error:w};}finally{try{t && !t.done && (n=p.return) && n.call(p);}finally{if(m)throw m.error;}}h=Object.getPrototypeOf(h);}return q;}function f(h,m,n,q,p){var t;Object.getOwnPropertyNames(h).filter(function(u){return p(u) && (n || !Object.prototype.hasOwnProperty.call(m,u)) && (q || !((u in m)));}).forEach(function(u){t=Object.getOwnPropertyDescriptor(h,u);void 0 !== t && Object.defineProperty(m,u,t);});}function k(h,m,n,q){var p,t;p=[];n || (p=Object.getOwnPropertyNames(m));q || (p=c(m));t=Object.getPrototypeOf(h);null !== t && t !== Object.prototype && k(t,m,n,q);f(h,m,!0,!0,function(u){return "constructor" !== u && -1 === p.indexOf(u);});}Object.defineProperties(b,{__esModule:{value:!0}});b.uf=b.Mqb=void 0;l=a(2);d=a(6);b.Mqb=k;g=Object.getOwnPropertyNames(Function);b.uf=function(h,m,n,q){void 0 === n && (n=!0);void 0 === q && (q=!0);q || d.assert(!n);h.prototype?(k(h.prototype,m.prototype,n,q),f(h,m,n,q,function(p){return -1 === g.indexOf(p);})):f(h,m.prototype,n,q,function(p){return -1 === g.indexOf(p);});return m;};},function(r,b,a){var l,d,g;function c(h){return function(m,n){return m.Lqa(n,h);};}function f(h,m){return h.e7.yPb[m] || k(h,m);}function k(h,m){h=h.Fy.data[m];switch(typeof h){case "undefined":break;case "string":case "number":case "boolean":return h.toString();default:return JSON.stringify(h);}}Object.defineProperty(b,"__esModule",{value:!0});b.Dx=b.Vqa=b.object=b.Uwb=b.url=b.da=b.vk=b.Tta=b.iFb=b.h8=b.string=b.Sz=b.ad=b.x4=b.config=void 0;l=a(49);d=a(4);g=a(135);b.config=function(h,m,n){n=void 0 === n?!1:n;return function(q,p,t){var u,w;u=void 0 !== m?m:p;w=t.get;void 0 !== w && (t.get=function(){var v;if(!this.bGb(p))return this.cCb(p);a:{v=(this.Zlb || n?f:k)(this,u.toString());if(void 0 !== v)if((v=h(this.hV,v),v instanceof g.Do))this.LSa(u,v);else break a;v=w.bind(this)();}this.yRb(p,v);return v;});return t;};};b.x4=function(h,m){return h.R1a(m);};b.ad=function(h,m){return h.Eqa(m);};b.Sz=function(h,m){return h.Up(m);};b.string=function(h,m){return h.Lqa(m);};b.h8=function(h,m){return h.qh(m,b.string);};b.iFb=function(h,m){return h.qh(m,b.x4);};b.Tta=function(h,m){return h.qh(m,b.Sz);};b.vk=function(h,m){h=h.Up(m);return h instanceof g.Do?h:d.xc(h);};b.da=function(h,m){h=h.Up(m);return h instanceof g.Do?h:l.da(h);};b.url=c(/^\S+$/);b.Uwb=function(h){return function(m,n){return m.Q1a(n,h);};};b.object=function(){return function(h,m){return h.S1a(m);};};b.Vqa=c;b.Dx=function(h,m){return function(n,q){return n.qh(q,h,m);};};},function(r,b,a){var k,l,d,g;function c(h,m){var n;n=g.call(this,h,m) || this;n.fPa=m;n.debug=h.debug;n.za=h.Ag.Cb(n.fPa);return n;}function f(h,m){this.fPa=m;this.uqa={};this.Fy=h.Fy;this.hV=h.hV;this.e7=h.e7;}Object.defineProperty(b,"__esModule",{value:!0});b.hf=b.tO=b.oHa=void 0;r=a(1);k=a(581);l=a(0);d=a(135);b.oHa="isTestAccount";f.prototype.LSa=function(){};f.prototype.yRb=function(h,m){this.uqa[h]=[m,this.Fy.x7];};f.prototype.bGb=function(h){return k.Baa.of(this.uqa[h]).map(function(m){return m[1];}).or(-1) < this.Fy.x7;};f.prototype.cCb=function(h){return k.Baa.of(this.uqa[h]).map(function(m){return m[0];}).or(function(){throw Error("Invalid State Error");});};Xa.Object.defineProperties(f.prototype,{Zlb:{configurable:!0,enumerable:!0,get:function(){var h,m;if(this && this.Fy && this.Fy.data){h=this.Fy.data[b.oHa];"undefined" !== typeof h && (m=h.toString());h=this.hV.Eqa(m);h=h instanceof d.Do?!1:h;}else h=!1;return h;}}});g=f;g=r.__decorate([l.R(),r.__param(0,l.ej()),r.__param(1,l.ej())],g);b.tO=g;la(c,g);c.prototype.LSa=function(h,m){this.za.error("Invalid configuration value.",{name:h},m);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,l.ej()),r.__param(1,l.ej())],a);b.hf=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mj="SchedulerSymbol";},function(r,b,a){var h,m,n,q,p,t,u,w;function c(){var v,x;if(v=b.C3.TKa)return v;v=t.gZ.search.substr(1);x=v.indexOf("#");0 <= x && (v=v.substr(0,x));v=f(v);return b.C3.TKa=v;}function f(v){for(var x=/[+]/g,y=(v || "").split("&"),z={},A,B=0;B < y.length;B++){v=q.trim(y[B]);A=v.indexOf("=");0 <= A?z[decodeURIComponent(v.substr(0,A).replace(x,"%20")).toLowerCase()]=decodeURIComponent(v.substr(A + 1).replace(x,"%20")):z[v.toLowerCase()]=null;}return z;}function k(v){return (v=(/function (.{1,})\(/).exec(v.toString())) && 1 < v.length?v[1]:"";}function l(v){return k(v.constructor);}function d(v){return t.sort.call(v,function(x,y){return x - y;});}function g(v){for(var x=0,y=v.length;y--;){x+=v[y];}return x;}Object.defineProperty(b,"__esModule",{value:!0});b.eOb=b.GT=b.LTa=b.R4=b.bOb=b.aXa=b.h9a=b.i9a=b.lyb=b.ss=b.kqb=b.ZK=b.Hxb=b.zG=b.z8a=b.B9=b.A8a=b.VX=b.hva=b.y8a=b.eFb=b.hF=b.JOb=b.Uoa=b.Mja=b.getFunctionName=b.tM=b.wV=b.C3=b.UBb=b.O1a=b.bMa=b.kPa=b.GPb=b.xs=b.TOa=void 0;h=a(12);m=a(21);n=a(7);q=a(24);p=a(29);t=a(11);u=a(18);w=a(59);b.TOa=function(v,x){if(v === x)return !0;if(!v || !x)return !1;for(var y in v){if(v.hasOwnProperty(y) && (!x.hasOwnProperty(y) || v[y] !== x[y]))return !1;}return !0;};b.xs=b.xs || (function(v,x){if(v.length == x.length){for(var y=v.length;y--;){if(v[y] != x[y])return !1;}return !0;}return !1;});b.GPb=function(v){var x;if(v){x=v.length;if(x)return (x=q.Bqa(0,x - 1),v[x]);}};b.kPa=function(v,x){if(v.length != x.length)return !1;v.sort();x.sort();for(var y=v.length;y--;){if(v[y] !== x[y])return !1;}return !0;};b.bMa=function(v,x,y){function z(){v.removeEventListener(x,z);y.apply(this,arguments);}v.addEventListener(x,z);};b.O1a=function(){var v,x,y,z,A,B;v=t.He.cookie.split("; ");x=v.length;A={};for(y=0;y < x;y++){if(z=q.trim(v[y])){B=z.indexOf("=");0 < B && (A[z.substr(0,B)]=z.substr(B + 1));}}return A;};b.UBb=c;b.C3=Object.assign(c,{TKa:void 0});b.wV=f;b.tM=function(v){var x;x="";q.de(v,function(y,z){x && (x+="&");m.hb(p.Ce(z) || u.ya(z) || u.cma(z));x+=encodeURIComponent(y) + "=" + encodeURIComponent(z);});return x;};b.getFunctionName=k;b.Mja=l;b.Uoa=function(v){var x;x="";u.isArray(v) || u.zma(v)?x=t.reduce.call(v,function(y,z){return y + (32 <= z && 128 > z?t.iHa(z):".");},""):p.Ce(v)?x=v:q.de(v,function(y,z){x+=(x?", ":"") + "{" + y + ": " + (u.Oc(z)?k(z) || "function":z) + "}";});return "[" + l(v) + " " + x + "]";};b.JOb=function(v,x){v.firstChild?v.insertBefore(x,v.firstChild):v.appendChild(x);};b.hF=b.hF || (function(v){var x;x="";q.de(v,function(y,z){x+=(x?";":"") + y + ":" + z;});return x;});b.eFb=function(v,x){var y;y=v[0];if(x <= y[0])return y.slice(1);for(var z=1,A;A=v[z++];){if(x <= A[0]){v=(x - y[0]) / (A[0] - y[0]);x=[];for(z=1;z < y.length;z++){x.push((y[z] || 0) + v * ((A[z] || 0) - (y[z] || 0)));}return x;}y=A;}return y.slice(1);};b.y8a=function(v,x){var A;for(var y={},z=0;z < x.length;z++){A=x[z];if("string" != typeof A && "number" != typeof A)return !1;y[x[z]]=1;}for(z=0;z < v.length;z++){if((A=v[z],!y[A]))return !1;}return !0;};b.hva=function(v,x){0 > v.indexOf(x) && v.push(x);};b.VX=d;b.A8a=g;b.B9=function(v,x){var y,z,A,B;y=-1;z=v.length;if(1 === arguments.length){for(;++y < z && !(null != (A=v[y]) && A <= A);){A=void 0;}for(;++y < z;){null != (B=v[y]) && B > A && (A=B);}}else {for(;++y < z && !(null != (A=x.call(v,v[y],y)) && A <= A);){A=void 0;}for(;++y < z;){null != (B=x.call(v,v[y],y)) && B > A && (A=B);}}return A;};b.z8a=function(v,x){var y,z,A,B;y=-1;z=v.length;if(1 === arguments.length){for(;++y < z && !(null != (A=v[y]) && A <= A);){A=void 0;}for(;++y < z;){null != (B=v[y]) && A > B && (A=B);}}else {for(;++y < z && !(null != (A=x.call(v,v[y],y)) && A <= A);){A=void 0;}for(;++y < z;){null != (B=x.call(v,v[y],y)) && A > B && (A=B);}}return A;};b.zG=function(v){return u.Oc(v.then)?v:new Promise(function(x,y){v.oncomplete=function(){x(v.result);};v.onerror=function(){y(v.error);};});};b.Hxb=function(v,x){var z,A,B,D,E,F;function y(C){0 > z.indexOf(C) && u.ya(C) && z.push(C);}v=v.slice();d(v);z=[];if(!x || !x.length)return v;if(!v.length)return [];A=x.length;try{for(;A--;){D="" + x[A];E=p.se(D);switch(D[D.length - 1]){case "-":for(B=v.length;B--;){F=v[B];if(F < E){y(F);break;}}break;case "+":for(B=0;B < v.length;B++){if((F=v[B],F > E)){y(F);break;}}break;default:0 <= v.indexOf(E) && y(E);}}}catch(C){}z.length || z.push(v[0]);d(z);return z;};b.ZK=b.ZK || (function(v,x,y){var z;if(v / x > y){z=t.Bi(x * y);v=x;}else (z=v,v=t.Bi(v / y));return {width:z,height:v};});b.kqb=function(v,x,y){for(var z=[],A=0;A < x;A++){z.push(t.aZ(v[A] - y,2));}return t.dCa(g(z) / z.length);};b.ss=function(v,x){var y;y=v.length;x=(y - 1) * x + 1;if(1 === x)return v[0];if(x == y)return v[y - 1];y=t.Jw(x);return v[y - 1] + (x - y) * (v[y] - v[y - 1]);};b.lyb=function(v,x){if(!u.isArray(v))throw Error("boxes is not an array");if(0 >= v.length)throw Error("There are no boxes in boxes");x=u.isArray(x)?x:[x];for(var y=v.length,z=0;z < y;z++){for(var A=0;A < x.length;A++){if(v[z].type == x[A])return v[z];}}throw Error("Box not found " + x);};b.i9a=function(v){return v.$zb("trak/mdia/minf/stbl/stsd/" + h.Zva + "|" + h.$va).children.filter(function(x){return "sinf" == x.type && x.E5b.schm.v8b == w.yw;})[0].$zb("schi/tenc").Ni;};b.h9a=function(v){var y;function x(z,A){var B;B=y[z];y[z]=y[A];y[A]=B;}y=new Uint8Array(v);x(0,3);x(1,2);x(4,5);x(6,7);return y;};b.aXa=function(){return u.Oc(t.Te.requestMediaKeySystemAccess);};b.bOb=function(v){return function(x){return x && x[v];};};u.Oc(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(v,x){var y,z;void 0 === v && (v=0);void 0 === x && (x=this.byteLength);v=Math.floor(v);x=Math.floor(x);0 > v && (v+=this.byteLength);0 > x && (x+=this.byteLength);v=Math.min(Math.max(0,v),this.byteLength);x=Math.min(Math.max(0,x),this.byteLength);if(0 >= x - v)return new ArrayBuffer(0);y=new ArrayBuffer(x - v);z=new Uint8Array(y);v=new Uint8Array(this,v,x - v);z.set(v);return y;});b.R4=function(v){return v && 0 == v.toLowerCase().indexOf("https");};b.LTa=function(){var v,x;v=new ArrayBuffer(4);x=new Uint8Array(v);v=new Uint32Array(v);x[0]=161;x[1]=178;x[2]=195;x[3]=212;return 3569595041 == v[0]?"LE":2712847316 == v[0]?"BE":"undefined";};b.GT=function(){var v,x,y;try{v=/playercore.*js/;x=t.ru.getEntries("resource").filter(function(z){return null !== v.exec(z.name);});if(x && 0 < x.length){y=t.Bi(x[0].duration);return JSON.stringify(y);}}catch(z){}};b.eOb=function(v,x,y){if(v && v.length){if(y && y.ypb)try{v.forEach(function(z,A){var B;B=(A=y.ypb[A]) && A.media;B && p.Ce(B)?(!1,B=n.Kq(B).buffer,z.media={arrayBuffer:B,length:B.byteLength,stream:x,pc:A.cdn}):n.log.warn("chunk not in cache",z.oh);});}catch(z){n.log.error("error reading cached chunks",z);}else n.log.warn("chunks not available in cached stream",y.type);}else n.log.warn("chunks not available in mediabuffer",y.type);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xu=b.Zg=void 0;b.Di={hYa:"logblob",sa:"manifest",gg:"license",events:"events",bind:"bind",h0a:"pair",ping:"ping",config:"config"};r=b.Zg || (b.Zg={});r[r.ju=20]="High";r[r.oaa=10]="Medium";r[r.wI=0]="Low";b.xu={Zg:"reqPriority",ueb:"reqAttempt",veb:"reqName",n9a:"browsername",s9a:"browserversion",ddb:"osname",edb:"osversion",S9a:"clienttype",gfb:"uiversion"};},function(r,b,a){var k;function c(){return k.ZP.apply(this,arguments) || this;}function f(l){return new k.Tr(l,b.jD);}Object.defineProperty(b,"__esModule",{value:!0});b.ab=b.BCa=b.V$=b.du=b.jD=b.tJb=b.LGb=b.da=b.Ix=b.u9a=void 0;k=a(304);la(c,k.ZP);b.u9a=c;b.Ix=f;b.da=function(l){return new k.Tr(l,b.du);};b.LGb=function(l){return new k.Tr(l,b.V$);};b.tJb=function(l){return new k.Tr(l,b.BCa);};b.jD=new c(1,"b");b.du=new c(8 * b.jD.Yf,"B",b.jD);b.V$=new c(1024 * b.du.Yf,"KB",b.jD);b.BCa=new c(1024 * b.V$.Yf,"MB",b.jD);b.ab=f(0);},function(r,b){function a(){}function c(){}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.Vr=b.ke=b.O=void 0;b.O=f;f.mI="playready-h264mpl30-dash";f.pD="playready-h264mpl31-dash";f.A$="playready-h264mpl40-dash";f.mza="playready-h264hpl22-dash";f.QO="playready-h264hpl30-dash";f.RO="playready-h264hpl31-dash";f.z$="playready-h264hpl40-dash";f.WZ="vp9-profile0-L21-dash-cenc";f.QI="vp9-profile0-L30-dash-cenc";f.RI="vp9-profile0-L31-dash-cenc";f.aQ="vp9-profile0-L40-dash-cenc";f.Kab="hevc-main10-L30-dash-cenc";f.Lab="hevc-main10-L31-dash-cenc";f.Mab="hevc-main10-L40-dash-cenc";f.Nab="hevc-main10-L41-dash-cenc";f.dP="hevc-main10-L50-dash-cenc";f.fP="hevc-main10-L51-dash-cenc";f.LY="hevc-main10-L30-dash-cenc-prk";f.NY="hevc-main10-L31-dash-cenc-prk";f.PY="hevc-main10-L40-dash-cenc-prk";f.RY="hevc-main10-L41-dash-cenc-prk";f.MY="hevc-main10-L30-dash-cenc-prk-do";f.OY="hevc-main10-L31-dash-cenc-prk-do";f.QY="hevc-main10-L40-dash-cenc-prk-do";f.SY="hevc-main10-L41-dash-cenc-prk-do";f.eP="hevc-main10-L50-dash-cenc-prk-do";f.gP="hevc-main10-L51-dash-cenc-prk-do";f.lY="hevc-dv5-main10-L30-dash-cenc-prk";f.nY="hevc-dv5-main10-L31-dash-cenc-prk";f.HO="hevc-dv5-main10-L40-dash-cenc-prk";f.qY="hevc-dv5-main10-L41-dash-cenc-prk";f.sY="hevc-dv5-main10-L50-dash-cenc-prk";f.uY="hevc-dv5-main10-L51-dash-cenc-prk";f.mY="hevc-dv5-main10-L30-dash-cenc-prk-do";f.oY="hevc-dv5-main10-L31-dash-cenc-prk-do";f.pY="hevc-dv5-main10-L40-dash-cenc-prk-do";f.rY="hevc-dv5-main10-L41-dash-cenc-prk-do";f.tY="hevc-dv5-main10-L50-dash-cenc-prk-do";f.vY="hevc-dv5-main10-L51-dash-cenc-prk-do";f.oza="hevc-hdr-main10-L30-dash-cenc";f.pza="hevc-hdr-main10-L31-dash-cenc";f.qza="hevc-hdr-main10-L40-dash-cenc";f.rza="hevc-hdr-main10-L41-dash-cenc";f.sza="hevc-hdr-main10-L50-dash-cenc";f.tza="hevc-hdr-main10-L51-dash-cenc";f.TO="hevc-hdr-main10-L30-dash-cenc-prk";f.VO="hevc-hdr-main10-L31-dash-cenc-prk";f.oI="hevc-hdr-main10-L40-dash-cenc-prk";f.YO="hevc-hdr-main10-L41-dash-cenc-prk";f.$O="hevc-hdr-main10-L50-dash-cenc-prk";f.bP="hevc-hdr-main10-L51-dash-cenc-prk";f.UO="hevc-hdr-main10-L30-dash-cenc-prk-do";f.WO="hevc-hdr-main10-L31-dash-cenc-prk-do";f.XO="hevc-hdr-main10-L40-dash-cenc-prk-do";f.ZO="hevc-hdr-main10-L41-dash-cenc-prk-do";f.aP="hevc-hdr-main10-L50-dash-cenc-prk-do";f.cP="hevc-hdr-main10-L51-dash-cenc-prk-do";f.Qua="av1-main-L20-dash-cbcs-prk";f.Rua="av1-main-L21-dash-cbcs-prk";f.Sua="av1-main-L30-dash-cbcs-prk";f.Tua="av1-main-L31-dash-cbcs-prk";f.Uua="av1-main-L40-dash-cbcs-prk";f.Vua="av1-main-L41-dash-cbcs-prk";f.Wua="av1-main-L50-dash-cbcs-prk";f.Xua="av1-main-L51-dash-cbcs-prk";f.yeb=[f.mI];f.Hab=[f.pD,f.A$];f.Pba=[f.LY,f.NY,f.PY,f.RY,f.dP,f.fP];f.Qba=[f.MY,f.OY,f.QY,f.SY,f.eP,f.gP];f.C$=[f.TO,f.VO,f.oI,f.YO,f.$O,f.bP];f.B$=[f.UO,f.WO,f.XO,f.ZO,f.aP,f.cP];f.rxa=[f.lY,f.HO,f.sY,f.nY,f.qY,f.uY];f.qxa=[f.mY,f.pY,f.tY,f.oY,f.rY,f.vY];f.y9=[f.QO,f.RO,f.z$];f.fIa=[f.QI,f.RI,f.aQ];f.Vw=[f.WZ,f.QI,f.RI,f.aQ];f.w8a=[f.Qua,f.Rua,f.Sua];f.v8a=[f.Tua,f.Uua,f.Vua];f.x8a=[f.Wua,f.Xua];f.Gk=[].concat(f.w8a,f.v8a,f.x8a);f.y$=f.yeb.concat(f.Hab);b.ke=c;c.qD="heaac-2-dash";c.uza="heaac-5.1-dash";c.rD="heaac-2hq-dash";c.bE="xheaac-dash";c.EO="ddplus-2.0-dash";c.a$="ddplus-5.1-dash";c.FO="ddplus-atmos-dash";b.Vr=a;a.Feb="simplesdh";a.d$="dfxp-ls-sdh";a.zI="nflx-cmisc";},function(r,b,a){var f,k,l,d,g;function c(){return f.kd.get(l.rd).eG.ea(g.ma);}Object.defineProperty(b,"__esModule",{value:!0});b.Tpb=b.Aga=b.HOa=b.Rpb=b.Spb=b.y1=b.Ki=void 0;f=a(193);k=a(39);l=a(19);d=a(92);g=a(4);b.Ki=function(){return f.kd.get(l.rd).Wb().ea(g.ma);};b.y1=function(){return f.kd.get(k.Wh).Ye.ea(g.rn);};b.Spb=function(){return f.kd.get(l.rd).eG.ea(g.rn);};b.Rpb=function(){return f.kd.get(d.oA).wB();};b.HOa=c;b.Aga=function(){return f.kd.get(k.Wh).Ye.ea(g.ma);};b.Tpb=function(){return c();};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.im="PboCommandContextSymbol";},function(r,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.kKb=b.platform=b.kk=b.Pb=b.bBb=b.DT=b.IF=b.vYa=b.YD=b.ae=b.Hk=b.$D=void 0;c=a(2);c.__exportStar(a(172),b);c.__exportStar(a(376),b);c.__exportStar(a(758),b);c.__exportStar(a(759),b);c.__exportStar(a(760),b);f=a(95);Object.defineProperties(b,{$D:{enumerable:!0,get:function(){return f.$D;}}});c.__exportStar(a(772),b);c.__exportStar(a(379),b);c.__exportStar(a(222),b);c.__exportStar(a(22),b);k=a(380);Object.defineProperties(b,{Hk:{enumerable:!0,get:function(){return k.Hk;}}});l=a(54);Object.defineProperties(b,{ae:{enumerable:!0,get:function(){return l.ae;}}});d=a(224);Object.defineProperties(b,{YD:{enumerable:!0,get:function(){return d.YD;}}});c.__exportStar(a(383),b);b.vYa=function(h){b.platform.bU(h);return a(784).OBa;};b.IF=function(h){b.platform.bU(h);return Promise.resolve().then(function(){return c.__importStar(a(256));}).then(function(m){return m.IF();});};b.DT=function(h,m){b.platform.bU(h);return Promise.resolve().then(function(){return c.__importStar(a(438));}).then(function(n){return n.DT(m);});};b.bBb=function(){return a(228);};r=c.__importDefault(a(27));b.Pb=r.default;r=a(992);b.kk=r.kk;r=c.__importDefault(a(5));b.platform=r.default;g=a(993);b.kKb=function(){return {Ur:g.Ur};};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vba=b.ae=void 0;c=a(2);f=a(779);(function(k){k[k.Vt=0]="startPlayback";k[k.pp=1]="endPlayback";k[k.Hr=2]="underflow";})(b.ae || (b.ae={}));r=(function(){function k(l){this.config=l;this.$M=[];}k.prototype.ei=function(l){var d,g;g=c.__read(this.config.Sha.filter(function(h){return h.Li === l.Li;}),1)[0];(null !== (d=null === g || void 0 === g?void 0:g.enabled) && void 0 !== d?d:l.enabled)?this.$M.push(l):l.zb && l.zb();};k.prototype.Qn=function(l){var d,g,h,q,p;g={};h=[];try{for(var m=c.__values(this.$M),n=m.next();!n.done;n=m.next()){q=n.value;try{p=q.Qn({oi:l});p && (q.yC?g[q.yC]=p:g=c.__assign(c.__assign({},g),p));}catch(u){h.push(u);}}}catch(u){var t;t={error:u};}finally{try{n && !n.done && (d=m.return) && d.call(m);}finally{if(t)throw t.error;}}h.length && (g["rpt-error"]=new f.ava("Reporting error",h));return g;};return k;})();b.vba=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$$="LogBatcherConfigSymbol";b.Ao="LogBatcherSymbol";b.cBa="LogBatcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.T$a="Cannot apply @injectable decorator multiple times.";b.U$a="Metadata key was used more than once in a parameter:";b.AP="NULL argument";b.EAa="Key Not Found";b.c8a="Ambiguous match found for serviceIdentifier:";b.v9a="Could not unbind serviceIdentifier:";b.Qcb="No matching bindings found for serviceIdentifier:";b.ocb="Missing required @injectable annotation in:";b.pcb="Missing required @inject or @multiInject annotation in:";b.hfb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.x9a="Circular dependency found:";b.N1b="Sorry, this feature is not fully implemented yet.";b.Gbb="Invalid binding type:";b.Scb="No snapshot available to restore.";b.Kbb="Invalid return type in middleware. Middleware must return!";b.Jbb="Value provided to function binding must be a function!";b.Mbb="The toSelf function can only be applied when a constructor is used as service identifier";b.Hbb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.e8a=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.M9a="Invalid Container constructor argument. Container options must be an object.";b.K9a="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.J9a="Invalid Container option. Auto bind injectable must be a boolean";b.L9a="Invalid Container option. Skip base check must be a boolean";b.Ccb="Cannot apply @postConstruct decorator multiple times in the same class";b.Xdb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.y9a=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Jeb="Maximum call stack size exceeded";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ao=b.dVb=b.A_a=void 0;b.A_a=function(a,c){return a - c;};b.dVb=function(a,c){return a.localeCompare(c);};b.ao=function(a,c){var f;f=Object.getOwnPropertyDescriptor(a,c);f && Object.defineProperty(a,c,{configurable:f.configurable,enumerable:!1,value:f.value,writable:f.writable});};},function(r,b,a){var c,f;c=a(122);f=a(170);r.exports=function(k){return function h(d,g){switch(arguments.length){case 0:return h;case 1:return f(d)?h:c(function(m){return k(d,m);});default:return f(d) && f(g)?h:f(d)?c(function(m){return k(m,g);}):f(g)?c(function(m){return k(d,m);}):k(d,g);}};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u3=b.pI=b.Bba=b.KZ=b.rIa=b.sIa=b.Gaa=b.EY=b.yw=void 0;b.yw="cenc";b.EY="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.Gaa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.sIa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.rIa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.KZ="SW_SECURE_CRYPTO";b.Bba="SW_SECURE_DECODE";b.pI="HW_SECURE_DECODE";b.u3=function(a){var c;c=a.getConfiguration();return [b.pI,b.Bba,b.KZ].find(function(f){var k;return null === (k=c.videoCapabilities) || void 0 === k?void 0:k.some(function(l){return l.robustness === f;});});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yma=b.Xh=void 0;(function(a){a[a.Go=0]="STANDARD";a[a.pn=1]="LIMITED";})(b.Xh || (b.Xh={}));b.Yma=function(a){return ["STANDARD","LIMITED"][a];};},function(r,b){function a(c){var f;f=Error.call(this,"TimeoutError");this.message=f.message;("stack" in f) && (this.stack=f.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Pw=b.xq=void 0;la(a,Error);b.xq=a;b.Pw="PromiseTimerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fg=void 0;b.fg=function(a){return setTimeout(a,0);};},function(r,b,a){var f,k;function c(l,d){var g;g=b.Fo[0];g == d && (g=b.Fo[1]);g?g.close(function(){c(l,d);}):l && l(f.Ie);}Object.defineProperty(b,"__esModule",{value:!0});b.JEa=b.IEa=b.Zaa=b.$aa=b.GI=b.bba=b.aba=b.eba=b.dba=b.Fo=b.fba=b.cba=void 0;f=a(12);k=a(21);b.cba=c;b.fba=function(l,d){switch(l){case b.aba:b.dba.push(d);return;case b.bba:b.eba.push(d);return;}k.hb(!1);};b.Fo=[];b.dba=[];b.eba=[];b.aba=1;b.bba=3;b.GI={index:0,iKb:void 0,eja:void 0};b.$aa="network";b.Zaa="media";b.IEa="timedtext";b.JEa="playback";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.O3=b.xL=b.P3=b.SB=b.Jm=b.mf=void 0;r=a(73);c=a(62);f=a(11);b.mf=new r.Yj();b.Jm=1;b.SB=2;b.P3=3;b.xL=4;b.O3=5;c.fg(function(){var l,d,g;function k(h,m){if(d)d.on(h,m);else pb.addEventListener(h,m);}l=pb.jQuery;d=l && l(pb);l=(l=pb.netflix) && l.cadmium && l.cadmium.addBeforeUnloadHandler;g=f.He.hidden;l?l(function(h){b.mf.qc(b.Jm,h);}):k("beforeunload",function(h){b.mf.qc(b.Jm,h);});k("keydown",function(h){b.mf.qc(b.SB,h);});k("resize",function(){b.mf.qc(b.P3);});f.He.addEventListener("visibilitychange",function(){g !== f.He.hidden && (g=f.He.hidden,b.mf.qc(b.xL));});});(function(){pb.addEventListener("error",function(k){b.mf.qc(b.O3,k);return !0;});})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);r=(function(){function f(k,l){this.key=k;this.value=l;}f.prototype.toString=function(){return this.key === c.tA?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return f;})();b.Metadata=r;},function(r,b){var c,f;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.oq=b.Fa=b.oj=void 0;(function(k){k[k.Go=0]="STANDARD";k[k.pn=1]="LIMITED";k[k.B2b=2]="PREVIEW";})(c || (c={}));(function(k){k[k.HAVE_NOTHING=0]="HAVE_NOTHING";k[k.HAVE_METADATA=1]="HAVE_METADATA";k[k.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";k[k.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";k[k.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(f || (f={}));(function(k){k.q8a="asl_start";k.o8a="asl_comp";k.CZb="asl_exc";k.p8a="asl_fail";k.Leb="stf_creat";k.bbb="idb_open";k.Zab="idb_block";k.ibb="idb_upgr";k.hbb="idb_succ";k.$ab="idb_error";k.abb="idb_invalid_state";k.dbb="idb_open_timeout";k.fbb="idb_open_wrkarnd";k.gbb="idb_storelen_exc";k.cbb="idb_open_exc";k.ebb="idb_timeout_invalid_storelen";k.wcb="msl_load_data";k.ycb="msl_load_no_data";k.xcb="msl_load_failed";})(r=b.oj || (b.oj={}));(function(k){k.Faa="PlaybackRequestStart";k.Eaa="PlaybackRequestEnd";k.DZ="RequestPrefetchManifestStart";k.CZ="RequestPrefetchManifestEnd";k.BZ="RequestManifestStart";k.AZ="RequestManifestEnd";k.zZ="RequestLicenseStart";k.yZ="RequestLicenseEnd";k.yO="RequestTimedTextUrlStart";k.xO="RequestTimedTextUrlEnd";k.wO="RequestAudioUrlStart";k.vO="RequestAudioUrlEnd";k.AO="RequestVideoUrlStart";k.zO="RequestVideoUrlEnd";k.o9="AppendBufferStart";k.n9="AppendBufferEnd";k.xba="SetMediaKeysStart";k.wba="SetMediaKeysEnd";k.IY="GenerateChallengeStart";k.HY="GenerateChallengeEnd";k.TX="ApplyLicenseStart";k.SX="ApplyLicenseEnd";})(b.Fa || (b.Fa={}));b.oq=a;a.W$=c;a.rPa=function(k){return ["STANDARD","LIMITED","PREVIEW"][k];};a.oj=r;a.xza=f;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(1);r.__exportStar(a(780),b);r.__exportStar(a(225),b);r.__exportStar(a(781),b);r.__exportStar(a(782),b);r.__exportStar(a(783),b);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(151),b);r.__exportStar(a(856),b);r.__exportStar(a(177),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iu="EmeConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XD="TimingApiSymbol";b.wP="MilestoneTimingApiSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tu="PboConfigSymbol";},function(r,b,a){var m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F;function c(C){var G,J,K,H;G=C.url.split("?");J=G[0];K="sc=" + C.bSb;H=C.TNa?"random=" + (1E17 * z.DD()).toFixed(0):"";J=G[1]?J + ("?" + G[1] + "&" + K):J + ("?" + K);J+=H?"&" + H:"";C.pc && !p.R4(J) && (C=n.config && n.config.dga) && (J=C.replace("{URL}",J).replace("{EURL}",encodeURIComponent(J)));return J;}function f(C){var G,J,K,H;G=C.url.split("?");J=G[0];K="bb_reason=" + C.reason;H=C.TNa?"random=" + (1E17 * z.DD()).toFixed(0):"";J=G[1]?J + ("?" + G[1] + "&" + K):J + ("?" + K);J+=H?"&" + H:"";C.pc && !p.R4(J) && (C=n.config && n.config.dga) && (J=C.replace("{URL}",J).replace("{EURL}",encodeURIComponent(J)));return J;}function k(C,G){var J,K,H;J=C.url.split("?");K=J[0];H=l(C);H && (G.pr=H,(void 0 === C.$t?n.config.$t:C.$t)?(C.headers=C.headers || ({}),C.headers.Range="bytes=" + H):(G.pr=H,K="/" == K[K.length - 1]?K + "range/":K + "/range/",K+=H));H=C.TNa?"random=" + (1E17 * z.DD()).toFixed(0):"";n.config.jy && C.V7 && (H="sc=" + C.V7 + (H?"&" + H:""));K=J[1]?K + ("?" + J[1] + (H?"&" + H:"")):K + (H?"?" + H:"");C.pc && !p.R4(K) && (C=n.config && n.config.dga) && (K=C.replace("{URL}",K).replace("{EURL}",encodeURIComponent(K)));G.url=K;}function l(C){var G;G=C.offset;if(void 0 !== G)return (x.pS(G),void 0 !== C.length?(C=C.offset + C.length - 1,x.pS(C),G + "-" + C):G + "-");}function d(){return !1 !== z.Te.onLine;}function g(C,G,J,K){var H,L;H=K.bqa;L=K.headers;C.open(H?"POST":"GET",G,!J);switch(K.responseType){case b.XT:C.responseType="arraybuffer";break;case b.Ala:y.eOa(C,"overrideMimeType",void 0,"text/xml");}H && (G={"Content-Type":u.Ce(H)?"text/plain":"application/x-octet-stream"},L=L?u.Tb(G,L):G);L && y.de(L,function(P,I){C.setRequestHeader(P,I);});K.withCredentials && (C.withCredentials=!0);void 0 !== C.msCaching && (C.msCaching="disabled");H?C.send(H):C.send();}function h(C,G){switch(G.type){case b.XT:return C.response || new ArrayBuffer(0);case b.Ala:return C.responseXML;default:return C.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.XT=b.Ala=b.zla=b.Bla=b.f4=b.WVa=b.VVa=b.d4=b.sfb=b.tfb=b.gEb=b.e4=b.dEb=b.eEb=b.cEb=b.fEb=b.Ef=void 0;m=a(73);n=a(13);q=a(12);p=a(47);t=a(51);u=a(29);w=a(3);v=a(7);x=a(21);y=a(24);z=a(11);A=a(62);B=a(18);D=a(32);E={jm:1,O3b:2,H8a:3};b.Ef=(function(){var K,H,L,P;function C(I){var O;try{O=I.url;B.Bma(O)?0 === O.indexOf("https")?P.ssl++:0 === O.indexOf("http")?P["non-ssl"]++:P.invalid++:P.invalid++;}catch(N){}}function G(){H.qc(b.WVa);H.qc(b.Bla);}function J(){H.qc(b.f4);H.qc(b.Bla);}K=v.mi("Http");H=new m.Yj();L=0;P={ssl:0,"non-ssl":0,invalid:0};v.ha.get(D.Xg).register(w.M.iAa,function(I){n.config.jYb && (pb.addEventListener("online",G),pb.addEventListener("offline",J),b.e4=d);I(q.Ie);});return {addEventListener:H.addListener,removeEventListener:H.removeListener,download:function(I,O){var X,sa,T,R,ca,ja,Pa,wa,Ua,Va,cb;function N(){var Ya;N=u.Kk;cb && (clearTimeout(cb),cb=null);H.removeListener(b.f4,fa);Ua && (Ua.onloadstart=null,Ua.onreadystatechange=null,Ua.onprogress=null,Ua.onerror=null,Ua.onload=null,Ua=Ua.onabort=null);wa.W?!1:wa.oa != w.L.lA?X.warn("Download failed",sa,w.Sr(wa)):X.trace("Download aborted",sa);Ya=T;T=void 0;for(var kb=Ya.length;kb--;){(function(){var $a;$a=Ya[kb];A.fg(function(){$a(wa);});})();}H.qc(b.VVa,wa,!0);}function M(){cb && (clearTimeout(cb),cb=null);cb=setTimeout(qa,Va?Pa:ja);}function Q(Ya,kb,$a,Ra){var ya,Ia;wa.W=!1;wa.oa=Ya;ya=t.Ki();Ia=wa.Rl;Ia.Ph=Ia.Ph || ya;Ia.lo=Ia.lo || ya;0 < kb && (wa.mk=wa.Ze=kb);$a && (wa.rb=$a);Ra && (wa.NC=Ra);Ya !== w.L.hP && Ya !== w.L.sD && Ya !== w.L.kP || !Ua || (Ua.onabort=null,xa());N();}function S(Ya){var kb,$a;try{$a=Ya.getResponseHeader("X-Netflix.Retry.Server.Policy");$a && (kb=JSON.parse($a));}catch(Ra){!1;}return kb;}function fa(){b.e4() || Q(w.L.hP);}function qa(){Q(Va?w.L.sD:w.L.kP);}function xa(){try{Ua && Ua.abort();}catch(Ya){}}function ua(){Q(w.L.lA);}x.hb(O);X=I.j && I.j.log && v.jh(I.j,"Http") || K;sa={Num:L++};T=[O];R={};ja=I.G1 || n.config.G1;Pa=I.Hoa || n.config.Hoa;C(I);!1;wa=(function(){var Ya,kb,$a;Ya=u.Kk;kb=u.Kk;$a=u.Kk;return {request:I,type:I.responseType,Rl:R,abort:xa,timeout:qa,yea:function(Ra){N !== u.Kk && (x.hb(T,"Callback should be added before download starts."),T && T.unshift(Ra));},w6:function(Ra){$a(Ra);},y6:function(Ra){Ya(Ra);},Rm:function(Ra){kb(Ra);},aTb:function(Ra){$a=Ra;},iTb:function(Ra){Ya=Ra;},SSb:function(Ra){kb=Ra;}};})();A.fg(function(){var Ya,kb;if(B.Bma(I.url))try{if((k(I,wa),ca=wa.url,x.BK(ca),sa.Url=ca,b.e4())){!1;Ua=new XMLHttpRequest();Ya=n.config.qYb && "undefined" != typeof Ua.onloadstart;Ya && (Ua.onloadstart=function(){var $a;$a=t.Ki();R.Wp=$a;wa.w6({mediaRequest:I,timestamp:$a});});Ua.onreadystatechange=function(){if(2 == Ua.readyState){Va=!0;R.Ph=t.Ki();Ua.onreadystatechange=null;M();!1;for(var $a=wa,Ra=Ua.getAllResponseHeaders().split("\n"),ya=Ra.length,Ia,Ma,Ta={};ya--;){if(Ia=Ra[ya])(Ma=Ia.indexOf(": "),1 <= Ma && Ma < Ia.length - 1 && (Ta[Ia.substr(0,Ma)]=Ia.substr(Ma + 2)));}$a.headers=Ta;wa.y6({timestamp:R.Ph,connect:!0,mediaRequest:I,start:R.Wp,rt:[R.Ph - R.Wp]});}};Ua.onprogress=function($a){Va=!0;R.Tga=$a.loaded;M();$a={mediaRequest:I,bytes:$a.loaded,timestamp:t.Ki(),bytesLoaded:$a.loaded};wa.y6($a);};Ua.onload=function(){var $a;if(N !== u.Kk){x.hb(void 0 === R.lo);R.lo=t.Ki();R.Ph=R.Ph || R.lo;if(200 <= Ua.status && 299 >= Ua.status){$a=h(Ua,wa);wa.parsed=!1;wa.content=$a;wa.W=!0;}else Ua.status == F?Q(w.L.jP,Ua.status):Q(w.L.iP,Ua.status,Ua.response,S(Ua));N();}};Ua.onabort=ua;Ua.onerror=function(){var $a,Ra;$a=Ua.status;"undefined" !== typeof n.config.HSa && ($a=n.config.HSa);if(0 < $a){if($a == F)Q(w.L.jP,$a);else {try{Ra=Ua.responseText;}catch(ya){}Q(w.L.iP,$a,Ra,S(Ua));}}else Q(w.L.lP);};kb=t.Ki();g(Ua,ca,!1,I);H.qc(b.d4,wa,!0);Ya || (R.Wp=kb,wa.w6({mediaRequest:I,timestamp:kb}));M();H.addListener(b.f4,fa);}else A.fg(Q.bind(void 0,w.L.hP));}catch($a){X.error("Exception starting download",$a,sa);Q(w.L.H$,void 0,u.wd($a));}else Q(w.L.Aza);});return wa;},Ad:P,J7b:function(I){var O;O=new XMLHttpRequest();I=f(I);O.open("HEAD",I);O.onreadystatechange=function(){2 == O.readyState && !1;};O.send();},dUb:function(I){var O;O=new XMLHttpRequest();I=c(I);O.open("HEAD",I);O.onreadystatechange=function(){2 == O.readyState && !1;};O.send();},$Ob:function(I){var O,N,M;O=new XMLHttpRequest();N=I.url;M=I.XOb;O.open("HEAD",N);O.timeout=Math.max(2 * M.THb,n.config.nqa);O.onreadystatechange=function(){2 == O.readyState && (!1,M && M.rM({url:N}));};O.ontimeout=O.onerror=function(){!1;M && M.Ooa({url:N});};O.send();},reb:E};})();b.fEb=c;b.cEb=f;b.eEb=k;b.dEb=l;b.e4=q.PFa;b.gEb=d;b.tfb=g;b.sfb=h;b.d4=1;b.VVa=2;b.WVa=3;b.f4=4;b.Bla=5;b.zla=1;b.Ala=2;b.XT=3;F=420;pb._cad_global.http=b.Ef;},function(r,b,a){var f,k;function c(){var l,d;l=this;this.Zr={};this.on=function(g,h,m){l.addListener(g,h,m);};this.addListener=function(g,h,m){l.Zr && (l.Zr[g]=l.Zr[g] || new k.nba(!0)).add(h,m);};this.removeListener=function(g,h){l.Zr && l.Zr[g] && l.Zr[g].removeAll(h);};this.Wja=function(g){return l.Zr && l.Zr[g]?l.Zr[g].flatten():[];};d=this;this.qc=function(g,h,m){var n;if(d.Zr){n=d.Wja(g);for(g={SH:0};g.SH < n.length;(g={SH:g.SH},g.SH++)){m?(function(q){return function(){var p;p=n[q.SH];f.fg(function(){p(h);});};})(g)():n[g.SH].call(this,h);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Yj=void 0;f=a(62);k=a(323);c.prototype.ih=function(){this.Zr=void 0;};b.Yj=c;},function(r,b,a){var f,k,l,d,g;function c(h,m,n,q,p,t){this.context=h;this.errorCode=m;this.FRb=n;this.pra=p;this.i0=t;this.name=q;}Object.defineProperty(b,"__esModule",{value:!0});b.Vh=void 0;r=a(1);f=a(0);k=a(486);l=a(4);d=a(42);g=a(38);c.prototype.send=function(h,m,n,q,p,t,u){var w;w=this;u=void 0 === u?g.qu.LP:u;return this.fAb(h,m,n,u,q,p,t).then(function(v){return w.context.gvb.send(v.context,v.request);});};c.prototype.fAb=function(h,m,n,q,p,t,u){var w,v;try{w=this.context.eRb.create(this.context.RF.wB(),m,n,p,q);v=this.Znb(h,q,t,u);return Promise.resolve({context:v,request:w});}catch(x){return Promise.reject(x);}};c.prototype.Znb=function(h,m,n,q){return {Ef:this.context.Ef,log:h,Xk:this.name,url:this.context.bYb(k.SNa(this.context.eh,this.context.Lh,this.name,m)),Fra:this.FRb,timeout:l.Tg(59),headers:k.RNa(this.context.Lh,this.context.AB),ora:this.ora,pra:void 0 !== n?n:this.pra,Cnb:q};};c.prototype.Im=function(h){return h instanceof d.ed?h:k.Im(this.errorCode,h);};Xa.Object.defineProperties(c.prototype,{ora:{configurable:!0,enumerable:!0,get:function(){return this.i0;}}});a=c;a=r.__decorate([f.R(),r.__param(0,f.ej()),r.__param(1,f.ej()),r.__param(2,f.ej()),r.__param(3,f.ej()),r.__param(4,f.ej()),r.__param(5,f.ej())],a);b.Vh=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Or={Request:"Request",Fba:"Singleton",UZ:"Transient"};b.gj={Vwa:"ConstantValue",Wwa:"Constructor",eya:"DynamicValue",w$:"Factory",Function:"Function",Instance:"Instance",Wbb:"Invalid",LFa:"Provider"};b.Tw={Owa:"ClassProperty",Xwa:"ConstructorArgument",Tba:"Variable"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vw="Base16EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yu="Utf8EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bHa="StorageValidatorSymbol";b.dA="AppStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pu="MediaKeySystemAccessServicesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zo={start:"start",stop:"stop",mU:"keepAlive",US:"engage",splice:"splice"};b.t$="EventPboCommandFactorySymbol";b.XGa="StartEventPboCommandSymbol";b.aHa="StopEventPboCommandSymbol";b.GAa="KeepAliveEventPboCommandSymbol";b.SGa="SpliceEventPboCommandSymbol";b.Cya="EngageEventPboCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yh={audio:"audio",video:"video",w8:"timedtext",Lta:"trickplay"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(147);b.tn=function(f){c.assert("number" === typeof f);return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255);};b.nQ=function(f){return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24);};b.ogb=function(f,k){return Math.floor(1E3 * f / k);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(l){f.prototype.parse.call(this,l);this.Vb=this.ti([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{ZDb:"int32"},{JYb:"int32"},{offset:32,type:"offset"},{Byb:"int16"},{iqb:{type:"int8",Zea:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};k.La=!0;return k;})(a(233).default);b.default=r;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="avc1";return k;})(r);b.u9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="avc2";return k;})(r);b.v9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="avc3";return k;})(r);b.w9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="avc4";return k;})(r);b.x9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="hvc1";return k;})(r);b.I$=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="hev1";return k;})(r);b.D$=a;r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="av01";return k;})(r);b.u8a=r;},function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bw="DeviceFactorySymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Zh=b.bdb=b.Co=void 0;c=a(18);b.Co=b.Co || (function(f,k,l){return f >= k?f <= l?f:l:k;});b.bdb=function(f,k,l,d,g){return (f - k) * (g - d) / (l - k) + d;};b.Zh=function(f){if(c.ya(f))return (f / 1E3).toFixed(3);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(156);b.tn=function(f){c.assert("number" === typeof f);return String.fromCharCode(f >>> 24 & 255) + String.fromCharCode(f >>> 16 & 255) + String.fromCharCode(f >>> 8 & 255) + String.fromCharCode(f & 255);};b.nQ=function(f){return f.charCodeAt(3) + (f.charCodeAt(2) << 8) + (f.charCodeAt(1) << 16) + (f.charCodeAt(0) << 24);};b.ogb=function(f,k){return Math.floor(1E3 * f / k);};},function(r,b,a){var k,l;function c(d,g,h,m,n){var q,p,u;q={};p="number" === typeof n;n=void 0 !== n && p?n.toString():h;if(p && void 0 !== h)throw Error(k.Hbb);Reflect.kla(d,g) && (q=Reflect.getMetadata(d,g));h=q[n];if(Array.isArray(h)){p=0;for(var t=h;p < t.length;p++){u=t[p];if(u.key === m.key)throw Error(k.U$a + " " + u.key.toString());}}else h=[];h.push(m);q[n]=h;Reflect.Kha(d,q,g);}function f(d,g){return function(h,m){g(h,m,d);};}Object.defineProperty(b,"__esModule",{value:!0});k=a(56);l=a(41);b.vH=function(d,g,h,m){c(l.mHa,d,g,m,h);};b.$W=function(d,g,h){c(l.nHa,d.constructor,g,h);};b.Qq=function(d,g,h){"number" === typeof h?(d=[f(h,d)],Reflect.Qq(d,g)):"string" === typeof h?Reflect.Qq([d],g,h):Reflect.Qq([d],g);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wAa="Injector";b.rA=145152E5;b.NP="ProfileSymbol";},function(r,b,a){var f,k;function c(l,d,g,h,m){l=void 0 === l?f.M.km:l;return k.ed.call(this,l,d,g,void 0,void 0,h,k.ed.wd(m),m) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.og=void 0;f=a(3);k=a(42);la(c,k.ed);b.og=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wxa="DebugConfigSymbol";b.eu="DebugSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oA="IdProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oya="EventSourceSymbol";b.x$="GlobalEventSourceSymbol";b.wY="DebugEventSourceSymbol";b.Ixa="DiagnosticsEventSourceSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pO=b.C8a=b.D9=b.E9=void 0;(function(a){a[a.XQa=0]="downloading";a[a.Dvb=1]="downloaded";a[a.Ne=2]="appended";a[a.buffered=3]="buffered";a[a.YM=4]="removed";a[a.l9b=5]="unused";})(b.E9 || (b.E9={}));(function(a){a[a.waiting=1]="waiting";a[a.Q7b=2]="ondeck";a[a.XQa=4]="downloading";a[a.Dvb=8]="downloaded";a[a.eU=6]="inprogress";})(b.D9 || (b.D9={}));b.C8a="AseBufferViewSymbol";b.pO="AseBufferAccountingSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(761),b);r.__exportStar(a(762),b);r.__exportStar(a(763),b);r.__exportStar(a(764),b);r.__exportStar(a(765),b);r.__exportStar(a(766),b);r.__exportStar(a(767),b);r.__exportStar(a(768),b);r.__exportStar(a(378),b);r.__exportStar(a(769),b);r.__exportStar(a(770),b);r.__exportStar(a(771),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tw=void 0;r=(function(){function a(c){this.Ke=c;}a.prototype.ssa=function(c){this.Ke=c;};a.prototype.BOa=function(){this.Ke=void 0;};a.prototype.hT=function(c){return this.Ke && this.Ke.B6 && this.Ke.B6(c);};a.prototype.aL=function(c){this.Ke && this.Ke.hz && this.Ke.hz(c);};a.prototype.zF=function(c){this.Ke && this.Ke.yM && this.Ke.yM(c);};a.prototype.bL=function(c){this.Ke && this.Ke.zM && this.Ke.zM(c);};a.prototype.JSa=function(c){this.Ke && this.Ke.rpa && this.Ke.rpa(c);};a.prototype.qv=function(c){this.Ke && this.Ke.wk && this.Ke.wk(c);};a.prototype.U2=function(c){this.Ke && this.Ke.rV && this.Ke.rV(c);};a.prototype.$K=function(c,f,k){this.Ke && this.Ke.qV && this.Ke.qV(c,f,k);};return a;})();b.tw=r;r.prototype.B6=r.prototype.hT;r.prototype.hz=r.prototype.aL;r.prototype.yM=r.prototype.zF;r.prototype.zM=r.prototype.bL;r.prototype.wk=r.prototype.qv;r.prototype.rV=r.prototype.U2;r.prototype.qV=r.prototype.$K;r.prototype.rpa=r.prototype.JSa;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JD="6674654e-696c-5078-6966-665374726d21";b.KD="6674654e-696c-4878-6165-6465722e7632";b.yP="6674654e-696c-5078-6966-66496e646578";b.Mw="6674654e-696c-4d78-6f6f-6653697a6573";b.Lw="6674654e-696c-5378-6565-6b506f696e74";b.DP="cedb7489-e77b-514c-84f9-7148f9882554";b.CP="524f39a2-9b5a-144f-a244-6c427c648df4";b.HD="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.fm=void 0;c=a(2);f=a(6);k=c.__importDefault(a(27));l=c.__importDefault(a(123));d=a(402);g=a(22);r=a(43);h=a(176);m=a(240);a=a(112);n=(function(q){function p(t,u){var w;w=q.call(this,t,u) || this;p.nb(w,t,u);return w;}c.__extends(p,q);p.nb=function(t,u,w,v){var x;h.bu.nb(t,u,w);t.Hg=w.index;t.hJ=w.Ya;t.Au=w.kb;t.Lkb=w.wb?w.wb:u.wb;t.fH=w.fH;t.qka=v;t.$Ja=! !w.Ip;t.XKa=null !== (x=w.region) && void 0 !== x?x:0;t.wJa=! !w.fja;t.ZJa=! !w.yv;t.jd=void 0 === w.V2 || void 0 === w.rja || w.V2 === w.Ya && w.rja === w.kb?t:new m.fA(t,{Ya:w.V2,kb:w.rja});t.iib=w.voa;t.Dfb=w.Eh;t.vhb=u.FDb;t.Mo=w.na?t.i_a(w.na):void 0;t.rLa=w.Wt;t.Ne=!1;};p.MPa=function(t){for(var u=new Uint32Array(t.length),w=new Uint32Array(t.length),v=0,x,y,z=0;z < t.length;++z){x=t[z];y=x.Ic;u[z]=x.Au - x.hJ;w[z]=y;v+=y;}return new d.Eba(u,w,t.length?t[0].U:1E3,v);};Object.defineProperties(p.prototype,{eC:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{index:{get:function(){return this.Hg;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{wb:{get:function(){return this.Lkb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{yNa:{get:function(){return 8 * this.da / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ya:{get:function(){return this.hJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{kb:{get:function(){return this.Au;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Oj:{get:function(){var t,u;return null !== (u=null === (t=this.qka) || void 0 === t?void 0:t.call(this)) && void 0 !== u?u:0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ip:{get:function(){return this.$Ja;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{region:{get:function(){return this.XKa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fja:{get:function(){return this.wJa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{yv:{get:function(){return this.ZJa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{voa:{get:function(){return this.iib;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Eh:{get:function(){return this.Dfb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{na:{get:function(){return this.Mo;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Wt:{get:function(){return this.rLa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{V2:{get:function(){return this.jd.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{rja:{get:function(){return this.jd.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ayb:{get:function(){return this.jd.np;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{OSa:{get:function(){return this.jd.Xpa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{cL:{get:function(){return this.jd.Xc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{X2:{get:function(){return this.jd.Pd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{W2:{get:function(){return this.jd.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{jT:{get:function(){return this.jd.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zyb:{get:function(){return this.jd.vc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{HB:{get:function(){var t;t=this.Ayb;f.assert(t);return t / this.stream.pa.Xb;},enumerable:!1,configurable:!0}});p.prototype.LYa=function(){this.$Ja=!0;};p.prototype.mTb=function(t){this.fH={Zd:t.xTa(),P4:t.Xt};};p.prototype.xN=function(t){this.rLa=t;};p.prototype.kTb=function(t,u,w){this.XKa=t;this.wJa=u;this.ZJa=w;};p.prototype.uh=function(t){var u,w;void 0 === t && (t={});u=this.stream.pa.Xb;w=this.Mo || ({start:0,end:this.HB});t=this.i_a(t);this.jd && this.jd !== this || (this.jd=new m.fA(this,this));t.start > w.start && (this.hJ=this.jd.Ya + t.start * u);t.end < w.end && (this.Au=this.jd.Ya + t.end * u);this.Mo=t;};p.prototype.GS=function(t){void 0 === t && (t=1);this.Mo?this.uh({start:this.Mo.start + t,end:this.Mo.end}):this.uh({start:t});};p.prototype.n2=function(t){this.Mo?this.uh({start:this.Mo.start,end:(this.Mo.end || 0) - t}):this.uh({start:0,end:-t});};p.prototype.gia=function(){this.uh({start:0,end:0});};p.prototype.nTb=function(t){this.Mo || this.uh();this.Mo.X7=t;};p.prototype.sSa=function(t){var w;if(!(t < this.X || t >= this.Ea) && this.Eh && this.Eh.length){t=new g.S(t + 1 - this.X,1E3).$k(this.stream.pa);for(var u=this.Eh.length - 1;0 <= u;--u){w=this.Eh[u];if(w.Bk <= t)return w;}return {Bk:0,pd:this.jT};}};p.prototype.Zxb=function(t){var w;if(!(t < this.X || t >= this.Ea) && this.Eh && this.Eh.length){t=new g.S(t + 1 - this.X,1E3).$k(this.stream.pa);for(var u=this.Eh.length - 1;0 <= u;--u){w=this.Eh[u];if(w.Bk <= t)return w;}return {Bk:0,pd:this.jT};}};p.prototype.mSa=function(t,u){var w,v,x;if(!(t < this.X || t >= this.Ea)){if(!u && this.vhb)return {Bk:0,pd:this.X};w=this.pa.Xb;v=this.pa.U;x=Math.floor(this.np / w);t=Math.min((u?Math.ceil:Math.floor)((g.S.Y5(t,v) - this.Ya + (u?-1:1) * (v / 1E3 - 1)) / w),x);w=g.S.hX(this.Ya + t * w,v);return t === x?void 0:{Bk:t,pd:w};}};p.prototype.Yia=function(t){return this.mediaType === k.default.Ra.Eb?this.sSa(t):this.mSa(t,!1);};p.prototype.Xia=function(t){return this.mediaType === k.default.Ra.Eb?this.Zxb(t):this.mSa(t,!0);};p.prototype.lMa=function(t){this.Ic+=t.da;this.Au=t.kb;this.Mo && (this.jd=new m.fA(this,{Ya:this.V2,kb:this.Au}),this.Mo.end=this.HB);};p.prototype.toString=function(){return "[" + this.Ma + ", " + this.bitrate + "kbit/s, c:" + (this.Mc + "-" + this.vc + ",p:") + (this.Xc + "-" + this.Pd + ",d:" + this.duration + "]");};p.prototype.toJSON=function(){var t;t=h.bu.prototype.toJSON.call(this);l.default({index:this.index,startPts:this.X,endPts:this.Ea,"contentStartTicks:":this.Ya,contentEndTicks:this.kb,contentStartPts:this.Mc,contentEndPts:this.vc,fragmentStartPts:this.cL !== this.X?this.cL:void 0,fragmentEndPts:this.X2 !== this.Ea?this.X2:void 0,edit:this.na},t);return t;};p.prototype.rSa=function(t){var w;if(this.Eh)for(var u=0;u < this.Eh.length;++u){if(this.Eh[u].Bk === t)w=this.Eh[u].offset;}return w;};p.prototype.i_a=function(t){var u;u=t.start || 0;return {start:u,end:void 0 === t.end?this.HB:Math.min(this.HB,Math.max(u,0 > t.end?this.HB + t.end:t.end)),X7:t.X7,fUb:t.fUb};};return p;})(h.bu);b.fm=n;r.uf(a.gA,n);r.uf(a.eA,n);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qA="LogMessageFactorySymbol";},function(r,b){var c;function a(f,k){var l;l=this;this.Pca=[];c.forEach(function(d){(d=d(f,k)) && l.Pca.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.ED=b.ACa=void 0;c=[];a.prototype.Tt=function(f){var d;for(var k=[],l=this.Pca.length;l--;){d=this.Pca[l];d.Tt(f) && k.push(d.WK);}if(k.length)return k;};b.ACa=a;b.ED=function(f){c.push(f);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JD="6674654e-696c-5078-6966-665374726d21";b.KD="6674654e-696c-4878-6165-6465722e7632";b.yP="6674654e-696c-5078-6966-66496e646578";b.Mw="6674654e-696c-4d78-6f6f-6653697a6573";b.Lw="6674654e-696c-5378-6565-6b506f696e74";b.DP="cedb7489-e77b-514c-84f9-7148f9882554";b.CP="524f39a2-9b5a-144f-a244-6c427c648df4";b.HD="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(l){f.prototype.parse.call(this,l);this.Vb=this.ti([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{ZDb:"int32"},{JYb:"int32"},{offset:32,type:"offset"},{Byb:"int16"},{iqb:{type:"int8",Zea:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};k.La=!0;return k;})(a(285).default);b.default=r;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="avc1";return k;})(r);b.u9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="avc2";return k;})(r);b.v9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="avc3";return k;})(r);b.w9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="avc4";return k;})(r);b.x9=a;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="hvc1";return k;})(r);b.I$=a;r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="hev1";return k;})(r);b.D$=r;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(r,b,a){var f,k,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.fI=b.Ob=void 0;f=a(133);k=a(42);l=a(3);c.Uja=function(d){if(d){if(d.includes(b.fI.IC))return f.nn.IC;if(d.includes("fps"))return f.nn.xF;if(d.includes(b.fI.g9))return f.nn.g9;}throw new k.ed(l.M.jab,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.CTa=function(d){switch(d){case f.nn.IC:return b.fI.IC;case f.nn.xF:return b.fI.xF;default:return b.fI.g9;}};b.Ob=c;c.uu="com.microsoft.playready";c.gf="com.microsoft.playready.hardware";c.FI="com.microsoft.playready.software";c.Cab="com.apple.fps.2_0";c.uIa="com.widevine.alpha";c.geb="com.microsoft.playready.recommendation.3000";c.heb="com.microsoft.playready.recommendation.2000";b.fI={xF:"fairplay",g9:"widevine",IC:"playready"};},function(r,b,a){var f,k,l;function c(d,g){this.Fu=g?[g]:[];this.$ca="$op$" + l++;this.G=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Ac=void 0;f=a(12);k=a(21);l=0;c.prototype.addListener=function(d,g){var h;h=this;k.sha(d);k.hb(0 > this.Fu.indexOf(d));d[f.nZ + this.$ca]=g;this.Fu=this.Fu.slice();this.Fu.push(d);this.Fu.sort(function(m,n){return h.rUb(m,n);});};c.prototype.removeListener=function(d){var g;k.sha(d);this.Fu=this.Fu.slice();0 <= (g=this.Fu.indexOf(d)) && this.Fu.splice(g,1);};c.prototype.set=function(d,g){if(this.G !== d){g={oldValue:this.G,newValue:d,dv:g};this.G=d;d=this.Fu;for(var h=d.length,m=0;m < h;m++){d[m](g);}}};c.prototype.when=function(d){var g;g=this;return new Promise(function(h){function m(n){if(d(n.newValue))return (g.removeListener(m),h(n.newValue));}if(d(g.G))return h(g.G);g.addListener(m);});};c.prototype.rUb=function(d,g){return (d[f.nZ + this.$ca] || 0) - (g[f.nZ + this.$ca] || 0);};Xa.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.G;}}});b.Ac=c;},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.AA=void 0;r=a(1);a=a(0);c.prototype.format=function(f,k){var d;for(var l=1;l < arguments.length;++l){;}d=Array.prototype.slice.call(arguments,1);return f.replace(/{(\d+)}/g,function(g,h){return "undefined" != typeof d[h]?d[h]:g;});};c.prototype.g5a=function(f){for(var k=f.length,l=new Uint16Array(k),d=0;d < k;d++){l[d]=f.charCodeAt(d);}return l.buffer;};c.prototype.j5a=function(f){return JSON.stringify(f,null,"  ");};a=r.__decorate([a.R()],c);b.AA=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MI="ThrottleFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vI="LoggerSinksSymbol";},function(r){var h,m,n,q;function b(){b.nb.call(this);}function a(p){if("function" !== typeof p)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof p);}function c(p,t,u,w){var v,x;a(u);v=p.Ah;if(void 0 === v)(v=p.Ah=Object.create(null),p.iE=0);else {void 0 !== v.G7b && (p.emit("newListener",t,u.listener?u.listener:u),v=p.Ah);x=v[t];}void 0 === x?(v[t]=u,++p.iE):("function" === typeof x?x=v[t]=w?[u,x]:[x,u]:w?x.unshift(u):x.push(u),u=void 0 === p.LQ?b.kub:p.LQ,0 < u && x.length > u && !x.eZb && (x.eZb=!0,u=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit"),u.name="MaxListenersExceededWarning",u.Gs=p,u.type=t,u.count=x.length,console && console.warn && console.warn(u)));return p;}function f(){if(!this.wSa)return (this.target.removeListener(this.type,this.Q7a),this.wSa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function k(p,t,u){p={wSa:!1,Q7a:void 0,target:p,type:t,listener:u};t=f.bind(p);t.listener=u;return p.Q7a=t;}function l(p){var t;t=this.Ah;if(void 0 !== t){p=t[p];if("function" === typeof p)return 1;if(void 0 !== p)return p.length;}return 0;}function d(p,t,u){"function" === typeof p.on && g(p,"error",t,u);}function g(p,t,u,w){if("function" === typeof p.on){if(w.once)p.once(t,u);else p.on(t,u);}else if("function" === typeof p.addEventListener)p.addEventListener(t,function y(x){w.once && p.removeEventListener(t,y);u(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof p);}h="object" === typeof Reflect?Reflect:null;m=h && "function" === typeof h.apply?h.apply:function(p,t,u){return Function.prototype.apply.call(p,t,u);};n=Number.isNaN || (function(p){return p !== p;});r.exports=b;r.exports.once=function(p,t){return new Promise(function(u,w){function v(y){p.removeListener(t,x);w(y);}function x(){"function" === typeof p.removeListener && p.removeListener("error",v);u([].slice.call(arguments));}g(p,t,x,{once:!0});"error" !== t && d(p,v,{once:!0});});};b.EventEmitter=b;b.prototype.Ah=void 0;b.prototype.iE=0;b.prototype.LQ=void 0;q=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return q;},set:function(p){if("number" !== typeof p || 0 > p || n(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + p + ".");q=p;}});b.nb=function(){if(void 0 === this.Ah || this.Ah === Object.getPrototypeOf(this).Ah)(this.Ah=Object.create(null),this.iE=0);this.LQ=this.LQ || void 0;};b.prototype.setMaxListeners=function(p){if("number" !== typeof p || 0 > p || n(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + p + ".");this.LQ=p;return this;};b.prototype.emit=function(p){var w,v;for(var t=[],u=1;u < arguments.length;u++){t.push(arguments[u]);}w="error" === p;u=this.Ah;if(void 0 !== u)w=w && void 0 === u.error;else if(!w)return !1;if(w){0 < t.length && (v=t[0]);if(v instanceof Error)throw v;t=Error("Unhandled error." + (v?" (" + v.message + ")":""));t.context=v;throw t;}u=u[p];if(void 0 === u)return !1;if("function" === typeof u)m(u,this,t);else {v=u.length;w=Array(v);for(var x=0;x < v;++x){w[x]=u[x];}for(u=0;u < v;++u){m(w[u],this,t);}}return !0;};b.prototype.addListener=function(p,t){return c(this,p,t,!1);};b.prototype.on=b.prototype.addListener;b.prototype.n1a=function(p,t){return c(this,p,t,!0);};b.prototype.once=function(p,t){a(t);this.on(p,k(this,p,t));return this;};b.prototype.KOb=function(p,t){a(t);this.n1a(p,k(this,p,t));return this;};b.prototype.removeListener=function(p,t){var u,w,v,x,y;a(t);w=this.Ah;if(void 0 === w)return this;v=w[p];if(void 0 === v)return this;if(v === t || v.listener === t)0 === --this.iE?this.Ah=Object.create(null):(delete w[p],w.removeListener && this.emit("removeListener",p,v.listener || t));else if("function" !== typeof v){x=-1;for(u=v.length - 1;0 <= u;u--){if(v[u] === t || v[u].listener === t){y=v[u].listener;x=u;break;}}if(0 > x)return this;if(0 === x)v.shift();else {for(;x + 1 < v.length;x++){v[x]=v[x + 1];}v.pop();}1 === v.length && (w[p]=v[0]);void 0 !== w.removeListener && this.emit("removeListener",p,y || t);}return this;};b.prototype.uM=b.prototype.removeListener;b.prototype.removeAllListeners=function(p){var t,u,w;t=this.Ah;if(void 0 === t)return this;if(void 0 === t.removeListener)return (0 === arguments.length?(this.Ah=Object.create(null),this.iE=0):void 0 !== t[p] && (0 === --this.iE?this.Ah=Object.create(null):delete t[p]),this);if(0 === arguments.length){u=Object.keys(t);for(t=0;t < u.length;++t){w=u[t];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.Ah=Object.create(null);this.iE=0;return this;}u=t[p];if("function" === typeof u)this.removeListener(p,u);else if(void 0 !== u)for(t=u.length - 1;0 <= t;t--){this.removeListener(p,u[t]);}return this;};b.prototype.listeners=function(p){var t;t=this.Ah;if(void 0 === t)p=[];else if((p=t[p],void 0 === p))p=[];else if("function" === typeof p)p=[p.listener || p];else {t=Array(p.length);for(var u=0;u < t.length;++u){t[u]=p[u].listener || p[u];}p=t;}return p;};b.listenerCount=function(p,t){return "function" === typeof p.listenerCount?p.listenerCount(t):l.call(p,t);};b.prototype.listenerCount=l;},function(r,b,a){var n;function c(q,p){if(q.length == p.length && 1 < q.length){for(var t=q.length,u=0,w=d(q),v=d(p),x=0;x < t;x++){u+=q[x] * p[x];}return (u - w * v / t) / t;}return !1;}function f(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=k(q);return Math.sqrt(q);}function k(q){var p;if(!Array.isArray(q) || 2 > q.length)return !1;p=l(q);return d(q.map(function(t){return (t - p) * (t - p);})) / (q.length - 1);}function l(q){return Array.isArray(q) && q.length?d(q) / q.length:!1;}function d(q){return Array.isArray(q)?q.reduce(function(p,t){return p + t;},0):!1;}function g(q,p,t){return Math.max(Math.min(q,t),p);}function h(q,p){return "number" === typeof q?q:p;}function m(q){return 1 / (1 + Math.exp(-q));}n=a(10);r.exports={Ua:function(q,p,t){try{q.emit(p,t);}catch(u){q.bk("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",u,"Event:",t);}},vB:function(){var q,p,t;q=Array.prototype.concat.apply([],arguments);p=q.reduce(function(u,w){return u + w.byteLength;},0);t=new Uint8Array(p);q.reduce(function(u,w){t.set(new Uint8Array(w),u);return u + w.byteLength;},0);return t.buffer;},v1:g,Epb:function(q,p,t,u){return {min:g(h(q.min,p),t,u),max:g(h(q.max,p),t,u),Px:g(q.Px || 6E4,0,6E5),jOa:g(q.jOa || 0,-3E5,3E5),scale:g(q.scale || 6E4,0,3E5),i3a:g(q.i3a || 0,-3E5,3E5),gamma:g(q.gamma || 1,.1,10)};},de:function(q,p){void 0 !== q && n.IMb(q).forEach(function(t){p(t[0],t[1]);});},RRa:function(q,p,t){return q.min + (q.max - q.min) * (1 - Math.pow(m(6 * (p - (q.Px + (q.jOa || 0) * (1 - t))) / (q.scale + (q.i3a || 0) * (1 - t))),q.gamma));},Xwb:function(q,p){return q.min + (q.max - q.min) * Math.pow(m(6 * (p - q.Px) / q.scale),q.gamma);},Z5b:d,pzb:l,PCb:k,X5b:f,P5b:c,O5b:function(q,p){var t;if(q.length == p.length){t=c(q,p);q=f(q);p=f(p);if(0 < q && 0 < p)return t / (q * p);}return !1;},er:function(q,p,t){return p.OPa?p.OPa(t):new q.Console("ASEJS","media|asejs",p.prefix?p.prefix + " " + t:t);},jSb:function(q){return q.length?"{" + q + "} ":"";},XRb:function(q,p,t){return {min:q.min * t + (1 - t) * p.min,max:q.max * t + (1 - t) * p.max,Px:q.Px * t + (1 - t) * p.Px,scale:q.scale * t + (1 - t) * p.scale,gamma:q.gamma * t + (1 - t) * p.gamma};},tanh:Math.tanh || (function(q){var p;p=Math.exp(+q);q=Math.exp(-q);return Infinity == p?1:Infinity == q?-1:(p - q) / (p + q);}),Csa:m,Jp:function(q){var p;p=q.Na.xb.P.id;return {X:q.X,duration:q.duration,offset:q.offset,da:q.da,bitrate:q.bitrate,profile:q.profile,Pc:q.Pc,va:p,Ma:q.Ma,zd:q.zd,location:q.location,Kh:q.Kh,Cj:q.Cj,Pv:{xb:{P:{id:p}}}};}};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(231);c=a(148);b.V$a=c;c=a(395);b.Oba=c;c=a(399);b.Tmb=c;b.MZ=r.Kp.Ta.sidx;r=a(836);b.Ur=r.Ur;r=a(239);b.sq=r.sq;r=a(840);b.tq=r.tq;b.Wy=r.Wy;r=a(841);b.sI=r.sI;r=a(82);b.tn=r.tn;a=a(842);b.hm=a.hm;},function(r,b,a){var d;function c(g,h){return void 0 === g?void 0:0 === g?d.S.ab:new d.S(g,h);}function f(g,h){return g && Math.floor(d.S.hX(g,h));}function k(g,h){return void 0 === g || void 0 === h?void 0:g + h;}function l(g,h){return void 0 === g || void 0 === h?void 0:g - h;}Object.defineProperties(b,{__esModule:{value:!0}});b.eA=b.gA=void 0;d=a(22);r=(function(){function g(){}Object.defineProperties(g.prototype,{np:{get:function(){return l(this.kb,this.Ya) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xpa:{get:function(){return k(this.Ya,this.Oj);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{X0a:{get:function(){return k(this.kb,this.Oj);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{IS:{get:function(){return c(this.np,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nc:{get:function(){return c(this.Ya,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ld:{get:function(){return c(this.kb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Wi:{get:function(){return c(this.Xpa,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{qf:{get:function(){return c(this.X0a,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{c7:{get:function(){return c(this.Oj,this.U);},enumerable:!1,configurable:!0}});return g;})();b.gA=r;r=(function(){function g(){}Object.defineProperties(g.prototype,{duration:{get:function(){return l(this.Ea,this.X) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{X:{get:function(){return f(k(this.Ya,this.Oj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ea:{get:function(){return f(k(this.kb,this.Oj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{It:{get:function(){return f(this.Oj,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Cj:{get:function(){return f(this.Ya,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mc:{get:function(){return f(this.Ya,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{vc:{get:function(){return f(this.kb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xc:{get:function(){return f(k(this.Ya,this.Oj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Pd:{get:function(){return f(k(this.kb,this.Oj),this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{hy:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{rz:{get:function(){return this.X;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Vv:{get:function(){return this.Ea;},enumerable:!1,configurable:!0}});return g;})();b.eA=r;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.ZX=b.fj=void 0;c=a(2);r=c.__importDefault(a(16));f=c.__importStar(a(10));k=r.default.yh;l=c.__importDefault(a(5));d=l.default.rq;g=a(173);h=c.__importDefault(a(146));m=a(9);r=a(43);n=a(242);q=a(176);(function(t){t[t.Ocb=0]="NOTHING_APPENDED";t[t.kdb=1]="PARTIAL";t[t.zw=2]="COMPLETE";t[t.wf=3]="ERROR";})(p=b.fj || (b.fj={}));a=(function(t){function u(w,v,x,y,z,A,B){v=t.call(this,v,x) || this;n.WH.nb(v,w,y,z,A,B);q.bu.nb(v,w,y);v.xfb=w.url || y.url;v.$ba=y.responseType;v.wfb=y.V7;void 0 === v.$ba && (v.$ba=d.Yb && !d.Yb.oW.SP?0:1);v.bi=new k();v.bi.on(v,d.xe.cDa,v.Dda);v.bi.on(v,d.xe.bDa,v.Tib);v.bi.on(v,d.xe.dDa,v.Wib);v.bi.on(v,d.xe.BP,v.Cda);v.bi.on(v,d.xe.ND,v.MQ);v.UI=!1;v.Je=!1;v.Bl=!1;v.zn=!1;v.xQ=!1;v.Tjb=y.VG;v.nr=0;return v;}c.__extends(u,t);Object.defineProperties(u.prototype,{active:{get:function(){return this.Je;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Pqa:{get:function(){return this.Bl;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{complete:{get:function(){return !this.UI && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{aborted:{get:function(){return this.UI;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{qma:{get:function(){return this.zn && !this.xQ;},enumerable:!1,configurable:!0}});u.prototype.nb=function(w){n.WH.prototype.nb.call(this,w);this.Lf || !this.Cd.Cea && this.Pc || (this.Lf=h.default.instance(),this.active && (this.Lf.bN(l.default.time.ba(),this.jW),this.Bl && (l.default.time.ba(),this.connect && 0 < this.ur.length && this.Lf.zx(this.ur[0]))));};u.prototype.Zs=function(){return this.Ne || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};u.prototype.RE=function(w,v,x,y,z,A,B){this.Ne=w.appendBuffer(this.response,B || m.Jp(this));return {status:this.Ne?p.zw:p.wf};};u.prototype.AM=function(){(this.zn=d.prototype.open.call(this,this.xfb,{start:this.offset,end:this.offset + this.da - 1},this.$ba,{},void 0,void 0,this.wfb)) && this.hT(this);return this.zn;};u.prototype.abort=function(){var w;if(this.aborted)return !0;w=this.Je;this.Lf && w && this.Lf.iW(l.default.time.ba(),this.Bl,{requestId:this.J_(),Ih:this.zd,type:this.mediaType});this.UI=!0;this.Bl=this.Je=!1;d.prototype.abort.call(this);this.$K(this,w,this.qma);return !0;};u.prototype.Lc=function(){7 !== this.readyState && 5 !== this.readyState && (this.H.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this.toString()),this.abort());this.bi && this.bi.clear();t.prototype.Lc.call(this);};u.prototype.Dda=function(){var w;w=this.af || this.loadTime;g.ww.instance().push(l.default.time.ba() - w);this.Je || (this.Je=!0,this.$s=this.track.$s(),this.stream.I.NYa || this.Lf && this.Lf.bN(w,{requestId:this.J_(),Ih:this.zd,type:this.mediaType}),this.aL(this),this.Dt=this.af);};u.prototype.Tib=function(){var w,v,x;w=this.af || this.aja;v=this.connect;x=this.ur;g.ww.instance().push(l.default.time.ba() - w);this.Je || (this.Je=!0);this.Bl || (this.Bl=!0,this.stream.I.NYa && this.Lf && this.Lf.bN(w,{requestId:this.J_(),Ih:this.zd,type:this.mediaType}),v && 0 < x.length && this.Lf && this.Lf.zx(x[0]),this.zF(this),this.Dt=w);};u.prototype.Wib=function(){var w,v,x;w=this;v=this.af;x=this.bytesReceived - this.nr;g.ww.instance().push(l.default.time.ba() - v);this.Bl || (this.Bl=!0);this.Lf && (void 0 === this.Dt || this.Lf.Tu(x,this.Dt,v,this.jW),this.ur && this.ur.length && this.ur.forEach(function(y){w.Lf.xx(y);}));this.bL(this);this.Dt=v;this.nr=this.bytesReceived;};u.prototype.Cda=function(){var w,v,x;w=this;v=this.af;x=this.bytesReceived - this.nr;g.ww.instance().push(l.default.time.ba() - v);this.Lf && (0 < x && this.Lf.Tu(x,this.Dt,v,this.jW),this.ur && this.ur.length && this.ur.forEach(function(y){w.Lf.xx(y);}),this.Lf.iW(v,this.Bl,this.jW));this.Bl=this.Je=!1;this.xQ=!0;this.qv(this);this.Dt=v;this.nr=this.bytesReceived;this.Lc();};u.prototype.J_=function(){var w,v;w=(w=this.stream)?w.toString():this.url;v=this.l1;v && (w+=",range " + v.start + "-" + v.end);return w;};Object.defineProperties(u.prototype,{jW:{get:function(){return {requestId:this.J_(),Ih:this.zd,type:this.mediaType,VG:this.Tjb};},enumerable:!1,configurable:!0}});u.prototype.MQ=function(){var w,v,x,y;this.H.warn("AseMediaRequest._onError:",this.toString());w=this.af;v=this.status;x=this.Lg;y=this.Ti;g.ww.instance().push(l.default.time.ba() - w);this.complete?this.H.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.H.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):f.ya(x)?(this.Lf && this.Cd && this.Cd.lra && this.loadTime && void 0 === v && this.Lf.Tu(this.nr?this.bytesReceived - this.nr:this.bytesReceived,this.Dt?this.Dt:this.loadTime,w,this.jW),this.U2(this)):this.H.warn("ignoring undefined request error (nativecode: " + y + ")");};return u;})(d);b.ZX=a;r.uf(n.WH,a,!1);r.uf(q.bu,a,!1);},function(r,b,a){var f,k,l,d;function c(g,h,m){var n,q,u;h=f.__assign({},null === (q=null === g || void 0 === g?void 0:g.context) || void 0 === q?void 0:q.call(g,{C_a:h,Hq:m}));if((null === g || void 0 === g?0:g.Hq) && m)if(!0 === g.Hq)h.args=m;else {q={};h.args=q;try{for(var p=f.__values(g.Hq),t=p.next();!t.done;t=p.next()){u=t.value;q[u]=m[u];}}catch(v){var w;w={error:v};}finally{try{t && !t.done && (n=p.return) && n.call(p);}finally{if(w)throw w.error;}}}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.DA=b.lVa=b.Rb=void 0;f=a(2);k=a(20);l=f.__importDefault(a(5));d=a(9);b.Rb=function(g){return function(h,m,n){var q;q=n.value;n.value=function(){var p,t,u,w,v,x;t=b.lVa(this);if(t)(u=c(g,this,arguments),w=null !== (p=null === g || void 0 === g?void 0:g.methodName) && void 0 !== p?p:String(m),v=t.uR(w,u,null === g || void 0 === g?void 0:g.Kl,null === g || void 0 === g?void 0:g.k6b));p=this.aca;this.aca=v;try{return x=null === q || void 0 === q?void 0:q.apply(this,arguments);}catch(z){var y;y=z;throw z;}finally{if((this.aca=p,v))if((v.data || (v.data={}),y))v.data.error="" + y;else if(d.$Wa(x))x.then(function(z){v && (null === g || void 0 === g?0:g.return) && (v.data.resolve=z);},function(z){v && (v.data.reject="" + z);});else if(null === g || void 0 === g?0:g.return)v.data.lRet=x;}};};};b.lVa=function(g){if(null === g || void 0 === g?0:g.bca)return g.bca;};r=(function(){function g(h){this.Yn=[];this.R_=!1;this.Zca={};this.I=f.__assign({sC:10},h);Object.defineProperties(h.qt,{bca:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(g.prototype,{source:{get:function(){return this.I.source;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !this.R_;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{yGb:{get:function(){return f.__spread(this.Yn);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{WDb:{get:function(){return this.Zca;},enumerable:!1,configurable:!0}});g.prototype.Su=function(h){var m;if(!this.R_){m=this.I.qt.aca;m && (m.data=f.__assign(f.__assign({},m.data),h));}};g.prototype.uR=function(h,m,n,q){var p,t,u,w;if(!this.R_){u=!1;w=null === (t=(p=this.I).Lea) || void 0 === t?void 0:t.call(p,this.I.qt);p=c({},this.I.qt);m=f.__assign(f.__assign(f.__assign({},w),p),m);w=0 < Object.keys(m).length;m={methodName:h,data:w?m:void 0,time:l.default.time.ba()};q && this.Zca[h]++;n && this.Yn.length && (n=this.Yn[this.Yn.length - 1],n.methodName === h && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=m,u=!0));this.tqb(m);u || this.Yn.push(m);this.Yn.length > this.I.sC && this.Yn.shift();return m;}};g.prototype.tqb=function(h){var m;k.ia && (null === (m=this.I.console) || void 0 === m?void 0:m.trace(this.I.source + "::" + h.methodName,h.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.I,h);};g.prototype.zb=function(){Object.defineProperties(this.I.qt,{bca:{enumerable:!1,value:null,configurable:!0}});this.R_=!0;this.clear();};g.prototype.clear=function(){this.Yn=[];this.Zca={};};return g;})();b.DA=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pA=b.Sab=b.ResponseType=void 0;r=b.ResponseType || (b.ResponseType={});r[r.Text=0]="Text";r[r.P3b=1]="Xml";r[r.d_b=2]="Binary";b.Sab="HttpClientSymbol";b.pA="LegacyHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aE="VideoPreparerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BD="ManifestFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Raa=b.Zj=void 0;r=b.Zj || (b.Zj={});r.QD="PRE_FETCH";r.MFa="QC";r.Go="STANDARD";r.JZ="SUPPLEMENTAL";r.R$a="DOWNLOAD";b.Raa="PboManifestCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yxa="DrmServicesSymbol";b.zY="DrmServicesProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VH="ApiInfoSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.tt=b.goa=b.pZa=void 0;r=a(677);a=a(680);b.pZa=r;b.goa=function(c,f){return b.pZa(function(k,l){return void 0 !== l?l:k;},c,f);};b.tt=a;},function(r,b,a){var c;c=a(170);r.exports=function(f){return function d(l){return 0 === arguments.length || c(l)?d:f.apply(this,arguments);};};},function(r,b){function a(c,f){var k;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,f);Object.getOwnPropertyNames(c).forEach(function(l){k=Object.getOwnPropertyDescriptor(c,l);void 0 !== k && Object.defineProperty(f,l,k);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(r,b,a){(function(c,f){function k(l,d,g,h){this.console=new l("ASEJS_PROGRESS","media|asejs");this.now=d;this.G3a=this.AUb=l=this.now();this.w2=l + g;this.rNb=g;this.bQa=l + h;this.debug=!1;this.counter=this.Yy=0;this.av=1E4;this.P5a=g / 100;this.R5a=l;this.Q5a=1 * this.P5a / 4;this.t8=0;this.qS="";this.dg(l,"progress tracking start");}k.prototype.constructor=k;k.prototype.dg=function(l,d){var g,h;g=((l - this.G3a) / 1E3).toFixed(3);g=("     ").slice(g.length - 4) + g;h=c.yJb();this.console.info(g + (" " + ((this.bQa - l) / 1E3).toFixed(3)) + (" " + Math.round(this.av)) + (" M:(" + Math.floor(h.i6b / 1024 / 1024) + " MB/" + Math.floor(h.PVa / 1024 / 1024) + " MB) ") + this.qS + d);};k.prototype.ekb=function(l){var d;d=this.now();this.qS=l?l + ": ":l;this.Yy=0;this.G3a=d;this.dg(d,"starting");};k.prototype.Dkb=function(l){var d,g;this.counter++;if(!(this.counter < this.av)){this.counter=0;d=this.now();g=d - (this.R5a + this.P5a);this.R5a=d;this.t8=.9 * this.t8 + .1 * g;this.t8 > this.Q5a?(this.av*=.875,this.av=Math.max(1,this.av)):this.t8 < -this.Q5a && (this.av*=1.5,this.av=Math.min(this.av,1E5));if(d >= this.bQa)throw (this.dg("Execution deadline exceeded after " + (d - this.AUb) + " ms" + this.qS),Error("Execution deadline exceeded" + this.qS));g=c.yJb();this.Yy=Math.max(this.Yy,g.PVa);if(7516192768 < g.PVa)throw Error("Heap total limit exceeded" + this.qS);if(!(d <= this.w2)){for(;d > this.w2;){this.w2+=this.rNb;}this.dg(d,l);}}};k.nb=function(l,d,g,h){f.LC=new k(l,d,g || 5E3,h || 33E5);};k.msa=function(l){f.LC && f.LC.ekb(l);};k.update=function(l){f.LC && f.LC.Dkb(l);};k.mUa=function(){if(f.LC)return f.LC.Yy;};k.now=function(){return f.LC?f.LC.now():Date.now();};r.exports=k;}).call(this,a(427),a(297));},function(r){var b;b={bU:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};r.exports=b;},function(r,b,a){var d,g;function c(h){return h instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(h);}function f(h){return d.Ce(h);}function k(h){return d.ya(h);}function l(h){return !c(h) && !f(h) && !k(h) && !Array.isArray(h) && d.kh(h);}d=a(10);g={mD:0,IZ:1,Tcb:2,kZ:3,km:4};r.exports={Uka:function(h){return c(h)?g.mD:f(h)?g.IZ:k(h)?g.Tcb:l(h)?g.kZ:g.km;},C4:c,Ce:f,ya:k,kh:l,qq:g};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$j=void 0;r=b.$j || (b.$j={});r.Mn="created";r.fw="started";r.ON="succeeded";r.Is="failed";r.Jn="cancelled";r.Pob="cancelled_on_start";r.$fa="cancelled_not_encrypted";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ku=void 0;r=b.ku || (b.ku={});r[r.b_b=8]="Backspace";r[r.C3b=9]="Tab";r[r.m0b=13]="Enter";r[r.u3b=16]="Shift";r[r.A_b=17]="Ctrl";r[r.FZb=18]="Alt";r[r.J2b=19]="PauseBreak";r[r.t_b=20]="CapsLock";r[r.o0b=27]="Escape";r[r.w3b=32]="Space";r[r.I2b=33]="PageUp";r[r.H2b=34]="PageDown";r[r.l0b=35]="End";r[r.Q0b=36]="Home";r[r.g1b=37]="LeftArrow";r[r.J3b=38]="UpArrow";r[r.Q2b=39]="RightArrow";r[r.T_b=40]="DownArrow";r[r.d1b=45]="Insert";r[r.Q_b=46]="Delete";r[r.S3b=48]="Zero";r[r.l2b=49]="One";r[r.F3b=50]="Two";r[r.D3b=51]="Three";r[r.I0b=52]="Four";r[r.G0b=53]="Five";r[r.v3b=54]="Six";r[r.t3b=55]="Seven";r[r.k0b=56]="Eight";r[r.X1b=57]="Nine";r[r.wZb=65]="A";r[r.GZb=66]="B";r[r.j_b=67]="C";r[r.V9a=68]="D";r[r.E=69]="E";r[r.p0b=70]="F";r[r.J0b=71]="G";r[r.M0b=72]="H";r[r.Tab=73]="I";r[r.e1b=74]="J";r[r.T$=75]="K";r[r.Ybb=76]="L";r[r.j1b=77]="M";r[r.Jcb=78]="N";r[r.j2b=79]="O";r[r.n2b=80]="P";r[r.Q=81]="Q";r[r.N2b=82]="R";r[r.web=83]="S";r[r.$eb=84]="T";r[r.G3b=85]="U";r[r.K3b=86]="V";r[r.M3b=87]="W";r[r.Zba=88]="X";r[r.Q3b=89]="Y";r[r.R3b=90]="Z";r[r.h1b=91]="LeftWindowKey";r[r.R2b=92]="RightWindowKey";r[r.r3b=93]="SelectKey";r[r.$1b=96]="Numpad0";r[r.a2b=97]="Numpad1";r[r.b2b=98]="Numpad2";r[r.c2b=99]="Numpad3";r[r.d2b=100]="Numpad4";r[r.e2b=101]="Numpad5";r[r.f2b=102]="Numpad6";r[r.g2b=103]="Numpad7";r[r.h2b=104]="Numpad8";r[r.i2b=105]="Numpad9";r[r.w1b=106]="Multiply";r[r.EZb=107]="Add";r[r.x3b=109]="Subtract";r[r.P_b=110]="DecimalPoint";r[r.S_b=111]="Divide";r[r.q0b=112]="F1";r[r.u0b=113]="F2";r[r.v0b=114]="F3";r[r.w0b=115]="F4";r[r.x0b=116]="F5";r[r.y0b=117]="F6";r[r.z0b=118]="F7";r[r.A0b=119]="F8";r[r.B0b=120]="F9";r[r.r0b=121]="F10";r[r.s0b=122]="F11";r[r.t0b=123]="F12";r[r.Z1b=144]="NumLock";r[r.p3b=145]="ScrollLock";r[r.s3b=186]="SemiColon";r[r.n0b=187]="Equals";r[r.w_b=188]="Comma";r[r.O_b=189]="Dash";r[r.K2b=190]="Period";r[r.H0b=191]="ForwardSlash";r[r.E3b=192]="Tilde";r[r.m2b=219]="OpenBracket";r[r.a_b=220]="BackSlash";r[r.v_b=221]="CloseBracket";r[r.M2b=222]="Quote";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.vm=b.D8a=void 0;b.D8a=a;b.vm=new a();},function(r,b,a){var g;function c(h){return "function" === typeof h?h.name:"symbol" === typeof h?h.toString():h;}function f(h,m){return null === h.jz?!1:h.jz.kg === m?!0:f(h.jz,m);}function k(h){function m(n,q){var p;void 0 === q && (q=[]);p=c(n.kg);q.push(p);return null !== n.jz?m(n.jz,q):q;}return m(h).reverse().join(" --\x3e ");}function l(h){h.qga.forEach(function(m){if(f(m,m.kg))throw (m=k(m),Error(g.x9a + " " + m));l(m);});}function d(h){var m;if(h.name)return h.name;h=h.toString();m=h.match(/^function\s*([^\s(]+)/);return m?m[1]:"Anonymous function: " + h;}Object.defineProperty(b,"__esModule",{value:!0});g=a(56);b.sL=c;b.VXa=function(h,m,n){var q;q="";h=n(h,m);0 !== h.length && (q="\nRegistered bindings:",h.forEach(function(p){var t;t="Object";null !== p.Ol && (t=d(p.Ol));q=q + "\n " + t;p.fF.qZa && (q=q + " - " + p.fF.qZa);}));return q;};b.Apb=l;b.mHb=function(h,m){var n,q;if(m.xma() || m.nma()){n="";q=m.rBb();m=m.Wzb();null !== q && (n+=q.toString() + "\n");null !== m && m.forEach(function(p){n+=p.toString() + "\n";});return " " + h + "\n " + h + " - " + n;}return " " + h;};b.getFunctionName=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IP="PlatformConfigDefaultsSymbol";},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.iL=b.hL=b.jL=b.nXa=b.iU=void 0;c=a(4);f=a(104);k=a(50);b.iU=function(l,d,g,h){var m,n;m=l.xMb;n=l.yMb;l=l.zMb;return m > d || m === d && n > g || m === d && n === g && (void 0 === h || l >= h);};b.nXa=function(l,d){return l.Lq >= d;};b.jL=function(){return {version:"6.0032.428.911",Z5:!0,dL:!0,Rha:"browser",mQa:["en-US"],mna:"",wS:"cadmium",tua:!0,O0:!0,bW:!1};};b.hL=function(){return {jB:[k.ke.qD,k.ke.rD],pw:[k.O.mI,k.O.pD,k.O.QO,k.O.RO,k.O.QI,k.O.RI],Pl:f.Ob.uIa,Xy:c.xc(31E3)};};b.iL=function(l){return {DY:l.Pn};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$xa=b.nn=void 0;r=b.nn || (b.nn={});r[r.IC=0]="playready";r[r.g9=1]="widevine";r[r.xF=2]="fairplay";r[r.R4b=3]="clearkey";b.$xa="DrmTypeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tP="MediaKeysStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PZ=b.Do=void 0;b.Do=function(){};b.PZ="StringObjectReaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lHa="SystemRandomSymbol";b.EZ="RandomGeneratorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KP="PlayerErrorFactorySymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.dI=b.W$a=void 0;c=a(25);b.W$a=function(){this.jB=[];this.pw=[];this.ifa=c.cu.fu;this.Z8=c.Ei.fu;};b.dI="DeviceCapabilitiesConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TP="SourceBufferTypeProviderSymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sd=void 0;f=a(25);c.SPa=function(k){var l;l={};l[f.ce.RP]=c.lI;l[f.ce.JY]=c.lI;l[f.ce.OI]=c.SO;l[f.ce.Gw]=c.Gw;l[f.ce.Pr]=k || c.Pr;l[f.ce.cA]=c.lI;l[f.ce.Vw]=c.$P;l[f.ce.Gk]=c.Gk;return l;};b.Sd=c;c.lI="avc1.640028";c.SO="hev1.1.6.L93.B0";c.kY="dvhe.05.01";c.f$="dvhe.05.04";c.g$="dvhe.05.05";c.h$="dvhe.05.06";c.i$="dvhe.05.07";c.j$="dvhe.05.09";c.Pr=c.kY;c.Gw=c.SO;c.QX="mp4a.40.2";c.bE="mp4a.40.42";c.W9a="ec-3";c.$P="vp09.00.11.08.02";c.Gk="av01.0.04M.08";c.P9a=[c.j$,c.i$,c.h$,c.g$,c.f$,c.kY];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xP="MslProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TZ=void 0;b.yq={EI:"PRIMARY",Mua:"ASSISTIVE",pwa:"COMMENTARY",NONE:"NONE"};b.TZ={assistive:b.yq.Mua,closedcaptions:b.yq.Mua,directorscommentary:b.yq.pwa,commentary:b.yq.pwa,subtitles:b.yq.EI,primary:b.yq.EI,none:b.yq.NONE};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sP="ManifestFactorySymbol";},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.em=void 0;c=a(2).__importDefault(a(5));f=a(110);r=(function(){function k(l){this.H=new c.default.Console("ASEJS","media|asejs","(" + l + ")");this.uda=[];}k.prototype.Ap=function(l){this.uda[l] || (this.uda[l]=f.er(c.default,this.H,"[" + l + "]"));return this.uda[l];};return k;})();b.em=new r(0);},function(r,b,a){function c(f,k){this.SJ=f;this.xj=Math.floor((f + k - 1) / k);this.sd=k;this.reset();}a(6);c.prototype.shift=function(){this.Bd.shift();this.Ru.shift();};c.prototype.Ov=function(f){return this.XNa(this.Bd[f],f);};c.prototype.update=function(f,k){this.Bd[f]=(this.Bd[f] || 0) + k;};c.prototype.push=function(){this.Bd.push(0);this.Ru.push(0);this.jb+=this.sd;};c.prototype.add=function(f,k,l){var d,g,h;if(null === this.jb){d=Math.max(Math.floor((l - k + this.sd - 1) / this.sd),1);for(this.jb=k;this.Bd.length < d;){this.push();}}for(;this.jb <= l;){this.push();this.Bd.length > this.xj && this.shift();}if(null === this.sn || k < this.sn)this.sn=k;if(k > this.jb - this.sd)this.update(this.Bd.length - 1,f);else if(k == l)(d=this.Bd.length - Math.max(Math.ceil((this.jb - l) / this.sd),1),0 <= d && this.update(d,f));else for(d=1;d <= this.Bd.length;++d){g=this.jb - d * this.sd;h=g + this.sd;if(!(g > l)){if(h < k)break;this.update(this.Bd.length - d,Math.round(f * (Math.min(h,l) - Math.max(g,k)) / (l - k)));}}for(;this.Bd.length > this.xj;){this.shift();}};c.prototype.start=function(f){null === this.sn && (this.sn=f);null === this.jb && (this.jb=f);};c.prototype.stop=function(f){var k,l;if(null !== this.jb)if(f - this.jb > 10 * this.SJ)this.reset();else {for(;this.jb <= f;){this.push();this.Bd.length > this.xj && this.shift();}k=this.Bd.length - Math.ceil((this.jb - this.sn) / this.sd);l=this.Bd.length - Math.ceil((this.jb - f) / this.sd);if(0 <= l)if((0 > k && (this.sn=this.jb - this.sd * this.Bd.length,k=0),k === l))this.Ru[k]+=f - this.sn;else if(l > k)for((this.Ru[k]+=(this.jb - this.sn) % this.sd,this.Ru[l]+=this.sd - (this.jb - f) % this.sd,f=k + 1);f < l;++f){this.Ru[f]=this.sd;}this.sn=null;}};c.prototype.XNa=function(f,k){k=this.Aja(k);return 0 === k?null:8 * f / k;};c.prototype.Aja=function(f){var k;k=this.Ru[f];null !== this.sn && (f=this.jb - (this.Bd.length - f - 1) * this.sd,f > this.sn && (k=f - this.sn <= this.sd?k + (f - this.sn):this.sd));return k;};c.prototype.get=function(f,k){var l,d;l=this.Bd.map(this.XNa,this);if("last" === f)for(f=0;f < l.length;++f){null === l[f] && (l[f]=0 < f?l[f - 1]:0);}else if("average" === f){k=1 - Math.pow(.5,1 / ((k || 2E3) / this.sd));for(f=0;f < l.length;++f){null === l[f]?l[f]=Math.floor(d || 0):d=void 0 !== d?k * l[f] + (1 - k) * d:l[f];}}return l;};c.prototype.reset=function(){this.ada || (this.Bd=[],this.Ru=[],this.sn=this.jb=null);};c.prototype.setInterval=function(f){this.xj=Math.floor((f + this.sd - 1) / this.sd);};r.exports=c;},function(r,b,a){var k,l,d,g,h,m,n,q,p,t;function c(u){var w;if(!u.jea){w=u.iVa();u.wn.PE(w.default.Ca,u.qj);u.wn.OH(w.Ys?w.Ys.J6:void 0,w.Ys?w.Ys.sampleSize:void 0);k.tb(u.Cc) || (u.jea=!0);}}function f(u,w,v){var x;this.I=v;this.Vo={};this.mJ=v.mJ;this.qJa=new g(this.mJ);this.vQ=new m(!0);this.bQ=new m(!1);this.ejb=v.E6;this.xhb=v.sEb;this.yhb=v.tEb;v.yRa && (this.GJ=new n(this.I));v.r2 && (this.NA=new q(v.Tna));this.reset();this.sKa=u;this.wn=w;this.UJa=l.eo.name();this.wn.P7(this.UJa);this.cE=0;this.cQ=[];l.events.on("networkchange",(function(y){this.UJa=y;this.wn.P7(y);}).bind(this));x=v.wha;x && (x={confidence:d.yf.nI,Oa:{Ca:parseInt(x,10),Ai:0},Yi:{inb:0,Ai:0},Xs:{inb:0,Ai:0}},this.get=function(){return x;});t=this;}k=a(10);l=a(5).default;d=a(27).default;a(9);b=a(16).EventEmitter;g=a(386).Zya;h=new l.Console("ASEJS_NETWORK_MONITOR","media|asejs");m=a(805).Aya;n=a(807).BDa;q=a(808).vAa;p=a(145);t=void 0;f.prototype.constructor=f;f.prototype=Object.create(b.prototype);f.instance=function(){return t;};f.reset=function(){t && t.reset();};Object.defineProperties(f.prototype,{startTime:{get:function(){return this.jf;}},confidence:{get:function(){return this.qj;}},Yo:{get:function(){return this.cE;}},JLa:{get:function(){return this.cQ;}}});f.prototype.wgb=function(){var u,w,v,x;u=this.I;w=u.Mgb.concat(u.Vgb);v=u.Oca;x=this.qJa;return w.reduce(function(y,z){y[z]=x.create(z,v);return y;},{});};f.prototype.reset=function(){var u,w,v,x;u=this.I.Oca;w=this.qJa;v=this.I;this.location=null;this.Vo=this.wgb();if(this.I.BRa){x=this.I.J5a;this.Vo.ZVb=new p(x.numB * x.bSizeMs,x.bSizeMs);}this.vQ.reset();this.bQ.reset();this.qx=w.create("respconn-ewma",u);this.ex=w.create("respconn-ewma",u);this.GJ && this.GJ.reset();this.NA && this.NA.reset();this.qj=d.yf.HAVE_NOTHING;this.Ekb=(function(){c(this);}).bind(this);this.G0=void 0;this.OA=this.Ic=this.Cc=this.jf=null;this.GA=this.B0=0;this.rjb=!1;v.L2a && (this.cE=0,this.cQ=[]);};f.prototype.vN=function(u){var w;w=this.Vo;if(u !== this.location){k.fa(this.G0) || (clearInterval(this.G0),this.G0=void 0);k.tb(this.location) && (this.B0=0,this.jf=null);if(!k.tb(u)){this.qj=d.yf.HAVE_NOTHING;for(var v in w){w[v] && w[v].reset && w[v].reset();}this.qx.reset();this.ex.reset();}k.tb(this.jf) || (this.B0+=(k.tb(this.Cc)?l.time.ba():this.Cc) - this.jf);this.Cc=this.jf=null;this.Ic=0;this.location=u;this.wn.vN(u);}};f.prototype.P7=function(u){this.wn.P7(u);};f.prototype.jlb=function(u){this.Vo.QoEEvaluator?h.warn("monitor (QoEEvaluator) already existed."):this.Vo.QoEEvaluator=u;};f.prototype.FQb=function(){delete this.Vo.QoEEvaluator;};f.prototype.Tu=function(u,w,v,x){var y,z;this.BXa=Math.max(this.BXa || 0,v);y=this.I;z=this.Vo;if(!0 === x.jO)(x=z["throughput-wssl"]) && x.add(u,w,v,!0);else if(k.fa(w))h.warn("addDataReceived called with undefined start time");else {this.GJ && this.GJ.Tu(u,w,v,x);if(x.VG)if(this.xhb){if(x.VG.OYa(u,w,v,this.ejb))return;}else if(this.yhb && x.VG.N4())return;this.NA && this.NA.Tu(u,w,v);y.Ugb && 10 > v - w?w=v - 10:0 === v - w && (w=v - 1);this.vQ.Tu(u,w,v,x);this.bQ.Tu(u,w,v,x);for(var A in z){z[A] && z[A].add && z[A].add(u,w,v);}this.qj=Math.max(this.qj,d.yf.kA);k.tb(this.jf) && (this.jf=w,this.Cc=null,this.jea=!1,this.Ic=0);k.tb(this.Cc) || (w > this.Cc && (this.jf+=w - this.Cc),this.Cc=null,this.jea=!1);this.Ic+=u;this.qj < d.yf.Fw && (v - this.jf > y.gib || this.Ic > y.fib) && (this.qj=d.yf.Fw);this.qj < d.yf.nI && (v - this.jf > y.ujb || this.Ic > y.tjb) && (!this.rjb || this.GA > y.eib) && (this.qj=d.yf.nI,c(this),this.G0=setInterval(this.Ekb,y.Rhb));k.tb(this.OA) || (w - this.OA > y.tKa?this.sKa.HWa(this.OA,w):v - w > y.tKa && this.sKa.HWa(w,v));this.OA=Math.max(v,this.OA);}};f.prototype.zx=function(u){this.qx.add(u);this.wn.zx(u);};f.prototype.xx=function(u){this.ex.add(u);this.wn.xx(u);};f.prototype.start=function(u){var w;k.tb(this.OA) && !k.tb(this.Cc) && (this.OA=u);w=this.Vo;if(this.I.Qsa)for(var v in w){w[v] && w[v].start && w[v].start(u);}};f.prototype.stop=function(u){var w,v;w=this.Vo;for(v in w){w[v] && w[v].stop && w[v].stop(u);}this.Cc=k.tb(this.Cc)?u:Math.min(this.Cc,u);this.OA=null;};f.prototype.flush=function(){var u,w;u=this.Vo;for(w in u){u[w] && u[w].flush && u[w].flush();}};f.prototype.fail=function(){this.jf=null;};f.prototype.MTa=function(){var u,w;u=this.Vo.entropy;if(u){w=u.iob();u.reset();}return w;};f.prototype.iVa=function(){var u,w,v,x,y,z,A;u=l.time.ba();w={};v=this.Vo;x=this.I;y=x.Bgb;z=x.akb;for(A in v){v[A] && v[A].get && (w[A]=v[A].get(u),"iqr" === v[A].type && (w.Ys=w[A]),"tdigest" === v[A].type && (w.Vj=w[A]),"wssl" === v[A].type && (w.jO=w[A]));}w.cdnavtp=this.vQ.Qs();w.activecdnavtp=this.bQ.Qs();w.default=y && w[y]?w[y]:w["throughput-ewma"];"none" !== x.Tra && "none" !== z && (w.m3a=z && w[z]?w[z]:w["throughput-sw"]);return w;};f.prototype.z3=function(){return this.GJ?this.GJ.z3():void 0;};f.prototype.r3=function(){return this.NA?this.NA.r3():void 0;};f.prototype.get=function(){var u,w,v,x,y,z;u=this.iVa();w=u.default;v=this.qx.get();x=this.ex.get();y=this.I;if(u.m3a){z=u.m3a;w=k.ya(w.Ca) && k.ya(z.Ca) && w.Ca > z.Ca && 0 < z.Ca?z:w;}u.confidence=this.qj;u.Oa=w;!y.nia || !w || k.tb(w.Ca) || isNaN(w.Ca) || !u.jO || k.tb(u.jO.Ca) || isNaN(u.jO.Ca) || ("max" === y.T7a?u.Oa.Ca=Math.max(u.jO.Ca,w.Ca):"sum" === y.T7a && (u.Oa.Ca+=u.jO.Ca));u.Yi=v;u.Xs=x;this.I.BRa && (w=this.I.J5a,u.g9b=this.Vo.ZVb.get(w.fillS,w.fillHl));w=this.B0 + !k.tb(this.jf)?(k.tb(this.Cc)?l.time.ba():this.Cc) - this.jf:0;u.time=w;return u;};f.prototype.ECb=function(){var u,w,v;u={};w=this.get(!0);if(w.confidence && w.Oa){u.aseavtp=Number(w.Oa.Ca).toFixed(2);u.asevartp=Number(w.Oa.Ai).toFixed(2);if(w.Ys){v=w.Ys.J6;!v || isNaN(v.ll) || isNaN(v.kl) || isNaN(v.Mj) || (u.aseniqr=0 < v.Mj?Number((v.ll - v.kl) / v.Mj).toFixed(2):-1,u.aseiqr=Number(v.ll - v.kl).toFixed(2),u.asemedtp=Number(v.Mj).toFixed(2));u.iqrsamples=w.Ys.sampleSize;}w.Vj && w.Vj.wy && (u.tdigest=w.Vj.wy());}return u;};f.prototype.bN=function(u,w){var v;v=w.requestId;1 === ++this.cE && (this.emit("active",u),this.start(u));v && this.cQ.push(v);this.vQ.bN(u,w);this.bQ.bN(u,w);};f.prototype.iW=function(u,w,v){w=v.requestId;--this.cE;this.I.L2a && (this.cE=Math.max(this.cE,0));0 === this.cE && (this.stop(u),this.emit("inactive",u));w && (w=this.cQ.indexOf(w),0 <= w && this.cQ.splice(w,1));this.vQ.iW(u,v);this.bQ.iW(u,v);this.NA && this.NA.HEb(v.type);};r.exports=f;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);return l;})(Error);b.assert=function(k,l){if(!k)throw new f(l || "Assertion failed");};},function(r){var c,f;function b(){var k,l;if(DataView.prototype && DataView.prototype.Rs && !f){try{k=new ArrayBuffer(4);l=new DataView(k);l.Ep(0,4,1);}catch(d){return;}try{k=new ArrayBuffer(4);l=new DataView(k);l.Ep(1,2,2);}catch(d){DataView.prototype.Ep=a(DataView.prototype.Ep,DataView.prototype.getUint8,Uint8Array);DataView.prototype.yy=a(DataView.prototype.yy,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Rs=a(DataView.prototype.Rs,DataView.prototype.getUint32,Uint32Array);DataView.prototype.GF=a(DataView.prototype.GF,DataView.prototype.getInt8,Int8Array);DataView.prototype.EF=a(DataView.prototype.EF,DataView.prototype.getInt16,Int16Array);DataView.prototype.FF=a(DataView.prototype.FF,DataView.prototype.getInt32,Int32Array);}c.Xka=function(d,g,h,m,n){return h?d.Ep(g,h,m || 1,n):new Uint8Array(0);};c.Vka=function(d,g,h,m,n){return h?d.yy(g,h,m || 2,n):new Uint16Array(0);};c.Wka=function(d,g,h,m,n){return h?d.Rs(g,h,m || 4,n):new Uint32Array(0);};c.QAb=function(d,g,h,m,n){return h?d.GF(g,h,m || 1,n):new Int8Array(0);};c.OAb=function(d,g,h,m,n){return h?d.EF(g,h,m || 2,n):new Int16Array(0);};c.PAb=function(d,g,h,m,n){return h?d.FF(g,h,m || 4,n):new Int32Array(0);};f=!0;}}function a(k,l,d){return function(g,h,m,n){var q;m=m || d.BYTES_PER_ELEMENT;if(g + h * m > this.byteLength){q=new d(h);q.set(k.call(this,g,h - 1,m,n));q[h - 1]=l.call(this,g + (h - 1 * m),n);return q;}return k.call(this,g,h,m,n);};}c={Ep:function(k,l,d,g,h){var m;m=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getUint8(l,h);}return m;},yy:function(k,l,d,g,h){var m;m=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getUint16(l,h);}return m;},Rs:function(k,l,d,g,h){var m;m=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getUint32(l,h);}return m;},GF:function(k,l,d,g,h){var m;m=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getInt8(l,h);}return m;},EF:function(k,l,d,g,h){var m;m=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getInt16(l,h);}return m;},FF:function(k,l,d,g,h){var m;m=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getInt32(l,h);}return m;},hxb:b};f=!1;c.Rja=function(){return f;};b();r.exports=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(234);r=(function(){function k(l,d,g){this.tag=l;this.view=d;this.u=g;this.startOffset=g.offset;}k.VV=function(l,d){var g,h;g=l.eb();h=l.Iqa();l=new (f.lp[g] || k)(g,l.Pja(h),l);l.parse(d);return l;};Object.defineProperties(k.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});k.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.Nm=0;return !0;};k.prototype.$S=function(l){var d;d=[];this.tag === l && d.push(this);if(this.lp)for(var g=0;g < this.lp.length;g++){d=c.__spreadArrays(d,this.lp[g].$S(l));}return d;};k.prototype.cl=function(l){for(l=this.$S(l);0 < l.length;){return l[0];}};k.prototype.VQ=function(){for(this.lp=[];this.u.offset < this.startOffset + this.length;){this.lp.push(k.VV(this.u,this));}};return k;})();b.nD=r;r.prototype.skip=r.prototype.parse;},function(r,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mq=void 0;c=a(2);f=c.__importDefault(a(27));k=c.__importDefault(a(5));l=a(847);r=(function(){function d(g){this.TI=g;this.Rh=[];this.console=new k.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var g;if(void 0 === d.uJ){g=a(5).default;d.uJ=new d(g.eI);}return d.uJ;},enumerable:!1,configurable:!0}});d.reset=function(){d.uJ=void 0;};d.prototype.yB=function(g,h,m,n,q,p){var t,u,w,v;t=!1;u=p.HTb?this.Uxb(m,h,g,p.ITb):-1;if(-1 === u){w={track:this.Hsb(m,n,g,q,p),Rv:m,K:h,I1a:g,QM:[],Mn:!1,EK:!1};this.Rh.push(w);v=function(){w.Mn=!0;w.track.removeListener("created",v);};w.track.on("created",v);t=!1;}else (t=!0,w=this.Rh[u]);g=new l.hGa(this.console,w.track,w.Mn,t);w.QM.push(g);return g;};d.prototype.uS=function(g){var h,m;g.mp();h=this.L2(function(n){return n.track === g.track;});if(-1 !== h){if((h=this.Rh[h],1 === h.QM.length))(h.track.mp(),h.EK=!0);else {m=h.QM.indexOf(g);0 <= m && h.QM.splice(m,1);}}else g.track.mp();};d.prototype.Qf=function(){this.TI.Qf();};d.prototype.Hsb=function(g,h,m,n,q){var p,t,u;p=this;t=!1;g?1 === m?(g=!1,h=1,q.Np?(g=!0,h=q.YL):q.Ev && 2 < q.Ev && (g=!0,h=q.Ev),g={type:this.TI.Eb,openRange:!g,pipeline:g,connections:h,socketBufferSize:q.cO,minRequestSize:q.gM}):0 === m?(t=q.Np && (q.lYb || h && q.mYb),g={type:this.TI.Sb,openRange:!t,pipeline:t,connections:1,socketBufferSize:q.Z0,minRequestSize:q.gM}):g={type:q.Yub?this.TI.Eb:this.TI.Iab,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.ola,minRequestSize:q.gM}:g={type:0 === m?f.default.Ra.Sb:f.default.Ra.Eb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === m?q.Z0:q.cO,minRequestSize:q.gM};u=new this.TI(g,n);u.on("transportreport",function(w){var v;v=p.L2(function(x){return x.track === u;});-1 !== v && (v=p.Rh[v],v.QM.length && v.QM[0].emit("transportreport",w));});u.on("destroyed",function(){var w;w=p.L2(function(v){return v.track === u;});-1 !== w && p.Rh.splice(w,1);u.removeAllListeners();});if(t && q.kYb || q.l7a)u.on("pipelinedisabled",function(){q.l7a && 1 === u.config.type?u.i7(c.__assign(c.__assign({},u.config),{socketBufferSize:q.YJb,pipeline:!1,openRange:!0,connections:1})):u.i7(c.__assign(c.__assign({},u.config),{pipeline:!1,openRange:!0}));});return u;};d.prototype.Uxb=function(g,h,m,n){return this.L2(function(q){return !q.EK && (!n && q.track.config.T7b || !g?!q.Rv && q.I1a === m:q.Rv && q.K === h && q.I1a === m);});};d.prototype.L2=function(g){for(var h=0;h < this.Rh.length;++h){if(g(this.Rh[h]))return h;}return -1;};return d;})();b.mq=r;},function(r,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nj=b.Cba=void 0;c=a(22);(function(d){d[d.absolute=0]="absolute";d[d.j2a=1]="relative";})(f=b.Cba || (b.Cba={}));l=(function(){function d(g,h){this.type=g;this.timestamp=h;}d.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + f[this.type];};Object.defineProperties(d,{ab:{get:function(){k || (k=new d(f.j2a,c.S.ab));return k;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.fO=function(g){return new l(f.absolute,g);};Object.defineProperties(d,{cZb:{get:function(){return l.ab;},enumerable:!1,configurable:!0}});d.eD=function(g){return new l(f.j2a,g);};d.Bua=new l(f.absolute,c.S.Ey);return d;})();b.nj=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.tIb=b.v0a=b.SMb=b.yTa=b.aNb=b.fD=b.i9=b.Mr=b.lO=b.kO=b.Xj=void 0;c=a(24);f=a(21);b.Xj="$attributes";b.kO="$children";b.lO="$name";b.Mr="$text";b.i9="$parent";b.fD="$sibling";b.aNb=/^\s*<\?xml.*\?>/i;b.yTa=function(k,l,d){for(var g=2;g < arguments.length;++g){;}for(g=1;(l=arguments[g++]) && (k=k[l]);){;}return k;};b.SMb=function(k,l){var d;k?d=c.se(k[b.Mr]):void 0 !== l && (d=l);f.pS(d);return d;};b.v0a=function(k,l){var d;k?d=k[b.Mr]:void 0 !== l && (d=l);f.cQa(d);return d;};b.tIb=function(k,l){var d;d={};d[b.Xj]=k;d[b.Mr]=l;return d;};},function(r){function b(l,d){return l.some(function(g){return g.id === d;});}function a(l,d){return l.filter(c.bind(null,d)).map(f).reduce(k,0);}function c(l,d){return l.id === d.id && l.displayTime + l.duration === d.displayTime;}function f(l){return l.duration;}function k(l,d){return l + d;}r.exports={bqb:function(l,d,g){for(var h=0;h < l.length;h++){if(l[h] !== d[h])return (g.error("indexId mismatch in sidx",{sIndexId:l,mIndexId:d}),!1);}return !0;},gha:function(l,d,g){var h;h={};h.displayTime=l.displayTime;h.duration=l.duration;h.originX=l.pMb;h.originY=l.qMb;h.sizeX=l.lUb;h.sizeY=l.mUb;h.imageData=d;h.id=l.SF;h.rootContainerExtentX=g.HRb;h.rootContainerExtentY=g.IRb;return h;},Tja:function(l,d){return "o_" + l + "s_" + d;},CYb:function(l,d){d("P" === String.fromCharCode(l[1]));d("N" === String.fromCharCode(l[2]));d("G" === String.fromCharCode(l[3]));},Kc:function(l){return "undefined" !== typeof l;},z8b:b,q5b:a,wT:function(l,d){var g,h;g=Object.create({});for(h in l){g[h]=l[h];}l instanceof Error && (g.message=l.message,g.stack=l.stack);g.errorString=d;return g;},assert:function(l,d){if(!l)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},aWa:function(l){return l && 0 < l.entries.length && 0 === l.images.length;},nVb:function(l,d){for(var g=d.entries.length,h,m=0;m < g;m++){if((h=d.entries[m],h.displayTime <= l && h.displayTime + h.duration >= l))return !0;}return !1;},oVb:function(l,d,g){for(var h=g.entries.length,m,n,q=0;q < h;q++){m=g.entries[q];n=m.displayTime;m=n + m.duration;if(d < n)break;if(n <= l && m >= l || n > l && n <= d)return !0;}return !1;},hPa:function(l){return l.map(function(d,g){d.duration+=a(l.slice(g + 1),d);return d;}).reduce(function(d,g){b(d,g.id) || d.push(g);return d;},[]);},Ika:function(l){return l.reduce(function(d,g){return d + g.entries.reduce(function(h,m){return m.Fla + h;},0);},0);},pvb:function(l,d){return l && l.Xv <= d && l.Sp >= d;},xAb:function(l){if(l)return l.endTime;},ZAb:function(l){try{return String.fromCharCode.apply(String,l);}catch(d){}return "";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HI="PlaygraphConfigSymbol";},function(r,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.ji=void 0;c=a(12);f=a(13);r=a(3);k=a(21);l=a(7);d=a(447);g=a(11);h=a(32);m=a(34);n=l.ha.get(h.Xg);n.register(r.M.M$,function(q){var p,t,u,w;p=l.ha.get(m.Mk);k.hb(f.config);k.hb(g.uA && g.uA.getDeviceId || g.eZ || p.dL);t=l.ha.get(d.Hxa);u=l.mi("Device");n.Od("devs");w=l.ha.get(m.wA);t.create({deviceId:f.config.deviceId,dL:p.dL,AQa:"deviceid",ki:f.config.ki,Pn:w.DY,wS:p.wS,userAgent:g.vA,hna:f.config.hna,Qja:f.config.Qja,Qub:w.c$ || !1,$mb:f.config.lNa.e,B7b:f.config.hv?"mslstoretest":"mslstore"}).then(function(v){b.ji=v;pb._cad_global.device=b.ji;u.info("Esn source: " + b.ji.Bia);n.Od("devdone");q(c.Ie);}).catch(function(v){v.W=void 0;q(v);});});},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);return l;})(Error);b.assert=function(k,l){if(!k)throw new f(l || "Assertion failed");};},function(r){var c,f;function b(){var k,l;if(DataView.prototype && DataView.prototype.Rs && !f){try{k=new ArrayBuffer(4);l=new DataView(k);l.Ep(0,4,1);}catch(d){return;}try{k=new ArrayBuffer(4);l=new DataView(k);l.Ep(1,2,2);}catch(d){DataView.prototype.Ep=a(DataView.prototype.Ep,DataView.prototype.getUint8,Uint8Array);DataView.prototype.yy=a(DataView.prototype.yy,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Rs=a(DataView.prototype.Rs,DataView.prototype.getUint32,Uint32Array);DataView.prototype.GF=a(DataView.prototype.GF,DataView.prototype.getInt8,Int8Array);DataView.prototype.EF=a(DataView.prototype.EF,DataView.prototype.getInt16,Int16Array);DataView.prototype.FF=a(DataView.prototype.FF,DataView.prototype.getInt32,Int32Array);}c.Xka=function(d,g,h,m,n){return h?d.Ep(g,h,m || 1,n):new Uint8Array(0);};c.Vka=function(d,g,h,m,n){return h?d.yy(g,h,m || 2,n):new Uint16Array(0);};c.Wka=function(d,g,h,m,n){return h?d.Rs(g,h,m || 4,n):new Uint32Array(0);};c.QAb=function(d,g,h,m,n){return h?d.GF(g,h,m || 1,n):new Int8Array(0);};c.OAb=function(d,g,h,m,n){return h?d.EF(g,h,m || 2,n):new Int16Array(0);};c.PAb=function(d,g,h,m,n){return h?d.FF(g,h,m || 4,n):new Int32Array(0);};f=!0;}}function a(k,l,d){return function(g,h,m,n){var q;m=m || d.BYTES_PER_ELEMENT;if(g + h * m > this.byteLength){q=new d(h);q.set(k.call(this,g,h - 1,m,n));q[h - 1]=l.call(this,g + (h - 1 * m),n);return q;}return k.call(this,g,h,m,n);};}c={Ep:function(k,l,d,g,h){var m;m=new Uint8Array(d);g=g || 1;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getUint8(l,h);}return m;},yy:function(k,l,d,g,h){var m;m=new Uint16Array(d);g=g || 2;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getUint16(l,h);}return m;},Rs:function(k,l,d,g,h){var m;m=new Uint32Array(d);g=g || 4;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getUint32(l,h);}return m;},GF:function(k,l,d,g,h){var m;m=new Int8Array(d);g=g || 1;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getInt8(l,h);}return m;},EF:function(k,l,d,g,h){var m;m=new Int16Array(d);g=g || 2;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getInt16(l,h);}return m;},FF:function(k,l,d,g,h){var m;m=new Int32Array(d);g=g || 4;for(var n=0;n < d;(++n,l+=g)){m[n]=k.getInt32(l,h);}return m;},hxb:b};f=!1;c.Rja=function(){return f;};b();r.exports=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(286);r=(function(){function k(l,d,g){this.tag=l;this.view=d;this.u=g;this.startOffset=g.offset;}k.VV=function(l,d){var g,h;g=l.eb();h=l.Iqa();l=new (f.lp[g] || k)(g,l.Pja(h),l);l.parse(d);return l;};Object.defineProperties(k.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});k.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.Nm=0;return !0;};k.prototype.$S=function(l){var d;d=[];this.tag === l && d.push(this);if(this.lp)for(var g=0;g < this.lp.length;g++){d=c.__spreadArrays(d,this.lp[g].$S(l));}return d;};k.prototype.cl=function(l){for(l=this.$S(l);0 < l.length;){return l[0];}};k.prototype.VQ=function(){for(this.lp=[];this.u.offset < this.startOffset + this.length;){this.lp.push(k.VV(this.u,this));}};return k;})();b.nD=r;r.prototype.skip=r.prototype.parse;},function(r,b,a){var f,k,l;function c(d,g,h,m,n){g=l.Vh.call(this,d,g,m,k.Di.events,n,k.Di.events + "/" + h) || this;g.context=d;g.Ywb=h;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.lq=void 0;r=a(1);f=a(0);k=a(48);l=a(74);a(182);la(c,l.Vh);c.prototype.Qf=function(d,g){var h,m;h=this;m=this.j1(g);!1;!1;return this.send(d,g.href,m).then(function(){return g;}).catch(function(n){throw h.Im(n);});};c.prototype.wp=function(d,g,h){var m,n;m=this;n=this.j1(h);!1;!1;return this.send(d,g.yT("events").href,n).then(function(q){g.Dea(q.result.links);return h;}).catch(function(q){throw m.Im(q);});};c.prototype.j1=function(d){return {event:this.Ywb,xid:d.ca,position:d.position || 0,clientTime:d.YR,sessionStartTime:d.yW,videoTrackId:d.dO,audioTrackId:d.ep,timedTextTrackId:d.fX,mediaId:d.aM,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.aob(d.DV),sessionParams:d.no,mdxControllerEsn:d.Wna};};c.prototype.Pfa=function(d){return {downloadableId:d.Dd,duration:d.duration};};c.prototype.aob=function(d){var g;g={total:d.total,audio:d.audio.map(this.Pfa),video:d.video.map(this.Pfa),text:d.text.map(this.Pfa)};d.total !== d.DH && (g.totalContentTime=d.DH);return g;};a=c;a=r.__decorate([f.R(),r.__param(0,f.ej()),r.__param(1,f.ej()),r.__param(2,f.ej()),r.__param(3,f.ej()),r.__param(4,f.ej())],a);b.lq=a;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y;function c(z){var A,B;A=this;this.createPlaygraphPlayer=function(D,E,F){var C;D=w.ieb.encode(D);C=d.ha.get(v.sP);F=F?C.create(F):void 0;C=d.ha.get(p.iba).create(D);return C.jtb(D.Qe,A.kNa(E,C.i3()),F);};this.closeAllPlayers=function(D){l.cba(void 0 === D?function(){}:D);};this.init=function(D){D=void 0 === D?function(){}:D;A.aK.xU(function(E){E.W?(k.config.I7?A.wSb().then(function(){f.DEa();}).catch(function(F){d.log.error("Unable to initialize the playdata services",F);}):Promise.resolve()).then(function(){Object.assign(A,c.zR);D(Object.assign({success:!0},c.zR));}):D({success:!1,error:d.$Ea(E.errorCode || h.M.Tza,E)});});};this.applyConfig=function(D){A.O6a(D);k.Lga(D);};this.prepare=function(D,E){var F;D=A.j1a.Hub(D) || [];F=new Set();D=D.filter(function(C){var G;G=F.has(C.K);F.add(C.K);return !G;});if(k.config.Sv && A.qd)try{A.qd.LM(D,E);}catch(C){d.log.warn("Prepare call failed",C);}};this.ppmUpdate=function(D){pb._cad_global.playerPredictionModel?(D=A.j1a.Jub(D)) && pb._cad_global.playerPredictionModel.update(D):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(D){d.lL().UW().then(function(E){return D(E.result);}).catch(function(){return D(!1);});};this.supportsUltraHd=function(D){d.lL().VW().then(D).catch(function(){return D(!1);});};this.supportsDolbyAtmos=function(D){d.lL().SW().then(D).catch(function(){return D(!1);});};this.supportsDolbyVision=function(D){d.lL().m8().then(function(E){return D(E.result);}).catch(function(){return D(!1);});};this.close=function(){};this.deviceThroughput=function(){var D;D=d.ha.get(n.jZ).aha();return D?Promise.resolve(D.Qs()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var D;D=d.ha.get(n.jZ).aha();return D?Promise.resolve(D.xBb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return k.config.xwb;};this.O6a(z);d.ha.get(y.eva);this.j1a=d.ha.get(g.FEa);this.aK=d.ha.get(u.Xg);B=d.ha.get(x.AEa).apply();k.ePa([z],B);this.qd=d.ha.get(t.aE);d.lL().VW();}Object.defineProperty(b,"__esModule",{value:!0});b.SI=void 0;f=a(277);k=a(13);l=a(63);d=a(7);g=a(478);h=a(3);m=a(37);n=a(264);q=a(185);p=a(292);t=a(116);u=a(32);w=a(67);v=a(143);x=a(305);y=a(455);c.prototype.kNa=function(z,A){var B,D,E,F;z=void 0 === z?{}:z;F=null !== (D=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== D?D:A.jc;return Object.assign(Object.assign({startPts:F,uiPlayStartTime:Date.now()},z),{endPts:null !== (E=A.Fc) && void 0 !== E?E:void 0,isPlaygraph:!0});};c.prototype.O6a=function(z){d.ha.get(m.oP).zJb(z);};c.prototype.wSb=function(){return d.ha.get(q.tZ)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});};b.SI=c;c.zR={};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hA="BrowserInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.Aka=function(){return this.buffer.length - this.position;};a.prototype.wz=function(){return this.buffer[this.position++];};a.prototype.qh=function(c){var f;f=this.position;this.position+=c;return this.nGb(this.buffer)?this.buffer.subarray(f,this.position):this.buffer.slice(f,this.position);};a.prototype.nGb=function(c){return void 0 !== c.subarray;};a.prototype.Tp=function(c){for(var f=0;c--;){f=256 * f + this.buffer[this.position++];}return f;};a.prototype.Gqa=function(c){for(var f="";c--;){f+=String.fromCharCode(this.buffer[this.position++]);}return f;};a.prototype.Sg=function(){return this.Tp(2);};a.prototype.Up=function(){return this.Tp(4);};a.prototype.UM=function(){return this.Tp(8);};a.prototype.Yv=function(c){for(var f,k="";c--;){f=this.wz();k+=("0123456789ABCDEF")[f >>> 4] + ("0123456789ABCDEF")[f & 15];}return k;};a.prototype.Jqa=function(c){for(var f=0,k=0;k < c;k++){f+=this.wz() << (k << 3);}return f;};a.prototype.TM=function(){return this.Jqa(4);};a.prototype.NX=function(c){this.iO(c,2);};a.prototype.bA=function(c){this.iO(c,4);};a.prototype.h9=function(c){this.buffer[this.position++]=c;};a.prototype.iO=function(c,f){this.position+=f;for(var k=1;k <= f;k++){this.buffer[this.position - k]=c & 255;c=Math.floor(c / 256);}};a.prototype.aA=function(c){for(var f=0;f < c.length;f++){this.buffer[this.position++]=c.charCodeAt(f);}};a.prototype.MX=function(c){for(var f=c.length,k=0;k < f;k++){this.buffer[this.position++]=c[k];}};a.prototype.hO=function(c,f){this.MX(c.qh(f));};a.prototype.S7a=function(c){c=new a(c);for(var f,k;;){if((f=c.Aka(),k=f >>> 14))(k=Math.min(4,k),this.h9(192 | k),this.hO(c,16384 * k));else {128 > f?this.h9(f):this.iO(f | 32768,2);this.hO(c,f);break;}}};a.prototype.N1a=function(){var k;for(var c=[],f=new a(c);;){k=this.wz();if(k & 128){if(128 == (k & 192))(k&=63,k=(k << 8) + this.wz(),f.hO(this,k));else if((k&=63,0 < k && 4 >= k)){f.hO(this,16384 * k);continue;}else throw Error("bad asn1");}else f.hO(this,k);break;}return new Uint8Array(c);};return a;})();b.IO=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fY="CannedChallengeProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Fa="ReportSyncSymbol";b.YFa="ReportApiErrorSyncSymbol";b.cza="FtlProbeConfigSymbol";b.eza="FtlProbeSymbol";},function(r,b,a){var f,k,l,d;function c(g,h,m,n){var q;q=l.CO.call(this,g,h,f.hm.iIa,n) || this;q.config=g;q.Ri=h;q.is=m;q.A5=n;q.type=f.Ei.fu;q.EX=d.Sd.SPa();return q;}Object.defineProperty(b,"__esModule",{value:!0});b.ln=void 0;f=a(25);k=a(50);l=a(343);r=a(106);d=a(140);new r.AA();la(c,l.CO);c.prototype.gw=function(){return Promise.resolve(!1);};c.prototype.Ns=function(){return Promise.resolve("");};c.prototype.l3=function(){return Promise.resolve("");};c.prototype.UW=function(){return this.config().lia?this.A5.ima()?this.A5.my(k.O.oI).then(function(g){return {result:g,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.m8=function(){return this.config().lia?this.A5.ima()?this.A5.my(k.O.HO).then(function(g){return {result:g,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.VW=function(){return Promise.resolve(!1);};c.prototype.SW=function(){return Promise.resolve(!1);};c.prototype.gL=function(g){return this.EX[g];};c.prototype.Aea=function(){};c.prototype.FYa=function(g){switch(g){case f.ij.xD:return "1.4";case f.ij.lu:return "2.2";}};c.prototype.lF=function(){var g;g={};g[k.O.mI]="avc1.4D401E";g[k.O.pD]="avc1.4D401F";g[k.O.A$]="avc1.4D4028";g[k.O.Kab]="hev1.2.6.L90.B0";g[k.O.Lab]="hev1.2.6.L93.B0";g[k.O.Mab]="hev1.2.6.L120.B0";g[k.O.Nab]="hev1.2.6.L123.B0";g[k.O.LY]="hev1.2.6.L90.B0";g[k.O.NY]="hev1.2.6.L93.B0";g[k.O.PY]="hev1.2.6.L120.B0";g[k.O.RY]="hev1.2.6.L123.B0";g[k.O.dP]="hev1.2.6.L150.B0";g[k.O.fP]="hev1.2.6.L153.B0";g[k.O.MY]="hev1.2.6.L90.B0";g[k.O.OY]="hev1.2.6.L93.B0";g[k.O.QY]="hev1.2.6.L120.B0";g[k.O.SY]="hev1.2.6.L123.B0";g[k.O.eP]="hev1.2.6.L150.B0";g[k.O.gP]="hev1.2.6.L153.B0";g[k.O.oza]="hev1.2.6.L90.B0";g[k.O.pza]="hev1.2.6.L93.B0";g[k.O.qza]="hev1.2.6.L120.B0";g[k.O.rza]="hev1.2.6.L123.B0";g[k.O.sza]="hev1.2.6.L150.B0";g[k.O.tza]="hev1.2.6.L153.B0";g[k.O.TO]="hev1.2.6.L90.B0";g[k.O.VO]="hev1.2.6.L93.B0";g[k.O.oI]="hev1.2.6.L120.B0";g[k.O.YO]="hev1.2.6.L123.B0";g[k.O.$O]="hev1.2.6.L150.B0";g[k.O.bP]="hev1.2.6.L153.B0";g[k.O.UO]="hev1.2.6.L90.B0";g[k.O.WO]="hev1.2.6.L93.B0";g[k.O.XO]="hev1.2.6.L120.B0";g[k.O.ZO]="hev1.2.6.L123.B0";g[k.O.aP]="hev1.2.6.L150.B0";g[k.O.cP]="hev1.2.6.L153.B0";g[k.O.lY]=d.Sd.kY;g[k.O.nY]=d.Sd.f$;g[k.O.HO]=d.Sd.g$;g[k.O.qY]=d.Sd.h$;g[k.O.sY]=d.Sd.i$;g[k.O.uY]=d.Sd.j$;g[k.O.mY]=d.Sd.kY;g[k.O.oY]=d.Sd.f$;g[k.O.pY]=d.Sd.g$;g[k.O.rY]=d.Sd.h$;g[k.O.tY]=d.Sd.i$;g[k.O.vY]=d.Sd.j$;g[k.O.mza]="avc1.640016";g[k.O.QO]="avc1.64001E";g[k.O.RO]="avc1.64001F";g[k.O.z$]="avc1.640028";g[k.O.WZ]=d.Sd.$P;g[k.O.QI]=d.Sd.$P;g[k.O.RI]=d.Sd.$P;g[k.O.aQ]=d.Sd.$P;g[k.O.Qua]=d.Sd.Gk;g[k.O.Rua]=d.Sd.Gk;g[k.O.Sua]=d.Sd.Gk;g[k.O.Tua]=d.Sd.Gk;g[k.O.Uua]=d.Sd.Gk;g[k.O.Vua]=d.Sd.Gk;g[k.O.Wua]=d.Sd.Gk;g[k.O.Xua]=d.Sd.Gk;return g;};c.prototype.JUa=function(g){return g || this.config().pw;};c.prototype.oL=function(){return Promise.resolve(void 0);};c.prototype.A3=function(){return Promise.resolve(void 0);};c.prototype.iS=function(g){var h;h=[];this.is.eg(g) && h.push(this.FYa(g));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:h,isHdcpEngaged:! !h.length}];};b.ln=c;c.JH="video/mp4;codecs={0};";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Ge=void 0;b.Ge=a;a.vza=/^hevc-main/;a.nza=/^hevc-hdr-|hevc-dv/;a.Gw=/^hevc-hdr-/;a.Pr=/^hevc-dv/;a.lI=/-h264mpl/;a.mI=/-h264mpl30/;a.pD=/-h264mpl31/;a.cA=/-h264hpl/;a.Vw=/^vp9-/;a.Gk=/^av1-/;a.OI=/-L5[0-1]-/;a.QX=/^heaac-2-/;a.wza=/^heaac-2hq-dash/;a.bE=/^xheaac-dash/;a.X9a=/ddplus-2/;a.Y9a=/ddplus-5/;a.Z9a=/ddplus-atmos/;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ucb="NativeLocalStorageSymbol";b.RCa="NativeLocalStorageFactorySymbol";b.Qza="IDBFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pza="IDBDatabaseFactorySymbol";b.sAa="IndexedDBFactorySymbol";b.P$="IndexedDBStorageFactorySymbol";},function(r,b,a){var c,f,k;c=a(122);f=a(58);k=a(170);r.exports=function(l){return function n(g,h,m){switch(arguments.length){case 0:return n;case 1:return k(g)?n:f(function(q,p){return l(g,q,p);});case 2:return k(g) && k(h)?n:k(g)?f(function(q,p){return l(q,h,p);}):k(h)?f(function(q,p){return l(g,q,p);}):c(function(q){return l(g,h,q);});default:return k(g) && k(h) && k(m)?n:k(g) && k(h)?f(function(q,p){return l(q,p,m);}):k(g) && k(m)?f(function(q,p){return l(q,h,p);}):k(h) && k(m)?f(function(q,p){return l(g,q,p);}):k(g)?c(function(q){return l(q,h,m);}):k(h)?c(function(q){return l(g,q,m);}):k(m)?c(function(q){return l(g,h,q);}):l(g,h,m);}};};},function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.QFa=b.HZ=b.n3=void 0;c=a(53);f=a(3);b.n3=function(k){return k === c.Pb.Ik.Sb?f.L.JBa:f.L.KBa;};b.HZ=50;b.QFa=1E3;},function(r,b){function a(c){var f;f={profile:c.spoofedProfile || c.profile,tja:c.max_framerate_value,sja:c.max_framerate_scale,maxWidth:c.maxWidth,maxHeight:c.maxHeight,yNb:c.pixelAspectX,zNb:c.pixelAspectY,channels:c.channels,sampleRate:c.channels?48E3:void 0};c.spoofedProfile && (f.U7b=c.profile);return f;}Object.defineProperties(b,{__esModule:{value:!0}});b.pUa=b.oUa=void 0;b.oUa=function(c,f,k){var l;l=[{},{}];(0 === k?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,g){c[d].some(function(h,m){return m === f[g]?(l[g]=a(h),!0):!1;});});return l;};b.pUa=a;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ww=void 0;c=a(227);f=a(6);r=(function(){function k(l){this.config=l;this.reset();}k.instance=function(){f.assert(void 0 !== k.uJ);return k.uJ;};k.rqb=function(l){k.uJ=new k(l);};k.prototype.push=function(l){this.Vj && this.Vj.push(l);};k.prototype.lb=function(){if(this.Vj)return (this.Vj.Tx(),this.Vj.Ui([.25,.5,.75,.9,.95,.99]).map(function(l){return l?parseFloat(l.toFixed(1)):0;}));};k.prototype.reset=function(){this.config.ARa && this.config.S$ && (this.Vj=new c.y3b(this.config.S$.c,this.config.S$.maxc));};return k;})();b.ww=r;},function(r){(function(){var R8;R8=2;for(;R8 !== 8;){switch(R8){case 5:var A7Q="1SIYb";A7Q+="Zr";A7Q+="NJC";A7Q+="p";A7Q+="9";b.prototype.add=function(a,c,f){var d00;d00=2;for(;d00 !== 4;){switch(d00){case 2:this.start(c);this.stop(f);this.Ic+=a;d00=4;break;}}};b.prototype.get=function(){var e00;e00=2;for(;e00 !== 1;){switch(e00){case 2:return {Ca:this.UA?Math.floor(8 * this.Ic / this.UA):null,BB:this.UA?this.UA:0};break;}}};r.exports=b;A7Q;R8=8;break;case 2:b.prototype.start=function(a){var b00;b00=2;for(;b00 !== 1;){switch(b00){case 2:this.jf?a < this.jf?(this.UA+=this.jf - a,this.jf=a):a > this.jb && (this.jb=this.jf=a):this.jb=this.jf=a;b00=1;break;}}};b.prototype.stop=function(a){var c00;c00=2;for(;c00 !== 1;){switch(c00){case 2:this.jb && a > this.jb && (this.UA+=a - this.jb,this.jb=a);c00=1;break;}}};R8=5;break;}}function b(){var a00;a00=2;for(;a00 !== 5;){switch(a00){case 2:this.UA=this.Ic=0;this.jb=this.jf=void 0;a00=5;break;}}}})();},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(31);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(d){d=k.prototype.parse.call(this,d);this.u.offset+=8;this.gga=this.u.Gc();this.Lra=this.u.Gc();this.u.offset+=4;this.samplerate=this.u.Gc();this.u.offset+=2;f.ia && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.gga + ", samplesize: " + this.Lra + ", samplerate: " + this.samplerate);return d;};l.La=!1;return l;})(a(233).default);b.default=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.bu=void 0;a(6);r=(function(){function c(f,k){c.nb(this,f,k);}c.nb=function(f,k,l){f.Uc=k;f.Ic=l.da;f.ye=l.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Uc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{da:{get:function(){return this.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.ye;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{N:{get:function(){return this.Uc.N;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{K:{get:function(){return this.Uc.K;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Uc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Ma:{get:function(){return this.Uc.Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Uc.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Uc.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.Uc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{kM:{get:function(){return this.Uc.kM;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{pa:{get:function(){return this.Uc.pa;},enumerable:!1,configurable:!0}});c.prototype.toJSON=function(){return {movieId:this.K,streamId:this.Ma,offset:this.offset,bytes:this.da};};return c;})();b.bu=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Lba=b.vl=void 0;c=a(151);(function(k){k[k.pending=0]="pending";k[k.qW=1]="running";k[k.complete=2]="complete";k[k.EK=3]="destroyed";})(f=b.vl || (b.vl={}));r=(function(){function k(l,d){void 0 === d && (d=0);this.name=l;this.priority=d;this.Jc=f.pending;}Object.defineProperties(k.prototype,{state:{get:function(){return this.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oFb:{get:function(){return this.Jc === f.pending || this.Jc === f.qW;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Gf:{get:function(){return this.Qu;},enumerable:!1,configurable:!0}});k.prototype.Dmb=function(l){var d;null === (d=this.Qu) || void 0 === d?void 0:d.dra(this);this.Qu=l;};k.prototype.aw=function(){this.Jc=f.qW;this.Qf();this.i6() === c.nj.Bua && (this.Jc=f.complete);};k.prototype.zb=function(){var l;this.Jc=f.EK;null === (l=this.Qu) || void 0 === l?void 0:l.dra(this);};return k;})();b.Lba=r;},function(r,b,a){var k,l,d,g,h,m,n;function c(q){return q && "function" === typeof q.ih?!0:!1;}function f(q){return c(q) && (q=typeof q.CFb,"boolean" === q || "undefined" === q)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.U9a=b.jxb=b.BFb=b.B8a=b.AsyncIterator=void 0;k=a(2);l=a(20);g=(function(){function q(p){var t;t=this;this.uhb=p;this.DQ=!1;this.xjb=function(u){return t.dPb(u);};this.yPa();}q.vGb=function(p,t){function u(){var w;w=p.next();w.then(function(v){f(p) && p.CFb || t(v);});w.then(function(v){return !v.done && u();});}u();};Object.defineProperties(q.prototype,{Ly:{get:function(){return this.DQ;},enumerable:!1,configurable:!0}});q.pAb=function(){return new h([]);};q.Pka=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(q.prototype,{GL:{get:function(){return this.Xr || !1;},enumerable:!1,configurable:!0}});q.prototype.ih=function(){this.cancel();};q.prototype.cancel=function(){this.IKa();this.Xr=!0;return this.pca;};q.prototype.next=function(){return this.Xr?this.pca:Promise.race([this.pca,this.uhb()]).then(this.xjb);};q.prototype.dPb=function(p){p.done && (this.DQ=!0,this.ih());this.GL || (this.IKa(),this.yPa());return p;};q.prototype.yPa=function(){var p;p=this;this.pca=new Promise(function(t){p.IKa=function(){t({done:!0});};});};return q;})();b.AsyncIterator=g;h=(function(q){function p(t){var u;u=q.call(this,function(){return u.tBb();}) || this;u.Dx=t;u.index=0;return u;}k.__extends(p,q);p.prototype.ih=function(){c(this.Dx) && this.Dx.ih();q.prototype.ih.call(this);};p.prototype.tBb=function(){return this.Dx.length > this.index?Promise.resolve({value:this.Dx[this.index++],done:!1}):Promise.resolve({done:!0});};return p;})(g);b.B8a=h;b.BFb=c;b.jxb=f;m=(function(q){function p(t,u,w){var v;v=q.call(this,function(){return v.Doa();}) || this;v.console=u;v.Ok=w;v.rqa=!1;Array.isArray(t)?v.NQ=new h(t):v.NQ=t;return v;}k.__extends(p,q);p.prototype.fPb=function(t){var u;this.rqa=!1;u=this.console;l.ia && u && u.trace("CompoundIterator: processNextOuterIterator");if(t.done)return t;t=t.value;if(this.wJ)return (c(t) && t.ih(),g.Pka());Array.isArray(t)?this.Ok=new h(t):this.Ok=t;return this.Doa();};p.prototype.ePb=function(t){var u;u=this.console;l.ia && u && u.trace("CompoundIterator: processNextInnerResult",this.wJ,t.done);if(!t.done || this.wJ)return t;this.Ok=void 0;return this.Doa();};p.prototype.ih=function(){var t;t=this.console;l.ia && t && t.trace("CompoundIterator: dispose");this.wJ=!0;q.prototype.ih.call(this);c(this.NQ) && this.NQ.ih();c(this.Ok) && this.Ok.ih();};p.prototype.toString=function(){return "CompoundIterator " + this.wJ + " " + this.NQ + " " + this.Ok;};p.prototype.Doa=function(){var t,u;t=this;u=this.console;l.ia && u && u.trace("CompoundIterator: nextImpl");if(this.Ok)return (l.ia && u && u.trace("CompoundIterator: getNextInner"),this.Ok.next().then(function(w){return t.ePb(w);}));this.rqa=!0;l.ia && u && u.trace("CompoundIterator: getNextOuter");return this.NQ.next().then(function(w){return t.fPb(w);});};return p;})(g);b.U9a=m;b.map=function(q,p,t){return new n(q,p,t);};n=(function(q){function p(t,u,w){var v;v=q.call(this,function(){return v.hhb();}) || this;v.source=t;v.Hna=u;v.mqb=w;return v;}k.__extends(p,q);p.prototype.ih=function(){c(this.source) && this.source.ih();q.prototype.ih.call(this);};p.prototype.hhb=function(){var t,u,w;t=this.mqb;u=this.Hna;w=this.source;l.ia && t && t.trace("MappedIterator: Requesting next");return w.next().then(function(v){return v.done?v:u(v.value);});};return p;})(g);b.flatten=function(q,p,t){return new m(q,p,t);};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(881);c=a(416);a=a(883);b.default={STARTING:a.p3a,BUFFERING:r.F7,REBUFFERING:r.F7,PLAYING:c.cw,PAUSED:c.cw};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.qL=b.YH=void 0;c=a(898);f=a(899);k=a(251);Object.defineProperties(b,{YH:{enumerable:!0,get:function(){return k.YH;}}});b.qL=function(l,d){switch(l.Ina){case "manifold":return new c.cCa(l,d);default:return new f.NGa(l,d);}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.Jv,minHCInitVideoBitrate:a.moa,maxInitVideoBitrate:a.Zy,minInitAudioBitrate:a.SU,maxInitAudioBitrate:a.EU,minHCInitAudioBitrate:a.RU,minAcceptableVideoBitrate:a.K5,minRequiredBuffer:a.TU,minPrebufSize:a.Si,minCheckBufferingCompleteInterval:a.loa,rebufferingFactor:a.Oqa,useMaxPrebufSize:a.nua,maxPrebufSize:a.rC,maxRebufSize:a.Sna,maxBufferingTime:a.gr,minAudioMediaRequestSizeBytes:a.L5,minVideoMediaRequestSizeBytes:a.S5,initialBitrateSelectionCurve:a.o4,initSelectionLowerBound:a.pWa,initSelectionUpperBound:a.qWa,throughputPercentForAudio:a.s8,bandwidthMargin:a.vfa,bandwidthMarginContinuous:a.wfa,bandwidthMarginCurve:a.xfa,conservBandwidthMargin:a.Oga,switchConfigBasedOnInSessionTput:a.mta,conservBandwidthMarginTputThreshold:a.dS,conservBandwidthMarginCurve:a.Pga,switchAlgoBasedOnHistIQR:a.u5a,switchConfigBasedOnThroughputHistory:a.XC,maxPlayerStateToSwitchConfig:a.Rna,lowEndMarkingCriteria:a.qna,IQRThreshold:a.N$,histIQRCalcToUse:a.xla,maxTotalBufferLevelPerSession:a.jt,highWatermarkLevel:a.SVa,toStableThreshold:a.b6a,toUnstableThreshold:a.y8,skipBitrateInUpswitch:a.Hsa,watermarkLevelForSkipStart:a.Fua,highStreamRetentionWindow:a.rla,lowStreamTransitionWindow:a.rna,highStreamRetentionWindowUp:a.tla,lowStreamTransitionWindowUp:a.tna,highStreamRetentionWindowDown:a.sla,lowStreamTransitionWindowDown:a.sna,highStreamInfeasibleBitrateFactor:a.qla,lowestBufForUpswitch:a.Ty,lockPeriodAfterDownswitch:a.l5,lowWatermarkLevel:a.vna,lowestWaterMarkLevel:a.Uy,lowestWaterMarkLevelBufferRelaxed:a.wna,mediaRate:a.coa,maxTrailingBufferLen:a.y5,audioBufferTargetAvailableSize:a.BR,videoBufferTargetAvailableSize:a.zX,maxVideoTrailingBufferSize:a.fZa,maxAudioTrailingBufferSize:a.RYa,fastUpswitchFactor:a.H2,fastDownswitchFactor:a.Mia,maxMediaBufferAllowed:a.$y,simulatePartialBlocks:a.Fsa,simulateBufferFull:a.u4a,considerConnectTime:a.Qga,connectTimeMultiplier:a.Nga,lowGradeModeEnterThreshold:a.nYa,lowGradeModeExitThreshold:a.oYa,maxDomainFailureWaitDuration:a.UYa,maxAttemptsOnFailure:a.QYa,exhaustAllLocationsForFailure:a.VRa,maxNetworkErrorsDuringBuffering:a.$Ya,maxBufferingTimeAllowedWithNetworkError:a.s5,fastDomainSelectionBwThreshold:a.cSa,throughputProbingEnterThreshold:a.H5a,throughputProbingExitThreshold:a.I5a,locationProbingTimeout:a.aYa,finalLocationSelectionBwThreshold:a.jSa,throughputHighConfidenceLevel:a.F5a,throughputLowConfidenceLevel:a.G5a,locationStatisticsUpdateInterval:a.ena,enablePerfBasedLocationSwitch:a.zRa,probeServerWhenError:a.Ft,probeRequestTimeoutMilliseconds:a.nqa,allowSwitchback:a.Bx,probeDetailDenominator:a.MG,maxDelayToReportFailure:a.t5,countGapInBuffer:a.uPa,bufferThresholdForAbort:a.INa,allowCallToStreamSelector:a.pMa,pipelineScheduleTimeoutMs:a.Mpa,maxPartialBuffersAtBufferingStart:a.az,minPendingBufferLen:a.noa,maxPendingBufferLen:a.qC,maxPendingBufferLenSABCell100:a.w5,maxActiveRequestsSABCell100:a.q5,maxStreamingSkew:a.Una,maxPendingBufferPercentage:a.Pna,maxRequestsInBuffer:a.$L,headerRequestSize:a.Y3,estimateHeaderSize:a.Cia,minBufferLenForHeaderDownloading:a.QU,reserveForSkipbackBufferMs:a.fN,numExtraFragmentsAllowed:a.Qoa,pipelineEnabled:a.Np,maxParallelConnections:a.YL,socketReceiveBufferSize:a.D4a,audioSocketReceiveBufferSize:a.Z0,videoSocketReceiveBufferSize:a.cO,headersSocketReceiveBufferSize:a.ola,updatePtsIntervalMs:a.P8,bufferTraceDenominator:a.Ifa,bufferLevelNotifyIntervalMs:a.gK,aseReportDenominator:a.hB,aseReportIntervalMs:a.U0,enableAbortTesting:a.bwb,abortRequestFrequency:a.Rkb,streamingStatusIntervalMs:a.dta,prebufferTimeLimit:a.mz,minBufferLevelForTrackSwitch:a.M5,penaltyFactorForLongConnectTime:a.Dpa,longConnectTimeThreshold:a.ona,additionalBufferingLongConnectTime:a.Jea,additionalBufferingPerFailure:a.Kea,rebufferCheckDuration:a.YV,enableLookaheadHints:a.vRa,lookaheadFragments:a.kYa,enableOCSideChannel:a.jy,OCSCBufferQuantizationConfig:a.lZ,updateDrmRequestOnNetworkFailure:a.L6a,deferAseScheduling:a.qQa,maxDiffAudioVideoEndPtsMs:a.TYa,defaultHeaderCacheSize:a.c2,defaultHeaderCacheDataPrefetchMs:a.b2,neverWipeHeaderCache:a.tG,networkFailureResetWaitMs:a.Boa,networkFailureAbandonMs:a.Aoa,maxThrottledNetworkFailures:a.x5,throttledNetworkFailureThresholdMs:a.r8,lowThroughputThreshold:a.una,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Gia,mp4ParsingInNative:a.LZa,sourceBufferInOrderAppend:a.F4a,requireAudioStreamToEncompassVideo:a.Bz,allowAudioToStreamPastVideo:a.oMa,enableManagerDebugTraces:a.Hh,managerDebugMessageInterval:a.BYa,managerDebugMessageCount:a.AYa,bufferThresholdToSwitchToSingleConnMs:a.Hfa,bufferThresholdToSwitchToParallelConnMs:a.Gfa,netIntrStoreWindow:a.vKb,minNetIntrDuration:a.TJb,fastHistoricBandwidthExpirationTime:a.txb,bandwidthExpirationTime:a.mnb,failureExpirationTime:a.qxb,historyTimeOfDayGranularity:a.VDb,expandDownloadTime:a.dxb,minimumMeasurementTime:a.cKb,minimumMeasurementBytes:a.bKb,throughputMeasurementTimeout:a.WVb,initThroughputMeasureDataSize:a.SEb,throughputMeasureWindow:a.VVb,throughputIQRMeasureWindow:a.UVb,IQRBucketizerWindow:a.Ubb,connectTimeHalflife:a.sqb,responseTimeHalflife:a.zRb,historicBandwidthUpdateInterval:a.UDb,throughputWarmupTime:a.$Vb,minimumBufferToStopProbing:a.aKb,throughputPredictor:a.XVb,ase_stream_selector:a.smb,enableFilters:a.fwb,filterDefinitionOverrides:a.Kxb,defaultFilter:a.iub,secondaryFilter:a.dSb,defaultFilterDefinitions:a.jub,initBitrateSelectorAlgorithm:a.Tla,bufferingSelectorAlgorithm:a.Mfa,ase_ls_failure_simulation:a.eQa,ase_dump_fragments:a.tha,ase_location_history:a.vha,ase_throughput:a.wha,ase_simulate_verbose:a.gQa,secondThroughputEstimator:a.Tra,secondThroughputMeasureWindowInMs:a.l3a,marginPredictor:a.Ina,networkMeasurementGranularity:a.Coa,HistoricalTDigestConfig:a.Jza,maxIQRSamples:a.XYa,minIQRSamples:a.zZa,periodicHistoryPersistMs:a.K6,saveVideoBitrateMs:a.z7,needMinimumNetworkConfidence:a.YU,biasTowardHistoricalThroughput:a.Afa,maxFastPlayBufferInMs:a.Nna,maxFastPlayBitThreshold:a.Mna,minAudioMediaRequestDuration:a.eM,minVideoMediaRequestDuration:a.iM,minAudioMediaRequestDurationCache:a.eM,minVideoMediaRequestDurationCache:a.iM,addHeaderDataToNetworkMonitor:a.Cea,hindsightDenominator:a.wla,hindsightDebugDenominator:a.vla,hindsightParam:a.c4,minimumTimeBeforeBranchDecision:a.uC,enableSessionHistoryReport:a.RS,earlyStageEstimatePeriod:a.jia,lateStageEstimatePeriod:a.OXa,maxNumSessionHistoryStored:a.v5,minSessionHistoryDuration:a.R5,appendMediaRequestOnComplete:a.FMa,waitForDrmToAppendMedia:a.e9,forceAppendHeadersAfterDrm:a.Q2,startMonitorOnLoadStart:a.Qsa,reportFailedRequestsToNetworkMonitor:a.lra,reappendRequestsOnSkip:a.NPb,maxActiveRequestsPerSession:a.Ev,limitAudioDiscountByMaxAudioBitrate:a.Zma,appendFirstHeaderOnComplete:a.Sea,maxAudioFragmentOverlapMs:0,editVideoFragments:a.Tvb,declareBufferingCompleteAtSegmentEnd:a.yha,applyProfileTimestampOffset:a.gB,applyProfileStreamingOffset:a.ek,requireDownloadDataAtBuffering:a.q7,requireSetupConnectionDuringBuffering:a.r7,recordFirstFragmentOnSubBranchCreate:a.Sqa,earlyAppendSingleChildBranch:a.o2,selectStartingVMAFMethod:a.mN,activateSelectStartingVMAF:a.qR,minStartingVideoVMAF:a.hM,minAcceptableVMAF:a.PU,minAllowedVmaf:a.nG,alwaysNotifyEOSForPlaygraph:a.emb,enableNewAse:a.QS,useNewApi:a.S8,enableDiscontiguousBuffering:a.q2,forceImmediateTransitionTypeForTitles:a.oja,forceImmediateTransitionExitZone:a.nja,useBufferSizeLimiter:a.kua,enableHudsonFieldTest:a.jwb,hudsonTitles:a.jEb,maxPartialBuffersAtHudson:a.VIb,numberOfChunksPerSegment:a.jLb,targetContentLatency:a.JVb,targetLongContentLatency:a.KVb,minimumTimeDelay:a.dKb,enableWsslEstimate:a.nia,maxAllowedOutstandingRequests:a.r5,alwaysRunUnderflowTimer:a.WJ,minStreamableConcurrencyWindow:a.ooa,streamableConcurrencyFactor:a.$sa,bufferingConcurrencyWindow:a.RR,singleStreamablePerBranch:a.kUb,enableResolutionVMAFStreamFilter:a.s2,resolutionVMAFCappingRuleList:a.v7,percentCapTitlesForResolutionVMAFStreamFilter:a.Fpa,useExitZones:a.lua,perFragmentVMAFConfig:a.lz,enableInitialTputLogging:a.r2,maxResponsesInitialTput:a.Tna};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.k$=void 0;(b.k$ || (b.k$={})).aeb="PboDebugEvent";b.xxa={Dcb:"Manifest",Event:"Event",i1b:"Logblob"};},function(r,b,a){var f,k;function c(l){switch(l){case f.L.iP:return "http";case f.L.kP:return "connectiontimeout";case f.L.sD:return "readtimeout";case f.L.Eza:return "corruptcontent";case f.L.lA:return "abort";case f.L.lP:case f.L.H$:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Dka=b.rka=b.nka=void 0;f=a(3);k=a(11);b.nka=c;b.rka=function(l,d){l={errorcode:l + (d.errorCode || f.M.km)};d.oa && (l.errorsubcode=d.oa);d.Ze && (l.errorextcode=d.Ze);d.xia && (l.erroredgecode=d.xia);d.rb && (l.errordetails=d.rb);d.mk && (l.httperr=d.mk);d.b6 && (l.aseneterr=d.b6);d.QK && (l.errordata=d.QK);d.LU && (l.mediaerrormessage=d.LU);(d=c(Number(d.oa))) && (l.nwerr=d);return l;};b.Dka=function(){return {screensize:k.su.width + "x" + k.su.height,screenavailsize:k.su.availWidth + "x" + k.su.availHeight,clientsize:pb.innerWidth + "x" + pb.innerHeight};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rP="LicenseProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nEa="PboPlaydataServicesSymbol";b.tZ="PboPlaydataServicesProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kI=void 0;b.kI=function(){return "";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vZ="PlaygraphHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.n$=b.Qxa=void 0;b.Qxa=function(){this.Sb=0;this.Eb=1;this.Iab=2;this.Qf=function(){};};b.n$="DownloadTrackConstructorFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.cc=void 0;b.cc=a;a.xe={cDa:"mr1",bDa:"mr2",dDa:"mr3",BP:"mr4",cdb:"mr5",ND:"mr6"};a.Bc={UNSENT:0,OPENED:1,Rw:2,Qw:3,DONE:5,jI:6,oO:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.CY={NO_ERROR:-1,B$a:0,nxa:1,N$a:2,F$a:3,E9a:4,uwa:5,swa:6,F9a:7,G9a:8,H9a:9,B9a:10,D9a:11,twa:12,C9a:13,A9a:14,Pab:15,Cza:16,Bza:17,E$:18,G$:19,F$:20,Fza:21,Rab:22,TY:23,Dza:24,Qab:25,I$a:26,C$a:27,Ieb:28,s$a:29,t$a:30,u$a:31,v$a:32,w$a:33,x$a:34,y$a:35,z$a:36,A$a:37,D$a:38,E$a:39,G$a:40,H$a:41,J$a:42,K$a:43,L$a:44,M$a:45,O$a:46,P$a:47,Heb:48,TIMEOUT:49,yza:50,zza:51,Oab:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Yb={oW:{f8a:!0,SP:!1,Pcb:!0}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uZ="PboPublisherSymbol";},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(d){d=k.prototype.parse.call(this,d);this.u.offset+=8;this.gga=this.u.Gc();this.Lra=this.u.Gc();this.u.offset+=4;this.samplerate=this.u.Gc();this.u.offset+=2;f.ia && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.gga + ", samplesize: " + this.Lra + ", samplerate: " + this.samplerate);return d;};l.La=!1;return l;})(a(285).default);b.default=r;},function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.uD=void 0;c=/^\S+$/;a.prototype.pF=function(f){return void 0 !== f;};a.prototype.eg=function(f){return null !== f && void 0 !== f;};a.prototype.XJ=function(f){return a.uMa(f);};a.prototype.rea=function(f){return !(!f || !a.uMa(f));};a.prototype.Cx=function(f){return Array.isArray(f);};a.prototype.vMa=function(f){return !(!f || f.constructor != Uint8Array);};a.prototype.di=function(f,k,l){return a.FLa(f,k,l);};a.prototype.qea=function(f){return a.qea(f);};a.prototype.Qea=function(f,k,l){return a.P0(f,k,l) && 0 === f % 1;};a.prototype.vR=function(f,k,l){return a.P0(f,k || 0,l);};a.prototype.kR=function(f){return a.P0(f,1);};a.prototype.Pkb=function(f){return a.P0(f,0,255);};a.prototype.Qkb=function(f){return f === +f && (0 === f || f !== (f | 0)) && !0;};a.prototype.wMa=function(f){return !(!f || !c.test(f));};a.prototype.Xo=function(f){return a.GLa(f);};a.prototype.En=function(f){return !(!a.GLa(f) || !f);};a.prototype.jR=function(f){return !0 === f || !1 === f;};a.prototype.I0=function(f){return "function" == typeof f;};a.GLa=function(f){return "string" == typeof f;};a.FLa=function(f,k,l){return "number" == typeof f && !isNaN(f) && isFinite(f) && (void 0 === k || f >= k) && (void 0 === l || f <= l);};a.qea=function(f){return "number" == typeof f && isNaN(f);};a.P0=function(f,k,l){return a.FLa(f,k,l) && 0 === f % 1;};a.uMa=function(f){return "object" == typeof f;};b.uD=new a();},function(r,b,a){var c,f,k,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.kd=void 0;r=a(0);c=a(89);f=a(562);k=a(199);l=a(578);d=a(585);g=a(596);a=a(1202);b.kd=new r.iY({nH:!0});g.XXa(b.kd);b.kd.load(f.platform);b.kd.load(l.config);k.JK.load(d.gRa);b.kd.load(a.BMa);b.kd.load(a.profile);b.kd.bind(c.wAa).yi(b.kd);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(195);r=(function(){function f(k){this.oc=k;}f.prototype.Lv=function(k){this.oc.Lv=k;return new c.Q9(this.oc);};return f;})();b.aY=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(194);a(303);r=(function(){function f(k){this.oc=k;}f.prototype.when=function(k){this.oc.fF=k;return new c.aY(this.oc);};f.prototype.IX=function(){this.oc.fF=function(k){return null !== k.target && !k.target.nma() && !k.target.xma();};return new c.aY(this.oc);};return f;})();b.Q9=r;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.uw=void 0;b.uw=a;a.$db="PSK";a.mcb="MGK";a.DAa="JWEJS_RSA";a.YY="JWK_RSA";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yaa="PlatformEmeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iba="StringUtilsSymbol";},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});b.JK=b.eme=void 0;r=a(0);c=a(119);f=a(306);k=a(200);l=a(201);d=a(573);g=a(574);h=a(79);m=a(134);n=a(575);q=a(163);p=a(576);b.eme=new r.$c(function(t){t(f.Uxa).to(k.Txa).$();t(l.W9).to(d.Bwa).$();t(c.zY).iX(g.B1a);t(h.pu).$C(function(u){b.JK.parent=u.$a;return b.JK.get(h.pu);});t(m.tP).tf(function(){return function(){return new n.sCa();};});t(q.fY).to(p.Dwa).$;});b.JK=new r.iY({nH:!0});},function(r,b,a){function c(){}function f(k){k?(this.active=!1,this.wja(k)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.Txa=b.yY=void 0;r=a(1);a=a(0);f.prototype.wja=function(k){this.ee=k.keySessionData?k.keySessionData.map(function(l){return {id:l.id,fG:l.licenseContextId,wU:l.licenseId};}):[];this.ca=k.xid;this.K=k.movieId;};f.prototype.iw=function(){return JSON.parse(JSON.stringify({keySessionData:this.ee?this.ee.map(function(k){return {id:k.id,licenseContextId:k.fG,licenseId:k.wU};}):[],xid:this.ca,movieId:this.K}));};b.yY=f;c.prototype.create=function(){return new f();};c.prototype.load=function(k){return new f(k);};a=r.__decorate([a.R()],c);b.Txa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.W9="CachedDrmDataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iw='video/mp4; codecs="avc1.640028"';b.xI='audio/mp4; codecs="mp4a.40.5"';b.dab="DrmTraitsSymbol";},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t;function c(u,w,v,x,y,z){this.XU=u;this.is=w;this.Dc=v;this.Rd=x;this.op=y;this.wh=z;l.ao(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.wu=void 0;r=a(1);k=a(0);l=a(57);d=a(3);g=a(36);h=a(26);m=a(90);n=a(28);q=a(35);p=a(69);a=a(77);c.prototype.uy=function(){if(this.gb)return this.gb.sessionId;};c.prototype.dRb=function(u,w){return this.XU.requestMediaKeySystemAccess(u,w);};c.prototype.createMediaKeys=function(u){return u.createMediaKeys();};c.prototype.createSession=function(u,w){this.gb=u.createSession(w);};c.prototype.O1=function(){return Promise.reject(new m.og(d.M.BY));};c.prototype.eGb=function(){return ! !this.gb;};c.prototype.setServerCertificate=function(u,w){return this.is.I0(u.setServerCertificate)?u.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(u,w){return this.gb?this.gb.generateRequest(u,w[0]):Promise.reject(new m.og(d.M.BY,d.L.hI,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(u){return this.gb?this.gb.update(u[0]):Promise.reject(new m.og(d.M.nya,d.L.hI,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(u){return this.gb?this.gb.load(u):Promise.reject(new m.og(d.M.lab,d.L.hI,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var u;this.Cga=void 0;if(!this.gb)return Promise.reject(new m.og(d.M.fya,d.L.hI,void 0,"Unable to close a key session, key session is not valid"));u=Promise.resolve();this.uy() && (u=this.gb.close());this.gb=void 0;return u;};c.prototype.remove=function(){return this.gb?this.gb.remove():Promise.reject(new m.og(d.M.mab,d.L.hI,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.QG=function(){return Promise.reject(new m.og(d.M.q$,void 0,"Unable to renew a key session, not supported"));};c.prototype.VLa=function(u){if(!this.gb)throw ReferenceError("Unable to add message handler, key session is not valid");this.gb.addEventListener(f.rya,u);};c.prototype.RLa=function(u){if(!this.gb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.gb.addEventListener(f.qya,u);};c.prototype.PLa=function(u){if(!this.gb)throw ReferenceError("Unable to add error handler, key session is not valid");this.gb.addEventListener(f.pya,u);};c.prototype.elb=function(u){var w;w=this;if(!this.gb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Cga=u;this.gb.closed.then(function(){var v;return null === (v=w.Cga) || void 0 === v?void 0:v.call(w);});};c.prototype.q2a=function(u){if(!this.gb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.gb.removeEventListener(f.rya,u);};c.prototype.o2a=function(u){if(!this.gb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.gb.removeEventListener(f.qya,u);};c.prototype.m2a=function(u){if(!this.gb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.gb.removeEventListener(f.pya,u);};t=f=c;t.rya="message";t.qya="keystatuseschange";t.pya="error";t=f=r.__decorate([k.R(),r.__param(0,k.l(g.BI)),r.__param(1,k.l(h.If)),r.__param(2,k.l(q.Uh)),r.__param(3,k.l(n.Jf)),r.__param(4,k.l(p.iu)),r.__param(5,k.l(a.yu))],t);b.wu=t;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ema=b.gu=void 0;(function(a){a.b7a="usable";a.FB="expired";a.released="released";a.Y_a="output-restricted";a.BMb="output-downscaled";a.LUb="status-pending";a.dFb="internal-error";})(b.gu || (b.gu={}));b.ema=function(a){return ! !a && ! !a.keyStatuses;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SZ="TimeoutMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wr="_ANY_";b.Fya="EnricherSymbol";},function(r,b,a){var f,k,l;function c(d,g,h,m){this.Ha=d;this.k1=g;this.dn=h;this.Kn=void 0 === m?"General":m;this.Ega={};}Object.defineProperty(b,"__esModule",{value:!0});b.uI=void 0;f=a(8);k=a(330);l=a(625);c.prototype.MLa=function(d,g){this.Ega[d]=g;};c.prototype.fatal=function(d,g){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.eB(f.jj.wab,d,this.aO(d,h));};c.prototype.error=function(d,g){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.eB(f.jj.wf,d,this.aO(d,h));};c.prototype.warn=function(d,g){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.eB(f.jj.Wba,d,this.aO(d,h));};c.prototype.info=function(d,g){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.eB(f.jj.L$,d,this.aO(d,h));};c.prototype.trace=function(d,g){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.eB(f.jj.pHa,d,this.aO(d,h));};c.prototype.debug=function(d,g){for(var h=1;h < arguments.length;++h){;}!1;};c.prototype.log=function(d,g){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.debug.apply(this,[d].concat(da(h)));};c.prototype.write=function(d,g,h){for(var m=[],n=2;n < arguments.length;++n){m[n - 2]=arguments[n];}this.eB(d,g,this.aO(g,m));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Kn};};c.prototype.cha=function(d){return new c(this.Ha,this.k1,this.dn,d);};c.prototype.eB=function(d,g,h){d=new k.aaa(d,this.Kn,this.Ha.Wb(),g,h);g=aa(this.dn.dn);for(h=g.next();!h.done;h=g.next()){h=h.value;h(d);}};c.prototype.Ozb=function(d){return 0 < Object.keys(this.Ega).length?[this.Ega].concat(da(d)):d;};c.prototype.aO=function(d,g){var h;d && "null" !== d && "undefined" !== d || g.push({StackTrace:null !== (h=Error("Empty message").stack) && void 0 !== h?h:"nostack"});return l.QNa(this.k1,this.Ozb(g));};b.uI=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dba="SegmentManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Saa="PboPlaydataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BAa="IsTypeSupportedProviderFactorySymbol";b.BEa="PlatformIsTypeSupportedSymbol";},function(r,b,a){var f,k,l,d,g,h;function c(m,n,q,p,t){var u;u=k.ln.call(this,m,n,q,t) || this;u.cast=p;u.type=l.Ei.X9;m=c.ffb;u.EX[l.ce.OI]=d.Sd.SO + "; " + m;u.EX[l.ce.Gw]=d.Sd.Gw + "; " + m;m=d.Sd.P9a.find(function(w){return u.Nx(h(c.JH,w));});u.EX[l.ce.Pr]=m;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Gwa=b.gY=b.Y9=void 0;f=a(50);k=a(165);l=a(25);r=a(106);d=a(140);g=a(166);h=new r.AA().format;la(c,k.ln);c.Zga=function(m,n){return (n=c.T2a(n))?{isTypeSupported:n}:m;};c.T2a=function(m){var n;if("undefined" !== typeof m){if(m.framework && m.framework.CastReceiverContext && m.framework.CastReceiverContext.getInstance){n=m.framework.CastReceiverContext.getInstance();if(n && n.canDisplayType)return n.canDisplayType.bind(n);}if(m.framework && m.framework.platform && m.framework.platform.canDisplayType)return m.framework.platform.canDisplayType;if(m.receiver && m.receiver.platform && m.receiver.platform.canDisplayType)return m.receiver.platform.canDisplayType;if(m.__platform__ && m.__platform__.canDisplayType)return m.__platform__.canDisplayType;}};c.prototype.gw=function(m){var n,q;n=this.cast.__platform__.display && this.cast.__platform__.display.getHdcpVersion;if(this.config().f7a){q={};if(n)return (q[l.ij.xD]="1.4",q[l.ij.lu]="2.2",n().then(function(p){return p === q[m];}));n=this.FYa(m);n=h(c.JH,d.Sd.SO) + " hdcp=" + n;n=this.Nx.bind(this,n);return Promise.resolve(n());}return Promise.resolve(!1);};c.prototype.gL=function(m){return this.EX[m];};c.prototype.oL=function(){var m;m=this;return this.config().f7a?this.gw(l.ij.lu).then(function(n){return n?Promise.resolve(l.ij.lu):m.gw(l.ij.xD).then(function(q){return q?Promise.resolve(l.ij.xD):Promise.resolve(void 0);});}).then(function(n){return m.iS(n);}):Promise.resolve(void 0);};c.prototype.lF=function(){var m,n;m=k.ln.prototype.lF.call(this);n=c.KDb;m[f.O.A$]=["avc1.4D4028","width=1920; height=1080; "];m[f.O.dP]=["hev1.2.6.L150.B0","width=3840; height=2160; "];m[f.O.fP]=["hev1.2.6.L153.B0","width=3840; height=2160; "];m[f.O.eP]=["hev1.2.6.L150.B0","width=3840; height=2160; "];m[f.O.gP]=["hev1.2.6.L153.B0","width=3840; height=2160; "];m[f.O.oza]=["hev1.2.6.L90.B0",n];m[f.O.pza]=["hev1.2.6.L93.B0",n];m[f.O.qza]=["hev1.2.6.L120.B0",n];m[f.O.rza]=["hev1.2.6.L123.B0",n];m[f.O.sza]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];m[f.O.tza]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];m[f.O.TO]=["hev1.2.6.L90.B0",n];m[f.O.VO]=["hev1.2.6.L93.B0",n];m[f.O.oI]=["hev1.2.6.L120.B0",n];m[f.O.YO]=["hev1.2.6.L123.B0",n];m[f.O.$O]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];m[f.O.bP]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];m[f.O.UO]=["hev1.2.6.L90.B0",n];m[f.O.WO]=["hev1.2.6.L93.B0",n];m[f.O.XO]=["hev1.2.6.L120.B0",n];m[f.O.ZO]=["hev1.2.6.L123.B0",n];m[f.O.aP]=["hev1.2.6.L150.B0","width=3840; height=2160; " + n];m[f.O.cP]=["hev1.2.6.L153.B0","width=3840; height=2160; " + n];return m;};c.prototype.wTa=function(){return [g.Ge.QX,g.Ge.wza,g.Ge.mI,g.Ge.pD];};c.prototype.Yla=function(){k.ln.prototype.Yla.call(this);!c.T2a(this.cast) && this.Ym.push(g.Ge.Gw);};b.Y9=c;c.KDb="eotf=smpte2084";c.ffb="width=3840; height=2160; ";b.gY="CastSDKSymbol";b.Gwa="CastEmeSymbol";},function(r,b,a){var f,k,l;function c(){this.type=f.cu.Kw;}Object.defineProperty(b,"__esModule",{value:!0});b.sA=void 0;f=a(25);r=a(106);k=a(104);l=new r.AA();c.Zga=function(){return {isTypeSupported:function(d){var g;try{if(-1 == d.toLowerCase().indexOf("codec"))return pb.MSMediaKeys.isTypeSupported(d,"video/mp4");g=d.split("|");return 1 === g.length?pb.MSMediaKeys.isTypeSupported(k.Ob.uu,d):"probably" === c.kta(g[0],g[1]);}catch(h){return !1;}}};};c.N1=function(d,g,h){g=l.format(c.JH,g);if(0 === h.length)return g;h=l.format('features="{0}"',h.join());return l.format("{0}|{1}{2}",d,g,h);};c.kta=function(d,g){var h;try{h=pb.MSMediaKeys.isTypeSupportedWithFeatures?pb.MSMediaKeys.isTypeSupportedWithFeatures(d,g):"";}catch(m){h="exception";}return h;};b.sA=c;c.JH='video/mp4;codecs="{0},mp4a";';},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u$=b.jA=void 0;r=b.jA || (b.jA={});r.lfb="unknown";r.Yua="absent";r.FFa="present";r.Error="error";b.u$="ExternalDisplayLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VZ="TransportConfigSymbol";},function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(r,b,a){var k,l,d,g;function c(h,m,n){for(var q=n.next();!q.done;){if((m=h["@@transducer/step"](m,q.value)) && m["@@transducer/reduced"]){m=m["@@transducer/value"];break;}q=n.next();}return h["@@transducer/result"](m);}function f(h,m,n,q){return h["@@transducer/result"](n[q](d(h["@@transducer/step"],h),m));}k=a(683);l=a(685);d=a(686);g="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(h,m,n){"function" === typeof h && (h=l(h));if(k(n)){for(var q=0,p=n.length;q < p;){if((m=h["@@transducer/step"](m,n[q])) && m["@@transducer/reduced"]){m=m["@@transducer/value"];break;}q+=1;}return h["@@transducer/result"](m);}if("function" === typeof n["fantasy-land/reduce"])return f(h,m,n,"fantasy-land/reduce");if(null != n[g])return c(h,m,n[g]());if("function" === typeof n.next)return c(h,m,n);if("function" === typeof n.reduce)return f(h,m,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,f){return a.apply(this,arguments);};case 3:return function(c,f,k){return a.apply(this,arguments);};case 4:return function(c,f,k,l){return a.apply(this,arguments);};case 5:return function(c,f,k,l,d){return a.apply(this,arguments);};case 6:return function(c,f,k,l,d,g){return a.apply(this,arguments);};case 7:return function(c,f,k,l,d,g,h){return a.apply(this,arguments);};case 8:return function(c,f,k,l,d,g,h,m){return a.apply(this,arguments);};case 9:return function(c,f,k,l,d,g,h,m,n){return a.apply(this,arguments);};case 10:return function(c,f,k,l,d,g,h,m,n,q){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.QZ=void 0;f=a(11);c.wka=function(){var k;k=f.su && f.su.height;return k?1080 <= k?1080:720:720;};b.QZ=c;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v;function c(x,y,z,A,B,D,E,F,C,G,J,K,H,L,P,I,O,N,M){this.j=x;this.trackId=y;this.Jy=z;this.Dd=A;this.fy=B;this.Zha=D;this.Se=E;this.ym=F;this.displayName=C;this.jn=G;this.MN=J;this.variant=K;this.SM=H;this.profile=L;this.mt=P;this.pM=I;this.wyb=O;this.L4=N;this.Vs=M;this.type=d.Yh.w8;this.$t=void 0;this.Xn=!(!L || L != h.Vr.zI);this.oh={bcp47:F,trackId:y,downloadableId:A,isImageBased:this.Xn};this.log=g.jh(x,"TimedTextTrack");this.state=v.iZ;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.WD=void 0;f=a(1);k=a(72);l=a(13);d=a(81);g=a(7);h=a(50);m=a(21);n=a(18);q=a(994);p=a(17);t=a(3);u=a(995);w=a(998);(function(x){x[x.iZ=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.wD=2]="LOADED";x[x.qP=3]="LOAD_FAILED";})(v || (v={}));c.prototype.n4=function(){var x;x=this;if(this.j.state.value === p.Kb.CLOSED || this.j.state.value === p.Kb.CLOSING)return Promise.reject({W:!1});if(this.Xn)return this.XEb();this.UQa || (this.UQa=this.WQa());return this.UQa.then(function(y){return x.YEb(y);});};c.prototype.getState=function(){return this.state;};c.prototype.Ny=function(){return this.pM;};c.prototype.dC=function(){return this.wyb;};c.prototype.Wq=function(x,y){var z;try{return null === (z=this.fta) || void 0 === z?void 0:z.Wq(x,y);}catch(A){this.log.error("error in getSubtitlesCount",A,{start:x,end:y,isImageBased:this.Xn});}};c.prototype.tCb=function(){var x,y,z;if(!n.Kc(this.X))try{z=null === (y=null === (x=this.fta) || void 0 === x?void 0:x.CF(0)) || void 0 === y?void 0:y[0];this.X=null === z || void 0 === z?void 0:z.displayTime;}catch(A){this.log.error("exception in getStartPts",A);}return this.X;};c.prototype.S7=function(x){return this.j.state.value === p.Kb.CLOSING || this.j.state.value === p.Kb.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.Sc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.PPa=function(x){var y,z,A;y=this;z=g.jh(this.j,"TimedTextTrack");z.warn=z.trace.bind(z);z.info=z.debug.bind(z);z=q.QPa(this.j,z,this.request,this);A=new (l.config.iYb && !this.Xn?u.RAa:w.default)(z,x);A.on("ready",function(){y.fta=A;});return A;};c.prototype.XEb=function(){var x,y,z,A,B,D,E;x=this;if(!this.zWa){this.state=v.LOADING;y={profile:"nflx-cmisc",url:"",oNa:!1,joa:this.mt.offset,uZa:this.mt.length,pd:this.j.mediaTime.value || 0,bufferSize:l.config.wEb,D7:{xa:this.j.qT()}};z=(this.Zha || []).filter(function(F){return (F.id in x.fy);}).sort(function(F,C){return F.Se - C.Se;}).map(function(F){return F.id;});A=0;B={};D=!0;E=function(F,C){var G;if(n.Kc(F)){if(D || x.S7(x.Os(x.Es,"","image"))){D=!1;x.mt.url=x.fy[x.Es];y.url=x.mt.url;B[F]=(B[F] || 0) + 1;G=x.PPa(y);G.on("ready",function(){C({W:!0,track:x});});G.on("error",function(J){var K;J=Object.assign({W:!1},J);K=x.Os(x.Es,x.mt.url,"image");K.details={midxoffset:x.mt.offset,midxsize:x.mt.length};K.errorstring=J.errorString;B[F] <= l.config.U5a?(x.M2(K,!0,"retry with current cdn"),x.tfa(B[F]).then(function(H){x.log.trace("retry timed text download after " + H,x.Os(x.Es,"","image"));E(x.Es,C);})):(x.Es=z[A++],x.Es?(x.M2(K,!0,"retry with next cdn"),x.tfa(B[F]).then(function(H){x.log.trace("retry timed text download after " + H,x.Os(x.Es,"","image"));E(x.Es,C);})):(x.M2(K,!1,"all cdns tried"),C({W:!1,mKb:"all cdns failed for image subs",track:x})));});G.start();}else C({W:!1,aborted:!0});}else (C({W:!1,mKb:"cdnId is not defined for image subs downloadUrl"}),x.M2(x.Os(0,"","image"),!1,"cdnId is undefined"));};this.Es=z[A++];this.zWa=new Promise(function(F,C){E(x.Es,function(G){G.W?(x.log.info("Loaded image subtitle manager"),x.state=v.wD,F(G)):(x.log.error("Unable to load image subtitles manager",G),x.state=v.qP,C(G));});});}return this.zWa;};c.prototype.YEb=function(x){var y,z;y=this;z=this.j.Yz;m.hb(z);return new Promise(function(A,B){var D;D=y.PPa({profile:y.profile,xml:x,kk:l.config.wta,preferences:l.config.v8,pd:y.j.mediaTime.value || 0,oNa:!1,videoSize:z});D.on("ready",function(){A(D);}).on("error",function(E){B({W:!1,error:E});}).start();}).then(function(){y.state=v.wD;return {W:!0,track:y};}).catch(function(A){y.log.error("Unable to parse timed text track",t.Sr(A),y.oh,{url:A.url});y.state=v.qP;A.reason="parseerror";A.track=y;throw A;});};c.prototype.M2=function(x,y,z){x=Object.assign({},x,{v9b:y,status:z});this.j.fireEvent(p.Z.NN,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,y){var z;z=this;this.log.trace("Downloading",x);x={url:x.url,offset:x.offset,length:x.size,$t:this.$t,responseType:k.XT,headers:{},pc:this.Jja(this.Es)};this.j.g4.download(x,function(A){z.log.trace("imgsub: request status " + A.W);A.W?y(null,new Uint8Array(A.content)):y({oa:A.oa,Ze:A.Ze});});};c.prototype.Os=function(x,y,z){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.Dd,subtitletype:z,bcp47:this.ym,trackId:this.trackId,cdnCount:Object.keys(this.fy).length,isImageBased:this.Xn};};c.prototype.Jja=function(x){return (this.Zha || []).find(function(y){return y.id === x;});};c.prototype.WQa=function(){var A,B;function x(D){return f.__awaiter(A,void 0,void 0,function F(){var C,G,J;G=this;return Ha(F,function(K){C=z();J=G.Os(D.pc.id,D.url,"text");J.errorstring=D.reason;return C && G.S7(J)?K.return(G.tfa(B[C.id]).then(y)):K.return(Promise.reject({W:!1,aborted:!0}));});});}function y(){return f.__awaiter(A,void 0,void 0,function E(){var F,C,G;C=this;return Ha(E,function(J){G=(F=z()) && C.fy[F.id];return F && G?(B[F.id]=(B[F.id] || 0) + 1,J.return(C.tvb(G,F).catch(x))):J.return(Promise.reject({}));});});}function z(){return (A.Zha || []).find(function(D){return ! !((B[D.id] || 0) < l.config.U5a && A.fy[D.id]);});}A=this;this.state=v.LOADING;B={};return y();};c.prototype.tfa=function(x){return new Promise(function(y){var z;z=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(z);},z);});};c.prototype.tvb=function(x,y){var z;z=this;this.log.trace("Downloading",y && ({pc:y.id}),this.Os(y.id,x,"text"));return new Promise(function(A,B){var D;D={responseType:k.zla,url:x,track:z,pc:y,qF:"tt-" + z.ym};z.j.g4.download(D,function(E){E.W?A(E.content):(E.reason="downloadfailed",E.url=D.url,E.track=z,E.pc=y,B(E));});});};b.WD=c;c.yA=v;},function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.$Ub=b.U1a=b.Mqa=void 0;b.Mqa=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.U1a=a;b.$Ub=function(c){var f,k,l;return "IStreamable: " + c.identifier + " [" + c.mediaType + "] " + c.groupId + " p:" + (JSON.stringify(c.ph) + " sp:" + c.Fz + " pssp:") + (c.KV + " state:") + (c.kf + " path-complete:" + (null === (f=c.kz) || void 0 === f?void 0:f.V) + " streaming:") + ((null === (k=c.Uj) || void 0 === k?void 0:k.V) + " current:" + (null === (l=c.vd) || void 0 === l?void 0:l.V));};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sJb=b.H5=b.ff=void 0;b.ff=[0,1];b.H5=function(a,c){return a || c?c?[1]:[0]:[0,1];};b.sJb=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Aaa=void 0;r=(function(){function a(c,f,k,l){var d;d=this;this.properties=c;this.transform=f;this.TR=k;this.state=l;this.kpa=function(){var g,h;g=d.state;h=d.properties.map(function(m){return m.value;});d.state=d.transform(h);(d.MWa(d.state) && d.MWa(g)?d.state.equal(g):g === d.state) || d.TR(d.state);};c.forEach(function(g){return g.addListener(d.kpa);});this.kpa();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(f){return f.removeListener(c.kpa);});};a.prototype.MWa=function(c){return void 0 !== c.equal;};return a;})();b.Aaa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Hk=void 0;r=b.Hk || (b.Hk={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.ak=2]="STREAMING";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.YD=void 0;r=(function(){function a(c){this.cLa=c;}Object.defineProperties(a.prototype,{GL:{get:function(){return this.Dhb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.cLa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Dra:{get:function(){var c;c=this;return this.cLa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Dhb=!0;};a.prototype.gpa=function(c,f){var k;k=this;this.result.then(function(l){k.GL?f && f(l):c(l);});return this;};return a;})();b.YD=r;},function(r,b){function a(c){return c && "object" === typeof c?Array.isArray(c)?c.map(a):Object.keys(c).reduce(function(f,k){f[k]=a(c[k]);return f;},{}):c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f){f && (this.EW(f.Qe),this.zsa(f.Zd),this.Y3a(f.xa));}c.prototype.EW=function(f){this.Qe=f;return this;};c.prototype.zsa=function(f){this.Zd=f;return this;};c.prototype.U3a=function(f){this.Fd=f;return this;};c.prototype.Gn=function(f,k){this.xa || (this.xa={});this.xa[f]=a(k);return this;};c.prototype.Y3a=function(f){var k;k=this;this.xa={};Object.keys(f).forEach(function(l){return k.Gn(l,f[l]);});};c.prototype.Aj=function(){var f;if(!this.xa)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Qe)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.xa[this.Qe])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");f={Qe:this.Qe,xa:this.xa};this.Zd && (f.Zd=this.Zd);this.Fd && (f.Fd=this.Fd);return f;};return c;})();b.RD=r;},function(r,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bI=void 0;r=a(2);c=a(173);f=r.__importDefault(a(228));k=r.__importDefault(a(804));l=r.__importDefault(a(146));d=a(6);b.bI=(function(){function h(m,n){var q;q=this;this.mh=new f.default(m,n);this.Om=new k.default(m);this.Hb=new l.default(this.Om,this.mh,m);c.ww.rqb(m);m.K6 && setInterval(function(){q.mh.save();q.Om.save();},m.K6);}h.BUa=function(m,n){void 0 === g?(h.config=m,h.ZC=n,g=new h(m,n)):(d.assert(h.config === m),d.assert(h.ZC === n));return g;};h.reset=function(){h.config=void 0;g=h.ZC=void 0;};return h;})();},function(r,b,a){var d;function c(g,h,m){this.FK=!1 === g;this.CK=g || .01;this.T$=void 0 === h?25:h;this.zwa=void 0 === m?1.1:m;this.hi=new d(f);this.reset();}function f(g,h){return g.Tf > h.Tf?1:g.Tf < h.Tf?-1:0;}function k(g,h){return g.Gv - h.Gv;}function l(g){this.config=g || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?g.CK:!1);this.Sub=this.config.ratio || .9;this.Tub=this.config.$8b || 1E3;this.a6=0;}d=a(786).oeb;c.prototype.reset=function(){this.hi.clear();this.Vma=this.n=0;};c.prototype.size=function(){return this.hi.size;};c.prototype.ro=function(g){var h;h=[];g?(this.t_(!0),this.hi.We(function(m){h.push(m);})):this.hi.We(function(m){h.push({Tf:m.Tf,n:m.n});});return h;};c.prototype.summary=function(){return [(this.FK?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Ui(0),"Q1  = " + this.Ui(.25),"Q2  = " + this.Ui(.5),"Q3  = " + this.Ui(.75),"max = " + this.Ui(1)].join("\n");};c.prototype.push=function(g,h){h=h || 1;g=Array.isArray(g)?g:[g];for(var m=0;m < g.length;m++){this.hJa(g[m],h);}};c.prototype.yqa=function(g){g=Array.isArray(g)?g:[g];for(var h=0;h < g.length;h++){this.hJa(g[h].Tf,g[h].n);}};c.prototype.t_=function(g){var h;if(!(this.n === this.Vma || !g && this.zwa && this.zwa > this.n / this.Vma)){h=0;this.hi.We(function(m){m.Gv=h + m.n / 2;h=m.uK=h + m.n;});this.n=this.Vma=h;}};c.prototype.$xb=function(g){var h,m;if(0 === this.size())return null;h=this.hi.lowerBound({Tf:g});m=null === h.data()?h.LG():h.data();return m.Tf === g || this.FK?m:(h=h.LG()) && Math.abs(h.Tf - g) < Math.abs(m.Tf - g)?h:m;};c.prototype.EJ=function(g,h,m){this.hi.Gp({Tf:g,n:h,uK:m});this.n+=h;};c.prototype.a_=function(g,h,m){h !== g.Tf && (g.Tf+=m * (h - g.Tf) / (g.n + m));g.uK+=m;g.Gv+=m / 2;g.n+=m;this.n+=m;};c.prototype.hJa=function(g,h){var m,n,q;m=this.hi.min();n=this.hi.max();q=this.$xb(g);q && q.Tf === g?this.a_(q,g,h):q === m?this.EJ(g,h,0):q === n?this.EJ(g,h,this.n):this.FK?this.EJ(g,h,q.uK):(m=q.Gv / this.n,Math.floor(4 * this.n * this.CK * m * (1 - m)) - q.n >= h?this.a_(q,g,h):this.EJ(g,h,q.uK));this.t_(!1);!this.FK && this.T$ && this.size() > this.T$ / this.CK && this.Tx();};c.prototype.Mnb=function(g){var h,m;this.hi.om=k;h=this.hi.upperBound({Gv:g});this.hi.om=f;m=h.LG();g=m && m.Gv === g?m:h.next();return [m,g];};c.prototype.Ui=function(g){var h;h=(Array.isArray(g)?g:[g]).map(this.ljb,this);return Array.isArray(g)?h:h[0];};c.prototype.ljb=function(g){var h,m;if(0 !== this.size()){this.t_(!0);this.hi.min();this.hi.max();g*=this.n;h=this.Mnb(g);m=h[0];h=h[1];return h === m || null === m || null === h?(m || h).Tf:this.FK?g <= m.uK?m.Tf:h.Tf:m.Tf + (g - m.Gv) * (h.Tf - m.Tf) / (h.Gv - m.Gv);}};c.prototype.Tx=function(){var g;if(!this.aPa){g=this.ro();this.reset();for(this.aPa=!0;0 < g.length;){this.yqa(g.splice(Math.floor(Math.random() * g.length),1)[0]);}this.t_(!0);this.aPa=!1;}};l.prototype=Object.create(c.prototype);l.prototype.constructor=l;l.prototype.push=function(g){c.prototype.push.call(this,g);this.upb();};l.prototype.EJ=function(g,h,m){this.a6+=1;c.prototype.EJ.call(this,g,h,m);};l.prototype.a_=function(g,h,m){1 === g.n && --this.a6;c.prototype.a_.call(this,g,h,m);};l.prototype.upb=function(){!("auto" !== this.mode || this.size() < this.Tub) && this.a6 / this.size() > this.Sub && (this.mode="cont",this.FK=!1,this.CK=this.config.CK || .01,this.Tx());};r.exports={TDigest:c,Digest:l};},function(r,b,a){var d,g,h,m,n,q;function c(p){var t;t=p.Oca;this.I=p;this.qj=g.yf.HAVE_NOTHING;this.mJ=p.mJ;p=new n(this.mJ);this.eR=p.create("throughput-location-history",t);this.qx=p.create("respconn-location-history",t);this.ex=p.create("respconn-location-history",t);this.z0=p.create("throughput-tdigest-history",t);this.P_=p.create("throughput-iqr-history",t);this.jb=null;}function f(p,t,u,w,v){this.KA=new c(v);this.hs=[];this.cib=h.time.ba() - Date.now() % 864E5;this.cx=null;this.I=v;for(p=0;p < w;++p){this.hs.push(new c(v));}}function k(p,t,u){return d.has(p,t)?p[t]:p[t]=u;}function l(p,t){var u;this.I=p;this.sLa=t;this.Vwb();this.yQ=new c(this.I);this.HQ();u=p.vha;u && (u={confidence:g.yf.nI,Oa:{Ca:parseInt(u,10),Ai:0},Yi:{Ca:0,Ai:0},Xs:{Ca:0,Ai:0}},this.get=function(){return u;});}d=a(10);g=a(27).default;b=a(9);h=a(5).default;m=b.hza;n=a(386).Zya;new h.Console("ASEJS_LOCATION_HISTORY","media|asejs");q={confidence:g.yf.HAVE_NOTHING};c.prototype.PE=function(p,t){this.qj=t;this.eR.add(p);this.z0.add(p);this.jb=h.time.ba();};c.prototype.OH=function(p,t){this.P_.set(p,t);};c.prototype.zx=function(p){this.qx.add(p);};c.prototype.xx=function(p){this.ex.add(p);};c.prototype.getState=function(){var p,t,u,w,v,x;p=this.eR.getState();t=this.qx.getState();u=this.ex.getState();w=this.P_.getState();v=this.z0.getState();if(d.tb(p) && d.tb(t) && d.tb(u))return null;x={c:this.qj,t:h.time.uoa(this.jb)};d.tb(p) || (x.tp=p);d.tb(t) || (x.rt=t);d.tb(u) || (x.hrt=u);d.tb(w) || (x.iqr=w);d.tb(v) || (x.td=v);return x;};c.prototype.Fe=function(p){var t;t=h.time.now();if(!(p && d.has(p,"c") && d.has(p,"t") && d.has(p,"tp") && d.isFinite(p.c) && d.isFinite(p.t)) || 0 > p.c || p.c > g.yf.nI || p.t > t || !this.eR.Fe(p.tp))return (this.qj=g.yf.HAVE_NOTHING,this.cx=this.jb=null,this.eR.Fe(null),this.qx.Fe(null),this.ex.Fe(null),!1);this.qj=p.c;this.jb=h.time.Poa(p.t);this.qx.Fe(d.has(p,"rt")?p.rt:null);this.ex.Fe(d.has(p,"hrt")?p.hrt:null);d.has(p,"iqr") && this.P_.Fe(p.iqr);d.has(p,"td") && this.z0.Fe(p.td);return !0;};c.prototype.get=function(){var p,t,u,w,v,x;p=this.I;if(d.tb(this.jb))return q;t=(h.time.ba() - this.jb) / 1E3;t > p.whb?this.qj=g.yf.HAVE_NOTHING:t > p.Ygb && (this.qj=Math.min(this.qj,g.yf.kA));p=this.eR.get();u=this.qx.get();w=this.ex.get();v=this.P_.get();x=this.z0.get();t={Dl:t,confidence:this.qj,Oa:p,Yi:u,Xs:w,Ys:v,Vj:x};p && (t.b9b=m.prototype.cqa.bind(p));u && (t.q8b=m.prototype.cqa.bind(u));w && (t.m6b=m.prototype.cqa.bind(w));return t;};c.prototype.time=function(){return this.jb;};f.prototype.Hg=function(){return ((h.time.ba() - this.cib) / 1E3 / 3600 / (24 / this.hs.length) | 0) % this.hs.length;};f.prototype.getState=function(){var p;p={g:this.KA.getState(),h:this.hs.map(function(t){return t.getState();})};d.tb(this.cx) || (p.f=h.time.uoa(this.cx));return p;};f.prototype.Fe=function(p){var t,u;if(!this.KA.Fe(p.g))return !1;t=this.hs.length;u=!1;this.hs.forEach(function(w,v){u=!w.Fe(p.h[v * p.h.length / t | 0]) || u;});this.cx=d.has(p,"f")?h.time.Poa(p.f):null;return u;};f.prototype.PE=function(p,t){this.KA.PE(p,t);this.hs[this.Hg()].PE(p,t);this.cx=null;};f.prototype.OH=function(p,t){this.KA.OH(p,t);this.hs[this.Hg()].OH(p,t);};f.prototype.zx=function(p){this.KA.zx(p);this.hs[this.Hg()].zx(p);};f.prototype.xx=function(p){this.KA.xx(p);this.hs[this.Hg()].xx(p);};f.prototype.fail=function(p){this.cx=p;};f.prototype.get=function(){var p,t;if(!d.tb(this.cx)){if((h.time.ba() - this.cx) / 1E3 < this.I.Xgb)return {confidence:g.yf.HAVE_NOTHING,Is:!0};this.cx=null;}p=this.hs[this.Hg()].get();t=this.KA.get();p=p.confidence >= t.confidence?p:t;p.Is=!1;return p;};f.prototype.time=function(){return this.KA.time();};l.prototype.CJa=function(p,t){var u;u=this.I;p=k(this.CQ,p,{});return k(p,t,new f(u.QJa || 14400,u.PJa || 100,u.OJa || 100,u.JKa || 4,u));};l.prototype.HQ=function(){var p,t;p=h.storage.get("lh");t=h.storage.get("gh");p && this.Xda(p);t && this.fkb(t);};l.prototype.Wca=function(){var p;p={};d.We(this.CQ,function(t,u){d.We(t,function(w,v){k(p,u,{})[v]=w.getState();},this);},this);return p;};l.prototype.fkb=function(p){this.yQ.Fe(p);};l.prototype.Xda=function(p){var t,u;t=null;u=this.I;d.We(p,function(w,v){d.We(w,function(x,y){var z;z=new f(u.QJa || 14400,u.PJa || 100,u.OJa || 100,u.JKa || 4,u);z.Fe(x)?(k(this.CQ,v,{})[y]=z,t=!0):d.tb(t) && (t=!1);},this);},this);return d.tb(t)?!0:t;};l.prototype.save=function(){var p;p=this.Wca();h.storage.set("lh",p);h.storage.set("gh",this.yQ.getState());this.sLa && this.sLa.osa(this.yQ.getState());};l.prototype.Vwb=function(){this.CQ={};this.jJ=this.dJa="";this.wn=null;};l.prototype.vN=function(p){this.dJa=p;this.wn=null;};l.prototype.P7=function(p){this.jJ=p;this.wn=null;};l.prototype.K_=function(){d.tb(this.wn) && (this.wn=this.CJa(this.dJa,this.jJ));return this.wn;};l.prototype.PE=function(p,t){this.K_().PE(p,t);this.yQ.PE(p,t);};l.prototype.OH=function(p,t){p && p.kl && p.Mj && p.ll && (this.K_().OH(p,t),this.yQ.OH(p,t));};l.prototype.zx=function(p){this.K_().zx(p);};l.prototype.xx=function(p){this.K_().xx(p);};l.prototype.fail=function(p,t){this.CJa(p,this.jJ).fail(t);};l.prototype.get=function(p,t){var u,w,v,x;p=(p=this.CQ[p])?p[this.jJ]:null;u=null;if(p && (u=p.get(),u.confidence > g.yf.HAVE_NOTHING))return u;if(!1 === t)return q;w=u=null;v=!1;x=null;d.We(this.CQ,function(y){d.We(y,function(z,A){var B;if(!v || A == this.jJ){B=z.get();B && (!w || w <= B.confidence) && (!x || w < B.confidence || x < z.time()) && (w=B.confidence,v=A == this.jJ,x=z.time(),u=B);}},this);},this);return u?u:q;};r.exports=l;},function(r,b,a){var l;function c(d){this.RJ=d;this.reset();}function f(d){this.xj=new c(d);this.ye=0;this.Cc=null;}function k(d,g){this.RJ=d;this.lKa=g;this.reset();}l=a(10);c.prototype.RKa=function(d,g){this.jb+=d;this.rj+=d;this.Ic+=g;this.Bn.push({d:d,b:g});};c.prototype.TQ=function(){var d;for(;this.rj > this.RJ;){d=this.Bn.shift();this.Ic-=d.b;this.rj-=d.d;}};c.prototype.reset=function(){this.Bn=[];this.jb=null;this.rj=this.Ic=0;};c.prototype.setInterval=function(d){this.RJ=d;this.TQ();};c.prototype.start=function(d){l.tb(this.jb) && (this.jb=d);};c.prototype.add=function(d,g,h){l.tb(this.jb) && (this.jb=g);g > this.jb && this.RKa(g - this.jb,0);this.RKa(h > this.jb?h - this.jb:0,d);this.TQ();};c.prototype.get=function(){return {Ca:Math.floor(8 * this.Ic / this.rj),Ai:0};};f.prototype.reset=function(){this.xj.reset();this.ye=0;this.Cc=null;};f.prototype.add=function(d,g,h){!l.tb(this.Cc) && h > this.Cc && (g > this.Cc && (this.ye+=g - this.Cc),this.Cc=null);this.xj.add(d,g - this.ye,h - this.ye);};f.prototype.start=function(d){!l.tb(this.Cc) && d > this.Cc && (this.ye+=d - this.Cc,this.Cc=null);this.xj.start(d - this.ye);};f.prototype.stop=function(d){this.Cc=l.tb(this.Cc)?d:Math.min(d,this.Cc);};f.prototype.get=function(){return this.xj.get();};f.prototype.setInterval=function(d){this.xj.setInterval(d);};k.prototype.reset=function(){this.Bn=[];this.Ic=this.rj=0;};k.prototype.add=function(d,g,h,m){void 0 !== m && !0 === m && (g=h - g,this.rj+=g,this.Ic+=d,this.Bn.push({d:g,b:d}),this.TQ());};k.prototype.TQ=function(){var d;for(;this.rj > this.RJ || this.Bn.length > this.lKa;){d=this.Bn.shift();this.Ic-=d.b;this.rj-=d.d;}};k.prototype.start=function(){};k.prototype.stop=function(){};k.prototype.get=function(){return {Ca:Math.floor(8 * this.Ic / this.rj),Ai:0};};k.prototype.setInterval=function(d,g){this.RJ=d;this.lKa=g;this.TQ();};r.exports={y_b:c,Y$a:f,qfb:k};},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t;Object.defineProperties(b,{__esModule:{value:!0}});b.I9=void 0;c=a(2);f=a(16);k=a(816);r=a(96);l=a(817);d=a(843);g=a(846);h=a(243);m=a(15);n=c.__importDefault(a(5));q=a(6);p=a(9);a(172);t=(function(){return function(u){var w;w=u.dXa;u=u.gma;this.IU=this.replace=w;this.Mg=u;};})();a=(function(u){function w(v,x){var y,z,A,B,D,E,F,C,G,J,K,H,L,P,I,O,N,M,Q,S,fa;y=x.Fb;z=x.sa;A=x.io;B=x.Fd;D=x.iZa;E=x.Ji;F=x.config;C=x.NVa;G=x.eN;J=x.b3;K=x.Hb;H=x.mh;L=x.gV;P=x.ORa;x=x.oH;I=u.call(this) || this;I.aa=v;I.Z3=!1;I.SJa=[];I.jKa=[];I.zh=[];I.zB=[];I.qm=!1;I.Fb=y;I.KQ=z;I.io=A;I.Zb=function(qa){return 0 <= B.indexOf(qa);};I.config=F;I.console=new n.default.Console("ASEJS","media|asejs","<" + String(I.aa) + ">");C && (v=C.LB,I.Df=new g.Hza(I,I.console,I.config,C.Qm,C.IT,v,C.E4,C.nf,C.ql,C.Ng,C.XB),I.LB=v);I.WB=new f.EventEmitter();I.b3=J;I.Hb=K;I.gV=L;I.Ql=new h.Z$(I.sa,K,H,I.config,null === P || void 0 === P?void 0:P.Qm);P && (C=P.Xq,J=P.Lm,K=P.ML,I.Qo=P.rh,I.ML=K,I.Lm=J,I.Xq=C,I.Kca=new d.Hya(I.Ql,I.config,I.fDb.bind(I),I.eDb.bind(I)));I.eN=G;I.oH=x;I.bf=new t(D);I.Ji=E;O=[[],[]];N=[{},{}];M=[0,0];Q=!1;S=I.Zb(0);fa=I.Zb(1);["audio_tracks","video_tracks"].forEach(function(qa,xa){var ua;ua=0 === xa;ua && !S || 1 === xa && !fa || I.sa[qa].forEach(function(X,sa){X=new l.Dva({N:I,nC:X,mediaType:xa,Mg:D.gma,WN:sa,ME:sa + (ua?I.sa.video_tracks.length:0)},I.config,I.console);O[xa].push(X);N[xa]=c.__assign(c.__assign({},N[xa]),X.LF());X.maxBitrate > M[X.mediaType] && (M[X.mediaType]=X.maxBitrate);Q=Q || X.ST;});});I.YI=O;I.VUb=N;I.Fv=M;I.ST=Q;return I;}c.__extends(w,u);Object.defineProperties(w.prototype,{sa:{get:function(){return this.KQ;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{HU:{get:function(){var v;return !(null === (v=this.YI[1][0]) || void 0 === v || !v.HU);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Pg:{get:function(){return this.SJa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{QIb:{get:function(){return this.jKa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{K:{get:function(){return this.sa.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ln:{get:function(){return this.sa.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{duration:{get:function(){return this.sa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Gj:{get:function(){return this.qm;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{qp:{get:function(){q.assert(this.Kca,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Kca;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{RK:{get:function(){return this.qp.events;},enumerable:!1,configurable:!0}});w.prototype.zb=function(){this.close();this.Lc();};w.prototype.close=function(){var v;this.zB=[];null === (v=this.Kca) || void 0 === v?void 0:v.zb();this.Ql.zb();this.qm=!0;};w.prototype.Lc=function(){this.Df && this.Df.Lc();};w.prototype.TXb=function(v){var x,y,z,A,B,D;x=this;y=v.sa;z=v.Fd;A=void 0 === z?m.ff:z;q.assert(v.Ji === this.Ji,"Updating Viewable clearplay not supported");m.ff.forEach(function(E){q.assert(x.Zb(E) === 0 <= A.indexOf(E),"Updating Viewable media types not supported");});q.assert(y.movieId === this.sa.movieId,"Changing Viewable manifest movieId unsupported");B=this.Zb(0);D=this.Zb(1);["audio_tracks","video_tracks"].forEach(function(E,F){var C;if((0 !== F || B) && (1 !== F || D)){E=x.sa[E];C=x.YI[F];q.assert(E.length === C.length,"Changing Viewable tracks unsupported");E.forEach(function(G,J){var K;J=C[J];q.assert(G.track_id === J.trackId);G=G.streams;K=Object.keys(J.LF());q.assert(G.length === K.length);G.forEach(function(H){q.assert(-1 !== K.indexOf(H.downloadable_id),"Changing Viewable track streams unsupported");});});}});this.KQ=y;this.Ql.VJ(this.sa);};w.prototype.QC=function(v){var x,y,z;x=v.Nv;y=v.ca;z=v.Rq;v=v.Pm;x && y?(this.U7=new k.KGa(x,{ca:String(y),Rq:! !z,fJb:this.config.lZ.mx,Snb:this.config.lZ.lv},v),this.qp.QC(this.U7)):v("SideChannel: pbcid/xid is missing.");};w.prototype.Ky=function(){return void 0 !== this.Ln;};w.prototype.getTracks=function(v){return this.YI[v];};w.prototype.getTrackById=function(v){var x;this.YI.some(function(y){return y.some(function(z){if(z.trackId === v)return (x=z,!0);});});x || this.console.warn("getTrackById not found:",v,"length:",this.YI.length);return x;};w.prototype.mVa=function(v,x){var y;y=this.YI[v];if(0 > x || x >= y.length)this.console.warn("getTrackByIndex out of range:",x,"length:",y.length,"mediaType:",v);else return y[x];};w.prototype.tv=function(v,x){return (v=this.LF(v)) && v[x];};w.prototype.LF=function(v){return this.VUb[v];};w.prototype.vXb=function(v,x){this.SJa[v]=x;x.stream.Y && this.Q6a(v,x.stream.Y);};w.prototype.oGb=function(v){var x,y;if(void 0 === v.Y6 || void 0 === v.lqa){x=this.Ql.fka().filter(function(z){return void 0 !== z.streams[v.Ma];})[0];y=x.children.filter(function(z){return z.urls.some(function(A){return A.stream.id === v.Ma;});})[0];v.Y6=x.id;v.lqa=y.id;}return {Cma:v.location === v.Y6,pGb:v.dd === v.lqa};};w.prototype.tsa=function(v,x,y){void 0 !== x && void 0 !== y && (this.x2a(v.mediaType,x),v.tsa(x,y));};w.prototype.x2a=function(v,x){var y,z;z=this.config.Coa;("location" === z || "video_location" === z && 1 === v) && this.Hb.vN(x);null === (y=this.b3) || void 0 === y?void 0:y.call(this).MLb(v,x);};w.prototype.rh=function(v,x,y,z,A){q.assert(this.Qo,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Qo(v,x,y,z,A);};w.prototype.uo=function(){var v,x,y;v=this;x=[];if(this.Gj)return (this.console.error("updateRequestUrls, closed Viewable:",this.aa),!1);m.ff.forEach(function(z){v.Zb(z) && v.MXb(z) && (z=v.AXb(z),0 < z.length && x.push.apply(x,z));});y=this.wXb();0 < y.length && x.push.apply(x,y);return this.pRb(x);};w.prototype.Fm=function(v,x){var y;y=this.getTracks(1)[0];q.assert(y);if(y.CL)return y.Fm(v,x);};w.prototype.MXb=function(v){var x,y,B,D;if(this.Gj)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1);if(!this.Zb(v))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",v),!1);y=!0;try{for(var z=c.__values(this.zh),A=z.next();!A.done;A=z.next()){B=A.value.Sa(v);q.assert(B);D=this.Ql.tX(this.aa,B.track.Qd);D || B.Gb("location selector failed to update streamList");y=y && D;}}catch(F){var E;E={error:F};}finally{try{A && !A.done && (x=z.return) && x.call(z);}finally{if(E)throw E.error;}}return y;};w.prototype.wXb=function(){q.assert(this.Df,"Headers not available on old architecture prefetch viewables.");return this.Df.uo();};w.prototype.AXb=function(v){var x,y,B;y=[];if(this.Gj)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),y);if(!this.Zb(v))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",v),y);try{for(var z=c.__values(this.zh),A=z.next();!A.done;A=z.next()){B=A.value.uo(v);B.length && y.push.apply(y,B);}}catch(E){var D;D={error:E};}finally{try{A && !A.done && (x=z.return) && x.call(z);}finally{if(D)throw D.error;}}return y;};w.prototype.pRb=function(v){var x,y,z;x=this;if(0 === v.length)return !0;y=0;z=[];v.forEach(function(A){var B;if(A.Pc){B=A.N;B.Fb > x.Fb && (z.push({N:B,track:A.stream.track}),++y);}});z.forEach(function(A){var B;B=A.track;A.N.dN([0 === B.mediaType?B:void 0,1 === B.mediaType?B:void 0],void 0,B.mediaType);});return y === v.length;};w.prototype.Lj=function(){var v;v=this;this.Ql.Lj();this.qp.Lj();this.U7 && (q.assert(this.LB),m.ff.forEach(function(x){x=v.LB(x);v.U7.bsa("rebuffer",x.Uma);}));};w.prototype.epa=function(){this.qp.epa();};w.prototype.gua=function(v,x){q.assert(this.Df,"Headers not available on old architecture prefetch viewables.");this.Df.gua(v,x);};w.prototype.T3=function(){q.assert(this.Df,"Headers not available on old architecture prefetch viewables..");return this.Df.T3();};w.prototype.xga=function(){q.assert(this.Df,"Headers not available on old architecture prefetch viewables.");this.Df.xga();};w.prototype.uN=function(v){q.assert(this.Df,"Headers not available on old architecture prefetch viewables.");this.Df.uN(v);};w.prototype.Ota=function(){q.assert(this.Df,"Headers not available on old architecture prefetch viewables.");return this.Df.Ota();};w.prototype.qk=function(v,x){q.assert(this.Df,"Headers not available on old architecture prefetch viewables.");return this.Df.qk(v,x);};w.prototype.CPa=function(v,x,y){q.assert(this.Df,"Headers not available on old architecture prefetch viewables.");this.Df.I8(v,x,y,!0);};w.prototype.J0=function(v,x,y){q.assert(this.Df,"Headers not available on old architecture prefetch viewables.");return this.Df.J0(v,x,! !y);};w.prototype.QSb=function(v,x){this.zB.push({stream:v,wCb:x});};w.prototype.yQb=function(){this.zB=[];};w.prototype.EQb=function(v){this.zB=this.zB.filter(function(x){return x.stream !== v;});};w.prototype.DQb=function(v){this.zB=this.zB.filter(function(x){return x !== v;});};w.prototype.tL=function(){var v;v=this;q.assert(this.Lm,"Streamables not available on old architecture prefetch viewables.");return this.Lm()?[]:this.zB.map(function(x){var y,z;y=x.stream;z=x.wCb;z=z();return {identifier:y.aa + "-" + y.mediaType + "-" + y.bitrate,mediaType:y.mediaType,ph:z.ph,kf:z.kf,kz:z.kz,Uj:z.Uj,vd:z.vd,jqa:p.S.ab,iqa:p.S.Ey,KV:1,Fz:1,YK:p.S.ab,groupId:"" + v.aa,ZF:!0,vv:!1,oXa:function(){return {result:!0};},sXa:function(){if(y.IH())return (v.EQb(y),{Hp:!0,reason:"success"});v.DQb(x);return {Hp:!1,reason:"viewableTryIssueHeaderRequest"};}};});};w.prototype.IH=function(v,x){q.assert(this.Df,"Headers not available on old architecture prefetch viewables.");return this.Df.IH(v,x);};w.prototype.lR=function(v,x){q.assert(this.Df,"Headers not available on old architecture prefetch viewables.");return this.Df.lR(v,x);};w.prototype.Cra=function(v){q.assert(this.Df,"Headers not available on old architecture prefetch viewables.");return this.Df.Cra(v);};w.prototype.dN=function(v,x,y){q.assert(this.Df,"Headers not available on old architecture prefetch viewables.");return this.Df.dN(v,x,y);};w.prototype.hDb=function(v){var x,y,z;x=v.Ma;y=v.mediaType;this.Q6a(y,v.stream.Y);x=this.tv(y,x);z=this.Ky()?this.config.WYa:0;x.J6a(n.default.Rn()[y],z);this.WB.emit("onHeaderFragments",v);};w.prototype.Wqa=function(v){this.zh.push(v);};w.prototype.Xta=function(v){v=this.zh.indexOf(v);q.assert(-1 !== v,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.zh.splice(v,1);};w.prototype.B6=function(v){var x;null === (x=this.eN) || void 0 === x?void 0:x.yx(v);};w.prototype.hz=function(v){this.Gj?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",v):void 0 !== v.location && this.x2a(v.mediaType,v.location);};w.prototype.zM=function(v){this.Gj?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",v):this.qp.M8({timestamp:v.af,url:v.url});};w.prototype.wk=function(v){var x;null === (x=this.eN) || void 0 === x?void 0:x.PG(v);q.assert(this.Lm && this.gV,"Requests cannot be handled on old architecture prefetch viewables.");this.Gj?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",v):this.Lm() || (this.qp.M8({timestamp:v.af,mediaRequest:v}),this.gV(v));};w.prototype.qV=function(v,x,y){var z;y && (null === (z=this.eN) || void 0 === z?void 0:z.PG(v));};w.prototype.rV=function(v){this.Gj?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",v):(this.qp.qr({url:v.url},v.status,v.Lg,v.Ti),this.uo() || this.rh(v.VK || "unknown","NFErr_MC_StreamingFailure",v.Lg,v.status,v.Ti));};w.prototype.Q6a=function(v,x){this.jKa[v]=x.Ona;};w.prototype.fDb=function(v){var x,y,z;q.assert(this.ML,"Error handling not available on old architecture prefetch viewables.");if(!this.qm){x=v.XFb;y=v.tMb;z=v.uMb;v=v.vMb;this.console.warn("Streaming failure, isBuffering " + this.ML() + " is permanent: " + x + ", last error code: " + y + ", last http code: " + z + ", last native code: " + v);x?(this.console.warn(" > Permanent failure, done"),this.rh("Permanent failure","NFErr_MC_StreamingFailure",y,z,v)):this.ML()?(this.console.warn(" > We are buffering, calling it!"),this.rh("Temporary failure while buffering","NFErr_MC_StreamingFailure",v,z,v)):(this.console.warn(" > Resetting failures"),this.qp.s7());}};w.prototype.eDb=function(){q.assert(this.Xq,"Error handling not available on old architecture prefetch viewables.");this.qm || (this.uo(),this.Xq());};return w;})(r.tw);b.I9=a;},function(r,b,a){var C,G,J,K,H,L,P,I,O,N,M,Q,S,fa,qa,xa,ua,X,sa,T,R,ca,ja,Pa,wa,Ua,Va,cb,Ya,kb,$a,Ra;function c(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function f(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function k(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function l(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);this.lH=ya.config.lH;this.gd=this.sizes=void 0;}function d(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function g(){for(var ya=new DataView(this),Ia="",Ma,Ta=0;Ta < this.byteLength;Ta++){Ma=ya.getUint8(Ta);Ia+=("00" + Ma.toString(16)).slice(-2);}return Ia;}function h(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function m(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function n(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function q(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function p(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function t(ya){function Ia(Ma,Ta,hb,wb,Eb){K.call(this,Ma,Ta,hb,wb,Eb);this.$U=ya;}Ia.La=!1;Ia.prototype=new K();Ia.prototype.constructor=Ia;Object.defineProperties(Ia.prototype,{GO:{get:function(){return this.$U;}}});Ia.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.$U + "'");this.u.offset=this.startOffset + 4;this.ja.LX(this.GO);this.type=this.GO;return !0;};return Ia;}function u(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function w(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function v(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function x(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function y(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function z(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function A(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function B(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function D(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function E(ya,Ia,Ma,Ta,hb){K.call(this,ya,Ia,Ma,Ta,hb);}function F(ya,Ia){ya.forEach(function(Ma){Ia[Ma.Mb]=Ma;});}C=a(147).assert;b=a(97);G=a(232).S;J=a(395);a(148);a(82);a(82);a(82);K=a(31).mc;H=a(819).default;L=a(820).default;P=a(821).default;I=a(822).default;O=a(823).default;N=a(824).default;M=a(825).default;Q=a(826).default;S=a(827).default;a(233);a(175);fa=a(396).m9;qa=a(396).p$;xa=a(828).default;ua=a(829).default;X=a(83).default;sa=a(83).u9;T=a(83).v9;R=a(83).w9;ca=a(83).x9;ja=a(830).default;Pa=a(831).default;wa=a(83).I$;Ua=a(83).D$;Va=a(83).u8a;cb=a(832).default;Ya=a(833).default;kb=a(834).default;$a=a(397).default;Ra=a(398).default;a(149);a(236);a(237);a(235);a=a(835).default;c.La=!0;c.prototype=new K();c.prototype.constructor=c;f.La=!0;f.prototype=new K();f.prototype.constructor=f;k.La=!1;k.prototype=new K();k.prototype.constructor=k;k.prototype.parse=function(){var ya;this.ic();1 === this.version?(this.u.Hd(),this.u.Hd(),this.U=this.u.ta(),this.duration=this.u.Hd()):(this.u.ta(),this.u.ta(),this.U=this.u.ta(),this.duration=this.u.ta());ya=this.u.Gc() & 32767;this.language=String.fromCharCode(96 + (ya >>> 10),96 + (ya >>> 5 & 31),96 + (ya & 31));return !0;};l.La=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.Fda=function(){this.ic();this.u.ta();this.U=this.u.ta();0 === this.version?(this.JS=this.u.ta(),this.cT=this.u.ta()):(this.JS=this.u.Hd(),this.cT=this.u.Hd());this.K2a=this.u.Gc();this.ZV=this.u.Gc();};l.prototype.yca=function(ya,Ia){var Ma,Ta,hb;Ma=this.U;ya=ya && ya.U || Ma;Ta=ya / Ma;Ma=this.u.uz(Ia,12,!1);hb=1 === Ta?this.u.uz(Ia,12,!1):J.from(Uint32Array,{length:Ia},function(){var wb;wb=Math.round(this.u.ta() * Ta);this.u.offset+=8;return wb;},this);this.iea(Ia,hb,Ma,ya);};l.prototype.iea=function(ya,Ia,Ma,Ta){if(this.lH){Ta=this.lH * Ta / 1E3;for(var hb=0,wb=1;wb < ya;wb++){Math.abs(Ia[hb] - Ta) > Math.abs(Ia[hb] + Ia[wb] - Ta)?(Ia[hb]+=Ia[wb],Ma[hb]+=Ma[wb]):(++hb,hb !== wb && (Ia[hb]=Ia[wb],Ma[hb]=Ma[wb]));}++hb;Ia=new Uint32Array(Ia.buffer.slice(0,4 * hb));Ma=new Uint32Array(Ma.buffer.slice(0,4 * hb));}this.sizes=Ma;this.gd=Ia;};l.prototype.parse=function(ya){var Ia,Ma,Ta,hb;this.Fda();this.pa=ya.pa;Ia=this.U;Ma=this.pa && this.pa.U || Ia;Ta=this.ZV;hb=this.startOffset + this.length + this.cT;Ia=new G(this.JS,Ia).Xf(Ma).Xb;this.Y={U:Ma,Dk:Ia,offset:hb};this.yca(this.pa,Ta);this.Y.gd=this.gd;this.Y.sizes=this.sizes;ya.Br=this;return !0;};d.La=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var ya;this.hq=[];this.Kpa=[];ya=(this.length - 11) / 2;this.u.eb();this.u.eb();this.u.eb();for(var Ia=0;Ia < ya;Ia++){this.hq.push(this.u.eb());this.Kpa.push(this.u.eb());}return !0;};h.La=!1;h.prototype=new K();h.prototype.constructor=h;h.prototype.parse=function(){this.ic();this.u.offset+=4;this.aG=this.u.offset;this.Ni=this.u.Hqa(16);this.Ni.toString=g;return !0;};m.La=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.parse=function(){this.ic();this.Pf=this.u.Gc();this.Vna=this.u.uz(this.Pf,void 0,!0);return !0;};n.La=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(ya){var Ia,Ma,Ta,hb,wb,Eb;Ia=ya.Br;C(Ia);ya=ya.pa;Ma=Ia.U;Ia=Ia.ZV;C(ya);C(Ma);C(Ia);this.ic();C(2 > this.version);this.Pf=this.u.Gc();this.zt=new Uint16Array(Ia + 1);Ta=ya.I3(Ma);hb=Ta / Ma;wb=ya.Xf(Ta).Xb;if(0 === this.version)for((this.Nt=new Uint16Array(),this.Gd=new Uint32Array(),ya=Ma=0);ya <= Ia;++ya){if((this.zt[ya]=Ma,ya < this.Pf)){Eb=this.u.eb();if(0 !== Eb)for(Ta=0;Ta < Eb;(++Ta,++Ma)){this.Nt[Ma]=Math.floor((this.u.ta() + 1) * hb) / wb;this.Gd[Ma]=this.u.ta();}}}else if(1 === this.version)for((Ta=this.u.Dqa(this.Pf,10,!1),this.u.offset+=4,this.Gd=this.u.uz(this.Pf,10,!1),this.u.offset-=8,this.Nt=J.from(Uint16Array,{length:this.Pf},function(){var Hb;Hb=Math.floor((this.u.ta() + 1) * hb) / wb;this.u.offset+=6;return Hb;},this),Ma=ya=0);ya <= Ia;++ya){for(;Ma < Ta.length && Ta[Ma] < ya;){++Ma;}this.zt[ya]=Ma;}this.Eh={zt:this.zt,Nt:this.Nt,Gd:this.Gd};return !0;};q.La=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;p.La=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;p.prototype.Js=function(){var ya;ya=this.vh("tfhd");ya && (this.yj=ya.KR?ya.yj:this.parent.startOffset);return !0;};u.La=!1;u.prototype=new K();u.prototype.constructor=u;u.prototype.parse=function(){var ya,Cb;ya=this.u.offset;this.ic();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var Ia=this.u.offset,Ma=this.u.eb(),Ta=this.u.eb(),hb=this.u.eb(),wb=this.u.eb(),Eb=this.u.Gc(),Hb=[],Ob=0;Ob < Eb;++Ob){Hb=this.u.eb();}Ob=(Ma & 240) >>> 4;Cb=(Ma & 14) >>> 1;Ma&=1;hb=16 === hb?1:0;Ta != wb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Ta + " and matrixCoefficients " + wb + " should be the same value!");wb=2;switch(Ta){case 1:wb=2;break;case 6:wb=1;break;case 9:wb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Ta + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.ja.$z(this.version,ya);this.ja.$z(Ob << 4 | wb,Ia++);this.ja.$z(Cb << 4 | hb << 1 | Ma,Ia++);Eb+=2;Hb.push(0,0);this.ja.Hua(Eb,!1);Ia+=2;Hb.forEach(function(Kb){this.ja.$z(Kb,Ia++);});}return !0;};w.La=!1;w.prototype=new K();w.prototype.constructor=w;w.Mb="tfhd";Object.defineProperties(w.prototype,{KR:{get:function(){return this.flags & 1;}},Kra:{get:function(){return this.flags & 2;}},Fha:{get:function(){return this.flags & 8;}},Iha:{get:function(){return this.flags & 16;}},Gha:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(){this.ic();this.GH=this.u.ta();this.yj=this.KR?this.u.Hd():void 0;this.Kra && this.u.ta();this.Zx=this.Fha?this.u.ta():void 0;this.ay=this.Iha?this.u.ta():void 0;this.$x=this.Gha?this.u.ta():void 0;return !0;};v.La=!1;v.prototype=new K();v.prototype.constructor=v;v.prototype.parse=function(){this.ic();this.Hx=1 === this.version?this.u.Hd():this.u.ta();return !0;};v.prototype.na=function(ya){var Ia;Ia=this.startOffset + 12;this.Hx+=ya;1 === this.version?this.ja.Iua(this.Hx,Ia):this.ja.Eg(this.Hx,Ia);};x.La=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{nS:{get:function(){return this.flags & 1;}},yF:{get:function(){return this.flags & 4;}},Dz:{get:function(){return this.flags & 256;}},Ez:{get:function(){return this.flags & 512;}},rW:{get:function(){return this.flags & 1024;}},$G:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.ic();this.OR=this.u.offset;this.Ab=this.u.ta();this.Ej=this.nS?this.u.OG():0;this.yF && this.u.ta();this.Mt=(this.Dz?4:0) + (this.Ez?4:0) + (this.rW?4:0) + (this.$G?4:0);this.py=this.u.offset;C(this.nS,"Expected data offset to be present in Track Run");C(this.length - (this.u.offset - this.startOffset) === this.Ab * this.Mt,"Expected remaining data in box to be sample information");return !0;};x.prototype.gs=function(ya,Ia,Ma){var Ta,hb,wb;Ta=this.Dz?this.u.ta():ya.Zx;hb=this.Ez?this.u.ta():ya.ay;ya=this.rW?this.u.ta():ya.$x;wb=0 === this.version?this.$G?this.u.ta():0:this.$G?this.u.OG():0;return {Jra:wb,SRb:ya,POb:Ma + wb - (void 0 !== Ia?Ia:wb),Qj:hb,Ot:Ta};};x.prototype.na=function(ya,Ia,Ma,Ta,hb,wb,Eb){var Hb,Ob,Cb,Kb;Hb=0;Ob=0;this.ja.offset=this.py;for(Ta=0;Ta < hb;++Ta){Cb=this.gs(Ia,Kb,Ob);if(0 == Ta)Kb=Cb.Jra;Hb+=Cb.Qj;Ob+=Cb.Ot;}Ta=hb;hb=this.u.offset;Cb=this.gs(Ia,Kb,Ob);this.bq=Ta;this.Ksa=Ob;if(Eb){if((this.Vp=this.Ej + Hb,this.vi=0,Ta === this.Ab))return !0;}else if((this.Vp=this.Ej,this.vi=Hb,0 === Ta))return !0;if(0 === Ta || Ta === this.Ab)return !1;this.iy=!0;if(Eb){this.vi+=Cb.Qj;for(Eb=Ta + 1;Eb < this.Ab;++Eb){Cb=this.gs(Ia,Kb,Ob);this.vi+=Cb.Qj;}this.ja.offset=this.OR;this.Ab=Ta;this.ja.Eg(this.Ab);this.ja.RH(wb);this.yF && (this.u.offset+=4);this.ue(this.length - (hb - this.startOffset),hb);}else (Ia=hb - this.py,this.ja.offset=this.OR,this.Ab-=Ta,this.ja.Eg(this.Ab),this.Ej+=Hb,this.ja.RH(wb,this.Ej),this.yF && (this.u.offset+=4),this.ue(Ia,this.ja.offset));Ma.ue(this.vi,ya.yj + this.Vp);return !0;};x.prototype.ira=function(ya,Ia,Ma,Ta,hb,wb){var Hb;if(Ta){Ta=this.Vp;for(var Eb=this.Ab - 1;0 <= Eb && this.Ab - Eb <= hb;--Eb){this.ja.offset=this.py + Eb * this.Mt;Hb=this.gs(Ia);if(Hb.Ot != wb.duration){this.u.console.warn("Could not replace sample of duration " + Hb.Ot + " with silence of duration " + wb.duration);break;}if(this.Ez)(this.ja.offset-=this.Mt - (this.Dz?4:0),this.ja.Eg(wb.Tj.byteLength));else if(wb.Tj.byteLength !== Hb.Qj){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ta-=Hb.Qj;Ma.Lt(Hb.Qj,wb.Tj,ya.yj + Ta);}}else for((Ta=this.Vp + this.vi,Eb=0);Eb < this.Ab && Eb < hb;++Eb){this.ja.offset=this.py + (Eb + this.bq) * this.Mt;Hb=this.gs(Ia);if(Hb.Ot != wb.duration){this.u.console.warn("Could not replace sample of duration " + Hb.Ot + " with silence of duration " + wb.duration);break;}if(this.Ez)(this.ja.offset-=this.Mt - (this.Dz?4:0),this.ja.Eg(wb.Tj.byteLength));else if(wb.Tj.byteLength !== Hb.Qj){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ma.Lt(Hb.Qj,wb.Tj,ya.yj + Ta);Ta+=Hb.Qj;}};y.La=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{xm:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.ic();this.xm && this.u.nl();this.xm && this.u.ta();this.Hha=this.u.eb();this.Ab=this.u.ta();this.u.vz(this.Ab);return !0;};y.prototype.na=function(ya,Ia){if(ya && 0 === this.Hha){ya=Ia?this.Ab - ya:ya;this.ja.offset=this.startOffset + 13 + (this.xm?8:0);this.Ab-=ya;this.ja.Eg(this.Ab);this.YG=0;if(Ia)this.ja.offset+=this.Ab;else {for(Ia=0;Ia < ya;++Ia){this.YG+=this.ja.eb();}this.ja.offset-=ya;}this.ue(ya,this.u.offset);}return !0;};z.La=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{xm:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.ic();this.xm && this.u.nl();this.xm && this.u.ta();this.Pf=this.u.ta();C(1 === this.Pf,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Ej=0 === this.version?this.u.OG():this.u.Kqa();return !0;};z.prototype.na=function(ya,Ia){this.Ej+=ya;this.ja.offset=this.startOffset + 16 + (this.xm?8:0) + (0 === this.version?0:4);this.ja.RH(Ia,this.Ej);return !0;};A.La=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{uV:{get:function(){return this.flags & 1;}},sua:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(){this.ic();this.uV && (this.u.ta(),this.u.vz(16));this.Ab=this.u.ta();return !0;};A.prototype.na=function(ya,Ia){var Ma,Ta;Ma=Ia?this.Ab - ya:ya;this.ja.offset=this.startOffset + 28 + (this.uV?20:0);this.Ab-=Ma;this.ja.Eg(this.Ab);ya=this.ja.offset;if(this.sua)for(Ma=Ia?this.Ab:Ma;0 < Ma;--Ma){this.ja.offset+=8;Ta=this.ja.Gc();this.ja.offset+=6 * Ta;}else this.ja.offset+=8 * (Ia?this.Ab:Ma);Ia?this.ue(this.length - (this.u.offset - this.startOffset),this.u.offset):this.ue(this.u.offset - ya,ya);};B.La=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.ic();return !0;};B.prototype.na=function(ya,Ia,Ma){Ma?this.ue(Ia - ya,this.startOffset + 12 + ya):this.ue(ya,this.startOffset + 12);return !0;};D.La=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.ic();this.u.nl();1 === this.version && this.u.ta();this.Pf=this.u.ta();this.Pt=[];for(var ya=0;ya < this.Pf;++ya){for(var Ia=this.u.ta(),Ma=this.u.ta(),Ta=0;Ta < Ia;++Ta){this.Pt.push(Ma);}}return !0;};D.prototype.na=function(ya,Ia){this.Pt=Ia?this.Pt.slice(0,ya):this.Pt.slice(ya);ya=this.Pt.reduce(function(Ma,Ta){0 !== Ma.length && Ma[Ma.length - 1].group === Ta || Ma.push({group:Ta,count:0});++Ma[Ma.length - 1].count;return Ma;},[]);this.ja.offset=this.startOffset + 16 + (1 === this.version?4:0);this.ja.Eg(ya.length);ya.forEach((function(Ma){this.ja.Eg(Ma.count);this.ja.Eg(Ma.group);}).bind(this));this.Pf > ya.length && this.ue(8 * (this.Pf - ya.length));this.Pf=ya.length;return !0;};E.La=!1;E.prototype=Object.create(K.prototype);E.prototype.constructor=E;X={Ta:{moov:f,trak:c,mdia:c,mdhd:k,minf:c,encv:X,schi:c,sidx:l,sinf:c,stbl:c,tenc:h,mvex:c,moof:q,traf:p,tfhd:w,trun:x,sbgp:D,sdtp:B,saiz:y,saio:z,tfdt:v,mdat:E,vmaf:d},Ita:{vpcC:u,SmDm:t("smdm"),CoLL:t("coll")},mX:{schm:ja},ZG:{}};F([Pa,N,M,Q,wa,Ua,Va,H,I,$a,Ra,O,S,L,P,a],X.Ta);F([fa,xa,sa,T,R,ca,qa,ua,Ya,cb],X.ZG);F([Pa,ja],X.mX);X.Ta[b.DP]=h;X.Ta[b.Mw]=m;X.Ta[b.Lw]=n;X.Ta[b.CP]=A;X.ZG[b.HD]=kb;X.mc=K;r.exports={Kp:X};},function(r,b){function a(c,f){var k,l,d,g,h;if("number" !== typeof c || "number" !== typeof f)c=!1;else if(c && f){k=Math;l=k.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=l.call(k,c * f / g);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f,k){"object" === typeof f?(this.dc=f.Xb,this.fb=f.U):(this.dc=f,this.fb=k);}c.mb=function(f){return new c(f,1E3);};c.hX=function(f,k){return Math.floor(1E3 * f / k);};c.Y5=function(f,k){return Math.floor(f * k / 1E3);};c.max=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(l,d){return l.greaterThan(d)?l:d;});};c.min=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(l,d){return l.lessThan(d)?l:d;});};Object.defineProperties(c.prototype,{Xb:{get:function(){return this.dc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return 1E3 * this.dc / this.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Tg:{get:function(){return this.dc / this.fb;},enumerable:!0,configurable:!0}});c.prototype.Xf=function(f){f/=this.U;return new c(Math.floor(this.Xb * f),Math.floor(this.U * f));};c.prototype.add=function(f){var k;if(this.U === f.U)return new c(this.Xb + f.Xb,this.U);k=a(this.U,f.U);return this.Xf(k).add(f.Xf(k));};c.prototype.Aa=function(f){return this.add(new c(-f.Xb,f.U));};c.prototype.xC=function(f){return new c(this.Xb * f,this.U);};c.prototype.$k=function(f){var k;if(this.U === f.U)return this.Xb / f.Xb;k=a(this.U,f.U);return this.Xf(k).$k(f.Xf(k));};c.prototype.I3=function(f){return a(this.U,f);};c.prototype.Qqa=function(){return new c(this.U,this.Xb);};c.prototype.compare=function(f,k){var l;if(this.U === k.U)return f(this.Xb,k.Xb);l=a(this.U,k.U);return f(this.Xf(l).Xb,k.Xf(l).Xb);};c.prototype.equal=function(f){return this.compare(function(k,l){return k === l;},f);};c.prototype.m6=function(f){return this.compare(function(k,l){return k !== l;},f);};c.prototype.lessThan=function(f){return this.compare(function(k,l){return k < l;},f);};c.prototype.greaterThan=function(f){return this.compare(function(k,l){return k > l;},f);};c.prototype.zv=function(f){return this.compare(function(k,l){return k <= l;},f);};c.prototype.Sn=function(f){return this.compare(function(k,l){return k >= l;},f);};c.prototype.toJSON=function(){return {ticks:this.Xb,timescale:this.U};};c.prototype.toString=function(){return this.Xb + "/" + this.U;};c.ab=new c(0,1);c.Mv=new c(1,1E3);return c;})();b.S=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.u.offset+=6;this.u.Gc();return !0;};return k;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(2);r.__exportStar(a(149),b);r.__exportStar(a(235),b);r.__exportStar(a(236),b);r.__exportStar(a(237),b);r=a(236);c=a(237);a=a(235);b.lp={3:a.OO,4:r.JO,5:c.l$};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l;this.u.Gc();l=this.u.eb();this.Ysa=! !(l & 128);this.Rba=! !(l & 64);this.yaa=! !(l & 32);this.Ysa && this.u.Gc();this.Rba && this.u.vz(this.u.eb());this.yaa && this.u.Gc();this.VQ();return !0;};k.tag=3;return k;})(a(149).nD);b.OO=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Voa=this.u.eb();this.u.eb();this.u.Gc();this.u.eb();this.maxBitrate=this.u.ta();this.sfa=this.u.ta();this.VQ();return !0;};k.tag=4;return k;})(a(149).nD);b.JO=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(149);f=a(234);a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.WV=function(){15 !== this.u.ec(4) || this.u.ec(24);};l.prototype.parse=function(d){if(this.dma(d) && 64 === d.Voa)switch((this.wm=this.UV(),this.WV(),this.u.ec(4),this.Hia=5 === this.wm || 29 === this.wm?5:-1,0 < this.Hia && (this.WV(),this.wm=this.UV(),22 === this.wm && this.u.ec(4)),this.wm)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.kT=this.u.ec(1),(this.Oha=this.u.ec(1)) && this.u.ec(14),this.u.ec(1),this.ry=3 === this.wm?256:23 === this.wm?this.kT?480:512:this.kT?960:1024);}this.skip();return !0;};l.prototype.UV=function(){var d;d=this.u.ec(5);31 === d && (d=32 + this.u.ec(6));return d;};l.prototype.dma=function(d){return d.tag === f.JO.tag;};l.tag=5;return l;})(r.nD);b.l$=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var f;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(k,l){return k + l.byteLength;},0);f=new Uint8Array(c);a.reduce(function(k,l){f.set(new Uint8Array(l),k);return k + l.byteLength;},0);return f.buffer;};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(400);f=a(231);k=a(401);r=(function(){function l(d,g,h){this.console=d;this.stream=g;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}l.prototype.parse=function(d){var g;g=new k.KO(this.view.byteLength);this.ac=new c.kD(f.Kp.Ta,g,this.view,this.console,{CG:!0});d=this.ac.parse(d);this.Ta=this.ac.Ta;return d;};return l;})();b.sq=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fA=void 0;r=a(43);a=a(112);c=(function(){function f(k,l){this.a0=k;this.hJ=l.Ya;this.Au=l.kb;}Object.defineProperties(f.prototype,{Ya:{get:function(){return void 0 !== this.hJ?this.hJ:this.a0.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{kb:{get:function(){return void 0 !== this.Au?this.Au:this.a0.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{U:{get:function(){return this.a0.U;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Oj:{get:function(){return this.a0.Oj;},enumerable:!1,configurable:!0}});f.prototype.BW=function(k){this.Au=k;};f.prototype.wga=function(){this.Au=void 0;};return f;})();b.fA=c;r.uf(a.gA,c);r.uf(a.eA,c);},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.qO=void 0;c=a(2);r=c.__importDefault(a(123));f=a(113);k=a(176);a=(function(l){function d(g,h,m,n,q,p,t){h=l.call(this,g,h,m,n,q,p,t) || this;k.bu.nb(h,g,n);return h;}c.__extends(d,l);return d;})(f.ZX);b.qO=a;r.default(k.bu.prototype,a.prototype);},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.WH=void 0;c=a(2);f=c.__importDefault(a(27));k=c.__importDefault(a(5));r=(function(l){function d(g,h,m,n,q){var p;p=l.call(this,m) || this;p.Nea=!1;d.nb(p,g,h,m,n,q);return p;}c.__extends(d,l);d.nb=function(g,h,m,n,q,p){g.Ke=n;g.sra=h;g.Cd=q;g.dKa=h.location || m.location;g.aR=h.dd || m.zd;g.jsa=h.jsa || m.jsa;g.u8=k.default.time.ba();g.H=p;};Object.defineProperties(d.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{location:{get:function(){return this.dKa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zd:{get:function(){return this.aR;},enumerable:!1,configurable:!0}});d.prototype.nb=function(g){this.Na=g;};d.prototype.tsa=function(g,h){this.dKa=g;this.aR=h;};d.prototype.Oda=function(g){var h,m,n;h={type:"logdata",target:"endplay",fields:{}};m=this.mediaType === f.default.Ra.Sb?"audioedit":"videoedit";n=[this.cL === this.X?this.vc:this.Mc,this.cL === this.X?-this.duration:this.duration];g && g.aq && n.push(g.aq);h.fields[m]={type:"array",value:n};return h;};d.prototype.hua=function(){var g,h;if(this.complete)return 0;g=this.sra;h=g.N;return g.url?this.url === g.url || (h.tsa(this,g.location,g.dd),this.o8(g.url))?0:(this.H.warn("swapUrl failed: ",this.VK),2):(this.H.warn("updateurl, missing url for streamId:",g.Ma,"mediaRequest:",this,"stream:",g),1);};return d;})(a(96).tw);b.WH=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(848),b);},function(r,b,a){var f,k,l,d,g,h,m,n,q,p;function c(t){return t.Aa(d.S.mb(t.XG));}Object.defineProperties(b,{__esModule:{value:!0}});b.S9=b.ot=void 0;f=a(2);r=a(16);k=f.__importDefault(a(27));l=f.__importDefault(a(5));d=a(22);g=a(6);h=a(849);m=a(407);n=a(113);q=a(68);p=a(30);b.ot=c;a=(function(t){function u(w,v,x,y,z,A,B,D,E){var F,C;C=t.call(this) || this;C.H=w;C.sg=v;C.Af=x;C.Tc=y;C.I=z;C.Gib=A;C.T=B;C.Qu=D;C.Ng=E;C.bk=C.H.error.bind(C.H);C.Gb=C.H.warn.bind(C.H);C.um=C.H.trace.bind(C.H);null === (F=y.events) || void 0 === F?void 0:F.addListener("ready",function(){C.zu();});C.doa=new h.zCa(C.I,C.sg,C.Af.Yb,C.H);C.reset();return C;}f.__extends(u,t);Object.defineProperties(u.prototype,{endOfStream:{get:function(){return this.tQ;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{h1:{get:function(){return this.Tc?this.Tc.h1:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{dZb:{get:function(){return this.Rk.length;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{NGb:{get:function(){return this.Fi;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{o5a:{get:function(){return ! !this.Tc.Kwb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Mz:{get:function(){return ! !this.Tc.reset;},enumerable:!1,configurable:!0}});u.prototype.reset=function(w){var v,x,y,z;null === (v=this.xKa) || void 0 === v?void 0:v.zb();this.Pk=!1;w || (this.Rk=[]);this.Fi=this.Sca=this.zJ=void 0;this.Eca=!1;this.oda=void 0;this.f0=d.S.ab;this.gx=void 0;this.tQ=!1;this.Zda(d.S.ab);null === (y=(x=this.Tc).reset) || void 0 === y?void 0:y.call(x);null === (z=this.doa) || void 0 === z?void 0:z.reset();};u.prototype.DSa=function(){this.Sca=!0;};u.prototype.pause=function(){this.Pk=!0;};u.prototype.resume=function(){this.Pk=!1;this.zu();};u.prototype.gy=function(){this.Pk || this.zu();};u.prototype.eka=function(){var w;return null === (w=this.Fi) || void 0 === w?void 0:w.Pd;};u.prototype.Imb=function(w){var v;if(this.I.rRa){g.assert(w.Na);v=w.Na.xb;g.assert(void 0 !== w.Mc);g.assert(void 0 !== v.vc);if(w.Mc >= v.vc)return;}this.Rk.push(w);this.zu();};u.prototype.Jr=function(){this.zu();};u.prototype.n7=function(w){w=this.Rk.indexOf(w);-1 !== w && this.Rk.splice(w,1);};u.prototype.m_a=function(w,v){this.I.Sea && v && void 0 === this.Fi && this.KIa(w,0);this.zu();};u.prototype.p6=function(w){var v,x,y;v=this;if(!this.tQ && (this.tQ=!0,this.zu(),!this.o5a))if(w && this.Qu && this.I.tub){y=d.S.mb(this.I.N5a);w=w.Aa(y);y=q.Cua(this.Qu,w,!0);w=y.Dr;y=y.promise;null === (x=this.xKa) || void 0 === x?void 0:x.zb();this.xKa=w;y.then(function(){v.tQ && v.Tc.endOfStream();});}else this.Tc.endOfStream();};u.prototype.K7=function(){return JSON.stringify(this.Rk);};u.prototype.Zda=function(w){var v;null !== (v=this.eea) && void 0 !== v && v.equal(w) || (this.eea=w,this.Tc.uTb(w.Xb,w.U));};u.prototype.zu=function(){var w,v,x,y,z,A,B,D,E;v=this.I;if(this.Rk.length || this.Fi && !this.Fi.Ne)if(!this.Tc || !1 === this.Tc.ready)this.IJ("@" + l.default.time.ba() + ", append: not appending, sourceBuffer not ready");else if(!this.Fi || this.Fi.Ne || this.Fi.Zs())if(this.Fi && !this.Fi.Ne || this.Rk.length)if(this.Pk){x=this.Fi && !this.Fi.Ne?this.Fi:this.Rk[0];this.IJ("@" + l.default.time.ba() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(x));}else if((!this.Fi || this.Fi.Ne || (this.iJa(this.Fi),this.Fi.Ne)) && this.Rk.length)if((x=this.Rk[0],x.aborted))(this.Gb("aborted MediaRequest should not appear in the toAppend list:",x.toString(),"complete:",x.complete),this.IJ("@" + l.default.time.ba() + ", append: removing aborted request from toAppend: " + x.toString()),this.Rk.shift());else {y=x.stream;z=y.N;if(y.yg)if(this.MTb(y,x.index))(this.Sca=!1,this.KIa(y,x.index));else {A=this.T.Wn(z);B=this.yEb(y);if(A || B || !(this.Eca && y.track.HU || v.e9))if((y=this.MUa(x),this.sg !== k.default.Ra.Sb || !x.Ip && !x.yv || !x.na || v.Bz || this.tQ || 1 !== this.Rk.length || !(y > v.UU) || null !== (w=x.fH) && void 0 !== w && w.P4)){if(v.rRa || v.lwb)if((w=x.Na.xb,A=this.Nub())){D=w.jk;E=x.vc >= A;y=y > v.UU;if(A < w.vc && E && y && !D)return;}if(v.cNb && this.Ng && (v=this.Ng(z.Fb)) && !v.wR)this.pause();else {this.Eca || (this.Eca=B);this.Rk.shift();try{this.Jfb(x);}catch(F){throw (this.H.error(F),F);}}}else this.$Rb();}}};u.prototype.$Rb=function(){var w;w=this;this.Qu && (this.Dma?this.Dma.oFb || this.Dma.pl():this.Dma=this.Qu.xB(function(){return w.CGb();},"JIT Appender"));};u.prototype.CGb=function(){var w,v,x,y;return f.__generator(this,function(z){switch(z.label){case 0:if(1 !== this.Rk.length)return [3,3];w=this.Rk[0];if(!w.Ip && !w.yv || (null === (y=w.fH) || void 0 === y?0:y.P4))return [2];v=this.MUa(w);x=this.I.UU;return v > x?[4,q.nj.eD(d.S.mb(v - x))]:[3,2];case 1:(z.Yd(),z.label=2);case 2:return (this.zu(),[3,0]);case 3:return [2];}});};u.prototype.MUa=function(w){return w.Xc - this.T.ze();};u.prototype.MTb=function(w,v){if(this.Sca || void 0 === this.zJ || w.Ma !== this.zJ.Ma)return !0;w=w.yg;g.assert(w);return 1 < w.length?p.NMa(w,function(x){return x.Md <= v;}) !== this.zJ.RWa:!1;};u.prototype.yEb=function(w){if(0 === w.mediaType || !w.My)return !0;if(void 0 === this.zJ)return !1;w=w.yg;g.assert(w);return !1 === w[this.zJ.RWa].lk;};u.prototype.Nub=function(){throw Error("not supported");};u.prototype.Efb=function(w){this.f0=m.wZ.p1(this.I,w.fe,this.Af.Yb,this.H);};u.prototype.KIa=function(w,v){var x;x=w.yg.reduce(function(y,z,A){return z.Md <= v?A:y;},0);if(this.Tc.appendBuffer(w.yg[x].data,{Pc:!0,profile:w.profile,bitrate:w.bitrate,Ma:w.id}))(this.IJ("@" + l.default.time.ba() + ", header appended, streamId: " + w.Ma),this.zJ={Ma:w.Ma,RWa:x},this.Ojb(w.N.Fb || 0,w.Ma,x),this.Efb(w),this.zu());else throw (this.Gb("appendHeader error: " + this.Tc.error),this.IJ("@" + l.default.time.ba() + ", appendHeader error: " + this.Tc.error),Error("appendHeaderError"));};u.prototype.Jfb=function(w){var v,x,y,z,A,B,D;y=w.c7 || d.S.ab;z=w.Na.xb.P;z.Ea && Infinity !== z.Ea && (y=new d.S(z.Ea,1E3).add(y).Tg,Infinity === this.Af.duration || this.Af.duration < y) && (this.Af.duration=y);if(this.doa){y=!0;z=!1;A=d.S.ab;B=void 0 !== w.Wt?d.S.mb(w.Wt).add(w.c7):void 0;D=null === (v=this.Rk[0]) || void 0 === v?void 0:v.Wi;v={endOfStream:this.endOfStream || !(null === (x=w.fH) || void 0 === x || !x.P4),G5:B,aV:D};x=this.doa.append(w,v);this.Zda(x);}else (z=y=!1,A=d.S.ab,this.Nhb(w));this.gx && A && (this.gx=this.gx.add(A));this.iJa(w,y,z);};u.prototype.iJa=function(w,v,x){var y,z,A;x=w.RE(this.Tc,this.Af.Yb,this.Fi,this.Rk[0],v,x);v=x.status;(x=x.Jj) && this.emit(x.type,x);v !== n.fj.wf?(this.Fi=w,v === n.fj.zw && (void 0 === this.gx || this.sg !== k.default.Ra.Sb || w.Wi.equal(this.gx) || (this.Jjb(w,this.gx),this.gx=void 0),this.IJ("@" + l.default.time.ba() + ", request appended, type: " + w.mediaType + ", streamId: " + w.Ma + ", pts: " + w.Xc + "-" + w.Pd),w.Ip || w.yv?(this.gx=w.qf,this.cgb(w,this.eea || d.S.ab),null === (z=(y=this.Tc).Kwb) || void 0 === z?void 0:z.call(y,w.fH),(null === (A=w.fH) || void 0 === A?0:A.P4) && this.Gib && this.p6(w.qf)):this.gx=void 0,this.Pjb(w),this.zu())):this.Ifb(w);};u.prototype.Ifb=function(w){if(void 0 !== this.Tc.error){if("done" === this.Tc.error)return;this.bk("failure to append queued mediaRequest:",null === w || void 0 === w?void 0:w.toString(),"err:",JSON.stringify(this.Tc.error));throw this.Tc.error;}w=Error("failure to append queued mediaRequest: " + (null === w || void 0 === w?void 0:w.toString()) + " err: " + this.Tc.error);this.bk(w.message);throw w;};u.prototype.Nhb=function(w){var v,x,y;x=w.c7 || d.S.ab;if(void 0 === this.oda || x && !x.equal(this.oda)){y=this.f0.add(x);this.Zda(y);this.oda=x;}void 0 === this.Fi && !this.I.F5 && w.stream.fe && this.I.ek && (x=null === (v=w.Nc) || void 0 === v?void 0:v.Aa(w.stream.fe).add(this.eea),x.lessThan(d.S.ab) && (v=Math.ceil(x.xC(-1).$k(w.stream.pa)),w.GS(v)));};u.prototype.cgb=function(w,v){var x,y;x=w.stream.pa;y=w.Ld;this.I.ek && w.stream.fe && (y=y.Aa(w.stream.fe));c(y.Aa(x)).add(c(x)).add(c(v));};u.prototype.Ojb=function(w,v,x){w={type:"headerAppended",mediaType:this.sg,manifestIndex:w,streamId:v,isIndex:x};this.emit(w.type,w);};u.prototype.Pjb=function(w){w={type:"requestAppended",mediaType:this.sg,request:w};this.emit(w.type,w);};u.prototype.IJ=function(w){w={type:"managerdebugevent",message:w};this.emit(w.type,w);};u.prototype.Jjb=function(w,v){var x;x=w.Mc;w=w.Wi.Aa(v).V;x={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[x,w]}}};this.emit(x.type,x);};return u;})(r.EventEmitter);b.S9=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.x3=b.$lb=void 0;b.$lb=function(a){return a.B7;};b.x3=function(a,c){return void 0 !== a.fM?a.fM:c && void 0 !== c.fM?c.fM:100;};},function(r,b,a){var f;function c(k,l){return k < l?-1:k > l?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.bZ=void 0;f=a(2);r=(function(){function k(l,d){this.data=null !== l && void 0 !== l?l:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(l=(this.length >> 1) - 1;0 <= l;l--){this.Gca(l);}}Object.defineProperties(k.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});k.prototype.push=function(l){this.data.push(l);this.hea(this.length - 1);};k.prototype.pop=function(){var l,d;if(!this.empty){l=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Gca(0));return l;}};k.prototype.Ov=function(){return this.data[0];};k.prototype.UOb=function(l){l=this.data.indexOf(l);-1 !== l && this.hea(l);};k.prototype.map=function(l){return this.data.map(l);};k.prototype.find=function(l){return f.__read(this.data.filter(l),1)[0];};k.prototype.clear=function(){this.data=[];};k.prototype.remove=function(l){var d,g,h;d=this.data;l=d.indexOf(l);if(-1 !== l){g=d.pop();if(l < d.length){d[l]=g;h=l - 1 >> 1;d=d[h];0 <= h && 0 > this.compare(g,d)?this.hea(l):this.Gca(l);}}};k.prototype.Ymb=function(){for(var l=this.data,d=1;d < l.length;d++){if(0 > this.compare(l[d],l[d - 1 >> 1]))throw Error("Audit failed at position " + d + " of " + l);}};k.prototype.contains=function(l){return 0 <= this.data.indexOf(l);};k.prototype.hea=function(l){for(var d=this.data,g=this.compare,h=d[l],m,n;0 < l;){m=l - 1 >> 1;n=d[m];if(0 <= g(h,n))break;d[l]=n;l=m;}d[l]=h;};k.prototype.Gca=function(l){for(var d=this.data,g=this.compare,h=this.length >> 1,m=d[l],n,q,p;l < h;){n=(l << 1) + 1;p=d[n];q=n + 1;q < this.length && 0 > g(d[q],p) && (n=q,p=d[q]);if(0 <= g(p,m))break;d[l]=p;l=n;}d[l]=m;};return k;})();b.bZ=r;},function(r,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.XX=void 0;c=a(2);a(6);r=a(43);f=c.__importDefault(a(27));k=c.__importDefault(a(123));l=c.__importDefault(a(5));d=a(248);g=a(98);h=a(113);m=l.default.rq;n=a(869);a=c.__importDefault(a(870));l=(function(q){var f00;f00=2;for(;f00 !== 9;){switch(f00){case 2:c.__extends(p,q);p.create=function(t,u,w,v,x,y,z,A){var i00,B,D;i00=2;for(;i00 !== 11;){switch(i00){case 1:return new n.jva(t,w,v,x,y,u,z,A);break;case 4:B=Math.ceil(v.da / v.ZL);y=v.offset;D=v.da;i00=8;break;case 8:x=new d.hD(t,v,x,u,z,A);i00=7;break;case 14:var R7Q="subr";R7Q+="e";R7Q+="que";R7Q+="st";(B={offset:y,da:Math.min(D,A),responseType:v.responseType},y+=B.da,D-=B.da,x.push(new h.ZX(t,w,R7Q,B,x,u,z)));i00=6;break;case 2:i00=!u.Wf && v.na && t.mediaType === f.default.Ra.Eb && m.Yb && m.Yb.oW.SP?1:5;break;case 5:i00=v.ZL && v.da > v.ZL?4:12;break;case 7:A=Math.ceil(v.da / B);i00=6;break;case 6:i00=0 < D?14:13;break;case 13:return x;break;case 12:return new p(t,w,v,x,y,u,z,A);break;}}};p.prototype.toString=function(){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:var P7Q="I";P7Q+="D";P7Q+=":";P7Q+=" ";return P7Q + this.Kh() + ":" + g.fm.prototype.toString.call(this);break;}}};p.prototype.toJSON=function(){var k00;k00=2;for(;k00 !== 1;){switch(k00){case 2:return {ID:this.Kh(),request:g.fm.prototype.toJSON.call(this)};break;}}};return p;break;}}function p(t,u,w,v,x,y,z,A){var g00,B;g00=2;for(;g00 !== 6;){switch(g00){case 4:B=B.length?"(" + B.join(",") + ")":"";void 0 === w.responseType && (w.responseType=w.na || m.Yb && !m.Yb.oW.SP?0:1);B=q.call(this,t,u,B,w,v,y,z) || this;g.fm.nb(B,t,w,A);return B;break;case 2:var x7Q="e";x7Q+="d";x7Q+="i";x7Q+="t";var C7Q="c";C7Q+="a";C7Q+="c";C7Q+="h";C7Q+="e";var Y7Q="1SIYb";Y7Q+="ZrNJCp";Y7Q+="9";B=this;Y7Q;B=[C7Q,x7Q].filter(function(D,E){var h00;h00=2;for(;h00 !== 1;){switch(h00){case 4:return [x,w.na][E];break;h00=1;break;case 2:return [x,w.na][E];break;}}});g00=4;break;}}}})(h.ZX);b.XX=l;k.default(a.default,l.prototype);r.uf(g.fm,l,!1);},function(r,b,a){var c,f,k,l,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.hD=void 0;c=a(2);f=a(6);r=a(43);k=a(9);l=a(30);d=a(405);g=a(98);h=a(113);a=(function(m){function n(q,p,t,u,w,v){t=m.call(this,q,p,t,u,w) || this;g.fm.nb(t,q,p,v);t.Ic=0;t.na || t.uh();t.Ne=!1;return t;}c.__extends(n,m);Object.defineProperties(n.prototype,{Pc:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(q){this.Ic+=q.da;m.prototype.push.call(this,q);};n.prototype.Zs=function(){var q;return !this.Ne && ! !this.Ba.length && !(null === (q=l.vg(this.Ba,function(p){return !p.Ne;})) || void 0 === q || !q.Zs());};n.prototype.RE=function(q,p){var t,u;f.assert(!this.Ne);t=h.fj.Ocb;u=k.Jp(this);this.Ne=this.Ba.every(function(w){if(w.Ne)return !0;if(!w.Zs())return !1;t=w.RE(q,p,void 0,void 0,void 0,void 0,u).status;return t === h.fj.zw;});t !== h.fj.zw || this.Ne || (t=h.fj.kdb);return {status:t};};n.prototype.wQb=function(){this.Ba.forEach(function(q){q.aW();});};n.prototype.Kh=function(){return this.Ba?this.Ba[0].Kh() + "-" + this.Ba[this.Ba.length - 1].Kh():"empty";};n.prototype.toString=function(){return "ID: " + this.Kh() + ":" + g.fm.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.Kh(),request:m.prototype.toJSON.call(this)};};return n;})(d.C9);b.hD=a;r.uf(g.fm,a);},function(r,b,a){var k,l,d,g,h,m,n,q;function c(p,t){return p.done?p:{value:{value:p.value,ILa:t}};}function f(p){p.ILa();return {done:!1,value:p.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.bnb=b.neb=b.$X=void 0;k=a(2);r=a(16);l=a(178);d=a(20);g=k.__importDefault(a(5));h=a(9);m=a(6);a=a(43);n=(function(){function p(t,u){this.console=t;this.Hf=u;this.mib=this.qQ=0;this.$f=[];this.console=h.er(g.default,this.console,"QueueIterator:");}Object.defineProperties(p.prototype,{Bub:{get:function(){return this.qQ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{XOa:{get:function(){var t,u,w;for(u=0;u < this.$f.length;u++){w=this.$f[u];if(!w.hU || (null === (t=w.item) || void 0 === t?0:t.done))break;}return u;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{count:{get:function(){return this.Hf;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ly:{get:function(){return 0 === this.Hf;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{tra:{get:function(){var t;for(t=0;t < this.$f.length && this.$f[t].vma;t++){;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{head:{get:function(){var t;t=k.__read(this.$f,1)[0];return (t=t && t.item) && !t.done && t.value;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Eoa:{get:function(){var t;for(t=0;t < this.$f.length && this.$f[t].hU;t++){;}return t;},enumerable:!1,configurable:!0}});p.prototype.v2=function(){var t;if(void 0 === this.Hf){t=this.console;d.ia && t && t.trace("QueueIterator: enqueueEnd");this.aua(this.Eoa - (this.Hf || 0));}};p.prototype.ro=function(){return this.$f.map(function(t){return t.item;});};p.prototype.Ata=function(){this.Wo || (this.Wo=this.$f.filter(function(t){return (null === t || void 0 === t?void 0:t.item) && !t.item.done;}).map(function(t){return t.item.value;}));return this.Wo;};p.prototype.aua=function(t){var u;d.ia && this.console.trace("updateCount",{P7b:this.Hf,CK:t});if(void 0 !== this.Hf){u=this.$f[this.Hf];u && this.Zla(u);}this.Hf=void 0 === this.Hf?t:void 0 === t?t:this.Hf + t;void 0 !== this.Hf && (this.Hf=Math.max(0,this.Hf),(u=this.$f[this.Hf]) && u.$F.resolve({done:!0}));};p.prototype.enqueue=function(t){var u;d.ia && this.console.trace("Enqueue called");u=this.Eoa;this.w1();return this.pPb(u,{value:t,done:!1}).vQa.promise;};p.prototype.O2a=function(){d.ia && this.console.trace("resetEnd");this.aua(void 0);};p.prototype.clear=function(t){var u,w,v;d.ia && this.console.trace("clear");this.D1a();u=this.tra;w=this.$f.length - u;if(0 < w){v={index:u,Roa:w};d.ia && this.console.trace("Removing items",v);this.$f.splice(u,w);this.w1();this.emit("onRemoved",v);}for(w=1;w < u;w++){this.Zla(this.$f[w]);}this.Hf=void 0;this.aua(t?t + u:t);this.qQ && (this.qQ=0);};p.prototype.getIterator=function(){var t,u;t=this;u=h.er(g.default,this.console,"QueueIteratorInstance::");return new q(this,function(w){return t.tUa(w);},u);};p.prototype.DK=function(){var t;if(0 < this.tra){t=k.__read(this.$f,1)[0];if(t.hU)return (d.ia && this.console.trace("dequeue",t.id),this.D1a(1),this.emit("onDequeue",t.$F.promise));}};p.prototype.remove=function(t){var u,w,v;for(u=0;u < this.$f.length;u++){w=this.$f[u];v=w.item;if(v && !v.done && v.value === t){this.$f.splice(u,1);this.Hf && this.Hf > u && this.Hf--;this.w1();d.ia && this.console.trace("removed",{id:w.id});this.emit("onRemoved",{index:u,Roa:1});break;}}};p.prototype.D1a=function(t){var u;t=t || Math.min(this.tra,this.Eoa);if(0 < t){u=this.$f.splice(0,t);this.w1();this.Hf && (this.Hf-=t);d.ia && this.console.trace("pruned",t);Promise.resolve().then(function(){u.forEach(function(w){w.vQa.resolve();});});this.emit("onRemoved",{index:0,Roa:t});this.qQ+=t;}};p.prototype.tUa=function(t){var u;d.ia && this.console.trace("getNextItemCalled",{offset:t});if(void 0 === this.count || 0 < this.count){this.nWa(t);u=this.$f[t];u.lRb.resolve();t=u.$F.promise;d.ia && this.console.trace("getNextItem:return",{id:u.id});}else (d.ia && this.console.trace("getNextItem:returnDone"),t=Promise.resolve({done:!0}));return t;};p.prototype.pPb=function(t,u){var w;w=!u.done && u.value;w=w && w.toJSON?w.toJSON():w;d.ia && this.console.trace("Providing result",{omb:t,item:w});this.nWa(t);t=this.$f[t];w=t.$F.resolve;w(u);return t;};p.prototype.nWa=function(t){var u;if(void 0 === this.$f[t]){u={};this.Zla(u);this.$f[t]=u;t === this.Hf && u.$F.resolve({done:!0});d.ia && this.console.trace("Item initialized",{omb:t});}};p.prototype.eha=function(t){var u;u={};u.promise=new Promise(function(w,v){u.resolve=function(x){w(x);t && t(x);};u.reject=v;});return u;};p.prototype.Zla=function(t){var u;u=this;t.$F=this.eha(function(w){t.item=w;t.hU=!0;d.ia && u.console.trace("Item resolved",{id:t.id});});t.id && t.vma && !t.hU && (t.$F.resolve({done:!0}),d.ia && this.console.warn("Overwriting requested queue item",t.id));t.vQa=this.eha();t.lRb=this.eha(function(){t.vma=!0;d.ia && u.console.trace("Item requested",{id:t.id});});t.id=this.mib++;t.vma=!1;t.hU=!1;t.item=void 0;};p.prototype.w1=function(){this.Wo=void 0;};p.prototype.ozb=function(){var t,u,w;t=this;u=h.er(g.default,this.console,"QueueIteratorInstance::");w=new q(this,function(v){var x,y;if(0 === t.count)return l.AsyncIterator.Pka();x=t.tUa(v);y=t.$f[0];return x.then(function(z){return c(z,function(){w.GL || (y === t.$f[0]?t.DK():m.assert(!t.$f.filter(function(A){return A.$F.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},u);return w;};return p;})();b.$X=n;a.uf(r.EventEmitter,n);q=(function(p){function t(u,w,v){var x;x=p.call(this,function(){d.ia && x.console.trace("Next item requested",{index:x.index});return x.JRb(x.index++);}) || this;x.parent=u;x.JRb=w;x.console=v;x.wJ=!1;x.index=0;x.bda=!1;x.L_a=function(y){var z;z=y.index;y=y.Roa;x.index >= z && (x.index=Math.max(z,x.index - y));z=x.console;d.ia && z && z.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}k.__extends(t,p);t.prototype.ih=function(){this.console.trace("disposed");this.wJ=!0;this.Lc();p.prototype.ih.call(this);};t.prototype.next=function(){this.GL || this.EL();return p.prototype.next.call(this);};t.prototype.cancel=function(){this.Lc();return p.prototype.cancel.call(this);};t.prototype.Lc=function(){this.parent.uM("onRemoved",this.L_a);this.bda=!1;};t.prototype.EL=function(){this.bda || (this.bda=!0,this.parent.on("onRemoved",this.L_a));};return t;})(l.AsyncIterator);b.neb=q;b.bnb=function(p){return l.map(p,f);};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Q6=void 0;c=a(15);b.Q6=function(f){switch(f){case c.ka.Yc:f=c.zc.Yc;break;case c.ka.zf:f=c.zc.zf;break;case c.ka.$g:case c.ka.Ci:case c.ka.wq:f=c.zc.Ci;break;default:f=c.zc.ak;}return f;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.YH=void 0;c=a(252);r=(function(){var l00;l00=2;for(;l00 !== 3;){switch(l00){case 4:return f;break;case 2:f.prototype.GQa=function(k,l){var n00,d;n00=2;for(;n00 !== 3;){switch(n00){case 2:d=null === this.lfa?k * (100 - this.config.s8) / 100:c.Uea(k,this.lfa);l=null !== l && void 0 !== l?l:this.XL;this.config.Zma && l?(k=c.Uea(k,l),k=Math.max(k,d)):k=d;return k;break;}}};f.prototype.tN=function(k){var o00;o00=2;for(;o00 !== 1;){switch(o00){case 2:this.lfa=k;o00=1;break;}}};f.prototype.Zta=function(k){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 2:this.config=k;p00=1;break;}}};l00=4;break;}}function f(k,l){var m00;m00=2;for(;m00 !== 3;){switch(m00){case 2:var F7Q="1SIY";F7Q+="bZrNJ";F7Q+="Cp9";this.config=k;this.XL=l;this.lfa=null;F7Q;m00=3;break;}}}})();b.YH=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Uea=b.JC=b.QRa=void 0;c=a(2).__importDefault(a(110)).default.RRa;b.QRa=function(f,k,l){var d,g,h;d=0;if(l){f.some(function(m){var n;n=m.b;m=m.m;if(k <= n)return (d=h && n !== g?h + (m - h) / (n - g) * (k - g):m,!0);g=n;d=h=m;return !1;});}else f.some(function(m){d=m.m;return k <= m.b;});return d;};b.JC=function(f,k,l){var d;k=(null === (d=k.Oa) || void 0 === d?void 0:d.Ca) || 0;return f.pnb?(f=c(f.onb,l.Il - l.wc,1),k * (1 - f)):k * f.s8 / 100;};b.Uea=function(f,k){return f < 2 * k?f / 2:f - k;};},function(r,b,a){var l;function c(){}function f(d,g){this.Nq=d;void 0 !== g?(l(g <= d.Zl,"require remain_sec <= chunk.sec but has " + g + " and " + d.Zl),this.Ak=g):this.Ak=d.Zl;}function k(d){void 0 === d && (d=[]);this.ko=[];this.Wg=this.sl=0;for(var g in d){this.add(d[g],void 0);}}l=a(6).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.Bs=function(){return new f(this.Nq,this.Ak);};k.prototype.constructor=k;k.prototype.add=function(d,g){d=new f(d,g);this.ko.push(d);this.Wg+=d.Ak;this.sl+=d.Nq.zy() * d.Ak;};k.prototype.Bs=function(){var d,g;d=new k(void 0);for(g in this.ko){d.add(this.ko[g].Nq,this.ko[g].Ak);}return d;};k.prototype.Ts=function(){try{return this.ko[0];}catch(d){}};k.prototype.Q0a=function(d){var g;for(l(0 <= d,"unexpected play_for_x_sec: x=" + d);0 < d;){if(void 0 === this.Ts())throw new c();if(d < this.Ts().Ak){g=this.Ts().Nq.zy() * d;this.Ts().Ak-=d;this.Wg-=d;this.sl-=g;d=0;}else (g=this.ko.shift(),this.Wg-=g.Ak,this.sl-=g.Nq.zy() * g.Ak,d-=g.Ak);}};k.prototype.JNb=function(d){var h;l(0 <= d,"unexpected play_y_kb: y=" + d);for(var g=0;0 < d;){if(void 0 === this.Ts())throw new c();if(d < this.Ts().Ak * this.Ts().Nq.zy()){h=d / this.Ts().Nq.zy();this.Ts().Ak-=h;this.Wg-=h;this.sl-=d;g+=h;d=0;}else (h=this.ko.shift(),this.Wg-=h.Ak,this.sl-=h.Nq.zy() * h.Ak,g+=h.Ak,d-=h.Nq.zy() * h.Ak);}return g;};r.exports={hwa:k,t9a:c};},function(r){r.exports={EBa:{code:-1,description:"MediaCache is not supported."},P2b:{code:100,description:"Resource was not found"},lcb:{code:101,description:"Resource Metadata was not found"},JI:{code:102,description:"Read failed",kq:function(b,a){return {code:this.code,description:b,cause:a};}},ZZ:{code:200,description:"Daily write limit exceeded"},ZH:{code:201,description:"Capacity has been exceeded"},YZ:{code:202,description:"Write failed, cause unknown",kq:function(b,a){return {code:this.code,description:b,cause:a};}},N3b:{code:203,description:"Write failed, cause unknown"},p$a:{code:300,description:"Failed to delete resource",kq:function(b,a){return {code:this.code,description:b,cause:a};}},nA:{code:900,description:"Invalid partition name"},Lbb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},mxa:{code:701,description:"Failed to initialize underlying disk cache."},kcb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(r){r.exports={sVa:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var f;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(k){c.error && c.error.code == k.error.code && c.error.description === k.error.description && (f=k);});f?f.resources.push(c.Yp):a.push({error:c.error,resources:[c.Yp]});});return a;}},pTa:function(b){var a;a={freeSize:b.Hm,dailyBytesRemaining:b.zK,bytesWritten:b.gk,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.xk,itemBytes:c.V4,error:c.error};}));return a;},Uv:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.IF=void 0;c=a(2).__importDefault(a(5));f=a(934);b.IF=function(){var l;if(!k){l=new c.default.Console("ASEJS","media|asejs");k=new f.Zua(l);}return k;};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.NZ=void 0;r=a(16);c=a(43);f=a(22);a=(function(){function k(l){void 0 === l && (l={uk:!1,currentTime:f.S.ab,speed:1});this.Jc={uk:function(){return "function" === typeof l.uk?l.uk():l.uk;},currentTime:function(){return "function" === typeof l.currentTime?l.currentTime():l.currentTime;},speed:function(){return "function" === typeof l.speed?l.speed():l.speed;}};}Object.defineProperties(k.prototype,{uk:{get:function(){return this.Jc.uk();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{currentTime:{get:function(){return this.Jc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{speed:{get:function(){return this.Jc.speed();},enumerable:!1,configurable:!0}});return k;})();b.NZ=a;c.uf(r.EventEmitter,a);},function(r,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.CA=void 0;c=a(2);f=a(20);k=a(9);l=a(54);r=(function(){function d(g,h){this.Qh=g;this.options=c.__assign({Mpb:!0},h);}Object.defineProperties(d.prototype,{yC:{get:function(){return "trace-" + this.Qh.source;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Li:{get:function(){return this.yC;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.ia;},enumerable:!1,configurable:!0}});d.prototype.Qn=function(g){var h,m;if(g.oi === l.ae.pp || g.oi === l.ae.Hr){h=k.jQa(this.Qh.yGb);m=this.Qh.WDb;g.oi === l.ae.pp && this.options.Mpb && this.Qh.clear();g=h;Object.keys(m).length && (g=c.__spread(h,[m]));return g;}};d.prototype.zb=function(){this.Qh.zb();};return d;})();b.CA=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.E3=b.Fp=b.isEqual=b.kU=void 0;c=a(9);b.kU=function(f){return ! !f.aa;};b.isEqual=function(f,k){var l,d;l=b.kU(f);d=b.kU(k);return l === d?l?f.aa === k.aa:f.Da === k.Da:!1;};b.Fp=function(f){if(b.kU(f))return f.aa;f=f.Da;return f.xa[f.Qe].aa;};b.E3=function(f,k){return f.b1?f.b1 instanceof c.S?{offset:f.b1,va:k.Qe}:f.b1:{offset:c.S.ab,va:k.Qe};};},function(r,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.Kua=void 0;c=a(7);f=a(3);k=a(439);l=a(440);d=a(62);b.Kua=function(g,h){var m,n;try{n=k.U7a(g);}catch(q){c.log.error("xml2xmlDoc exception",q);}d.fg(function(){if(n && n.documentElement)try{m=l.V7a(n);}catch(q){c.log.error("xmlDoc2js exception",q);}d.fg(function(){m?h({W:!0,object:m}):h({W:!1,oa:f.L.Uya});});});};},function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Aka:function(){return this.buffer.length - this.position;},wz:function(){return this.buffer[this.position++];},qh:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Tp:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},Gqa:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Sg:function(){return this.Tp(2);},Up:function(){return this.Tp(4);},UM:function(){return this.Tp(8);},Yv:function(a){for(var c,f="";a--;){c=this.wz();f+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return f;},Jqa:function(a){for(var c=0,f=0;f < a;f++){c+=this.wz() << (f << 3);}return c;},TM:function(){return this.Jqa(4);},NX:function(a){this.iO(a,2);},bA:function(a){this.iO(a,4);},h9:function(a){this.buffer[this.position++]=a;},iO:function(a,c){this.position+=c;for(var f=1;f <= c;f++){this.buffer[this.position - f]=a & 255;a=Math.floor(a / 256);}},aA:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},MX:function(a){for(var c=a.length,f=0;f < c;f++){this.buffer[this.position++]=a[f];}},hO:function(a,c){this.MX(a.qh(c));}};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kBa="LogMessageRulerConfigSymbol";b.mBa="LogMessageRulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.raa="MilestonesEventBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jZ="NetworkMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qaa="PboLicenseResponseTransformerSymbol";},function(r,b,a){var d,g,h,m,n,q;function c(p,t,u,w){this.wa=p;this.N3=t;this.Ha=u;this.profile=w;}function f(){}function k(){}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.jEa=b.sZ=void 0;r=a(1);d=a(0);g=a(39);h=a(4);m=a(14);n=a(19);a=a(89);l.prototype.encode=function(p){return {downloadableId:p.Dd,duration:p.duration};};l.prototype.decode=function(p){return {Dd:p.downloadableId,duration:p.duration};};k.prototype.encode=function(p){return {total:p.total,totalContentTime:p.DH,audio:p.audio.map(new l().encode),video:p.video.map(new l().encode),text:p.text.map(new l().encode)};};k.prototype.decode=function(p){var t;return {total:p.total,DH:null !== (t=p.totalContentTime) && void 0 !== t?t:p.total,audio:p.audio.map(new l().decode),video:p.video.map(new l().decode),text:p.text.map(new l().decode)};};f.prototype.encode=function(p){return {type:p.type,href:p.href,xid:p.ca,movieId:p.K,position:p.position,clientTime:p.YR,sessionStartTime:p.yW,videoTrackId:p.dO,audioTrackId:p.ep,timedTextTrackId:p.fX,mediaId:p.aM,playTimes:new k().encode(p.DV),trackId:p.trackId,sessionId:p.sessionId,appId:p.appId,sessionParams:p.no,mdxControllerEsn:p.Wna,profileId:p.profileId};};f.prototype.decode=function(p){return {type:p.type,href:p.href,ca:p.xid,K:p.movieId,position:p.position,YR:p.clientTime,yW:p.sessionStartTime,dO:p.videoTrackId,ep:p.audioTrackId,fX:p.timedTextTrackId,aM:p.mediaId,DV:new k().decode(p.playTimes),trackId:p.trackId,sessionId:p.sessionId,appId:p.appId,no:p.sessionParams,Wna:p.mdxControllerEsn,profileId:p.profileId};};b.sZ=f;c.prototype.create=function(p){var t,u,w;return {href:p.sa && p.sa.Hj?p.sa.Hj.yT("events").href:"",type:"online",ca:p.ca.toString(),K:p.K,position:Math.floor(p.nha || 0),YR:this.wa.L7.ea(h.ma),yW:p.DL?p.DL.ea(h.ma):-1,dO:null === (t=p.Sh.value) || void 0 === t?void 0:t.trackId,ep:null === (u=p.Ud.value) || void 0 === u?void 0:u.trackId,fX:null === (w=p.Sc.value) || void 0 === w?void 0:w.trackId,aM:void 0,DV:this.LBb(p),trackId:void 0 !== p.Fk?p.Fk.toString():"",sessionId:this.N3().sessionId || this.Ha.id,appId:this.N3().appId || this.Ha.id,no:p.ib.no || ({}),profileId:this.profile};};c.prototype.Lsb=function(p,t){return Object.assign({},this.create(p),{Wna:t && t.J1});};c.prototype.load=function(p){return new f().decode(p);};c.prototype.uka=function(p){return p.map(function(t){return {Dd:t.downloadableId,duration:t.duration};});};c.prototype.LBb=function(p){return (p=p.ho)?(p=p.KBb(),{total:p.total,DH:p.totalContentTime,audio:this.uka(p.audio),video:this.uka(p.video),text:this.uka(p.timedtext)}):{total:0,DH:0,video:[],audio:[],text:[]};};q=c;q=r.__decorate([d.R(),r.__param(0,d.l(g.Wh)),r.__param(1,d.l(m.Zc)),r.__param(2,d.l(n.rd)),r.__param(3,d.l(a.NP))],q);b.jEa=q;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pEa="PboPlaydataValidatorSymbol";b.gEa="PboPlaydataArrayValidatorSymbol";b.iEa="PboPlaydataCollectionValidatorSymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.hY=void 0;f=a(11);c.Xga=function(k){var l;if(f.He.queryCommandSupported && f.He.queryCommandSupported("copy")){l=f.He.createElement("textarea");l.textContent=k;l.style.position="fixed";f.He.body.appendChild(l);l.select();try{f.He.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{f.He.body.removeChild(l);}}};b.hY=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.caa=void 0;b.caa=a;a.r$a="display";a.I9a="console";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rU=void 0;b.rU=function(a,c,f){var k;if(f.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");k=f.get;f.get=function(){var l,d;l=k.apply(this,arguments);d={enumerable:f.enumerable,value:l};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return l;};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lba=b.II=void 0;r=b.II || (b.II={});r.OVb="taskstart";r.MVb="taskabort";r.NVb="taskfail";r.PVb="tasksuccess";b.lba="PreparerTaskSchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.V9="CacheManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vva="AsePrefetcherAdapterSymbol";b.wva="AsePrefetcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.G9=b.ae=void 0;r=b.ae || (b.ae={});r[r.Vt=0]="startPlayback";r[r.pp=1]="endPlayback";r[r.Hr=2]="underflow";b.G9="AseIntegrationFactorySymbol";},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});b.sH=void 0;c=a(12);f=a(13);k=a(64);l=a(51);d=a(3);g=a(21);h=a(7);m=a(24);n=a(11);q=a(276);p=a(18);r=a(32);h.ha.get(r.Xg).register(d.M.cAa,function(t){var v,x,y;function u(){var z;u=c.Kk;z=setInterval(w,f.config.VHb);k.mf.addListener(k.Jm,function(A){A && A.isPopStateEvent?v.trace("popstate event, Lock timers can stay"):(m.de(x,function(B,D){localStorage.removeItem(D.cr);}),clearInterval(z));},c.OD);}function w(){var z;z=l.y1();m.de(x,function(A,B){!1;A=localStorage.getItem(B.cr);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:y,count:1};localStorage.setItem(B.cr,JSON.stringify(A));});}g.hb(q.storage);v=h.mi("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.sH={wx:function(z,A,B){var E,F,C,G,J,K,H,L,P,I;function D(O){localStorage.setItem(C,JSON.stringify(O));O={cr:C};x[C]=O;v.trace("Lock acquired",{Name:O.cr});u();A({W:!0,m5:O});}E=this;B=void 0 === B?!1:B;if(localStorage){F=l.y1();C="lock-" + z;G={updated:F,sessionId:y,count:1};try{if((C in localStorage)){J=localStorage.getItem(C);K=0;H=JSON.parse(J);p.Oy(H.updated) && (K=H.updated);L=n.CD(F - K) * c.Jk;P=y === H.sessionId;if(L < f.config.cYa){if(P)(H.count+=1,v.debug("Incremented lock count for existing playbackSession",{id:y,count:H.count}),H.updated=F,D(H));else if(B){I=f.config.cYa - L + c.Jk;v.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:H.count,Epoch:F,LockEpoch:K,waitTimeoutMs:I});pb.setTimeout(function(){return E.wx(z,A,!1);},I);}else A({W:!1});}else (v.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:K}),D(G));}else D(G);}catch(O){v.error("Error acquiring Lock",{errorSubCode:d.L.hj,errorDetails:m.wd(O)});A({W:!0});}}else (n.cna?v.error("Local storage access exception",{errorSubCode:d.L.Neb,errorDetails:m.wd(n.cna)}):v.error("No localstorage",{errorSubCode:d.L.Oeb}),A({W:!0}));},release:function(z,A){var B,D;g.hb(x[z.cr] == z);if(localStorage){try{B=localStorage.getItem(z.cr);D=JSON.parse(B);1 < D.count?(--D.count,localStorage.setItem(z.cr,JSON.stringify(D)),v.trace("Lock count decremented",{Name:z.cr,count:D.count})):(localStorage.removeItem(z.cr),delete x[z.cr],v.trace("Lock released",{Name:z.cr}));}catch(E){v.error("Unable to release Lock",{Name:z.cr},E);}A && A(c.Ie);}}};f.config.t2?b.sH.wx("session",function(z){b.sH.F3a=z;t(c.Ie);}):t(c.Ie);});},function(r,b,a){var c,f,k,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(13);f=a(12);k=a(495);r=a(3);l=a(496);d=a(498);g=a(7);a=a(32);b.storage=b.storage || void 0;g.ha.get(a.Xg).register(r.M.bAa,function(h){var m;switch(c.config.RUb){case "idb":m=l.X4a;break;case "none":m=k.Z4a;break;case "ls":m=d.Y4a;}m(function(n){n.W?(b.storage=n.storage,h(f.Ie)):h(n);});});},function(r,b,a){var k,l,d,g,h,m,n,q,p,t,u,w;function c(v,x){var z;function y(){function A(B,D){return D.ee && 0 !== D.ee.length && D.ee[0].fG?k.yz(v,D).then(function(){z.trace("Successfully released license for session",JSON.stringify(D));return B?B.dW(D):Promise.resolve();}).catch(function(E){z.error("Unable to send stop command for session",JSON.stringify({Nb:D,error:E}));throw E;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.dW(D):Promise.resolve());}f(z).then(function(B){var D;D=B.m2.filter(function(E){return !1 === E.active;}).map(function(E){return A(B,E);});Promise.all(D).then(function(){z.info("release drm session completed for " + D.length + " entries");x(l.Ie);}).catch(function(E){E=E || ({});E.DrmCacheSize=D.length;z.error("Unable to release one or more DRM session data",E);x(l.Ie);});}).catch(function(B){z.error("Unable to load DRM session data",B);x(l.Ie);});}z=m.mi("PlayDataManager");x=x || l.Kk;d.config.Kr?x(l.Ie):y();}function f(v){var x;if(!b.dia){x=m.ha.get(n.W9);b.dia=new Promise(function(y,z){x.P1a().then(function(){y(x);}).catch(function(A){v.error("Unable to load DRM data for license release",A);z(A);});});}return b.dia;}Object.defineProperty(b,"__esModule",{value:!0});b.DEa=b.CEa=b.dia=void 0;k=a(278);l=a(12);d=a(13);g=a(64);h=a(34);m=a(7);r=a(3);n=a(201);q=a(185);p=a(17);t=a(55);u=a(32);w=a(197);b.CEa=function(v){var z,A,B,D,E,F;function x(){A || (v.Od("pdsb"),A=m.ha.get(q.tZ)().then(function(C){D=C;v.Od("pdsc");return C;}).catch(function(C){z.error("Unable to initialize the playdata services",C);v.Od("pdse");throw C;}));return A;}function y(){B=!0;D && D.close();g.mf.removeListener(g.Jm,y);}z=m.jh(v,"PlayDataManager");B=!1;E=m.ha.get(h.wA);if(!E.iI || !E.gI){F=m.ha.get(w.Yaa)();E.iI=F.Nb;E.gI=F.request;}v.Od("pdctor");v.addEventListener(p.Z.xg,function(){g.mf.removeListener(g.Jm,y);});v.addEventListener(p.Z.UL,function(){var C;if(!d.config.Kr && v.Xe){C=v.fS.APa();f(z).then(function(G){return G.OLa(C);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});v.addEventListener(p.Z.xg,function(){var C;if(!B){v.bZb();C=[(function(){return d.config.Kr || !v.Xe?Promise.resolve():new Promise(function(G){var J;z.info("Sending the expedited playdata");J=v.fS.APa();v.Xe.WRa(J).then(function(){z.info("Sent the expedited playdata");return f(z);}).then(function(K){return K?K.dW(J):Promise.resolve();}).then(function(){G(void 0);}).catch(function(K){z.error("Unable to send the expedited playdata",K);G();});});})(),(function(){return x().then(function(G){return G.W4a(v.ga);}).then(function(){z.info("Sent the playdata");}).catch(function(G){z.error("Unable to send the playdata",G);});})(),(function(){return new Promise(function(G){m.ha.get(t.Ao).flush(!1).catch(function(){z.error("Unable to send logblob");G(void 0);}).then(function(){G(void 0);});});})()];Promise.all(C).then(function(){v.o6();}).catch(function(){v.o6();});}});g.mf.addListener(g.Jm,y);return {vSb:function(C){v.Od("pdpb");d.config.I7 || x().then(function(G){return G.send(v.K);}).then(function(){d.config.Kr?(v.Od("pdpc"),C(l.Ie)):c(v,function(){v.Od("pdpc");C(l.Ie);});}).catch(function(){v.Od("pdpe");C(l.Ie);});}};};b.DEa=function(){return new Promise(function(v){c({},function(x){v(x);});});};m.ha.get(u.Xg).register(r.M.mA,function(v){v(l.Ie);});},function(r,b,a){var k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z;function c(A){var B;B=this;this.j=A;this.nNa=this.UXa=!1;this.log=g.jh(this.j,"Playback");this.TL=g.ha.get(t.rP);this.Lh=g.ha.get(v.tu);this.fNb=g.ha.get(x.Oaa);this.il=g.ha.get(z.BD);this.j.addEventListener(w.Z.UL,function(){return B.XXb();});h.hb(l.config);l.config.Kr || (this.Fvb=g.ha.get(m.Uxa));}function f(A,B){var E;function D(F){return F && 0 < F.length && F[0].fG;}E=g.ha.get(t.rP);return A.ca && D(A.ee)?E.release({ca:A.ca,ee:A.ee}).then(function(){}):B.ca && D(B.ee)?E.release(B).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.yz=b.$wa=void 0;k=a(12);l=a(13);d=a(51);g=a(7);h=a(21);m=a(306);n=a(3);q=a(66);p=a(18);t=a(184);u=a(472);w=a(17);v=a(71);x=a(279);y=a(34);z=a(117);c.prototype.HR=function(A){var B;B=this;h.AK(this.j.K);h.AK(this.j.Fk);Promise.all([this.j.sa,l.config.Sv && this.il.R3(this.j.K)?this.il.h3(this.j.K):void 0]).then(function(D){var E,F;E=aa(D);D=E.next().value;E=E.next().value;D && E?F=l.config.pOb || E.bd.expiration > D.bd.expiration?E:D:D?F=D:E && (F=E);F && 18E5 > F.bd.expiration - d.Aga() && (F=void 0);return F?(B.j.YE=F === D?"ui":"videopreparer",F):B.j.u3a();}).then(function(D){try{B.j.v1a(D);A(k.Ie);B.ayb();}catch(E){B.log.error("Exception processing authorization response",E);A({W:!1,oa:n.L.Zdb});}}).catch(A);};c.prototype.HF=function(A){var B;B=this;return new Promise(function(D,E){var F,C,G;F=q.oq.rPa(A.Sf);C=A.Bj.map(function(J){return {sessionId:J.sessionId,dataBase64:g.kB(J.data)};});G=B.j.NBb(A.Bj[0].sessionId);F={Vi:G.Vi,Sf:p.is.En(A.Sf)?A.Sf:F,l2:[G.Ll],Bj:C,ca:G.ca,On:A.On,Hj:G.sa.Hj};B.j.pK && B.j.pK.J1 && (F.JU=B.j.pK.J1);B.TL.wx(F).then(function(J){B.j.ee=J.ee;D(J);B.byb(G);}).catch(E);});};c.prototype.release=function(A){return f(this.j,A);};c.prototype.APa=function(){var A;A=this.Fvb.create();A.ee=this.j.ee;A.ca=this.j.ca;A.K=this.j.K;return A;};c.prototype.byb=function(A){this.UXa || (this.UXa=!0,this.j.fireEvent(w.Z.UL,{K:A.K}));};c.prototype.ayb=function(){this.nNa || (this.nNa=!0,this.j.fireEvent(w.Z.anb),g.ha.get(u.lEa).Vt(this.j));};c.prototype.XXb=function(){var A,B;A=this;B=g.ha.get(y.Mk);this.Lh.pma || c.a7a || (c.a7a=!0,B.tua && l.config.WXb && this.fNb.Qf(this.log,{}).then(function(){return A.log.trace("Updated NetflixId");}).catch(function(D){return A.log.error("NetflixId upgrade failed",n.Sr(D));}));};b.$wa=c;c.a7a=!1;b.yz=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oaa="PboBindCommandSymbol";},function(r,b,a){var k,l,d,g,h,m,n,q,p,t,u,w;function c(v){v=Error.call(this,v);this.message=v.message;("stack" in v) && (this.stack=v.stack);this.name="CodecSwitchingError";}function f(v,x,y,z,A){var B,D;B=this;this.j=v;this.type=x;this.LIa=z;this.log=A;this.Q_=new g.Ac(!1);this.fE={data:[],state:"",operation:""};this.mimeType=this.ZRa((this.type === k.Pb.Ra.Eb?this.j.Sh.value:this.j.Ud.value).streams);this.$r=new h.Yj();this.rda={Type:this.type};if(d.config.kC){D=!0;this.cja=new g.Ac(!1);}this.log.trace("Adding source buffer",this.rda,{TypeId:this.mimeType});this.Tc=y.addSourceBuffer(this.mimeType);this.Tc.addEventListener("updatestart",function(){!1;B.fE.state="updatestart";});this.Tc.addEventListener("update",function(){!1;B.fE.state="update";});this.Tc.addEventListener("updateend",function(){var E;!1;B.Q_.set(!1);B.TIa && B.TIa();B.fE.state="updateend";E=0;try{E=B.Tc.buffered.length;}catch(F){}D && E && (D=!1,B.cja.set(!0),!1);});this.Tc.addEventListener("error",function(E){var F;!1;try{F=E.target.error && E.target.error.message;(E.message || F) && A.error("error event received on sourcebuffer",{mediaErrorMessage:E.message});}catch(C){}v.Kd(n.M.Tdb,l.n3(B.type));});this.Tc.addEventListener("abort",function(){!1;});v.addEventListener(t.Z.closed,function(){B.Tc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.T9a=b.naa=void 0;k=a(53);l=a(171);d=a(13);g=a(105);h=a(73);m=a(7);a(94);n=a(3);a(4);q=a(21);p=a(18);t=a(17);u=a(139);w=a(189);f.prototype.li=function(){return this.Q_.value;};f.prototype.updating=function(){return this.Tc?this.Tc.updating:!1;};f.prototype.O7=function(v){this.TIa=v;};f.prototype.i3=function(){return this.fE;};f.prototype.buffered=function(){return this.Tc.buffered;};f.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};f.prototype.toJSON=function(){return {type:this.type};};f.prototype.g3=function(){var v,x,y,z,A,B,D;try{v=this.Tc.buffered;x=0;if(v){y=[];z=0;A=v.length;for(z=0;z < A;z++){B=v.start(z);D=v.end(z);x+=D - B;q.hb(D > B);y.push(B + "-" + D);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(E){}};f.prototype.EMa=function(v,x){!1;try{q.hb(this.Tc.buffered && 1 >= this.Tc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.g3()));}catch(y){}q.hb(!this.li());this.k4a("append",v);x=x && x.It / 1E3;p.ya(x) && this.Tc.timestampOffset !== x && (!1,this.Tc.timestampOffset=x);this.Tc.appendBuffer(v);!1;this.Q_.set(!0);};f.prototype.remove=function(v,x){q.hb(!this.li());try{this.k4a("remove");!1;this.Tc.remove(v,x);this.Q_.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.rda);}};f.prototype.k4a=function(v,x){this.fE.data=x || [];this.fE.state="init";this.fE.operation=v;};f.prototype.uTb=function(v,x){this.bHb=Math.floor(1E3 * v / x);};f.prototype.apb=function(v){var x;if(this.Tc){if((v=this.ZRa([{type:this.Bqb,Jg:v}]),v !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v);if(!this.Tc.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Tc.changeType(v);this.mimeType=v;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.rda,{From:x,To:v}),new c(y.message));}}}else this.log.info("No SourceBuffer");};f.prototype.appendBuffer=function(v,x){!x || x.Pc?this.Tea(v,x):this.R0(v,x);return !0;};f.prototype.Tea=function(v,x){this.j.Bg.Tea(this,v,x || ({}));};f.prototype.R0=function(v,x){v=this.vqb(v,x);!1;this.j.Bg.R0(v);};f.prototype.vqb=function(v,x){var y;y=this.bHb || 0;return {xOa:function(){this.response=void 0;},Kh:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:w.cc.Bc.DONE,rz:x.X,Vv:x.X + x.duration,hy:x.duration,It:y,Cj:x.Cj,va:x.va,Ma:x.Ma,zd:+x.zd,location:x.location,iK:x.offset,hK:x.offset + x.da - 1,bitrate:x.bitrate,response:v,BVa:v && 0 < v.byteLength,eC:!0,get Pc() {return !this.eC;},o3a:this.rj - y || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.va,isHeader:this.Pc,ptsStart:this.rz,ptsOffset:this.It,responseType:this.e4b,duration:this.hy,readystate:this.dh};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};f.prototype.endOfStream=function(){var v;this.j.OE("EndOfStream");null === (v=this.j.Bg) || void 0 === v?void 0:v.p6(this.mediaType);};f.prototype.addEventListener=function(v,x,y){this.$r.addListener(v,x,y);};f.prototype.removeEventListener=function(v,x){this.$r.removeListener(v,x);};f.prototype.ZRa=function(v){var x;x=m.ha.get(u.TP);return this.type === k.Pb.Ra.Eb?x.P1(v):x.M1(v);};Xa.Object.defineProperties(f.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},h1:{configurable:!0,enumerable:!0,get:function(){return this.LIa.h1;}},MW:{configurable:!0,enumerable:!0,get:function(){return this.LIa.MW;}},Bqb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.naa=f;la(c,Error);b.T9a=c;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.VPa=b.zna=void 0;c=a(21);f=a(24);k=a(18);(function(){var d,g,h;function l(m){c.hb(void 0 !== d[m]);return d[m];}d={'"':'""',"\r":"","\n":" "};g=/["\r\n]/g;h=/[", ]/;b.VPa=function(m){return k.Kc(m)?k.ya(m)?m:k.Ce(m)?m.replace(g,l):k.cma(m)?m:isNaN(m)?"NaN":"":"";};b.zna=function(m){var n,q;n=b.VPa;q="";f.de(m,function(p,t){p=n(p) + "=" + n(t);h.test(p) && (p='"' + p + '"');q=q?q + ("," + p):p;});return q;};})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lj=void 0;r=b.lj || (b.lj={});r[r.H4a=1]="sourceopen";r[r.Pq=2]="currentTimeChanged";r[r.uW=3]="seeked";r[r.TXa=5]="licenseadded";r[r.G4a=6]="sourceBuffersAdded";r[r.x6=7]="onNeedKey";},function(r,b,a){var C,G,J,K,H,L,P,I,O,N,M,Q,S,fa,qa,xa,ua,X,sa,T,R,ca,ja,Pa,wa,Ua,Va,cb,Ya,kb,$a;function c(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function f(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function k(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function l(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);this.lH=Ra.config.lH;this.gd=this.sizes=void 0;}function d(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function g(){for(var Ra=new DataView(this),ya="",Ia,Ma=0;Ma < this.byteLength;Ma++){Ia=Ra.getUint8(Ma);ya+=("00" + Ia.toString(16)).slice(-2);}return ya;}function h(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function m(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function n(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function q(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function p(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function t(Ra){function ya(Ia,Ma,Ta,hb,wb){K.call(this,Ia,Ma,Ta,hb,wb);this.$U=Ra;}ya.La=!1;ya.prototype=new K();ya.prototype.constructor=ya;Object.defineProperties(ya.prototype,{GO:{get:function(){return this.$U;}}});ya.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.$U + "'");this.u.offset=this.startOffset + 4;this.ja.LX(this.GO);this.type=this.GO;return !0;};return ya;}function u(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function w(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function v(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function x(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function y(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function z(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function A(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function B(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function D(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function E(Ra,ya,Ia,Ma,Ta){K.call(this,Ra,ya,Ia,Ma,Ta);}function F(Ra,ya){Ra.forEach(function(Ia){ya[Ia.Mb]=Ia;});}C=a(156).assert;b=a(101);G=a(284).S;J=a(512);a(157);a(87);a(87);a(87);K=a(33).mc;H=a(1113).default;L=a(1114).default;P=a(1115).default;I=a(1116).default;O=a(1117).default;N=a(1118).default;M=a(1119).default;Q=a(1120).default;S=a(1121).default;a(285);a(191);fa=a(513).m9;qa=a(513).p$;xa=a(1122).default;ua=a(1123).default;X=a(102).default;sa=a(102).u9;T=a(102).v9;R=a(102).w9;ca=a(102).x9;ja=a(1124).default;Pa=a(1125).default;wa=a(102).I$;Ua=a(102).D$;Va=a(1126).default;cb=a(1127).default;Ya=a(1128).default;kb=a(514).default;$a=a(515).default;a(158);a(288);a(289);a(287);a=a(1129).default;c.La=!0;c.prototype=new K();c.prototype.constructor=c;f.La=!0;f.prototype=new K();f.prototype.constructor=f;k.La=!1;k.prototype=new K();k.prototype.constructor=k;k.prototype.parse=function(){var Ra;this.ic();1 === this.version?(this.u.Hd(),this.u.Hd(),this.U=this.u.ta(),this.duration=this.u.Hd()):(this.u.ta(),this.u.ta(),this.U=this.u.ta(),this.duration=this.u.ta());Ra=this.u.Gc() & 32767;this.language=String.fromCharCode(96 + (Ra >>> 10),96 + (Ra >>> 5 & 31),96 + (Ra & 31));return !0;};l.La=!1;l.prototype=new K();l.prototype.constructor=l;l.prototype.Fda=function(){this.ic();this.u.ta();this.U=this.u.ta();0 === this.version?(this.JS=this.u.ta(),this.cT=this.u.ta()):(this.JS=this.u.Hd(),this.cT=this.u.Hd());this.K2a=this.u.Gc();this.ZV=this.u.Gc();};l.prototype.yca=function(Ra,ya){var Ia,Ma,Ta;Ia=this.U;Ra=Ra && Ra.U || Ia;Ma=Ra / Ia;Ia=this.u.uz(ya,12,!1);Ta=1 === Ma?this.u.uz(ya,12,!1):J.from(Uint32Array,{length:ya},function(){var hb;hb=Math.round(this.u.ta() * Ma);this.u.offset+=8;return hb;},this);this.iea(ya,Ta,Ia,Ra);};l.prototype.iea=function(Ra,ya,Ia,Ma){if(this.lH){Ma=this.lH * Ma / 1E3;for(var Ta=0,hb=1;hb < Ra;hb++){Math.abs(ya[Ta] - Ma) > Math.abs(ya[Ta] + ya[hb] - Ma)?(ya[Ta]+=ya[hb],Ia[Ta]+=Ia[hb]):(++Ta,Ta !== hb && (ya[Ta]=ya[hb],Ia[Ta]=Ia[hb]));}++Ta;ya=new Uint32Array(ya.buffer.slice(0,4 * Ta));Ia=new Uint32Array(Ia.buffer.slice(0,4 * Ta));}this.sizes=Ia;this.gd=ya;};l.prototype.parse=function(Ra){var ya,Ia,Ma,Ta;this.Fda();this.pa=Ra.pa;ya=this.U;Ia=this.pa && this.pa.U || ya;Ma=this.ZV;Ta=this.startOffset + this.length + this.cT;ya=new G(this.JS,ya).Xf(Ia).Xb;this.Y={U:Ia,Dk:ya,offset:Ta};this.yca(this.pa,Ma);this.Y.gd=this.gd;this.Y.sizes=this.sizes;Ra.Br=this;return !0;};d.La=!1;d.prototype=new K();d.prototype.constructor=d;d.prototype.parse=function(){var Ra;this.hq=[];this.Kpa=[];Ra=(this.length - 11) / 2;this.u.eb();this.u.eb();this.u.eb();for(var ya=0;ya < Ra;ya++){this.hq.push(this.u.eb());this.Kpa.push(this.u.eb());}return !0;};h.La=!1;h.prototype=new K();h.prototype.constructor=h;h.prototype.parse=function(){this.ic();this.u.offset+=4;this.aG=this.u.offset;this.Ni=this.u.Hqa(16);this.Ni.toString=g;return !0;};m.La=!1;m.prototype=new K();m.prototype.constructor=m;m.prototype.parse=function(){this.ic();this.Pf=this.u.Gc();this.Vna=this.u.uz(this.Pf,void 0,!0);return !0;};n.La=!1;n.prototype=new K();n.prototype.constructor=n;n.prototype.parse=function(Ra){var ya,Ia,Ma,Ta,hb,wb;ya=Ra.Br;C(ya);Ra=Ra.pa;Ia=ya.U;ya=ya.ZV;C(Ra);C(Ia);C(ya);this.ic();C(2 > this.version);this.Pf=this.u.Gc();this.zt=new Uint16Array(ya + 1);Ma=Ra.I3(Ia);Ta=Ma / Ia;hb=Ra.Xf(Ma).Xb;if(0 === this.version)for((this.Nt=new Uint16Array(),this.Gd=new Uint32Array(),Ra=Ia=0);Ra <= ya;++Ra){if((this.zt[Ra]=Ia,Ra < this.Pf)){wb=this.u.eb();if(0 !== wb)for(Ma=0;Ma < wb;(++Ma,++Ia)){this.Nt[Ia]=Math.floor((this.u.ta() + 1) * Ta) / hb;this.Gd[Ia]=this.u.ta();}}}else if(1 === this.version)for((Ma=this.u.Dqa(this.Pf,10,!1),this.u.offset+=4,this.Gd=this.u.uz(this.Pf,10,!1),this.u.offset-=8,this.Nt=J.from(Uint16Array,{length:this.Pf},function(){var Eb;Eb=Math.floor((this.u.ta() + 1) * Ta) / hb;this.u.offset+=6;return Eb;},this),Ia=Ra=0);Ra <= ya;++Ra){for(;Ia < Ma.length && Ma[Ia] < Ra;){++Ia;}this.zt[Ra]=Ia;}this.Eh={zt:this.zt,Nt:this.Nt,Gd:this.Gd};return !0;};q.La=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;p.La=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;p.prototype.Js=function(){var Ra;Ra=this.vh("tfhd");Ra && (this.yj=Ra.KR?Ra.yj:this.parent.startOffset);return !0;};u.La=!1;u.prototype=new K();u.prototype.constructor=u;u.prototype.parse=function(){var Ra,Ob;Ra=this.u.offset;this.ic();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var ya=this.u.offset,Ia=this.u.eb(),Ma=this.u.eb(),Ta=this.u.eb(),hb=this.u.eb(),wb=this.u.Gc(),Eb=[],Hb=0;Hb < wb;++Hb){Eb=this.u.eb();}Hb=(Ia & 240) >>> 4;Ob=(Ia & 14) >>> 1;Ia&=1;Ta=16 === Ta?1:0;Ma != hb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Ma + " and matrixCoefficients " + hb + " should be the same value!");hb=2;switch(Ma){case 1:hb=2;break;case 6:hb=1;break;case 9:hb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Ma + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.ja.$z(this.version,Ra);this.ja.$z(Hb << 4 | hb,ya++);this.ja.$z(Ob << 4 | Ta << 1 | Ia,ya++);wb+=2;Eb.push(0,0);this.ja.Hua(wb,!1);ya+=2;Eb.forEach(function(Cb){this.ja.$z(Cb,ya++);});}return !0;};w.La=!1;w.prototype=new K();w.prototype.constructor=w;w.Mb="tfhd";Object.defineProperties(w.prototype,{KR:{get:function(){return this.flags & 1;}},Kra:{get:function(){return this.flags & 2;}},Fha:{get:function(){return this.flags & 8;}},Iha:{get:function(){return this.flags & 16;}},Gha:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(){this.ic();this.GH=this.u.ta();this.yj=this.KR?this.u.Hd():void 0;this.Kra && this.u.ta();this.Zx=this.Fha?this.u.ta():void 0;this.ay=this.Iha?this.u.ta():void 0;this.$x=this.Gha?this.u.ta():void 0;return !0;};v.La=!1;v.prototype=new K();v.prototype.constructor=v;v.prototype.parse=function(){this.ic();this.Hx=1 === this.version?this.u.Hd():this.u.ta();return !0;};v.prototype.na=function(Ra){var ya;ya=this.startOffset + 12;this.Hx+=Ra;1 === this.version?this.ja.Iua(this.Hx,ya):this.ja.Eg(this.Hx,ya);};x.La=!1;x.prototype=new K();x.prototype.constructor=x;Object.defineProperties(x.prototype,{nS:{get:function(){return this.flags & 1;}},yF:{get:function(){return this.flags & 4;}},Dz:{get:function(){return this.flags & 256;}},Ez:{get:function(){return this.flags & 512;}},rW:{get:function(){return this.flags & 1024;}},$G:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.ic();this.OR=this.u.offset;this.Ab=this.u.ta();this.Ej=this.nS?this.u.OG():0;this.yF && this.u.ta();this.Mt=(this.Dz?4:0) + (this.Ez?4:0) + (this.rW?4:0) + (this.$G?4:0);this.py=this.u.offset;C(this.nS,"Expected data offset to be present in Track Run");C(this.length - (this.u.offset - this.startOffset) === this.Ab * this.Mt,"Expected remaining data in box to be sample information");return !0;};x.prototype.gs=function(Ra,ya,Ia){var Ma,Ta,hb;Ma=this.Dz?this.u.ta():Ra.Zx;Ta=this.Ez?this.u.ta():Ra.ay;Ra=this.rW?this.u.ta():Ra.$x;hb=0 === this.version?this.$G?this.u.ta():0:this.$G?this.u.OG():0;return {Jra:hb,SRb:Ra,POb:Ia + hb - (void 0 !== ya?ya:hb),Qj:Ta,Ot:Ma};};x.prototype.na=function(Ra,ya,Ia,Ma,Ta,hb,wb){var Eb,Hb,Ob,Cb;Eb=0;Hb=0;this.ja.offset=this.py;for(Ma=0;Ma < Ta;++Ma){Ob=this.gs(ya,Cb,Hb);if(0 == Ma)Cb=Ob.Jra;Eb+=Ob.Qj;Hb+=Ob.Ot;}Ma=Ta;Ta=this.u.offset;Ob=this.gs(ya,Cb,Hb);this.bq=Ma;this.Ksa=Hb;if(wb){if((this.Vp=this.Ej + Eb,this.vi=0,Ma === this.Ab))return !0;}else if((this.Vp=this.Ej,this.vi=Eb,0 === Ma))return !0;if(0 === Ma || Ma === this.Ab)return !1;this.iy=!0;if(wb){this.vi+=Ob.Qj;for(wb=Ma + 1;wb < this.Ab;++wb){Ob=this.gs(ya,Cb,Hb);this.vi+=Ob.Qj;}this.ja.offset=this.OR;this.Ab=Ma;this.ja.Eg(this.Ab);this.ja.RH(hb);this.yF && (this.u.offset+=4);this.ue(this.length - (Ta - this.startOffset),Ta);}else (ya=Ta - this.py,this.ja.offset=this.OR,this.Ab-=Ma,this.ja.Eg(this.Ab),this.Ej+=Eb,this.ja.RH(hb,this.Ej),this.yF && (this.u.offset+=4),this.ue(ya,this.ja.offset));Ia.ue(this.vi,Ra.yj + this.Vp);return !0;};x.prototype.ira=function(Ra,ya,Ia,Ma,Ta,hb){var Eb;if(Ma){Ma=this.Vp;for(var wb=this.Ab - 1;0 <= wb && this.Ab - wb <= Ta;--wb){this.ja.offset=this.py + wb * this.Mt;Eb=this.gs(ya);if(Eb.Ot != hb.duration){this.u.console.warn("Could not replace sample of duration " + Eb.Ot + " with silence of duration " + hb.duration);break;}if(this.Ez)(this.ja.offset-=this.Mt - (this.Dz?4:0),this.ja.Eg(hb.Tj.byteLength));else if(hb.Tj.byteLength !== Eb.Qj){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ma-=Eb.Qj;Ia.Lt(Eb.Qj,hb.Tj,Ra.yj + Ma);}}else for((Ma=this.Vp + this.vi,wb=0);wb < this.Ab && wb < Ta;++wb){this.ja.offset=this.py + (wb + this.bq) * this.Mt;Eb=this.gs(ya);if(Eb.Ot != hb.duration){this.u.console.warn("Could not replace sample of duration " + Eb.Ot + " with silence of duration " + hb.duration);break;}if(this.Ez)(this.ja.offset-=this.Mt - (this.Dz?4:0),this.ja.Eg(hb.Tj.byteLength));else if(hb.Tj.byteLength !== Eb.Qj){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ia.Lt(Eb.Qj,hb.Tj,Ra.yj + Ma);Ma+=Eb.Qj;}};y.La=!1;y.prototype=Object.create(K.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{xm:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.ic();this.xm && this.u.nl();this.xm && this.u.ta();this.Hha=this.u.eb();this.Ab=this.u.ta();this.u.vz(this.Ab);return !0;};y.prototype.na=function(Ra,ya){if(Ra && 0 === this.Hha){Ra=ya?this.Ab - Ra:Ra;this.ja.offset=this.startOffset + 13 + (this.xm?8:0);this.Ab-=Ra;this.ja.Eg(this.Ab);this.YG=0;if(ya)this.ja.offset+=this.Ab;else {for(ya=0;ya < Ra;++ya){this.YG+=this.ja.eb();}this.ja.offset-=Ra;}this.ue(Ra,this.u.offset);}return !0;};z.La=!1;z.prototype=Object.create(K.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{xm:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.ic();this.xm && this.u.nl();this.xm && this.u.ta();this.Pf=this.u.ta();C(1 === this.Pf,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Ej=0 === this.version?this.u.OG():this.u.Kqa();return !0;};z.prototype.na=function(Ra,ya){this.Ej+=Ra;this.ja.offset=this.startOffset + 16 + (this.xm?8:0) + (0 === this.version?0:4);this.ja.RH(ya,this.Ej);return !0;};A.La=!1;A.prototype=Object.create(K.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{uV:{get:function(){return this.flags & 1;}},sua:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(){this.ic();this.uV && (this.u.ta(),this.u.vz(16));this.Ab=this.u.ta();return !0;};A.prototype.na=function(Ra,ya){var Ia,Ma;Ia=ya?this.Ab - Ra:Ra;this.ja.offset=this.startOffset + 28 + (this.uV?20:0);this.Ab-=Ia;this.ja.Eg(this.Ab);Ra=this.ja.offset;if(this.sua)for(Ia=ya?this.Ab:Ia;0 < Ia;--Ia){this.ja.offset+=8;Ma=this.ja.Gc();this.ja.offset+=6 * Ma;}else this.ja.offset+=8 * (ya?this.Ab:Ia);ya?this.ue(this.length - (this.u.offset - this.startOffset),this.u.offset):this.ue(this.u.offset - Ra,Ra);};B.La=!1;B.prototype=Object.create(K.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.ic();return !0;};B.prototype.na=function(Ra,ya,Ia){Ia?this.ue(ya - Ra,this.startOffset + 12 + Ra):this.ue(Ra,this.startOffset + 12);return !0;};D.La=!1;D.prototype=Object.create(K.prototype);D.prototype.constructor=D;D.prototype.parse=function(){this.ic();this.u.nl();1 === this.version && this.u.ta();this.Pf=this.u.ta();this.Pt=[];for(var Ra=0;Ra < this.Pf;++Ra){for(var ya=this.u.ta(),Ia=this.u.ta(),Ma=0;Ma < ya;++Ma){this.Pt.push(Ia);}}return !0;};D.prototype.na=function(Ra,ya){this.Pt=ya?this.Pt.slice(0,Ra):this.Pt.slice(Ra);Ra=this.Pt.reduce(function(Ia,Ma){0 !== Ia.length && Ia[Ia.length - 1].group === Ma || Ia.push({group:Ma,count:0});++Ia[Ia.length - 1].count;return Ia;},[]);this.ja.offset=this.startOffset + 16 + (1 === this.version?4:0);this.ja.Eg(Ra.length);Ra.forEach((function(Ia){this.ja.Eg(Ia.count);this.ja.Eg(Ia.group);}).bind(this));this.Pf > Ra.length && this.ue(8 * (this.Pf - Ra.length));this.Pf=Ra.length;return !0;};E.La=!1;E.prototype=Object.create(K.prototype);E.prototype.constructor=E;X={Ta:{moov:f,trak:c,mdia:c,mdhd:k,minf:c,encv:X,schi:c,sidx:l,sinf:c,stbl:c,tenc:h,mvex:c,moof:q,traf:p,tfhd:w,trun:x,sbgp:D,sdtp:B,saiz:y,saio:z,tfdt:v,mdat:E,vmaf:d},Ita:{vpcC:u,SmDm:t("smdm"),CoLL:t("coll")},mX:{schm:ja},ZG:{}};F([Pa,N,M,Q,wa,Ua,H,I,kb,$a,O,S,L,P,a],X.Ta);F([fa,xa,sa,T,R,ca,qa,ua,cb,Va],X.ZG);F([Pa,ja],X.mX);X.Ta[b.DP]=h;X.Ta[b.Mw]=m;X.Ta[b.Lw]=n;X.Ta[b.CP]=A;X.ZG[b.HD]=Ya;X.mc=K;r.exports={Kp:X};},function(r,b){function a(c,f){var k,l,d,g,h;if("number" !== typeof c || "number" !== typeof f)c=!1;else if(c && f){k=Math;l=k.abs;g=Math.abs(c);for(d=Math.abs(f);d;){h=d;d=g % d;g=h;}c=l.call(k,c * f / g);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function c(f,k){"object" === typeof f?(this.dc=f.Xb,this.fb=f.U):(this.dc=f,this.fb=k);}c.mb=function(f){return new c(f,1E3);};c.hX=function(f,k){return Math.floor(1E3 * f / k);};c.Y5=function(f,k){return Math.floor(f * k / 1E3);};c.max=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(l,d){return l.greaterThan(d)?l:d;});};c.min=function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.reduce(function(l,d){return l.lessThan(d)?l:d;});};Object.defineProperties(c.prototype,{Xb:{get:function(){return this.dc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{U:{get:function(){return this.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return 1E3 * this.dc / this.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Tg:{get:function(){return this.dc / this.fb;},enumerable:!0,configurable:!0}});c.prototype.Xf=function(f){f/=this.U;return new c(Math.floor(this.Xb * f),Math.floor(this.U * f));};c.prototype.add=function(f){var k;if(this.U === f.U)return new c(this.Xb + f.Xb,this.U);k=a(this.U,f.U);return this.Xf(k).add(f.Xf(k));};c.prototype.Aa=function(f){return this.add(new c(-f.Xb,f.U));};c.prototype.xC=function(f){return new c(this.Xb * f,this.U);};c.prototype.$k=function(f){var k;if(this.U === f.U)return this.Xb / f.Xb;k=a(this.U,f.U);return this.Xf(k).$k(f.Xf(k));};c.prototype.I3=function(f){return a(this.U,f);};c.prototype.Qqa=function(){return new c(this.U,this.Xb);};c.prototype.compare=function(f,k){var l;if(this.U === k.U)return f(this.Xb,k.Xb);l=a(this.U,k.U);return f(this.Xf(l).Xb,k.Xf(l).Xb);};c.prototype.equal=function(f){return this.compare(function(k,l){return k === l;},f);};c.prototype.m6=function(f){return this.compare(function(k,l){return k !== l;},f);};c.prototype.lessThan=function(f){return this.compare(function(k,l){return k < l;},f);};c.prototype.greaterThan=function(f){return this.compare(function(k,l){return k > l;},f);};c.prototype.zv=function(f){return this.compare(function(k,l){return k <= l;},f);};c.prototype.Sn=function(f){return this.compare(function(k,l){return k >= l;},f);};c.prototype.toJSON=function(){return {ticks:this.Xb,timescale:this.U};};c.prototype.toString=function(){return this.Xb + "/" + this.U;};c.ab=new c(0,1);c.Mv=new c(1,1E3);return c;})();b.S=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.u.offset+=6;this.u.Gc();return !0;};return k;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(23);r.__exportStar(a(158),b);r.__exportStar(a(287),b);r.__exportStar(a(288),b);r.__exportStar(a(289),b);r=a(288);c=a(289);a=a(287);b.lp={3:a.OO,4:r.JO,5:c.l$};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l;this.u.Gc();l=this.u.eb();this.Ysa=! !(l & 128);this.Rba=! !(l & 64);this.yaa=! !(l & 32);this.Ysa && this.u.Gc();this.Rba && this.u.vz(this.u.eb());this.yaa && this.u.Gc();this.VQ();return !0;};k.tag=3;return k;})(a(158).nD);b.OO=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Voa=this.u.eb();this.u.eb();this.u.Gc();this.u.eb();this.maxBitrate=this.u.ta();this.sfa=this.u.ta();this.VQ();return !0;};k.tag=4;return k;})(a(158).nD);b.JO=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(158);f=a(286);a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.WV=function(){15 !== this.u.ec(4) || this.u.ec(24);};l.prototype.parse=function(d){if(this.dma(d) && 64 === d.Voa)switch((this.wm=this.UV(),this.WV(),this.u.ec(4),this.Hia=5 === this.wm || 29 === this.wm?5:-1,0 < this.Hia && (this.WV(),this.wm=this.UV(),22 === this.wm && this.u.ec(4)),this.wm)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.kT=this.u.ec(1),(this.Oha=this.u.ec(1)) && this.u.ec(14),this.u.ec(1),this.ry=3 === this.wm?256:23 === this.wm?this.kT?480:512:this.kT?960:1024);}this.skip();return !0;};l.prototype.UV=function(){var d;d=this.u.ec(5);31 === d && (d=32 + this.u.ec(6));return d;};l.prototype.dma=function(d){return d.tag === f.JO.tag;};l.tag=5;return l;})(r.nD);b.l$=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var f;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(k,l){return k + l.byteLength;},0);f=new Uint8Array(c);a.reduce(function(k,l){f.set(new Uint8Array(l),k);return k + l.byteLength;},0);return f.buffer;};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(517);f=a(283);k=a(518);r=(function(){function l(d,g,h){this.console=d;this.stream=g;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}l.prototype.parse=function(d){var g;g=new k.KO(this.view.byteLength);this.ac=new c.kD(f.Kp.Ta,g,this.view,this.console,{CG:!0});d=this.ac.parse(d);this.Ta=this.ac.Ta;return d;};return l;})();b.sq=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iba="PlaygraphManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kba="PlaygraphVideoPlayerFactorySymbol";},function(r,b,a){var f;function c(k,l){var d;d=this;this.Wl=k;this.Mh=l;this.addEventListener=function(g,h,m){return d.Mh.addListener(g,d.iQa(g,h),m);};this.removeEventListener=function(g,h){return d.Mh.removeListener(g,d.iQa(g,h));};this.getReady=function(){return d.Mh.isReady();};this.getXid=function(){return d.sb().PB();};this.getMovieId=function(){return d.sb().oBb();};this.getPlaygraphId=function(){return d.Mh.PBb();};this.getElement=function(){return d.Mh.zp();};this.isPlaying=function(){return d.sb().fC();};this.isPaused=function(){return d.sb().WFb();};this.isMuted=function(){return d.sb().SFb();};this.isReady=function(){return d.sb().isReady();};this.isBackground=function(){return d.sb().tFb();};this.setBackground=function(g){return d.sb().I3a(g);};this.startInactivityMonitor=function(){return d.sb().OW();};this.setTransitionTime=function(g){return d.sb().c4a(g);};this.getDiagnostics=function(){return d.sb().bAb();};this.getTextTrackList=function(g){return d.sb().Qka(g);};this.getMaxRecommendedTextIndex=function(g){return d.sb().nUa(g);};this.getTextTrack=function(){return d.sb().hVa();};this.setTextTrack=function(g){return d.sb().b4a(g);};this.getVolume=function(){return d.sb().WCb();};this.isEnded=function(){return d.sb().DFb();};this.getBusy=function(){return d.sb().li();};this.getError=function(){return d.sb().getError();};this.getCurrentTime=function(){return d.sb().j.mediaTime.value;};this.getBufferedTime=function(){return d.sb().Czb();};this.getSegmentTime=function(){return d.sb().sTa();};this.getDuration=function(){return d.sb().rTa();};this.getVideoSize=function(){return d.sb().SCb();};this.getAudioTrackList=function(){return d.sb().YSa();};this.getMaxRecommendedAudioIndex=function(){return d.sb().gBb();};this.getAudioTrack=function(){return d.sb().kzb();};this.getTimedTextTrackList=function(g){return d.sb().Qka(g);};this.getMaxRecommendedTimedTextIndex=function(g){return d.sb().nUa(g);};this.getTimedTextTrack=function(){return d.sb().hVa();};this.getAdditionalLogInfo=function(){return d.sb().dzb();};this.getTrickPlayFrame=function(g){return d.sb().ICb(g);};this.getSessionSummary=function(){return d.sb().VUa();};this.getTimedTextSettings=function(){return d.sb().H3();};this.setMuted=function(g){return d.sb().bTb(g);};this.setVolume=function(g){return d.sb().yTb(g);};this.getPlaybackRate=function(){return d.sb().Bp();};this.setPlaybackRate=function(g){return d.sb().hTb(g);};this.setAudioTrack=function(g){return d.sb().ISb(g);};this.setTimedTextTrack=function(g){return d.sb().b4a(g);};this.setTimedTextSettings=function(g){return d.sb().HW(g);};this.prepare=function(){return d.sb().LM();};this.load=function(){return d.sb().load();};this.close=function(g){return d.GMa(d.Mh.close(),g);};this.play=function(){return d.sb().play();};this.pause=function(){return d.sb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(g,h){return d.GMa(d.sb().US(g),h);};this.induceError=function(g){return d.sb().NEb(g);};this.loadCustomTimedTextTrack=function(g,h,m,n){return d.sb().HHb(g,h,m,n);};this.tryRecoverFromStall=function(){return d.sb().pX();};this.getCropAspectRatio=function(){return d.sb().Nja();};this.getCropAspectRatioXandY=function(){return d.sb().Tzb();};this.generateScreenshots=function(g){return d.sb().Yyb(g);};this.getCurrentSegmentId=function(){return d.Mh.vTa();};this.getPlaygraphMap=function(){return d.Mh.JF();};this.updatePlaygraphMap=function(g){return d.Mh.sX(g);};this.Eia=new Map();this.log=f.mi("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.XZ=void 0;f=a(7);a(94);c.prototype.sb=function(){return this.Mh.sb();};c.prototype.iQa=function(k,l){var d;this.Eia.has(k) || this.Eia.set(k,new Map());d=this.Eia.get(k);d.has(l) || d.set(l,this.eub(k,l));return d.get(l);};c.prototype.eub=function(k,l){var d;d=this;return function(g){return l(Object.assign({},g,{type:k,target:d}));};};c.prototype.GMa=function(k,l){return l?k.then(l,l):k;};c.prototype.HYa=function(k){k=void 0 === k?{}:k;return {Fk:k.trackingId,$0:k.authParams,no:k.sessionParams,ie:k.uiLabel,V8:k.uxLabels,Wha:k.disableTrackStickiness,L8:k.uiPlayStartTime,R2:k.forceAudioTrackId,S2:k.forceTimedTextTrackId,fl:k.isBranching,J7a:k.vuiCommand,playbackState:k.playbackState?{currentTime:k.playbackState.currentTime,volume:k.playbackState.volume,muted:k.playbackState.muted,playbackRate:k.playbackState.playbackRate}:void 0,NK:k.enableTrickPlay,pla:k.heartbeatCooldown,O4:k.isPlaygraph,j5:k.loadImmediately || !1,I0a:k.pin,IV:k.preciseSeeking,X:k.startPts,Ea:k.endPts,Qi:k.logicalEnd,l7:k.renderTimedText,XRa:k.extraManifestParams,dfa:k.assetId,Pmb:k.audioLanguages,SVb:k.textLanguages,y7a:k.videoLanguage,Mp:k.packageId,xQa:k.desiredDownloadables,rra:k.requestReference};};b.XZ=c;},function(r,b,a){b=a(427);r.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.ba:Date.now;},function(r){r.exports={xw:{Kba:0,lGa:1,Lk:2,name:["transient","semiTransient","permanent"]},rw:{Tya:0,kGa:1,GZ:2,EP:3,Ow:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},L3b:{A3b:0,n1b:1,s_b:2,Ow:100,name:["trailer","montage","content"]},ou:{JAa:0,RFa:1,kfb:2,Q$a:3,Ow:100,name:["left","right","up","down"]},pP:{N9a:0,GZ:1,L0b:2,i0b:3,KZb:4,K0b:5,G8a:6,Ow:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},rI:{EP:0,jxa:1,Ow:100,name:["playFocused","detailsOpened"]}};},function(r){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof pb && (b=pb);}r.exports=b;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);r=(function(){function f(){}f.prototype.qTa=function(k){var l;l=Reflect.getMetadata(c.Caa,k);k=Reflect.getMetadata(c.mHa,k);return {UOa:l,sYb:k || ({})};};f.prototype.TBb=function(k){return Reflect.getMetadata(c.nHa,k) || [];};return f;})();b.qaa=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);b.eXa=function(f){return f instanceof RangeError || f.message === c.Jeb;};},function(r,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);f=a(41);k=a(65);l=a(88);r=(function(){function d(g){this.fgb=g;}d.prototype.rXb=function(){return this.fgb();};return d;})();b.X$=r;b.l=function(d){return function(g,h,m){var n;if(void 0 === d)throw Error(c.hfb(g.name));n=new k.Metadata(f.nP,d);"number" === typeof m?l.vH(g,h,m,n):l.$W(g,h,n);};};},function(r,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(103);k=a(65);l=a(543);r=(function(){function d(g,h,m,n){this.id=f.id();this.type=g;this.kg=m;this.name=new l.meb(h || "");this.yd=[];g=null;"string" === typeof n?g=new k.Metadata(c.tA,n):n instanceof k.Metadata && (g=n);null !== g && this.yd.push(g);}d.prototype.FVa=function(g){for(var h=0,m=this.yd;h < m.length;h++){if(m[h].key === g)return !0;}return !1;};d.prototype.isArray=function(){return this.FVa(c.AD);};d.prototype.JIb=function(g){return this.Kna(c.AD)(g);};d.prototype.nma=function(){return this.FVa(c.tA);};d.prototype.xma=function(){return this.yd.some(function(g){return g.key !== c.nP && g.key !== c.AD && g.key !== c.dZ && g.key !== c.YP && g.key !== c.tA;});};d.prototype.YWa=function(){return this.Kna(c.fDa)(!0);};d.prototype.rBb=function(){return this.nma()?this.yd.filter(function(g){return g.key === c.tA;})[0]:null;};d.prototype.Wzb=function(){return this.xma()?this.yd.filter(function(g){return g.key !== c.nP && g.key !== c.AD && g.key !== c.dZ && g.key !== c.YP && g.key !== c.tA;}):null;};d.prototype.Kna=function(g){var h;h=this;return function(m){var p;for(var n=0,q=h.yd;n < q.length;n++){p=q[n];if(p.key === g && p.value === m)return !0;}return !1;};};return d;})();b.RZ=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(194);f=a(195);r=(function(){function k(l){this.oc=l;this.fQ=new f.Q9(this.oc);this.jca=new c.aY(this.oc);}k.prototype.when=function(l){return this.fQ.when(l);};k.prototype.IX=function(){return this.fQ.IX();};k.prototype.Lv=function(l){return this.jca.Lv(l);};return k;})();b.iD=r;},function(r,b,a){var k;function c(l){return function(d){function g(h){return null !== h && null !== h.target && h.target.Kna(l)(d);}g.qZa=new k.Metadata(l,d);return g;};}function f(l,d){l=l.jz;return null !== l?d(l)?!0:f(l,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(41);k=a(65);b.p6a=f;b.y5a=c;a=c(r.tA);b.TZa=a;b.v6a=function(l){return function(d){var g;if(null !== d){g=d.LR[0];return "string" === typeof l?g.kg === l:l === d.LR[0].Ol;}return !1;};};},function(r,b,a){var k;function c(l,d){this.Yf=d;this.Vy=Math.floor(l);this.display=this.Vy + " " + this.Yf.name;}function f(l,d,g){this.Yf=l;this.name=d;this.Uk=g?g:this;k.ao(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Tr=b.ZP=void 0;k=a(57);f.prototype.VS=function(l){return this.Yf == l.Yf;};f.prototype.toJSON=function(){return this.name;};b.ZP=f;c.prototype.ea=function(l){return this.Yf.VS(l)?this.Vy:Math.floor(this.Vy * this.Yf.Yf / l.Yf);};c.prototype.g1a=function(l){return this.Yf.VS(l)?this.Vy:this.Vy * this.Yf.Yf / l.Yf;};c.prototype.as=function(l){return new c(this.ea(l),l);};c.prototype.to=function(l){return new c(this.ea(l),l);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.Vy,units:this.Yf.name};};c.prototype.add=function(l){return this.QOa(l);};c.prototype.Aa=function(l){return this.QOa(l,function(d){return -d;});};c.prototype.scale=function(l){return new c(this.ea(this.Yf.Uk) * l,this.Yf.Uk);};c.prototype.Yk=function(l){return this.ea(this.Yf.Uk) - l.ea(this.Yf.Uk);};c.prototype.VS=function(l){return 0 == this.Yk(l);};c.prototype.pXa=function(){return 0 == this.Vy;};c.prototype.oma=function(){return 0 > this.Vy;};c.prototype.$Fb=function(){return 0 < this.Vy;};c.prototype.QOa=function(l,d){d=void 0 === d?function(g){return g;}:d;return new c(this.ea(this.Yf.Uk) + d(l.ea(this.Yf.Uk)),this.Yf.Uk);};b.Tr=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AEa="PlatformConfigOverridesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uxa="DrmDataFactorySymbol";},function(r,b,a){var f,k;function c(l,d,g,h,m){this.version=l;this.FM=d;this.b5a=g;this.gn=h;this.iw=m;this.Yu=[];}Object.defineProperty(b,"__esModule",{value:!0});b.O$=void 0;f=a(3);k=a(42);c.prototype.load=function(l){return this.FHb(l);};c.prototype.add=function(l){this.Yu.push(l);return this.Gpa();};c.prototype.remove=function(l,d){l=this.hTa(this.fL(l,d));return 0 <= l?(this.Yu.splice(l,1),this.Gpa()):Promise.resolve();};c.prototype.update=function(l,d){d=this.hTa(this.fL(l,d));return 0 <= d?(this.Yu[d]=l,this.Gpa()):Promise.resolve();};c.prototype.FHb=function(l){var d;d=this;this.YXa || (this.YXa=new Promise(function(g,h){function m(n){d.uub().then(function(){h(n);}).catch(function(){h(n);});}d.Jka().then(function(n){d.storage=n;return d.storage.load(d.FM);}).then(function(n){var q;n=n.value;try{q=l(n);d.version=q.version;d.Yu=q.data;g();}catch(p){m(p);}}).catch(function(n){n.oa !== f.L.zA?h(n):g();});}));return this.YXa;};c.prototype.Gpa=function(){var l,d,g,h,m;l=this;if(!this.b5a)return Promise.resolve();if(this.d8){h=new Promise(function(n,q){d=n;g=q;});m=function(){l.d8=h;l.$4a().then(function(){d();}).catch(function(n){g(n);});};this.d8.then(m).catch(m);return h;}return this.d8=this.$4a();};c.prototype.$4a=function(){var l,d;l=this;d=this.iw();return new Promise(function(g,h){l.Jka().then(function(m){return m.save(l.FM,d,!1);}).then(function(){g();}).catch(function(m){h(c.pWb(f.M.Cdb,m));});});};c.prototype.uub=function(){var l;l=this;return this.b5a?new Promise(function(d,g){l.Jka().then(function(h){return h.remove(l.FM);}).then(function(){d();}).catch(function(h){g(h);});}):Promise.resolve();};c.prototype.Jka=function(){return this.storage?Promise.resolve(this.storage):this.gn.create();};c.prototype.fL=function(l,d){for(var g=0;g < this.Yu.length;++g){if(d(this.Yu[g],l))return this.Yu[g];}};c.prototype.hTa=function(l){return l?this.Yu.indexOf(l):-1;};c.pWb=function(l,d){var g;if(d.oa && d.cause)return new k.ed(l,d.oa,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.kc){g=d.message?d.message + " ":"";d.code=l;d.message="" === g?void 0:g;return d;}return d instanceof Error?new k.ed(l,f.L.hj,void 0,void 0,void 0,void 0,d.stack,d):new k.ed(l,f.L.km,void 0,void 0,void 0,void 0,void 0,d);};b.O$=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pba="QueryStringDataProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UCa="NetworkMonitorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wxa="DrmProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xya="EmeSessionFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uya=b.ZD=void 0;r=b.ZD || (b.ZD={});r[r.Request=0]="Request";r[r.WFa=1]="Renewal";b.uya="EmeApiSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.LZ=void 0;a.LEb=function(c){return "ID" + (c + 1);};a.h5a=function(c){return Number(c.substr(2)) - 1;};b.LZ=a;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E;function c(F,C,G,J,K,H,L,P){var I;I=this;this.Ha=C;this.Gx=G;this.config=J;this.eh=K;this.tl=H;this.On=L;this.jo=P;this.keyStatuses=new z.Ac({});this.jpa=function(O){var N,M,Q,S,fa,qa;try{M=I.tl.Wga(O);Q=M.kG;S=M.messageType;fa=M.sessionId;I.xv=I.xv || M.xv;I.zW(fa);I.log.trace("Received " + O.type + " event",{sessionId:fa,messageType:S,keyIds:I.xv});S === b.haa && (I.log.trace("Received a renewal request"),I.Sf=n.Xh.Go,I.xk=D.SG);I.xk === D.gg && I.Zo(q.Qr.a2a);I.xk === D.SG && I.Zo(q.Qr.b2a);qa={Bj:Q,kOa:S,Sf:I.Sf};null === (N=I.KLb) || void 0 === N?void 0:N.call(I,qa);I.vU && (I.jla(Q)?I.iC(new y.ed(l.M.kya)):(I.vU.resolve(qa),I.vU=void 0));}catch(xa){I.iC(xa);}};this.hpa=function(O){var N,M,Q,S,fa,ua,X,sa,T,R,ca,ja,Ua,Va,cb,Ya,kb,$a;Q=O.target;S=Q.keyStatuses;I.zW(Q.sessionId);I.log.trace("Received event: " + O.type);try{fa=null === (M=null === (N=I.context) || void 0 === N?void 0:N.Et) || void 0 === M?void 0:M.reduce(function(Ra,ya){Ra[ya.Ni]=ya.nW.height;return Ra;},{});O=[];for(var qa=aa(S),xa=qa.next();!xa.done;xa=qa.next()){ua=aa(xa.value);X=ua.next().value;sa=ua.next().value;T=I.Gx.encode(new Uint8Array(X));O.push({Ni:T,status:sa,height:null === fa || void 0 === fa?void 0:fa[T]});}O.sort(function(Ra,ya){return (Ra.height || 0) - (ya.height || 0);});R=O.map(function(Ra){return Ra.Ni;});ca=O.map(function(Ra){return Ra.height;});ja=O.map(function(Ra){return Ra.status;});I.log.trace("KeyStatus: " + R + ", " + ca + ", " + ja);fa={};for(var Pa=aa(S),wa=Pa.next();!wa.done;wa=Pa.next()){Ua=aa(wa.value);Va=Ua.next().value;cb=Ua.next().value;Ya=I.Gx.encode(new Uint8Array(Va));kb=E[cb];fa[Ya]=kb.status;if(I.I4(Ya,kb.error)){$a=new v.og(kb.error);I.lU($a);}}I.keyStatuses.set(fa);}catch(Ra){$a=new v.og(l.M.Mdb);$a.vS(Ra);}$a?I.T4($a):(I.tl.C1() || I.rXa(),I.Sf !== n.Xh.pn || I.tl.pfa() || I.SQb());};this.Rm=function(O){var N;N=I.tl.Vx(O);I.log.error("Received event: " + O.type,N);I.iC(N);I.T4(N);I.xp || I.ft || I.lU(N);};this.DLb=function(){I.log.error("MediaKeySession closed unexpectedly.");I.lU(new y.ed(l.M.nab));};this.iC=function(O){var N;I.xp && I.close().then(function(){var M;I.log.trace("Issuing a generate challenge error");null === (M=I.xp) || void 0 === M?void 0:M.reject(O);I.xp=void 0;},function(M){var Q;I.log.error("EmeSession closed with an error.",I.tl.Vx(M));null === (Q=I.xp) || void 0 === Q?void 0:Q.reject(O);I.xp=void 0;});null === (N=I.vU) || void 0 === N?void 0:N.reject(O);};this.tGb=function(){var O;null === (O=I.xp) || void 0 === O?void 0:O.resolve();I.xp=void 0;};this.T4=function(O){I.log.error("Failed to add license",O);return I.close().then(function(){var N;I.log.trace("Issuing a license error");I.xp=void 0;null === (N=I.ft) || void 0 === N?void 0:N.reject(O);I.ft=void 0;},function(N){var M;I.log.error("EmeSession closed with an error.",I.tl.Vx(N));I.xk === D.SG && I.Zo(q.Qr.aMa);I.xp=void 0;null === (M=I.ft) || void 0 === M?void 0:M.reject(O);I.ft=void 0;}).then(function(){throw O;});};this.rXa=function(){I.ft && (I.log.info("Successfully added license"),I.xk === D.gg?I.Zo(q.Qr.TLa):I.xk === D.SG && I.Zo(q.Qr.$La),I.ft.resolve(),I.ft=void 0);};this.lU=function(O){I.close().then(function(){var N;I.log.trace("Issuing a CDM error");I.xp=void 0;I.ft=void 0;null === (N=I.G_a) || void 0 === N?void 0:N.call(I,O);},function(N){var M;I.log.error("EmeSession closed with an error.",I.tl.Vx(N));I.xp=void 0;I.ft=void 0;null === (M=I.G_a) || void 0 === M?void 0:M.call(I,O);});};this.Zo=function(O){I.cd.push({time:I.Ha.Wb(),OU:O});};this.u2a=!1;this.log=F.Cb("EmeSession");this.xk=D.jXb;this.cd=[];}Object.defineProperty(b,"__esModule",{value:!0});b.yya=b.haa=b.iaa=void 0;r=a(1);f=a(0);k=a(4);l=a(3);d=a(19);g=a(8);h=a(35);m=a(69);n=a(60);q=a(315);p=a(204);t=a(133);u=a(202);w=a(312);v=a(90);x=a(61);y=a(42);z=a(105);A=a(594);B=a(59);(function(F){F[F.jXb=0]="unknown";F[F.create=1]="create";F[F.load=2]="load";F[F.gg=3]="license";F[F.SG=4]="renewal";F[F.stop=5]="stop";F[F.closed=6]="closed";})(D || (D={}));b.iaa="license-request";b.haa="license-renewal";E={usable:{status:p.gu.b7a},expired:{status:p.gu.FB,error:l.M.tDa},released:{status:p.gu.released},"output-not-allowed":{status:p.gu.Y_a,error:l.M.uDa},"output-restricted":{status:p.gu.Y_a,error:l.M.Haa},"output-downscaled":{status:p.gu.BMb},"status-pending":{status:p.gu.LUb},"internal-error":{status:p.gu.dFb,error:l.M.Ldb}};c.prototype.Ns=function(){var F,C;if(this.Zna){C=null === (F=this.Zna) || void 0 === F?void 0:F.keySystem;(F=B.u3(this.Zna)) && (C+="." + F);return C;}return "n/a";};c.prototype.uy=function(){return this.sessionId;};c.prototype.close=function(){var F;F=this;this.xk=D.closed;this.cd=[];return this.eh.eGb()?(this.log.trace("Closing the session"),this.eh.q2a(this.jpa),this.eh.o2a(this.hpa),this.eh.m2a(this.Rm),this.mediaKeys=void 0,this.jo.Xp(this.config.yMa,this.eh.close()).then(function(){F.log.info("Closed the session");}).catch(function(C){F.log.error("Close failed",C);F.tl.Vx(C).code=l.M.Odb;throw C;})):Promise.resolve(void 0);};c.prototype.Ms=function(){return this.On;};c.prototype.V3=function(){return void 0 !== this.Oi;};c.prototype.createSession=function(F,C,G,J){var K;K=this;this.context=J;this.Zna=F;this.Sf=G;this.xk=D.create;this.Zo(q.Qr.SXa);return (C.CVa()?Promise.resolve():this.jo.Xp(this.config.zMa,this.eh.createMediaKeys(F)).then(function(H){K.log.trace("Created media keys");C.setMediaKeys(H);return K.nmb(H);})).then(function(){K.mediaKeys=C.mediaKeys;try{K.eh.createSession(K.mediaKeys,"temporary");K.eh.VLa(K.jpa);K.eh.RLa(K.hpa);K.eh.PLa(K.Rm);K.eh.elb(K.DLb);K.zW(K.eh.uy());}catch(H){return Promise.reject(new v.og(l.M.gab,l.L.hj,void 0,"Unable to create a persisted key session",H));}}).catch(function(H){return H.code && H.kc?Promise.reject(H):Promise.reject(new v.og(l.M.MO,H instanceof x.xq?l.L.NO:l.L.hj,void 0,"Unable to create MediaKeys. " + H.message,H));});};c.prototype.gTb=function(F){this.ri=F;this.log.MLa("xid",F.ca);};c.prototype.Vyb=function(F){var C;C=this;return this.generateRequest(F).then(function(){C.log.trace("Returning the challenge promise");return C.vU.promise;});};c.prototype.Wyb=function(F){this.generateRequest(F);return this.xp.promise;};c.prototype.SLa=function(F){this.ee=F.ee;F=F.Oi.map(function(C){return C.data;});this.jla(F)?(this.log.error("The license buffer is empty"),this.iC(new v.og(l.M.jya,l.L.hya))):(this.xk === D.gg && (this.Zo(q.Qr.$1a),this.Oi=F,this.$Qa=this.tl.mL(this.xv,F),this.tGb()),this.xk === D.SG && (this.Zo(q.Qr.c2a),this.Oi=F,this.$Qa=this.tl.mL(this.xv,F),this.Wea()));};c.prototype.qlb=function(F){this.xk === D.SG?(this.Zo(q.Qr.d2a),this.lU(F)):this.iC(F);};c.prototype.Wea=function(){var F,C;F=this;if(!this.Oi)return this.T4(new v.og(l.M.jya,l.L.mya));this.ft=new A.xZ();C=this.Oi;this.Oi=void 0;this.jo.Xp(this.config.DMa,this.eh.update(C,this.xk === D.gg?w.ZD.Request:w.ZD.WFa,this.xv)).then(function(){F.tl.C1() && F.rXa();}).catch(function(G){G=F.tl.Vx(G);G.code=l.M.qZ;G.message="Unable to update the EME";F.log.error(G.message,G);F.T4(G);});return this.ft.promise;};c.prototype.ZSb=function(F){this.KLb=F;};c.prototype.TSb=function(F){this.G_a=F;};c.prototype.mL=function(){return this.$Qa;};c.prototype.generateRequest=function(F){var C;C=this;this.xk=D.gg;this.log.trace("Generating a license challenge");this.xp=new A.xZ();this.vU=new A.xZ();return F?this.jla(F)?(F=new v.og(l.M.iya,l.L.hya),this.iC(F),Promise.reject(F)):this.jo.Xp(this.config.AMa,this.eh.generateRequest(this.tl.xT(),F)).then(function(){C.zW(C.eh.uy());}).catch(function(G){var J,K;J=new v.og(l.M.BY,G instanceof x.xq?l.L.NO:l.L.hj);K=C.tl.Vx(G);J.xd=K.xd;J.message="Unable to generate request.";J.vS(G);C.log.error("Unable to generate a license request",J);C.iC(J);return Promise.reject(J);}):(F=new v.og(l.M.iya,l.L.mya),this.iC(F),Promise.reject(F));};c.prototype.nmb=function(F){var C,G;C=this;G=this.tl.Kja();return G?(G=this.Gx.decode(G),this.jo.Xp(this.config.CMa,this.eh.setServerCertificate(F,G)).then(function(J){C.log.trace("Set the server certificate",{result:J});})):Promise.resolve();};c.prototype.zW=function(F){F && F !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + F),this.sessionId=F,this.log.MLa("sessionId",F));};c.prototype.SQb=function(){var F;F=this;this.u2a || (this.u2a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.kC}),setTimeout(function(){F.QG();},this.config.kC.ea(k.ma)));};c.prototype.mGb=function(F){var C,G;return !(null === (G=null === (C=this.context) || void 0 === C?void 0:C.Et) || void 0 === G || !G.some(function(J){return J.Ni === F && 1080 < J.nW.height;}));};c.prototype.I4=function(F,C){return C === l.M.Haa?this.mGb(F)?this.config.$_a:this.config.Z_a:! !C;};c.prototype.QG=function(){this.log.trace("Initiating a renewal request");this.Sf=n.Xh.Go;this.xk=D.SG;this.tl.Zfa()?this.tl.$la(this.eh):this.O1();};c.prototype.O1=function(){var F;F=this;this.eh.O1(this.mediaKeys,"temporary",this.jpa,this.hpa,this.Rm).then(function(){F.log.debug("Creating session to renew license");F.zW(F.eh.uy());}).catch(function(){F.lU(new v.og(l.M.BY));});};c.prototype.jla=function(F){return 0 === F.length || F.reduce(function(C,G){return C || 0 === G.length;},!1);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(g.Jb)),r.__param(1,f.l(d.rd)),r.__param(2,f.l(h.Uh)),r.__param(3,f.l(m.iu)),r.__param(4,f.l(w.uya)),r.__param(5,f.l(u.dab)),r.__param(6,f.l(t.$xa)),r.__param(7,f.l(x.Pw))],a);b.yya=a;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.aRa=b.Qr=void 0;(function(c){c[c.SXa=0]="licenseStarted";c[c.a2a=1]="receivedLicenseChallenge";c[c.$1a=2]="receivedLicense";c[c.b2a=3]="receivedRenewalChallengeComplete";c[c.c2a=4]="receivedRenewalLicenseComplete";c[c.d2a=5]="receivedRenewalLicenseFailed";c[c.QPb=6]="receivedIndivChallengeComplete";c[c.RPb=7]="receivedIndivLicenseComplete";c[c.TLa=8]="addLicenseComplete";c[c.$La=9]="addRenewalLicenseComplete";c[c.aMa=10]="addRenewalLicenseFailed";})(a=b.Qr || (b.Qr={}));b.aRa=function(c){switch(c){case a.SXa:return "lg";case a.a2a:return "lc";case a.$1a:return "lr";case a.b2a:return "renew_lc";case a.c2a:return "renew_lr";case a.d2a:return "renew_lr_failed";case a.QPb:return "ilc";case a.RPb:return "ilr";case a.TLa:return "ld";case a.$La:return "renew_ld";case a.aMa:return "renew_ld_failed";default:return "unknown";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qwa="ClockConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hDa="OneWayCounterFactorySymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.O9=void 0;r=a(1);a=a(0);f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(k){for(var l=new Uint8Array(k.length / 2),d=0;d < l.length;d++){l[d]=this.c6a(k.substr(2 * d,2));}return l;};c.prototype.encode=function(k){var h;for(var l="",d=k.length,g=0;g < d;g++){h=k[g];l+=("0123456789ABCDEF")[h >>> 4] + ("0123456789ABCDEF")[h & 15];}return l;};c.prototype.AF=function(k,l){var d;d="";for(l<<=1;l--;){d=(("0123456789ABCDEF")[k & 15] || "0") + d;k>>>=4;}return d;};c.prototype.c6a=function(k){var l;l=k.length;if(7 < l)throw Error("hex to long");for(var d=0,g=0;g < l;g++){d=16 * d + f[k[g]];}return d;};a=r.__decorate([a.R()],c);b.O9=a;},function(r,b,a){var f,k;function c(){this.vp={};this.id="$es$" + f.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Yj=void 0;r=a(1);a=a(0);c.prototype.addListener=function(l,d,g){var h,m;h="$netflix$player$order" + this.id + "$" + l;if(this.vp){m=this.vp[l]?this.vp[l].slice():[];g && (d[h]=g);0 > m.indexOf(d) && (m.push(d),m.sort(function(n,q){return (n[h] || 0) - (q[h] || 0);}));this.vp[l]=m;}};c.prototype.removeListener=function(l,d){if(this.vp && this.vp[l]){for(var g=this.vp[l].slice(),h;0 <= (h=g.indexOf(d));){g.splice(h,1);}this.vp[l]=g;}};c.prototype.qc=function(l,d,g){var h;if(this.vp){h=this.Wja(l);for(l={TH:0};l.TH < h.length;(l={TH:l.TH},l.TH++)){g?(function(m){return function(){var n;n=h[m.TH];setTimeout(function(){n(d);},0);};})(l)():h[l.TH].call(this,d);}}};c.prototype.ih=function(){this.vp=void 0;};c.prototype.on=function(l,d,g){this.addListener(l,d,g);};c.prototype.Wja=function(l){var d;return null !== (d=this.vp && (this.vp[l] || (this.vp[l]=[]))) && void 0 !== d?d:[];};k=f=c;k.counter=0;k=f=r.__decorate([a.R()],k);b.Yj=k;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gxa="CsvEncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.m$="DecoderTimeoutPathologistSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.taa=b.Icb=void 0;b.Icb=function(){};b.taa="MseConfigSymbol";},function(r,b,a){function c(f){this.Ihb=void 0 === f?!1:f;this.Le={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.nba=void 0;r=a(1);a=a(0);c.prototype.add=function(f,k){var l;k=void 0 === k?0:k;l=this.Le[k];l?this.Ihb && -1 !== l.indexOf(f) || l.push(f):this.Le[k]=[f];};c.prototype.remove=function(f,k){this.ox(f,void 0 === k?0:k);};c.prototype.removeAll=function(f){this.ox(f);};c.prototype.flatten=function(){var f;f=this;return Object.keys(this.Le).sort().reduce(function(k,l){return k.concat(f.Le[l]);},[]);};c.prototype.ox=function(f,k){Object.entries(this.Le).forEach(function(l){var d,g;d=aa(l);l=d.next().value;d=d.next().value;if(void 0 === k || k === parseInt(l)){-1 < (g=d.indexOf(f)) && d.splice(g,1);}});};a=r.__decorate([a.R()],c);b.nba=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZHa="UrlFactorySymbol";},function(r,b,a){var f,k,l;function c(d,g,h,m,n,q,p){this.debug=d;this.config=g;this.platform=h;this.D5=m;this.debug.assert(n && n != k.M.km,"There should always be a specific error code");this.errorCode=n || k.M.km;q && "object" === typeof q?(this.oa=q.oa || q.kc,this.Ze=q.Ze || q.xd,this.xia=q.xia || q.Bm,this.rb=q.rb || q.details,this.zS=q.Fj,this.SK=q.SK || q.OZa || q.Kv,this.QK=q.QK || q.data,q.LU && (this.LU=q.LU),this.mk=q.mk,this.method=q.method,this.b6=q.b6,this.alert=q.alert,this.Oea=q.Oea,this.YT=q.YT,!this.rb && this.YT && (this.rb=JSON.stringify(this.YT)),this.debug.assert(!this.mk || this.mk == this.Ze)):(this.oa=q,this.Ze=p);this.stack=[this.errorCode];this.oa?this.stack.push(this.oa):this.Ze && this.stack.push(k.L.km);this.Ze && this.stack.push(this.Ze);this.h2=this.platform.rp + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.aFa=void 0;f=a(12);k=a(3);l=a(18);a(24);c.prototype.toString=function(){var d;d="[PlayerError #" + this.h2 + "]";this.rb && (d+=" " + this.rb);this.zS && (d+=" (CustomMessage: " + this.zS + ")");return d;};c.prototype.zta=function(){var d,g,h,m;this.zS && (h=["streaming_error"]);h || this.D5.Ms() !== f.AY || ("80080017" == this.Ze && (h=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Ze && (h=["pause_timeout"]));h || this.D5.Ms() !== f.o$ || this.errorCode !== k.M.gya && this.errorCode !== k.M.MO || (h=["no_cdm","platform_error","plugin_error"]);this.gGb() && (h=["received_soad"]);m=this.Jzb();m && (h=[m],this.zS=void 0);if(!h)switch(this.errorCode){case k.M.pZ:case k.M.VY:case k.M.s8a:case k.M.tDa:h=["pause_timeout"];break;case k.M.jAa:case k.M.kAa:h=this.oa?["platform_error"]:["multiple_tabs"];break;case k.M.ccb:case k.M.Reb:case k.M.Cbb:case k.M.Bbb:case k.M.Ebb:h=["should_signout_and_signin"];break;case k.M.M$:case k.M.xDa:case k.M.Jaa:case k.M.rDa:h=["platform_error","plugin_error"];break;case k.M.FP:h=["no_cdm","platform_error","plugin_error"];break;case k.M.Iaa:h=this.oa?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case k.M.nya:case k.M.vq:case k.M.qZ:switch(this.Ze){case "FFFFD000":h=["device_needs_service","platform_error"];break;case "48444350":h=["unsupported_output","platform_error"];break;case "00000024":h=["private_mode"];}break;case k.M.uDa:case k.M.Haa:h=["unsupported_output"];}!h && k.Jya(this.oa) && (h=this.oa == k.L.jP?["geo"]:["internet_connection_problem"]);h || this.errorCode !== k.M.MO || this.oa !== k.L.hj || "S" !== this.platform.rp || (h=["private_mode"]);if(!h)switch(this.k5a(this.oa)){case k.L.Xba:h=["should_upgrade"];break;case k.L.pDa:h=["should_reset_device"];break;case k.L.oDa:h=["should_reload_device"];break;case k.L.nDa:h=["should_exit_device"];break;case k.L.Kcb:case k.L.LBa:h=["should_signout_and_signin"];break;case k.L.Lcb:h=["internet_connection_problem"];break;case k.L.lxa:h=["platform_error","plugin_error"];break;case k.L.kxa:case k.L.Rza:case k.L.Sza:h=["private_mode"];break;case k.L.ecb:h=["should_reload_with_preferred_locales"];}h=h || [];h.push(this.platform.rp + this.errorCode);if(this.oa)switch(this.k5a(this.oa)){case k.L.qDa:h.push("incorrect_pin");break;default:h.push("" + this.oa);}h={display:{code:this.h2,text:this.zS},messageIdList:h,alert:this.alert,alertTag:this.Oea,preferredAudioLocale:null === (d=this.YT) || void 0 === d?void 0:d.n6b,preferredTextLocale:null === (g=this.YT) || void 0 === g?void 0:g.o6b};if(this.SK || this.OZa)h.mslErrorCode=this.SK || this.OZa || this.Kv;return h;};c.prototype.k5a=function(d){var g;g=parseInt(d,10);return isNaN(g)?d:g;};c.prototype.gGb=function(){var d;d=l.ya(this.Ze)?this.Ze.toString():l.Ce(this.Ze)?this.Ze:"";return this.SK === k.cZ.Sba && (d.endsWith("2018") || d.endsWith("2020"));};c.prototype.Jzb=function(){if(this.errorCode === k.M.tI && (this.oa === k.L.Daa || this.oa === k.L.mDa))return this.Kzb(this.oa === k.L.Daa);};c.prototype.Kzb=function(d){var g,h,m,n;m=this.config().browserInfo || ({});n=null === (g=m.os) || void 0 === g?void 0:g.name;g=((null === (h=m.os) || void 0 === h?void 0:h.version) || "").split(".");h=parseInt(g && g[0]);g=parseInt(g && g[1]);switch(n){case "windows":return 6 > h || 6 === h && 1 > g?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > h || 10 === h && 10 > g?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.aFa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.maa="MediaElementHelpersSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PO="EventSourceFactorySymbol";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.PO=b.Nya=void 0;r=a(1);f=a(319);a=a(0);c.prototype.create=function(){return new f.Yj();};a=r.__decorate([a.R()],c);b.Nya=a;b.PO="EventSourceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.txa="DebouncerFactorySymbol";},function(r,b,a){var f;function c(k,l,d,g,h,m){this.level=k;this.Kn=l;this.timestamp=d;this.message=g;this.Vb=h;this.index=void 0 === m?0:m;this.Zbb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.aaa=void 0;f=a(4);c.prototype.x8=function(k,l){var d;d="" + this.message;this.Vb.forEach(function(g){d+=g.CH(k,l);});return (this.timestamp.ea(f.ma) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Zbb[this.level] || this.level) + "|" + this.Kn + "| " + d;};b.aaa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KCa="MomentObserverFactory";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BGa="SegmentConfigFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MEa="PlaybackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lIa="VideoPlayerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LHa="TransitionLoggerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jxa="DiagnosticsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SDa="PboGenerateScreenshotsCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yHa="ThroughputTrackerConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BHa="ThroughputTrackerSymbol";b.zHa="ThroughputTrackerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sya="ExtraPlatformInfoProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fwa="CapabilityDetectorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kva={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(r,b,a){var f,k,l;function c(d,g,h,m){this.config=d;this.Ri=g;this.mediaType=h;this.Hv=m;this.eoa={};this.eoa[f.hm.Audio]="audio";this.eoa[f.hm.iIa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.CO=void 0;f=a(25);r=a(106);k=a(166);l=new r.AA().format;c.prototype.eVa=function(d){return this.Oub(this.JUa(d));};c.prototype.Nx=function(d){return this.Ri.isTypeSupported(d);};c.prototype.wTa=function(){return [k.Ge.QX,k.Ge.wza,k.Ge.lI];};c.prototype.Yla=function(){this.Ym=[];this.Gt=[];this.config().FMb && this.Gt.push(k.Ge.bE);this.config().d0a && this.Gt.push(k.Ge.vza);this.config().c0a && this.Gt.push(k.Ge.nza);this.config().b0a && this.Gt.push(k.Ge.Pr);this.config().BG && this.Gt.push(k.Ge.cA);this.config().e0a && this.Gt.push(k.Ge.Vw);this.config().a0a && this.Gt.push(k.Ge.Gk);this.Gt=this.Gt.concat(this.wTa());!this.config().Ewb && this.Ym.push(k.Ge.bE);!this.config().pRa && this.Ym.push(k.Ge.X9a);!this.config().oRa && this.Ym.push(k.Ge.Y9a);!this.config().MS && this.Ym.push(k.Ge.Z9a);!this.config().swb && this.Ym.push(/prk$/);this.config().b0a || this.config().ewb || this.Ym.push(k.Ge.Pr);this.config().d0a || this.config().gwb || this.Ym.push(k.Ge.vza);this.config().c0a || this.config().lia || this.Ym.push(k.Ge.nza);this.config().BG || this.config().LK || this.Ym.push(k.Ge.cA);this.config().e0a || this.config().Cwb || this.Ym.push(k.Ge.Vw);this.config().a0a || this.config().awb || this.Ym.push(k.Ge.Gk);!this.config().Awb && this.Ym.push(k.Ge.OI);};c.prototype.iSa=function(d){var g,h;g=this;h=d.map(function(m){for(var n=aa(g.Gt),q=n.next();!q.done;q=n.next()){if(q.value.test(m))return Promise.resolve(!0);}n=aa(g.Ym);for(q=n.next();!q.done;q=n.next()){if(q.value.test(m))return Promise.resolve(!1);}return g.my(m);});return Promise.all(h).then(function(m){return d.filter(function(n,q){return m[q];});});};c.prototype.my=function(d){return this.config().pwb?this.Hv.my(d):this.Lxb(d);};c.prototype.Lxb=function(d){var g;d=this.tqa[d];g="";return d?(Array.isArray(d) && (g=1 < d.length?" " + d[1]:"",d=d[0]),d=l("{0}/mp4;codecs={1};{2}",this.eoa[this.mediaType],d,g),d=this.Nx(d),Promise.resolve(d)):Promise.resolve(!1);};c.prototype.Oub=function(d){var g;g={};this.Yla();return this.iSa(d).then(function(h){return h.map(function(m){return g[m]=1;});}).then(function(){return Object.keys(g);});};Xa.Object.defineProperties(c.prototype,{tqa:{configurable:!0,enumerable:!0,get:function(){this.QKa || (this.QKa=this.lF());return this.QKa;}}});b.CO=c;},function(r,b,a){var f,k,l,d,g;function c(h,m,n){n=k.CO.call(this,h,m,f.hm.Audio,n) || this;n.config=h;n.Ri=m;n.type=f.cu.fu;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.xY=void 0;f=a(25);k=a(343);l=a(50);d=a(140);g=new (a(106).AA)().format;la(c,k.CO);c.prototype.SW=function(){var h;h=g(c.JH,d.Sd.W9a);return Promise.resolve(this.config().MS && this.Ri.isTypeSupported(h));};c.prototype.lF=function(){var h;h={};h[l.ke.qD]="mp4a.40.2";h[l.ke.uza]="mp4a.40.2";h[l.ke.rD]="mp4a.40.2";h[l.ke.bE]="mp4a.40.42";h[l.ke.EO]="ec-3";h[l.ke.a$]="ec-3";h[l.ke.FO]="ec-3";return h;};c.prototype.JUa=function(h){return h || this.config().jB;};b.xY=c;c.JH="audio/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hCa="MediaCapabilitiesDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lCa="MediaCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kCa="MediaCapabilitiesLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GFa="PresentationAPISymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XY="IndexedDBConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hba="Storage";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cxa="CorruptedStorageValidatorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZAa="LocalStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ECa="MemoryStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yva="BookmarkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wva="BookmarkConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vva="BookmarkConfigParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nwa="CDMAttestedDescriptorProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WBa="ManifestParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UBa="ManifestProviderConfigSymbol";},function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(r,b,a){var c,f,k,l,d,g;b=a(58);c=a(362);f=a(682);k=a(360);l=a(216);d=a(687);g=a(365);a=b(c(["filter"],d,function(h,m){return k(m)?l(function(n,q){h(m[q]) && (n[q]=m[q]);return n;},{},g(m)):f(h,m);}));r.exports=a;},function(r,b,a){var c,f;c=a(363);f=a(681);r.exports=function(k,l,d){return function(){var g,h;if(0 === arguments.length)return d();g=Array.prototype.slice.call(arguments,0);h=g.pop();if(!c(h)){for(var m=0;m < k.length;){if("function" === typeof h[k[m]])return h[k[m]].apply(h,g);m+=1;}if(f(h))return l.apply(null,g)(h);}return d.apply(this,arguments);};};},function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(r){r.exports={nb:function(){return this.OX["@@transducer/init"]();},result:function(b){return this.OX["@@transducer/result"](b);}};},function(r,b,a){var c,f,k,l,d;b=a(122);c=a(215);f=a(688);k=!({toString:null}).propertyIsEnumerable("toString");l=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(g){var h,m,n,q;if(Object(g) !== g)return [];h=[];m=d && f(g);for(n in g){!c(n,g) || m && "length" === n || (h[h.length]=n);}if(k)for(m=l.length - 1;0 <= m;){n=l[m];if(q=c(n,g)){a:{for(q=0;q < h.length;){if(h[q] === n){q=!0;break a;}q+=1;}q=!1;}q=!q;}q && (h[h.length]=n);--m;}return h;}:function(g){return Object(g) !== g?[]:Object.keys(g);});r.exports=a;},function(r){r.exports=function(b,a){for(var c=0,f=a.length,k=Array(f);c < f;){k[c]=b(a[c]);c+=1;}return k;};},function(r,b,a){var c,f,k;c=a(217);f=a(122);b=a(58);k=a(691);a=b(function(l,d){return 1 === l?f(d):c(l,k(l,[],d));});r.exports=a;},function(r,b){function a(c,f){this.log=c;this.C8=f;}Object.defineProperty(b,"__esModule",{value:!0});b.uP=void 0;a.prototype.l6a=function(c,f){var k,l;k=this;if(!c)return (this.log.warn("There are no media streams for " + f.type + " track - " + f.trackId),[]);l=c.map(function(d){var g,h,m,n,q,p,t;t=k.C8(f,f.type,d.aia,d.bitrate,d.wb,d.size,k.hAb(d.urls),d.I1,d.Dyb / d.Cyb,d.My);t.zTb(d.rRb,d.qRb,d.L0a,d.K0a);t.MSb(null !== (g=d.Dtb) && void 0 !== g?g:void 0,null !== (h=d.Etb) && void 0 !== h?h:void 0,null !== (m=d.Ctb) && void 0 !== m?m:void 0,null !== (n=d.Btb) && void 0 !== n?n:void 0,null !== (q=d.L0a) && void 0 !== q?q:void 0,null !== (p=d.K0a) && void 0 !== p?p:void 0);f.Ll && (t.Ll=f.Ll);d.I1 && (t.Jg=d.I1);return t;});l.sort(function(d,g){return d.bitrate - g.bitrate;});l.forEach(function(d,g){d.lower=l[g - 1];d.SDb=l[g + 1];});return l;};a.prototype.hAb=function(c){return c.reduce(function(f,k){f[k.ega]=k.url;return f;},{});};b.uP=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bFa="PlayerTextTrackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JHa="TrackStreamFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RHa="TrickPlayFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aCa="ManifestVerifyErrorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ba="ManifestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YDa="PboLinksManagerSymbol";b.WDa="PboLinksManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QBa="ManifestEnricherSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(711),b);r.__exportStar(a(712),b);r.__exportStar(a(713),b);r.__exportStar(a(714),b);r.__exportStar(a(715),b);r.__exportStar(a(716),b);r.__exportStar(a(717),b);r.__exportStar(a(718),b);r.__exportStar(a(719),b);r.__exportStar(a(720),b);r.__exportStar(a(721),b);r.__exportStar(a(722),b);r.__exportStar(a(726),b);r.__exportStar(a(220),b);r.__exportStar(a(727),b);r.__exportStar(a(221),b);r.__exportStar(a(728),b);r.__exportStar(a(729),b);r.__exportStar(a(730),b);r.__exportStar(a(731),b);r.__exportStar(a(732),b);r.__exportStar(a(733),b);r.__exportStar(a(734),b);r.__exportStar(a(735),b);r.__exportStar(a(736),b);r.__exportStar(a(737),b);r.__exportStar(a(738),b);r.__exportStar(a(739),b);r.__exportStar(a(740),b);r.__exportStar(a(741),b);r.__exportStar(a(742),b);r.__exportStar(a(743),b);r.__exportStar(a(744),b);r.__exportStar(a(745),b);r.__exportStar(a(746),b);r.__exportStar(a(754),b);r.__exportStar(a(756),b);r.__exportStar(a(757),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Vea=void 0;b.Vea=function(a,c,f){var k,l;k=!0;f.forEach(function(d){var g;if(k && a === d.profile){g=d.ranges;k=void 0 === g?c >= d.min && c <= d.max:g.some(function(h){return c >= h.min && c <= h.max;});!k && d.disallowed && d.disallowed.some(function(h){if(h.stream.bitrate === c)return (l=h.disallowedBy,!0);});}});return {inRange:k,g2:l};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.MD=void 0;b.MD={Dm:function(a){return a;}};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.uq=b.teb=void 0;c=a(2);f=a(222);r=(function(){function k(l,d){this.G=l;this.By=d?[d]:[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});k.prototype.addListener=function(l){-1 === this.By.indexOf(l) && (this.By=this.By.slice(),this.By.push(l));};k.prototype.removeListener=function(l){l=this.By.indexOf(l);-1 !== l && (this.By=this.By.slice(),this.By.splice(l,1));};return k;})();b.teb=r;r=(function(k){function l(d,g){return k.call(this,d,g) || this;}c.__extends(l,k);l.Dua=function(d,g,h){return new f.Aaa(d,g,h,!1);};Object.defineProperties(l.prototype,{value:{get:function(){return this.G;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});l.prototype.set=function(d){var g;g=this.G;g !== d && (this.G=d,this.By.forEach(function(h){return h({oldValue:g,newValue:d});}));};return l;})(r);b.uq=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ae=void 0;r=a(2);r.__exportStar(a(381),b);r.__exportStar(a(773),b);r.__exportStar(a(223),b);r.__exportStar(a(774),b);r.__exportStar(a(775),b);r.__exportStar(a(776),b);r.__exportStar(a(382),b);r.__exportStar(a(778),b);c=a(54);Object.defineProperties(b,{ae:{enumerable:!0,get:function(){return c.ae;}}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Nr=b.rO=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.jIb=2]="lowCpuPlaybackStarting";})(b.rO || (b.rO={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.Nr || (b.Nr={}));},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Vga=b.rxb=b.sB=b.mH=void 0;c=a(2);f=a(22);k=a(67);Object.defineProperties(b,{mH:{enumerable:!0,get:function(){return k.mH;}}});Object.defineProperties(b,{sB:{enumerable:!0,get:function(){return k.sB;}}});b.rxb=function(l,d){var g,p,t;l=Math.max(l.duration - 3E4,3E4);for(var h={},m,n=0,q=0;q < l;q+=3E4){p="s" + n++;t={aa:d,jc:q,Fc:q + 3E4 < l?q + 3E4:null};void 0 !== m && (m.next=(g={},g[p]={weight:1},g),m.Gh=p);m=h[p]=t;}return {Qe:"s0",xa:h,Zd:"lazy"};};b.Vga=function(l,d,g){var h,q,p,t;try{for(var m=c.__values(Object.keys(l.xa)),n=m.next();!n.done;n=m.next()){q=n.value;p=l.xa[q];if(p.aa === d){t=f.S.mb(p.jc);if(g.Sn(t) && (null === p.Fc || void 0 === p.Fc || g.lessThan(f.S.mb(p.Fc))))return {va:q,offset:g.Aa(t)};}}}catch(w){var u;u={error:w};}finally{try{n && !n.done && (h=m.return) && h.call(m);}finally{if(u)throw u.error;}}};},function(r){function b(){}function a(c){this.vLa=c;this.Jo=[];this.cg=null;}b.prototype.clear=function(){this.Le=null;this.size=0;};b.prototype.find=function(c){var k;for(var f=this.Le;null !== f;){k=this.om(c,f.data);if(0 === k)return f.data;f=f.Og(0 < k);}return null;};b.prototype.lowerBound=function(c){var d;for(var f=this.Le,k=this.iterator(),l=this.om;null !== f;){d=l(c,f.data);if(0 === d)return (k.cg=f,k);k.Jo.push(f);f=f.Og(0 < d);}for(d=k.Jo.length - 1;0 <= d;--d){if((f=k.Jo[d],0 > l(c,f.data)))return (k.cg=f,k.Jo.length=d,k);}k.Jo.length=0;return k;};b.prototype.upperBound=function(c){for(var f=this.lowerBound(c),k=this.om;null !== f.data() && 0 === k(f.data(),c);){f.next();}return f;};b.prototype.min=function(){var c;c=this.Le;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Le;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.We=function(c){for(var f=this.iterator(),k;null !== (k=f.next());){c(k);}};a.prototype.data=function(){return null !== this.cg?this.cg.data:null;};a.prototype.next=function(){var c;if(null === this.cg){c=this.vLa.Le;null !== c && this.qKa(c);}else if(null === this.cg.right){do {if((c=this.cg,this.Jo.length))this.cg=this.Jo.pop();else {this.cg=null;break;}}while(this.cg.right === c);}else (this.Jo.push(this.cg),this.qKa(this.cg.right));return null !== this.cg?this.cg.data:null;};a.prototype.LG=function(){var c;if(null === this.cg){c=this.vLa.Le;null !== c && this.mKa(c);}else if(null === this.cg.left){do {if((c=this.cg,this.Jo.length))this.cg=this.Jo.pop();else {this.cg=null;break;}}while(this.cg.left === c);}else (this.Jo.push(this.cg),this.mKa(this.cg.left));return null !== this.cg?this.cg.data:null;};a.prototype.qKa=function(c){for(;null !== c.left;){this.Jo.push(c);c=c.left;}this.cg=c;};a.prototype.mKa=function(c){for(;null !== c.right;){this.Jo.push(c);c=c.right;}this.cg=c;};r.exports=b;},function(r){function b(a){this.tda=a;this.Mf=[];this.Fq=!1;this.DE=void 0;this.uj={};}b.prototype.K0=function(a){this.Mf.length === this.tda && this.Mf.shift();Array.isArray(a)?this.Mf=this.Mf.concat(a):this.Mf.push(a);this.Fq=!0;};b.prototype.rL=function(){return this.Mf.length;};b.prototype.Ufa=function(){var a;a=this.Mf;return 0 < a.length?a.reduce(function(c,f){return c + f;},0) / this.Mf.length:void 0;};b.prototype.r1=function(){var a,c;a=this.Mf;if(0 < a.length){c=this.Ufa();a=a.reduce(function(f,k){return f + k * k;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.ss=function(a){var c,f,k;if(this.Fq || void 0 === this.DE)(this.DE=this.Mf.slice(0).sort(function(l,d){return l - d;}),this.uj={},this.Fq=!1);if(void 0 === this.uj[a]){c=this.DE;f=Math.floor(a / 100 * (c.length - 1) + 1) - 1;k=(a / 100 * (c.length - 1) + 1) % 1;this.uj[a]=f === c.length - 1?c[f]:c[f] + k * (c[f + 1] - c[f]);}return this.uj[a];};r.exports=b;},function(r,b,a){r.exports={B5b:a(387),L8b:a(229),g_b:a(798),f_b:a(388),h_b:a(389),Zya:a(801)};},function(r,b,a){var l;function c(d){this.reset();this.fTb(d);}function f(d){this.setInterval(d);this.reset();}function k(d){this.IA=new f(d);this.ye=0;this.Cc=null;}l=a(10);c.prototype.fTb=function(d){this.XI=Math.pow(.5,1 / d);this.zQ=d;};c.prototype.reset=function(d){d && d.Ca && l.ya(d.Ca)?d.Ai && l.ya(d.Ai)?(this.Bu=this.zhb,this.Ko=d.Ca,this.EA=d.Ai + d.Ca * d.Ca):(this.Bu=this.zhb,this.Ko=d.Ca,this.EA=d.Ca * d.Ca):this.EA=this.Ko=this.Bu=0;};c.prototype.add=function(d){var g;if(l.ya(d)){this.Bu++;g=this.XI;this.Ko=g * this.Ko + (1 - g) * d;this.EA=g * this.EA + (1 - g) * d * d;}};c.prototype.get=function(){var d,g,h;if(0 === this.Bu)return {Ca:0,Ai:0};d=this.Ko;g=this.EA;h=1 - Math.pow(this.XI,this.Bu);d/=h;g/=h;h=d * d;return {Ca:Math.floor(d),Ai:Math.floor(g > h?g - h:0)};};c.prototype.getState=function(){return 0 === this.Bu?null:{a:Number(this.Ko.toPrecision(6)),s:Number(this.EA.toPrecision(6)),n:this.Bu};};c.prototype.Fe=function(d){if(l.tb(d) || !l.has(d,"a") || !l.has(d,"s") || !l.isFinite(d.a) || !l.isFinite(d.s))return (this.EA=this.Ko=this.Bu=0,!1);this.Ko=d.a;this.EA=d.s;l.has(d,"n") && l.ya(d.n)?this.Bu=d.n:this.Bu=16 * this.zQ;return !0;};f.prototype.setInterval=function(d){this.zQ=d;this.XI=-Math.log(.5) / d;};f.prototype.reset=function(d){this.jb=this.jf=null;d && l.isFinite(d.Ca)?this.Ko=d.Ca:this.Ko=0;};f.prototype.start=function(d){l.tb(this.jf) && (this.jb=this.jf=d);};f.prototype.add=function(d,g,h){var m,n;l.tb(this.jf) && (this.jb=this.jf=g);this.jf=Math.min(this.jf,g);g=Math.max(h - g,1);m=this.XI;n=h > this.jb?h:this.jb;this.Ko=this.Ko * (n > this.jb?Math.exp(-m * (n - this.jb)):1) + 8 * d / g * (1 - Math.exp(-m * g)) * (h > n?Math.exp(-m * (n - h)):1);this.jb=n;};f.prototype.get=function(d){var g;d=Math.max(d,this.jb);g=this.Ko * Math.exp(-this.XI * (d - this.jb));d=1 - Math.exp(-this.XI * (d - this.jf));0 < d && (g/=d);return {Ca:Math.floor(g)};};f.prototype.toString=function(){return "ewmav(" + this.zQ + ")";};k.prototype.setInterval=function(d){this.IA.setInterval(d);};k.prototype.reset=function(d){this.IA.reset(d);this.ye=0;this.Cc=null;};k.prototype.start=function(d){!l.tb(this.Cc) && d > this.Cc && (this.ye+=d - this.Cc,this.Cc=null);this.IA.start(d - this.ye);};k.prototype.add=function(d,g,h){!l.tb(this.Cc) && h > this.Cc && (this.ye+=g > this.Cc?g - this.Cc:0,this.Cc=null);this.IA.add(d,g - this.ye,h - this.ye);};k.prototype.stop=function(d){this.Cc=Math.max(l.tb(this.IA.jb)?0:this.IA.jb + this.ye,l.tb(this.Cc)?d:Math.min(this.Cc,d));};k.prototype.get=function(d){return this.IA.get((l.tb(this.Cc)?d:this.Cc) - this.ye);};k.prototype.toString=function(){return this.IA.toString();};r.exports={Z$a:c,z_b:f,X$a:k};},function(r,b,a){var f,k;function c(l,d,g,h){f.call(this,g,h);this.Iu=new k(l);this.dib=d;}f=a(145);k=a(385);c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var l;l=this.Ov(0);f.prototype.shift.call(this);null !== l && this.Iu.K0(l);return l;};c.prototype.flush=function(){var l;l=this.get();this.Iu.K0(l);f.prototype.reset.call(this);return l;};c.prototype.get=function(){var l;l=this.FT();return {sampleSize:this.rL(),J6:l,eV:l.Mj?(l.ll - l.kl) / l.Mj:void 0};};c.prototype.rL=function(){return this.Iu.rL();};c.prototype.FT=function(){return this.Iu.rL() < this.dib?{kl:void 0,Mj:void 0,ll:void 0,sampleSize:void 0,Ui:void 0}:{kl:this.Iu.ss(25),Mj:this.Iu.ss(50),ll:this.Iu.ss(75),sampleSize:this.Iu.rL(),Ui:this.Iu.ss.bind(this.Iu)};};c.prototype.toString=function(){return "biqr(" + this.SJ + "," + this.sd + "," + this.xj + ")";};r.exports=c;},function(r,b,a){var f,k;function c(l){this.I={GU:l.maxc || 25,Kga:l.c || .5,jZb:l.w || 15E3,Jx:l.b || 5E3};f.call(this,this.I.jZb,this.I.Jx);this.ZQ();}f=a(145);k=a(227).TDigest;c.prototype=Object.create(f.prototype);c.prototype.shift=function(){var l;l=this.Ov(0);f.prototype.shift.call(this);null !== l && (this.Me.push(l,1),this.Fq=!0);return l;};c.prototype.flush=function(){var l;l=this.get();this.Me.push(l,1);this.Fq=!0;f.prototype.reset.call(this);return l;};c.prototype.get=function(){return this.gVa();};c.prototype.wy=function(){var l;l=this.gVa();return {min:l.min,p10:l.C6,p25:l.kl,p50:l.Mj,p75:l.ll,p90:l.D6,max:l.max,centroidSize:l.Xob,sampleSize:l.sampleSize,centroids:l.hi};};c.prototype.gVa=function(){var l;if(0 === this.Me.size())return null;l=this.Me.Ui([0,.1,.25,.5,.75,.9,1]);if(l[2] === l[4])return null;if(this.Fq || !this.Kf)(this.Fq=!1,this.Kf={min:l[0],C6:l[1],kl:l[2],Mj:l[3],ll:l[4],D6:l[5],max:l[6],Ui:this.Me.Ui.bind(this.Me),Xob:this.Me.size(),sampleSize:this.Me.n,hi:this.Lzb(),wy:this.wy.bind(this)});return this.Kf;};c.prototype.Lzb=function(){var l;if(0 === this.Me.size())return null;if(!this.Fq && this.Kf)return this.Kf.centroids;l=this.Me.Ui([.25,.75]);if(l[0] === l[1])return null;this.Me.size() > this.I.GU && this.Me.Tx();l=this.Me.ro(!1).map(function(d){return {mean:d.Tf,n:d.n};});return JSON.stringify(l);};c.prototype.cVa=function(){return this.Me.summary();};c.prototype.size=function(){return this.Me.size();};c.prototype.toString=function(){return "btdtput(" + this.SJ + "," + this.sd + "," + this.xj + "): " + this.Me.summary();};c.prototype.ZQ=function(){this.Me=new k(this.I.Kga,this.I.GU);};r.exports=c;},function(r,b,a){var f,k;function c(l){this.I={GU:l.maxc || 25,Kga:l.c || .5,SPb:l.rc || "none",cDb:l.hl || 7200};this.ZQ();this.Fjb=this.I.SPb;this.zQ=this.I.cDb;this.ica=Math.exp(Math.log(2) / this.zQ);this.ica=Math.max(this.ica,1);this.s_=1;}f=a(10);k=a(227).TDigest;new (a(5).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var l;if(0 === this.Me.size())return null;l=this.Me.Ui([.25,.75]);if(l[0] === l[1])return null;this.Me.size() > this.I.GU && this.Me.Tx();l=this.Me.ro(!1).reduce((function(d,g){f.ya(g.Tf) && f.ya(g.n) && d.push({mean:g.Tf,n:g.n / this.s_});return d;}).bind(this),[]);return {tdigest:JSON.stringify(l)};};c.prototype.Fe=function(l){var d;if(f.tb(l) || !f.has(l,"tdigest") || !f.Ce(l.tdigest))return !1;try{d=JSON.parse(l.tdigest);}catch(g){return !1;}d.forEach(function(g){f.isFinite(g.n) || (g.n=1);});l=d.map(function(g){return {Tf:g.mean,n:g.n};});this.s_=1;this.Me.yqa(l);void 0 === this.Me.Ui(0) && this.ZQ();};c.prototype.get=function(){var l,d;l=this.Me;d=l.Ui([0,.1,.25,.5,.75,.9,1]);return {min:d[0],C6:d[1],kl:d[2],Mj:d[3],ll:d[4],D6:d[5],max:d[6],hi:l.ro(!1)};};c.HBb=function(l){var d;d=new c({});f.tb(l) || f.fa(l) || !f.isArray(l.hi) || (d.Me.yqa(l.hi),void 0 === d.Me.Ui(0) && d.ZQ());l=d.Me.Ui([.25,.75]);return l[0] === l[1]?null:function(g){return d.Me.Ui(g);};};c.prototype.add=function(l){var d;d=1;"ewma" === this.Fjb && (this.s_=d=this.s_ * this.ica);this.Me.push(l,d);};c.prototype.toString=function(){return "TDigestHist(" + this.Me.summary() + ")";};c.prototype.ZQ=function(){this.Me=new k(this.I.Kga,this.I.GU);};r.exports={tHa:c};},function(r,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Iza=b.K$=void 0;c=a(2);f=c.__importStar(a(10));k=c.__importDefault(a(5));l=a(812);d=a(813);g=(function(){return function(){this.a1=new d.HP(100);this.e6=new d.HP(100);};})();r=(function(){function h(m,n,q){var p,t,u;this.I=n;this.H=q;this.p0=m;p=this.KJ=this.aJ=this.$I=0;t=0;u=0;this.p0.length >= this.I.P5 && (this.p0.forEach(function(w){!(w=w.get().oyb) || f.fa(w.avtp) || f.fa(w.neuhd) || (p+=w.avtp,t+=1 * w.neuhd,u++);}),this.KJ=u,this.$I=p / u,this.aJ=t / u);}Object.defineProperties(h.prototype,{gnb:{get:function(){return this.$I;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hnb:{get:function(){return this.aJ;},enumerable:!1,configurable:!0}});h.prototype.J4=function(){return this.KJ >= this.I.P5 && this.$I >= this.I.baselineHighAndStableThreshold.bwThreshold && this.aJ < this.I.baselineHighAndStableThreshold.nethreshold;};return h;})();b.K$=r;r=(function(h){function m(n,q,p){n=h.call(this,n,q,p) || this;n.Zba=[];n.zxb={};n.E5a=[];n.Wx=new g();n.p0.length >= n.I.P5 && (n.ALa("avtp",n.Wx.a1),n.ALa("neuhd",n.Wx.e6));return n;}c.__extends(m,h);m.prototype.J4=function(){var n;this.GBb();n=new l.yBa(this.H,this.E5a,this.znb);n.eqa(this.Zba);n=n.Gpb(this.I.a4.d8b);return this.gYb && 1 === n && this.KJ >= this.I.P5;};m.prototype.tT=function(){var n,q,p,t;n={};q=k.default.time.now();p=new Date(q);t=p.getHours();n.currentMonoTime=q;n.currentTime=p.getTime();n.currentHour=t;return n;};m.prototype.zTa=function(n,q,p){n="avtp" === n?this.$I:this.aJ;for(var t=q.r1(),u=0,w="skew" === p?3:4,v=0;v < q.Mf.length;v++){f.fa(n) || f.fa(t) || (u+=Math.pow(q.Mf[v] - n,w));}u/=q.Mf.length;return !f.fa(t) && 0 < t?u / Math.pow(t,w) - 3 * ("skew" === p?0:1):NaN;};m.prototype.STa=function(n,q,p){var t;t=0;"lte" === p?t=n.reduce(function(u,w){return w <= q?u + 1:u;},0) / (1 * n.length):"gte" === p && (t=n.reduce(function(u,w){return w >= q?u + 1:u;},0) / (1 * n.length));return t;};m.prototype.pBb=function(n){var q,p;q=n.ss(25);p=n.ss(50);n=n.ss(75);return f.fa(q) || f.fa(p) || f.fa(n)?NaN:0 < p?(n - q) / p:NaN;};m.prototype.Dzb=function(n,q){n="avtp" === n?this.$I:this.aJ;q=q.r1();return !f.fa(q) && !f.fa(n) && (0 < q || 0 < n) && 0 < n?(n - q) / (n + q):NaN;};m.prototype.FT=function(n,q){n=n.ss(q);return f.fa(n)?NaN:n;};m.prototype.normalize=function(n,q,p){return !isNaN(n) && 0 < p?(n - q) / p:NaN;};m.prototype.GBb=function(){var n,q,p,t,u,w,v,x,y,z,A,B;n=this;q=this.I.a4.sYa.P6b;p=this.I.a4.sYa.N6b;t=this.I.a4.sYa.O6b;x=[];B=0;this.gYb=!Object.keys(q).some(function(D){var E;A=NaN;if(!(q.hasOwnProperty(D) && p.hasOwnProperty(D) && t.hasOwnProperty(D) && !f.fa(n.Wx) && n.Wx.a1 && n.Wx.e6) || 1 > n.KJ || "number" !== typeof q[D] || "number" !== typeof p[D] || "number" !== typeof t[D])return !0;u=q[D];w=p[D];v=t[D];x=D.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":E=n.Wx.a1;break;case "neuhd":E=n.Wx.e6;break;default:E=void 0;}if("avtp" === y || "neuhd" === y){if(E)switch(z){case "last":A=E.Mf[n.KJ - 1];break;case "mean":A="avtp" === y?n.$I:n.aJ;break;case "niqr":A=n.pBb(E);break;case "skew":A=n.zTa(y,E,"skew");break;case "kurtosis":A=n.zTa(y,E,"kurtosis");break;case "std":A=E.r1();break;case "b":A=n.Dzb(y,E);break;default:-1 !== D.search("[p][1-9]?[1-9]") && (A=n.FT(E,Number(D.split("_p",2)[1])));}}else switch(D){case "fracAbove20Mbps":E=n.Wx.a1;A=f.fa(E)?NaN:n.STa(E.Mf,2E4,"gte");break;case "fracBelow20p":E=n.Wx.e6;A=f.fa(E)?NaN:n.STa(E.Mf,.15,"lte");break;case "hour_current":A=n.tT().currentHour;break;case "session_ct":A=n.KJ;break;case "intercept":(A=u,n.znb=A);}A=n.normalize(A,w,v);if(isNaN(A))return !0;"intercept" !== D && (n.Zba.push(A),n.E5a.push(u),n.zxb[D]=B,B+=1);});};m.prototype.ALa=function(n,q){this.p0.forEach(function(p){p=p.get().oyb;!p || "avtp" !== n && "neuhd" !== n || f.fa(p[n]) || q.K0(Number(p[n]));});};return m;})(r);b.Iza=r;},function(r,b,a){var f,k,l,d;function c(g){return function(){for(var h=Array(this.length),m=0;m < this.length;++m){h[m]=g.call(this,m);}return h;};}Object.defineProperties(b,{__esModule:{value:!0}});b.pmb=b.Av=b.Nba=b.IHa=void 0;r=a(2);f=a(6);r=r.__importDefault(a(5));k=a(22);l=new r.default.Console("FRAGMENTS","media|asejs");d=(function(){function g(h,m){this.Qc=h;this.Hg=m;}Object.defineProperties(g.prototype,{index:{get:function(){return this.Hg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nc:{get:function(){return new k.S(this.Ya,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ld:{get:function(){return new k.S(this.kb,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ya:{get:function(){return this.Qc.t0 + this.Qc.bB[this.Hg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{kb:{get:function(){return this.Ya + this.Qc.Bq[this.Hg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{np:{get:function(){return this.Qc.Bq[this.Hg];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{pa:{get:function(){return this.Qc.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{U:{get:function(){return this.Qc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{X:{get:function(){return Math.floor(1E3 * this.Ya / this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ea:{get:function(){return Math.floor(1E3 * (this.Ya + this.np) / this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{duration:{get:function(){return this.Ea - this.X;},enumerable:!1,configurable:!0}});g.prototype.toJSON=function(){return {startPts:1E3 * this.Ya / this.pa.U,endPts:1E3 * this.kb / this.pa.U,duration:1E3 * this.np / this.pa.U,index:this.index};};return g;})();b.IHa=d;a=(function(){function g(h,m,n,q){this.mediaType=h;this.length=n.gd.length;this.fb=n.U;this.Bq=n.gd;this.M0=q && q.zt;this.hMa=q && q.Nt;this.rJ=m;this.Vta=this.Wta=this.iKa=void 0;this.t0=n.Dk;this.bB=new Uint32Array(this.length + 1);if(this.length){for(m=h=0;m < this.length;++m){this.bB[m]=h;h+=this.Bq[m];}this.bB[m]=h;this.hca=Math.floor((this.Ea - this.X) / this.length);}}Object.defineProperties(g.prototype,{Dk:{get:function(){return this.R4a(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ria:{get:function(){return this.R4a(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{X:{get:function(){return this.aj(0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ea:{get:function(){return this.aj(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ml:{get:function(){return new k.S(this.ria,this.U);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ona:{get:function(){return this.iKa || this.bgb();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{pa:{get:function(){return this.rJ;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{U:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});g.prototype.R4a=function(h){return this.t0 + this.bB[h];};g.prototype.aj=function(h){return Math.floor(1E3 * (this.t0 + this.bB[h]) / this.U);};g.prototype.TS=function(h){return this.aj(h + 1);};g.prototype.gd=function(h){return this.TS(h) - this.aj(h);};g.prototype.get=function(h){return new d(this,h);};g.prototype.Gm=function(h,m,n){if(0 === this.length || h < this.aj(0))return -1;h=Math.max(h,m || 0);for(var q=0,p=this.length - 1,t,u;p >= q;){if((t=q + (p - q >> 1),u=this.aj(t),h < u))p=t - 1;else if(h >= u + this.gd(t))q=t + 1;else {for(;m && t < this.length && this.aj(t) < m;){++t;}return t < this.length?t:n?this.length - 1:-1;}}return n?this.length - 1:-1;};g.prototype.K2=function(h,m,n){h=this.Gm(h,m,n);return 0 <= h?this.get(h):void 0;};g.prototype.Yga=function(h,m){var n,q;n=Math.floor(m * this.U / 1E3);m=Math.min(h + Math.ceil(m / this.hca),this.length);q=this.bB[m] - this.bB[h];if(q > n){for(;q >= n;){--m;q-=this.Bq[m];}return m - h + 1;}for(;q < n && m <= this.length;){q+=this.Bq[m];++m;}return m - h;};g.prototype.subarray=function(h,m){f.assert(void 0 === h || 0 <= h && h < this.length);f.assert(void 0 === m || m > h && m <= this.length);return new g(this.mediaType,this.pa,{U:this.U,Dk:this.t0 + this.bB[h],gd:this.Bq.subarray(h,m)},this.M0 && ({zt:this.M0.subarray(h,m + 1),Nt:this.hMa}));};g.prototype.forEach=function(h){for(var m=0;m < this.length;++m){h(this.get(m),m,this);}};g.prototype.map=function(h){for(var m=[],n=0;n < this.length;++n){m.push(h(this.get(n),n,this));}return m;};g.prototype.reduce=function(h,m){for(var n=0;n < this.length;++n){m=h(m,this.get(n),n,this);}return m;};g.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.hca};};g.prototype.dump=function(){var m;l.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.hca + "ms");for(var h=0;h < this.length;++h){m=this.get(h);l.trace("TrackFragments: " + h + ": [" + m.X + "-" + m.Ea + "]");}};g.prototype.bgb=function(){for(var h=0,m=0;m < this.length;m++){h=Math.max(this.Bq[m],h);}return this.iKa=h;};return g;})();b.Nba=a;b.Av=c;a.prototype.Q4a=c(a.prototype.aj);c(a.prototype.TS);c(a.prototype.gd);b.pmb=function(g){return "[" + Array(g.length).map(function(h,m){return g[m].toString();}).join(",") + "]";};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.GRa=b.ny=b.Fm=b.TTa=void 0;c=a(6);f=a(144);b.TTa=function(k,l){return k.Gm(l,void 0,!0);};b.Fm=function(k,l,d,g,h,m){var n,q,p,t;f.em.Ap(k);c.assert(d.Y,"findFirstFragment called without stream fragments");n=d.Y;g=Math.max(d.Y.aj(0),g);0 === k && !m && l.ek && !l.gB && d.fe && (g=Math.max(d.Y.aj(0),g + d.fe.V));q=b.TTa(n,g);p=d.pk(q);if(p.Ea < g)return p;t=p.Yia(g);t?(0 < t.Bk && p.uh({start:t.Bk}),0 !== k || l.F5 || (0 > t.pd && p.uh({start:t.Bk}),t.pd < (l.ek && !l.gB && d.fe?Math.floor(d.fe.V):0) && p.GS())):g >= p.Ea && q < n.length - 1 && (p=d.pk(q + 1));1 === k && h && p.Ea === h && q < n.length - 1 && (p=d.pk(q + 1));0 === k && !p.na && (l.u4 || l.Rvb) && m && p.uh({});p.xN(g);return p;};b.ny=function(k,l,d,g,h,m){var n,q;f.em.Ap(k);n=d.Y;void 0 === g && (g=n.Ea);if(h && (h=h.Sxb(d,g,k,l,m)))return h;h=n.pa;m=g?g + b.GRa(k,h,l.Bz,l.B7):n.TS(n.length - 1);n=n.Gm(m,void 0,!0);h=d.pk(n);0 === n || h.X !== g || 1 !== k && l.Bz || (--n,h=d.pk(n));m=1 === k?m:g;if(m < h.Ea){q=h.Xia(m);q && 0 !== q.Bk?h.uh({end:q.Bk}):0 === k && (q || m < h.X) && 0 !== n?h=d.pk(n - 1):1 === k && q && 0 !== n && (h=d.pk(n - 1));}0 === k && !h.na && l.u4 && h.uh();h.xN(g);return h;};b.GRa=function(k,l,d,g){var h;return 1 === k || g?0:d?null !== (h=null === l || void 0 === l?void 0:l.V) && void 0 !== h?h:0:l?-l.V:0;};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Bva=void 0;c=a(818);f=a(22);a(6);k=a(98);r=(function(){function l(d,g,h){var m;this.I=g;this.H=h;this.wj=d.track;this.pkb=d.mg;this.Cv=d.Cv;this.Ehb=-1 === this.profile.indexOf("none");this.tJ=this.Ka=void 0;g=d.uv;this.uv=void 0 === g?!0:g;this.g2=d.g2;this.qJ=void 0;this.kKa=this.ag=0;this.url=this.gH=this.dd=this.yr=this.fna=this.location=this.Oa=this.lb=void 0;this.VB=!1;this.Cma=this.Pe=void 0;g=(d=this.I) && "object" === typeof d.x1a && d.x1a[this.profile];"object" === typeof g && (g=g[this.bitrate]) && (this.f0=new f.S(g.ticks,g.timescale));this.oib=0 <= (null === (m=d.Rmb) || void 0 === m?void 0:m.indexOf(this.profile));}Object.defineProperties(l.prototype,{Be:{get:function(){return ! !this.Ka;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{N:{get:function(){return this.wj.N;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{aa:{get:function(){return this.N.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{K:{get:function(){return this.wj.K;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mediaType:{get:function(){return this.wj.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{pa:{get:function(){return this.wj.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{U:{get:function(){return this.wj.U;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{kM:{get:function(){return this.wj.kM;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{trackId:{get:function(){return this.wj.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{track:{get:function(){return this.wj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mg:{get:function(){return this.pkb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ma:{get:function(){return this.Cv.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{id:{get:function(){return this.Ma;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{My:{get:function(){return this.Ehb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bitrate:{get:function(){return this.Cv.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wb:{get:function(){return this.Cv.vmaf || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{tRb:{get:function(){return this.Cv.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{u7:{get:function(){return this.Cv.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{profile:{get:function(){return this.Cv.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Jg:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Br:{get:function(){return this.Cv.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{fe:{get:function(){return this.f0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{FDb:{get:function(){return this.oib;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Y:{get:function(){return this.Ka;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bz:{get:function(){return this.Ka && this.Ka.bz;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{tja:{get:function(){return this.wj.tja;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{sja:{get:function(){return this.wj.sja;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{X:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ov:{get:function(){return void 0 !== this.qJ?this.qJ:this.iGb();},set:function(d){this.qJ=d;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{dt:{get:function(){return this.uv && !this.VB;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{yg:{get:function(){return this.tJ;},enumerable:!1,configurable:!0}});l.prototype.qk=function(){return this.N.qk(this.mediaType,this.Ma);};l.prototype.q3=function(){var d;d=this.qk();return d && d.stream.Y;};l.prototype.IH=function(d){return this.N.IH(this,d);};l.prototype.v6=function(){this.track.v6();};l.prototype.u6=function(){this.track.u6();};l.prototype.t6=function(d,g,h,m,n,q,p){m && void 0 !== m.Dk && (this.track.Be || void 0 !== m.gd && m.gd.length) && void 0 !== m.offset && void 0 !== m.sizes && m.sizes.length?(this.I.ek && this.fe && 0 === m.Dk && (m.Dk+=this.fe.Xf(m.U).Xb),this.tJ=d,this.Be || (this.track.t6(this,g,h,m,q),this.Ka=new c.cHa(this.track.so,m,n,q,p,this.K),this.track.ILb(this))):m?this.H.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== m.Dk) + "," + this.track.Be + "," + this.track.fia + "," + (void 0 !== m.gd) + "," + !(!m.gd || !m.gd.length) + "," + (void 0 !== m.offset) + "," + (void 0 !== m.sizes) + "," + !(!m.sizes || !m.sizes.length)):this.H.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};l.prototype.L1=function(d){this.Be || (this.track.Kqb(d.track),this.Ka=d.Y,this.tJ=d.yg);};l.prototype.pk=function(d){return new k.fm(this,this.Y.get(d));};l.prototype.NTa=function(d){var g;g=this.pk(d.index);d.na && (g.uh(d.na),g.xN(d.Wt));return g;};l.prototype.J6a=function(d,g){this.ag=d;this.kKa=g;};l.prototype.Npb=function(){this.Oa=this.lb=this.dd=this.location=this.url=void 0;};l.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,streamId:this.Ma,bitrate:this.bitrate,streamIndex:this.mg,isAvailable:this.uv,fittable:this.ov,vmaf:this.wb,resolutionWidth:this.tRb,resolutionHeight:this.u7};};l.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Ma + ":" + this.bitrate;};l.prototype.iGb=function(){var d,g,h,m,n;if(!this.Be)return !0;if(this.track.ula >= this.bitrate)return this.qJ=!0;if(this.track.qYa <= this.bitrate)return this.qJ=!1;n=this.Ka.oob(this.I.TU,this.ag,null !== (g=null === (d=this.N) || void 0 === d?void 0:d.oH.V) && void 0 !== g?g:0,null !== (m=null === (h=this.N) || void 0 === h?void 0:h.oH.da) && void 0 !== m?m:0,this.kKa);if(n){if(!this.track.fia || this.My)this.track.ula=this.bitrate;}else this.track.qYa=this.bitrate;return this.qJ=n;};return l;})();b.Bva=r;},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f * a.byteLength / a.length);}:function(a,c,f){a.set(c,f);};r.exports={from:function(a,c,f,k){a=new a(c.length);for(var l="function" === typeof f,d=0;d < c.length;++d){a[d]=l?f.call(k,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){var l;l=null !== f && f.apply(this,arguments) || this;l.ry=1536;return l;}c.__extends(k,f);k.La=!0;return k;})(a(175).default);b.default=r;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="ac-3";return k;})(r);b.m9=a;r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="ec-3";return k;})(r);b.p$=r;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(97);r=a(31);k=f.JD;r=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.parse=function(){this.ic();this.fileSize=this.u.Hd();this.U=this.u.Hd();this.duration=this.u.Hd(!1,!0);this.Woa=this.u.Hd();this.u.Hd();this.$oa=this.u.Hd();this.Foa=this.u.ta();this.Xoa=this.u.Hd();this.ija=this.u.ta();this.u.xz();this.De={moof:{offset:this.Woa},sidx:{offset:this.Xoa,size:this.ija}};this.De[f.yP]={offset:this.$oa,size:this.Foa};this.u.offset - this.startOffset <= this.length - 24 && (this.Zoa=this.u.Hd(),this.zoa=this.u.ta(),this.Yoa=this.u.Hd(),this.xoa=this.u.ta(),this.De[f.Mw]={offset:this.Zoa,size:this.zoa},this.De[f.Lw]={offset:this.Yoa,size:this.xoa});return !0;};d.Mb=k;d.La=!1;return d;})(r.mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(97);a=a(31);f=r.KD;a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){var d,m,n;this.ic();1 <= this.version && this.u.xz();d=this.u.ta();this.De={};for(var g=this.startOffset + this.length,h=0;h < d;++h){m=this.u.nl();"uuid" === m && (m=this.u.xz());n=this.u.Hd();this.De[m]={offset:g,size:n};g+=n;}return !0;};l.Mb=f;l.La=!1;return l;})(a.mc);b.default=a;},function(r){var b,a,c,f;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Tj:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Tj:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Tj:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Tj:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(31);k=a(82);r=(function(l){function d(g,h,m,n,q){m=l.call(this,m,n,q) || this;m.Bfa=g;m.fq=h;m.Ta={};return m;}c.__extends(d,l);d.prototype.parse=function(g){var h,m,n,q,p,t;this.offset=0;h=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){m=this.offset;n=this.ta();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};q=k.tn(this.ta());if(null === q)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === q){if(16 > this.view.byteLength - this.offset)break;q=this.xz();}if(0 === h.length && this.fq.iT(q,m,n))break;if(m + n > this.view.byteLength)break;p=this.Bfa[q];t=void 0;if(p){if((t=new p(this,q,m,n,h[0]),(h[0] || this).ls(t),t.parse(g)))this.config.CG && p.La?h.unshift(t):this.offset=m + n;else return {done:!1,offset:this.offset,error:"parse error in " + q + " box"};}else this.offset=m + n;for(;h.length && this.offset > h[0].byteOffset + h[0].Vm - 8;){t=h.shift();if(!t.Js(g))return {done:!1,offset:this.offset,error:"finalize error in " + t.type + " box"};this.offset=t.byteOffset + t.Vm;}if(0 === h.length && this.fq.AS(q,m,n,t))break;}return !this.fq.done && (g=this.fq.endOffset?this.fq.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,ZU:g}:{done:!0,offset:Math.min(this.fq.endOffset || Infinity,this.offset)};};d.prototype.ls=function(g){f.mc.ls(this,g);};return d;})(a(838).Uba);b.kD=r;},function(r,b,a){var f;function c(k,l){k=l.indexOf(k);-1 !== k && l.splice(k,1);}Object.defineProperty(b,"__esModule",{value:!0});f=a(97);r=(function(){function k(l){this.endOffset=l;this.done=!1;}k.prototype.iT=function(){return this.done;};k.prototype.AS=function(l,d,g){return this.done=d + g >= this.endOffset;};return k;})();b.KO=r;r=(function(){function k(l,d,g,h){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === h && (h=!1);this.sh=l;this.cy=d;this.bX=g;this.xV=h;this.done=!1;this.De={};}k.prototype.iT=function(l,d,g){-1 !== k.mla.indexOf(l) && (this.De[l]={offset:d,size:g});if(-1 !== this.bX.indexOf(l)){if((this.De[l]={offset:d,size:g},this.xV))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.sh && -1 !== this.sh.indexOf(l)?(l=1 < this.sh.length?4096:0,this.endOffset=Math.max(d + g + l,this.endOffset || 0)):-1 !== this.cy.indexOf(l) && (l=this.sh?4096:0,this.endOffset=Math.max(d + g + l,this.endOffset || 0));return this.done;};k.prototype.AS=function(l,d,g,h){var m;m=this;if(-1 !== this.bX.indexOf(l))return this.done=!0;l === f.JD && this.FW(h.De);l === f.KD && this.FW(h.De);this.sh && c(l,this.sh);c(l,this.cy);return this.sh && 0 === this.sh.length && !this.cy.some(function(n){return m.De[n];})?this.done=!0:this.done;};k.prototype.FW=function(l){var d;d=this;this.De=l;this.endOffset=(this.sh || []).concat(this.cy).reduce(function(g,h){return d.De[h]?(h=d.De[h],Math.max(h.offset + (h.size || 4096),g)):g;},this.endOffset || 0);};k.mla=["moov","sidx"];return k;})();b.J$=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Eba=void 0;c=a(2);f=a(111);a(6);c.__importDefault(a(40));r=(function(){function k(l,d,g,h){this.U=g;this.gd=l;this.sizes=d;this.length=Math.min(l.length,d.length);this.Ic=h;}Object.defineProperties(k.prototype,{da:{get:function(){return void 0 !== this.Ic?this.Ic:this.Ic=this.oca();},enumerable:!1,configurable:!0}});k.prototype.subarray=function(l,d){return new k(this.gd.subarray(l,d),this.sizes.subarray(l,d),this.U);};k.prototype.concat=function(){var g,h;for(var l=[],d=0;d < arguments.length;d++){l[d]=arguments[d];}d=[this];l=d.concat.apply(d,c.__spread(l));d=l.reduce(function(m,n){return m + n.length;},0);g=new Uint32Array(d);h=new Uint32Array(d);d=l.reduce(function(m,n){return m || n.U;},void 0);l.reduce(function(m,n){f.Oba.set(g,n.gd,m);f.Oba.set(h,n.sizes,m);return m + n.length;},0);return new k(g,h,d);};k.prototype.oca=function(){for(var l=this.sizes,d=this.length,g=0,h=0;h < d;++h){g+=l[h];}return g;};return k;})();b.Eba=r;},function(r,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.F9=void 0;c=a(2);f=a(111);r=a(16);k=c.__importDefault(a(5));l=a(9);d=a(43);g=a(6);h=a(241);m=a(404);a=a(405);n=k.default.MediaSource;a=(function(q){function p(t,u,w,v,x,y,z){u=q.call(this,t,v,x,u,z) || this;m.YX.mWa(u,t,v,z);u.ko=w;u.track=w.track;u.mv=! !v.mv;u.lM=! !v.lM;u.CB=! !v.CB;u.rMb=v.da;u.EN=! !v.EN;u.kda=(y?"(cache)":"") + u.Ma + " header";w=v.offset;y=v.da;u.pm && (w+=u.pm.byteLength,y-=u.pm.byteLength);u.NJ(t.url || v.url,w,y);return u;}c.__extends(p,q);Object.defineProperties(p.prototype,{Pc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{yV:{get:function(){return this.ijb;},enumerable:!1,configurable:!0}});p.prototype.Lc=function(){var t;if(!this.complete){t={type:"headerRequestCancelled",request:this};this.emit(t.type,t);}q.prototype.Lc.call(this);};p.prototype.hT=function(t){this.stream.v6();q.prototype.hT.call(this,t);};p.prototype.$K=function(t,u,w){this.stream.u6();q.prototype.$K.call(this,t,u,w);};p.prototype.wk=function(t){this.pm=this.pm?l.vB(this.pm,t.response):t.response;t.aW();this.stream.u6();this.gjb()?q.prototype.wk.call(this,t):this.IIa?(this.NJ(t.url,t.offset + t.da,this.IIa),this.stream.v6(),q.prototype.wk.call(this,t)):this.U2(this);};p.prototype.NJ=function(t,u,w){t=new h.qO(this.stream,this.track,this.kda + " (" + this.Ba.length + ")",{offset:u,da:w,url:t,location:this.location,zd:this.zd,responseType:0},this,this.Cd,this.H);this.push(t);this.Ic=this.Ba.reduce(function(v,x){return v + x.da;},0);};p.prototype.gjb=function(){var t,u,w,v,x,y;w=this.Cd;v=new f.Ur(p.jKb,this.stream,this.pm,["sidx"],!0,{I8b:this.stream.track.fia,H6:void 0 === this.pa,E8:!n.Yb || !n.Yb.LOa,F8:w.F8,ek:w.ek,Vz:this.Cd.Vz,X2a:!0,SC:!n.Yb || !n.Yb.QZa});x=v.parse({pa:this.pa});this.rYb=w.Vz && v.DVa;if(x.Wm){g.assert(x.yg);this.tJ=x.yg;this.ijb=x.yV;this.oJa=! !x.FRa;void 0 === this.pa && void 0 === x.pa && this.H.error("No frame duration available for " + this.Ma);v=x.pa?new l.S(x.pa):this.pa;y=void 0;1 === this.sra.mediaType && (null === (t=w.lz) || void 0 === t?0:t.enabled) && (t=this.sra.Cv,(null === (u=t.PC) || void 0 === u?0:u.length)?y=t.PC.map(function(z){return z.wb;}):x.hq && (y=x.hq));this.stream.t6(x.yg,x.U,v,x.Y,x.qG,x.Eh,y);this.pm=void 0;}else this.IIa=x.fMa || 0;return ! !x.Wm;};p.jKb=new k.default.Console("MP4","media|asejs");return p;})(a.C9);b.F9=a;d.uf(m.YX,a,!1,!1);d.uf(r.EventEmitter,a);},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.YX=void 0;c=a(2);f=a(6);k=a(176);r=(function(l){function d(g,h,m){var n;n=l.call(this,g,h) || this;n.EN=!1;n.mv=!1;n.lM=!1;n.CB=!1;n.ko=void 0;d.mWa(n,g,h,m);return n;}c.__extends(d,l);d.mWa=function(g,h,m,n){k.bu.nb(g,h,m);g.tJ=m.yg;g.pm=m.wpa;g.oJa=m.lk;g.H=n;};Object.defineProperties(d.prototype,{Pc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yg:{get:function(){return this.tJ;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wpa:{get:function(){return this.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{lk:{get:function(){return this.oJa;},enumerable:!1,configurable:!0}});d.prototype.Lc=function(){};d.prototype.hua=function(){};d.prototype.Tlb=function(g){f.assert(this.Uc.Ma === g.Ma);!g.Be && this.Uc.Be && g.L1(this.Uc);!g.location && this.Uc.location && (g.location=this.Uc.location,g.dd=this.Uc.dd,g.gH=this.Uc.gH,g.url=this.Uc.url,g.lb=this.Uc.lb);this.Uc=g;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},l.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.Y});};return d;})(k.bu);b.YX=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.C9=void 0;c=a(2);c.__importDefault(a(5));a(6);r=(function(f){function k(l,d,g,h,m){l=f.call(this,l,d,g,h,m) || this;l.yJa=!1;l.xJa=!1;l.xQ=!1;l.Ba=[];l.zn=!1;l.EKa=!1;l.TJa=!1;l.Je=!1;l.Bl=!1;l.ai=!1;l.UI=!1;l.yJ=void 0;l.Eu=void 0;return l;}c.__extends(k,f);Object.defineProperties(k.prototype,{qma:{get:function(){return this.zn && !this.xQ;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.Je;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Pqa:{get:function(){return this.Bl;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.ai || (this.ai=this.Ba.every(function(l){return l.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{aborted:{get:function(){return this.UI;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Dg:{get:function(){return this.Ba.reduce(function(l,d){return l + d.Dg;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bytesReceived:{get:function(){return this.Ba.reduce(function(l,d){return l + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{af:{get:function(){return this.yJ || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{url:{get:function(){return this.Ba[0] && this.Ba[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{readyState:{get:function(){return this.dh || this.Ba.reduce(function(l,d){return Math.min(l,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{status:{get:function(){return this.Eu && this.Eu.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Lg:{get:function(){return this.Eu && this.Eu.Lg;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{VK:{get:function(){return this.Eu && this.Eu.VK;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ti:{get:function(){return this.Eu && this.Eu.Ti;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$s:{get:function(){return ! !this.Ba.length && this.Ba[0].$s;},enumerable:!1,configurable:!0}});k.prototype.push=function(l){this.TJa && l.nb(this.Na);this.Ba.push(l);this.zn && l.AM();};k.prototype.nb=function(l){f.prototype.nb.call(this,l);this.Ba.forEach(function(d){return d.nb(l);});this.TJa=!0;};k.prototype.AM=function(){this.EKa=!0;(this.zn=this.Ba.every(function(l){return l.AM();})) && this.hT(this);this.EKa=!1;return this.zn;};k.prototype.Lc=function(){7 !== this.readyState && 5 !== this.readyState && (this.H.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Ba.forEach(function(l){return l.Lc();});};k.prototype.o8=function(l){this.dh=this.Eu=void 0;return this.Ba.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.o8(l):!0;});};k.prototype.abort=function(){var l,d,g;l=this.active;d=this.aborted;this.dh=7;this.UI=!0;this.Bl=this.Je=!1;g=this.Ba.map(function(h){return h.abort();}).every(function(h){return h;});d || this.$K(this,l,this.qma);return g;};k.prototype.getResponseHeader=function(l){var d;d=null;this.Ba.some(function(g){return ! !(d=g.getResponseHeader(l));});return d;};k.prototype.getAllResponseHeaders=function(){var l;l=null;this.Ba.some(function(d){return ! !(l=d.getAllResponseHeaders());});return l;};k.prototype.B6=function(){};k.prototype.hz=function(l){this.Je || (this.Je=!0);this.yJa || (this.yJa=!0,this.nr=0,this.yJ=this.Dt=l.af,this.aL(this));};k.prototype.yM=function(l){this.Bl || (this.Bl=!0);this.xJa || (this.xJa=!0,this.yJ=l.af,this.zF(this));};k.prototype.zM=function(l){this.yJ=l.af;this.bL(this);this.nr=this.bytesReceived;this.Dt=l.af;};k.prototype.wk=function(l){this.yJ=l.af;this.complete?(this.ai=!0,this.dh=5,this.Bl=this.Je=!1,this.xQ=!0,this.qv(this)):this.bL(this);this.nr=this.bytesReceived;this.Dt=l.af;};k.prototype.rV=function(l){this.yJ=l.af;this.Eu=l;this.dh=6;this.U2(this);};k.prototype.qV=function(){};k.prototype.Kh=function(){return this.Ba[0].Kh() + "-" + this.Ba[this.Ba.length - 1].Kh();};k.prototype.toString=function(){return "Compound[" + this.Ba.map(function(l){return l.toString();}).join(",") + "]";};k.prototype.toJSON=function(){return {requests:this.Ba};};return k;})(a(242).WH);b.C9=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Via=void 0;b.Via=function(a,c){for(var f,k,l=a.length - 1;0 <= l;--l){if((k=a[l],k.dt)){if(k.bitrate <= c)return l;f=l;}}return f;};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.wZ=void 0;c=a(22);f=a(20);r=(function(){function k(l){this.fe=l;}k.p1=function(l,d,g,h){var m;m=c.S.ab;d && (g=null === g || void 0 === g?void 0:g.c5b,l.eYb && void 0 !== g && 0 <= g?(l=new c.S(g,48E3),m=d.add(l),f.ia && h.trace("Adjusting profile timestamp offset of " + d + (" by DPI assumed delay of " + l) + (" for ASE applied offset of " + m + "."))):l.gB && (m=d));return m;};k.prototype.append=function(l){var d;d=l.Ee;return {jd:l.jd,offset:l.offset.add(this.fe),Ee:d};};return k;})();b.wZ=r;},function(r,b,a){var f;function c(k,l){this.kjb=k.lz && k.lz.enabled;this.GE=void 0;this.aib=l;this.Tda=[];this.pea=[];this.$_=[];this.Kf=[];}f=a(40).PL;c.prototype.reset=function(k){this.GE=void 0;this.Tda=[];this.pea=[];this.$_=[];k && (this.Kf=[]);};c.prototype.add=function(k,l){var d,g,h;d=l.filter(function(m,n){return f(m) || n === k.he;});g=d.map(function(m){return m.bitrate;});l=l[k.he];d=d.indexOf(l);if(this.GE && (this.GE.length !== g.length || this.GE.some(function(m,n){return m !== g[n];}))){h=this.uTa();h && (this.Kf.push(h),this.reset(!1));}void 0 === this.GE && (this.GE=g);this.Tda.push([d,k.Qta,k.tc,k.Ofa,k.PNa,k.nOb,k.oLb,k.cf,k.Yo,k.Cj,k.QVb - k.Qta,k.VNb]);void 0 !== k.st && this.$_.push([k.Qta,k.st.CN,k.st.oK,k.st.WM]);this.kjb && void 0 !== l.Y && (d=l.Y.Gm(k.Cj),-1 != d && (d=l.Y.get(d),h=d.duration,l=d.wb || l.wb,void 0 !== l && this.pea.push({X:d.X,duration:h,wb:l})));};c.prototype.DRa=function(k){for(var l=[],d=[],g=0;g < k.length;g++){for(var h=k[g],m=[],n=0;n < h.length;n++){m.push(h[n] - (d[n] || 0));}l.push(m);d=h;}return l;};c.prototype.uTa=function(){var k,l;k=this.DRa(this.Tda);if(0 !== k.length){l=0 < this.$_.length?this.DRa(this.$_):[];return {dltype:this.aib,bitrates:this.GE,seltrace:k,vmaftrace:this.pea,paceratetrace:l};}};c.prototype.get=function(){var k,l;k=this.uTa();l=this.Kf;k && l.push(k);if(0 !== l.length)return l;};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Zwa=void 0;c=a(862);r=(function(){var q00;function f(k){var r00;r00=2;for(;r00 !== 5;){switch(r00){case 3:this.H=k;"";r00=9;break;r00=5;break;case 2:var I7Q="1SI";I7Q+="Y";I7Q+="bZ";I7Q+="rNJC";I7Q+="p9";this.H=k;I7Q;r00=5;break;}}}q00=2;for(;q00 !== 3;){switch(q00){case 5:f.prototype.FKa=function(k,l){var u00,d,g,h;u00=2;for(;u00 !== 4;){switch(u00){case 2:for(g in l){if(l.hasOwnProperty(g)){var L7Q="Inv";L7Q+="ali";L7Q+="d key";h=l[g];k.set?0 === k.set((d={},d[g]=h,d)) && this.H.trace(L7Q + g):k[g]=h;}}return k;break;}}};return f;break;case 2:f.prototype.Lfb=function(k,l){var s00,d;s00=2;for(;s00 !== 14;){switch(s00){case 3:k=k.cdnResponseData;s00=9;break;case 5:s00=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 2:l=c.mPa(l,k);d=k.steeringAdditionalInfo;s00=5;break;case 9:s00=!k?8:7;break;case 7:var l3Q="using sab";l3Q+=" cell >= 100,";l3Q+=" ";l3Q+="pipelineEnabled: ";var y3Q="usin";y3Q+="g sab cell >=";y3Q+=" 200, pipelineEn";y3Q+="abled: ";var e3Q=", all";e3Q+="owSw";e3Q+="itchback";var S7Q=", probe";S7Q+="DetailDenom";S7Q+="inator: ";var i7Q="using sab cell >= 300, p";i7Q+="robeServ";i7Q+="erWhenErro";i7Q+="r: ";var b7Q=",";b7Q+=" allowSwit";b7Q+="chbac";b7Q+="k";var j7Q=", probeDet";j7Q+="a";j7Q+="il";j7Q+="Denominator: ";var g7Q="usi";g7Q+="ng sab cell >= 400, probeServ";g7Q+="erWhenErro";g7Q+="r: ";(k=k.sessionABTestCell) && (k=k.split(".")) && 1 < k.length && (k=parseInt(k[1].replace(/cell/i,""),10),400 <= k?(l.set?(l.set({probeServerWhenError:!0}),l.set({probeDetailDenominator:1}),l.set({allowSwitchback:!0})):(l.Ft=!0,l.MG=1,l.Bx=!0),this.H.trace(g7Q + l.Ft + j7Q + l.MG + b7Q + l.Bx)):300 <= k?(l.set?(l.set({probeServerWhenError:!0}),l.set({probeDetailDenominator:1}),l.set({allowSwitchback:!1})):(l.Ft=!0,l.MG=1,l.Bx=!1),this.H.trace(i7Q + l.Ft + S7Q + l.MG + e3Q + l.Bx)):200 <= k?(l.set?l.set({pipelineEnabled:!1}):l.Np=!1,this.H.trace(y3Q + l.Np)):100 <= k && (l.set?(l.set({pipelineEnabled:!0}),l.set({maxParallelConnections:1}),l.set({maxActiveRequestsPerSession:l.q5}),l.set({maxPendingBufferLen:l.w5})):(l.Np=!0,l.YL=1,l.Ev=l.q5,l.qC=l.w5),this.H.trace(l3Q + l.Np)));return l;break;case 4:var G3Q="applying ";G3Q+="manifest based streami";G3Q+="ngClient";G3Q+="Config";return (k=d.streamingClientConfig,this.H.trace(G3Q + JSON.stringify(k)),this.FKa(l,k));break;case 8:return l;break;}}};f.prototype.Nfb=function(k,l){var t00;t00=2;for(;t00 !== 9;){switch(t00){case 5:this.Jhb=k;for(var d in l.Uga){new RegExp(d).test(k) && (l=this.FKa(l,l.Uga[d]));}return l;break;case 2:t00=!l.Uga || k === this.Jhb?1:5;break;case 1:return l;break;}}};q00=5;break;}}})();b.Zwa=r;},function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.KAa=b.VFa=void 0;a=(function(){function f(){var k;k=this;this.YQ=[];this.KQb=function(l){l=k.YQ.indexOf(l);0 <= l && k.YQ.splice(l,1);};}Object.defineProperties(f.prototype,{fB:{get:function(){return 0 !== this.YQ.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{B_a:{get:function(){return this.YQ.length;},enumerable:!1,configurable:!0}});f.prototype.add=function(){var k;k=new c(this.KQb);this.YQ.push(k);return k;};f.prototype.P7a=function(k){var l;l=this.add();try{return Promise.resolve(k()).then(function(d){l.release();return d;},function(d){l.release();return Promise.reject(d);});}catch(d){return (l.release(),Promise.reject(d));}};return f;})();b.VFa=a;c=(function(){function f(k){this.Gjb=k;}f.prototype.release=function(){this.Gjb(this);};return f;})();r=(function(){function f(k,l){this.$Lb=k;this.console=l;this.counter=new a();}f.prototype.wx=function(){var k,l;k=this;this.console.trace("Acquiring lease, total count",this.counter.B_a + 1);l=this.counter.add();return {release:function(){l.release();k.console.trace("Releasing lease, total count",k.counter.B_a);k.$Lb(function(){return !k.counter.fB;});}};};return f;})();b.KAa=r;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.MAa=b.PP=void 0;c=a(2);f=a(16);k=c.__importStar(a(10));l=c.__importDefault(a(84));d=a(412);g=a(15);h=a(250);m=a(22);r=a(43);n=c.__importDefault(a(5));q=a(420);(function(t){t[t.KSa=0]="forwards";t[t.ufa=1]="backwards";t[t.pM=2]="none";})(p=b.PP || (b.PP={}));a=(function(t){function u(w,v,x,y,z,A,B,D,E,F,C,G,J,K,H,L){var P,I,O;I=t.call(this,void 0,v,y,E.N,w,E,void 0,F,J,m.S.mb(C),B.ze.bind(B),G,L,void 0,new f.EventEmitter(),void 0) || this;I.gb=w;I.Ch=x;I.$b=z;I.A_=A;I.T=B;I.LJ=D;I.Vf=G;I.oT=K;I.qg=H;I.Nk=L;I.active=!1;I.LJa=[];I.Ida=0;null === (P=I.N) || void 0 === P?void 0:P.Wqa(I);I.children=Object.create(null);I.kw=[];I.Xd=void 0;void 0 === J && (J=m.S.mb(E.X));O=[I.I.eNa,I.I.Zsa];F.forEach(function(N){var M;M=N.mediaType;N=new q.ZY(w,I.Ch,I.H,I,N,J.V,O[M],v,I.A_,I.qg,I.I_[M],null === G || void 0 === G?void 0:G.Sa(M));I.bh.K3a(M,N);});I.uE=I.bh.MV;return I;}c.__extends(u,t);Object.defineProperties(u.prototype,{K:{get:function(){return this.N.K;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Zm:{get:function(){var w,v,x,y;return [null !== (v=null === (w=this.Sa(0)) || void 0 === w?void 0:w.Zm) && void 0 !== v?v:0,null !== (y=null === (x=this.Sa(1)) || void 0 === x?void 0:x.Zm) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jp:{get:function(){var w,v,x,y;return [null !== (v=null === (w=this.Sa(0)) || void 0 === w?void 0:w.jp) && void 0 !== v?v:{V:0,da:0},null !== (y=null === (x=this.Sa(1)) || void 0 === x?void 0:x.jp) && void 0 !== y?y:{V:0,da:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{E7:{get:function(){return this.P.X;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Wpa:{get:function(){return this.E7 + this.Oe;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{vc:{get:function(){return this.P.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Pd:{get:function(){return this.vc + this.Oe;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Zb:{get:function(){return this.N.Zb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{weight:{get:function(){return this.P.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{P:{get:function(){return this.Pu;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Re:{get:function(){return this.bh;},enumerable:!1,configurable:!0}});u.prototype.Cf=function(){var w;this.Jn || (this.active=!1,this.Vf && (delete this.Vf.children[this.P.id],this.Vf=void 0),k.We(this.children,function(v){v && v.Vf && (v.Vf=void 0);}),this.children=Object.create(null),this.fJ=void 0,t.prototype.Cf.call(this),null === (w=this.N) || void 0 === w?void 0:w.Xta(this),this.bh.clear());};u.prototype.wra=function(w,v){void 0 === v && (v=p.ufa);this.Re.forEach(function(x){(k.fa(w) || x.mediaType === w) && x.reset();});switch(v){case p.ufa:this.Vf && this.Vf.wra(w,v);break;case p.KSa:this.children && k.We(this.children,function(x){x && x.wra(w,v);});}};u.prototype.B4=function(w){var v,x,y;if(!this.active)return !1;v=this.Vf;if(v){x=v.Sa(w);y=x.Na.D0a;if(0 !== y && (v.bK(w),y=x.Na.D0a,0 !== y))return !1;}return !0;};u.prototype.Ed=function(w){return this.Re.Sa(w);};u.prototype.EDb=function(){return this.Re.every(function(w){return 0 === w.Az;});};u.prototype.toJSON=function(){return c.__assign(c.__assign({},t.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.Xc,playerEndPts:this.Pd,pipelines:this.Re,previousBranch:this.Vf});};u.prototype.f4a=function(w,v){this.N.Xta(this);this.N=this.P.N=w;this.ssa(this.N);this.N.Wqa(this);this.Re.forEach(function(x){var y;y=v[x.mediaType];y && x.IW(y);});};u.prototype.OBb=function(w){return this.Nk[w];};u.prototype.Sa=function(w){return this.Re.Sa(w);};u.prototype.aCb=function(w){return this.Sa(w).Az;};u.prototype.qsa=function(w,v,x){var y,z,A,B;y=this;z=this.P;w=this.q1(z.X,this.N,w,this.K === (w?w.K:this.$b.Ec.K));A=w.OM;B=w.oy;void 0 === v && (v=[0,1]);0 === B.length || v.forEach(function(D){var E,F;E=y.Sa(D);x && (E.Wd=B[D]);F=y.aT(z.Ea);E.Q7(F[D]);});return A;};u.prototype.g2a=function(w,v){var x,y,z;x=this.gb;y=this.Sa(0);void 0 === v && (v=y.WEb);this.Vf && (z=this.Vf.Ed(0));x=new q.ZY(x,this.Ch,this.H,this,w,v,y.qN,this.I,this.A_,this.qg,this.I_[0],z);this.bh.replace(y,x);this.uE=this.bh.MV;this.qsa(this.Vf,[0],!0);x.jH(v,! !this.Vf);y.Cf();k.We(this.children,function(A){A && A.g2a(w);});};u.prototype.Ks=function(w,v){if(v=this.Sa(v))return v.Na.Ks(w);};u.prototype.bK=function(w){void 0 === w?this.Re.forEach(function(v){v.bK();}):this.Sa(w).bK();};u.prototype.PV=function(w,v,x){(w=this.Sa(w)) && w.Na.PV(v,x);};u.prototype.D3=function(w,v){(v=this.Sa(v)) && v.Na.D3(w);};u.prototype.CIb=function(w){this.LJa[w]=!0;};u.prototype.gpb=function(){var w;w=this;return [0,1].every(function(v){return !w.Zb(v) || w.LJa[v];});};u.prototype.epb=function(w,v,x,y){var z,A,B,D,E,F,C,G,J;z=this.I;A=this.gb;B=this.T.getState();D=B === g.ka.Yc || B === g.ka.zf;if(!D && void 0 === x)return {Ve:!0};if(B === g.ka.zf && n.default.time.ba() < this.Ida + z.qoa)return {Ve:!1};E=this.Sa(0);F=this.Sa(1);C=this.$b.Zu(this,0);G=this.$b.Zu(this,1);J=h.Q6(B);C=!E || E.oOa(J,this.T.ze(),v,C,this.T.Bp(),y);G=!F || F.oOa(J,this.T.ze(),w,G,this.T.Bp(),y);void 0 !== x && C && (x=x.trackId,w=this.N.getTrackById(x),this.Sfb(x,w.WN),A.Fx=void 0);if(C && G)return (this.LJ(),this.QR=n.default.time.ba(),B === g.ka.zf && (this.Ida=n.default.time.ba()),{Ve:!0,rs:F?F.VE:E.VE});C=this.Jh(0);G=this.Jh(1);if(D){A=!F || G > z.Si;if((!E || C > z.Si) && A && (E=this.oT(),E >= z.mz))return (this.Gb("buffering longer than limit: " + E + " >= " + z.mz + ", audio buffer: " + C + " ms, video buffer: " + G + " ms"),this.LJ(),this.QR=n.default.time.ba(),B === g.ka.zf && (this.Ida=n.default.time.ba()),{Ve:!0,rs:"prebufferTimeLimit"});this.Ch.sib();}return {Ve:!1};};u.prototype.kga=function(w,v){var x,y,z,A,B,D;x=this.I;y=this.Sa(0);z=this.Sa(1);v?(v=this.Jh(0,w),w=this.Jh(1,w)):(v=this.$b.Zu(this,0,w),w=this.$b.Zu(this,1,w));A=x.Si;B=!this.Zb(0) || y.xh && 0 === y.Na.CC && 0 === y.Na.Ir;y=!this.Zb(1) || z.xh && 0 === z.Na.CC && 0 === z.Na.Ir;D=B && y;x=!B && v < x.Si;if(!D && (x || !y && w < A))return !1;if(z && z.Ve || !this.Zb(1))return !0;if(D)if(this.gb.c0 && 0 === v && 0 === w)this.Gb("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};u.prototype.N7=function(w,v){var x,y;x=this;y=this.I;this.Re.forEach(function(z){z.seeking=void 0;});w && y.Hh && this.Re.forEach(function(z){var A;if(z){A=x.$b.ZE(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.jp.da + ", completedMs: " + z.nK + ", completedBytes: " + A + ", partials: " + z.Na.CC + ", streamingPts: " + z.tc + ", completeStreamingPts: " + z.ys + ", fragments: " + JSON.stringify(z.Na.Y) + ", toAppend: " + v(z.mediaType);x.Ch.Ul(z);}});};u.prototype.TC=function(w,v,x){var y,z,A;y=this;z=n.default.time.ba();A={};k.We(this.children,function(B){var D,E,F,C;if(B){if(B.Xd){B.Xd.Evb=z - B.Xd.p4;B.Xd.p4=void 0;D=B.Xd.weight;}else D=y.$b.TUa(y.P.id,B.P.id);E=B.BF();F=y.Sa(0) && 0 === E.ks;C=y.Sa(1) && 0 === E.vo;A[B.P.id]={weight:D,Mq:E,QT:!F && !C};}});x={Wp:z,Ee:w,Jha:x,Y7:this.P.id,Xd:A};w || (w=v.ze(),x.GN=w - (this.P.X + this.Oe),x.GN=Math.max(0,x.GN),x.d2=0,x.startTime=z);this.kw.unshift(x);return x;};u.prototype.gqb=function(w){var v,x;v=this.kw[0];v.Ee && (v.GN=this.vc - this.P.X,v.GN=Math.max(0,v.GN));v.m6a={};x=w.BF();l.default(x,v.m6a);v.QT=w.jp.every(function(y){return 0 < y.V;});this.kw=[];return v;};u.prototype.en=function(w){var v;v=this.P;w-=this.Oe;if(v.X < w && w < v.Ea)this.kw.shift();else if(v=this.kw[0])v.en=!0;};u.prototype.q1=function(w,v,x,y){var z,A,B,D;z=this;void 0 === v && (v=this.N);A=!1;if(x){A=!0;B=x.Sa(1).pf;x=x.Sa(0).pf;if(!B || !x)return {OM:[],oy:[]};B=B.Ea;y || (B=void 0);}D=this.nSa(w,B,A,v);v.Fb === this.$b.Gtb && [1,0].forEach(function(E){var F;F=z.Sa(E);F && (F.Wd=D[E]);});return {OM:D.map(function(E){return E.X;}),oy:D};};u.prototype.nSa=function(w,v,x,y){var z;z=this;void 0 === y && (y=this.N);return this.CLa(y)?[1,0].map(function(A){var B;if(!z.Zb(A))return {};B=y.Pg[A];A=z.Sa(A).Fm(B.stream,w,v,x);w=A.X;return A;}).reverse():[];};u.prototype.aT=function(w,v){var x;x=this;void 0 === v && (v=this.N);return this.CLa(v)?[1,0].map(function(y){var z;if(!x.Zb(y))return {};z=v.Pg[y].stream;y=x.Sa(y).ny(z,w);w=x.I.Wf?new m.S(y.kb,z.pa.U).V:y.Ea;return y;}).reverse():[];};u.prototype.xXb=function(w,v){var x;x=this.P.Ea;x && x < v && (w=this.aT(x));v=this.Ed(1);x=this.Ed(0);v && v.Q7(w[1]);x && x.Q7(w[0]);};u.prototype.CLa=function(w){var v;v=w.Pg;if(!v)return !1;w=v[1];w=!this.Zb(1) || w && w.stream.Be;v=v[0];v=!this.Zb(0) || v && v.stream.Be;return w && v?!0:!1;};u.prototype.Sfb=function(w,v){this.Ch.qib(w,v);};return u;})(d.xaa);b.MAa=a;r.uf(f.EventEmitter,a);},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v,x;function c(y,z){return (1 === y.mediaType?0:1) - (1 === z.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.xaa=b.Vaa=void 0;f=a(2);k=a(413);l=a(96);d=a(178);g=a(894);h=a(15);m=a(418);n=a(896);q=a(9);p=a(30);t=a(6);u=a(22);w=f.__importDefault(a(5));r=a(112);v=a(43);x=a(897);b.Vaa={QYb:c};a=(function(y){function z(A,B,D,E,F,C,G,J,K,H,L,P,I,O,N,M){var Q,S;S=y.call(this) || this;S.ZUb=A;S.I=B;S.N=E;S.Lpa=F;S.Pu=C;S.bka=G;S.FA=H;S.Uca=L;S.parent=P;S.Nk=I;S.hQ=O;S.events=N;S.kx=M;S.bh=new x.wEa([]);S.Xr=!1;S.XJa=0;S.SIa=S.fpa.bind(S);S.H=q.er(w.default,D,C.id && C.id.length?"{" + C.id + "}":"");S.bk=S.H.error.bind(S.H);S.Gb=S.H.warn.bind(S.H);S.um=S.H.trace.bind(S.H);S.bC=null !== K && void 0 !== K?K:u.S.mb(S.P.X);S.GKa=null === P || void 0 === P?void 0:P.qf;null === (Q=S.hQ) || void 0 === Q?void 0:Q.addListener(S.SIa);E && J && (S.rWa(E,J),S.parent=void 0);return S;}f.__extends(z,y);Object.defineProperties(z.prototype,{Jn:{get:function(){return this.Xr;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{P:{get:function(){return this.Pu;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{jC:{get:function(){return this.bh.every(function(A){return A.jC;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{$o:{get:function(){return this.bh.every(function(A){return A.$o;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ax:{get:function(){return this.xy().reduce(function(A,B){return A + B.Ax;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{tk:{get:function(){return this.xy().every(function(A){return A.tk();});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Rh:{get:function(){return this.xy().map(function(A){return A.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{U:{get:function(){return this.uE.U;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ya:{get:function(){return this.uE.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{kb:{get:function(){return this.uE.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Oj:{get:function(){return this.zj.Xf(this.U).Xb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Iy:{get:function(){return this.bC.add(this.zj);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{IM:{get:function(){return this.P.Ug.add(this.zj);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{GV:{get:function(){return this.P.Ml.add(this.zj);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Wma:{get:function(){return this.bh.reduce(function(A,B){return A && B.qf?u.S.max(A,B.qf):B.qf?B.qf:A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{vWa:{get:function(){return this.Iy.V;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Oe:{get:function(){return this.zj.V;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Zt:{get:function(){return this.uE.Zt;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{zj:{get:function(){return this.FA;},enumerable:!1,configurable:!0}});z.prototype.nb=function(){var A;A=this.rWa(this.N);this.oWa(A);};z.prototype.update=function(A){var B,D,E;E=A.Ml.m6(this.Pu.Ml);this.Pu=A;E && this.rE && (E=f.__read(this.rE.TQb(A,A.Ml),2),A=E[0],E=E[1],t.assert(A && E,"branch.update: lastFragment should be defined"),null === (B=this.Sa(0)) || void 0 === B?void 0:B.truncate(A),null === (D=this.Sa(1)) || void 0 === D?void 0:D.truncate(E),this.CKa(!0,!0),this.events.emit("branchEdited",{type:"branchEdited"}));};z.prototype.Uz=function(A){this.zj.equal(A) || (this.FA=A);};z.prototype.KF=function(A){return f.__awaiter(this,void 0,void 0,function(){var B;return f.__generator(this,function(D){switch(D.label){case 0:return [4,Promise.resolve()];case 1:return (D.Yd(),(B=this.Sa(A))?[2,B.KF()]:[2,d.AsyncIterator.pAb()]);}});});};z.prototype.SS=function(){this.xy().forEach(function(A){return A.SS();});};z.prototype.mR=function(){this.bh.forEach(function(A){return A.mR();});};z.prototype.reset=function(){this.bh.forEach(function(A){A.reset();});};z.prototype.Cf=function(){var A,B;this.Xr || (this.Xr=!0,null === (A=this.rE) || void 0 === A?void 0:A.Lc(),this.rE=void 0,this.bh.forEach(function(D){D.Cf();}),null === (B=this.hQ) || void 0 === B?void 0:B.removeListener(this.SIa),this.events.removeAllListeners());};z.prototype.B4=function(){return !0;};z.prototype.Sa=function(A){return this.bh.Sa(A);};z.prototype.xy=function(A){void 0 === A && (A=c);return this.bh.Re.slice().sort(A);};z.prototype.jka=function(){return this.bh.Re;};z.prototype.CT=function(A){return this.Sa(A);};z.prototype.Jh=function(A,B){A=this.Sa(A);if(!A)return 0;if(B)return A.Zm;B=A.ys;if(void 0 === B)return 0;A=this.Uca();return B - A;};z.prototype.BF=function(){var A,B,D,E,F,C,G;G=null === (A=this.Sa(0)) || void 0 === A?void 0:A.jp;A=null === (B=this.Sa(1)) || void 0 === B?void 0:B.jp;return {vo:null !== (D=null === A || void 0 === A?void 0:A.V) && void 0 !== D?D:0,ks:null !== (E=null === G || void 0 === G?void 0:G.V) && void 0 !== E?E:0,Wz:null !== (F=null === A || void 0 === A?void 0:A.da) && void 0 !== F?F:0,oR:null !== (C=null === G || void 0 === G?void 0:G.da) && void 0 !== C?C:0};};z.prototype.G3=function(A){var B;return (A=this.Sa(A))?null !== (B=A.ys) && void 0 !== B?B:0:0;};z.prototype.dw=function(A,B,D){var E;B=null !== (E=null !== B && void 0 !== B?B:this.Nc) && void 0 !== E?E:this.bC;this.FPa(A,B,D);this.oWa();this.mR();};z.prototype.uo=function(A){A=this.Sa(A);t.assert(A);return A.uo();};z.prototype.fpa=function(A){h.$q(A.newValue) && this.pE();};z.prototype.eS=function(A){return this.bh.every(function(B){return B.eS(A);});};z.prototype.Oja=function(A){var B,D;return null !== (D=null === (B=this.bh.Sa(A)) || void 0 === B?void 0:B.Htb) && void 0 !== D?D:u.S.ab;};z.prototype.Pta=function(A){var B,D,E;B=this.uE.OGb;if(!B)return !1;D=p.vg(A,function(F){return B.V <= F.Nc.V;});if(!D)return !1;A=!1;E=f.__read(m.hra(this.I,this.bh,D.Nc),2);D=E[0];if(E=E[1])(this.Sa(1).truncate(E),A=!0);D && (this.Sa(0).truncate(D),A=!0);A && (D={type:"branchEdited"},this.events.emit(D.type,D));return A;};z.prototype.wk=function(A){this.Xr || (A.Nea || t.assert(!A.Pc),this.pE(),this.$o && this.$ib());this.qv(A);};z.prototype.zM=function(A){this.I.xRa && this.pE(!0);this.bL(A);};z.prototype.yM=function(A){this.I.xRa && this.pE(!0);this.zF(A);};z.prototype.CKa=function(A,B){var D;null === (D=this.rE) || void 0 === D?void 0:D.Lc();A && (A={type:"branchNormalized",segmentContentStart:this.P.Ug,branchContentStart:this.Nc,branchContentEnd:this.Ld,didNormalizeSegment:B},this.events.emit(A.type,A),this.GKa && (this.FA=this.GKa.Aa(this.Nc)));};z.prototype.PTb=function(A){var B;return h.$q((null === (B=this.hQ) || void 0 === B?void 0:B.value) || h.zc.ak) && (!A || this.XJa + this.I.loa < w.default.time.ba());};z.prototype.pE=function(A){void 0 === A && (A=!1);this.PTb(A) && (this.XJa=w.default.time.ba(),A={type:"checkBufferingProgress"},this.events.emit(A.type,A));};z.prototype.$ib=function(){var A;A={type:"branchStreamingComplete"};this.events.emit(A.type,A);};z.prototype.atb=function(A,B,D){var E;E=A.mediaType;return new k.Uaa(this,this.I,this.H,this.Lpa,this.ZUb,A,B,[this.I.eNa,this.I.Zsa][E],this.I_[E],!0,D,this.kx);};z.prototype.FPa=function(A,B,D,E){var F,C,G,J,K;F=this;void 0 === B && (B=this.bC);J=0;K=this.events;A.forEach(function(H,L){var P,I;P=H.mediaType;I=F.Sa(P);L=null === E || void 0 === E?void 0:E[L];(null === I || void 0 === I?void 0:I.track) !== H && (null === I || void 0 === I?void 0:I.Cf(),H=F.atb(H,B,L),F.bh.K3a(P,H),++J,H.events.once("requestQueueCreated",function(){0 === --J && K.emit("requestQueuesCreated");}),H.events.on("lastRequestIssued",function(){return F.jC && K.emit("lastRequestIssued",{type:"lastRequestIssued"});}));});this.bh=this.bh.filter(function(H){var L;L=A.some(function(P){return P.mediaType === H.mediaType;});return null !== L && void 0 !== L?L:H.Cf();});null === (C=this.rE) || void 0 === C?void 0:C.Lc();this.rE=new n.xEa({console:this.H,config:this.I,N:this.N,P:this.P,Re:this.bh,Nc:B,Ld:null !== (G=this.P.Ml) && void 0 !== G?G:void 0 !== this.P.Ea?u.S.mb(this.P.Ea):void 0,splice:D});this.uE=this.bh.MV;};z.prototype.rWa=function(A,B){var D,E;D=this;this.ssa(A);t.assert(A.aa === this.P.aa || isNaN(A.aa) && isNaN(this.P.aa));this.I_=[];A=null !== B && void 0 !== B?B:null === (E=this.bka) || void 0 === E?void 0:E.call(this,A);t.assert(A,"tracks need to exist upon initialization");A.forEach(function(F){var C;F=F.mediaType;C=new g.ZCa(F,D.I,D.H);D.I_[F]=C;});return A;};z.prototype.oWa=function(A){var B,D,E;B=this;if(A){E=this.parent && A.map(function(F){var C;return null === (C=B.parent) || void 0 === C?void 0:C.Sa(F.mediaType);});t.assert(!E || E.every(function(F){return F;}),"parent must have a pipeline for every media type");E=E && E.map(function(F){return F.Ff;});this.FPa(A,this.bC,! !this.parent,E);this.parent=void 0;}null === (D=this.rE) || void 0 === D?void 0:D.nb(this.CKa.bind(this));};z.prototype.toJSON=function(){var A,B;return {segment:this.P.id,branchOffset:this.Oe,viewableId:this.Pu.aa,contentStartPts:null === (A=this.Nc) || void 0 === A?void 0:A.V,contentEndPts:null === (B=this.Ld) || void 0 === B?void 0:B.V};};return z;})(l.tw);b.xaa=a;v.uf(r.gA,a);v.uf(r.eA,a);},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Uaa=void 0;c=a(2);f=a(16);k=a(867);l=a(96);d=a(868);g=a(875);h=a(414);m=a(415);n=a(9);q=a(6);p=a(22);t=c.__importDefault(a(5));r=a(112);u=a(43);w=a(893);v=a(150);a=(function(x){function y(z,A,B,D,E,F,C,G,J,K,H,L){var P;P=x.call(this,z) || this;P.I=A;P.Jd=E;P.wj=F;P.RJa=C;P.chb=J;P.kx=L;P.events=new f.EventEmitter();P.connected=!1;P.ila=!1;P.Xr=!1;P.H=n.er(t.default,B,"[" + P.mediaType + "]");P.bk=P.H.error.bind(P.H);P.Gb=P.H.warn.bind(P.H);P.um=P.H.trace.bind(P.H);P.dR=C.V;P.Ff=new h.dHa(H);P.Ff.IW(F);P.mLa=new m.eHa(G,A,P.Ff,0 === P.mediaType && A.mRa || 1 === P.mediaType && A.nRa);P.rm=new k.yEa(P,D,P.I,P.H,P.mediaType);P.Cn=new d.fGa(P,A,P.H,P.rm,P.Jd,P.mediaType,P.kx,function(){return P.Oj;});A.Wf && (P.Wf=new g.VGa(A.Wf,P.H));K && (P.ig=w.yB(P.mediaType,P.track.N,P.I,P.H,P.rm.yyb.bind(P.rm),function(){}),P.ig.on("created",function(){return P.events.emit("requestQueueCreated");}));return P;}c.__extends(y,x);Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.wj.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{track:{get:function(){return this.wj;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xb:{get:function(){return this.Jd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{va:{get:function(){return this.Jd.P.id;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Na:{get:function(){return this.Cn;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Qd:{get:function(){return this.wj.Qd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{jp:{get:function(){return this.Cn.jp;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Zm:{get:function(){return this.Cn.Zm;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{tc:{get:function(){return this.dR;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{BUb:{get:function(){var z;return null !== (z=this.Wi) && void 0 !== z?z:this.Iy;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{D1:{get:function(){var z;return null !== (z=this.Na.D1) && void 0 !== z?z:this.BUb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xea:{get:function(){return this.Na.D1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ys:{get:function(){return this.Na.ys;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Iga:{get:function(){return this.Na.Iga;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{OGb:{get:function(){var z;z=this.Na.PGb;return null === z || void 0 === z?void 0:z.Ld;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{jC:{get:function(){return ! !this.pf && (this.fo > this.pf.index || this.dR >= this.pf.vc);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{$o:{get:function(){return this.jC && 0 === this.Cn.CC;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ax:{get:function(){return this.Na.Ax;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Zt:{get:function(){return this.qf?p.S.max(this.qf.Aa(this.Uj),p.S.ab):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{YK:{get:function(){return this.xb.YK;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Htb:{get:function(){return this.Na.Y.IS;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Kz:{get:function(){return this.mLa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{et:{get:function(){return this.Ff.et;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{U:{get:function(){var z,A;return null !== (A=null === (z=this.Wd) || void 0 === z?void 0:z.U) && void 0 !== A?A:1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ya:{get:function(){var z;return null === (z=this.Wd) || void 0 === z?void 0:z.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{kb:{get:function(){var z;return null === (z=this.pf) || void 0 === z?void 0:z.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Oj:{get:function(){return this.xb.zj.Xf(this.U).Xb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{U3:{get:function(){return this.Na.U3;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{fw:{get:function(){return this.Na.fw;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Rsa:{get:function(){return this.Na.Rsa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Iy:{get:function(){return this.RJa.add(this.xb.zj);},enumerable:!1,configurable:!0}});y.prototype.mR=function(){var z;z=this;this.Cn.mR(void 0,function(A){var B;B=A[0];A=B.Mc;B=B.index;B < z.fo && z.wN(A,B);});};y.prototype.reset=function(){this.Na.reset();this.Wd && this.wN(this.Wd.Mc,this.Wd.index);this.ig && this.xb.N.lR(this.mediaType,this.ig);};y.prototype.Cf=function(){this.Xr=!0;this.Cn.Cf();this.Ff.zb();this.ig && (this.xb.N.lR(this.mediaType,this.ig),v.mq.instance.uS(this.ig),this.ig.removeAllListeners(),this.ig=void 0);};y.prototype.toJSON=function(){return {started:this.fw,startOfSequence:this.Rsa,segmentId:this.va,requestedBufferLevel:this.Zm,viewableId:this.Jd.N.aa,hasFragments:this.U3};};y.prototype.uo=function(){return this.Na.uo();};y.prototype.wN=function(z,A){this.dR=z;this.fo=A;};y.prototype.KF=function(){return this.Na.KF();};y.prototype.SS=function(){this.Na.close();};y.prototype.eS=function(z){return (z=this.Na.Ks(z.V))?z.complete:!1;};Object.defineProperties(y.prototype,{ph:{get:function(){return this.Jd.ph;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Uj:{get:function(){var z,A,B,D;return null !== (D=null !== (z=this.Na.Uj) && void 0 !== z?z:null === (B=null === (A=this.Wd) || void 0 === A?void 0:A.Nc) || void 0 === B?void 0:B.add(this.xb.zj)) && void 0 !== D?D:this.Iy;},enumerable:!1,configurable:!0}});y.prototype.$Wb=function(z,A){var B;q.assert(this.ig);q.assert(!this.Xr,"pipeline.tryIssueRequest on disabled pipeline");B=z.q3();return B?this.s6a(z,B,this.ig,A):(z=z.IH(this.ig))?{Hp:z,reason:"success"}:{Hp:z,reason:"pipelineTryIssueHeaderRequest"};};y.prototype.t4=function(z,A){z && (this.Wd=z);A && (this.pf=A);q.assert(this.Wd);q.assert(this.pf);q.assert(void 0 === this.fo);this.wN(this.Wd.Mc,this.Wd.index);};y.prototype.truncate=function(z){var A;A=this;q.assert(this.Wd,"expected first fragment to exist on updateStreaming");this.pf=z;this.jC && (z=c.__read(this.Cn.Skb(z),2),this.wN(z[0],z[1]),this.vv() && (this.Na.H3a(),this.Na.hga(),Promise.resolve(function(){A.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:A.mediaType});})));};y.prototype.ZF=function(){return this.vv()?!1:this.tk()?!0:this.track.woa;};y.prototype.tk=function(){return void 0 !== this.Wd && void 0 !== this.pf;};y.prototype.vv=function(){return this.Xr || this.jC;};Object.defineProperties(y.prototype,{LOb:{get:function(){var z;z=!0;this.I.r7 && (z=this.connected);this.I.q7 && (z=z && this.ila);return z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{DMb:{get:function(){return void 0 !== this.Wf;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{EMb:{get:function(){var z;return (null === (z=this.Wf) || void 0 === z?0:z.Qx())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});y.prototype.wk=function(z){this.rm.WKb(z);"oncomplete" === this.I.kWa && (this.ila=!0);this.qv(z);};y.prototype.hz=function(z){z.Pc || this.rm.r_a(z.stream,z.X,z.Mc);this.rm.SKb(this.va,z.stream,z.Pc);this.aL(z);};y.prototype.yM=function(z){z.Nea || (this.connected=!0);"onfirstbyte" === this.I.kWa && (this.ila=!0);this.zF(z);};y.prototype.BAb=function(z){var A,B;A=this.Na.Y;if(0 === A.length)return {Y:[],xpa:0,ml:0};B=A.XK(z.V);0 > B && (B=void 0 === A.X || z.V <= A.X?0:A.length);return {Y:A.nSb(B),xpa:Math.max(0,A.YOa - B),ml:A.ml};};y.prototype.s6a=function(z,A,B,D){var E,F,C,G,J,K;C=this.Jd;G=C.N;J=this.mediaType;K=this.fo;if(K >= A.length)return (this.Gb("makeRequest nextFragmentIndex:",K,"past fragments length:",A.length),{Hp:!1,reason:"insufficientFragments"});if(!this.Wd || !this.pf)return (this.Gb("makeRequest delayed, first or last fragment not set","first:",! !this.Wd,"last:",! !this.pf),{Hp:!1,reason:"noFirstOrLastFragment"});A=this.chb.AAb(z,K,this,G.Ky());this.Hma=A.region;null === (E=this.Wf) || void 0 === E?void 0:E.KEb(A,z);A.Ip && 1 === J && this.rm.zda(C.P,A.Ea);this.I.ZL && (A.ZL=this.I.ZL);void 0 !== z && (A.location=z.location,A.zd=z.dd,A.jsa=z.yr);if(E=C.N.U7)(J=0 === J && this.I.mRa || 1 === J && this.I.nRa,K=this.I.wwb && 1 === this.mediaType && this.I.Np,A.VG=J?D:void 0,A.V7=E.bv({fK:C.Jh(this.mediaType),j6:this.I.rwb?this.I.j6:void 0,X5a:String(t.default.time.ba()),gS:J?D:void 0,Cfa:K?{start:A.offset,size:A.da}:void 0}));t.default.time.ba();B=this.Na.mtb(A,B,z);if(!B.AM()){this.Gb("MediaRequest.open error: " + B.Lg + " native: " + B.Ti);if(7 === B.readyState)return {Hp:!1,reason:"requestAborted"};this.Gb("makeRequest caught:",B.Lg);G.rh("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Hp:!1,reason:"openAseMediaRequest"};}null === (F=this.Wf) || void 0 === F?void 0:F.Owb(B,A,z);this.rm.XKb(B);this.wN(B.vc,A.mM);this.vv() && (this.Na.H3a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {Hp:!0,reason:"success"};};return y;})(l.tw);b.Uaa=a;u.uf(r.eA,a);u.uf(r.gA,a);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dHa=void 0;r=(function(){function a(c){this.parent=c;this.he=null;}Object.defineProperties(a.prototype,{EXa:{get:function(){var c,f;return null !== (c=this.PDb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.EXa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pU:{get:function(){var c,f;return null !== (c=this.MKb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.pU;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{et:{get:function(){var c,f;return null !== (c=this.$i) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.et;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{IXa:{get:function(){return null === this.he?void 0:this.he;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{LXa:{get:function(){var c,f;return null !== (c=this.SUb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.LXa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qma:{get:function(){var c,f;return null !== (c=this.TUb) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.Qma;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.qSb;},enumerable:!1,configurable:!0}});a.prototype.zb=function(){this.parent=void 0;};a.prototype.P3a=function(c){this.PDb=c;};a.prototype.dTb=function(c){this.MKb=c;};a.prototype.Z3a=function(c){this.$i=c;};a.prototype.R7=function(c){this.he=c;};a.prototype.pTb=function(c){this.SUb=c;};a.prototype.a4a=function(c){this.TUb=c;};a.prototype.IW=function(c){this.qSb=c;};return a;})();b.dHa=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(876),b);},function(r,b,a){var c,f,k,l,d,g,h,m,n,q;Object.defineProperties(b,{__esModule:{value:!0}});b.cw=void 0;r=a(2);c=r.__importStar(a(10));f=a(30);k=a(98);l=r.__importDefault(a(27));d=r.__importDefault(a(40));g=r.__importDefault(a(882));h=a(15);m=d.default.assert;n=d.default.Ho;b.cw=q;(function(){function p(u,w,v){var w00;w00=2;for(;w00 !== 4;){switch(w00){case 2:u=new n();u.$i=v[0];return u;break;}}}function t(u,w,v,x,y){var x00,z;x00=2;for(;x00 !== 3;){switch(x00){case 4:return u[Math.max(w,v)];break;case 2:a000.f7Q(3);z=a000.Z7Q(x,y,v);v=f.cp(u,function(A){var y00;y00=2;for(;y00 !== 1;){switch(y00){case 2:return A.bitrate > z;break;}}});v=0 < v?v - 1:0 === v?0:u.length - 1;x00=4;break;case 14:return u[Math.max(w,v)];break;x00=3;break;}}}var v00;v00=2;for(;v00 !== 5;){switch(v00){case 2:var k3Q="1S";k3Q+="IYb";k3Q+="Z";k3Q+="rNJC";k3Q+="p9";b.cw=q=function(u,w,v,x,y,z,A){var j7H=a000;var z00,Q,ua,X,F,qa,xa,S,fa,E,C,G,J,K,H,L,P,I,O,N,M;z00=2;function B(sa,T,R){var A00;A00=2;for(;A00 !== 1;){switch(A00){case 2:return sa.Y?sa.Y.Yga(T,R):0;break;}}}for(;z00 !== 31;){switch(z00){case 19:z00=P === l.default.KY.jfb || !y.Oa?18:17;break;case 33:z00=(y=f.vg(v.slice(0,x).reverse(),function(sa,T){var D00;D00=2;for(;D00 !== 1;){switch(D00){case 2:return D(sa,v[Math.max(x - T - 2,0)],C,ua,X,!0,w.playbackRate);break;}}})) && y.mg < P.mg || !y?32:22;break;case 27:z00=D(y,v[Math.max(x - 1,0)],y,E,Q,!1,w.playbackRate)?26:35;break;case 20:j7H.f7Q(2);Q=B(y,j7H.Z7Q(L,E),u.rna);z00=19;break;case 34:(ua=B(y,L,u.sla),X=B(y,L + ua,u.sna));z00=33;break;case 18:return p.call(this,w,u,v,y);break;case 35:z00=y.Y && y.Y.length?34:22;break;case 14:return (y=t(v,x,y.Oa || 0,u.eSa,w.playbackRate),null !== (E=y.Y) && void 0 !== E && E.length || (y.e8=!0),F.$i=y,F);break;case 3:var a3Q="n";a3Q+="umb";a3Q+="e";a3Q+="r";var n3Q="n";n3Q+="u";n3Q+="m";n3Q+="be";n3Q+="r";m(n3Q === typeof w.buffer.$u);m(a3Q === typeof w.bia);F=new n();y=v[x];z00=6;break;case 25:A=u.Hsa && A >= u.Fua?v.length:x + 2;(qa=B(y,L,u.tla),xa=B(y,L + qa,u.tna));z00=23;break;case 32:y=P;z00=22;break;case 23:y=f.vg(v.slice(x + 1,A),function(sa,T){var C00;C00=2;for(;C00 !== 1;){switch(C00){case 2:return D(sa,v[x + T],C,qa,xa,!1,w.playbackRate);break;}}});z00=22;break;case 22:F.$i=y || C;return F;break;case 17:y.Y && y.Y.length || (y.e8=!0);(S=k.fm.MPa(w.buffer.Y),fa=w.buffer.$u - S.da);P=v[0];z00=27;break;case 6:z00=A?14:13;break;case 2:var h3Q="invalid ";h3Q+="player frag";h3Q+="mentIn";h3Q+="dex";var z3Q="Must have at least";z3Q+=" one selecte";z3Q+="d st";z3Q+="ream";m(!c.fa(x),z3Q);void 0 === w.Md && (w.Md=0);m(c.ya(w.Md),h3Q);z00=3;break;case 26:z00=x + 1 < v.length && A > u.Ty && (void 0 === this.e5 || this.Tma && this.Tma > this.e5 || K - this.e5 > u.l5 && A > u.vna)?25:22;break;case 13:(C=y,G=w.buffer.X,J=w.buffer.wc,K=w.buffer.tc,H=w.buffer.Il,L=w.Md);j7H.r7Q(1);A=j7H.H7Q(J,H);(P=this.Ff.EXa || l.default.KY.$g,I=w.state === h.ka.Hc || w.state === h.ka.$h?w.buffer.ml:0,O=u.y5,N=u.Uy?u.Uy:1E3);E=B(y,L,u.rla);z00=20;break;}}function D(sa,T,R,ca,ja,Pa,wa){var B00,Ua,Va,cb,Ya,kb,$a,Ra,ya,Ia,Ma,Ta,hb,wb,Eb,Hb;B00=2;for(;B00 !== 41;){switch(B00){case 33:B00=Ta?32:42;break;case 31:B00=0 < Ta?30:29;break;case 43:T=0 < ca || 0 < ja?g.default(R.concat(wb),kb + ca + ja,Pa,Va,wa,$a,cb,kb,kb + ca,Ia,Ra,hb / Ma,ya,u.TU,u.g8):hb > sa.bz?{result:!0,CU:0,ov:!0}:{result:!1,CU:0,ov:!0};B00=23;break;case 23:T && T.result && (F.M6b=T.CU);M={I2:T && T.result,Oa:Ua,bitrate:sa.bitrate};return T && T.result;break;case 25:B00=!hb || hb < sa.bitrate * Ma * u.qla || !Eb?24:35;break;case 8:B00=Ua >= Math.max(sa.bz * wa,sa.bitrate * wa * cb) && sa.ov?7:13;break;case 13:Pa=!u.Qga || sa === R || sa.dd === R.dd && z?0:(R=sa.lb) && R.Yi && R.Yi.Ca?R.Yi.Ca + u.Nga * (R.Yi.Ai?Math.sqrt(R.Yi.Ai):0):0;R=S;j7H.r7Q(0);Pa=j7H.Z7Q(J,Pa,G);B00=10;break;case 7:return !0;break;case 1:B00=M && !M.I2 && M.Oa >= Ua && M.bitrate <= sa.bitrate?5:4;break;case 2:(Ua=sa.Oa || 0,Va=sa.Y && sa.Y.length,cb=Pa?u.Mia:Va?u.H2:u.eSa);B00=1;break;case 14:return !0;break;case 6:B00=Ua >= sa.bitrate * wa * cb?14:13;break;case 44:(Eb=Math.min(Ta,T.Y.length - Ya),wb.push(T.Y.AN.subarray(Ya,Ya + Eb)),Ta-=Eb,Ya+=Eb,Ya >= T.Y.length && (Ya=0));B00=28;break;case 5:return !1;break;case 3:B00=!Pa || !Va?9:13;break;case 24:T=!1;B00=23;break;case 29:Ta=ja;B00=28;break;case 28:B00=0 < Ta?44:43;break;case 30:(Eb=Math.min(Ta,sa.Y.length - Ya),wb.push(sa.Y.AN.subarray(Ya,Ya + Eb)),Ta-=Eb,Ya+=Eb,Ya >= sa.Y.length && (Ya=0));B00=31;break;case 42:(ca=Math.max(0,Math.min(ca,sa.Y.length - Ya)),ja=Math.max(0,Math.min(ja,T.Y.length - Ya - ca)),0 < ca && wb.push(sa.Y.AN.subarray(Ya,Ya + ca)),0 < ja && wb.push(T.Y.AN.subarray(Ya + ca,Ya + ca + ja)));B00=43;break;case 32:Ta=ca;B00=31;break;case 10:var J3Q="Second stream unde";J3Q+="fi";J3Q+="ne";J3Q+="d";var s3Q="Fir";s3Q+="s";s3Q+="t stream undefine";s3Q+="d";wa=O;j7H.r7Q(1);Va=j7H.Z7Q(G,H);j7H.r7Q(1);cb=j7H.H7Q(G,K);(Ya=L,kb=S.length,$a=I,Ra=fa,ya=N,Ia=w.bia,Ma=w.playbackRate,Ta=! !w.lYa);m(sa,s3Q);m(T,J3Q);B00=15;break;case 4:Pa || Va || (sa.e8=!0);B00=3;break;case 9:B00=Va && !u.g8?8:6;break;case 15:(hb=sa.Oa,wb=Va - Pa,Eb=sa.Y && sa.Y.length,Hb=T.Y && T.Y.length);m(R.length === kb);u.wna && (ya=Math.min(ya,wb));B00=25;break;case 35:Hb || (T=sa);wb=[];B00=33;break;}}}};k3Q;v00=5;break;}}})();},function(r,b,a){var k,l,d,g,h,m;function c(n,q,p,t){g(!k.fa(t),"Must have at least one selected stream");return new m(t);}function f(n,q,p,t){g(!k.fa(t),"Must have at least one selected stream");return new m(t);}k=a(10);b=a(40);l=b.console;d=b.debug;g=b.assert;h=b.PL;m=b.Ho;r.exports={STARTING:function(n,q,p){var u,w,v,x;function t(y,z){var A,B,D,E;A=y.id;B=y.bitrate;D=y.Oa || 0;E=! !D;d && l.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!y.dt)return (d && !y.uv && l.log("  Not available"),d && y.VB && l.log("  Failed"),!1);if(B > n.EU)return (d && l.log("  Above maxInitAudioBitrate (" + n.EU + " Kbps)"),!1);if(!(B * n.Q5 / 8 < q.buffer.$u))return (d && l.log("  audio buffer too small to handle this stream"),!1);if(E){d && l.log("  Have throughput history = " + E + " : available throughput = " + D + " Kbps");if(B * q.playbackRate < D / w)return (d && l.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && l.log(" bitrate requires more than available throughput");return !1;}y=n.SU;q.jma && (y=Math.max(y,n.RU));if(B <= y)return (d && l.log("  Bitrate is less than max of minInitAudioBitrate (" + n.SU + " Kbps) " + (q.jma?" and also minHCInitAudioBitrate (" + n.RU + " Kbps)":"")),d && l.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && l.log("  No throughput history");return !1;}u=new m();w=n.q4b || 1;for(v=p.length - 1;0 <= v;--v){x=p[v];if(t(x,v)){u.he=v;break;}h(x) && (u.he=v);}return u;},BUFFERING:c,REBUFFERING:c,PLAYING:f,PAUSED:f};},function(r,b,a){var k,l,d;function c(g,h,m,n,q){var p,t;m=null !== (p=h.Wd) && void 0 !== p?p:h.track.Fm(g,m.V,void 0,q);g=null !== (t=h.pf) && void 0 !== t?t:h.track.ny(g,null === n || void 0 === n?void 0:n.V,h.Wf);return [!h.tk(),m,g];}function f(g,h){var B,D;for(var m=[],n=0,q=g[n],p=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1],u=h.pf.index,w=h.track.so,v=0,x=h.Wd.Nc,y=h.Wd.Ld.V > q[0],z=y,A=h.Wd.index;A <= u;++A){B=!1;if(q){D=w.get(A);y && (D.Nc.V >= t?(y=!1,++n >= g.length?t=p=q=void 0:(q=g[n],p=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1])):z?z=!1:(m.push(new l.FZ(v,x,D.Nc)),x=D.Nc,B=!0));!y && q && D.Ld.V > p && (y=!0,B=D.Nc,(D=h.track.CL.pk(A).sSa(p)) && 0 !== D.Bk && (B=d.S.mb(D.pd)),m.push(new l.FZ(v,x,B)),x=B,B=!0);}B && ++v;}m.push(new l.FZ(v,x,h.pf.Ld));return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.GIb=b.MYa=b.j_a=b.g_a=b.hra=void 0;k=a(2);l=a(419);d=a(9);b.hra=function(g,h,m){var n,q,p;p=h.Sa(0);h=h.Sa(1);h=null === h || void 0 === h?void 0:h.track.ny(g,null === m || void 0 === m?void 0:m.V,h.Wf);return [null === p || void 0 === p?void 0:p.track.ny(g,null !== (q=null === (n=null === h || void 0 === h?void 0:h.Ld) || void 0 === n?void 0:n.V) && void 0 !== q?q:null === m || void 0 === m?void 0:m.V,p.Wf),h];};b.g_a=function(g,h,m,n,q){var p,t,u,w;p=h.Sa(0);h=h.Sa(1);t=k.__read(h?c(g,h,m,n,q):[!1],3);u=t[0];w=t[1];t=t[2];n=k.__read(p?c(g,p,u && void 0 !== (null === w || void 0 === w?void 0:w.X)?d.S.mb(w.X):m,void 0 !== (null === t || void 0 === t?void 0:t.Ea)?d.S.mb(null === t || void 0 === t?void 0:t.Ea):n,q):[!1],3);g=n[0];m=n[1];n=n[2];g && (null === p || void 0 === p?void 0:p.t4(m,n));u && (null === h || void 0 === h?void 0:h.t4(w,t));return [g,u];};b.j_a=function(g,h,m){return h.track.Fm(g,m.V,void 0,!0).Nc;};b.MYa=function(g,h,m){var n;n=h.P;if(!n.Uq || 0 === n.Uq.length)return [];g=n.Uq.map(function(q){return [n.jc + q[0],n.jc + q[1]];});return f(g,m.MV);};b.GIb=f;},function(r,b,a){var f,k;function c(l){return "immediate" === l;}Object.defineProperties(b,{__esModule:{value:!0}});b.rFa=b.FZ=b.QWa=void 0;f=a(9);k=a(6);b.QWa=c;r=(function(){function l(d,g,h){this.region=d;this.Nc=g;this.Ld=h;}l.prototype.toJSON=function(){return {region:this.region,X:this.Nc.IG,Ea:this.Ld.IG};};return l;})();b.FZ=r;r=(function(){function l(d,g,h){var m,n;m=this;this.id=d;this.P=g;this.uKa=!1;this.uL=function(q){var p,t,u,w;return (null === (p=m.Zv) || void 0 === p?0:p.length)?"immediate":null !== (w=null === (u=null === (t=m.P.next) || void 0 === t?void 0:t[q]) || void 0 === u?void 0:u.Zd) && void 0 !== w?w:m.Zd;};this.cR=new f.S(g.jc,1E3);this.uQ=void 0 !== g.Fc && null !== g.Fc?new f.S(g.Fc,1E3):f.S.Ey;this.ykb=null !== (n=g.Zd) && void 0 !== n?n:h;this.BWa();k.assert(this.cR.lessThan(this.uQ),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(l.prototype,{aa:{get:function(){return this.P.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{qM:{get:function(){return this.uKa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ug:{get:function(){return this.cR;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ml:{get:function(){return this.uQ;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{duration:{get:function(){return this.uQ.Aa(this.cR);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{X:{get:function(){return this.cR.V;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ea:{get:function(){return this.uQ.V;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{HC:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Xt:{get:function(){return this.fz.length?!this.P.Gh && 0 === this.oM.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{EKb:{get:function(){return this.RA;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{fz:{get:function(){var d,g;return Object.keys(null !== (g=null === (d=this.P) || void 0 === d?void 0:d.next) && void 0 !== g?g:{});},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{oM:{get:function(){var d;d=this;return this.fz.filter(function(g){return ! !d.RA[g];});},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hta:{get:function(){var d;return null !== (d=this.pLa) && void 0 !== d?d:this.pLa=this.Eob();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{j8:{get:function(){var d;return null !== (d=this.qLa) && void 0 !== d?d:this.qLa=this.Fob();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Fz:{get:function(){return this.P.weight?this.P.weight / (this.P.weight + this.j8):1;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Zd:{get:function(){var d;return (null === (d=this.Zv) || void 0 === d?0:d.length)?"immediate":this.ykb;},enumerable:!1,configurable:!0}});l.prototype.normalize=function(d,g,h){this.cR=d;this.uQ=g;this.Zv=h;this.uKa=!0;this.M7a();};l.prototype.xTa=function(){var d;return this.oM.length?null !== (d=this.oM.map(this.uL).reduce(function(g,h){return g === h?h:void 0;})) && void 0 !== d?d:this.Zd:this.Zd;};l.prototype.zi=function(d){this.BWa(d);};l.prototype.tob=function(d){var g,h;if(this.hta){g=(this.RA[d] || 0) / this.hta;if(void 0 === this.P.weight || 0 === this.j8)return {Ee:g};h=this.Fz;return 1 !== h && c(this.uL(d)) && this.RA[d]?{Ee:h * g,ZB:this.RA[d] / this.j8 * (1 - h)}:{Ee:h * g};}return {Ee:(null === (g=this.P.next) || void 0 === g?0:g[d])?1 / this.fz.length:0};};l.prototype.DDb=function(d){return -1 < this.fz.indexOf(d);};l.prototype.BWa=function(d){var g;if(void 0 === this.P.next)this.RA={};else {g=this.P.next;this.RA=Object.keys(g).reduce(function(h,m){var n;n=d?d[m] || 0:g[m].weight;void 0 !== n && null !== n && 0 <= n && (h[m]=n);return h;},{});}this.M7a();};l.prototype.Eob=function(){var d;d=this;return this.oM.reduce(function(g,h){return g + d.RA[h];},0);};l.prototype.Fob=function(){var d;d=this;return this.oM.filter(function(g){return c(d.uL(g));}).reduce(function(g,h){return g + d.RA[h];},0);};l.prototype.M7a=function(){this.qLa=this.pLa=void 0;};return l;})();b.rFa=r;},function(r,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ZY=void 0;c=a(2);r=a(413);f=c.__importDefault(a(27)).default.Ra;k=a(393);l=a(15);d=c.__importDefault(a(5));g=a(180);h=a(6);m=a(22);n=a(900);a=(function(q){function p(t,u,w,v,x,y,z,A,B,D,E,F){w=q.call(this,v,A,w,v,v,x,m.S.mb(y),z,E,!1,null === F || void 0 === F?void 0:F.Ff) || this;w.gb=t;w.Ch=u;w.Of=B;w.qg=D;w.Lfa=0;w.GB=[];w.Zw=!1;w.Cn.c7a=!1;w.wQ=new n.NAa(v,w.qg,A,w.H,w.mediaType,w.Ch,w.Na,w.gb);w.ZGb=d.default.time.ba();w.TGb=void 0;w.jG=A.Wla;w.p1a=d.default.time.ba();u=g.qL(A);t=u.JC;u=u.U6;w.oOb=0 === w.mediaType?t:u;w.IW(x);return w;}c.__extends(p,q);Object.defineProperties(p.prototype,{Ax:{get:function(){return this.Na.Ax;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nK:{get:function(){return this.Na.nK;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{uB:{get:function(){return this.Na.uB;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Az:{get:function(){return this.Na.Az;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xh:{get:function(){return this.wQ.xh;},set:function(t){this.wQ.xh=t;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nq:{get:function(){return this.wQ.nq;},set:function(t){this.wQ.nq=t;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{i5:{get:function(){return this.Jd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{WEb:{get:function(){return this.RJa.V;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{qN:{get:function(){return this.mLa.qN;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nCb:{get:function(){return this.gb.Mda;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ve:{get:function(){return this.Zw;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{VE:{get:function(){return this.RIa;},enumerable:!1,configurable:!0}});p.prototype.reset=function(){this.seeking=void 0;this.connected=this.xh=!1;this.Cn.reset();};p.prototype.Cf=function(){this.reset();q.prototype.Cf.call(this);};p.prototype.ny=function(t,u){return k.ny(this.wj.mediaType,this.I,t,u,this.Wf,this.gb.rJb);};p.prototype.Fm=function(t,u,w,v){return k.Fm(this.wj.mediaType,this.I,t,u,w,v);};p.prototype.en=function(){this.jG=this.I.Wla;};p.prototype.bK=function(){this.Na.J8();};p.prototype.IW=function(t){var u,w;u=this.gb;w=this.mediaType;h.assert(t.mediaType === w);h.assert(t.N === this.xb.N);this.wj=t;this.xb.N.gua(w,t.Qd);u.rhb(this,t.nC);this.pob(t.Qd);this.Ff.IW(t);this.xb.N.xga();this.xh=!1;};p.prototype.Sia=function(t){var u;u=this.xb.N.Pg[this.mediaType];if(u && u.stream.Be && (t=u.stream.Y.Gm(t),-1 !== t))return t;};p.prototype.jH=function(t,u){var w,v,x;if(this.Wd && this.Wd.X === t){u=this.Wd.index;w=t;}else {v=this.xb.N;x=v.Pg[this.mediaType];if(!x || !x.stream.Be){this.DG=t;this.nNb=u;return;}w=x.stream.Y;this.Wd=this.Fm(x.stream,t,void 0,u);if(void 0 === this.Wd){if((u=w.length - 1,w=w.aj(u),this.Gb("setStreamingPts out of range of fragments, pts:",t,"last startPts:",w,"fragment index:",u,"fastplay:",v.bf.Mg),v.bf.Mg)){this.DG=t;return;}}else (u=this.Wd.index,w=this.Wd.X);}this.fo=u;this.dR=w;this.DG=void 0;};p.prototype.GYb=function(t){var u,w;u=this.wj.tv(t);w="verifying streamId: " + t + " stream's track: " + (u?u.Ma:"unknown") + " currentTrack: " + this.wj.trackId;return u?!0:(this.Ch.Ul(w),this.Ch.Ul("unknown streamId: " + t),!1);};p.prototype.pob=function(t){this.TDb=t.reduce(function(u,w){return w.dt && w.bitrate > u.bitrate?w:u;},t[0]);};p.prototype.Q7=function(t){this.pf=t;};p.prototype.uIb=function(t,u,w,v,x){this.s6a(t,u,v,x);w && ++this.Lfa;this.gb.vj();};p.prototype.hz=function(t){t.Ea && t.X && (this.jG-=t.Ea - t.X);q.prototype.hz.call(this,t);};p.prototype.wk=function(t){this.vVa(t);this.qv(t);};p.prototype.zXb=function(t){var u;u=d.default.time.ba();this.jG+=t * (u - this.p1a);this.p1a=u;};p.prototype.sRb=function(){this.jG=this.I.Wla;};p.prototype.mK=function(t){this.Na.hga();this.Wf || this.wQ.mK(t,this.vc);};p.prototype.vVa=function(t){var u,w,v;w=this.i5;v=this.gb;this.Of.oLa() || (this.Ch.Pib(t.mediaType,t.N.Fb,t.stream.track.ME,this.ys,this.va),null === (u=this.Wf) || void 0 === u?void 0:u.IEb(t),u=w.T.ze() || 0,v.qb.$w() || (w=w.Sa(f.Eb)) && !w.Ve && w.U3 && v.qb.Kka(w),this.mK(u),this.gb.uVa(t),this.Of.o_(this) && this.Of.vj());};p.prototype.rpa=function(t){this.gb.Q3(t);};p.prototype.oOa=function(t,u,w,v,x,y){var z,A;z=this.I;A=z.Si;if(w >= z.Si && (z.q7 && (A=w + 1E3),z.r7 && !this.connected))return !1;if(this.Wf)return this.Wf.Qx();w=this.xh && 0 === this.Na.vpa && 0 === this.Na.Ir;return !w && v < A?!1:w?y && 0 === v?(this.Gb("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.ppb(t,u,x);};p.prototype.cTb=function(t){this.dR=t;};p.prototype.N7=function(t){this.Zw=!0;this.RIa=t;};p.prototype.vga=function(){this.Zw=!1;this.RIa=void 0;};p.prototype.ppb=function(t,u,w){if(this.Ve || 0 === this.mediaType)return !0;if(void 0 === this.et)return !1;u=this.ehb(u,t);this.track.N.Ql.tX(this.track.N.aa,this.track.Qd);this.Kz.fqa([this.et],!1,u,this.oOb);t=this.Kz.Qx(u,t,w,this.et,this.xb.N.qp);t.complete?this.N7(t.reason):(this.vga(),this.mC=t.mC,this.progress=t.progress);return this.Ve;};p.prototype.ehb=function(t,u){var w,v,x,y,z;y=d.default.Rn()[this.mediaType];z=this.Na.D3();t={$u:y,X:null !== (w=z.Xc) && void 0 !== w?w:0,wc:t,tc:null !== (v=z.JM || t) && void 0 !== v?v:0,Il:null !== (x=z.bS || t) && void 0 !== x?x:0,Dg:z.Dg,ml:z.ml,NSa:z.Y.length,Y:z.Y};"number" !== typeof t.X?(t.X=0,t.tc=0):u === l.zc.Yc && t.wc !== t.X && (t.wc=t.X);return t;};return p;})(r.Uaa);b.ZY=a;},function(r,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.H9=void 0;c=a(2);r=a(16);f=a(20);k=c.__importDefault(a(5));l=a(9);d=a(902);g=a(178);h=a(903);m=a(22);n=a(906);a=(function(q){function p(){var t;t=null !== q && q.apply(this,arguments) || this;t.$Ka=0;t.Qda=0;t.p_=0;t.wca=0;return t;}c.__extends(p,q);p.prototype.qra=function(t){var u,w;q.prototype.qra.call(this,t);this.$Ka++;this.Qda++;this.tLa=k.default.time.ba();this.pJ || (this.pJ={vc:t.vc,Mc:t.Mc,index:t.index},this.G_ || (this.G_=this.pJ));u=this.U_;w=!1;u && 100 > Math.abs(u.Pd - t.Xc) && (this.p_+=t.Pd - u.Pd,this.wca++,w=!0);w || (this.p_=t.hy,this.wca=1);this.U_=t;};p.prototype.stop=function(){q.prototype.stop.call(this);this.Qda=0;this.pJ=void 0;};p.prototype.$Ta=function(){var t,u,w,v;t=this.VA;u=t.T1;if(u){v=u.Sa(this.sg);v && v.Na && (w=v.Na.yka());return {RM:w,currentBranch:{sId:u.P && u.P.id,cancelled:u.Jn},currentReceivedCount:t && t.Ftb,totalReceivedCount:this.$Ka,currentState:t && t.WPa || "Uninitialized",lastRequestPushed:this.U_ && ({contentEndPts:this.U_.vc,fragmentIndex:this.U_.index}),tslp:this.tLa && k.default.time.ba() - this.tLa,cpts:this.p_,crq:this.wca,rslp:this.Qda,firstRequestSSPushed:this.pJ && ({contentStartPts:this.pJ.Mc,fragmentIndex:this.pJ.index}),firstRequestPushed:this.G_ && ({contentStartPts:this.G_.Mc,fragmentIndex:this.G_.index})};}};return p;})((function(q){function p(t,u,w,v,x,y,z,A,B){var D;D=q.call(this) || this;D.pg=t;D.sg=u;D.I=v;D.H=x;D.QA=new l.uq(!1);D.PA=new l.uq(m.S.mb(-Infinity));D.H=l.er(k.default,D.H,"AsePlayerBuffer:");D.VA=new d.cwa(D.H,w,u);D.resume();y && z && A && (D.hqa=new h.HFa(u,x,y,D.pg,y.events,z,A,B),t=new n.Qya(null === y || void 0 === y?void 0:y.yt,m.S.mb(D.I.UU),x),D.VA.Blb(t));D.pg.on("requestAppended",function(E){D.QA.set(!0);E.request.qf && D.PA.set(E.request.qf);D.emit("requestAppended");});return D;}c.__extends(p,q);Object.defineProperties(p.prototype,{cz:{get:function(){return this.QA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nU:{get:function(){return this.PA;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{sFb:{get:function(){return this.VA.uk;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Mz:{get:function(){return this.pg.Mz;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{mediaType:{get:function(){return this.sg;},enumerable:!1,configurable:!0}});p.prototype.$Ta=function(){};p.prototype.resume=function(){f.ia && this.H.trace("resume");this.Osa();};p.prototype.KWa=function(t){return this.pg.eka() > t;};Object.defineProperties(p.prototype,{Jmb:{get:function(){return this.ZI;},enumerable:!1,configurable:!0}});p.prototype.reset=function(t){var u;void 0 === t && (t=!1);f.ia && this.H.trace("reset");this.stop();this.pg.reset(t);this.QA.set(!1);this.PA.set(m.S.mb(-Infinity));t || (this.ZI=void 0);t || (null === (u=this.hqa) || void 0 === u?void 0:u.reset());};p.prototype.pl=function(t){void 0 === t && (t=!1);this.reset(t);this.Osa(!0);};p.prototype.stop=function(){this.VA.V4a();};p.prototype.close=function(){var t;null === (t=this.hqa) || void 0 === t?void 0:t.close();};p.prototype.zb=function(){this.stop();this.close();};p.prototype.lV=function(){this.I.Q2 && this.pg.DSa();this.pg.gy();};p.prototype.hyb=function(t){this.pg.m_a(t,!0);};p.prototype.gi=function(t){var u;return !(null === (u=this.hqa) || void 0 === u || !u.gi(t));};p.prototype.Osa=function(t){if(!this.VA.uk || t)(this.VA.BRb(),g.AsyncIterator.vGb(this.VA,this.X4.bind(this)));};p.prototype.X4=function(t){t.done || this.qra(t.value);};p.prototype.qra=function(t){this.pg.endOfStream?f.ia && this.H.error("Buffer manager has declared EOS, ignoring request",t.toString()):(this.ZI?(this.ZI.UGb=t.vc,this.ZI.VGb=t.Pd,this.ZI.HXa=t.qf):this.ZI={F5b:t.Mc,G5b:t.Xc,UGb:t.vc,VGb:t.Pd,HXa:t.qf},this.pg.Imb(t));};return p;})(r.EventEmitter));b.H9=a;},function(r,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.mba=void 0;c=a(2);f=a(16);k=a(9);l=a(20);d=a(68);g=k.S.mb(1E3);r=(function(){function h(m,n,q,p,t,u,w,v,x){var y,z,A;y=this;this.mediaType=m;this.console=n;this.Ia=q;this.events=t;this.Lu=u;this.Gf=w;this.FWb=v;this.co=[];this.ypa=g.add(k.S.mb(null !== (A=null === (z=u.BN) || void 0 === z?void 0:z.V) && void 0 !== A?A:0));this.listeners=new f.yh();this.listeners.on(q.T,"skipped",function(){return y.nV();});this.listeners.on(p,"requestAppended",function(B){return y.cz(B.request);});this.bR=!0;this.LS=w.xB(function(){return y.Zvb();},"Presentation Emit",x);this.b7=w.xB(function(){return y.sPb();},"Presentation Prune");}h.prototype.nV=function(){this.trace("skipped, scheduler clock " + this.Gf.wa.currentTime.Nd());this.bR=!0;this.LS.pl();};h.prototype.Zvb=function(){var m,n;return c.__generator(this,function(q){switch(q.label){case 0:(this.KG=this.DKb(this.bR),m=this.YZa(),q.label=1);case 1:if(!m)return [3,3];n=this.bR?this.Ia.vd:null === m || void 0 === m?void 0:m.timestamp;this.trace("queuing task for " + m.HH + (" at player time " + m.timestamp.Nd()) + (" scheduler clock is " + this.Gf.wa.currentTime.Nd()));return [4,d.nj.fO(m.timestamp)];case 2:return (q.Yd(),this.trace("executing task for " + m.HH + (" at player time " + m.timestamp.Nd()) + (" scheduler clock is " + this.Gf.wa.currentTime.Nd())),this.bR=!1,this.jRa(m,n),this.KG++,m=this.YZa(),n=null === m || void 0 === m?void 0:m.timestamp,[3,1]);case 3:return [2];}});};h.prototype.YZa=function(){if(void 0 !== this.KG)return this.co[this.KG];};h.prototype.DKb=function(m){var n,q,t;void 0 === m && (m=!1);for(var p=m?0:null !== (n=this.KG) && void 0 !== n?n:0;p < this.co.length;p++){n=this.co[p];t=k.S.mb(null !== (q=this.Lu.Vpa) && void 0 !== q?q:0);if(n.timestamp.greaterThan(this.Ia.vd.add(t)))return m && 0 < p?p - 1:p;}return Math.max(this.co.length - 1,0);};h.prototype.sPb=function(){var m,n;return c.__generator(this,function(q){switch(q.label){case 0:if(!(1 < this.co.length))return [3,2];m=c.__read(this.co,2);n=m[1];this.trace("queuing pruning task for " + n.HH + (" at player time " + this.ypa.add(n.timestamp).Nd()) + (" scheduler clock is " + this.Gf.wa.currentTime.Nd()));return [4,d.nj.fO(this.ypa.add(n.timestamp))];case 1:return (q.Yd(),this.trace("executing pruning task for " + n.HH + (" at player time " + this.ypa.add(n.timestamp).Nd()) + (" scheduler clock is " + this.Gf.wa.currentTime.Nd())),this.co.shift(),this.KG && this.KG--,[3,0]);case 2:return [2];}});};h.prototype.reset=function(){this.co=[];l.ia && this.trace("reset");this.bR=!0;this.c5=void 0;this.KG=0;this.b7.pl();this.LS.pl();};h.prototype.close=function(){this.LS.zb();this.b7.zb();this.listeners.clear();};h.prototype.gi=function(m){var n;l.ia && this.trace("canSkip() " + m);if(0 === this.co.length)return (l.ia && this.trace("canSkip false, no media sequence"),!1);n=this.co[0];return n.timestamp.greaterThan(m)?(l.ia && this.trace("canSkip false, before earliest item at " + n.timestamp),!1):void 0 === this.c5 || this.c5.lessThan(m)?(l.ia && this.trace("canSkip false, later than last appended at " + this.c5),!1):!0;};h.prototype.trace=function(m){l.ia && this.console.trace("PresentationTracker [" + this.mediaType + "] " + this.FWb + ": " + m);};h.prototype.ULa=function(m,n,q){q && (this.c5=q);q=this.co.length?this.co[this.co.length - 1]:void 0;return void 0 === q || q.HH !== m?(this.co.push({HH:m,timestamp:n}),this.LS.state === d.vl.complete && this.LS.pl(),this.b7.state === d.vl.complete && this.b7.pl(),!0):!1;};return h;})();b.mba=r;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.R9=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(84));k=r.__importDefault(a(5));l=a(907);d=a(15);g=a(249);h=a(9);m=a(6);n=a(22);q=a(377);p=a(411);a=(function(){function t(u,w,v,x,y,z,A,B,D,E){this.gb=u;this.Ch=w;this.H=v;this.LJ=x;this.I=A;this.A_=B;this.LKa=D;this.oT=E;this.Gb=this.H.warn.bind(this.H);this.um=this.H.trace.bind(this.H);this.dg=this.H.log.bind(this.H);this.zh=[];this.Ig={};y.Ln?(m.assert(!y.io),this.lca=!0,this.hjb(y,y.Ln,z)):(this.vn=this.ax(y.io || "",y,0,void 0,void 0,{},!0),this.vn.qM=!0,this.vn.Ea=Infinity,this.A0=[this.vn]);this.Jd=this.r_(this.vn,void 0,z);this.Jd.active=!0;u=h.er(k.default,this.H,"BranchQueue::");this.pj=new g.$X(u);this.pj.enqueue(this.Jd);this.Jda=this.FQ=void 0;}t.zja=function(u){return "m" + u;};Object.defineProperties(t.prototype,{Ky:{get:function(){return ! !this.lca;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Gj:{get:function(){return this.Jd.Jn;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Qe:{get:function(){return this.vn;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Fh:{get:function(){return this.Jd.P.id;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Gtb:{get:function(){return this.Jd.N.Fb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ec:{get:function(){return this.Jd;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Bb:{get:function(){return this.zh;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Oe:{get:function(){return this.Jd.Oe;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{qg:{get:function(){return this.gb.qg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Nh:{get:function(){return this.FQ?this.FQ:this.Bb[0];},enumerable:!1,configurable:!0}});t.prototype.zb=function(){this.zh.forEach(function(u){u.Cf();});this.zh=[];this.pj.clear();};t.prototype.Ae=function(u){return this.Ig[u];};t.prototype.UUa=function(){return this.pj.getIterator();};t.prototype.TUa=function(u,w){var v;v=this.Ig[u];if(v)return (u=v.Zk[w]) && u.weight;this.Gb("getSegmentWeight, unknown segment:",u);};t.prototype.iCb=function(u){var w;w=this.Ig[u];if(w)return w.X;this.Gb("getSegmentStartPts, unknown segment:",u);};t.prototype.hCb=function(u){var w;w=this.Ig[u];if(!w)this.Gb("getSegmentDuration, unknown segment:",u);else if(c.ya(w.Ea) && isFinite(w.Ea) && c.ya(w.X) && isFinite(w.X))return w.Ea - w.X;};t.prototype.$qa=function(u){var w;w=-1;this.zh.some(function(v,x){return v === u?(w=x,!0):!1;});-1 !== w?this.zh.splice(w,1):this.Gb("Unable to find branch:",u,"in branches array");};t.prototype.ZE=function(u,w){var v;v=0;this.dhb(u).forEach(function(x){(x=x.Ed(w)) && (v+=x.uB);});return v;};t.prototype.Zu=function(u,w,v){var x;if(!u.Zb(w))return 0;x=u.Sa(w);for(x=v?x.tc:x.ys;void 0 === x;){if(!u.Vf)return 0;u=u.Vf;x=u.Sa(w);x=v?x.tc:x.ys;}u=this.LKa.ze();return Math.max(x - u,0);};t.prototype.Qia=function(u){return this.zh.filter(function(w){if(w.N.Fb === u)return !0;});};t.prototype.Qxb=function(u,w){return this.rJa(u,!1,w);};t.prototype.Pxb=function(u,w){return this.rJa(u,!0,w);};t.prototype.UQb=function(u,w,v){c.We(this.zh,function(x){x.N === u && x.f4a(w,v);});c.We(this.Ig,function(x){x.N === u && (x.N=w);});};t.prototype.P2a=function(){var u;u=this;c.We(this.zh,function(w){var v;v=u.gb.Ng(w.N.Fb);w.Uz(n.S.mb(v.Bv));});};t.prototype.Zp=function(u){var w;w=this;c.We(this.zh,function(v){v.Sa(1).track.Qd.forEach(function(x){var y;y=q.Vea(x.Jg,x.bitrate,u,w.H);f.default(y,x);});});};t.prototype.Ks=function(u,w,v,x){var y;for(;w;){y=w.Ks(u,v);if(y)return y;if(x)break;w=w.Vf;}};t.prototype.aQa=function(u){var w,v;w=this;void 0 === u && (u=!1);v=this.zh;u && (v=v.filter(function(x){return x !== w.Jd;}));v.forEach(function(x){x.active=!1;w.pj.remove(x);});u || this.pj.clear();return v;};t.prototype.rPb=function(){var u;for(;0 < this.zh.length;){u=this.zh[0];u.Sa(0);u.Sa(1);if(!u.active)break;if(u === this.Jd)break;if(!u.EDb())break;u.Cf();this.zh.shift();}};t.prototype.PV=function(u,w,v,x,y){if(v > x){for(v-=x;u;){u.PV(w,v,y);u=u.Vf;}return v;}};t.prototype.yYa=function(u,w){for(var v={bS:null,JM:null,Xc:null,ml:0,Dg:0,Y:[]};u;){u.D3(v,w);u=u.Vf;}return v;};t.prototype.Upb=function(u){var w,v,x;w=this.Jd;if(w.mYa)v=w.mYa;else {x=this.Jd.Oe;v=this.r_(w.P,w);d.ff.forEach(function(y){var z;z=v.Ed(y);z && (z.jH(0),y=w.Ed(y),z.Q7(y.pf));});v.Uz(n.S.mb(x + u));w.mYa=v;}this.VI(v,w);};t.prototype.Alb=function(u,w,v){var x,y;m.assert(!u.Ky());if(!this.lca){this.lca=!0;this.FQ=this.Nh;x=this.vn.id || t.zja(0);this.vn.id=x;this.Ig[x]=this.vn;this.vn.Ea=this.gb.NAb().bUa();this.vn.HC=!0;}y=void 0 !== u.io?u.io:t.zja(u.Fb);u=this.ax(y,u,w,v,void 0,{},!0);u.HC=!0;this.A0.forEach(function(z){z.Zk={};z.Zk[y]={weight:100};z.sS=y;z.Xt=!1;});this.A0=[u];};t.prototype.us=function(u,w){var v,x,y,z;v=this.Nh;x=v.TC(w,this.gb.T);y=v.P;z=v.children[u];if(w){if(!y.Zk[u])return (this.Jd.Gb("chooseNextSegment, invalid destination:",u,"for current segment:",y.id),!1);if(v.jk)return v.jk === u;v.jk=u;z && v.T2 && this.VI(z,v);return !0;}if(void 0 !== v.jk)return !1;if(!z)return (x.UZa=!0,!1);x.UZa=!z.kga();this.gb.Rda(void 0,p.PP.pM);v.T2=void 0;v.jk=u;this.VI(z,v);v.SS();this.gb.$Q();return !0;};t.prototype.XDb=function(u,w){var v,x,y,z;v=this;z=u.P;w && !u.jk && (u.jk=z.sS,u.TC(!0,this.gb.T,!0));u.children=Object.create(null);c.We(z.Zk,function(A,B){u.jk && B !== u.jk || (x=v.Ig[B],y=v.vgb(x,u),u.children[B]=y);});u.jk && (w=u.children[u.jk]) && this.VI(w,u);u.T2=!0;};t.prototype.yWb=function(){var u;u=0;c.We(this.zh,function(w){d.ff.forEach(function(v){w.Zb(v) && (v=w.Ed(v),u+=v.Na.Yo);});});return u;};t.prototype.CVb=function(u,w){var v,x,y;v=this;x=this.ahb(u,w);if(x){if(x !== this.Jd.P){this.aQa();y=this.r_(x,this.Jd,u);y.Vf=void 0;y.qsa(void 0,void 0,!0);this.zfb(this.Jd);this.VI(y,this.Jd);}else this.aQa(!0).forEach(function(z){z.Cf();v.$qa(z);v.pj.remove(z);});x === this.Nh.P && (this.Nh.kw.shift(),y && (y.kw=this.Nh.kw,y.jk=this.Nh.jk));this.Ch.Y_(x,this.Jd.Oe);this.Jd.T2=void 0;}else this.Gb("findSegment no segment for manifestIndex:",w);};t.prototype.wYa=function(u,w){var v;v=u.P;w || (w=v.sS);u.jk || (u.jk=w,u.TC(!0,this.gb.T,!0));(w=u.children[u.jk]) && this.VI(w,u);};t.prototype.M3a=function(u,w){if(this.Jd !== u){if(w)for(w=this.Jd;w && w !== u;){w.active=!1;this.pj.remove(w);w=w.Vf;}this.Jd=u;}};t.prototype.Jr=function(u,w){var v,x,y,z,A;v=this;if(this.Ky){x=this.I;y=this.Nh;z=y.P;A=h.jSb(z.id);!y.jk && !z.Xt && y.vc - w <= x.uC && (this.Gb(A + "updatePts making fork decision at playerPts:",u,"contentPts:",w),this.wYa(y));}d.ff.forEach(function(B){v.Jd.Zb(B) && v.qg[B].Jr();});};t.prototype.YKb=function(u,w){var v,x;if(this.Ky){v=this.FQ;if(!(this.I.uEb && u && this.Jda && u.X === this.Jda || (u=u.Na.xb,v && u.P.id === v.P.id))){x=null === v || void 0 === v?void 0:v.Ed(1);x=null === x || void 0 === x?void 0:x.pf;this.Jda=null === x || void 0 === x?void 0:x.X;this.FQ=u;this.Wfb(v);v=v && v.gqb(u);this.Ch.Lib(u.P,w,v);}}};t.prototype.k6=function(u,w,v){w.qM || (w.X=this.vUa(u,w.X,!0),v || (w.Ea=this.vUa(u,w.Ea,!1)),w.qM=!0,!1);};t.prototype.ZN=function(u,w){var v;v=this.Ig[u];v?c.We(v.Zk,function(x,y){x.weight=w[y] || 0;}):this.Gb("updateChoiceMapEntry, unknown segment:",u);};t.prototype.vUa=function(u,w,v){u=v?u.nSa(w):u.aT(w);if(!u.length)return w;w=u[1];return v?w.X:w.Ea;};t.prototype.VJa=function(u,w,v){var x;x=w?v.vc:v.Pd;return (w?v.E7:v.Wpa) <= u && u < x;};t.prototype.rJa=function(u,w,v){var A;for(var x=this.gb,y=this.Jd;y;){if((!c.ya(v) || x.fma(v,y.N.Fb)) && this.VJa(u,w,y))return y;y=y.Vf;}if(w){y=Object.keys(this.Jd.children);for(var z=0;z < y.length;z++){A=this.Jd.children[y[z]];if((!c.ya(v) || x.fma(v,A.N.Fb)) && this.VJa(u,w,A))return A;}}};t.prototype.vgb=function(u,w){var v,x;v=this.r_(u,w);x=v.qsa(w,void 0,this.I.Sqa);d.ff.forEach(function(y){var z,A,B;if(v.Zb(y)){z=v.Ed(y);A=w.Ed(y);B=x[y];1 === y && v.Uz(n.S.mb(A.tc + w.Oe - B));z.jH(B);}});this.Ch.Y_(u,v.Oe);return v;};t.prototype.zfb=function(u){for(var w=[u.P.id];u.Vf;){u=u.Vf;w.unshift(u.P.id);}this.cca(u);};t.prototype.cca=function(u){var w,v;w=this;v=u.P;c.We(u.children,function(x){x && w.cca(x);});this.pj.remove(u);u.Cf();this.$qa(u);this.Ch.Ada(v);};t.prototype.VI=function(u,w){var v,x,y,z;v=this;x=w.P;w.N !== u.N && this.gb.gKa(u.N.Fb);u.active=!0;this.pj.enqueue(u);u.bK();y=k.default.time.ba();z={};c.We(w.children,function(A){var B,D;if(A){if(A.Xd){B=A.Ed(0);D=A.Ed(1);A.Xd.fK=[B?B.jp.V:0,D?D.jp.V:0];A.Xd.Evb=y - A.Xd.p4;A.Xd.p4=void 0;z[A.P.id]=A.Xd;}A.P.id !== u.P.id && v.cca(A);}});w.children=Object.create(null);w.children[u.P.id]=u;w.fJ=void 0;this.M3a(u);this.Ch.Jib(u.P,z);1 < Object.keys(x.Zk).length && u.kga();};t.prototype.Wfb=function(u){var w,v;if(u){w=k.default.time.ba();v=u.kw[0];v && void 0 === v.d2?v.d2=w - v.Wp:v || (this.Gb("missing metrics for branch:",u.P.id),v={Y7:u.P.id,Ee:!0,d2:0,Xd:{}},u.kw.unshift(v));void 0 === v.startTime && (v.startTime=w);}};t.prototype.ahb=function(u,w){var x,y,z,A;m.assert(0 <= u);for(var v in this.Ig){x=this.Ig[v];if(this.gb.fma(x.N.Fb,w)){if(x.X <= u && (Infinity === x.Ea || void 0 === x.Ea || u < x.Ea))return x;y=Math.min(Math.abs(u - x.X),Math.abs(u - x.Ea));if(c.fa(z) || y < z)(z=y,A=x);}}return A;};t.prototype.ax=function(u,w,v,x,y,z,A,B,D){w=new l.zGa(u,w,v,x,y,z,A,B,void 0,D);return this.Ig[u]=w;};t.prototype.hjb=function(u,w,v){var x,y,z;x=this;this.vn=void 0;this.A0=[];y=null;z=null;c.We(w.segments,function(A,B){var D,E,F,C,G;D=A.startTimeMs;E=A.endTimeMs;F={};c.We(A.next,function(J,K){F[K]={weight:J.weight || 0,LWb:J.transitionHint || A.transitionHint,r5b:"number" === typeof J.earliestSkipRequestOffset?J.earliestSkipRequestOffset:A.earliestSkipRequestOffset};});C=A.defaultNext;c.fa(C) && (C=Object.keys(F)[0]);G=c.fa(C);C=x.ax(B,u,D,E,C,F,G,A.exitZones,A.transitionHint);D <= v && (v < E || c.fa(E))?x.vn=C:D > v && (!y || D < z) && (y=B,z=D);G && x.A0.push(C);});this.vn || (this.vn=y?this.Ig[y]:this.Ig[w.initialSegment]);};t.prototype.r_=function(u,w,v){var x,y,z,A;x=u.N;y=this.gb.Ng(x.Fb);z=y.Bv;A=[];[0,1].forEach(function(B){x.Zb(B) && A.push(y.yp(B));});u=new p.MAa(this.gb,this.I,this.Ch,this.H,this,this.A_,this.LKa,this.LJ,u,A,z,w,v?n.S.mb(v):void 0,this.oT,this.gb.qg,this.gb.Ku);this.Afb(u);this.zh.push(u);return u;};t.prototype.Afb=function(u){var v;function w(x){v.gb.emit(x.type,x);}v=this;u.addListener("locationSelected",w);u.addListener("logdata",w);u.addListener("serverSwitch",w);u.addListener("streamSelected",w);u.addListener("lastSegmentPts",w);u.addListener("managerdebugevent",w);u.addListener("requestCreated",function(x){x=x.request;v.gb.Vda(x.mediaType,x.X);});};t.prototype.dhb=function(u){for(var w=[u];u.Vf;){u=u.Vf;w.push(u);}return w;};return t;})();b.R9=a;},function(r,b,a){var l,d,g;function c(h,m,n){this.GC=m;this.Vk=n;this.Iz=this.cU=this.Apa=this.B0a=this.A0a=this.sM=this.Qd=this.QNb=this.Vk=this.$l=this.tc=this.X=this.Wz=this.vo=this.Y=this.DWa=this.GR=void 0;}function f(h,m,n){this.Ea=m;this.bXa=n;this.KMa=this.F7a=this.ks=this.vo=this.iG=this.gv=void 0;}function k(h,m,n,q,p,t,u){var w;w=new c(n,m,h.Vk);h.forEach(function(v){var x,y;x=v.buffer;y=x.Y;v.mediaType === l.Ra.Sb?w.GR=y.length?y[0].bitrate:void 0:v.mediaType === l.Ra.Eb && (w.DWa=y.length?y[0].bitrate:void 0,w.Y=y,w.vo=x.Il - x.wc,w.Wz=x.Dg,w.X=x.wc,w.tc=x.tc,w.$l=v.Md,w.Vk=v.Vk,w.QNb=m - v.Vk,w.Qd=v.Qd,w.sM=y.filter(function(z){return w.X <= z.Vv;}).length);});this.bj=w;this.Hs=void 0;this.fQa=q;this.$v=p;this.GNa=t;this.Nqa=this.g7=this.R_a=this.Oz=this.YJ=this.kSa=this.nw=this.Qd=this.Hs=void 0;this.Xlb=u;this.$pa={};}l=a(27).default;d=a(40).assert;g=a(15).ka;c.prototype.constructor=c;f.prototype.constructor=f;k.prototype.constructor=k;k.prototype.Js=function(h,m){var n,q,p,t,u,w,v,x,y,z,A,B,D,G,J,K,H,L,P;n=this.bj;q=[];p=h[l.Ra.Eb];t=h[l.Ra.Sb];if(void 0 === p || void 0 === t)return !1;u=p.buffer;w=t.buffer;v=n.Qd.filter(function(I){return I.q3();});if(void 0 === u || void 0 === w || void 0 === v || 0 === v.length)return !1;x=new f(m?g[m]:"maxbitratechanged",p.wc,m === g.zf);y=0;z=0;A=0;B=0;D=n.X;h=h[l.Ra.Eb].wc;for(var E=n.Y,F=n.sM,C=0;C < F;C++){G=E[C];J=G.offset;K=G.offset + G.da - 1;H=G.hy;L=G.rz;P=L + H;G && L <= h && P > D && (H=G.hy,L=Math.min(H,Math.min(h,P) - Math.max(L,D) + 1),B+=L,y+=L / H * (K - J + 1),z+=G.bitrate * L,A+=G.wb * L);}n.A0a=y;n.B0a=B;n.Apa=0 < B?z / B:0;n.lNb=0 < B?A / B:0;n.cU || (n.cU=0,v.some(function(I,O){if(I.bitrate === n.DWa)return (n.cU=O,!0);}));v.forEach(function(I){var O,M;I=I.q3();O=[];n.Iz || (n.Iz=I.Gm(n.X,void 0,!0));x.gv || (x.gv=I.Gm(x.Ea,void 0,!0),x.iG=I.length - 1);n.$l !== n.Iz + n.sM && (n.$l=n.Iz + n.sM);F=Math.min(x.iG,x.gv + 1);for(var N=n.Iz;N <= F;N++){M=I.get(N);O[N]=M;}q.push(O);});m === g.zf && (x.vo=u.Il - u.wc,x.ks=w.Il - w.wc,x.F7a=p.X1a,x.KMa=t.X1a);this.Hs=x;this.Qd=v;this.nw=q;return this.kSa=!0;};k.prototype.wy=function(){var h,m,n,q,p,t,u,w,v,A,B,D,E,F;if(this.Jj)return this.Jj;h=this.Oz;m=this.bj;n=this.Hs;q=this.Qd;p=this.R_a;t=this.Xlb;d(void 0 !== h,"throughput object must be defined before retrieving the logdata from PlaySegment");if(h.trace && 0 === h.trace.length || void 0 === h.timestamp){if(n.bXa)(u=!1,w=!0);else n.gv - m.Iz + 1 <= m.sM?w=u=!0:(u=!0,w=!1);v=!0;}if(p)for(var x=p.A4,y=p.TK,z=0;z < t.length;z++){A=t[z];(h=p[A]) && h.Goa && (w=!0);}n={bst:m.Vk,pst:m.GC,s:m.Iz,e:n.gv,prebuf:m.sM,brsi:m.$l,pbdlbytes:m.A0a,pbdur:m.B0a,pbtwbr:m.Apa,pbvmaf:m.lNb};this.$v && (n.fragmentsPrebuffered=m.Y);v && (n.nt=v);w && (n.nd=w);x && (n.invalid=x);y && (n.exception=y);this.Nqa && (n.rr=this.Nqa);this.g7 && (n.ra=this.g7);if(!w && !x && !y && (this.fQa || this.$v)){n.bitrate=q.map(function(G){return G.bitrate;});h=this.Oz;A=h.trace;B=[];E=0;A.forEach(function(G){G=Number(G).toFixed(0);B.push(G - E);E=G;});n.tput={ts:h.timestamp,trace:B,bkms:h.Jx};}if(w || v || x || y)n.feasible=u;else for((n.sols={},n.elapsed=p.Uvb,z=0);z < t.length;z++){A=t[z];h=p[A];w={};if(h && h.cq){w.algelapsed=h.Wlb;w.maxHeapTotal=h.Yy;w.f=h && h.cC || !1;w.dltwbr=h.KQa;w.dlvmaf=h.NQa;w.dlvdur=h.MQa;w.dlvbytes=h.LQa;w.dlabytes=h.IQa;if(this.fQa || this.$v){D=h.cq.filter(function(G){return G;}).map(function(G){return G.he;});E=0;F=[];D.forEach(function(G){F.push(G - E);E=G;});w.strmsel=F;}if(this.$v){v=[];u=this.bj.$l;for(var C in D){x=D[C];y=this.nw[x][u];y.mg=x;v.push(y);u++;}w.fragsel=v;w.streamList=this.Qd;w.pause_dlnd_sec=h.cq.filter(function(G){return G;}).map(function(G){return G.zpa;});w.buffer_sec=h.cq.filter(function(G){return G;}).map(function(G){return G.Kfa;});w.buffer_kb=h.cq.filter(function(G){return G;}).map(function(G){return G.Jfa;});w.buffer_frags=h.cq.filter(function(G){return G;}).map(function(G){return G.KNa;});w.elapsed_secs=h.cq.filter(function(G){return G;}).map(function(G){return G.fRa;});w.throughput=h.cq.filter(function(G){return G;}).map(function(G){return G.Oa;});}}n.sols[A]=w;}return this.Jj=n;};k.prototype.Xxb=function(h){var q;if(void 0 !== this.$pa[h])return this.$pa[h];for(var m=this.nw[this.bj.cU],n=0;n < m.length;n++){q=m[n];if(q && q.X <= h && q.X + q.duration > h)return this.$pa[h]=q;}throw Error("findPlayingFragment: missing");};r.exports=k;},function(r,b,a){var k;function c(l,d,g){this.da=l;this.Zl=d;this.quality=g;}function f(l,d){this.Cna=d;void 0 === d && (this.Cna=!0);this.hk=l;this.Ofb();}k=a(6).assert;c.prototype.constructor=c;c.prototype.zy=function(){return 8 * this.da / 1E3 / this.Zl;};f.prototype.constructor=f;f.prototype.Bs=function(l,d,g,h,m){void 0 === d && (d=0);void 0 === g && (g=l.wL());void 0 === h && (h=0);void 0 === m && (m=l.hk.length);for(var n=[],q,p=h;p < m;p++){h=[];for(var t=d;t < g;t++){q=l.hk[p][t];h.push(q);}n.push(h);}return new f(n,l.Cna);};f.prototype.Ofb=function(){var l,d;l=this.hk[0].length;for(d in this.hk.slice(1)){k(this.hk[d].length === l,"expect this.chunkss[chunksIndex].length === n but got " + this.hk[d].length + " and " + l);}this.Cna && this.Pfb();this.Qfb();};f.prototype.wL=function(){return this.hk[0].length;};f.prototype.Pfb=function(){for(var l=0;l < this.hk.length - 1;l++){for(var d=0;d < this.wL();d++){k(this.hk[l][d].da <= this.hk[l + 1][d].da,"Chunk size for epoch " + d + " is not monotonic");}}};f.prototype.Qfb=function(){for(var l=0;l < this.hk.length - 1;l++){for(var d=0;d < this.wL();d++){k(1E-8 > Math.abs(this.hk[l][d].Zl - this.hk[l + 1][d].Zl),"Chunk duration for epoch " + d + " is not consistent");}}};f.prototype.XCb=function(){var l;l=[];this.hk[0].forEach(function(d){l.push(d.Zl);});return l;};r.exports={Q9a:c,R9a:f};},function(r,b,a){var l;function c(){}function f(d,g,h){void 0 === h && (h=!1);l(d.length === g.length,"bitrates_kbps and durations_sec must be of the same length.");l(1E-8 < k(d),"bitrate zero, won't be able to send anything.");this.mB=d;this.bRa=g;this.repeat=h;this.Jl=this.Nn=0;}function k(d){return d.reduce(function(g,h){return g + h;},0);}l=a(6).assert;c.prototype=Error();f.prototype.constructor=f;f.prototype.Bs=function(){var d;d=new f(this.mB,this.bRa,this.repeat);d.Nn=this.Nn;d.Jl=this.Jl;return d;};f.prototype.$ka=function(){return this.mB[this.Nn % this.mB.length];};f.prototype.RB=function(){return this.bRa[this.Nn % this.mB.length];};f.prototype.zvb=function(d){l(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.Nn && this.Nn < this.mB.length))throw new c();l(this.Jl < this.RB(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var g;;){g=this.RB() - this.Jl;g=d < g?d:g;d-=g;this.Jl+=g;if(this.Jl < this.RB())break;this.Jl-=this.RB();this.Nn+=1;if(!this.repeat && this.Nn >= this.mB.length){if(0 < d)throw new c();break;}}};f.prototype.y0a=function(d){this.zvb(d);};f.prototype.Avb=function(d){l(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.Nn && this.Nn < this.mB.length))throw new c();l(this.Jl < this.RB(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var g,h=0;;){g=this.RB() - this.Jl;g=d < g * this.$ka()?d / this.$ka():g;d-=this.$ka() * g;h+=g;this.Jl+=g;if(this.Jl < this.RB())return h;this.Jl-=this.RB();this.Nn+=1;if(!this.repeat && this.Nn >= this.mB.length){if(0 < d)throw new c();return h;}}};r.exports={dfb:f,efb:c};},function(r){var h,m,n,q,p,t;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(u){if(h === setTimeout)return setTimeout(u,0);if((h === b || !h) && setTimeout)return (h=setTimeout,setTimeout(u,0));try{return h(u,0);}catch(w){try{return h.call(null,u,0);}catch(v){return h.call(this,u,0);}}}function f(u){if(m === clearTimeout)return clearTimeout(u);if((m === a || !m) && clearTimeout)return (m=clearTimeout,clearTimeout(u));try{return m(u);}catch(w){try{return m.call(null,u);}catch(v){return m.call(this,u);}}}function k(){q && p && (q=!1,p.length?n=p.concat(n):t=-1,n.length && l());}function l(){var u;if(!q){u=c(k);q=!0;for(var w=n.length;w;){p=n;for(n=[];++t < w;){p && p[t].aw();}t=-1;w=n.length;}p=null;q=!1;f(u);}}function d(u,w){this.Oyb=u;this.Dx=w;}function g(){}r=r.exports={};h="function" === typeof setTimeout?setTimeout:b;m="function" === typeof clearTimeout?clearTimeout:a;n=[];q=!1;t=-1;r.I7b=function(u){var w;w=Array(arguments.length - 1);if(1 < arguments.length)for(var v=1;v < arguments.length;v++){w[v - 1]=arguments[v];}n.push(new d(u,w));1 !== n.length || q || c(l);};d.prototype.aw=function(){this.Oyb.apply(null,this.Dx);};r.title="browser";r.C4b=!0;r.w5b={};r.o4b=[];r.version="";r.s9b={};r.on=g;r.addListener=g;r.once=g;r.uM=g;r.removeListener=g;r.removeAllListeners=g;r.emit=g;r.n1a=g;r.KOb=g;r.listeners=function(){return [];};r.y4b=function(){throw Error("process.binding is not supported");};r.Y4b=function(){return "/";};r.M4b=function(){throw Error("process.chdir is not supported");};r.k9b=function(){return 0;};},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Teb=b.paa=b.Veb=b.ZGa=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(5));k=r.__importDefault(a(40)).default.PL;l=r.__importStar(a(9)).er;d=r.__importDefault(a(424));g=a(406);h=a(221);m=a(15);n=a(30);q=a(6);p=a(95);t=a(250);a=(function(){function x(y,z,A,B,D,E,F,C,G,J,K){var H;H=this;this.H=y;this.Zf=z;this.I=A;this.Zb=B;this.T=D;this.sN=E;this.Hb=F;this.ub=C;this.Of=G;this.e1=J;this.xE=K;this.v0=[];this.aea=[];this.pKa=[];this.MIa=void 0;[0,1].forEach(function(L){H.Zb(L) && (H.v0[L]=new v(H.H,L),H.aea[L]=new u(L),H.pKa[L]=new w(L));});this.w7a=new p.$D(this.H);this.Zz=p.jF(this.I,this.w7a);this.mfa=p.iF();this.gE=void 0;}Object.defineProperties(x.prototype,{sf:{get:function(){return this.v0;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Jz:{get:function(){return this.aea;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Iv:{get:function(){return this.pKa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Fx:{get:function(){return this.MIa;},set:function(y){this.MIa=y;},enumerable:!1,configurable:!0}});x.prototype.Zp=function(y,z){this.w7a.Zp(y,z);};x.prototype.Bna=function(y){var z,A,B,D,E,F;z=this.I;A=y.mediaType;B=f.default.Rn()[A];D=z.dYb?0 === A?z.BR:z.zX:1 === A?z.BR:z.zX;E=this.T.getState();F=this.T.ze();z=y.Na.xb;A=this.e1.yYa(z,A);B={$u:B,X:A.Xc,wc:F,tc:A.JM || F,Il:A.bS || F,Dg:A.Dg,ml:A.ml,NSa:A.Y.length,Y:[]};D={state:E,fC:this.T.fC(),Md:y.fo,buffer:B,bia:D,lYa:! !this.sN.BU,KK:! !this.sN.sr,Yo:this.Hb && this.Hb.Yo,h7:y.nCb,playbackRate:this.T.Bp()};void 0 === D.Md && (D.Md=y.Sia(B.tc));D.QR=z.QR;B.Y=A.Y;c.ya(B.X)?y.seeking && B.wc != B.X && (B.wc=B.X):(B.X=0,B.tc=0);this.Zf.kpb(D);this.Zf.zlb(D);return D;};x.prototype.jpb=function(y,z,A){var C,G;y=this.v0[y];for(var B=y.maxBitrate,D="manifest",E=0,F=z.length - 1;0 <= F;F--){C=z[F];G=C.bitrate;if(k(C)){E=Math.max(E,G);break;}else this.I.g8 && !C.ov?D="bc":C.uv?C.VB && (D="hf"):D="av";}if(void 0 === B || E !== B)(y.maxBitrate=E,this.ub.TKb(B,E,D,A));};x.prototype.kCb=function(y){return this.Kka(y).mg;};x.prototype.Kka=function(y){var z,A,B,D,E,F,C,G,J,K,H,L,P,I,O,N,M,Q;z=this.I;A=y.mediaType;B=1 == A;D=0;E=this.v0[A];F=this.aea[A];if(!E.ig)return {mg:void 0};C=this.Bna(y);G=y.Ff;J=G.et;K=y.i5.N;H=y.track.Qd;if(!K.Ql.tX(K.aa,H))return (y.bk("location selector did not find any urls"),{mg:void 0});L=t.Q6(C.state);P=B?this.Zz:this.mfa;try{I=P.Dm(H,L);}catch(S){this.H.error("StreamFilters: filterStreams: " + S);I=[H[0]];}0 === I.length && (this.H.error("StreamFilters: empty list"),I=[H[0]]);if(this.xE.Tq && (y.GB.length !== I.length || 0 < n.ms(y.GB,I).length || 0 < n.ms(I,y.GB).length)){try{this.gE && this.Oxb();}catch(S){this.ub.Pm("Hindsight: Error when handling maxbitrate chagned: " + S);}y.GB=I;}L=J?J.mg:E.hja;try{if(J && (D=J.bitrate,J && !J.track.equals(G.track))){O=g.Via(I,D) || 0;N=I[O];if(J.bitrate !== N.bitrate || 1 === A)C.state=m.ka.$g;J=N;L=H.indexOf(N);}}catch(S){this.H.error("StreamFilters: track change: " + S);}if(!B && (D=z.PN,!(D && 0 < D.length) && L && H[L] && J && J.location === H[L].location))return {mg:L};try{M=this.Zf.qL(A);Q=y.Kz.$ra(C,I,void 0,M,E.ig.config.Pv,K.qp);if(!Q)return (y.bk("stream selector did not find a stream"),{mg:void 0});}catch(S){this.H.error("StreamFilters: stream selector: " + S);Q={he:0};}Q.he=H.indexOf(I[Q.he]);this.sN.sr && this.sN.sr.Dlb(y.mediaType,Q,H);B && this.jpb(A,I,y.tc);C=Q.he;J=H[C];I=J.bitrate;C != L && (B && z.MK && this.Of.EIa(y,I),B || this.Zf.tN(I));c.ya(E.hja) || (E.hja=C);y.Ve || (Q.Ve?(q.assert(void 0 !== Q.f1),y.N7(Q.f1),F.rs=Q.f1):(y.mC=Q.mC,y.WG=Q.WG,y.progress=Q.progress));this.$w();if(B)if(Q.dy)K.uN(Q.dy);else if(!K.T3() && !z.A4a)for(y=0;y < H.length;++y){if((z=H[y],z.dt && !K.qk(A,z.Ma))){K.uN([z.Ma]);break;}}Q.iNa && this.ub.$Kb(Q.iNa);return {Ma:J.Ma,mg:C,st:Q.st};};x.prototype.$w=function(){var y,z,A,B,D,E;A=this.sf[0];B=this.sf[1];D=this.Jz[1];E=this.Jz[0];A=this.e1.Ec.epb(null !== (y=null === B || void 0 === B?void 0:B.At) && void 0 !== y?y:0,null !== (z=null === A || void 0 === A?void 0:A.At) && void 0 !== z?z:0,this.Fx,this.sN.KM);A.rs && (this.sN.dm && D?D.rs=A.rs:E && (E.rs=A.rs));return A.Ve;};x.prototype.Pia=function(y,z){var A,B,D,E;A=this;if(this.gE){B=this.gE;D=this.T.ze();E=[];z && (D=z.Ea);h.ff.forEach(function(F){var C,G;C=A.e1.Ec.Ed(F);if(C){G=A.Bna(C);G.mediaType=F;G.wc=D;y === m.ka.zf && (G.X1a=C.Na.Rea(D));E[F]=G;}});B.kSa || B.Js(E,y) || this.vra();return B;}};x.prototype.Oxb=function(){var y,z;y=this.gE;z=this.I;y && (this.Pia(void 0),y && !y.YJ && this.Zf.zqa.Dia(y));this.GPa(z);};x.prototype.vra=function(){this.gE=void 0;};x.prototype.DXb=function(y){var z,A,B;z=y.oldValue;y=y.newValue;A=this.gE;B=this.I;y === m.ka.Hc && z !== m.ka.Hc?(A && this.H.warn("override an existing play segment!"),this.GPa(B,z,!0)):y !== m.ka.Hc && z === m.ka.Hc && A && (this.Pia(y),A && !A.YJ && this.Zf.zqa.Dia(A),this.vra());};x.prototype.GPa=function(y,z,A){var B,D,E;B=this;D=[];h.ff.forEach(function(F){var C,G,J;C=B.e1.Ec.Ed(F);if(C){G=B.Bna(C);if(A){J=B.sf[F];J.Jsa?(G.Vk=J.Jsa,J.Jsa=void 0):G.Vk=J.Vk;}else G.Vk=f.default.time.ba();G.Qd=C.GB;G.mediaType=F;D[F]=G;}});E=f.default.Rn();E={k4b:E[0],u7a:E[1],Z6b:y.$L,$y:y.$y};this.gE=new d.default(D,f.default.time.ba(),z,this.xE.NS,y.$v,E,y.b4);};return x;})();b.ZGa=a;u=(function(){function x(y){this.mediaType=y;this.SR=this.nv=this.Gy=this.rs=this.Hy=void 0;}x.prototype.IXb=function(y,z,A){this.Hy=y?y:this.Hy;this.rs=this.rs;this.Gy=z?z:this.Gy;this.nv=A?A:this.nv;};return x;})();b.Veb=u;w=(function(){return function(x){this.mediaType=x;this.Pma=this.Uma=this.Rma=this.dG=void 0;};})();b.paa=w;v=(function(){return function(x,y){this.mediaType=y;this.H=l(f.default,x,"[" + y + "]");this.bk=this.H.error.bind(this.H);this.Gb=this.H.warn.bind(this.H);this.um=this.H.trace.bind(this.H);this.dg=this.H.log.bind(this.H);this.H.debug.bind(this.H);this.hja=this.Vk=this.Fn=this.ig=void 0;this.HV=this.At=0;this.gO=!1;this.maxBitrate=void 0;};})();b.Teb=v;},function(r,b,a){var p,t,u,w,v,x,y,z,A,B,D,E,F;function c(){}function f(C,G){var J,K,H,L;J=p.Oc(G)?G:c;this.I=C || ({});(function(P,I,O){this.tj[P].oe[I]=O;}).bind(this);(function(P,I){return this.tj[P].oe?this.tj[P].oe[I]:void 0;}).bind(this);this.on=this.addEventListener=E.addEventListener;this.removeEventListener=E.removeEventListener;this.emit=this.Ua=C.v5b?E.Ua:c;K=w.Fsb(C);H=this.I.dailyDiskCacheWriteLimit;if(K){this.Du=K;L=m(C.o7b || F,w.eAb());this.ux=function(P){return p.fa(L) || null === L || void 0 === this.tj[P]?!1:!p.fa(L[P]);};L?(this.tj={},G=t.Promise.all(Object.keys(L).map(function(P){return new t.Promise(function(I,O){var N;N=L[P];N.j7a=C.j7a;new v(P,K,N,function(M,Q){M?O(M):I(Q);},H);});})).then((function(P){P.map((function(I){var O;O=I.Ju;this.tj[O]=I;L[O].Eyb=L[O].$u - I.tx;this.tj[O].on(v.xe.REPLACE,(function(N){N=N || ({});N.partition=O;N.type="save";this.Ua("mediacache",N);}).bind(this));this.tj[O].on(v.xe.tIa,(function(N){N=N || ({});N.partition=O;N.type="save";this.Ua("mediacache",N);}).bind(this));this.tj[O].on(v.xe.wf,(function(N){N=N || ({});N.partition=O;N.type=v.xe.wf;this.Ua("mediacache-error",N);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(P){g(K,t.storage.zP,Object.keys(L));return P;}).bind(this)).then((function(P){Object.keys(P.tj).map(function(I){P.tj[I].Xja().map(function(O){P.delete(I,O);});});P.Km=!0;J(null,P);}).bind(this)).catch((function(P){u.error("Failed to initialize media cache ",P);this.XF=B.mxa;J(this.XF,this);}).bind(this)),D.Uv(G)):(this.XF=B.Lbb,J(this.XF,this));}else (this.XF=B.mxa,J(this.XF,this));}function k(C,G,J,K,H,L){var P;P=L?"mediacache-error":"mediacache";G={partition:J,type:G,resource:K,time:t.time.now()};L && (G.error=L);H && (p.ya(H.duration) && (G.duration=H.duration),p.ya(H.Lx) && (G.bytesRead=H.Lx));try{C.Ua(P,G);}catch(I){u.warn("caught exception while emitting basic event",I);}}function l(C,G,J,K,H){var L;L=H?"mediacache-error":"mediacache";G={partition:J,type:G,resources:K,time:t.time.now()};H && (G.error=H);try{C.Ua(L,G);}catch(P){u.warn("caught exception while emitting basic event",P);}}function d(C){return !x.KL(C) && !z.MFb(C);}function g(C,G,J){C.query(G,"",function(K,H){K || Object.keys(H).filter(function(L){return 0 > J.indexOf(L.slice(0,L.indexOf(".")));}).map(function(L){C.remove(G,L,c);});});}function h(C,G,J){var H,L;function K(P){C.delete(H,function(I){I?J(I):(delete C.oe[L],I=Object.keys(P.resourceIndex),I=t.Promise.all(I.map(function(O){return new t.Promise(function(N,M){C.delete(O,function(Q){Q?M(Q):N(O);});});})).then(function(){J();},function(O){J(O);}),D.Uv(I));});}if(x.KL(G))(H=G,L=x.F2(G));else (H=x.$ga(G),L=G);(G=C.oe[L])?K(G):C.read(H,function(P,I){P?J(P):K(I);});}function m(C,G){var J,K,H;J={};K=C.partitions.reduce(function(L,P){return L + P.capacity;},0);H=G / K;C.partitions.map(function(L){var P;P=L.key;J[P]={};J[P].$u=Math.floor(H * L.capacity);J[P].Itb=L.dailyWriteFactor || 1;J[P].V7b=L.owner;J[P].$wb=L.evictionPolicy;});return J;}function n(C,G,J){if(J)return z.evb(C,G).reduce(function(K,H){Object.keys(H).map(function(L){K[L]=H[L];});return K;},{});J={};J[C]=G;return J;}function q(C,G,J,K,H,L,P,I,O,N,M){return function(Q,S){Q?p.isArray(Q)?(S=Q.map(function(fa){return fa.error;}),S.some(function(fa){return fa.code === B.ZH.code;}) && !S.some(function(fa){return fa.code === B.ZZ.code;})?M(N,Q,function(){O.save(G,J,K,H,L,P);}):(N.delete(I),delete N.oe[J],L({error:Q[0].error,tt:Q[0].tt,type:Q[0].type,mMa:Q}))):L({error:Q,tt:G,type:"save"}):(Q=S.items.filter(function(fa){return 0 <= Object.keys(C).indexOf(fa.key);}).reduce(function(fa,qa){return fa + qa.V4;},0),N.oe[J].$3a(Q),Q={Eyb:S.Hm,$4b:S.zK,gk:0,items:S},0 < S.gk && (Q.gk=S.gk),0 < S.duration && (Q.duration=S.duration),L(null,Q));};}p=a(10);t=a(125);u=new t.Console("MEDIACACHE","media|asejs");w=a(921);v=a(922);x=a(430);y=a(126);z=a(929);A=a(930);B=a(254);D=a(255);E=a(431).EventEmitter;F={Z7b:[]};f.prototype.RV=function(C,G,J){var K;K=p.Oc(J)?J:c;this.ux(C)?this.tj[C].query(G,function(H,L){H?(u.error("Failed to query resources",H),K([])):K(L.filter(d));}):K([]);};f.prototype.read=function(C,G,J){var K,H,L,P;K=p.Oc(J)?J:c;if(this.ux(C)){H=this.tj[C];L=H.oe[G];if(!x.KL(G) && this.I.nJb){P=(function(I){H.f7(Object.keys(I),(function(O,N,M){O?K(B.JI.kq("Failed to read " + G,O)):(k(this,"read",C,G,M),K(null,z.cFb(N)));}).bind(this),I);}).bind(this);L?P(L.resourceIndex):this.IPb(C,G,function(I,O){I?K(B.JI.kq("Failed to read " + G,I)):P(O.resourceIndex);});}else H.read(G,(function(I,O,N){I?K(B.JI.kq("Failed to read " + G,I)):(L && L.convertToBinaryData && (O=A.Hqb(O)),k(this,"read",C,G,N),K(null,O));}).bind(this));}else K(B.nA);};f.prototype.f7=function(C,G,J){var K,H;K=p.Oc(J)?J:c;if(this.ux(C)){H={};G=t.Promise.all(G.map((function(L){return new t.Promise((function(P,I){this.read(C,L,function(O,N){O?(N={},N[L]=O,I(N)):(H[L]=N,P());});}).bind(this));}).bind(this))).then(function(){K(null,H);},function(L){K(L);});D.Uv(G);}else K(B.nA);};f.prototype.g3a=function(C,G,J){var K;K=p.Oc(J)?J:c;this.ux(C)?"[object Object]" !== Object.prototype.toString.call(G)?K(B.YZ.kq("items must be a map of keys to objects")):(J=new t.Promise((function(H){var L,P;L=this.tj[C].Xja();P=Object.keys(G);(L=L.filter(function(I){return -1 === P.indexOf(I);})) && 0 < L.length?this.tQa(C,L,function(){H();}):H();}).bind(this)).then((function(){return t.Promise.all(Object.keys(G).map((function(H){return new t.Promise((function(L,P){this.save(C,H,G[H].Yp,G[H].yd,function(I,O){I?(u.error("Received an error saving",H,I),P(I)):L(O);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(H){var L,P,I;try{L=Number.MAX_VALUE;P=Number.MAX_VALUE;I=H.reduce(function(O,N){N.Hm && N.Hm < L && (L=N.Hm);N.zK && N.zK < P && (P=N.zK);L < Number.MAX_VALUE && (O.freeSize=L);P < Number.MAX_VALUE && (O.dailyBytesRemaining=P);p.ya(N.gk) && (O.bytesWritten+=N.gk);p.ya(N.duration) && (O.duration+=N.duration);return O;},{partition:C,type:"saveMultiple",keys:Object.keys(G),time:t.time.now(),bytesWritten:0,duration:0});this.Ua("mediacache",I);K(null,I);}catch(O){K(err);}}).bind(this),(function(H){p.isArray(H.mMa)?H.mMa.forEach((function(L){this.Ua("mediacache-error",{partition:C,type:"saveMultiple",error:L.error,resources:L.resources});}).bind(this)):this.Ua("mediacache-error",{partition:C,type:"saveMultiple",error:H});K(H);}).bind(this)),D.Uv(J)):(p.Oc(J)?J:c)(B.nA);};f.prototype.save=function(C,G,J,K,H,L){var P,I,O,N,M,Q,S,fa,qa;P=p.Oc(H)?H:c;if(this.ux(C)){I=this.tj[C];O=x.$ga(G);H=I.Xja();H=H.filter(function(xa){return xa !== G;});if(p.fa(K) || p.tb(K) || !p.ya(K.lifespan))P(B.kcb);else {N=n(G,J,this.I.nJb);M=I.oe[G] || ({});Q=M.resourceIndex;Q && Object.keys(Q).map(function(xa){p.fa(N[xa]) && I.delete(xa);});K.convertToBinaryData && (J=A.Iqb(N),N=n(G,J,!1));Q=t.time.now();S={};S.partition=C;S.resourceIndex=Object.keys(N).reduce(function(xa,ua){xa[ua]=y.Uka(N[ua]);return xa;},{});S.creationTime=M.creationTime || Q;S.lastRefresh=Q;S.lifespan=K.lifespan;S.lastMetadataUpdate=Q;S.size=M.size;S.convertToBinaryData=K.convertToBinaryData;fa=(function(xa,ua,X){xa.yub((function(sa,T){sa && u.error("Evicting","Failed to delete some orphaned records",sa);T.Uqa?X():(sa=xa.rAb())?this.delete(xa.Ju,sa,(function(R){R?(L || (p.isArray(ua)?ua.forEach((function(ca){l(this,"save",xa.qBb,ca.resources,ca.error);}).bind(this)):k(this,"save",xa.Ju,G,void 0,ua)),P(ua)):X();}).bind(this)):P(B.ZH);}).bind(this));}).bind(this);qa=(function(){var xa,ua,X;xa=this.tj;ua=0;X=t.time.now();if(!p.fa(xa))for(var sa in xa){ua+=xa[sa].Ezb(X);}return ua;}).bind(this);this.tQa(C,H,(function(){I.replace(O,S,(function(xa,ua){ua?(I.oe[G]=x.vja(S),I.VQb(N,q(N,C,G,J,K,P,L,O,this,I,fa),L,qa)):xa.code === B.ZH.code?fa(I,xa,(function(){this.save(C,G,J,K,P,L);}).bind(this)):P(xa);}).bind(this),L,qa);}).bind(this));}}else P(B.nA);};f.prototype.delete=function(C,G,J){var K;K=p.Oc(J)?J:c;this.ux(C)?h(this.tj[C],G,(function(H){k(this,"delete",C,G,void 0,H);K(H);}).bind(this)):K(B.nA);};f.prototype.tQa=function(C,G,J){var K,H;K=p.Oc(J)?J:c;if(this.ux(C)){H=this.tj[C];J=t.Promise.all(G.map((function(L){return new t.Promise((function(P){h(H,L,(function(I){P({W:p.fa(I),error:I,Yp:L});}).bind(this));}).bind(this));}).bind(this))).then((function(L){var M,Q;for(var P=[],I=[],O=[],N=0;N < L.length;N++){M=L[N];M.W?P.push(M.Yp):M.error && I.push(M);}0 < P.length && l(this,"delete",C,P);if(0 < I.length){O=I.map(function(S){return S.Yp;});L=D.sVa(I);Q=L[0];L.forEach((function(S){u.error("Failed to delete resources ",S.error,S.resources);l(this,"delete",C,S.resources,S.error);}).bind(this));}L={};L.o8b=P;0 < O.length && (L.p8b=O);Q?K(Q,L):K(void 0,L);}).bind(this),(function(L){l(this,"delete",C,G,L);K(L);}).bind(this));D.Uv(J);}else K(B.nA);};f.prototype.clear=function(C,G){var J;J=p.Oc(G)?G:c;this.ux(C)?this.tj[C].clear(function(K){J(K.filter(d));}):J(B.nA);};f.prototype.IPb=function(C,G,J){var K,H;K=p.Oc(J)?J:c;if(this.ux(C)){H=this.tj[C];H.read(x.$ga(G),function(L,P){var I;if(L)K(B.lcb);else {I=x.vja(P) || ({});H.CUa(Object.keys(I.Ara),function(O){I.size=O;(O=H.oe[G]) && (I.lastMetadataUpdate && O.lastMetadataUpdate && O.lastMetadataUpdate <= I.lastMetadataUpdate?H.oe[G]=I:O.lastMetadataUpdate && (O.lastMetadataUpdate > I.lastMetadataUpdate || p.fa(I.lastMetadataUpdate)) && (I=O));K(null,I);});}});}else K(B.nA);};f.prototype.constructor=f;r.exports=f;},function(r,b,a){var l,d;function c(g,h,m,n,q,p){return new k(g,h,m,n,q,p);}function f(g){return g && 0 <= g.indexOf(".__metadata__");}function k(g,h,m,n,q,p){this.partition=g;this.lifespan=m;this.resourceIndex=h;this.size=n;this.creationTime=q;this.lastRefresh=p;return this.e6a();}l=a(10);d=a(125);a(126);new d.Console("MEDIACACHE","media|asejs");k.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.e6a();};k.prototype.$3a=function(g){this.size=g;};k.prototype.bPa=function(){var g;g=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - g) / 1E3;};k.prototype.e6a=function(){this.lastMetadataUpdate=d.time.now();return this;};k.prototype.constructor=k;r.exports={create:c,vja:function(g){var h;h=g;"string" === typeof g && (h=JSON.parse(g));if(h && h.partition && !l.fa(h.lifespan) && h.resourceIndex && h.creationTime && h.lastRefresh)return (g=c(h.partition,h.resourceIndex,h.lifespan,-1,h.creationTime,h.lastRefresh),h.lastMetadataUpdate && (g.lastMetadataUpdate=h.lastMetadataUpdate),!l.fa(h.size) && 0 <= h.size && g.$3a(h.size),g.bPa(),g.convertToBinaryData=h.convertToBinaryData,g);},$ga:function(g){return g + ".__metadata__";},F2:function(g){return f(g)?g.slice(0,g.length - 13):g;},KL:f};},function(r,b,a){r.exports={EventEmitter:a(925),yh:a(926)};},function(r){r.exports="4.1.1771";},function(r,b,a){var q,p,t,u;function c(w){return w.Uj.Aa(w.vd).V;}function f(w,v){return Math.exp(-(Math.log(2) / w) * v);}function k(w,v){w=Math.log(2) * v / w;return (1 - Math.exp(-w)) / w;}function l(w,v){var x,y,z,A,B;x=v.jqa;y=v.iqa;z=v.KV;if(0 === v.ph.length)return {N0:!1};A=v.ph[0];v=A.Ee;B=A.ZB;A=A.duration;if(!B || 1 === z)return {N0:!1};p.assert(A,"duration should be defined when immediate probability is included in probabilities array");p.assert(0 < z,"presenting segment seamless probability cannot be zero");y=y.V - A;if(x.V < y)return {N0:!1};y=x.V - y;x=z + y / A * (1 - z);A-=y;B=B * (1 - x) / (1 - z);w=v * x / z * f(w,A) + B * k(w,A);p.assert(1 >= w);return {N0:!0,Olb:w};}function d(w){var v,x,y,z,A,B;v=w.duration;x=w.e5a;y=w.Fz;z=w.Uj;A=w.vd;w=w.YK;p.assert(x);p.assert(v);y=1 - y;A=z.Aa(A);if(w.Xb)(B=x.Aa(w).Aa(A),z=v.V - w.V,B.zv(t.S.ab)?w=Math.max(0,(x.V - w.V) / z):(x=v.Aa(B).V,w=0 < x?A.V / x:0,y*=x / z));else {B=x.Aa(A);B.zv(t.S.ab)?w=x.V / v.V:(x=v.Aa(B).V,w=0 < x?A.V / x:0,y*=x / v.V);}p.assert(0 <= w);p.assert(1 >= w);p.assert(0 <= y);p.assert(1 >= y);return 1 - w * y;}function g(w,v){w=Math.log(2) / w.Y1a;return h(v) * Math.exp(-w * c(v));}function h(w){var v;return (null !== (v=w.OF) && void 0 !== v?v:1) * w.ph.reduce(function(x,y){var z;z=y.ZB;return x * (y.Ee + (void 0 === z?0:z));},1);}function m(w){var v,x,y,z;if(0 === w.ph.length)return 0;x=0;if(1 > w.KV){x=w.jqa.V;y=w.iqa.V;z=null !== (v=w.ph[0].duration) && void 0 !== v?v:0;x=Math.max(0,Math.min(z,x - (y - z)));}return w.ph.reduce(function(A,B){B=B.duration;return A + (void 0 === B?0:B);},0) - x;}function n(w){return w.ph.filter(function(v){return !v.ZB;}).reduce(function(v,x){return v * x.Ee;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Wfa=b.dOa=b.zob=b.cOa=b.Dob=void 0;q=a(15);p=a(6);t=a(9);u=a(20);b.Dob=c;b.cOa=function(w,v,x){var y,z,A,B,D,E,F,C,G,J;if(!w.q2 || q.$q(v.kf))return g(w,v);B=w.Y1a;w=c(v);D=m(v);E=n(v);F=l(B,v);C=F.N0;F=F.Olb;F=void 0 === F?1:F;G=1 > v.Fz?d(v):1;J=(null !== (y=v.OF) && void 0 !== y?y:1) * E * f(B,w - D) * F * G * v.ph.filter(function(K,H){return K.ZB && (0 < H || !C);}).reduce(function(K,H){var L,P;L=H.ZB;P=H.duration;P=void 0 === P?0:P;L=void 0 === L?0:L;H=H.Ee * f(B,P) + L * k(B,P);return K * H;},1);u.ia && (null === x || void 0 === x?void 0:x.log("{" + v.groupId + "} [" + v.mediaType + "] calculateStreamablePriority: sp: " + (v.Fz + ", pssp: ") + (v.KV + ", streamingDuration: ") + ((null === (z=v.e5a) || void 0 === z?void 0:z.V) + ", duration: ") + ((null === (A=v.duration) || void 0 === A?void 0:A.V) + ", seamlessProbability: ") + (E + ", distance: ") + (w + ", immediateDistance: " + D + ", risk:") + (f(B,w - D) + ", adjustedFirstTerm: ") + (F + ", streamingAdjustment: " + G + ", probabilities: ") + (JSON.stringify(v.ph) + " => " + J)));return J;};b.zob=g;b.dOa=h;b.Wfa=n;},function(r,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.hba=void 0;c=a(2);f=a(16);k=a(9);l=a(6);d=a(15);r=(function(){function g(){this.DM=[];this.QA=new k.uq(!1);this.PA=new k.uq(k.S.mb(-Infinity));this.events=new f.EventEmitter();}Object.defineProperties(g.prototype,{jw:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{playbackRate:{get:function(){return this.Bp();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{cz:{get:function(){return this.QA;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{nU:{get:function(){return this.PA;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mz:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Tn:{get:function(){return this.yL;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{vd:{get:function(){return this.kL();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mi:{get:function(){var h,m;h=this.vd;m=this.mr(h);l.assert(m,"Could not find current branch for " + h.V);return m;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{UEb:{get:function(){return this.Bb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bG:{get:function(){return this.yL?this.Bb[this.Bb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nh:{get:function(){var h,m;h=this.vd;m=this.d3(h);l.assert(m,"Could not find presenting branch for " + h.V);return m;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{yL:{get:function(){return 0 < this.Bb.length;},enumerable:!1,configurable:!0}});g.prototype.tDb=function(h){return -1 !== this.Bb.indexOf(h);};g.prototype.X0=function(){return void 0 !== this.qa?!1:!0;};g.prototype.zb=function(){};g.prototype.MT=function(h){var m,n,q;m=this.Bb.filter(function(p){return p.P.id === h.va;});if(0 !== m.length){n=this.kL();q=new k.S(Infinity,1);m.forEach(function(p){p=p.IM.add(h.offset);n.EQa(p).lessThan(n.EQa(q)) && (q=p);});return q;}};g.prototype.mr=function(h){var m,n,q;m=this.d3(h);if(m){n=m.P;q=n.id;h=h.Aa(n.Ug.add(m.zj));return {va:q,offset:h};}};g.prototype.reset=function(){};g.prototype.mW=function(){};g.prototype.pause=function(h){void 0 === h && (h=d.ff);this.DM=null === h || void 0 === h?void 0:h.reduce(function(m,n){-1 === m.indexOf(n) && m.push(n);return m;},this.DM);};g.prototype.resume=function(h){var m;m=this;void 0 === h && (h=d.ff);h.forEach(function(n){n=m.DM.indexOf(n);-1 !== n && m.DM.splice(n,1);});};g.prototype.Gta=function(h){var m;l.assert(this.qa);l.assert(h !== this);this.rH();m=h.X0(this.qa,this);m && (h.pause(this.DM),h.uia.apply(h,c.__spread(this.Bb)),this.Qha(this.qa));return m;};g.prototype.kL=function(){return this.ZTa();};g.prototype.ZTa=function(){var h,m;l.assert(this.yL,"Attempted to get initial time before any branches were queued");m=c.__read(this.Bb,1)[0];l.assert(m);return null !== (h=m.Wi) && void 0 !== h?h:m.Iy;};g.prototype.Bp=function(){return 1;};g.prototype.d3=function(h){var m;if(this.yL){m=this.ZTa();return h.lessThan(m)?this.Bb[0]:k.tSa(this.Bb,h);}};g.prototype.Qzb=function(){var h,m,p,t,u,w,v,x;m={};try{for(var n=c.__values(this.Bb),q=n.next();!q.done;q=n.next()){p=q.value;t=void 0;u=void 0;w=p.BF();for(t in w){v=t;x=w[v];x && (m[v]=(null !== (u=m[v]) && void 0 !== u?u:0) + x);}if(!p.$o)break;}}catch(z){var y;y={error:z};}finally{try{q && !q.done && (h=n.return) && h.call(n);}finally{if(y)throw y.error;}}return m;};return g;})();b.hba=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cTa=b.DUa=b.Hja=b.eGa=void 0;c=a(2);f=a(20);k=a(54);r=(function(){function l(d){this.Ia=d;}Object.defineProperties(l.prototype,{Li:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{yC:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return f.ia;},enumerable:!1,configurable:!0}});l.prototype.Qn=function(d){var g,h,q;d=d.oi;if(d === k.ae.pp || d === k.ae.Hr)if(d=this.Ia.Fja()){h={};try{for(var m=c.__values(d.RNb),n=m.next();!n.done;n=m.next()){q=n.value;h[q.mediaType]=this.AIb(q);}}catch(t){var p;p={error:t};}finally{try{n && !n.done && (g=m.return) && g.call(m);}finally{if(p)throw p.error;}}return {branchQueue:b.cTa(d.EPb),playerIterator:h,driftStats:this.Ia.Eua};}};l.prototype.AIb=function(d){return null === d || void 0 === d?void 0:d.$Ta();};return l;})();b.eGa=r;b.Hja=function(l){var d,g;if(l){d=l.P;g={};l.xy().forEach(function(h){g[h.mediaType]=b.DUa(h);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:l.Jn,RM:g};}return l;};b.DUa=function(l){var d;if(l && l.Na)return c.__assign(c.__assign({},l.Na.yka()),{unsentRequests:l.Na.Ir,lastFragmentContentEndPts:null === (d=l.pf) || void 0 === d?void 0:d.vc});};b.cTa=function(l){return l.map(function(d){return b.Hja(d);});};},function(r,b){var f,k,l;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.CIa);}function c(d){return (a(d)?d:Object.defineProperties(d,{CIa:{value:{},configurable:!1,enumerable:!1}})).CIa;}Object.defineProperties(b,{__esModule:{value:!0}});b.qba=void 0;k=null !== (f=Number.MAX_SAFE_INTEGER) && void 0 !== f?f:1E9;l=Date.now() % k;r=(function(){function d(){this.id=l=(l + 1) % k;}d.prototype.get=function(g){return a(g)?c(g)[this.id]:void 0;};d.prototype.set=function(g,h){c(g)[this.id]=h;return this;};d.prototype.has=function(g){return a(g) && void 0 !== c(g)[this.id];};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};return d;})();b.qba=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vP=void 0;r=(function(){function a(){this[0]=0;this[1]=0;}Object.defineProperties(a.prototype,{total:{get:function(){return this[0] + this[1];},enumerable:!1,configurable:!0}});a.prototype.add=function(c){this[0]+=Math.max(c[0] || 0,0);this[1]+=Math.max(c[1] || 0,0);};a.prototype.Eea=function(c,f){this[c]+=Math.max(f || 0,0);};return a;})();b.vP=r;0;1;},function(r,b,a){var f,k,l,d;function c(){return f.__awaiter(this,void 0,void 0,function(){var g;return f.__generator(this,function(h){switch(h.label){case 0:return [4,Promise.resolve().then(function(){return f.__importStar(a(256));})];case 1:return (g=h.Yd().IF,[2,g()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.DT=void 0;f=a(2);k=a(977);l=f.__importDefault(a(5));b.DT=function(g){var h;h=new l.default.Console("ASEJS","media|asejs");d || (d=new k.AFa(function(){return c();},g,h));return d;};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.U7a=void 0;c=a(7);f=a(18);b.U7a=function(k){var l,d;if(f.Py(k)){l=new DOMParser().parseFromString(k,"text/xml");d=l.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:k.slice(0,300),fileSize:k.length});}catch(g){}throw Error("xml parser error");}return l;}throw Error("bad xml text");};},function(r,b,a){var f;function c(k){var l,d,g,h,m,n,q;d={};d[f.lO]=k.localName;g={};d[f.Xj]=g;h=[];d[f.kO]=h;m=k.attributes;n=m.length;for(l=0;l < n;l++){q=m[l];g[q.localName]=q.value;}k=k.childNodes;n=k.length;g={};for(l=0;l < n;l++){switch((m=k[l],m.nodeType)){case b.Y7a:m=c(m);q=m[f.lO];m[f.i9]=d;h.push(m);d[q]?g[q][f.fD]=m:d[q]=m;g[q]=m;break;case b.Z7a:case b.W7a:(m=m.text || m.nodeValue,h.push(m),d[f.Mr] || (d[f.Mr]=m));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.X7a=b.W7a=b.Z7a=b.uZb=b.Y7a=b.vZb=b.V7a=void 0;f=a(152);b.V7a=function(k){return c(k.nodeType == b.X7a?k.documentElement:k);};b.vZb=c;b.Y7a=1;b.uZb=2;b.Z7a=3;b.W7a=4;b.X7a=9;},function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var l,d,g;function c(h,m,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + h + "' but found '" + m + "'"));}function f(h,m,n){var q;q=d[h];"undefined" !== typeof q?q(m) || c(h,m,n):h !== typeof m && c(h,m,n);}function k(h,m){var n;n=h.filter(function(q){return "object" !== typeof q && -1 === g.indexOf(q);});n=n.concat(h.filter(function(q){return "object" === typeof q;}).reduce(function(q,p){return q.concat(Object.keys(p).map(function(t){return p[t];}).filter(function(t){return -1 === g.indexOf(t);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var q;q=Array.prototype.slice.call(arguments);if(q.length !== h.length)throw new TypeError("Types: unexpected number of arguments");h.forEach(function(p,t){var u;u=q[t];if("string" === typeof p)f(p,u,{index:t});else if("object" === typeof p)Object.keys(p).forEach(function(w){f(p[w],u[w],{key:w});});else throw Error("Types: unexpected type in type array");});return m.apply(this,q);};}l=("number boolean string object function symbol").split(" ");d={array:function(h){return Array.isArray(h);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(h){if("undefined" !== typeof d[h] || -1 < l.indexOf(h))throw new TypeError("Types: attempting to override a built in type with " + h);d[h]=a[h];});}g=Object.keys(d).concat(l);return k(["array","function"],k);};},function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(r,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.O9a=b.Cwa=void 0;c=a(12);f=a(24);k=a(18);l=a(81);b.Cwa=function(d,g,h,m,n,q,p,t,u,w){var v,x;v=this;x={Type:g,Bitrate:m,DownloadableId:h};f.Tb(v,{track:d,type:g,Dd:h,bitrate:m,wb:n,Jg:t,size:q,fy:p,header:null,zTb:function(y,z,A,B){if(k.Kc(y) || k.Kc(z))(v.width=y,v.height=z,k.ya(A) && k.ya(B) && (v.Mea=A / B * y),x.Resolution=(v.width || "") + ":" + (v.height || ""));},MSb:function(y,z,A,B,D,E){k.Kc(y) && k.Kc(z) && k.Kc(A) && k.Kc(B) && (v.jha=y,v.S1=z,v.R1=A,v.Q1=B);k.Kc(D) && k.Kc(E) && (v.M0a=D,v.N0a=E);},framerate:u,My:w,oh:x,toJSON:function(){return x;}});};b.O9a=function(d,g,h,m,n){if(d == c.$Y || d === l.Yh.audio)return g;if(d == c.yI || d === l.Yh.video)return h;if(d == l.Yh.w8)return m;if(d == l.Yh.Lta)return n;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uaa="MslReadyNotifierSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Exa="DeviceIdGeneratorSymbol";},function(r,b){function a(c,f,k){if(null != k){if(0 < k(c,f))throw a.KPa(c,f);}else if(c.Yk && 0 < c.Yk(f))throw a.KPa(c,f);this.start=c;this.end=f;}Object.defineProperty(b,"__esModule",{value:!0});b.uba=void 0;a.KPa=function(c,f){return new RangeError("end [" + f + "] must be >= start [" + c + "]");};b.uba=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hxa="DeviceProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.exa="CryptoKeysSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IDa="PboBindDeviceCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vBa="LogblobSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GCa="MessageQueueSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xf=void 0;r=b.xf || (b.xf={});r.Fnb="bitraterestriction";r.iOa="cdnsel";r.pga="chgstrm";r.debug="debug";r.kvb="dlreport";r.sia="endplay";r.ama="intrplay";r.J5="midplay";r.V0a="playbackaborted";r.RQb="renderstrmswitch";r.nra="repos";r.Era="resumeplay";r.ESb="serversel";r.b8="startplay";r.JUb="statechanged";r.transition="transition";r.tmb="asereport";r.Xmb="audioswitch";r.Gnb="blockedautoplay";r.config="config";r.Yha="dlreq";r.M5b="ftlProbeError";r.qVb="subtitleerror";r.rVb="subtitleqoe";r.gWb="timedtextrebuffer";r.hWb="timedtextswitch";r.tUb="speedchanged";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Da="PboLogblobCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eIa="UuidProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eva="AppLogSinkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oBa="LogblobBuilderFactorySymbol";},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F;function c(C,G,J,K,H,L,P,I,O,N,M,Q,S,fa,qa,xa,ua,X,sa){var T;T=this;this.j=C;this.bn=G;this.K5a=J;this.Ij=K;this.Yna=H;this.Jia=L;this.we=P;this.k2=I;this.Ef=O;this.config=N;this.qd=M;this.wa=Q;this.Ha=S;this.platform=fa;this.Op=qa;this.yU=xa;this.yk=ua;this.Vq=X;this.mG=sa;this.dX=[];this.NJb=this.z4=this.y2a=0;this.HK=[];this.Gea=!1;this.b8=function(R){var ca,ja,Pa,wa,Ua,Va,cb,Ya;ja={};try{ja={playdelaysdk:n.nk(T.j.Vfa()),applicationPlaydelay:n.nk(T.j.lob()),playdelay:n.nk(T.j.xob()),trackid:T.j.Fk,bookmark:n.nk(T.j.UE || 0),pbnum:T.j.index,endianness:d.LTa()};T.sR(ja);T.config().Dwb && (ja.transitiontime=T.j.cm,ja.uiplaystarttime=T.j.ib.L8,ja.playbackrequestedat=T.j.Wl.ea(q.ma),ja.clockgettime=T.getTime(),ja.clockgetpreciseepoch=T.wa.Ye.ea(q.ma),ja.clockgetpreciseappepoch=T.Ha.eG.ea(q.ma),ja.absolutestarttime=T.j.a3(),ja.relativetime=T.j.zka());T.Z2(ja,"startplay");}catch(kb){T.log.error("error in startplay log fields",kb);}T.j.El && (ja.blocked=T.j.El);ja.configversion=T.config().version;T.config().endpoint || (ja.configendpoint="error");T.dWa(ja);if(T.config().c9 && T.j.ib.J7a){Pa={};Object.entries(T.j.ib.J7a).reverse().forEach(function(kb){var $a;$a=aa(kb);kb=$a.next().value;$a=$a.next().value;Pa[kb.toLowerCase()]=$a;});ja.vui=Pa;}z.ya(T.j.CNa) && (ja.bookmarkact=n.nk(T.j.CNa));wa=T.j.cd.at && T.j.cd.ats?T.j.cd.at - T.j.cd.ats:void 0;wa && (ja.nccpat=wa);(wa=T.j.cd.lr && T.j.cd.lc?T.j.cd.lr - T.j.cd.lc:void 0) && (ja.nccplt=wa);(wa=T.Cvb()) && (ja.downloadables=wa);pb._cad_global.device && z.Kc(pb._cad_global.device.Bia) && (ja.esnSource=pb._cad_global.device.Bia);n.Tb(ja,T.Op,{prefix:"pi_"});(wa=x.Te && x.Te.connection && x.Te.connection.type) && (ja.nettype=wa);T.j.Hn && T.j.Hn.initBitrate && (ja.initvbitrate=T.j.Hn.initBitrate);T.j.Hn && T.j.Hn.selector && (ja.selector=T.j.Hn.selector);ja.fullDlreports=T.j.qRa;if(T.j.state.value >= y.Kb.$d)try{Ua=T.j.Cs();if(Ua){T.maxBitrate=d.B9(Ua.map(function(kb){return kb.bitrate;}));T.dZa=d.B9(Ua.map(function(kb){return kb.height;}));Va=0 < Ua.length?A.SYa(Ua,function(kb){return kb.bitrate;}):void 0;ja.maxbitrate=T.maxBitrate;ja.maxresheight=T.dZa;}}catch(kb){T.log.error("Exception computing max bitrate",kb);}try{cb=d.GT();cb && (ja.pdltime=cb);}catch(kb){}try{n.Tb(ja,T.j.cd,{prefix:"sm_"});n.Tb(ja,T.j.L3(),{prefix:"vd_"});}catch(kb){}"undefined" !== typeof nrdp && nrdp.device && (ja.firmware_version=nrdp.device.firmwareVersion);R && T.j.Ht && (ja.pssh=T.j.Ht);T.iWa(T.j,ja);ja.avtp=T.xH.Qs().tta;(null === (ca=T.j.Pa) || void 0 === ca?0:ca.LA) && T.k4(ja);if(T.j.Sc.value)try{ja.ttTrackFields=T.j.Sc.value.oh;}catch(kb){}if(ca=T.j.Ud && T.j.Ud.value && T.j.Ud.value.streams){Ya={};ca.forEach(function(kb){Ya[kb.Jg]=void 0;});ja.audioProfiles=Object.keys(Ya);}T.Rla(ja);T.j.sa && "boolean" === typeof T.j.sa.bd.gC && (ja.isSupplemental=T.j.sa.bd.gC);T.j.sa && (ja.packageId=T.j.sa.bd.Mp,ja.legacyManifest=T.j.sa.AFb);T.j.sa && T.j.sa.bd.Ln && (ja.hasChoiceMap=!0);T.config().FSa && (ja.forceL3WidevineCdm=!0);T.KGb(Va);T.JGb();T.cWa(T.j,ja);T.Mla(T.j,ja);T.VF(T.j,ja);T.$B(T.j,ja,T.Gea);T.Nla(ja);T.Ola(ja);T.Pla(ja);T.gWa(ja);T.bWa(ja);T.jWa(ja);T.hWa(ja);T.te(B.xf.b8,R,F.kj | F.DI | F.Th | F.QP | F.lD | F.dY | F.v$,ja);};this.Era=function(R,ca,ja){ca={playdelay:n.nk(R),reason:ja,intrplayseq:T.z4 - 1,skipped:ca};"repos" === ja && (ca.prstate=!0 === T.j.paused.value?"paused":"playing");T.VF(T.j,ca);T.te(B.xf.Era,!1,F.kj | F.DI | F.Th,ca);"rebuffer" !== ja && "force_rebuffer" !== ja || T.j.ho.mlb(Number(n.nk(R)));};this.pga=function(R,ca,ja,Pa){R={moff:n.qy(ja),moffms:n.nk(ja),vbitrate:ca.bitrate,vbitrateold:R.bitrate,vdlid:ca.Dd,vdlidold:R.Dd,vheight:ca.height,vheightold:R.height,vwidth:ca.width,vwidthold:R.width,bw:Pa};T.VF(T.j,R);T.$B(T.j,R);T.te(B.xf.pga,!1,F.Th,R);};this.QQb=function(R,ca,ja){R={moff:n.qy(ja),moffms:n.nk(ja),vdlidold:R.Dd,vbitrateold:R.bitrate};T.VF(T.j,R);T.$B(T.j,R);T.UF(R,ca,T.j.Rg.value && T.j.Rg.value.stream);T.te(B.xf.RQb,!1,F.Th,R);};this.LNb=function(){var R,ca;R={waittime:n.nk(T.j.zka()),abortedevent:"startplay",trackid:T.j.Fk,prstate:T.HT(),paustate:T.j.paused.value};T.sR(R);T.Z2(R,"endplay");T.Vq.PS && (R.eventlist_version=1,R.eventlist=T.mG.FUa(T.j));T.j.Hn && T.j.Hn.initBitrate && (R.initvbitrate=T.j.Hn.initBitrate);try{ca=d.GT();ca && (R.pdltime=ca);n.Tb(R,T.j.cd,{prefix:"sm_"});}catch(ja){}T.Kla(R,!0);T.jWa(R);T.Rla(R);T.eWa(R);T.UF(R,T.j.ng.value,T.j.fk.value);T.iWa(T.j,R);T.Mla(T.j,R);T.te(B.xf.V0a,!1,F.kj | F.Th | F.lD | F.QP,R);};this.KNb=function(R,ca){R={waittime:n.nk(R),abortedevent:"resumeplay",resumeplayreason:ca};T.sR(R);T.j.Hn && T.j.Hn.initBitrate && (R.initvbitrate=T.j.Hn.initBitrate);T.UF(R,T.j.ng.value,T.j.fk.value);T.te(B.xf.V0a,!1,F.kj | F.Th,R);};this.HUb=function(R,ca){R={newstate:ca?"Paused":"Playing",oldstate:R?"Paused":"Playing"};T.VF(T.j,R);T.$B(T.j,R);T.UF(R,T.j.Uf.value && T.j.Uf.value.stream,T.j.Rg.value && T.j.Rg.value.stream);T.te(B.xf.JUb,!1,F.kj | F.Th,R);};this.ama=function(R,ca,ja){var Pa,wa;R=n.Tb({vdlid:T.j.ng.value.Dd,playingms:R,pausedms:ca,intrplayseq:T.z4++,prstate:T.HT(),paustate:T.j.paused.value},ja);T.Z2(R,"intrplay");ca=T.j.pc[f.Pb.Ra.Eb].value;ja=T.j.pc[f.Pb.Ra.Sb].value;R.cdnid=R.vcdnid=ca && ca.id;R.acdnid=ja && ja.id;R.locid=T.oU && T.oU.gna;R.loclv=T.oU && T.oU.dYa;R.avtp=T.xH.Qs().tta;R.mediabuffered=null === (Pa=T.j.Bg) || void 0 === Pa?void 0:Pa.f3();if(null === (wa=T.j.Pa) || void 0 === wa?0:wa.LA)(T.Kla(R,!0),T.k4(R),T.fWa(R));try{n.Tb(R,T.j.L3(),{prefix:"vd_"});}catch(Ua){}T.VF(T.j,R);T.$B(T.j,R);T.UF(R,T.j.Uf.value && T.j.Uf.value.stream,T.j.Rg.value && T.j.Rg.value.stream);T.te(B.xf.ama,!1,F.kj | F.Th,R);};this.nra=function(R,ca,ja){R={moffold:n.qy(R),reposseq:T.y2a++,prstate:T.HT(),paustate:T.j.paused.value};T.$B(T.j,R);T.UF(R,ja && ja.stream,ca && ca.stream);T.te(B.xf.nra,!1,F.kj | F.Th,R);};this.Umb=function(){T.te(B.xf.Xmb,!1,F.kj | F.Th,{switchdelay:n.nk(T.getTime() - T.SGb),newtrackinfo:T.j.Ud.value.trackId,oldtrackinfo:T.d5.trackId,oldAudioDownloadableId:T.RGb.Dd,newAudioDownloadableId:T.j.fk.value.Dd});};this.I4a=function(R){T.te(B.xf.tUb,!1,F.kj | F.Th,{speedold:Math.floor(1E3 * R.oldValue),speed:Math.floor(1E3 * R.newValue)});};this.SN=function(){T.te(B.xf.gWb,!1,F.kj | F.Th,{track:T.j.Sc.value.oh});};this.V5a=function(R){var ca,ja;ca=T.j.Sc.value;if(R.newValue || ca && ca.Ny() && !ca.dC()){ja={};ja.newtrack=R.newValue?R.newValue.oh:null === ca || void 0 === ca?void 0:ca.oh;ja.oldtrack=T.NXa?T.NXa.oh:{};ja.switchDelay=n.nk(T.getTime() - T.aHb);T.UF(ja,T.j.Uf.value && T.j.Uf.value.stream,T.j.Rg.value && T.j.Rg.value.stream);T.te(B.xf.hWb,!1,F.kj | F.Th,ja);}};this.gp=function(R){T.te(B.xf.Fnb,!1,F.kj | F.Th,R.newValue);};this.Vob=function(R,ca){var ja,Pa;ja=ca.serverid;Pa={locid:ca.location,loclv:ca.locationlv,selocaid:ja,selcdnid:ja,selocaname:ca.servername};Pa.mediatype=ca.mediatype;Pa.selreason=ca.selreason || "unknown";Pa.seldetail=ca.seldetail;Pa.cdnbwdata=JSON.stringify([{id:ja}]);R && (Pa.oldlocid=R.gna,Pa.oldloclv=R.dYa,Pa.oldocaid=R.CSb,Pa.oldocaname=R.gH);T.te(B.xf.iOa,!1,F.dY,Pa);};this.HQa=function(){var R,ca,ja;if(T.j.Wk)try{R=!1;T.ca % T.config().BS && !T.j.KK && (R=!0,T.HK=T.HK.filter(function(Pa){return !Pa.W;}));if(0 < T.HK.length){ca=T.k2.construct(T.HK,T.j.Wl.ea(q.ma));T.HK=[];ca.erroronly=R;ja={};n.de(ca,function(Pa,wa){ja[Pa]=JSON.stringify(wa);});T.te(B.xf.kvb,!1,F.Th,ja);}}catch(Pa){T.log.error("Exception in dlreport.",Pa);}};this.HT=function(){var R;R=T.j.bc.value;return R === y.Db.Hc?"playing":R === y.Db.$h?"paused":R === y.Db.hu?"ended":"waiting";};this.J5=function(){var R,ca,ja;if(T.j.state.value == y.Kb.$d){ja=T.T0a();T.config().mra && (ja.avtp=T.xH.Qs().tta,(null === (R=T.j.Pa) || void 0 === R?0:R.LA) && T.k4(ja));ja.mediabuffered=null === (ca=T.j.Bg) || void 0 === ca?void 0:ca.f3();ja.midplayseq=T.NJb++;ja.prstate=T.HT();ja.paustate=T.j.paused.value;T.config().ASb && T.l5a("midplay");T.config().Sv && T.Qla(ja);T.Nla(ja);T.Ola(ja);T.Pla(ja);T.te(B.xf.J5,!1,F.kj | F.Th | F.lD | F.QP,ja);}};this.l5a=function(R){var ca,ja;ca={};ca.trigger=R;try{ja=T.j.ska();ca.subtitleqoescore=T.j.gq.yCb(ja);ca.metrics=JSON.stringify(T.j.gq.Nka(ja));}catch(Pa){T.log.error("error getting subtitle qoe data",Pa);}T.te(B.xf.rVb,!1,F.kj | F.lD | F.DI,ca,"info");};this.transition=function(R){T.$B(T.j,R);T.te(B.xf.transition,!1,0,R);};this.nIa=/-?l(\d\d)/i;this.sia=function(R){var ca,ja,Pa,wa,Ua,Va,cb,Ya;ja=T.T0a();T.Z2(ja,"endplay");T.sR(ja);ja.prstate=T.HT();ja.paustate=T.j.paused.value;ja.muted=T.j.muted.value;T.j.Pz && "downloaded" === T.j.Pz.F3() && (ja.trickplay_ms=T.j.oX.offset,ja.trickplay_res=T.j.oX.J2a);T.config().m7a && (ja.rtinfo=T.j.dCb());T.config().mra && (null === (ca=T.j.Pa) || void 0 === ca?0:ca.LA) && T.k4(ja);T.dWa(ja);ja.endreason=R?"error":T.j.bc.value === y.Db.hu?"ended":"stopped";ca=T.Op;T.zEb(ca);ca && n.Tb(ja,ca,{prefix:"pi_"});ca=T.j.al;R && ca && p.Gya(ca.errorCode) && (Pa="info");try{n.Tb(ja,T.j.cd,{prefix:"sm_"});}catch(Ra){}T.j.Jla && (ja.inactivityTime=T.j.Jla);T.Kla(ja,"info" !== Pa && R);T.fWa(ja);if(T.j.Vnb){ca=T.j.Vnb;wa=T.config().gK;Ua=T.j.loadTime;Va={iv:wa,seg:[]};cb=function(Ra,ya,Ia){return 0 === ya || void 0 === Ia[ya - 1]?Ra:Ra - Ia[ya - 1];};Ya=ca.CR.map(cb);cb=ca.BX.map(cb);for(var kb,$a=0;$a < Ya.length;$a++){if(Ya[$a] || cb[$a])kb?(kb.ams.push(Ya[$a]),kb.vms.push(cb[$a])):kb={ams:[ca.CR[$a]],vms:[ca.BX[$a]],soffms:ca.startTime + $a * wa - Ua};$a !== Ya.length - 1 && Ya[$a] && cb[$a] || !kb || (Va.seg.push(kb),kb=void 0);}ja.bt=JSON.stringify(Va);}R && T.eWa(ja);T.l5a("endplay");T.config().Sv && T.Qla(ja);T.Rla(ja);T.cWa(T.j,ja);T.Mla(T.j,ja);T.VF(T.j,ja);T.$B(T.j,ja,T.Gea);T.Nla(ja);T.Ola(ja);T.Pla(ja);T.gWa(ja);T.AEb(ja);T.bWa(ja);T.CEb(ja);T.BEb(ja);T.FEb(ja);T.hWa(ja);T.te(B.xf.sia,R,F.kj | F.DI | F.Th | F.lD | F.QP | F.v$,ja,Pa);};this.rvb=function(R){T.HK.push(T.k2.Jqb(R.response));};this.Yha=function(R){var ca,ja,Pa,wa,Ua,Va;R=R.response;ca=R.request;ja=R.request.dz;Pa=ca.track;if(Pa){wa=!R.W && R.oa != p.L.lA;Ua=Pa.type;Va=R.Rl;if(wa || T.bn.lna){ja={dltype:Ua,url1:ca.url,url2:R.url || "",cdnid:ca.pc && ca.pc.id,tresp:n.nk(Va.Ph - Va.Wp),brecv:n.ISa(Va.Tga),trecv:n.nk(Va.lo - Va.Ph),sbr:ja && ja.bitrate};R.pr && (ja.range=R.pr);switch(Ua){case g.Yh.audio:ja.adlid=ca.stream.Dd;break;case g.Yh.video:ja.vdlid=ca.stream.Dd;break;case g.Yh.w8:ja.ttdlid=Pa.Dd;}(ca=D.nka(R.oa)) && (ja.nwerr=ca);R.mk && (ja.httperr=R.mk);T.te(B.xf.Yha,wa,F.Th,ja);}}};this.El=function(){var R;R={};T.sR(R);T.te(B.xf.Gnb,!1,F.kj | F.lD,R);};this.Ypb=function(R){var ca,ja;ca=R.response.Rl;R=q.xc(ca.Ph);ja=q.xc(ca.lo);ca=u.da(ca.Tga || 0);ca.pXa() || ca.oma() || (R=new w.uba(R,ja),T.xH.glb(new v.Mxa(R,ca)));};this.z0a=function(R){var ca;ca=R.newValue;R.dv && R.dv.Joa && ca || ca == T.Kma || (T.HUb(T.Kma,ca),T.Kma=ca);};this.Kx=function(R){function ca(ja){var Pa;if(T.j.Lb && T.j.Lb.sourceBuffers){Pa=T.j.Lb.sourceBuffers.filter(function(wa){return wa.type === ja;}).pop();if(Pa)return {busy:Pa.li(),updating:Pa.updating(),ranges:Pa.g3()};}}R={cause:R.cause};R.cause && R.cause === l.Zaa && (R.mediaTime=T.j.mediaTime.value,R.buf_audio=ca(k.$Y),R.buf_video=ca(k.yI));T.ama(T.dX[y.Db.Hc] || 0,T.dX[y.Db.$h] || 0,R);};this.g6a=function(R){var ca;R=R.oldValue;ca=T.getTime();R === y.Db.Gg?T.dX=[]:T.dX[R]=(T.dX[R] || 0) + (ca - T.WGb);T.WGb=ca;};this.SE=function(R){T.SGb=T.getTime();T.d5=R.oldValue;};this.Nz=function(R){T.aHb=T.getTime();T.NXa=R.oldValue;};this.dNa=function(R){T.RGb=R.oldValue;};this.Sy=function(R){function ca(ja,Pa){var wa;if(!ja || ja.gna !== Pa.location){wa={gna:Pa.location,dYa:Pa.locationlv,CSb:Pa.serverid,gH:Pa.servername};T.Vob(ja,Pa);return wa;}}if("audio" === R.mediatype){if(R=ca(T.QGb,R))T.QGb=R;}else if(R=ca(T.oU,R))T.oU=R;};this.xW=function(R){var ca,ja;ca=R.mediatype;ja=R.reason;"video" === ca?"serverswitchaway" === ja?(T.dj.summary.G7a++,T.dj.g5=T.wa.Ye.ea(q.ma)):"serverswitchback" === ja && (T.dj.summary.H7a++,T.dj.g5 && (T.dj.summary.I7a.push(T.wa.Ye.ea(q.ma) - T.dj.g5),T.dj.g5=void 0)):"audio" === ca && ("serverswitchaway" === ja?(T.dj.summary.TMa++,T.dj.b5=T.wa.Ye.ea(q.ma)):"serverswitchback" === ja && (T.dj.summary.UMa++,T.dj.b5 && (T.dj.summary.VMa.push(T.wa.Ye.ea(q.ma) - T.dj.b5),T.dj.b5=void 0)));T.te(B.xf.ESb,!1,F.kj | F.Th,{mediatype:R.mediatype,server:R.server,selreason:R.reason,location:R.location,bitrate:R.bitrate,confidence:R.confidence,throughput:R.throughput,oldserver:R.oldserver});};this.$J=function(R){T.te(B.xf.tmb,!1,F.Th,{strmsel:R.strmsel});};this.NN=function(R){R=t.yN(R);R.details && (R.details=JSON.stringify(R.details));T.te(B.xf.qVb,!0,F.kj | F.DI | F.dY,R);};this.Gea=ua.qua || ua.T8 || ua.GSa;this.xH=J();this.log=h.jh(C,"LogblobBuilder");this.Kma=C.paused.value;this.ca=this.bn.ca;this.dj={summary:{G7a:0,H7a:0,I7a:[],TMa:0,UMa:0,VMa:[]},g5:void 0,b5:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.pBa=void 0;f=a(53);k=a(12);l=a(63);d=a(47);g=a(81);h=a(7);m=a(21);n=a(24);q=a(4);p=a(3);t=a(29);u=a(49);w=a(446);v=a(1028);x=a(11);y=a(17);z=a(18);A=a(1029);B=a(452);D=a(183);E=a(127);c.prototype.iWa=function(C,G){var J,K,H,L,P,I,O,N,M,Q,S,fa,qa,xa,ua,X,sa;if(this.config().Sv)try{J={};K=this.qd.getStats(void 0,void 0,C.K);H=C.a3();L=K.wH.hqb || [];J.attempts=K.V6 || 0;J.num_completed_tasks=L.length;P=this.we.Ixb;I={};O=E.$j.ON;N=E.$j.Is;M=E.$j.$fa;K.el && (I.scheduled=K.el - H);Q=C.sa;Q && z.ya(Q.UG) && (I.preauthsent=Q.UG - C.loadTime,I.preauthreceived=Q.cN - C.loadTime);S=L.filter(function(T){return "manifest" === T.type;});J.mf_succ=S.filter(P("status",O)).length;J.mf_fail=S.filter(P("status",N)).length;fa=C.cd;z.Kc(fa.lg) && 0 > fa.lg && C.loadTime && (I.ldlsent=fa.lc,I.ldlreceived=fa.lr);qa=L.filter(function(T){return "ldl" === T.type;});J.ldl_succ=qa.filter(P("status",O)).length;J.ldl_fail=qa.filter(P("status",N)).length;K=!0;H=[];"notcached" === C.YE && (K=!1,H.push("Missing cached manifest"));this.config().OS || (K=!1,H.push("LDL prefetch disabled"));xa=qa.filter(P("status",M)).length;this.config().OS && 0 === xa && (!I.ldlreceived || 0 <= I.ldlreceived) && (K=!1,H.push("LDL received after start"));if(this.config().wRa)if(G.isPrefetchItem){ua=G.prefetchedAudioMs / G.bcABufferLevelMs;if(1 > G.prefetchedVideoMs / G.bcVBufferLevelMs || 1 > ua)(K=!1,H.push("Insufficient media fetched"));}else (K=!1,H.push("aseStats not initialized"));X=L.filter(function(T){return "getHeaders" === T.type;});J.header_succ=X.filter(P("status",O)).length;J.header_fail=X.filter(P("status",N)).length;sa=L.filter(function(T){return "getMedia" === T.type;});J.media_succ=sa.filter(P("status",O)).length;J.media_fail=sa.filter(P("status",N)).length;J.hm_succ=J.header_succ + J.media_succ;J.hm_fail=J.header_fail + J.media_fail;n.Tb(G,J,{prefix:"pr_"});this.Vq.PS && (G.eventlist_version=1,G.eventlist=this.mG.FUa(C));(G.prefetchCompleted=K) || (G.prefetchFailed=H,n.Tb(G,I,{prefix:"pe_"}));this.Qla(G);}catch(T){this.log.warn("error in collecting video prepare data",T);}};c.prototype.jCb=function(C,G){if(C=C.qT())if(G=C[G])return G.jc;};c.prototype.cWa=function(C,G){C.ib.fl && (G.isBranching=!0);};c.prototype.Mla=function(C,G){var J,K;K=(null === (J=C.sa) || void 0 === J?void 0:J.UWa) || "videopreparer" === C.XE;G.cachedManifest=C.YE;G.cachedLicense=C.XE;G.usedldl=this.config().OS?K.toString():"not_capable";};c.prototype.VF=function(C,G){var J,K;if(this.config().EEb){J=C.tka();K=C.ga.sa;J && K && (G.segment=J,K=C.NB(),G.segmenttime=K,C=this.jCb(C,J),null !== K && void 0 !== C && (G.segmentoffset=K - C));}};c.prototype.$B=function(C,G,J){G.pxid=C.R6;(void 0 === J?0:J) && (G.playgraph_trace=C.b1a);};c.prototype.fWa=function(C){var G,J;G=this.j.j6b;J=G && G.l8b;G && G.iEb && (C.htwbr=G.iEb,C.pbtwbr=G.Apa,C.hptwbr=G.l6b);G && G.MRb && (C.rr=G.MRb,C.ra=G.h8b);G && J && 0 < (J.length || 0) && (C.qe=JSON.stringify(J));};c.prototype.Rla=function(C){var G,J,K,H,L;G=this;J=this.j.Sh && this.j.Sh.value && this.j.Sh.value.streams;if(J){K=new Set();H=new Set();L=new Set();J.forEach(function(P){P=P.Jg;K.add(P);H.add(P.replace(G.nIa,""));(P=P.match(G.nIa)) && 0 < P.length && L.add(P[1]);});C.videoProfiles=[].concat(da(K));C.videoProfile=0 === H.size?"none":[].concat(da(H))[0];C.videoProfileLevels=[].concat(da(L));}};c.prototype.eWa=function(C){var G,J,K;try{G=this.we.createElement("canvas");J=G.getContext("webgl") || G.getContext("experimental-webgl");if(J){K=J.getExtension("WEBGL_debug_renderer_info");K && (C.WebGLRenderer=J.getParameter(K.UNMASKED_RENDERER_WEBGL),C.WebGLVendor=J.getParameter(K.UNMASKED_VENDOR_WEBGL));}}catch(H){}};c.prototype.FEb=function(C){C.switchAwaySummary={vsa:this.dj.summary.G7a,vsb:this.dj.summary.H7a,vsbt:this.dj.summary.I7a,asa:this.dj.summary.TMa,asb:this.dj.summary.UMa,asbt:this.dj.summary.VMa};};c.prototype.Wgb=function(C){var G;G=[];return C?Object.keys(C).map(function(J){return +J;}):G;};c.prototype.Cvb=function(){var C,G;C=this;if(this.j.wo && this.j.fp){G=[];this.j.wo.concat(this.j.fp).forEach(function(J){J.streams.forEach(function(K){G.push({dlid:K.Dd,type:K.type,bitrate:K.bitrate,vmaf:K.wb,cdn_ids:C.Wgb(K.fy)});});});return JSON.stringify(G);}};c.prototype.Uob=function(){var G,J,K;function C(H,L){var P,I,O;P=H.cdnId;I=K[P];O=H.vmaf;I || (I={cdnid:P,dls:[]},K[P]=I,J.push(I));m.AK(H.bitrate);m.AK(H.duration);P={bitrate:H.bitrate,tm:x.Bi(H.duration)};O && (m.AK(H.vmaf),P.vf=O);P[L]=n.se(H.downloadableId);I.dls.push(P);}G=this.j.ho.lzb();J=[];K={};G.audio.forEach(function(H){C(H,"adlid");});G.video.forEach(function(H){C(H,"dlid");});return JSON.stringify(J);};c.prototype.T0a=function(){var C,G,J,K,H,L,P,I,O,N,M,Q,S;C=this.j.ho;G={totaltime:n.qy(C.LT()),totalcontenttime:n.qy(C.kVa()),cdndldist:this.Uob(),reposcount:this.y2a,intrplaycount:this.z4};try{J={numskip:0,numlowqual:0};K=this.j.Bg;H=K.JB();z.ya(H) && (G.totfr=H,J.numren=H);H=K.DF();z.ya(H) && (G.totdfr=H,J.numrendrop=H);H=K.sT();z.ya(H) && (G.totcfr=H,J.numrenerr=H);H=K.o3();z.ya(H) && (G.totfdl=H);G.playqualvideo=JSON.stringify(J);L=this.j.ng.value;L && (G.videofr=L.framerate.toFixed(3));P=C.ZSa();P && (G.abrdel=P);I=C.IDb() && C.rzb();I && (G.tw_vmaf=I);O=C.qzb();O && n.Tb(G,O);G.rbfrs=this.z4;G.maxbitrate=this.maxBitrate;G.maxresheight=this.dZa;N=this.j.NF();for(C=0;C < N.length;C++){M=N[C];Q=this.bn.cM.Tt(M);if(Q){m.hb(S);G.maxbitrate=S?S.bitrate:0;G.maxresheight=S?S.height:0;G.bitratefilters=Q.join("|");break;}S=M;}this.j.Pz && (G.trickplay=this.j.Pz.F3());null !== this.j.gq.qNa && (G.avg_subt_delay=this.j.gq.qNa);}catch(fa){this.log.error("Exception reading some of the endplay fields",fa);}n.Tb(G,this.j.L3(),{prefix:"vd_"});return G;};c.prototype.getTime=function(){return this.Ha.Wb().ea(q.ma);};c.prototype.Qla=function(C){var G;try{G=this.qd.getStats();C.pr_cache_size=JSON.stringify(G.cache);C.pr_stats=JSON.stringify(G.Qyb);}catch(J){}};c.prototype.Nla=function(C){this.log.debug("httpstats",this.Ef.Ad);n.Tb(C,this.Ef.Ad,{prefix:"http_"});};c.prototype.Kla=function(C,G){var J,K,H;J=this.config().dQa && !(this.ca % this.config().dQa);K=this.j.Pa;H=null === K || void 0 === K?void 0:K.Bh;J && H && (C.ASEstats=JSON.stringify(K.y4(G)));};c.prototype.k4=function(C){Object.assign(C,this.j.Pa.Hb.ECb());};c.prototype.Ola=function(C){var G;try{G=x.ru.memory;z.mXa(G) && (C.totalJSHeapSize=G.totalJSHeapSize,C.usedJSHeapSize=G.usedJSHeapSize,C.jsHeapSizeLimit=G.jsHeapSizeLimit);}catch(J){}};c.prototype.Pla=function(C){var G,J,K,H,L;if(this.config().uwb){L=null === (G=null === x.Te || void 0 === x.Te?void 0:x.Te.connection) || void 0 === G?void 0:G.effectiveType;G=null === x.Te || void 0 === x.Te?void 0:x.Te.deviceMemory;L && (C.effectiveType=L);G && (C.deviceMemory=G);}(L=null === (J=null === x.Te || void 0 === x.Te?void 0:x.Te.connection) || void 0 === J?void 0:J.type) && (C.connectionType=L);J=null === (K=null === x.Te || void 0 === x.Te?void 0:x.Te.connection) || void 0 === K?void 0:K.downlink;"number" === typeof J && isFinite(J) && (C.downlink=J);K=null === (H=null === x.Te || void 0 === x.Te?void 0:x.Te.connection) || void 0 === H?void 0:H.rtt;"number" === typeof K && isFinite(K) && (C.rtt=K);};c.prototype.gWa=function(C){var G;G=this.j.Xe;this.config().Qob && G && !this.config().Kr && (G=this.j.KKb(G.R5b()),C.keystatuses=G,this.log.trace("keystatuses",G));};c.prototype.bWa=function(C){var G;try{if(this.config().VR){G=this.j.xzb();C.battery=G;this.log.trace("batterystatuses",G);}}catch(J){}};c.prototype.AEb=function(C){this.j.Y1 && (C.dqec=this.j.Y1);};c.prototype.zEb=function(C){this.j.t1 && n.Tb(C,{cast_interaction_counts:this.j.t1.$5b()});};c.prototype.jWa=function(C){var G;G=this.j.ib.no;G && (G.isUIAutoPlay && (C.isUIAutoPlay=!0),G.clLogId && (C.cl_log_id=G.clLogId));};c.prototype.hWa=function(C){var G,J,K;if(null === (G=this.j.Xe) || void 0 === G?0:G.Ns)C.keysys=this.j.Xe.Ns();else if(null === (K=null === (J=this.j.Xe) || void 0 === J?void 0:J.mediaKeys) || void 0 === K?0:K.keySystem)C.keysys=this.j.Xe.mediaKeys.keySystem;};c.prototype.BEb=function(C){this.Iia && (C.externaldisplay=this.Iia.XS);};c.prototype.CEb=function(C){this.bD && this.bD.Yb && (C.media_capabilities_smooth=this.bD.Yb.smooth,C.media_capabilities_efficient=this.bD.Yb.powerEfficient,C.media_capabilities_bitrate=this.bD.Yb.bitrate,C.media_capabilities_height=this.bD.Yb.height,C.media_capabilities_width=this.bD.Yb.width);};c.prototype.UF=function(C,G,J){J && (C.adlid=J.Dd,C.abitrate=J.bitrate);G && (C.vdlid=G.Dd,C.vbitrate=G.bitrate);};c.prototype.dWa=function(C){var G,J;if(this.j.pK){G=this.j.pK;G.J1 && (C.controllerESN=G.J1);G.Gqb && (C.controllerUiVer=G.Gqb);if(G.Fqb)try{J=JSON.parse(G.Fqb);C.controllerGroupNames=J;}catch(K){this.log.error("Exception parsing controller group names",K);}}};c.prototype.JGb=function(){void 0 === this.Iia && (this.Iia=this.Jia.Axb());};c.prototype.KGb=function(C){void 0 === this.bD && void 0 !== C && (this.bD=this.Yna.Oia(C));};c.prototype.Z2=function(C,G){(G=this.j.wy(G)) && Object.entries(G).forEach(function(J){var K;K=aa(J);J=K.next().value;K=K.next().value;C[J]=K;});};c.prototype.sR=function(C){var G,J;C.browserua=x.vA;C.browseruad=null === (J=null === (G=x.Te.userAgentData) || void 0 === G?void 0:G.brands) || void 0 === J?void 0:J.map(function(K){return [K.brand,K.version];});C.browserhref=location.href;};c.prototype.te=function(C,G,J,K,H){this.flb(K,this.j,G,J);C=this.yU.bv(C,H || (G?"error":"info"),K,this.bn);this.Ij.te(C);};c.prototype.flb=function(C,G,J,K){var H,L,P,I,O,N,M,Q,S,fa;"undefined" !== typeof nrdp && nrdp.device && nrdp.device.deviceModel && (C.devmod=nrdp.device.deviceModel);G.Dj && (C.pbcid=G.Dj);G.Vi && (C.playbackcontextid=G.Vi);K & F.kj && (m.hb(!C || void 0 === C.moff),0 <= G.mediaTime.value && (C.moff=n.qy(G.mediaTime.value),C.moffms=n.nk(G.mediaTime.value)));if(K & F.DI){N=G.pc[f.Pb.Ra.Eb].value;M=G.pc[f.Pb.Ra.Sb].value;Q=G.Rg.value;S=G.Uf.value;N && (C.cdnid=N.id,C.cdnname=N.name);M && (C.acdnid=M.id,C.acdnname=M.name);if(null === Q || void 0 === Q?0:Q.stream)(C.adlid=Q.stream.Dd,C.abitrate=Q.stream.bitrate);if(null === S || void 0 === S?0:S.stream)(C.vdlid=S.stream.Dd,C.vbitrate=S.stream.bitrate,C.vheight=S.stream.height,C.vwidth=S.stream.width);}K & F.Th && (null === (H=G.Pa) || void 0 === H?0:H.Bh) && (C.abuflbytes=null !== (L=C.abuflbytes) && void 0 !== L?L:G.gfa(),C.abuflmsec=null !== (P=C.abuflmsec) && void 0 !== P?P:G.AR(),C.vbuflbytes=null !== (I=C.vbuflbytes) && void 0 !== I?I:G.vua(),C.vbuflmsec=null !== (O=C.vbuflmsec) && void 0 !== O?O:G.yX());if(K & F.QP){Object.assign(C,D.Dka());try{fa=G.jg.getBoundingClientRect();C.rendersize=fa.width + "x" + fa.height;C.renderpos=fa.left + "x" + fa.top;}catch(qa){}}K & F.lD && (H=x.Te.hardwareConcurrency,0 <= H && (C.numcores=H),H=this.bn.hia) && (L=H.szb(),C.droppedFrames=JSON.stringify(L),H=H.FT(this.config().Mvb),n.de(H,function(qa,xa){C["droppedFramesP" + qa]=JSON.stringify(xa);}));if(K & F.dY)try{G.Wk && (C.cdninfo=JSON.stringify(G.Wk.map(function(qa){return {id:qa.id,nm:qa.name,rk:qa.Se,wt:qa.location.weight,lv:qa.location.level};})));}catch(qa){}J && K & F.v$ && (m.hb(G.al),(J=G.al)?C=Object.assign(C,D.rka(this.platform.rp,J)):C.errorcode=p.M.km,C.errorcode === this.platform.rp + p.M.sDa && (C.lastSyncWithVideoElement=this.getTime() - G.XW));};b.pBa=c;(function(C){C[C.kj=1]="MOFF";C[C.DI=2]="PRESENTEDSTREAMS";C[C.Th=4]="BUFFER";C[C.QP=8]="SCREEN";C[C.lD=16]="CPU";C[C.dY=32]="CDN";C[C.v$=64]="FATALERROR";})(F || (F={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oxa="DownloadReportBuilderSymbol";},function(r,b,a){var f,k,l,d,g,h,m,n,q;function c(p){this.config=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Nxa=void 0;r=a(1);f=a(183);k=a(81);l=a(24);d=a(3);g=a(21);h=a(11);m=a(18);n=a(0);a=a(14);c.prototype.construct=function(p,t){var u,w,v;u=this;w={};p.forEach(function(x){var y;y=x.url;w[y] || (w[y]=[]);w[y].push(x);});v=[];l.de(w,function(x,y){v.push(u.OCb(y,t));});return {urls:v};};c.prototype.OCb=function(p,t){var u,w,v,x;u=this;w=p[0];v={url:w.url,bitrate:w.bitrate,cdnid:m.kh(w.pc)?w.pc.id:w.pc,dltype:w.mvb,id:w.Dd};x={};p.forEach(function(y){var z;z=u.GFb(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});l.de(x,function(y,z){"fail" === y?v.failures=u.uAb(z,t):"success" === y && (v.downloads=u.jAb(z,t));});return v;};c.prototype.jAb=function(p,t){var u,w,v;u=this;w={};p.forEach(function(x){var y;y=x.Qpb;w[y] || (w[y]=[]);w[y].push(x);});v=[];l.de(w,function(x,y){var z;z=[];y.forEach(function(A){z.push(A);u.nFb(A) && (v.push(u.ATa(z,t,x)),z=[]);});0 < z.length && v.push(u.ATa(z,t,x));});return v;};c.prototype.ATa=function(p,t,u){var w,v,x,y,A;w=p.sort(function(B,D){return B.Rl.Ph < D.Rl.Ph?-1:B.Rl.Ph > D.Rl.Ph?1:0;});v=w[0].Rl;x=v.Wp;y=v.Ph;v=v.lo;for(var z=1;z < p.length;z++){A=p[z].Rl;A.Wp < x && (x=A.Wp);A.Ph < y && (y=A.Ph);A.lo > v && (v=A.lo);}z=this.VBb(w);A=w[w.length - 1];return {time:x - t,tcpid:u?parseInt(u):-1,tresp:y - x,first:z,ranges:this.WBb(w,z),dur:v - y,trace:this.OB(p),status:this.F3(A)};};c.prototype.VBb=function(p){var t;t=0;p.forEach(function(u){u.pr && (t=h.Bo(t,u.pr[0]));});return t;};c.prototype.WBb=function(p,t){var u;u=[];p.forEach(function(w){w.pr?u.push([w.pr[0] - t,w.pr[1] - t]):u.push([0,-1]);});return u;};c.prototype.OB=function(p){var t,u;t=[];p.forEach(function(w){var v;w=w.Rl;if(u){v=w.Wp - u.lo;0 < v && t.push([v,-2]);v=h.qn(u.lo,w.Wp);v=w.Ph - v;0 < v && t.push([v,-3]);}t.push([w.lo - w.Ph,w.Tga || 0]);u=w;});return t;};c.prototype.nFb=function(p){if(p.oa === d.L.lA || p.oa === d.L.sD)return !0;};c.prototype.F3=function(p){if(p.W)return "complete";if(p.oa === d.L.lA)return "abort";if(p.oa === d.L.sD)return "stall";g.hb(!1,"download status should never be: other");return "other";};c.prototype.uAb=function(p,t){var u,w;u=this;w=[];p.forEach(function(v){var x;x=v.Rl;v={time:x.Ph - t,tresp:x.Ph - x.Wp,dur:x.lo - x.Ph,range:v.pr,reason:u.YBb(v),httpcode:v.mk,nwerr:f.nka(v.oa)};w.push(v);});return w;};c.prototype.YBb=function(p){return p.mk || p.oa === d.L.iP?"http":p.oa === d.L.kP?"timeout":"network";};c.prototype.GFb=function(p){return p.W || void 0 === p.W || p.oa === d.L.lA || p.oa === d.L.sD?!1:!0;};c.prototype.Jqb=function(p){var t,u,w,v,x,y;t=p.request;u=t.stream;w=t.track;v=t.url;x=this.gAb(w,v);switch(x){case k.Yh.audio:case k.Yh.video:y=t.stream.Dd;break;case k.Yh.w8:case k.Yh.Lta:y=w.Dd;}p={bitrate:u && u.bitrate,mvb:x,Dd:y,Rl:p.Rl,pc:t.pc,url:v,Ze:p.Ze,mk:p.mk,oa:p.oa,W:p.W,Qpb:this.nxb(p)};void 0 !== t.offset && void 0 != t.length && (p.pr=[t.offset,t.offset + t.length - 1]);return p;};c.prototype.gAb=function(p,t){if(p)return p.type;if(0 <= t.indexOf("netflix.com")){if(0 <= t.indexOf("nccp"))return "nccp";if(0 <= t.indexOf("api"))return "api";}return "other";};c.prototype.nxb=function(p){if(p.headers && (p=p.headers["X-TCP-Info"] || p.headers["x-tcp-info"]))return (p=p.split(";").filter(function(t){return 0 == t.indexOf("port=");}).map(function(t){return t.split("=")[1];})[0])?l.se(p):p;};q=c;q=r.__decorate([n.R(),r.__param(0,n.l(a.Zc))],q);b.Nxa=q;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sBa="LogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BIa="XhrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WCa="NetworkMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aza="FtlDataParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nza="HttpRequesterSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FDa="PboAcquireLicenseCommandSymbol";},function(r,b,a){var d,g,h,m,n,q;function c(p){var t;p=new h.IO(p);if(1481462272 != p.Up())throw Error("Invalid header");t={XMR:{Version:p.Up(),RightsID:p.Yv(16)}};f(p,t.XMR,p.buffer.length);return t;}function f(p,t,u){var w,v,x,y,z;for(;p.position < u;){w=p.Sg();v=p.Up();v-=8;switch(w){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:k(w)};z=t[x];z?q.isArray(z)?z.push(y):(t[x]=[],t[x].push(z),t[x].push(y)):t[x]=y;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:f(p,y,p.position + v);break;case 5:y.Reserved1=p.Sg();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=p.Sg();y.MinimumAnalogVideoOutputProtectionLevel=p.Sg();y.Reserved2=p.Sg();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=p.Sg();break;case 10:y.Reserved=p.Yv(16);y.SymmetricCipherType=p.Sg();y.AsymmetricCipherType=p.Sg();v=p.Sg();y.EncryptedKeyLength=v;w=p.Yv(v);y.EncryptedKeyData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:y.SignatureType=p.Yv(2);v=p.Sg();w=p.Yv(v);y.SignatureData=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:y.Reserved=p.Sg();break;case 18:y.BeginDate=p.Up();y.EndDate=p.Up();break;case 42:y.CurveType=p.Yv(2);v=p.Sg();w=p.Yv(v);y.Key=10 >= v?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:y.ExpireAfterFirstPlay=p.Up();break;case 50:y.Sequence=p.Up();break;case 51:y.LicenseProcessingIndicator=p.Sg();break;case 52:y.MinimumSecurityLevel=p.Sg();break;case 57:y.PlayEnablerType=l(p.Yv(16));break;case 85:break;default:y.OtherData=p.Yv(v);}}}function k(p){return "0x" + p.toString(16);}function l(p){return p.substring(6,8) + p.substring(4,6) + p.substring(2,4) + p.substring(0,2) + "-" + p.substring(10,12) + p.substring(8,10) + "-" + p.substring(14,16) + p.substring(12,14) + "-" + p.substring(16,20) + "-" + p.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.Ytb=b.Ztb=b.Xtb=b.Wtb=b.Vtb=void 0;d=a(12);g=a(7);h=a(162);m=a(152);n=a(260);q=a(18);b.Vtb=function(p,t,u){switch(t){case d.AY:p && (p=g.sNa(p),n.Kua(p,function(w){w.W && (w=w.object) && (w=m.yTa(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=m.v0a(w)) && (w=g.Kq(w)) && (w=c(w)) && u(w);}));}};b.Wtb=c;b.Xtb=f;b.Ztb=k;b.Ytb=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sEa="PboReleaseLicenseCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UDa="PboLicenseRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KDa="PboCachedPlaydataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XEa="PlaydataConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Paa={mU:"keepAlive",splice:"splice"};b.QDa="PboEventSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lEa="PboPlaydataPlaybackMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aya="DxDisplaySymbol";},function(r,b,a){var f,k,l,d,g;function c(h,m,n){this.Rd=h;this.is=m;this.prefix=n;this.LV=this.isVisible=!1;this.uc=new d.QHa(m);}Object.defineProperty(b,"__esModule",{value:!0});b.WP=b.$H=b.ywa=b.xwa=b.wwa=void 0;r=a(1);f=a(0);k=a(28);l=a(26);d=a(1058);g=a(11);b.wwa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.xwa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.ywa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.$H="";c.prototype.show=function(){this.isVisible || (this.wqb(),this.qK && g.He.body.appendChild(this.qK),this.jg && g.He.body.appendChild(this.jg),this.MR && g.He.body.appendChild(this.MR),this.tH && g.He.getElementsByTagName("head")[0].appendChild(this.tH),this.isVisible=!0,this.refresh());};c.prototype.Yq=function(){this.isVisible && (this.jg && g.He.body.removeChild(this.jg),this.MR && g.He.body.removeChild(this.MR),this.qK && g.He.body.removeChild(this.qK),this.tH && g.He.getElementsByTagName("head")[0].removeChild(this.tH),this.tH=this.ZW=this.qK=this.MR=this.jg=void 0,this.isVisible=!1);};c.prototype.toggle=function(){this.isVisible?this.Yq():this.show();};c.prototype.uWb=function(){(this.LV=!this.LV) || this.refresh();};c.prototype.Fzb=function(h){return "table." + h + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}table.' + (h + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}table.") + (h + "-display-table tr:nth-child(2n+3) {background-color: #fff;}table.") + (h + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}table.") + (h + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}table.") + (h + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}span.") + (h + "-display-indexheader {margin-left:5px;}span.") + (h + "-display-indexvalue {margin-left:5px;}span.") + (h + "-display-keyheader {margin-left:5px;}span.") + (h + "-display-keyvalue {margin-left:5px;}span.") + (h + "-display-valueheader {margin-left:5px;}ul.") + (h + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}ul.") + (h + "-display-tree li {list-style-type: none; position: relative;}ul.") + (h + "-display-tree li ul {display: none;}ul.") + (h + "-display-tree li.open > ul {display: block;}ul.") + (h + "-display-tree li a {color: black;text-decoration: none;}ul.") + (h + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}ul.") + (h + "-display-tree li > a:not(:last-child):before {content: '+';}ul.") + (h + "-display-tree li.open > a:not(:last-child):before {content: '-';}div.") + (h + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}button.") + (h + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}select.") + (h + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}ul.") + (h + "-display-item-inline {margin:0;padding:0}.") + (h + "-display-btn:hover, ." + h + "-display-btn:focus, ." + h + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }button.") + (h + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}.") + (h + "-display-btn-inline:hover, ." + h + "-display-btn-inline:focus, ." + h + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};c.prototype.wqb=function(){var h;h=this;this.tH=g.He.createElement("style");this.tH.type="text/css";this.tH.innerHTML=this.Fzb(this.prefix);this.MR=this.Rd.createElement("div",b.wwa,void 0,{"class":this.prefix + "-display-blur"});this.jg=this.Rd.createElement("div",b.xwa,void 0,{"class":this.prefix + "-display"});this.qK=this.Rd.createElement("div",b.ywa,void 0,{"class":this.prefix + "-display"});this.tTa().forEach(function(m){return h.qK.appendChild(m);});};c.prototype.yqb=function(h){h=this.Rd.createElement("div","",h,{"class":this.prefix + "-display-tree1"});for(var m=h.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"),n=0;n < m.length;n++){m[n].addEventListener("click",function(q){var p,t;if(q=q.target.parentElement){p=q.classList;if(p.contains("open")){p.remove("open");try{t=q.querySelectorAll(":scope .open");for(q=0;q < t.length;q++){t[q].classList.remove("open");}}catch(u){}}else p.add("open");}});}return h;};c.prototype.refresh=function(){var h;h=this;return !this.isVisible || this.LV?Promise.resolve():this.i2a().then(function(m){if(m && (m=h.yqb(m),h.jg)){h.ZW && (h.jg.removeChild(h.ZW),h.ZW=void 0);h.ZW=m;h.jg.appendChild(h.ZW);m=h.jg.querySelectorAll("button." + h.prefix + "-display-btn-inline");for(var n=0;n < m.length;++n){m[n].addEventListener("click",h.a3a);}(m=h.jg.querySelector("#" + h.prefix + "-display-close-btn")) && m.addEventListener("click",function(){h.toggle();});}});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.Jf)),r.__param(1,f.l(l.If)),r.__param(2,f.ej())],a);b.WP=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dya="DxManagerSymbol";b.cya="DxManagerProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eBa="LogDisplayConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xIa="WindowUtilsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FEa="PlayPredictionDeserializerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DFa="PreparerManifestFetcherSymbol";b.CFa="PreparerLicenseFetcherSymbol";b.BFa="PreparerLegacyLicenseFetcherSymbol";},function(r,b,a){var f,k,l,d;function c(g){this.Qp=g;}Object.defineProperty(b,"__esModule",{value:!0});b.jba=b.qFa=void 0;r=a(1);f=a(13);k=a(0);l=a(187);d=a(67);c.prototype.JYa=function(g){var h,m;h=this;if(g.je.key.Da)return Promise.resolve(g.je.key.Da);m=g.je.key.aa;return g.je.PH.Ls(m).Lr.then(function(n){n=n.sa;return n.Ln?d.sB(n.Ln,{config:f.config}):d.mH(m,h.Qp.rv(m));});};a=c;a=r.__decorate([k.R(),r.__param(0,k.l(l.vZ))],a);b.qFa=a;b.jba="PlaygraphResolverSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qCa="MediaHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kDa="OpenConnectSideChannelSymbol";b.xCa="MediaRequestDownloaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vCa="MediaRequestConstructorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ODa="PboDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OHa="TransportFactorySymbol";b.PCa="MslTransportSymbol";b.UGa="SslTransportSymbol";},function(r,b,a){var h,m;function c(n){return !(!n || !n.DC && !n.pboc || !n.code && !n.code);}function f(n){return !(!n || !n.kc);}function k(n){return ! !(n instanceof Error);}function l(n){switch(n){case "ACCOUNT_ON_HOLD":return m.L.mdb;case "STREAM_QUOTA_EXCEEDED":return m.L.qdb;case "INSUFFICICENT_MATURITY":return m.L.tdb;case "TITLE_OUT_OF_WINDOW":return m.L.zdb;case "CHOICE_MAP_ERROR":return m.L.pdb;case "BadRequest":return m.L.vdb;case "Invalid_SemVer_Format":return m.L.udb;case "RESTRICTED_TO_TESTERS":return m.L.ydb;case "AGE_VERIFICATION_REQUIRED":return m.L.ndb;case "BLACKLISTED_IP":return m.L.odb;case "DEVICE_EOL_WARNING":return m.L.Daa;case "DEVICE_EOL_FINAL":return m.L.mDa;case "INCORRECT_PIN":return m.L.qDa;case "MOBILE_ONLY":return m.L.xdb;case "MDX_CONTROLLER_CTICKET_INVALID":return m.L.wdb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return m.L.Adb;case "RESET_DEVICE":return m.L.pDa;case "RELOAD_DEVICE":return m.L.oDa;case "EXIT_DEVICE":return m.L.nDa;case "FREE_PREVIEW_ENDED":return m.L.sdb;default:return m.L.gza;}}function d(n,q){var p;p=q.bladeRunnerCode?Number(q.bladeRunnerCode):void 0;return new h.ed(n,l(q.code),"BadRequest" === q.code?m.UY.X8a:void 0,q.code,void 0,q.display,void 0,q.detail,q.display,p,q.alert,q.alertTag);}function g(n,q){return new h.ed(n,q.kc,q.xd,void 0,q.Kv,q.message,q.details,q.data);}Object.defineProperty(b,"__esModule",{value:!0});b.RNa=b.SNa=b.Gyb=b.Kyb=b.Im=b.Jyb=b.EFb=b.xFb=b.ZWa=void 0;h=a(42);m=a(3);b.ZWa=c;b.xFb=f;b.EFb=k;b.Jyb=l;b.Im=function(n,q){return f(q)?g(n,q):c(q)?d(n,q):k(q)?h.ed.uja(n,q):new h.ed(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,q);};b.Kyb=d;b.Gyb=g;b.SNa=function(n,q,p,t,u){var w,v,x,y;w=q.C3a[p];if(void 0 === w)throw {DC:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no configuration information",detail:q};v=w.version;if(void 0 === v)throw {DC:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no version information",detail:q};x=w.service;if(void 0 === x)throw {DC:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no service information",detail:q};y=w.orgOverride;if(void 0 === y && (y=q.organization,void 0 === y))throw {DC:!0,code:"FAIL",display:"Unable to build the URL for " + p + " because there was no organization information",detail:q};return w.isPlayApiDirect?n.JBb(t) + "/" + y + "/" + x + "/" + v:n.zBb(t) + "/" + y + "/" + x + "/" + v + "/" + (void 0 === u?"router":u);};b.RNa=function(n,q){var p;p={"Content-Type":"text/plain"};q=q();n.eMa && q && (p["X-Esn"]=q.ki);return p;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uEa="PboRequestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VHa="TrickPlayManagerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Io=void 0;r=b.Io || (b.Io={});r[r.iZ=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.wD=2]="LOADED";r[r.qP=3]="LOAD_FAILED";r[r.lDa=4]="PARSE_FAILED";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pva="BandwidthMeterFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TEa="PlaybackSegmentDataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OEa="PlaybackInfoPanelFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dGa="RepositionTraceSymbol";b.bGa="RepositionTraceFactorySymbol";},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F,C,G,J,K,H,L,P,I,O,N,M,Q,S,fa,qa,xa,ua,X,sa,T;function c(R,ca,ja,Pa,wa,Ua,Va,cb,Ya,kb,$a,Ra,ya,Ia,Ma,Ta,hb,wb,Eb,Hb,Ob,Cb,Kb,Vb,mc,Dc,Md,re,Nd,fd,pc,dc){var ub,fc;function ec(nb){nb.newValue !== S.Db.Gg && nb.newValue !== S.Db.$h && (ub.bc.removeListener(ec),ub.DL=ub.wa.L7,ub.Qb.qc(S.Z.ut));}function ac(nb){nb.newValue !== S.Db.Gg && (ub.bc.removeListener(ac),ub.U0a=ub.wa.Ye.ea(F.ma),ub.Qb.qc(S.Z.Pp));}ub=this;this.ob=wa;this.Wj=Ua;this.RF=Va;this.Ha=Ya;this.aK=kb;this.wa=$a;this.Fna=Ra;this.Gna=Ma;this.o5=Ta;this.qd=hb;this.Xm=wb;this.yk=Eb;this.dK=Hb;this.Qpa=Ob;this.il=Cb;this.Kta=Kb;this.Ij=Vb;this.we=mc;this.Npa=Dc;this.Vl=Md;this.z2a=re;this.$ea=Nd;this.mG=fd;this.ZJ=pc;this.t1=dc;this.b1a=[];this.jr=new Map();this.Ud=new t.Ac(null);this.Sh=new t.Ac(null);this.Sc=new t.Ac(null);this.Tk=new t.Ac(null);this.Yt=new t.Ac(void 0);this.ng=new t.Ac(null);this.fk=new t.Ac(null);this.mediaTime=new t.Ac(void 0);this.playbackRate=new sa.SEa(1,u.config.Qna);this.Yta=function(nb){return ub.Ud.set(nb.newValue);};this.SXb=function(nb){return ub.Sh.set(nb.newValue);};this.PXb=function(nb){return ub.Sc.set(nb.newValue);};this.sXb=function(nb){return ub.Tk.set(nb.newValue);};this.OXb=function(nb){return ub.Yt.set(nb.newValue);};this.RXb=function(nb){return ub.ng.set(nb.newValue);};this.tXb=function(nb){return ub.fk.set(nb.newValue);};this.GXb=function(nb){return ub.Uf.set(nb.newValue);};this.FXb=function(nb){return ub.Rg.set(nb.newValue);};this.BXb=function(nb){return ub.mediaTime.set(nb.newValue);};this.O8=function(nb){return ub.playbackRate.set(nb.newValue);};this.Jj={};this.Bra=this.Bta=0;this.Qb=new w.Yj();this.AX={};this.S4a=!1;this.state=new t.Ac(S.Kb.AI);this.Rv=new t.Ac(!1);this.paused=new t.Ac(!1);this.muted=new t.Ac(!1);this.volume=new t.Ac(u.config.qub / 100);this.bc=new t.Ac(S.Db.Gg);this.kf=new t.Ac(S.df.Yc);this.Jq=new t.Ac(S.df.Yc);this.am=new t.Ac(S.df.Yc);this.Rg=new t.Ac(null);this.Uf=new t.Ac(null);this.Qfa=new t.Ac(null);this.g4=q.Lza(this);this.pc=[new t.Ac(null),new t.Ac(null)];this.zfa={};this.KK=this.qRa=!1;this.Oa=this.Yi=-1;this.Fka=function(nb,Rb){var hc;nb=void 0 === nb?null:nb;return L.ya(nb)?Rb && !ub.Cp(Rb).sa?nb:(null === (hc=ub.Pa) || void 0 === hc?0:hc.Bh)?ub.Pa.As(nb):nb:null;};this.F_a=function(){ub.Nsa();};this.wK=R;this.addEventListener=this.Qb.addListener;this.removeEventListener=this.Qb.removeListener;this.fireEvent=this.Qb.qc;this.XLa({aa:R,va:Pa,ib:ja || ({})},u.config.Sv?this.qd.PB(R):void 0,ca);this.log=E.jh(this);this.Sha=cb(this);this.qnb=ya(this);this.jg=M.createElement("DIV",p.tba,void 0,{id:this.K});this.QEb();fc=Ia(F.Tg(1));this.Rc=this.log.cha("Playback");this.FNb=d.CEa(this);y.GI.iKb=this;y.GI.eja || (y.GI.eja=this);this.Rc.info("Playback created",this.oh);this.lna?this.Rc.info("Playback selected for trace playback info logging"):this.Rc.trace("Playback not selected for trace playback info logging");u.config.Sv && (this.qd.nDb(this.K),this.addEventListener(S.Z.ut,function(){ub.qd.oDb(ub.K);ub.Sc.addListener(function(){ub.qd.wVa();});ub.Ud.addListener(function(){ub.qd.wVa();});}),this.addEventListener(S.Z.xg,function(){ub.qd.mDb(ub.K);}));this.state.addListener(function(nb){ub.Rc.info("Playback state changed",{From:nb.oldValue,To:nb.newValue});G.hb(nb.newValue > nb.oldValue);});x.mf.addListener(x.Jm,this.F_a,p.oZ);this.mediaTime.addListener(function(){ub.dyb();fc.ql(function(){return ub.vSa();});});this.bc.addListener(function(nb){ub.Rc.info("PresentingState changed",{From:nb.oldValue,To:nb.newValue,MediaTime:J.Zh(ub.mediaTime.value)},ub.kt());});this.bc.addListener(function(){ub.Rv.set(ub.bc.value === S.Db.Hc);});this.kf.addListener(function(nb){ub.Rc.info("BufferingState changed",{From:nb.oldValue,To:nb.newValue,MediaTime:J.Zh(ub.mediaTime.value)},ub.kt());});this.Jq.addListener(function(nb){ub.Rc.info("AV BufferingState changed",{From:nb.oldValue,To:nb.newValue,MediaTime:J.Zh(ub.mediaTime.value)},ub.kt());});this.am.addListener(function(nb){ub.Rc.info("Text BufferingState changed",{From:nb.oldValue,To:nb.newValue,MediaTime:J.Zh(ub.mediaTime.value)},ub.kt());});this.Ud.addListener(function(nb){G.hb(nb.newValue);ub.Rc.info("AudioTrack changed",nb.newValue && ({ToBcp47:nb.newValue.ym,To:nb.newValue.trackId}),nb.oldValue && ({FromBcp47:nb.oldValue.ym,From:nb.oldValue.trackId}),{MediaTime:J.Zh(ub.mediaTime.value)});});this.Sc.addListener(function(nb){ub.Rc.info("TimedTextTrack changed",nb.newValue?{ToBcp47:nb.newValue.ym,To:nb.newValue.trackId}:{To:"none"},nb.oldValue?{FromBcp47:nb.oldValue.ym,From:nb.oldValue.trackId}:{From:"none"},{MediaTime:J.Zh(ub.mediaTime.value)});});this.bc.addListener(ac,p.OD);this.bc.addListener(ec);this.addEventListener(S.Z.ut,function(){ub.S4a=!0;ub.M4a=ub.Vfa();ub.Od("start");ub.s4=ub.Uf.value.stream.bitrate;});D.KEa(this);y.Fo.push(this);u.config.fW && (this.M6=this.Npa(this),this.N6=new A.VEa(this));y.dba.forEach(function(nb){nb(ub);});this.wlb=function(){ub.addEventListener(S.Z.TG,function(nb){var Rb;nb=nb.cause;nb !== S.me.Hw && nb !== S.me.LI && (null === (Rb=ub.Pa) || void 0 === Rb?void 0:Rb.stop());});ub.addEventListener(S.Z.Yl,function(nb){var Rb,hc,Lc,qc,cc,Ec,Mc,uc,rd,sd;ub.z2a.Yl(nb);Lc=nb.cause;qc=nb.skip;cc=nb.g6;Ec=nb.bpa;Mc=nb.K;uc=nb.Cj;ub.ga.ho.VKb(Ec,cc);if(Lc !== S.me.LI && (u.config.myb && Lc === S.me.UP && ub.Pa.m1(),Lc !== S.me.Hw))if(qc){if(null !== (Rb=ub.Pa) && void 0 !== Rb && Rb.gi(cc)){ub.Rc.trace("Repositioned. Skipping from " + Ec + " to " + cc);nb=function(Ub){ub.log.error("streamingSession.skipped threw an exception",Ub);Ub=fa.ed.uja(C.M.j8a,Ub);ub.Rp(Ub.code,Ub);};try{ub.Pa.en(cc).then(function(Ub){var Fc;Ub.GL || (null === (Fc=ub.Pa) || void 0 === Fc?void 0:Fc.play());}).catch(nb);}catch(Ub){nb(Ub);}}else ub.log.error("can skip returned false");}else {ub.Rc.trace("Repositioned. Seeking from " + Ec + " to " + cc);try{rd=ub.ob.B3(ub.ga);sd=Object.keys(rd.xa).find(function(Ub){var Fc;Ub=rd.xa[Ub];return Ub.aa === Mc && Ub.jc <= uc && (null !== (Fc=Ub.Fc) && void 0 !== Fc?Fc:Infinity) > uc;});null === (hc=ub.Pa) || void 0 === hc?void 0:hc.wr(uc,sd);}catch(Ub){ub.log.error("streamingSession.seekByContentPts threw an exception",Ub);cc=fa.ed.uja(C.M.h8a,Ub);ub.Rp(cc.code,cc);}}});};this.playbackRate.addListener(function(){var nb,Rb;if(null === (nb=ub.Pa) || void 0 === nb?0:nb.Bh)null === (Rb=ub.Pa) || void 0 === Rb?void 0:Rb.Ppa();});this.addEventListener(S.Z.Kx,function(nb){var Rb;nb.cause == y.$aa && (ub.kf.set(S.df.Yc),null === (Rb=ub.Pa) || void 0 === Rb?void 0:Rb.Hr(ub.Bg.JTa()));});}Object.defineProperty(b,"__esModule",{value:!0});b.NEa=void 0;f=a(1);k=a(53);l=a(275);d=a(277);g=a(129);h=a(499);m=a(1105);n=a(1106);q=a(502);p=a(12);t=a(105);u=a(13);w=a(73);v=a(503);x=a(64);y=a(63);z=a(100);A=a(505);B=a(1109);D=a(509);E=a(7);F=a(4);C=a(3);G=a(21);J=a(86);K=a(24);H=a(62);L=a(18);P=a(155);I=a(510);O=a(121);N=a(282);M=a(29);Q=a(118);S=a(17);fa=a(42);qa=a(278);xa=a(519);ua=a(142);X=a(1137);sa=a(1138);T=a(67);c.prototype.Od=function(R,ca){var ja;ca=void 0 === ca?this.wK:ca;null === (ja=this.jr.get(ca)) || void 0 === ja?void 0:ja.Od(R);};c.prototype.Dy=function(R){this.ga.Dy(R);};c.prototype.QEb=function(){var R;R=this;this.Ud.addListener(function(ca){return R.ga.Ud.set(ca.newValue);});this.Sh.addListener(function(ca){return R.ga.Sh.set(ca.newValue);});this.Sc.addListener(function(ca){return R.ga.Sc.set(ca.newValue);});this.Tk.addListener(function(ca){return R.ga.Tk.set(ca.newValue);});this.Yt.addListener(function(ca){return R.ga.Yt.set(ca.newValue);});this.ng.addListener(function(ca){return R.ga.ng.set(ca.newValue);});this.fk.addListener(function(ca){return R.ga.fk.set(ca.newValue);});this.Uf.addListener(function(ca){return R.ga.Uf.set(ca.newValue);});this.Rg.addListener(function(ca){return R.ga.Rg.set(ca.newValue);});this.pc[k.Pb.Ra.Sb].addListener(function(ca){return R.ga.pc[k.Pb.Ra.Sb].set(ca.newValue);});this.pc[k.Pb.Ra.Eb].addListener(function(ca){return R.ga.pc[k.Pb.Ra.Eb].set(ca.newValue);});this.mediaTime.addListener(function(ca){return R.ga.mediaTime.set(ca.newValue);});this.playbackRate.addListener(function(ca){return R.ga.playbackRate.set(ca.newValue);});this.Z2a();};c.prototype.Z2a=function(){var R;R=this;this.ga !== this.Yra && (this.ga.mediaTime.set(this.mediaTime.value),this.ga.playbackRate.set(this.playbackRate.value),this.jq(function(ca){return ca.Ud;},this.Yta),this.jq(function(ca){return ca.Sh;},this.SXb),this.jq(function(ca){return ca.Yt;},this.OXb),this.jq(function(ca){return ca.Sc;},this.PXb),this.jq(function(ca){return ca.Tk;},this.sXb),this.jq(function(ca){return ca.ng;},this.RXb),this.jq(function(ca){return ca.fk;},this.tXb),this.jq(function(ca){return ca.Rg;},this.FXb),this.jq(function(ca){return ca.Uf;},this.GXb),this.jq(function(ca){return ca.pc[k.Pb.Ra.Sb];},function(ca){return R.pc[k.Pb.Ra.Sb].set(ca.newValue);}),this.jq(function(ca){return ca.pc[k.Pb.Ra.Eb];},function(ca){return R.pc[k.Pb.Ra.Eb].set(ca.newValue);}),this.jq(function(ca){return ca.mediaTime;},this.BXb),this.jq(function(ca){return ca.playbackRate;},this.O8),this.Sc.set(this.ga.Sc.value),this.Ud.set(this.ga.Ud.value,{tMa:!0}),this.Sh.set(this.ga.Sh.value),this.Tk.set(this.ga.Tk.value),this.Yt.set(this.ga.Yt.value),this.ng.set(this.ga.ng.value),this.fk.set(this.ga.fk.value),this.Yra=this.ga);};c.prototype.jq=function(R,ca){this.Yra && R(this.Yra).removeListener(ca);R(this.ga).addListener(ca);};c.prototype.load=function(R){var ca,ja;ca=this;this.load=function(){};this.c1a=R;if(this.state.value == S.Kb.AI){this.Rc.info("Playback loading",this);this.QKb();this.Od("asl_load_start");R=this.aK;ja=R.endTime;L.Kc(R.startTime)?L.Kc(ja)?this.Od("asl_ended"):this.Od("asl_in_progress"):this.Od("asl_not_started");this.aK.xU(function(Pa){ca.Od("asl_load_complete");Pa.W?ca.Asb():ca.Rp(Pa.errorCode || C.M.Tza,Pa);});}};c.prototype.fOb=function(){var R;try{if(this.state.value === S.Kb.LOADING){R={width:1,height:1,Mea:1};this.NF().forEach(function(ca){R.width * R.height < ca.width * ca.height && (R.width=ca.width,R.height=ca.height,R.Mea=ca.Mea);});this.Yz=R;this.UE=this.dK.Nlb({MH:F.xc(this.X),K:this.K,L6:this.Ux,ib:this.ib}).ea(F.ma);this.Xea();this.ztb();}}catch(ca){this.Rp(C.M.zbb,{oa:C.L.hj,rb:K.wd(ca)});}};c.prototype.yG=function(){var R,ca;ca=this.ob.B3(this);this.HPa(ca);null === (R=this.Pa) || void 0 === R?void 0:R.sX(ca);};c.prototype.XLa=function(R,ca,ja){var Pa,wa,Ua,Va;ca=void 0 === ca?this.RF.wB():ca;ja=void 0 === ja?this.Ha.Wb():ja;wa=! !u.config.v7a && !(ca % u.config.v7a);Ua=R.aa;Va=R.va;R=R.ib;this.jr.has(Ua)?this.jr.get(Ua):(ca=this.Qpa(y.GI.index++,Ua,Va,R,ca,ja,wa,this.ga,this.Fka),this.jr.set(Ua,ca),1 < this.jr.size && (ca.zU=this.o5.create(this,ca,!1)),ca.cM=new z.ACa(this,ca),null === (Pa=this.Pa) || void 0 === Pa?void 0:Pa.kS(ca.va,{sessionId:ca.K + "-" + ca.ca,ca:ca.ca,Nv:ca.Dj}));};c.prototype.pL=function(R){if(!this.jr.has(R))throw Error("Playback segment not found: " + R);return this.jr.get(R);};c.prototype.Cp=function(R){var ca;R=this.ob.Ae(R);return null !== (ca=this.jr.get(null === R || void 0 === R?void 0:R.aa)) && void 0 !== ca?ca:this.ga;};c.prototype.NBb=function(R){for(var ca,ja,Pa=aa(this.FV),wa=Pa.next();!wa.done;wa=Pa.next()){if((wa=wa.value,(null === (ja=null === (ca=wa.Xe) || void 0 === ca?void 0:ca.yb) || void 0 === ja?void 0:ja.sessionId) === R))return wa;}return this.ga;};c.prototype.APb=function(R){var ca,ja;ca=this;ja=R.K;this.Wj.VSb(ja);return this.u3a(R).then(function(Pa){ca.v1a(Pa,R);return (R.hC?ca.Lb.gl.A2a(R):Promise.resolve()).then(function(){return ca.Wj.N3a(ja);});}).catch(function(Pa){ca.log.error("queueManifest failed",Pa);ca.Wj.USb(ja,Pa);throw ca.Xm(Pa.code,Pa);});};c.prototype.nzb=function(){if(L.ya(this.cd.ats) && L.ya(this.cd.at))return this.cd.at - this.cd.ats;};c.prototype.eTa=function(){var R,ca;R=this.yX();ca=this.AR();return Math.min(R,ca);};c.prototype.OW=function(){this.background || (this.Rc.info("Starting inactivity monitor for movie " + this.K),new v.oAa(this));};c.prototype.close=function(R){R && (this.state.value == S.Kb.CLOSED?R():this.addEventListener(S.Z.closed,function(){R();}));this.Nsa();};c.prototype.Kd=function(R,ca,ja){R=this.Xm(R,ca,ja);this.bF(R,void 0);};c.prototype.bF=function(R,ca){var ja,Pa,wa,Ua;ja=this;if(this.state.value == S.Kb.AI)this.al || (this.al=R,this.load());else {ca && (this.state.value == S.Kb.CLOSED?ca():this.addEventListener(S.Z.closed,function(){ca();}));Pa=function(){ja.Nsa(R);};wa=u.config.rQa && R && u.config.rQa[R.errorCode];Ua=-1;L.Py(wa) && (Ua=K.se(wa));this.Rc.error("Fatal playback error",{Error:"" + R,HandleDelay:"" + wa});0 <= Ua?setTimeout(Pa,Ua):Pa();}};c.prototype.pX=function(){this.Qb.qc(S.Z.pX);};c.prototype.OE=function(R){var ca;ca=void 0 === ca?this.va:ca;this.b1a.push(this.Ha.Wb().ea(F.ma) + "-" + ca + "-" + R);};c.prototype.nyb=function(){this.vSa();};c.prototype.tka=function(){var R;if(null === (R=this.Pa) || void 0 === R?0:R.Bh)if((R=this.Pa.Dp().id,void 0 !== R))return R;return null;};c.prototype.NB=function(){var R,ca;ca=null === (R=this.Pa) || void 0 === R?void 0:R.Bh;return void 0 === this.ga.H1 || ca?this.Fka(this.mediaTime.value):this.ga.H1;};c.prototype.ska=function(){var R;R=this.Fka(this.Bg.JTa());return null === R?null:Math.min(this.Ux.ea(F.ma),Math.max(0,R));};c.prototype.qT=function(){var R,ca;return null === (ca=null === (R=this.sa) || void 0 === R?void 0:R.bd.Ln) || void 0 === ca?void 0:ca.xa;};c.prototype.EXb=function(R){this.ib=O.goa(this.ib,R);this.Xea();};c.prototype.jzb=function(){return this.Ud.value?this.Ud.value.streams:[];};c.prototype.NF=function(R){R=void 0 === R?this.K:R;return (R=this.pL(R).Sh) && R.value?R.value.streams:[];};c.prototype.uDb=function(R){for(var ca=aa(this.FV),ja=ca.next();!ja.done;ja=ca.next()){if(ja=(ja=ja.value.Wk) && ja.find(function(Pa){return Pa.id === R;}))return ja;}};c.prototype.tOb=function(R){R=void 0 === R?this.ga:R;R.Sc.value?this.gq.qOb(R.Sc.value):Promise.resolve();};c.prototype.xVa=function(R){for(var ca=aa(this.FV),ja=ca.next();!ja.done;ja=ca.next()){ja=aa(ja.value.fp);for(var Pa=ja.next();!Pa.done;Pa=ja.next()){if(Pa=Pa.value.streams.find(function(wa){return wa.Dd === R;}))return Pa;}}};c.prototype.GVa=function(R){for(var ca=aa(this.FV),ja=ca.next();!ja.done;ja=ca.next()){ja=aa(ja.value.wo);for(var Pa=ja.next();!Pa.done;Pa=ja.next()){if(Pa=(Pa=Pa.value) && Pa.streams.find(function(wa){return wa.Dd === R;}))return Pa;}}};c.prototype.Cs=function(){var R,ca,ja;return null !== (ja=null === (ca=null === (R=this.N6) || void 0 === R?void 0:R.hS) || void 0 === ca?void 0:ca.call(R)) && void 0 !== ja?ja:this.Ksb().GB;};c.prototype.d4a=function(R){var ca,ja;null !== (ca=this.Pa) && void 0 !== ca && ca.Bh && this.jr.has(R) && ((null === (ja=this.N6) || void 0 === ja?0:ja.hS)?this.N6.G6a():(ca=this.iha(R),this.Pa.Zp(ca,R)));};c.prototype.lGb=function(){return "trailer" === this.ie;};c.prototype.uFb=function(){return ! !this.ie && 0 <= this.ie.indexOf("billboard");};c.prototype.qGb=function(){return ! !this.ie && 0 <= this.ie.indexOf("video-merch");};c.prototype.QFb=function(){return ! !this.ie && 0 <= this.ie.indexOf("mini-modal");};c.prototype.gC=function(){return this.lGb() || this.uFb() || this.qGb() || this.QFb();};c.prototype.Nja=function(){var wa,Ua,Va;if(this.wo){for(var R,ca=0;ca < this.wo.length;ca++){for(var ja=this.wo[ca],Pa=0;Pa < ja.streams.length;Pa++){wa=ja.streams[Pa];if(L.ya(wa.jha) && L.ya(wa.S1) && L.ya(wa.R1) && L.ya(wa.Q1) && (0 < wa.jha || 0 < wa.S1)){Ua=1;Va=1;L.ya(wa.M0a) && L.ya(wa.N0a) && (Ua=wa.M0a,Va=wa.N0a);wa=wa.Q1 * Va / (wa.R1 * Ua);R=L.ya(R)?Math.min(R,wa):wa;}}}return R;}};c.prototype.dCb=function(){return {tr:this.Bta,rt:this.Bra};};c.prototype.wy=function(R){return this.Jj[R];};c.prototype.lob=function(){return this.cm?this.Ha.Wb().ea(F.ma) - this.cm:this.wa.Ye.ea(F.ma) - this.a3();};c.prototype.Vfa=function(){var R;if(this.cm)return this.Ha.Wb().ea(F.ma) - this.cm;R=this.Ha.eG;return this.U0a - (this.Wl.ea(F.ma) + R.ea(F.ma));};c.prototype.xob=function(){return this.cm?this.Ha.Wb().ea(F.ma) - this.cm:this.U0a - this.a3();};c.prototype.KKb=function(R){var ca,ja;ca=this.loadTime;ja={};K.de(R,function(Pa,wa){ja[Pa]=wa.map(function(Ua){return Ua - ca;});});return ja;};c.prototype.xzb=function(){var R,ca;R=this.loadTime;ca={};K.de(this.zfa,function(ja,Pa){ca[ja]=Pa.map(function(wa){return wa - R;});});return h.Xu?{level:h.Xu.dUa(),charging:h.Xu.Lja(),statuses:ca}:null;};c.prototype.L3=function(){this.uSa();return this.AX;};c.prototype.a3=function(){var R;R=this.ib.L8;R=L.ya(R)?R:this.Wl.ea(F.ma) + this.Ha.eG.ea(F.ma);G.hb(L.Oy(R));return R;};c.prototype.zka=function(){return this.Ha.Wb().ea(F.ma) - this.Wl.ea(F.ma);};c.prototype.e4a=function(R,ca){this.AX[R]=ca;};c.prototype.bZb=function(){this.$Tb=!0;};c.prototype.o6=function(){this.k2a();};c.prototype.yX=function(){var R;R=this.V0();return R && R.vbuflmsec || 0;};c.prototype.AR=function(){var R;R=this.V0();return R && R.abuflmsec || 0;};c.prototype.vua=function(){var R;R=this.V0();return R && R.vbuflbytes || 0;};c.prototype.gfa=function(){var R;R=this.V0();return R && R.abuflbytes || 0;};c.prototype.u3a=function(R){var ca,ja,Pa;ca=this;R=void 0 === R?this.ga:R;ja=R !== this.ga;Pa=u.config.d7.enabled?Q.Zj.MFa:ja?Q.Zj.QD:this.gC()?Q.Zj.JZ:Q.Zj.Go;ja=this.gC()?void 0:this.Lb.gl.s3(ja);return this.il.zT({ca:R.ca,ib:R.ib,aa:R.K,pv:Pa,Sf:ja}).then(function(wa){wa.TWa && ca.fireEvent(S.Z.UL,{K:R.K});return wa;});};c.prototype.v1a=function(R,ca){ca=void 0 === ca?this.ga:ca;ca.sa=R;R=this.Fna.create(this).UMb(R);ca.Wc=R;ca.Sh.set(R.Eha);ca.Ud.set(R.rS);ca.Sc.set(R.Dha);};c.prototype.vyb=function(R){this.eH(R,!1);};c.prototype.zVa=function(R,ca){if(!this.yk.qua)return !0;R=this.xt.ea(F.ma) - R;return 0 > R || R > ca;};c.prototype.CRb=function(){this.Bg.seek(this.NB() || 0,S.me.FY);};c.prototype.eH=function(R,ca){var ja,Pa;if(this.NM){if(R === this.wK){this.NM=R;return;}ja=this.pL(R);Pa=ja.sa;Pa && L.Kc(Pa.UG) && L.Kc(Pa.cN) && ja.Dy({pr_ats:Pa.UG,pr_at:Pa.cN});this.fireEvent(S.Z.Dna,{K:this.wK});this.wK=R;this.Xea();ca || this.Z2a();this.DL=this.wa.L7;this.ga.cm || (this.ga.cm=this.Ha.Wb().ea(F.ma));}("boolean" === typeof this.ib.NK?this.ib.NK:u.config.NK) && !ca && this.Kta.NK(this);ca={K:R,I4:ca,NM:this.NM};this.NM=R;this.fireEvent(S.Z.gG,ca);};c.prototype.Asb=function(){try{this.Lb=new m.oCa(this);this.fS=new qa.$wa(this);this.zU=this.o5.create(this,this.ga,!0);u.config.Rob && new xa.Pya(this,this.Ij,this.log);u.config.VR && this.VR(this);this.BYb();}catch(R){this.Rp(C.M.ybb,{oa:C.L.hj,rb:K.wd(R)});}};c.prototype.BYb=function(){this.al?this.bF(this.al):L.sma(this.K)?this.opb():this.Rp(C.M.kbb,{rb:"" + this.K});};c.prototype.opb=function(){var R;R=l.sH.F3a;R?R.W?this.Bga():this.Rp(C.M.kAa,R):(G.hb(!u.config.t2),this.uea());};c.prototype.Bga=function(){var R;R=this;!this.background && u.config.Bga?y.cba(function(){R.uea();},this):this.uea();};c.prototype.uea=function(){var R;R=this;this.state.value == S.Kb.LOADING && (u.config.tia && !this.gC()?l.sH.wx(y.JEa,function(ca){ca.W?(R.m5=ca.m5,u.config.I7?R.HR():R.esa()):R.Rp(C.M.jAa);},!0):u.config.I7?this.HR():this.esa());};c.prototype.esa=function(){var R;R=this;this.state.value == S.Kb.LOADING && (this.Od("ic"),this.FNb.vSb(function(ca){ca.error && R.log.error("Error sending persisted playdata",C.Sr(ca));try{R.HR();}catch(ja){R.log.error("playback.authorize threw an exception",ja);R.Rp(C.M.t8a,{oa:C.L.hj,rb:K.wd(ja)});}}));};c.prototype.HR=function(){var R,ca;R=this;if(this.state.value == S.Kb.LOADING){this.log.info("Authorizing",this);ca=this.Ha.Wb().ea(F.ma);this.Od("ats");this.fS.HR(function(ja){var Pa;if(R.state.value == S.Kb.LOADING){R.Od("at");Pa=R.sa;R.Dy({pr_ats:Pa && L.Kc(Pa.UG)?Pa.UG:ca,pr_at:Pa && L.Kc(Pa.cN)?Pa.cN:R.Ha.Wb().ea(F.ma)});ja.W?0 < R.Wc.Wk.length && R.Wc.rS && R.Wc.Eha && R.Wc.Dha?R.gPb():R.Rp(C.M.fcb,R.Gna(R.Wc)):R.Rp(C.M.faa,ja);}});}};c.prototype.gPb=function(){var R;R=this;this.c1a?(this.log.info("Processing post-authorize",this),this.c1a(this,function(ca){ca.W?R.K6a():R.Rp(C.M.Dbb,ca);})):this.K6a();};c.prototype.K6a=function(){var R,ca;f.__awaiter(this,void 0,void 0,function Pa(){var wa;wa=this;return Ha(Pa,function(Ua){if(wa.state.value != S.Kb.LOADING)return Ua.return();(null === (R=wa.ga.sa) || void 0 === R?0:R.bd.Ln) && wa.ob.reset(T.sB(null === (ca=wa.ga.sa) || void 0 === ca?void 0:ca.bd.Ln,{config:u.config}));wa.Pa=wa.$ea(wa.ob,wa);wa.Pa.CTb({vm:g.vm,config:u.config,we:wa.we,Rc:wa.Rc,kt:wa.kt.bind(wa),mi:E.mi,AW:wa.AW.bind(wa),eH:wa.eH.bind(wa)});wa.fOb();Ua.uG=0;});});};c.prototype.ztb=function(){var R,ca,ja,Pa,wa,Ua;R=this;try{if(this.state.value === S.Kb.LOADING){this.Lb.open();ca=new Promise(function(Va){R.Lb.addEventListener(N.lj.H4a,Va);});this.Bg=new I.tCa(this);ja=this.Wc.rS.jn === ua.yq.NONE;Pa={Mg:!1,BU:!1,Ji:!this.hC,KM:! !this.ib.O4,Ea:this.ib.Ea,cD:this.Wc.rS.Ny || ja};wa={FG:this.log,Mm:this.Mm,sessionId:this.K + "-" + this.ca,ca:this.ca,Nv:this.Dj,ki:P.ji?P.ji.ki:void 0,Rq:this.jvb(),ns:this.ns()};this.qRa=! !wa.Rq;try{if(this.state.value !== S.Kb.LOADING)return;Ua=this.Pa;Ua.t4({flags:Pa,cv:wa,va:this.ob.rua?this.ob.Fh:this.ga.va,iha:this.iha.bind(this)});this.HPa(this.ob.B3(this));this.wlb();Ua.Dnb({Jj:this.Jj,loadTime:this.loadTime});}catch(Va){throw (this.log.error("Failed to initialize ASE streaming",{error:Va,startPts:this.X,flags:Pa}),Va);}ca.then(function(){var Va;R.state.value !== S.Kb.CLOSING && R.state.value !== S.Kb.CLOSED && (null === (Va=R.Pa) || void 0 === Va?void 0:Va.open());});this.mediaTime.set(this.X);this.gq=new n.EHa(this);if("boolean" === typeof this.ib.l7?this.ib.l7:u.config.l7)this.eX=new B.FHa(this);this.OW();y.eba.forEach(function(Va){Va(R);});this.PKb();}}catch(Va){this.Rp(C.M.Abb,{oa:C.L.hj,rb:K.wd(Va)});}};c.prototype.QKb=function(){G.hb(this.state.value == S.Kb.AI);this.loadTime=this.Ha.Wb().ea(F.ma);this.state.set(S.Kb.LOADING);};c.prototype.Rp=function(R,ca){this.done || (this.done=!0,ca instanceof fa.ed?this.Kd(ca.code,ca):this.Kd(R,ca));};c.prototype.VR=function(R){var ja,Pa;function ca(){var wa,Ua;wa=h.Xu.Lja() + "";Ua=R.zfa[wa];Ua || (Ua=R.zfa[wa]=[]);Ua.push(ja.Ha.Wb().ea(F.ma));ja.log.trace("charging change event",{level:h.Xu.dUa(),charging:h.Xu.Lja()});}ja=this;Pa=h.Xu.w9a;h.Xu.addEventListener(Pa,ca);R.addEventListener(S.Z.xg,function(){h.Xu.removeEventListener(Pa,ca);});};c.prototype.Nsa=function(R){var ca,ja;ca=this;if(this.state.value == S.Kb.AI || this.state.value == S.Kb.LOADING || this.state.value == S.Kb.$d){this.Rc.info("Playback closing",this,R?{ErrorCode:R.h2}:void 0);this.OE("Closing");x.mf.removeListener(x.Jm,this.F_a);this.al=R;this.ga.H1=this.NB();this.uSa();(null === (ja=this.Pa) || void 0 === ja?0:ja.Bh) && this.Pa.flush();try{this.Qb.qc(S.Z.xg,{movieId:this.wK});}catch(Pa){this.Rc.error("Unable to fire playback closing event",Pa);}this.state.set(S.Kb.CLOSING);this.g8a();this.$Tb || H.fg(function(){return ca.k2a();});}};c.prototype.dyb=function(){this.Qb.qc(S.Z.E6a);};c.prototype.vSa=function(){var R;R=this.mediaTime.value;this.$Gb != R && (!1,this.$Gb=R,this.Qb.qc(S.Z.rta));};c.prototype.k2a=function(){var R,ca;R=this;G.hb(this.state.value == S.Kb.CLOSING);ca=this.m5;this.m5=void 0;ca?l.sH.release(ca,function(ja){G.hb(ja.W);R.Hga();}):this.Hga();};c.prototype.g8a=function(){var R;null === (R=this.Pa) || void 0 === R?void 0:R.Lc();delete this.Pa;delete this.V8b;delete this.U8b;};c.prototype.Hga=function(){var R;this.Hga=p.Kk;G.hb(this.state.value == S.Kb.CLOSING);R=y.Fo.indexOf(this);G.hb(0 <= R);y.Fo.splice(R,1);this.state.set(S.Kb.CLOSED);this.Qb.qc(S.Z.closed,void 0,!0);this.Qb.ih();delete this.Xe;this.ga.o6();};c.prototype.Xea=function(){this.ib.playbackState && ("number" === typeof this.ib.playbackState.volume && this.volume.set(J.Co(this.ib.playbackState.volume,0,1)),"boolean" === typeof this.ib.playbackState.muted && this.muted.set(this.ib.playbackState.muted),"number" === typeof this.ib.playbackState.playbackRate && this.playbackRate.set(this.ib.playbackState.playbackRate));};c.prototype.uSa=function(){this.Qb.qc(S.Z.r4a,{AX:this.AX});};c.prototype.AW=function(R,ca,ja){var Pa;R=this.Cp(R);Pa=R.Wk.filter(function(wa){return wa.id === ca;})[0];Pa && R.pc[ja].set(Pa);};c.prototype.kt=function(){return {AudioBufferLength:this.AR(),VideoBufferLength:this.yX()};};c.prototype.V0=function(){var R;if(null === (R=this.Pa) || void 0 === R?0:R.Bh)return this.Pa.y4(!1);};c.prototype.PKb=function(){this.state.value == S.Kb.LOADING && this.state.set(S.Kb.$d);};c.prototype.Ksb=function(){var R,ca,ja;R=void 0 === R?this.K:R;ca=this.NF(R);ja=this.pL(R);return X.Cs(ca,function(Pa){return ja.cM.Tt(Pa);});};c.prototype.iha=function(R){var ca,ja;R=void 0 === R?this.K:R;ca=this.NF(R);ja=this.pL(R);return X.pVa(ca,function(Pa){return ja.cM.Tt(Pa);});};c.prototype.ns=function(R){R=void 0 === R?this.ga:R;return !(0 === u.config.hB || 0 !== R.ca % u.config.hB);};c.prototype.jvb=function(){var R;R=void 0 === R?this.ga:R;return this.ns(R) || !(0 === u.config.BS || 0 !== R.ca % u.config.BS);};c.prototype.HPa=function(R){var ca;ca=this;Object.keys(R.xa).filter(function(ja){return !ca.jr.has(ca.ob.Ae(ja).aa);}).forEach(function(ja){var Pa,wa,Ua;wa=ca.ob.Ae(ja);Ua=wa.aa;wa=Object.assign(null !== (Pa=ca.Wj.vL(Ua).Ib) && void 0 !== Pa?Pa:{},{X:wa.jc,Ea:wa.Fc,fl:!1,L8:Date.now(),O4:!0});ca.XLa({aa:Ua,va:ja,ib:wa});});};Xa.Object.defineProperties(c.prototype,{FV:{configurable:!0,enumerable:!0,get:function(){return this.jr.values();}},ga:{configurable:!0,enumerable:!0,get:function(){return this.jr.get(this.wK);}},X:{configurable:!0,enumerable:!0,get:function(){var R,ca;return void 0 !== this.UE?this.UE:null !== (ca=null === (R=this.FV.next()) || void 0 === R?void 0:R.value.ib.X) && void 0 !== ca?ca:0;}},Wc:{configurable:!0,enumerable:!0,get:function(){return this.ga.Wc;},set:function(R){this.ga.Wc=R;}},R2:{configurable:!0,enumerable:!0,get:function(){return this.ga.ib.R2;}},S2:{configurable:!0,enumerable:!0,get:function(){return this.ga.ib.S2;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ga.index;}},va:{configurable:!0,enumerable:!0,get:function(){return this.ga.va;}},Xe:{configurable:!0,enumerable:!0,get:function(){return this.ga.Xe;},set:function(R){this.ga.Xe=R;}},cm:{configurable:!0,enumerable:!0,get:function(){return this.ga.cm;},set:function(R){this.ga.cm=R;}},YE:{configurable:!0,enumerable:!0,get:function(){return this.ga.YE;},set:function(R){this.ga.YE=R;}},XE:{configurable:!0,enumerable:!0,get:function(){return this.ga.XE;},set:function(R){this.ga.XE=R;}},s4:{configurable:!0,enumerable:!0,get:function(){return this.ga.s4;},set:function(R){this.ga.s4=R;}},sa:{configurable:!0,enumerable:!0,get:function(){return this.ga.sa;},set:function(R){this.ga.sa=R;}},UE:{configurable:!0,enumerable:!0,get:function(){return this.ga.UE;},set:function(R){this.ga.UE=R;}},XW:{configurable:!0,enumerable:!0,get:function(){return this.ga.XW;},set:function(R){this.ga.XW=R;}},ib:{configurable:!0,enumerable:!0,get:function(){return this.ga.ib;},set:function(R){this.ga.ib=R;}},zU:{configurable:!0,enumerable:!0,get:function(){return this.ga.zU;},set:function(R){this.ga.zU=R;}},ho:{configurable:!0,enumerable:!0,get:function(){return this.ga.ho;}},K:{configurable:!0,enumerable:!0,get:function(){return this.ga.K;}},ie:{configurable:!0,enumerable:!0,get:function(){return this.ga.ie;}},fp:{configurable:!0,enumerable:!0,get:function(){return this.ga.fp;}},wo:{configurable:!0,enumerable:!0,get:function(){return this.ga.wo;}},Qz:{configurable:!0,enumerable:!0,get:function(){return this.ga.Qz;}},bm:{configurable:!0,enumerable:!0,get:function(){return this.ga.bm;}},Vi:{configurable:!0,enumerable:!0,get:function(){return this.ga.Vi;}},hC:{configurable:!0,enumerable:!0,get:function(){return this.ga.hC;}},Ht:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ht;}},Ll:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ll;}},Wk:{configurable:!0,enumerable:!0,get:function(){return this.ga.Wk;}},Ux:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ux;},set:function(R){this.ga.Ux=R;}},ca:{configurable:!0,enumerable:!0,get:function(){return this.ga.ca;}},Fk:{configurable:!0,enumerable:!0,get:function(){return this.ga.Fk;}},Wl:{configurable:!0,enumerable:!0,get:function(){return this.ga.Wl;}},DL:{configurable:!0,enumerable:!0,get:function(){return this.ga.DL;},set:function(R){this.ga.DL=R;}},Dj:{configurable:!0,enumerable:!0,get:function(){return this.ga.Dj;}},hH:{configurable:!0,enumerable:!0,get:function(){return this.ga.hH;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ga.background;},set:function(R){this.ga.background=R;}},nha:{configurable:!0,enumerable:!0,get:function(){return this.ga.nha;}},cd:{configurable:!0,enumerable:!0,get:function(){return this.ga.cd;}},gp:{configurable:!0,enumerable:!0,get:function(){return this.ga.gp;}},hia:{configurable:!0,enumerable:!0,get:function(){return this.ga.hia;}},cM:{configurable:!0,enumerable:!0,get:function(){return this.ga.cM;}},oh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.K,TrackingId:this.Fk,Xid:this.ca};}},R6:{configurable:!0,enumerable:!0,get:function(){return this.ob.R6;}}});b.NEa=c;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.Z4a=void 0;c=a(12);f=a(7);k=a(3);a(24);b.Z4a=function(l){var d;f.mi("Storage");d={};l({W:!0,storage:{load:function(g,h){var m;if(d.hasOwnProperty(g)){m=d[g];!1;h({W:!0,data:m,c8:g});}else (!1,h({oa:k.L.zA}));},save:function(g,h,m,n){m && d.hasOwnProperty(g)?n({W:!1}):(d[g]=h,!1,n && n({W:!0,c8:g}));},remove:function(g,h){delete d[g];!1;h && h(c.Ie);}}});};},function(r,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.X4a=void 0;c=a(7);f=a(78);k=a(28);l=a(497);b.X4a=function(d){c.ha.get(f.dA).create().then(function(g){d({W:!0,storage:new l.Y$(g,c.ha.get(k.Jf))});}).catch(function(g){d(g);});};},function(r,b){function a(c,f){this.Vu=c;this.we=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Y$=void 0;a.prototype.load=function(c,f){var k;k=this;this.Vu.load(c).then(function(l){f && f(a.m5a(l));}).catch(function(l){f && f(k.Aia(c,l));});};a.prototype.save=function(c,f,k,l){var d;d=this;this.Vu.save(c,f,k).then(function(){l && l(a.m5a({key:c,value:f}));}).catch(function(g){l && l(d.Aia(c,g));});};a.prototype.remove=function(c,f){var k;k=this;this.Vu.remove(c).then(function(){f && f({W:!0,c8:c});}).catch(function(l){f && f(k.Aia(c,l));});};a.m5a=function(c){return {W:!0,data:c.value,c8:c.key};};a.prototype.Aia=function(c,f){return {W:!1,c8:c,oa:f.oa,rb:f.cause?this.we.wd(f.cause):void 0};};b.Y$=a;},function(r,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.Y4a=void 0;c=a(497);f=a(7);k=a(352);l=a(28);b.Y4a=function(d){d({W:!0,storage:new c.Y$(f.ha.get(k.ZAa),f.ha.get(l.Jf))});};},function(r,b,a){var c,f,k,l,d,g,h,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.Xu=void 0;c=a(12);f=a(13);r=a(3);k=a(7);l=a(29);d=a(11);g=a(32);h=a(18);m=a(61);n=a(4);a=k.ha.get(g.Xg);q=k.ha.get(m.Pw);a.register(r.M.Vza,function(p){var v,x;function t(){p(c.Ie);t=l.Kk;}function u(y){if(!(y instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(z){if(!h.Oc(y[z]))throw z + " is not a function";});}function w(){return Promise.resolve().then(function(){var y;y=d.Te.getBattery();if(!h.Oc(y.then))throw "getBattery did not return a promise";return y;});}v=k.mi("BatteryManager");b.Xu={w9a:"chargingchange",dUa:function(){return x?x.level:null;},Lja:function(){return x?x.charging:null;},addEventListener:function(y,z){x && x.addEventListener(y,z);},removeEventListener:function(y,z){x && x.removeEventListener(y,z);}};f.config.VR && h.Oc(d.Te.getBattery)?q.Xp(n.xc(f.config.wzb),w()).then(function(y){u(y);x=y;}).catch(function(y){v.error("getBattery failed",y);}).then(t):t();});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TAa="LicenseBrokerFactorySymbol";},function(r,b){function a(c,f){var k;k=this;this.rUa=c;this.D_a=f;this.xta=!1;this.xM=function(){k.qo=void 0;k.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.GHa=void 0;a.prototype.update=function(c){var f,k,l,d,g;l=this.rUa();if(this.Y6a !== l){d=null === (k=null === (f=this.bo) || void 0 === f?void 0:f.CF(l)) || void 0 === k?void 0:k[0];if(d && ("startTime" in d))if(d.startTime <= l && l <= d.endTime){g=d;this.P6a(d.endTime - l);}else this.P6a(d.startTime - l);this.Y6a=l;this.wea !== g && (this.wea=g,!c && this.D_a && this.D_a());}};a.prototype.start=function(){this.xta=!0;this.update();};a.prototype.S3a=function(c){this.bo=c;this.wea=this.Y6a=void 0;c || this.stop();};a.prototype.stop=function(){this.xta=!1;this.Cr();};a.prototype.bzb=function(){this.update(!0);return this.wea;};a.prototype.P6a=function(c){this.Cr();this.xta && 0 < c && (this.qo=setTimeout(this.xM,c + a.Mcb));};a.prototype.Cr=function(){this.qo && (clearTimeout(this.qo),this.qo=void 0);};b.GHa=a;a.Mcb=10;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Lza=void 0;c=a(17);f=a(72);b.Lza=function(k){function l(d){k.fireEvent(c.Z.rF,{response:d,K:k.ga.K});}return {download:function(d,g){d.j=k;d=f.Ef.download(d,g);d.yea(l);return d;}};};},function(r,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.oAa=void 0;c=a(13);f=a(51);k=a(3);l=a(504);d=a(11);g=a(18);h=a(17);m=a(7);n=a(205);b.oAa=function(q){var t,u,w,v;function p(){q.state.value !== h.Kb.$d || q.bc.value !== h.Db.$h && q.bc.value !== h.Db.hu?u.Cr():u.vF();}t=c.config.dNb;if(!q.gC() && t){u=m.ha.get(n.SZ)(t,function(){q.fireEvent(h.Z.BL,k.M.pZ);});q.bc.addListener(p);q.state.addListener(p);if(c.config.Ila){w=f.Ki();v=new l.UFa(c.config.Ila,function(){var x,y;x=f.Ki();y=x - w;y > t && (q.fireEvent(h.Z.BL,k.M.VY),v.EOa());y > 2 * c.config.Ila && (q.Jla=d.qn(y,q.Jla || 0));w=x;});v.tTb();}q.addEventListener(h.Z.xg,function(){u.Cr();g.Kc(v) && v.EOa();});}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UFa=void 0;b.UFa=function(a,c){var f;this.tTb=function(){f || (f=setInterval(c,a));};this.EOa=function(){f && (clearInterval(f),f=void 0);};};},function(r,b,a){var f,k,l,d,g,h,m;function c(n){var q,p,t,u;q=this;this.j=n;this.hS=void 0;this.Ica=l.createElement("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.xca=l.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.nca=l.createElement("DIV","width:100%;text-align:center");this.Rfb=this.zca("Audio Bitrate");this.mea=this.zca("Video Bitrate");this.qca=this.zca("CDN");this.OQ={};this.N3=d.ha.get(g.gm);this.Ica.appendChild(this.xca);this.xca.appendChild(this.nca);p=l.createElement("BUTTON",void 0,"Override");p.addEventListener("click",this.Kfb.bind(this),!1);this.nca.appendChild(p);p=l.createElement("BUTTON",void 0,"Reset");p.addEventListener("click",this.Vjb.bind(this),!1);this.nca.appendChild(p);t=this.cjb.bind(this);k.mf.addListener(k.SB,t);n.addEventListener(m.Z.gG,function(){q.OQ={};});n.addEventListener(m.Z.xg,function(){k.mf.removeListener(k.SB,t);});u=this.Hjb.bind(this);n.pc.forEach(function(w){w.addListener(u);});n.Ud.addListener(u);n.Sh.addListener(u);}Object.defineProperty(b,"__esModule",{value:!0});b.VEa=void 0;f=a(53);k=a(64);l=a(29);d=a(7);g=a(38);h=a(128);m=a(17);c.prototype.show=function(){this.iR || (this.ZKa(),document.body.appendChild(this.Ica),this.iR=!0);};c.prototype.Yq=function(){this.iR && (document.body.removeChild(this.Ica),this.iR=!1);};c.prototype.toggle=function(){this.iR?this.Yq():this.show();};c.prototype.G6a=function(){var p,t,u,w;function n(v,x,y){var z,A,B;A=[];x.filter(function(D){return D.Jg === v;}).forEach(function(D){0 <= y.indexOf(D)?(void 0 === B?B=D.bitrate:z=D.bitrate,void 0 === z && (z=D.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function q(v,x,y){var z;z=[];x.filter(function(A){return A.Jg === v;}).forEach(function(A){-1 === y.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}t=this.j.Cs();u=this.j.NF().sort(function(v,x){return v.bitrate - x.bitrate;});w=u.reduce(function(v,x){0 > v.indexOf(x.Jg) && v.push(x.Jg);return v;},[]).map(function(v){return {profile:v,ranges:n(v,u,t),disallowed:q(v,u,t)};});!1;null === (p=this.j.Pa) || void 0 === p?void 0:p.Zp(w,this.j.K);};c.prototype.Kfb=function(){var p,t;this.OQ={};for(var n=this.mea.options,q=n.length;q--;){p=n[q];p.selected && (this.OQ[p.value]=1);}this.hS=this.pgb.bind(this);this.G6a();if(n=this.j.Wk){t=this.qca.value;n=n.filter(function(u){return u.id == t;})[0];q=this.j.pc[f.Pb.Ra.Eb].value;n && n != q && (n.iOa={testreason:"streammanager",selreason:"userselection"},this.j.pc[f.Pb.Ra.Eb].set(n));}this.Yq();};c.prototype.Vjb=function(){this.hS=void 0;this.j.d4a(this.j.K);this.Yq();};c.prototype.pgb=function(){var n;n=this;return this.j.NF().filter(function(q){return n.OQ[q.bitrate];});};c.prototype.ZKa=function(){var n,q,p,t;n=this;q=this.j.Ud.value;p=this.j.Sh.value;t=this.j.Wk;q && (t=t.slice(),t.sort(function(u,w){return u.Se - w.Se;}),this.Wda(this.Rfb,q.streams.map(function(u){return {value:u.bitrate,caption:u.bitrate,selected:u == n.j.fk.value};})));p && (this.Wda(this.mea,p.streams.map(function(u){var w,v;w=n.j.cM.Tt(u);u=u.bitrate;v="" + u;w && (v+=" (" + w.join("|") + ")");return {value:u,caption:v,selected:n.hS?n.OQ[u]:!w};})),this.mea.removeAttribute("disabled"));t && (this.Wda(this.qca,t.map(function(u){return {value:u.id,caption:"[" + u.id + "] " + u.name,selected:u == n.j.pc[f.Pb.Ra.Eb].value};})),this.qca.removeAttribute("disabled"));};c.prototype.Hjb=function(){this.iR && this.ZKa();};c.prototype.zca=function(n){var q,p;q=l.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");n=l.createElement("DIV",void 0,n);p=l.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});q.appendChild(n);q.appendChild(p);this.xca.appendChild(q);return p;};c.prototype.Wda=function(n,q){n.innerHTML="";q.forEach(function(p){var t;t={title:p.caption};p.selected && (t.selected="selected");t=l.createElement("option",void 0,p.caption,t);t.value=p.value;n.appendChild(t);});};c.prototype.cjb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == h.ku.web && this.N3.yma && this.toggle();};b.VEa=c;},function(r,b,a){var f,k,l,d,g;function c(h,m){this.jja=h;this.uF={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=f.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.O3a(m);this.BSa=this.yAb(this.jja);}Object.defineProperty(b,"__esModule",{value:!0});b.DHa=void 0;f=a(29);k=a(507);l=a(508);d=a(11);g=a(24);c.prototype.zp=function(){return this.element;};c.prototype.HSb=function(h){this.bfa=h;};c.prototype.RSb=function(h){this.entry=h;this.ZM();};c.prototype.YSb=function(h){this.O3a(h);this.ZM();};c.prototype.ZM=function(){var h,m,n,q,p,t,u,w,v,x,y,A,B,D;h=this;m=this.zp();n=m.parentElement;q=n && n.clientWidth || 0;p=n && n.clientHeight || 0;t=n=0;u={width:q,height:p};if(0 < q && 0 < p && this.entry){this.bfa && (u=f.ZK(q,p,this.bfa),n=Math.round((q - u.width) / 2),t=Math.round((p - u.height) / 2));v=this.Bob(u);x=f.ZK(v.width,v.height,this.bfa);v=(w=this.entry.blocks) && w.map(function(E){var F;F=l.wia(E,x,h.jja,h.BSa);E=l.KRa(E) + ";position:absolute";return f.createElement("div",E,F,c.b$);});}Object.assign(this.uF,{left:n + "px",right:n + "px",top:t + "px",bottom:t + "px"});m.style.display="none";m.style.direction=this.uF.direction;m.innerHTML="";if(v && v.length){q=u.width;n=u.height;y=u;this.NR && (y=this.Vkb(u,this.NR,p,t));this.uF.margin=this.fr?this.o1(u,"top") + "px " + this.o1(u,"right") + "px " + this.o1(u,"bottom") + "px " + this.o1(u,"left") + "px ":void 0;v.forEach(function(E){return m.appendChild(E);});p=f.hF(this.uF);m.style.cssText=p + ";visibility:hidden;z-index:-1";t=[];for(var z=v.length - 1;0 <= z;z--){A=v[z];B=w[z];D=this.e_a(A,B,q,n);D.width > q && (A.innerHTML=l.wia(B,u,this.jja,this.BSa,q / D.width),D=this.e_a(A,B,q,n));t[z]=D;}t=k.y6a(t,y);if(z=w && w[0] && w[0].textNodes && w[0].textNodes[0] && w[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (u=l.MRa(w,t,Math.round(n / 50),y,u),u=f.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,u,c.b$),m.insertBefore(u,m.firstChild)));m.style.display="none";for(u=t.length - 1;0 <= u;u--){y=v[u].style;z=l.LRa(w[u].region,t[u],q,n,0);Object.assign(y,z);}m.style.cssText=p;}};c.prototype.wsa=function(h){this.NR=h;this.ZM();};c.prototype.Rka=function(){return this.NR;};c.prototype.xsa=function(h){this.fr=h;this.ZM();};c.prototype.Ska=function(){return this.fr;};c.prototype.Tka=function(){return "block" === this.uF.display;};c.prototype.ysa=function(h){var m;m=h?"block":"none";this.element.style.display=m;this.uF.display=m;h && this.ZM();};c.prototype.yAb=function(h){var m,n;m=this;n={};g.de(h,function(q,p){n[q]=m.lJb(p);});return n;};c.prototype.O3a=function(h){this.uF.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.o1=function(h,m){if(this.fr){if("left" === m || "right" === m)return h.width * (this.fr[m] || 0);if("top" === m || "bottom" === m)return h.height * (this.fr[m] || 0);}return 0;};c.prototype.Bob=function(h){return this.fr?{height:h.height * (1 - (this.fr.top || 0) - (this.fr.bottom || 0)),width:h.width * (1 - (this.fr.left || 0) - (this.fr.right || 0))}:h;};c.prototype.lJb=function(h){var m;h=f.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.b$);d.He.body.appendChild(h);m={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};d.He.body.removeChild(h);return m;};c.prototype.e_a=function(h,m,n,q){var p,t,u,w,v;p=m.region;t=(p.marginTop || 0) * q;u=(p.marginBottom || 0) * q;w=(p.marginLeft || 0) * n;v=(p.marginRight || 0) * n;m=h.clientWidth || 1;h=h.clientHeight || 1;switch(p.verticalAlignment){case "top":q=t;break;case "center":q=(t + q - u - h) / 2;break;default:q=q - u - h;}switch(p.horizontalAlignment){case "left":n=w;break;case "right":n=n - v - m;break;default:n=(w + n - v - m) / 2;}return {top:q,left:n,width:m,height:h};};c.prototype.Vkb=function(h,m,n,q){return {height:n - Math.max(q,m.bottom || 0) - Math.max(q,m.top || 0),width:h.width};};b.DHa=c;c.b$={"class":"player-timedtext-text-container"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.y6a=void 0;c=a(11);b.y6a=function(f,k){function l(h,m,n){var u,v,x,y,z;if(h && 1 < h.length){for(var q=[],p=[],t=0;t < h.length;t++){q[t]=0;p[t]=0;}u=!1;for(t=0;t < h.length;t++){for(var w=t + 1;w < h.length;w++){v=h[t];x=h[w];if(0 > v.width || 0 > x.width || x.left > v.left + v.width || x.left + x.width < v.left || x.top > v.top + v.height?0:x.top + x.height >= v.top){y=c.qn(v.left,x.left);z=c.qn(v.top,x.top);y={width:c.qn(c.Bo(v.left + v.width,x.left + x.width) - y,0),height:c.qn(c.Bo(v.top + v.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,v=d(h[t]),x=d(h[w]),z && m || !z && !m))(y=c.qn(y.width / 2,.25),v.x <= x.x?(p[t]-=y,p[w]+=y):(p[w]-=y,p[t]+=y));else if(z && !m || !z && m)(v=c.qn(y.height / 2,.25),q[t]-=v,q[w]+=v);}}for(t=0;t < h.length;t++){if(-.25 > p[t] && 0 <= h[t].left + p[t] || .25 < p[t] && h[t].left + h[t].width + p[t] <= n.width)(h[t].left+=p[t],u=!0);if(-.25 > q[t] && 0 <= h[t].top + q[t] || .25 < q[t] && h[t].top + h[t].height + q[t] <= n.height)(h[t].top+=q[t],u=!0);}return u;}}function d(h){return {x:h.left + h.width / 2,y:h.top + h.height / 2};}f=f.map(function(h){return {top:h.top,left:h.left,width:h.width,height:h.height};});(function(h,m){h.forEach(function(n){0 > n.left && n.left + n.width < m.width?n.left+=c.Bo(-n.left,m.width - (n.left + n.width)):n.left + n.width > m.width && 0 < n.left && (n.left-=c.Bo(n.left + n.width - m.width,n.left));0 > n.top && n.top + n.height < m.height?n.top+=c.Bo(-n.top,m.height - (n.top + n.height)):n.top + n.height > m.height && 0 < n.top && (n.top-=c.Bo(n.top + n.height - m.height,n.top));});})(f,k);for(var g=0;50 > g && l(f,!0,k);g++){;}for(g=0;50 > g && l(f,!1,k);g++){;}return f;};},function(r,b,a){var g,h,m;function c(n,q,p,t,u){var w;w={};"right" == n.horizontalAlignment?w.right=100 * (p - q.left - q.width - u) / p + "%":w.left=100 * (q.left - u) / p + "%";"bottom" == n.verticalAlignment?w.bottom=100 * (t - q.top - q.height - u) / t + "%":w.top=100 * (q.top - u) / t + "%";return w;}function f(n,q){var p;if(n && q){40 === q.x && 19 === q.y?p=4 / 3 / (40 / 19):52 === q.x && 19 === q.y && (p=16 / 9 / (52 / 19));if(p)return n.width / n.fontSize / p;}}function k(n,q,p,t,u){var w,v;w=n.style;v=h.WT(n.text);for(n=n.lineBreaks;n--;){v="<br />" + v;}return l(v,w,q,p,t,u);}function l(n,q,p,t,u,w){var v;v=q.characterStyle;u=u[v];v=0 <= v.indexOf("MONOSPACE")?f(u,q.cellResolution) || u.lineHeight:u.lineHeight;t=q.characterSize * t.height / (v || 1);t=0 < w?m.Jw(t * w):m.Bi(t);w={"font-size":t + "px","line-height":"normal","font-weight":"normal"};q.characterItalic && (w["font-style"]="italic");q.characterUnderline && (w["text-decoration"]="underline");q.characterColor && (w.color=q.characterColor);q.backgroundColor && 0 !== q.backgroundOpacity && (w["background-color"]=d(q.backgroundColor,q.backgroundOpacity));t=q.characterEdgeColor || "#000000";switch(q.characterEdgeAttributes){case "DROP_SHADOW":w["text-shadow"]=t + " 0px 0px 7px";break;case "UNIFORM":w["text-shadow"]="-1px 0px " + t + ",0px 1px " + t + ",1px 0px " + t + ",0px -1px " + t;break;case "RAISED":w["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":w["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}w=g.hF(w);(p=p[q.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (w+=";" + p);q=q.characterOpacity;0 < q && 1 > q && (n='<span style="opacity:' + q + '">' + n + "</span>");return '<span style="' + w + '">' + n + "</span>";}function d(n,q){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== q?q:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.KRa=b.Swb=b.Qwb=b.Twb=b.Rwb=b.LRa=b.MRa=b.wia=void 0;g=a(47);h=a(24);m=a(11);b.wia=function(n,q,p,t,u){var w;w="";n.textNodes.forEach(function(v){w+=k(v,p,q,t,u);});return w;};b.MRa=function(n,q,p,t,u){var w,v,y,z,A;w="";v=u.width;u=u.height;for(var x=q.length;x--;){y=q[x];z=n[x];z=z && z.region;A="position:absolute;background:" + t + ";width:" + m.Bi(y.width + 2 * p) + "px;height:" + m.Bi(y.height + 2 * p) + "px;";y=c(z,y,v,u,p);h.de(y,function(B,D){A+=B + ":" + D + ";";});w+='<div style="' + A + '"></div>';}return w;};b.LRa=c;b.Rwb=f;b.Twb=k;b.Qwb=l;b.Swb=d;b.KRa=function(n){var q;q={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":q["text-align"]="left";break;case "right":q["text-align"]="right";break;default:q["text-align"]="center";}return g.hF(q);};},function(r,b,a){var c,f,k,l,d,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.KEa=void 0;c=a(12);f=a(13);k=a(51);l=a(86);d=a(11);g=a(62);h=a(18);m=a(17);b.KEa=function(n){var u,w,v,x,y,z;function q(){return n.state.value === m.Kb.LOADING || n.state.value === m.Kb.$d && n.bc.value === m.Db.Gg;}function p(){q()?z || (z=setInterval(t,100)):z && (clearInterval(z),z=void 0,g.fg(t));}function t(){var A,B,D,E,F,C,G,J;A=k.Ki();B=u.value;D=B?B.progress:0;E=n.state.value == m.Kb.LOADING || q() && A - w > f.config.dob;if(E && n.state.value == m.Kb.$d){if(n.kf.value === m.df.oGa)(F=D,C=!0);else {G=A + (n.Mm && n.Mm.bEb() || 0);v=v || A;x=x || v + f.config.SJb + 1;h.ya(G) && (G=d.qn(G,x),F=n.Mm?n.Mm.S5b():.99,F=d.Bi(1E3 * l.Co((A - v) / (G - v),0,F)) / 1E3);}if(F < D)if(D - F < f.config.nPb / 100)(F=D,y=void 0);else if(y){if(A - y > f.config.mPb){J=!0;y=void 0;}else F=D;}else (y=A,F=D);}else y=x=v=void 0;A=E?{Z7:C,progress:F,oPb:J}:null;(!A || !u || !B || h.ya(A.progress) && !h.ya(B.progress) || h.ya(A.progress) && h.ya(B.progress) && .01 < d.CD(A.progress - B.progress) || A.Z7 !== B.Z7) && u.set(A);}u=n.Qfa;w=0;n.state.addListener(function(){p();t();},c.oZ);n.bc.addListener(function(A){if(A.oldValue !== m.Db.Gg || A.newValue !== m.Db.Gg)w=k.Ki();p();});n.kf.addListener(function(){p();});n.Jq.addListener(function(){p();});n.am.addListener(function(){p();});z || (z=setInterval(t,100));};},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F,C,G,J,K;function c(H){var L;L=this;this.j=H;this.Lb=this.j.Lb;this.log=n.jh(this.j,"MediaPresenterASE");this.d6=this.X1=0;this.la=this.Lb.la;this.P0a=this.G0a=this.Q4=this.Opa=!1;this.FVb=n.ha.get(D.MI)(B.xc(z.HZ));this.ZJ=void 0;this.mo=n.ha.get(F.wGa)(this.j);this.ow={};this.nZa={};this.qVa={};this.hg=new G.fCa(this.j);this.DVb=function(){var P,I,O;L.j.XW=m.Ki();if(!L.Gj() && L.Km){P=L.Lb.SUa();P || (L.pNb(),L.hg.Nta(L.mediaTime));L.j.paused.value || !L.hg.Bha(L.mediaTime) || !L.Nfa() || P || L.mo.rma?L.Hra():L.Opa || L.Ira();L.oNb();if(!L.Lb.SUa() && !L.Q4){P=L.Lb.tT(!0);I=L.j.bc.value;O=L.jqb();I !== O && !1;O === x.Db.hu?(L.mediaTime=L.j.xt.ea(B.ma),L.Hra()):O !== x.Db.Gg && L.CXb(P);L.S6a();L.hg.iga(L.mediaTime);L.j.bc.set(O);O !== x.Db.Gg || I !== x.Db.Hc && I !== x.Db.$h || L.YLb();}}};this.rl=C.A1a(this.DVb);this.mediaTime=H.X;this.j.El=!1;this.Lb.addEventListener(A.lj.G4a,function(){L.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{L.nb();}catch(P){L.log.error("Exception while initializing",P);L.Kd(q.M.Fdb);}});}Object.defineProperty(b,"__esModule",{value:!0});b.tCa=void 0;f=a(53);k=a(12);l=a(13);d=a(63);g=a(64);h=a(47);m=a(51);n=a(7);a(94);q=a(3);p=a(321);t=a(21);u=a(86);w=a(29);v=a(62);x=a(17);y=a(18);z=a(171);A=a(282);B=a(4);D=a(107);E=a(205);F=a(511);C=a(1110);G=a(1111);J=a(1112);K=a(204);c.prototype.JTa=function(){return this.Lb.tT(!1);};c.prototype.k3=function(){return this.Lb.k3();};c.prototype.JB=function(){return this.Lb.JB();};c.prototype.DF=function(){return this.Lb.DF();};c.prototype.sT=function(){return this.Lb.sT();};c.prototype.o3=function(){return this.Lb.o3();};c.prototype.nb=function(){var H;H=this;this.log.trace("Video element initializing");this.Lb.sourceBuffers.forEach(function(L){return H.hg.oTb(L);});this.REb(this.j.hC);};c.prototype.REb=function(H){var L,P;L=this;H?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.K}),null === (P=this.j.Pa) || void 0 === P?void 0:P.gy(this.j.K));this.log.trace("Waiting for loadedmetadata");this.Lb.addEventListener(A.lj.TXa,function(I){var O;I=I.aa;L.j.Od("ld",I);null === (O=L.j.Pa) || void 0 === O?void 0:O.gy(I);L.j.fireEvent(x.Z.QXa);});h.bMa(this.la,"loadedmetadata",function(){L.log.trace("Video element event: loadedmetadata");L.j.Od("md");});g.mf.addListener(g.Jm,this.qVa[g.Jm]=function(){return L.close();},k.OD);this.j.addEventListener(x.Z.xg,function(){return L.close();},k.OD);this.j.addEventListener(x.Z.f3a,function(){return L.Ira();});this.j.addEventListener(x.Z.gG,function(){return L.LLb();});this.j.paused.addListener(function(){return L.rl();});this.j.muted.addListener(function(){return L.iua();});this.j.volume.addListener(function(){return L.iua();});this.j.playbackRate.addListener(function(){return L.O8();});this.j.Jq.addListener(function(){return L.rl();});this.j.am.addListener(function(){return L.rl();});this.iua();this.O8();this.hg.O7(function(){return L.C5();});this.C5();this.WWb();};c.prototype.R0=function(H){var L;L=this;!1;this.hg.kmb(H);this.$ob(H).then(function(){L.C5();L.j.fireEvent(x.Z.B5);}).catch(function(P){L.Kd(q.M.Jdb,{rb:w.wd(P)});});};c.prototype.Tea=function(H,L,P){P=void 0 === P?{}:P;L=this.Svb(H,L);this.hg.imb(H,L,P);this.C5();this.G0a || H.type !== f.Pb.Ik.Eb || (this.mo.rma || this.seek(this.j.X,x.me.Hw),this.G0a=!0);};c.prototype.WWb=function(){var H;H=this;this.Lb.addEventListener(A.lj.uW,this.ow[A.lj.uW]=function(){return H.bMb();});this.Lb.addEventListener(A.lj.Pq,this.ow[A.lj.Pq]=function(){return H.s6();});this.la.addEventListener("ended",this.ow.ended=function(){return H.GLb();});this.la.addEventListener("play",this.ow.play=function(){return H.PLb();});this.la.addEventListener("pause",this.ow.pause=function(){return H.NLb();});this.la.addEventListener("playing",this.ow.playing=function(){return H.VLb();});this.Km=!0;this.hg.Nta(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Od("vi");l.config.sQa?setTimeout(function(){H.apa=!0;H.rl();},l.config.sQa):this.apa=!0;this.zUb();v.fg(function(){return H.rl();});};c.prototype.zUb=function(){var P;function H(){var I;P.j.bc.value === x.Db.Hc && 0 === (null === (I=P.j.Bg) || void 0 === I?void 0:I.k3())?(P.d_a.vF(),I="ensureTimer"):(P.d_a.Cr(),I="stopTimer");P.log.trace("No render timer update: " + I,{presentingState:x.Db[P.j.bc.value]});}function L(I){var O,N;I=void 0 === I?!0:I;O=P.j.Pa;N=(null === O || void 0 === O?void 0:O.Bh) && O.V3();P.j.bc.value == x.Db.Gg && P.j.state.value == x.Kb.$d && P.j.Jq.value == x.df.$d && P.j.am.value == x.df.$d && !P.j.El && N?(I && P.Z1.Cr(),P.Z1.vF(),O="ensureTimer"):(P.Z1.Cr(),O="stopTimer");P.log.trace("Timer update: " + O,{presentingState:x.Db[P.j.bc.value],playbackState:x.Kb[P.j.state.value],avBufferingState:x.df[P.j.Jq.value],textBufferingState:x.df[P.j.am.value],autoplayWasBlocked:P.j.El,hasLicense:N,restartTimer:I});}P=this;l.config.hQa && (t.hb(!this.Z1),this.Z1=n.ha.get(E.SZ)(l.config.hQa,function(){var I;I=n.ha.get(p.m$).BQa(P.j);P.Kd(I.code,I);}),this.j.bc.addListener(function(){return L();}),this.j.Jq.addListener(function(){return L();}),this.j.am.addListener(function(){return L();}),this.j.state.addListener(function(){return L();}),this.j.addEventListener(x.Z.QXa,function(){return L();}),this.j.addEventListener(x.Z.El,function(){return L();}),this.j.addEventListener(x.Z.qfa,function(){return L();}),this.j.addEventListener(x.Z.TG,function(){return L(!0);}),L());l.config.c_a && (this.d_a=n.ha.get(E.SZ)(l.config.c_a,function(){var I;0 === (null === (I=P.j.Bg) || void 0 === I?void 0:I.JB()) && (I=n.ha.get(p.m$).BQa(P.j),P.Kd(I.code,I));P.j.bc.removeListener(H);}),this.j.bc.addListener(H),H());};c.prototype.Svb=function(H,L){var P;P=this.j.Xe;(P=K.ema(P)?P.mL():void 0) && H.type === f.Pb.Ik.Eb && ((H=new J.sI(this.log,{mediaType:J.hm.Eb,url:"http://some-url"},L).na(P))?L=H:!1);return L;};c.prototype.C5=function(){this.Km?this.rl():l.config.jmb && this.hg.Nta(this.mediaTime);};c.prototype.GUb=function(){!1;this.j.bc.set(x.Db.Gg);this.Q4=!0;this.rl();};c.prototype.fqb=function(){var H;H=this;this.Q4 && (!1,this.Q4=!1,v.fg(function(){return H.aLb();}));};c.prototype.f3=function(){return this.hg.f3();};c.prototype.aLb=function(){var H,L;H=this.j.NB() || 0;if(this.j.ib.fl){if(l.config.Qnb){H=H - (this.Lb.Vra + 1) - l.config.Ura;L=this.j.Pa.Dp().Mc;H=Math.max(H,L);}}else (H-=l.config.fSb,H=Math.max(H,this.mo.Oma));this.seek(H,x.me.UP);};c.prototype.p6=function(H){var L;L=this;this.hg.qTb(H);v.fg(function(){return L.rl();});};c.prototype.SAb=function(){return {X1:this.X1,d6:this.d6};};c.prototype.$ob=function(H){var L;L=this.Lb && this.Lb.qUa();this.j.xt && L && Infinity !== H.o3a && (H=H.o3a + H.It,H > this.j.xt.g1a(B.ma) && (this.j.xt=B.xc(H)));return Promise.resolve();};c.prototype.oNb=function(){var H;H=this;this.mo.I6 && (!1,this.Nfa() && this.hg.Bha(this.mediaTime) && (this.Lb.seek(this.mediaTime),this.mo.I6=!1,v.fg(function(){return H.rl();})));};c.prototype.CXb=function(H){var L;if(H < this.mediaTime){L=this.mediaTime - H;l.config.qNb && H && L > z.HZ && (H={ElementTime:u.Zh(H),MediaTime:u.Zh(this.mediaTime)},L > z.QFa?this.Kd(q.M.Udb,{rb:Object.assign({Trace:this.Lb.OB()},H)}):this.log.warn("VIDEO.currentTime became smaller",H));}else this.mediaTime=u.Co(H,0,this.j.xt.ea(B.ma));};c.prototype.Nfa=function(){return this.j.Jq.value === x.df.$d && this.j.am.value === x.df.$d;};c.prototype.jqb=function(){var H,L,P;H=this;L=this.j.bc.value;P=L;this.mo.rma?P=x.Db.Gg:this.la && this.la.ended?L === x.Db.Hc && (P=x.Db.hu):this.Nfa() && this.hg.Bha(this.mediaTime)?this.Lb.Rub()?P=this.la && this.la.paused?x.Db.$h:x.Db.Hc:this.FVb.ql(function(){return H.EVb();}):P=this.j.xt?this.j.zVa(this.mediaTime,this.hg.W1())?x.Db.Gg:x.Db.hu:x.Db.Gg;return P;};c.prototype.YLb=function(){var H;if(this.j.bc.value === x.Db.Gg){H=this.hg.mWb() > this.hg.W1();this.j.am.value !== x.df.$d?this.j.Tk.value?(this.j.fireEvent(x.Z.Kx,{cause:d.IEa}),this.log.warn("rebuffer due to timed text",this.j.Tk.value.oh)):this.j.fireEvent(x.Z.SN):H?(this.X1++,this.j.fireEvent(x.Z.Kx,{cause:d.Zaa})):(this.d6++,this.j.fireEvent(x.Z.Kx,{cause:d.$aa}));}};c.prototype.EVb=function(){this.Gj() || (l.config.eLb && this.hg.dLb(),this.rl());};c.prototype.bMb=function(){this.rl();};c.prototype.s6=function(){this.rl();this.j.fireEvent(x.Z.Pq);};c.prototype.GLb=function(){this.log.trace("Video element event: ended");this.rl();};c.prototype.PLb=function(){this.log.trace("Video element event: play");this.rl();};c.prototype.NLb=function(){this.log.trace("Video element event: pause");this.rl();};c.prototype.VLb=function(){this.log.trace("Video element event: playing");this.rl();};c.prototype.iua=function(){this.Gj() || (this.la && this.la.volume !== this.j.volume.value && (this.la.volume=this.j.volume.value),this.la && this.la.muted !== this.j.muted.value && (this.la.muted=this.j.muted.value));};c.prototype.O8=function(){!this.Gj() && this.la && (this.la.playbackRate=this.j.playbackRate.value);};c.prototype.Ira=function(){var H;H=this;this.Gj() || !y.Kc(this.la) || this.la.ended || !this.apa || !this.bO && void 0 !== this.bO || (this.log.trace("Calling play on element"),Promise.resolve(this.la.play()).then(function(){H.closed || (H.bO=!1,H.Opa=!1,H.la.style.display=null,H.j.El=!1,H.j.fireEvent(x.Z.qfa,{j:H.j}));}).catch(function(L){"NotAllowedError" === L.name?(H.log.warn("Playback is blocked by the browser settings",L),H.j.El=!0,H.closed || (H.Opa=!0,H.la.style.display="none",H.j.fireEvent(x.Z.El,{player:{play:function(){return H.Ira();}}}))):H.closed || (H.bO=!1,H.P0a || (H.P0a=!0,H.log.error("Play promise rejected",L)));}));};c.prototype.LLb=function(){this.mo.Oma=this.j.NB() || 0;};c.prototype.Hra=function(){this.Gj() || !y.Kc(this.la) || this.la.ended || !this.apa || this.bO && void 0 !== this.bO || (this.log.trace("Calling pause on element"),this.la.pause(),this.bO=!0);};c.prototype.S6a=function(H){this.j.mediaTime.set(this.mediaTime);H && this.j.nyb();};c.prototype.seek=function(H,L,P,I){var O,N;P=void 0 === P?this.j.va:P;I=void 0 === I?!1:I;N=null === (O=this.j.Pa) || void 0 === O?void 0:O.Bh;!this.Gj() && N && (this.j.fireEvent(x.Z.TG,{cause:L}),this.mo.BV={time:H,cause:L,va:P,tyb:I},this.j.bc.set(x.Db.Gg),this.rl());};c.prototype.pNb=function(){var H,L,P,I,O,N,M,Q;if(this.mo.BV){H=this.mo.BV;L=H.time;P=H.cause;I=H.va;O=H.tyb;if(!this.hg.li() || P === x.me.Hw){H=this.j.Cp(I).K;N=this.hg.li()?void 0:this.hg.Bzb();N=this.mo.sBb(L,P,I,O,N);I=N.g6;O=N.Cj;M=N.TNb;N=N.gi;this.hg.iga(this.mediaTime);Q=this.mediaTime;L=u.Zh(L);this.j.OE("SEEKING: Requested: (" + H + ":" + P + ":" + L + ") - Actual: (contentPts: " + O + ",playerPts: " + (M + ", newMediaTime: " + I + ")"));this.log.info("Seeking",{Requested:L,Actual:u.Zh(I),Cause:P,Skip:N});P === x.me.Hw || N || (this.hg.M2a(),this.hg.lTb());this.mediaTime=I;this.mo.Oma=O;L=this.j.Rg.value;M=this.j.Uf.value;this.j.Rg.set(null);this.j.Uf.set(null);this.S6a(!0);this.mo.BV=void 0;this.mo.I6=!0;this.j.fireEvent(x.Z.Yl,{bpa:Q,g6:I,Cj:O,cause:P,skip:N,Rg:L,Uf:M,K:H});N && this.hg.skip(I);}}};c.prototype.Kd=function(H,L,P){this.closed || this.j.Kd(H,L,P);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.hg.close();this.Lb.removeEventListener(A.lj.uW,this.nZa[A.lj.uW]);this.Lb.removeEventListener(A.lj.Pq,this.nZa[A.lj.Pq]);this.la.removeEventListener("ended",this.ow.ended);this.la.removeEventListener("play",this.ow.play);this.la.removeEventListener("pause",this.ow.pause);this.la.removeEventListener("playing",this.ow.playing);g.mf.removeListener(g.Jm,this.qVa[g.Jm]);this.closed=!0;try{l.config.sKb && (this.la.volume=0,this.la.muted=!0);this.Hra();this.Lb.close();}catch(H){}this.la=void 0;this.hg.M2a();}};c.prototype.Gj=function(){return this.closed?!0:y.Kc(this.la)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.tCa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wGa="SeekManagerFactorySymbol";},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),f * a.byteLength / a.length);}:function(a,c,f){a.set(c,f);};r.exports={from:function(a,c,f,k){a=new a(c.length);for(var l="function" === typeof f,d=0;d < c.length;++d){a[d]=l?f.call(k,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){var l;l=null !== f && f.apply(this,arguments) || this;l.ry=1536;return l;}c.__extends(k,f);k.La=!0;return k;})(a(191).default);b.default=r;a=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="ac-3";return k;})(r);b.m9=a;r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="ec-3";return k;})(r);b.p$=r;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(101);r=a(33);k=f.JD;r=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.parse=function(){this.ic();this.fileSize=this.u.Hd();this.U=this.u.Hd();this.duration=this.u.Hd(!1,!0);this.Woa=this.u.Hd();this.u.Hd();this.$oa=this.u.Hd();this.Foa=this.u.ta();this.Xoa=this.u.Hd();this.ija=this.u.ta();this.u.xz();this.De={moof:{offset:this.Woa},sidx:{offset:this.Xoa,size:this.ija}};this.De[f.yP]={offset:this.$oa,size:this.Foa};this.u.offset - this.startOffset <= this.length - 24 && (this.Zoa=this.u.Hd(),this.zoa=this.u.ta(),this.Yoa=this.u.Hd(),this.xoa=this.u.ta(),this.De[f.Mw]={offset:this.Zoa,size:this.zoa},this.De[f.Lw]={offset:this.Yoa,size:this.xoa});return !0;};d.Mb=k;d.La=!1;return d;})(r.mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(101);a=a(33);f=r.KD;a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){var d,m,n;this.ic();1 <= this.version && this.u.xz();d=this.u.ta();this.De={};for(var g=this.startOffset + this.length,h=0;h < d;++h){m=this.u.nl();"uuid" === m && (m=this.u.xz());n=this.u.Hd();this.De[m]={offset:g,size:n};g+=n;}return !0;};l.Mb=f;l.La=!1;return l;})(a.mc);b.default=a;},function(r){var b,a,c,f;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Tj:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Tj:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Tj:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Tj:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};r.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":f};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);k=a(87);r=(function(l){function d(g,h,m,n,q){m=l.call(this,m,n,q) || this;m.Bfa=g;m.fq=h;m.Ta={};return m;}c.__extends(d,l);d.prototype.parse=function(g){var h,m,n,q,p,t;this.offset=0;h=[];for(g=g || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){m=this.offset;n=this.ta();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};q=k.tn(this.ta());if(null === q)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === q){if(16 > this.view.byteLength - this.offset)break;q=this.xz();}if(0 === h.length && this.fq.iT(q,m,n))break;if(m + n > this.view.byteLength)break;p=this.Bfa[q];t=void 0;if(p){if((t=new p(this,q,m,n,h[0]),(h[0] || this).ls(t),t.parse(g)))this.config.CG && p.La?h.unshift(t):this.offset=m + n;else return {done:!1,offset:this.offset,error:"parse error in " + q + " box"};}else this.offset=m + n;for(;h.length && this.offset > h[0].byteOffset + h[0].Vm - 8;){t=h.shift();if(!t.Js(g))return {done:!1,offset:this.offset,error:"finalize error in " + t.type + " box"};this.offset=t.byteOffset + t.Vm;}if(0 === h.length && this.fq.AS(q,m,n,t))break;}return !this.fq.done && (g=this.fq.endOffset?this.fq.endOffset - this.view.byteLength:4096,0 < g)?{done:!1,offset:this.offset,ZU:g}:{done:!0,offset:Math.min(this.fq.endOffset || Infinity,this.offset)};};d.prototype.ls=function(g){f.mc.ls(this,g);};return d;})(a(1132).Uba);b.kD=r;},function(r,b,a){var f;function c(k,l){k=l.indexOf(k);-1 !== k && l.splice(k,1);}Object.defineProperty(b,"__esModule",{value:!0});f=a(101);r=(function(){function k(l){this.endOffset=l;this.done=!1;}k.prototype.iT=function(){return this.done;};k.prototype.AS=function(l,d,g){return this.done=d + g >= this.endOffset;};return k;})();b.KO=r;r=(function(){function k(l,d,g,h){void 0 === d && (d=[]);void 0 === g && (g=[]);void 0 === h && (h=!1);this.sh=l;this.cy=d;this.bX=g;this.xV=h;this.done=!1;this.De={};}k.prototype.iT=function(l,d,g){-1 !== k.mla.indexOf(l) && (this.De[l]={offset:d,size:g});if(-1 !== this.bX.indexOf(l)){if((this.De[l]={offset:d,size:g},this.xV))this.endOffset=d + g;else return (this.endOffset=d,this.done=!0);}else this.sh && -1 !== this.sh.indexOf(l)?(l=1 < this.sh.length?4096:0,this.endOffset=Math.max(d + g + l,this.endOffset || 0)):-1 !== this.cy.indexOf(l) && (l=this.sh?4096:0,this.endOffset=Math.max(d + g + l,this.endOffset || 0));return this.done;};k.prototype.AS=function(l,d,g,h){var m;m=this;if(-1 !== this.bX.indexOf(l))return this.done=!0;l === f.JD && this.FW(h.De);l === f.KD && this.FW(h.De);this.sh && c(l,this.sh);c(l,this.cy);return this.sh && 0 === this.sh.length && !this.cy.some(function(n){return m.De[n];})?this.done=!0:this.done;};k.prototype.FW=function(l){var d;d=this;this.De=l;this.endOffset=(this.sh || []).concat(this.cy).reduce(function(g,h){return d.De[h]?(h=d.De[h],Math.max(h.offset + (h.size || 4096),g)):g;},this.endOffset || 0);};k.mla=["moov","sidx"];return k;})();b.J$=r;},function(r,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.Pya=void 0;c=a(13);f=a(64);k=a(24);l=a(3);d=a(17);b.Pya=function(g,h,m){function n(p){var t,u;t=p.error || p;u=k.wd(t);m.error("uncaught exception",t,u);(t=(t=t && t.stack) && c.config.A6a && c.config.iXb?0 <= t.indexOf(c.config.A6a):void 0) && (p && p.stopImmediatePropagation && p.stopImmediatePropagation(),g.Kd(l.M.ifb));}function q(){f.mf.removeListener(f.O3,n);g.removeEventListener(d.Z.xg,q);g.removeEventListener(d.Z.ut,q);}try{f.mf.addListener(f.O3,n);g.addEventListener(d.Z.xg,q);c.config.vEb && g.addEventListener(d.Z.ut,q);}catch(p){m.error("exception in exception handler ",p);}};},function(r,b,a){var c,f,k,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.uYa=void 0;c=a(13);f=a(12);k=a(51);r=a(3);l=a(11);d=a(18);g=a(7);a=a(32);g.ha.get(a.Xg).register(r.M.Zza,function(h){var n,q,p,t,u;function m(){var w;w=l.Jw(k.Ki() / p);if(w != u){for(var v=l.Bo(w - u,30);v--;){t.push(0);}(v=l.qn(t.length - 31,0)) && t.splice(0,v);u=w;}t[t.length - 1]++;}n=c.config.mIb;q=-6 / (n - 2 - 2);p=f.Jk;t=[];u=l.Jw(k.Ki() / p);d.sma(n) && (setInterval(m,1E3 / n),b.uYa={JAb:function(){var x;for(var w=[],v=t.length - 1;v--;){x=t[v];w.unshift(0 >= x?9:1 >= x?8:x >= n - 1?0:l.Bi((x - 2) * q + 7));}return w;}});h(f.Ie);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gba="PlaybackMilestoneStoreSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bEa="PboManifestRequestTransformerSymbol";},function(r,b,a){var f,k,l,d,g;function c(h,m){this.Lb=h;this.j=m;this.tU=[];}Object.defineProperty(b,"__esModule",{value:!0});b.uO=void 0;r=a(1);f=a(3);k=a(0);l=a(18);d=a(29);g=a(7);c.prototype.N2=function(h){this.tU.forEach(function(m){return m(h);});};c.prototype.Kd=function(h,m,n){this.j.Kd(h,m,n);};c.prototype.plb=function(h){-1 === this.tU.indexOf(h) && this.tU.push(h);};c.prototype.GQb=function(h){h=this.tU.indexOf(h);0 <= h && this.tU.splice(h,1);};c.prototype.nVa=function(h){var m,n;m={};l.Kc(h.code)?m.oa=f.Lya(h.code):m.oa=f.L.hj;try{n=h.message.match(/\((\d*)\)/)[1];m.Ze=g.yfa(n,4);}catch(q){}m.rb=d.wd(h);return m;};a=r.__decorate([k.R()],c);b.uO=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oFa="PlaygraphPlaybackStrategyFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sFa="PlaygraphStateFactorySymbol";},function(r,b,a){var f;function c(k,l,d,g,h){var m;m=this;this.ob=k;this.Wj=l;this.Qt=d;this.Qb=g;this.Qp=h;this.W6=new Map();this.ETb();this.Qb.addListener(f.Ub.loaded,function(){return m.m1a();});}Object.defineProperty(b,"__esModule",{value:!0});b.GD=void 0;f=a(17);c.prototype.dMa=function(k){var l,d;l=this;d=Object.keys(this.ob.zk.xa).find(function(g){return l.ob.zk.xa[g].aa === k.K;});k.id || (k.id=null !== d && void 0 !== d?d:this.Qp.rv(k.K));d || (this.ob.zk=this.Qp.lmb(this.ob.zk,k));d=this.JG(k.id);k.Qi && this.ob.JXb(k.id,k.Qi);return d;};c.prototype.u6a=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.bla=function(k,l){var d;d=this;l=void 0 === l?{}:l;return this.Qt.transition(k,l).then(function(){d.ob.Fh=k;});};c.prototype.close=function(k){return this.Qt.close(k);};c.prototype.isReady=function(){return this.Qt.XBb();};c.prototype.zp=function(){return this.Qt.zp();};c.prototype.Ps=function(){return this.Qt.Ps();};c.prototype.JG=function(k){this.W6.has(k) || this.W6.set(k,this.Qt.Gn(this.cob(k)));return this.W6.get(k);};c.prototype.ETb=function(){var k;k=this;this.Qt.addListener(f.SD.vW,function(){return k.Qb.qc(f.SD.vW);});Object.values(f.Ub).forEach(function(l){k.Qt.addListener(l,function(d){return k.Qb.qc(l,d);});});};c.prototype.yG=function(){this.m1a();};c.prototype.lpa=function(k){this.Qt.HXb({id:k,K:this.ob.Ae(k).aa,Qi:this.ob.qCb(k)});};c.prototype.m1a=function(){var k,l;if(this.isReady()){k=this.ob.Fh;l=this.ob.pka(k);l && !this.W6.has(l) && (this.lpa(k),this.JG(l));}};c.prototype.cob=function(k){var l,d,g,h;d=this.ob.Ae(k);g=this.Wj.vL(d.aa);h=null === g || void 0 === g?void 0:g.Ib;g=null === g || void 0 === g?void 0:g.sa;return {id:k,K:d.aa,X:d.jc,Qi:null !== (l=null === h || void 0 === h?void 0:h.Qi) && void 0 !== l?l:d.Fc,Ib:h,sa:g};};b.GD=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fza=void 0;b.fza=function(a){var k,l,d,g;function c(){if(d)for(var h;h=k.pop();){h(g);}}function f(h){d=!0;g=h;c();}k=[];return function(h){k.push(h);l || (l=!0,a(f));c();};};},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.h6a=void 0;c=a(72);f=a(12);k=a(13);l=a(47);d=a(51);g=a(7);h=a(3);m=a(24);n=a(70);q=a(11);p=a(120);t=a(32);u=a(36);w=a(34);v=a(19);b.h6a=(function(){var z,A,B,D;function x(E){var F,C,G;F="info";C="";G=g.ha.get(n.XD).iUa();E.W || (F="error",C+="&errorcode=" + (E.errorCode || ""),C+="&errorsubcode=" + (E.oa || ""));C="type=startup&sev=" + F + C + "&" + l.tM(m.Tb({},G,{prefix:"m_"}));!1;y("startup",C,z);}function y(E,F,C){C && A && k.config.j6a[E] && (E=B + "&jsoffms=" + d.Ki() + "&do=" + q.Te.onLine + "&" + F + "&" + l.tM(m.Tb({},D.cd,{prefix:"im_"})),!1,c.Ef.download({url:C,bqa:E,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},qF:"track"},f.Kk));}A=!1;B="";g.mi("TrackingLog");D=g.ha.get(t.Xg);D.register(h.M.dAa,function(E){var F,C,G;if(A=k.config.i6a && ! !k.config.Fta){z=g.ha.get(p.VH).host + k.config.Fta;F=g.ha.get(w.Mk);C=g.ha.get(w.wA);G=g.ha.get(v.rd).id;B="cat=cadplayback&dev=" + encodeURIComponent(F.ey) + "&ep=" + encodeURIComponent(C.DY) + "&ver=" + encodeURIComponent("6.0032.428.911") + "&jssid=" + G + "&browserua=" + q.vA;k.config.Ay && (B+="&groupname=" + encodeURIComponent(k.config.Ay));k.config.KH && (B+="&uigroupname=" + encodeURIComponent(k.config.KH));F=B;C=g.ha.get(u.JP);C=m.Tb({},C,{prefix:"pi_"});C="&" + l.tM(C);B=F + C;D.xU(x);}E(f.Ie);});return y;})();},function(r,b,a){var f,k,l,d,g;function c(h){var m;f.mi("MediaSourceASE").trace("Inside MediaSourceASE");m=h.AT();this.readyState=g.Bc.CLOSED;this.sourceBuffers=m.sourceBuffers;this.addSourceBuffer=function(n){return m.addSourceBuffer(n);};this.L0=function(n){return m.L0(n);};this.removeSourceBuffer=function(n){return m.removeSourceBuffer(n);};this.mp=function(n){return m.mp(n);};this.MW=d++;this.duration=void 0;m.GSb(this.MW);this.readyState=g.Bc.OPEN;this.Yb=k.ha.get(l.Jf).oG(g.Yb,{});}Object.defineProperty(b,"__esModule",{value:!0});b.yCa=void 0;f=a(7);k=a(7);l=a(28);d=0;Object.defineProperty(c.prototype,"duration",{get:function(){return this.rj;},set:function(h){var m;this.rj=h || Infinity;m=Math.floor(1E3 * h) || Infinity;this.sourceBuffers.forEach(function(n){n.rj=m;});}});g={Bc:{CLOSED:0,OPEN:1,hu:2,name:["CLOSED","OPEN","ENDED"]},Yb:{LOa:!0,QZa:!0}};b.yCa=Object.assign(c,g);},function(r,b,a){var h,m,n,q,p,t,u,w;function c(v){return v.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function f(v){return v && "object" === typeof v?JSON.stringify(v):"string" === typeof v?'"' + v + '"':"" + v;}function k(v,x,y){var z;if("string" === typeof v)return k.call(this,c(v),x,y);z=0;Object.keys(v).forEach(function(A){var B,D,E;B=p[A];D=v[A];if(B){if(E=t[A] || w[typeof h[B]])try{D=E(D);}catch(F){y && y.error("Failed to convert value '" + D + "' for config '" + A + "' : " + F.toString());return;}E=q[B];this[B]=D;q[B] !== E && (y && y.debug("Config changed for '" + A + "' from " + f(E) + " (" + typeof E + ") to " + f(D) + " (" + typeof D + ")"),++z);}else x?(B=(B=u[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,D]),u[A]=B):y && y.error("Attempt to change undeclared config option '" + A + "'");},this);z && q.emit("changed");return z;}function l(){return Object.keys(p).reduce(function(v,x){var y,z;y=p[x];z=v[y];z?(z.push(x),v[y]=z.sort(function(A,B){return B.length - A.length;})):v[y]=[x];return v;},{});}function d(v,x){return v.hasOwnProperty(x)?f(v[x]):void 0;}function g(v,x){return "undefined" === typeof v?x:v;}b=a(84);a=a(1218).EventEmitter;h={};m=Object.create(h);n=Object.create(m);q=Object.create(n);p={};t={};u={};q.declare=function(v){Object.keys(v).forEach(function(x){var y,z,A,B;y=v[x];z=y[0];A=y[1];B=y[2];if(h.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(D){var E;if(p.hasOwnProperty(D))throw Error("The configuration value '" + D + "' has been declared more than once");h.hasOwnProperty(x) || ("function" === typeof A && (A=A()),h[x]=A);p[D]=x;"function" === typeof B && (t[D]=B);if(E=u[D])(E.forEach(function(F){var C,G;C=F[0];G={};G[D]=F[1];k.call(C,G,!1);}),delete u[D]);});});return q;};w={object:function(v){return "object" == typeof v?v:JSON.parse("" + v);},"boolean":function(v){return "boolean" == typeof v?v:!("0" === "" + v || "false" === ("" + v).toLowerCase());},number:function(v){if("number" == typeof v)return v;v=parseFloat("" + v);if(isNaN(v))throw Error("parseFloat returned NaN");return v;}};q.set=k.bind(m);q.tV=k.bind(n);q.dump=function(v,x){var z,A,B,D;function y(){D && v && v.log("===========================================");}z=Object.keys(u).sort();A={};B=l();x=g(x,!0);Object.keys(p).sort().forEach(function(E){var F,C,G;E=p[E];if(!A[E]){A[E]=!0;F=d(m,E);C=d(n,E);if(x || "undefined" !== typeof F || "undefined" !== typeof C){G=B[E].join(",");G+=" = " + f(q[E]) + " (" + typeof q[E] + ") [";G+=g(C,"<unset>") + ",";G+=g(F,"<unset>") + ",";G+=d(h,E) + "]";D || (D=!0,v && v.log("Current config values"),y());v && v.log(G);}}});(x || z.length) && v && v.log("<undeclared> :",z);y();};q.Bs=function(v){var x,y;x={};y={};Object.keys(p).forEach(function(z){z=p[z];y[z] || (y[z]=!0,x[z]=q[z]);});v && k.call(x,v);return x;};q.H0a=function(){var v;v=l();return Object.getOwnPropertyNames(m).reduce(function(x,y){x[v[y][0]]=m[y];return x;},{});};q.reset=function(){Object.keys(m).forEach(function(v){delete m[v];});};q.fd={};b(a,q);r.exports=Object.freeze(q);},function(r,b,a){var f;function c(k){for(var l="",d=0;d < k.length;d++){l+=k[d].aa + "|";}return l;}f=a(296);r.exports={assert:function(k,l){if(!k)throw Error("PlayPredictionModel assertion failed" + (l?" : " + l:""));},v6b:function(k,l,d){Array.prototype.splice.apply(k,[l,0].concat(d));},Rzb:function(k){for(var l=[],d=0;d < k.length;d++){if(k[d].context === f.pP.N9a){l=k[d].list;break;}}return l;},yzb:function(k){for(var l=[],d=0;d < k.length;d++){if(k[d].context === f.pP.G8a){l=k[d].list;break;}}return l;},Mub:function(k,l){for(var d=0,g,h,m,n=0,q=k.length - 1;n < q;n++){g=c(k[n].list || []);m=!1;for(var p=0,t=l.length;p < t;p++){if((h=c(l[p].list || []),h == g)){m=!0;break;}}if(!1 === m){d=n;break;}}return d;},tLb:function(k,l,d){for(var g=[],h,m=0;m < Math.min(l,k.length);m++){h=k[m].list || [];g=g.concat(h.slice(0,d));}return g;},sLb:function(k,l){for(var d=[],g,h=0;h < k.length && (g=k[h].list || [],g=g.slice(0,Math.min(g.length,l)),l-=g.length,d=d.concat(g),0 !== l);h++){;}return d;},rLb:function(k,l,d){var g;l < k.length && 0 <= l && (k=k[l].list || [],d < k.length && (g=k[d]));return g;},qSa:function(k){for(var l={},d=k.length,g,h=0;h < d;h++){g=k[h].list || [];for(var m=0;m < g.length;m++){if(g[m].property === f.rI.EP || g[m].property === f.rI.jxa){l.Pj=h;l.Hl=m;break;}}}void 0 === l.Pj && void 0 === l.Hl && (l.Pj=0,l.Hl=0);return l;}};},function(r,b,a){var l;function c(d,g,h,m,n,q,p){this.xX=m;this.$7a=d;this.b_a=g;this.toa=h;this.sGb=q;this.OC=p;this.split=n;}function f(){this.J={};this.J["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.J["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.J["3"]=new c("7","8","7","10","1.5",0,0);this.J["7"]=new c("15","16","15","9","4.5",0,0);this.J["15"]=new c("31","32","31","2","5.5",0,0);this.J["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.J["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.J["123"]=new c("123","124","123","0","0",1,.207298);this.J["124"]=new c("123","124","123","0","0",1,.49076);this.J["64"]=new c("125","126","125","4","40.5",0,0);this.J["125"]=new c("125","126","125","0","0",1,-.00157835);this.J["126"]=new c("125","126","125","0","0",1,.934205);this.J["32"]=new c("65","66","65","135","5.5",0,0);this.J["65"]=new c("127","128","128","4","1272.5",0,0);this.J["127"]=new c("127","128","128","0","0",1,-.510333);this.J["128"]=new c("127","128","128","0","0",1,.18363);this.J["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.J["129"]=new c("129","130","129","0","0",1,-.0464542);this.J["130"]=new c("129","130","129","0","0",1,.458833);this.J["16"]=new c("33","34","34","10","2.00001",0,0);this.J["33"]=new c("67","68","67","0","29.5",0,0);this.J["67"]=new c("131","132","131","2","39.5",0,0);this.J["131"]=new c("131","132","131","0","0",1,-.37577);this.J["132"]=new c("131","132","131","0","0",1,.512087);this.J["68"]=new c("133","134","134","140","1.5",0,0);this.J["133"]=new c("133","134","134","0","0",1,.321272);this.J["134"]=new c("133","134","134","0","0",1,-.675396);this.J["34"]=new c("69","70","70","2","24.5",0,0);this.J["69"]=new c("135","136","136","9","28.5",0,0);this.J["135"]=new c("135","136","136","0","0",1,-.0573845);this.J["136"]=new c("135","136","136","0","0",1,-.507455);this.J["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.J["137"]=new c("137","138","137","0","0",1,-.503909);this.J["138"]=new c("137","138","137","0","0",1,.450886);this.J["8"]=new c("17","18","17","4","44189.5",0,0);this.J["17"]=new c("35","36","35","2","21.5",0,0);this.J["35"]=new c("71","72","72","0","19.5",0,0);this.J["71"]=new c("139","140","140","9","2.5",0,0);this.J["139"]=new c("139","140","140","0","0",1,.00403497);this.J["140"]=new c("139","140","140","0","0",1,-.312656);this.J["72"]=new c("141","142","141","135","96",0,0);this.J["141"]=new c("141","142","141","0","0",1,-.465786);this.J["142"]=new c("141","142","141","0","0",1,.159633);this.J["36"]=new c("73","74","73","130","89.5",0,0);this.J["73"]=new c("143","144","144","10","4.5",0,0);this.J["143"]=new c("143","144","144","0","0",1,-.76265);this.J["144"]=new c("143","144","144","0","0",1,-.580804);this.J["74"]=new c("145","146","146","10","16.5",0,0);this.J["145"]=new c("145","146","146","0","0",1,.296357);this.J["146"]=new c("145","146","146","0","0",1,-.691659);this.J["18"]=new c("37","38","38","9","1.5",0,0);this.J["37"]=new c("37","38","38","0","0",1,.993951);this.J["38"]=new c("75","76","75","0","19",0,0);this.J["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.J["147"]=new c("147","148","147","0","0",1,-.346535);this.J["148"]=new c("147","148","147","0","0",1,-.995745);this.J["76"]=new c("147","148","147","0","0",1,-.99978);this.J["4"]=new c("9","10","9","5","4.5",0,0);this.J["9"]=new c("19","20","19","2","4.5",0,0);this.J["19"]=new c("39","40","39","140","7.5",0,0);this.J["39"]=new c("77","78","78","134","6.5",0,0);this.J["77"]=new c("149","150","150","7","11.5",0,0);this.J["149"]=new c("149","150","150","0","0",1,.729843);this.J["150"]=new c("149","150","150","0","0",1,.383857);this.J["78"]=new c("151","152","151","133","4.5",0,0);this.J["151"]=new c("151","152","151","0","0",1,.39017);this.J["152"]=new c("151","152","151","0","0",1,.0434342);this.J["40"]=new c("79","80","79","133","3.5",0,0);this.J["79"]=new c("153","154","154","8","4.5",0,0);this.J["153"]=new c("153","154","154","0","0",1,-.99536);this.J["154"]=new c("153","154","154","0","0",1,-.00943396);this.J["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.J["155"]=new c("155","156","155","0","0",1,.266272);this.J["156"]=new c("155","156","155","0","0",1,.959904);this.J["20"]=new c("41","42","42","10","65.5",0,0);this.J["41"]=new c("81","82","82","7","10.5",0,0);this.J["81"]=new c("157","158","158","2","37.5",0,0);this.J["157"]=new c("157","158","158","0","0",1,-.701873);this.J["158"]=new c("157","158","158","0","0",1,.224649);this.J["82"]=new c("159","160","159","133","9.5",0,0);this.J["159"]=new c("159","160","159","0","0",1,.0955181);this.J["160"]=new c("159","160","159","0","0",1,-.58962);this.J["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.J["83"]=new c("161","162","161","135","31",0,0);this.J["161"]=new c("161","162","161","0","0",1,-.229692);this.J["162"]=new c("161","162","161","0","0",1,.88595);this.J["84"]=new c("163","164","164","1","13.5",0,0);this.J["163"]=new c("163","164","164","0","0",1,-.992157);this.J["164"]=new c("163","164","164","0","0",1,.922159);this.J["10"]=new c("21","22","22","4","486",0,0);this.J["21"]=new c("43","44","44","133","4.5",0,0);this.J["43"]=new c("85","86","86","10","4.5",0,0);this.J["85"]=new c("165","166","166","4","158.5",0,0);this.J["165"]=new c("165","166","166","0","0",1,-.127778);this.J["166"]=new c("165","166","166","0","0",1,.955189);this.J["86"]=new c("165","166","166","0","0",1,-.994012);this.J["44"]=new c("87","88","88","1","3.5",0,0);this.J["87"]=new c("167","168","168","135","7",0,0);this.J["167"]=new c("167","168","168","0","0",1,-.997015);this.J["168"]=new c("167","168","168","0","0",1,.400821);this.J["88"]=new c("169","170","169","130","36",0,0);this.J["169"]=new c("169","170","169","0","0",1,-.898638);this.J["170"]=new c("169","170","169","0","0",1,.56129);this.J["22"]=new c("45","46","45","9","2.5",0,0);this.J["45"]=new c("89","90","90","9","1.5",0,0);this.J["89"]=new c("171","172","171","10","10.5",0,0);this.J["171"]=new c("171","172","171","0","0",1,.573986);this.J["172"]=new c("171","172","171","0","0",1,-.627266);this.J["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.J["173"]=new c("173","174","173","0","0",1,.925273);this.J["174"]=new c("173","174","173","0","0",1,-.994805);this.J["46"]=new c("91","92","91","136","5.5",0,0);this.J["91"]=new c("175","176","175","10","10.5",0,0);this.J["175"]=new c("175","176","175","0","0",1,.548352);this.J["176"]=new c("175","176","175","0","0",1,-.879195);this.J["92"]=new c("177","178","178","8","14.5",0,0);this.J["177"]=new c("177","178","178","0","0",1,.457305);this.J["178"]=new c("177","178","178","0","0",1,-.998992);this.J["2"]=new c("5","6","5","10","2.5",0,0);this.J["5"]=new c("11","12","11","9","4.5",0,0);this.J["11"]=new c("23","24","24","10","4.00001",0,0);this.J["23"]=new c("47","48","48","133","5.5",0,0);this.J["47"]=new c("93","94","93","3","13.5",0,0);this.J["93"]=new c("179","180","179","138","15.5",0,0);this.J["179"]=new c("179","180","179","0","0",1,.658398);this.J["180"]=new c("179","180","179","0","0",1,-.927007);this.J["94"]=new c("181","182","182","3","15.5",0,0);this.J["181"]=new c("181","182","182","0","0",1,-.111351);this.J["182"]=new c("181","182","182","0","0",1,-.99827);this.J["48"]=new c("95","96","95","7","167",0,0);this.J["95"]=new c("183","184","183","132","36.5",0,0);this.J["183"]=new c("183","184","183","0","0",1,.895161);this.J["184"]=new c("183","184","183","0","0",1,-.765217);this.J["96"]=new c("185","186","186","137","6.00001",0,0);this.J["185"]=new c("185","186","186","0","0",1,-.851095);this.J["186"]=new c("185","186","186","0","0",1,.674286);this.J["24"]=new c("49","50","49","137","5.5",0,0);this.J["49"]=new c("97","98","97","5","23.5",0,0);this.J["97"]=new c("187","188","187","3","28.5",0,0);this.J["187"]=new c("187","188","187","0","0",1,.951654);this.J["188"]=new c("187","188","187","0","0",1,-.993808);this.J["98"]=new c("187","188","187","0","0",1,-.99705);this.J["50"]=new c("187","188","187","0","0",1,-.997525);this.J["12"]=new c("25","26","25","8","8.5",0,0);this.J["25"]=new c("51","52","52","10","4.00001",0,0);this.J["51"]=new c("99","100","100","133","5.5",0,0);this.J["99"]=new c("189","190","190","7","40.5",0,0);this.J["189"]=new c("189","190","190","0","0",1,.151839);this.J["190"]=new c("189","190","190","0","0",1,-.855517);this.J["100"]=new c("191","192","192","133","14.5",0,0);this.J["191"]=new c("191","192","192","0","0",1,.86223);this.J["192"]=new c("191","192","192","0","0",1,.544394);this.J["52"]=new c("101","102","101","135","47.5",0,0);this.J["101"]=new c("193","194","194","4","24.5",0,0);this.J["193"]=new c("193","194","194","0","0",1,.946185);this.J["194"]=new c("193","194","194","0","0",1,.811859);this.J["102"]=new c("193","194","194","0","0",1,-.991561);this.J["26"]=new c("53","54","54","132","6.5",0,0);this.J["53"]=new c("103","104","103","131","85",0,0);this.J["103"]=new c("195","196","196","134","16.5",0,0);this.J["195"]=new c("195","196","196","0","0",1,.0473538);this.J["196"]=new c("195","196","196","0","0",1,-.999401);this.J["104"]=new c("197","198","198","8","15.5",0,0);this.J["197"]=new c("197","198","198","0","0",1,.816129);this.J["198"]=new c("197","198","198","0","0",1,-.99322);this.J["54"]=new c("105","106","105","133","3.5",0,0);this.J["105"]=new c("105","106","105","0","0",1,-.998783);this.J["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.J["199"]=new c("199","200","199","0","0",1,.528588);this.J["200"]=new c("199","200","199","0","0",1,-.998599);this.J["6"]=new c("13","14","14","10","7.5",0,0);this.J["13"]=new c("27","28","28","133","7.5",0,0);this.J["27"]=new c("55","56","56","10","4.5",0,0);this.J["55"]=new c("107","108","107","3","3.5",0,0);this.J["107"]=new c("201","202","201","4","17.5",0,0);this.J["201"]=new c("201","202","201","0","0",1,-.379512);this.J["202"]=new c("201","202","201","0","0",1,.15165);this.J["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.J["203"]=new c("203","204","203","0","0",1,-.884606);this.J["204"]=new c("203","204","203","0","0",1,.265406);this.J["56"]=new c("109","110","109","136","6.5",0,0);this.J["109"]=new c("205","206","205","4","157.5",0,0);this.J["205"]=new c("205","206","205","0","0",1,-.0142737);this.J["206"]=new c("205","206","205","0","0",1,.691279);this.J["110"]=new c("205","206","205","0","0",1,-.998086);this.J["28"]=new c("57","58","58","138","11.5",0,0);this.J["57"]=new c("111","112","112","2","6.5",0,0);this.J["111"]=new c("207","208","208","7","67.5",0,0);this.J["207"]=new c("207","208","208","0","0",1,.763925);this.J["208"]=new c("207","208","208","0","0",1,-.309645);this.J["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.J["209"]=new c("209","210","209","0","0",1,-.306635);this.J["210"]=new c("209","210","209","0","0",1,.556696);this.J["58"]=new c("113","114","113","138","50.5",0,0);this.J["113"]=new c("211","212","212","8","25.5",0,0);this.J["211"]=new c("211","212","212","0","0",1,.508234);this.J["212"]=new c("211","212","212","0","0",1,.793551);this.J["114"]=new c("211","212","212","0","0",1,-.998438);this.J["14"]=new c("29","30","29","134","27.5",0,0);this.J["29"]=new c("59","60","60","7","17.5",0,0);this.J["59"]=new c("115","116","115","135","5.5",0,0);this.J["115"]=new c("213","214","214","137","5.5",0,0);this.J["213"]=new c("213","214","214","0","0",1,.401747);this.J["214"]=new c("213","214","214","0","0",1,.0367503);this.J["116"]=new c("215","216","216","8","5.5",0,0);this.J["215"]=new c("215","216","216","0","0",1,-.0241984);this.J["216"]=new c("215","216","216","0","0",1,-.999046);this.J["60"]=new c("117","118","117","0","12.5",0,0);this.J["117"]=new c("217","218","218","132","5.5",0,0);this.J["217"]=new c("217","218","218","0","0",1,-.997294);this.J["218"]=new c("217","218","218","0","0",1,.210398);this.J["118"]=new c("219","220","219","137","1.5",0,0);this.J["219"]=new c("219","220","219","0","0",1,-.55763);this.J["220"]=new c("219","220","219","0","0",1,.074493);this.J["30"]=new c("61","62","62","133","42.5",0,0);this.J["61"]=new c("119","120","119","135","5.5",0,0);this.J["119"]=new c("221","222","222","4","473.5",0,0);this.J["221"]=new c("221","222","222","0","0",1,-.920213);this.J["222"]=new c("221","222","222","0","0",1,-.17615);this.J["120"]=new c("223","224","224","5","144",0,0);this.J["223"]=new c("223","224","224","0","0",1,-.954295);this.J["224"]=new c("223","224","224","0","0",1,-.382538);this.J["62"]=new c("121","122","121","133","50",0,0);this.J["121"]=new c("225","226","226","10","18.5",0,0);this.J["225"]=new c("225","226","226","0","0",1,-.0731343);this.J["226"]=new c("225","226","226","0","0",1,.755454);this.J["122"]=new c("227","228","228","0","30",0,0);this.J["227"]=new c("227","228","228","0","0",1,.25);this.J["228"]=new c("227","228","228","0","0",1,-.997101);}function k(d,g,h,m,n,q){this.y7=n;this.A1=q;}b=a(530);l=a(295);a={};a.Lmb=new (function(){this.bhb=l();this.G=0;this.update=function(){this.G=l() - this.bhb;};this.getValue=function(){return this.G;};this.type="num";})();a.nHb=new (function(){this.getValue=function(d,g,h){return this.G="becauseYouAdded" === h.Wa[d].context || null;};this.type="cat";})();a.oHb=new (function(){this.getValue=function(d,g,h){return this.G="becauseYouLiked" === h.Wa[d].context || null;};this.type="cat";})();a.qHb=new (function(){this.getValue=function(d,g,h){return this.G="billboard" === h.Wa[d].context || null;};this.type="cat";})();a.rHb=new (function(){this.getValue=function(d,g,h){return this.G="continueWatching" === h.Wa[d].context || null;};this.type="cat";})();a.pHb=new (function(){this.getValue=function(d,g,h){return this.G="bigRow" === h.Wa[d].context || null;};this.type="cat";})();a.sHb=new (function(){this.getValue=function(d,g,h){return this.G="genre" === h.Wa[d].context || null;};this.type="cat";})();a.tHb=new (function(){this.getValue=function(d,g,h){return this.G="netflixOriginals" === h.Wa[d].context || null;};this.type="cat";})();a.uHb=new (function(){this.getValue=function(d,g,h){return this.G="newRelease" === h.Wa[d].context || null;};this.type="cat";})();a.vHb=new (function(){this.getValue=function(d,g,h){return this.G="popularTitles" === h.Wa[d].context || null;};this.type="cat";})();a.wHb=new (function(){this.getValue=function(d,g,h){return this.G="queue" === h.Wa[d].context || null;};this.type="cat";})();a.xHb=new (function(){this.getValue=function(d,g,h){return this.G="recentlyAdded" === h.Wa[d].context || null;};this.type="cat";})();a.yHb=new (function(){this.getValue=function(d,g,h){return this.G="similars" === h.Wa[d].context || null;};this.type="cat";})();a.AHb=new (function(){this.getValue=function(d,g,h){return this.G="trendingNow" === h.Wa[d].context || null;};this.type="cat";})();a.BHb=new (function(){this.getValue=function(d,g,h){return this.G="ultraHD" === h.Wa[d].context || null;};this.type="cat";})();a.CHb=new (function(){this.getValue=function(d,g,h){return this.G="watchAgain" === h.Wa[d].context || null;};this.type="cat";})();a.zHb=new (function(){this.getValue=function(d,g,h){return this.G="topTen" === h.Wa[d].context || null;};this.type="cat";})();a.xnb=new (function(){this.update=function(d){for(var g in d.Wa){if("becauseYouAdded" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.ynb=new (function(){this.update=function(d){for(var g in d.Wa){if("becauseYouLiked" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Bnb=new (function(){this.update=function(d){for(var g in d.Wa){if("billboard" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Eqb=new (function(){this.update=function(d){for(var g in d.Wa){if("continueWatching" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Anb=new (function(){this.update=function(d){for(var g in d.Wa){if("bigRow" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Zyb=new (function(){this.update=function(d){for(var g in d.Wa){if("genre" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.wKb=new (function(){this.update=function(d){for(var g in d.Wa){if("netflixOriginals" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.yKb=new (function(){this.update=function(d){for(var g in d.Wa){if("newRelease" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.dOb=new (function(){this.update=function(d){for(var g in d.Wa){if("popularTitles" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.ko=new (function(){this.update=function(d){for(var g in d.Wa){if("queue" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.TPb=new (function(){this.update=function(d){for(var g in d.Wa){if("recentlyAdded" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.iUb=new (function(){this.update=function(d){for(var g in d.Wa){if("similars" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.NWb=new (function(){this.update=function(d){for(var g in d.Wa){if("trendingNow" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.gXb=new (function(){this.update=function(d){for(var g in d.Wa){if("ultraHD" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.fZb=new (function(){this.update=function(d){for(var g in d.Wa){if("watchAgain" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.xWb=new (function(){this.update=function(d){for(var g in d.Wa){if("topTen" === d.Wa[g].context){this.G=Math.max(d.Wa[g].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Pqb=new (function(){this.getValue=function(d,g,h){return this.G="AR" === h.Va || null;};this.type="cat";})();a.Qqb=new (function(){this.getValue=function(d,g,h){return this.G="AT" === h.Va || null;};this.type="cat";})();a.Rqb=new (function(){this.getValue=function(d,g,h){return this.G="AU" === h.Va || null;};this.type="cat";})();a.Sqb=new (function(){this.getValue=function(d,g,h){return this.G="AZ" === h.Va || null;};this.type="cat";})();a.Tqb=new (function(){this.getValue=function(d,g,h){return this.G="BB" === h.Va || null;};this.type="cat";})();a.Uqb=new (function(){this.getValue=function(d,g,h){return this.G="BE" === h.Va || null;};this.type="cat";})();a.Vqb=new (function(){this.getValue=function(d,g,h){return this.G="BO" === h.Va || null;};this.type="cat";})();a.Wqb=new (function(){this.getValue=function(d,g,h){return this.G="BR" === h.Va || null;};this.type="cat";})();a.Xqb=new (function(){this.getValue=function(d,g,h){return this.G="BS" === h.Va || null;};this.type="cat";})();a.Yqb=new (function(){this.getValue=function(d,g,h){return this.G="CA" === h.Va || null;};this.type="cat";})();a.Zqb=new (function(){this.getValue=function(d,g,h){return this.G="CH" === h.Va || null;};this.type="cat";})();a.$qb=new (function(){this.getValue=function(d,g,h){return this.G="CL" === h.Va || null;};this.type="cat";})();a.arb=new (function(){this.getValue=function(d,g,h){return this.G="CO" === h.Va || null;};this.type="cat";})();a.brb=new (function(){this.getValue=function(d,g,h){return this.G="CR" === h.Va || null;};this.type="cat";})();a.crb=new (function(){this.getValue=function(d,g,h){return this.G="CW" === h.Va || null;};this.type="cat";})();a.drb=new (function(){this.getValue=function(d,g,h){return this.G="DE" === h.Va || null;};this.type="cat";})();a.erb=new (function(){this.getValue=function(d,g,h){return this.G="DK" === h.Va || null;};this.type="cat";})();a.frb=new (function(){this.getValue=function(d,g,h){return this.G="DM" === h.Va || null;};this.type="cat";})();a.grb=new (function(){this.getValue=function(d,g,h){return this.G="DO" === h.Va || null;};this.type="cat";})();a.hrb=new (function(){this.getValue=function(d,g,h){return this.G="EC" === h.Va || null;};this.type="cat";})();a.irb=new (function(){this.getValue=function(d,g,h){return this.G="EE" === h.Va || null;};this.type="cat";})();a.jrb=new (function(){this.getValue=function(d,g,h){return this.G="EG" === h.Va || null;};this.type="cat";})();a.krb=new (function(){this.getValue=function(d,g,h){return this.G="ES" === h.Va || null;};this.type="cat";})();a.lrb=new (function(){this.getValue=function(d,g,h){return this.G="FI" === h.Va || null;};this.type="cat";})();a.mrb=new (function(){this.getValue=function(d,g,h){return this.G="FR" === h.Va || null;};this.type="cat";})();a.nrb=new (function(){this.getValue=function(d,g,h){return this.G="GB" === h.Va || null;};this.type="cat";})();a.orb=new (function(){this.getValue=function(d,g,h){return this.G="GF" === h.Va || null;};this.type="cat";})();a.prb=new (function(){this.getValue=function(d,g,h){return this.G="GP" === h.Va || null;};this.type="cat";})();a.qrb=new (function(){this.getValue=function(d,g,h){return this.G="GT" === h.Va || null;};this.type="cat";})();a.rrb=new (function(){this.getValue=function(d,g,h){return this.G="HK" === h.Va || null;};this.type="cat";})();a.srb=new (function(){this.getValue=function(d,g,h){return this.G="HN" === h.Va || null;};this.type="cat";})();a.trb=new (function(){this.getValue=function(d,g,h){return this.G="HR" === h.Va || null;};this.type="cat";})();a.urb=new (function(){this.getValue=function(d,g,h){return this.G="HU" === h.Va || null;};this.type="cat";})();a.vrb=new (function(){this.getValue=function(d,g,h){return this.G="ID" === h.Va || null;};this.type="cat";})();a.wrb=new (function(){this.getValue=function(d,g,h){return this.G="IE" === h.Va || null;};this.type="cat";})();a.xrb=new (function(){this.getValue=function(d,g,h){return this.G="IL" === h.Va || null;};this.type="cat";})();a.yrb=new (function(){this.getValue=function(d,g,h){return this.G="IN" === h.Va || null;};this.type="cat";})();a.zrb=new (function(){this.getValue=function(d,g,h){return this.G="IT" === h.Va || null;};this.type="cat";})();a.Arb=new (function(){this.getValue=function(d,g,h){return this.G="JE" === h.Va || null;};this.type="cat";})();a.Brb=new (function(){this.getValue=function(d,g,h){return this.G="JM" === h.Va || null;};this.type="cat";})();a.Crb=new (function(){this.getValue=function(d,g,h){return this.G="JP" === h.Va || null;};this.type="cat";})();a.Drb=new (function(){this.getValue=function(d,g,h){return this.G="KE" === h.Va || null;};this.type="cat";})();a.Erb=new (function(){this.getValue=function(d,g,h){return this.G="KN" === h.Va || null;};this.type="cat";})();a.Frb=new (function(){this.getValue=function(d,g,h){return this.G="KR" === h.Va || null;};this.type="cat";})();a.Grb=new (function(){this.getValue=function(d,g,h){return this.G="LU" === h.Va || null;};this.type="cat";})();a.Hrb=new (function(){this.getValue=function(d,g,h){return this.G="MK" === h.Va || null;};this.type="cat";})();a.Irb=new (function(){this.getValue=function(d,g,h){return this.G="MU" === h.Va || null;};this.type="cat";})();a.Jrb=new (function(){this.getValue=function(d,g,h){return this.G="MX" === h.Va || null;};this.type="cat";})();a.Krb=new (function(){this.getValue=function(d,g,h){return this.G="MY" === h.Va || null;};this.type="cat";})();a.Lrb=new (function(){this.getValue=function(d,g,h){return this.G="NI" === h.Va || null;};this.type="cat";})();a.Mrb=new (function(){this.getValue=function(d,g,h){return this.G="NL" === h.Va || null;};this.type="cat";})();a.Nrb=new (function(){this.getValue=function(d,g,h){return this.G="NO" === h.Va || null;};this.type="cat";})();a.Orb=new (function(){this.getValue=function(d,g,h){return this.G="NZ" === h.Va || null;};this.type="cat";})();a.Prb=new (function(){this.getValue=function(d,g,h){return this.G="OM" === h.Va || null;};this.type="cat";})();a.Qrb=new (function(){this.getValue=function(d,g,h){return this.G="PA" === h.Va || null;};this.type="cat";})();a.Rrb=new (function(){this.getValue=function(d,g,h){return this.G="PE" === h.Va || null;};this.type="cat";})();a.Srb=new (function(){this.getValue=function(d,g,h){return this.G="PF" === h.Va || null;};this.type="cat";})();a.Trb=new (function(){this.getValue=function(d,g,h){return this.G="PH" === h.Va || null;};this.type="cat";})();a.Urb=new (function(){this.getValue=function(d,g,h){return this.G="PK" === h.Va || null;};this.type="cat";})();a.Vrb=new (function(){this.getValue=function(d,g,h){return this.G="PL" === h.Va || null;};this.type="cat";})();a.Wrb=new (function(){this.getValue=function(d,g,h){return this.G="PT" === h.Va || null;};this.type="cat";})();a.Xrb=new (function(){this.getValue=function(d,g,h){return this.G="PY" === h.Va || null;};this.type="cat";})();a.Yrb=new (function(){this.getValue=function(d,g,h){return this.G="QA" === h.Va || null;};this.type="cat";})();a.Zrb=new (function(){this.getValue=function(d,g,h){return this.G="RO" === h.Va || null;};this.type="cat";})();a.$rb=new (function(){this.getValue=function(d,g,h){return this.G="RS" === h.Va || null;};this.type="cat";})();a.bsb=new (function(){this.getValue=function(d,g,h){return this.G="RU" === h.Va || null;};this.type="cat";})();a.csb=new (function(){this.getValue=function(d,g,h){return this.G="SA" === h.Va || null;};this.type="cat";})();a.dsb=new (function(){this.getValue=function(d,g,h){return this.G="SE" === h.Va || null;};this.type="cat";})();a.esb=new (function(){this.getValue=function(d,g,h){return this.G="SG" === h.Va || null;};this.type="cat";})();a.fsb=new (function(){this.getValue=function(d,g,h){return this.G="SV" === h.Va || null;};this.type="cat";})();a.gsb=new (function(){this.getValue=function(d,g,h){return this.G="SX" === h.Va || null;};this.type="cat";})();a.hsb=new (function(){this.getValue=function(d,g,h){return this.G="TH" === h.Va || null;};this.type="cat";})();a.isb=new (function(){this.getValue=function(d,g,h){return this.G="TR" === h.Va || null;};this.type="cat";})();a.jsb=new (function(){this.getValue=function(d,g,h){return this.G="TT" === h.Va || null;};this.type="cat";})();a.ksb=new (function(){this.getValue=function(d,g,h){return this.G="TW" === h.Va || null;};this.type="cat";})();a.lsb=new (function(){this.getValue=function(d,g,h){return this.G="US" === h.Va || null;};this.type="cat";})();a.msb=new (function(){this.getValue=function(d,g,h){return this.G="UY" === h.Va || null;};this.type="cat";})();a.nsb=new (function(){this.getValue=function(d,g,h){return this.G="VE" === h.Va || null;};this.type="cat";})();a.osb=new (function(){this.getValue=function(d,g,h){return this.G="ZA" === h.Va || null;};this.type="cat";})();a.VPb=new (function(){this.getValue=function(d,g,h){return this.G=1 === h.Oh || null;};this.type="cat";})();a.WPb=new (function(){this.getValue=function(d,g,h){return this.G=10 === h.Oh || null;};this.type="cat";})();a.XPb=new (function(){this.getValue=function(d,g,h){return this.G=11 === h.Oh || null;};this.type="cat";})();a.YPb=new (function(){this.getValue=function(d,g,h){return this.G=12 === h.Oh || null;};this.type="cat";})();a.ZPb=new (function(){this.getValue=function(d,g,h){return this.G=13 === h.Oh || null;};this.type="cat";})();a.$Pb=new (function(){this.getValue=function(d,g,h){return this.G=14 === h.Oh || null;};this.type="cat";})();a.aQb=new (function(){this.getValue=function(d,g,h){return this.G=15 === h.Oh || null;};this.type="cat";})();a.bQb=new (function(){this.getValue=function(d,g,h){return this.G=16 === h.Oh || null;};this.type="cat";})();a.cQb=new (function(){this.getValue=function(d,g,h){return this.G=17 === h.Oh || null;};this.type="cat";})();a.dQb=new (function(){this.getValue=function(d,g,h){return this.G=18 === h.Oh || null;};this.type="cat";})();a.eQb=new (function(){this.getValue=function(d,g,h){return this.G=19 === h.Oh || null;};this.type="cat";})();a.fQb=new (function(){this.getValue=function(d,g,h){return this.G=2 === h.Oh || null;};this.type="cat";})();a.gQb=new (function(){this.getValue=function(d,g,h){return this.G=20 === h.Oh || null;};this.type="cat";})();a.hQb=new (function(){this.getValue=function(d,g,h){return this.G=21 === h.Oh || null;};this.type="cat";})();a.iQb=new (function(){this.getValue=function(d,g,h){return this.G=22 === h.Oh || null;};this.type="cat";})();a.jQb=new (function(){this.getValue=function(d,g,h){return this.G=23 === h.Oh || null;};this.type="cat";})();a.kQb=new (function(){this.getValue=function(d,g,h){return this.G=3 === h.Oh || null;};this.type="cat";})();a.lQb=new (function(){this.getValue=function(d,g,h){return this.G=4 === h.Oh || null;};this.type="cat";})();a.mQb=new (function(){this.getValue=function(d,g,h){return this.G=5 === h.Oh || null;};this.type="cat";})();a.nQb=new (function(){this.getValue=function(d,g,h){return this.G=6 === h.Oh || null;};this.type="cat";})();a.oQb=new (function(){this.getValue=function(d,g,h){return this.G=7 === h.Oh || null;};this.type="cat";})();a.pQb=new (function(){this.getValue=function(d,g,h){return this.G=8 === h.Oh || null;};this.type="cat";})();a.qQb=new (function(){this.getValue=function(d,g,h){return this.G=9 === h.Oh || null;};this.type="cat";})();a.sVb=new (function(){this.update=function(d){"down" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.uVb=new (function(){this.update=function(d){"right" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.tVb=new (function(){this.update=function(d){"left" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.vVb=new (function(){this.update=function(d){"up" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.dJb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.rowIndex);};this.getValue=function(){return this.G;};this.type="num";})();a.eJb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.Dga);};this.getValue=function(){return this.G;};this.type="num";})();a.jJb=new (function(){this.oQ=this.G=0;this.update=function(d){this.oQ++;this.G=1 * (this.G + d.rowIndex) / this.oQ;};this.getValue=function(){return this.G;};this.type="num";})();a.kJb=new (function(){this.oQ=this.G=0;this.update=function(d){this.oQ++;return this.G=1 * (this.G + d.Dga) / this.oQ;};this.getValue=function(){return this.G;};this.type="num";})();a.NOb=new (function(){this.getValue=function(d,g,h){return this.G=h.Dga + g;};this.type="num";})();a.OOb=new (function(){this.getValue=function(d,g,h){return this.G=h.rowIndex + d;};this.type="num";})();f.prototype.OC=function(d){return this.eLa(this.J["0"].k3a(d),d);};f.prototype.eLa=function(d,g){return "string" == typeof d?this.eLa(this.J[d].k3a(g),g):d;};c.prototype.k3a=function(d){switch(this.sGb){case 0:switch(d.features[this.xX].type){case "cat":return null === d.features[this.xX].value?this.b_a:"missing" == d.features[this.xX].value?this.toa:this.$7a;case "num":return null === d.features[this.xX].value?this.toa:d.features[this.xX].value < this.split?this.$7a:this.b_a;default:return this.toa;}case 1:return this.OC;default:return this.OC;}};b.declare({VU:["modelSelector","modelone"],Xpb:["colEpisodeList",5],YDb:["holdDuration",15E3],$2a:["rowFirst",2],NOa:["colFirst",5],b3a:["rowScroll",2],OOa:["colScroll",6],LRb:["rowScrollHorizontal",6],cSb:["searchTop",3],$Pa:["cwFirst",2],VT:["horizontalItemsFocusedMode",3],uGb:["itemsPerRank",1],UIb:["maxNumberPayloadsStored",10],aZa:["maxNumberTitlesScheduled",5],u5b:["enableDetailedLogging",!0],t8b:["rowStep",20],U4b:["colStep",15],X7b:["pageRows",100],W7b:["pageColumns",75],Jna:["maskParamsList",new (function(){var d,g;this.Jna=[];this.De={};this.y7=20;this.A1=15;for(d=0;100 > d;d++){for(g=0;75 > g;g++){(Math.floor(d / this.y7) + "_" + Math.floor(g / this.A1) in this.De) || (this.De[Math.floor(d / this.y7) + "_" + Math.floor(g / this.A1)]=1,this.Jna.push(new k("grid",10,5,5,Math.floor(d / this.y7),Math.floor(g / this.A1))));}}})().Jna],J:["nodes",new f().J],mapping:["mapping",{eJb:"0",kJb:"1",dJb:"2",jJb:"3",Lmb:"4",vVb:"5",tVb:"6",uVb:"7",sVb:"8",OOb:"9",NOb:"10",nHb:"11",oHb:"12",qHb:"13",rHb:"14",pHb:"15",sHb:"16",tHb:"17",uHb:"18",vHb:"19",wHb:"20",xHb:"21",yHb:"22",zHb:"23",AHb:"24",BHb:"25",CHb:"26",VPb:"27",WPb:"28",XPb:"29",YPb:"30",ZPb:"31",$Pb:"32",aQb:"33",bQb:"34",cQb:"35",dQb:"36",eQb:"37",fQb:"38",gQb:"39",hQb:"40",iQb:"41",jQb:"42",kQb:"43",lQb:"44",mQb:"45",nQb:"46",oQb:"47",pQb:"48",qQb:"49",Pqb:"50",Qqb:"51",Rqb:"52",Sqb:"53",Tqb:"54",Uqb:"55",Vqb:"56",Wqb:"57",Xqb:"58",Yqb:"59",Zqb:"60",$qb:"61",arb:"62",brb:"63",crb:"64",drb:"65",erb:"66",frb:"67",grb:"68",hrb:"69",irb:"70",jrb:"71",krb:"72",lrb:"73",mrb:"74",nrb:"75",orb:"76",prb:"77",qrb:"78",rrb:"79",srb:"80",trb:"81",urb:"82",vrb:"83",wrb:"84",xrb:"85",yrb:"86",zrb:"87",Arb:"88",Brb:"89",Crb:"90",Drb:"91",Erb:"92",Frb:"93",Grb:"94",Hrb:"95",Irb:"96",Jrb:"97",Krb:"98",Lrb:"99",Mrb:"100",Nrb:"101",Orb:"102",Prb:"103",Qrb:"104",Rrb:"105",Srb:"106",Trb:"107",Urb:"108",Vrb:"109",Wrb:"110",Xrb:"111",Yrb:"112",Zrb:"113",$rb:"114",bsb:"115",csb:"116",dsb:"117",esb:"118",fsb:"119",gsb:"120",hsb:"121",isb:"122",jsb:"123",ksb:"124",lsb:"125",msb:"126",nsb:"127",osb:"128",fZb:"129",TPb:"130",iUb:"131",ko:"132",Eqb:"133",Zyb:"134",NWb:"135",xWb:"136",Bnb:"137",yKb:"138",gXb:"139",dOb:"140",xnb:"141",Anb:"142",ynb:"143",wKb:"144"}],features:["features",a],b4b:["_modelName","tree"],X3b:["_format","xgboost"],a4b:["_itemsToKeep",5],$3b:["_itemsThreshold",null],E4b:["cacheLimit",20]});r.exports={config:b,T6b:k,Z4b:c};},function(r,b,a){r.exports=a(534);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(535);pb._cad_global={};pb.DEBUG=!1;a(12);a(11);a(18);a(24);a(47);a(86);a(1204);a(527);a(62);a(51);a(21);a(73);a(64);a(1205);a(281);a(325);a(1206);a(504);a(1207);a(501);a(508);a(506);a(507);a(528);a(495);a(496);a(498);a(276);a(275);a(1208);a(13);a(520);a(1209);a(155);a(72);a(502);a(152);a(439);a(440);a(260);a(1210);a(1211);a(466);a(1212);a(459);a(278);a(457);a(277);a(494);a(1213);a(280);a(510);a(188);a(529);a(129);a(1214);a(100);a(1221);a(1222);a(1223);a(1224);a(1226);a(1228);a(509);a(63);a(1229);a(505);a(443);a(503);a(519);a(1230);a(1231);a(294);a(160);a(1232);a(1233);a(1234);a(1236);a(1237);a(499);},function(r,b,a){(function(c){var f;(function(k){var C,G,J,K,H,L,P,I,O;function l(N,M,Q){var S;S=O.get(N);if(!S){if(!Q)return;S=new P();O.set(N,S);}N=S.get(M);if(!N){if(!Q)return;N=new P();S.set(M,N);}return N;}function d(N,M,Q){if(g(N,M,Q))return !0;M=v(M);return null !== M?d(N,M,Q):!1;}function g(N,M,Q){M=l(M,Q,!1);return void 0 !== M && ! !M.has(N);}function h(N,M,Q){if(g(N,M,Q))return m(N,M,Q);M=v(M);return null !== M?h(N,M,Q):void 0;}function m(N,M,Q){M=l(M,Q,!1);return void 0 === M?void 0:M.get(N);}function n(N,M){var Q,fa;Q=q(N,M);N=v(N);if(null === N)return Q;M=n(N,M);if(0 >= M.length)return Q;if(0 >= Q.length)return M;N=new I();for(var S=0;S < Q.length;S++){fa=Q[S];N.add(fa);}for(Q=0;Q < M.length;Q++){fa=M[Q];N.add(fa);}return z(N);}function q(N,M){var Q;N=l(N,M,!1);Q=[];N && y(N,function(S,fa){return Q.push(fa);});return Q;}function p(N){return void 0 === N;}function t(N){return Array.isArray?Array.isArray(N):N instanceof Array || "[object Array]" === Object.prototype.toString.call(N);}function u(N){return "object" === typeof N?null !== N:"function" === typeof N;}function w(N){return "symbol" === typeof N?N:String(N);}function v(N){var M,Q;M=Object.getPrototypeOf(N);if("function" !== typeof N || N === L || M !== L)return M;Q=N.prototype;Q=Q && Object.getPrototypeOf(Q);if(null == Q || Q === Object.prototype)return M;Q=Q.constructor;return "function" !== typeof Q || Q === N?M:Q;}function x(N){N=N.next();return N.done?void 0:N;}function y(N,M,Q){var S,fa,qa;S=N.entries;if("function" === typeof S){S=S.call(N);try{for(;fa=x(S);){qa=fa.value;M.call(Q,qa[1],qa[0],N);}}finally{fa && (N=S["return"]) && N.call(S);}}else (S=N.forEach,"function" === typeof S && S.call(N,M,Q));}function z(N){var M;M=[];y(N,function(Q,S){M.push(S);});return M;}function A(N,M,Q){var S;S=0;return {next:function(){var fa;if((N || M) && S < (N || M).length){fa=S++;switch(Q){case "key":return {value:N[fa],done:!1};case "value":return {value:M[fa],done:!1};case "key+value":return {value:[N[fa],M[fa]],done:!1};}}M=N=void 0;return {value:void 0,done:!0};},"throw":function(fa){if(N || M)M=N=void 0;throw fa;},"return":function(fa){if(N || M)M=N=void 0;return {value:fa,done:!0};}};}function B(){var N;N={};return (function(){function M(){this.ds=[];this.Wo=[];this.i_=N;this.h_=-2;}Object.defineProperty(M.prototype,"size",{get:function(){return this.ds.length;},enumerable:!0,configurable:!0});M.prototype.has=function(Q){return 0 <= this.F_(Q,!1);};M.prototype.get=function(Q){Q=this.F_(Q,!1);return 0 <= Q?this.Wo[Q]:void 0;};M.prototype.set=function(Q,S){Q=this.F_(Q,!0);this.Wo[Q]=S;return this;};M.prototype.delete=function(Q){var S;S=this.F_(Q,!1);if(0 <= S){Q=this.ds.length;for(S+=1;S < Q;S++){this.ds[S - 1]=this.ds[S];this.Wo[S - 1]=this.Wo[S];}this.ds.length--;this.Wo.length--;this.i_=N;this.h_=-2;return !0;}return !1;};M.prototype.clear=function(){this.ds.length=0;this.Wo.length=0;this.i_=N;this.h_=-2;};M.prototype.keys=function(){return A(this.ds,void 0,"key");};M.prototype.values=function(){return A(void 0,this.Wo,"value");};M.prototype.entries=function(){return A(this.ds,this.Wo,"key+value");};M.prototype.F_=function(Q,S){var fa;if(this.i_ === Q)return this.h_;fa=this.ds.indexOf(Q);0 > fa && S && (fa=this.ds.length,this.ds.push(Q),this.Wo.push(void 0));return (this.i_=Q,this.h_=fa);};return M;})();}function D(){return (function(){function N(){this.xl=new P();}Object.defineProperty(N.prototype,"size",{get:function(){return this.xl.size;},enumerable:!0,configurable:!0});N.prototype.has=function(M){return this.xl.has(M);};N.prototype.add=function(M){return (this.xl.set(M,M),this);};N.prototype.delete=function(M){return this.xl.delete(M);};N.prototype.clear=function(){this.xl.clear();};N.prototype.keys=function(){return this.xl.keys();};N.prototype.values=function(){return this.xl.values();};N.prototype.entries=function(){return this.xl.entries();};return N;})();}function E(){var S,fa;function N(qa,xa){for(var ua=0;ua < xa;++ua){qa[ua]=255 * Math.random() | 0;}return qa;}function M(){var qa,X;do {qa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):N(new Uint8Array(16),16):N(Array(16),16);qa[6]=qa[6] & 79 | 64;qa[8]=qa[8] & 191 | 128;for(var xa="",ua=0;16 > ua;++ua){X=qa[ua];if(4 === ua || 6 === ua || 8 === ua)xa+="-";16 > X && (xa+="0");xa+=X.toString(16).toLowerCase();}qa="@@WeakMap@@" + xa;}while(H.has(S,qa));S[qa]=!0;return qa;}function Q(qa,xa){if(!C.call(qa,fa)){if(!xa)return;Object.defineProperty(qa,fa,{value:K()});}return qa[fa];}S=K();fa=M();return (function(){function qa(){this.EQ=M();}qa.prototype.has=function(xa){xa=Q(xa,!1);return void 0 !== xa?H.has(xa,this.EQ):!1;};qa.prototype.get=function(xa){xa=Q(xa,!1);return void 0 !== xa?H.get(xa,this.EQ):void 0;};qa.prototype.set=function(xa,ua){Q(xa,!0)[this.EQ]=ua;return this;};qa.prototype.delete=function(xa){xa=Q(xa,!1);return void 0 !== xa?delete xa[this.EQ]:!1;};qa.prototype.clear=function(){this.EQ=M();};return qa;})();}function F(N){N.U3b=1;delete N.V3b;return N;}C=Object.prototype.hasOwnProperty;G="function" === typeof Object.create;J=(function(){var M;function N(){}M={};N.prototype=M;return new N().__proto__ === M;})();K=G?function(){return F(Object.create(null));}:J?function(){return F({__proto__:null});}:function(){return F({});};(function(N){var M;M=!G && !J;N.has=M?function(Q,S){return C.call(Q,S);}:function(Q,S){return (S in Q);};N.get=M?function(Q,S){return C.call(Q,S)?Q[S]:void 0;}:function(Q,S){return Q[S];};})(H || (H={}));L=Object.getPrototypeOf(Function);P="function" === typeof Map?Map:B();I="function" === typeof Set?Set:D();O=new ("function" === typeof WeakMap?WeakMap:E())();k.Qq=function(N,M,Q,S){var qa;if(p(S)){if(p(Q)){if(!t(N))throw new TypeError();if("function" !== typeof M)throw new TypeError();for(Q=N.length - 1;0 <= Q;--Q){if((S=(0,N[Q])(M),!p(S))){if("function" !== typeof S)throw new TypeError();M=S;}}return M;}if(!t(N))throw new TypeError();if(!u(M))throw new TypeError();Q=w(Q);for(S=N.length - 1;0 <= S;--S){(0,N[S])(M,Q);}}else {if(!t(N))throw new TypeError();if(!u(M))throw new TypeError();if(p(Q))throw new TypeError();if(!u(S))throw new TypeError();Q=w(Q);for(var fa=N.length - 1;0 <= fa;--fa){qa=(0,N[fa])(M,Q,S);if(!p(qa)){if(!u(qa))throw new TypeError();S=qa;}}return S;}};k.yd=function(N,M){return function(Q,S){if(p(S)){if("function" !== typeof Q)throw new TypeError();l(Q,void 0,!0).set(N,M);}else {if(!u(Q))throw new TypeError();S=w(S);l(Q,S,!0).set(N,M);}};};k.Kha=function(N,M,Q){var S;if(!u(Q))throw new TypeError();p(S) || (S=w(S));l(Q,S,!0).set(N,M);};k.CDb=function(N,M){var Q;if(!u(M))throw new TypeError();p(Q) || (Q=w(Q));return d(N,M,Q);};k.kla=function(N,M){var Q;if(!u(M))throw new TypeError();p(Q) || (Q=w(Q));return g(N,M,Q);};k.getMetadata=function(N,M,Q){if(!u(M))throw new TypeError();p(Q) || (Q=w(Q));return h(N,M,Q);};k.V5b=function(N,M,Q){if(!u(M))throw new TypeError();p(Q) || (Q=w(Q));return m(N,M,Q);};k.T5b=function(N,M){if(!u(N))throw new TypeError();p(M) || (M=w(M));return n(N,M);};k.W5b=function(N,M){if(!u(N))throw new TypeError();p(M) || (M=w(M));return q(N,M);};k.b5b=function(N,M,Q){var S;if(!u(M))throw new TypeError();p(Q) || (Q=w(Q));S=l(M,Q,!1);if(p(S) || !S.delete(N))return !1;if(0 < S.size)return !0;N=O.get(M);N.delete(Q);if(0 < N.size)return !0;O.delete(M);return !0;};(function(N){if("undefined" !== typeof N.Reflect){if(N.Reflect !== k)for(var M in k){C.call(k,M) && (N.Reflect[M]=k[M]);}}else N.Reflect=k;})("undefined" !== typeof pb?pb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(f || (f={}));}).call(this,a(297));},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t;c=this && this.__awaiter || (function(u,w,v,x){return new (v || (v=Promise))(function(y,z){function A(E){try{D(x.next(E));}catch(F){z(F);}}function B(E){try{D(x["throw"](E));}catch(F){z(F);}}function D(E){E.done?y(E.value):new v(function(F){F(E.value);}).then(A,B);}D((x=x.apply(u,w || [])).next());});});f=this && this.__generator || (function(u,w){var y,z,A,B,D;function v(E){return function(F){return x([E,F]);};}function x(E){if(z)throw new TypeError("Generator is already executing.");for(;y;){try{if((z=1,A && (B=A[E[0] & 2?"return":E[0]?"throw":"next"]) && !(B=B.call(A,E[1])).done))return B;if((A=0,B))E=[0,B.value];switch(E[0]){case 0:case 1:B=E;break;case 4:return (y.label++,{value:E[1],done:!1});case 5:y.label++;A=E[1];E=[0];continue;case 7:E=y.Tm.pop();y.kn.pop();continue;default:if(!(B=y.kn,B=0 < B.length && B[B.length - 1]) && (6 === E[0] || 2 === E[0])){y=0;continue;}if(3 === E[0] && (!B || E[1] > B[0] && E[1] < B[3]))y.label=E[1];else if(6 === E[0] && y.label < B[1])(y.label=B[1],B=E);else if(B && y.label < B[2])(y.label=B[2],y.Tm.push(E));else {B[2] && y.Tm.pop();y.kn.pop();continue;}}E=w.call(u,y);}catch(F){E=[6,F];A=0;}finally{z=B=0;}}if(E[0] & 5)throw E[1];return {value:E[0]?E[1]:void 0,done:!0};}y={label:0,Yd:function(){if(B[0] & 1)throw B[1];return B[1];},kn:[],Tm:[]};return (D={next:v(0),"throw":v(1),"return":v(2)},"function" === typeof Symbol && (D[Symbol.iterator]=function(){return this;}),D);});Object.defineProperty(b,"__esModule",{value:!0});k=a(537);l=a(56);d=a(75);a(41);g=a(298);h=a(538);m=a(545);n=a(547);q=a(103);p=a(130);a(550);t=a(551);r=(function(){function u(w){w=w || ({});if("object" !== typeof w)throw Error("" + l.M9a);if(void 0 === w.oF)w.oF=d.Or.UZ;else if(w.oF !== d.Or.Fba && w.oF !== d.Or.UZ && w.oF !== d.Or.Request)throw Error("" + l.K9a);if(void 0 === w.IR)w.IR=!1;else if("boolean" !== typeof w.IR)throw Error("" + l.J9a);if(void 0 === w.nH)w.nH=!1;else if("boolean" !== typeof w.nH)throw Error("" + l.L9a);this.options={IR:w.IR,oF:w.oF,nH:w.nH};this.id=q.id();this.cJ=new t.dcb();this.kkb=[];this.parent=this.wda=null;this.bib=new g.qaa();}u.prototype.load=function(){var y,z;for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}v=this.AJa();for(var x=0;x < w.length;x++){y=w[x];z=v(y.id);y.Xqa(z.uNa,z.x6a,z.qXa,z.V1a);}};u.prototype.xU=function(){for(var w=[],v=0;v < arguments.length;v++){w[v]=arguments[v];}c(this,void 0,void 0,function(){var x,y,z,A,B;return f(this,function(D){switch(D.label){case 0:(x=this.AJa(),y=0,z=w,D.label=1);case 1:if(!(y < z.length))return [3,4];A=z[y];B=x(A.id);return [4,A.Xqa(B.uNa,B.x6a,B.qXa,B.V1a)];case 2:(D.Yd(),D.label=3);case 3:return (y++,[3,1]);case 4:return [2];}});});};u.prototype.bind=function(w){var v;v=new k.Y8a(w,this.options.oF || d.Or.UZ);this.cJ.add(w,v);return new n.$8a(v);};u.prototype.PPb=function(w){this.w6a(w);return this.bind(w);};u.prototype.w6a=function(w){try{this.cJ.remove(w);}catch(v){throw Error(l.v9a + " " + p.sL(w));}};u.prototype.JWa=function(w){var v;v=this.cJ.AVa(w);!v && this.parent && (v=this.parent.JWa(w));return v;};u.prototype.restore=function(){var w;w=this.kkb.pop();if(void 0 === w)throw Error(l.Scb);this.cJ=w.LR;this.wda=w.KJb;};u.prototype.wsb=function(){var w;w=new u(this.options);w.parent=this;return w;};u.prototype.get=function(w){return this.zJa(!1,!1,d.Tw.Tba,w);};u.prototype.getAll=function(w){return this.zJa(!0,!0,d.Tw.Tba,w);};u.prototype.resolve=function(w){var v;v=this.wsb();v.bind(w).a6a();return v.get(w);};u.prototype.AJa=function(){var z;function w(A){return function(B){B=z.PPb.bind(z)(B);B.oc.gKb=A;return B;};}function v(){return function(A){return z.JWa.bind(z)(A);};}function x(){return function(A){z.w6a.bind(z)(A);};}function y(A){return function(B){B=z.bind.bind(z)(B);B.oc.gKb=A;return B;};}z=this;return function(A){return {uNa:y(A),qXa:v(A),V1a:w(A),x6a:x(A)};};};u.prototype.zJa=function(w,v,x,y){var z;z=null;w={jnb:w,Dqb:function(A){return A;},RFb:v,key:void 0,kg:y,LVb:x,value:void 0};if(this.wda){if((z=this.wda(w),void 0 === z || null === z))throw Error(l.Kbb);}else z=this.ojb()(w);return z;};u.prototype.ojb=function(){var w;w=this;return function(v){var x;x=h.HM(w.bib,w,v.RFb,v.LVb,v.kg,v.key,v.value,v.jnb);x=v.Dqb(x);return m.resolve(x);};};return u;})();b.iY=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(75);f=a(103);r=(function(){function k(l,d){this.id=f.id();this.vea=!1;this.kg=l;this.scope=d;this.type=c.gj.Wbb;this.fF=function(){return !0;};this.IK=this.Lv=this.qz=this.UK=this.cache=this.Ol=null;}k.prototype.clone=function(){var l;l=new k(this.kg,this.scope);l.vea=!1;l.Ol=this.Ol;l.IK=this.IK;l.scope=this.scope;l.type=this.type;l.UK=this.UK;l.qz=this.qz;l.fF=this.fF;l.Lv=this.Lv;l.cache=this.cache;return l;};return k;})();b.Y8a=r;},function(r,b,a){var d,g,h,m,n,q,p,t,u,w,v,x;function c(y,z,A,B,D){var E,F;E=l(A.$a,D.kg);F=[];E.length === d.P9.XCa && A.$a.options.IR && "function" === typeof D.kg && y.qTa(D.kg).UOa && (A.$a.bind(D.kg).a6a(),E=l(A.$a,D.kg));F=z?E:E.filter(function(C){var G;G=new v.Request(C.kg,A,B,C,D);return C.fF(G);});f(D.kg,F,D,A.$a);return F;}function f(y,z,A,B){switch(z.length){case d.P9.XCa:if(A.YWa())return z;y=q.sL(y);z=g.Qcb;z+=q.mHb(y,A);z+=q.VXa(B,y,l);throw Error(z);case d.P9.hdb:if(!A.isArray())return z;default:if(A.isArray())return z;y=q.sL(y);z=g.c8a + " " + y;z+=q.VXa(B,y,l);throw Error(z);}}function k(y,z,A,B,D,E){var F;if(null === D){z=c(y,z,B,null,E);F=new v.Request(A,B,null,z,E);A=new u.eeb(B,F);B.vlb(A);}else (z=c(y,z,B,D,E),F=D.LLa(E.kg,z,E));z.forEach(function(C){var G,J,K;G=null;if(E.isArray())G=F.LLa(C.kg,C,E);else {if(C.cache)return;G=F;}if(C.type === h.gj.Instance && null !== C.Ol){J=w.Zzb(y,C.Ol);if(!B.$a.options.nH){K=w.uzb(y,C.Ol);if(J.length < K)throw (C=g.e8a(w.getFunctionName(C.Ol)),Error(C));}J.forEach(function(H){k(y,!1,H.kg,B,G,H);});}});}function l(y,z){var A,B;A=[];B=y.cJ;B.AVa(z)?A=B.get(z):null !== y.parent && (A=l(y.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(539);g=a(56);h=a(75);m=a(41);n=a(299);q=a(130);p=a(540);t=a(65);u=a(541);w=a(542);v=a(544);x=a(301);b.N5b=function(y){return y.cJ;};b.HM=function(y,z,A,B,D,E,F,C){void 0 === C && (C=!1);z=new p.Ywa(z);A=new t.Metadata(A?m.AD:m.nP,D);B=new x.RZ(B,"",D,A);void 0 !== E && (E=new t.Metadata(E,F),B.yd.push(E));try{return (k(y,C,D,z,null,B),z);}catch(G){throw (n.eXa(G) && z.HM && q.Apb(z.HM.Gra),G);}};b.V4b=function(y,z,A,B){A=new x.RZ(h.Tw.Tba,"",z,new t.Metadata(A,B));y=new p.Ywa(y);return new v.Request(z,y,null,[],A);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.P9={v1b:2,XCa:0,hdb:1};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(103);r=(function(){function f(k){this.id=c.id();this.$a=k;}f.prototype.vlb=function(k){this.HM=k;};return f;})();b.Ywa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eeb=(function(){return function(a,c){this.BM=a;this.Gra=c;};})();},function(r,b,a){var d,g,h,m,n,q;function c(p,t,u,w){var v,x,y,z,B,D,E,F,C,G,J,K;v=p.qTa(u);x=v.UOa;if(void 0 === x)throw Error(g.ocb + " " + t + ".");v=v.sYb;y=Object.keys(v);z=0 === u.length && 0 < y.length?y.length:u.length;y=[];for(var A=0;A < z;A++){B=A;D=w;E=t;F=x;C=v[B.toString()] || [];G=l(C);J=!0 !== G.ej;F=F[B];K=G.l || G.rG;F=K?K:F;F instanceof d.X$ && (F=F.rXb());if(J){J=F === Function;J=F === Object || J || void 0 === F;if(!D && J)throw Error(g.pcb + " argument " + B + " in class " + E + ".");B=new q.RZ(h.Tw.Xwa,G.aX,F);B.yd=C;C=B;}else C=null;null !== C && y.push(C);}p=f(p,u);return y.concat(p);}function f(p,t){var y,z,A;for(var u=p.TBb(t),w=[],v=0,x=Object.keys(u);v < x.length;v++){y=x[v];z=u[y];A=l(u[y]);y=new q.RZ(h.Tw.Owa,A.aX || y,A.l || A.rG);y.yd=z;w.push(y);}t=Object.getPrototypeOf(t.prototype).constructor;t !== Object && (p=f(p,t),w=w.concat(p));return w;}function k(p,t){var u,w;t=Object.getPrototypeOf(t.prototype).constructor;if(t !== Object){u=n.getFunctionName(t);u=c(p,u,t,!0);w=u.map(function(v){return v.yd.filter(function(x){return x.key === m.YP;});});w=[].concat.apply([],w).length;u=u.length - w;return 0 < u?u:k(p,t);}return 0;}function l(p){var t;t={};p.forEach(function(u){t[u.key.toString()]=u.value;});return {l:t[m.nP],rG:t[m.AD],aX:t[m.dZ],ej:t[m.YP]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(300);g=a(56);h=a(75);m=a(41);n=a(130);b.getFunctionName=n.getFunctionName;q=a(301);b.Zzb=function(p,t){var u;u=n.getFunctionName(t);return c(p,u,t,!1);};b.uzb=k;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.KN=c;}a.prototype.startsWith=function(c){return 0 === this.KN.indexOf(c);};a.prototype.endsWith=function(c){var f;f=c.split("").reverse().join("");c=this.KN.split("").reverse().join("");return this.startsWith.call({KN:c},f);};a.prototype.contains=function(c){return -1 !== this.KN.indexOf(c);};a.prototype.equals=function(c){return this.KN === c;};a.prototype.value=function(){return this.KN;};return a;})();b.meb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(103);r=(function(){function f(k,l,d,g,h){this.id=c.id();this.kg=k;this.BM=l;this.jz=d;this.target=h;this.qga=[];this.LR=Array.isArray(g)?g:[g];this.iRb=null === d?new Map():null;}f.prototype.LLa=function(k,l,d){k=new f(k,this.BM,this,l,d);this.qga.push(k);return k;};return f;})();b.Request=r;},function(r,b,a){var k,l,d,g,h;function c(m){return function(n){var q,p,t,u,w;q=n.LR;p=n.qga;t=n.target && n.target.isArray();u=!n.jz || !n.jz.target || !n.target || !n.jz.target.JIb(n.target.kg);if(t && u)return p.map(function(v){return c(m)(v);});t=null;if(!n.target.YWa() || 0 !== q.length){w=q[0];q=w.scope === l.Or.Fba;u=w.scope === l.Or.Request;if(q && w.vea)return w.cache;if(u && null !== m && m.has(w.id))return m.get(w.id);if(w.type === l.gj.Vwa)t=w.cache;else if(w.type === l.gj.Function)t=w.cache;else if(w.type === l.gj.Wwa)t=w.Ol;else if(w.type === l.gj.eya && null !== w.IK)t=f("toDynamicValue",w.kg,function(){return w.IK(n.BM);});else if(w.type === l.gj.w$ && null !== w.UK)t=f("toFactory",w.kg,function(){return w.UK(n.BM);});else if(w.type === l.gj.LFa && null !== w.qz)t=f("toProvider",w.kg,function(){return w.qz(n.BM);});else if(w.type === l.gj.Instance && null !== w.Ol)t=h.uRb(w.Ol,p,c(m));else throw (p=g.sL(n.kg),Error(k.Gbb + " " + p));"function" === typeof w.Lv && (t=w.Lv(n.BM,t));q && (w.cache=t,w.vea=!0);u && null !== m && !m.has(w.id) && m.set(w.id,t);return t;}};}function f(m,n,q){try{return q();}catch(p){if(d.eXa(p))throw Error(k.y9a(m,n.toString()));throw p;}}Object.defineProperty(b,"__esModule",{value:!0});k=a(56);l=a(75);d=a(299);g=a(130);h=a(546);b.resolve=function(m){return c(m.HM.Gra.iRb)(m.HM.Gra);};},function(r,b,a){var k,l,d;function c(g,h,m){var n;h=h.filter(function(q){return null !== q.target && q.target.type === l.Tw.Owa;});n=h.map(m);h.forEach(function(q,p){q=q.target.name.value();g[q]=n[p];});return g;}function f(g,h){var m;if(Reflect.CDb(d.GP,g)){m=Reflect.getMetadata(d.GP,g);try{h[m.value]();}catch(n){throw Error(k.Xdb(g.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});k=a(56);l=a(75);d=a(41);b.uRb=function(g,h,m){var n;n=null;0 < h.length?(n=h.filter(function(q){return null !== q.target && q.target.type === l.Tw.Xwa;}).map(m),n=new (g.bind.apply(g,[void 0].concat(n)))(),n=c(n,h,m)):n=new g();f(g,n);return n;};},function(r,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);f=a(75);k=a(548);l=a(302);r=(function(){function d(g){this.oc=g;}d.prototype.to=function(g){this.oc.type=f.gj.Instance;this.oc.Ol=g;return new k.Sva(this.oc);};d.prototype.a6a=function(){if("function" !== typeof this.oc.kg)throw Error("" + c.Mbb);this.to(this.oc.kg);};d.prototype.yi=function(g){this.oc.type=f.gj.Vwa;this.oc.cache=g;this.oc.IK=null;this.oc.Ol=null;new l.iD(this.oc);};d.prototype.$C=function(g){this.oc.type=f.gj.eya;this.oc.cache=null;this.oc.IK=g;this.oc.Ol=null;return new k.Sva(this.oc);};d.prototype.qWb=function(g){this.oc.type=f.gj.Wwa;this.oc.Ol=g;new l.iD(this.oc);};d.prototype.tf=function(g){this.oc.type=f.gj.w$;this.oc.UK=g;new l.iD(this.oc);};d.prototype.rWb=function(g){if("function" !== typeof g)throw Error(c.Jbb);this.yi(g);this.oc.type=f.gj.Function;};d.prototype.Z5a=function(g){this.oc.type=f.gj.w$;this.oc.UK=function(h){return function(){return h.$a.get(g);};};new l.iD(this.oc);};d.prototype.iX=function(g){this.oc.type=f.gj.LFa;this.oc.qz=g;new l.iD(this.oc);};d.prototype.sWb=function(g){this.$C(function(h){return h.$a.get(g);});};return d;})();b.$8a=r;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(549);f=a(194);k=a(195);r=(function(){function l(d){this.oc=d;this.fQ=new k.Q9(this.oc);this.jca=new f.aY(this.oc);this.NIa=new c.Z8a(d);}l.prototype.$=function(){return this.NIa.$();};l.prototype.Hla=function(){return this.NIa.Hla();};l.prototype.when=function(d){return this.fQ.when(d);};l.prototype.IX=function(){return this.fQ.IX();};l.prototype.Lv=function(d){return this.jca.Lv(d);};return l;})();b.Sva=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(75);f=a(302);r=(function(){function k(l){this.oc=l;}k.prototype.$=function(){this.oc.scope=c.Or.Fba;return new f.iD(this.oc);};k.prototype.Hla=function(){this.oc.scope=c.Or.UZ;return new f.iD(this.oc);};return k;})();b.Z8a=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.x_b=(function(){function a(){}a.of=function(c,f){var k;k=new a();k.LR=c;k.KJb=f;return k;};return a;})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);r=(function(){function f(){this.xl=new Map();}f.prototype.add=function(k,l){var d;if(null === k || void 0 === k)throw Error(c.AP);if(null === l || void 0 === l)throw Error(c.AP);d=this.xl.get(k);void 0 !== d?(d.push(l),this.xl.set(k,d)):this.xl.set(k,[l]);};f.prototype.get=function(k){if(null === k || void 0 === k)throw Error(c.AP);k=this.xl.get(k);if(void 0 !== k)return k;throw Error(c.EAa);};f.prototype.remove=function(k){if(null === k || void 0 === k)throw Error(c.AP);if(!this.xl.delete(k))throw Error(c.EAa);};f.prototype.AVa=function(k){if(null === k || void 0 === k)throw Error(c.AP);return this.xl.has(k);};f.prototype.clone=function(){var k;k=new f();this.xl.forEach(function(l,d){l.forEach(function(g){return k.add(d,g.clone());});});return k;};return f;})();b.dcb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(103);b.$c=(function(){return function(f){this.id=c.id();this.Xqa=f;};})();b.Gva=(function(){return function(f){this.id=c.id();this.Xqa=f;};})();},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);f=a(41);b.R=function(){return function(k){var l;if(Reflect.kla(f.Caa,k))throw Error(c.T$a);l=Reflect.getMetadata(f.q$a,k) || [];Reflect.Kha(f.Caa,l,k);return k;};};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(65);f=a(88);b.x5a=function(k,l){return function(d,g,h){var m;m=new c.Metadata(k,l);"number" === typeof h?f.vH(d,g,h,m):f.$W(d,g,m);};};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(65);k=a(88);b.SZa=function(l){return function(d,g,h){var m;m=new f.Metadata(c.tA,l);"number" === typeof h?k.vH(d,g,h,m):k.$W(d,g,m);};};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(65);k=a(88);b.optional=function(){return function(l,d,g){var h;h=new f.Metadata(c.fDa,!0);"number" === typeof g?k.vH(l,d,g,h):k.$W(l,d,h);};};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(65);k=a(88);b.ej=function(){return function(l,d,g){var h;h=new f.Metadata(c.YP,!0);k.vH(l,d,g,h);};};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(65);k=a(88);b.rG=function(l){return function(d,g,h){var m;m=new f.Metadata(c.AD,l);"number" === typeof h?k.vH(d,g,h,m):k.$W(d,g,m);};};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);f=a(65);k=a(88);b.aX=function(l){return function(d,g,h){var m;m=new f.Metadata(c.dZ,l);k.vH(d,g,h,m);};};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(56);f=a(41);k=a(65);b.d1a=function(){return function(l,d){d=new k.Metadata(f.GP,d);if(Reflect.kla(f.GP,l.constructor))throw Error(c.Ccb);Reflect.Kha(f.GP,d,l.constructor);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PZa=function(a){return function(c){return function(){for(var f=[],k=0;k < arguments.length;k++){f[k]=arguments[k];}return f.forEach(function(l){return a.bind(l).sWb(c);});};};};},function(r,b,a){var d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D;function c(E,F){E=E.wv || E.IL?u.GTa(F):E.gU?v.PTa(F):E.M4?w.yUa(F):E.NL?x.OUa(F):t.mTa(F);this.DY=E.DY;this.c$=E.c$;}function f(E){this.Vd=E;}function k(E){var F;F=m.Xaa.call(this) || this;E.gU?Object.assign(F,v.OTa()):E.M4?Object.assign(F,w.xUa()):E.wv || E.IL?Object.assign(F,u.FTa()):E.NL?Object.assign(F,x.NUa()):Object.assign(F,t.lTa(E));return F;}function l(E){this.data=E.gU?v.RTa(E):E.M4?w.AUa():E.wv || E.IL?u.ITa(E):E.NL?x.QUa():t.oTa(E);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.r9a=b.q9a=b.p9a=b.o9a=void 0;r=a(1);d=a(0);g=a(34);h=a(131);m=a(563);n=a(161);q=a(305);p=a(197);t=a(564);u=a(565);w=a(566);v=a(567);x=a(568);y=a(569);z=a(570);Xa.Object.defineProperties(l.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},Z5:{configurable:!0,enumerable:!0,get:function(){return this.data.Z5;}},rp:{configurable:!0,enumerable:!0,get:function(){return this.data.rp;}},Pn:{configurable:!0,enumerable:!0,get:function(){return this.data.Pn;}},dL:{configurable:!0,enumerable:!0,get:function(){return this.data.dL;}},ey:{configurable:!0,enumerable:!0,get:function(){return this.data.ey;}},Rha:{configurable:!0,enumerable:!0,get:function(){return this.data.Rha;}},mQa:{configurable:!0,enumerable:!0,get:function(){return this.data.mQa;}},mna:{configurable:!0,enumerable:!0,get:function(){return this.data.mna;}},wS:{configurable:!0,enumerable:!0,get:function(){return this.data.wS;}},tua:{configurable:!0,enumerable:!0,get:function(){return this.data.tua;}},O0:{configurable:!0,enumerable:!0,get:function(){return this.data.O0;}},bW:{configurable:!0,enumerable:!0,get:function(){return this.data.bW;}}});A=l;A=r.__decorate([d.R(),r.__param(0,d.l(n.hA))],A);b.o9a=A;la(k,m.Xaa);B=k;B=r.__decorate([d.R(),r.__param(0,d.l(n.hA))],B);b.p9a=B;f.prototype.apply=function(){this.Vd.gU?Object.assign(this,v.QTa(this.Vd)):this.Vd.M4?Object.assign(this,w.zUa(this.Vd)):this.Vd.wv || this.Vd.IL?Object.assign(this,u.HTa(this.Vd)):this.Vd.NL?Object.assign(this,x.PUa(this.Vd)):Object.assign(this,t.nTa(this.Vd));return this;};D=f;D=r.__decorate([d.R(),r.__param(0,d.l(n.hA))],D);b.q9a=D;c=r.__decorate([d.R(),r.__param(0,d.l(n.hA)),r.__param(1,d.l(g.Mk))],c);b.r9a=c;b.platform=new d.$c(function(E){E(g.Mk).to(A).$();E(h.IP).to(B).$();E(q.AEa).to(D).$();E(g.wA).to(c).$();E(p.Yaa).tf(function(F){return function(){var C;C=F.$a.get(n.hA);return C.wv || C.IL?{Nb:function(G,J,K){return new z.Yba(G,J,K);},request:y.yIa}:C.NL?{Nb:function(G,J,K){return new (a(571))(G,J,K);},request:a(572)}:{};};});});},function(r,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.Xaa=void 0;c=a(4);f=a(49);k=a(196);l=a(50);d={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Xaa=function(){this.mNa=this.cK=k.uw.YY;this.hsa=!0;this.jB=[];this.pw=[];this.BG=this.LK=!1;this.hw=[l.Vr.d$,l.Vr.Feb,l.Vr.zI];this.Pl=void 0;this.tia=!0;this.t2=!1;this.xR=f.da(288E4);this.yR=f.da(335544320);this.Xy=c.xc(15E3);this.RIb=f.da(6291456);this.VL=1E3;this.Yfa=!0;this.vta=d;this.TN=f.da(0);this.y8=c.xc(0);this.$T=!0;};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.mTa=b.nTa=b.lTa=b.oTa=void 0;c=a(25);f=a(50);k=a(132);b.oTa=function(l){return Object.assign(Object.assign({},k.jL()),{rp:l.iXa?"T":l.HL?"C":"M",Pn:l.iXa?"NFCDTS-01-":l.S4?"NFCDCH-02-":l.mma?"NFCDCH-MC-":l.HL?"NFCDCH-01-":l.qFb?"NFCDCH-AP-":l.rFb?"NFCDCH-AT-":"NFCDCH-LX-",ey:l.HL?"chromeos-cadmium":"chrome-cadmium",bW:l.HL});};b.lTa=function(l){var d;d=Object.assign(Object.assign({},k.hL()),{LK:!0,BG:!0});l.HL && (d.pw=[].concat(da(f.O.y$),da(f.O.y9),da(f.O.fIa),da(f.O.Pba),da(f.O.Qba),da(f.O.C$),da(f.O.B$)));return d;};b.nTa=function(l){var d;d={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Ei.aI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};67 <= l.Lq && (d=Object.assign(Object.assign({},d),{enableVP9:!0}));80 <= l.Lq && (d=Object.assign(Object.assign({},d),{enableMediaCapabilities:!0}));l.HL && 89 <= l.Lq && (d=Object.assign(Object.assign({},d),{enableHEVC:!0,enablePRK:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0,prepareLdlCacheMaxCount:15}));94 <= l.Lq && l.S4 && (d=Object.assign(Object.assign({},d),{overrideEnableAVCHigh:!1,microsoftClearLeadRequiresSwdrm:!0}));return d;};b.mTa=function(l){return k.iL(l);};},function(r,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.GTa=b.HTa=b.FTa=b.ITa=void 0;c=a(25);f=a(104);k=a(50);l=a(196);d=a(132);b.ITa=function(g){return Object.assign(Object.assign({},d.jL()),{rp:g.wv?"D":"H",Pn:g.wv?g.mma?"NFCDIE-04-":"NFCDIE-03-":"NFCDIE-02-",ey:"edge-cadmium",O0:!1,bW:!1});};b.FTa=function(){return Object.assign(Object.assign({},d.hL()),{cK:pb.crypto?l.uw.YY:l.uw.DAa,mNa:pb.crypto?l.uw.YY:l.uw.DAa,jB:[k.ke.qD,k.ke.rD,k.ke.EO,k.ke.FO],pw:[].concat(da(k.O.y$),da(k.O.y9),da(k.O.fIa),da(k.O.Pba),da(k.O.Qba),da(k.O.C$),da(k.O.B$),da(k.O.rxa),da(k.O.qxa)),Pl:void 0,$T:!1});};b.HTa=function(g){var h,m,n,q,p,t,u;h={nudgeSourceBuffer:!0,audioCapabilityDetectorType:c.cu.Kw,videoCapabilityDetectorType:c.Ei.Kw,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000"};m=g.IL;n=g.wv;q=g.S4;p=pb.MSMediaKeys && pb.MSMediaKeys.isTypeSupported(f.Ob.uu,"video/mp4");t=pb.MSMediaKeys && pb.MSMediaKeys.isTypeSupported(f.Ob.gf,"video/mp4");t={prepareCadmium:!0,enableLdlPrefetch:!p || t,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};u={audioCapabilityDetectorType:c.cu.fu,videoCapabilityDetectorType:c.Ei.aI,microsoftScreenSizeFilterEnabled:!1,keySystemList:[f.Ob.uIa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:[k.ke.qD,k.ke.rD],videoProfiles:[k.O.mI,k.O.pD,k.O.QO,k.O.RO],enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};m && (14 <= g.Lq && (h=Object.assign(Object.assign(Object.assign({},h),t),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= g.Lq && (h=Object.assign(Object.assign({},h),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= g.Lq && (h=Object.assign(Object.assign({},h),{microsoftHwdrmRequiresHevc:!1})),17 <= g.Lq && (h=Object.assign(Object.assign({},h),{enableDDPlusAtmos:!0})));n && (h=Object.assign(Object.assign({},h),t),q && (h=Object.assign(Object.assign({},h),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),p?(h=Object.assign(Object.assign({},h),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0}),94 <= g.Lq && (h=Object.assign(Object.assign({},h),{keySystemList:[f.Ob.geb,f.Ob.heb],useTypescriptEme:!0,enableCDMAttestedDescriptors:!0}))):h=Object.assign(Object.assign({},h),u));return h;};b.GTa=function(g){return d.iL(g);};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.yUa=b.zUa=b.xUa=b.AUa=void 0;c=a(25);f=a(132);b.AUa=function(){return Object.assign(Object.assign({},f.jL()),{rp:"O",Pn:"NFCDOP-01-",ey:"opera-cadmium"});};b.xUa=function(){return Object.assign(Object.assign({},f.hL()),{LK:!0,BG:!0});};b.zUa=function(k){var l;l={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Ei.aI,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};67 <= k.Lq && (l=Object.assign(Object.assign({},l),{enableVP9:!0}));return l;};b.yUa=function(k){return f.iL(k);};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.PTa=b.QTa=b.OTa=b.RTa=void 0;c=a(25);f=a(132);b.RTa=function(k){return Object.assign(Object.assign({},f.jL()),{rp:"F",Pn:k.mma?"NFCDFF-MC-":k.S4?"NFCDFF-02-":"NFCDFF-LX-",ey:"firefox-cadmium"});};b.OTa=function(){return Object.assign(Object.assign({},f.hL()),{LK:!0,BG:!0});};b.QTa=function(k){var l;l={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:c.Ei.aI,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0};58 <= k.Lq && (l=Object.assign(Object.assign({},l),{enableVP9:!0,preciseSeeking:!0}));return l;};b.PTa=function(k){return f.iL(k);};},function(r,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.OUa=b.PUa=b.NUa=b.QUa=void 0;c=a(4);f=a(25);k=a(104);l=a(50);d=a(132);b.QUa=function(){return Object.assign(Object.assign({},d.jL()),{rp:"S",Pn:"NFCDSF-01-",ey:"safari-cadmium"});};b.NUa=function(){return Object.assign(Object.assign({},d.hL()),{jB:[l.ke.qD,l.ke.rD,l.ke.bE],pw:[].concat(da(l.O.y$),da(l.O.y9),da(l.O.Pba),da(l.O.Qba),da(l.O.C$),da(l.O.B$),da(l.O.rxa),da(l.O.qxa)),Pl:k.Ob.Cab,Xy:c.xc(7E3)});};b.PUa=function(g){var h;h={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,enableLastChunkLogging:!0,appendInitSegmentAfterLicense:!0,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:f.Ei.fu,enableSeamless:!0};d.iU(g,10,12,2) && (h=Object.assign(Object.assign({},h),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));d.iU(g,10,13,6) && (h=Object.assign(Object.assign({},h),{enableLdlPrefetch:!0}));d.iU(g,10,15,5) && (h=Object.assign(Object.assign({},h),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));d.iU(g,10,15,6) && (h=Object.assign(Object.assign({},h),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));d.nXa(g,9) && (h=Object.assign(Object.assign({},h),{maxDecoderBufferMilliseconds:31E3}));return h;};b.OUa=function(g){return d.iL(g);};},function(r,b,a){var f;function c(k,l,d,g){this.log=k;this.HF=l;this.yz=d;this.context=g;}Object.defineProperty(b,"__esModule",{value:!0});b.yIa=void 0;f=a(3);c.prototype.gg=function(k){var l;l=this;(this.context.$e || this.context.sk) && this.log.trace("Requesting license",{drmType:k.On});return this.HF(k).catch(function(d){l.log.error("Unable to get the Playready license",d);if(l.context.p9b)throw d;throw {W:!1,code:f.M.tI,kc:d.kc,xd:d.xd,Bm:d.Bm,Fj:d.message || d.Fj,QK:d.data,message:"Unable to send the Playready license request. " + (d.message || d.Fj)};});};c.prototype.release=function(k){var l;l=this;this.log.trace("Requesting stop data");return this.yz(k).catch(function(d){l.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.kc,extCode:d.xd,edgeCode:d.Bm,message:d.message || d.Fj});throw {W:!1,code:f.M.sba,kc:d.kc,xd:d.xd,Bm:d.Bm,Fj:d.message || d.Fj,message:"Unable to release the PlayReady license. " + (d.message || d.Fj)};});};b.yIa=c;pb._cad_global.WindowsDrmRequests=c;},function(r,b,a){var c,f,k,l,d,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.Yba=void 0;c=a(3);f=a(193);k=a(198);l=a(28);d=a(76);g=a(35);h=a(25);m=a(66);(function(){var z;function n(A,B,D){var E;E=this;this.log=A;this.Sm=B || y.bind(this);this.context=D;this.zV=this.challenge=this.keySystem=this.keySessionId=this.yb=this.mediaKeys=void 0;this.cd={};this.$ma=this.Vsa=!1;this.mV=u.bind(this);this.zV=void 0;this.Aua=new Promise(function(F,C){E.yra=F;E.Yqa=C;});this.Aua.catch(function(F){E.log.error("wait for license rejected",F);});f.kd.get(h.Aw).l3().then(function(F){(E.context.$e || E.context.sk) && E.log.debug("DRIVERINFO: ",F);}).catch(function(F){E.log.error("DRIVERINFO",F);});this.Rm=function(F,C){E.Yqa(F,C);E.context.onerror(F,C);};this.ipa=function(){E.yra();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function q(){return f.kd.get(g.Uh);}function p(){return f.kd.get(l.Jf);}function t(A){var B,D;B=f.kd.get(k.Iba);D="";A.forEach(function(E){D+="<KeyID>" + E + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + D + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.g5a(A));(this.context.$e || this.context.sk) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:q().encode(B)});return B;}function u(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.yb.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.ef.vq,z.BA.Rr,B);this.yb=void 0;}function w(A,B,D){var F,C,G;for(var E=2;E < arguments.length;++E){;}E="";C=A.length;for(F=0;F < C;F++){G=A[F];0 < G && (E+=String.fromCharCode(G));}C="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){G=arguments[F];if(0 > E.search(G))return;G="(?:[^:].*:|)" + G;C="[\\s\\S]*<" + G + "[^>]*>" + C + "</" + G + ">[\\s\\S]*";}if(E=E.match(new RegExp(C)))return E[1];}function v(A,B,D,E){var F,C;F=A.target && A.target.sessionId;C=q().decode(w(A.message,"PlayReadyKeyMessage","Challenge"));D.state=12;D.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(D.context.$e || D.context.sk || D.context.Xz) && D.log.debug("LICENSE: License challenge",q().encode(C));D.keySessionId=F;A={Sf:B,messageType:"license-request",On:(/clearkey/i).test(D.keySystem)?"clearkey":"playready",Bj:[{data:C,sessionId:F}]};12 === D.state && (D.Sm("lc"),C={data:C,On:(/clearkey/i).test(D.keySystem)?"clearkey":"playready"},D.context.EG || (D.zV=C));D.context.ol.gg(A).then(function(G){if(12 === D.state && (D.Sm("lr"),D.ipa(),!D.context.EG))(D.AV=G.Oi[0].data,D.state=13,E({W:!0,state:D.state}));else if(D.yb)return x(D,G.Oi[0].data,D.yb).then(function(){D.state=30;E({W:!0,state:D.state});});}).catch(function(G){E(p().oG(G,{state:D.state}));});}function x(A,B,D){A.F4() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:D.sessionId,license:q().encode(B)});return new Promise(function(E,F){try{A.yb.update(B);E(void 0);A.F4() && A.log.trace("LICENSE: Update succeeded",{sessionId:D.sessionId});}catch(C){F({W:!1,code:z.ef.qZ,message:"Unable to update the EME.",rb:p().wd(C)});}});}function y(A){this.context.wa && (this.cd[A]=this.context.wa.getTime(),this.log.trace("Milestone: " + A + ", " + this.cd[A]));}z={};z.ef=c.M;z.BA=c.L;n.prototype.Ns=function(){return this.keySystem;};n.prototype.T6a=function(A,B){A.log && (this.log=A.log);A.Sm && (this.Sm=A.Sm);B.ol && (this.context.ol=B.ol);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):f.kd.get(h.Aw).Ns()).then(function(D){B.Sm("lg");B.log.trace("Creating the media keys",{keySystem:D});B.keySystem=D;try{if(!pb.MSMediaKeys.isTypeSupported(D,"video/mp4"))return Promise.reject({code:z.ef.Iaa});}catch(E){return Promise.reject({code:z.ef.Iaa});}if(B.context.NV)D=Promise.reject({W:!1,code:z.ef.MO,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new pb.MSMediaKeys(D);}catch(E){D=Promise.reject({W:!1,code:z.ef.rDa,message:"create MSMediaKeys(" + D + ") failed",rb:p().wd(E)});break a;}try{B.context.la && B.context.la.msSetMediaKeys(B.mediaKeys);}catch(E){D=Promise.reject({W:!1,code:z.ef.CI,message:"set MSMediaKeys failed",rb:p().wd(E)});break a;}D=Promise.resolve({W:!0,mediaKeys:B.mediaKeys});}return D;});};n.prototype.close=function(){if(this.yb){this.log.info("Closing the session",{sessionId:this.yb.sessionId});this.yb.removeEventListener("mskeyerror",this.mV);try{this.yb.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.yb=void 0;}};n.prototype.gg=function(A,B,D){var E;if(1 < B.length)return Promise.reject({code:z.ef.wDa});if(0 === B.length)return Promise.reject({code:z.ef.vDa});B=B[0];E=this;E.context.$e && E.log.trace("LICENSE: Setting license");return E.context.NV?Promise.reject({W:!1,code:z.ef.lya,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,C){var G,J,K,H,L,P,I;try{J=function(O){E.yb && (E.yb.removeEventListener("mskeymessage",H),E.yb.removeEventListener("mskeyadded",L),E.yb.removeEventListener("mskeyerror",P),E.yb.addEventListener("mskeyerror",E.mV));O.state=11;O.W?F(O):(E.close(),C(O));};K=function(O){var N,M;N=[];M=Array.prototype.map.call(O,function(S){return S?String.fromCharCode(S):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(M)N.push(M[1]);else {O=w(O,"KIDS");M=/VALUE="(.+?)">/g;for(var Q=M.exec(O);null != Q;){N.push(Q[1]);Q=M.exec(O);}}return N;};H=function(O){G && clearTimeout(G);v(O,A,E,J);};L=function(O){(E.context.$e || E.context.sk) && E.log.trace("LICENSE: Received " + O.type + " event",{keySystem:O.target.keySystem,sessionId:O.target.sessionId});J({W:!0});};P=function(O){var N,M;G && clearTimeout(G);if(O.target && O.target.error)(N=O.target.error.systemCode,M=O.target.error.code);N={code:z.ef.vq,kc:z.BA.Rr,xd:N?f.kd.get(d.vw).AF(N,4):M,details:p().wd(O),cause:O.target && O.target.error,q8:N,B2:M};E.log.error("LICENSE: Received " + O.type + " event",{sessionId:E.yb && E.yb.sessionId,keySystem:O.target.keySystem,systemCode:N.q8,code:N.B2});E.Sm("le");E.Rm && E.Rm(z.ef.vq,N);J({W:!1,code:z.ef.vq,kc:z.BA.Rr,xd:N.xd,message:"Received a key error.",rb:N.details,cause:N.cause});};E.log.trace("LICENSE: Executing prefix based EME");(E.context.$e || E.context.sk) && E.log.debug("LICENSE: PSSH",q().encode(B));E.xv || (E.xv=K(B));if(D){I=t.call(E,E.xv);E.yb=E.mediaKeys.createSession("video/mp4",new Uint8Array(0),I);}else E.yb=E.mediaKeys.createSession("video/mp4",B,null);(E.context.$e || E.context.sk) && E.log.debug("LICENSE: Created the media keys sessions",{keySystem:E.yb.keySystem,sessionId:E.yb.sessionId});E.yb.addEventListener("mskeymessage",H);E.yb.addEventListener("mskeyadded",L);E.yb.addEventListener("mskeyerror",P);E.context.gHb && (G=setTimeout(function(){J({W:!1,code:z.ef.FP,kc:z.BA.oab});},E.context.gHb));}catch(O){C({code:z.ef.FP,kc:z.BA.hj});}});})();};n.prototype.QG=function(){var A;(this.context.$e || this.context.sk) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.gg(m.oq.W$.Go,A,!0);};n.prototype.S0=function(A){this.AV || this.log.error("pending license must exist at this point");this.context.EG=!0;try{A && (this.context.la=A,this.context.la.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({W:!1,code:z.ef.CI,message:"setMediaKeys failed",rb:p().wd(B)});}return x(this,this.AV,this.yb);};n.prototype.WRa=function(A){var B,D;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));D={ca:A.ca,ee:A.ee};return new Promise(function(E,F){(function(){B.context.ol.release.call(B.context.ol,D).then(function(){var C;B.log.trace("successfully released the license",JSON.stringify(A));C={W:!0};B.close();C.W?E(C):F(C);}).catch(function(C){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:C.code,subCode:C.kc,extCode:C.xd,edgeCode:C.Bm,message:C.Fj});B.close();C.W?E(C):F(C);});})();});};n.prototype.F4=function(){return this.context.$e || this.context.sk;};b.Yba=n;pb._cad_global.WindowsEmeSession=b.Yba;})();},function(r,b,a){var v,x,y,z,A,B,D,E,F,C,G,J;function c(K,H,L){var P;P=this;this.log=K;this.Sm=H || w.bind(this);this.context=L;this.zV=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.cd={};this.Ri=void 0;this.url="";this.$ma=this.Vsa=!1;this.mV=m.bind(this);this.jg=this.zV=void 0;this.Aua=new Promise(function(I,O){P.yra=I;P.Yqa=O;});this.Rm=function(I,O){P.Yqa(I,O);P.context.onerror(I,O);};this.ipa=function(){P.yra();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function f(){return v.ha.get(A.yu);}function k(){return v.ha.get(z.Uh);}function l(){return v.ha.get(x.Jf);}function d(K){return (/com.apple.fps/).test(K) && !(/com.apple.fps.2_0/).test(K);}function g(K){var H;K=(function(L){var I,O;function P(N,M,Q,S){var fa,qa;fa=new Uint8Array("piff" == M?88:72);qa=new C.IO(fa);qa.bA(12);qa.aA("frma");qa.aA(N);qa.bA(20);qa.aA("schm");qa.NX(0);qa.NX(0);qa.aA(M);qa.bA(Q);"piff" == M?(qa.bA(56),qa.aA("schi"),qa.bA(48),qa.aA("uuid"),qa.MX([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(qa.bA(40),qa.aA("schi"),qa.bA(32),qa.aA("tenc"));qa.NX(0);qa.NX(0);qa.bA(264);qa.MX(S);return fa;}I=P("avc1","piff",65537,L);I=f().decode(k().encode(I));L=P("avc1",G.yw,65536,L);L=f().decode(k().encode(L));O=new Uint8Array(7 + I.length + 8 + L.length + 5);O.set([91,10,32,32,32,32,34],0);O.set(I,7);O.set([34,44,10,32,32,32,32,34],7 + I.length);O.set(L,7 + I.length + 8);O.set([34,10,32,32,93],7 + I.length + 8 + L.length);return O;})(K);H=new Uint8Array(13 + K.length + 2);H.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);H.set(K,13);H.set([10,125],13 + K.length);return H;}function h(K){var H;K=K.subarray(14,30);K=String.fromCharCode.apply(null,K);K=k().decode(K);K=K.subarray(4);H=new Uint8Array(16);H.set(K);return H;}function m(K){var H;H=n(K);this.log.error("LICENSE Error: Received event: " + K.type,{sessionId:this.yb?this.yb.sessionId:void 0,keySystem:K.target.keySystem,systemCode:H.q8,code:H.B2});this.Rm && this.Rm(J.ef.vq,H);this.yb=void 0;}function n(K){var H,L;if(K.target.error)(H=K.target.error.systemCode,L=K.target.error.code);return {code:J.ef.vq,kc:J.BA.Rr,xd:H?v.ha.get(y.vw).AF(H,4):L,details:l().wd(K),cause:K.target.error,q8:H,B2:L};}function q(K,H,L,P){var I,O,N;I=K.target.sessionId;O=K.message;N=l().xs(O,f().decode("certificate"));L.$ma=H === F.oq.W$.pn;L.state=N?2:12;L.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:I});(L.context.$e || L.context.sk || L.context.Xz) && L.log.debug("LICENSE: License challenge",k().encode(O));L.keySessionId=I;K={Ni:L.Ni,Sf:H,messageType:"license-request",On:(/clearkey/i).test(L.keySystem)?"clearkey":"fps",Bj:[{data:O,sessionId:I}]};12 === L.state && (L.Sm("lc"),O={data:O,On:(/clearkey/i).test(L.keySystem)?"clearkey":"fps"},L.context.EG || (L.zV=O));L.context.ol.gg(K).then(function(M){if(12 === L.state && (L.Sm("lr"),L.ipa(),!L.context.EG))(L.AV=M.Oi[0].data,L.state=13,P({W:!0,state:L.state}));else if(L.yb)return (M=u(L,N,M.Oi[0].data,L.yb),2 === L.state?M:M.then(function(){L.state=30;P({W:!0,state:L.state});}));}).catch(function(M){P(l().oG(M,{state:L.state}));});}function p(K,H,L){H.log.trace("LICENSE: Received event: " + K.type,{keySystem:K.target.keySystem,sessionId:K.target.sessionId});L({W:!0});}function t(K,H,L){var P;P=n(K);H.Rm && H.Rm(J.ef.vq,P);H.log.error("LICENSE Error: Received event: " + K.type,{sessionId:H.yb?H.yb.sessionId:void 0,keySystem:K.target.keySystem,systemCode:P.q8,code:P.B2});L({W:!1,code:J.ef.vq,kc:J.BA.Rr,xd:P.xd,message:"Received a key error.",rb:P.details,cause:P.cause});}function u(K,H,L,P){P={sessionId:P.sessionId};K.F4() && (P.license=k().encode(L));K.log.trace("calling keysession update",P);return new Promise(function(I,O){function N(){K.yb.removeEventListener("webkitkeyadded",N);I(void 0);}try{H || K.yb.addEventListener("webkitkeyadded",N);K.yb.update(L);H && I(void 0);}catch(M){O({W:!1,code:J.ef.qZ,message:"Unable to update the EME.",e:M});}});}function w(K){this.cd[K]=v.ha.get(B.rd).Wb().ea(D.ma);this.log.trace("Milestone: " + K + ", " + this.cd[K]);}Object.defineProperty(b,"__esModule",{value:!0});v=a(7);b=a(3);x=a(28);y=a(76);z=a(35);A=a(77);B=a(19);D=a(4);E=a(11);F=a(66);C=a(162);G=a(59);J={};J.ef=b.M;J.BA=b.L;c.prototype.Ns=function(){return this.keySystem;};c.prototype.T6a=function(K,H){K.log && (this.log=K.log);K.Sm && (this.Sm=K.Sm);H.ol && (this.context.ol=H.ol);H.onerror && (this.context.onerror=H.onerror);};c.prototype.create=function(K){var H;H=this;H.Sm("lg");H.log.trace("CREATE: Creating the media keys",{keySystem:K});H.keySystem=K;return H.context.NV?Promise.reject({W:!1,code:J.ef.MO,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function L(){var P,I;P=l().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");I=P.lastChild;H.jg=P;H.context.la=E.He.createElement("VIDEO");I?H.jg.insertBefore(H.context.la,I):H.jg.appendChild(H.context.la);}return new Promise(function(P,I){function O(N){(H.context.$e || H.context.sk || H.context.Xz) && H.log.trace("CREATE: Received event: " + N.type,{readyState:N.target.readyState,duration:N.target.duration});try{H.mediaKeys=new pb.WebKitMediaKeys(K);H.context.la.webkitSetMediaKeys(H.mediaKeys);P({W:!0,mediaKeys:H.mediaKeys});}catch(M){H.log.error("CREATE: Exception on webkitSetMediaKeys",M);I({W:!1,code:J.ef.FP,rb:l().wd(M)});}}if(d(H.keySystem))try{H.mediaKeys=new pb.WebKitMediaKeys(K);H.context.la && (H.log.trace("LICENSE: calling setmediakeys on video element"),H.context.la.webkitSetMediaKeys(H.mediaKeys));P({W:!0,mediaKeys:H.mediaKeys});}catch(N){I({W:!1,code:J.ef.FP,rb:l().wd(N)});}else (H.mediaKeys=new pb.WebKitMediaKeys(K),H.context.la?(H.log.trace("LICENSE: calling setmediakeys on video element"),H.context.la.webkitSetMediaKeys(H.mediaKeys)):(L(),H.Ri=new E.LD(),H.Ri.addEventListener("sourceopen",O),H.url=URL.createObjectURL(H.Ri),H.context.la.src=H.url),P({W:!0,mediaKeys:H.mediaKeys}));});})();};c.prototype.close=function(){this.yb && (this.log.info("Closing the session",{sessionId:this.yb.sessionId}),this.yb.removeEventListener("webkitkeyerror",this.mV),this.yb.close(),this.yb=void 0);};c.prototype.gg=function(K,H){var L;if(1 < H.length)return Promise.reject({code:J.ef.wDa});if(0 === H.length)return Promise.reject({code:J.ef.vDa});H=H[0];L=this;L.context.$e && L.log.trace("LICENSE: Setting license",{initData:k().encode(H)});return L.context.NV?Promise.reject({W:!1,code:J.ef.lya,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(P,I){var N,M,Q;function O(S){L.yb && (L.yb.removeEventListener("webkitkeymessage",N),L.yb.removeEventListener("webkitkeyadded",M),L.yb.removeEventListener("webkitkeyerror",Q),L.yb.addEventListener("webkitkeyerror",L.mV));S.W?P(S):(L.close(),I(S));}N=function(S){q(S,K,L,O);};M=function(S){p(S,L,O);};Q=function(S){t(S,L,O);};d(L.keySystem) && (L.Ni=h(H),H=g(L.Ni));L.log.trace("LICENSE: Executing prefix based EME");L.context.$e | L.context.sk && L.log.debug("LICENSE: PSSH",k().encode(H));L.yb=L.mediaKeys.createSession("video/mp4",H,null);(L.context.$e || L.context.sk) && L.log.debug("LICENSE: Created the media keys sessions",{keySystem:L.yb.keySystem,sessionId:L.yb.sessionId});L.yb.addEventListener("webkitkeymessage",N);L.yb.addEventListener("webkitkeyadded",M);L.yb.addEventListener("webkitkeyerror",Q);});})();};c.prototype.QG=function(){var K;K=this;return K.Vsa?Promise.resolve({W:!0}):new Promise(function(H,L){var I,O,N;function P(M){K.yb && (K.yb.removeEventListener("webkitkeymessage",I),K.yb.removeEventListener("webkitkeyadded",O),K.yb.removeEventListener("webkitkeyerror",N));M.W?H(M):(L(M),K.close());}I=function(M){q(M,F.oq.W$.Go,K,P);};O=function(M){p(M,K,P);H({W:!0});};N=function(M){t(M,K,P);};K.$ma=!1;K.yb.addEventListener("webkitkeymessage",I);K.yb.addEventListener("webkitkeyadded",O);K.yb.addEventListener("webkitkeyerror",N);K.yb.update(f().decode("renew"));});};c.prototype.S0=function(K){this.AV || this.log.error("pending license must exist at this point");this.context.EG=!0;try{K && (this.context.la=K,this.log.trace("calling setmediakeys on video element"),this.context.la.webkitSetMediaKeys(this.mediaKeys));}catch(H){return new Promise(function(L,P){P({W:!1,code:J.ef.CI,message:"setMediaKeys failed",rb:l().wd(H)});});}return u(this,!1,this.AV,this.yb);};c.prototype.WRa=function(K){var H,L;H=this;H.log.trace("Releasing the license of the current session",JSON.stringify(K));H.Vsa=!0;L={ca:K.ca,ee:K.ee};return new Promise(function(P,I){(function(){H.context.ol.release.call(H.context.ol,L).then(function(){var O;H.log.trace("successfully released the license",JSON.stringify(K));O={W:!0};O.W?P(O):(H.close(),I(O));}).catch(function(O){H.log.error("RELEASE: Unable to get the release the license",{sessionId:H.yb?H.yb.sessionId:void 0,code:O.code,subCode:O.kc,extCode:O.xd,edgeCode:O.Bm,message:O.Fj});O.W?P(O):(H.close(),I(O));});})();});};c.prototype.F4=function(){return this.context.$e || this.context.sk;};r.exports=c;},function(r,b,a){var f,k,l,d,g,h;function c(m,n,q,p){this.log=m;this.HF=n;this.yz=q;this.context=p;}Object.defineProperty(b,"__esModule",{value:!0});f=a(3);k=a(7);l=a(28);d=a(77);g=a(35);h=a(59);c.prototype.gg=function(m){var n,q;n=this;(this.context.$e || this.context.sk) && this.log.debug("Requesting a license",m);if(k.ha.get(l.Jf).xs(k.ha.get(d.yu).decode("certificate"),m.Bj[0].data)){n.log.trace("Requesting Fairplay cert data.");q=Promise.resolve({Oi:[{sessionId:m.Bj[0].sessionId,data:k.ha.get(g.Uh).decode(h.EY)}]});}else q=k.ha.get(l.Jf).xs(k.ha.get(d.yu).decode("content"),m.Bj[0].data)?Promise.resolve({Oi:[{sessionId:m.Bj[0].sessionId,data:m.Ni}]}):(function(){n.log.trace("Requesting license",{drmType:m.On});return n.HF(m).catch(function(p){n.log.error("Unable to get the Fairplay license",p);throw {code:f.M.tI,kc:p.kc,xd:p.xd,Bm:p.Bm,Fj:p.message || p.Fj,QK:p.data,message:"Unable to send the Fairplay license request. " + (p.message || p.Fj),cause:p};});})();return q;};c.prototype.release=function(m){var n;n=this;this.log.trace("Requesting stop data");return this.yz(m).catch(function(q){n.log.error("Unable to release the FairPlay license",{code:q.code,subCode:q.kc,extCode:q.xd,edgeCode:q.Bm,message:q.message || q.Fj});throw {W:!1,code:f.M.sba,kc:q.kc,xd:q.xd,Bm:q.Bm,Fj:q.message || q.Fj,message:"Unable to release the FairPlay license. " + (q.message || q.Fj),cause:q};});};r.exports=c;},function(r,b,a){var l,d,g,h,m,n,q,p;function c(t,u,w){var v;v=this;this.is=t;this.gn=u;this.config=w;this.iw=function(){return {version:v.version,drmData:v.m2.map(function(x){return x.iw();})};};this.wja=function(x){var y;v.is.En(x) && (x=f(x));1 === x.version && (x=k(v.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new p.yY(z);});}catch(z){throw new m.ed(g.M.qI,g.L.iA,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !v.is.di(x.version))throw new m.ed(g.M.qI,g.L.iA,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new m.ed(g.M.qI,g.L.jwa,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.zr=new n.O$(2,this.config.ES,this.is.En(this.config.ES),this.gn,this.iw);}function f(t){t=JSON.parse(t);t={xid:t.xid,movieId:t.movieId,keySessionIds:t.keySessionIds,licenseContextId:t.licenseContextId};if(!t.licenseContextId || !t.xid || !t.movieId)throw new m.ed(g.M.qI,g.L.iA);return {version:1,drmData:[t]};}function k(t,u){if(t.Cx(u.drmData))return {version:2,drmData:u.drmData.map(function(w){var v;v=w.keySessionIds;return new p.yY({keySessionData:(v && 0 < v.length?v:[void 0]).map(function(x){return {id:x,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).iw();})};throw new m.ed(g.M.qI,g.L.iA);}Object.defineProperty(b,"__esModule",{value:!0});b.Bwa=void 0;r=a(1);l=a(0);d=a(69);g=a(3);h=a(26);m=a(42);n=a(307);q=a(78);p=a(200);c.prototype.P1a=function(){return this.EUb();};c.prototype.OLa=function(t){return this.zr.add(t);};c.prototype.dW=function(t){return this.zr.remove(t,function(u,w){return u.ca === w.ca;});};c.prototype.toString=function(){return JSON.stringify(this.iw(),null,"  ");};c.prototype.EUb=function(){var t;t=this;this.T1a || (this.T1a=new Promise(function(u,w){t.zr.load(t.wja).then(function(){u();}).catch(function(v){v.oa && v.cause?w(new m.ed(g.M.qI,v.oa,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,v)):w(v);});}));return this.T1a;};Xa.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.zr.version;}},m2:{configurable:!0,enumerable:!0,get:function(){return this.zr.Yu;}}});a=c;a=r.__decorate([l.R(),r.__param(0,l.l(h.If)),r.__param(1,l.l(q.dA)),r.__param(2,l.l(d.iu))],a);b.Bwa=a;},function(r,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.B1a=void 0;c=a(3);f=a(90);k=a(119);l=a(199);b.B1a=function(g){l.JK.parent=g.$a;return function(){d || (d=new Promise(function(h,m){try{h(l.JK.get(k.Yxa));}catch(n){m(new f.og(c.M.nbb,c.L.Ibb,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.sCa=void 0;a.prototype.CVa=function(){return void 0 !== this.mediaKeys;};a.prototype.setMediaKeys=function(c){this.mediaKeys=c;};a.prototype.HQb=function(){this.CVa() && (this.mediaKeys=void 0);};b.sCa=a;},function(r,b,a){var f,k,l,d,g,h,m,n;function c(q,p,t,u,w){this.tF=q;this.Dc=p;this.bM=u;this.Sl=w;this.log=t.Cb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Dwa=void 0;r=a(1);f=a(0);k=a(119);l=a(35);d=a(8);g=a(134);h=a(79);m=a(133);n=a(577);c.prototype.Hka=function(q){var p;p=this;return Promise.all([this.tF(),this.LAb()]).then(function(t){var u;u=aa(t);t=u.next().value;u=u.next().value;return t.Syb({type:q,initData:u},p.bM());}).then(function(t){var u;u=aa(t);t=u.next().value;u=u.next().value;u=p.Dc.encode(u.data[0]);p.log.trace("Challenge generated",u);return {Nb:t,fga:u};});};c.prototype.LAb=function(){var q;q=this;return this.Sl.Ms().then(function(p){switch(p){case m.nn.xF:return n.Dab;case m.nn.IC:return n.feb;default:return n.rfb;}}).then(function(p){return p.map(q.Dc.decode);});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.zY)),r.__param(1,f.l(l.Uh)),r.__param(2,f.l(d.Jb)),r.__param(3,f.l(g.tP)),r.__param(4,f.l(h.pu))],a);b.Dwa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rfb=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.Dab=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.feb=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(0);c=a(14);f=a(579);k=a(37);l=a(38);d=a(580);g=a(309);h=a(582);m=a(164);n=a(583);q=a(69);p=a(584);b.config=new r.$c(function(t){t(c.Zc).tf(function(){return function(){return pb._cad_global.config;};});t(k.Z9).to(f.Uwa).$();t(k.lm).to(f.gIa).$();t(k.oP).to(f.uAa).$();t(l.gm).to(d.iza).$();t(g.UCa).to(h.TCa).$();t(m.cza).to(n.bza).$();t(q.iu).to(p.vya).$();});},function(r,b,a){var l,d,g,h,m;function c(){this.Xx={};this.Y2a=0;}function f(n,q,p,t,u){this.debug=n;this.Fy=q;this.hV=p;this.Ag=t;this.e7=u;}function k(n,q,p){this.Fy=n;this.hV=q;this.e7=p;}Object.defineProperty(b,"__esModule",{value:!0});b.uAa=b.gIa=b.Uwa=void 0;r=a(1);l=a(0);d=a(91);g=a(8);h=a(135);m=a(308);a=a(37);k=r.__decorate([l.R(),r.__param(0,l.l(a.oP)),r.__param(1,l.l(h.PZ)),r.__param(2,l.l(m.pba))],k);b.Uwa=k;f=r.__decorate([l.R(),r.__param(0,l.l(d.eu)),r.__param(1,l.l(a.oP)),r.__param(2,l.l(h.PZ)),r.__param(3,l.l(g.Jb)),r.__param(4,l.l(m.pba))],f);b.gIa=f;c.prototype.zJb=function(n){this.Xx=Object.assign({},this.Xx,n);this.Y2a++;};Xa.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Xx;}},x7:{configurable:!0,enumerable:!0,get:function(){return this.Y2a;}}});a=r.__decorate([l.R()],c);b.uAa=a;},function(r,b,a){var f,k,l,d,g,h,m,n;function c(q,p,t){q=d.hf.call(this,q,void 0 === t?"GeneralConfigImpl":t) || this;q.kk=p;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.iza=b.PK=void 0;r=a(1);f=a(4);k=a(0);l=a(44);d=a(45);g=a(38);h=a(37);a=a(131);m={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.PK=function(q,p){return q.Q1a(m[p] || p,g.Ew);};la(c,d.hf);Xa.Object.defineProperties(c.prototype,{PK:{configurable:!0,enumerable:!0,get:function(){return g.Ew.leb;}},Wsa:{configurable:!0,enumerable:!0,get:function(){return f.Tg(8);}},Ay:{configurable:!0,enumerable:!0,get:function(){return "";}},kK:{configurable:!0,enumerable:!0,get:function(){return "";}},KH:{configurable:!0,enumerable:!0,get:function(){return "";}},B5a:{configurable:!0,enumerable:!0,get:function(){return !1;}},T0:{configurable:!0,enumerable:!0,get:function(){return !0;}},$T:{configurable:!0,enumerable:!0,get:function(){return this.kk.$T;}},cxb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Vd:{configurable:!0,enumerable:!0,get:function(){return {};}},W2a:{configurable:!0,enumerable:!0,get:function(){return !1;}},yma:{configurable:!0,enumerable:!0,get:function(){return !1;}},c9:{configurable:!0,enumerable:!0,get:function(){return !1;}},$t:{configurable:!0,enumerable:!0,get:function(){return !1;}},PS:{configurable:!0,enumerable:!0,get:function(){return !0;}},VC:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},hv:{configurable:!0,enumerable:!0,get:function(){return 0 <= [g.Ew.uHa,g.Ew.yAa].indexOf(this.PK);}}});n=c;r.__decorate([l.config(b.PK,"environment")],n.prototype,"PK",null);r.__decorate([l.config(l.vk,"storageTimeout")],n.prototype,"Wsa",null);r.__decorate([l.config(l.string,"groupName")],n.prototype,"Ay",null);r.__decorate([l.config(l.string,"canaryGroupName",!0)],n.prototype,"kK",null);r.__decorate([l.config(l.string,"uiGroupName")],n.prototype,"KH",null);r.__decorate([l.config(l.ad,"testIndexDBForCorruptedDatabase")],n.prototype,"B5a",null);r.__decorate([l.config(l.ad,"applyIndexedDbOpenWorkaround")],n.prototype,"T0",null);r.__decorate([l.config(l.ad,"ignoreIdbOpenError")],n.prototype,"$T",null);r.__decorate([l.config(l.ad,"executeStorageMigration")],n.prototype,"cxb",null);r.__decorate([l.config(l.object(),"browserInfo")],n.prototype,"Vd",null);r.__decorate([l.config(l.ad,"retryAllMslRequestsOnError")],n.prototype,"W2a",null);r.__decorate([l.config(l.ad,"isTestAccount")],n.prototype,"yma",null);r.__decorate([l.config(l.ad,"vuiCommandLogging")],n.prototype,"c9",null);r.__decorate([l.config(l.ad,"useRangeHeader")],n.prototype,"$t",null);r.__decorate([l.config(l.ad,"enableMilestoneEventList")],n.prototype,"PS",null);r.__decorate([l.config(l.object,"storageRules")],n.prototype,"VC",null);n=r.__decorate([k.R(),r.__param(0,k.l(h.lm)),r.__param(1,k.l(a.IP)),r.__param(2,k.l(h.DO)),r.__param(2,k.optional())],n);b.iza=n;},function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Baa=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Baa=a;},function(r,b,a){var f,k,l,d;function c(g,h){return l.hf.call(this,g,void 0 === h?"NetworkMonitorConfigImpl":h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.TCa=void 0;r=a(1);f=a(0);k=a(44);l=a(45);a=a(37);la(c,l.hf);Xa.Object.defineProperties(c.prototype,{i7a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([k.config(k.ad,"useNetworkMonitor")],d.prototype,"i7a",null);d=r.__decorate([f.R(),r.__param(0,f.l(a.lm)),r.__param(1,f.l(a.DO)),r.__param(1,f.optional())],d);b.TCa=d;},function(r,b,a){var f,k,l,d,g,h,m;function c(n,q,p,t){n=d.hf.call(this,n,void 0 === t?"FtlProbeConfigImpl":t) || this;n.eh=q;n.wa=p;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.bza=void 0;r=a(1);f=a(39);k=a(0);l=a(4);d=a(45);g=a(120);h=a(44);a=a(37);la(c,d.hf);Xa.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.yja + (-1 === this.yja.indexOf("?")?"?":"&") + "monotonic=" + this.wa.KZa + "&device=web";}},K4a:{configurable:!0,enumerable:!0,get:function(){return l.ab;}},pja:{configurable:!0,enumerable:!0,get:function(){return "";}},yja:{configurable:!0,enumerable:!0,get:function(){return this.eh.endpoint + "/ftl/probe" + (this.pja?"?force=" + this.pja:"");}}});m=c;r.__decorate([h.config(h.ad,"ftlEnabled")],m.prototype,"enabled",null);r.__decorate([h.config(h.vk,"ftlStartDelay")],m.prototype,"K4a",null);r.__decorate([h.config(h.string,"ftlEndpointForceParam")],m.prototype,"pja",null);r.__decorate([h.config(h.url,"ftlEndpoint")],m.prototype,"yja",null);m=r.__decorate([k.R(),r.__param(0,k.l(a.lm)),r.__param(1,k.l(g.VH)),r.__param(2,k.l(f.Wh)),r.__param(3,k.l(a.DO)),r.__param(3,k.optional())],m);b.bza=m;},function(r,b,a){var f,k,l,d,g,h;function c(m,n,q){m=k.hf.call(this,m,void 0 === q?"EmeConfigImpl":q) || this;m.Vd=n;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.vya=void 0;r=a(1);f=a(0);k=a(45);l=a(37);d=a(4);g=a(44);a=a(161);la(c,k.hf);Xa.Object.defineProperties(c.prototype,{AWa:{configurable:!0,enumerable:!0,get:function(){return this.Vd.LWa || this.Vd.gU || this.Vd.NL?!0:!1;}},kC:{configurable:!0,enumerable:!0,get:function(){return d.Tg(5);}},Ipa:{configurable:!0,enumerable:!0,get:function(){return d.Tg(10);}},ES:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},gT:{configurable:!0,enumerable:!0,get:function(){return !1;}},Sv:{configurable:!0,enumerable:!0,get:function(){return !0;}},yMa:{configurable:!0,enumerable:!0,get:function(){return d.Tg(30);}},zMa:{configurable:!0,enumerable:!0,get:function(){return d.Tg(30);}},CMa:{configurable:!0,enumerable:!0,get:function(){return d.Tg(30);}},AMa:{configurable:!0,enumerable:!0,get:function(){return d.Tg(30);}},DMa:{configurable:!0,enumerable:!0,get:function(){return d.Tg(30);}},isa:{configurable:!0,enumerable:!0,get:function(){return "";}},Z_a:{configurable:!0,enumerable:!0,get:function(){return this.Vd.wv?!1:!0;}},$_a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;r.__decorate([g.config(g.ad,"initializeKeySystemAtStartup")],h.prototype,"AWa",null);r.__decorate([g.config(g.vk,"licenseRenewalRequestDelay")],h.prototype,"kC",null);r.__decorate([g.config(g.vk,"persistedReleaseDelay")],h.prototype,"Ipa",null);r.__decorate([g.config(g.string,"drmPersistKey")],h.prototype,"ES",null);r.__decorate([g.config(g.ad,"forceLimitedDurationLicense")],h.prototype,"gT",null);r.__decorate([g.config(g.ad,"prepareCadmium")],h.prototype,"Sv",null);r.__decorate([g.config(g.vk,"apiCloseTimeout")],h.prototype,"yMa",null);r.__decorate([g.config(g.vk,"apiCreateMediaKeysTimeout")],h.prototype,"zMa",null);r.__decorate([g.config(g.vk,"apiSetServerCertificateTimeout")],h.prototype,"CMa",null);r.__decorate([g.config(g.vk,"apiGenerateRequestTimeout")],h.prototype,"AMa",null);r.__decorate([g.config(g.vk,"apiUpdateTimeout")],h.prototype,"DMa",null);r.__decorate([g.config(g.string,"serverCertificate")],h.prototype,"isa",null);r.__decorate([g.config(g.ad,"outputRestrictedIsFatal")],h.prototype,"Z_a",null);r.__decorate([g.config(g.ad,"outputRestrictedIsFatalForUhd")],h.prototype,"$_a",null);h=r.__decorate([f.R(),r.__param(0,f.l(l.lm)),r.__param(1,f.l(a.hA)),r.__param(2,f.l(l.DO)),r.__param(2,f.optional())],h);b.vya=h;},function(r,b,a){var c,f,k,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.gRa=void 0;r=a(0);c=a(119);f=a(586);k=a(79);l=a(587);d=a(311);g=a(595);b.gRa=new r.$c(function(h){h(c.Yxa).to(f.Xxa).$();h(k.pu).to(l.rCa).$();h(d.xya).to(g.wya);});},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v;function c(x,y,z,A,B,D,E,F,C,G){var J;J=this;this.yc=y;this.qz=z;this.config=A;this.Vq=B;this.Vvb=D;this.jK=E;this.Sl=F;this.bM=C;this.Vl=G;this.kVb=function(K,H){var L;J.Vl.mark(v.Fa.IY,K.ri.ca,"generate-challenge");L=!1;H.ZSb(function(P){L || (L=!0,J.Vl.mark(v.Fa.HY,K.ri.ca,"generate-challenge"));J.HF(K,H,P).then(function(I){H.SLa(I);J.fob(H);}).catch(function(I){return H.qlb(I);});});};this.log=x.Cb("DrmServices");this.Vq().Kr && this.jK.P1a().then(function(){J.uQb();}).catch(function(K){J.log.error("Unable to load the persisted DRM data",K);});this.config.AWa && this.Sl.vy().then(function(K){return J.DPa(C(),K,h.Xh.Go).then(function(H){return H.close();});});}Object.defineProperty(b,"__esModule",{value:!0});b.Xxa=void 0;r=a(1);f=a(0);k=a(8);l=a(46);d=a(310);g=a(70);h=a(60);m=a(69);n=a(201);q=a(200);p=a(311);t=a(14);u=a(79);w=a(134);v=a(66);c.prototype.Syb=function(x,y){return this.kF(y,x.type,x.context).then(function(z){return z.Vyb(x.initData).then(function(A){return [z,{On:z.Ms(),data:A.Bj}];});});};c.prototype.gg=function(x,y){var z;z=this;this.log.info("Requesting challenges",this.eUa(x,x.type));return this.kF(y,x.type,x.context).then(function(A){z.IZa(x,A);return A.Wyb(x.initData).then(function(){return A;});});};c.prototype.IZa=function(x,y){y.gTb(x.ri);this.kVb(x,y);};c.prototype.release=function(x,y){var z;z=this;this.log.info("Releasing server license",this.WUa(x));return this.ZBb(x).then(function(){var A;A=Object.assign({active:!1,ee:[]},x.ri);z.jK.dW(A);y.HQb();return x;});};c.prototype.eUa=function(x,y){return {movieId:x.ri.K,xid:x.ri.ca,type:h.Yma(y)};};c.prototype.WUa=function(x){return {movieId:x.ri?x.ri.K:void 0,xid:x.ri?x.ri.ca:void 0,keySessionId:x.uy()};};c.prototype.HF=function(x,y,z){this.log.info("Sending license request",this.eUa(x,z.Sf));return this.qz.gg({ca:x.ri.ca,Vi:x.ri.Vi,l2:[x.ri.Ll],Bj:[{sessionId:y.uy() || "session",data:z.Bj}],Sf:z.Sf,On:y.Ms(),kOa:z.kOa,JU:x.ri.JU,Hj:x.ri.Hj});};c.prototype.ZBb=function(x){this.log.info("Sending release request",this.WUa(x));return this.qz.release({ca:x.ri.ca,ee:x.ee});};c.prototype.kF=function(x,y,z){var A;A=this;return this.Sl.vy().then(function(B){return A.DPa(x,B,y,z);});};c.prototype.DPa=function(x,y,z,A){return this.Vvb.create().then(function(B){return B.createSession(y,x,z,A).then(function(){return B;});});};c.prototype.tQb=function(x){var y;y=this;return this.qz.release({ca:x.ca,ee:x.ee}).catch(function(z){y.log.error("Unable to send release data to the server",z);});};c.prototype.uQb=function(){var x;x=this;this.yc.Rj(this.config.Ipa,function(){x.log.trace("Removing cached sessions",{"count:":x.jK.m2.length});x.jK.m2.filter(function(y){return !y.active;}).reduce(function(y,z){return y.then(function(){return x.tQb(z);}).then(function(){return x.jK.dW(z);});},Promise.resolve(void 0));});};c.prototype.fob=function(x){var y;if(x.uy() && x.ri){y=new q.yY();y.ee=x.ee;y.ca=x.ri.ca;y.K=x.ri.K;this.jK.OLa(y);}};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.Jb)),r.__param(1,f.l(l.mj)),r.__param(2,f.l(d.Wxa)),r.__param(3,f.l(m.iu)),r.__param(4,f.l(t.Zc)),r.__param(5,f.l(p.xya)),r.__param(6,f.l(n.W9)),r.__param(7,f.l(u.pu)),r.__param(8,f.l(w.tP)),r.__param(9,f.l(g.wP))],a);b.Xxa=a;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E;function c(F,C,G,J,K,H,L,P,I,O){this.dr=F;this.we=C;this.wh=G;this.Ii=J;this.Dc=K;this.is=H;this.XU=L;this.config=P;this.op=I;this.Lh=O;this.log=this.dr.Cb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.rCa=void 0;r=a(1);f=a(0);k=a(3);l=a(8);d=a(90);g=a(133);h=a(588);m=a(589);n=a(590);q=a(203);p=a(28);t=a(76);u=a(35);w=a(26);v=a(36);x=a(591);y=a(593);z=a(77);A=a(14);B=a(104);D=a(69);a=a(71);c.prototype.vy=function(){this.promise || (this.promise=this.ORb());return this.promise;};c.prototype.Rsb=function(F){var C;C=this;return new Promise(function(G,J){var K,H;K=B.Ob.Uja(F);H=C.KTa(K);K=C.DTa(K);H.dRb(F,K.Bka()).then(function(L){C.log.trace("Created the media keys system access",{keySystem:F,supportedconfig:L.getConfiguration?JSON.stringify(L.getConfiguration()):void 0});G(L);}).catch(function(L){C.log.error("Unable to create the media key system access object",{keySystem:F,error:L.message});J(new d.og(k.M.gya,k.L.hj,void 0,"Unable to create media keys system access. " + L.message,L));});});};c.prototype.Ms=function(){var F;F=this;return this.vy().then(function(C){return F.ETa(C);});};c.prototype.kAb=function(){var F,C;F=this;C=this.config().AXa || [this.config().Pl];if(1 < C.length)return this.vy().then(function(G){return F.ETa(G);}).then(function(G){return B.Ob.CTa(G);});C=B.Ob.Uja(C[0]);return Promise.resolve(B.Ob.CTa(C));};c.prototype.lAb=function(){var F;F=this;return this.Ms().then(function(C){return F.DTa(C);});};c.prototype.nAb=function(){var F;F=this;return this.Ms().then(function(C){return F.KTa(C);});};c.prototype.ETa=function(F){return B.Ob.Uja(F.keySystem);};c.prototype.DTa=function(F){switch(F){case g.nn.IC:return new h.tya(this.Ii,this.Dc);case g.nn.xF:return new y.tGa(this.Ii,this.Dc,this.wh,this.Lh);default:return new n.Mwa(this.Ii,this.op,this.config);}};c.prototype.KTa=function(F){switch(F){case g.nn.IC:return new m.wFa(this.XU,this.is,this.Dc,this.we,this.op,this.wh);case g.nn.xF:return new x.Xya(this.XU,this.is,this.Dc,this.we,this.op,this.wh);default:return new q.wu(this.XU,this.is,this.Dc,this.we,this.op,this.wh);}};c.prototype.ORb=function(){var F,C;F=this;C=(this.config().AXa || [this.config().Pl]).map(function(G){return function(){return F.Rsb(G);};});return this.PRb(C);};c.prototype.PRb=function(F){return F.reduce(function(C,G){return C.then(function(J){return Promise.resolve(J);}).catch(function(){return G();});},Promise.reject(Error("keySystem missing")));};E=c;E=r.__decorate([f.R(),r.__param(0,f.l(l.Jb)),r.__param(1,f.l(p.Jf)),r.__param(2,f.l(z.yu)),r.__param(3,f.l(t.vw)),r.__param(4,f.l(u.Uh)),r.__param(5,f.l(w.If)),r.__param(6,f.l(v.BI)),r.__param(7,f.l(A.Zc)),r.__param(8,f.l(D.iu)),r.__param(9,f.l(a.tu))],E);b.rCa=E;},function(r,b,a){var f,k,l,d,g,h,m,n,q;function c(p,t){this.Ii=p;this.Dc=t;}Object.defineProperty(b,"__esModule",{value:!0});b.tya=void 0;r=a(1);f=a(0);k=a(3);l=a(76);d=a(35);g=a(202);h=a(90);m=a(61);n=a(42);q=a(59);c.prototype.C1=function(){return !0;};c.prototype.pfa=function(){return !1;};c.prototype.Zfa=function(){return !1;};c.prototype.xT=function(){return q.yw;};c.prototype.Kja=function(){return q.Gaa;};c.prototype.Bka=function(){return [{initDataTypes:[this.xT()],audioCapabilities:[{contentType:g.xI}],videoCapabilities:[{contentType:g.Iw}],sessionTypes:["temporary"]}];};c.prototype.$la=function(){Promise.reject(new n.ed(k.M.q$));};c.prototype.Wga=function(p){var t;t=new Uint8Array(p.message);t=this.Kia(t,"PlayReadyKeyMessage","Challenge");t=this.Dc.decode(t);return {type:p.type,sessionId:p.target.sessionId,kG:[t],messageType:p.messageType};};c.prototype.Vx=function(p){var t,u,w;t=new h.og(k.M.vq);u=p.code;null != u && void 0 !== u?(u=parseInt(u,10),t.kc=1 <= u && 9 >= u?k.L.Rr + u:k.L.Rr):t.kc=p instanceof m.xq?k.L.NO:k.L.hj;try{w=(/\((\d+)\)/).exec(p.message);t.xd=this.Ii.AF(Number(w && w[1]),4);}catch(v){}t.vS(p);return t;};c.prototype.Kia=function(p,t){var w,v,x;for(var u=1;u < arguments.length;++u){;}for(u=1;u < arguments.length;u++){;}u="";v=p.length;for(w=0;w < v;w++){x=p[w];0 < x && (u+=String.fromCharCode(x));}v="\\s*(.*)\\s*";for(w=arguments.length - 1;0 < w;w--){x=arguments[w];if(0 > u.search(x))return "";x="(?:[^:].*:|)" + x;v="[\\s\\S]*<" + x + "[^>]*>" + v + "</" + x + ">[\\s\\S]*";}return (u=u.match(new RegExp(v)))?u[1]:"";};c.prototype.mL=function(){};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.vw)),r.__param(1,f.l(d.Uh))],a);b.tya=a;},function(r,b,a){var f,k,l,d;function c(){return k.wu.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wFa=void 0;r=a(1);f=a(0);k=a(203);l=a(90);d=a(3);la(c,k.wu);c.prototype.O1=function(g,h,m,n,q){this.q2a(m);this.o2a(n);this.m2a(q);this.Mhb=this.gb;this.gb=g.createSession(h);this.VLa(m);this.RLa(n);this.PLa(q);return this.generateRequest(this.initDataType,this.initData);};c.prototype.close=function(){var h;function g(m){return m && m.sessionId?m.close().then(function(){return m=void 0;}):Promise.resolve();}h=this;this.Cga=void 0;return this.gb?g(this.gb).then(function(){g(h.Mhb);}):Promise.reject(new l.og(d.M.fya,d.L.hI,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(g,h){this.initDataType=g;this.initData=h;return k.wu.prototype.generateRequest.call(this,g,h);};a=r.__decorate([f.R()],c);b.wFa=a;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p;function c(t,u,w){this.Ii=t;this.op=u;this.config=w;}Object.defineProperty(b,"__esModule",{value:!0});b.Mwa=void 0;r=a(1);f=a(0);k=a(3);l=a(76);d=a(202);g=a(90);h=a(61);m=a(69);n=a(14);q=a(42);p=a(59);c.prototype.C1=function(){return !0;};c.prototype.pfa=function(){return !0;};c.prototype.Zfa=function(){return !0;};c.prototype.xT=function(){return p.yw;};c.prototype.Kja=function(){return this.op.isa?this.op.isa:p.sIa;};c.prototype.Bka=function(){var t,u;t=[{contentType:d.Iw,robustness:p.pI},{contentType:d.Iw,robustness:p.Bba},{contentType:d.Iw,robustness:p.KZ}];u=[{contentType:d.Iw,robustness:p.KZ}];return [{initDataTypes:[this.xT()],persistentState:"required",videoCapabilities:this.config().FSa?u:t}];};c.prototype.$la=function(){Promise.reject(new q.ed(k.M.q$));};c.prototype.Wga=function(t){return {type:t.type,sessionId:t.target.sessionId,kG:[new Uint8Array(t.message)],messageType:t.messageType};};c.prototype.Vx=function(t){var u,w,v;u=new g.og(k.M.vq);w=t.code;null != w && void 0 !== w?(w=parseInt(w,10),u.kc=1 <= w && 9 >= w?k.L.Rr + w:k.L.Rr):u.kc=t instanceof h.xq?k.L.NO:k.L.hj;try{v=t.message.match(/\((\d*)\)/)[1];u.xd=this.Ii.AF(v,4);}catch(x){}u.vS(t);return u;};c.prototype.mL=function(){};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.vw)),r.__param(1,f.l(m.iu)),r.__param(2,f.l(n.Zc))],a);b.Mwa=a;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t;function c(u,w,v,x,y,z){u=k.wu.call(this,u,w,v,x,y,z) || this;u.Dc=v;u.Rd=x;u.op=y;u.wh=z;u.RVa=new l.Wya(u.Dc,u.Rd,u.wh);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Xya=void 0;r=a(1);f=a(0);k=a(203);l=a(592);d=a(36);g=a(26);h=a(35);m=a(28);n=a(69);q=a(77);p=a(312);t=a(313);la(c,k.wu);c.prototype.generateRequest=function(u,w){var v,x,y;v=this;try{x=w.map(function(z){return v.RVa.XAb(z);});this.lWa=x.map(function(z){return v.Dc.encode(z);});y=this.RVa.xqb(x);return k.wu.prototype.generateRequest.call(this,u,[y]);}catch(z){return Promise.reject(z);}};c.prototype.update=function(u,w,v){var x,y,z,A,B;x=this;if(v)try{y=this.wh.encode(u[0]);z=JSON.parse(y).RESPONSES.map(function(D){var E;E=t.LZ.h5a(D.ID);return {keyID:w === p.ZD.WFa?x.lWa[x.lWa.length - 1]:v[E],payload:D.PAYLOAD};});if(w === p.ZD.Request){A=z.map(function(D){return D.keyID;});v.forEach(function(D){A.includes(D) || z.push({keyID:D,error:1});});}B=JSON.stringify(z);u=[this.wh.decode(B)];}catch(D){return Promise.reject(D);}return k.wu.prototype.update.call(this,u,w);};c.prototype.QG=function(){return k.wu.prototype.update.call(this,[this.wh.decode("renew")],p.ZD.Request);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(d.BI)),r.__param(1,f.l(g.If)),r.__param(2,f.l(h.Uh)),r.__param(3,f.l(m.Jf)),r.__param(4,f.l(n.iu)),r.__param(5,f.l(q.yu))],a);b.Xya=a;},function(r,b){function a(c,f,k){var l;l=this;this.Dc=c;this.Rd=f;this.wh=k;this.XAb=function(d){var g;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=l.Dc.decode(d);d=d.subarray(4);g=new Uint8Array(16);g.set(d);return g;};this.Eab={yw:1667591779,p_b:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.Wya=void 0;a.prototype.xqb=function(c){var f;f=this.Eab.yw;c=c.map(function(k){return {E6b:"",IGb:k,dfa:k,wUb:k,HYb:[1]};});return this.pIb(f,c);};a.prototype.oIb=function(c){var f;f=new Uint8Array(4);new DataView(f.buffer).setUint32(0,c);return this.Ana("fpsi",[f]);};a.prototype.nIb=function(c,f,k,l){c=[this.Ana("fkri",[c])];f.byteLength && c.push(this.DU("fkai",[f]));k.byteLength && c.push(this.DU("fkcx",[k]));l.length && c.push(this.DU("fkvl",[new Uint8Array(new Uint32Array(l).buffer)]));return this.DU("fpsk",c);};a.prototype.pIb=function(c,f){var k,d;k=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.oIb(c)];for(var l in f){d=f[l];c.push(this.nIb(d.IGb,d.dfa,d.wUb,d.HYb));}f=this.DU("fpsd",c);l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,f.byteLength);return this.Ana("pssh",[k,l,f]);};a.prototype.Ana=function(c,f){var k,l,d;k=0;for(d in f){k+=f[d].byteLength;}k=new Uint8Array(12 + k);l=new DataView(k.buffer);d=0;l.setUint32(d,k.byteLength);d+=4;k.set(this.wh.decode(c),d);d+=4;l.setUint32(d,0);d+=4;for(var g in f){c=f[g];k.set(c,d);d+=c.byteLength;}return k;};a.prototype.DU=function(c,f){var k,l;k=0;for(l in f){k+=f[l].byteLength;}k=new Uint8Array(8 + k);l=0;new DataView(k.buffer).setUint32(l,k.byteLength);l+=4;k.set(this.wh.decode(c),l);l+=4;for(var d in f){c=f[d];k.set(c,l);l+=c.byteLength;}return k;};b.Wya=a;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u;function c(w,v,x,y){this.Ii=w;this.Dc=v;this.wh=x;this.Lh=y;}Object.defineProperty(b,"__esModule",{value:!0});b.tGa=void 0;r=a(1);f=a(0);k=a(3);l=a(76);d=a(77);g=a(90);h=a(61);m=a(35);n=a(59);q=a(314);p=a(42);t=a(71);u=a(313);c.prototype.C1=function(){return !1;};c.prototype.pfa=function(){return !1;};c.prototype.Zfa=function(){return !0;};c.prototype.xT=function(){return n.yw;};c.prototype.Kja=function(){return n.EY;};c.prototype.Bka=function(){return [{initDataTypes:[n.yw],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary"]}];};c.prototype.$la=function(w){w.QG();};c.prototype.Wga=function(w){var v,x;v=[];if(w.messageType === q.iaa || w.messageType === q.haa){if(w.messageType === q.iaa){x=this.wh.encode(new Uint8Array(w.message));v=JSON.parse(x);x=v.map(function(y){return y.keyID;});v=v.map(function(y){return y.payload;});}else v=[this.Dc.encode(new Uint8Array(w.message))];if(0 === v.length || !v.every(function(y){return y && y.length;}))throw new p.ed(k.M.kya);v=this.oWb(v);v=this.wh.decode(JSON.stringify(v));}else v=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,kG:[v],messageType:w.messageType,xv:x};};c.prototype.Vx=function(w){var v,x,y,z;x=null === (v=w.target) || void 0 === v?void 0:v.error;if(x)(y=x.systemCode,z=x.code);v=new g.og(k.M.vq,w instanceof h.xq?k.L.NO:k.L.Rr,y?this.Ii.AF(y,4):z,"",x);v.vS(w);return v;};c.prototype.oWb=function(w){w=w.map(function(v,x){return {ID:u.LZ.LEb(x),PAYLOAD:v};});return {VERSION:this.Lh.B1?3:1,CHALLENGES:w};};c.prototype.mL=function(w,v){var x,y;x=this;if(v && this.Lh.B1)try{y=this.wh.encode(v[0]);return JSON.parse(y).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=u.LZ.h5a(z.ID);z=x.Dc.decode(z.DHB).subarray(4,12);A=x.Dc.decode(w[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new g.og(k.M.Kdb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.vw)),r.__param(1,f.l(m.Uh)),r.__param(2,f.l(d.yu)),r.__param(3,f.l(t.tu))],a);b.tGa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xZ=void 0;b.xZ=function(){var a;a=this;this.promise=new Promise(function(c,f){a.resolve=c;a.reject=f;});};},function(r,b,a){var f,k,l,d,g,h,m,n;function c(q,p,t,u,w,v){this.dr=q;this.Ha=p;this.Dc=t;this.config=u;this.jo=w;this.Sl=v;}Object.defineProperty(b,"__esModule",{value:!0});b.wya=void 0;r=a(1);f=a(0);k=a(8);l=a(19);d=a(35);g=a(69);h=a(61);m=a(314);a=a(79);c.prototype.create=function(){var q;q=this;return Promise.all([this.Sl.nAb(),this.Sl.lAb(),this.Sl.Ms()]).then(function(p){var t,u;t=aa(p);p=t.next().value;u=t.next().value;t=t.next().value;return new m.yya(q.dr,q.Ha,q.Dc,q.config,p,u,t,q.jo);});};n=c;n=r.__decorate([f.R(),r.__param(0,f.l(k.Jb)),r.__param(1,f.l(l.rd)),r.__param(2,f.l(d.Uh)),r.__param(3,f.l(g.iu)),r.__param(4,f.l(h.Pw)),r.__param(5,f.l(a.pu))],n);b.wya=n;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F,C,G,J,K,H,L,P,I,O,N;Object.defineProperty(b,"__esModule",{value:!0});b.XXa=void 0;c=a(597);f=a(622);k=a(631);l=a(634);d=a(640);g=a(643);h=a(646);m=a(658);n=a(668);q=a(672);p=a(674);t=a(1012);u=a(1014);w=a(1018);v=a(1032);x=a(1039);y=a(1046);z=a(1049);A=a(1056);B=a(199);D=a(1064);E=a(1065);F=a(1072);C=a(1085);G=a(1091);J=a(1093);K=a(1100);H=a(1154);L=a(1176);P=a(1180);I=a(1184);O=a(1197);N=a(1200);b.XXa=function(M){M.load(c.Sx,g.xH,f.jYa,h.zm,k.HZa,l.xa,d.z7a,m.storage,n.dK,q.VNa,p.DYa,t.wC,u.ji,w.iYa,v.VZa,x.RSa,y.C1a,z.HG,A.cRa,B.eme,D.crypto,E.we,F.qd,C.Pa,G.MZa,J.C0a,K.j,H.ROa,L.transports,P.gl,I.Mh,O.aNa,N.sa);};},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F,C,G,J,K,H,L,P,I,O,N,M,Q,S,fa,qa,xa,ua,X,sa,T,R,ca,ja,Pa,wa,Ua,Va,cb,Ya,kb,$a,Ra,ya,Ia,Ma,Ta,hb,wb,Eb,Hb,Ob;Object.defineProperty(b,"__esModule",{value:!0});b.Sx=void 0;r=a(0);c=a(36);f=a(39);k=a(46);l=a(92);d=a(136);g=a(598);h=a(599);m=a(600);n=a(601);q=a(77);p=a(76);t=a(35);u=a(28);w=a(26);v=a(93);x=a(61);y=a(317);z=a(602);A=a(318);B=a(603);D=a(604);E=a(605);F=a(192);C=a(319);G=a(606);J=a(198);K=a(106);H=a(607);L=a(19);P=a(320);I=a(608);O=a(609);N=a(91);M=a(610);Q=a(8);S=a(316);fa=a(611);qa=a(70);xa=a(612);ua=a(321);X=a(613);sa=a(614);T=a(107);R=a(11);ca=a(615);ja=a(323);Pa=a(324);wa=a(616);Ua=a(325);Va=a(14);cb=a(34);Ya=a(137);kb=a(326);$a=a(161);Ra=a(617);ya=a(327);Ia=a(328);Ma=a(205);Ta=a(618);hb=a(329);wb=a(619);Eb=a(206);Hb=a(620);Ob=a(621);b.Sx=new r.$c(function(Cb){Cb(c.JP).$C(function(){return {};}).$();Cb(c.vD).yi(JSON);Cb(c.vIa).yi(pb);Cb(d.lHa).yi(Math);Cb(c.$Aa).yi(R.gZ);Cb(c.Taa).yi(R.ru);Cb(c.aIa).yi(R.vA);Cb(c.sxa).yi(Date);Cb(c.BI).yi(R.Te);Cb(c.Fcb).yi(R.LD);Cb(S.Qwa).to(fa.Pwa).$();Cb(L.rd).to(H.gva).$();Cb(f.Wh).to(n.Rwa).$();Cb(k.mj).to(g.uGa).$();Cb(l.oA).to(h.nAa).$();Cb(x.Pw).to(E.KFa).$();Cb(d.EZ).to(m.SFa).$();Cb(kb.maa).to(Ob.nCa).$();Cb(N.eu).to(O.yxa).$();Cb(N.wxa).to(M.vxa).$();Cb(q.yu).to(z.bIa).$();Cb(p.vw).to(A.O9).$();Cb(t.Uh).to(B.Rva).$();Cb(u.Jf).to(D.cIa).$();Cb(w.If).yi(F.uD);Cb(ya.PO).to(Ia.Nya).$();Cb(v.Oya).to(C.Yj).Hla();Cb(v.wY).to(C.Yj).$();Cb(v.Ixa).to(C.Yj).$();Cb(v.x$).to(C.Yj).$();Cb(J.Iba).to(K.AA).$();Cb(P.gxa).to(I.fxa).$();Cb(qa.XD).to(xa.Mba).$();Cb(qa.wP).to(xa.Mba).$();Cb("Factory<LoggerFactory>").Z5a(Q.Jb);Cb(ua.m$).to(X.zxa).$();Cb(T.MI).tf(function(Kb){return function(Vb){return new sa.wHa(Kb.$a.get(L.rd),Kb.$a.get(k.mj),Vb);};});Cb(hb.txa).tf(function(Kb){return function(Vb){return new wb.uxa(Kb.$a.get(k.mj),Vb);};});Cb(ca.oba).qWb(ja.nba);Cb(ca.jeb).tf(function(Kb){var Vb;Vb=Kb.$a.get(ca.oba);return function(){return new Vb(!1);};});Cb(ca.keb).tf(function(Kb){var Vb;Vb=Kb.$a.get(ca.oba);return function(){return new Vb(!0);};});Cb(Pa.ZHa).tf(function(){return function(Kb){return new wa.$Ha(Kb);};});Cb(Ya.KP).tf(function(Kb){return function(Vb,mc,Dc){return new Ua.aFa(Kb.$a.get(N.eu),Kb.$a.get(Va.Zc),Kb.$a.get(cb.Mk),Kb.$a.get(kb.maa),Vb,mc,Dc);};});Cb(y.hDa).tf(function(){return function(Kb){return new G.iDa(Kb);};});Cb($a.hA).to(Ra.gwa);Cb(Ma.SZ).tf(function(Kb){return function(Vb,mc){return new Ta.HHa(Kb.$a.get(k.mj),Vb,mc);};});Cb(Eb.Fya).to(Hb.Eya).$();});},function(r,b,a){var k,l,d,g;function c(h){this.UN=h;l.ao(this,"timers");}function f(h,m){this.UN=h;this.Oob=m;}Object.defineProperty(b,"__esModule",{value:!0});b.uGa=void 0;r=a(1);k=a(0);l=a(57);d=a(36);g=a(4);f.prototype.cancel=function(){this.Oob(this.UN);};c.prototype.ql=function(h){return this.Rj(g.ab,h);};c.prototype.Rj=function(h,m){var n;n=this.UN.setTimeout(m,h.ea(g.ma));return new f(this.UN,function(q){q.clearTimeout(n);});};c.prototype.A7=function(h,m){var n;n=this.UN.setInterval(m,h.ea(g.ma));return new f(this.UN,function(q){q.clearInterval(n);});};a=c;a=r.__decorate([k.R(),r.__param(0,k.l(d.vIa))],a);b.uGa=a;},function(r,b,a){var f,k,l,d,g;function c(h,m){this.wa=h;this.random=m;}Object.defineProperty(b,"__esModule",{value:!0});b.nAa=void 0;r=a(1);k=a(0);l=a(4);d=a(39);a=a(136);c.prototype.wB=function(){return this.wa.Ye.ea(l.rn) * f.vwa + Math.floor(this.random.random() * f.vwa);};g=f=c;g.vwa=1E8;g=f=r.__decorate([k.R(),r.__param(0,k.l(d.Wh)),r.__param(1,k.l(a.EZ))],g);b.nAa=g;},function(r,b,a){var f,k;function c(l){this.HVb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.SFa=void 0;r=a(1);f=a(0);a=a(136);c.prototype.random=function(){return this.HVb.random();};c.prototype.J1a=function(l,d){if("number" !== typeof l)(d=l.end,l=l.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(l + this.random() * (d - l));};k=c;k=r.__decorate([f.R(),r.__param(0,f.l(a.lHa))],k);b.SFa=k;},function(r,b,a){var f,k,l,d,g,h,m;function c(n,q,p,t){var u;u=this;this.config=n;this.Ktb=q;this.Qb=p;this.performance=t;this.dMb=function(w){u.y3a=w.Aa(u.Ye);};f.ao(this,"date");f.ao(this,"performance");this.fmb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.y3a=k.ab;this.Qb.addListener(m.Q$.B3a,this.dMb);}Object.defineProperty(b,"__esModule",{value:!0});b.Rwa=void 0;r=a(1);f=a(57);k=a(4);l=a(0);d=a(36);g=a(316);h=a(93);m=a(17);Xa.Object.defineProperties(c.prototype,{Ye:{configurable:!0,enumerable:!0,get:function(){return this.KZa?k.timestamp(this.performance.timing.navigationStart + this.performance.now()):k.xc(this.Ktb.now());}},L7:{configurable:!0,enumerable:!0,get:function(){return this.Ye.add(this.y3a);}},KZa:{configurable:!0,enumerable:!0,get:function(){return this.config.k7a && this.fmb;}}});a=c;a=r.__decorate([l.R(),r.__param(0,l.l(g.Qwa)),r.__param(1,l.l(d.sxa)),r.__param(2,l.l(h.x$)),r.__param(3,l.l(d.Taa)),r.__param(3,l.optional())],a);b.Rwa=a;},function(r,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.bIa=void 0;r=a(1);a=a(0);c.prototype.encode=function(l){return f.oia(l);};c.prototype.decode=function(l){return f.Aha(l);};c.oia=function(l){if(!l)throw new TypeError("Invalid byte array");for(var d=0,g,h=l.length,m="";d < h;){g=l[d++];if(!(0 <= g && 255 >= g))throw Error("bad utf8");if(g & 128)if(192 === (g & 224))g=((g & 31) << 6) + (l[d++] & 63);else if(224 === (g & 240))g=((g & 15) << 12) + ((l[d++] & 63) << 6) + (l[d++] & 63);else throw Error("unsupported utf8 character");m+=String.fromCharCode(g);}return m;};c.Aha=function(l){var d,g,h,m,n;d=l.length;g=0;m=0;if(!(0 <= d))throw Error("bad string");for(h=d;h--;){n=l.charCodeAt(h);128 > n?g++:g=2048 > n?g + 2:g + 3;}g=new Uint8Array(g);for(h=0;h < d;h++){n=l.charCodeAt(h);128 > n?g[m++]=n:(2048 > n?g[m++]=192 | n >>> 6:(g[m++]=224 | n >>> 12,g[m++]=128 | n >>> 6 & 63),g[m++]=128 | n & 63);}return g;};k=f=c;k=f=r.__decorate([a.R()],k);b.bIa=k;},function(r,b,a){var f,k,l,d,g,h,m,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Rva=void 0;r=a(1);a=a(0);k=Array.prototype.slice;l=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");k=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};g={};h={};m={};n=/\s+/g;[l,k].forEach(function(q){var t;for(var p=q.length;p--;){t=q[p];d[t]=p << 18;g[t]=p << 12;h[t]=p << 6;m[t]=p;}});c.prototype.encode=function(q){return f.oia(q,l,"=");};c.prototype.decode=function(q){return f.Aha(q);};c.Aha=function(q){var p,t,u;q=q.replace(n,"");p=q.length;t=q.charAt(p - 1);"=" !== t && "." !== t || p--;t=q.charAt(p - 1);"=" !== t && "." !== t || p--;t=3 * (p >> 2);u=0;switch(p % 4){case 2:u=1;break;case 3:u=2;break;case 1:throw Error("bad base64");}p=new Uint8Array(t + u);for(var w=0,v=0,x;v < t;){x=d[q[w++]] + g[q[w++]] + h[q[w++]] + m[q[w++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");p[v++]=x >>> 16;p[v++]=x >>> 8 & 255;p[v++]=x & 255;}if(0 < u && (x=d[q[w++]] + g[q[w++]],p[v++]=x >>> 16,1 < u && (x+=h[q[w++]],p[v++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < u?255:65535)))))throw Error("bad base64");return p;};c.oia=function(q,p,t){for(var u="",w=0,v=q.length,x=v - 2,y;w < x;){y=(q[w++] << 16) + (q[w++] << 8) + q[w++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");u+=p[y >>> 18] + p[y >>> 12 & 63] + p[y >>> 6 & 63] + p[y & 63];}if(w == x){y=(q[w++] << 8) + q[w++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");u+=p[y >>> 10] + p[y >>> 4 & 63] + p[y << 2 & 63] + t;}else if(w == v - 1){y=q[w++];if(!(0 <= y && 255 >= y))throw Error("not bytes");u+=p[y >>> 2] + p[y << 4 & 63] + t + t;}return u;};k=f=c;k=f=r.__decorate([a.R()],k);b.Rva=k;},function(r,b,a){var f,k,l,d;function c(g,h){this.is=g;this.Ii=h;}Object.defineProperty(b,"__esModule",{value:!0});b.cIa=void 0;r=a(1);f=a(0);a(3);k=a(26);l=a(76);d=a(11);c.prototype.oG=function(g,h,m){var n,q,p,t;n=this;if(h)if(m){q=m.WL;p=m.prefix;t=m.gz;this.EB(h,function(u,w){if(!t || n.is.eg(w))g[(p || "") + (q?u.toLowerCase():u)]=w;});}else this.EB(h,function(u,w){g[u]=w;});return g;};c.prototype.EB=function(g,h){for(var m in g){g.hasOwnProperty(m) && h(m,g[m]);}};c.prototype.xs=function(g,h){if(g.length == h.length){for(var m=g.length;m--;){if(g[m] != h[m])return !1;}return !0;}return !1;};c.prototype.kPa=function(g,h){if(g.length != h.length)return !1;g.sort();h.sort();for(var m=g.length;m--;){if(g[m] !== h[m])return !1;}return !0;};c.prototype.wd=function(g){var h,m,n;if(g){h=g.stack;m=g.number;n=g.message;n || (n="" + g);h?(g="" + h,0 !== g.indexOf(n) && (g=n + "\n" + g)):g=n;m && (g+="\nnumber:" + m);return g;}};c.prototype.getFunctionName=function(g){return (g=(/function (.{1,})\(/).exec(g.toString())) && 1 < g.length?g[1]:"";};c.prototype.Mja=function(g){return this.getFunctionName(g.constructor);};c.prototype.Uoa=function(g){var h,m;h=this;m="";this.is.Cx(g) || this.is.vMa(g)?m=Array.prototype.reduce.call(g,function(n,q){return n + (32 <= q && 128 > q?String.fromCharCode(q):".");},""):this.is.Xo(g)?m=g:this.EB(g,function(n,q){m+=(m?", ":"") + "{" + n + ": " + (h.is.I0(q)?h.getFunctionName(q) || "function":q) + "}";});return "[" + this.Mja(g) + " " + m + "]";};c.prototype.createElement=function(g,h,m,n){var q;q=d.He.createElement(g);h && (q.style.cssText=h);m && (q.innerHTML=m);n && this.EB(n,function(p,t){q.setAttribute(p,t);});return q;};c.prototype.Ixb=function(g,h){return function(m){return m[g] === h;};};c.prototype.wV=function(g){var h;h={};(g || "").split("&").forEach(function(m){var n,q;m=m.trim();n=m.indexOf("=");if(0 <= n){q=decodeURIComponent(m.substr(0,n)).toLowerCase();h[q]=decodeURIComponent(m.substr(n + 1));}else h[m.toLowerCase()]=void 0;});return h;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.If)),r.__param(1,f.l(l.vw))],a);b.cIa=a;},function(r,b,a){var f,k,l;function c(d){this.yc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.KFa=void 0;r=a(1);f=a(0);k=a(46);l=a(61);c.prototype.Xp=function(d,g){var h;h=this;return new Promise(function(m,n){var q;q=h.yc.Rj(d,function(){n(new l.xq(d));});g.then(function(p){m(p);q.cancel();}).catch(function(p){n(p);q.cancel();});});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.mj))],a);b.KFa=a;},function(r,b,a){var f;function c(k){this.czb=k;this.S3=!1;this.i4=this.Hf=this.QN=0;this.aU=!1;this.j4=0;}Object.defineProperty(b,"__esModule",{value:!0});b.iDa=void 0;f=a(18);c.prototype.ulb=function(k){k < this.QN && (this.Hf+=this.QN);this.QN=k;this.S3=!0;};c.prototype.Szb=function(){if(this.S3)return this.aU?this.j4 - this.i4:this.Hf + this.QN - this.i4;};c.prototype.refresh=function(){var k;k=this.czb();f.ya(k) && this.ulb(k);};c.prototype.yUb=function(){this.aU || (this.S3 && (this.j4=this.Hf + this.QN),this.aU=!0);};c.prototype.NUb=function(){this.aU && (this.S3 && (this.i4+=this.Hf + this.QN - this.j4),this.j4=0,this.aU=!1);};b.iDa=c;},function(r,b,a){var f,k,l,d;function c(g,h){this.wa=g;this.Y2=this.wa.Ye.ea(l.ma) - 1;this.aIb=this.f5=0;this.id="" + h.wB();}Object.defineProperty(b,"__esModule",{value:!0});b.gva=void 0;r=a(1);f=a(0);k=a(39);l=a(4);a=a(92);c.prototype.Wb=function(){var g,h;g=this.wa.Ye.ea(l.ma) - this.Y2;if(g < this.f5){h=this.f5 + 1;this.Y2-=h - g;g=h;}this.f5=g;return l.xc(this.f5);};c.prototype.dBb=function(){return this.aIb++;};Xa.Object.defineProperties(c.prototype,{eG:{configurable:!0,enumerable:!0,get:function(){return l.xc(this.Y2);}}});d=c;d=r.__decorate([f.R(),r.__param(0,f.l(k.Wh)),r.__param(1,f.l(a.oA))],d);b.gva=d;},function(r,b,a){var f,k,l,d;function c(g,h){this.is=g;this.we=h;}Object.defineProperty(b,"__esModule",{value:!0});b.fxa=void 0;r=a(1);k=a(0);l=a(26);a=a(28);c.prototype.encode=function(g){var h,m;h=this;m="";this.we.EB(g,function(n,q){n=h.ERa(n) + "=" + h.ERa(q);m=m?m + ("," + n):n;});return m;};c.prototype.ERa=function(g){return this.is.pF(g)?this.is.di(g)?"" + g:this.is.Xo(g)?(g=g.replace(f.Vqa,this.Hna.bind(this)),!f.FPb.test(g) && f.uKb.test(g) && (g='"' + g + '"'),g):this.is.jR(g)?"" + g:this.is.qea(g)?"NaN":"":"";};c.prototype.Hna=function(g){return f.map[g];};d=f=c;d.map={'"':'""',"\r":"","\n":" "};d.Vqa=/(?!^.+)["\r\n](?=.+$)/g;d.FPb=/["].*["]/g;d.uKb=/[", ]/;d=f=r.__decorate([k.R(),r.__param(0,k.l(l.If)),r.__param(1,k.l(a.Jf))],d);b.fxa=d;},function(r,b,a){var f,k,l,d;function c(g,h,m){this.config=g;this.cb=h;this.za=m.Cb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.yxa=void 0;r=a(1);f=a(0);k=a(26);l=a(91);a=a(8);c.prototype.assert=function(){};c.prototype.vmb=function(g,h){this.assert(this.cb.pF(g),h);};c.prototype.wmb=function(g,h){this.assert(this.cb.eg(g),h);};c.prototype.W0=function(g,h){this.assert(this.cb.Xo(g),h);};c.prototype.Cmb=function(g,h){this.assert(this.cb.En(g),h);};c.prototype.Amb=function(g,h){this.assert(this.cb.Xo(g) || null === g || void 0 === g,h);};c.prototype.cfa=function(g,h){this.assert(this.cb.di(g),h);};c.prototype.ymb=function(g,h){this.assert(this.cb.Qea(g),h);};c.prototype.Bmb=function(g,h){this.assert(this.cb.vR(g),h);};c.prototype.zmb=function(g,h){this.assert(this.cb.kR(g),h);};c.prototype.umb=function(g,h){this.assert(this.cb.jR(g),h);};c.prototype.xmb=function(g,h){this.assert(this.cb.I0(g),h);};c.prototype.jFb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.wxa)),r.__param(1,f.l(k.If)),r.__param(2,f.l(a.Jb))],d);b.yxa=d;},function(r,b,a){var f,k,l,d;function c(g){g=k.tO.call(this,g,"DebugConfigImpl") || this;g.a5b=function(){debugger;};return g;}Object.defineProperty(b,"__esModule",{value:!0});b.vxa=void 0;r=a(1);f=a(44);k=a(45);l=a(0);a=a(37);la(c,k.tO);Xa.Object.defineProperties(c.prototype,{Rnb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([f.config(f.ad,"breakOnError")],d.prototype,"Rnb",null);d=r.__decorate([l.R(),r.__param(0,l.l(a.Z9))],d);b.vxa=d;},function(r,b,a){var f,k,l,d;function c(g){return k.tO.call(this,g,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Pwa=void 0;r=a(1);f=a(44);k=a(45);l=a(0);a=a(37);la(c,k.tO);Xa.Object.defineProperties(c.prototype,{k7a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([f.config(f.ad,"usePerformanceApi")],d.prototype,"k7a",null);d=r.__decorate([l.R(),r.__param(0,l.l(a.Z9))],d);b.Pwa=d;},function(r,b,a){var f,k,l,d;function c(g,h){this.Ha=g;this.entries=new Set();this.za=h.Cb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Mba=void 0;r=a(1);f=a(0);k=a(19);l=a(4);a=a(8);c.prototype.mark=function(g,h,m){g={name:g,Er:this.Ha.Wb()};h && (g.ca=h);m && (g.Dj=m);this.entries.add(g);return g;};c.prototype.gka=function(){var g;g=[];this.entries.forEach(function(h){return g.push(h);});return g;};c.prototype.kUa=function(g){return this.gka().filter(function(h){return h.ca === g;});};c.prototype.iUa=function(){var g;g={};try{g=this.gka().filter(function(h){return !h.ca;}).reduce(function(h,m){h[m.name]=m.Er.ea(l.ma);return h;},{});}catch(h){this.za.error(" getMapOfCommonMarks exception",h);}return g;};c.prototype.p2a=function(g){var h;h=this;this.gka().forEach(function(m){m.ca === g && h.entries.delete(m);});};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(k.rd)),r.__param(1,f.l(a.Jb))],d);b.Mba=d;},function(r,b,a){var f,k,l,d,g,h,m,n,q;function c(p,t){this.Ha=p;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.zxa=void 0;r=a(1);k=a(0);l=a(19);d=a(42);g=a(3);h=a(17);m=a(4);n=a(11);a=a(322);c.prototype.BQa=function(p){var t,u,w,v,x,y,z,A,B,D;t=this;v=p.mediaTime.value;x=p.Jq.value;y=p.bc.value;z=p.state.value;A={segmentId:p.tka(),mediaTime:v,segmentTime:p.NB(),bufferingState:f.Ynb[x],presentingState:f.QOb[y],playbackState:f.ONb[z],mseBuffersBusy:this.rCb(p),intBuffersBusy:this.RAb(p),tabVisible:this.IVb(),decodedFrameCount:this.dub(p),videoElementInDom:this.PYb(p),lastVideoSync:this.Ha.Wb().Aa(m.xc(p.XW)).ea(m.ma)};B=y === h.Db.Gg?p.ib.fl?this.config.U_a:this.config.T_a:this.config.EZa;if(x !== h.df.$d){if((x=g.L.$9a,this.ENa(A.mseBuffersBusy,A.intBuffersBusy)))D=f.Ova;}else (y !== h.Db.Hc?x=g.L.b$a:(x=g.L.a$a,(y=p.Bg) && 0 === y.k3() && (D=f.vfb)),(y=p.Bg) && y.Lb.sourceBuffers.forEach(function(E){var F,C;F=f.Fd[E.mediaType];A[F + "Ranges"]=E.g3();try{C=E.buffered();}catch(G){C=void 0;}C && 0 !== C.length?(E=1E3 * C.end(0) - v,A[F + "Undecoded"]=E,1 < C.length && (D=f.S8a),v < 1E3 * C.start(0) || v > 1E3 * C.end(0)?D=f.T8a:E < B.ea(m.ma)?D=f.U8a:t.ENa(A.mseBuffersBusy,A.intBuffersBusy) && (D=f.Ova)):(A[F + "Undecoded"]=0,D=f.R8a);}));y=p.z2a.cVa();z=v === (null === (u=y.repositionTrace) || void 0 === u?void 0:u[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (w=p.Pa) || void 0 === w?void 0:w.FH;Object.assign(A,y);p="";try{p=JSON.stringify(A);}catch(E){p="Cannot stringify details: " + E;}return new d.ed(g.M.sDa,x,D,void 0,void 0,void 0,p,void 0);};c.prototype.rCb=function(p){var t;if(p.Lb){t={};p.Lb.sourceBuffers.forEach(function(u){t[0 === u.type?"audio":"video"]={updating:u.updating()};});return t;}};c.prototype.RAb=function(p){var t;if(p.Lb){t={};p.Lb.sourceBuffers.forEach(function(u){t[0 === u.type?"audio":"video"]={updating:u.li()};});return t;}};c.prototype.IVb=function(){return !n.He.hidden;};c.prototype.dub=function(p){return (p=p.Bg) && (p=p.Lb.la) && void 0 !== p.webkitDecodedFrameCount?p.webkitDecodedFrameCount:NaN;};c.prototype.PYb=function(p){if(p=p.Bg)if(p=p.Lb.la)return n.He.body.contains(p);return !1;};c.prototype.ENa=function(p,t){var u,w,v,x;return !((null === (u=p.audio) || void 0 === u?void 0:u.updating) === (null === (w=t.audio) || void 0 === w?void 0:w.updating) && (null === (v=p.video) || void 0 === v?void 0:v.updating) === (null === (x=t.video) || void 0 === x?void 0:x.updating));};q=f=c;q.R8a="1";q.S8a="2";q.T8a="3";q.Ova="4";q.U8a="5";q.vfb="6";q.Fd=["Audio","Video"];q.Ynb=["","NORMAL","BUFFERING","STALLED"];q.QOb=["","WAITING","PLAYING ","PAUSED","ENDED"];q.ONb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];q=f=r.__decorate([k.R(),r.__param(0,k.l(l.rd)),r.__param(1,k.l(a.taa))],q);b.zxa=q;},function(r,b,a){var f,k,l,d;function c(g,h,m){var n;n=this;this.Nf=g;this.yc=h;this.K1=m;this.xM=function(q){n.Zi=void 0;n.YWb(q || n.K1);};this.CXa=l.xc(-this.K1.ea(l.ma));}Object.defineProperty(b,"__esModule",{value:!0});b.wHa=void 0;r=a(1);f=a(0);k=a(19);l=a(4);a=a(46);c.prototype.ql=function(g){this.Pra=g;this.Zi=this.Zi || this.fg(this.xM);};c.prototype.ih=function(){this.Zi && this.Zi.cancel();this.Zi=void 0;};c.prototype.YWb=function(g){var h,m;h=this.Nf.Wb();if(this.Pra){m=g.Aa(h.Aa(this.CXa));0 >= m.Yk(l.ab)?(g=this.Pra,this.Pra=void 0,this.CXa=h,g()):this.Zi=this.Zi || this.yc.Rj(m,this.xM.bind(this,g));}};c.prototype.fg=function(g){return this.yc.Rj(l.ab,g);};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(k.rd)),r.__param(1,f.l(a.mj))],d);b.wHa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oba="PrioritizedSetOfListsSymbol";b.jeb="PrioritizedSetOfListsFactorySymbol";b.keb="PrioritizedSetOfSetsFactorySymbol";},function(r,b){function a(){this.searchParams={};}function c(f){this.Uk=f;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.$Ha=void 0;c.prototype.toString=function(){return this.href;};Xa.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Uk + this.searchParams.toString();}}});b.$Ha=c;a.prototype.get=function(f){return this.searchParams[f];};a.prototype.set=function(f,k){this.searchParams[f]=k;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(f,k,l){var d;d=aa(k);k=d.next().value;d=d.next().value;return "" + f + (0 == l?"?":"&") + k + "=" + d;},"");};},function(r,b,a){var f,k,l,d,g;function c(h,m){this.Vd=this.mxb(h,m.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.hIa=b.gwa=void 0;r=a(1);f=a(0);k=a(14);l=a(37);a=a(36);c.prototype.K3=function(h,m){var n;if(m=this.QCb(m))switch(h){case g.xna:n=0 < m.length?Number(m[0]):0;break;case g.GZa:n=1 < m.length?Number(m[1]):0;break;case g.x0a:n=2 < m.length?Number(m[2]):0;break;case g.x7:n=3 < m.length?Number(m[3]):0;}return void 0 === n || isNaN(n)?0:n;};c.prototype.QCb=function(h){return null === h || void 0 === h?void 0:h.split(".");};c.prototype.FL=function(h){return this.Vd.name === h;};c.prototype.LL=function(h){return this.Vd.iz.name === h;};c.prototype.OWa=function(h){return this.Vd.fla === h;};c.prototype.mxb=function(h,m){return Object.assign(Object.assign({fla:this.oxb(h,m)},this.lxb(h,m)),{iz:this.pxb(h,m)});};c.prototype.oxb=function(h,m){return m && m.fla?m.fla:(/Android.*Chrome\/[.0-9]* Mobile/).test(h)?k.mP.phone:(/Android.*Chrome\/[.0-9]* /).test(h)?k.mP.w5a:k.mP.lqb;};c.prototype.lxb=function(h,m){return m && m.name && m.version?{name:m.name,version:m.version}:(/OPR/).test(h)?{name:k.yo.opera,version:""}:(m=h.match(/Edge\/(\d*)\./))?{name:k.yo.Sq,version:m[1]}:(m=h.match(/Edg\/(\d*)\./))?{name:k.yo.dRa,version:m[1]}:(m=h.match(/Chrome\/(\d*)\./))?{name:k.yo.sga,version:m[1]}:(m=h.match(/Firefox\/(\d*)\./))?{name:k.yo.xSa,version:m[1]}:(h=h.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:k.yo.d3a,version:h[1]}:{name:k.yo.sga,version:""};};c.prototype.pxb=function(h,m){return m && m.iz && m.iz.name && m.iz.version?{name:m.iz.name,version:m.iz.version}:(/CrOS/).test(h)?{name:k.Eo.uOa,version:""}:(/Tesla/).test(h)?{name:k.Eo.A5a,version:""}:(m=h.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:k.Eo.tYa,version:m[1] + "." + m[2] + "." + m[3]}:(/Windows NT/).test(h)?{name:k.Eo.Gua,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(h) || (/Android.*Chrome\/[.0-9]* /).test(h)?{name:k.Eo.Q0,version:""}:(/Linux/).test(h)?{name:k.Eo.lHb,version:""}:{name:k.Eo.Gua,version:""};};Xa.Object.defineProperties(c.prototype,{LWa:{configurable:!0,enumerable:!0,get:function(){return this.FL(k.yo.sga);}},IL:{configurable:!0,enumerable:!0,get:function(){return this.FL(k.yo.Sq);}},wv:{configurable:!0,enumerable:!0,get:function(){return this.FL(k.yo.dRa);}},gU:{configurable:!0,enumerable:!0,get:function(){return this.FL(k.yo.xSa);}},M4:{configurable:!0,enumerable:!0,get:function(){return this.FL(k.yo.opera);}},NL:{configurable:!0,enumerable:!0,get:function(){return this.FL(k.yo.d3a);}},qFb:{configurable:!0,enumerable:!0,get:function(){return this.LL(k.Eo.Q0) && this.OWa(k.mP.phone);}},rFb:{configurable:!0,enumerable:!0,get:function(){return this.LL(k.Eo.Q0) && this.OWa(k.mP.w5a);}},HL:{configurable:!0,enumerable:!0,get:function(){return this.LL(k.Eo.uOa);}},mma:{configurable:!0,enumerable:!0,get:function(){return this.LL(k.Eo.tYa);}},iXa:{configurable:!0,enumerable:!0,get:function(){return this.LL(k.Eo.A5a);}},S4:{configurable:!0,enumerable:!0,get:function(){return this.LL(k.Eo.Gua);}},Lq:{configurable:!0,enumerable:!0,get:function(){return this.K3(g.xna,this.Vd.version);}},xMb:{configurable:!0,enumerable:!0,get:function(){return this.K3(g.xna,this.Vd.iz.version);}},yMb:{configurable:!0,enumerable:!0,get:function(){return this.K3(g.GZa,this.Vd.iz.version);}},zMb:{configurable:!0,enumerable:!0,get:function(){return this.K3(g.x0a,this.Vd.iz.version);}}});d=c;d=r.__decorate([f.R(),r.__param(0,f.l(a.aIa)),r.__param(1,f.l(l.oP))],d);b.gwa=d;(function(h){h[h.xna=0]="major";h[h.GZa=1]="minor";h[h.x0a=2]="patch";h[h.x7=3]="revision";})(g=b.hIa || (b.hIa={}));},function(r,b,a){var f,k,l;function c(d,g,h){this.yc=d;this.jWb=g;this.PF=h;}Object.defineProperty(b,"__esModule",{value:!0});b.HHa=void 0;r=a(1);f=a(46);k=a(0);l=a(4);c.prototype.vF=function(){this.Zi || (this.Zi=this.yc.Rj(l.xc(this.jWb),this.PF));};c.prototype.Cr=function(){this.Zi && this.Zi.cancel();this.Zi=void 0;};a=c;a=r.__decorate([k.R(),r.__param(0,k.l(f.mj))],a);b.HHa=a;},function(r,b,a){var f,k;function c(l,d){this.yc=l;this.K1=d;}Object.defineProperty(b,"__esModule",{value:!0});b.uxa=void 0;r=a(1);f=a(0);a=a(46);c.prototype.ql=function(l){this.ih();this.Zi=this.yc.Rj(this.K1,l);};c.prototype.ih=function(){this.Zi && this.Zi.cancel();this.Zi=void 0;};k=c;k=r.__decorate([f.R(),r.__param(0,f.l(a.mj))],k);b.uxa=k;},function(r,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Eya=void 0;r=a(1);f=a(0);k=a(206);c.prototype.OK=function(l,d){var g;g=this;l && Object.entries(d).forEach(function(h){var m,n,q;m=aa(h);h=m.next().value;m=m.next().value;if(g.zFb(m)){n=aa(m);m=n.next().value;q=n.next().value;n=l[m];Array.isArray(n)?(g.Lha(l,h,m),n.forEach(function(p){g.OK(p,q);})):m === k.Wr?Object.values(l).forEach(function(p){g.OK(p,q);}):(g.Lha(l,h,m),"object" === typeof n && g.OK(n,q));}else g.Lha(l,h,m);});};c.prototype.zFb=function(l){return Array.isArray(l);};c.prototype.Lha=function(l,d,g){l.hasOwnProperty(d) || d === g || Object.defineProperty(l,d,{get:function(){return l[g];},enumerable:!1});};a=r.__decorate([f.R()],c);b.Eya=a;},function(r,b,a){var f,k,l;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.nCa=void 0;r=a(1);f=a(14);k=a(12);a=a(0);c.prototype.Ms=function(){return this.yFb()?k.Zxa:(/widevine/i).test(this.config().Pl)?k.o$:(/fps/i).test(this.config().Pl)?"fairplay":k.AY;};c.prototype.yFb=function(){return (/clearkey/i).test(this.config().Pl);};l=c;l=r.__decorate([a.R(),r.__param(0,a.l(f.Zc))],l);b.nCa=l;},function(r,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.jYa=void 0;c=a(623);f=a(624);r=a(0);k=a(108);l=a(8);d=a(629);b.jYa=new r.$c(function(g){g(l.Jb).to(f.wBa).$();g(k.vI).to(c.xBa).$();g(l.baa).to(d.gBa).$();});},function(r,b,a){function c(){this.x4a={};this.dn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.xBa=void 0;r=a(1);a=a(0);c.prototype.k7=function(f,k){k && (this.x4a[f]=k,this.dn=Object.values(this.x4a));};a=r.__decorate([a.R()],c);b.xBa=a;},function(r,b,a){var f,k,l,d,g,h,m;function c(n,q,p){this.Ha=n;this.dn=q;this.ina=p;}Object.defineProperty(b,"__esModule",{value:!0});b.wBa=void 0;r=a(1);f=a(207);k=a(0);l=a(626);d=a(19);g=a(108);h=a(8);m=a(627);c.prototype.Cb=function(n,q,p,t,u){p=void 0 === p?this.dn:p;return q?new l.QEa(this.Ha,this.ina,p,q,n):u?new m.qva(this.Ha,this.ina,p,n,t || "",u):new f.uI(this.Ha,this.ina,p,n);};a=c;a=r.__decorate([k.R(),r.__param(0,k.l(d.rd)),r.__param(1,k.l(g.vI)),r.__param(2,k.l(h.baa))],a);b.wBa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QNa=void 0;b.QNa=function(a,c){var k;a=a.cBb();for(var f=0;f < c.length;++f){k=c[f];void 0 != k && null != k && (k.oh && (k=k.oh),k.constructor === Uint8Array?a.Glb(k):"MediaRequest" === k.constructor.name?a.slb(k):"string" === typeof k?a.Elb(k):"function" === typeof k?a.llb(k):k instanceof Error?a.ilb(k):k instanceof Object?a.tlb(k):a.Hlb(k));}return a.Aj();};},function(r,b,a){var f,k,l;function c(d,g,h,m,n){d=l.uI.call(this,d,g,h,n) || this;d.j=m;f.ao(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.QEa=void 0;f=a(57);k=a(330);l=a(207);la(c,l.uI);c.prototype.cha=function(d){return new c(this.Ha,this.k1,this.dn,this.j,d);};c.prototype.eB=function(d,g,h){d=new k.aaa(d,this.Kn,this.Ha.Wb(),g,h,this.j.index);g=aa(this.dn.dn);for(h=g.next();!h.done;h=g.next()){h=h.value;h(d,this.j);}};b.QEa=c;},function(r,b,a){var f,k;function c(l,d,g,h,m,n){l=f.uI.call(this,l,d,g,h) || this;l.groups=m;Array.isArray(n)?l.prefix=n:n && "string" === typeof n && (l.prefix=[],l.prefix.push(n));return l;}Object.defineProperty(b,"__esModule",{value:!0});b.qva=void 0;f=a(207);k=a(628);la(c,f.uI);c.prototype.eB=function(l,d,g){l=new k.pva(l,this.Kn,this.Ha.Wb(),d,g,this.prefix);d=aa(this.dn.dn);for(g=d.next();!g.done;g=d.next()){g=g.value;g(l);}};c.prototype.cha=function(l){return new c(this.Ha,this.k1,this.dn,l,this.groups,this.prefix);};b.qva=c;},function(r,b,a){var f,k;function c(l,d,g,h,m,n,q){this.level=l;this.Kn=d;this.timestamp=g;this.message=h;this.Vb=m;this.prefix=n;this.index=void 0 === q?0:q;}Object.defineProperty(b,"__esModule",{value:!0});b.pva=void 0;f=a(4);k={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.x8=function(l,d){l=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.hVb(! !l));return (this.timestamp.ea(f.ma) / 1E3).toFixed(3) + "|" + this.index + "|" + (k[this.level] || this.level) + "|" + this.Kn + "| " + l;};c.prototype.hVb=function(l){var m;for(var d=this.Vb.length,g="",h=0;h < d;++h){m=this.Vb[h].Jt;h && g.length && (g+=" ");if("object" === typeof m){if(null === m)g+="null";else if(m instanceof Error)g+=this.gVb(m,l);else try{g+=JSON.stringify(m);}catch(n){g+=this.fVb(m);}}else g+=m;}return g;};c.prototype.gVb=function(l,d){return l.toString() + (l.stack && !d?"\n" + l.stack:"") + "\n";};c.prototype.fVb=function(l){var d;d=[];return JSON.stringify(l,function(g,h){if("object" === typeof h && null !== h){if(-1 !== d.indexOf(h))return "<cycle>";d.push(h);}return h;});};b.pva=c;},function(r,b,a){var f,k,l,d;function c(g,h){this.Dc=g;this.we=h;}Object.defineProperty(b,"__esModule",{value:!0});b.gBa=void 0;r=a(1);f=a(0);k=a(630);l=a(35);a=a(28);c.prototype.cBb=function(){return new k.hBa(this.Dc,this.we);};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(l.Uh)),r.__param(1,f.l(a.Jf))],d);b.gBa=d;},function(r,b,a){var q,p,t;function c(u,w){this.Dc=u;this.we=w;this.Vb=[];}function f(u){return n.call(this,u,function(w){return {Details:w};}) || this;}function k(u){return n.call(this,u,function(w){return JSON.parse(w.toJSON());}) || this;}function l(u,w){w=n.call(this,w,function(v){return {Base64:u.encode(v)};}) || this;w.Dc=u;return w;}function d(u,w){w=n.call(this,w,function(v){return v();}) || this;w.we=u;return w;}function g(u){return n.call(this,u,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function h(u,w,v){w=n.call(this,w,v) || this;w.we=u;return w;}function m(u){return n.call(this,u,function(w){return {Details:w};}) || this;}function n(u,w){this.Jt=u;this.value=w?w(u):u;}Object.defineProperty(b,"__esModule",{value:!0});b.hBa=void 0;r=a(1);q=a(0);p=a(28);a=a(35);n.prototype.VS=function(u){return this.Jt === u;};la(m,n);m.prototype.CH=function(u,w){return w?"":"\r\n" + this.Jt;};la(h,n);h.prototype.CH=function(){var u;u="";this.we.EB(this.value,function(w,v){try{u+=", " + w + ": " + v;}catch(x){try{u+=", " + w + ": " + JSON.stringify(v);}catch(y){u+=", error stringifying " + w;}}});return u.replace(/[\r\n]+ */g," ");};la(g,n);g.prototype.CH=function(u){var w;w="\r\n" + this.Jt.message;u || (w+="\r\n" + this.Jt.stack);return w;};la(d,n);d.prototype.CH=function(){var u;u="";this.we.EB(this.value,function(w,v){u+=", " + w + ": " + v;});return u.replace(/[\r\n]+ */g," ");};la(l,n);l.prototype.CH=function(u,w){return this.Jt && !w?"\r\n" + this.Dc.encode(this.Jt):"";};la(k,n);k.prototype.CH=function(){return this.Jt?this.Jt.toJSON():"";};la(f,n);f.prototype.CH=function(){return ", " + (this.Jt.toString?"" + this.Jt.toString():"");};c.prototype.Elb=function(u){this.Vb.push(new m(u));};c.prototype.tlb=function(u){this.Vb.push(new h(this.we,u));};c.prototype.ilb=function(u){this.Vb.push(new g(u));};c.prototype.llb=function(u){this.Vb.push(new d(this.we,u));};c.prototype.Glb=function(u){this.Vb.push(new l(this.Dc,u));};c.prototype.slb=function(u){this.Vb.push(new k(u));};c.prototype.Hlb=function(u){this.Vb.push(new f(u));};c.prototype.Aj=function(){return this.Vb;};t=c;t=r.__decorate([q.R(),r.__param(0,q.l(a.Uh)),r.__param(1,q.l(p.Jf))],t);b.hBa=t;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.HZa=void 0;r=a(0);c=a(331);f=a(632);b.HZa=new r.$c(function(k){k(c.KCa).to(f.JCa).$();});},function(r,b,a){var f,k,l;function c(d){this.yc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.JCa=void 0;r=a(1);f=a(0);k=a(633);a=a(46);c.prototype.EPa=function(d,g){return new k.LCa(this.yc,d,g);};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.mj))],l);b.JCa=l;},function(r,b){function a(c,f,k){this.yc=c;this.config=f;this.getTime=k;}Object.defineProperty(b,"__esModule",{value:!0});b.LCa=void 0;a.prototype.observe=function(c,f){var k;k=this;this.cancel();this.Zi=this.yc.A7(this.config.IUa(),function(){k.getTime() >= c && (k.cancel(),f());});};a.prototype.cancel=function(){this.Zi && (this.Zi.cancel(),this.Zi=void 0);};b.LCa=a;},function(r,b,a){var c,f,k,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.xa=void 0;r=a(0);c=a(208);f=a(332);k=a(635);l=a(638);d=a(335);g=a(639);b.xa=new r.$c(function(h){h(c.Dba).to(k.DGa).$();h(f.BGa).to(l.AGa).$();h(d.LHa).to(g.KHa).$();});},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w;function c(v,x,y,z,A,B,D,E,F,C){this.Ha=v;this.Ag=x;this.jM=y;this.yua=z;this.EV=A;this.yc=B;this.ZJ=D;this.Xm=E;this.Fia=F;this.Rd=C;}Object.defineProperty(b,"__esModule",{value:!0});b.DGa=void 0;r=a(1);f=a(0);k=a(19);l=a(8);d=a(331);g=a(137);h=a(333);m=a(334);n=a(636);q=a(637);p=a(94);t=a(46);u=a(328);a=a(28);c.prototype.Vsb=function(v,x,y){return new n.EGa(this.Ha,this.Ag,this.jM,this.yua,x,v,this.Xm,this.EV,this.Rd,this.Fia,y);};c.prototype.rsb=function(v,x){return new q.fwa(this.Ag,v,x,this.jM,this.yc,this.ZJ);};w=c;w=r.__decorate([f.R(),r.__param(0,f.l(k.rd)),r.__param(1,f.l(l.Jb)),r.__param(2,f.l(d.KCa)),r.__param(3,f.l(m.lIa)),r.__param(4,f.l(h.MEa)),r.__param(5,f.l(t.mj)),r.__param(6,f.l(p.pO)),r.__param(7,f.l(g.KP)),r.__param(8,f.l(u.PO)),r.__param(9,f.l(a.Jf))],w);b.DGa=w;},function(r,b,a){var d,g,h;function c(m,n,q,p,t,u,w,v,x,y,z){var A;A=this;this.Ha=m;this.jM=q;this.Upa=p;this.config=t;this.ob=u;this.Xm=w;this.EV=v;this.Rd=x;this.Wj=z;this.Zwb=Object.values(d.Ub).map(function(B){return {event:B,PF:function(D){return A.Qb.qc(B,D);}};});this.Qb=y.create();this.MC=[];this.log=n.Cb("SegmentManager");this.gja=!0;this.jg=this.Rd.createElement("div",h.tba);}function f(m,n,q,p,t,u,w,v,x,y,z){var A;A=this;this.log=m;this.config=n;this.qLb=q;this.Upa=p;this.Xm=t;this.EV=u;this.Qt=w;this.P=v;this.jg=x;this.ob=y;this.Wj=z;this.lK=function(){A.AC && (A.AC.cancel(),A.AC=void 0);};this.ela=function(B){A.log.trace("Received the transition event",{movieId:B.K});A.MPb();};this.bna=function(){};this.log.debug("Constructing session data",k(v));this.lWb=new Promise(function(B){A.MPb=B;});}function k(m){return {movieId:m.K};}function l(m){return JSON.stringify({movieId:m.K,startPts:m.X,logicalEnd:m.Qi,params:m.Ib?{trackingId:m.Ib.Fk,authParams:m.Ib.$0,sessionParams:m.Ib.no,disableTrackStickiness:m.Ib.Wha,uiPlayStartTime:m.Ib.L8,loadImmediately:m.Ib.j5,playbackState:m.Ib.playbackState?{currentTime:m.Ib.playbackState.currentTime,volume:m.Ib.playbackState.volume,muted:m.Ib.playbackState.muted,playbackRate:m.Ib.playbackState.playbackRate}:void 0,pin:m.Ib.I0a,heartbeatCooldown:m.Ib.pla,uiLabel:m.Ib.ie,uxLabels:m.Ib.V8}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.EGa=void 0;d=a(17);g=a(4);h=a(12);f.prototype.load=function(m){var n,q;n=this;this.log.trace("Loading new segment",k(this.P));this.T=this.Upa.dha(this.config,this.EV,this.Xm,this.P,this.ob,this.Wj);this.T.addEventListener(d.Ub.BL,function(p){n.log.trace("Segment is inactive",k(n.P));n.Qt.close(n.Xm(p.errorCode));});this.T.addEventListener(d.Ub.closed,this.lK);if(m)(this.log.debug("Pausing background segment",k(this.P)),this.T.addEventListener(d.Ub.uma,this.ela),this.T.pause());else {this.jg.appendChild(this.T.zp());q=function(p){n.ela(p);n.T.removeEventListener(d.Ub.loaded,q);};this.T.addEventListener(d.Ub.loaded,q);}};f.prototype.observe=function(){var m,n,q;m=this;this.log.trace("Observing segment",l(this.P));if(this.AC)this.log.trace("Segment is currently observing",k(this.P));else if(this.P.Ib && this.P.Ib.j5)this.bna(this);else {n=this.qLb.EPa(this.config,function(){var p;if(m.T){p=m.T.j.mediaTime.value;if(p)return p;}return 0;});q=this.qob(this.P);this.log.trace("Adding a moment to watch",{time:q});n.observe(q,function(){m.log.trace("Segment has reached its loading point",k(m.P));m.bna(m);m.lK();});}};f.prototype.close=function(m){this.log.info("Closing segment",{segment:l(this.P),error:m});return this.T?(this.T.removeEventListener(d.Ub.uma,this.ela),this.T.close(m)):Promise.resolve();};f.prototype.gMb=function(m){this.bna=m;};f.prototype.qob=function(m){var n,q;n=m.Qi;m=m.Ib?m.Ib.j5:!1;q=0;n && !m && (q=n - this.config.gUa(),q < this.config.jUa() && (m=n - this.config.jUa(),q=n - m / 2));return q;};c.prototype.XBb=function(){return this.Kg && this.Kg.T?this.Kg.T.isReady():!1;};c.prototype.zp=function(){return this.jg;};c.prototype.Ps=function(){if(!this.Kg || !this.Kg.T)throw Error("Player not ready");return this.Kg.T;};c.prototype.HXb=function(m){var n,q;q=this.Wia(m);q?this.U6a(q,m):this.ob.Ae(m.id) || this.log.error("Tried to update a non-existent segment",{segment:l(m),currentMovieId:this.Kg.P.K,queuedMovieIds:this.MC.map(function(p){return p.P.K;}),xid:null === (n=this.Kg.T) || void 0 === n?void 0:n.PB()});};c.prototype.Gn=function(m){var n;this.log.info("Adding segment",l(m));if(this.gja){this.log.trace("First segment, loading",k(m));n=this.ZXa(m);this.gja=!1;}else (this.log.trace("Subsequent segment, caching",k(m)),(n=this.Wia(m))?this.U6a(n,m):(n=this.createSession(m),this.MC.push(n),this.Kg.observe()));return n?n.lWb:null;};c.prototype.transition=function(m,n){var q,p,t;p=this.vG;t=null === p || void 0 === p?void 0:p.T;if(p && t)return (this.vG=void 0,this.log.info("Transitioning segment",l(p.P)),t.c4a(this.Ha.Wb().ea(g.ma)),this.n6a(p,n));n=null === p || void 0 === p?void 0:p.P;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Kg.P.K,xid:null === (q=this.Kg.T) || void 0 === q?void 0:q.PB(),nextSegmentId:m,currentSegment:l(this.Kg.P),nextSegment:n?l(n):void 0,queuedMovieIds:this.MC.map(function(u){return u.P.K;})});return Promise.reject();};c.prototype.close=function(m){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(k(this.Kg.P)),nextSession:this.vG?JSON.stringify(k(this.vG.P)):void 0});m=[this.Kg.close(m)];this.vG && m.push(this.vG.close());return Promise.all(m).then(function(){n.vG=void 0;n.MC=[];n.gja=!0;});};c.prototype.addListener=function(m,n,q){this.Qb.addListener(m,n,q);};c.prototype.removeListener=function(m,n){this.Qb.removeListener(m,n);};c.prototype.U6a=function(m,n){this.GMb(m.P,n);this.log.trace("Overwrote existing segment data",l(m.P));};c.prototype.ZXa=function(m){var n,q;n=this;this.log.info("Loading the next episode",k(m));if(this.Kg){this.config.Gja()[m.K]=m.X;q=this.Wia(m);}else q=this.createSession(m);if(q)return (this.log.trace("Found the next session",k(m)),q.gMb(function(p){n.O5a(p);}),this.Kg?(this.log.trace("Subsequent playback, caching player and pausing",k(m)),this.vG=q,q.load(!0)):(this.log.trace("First playback transitioning immediately",k(m)),q.load(!1),this.n6a(q)),q);this.log.warn("Unable to find the session, make sure to add it before loading",k(m));};c.prototype.n6a=function(m,n){var q,p,t,u,w;n=void 0 === n?{}:n;u=m.T?null === (q=m.T) || void 0 === q?void 0:q.getError():"missing player";if(u)return (null === (p=m.T) || void 0 === p?void 0:p.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Kg.P.K,mid:m.P.K,error:u,xid:null === (t=m.T) || void 0 === t?void 0:t.PB()}),Promise.reject());this.log.trace("Playing episode",k(m.P));q=this.Kg;this.Kg=m;m=this.Kg.T;m.I3a(!1);this.JX(m,q?q.T:void 0);if(q && q.T){w=q.T.zp();p=m.zp();w.style.display="none";q=q.close();this.jg.appendChild(p);q.then(function(){w.parentElement && w.parentElement.removeChild(w);});p.style.display="block";m.MB().EXb(n);m.OW();m.play();}return Promise.resolve();};c.prototype.O5a=function(m){var n,q,p,t,u;if(this.MC.length && m.T){n=m.T.j.mediaTime.value;q=this.MC[0];p=this.Kg.P.Qi;t=this.Kg.P.Ib?this.Kg.P.Ib.j5:!1;if(p || t){t?u=0:p && (u=p - this.config.gUa());null !== n && n >= u && (this.log.info("Got a time change, loading the next player",k(q.P)),this.ZXa(q.P),this.MC.splice(0,1),this.O5a(m));}}};c.prototype.Wia=function(m){return this.Kg.P.K === m.K?this.Kg:this.MC.find(function(n){return n.P.K === m.K;});};c.prototype.GMb=function(m,n){m.X=n.X || m.X;m.Qi=n.Qi || m.Qi;m.Ib=n.Ib || m.Ib;m.sa=n.sa || m.sa;};c.prototype.createSession=function(m){return new f(this.log,this.config,this.jM,this.Upa,this.Xm,this.EV,this,m,this.jg,this.ob,this.Wj);};c.prototype.JX=function(m,n){this.Zwb.forEach(function(q){n && n.removeEventListener(q.event,q.PF);m.addEventListener(q.event,q.PF);});this.Qb.qc(d.SD.vW);};b.EGa=c;},function(r,b,a){var l,d,g,h;function c(m,n,q,p,t,u){var w;w=this;this.T=n;this.j=q;this.jM=p;this.yc=t;this.ZJ=u;this.lK=function(){w.AC && (w.AC.cancel(),w.AC=void 0);};this.log=m.Cb("SegmentManager",this.j);this.xa=new Map();this.j.ib.fl && (this.j.addEventListener(g.Z.dH,function(v){return w.BC(v);}),this.j.addEventListener(g.Z.closed,this.lK));}function f(m,n){this.id=m;this.rga=n;}function k(m,n,q,p){return d.ed.call(this,m,q,void 0,void 0,void 0,n,void 0,p) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fwa=void 0;l=a(3);d=a(42);g=a(17);h=a(4);la(k,d.ed);k.prototype.toString=function(){return this.code + "-" + this.kc + " : " + this.message + "\n" + JSON.stringify(this.data);};f.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.jc,contentEndPts:this.Fc};};Xa.Object.defineProperties(f.prototype,{jc:{configurable:!0,enumerable:!0,get:function(){return this.rga.startTimeMs;}},Fc:{configurable:!0,enumerable:!0,get:function(){return this.rga.endTimeMs;}},fz:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.rga.next);}}});c.prototype.BC=function(m){var n;n=this;!1;m=m.position.segmentId;0 === this.xa.size && Object.entries(this.j.qT()).forEach(function(q){var p;p=aa(q);q=p.next().value;p=p.next().value;n.xa.set(q,new f(q,p));});this.ga=this.xa.get(m);};c.prototype.play=function(m){this.Wv && (this.Wv=void 0);this.lK();this.log.trace("Playing segment",m);return this.XWa(m)?this.HNb(m):this.CV(m);};c.prototype.ko=function(m){this.log.trace("Queueing segment",m);return this.XWa(m)?this.BPb(m):this.DPb(m);};c.prototype.zi=function(m,n){var q,p;q=this;p=this.j.Pa;if(null === p || void 0 === p || !p.Bh)return Promise.reject(this.getError(l.M.Nva,"ASE session manager is not yet initialized",l.L.N9,{segmentId:m,updates:n}));this.log.trace("Updating next segment weights",m,n);return new Promise(function(t,u){try{p.ZN(m,n);q.j.fireEvent(g.Z.cua,{va:m,UXb:n});t();}catch(w){u(q.getError(l.M.Nva,"updateNextSegmentWeights threw an exception",l.L.Q8a,{segmentId:m,updates:n,error:w}));}});};c.prototype.XWa=function(m){return this.ga?void 0 !== this.j.qT()[this.ga.id].next[m]:!1;};c.prototype.xka=function(){var m;m=this.j.Pa;if(null === m || void 0 === m?0:m.Bh)return m.Dp().Pd;};c.prototype.RBb=function(){var m;m=this.j.Pa;if(null === m || void 0 === m?0:m.Bh)return m.Dp().id;};c.prototype.Mzb=function(m){var n;n=this.j.Pa;if(null === n || void 0 === n?0:n.Bh)return (m=n.pT(m)) && m.Oe;};c.prototype.HNb=function(m){var n,q;n=this;q=this.j.Pa;return null !== q && void 0 !== q && q.Bh?this.ga && 1 === this.ga.fz.length?this.CV(m):this.j.Bg?void 0 === this.Mzb(m)?(this.log.error("playNextSegment: branchOffset missing",{segment:m}),this.CV(m)):new Promise(function(p,t){var y,z,A,B,D,E;function u(){!A && z && y && (E.cancel(),A=!0,n.log.trace("Telling ASE to choose the next segment",{id:m,stopped:z,repositioned:y,completed:A}),q.us(m,!1,!0)?(p(),A=!0):(A=!0,n.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:m}),n.CV(m).then(p).catch(t)));}function w(){y=!0;n.log.trace("Player is repositioned",{id:m,stopped:z,repositioned:y,completed:A});n.j.removeEventListener(g.Z.Yl,w);u();}function v(){n.j.removeEventListener(g.Z.TG,v);q.stop();}function x(){z=!0;n.log.trace("ASE is stopped",{id:m,stopped:z,repositioned:y,completed:A});q.removeEventListener("stop",x);u();}y=!1;z=!1;A=!1;B=n.xa.get(m);D=n.xka();if(void 0 === D)return (n.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:m}),n.CV(m));n.log.trace("Seeking to next segment",JSON.stringify({segmentId:m,seekTo:D,currentSegment:n.ga,nextSegment:B},null,"  "));n.j.fireEvent(g.Z.h6,{Fh:n.ga && n.ga.id,bV:m});q.addEventListener("stop",x);n.j.addEventListener(g.Z.TG,v);n.j.addEventListener(g.Z.Yl,w);E=n.yc.Rj(h.Tg(10),function(){A=!0;E.cancel();t(n.getError(l.M.sO,"Timed out waiting for the player to be repositioned and ASE to be stopped",l.L.M8a,{id:m,stopped:z,repositioned:y,completed:A}));});n.T.seek(D,g.me.LI);}):(this.log.warn("MediaPresenter is not initialized",m),Promise.reject(this.getError(l.M.sO,"MediaPresenter is not initialized",l.L.N8a,{id:m}))):Promise.reject(this.getError(l.M.sO,"ASE session manager is not yet initialized",l.L.N9,{id:m}));};c.prototype.CV=function(m){var n;n=this.xa.get(m);return n?this.tW(n,l.M.sO):Promise.reject(this.getError(l.M.sO,"Unable to find the separated segment",l.L.Mva,{id:m}));};c.prototype.BPb=function(m){var n;n=this.j.Pa;if(null === n || void 0 === n || !n.Bh)return Promise.reject(this.getError(l.M.XH,"ASE session manager is not yet initialized",l.L.N9,{id:m}));this.j.fireEvent(g.Z.h6,{Fh:this.ga && this.ga.id,bV:m});if(n.us(m,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:m});return Promise.reject(this.getError(l.M.XH,"ASE chooseNextSegment failed",l.L.K8a,{id:m}));};c.prototype.DPb=function(m){var n,q;n=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:m,mid:this.j.K,srcsegment:this.RBb()});if(this.Wv)return Promise.reject(this.getError(l.M.XH,"Unable to queue a non-next segment because there is currently already a segment queued",l.L.P8a,{currentSegment:this.ga?this.ga.id:void 0,queuedSegment:this.Wv.id,failedSegment:m}));if(!this.ga)return Promise.reject(this.getError(l.M.XH,"Unable to queue a non-next segment because there is no currently playing segment",l.L.L8a,{nextSegmentid:m}));q=this.xa.get(m);if(!q)return Promise.reject(this.getError(l.M.XH,"Unable to find the separated segment",l.L.Mva,{nextSegmentid:m,currentSegmentId:this.ga.id}));this.Wv={id:m,promise:new Promise(function(p,t){var u;n.AC=n.jM.EPa({IUa:function(){return h.xc(100);}},function(){return n.T.j.mediaTime.value || 0;});u=n.xka() - 500;n.log.trace("Adding moment for queued segment",{segment:m,pts:u});n.AC.observe(u,function(){n.log.trace("Moment has arrived",{segment:m,currentSegment:n.ga.id,playerEndPts:n.xka(),pts:u});n.Wv=void 0;n.lK();n.tW(q,l.M.XH).then(p).catch(t);});})};this.Wv.promise.catch(function(p){n.j.Kd(p.code,p);});return Promise.resolve();};c.prototype.tW=function(m,n){var q;q=this;return new Promise(function(p,t){var u;try{u=m.jc;!1;q.T.seek(u,g.me.xA);p();}catch(w){t(q.getError(n,"Seek threw an exception",l.L.O8a,{id:m.id,error:w}));}});};c.prototype.getError=function(m,n,q,p){this.log.warn(n,p);return new k(m,n,q,p);};b.fwa=c;},function(r,b,a){var k,l;function c(){}function f(d,g,h,m,n){this.debug=d;this.version=g;this.BGb=h;this.ENb=m;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.AGa=void 0;r=a(1);k=a(0);l=a(4);f.prototype.EAb=function(){return this.config().Ay;};f.prototype.Gja=function(){return this.config().ANa;};f.prototype.IUa=function(){return l.xc(this.config().cOb);};f.prototype.gUa=function(){return this.config().NHb;};f.prototype.jUa=function(){return this.config().BIb;};c.prototype.IB=function(d,g,h,m,n){return new f(d,g,h,m,n);};a=r.__decorate([k.R()],c);b.AGa=a;},function(r,b,a){var f,k;function c(l){this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.KHa=void 0;r=a(1);f=a(0);a=a(14);c.prototype.iPb=function(l,d,g,h){var m;if(this.config().BSb){m=l.metrics;void 0 !== m && m.segment !== m.srcsegment && d.zU.uc.transition({isBranching:h || void 0,isPlaygraph:!h || void 0,mid:d.K,xid:d.ca,srcxid:g.ca,srcmid:g.K,segment:l.position.segmentId,srcsegment:m.srcsegment,srcsegmentduration:m.srcsegmentduration,srcoffset:m.srcoffset,seamlessRequested:m.seamlessRequested,transitionType:m.transitionType,transitionTypeAtRequest:m.transitionTypeAtRequest,nextExitPositionAtRequest:m.nextExitPositionAtRequest,delayToTransition:m.delayToTransition,durationOfTransition:m.durationOfTransition,atRequest:m.atRequest,atTransition:m.atTransition,discard:m.discard});}};k=c;k=r.__decorate([f.R(),r.__param(0,f.l(a.Zc))],k);b.KHa=k;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.z7a=void 0;r=a(0);c=a(334);f=a(641);b.z7a=new r.$c(function(k){k(c.lIa).to(f.kIa).$();});},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u;function c(w){this.kd=w;}Object.defineProperty(b,"__esModule",{value:!0});b.kIa=void 0;r=a(1);f=a(0);k=a(89);l=a(28);d=a(26);g=a(8);h=a(93);m=a(208);n=a(336);q=a(642);p=a(209);t=a(80);u=a(337);c.prototype.dha=function(w,v,x,y,z,A){return new q.zAa(this.kd.get(l.Jf),this.kd.get(d.If),this.kd.get(g.Jb),this.kd.get(h.Oya),this.kd.get(m.Dba),this.kd.get(p.Saa),this.kd.get(t.t$),this.kd.get(u.SDa),this.kd.get(n.Jxa),w,v,x,y,z,A);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.wAa))],a);b.kIa=a;},function(r,b,a){var f,k,l,d,g,h;function c(m,n,q,p,t,u,w,v,x,y,z,A,B,D,E){var F;F=this;this.we=m;this.cb=n;this.Qb=p;this.vt=u;this.aS=w;this.TSa=v;this.config=y;this.Xm=A;this.P=B;this.j=z.create(B.K,B.Wl,x,D,E,B.Ib,B.id);this.j.background=!0;this.j.sa=B.sa;this.log=q.Cb("VideoPlayer",this.j);this.E0a=[];this.ended=!1;this.JX();this.j.state.addListener(function(C){C.newValue === k.Kb.$d && F.re(k.Ub.uma,{movieId:B.K});});this.j.ib.fl && (this.eK=t.rsb(this,this.j),this.j.addEventListener(k.Z.dH,function(C){C=C.position.segmentId;F.YGb !== C && (F.YGb=C,F.re(k.Ub.mSb,{segmentId:C}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.zAa=void 0;f=a(3);k=a(17);l=a(4);d=a(11);g=a(80);h=a(24);c.prototype.isReady=function(){return this.j.state.value === k.Kb.$d;};c.prototype.oBb=function(){return this.j.K;};c.prototype.PB=function(){return this.j.ca;};c.prototype.zp=function(){return this.j.jg;};c.prototype.MB=function(){return this.j;};c.prototype.fC=function(){return this.j.Rv.value;};c.prototype.WFb=function(){return this.j.paused.value;};c.prototype.DFb=function(){return this.ended;};c.prototype.li=function(){var m;m=this.j.Qfa.value;return m?{networkStalled:! !m.Z7,stalled:! !m.Z7,progress:m.progress,progressRollback:! !m.oPb}:null;};c.prototype.getError=function(){var m;m=this.j.al;return m?m.zta():null;};c.prototype.Czb=function(){var m;m=(this.sTa() || 0) + this.j.eTa();return Math.min(m,this.rTa());};c.prototype.sTa=function(){return this.j.NB();};c.prototype.rTa=function(){return this.j.Ux.ea(l.ma);};c.prototype.SCb=function(){return this.j.Yz?{width:this.j.Yz.width,height:this.j.Yz.height}:null;};c.prototype.Nja=function(){var t;if(this.j.wo){for(var m,n=0;n < this.j.wo.length;n++){for(var q=this.j.wo[n],p=0;p < q.streams.length;p++){t=q.streams[p];this.cb.di(t.jha) && this.cb.di(t.S1) && this.cb.di(t.R1) && this.cb.di(t.Q1) && 0 < t.S1 && (t=t.Q1 / t.R1,m=this.cb.di(m)?Math.min(m,t):t);}}return m;}};c.prototype.Tzb=function(){return this.j.Nja();};c.prototype.Yyb=function(m){var n,q;return (null === (n=this.j.sa) || void 0 === n?0:n.Hj.yT("generateScreenshots"))?this.TSa.wp(this.log,this.j.sa.Hj,m):(n=null === (q=this.j.ib) || void 0 === q?void 0:q.Mp)?this.TSa.Qf(this.log,Object.assign({packageId:n},m)):Promise.reject("Unknown packageId");};c.prototype.bAb=function(){return this.cAb(this.j.Sha);};c.prototype.YSa=function(){var m;m=this;return this.j.fp?this.j.fp.map(function(n){return m.MF(n);}).filter(function(n){return null !== n;}):[];};c.prototype.gBb=function(){return this.YSa().length - 1;};c.prototype.Qka=function(m){var n,q;n=this;q=m && this.j.fp.find(function(p){return n.MF(p) === m;}) || this.j.Ud.value;return null === q?[]:q.bm.map(function(p){return n.MF(p);}).filter(function(p){return null !== p;});};c.prototype.nUa=function(m){return this.Qka(m).length - 1;};c.prototype.SFb=function(){return this.j.muted.value;};c.prototype.WCb=function(){return this.j.volume.value;};c.prototype.kzb=function(){return this.MF(this.j.Ud.value);};c.prototype.hVa=function(){return this.MF(this.j.Sc.value);};c.prototype.tFb=function(){return ! !this.j.background;};c.prototype.bTb=function(m){this.j.muted.set(! !m);};c.prototype.yTb=function(m){this.j.volume.set(this.hLb(m));};c.prototype.hTb=function(m){this.j.playbackRate.set(m);};c.prototype.Bp=function(){return this.j.playbackRate.value;};c.prototype.ISb=function(m){var n,q;n=this;q=this.j.fp.find(function(p){return n.MF(p) === m;});q?this.j.Ud.set(q):this.log.error("Invalid setAudioTrack call");};c.prototype.b4a=function(m){var p;if(null !== this.j.Ud.value){for(var n=this.j.Ud.value.bm,q=0;q < n.length;q++){p=n[q];if(!m && null === p){this.j.Sc.set(null);return;}if(this.MF(p) === m){this.log.info("Setting Timed Text, profile: " + p.profile);this.j.Sc.set(p);return;}}this.log.error("Invalid setTimedTextTrack call");}};c.prototype.I3a=function(m){this.j.background=m;};c.prototype.OW=function(){this.j.OW();};c.prototype.addEventListener=function(m,n,q){this.Qb.addListener(m,n,q);};c.prototype.removeEventListener=function(m,n){this.Qb.removeListener(m,n);};c.prototype.LM=function(){};c.prototype.load=function(){var m;m=this;this.loaded || (this.loaded=!0,this.j.load(function(n,q){try{m.re(k.Ub.RHb,void 0,!0);n.sa && (n.sa.bd.L7a && m.re(k.Ub.gZb,n.sa.bd.L7a,!0),n.sa.bd.Ln && m.re(k.Ub.lSb,{segmentMap:n.sa.bd.Ln},!0));q({W:!0});}catch(p){q({oa:f.L.hj,rb:m.we.wd(p)});}}));};c.prototype.close=function(m){var n;n=this;this.JOa || (this.JOa=new Promise(function(q){m?n.j.bF(m,q):n.j.close(q);}));return this.JOa;};c.prototype.play=function(){this.j.El?this.j.fireEvent(k.Z.f3a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(k.Z.q7a)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(k.Z.uYb));};c.prototype.seek=function(m,n,q,p){n=void 0 === n?k.me.xA:n;this.j.Bg?this.j.Bg.seek(m,n,q,p):this.j.UE=m;};c.prototype.INb=function(m){return this.eK?(this.log.trace("Playing a segment",m),this.eK.play(m)):Promise.resolve();};c.prototype.CPb=function(m){return this.eK?(this.log.trace("Queueing a segment",m),this.eK.ko(m)):Promise.resolve();};c.prototype.zi=function(m,n){return this.eK?(this.log.trace("Updating next segment weights",m,n),this.eK.zi(m,n)):Promise.resolve();};c.prototype.pX=function(){this.j.pX();};c.prototype.H3=function(){var m;m=this.j.gq.H3();return {bounds:m.NR,margins:m.fr,size:m.size,visibility:m.visibility};};c.prototype.HW=function(m){var n,q,p;n=m.bounds;q=m.margins;p=m.size;m=m.visibility;this.j.eX && (n && this.j.eX.wsa(n),q && this.j.eX.xsa(q),"boolean" === typeof m && this.j.eX.ysa(m));this.j.gq && p && this.j.gq.sTb(p);};c.prototype.c4a=function(m){this.j.cm=m;};c.prototype.ICb=function(m){return this.j.Pz && this.j.Pz.CAb(m) || null;};c.prototype.dzb=function(){return this.we.oG({playerver:this.config.version,jssid:this.config.BGb,groupName:this.config.EAb(),xid:this.j.ca,pbi:this.j.index},this.config.ENb,{prefix:"pi_"});};c.prototype.NEb=function(m){this.j.Kd(f.M.sab,f.L.km,m);};c.prototype.HHb=function(m,n,q,p){if(!this.cb.wMa(m))throw Error("invalid url");this.E0a.push({url:m,name:n,dnb:q,options:p});this.w1a();};c.prototype.VUa=function(){var m,n,q,p,t,u,w,v;m={};n=this.j.S4a;try{if((this.j.al && (m.errorCode=this.j.al.h2,m.errorType=n?"endplay":"startplay"),m.playdelay=h.nk(this.j.Vfa()),m.xid=this.j.ca,this.j.sa && this.cb.Xo(this.j.sa.bd.Mp) && (m.packageId=Number(this.j.sa.bd.Mp)),m.auth=this.j.nzb(),n)){m.totaltime=this.j.ho?this.qy(this.j.ho.LT()):0;m.abrdel=this.j.ho?this.j.ho.ZSa():0;q=this.j.Bg;p=q?q.DF():null;this.cb.di(p) && (m.totdfr=p);p=q?q.sT():null;this.cb.di(p) && (m.totcfr=p);t=q?q.SAb():null;t && (m.rbfrs_decoder=t.X1,m.rbfrs_network=t.d6);m.rbfrs_delay=this.j.ho?this.j.ho.bma:0;m.init_vbr=this.j.s4;u=this.GT();this.cb.pF(u) && (m.pdltime=u);w=this.j.Uf.value;v=w && w.stream;v && (m.vbr=v.bitrate,m.vdlid=v.Dd);m.bufferedTime=this.j.eTa();}}catch(x){this.log.error("error capturing session summary",x);}return m;};c.prototype.US=function(m){this.j.ib.no && (this.j.ib.no.userEngageAction=1);return this.cb.di(this.j.mediaTime.value)?(m=Object.assign(Object.assign({},this.vt.create(this.j)),{action:m}),this.aS(g.zo.US).wp(this.log,this.j.sa.Hj,m).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.kc,errorExternalCode:n.xd,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.cAb=function(m){return {register:m.register.bind(m),notifyUpdated:m.t_a.bind(m),getModel:m.mBb.bind(m),getGroups:m.p3.bind(m),addEventListener:m.addEventListener.bind(m),removeEventListener:m.removeEventListener.bind(m),getTime:m.getTime.bind(m)};};c.prototype.MF=function(m){var n;if(null !== m){n=m.tPb=m.tPb || ({trackId:m.trackId,bcp47:m.ym,displayName:m.displayName,trackType:m.jn,rawTrackType:m.SM,channels:m.channels});m.Xn && (n.isImageBased=!0);this.YFb(m) && (n.isNative=m.isNative,n.surroundFormatLabel=m.n8);this.ZFb(m) && (n.isNoneTrack=m.Ny(),n.isForcedNarrative=m.dC());n.subType=m.MN;n.variant=m.variant;return n;}return null;};c.prototype.YFb=function(m){return "undefined" !== typeof m.isNative;};c.prototype.ZFb=function(m){return "undefined" !== typeof m.Ny && "undefined" !== typeof m.dC;};c.prototype.hLb=function(m){return 0 <= m?1 >= m?m:1:0;};c.prototype.qy=function(m){return this.cb.di(m)?(m / 1E3).toFixed(0):"";};c.prototype.re=function(m,n,q){n=n || ({});n.target=this;this.Qb.qc(m,n,!q);};c.prototype.JX=function(){var m;m=this;this.j.addEventListener(k.Z.rta,function(){m.re(k.Ub.Pq);});this.j.addEventListener(k.Z.E6a,function(){m.re(k.Ub.pXb);});this.j.addEventListener(k.Z.B5,function(){m.re(k.Ub.MNa);});this.j.addEventListener(k.Z.Yl,function(){m.re(k.Ub.MNa);});this.j.addEventListener(k.Z.BL,function(n){m.re(k.Ub.BL,{errorCode:n});});this.j.addEventListener(k.Z.qfa,function(n){m.re(k.Ub.enb,n.j);});this.j.addEventListener(k.Z.El,function(n){m.re(k.Ub.fnb,n);});this.j.Rv.addListener(function(){m.re(k.Ub.aOb);});this.j.paused.addListener(function(){m.re(k.Ub.eNb);});this.j.muted.addListener(function(){m.re(k.Ub.tKb);});this.j.volume.addListener(function(){m.re(k.Ub.$Yb);});this.j.bc.addListener(function(){m.M6a();});this.j.state.addListener(function(){m.M6a();});this.j.Qfa.addListener(function(n){m.OHb || m.j.state.value != k.Kb.$d || n.newValue || (m.OHb=!0,m.re(k.Ub.loaded),setTimeout(function(){m.log.debug.bind(m.log,"summary ",m.VUa());}));m.re(k.Ub.Rfa);});this.j.Ud.addListener(function(n){m.re(k.Ub.SE);n.oldValue && n.newValue && n.oldValue.bm == n.newValue.bm || m.re(k.Ub.AH);setTimeout(function(){var q;if(null !== m.j.Ud.value && null !== m.j.Sc.value){q=m.j.Ud.value.bm;0 <= q.indexOf(m.j.Sc.value) || (m.log.info("Changing timed text track to match audio track"),m.j.Sc.set(q[0]));}},0);});this.j.Sc.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || m.re(k.Ub.Nz);});this.j.addEventListener(k.Z.AH,function(){m.re(k.Ub.AH);});this.j.addEventListener(k.Z.nX,function(){m.re(k.Ub.nX);});this.j.state.addListener(function(n){switch(n.newValue){case k.Kb.$d:m.re(k.Ub.Ovb);m.re(k.Ub.SYb);m.re(k.Ub.fNa);m.re(k.Ub.AH);m.re(k.Ub.QHb);m.w1a();m.mZb();break;case k.Kb.CLOSING:m.j.al && m.re(k.Ub.GWa,m.j.al);break;case k.Kb.CLOSED:(m.re(k.Ub.closed),m.Qb.ih());}});};c.prototype.mZb=function(){var m;m=this;this.j.gq.addEventListener("showsubtitle",function(n){m.re(k.Ub.bUb,n,!0);});this.j.gq.addEventListener("removesubtitle",function(n){m.re(k.Ub.MQb,n,!0);});};c.prototype.w1a=function(){if(this.j.state.value == k.Kb.$d){for(var m,n,q;n=this.E0a.shift();){m=this.j.gq.zea(n.url,n.name,n.options);n.dnb && (q=m);}q && this.j.Sc.set(q);}};c.prototype.M6a=function(){var m;m=this.j.state.value == k.Kb.$d && this.j.bc.value == k.Db.hu;this.ended !== m && (this.ended=m,this.j.OE("Ended changed: " + m),(m || this.j.state.value === k.Kb.CLOSING) && this.re(k.Ub.Lwb));};c.prototype.GT=function(){var m,n;try{m=/playercore.*js/;n=d.ru.getEntriesByType("resource").filter(function(q){return null !== m.exec(q.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(q){}};b.zAa=c;},function(r,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.xH=void 0;r=a(0);c=a(644);f=a(645);k=a(338);l=a(339);b.xH=new r.$c(function(d){d(l.BHa).to(c.AHa);d(k.yHa).yi(new f.xHa());d(l.zHa).tf(function(g){return function(){return g.$a.get(l.BHa);};});});},function(r,b,a){var f,k,l,d;function c(g){this.config=g;this.Gsa=k.ab;this.DN=[];}Object.defineProperty(b,"__esModule",{value:!0});b.AHa=void 0;r=a(1);f=a(0);k=a(49);l=a(4);a=a(338);c.prototype.Qs=function(){var h;for(var g;0 < this.DN.length;){g=this.DN.shift();this.NLa(g);}g=void 0 === this.CS || void 0 === this.sF?l.ab:this.sF.Aa(this.CS);h=g.pXa()?0:this.Gsa.ea(k.jD) / g.ea(l.ma);return {tta:Math.floor(h),k5b:g.ea(l.ma)};};c.prototype.glb=function(g){this.Gsa=this.Gsa.add(g.size);this.DN.push(g.xvb);for(this.DN.sort(function(h,m){return h.start.Yk(m.start);});this.DN.length > this.config.yvb;){g=this.DN.shift();this.NLa(g);}};c.prototype.NLa=function(g){void 0 === this.CS && (this.CS=g.start);void 0 !== this.sF && 0 > this.sF.Yk(g.start) && (this.CS=this.CS.add(g.start.Aa(this.sF)));if(void 0 === this.sF || 0 > this.sF.Yk(g.end))this.sF=g.end;};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(a.yHa))],d);b.AHa=d;},function(r,b,a){function c(f){this.yvb=void 0 === f?10:f;}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;r=a(1);a=a(0);c=r.__decorate([a.R()],c);b.xHa=c;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F;Object.defineProperty(b,"__esModule",{value:!0});b.zm=void 0;r=a(0);c=a(25);f=a(14);k=a(647);l=a(138);d=a(139);g=a(648);h=a(210);m=a(649);n=a(340);q=a(341);p=a(650);t=a(211);u=a(11);w=a(346);v=a(654);x=a(347);y=a(655);z=a(213);A=a(656);B=a(348);D=a(36);E=a(345);F=a(657);b.zm=new r.$c(function(C){C(d.TP).to(g.QGa).$();C(c.Aw).to(k.Cxa).$();C(h.BAa).to(m.AAa).$();C(q.Fwa).to(p.Ewa).$();C(h.BEa).yi({isTypeSupported:u.LD && u.LD.isTypeSupported});C(t.gY).yi(pb.cast || null);C(t.Gwa).yi(pb.castReceiverEme || null);C(n.Sya).$C(function(G){return {tAb:function(){return G.$a.get(D.JP);}};});C(l.dI).$C(function(G){return G.$a.get(f.Zc);});C(w.lCa).to(v.iCa).$();C(E.hCa).to(F.gCa).$();C(x.kCa).to(y.jCa).$();C(z.u$).to(A.Rya).$();C(B.GFa).yi(pb);});},function(r,b,a){var f,k,l,d,g,h;function c(m,n,q){this.config=m;this.gOa=n;this.DNb=q;this.jPb=this.itb();}Object.defineProperty(b,"__esModule",{value:!0});b.Cxa=void 0;r=a(1);f=a(25);k=a(138);l=a(0);d=a(50);g=a(340);a=a(341);c.prototype.dVa=function(m){return this.XSa().eVa(m);};c.prototype.fVa=function(m){return this.Ss().eVa(m);};c.prototype.XSa=function(){this.hfa && this.hfa.type == this.config().ifa || (this.hfa=this.gOa.qsb(this.config().ifa));return this.hfa;};c.prototype.Ss=function(){this.Y8 && this.Y8.type == this.config().Z8 || (this.Y8=this.gOa.wtb(this.config().Z8),this.Y8.Aea(this.DNb.tAb()));return this.Y8;};c.prototype.IAb=function(m){var p;if(!m || !m.length)return f.ce.JY;m=this.Yxb(m);for(var n=[f.ce.RP,f.ce.JY,f.ce.OI,f.ce.Gw,f.ce.Pr,f.ce.cA,f.ce.Vw,f.ce.Gk],q=n.length;q--;){p=n[q];if((0,this.jPb[p])(m))return p;}return f.ce.RP;};c.prototype.gw=function(m){return this.Ss().gw(m);};c.prototype.Nx=function(m){return this.Ss().Nx(m);};c.prototype.Ns=function(){return this.Ss().Ns();};c.prototype.l3=function(){return this.Ss().l3();};c.prototype.UW=function(){return this.Ss().UW();};c.prototype.SW=function(){return this.XSa().SW();};c.prototype.m8=function(){return this.Ss().m8();};c.prototype.VW=function(){return this.Ss().VW();};c.prototype.gL=function(m){return this.Ss().gL(m);};c.prototype.oL=function(){return this.Ss().oL();};c.prototype.A3=function(){return this.Ss().A3();};c.prototype.Yxb=function(m){var n;n={};m.filter(function(q){return "video" === q.type;}).forEach(function(q){n[q.Jg]="";});return Object.keys(n);};c.prototype.itb=function(){var m;m={};m[f.ce.Gk]=function(n){return n.some(function(q){return -1 < q.indexOf("av1");});};m[f.ce.cA]=function(n){return n.some(function(q){return -1 < q.indexOf("hpl");});};m[f.ce.Vw]=function(n){return n.some(function(q){return -1 < q.indexOf("vp9");});};m[f.ce.Pr]=function(n){return n.some(function(q){return -1 < q.indexOf("hevc-dv");});};m[f.ce.Gw]=function(n){return n.some(function(q){return -1 < q.indexOf("hevc-hdr");});};m[f.ce.OI]=function(n){return n.some(function(q){return -1 < q.indexOf("hevc-main10-L") || -1 < q.indexOf("hevc-main-L");});};m[f.ce.JY]=(function(n,q){var p;p={};n.forEach(function(t){return p[t]=1;});n=aa(q);for(q=n.next();!q.done;q=n.next()){if(p[q.value])return !0;}return !1;}).bind(null,[d.O.pD]);m[f.ce.RP]=function(){return !0;};return m;};h=c;h=r.__decorate([l.R(),r.__param(0,l.l(k.dI)),r.__param(1,l.l(a.Fwa)),r.__param(2,l.l(g.Sya))],h);b.Cxa=h;},function(r,b,a){var f,k,l,d,g,h,m,n;function c(q,p,t){this.zm=q;this.cb=p;this.i5a=t;this.Kkb="video/mp4;codecs={0}";this.Tfb="audio/mp4;codecs={0}";q=this.zm.gL(k.ce.Pr);this.Jkb=d.Sd.SPa(q);}Object.defineProperty(b,"__esModule",{value:!0});b.QGa=void 0;r=a(1);k=a(25);l=a(0);d=a(140);g=a(26);h=a(198);m=a(342);n=a(12);c.prototype.P1=function(q){q=this.zm.IAb(q);q=this.cb.pF(q)?q:k.ce.RP;return this.i5a.format(this.Kkb,this.Jkb[q]);};c.prototype.M1=function(q){if(0 === q.length)return this.i5a.format(this.Tfb,d.Sd.QX);q=m.Kva[q[0].Jg] || f.Pua;return q === f.Pua?n.xI:q === f.r8a?n.GBa:n.FBa;};a=f=c;a.Pua="AAC";a.r8a="XHEAAC";a=f=r.__decorate([l.R(),r.__param(0,l.l(k.Aw)),r.__param(1,l.l(g.If)),r.__param(2,l.l(h.Iba))],a);b.QGa=a;},function(r,b,a){var f,k,l,d,g,h;function c(m,n,q){this.config=m;this.nQa=n;this.cast=q;}Object.defineProperty(b,"__esModule",{value:!0});b.AAa=void 0;r=a(1);f=a(0);k=a(210);l=a(138);d=a(25);g=a(211);h=a(212);c.prototype.JPa=function(){switch(this.config().Z8){case d.Ei.X9:return g.Y9.Zga(this.nQa,this.cast);case d.Ei.Kw:return h.sA.Zga(this.config);default:return this.nQa;}};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.dI)),r.__param(1,f.l(k.BEa)),r.__param(2,f.l(g.gY))],a);b.AAa=a;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A;function c(B,D,E,F,C,G,J,K,H,L,P){this.jXa=B;this.cast=D;this.config=E;this.yc=F;this.wa=C;this.is=G;this.Sl=J;this.dr=K;this.platform=H;this.Dc=L;this.Hv=P;}Object.defineProperty(b,"__esModule",{value:!0});b.Ewa=void 0;r=a(1);f=a(0);k=a(25);l=a(210);d=a(138);g=a(211);h=a(651);m=a(652);n=a(165);q=a(344);p=a(46);t=a(39);u=a(26);w=a(653);v=a(79);x=a(8);y=a(34);z=a(35);a=a(345);c.prototype.qsb=function(B){var D;D=this.jXa.JPa();switch(B){case k.cu.Kw:return new h.HCa(this.config,D,this.is,this.platform,this.Hv);default:return new q.xY(this.config,D,this.Hv);}};c.prototype.wtb=function(B){var D;D=this.jXa.JPa();switch(B){case k.Ei.X9:B=new g.Y9(this.config,D,this.is,this.cast,this.Hv);break;case k.Ei.aI:B=new w.Nwa(this.config,D,this.is,this.Sl,this.dr,this.wa,this.Hv);break;case k.Ei.Kw:B=new m.NBa(this.config,D,this.is,this.yc,this.wa,this.dr,this.Dc,this.Hv);break;default:B=new n.ln(this.config,D,this.is,this.Hv);}return B;};A=c;A=r.__decorate([f.R(),r.__param(0,f.l(l.BAa)),r.__param(1,f.l(g.gY)),r.__param(2,f.l(d.dI)),r.__param(3,f.l(p.mj)),r.__param(4,f.l(t.Wh)),r.__param(5,f.l(u.If)),r.__param(6,f.l(v.pu)),r.__param(7,f.l(x.Jb)),r.__param(8,f.l(y.Mk)),r.__param(9,f.l(z.Uh)),r.__param(10,f.l(a.hCa))],A);b.Ewa=A;},function(r,b,a){var f,k,l,d,g;function c(h,m,n,q,p){h=d.xY.call(this,h,m,p) || this;h.is=n;h.platform=q;h.type=f.cu.Kw;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.HCa=void 0;f=a(25);k=a(50);l=a(104);d=a(344);g=a(212);la(c,d.xY);c.prototype.SW=function(){return Promise.resolve(this.config().MS && this.rB(l.Ob.uu,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.lF=function(){var h;h={};h[k.ke.qD]="mp4a.40.2";h[k.ke.rD]="mp4a.40.2";"browser" === this.platform.Rha?this.config().MS && (h[k.ke.EO]={hh:"avc1",keySystem:l.Ob.uu,features:["audio-endpoint-codec=DD+JOC"]},h[k.ke.FO]={hh:"avc1",keySystem:l.Ob.uu,features:["audio-endpoint-codec=DD+JOC"]}):(this.config().pRa && (h[k.ke.EO]="ec-3"),this.config().oRa && (h[k.ke.a$]="ec-3"),this.config().MS && (h[k.ke.FO]={hh:"avc1",keySystem:l.Ob.uu,features:["audio-endpoint-codec=DD+JOC"]}));return h;};c.prototype.iSa=function(h){var m;m=this;h=h.filter(function(n){var t;for(var q=aa(m.Gt),p=q.next();!p.done;p=q.next()){if(p.value.test(n))return !0;}q=aa(m.Ym);for(p=q.next();!p.done;p=q.next()){if(p.value.test(n))return !1;}n=m.tqa[n];q=[];t=l.Ob.uu;if(n)return (m.is.Xo(n)?p=n:(q=n.features,p=n.hh,t=n.keySystem),m.rB(t,p,q));});return Promise.resolve(h);};c.prototype.rB=function(h,m,n){h=g.sA.N1(h,m,n);return this.Nx(h);};b.HCa=c;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E;function c(F,C,G,J,K,H,L,P){F=k.ln.call(this,F,C,G,P) || this;F.yc=J;F.wa=K;F.dr=H;F.Dc=L;F.Hv=P;F.type=l.Ei.Kw;F.BO="hvc1";F.z9a="avc1";F.O0a={};F.log=F.dr.Cb("MicrosoftVideoCapabilityDetector");F.CUb();F.TW && F.config().DJb?F.YQa=F.Isb():(F.YQa=Promise.resolve(""),F.config().FJb?F.Nsb():F.config().EJb && F.Msb());return F;}Object.defineProperty(b,"__esModule",{value:!0});b.NBa=void 0;f=a(50);k=a(165);l=a(25);r=a(106);d=a(104);g=a(4);h=a(318);m=a(140);n=a(212);q=a(59);p=a(166);t=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");u=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];D=new r.AA();E=new h.O9();la(c,k.ln);c.prototype.gL=function(F){return F === l.ce.Pr && this.config().fYb?m.Sd.SO:k.ln.prototype.gL.call(this,F);};c.prototype.gw=function(F){switch(F){case l.ij.xD:return this.r5a();case l.ij.lu:return this.OV;default:return Promise.resolve(!1);}};c.prototype.Ns=function(){var C;function F(){return C.TW?C.kEb?C.r5a().then(function(G){return Promise.resolve(G?d.Ob.gf:d.Ob.FI);}):Promise.resolve(d.Ob.FI):C.zVb?Promise.resolve(d.Ob.FI):Promise.resolve(d.Ob.uu);}C=this;this.keySystem || (this.keySystem=F());return this.keySystem;};c.prototype.l3=function(){return this.YQa;};c.prototype.UW=function(){return Promise.resolve({result:this.q5a(),reason:"is-type-supported"});};c.prototype.VW=function(){return this.TW && this.t5a()?this.OV:Promise.resolve(!1);};c.prototype.m8=function(){return Promise.resolve(this.p5a()).then(function(F){return {result:F,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Aea=function(F){this.Op=F;Object.assign(this.Op,this.O0a);F.itshwdrm=this.TW;F.itsqhd=this.s5a();F.itshevc=this.t5a();F.itshdr=this.q5a();F.itsdv=this.p5a();this.eua();};c.prototype.tR=function(F,C){(this.Op?this.Op:this.O0a)[F]=C;};c.prototype.oL=function(){var F;F=this;return this.gw(l.ij.lu).then(function(C){return C?F.iS(l.ij.lu):F.gw(l.ij.xD).then(function(G){return G?F.iS(l.ij.xD):F.iS(void 0);});});};c.prototype.A3=function(){return this.Ns().then(function(F){return F === d.Ob.gf?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.my=function(F){var C;C=this;return this.Ns().then(function(G){var J,K,H;if(C.tma(G,F))return !1;J=C.tqa[F];if(J){K=[];if(C.is.Xo(J))H=J;else (K=J.features,H=J.hh,G=J.keySystem);return C.rB(G,H,K);}return !1;});};c.prototype.lF=function(){var F;F=k.ln.prototype.lF.call(this);F[f.O.aQ]=F[f.O.RI]=F[f.O.QI]=F[f.O.WZ]={hh:"vp09.00.11.08.02",keySystem:d.Ob.gf,features:t};F[f.O.MY]=F[f.O.LY]={hh:"hev1.2.6.L90.B0",keySystem:d.Ob.gf,features:u};F[f.O.OY]=F[f.O.NY]={hh:"hev1.2.6.L93.B0",keySystem:d.Ob.gf,features:u};F[f.O.QY]=F[f.O.PY]={hh:"hev1.2.6.L120.B0",keySystem:d.Ob.gf,features:u};F[f.O.SY]=F[f.O.RY]={hh:"hev1.2.6.L123.B0",keySystem:d.Ob.gf,features:u};F[f.O.eP]=F[f.O.dP]={hh:"hev1.2.6.L150.B0",keySystem:d.Ob.gf,features:u};F[f.O.gP]=F[f.O.fP]={hh:"hev1.2.6.L153.B0",keySystem:d.Ob.gf,features:u};F[f.O.UO]=F[f.O.TO]={hh:"hev1.2.6.L90.B0",keySystem:d.Ob.gf,features:v};F[f.O.WO]=F[f.O.VO]={hh:"hev1.2.6.L93.B0",keySystem:d.Ob.gf,features:v};F[f.O.XO]=F[f.O.oI]={hh:"hev1.2.6.L120.B0",keySystem:d.Ob.gf,features:v};F[f.O.ZO]=F[f.O.YO]={hh:"hev1.2.6.L123.B0",keySystem:d.Ob.gf,features:x};F[f.O.aP]=F[f.O.$O]={hh:"hev1.2.6.L150.B0",keySystem:d.Ob.gf,features:x};F[f.O.cP]=F[f.O.bP]={hh:"hev1.2.6.L153.B0",keySystem:d.Ob.gf,features:x};F[f.O.mY]=F[f.O.lY]={hh:"hev1.2.6.L90.B0",keySystem:d.Ob.gf,features:y};F[f.O.oY]=F[f.O.nY]={hh:"hev1.2.6.L93.B0",keySystem:d.Ob.gf,features:y};F[f.O.pY]=F[f.O.HO]={hh:"hev1.2.6.L120.B0",keySystem:d.Ob.gf,features:y};F[f.O.rY]=F[f.O.qY]={hh:"hev1.2.6.L123.B0",keySystem:d.Ob.gf,features:z};F[f.O.tY]=F[f.O.sY]={hh:"hev1.2.6.L150.B0",keySystem:d.Ob.gf,features:z};F[f.O.vY]=F[f.O.uY]={hh:"hev1.2.6.L153.B0",keySystem:d.Ob.gf,features:z};return F;};c.prototype.rB=function(F,C,G){F=n.sA.N1(F,C,G);return this.Nx(F);};c.prototype.s5a=function(){return this.rB(d.Ob.gf,this.BO,u);};c.prototype.q5a=function(){return this.rB(d.Ob.gf,this.BO,v);};c.prototype.p5a=function(){return this.rB(d.Ob.gf,this.BO,y);};c.prototype.t5a=function(){return this.rB(d.Ob.gf,this.BO,w);};c.prototype.r5a=function(){var F;F=this;return this.OV.then(function(C){return C?Promise.resolve(C):F.z1a;});};c.prototype.eua=function(){this.Op && (this.Op.itshdcp=JSON.stringify({hdcp1:this.HVa,time1:this.L5a - this.O4a,hdcp2:this.IVa,time2:this.M5a - this.P4a}));};c.prototype.CUb=function(){var F;F=this;this.TW?(this.OV=this.HUa(this.config().sZa,this.config().HJb,function(){var C;C=F.GAb();return ["maybe" !== C,C];}).then(function(C){return "probably" === C;}),this.z1a=this.OV.then(function(C){return C?!0:F.HUa(F.config().sZa,F.config().GJb,function(){var G;G=F.FAb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;});})):(this.z1a=Promise.resolve(!0),this.OV=Promise.resolve(!1));};c.prototype.HUa=function(F,C,G){var J;J=this;return new Promise(function(K){var H,L,P,I;H=aa(G());L=H.next().value;H=H.next().value;if(L)return K(H);P=J.yc.A7(g.xc(F),function(){var O,N;O=aa(G());N=O.next().value;O=O.next().value;N && (P.cancel(),I.cancel(),K(O));});I=J.yc.Rj(g.xc(C),function(){P.cancel();I.cancel();K("timeout");});});};c.prototype.FAb=function(){var F;F=n.sA.N1(d.Ob.FI,this.z9a,A).split("|");this.HVa=n.sA.kta(F[0],F[1]);this.L5a=this.wa.Ye.ea(g.ma);this.O4a=this.O4a || this.L5a;this.eua();return this.HVa;};c.prototype.GAb=function(){var F;F=n.sA.N1(d.Ob.gf,this.BO,B).split("|");this.IVa=n.sA.kta(F[0],F[1]);this.M5a=this.wa.Ye.ea(g.ma);this.P4a=this.P4a || this.M5a;this.eua();return this.IVa;};c.prototype.Isb=function(){var F;F=this;return this.bha(d.Ob.gf,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (q.Gaa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(C){F.log.debug("DriverInfo: " + C);return C;}).catch(function(C){F.tR("itsDriverInfo","exception");F.log.error("DriverInfo exception",C);throw C;});};c.prototype.Msb=function(){var F;F=this;this.bha(d.Ob.uu,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(C){var G;G=String.fromCharCode.apply(void 0,F.Dc.decode(C));F.tR("itsHardwareInfo",G);F.log.debug("HardwareInfo: " + G);return C;}).catch(function(C){F.tR("itsHardwareInfo","exception");F.log.error("HardwareInfo exception",C);throw C;});};c.prototype.Nsb=function(){var F;F=this;this.bha(d.Ob.uu,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(C){var G;G=String.fromCharCode.apply(void 0,F.Dc.decode(C));F.tR("itsHardwareReset",G);F.log.debug("ResetHardwareDRMDisabled: " + G);return C;}).catch(function(C){F.tR("itsHardwareReset","exception");F.log.error("ResetHardwareDRMDisabled exception",C);throw C;});};c.prototype.bha=function(F,C){var G;G=this;return new Promise(function(J,K){var N,M,Q;function H(S){try{I(S.target,"Unexpectedly got an mskeyerror event: 0x" + E.AF(S && S.target && S.target.error && S.target.error.X8b || 0,4));}catch(fa){I(S.target,fa);}}function L(S){I(S.target,"Unexpectedly got an mskeyadded event");}function P(S){var fa;try{fa=G.Kia(S.message,"PlayReadyKeyMessage","Challenge");O(S.target);J(fa);}catch(qa){I(S.target,qa);}}function I(S,fa){G.log.error("PlayReadyChallenge error",{cdmData:C});O(S);K(fa);}function O(S){S.removeEventListener("mskeymessage",P);S.removeEventListener("mskeyadded",L);S.removeEventListener("mskeyerror",H);Q && Q.cancel();}try{N=new Uint8Array(D.g5a(C));M=new pb.MSMediaKeys(F).createSession("video/mp4",new Uint8Array(0),N);M.addEventListener("mskeymessage",P);M.addEventListener("mskeyadded",L);M.addEventListener("mskeyerror",H);Q=G.yc.Rj(g.xc(1E3),function(){I(M,Error("timeout"));});}catch(S){K(S);}});};c.prototype.Kia=function(F,C){var J,K,H;for(var G=1;G < arguments.length;++G){;}G="";K=F.length;for(J=0;J < K;J++){H=F[J];0 < H && (G+=String.fromCharCode(H));}K="\\s*(.*)\\s*";for(J=arguments.length - 1;0 < J;J--){H=arguments[J];if(0 > G.search(H))return;H="(?:[^:].*:|)" + H;K="[\\s\\S]*<" + H + "[^>]*>" + K + "</" + H + ">[\\s\\S]*";}if(G=G.match(new RegExp(K)))return G[1];};c.prototype.tma=function(F,C){return [p.Ge.cA,p.Ge.Vw].some(function(G){return G.test(C);}) && this.config().ioa && F !== d.Ob.FI;};Xa.Object.defineProperties(c.prototype,{kEb:{configurable:!0,enumerable:!0,get:function(){return this.config().hwb && (!this.config().IJb || this.s5a());}},TW:{configurable:!0,enumerable:!0,get:function(){try{return this.Nx(d.Ob.gf + '|video/mp4;codecs="' + m.Sd.lI + '"');}catch(F){return !1;}}},zVb:{configurable:!0,enumerable:!0,get:function(){try{return this.Nx(d.Ob.FI);}catch(F){return !1;}}}});b.NBa=c;c.JH='video/mp4;codecs="{0},mp4a";';},function(r,b,a){var f,k,l,d,g;function c(h,m,n,q,p,t,u){h=f.ln.call(this,h,m,n,u) || this;h.Sl=q;h.dr=p;h.wa=t;h.Hv=u;h.type=k.Ei.aI;h.log=h.dr.Cb("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Nwa=void 0;f=a(165);k=a(25);l=a(4);d=a(59);g=a(166);la(c,f.ln);c.prototype.gw=function(h){switch(h){case k.ij.lu:return this.yVb;default:return Promise.resolve(!1);}};c.prototype.oL=function(){var h;h=this;return this.gw(k.ij.lu).then(function(m){return m?k.ij.lu:void 0;}).then(function(m){return h.iS(m);});};c.prototype.Aea=function(h){this.Op=h;};c.prototype.my=function(h){var m;m=this;return this.config().ioa?this.Sl.vy().then(function(n){return m.tma(d.u3(n),h)?!1:f.ln.prototype.my.call(m,h);}):f.ln.prototype.my.call(this,h);};c.prototype.rGb=function(h){var m;return !(null === (m=h.getConfiguration().videoCapabilities) || void 0 === m || !m.some(function(n){return (null === n || void 0 === n?void 0:n.robustness) === d.pI;}));};c.prototype.R6a=function(){var h;if(this.Op){h=this.JVa && this.LVa && this.JVa.Aa(this.LVa).ea(l.ma);this.Op.itshdcp=JSON.stringify({hdcp2:this.Us,time2:h});}};c.prototype.tma=function(h,m){return [g.Ge.cA,g.Ge.Vw].some(function(n){return n.test(m);}) && this.config().ioa && h === d.pI;};Xa.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.oZa || (this.oZa=this.Sl.vy().then(function(h){return h.createMediaKeys();}));return this.oZa;}},yVb:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.lta || (this.config().iwb?this.lta=Promise.all([this.Sl.vy(),this.mediaKeys]).then(function(m){var n;n=aa(m);m=n.next().value;n=n.next().value;if(!h.rGb(m))return (h.Us="not HW_SECURE_DECODE",h.log.trace("hdcpStatus: " + h.Us),!1);if(n && n.getStatusForPolicy)return (h.LVa=h.wa.Ye,n.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(q){h.JVa=h.wa.Ye;h.Us=q;h.log.trace("hdcpStatus: " + h.Us);return "usable" === h.Us;}));h.Us="not available";h.log.trace("hdcpStatus: " + h.Us);return !1;}).catch(function(m){h.Us="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.Us},m);return !1;}).then(function(m){h.R6a();return m;}):(this.Us="not enabled",this.log.trace("hdcpStatus: " + this.Us),this.R6a(),this.lta=Promise.resolve(!1)));return this.lta;}}});b.Nwa=c;},function(r,b,a){var f,k;function c(l){this.navigator=l;this.mZa=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.iCa=void 0;r=a(1);f=a(0);a=a(36);c.prototype.Oia=function(l){return this.mZa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:l.contentType,width:l.width,height:l.height,bitrate:l.bitrate,framerate:l.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};k=c;k=r.__decorate([f.R(),r.__param(0,f.l(a.BI))],k);b.iCa=k;},function(r,b,a){var f,k,l;function c(d,g){this.mediaCapabilities=d;this.log=g.Cb("MediaCapabilities");}Object.defineProperty(b,"__esModule",{value:!0});b.jCa=void 0;r=a(1);f=a(346);k=a(8);a=a(0);c.prototype.Oia=function(d){var g,h,m;g=this;h={Yb:void 0};if(this.mediaCapabilities.mZa){m={contentType:'video/mp4;codecs="avc1.640028"',width:d.width,height:d.height,bitrate:1E3 * d.bitrate,framerate:24};this.mediaCapabilities.Oia(m).then(function(n){return h.Yb=Object.assign(Object.assign({},n),m);}).catch(function(n){return g.log.error("Error calling MediaCapabilities API",n);});}return h;};l=c;l=r.__decorate([a.R(),r.__param(0,a.l(f.lCa)),r.__param(1,a.l(k.Jb))],l);b.jCa=l;},function(r,b,a){var f,k,l;function c(d){this.MOb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Rya=void 0;r=a(1);f=a(0);k=a(213);a=a(348);c.prototype.Axb=function(){var d,g;d={XS:k.jA.lfb};g=this.MOb.PresentationRequest;g && (new g("https://netflix.com").getAvailability() || Promise.reject()).then(function(h){var m;d.XS=h.value?k.jA.FFa:k.jA.Yua;if(d.XS === k.jA.Yua){m=function(){h.value && (d.XS=k.jA.FFa);h.removeEventListener("change",m);};h.addEventListener("change",m);}}).catch(function(){d.XS=k.jA.Error;});return d;};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.GFa))],l);b.Rya=l;},function(r,b,a){var f,k,l,d,g,h,m,n;function c(q,p,t,u){this.config=q;this.navigator=p;this.dr=t;this.$na=u;this.type=k.Ei.fu;this.cNa={};this.x7a={};this.log=this.dr.Cb("MediaCapabilityDetector");this.cNa=this.psb();this.x7a=this.vtb();}Object.defineProperty(b,"__esModule",{value:!0});b.gCa=void 0;r=a(1);f=a(0);k=a(25);l=a(50);d=a(8);g=a(36);h=a(79);m=a(138);n=a(59);c.prototype.my=function(q){var p;p=this;return this.$na.vy().then(function(t){return p.Mxb(q,t);}).catch(function(){return !1;});};c.prototype.LFb=function(q){return ! !q.colorGamut || ! !q.hdrMetadataType || ! !q.transferFunction;};c.prototype.ima=function(){return pb.matchMedia("(dynamic-range: high)").matches;};c.prototype.Mxb=function(q,p){var t,u,w,v;t=this;try{u={type:"media-source"};w=this.cNa[q];v=this.x7a[q];if(w)u.audio=w;else if(v){u.video=v;if(this.LFb(v) && !this.ima())return Promise.resolve(!1);p && (u.keySystemConfiguration=this.YAb(p));}else return Promise.resolve(!1);return this.navigator.mediaCapabilities.decodingInfo(u).then(function(x){var y;x.configuration || (x.configuration=u);y=t.kGb(u,x);y?t.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(x)):t.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(x));return y;}).catch(function(x){t.log.error("mediaCapabilities.decodingInfo failed",x);return !1;});}catch(x){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",x),Promise.resolve(!1));}};c.prototype.YAb=function(q){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:q.keySystem},(q=n.u3(q)) && (this.keySystemConfiguration.video={robustness:q}));return this.keySystemConfiguration;};c.prototype.psb=function(){var q,p;q={};p={contentType:"audio/mp4;codecs=mp4a.40.2"};q[l.ke.qD]=p;q[l.ke.uza]=p;q[l.ke.rD]=p;q[l.ke.bE]=p;p={contentType:"audio/mp4;codecs=ec-3"};q[l.ke.EO]=p;q[l.ke.a$]=p;q[l.ke.FO]=p;return q;};c.prototype.vtb=function(){var q,p,t,u,w,v,x,y,z,A,B,D,E;q={};p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};t={contentType:'video/mp4; codecs="dvh1.05.04"'};u={width:1920,height:1080};w={width:3840,height:2160};v=Object.assign(Object.assign({},u),{bitrate:12E6,framerate:30});x=Object.assign(Object.assign({},u),{bitrate:2E7,framerate:60});u=Object.assign(Object.assign({},w),{bitrate:25E6,framerate:30});w=Object.assign(Object.assign({},w),{bitrate:4E7,framerate:60});y={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};z={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),v);q[l.O.mza]=A;q[l.O.QO]=A;q[l.O.RO]=A;q[l.O.z$]=A;A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),v);q[l.O.WZ]=A;q[l.O.QI]=A;q[l.O.RI]=A;q[l.O.aQ]=A;A=Object.assign(Object.assign({},p),v);B=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),x);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),u);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),w);q[l.O.LY]=A;q[l.O.NY]=A;q[l.O.PY]=A;q[l.O.RY]=B;q[l.O.dP]=D;q[l.O.fP]=E;q[l.O.MY]=A;q[l.O.OY]=A;q[l.O.QY]=A;q[l.O.SY]=B;q[l.O.eP]=D;q[l.O.gP]=E;A=Object.assign(Object.assign(Object.assign({},p),v),y);B=Object.assign(Object.assign(Object.assign({},p),x),y);D=Object.assign(Object.assign(Object.assign({},p),u),y);p=Object.assign(Object.assign(Object.assign({},p),w),y);q[l.O.TO]=A;q[l.O.VO]=A;q[l.O.oI]=A;q[l.O.YO]=B;q[l.O.$O]=D;q[l.O.bP]=p;q[l.O.UO]=A;q[l.O.WO]=A;q[l.O.XO]=A;q[l.O.ZO]=B;q[l.O.aP]=D;q[l.O.cP]=p;v=Object.assign(Object.assign(Object.assign({},t),v),z);x=Object.assign(Object.assign(Object.assign({},t),x),z);u=Object.assign(Object.assign(Object.assign({},t),u),z);t=Object.assign(Object.assign(Object.assign({},t),w),z);q[l.O.lY]=v;q[l.O.nY]=v;q[l.O.HO]=v;q[l.O.qY]=x;q[l.O.sY]=u;q[l.O.uY]=t;q[l.O.mY]=v;q[l.O.oY]=v;q[l.O.pY]=v;q[l.O.rY]=x;q[l.O.tY]=u;q[l.O.vY]=t;return q;};c.prototype.kGb=function(q,p){return q.video && this.config().hOb?p.supported && p.powerEfficient:p.supported;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.dI)),r.__param(1,f.l(g.BI)),r.__param(2,f.l(d.Jb)),r.__param(3,f.l(h.pu))],a);b.gCa=a;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(0);c=a(349);f=a(78);k=a(167);l=a(659);d=a(352);g=a(660);h=a(351);m=a(168);n=a(661);q=a(663);p=a(664);t=a(665);u=a(78);w=a(353);v=a(667);b.storage=new r.$c(function(x){x(k.RCa).tf(function(){return function(){return pb.localStorage;};});x(k.Qza).tf(function(){return function(){return pb.indexedDB;};});x(w.ECa).to(v.DCa).$();x(u.dA).to(t.fva).$();x(d.ZAa).to(g.YAa).$();x(c.XY).to(q.qAa).$();x(m.sAa).to(n.rAa).$();x(f.bHa).to(l.axa).$();x(m.Pza).to(n.Oza).$();x(m.P$).to(n.tAa).$();x(h.cxa).to(p.bxa).$();});},function(r,b,a){var f,k,l,d,g;function c(h,m,n){this.jo=m;this.config=n;this.za=h.Cb(d.Hba);}Object.defineProperty(b,"__esModule",{value:!0});b.axa=void 0;r=a(1);f=a(0);k=a(8);l=a(61);d=a(350);a=a(351);c.prototype.validate=function(h){return this.config.enabled?this.config.timeout?this.jo.Xp(this.config.timeout,this.PQa(h)):this.PQa(h):Promise.resolve();};c.prototype.PQa=function(h){var m;m=this;return new Promise(function(n,q){return h.save("indexdb-test","true",!0).then(function(){return h.load("indexdb-test").then(function(p){"true" !== p.value && q();m.za.debug("save/load test passed");h.remove("indexdb-test").then(function(){n();}).catch(function(){m.za.error("Failed to remove testValue");n();});});}).catch(function(p){return q(p);});});};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(k.Jb)),r.__param(1,f.l(l.Pw)),r.__param(2,f.l(a.cxa))],g);b.axa=g;},function(r,b,a){var f,k,l;function c(d){this.EC=d;}Object.defineProperty(b,"__esModule",{value:!0});b.YAa=void 0;r=a(1);f=a(0);k=a(3);a=a(167);c.prototype.load=function(d){var g;g=this;return new Promise(function(h,m){var n,q;try{n=g.EC.getItem(d);if(n){q=n;if("{" === n[0])try{q=JSON.parse(n) || n;}catch(p){}h({key:d,value:q});}else m({oa:k.L.zA});}catch(p){m({oa:k.L.rGa,cause:p});}});};c.prototype.save=function(d,g,h){var m;m=this;return new Promise(function(n,q){if(h && m.EC.getItem(d))n(!1);else try{"string" === typeof g?m.EC.setItem(d,g):m.EC.setItem(d,JSON.stringify(g));n(!0);}catch(p){q({oa:k.L.sGa,cause:p});}});};c.prototype.remove=function(d){var g;g=this;return new Promise(function(h,m){try{g.EC.removeItem(d);h();}catch(n){m({oa:k.L.Aba,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.Ucb))],l);b.YAa=l;},function(r,b,a){var l,d,g,h,m,n,q,p,t,u,w,v;function c(x,y,z,A,B,D){this.config=y;this.oS=z;this.gn=A;this.FYb=B;this.Ek=D;this.za=x.Cb(n.Hba);}function f(x,y){this.config=x;this.gX=y;}function k(x,y,z,A,B){this.config=y;this.gX=z;this.Ek=B;this.za=x.Cb(n.Hba);this.oS=new Promise(function(D,E){var F;try{F=A();F?D(F):E({oa:m.L.Rza});}catch(C){E({oa:m.L.WY,cause:C});}});}Object.defineProperty(b,"__esModule",{value:!0});b.tAa=b.rAa=b.Oza=void 0;r=a(1);l=a(0);d=a(8);g=a(662);h=a(167);m=a(3);n=a(350);q=a(349);p=a(61);t=a(78);u=a(70);w=a(168);v=a(66);k.prototype.create=function(){this.rha || (this.rha=this.sK());return this.rha;};k.prototype.mp=function(x){var y;y=this;this.rha=null;return this.gX.Xp(this.config.timeout,new Promise(function(z,A){x.close();y.delete(x.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof p.xq?Promise.reject({oa:m.L.WY}):z.oa?Promise.reject(z):Promise.reject({oa:m.L.WY,cause:z});});};k.prototype.delete=function(x){var y;y=this;return this.gX.Xp(this.config.timeout,new Promise(function(z,A){y.oS.then(function(B){var D;D=B.deleteDatabase(x);D.onsuccess=function(){z();};D.onerror=function(){A({oa:m.L.WY,cause:D.error});};}).catch(function(B){A(B);});}));};k.prototype.sK=function(){var x,y;x=this;return this.gX.Xp(this.config.timeout,new Promise(function(z,A){if(x.config.Esa)return A({oa:x.config.Esa});x.oS.then(function(B){x.Ek.mark(v.oj.bbb);y=B.open(x.config.name,x.config.version);if(!y)return A({oa:m.L.Sza});y.onblocked=function(){x.Ek.mark(v.oj.Zab);A({oa:m.L.Vab});};y.onupgradeneeded=function(){var D;x.Ek.mark(v.oj.ibb);D=y.result;try{D.createObjectStore(x.config.iV,{keyPath:"name"});}catch(E){x.za.error("Exception while creating object store",E);}};y.onsuccess=function(D){var E,F;x.Ek.mark(v.oj.hbb);try{E=D.target.result;F=E.objectStoreNames.length;x.za.trace("objectstorenames length ",F);if(0 === F){x.za.error("invalid indexedDb state, deleting");x.Ek.mark(v.oj.abb);try{E.close();}catch(C){}B.deleteDatabase(x.config.name);setTimeout(function(){A({oa:m.L.Uab});},1);return;}}catch(C){x.za.error("Exception while inspecting indexedDb objectstorenames",C);}z(y.result);};y.onerror=function(){x.Ek.mark(v.oj.$ab);x.za.error("IndexedDB open error",y.error);A({oa:m.L.Wab,cause:y.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof p.xq){try{y && y.readyState && x.Ek.mark("readyState-" + y.readyState);}catch(A){}if(x.config.T0 && y && "done" === y.readyState){if(x.AYb(y))return (x.Ek.mark(v.oj.fbb),Promise.resolve(y.result));x.Ek.mark(v.oj.ebb);}x.Ek.mark(v.oj.dbb);return Promise.reject({oa:m.L.Yab});}if(z.oa)return Promise.reject(z);x.Ek.mark(v.oj.cbb);x.za.error("IndexedDB open exception occurred",z);return Promise.reject({oa:m.L.Xab,cause:z});});};k.prototype.AYb=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.Ek.mark(v.oj.gbb);this.za.error("failed to check open request state",y);}return !1;};a=k;a=r.__decorate([l.R(),r.__param(0,l.l(d.Jb)),r.__param(1,l.l(q.XY)),r.__param(2,l.l(p.Pw)),r.__param(3,l.l(h.Qza)),r.__param(4,l.l(u.XD))],a);b.Oza=a;f.prototype.create=function(x){return Promise.resolve(new g.pAa(this.config,this.gX,x));};a=f;a=r.__decorate([l.R(),r.__param(0,l.l(q.XY)),r.__param(1,l.l(p.Pw))],a);b.rAa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.jS || (this.jS=this.sK(this.FYb));return this.jS;};c.prototype.sK=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,A){y.Ek.mark(v.oj.Leb);y.oS.create().then(function(B){y.gn.create(B).then(function(D){Promise.all(x.map(function(E){return E.validate(D);})).then(function(){y.storage=D;z(y.storage);}).catch(function(E){y.za.debug("DB validation failed, cause: " + E);y.config.zSa?(y.za.debug("Fixing corrupt DB"),y.oS.mp(B).then(function(){y.za.error("Invalid database deleted, creating new database.");y.sK().then(function(F){y.za.error("Invalid database successfully recreated.");y.storage=F;z(y.storage);});}).catch(function(F){y.za.error("Couldn't delete invalid database.");A(F);})):(y.za.debug("Ignoring invalid DB due to config"),y.storage=D,z(y.storage));});}).catch(function(D){A(D);});}).catch(function(B){A(B);});});};a=c;a=r.__decorate([l.R(),r.__param(0,l.l(d.Jb)),r.__param(1,l.l(q.XY)),r.__param(2,l.l(w.Pza)),r.__param(3,l.l(w.sAa)),r.__param(4,l.rG(t.bHa)),r.__param(5,l.l(u.XD))],a);b.tAa=a;},function(r,b,a){var k,l,d;function c(g,h,m){this.config=g;this.jo=h;this.EC=m;}function f(g,h){this.reason=g;this.cause=h;}Object.defineProperty(b,"__esModule",{value:!0});b.pAa=b.TFa=void 0;k=a(3);l=a(61);(function(g){g[g.waa=0]="NoData";g[g.Error=1]="Error";g[g.NI=2]="Timeout";})(d=b.TFa || (b.TFa={}));c.prototype.load=function(g){var h;h=this;return new Promise(function(m,n){h.C2("get",!1,g).then(function(q){m({key:g,value:q});}).catch(function(q){var p;p=k.L.rGa;switch(q.reason){case d.waa:p=k.L.zA;break;case d.NI:p=k.L.Meb;}n({oa:p,cause:q.cause});});});};c.prototype.save=function(g,h,m){var n;n=this;return new Promise(function(q,p){n.C2(m?"add":"put",!0,{name:g,data:h}).then(function(){q(!m);}).catch(function(t){var u;u=k.L.sGa;switch(t.reason){case d.NI:u=k.L.Peb;}p({oa:u,cause:t.cause});});});};c.prototype.remove=function(g){var h;h=this;return new Promise(function(m,n){h.C2("delete",!0,g).then(function(){m();}).catch(function(q){var p;p=k.L.Aba;switch(q.reason){case d.NI:p=k.L.qGa;}n({oa:p,cause:q.cause});});});};c.prototype.removeAll=function(){var g;g=this;return new Promise(function(h,m){g.C2("clear",!0,"").then(function(){h();}).catch(function(n){var q;q=k.L.Aba;switch(n.reason){case d.NI:q=k.L.qGa;}m({oa:q,cause:n.cause});});});};c.prototype.loadAll=function(){var g;g=this;return this.jo.Xp(this.config.timeout,new Promise(function(h,m){var n,q,p;if(g.config.Dsa)m(new f(g.config.Dsa));else {n=[];q=g.EC.transaction(g.config.iV,"readonly");p=q.objectStore(g.config.iV).openCursor();q.onerror=function(){m(new f(d.Error,p.error));};p.onsuccess=function(t){if(t=t.target.result)try{n.push({key:t.value.name,value:t.value.data});t.continue();}catch(u){m(new f(d.Error,u));}else h(n);};p.onerror=function(){m(new f(d.Error,p.error));};}})).catch(function(h){return h instanceof l.xq?Promise.reject(new f(d.NI,h)):h instanceof f?Promise.reject(h):Promise.reject(new f(d.Error,h));});};c.prototype.C2=function(g,h,m){var n;n=this;return this.jo.Xp(this.config.timeout,new Promise(function(q,p){var t,u;t=n.EC.transaction(n.config.iV,h?"readwrite":"readonly");u=t.objectStore(n.config.iV)[g](m);t.onerror=function(){p(new f(d.Error,u.error));};u.onsuccess=function(w){var v;if("get" == g)try{v=w.target.result;v?q(v.data):p(new f(d.waa));}catch(x){p(new f(d.waa,x));}else q(void 0);};u.onerror=function(){p(new f(d.Error,u.error));};})).catch(function(q){return q instanceof l.xq?Promise.reject(new f(d.NI,q)):q instanceof f?Promise.reject(q):Promise.reject(new f(d.Error,q));});};b.pAa=c;},function(r,b,a){var f,k,l,d,g;function c(h,m){h=l.hf.call(this,h,"IndexedDBConfigImpl") || this;h.config=m;h.version=1;h.iV="namedatapairs";return h;}Object.defineProperty(b,"__esModule",{value:!0});b.qAa=void 0;r=a(1);f=a(0);k=a(44);l=a(45);d=a(38);a=a(37);la(c,l.hf);Xa.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.hv?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Wsa;}},T0:{configurable:!0,enumerable:!0,get:function(){return this.config.T0;}},Esa:{configurable:!0,enumerable:!0,get:function(){return 0;}},Dsa:{configurable:!0,enumerable:!0,get:function(){return 0;}},zSa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});g=c;r.__decorate([k.config(k.Sz,"simulateIdbOpenError")],g.prototype,"Esa",null);r.__decorate([k.config(k.Sz,"simulateIdbLoadAllError")],g.prototype,"Dsa",null);r.__decorate([k.config(k.ad,"fixInvalidDatabase")],g.prototype,"zSa",null);g=r.__decorate([f.R(),r.__param(0,f.l(a.lm)),r.__param(1,f.l(d.gm))],g);b.qAa=g;},function(r,b,a){var f,k;function c(l){this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.bxa=void 0;r=a(1);f=a(0);a=a(38);Xa.Object.defineProperties(c.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Wsa;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.B5a;}}});k=c;k=r.__decorate([f.R(),r.__param(0,f.l(a.gm))],k);b.bxa=k;},function(r,b,a){var k,l,d,g,h,m,n;function c(q,p,t,u){this.za=q;this.config=p;this.mEb=t;this.foa=u;this.eF={mem:{storage:this.foa,key:"mem"}};this.VC=this.config.VC;}function f(q,p,t,u){this.Ag=q;this.gn=p;this.foa=t;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.A9=b.fva=void 0;r=a(1);k=a(0);l=a(3);d=a(168);g=a(8);h=a(353);m=a(666);a=a(38);f.prototype.create=function(){this.jS || (this.jS=this.sK());return this.jS;};f.prototype.sK=function(){this.hmb=new c(this.Ag.Cb("AppStorage"),this.config,this.gn,this.foa);return this.hmb.create();};n=f;n=r.__decorate([k.R(),r.__param(0,k.l(g.Jb)),r.__param(1,k.l(d.P$)),r.__param(2,k.l(h.ECa)),r.__param(3,k.l(a.gm))],n);b.fva=n;c.prototype.create=function(){var q;q=this;return this.Osb().then(function(p){if(!q.Mob(p,q.config.$T))throw q.IKb(p);return q;});};c.prototype.load=function(q){var p;p=this;return new Promise(function(t,u){p.rT(q).storage.load(q).then(function(w){t(w);}).catch(function(w){u(w);});});};c.prototype.save=function(q,p,t){var u;u=this;return new Promise(function(w,v){u.rT(q).storage.save(q,p,t).then(function(x){w(x);}).catch(function(x){v(x);});});};c.prototype.remove=function(q){var p;p=this;return new Promise(function(t,u){p.rT(q).storage.remove(q).then(function(){t();}).catch(function(w){u(w);});});};c.prototype.removeAll=function(){var q;q=this;return new Promise(function(p,t){q.l2a("mem").then(function(){return q.l2a("idb");}).catch(function(u){return Promise.reject(u);}).then(function(){p();}).catch(function(u){q.za.error("remove all failed");t(u);});});};c.prototype.loadAll=function(){var q,p;q=this;p=[];return this.WXa("mem").then(function(t){p=p.concat(t);return q.WXa("idb");}).catch(function(t){q.hGb(t) || q.za.error("IndexedDb.LoadAll exception",t);return [];}).then(function(t){return p=p.concat(t);}).catch(function(t){q.za.error("load all failed",t);throw t;});};c.prototype.Osb=function(){var q;q=this;return this.mEb.create().then(function(p){q.eF.idb={storage:p,key:"idb"};}).catch(function(p){q.za.error("idb failed to load",p);return p || ({oa:l.L.km});});};c.prototype.Mob=function(q,p){return !q || q && p?!0:!1;};c.prototype.IKb=function(q){var p;p="";q && (p+=q.oa);return {oa:p};};c.prototype.l2a=function(q){return (q=this.eF[q])?q.storage.removeAll():Promise.resolve();};c.prototype.WXa=function(q){return (q=this.eF[q])?q.storage.loadAll():Promise.resolve([]);};c.prototype.Txb=function(q){for(var p in this.VC){if(q.startsWith(p))return this.VC[p];}return this.VC[m.n$a];};c.prototype.rT=function(q){var p,t;p=this;this.Txb(q).every(function(u){return p.eF[u]?(t=p.eF[u],!1):!0;});if(!t){this.za.error("component not found for storageKey",{QUb:q,t4b:Object.keys(this.eF),rules:this.VC});t=this.eF.mem;}this.za.trace("component found for key",{storageKey:q,componentKey:t.key});return t;};c.prototype.hGb=function(q){return (q && (q.oa || q.errorSubCode)) === l.L.zA;};b.A9=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.n$a="__default_rule_key__";},function(r,b,a){var f,k,l;function c(d){this.Ag=d;this.sG={};this.za=this.Ag.Cb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.DCa=void 0;r=a(1);f=a(0);k=a(3);a=a(8);c.prototype.load=function(d){var g;if(this.sG.hasOwnProperty(d)){g=this.sG[d];this.za.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:g});}this.za.debug("Storage entry not found",{key:d});return Promise.reject({oa:k.L.zA});};c.prototype.save=function(d,g,h){if(h && this.sG.hasOwnProperty(d))return Promise.resolve(!1);this.sG[d]=g;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.sG[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.sG).map(function(g){var h;h=aa(g);g=h.next().value;h=h.next().value;return {key:g,value:h};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.sG={};return Promise.resolve();};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.Jb))],l);b.DCa=l;},function(r,b,a){var c,f,k,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.dK=void 0;r=a(0);c=a(354);f=a(355);k=a(356);l=a(669);d=a(670);g=a(671);b.dK=new r.$c(function(h){h(c.Yva).to(l.Xva).$();h(f.Wva).to(d.Tva).$();h(k.Vva).to(g.Uva).$();});},function(r,b,a){var f,k,l,d,g,h,m;function c(n,q,p,t,u){this.c1=q;this.cb=p;this.Hnb=t;this.config=u;this.za=n.Cb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.Xva=void 0;r=a(1);f=a(0);k=a(355);l=a(356);d=a(8);g=a(26);h=a(4);a=a(14);c.prototype.Nlb=function(n){var q,p;q=n.ib.playbackState && n.ib.playbackState.currentTime;p=this.Pzb(n.K);q=this.cb.pF(q)?h.xc(q):p;if(this.cb.eg(q))(this.za.info("Overriding bookmark",{From:n.MH.ea(h.ma),To:q.ea(h.ma)}),n=Object.assign({},n,{MH:q}));else if(this.qEb(n))return (this.za.trace("Ignoring bookmark because it's too close to beginning"),h.Tg(0));return n.MH.oma()?(this.za.trace("Ignoring bookmark because it's negative"),h.Tg(0)):this.pEb(n)?(this.za.trace("Ignoring bookmark because it's too close to end"),h.Tg(0)):this.oEb(n)?(this.za.trace("Ignoring bookmark because it's too close to the end to start decoding"),h.Tg(0)):n.MH;};c.prototype.qEb=function(n){return 0 > n.MH.Yk(this.$ja(n));};c.prototype.$ja=function(n){return this.BNa(this.c1.$ja(),n.L6);};c.prototype.pEb=function(n){return 0 < n.MH.Yk(this.aka(n));};c.prototype.aka=function(n){var q;q=n.ib.fl?this.c1.KAb():this.c1.aka();return n.L6.Aa(this.BNa(q,n.L6));};c.prototype.oEb=function(n){return 0 < n.MH.Yk(this.qAb(n));};c.prototype.qAb=function(n){var q;q=n.ib.fl?this.config().S_a:this.config().AG;return n.L6.Aa(h.xc(q));};c.prototype.Pzb=function(n){var q;n=this.c1.Gja()[n];q=-1;this.cb.Xo(n)?q=parseInt(n):this.cb.di(n) && (q=n);if(this.cb.vR(q))return h.xc(q);};c.prototype.BNa=function(n,q){return this.Hnb.eVb(n,q);};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(d.Jb)),r.__param(1,f.l(k.Wva)),r.__param(2,f.l(g.If)),r.__param(3,f.l(l.Vva)),r.__param(4,f.l(a.Zc))],m);b.Xva=m;},function(r,b,a){var f,k;function c(l){this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Tva=void 0;r=a(1);f=a(0);a=a(14);c.prototype.$ja=function(){return this.IB().Inb;};c.prototype.aka=function(){return this.IB().Jnb;};c.prototype.KAb=function(){return this.IB().Knb;};c.prototype.Gja=function(){return this.IB().ANa;};c.prototype.IB=function(){return this.config();};k=c;k=r.__decorate([f.R(),r.__param(0,f.l(a.Zc))],k);b.Tva=k;},function(r,b,a){var f,k,l;function c(d){this.cb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Uva=void 0;r=a(1);f=a(0);k=a(26);l=a(4);c.prototype.eVb=function(d,g){var h,m;h=parseFloat(d);m=0;"%" === d[d.length - 1] && this.cb.di(h)?m=Math.round(h * g.ea(l.ma) / 100):(d=parseInt(d),this.cb.vR(d) && (m=d));return l.xc(Math.min(m,g.ea(l.ma)));};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.If))],a);b.Uva=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.VNa=void 0;r=a(0);c=a(357);f=a(673);b.VNa=new r.$c(function(k){k(c.nwa).to(f.mwa).$();});},function(r,b,a){var f,k,l,d,g,h,m,n,q;function c(p,t,u,w,v,x){this.config=p;this.wC=u;this.profile=w;this.G8=v;this.UR=x;this.log=t.Cb("CDMAttestedDescriptor");this.kTa(n.qu.LP);}Object.defineProperty(b,"__esModule",{value:!0});b.mwa=void 0;r=a(1);f=a(0);k=a(14);l=a(8);d=a(141);g=a(214);h=a(89);m=a(163);n=a(38);q=a(60);c.prototype.kTa=function(p){var t;t=this;return this.G8.T7(p)?this.config().dwb?this.iTa().then(function(u){if(u)return (!1,Promise.resolve(void 0));t.RXa || (!1,t.RXa=t.UR.Hka(q.Xh.pn));return t.RXa;}).catch(function(u){t.log.error("Failed to generate challenge",u);}).then(function(u){null === u || void 0 === u?void 0:u.Nb.close();return null === u || void 0 === u?void 0:u.fga;}).then(function(u){return Promise.all([Promise.resolve(u),t.iTa()]);}).then(function(u){var w;u=aa(u);w=u.next().value;if(u.next().value)!1;else return w;}):this.wC().then(function(u){u.WU.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.iTa=function(){var p;p=this;return this.wC().then(function(t){return (t=t.WU.getServiceTokens(p.profile)) && t.find(function(u){return "cad" === u.name;});});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.Zc)),r.__param(1,f.l(l.Jb)),r.__param(2,f.l(d.xP)),r.__param(3,f.l(h.NP)),r.__param(4,f.l(g.VZ)),r.__param(5,f.l(m.fY))],a);b.mwa=a;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w;Object.defineProperty(b,"__esModule",{value:!0});b.DYa=void 0;r=a(0);c=a(358);f=a(675);k=a(359);l=a(706);d=a(369);g=a(370);h=a(372);m=a(707);n=a(373);q=a(708);p=a(143);t=a(709);u=a(375);w=a(710);b.DYa=new r.$c(function(v){v(k.UBa).to(l.TBa).$();v(c.WBa).to(f.VBa).$();v(d.bFa).yi(function(x){for(var y=[],z=0;z < arguments.length;++z){y[z - 0]=arguments[z];}z=a(219).WD;return new (Function.prototype.bind.apply(z,[null].concat(da(y))))();});v(g.JHa).yi(function(x){for(var y=[],z=0;z < arguments.length;++z){y[z - 0]=arguments[z];}z=a(443).Cwa;return new (Function.prototype.bind.apply(z,[null].concat(da(y))))();});v(h.aCa).tf(function(){return function(x){return new m.bCa(x);};});v(n.$Ba).to(q.ZBa).$();v(p.sP).to(t.RBa).$();v(u.QBa).to(w.PBa).$();});},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u;function c(w,v,x,y,z){this.Ag=w;this.config=v;this.Ypa=x;this.Jta=y;this.C8=z;}Object.defineProperty(b,"__esModule",{value:!0});b.VBa=void 0;r=a(1);f=a(0);k=a(8);l=a(359);d=a(676);g=a(701);h=a(702);m=a(703);n=a(704);q=a(705);p=a(369);t=a(370);a=a(371);c.prototype.create=function(w){var v,x;v=this.Ag.Cb("ManifestParser",w);x=new d.Kwa(v,this.config);return new h.XBa(x,new g.vHa(v,this.config,w,x,this.Ypa),new m.THa(v,w,this.Jta),new n.Jva(v,this.config,w,this.C8),new q.qIa(v,this.C8));};u=c;u=r.__decorate([f.R(),r.__param(0,f.l(k.Jb)),r.__param(1,f.l(l.UBa)),r.__param(2,f.l(p.bFa)),r.__param(3,f.l(a.RHa)),r.__param(4,f.l(t.JHa))],u);b.VBa=u;},function(r,b,a){var f;function c(k,l){this.log=k;this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Kwa=void 0;f=a(121);c.prototype.l0a=function(k,l,d){var g,h,m,n,q;g=this;h=this.config.bga;m=this.config.aga;k=aa(f.tt(function(p){return (!h.length || 0 <= h.indexOf(p.id)) && 0 > m.indexOf(p.id);},k || []));n=k.next().value;k.next().value.forEach(function(p){return g.log.warn("Cdn is not allowed",{Id:p.id});});q=n.map(function(p){var t;t=(l?l.find(function(u){return u.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,Se:p.Se,type:p.type,dna:p.key,A6b:p.rYa,location:{id:t.key,Se:t.Se,level:t.level,weight:t.weight,Wk:[]}};});q.sort(function(p,t){return p.Se - t.Se;});q.forEach(function(p){return p.location.Wk=q.filter(function(t){return t.dna === p.dna;});});this.log.trace("Transformed cdns",{Count:q.length});if(d && !q.length)throw Error("no valid cdns");return q;};b.Kwa=c;},function(r,b,a){var c;b=a(169);c=a(678);a=b(function(f,k,l){return c(function(d,g,h){return f(g,h);},k,l);});r.exports=a;},function(r,b,a){var c,f;b=a(169);c=a(360);f=a(679);a=b(function h(l,d,g){return f(function(m,n,q){return c(n) && c(q)?h(l,n,q):l(m,n,q);},d,g);});r.exports=a;},function(r,b,a){var c;b=a(169);c=a(215);a=b(function(f,k,l){var d,g;d={};for(g in k){c(g,k) && (d[g]=c(g,l)?f(g,k[g],l[g]):k[g]);}for(g in l){c(g,l) && !c(g,d) && (d[g]=l[g]);}return d;});r.exports=a;},function(r,b,a){var c;b=a(361);c=a(689);a=a(699);a=c([b,a]);r.exports=a;},function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(r){r.exports=function(b,a){for(var c=0,f=a.length,k=[];c < f;){b(a[c]) && (k[k.length]=a[c]);c+=1;}return k;};},function(r,b,a){var c,f;b=a(122);c=a(363);f=a(684);a=b(function(k){return c(k)?!0:!k || "object" !== typeof k || f(k)?!1:1 === k.nodeType?! !k.length:0 === k.length?!0:0 < k.length?k.hasOwnProperty(0) && k.hasOwnProperty(k.length - 1):!1;});r.exports=a;},function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,f){return this.f(c,f);};return a;})();r.exports=function(a){return new b(a);};},function(r,b,a){var c;c=a(217);b=a(58)(function(f,k){return c(f.length,function(){return f.apply(k,arguments);});});r.exports=b;},function(r,b,a){var c,f;b=a(58);c=a(364);f=(function(){function k(l,d){this.OX=d;this.f=l;}k.prototype["@@transducer/init"]=c.nb;k.prototype["@@transducer/result"]=c.result;k.prototype["@@transducer/step"]=function(l,d){return this.f(d)?this.OX["@@transducer/step"](l,d):l;};return k;})();a=b(function(k,l){return new f(k,l);});r.exports=a;},function(r,b,a){var c,f;c=a(215);f=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === f.call(arguments)?function(k){return "[object Arguments]" === f.call(k);}:function(k){return c("callee",k);};};},function(r,b,a){var c;b=a(122);c=a(690);a=b(function(f){return c(function(){return Array.prototype.slice.call(arguments,0);},f);});r.exports=a;},function(r,b,a){var c,f,k,l,d;b=a(58);c=a(366);f=a(367);k=a(692);l=a(693);d=a(698);a=b(function(g,h){return f(d(k,0,l("length",h)),function(){var m,n;m=arguments;n=this;return g.apply(n,c(function(q){return q.apply(n,m);},h));});});r.exports=a;},function(r,b,a){var f,k;function c(l,d,g){return function(){var p;for(var h=[],m=0,n=l,q=0;q < d.length || m < arguments.length;){if(q < d.length && (!k(d[q]) || m >= arguments.length))p=d[q];else (p=arguments[m],m+=1);h[q]=p;k(p) || --n;q+=1;}return 0 >= n?g.apply(this,h):f(n,c(l,h,g));};}f=a(217);k=a(170);r.exports=c;},function(r,b,a){b=a(58)(function(c,f){return f > c?f:c;});r.exports=b;},function(r,b,a){var c,f;b=a(58);c=a(694);f=a(696);a=b(function(k,l){return c(f(k),l);});r.exports=a;},function(r,b,a){var c,f,k,l,d,g;b=a(58);c=a(362);f=a(366);k=a(216);l=a(695);d=a(367);g=a(365);a=b(c(["fantasy-land/map","map"],l,function(h,m){switch(Object.prototype.toString.call(m)){case "[object Function]":return d(m.length,function(){return h.call(this,m.apply(this,arguments));});case "[object Object]":return k(function(n,q){n[q]=h(m[q]);return n;},{},g(m));default:return f(h,m);}}));r.exports=a;},function(r,b,a){var c,f;b=a(58);c=a(364);f=(function(){function k(l,d){this.OX=d;this.f=l;}k.prototype["@@transducer/init"]=c.nb;k.prototype["@@transducer/result"]=c.result;k.prototype["@@transducer/step"]=function(l,d){return this.OX["@@transducer/step"](l,this.f(d));};return k;})();a=b(function(k,l){return new f(k,l);});r.exports=a;},function(r,b,a){var c;b=a(58);c=a(697);a=b(function(f,k){return c([f],k);});r.exports=a;},function(r,b,a){b=a(58)(function(c,f){for(var k=0;k < c.length;){if(null == f)return;f=f[c[k]];k+=1;}return f;});r.exports=b;},function(r,b,a){b=a(169);a=a(216);a=b(a);r.exports=a;},function(r,b,a){var c,f;c=a(700);b=a(58);f=a(361);a=b(function(k,l){return f(c(k),l);});r.exports=a;},function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(r,b,a){var f,k,l,d;function c(g,h,m,n,q){this.log=g;this.config=h;this.j=m;this.cga=n;this.Ypa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.vHa=void 0;f=a(50);k=a(11);l=a(142);d=a(218);c.prototype.YMb=function(g){var h;h=this;g=g.map(function(m){var n,q,p;n=h.IWb(m);!1 !== m.YF || n.length || h.log.error("track without downloadables",h.hUa(m));!0 !== m.hma || n.length || h.log.error("forced track without downloadables",h.hUa(m));q={};p=[];0 < n.length && (q=n[0],q.profile == f.Vr.zI && (q=h.oSb(n),!1),p=h.cga.l0a(m.Wob,void 0,!1));m=h.Ypa(h.j,m.pt,m.id,q.Dd,q.urls || ({}),p,m.Se,m.language,m.a5,l.TZ[m.jn.toLowerCase()] || l.yq.EI,m.MN,m.variant,m.SM.toUpperCase(),q.profile,h.kBb(q) || ({}),m.YF,m.hma,m.L4,m.Vs);h.log.trace("Transformed timed text track",m);return m;});this.log.trace("Transformed timed text tracks",{Count:g.length});return g;};c.prototype.fWb=function(g){var h,m;h=this;m=this.config.qja;if(m){if(g=aa(g.filter(function(n){return n.ym == m || n.trackId == m;})).next().value)return g;}else if(this.j.S2 && (g=aa(g.filter(function(n){return n.trackId == h.j.S2;})).next().value))return g;};c.prototype.IWb=function(g){var h,m;h=this;m=g.Bvb;g=Object.entries(g.bXb || ({})).map(function(n){var q;q=aa(n);n=q.next().value;q=q.next().value;return {Dd:m[n],profile:n,size:q.size || 0,priority:h.iAb(n,q),offset:q.joa || 0,vNb:q.width,J0a:q.height,urls:q.fy};});g.sort(function(n,q){return n.priority - q.priority;});return g;};c.prototype.iAb=function(g,h){var m,n;m=this.config.hw.indexOf(g);h=h.size;n=this.config.TN;return g === f.Vr.d$ && 0 < n && h > n?this.config.hw.length + 1:0 <= m?m:this.config.hw.length;};c.prototype.kBb=function(g){if(g.profile === f.Vr.zI)return {offset:g.offset,length:g.size,nW:{width:g.vNb,height:g.J0a}};};c.prototype.oSb=function(g){var h,m;h=this.config.Gla || d.QZ.wka();m=aa(g.filter(function(n){return n.profile === f.Vr.zI;}).filter(function(n){return n.J0a === h;})).next().value;if(m)return m;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:k.su.height,intendedResolution:h});return g[0];};c.prototype.hUa=function(g){return {isNone:g.YF,isForced:g.hma,bcp47:g.language,id:g.pt};};b.vHa=c;},function(r,b){function a(c,f,k,l,d){this.cga=c;this.C5a=f;this.RWb=k;this.nfa=l;this.C7a=d;}Object.defineProperty(b,"__esModule",{value:!0});b.XBa=void 0;a.prototype.UMb=function(c){var f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y;f=c.bd;k=! !f.Rqa;c=this.cga.l0a(f.Rt,f.$n,!0);l=this.C5a.YMb(f.iWb);d=this.RWb.ZMb(f.UWb);g=k?this.nfa.LMb(f.ofa,l):this.nfa.TMb(f.ofa,f.media,l);h=this.C7a.$Mb(f.dD);m=h[0];n=this.nfa.Wmb(g) || g.find(function(z){return k?z.trackId === f.Rqa.ep:z.Jy === f.pQa[0].ep;}) || g[0];q=this.C5a.fWb(n.bm) || l.find(function(z){return k?z.trackId === f.Rqa.fX:z.Jy === f.pQa[0].pVb;}) || n.bm[0];p=this.C7a.WMb(f.dD);t=f.Vi;u=f.Ppb;w=f.TT;v=f.Ll;x=f.ofa.findIndex(function(z){return z.pt == n.trackId;});y=f.dD.findIndex(function(z){return z.pt == m.trackId;});return {Ht:p,Wk:c,fp:g,wo:h,bm:l,Qz:d,Vi:t,FSb:u,hC:w,Ll:v,hub:x,pub:y,Eha:m,rS:n,Dha:q};};b.XBa=a;},function(r,b){function a(c,f,k){this.log=c;this.j=f;this.Jta=k;}Object.defineProperty(b,"__esModule",{value:!0});b.THa=void 0;a.prototype.ZMb=function(c){var f;f=this;c=(c || []).filter(function(k){return k.urls && 0 < k.urls.length;}).map(function(k){return f.Jta(f.j,k.id,k.height,k.width,k.ANb,k.BNb,k.size,k.Vs,{unknown:k.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(k,l){return k.size - l.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.THa=a;},function(r,b,a){var f,k,l,d,g;function c(h,m,n,q){h=k.uP.call(this,h,q) || this;h.config=m;h.j=n;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Jva=void 0;f=a(342);k=a(368);l=a(121);d=a(81);g=a(142);la(c,k.uP);c.prototype.LMb=function(h,m){var n,q;n=this;q=this.config.l8;h=h.filter(function(p){var t,u;t=p.YF || p.streams && 0 < p.streams.length;t || n.log.warn("Audio track is missing streams",n.J3(p));u=0 === q.length || 0 <= q.indexOf(p.jn);u || n.log.warn("Audio track is not supported",n.J3(p));return t && u;});if(!h.length)throw Error("no valid audio tracks");h=h.map(function(p){return n.k0a(p,n.fzb(p,m));});this.log.trace("Parsed audio tracks",{Count:h.length});return h;};c.prototype.TMb=function(h,m,n){var q,p,t,u;q=this;p=aa(l.tt(function(w){return w.YF;},h));h=p.next().value;p=p.next().value;p=aa(l.tt(function(w){return w.streams && 0 < w.streams.length;},p));t=p.next().value;p.next().value.forEach(function(w){return q.log.warn("Audio track is missing streams",q.J3(w));});u=this.config.l8;p=aa(l.tt(function(w){return 0 === u.length || 0 <= u.indexOf(w.jn);},t));t=p.next().value;p.next().value.forEach(function(w){return q.log.warn("Audio track is not supported",q.J3(w));});h=[].concat(da(t),da(h)).map(function(w){return q.k0a(w,q.$Ab(w.pt,m,n));});if(!h.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:h.length});return h;};c.prototype.Wmb=function(h){var m,n;m=this;n=this.config.lja;if(n){if(h=aa(h.filter(function(q){return q.ym == n || q.trackId == n;})).next().value)return h;}else if(this.j.R2 && (h=aa(h.filter(function(q){return q.trackId == m.j.R2;})).next().value))return h;};c.prototype.k0a=function(h,m){var n,q;q=h.jn;m={type:d.Yh.audio,MN:h.MN,variant:h.variant,trackId:h.pt,Jy:h.Dta,jn:g.TZ[q.toLowerCase()] || g.yq.EI,SM:q,Se:h.Se,ym:h.language,displayName:h.a5,channels:h.channels,L4b:h.channels,bm:m,oh:{Bcp47:h.language,TrackId:h.pt},streams:[],isNative:h.isNative,Ny:h.YF,n8:h.n8};m.streams=this.l6a(h.streams,m);this.log.trace("Transformed audio track",m,{StreamCount:m.streams.length,AllowedTimedTextTracks:m.bm.length});m.Wpb=f.Kva[null === (n=m.streams[0]) || void 0 === n?void 0:n.Jg];return m;};c.prototype.J3=function(h){return {language:h.a5,bcp47:h.language,type:h.jn};};c.prototype.fzb=function(h,m){return m.filter(function(n){return h.cvb.includes(n.Jy) || h.oQa && h.oQa !== n.Jy && (n.Ny() || n.dC()) || h.uLb && (n.Ny() || n.dC()) || n.dC()?!1:!0;});};c.prototype.$Ab=function(h,m,n){return m.filter(function(q){return q.Rh.Sb === h;}).map(function(q){return q.Rh.jm;}).map(function(q){return n.find(function(p){return p.trackId === q;});}).filter(Boolean);};b.Jva=c;},function(r,b,a){var f,k,l,d;function c(g,h){return k.uP.call(this,g,h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.qIa=void 0;f=a(121);k=a(368);l=a(81);d=a(142);la(c,k.uP);c.prototype.$Mb=function(g){var h,m;h=this;g=aa(f.tt(function(n){return n.streams && 0 < n.streams.length;},g));m=g.next().value;g.next().value.forEach(function(n){return h.log.warn("Video track is missing streams",{trackId:n.pt});});g=m.map(function(n){var q;q=n.jn;q={type:l.Yh.video,trackId:n.pt,Jy:n.Dta,jn:d.TZ[q.toLowerCase()] || d.yq.EI,SM:q,streams:[],oh:{},Et:n.Et};q.streams=h.l6a(n.streams,q);h.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!g.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:g.length});return g;};c.prototype.WMb=function(g){var h;h=g.map(function(m){return m.Et;}).filter(Boolean);h=[].concat.apply([],da(h)).map(function(m){return m.da;});g=g.map(function(m){return m.eia;}).filter(Boolean).map(function(m){return m.da;});return 0 < h.length?h:g;};b.qIa=c;},function(r,b,a){var f,k,l,d,g,h;function c(m,n){m=k.hf.call(this,m,"ManifestParserConfigImpl") || this;m.kk=n;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.TBa=void 0;r=a(1);f=a(0);k=a(45);l=a(37);d=a(44);g=a(131);h=a(49);la(c,k.hf);Xa.Object.defineProperties(c.prototype,{l8:{configurable:!0,enumerable:!0,get:function(){return [];}},lja:{configurable:!0,enumerable:!0,get:function(){return "";}},bga:{configurable:!0,enumerable:!0,get:function(){return [];}},aga:{configurable:!0,enumerable:!0,get:function(){return [];}},qja:{configurable:!0,enumerable:!0,get:function(){return "";}},Gla:{configurable:!0,enumerable:!0,get:function(){return 0;}},TN:{configurable:!0,enumerable:!0,get:function(){return this.kk.TN.ea(h.du);}},hw:{configurable:!0,enumerable:!0,get:function(){return this.kk.hw;}}});a=c;r.__decorate([d.config(d.h8,"supportedAudioTrackTypes")],a.prototype,"l8",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"lja",null);r.__decorate([d.config(d.Tta,"cdnIdWhiteList")],a.prototype,"bga",null);r.__decorate([d.config(d.Tta,"cdnIdBlackList")],a.prototype,"aga",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"qja",null);r.__decorate([d.config(d.Sz,"imageSubsResolution")],a.prototype,"Gla",null);r.__decorate([d.config(d.Sz,"timedTextSimpleFallbackThreshold")],a.prototype,"TN",null);r.__decorate([d.config(d.h8,"timedTextProfiles")],a.prototype,"hw",null);a=r.__decorate([f.R(),r.__param(0,f.l(l.lm)),r.__param(1,f.l(g.IP))],a);b.TBa=a;},function(r,b){function a(c){this.Wc=c;this.rb=JSON.stringify(this.fBb());}Object.defineProperty(b,"__esModule",{value:!0});b.bCa=void 0;a.prototype.fBb=function(){var c;c=[];(!this.Wc.Wk || 0 >= this.Wc.Wk.length) && c.push({error:"No CDN."});this.Wc.rS || c.push({error:"No default audio track.",foundTracks:this.Yja(this.Wc.fp)});this.Wc.Eha || c.push({error:"No default video track.",foundTracks:this.Yja(this.Wc.wo)});this.Wc.Dha || c.push({error:"No default subtitle track.",foundTracks:this.Yja(this.Wc.bm)});return c;};a.prototype.Yja=function(c){return c && 0 < c.length?c.map(function(f){return f.trackId;}):"No tracks found.";};b.bCa=a;},function(r,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZBa=void 0;r=a(1);f=a(0);k=a(218);c.prototype.decode=function(l){var d,g;d=this.lCb(l.cdns);g=this.sAb(l);return {movieId:l.movieId,packageId:l.packageId,duration:l.runtime,locations:this.fka(l.locations),servers:d,audio_tracks:this.getAudioTracks(l.audioTracks),video_tracks:this.getVideoTracks(l.videoTracks,l.videoEncrypted?l.psshb64:void 0),cdnResponseData:l.cdnResponseData,isSupplemental:l.isSupplemental,choiceMap:l.branchMap,watermarkInfo:l.watermark,drmVersion:0,playbackContextId:l.playbackContextId,hasDrmProfile:!0,hasDrmStreams:l.videoEncrypted,hasClearProfile:!1,hasClearStreams:!l.videoEncrypted,defaultTrackOrderList:this.Xzb(l),timedtexttracks:this.FCb(l.textTracks,d),media:this.jBb(l.media),trickplays:this.KCb(l.trickPlayTracks),drmContextId:l.drmContextId,dpsid:null,isBranching:! !l.branchMap,clientIpAddress:l.clientIpAddress,drmType:"",expiration:g.expiration,urlExpirationDuration:g.t7a,manifestExpirationDuration:g.t7a,steeringAdditionalInfo:null,viewableType:"",type:"standard",recommendedMedia:void 0,partiallyHydrated:!1,maxRecommendedAudioRank:Infinity,maxRecommendedTextRank:Infinity};};c.prototype.Xzb=function(l){var d,g,h;d=aa(l.defaultMedia.split("|"));g=d.next().value;h=d.next().value;d=d.next().value;return [{mediaId:l.defaultMedia,audioTrackId:g,videoTrackId:h,subtitleTrackId:d,preferenceOrder:0}];};c.prototype.fka=function(l){return l?l.map(function(d){return {key:d.id,rank:d.rank,level:d.level,weight:d.weight};}):[];};c.prototype.lCb=function(l){return l?l.map(function(d){return {name:d.name,type:d.type,id:Number(d.id),key:d.locationId,rank:d.rank,lowgrade:d.isLowgrade};}):[];};c.prototype.oVa=function(l){return Object.entries(l).map(function(d){var g;g=aa(d);d=g.next().value;g=g.next().value;return {cdn_id:Number(d),url:g};});};c.prototype.getAudioTracks=function(l){var d;d=this;return l?l.map(function(g){var h;h=g.downloadables;return {type:0,channels:g.channels,language:g.bcp47,languageDescription:g.language,trackType:g.trackType,streams:d.izb(h,g),channelsFormat:g.channelsLabel,surroundFormatLabel:g.channelsLabel,profile:h && h.length?h[0].contentProfile:void 0,rawTrackType:g.trackType.toLowerCase(),new_track_id:g.id,track_id:g.id,id:g.id,rank:-1,hydrated:!0,offTrackDisallowed:!1,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,isNoneTrack:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};c.prototype.izb=function(l,d){var g;g=this;return l?(l=l.map(function(h){return {type:0,trackType:d.trackType,content_profile:h.contentProfile,downloadable_id:h.downloadableId,bitrate:h.bitrate,language:d.bcp47,urls:g.oVa(h.urls),isDrm:! !h.isEncrypted,new_stream_id:h.id,size:h.size,channels:d.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null,tags:[]};}),l.sort(function(h,m){return h.bitrate - m.bitrate;}),l):[];};c.prototype.getVideoTracks=function(l,d){var g;g=this;return l?l.map(function(h){return {type:1,trackType:"PRIMARY",streams:g.RCb(h.downloadables,h.trackType),profile:"",new_track_id:h.id,track_id:h.id,dimensionsCount:2,dimensionsLabel:"2D",hasDrmProfile:!0,hasDrmStreams:! !d,hasClearProfile:!1,hasClearStreams:!d,drmHeader:d && d.length?{bytes:d[0],checksum:"",keyId:d[0].substr(d.length - 25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};c.prototype.RCb=function(l,d){var g;g=this;return l?(l=l.map(function(h){return {type:1,trackType:d,content_profile:h.contentProfile,downloadable_id:h.downloadableId,bitrate:h.bitrate,urls:g.oVa(h.urls),pix_w:h.width,pix_h:h.height,res_w:h.width,res_h:h.height,hdcp:h.hdcpVersions,vmaf:h.vmaf,size:h.size,isDrm:h.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:h.framerate_value,framerate_scale:h.framerate_scale,crop_x:h.cropParamsX,crop_y:h.cropParamsY,crop_w:h.cropParamsWidth,crop_h:h.cropParamsHeight,segmentVmaf:[],tags:[]};}),l.sort(function(h,m){return h.bitrate - m.bitrate;}),l):[];};c.prototype.FCb=function(l,d){var g;g=this;return l?l.map(function(h){return {type:"timedtext",trackType:"SUBTITLES" === h.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:h.trackType.toLowerCase(),language:h.bcp47 || null,languageDescription:h.language,new_track_id:h.id,id:h.id,rank:-1,hydrated:!0,isNoneTrack:h.isNone,isForcedNarrative:h.isForced,downloadableIds:g.ACb(h.downloadables),ttDownloadables:g.BCb(h.downloadables),isLanguageLeftToRight:! !h.isLanguageLeftToRight,cdnlist:d};}):[];};c.prototype.ACb=function(l){return l?l.reduce(function(d,g){d[g.contentProfile]=g.downloadableId;return d;},{}):{};};c.prototype.QBb=function(l){var d;d=k.QZ.wka();l=l.filter(function(g){return g.isImage;});return 0 === l.length?d:0 < l.filter(function(g){return g.pixHeight === d;}).length?d:Math.min.apply(Math,da(l.map(function(g){return g.pixHeight;})));};c.prototype.BCb=function(l){var d;if(l){d=this.QBb(l);return l.reduce(function(g,h){h.isImage && h.pixHeight !== d || (g[h.contentProfile]={size:h.size,textKey:null,isImage:h.isImage,midxOffset:h.offset,height:h.pixHeight,width:h.pixWidth,downloadUrls:h.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return g;},{});}return {};};c.prototype.jBb=function(l){return l?l.map(function(d){return {id:d.mediaId,tracks:{AUDIO:d.tracks.find(function(g){return "AUDIO" === g.type;}).id,VIDEO:d.tracks.find(function(g){return "VIDEO" === g.type;}).id,TEXT:d.tracks.find(function(g){return "TEXT" === g.type;}).id}};}):[];};c.prototype.KCb=function(l){var d;if(l){d=[];l.map(function(g){g.downloadables.map(function(h){d.push({downloadable_id:h.downloadableId,size:h.size,urls:Object.values(h.urls),id:h.id,interval:h.interval,pixelsAspectY:h.pixWidth,pixelsAspectX:h.pixHeight,width:h.resWidth,height:h.resHeight});});});return d;}return [];};c.prototype.sAb=function(l){var d;d=0;l.videoTracks.forEach(function(g){g.downloadables && g.downloadables.forEach(function(h){d=d?Math.min(h.validFor,d):h.validFor;});});l.audioTracks.forEach(function(g){g.downloadables && g.downloadables.forEach(function(h){d=d?Math.min(h.validFor,d):h.validFor;});});return {t7a:1E3 * d,expiration:l.clientGenesis + 1E3 * d};};c.prototype.encode=function(){throw Error("encode not supported");};a=r.__decorate([f.R()],c);b.ZBa=a;},function(r,b,a){var f,k,l,d,g,h,m,n;function c(q,p,t,u){this.wa=q;this.zIb=p;this.kHb=t;this.wIb=u;}Object.defineProperty(b,"__esModule",{value:!0});b.RBa=void 0;r=a(1);f=a(373);k=a(0);l=a(39);d=a(4);g=a(374);h=a(375);m=a(42);n=a(3);c.prototype.create=function(q){var p,t;if(this.TFb(q))throw m.ed.oZb(n.M.faa,n.L.Qeb,q);p=!1;t=this.kHb();this.OFb(q)?(q.clientGenesis=q.clientGenesis || this.wa.Ye.ea(d.ma),q=this.zIb.decode(q),p=!0,t.olb(q)):t.Dea(q.links);this.wIb.OK(q);return {bd:q,Hj:t,UWa:!1,TWa:!1,AFb:p};};c.prototype.TFb=function(q){return ("type" in q) && "muxed" === q.type;};c.prototype.OFb=function(q){return ("runtime" in q) && ! !q.runtime;};a=c;a=r.__decorate([k.R(),r.__param(0,k.l(l.Wh)),r.__param(1,k.l(f.$Ba)),r.__param(2,k.l(g.WDa)),r.__param(3,k.l(h.QBa))],a);b.RBa=a;},function(r,b,a){var f,k;function c(l){this.Pwb=l;this.xIb={On:"drmType",o5b:"drmVersion",expiration:"expiration",K:"movieId",Mp:"packageId",duration:"duration",Vi:"playbackContextId",pQa:["defaultTrackOrderList",{aM:"mediaId",dO:"videoTrackId",pVb:"subtitleTrackId",ep:"audioTrackId",c8b:"preferenceOrder"}],s5b:["eligibleABTestMap",{Wr:k.Wr}],w4b:["badgingInfo",{h5b:"dolbyDigitalAudio",e6b:"hdrVideo",i5b:"dolbyVisionVideo",j9b:"ultraHdVideo","3dVideo":"3dVideo",g5b:"dolbyAtmosAudio",p4b:"assistiveAudio",w8b:"sdVideo",d6b:"hdVideo"}],type:"type",s4b:["audioTextShortcuts",{id:"id",ep:"audioTrackId",Z8b:"textTrackId"}],Y7b:"partiallyHydrated",a7b:"maxRecommendedAudioRank",b7b:"maxRecommendedTextRank",Ll:"drmContextId",wDb:"hasDrmProfile",vDb:"hasClearProfile",TT:"hasDrmStreams",hla:"hasClearStreams",$n:["locations",{Se:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],Rt:["servers",{id:"id",name:"name",type:"type",Se:"rank",rYa:"lowgrade",nvb:["dns",{host:"host",lFb:"ipv4",mFb:"ipv6",syb:"forceLookup"}],key:"key"}],ofa:["audio_tracks",{type:"type",MN:"subType",variant:"variant",jn:"trackType",pt:"new_track_id",Dta:"track_id",kPb:"profileType",MUb:"stereo",profile:"profile",channels:"channels",language:"language",dpb:"channelsFormat",n8:"surroundFormatLabel",a5:"languageDescription",cvb:"disallowedSubtitleTracks",oQa:"defaultTimedText",isNative:"isNative",YF:"isNoneTrack",streams:["streams",{aia:"downloadable_id",size:"size",I1:"content_profile",jn:"trackType",bitrate:"bitrate",My:"isDrm",urls:["urls",{ega:"cdn_id",url:"url"}],zKb:"new_stream_id",type:"type",channels:"channels",dpb:"channelsFormat",n8:"surroundFormatLabel",language:"language",r4b:"audioKey",hKb:["moov",{size:"size",offset:"offset"}],Br:["sidx",{size:"size",offset:"offset"}],xUb:["ssix",{size:"size",offset:"offset"}],hn:"tags"}],Wpb:"codecName",SM:"rawTrackType",id:"id",Se:"rank",lEb:"hydrated",uLb:"offTrackDisallowed"}],dD:["video_tracks",{jn:"trackType",pt:"new_track_id",type:"type",Dta:"track_id",wDb:"hasDrmProfile",vDb:"hasClearProfile",TT:"hasDrmStreams",hla:"hasClearStreams",Ay:"groupName",streams:["streams",{aia:"downloadable_id",size:"size",I1:"content_profile",jn:"trackType",ZQa:"drmHeaderId",bitrate:"bitrate",My:"isDrm",urls:["urls",{ega:"cdn_id",url:"url"}],zKb:"new_stream_id",type:"type",$7b:"peakBitrate",Vub:"dimensionsCount",Wub:"dimensionsLabel",L0a:"pix_w",K0a:"pix_h",rRb:"res_w",qRb:"res_h",Dtb:"crop_x",Etb:"crop_y",Ctb:"crop_w",Btb:"crop_h",Dyb:"framerate_value",Cyb:"framerate_scale",Q8b:"startByteOffset",wb:"vmaf",hKb:["moov",{size:"size",offset:"offset"}],Br:["sidx",{size:"size",offset:"offset"}],xUb:["ssix",{size:"size",offset:"offset"}],PC:["segmentVmaf",{offset:"offset",wb:"vmaf"}],hn:"tags"}],kPb:"profileType",MUb:"stereo",profile:"profile",Vub:"dimensionsCount",Wub:"dimensionsLabel",N8b:["snippets",{Wr:[k.Wr,{M8b:"snippetSpec",jc:"startTimeMs",Fc:"endTimeMs"}]}],eia:["drmHeader",{da:"bytes",vpb:"checksum",ZQa:"drmHeaderId",Ni:"keyId",nW:["resolution",{height:"height",width:"width"}]}],Et:["prkDrmHeaders",{da:"bytes",vpb:"checksum",ZQa:"drmHeaderId",Ni:"keyId",nW:["resolution",{height:"height",width:"width"}]}],pv:"flavor",p6b:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",yNb:"pixelAspectX",zNb:"pixelAspectY",W6b:"maxCroppedWidth",V6b:"maxCroppedHeight",X6b:"maxCroppedX",Y6b:"maxCroppedY",g7b:"max_framerate_value",f7b:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",u7b:"minCroppedWidth",t7b:"minCroppedHeight",v7b:"minCroppedX",w7b:"minCroppedY",gg:["license",{hHb:"licenseResponseBase64",f8b:"providerSessionToken",A8b:"secureStopExpected",n5b:"drmSessionId",links:["links",{}]}]}],hOa:["cdnResponseData",{hH:"sessionABTestCell",Nv:"pbcid"}],Ln:["choiceMap",{Qe:"initialSegment",type:"type",aa:"viewableId",xa:["segments",{Wr:[k.Wr,{jc:"startTimeMs",Fc:"endTimeMs",next:["next",{Wr:[k.Wr,{weight:"weight"}]}],Gh:"defaultNext",Uq:"exitZones"}]}]}],media:["media",{id:"id",Rh:["tracks",{Sb:"AUDIO",jm:"TEXT",Eb:"VIDEO"}]}],Rqa:["recommendedMedia",{dO:"videoTrackId",ep:"audioTrackId",fX:"timedTextTrackId"}],iWb:["timedtexttracks",{jn:"trackType",pt:"new_track_id",type:"type",MN:"subType",variant:"variant",SM:"rawTrackType",a5:"languageDescription",language:"language",id:"id",YF:"isNoneTrack",hma:"isForcedNarrative",Bvb:["downloadableIds",{}],Wob:["cdnlist",{id:"id",name:"name",type:"type",Se:"rank",rYa:"lowgrade",nvb:["dns",{host:"host",lFb:"ipv4",mFb:"ipv6",syb:"forceLookup"}],key:"key"}],bXb:["ttDownloadables",{Wr:[k.Wr,{id:"id",size:"size",Y8b:"textKey",c6b:"hashValue",b6b:"hashAlgo",z6b:"isImage",joa:"midxOffset",uZa:"midxSize",height:"height",width:"width",fy:["downloadUrls",{}],urls:["urls",{url:"url",ega:"cdn_id"}]}]}],L4:"isLanguageLeftToRight",Vs:"headIdentDuration",Se:"rank",lEb:"hydrated"}],UWb:["trickplays",{aia:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",BNb:"pixelsAspectY",ANb:"pixelsAspectX",width:"width",height:"height",Vs:"headIdentDuration"}],L7a:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],m5b:"dpsid",fl:"isBranching",u9b:"viewableType",gC:"isSupplemental",Ppb:"clientIpAddress",o9b:"urlExpirationDuration",R6b:"manifestExpirationDuration",R8b:["steeringAdditionalInfo",{S8b:"steeringId",m4b:"additionalGroupNames",T8b:["streamingClientConfig",{}]}]};}Object.defineProperty(b,"__esModule",{value:!0});b.PBa=void 0;r=a(1);f=a(0);k=a(206);c.prototype.OK=function(l){this.Pwb.OK(l,this.xIb);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.Fya))],a);b.PBa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.zc=b.$q=void 0;(function(c){c[c.Ci=0]="STOPPED";c[c.Yc=1]="BUFFERING";c[c.zf=2]="REBUFFERING";c[c.ak=3]="STREAMING";c[c.VP=4]="TRACK_SWITCH";})(a || (a={}));b.zc=a;b.$q=function(c){return c === a.Yc || c === a.zf || c === a.VP;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(723),b);r.__exportStar(a(724),b);r.__exportStar(a(725),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vaa=void 0;r=b.vaa || (b.vaa={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.kA=1]="HAVE_SOMETHING";r[r.Fw=2]="HAVE_MINIMUM";r[r.nI=3]="HAVE_ENOUGH";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.ka=void 0;r=a || (a={});r[r.$g=0]="STARTING";r[r.Yc=1]="BUFFERING";r[r.zf=2]="REBUFFERING";r[r.Hc=3]="PLAYING";r[r.wq=4]="STOPPING";r[r.Ci=5]="STOPPED";r[r.$h=6]="PAUSED";b.ka=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(747),b);r.__exportStar(a(748),b);r.__exportStar(a(749),b);r.__exportStar(a(750),b);r.__exportStar(a(751),b);r.__exportStar(a(752),b);r.__exportStar(a(753),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(755),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Uw=void 0;r=b.Uw || (b.Uw={});r[r.Ddb=0]="PLAYGRAPH_CHANGED";r[r.Edb=1]="PLAYGRAPH_UNCHANGED";r[r.Rcb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.rab=3]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.qab=4]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.Beb=5]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.d8a=6]="APPENDED_PAST_TRUNCATION_POINT";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Cva=void 0;c=a(15);r=(function(){function f(k){this.config=k;}f.prototype.Dm=function(k,l){return this.config.g8 || l !== c.zc.ak?k.filter(function(d){return d.ov;}):k;};return f;})();b.Cva=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$D=void 0;r=a(2);c=a(20);f=r.__importDefault(a(5));k=a(377);a=(function(){function l(d){this.console=d;this.kQa=[];this.xNa={};this.CQa=!1;}l.prototype.Zp=function(d,g){this.kQa=d;void 0 !== g?this.xNa[g]=d:this.CQa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.CQa=!0);};l.prototype.Dm=function(d){var g,h,m,n,q;g=this;if(0 === d.length)return d;n=d[0].aa;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (h=f.default.Cs) || void 0 === h?void 0:h.call(f.default,n);}catch(p){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + p),d);}q=null !== (m=this.xNa[n]) && void 0 !== m?m:this.kQa;c.ia && this.console.trace("VideoBitrateRangesFilter: filtering " + d.length + " streams with " + JSON.stringify(q));d=d.filter(function(p){return k.Vea(p.profile,p.bitrate,q,g.console).inRange;});c.ia && this.console.trace("VideoBitrateRangesFilter: ... " + d.length + " streams in range");return d;};return l;})();b.$D=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Eva=void 0;r=(function(){function a(c){var f;f=this;c.LN && c.LN.enabled && c.LN.profiles && c.LN.profiles.length && "keepLowest" === c.LN.action && (this.yXa={},c.LN.profiles.forEach(function(k){return f.yXa[k]=!0;}));}a.prototype.Dm=function(c){var f,k;f={};k=this.yXa;return void 0 === k?c:c.filter(function(l){return !k[l.profile] || (f[l.profile]?!1:f[l.profile]=!0);});};return a;})();b.Eva=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ava=void 0;r=(function(){function a(c){this.config=c;}a.prototype.Dm=function(c){var f;f=this.config;return c.filter(function(k){return !(void 0 !== k.wb && (k.wb < f.nG || k.wb > f.PYa) || (void 0 === k.wb || 0 >= f.nG) && k.bitrate < f.koa || (void 0 === k.wb || Infinity === f.PYa) && k.bitrate > f.KIb);});};return a;})();b.Ava=r;},function(r,b,a){var f;function c(k,l){l=Math.max(k,l);return isNaN(l)?k || -Infinity:l;}Object.defineProperties(b,{__esModule:{value:!0}});b.lva=void 0;f=a(15);r=(function(){function k(l){this.config=l;this.h7=0;this.state=f.zc.Ci;this.FZa=c(l.koa,l.K5);this.soa=c(l.nG,l.PU);}k.prototype.Dm=function(l,d){var g;g=this;if(d !== this.state){this.state=d;if(d === f.zc.Yc || d === f.zc.VP)return l;d === f.zc.zf && this.W1a();}return l.filter(function(h){return !(void 0 !== h.wb && h.wb < g.soa || (void 0 === h.wb || 0 > g.soa) && h.bitrate < g.FZa);});};k.prototype.W1a=function(){++this.h7;this.soa=c(this.config.nG,this.config.PU - this.config.OJb * this.h7);this.FZa=this.config.koa || -Infinity;};return k;})();b.lva=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zva=void 0;c=a(30);r=(function(){function f(k){this.config=k;}f.prototype.NTb=function(k){return k % 100 + 1 <= this.config.Fpa;};f.prototype.Dm=function(k){var l,d,g,h,m,n,q,p,t,u,w;q=Number(null === (l=k[0]) || void 0 === l?void 0:l.K);if(!(this.config.s2 && this.NTb(q) && 0 < this.config.v7.length))return k;l=k.length;p=null !== (d=k[l - 1].u7) && void 0 !== d?d:0;if(d=c.vg(this.config.v7,function(v){return v.m8b >= p && v.S2a <= p;})){for(q=0;q < l;q++){t=k[Math.max(q - 1,0)];u=k[q];if(!((null !== (g=u.u7) && void 0 !== g?g:0) < d.S2a || (null !== (h=t.u7) && void 0 !== h?h:0) < d.S2a)){w=null !== (m=u.wb) && void 0 !== m?m:Infinity;t=null !== (n=t.wb) && void 0 !== n?n:Infinity;if(!(t < d.z7b || t < d.y7b && u.bitrate < d.maxBitrate || !w && u.bitrate < d.U6b))break;}}return k.slice(0,q);}return k;};return f;})();b.zva=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.daa=b.J9=void 0;c=a(30);b.J9={Dm:function(f){return f.filter(function(k){return k.uv && !k.VB;});}};b.daa={Dm:function(f){return (f=c.vg(f,function(k){return ! !k.uv && !k.VB;}))?[f]:[];}};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.VD=void 0;c=a(378);r=(function(){function f(k,l){void 0 === l && (l=!1);this.Kob=l;this.filters=[];Array.isArray(k)?k.forEach(this.and.bind(this)):this.and(k);}f.prototype.and=function(k){k !== c.MD && this.filters.push({filter:k,gPa:!0});return this;};f.prototype.or=function(k){this.filters.push({filter:k,gPa:!1});return this;};f.prototype.Dm=function(k,l){return this.filters.reduce(function(d,g){g.gPa?d=g.filter.Dm(d,l):0 === d.length && (d=g.filter.Dm(k,l));return d;},k);};return f;})();b.VD=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.eaa=void 0;b.eaa={Dm:function(a){return [a[0]];}};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jF=b.iF=void 0;c=a(95);b.iF=function(f,k){k && (null === f || void 0 === f?0:f.$Va) && (k=new c.VD(k).or(c.MD));return new c.VD(c.J9).and(null !== k && void 0 !== k?k:c.MD).or(c.daa).or(c.eaa);};b.jF=function(f,k){k && f.$Va && (k=new c.VD(k).or(c.MD));return new c.VD(c.J9).and(new c.Cva(f)).and(new c.Ava(f)).and(new c.lva(f)).and(new c.Eva(f)).and(f.s2?new c.zva(f):c.MD).and(null !== k && void 0 !== k?k:c.MD).or(c.daa).or(c.eaa);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(2);r.__exportStar(a(777),b);r.__exportStar(a(382),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ava=void 0;c=a(2);r=(function(f){function k(l,d){l=f.call(this,k.Tyb(l,d)) || this;l.Qgb=d;l.name="AggregateError";return l;}c.__extends(k,f);k.Tyb=function(l,d){return d.reduce(function(g,h){return g + "\n" + h;},l);};Object.defineProperties(k.prototype,{x2:{get:function(){return this.Qgb;},enumerable:!1,configurable:!0}});return k;})(Error);b.ava=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ieb=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.Qe,segments:a.cub(c.xa)},void 0 !== c.Zd?{transitionType:c.Zd}:{});};a.encode=function(c){return Object.assign({Qe:c.initialSegment,xa:a.Iwb(c.segments)},void 0 !== c.transitionType?{Zd:c.transitionType}:{});};a.Iwb=function(c){return Object.keys(c).reduce(function(f,k){f[k]=a.Hwb(c[k]);return f;},{});};a.Hwb=function(c){return Object.assign({aa:c.viewableId,jc:c.startTimeMs},c.endTimeMs?{Fc:c.endTimeMs}:{},c.defaultNext?{Gh:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Zd:c.transitionType}:{},c.next?{next:a.Fwb(c.next)}:{},c.exitZones?{Uq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{});};a.Fwb=function(c){return Object.keys(c).reduce(function(f,k){f[k]=a.Gwb(c[k]);return f;},{});};a.Gwb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Zd:c.transitionType}:{});};a.cub=function(c){return Object.keys(c).reduce(function(f,k){f[k]=a.bub(c[k]);return f;},{});};a.bub=function(c){return Object.assign({viewableId:c.aa,startTimeMs:c.jc},c.Fc?{endTimeMs:c.Fc}:{},c.Gh?{defaultNext:c.Gh}:{},c.weight?{weight:c.weight}:{},c.Zd?{transitionType:c.Zd}:{},c.next?{next:a.$tb(c.next)}:{},c.Uq?{exitZones:c.Uq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{});};a.$tb=function(c){return Object.keys(c).reduce(function(f,k){f[k]=a.aub(c[k]);return f;},{});};a.aub=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Zd?{transitionType:c.Zd}:{});};return a;})();},function(r,b,a){var l;function c(d){return Object.keys(d.segments).some(function(g){var h,m;return (null === (h=d.segments[g].ui) || void 0 === h?void 0:h.interactionZones) || (null === (m=d.segments[g].ui) || void 0 === m?void 0:m.interactionZonesV2);});}function f(d){return Object.keys(d).reduce(function(g,h){var m,n;m=d[h];n=m.weight;m=m.transitionType || m.transitionHint;h=g[h]={};void 0 !== n && (h.weight=n);m && (h.Zd=m);return g;},{});}function k(d){var g,h;g=Object.keys(d);h=g.length;return h?g.reduce(function(m,n){return m + (d[n].weight || 0);},0) / h:void 0;}Object.defineProperty(b,"__esModule",{value:!0});l=a(225);b.sB=function(d,g){var h,m,n,q,p,t;h=void 0 === g?{}:g;g=h.Fd;m=h.Qe;n=h.xa;h=h.config;q=!(!h || -1 === h.oja.indexOf(d.viewableId));p=c(d)?0:(null === h || void 0 === h?void 0:h.nja) || 0;h=new l.RD();t=n || d.segments;h.EW(null !== m && void 0 !== m?m:d.initialSegment).U3a(null !== g && void 0 !== g?g:d.mediaTypes).zsa(q?"immediate":d.transitionType).Y3a(Object.keys(t).reduce(function(u,w){var v,x,y,z,A;v=t[w];z=v.weight;if(null === z || void 0 === z)z=v.next && (q || (null === (x=v.exitZones) || void 0 === x?0:x.length))?k(v.next):void 0;x=v.exitZones;if(null === x || void 0 === x)a:{if(q && v.endTimeMs){x=v.endTimeMs - v.startTimeMs;b:{if(v.ui){A=v.ui.interactionZones;if((null === A || void 0 === A?0:A.length) && A[0].length){A=A[0][0] - v.startTimeMs;break b;}A=v.ui.interactionZonesV2;if((null === A || void 0 === A?0:A.length) && A[0].length){A=A[0][0];break b;}}A=void 0;}if(A && A < x){x=[[A,x]];break a;}if(p && x > p){x=[[x - p,x]];break a;}}x=void 0;}A=v.transitionHint || (!q || p || x?void 0:"lazy");z={aa:d.viewableId,jc:v.startTimeMs,Fc:(y=v.endTimeMs,null !== y && void 0 !== y?y:Infinity),Zd:A,Uq:x,weight:z};v.defaultNext && (z.Gh=v.defaultNext);v.next && (z.next=f(v.next));u[w]=z;return u;},{}));return h.Aj();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(225);b.mH=function(f,k,l){var d;d=new c.RD();d.EW(k).zsa("lazy").U3a(l).Gn(k,{aa:f,jc:0,Fc:Infinity});return d.Aj();};},function(r,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.OBa=void 0;c=a(2);f=a(16);k=a(226);l=a(380);r=c.__importDefault(a(5));d=a(809);r=new r.default.Console("ASEJS","media|asejs");r.trace.bind(r);g=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];r=(function(h){function m(n,q){var p;p=h.call(this) || this;p.I=n;p.Qg=new d.QAa(n,q);n.QS && p.jPa(q);p.zg=new f.yh();g.forEach(function(t){p.zg.on(p.Qg,t,function(u){return p.emit(t,u);});p.oo && p.zg.on(p.oo,t,function(u){return p.emit(t,u);});});return p;}c.__extends(m,h);Object.defineProperties(m.prototype,{Hb:{get:function(){return this.Qg.Hb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Om:{get:function(){return this.Qg.Om;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{St:{get:function(){return this.Qg.St;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Hz:{get:function(){return this.Qg.Hz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ama:{get:function(){return this.Qg.Ama;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{RC:{get:function(){return this.Qg.RC;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{nf:{get:function(){return this.Qg.nf;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mh:{get:function(){return this.Qg.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Dla:{get:function(){return this.Qg.Dla;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{AU:{get:function(){return this.Qg.AU.bind(this.Qg);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{c3:{get:function(){return this.Qg.c3.bind(this.Qg);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{m1:{get:function(){var n;n=this;return function(){n.xra();n.Qg.m1();};},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Tfa:{get:function(){var n;n=this;return function(){n.xra();n.Qg.Tfa();};},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Mx:{get:function(){var n;n=this;return function(){n.xra();n.Qg.Mx();};},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ap:{get:function(){var n;n=this;return function(q,p,t){var u;null === (u=n.nf) || void 0 === u?void 0:u.ap(q,p,t);};},enumerable:!1,configurable:!0}});m.prototype.jPa=function(n){return this.oo=new (a(933).IGa)(this.I,this.Mx,this.ap,n);};m.prototype.nb=function(n,q,p,t,u,w,v,x){void 0 === v && (v=262144);void 0 === x && (x=1048576);this.Qg.nb(n,q,p,t,u,w);this.oo?this.oo.nb(n,q,p,t,u,w,v,x):this.FXa={Nmb:n,NYb:q,cv:p,Hz:t,RC:u,mJb:w,jfa:v,wua:x};};m.prototype.GW=function(n,q,p){this.Qg.GW(n,q,p);this.oo?this.oo.GW(n,q,p):this.KXa={bVb:n,Hz:q,RC:p};};m.prototype.createSession=function(n,q,p,t,u,w,v,x,y,z){var A,B,D,E,F;A=this;x || (x=this.Qg.config);if(x.QS && !this.oo){B=this.jPa(this.Qg.ZC);g.forEach(function(C){A.zg.on(A.oo,C,function(G){return A.emit(C,G);});});if(this.FXa){D=this.FXa;E=D.Hz;F=D.RC;B.nb(D.Nmb,D.NYb,D.cv,E,F,D.mJb,D.jfa,D.wua);}this.KXa && (F=this.KXa,D=F.bVb,E=F.Hz,F=F.RC,B.GW(D,E,F));}return this.oo && x && x.S8?(x.Gq || x.tG || this.Qg.Mx(),this.oo.createSession(n,q,p,t,u,w,v,x,y,z)):this.Qg.createSession(n,q,p,t,u,w,v,x,y,z);};m.prototype.addEventListener=function(n,q){this.addListener(n,q);return !0;};m.prototype.removeEventListener=function(n,q){this.removeListener(n,q);return !0;};m.prototype.zb=function(){var n;this.zg.clear();this.Qg.zb();null === (n=this.oo) || void 0 === n?void 0:n.zb();k.bI.reset();};m.prototype.xra=function(){var n,q;this.I.Gq || this.I.tG || (null === (n=this.oo) || void 0 === n?void 0:n.Pa.state) !== l.Nr.OPEN || (null === (q=this.oo) || void 0 === q?void 0:q.Pa.Ct.reset());};return m;})(f.EventEmitter);b.OBa=r;},function(r){function b(c,f,k,l){c.trace(":",k,":",l);f(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,f,k,l){k=l?k.bind(l):k;if(c){this.console && (k=b.bind(null,this.console,k,f));if("function" === typeof c.addListener)c.addListener(f,k);else if("function" === typeof c.addEventListener)c.addEventListener(f,k);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,k]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var k,l;k=f[0];l=f[1];f=f[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,f):"function" === typeof k.removeListener && k.removeListener(l,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){r.exports={oeb:a(787),c_b:a(788)};},function(r,b,a){function c(g){this.data=g;this.right=this.left=null;this.red=!0;}function f(g){this.Le=null;this.om=g;this.size=0;}function k(g){return null !== g && g.red;}function l(g,h){var m;m=g.Og(!h);g.$p(!h,m.Og(h));m.$p(h,g);g.red=!0;m.red=!1;return m;}function d(g,h){g.$p(!h,l(g.Og(!h),!h));return l(g,h);}b=a(384);c.prototype.Og=function(g){return g?this.right:this.left;};c.prototype.$p=function(g,h){g?this.right=h:this.left=h;};f.prototype=new b();f.prototype.Gp=function(g){var h,m,n,q,p,t,u,w,v;h=!1;if(null === this.Le)(this.Le=new c(g),h=!0,this.size++);else {m=new c(void 0);n=0;q=0;p=null;t=m;u=null;w=this.Le;for(t.right=this.Le;;){null === w?(w=new c(g),u.$p(n,w),h=!0,this.size++):k(w.left) && k(w.right) && (w.red=!0,w.left.red=!1,w.right.red=!1);if(k(w) && k(u)){v=t.right === p;w === u.Og(q)?t.$p(v,l(p,!q)):t.$p(v,d(p,!q));}v=this.om(w.data,g);if(0 === v)break;q=n;n=0 > v;null !== p && (t=p);p=u;u=w;w=w.Og(n);}this.Le=m.right;}this.Le.red=!1;return h;};f.prototype.remove=function(g){var h,m,u,w,v;if(null === this.Le)return !1;h=new c(void 0);m=h;m.right=this.Le;for(var n=null,q,p=null,t=1;null !== m.Og(t);){u=t;q=n;n=m;m=m.Og(t);w=this.om(g,m.data);t=0 < w;0 === w && (p=m);if(!k(m) && !k(m.Og(t)))if(k(m.Og(!t)))(q=l(m,t),n.$p(u,q),n=q);else if(!k(m.Og(!t)) && (w=n.Og(!u),null !== w))if(k(w.Og(!u)) || k(w.Og(u))){v=q.right === n;k(w.Og(u))?q.$p(v,d(n,u)):k(w.Og(!u)) && q.$p(v,l(n,u));u=q.Og(v);u.red=!0;m.red=!0;u.left.red=!1;u.right.red=!1;}else (n.red=!1,w.red=!0,m.red=!0);}null !== p && (p.data=m.data,n.$p(n.right === m,m.Og(null === m.left)),this.size--);this.Le=h.right;null !== this.Le && (this.Le.red=!1);return null !== p;};r.exports=f;},function(r,b,a){function c(k){this.data=k;this.right=this.left=null;}function f(k){this.Le=null;this.om=k;this.size=0;}b=a(384);c.prototype.Og=function(k){return k?this.right:this.left;};c.prototype.$p=function(k,l){k?this.right=l:this.left=l;};f.prototype=new b();f.prototype.Gp=function(k){if(null === this.Le)return (this.Le=new c(k),this.size++,!0);for(var l=0,d=null,g=this.Le;;){if(null === g)return (g=new c(k),d.$p(l,g),ret=!0,this.size++,!0);if(0 === this.om(g.data,k))return !1;l=0 > this.om(g.data,k);d=g;g=g.Og(l);}};f.prototype.remove=function(k){var l,d,n;if(null === this.Le)return !1;l=new c(void 0);d=l;d.right=this.Le;for(var g=null,h=null,m=1;null !== d.Og(m);){g=d;d=d.Og(m);n=this.om(k,d.data);m=0 < n;0 === n && (h=d);}return null !== h?(h.data=d.data,g.$p(g.right === d,d.Og(null === d.left)),this.Le=l.right,this.size--,!0):!1;};r.exports=f;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.QCa=void 0;c=a(30);f=a(6);r=(function(){function k(){this.data={};}Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{size:{get:function(){var l;l=this;return Object.keys(this.data).reduce(function(d,g){return d + l.data[g].length;},0);},enumerable:!1,configurable:!0}});k.prototype.get=function(l){var d;return null !== (d=this.data[l]) && void 0 !== d?d:[];};k.prototype.has=function(l,d){return (l=this.data[l])?void 0 === d?!0:-1 !== l.indexOf(d):!1;};k.prototype.count=function(l){return (l=this.data[l])?l.length:0;};k.prototype.keys=function(){return Object.keys(this.data);};k.prototype.values=function(){var l;l=this;return c.flatten(this.keys().map(function(d){return l.data[d];}));};k.prototype.set=function(l,d){(this.data[l] || (this.data[l]=[])).push(d);return this;};k.prototype.clear=function(){this.data={};};k.prototype.delete=function(l,d){var g,h;g=this.data[l];if(void 0 === g)return !1;if(void 0 === d)return (f.assert(1 === arguments.length),delete this.data[l],!0);h=g.indexOf(d);if(-1 === h)return !1;1 === g.length?delete this.data[l]:g.splice(h,1);return !0;};k.prototype.forEach=function(l,d){var g;g=this;l=void 0 !== d?l.bind(d):l;this.keys().forEach(function(h){return g.data[h].forEach(function(m){return l(m,h,g);});});};k.prototype.reduce=function(l,d,g){var h,m;h=this;l=void 0 !== g?l.bind(g):l;m=d;this.forEach(function(n,q){m=l(m,n,q,h);});return m;};k.prototype.map=function(l,d){var g;g=this;l=void 0 !== d?l.bind(d):l;return c.flatten(this.keys().map(function(h){return g.data[h].map(function(m){return l(m,h,g);});}));};k.prototype.filter=function(l,d){var g;g=this;l=void 0 !== d?l.bind(d):l;return c.flatten(this.keys().map(function(h){return g.data[h].filter(function(m){return l(m,h,g);});}));};return k;})();b.QCa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tSa=void 0;b.tSa=function(a,c){return a.filter(function(f){var k,l;f=null !== (l=null !== (k=f.Wi) && void 0 !== k?k:f.Iy) && void 0 !== l?l:f.Ug;return ! !f && f.zv(c);}).pop();};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.MGa=b.LGa=void 0;c=a(30);r=(function(){function f(k){this.G=k;this.listeners=[];this.pV=[];}Object.defineProperties(f.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});f.prototype.set=function(k){var l;this.G=k;l=this.pV;this.pV=[];this.listeners.forEach(function(d){return d(k);});l.forEach(function(d){return d(k);});};f.prototype.R2a=function(){this.G=void 0;};f.prototype.on=function(k){this.listeners=this.listeners.concat([k]);void 0 !== this.G && k(this.G);};f.prototype.once=function(k){void 0 !== this.G?k(this.G):this.pV.push(k);};f.prototype.uM=function(k){this.listeners=this.listeners.filter(function(l){return l !== k;});this.pV=this.pV.filter(function(l){return l !== k;});};return f;})();b.LGa=r;r=(function(){function f(){this.listeners=[];}f.prototype.on=function(k,l){this.listeners.push({signal:k,listener:l});k.on(l);};f.prototype.once=function(k,l){var d,g;d=this;if(void 0 === k.value){g=function(h){d.remove(k,l);l(h);};this.listeners.push({signal:k,listener:l,R7a:g});k.once(g);}else k.once(l);};f.prototype.uM=function(k,l){var d,g;g=c.vg(this.listeners,function(h){return h.signal === k && h.listener === l;});void 0 !== g && k.uM(null !== (d=g.R7a) && void 0 !== d?d:g.listener);this.remove(k,l);};f.prototype.removeAllListeners=function(){this.listeners.forEach(function(k){var l,d;l=k.listener;d=k.R7a;return k.signal.uM(null !== d && void 0 !== d?d:l);});this.listeners=[];};f.prototype.remove=function(k,l){this.listeners=this.listeners.filter(function(d){return d.signal !== k || d.listener !== l;});};return f;})();b.MGa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$Wa=void 0;b.$Wa=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jQa=void 0;b.jQa=function(a){return JSON.parse(JSON.stringify(a));};},function(r,b,a){var f;function c(k,l,d){var g,m,n;if(k === l || !d.WC && k == l)return !0;if(typeof k !== typeof l)return !1;if(k && "object" === typeof k){for(var h in k){if(!c(k[h],l[h],d))return !1;}if(!d.ipb){m=Object.keys(k);n=Object.keys(l).filter(function(u){return 0 > m.indexOf(u);});try{for(var q=f.__values(n),p=q.next();!p.done;p=q.next()){if((h=p.value,!c(k[h],l[h],d)))return !1;}}catch(u){var t;t={error:u};}finally{try{p && !p.done && (g=q.return) && g.call(q);}finally{if(t)throw t.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.gub=void 0;f=a(2);b.gub=function(k,l,d){void 0 === d && (d={});d=f.__assign({WC:!1,ipb:!1},d);return c(k,l,d);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OZ=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.Ca=NaN;}Object.defineProperties(a.prototype,{pr:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Ca=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Ca+=(c - this.Ca) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Ca};};return a;})();b.OZ=r;},function(r,b,a){var f;function c(k){this.lN=new Uint16Array(k.length);for(var l=0;l < k.length;++l){this.lN[l]=k.charCodeAt(l);}}f=new (a(5).default.Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(k){var l;l=this.lN.length;if(void 0 === this.lN)f.warn("XORCiper.encrypt is called with undefined secret!");else {for(var d="",g=0;g < k.length;++g){d+=String.fromCharCode(this.lN[g % l] ^ k.charCodeAt(g));}return encodeURIComponent(d);}};c.prototype.decrypt=function(k){var l,d;l="";d=this.lN.length;k=decodeURIComponent(k);for(var g=0;g < k.length;g++){l+=String.fromCharCode(this.lN[g % d] ^ k.charCodeAt(g));}return l;};r.exports=c;},function(r){function b(a,c){this.Ca=a;this.Ai=c;}b.prototype.cqa=function(a){var c,f,k,l,g,h;c=this.Ca;f=Math.sqrt(2 * this.Ai);a*=2;if(2 <= a)a=-100;else if(0 >= a)a=100;else {k=1 > a?a:2 - a;l=Math.sqrt(-2 * Math.log(k / 2));l=-.70711 * ((2.30753 + .27061 * l) / (1 + l * (.99229 + .04481 * l)) - l);for(var d=0;2 > d;d++){g=Math.abs(l);h=1 / (1 + g / 2);g=h * Math.exp(-g * g - 1.26551223 + h * (1.00002368 + h * (.37409196 + h * (.09678418 + h * (-.18628806 + h * (.27886807 + h * (-1.13520398 + h * (1.48851587 + h * (-.82215223 + .17087277 * h)))))))));g=(0 <= l?g:2 - g) - k;l+=g / (1.1283791670955126 * Math.exp(-(l * l)) - l * g);}a=1 > a?l:-l;}return c - f * a;};r.exports=b;},function(r,b,a){var k,l,d,g;function c(h,m,n){k.call(this,h,m,n);}function f(h,m){l.call(this,new c(h,m,!1));}k=a(799);l=a(800);d=a(110).pzb;g=a(110).PCb;c.prototype=Object.create(k.prototype);c.prototype.Ca=function(){return Math.floor(8 * d(this.Bd) / this.sd);};c.prototype.Ai=function(){return Math.floor(64 * g(this.Bd) / (this.sd * this.sd));};c.prototype.get=function(){return {Ca:this.Ca(),Ai:this.Ai(),D4b:this.Bd.length};};c.prototype.toString=function(){return "bsw(" + this.SJ + "," + this.sd + "," + this.xj + ")";};f.prototype=Object.create(l.prototype);f.prototype.setInterval=function(h){this.iJ.setInterval(h);};r.exports=f;},function(r){function b(a,c,f){this.SJ=a;this.xj=Math.floor((a + c - 1) / c);this.sd=c;this.Ejb=f;this.reset();}b.prototype.shift=function(){this.Bd.shift();this.Dh.shift();};b.prototype.update=function(a,c){this.Bd[a]+=c;};b.prototype.push=function(a){this.Bd.push(0);this.Dh.push(a?a:0);this.jb+=this.sd;};b.prototype.add=function(a,c,f,k){var l,d;if(null === this.jb){l=Math.max(Math.floor((f - c + this.sd - 1) / this.sd),1);for(this.jb=c;this.Bd.length < l;){this.push(k);}}for(;this.jb < f;){if((this.push(k),this.Ejb))for(;1 < this.Bd.length && f + k - (this.jb - this.sd * this.Bd.length + this.Dh[0]) > this.SJ;){this.shift();}else this.Bd.length > this.xj && this.shift();}if(c > this.jb - this.sd)this.update(this.Bd.length - 1,a);else if(c == f)(k=this.Bd.length - Math.max(Math.ceil((this.jb - f) / this.sd),1),0 <= k && this.update(k,a));else for(k=1;k <= this.Bd.length;++k){l=this.jb - k * this.sd;d=l + this.sd;if(!(l > f)){if(d < c)break;this.update(this.Bd.length - k,Math.round(a * (Math.min(d,f) - Math.max(l,c)) / (f - c)));}}for(;this.Bd.length > this.xj;){this.shift();}};b.prototype.reset=function(){this.Bd=[];this.Dh=[];this.jb=null;};b.prototype.setInterval=function(a){this.xj=Math.floor((a + this.sd - 1) / this.sd);};r.exports=b;},function(r){function b(a){this.iJ=a;this.ye=0;this.OJ=null;}b.prototype.add=function(a,c,f){null !== this.OJ && c > this.OJ && (this.ye+=c - this.OJ,this.OJ=null);this.iJ.add(a,c - this.ye,f - this.ye,this.ye);};b.prototype.stop=function(a){null === this.OJ && (this.OJ=a);};b.prototype.eqa=function(a,c){return this.iJ.eqa(a,c);};b.prototype.get=function(){return this.iJ.get();};b.prototype.reset=function(){this.iJ.reset();};b.prototype.toString=function(){return this.iJ.toString();};r.exports=b;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p;function c(t){this.Cgb=t;}b=a(387);f=b.Z$a;k=b.X$a;l=a(229).Y$a;d=a(229).qfb;g=a(388);h=a(389);m=a(390).tHa;n=a(802);q=a(803);p=a(174);c.prototype.constructor=c;c.prototype.create=function(t,u){var w,v,x,y;w=this.Cgb[t];v=u[t];x={};w && Object.keys(w).forEach(function(z){x[z]=w[z];});v && Object.keys(v).forEach(function(z){x[z]=v[z];});switch(x.type){case "slidingwindow":y=new l(x.mw);break;case "discontiguous-ewma":y=new k(x.mw);break;case "wssl":y=new d(x.mw,x.max_n);break;case "iqr":y=new g(x.mx,x.mn,x.bw,x.iv);break;case "tdigest":y=new h(x);break;case "discrete-ewma":y=new f(x.hl);break;case "tdigest-history":y=new m(x);break;case "iqr-history":y=new n(x);break;case "avtp":y=new p();break;case "entropy":y=new q(x);}y && (y.type=x.type);return y;};r.exports=c;},function(r,b,a){var f;function c(){this.uj=void 0;this.XA=0;}f=a(10);c.prototype.getState=function(){return 0 !== this.XA && this.uj?{p25:this.uj.kl,p50:this.uj.Mj,p75:this.uj.ll,c:this.XA}:null;};c.prototype.Fe=function(k){if(!(!f.tb(k) && f.has(k,"p25") && f.has(k,"p50") && f.has(k,"p75") && f.has(k,"c") && f.isFinite(k.p25) && f.isFinite(k.p50) && f.isFinite(k.p75) && f.isFinite(k.c)))return (this.uj=void 0,this.XA=0,!1);this.uj={kl:k.p25,Mj:k.p50,ll:k.p75};this.XA=k.c;};c.prototype.get=function(){return {J6:this.uj,jN:this.XA};};c.prototype.set=function(k,l){this.uj=k;this.XA=l;};c.prototype.reset=function(){this.uj=void 0;this.XA=0;};c.prototype.toString=function(){return "IQRHist(" + this.uj + "," + this.XA + ")";};r.exports=c;},function(r,b,a){var f;function c(k){var l,d;l=k.sw;d=k.mw;this.RJ=l;this.kca={uhd:k.uhdl,hd:k.hdl};this.xj=Math.max(Math.ceil(1 * l / d),1);this.hib=k.mins || 1;f.call(this,l,d);this.reset();}f=a(145);new (a(5).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(f.prototype);c.prototype.flush=function(){this.Bd.map(function(k,l){this.cMa(k,this.Aja(l));},this);};c.prototype.iob=function(){var k,l,d,g,h,m,n,u;k=this.kca;for(l in k){if(k.hasOwnProperty(l)){d=k[l];g=this.gea[l];h=this.fea[l];if(g.first){m=g.first;n=g.LG;void 0 !== n && (h[m][n]+=1);g.first=void 0;}g=[];m=0;d=n=d.length + 1;for(var q=0;q < n;q++){for(var p=0,t=0;t < d;t++){p+=h[t][q];}m+=p;g.push(p);}p=-1;if(m > this.hib){for(q=p=0;q < n;q++){if(0 < g[q])for(t=0;t < d;t++){u=h[t][q];0 < u && (p-=u * Math.log(1 * u / g[q]));}}p/=m * Math.log(2);}this.Jca[l]=p;}}return this.Jca;};c.prototype.cMa=function(k,l){var m,n;for(var d=this.xj,g=this.kca;this.y_.length >= d;){this.y_.shift();}for(;this.z_.length >= d;){this.z_.shift();}this.y_.push(k);this.z_.push(l);k=this.y_.reduce(function(q,p){return q + p;},0);l=this.z_.reduce(function(q,p){return q + p;},0);if(0 < l){k=8 * k / l;for(var h in g){if(g.hasOwnProperty(h)){l=this.gea[h];d=this.fea[h];m=this.xPb(k,g[h]);n=l.LG;void 0 !== n?d[m][n]+=1:l.first=m;l.LG=m;}}}};c.prototype.xPb=function(k,l){for(var d=0;d < l.length && k > l[d];){d+=1;}return d;};c.prototype.shift=function(){this.cMa(this.Bd[0],this.Aja(0));f.prototype.shift.call(this);};c.prototype.reset=function(){var k,l,d,g,h,m,n;this.gea={};this.y_=[];this.z_=[];this.fea={};this.Jca={};k=this.kca;for(l in k){if(k.hasOwnProperty(l)){d=this.fea;g=l;m=void 0;n=Array(m);m=h=k[l].length + 1;for(var q=0;q < m;q++){n[q]=Array(h);for(var p=0;p < h;p++){n[q][p]=0;}}d[g]=n;this.gea[l]={first:void 0,LG:void 0};this.Jca[l]=0;}}f.prototype.reset.call(this);};r.exports=c;},function(r,b,a){var f,k;function c(l){this.I=l;this.HQ();}f=a(10);k=a(5).default;new k.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var l;l=this.getState();k.storage.set("nh",l);};c.prototype.FUb=function(){this.HE || (this.HE=!0,this.nx=k.time.ba());};c.prototype.PUb=function(){var l;if(this.HE){l=k.time.ba();this.sx+=l - this.nx;this.nx=l;this.HE=!1;this.GQ=null;}};c.prototype.HWa=function(l,d){this.HE && (d > this.nx && (this.sx+=d - this.nx,this.nx=d),null === this.GQ || l > this.GQ) && (l=d - l,this.vJ.push([this.sx - l,l]),this.zkb(),this.GQ=d);};c.prototype.zkb=function(){var l;l=this.sx - this.I.xKb;this.vJ=this.vJ.filter(function(d){return d[0] > l;});};c.prototype.HQ=function(){var l;l=k.storage.get("nh");this.Xda(l) || (this.nx=k.time.ba(),this.sx=0,this.HE=!1,this.GQ=null,this.vJ=[]);};c.prototype.Xda=function(l){if(!(l && f.has(l,"t") && f.has(l,"s") && f.has(l,"i") && f.ya(l.t) && f.ya(l.s) && f.isArray(l.i)))return !1;this.nx=k.time.Poa(1E3 * l.t);this.sx=1E3 * l.s;this.HE=!1;this.vJ=l.i.map(function(d){return [1E3 * d[0],d[1]];});this.GQ=null;return !0;};c.prototype.getState=function(){return this.HE?{t:k.time.now() / 1E3 | 0,s:(this.sx + (k.time.ba() - this.nx)) / 1E3 | 0,i:this.vJ.map(function(l){return [l[0] / 1E3 | 0,l[1]];})}:{t:k.time.uoa(this.nx) / 1E3 | 0,s:this.sx / 1E3 | 0,i:this.vJ.map(function(l){return [l[0] / 1E3 | 0,l[1]];})};};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Aya=void 0;r=a(2);c=a(806);new (r.__importDefault(a(5)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){function f(k){var F00;F00=2;for(;F00 !== 4;){switch(F00){case 2:var U3Q="1S";U3Q+="IY";U3Q+="bZr";U3Q+="NJCp9";this.Lla=k;this.ky={};U3Q;F00=4;break;}}}var E00;E00=2;for(;E00 !== 7;){switch(E00){case 2:f.prototype.reset=function(){var G00;G00=2;for(;G00 !== 1;){switch(G00){case 2:this.YC=new c.Jwa();G00=1;break;}}};f.prototype.bN=function(k,l){var H00;H00=2;for(;H00 !== 1;){switch(H00){case 2:l.Ih && (this.Lla?this.YC.start(k,l.Ih):1 === l.type && (this.ky[l.Ih]?this.ky[l.Ih].CX+=1:this.ky[l.Ih]={Ih:l.Ih,CX:1,J2:!1},this.H6a(k)));H00=1;break;}}};f.prototype.iW=function(k,l){var I00,d;I00=2;for(;I00 !== 9;){switch(I00){case 2:I00=l.Ih?1:9;break;case 1:I00=this.Lla?5:4;break;case 5:this.YC.stop(k,l.Ih);I00=9;break;case 4:d=this.ky[l.Ih];1 === l.type && d && (--d.CX,0 === d.CX && (d.J2 && this.YC.stop(k,l.Ih),d.J2=!1,delete this.ky[l.Ih]),this.H6a(k));I00=9;break;}}};f.prototype.Tu=function(k,l,d,g){var J00;J00=2;for(;J00 !== 1;){switch(J00){case 2:g.Ih && (this.Lla?this.YC.add(k,l,d,g.Ih):this.rR === g.Ih && this.YC.add(k,l,d,g.Ih));J00=1;break;}}};E00=3;break;case 3:f.prototype.Qs=function(){var K00;K00=2;for(;K00 !== 1;){switch(K00){case 2:return this.YC.get();break;}}};f.prototype.H6a=function(k){var L00,l,d;L00=2;for(;L00 !== 5;){switch(L00){case 2:(l=Object.keys(this.ky),d=this.ky[l[0]]);1 === l.length && !1 === d.J2?(this.YC.start(k,d.Ih),this.rR=d.Ih):1 < l.length && this.rR && (l=this.ky[this.rR],this.YC.stop(k,this.rR),l.J2=!1,this.rR=void 0);L00=5;break;}}};return f;break;}}})();b.Aya=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Jwa=void 0;c=a(2).__importDefault(a(174));r=(function(){function f(){var N00;N00=2;for(;N00 !== 5;){switch(N00){case 2:var K3Q="1";K3Q+="SIY";K3Q+="bZ";K3Q+="rNJCp9";this.g0={};K3Q;N00=5;break;}}}var M00;M00=2;for(;M00 !== 9;){switch(M00){case 2:f.prototype.add=function(k,l,d,g){var O00,h;O00=2;for(;O00 !== 4;){switch(O00){case 2:h=this.g0;void 0 === h[g] && (h[g]=new c.default());h[g].add(k,l,d);O00=4;break;}}};f.prototype.start=function(k,l){var P00,d;P00=2;for(;P00 !== 4;){switch(P00){case 2:d=this.g0;void 0 === d[l] && (d[l]=new c.default());d[l].start(k);P00=4;break;}}};f.prototype.stop=function(k,l){var Q00,d;Q00=2;for(;Q00 !== 5;){switch(Q00){case 2:d=this.g0;void 0 !== d[l] && d[l].stop(k);Q00=5;break;}}};f.prototype.get=function(){var R00,k,l,d,g,h,m;R00=2;for(;R00 !== 8;){switch(R00){case 2:(k=this.g0,l=Object.keys(k),d=[],g=0);R00=1;break;case 5:(h=l[g],m=k[h].get());m && d.push({cdnid:h,avtp:m.Ca,tm:m.BB});R00=3;break;case 1:R00=g < l.length?5:9;break;case 3:g++;R00=1;break;case 9:return d;break;}}};M00=3;break;case 3:return f;break;}}})();b.Jwa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.BDa=void 0;c=a(2).__importDefault(a(174));r=(function(){var S00;S00=2;function f(k){var T00;T00=2;for(;T00 !== 7;){switch(T00){case 4:var Q3Q="1SIYbZr";Q3Q+="N";Q3Q+="JC";Q3Q+="p";Q3Q+="9";Q3Q;this.E6=k.E6;this.spa=[new c.default(),new c.default()];this.g0a=new c.default();T00=7;break;case 2:this.lW=[0,0];this.Dg=[0,0];this.vV=[0,0];T00=4;break;}}}for(;S00 !== 3;){switch(S00){case 2:f.prototype.reset=function(){var U00;U00=2;for(;U00 !== 4;){switch(U00){case 2:this.lW=[0,0];this.Dg=[0,0];this.vV=[0,0];U00=4;break;}}};f.prototype.Tu=function(k,l,d,g){var V00,h,m;V00=2;for(;V00 !== 8;){switch(V00){case 5:V00=(null === (h=g.VG) || void 0 === h?0:h.N4())?4:3;break;case 4:(this.lW[g.type]+=k,this.g0a.add(k,l,d),this.spa[g.type].add(k,l,d));V00=3;break;case 2:this.Dg[g.type]+=k;V00=5;break;case 9:this.vV[g.type]+=k;V00=8;break;case 3:V00=(null === (m=g.VG) || void 0 === m?0:m.OYa(k,l,d,this.E6))?9:8;break;}}};f.prototype.z3=function(){var W00;W00=2;for(;W00 !== 1;){switch(W00){case 2:return {bytesRequestedPacingVideo:this.lW[1],bytesRequestedPacingAudio:this.lW[0],bytesPacedVideo:this.vV[1],bytesPacedAudio:this.vV[0],bytestotalVideo:this.Dg[1],bytestotalAudio:this.Dg[0],pacedAvtpVideo:this.spa[1].get().Ca,pacedAvtpAudio:this.spa[0].get().Ca,pacedAvtp:this.g0a.get().Ca};break;}}};S00=4;break;case 4:return f;break;case 14:return f;break;S00=3;break;}}})();b.BDa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vAa=void 0;c=a(2).__importDefault(a(174));r=(function(){var X00;function f(k){var Y00;Y00=2;for(;Y00 !== 9;){switch(Y00){case 3:this.YIb=k?k:10;Y00=9;break;case 2:var m3Q="1";m3Q+="SIYbZr";m3Q+="NJ";m3Q+="Cp9";this.VN=[0,0];this.dU=[0,0];this.WF=new c.default();m3Q;Y00=3;break;}}}X00=2;for(;X00 !== 9;){switch(X00){case 12:return f;break;X00=9;break;case 3:return f;break;case 2:f.prototype.reset=function(){var Z00;Z00=2;for(;Z00 !== 4;){switch(Z00){case 2:this.VN=[0,0];this.dU=[0,0];this.WF=new c.default();Z00=4;break;}}};f.prototype.Tu=function(k,l,d){var a10;a10=2;for(;a10 !== 1;){switch(a10){case 2:this.VN[1] + this.VN[0] <= this.YIb && (this.dU[1]=this.VN[1],this.dU[0]=this.VN[0],this.WF.add(k,l,d));a10=1;break;}}};f.prototype.HEb=function(k){var b10;b10=2;for(;b10 !== 1;){switch(b10){case 4:--this.VN[k];b10=5;break;b10=1;break;case 2:++this.VN[k];b10=1;break;}}};f.prototype.r3=function(){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:return {WF:this.WF.get().Ca,BB:this.WF.get().BB,wWa:this.dU[0],xWa:this.dU[1]};break;}}};X00=3;break;}}})();b.vAa=r;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w;Object.defineProperties(b,{__esModule:{value:!0}});b.QAa=void 0;c=a(2);f=c.__importStar(a(10));r=a(16);k=c.__importDefault(a(27));l=c.__importDefault(a(810));d=c.__importDefault(a(5));g=a(172);h=a(226);c.__importDefault(a(228));m=c.__importDefault(a(811));a(391);n=a(6);q=a(814);p=a(918);t=new d.default.Console("ASEJS","media|asejs");u=t.trace.bind(t);w=t.warn.bind(t);r=(function(v){var d10;function x(y,z){var e10,A;e10=2;for(;e10 !== 13;){switch(e10){case 2:var V3Q="D";V3Q+="EBU";V3Q+="G";V3Q+=":";var o3Q="nf-a";o3Q+="se ";o3Q+="version:";A=v.call(this) || this;A.config=y;A.ZC=z;y=a(432);u(o3Q,y,V3Q,!1);e10=9;break;case 9:var O3Q="1";O3Q+="SIYbZ";O3Q+="rNJCp9";A.dda=!1;A.njb=!1;A.CE=[];O3Q;e10=14;break;case 14:return A;break;}}}d10=2;for(;d10 !== 26;){switch(d10){case 4:Object.defineProperties(x.prototype,{St:{get:function(){var h10;h10=2;for(;h10 !== 1;){switch(h10){case 2:return this.Uda;break;case 4:return this.Uda;break;h10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Hz:{get:function(){var i10;i10=2;for(;i10 !== 1;){switch(i10){case 4:return this.q0;break;i10=1;break;case 2:return this.q0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ama:{get:function(){var j10;j10=2;for(;j10 !== 1;){switch(j10){case 2:return !f.fa(this.nLa);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{RC:{get:function(){var k10;k10=2;for(;k10 !== 1;){switch(k10){case 2:return this.jLa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{nf:{get:function(){var l10;l10=2;for(;l10 !== 1;){switch(l10){case 4:return this.Gu;break;l10=1;break;case 2:return this.Gu;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{mh:{get:function(){var m10;m10=2;for(;m10 !== 1;){switch(m10){case 4:return this.n_.mh;break;m10=1;break;case 2:return this.n_.mh;break;}}},enumerable:!1,configurable:!0}});d10=14;break;case 14:Object.defineProperties(x.prototype,{Dla:{get:function(){var n10;n10=2;for(;n10 !== 1;){switch(n10){case 4:return this.njb;break;n10=1;break;case 2:return this.njb;break;}}},enumerable:!1,configurable:!0}});x.prototype.nb=function(y,z,A,B,D,E){var o10,F,C;o10=2;for(;o10 !== 11;){switch(o10){case 9:this.jLa=D;l.default(C);this.n_=h.bI.BUa(C,this.ZC);this.Uda=new m.default(C);o10=14;break;case 14:o10=C.g7a || C.mua?13:12;break;case 12:this.dda=!0;o10=11;break;case 2:(F=this,C=this.config);h.bI.reset();0 < C.jt && (!f.fa(y) && y > C.jt && (y=C.jt),z > C.jt && (z=C.jt));f.fa(y) && (this.nLa=z);this.q0=B;o10=9;break;case 13:var c3Q="m";c3Q+="e";c3Q+="diacache";var M3Q="c";M3Q+="ac";M3Q+="heEvict";var W3Q="fl";W3Q+="ush";W3Q+="edBy";W3Q+="tes";var t3Q="discarde";t3Q+="dByte";t3Q+="s";var B3Q="pre";B3Q+="buffs";B3Q+="tats";(z=new p.Gza(this,C,A,E),y=function(G){var q10;q10=2;for(;q10 !== 1;){switch(q10){case 2:F.emit(G.type,G);q10=1;break;}}},z.addListener(B3Q,y),z.addListener(t3Q,y),z.addListener(W3Q,y),z.addListener(M3Q,y),(C.pua || C.oua) && z.addListener(c3Q,function(G){var r10;r10=2;for(;r10 !== 1;){switch(r10){case 2:var u3Q="medi";u3Q+="a";u3Q+="cac";u3Q+="he";F.emit(u3Q,G);r10=1;break;case 4:F.emit("",G);r10=8;break;r10=1;break;}}}),this.Gu=z);o10=12;break;}}};x.prototype.GW=function(y,z,A){var s10;s10=2;for(;s10 !== 4;){switch(s10){case 2:this.nLa=y;this.q0=z || 0;this.jLa=A || 0;s10=4;break;}}};x.prototype.createSession=function(y,z,A,B,D,E,F,C,G,J){var t10;t10=2;for(;t10 !== 4;){switch(t10){case 2:t10=this.dda?1:5;break;case 5:var d3Q="open: st";d3Q+="rea";d3Q+="mingManager not initted";w(d3Q);t10=4;break;case 1:return (C=C || this.config,this.Hb.reset(),this.Om.FUb(),this.Uda.reset(),void 0 === E && (E=this.c3(y,z)),f.fa(this.q0) && (this.q0=d.default.Rn()[k.default.Ra.Eb] <= C.UJb?0:C.fN),y=new q.HGa(this,y,J,z,A,B,D,E,F,C,G),this.CE.push(y),y);break;case 9:t10=this.dda?2:3;break;t10=this.dda?1:5;break;}}};d10=10;break;case 2:c.__extends(x,v);Object.defineProperties(x.prototype,{Hb:{get:function(){var f10;f10=2;for(;f10 !== 1;){switch(f10){case 2:return this.n_.Hb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Om:{get:function(){var g10;g10=2;for(;g10 !== 1;){switch(g10){case 2:return this.n_.Om;break;}}},enumerable:!1,configurable:!0}});d10=4;break;case 10:x.prototype.AU=function(y,z){var u10;u10=2;for(;u10 !== 1;){switch(u10){case 2:return this.Gu && (y=this.Gu.AU(y,z))?y:!1;break;}}};x.prototype.Ijb=function(y){var v10,z;v10=2;for(;v10 !== 4;){switch(v10){case 2:var v3Q="can't fin";v3Q+="d session in array";v3Q+=", mo";v3Q+="vieId:";this.Hb.vN(null);z=this.CE.indexOf(y);f.fa(z)?w(v3Q,y.pe.N.K):(this.CE.splice(z,1),0 === this.CE.length && this.Om.PUb(),this.Om.save(),this.mh.save());v10=4;break;}}};x.prototype.c3=function(y,z,A){var w10;w10=2;for(;w10 !== 1;){switch(w10){case 2:return g.oUa(y,z,A);break;case 4:return g.oUa(y,z,A);break;w10=1;break;}}};x.prototype.m1=function(){var x10,y;x10=2;for(;x10 !== 5;){switch(x10){case 2:null === (y=this.Gu) || void 0 === y?void 0:y.flush();x10=5;break;}}};d10=17;break;case 17:x.prototype.Tfa=function(){var y10,y;y10=2;for(;y10 !== 5;){switch(y10){case 2:null === (y=this.Gu) || void 0 === y?void 0:y.ASa();y10=5;break;}}};x.prototype.Mx=function(){var z10,y;z10=2;for(;z10 !== 5;){switch(z10){case 2:null === (y=this.Gu) || void 0 === y?void 0:y.Lub();z10=5;break;}}};x.prototype.zb=function(){var A10;A10=2;for(;A10 !== 6;){switch(A10){case 7:h.bI.reset();A10=6;break;case 4:delete this.Uda;delete this.ZC;this.Mx();delete this.Gu;A10=7;break;case 2:var p3Q="Attempted to destruct Manager b";p3Q+="efore ";p3Q+="all Sessions removed";n.assert(0 === this.CE.length,p3Q);this.dda=!1;delete this.n_;A10=4;break;}}};return x;break;}}})(r.EventEmitter);b.QAa=r;},function(r,b,a){var f,k,l,d;function c(g){var h;h=nrdp.ji.O8b.match(/android-(\d*)/);h?23 < h[1]?g.jta=!1:(h=nrdp.ji.U2b.zs.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),g.jta=h?6 < h[1] || 6 == h[1] && 1 < h[2] || 6 == h[1] && 1 == h[2] && 1 <= h[3]?!0:!1:!1):g.jta=!1;g.k8=!1;}f=a(6).assert;a(123);k=a(5).default;l=k.rq;d=k.Ecb;r.exports=function(){var g,h,m,n;g=new k.Console("ASEJSMONKEY","media|asejs");if(!k.rq.Yb){h=function(q){this.$hb=q;};m=d.prototype.appendBuffer;k.MediaSource.Yb || (k.MediaSource.Yb={});"undefined" !== typeof nrdp && nrdp.Q0 && (c(k.MediaSource.Yb,g),k.MediaSource.Yb.LOa=!1,k.MediaSource.Yb.QZa=!1);k.rq.Yb={oW:{f8a:!0,SP:!0,Pcb:!0}};Object.defineProperty(l.prototype,"_response",{get:function(){return this.rkb || this.Agb;},set:function(q){this.Agb=q;}});n=l.prototype.open;l.prototype.open=function(q,p,t,u,w,v,x){1 === t && (this.rkb=new h(this));return n.call(this,q,p,t,u,w,v,x);};l.prototype.aW=function(){this.JJ=void 0;};d.prototype.appendBuffer=function(q){if(q instanceof ArrayBuffer)return m.call(this,q);if(q instanceof h)return this.R0(q.$hb);f(!1);};}};},function(r,b,a){var k,l;function c(){this.ix=this.sQ=this.H_=this.V_=this.B_=null;}function f(d){this.I=d;this.ZA=[];this.Aq=new c();this.HQ();}k=a(10);a(27);a(9);l=a(5).default;new l.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Fe=function(d){var g;g=!1;d && k.has(d,"ens") && k.has(d,"lns") && k.has(d,"fns") && k.has(d,"d") && k.has(d,"t") && (this.B_=d.ens,this.V_=d.lns,this.H_=d.fns,this.sQ=d.d,this.ix=d.t,g=!0);return g;};c.prototype.getState=function(){var d;if(k.tb(this.B_) || k.tb(this.V_) || k.tb(this.H_) || k.tb(this.sQ) || k.tb(this.ix))return null;d={d:this.sQ,t:this.ix};d.ens=this.B_;d.lns=this.V_;d.fns=this.H_;return d;};c.prototype.get=function(){var d,g;d=this.getState();if(d){g=new Date(this.ix);d.dateint=1E4 * g.getFullYear() + 100 * (g.getMonth() + 1) + g.getDate();d.hour=g.getHours();}return d;};f.prototype.HQ=function(){var d;d=l.storage.get("sth");d && this.Fe(d);};f.prototype.Fe=function(d){var g,h;g=null;h=this.I;d.forEach(function(m){var n;n=new c();n.Fe(m)?(g=!0,this.ZA.push(n)):k.tb(g) && (g=!1);},this);this.ZA=this.ZA.filter(function(m){return m.sQ >= h.R5;});this.ZA.sort(function(m,n){return m.ix - n.ix;});return k.tb(g)?!0:g;};f.prototype.Wca=function(){var d;d=[];this.ZA.forEach(function(g){d.push(g.getState());},this);return d;};f.prototype.save=function(){var d,g,h;d=this.Wca();g=this.I;h=this.Aq.getState();h && h.d >= g.R5 && (d.push(h),this.ZA.push(this.Aq));d.length > g.v5 && (d=d.slice(d.length - g.v5,d.length));this.Aq=new c();d && l.storage.set("sth",d);};f.prototype.reset=function(){this.Aq=new c();};f.prototype.Vzb=function(){return this.Aq.get();};f.prototype.mCb=function(){return this.ZA.length + 1;};f.prototype.hlb=function(d){this.Aq.B_=d;this.Aq.ix=l.time.ba();};f.prototype.rlb=function(d){this.Aq.V_=d;this.Aq.ix=l.time.ba();};f.prototype.klb=function(d,g){this.Aq.H_=d;this.Aq.ix=l.time.ba();this.Aq.sQ=g;};r.exports=f;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yBa=void 0;r=(function(){function a(c,f,k){this.vkb=f;this.Vfb=k;this.H=c;}a.prototype.eqa=function(c){c=this.ZEb(c,this.vkb) + this.Vfb;return this.Kda=isNaN(c)?NaN:this.Csa(c);};a.prototype.Gpb=function(c){return isNaN(this.Kda)?0:this.Kda > c?1:0;};a.prototype.ZEb=function(c,f){var k;k=0;if(c.length !== f.length)k=NaN;else for(var l=0;l < c.length;l++){k+=c[l] * f[l];}return k;};a.prototype.Csa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.yBa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HP=void 0;r=(function(){function a(c){this.uj={};this.tda=c;this.Mf=[];this.Fq=!1;this.DE=void 0;}a.prototype.K0=function(c){this.Mf.length === this.tda && this.Mf.shift();Array.isArray(c)?this.Mf=this.Mf.concat(c):this.Mf.push(c);this.Fq=!0;};a.prototype.rL=function(){return this.Mf.length;};a.prototype.Ufa=function(){var c;c=this.Mf;return 0 < c.length?c.reduce(function(f,k){return f + k;},0) / this.Mf.length:void 0;};a.prototype.r1=function(){var c,f;c=this.Mf;f=this.Ufa();if(0 < c.length && "undefined" !== typeof f)return (c=c.reduce(function(k,l){return k + l * l;},0) / c.length,Math.sqrt(c - f * f));};a.prototype.ss=function(c){var f,k,l;if(this.Fq || void 0 === this.DE)(this.DE=this.Mf.slice(0).sort(function(d,g){return d - g;}),this.Fq=!1);if(void 0 === this.uj[c]){f=this.DE;k=Math.floor(c / 100 * (f.length - 1) + 1) - 1;l=(c / 100 * (f.length - 1) + 1) % 1;this.uj[c]=k === f.length - 1?f[k]:f[k] + l * (f[k + 1] - f[k]);}return this.uj[c];};return a;})();b.HP=r;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F,C,G,J,K,H,L,P,I;Object.defineProperties(b,{__esModule:{value:!0}});b.HGa=void 0;r=a(2);c=a(16);f=r.__importStar(a(10));k=a(144);l=a(815);d=a(172);g=a(15);h=a(221);m=a(243);n=a(244);q=a(860);p=a(861);t=r.__importDefault(a(5));u=t.default.MediaSource;w=a(9);v=a(6);x=a(173);y=a(409);z=a(863);A=a(864);B=a(410);r=a(43);D=a(865);E=a(866);F=a(411);C=a(901);G=a(423);J=a(908);K=a(428);H=a(914);L=a(915);P=a(916);I=a(917);a=(function(){var B10;B10=2;function O(N,M,Q,S,fa,qa,xa,ua,X,sa,T){var C10,R,Ua,ca,ja,Pa;C10=2;for(;C10 !== 74;){switch(C10){case 59:wa=M.N;this.Ga=new G.R9(this,this.ub,this.H,this.Yda.bind(this),wa,this.aB,this.I,this.Of,this.T,this.oT.bind(this));sa={BU:this.BU,sr:this.sr,dm:this.dm,KM:this.KM};this.qb=new K.ZGa(this.H,this.Zf,this.I,this.Zb.bind(this),this.T,sa,this.$b.Hb,this.ub,this.Of,this.Ga,Pa);C10=55;break;case 47:x.ww.instance().reset();M=l.kaa.create({Fb:0,sa:M,io:Q,s3a:S,Mg:! !qa.Mg,VWa:!1,Ji:! !qa.Ji,Fd:h.H5(! !qa.DR,! !qa.cD),X:0,Ea:qa.Ea,ub:this.ub,Xq:this.JJa.bind(this),Nb:this,config:this.I,H:this.H,Of:this.Of,$m:this.$m,nf:this.BLa?this.$b.nf:void 0,XB:this.XB});M.wR=!0;this.ud=[M];this.Zf=new J.bva(this,this.H,N,this.$b.Hb,sa,this.XL(),fa,this.Zb.bind(this),Pa);C10=63;break;case 10:this.NS=Pa.NS;this.Tq=Pa.Tq;this.$v=sa.$v;this.oi=new P.XAa(this,this.H,this.Zb.bind(this),Pa);this.tkb=[!qa.cD,!qa.DR];this.Zb(0) && this.Zb(1);C10=15;break;case 24:this.BLa=! !qa.g7a;this.Gkb=! !qa.mua;this.AJ=qa.BU;this.k0=void 0;C10=35;break;case 62:sa=sa.RDb;for(var wa in sa){Q=sa[wa];sa.hasOwnProperty(wa) && Q && (this.I[wa]=Q);}C10=60;break;case 35:this.T=new A.ova(X);C10=34;break;case 37:var N3Q="me";N3Q+="d";N3Q+="iac";N3Q+="ache";this.bi.on(this.$b.nf,N3Q,function(Va){var E10;E10=2;for(;E10 !== 1;){switch(E10){case 4:w.Ua(R,"",Va);E10=8;break;E10=1;break;case 2:var D3Q="m";D3Q+="ed";D3Q+="iacach";D3Q+="e";w.Ua(R,D3Q,Va);E10=1;break;}}});C10=36;break;case 76:this.T.addListener(function(Va){var F10,G10;F10=2;for(;F10 !== 1;){switch(F10){case 2:try{G10=2;for(;G10 !== 1;){switch(G10){case 2:Ua.qb.DXb.bind(Ua.qb)(Va);G10=1;break;}}}catch(cb){var X3Q="H";X3Q+="indsight: Error wh";X3Q+="en adding u";X3Q+="pda";X3Q+="tePlaySegment Listener: ";a000.r7Q(2);Ua.ub.Pm(a000.H7Q(X3Q,cb));}F10=1;break;}}});C10=75;break;case 38:C10=(sa.pua || sa.oua) && this.$b.nf?37:36;break;case 63:C10=sa.mia && this.Zf.J4?62:59;break;case 34:this.aB=fa || 0;this.BJ=0;this.gca=ua;this.w0=!1;C10=30;break;case 39:var q3Q="mana";q3Q+="gerdebugeve";q3Q+="nt";this.bi.on(this.$b.nf,q3Q,function(Va){var D10;D10=2;for(;D10 !== 1;){switch(D10){case 4:w.Ua(R,Va.type,Va);D10=8;break;D10=1;break;case 2:w.Ua(R,Va.type,Va);D10=1;break;}}});C10=38;break;case 4:var w3Q="m";w3Q+="edia";w3Q+="|asejs";var E3Q="A";E3Q+="S";E3Q+="E";E3Q+="J";E3Q+="S";var T3Q="1SIY";T3Q+="bZ";T3Q+="r";T3Q+="NJC";T3Q+="p9";this.XB={Hu:[Object.create(null),Object.create(null)]};T3Q;this.H=new t.default.Console(E3Q,w3Q,"(" + xa.sessionId + ")");this.bk=this.H.error.bind(this.H);this.Gb=this.H.warn.bind(this.H);this.um=this.H.trace.bind(this.H);C10=14;break;case 60:this.Zf.Zta(this.I);C10=59;break;case 36:ja && sa.MK && !sa.$vb && (sa.set?sa.set({enableAdaptiveParallelStreaming:!1}):sa.MK=!1);0 === Math.floor(1E6 * Math.random()) % sa.hB && (this.Qjb=new q.aGa(sa));this.Ku=[];this.qg=[];C10=51;break;case 2:R=this;this.Xw=new B.VFa();this.OIa=[];C10=4;break;case 51:this.E3a=new m.Z$(M,this.$b.Hb,this.$b.mh,this.I,void 0);N=this.E3a.uCb();fa=null;sa.RS && (fa=this.$b.St.ZA);C10=47;break;case 40:C10=sa.Hh && this.$b.nf?39:38;break;case 55:C10=this.Tq?77:75;break;case 30:this.BQ=void 0;this.T_=-1;this.Mda=0;this.bi=new c.yh();this.$m=new H.yGa(this,this.H,this.Zb.bind(this),ca);C10=42;break;case 15:this.$b=N;this.wl=xa;this.I=sa=this.nPa.Lfb(M,sa);this.c0=qa.KM;C10=24;break;case 42:this.Of=new L.Sxa(this,this.H,this.Zb.bind(this));this.DS=new z.Rxa(this,this.H,ca);C10=40;break;case 77:Ua=this;C10=76;break;case 14:var H3Q="b";H3Q+="ranch";H3Q+="i";H3Q+="ng";ca=new I.$Ca(this,this.H);this.ub=ca;this.nPa=new y.Zwa(this.H);(ja=!(!M || !M.choiceMap || H3Q !== M.choiceMap.type),Pa=ja?{NS:!1,Tq:!1}:p.YTa(sa));C10=10;break;case 75:T && this.qb.Zp(T,wa.aa);C10=74;break;}}}for(;B10 !== 91;){switch(B10){case 27:O.prototype.nL=function(){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:return this.ud.length;break;case 4:return this.ud.length;break;f20=1;break;}}};O.prototype.fma=function(N,M){var g20;g20=2;for(;g20 !== 9;){switch(g20){case 7:g20=N !== M?2:9;break;g20=N === M?1:5;break;case 1:return !0;break;case 2:g20=N === M?1:5;break;case 5:N=this.ud[N];M=this.ud[M];return N.N.bf.Mg && M.N.bf.IU || M.N.bf.Mg && N.N.bf.IU;break;}}};O.prototype.pT=function(N){var h20;h20=2;for(;h20 !== 5;){switch(h20){case 1:return {id:N.P.id,Oe:N.Oe,Xc:N.Wpa,Pd:N.Pd,Mc:N.E7,vc:N.vc};break;case 2:h20=(N=this.Ga.Nh.children[N])?1:5;break;}}};O.prototype.Dp=function(){var i20,N;i20=2;for(;i20 !== 5;){switch(i20){case 2:N=this.Ga.Nh;return {id:N.P.id,Oe:N.Oe,Xc:N.Wpa,Pd:N.Pd,Mc:N.E7,vc:N.vc};break;}}};O.prototype.ZN=function(N,M){var j20;j20=2;for(;j20 !== 1;){switch(j20){case 2:return this.Ga.ZN(N,M);break;case 4:return this.Ga.ZN(N,M);break;j20=1;break;}}};O.prototype.open=function(){var k20,xa,M,Q,S,fa,qa,ua,X,N,sa;k20=2;for(;k20 !== 33;){switch(k20){case 10:k20=1 === X.readyState?20:34;break;case 3:this.dm && (fa.push(1),qa.push(1));this.Iq && (fa.push(0),qa.push(0));this.DS.Ahb();xa=M.Gq;k20=6;break;case 4:var Z3Q="he";Z3Q+="ad";Z3Q+="ers";(M=this.I,Q=this.pe.N,S=Q.K,fa=[],qa=[Z3Q]);k20=3;break;case 5:var f3Q="NFErr_MC_St";f3Q+="reamingInitFa";f3Q+="ilure";var r3Q="startPts must be a ";r3Q+="positi";r3Q+="ve number, n";r3Q+="ot ";this.Qo(r3Q + this.aB,void 0,f3Q);k20=33;break;case 1:k20=!f.ya(this.aB) || 0 > this.aB?5:4;break;case 16:var A3Q="E";A3Q+="r";A3Q+="r";A3Q+="or";A3Q+=":";throw (this.um(A3Q,X.error),X.error);k20=15;break;case 6:var P3Q="cre";P3Q+="ateMediaSourceSt";P3Q+="art";this.$b.nf && this.$b.nf.ap(xa,this.wl.sessionId);ua=this.DS.sgb(qa,Q);qa.forEach(function(T,R){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:var R3Q="he";R3Q+="ad";R3Q+="er";R3Q+="s";R3Q === T?N.BQ=ua[R]:N.qb.sf[T].ig=ua[R];l20=1;break;}}});this.ub.Al(P3Q);X=new u(this.T.aF);k20=10;break;case 20:var Y3Q="cre";Y3Q+="ate";Y3Q+="MediaSourceEnd";this.ub.Al(Y3Q);X.Yb || (X.Yb=u.Yb);this.Af=X;k20=17;break;case 34:var F3Q="NFErr_MC_StreamingInitF";F3Q+="ai";F3Q+="lu";F3Q+="re";var x3Q="ex";x3Q+="ce";x3Q+="ption";x3Q+=" i";x3Q+="n init";var C3Q="Er";C3Q+="r";C3Q+="o";C3Q+="r:";(this.um(C3Q,X.error),this.Qo(x3Q,void 0,F3Q));k20=33;break;case 17:k20=!X.L0(fa)?16:15;break;case 2:N=this;k20=1;break;case 22:var L3Q="s";L3Q+="t";L3Q+="a";L3Q+="rtplay";var I3Q="l";I3Q+="o";I3Q+="gda";I3Q+="ta";M.rub?setTimeout(function(){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:N.XIa(S).then(sa);r20=1;break;case 4:N.XIa(S).then(sa);r20=2;break;r20=1;break;}}},0):this.XIa(S).then(function(){var s20;s20=2;for(;s20 !== 1;){switch(s20){case 2:setTimeout(sa,0);s20=1;break;}}});Q={type:I3Q,target:L3Q,fields:{audiogapconfig:M.fM,audiogapdpi:this.Af.Yb && this.Af.Yb.fM,aseApiVersion:this.QE}};this.emit(Q.type,Q);k20=33;break;case 15:X.sourceBuffers.forEach(function(T){var m20,R,ca;m20=2;for(;m20 !== 13;){switch(m20){case 14:N.Ku[R]=ca;m20=13;break;case 9:var i3Q="man";i3Q+="agerdebuge";i3Q+="vent";var b3Q="l";b3Q+="o";b3Q+="gd";b3Q+="a";b3Q+="ta";var g3Q="e";g3Q+="r";g3Q+="r";g3Q+="o";g3Q+="r";T.addListener(g3Q,function(ja){var n20;n20=2;for(;n20 !== 1;){switch(n20){case 2:var j3Q="NF";j3Q+="Err_MC";j3Q+="_StreamingFailure";N.Qo(ja.errorstr,void 0,j3Q);n20=1;break;}}});T.addListener(b3Q,function(ja){var o20;o20=2;for(;o20 !== 1;){switch(o20){case 2:w.Ua(N,ja.type,ja);o20=1;break;case 4:w.Ua(N,ja.type,ja);o20=7;break;o20=1;break;}}});M.Hh && T.addListener(i3Q,function(ja){var p20;p20=2;for(;p20 !== 1;){switch(p20){case 4:w.Ua(N,ja.type,ja);p20=9;break;p20=1;break;case 2:w.Ua(N,ja.type,ja);p20=1;break;}}});N.qg[R]=T;m20=14;break;case 2:var e1Q="request";e1Q+="A";e1Q+="p";e1Q+="pen";e1Q+="ded";var S3Q="header";S3Q+="Appe";S3Q+="nded";(R=T.mediaType,ca=N.qb.sf[R]);T=new n.S9(ca.H,R,X,T,M,!1,N.T,void 0,N.Ng.bind(N));ca=new C.LAa(T,R,N.Ga,N.I,ca.H);T.addListener(S3Q,N.nhb.bind(N));T.addListener(e1Q,N.qhb.bind(N));m20=9;break;}}});this.Zw=new D.YEa(this.Ku,this.LJ.bind(this),this.T.ze.bind(this.T));this.sr && this.ub.pib();Q=this.lUa();this.ub.yKa(Q);sa=function(){var q20;q20=2;for(;q20 !== 5;){switch(q20){case 2:var y1Q="shutdow";y1Q+="n detected befor";y1Q+="e st";y1Q+="artRequests";N.ub.Hib();N.qm()?N.Gb(y1Q):N.nkb();q20=5;break;}}};k20=22;break;}}};Object.defineProperties(O.prototype,{QE:{get:function(){var t20;t20=2;for(;t20 !== 1;){switch(t20){case 4:return "";break;t20=1;break;case 2:var l1Q="1";l1Q+=".";l1Q+="0";return l1Q;break;}}},enumerable:!1,configurable:!0}});O.prototype.yka=function(){};O.prototype.flush=function(){var u20;u20=2;for(;u20 !== 1;){switch(u20){case 4:this.oi.flush();u20=5;break;u20=1;break;case 2:this.oi.flush();u20=1;break;}}};O.prototype.paused=function(){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 2:this.T.paused();v20=1;break;}}};B10=32;break;case 39:O.prototype.stop=function(){var I20;I20=2;for(;I20 !== 1;){switch(I20){case 2:this.oi.stop();I20=1;break;case 4:this.oi.stop();I20=8;break;I20=1;break;}}};O.prototype.wr=function(N,M){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 4:return this.$m.wr(N,M);break;J20=1;break;case 2:return this.$m.wr(N,M);break;}}};O.prototype.seek=function(N,M){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 2:return this.$m.seek(N,M);break;case 4:return this.$m.seek(N,M);break;K20=1;break;}}};O.prototype.Hr=function(N){var L20,M,Q,S,fa,qa,O20;L20=2;for(;L20 !== 18;){switch(L20){case 7:var G1Q="u";G1Q+="n";G1Q+="derf";G1Q+="l";G1Q+="ow";this.pe.N.Lj();this.emit(G1Q);this.s0(2);L20=13;break;case 2:var h1Q="br";h1Q+="anchOffs";h1Q+="et:";var z1Q="entry.m";z1Q+="ani";z1Q+="festOffset:";var a1Q="c";a1Q+="o";a1Q+="ntent";a1Q+="Pt";a1Q+="s:";var n1Q="under";n1Q+="flow: going to BUF";n1Q+="FERING at";n1Q+=" playe";n1Q+="r pts:";(M=this,Q=this.I,S=this.As(this.JV,N));this.Gb(n1Q,N,a1Q,S,z1Q,this.pe.Bv,h1Q,this.Ga.Oe);fa=Q.$y;L20=4;break;case 13:this.Of.vj();L20=12;break;case 4:this.qg.forEach(function(xa){var M20;M20=2;for(;M20 !== 1;){switch(M20){case 2:fa=Math.max(0,Math.min(fa,xa.eka - N));M20=1;break;}}});this.Mda+=1;qa=this.Ga.Ec;h.ff.forEach(function(xa){var N20,ua,X,sa,T;N20=2;for(;N20 !== 6;){switch(N20){case 1:N20=X?5:6;break;case 2:X=qa.Ed(xa);N20=1;break;case 5:N20=Q.Hh?4:9;break;case 9:Q.Hh && M.ub.Ul(sa);X.vga();null === (ua=X.Wf) || void 0 === ua?void 0:ua.aRb();N20=6;break;case 4:(sa=M.qg[xa],T=M.Ga.ZE(qa,xa));N20=3;break;case 3:var V1Q=",";V1Q+=" ";V1Q+="toA";V1Q+="ppe";V1Q+="nd: ";var o1Q=", fr";o1Q+="agme";o1Q+="n";o1Q+="ts";o1Q+=": ";var m1Q=", completeStrea";m1Q+="mingPt";m1Q+="s";m1Q+=":";m1Q+=" ";var Q1Q=", str";Q1Q+="e";Q1Q+="amingPt";Q1Q+="s: ";var K1Q=", par";K1Q+="tials:";K1Q+=" ";var U1Q=",";U1Q+=" comp";U1Q+="let";U1Q+="e";U1Q+="dBytes: ";var k1Q=",";k1Q+=" com";k1Q+="plet";k1Q+="edMs:";k1Q+=" ";var J1Q=", m";J1Q+="edi";J1Q+="aType: ";var s1Q="u";s1Q+="nderfl";s1Q+="o";s1Q+="w: ";sa=s1Q + N + J1Q + xa + k1Q + X.nK + U1Q + T + K1Q + X.Na.CC + Q1Q + X.tc + m1Q + X.ys + o1Q + JSON.stringify(X.Na.Y) + V1Q + (sa && sa.K7());N20=9;break;}}});L20=7;break;case 12:L20=this.Tq?11:10;break;case 11:try{O20=2;for(;O20 !== 1;){switch(O20){case 2:this.y2(g.ka.Yc);O20=1;break;}}}catch(xa){var O1Q="Hindsight: Error when evaluat";O1Q+="ing QoE at B";O1Q+="uffering: ";a000.f7Q(2);this.ub.Pm(a000.H7Q(O1Q,xa));}L20=10;break;case 10:S=this.$b.Hb.get();L20=20;break;case 20:S=S.confidence?S.Oa.Ca:0;fa > Q.vxb && S > Q.uxb && this.Yda();L20=18;break;}}};O.prototype.en=function(N){var P20;P20=2;for(;P20 !== 1;){switch(P20){case 2:return this.$m.en(N);break;case 4:return this.$m.en(N);break;P20=1;break;}}};O.prototype.us=function(N,M,Q){var Q20;Q20=2;for(;Q20 !== 1;){switch(Q20){case 2:return this.$m.us(N,M,Q);break;}}};O.prototype.gKa=function(N){var R20,M;R20=2;for(;R20 !== 3;){switch(R20){case 4:this.ub.yKa(M.N.Fv);R20=3;break;case 2:this.BJ=N;M=this.ud[N];this.ub.Eib(N,M);R20=4;break;}}};O.prototype.VJ=function(N,M){var S20,X,sa,fa,qa,xa,ua,Q,S;S20=2;for(;S20 !== 35;){switch(S20){case 26:N.YNa();M.replace || this.Ga.Alb(ua,qa,xa);M=this.qb.Iv[0].dG;fa=this.qb.Iv[1].dG;S20=22;break;case 7:var B1Q="add";B1Q+="Manifest in fastplay but not d";B1Q+="rm manifest, l";B1Q+="eaving space";B1Q+=" for it";M.KM && (this.c0=!0);fa=this.ud.length;M.replace && 1 !== fa?fa=1:this.pe.N.bf.Mg && !M.replace && 1 === fa && (this.Gb(B1Q),fa=this.ud[0].clone(),this.ud.push(fa),fa=this.ud.length);S20=13;break;case 8:var t1Q="a";t1Q+="ddM";t1Q+="anifest ignored, pipeli";t1Q+="nes already s";t1Q+="et EOS:";this.Gb(t1Q,fa.nq,qa.nq);S20=35;break;case 22:var v1Q=",";v1Q+=" ";var d1Q=") las";d1Q+="tStreamApp";d1Q+="ended: (";var u1Q=",";u1Q+=" ";var c1Q=" strea";c1Q+="mCo";c1Q+="un";c1Q+="t";c1Q+=": (";var M1Q=" play";M1Q+="er";M1Q+="Sta";M1Q+="te:";M1Q+=" ";var W1Q="add";W1Q+="Manifest, curr";W1Q+="entPts: ";S.Hh && this.ub.Ul(W1Q + this.T.ze() + M1Q + this.T.getState() + c1Q + N.yp(0).Qd.length + u1Q + N.yp(1).Qd.length + d1Q + M + v1Q + fa + ")");this.Iq && f.fa(M) || this.dm && f.fa(fa) || (N.N.dN([N.yp(0),N.yp(1)]),this.E0());S20=35;break;case 9:S20=!M.r6b && (this.Iq && fa.nq || this.dm && qa.nq)?8:7;break;case 1:S20=this.qm()?5:4;break;case 20:var D1Q="boo";D1Q+="l";D1Q+="e";D1Q+="a";D1Q+="n";var N1Q="vi";N1Q+="d";N1Q+="eo_t";N1Q+="racks";var p1Q="audi";p1Q+="o_t";p1Q+="racks";(M.Enb || this.OIa) && this.qb.Zp(M.Enb || this.OIa,ua.aa);(X=[p1Q,N1Q],sa=this.lUa());M.replace && X.forEach(function(T,R){var T20,ca,ja;T20=2;for(;T20 !== 3;){switch(T20){case 2:ca=ua.LF(R);T20=1;break;case 8:ca=ua.LF(R);T20=5;break;T20=1;break;case 1:T20=ca?5:3;break;case 5:ja=Q.ud[0].N;Object.keys(ca).forEach(function(Pa){var U20,wa;U20=2;for(;U20 !== 5;){switch(U20){case 2:wa=ja.tv(R,Pa);wa && wa.Be && (ca[Pa].L1(wa),Pa=ua.Fv,Pa[R] > sa[R] && (sa[R]=Pa[R]));U20=5;break;}}});T20=3;break;}}});X.forEach(function(T,R){var V20,ca;V20=2;for(;V20 !== 5;){switch(V20){case 2:ca=ua.LF(R);ca && Object.keys(ca).forEach(function(ja){var W20;W20=2;for(;W20 !== 1;){switch(W20){case 2:ca[ja].J6a(t.default.Rn()[R],ua.Ky()?S.WYa:0);W20=1;break;}}});V20=5;break;}}});N.wR=D1Q === typeof M.cnb?M.cnb:!0;this.ud[fa] && this.ud[fa].Lc();this.ud[fa]=N;S20=26;break;case 4:M || (M={});(fa=this.Ga.Ec.Ed(0),qa=this.Ga.Ec.Ed(1));S20=9;break;case 13:qa=M.X || 0;xa=M.Ea;N=l.kaa.create({Fb:fa,sa:N,io:void 0,s3a:M.XN || [this.pe.j3(0),this.pe.j3(1)],Mg:!1,VWa:! !M.replace,Ji:! !M.Ji,Fd:h.H5(! !M.DR,! !M.cD),X:qa,Ea:xa,ub:this.ub,Xq:this.JJa.bind(this),Nb:this,config:this.I,H:this.H,Of:this.Of,$m:this.$m,nf:this.BLa?this.$b.nf:void 0,XB:this.XB});ua=N.N;S20=20;break;case 5:var X1Q="addManif";X1Q+="e";X1Q+="st: pipelines already sh";X1Q+="utdo";X1Q+="wn";this.Gb(X1Q);S20=35;break;case 2:(Q=this,S=this.I);S20=1;break;}}};O.prototype.pR=function(N){var X20;X20=2;for(;X20 !== 1;){switch(X20){case 2:return this.$m.pR(N);break;}}};O.prototype.gy=function(N){var Y20,M,Q,S,fa,qa;Y20=2;for(;Y20 !== 7;){switch(Y20){case 2:S=this.I;Y20=1;break;case 1:Y20=!this.qm()?5:7;break;case 8:var q1Q="dr";q1Q+="mRe";q1Q+="ady";M && (this.qg.forEach(function(xa){var Z20;Z20=2;for(;Z20 !== 5;){switch(Z20){case 2:S.Q2 && xa.DSa();xa.gy();Z20=5;break;}}}),S.e9 && this.$Q(),this.pe.N.bf.Mg && this.D0(this.$m.TA?this.$m.TA.Fb:this.BJ + 1),S.Gq || (null === (Q=this.ah) || void 0 === Q?0:Q.UB()) || this.Xw.fB || this.gR(q1Q),this.$m.Nca());Y20=7;break;case 5:var H1Q=" ";H1Q+="re";H1Q+="ad";H1Q+="yState";H1Q+=": ";var w1Q=" for mo";w1Q+="vieId:";w1Q+=" ";var E1Q=",";E1Q+=" ";var T1Q="drmReady at";T1Q+=" str";T1Q+="e";T1Q+="ami";T1Q+="ng pts: ";f.fa(M) && (M=!0);(fa=this.Ga.Ec.Ed(0),qa=this.Ga.Ec.Ed(1));S.Hh && this.ub.Ul(T1Q + (fa?fa.tc:null) + E1Q + (qa?qa.tc:null) + w1Q + N + H1Q + M);a000.f7Q(2);this.T.DW(a000.Z7Q(N,""),M);Y20=8;break;}}};B10=48;break;case 48:O.prototype.V3=function(){var a30;a30=2;for(;a30 !== 1;){switch(a30){case 2:return this.T.Wn(this.pe.N);break;}}};O.prototype.YIa=function(N){var b30,M,Q,S;b30=2;for(;b30 !== 11;){switch(b30){case 1:return !1;break;case 2:b30=N >= this.ud.length?1:5;break;case 5:(M=this.Ga.Ec.Ed(0),Q=this.Ga.Ec.Ed(1));M=!M || M.xh;S=!Q || Q.xh;Q=this.ud[N].N;b30=8;break;case 7:return !1;break;case 6:N=Q.Pg[0];M=Q.Pg[1];M=!this.dm || M && M.stream.Be;return (!this.Iq || N && N.stream.Be) && M?!0:!1;break;case 8:b30=!(N === this.BJ + 1 && Q.bf.replace || M && S) || !this.T.Wn(Q)?7:6;break;}}};O.prototype.E0=function(){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:this.D0(this.BJ + 1);c30=1;break;case 4:this.D0(this.BJ % 6);c30=2;break;c30=1;break;}}};O.prototype.D0=function(N){var d30,M;d30=2;for(;d30 !== 6;){switch(d30){case 4:d30=M.sxb || !M.N.bf.replace?3:9;break;case 2:d30=!this.YIa(N)?1:5;break;case 7:return !0;break;case 1:return !1;break;case 5:M=this.ud[N];d30=4;break;case 9:this.ukb(N);this.Of.vj();d30=7;break;case 3:return !1;break;}}};O.prototype.ukb=function(N){var e30,M,Q,S,fa,qa,xa;e30=2;for(;e30 !== 20;){switch(e30){case 6:[1,0].forEach(function(ua){var f30;f30=2;for(;f30 !== 1;){switch(f30){case 2:M.N.Zb(ua) && (xa[ua]=M.yp(ua));f30=1;break;}}});fa?this.Ga.UQb(Q.N,M.N,xa):S.f4a(M.N,xa);this.gKa(N);M.Ioa();this.$m.Nca();e30=10;break;case 2:(M=this.ud[N],Q=this.I,S=this.Ga.Ec,fa=S.Sa(0));fa=fa?fa.tc:void 0;qa=S.Sa(1);e30=4;break;case 4:var f1Q=",";f1Q+=" ";var r1Q=", ";r1Q+="streamingPts:";r1Q+=" ";var Z1Q="swi";Z1Q+="tchMa";Z1Q+="nifes";Z1Q+="t manifestI";Z1Q+="ndex: ";qa=qa?qa.tc:void 0;Q.Hh && this.ub.Ul(Z1Q + N + r1Q + fa + f1Q + qa);e30=9;break;case 9:Q=this.pe;fa=Q.N.bf.Mg;xa=[];e30=6;break;case 10:this.Of.vj();e30=20;break;}}};O.prototype.E_a=function(){var g30,N,M,Q,S;g30=2;for(;g30 !== 6;){switch(g30){case 2:(N=this.Ga.Ec,M=N.Sa(0));g30=1;break;case 8:this.Of.vj();g30=6;break;case 5:var A1Q="onAudio";A1Q+="TrackSwitchStarted but ";A1Q+="current pla";A1Q+="ying request not found";(Q=this.T.ze(),S=this.qb.sf[M.mediaType]);(N=this.Ga.Ks(Q,N,0))?M=N.Na:(this.Gb(A1Q),M=M.Na);this.vjb(M);S.gO=!1;g30=8;break;case 1:g30=M?5:7;break;case 7:var R1Q="onA";R1Q+="udioTrackSwitchStarted ignored, no ";R1Q+="audio pipeline";this.Gb(R1Q);g30=6;break;}}};O.prototype.p8=function(N){var h30,fa,Q,M,qa,S;h30=2;for(;h30 !== 35;){switch(h30){case 3:var P1Q="switchTracks rejected, ";P1Q+="previous switch still i";P1Q+="n progress";P1Q+=": ";return (this.Gb(P1Q + JSON.stringify(this.qb.Fx)),!1);break;case 10:h30=fa < M.M5?20:19;break;case 16:var Y1Q="swi";Y1Q+="tchT";Y1Q+="racks can";Y1Q+="'t find ";Y1Q+="trackId:";return (this.Gb(Y1Q,N),!1);break;case 14:var C1Q="switchTracks rejected, previous sw";C1Q+="itch st";C1Q+="ill wai";C1Q+="ting to star";C1Q+="t";return (this.Gb(C1Q),!1);break;case 11:fa=this.Ga.Zu(S,1);h30=10;break;case 7:Q=this.qb.sf[0];h30=6;break;case 5:var x1Q="switchTracks r";x1Q+="ejected, audio disabl";x1Q+="ed";return (this.Gb(x1Q),!1);break;case 9:h30=this.T.Rf()?8:7;break;case 6:h30=Q.gO?14:13;break;case 4:h30=this.qb.Fx?3:9;break;case 2:M=this.I;h30=1;break;case 25:var I1Q=" ";I1Q+="t";I1Q+="o";I1Q+=":";I1Q+=" ";var F1Q="switc";F1Q+="hTrac";F1Q+="ks curre";F1Q+="nt:";F1Q+=" ";M.Hh && this.ub.Ul(F1Q + qa + I1Q + fa.trackId);Q.f6={trackId:N};M=S.Sa(0);this.mkb(M);return !0;break;case 20:var L1Q="switchTracks";L1Q+=" reje";L1Q+="cted, bufferLevelMs";return (this.Gb(L1Q,fa,"<",M.M5),!1);break;case 15:qa=this.pe.yp(0).trackId;h30=27;break;case 19:N=N.ep;fa=this.pe.N.getTrackById(N);h30=17;break;case 13:S=this.Ga.Ec;h30=12;break;case 1:h30=!this.Iq?5:4;break;case 17:h30=!fa?16:15;break;case 12:h30=this.T.getState() === g.ka.Hc?11:19;break;case 8:var g1Q="swi";g1Q+="t";g1Q+="chTra";g1Q+="cks rejected, buff";g1Q+="ering";return (this.Gb(g1Q),!1);break;case 26:return !1;break;case 27:h30=qa === fa.trackId?26:25;break;}}};O.prototype.Zp=function(N,M){var i30;i30=2;for(;i30 !== 1;){switch(i30){case 2:this.qb.Zp(N,M);i30=1;break;}}};O.prototype.Ks=function(N,M,Q){var j30;j30=2;for(;j30 !== 1;){switch(j30){case 2:return this.Ga.Ks(N,this.Ga.Nh,M,Q);break;}}};O.prototype.gi=function(N){var k30;k30=2;for(;k30 !== 1;){switch(k30){case 4:return this.$m.gi(N);break;k30=1;break;case 2:return this.$m.gi(N);break;}}};B10=59;break;case 32:O.prototype.Ppa=function(){};O.prototype.close=function(){var w20;w20=2;for(;w20 !== 4;){switch(w20){case 2:this.E3a.zb();this.ud.forEach(function(N){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 4:N.close();x20=8;break;x20=1;break;case 2:N.close();x20=1;break;}}});this.oi.close();w20=4;break;}}};O.prototype.s2a=function(){var y20;y20=2;for(;y20 !== 1;){switch(y20){case 2:this.$b.Ijb(this);y20=1;break;}}};O.prototype.Lc=function(){var z20,N;z20=2;for(;z20 !== 20;){switch(z20){case 9:null === (N=this.Zw) || void 0 === N?void 0:N.reset();this.Ku.forEach(function(M){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:M.reset();A20=1;break;}}});this.T.Fe(g.ka.Ci);this.ud.forEach(function(M){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 2:M.Lc();B20=1;break;case 4:M.Lc();B20=7;break;B20=1;break;}}});z20=14;break;case 11:var j1Q="Error";j1Q+=" on MediaSource de";j1Q+="stroy: ";this.Af=void 0;f.fa(N) || N.mp() || this.Gb(j1Q,N.error);z20=20;break;case 2:this.Zf.ALb();this.k_();this.Ga.zb();this.DS.Egb();z20=9;break;case 14:this.ud=[];this.bi.clear();N=this.Af;z20=11;break;}}};O.prototype.suspend=function(){var C20;C20=2;for(;C20 !== 1;){switch(C20){case 2:this.oi.suspend();C20=1;break;}}};O.prototype.resume=function(){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 4:this.oi.resume();D20=6;break;D20=1;break;case 2:this.oi.resume();D20=1;break;}}};O.prototype.qm=function(){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 2:return this.oi.qm();break;case 4:return this.oi.qm();break;E20=1;break;}}};O.prototype.ikb=function(){var F20,N;F20=2;for(;F20 !== 8;){switch(F20){case 4:this.Yw || (this.Yw=setInterval(this.ub.wKa.bind(this.ub),N.gK));this.x0 || (this.x0=setInterval(this.ub.Qib.bind(this.ub),N.dta));this.sr && !this.c_ && (this.c_=setInterval(this.ub.vKa.bind(this.ub),N.U0));F20=8;break;case 2:N=this.I;this.cB && clearTimeout(this.cB);this.cB=setTimeout(this.hR.bind(this),N.P8);F20=4;break;}}};O.prototype.k_=function(){var G20;G20=2;for(;G20 !== 7;){switch(G20){case 2:this.cB && (clearTimeout(this.cB),this.cB=void 0);this.Yw && (clearInterval(this.Yw),this.Yw=void 0);this.x0 && (clearInterval(this.x0),this.x0=void 0);this.c_ && (clearInterval(this.c_),this.c_=void 0);this.dJ && (clearTimeout(this.dJ),this.dJ=void 0);G20=9;break;case 9:this.Hca && (clearTimeout(this.Hca),this.Hca=void 0);this.Of.k_();G20=7;break;}}};O.prototype.play=function(){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 2:this.oi.play();H20=1;break;}}};B10=39;break;case 59:O.prototype.y2=function(N,M){var l30,Q,S,m30;l30=2;for(;l30 !== 6;){switch(l30){case 4:N && !N.YJ && S.Dia(N);l30=3;break;case 2:Q=this.qb;N=Q.Pia(N,M);S=this.Zf.zqa;l30=4;break;case 3:l30=M?9:8;break;case 8:M=S.Gzb();try{m30=2;for(;m30 !== 1;){switch(m30){case 2:this.ub.zib(M);m30=1;break;}}}catch(fa){var i1Q="]";i1Q+=" ";i1Q+="[";var b1Q="e";b1Q+="xcep";b1Q+="ti";b1Q+="on";b1Q+=": [";this.H.error(b1Q + fa.message + i1Q + fa.P8b + "]");}l30=6;break;case 9:Q.vra();l30=6;break;}}};O.prototype.Xfa=function(N,M){var n30;n30=2;for(;n30 !== 5;){switch(n30){case 2:a000.r7Q(4);v.assert(a000.Z7Q(0,M));return this.ud[M].Cob(N);break;}}};O.prototype.As=function(N,M){var o30,Q,S;o30=2;for(;o30 !== 7;){switch(o30){case 5:o30=Q?4:8;break;case 2:void 0 === N && (N=this.JV);Q=this.Ga.Qxb(M,N);o30=5;break;case 8:(Q=this.Ga.Qia(N),0 < Q.length && (Q=Q[0],S=Q.Oe));o30=3;break;case 4:S=Q.Oe;o30=3;break;case 3:f.ya(S) || (S=this.ud[N].Bv);a000.r7Q(1);return a000.Z7Q(S,M);break;}}};O.prototype.rK=function(N,M){var p30,Q,S;p30=2;for(;p30 !== 7;){switch(p30){case 5:p30=Q?4:8;break;case 2:void 0 === N && (N=this.JV);Q=this.Ga.Pxb(M,N);p30=5;break;case 3:f.ya(S) || (S=this.ud[N].Bv);a000.r7Q(2);return a000.Z7Q(M,S);break;case 4:S=Q.Oe;p30=3;break;case 8:(Q=this.Ga.Qia(N),0 < Q.length && (Q=Q[0],S=Q.Oe));p30=3;break;}}};O.prototype.LJ=function(){var q30,N;q30=2;for(;q30 !== 4;){switch(q30){case 2:N=this.T.Rf();q30=1;break;case 1:q30=N || this.qb.Fx?5:4;break;case 8:q30=N && this.qb.Fx?8:2;break;q30=N || this.qb.Fx?5:4;break;case 5:(N && this.ub.yda(),this.hR(),this.T.Fe(g.ka.Hc),this.Of.vj());q30=4;break;}}};O.prototype.Yda=function(){var r30,N,M;r30=2;for(;r30 !== 3;){switch(r30){case 2:(N=this,M=this.T.Rf());this.Ga.Ec.N7(M,function(Q){var s30;s30=2;for(;s30 !== 1;){switch(s30){case 2:return N.qg[Q]?N.qg[Q].K7():"";break;}}});this.dJ && (clearTimeout(this.dJ),this.dJ=void 0);r30=4;break;case 4:this.Zw.HIb();r30=3;break;}}};O.prototype.fLa=function(N){var t30,M,u30;t30=2;for(;t30 !== 7;){switch(t30){case 3:this.qb.$w();t30=9;break;case 2:N.xh=!0;N.nq=!1;M=this.T.ze() || 0;N.mK(M);t30=3;break;case 9:t30=this.Tq && 1 === N.mediaType?8:7;break;case 8:try{u30=2;for(;u30 !== 1;){switch(u30){case 2:this.y2(g.ka.wq,{Ea:N.vc});u30=1;break;}}}catch(Q){var S1Q="Hindsight: Error evaluating QoE at e";S1Q+="n";S1Q+="dOfStream: ";a000.f7Q(2);this.ub.Pm(a000.H7Q(S1Q,Q));}t30=7;break;}}};O.prototype.Mjb=function(){var v30,N;v30=2;for(;v30 !== 5;){switch(v30){case 2:N=this.$b.Hb;N && (N=N.get()) && N.avtp && this.St.hlb({avtp:N.avtp.Ca});v30=5;break;}}};O.prototype.nkb=function(){var w30,N,M,Q;w30=2;for(;w30 !== 4;){switch(w30){case 2:var l0Q="startup, playerStat";l0Q+="e";l0Q+=" no longer STARTING:";var y0Q="failed";y0Q+=" to sta";y0Q+="rt aud";y0Q+="io pipeline";var e0Q="failed";e0Q+=" ";e0Q+="to start vi";e0Q+="deo p";e0Q+="ipeline";this.T.Fe(g.ka.$g);(N=this.Ga.Ec,M=N.Ed(0),Q=N.Ed(1));this.dm && !this.kLa(Q)?this.Gb(e0Q):this.Iq && !this.kLa(M)?this.Gb(y0Q):(this.KKa=!0,this.ud[0].N.Z3=!0,M=this.qb.sf[1],Q=this.qb.sf[0],(M && 0 < M.At || Q && 0 < Q.At) && this.ub.xib(String(N.N.K),Q?Q.At:0,M?M.At:0,Q?Q.HV:0,M?M.HV:0),this.T.fXa()?(this.s0(0),this.Iq && (N=this.pe.j3(0),M=this.pe.yp(0).trackId,this.ub.Aib(N,M))):this.Gb(l0Q,this.T.getState()));w30=4;break;}}};O.prototype.kLa=function(N){var x30,M,Q;x30=2;for(;x30 !== 14;){switch(x30){case 5:var n0Q="NF";n0Q+="Err_MC_St";n0Q+="rea";n0Q+="mingIn";n0Q+="itFailure";var G0Q="sta";G0Q+="rtPipeline";G0Q+=" fai";G0Q+="led";return (this.qm() || this.Qo(G0Q,N.xb.N.Fb,n0Q),!1);break;case 2:(M=N.mediaType,Q=this.qb.kCb(N));x30=1;break;case 4:N=N.track.Qd[Q];x30=3;break;case 1:x30=f.fa(Q)?5:4;break;case 8:Q=this.pe.N;N.N.CPa(N,{offset:0,CB:!Q.bf.Mg && !Q.Ji && 1 === M,mv:!this.qb.sf[M].iyb});return !0;break;case 9:return !0;break;case 3:x30=N.qk()?9:8;break;}}};B10=72;break;case 94:O.prototype.rhb=function(N,M){var B40;B40=2;for(;B40 !== 5;){switch(B40){case 2:M=d.pUa(M);this.gca[N.mediaType]=M;B40=5;break;}}};Object.defineProperties(O.prototype,{Fx:{set:function(N){var C40;C40=2;for(;C40 !== 1;){switch(C40){case 2:this.qb.Fx=N;C40=1;break;}}},enumerable:!1,configurable:!0}});return O;break;case 87:O.prototype.Vda=function(N,M){var c40,Q,S,fa;c40=2;for(;c40 !== 9;){switch(c40){case 7:Q=this.Ga.Ec;c40=2;break;c40=1;break;case 2:Q=this.Ga.Ec;c40=1;break;case 5:var a0Q="ptsc";a0Q+="ha";a0Q+="ng";a0Q+="ed";(S=this.qb.sf[N],fa=this.qb.Jz[N]);f.fa(S.Fn) && (S.Fn=M,1 === N && this.Iq && (N=this.qb.sf[0],f.fa(N.Fn) && (Q=Q.Sa(0),Q.jH(M)),this.emit(a0Q,M)));c40=3;break;case 1:c40=Q.Sa(N)?5:9;break;case 3:f.fa(fa.SR) && (fa.SR=M);c40=9;break;}}};O.prototype.uVa=function(N){var d40;d40=2;for(;d40 !== 1;){switch(d40){case 2:this.ah && (this.ah.FIb(N),this.mOa());d40=1;break;}}};O.prototype.Q3=function(N){var e40;e40=2;for(;e40 !== 1;){switch(e40){case 2:this.ah && (this.ah.EIb(N),this.mOa());e40=1;break;}}};O.prototype.mOa=function(){var f40,N;f40=2;for(;f40 !== 4;){switch(f40){case 2:f40=this.ah?1:4;break;case 1:var z0Q="a";z0Q+="llCo";z0Q+="mpleted";N=this.I;this.ah.UB() || (this.ah=void 0,N.Gq || this.Xw.fB || this.gR(z0Q));f40=4;break;case 9:f40=this.ah?2:6;break;f40=this.ah?1:4;break;}}};O.prototype.hR=function(){var g40,N,M,Q,S,fa,qa,xa,ua;g40=2;for(;g40 !== 7;){switch(g40){case 2:(N=this,M=this.I,Q=this.JV,S=this.ud[Q],fa=this.Ga.Ec,qa=this.T.ze() || 0,xa=this.As(Q,qa),ua=M.P8);this.$b.nf && void 0 !== S.wG && S.wG - qa <= M.xZa && this.$b.nf.ap(!0,this.wl.sessionId);this.T.getState() === g.ka.Hc && ([1,0].forEach(function(X){var h40,T,wa,ca,ja,Pa,sa,R;h40=2;for(;h40 !== 35;){switch(h40){case 4:T=sa.Na;sa.mK(qa);h40=9;break;case 10:h40=(N.Ga.YKb(R,R.It),Pa > N.T_)?20:16;break;case 20:N.T_=Pa;wa=0 < Pa?Pa - 1:null;N.ub.Cib(ja,qa,R.It,null !== wa?N.ud[wa].N.K:null,wa);h40=17;break;case 6:T=R.Pd - qa;T < ua && (ua=T);(ca=N.qb.Iv[X],ja=R.N,Pa=ja.Fb);T=R.Na;h40=11;break;case 17:xa=N.As(Pa,qa);h40=15;break;case 23:N.Ajb(T,qa);N.Ga.rPb();h40=35;break;case 1:sa=fa.Sa(X);h40=5;break;case 2:h40=N.Zb(X)?1:35;break;case 11:h40=!N.dm || 1 === X?10:15;break;case 9:(R=N.Ga.Ks(qa,fa,X)) && !R.Ne && (R=N.qg[X].NGb);h40=7;break;case 15:ca.XGb=R.It;ja=R.Ma;ja != ca.Rma && (ca.Rma=ja,X=N.ud[Pa].N.tv(X,ja),Pa=N.As(Pa,R.Xc),N.ub.Mib(X,R.Xc,Pa,X.N.Fb));R=R.bitrate;h40=24;break;case 16:N.AJ && R.It != ca.XGb && N.ub.Rib(R.It);h40=15;break;case 7:h40=R?6:21;break;case 24:f.fa(R) || R == sa.R0a || (sa.R0a=R);h40=23;break;case 5:h40=sa?4:35;break;case 21:var h0Q="Unable to find";h0Q+=" request presenting at ";h0Q+="playerPts:";sa.Gb(h0Q,qa);h40=23;break;}}}),this.Ga.Jr(qa,xa));this.Of.vj();ua=Math.max(ua,1);g40=9;break;case 9:this.cB && clearTimeout(this.cB);this.cB=setTimeout(this.hR.bind(this),ua);g40=7;break;}}};O.prototype.o_=function(N){var i40;i40=2;for(;i40 !== 1;){switch(i40){case 2:return this.Of.o_(N);break;}}};O.prototype.vj=function(){var j40;j40=2;for(;j40 !== 1;){switch(j40){case 2:return this.Of.vj();break;case 4:return this.Of.vj();break;j40=1;break;}}};O.prototype.LE=function(N,M){var k40,Q,S;k40=2;for(;k40 !== 13;){switch(k40){case 1:k40=Q?5:14;break;case 2:Q=N.Na;k40=1;break;case 5:S=N.mediaType;N.abort();N.Lc();N.bi && N.bi.clear();Q.n7(N);this.qg[S].n7(N);!0 === M && this.Of.vj();k40=13;break;case 14:var s0Q="abortRequest wit";s0Q+="h no re";s0Q+="qu";s0Q+="estM";s0Q+="anagaer:";this.Gb(s0Q,N);k40=13;break;}}};O.prototype.mkb=function(N){var l40,M,Q;l40=2;for(;l40 !== 5;){switch(l40){case 2:var J0Q="no newAudi";J0Q+="oTrack ";J0Q+="set";(M=N.mediaType,Q=this.qb.sf[M]);f.fa(Q.f6)?N.Gb(J0Q):(this.qg[M].pause(),Q.gO=!0,N=this.pe.yp(0),Q=this.pe.N.getTrackById(Q.f6.trackId),this.ub.rib(N,Q));l40=5;break;}}};O.prototype.vjb=function(N){var m40,M,Q,S,fa,qa,xa,ua,X;m40=2;for(;m40 !== 27;){switch(m40){case 17:++Q;m40=19;break;case 2:(M=this,S=this.I);N=N.xb;fa=this.qb.sf[0];m40=4;break;case 13:fa.f6=void 0;this.Zf.tN(null);this.Rda(0,F.PP.KSa,N);m40=10;break;case 8:var k0Q="audi";k0Q+="oSw";k0Q+="itc";k0Q+="h";(this.ah.OQb(function(sa){var n40;n40=2;for(;n40 !== 5;){switch(n40){case 2:n40=0 === sa.mediaType?1:5;break;case 1:return (M.LE(sa,!1),!0);break;}}}),this.ah.UB() || (this.ah=void 0,S.Gq || this.Xw.fB || this.gR(k0Q)));m40=7;break;case 19:m40=Q < this.ud.length?18:16;break;case 4:this.qb.Fx=fa.f6;(qa=this.pe,xa=qa.N.getTrackById(this.qb.Fx.trackId),ua=xa.WN,X=this.T.ze() - N.Oe);m40=9;break;case 10:this.Ga.M3a(N,!0);m40=20;break;case 7:Q=this.$b.c3(qa.N.sa,[ua],0);this.gca[0]=Q[0];this.DS.VKa(0,N.N);m40=13;break;case 18:this.cPb(Q,ua,X);m40=17;break;case 9:m40=(null === (Q=this.ah) || void 0 === Q?0:Q.UB())?8:7;break;case 16:N.g2a(xa,X);this.qH(0);m40=27;break;case 20:Q=this.BJ;m40=19;break;}}};B10=104;break;case 13:Object.defineProperties(O.prototype,{St:{get:function(){var R10;R10=2;for(;R10 !== 1;){switch(R10){case 2:return this.$b.St;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{sr:{get:function(){var S10;S10=2;for(;S10 !== 1;){switch(S10){case 2:return this.Qjb;break;case 4:return this.Qjb;break;S10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{BU:{get:function(){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:return this.AJ;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{KM:{get:function(){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 2:return this.c0;break;case 4:return this.c0;break;U10=1;break;}}},enumerable:!1,configurable:!0}});O.prototype.Zb=function(N){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:return this.tkb[N];break;}}};O.prototype.oT=function(){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 4:return t.default.time.ba() / this.mca;break;W10=1;break;case 2:return t.default.time.ba() - this.mca;break;}}};O.prototype.lUa=function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return (this.ud || []).reduce(function(N,M){var Y10,Q;Y10=2;for(;Y10 !== 4;){switch(Y10){case 2:Q=M.N;h.ff.forEach(function(S){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 2:Q.Fv[S] > N[S] && (N[S]=Q.Fv[S]);Z10=1;break;}}});return N;break;}}},[0,0]);break;}}};O.prototype.XL=function(){var a20,N;a20=2;for(;a20 !== 4;){switch(a20){case 2:N=0;f.forEach(this.pe.N.sa.audio_tracks,function(M){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:f.forEach(M.streams,function(Q){var c20;c20=2;for(;c20 !== 1;){switch(c20){case 2:N=Math.max(N,Q.bitrate);c20=1;break;}}});b20=1;break;}}});return N;break;}}};O.prototype.Ng=function(N){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 2:return this.ud[N];break;}}};O.prototype.NAb=function(){var e20,N;e20=2;for(;e20 !== 5;){switch(e20){case 2:N=this.ud[0];return N.N.bf.Mg?this.ud[1]:N;break;}}};B10=27;break;case 104:O.prototype.cPb=function(N,M,Q){var o40,S;o40=2;for(;o40 !== 6;){switch(o40){case 8:S?(N.N.Pg[0]=S,N.TV=!1,S.stream.Be && N.n1()):(N.N.Pg[0]=void 0,N.TV=!1,N.N.dN([N.yp(0)],!0,0));o40=7;break;case 4:o40=N.N.Z3?3:7;break;case 2:k.em.Ap(0);N=this.ud[N];N.Yta(M);o40=4;break;case 7:this.$Q(0);o40=6;break;case 3:N.yp(0).Qd.some(function(fa){var p40;p40=2;for(;p40 !== 4;){switch(p40){case 2:S=fa.qk();p40=1;break;case 1:p40=!(S && S.stream && S.stream.Y && Q < S.stream.Y.aj(0))?5:4;break;case 7:return + +S;break;p40=4;break;case 5:return ! !S;break;}}});o40=8;break;}}};O.prototype.Ajb=function(N,M){var q40,Q;q40=2;for(;q40 !== 4;){switch(q40){case 2:Q=this.qg[N.mediaType];N=this.Ga.PV(N.xb,N.mediaType,M,this.$b.Hz || 0,function(S){var r40;r40=2;for(;r40 !== 1;){switch(r40){case 4:Q.n7(S);r40=2;break;r40=1;break;case 2:Q.n7(S);r40=1;break;}}});f.fa(N) || this.Of.vj();q40=4;break;}}};O.prototype.nhb=function(N){var s40,M,Q,S;s40=2;for(;s40 !== 8;){switch(s40){case 2:(M=N.mediaType,Q=N.manifestIndex,S=N.streamId);N=this.Ga.Ec.Sa(M);M=this.ud[Q].N.tv(M,S);this.gkb(N,M);s40=3;break;case 3:this.I=this.nPa.Nfb(M.Jg,this.I);this.ud.forEach(function(fa,qa){var t40,xa;t40=2;for(;t40 !== 5;){switch(t40){case 2:xa=fa.N;xa.Z3 || 0 === qa || xa.dN([fa.yp(0),fa.yp(1)]);t40=5;break;}}});s40=8;break;}}};O.prototype.qhb=function(N){var u40,M,Q;u40=2;for(;u40 !== 8;){switch(u40){case 3:M.O2 && this.ub.wib(M);M.Ip && this.ub.Kib(N,M.N.Fb,Q.P);u40=8;break;case 2:M=N.request;N=N.mediaType;Q=M.Na.xb;Q.CIb(N);u40=3;break;}}};O.prototype.gkb=function(N,M){var v40;v40=2;for(;v40 !== 1;){switch(v40){case 2:this.qb.Iv[N.mediaType].dG={id:M.Ma,index:M.mg,bitrate:M.bitrate,Oa:M.lb && M.lb.confidence && M.lb.Oa?M.lb.Oa.Ca:0,location:M.location};v40=1;break;}}};O.prototype.y4=function(N){var w40,M,Q,S,fa,qa,xa,ua,X,sa,T;w40=2;for(;w40 !== 11;){switch(w40){case 2:(qa={},xa=this.qg,ua=this.Ga);w40=1;break;case 5:(X=ua.Ec,sa=X.Ed(0),T=X.Ed(1));qa.vspts=null !== (M=null === T || void 0 === T?void 0:T.tc) && void 0 !== M?M:0;qa.aspts=null !== (Q=null === sa || void 0 === sa?void 0:sa.tc) && void 0 !== Q?Q:0;qa.vbuflbytes=null !== (S=null === T || void 0 === T?void 0:T.jp.da) && void 0 !== S?S:0;w40=8;break;case 1:w40=!ua.Ec.Jn?5:12;break;case 8:qa.abuflbytes=null !== (fa=null === sa || void 0 === sa?void 0:sa.jp.da) && void 0 !== fa?fa:0;qa.vbuflmsec=ua.Zu(X,1);qa.abuflmsec=ua.Zu(X,0);w40=14;break;case 12:return qa;break;case 13:N && xa && (N=xa[1],xa=xa[0],qa.atoappend=null === N || void 0 === N?void 0:N.K7(),qa.vtoappend=null === xa || void 0 === xa?void 0:xa.K7());w40=12;break;case 14:N && (qa.a=null === sa || void 0 === sa?void 0:sa.Na.Y.toJSON(),qa.v=null === T || void 0 === T?void 0:T.Na.Y.toJSON());w40=13;break;}}};O.prototype.ZUa=function(N){var x40,M,Q,S,fa,qa,xa;x40=2;for(;x40 !== 8;){switch(x40){case 1:x40=Q?5:8;break;case 2:(M=this.Ga.Ec,Q=M.Sa(N));x40=1;break;case 5:(S=this.qb.Iv[N],fa=this.Ga.ZE(M,N));S=S.dG?S.dG.bitrate:0;(qa=Q.Na.vpa,xa=this.Ga.Oe);return {type:N,availableMediaBuffer:t.default.Rn()[N] - fa,completeBuffer:M.Jh(N),incompleteBuffer:qa,playbackBitrate:Q.R0a,streamingBitrate:S,streamingTime:Q.tc + xa,usedMediaBuffer:fa,toappend:Q.dZb};break;}}};O.prototype.fRb=function(){var y40,N;y40=2;for(;y40 !== 5;){switch(y40){case 2:var U0Q="requ";U0Q+="estG";U0Q+="a";U0Q+="rbageCollection";N={type:U0Q,time:t.default.time.ba()};w.Ua(this,N.type,N);y40=5;break;}}};O.prototype.Qo=function(N,M,Q,S,fa,qa){var z40;z40=2;for(;z40 !== 1;){switch(z40){case 2:var K0Q="NFErr_M";K0Q+="C_Streami";K0Q+="ngFailu";K0Q+="re";this.w0 || (f.fa(Q) && (Q=K0Q),this.w0=!0,this.ub.Oib(Q,N,S,fa,qa,void 0 !== M?M:this.JV));z40=1;break;}}};O.prototype.JJa=function(){var A40;A40=2;for(;A40 !== 5;){switch(A40){case 2:var Q0Q="Netw";Q0Q+="ork failures ";Q0Q+="reset";Q0Q+="!";this.Gb(Q0Q);this.Of.vj();A40=5;break;}}};B10=94;break;case 2:Object.defineProperties(O.prototype,{addEventListener:{get:function(){var H10;H10=2;for(;H10 !== 1;){switch(H10){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{removeEventListener:{get:function(){var I10;I10=2;for(;I10 !== 1;){switch(I10){case 4:return this.removeListener.bind(this);break;I10=1;break;case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{rJb:{get:function(){var J10;J10=2;for(;J10 !== 1;){switch(J10){case 2:return this.Af.Yb;break;case 4:return this.Af.Yb;break;J10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{mediaSourceId:{get:function(){var K10;K10=2;for(;K10 !== 1;){switch(K10){case 2:return this.Af?this.Af.MW:void 0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{Iq:{get:function(){var L10;L10=2;for(;L10 !== 1;){switch(L10){case 2:return this.Zb(0);break;case 4:return this.Zb(7);break;L10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{dm:{get:function(){var M10;M10=2;for(;M10 !== 1;){switch(M10){case 2:return this.Zb(1);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{attributes:{get:function(){var N10;N10=2;for(;N10 !== 1;){switch(N10){case 2:return this.gca;break;case 4:return this.gca;break;N10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{zg:{get:function(){var O10;O10=2;for(;O10 !== 1;){switch(O10){case 4:return this.bi;break;O10=1;break;case 2:return this.bi;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{JV:{get:function(){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 2:return 0 <= this.T_?this.T_:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(O.prototype,{pe:{get:function(){var Q10;Q10=2;for(;Q10 !== 1;){switch(Q10){case 2:return this.ud[this.BJ];break;case 4:return this.ud[this.BJ];break;Q10=1;break;}}},enumerable:!1,configurable:!0}});B10=13;break;case 72:O.prototype.s0=function(N,M){var y30,Q,S,fa,qa,xa;y30=2;for(;y30 !== 19;){switch(y30){case 11:S.RS && (this.Hca=setTimeout(function(){var A30;A30=2;for(;A30 !== 1;){switch(A30){case 2:Q.Mjb();A30=1;break;}}},S.jia));this.T.Rf() && (this.dJ=setTimeout(function(){var B30;B30=2;for(;B30 !== 1;){switch(B30){case 2:Q.qb.$w();B30=1;break;}}},S.mz));this.Of.vj();y30=19;break;case 9:var m0Q="start";m0Q+="Buf";m0Q+="fer";m0Q+="i";m0Q+="ng";this.Zw.reset();this.pe.N.epa();this.emit(m0Q);y30=6;break;case 2:(Q=this,S=this.I,fa=this.qb.sf[0] || ({}),qa=this.qb.sf[1] || ({}),xa=this.qb.Jz[1] || ({}));(this.qb.Jz[0] || ({})).SR=void 0;xa.SR=void 0;this.T.Fe(2 === N?g.ka.zf:g.ka.Yc);this.ub.uib(M);y30=9;break;case 6:h.ff.forEach(function(ua){var z30;z30=2;for(;z30 !== 5;){switch(z30){case 2:z30=(ua=Q.Ga.Ec.Ed(ua))?1:5;break;case 1:(ua.Lfa=0,ua.seeking=0 === N || 1 === N,ua.vga());z30=5;break;}}});this.mca=t.default.time.ba();fa.Vk=qa.Vk=this.mca;0 === N && (!this.dm || 0 < qa.At) && (!this.Iq || 0 < fa.At) && this.qb.$w();y30=11;break;}}};O.prototype.gR=function(N){var C30,M;C30=2;for(;C30 !== 3;){switch(C30){case 2:var V0Q="AdoptingData";V0Q+=" still has l";V0Q+="o";V0Q+="ck:";var o0Q="wipeHe";o0Q+="ader";o0Q+="Cach";o0Q+="e:";a000.f7Q(2);N=a000.Z7Q(o0Q,N);this.Xw.fB && this.bk(V0Q + N);M=this.I;M.tG || (M.Hh && this.ub.Ul(N),this.$b.Mx(),this.ah && (this.ah=void 0));C30=3;break;}}};O.prototype.XIa=function(N){var D30,qa,Q,S,fa;D30=2;for(;D30 !== 13;){switch(D30){case 3:D30=!this.Gkb || !this.$b.nf?9:8;break;case 8:var O0Q="c";O0Q+="h";O0Q+="eckForHc";O0Q+="dStar";O0Q+="t";this.ub.Al(O0Q);this.ud.forEach(function(xa){var G30;G30=2;for(;G30 !== 1;){switch(G30){case 2:xa.N.K === N && (qa=xa);G30=1;break;}}});D30=14;break;case 14:return this.$b.nf.iIb(N,qa?qa.N:void 0).then(function(xa){var H30,ua,X;H30=2;for(;H30 !== 8;){switch(H30){case 5:var B0Q="h";B0Q+="eaderCac";B0Q+="heDataNotFo";B0Q+="und";return (fa.Gq || Q.Xw.fB || Q.gR(B0Q),Promise.resolve());break;case 1:H30=f.fa(xa)?5:4;break;case 2:var t0Q="ch";t0Q+="eckForH";t0Q+="cd";t0Q+="End";Q.ub.Al(t0Q);H30=1;break;case 4:var W0Q="ado";W0Q+="ptH";W0Q+="cdSt";W0Q+="art";(ua=Q.Ga.Ec.Ed(0),X=Q.Ga.Ec.Ed(1));Q.ub.Al(W0Q);return Q.Xw.P7a(function(){var I30,sa,T;I30=2;for(;I30 !== 7;){switch(I30){case 3:var M0Q="ado";M0Q+="p";M0Q+="tHcd";M0Q+="E";M0Q+="nd";Q.MJa=xa;Q.ub.Al(M0Q);return Promise.all([sa,T]);break;case 2:sa=Promise.resolve();Q.dm && (sa=M(X,xa));T=Promise.resolve();!Q.Iq || fa.MVa && !sa || (T=fa.MVa?sa.then(function(R){var J30;J30=2;for(;J30 !== 1;){switch(J30){case 2:return R?M(ua,xa):Promise.resolve();break;}}}):M(ua,xa));I30=3;break;}}});break;}}}).then(function(){var K30,xa;K30=2;for(;K30 !== 5;){switch(K30){case 2:var c0Q="adoptedComple";c0Q+="te";c0Q+="dR";c0Q+="equest";c0Q+="s";fa.Gq || (null === (xa=Q.ah) || void 0 === xa?0:xa.UB()) || Q.Xw.fB || !Q.T.Wn(Q.pe.N) || Q.gR(c0Q);K30=5;break;}}}).catch(function(xa){var L30;L30=2;for(;L30 !== 1;){switch(L30){case 2:var u0Q="headerCache";u0Q+=":lookupDataPr";u0Q+="omise caught erro";u0Q+="r:";Q.Gb(u0Q,xa);L30=1;break;case 4:Q.Gb("",xa);L30=0;break;L30=1;break;}}});break;case 2:var d0Q="P";d0Q+="reviously adopted reques";d0Q+="t list still retain";d0Q+="ed was unexpected";Q=this;(null === (S=this.ah) || void 0 === S?0:S.UB()) && this.bk(d0Q);D30=5;break;case 9:return (this.$b.Tfa(),Promise.resolve());break;case 5:this.ah=void 0;fa=this.I;D30=3;break;}}function M(xa,ua){var E30,R,ca,ja,Pa,X,sa,T;E30=2;for(;E30 !== 10;){switch(E30){case 7:return T;break;case 5:(R=sa.Ma,ca=sa.header.stream,ja=Q.qb.sf[X],Pa=Q.qb.Jz[X]);f.fa(ua.YB) || Q.Zf.Q3a(ua.YB,ua.Un,ua.Vn);Pa.Hy=ua.Hy;E30=9;break;case 8:E30=!xa.GYb(R)?7:6;break;case 11:return T;break;case 1:E30=sa?5:11;break;case 9:Pa.nv=ua.nv;E30=8;break;case 14:var v0Q="adop";v0Q+="tPipeline no header for stre";v0Q+="amId:";return (xa.bk(v0Q,R),T);break;case 6:E30=!sa.header?14:13;break;case 12:ua.J0(sa.header,!ua.bf.Mg && !ua.Ji && 1 === X,!0) && (void 0 !== xa.DG && xa.jH(xa.DG),T=ua.qk(X,R).stream.Y.Gm(xa.tc,void 0,!0),ua=ca.pk(T),ca=ua.X,(ua=ua.Yia(xa.tc)) && 0 < ua.pd && (ca=ua.pd),xa.tc !== ca && (xa.wN(ca,T),Q.Vda(X,ca)),T=Q.Ffb(xa,sa.data).then(function(){var F30;F30=2;for(;F30 !== 1;){switch(F30){case 2:return R;break;}}}),ja.iyb=!0,0 === X && Q.Zf.tN(sa.header.bitrate));E30=11;break;case 13:ua=Q.pe.N;E30=12;break;case 2:(X=xa.mediaType,sa=ua[X],T=Promise.resolve(void 0));E30=1;break;}}}};O.prototype.Ffb=function(N,M){var M30,Q,S,fa,qa,xa,ua,X;M30=2;for(;M30 !== 9;){switch(M30){case 2:Q=this;M30=1;break;case 14:return Promise.resolve();break;M30=4;break;case 5:return Promise.resolve();break;case 1:M30=0 === M.length?5:4;break;case 4:(S=N.i5,fa=S.P,qa=Math.min(this.ud[0].Ea || Infinity,S.vc || Infinity),xa=N.mediaType,ua=this.qb.sf[xa]);return this.Xw.P7a(function(){var N30,T;function sa(){var O30,R;O30=2;for(;O30 !== 5;){switch(O30){case 2:var N0Q="ado";N0Q+="ptD";N0Q+="ata, no";N0Q+="t a";N0Q+="dopting failed mediaRequest:";var p0Q="a";p0Q+="dopt";p0Q+="Data, ";p0Q+="not adopting aborted med";p0Q+="iaRequest:";R=M.shift();7 === R.readyState?N.Gb(p0Q,R.toString()):6 === R.readyState?(N.Gb(N0Q,R.toString()),Q.LE(R,!1)):N.tc >= R.Mc && N.tc < R.vc && (N.tc < qa || !f.ya(qa))?(T.push(Q.Gfb(N,R).then(function(){var P30;P30=2;for(;P30 !== 1;){switch(P30){case 4:R.complete || Q.uVa(R);P30=6;break;P30=1;break;case 2:R.complete && Q.uVa(R);P30=1;break;}}})),N.cTb(R.vc),f.ya(qa) && N.tc >= qa && Q.ub.zda(fa,R.vc),0 === xa && Q.Zf.tN(R.bitrate),R.complete?(ua.At+=R.duration,R.PHb && (ua.HV+=R.duration),X=R):(Q.ah || (Q.ah=new E.$ua(Q.H)),Q.ah.push(R))):Q.LE(R,!1);O30=5;break;}}}N30=2;for(;N30 !== 3;){switch(N30){case 5:sa();N30=1;break;case 2:T=[];N30=1;break;case 8:T=[];N30=9;break;N30=1;break;case 6:sa();N30=4;break;N30=1;break;case 4:return Promise.all(T);break;case 1:N30=0 < M.length?5:4;break;case 14:return Promise.all(T);break;N30=3;break;}}}).then(function(){var Q30,sa,T;Q30=2;for(;Q30 !== 8;){switch(Q30){case 2:Q30=1;break;case 1:X && N.vVa(X);Q30=5;break;case 5:Q30=X || (null === (sa=Q.ah) || void 0 === sa?0:sa.UB())?4:8;break;case 4:sa=Q.ud[S.N.Fb];T=N.Sia(N.tc);void 0 !== T?(N.fo=T,N.Wd=sa.N.Pg[xa].stream.pk(N.fo)):N.fo=N.pf?N.pf.index + 1:N.fo + 1;Q30=8;break;}}});break;case 7:Q=this;M30=4;break;M30=1;break;}}};O.prototype.Gfb=function(N,M){var R30,Q,S;R30=2;for(;R30 !== 3;){switch(R30){case 2:var q0Q=", pt";q0Q+="s";q0Q+=":";q0Q+=" ";var X0Q=",";X0Q+=" ";X0Q+="state: ";var D0Q="adopt";D0Q+="M";D0Q+="edia";D0Q+="Request: ";D0Q+="type: ";(Q=this,S=N.mediaType);this.I.Hh && this.ub.Ul(D0Q + S + X0Q + M.readyState + q0Q + M.Mc);this.Vda(S,M.Mc);return N.Na.Ulb(M).catch(function(fa){var S30;S30=2;for(;S30 !== 1;){switch(S30){case 4:Q.bk("",fa);S30=3;break;S30=1;break;case 2:var T0Q="Err";T0Q+="or a";T0Q+="dop";T0Q+="ti";T0Q+="ng requests";Q.bk(T0Q,fa);S30=1;break;}}});break;}}};O.prototype.Rda=function(N,M,Q){var T30,S;T30=2;for(;T30 !== 9;){switch(T30){case 2:S=this;void 0 === M && (M=F.PP.ufa);(Q || this.Ga.Ec).wra(N,M);this.Zw.reset();(void 0 === N?h.ff:[N]).forEach(function(fa){var U30;U30=2;for(;U30 !== 1;){switch(U30){case 2:S.Zb(fa) && (S.Ku[fa].reset(),S.Wjb(fa),S.Zf.OLb(fa));U30=1;break;}}});T30=9;break;}}};O.prototype.Usa=function(){var V30,N;V30=2;for(;V30 !== 5;){switch(V30){case 2:N=this;h.ff.forEach(function(M){var W30,Q;W30=2;for(;W30 !== 5;){switch(W30){case 2:null === (Q=N.Ku[M]) || void 0 === Q?void 0:Q.stop();W30=5;break;}}});V30=5;break;}}};O.prototype.qH=function(N){var X30,M;X30=2;for(;X30 !== 4;){switch(X30){case 2:M=this;(void 0 === N?h.ff:[N]).forEach(function(Q){var Y30,S;Y30=2;for(;Y30 !== 5;){switch(Y30){case 2:null === (S=M.Ku[Q]) || void 0 === S?void 0:S.resume();Y30=5;break;}}});return Promise.resolve();break;}}};O.prototype.$Q=function(N){var Z30,M,Q;Z30=2;for(;Z30 !== 3;){switch(Z30){case 2:M=this;N=void 0 === N?h.ff:[N];null === (Q=this.Zw) || void 0 === Q?void 0:Q.reset();N.forEach(function(S){var a40,fa;a40=2;for(;a40 !== 5;){switch(a40){case 2:null === (fa=M.Ku[S]) || void 0 === fa?void 0:fa.resume();a40=5;break;}}});Z30=3;break;}}};O.prototype.Wjb=function(N){var b40,M;b40=2;for(;b40 !== 3;){switch(b40){case 2:M=this.qb.sf[N];this.qb.Iv[N].Rma=void 0;M.At=0;b40=4;break;case 4:M.HV=0;b40=3;break;case 14:M.HV=3;b40=7;break;b40=3;break;}}};B10=87;break;}}})();b.HGa=a;r.uf(c.EventEmitter,a);},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.kaa=void 0;c=a(16);f=a(9);k=a(230);r=(function(){function l(d,g,h,m,n,q,p,t,u,w,v,x){void 0 === h && (h=0);this.Td=d;this.o0=g;this.X=h;this.Ea=m;this.e3=n;this.Ng=q;this.nL=p;this.config=t;this.H=u;this.ub=w;this.sxb=v;this.zg=x;this.Bv=0;}l.create=function(d){var h,m,n,q,p,t,u,w,v,x,y,z,A,B,D;function g(E){f.Ua(w,E.type,E);}h=d.Fb;m=d.sa;n=d.s3a;q=d.X;p=d.Ea;t=d.Xq;u=d.ub;w=d.Nb;v=d.config;x=d.H;y=d.Of;z=d.$m;A=d.nf;B=d.XB;D=new k.I9(Number(m.movieId),{Fb:h,sa:m,io:d.io,iZa:{gma:d.Mg,dXa:! !d.VWa},Ji:d.Ji,Fd:d.Fd,config:v,NVa:{ql:y.vj.bind(y),nf:A,XB:B,Qm:g,E4:function(E){return E === w.Ga.Ec.N;},IT:function(E,F,C,G,J){E=w.qb.sf[E];return !F || C || G || J?w.BQ:E.ig;},LB:function(E){return w.qb.Iv[E];},Ng:w.Ng.bind(w)},gV:function(E){w.emit("requestComplete",{timestamp:E.af,mediaRequest:E});},b3:function(){return w.Zf;},Hb:w.$b.Hb,mh:w.$b.mh,ORa:{Xq:t,rh:function(E,F,C,G,J){w.Qo(E,h,F,C,G,J);},Lm:function(){return w.w0;},ML:w.T.Rf.bind(w.T),Qm:g},eN:void 0,oH:{V:w.$b.Hz,da:w.$b.RC}});v.jy && D.QC({Nv:w.wl.Nv,ca:w.wl.ca,Rq:w.wl.Rq,Pm:u.Pm.bind(u)});d=new c.yh();d.addListener(D.WB,"onHeaderFragments",function(E){var F,C,G,J,K;F=E.mediaType;C=E.Ma;G=E.stream.Y;J=w.Ng(h);if(J){if(D.Pg[F] && E !== D.Pg[F])E.mv && (J=D.Pg[F],E=E.stream,K=J && J.stream,x.warn("first header received for non-current track (trackId " + E.trackId + "streamId " + E.Ma + "), expected track " + (K && K.trackId) + ", stream " + (K && K.Ma) + ", " + J));else {D.Pg[F]=E;E=w.Ga.Ec;if(0 === h){K=D.Zb(1)?E.Sa(1).tc:E.Sa(0).tc;E.q1(K,D);}J.TV=!1;J.n1();w.E0();}z.Nca();u.Iib(h,F,C,D.K,G);y.vj();}else x.warn("addFragments for stale manifestIndex:",h);});d.addListener(D.WB,"onHeaderRequestComplete",function(E){var F,C;E.lk?w.E0():E.CB && (x.warn("drm header header:",E.toString(),"but no headers seen, marking pipeline drmReady"),w.gy(E.K));F=E.mediaType;C=Object.getOwnPropertyNames(B.Hu[F]);w.qg[F].m_a(E.stream,1 === C.length && C[0] === E.Ma);y.mJa();w.fRb();});d.addListener(D.WB,"onHeaderFromCache",function(E){var F;F=E.header;E=E.jyb;F.lk && w.E0();E && u.yib(F.K,F.Ma);});return new l(D,n,q,p,function(){return w.Ga;},w.Ng.bind(w),w.nL.bind(w),v,x,u,!1,d);};Object.defineProperties(l.prototype,{N:{get:function(){return this.Td;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Fb:{get:function(){return this.N.Fb;},enumerable:!1,configurable:!0}});l.prototype.yp=function(d){return this.Td.mVa(d,this.j3(d));};l.prototype.j3=function(d){return this.o0[d];};l.prototype.close=function(){this.zg.clear();this.N.close();};l.prototype.Lc=function(){this.Td.Lc();delete this.Td;};l.prototype.clone=function(){return new l(this.N,this.o0,this.X,this.Ea,this.e3,this.Ng,this.nL,this.config,this.H,this.ub,!0,this.zg);};l.prototype.Yta=function(d){this.H.trace("updateAudioTrack:",this.o0[0],"->",d);this.o0[0]=d;};l.prototype.bUa=function(){return void 0 !== this.wG?this.wG:this.Ea?this.Ea:this.Td.duration;};l.prototype.Cob=function(d){var g,h;g=this.Td.Pg[1];if(g && g.stream.Be){if(this.oy && this.oy[1] && this.oy[1].X <= d && this.oy[1].Ea > d)return this.oy[1].Xc;g=g.stream.Y;d=g.Gm(d,void 0,!0);h=void 0;void 0 === h && (h=g.aj(d));return h;}};l.prototype.n1=function(){var d,g;if(!this.TV && this.EVa()){this.Ioa();d=[0,0];if(0 !== this.Fb && !this.Td.bf.IU && !this.Td.bf.replace){g=this.Ng(this.Fb - 1);g=this.Td.K === g.Td.K;d=this.e3().Ec;g=d.q1(this.X,this.N,d,g);d=g.OM;}this.X=d[1];this.OM=d;this.oy=g && g.oy;this.YNa();g=this.Td.Zb(1)?this.Td.Pg[1].stream.Y.Ea:this.Td.Pg[0].stream.Y.Ea;this.ub.Dib(this.Fb,this.Bv,this.X,this.wG,g);this.TV=!0;for(g=this.Fb + 1;g < this.nL();++g){d=this.Ng(g);d.TV=!1;d.n1();}}};l.prototype.YNa=function(){var d;if(0 === this.Fb || this.Td.bf.replace)this.Bv=0;else {d=this.Ng(this.Fb - 1);this.Bv=d.Bv + d.bUa() - this.X;}};l.prototype.Ioa=function(){var d,g,h,m,n,q,p,t;if(this.EVa()){n=this.e3().Ec;q=this.Ea || Infinity;p=this.Td.Zb(1);t=n.aT(q,this.N);this.wG=p?t[1].Ea:t[0].Ea;n=p?this.Td.Pg[1].stream.Y.Ea:this.Td.Pg[0].stream.Y.Ea;p=Math.min(null !== (g=null === (d=t[1]) || void 0 === d?void 0:d.Ea) && void 0 !== g?g:Infinity,null !== (m=null === (h=t[0]) || void 0 === h?void 0:h.Ea) && void 0 !== m?m:Infinity);this.ub.Fib(this.Fb,this.wG,n,p);d=this.e3().Qia(this.Fb);0 < d.length && d.forEach(function(u){u.xXb(t,q);});}};l.prototype.EVa=function(){var d,g,h,m;d=this.Td.Zb(0);g=this.Td.Zb(1);h=this.Td.Pg[0];m=this.Td.Pg[1];h=h && h.stream.Be;m=m && m.stream.Be;return (!d || h) && (!g || m);};return l;})();b.kaa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.KGa=void 0;r=a(2);c=a(9);a=r.__importDefault(a(5));f=a.default.rq;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function k(l,d,g){this.Pm=g;this.Okb=new c.zIa(l);this.ca=d.ca;this.Yfb=1E3 * d.fJb / d.Snb;this.lvb=d.Rq;this.LMa=!1;}k.prototype.bv=function(l){var d,g;d={s_xid:this.ca,dl:this.lvb?1:0};l.fK && (d.bs=c.v1(Math.floor(l.fK / this.Yfb) + 1,1,5));l.j6 && (d.limit_rate=l.j6);l.zNa && (d.bb_reason=l.zNa);l.X5a && (d.tm=l.X5a);if(l.gS){g=l.gS.N4();if(g || !g && this.LMa)(d.cpr_ss=l.gS.CN,d.cpr_ca=l.gS.oK,d.cpr_rec=l.gS.WM,this.LMa=g);}l.Cfa && (d.br="" + l.Cfa.start + "+" + l.Cfa.size);return this.Sib(d);};k.prototype.bsa=function(l,d){var g,h;try{g=new f(void 0,"notification");h=this.bv({zNa:l});d && h && g.open(d,void 0,2,void 0,void 0,void 0,h);}catch(m){this.Pm("SideChannel: Error when sending sendBlackBoxNotification. Error: " + m);}};k.prototype.Sib=function(l){var d;try{d=this.dkb(l);return this.Okb.encrypt(d);}catch(g){this.Pm("SideChannel: Error when obfuscating msg. Error: " + g);}};k.prototype.dkb=function(l){return Object.keys(l).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(l[d]));}).join("&");};return k;})();b.KGa=a;},function(r,b,a){var f,k,l,d,g,h;function c(m,n){var q,p;q=Math.floor(1E3 * m / n);p=1E3 * Math.round(q / 1E3);return new k.S(p,Math.abs(Math.floor(1001 * m / n) - p) > Math.abs(q - p)?1E3:1001);}Object.defineProperties(b,{__esModule:{value:!0}});b.Dva=void 0;f=a(392);k=a(22);l=a(6);d=a(9);g=a(393);h=a(394);r=(function(){function m(n,q,p){this.I=q;this.H=p;this.JA=new d.LGa();this.Z_=0;this.nC=n.nC;this.N=n.N;this.mediaType=n.mediaType;this.WN=n.WN;this.ME=n.ME;1 === this.mediaType && (q=this.nC.streams[0],void 0 !== q.framerate_value && void 0 !== q.framerate_scale && (this.sda=c(q.framerate_value,q.framerate_scale).Qqa()));this.fb=(this.rJ=this.sda) && this.rJ.U;this.Xca=this.nJa=!1;this.ula=-Infinity;this.qYa=Infinity;n=m.ugb(this,n.Mg);q=n.maxBitrate;p=n.Qd;this.ST=n.ST;this.maxBitrate=q;this.Qd=p;this.qkb=p.reduce(function(t,u){t[u.Ma]=u;return t;},{});!1;}m.ugb=function(n,q){var p,t,u,w,v;p=n.I;t=1 === n.mediaType;u=!1;w=0;v=[];n.nC.streams.forEach(function(x,y){var z,A,B;z=x.bitrate;A=!0;if(t){B=-1 === x.content_profile.indexOf("none");A=q && !B || !q && B;u=u || B;}A && z > w && (w=z);x=new h.Bva({Cv:x,mg:y,track:n,uv:A},p,n.H);v.push(x);});return {ST:u,maxBitrate:w,Qd:v};};Object.defineProperties(m.prototype,{woa:{get:function(){return !this.Be && 0 === this.Z_;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Be:{get:function(){return ! !this.so && ! !this.JA.value;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fia:{get:function(){return this.nJa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{K:{get:function(){return String(this.N.K);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{trackId:{get:function(){return this.nC.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pa:{get:function(){return this.rJ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{U:{get:function(){return this.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{kM:{get:function(){return this.kib;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{so:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{CL:{get:function(){return this.JA.value;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{tja:{get:function(){return this.pa.U;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sja:{get:function(){return this.pa.Xb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{X:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dja:{get:function(){return this.JA;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{HU:{get:function(){return this.Qd.some(function(n){var q;return 1 < ((null === (q=n.yg) || void 0 === q?void 0:q.length) || 0);});},enumerable:!1,configurable:!0}});m.prototype.tv=function(n){return this.LF()[n];};m.prototype.LF=function(){return this.qkb;};m.prototype.equals=function(n){return this.K === n.K && this.mediaType === n.mediaType && this.trackId === n.trackId;};m.prototype.v6=function(){this.Z_++;};m.prototype.u6=function(){0 < this.Z_ && this.Z_--;};m.prototype.t6=function(n,q,p,t,u){if(t && void 0 !== t.Dk && (this.Be || void 0 !== t.gd && t.gd.length)){if((n.My && (this.nJa=!0),this.Be))!this.Xca && t.gd && t.gd.length > this.so.length && (this.Qc=new f.Nba(this.mediaType,this.pa,t,u),this.JA.R2a(),this.ula=-Infinity,this.Xca=!0);else {this.hLa(q);if(p=p || this.sda)(this.gLa(p || this.sda),void 0 === this.U && this.iLa(p.U));this.Qc=new f.Nba(this.mediaType,this.pa,t,u);n.My && (this.Xca=!0);}}else this.H && this.H.error("AseTrack.onHeaderReceived with missing fragments data");};m.prototype.ILb=function(n){void 0 === this.JA.value && this.JA.set(n);};m.prototype.Kqb=function(n){this.Be || (this.iLa(n.U),this.hLa(n.kM),this.gLa(n.pa),this.Qc=n.so,n.dja.value?this.JA.set(n.dja.value):this.JA.R2a());};m.prototype.Fm=function(n,q,p,t){l.assert(this.CL);return g.Fm(this.mediaType,n,this.CL,q,p,t);};m.prototype.ny=function(n,q,p){l.assert(this.CL);return g.ny(this.mediaType,n,this.CL,q,p);};m.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,trackId:this.trackId};};m.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};m.prototype.iLa=function(n){this.fb=n;};m.prototype.hLa=function(n){this.kib=n;};m.prototype.gLa=function(n){this.rJ=n;};return m;})();b.Dva=r;},function(r,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.cHa=b.Ueb=void 0;c=a(2);a(111);f=a(6);r=c.__importDefault(a(5));k=a(402);a=a(392);l=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(h){d=!1;}g=(function(h){function m(n,q){q=h.call(this,n.so,q) || this;q.FE=n;return q;}c.__extends(m,h);Object.defineProperties(m.prototype,{da:{get:function(){return this.FE.y4a(this.Hg);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{offset:{get:function(){return this.FE.Gd(this.Hg);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{voa:{get:function(){return this.FE.qG && this.FE.qG[this.Hg];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Eh:{get:function(){return this.FE.ezb(this.Hg);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wb:{get:function(){return this.FE.hq && this.FE.hq[this.Hg];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yNa:{get:function(){return 8 * this.da / (1E3 * this.np / this.U);},enumerable:!1,configurable:!0}});m.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Ya,contentEndTicks:this.kb,durationTicks:this.np,timescale:this.U,startPts:this.X,endPts:this.Ea,duration:this.duration,additionalSAPs:this.Eh};};return m;})(a.IHa);b.Ueb=g;r=(function(){function h(m,n,q,p,t,u){this.FJ=128;this.Qc=m;this.ye=n.offset;this.Uo=n.sizes;this.eJ=this.jQ=this.Dh=this.uLa=this.$da=void 0;this.jib=q;this.eca=p && p.Gd;this.DLa=t;this.Ue=Math.min(this.Qc.length,this.Uo.length);this.Whb=this.rob();this.so.Bq.length !== this.Uo.length && l.error("Mis-matched stream duration (" + this.so.Bq.length + "," + this.Uo.length + ") for movie id " + u);this.so.M0 && !this.eca && l.error("Mis-matched additional SAPs information for movie id " + u);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.Qc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{length:{get:function(){return this.Ue;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dk:{get:function(){return this.Qc.Dk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ria:{get:function(){return this.Qc.ria;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{X:{get:function(){return this.Qc.X;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ea:{get:function(){return this.Qc.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ona:{get:function(){return this.Qc.Ona;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bz:{get:function(){return this.Whb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{pa:{get:function(){return this.Qc.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{U:{get:function(){return this.Qc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Dg:{get:function(){return this.uLa || this.oca();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qG:{get:function(){return this.jib;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{gMa:{get:function(){return this.eca;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hq:{get:function(){return this.DLa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{so:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{AN:{get:function(){return this.$da || this.tgb();},enumerable:!1,configurable:!0}});h.prototype.y4a=function(m){if(this.Uo)return this.Uo[m];l.error("sizesByIndex _sizes is undefined");return -1;};h.prototype.aj=function(m){return this.Qc.aj(m);};h.prototype.TS=function(m){return this.Qc.aj(m) + this.Qc.gd(m);};h.prototype.Gd=function(m){var n,q,p;if(this.jQ !== m || void 0 === this.eJ){if(0 === m)return this.ye;if(this.jQ === m - 1 && void 0 !== this.eJ)(this.eJ+=this.Uo[this.jQ],++this.jQ);else {n=this.Dh || this.dgb();q=Math.floor(m / this.FJ);p=q * this.FJ;for(n=n[q];p < m;++p){n+=this.Uo[p];}this.jQ=m;this.eJ=n;}}return this.eJ;};h.prototype.gd=function(m){return this.Qc.gd(m);};h.prototype.get=function(m){return new g(this,m);};h.prototype.ezb=function(m){var n,q,p,t,u;f.assert(0 <= m);n=this.so.M0;q=this.so.hMa;p=this.eca;if(!p || !n || !q || m >= n.length)return [];t=[];u=m === n.length - 1?q.length:n[m + 1];for(n=n[m];n < u;++n){t.push({Bk:q[n],pd:this.aj(m) + this.pa.xC(q[n]).V,offset:p[n]});}return t;};h.prototype.xTb=function(m){this.DLa=m;};h.prototype.Gm=function(m,n,q){return this.Qc.Gm(m,n,q);};h.prototype.K2=function(m,n,q){return this.Qc.K2(m,n,q);};h.prototype.Yga=function(m,n){return this.Qc.Yga(m,n);};h.prototype.oob=function(m,n,q,p,t){var u,w,v,x,y,z,A,B,D;u=!0;w=0;v=this.Qc.Bq;x=this.Uo;m=Math.floor(m * this.U / 1E3);y=Math.floor(q * this.U / 1E3);z=0;A=0;B=0;if(this.Qc.Wta && this.Qc.Vta)for(w=this.Qc.Wta;w <= this.Qc.Vta;++w){z+=v[w];A+=x[w];}if(A > n)u=!1;else for(;w < this.length && (!t || w < t);){D=x[w];q=v[w];if(A + D > n){for(;1 < w - B && A + D > n && (z - v[B] >= y || A - x[B] > p);){z-=v[B];A-=x[B];++B;}if(z < m || A + D > n){u=!1;this.Qc.Wta=B;this.Qc.Vta=w;break;}}z+=q;A+=D;++w;}return u;};h.prototype.subarray=function(m,n){f.assert(void 0 === m || 0 <= m && m < this.length);f.assert(void 0 === n || n > m && n <= this.length);return new h(this.Qc.subarray(m,n),{offset:this.Gd(m),sizes:this.Uo.subarray(m,n)},this.qG && this.qG.subarray(m,n),this.gMa && ({Gd:this.gMa}));};h.prototype.forEach=function(m){for(var n=0;n < this.length;++n){m(this.get(n),n,this);}};h.prototype.map=function(m){for(var n=[],q=0;q < this.length;++q){n.push(m(this.get(q),q,this));}return n;};h.prototype.reduce=function(m,n){for(var q=0;q < this.length;++q){n=m(n,this.get(q),q,this);}return n;};h.prototype.toJSON=function(){return {length:this.length};};h.prototype.dump=function(){var n;l.trace("StreamFragments: " + this.length);for(var m=0;m < this.length;++m){n=this.get(m);l.trace("StreamFragments: " + m + ": [" + n.X + "-" + n.Ea + "] @ " + n.offset + ", " + n.da + " bytes");}};h.prototype.rob=function(){var m,n,q,p,u;m=0;n=this.Qc.VYa;q=this.Qc.Bq;p=this.Uo;if(void 0 === n || n >= this.length){for(var t=0;t < this.length;++t){u=p[t] / q[t];u > m && (m=u,n=t);}void 0 === this.Qc.VYa && (this.Qc.VYa=n);}else m=p[n] / q[n];return Math.floor(m * this.U / 125);};h.prototype.oca=function(){for(var m=0,n=0;n < this.length;++n){m+=this.Uo[n];}return this.uLa=m;};h.prototype.tgb=function(){return this.$da=new k.Eba(this.Qc.Bq,this.Uo,this.Qc.U);};h.prototype.dgb=function(){if(!this.Dh){for(var m=d?new Float64Array(Math.ceil(this.length / this.FJ)):Array(Math.ceil(this.length / this.FJ)),n=this.ye,q=0;q < m.length;++q){m[q]=n;for(var p=0;p < this.FJ;++p){n+=this.Uo[q * this.FJ + p];}}this.Dh=m;}return this.Dh;};return h;})();b.cHa=r;r.prototype.Q4a=a.Av(r.prototype.aj);a.Av(r.prototype.TS);a.Av(r.prototype.gd);a.Av(r.prototype.Gd);a.Av(r.prototype.y4a);a.Av(r.prototype.get);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.ic();this.Vb=1 === this.version?this.ti([{creationTime:"int64"},{modificationTime:"int64"},{U:"int32"},{duration:"int64"}]):this.ti([{creationTime:"int32"},{modificationTime:"int32"},{U:"int32"},{duration:"int32"}]);return !0;};k.Mb="mvhd";k.La=!1;return k;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="trak";k.La=!0;return k;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l;this.ic();l=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];l=l.concat({offset:64,type:"offset"},{dHb:"int16"},{dmb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Vb=this.ti(l);this.Vb.BWb=! !(this.flags & 1);this.Vb.CWb=! !(this.flags & 2);this.Vb.DWb=! !(this.flags & 4);this.Vb.EWb=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};k.Mb="tkhd";k.La=!1;return k;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.ic();this.Vb=this.ti(1 === this.version?[{W2:"int64"}]:[{W2:"int32"}]);return !0;};k.Mb="mehd";k.La=!1;return k;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Vb=this.ti([{$Db:"int32"},{KYb:"int32"}]);return !0;};k.Mb="pasp";k.La=!1;return k;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Vb=this.ti([{Unb:"int32"},{maxBitrate:"int32"},{sfa:"int32"}]);return !0;};k.Mb="btrt";k.La=!1;return k;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.u.nl();this.u.nl();for(this.cF=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.cF.push(this.u.nl());}return !0;};k.Mb="ftyp";k.La=!1;return k;})(a(31).mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(82);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ic();this.Vb=this.ti([{kOb:"int32"},{PT:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Vb.PT=f.tn(this.Vb.PT);return !0;};l.Mb="hdlr";l.La=!1;return l;})(a(31).mc);b.default=r;},function(r,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(97);k=a(232);l=a(175);r=a(31);d=a(83);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){this.ic();this.Nl=this.u.ta();return !0;};h.prototype.Js=function(m){var n;n=Object.keys(this.Ta);n.length && (n=n[0],this.Ta[n].length && (n=this.Ta[n][0],n instanceof l.default?this.pa=new k.S(n.ry,n.samplerate):n instanceof d.default && (n=n.Ta[f.HD]) && n.length && (n=n[0].Vb,1E3 !== n.by && 1001 !== n.by || 0 !== n.xG % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.xG + "/" + n.by):this.pa=new k.S(n.by,n.xG)),this.pa && (m.pa=this.pa)));return !0;};h.prototype.eW=function(m){void 0 !== this.Ta[m] && 0 !== this.Ta[m].length && (this.ja.Eg(this.Nl - 1,this.byteOffset + 12),m=this.Ta[m][0],this.ue(m.byteLength,m.byteOffset));};h.Mb="stsd";h.La=!0;return h;})(r.mc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.xja=this.u.ec(2);this.Efa=this.u.ec(5);this.Ffa=this.u.ec(3);this.tea=this.u.ec(3);this.u.ec(1);this.u.ec(5);this.u.ec(5);return !0;};k.Mb="dac3";return k;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var d;this.Toa=this.u.Gc() & 7;this.gta=[];for(var l=0;l < this.Toa;l++){d={xja:this.u.ec(2),Efa:this.u.ec(5),Ffa:this.u.ec(5),tea:this.u.ec(3),fHb:this.u.ec(1),Soa:this.u.ec(4)};0 < d.Soa?d.Zob=this.u.ec(9):this.u.ec(1);this.gta.push(d);}return !0;};k.Mb="dec3";return k;})(a(31).mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(31);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ic();this.sW=this.u.nl();f.ia && this.u.console.trace("SchemeTypeBoxTranslator: " + this.sW);"cenc" === this.sW && (this.u.offset-=4,f.ia && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.ja.LX("piff"));this.u.ta();return !0;};l.Mb="schm";l.La=!1;return l;})(f.mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l;this.u.eb();this.z9=this.u.eb();this.u.eb();this.u.eb();this.u.eb();this.NW=this.wE(this.u.eb() & 31);this.wE(this.u.eb());this.pz=this.NW.length?this.NW[0][0]:this.z9;this.SQ=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.pz || 110 === this.pz || 122 === this.pz || 144 === this.pz) && (this.u.eb(),this.u.eb(),this.wE(this.u.eb()));l=this.startOffset + this.length - this.SQ;0 < l && this.ue(l,this.SQ);return !0;};k.prototype.wE=function(l){var h;for(var d=[],g=0;g < l;++g){h=this.u.Gc();d.push(this.u.vz(h));}return d;};k.Mb="avcC";k.La=!1;return k;})(a(31).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.Js=function(){var l;l=this.cl("esds");if(l=l && l.r$.cl(5))this.ry=l.ry;return !0;};k.Mb="mp4a";k.La=!0;return k;})(a(175).default);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(234);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ic();this.r$=f.OO.VV(this.u);return !0;};l.Mb="esds";l.La=!1;return l;})(a(31).mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(97);a=a(31);f=r.HD;a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ic();this.Vb=this.ti([{xG:"int32"},{by:"int16"}]);return !0;};l.Mb=f;l.La=!1;return l;})(a.mc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l,d,g,h,m;this.ic();l=this.ti([{GH:"int32"},{tS:"int32"},{Zx:"int32"},{ay:"int32"},{$x:"int32"}]);d=l.GH;g=l.tS;h=l.Zx;m=l.$x;l=l.ay;this.Vb={trackId:d,lub:g,Yx:h,mub:m,nub:l};this.GH=d;this.tS=g;this.Zx=h;this.ay=l;this.$x=m;return !0;};k.Mb="trex";k.La=!1;return k;})(a(31).mc);b.default=r;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(837);k=a(238);l=a(147);d=a(232);g=a(31);r=a(397);h=a(398);m=a(400);n=a(148);q=a(231);p=a(97);t=a(401);a=(function(){function u(w,v,x,y,z,A){this.console=w;this.stream=v;this.sh=y;this.Iea=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.DVa=n.Rja();}u.path=function(w,v){return v.reduce(function(x,y){return x && x.Ta[y] && x.Ta[y][0];},w);};u.hka=function(w){return w && w.cF && -1 !== w.cF.indexOf("mcl0")?"mcl0":void 0;};u.Uia=function(w,v){var x,y;l.assert("mcl0" === w,"Unsupported McClearen brand");x=v.Y;w=x.gd;v=new d.S(120,1).Xf(x.U).Xb;y=0;for(x=x.Dk;y < w.length && x < v;){x+=w[y++];}return y;};u.prototype.parse=function(w){var v;v=this.Nra();if(!v.done){if(v.ZU)return {Wm:!1,fMa:v.ZU};this.console.error("Scan error: " + v.error);return {Wm:!1,parseError:v.error || "unknown mp4 scan error"};}v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + v.offset);this.view=new DataView(v);w=this.tpa(w);return w.done?this.Sga():(this.console.error("Parse error: " + w.error),{Wm:!1,parseError:w.error || "unknown mp4 parse error"});};u.prototype.Em=function(w){return g.mc.Em(this,w);};u.prototype.cl=function(w){return g.mc.cl(this,w);};u.prototype.Nra=function(){var w,v;w=new t.J$(this.sh,this.Iea?[p.Mw,p.Lw]:[],this.config && this.config.RVb || ["moof",p.yP],this.config && this.config.xV);v=c.__assign(c.__assign({},this.config),{CG:!1});return new m.kD(u.aH,w,this.view,this.console,v).parse();};u.prototype.tpa=function(w){var v,x,y;v=new t.KO(this.view.byteLength);x=Object.create(q.Kp.Ta);this.config && ((this.config.H6 || this.config.E8 || this.config.SC) && f(q.Kp.ZG,x),this.config.F8 && f(q.Kp.Ita,x),this.config.E8 && f(q.Kp.mX,x));y=c.__assign(c.__assign({},this.config),{CG:!0});this.ac=new m.kD(x,v,this.view,this.console,y);w=this.ac.parse(w);w.done && (this.Ta=this.ac.Ta);return w;};u.prototype.Sga=function(){var w,v,x,y,z,A;w={Wm:!0};v=u.path(this,["moov"]);x=u.path(v,["trak","mdia","minf","stbl","stsd"]);if(this.config.H6)if(x)(w.pa=x.pa,w.RRb=x.Ta);else return {Wm:!1,parseError:"Missing sample descriptions"};y=u.path(x,["encv","sinf","schi"]);y && (y=u.path(y,["tenc"]) || u.path(y,[p.DP])) && (w.FRa={Aqb:y.Ni,aG:y.aG,EGb:!1});if(y=u.path(v,["trak","mdia","mdhd"]))w.U=y.U;if(y=u.path(v,["mvex","trex"]))w.Yx=y && y.Vb.Yx;w.Yx && w.U && (w.pa=new d.S(w.Yx,w.U));if(y=u.path(this,["sidx"])){z=u.path(this,[p.Mw]);z=z && z.Vna;A=u.path(this,[p.Lw]);A=A && A.Eh;w.Y=y.Y;w.qG=z;w.Eh=A;}if(z=this.Ta.vmaf && this.Ta.vmaf[0])w.hq=z.hq;if(this.config.X2a)if(v)(this.trim(v.byteOffset + v.byteLength),this.config.SC && x && 1 < x.Nl && y && (w.yg=this.SC(x,y)),void 0 === w.yg && (v=this.ac.iy?k.concat(this.ac.na()):this.view.buffer,w.yg=[{Md:0,data:v}]));else return {Wm:!1,parseError:"Missing movie box"};w.Wm=!0;w.yV=this.ac.offset;return w;};u.prototype.trim=function(w){var v;v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.ac.trim(w);this.view=new DataView(v);};u.prototype.SC=function(w,v){var x,y,z;x=Object.keys(w.Ta);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=u.path(this,["ftyp"]);z=u.hka(x);if(z)return (x=[],this.ac.xqa(),w.eW("encv"),x.push({Md:0,lk:!1,data:k.concat(this.ac.na())}),this.ac.aqa(),w.eW(y[0]),w=u.Uia(z,v),x.push({Md:w,lk:!0,data:k.concat(this.ac.na())}),x);}};u.aH={};return u;})();b.Ur=a;a.aH[p.JD]=r.default;a.aH[p.KD]=h.default;},function(r){r.exports=function f(a,c){var k;a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(l){k=Object.getOwnPropertyDescriptor(a,l);void 0 !== k && Object.defineProperty(c,l,k);});};},function(r,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);f=a(147);k=a(238);l=a(82);r=a(839);d=(function(){function g(h){h?(this.rf=h.rf.slice(),this.Fg=h.Fg.slice(),this.Gd=h.Gd.slice(),this.trim=h.trim):(this.rf=[],this.Fg=[],this.Gd=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.rf.length && 0 === this.Fg.length && 0 === this.Gd.length;},enumerable:!0,configurable:!0}});return g;})();r=(function(g){function h(m,n,q){m=g.call(this,m,n,q) || this;m.KS=[];m.bb=new d();return m;}c.__extends(h,g);h.Yea=function(m,n){if(n.offset + n.size <= m.byteLength)switch(n.size){case 1:m.setUint8(n.offset,n.value);break;case 2:n.Ut?m.setInt16(n.offset,n.value):m.setUint16(n.offset,n.value);break;case 4:n.Ut?m.setInt32(n.offset,n.value):m.setUint32(n.offset,n.value);break;case 8:f.assert(!n.Ut);m.setUint32(n.offset,Math.floor(n.value / 4294967296));m.setUint32(n.offset + 4,n.value & 4294967295);break;default:f.assert(!1);}};Object.defineProperties(h.prototype,{iy:{get:function(){return !this.bb.empty;},enumerable:!0,configurable:!0}});h.prototype.$z=function(m,n){this.bb.Fg.push({offset:void 0 !== n?n:this.offset,value:m,size:1});void 0 === n && (this.offset+=1);};h.prototype.Hua=function(m,n){this.bb.Fg.push({offset:void 0 !== n?n:this.offset,value:m,size:2,Ut:!1});void 0 === n && (this.offset+=2);};h.prototype.Eg=function(m,n){this.bb.Fg.push({offset:void 0 !== n?n:this.offset,value:m,size:4,Ut:!1});void 0 === n && (this.offset+=4);};h.prototype.Iua=function(m,n){this.bb.Fg.push({offset:void 0 !== n?n:this.offset,value:m,size:8,Ut:!1});void 0 === n && (this.offset+=8);};h.prototype.LX=function(m){this.Eg(l.nQ(m));};h.prototype.RH=function(m,n){this.bb.Gd.push({offset:this.offset,Uk:m,value:n});this.offset+=4;};h.prototype.ue=function(m,n,q){this.bb.rf.push({offset:n,remove:m,$a:q});};h.prototype.Lt=function(m,n,q,p){this.bb.rf.push({offset:q,remove:m,replace:n,$a:p});};h.prototype.trim=function(m){this.bb.trim=m;};h.prototype.xqa=function(){this.KS.push(new d(this.bb));};h.prototype.aqa=function(){this.bb=this.KS.pop() || new d();};h.prototype.na=function(){var m,n,q,p,t,u,w;m=this;if(0 === this.bb.rf.length && 0 === this.bb.Fg.length && 0 === this.bb.Gd.length)return [void 0 === this.bb.trim?this.view.buffer:this.view.buffer.slice(0,this.bb.trim)];this.bb.rf.sort(function(v,x){return v.offset - x.offset;});this.bb.Fg.sort(function(v,x){return v.offset - x.offset;});this.zra();n=this.Ria();q=this.view.buffer.slice(0,n);p=new DataView(q);this.bb.Fg.forEach(h.Yea.bind(void 0,p));this.bua(p);this.$ta(p);t=[];u=void 0 !== this.bb.trim?Math.min(this.bb.trim,this.view.byteLength):this.view.byteLength;w=0;this.bb.rf.filter(function(v){return v.offset <= u;}).forEach(function(v){v.offset > w && (t.push(p.buffer.slice(w,v.offset)),v.offset > p.byteLength && p !== m.view && (p=m.view,t.push(p.buffer.slice(n,v.offset))));v.replace && t.push(v.replace);w=v.offset + v.remove;});w < n && t.push(q.slice(w));w < u && t.push(this.view.buffer.slice(Math.max(q.byteLength,w),u));return t;};h.prototype.Ria=function(){var m,n,q;m=[];n=this.bb.Fg[this.bb.Fg.length - 1];q=this.bb.Gd[this.bb.Gd.length - 1];n && m.push(n.offset + n.size);q && m.push(q.offset + 4);this.bb.rf.filter(function(p){return p.$a;}).forEach(function(p){return m.push(p.$a.byteOffset + 4);});n=Math.max.apply(void 0,m);return void 0 !== this.bb.trim?Math.min(n,this.bb.trim):n;};h.prototype.zra=function(){this.bb.rf=this.bb.rf.reduce(function(m,n){var q,p;if(0 === m.length)return (m.push(n),m);q=m[m.length - 1];p=q.offset + q.remove;n.offset >= p?m.push(n):n.offset + n.remove > p && (f.assert(q.$a === n.$a),q.remove+=n.offset + n.remove - p,n.replace && (q.replace=q.replace?k.concat(q.replace,n.replace):n.replace));return m;},[]);};h.prototype.bua=function(m){var n;n=this;this.bb.Gd.forEach(function(q){var p,t,u,w;p=m;t=q.offset;n.bb.rf.some(function(v){return v.offset <= q.offset && v.replace && v.offset + v.replace.byteLength >= q.offset + 4?(p=new DataView(v.replace),t=q.offset - v.offset,!0):!1;});u=q.Uk + (void 0 !== q.value?q.value:p.getInt32(t));w=n.bb.rf.reduce(function(v,x){return x.offset > q.Uk && x.offset < u?v + (x.remove - (x.replace?x.replace.byteLength:0)):v;},0);p.setInt32(t,u - q.Uk - w);});};h.prototype.$ta=function(m){this.bb.rf.forEach(function(n){var q;q=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== q)for(n=n.$a;n;){m.setUint32(n.byteOffset,m.getUint32(n.byteOffset) - q);n=n.parent;}});};return h;})(r.Vba);b.Uba=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(148);a(148);f=a(82);r=(function(){function k(l,d,g){this.view=l;this.console=d;this.config=g;this.view=l;this.console=d;this.Nm=this.Ix=this.offset=0;}k.prototype.Pja=function(l){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,l);};k.prototype.ec=function(l){for(;this.Nm < l;){this.Ix=(this.Ix << 8) + this.eb();this.Nm+=8;}this.Nm-=l;return this.Ix >>> this.Nm & (1 << l) - 1;};k.prototype.eb=function(){var l;l=this.view.getUint8(this.offset);this.offset+=1;return l;};k.prototype.Gc=function(l){l=this.view.getUint16(this.offset,l);this.offset+=2;return l;};k.prototype.ta=function(l){l=this.view.getUint32(this.offset,l);this.offset+=4;return l;};k.prototype.OG=function(){var l;l=this.view.getInt32(this.offset,void 0);this.offset+=4;return l;};k.prototype.Bpa=function(l,d){var g;g=this.view.getUint32(this.offset + (l?4:0),l);l=this.view.getUint32(this.offset + (l?0:4),l);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + l;};k.prototype.Hd=function(l,d){l=this.Bpa(l,d);this.offset+=8;return l;};k.prototype.Cpa=function(l,d){var g;g=this.view.getInt32(this.offset + (l?4:0),l);l=this.view.getUint32(this.offset + (l?0:4),l);d || 0 === ((0 < g?g:-g) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * g + l;};k.prototype.Kqa=function(){var l;l=this.Cpa(void 0,void 0);this.offset+=8;return l;};k.prototype.nl=function(){return f.tn(this.ta());};k.prototype.xz=function(){var d,g,h,m,n,q;function l(p,t){return ("000000" + p.toString(16)).slice(2 * -t);}d=this.ta(!0);g=this.Gc(!0);h=this.Gc(!0);m=this.Gc();n=this.Gc();q=this.ta();return [l(d,4),l(g,2),l(h,2),l(m,2),l(n,2) + l(q,4)].join("-");};k.prototype.Hqa=function(l){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + l);};k.prototype.Fqa=function(l){var d;d=[];if(0 === l)return "";l=l || Number.MAX_SAFE_INTEGER;for(var g=this.eb();0 !== g && 0 <= --l;){d.push(g);g=this.eb();}return String.fromCharCode.apply(null,d);};k.prototype.vz=function(l){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.qh(this.config.Vz && c.Xka || c.Ep,1,l,d,g);};k.prototype.Dqa=function(l,d,g){var h;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.qh(this.config.Vz && c.Vka || c.yy,2,l,d,g,h);};k.prototype.uz=function(l,d,g){var h;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.qh(this.config.Vz && c.Wka || c.Rs,4,l,d,g,h);};k.prototype.Iqa=function(){for(var l=this.eb(),d=l & 127;l & 128;){l=this.eb();d=d << 7 | l & 127;}return d;};k.prototype.qh=function(l,d,g,h,m,n){void 0 === m && (m=!0);void 0 === n && (n=!1);l=l(this.view,this.offset,g,h,n);this.offset=m || !h || h === d?this.offset + g * (h || d):this.offset + d;return l;};return k;})();b.Vba=r;},function(r,b,a){var k,l,d,g;function c(h,m,n,q){l.call(this,h,m,n,q);}function f(h,m,n){l.call(this,h,m,n,void 0);}k=a(97);l=a(239).sq;d=a(399);g=a(82).nQ;c.prototype=Object.create(l.prototype);f.prototype=Object.create(c.prototype);f.prototype.Vca=function(h,m){return "string" === typeof m?d[m]:m?d.reset[h] || d.Msa[h]:d.Msa[h];};f.prototype.bra=function(h,m,n){return this.na(h,m,!1,n,void 0);};f.prototype.fra=function(h,m,n){return this.na(h,m,!0,n,void 0);};f.prototype.na=function(h,m,n,q,p){var u,w,v,x,y,z,A,B,D,E,F,C,G,J;function t(K){w=u[K];v=w.vh("traf");if(void 0 === v || void 0 === v.yj)return !1;A=v.vh("tfdt");if(void 0 === A)return !1;x=v.vh("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;u=this.Ta.moof;if(!u || 0 === u.length)return !1;if(void 0 !== h){y=h;for(h=0;h < u.length;++h){if(!t(h,this.ac.console.trace))return !1;if(x.Ab > y || n && x.Ab === y)break;y-=x.Ab;}}else if((h=n?u.length - 1:0,!t(h,this.ac.console.trace)))return !1;if(n && h < u.length - 1){z=u[h + 1];this.ac.ue(this.Jtb - z.startOffset,z.startOffset);}else !n && 0 < h && this.ac.ue(w.startOffset,0);z=v.vh("tfhd");if(void 0 === z)return !1;A=v.vh("tfdt");B=x.Ab;D=v.vh("saiz");E=v.vh("saio");F=v.vh(k.CP);C=v.vh("sbgp");if(!(!D && !E || D && E))return !1;G=v.vh("sdtp");if(this.Ta.mdat && h < this.Ta.mdat.length)J=this.Ta.mdat[h];else if(h !== u.length - 1)return !1;void 0 === y && (y=n?x.Ab:0);if(x.na(v,z,J || this.ac,m,y,v.yj,n))x.iy && (!n && A && A.na(x.Ksa),D && E && (D.na(x.bq,n),E.na(F?0:D.YG,v.yj,n)),F && F.na(x.bq,n),G && G.na(x.bq,B,n),C && C.na(x.bq,n));else if(!n){if(h === u.length - 1)return !1;this.ac.ue(u[h + 1].startOffset - w.startOffset,w.startOffset);}else if(0 === x.bq)return !1;q && (m=this.Vca(this.stream.profile,p)) && x.ira(v,z,J,n,q,m);n=this.ac.na();q=n.reduce(function(K,H){return K + H.byteLength;},0);n={jd:n,length:q,Vm:this.ac.view.byteLength};x.iy && !J && (n.Vp=v.yj + x.Vp,n.vi=x.vi);return n;};r.exports={tq:f,Wy:function(h){var m,n;m=new ArrayBuffer(8);n=new DataView(m);n.setUint32(0,h + 8);n.setUint32(4,g("mdat"));return m;}};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);r=a(239);f=a(238);a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.na=function(d){var g,h,m,n;g=this;if(!this.parse().done)return !1;h=this.Ta.moov;if(!h || 0 === h.length)return !1;m=h[0].cl("tenc");if(!m)return !1;n=new Uint8Array(m.Ni);d.forEach(function(q){for(var p=q.from,t=!0,u=0;u < p.length;u++){if(n[u] !== p[u]){t=!1;break;}}t && g.ac.Lt(q.from.length,q.to,m.aG);});return f.concat(this.ac.na());};return l;})(r.sq);b.sI=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.hm || (b.hm={});r[r.Sb=0]="AUDIO";r[r.Eb=1]="VIDEO";},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Hya=void 0;r=a(2);c=a(16);f=r.__importStar(a(10));k=r.__importDefault(a(5));l=new k.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=r.__importDefault(a(27));g=r.__importDefault(a(844));h=k.default.rq;m=h.CY;n={};q={};a=[d.default.Yg.Nw,!1];r=[d.default.Yg.Nw,!0];p=[d.default.Yg.UD,!1];t=[d.default.Yg.UD,!0];u=[d.default.Yg.URL,!0];w=[-1,!1];v=[d.default.Yg.UD,!1];n[m.xZb]=p;n[m.UNKNOWN_ERROR]=p;n[m.O1b]=p;n[m.B$a]=p;n[m.nxa]=p;n[m.N$a]=p;n[m.F$a]=t;n[m.E9a]=t;n[m.uwa]=v;n[m.swa]=v;n[m.F9a]=w;n[m.G9a]=v;n[m.H9a]=v;n[m.B9a]=p;n[m.D9a]=p;n[m.twa]=a;n[m.C9a]=p;n[m.A9a]=v;n[m.r_b]=t;n[m.Pab]=v;n[m.Cza]=v;n[m.Bza]=v;n[m.yza]=v;n[m.zza]=v;n[m.Oab]=u;n[m.E$]=t;n[m.G$]=u;n[m.F$]=r;n[m.Fza]=t;n[m.Rab]=u;n[m.TY]=v;n[m.Dza]=t;n[m.Qab]=t;n[m.I$a]=t;n[m.C$a]=p;n[m.Ieb]=p;n[m.s$a]=p;n[m.t$a]=p;n[m.u$a]=p;n[m.v$a]=p;n[m.w$a]=p;n[m.x$a]=p;n[m.y$a]=p;n[m.z$a]=p;n[m.A$a]=p;n[m.D$a]=p;n[m.E$a]=p;n[m.G$a]=p;n[m.H$a]=p;n[m.J$a]=p;n[m.K$a]=p;n[m.L$a]=p;n[m.M$a]=p;n[m.O$a]=p;n[m.P$a]=p;n[m.Heb]=v;n[m.TIMEOUT]=a;q[m.uwa]=!0;q[m.Cza]=!0;q[m.Bza]=!0;q[m.zza]=!0;q[m.nxa]=!0;a=(function(){var D40;D40=2;for(;D40 !== 12;){switch(D40){case 9:x.prototype.s7=function(){var P40;P40=2;for(;P40 !== 1;){switch(P40){case 2:this.gN || (this.Ql.s7(),this.sta={},this.Xq());P40=1;break;}}};x.prototype.M8=function(y){var Q40,z;Q40=2;for(;Q40 !== 9;){switch(Q40){case 2:z=this.config;this.RL=Math.max(y.timestamp || k.default.time.ba(),this.RL);this.FOa();Q40=4;break;case 4:var w0Q="updating";w0Q+="Las";w0Q+="tSuccess";w0Q+="Eve";w0Q+="nt";var E0Q="u";E0Q+="pdatingL";E0Q+="a";E0Q+="stSuccessEvent";z.Ft && this.mqa.M8(y);this.events.emit(E0Q,{type:w0Q});Q40=9;break;}}};x.prototype.epa=function(){var R40;R40=2;for(;R40 !== 1;){switch(R40){case 2:this.Ds=0;R40=1;break;case 4:this.Ds=8;R40=5;break;R40=1;break;}}};x.prototype.Lj=function(){var S40,y,z,A;S40=2;for(;S40 !== 4;){switch(S40){case 2:var Z0Q="m";Z0Q+="s";var H0Q="Setting un";H0Q+="derflow timeou";H0Q+="t in ";(y=this,z=this.config,A=z.s5);this.RL=Math.max(k.default.time.ba(),this.RL);!z.d7a || this.rX || z.S8 && z.QS && z.GKb || (l.info(H0Q + A + Z0Q),this.rX=setTimeout(function(){var T40;T40=2;for(;T40 !== 4;){switch(T40){case 2:var f0Q="Forcing permanent network failure ";f0Q+="after";f0Q+=" ";var r0Q="ms, since und";r0Q+="erflow with no suc";r0Q+="cess";a000.r7Q(5);l.info(a000.H7Q(r0Q,A,f0Q));y.rX=void 0;y.Ql.qr(d.default.Yg.Nw,!0);T40=4;break;}}},A));S40=4;break;}}};x.prototype.FOa=function(){var U40;U40=2;for(;U40 !== 1;){switch(U40){case 2:var A0Q="Cleared";A0Q+=" und";A0Q+="erflow timeout";this.rX && (clearTimeout(this.rX),this.rX=void 0,l.info(A0Q));U40=1;break;}}};return x;break;case 2:x.prototype.zb=function(){var F40;F40=2;for(;F40 !== 1;){switch(F40){case 2:this.zg.clear();F40=1;break;case 4:this.zg.clear();F40=0;break;F40=1;break;}}};x.prototype.QC=function(y){var G40;G40=2;for(;G40 !== 1;){switch(G40){case 2:this.W7=y;G40=1;break;}}};x.prototype.qr=function(y,z,A,B){var H40,J,D,E,F,C,G,K,H,L;H40=2;for(;H40 !== 15;){switch(H40){case 3:H40=A && f.isArray(n[A])?9:16;break;case 9:var P0Q="crit";P0Q+="ical";P0Q+="Networ";P0Q+="kEr";P0Q+="ror";var R0Q="critic";R0Q+="alNetwo";R0Q+="rkError";J=n[A];this.Qy={QF:z,Lg:A,bSa:F,Ti:B};q[A] && (++this.Ds,this.events.emit(R0Q,{type:P0Q,Lg:A}));H40=6;break;case 2:(D=this,E=h.CY.name,F=A?E[A]:void 0);E={};(C=this.config,G=this.Ql);H40=4;break;case 6:H40=J !== w?14:15;break;case 14:H40=void 0 !== y.url?13:20;break;case 13:K=G.z3a(y.url);H40=12;break;case 19:E=G.DSb(y.host,y.port);H40=11;break;case 12:K && (E[K]=[y.url]);H40=11;break;case 18:var Y0Q="Invalid affected for n";Y0Q+="etwork ";Y0Q+="failur";Y0Q+="e";l.error(Y0Q);H40=17;break;case 11:(H=J[0],L=J[1]);C.Ft?f.forEach(E,function(P,I){var I40;I40=2;for(;I40 !== 5;){switch(I40){case 2:var C0Q="e";C0Q+="r";C0Q+="r";C0Q+="o";C0Q+="r";J === v || J === p?D.mqa.YOb({url:void 0 !== y.url?y.url:P[0],zd:I},{kMa:I,qX:J,QF:z,Lg:A,bSa:F,Ti:B}):P.some(function(O){var J40;J40=2;for(;J40 !== 5;){switch(J40){case 2:G.qr(H,L,O);return H === d.default.Yg.UD;break;}}});!D.W7 || 0 !== z && void 0 !== z || (P=void 0 !== y.url?y.url:P[0]) && D.W7.bsa(C0Q,P);I40=5;break;}}}):f.forEach(E,function(P,I){var K40;K40=2;for(;K40 !== 5;){switch(K40){case 2:K40=J !== v || D.ZQb(I)?1:5;break;case 1:var x0Q="e";x0Q+="r";x0Q+="r";x0Q+="o";x0Q+="r";(P.some(function(O){var L40;L40=2;for(;L40 !== 5;){switch(L40){case 2:G.qr(H,L,O);return H === d.default.Yg.UD;break;}}}),!D.W7 || 0 !== z && void 0 !== z || (P=void 0 !== y.url?y.url:P[0]) && D.W7.bsa(x0Q,P));K40=5;break;}}});H40=15;break;case 4:var L0Q=" : critic";L0Q+="al";L0Q+=" error co";L0Q+="unt = ";var I0Q=" ";I0Q+="o";I0Q+="n";I0Q+=" ";var F0Q="Failu";F0Q+="re";F0Q+=" ";l.warn(F0Q + F + I0Q + JSON.stringify(y) + L0Q + this.Ds);H40=3;break;case 17:return;break;case 20:H40=void 0 !== y.host && void 0 !== y.port?19:18;break;case 16:var g0Q="Unmap";g0Q+="ped failur";g0Q+="e ";g0Q+="code in JSASE e";g0Q+="rror director : ";a000.r7Q(2);l.error(a000.Z7Q(g0Q,A));H40=15;break;}}};x.prototype.ZQb=function(y){var M40,z,A,B;M40=2;for(;M40 !== 7;){switch(M40){case 4:(B.Zn=z,B.count=1);M40=7;break;case 2:(z=k.default.time.ba(),A=this.config,B=this.sta[y]);M40=1;break;case 1:M40=B?5:8;break;case 5:M40=B.Zn < this.RL?4:3;break;case 3:M40=!(B.Zn >= z - A.r8 || B.zz || (B.Zn=z,++B.count,B.count < A.x5))?9:7;break;case 9:return B.zz=!0;break;case 8:this.sta[y]={Zn:z,count:1};M40=7;break;}}};x.prototype.kDb=function(y){var N40,z,A,B,D,E,F,C;N40=2;for(;N40 !== 7;){switch(N40){case 2:var e2Q="t";e2Q+="empor";e2Q+="a";e2Q+="r";e2Q+="ily";var S0Q="per";S0Q+="manen";S0Q+="t";S0Q+="l";S0Q+="y";var i0Q=" last succe";i0Q+="s";i0Q+="s was ";var b0Q="Network";b0Q+=" has failed";b0Q+=" ";var j0Q=" ";j0Q+="ms";j0Q+=" ";j0Q+="a";j0Q+="go";(z=this,A=k.default.time.ba() - this.RL,B=y,D=this.config);a000.r7Q(6);l.warn(a000.H7Q(j0Q,b0Q,A,i0Q,y?S0Q:e2Q));!y && A > D.Aoa && (B=!0);N40=4;break;case 3:(E=this.Qy.Lg,F=this.Qy.QF,C=this.Qy.Ti);N40=9;break;case 4:N40=this.Qy?3:9;break;case 9:var l2Q="temporaryNetwork";l2Q+="Er";l2Q+="ror";var y2Q="temporary";y2Q+="Netwo";y2Q+="rkError";y || this.events.emit(y2Q,{type:l2Q,errorCode:E,httpCode:F,nativeCode:C});B?(this.gN && (clearTimeout(this.gN),this.gN=void 0),this.FOa(),this.mqa.reset(),this.rDb({XFb:y,tMb:E,uMb:F,vMb:C})):this.gN || (this.gN=setTimeout(function(){var O40;O40=2;for(;O40 !== 5;){switch(O40){case 2:z.gN=void 0;z.s7();O40=5;break;}}},D.Boa));N40=7;break;}}};D40=9;break;}}function x(y,z,A,B){var E40;E40=2;for(;E40 !== 10;){switch(E40){case 2:this.Ql=y;this.config=z;this.rDb=A;this.Xq=B;this.events=new c.EventEmitter();this.zg=new c.yh();E40=8;break;case 14:this.RL=k.default.time.ba();this.Ds=0;this.sta={};this.mqa=new g.default(y,B,z);E40=10;break;case 8:var n2Q="n";n2Q+="etworkF";n2Q+="aile";n2Q+="d";var G2Q="1";G2Q+="S";G2Q+="IYbZr";G2Q+="NJ";G2Q+="Cp9";G2Q;n[m.yza]=z.hEb?t:v;this.zg.addListener(this.Ql,n2Q,this.kDb.bind(this));E40=14;break;}}}})();b.Hya=a;},function(r,b,a){var f,k,l;function c(d,g,h){this.IQ=d;this.kE=0 === Math.floor(1E6 * Math.random()) % h.MG;this.groupId=1;this.config=h;this.ly={};this.KC={};this.Xq=g;}f=a(10);k=a(5).default;new k.Console("ASEJS_PROBE_MANAGER","asejs");l=a(845).xva;c.prototype.constructor=c;c.prototype.YOb=function(d,g){var h,m,n,q,p,t,u,w,v,x,y;h=this.IQ;m=d.zd;n=h.c5a(d.url);q=h.k5(d.url);p=this.config;t=k.time.ba();u=g;w=[];v=n.$n[0];x=!1;y=this.ly[m];if(!y)y=this.ly[m]={count:0,Zn:t,zz:!1,error:g,ksa:[],oqa:{}};else if(y.Zn >= t - p.r8)return;y.zz || (v && q.id === v.id && (d.isPrimary=!0),y.Zn=t,y.zz=!1,y.error=g,++y.count,n && n.urls && 0 !== n.urls.length && (f.forEach(n.urls,function(z){var A,B,D;A=z.dd.id;B=A + "-" + m;D=this.KC[B];if(void 0 === D || void 0 === D.Z6)(D && D.qo && clearTimeout(D.qo),z=this.IPa(z.url,d,A),this.KC[B]={W:!1,count:0,Z6:z.Kh()},w.push(z.Kh()),x=!0);-1 === y.ksa.indexOf(A) && y.ksa.push(A);},this),this.kE && 0 < w.length && (n={type:"logdata",target:"endplay",fields:{}},g=u,u={ts:k.time.ba(),es:g.kMa,fc:g.Lg,fn:g.bSa,nc:g.Ti,pb:w,gid:this.groupId},g.QF && (u.hc=g.QF),n.fields.errpb={type:"array",value:u,adjust:["ts"]},h.Qm(n)),x && this.groupId++));};c.prototype.IPa=function(d,g,h){var m,n,q;m=this.IQ.k5(g.url);m && m.lb && m.lb.Xs && m.lb.Xs.Ca || Math.random(0,1);m=new l(this);n=d.split("?");q="random=" + parseInt(1E7 * Math.random(),10);m.oMb(1 < n.length?d + "&" + q:d + "?" + q,g,h);return m;};c.prototype.ZOb=function(d,g){var h,m,n,q,p,t,u,w;h=this.IQ;m=this.config;n=g.zd;q=this.ly[n];p=d.url;t=this.KC[d.zd + "-" + n];if(q){u=q.error;if(t){t && t.qo && clearTimeout(t.qo);t.W=!0;t.count=0;t.Z6=void 0;q.oqa[d.zd]=!0;(t=this.ly[d.zd]) && !0 === t.zz && m.Bx && (h.Q2a(d.zd,t.error.qX[1]),this.kE && (t={type:"logdata",target:"endplay",fields:{}},t.fields.errst={type:"array",value:{ts:k.time.ba(),id:d.requestId,servid:g.zd,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Qm(t)),this.ly[d.zd]=void 0,this.Xq());if(p !== g.url){w=this.KC[n + "-" + n];w && w.W || (n=(n=h.k5(p)) && n.lb && n.lb.Xs && n.lb.Xs.Ca || Math.random(0,1) * m.t5,n=Math.min(n,m.t5),setTimeout((function(){var v;if(!(!1 !== q.zz || w && w.W) && (q.zz=!0,h.qr(u.qX[0],u.qX[1],g.url,u),this.kE)){v={type:"logdata",target:"endplay",fields:{}};v.fields.erep={type:"array",value:{ts:k.time.ba(),id:d.requestId,servid:g.zd,gid:d.groupId?d.groupId:-1},adjust:["ts"]};h.Qm(v);}}).bind(this),n));}this.kE && (t={type:"logdata",target:"endplay",fields:{}},t.fields.pbres={type:"array",value:{ts:k.time.ba(),id:d.requestId,result:1,servid:d.zd,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Qm(t));}}};c.prototype.WOb=function(d,g){var h,m,n,q,p,t,u,w,v,x;h=this.IQ;m=parseInt(g.zd,10);n=this.ly[m];q=parseInt(d.zd,10);p=this.KC[q + "-" + m];t=0;u=this.config;if(p && n){p.W=!1;p.Z6=void 0;n.oqa[q]=!1;w=n.ksa;if(u.Bx && q === m && g.isPrimary){v=h.k5(g.url);v=v && v.lb && v.lb.Xs && v.lb.Xs.Ca || 300 * Math.random(0,1);v*=Math.pow(2,p.count);v=Math.min(v,12E4);v+=Math.random(0,1) * (1E4 > v?100:1E4);p.qo=setTimeout((function(){var y;p.qo=void 0;y=this.IPa(d.url,g,q);y.WSb(d.groupId);p.Z6=y.Kh();}).bind(this),v);}++p.count;if(q === m && (t=0,w.forEach(function(y){!1 === n.oqa[y] && t++;}),w.length === t && n.count >= u.x5)){x=n.error;n.zz=!0;f.forEach(h.c5a(g.url).urls,function(y){var z;h.qr(x.qX[0],x.qX[1],y.url,x);if(this.kE){z={type:"logdata",target:"endplay",fields:{}};z.fields.erep={type:"array",value:{ts:k.time.ba(),id:-1,servid:y.dd.id},adjust:["ts"]};h.Qm(z);}},this);}this.kE && (m={type:"logdata",target:"endplay",fields:{}},m.fields.pbres={type:"array",value:{ts:k.time.ba(),id:d.requestId,result:0,servid:d.zd,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Qm(m));}};c.prototype.M8=function(d){var g,h,m;g=d.url || d.mediaRequest.url;if(g){d=this.IQ;g=d.z3a(g);h=this.ly[g];m=this.KC[g + "-" + g];h && h.zz && this.config.Bx && (d.Q2a(h.error.kMa,!1),this.kE && (h={type:"logdata",target:"endplay",fields:{}},h.fields.errst={type:"array",value:{ts:k.time.ba(),id:-1,servid:g},adjust:["ts"]},d.Qm(h)),this.ly[g]=void 0,m && m.qo && clearTimeout(m.qo));}};c.prototype.reset=function(){var d,g,h;d=this.KC;for(h in d){d.hasOwnProperty(h) && (g=d[h + "-" + h]) && g.qo && clearTimeout(g.qo);}this.KC={};this.ly={};};r.exports=c;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xva=void 0;c=a(2);f=a(16);k=c.__importDefault(a(5)).default.vu;r=(function(l){function d(g){var h;h=l.call(this) || this;h.PKa=g;h.M_=g.groupId;h.bi=new f.yh();h.bi.on(h,k.xe.BP,h.Cda);h.bi.on(h,k.xe.ND,h.MQ);return h;}c.__extends(d,l);d.prototype.oMb=function(g,h,m){k.prototype.open.call(this,g,h,m);};d.prototype.WSb=function(g){this.M_=g;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.M_;},enumerable:!1,configurable:!0}});d.prototype.Lc=function(){this.bi && this.bi.clear();k.prototype.Lc.call(this);};d.prototype.Cda=function(g){this.PKa.ZOb(g.probed,g.affected);this.Lc();};d.prototype.MQ=function(g){this.PKa.WOb(g.probed,g.affected);this.Lc();};return d;})(k);b.xva=r;},function(r,b,a){var c,f,k,l,d,g,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Hza=void 0;c=a(2);f=a(144);k=a(403);l=a(15);d=c.__importDefault(a(5));r=a(96);g=a(406);h=a(6);m=a(150);a=(function(n){function q(p,t,u,w,v,x,y,z,A,B,D){var E;E=n.call(this,p) || this;E.Td=p;E.H=t;E.I=u;E.Qm=w;E.LB=x;E.E4=y;E.Gu=z;E.dLa=A;E.Ng=B;E.YJa=[void 0,void 0];E.oea=[];E.AQ=null !== D && void 0 !== D?D:{Hu:[Object.create(null),Object.create(null)]};v?E.IT=v:(E.tg=m.mq.instance.yB("headers","" + E.Td.aa,!0,!1,{},E.I),E.tg.nb());return E;}c.__extends(q,n);Object.defineProperties(q.prototype,{Hu:{get:function(){return this.AQ.Hu;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{HA:{get:function(){return this.AQ.HA;},set:function(p){this.AQ.HA=p;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kJ:{get:function(){return this.AQ.kJ;},set:function(p){this.AQ.kJ=p;},enumerable:!1,configurable:!0}});q.prototype.Lc=function(){var p;p=this;this.Hu.forEach(function(t,u){for(var w in t){t[w].Lc();p.Nha(u,w);}});this.tg && m.mq.instance.uS(this.tg);this.tg=void 0;};q.prototype.qk=function(p,t){return this.Hu[p][t];};q.prototype.T3=function(){return !(!this.HA || !this.HA.length);};q.prototype.xga=function(){this.HA=void 0;};q.prototype.uN=function(p){this.HA=p;};q.prototype.Ota=function(){var p,t;if(!this.T3() || this.kJ)return !1;for(f.em.Ap(1);0 < this.HA.length;){p=this.HA.shift();t=this.Td.tv(1,p);if(t && !this.ADb(p) && t.dt)return (this.kJ=p,this.I8(t,{offset:0,EN:!0}));}return !1;};q.prototype.gua=function(p,t){var u;u=this;t.forEach(function(w){var v;v=u.qk(p,w.Ma);v && !w.Be && (v.stream.Be?w.L1(v.stream):(v.sV || (v.sV=[]),v.sV.push(u.Td)));});};q.prototype.dN=function(p,t,u){var w,v,x;w=this;x=this.Td;l.ff.forEach(function(y){var z,A,B,D,E;if(x.Zb(y) && (void 0 === u || y === u)){D=p[y];h.assert(D && x.getTrackById(D.trackId) === D);D=D.Qd;if(x.Gj)w.H.warn("requestHeadersFromManifest, shutdown detected");else if(x.Ql.tX(x.aa,D)){E=null !== (B=null === (A=null === (z=w.LB(y)) || void 0 === z?void 0:z.dG) || void 0 === A?void 0:A.bitrate) && void 0 !== B?B:0;z=g.Via(D,E);void 0 === z && w.H.warn("Unable to find stream for bitrate " + E);z=D[z];(A=x.qk(y,z.Ma)) && A.stream.Y?x.vXb(y,A):(y={offset:0,EN:!1,CB:1 === y,mv:!0,lM:!w.E4(x)},x.CPa(z,y,t));}else w.H.warn("requestHeadersFromManifest, unable to update urls");}});x.Z3=!0;null === (v=this.Ng) || void 0 === v?void 0:v.call(this,x.Fb).n1();};q.prototype.IH=function(p,t){var u,w,v,x;u=this.I;w=this.qk(p.mediaType,p.Ma);if(w)return (w.stream.Y || w.EN && this.COa(w),!1);w=this.Khb;v=this.Lhb;if(void 0 !== u.poa && void 0 !== w && void 0 !== v){x=d.default.time.ba();if(x - w < u.poa || x - v < u.poa)return !1;}p=this.I8(p,{url:p.url,offset:0},void 0,void 0,t);this.Lhb=d.default.time.ba();return p;};q.prototype.I8=function(p,t,u,w,v){var x,y,z,A,B;A=p.mediaType;f.em.Ap(A);B=p.Ma;if(this.ggb(B,! !t.mv))return (null === (x=this.dLa) || void 0 === x?void 0:x.call(this),!1);if(x=this.qk(A,B))p=!1;else {x=c.__assign(c.__assign({},t),{da:null !== (y=t.da) && void 0 !== y?y:this.Rgb(p)});y=! !x.CB;B=! !x.lM;this.IT?v=this.IT(A,! !x.mv,y,B,! !u):v || (v=this.tg);h.assert(v);p.url && (this.LB(A).Uma=p.url);x=p=this.$Ia(p,v,x);if(!p.AM())return (this.Td.rh("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);p=!0;}t.mv && w && (this.Td.Pg[A]=x);null === (z=this.dLa) || void 0 === z?void 0:z.call(this);return p;};q.prototype.uo=function(){var p,t;p=this;t=[];this.Hu.forEach(function(u,w){var x;f.em.Ap(w);for(var v in u){w=u[v];x=w.hua();1 === x?t.push(w):2 === x && p.Td.rh("swapUrl failure");}});return t;};q.prototype.wk=function(p){var t,u;t=p.mediaType;u=f.em.Ap(t);this.Td.Gj?u.warn("header onrequestcomplete ignored, session shutdown:",p.toString()):(this.Qm({type:"logdata",target:"startplay",Vb:{usedNativeDataView:p.rYb}}),p.yV > p.rMb && (this.YJa[t]=p.yV),p.EN && this.COa(p),this.phb(p),this.Khb=d.default.time.ba(),this.Td.WB.emit("onHeaderRequestComplete",p));this.qv(p);};q.prototype.J0=function(p,t,u){var w;w=p.mediaType;f.em.Ap(w);w=this.Td.tv(w,p.Ma);if(t !== ! !p.lk)return !1;this.QLa(p);p.Tlb(w);this.FIa(p);this.Td.WB.emit("onHeaderFromCache",{header:p,jyb:u});return !0;};q.prototype.lR=function(p,t){var u,w,v,x;u=[];w=this.Hu[p];for(v in w){x=w[v];x && !x.stream.Y && x.ko === t && (this.Nha(p,v),u.push({stream:x.stream,offset:x.offset,da:x.da,CB:x.CB,mv:x.mv,lM:x.lM,wpa:x.wpa}),x.Lc());}return u;};q.prototype.Cra=function(p){var t;t=this;p.forEach(function(u){t.I8(u.stream,u);});};q.prototype.QLa=function(p){this.Hu[p.mediaType][p.Ma]=p;};q.prototype.ADb=function(p){return ! !this.qk(1,p);};q.prototype.phb=function(p){var t,u,w,v,y;t=this.I;u=f.em.Ap(p.mediaType);w=p.stream.Y;if(t.tha){v=w.length;u.trace("fragment count:",v);for(var x=0;x < v;++x){y=w.get(x);u.trace("fragment: " + x + ", startPts: " + y.X + ", duration: " + y.duration + ", offset: " + y.offset);}}this.FIa(p);if(t.lz && t.lz.enabled && void 0 === w.hq && t.lz.simulatedFallback){v=w.length;t=[];for(x=0;x < v;++x){t[x]=Math.max(0,p.stream.wb + this.Cjb(x));}w.xTb(t);}};q.prototype.FIa=function(p){var t,u;t=p.mediaType;u=p.Ma;f.em.Ap(t);p.sV && (p.sV.forEach(function(w){(w=w.tv(t,u)) && w !== p.stream && !w.Be && w.L1(p.stream);}),p.sV=void 0);this.Td.hDb(p);};q.prototype.$Ia=function(p,t,u){var w,v;w=this;v=f.em.Ap(p.mediaType);p=new k.F9(p,this.I,t,u,this,!1,v);p.addListener("headerRequestCancelled",function(x){w.ohb(x.request);});p.nb(void 0);this.QLa(p);return p;};q.prototype.ggb=function(p,t){return this.Gu && (p=this.Gu.AU(this.Td.K,p)) && this.J0(p,!1,t)?!0:!1;};q.prototype.Rgb=function(p){var t,u,w,v;t=p.Br;u=p.N;w=u.duration;v=this.I;return u.bf.Mg?v.dSa?v.dSa:v.Y3:v.oYb && t?t.offset + t.size:(p=this.YJa[p.mediaType])?p + 128:v.Cia?2292 + 12 * Math.ceil(w / 2E3):v.Y3;};q.prototype.ohb=function(p){this.Nha(p.mediaType,p.Ma);};q.prototype.Nha=function(p,t){delete this.Hu[p][t];};q.prototype.COa=function(p){this.kJ === p.Ma && (this.kJ=void 0);};q.prototype.Cjb=function(p){var t;t=this.I.lz.fallbackBound;void 0 === this.oea[p] && (this.oea[p]=Math.floor(2 * Math.random() * t) - t);return this.oea[p];};return q;})(r.tw);b.Hza=a;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hGa=void 0;c=a(2);f=a(16);r=(function(k){function l(d,g,h,m){var n;n=k.call(this) || this;n.H=d;n.track=g;n.Mn=!1;n.cda=!1;n.zg=new f.yh();n.zg.on(g,"networkfailing",function(){n.emit("networkfailing");});n.zg.on(g,"error",function(){n.H.warn("requestQueue got error");n.emit("error");});if(h)(n.Mn=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.zg.on(g,"created",function(){n.Mn=!0;n.emit("created");});n.cda=m;return n;}c.__extends(l,k);Object.defineProperties(l.prototype,{G2:{get:function(){return this.track.G2;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Lg:{get:function(){return this.track.Lg;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ti:{get:function(){return this.track.Ti;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ZS:{get:function(){return this.track.ZS;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});l.prototype.nb=function(){var d,g;this.cda || (null === (g=(d=this.track).nb) || void 0 === g?void 0:g.call(d),this.cda=!0);};l.prototype.$s=function(){return this.track.$s();};l.prototype.toString=function(){return this.track.toString();};l.prototype.toJSON=function(){return this.track;};l.prototype.mp=function(){this.zg.clear();};return l;})(f.EventEmitter);b.hGa=r;},function(r,b,a){var g,h,m,n,q,p,t;function c(u){var w,v,x;u=u.parent;w=!1;if(u && u.children){v={};v[p.ul]=[];v[p.Lk]=[];v[p.TEMPORARY]=[];x=u.children;x.forEach(function(y){y && v[y.Pe].push(y);});0 < v[p.ul].length || (v[p.Lk].length === x.length?u.Pe !== p.Lk && (u.Pe=p.Lk,q.error("PERM failing :",m.default.Yg.name[u.Cm] + " " + u.id),w=!0):(u.Pe === p.ul && (u.Pe=p.TEMPORARY,q.error("TEMP failing :",m.default.Yg.name[u.Cm] + " " + u.id),w=!0),v[p.TEMPORARY].forEach(function(y){y.Pe=p.ul;})),w && c(u));}}function f(u){var w;if((u=u.parent) && 0 < u.children.length && u.Pe !== p.ul){w={};w[p.ul]=[];w[p.Lk]=[];w[p.TEMPORARY]=[];u.children.forEach(function(v){v && w[v.Pe].push(v);});0 < w[p.ul].length && (u.Pe=p.ul,f(u));}}function k(u){return u.Pe !== p.ul;}function l(u){switch(u.Pe){case p.ul:return "OK";case p.Lk:return "FAILED PERMANENTLY";case p.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(u,w){if(u.Pe === p.TEMPORARY || u.Pe === p.Lk && w)u.Pe=p.ul;u.children && u.children.forEach(function(v){v && d(v,w);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Z$=void 0;g=a(2);h=g.__importStar(a(10));r=a(16);m=g.__importDefault(a(27));n=g.__importDefault(a(5));q=new n.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(u){u[u.ul=0]="OK";u[u.TEMPORARY=1]="TEMPORARY";u[u.Lk=2]="PERMANENT";})(p || (p={}));(function(u){u[u.Sw=0]="STARTUP";u[u.qeb=1]="REBUFFER";})(t || (t={}));a=(function(u){var V40;function w(v,x,y,z,A){var W40,B;W40=2;for(;W40 !== 27;){switch(W40){case 2:B=u.call(this) || this;B.Hb=x;B.mh=y;B.config=z;B.Bib=A;B.bPb=t.Sw;W40=8;break;case 8:B.Sy=void 0;B.$n={};B.Rt={};B.urls={};W40=13;break;case 13:var a2Q="netw";a2Q+="o";a2Q+="rk";B.streams={};B.ez=[];B.c6=!1;B.eo={id:a2Q,Cm:m.default.Yg.Nw,Pe:p.ul,Tv:void 0,parent:void 0,children:B.ez};B.W_=null;W40=19;break;case 17:var z2Q="1";z2Q+="SIYbZrNJCp";z2Q+="9";B.VJ(v);z2Q;return B;break;case 19:B.oN=null;B.pN=m.default.TD.Sw;W40=17;break;}}}V40=2;for(;V40 !== 25;){switch(V40){case 7:w.prototype.VJ=function(v){var d50,x;d50=2;for(;d50 !== 11;){switch(d50){case 2:x=this;v.locations.forEach(function(y){var e50,z,A,B,D;e50=2;for(;e50 !== 8;){switch(e50){case 2:z=y.key;e50=1;break;case 1:e50=!x.$n[z]?5:8;break;case 5:(A=[],B=x.mh.get(z),D=x.eo);y={id:z,Cm:m.default.Yg.LOCATION,Pe:p.ul,Se:y.rank,level:y.level,weight:y.weight,Tv:void 0,parent:D,children:A,Rt:A,streams:{},lb:B};x.$n[y.id]=y;D.children.push(y);e50=8;break;}}});this.W_=n.default.time.ba();this.ez.sort(function(y,z){var f50;f50=2;for(;f50 !== 1;){switch(f50){case 2:return y.level - z.level || y.Se - z.Se;break;}}});v.servers.forEach(function(y){var g50,z,A,B;g50=2;for(;g50 !== 6;){switch(g50){case 1:g50=!x.Rt[z]?5:6;break;case 2:z=y.id;g50=1;break;case 5:A=x.$n[y.key];g50=4;break;case 4:g50=A?3:6;break;case 3:B=[];y={id:z,Cm:m.default.Yg.UD,Pe:p.ul,Tv:void 0,parent:A,children:B,urls:B,name:y.name,type:y.type,Se:y.rank,location:A};x.Rt[y.id]=y;A.children.push(y);g50=6;break;}}});v.audio_tracks.forEach(function(y){var h50;h50=2;for(;h50 !== 1;){switch(h50){case 2:x.t1a(y);h50=1;break;}}});v.video_tracks.forEach(function(y){var i50;i50=2;for(;i50 !== 1;){switch(i50){case 4:x.t1a(y);i50=4;break;i50=1;break;case 2:x.t1a(y);i50=1;break;}}});d50=7;break;case 7:v=this.ez.filter(function(y){var j50,z;j50=2;for(;j50 !== 4;){switch(j50){case 5:return !z;break;case 2:z=y.Rt.every(function(A){var k50;k50=2;for(;k50 !== 1;){switch(k50){case 2:return 0 === A.urls.length;break;}}});z && (y.Rt.forEach(function(A){var l50;l50=2;for(;l50 !== 1;){switch(l50){case 2:x.Rt[A.id]=void 0;l50=1;break;}}}),x.$n[y.id]=void 0,y.parent=void 0,y.children.length=0,y.streams={});j50=5;break;case 7:return ~z;break;j50=4;break;}}});v.forEach(function(y){var m50;m50=2;for(;m50 !== 1;){switch(m50){case 2:y.Rt.sort(function(z,A){var n50;n50=2;for(;n50 !== 1;){switch(n50){case 2:return z.Se - A.Se;break;}}});m50=1;break;}}});d50=14;break;case 14:this.ez=v;this.eo.children=v;this.dump();d50=11;break;}}};w.prototype.tX=function(v,x){var o50,E,D,y,z,A,B;o50=2;for(;o50 !== 19;){switch(o50){case 13:E=this.oN;o50=12;break;case 3:D=m.default.yf.kA;z.YU && (D=m.default.yf.Fw);this.Hb.location && A.confidence >= D && (v=this.$n[this.Hb.location]) && (v.lb=A);o50=7;break;case 11:return (this.qr(m.default.Yg.Nw,!1),!1);break;case 6:o50=!this.oN?14:13;break;case 12:o50=!E.length?11:10;break;case 2:(y=this,z=this.config,A=this.Hb.get(),B=0);n.default.Cs && n.default.Cs(v);o50=5;break;case 14:return (this.qr(m.default.Yg.Nw,!1),!1);break;case 5:o50=k(this.eo)?4:3;break;case 7:h.tb(this.oN) && (this.oN=this.yXb());o50=6;break;case 4:return !1;break;case 10:var B2Q="(empty str";B2Q+="eam lis";B2Q+="t)";var O2Q="Did ";O2Q+="n";O2Q+="ot f";O2Q+="ind a URL for A";O2Q+="NY stream...";var V2Q="networ";V2Q+="k";V2Q+="Fa";V2Q+="iled";var o2Q="Net";o2Q+="work has fai";o2Q+="led, not";o2Q+=" updating stream selectio";o2Q+="n";x.forEach(function(F,C){var q50,G;q50=2;for(;q50 !== 5;){switch(q50){case 2:var m2Q=" K";m2Q+="b";m2Q+="p";m2Q+="s";m2Q+=")";var Q2Q=" ";Q2Q+="(";var K2Q="]";K2Q+=" ";var U2Q="Fai";U2Q+="ling ";U2Q+="str";U2Q+="e";U2Q+="am [";G=F.id;E.some(function(J){var r50,K,H;r50=2;for(;r50 !== 8;){switch(r50){case 1:r50=!K?5:4;break;case 2:K=J.streams[G];r50=1;break;case 5:return !1;break;case 4:H=K.$n[0];void 0 === F.Y6 && (F.Y6=H.id,F.lqa=K.vX[H.id][0].dd.id);return K.vX[J.id].some(function(L){var s50,P;s50=2;for(;s50 !== 12;){switch(s50){case 5:s50=k(L)?4:3;break;case 1:return (L.dd.Pe === p.TEMPORARY && (F.Pe=p.TEMPORARY),z.Ft && F.dd === L.dd.id && L.dd.Tv && (F.Tv=L.dd.Tv),!1);break;case 2:s50=k(L.dd)?1:5;break;case 4:return !1;break;case 3:var k2Q="locat";k2Q+="ionfailo";k2Q+="ver";var J2Q="serverfa";J2Q+="i";J2Q+="lo";J2Q+="ver";var s2Q="p";s2Q+="er";s2Q+="for";s2Q+="manc";s2Q+="e";var h2Q="un";h2Q+="k";h2Q+="now";h2Q+="n";P=h2Q;F.location !== J.id && (z.Ft?F.Cma=J.id === H.id:P=J !== E[0]?"" + m.default.TD.M9:void 0 === F.location?"" + m.default.TD.Sw:h.fa(F.GXa) || F.GXa === J.id?h.fa(F.JXa) || F.JXa === L.dd.id?s2Q:J2Q:k2Q,F.location=J.id,F.fna=J.level,F.yr=P);F.url=L.url;F.dd=L.dd.id;s50=6;break;case 6:F.gH=L.dd.name;F.lb=z.Afa?J.lb.confidence >= m.default.yf.Fw || A.confidence < D?J.lb:A:A.confidence === m.default.yf.HAVE_NOTHING || J.lb.confidence >= m.default.yf.Fw?J.lb:A;return !0;break;}}});break;}}})?(F.VB=!1,F.Pe=void 0,F.uv && ++B):F.Pe && F.Pe === p.TEMPORARY?y.eo.Pe=p.TEMPORARY:F.VB || (q.warn(U2Q + C + K2Q + G + Q2Q + F.bitrate + m2Q),F.Npb(),F.VB=!0);q50=5;break;}}});return k(this.eo)?(q.warn(o2Q),this.c6=!0,this.emit(V2Q,this.eo.Pe === p.Lk),!1):B?!0:(q.warn(O2Q + (x.length?"":B2Q)),this.qr(m.default.Yg.Nw,!0),!1);break;}}};w.prototype.DSb=function(v,x){var t50,y,z;t50=2;for(;t50 !== 4;){switch(t50){case 2:(y={},z=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(A,B){var u50,D,E,F,C;u50=2;for(;u50 !== 7;){switch(u50){case 5:u50=E && 4 === E.length?4:7;break;case 2:A=A.parent?A.parent.id:"";(D=y[A],E=B.match(z));u50=5;break;case 4:(F="s" === E[1],C=E[2]);E=E[3];u50=9;break;case 9:var W2Q="8";W2Q+="0";var t2Q="4";t2Q+="4";t2Q+="3";E.length || (E=F?t2Q:W2Q);h.Ce(C) && h.Ce(E) && C === v && E == x && (D?D.push(B):y[A]=[B]);u50=7;break;}}});return y;break;}}};V40=13;break;case 1:w.prototype.uCb=function(){var X40;X40=2;for(;X40 !== 1;){switch(X40){case 2:return this.ez[0].lb;break;}}};w.prototype.fka=function(){var Y40;Y40=2;for(;Y40 !== 1;){switch(Y40){case 2:return this.ez;break;}}};w.prototype.Is=function(){var Z40;Z40=2;for(;Z40 !== 1;){switch(Z40){case 2:return k(this.eo);break;}}};V40=3;break;case 2:g.__extends(w,u);V40=1;break;case 10:w.prototype.Qm=function(v){var A50,x;A50=2;for(;A50 !== 5;){switch(A50){case 2:null === (x=this.Bib) || void 0 === x?void 0:x.call(this,v);A50=5;break;}}};w.prototype.Lj=function(){var B50;B50=2;for(;B50 !== 1;){switch(B50){case 2:this.cRb(t.qeb);B50=1;break;}}};w.prototype.zb=function(){var C50;C50=2;for(;C50 !== 1;){switch(C50){case 2:this.config.UHb && this.tNb();C50=1;break;}}};w.prototype.t1a=function(v){var D50,x;D50=2;for(;D50 !== 5;){switch(D50){case 2:x=this;v.streams.forEach(function(y){var E50,z,A,B;E50=2;for(;E50 !== 6;){switch(E50){case 1:E50=h.fa(A)?5:9;break;case 2:(z=y.downloadable_id,A=x.streams[z]);E50=1;break;case 5:var M2Q="n";M2Q+="o";M2Q+="n";M2Q+="e";M2Q+="-";B=y.content_profile;A={id:z,bitrate:y.bitrate,wb:y.vmaf,type:y.type,profile:B,clear:0 === B.indexOf(M2Q),uv:!0,urls:[],vX:{},$n:[]};E50=3;break;case 3:x.streams[A.id]=A;E50=9;break;case 9:y.urls.forEach(function(D){var F50,E,F,C;F50=2;for(;F50 !== 13;){switch(F50){case 2:(E=D.url,F=x.urls[E]);F50=1;break;case 5:C=D.location;F={id:E,Cm:m.default.Yg.URL,Pe:p.ul,Tv:void 0,parent:D,children:[],url:E,dd:D,stream:A};x.urls[E]=F;D.children.push(F);F50=8;break;case 1:F50=h.fa(F) && (D=x.Rt[D.cdn_id])?5:13;break;case 8:A.urls.push(F);0 === A.$n.filter(function(G){var G50;G50=2;for(;G50 !== 1;){switch(G50){case 2:return G.id === C.id;break;}}}).length && A.$n.push(C);C.streams[A.id]=A;F50=14;break;case 14:(E=A.vX[C.id])?E.push(F):A.vX[C.id]=[F];F50=13;break;}}});h.We(A.vX,function(D){var H50;H50=2;for(;H50 !== 1;){switch(H50){case 2:D.sort(function(E,F){var I50;I50=2;for(;I50 !== 1;){switch(I50){case 2:return E.dd.Se - F.dd.Se;break;}}});H50=1;break;}}});A.$n=A.$n.sort(function(D,E){var J50;J50=2;for(;J50 !== 1;){switch(J50){case 2:return D.level - E.level || D.Se - E.Se;break;}}});E50=6;break;}}});D50=5;break;}}};V40=17;break;case 3:w.prototype.z3a=function(v){var a50;a50=2;for(;a50 !== 5;){switch(a50){case 1:return v.parent.id;break;case 2:a50=(v=this.urls[v]) && v.parent?1:5;break;}}};w.prototype.k5=function(v){var b50;b50=2;for(;b50 !== 5;){switch(b50){case 2:b50=(v=this.urls[v]) && v.dd?1:5;break;case 1:return v.dd.location;break;}}};w.prototype.c5a=function(v){var c50;c50=2;for(;c50 !== 5;){switch(c50){case 1:return v.stream;break;case 2:c50=(v=this.urls[v])?1:5;break;}}};V40=7;break;case 13:w.prototype.qr=function(v,x,y,z){var v50,E,F,A,B,D,C,x50,w50;v50=2;for(;v50 !== 42;){switch(v50){case 27:var c2Q=" ";c2Q+=": was";c2Q+=" ";E.call(y,v + (x.length?"/" + x.join("/"):"") + c2Q + l(A));v50=26;break;case 4:v50=A?3:43;break;case 3:v50=D !== A.Pe?9:42;break;case 19:F=F.parent;v50=12;break;case 16:v50=w50 === m.default.Yg.URL?15:19;break;case 30:v50=x50 === p.TEMPORARY?24:29;break;case 24:A.Pe=D;c(A);this.c6=this.c6 || k(this.eo);v50=21;break;case 32:z && (this.pN=m.default.TD.Ydb,A.Tv=z);this.dump();v50=42;break;case 25:return;break;case 20:x.unshift(C.id + "(" + C.name + ")");v50=19;break;case 28:v50=44;break;case 1:v50=A && A.parent && A.Cm !== v?5:4;break;case 12:v50=F?11:27;break;case 17:x.unshift(F.id);v50=19;break;case 9:var p2Q=" a";p2Q+="t";p2Q+=" ";var v2Q=" failure r";v2Q+="e";v2Q+="ported for ";var d2Q="T";d2Q+="E";d2Q+="M";d2Q+="P";var u2Q="P";u2Q+="E";u2Q+="R";u2Q+="M";y=q;E=y.warn;v=(x?u2Q:d2Q) + v2Q + m.default.Yg.name[v] + p2Q;x=[];v50=13;break;case 2:(A=v !== m.default.Yg.Nw && y?this.urls[y]:this.eo,B=this.eo.Pe,D=x?p.Lk:p.TEMPORARY);v50=1;break;case 10:C=F;v50=20;break;case 18:v50=w50 === m.default.Yg.LOCATION?17:16;break;case 21:var D2Q="ne";D2Q+="tw";D2Q+="o";D2Q+="rkFail";D2Q+="ed";var N2Q="Emi";N2Q+="tting ";N2Q+="networkFailed, p";N2Q+="er";N2Q+="manent =";D=this.eo.Pe;D > B && (q.warn(N2Q,D === p.Lk),this.emit(D2Q,D === p.Lk));this.oN=null;this.pN=m.default.TD.wf;v50=32;break;case 15:var X2Q="<ur";X2Q+="l fo";X2Q+="r";X2Q+=" ";x.unshift(X2Q + F.stream.bitrate + ">");v50=19;break;case 13:F=A;v50=12;break;case 29:v50=x50 === p.ul?24:28;break;case 26:x50=A.Pe;v50=x50 === p.Lk?25:30;break;case 5:A=A.parent;v50=1;break;case 43:var q2Q="Unable to find failure entity";q2Q+=" for";q2Q+=" URL ";a000.r7Q(2);q.warn(a000.Z7Q(q2Q,y));v50=42;break;case 44:var T2Q="Inv";T2Q+="ali";T2Q+="d failure st";T2Q+="a";T2Q+="te";throw Error(T2Q);v50=24;break;case 11:w50=F.Cm;v50=w50 === m.default.Yg.UD?10:18;break;}}};w.prototype.Q2a=function(v,x){var y50;y50=2;for(;y50 !== 3;){switch(y50){case 1:(d(v,x),f(v));y50=5;break;case 2:y50=(v=this.Rt[v])?1:5;break;case 5:this.oN=null;this.pN=m.default.TD.Kaa;y50=3;break;}}};w.prototype.s7=function(){var z50;z50=2;for(;z50 !== 1;){switch(z50){case 2:d(this.eo,!1);z50=1;break;}}};V40=10;break;case 26:return w;break;case 17:w.prototype.yXb=function(){var K50,v,x,y,z;K50=2;for(;K50 !== 13;){switch(K50){case 2:(v=this,x=this.config,y=this.ez.filter(function(A){var L50;L50=2;for(;L50 !== 1;){switch(L50){case 4:return ~k(A) || 1 != A.level;break;L50=1;break;case 2:return !k(A) && 0 !== A.level;break;}}}));K50=1;break;case 1:K50=0 === y.length?5:4;break;case 8:x=this.pN;y.sort(function(A,B){var N50;N50=2;for(;N50 !== 1;){switch(N50){case 2:return A.level - B.level || A.Se - B.Se;break;}}});this.Sy || h.tb(x) || (this.Sy=!0);return y;break;case 5:return null;break;case 3:K50=null === this.W_ || this.W_ + x.ena < z?9:8;break;case 4:z=n.default.time.ba();K50=3;break;case 9:(y.forEach(function(A){var M50;M50=2;for(;M50 !== 1;){switch(M50){case 2:A.id !== v.Hb.location && (A.lb=v.mh.get(A.id));M50=1;break;}}}),this.W_=z);K50=8;break;}}};w.prototype.cRb=function(v){var O50,x;O50=2;for(;O50 !== 3;){switch(O50){case 2:x=this.Hb.location;this.Sy=!1;this.bPb=v;this.ez.forEach(function(y){var P50;P50=2;for(;P50 !== 1;){switch(P50){case 2:y.id !== x && y.lb && y.lb.confidence > m.default.yf.kA && (y.lb.confidence=m.default.yf.kA);P50=1;break;}}});O50=3;break;}}};w.prototype.tNb=function(){var Q50,v;Q50=2;for(;Q50 !== 5;){switch(Q50){case 2:v=this;this.c6 || this.ez.forEach(function(x){var R50;R50=2;for(;R50 !== 1;){switch(R50){case 2:x.Pe === p.TEMPORARY && v.mh.fail(x.id,n.default.time.ba());R50=1;break;}}});Q50=5;break;}}};w.prototype.dump=function(){};V40=26;break;}}})(r.EventEmitter);b.Z$=a;},function(r,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.zCa=void 0;c=a(22);f=a(6);k=a(407);l=a(850);d=a(851);g=a(852);h=a(853);m=a(854);n=a(855);r=(function(){function q(p,t,u,w){this.config=p;this.mediaType=t;this.Yb=u;this.console=w;}q.prototype.append=function(p,t){var u,w,v,x;w=t.endOfStream;v=t.G5;x=t.aV;void 0 === this.track?this.EL(p.stream):this.track !== p.stream.track && (f.assert(this.track.pa),f.assert(p.stream.track.pa),f.assert(1 === this.mediaType || this.track.pa.equal(p.stream.track.pa)),this.track=p.stream.track);f.assert(void 0 !== this.zs);t={jd:p,offset:null !== (u=p.c7) && void 0 !== u?u:c.S.ab,Ee:this.config.B7};t=this.zs.reduce(function(y,z){return z.append(y,{endOfStream:w,G5:v,aV:x});},t);u=t.jd;t=t.offset;u.na && p.uh(u.na);return t;};q.prototype.reset=function(){this.zs=this.track=void 0;};q.prototype.EL=function(p){var t,u;this.track=p.track;this.zs=[];if(0 === this.mediaType){this.config.B7 && this.zs.push(new d.vGa(this.config,p.track,this.console));u=this.p1(p);u.equal(c.S.ab)?this.config.ek && p.fe && this.v4(p.N.aa) && this.zs.push(new m.xAa(this.config)):this.zs.push(new k.wZ(u));this.config.F5 || (this.console.log("MediaSplicer: NegativePtsGuard: " + u.Nd() + ", " + (null === (t=p.fe) || void 0 === t?void 0:t.Nd())),this.zs.push(new g.SCa(this.config,p,this.console)));this.VFb() && (this.config.Wf || this.zs.push(new n.Iva(p,this.config,this.Yb,this.console)),this.zs.push(new l.aDa(this.config,p,this.console)),this.YTb(p) && (f.assert(p.pa),this.zs.push(this.zqb(p.fe || c.S.ab,p.pa,u))));}};q.prototype.v4=function(p){return this.config.v4 || this.config.w4 && -1 !== this.config.w4.indexOf(p);};q.prototype.p1=function(p){return k.wZ.p1(this.config,p.fe,this.Yb,this.console);};q.prototype.VFb=function(){return !this.config.Bz;};q.prototype.YTb=function(p){return this.config.VWb && this.config.ek && ! !p.fe;};q.prototype.zqb=function(p,t,u){return new h.YHa(p.Aa(u),t,this.console);};return q;})();b.zCa=r;},function(r,b,a){var f,k,l,d;function c(g){return g.toString() + " (nrdp: " + g.XG + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.aDa=void 0;f=a(22);k=a(244);l=a(20);d=a(6);r=(function(){function g(h,m,n){this.console=n;this.offset=f.S.ab;this.fe=h.ek?m.fe:void 0;d.assert(m.pa);this.pa=m.pa;}g.prototype.append=function(h){var m,n,q;m=h.jd;n=h.offset;q=h.Ee;void 0 !== this.DXa && (d.assert(void 0 !== this.Gma),m.Nc.add(h.offset).equal(this.DXa)?(h=this.vob(m,n.add(this.offset)).V - this.Gma,0 > h?this.offset=this.offset.add(f.S.Mv):0 === h?this.offset.lessThan(f.S.ab) && (this.offset=this.offset.add(f.S.Mv)):1 === h?this.offset.greaterThan(f.S.ab) && (this.offset=this.offset.Aa(f.S.Mv)):this.offset=this.offset.Aa(f.S.Mv)):this.offset=f.S.ab);this.Gma=this.uob(m,n.add(this.offset)).V;this.DXa=m.Ld.add(n);return {jd:m,offset:n.add(this.offset),Ee:q};};g.prototype.vob=function(h,m){var n,q;h=this.iMa(h.Nc);n=k.ot(h).add(k.ot(m));q=h.add(m).Aa(n);l.ia && this.console.trace("NrdpRounding: content start " + c(h) + ", timestamp offset: " + c(m) + ", start rounding error: " + k.ot(h).toString() + ", offset rounding error: " + k.ot(m).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + q.Nd() + ", (" + h.XG + m.XG + "ms), last fragment end nrdp: " + this.Gma);return q;};g.prototype.uob=function(h,m){var n,q,p;n=this.pa;h=this.iMa(h.Ld);q=k.ot(h.Aa(n)).add(k.ot(n)).add(k.ot(m));p=h.add(m).Aa(q);l.ia && this.console.trace("NrdpRounding: content end: start of last frame:" + c(h.Aa(n)) + ", frame duration: " + c(n) + ", offset: " + c(m) + ", timestamp rounding error: " + k.ot(h.Aa(n)).toString() + ", frame duration rouding error: " + k.ot(n).toString() + ", offset rounding error: " + k.ot(m).toString() + ", total rounding error: " + q.toString() + ", expected nrdp value: " + p.Nd() + ", (" + h.Aa(n).XG + n.XG + m.XG + "ms)");return p;};g.prototype.iMa=function(h){return this.fe?h.Aa(this.fe):h;};return g;})();b.aDa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.vGa=void 0;c=a(22);f=a(6);k=a(20);r=(function(){function l(d,g,h){this.config=d;this.console=h;this.Wu=c.S.ab;f.assert(g.pa);this.pa=g.pa;d=g.Qd[0].profile;this.T5=this.lBb(d,this.pa);this.z5=this.iBb(d,this.pa);}l.prototype.append=function(d,g){var h,m,n,q;h=d.jd;m=d.offset;d=d.Ee;n=g.G5;g=g.aV;if(this.Epa){q=this.eKb(h,this.Epa);h.na && this.rfa(q)?(k.ia && this.console.trace("SeamlessAudio: dropping one first frame"),h.GS(1),this.Wu=q):(this.Wu=q.add(this.pa),this.pNa(this.Wu) || (k.ia && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.Wi.Nd() + " error would be " + this.Wu.Nd() + " (editing " + (h.na?"":"not ") + "allowed)"),this.Wu=c.S.ab,d=!1));this.Epa=void 0;}if(h.Ip || h.yv)(f.assert(n,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!h.na || !g && h.yv || (q=this.fKb(h,n,g),q.Sn(c.S.ab) && h.n2(1)),this.Epa=n);f.assert(this.pNa(this.Wu));this.Lma=h.qf;return {jd:h,offset:m.add(this.Wu),Ee:d};};l.prototype.fKb=function(d,g,h){var m;if(h)m=this.Wu.add(d.qf.Aa(h)).Aa(this.pa);else (m=d.qf.Aa(g),m=this.Wu.add(m).Aa(this.pa));k.ia && this.console.trace("SeamlessAudio: fragment end: " + d.qf.Nd() + ", splice " + g.Nd() + ", next start " + (null === h || void 0 === h?void 0:h.Nd()) + ", error " + m.add(this.pa).Nd() + ", error with frame drop " + m.Nd() + ", is" + (this.rfa(m)?"":" not") + " within bounds of [" + this.T5.Nd() + " and " + this.z5.Nd() + ")");return m;};l.prototype.eKb=function(d,g){var h;f.assert(this.Lma);h=this.Wu.add(this.Lma.Aa(d.Wi)).Aa(this.pa);k.ia && this.console.trace("SeamlessAudio: fragment start: " + d.Wi.Nd() + ", splice " + g.Nd() + ", last fragment end: " + this.Lma.Nd() + ", error " + h.add(this.pa).Nd() + ", error with frame drop " + h.Nd() + ", is" + (this.rfa(h)?"":" not") + " within bounds of [" + this.T5.Nd() + " and " + this.z5.Nd() + ")");return h;};l.prototype.rfa=function(d){return d.lessThan(this.z5) && d.Sn(this.T5);};l.prototype.pNa=function(d){return d.lessThan(this.z5.add(c.S.Mv)) && d.Sn(this.T5.Aa(c.S.Mv));};l.prototype.iBb=function(d,g){return "object" === typeof this.config.Rra && void 0 !== this.config.Rra[d]?(d=new c.S(this.config.Rra[d],1E3).Xf(g.U).add(new c.S(1,g.U)),c.S.min(g,d)):g;};l.prototype.lBb=function(d,g){var h;if("object" === typeof this.config.Sra && void 0 !== this.config.Sra[d]){h=g.$k(-2);d=new c.S(this.config.Sra[d],1E3).Xf(g.U).Aa(new c.S(1,g.U));return c.S.max(h,d);}return new c.S(-12,1E3);};return l;})();b.vGa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.SCa=void 0;c=a(22);f=a(6);k=a(20);r=(function(){function l(d,g,h){var m;this.console=h;this.kW=!1;f.assert(g.pa,"NegativePtsGuard: stream.frameDuration must exist.");this.pa=g.pa;this.ek=d.ek;this.fe=null !== (m=g.fe) && void 0 !== m?m:c.S.ab;}l.prototype.append=function(d){var g,h,m,n;if(this.kW)return d;g=d.jd;h=d.offset;d=d.Ee;if(g.na){m=g.Nc.Aa(this.ek?this.fe:c.S.ab).add(h);if(m.lessThan(c.S.ab)){n=Math.ceil(m.xC(-1).$k(this.pa));k.ia && this.console.trace("NegativePtsGuard: dropping " + n + " frames on first fragment to avoid nagative pts, profile offset " + (this.fe.Nd() + ", request content start ") + (g.Nc.Nd() + ", current timestamp offset ") + (h.Nd() + " => firstPlatformTimestamp ") + (m.Nd() + "."));g.GS(n);}}this.kW=!0;return {jd:g,offset:h,Ee:d};};return l;})();b.SCa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.YHa=void 0;c=a(22);f=a(20);r=(function(){function k(l,d,g){this.fe=l;this.pa=d;this.console=g;}k.prototype.append=function(l,d){var g,h,m,n;g=l.jd;h=l.offset;l=l.Ee;m=d.endOfStream;d=d.G5;if(m && d){m=g.Nc.Aa(this.fe).add(h);n=g.Ld.Aa(this.fe).add(h);d=d.Aa(c.S.Mv);f.ia && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + m.Nd() + "-" + n.Nd() + " vs media splice point at " + d.Nd());m.add(this.pa).Sn(d)?(f.ia && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),g.gia()):n.Sn(d) && (d=Math.ceil(n.Aa(d).$k(this.pa)),g.na?(f.ia && this.console.trace("TruncateEndOfStreamAudio: drop " + d + " frames"),g.n2(d)):(f.ia && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),g.gia()));}else m && f.ia && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");return {jd:g,offset:h,Ee:l};};return k;})();b.YHa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xAa=void 0;r=(function(){function a(c){this.kW=!1;this.hUb=c.EWa;}a.prototype.append=function(c){c.jd.na && (c.jd.nTb(this.kW?0:this.hUb),this.kW=!0);return c;};return a;})();b.xAa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Iva=void 0;c=a(245);f=a(9);r=(function(){function k(l,d,g,h){this.config=d;this.Yb=g;this.console=h;this.pa=l.pa;}k.prototype.append=function(l,d){var g,h,m,n,q,p,t,u;h=c.x3(this.config,this.Yb);m=l.jd;n=m.qf;q=m.Wi;p=m.yv;t=l.Ee;p=m.Ip || p;if(!l.jd.na || !p || t)return l;t=m.Ld.Aa(m.Nc);m=Math.floor(t.$k(this.pa));p=null !== (g=d.aV) && void 0 !== g?g:n.Aa(this.pa.xC(2));n=p.Aa(q);g=m;u=!1;d.aV && (d=this.aOa(t,n,n),g=d.jN,u=d.fV);h=p.Aa(f.S.mb(h));q=f.S.max(h.Aa(q),f.S.ab);u || (q=this.aOa(t,q,n),g=q.jN,q.fV && (--g,this.pa.xC(g)));g < (this.config.DZa || 1)?l.jd.gia():0 < m - g && l.jd.n2(m - g);return l;};k.prototype.aOa=function(l,d,g){var h;l=f.S.min(l,d);l=Math.floor(l.$k(this.pa));d=this.pa.xC(l);g=g.Aa(d);h=0 < l && g.lessThan(f.S.Mv);return {jN:l,u8b:d,Pyb:g,fV:h};};return k;})();b.Iva=r;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v;function c(x,y,z,A){var B,D;g.assert(x.uk,"Current time: " + n.default.time.ba() + " cr: " + x.currentTime);g.assert(x.currentTime.isFinite());B=z.Aa(x.currentTime);B=Math.max(Math.ceil(B.IG / x.speed),0);D=null !== A && void 0 !== A?A:{id:void 0,uQa:B,v_a:0,sMb:B};D.id=setTimeout(function(){z.Aa(x.currentTime).zv(l.S.ab)?y():(D.v_a++,c(x,y,z,D));},B);D.uQa=B;return D;}Object.defineProperties(b,{__esModule:{value:!0}});b.Cua=b.XP=void 0;f=a(2);k=a(16);l=a(22);d=a(246);g=a(6);h=a(20);m=a(857);n=f.__importDefault(a(5));q=a(177);p=a(858);t=a(859);u=a(151);w=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{BH:{get:function(){return this.dea;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ZZa:{get:function(){return this.nib;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Atb:{get:function(){return this.xgb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ora:{get:function(){return this.Zjb;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,z,A){this.xgb=z === v.pM?0:n.default.time.ba();this.nib=y;this.Zjb=z;h.ia && g.assert(!this.dea,"Invalid replacement of timeout value");this.dea=A;};x.prototype.complete=function(){this.dea=void 0;this.set(l.S.Ey,v.pM);};return x;})();(function(x){x[x.pM=0]="none";x[x.rZa=1]="microTask";x[x.setTimeout=2]="setTimeout";})(v || (v={}));r=(function(x){function y(z,A,B){var D;void 0 === B && (B="unknown");D=x.call(this) || this;D.wa=z;D.console=A;D.name=B;D.lib=0;D.eda=!1;D.dk=new w();D.A2=new k.yh();D.yl=new d.bZ([],m.$Oa(function(E,F){return E.hN.Yk(F.hN);},function(E,F){return F.Dr.priority - E.Dr.priority;},function(E,F){return E.Dr.id > F.Dr.id?1:E.Dr.id < F.Dr.id?-1:0;}));D.XMa(z);return D;}f.__extends(y,x);Object.defineProperties(y.prototype,{QTb:{get:function(){return this.wa.uk;},enumerable:!1,configurable:!0}});y.prototype.RPa=function(z,A){z=new (z.bind.apply(z,f.__spread([void 0],A)))();z.id=this.lib++;z.Dmb(this);this.Hea(z);return z;};y.prototype.xB=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.RPa(p.CAa,z);};y.prototype.mzb=function(){var z;z={hasSchedule:! !this.dk.BH,schedule:this.dk.BH && ({sleepTime:this.dk.BH.uQa,originalSleepTime:this.dk.BH.sMb,clockSkewAdjustments:this.dk.BH.v_a}),nextWakeup:this.dk.ZZa.V,timeScheduled:this.dk.Atb,scheduleType:v[this.dk.Ora],numTasks:this.yl.length,clock:{ir:this.wa.uk,ct:this.wa.currentTime.V,sp:this.wa.speed}};h.ia && this.trace("audit",z);return z;};y.prototype.tK=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.RPa(t.OGa,z);};y.prototype.Psb=function(z,A,B){this.xB(function(){return f.__generator(this,function(D){switch(D.label){case 0:return [4,u.nj.eD(A)];case 1:return (D.Yd(),z(),[3,0]);case 2:return [2];}});},B);};y.prototype.XMa=function(z){var A;A=this;this.tB();this.A2.clear();this.wa=z;this.A2.on(z,"stopStart",function(){return A.VM();});this.A2.on(z,"clockAdjusted",function(){return A.kV();});this.A2.on(z,"speedChanged",function(){return A.fMb();});this.kV();this.emit("clockChanged");};y.prototype.fMb=function(){this.tB();this.VM();};y.prototype.zb=function(){this.reset();};y.prototype.reset=function(){this.tB();this.yl.clear();};y.prototype.kV=function(){var z,A;z=this;A=this.yl.map(function(B){return B.Dr;});this.tB();this.yl.clear();A.forEach(function(B){return z.Hea(B,!1);});this.VM();};y.prototype.Hea=function(z,A){var B,D;void 0 === A && (A=!0);B=z.i6();D=this.Y5a(B);z={Dr:z,hN:D,p7:B};g.assert(!this.yl.contains(z));this.yl.push(z);A && this.VM();};y.prototype.VM=function(){var z,A,B,D,E;z=this;h.ia && this.trace("recheck schedule task count:" + this.yl.length);if(this.QTb){if(this.eda)h.ia && this.trace("already executing, bailing");else {D=this.dk.ZZa;E=null !== (B=null === (A=this.yl.Ov()) || void 0 === A?void 0:A.hN) && void 0 !== B?B:l.S.Ey;E.isFinite() && E.m6(D)?(this.tB(!1),this.wa.currentTime.Sn(E)?(this.dk.set(E,v.rZa),Promise.resolve().then(function(){z.dk.Ora === v.rZa && (z.dk.complete(),z.c3a());})):(h.ia && this.trace("scheduling next wake up for:" + E.V),A=c(this.wa,function(){z.dk.complete();z.c3a();},E),this.dk.set(E,v.setTimeout,A))):E.isFinite() || this.dk.Ora !== v.setTimeout || this.tB(!1);}}else (h.ia && this.trace("should check schedule is false, stopping"),this.tB());};y.prototype.c3a=function(){var z,A,B,D;B=0;D=null === (z=this.yl.Ov()) || void 0 === z?void 0:z.p7;try{for(this.eda=!0;1E4 > B++ && this.ZWb();){;}}finally{this.eda=!1;this.tB();1E4 < B && !this.HDb(D)?null === (A=this.console) || void 0 === A?void 0:A.error("Task scheduler executed more than 10000 iterations in same tick"):this.VM();}};y.prototype.HDb=function(z){var A,B;B=null === (A=this.yl.Ov()) || void 0 === A?void 0:A.p7;return z && B && z.timestamp.equal(B.timestamp) && z.type === B.type?!1:!0;};y.prototype.ZWb=function(){var z,A,B;B=null !== (A=null === (z=this.yl.Ov()) || void 0 === z?void 0:z.hN) && void 0 !== A?A:l.S.Ey;h.ia && this.trace("tryExecuteNextTask @" + this.wa.currentTime.V + ", next wakeup at " + B);if(this.wa.currentTime.Sn(B) && (z=this.yl.pop())){A=z.Dr;h.ia && this.trace("Running a task @" + this.wa.currentTime.V + ", scheduled for time:" + B.V + ("Name:" + A.name));try{A.aw();z.p7=A.i6();z.hN=this.Y5a(z.p7);}catch(D){throw (this.console.error("Unhandled error from a task " + A.name + " occurred. Removing the task from future executions:" + D,{stack:D.stack}),A.zb(),D);}finally{z.hN !== l.S.Ey && A.state === q.vl.qW && (g.assert(!this.yl.contains(z)),this.yl.push(z));}return !0;}};y.prototype.DRb=function(z){g.assert(z.Gf === this);this.dra(z,!1);this.Hea(z);};y.prototype.dra=function(z,A){var B;void 0 === A && (A=!0);B=this.yl.find(function(D){return D.Dr === z;});B && this.NQb(B,A);};y.prototype.NQb=function(z,A){this.yl.remove(z);A && this.VM();};y.prototype.tB=function(z){void 0 === z && (z=!0);this.dk.BH && (z && this.emit("stopping"),clearTimeout(this.dk.BH.id),this.dk.complete());};y.prototype.Y5a=function(z){return z.type === u.Cba.absolute?z.timestamp:z.timestamp.add(this.wa.currentTime);};y.prototype.trace=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,f.__spread(["TaskScheduler(" + this.name + "):"],A));};return y;})(k.EventEmitter);b.XP=r;b.Cua=function(x,y,z){var A;A=void 0;return (z || x.wa.uk) && x.wa.currentTime.Sn(y)?{promise:Promise.resolve()}:{promise:new Promise(function(B){A=x.tK(u.nj.fO(y),B);}),Dr:A};};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.$Oa=void 0;c=a(2);f=a(20);k=a(6);b.$Oa=function(){for(var l=[],d=0;d < arguments.length;d++){l[d]=arguments[d];}f.ia && k.assert(l.length);return function(g,h){var m,p,t;try{for(var n=c.__values(l),q=n.next();!q.done;q=n.next()){p=q.value;t=p(g,h);if(0 !== t)return t;}}catch(w){var u;u={error:w};}finally{try{q && !q.done && (m=n.return) && m.call(n);}finally{if(u)throw u.error;}}return 0;};};},function(r,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.CAa=void 0;c=a(2);f=a(22);k=a(6);l=a(177);d=a(151);r=(function(g){function h(m,n,q){n=g.call(this,n,q) || this;n.YRb=m;n.reset();return n;}c.__extends(h,g);h.prototype.reset=function(){var m,n;if(this.Jc === l.vl.qW || this.Jc === l.vl.pending)null === (n=null === (m=this.v_) || void 0 === m?void 0:m.return) || void 0 === n?void 0:n.call(m);this.Jc=l.vl.pending;this.v_=this.YRb();this.xda=d.nj.eD(f.S.ab);};h.prototype.pl=function(){this.reset();k.assert(this.Qu);this.Qu.DRb(this);};h.prototype.i6=function(){return this.xda;};h.prototype.Qf=function(){var m,n,q;q=this.v_.next();q.done?(this.xda=d.nj.Bua,null === (n=(m=this.v_).return) || void 0 === n?void 0:n.call(m)):this.xda=q.value;};h.prototype.zb=function(){var m,n;null === (n=(m=this.v_).return) || void 0 === n?void 0:n.call(m);g.prototype.zb.call(this);};return h;})(l.Lba);b.CAa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.OGa=void 0;c=a(2);f=a(177);k=a(151);r=(function(l){function d(g,h,m){m=l.call(this,m) || this;m.Qra=g;m.TR=h;return m;}c.__extends(d,l);d.prototype.i6=function(){return this.Jc === f.vl.pending?this.Qra:k.nj.Bua;};d.prototype.Qf=function(){this.TR();};return d;})(f.Lba);b.OGa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.aGa=void 0;r=a(2);c=r.__importDefault(a(27));f=r.__importDefault(a(408));a=(function(){function k(l){this.y0=[];this.y0[c.default.Ra.Eb]=new f.default(l,c.default.Ra.Eb);this.y0[c.default.Ra.Sb]=new f.default(l,c.default.Ra.Sb);}k.prototype.Dlb=function(l,d,g){this.y0[l].add(d,g);};k.prototype.Lka=function(){var l;l=[];this.y0.forEach(function(d){var g;if(d){g=d.get();g && 0 < g.length && g.forEach(function(h){l.push(h);});d.reset(!0);}});return l;};k.prototype.Exb=function(l){var d;d=this.Lka();l.strmsel=d;return 0 < d.length;};return k;})();b.aGa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.YTa=void 0;b.YTa=function(a){var c,f,k;c=Math.floor(1E6 * Math.random());f=a.vla;k=a.b4;a=0 === c % a.wla && 0 < k.length;return {Tq:a,NS:a && 0 === c % f};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mPa=void 0;b.mPa=function(a,c){var f;if(!Array.isArray(a.lPa))return a;f=a.Bs?a.Bs():Object.create(a);a.lPa.forEach(function(k){if(void 0 !== k.ZJb && c.duration >= k.ZJb && k.config)for(var l in k.config){f[l]=k.config[l];}});return f;};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Rxa=void 0;c=a(2).__importStar(a(10));f=a(150);k=a(6);r=(function(){function l(d,g,h){var T50;T50=2;for(;T50 !== 3;){switch(T50){case 2:this.Am=d;this.H=g;T50=5;break;case 5:var E2Q="1SIY";E2Q+="b";E2Q+="Zr";E2Q+="NJC";E2Q+="p9";this.Ch=h;E2Q;T50=3;break;}}}var S50;S50=2;for(;S50 !== 7;){switch(S50){case 2:l.prototype.sgb=function(d,g){var U50,h,m;U50=2;for(;U50 !== 8;){switch(U50){case 2:var w2Q="c";w2Q+="reateDl";w2Q+="Track";w2Q+="sStart";(h=this,m=this.Am.I);0 === this.zE && this.Am.ub.Al(w2Q);this.zE+=d.length;d=d.map(function(n){var V50;V50=2;for(;V50 !== 1;){switch(V50){case 2:return h.aJa(n,g.K,g.Ky(),h.Am.wl,m);break;}}});f.mq.instance.Qf();U50=9;break;case 9:return d;break;}}};l.prototype.Egb=function(){var W50,d,g;W50=2;for(;W50 !== 3;){switch(W50){case 2:(d=this,g=[]);this.Am.qb.sf.forEach(function(h){var X50;X50=2;for(;X50 !== 5;){switch(X50){case 2:c.fa(h.ig) || g.push(h.ig);h.ig=void 0;X50=5;break;}}});this.Am.BQ && (g.push(this.Am.BQ),this.Am.BQ=void 0);g.forEach(function(h){var Y50;Y50=2;for(;Y50 !== 5;){switch(Y50){case 2:h.Mn || --d.zE;f.mq.instance.uS(h);Y50=5;break;}}});W50=3;break;}}};l.prototype.Ahb=function(){var Z50;Z50=2;for(;Z50 !== 1;){switch(Z50){case 2:this.zE=0;Z50=1;break;case 4:this.zE=9;Z50=2;break;Z50=1;break;}}};l.prototype.VKa=function(d,g){var a60,h,m;a60=2;for(;a60 !== 5;){switch(a60){case 2:(h=this.Am.qb.sf[d],m=h.ig);m && (m=g.lR(d,m),this.Dgb(d),h.ig=this.aJa(d,g.K,g.Ky(),this.Am.wl,this.Am.I),g.Cra(m));a60=5;break;}}};l.prototype.aJa=function(d,g,h,m,n){var b60,q,p;b60=2;for(;b60 !== 7;){switch(b60){case 2:var A2Q="e";A2Q+="r";A2Q+="r";A2Q+="or";var r2Q="net";r2Q+="workfail";r2Q+="ing";var H2Q="c";H2Q+="re";H2Q+="at";H2Q+="e";H2Q+="d";(q=this,p=f.mq.instance.yB(d,g,!0,h,m,n));p.zg.on(p,H2Q,function(){var c60;c60=2;for(;c60 !== 5;){switch(c60){case 2:var Z2Q="crea";Z2Q+="teDlTracksEn";Z2Q+="d";--q.zE;0 === q.zE && q.Am.ub.Al(Z2Q);c60=5;break;}}});p.zg.on(p,r2Q,function(){var d60,t;d60=2;for(;d60 !== 8;){switch(d60){case 2:var f2Q="reportN";f2Q+="etw";f2Q+="o";f2Q+="rkFail";f2Q+="ing: ";n.Hh && q.Ch.Ul(f2Q + p);d60=1;break;case 5:k.assert(p.ZS);t=q.Am.pe.N;t.qp.qr(p.ZS,void 0,p.Lg,p.Ti);t.uo();d60=8;break;case 1:d60=p.G2?5:8;break;}}});p.zg.on(p,A2Q,function(){var e60;e60=2;for(;e60 !== 5;){switch(e60){case 2:var Y2Q="NFEr";Y2Q+="r_MC_Str";Y2Q+="eam";Y2Q+="ingFailure";var P2Q="Do";P2Q+="wnloadTrack fatal";P2Q+=" error";var R2Q="Do";R2Q+="w";R2Q+="nloadTrack fatal error";n.Hh && q.Ch.Ul(R2Q);q.Am.Qo(P2Q,void 0,Y2Q,p.Lg,0,p.Ti);e60=5;break;}}});b60=3;break;case 3:var C2Q="t";C2Q+="rans";C2Q+="portrepo";C2Q+="rt";p.on(C2Q,function(t){var f60;f60=2;for(;f60 !== 1;){switch(f60){case 2:var x2Q="t";x2Q+="ransportrep";x2Q+="or";x2Q+="t";q.Am.emit(x2Q,t);f60=1;break;}}});p.nb();return p;break;}}};l.prototype.Dgb=function(d){var g60,g;g60=2;for(;g60 !== 9;){switch(g60){case 2:d=this.Am.qb.sf[d];g=d.ig;g.Mn || --this.zE;f.mq.instance.uS(g);d.ig=void 0;g60=9;break;}}};S50=8;break;case 8:return l;break;}}})();b.Rxa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ova=void 0;c=a(15);f=a(9);r=(function(){function k(l){this.aF=l;this.state=new f.uq(c.ka.$g);this.Oi={};}k.prototype.getState=function(){return this.state.value;};k.prototype.Fe=function(l){this.state.set(l);};k.prototype.addListener=function(l){this.state.addListener(l);};k.prototype.paused=function(){this.state.value === c.ka.Hc && this.state.set(c.ka.$h);};k.prototype.fXa=function(){return this.state.value === c.ka.$g;};k.prototype.fC=function(){return "function" === typeof this.aF.fC?this.aF.fC():this.state.value === c.ka.Hc;};k.prototype.Rf=function(){return this.state.value === c.ka.Yc || this.state.value === c.ka.zf;};k.prototype.gXa=function(){return this.state.value === c.ka.Ci;};k.prototype.hXa=function(){return this.state.value === c.ka.wq;};k.prototype.ze=function(){return this.aF.ze();};k.prototype.Bp=function(){return "function" === typeof this.aF.Bp?this.aF.Bp():1;};k.prototype.AT=function(){return this.aF.AT();};k.prototype.DW=function(l,d){this.Oi[l]=d;};k.prototype.Wn=function(l){return ! !this.Oi[l.K] || l.Ji;};return k;})();b.ova=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.YEa=void 0;r=(function(){function a(c,f,k){var l;this.rmb=c;this.yda=f;this.ygb=k;this.Mca=(l={},l[0]=!1,l[1]=!1,l);this.reset();}a.prototype.Qx=function(){var c,f;c=this;f=this.rmb.filter(function(k){return !k.KWa(c.ygb());});0 === f.length && this.ida?this.tib():f.forEach(function(k){c.Mca[k.mediaType] || (k.once("requestAppended",function(){c.Mca[k.mediaType]=!1;c.Qx();}),c.Mca[k.mediaType]=!0);});};a.prototype.reset=function(){var c;c=this;this.ida=!1;new Promise(function(f){c.tib=f;}).then(function(){return c.yda();});};a.prototype.HIb=function(){this.ida || (this.ida=!0,this.Qx());};return a;})();b.YEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$ua=void 0;c=a(20);r=(function(){function f(k){this.console=k;this.qE=[];this.SA=[];c.ia && this.console.trace("Received pending adoption " + this.ol.length);}Object.defineProperties(f.prototype,{length:{get:function(){return this.qE.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ol:{get:function(){return this.SA;},enumerable:!1,configurable:!0}});f.prototype.EIb=function(k){k=this.SA.indexOf(k);-1 !== k && (c.ia && this.console.trace("Marking request attached"),this.qE[k].IWa=!0,this.t6a(k));};f.prototype.FIb=function(k){k=this.SA.indexOf(k);-1 !== k && (c.ia && this.console.trace("Marking request completed"),this.qE[k].Ly=!0,this.t6a(k));};f.prototype.OQb=function(k){var l,d;l=this;d=[];this.SA.forEach(function(g,h){k(g) && d.unshift(h);});d.forEach(function(g){l.SA.splice(g,1);l.qE.splice(g,1);});};f.prototype.push=function(k){this.SA.push(k);this.qE.push({IWa:!1,Ly:!1});c.ia && this.console.trace("Pushing pending request, " + this.length + " total");};f.prototype.UB=function(){return 0 < this.length;};f.prototype.t6a=function(k){var l;l=this.qE[k];l.IWa && l.Ly && (l=this.SA[k],this.SA.splice(k,1),this.qE.splice(k,1),c.ia && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.ia && this.console.trace("Removing last request, contentEndPts: " + l.vc));};return f;})();b.$ua=r;},function(r,b,a){var c,f,k,l,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.yEa=void 0;r=a(2);c=r.__importDefault(a(27));f=c.default.Ra;k=c.default.TD;l=a(9);d=a(22);g=r.__importDefault(a(146));h=r.__importDefault(a(5));a=(function(){function m(n,q,p,t,u){this.Pv=n;this.Gs=q;this.I=p;this.H=t;this.sg=u;}m.prototype.XKb=function(n){n={type:"requestCreated",request:n};l.Ua(this.Gs,n.type,n);};m.prototype.WKb=function(n){var q;q=n.Na.xb.P;n={type:"updateStreamingPts",mediaType:n.mediaType,position:{va:q.id,offset:d.S.mb(this.Pv.Iga - q.X)},completePlayerStreamingTimestamp:d.S.mb(this.Pv.ys),trackIndex:n.stream.track.ME};l.Ua(this.Gs,n.type,n);};m.prototype.r_a=function(n,q,p){var t,u;t=this.sg;u=this.Pv.Ff;u.Z3a(n);1 === t && this.I.z7 && (void 0 === u.Qma?u.a4a(h.default.time.ba()):h.default.time.ba() - u.Qma > this.I.z7 && (n.bitrate !== u.LXa && (h.default.storage.set("vb",n.bitrate),u.pTb(n.bitrate)),u.a4a(h.default.time.ba())));u.pU && u.pU === n || (this.Pv.Kz.WUb(q,u.pU,n),u.dTb(n),q=0,n.lb && n.lb.confidence && n.lb.Oa && (q=n.lb.Oa.Ca),u={va:this.Pv.xb.P.id,offset:d.S.mb(p - this.Pv.xb.P.X)},n={type:"streamSelected",nativetime:h.default.time.ba(),mediaType:t,streamId:n.id,manifestIndex:n.N.Fb,trackIndex:n.track.ME,streamIndex:n.mg,movieTime:p,bandwidth:q,longtermBw:q,rebuffer:0,position:u},l.Ua(this.Gs,n.type,n));};m.prototype.SKb=function(n,q,p){var t,u,w,v,x;t=q.N;u=t.Ql;w=this.Pv.Ff;v=t.oGb(q);x=v.Cma;v=v.pGb;p && q.dd && !w.qU?(v=k.Sw,q.yr=k.name[v],this.q_a(n,q.dd,q.yr,q.location,q.bitrate),w.qU=q.dd):!p && q.dd && q.dd !== w.qU && (v=v?void 0 === w.qU?k.Sw:u.pN === k.Kaa?k.Deb:k.M9:k.Ceb,q.yr=k.name[v],this.q_a(n,q.dd,q.yr,q.location,q.bitrate),w.qU=q.dd);w.QL || (v={type:"logdata",target:"startplay",fields:{}},this.sg === f.Sb?v.fields.alocid=q.location:this.sg === f.Eb && (v.fields.locid=q.location),l.Ua(this.Gs,v.type,v));p && q.location && !w.QL?(v=k.Sw,q.yr=k.name[v],this.o_a(t.Fb,n,q.location,q.fna,q.dd,q.gH,q.yr,q.Tv),w.QL=q.location):!p && q.location && q.location !== w.QL && (v=x?void 0 === w.QL?k.Sw:u.pN === k.Kaa?k.acb:k.M9:k.$bb,q.yr=k.name[v],this.o_a(t.Fb,n,q.location,q.fna,q.dd,q.gH,q.yr,q.Tv),q.Tv=void 0,w.QL=q.location);this.I.Ft || (q.GXa=q.location,q.JXa=q.dd);};m.prototype.q6=function(n){n={type:"requestsPruned",requests:n};l.Ua(this.Gs,n.type,n);};m.prototype.q_a=function(n,q,p,t,u){var w,v;w=this.sg === f.Eb?"video":"audio";v=g.default.instance().get();n={type:"serverSwitch",segmentId:n,mediatype:w,server:q,reason:p,location:t,bitrate:u,confidence:v.confidence};v.confidence && (n.throughput=v.Oa.Ca);this.Pv.Ff.qU && (n.oldserver=q);l.Ua(this.Gs,n.type,n);};m.prototype.o_a=function(n,q,p,t,u,w,v,x){l.Ua(this.Gs,"locationSelected",{type:"locationSelected",manifestIndex:n,segmentId:q,mediatype:this.sg === f.Eb?"video":"audio",location:p,locationlv:t,serverid:u,servername:w,selreason:v,seldetail:x});};m.prototype.zda=function(n,q){q={type:"lastSegmentPts",segmentId:n.id,pts:Math.floor(q)};n.HC || l.Ua(this.Gs,q.type,q);};m.prototype.Ul=function(n){n={type:"managerdebugevent",message:"@" + h.default.time.ba() + ", " + n};l.Ua(this.Gs,n.type,n);};m.prototype.yyb=function(n){l.Ua(this.Gs,"transportReport",n);};return m;})();b.yEa=a;},function(r,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.fGa=void 0;c=a(2);f=c.__importStar(a(10));k=a(247);l=a(871);d=a(874);r=a(96);g=a(6);h=a(249);m=a(9);n=a(68);a=(function(q){function p(t,u,w,v,x,y,z,A){var B;B=q.call(this,t) || this;B.I=u;B.H=w;B.rm=v;B.Jd=x;B.sg=y;B.qka=A;B.c7a=!0;B.tg=new h.$X(B.H);B.bk=B.H.error.bind(B.H);B.Gb=B.H.warn.bind(B.H);B.um=B.H.trace.bind(B.H);B.aLa();B.Po=null === z || void 0 === z?void 0:z.xB(function(){return B.gRb();},"pruner");return B;}c.__extends(p,q);Object.defineProperties(p.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{mediaType:{get:function(){return this.sg;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xb:{get:function(){return this.Jd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fw:{get:function(){return 0 < this.Az;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Rsa:{get:function(){return !this.oJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Az:{get:function(){return this.Ba.length;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ir:{get:function(){return this.Ba.Ir;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zPb:{get:function(){return this.tg.count;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{D1:{get:function(){return this.Ba.complete.qf;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ys:{get:function(){return this.Ba.WOa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Iga:{get:function(){return this.Ba.VOa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Uj:{get:function(){return this.Ba.qf;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Zm:{get:function(){return void 0 === this.Ba.Xc?0:this.Ba.Pd - this.Ba.Xc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{jp:{get:function(){return {da:this.Ba.uB,V:Math.max(this.Ba.WOa - this.Ba.Xc,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{nK:{get:function(){return this.Ba.cqb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{uB:{get:function(){return this.Ba.uB;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ax:{get:function(){return this.Ba.da;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{CC:{get:function(){return this.ihb();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{vpa:{get:function(){return this.Ba.GEb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{U3:{get:function(){return this.Ba.length > this.Ba.Ir;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Yo:{get:function(){return this.Ba.Yo;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{PGb:{get:function(){return this.WJa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{D0a:{get:function(){return this.Ba.length - this.zl;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Y:{get:function(){return this.Ba;},enumerable:!1,configurable:!0}});p.prototype.Cf=function(){var t,u;u=this.Ba;setTimeout(function(){u.forEach(function(w){w.abort();w.Lc();});},0);this.aLa();this.tg.v2();null === (t=this.Po) || void 0 === t?void 0:t.zb();};p.prototype.reset=function(){this.Cf();this.tg.O2a();};p.prototype.close=function(){this.tg.v2();};p.prototype.H3a=function(){this.JIa=!0;};p.prototype.yka=function(){return {endMarked:void 0 !== this.tg.count,queueCount:this.tg.count,isComplete:this.tg.Ly,itemCount:this.tg.XOa,continuousEndPts:this.tg.ro().reduce(function(t,u){return u && !u.done && (u=u.value,100 > Math.abs(u.jT - t) || -1 === t)?u.zyb:t;},-1),sentinelItemCount:this.tg.ro().filter(function(t){return t && t.done;}).length,processedCount:this.tg.Bub,rc:this.Az};};p.prototype.mtb=function(t,u,w){var v;v=this.I;g.assert(!t.header);t=v.qwb && 1 === this.mediaType?new d.rva(w,v,u.track,t,this.Ba,this.H):k.XX.create(w,v,u.track,t,this.Ba,!1,this.H,this.qka);t.nb(this);this.yx(t);return t;};p.prototype.Ulb=function(t){var u;t.nb(this);t.Nea=!0;this.yx(t);u=Promise.resolve();t.complete?(this.sca(t),this.rm.r_a(t.stream,t.Xc,t.Mc),u=this.J8(),this.qv(t)):(t.active && this.aL(t),t.Pqa && this.zF(t));return u;};p.prototype.yx=function(t){var u,w;this.Ba.Gp(t);(null === (u=this.Po) || void 0 === u?void 0:u.state) === n.vl.complete && (null === (w=this.Po) || void 0 === w?void 0:w.pl());this.sca(t);t.Ip && (this.oJ=!1);};p.prototype.KF=function(){return this.tg.ozb();};p.prototype.hga=function(){this.zl === this.Ba.length && this.JIa && this.tg.v2();};p.prototype.J8=function(){var t,u,w,v,A;t=this;w=Promise.resolve();v=this.Jd;if(!v.B4(this.sg) || this.zl === this.Ba.length)return w;for(var x=this.I.XIb,y=0,z=[];this.zl < this.Ba.length;){if(u=this.Ba.get(this.zl)){if(this.Ba.ySa && this.Ba.ySa.Ya < u.Ya)break;if(!u.Zs())break;z.push(u);++y;f.ya(this.Xc) || (this.Xc=u.Xc);}++this.zl;if(!f.fa(x) && y >= x)break;}if(z.length){void 0 !== this.tg.count && (this.bk("tryToAtach() but requestQueue has sentinel:",this.tg.count),this.tg.O2a());if(this.c7a)w=Promise.all(z.map(function(B){return t.tg.enqueue(B).then(function(){return t.Q3(B);});}));else for(u=0;u < z.length;u++){try{A=z[u];v.OBb(this.mediaType).Xub(A);this.Q3(A);}catch(B){return (this.zl-=z.length - u,Promise.reject(B));}}this.hga();}return w;};p.prototype.Q3=function(t){this.WJa=t;this.JSa(t);};p.prototype.mR=function(t,u){var w,v,x;w=this;v=[];if(0 !== this.Ba.Ir){x=this.Ba.w0a;this.Ba.mXb.Lsa(function(y){if(!f.fa(t) && y.N.Fb !== t || y.Ip || x > y.Xc)return !0;y.O2 && (w.oJ=!1);if(!w.$Z(y))return (w.Gb("request abort failed:",y.toString()),!0);v.unshift(y);});this.Lda();v.length && "function" === typeof u && u(v);}};p.prototype.n7=function(){this.Lda();};p.prototype.gRb=function(){var t,u,w,v,x,y;return c.__generator(this,function(z){switch(z.label){case 0:z.label=1;case 1:if(!this.Ba.length)return [3,3];t=this.Ba.get(0);u=m.S.mb(null !== (y=null === (x=this.I.BN) || void 0 === x?void 0:x.V) && void 0 !== y?y:0);w=u.add(t.qf);return [4,n.nj.fO(w)];case 2:z.Yd();if(1 >= this.Ba.complete.length && !t.Ip)return [3,3];g.assert(t === this.Ba.get(0));t.Ne || this.$Z(t);v=this.Ba.splice(0,1);0 < this.zl && this.zl--;this.rm.q6(v);return [3,1];case 3:return [2];}});};p.prototype.PV=function(t,u){var w,v,x,y,z,A;w=this;v=this.I;x=!1;y=0;z=this.Ba.some(function(B){if(t < B.Pd)return (x && w.sca(B),!0);++y;B.Ne || (w.Gb("pruning unappended request:",B && B.toString()),v.Hh && w.rm.Ul("prune pts:" + t + " unappended request:" + (B && B.toString())),B.O2 && (w.oJ=!1,x=!0),w.$Z(B,u) || w.bk("MediaRequest.abort error:",B.Lg));});if(0 < y){A=this.Ba.splice(0,y);this.zl-=Math.min(y,this.zl);this.rm.q6(A);}return z;};p.prototype.D3=function(t){var u,w,v;void 0 === t && (t={bS:null,JM:null,Xc:null,ml:0,Dg:0,Y:[]});u=this.I;w=this.Ba;f.ya(w.Xc) && (null === t.Xc || w.Xc < t.Xc) && (t.Xc=w.Xc);v=this.ys;void 0 !== v && null === t.bS && (t.bS=v);v=w.Pd;void 0 !== v && (null === t.JM || v > t.JM) && (t.JM=v);t.ml+=w.ml;t.Dg=u.Fsa?t.Dg + w.Z1a:t.Dg + w.uB;Array.prototype.unshift.apply(t.Y,w.Yd.Y);return t;};p.prototype.Ks=function(t){if(this.Ba.length && (t=this.Ba.oSa(t)))return t;};p.prototype.Skb=function(t){var u,w,v;w=t.Ld;t=t.Mc;g.assert(w,"expected contentEndTimestamp to be defined");g.assert(void 0 !== t,"expected contentStartPts to be defined");t=this.Ba.Tia(t);v=this.Ba.get(t);g.assert(v && void 0 !== v.Mc && void 0 !== v.vc && void 0 !== v.index,"expected existing request to be defined with properties");if(null === (u=v.Ld) || void 0 === u?0:u.equal(w))return (this.HLa(t),[v.vc,v.index + 1]);this.HLa(t - 1);return [v.Mc,v.index];};p.prototype.uo=function(){var t,u;t=this;u=[];this.Ba.forEach(function(w){var v;v=w.hua();1 === v?u.push(w):2 === v && t.xb.N.rh("swapUrl failure");});return u;};p.prototype.yM=function(t){t.eC && t.Zs() && this.J8();this.zF(t);};p.prototype.wk=function(t){var u,w;t.eC && !t.Ne && this.J8();(null === (u=this.Po) || void 0 === u?void 0:u.state) === n.vl.complete && (null === (w=this.Po) || void 0 === w?void 0:w.pl());this.qv(t);};p.prototype.Rea=function(t){var u,w,v;u=1 === this.sg?"v_":"a_";w=this.Ba;v=w.XK(t);t=0 <= v?w.get(v):void 0;return (w=0 <= v && v + 1 < w.length?w.get(v + 1):void 0) && t?t.Pd !== w.Xc?u + "rg":t.complete && w.complete?u + "uk":u + "fd":u + "rm";};p.prototype.ihb=function(){return this.Ba.Yo + this.Ba.Ir;};p.prototype.aLa=function(){var t,u,w;u=void 0 !== this.Ba && 0 < this.Ba.length;w=this.Ba;this.Ba=new l.mva(this.H,this);this.zl=0;this.tg.clear();this.WJa=void 0;this.Xc=null;null === (t=this.Po) || void 0 === t?void 0:t.pl();this.JIa=this.oJ=!1;u && (t=w.map(function(v){return v;}),this.rm.q6(t));};p.prototype.sca=function(t){this.oJ?t.O2=!1:this.oJ=t.O2=!0;};p.prototype.HLa=function(t){var u;for(t+=1;t < this.Az;t++){u=this.Ba.get(t);g.assert(u,"expected request to exist");this.tg.remove(u);u.aborted || (this.$Z(u),u.Lc());}this.Lda();};p.prototype.$Z=function(t,u){if(!t.abort())return !1;"function" === typeof u && u(t);return !0;};p.prototype.Lda=function(){var t,u,w,v;t=this;if(0 !== this.Ba.length){w=[];v=0;this.Ba.qPb(function(x,y){y < t.zl && ++v;w.push(x);});this.zl-=v;null === (u=this.Po) || void 0 === u?void 0:u.pl();this.rm.q6(w);}};return p;})(r.tw);b.fGa=a;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q;Object.defineProperties(b,{__esModule:{value:!0}});b.jva=void 0;c=a(2);f=a(111);k=c.__importDefault(a(27));r=c.__importDefault(a(5));l=a(9);d=a(6);g=a(248);h=a(98);m=a(241);n=a(113);q=r.default.rq;a=(function(p){function t(u,w,v,x,y,z,A,B){var D;x=p.call(this,u,v,x,z,A,B) || this;y=h.fm.prototype.toString.call(x) + (y?"(cache)":"");B={offset:v.offset,da:v.voa + 8,responseType:0};x.push(new m.qO(u,w,y + "(moof)",B,x,z,A));B={offset:v.offset + B.da,da:v.da - B.da,responseType:q.Yb && !q.Yb.oW.SP?0:1};if(x.mediaType === k.default.Ra.Eb && x.na){if(0 < x.na.start){D=x.rSa(x.na.start);D && (B.offset=v.offset + D,B.da=v.da - D);}x.na.end < x.HB && (D=x.rSa(x.na.end)) && (B.da-=v.da - D);}x.push(new m.qO(u,w,y + "(mdat)",B,x,z,A));return x;}c.__extends(t,p);t.prototype.Zs=function(){return !this.Ne && ! !this.Ba.length && this.Ba.every(function(u){return u.Zs();});};t.prototype.RE=function(u){var w,v,x,y,z,A,B,D;if(this.Ne)return {status:n.fj.zw};if(!this.Zs())return {status:n.fj.wf};w=!1;v=this.Ba[0].response;x=v.slice(0,v.byteLength - 8);y=new DataView(v);v=y.getUint32(x.byteLength);d.assert("mdat" === f.tn(y.getUint32(x.byteLength + 4)));z=this.na && 0 < this.na.start;y=this.na && this.na.end < this.HB;if(this.na && (z || y)){if(z)(A=new f.tq(this.H,this.stream,x),B=A.bra(this.na.start,this.U));if(y && !1 !== B){A=new f.tq(this.H,this.stream,B?l.vB(B.jd):x);D=A.fra(this.na.end - this.na.start,this.U);}if(x=y?D:B)(w=u.appendBuffer(l.vB(x.jd),l.Jp(this)),B && (v-=B.vi),D && (v-=D.vi));A=this.Oda();}else w=u.appendBuffer(x,l.Jp(this));w && (w=u.appendBuffer(f.Wy(v - 8),l.Jp(this))) && (w=u.appendBuffer(this.Ba[1].response,l.Jp(this)));this.Ne=w;this.wQb();return {status:w?n.fj.zw:n.fj.wf,Jj:A};};t.prototype.toString=function(){return "ID: " + this.Kh() + ":" + p.prototype.toString.call(this);};return t;})(g.hD);b.jva=a;},function(r,b,a){var c,f,k,l,d,g,h;Object.defineProperties(b,{__esModule:{value:!0}});b.E8a=void 0;r=a(2);c=a(111);f=a(245);k=r.__importDefault(a(27));l=a(9);a(6);d=a(22);g=r.__importDefault(a(5));h=a(113);a=(function(){var h60;h60=2;for(;h60 !== 14;){switch(h60){case 8:m.prototype.Kgb=function(n,q,p,t,u){var q60,w,v,x,y,z;q60=2;for(;q60 !== 11;){switch(q60){case 3:q60=y?9:12;break;case 4:0 >= this.duration && (y=!1,x=!0);q60=3;break;case 8:var I2Q="med";I2Q+="ia|";I2Q+="a";I2Q+="sej";I2Q+="s";var F2Q="M";F2Q+="P";F2Q+="4";q60=(q=new c.tq(new g.default.Console(F2Q,I2Q),this.stream,this.response),q=q.bra(this.na.start,this.kM,v.aq))?7:14;break;case 2:(v={aq:0},x=!1,y=!0);this.mediaType === k.default.Ra.Sb && p && (t?u && this.GS():this.ZIa(p)?p.na && this.na && this.na.start !== p.na.end && this.uh({start:p.na.end}):(v=this.VIa(q),p.Pd === this.Xc && (v.aq=0)));void 0 === (null === (w=this.na) || void 0 === w?void 0:w.X7)?this.mediaType === k.default.Ra.Sb && !p && this.na && (v.aq=Math.min(this.na.end - this.na.start,Math.max(this.Chb(),v.aq || 0))):v.aq=this.na.X7;q60=4;break;case 9:q60=this.na && (0 < this.na.start || v.aq)?8:13;break;case 7:x=n.appendBuffer(l.vB(q.jd),l.Jp(this));q60=6;break;case 14:var g2Q=" fr";g2Q+="o";g2Q+="m ";g2Q+="[";g2Q+=" ";var L2Q="AseFragmentMe";L2Q+="diaRequest: Fr";L2Q+="agm";L2Q+="ent";L2Q+=" edit failed for ";(this.H.error(L2Q + this.toString() + g2Q + this.cL + "-" + this.X2 + "]"),x=!0);q60=12;break;case 6:z=this.Oda(v);q60=12;break;case 13:x=n.appendBuffer(this.response,l.Jp(this));q60=12;break;case 12:return {W:x,Jj:z};break;}}};m.prototype.Lgb=function(n,q,p,t,u){var r60,w,v,x,y;r60=2;for(;r60 !== 11;){switch(r60){case 4:r60=x?3:12;break;case 8:n=n.appendBuffer(l.vB(x.jd),l.Jp(this));r60=7;break;case 6:return {W:n,Jj:y};break;case 2:(w=this.Cd,v={aq:0},x=!0);this.mediaType === k.default.Ra.Sb && (t?u && (this.n2(1),x=0 < this.na.end):this.ZIa(p)?p.na && 0 !== p.na.start?this.uh({start:0,end:p.na.start}):x=!1:(v=this.VIa(q),w.Bz || (q=this.Mfb(q,p,v.mja),(x=q.LTb) && q.lIb && (v.aq=0))));x && 0 === this.duration && (x=!1);r60=4;break;case 7:y=this.Oda(v);r60=6;break;case 9:r60=(x=new c.tq(this.H,this.stream,this.response),x=x.fra(this.na && this.na.end,this.U,v.aq))?8:14;break;case 3:r60=this.na && this.na.end < this.HB || v.aq?9:13;break;case 14:var b2Q=" ";b2Q+="f";b2Q+="rom";b2Q+=" [";b2Q+=" ";var j2Q="AseFragmentMediaReques";j2Q+="t: Fragment ";j2Q+="edit faile";j2Q+="d for";j2Q+=" ";(this.H.error(j2Q + this.toString() + b2Q + this.cL + "-" + this.X2 + "]"),n=!0);r60=6;break;case 13:n=n.appendBuffer(this.response,l.Jp(this));r60=6;break;case 12:n=!0;r60=6;break;}}};return m;break;case 2:m.prototype.ZIa=function(n){var j60;j60=2;for(;j60 !== 1;){switch(j60){case 2:return n && n.K === this.K && n.jT === this.jT?!0:!1;break;}}};m.prototype.Chb=function(){var k60,n;k60=2;for(;k60 !== 5;){switch(k60){case 2:n=this.Cd;return n.ek && !n.gB && this.stream.fe && (n.v4 || n.w4 && -1 !== n.w4.indexOf(this.stream.aa))?n.EWa || 2:0;break;}}};m.prototype.egb=function(n){var l60,q;l60=2;for(;l60 !== 5;){switch(l60){case 2:q=this.Cd;return {mja:!1,gUb:!(void 0 !== q.k8?q.k8:n && n.k8)};break;}}};m.prototype.VIa=function(n){var m60,q;m60=2;for(;m60 !== 4;){switch(m60){case 2:q=this.Cd;n=this.egb(n);return {mja:n.mja,aq:n.gUb && q.u4?q.u4 || 0:0};break;}}};m.prototype.Mfb=function(n,q,p){var n60,D,u,w,v,x,y,z,A,B;n60=2;for(;n60 !== 11;){switch(n60){case 3:n60=q && !p?9:6;break;case 7:v=v.fV;n60=6;break;case 9:v=t(B);D=v.jN;n60=7;break;case 2:(u=this.Cd,w=!0,v=!1);n=f.x3(u,n);(x=this.pa,y=x.U,z=this.np,A=q?q.Xpa:this.X0a - 2 * x.Xb,B=A - this.OSa);p=u.ryb || p;n60=3;break;case 6:v || (D=A - d.S.Y5(n,y),D=new d.S(D - this.OSa,y),q=t(u.Wf?Infinity:Math.max(0,D.Xb)),D=q.jN,(q=q.fV) && 0 < D && !u.Wf && --D);this.uh({start:0,end:D});D < (u.DZa || 1) && (w=!1);return {LTb:w,lIb:v};break;}}function t(E){var o60,F,C;o60=2;for(;o60 !== 4;){switch(o60){case 2:E=Math.floor(Math.min(z,E) / x.Xb);(F=x.Xb * E,C=B - F);return {jN:E,np:F,Pyb:C,fV:0 < E && C < y / 1E3};break;}}}};m.prototype.RE=function(n,q,p,t,u,w){var p60,x,v;p60=2;for(;p60 !== 10;){switch(p60){case 12:n=this.mediaType === k.default.Ra.Sb && v.Bz && p && this.Wt && p.Pd >= this.Pd && this.vc - this.Wt < this.Wt - this.Mc?!0:n.appendBuffer(this.response,l.Jp(this));p60=6;break;case 9:x=this.Lgb(n,q,t,u,w);n=x.W;p60=7;break;case 7:x=x.Jj;p60=6;break;case 6:this.Ne=!0;this.aW();p60=13;break;case 1:p60=this.Ne?5:4;break;case 13:return {status:n?h.fj.zw:h.fj.wf,Jj:x};break;case 11:(x=this.Kgb(n,q,p,u,w),n=x.W,x=x.Jj);p60=6;break;case 3:p60=this.na && (this.Ip || this.yv)?9:12;break;case 2:v=this.Cd;p60=1;break;case 4:p60=!this.na || this.Ip || this.yv?3:11;break;case 5:return {status:h.fj.wf};break;}}};h60=8;break;}}function m(){var i60;i60=2;for(;i60 !== 1;){switch(i60){case 2:var i2Q="1SIYbZrNJ";i2Q+="C";i2Q+="p9";i2Q;i60=1;break;}}}})();b.E8a=a;b.default=new a();},function(r,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.mva=void 0;c=a(2);a(6);f=a(872);r=a(43);k=a(873);l=a(112);d=a(96);g=a(240);a=(function(h){function m(n,q){var p,t;p=this;t=[new k.WX(n),new k.WX(n),new k.WX(n)];p=h.call(this,t,function(u){return u.complete?p.empty || u.Ya <= p.dqb?0:1:u.active?1:2;}) || this;t=c.__read(t,3);p.ai=t[0];p.Je=t[1];p.js=t[2];p.Eq=0;p.dca=0;p.H=n;p.Ke=q;return p;}c.__extends(m,h);Object.defineProperties(m.prototype,{da:{get:function(){return this.ai.da + this.Je.da + this.js.da;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mXb:{get:function(){return this.js;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{active:{get:function(){return this.Je;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{complete:{get:function(){return this.ai;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Z1a:{get:function(){return this.Eq;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{uB:{get:function(){return this.ai.da;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ml:{get:function(){return this.ai.da + this.Je.da - this.Eq;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{nXb:{get:function(){return this.js.da;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{first:{get:function(){return this.Myb();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zn:{get:function(){return this.knb();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{iia:{get:function(){return !this.ai.empty || this.js.empty || this.Je.empty?this.first:this.Je.Ya < this.js.Ya?this.Je.first:this.js.first;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{PXa:{get:function(){return this.js.empty || this.Je.empty?this.Zn:this.Je.kb < this.js.kb?this.js.Zn:this.Je.Zn;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ySa:{get:function(){return this.js.first;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{U:{get:function(){return this.first && this.first.U;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ya:{get:function(){return this.iia && this.iia.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{kb:{get:function(){return this.PXa && this.PXa.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Oj:{get:function(){return this.first && this.first.Oj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{cqb:{get:function(){return this.ai.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{GEb:{get:function(){return this.vc - this.VOa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dqb:{get:function(){return this.ai.empty?this.Ya:this.ai.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{VOa:{get:function(){return this.ai.empty?this.Mc:this.ai.vc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{WOa:{get:function(){return this.ai.empty?this.Xc:this.ai.Pd;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{w0a:{get:function(){return this.Je.Pd || this.ai.Pd;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ir:{get:function(){return this.js.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Yo:{get:function(){return this.Je.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{YOa:{get:function(){return this.ai.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Yd:{get:function(){return this.ai.concat(this.Je);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Oq:{get:function(){return this.bg;},enumerable:!1,configurable:!0}});m.prototype.WI=function(n){var q;n.aborted?++this.dca:this.Eq+=n.bytesReceived || 0;if(this.empty)this.bg=new g.fA(this,{});else if(n.Ya !== this.kb)if(n.Ya > this.bg.kb)this.bg.BW(this.bg.kb);else if(n.Ya < this.Ya || n.Ya === this.bg.kb){q=n.kb;this.pyb(function(p,t){return p.Ya - t.Ya;},function(p){q=p.Ya === q?p.kb:q;});q === Math.max(this.kb,n.kb)?this.bg.wga():this.bg.BW(q);}n.ssa(this);};m.prototype.ox=function(n){n.aborted?--this.dca:this.Eq-=n.bytesReceived;this.empty?this.bg=void 0:n.Ya !== this.kb && n.kb <= this.bg.kb && n.Ya > this.bg.Ya && this.bg.BW(n.Ya);n.BOa();};m.prototype.push=function(n){this.WI(n);return h.prototype.push.call(this,n);};m.prototype.shift=function(){var n;n=h.prototype.shift.call(this);n && this.ox(n);return n;};m.prototype.pop=function(){var n;n=h.prototype.pop.call(this);n && this.ox(n);return n;};m.prototype.unshift=function(n){this.WI(n);return h.prototype.unshift.call(this,n);};m.prototype.Gp=function(n){this.WI(n);h.prototype.Gp.call(this,n);};m.prototype.remove=function(n){if(!h.prototype.remove.call(this,n))return !1;this.ox(n);return !0;};m.prototype.splice=function(n,q){for(var p=[],t=2;t < arguments.length;t++){p[t - 2]=arguments[t];}t=h.prototype.splice.apply(this,c.__spread([n,q],p));p.forEach(this.WI.bind(this));t.forEach(this.ox.bind(this));return t;};m.prototype.qPb=function(n){var q;q=this;this.reduce(function(p,t,u){t.aborted && (n && n(t,u,q),0 === p.length || p[0].end !== u?p.unshift({start:u,end:u + 1}):p[0].end+=1);return p;},[]).forEach(function(p){return q.splice(p.start,p.end - p.start);});};m.prototype.Tia=function(n){return this.pSa(function(q){return q.Tia(n);});};m.prototype.XK=function(n){return this.pSa(function(q){return q.XK(n);});};m.prototype.oSa=function(n){n=this.XK(n);return -1 !== n?this.get(n):void 0;};m.prototype.nSb=function(n){var p;for(var q=[];n < this.length;){p=this.get(n);p && q.push(p);n++;}return q;};m.prototype.hz=function(n){this.move(n);this.aL(n);};m.prototype.zM=function(n){this.Eq+=n.bytesReceived - n.nr;this.bL(n);};m.prototype.wk=function(n){for(this.Eq+=n.bytesReceived - n.nr;this.Je.first && this.Je.first.complete && (this.ai.empty?this.Je.first === this.iia:this.Je.first.Ya === this.ai.kb);){this.JTb();}this.qv(n);};m.prototype.qV=function(n,q,p){this.Eq-=n.bytesReceived;++this.dca;this.$K(n,q,p);};return m;})(f.Swa);b.mva=a;r.uf(d.tw,a,!1);r.uf(l.gA,a);r.uf(l.eA,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Swa=void 0;c=a(2);a(6);r=(function(){function f(k,l){this.Vc=k;this.gJ=l;this.hx();}Object.defineProperties(f.prototype,{length:{get:function(){return this.Ue;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.Ue;},enumerable:!1,configurable:!0}});f.prototype.Myb=function(){return this.rg && this.rg.get(0);};f.prototype.knb=function(){return this.bJ && this.bJ.get(this.bJ.length - 1);};f.prototype.get=function(k){0 > k && (k+=this.length);for(var l=0;l < this.Vc.length;++l){if(this.Dh[l + 1] > k)return this.Vc[l].get(k - this.Dh[l]);}};f.prototype.push=function(k){this.Vc[this.gJ(k)].push(k);this.hx();return this.Ue;};f.prototype.shift=function(){var k;if(this.rg){k=this.rg.shift();this.hx();return k;}};f.prototype.pop=function(){var k;if(this.bJ){k=this.bJ.pop();this.hx();return k;}};f.prototype.unshift=function(k){this.Vc[this.gJ(k)].unshift(k);this.hx();return this.Ue;};f.prototype.Gp=function(k){var l;l=this.gJ(k);this.Vc[l].Gp(k);this.hx();};f.prototype.remove=function(k){var l;l=this.Vc.some(function(d){return d.remove(k);});l && this.hx();return l;};f.prototype.splice=function(k,l){var p,t,u,w;for(var d,g=[],h=2;h < arguments.length;h++){g[h - 2]=arguments[h];}h=[];for(var m,n=k + Math.max(0,l),q=0;q < this.Vc.length;++q){p=this.Vc[q];t=this.Dh[q];u=this.Dh[q + 1];if(k < u){w=k - t;t=Math.min(n - t,p.length);void 0 === m && 0 < w && t < p.length?Array.prototype.push.apply(h,p.splice.apply(p,c.__spread([w,t - w],g))):(Array.prototype.push.apply(h,p.splice(w,t - w)),void 0 === m && (m=0 < q && 0 === w?q - 1:q));k=u;if(k >= n)break;}}if(g.length && void 0 !== m){for(n=this.gJ(g[0]);0 < m && n < m && this.Vc[m].empty;){--m;}for(;g.length && n === m;){this.Vc[m].push(g.shift());if(!g.length)break;n=this.gJ(g[0]);}for(;g.length && ++m < this.Vc.length && this.Vc[m].empty;){for(;g.length && n === m;){this.Vc[m].push(g.shift());if(!g.length)break;n=this.gJ(g[0]);}}g.length && (d=this.Vc[m]).splice.apply(d,c.__spread([0,0],g));}this.hx();return h;};f.prototype.find=function(k){var l,d;l=this;return this.Vc.some(function(g,h){d=g.find(l.dB(k,h));return void 0 !== d;})?d:void 0;};f.prototype.findIndex=function(k){var d;for(var l=0;l < this.Vc.length;++l){d=this.Vc[l].findIndex(this.dB(k,l));if(-1 !== d)return d + this.Dh[l];}return -1;};f.prototype.indexOf=function(k){var d;for(var l=0;l < this.Vc.length;++l){d=this.Vc[l].indexOf(k);if(-1 !== d)return d + this.Dh[l];}return -1;};f.prototype.map=function(k){var l,d;l=this;d=this.Vc.map(function(g,h){return g.map(l.dB(k,h));});return Array.prototype.concat.apply([],d);};f.prototype.reduce=function(k,l){var d;d=this;return this.Vc.reduce(function(g,h,m){return h.reduce(d.Nkb(k,m),g);},l);};f.prototype.forEach=function(k){var l;l=this;this.Vc.forEach(function(d,g){d.forEach(l.dB(k,g));});};f.prototype.P2=function(k){for(var l=this.Vc.length - 1;0 <= l;--l){this.Vc[l].P2(this.dB(k,l));}};f.prototype.some=function(k){var l;l=this;return this.Vc.some(function(d,g){return d.some(l.dB(k,g));});};f.prototype.Lsa=function(k){for(var l=this.Vc.length - 1;0 <= l;--l){if(this.Vc[l].Lsa(this.dB(k,l)))return !0;}return !1;};f.prototype.every=function(k){var l;l=this;return this.Vc.every(function(d,g){return d.every(l.dB(k,g));});};f.prototype.pyb=function(k,l){var n,q;function d(p){return p.reduce(function(t,u,w,v){return void 0 === u?t:void 0 === t?w:0 > k(u,v[t])?w:t;},void 0);}for(var g=this,h=this.Vc.map(function(){return 0;}),m=this.Vc.filter(function(p){return p.empty;}).length;m < this.Vc.length;){n=h.map(function(p,t){return p < g.Vc[t].length?g.Vc[t].get(p):void 0;});q=d(n);l(n[q],this.Dh[q] + h[q],this);++h[q];h[q] === this.Vc[q].length && ++m;}};f.prototype.move=function(k){return this.remove(k)?(this.Gp(k),!0):!1;};f.prototype.JTb=function(){var k;if(this.Vc[1].length){k=this.Vc[1].shift();this.Vc[0].push(k);this.hx();}};f.prototype.pSa=function(k){for(var l=-1,d=0;d < this.Vc.length;++d){if((l=k(this.Vc[d]),-1 !== l)){l+=this.Dh[d];break;}}return l;};f.prototype.toJSON=function(){return this.map(function(k){return k.toJSON();});};f.prototype.hx=function(){var l;this.Ue=0;this.Dh=[0];this.bJ=this.rg=void 0;for(var k=0;k < this.Vc.length;++k){l=this.Vc[k];this.Ue+=l.length;this.Dh.push(this.Dh[this.Dh.length - 1] + l.length);!this.rg && l.length && (this.rg=l);l.length && (this.bJ=l);}};f.prototype.dB=function(k,l){var d,g;d=this;g=this.Dh[l];return function(h,m){return k(h,g + m,d);};};f.prototype.Nkb=function(k,l){var d,g;d=this;g=this.Dh[l];return function(h,m,n){return k(h,m,g + n,d);};};return f;})();b.Swa=r;},function(r,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.WX=void 0;c=a(2);f=a(6);r=a(43);k=a(240);a=a(112);l=(function(){function d(g,h){this.Ka=[];this.bg=void 0;this.Ic=0;this.H=g;h && h.length && (Array.isArray(h)?(this.Ka=h.slice(),this.dQ(0,this.Ka.length)):h instanceof d && (this.Ka=h.Ka.slice(),this.dQ(0,this.Ka.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Ka.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Ka.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Ka[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zn:{get:function(){return this.Ka[this.Ka.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ya:{get:function(){return this.first && this.first.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kb:{get:function(){return this.Zn && this.Zn.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Oq:{get:function(){return this.bg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{da:{get:function(){return this.Ic;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{U:{get:function(){return this.first && this.first.U;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Oj:{get:function(){return this.first && this.first.Oj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Y:{get:function(){return this.Ka;},enumerable:!1,configurable:!0}});d.prototype.Ymb=function(){var g;if(0 === this.Ka.length)(f.assert(void 0 === this.bg),f.assert(0 === this.Ic));else {f.assert(this.bg instanceof k.fA);f.assert("number" === typeof this.Ic);f.assert(void 0 !== this.Oq && this.Oq.Ya === this.Ya);g=this.Ka.reduce(function(h,m,n){return 0 === n || m.Ya === h?m.kb:h;},0);f.assert(this.Oq.kb === g);f.assert(this.Ka.reduce(function(h,m,n){return 0 === n || m.Ya === h?m.kb:h;},0) === this.Oq.kb);f.assert(this.Ka.reduce(function(h,m){return h + m.da;},0) === this.Ic);}};d.prototype.get=function(g){0 > g && (g+=this.Ka.length);return this.Ka[g];};d.prototype.push=function(g){this.Ka.push(g);this.dQ(this.Ka.length - 1);return this.length;};d.prototype.unshift=function(g){this.Ka.unshift(g);this.dQ(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Ka.length)return (this.Nda(this.Ka.length - 1),this.Ka.pop());};d.prototype.shift=function(){if(0 !== this.Ka.length)return (this.Nda(0),this.Ka.shift());};d.prototype.splice=function(g,h){for(var m,n=[],q=2;q < arguments.length;q++){n[q - 2]=arguments[q];}0 > g && (g+=this.Ka.length);0 > g && (g=0);g > this.Ka.length && (g=this.Ka.length);if(void 0 === h || 0 > h)h=0;h=Math.min(h,this.Ka.length - g);0 < h && this.Nda(g,g + h);q=(m=this.Ka).splice.apply(m,c.__spread([g,h],n));0 < n.length && this.dQ(g,g + arguments.length - 2);return q;};d.prototype.slice=function(g,h){void 0 === g && (g=0);void 0 === h && (h=this.Ka.length);0 > g && (g+=this.Ka.length);if(g >= this.Ka.length)return new d(this.H);h > this.Ka.length && (h=this.Ka.length);0 > h && (h+=this.Ka.length);return new d(this.H,this.Ka.slice(g,h));};d.prototype.Gp=function(g){if(0 === this.Ka.length || g.Ya >= this.kb)this.push(g);else if(g.kb <= this.Ya)this.unshift(g);else {for(var h=0,m=this.Ka.length - 1,n;h < m - 1;){n=Math.floor((m + h) / 2);f.assert(n !== m && n !== h);g.Ya >= this.Ka[n].kb?h=n:m=n;}f.assert(h !== m);f.assert(this.Ka[h].kb <= g.Ya && this.Ka[m].Ya >= g.kb);this.splice(m,0,g);}};d.prototype.remove=function(g){g=this.Ka.indexOf(g);if(0 > g)return !1;this.splice(g,1);return !0;};d.prototype.concat=function(){for(var g=[],h=0;h < arguments.length;h++){g[h]=arguments[h];}g=g.map(function(m){return m.Ka;});return new d(this.H,Array.prototype.concat.apply(this.Ka,g));};d.prototype.forEach=function(g){var h;h=this;this.Ka.forEach(function(m,n){return g(m,n,h);});};d.prototype.some=function(g){var h;h=this;return this.Ka.some(function(m,n){return g(m,n,h);});};d.prototype.every=function(g){var h;h=this;return this.Ka.every(function(m,n){return g(m,n,h);});};d.prototype.map=function(g){var h;h=this;return this.Ka.map(function(m,n){return g(m,n,h);});};d.prototype.reduce=function(g,h){var m;m=this;return this.Ka.reduce(function(n,q,p){return g(n,q,p,m);},h);};d.prototype.indexOf=function(g){return this.Ka.indexOf(g);};d.prototype.find=function(g){var h,m;h=this;return this.Ka.some(function(n,q){m=q;return g(n,q,h);})?this.Ka[m]:void 0;};d.prototype.findIndex=function(g){var h,m;h=this;return this.Ka.some(function(n,q){m=q;return g(n,q,h);})?m:-1;};d.prototype.filter=function(g){var h;h=this;return new d(this.H,this.Ka.filter(function(m,n){return g(m,n,h);}));};d.prototype.P2=function(g){for(var h=this.Ka.length - 1;0 <= h;--h){g(this.Ka[h],h,this);}};d.prototype.Lsa=function(g){for(var h=this.Ka.length - 1;0 <= h;--h){if(g(this.Ka[h],h,this))return !0;}return !1;};d.prototype.Tia=function(g){if(this.empty || g < this.Mc || g >= this.vc)return -1;for(var h=0,m=this.Ka.length - 1,n;m > h;){n=Math.floor((m + h) / 2);if(g >= this.Ka[n].Mc && g < this.Ka[n].vc){m=n;break;}g < this.Ka[n].vc?m=n - 1:h=n + 1;}return m;};d.prototype.XK=function(g){if(this.empty || g < this.Xc || g >= this.Pd)return -1;for(var h=0,m=this.Ka.length - 1,n;m > h;){n=Math.floor((m + h) / 2);if(g >= this.Ka[n].Xc && g < this.Ka[n].Pd){m=n;break;}g < this.Ka[n].Pd?m=n - 1:h=n + 1;}return m;};d.prototype.oSa=function(g){g=this.XK(g);return 0 <= g?this.Ka[g]:void 0;};d.prototype.F0=function(g){var h;h=this.Ka[g].kb;for(g+=1;g < this.Ka.length && h === this.Ka[g].Ya;++g){h=this.Ka[g].kb;}g < this.Ka.length?void 0 === this.bg?this.bg=new k.fA(this,{kb:h}):this.bg.BW(h):void 0 === this.bg?this.bg=new k.fA(this,{}):this.bg.wga();};d.prototype.WI=function(g,h){for(var m=g;m < h;++m){this.Ic+=this.Ka[m].da;}void 0 === this.bg || 0 === g?this.F0(0):this.bg.kb === this.kb?this.F0(g - 1):this.Ka[g].Ya === this.bg.kb && this.F0(g);};d.prototype.ox=function(g,h){var m;if(0 === g)(this.bg=void 0,h < this.length && this.F0(h));else {m=this.bg;m.kb > this.Ka[g - 1].kb && (h < this.length?m.BW(this.Ka[g - 1].kb):m.wga());}for(;g < h;++g){this.Ic-=this.Ka[g].da;}};d.prototype.dQ=function(g,h){void 0 === h && (h=g + 1);this.WI(g,h);};d.prototype.Nda=function(g,h){void 0 === h && (h=g + 1);this.ox(g,h);};return d;})();b.WX=l;r.uf(a.gA,l);r.uf(a.eA,l);},function(r,b,a){var c,f,k,l,d,g,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.rva=void 0;c=a(2);f=a(111);k=a(6);c.__importDefault(a(5));l=a(9);d=a(248);g=a(98);h=a(241);m=a(113);r=(function(n){function q(p,t,u,w,v,x){t=n.call(this,p,w,v,t,x) || this;t.Igb=u;t.E_=q.oD.INIT;t.c4b=w.offset;t.kda=g.fm.prototype.toString.call(t) + " multiple";t.djb=w.da;t.NJ(p.url,w.offset,8,0);return t;}c.__extends(q,n);Object.defineProperties(q.prototype,{data:{get:function(){return this.pm;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{da:{get:function(){return this.djb;},enumerable:!1,configurable:!0}});q.prototype.wk=function(p){var t,u;this.pm=this.E_ === q.oD.INIT?p.response:l.vB(this.pm,p.response);p.aW();switch(this.E_){case q.oD.INIT:(t=new DataView(this.pm),u=t.getUint32(0));t=t.getUint32(4);f.tn(t);this.NJ(p.url,p.offset + p.da,u,0);d.hD.prototype.wk.call(this,p);this.E_=q.oD.HBa;break;case q.oD.HBa:t=new DataView(this.pm);u=t.getUint32(this.UIa - 8);t=t.getUint32(this.UIa - 4);f.tn(t);this.NJ(p.url,p.offset + p.da,u - 8,0);this.E_=q.oD.CBa;d.hD.prototype.wk.call(this,p);break;case q.oD.CBa:d.hD.prototype.wk.call(this,p);break;default:k.assert(!1);}};q.prototype.RE=function(p){if(this.Ne)return {status:m.fj.zw};if(!this.Zs())return {status:m.fj.wf};this.Ne=p.appendBuffer(this.pm,l.Jp(this));return {status:this.Ne?m.fj.zw:m.fj.wf};};q.prototype.NJ=function(p,t,u,w){p=new h.qO(this.stream,this.Igb,this.kda + " (" + this.Ba.length + ")",{K:this.K,mediaType:this.mediaType,Ma:this.Ma,bitrate:this.bitrate,offset:t,da:u,url:p,location:this.location,zd:this.zd,responseType:w},this,this.Cd,this.H);this.push(p);this.UIa=this.Ba.reduce(function(v,x){return v + x.da;},0);};q.oD={INIT:0,HBa:1,CBa:2,name:["INIT","MOOF","MDAT"]};return q;})(d.hD);b.rva=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.VGa=void 0;c=a(245);f=a(22);r=(function(){function k(l,d){this.Wf=l;this.console=d;this.nE=Infinity;this.mQ=this.j0=0;this.xLa=!1;}k.prototype.aRb=function(){this.xLa=!0;};k.prototype.Sxb=function(l,d,g,h,m){var n;if(this.Wf){n=l.Y;if(n){if(1 === g)(g=n.Gm(Math.ceil(this.Wf * l.pa.IG),void 0,!0),n=l.pk(g),l=n.IS.$k(l.pa),n.uh({start:0,end:this.Wf - g * l}),this.nE=this.Wf);else {void 0 !== h.J4a?(d=h.J4a,g=d * l.pa.V):(g=c.x3(h,m) + Math.ceil(h.Qmb * l.pa.IG),f.S.mb(g).$k(l.pa),g=d + g,d=Math.ceil(g / l.pa.IG));g=n.Gm(g,void 0,!0);for(m=h=0;m < g;++m){n=l.pk(m);h+=n.IS.$k(l.pa);}h=d - h;n=l.pk(g);n.uh({end:h});this.nE=d;}n.LYa();return n;}}};k.prototype.IEb=function(l){this.mQ+=l.G2a;this.console.warn("StallAtFrameCount, adding frames: " + l.G2a,"total frames: " + this.mQ,"needed frames: " + this.nE);};k.prototype.zDb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.j0,"needed: " + this.nE);return this.j0 >= this.nE;};k.prototype.yDb=function(){return this.mQ >= this.nE;};k.prototype.KEb=function(l,d){this.j0+=this.JB(l,d);};k.prototype.Owb=function(l,d,g){l.G2a=this.JB(d,g);};k.prototype.JB=function(l,d){return l.IS.$k(d.pa);};k.prototype.Qx=function(){if(!this.yDb())return !1;if(this.xLa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.mQ + " >= " + this.nE);return !0;};return k;})();b.VGa=r;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.eHa=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(27));k=r.__importDefault(a(5));l=a(30);d=a(15);g=a(250);h=a(877);m=new k.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.ka[d.ka.$g],d.ka[d.ka.Yc],d.ka[d.ka.zf],d.ka[d.ka.Hc],d.ka[d.ka.$h],"checkBuffering"];q={first:a(879),random:a(880),optimized:a(179).default,roundrobin:a(884),selectaudio:a(417),selectaudioadaptive:a(885),"default":a(179).default,lowest:a(886),highest:a(887),throughputthreshold:a(888),replay:a(889).default,checkdefault:a(891),testscript:a(892)};p={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){var s60;s60=2;function t(u,w,v,x){var t60,y;t60=2;for(;t60 !== 6;){switch(t60){case 2:var S2Q="1";S2Q+="SIYbZrNJ";S2Q+="Cp9";y=this;this.qN=u;this.I=w;this.Ff=v;S2Q;u=u || this.I.Zsa;this.Zf=n.reduce(function(z,A){var u60;u60=2;for(;u60 !== 5;){switch(u60){case 2:z[A]=((q[u] || q[p[A]])[A] || q[p[A]][A]).bind(y);return z;break;}}},{});t60=7;break;case 7:x && (this.f0a=new h.CDa(w));t60=6;break;}}}for(;s60 !== 6;){switch(s60){case 7:return t;break;case 2:t.prototype.$ra=function(u,w,v,x,y,z){var S7H=a000;var v60,P,w60,I,J,A,B,D,E,F,C,G,K,H,L;v60=2;for(;v60 !== 61;){switch(v60){case 47:v60=w60 === d.ka.Yc?46:45;break;case 40:G.Y && G.Y.length || (x=!0,I.dy.push(G.Ma));v60=39;break;case 19:P=K[H - 1].bitrate;C=l.cp(w,function(O){var z60;z60=2;for(;z60 !== 1;){switch(z60){case 2:return O.bitrate > P;break;}}});v60=17;break;case 28:G.Y && G.Y.length || (x=!0,I.dy.push(G.Ma));v60=44;break;case 44:v60=!x?43:39;break;case 25:w60=u.state;v60=w60 === d.ka.$g?24:47;break;case 22:I=this.Zf[d.ka[u.state]].call(this,F,u,w,C,x,! !y,G);v60=21;break;case 65:v60=w60 === d.ka.Hc?22:64;break;case 3:c.ya(C) && C >= w.length && (this.Ff.R7(void 0),C=void 0);v60=9;break;case 24:this.qda=this.lda=void 0;v60=23;break;case 62:var e6Q="Stream se";e6Q+="lector called with i";e6Q+="n";e6Q+="valid pla";e6Q+="yer state ";return (m.error(e6Q + d.ka[u.state]),null);break;case 14:this.Ff.R7(C);v60=13;break;case 38:v60=!I || null === I.he?37:36;break;case 8:J=this.Ff.et.bitrate;C=l.cp(w,function(O){var x60;x60=2;for(;x60 !== 1;){switch(x60){case 2:return O.bitrate > J;break;}}});C=0 < C?C - 1:0 === C?0:w.length - 1;v60=14;break;case 21:v60=I.$i && (I.dy=[],w.forEach(function(O,N){var A60;A60=2;for(;A60 !== 4;){switch(A60){case 2:O === I.$i && (I.he=N);(!F.cwb || O.Y && O.Y.length) && !O.e8 || I.dy.push(O.Ma);O.e8=!1;A60=4;break;}}}),!I.dy.length)?35:38;break;case 42:v60=0 <= y?41:39;break;case 17:C=0 < C?C - 1:0 === C?0:w.length - 1;v60=16;break;case 2:v=null === u || void 0 === u?void 0:u.buffer;(E=k.default.time.ba(),F=this.I,C=this.Ff.IXa,G=!1);c.ya(C) && u.state === d.ka.$g && (this.Ff.R7(void 0),C=void 0);v60=3;break;case 64:v60=w60 === d.ka.$h?22:63;break;case 46:this.Ff.P3a(f.default.KY.$g);v60=22;break;case 29:G=w[y];v60=28;break;case 13:(K=v.Y,H=K.length);v60=12;break;case 11:L=K[H - 1].Ma;C=l.cp(w,function(O){var y60;y60=2;for(;y60 !== 1;){switch(y60){case 2:return O.Ma === L;break;case 4:return O.Ma !== L;break;y60=1;break;}}});v60=20;break;case 41:G=w[y];v60=40;break;case 12:v60=0 < H?11:16;break;case 63:v60=62;break;case 9:v60=c.fa(C) && u.state === d.ka.Hc && (G=!0,void 0 !== this.Ff.et)?8:13;break;case 39:x || (I.dy=void 0);v60=38;break;case 20:v60=!(0 <= C)?19:16;break;case 26:u.state !== d.ka.$g && void 0 === C && (u.state=d.ka.$g);v60=25;break;case 31:S7H.f7Q(7);var q31=S7H.H7Q(647,18,3,12);y=I.he + q31;v60=30;break;case 37:return null;break;case 51:var y6Q="pl";y6Q+="ayi";y6Q+="n";y6Q+="g";c.ya(C) && x.bitrate < w[C].bitrate && (this.lda=v.tc);u.state !== d.ka.Hc && u.state !== d.ka.$h?(w=g.Q6(u.state),z=this.Qx(u.buffer,w,u.playbackRate,x,z),(I.Ve=z.complete)?I.f1=z.reason:(I.Ve=!1,I.WG=z.WG,I.mC=z.mC,I.progress=z.progress)):(I.Ve=!0,I.f1=y6Q);u.KK && (I.tc=v.tc,z=u && u.Md,w=x.Y,I.Cj=w && void 0 !== z && !isNaN(z) && 0 <= z && z < w.length?w.aj(z):v.tc,I.nOb=x.Oa || 0,I.oLb=x.lb && x.lb.Oa && x.lb.Oa.Ca || 0,I.Ofa=v.Il - v.wc,I.PNa=v.Dg,I.VNb=null !== (D=null === (B=null === (A=k.default.U5b) || void 0 === A?void 0:A.call(k.default)) || void 0 === B?void 0:B[1 === u.mediaType?1:0]) && void 0 !== D?D:-1,I.cf=u.state,I.Yo=u && u.Yo,I.Qta=E,I.QVb=k.default.time.ba());return I;break;case 36:this.Ff.R7(I.he);x=w[I.he];I.reason && (x.yr=I.reason,x.Zra=I.Ws,x.Gy=I.Gy,x.Un=I.Un,x.Vn=I.Vn);this.f0a && (I.st=this.f0a.EBb({fK:v.Il - v.wc,kIb:w[0],$i:x,aYb:w[I.he + 1] || x,wWb:w[w.length - 1],cf:u.state,playbackRate:u.playbackRate,Md:u.Md}));v60=51;break;case 45:v60=w60 === d.ka.zf?46:65;break;case 32:v60=F.A4a && y > F.QU?31:39;break;case 43:S7H.f7Q(8);var r31=S7H.Z7Q(8,16,5,72);y=I.he - r31;v60=42;break;case 30:v60=y < w.length?29:44;break;case 16:c.fa(C) && (C=this.Ff.IXa);void 0 !== x && this.fqa(w,! !u.ar,u.buffer,x);u.state === d.ka.$g && c.ya(C) && (u.state=d.ka.Yc);v60=26;break;case 23:this.Ff.P3a(f.default.KY.$g);v60=22;break;case 35:y=v.Il - v.wc;G=void 0;x=!1;v60=32;break;}}};t.prototype.Qx=function(u,w,v,x,y){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:return this.Zf.checkBuffering.call(this,u,w,v,x,y,this.I);break;}}};t.prototype.WUb=function(u,w,v){var C60;C60=2;for(;C60 !== 1;){switch(C60){case 2:c.fa(w)?this.lda=this.qda=void 0:w.bitrate < v.bitrate && (this.qda=u);C60=1;break;}}};t.prototype.fqa=function(u,w,v,x){var D60,y,z;D60=2;for(;D60 !== 5;){switch(D60){case 2:this.P2(u,function(A){var E60;E60=2;for(;E60 !== 1;){switch(E60){case 2:A.dt && A.lb && A.lb.confidence?(y !== A.lb && (y=A.lb,w && A.lb && (A.lb.ar=!0),z=Math.floor(x(A.lb,v,A.track.N.Fv[0])),z=0 === z?1:z),A.Oa=z):A.Oa=void 0;E60=1;break;}}});D60=5;break;}}};t.prototype.P2=function(u,w){var i7H=a000;var F60,v;F60=2;for(;F60 !== 3;){switch(F60){case 1:F60=0 <= v?5:3;break;case 2:i7H.f7Q(9);var s31=i7H.Z7Q(11,11);v=u.length - s31;F60=1;break;case 8:i7H.f7Q(10);var t31=i7H.Z7Q(6,19,31,18,4);v=u.length % t31;F60=2;break;F60=1;break;case 5:w(u[v],v,u);F60=4;break;case 4:--v;F60=1;break;case 14:++v;F60=9;break;F60=1;break;}}};Object.defineProperties(t.prototype,{e5:{get:function(){var G60;G60=2;for(;G60 !== 1;){switch(G60){case 2:return this.lda;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Tma:{get:function(){var H60;H60=2;for(;H60 !== 1;){switch(H60){case 2:return this.qda;break;}}},enumerable:!1,configurable:!0}});s60=7;break;}}})();b.eHa=a;},function(r,b,a){var g,h,m;function c(n){return k(n.$i);}function f(n,q){var p;return (void 0 !== q?null === (p=n.Y) || void 0 === p?void 0:p.get(q).yNa:void 0) || n.bz || 0;}function k(n){var q,p;p=null === (q=null === n || void 0 === n?void 0:n.N) || void 0 === q?void 0:q.Fv;return p?p[n.mediaType] || 0:0;}function l(n,q){var p,t,u,w,v;p=q.x1.T4b;if(!p || "object" !== typeof p)return 0;t=n.$i;u=n.aYb;w=n.wWb;v={selectedFragmentBitrate:f(t,n.Md) * n.playbackRate,upswitchFragmentBitrate:f(u,n.Md) * n.playbackRate,maxFragmentBitrate:f(w,n.Md) * n.playbackRate,selectedPeakBitrate:(t.bz || 0) * n.playbackRate,upswitchPeakBitrate:(u.bz || 0) * n.playbackRate,maxPeakBitrate:(w.bz || 0) * n.playbackRate,selectedAverageBitrate:k(t) * n.playbackRate,upswitchAverageBitrate:k(u) * n.playbackRate,maxAverageBitrate:k(w) * n.playbackRate,bufferLevelMs:n.fK,observedThroughput:d(n,q) || 0,predictedThroughput:(null === t || void 0 === t?void 0:t.Oa) || 0};n=p.offset || 0;return Object.keys(v).reduce(function(x,y){return x + (p[y] || 0) * v[y];},n);}function d(n){var q,p,t;return (null === (t=null === (p=null === (q=n.$i) || void 0 === q?void 0:q.lb) || void 0 === p?void 0:p.Oa) || void 0 === t?void 0:t.Ca) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.CDa=void 0;r=a(2).__importDefault(a(5));g=a(15);h=a(878);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");m={maxStreamBitrate:c,"static":function(n,q){return q.KUb;},none:function(){return 0;},regression:l,epsGreedy:function(n,q){return Math.min(l(n,q) || 0,d(n,q));},"default":c};a=(function(){var I60;I60=2;for(;I60 !== 4;){switch(I60){case 2:n.prototype.Sja=function(q,p,t){var K60,u;K60=2;for(;K60 !== 8;){switch(K60){case 1:K60=!t?5:4;break;case 2:K60=1;break;case 5:return 0;break;case 4:a000.f7Q(11);p=Math.ceil(a000.H7Q(p,t));q=(this.I.x1.L6b || 0) * ((null === (u=q.kIb) || void 0 === u?void 0:u.bz) || 0);return p < q?0:p;break;}}};n.prototype.EBb=function(q){var L60,p,t,w,v,u;L60=2;for(;L60 !== 13;){switch(L60){case 1:L60=!t?5:4;break;case 2:(p=new h.Naa({CN:0,oK:0,WM:0}),t=this.I.x1);L60=1;break;case 5:return p;break;case 9:return p;break;case 8:p=0;v=!this.I.x1.t5b || q.cf !== g.ka.$g && q.cf !== g.ka.Yc?!1:(u=null === (v=q.$i) || void 0 === v?void 0:v.lb) && u.confidence >= g.vaa.Fw && (null === (w=u.Oa) || void 0 === w?0:w.Ca)?!0:!1;v?p=d(q,this.I):q.fK >= t.TU && (p=this.algorithm(q,this.I));L60=14;break;case 4:u=this.I.lXb;L60=3;break;case 14:return new h.Naa({CN:this.Sja(q,p,t.K1a[0]),WM:this.Sja(q,p,t.K1a[2]),oK:this.Sja(q,p,t.K1a[1])});break;case 3:L60=u && q.Md && 0 === q.Md % u?9:8;break;}}};return n;break;}}function n(q){var J60;J60=2;for(;J60 !== 4;){switch(J60){case 2:var G6Q="d";G6Q+="e";G6Q+="fau";G6Q+="lt";var l6Q="1SI";l6Q+="YbZr";l6Q+="NJCp9";this.I=q;l6Q;this.algorithm=(m[this.I.HMb] || m[G6Q]).bind(this);J60=4;break;}}}})();b.CDa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Naa=void 0;c=a(2);r=(function(){function f(k){this.CN=k.CN;this.oK=k.oK;this.WM=k.WM;}Object.defineProperties(f.prototype,{L1a:{get:function(){return [this.CN,this.oK,this.WM];},enumerable:!1,configurable:!0}});f.prototype.N4=function(){return this.L1a.some(function(k){return 0 < k;});};f.prototype.OYa=function(k,l,d,g){var h;h=8 * k / Math.max(d - l,1);if(!this.N4())return !1;k=this.L1a.map(function(m){return Math.abs(h - m) / m;});return Math.min.apply(Math,c.__spread(k)) < g;};return f;})();b.Naa=r;},function(r,b,a){var f,k,l,d;function c(g,h,m,n){if(f.fa(n))g=k(m);else if(l(m[n]))g=n;else if((g=k(m,n),0 > g))return null;return new d(g);}f=a(10);b=a(40);k=b.$ia;l=b.PL;d=b.Ho;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var f;function c(k,l,d){k=d.map(function(g,h){return g.dt?h:null;}).filter(function(g){return null !== g;});return k.length?new f(k[Math.floor(Math.random() * k.length)]):null;}f=a(40).Ho;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.F7=void 0;r=a(2);c=r.__importStar(a(10));f=a(30);r=r.__importDefault(a(40));k=a(416);l=r.default.assert;d=r.default.Ho;b.F7=g;(function(){var M60;M60=2;for(;M60 !== 5;){switch(M60){case 2:var a6Q="1S";a6Q+="IYbZ";a6Q+="rNJ";a6Q+="Cp9";b.F7=g=function(m,n,q,p,t,u,w){var P60;P60=2;for(;P60 !== 1;){switch(P60){case 2:var n6Q="p";n6Q+="lay";n6Q+="i";n6Q+="n";n6Q+="g";return n6Q === m.Mfa?k.cw.call(this,m,n,q,p,t,u,w):h.call(this,m,n,q,p);break;}}};a6Q;M60=5;break;}}function h(m,n,q,p){var N60,u,w,v,y,x;function t(z){var O60,A;O60=2;for(;O60 !== 8;){switch(O60){case 2:A=z.Oa;O60=1;break;case 1:O60=!A || (z.bitrate > w?m.$Xb:1) * z.bitrate * n.playbackRate > A?5:4;break;case 4:var z6Q="buff_l";z6Q+="t_";z6Q+="hist";x=z6Q;y=A;return !0;break;case 5:return !1;break;}}}N60=2;for(;N60 !== 10;){switch(N60){case 3:N60=void 0 === u?9:6;break;case 5:N60=u.Oa?4:14;break;case 4:u=f.vg(q.slice(0,Math.min(p + (m.cmb?2:1),q.length)).reverse(),t);N60=3;break;case 2:var h6Q="Must have";h6Q+=" at leas";h6Q+="t one selected stream";l(!c.fa(p),h6Q);(u=q[p],w=u.bitrate,v=u);N60=5;break;case 9:u=q[0];N60=8;break;case 6:var s6Q="sele";s6Q+="ct_feasi";s6Q+="ble_buff";s6Q+="ering";x=s6Q;N60=7;break;case 7:y=null === u || void 0 === u?void 0:u.Oa;N60=14;break;case 11:return q;break;case 8:var J6Q="f";J6Q+="allback_lowest_acceptable_str";J6Q+="eam";x=J6Q;N60=7;break;case 14:q=new d();q.$i=u;v !== u && (q.reason=x,q.Ws=y);N60=11;break;}}}})();},function(r,b,a){var c;a(10);c=a(40).console;r.exports=function(f,k,l,d,g,h,m,n,q,p,t,u,w,v,x){var E7H=a000;var Q60,y,z,A,B,D,E,F,C;Q60=2;for(;Q60 !== 39;){switch(Q60){case 24:Q60=t < D?23:22;break;case 26:Q60=t < F?25:42;break;case 44:D=f;Q60=43;break;case 29:++n;Q60=28;break;case 16:E7H.r7Q(9);B*=E7H.Z7Q(y,1E3);Q60=15;break;case 32:t-=F;Q60=31;break;case 34:E7H.f7Q(12);l+=E7H.Z7Q(F,h,u,0);Q60=33;break;case 19:E7H.r7Q(9);m*=E7H.H7Q(y,1E3);E7H.r7Q(9);v*=E7H.H7Q(y,1E3);E7H.f7Q(9);w*=E7H.H7Q(y,1E3);Q60=16;break;case 43:d=Math.min(f,d);Q60=15;break;case 20:E7H.r7Q(9);l*=E7H.Z7Q(y,1E3);Q60=19;break;case 22:Q60=!x && (f=m - l,f < v)?21:35;break;case 28:Q60=n >= q && f > B?40:44;break;case 23:(l=g,t+=A[E],++E,f=z[E],g+=f);Q60=24;break;case 25:D=Math.max(F,p);Q60=24;break;case 21:return {result:!1,CU:f / (y / 1E3),ov:!1};break;case 30:(t+=A[E],++E,g+=z[E]);Q60=31;break;case 14:var U6Q=" >= frag";U6Q+="men";U6Q+="tsLength: ";var k6Q="St";k6Q+="ream";k6Q+="ingInd";k6Q+="e";k6Q+="x: ";E7H.r7Q(13);u=E7H.Z7Q(0,8,u);E7H.r7Q(9);h=E7H.H7Q(y,1E3);n >= k && c.error(k6Q + n + U6Q + k);Q60=11;break;case 15:Q60=n < k?27:40;break;case 31:Q60=g < l && E < n?30:29;break;case 2:var K6Q="1SIYbZ";K6Q+="rNJCp";K6Q+="9";K6Q;y=f.U;k=Math.min(f.length,k);(z=f.gd,A=f.sizes,B=d - l);d=Infinity;(D=0,E=0);Q60=8;break;case 42:Q60=(f=Math.max(m - l,0),f < w && f < D)?41:34;break;case 8:f=f.gd[0];E7H.f7Q(14);g=E7H.Z7Q(f,y,g,1E3);E7H.f7Q(15);f=E7H.Z7Q(h,8,0,u);Q60=14;break;case 35:E7H.r7Q(1);f=E7H.Z7Q(l,m);Q60=34;break;case 41:return {result:!1,CU:Math.min(f,d) / (y / 1E3),ov:!0};break;case 40:return {result:!0,CU:d / (y / 1E3),ov:!0};break;case 27:(F=A[n],C=z[n]);Q60=26;break;case 11:l+=f;0 === m && (l=0);Q60=20;break;case 33:m+=C;Q60=32;break;}}};},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.HFb=b.p3a=void 0;c=a(2);f=c.__importDefault(a(84));k=c.__importStar(a(10));l=a(30);d=a(390);g=c.__importDefault(a(5));r=c.__importDefault(a(110));a=c.__importDefault(a(40));h=a.default.lKb;m=a.default.eob;n=a.default.v1;q=a.default.Ho;p=r.default.Csa;a=(function(){function v(B,D){var Z7H=a000;var W60,E;W60=2;for(;W60 !== 9;){switch(W60){case 1:var Q6Q="l";Q6Q+="o";Q6Q+="g";W60=0 === D.mN.lastIndexOf(Q6Q,0)?5:3;break;case 4:return (E=D.q3a[E]) && 2 === E.length?1E3 * (E[0] + E[1] * Math.log(1 + B)):D.gr;break;case 2:Z7H.f7Q(16);var u31=Z7H.H7Q(12,400000,3);Z7H.r7Q(17);var v31=Z7H.Z7Q(10,9,13,2.469991e+6,19000,1000);B=n(B,0,u31) / v31;W60=1;break;case 3:var m6Q="s";m6Q+="i";m6Q+="gm";m6Q+="oid";return 0 === D.mN.lastIndexOf(m6Q,0)?(E=D.mN,(E=D.q3a[E]) && 2 === E.length?1E3 * (E[0] + E[1] * p(B)):D.gr):D.gr;break;case 5:E=D.mN;W60=4;break;}}}function x(B,D,E){var X60,J,K,H,F,C,G;X60=2;for(;X60 !== 19;){switch(X60){case 1:X60=0 <= G && (F?E[G].wb >= B.hM:E[G].bitrate >= B.Jv)?5:11;break;case 5:J=E[G];C=t(J,B);(K=u(J.bitrate * D.playbackRate,C.Ws,B),H=v(C.Ws,B));H=y(J,C.Ws,F,K,H,B);X60=8;break;case 2:(F=! !B.hM && ! !B.eZa && E.every(function(L){var Y60;Y60=2;for(;Y60 !== 1;){switch(Y60){case 2:return L.wb && 110 >= L.wb;break;case 4:return L.wb || 315 <= L.wb;break;Y60=1;break;}}}),C=null,G=E.length - 1);X60=1;break;case 8:J=H.I2;H=H.reason;C.Gy=K;X60=14;break;case 13:C.reason=H;X60=12;break;case 11:var o6Q="fallback";o6Q+="_no";o6Q+="_acceptable_stre";o6Q+="a";o6Q+="m";k.tb(C) && (C=t(E[0],B));k.tb(C) && (C=t(E[0],B),C.reason=o6Q);return C;break;case 14:X60=J?11:13;break;case 12:G--;X60=1;break;}}}function A(B,D,E,F){var d70,C;d70=2;for(;d70 !== 7;){switch(d70){case 1:var V6Q="n";V6Q+="u";V6Q+="m";V6Q+="b";V6Q+="er";d70=V6Q !== typeof C?5:4;break;case 5:return B.qR?x(B,D,E,F):z(B,D,E,F);break;case 2:var O6Q="v";O6Q+="b";C=g.default.storage.get(O6Q);d70=1;break;case 4:var B6Q="hist_b";B6Q+="i";B6Q+="trate";B=new q();B.$i=l.vg(E.slice().reverse(),function(G){var e70;e70=2;for(;e70 !== 1;){switch(e70){case 2:return G.bitrate <= C;break;}}}) || E[0];B.reason=B6Q;return B;break;}}}function t(B,D){var S60,E,F;S60=2;for(;S60 !== 12;){switch(S60){case 2:E=new q();E.$i=B;B=E.$i.lb || ({});E.Vn=B.Dl && B.Vj;S60=3;break;case 3:E.Un=B.Dl?B.Dl:0;B=f.default(E.Vn,{});S60=7;break;case 7:S60=(F=k.ya(D.G7) && 0 <= D.G7 && 100 >= D.G7 && !k.fa(B) && !k.tb(B))?6:14;break;case 6:(F=d.tHa.HBb(B),k.Oc(F)?(B.Ui=F,F=!0):F=!1);S60=14;break;case 13:return E;break;case 14:var W6Q="h";W6Q+="ist_throug";W6Q+="hput";var t6Q="hist_t";t6Q+="d";t6Q+="igest";F?(D=B.Ui(D.G7 / 100) || E.$i.Oa,E.Ws=D,E.reason=t6Q):E.$i.Oa && (D=E.$i.Oa,E.Ws=D,E.reason=W6Q);S60=13;break;}}}var R60;function u(B,D,E){var T60;T60=2;for(;T60 !== 5;){switch(T60){case 2:B=m(E.Si,B * E.coa);T60=1;break;case 1:return h(B,D);break;}}}R60=2;function w(B,D){var U60,E,F;U60=2;for(;U60 !== 13;){switch(U60){case 5:U60=0 === F?4:3;break;case 4:return E[0].d;break;case 2:U60=B.o4?1:14;break;case 1:(E=B.o4,F=l.cp(E,function(C){var V60;V60=2;for(;V60 !== 1;){switch(V60){case 2:return D <= C.r;break;}}}));U60=5;break;case 3:U60=-1 === F?9:8;break;case 9:return E[E.length - 1].d;break;case 6:return Math.floor(B.d + (E.d - B.d) * (D - B.r) / (E.r - B.r));break;case 14:return B.gr;break;case 8:a000.f7Q(1);B=E[a000.Z7Q(1,F)];E=E[F];U60=6;break;}}}function y(B,D,E,F,C,G){var Z60;Z60=2;for(;Z60 !== 5;){switch(Z60){case 2:var u6Q="n";u6Q+="o";u6Q+="_va";u6Q+="lid_Bitrate";var c6Q="no_";c6Q+="valid";c6Q+="_VMAF";var M6Q="no_";M6Q+="valid_Dela";M6Q+="yTarg";M6Q+="et";B=E?B.wb >= G.hM && B.wb <= G.eZa:B.bitrate >= G.Jv && B.bitrate <= G.Zy;return (F=F < C && B)?{I2:F}:{I2:F,reason:B?M6Q:E?c6Q:u6Q};break;}}}function z(B,D,E){var a70,F,C;a70=2;for(;a70 !== 4;){switch(a70){case 2:(F=new q(),C=Math.max(B.Jv,B.K5,D.jma?B.moa:-Infinity));F.$i=l.vg(E.filter(function(G){var b70;b70=2;for(;b70 !== 1;){switch(b70){case 4:return G.bitrate > B.Zy;break;b70=1;break;case 2:return G.bitrate <= B.Zy;break;}}}).reverse(),function(G){var c70,J,K,H;c70=2;for(;c70 !== 13;){switch(c70){case 8:var d6Q="h";d6Q+="ist_";d6Q+="bufft";d6Q+="ime";u(G,K,B) <= H?(F.Ws=K,J && (F.Un=J.Dl?J.Dl:0,F.Vn=J.Dl && J.Vj),F.reason=d6Q,J=!0):J=!1;c70=7;break;case 1:c70=G.bitrate > C?5:14;break;case 2:J={Oa:G.Oa,Dl:G.lb && G.lb.Dl,Vj:G.lb && G.lb.Vj};c70=1;break;case 3:c70=K?9:6;break;case 6:J=!1;c70=7;break;case 5:G=G.bitrate * D.playbackRate;K=J.Oa;c70=3;break;case 9:H=w(B,G);c70=8;break;case 7:return J;break;case 14:var N6Q="no_histori";N6Q+="cal_";N6Q+="lte_minb";N6Q+="i";N6Q+="trate";var p6Q="hist_tput_";p6Q+="l";p6Q+="t_minbit";p6Q+="rate";var v6Q="lt_";v6Q+="hist_lte_minbi";v6Q+="trate";(K=J.Oa,G.bitrate * D.playbackRate <= K?(F.Ws=K,J && (F.Un=J.Dl?J.Dl:0,F.Vn=J.Dl?J.Vj:void 0),F.reason=v6Q,J=!0):K?(F.Ws=K,J && (F.Un=J.Dl?J.Dl:0,F.Vn=J.Dl?J.Vj:void 0),F.reason=p6Q,J=!1):(F.reason=N6Q,J=!0));c70=7;break;}}}) || E[0];return F;break;}}}for(;R60 !== 5;){switch(R60){case 2:var D6Q="1SIYb";D6Q+="ZrN";D6Q+="JCp9";D6Q;return {bkb:function(B,D,E,F){var f70;f70=2;for(;f70 !== 1;){switch(f70){case 2:var X6Q="h";X6Q+="ist";X6Q+="oric";X6Q+="al";return X6Q === B.Tla?A(B,D,E,F):B.qR?x(B,D,E,F):z(B,D,E,F);break;}}},Fhb:y};break;}}})();r=a.Fhb;b.p3a=a.bkb;b.HFb=r;},function(r,b,a){var f,k,l,d;function c(g,h,m){var n,q;n=this.nda;h=h.buffer.tc;q="forward" === g.KRb;if(f.fa(n))return (n=q?k(m):k(m,m.length),this.pda=h,this.nda=n,new d(n));l(m[n]) || (n=k(m,n),this.pda=h,this.nda=n);if(0 > n)return null;if(h > this.pda + g.aWb){g=m.map(function(p,t){return p.dt?t:null;}).filter(function(p){return null !== p;});if(!g.length)return null;q?n=(g.indexOf(n) + 1) % g.length:(n=g.indexOf(n) - 1,0 > n && (n=g.length - 1));this.nda=g[n];this.pda=h;return new d(g[n]);}return new d(n);}f=a(10);b=a(40);k=b.$ia;l=b.PL;d=b.Ho;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var g70,k,l,d,g,h,m,n,q,p,t;g70=2;for(;g70 !== 4;){switch(g70){case 2:var w6Q="1";w6Q+="SI";w6Q+="YbZrN";w6Q+="JCp9";(k=a(10),l=a(40),d=l.console,g=l.debug,h=l.assert,m=a(84),n=l.PL,q=l.Ho,p=a(417),t=a(15).ka);r.exports={STARTING:function(u,w,v,x){var n70,y,z;n70=2;for(;n70 !== 7;){switch(n70){case 1:n70=(z=u && u.PN && 0 <= u.PN.indexOf(z)?c(z,u.v5a):c(z,u.Smb))?5:4;break;case 5:var q6Q="selectAudioStreamStarting: o";q6Q+="ve";q6Q+="rridin";q6Q+="g config";q6Q+=" with ";(y={minInitAudioBitrate:u.SU,minHCInitAudioBitrate:u.RU,maxInitAudioBitrate:u.EU,minRequiredAudioBuffer:u.Q5},g && d.log(q6Q + JSON.stringify(z)),m(z,y));n70=4;break;case 2:(y=u,z=v[x || 0].Jg);n70=1;break;case 4:var E6Q=" kbps, ";E6Q+="pr";E6Q+="of";E6Q+="ile :";var T6Q="selectAudioStreamStarting: select";T6Q+="e";T6Q+="d str";T6Q+="eam :";u=p[t[t.$g]](y,w,v,x);v=v[u.he];g && d.log(T6Q + v.bitrate + E6Q + v.Jg);return u;break;}}},BUFFERING:f,REBUFFERING:f,PLAYING:f,PAUSED:f};w6Q;g70=4;break;}}function c(u,w){var h70,v;h70=2;for(;h70 !== 4;){switch(h70){case 2:v=void 0;w.some(function(x){var i70,y;i70=2;for(;i70 !== 4;){switch(i70){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(u)) && (v=x.override);return y;break;}}});return v;break;}}}function f(u,w,v,x){var j70,G,y,B,D,E,F,C,J,K,z,A;j70=2;for(;j70 !== 32;){switch(j70){case 12:var r6Q=" ";r6Q+="kbps";r6Q+=", t";r6Q+="ry to downswitch";var Z6Q=" k";Z6Q+="bp";Z6Q+="s <";Z6Q+=" ";var H6Q="through";H6Q+="pu";H6Q+="t for au";H6Q+="dio ";(g && d.log(H6Q + F + Z6Q + C.SQa + "*" + D + r6Q),--E);j70=11;break;case 33:return new q(z);break;case 24:j70=(D=A[E],G=v[D],n(G) && F > C.F6a * G.bitrate * w.playbackRate)?23:25;break;case 6:j70=0 > E?14:13;break;case 16:var R6Q=" ";R6Q+="k";R6Q+="bp";R6Q+="s";var A6Q=" k";A6Q+="b";A6Q+="ps";A6Q+=" >";A6Q+=" ";var f6Q="through";f6Q+="put for au";f6Q+="di";f6Q+="o ";j70=E < A.length - 1 && F > C.F6a * D * w.playbackRate && (g && d.log(f6Q + F + A6Q + C.F6a + "*" + D + R6Q),D=w.buffer,G=D.Il - D.wc,B.Y && B.Y.length)?15:21;break;case 10:D=A[E];G=v[D];j70=19;break;case 14:z=0;j70=21;break;case 13:j70=E && F < C.SQa * D * w.playbackRate?12:16;break;case 2:var P6Q="Must have at le";P6Q+="ast one selecte";P6Q+="d stream";h(!k.fa(x),P6Q);y=v[x].Jg;j70=5;break;case 8:j70=A && 1 < A.length?7:21;break;case 19:j70=n(G) && (0 == E || G.bitrate * w.playbackRate * C.SQa < F)?18:17;break;case 21:var b6Q="kbps, stre";b6Q+="aming";b6Q+="P";b6Q+="ts ";b6Q+=":";var j6Q=", audi";j6Q+="o throughput";j6Q+=":";var g6Q=" k";g6Q+="b";g6Q+="ps";g6Q+=",";g6Q+=" profile :";var L6Q="sel";L6Q+="ectAudioStream: selecte";L6Q+="d stream :";var I6Q=" ";I6Q+="kbp";I6Q+="s";var F6Q=" kb";F6Q+="p";F6Q+="s";F6Q+=", to";F6Q+=" ";var x6Q="s";x6Q+="witching ";x6Q+="aud";x6Q+="io from ";var C6Q="d";C6Q+="o";C6Q+="w";C6Q+="n";var Y6Q="u";Y6Q+="p";F=v[z];z !== x && g && d.log((z > x?Y6Q:C6Q) + x6Q + B.bitrate + F6Q + F.bitrate + I6Q);g && d.log(L6Q + F.bitrate + g6Q + y + j6Q + F.Oa + b6Q + w.buffer.tc);j70=33;break;case 17:E--;j70=11;break;case 18:z=D;j70=21;break;case 23:z=D;j70=21;break;case 22:var y8Q="m";y8Q+="s";var e8Q=", buffer";e8Q+=" lev";e8Q+="el ";e8Q+="= ";var S6Q=", l";S6Q+="astUpsw";S6Q+="it";S6Q+="chPts = ";var i6Q="  Upswitch";i6Q+=" not allowed. last";i6Q+="DownswitchPts = ";g && d.log(i6Q + K + S6Q + J + e8Q + G + y8Q);j70=21;break;case 11:j70=0 <= E?10:21;break;case 4:return new q(x);break;case 25:j70=++E < A.length?24:21;break;case 7:(B=v[x],D=B.bitrate,E=A.indexOf(x),F=B.Oa,C=u.Vmb);j70=6;break;case 5:j70=!(u && u.PN && 0 <= u.PN.indexOf(y))?4:3;break;case 15:(J=this.Tma,K=this.e5);j70=27;break;case 26:var n8Q=", stre";n8Q+="am";n8Q+="in";n8Q+="gPt";n8Q+="s = ";var G8Q=", lastU";G8Q+="pswi";G8Q+="tch";G8Q+="Pts ";G8Q+="= ";var l8Q="  Ups";l8Q+="w";l8Q+="itch allow";l8Q+="ed. las";l8Q+="tDownswitchPts = ";g && d.log(l8Q + K + G8Q + J + n8Q + D.tc);j70=25;break;case 3:z=x;u.v5a.some(function(H){var k70,L,P,I,O,N,M;k70=2;for(;k70 !== 9;){switch(k70){case 2:(L=H.profiles,P=L && 0 <= L.indexOf(y));k70=1;break;case 1:k70=P?5:3;break;case 3:return P;break;case 4:A=v.filter(function(Q){var l70,S;l70=2;for(;l70 !== 5;){switch(l70){case 2:S=Q.bitrate;return S >= O && S <= N && 0 <= L.indexOf(Q.Jg) && S * I / 8 < M;break;}}}).map(function(Q){var m70;m70=2;for(;m70 !== 1;){switch(m70){case 2:return Q.mg;break;}}});k70=3;break;case 12:return P;break;k70=9;break;case 5:(I=(H=H.tV) && H.Q5 || u.Q5,O=H && H.s7b || -Infinity,N=H && H.XL || Infinity,M=w.buffer.$u);k70=4;break;}}});j70=8;break;case 27:j70=w.fC && G > C.Ty && (void 0 === K || Number(J) > K || D.tc - K > C.l5)?26:22;break;}}}})();},function(r,b,a){var f;function c(){return new f(0);}a(10);f=a(40).Ho;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var f;function c(k,l,d){return new f(d.length - 1);}a(10);f=a(40).Ho;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var o70,f,k,l,d;o70=2;function c(g,h,m,n){var p70,q;p70=2;for(;p70 !== 12;){switch(p70){case 2:var z8Q="play";z8Q+="er";z8Q+=" missing fragmentIndex";var a8Q="Must have ";a8Q+="at least one selected st";a8Q+="rea";a8Q+="m";l(!f.fa(n),a8Q);l(f.ya(h.Md),z8Q);h=d(n);p70=4;break;case 9:q=m[n];p70=8;break;case 7:return (h.he=n,h);break;case 3:p70=-1 < n?9:14;break;case 8:p70=q.lb && q.lb.Oa && q.bitrate < q.lb.Oa.Ca - g.YVb?7:6;break;case 14:h.he=0;return h;break;case 4:n=m.length - 1;p70=3;break;case 6:--n;p70=3;break;}}}for(;o70 !== 6;){switch(o70){case 2:f=a(10);a(27);k=a(40);o70=4;break;case 4:a(5);o70=3;break;case 3:var h8Q="1SIYbZrN";h8Q+="JCp";h8Q+="9";(l=k.assert,d=k.Ho);k=a(179).default;r.exports={STARTING:k.STARTING,BUFFERING:k.BUFFERING,REBUFFERING:k.REBUFFERING,PLAYING:c,PAUSED:c};h8Q;o70=6;break;}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(890);b.default={PLAYING:r.cw,PAUSED:r.cw};},function(r,b,a){var c,f,k,l,d,g,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.cw=void 0;r=a(2);c=r.__importStar(a(10));f=r.__importDefault(a(40));k=r.__importDefault(a(179));l=a(98);d=r.__importDefault(a(5));g=f.default.assert;h=f.default.Ho;b.cw=m;(function(){var q70;q70=2;for(;q70 !== 5;){switch(q70){case 2:var k8Q="1SIY";k8Q+="b";k8Q+="ZrNJCp";k8Q+="9";b.cw=m=function(n,q,p,t,u,w,v){var r70,G,J,x,y,z,A,B,E,F,C,I,D,H,L,P,O,K;r70=2;for(;r70 !== 66;){switch(r70){case 43:J.push(K.kl);J.push(K.Mj);J.push(K.ll);J.push(K.D6);r70=39;break;case 76:x=B;r70=73;break;case 49:I++;r70=52;break;case 30:r70=D.lb && D.lb.tdigest?29:38;break;case 75:r70=y[B].f > A?73:74;break;case 68:r70=y[B].f < A?73:67;break;case 52:r70=I < Math.min(I + n.Zmb,L.length)?51:48;break;case 73:A=x;r70=20;break;case 54:r70=void 0 !== L?53:65;break;case 6:a000.r7Q(1);B=a000.H7Q(x,A);0 > B && (B=0);B >= y.length && (B=y.length - 1);r70=12;break;case 21:B=0;r70=35;break;case 10:A=B;r70=20;break;case 48:I=q.Md;r70=47;break;case 11:r70=D === A?10:58;break;case 33:x=B <= t?!0:!1;(G=void 0,J=[]);D.lb && D.lb.throughput && (G=D.lb.throughput.Ca);r70=30;break;case 2:var J8Q="player missing";J8Q+=" fra";J8Q+="gmentIndex";var s8Q="Must have at least one selec";s8Q+="ted st";s8Q+="ream";g(!c.fa(t),s8Q);g(c.ya(q.Md),J8Q);(y=n.XUb,z=new h(t),A=null !== (x=q.Md) && void 0 !== x?x:-1);x=y[0].f;B=y[y.length - 1].f;r70=8;break;case 57:r70=D < A?56:72;break;case 62:B++;r70=35;break;case 18:z.$i=p[z.he];r70=17;break;case 16:u=[];w=q.buffer;w=w.Il - w.wc;v=l.fm.MPa(q.buffer.Y);v=q.buffer.$u - v.da;r70=23;break;case 17:r70=n.ywb?16:60;break;case 53:I=q.Md;r70=52;break;case 34:D=p[B];r70=33;break;case 8:r70=A < x || A > B?7:6;break;case 12:D=y[B].f;r70=11;break;case 45:I++;r70=47;break;case 7:return k.default.PLAYING.call(this,n,q,p,t,u,w,v);break;case 38:K=void 0;D.lb && D.lb.tputTrace && (K=D.lb.tputTrace);(H=[],L=D.Y,P=0);r70=54;break;case 20:r70=void 0 !== A?19:59;break;case 65:L=void 0;q.QR && (L=d.default.time.ba() - q.QR);u.push({Md:q.Md,d9b:L,c7b:P,u4b:G,a9b:J,c9b:K,Ofa:w,K5b:v,O4b:H,F6b:y.bitrate,G6b:null !== (E=y.wb) && void 0 !== E?E:0,W4b:D.bitrate,X4b:null !== (F=D.wb) && void 0 !== F?F:0,C8b:A.bitrate,D8b:null !== (C=A.wb) && void 0 !== C?C:0,cC:x});r70=62;break;case 51:O=L.get(I);H.push({d:O.duration,b:O.da});r70=49;break;case 19:z.he=y[A].QRb;r70=18;break;case 59:return k.default.PLAYING.call(this,n,q,p,t,u,w,v);break;case 46:P+=L.get(I).duration;r70=45;break;case 47:r70=I < L.length?46:65;break;case 61:z.iNa=u;r70=60;break;case 77:r70=y[B].f === A?76:75;break;case 35:r70=B < p.length?34:61;break;case 23:y=p[t];A=p[t];r70=21;break;case 71:r70=0 <= B?70:73;break;case 55:r70=B < y.length?77:73;break;case 72:--B;r70=71;break;case 29:K=D.lb.tdigest;J.push(K.min);J.push(K.C6);r70=43;break;case 56:B+=1;r70=55;break;case 60:return z;break;case 74:B++;r70=55;break;case 39:J.push(K.max);r70=38;break;case 58:x=void 0;r70=57;break;case 70:r70=y[B].f === A?69:68;break;case 69:x=B;r70=73;break;case 67:B--;r70=71;break;}}};k8Q;q70=5;break;}}})();},function(r,b,a){(function(){var s70,c;s70=2;for(;s70 !== 8;){switch(s70){case 2:a(10);a(27);a(40);c=a(15).zc;s70=3;break;case 3:var o8Q="1SIYbZrNJ";o8Q+="C";o8Q+="p";o8Q+="9";r.exports={checkBuffering:function(f,k,l,d,g,h){var t70,u,n,q,p,t,v,w;function m(x){var u70;u70=2;for(;u70 !== 5;){switch(u70){case 2:x=d.Y.K2(f.wc + x,void 0,!0);return (u - f.ml) / (u + (x.offset + x.da) - w);break;}}}t70=2;for(;t70 !== 37;){switch(t70){case 20:u=0;f.Y.forEach(function(x){var v70;v70=2;for(;v70 !== 1;){switch(v70){case 2:u+=x.X + x.duration > f.wc?x.da:0;v70=1;break;}}});l=Math.max(l,1);q=l * d.bitrate;t70=16;break;case 27:g=d.Y.Gm(f.tc);t70=26;break;case 31:--h;t70=30;break;case 16:t70=!d.Y || !d.Y.length?15:27;break;case 25:var U8Q="o";U8Q+="ut";U8Q+="o";U8Q+="fr";U8Q+="ange";return {complete:!0,reason:U8Q};break;case 43:return (p=Math.min(t,n + v),{complete:!1,WG:p,progress:m(p)});break;case 23:t70=n >= p?22:39;break;case 7:return {complete:!1,mC:!0};break;case 10:return {complete:!1,WG:p};break;case 6:p=h.Si * (q?h.Oqa:1);h.twb && d.lb && d.lb.Yi && d.lb.Yi.Ca > h.ona && (p+=h.Jea + d.lb.Yi.Ca * h.Dpa);g && (p+=g.Ds * h.Kea);p=t?Math.min(t,p):p;t70=11;break;case 29:q=d.Y.get(h);a000.f7Q(18);var x31=a000.Z7Q(56,4,5,2,16);v=x31 * v * l / k - q.X - p;t70=44;break;case 44:t70=0 < v?43:42;break;case 2:(n=f.Il - f.wc,q=k === c.zf);k=d.Oa || 0;(p=0,t=h.nua && !q?h.rC:h.Sna);t=Math.min(h.$y,t);t70=3;break;case 40:var K8Q="n";K8Q+="or";K8Q+="eb";K8Q+="uff";return {complete:!0,reason:K8Q};break;case 26:t70=-1 === g?25:24;break;case 22:t70=k > q * h.H2?21:35;break;case 35:p=d.Y.gd(g);h=Math.min(g + Math.floor(h.YV / p),d.Y.length - 1);v=d.Y.Gd(h);t70=32;break;case 42:v=q.offset;t70=41;break;case 24:w=d.Y.Gd(g);t70=23;break;case 30:t70=h > g?29:40;break;case 3:t70=n >= t?9:8;break;case 21:var Q8Q="h";Q8Q+="i";Q8Q+="ghtp";return {complete:!0,reason:Q8Q};break;case 41:--h;t70=30;break;case 11:t70=!k?10:20;break;case 9:var m8Q="ma";m8Q+="xsi";m8Q+="z";m8Q+="e";return {complete:!0,reason:m8Q};break;case 32:p=8 * w * l / k - f.wc;t70=31;break;case 15:return (k < q && (p=Math.min(t,Math.max(h.YV * (q / k - 1),p))),{complete:!1,WG:p,progress:0});break;case 8:t70=k <= h.una && (0 < k || !h.Gia)?7:6;break;case 39:0 < k && k < q && (p=Math.min(t,Math.max(h.YV * (q / k - 1),p)));return {complete:!1,WG:p,progress:m(p)};break;}}}};o8Q;s70=8;break;}}})();},function(r,b,a){var f,k,l,d,g,h;function c(m,n,q){g=q;h=q.map(function(p,t){return t;});if(null === d)return (m=k(q),d=q[m].bitrate,new l(m));if(!q.length)return null;m=h.filter(function(p){return q[p].bitrate == d;})[0];return void 0 === m?(f.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new l(h[0])):new l(m);}b=a(40);a=a(5).default;f=b.console;k=b.$ia;l=b.Ho;d=null;g=null;h=null;a.Yob && (a.Yob.Kz={nb:function(){h=g=d=null;},$ra:function(m){d=m;},Y5b:function(){return {all:g,b7a:h};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.yB=void 0;c=a(20);f=a(150);k=a(6);b.yB=function(l,d,g,h,m,n){var q;c.ia && h.trace("AsePlaygraph.createRequestQueue()");q=f.mq.instance.yB(l,d.K,!0,!1,{kia:g.kia},g);q.zg.on(q,"networkfailing",function(){var p;c.ia && h.trace("requestQueue OnNetworkFailing: ",q);q.G2 && (k.assert(q.ZS),null === (p=d.qp) || void 0 === p?void 0:p.qr(q.ZS,void 0,q.Lg,q.Ti));d.uo();});q.zg.on(q,"error",function(){n(q.Lg,q.Ti);});q.on("transportreport",m);q.nb();return q;};},function(r,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.ZCa=b.Fab=void 0;c=a(2);f=c.__importDefault(a(5));k=a(20);l=a(895);d=a(9);r=(function(){return function(g,h,m){var n;this.I=h;m=d.er(f.default,m,"[" + g + "]");this.BZa=1 === g?h.S5:h.L5;n=f.default.Rn()[g];this.FU=1 === g?h.cJb:h.MIb;this.FU=Math.min(h.TIb * n,this.FU);k.ia && m.trace("This pipeline's buffer size ",n,this.FU);this.O5=(1 === g?h.iM:h.eM) || h.O5;this.u5=(1 === g?h.bJb:h.LIb) || h.u5;this.Pea=h.Pea;};})();b.Fab=r;r=(function(g){function h(m,n,q){return g.call(this,m,n,q) || this;}c.__extends(h,g);h.prototype.AAb=function(m,n,q,p){var t,u,w,v,x;w=n === q.Wd.index;v=n === q.pf.index;if(!v || w && q.Wd.na){if(w){x=m.NTa(q.Wd);x.xN(q.Wd.Wt);v && (q.Wd.na || q.pf.na) && x.uh({start:null === (t=x.na) || void 0 === t?void 0:t.start,end:null === (u=q.pf.na) || void 0 === u?void 0:u.end});}else x=m.pk(n);}else (x=m.NTa(q.pf),x.xN(q.pf.Wt));x.mM=n + 1;if(t=l.LUa(q,q.tc))(k.ia && q.um("getFragmentForRequest pts:",q.tc,"in region:",t,"previous region:",q.Hma),l.eRa(q.H,x,t,{IFb:w,NFb:v,UFb:void 0 === q.Hma || q.Hma !== t.region}));v && (x.LYa(),x.mTb(q.xb.P));if(x.mM !== n && !p && (this.Pea || !x.na))for(++n;n < m.Y.length && n < q.pf.index && (x.da < this.BZa || x.duration < this.O5) && (1 === x.stream.yg.length || this.Hob(m,n));++n){p=m.pk(n);if(l.NWa(q,p))break;if(x.duration + p.duration > this.u5)break;if(x.da + p.da > this.FU)break;x.lMa(p);x.mM=n + 1;k.ia && q.um("getFragmentForRequest: extended fragment startPts:",x.X,"to duration:",x.duration,"size:",x.da,"min request size:",this.BZa,"max request size:",this.FU,"min request duration:",this.O5,"max request duration:",this.u5,"edit:",x.na);}k.ia && q.um("getFragmentForRequest(" + n + ") returning:",x,"stream:",x.stream,"firstRequestInRegion:",x.fja,"lastRequestInRegion:",x.yv,"nextIndex:",x.mM);return x;};h.prototype.Hob=function(m,n){return !m.yg.some(function(q){return n === q.Md;});};return h;})(r);b.ZCa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eRa=b.KFb=b.NWa=b.LUa=void 0;c=a(30);b.LUa=function(f,k){if((f=f.xb.P.Zv) && 0 !== f.length)return c.vg(f,function(l){return l.Nc.V <= k && k < l.Ld.V;});};b.NWa=function(f,k){return k.index === f.Wd.index?!0:(f=f.xb.P.Zv) && 0 !== f.length?f.some(function(l){l=l.Nc;return k.Nc.zv(l) && l.lessThan(k.Ld);}):!1;};b.KFb=function(f,k){return k.index === f.pf.index?!0:(f=f.xb.P.Zv) && 0 !== f.length?f.some(function(l){l=l.Ld;return k.Nc.lessThan(l) && l.zv(k.Ld);}):!1;};b.eRa=function(f,k,l,d){var g,h,m,n,q,p,t,u;f=null === (g=k.na) || void 0 === g?void 0:g.start;g=null === (h=k.na) || void 0 === h?void 0:h.end;u=h=!1;if((null === d || void 0 === d?0:d.UFb) || (null === d || void 0 === d || !d.IFb) && k.Nc.lessThan(l.Nc)){if(t=k.Xia(l.Nc.V))(t=(null !== (n=null === (m=k.na) || void 0 === m?void 0:m.start) && void 0 !== n?n:0) + t.Bk,f=Math.max(null !== f && void 0 !== f?f:0,t));t=l.Nc.V;h=!0;}if((null === d || void 0 === d || !d.NFb) && k.Ld.greaterThan(l.Ld)){if(t=k.Xia(l.Ld.V))(t=(null !== (p=null === (q=k.na) || void 0 === q?void 0:q.start) && void 0 !== p?p:0) + t.Bk,g=Math.min(null !== g && void 0 !== g?g:Infinity,t),k.mM=k.index);t=l.Ld.V;u=!0;}void 0 === f && void 0 === g || k.uh({start:f,end:g});void 0 !== t && (!k.Wt || t > k.Wt) && (k.xN(t),k.na || k.uh({}));k.kTb(l.region,h,u);};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xEa=void 0;c=a(2);f=a(418);k=a(6);r=(function(){function l(d){var g,h,m,n,q,p,t,u;g=this;h=d.console;m=d.config;n=d.N;q=d.Re;p=d.P;t=d.Nc;u=d.Ld;d=d.splice;this.Ula=this.XR=!1;this.nOa=function(){g.XR || g.nMa() && g.f_a();};this.console=h;this.config=m;this.Re=q;this.N=n;this.P=p;this.Nc=t;this.Ld=u;this.splice=d;}l.prototype.nb=function(d){if(this.XR)throw Error("Cannot call init() after cleanup");if(this.Ula)throw Error("Cannot call init() twice");this.Ula=!0;this.K_a=d;this.N.WB.addListener("onHeaderFragments",this.nOa);this.nMa() && this.f_a();};l.prototype.TQb=function(d,g){k.assert(this.Ula,"expected to be called init() before renormalize");this.P=d;this.Ld=g;d=f.hra(this.config,this.Re,this.Ld);this.k6();return d;};l.prototype.Lc=function(){this.XR || (this.XR=!0,this.K_a=void 0,this.N.WB.removeListener("onHeaderFragments",this.nOa));};l.prototype.f_a=function(){var d,g,h;if(!this.XR){g=this.LKb();h=!1;this.P && !this.P.qM && (h=this.k6());null === (d=this.K_a) || void 0 === d?void 0:d.call(this,g,h);this.Lc();}};l.prototype.nMa=function(){return this.Re.every(function(d){return d.track.Be;});};l.prototype.LKb=function(){var d,g;d=c.__read(f.g_a(this.config,this.Re,this.Nc,this.Ld,this.splice),2);g=d[0];return d[1] || void 0 === this.Re.Sa(1) && g;};l.prototype.k6=function(){var d,g,h;k.assert(this.P);k.assert(!this.P.qM);d=this.Re.MV;g=f.j_a(this.config,d,this.P.Ug);if(void 0 === g || void 0 === d.Ld)return !1;d=d.Ld;h=this.config.lua && "immediate" !== this.P.Zd?f.MYa(this.console,this.P,this.Re):[];this.P.normalize(g,d,h);return !0;};return l;})();b.xEa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wEa=void 0;c=a(6);r=(function(){function f(k){var l;l=this;void 0 === k && (k=[]);this.Re=k;k.forEach(function(d){return l.dua(d);});}Object.defineProperties(f.prototype,{length:{get:function(){return this.Re.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{MV:{get:function(){var k;return null !== (k=this.xua) && void 0 !== k?k:this.kfa;},enumerable:!1,configurable:!0}});f.prototype.Sa=function(k){return 1 === k?this.xua:this.kfa;};f.prototype.every=function(k){return this.Re.every(k);};f.prototype.some=function(k){return this.Re.some(k);};f.prototype.forEach=function(k){this.Re.forEach(k);};f.prototype.reduce=function(k,l){return this.Re.reduce(k,l);};f.prototype.filter=function(k){return new f(this.Re.filter(k));};f.prototype.replace=function(k,l){var d;d=this.Re.indexOf(k);c.assert(-1 < d);c.assert(k.mediaType === l.mediaType);this.Re[d]=l;this.dua(l);};f.prototype.K3a=function(k,l){(k=this.Sa(k))?this.replace(k,l):this.add(l);};f.prototype.add=function(k){this.Re.push(k);this.dua(k);};f.prototype.clear=function(){this.Re=[];this.kfa=this.xua=void 0;};f.prototype.dua=function(k){1 === k.mediaType?this.xua=k:this.kfa=k;};return f;})();b.wEa=r;},function(r,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.cCa=void 0;c=a(2);r=c.__importDefault(a(110));f=c.__importDefault(a(5));k=a(251);l=a(252);d=r.default.v1;g=r.default.Epb;h=r.default.RRa;m=r.default.Xwb;n=r.default.XRb;new f.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(q){var w70;w70=2;function p(t,u){var x70,w;x70=2;for(;x70 !== 12;){switch(x70){case 3:w.tnb=d(t.ps.threshold || 6E3,1,1E5);x70=9;break;case 9:w.nnb=d(t.ps.gamma || 1,.1,10);w.filter=t.ps.filter;w.jUb=! !t.ps.simpleScaling;t.ps.niqrfilter && t.ps.niqrcurve && (w.a_a=t.ps.niqrfilter,w.FKb=g(t.ps.niqrcurve,1,0,4));x70=14;break;case 2:w=q.call(this,t,u) || this;w.JC=function(v,x){var y70;y70=2;for(;y70 !== 1;){switch(y70){case 2:return l.JC(w.config,v,x);break;}}};w.U6=function(v,x,y){var z70,z,A,B,D,E,F;z70=2;for(;z70 !== 13;){switch(z70){case 3:B=Math.pow(Math.max(1 - z / w.tnb,0),w.nnb);D=x.Il - x.wc;w.jUb?(x=h(w.YPa,D,1),D=h(w.XPa,D,1),x=x * B + D * (1 - B)):x=h(n(w.YPa,w.XPa,B),D,1);v=w.a_a && (null === (E=v[w.a_a]) || void 0 === E?void 0:E.eV);void 0 !== v && (E=m(w.FKb,v),x=Math.min(x * E,1));z70=14;break;case 14:a000.r7Q(19);return w.GQa(a000.H7Q(1,F,x),y);break;case 2:y=null !== y && void 0 !== y?y:w.XL;F=null !== (A=null === (z=v.Oa) || void 0 === z?void 0:z.Ca) && void 0 !== A?A:0;z=null !== (D=null === (B=v[w.filter]) || void 0 === B?void 0:B.Ca) && void 0 !== D?D:F;z70=3;break;}}};Array.isArray(t.ps.curves) && (w.YPa=g(t.ps.curves[0],0,0,1),w.XPa=g(t.ps.curves[1],0,0,1));x70=3;break;case 14:var V8Q="1";V8Q+="SIYbZrNJ";V8Q+="Cp";V8Q+="9";V8Q;return w;break;}}}for(;w70 !== 5;){switch(w70){case 2:c.__extends(p,q);return p;break;case 3:c.__extends(p,q);return p;break;w70=5;break;}}})(k.YH);b.cCa=a;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.NGa=void 0;c=a(2);r=c.__importDefault(a(5));f=a(251);k=a(252);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(l){var A70;A70=2;for(;A70 !== 3;){switch(A70){case 2:c.__extends(d,l);d.ZTb=function(g,h){var E70,m,n;E70=2;for(;E70 !== 4;){switch(E70){case 2:n=! !g.ar;h.mta && (null === (m=g.Oa) || void 0 === m?void 0:m.Ca) < h.dS && (n=!0);return n;break;}}};d.prototype.tzb=function(g,h){var F70,m,n;F70=2;for(;F70 !== 3;){switch(F70){case 2:(m=this.config,n=h?m.Oga:m.vfa);h=h?m.Pga:m.xfa;Array.isArray(h) && (n=k.QRa(h,g.Il - g.wc,m.wfa));F70=4;break;case 4:return n;break;}}};return d;break;}}function d(g,h){var B70,m;B70=2;for(;B70 !== 9;){switch(B70){case 3:return m;break;case 2:var O8Q="1SIYbZ";O8Q+="r";O8Q+="NJCp9";m=l.call(this,g,h) || this;m.JC=function(n,q){var C70;C70=2;for(;C70 !== 1;){switch(C70){case 4:return k.JC(m.config,n,q);break;C70=1;break;case 2:return k.JC(m.config,n,q);break;}}};m.U6=function(n,q,p){var D70,t;D70=2;for(;D70 !== 3;){switch(D70){case 5:n=n.Oa?n.Oa.Ca * (100 - m.tzb(q,t)) / 100 | 0:0;return m.GQa(n,p);break;case 2:p=null !== p && void 0 !== p?p:m.XL;t=d.ZTb(n,m.config);D70=5;break;}}};O8Q;B70=3;break;}}}})(f.YH);b.NGa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.NAa=void 0;r=(function(){function a(c,f,k,l,d,g,h,m){this.xb=c;this.HNa=f;this.config=k;this.console=l;this.mediaType=d;this.ub=g;this.Na=h;this.Nb=m;this.nq=this.xh=!1;}a.prototype.mK=function(c,f){!this.xb.P.Xt || this.Nb.AJ || this.Nb.c0 || (c-=this.xb.Oe,this.xh && !this.nq && c + this.config.N5a >= f && 0 === this.Na.CC && 0 === this.Na.Ir && 0 === this.Na.zPb && (f=this.Nb.pe.N.Fb,c=this.Nb.nL(),f + 1 < c || (this.HNa[this.mediaType].o5a || this.ub.vib(this.mediaType),this.nq=!0,this.HNa[this.mediaType].p6())));};return a;})();b.NAa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.LAa=void 0;c=a(2);f=a(20);r=a(421);k=a(420);a=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.Xub=function(g){l.prototype.X4.call(this,{value:g});};d.prototype.KWa=function(){return !0;};d.prototype.Osa=function(){};d.prototype.X4=function(g){l.prototype.X4.call(this,g);g.done && (g=this.VA.T1,f.ia && this.H.trace("Requests drained",{v4b:g && g.P.id}),(g=g && g.Sa(this.sg)) && g instanceof k.ZY && g.mK(this.pg.eka() || 0));};return d;})(r.H9);b.LAa=a;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cwa=void 0;c=a(2);f=a(178);k=a(20);r=(function(){function l(d,g,h){this.H=d;this.Xfb=g;this.sg=h;this.u_=0;this.S_=!1;this.eQ=[];this.hE=void 0;k.ia && d.trace("BranchRequestIterator [" + this.sg + "]: created");}Object.defineProperties(l.prototype,{Ftb:{get:function(){return this.u_;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{T1:{get:function(){return this.cJa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{uk:{get:function(){return this.S_;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{WPa:{get:function(){return this.Ok?this.Ok.Ly?"Complete":this.Ok.rqa?"WaitingForBranch":void 0 !== this.hE && 0 !== this.hE?"In Policy " + this.eQ[this.hE].name:"WaitingForRequest":"Uninitialized;Prior:" + this.aKa;},enumerable:!1,configurable:!0}});l.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,g,h,m;return c.__generator(this,function(n){switch(n.label){case 0:d=this.Ok;if(!d)return [3,6];this.hE=void 0;return [4,d.next()];case 1:(g=n.Yd(),h=0,n.label=2);case 2:if(!(h < this.eQ.length))return [3,5];this.hE=h;m=this.eQ[h];return [4,m.process(g)];case 3:(g=n.Yd(),n.label=4);case 4:return (h++,[3,2]);case 5:this.hE=void 0;if(g.done || this.Ok !== d)return [2,{done:!0}];this.u_++;g.value.ILa();return [2,{done:!1,value:g.value.value}];case 6:return [2,f.AsyncIterator.Pka()];}});});};l.prototype.BRb=function(){this.V4a();this.UPb();};l.prototype.V4a=function(){var d;if(this.Ok){this.aKa=this.WPa;d=this.Ok;d && d.ih();this.eQ.forEach(function(g){return g.reset();});d && k.ia && this.H.trace("BranchRequestIterator [" + this.sg + "]: Disposing iterator that was on branch ",this.T1 && this.T1.P.id);this.S_=!1;this.hE=this.Ok=void 0;}};l.prototype.Blb=function(d){this.eQ.push(d);};l.prototype.UPb=function(){var d,g,h,m;d=this;if(!this.S_){g=this.H;h=this.Xfb;m=this.sg;this.u_=0;this.aKa=this.cJa=void 0;this.Ok=f.flatten(f.map(h.UUa(),function(n){return c.__awaiter(d,void 0,void 0,function(){var q;return c.__generator(this,function(p){switch(p.label){case 0:return (this.cJa=n,this.u_=0,k.ia && g.trace("BranchRequestIterator [" + this.sg + "]: new branch " + n.P.id),[4,n.KF(m)]);case 1:if(q=p.Yd())return [2,{value:q}];k.ia && g.error("BranchRequestIterator [" + this.sg + "]: skipping branch " + n.P.id);return [2,{value:[]}];}});});},g),g);this.S_=!0;}};return l;})();b.cwa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.HFa=void 0;c=a(2);f=a(904);k=a(905);r=(function(){function l(d,g,h,m,n,q,p,t){this.mediaType=d;this.Ia=h;this.events=n;this.lX=[];1 === this.mediaType && this.lX.push(new k.FGa(d,g,h,m,n,q,p,t,2));this.lX.push(new f.fHa(d,g,h,m,n,q,p,"stream",1));}l.prototype.reset=function(){this.lX.forEach(function(d){return d.reset();});};l.prototype.close=function(){this.lX.forEach(function(d){return d.close();});};l.prototype.gi=function(d){return c.__read(this.lX,1)[0].gi(d);};return l;})();b.HFa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.fHa=void 0;c=a(2);f=a(6);k=a(20);r=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.cz=function(g){var h,m;h=g.stream;m=g.Wi;g=g.qf;f.assert(void 0 !== m);this.ULa(h,m,g) && k.ia && this.trace("stream " + h.id + ", " + h.bitrate + "kbit/s @ " + m.V + "ms");};d.prototype.jRa=function(g,h){var m,n,q;n=g.HH;q=this.Ia.mr(h);f.assert(void 0 !== q);k.ia && this.trace("emitStreamPresentingEvent @ " + g.timestamp.V + "ms for " + (null === n || void 0 === n?void 0:n.id) + ", " + ((null === n || void 0 === n?void 0:n.bitrate) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.mediaType,playerTimestamp:h,position:q,trackIndex:null === (m=null === n || void 0 === n?void 0:n.track) || void 0 === m?void 0:m.ME,streamIndex:null === n || void 0 === n?void 0:n.mg});};return d;})(a(422).mba);b.fHa=r;},function(r,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.FGa=void 0;c=a(2);f=a(20);k=a(6);l=a(9);r=(function(d){function g(h,m,n,q,p,t,u,w,v){h=d.call(this,h,m,n,q,p,t,u,"segment",v) || this;h.jw=w;return h;}c.__extends(g,d);g.prototype.cz=function(h){var m,n,q;n=h.Wi;h=h.qf;k.assert(void 0 !== n);q=null === (m=this.Ia.mr(n)) || void 0 === m?void 0:m.va;k.assert(void 0 !== q);this.ULa(q,n,h) && f.ia && this.trace("segment " + q + " @ " + n.V + "ms");};g.prototype.jRa=function(h,m){var n,q;n=h.HH;q=this.Ia.mr(m);k.assert(void 0 !== q);f.ia && this.trace("emitSegmentPresentingEvent @ " + h.timestamp.V + "ms for segment " + n);q.va !== n && (f.ia && this.console.warn("player position:",q,"not equal to trackedElement:",n),q={va:n,offset:l.S.ab});h={type:"segmentPresenting",playerTimestamp:m,position:q};this.jw && (h.metrics=this.jw.kka(n));f.ia && this.trace("segmentPresenting: " + JSON.stringify(h));this.events.emit(h.type,h);};return g;})(a(422).mba);b.FGa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Qya=void 0;c=a(2);f=a(20);k=a(68);r=(function(){function l(d,g,h){this.Gf=d;this.PJb=g;this.H=h;}Object.defineProperties(l.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});l.prototype.waitUntil=function(d){var g;d=k.Cua(this.Gf,d,!0);g=d.promise;this.Mkb=d.Dr;return g;};l.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,h;return c.__generator(this,function(m){switch(m.label){case 0:if(d.done)return [3,2];g=d.value.value;if(!g.fja)return [3,2];h=g.Wi.Aa(this.PJb);f.ia && this.H.trace("[" + g.mediaType + "] JIT: waiting until playertime >= " + h.V,"to append next request " + g.toString());return [4,this.waitUntil(h)];case 1:(m.Yd(),f.ia && this.H.trace("[" + g.mediaType + "] JIT: now appending request " + g.toString()),m.label=2);case 2:return [2,d];}});});};l.prototype.reset=function(){var d;null === (d=this.Mkb) || void 0 === d?void 0:d.zb();};return l;})();b.Qya=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zGa=void 0;r=(function(){function a(c,f,k,l,d,g,h,m,n,q){var p;p=this;this.id=c;this.N=f;this.X=k;this.sS=d;this.Zk=g;this.Xt=h;this.Uq=m;this.io=n;this.Zd=q;this.uL=function(t){var u,w;return (null === (w=null === (u=p.Zk) || void 0 === u?void 0:u[t]) || void 0 === w?void 0:w.LWb) || p.Zd;};this.Ea=l || Infinity;}Object.defineProperties(a.prototype,{aa:{get:function(){return this.N.aa;},enumerable:!1,configurable:!0}});a.prototype.xTa=function(){var c,f,k;c=this;k=Object.keys(this.Zk || ({})).filter(function(l){var d,g;return !(null === (g=null === (d=c.Zk) || void 0 === d?void 0:d[l]) || void 0 === g || !g.weight);});return k.length?null !== (f=k.map(this.uL).reduce(function(l,d){return l === d?d:void 0;})) && void 0 !== f?f:this.Zd:this.Zd;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.io + " viewableId: " + this.N.aa + " pts: " + this.X + "-" + this.Ea + " defaultKey: " + this.sS + " dests: " + JSON.stringify(this.Zk) + " terminal: " + ! !this.Xt;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.N.aa,"startPts:":this.X,endPts:this.Ea,defaultKey:this.sS,"dests:":this.Zk,terminal:! !this.Xt,playlistSegmentId:this.io};};return a;})();b.zGa=r;},function(r,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bva=void 0;r=a(2);c=r.__importStar(a(10));f=a(180);k=r.__importDefault(a(909));l=a(391);d=r.__importDefault(a(27));g=r.__importDefault(a(5));a=(function(){var G70;G70=2;for(;G70 !== 27;){switch(G70){case 2:Object.defineProperties(h.prototype,{J4:{get:function(){var K70;K70=2;for(;K70 !== 1;){switch(K70){case 2:return this.fda;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zqa:{get:function(){var L70;L70=2;for(;L70 !== 1;){switch(L70){case 4:return this.SKa;break;L70=1;break;case 2:return this.SKa;break;}}},enumerable:!1,configurable:!0}});h.prototype.Q3a=function(m,n,q){var M70;M70=2;for(;M70 !== 4;){switch(M70){case 9:this.YB=m;M70=7;break;M70=1;break;case 2:this.YB=m;M70=1;break;case 1:c.fa(n) || (this.UVa=n);c.fa(q) || (this.TVa=q);M70=4;break;}}};h.prototype.Zta=function(m){var N70;N70=2;for(;N70 !== 5;){switch(N70){case 2:this.I=m;this.d0.Zta(m);N70=5;break;}}};h.prototype.gda=function(m,n,q,p){var O70,t;O70=2;for(;O70 !== 7;){switch(O70){case 1:var B8Q="i";B8Q+="q";B8Q+="r";O70=m === B8Q?5:9;break;case 2:t=this.I;O70=1;break;case 3:return !1;break;case 5:O70=void 0 !== p?4:3;break;case 4:return ! !(n.Oa && q && c.ya(p) && n.Oa.Ca < t.dS && p > t.N$);break;case 9:var t8Q="a";t8Q+="v";t8Q+="g";O70=m === t8Q?8:3;break;case 8:return n.Oa?n.Oa.Ca < t.dS:!0;break;}}};h.prototype.qL=function(m){var P70;P70=2;for(;P70 !== 1;){switch(P70){case 2:return 1 === m?this.d0.U6:this.d0.JC;break;}}};G70=8;break;case 8:h.prototype.tN=function(m){var Q70;Q70=2;for(;Q70 !== 1;){switch(Q70){case 2:this.d0.tN(m);Q70=1;break;case 4:this.d0.tN(m);Q70=0;break;Q70=1;break;}}};h.prototype.alb=function(m,n,q,p,t,u){var R70,w;R70=2;for(;R70 !== 5;){switch(R70){case 2:w=this.I;w.f9 && this.mjb(n) || !q || !p || !(q=u?Math.min(q,p,u):Math.min(q,p)) || (this.Lf.get(),p=this.gb.Ga,m=p.Zu(p.Ec,m),n.track.$s() && m > w.Hfa && q === t?(w.set?(w.set({pipelineEnabled:!0}),w.set({maxParallelConnections:1}),w.set({maxActiveRequestsPerSession:2}),w.set({maxPendingBufferLen:500})):(w.Np=!0,w.YL=1,w.Ev=2,w.qC=500),n.track.i7({type:n.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:w.cO,minRequestSize:w.gM}),this.nta++,w.f9 && (this.m0=!0)):w.Np && !n.$s() && (m < w.Gfa || q !== t) && (w.set?(w.set({pipelineEnabled:!0}),w.set({maxParallelConnections:3}),w.set({maxActiveRequestsPerSession:3}),w.set({maxPendingBufferLen:12E3})):(w.Np=!0,w.YL=3,w.Ev=3,w.qC=12E3),n.track.i7({type:n.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:w.cO,minRequestSize:w.gM}),this.ota++,w.f9 && (this.n0=!0)));R70=5;break;}}};h.prototype.dlb=function(m,n){var S70,q,p,t;S70=2;for(;S70 !== 6;){switch(S70){case 2:q=this.I;S70=1;break;case 1:S70=this.eKa?5:6;break;case 9:S70=void 0 === p || q > p?8:7;break;case 8:(this.mm.CR[t]=m,this.mm.BX[t]=n);S70=7;break;case 5:void 0 === this.mm && (this.mm={startTime:g.default.time.ba(),CR:[],BX:[],Sma:void 0,Jma:void 0});q=Math.floor((g.default.time.ba() - this.mm.startTime) / q.gK);S70=3;break;case 3:(p=this.mm.Jma,t=this.mm.Sma?q - this.mm.Sma - 1:q);S70=9;break;case 7:this.mm.Jma=q;S70=6;break;}}};G70=14;break;case 14:h.prototype.ALb=function(){var T70,m,U70;T70=2;for(;T70 !== 4;){switch(T70){case 1:T70=this.xE.Tq?5:4;break;case 9:m=this.gb;T70=2;break;T70=1;break;case 5:try{U70=2;for(;U70 !== 1;){switch(U70){case 2:(this.Lf.FQb(),this.SKa.Lc());U70=1;break;}}}catch(n){var W8Q="Hindsight: Err";W8Q+="or during ";W8Q+="clean up: ";a000.r7Q(2);m.ub.Pm(a000.H7Q(W8Q,n));}T70=4;break;case 2:m=this.gb;T70=1;break;}}};h.prototype.OLb=function(m){var V70;V70=2;for(;V70 !== 1;){switch(V70){case 2:this.I.MK && m === d.default.Ra.Eb && (this.ota=this.nta=this.v4a=this.w4a=this.i0a=this.j0a=0);V70=1;break;}}};h.prototype.MLb=function(m,n){var W70;W70=2;for(;W70 !== 1;){switch(W70){case 2:m === d.default.Ra.Eb && (this.RYb=n);W70=1;break;}}};h.prototype.kpb=function(m){var X70,n,q,p,t,u;X70=2;for(;X70 !== 6;){switch(X70){case 1:var M8Q="no";M8Q+="n";M8Q+="e";X70=M8Q !== n.XC && !0 !== this.ar && m.state <= n.Rna?5:6;break;case 2:n=this.I;X70=1;break;case 4:var c8Q="i";c8Q+="q";c8Q+="r";X70=c8Q === n.XC?3:8;break;case 5:p=this.Lf.get();X70=4;break;case 3:t=this.DJa(p);X70=9;break;case 9:void 0 !== t && void 0 !== t.kl && void 0 !== t.Mj && void 0 !== t.ll && (q=(t.ll - t.kl) / t.Mj);X70=8;break;case 8:u=n.YU?d.default.yf.Fw:d.default.yf.kA;p && p.confidence >= u && this.gda(n.XC,p,t,q) && (this.ar=!0,this.F1=m.state);X70=6;break;}}};G70=10;break;case 15:return h;break;case 10:h.prototype.zlb=function(m){var Y70;Y70=2;for(;Y70 !== 1;){switch(Y70){case 2:m.ar=this.ar;Y70=1;break;}}};h.prototype.Fxb=function(m){var Z70,n,q,p,t,u,w,v,x;Z70=2;for(;Z70 !== 25;){switch(Z70){case 2:var d8Q="star";d8Q+="tpla";d8Q+="y";var u8Q="log";u8Q+="da";u8Q+="t";u8Q+="a";(n={},q=this.I,p=this.gb,t={type:u8Q,target:d8Q,fields:{}});t.fields=n;Object.keys(m).forEach(function(y){var a80;a80=2;for(;a80 !== 1;){switch(a80){case 2:n[y]=m[y];a80=1;break;}}});u=this.Lf.get();Z70=3;break;case 3:u && u.Oa && (u=u.Oa.Ca);n.actualbw=u;n.isConserv=this.ar;n.ccs=this.F1;Z70=6;break;case 19:w=c.isArray(w.hi) && w.hi.reduce(function(y,z){var c80,A;c80=2;for(;c80 !== 3;){switch(c80){case 2:A=v(z.Tf || void 0);z=v(z.n || void 0);-1 < A && -1 < z && y.push({mean:A,n:z});return y;break;}}},x);n.histtdc=w;Z70=17;break;case 12:Z70=w?11:16;break;case 6:n.isLowEnd=this.PFb;n.histdiscbw=this.YB;w=this.TVa;Z70=12;break;case 16:n.histage=this.UVa;q.mia && this.sJ && (n.ishighstable=this.fda,n.avg_avtp=this.sJ.gnb,n.avg_ne=Number(this.sJ.hnb).toFixed(4));p.$b && (q=g.default.Rn(),n.maxAudioBufferAllowedBytes=q[d.default.Ra.Sb],n.maxVideoBufferAllowedBytes=q[d.default.Ra.Eb]);Z70=26;break;case 11:v=function(y){var b80;b80=2;for(;b80 !== 1;){switch(b80){case 2:return c.ya(y)?Number(y).toFixed(2):-1;break;}}};u=[v(w.min || void 0),v(w.C6 || void 0),v(w.kl || void 0),v(w.Mj || void 0),v(w.ll || void 0),v(w.D6 || void 0),v(w.max || void 0)];x=[];Z70=19;break;case 17:n.histtd=u;Z70=16;break;case 26:p.emit(t.type,t);Z70=25;break;}}};h.prototype.Gxb=function(m){var d80,n,q,p,t,u,w,v;d80=2;for(;d80 !== 6;){switch(d80){case 8:var v8Q="n";v8Q+="o";v8Q+="n";v8Q+="e";this.eKa && (m.bt={startTime:this.mm.startTime,audioMs:this.mm.CR,videoMs:this.mm.BX},this.mm.CR=[],this.mm.BX=[],this.mm.Sma=this.mm.Jma);v8Q !== q.XC && (m.isConserv=this.ar,m.ccs=this.F1);d80=6;break;case 2:(n=this,q=this.I,p=this.Lf.get(),t=[]);[d.default.Ra.Eb,d.default.Ra.Sb].forEach(function(x){var e80,y;e80=2;for(;e80 !== 4;){switch(e80){case 1:y=n.gb.ZUa(x);void 0 !== y && (x === d.default.Ra.Eb && (q.MK && (y.parallelDownloadMs=n.j0a,y.parallelDownloadBytes=n.i0a,y.singleDownloadMs=n.w4a,y.singleDownloadBytes=n.v4a,y.switchFromParallelToSingle=n.nta,y.switchFromSingleToParallel=n.ota),p && p.confidence && p.Oa && (y.asetput=p.Oa,y.aseiqr=p.Ys,y.tdigest=p.Vj && p.Vj.wy() || void 0),p && p.avtp && (y.avtp=p.avtp.Ca)),t.push(y));e80=4;break;case 2:e80=n.Zb(x)?1:4;break;}}});m.stat=t;(u=0,w=0,v=0);p.confidence && (u=p.Oa?p.Oa.Ca:0,w=p.Yi?p.Yi.Ca:0,v=p.Xs?p.Xs.Ca:0);m.location={responseTime:w,httpResponseTime:v,bandwidth:u,confidence:p.confidence,name:this.RYb};d80=8;break;}}};h.prototype.mjb=function(m){var f80,n;f80=2;for(;f80 !== 6;){switch(f80){case 4:this.m0 && (this.m0=!1);f80=3;break;case 2:n=this.I;f80=1;break;case 5:return !0;break;case 1:f80=this.m0 && m.$s()?5:4;break;case 9:return !0;break;case 3:f80=this.n0 && n.Np && !m.$s()?9:8;break;case 8:this.n0 && (this.n0=!1);return !1;break;}}};h.prototype.DJa=function(m){var g80,h80;g80=2;for(;g80 !== 4;){switch(g80){case 2:var p8Q="t";p8Q+="di";p8Q+="gest";h80=this.I.xla;g80=h80 === p8Q?1:3;break;case 1:m=m.Vj;g80=5;break;case 5:return m;break;case 3:g80=9;break;case 9:m=m.Ys && m.Ys.J6;g80=5;break;}}};h.prototype.Bhb=function(m,n,q){var i80,p;i80=2;for(;i80 !== 3;){switch(i80){case 1:this.gda(p.XC,m,n,q)?this.ar=!0:this.ar=!1;this.F1=0;this.gda(p.qna,m,n,q) && (this.PFb=!0);i80=3;break;case 8:p=this.I;i80=0;break;i80=1;break;case 2:p=this.I;i80=1;break;}}};G70=15;break;}}function h(m,n,q,p,t,u,w,v,x){var H70,I70,J70,z,y;H70=2;for(;H70 !== 32;){switch(H70){case 21:this.sJ=new l.Iza(w,t,this.H);H70=23;break;case 25:var N8Q="ba";N8Q+="sel";N8Q+="i";N8Q+="ne";I70=t.QDb;H70=I70 === N8Q?24:22;break;case 15:try{J70=2;for(;J70 !== 4;){switch(J70){case 2:z=new k.default(m,this.H,{bufferSize:g.default.Rn()},t);this.Lf.jlb(z);this.SKa=z;J70=4;break;}}}catch(A){var D8Q="Hindsight:";D8Q+=" Error";D8Q+=" when c";D8Q+="reating QoEEv";D8Q+="aluator: ";a000.r7Q(2);m.ub.Pm(a000.Z7Q(D8Q,A));}H70=27;break;case 14:this.eKa=0 === Math.floor(1E6 * Math.random()) % t.Ifa;this.YB=this.TVa=this.UVa=this.F1=this.ar=void 0;this.ota=this.v4a=this.w4a=this.nta=this.i0a=this.j0a=0;this.d0=f.qL(t,u);H70=10;break;case 22:var X8Q="L";X8Q+="R";H70=I70 === X8Q?21:35;break;case 24:this.sJ=new l.K$(w,t,this.H);H70=23;break;case 23:this.fda=this.sJ.J4();H70=33;break;case 27:this.fda=!1;H70=26;break;case 4:var q8Q="1SIY";q8Q+="bZrNJ";q8Q+="Cp9";this.xE=x;q8Q;this.gb=m;this.Gb=this.H.warn.bind(this.H);this.um=this.H.trace.bind(this.H);this.I=t;H70=14;break;case 33:t.f9 && (this.n0=this.m0=!1);H70=32;break;case 26:H70=w && 1 < w.length && t.mia?25:33;break;case 10:n=this.DJa(q);void 0 !== n && void 0 !== n.kl && void 0 !== n.Mj && void 0 !== n.ll && (y=(n.ll - n.kl) / n.Mj);p=t.YU?d.default.yf.Fw:d.default.yf.kA;q && q.confidence >= p && q.Oa && y && this.Bhb(q,n,y);H70=16;break;case 34:this.sJ=new l.K$(w,t,this.H);H70=23;break;case 16:H70=this.xE.Tq?15:27;break;case 35:H70=34;break;case 2:this.H=n;this.Lf=p;this.Zb=v;H70=4;break;}}}})();b.bva=a;},function(r,b,a){var f,k,l;function c(d,g,h,m){this.gb=d;this.H=g;this.bk=this.H.error.bind(this.H);this.Gb=this.H.warn.bind(this.H);this.um=this.H.trace.bind(this.H);this.dg=this.H.log.bind(this.H);this.Hfb=new k();this.I=m;this.b0=[];this.u0=void 0;d=m.c4;f.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.ada=!0;}a(27);b=a(5).default;f=a(145);a(424);k=a(910);new b.Console("ASEJS_QOE_EVAL","media|asejs");l=a(124).JFa || a(124);c.prototype=Object.create(f.prototype);c.prototype.add=function(d,g,h){this.u0 || (this.u0=g);f.prototype.add.call(this,d,g,h);};c.prototype.Gzb=function(){var d;if(0 !== this.b0.length){d=[];this.b0.forEach(function(g){g && g.YJ && d.push(g.wy());});return d;}};c.prototype.Lc=function(){this.b0=[];};c.prototype.DCb=function(){var d,g,h;d=this.get(this.I.c4.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,q){if(n)return (g=n,h=q,!0);});if(g)for(var m=0;m < h;m++){d[m]=g;}}d={trace:d,timestamp:this.u0,Jx:this.sd};this.ada=!1;f.prototype.reset.call(this);this.ada=!0;this.u0=void 0;return d;};c.prototype.Dia=function(d){var g,h,m,n,q,p;if(d && !d.YJ){h=d.Hs.bXa;h && (d.Nqa=this.Rea(d),d.g7=!1);if((g=this.DCb()) && g.trace && g.trace.length){m=d.bj.GC;n=g.timestamp;if(n > m){q=g.Jx;p=g.trace[0];m=Math.ceil((n - m) / q);g.timestamp=n - m * q;for(n=0;n < m;n++){g.trace.splice(0,0,p);}}g.trace.length && g.trace.pop();}d.Oz=g;g.trace && 0 === g.trace.length || void 0 === g.timestamp || (g=this.job(d),d.R_a=g,h && g && (d.g7=g.cC),d.YJ=!0,this.b0.push(d));}};c.prototype.job=function(d){var q,p,t,u;function g(w){var y;for(var v,x=0;x < w.length;x++){y=w[x].reduce(function(z,A){return A.wb?z + 1:z;},0);if(void 0 === v)v=y;else if(y !== v)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > v?y - v:v - y) * Math.LOG2E) + "]");}}for(var h=this.I.b4,m={cC:!1,A4:!1,Uvb:0},n=0;n < h.length;n++){q=h[n];p=this.Hfb.create(q);if(p){t=l.now();u={};try{g(d.nw);u=p(d);}catch(w){u.TK=w;}u.Wlb=l.now() - t;m[q]=u;m.cC=m.cC || u.cC;m.A4=m.A4 || u.A4;m.TK=m.TK || u.TK;}}return m;};c.prototype.Rea=function(d){var g;d=d.Hs;g="";1E3 > d.vo && (g+=d.F7a);1E3 > d.ks && (g=g + ("" !== g?",":"") + d.KMa);1E3 <= d.vo && 1E3 <= d.ks && (g="media");return g;};r.exports=c;},function(r,b,a){var k;function c(){}function f(l,d,g){return function(h){h.PC=d;h.compare=g;return l(h);};}k=a(911);c.prototype.constructor=c;c.prototype.create=function(l){var d;switch(l){case "htwbr":break;case "htwbr-dlvmaf":d=f(k.NT,!1,k.SOa);break;case "htwbr-segvmaf":d=f(k.NT,!0,k.SOa);break;case "hvmafgr":d=f(k.NT,!1,k.Gga);break;case "hvmafgr-dlvmaf":d=f(k.NT,!1,k.Gga);break;case "hvmafgr-segvmaf":d=f(k.NT,!0,k.Gga);break;case "hvmafdp":d=f(k.dp,!1);break;case "hvmafdp-dlvmaf":d=f(k.dp,!1);break;case "hvmafdp-segvmaf":d=f(k.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};r.exports=c;},function(r,b,a){var p,t,u,w,v,x,y,z,A,B,D;function c(E){var F,C,G;F=E.Oz;C=E.bj;G=E.Hs.Ea - C.X;F.timestamp > C.GC && B.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + C.GC);E=[];for(var J,K=F.timestamp,H=0;H < F.trace.length;H++){K >= C.GC && (E.push(F.trace[H]),J=F.trace[H]);K+=F.Jx;G-=F.Jx;}for(;0 < G;){E.push(J);G-=F.Jx;}C=F.Jx;F=E.length;if(0 === F)F=[];else {for(C=[C / 1E3];2 * C.length <= F;){C=C.concat(C);}C.length < F && (C=C.concat(C.slice(0,F - C.length)));F=C;}return new x(E,F,!1);}function f(E,F,C){F=E.nw[F][C];return F.da + E.bj.GR * F.duration / 8;}function k(E){var F,C,G,J,K,H,L,P,I;F=E.bj;C=F.$l;G=E.Hs;J=G.gv;H=[];for(G=J=Math.min(G.iG,J);G >= C;G--){D.update("backward step loop");L=K=E.nw[0][G].X - E.bj.X;G < J && (p(void 0 !== H[G + 1],"expect solution[(fragIndex + 1)] !== undefined"),L=Math.min(H[G + 1].startTime,L));P=f(E,0,G);I=q(P,L,E.Oz,F.GC);if(0 > I)throw Error("Infeasible: reason throughput at min bitrate");P={startTime:I,endTime:L,V1:L,svb:K,nN:P,he:0};P.MSa=G;H[G]=P;}F=0;for(G=C;G <= J;G++){F+=H[G].nN;H[G].Xha=F;}if(!l(E,H,C,J))throw Error("Infeasible: reason buffer capacity at min bitrate");return {cC:!0,Goa:0 == H.length,cq:H};}function l(E,F,C,G){var J,K,H,L,P,I,O,N,M,Q;for(;C <= G;C++){D.update("checkBuffer");J=E;K=F;H=C;D.update("check buffer vacancy");L=J.bj;P=J.nw[L.cU];I=J.GNa;O=!0;J=J.Xxb(Math.floor(K[H].startTime) + L.X);N=L.Wz + K[H].Xha;M=0;Q=0;if(J.index < L.$l){for(var S=0,fa=L.Iz;fa < J.index;fa++){S+=P[fa].da;}M+=S;S=0;for(fa=L.Iz;fa < J.index;fa++){S+=P[fa].duration;}Q+=S;}else (M+=L.Wz,Q+=L.vo);S=0;for(fa=L.$l;fa < J.index;fa++){S+=K[fa].nN;}M+=S;S=0;for(fa=L.$l;fa < J.index;fa++){S+=P[K[fa].MSa].duration;}Q+=S;J=N - M;L=P[H].X + P[H].duration - L.X - Q;if(L >= I.$y || J >= I.u7a)O=!1;K[H].PNa=J;K[H].Ofa=L;if(!O)return !1;}return !0;}function d(E){E=E.bj.Y;for(var F=[],C,G=0;G < E.length;G++){D.update("get prebuffered chunks loop");C=E[G];p(void 0 !== C.wb,"expect frag.vmaf !== undefined");C=new u(C.da,C.duration / 1E3,C.wb);F.push(C);}return F;}function g(E){var F,C,G,J,K,H,I;F=E.nw;C=E.bj;G=E.Hs;J=G.gv;K=E.Qd;H=[];J=Math.min(G.iG,J);for(var L=0;L < F.length;L++){G=[];for(var P=C.$l;P <= J;P++){D.update("get chunk map from play segment");I=F[L][P];I=new u(I.da,I.duration / 1E3,E.PC && void 0 !== I.wb?I.wb:K[L].wb);G.push(I);}H.push(G);}return new w(H,!1);}function h(E,F,C){p(E.wL() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var G=0,J=0,K,H,L=0;L < F.length;L++){D.update("calculate twvmaf");p(F[L].YVa === L,"expect stream_choices[idx].i_epoch === idx");H=E.hk[F[L].h4][L];K=void 0 !== C?C(H.quality):H.quality;H=H.Zl;G+=K * H;J+=H;}return {NQa:G / J,MQa:1E3 * J};}function m(E,F,C){p(E.wL() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var G=0,J=0,K=C.bj.GR,H,L=0,P=0,I=0;I < F.length;I++){D.update("calculate Bytes");p(F[I].YVa === I,"expect stream_choices[idx].i_epoch === idx");H=E.hk[F[I].h4][I];G+=H.da;J+=K * H.Zl * 1E3 / 8;L+=H.Zl * C.Qd[F[I].h4].bitrate;P+=H.Zl;}return {LQa:G,IQa:J,KQa:0 < P?1 * L / P:0};}function n(E,F,C){F=Math.min(E.length - 1,F);F=Math.max(0,F);return E[F] * C / 8;}function q(E,F,C,G){var J,K,H,L,P;J=C.trace;K=1 * C.Jx;H=F + G - C.timestamp;L=Math.floor(1 * H / K);F=(H - L * K) / K * n(J,L,K);if(F >= E)P=H - 1 * E / F * (H - L * K);else for(H=L;F < E;){D.update("find download start time");--H;if(0 > H)return -1;L=n(J,H,K);if(F + L >= E){E=(E - F) / L * K;P=(H + 1) * K - E;break;}F+=L;}return P + C.timestamp - G;}p=a(6).assert;t=a(912);u=a(425).Q9a;w=a(425).R9a;v=a(913).fab;x=a(426).dfb;y=a(253).hwa;z=a(246).bZ;A=a(84).default;B=new (a(5).default.Console)("ASEJS_QOE_EVAL","media|asejs");D=a(124).JFa || a(124);r.exports={NT:function(E){var F,C,G,J,K,H,L,P,I,O,N,M,Q,S,fa,qa,xa,ua,X,sa,T,ja,Pa,wa,Ua,Va,cb,Ya;B.debug("greedy DEBUG false");D.msa("greedy-" + (E.PC?"segvmaf":"dlvmaf") + ": ");try{E.hG=[];F=E.nw;C=E.bj;G=E.Hs;J=G.gv;K=E.Qd;J=Math.min(G.iG,J);for(L=C.$l;L <= J;L++){P=new t();E.hG[L]=P;F[0][L].Sfa=F[0][L].da;for(H=1;H < F.length;H++){F[H][L].Sfa=F[H][L].da;}H=0;I=F[H][L];I.oC=Infinity;I.mg=H;for(H=1;H < F.length;H++){I=F[H][L];I.mg=H;O=P.G4()?F[0][L]:P.mNb();N=8 * I.Sfa / I.duration;M=8 * O.Sfa / O.duration;if(E.PC && void 0 !== I.wb)(Q=I.wb,S=O.wb);else (Q=K[H].wb,S=K[O.mg].wb);I.ht=N - M;I.oC=(Q - S) / I.ht;isFinite(I.oC) && (0 < I.oC || H == F.length - 1) && 0 < I.ht && P.enqueue(I);}}for(L=C.$l;L <= J;L++){C=[];fa=[];qa=[];xa=E.hG[L].ro();for(F=0;F < xa.length;F++){I=xa[F];C.push(I.ht.toFixed(2));E.PC && void 0 !== I.wb?fa.push(I.wb):fa.push(K[I.mg].wb);qa.push(I.oC.toFixed(4));}}ua=k(E);if(ua.Goa)return ua;X=E.bj;sa=E.Hs;T=sa.gv;T=Math.min(sa.iG,T);qa=[];for(var R=X.$l;R <= T;R++){E.hG[R].G4() || qa.push(E.hG[R].DK());}p(void 0 !== E.compare,"playSegment.compare required for greedy");for(var ca=new z(qa,E.compare);0 < ca.length;){D.update("upgrade frags");ja=ca.pop();a:{T=X=void 0;R=E;qa=ua;fa=ja;Pa=R.bj;wa=R.Hs;Ua=Math.min(wa.iG,wa.gv);Va=JSON.parse(JSON.stringify(qa.cq));p(fa && Va[fa.index].he < fa.mg,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");T=fa.index;X=Va[T];X.he=fa.mg;X.nN=f(R,X.he,T);X.startTime=q(X.nN,X.V1,R.Oz,Pa.GC);Va[T]=X;if(0 > X.startTime)cb=!1;else {for(T=fa.index - 1;T >= Pa.$l;T--){X=Va[T];Ya=Va[T + 1].startTime;if(X.V1 <= Ya)break;X.V1=Ya;X.startTime=q(X.nN,X.V1,R.Oz,Pa.GC);Va[T]=X;if(0 > X.startTime){cb=!1;break a;}}for(var kb=fa.index + 1;kb <= Ua;kb++){Va[kb].Xha=Va[kb].nN + (kb > R.bj.$l?Va[kb - 1].Xha:0);}for(var $a=fa.index + 1;$a <= Ua;$a++){if(Va[$a].startTime > Va[fa.index].svb){Ua=$a - 1;break;}}l(R,Va,fa,Math.min(T + 1,fa.index),Ua)?(qa.cq=Va,cb=!0):cb=!1;}}cb && (E.hG[ja.index].G4() || ca.push(E.hG[ja.index].DK()));}}finally{delete E.hG;}for(Ua=wa=Pa=cb=ja=ca=0;Ua < ua.cq.length;Ua++){if(Va=ua.cq[Ua])(Ya=E.nw[Va.he][Va.MSa],ca+=(Ya.wb?Ya.wb:E.Qd[Va.he].wb) * Ya.duration,ja+=Ya.duration,cb+=Ya.da,Pa+=E.bj.GR * Ya.duration / 8,wa+=Ya.duration * E.Qd[Va.he].bitrate);}ua.NQa=0 < ja?1 * ca / ja:0;ua.MQa=ja;ua.LQa=cb;ua.IQa=Pa;ua.KQa=0 < ja?1 * wa / ja:0;ua.Yy=D.mUa();B.debug("Max heap used: " + Math.round(ua.Yy / 1024 / 1024) + " MB");return ua;},Gga:function(E,F){if(E.oC < F.oC)return 1;if(E.oC > F.oC)return -1;if(E.ht > F.ht)return 1;if(E.ht < F.ht)return -1;if(E.index > F.index)return 1;if(E.index < F.index)return -1;throw Error("Invalid frag comparison");},SOa:function(E,F){if(E.ht > F.ht)return 1;if(E.ht < F.ht)return -1;if(E.index > F.index)return 1;if(E.index < F.index)return -1;throw Error("Invalid frag comparison");},dp:function(E){var F,C,G,J,K,H;D.msa("dp-" + (E.PC?"segvmaf":"dlvmaf") + ": ");F=k(E);if(!1 === F.cC || !0 === F.Goa)return F;C=g(E);G=new v(C);J=d(E);J={T5a:c(E),hNa:E.bj.GR,CZa:0,hZa:240,gZa:8 * E.GNa.u7a / 1E3,LNa:.5,tNa:new y(J),HRa:0,a6b:void 0,tVa:void 0,F1a:void 0,sMa:!0};G=G.aw(J);J=h(C,G,void 0);C=m(C,G,E);K=[];H=E.bj.$l;G.forEach(function(L){K[H]={he:L.h4};H++;});A(J,F);A(C,F);F.cq=K;F.Yy=D.mUa();B.debug("Max heap used: " + Math.round(F.Yy / 1024 / 1024) + " MB");return F;}};},function(r){var c;function b(f){this.ag=a(f);this.rg=this.Ue=0;if(c(f)){for(var k=f.length,l=0;l < k;++l){this[l]=f[l];}this.Ue=k;}}function a(f){if("number" !== typeof f)if(c(f))f=f.length;else return 16;f=Math.min(Math.max(16,f),1073741824);f=(f >>> 0) - 1;f|=f >> 1;f|=f >> 2;f|=f >> 4;f|=f >> 8;return (f | f >> 16) + 1;}b.prototype.ro=function(){for(var f=this.Ue,k=Array(f),l=this.rg,d=this.ag,g=0;g < f;++g){k[g]=this[l + g & d - 1];}return k;};b.prototype.push=function(f){var k,l,d,h;k=arguments.length;l=this.Ue;if(1 < k){d=this.ag;if(l + k > d){for(var g=0;g < k;++g){this.j_(l + 1);h=this.rg + l & this.ag - 1;this[h]=arguments[g];l++;this.Ue=l;}return l;}h=this.rg;for(g=0;g < k;++g){this[h + l & d - 1]=arguments[g];h++;}this.Ue=l + k;return l + k;}if(0 === k)return l;this.j_(l + 1);g=this.rg + l & this.ag - 1;this[g]=f;this.Ue=l + 1;return l + 1;};b.prototype.pop=function(){var f,k,l;f=this.Ue;if(0 !== f){k=this.rg + f - 1 & this.ag - 1;l=this[k];this[k]=void 0;this.Ue=f - 1;return l;}};b.prototype.shift=function(){var f,k,l;f=this.Ue;if(0 !== f){k=this.rg;l=this[k];this[k]=void 0;this.rg=k + 1 & this.ag - 1;this.Ue=f - 1;return l;}};b.prototype.unshift=function(f){var k,l,d,h;k=this.Ue;l=arguments.length;if(1 < l){d=this.ag;if(k + l > d){for(var g=l - 1;0 <= g;g--){this.j_(k + 1);d=this.ag;h=(this.rg - 1 & d - 1 ^ d) - d;this[h]=arguments[g];k++;this.Ue=k;this.rg=h;}return k;}h=this.rg;for(g=l - 1;0 <= g;g--){h=(h - 1 & d - 1 ^ d) - d;this[h]=arguments[g];}this.rg=h;this.Ue=k + l;return k + l;}if(0 === l)return k;this.j_(k + 1);d=this.ag;g=(this.rg - 1 & d - 1 ^ d) - d;this[g]=f;this.Ue=k + 1;this.rg=g;return k + 1;};b.prototype.mNb=function(){var f;f=this.Ue;if(0 !== f)return this[this.rg + f - 1 & this.ag - 1];};b.prototype.get=function(f){var k;if(f === (f | 0)){k=this.Ue;0 > f && (f+=k);if(!(0 > f || f >= k))return this[this.rg + f & this.ag - 1];}};b.prototype.G4=function(){return 0 === this.Ue;};b.prototype.clear=function(){for(var f=this.Ue,k=this.rg,l=this.ag,d=0;d < f;++d){this[k + d & l - 1]=void 0;}this.rg=this.Ue=0;};b.prototype.toString=function(){return this.ro().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.DK=b.prototype.shift;b.prototype.toJSON=b.prototype.ro;Object.defineProperty(b.prototype,"length",{get:function(){return this.Ue;},set:function(){throw new RangeError("");}});b.prototype.j_=function(f){this.ag < f && this.Xjb(a(1.5 * this.ag + 16));};b.prototype.Xjb=function(f){var k,l;k=this.ag;this.ag=f;f=this.rg;l=this.Ue;if(f + l > k)for((f=f + l & k - 1,l=0);l < f;++l){this[l + k]=this[l + 0];this[l + 0]=void 0;}};c=Array.isArray;r.exports=b;},function(r,b,a){var p,t,u,w;function c(v,x,y){this.wNa=this.ngb(v,x,y);}function f(){}function k(){}function l(){}function d(v){this.xpb=v;}function g(){}function h(){}function m(){}function n(){this.Uha={};}function q(v,x){return Array.apply(0,Array(x)).map(function(y,z){return z + v;});}p=a(6).assert;b=a(253).hwa;t=a(426).efb;u=a(253).t9a;new (a(5).default.Console)("ASEJS_QOE_EVAL","media|asejs");w=a(124).JFa || a(124);c.prototype.constructor=c;c.prototype.ngb=function(v,x,y){p(v < x,"expect min_buffer_sec < max_buffer_sec but got " + v + " and " + x);p(0 < y,"expect buffer_step_sec > 0. but got " + y);for(var z=[];v < x;v+=y){z.push(v);}z[z.length - 1] < x && z.push(x);return z;};c.prototype.QB=function(v){return this.mhb(v,this.wNa);};c.prototype.mhb=function(v,x){v=this.Uub(v,x);if(0 === v)throw new f();if(v === x.length)throw new k();return v;};c.prototype.Uub=function(v,x){p(0 < x.length,"expect bins.length > 0 but got " + x.length);if(v < x[0])return 0;if(v >= x[x.length - 1])return x.length;for(var y=1;y < x.length;y++){if(x[y - 1] <= v && v < x[y])return y;}p(!1,"expect not coming here in digitize()");};c.prototype.M3=function(){return q(1,this.wNa.length - 1);};f.prototype=Error();k.prototype=Error();l.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.l$a=-20;d.prototype.k$a=20;d.prototype.j$a=void 0;d.prototype.e$a=new b(void 0);d.prototype.g$a=0;d.prototype.f$a=1;d.prototype.o$a=!1;d.prototype.i$a=!0;d.prototype.h$a=!0;d.prototype.m$a=void 0;d.prototype.c$a=!0;d.prototype.d$a=0;d.prototype.aw=function(v){p(void 0 !== v.T5a,"expect recipe.time_varying_bandwidth !== undefined");return this.Yjb(this.xpb,v.T5a,void 0 !== v.CZa?v.CZa:this.l$a,void 0 !== v.hZa?v.hZa:this.k$a,void 0 !== v.gZa?v.gZa:this.j$a,void 0 !== v.tNa?v.tNa:this.e$a,void 0 !== v.HRa?v.HRa:this.g$a,void 0 !== v.LNa?v.LNa:this.f$a,void 0 !== v.oUb?v.oUb:this.o$a,void 0 !== v.bDb?v.bDb:this.i$a,void 0 !== v.tVa?v.tVa:this.h$a,void 0 !== v.F1a?v.F1a:this.m$a,void 0 !== v.sMa?v.sMa:this.c$a,void 0 !== v.hNa?v.hNa:this.d$a);};d.prototype.Yjb=function(v,x,y,z,A,B,D,E,F,C,G,J,K,H){var P,I,O,N,M,Q,ua,ja,Pa,wa,Ua,Va,cb,Ya,kb,$a,Ra,ya,Ia;function L(Ma){return Ma[M];}w.msa("dp: ");p(y <= B.Wg,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");p(B.Wg <= z,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");p(y <= D,"expect min_buffer_sec <= end_buffer_sec");p(D <= z,"expect end_buffer_sec <= max_buffer_sec");void 0 !== A && p(B.sl <= A,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + B.sl + " and " + A);P=new c(y,z,E);E=new n();I=0;O=B;E.put([0,P.QB(B.Wg)],[I,O,void 0,void 0,x,void 0,void 0,void 0]);N=O=0;x=v.XCb();p(v.wL() == x.length,"expect chunk_map.get_n_epoch() == durations_sec.length");M=-1;for(Q in x){M+=1;for(var S=!0,fa=v.hk.map(L),qa=P.M3(),xa=0;xa < qa.length;xa++){ua=qa[xa];if(E.Fma([M,ua]))for(var X=E.get([M,ua]),sa=X[0],T=X[1],R=X[4],ca=0;ca < fa.length;ca++){x=fa[ca];w.update("epoch-ibuf-chunk loop");B=void 0 !== J?J(x.quality):x.quality;ja=R.Bs();try{X=this.Tgb(T,x,ja,H);Pa=X[0];wa=X[1];Ua=X[2];Va=X[3];cb=X[4];Ya=X[5];}catch(Ma){if(Ma instanceof t)continue;else if(Ma instanceof f){O+=1;continue;}else throw Ma;}kb=I=!1;try{$a=P.QB(Va.Wg);C && P.QB(Pa);G && P.QB(wa);if(void 0 !== A)if(G){if(Ua.sl > A)throw new l();}else if(Va.sl > A)throw new l();}catch(Ma){if(Ma instanceof f)($a=void 0,O+=1);else if(Ma instanceof k)(K?I=!0:N+=1,$a=void 0);else if(Ma instanceof l)(K?kb=I=!0:N+=1,$a=void 0);else throw Ma;}try{if(I && kb){p(void 0 !== A,"expect max_buffer_kb !== undefined");Ra=G?Ua.sl - A:Va.sl - A;p(0 <= Ra,"pause dlnd kb cannot be -ve but is " + Ra);try{ya=Va.JNb(Ra);}catch(Ma){if(Ma instanceof u)throw new f();throw Ma;}ja.y0a(ya);cb+=ya;p(Va.Wg < z,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");$a=P.QB(Va.Wg);}else if(I && !kb){ya=G?Ua.Wg - z + 1E-8:Va.Wg - z + 1E-8;p(0 <= ya,"pause dlnd kb cannot be -ve but is " + ya);try{Va.Q0a(ya);}catch(Ma){if(Ma instanceof u)throw new f();throw Ma;}ja.y0a(ya);cb+=ya;p(y <= Va.Wg,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");p(Va.Wg < z,"cur_buffer_queue.total_remain_sec < max_buffer_sec");$a=P.QB(Va.Wg);}else ya=0;}catch(Ma){if(Ma instanceof f)($a=void 0,O+=1,ya=void 0);else if(Ma instanceof t)continue;else throw Ma;}I=E.Fma([M + 1,$a])?E.get([M + 1,$a])[0]:-Infinity;this.Fkb(Va,$a,x,B,ua,M + 1,I,E,sa,ca,ja,cb,Ya,ya) && (S=!1);}}if(S){--M;break;}}try{Ia=this.uJa(M + 1,P.QB(D),E,F,P);}catch(Ma){if(Ma instanceof g)try{Ia=this.uJa(M + 1,P.QB(D),E,!F,P);}catch(Ta){if(Ta instanceof g){if(O > N)throw new h();throw new m();}throw Ta;}else throw Ma;}ua=Ia;for(y=[];-1 < M;M--){X=E.get([M + 1,ua]);I=X[0];O=X[1];z=X[3];A=X[5];D=X[6];F=X[7];X=X[2];x=v.hk[X][M];C=x.zy();B=x.quality;y.unshift({YVa:M,h4:X,info:{z4b:C,quality:B,Kfa:O.Wg,Jfa:O.sl,fRa:A,Oa:D,zpa:F}});ua=z;}return y;};d.prototype.uJa=function(v,x,y,z,A){var B,D;B=!1;D=A.M3()[0];for(A=A.M3()[A.M3().length - 1];;){if(x < D || x > A){B=!0;break;}if(y.Fma([v,x]))break;else x=z?x - 1:x + 1;}if(B)throw new g("backtrack fails to find a solution");return x;};d.prototype.Fkb=function(v,x,y,z,A,B,D,E,F,C,G,J,K,H){y=F + z * y.Zl;return void 0 !== x && y > D?(E.put([B,x],[y,v,C,A,G,J,K,H]),!0):!1;};d.prototype.Tgb=function(v,x,y,z){var A,B,D;z=(x.zy() + z) * x.Zl;y=y.Avb(z);z/=y;A=v.Wg - y;B=v.Wg + x.Zl;D=v.Bs();D.add(x,void 0);v=v.Bs();v.add(x,void 0);try{v.Q0a(y);}catch(E){if(E instanceof u)throw new f();throw E;}return [A,B,D,v,y,z];};g.prototype=Error();h.prototype=new g();m.prototype=new g();n.prototype={Rta:function(v){return v.join(",");},put:function(v,x){this.Uha[this.Rta(v)]=x;},get:function(v){return this.Uha[this.Rta(v)];},Fma:function(v){return (this.Rta(v) in this.Uha);}};r.exports={fab:d,i_b:c,IZb:f,JZb:k};},function(r,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yGa=void 0;r=a(2);c=r.__importStar(a(10));f=a(15);k=a(15);l=r.__importDefault(a(5));d=a(224);g=a(423);a=(function(){var j80;j80=2;function h(m,n,q,p){var k80;k80=2;for(;k80 !== 9;){switch(k80){case 12:"";k80=5;break;k80=9;break;case 2:this.Xa=m;this.H=n;this.Zb=q;this.Ch=p;k80=3;break;case 3:var T8Q="1S";T8Q+="IYbZr";T8Q+="NJCp9";T8Q;k80=9;break;}}}for(;j80 !== 13;){switch(j80){case 9:h.prototype.yjb=function(m,n){var u80,q,p,t;u80=2;for(;u80 !== 8;){switch(u80){case 4:u80=(null === (p=this.Xa.ah) || void 0 === p?0:p.UB())?3:9;break;case 2:(q=this,t=m.mediaType);m.jH(n);m.sRb();u80=4;break;case 3:(this.Xa.ah.ol.forEach(function(u){var v80;v80=2;for(;v80 !== 1;){switch(v80){case 2:q.Xa.LE(u,!1);v80=1;break;}}}),this.Xa.ah=void 0);u80=9;break;case 9:this.Xa.DS.VKa(t,m.xb.N);u80=8;break;}}};h.prototype.Nca=function(){var w80,m,n;w80=2;for(;w80 !== 4;){switch(w80){case 2:w80=this.TA?1:4;break;case 1:(m=this.TA.Cj,n=this.TA.Fb);this.Xa.Ng(n) && (this.TA=void 0,this.wr(m,n));w80=4;break;}}};j80=7;break;case 3:h.prototype.pR=function(m){var s80,n;s80=2;for(;s80 !== 4;){switch(s80){case 2:n=this;m=this.Xa.Ng(m);m.wR || (m.wR=!0,k.ff.forEach(function(q){var t80;t80=2;for(;t80 !== 1;){switch(t80){case 2:n.Xa.qg[q].resume();t80=1;break;}}}),this.Xa.$Q());s80=4;break;}}};j80=9;break;case 7:h.prototype.en=function(m){var x80,q,p;function n(t,u){var y80;y80=2;for(;y80 !== 5;){switch(y80){case 2:var E8Q="skip: u";E8Q+="nexpected behaviour - a non-presenting ";E8Q+="branch doesn't have a previous branch";t !== q.Xa.Ga.Nh && (t.Vf?n(t.Vf,u):q.H.error(E8Q));(t=t.Ed(u)) && t.en();y80=5;break;}}}x80=2;for(;x80 !== 7;){switch(x80){case 2:q=this;null === (p=this.bKa) || void 0 === p?void 0:p.cancel();this.Xa.Usa();this.Xa.Ga.Nh.en(m);k.ff.forEach(function(t){var z80,u;z80=2;for(;z80 !== 9;){switch(z80){case 2:z80=q.Zb(t)?1:9;break;case 1:var w8Q="skip:";w8Q+=" not r";w8Q+="esuming b";w8Q+="ufferManager, audio track switch in progress";u=q.Xa.qb.sf[t];q.Xa.Tq && (u.Jsa=l.default.time.ba());u.gO?u.Gb(w8Q):q.Xa.qg[t].resume();n(q.Xa.Ga.Ec,t);z80=9;break;}}});this.bKa=m=new d.YD(this.Xa.qH());return m.gpa(function(){var A80;A80=2;for(;A80 !== 5;){switch(A80){case 2:q.Xa.T.Fe(f.ka.Hc);q.Xa.hR();A80=5;break;}}}).Dra;break;}}};j80=6;break;case 2:h.prototype.wr=function(m,n){var l80,t,u,v,x,w,q,p;l80=2;for(;l80 !== 50;){switch(l80){case 16:return;break;case 7:l80=(t=this.Xa.Ng(n))?6:51;break;case 28:l80=(u=this.Xa.pe.N.Fb === n && !this.Ghb(n) && m === t.X)?44:39;break;case 21:l80=!this.Xa.D0(t.N.Fb + 1)?35:31;break;case 6:!t.N.bf.IU && 0 < n && (p=this.Xa.rK(n,m));this.Xa.T.Fe(f.ka.Ci);u=this.Xa.pe;l80=12;break;case 27:return;break;case 32:(m=u,p=m + this.Xa.Ga.Oe);l80=31;break;case 5:var A8Q=" ";A8Q+="pla";A8Q+="y";A8Q+="erSta";A8Q+="te: ";var f8Q=" medi";f8Q+="a.currentPt";f8Q+="s";f8Q+=": ";var r8Q=" c";r8Q+="urrent m";r8Q+="anifes";r8Q+="t: ";var Z8Q=" ma";Z8Q+="n";Z8Q+="ifes";Z8Q+="tInd";Z8Q+="ex: ";var H8Q="se";H8Q+="e";H8Q+="k:";H8Q+=" ";(t=this.Xa.I,u=this.Xa.T.ze());p=m;t.Hh && this.Ch.Ul(H8Q + m + Z8Q + n + r8Q + this.Xa.pe.N.Fb + f8Q + u + A8Q + this.Xa.T.getState());l80=9;break;case 9:c.fa(n) && (n=this.Xa.pe.N.Fb);this.Xa.Ga.P2a();l80=7;break;case 31:this.Xa.T.Fe(f.ka.$g);this.Xa.Usa();this.Xa.Ga.CVb(m,n);l80=28;break;case 25:l80=u.length?24:52;break;case 44:k.ff.forEach(function(y){var n80;n80=2;for(;n80 !== 1;){switch(n80){case 2:q.Xa.Ku[y].pl(!0);n80=1;break;}}});l80=43;break;case 18:var R8Q="seekDe";R8Q+="lay";R8Q+="ed";this.TA={Fb:n,Cj:m};this.Xa.emit(R8Q);l80=16;break;case 24:u=this.Xa.Iq?this.Xa.dm?Math.min(u[0].X,u[1].X):u[0].X:u[1].X;l80=23;break;case 22:l80=t.N.bf.Mg?21:32;break;case 39:this.Xa.Rda();v=this.Xa.Ga.Ec.q1(m).OM;l80=37;break;case 51:var Y8Q="s";Y8Q+="eekFaile";Y8Q+="d";var P8Q="seek, no ";P8Q+="manifest at m";P8Q+="anif";P8Q+="es";P8Q+="tIndex:";(this.H.warn(P8Q,n),this.Xa.emit(Y8Q));l80=50;break;case 52:var C8Q="s";C8Q+="eekD";C8Q+="el";C8Q+="aye";C8Q+="d";(this.TA={Fb:n,Cj:m},this.Xa.emit(C8Q));l80=50;break;case 53:this.Xa.$Q();l80=43;break;case 42:var F8Q="s";F8Q+="e";F8Q+="e";F8Q+="k";var x8Q="pts";x8Q+="c";x8Q+="han";x8Q+="g";x8Q+="ed";return (this.Xa.emit(x8Q,p),this.Xa.emit(F8Q),this.pR(n),m=u && this.Xa.qb.$w()?100:0,this.Xa.s0(1,m),this.Xa.vj(),p);break;case 43:l80=this.Xa.T.fXa()?42:41;break;case 35:var I8Q="see";I8Q+="k";I8Q+="Dela";I8Q+="ye";I8Q+="d";this.TA={Fb:t.N.Fb + 1,Cj:m};this.Xa.emit(I8Q);l80=33;break;case 15:l80=this.us(g.R9.zja(n),!1,!0)?27:26;break;case 37:t.Ioa();x=this.Xa.Ga.Ec;k.ff.forEach(function(y){var o80,z;o80=2;for(;o80 !== 5;){switch(o80){case 2:z=x.Ed(y);q.Zb(y) && q.yjb(z,v[y]);o80=5;break;}}});l80=53;break;case 23:l80=m > u?22:31;break;case 41:var g8Q="seekFa";g8Q+="i";g8Q+="l";g8Q+="ed";var L8Q="after seek";L8Q+="ing, playerState no longer ST";L8Q+="ARTING: ";this.H.warn(L8Q + this.Xa.T.getState());this.Xa.emit(g8Q);l80=50;break;case 11:n < u.N.Fb && t.N.bf.replace && (t.N.bf.replace=!1);w=this.Xa.Ga.Ec;k.ff.forEach(function(y){var m80;m80=2;for(;m80 !== 1;){switch(m80){case 2:(y=w.Ed(y)) && q.Xa.fLa(y);m80=1;break;}}});l80=19;break;case 12:l80=n != u.N.Fb?11:26;break;case 19:l80=!this.Xa.YIa(n)?18:15;break;case 33:return;break;case 26:u=this.Xa.Ga.Ec.aT(t.Ea || Infinity,t.N);l80=25;break;case 2:q=this;null === (p=this.bKa) || void 0 === p?void 0:p.cancel();l80=5;break;}}};h.prototype.seek=function(m,n){var p80,q;p80=2;for(;p80 !== 9;){switch(p80){case 2:q=m;c.fa(n) && (n=this.Xa.pe.N.Fb);this.Xa.Ga.P2a();this.Xa.Ng(n).N.bf.IU || this.Xa.AJ || (q=this.Xa.As(n,m));return this.wr(q,n);break;}}};h.prototype.us=function(m,n,q){var q80,p,t;q80=2;for(;q80 !== 9;){switch(q80){case 4:var b8Q="s";b8Q+="e";b8Q+="e";b8Q+="k";var j8Q="ptschan";j8Q+="g";j8Q+="ed";t?(this.Xa.T.Fe(f.ka.Ci),(m=this.Xa.Ga.Nh.children[m]) && this.Xa.emit(j8Q,null !== (p=m.Xc) && void 0 !== p?p:m.vWa),this.Xa.T.Fe(f.ka.$g),this.Xa.emit(b8Q),m && this.pR(m.N.Fb),this.Xa.s0(1),this.Xa.vj(),this.Xa.qb.$w()):q || (p=this.Xa.Ga.iCb(m),this.wr(p));return t;break;case 1:q80=n?5:4;break;case 6:q80=n?7:3;break;q80=n?5:4;break;case 5:return t;break;case 2:t=this.Xa.Ga.us(m,n);q80=1;break;}}};h.prototype.Ghb=function(m){var r80;r80=2;for(;r80 !== 1;){switch(r80){case 4:return ~ -this.Xa.Ng(m).wR;break;r80=1;break;case 2:return ! !this.Xa.Ng(m).wR;break;}}};j80=3;break;case 6:h.prototype.gi=function(m){var B80,n,q,p;B80=2;for(;B80 !== 8;){switch(B80){case 9:return void 0 !== n && void 0 !== m && n.complete && m.complete;break;case 2:(q=this.Xa.Ga.Nh,p=0 < Object.keys(q.P && q.P.Zk || ({})).length && !q.jk?q.Pd - this.Xa.I.uC:q.Pd);B80=1;break;case 5:return !1;break;case 1:B80=m < (null !== (n=q.Xc) && void 0 !== n?n:q.vWa) || m >= p?5:4;break;case 4:n=this.Xa.Ks(m,0,!0);m=this.Xa.Ks(m,1,!0);B80=9;break;}}};return h;break;}}})();b.yGa=a;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Sxa=void 0;r=a(2);c=r.__importStar(a(10));f=a(15);k=r.__importDefault(a(5));a=(function(){var C80;function l(d,g,h){var D80;D80=2;for(;D80 !== 9;){switch(D80){case 2:var i8Q="1SI";i8Q+="Y";i8Q+="b";i8Q+="ZrNJCp9";this.Qa=d;this.H=g;this.Zb=h;i8Q;this.QIa=this.dE=void 0;D80=9;break;}}}C80=2;for(;C80 !== 18;){switch(C80){case 3:l.prototype.vj=function(){var I80,d,g;I80=2;for(;I80 !== 5;){switch(I80){case 2:(d=this,g=this.Qa.I);!this.Qa.KKa || this.Qa.k0 || this.Qa.w0 || (this.Qa.k0=setTimeout(function(){var J80;J80=2;for(;J80 !== 4;){switch(J80){case 2:clearTimeout(d.Qa.k0);d.Qa.k0=void 0;J80=5;break;case 5:d.mJa();J80=4;break;}}},g.Mpa),g.MK && this.Qa.dm && (this.dE || (this.dE=setTimeout(function(){var K80,h;K80=2;for(;K80 !== 3;){switch(K80){case 4:h && d.EIa(h);K80=3;break;case 2:clearTimeout(d.dE);d.dE=void 0;h=d.Qa.Ga.Ec.Ed(1);K80=4;break;}}},g.blb))));I80=5;break;}}};C80=9;break;case 2:l.prototype.k_=function(){var E80;E80=2;for(;E80 !== 1;){switch(E80){case 2:this.dE && (clearTimeout(this.dE),this.dE=void 0);E80=1;break;}}};l.prototype.mJa=function(){var F80,d,g,h,m;F80=2;for(;F80 !== 6;){switch(F80){case 7:this.Akb();F80=6;break;case 1:var S8Q="firstDr";S8Q+="i";S8Q+="v";S8Q+="e";S8Q+="Streaming";void 0 === this.Qa.Fgb && (this.Qa.Fgb=!0,this.Qa.ub.Al(S8Q));(d=this.Qa.Ga,g=d.Ec.Ed(0),h=d.Ec.Ed(1),m=!h || h.xh);(!g || g.xh) && m && this.Qa.AJ && d.Upb(h?h.vc:g.vc);h=!h || h.nq;F80=9;break;case 2:F80=!this.Qa.oi.cea && !this.Qa.qm()?1:6;break;case 9:g && !g.nq || !h || this.Qa.AJ || (this.Qa.$b.nf && this.Qa.$b.nf.ap(!0,this.Qa.wl.sessionId),this.Qa.ub.s_a());this.jJa(d.Ec);F80=7;break;}}};l.prototype.oLa=function(){var G80;G80=2;for(;G80 !== 1;){switch(G80){case 2:return this.Qa.qm() || this.Qa.T.hXa() || this.Qa.T.gXa()?!0:!1;break;}}};l.prototype.o_=function(d){var H80;H80=2;for(;H80 !== 1;){switch(H80){case 2:return this.oLa() || this.Qa.qb.sf[d.mediaType].gO || this.Qa.Xw.fB?!1:!0;break;}}};C80=3;break;case 9:l.prototype.EIa=function(d,g){var L80,h,m,n,q;L80=2;for(;L80 !== 3;){switch(L80){case 2:(h=d.mediaType,m=this.Qa.qb.Iv[h].dG,n=d.Ff.pU);L80=1;break;case 1:L80=m && n?5:3;break;case 5:q=this.Qa.qb.sf[h].ig;q && (this.Qa.T.Rf() || this.Qa.Zf.alb(h,q,m.bitrate,n.bitrate,d.TDb.bitrate,g));L80=3;break;case 7:L80=m || n?1:4;break;L80=m && n?5:3;break;}}};l.prototype.jJa=function(d,g){var M80,h,m,n,q,p;M80=2;for(;M80 !== 7;){switch(M80){case 5:M80=!p || !q?4:9;break;case 2:(h=d.P,m=d.Ed(1),n=d.Ed(0),q=!n || n.xh,p=!m || m.xh);h.qM || this.Qa.Ga.k6(d,h,d.N.bf.Mg && 0 === d.N.Fb);M80=5;break;case 4:M80=(this.Qa.dm && this.kJa(d,m,n),this.Qa.Iq && this.kJa(d,n,m),q=!n || n.xh,p=!m || m.xh,!p || !q)?3:9;break;case 9:var e4H="Still in buffering stat";e4H+="e w";e4H+="hile pipeline's ar";e4H+="e d";e4H+="one";this.Qa.T.Rf() && (this.H.warn(e4H),this.Qa.qb.$w());g || h.Xt || d.N.bf.Mg || !this.fpb(d) || ((g=this.Qa.T.Rf()) && this.Qa.I.yha && (this.Qa.Yda(),g=!1),d.T2 || this.Qa.Ga.XDb(d,g),d.bK(),d.gpb() && (g=Object.keys(d.children),this.Qa.I.o2 && 1 === g.length && !d.children[g[0]].active && this.Qa.Ga.wYa(d,g[0]),this.Jgb(d,h)));M80=7;break;case 3:return;break;}}};l.prototype.Jgb=function(d,g){var N80,n,q,p,t,u,w,m,h;N80=2;for(;N80 !== 23;){switch(N80){case 17:n=t[0].xb;q=t[0].weight;d.fJ=n;N80=27;break;case 13:N80=1 < t.length?12:20;break;case 9:(n=d.fJ,q=g.Zk[n.P.id].weight);N80=8;break;case 19:var y4H="No s";y4H+="ubbranch can";y4H+="didat";y4H+="es t";y4H+="o drive";this.H.warn(y4H);N80=18;break;case 7:(p=[],t=[]);c.We(d.children,function(v,x){var O80;O80=2;for(;O80 !== 5;){switch(O80){case 2:x=g.Zk[x].weight;0 !== x && (x={weight:x,xb:v},v.kga(!0,!0) || t.push(x),p.push(x));O80=5;break;}}});0 === t.length?t=p:2 < t.length && (t.sort(function(v,x){var P80;P80=2;for(;P80 !== 1;){switch(P80){case 4:return x.weight % v.weight;break;P80=1;break;case 2:return x.weight - v.weight;break;}}}),t.length=2);N80=13;break;case 27:d.tca=n.Zm;N80=26;break;case 8:N80=!n?7:26;break;case 1:N80=this.Qa.$b.Dla && d.fJ && d.tca?5:8;break;case 10:0 !== u && 0 !== w?(c.We(t,function(v){var R80;R80=2;for(;R80 !== 4;){switch(R80){case 2:v.iZb=v.weight / u;v.Tnb=v.wZa / w;v.usage=v.Tnb - v.iZb;R80=4;break;}}}),t.sort(function(v,x){var S80;S80=2;for(;S80 !== 1;){switch(S80){case 2:return v.usage - x.usage;break;}}})):t.sort(function(v,x){var T80;T80=2;for(;T80 !== 4;){switch(T80){case 2:v=Math.min.apply(null,v.xb.Zm);x=Math.min.apply(null,x.xb.Zm);a000.f7Q(1);return a000.H7Q(x,v);break;}}});N80=20;break;case 26:n.Xd || (n.Xd={p4:k.default.time.ba(),Az:0});n.Xd.weight=q;this.jJa(n,!0);N80=23;break;case 20:N80=0 === t.length?19:17;break;case 12:n=t.reduce(function(v,x){var Q80;Q80=2;for(;Q80 !== 4;){switch(Q80){case 2:x.Zm=x.xb.Zm;x.wZa=Math.min(x.Zm[0],x.Zm[1]);a000.f7Q(1);var A31=a000.H7Q(13,14);return [v[0] + x.weight,v[A31] + x.wZa];break;}}},[0,0]);(u=n[0],w=n[1]);N80=10;break;case 3:d.fJ=void 0;N80=8;break;case 18:return;break;case 4:N80=Math.min(m[0] - d.tca[0],m[1] - d.tca[1]) >= h.wpb?3:9;break;case 5:m=d.fJ.Zm;N80=4;break;case 2:h=this.Qa.I;N80=1;break;}}};C80=6;break;case 19:return l;break;case 6:l.prototype.kJa=function(d,g,h){var U80,m,n,q,p,t,u;U80=2;for(;U80 !== 8;){switch(U80){case 1:U80=!g.xh?5:8;break;case 2:(m=this.Qa.I,n=g.mediaType);U80=1;break;case 5:(q=this.Qa.qb.sf[n],p=this.Qa.qb.Jz[n],t=this.Qa.qb.Iv[n]);U80=4;break;case 4:U80=q.ig && (void 0 === g.DG || (g.jH(g.DG,g.nNb),void 0 === g.DG))?3:8;break;case 3:var G4H="Still in buffering state while pipeline ";G4H+="do";G4H+="es not have vacancy";var l4H="drivePipeline, dela";l4H+="ying audio until video actualS";l4H+="tartP";l4H+="ts determi";l4H+="ned";u=this.Qa.pe;c.fa(u.wG) || (m.Bz && 0 === n && c.fa(this.Qa.qb.sf[1].Fn)?g.Gb(l4H):(c.fa(g.fo) && (g.fo=g.Wd?g.Wd.index:g.Sia(g.tc)),g.pf && g.fo > g.pf.index?d.N.bf.Mg && c.fa(u.Ea) && c.fa(d.vc) || (g.xh || this.Qa.fLa(g),d=this.Qa.pe.N.Fb,d < this.Qa.nL() - 1 && this.Qa.D0(d + 1)):this.o_(g) && (m.vwb && !this.Qa.T.Rf() && 0 >= g.jG?g.zXb(m.qJb):this.igb(g,h)?(g.ZGb=k.default.time.ba(),h=this.Qa.qb.Kka(g),m=h.mg,c.fa(m) || (m=g.track.Qd[m],this.hgb(g,m) || ((n=m.q3())?(g.TGb=m.bitrate,g.uIb(m,n,this.Qa.T.Rf(),q.ig,h.st),this.LXb(m,t,p),d.Xd && ++d.Xd.Az):m.IH()))):this.Qa.T.Rf() && (g.um(G4H),this.Qa.qb.$w()))));U80=8;break;}}};l.prototype.LXb=function(d,g,h){var V80;V80=2;for(;V80 !== 4;){switch(V80){case 2:g.Pma=d.dd;c.ya(h.nv) || (h.IXb(d.yr,d.Gy || -1,d.bitrate),c.fa(d.Zra) || this.Qa.Zf.Q3a(d.Zra,d.Un,d.Vn));d.url && (g.Uma=d.url);V80=4;break;}}};l.prototype.hgb=function(d,g){var W80,h;W80=2;for(;W80 !== 5;){switch(W80){case 2:h=this.Qa.qb.Iv[d.mediaType];return this.Qa.KKa && g.dd && h.Pma && g.dd !== h.Pma && (0 < d.Na.CC || 0 < d.Na.Ir)?!0:!1;break;}}};l.prototype.igb=function(d,g){var X80,x,h,m,n,q,p,t,u,w,v;X80=2;for(;X80 !== 32;){switch(X80){case 34:return !1;break;case 15:X80=void 0 === w || w < m.NIb?27:26;break;case 21:X80=(q=this.Qa.T.Rf())?35:33;break;case 19:X80=this.Qa.$b.Ama?18:17;break;case 33:return 0 < m.jt && !q && t + (g?x:0) > m.jt || void 0 !== this.QIa && u > this.QIa || 1 === n && h.bf.Mg && u > m.Nna && (g=this.Qa.$b.Hb.get(),g.confidence && g.Oa && g.Oa.Ca * d.nK > m.Mna)?!1:!0;break;case 13:X80=t === f.ka.Hc && u > m.Lna && !h.bf.Mg && !x && !h.HU || u && p > Math.max(u * m.Pna / 100,m.noa)?12:11;break;case 8:X80=p >= m.qC?7:6;break;case 6:h=this.Qa.pe.N;x=this.Qa.T.Wn(h);X80=13;break;case 10:x=0;X80=20;break;case 2:var a4H="flo";a4H+="ored ";a4H+="to ";a4H+="0";var n4H="negativ";n4H+="e scheduledBufferLe";n4H+="vel:";(m=this.Qa.I,n=d.mediaType,q=d.i5,p=this.Qa.T.ze(),t=this.Qa.T.getState(),u=this.Qa.Ga.Zu(q,n),w=d.tc + q.Oe - p);0 > w && (d.Gb(n4H,w,a4H),w=0);v=g?g.tc:0;X80=4;break;case 12:return !1;break;case 4:X80=(null === (h=d.Wf) || void 0 === h?0:h.zDb())?3:9;break;case 35:X80=(p=1,d.Lfa < m.az && (p=m.az),d.Na.CC >= p)?34:33;break;case 25:return !1;break;case 27:return !1;break;case 26:X80=this.khb(n) >= m.$L?25:24;break;case 17:w=void 0;g && (w=g.mediaType,v=k.default.Rn()[w],w=m.cYb?this.Qa.Ga.yYa(q,w).Dg / v:x / v);X80=15;break;case 11:t=this.Qa.Ga.ZE(q,n);X80=10;break;case 7:return !1;break;case 20:X80=g && (x=this.Qa.Ga.ZE(q,g.mediaType),v=d.tc - v,this.Zb(g.mediaType) && !g.xh && v >= m.Una && w > m.Si)?19:26;break;case 24:w=this.Qa.Ga.yWb();X80=23;break;case 23:X80=!c.fa(m.Ev) && w >= m.Ev || d.nK + p >= Math.max(m.$y,this.Qa.$b.Hz + m.Qoa * q.N.QIb[n])?22:21;break;case 22:return !1;break;case 9:p=d.Na.vpa;X80=8;break;case 3:return !1;break;case 18:return !1;break;}}};l.prototype.khb=function(d){var Y80;Y80=2;for(;Y80 !== 1;){switch(Y80){case 2:return this.Qa.Ga.Bb.reduce(function(g,h){var Z80;Z80=2;for(;Z80 !== 1;){switch(Z80){case 2:return g + h.aCb(d);break;}}},0);break;}}};l.prototype.fpb=function(d){var a90,g,h,m;a90=2;for(;a90 !== 4;){switch(a90){case 2:(g=this,h=this.Qa.Ga,m=!0);c.We(d.P.Zk,function(n,q){var b90,p;b90=2;for(;b90 !== 7;){switch(b90){case 2:b90=(n=h.Ae(q))?1:8;break;case 3:n && p && n.stream.Be && p.stream.Be || (m=!1);g.Qa.T.Wn(q) || (m=!1);b90=7;break;case 1:q=n.N;n=q.Pg[0];p=q.Pg[1];b90=3;break;case 8:var h4H="in";h4H+=" d";h4H+="e";h4H+="sts:";var z4H="inv";z4H+="al";z4H+="id seg";z4H+="ment";z4H+=":";d.Gb(z4H,q,h4H,d.P.Zk);b90=7;break;}}});return m;break;}}};l.prototype.Akb=function(){var c90,d,g,h;c90=2;for(;c90 !== 5;){switch(c90){case 2:(d=this.Qa.I,g=this.Qa.Ga,h=g.Ec);this.Qa.T.Rf() || g.Zu(h,1) < d.QU || h.N.Ota();c90=5;break;}}};C80=19;break;}}})();b.Sxa=a;},function(r,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.XAa=void 0;c=a(173);f=a(15);k=a(15);l=a(9);r=(function(){var d90;function d(g,h,m,n){var e90;e90=2;for(;e90 !== 8;){switch(e90){case 4:var s4H="1SI";s4H+="Y";s4H+="bZrN";s4H+="JCp9";this.xE=n;this.HKa=this.cea=!1;s4H;e90=8;break;case 2:this.Nb=g;this.H=h;this.Zb=m;e90=4;break;}}}d90=2;for(;d90 !== 6;){switch(d90){case 3:d.prototype.close=function(){var m90,g;m90=2;for(;m90 !== 6;){switch(m90){case 2:g=this.Nb.I;this.HKa=!0;this.stop();m90=4;break;case 4:var J4H="c";J4H+="l";J4H+="o";J4H+="s";J4H+="e";this.Nb.emit(J4H);m90=3;break;case 3:var U4H="e";U4H+="n";U4H+="d";U4H+="p";U4H+="lay";var k4H="log";k4H+="d";k4H+="a";k4H+="ta";g.ARa && (g=c.ww.instance().lb()) && (g={type:k4H,target:U4H,fields:{bridgestat:g}},l.Ua(this.Nb,g.type,g));this.Nb.$b.nf && this.Nb.$b.nf.ap(!0,this.Nb.wl.sessionId,!0);this.Nb.ub.s_a();this.Nb.s2a();m90=6;break;}}};d.prototype.flush=function(){var n90,n,q,p,g,h,m,o90,t,u;n90=2;for(;n90 !== 16;){switch(n90){case 5:(n={},q=m.get(),p={});q && q.avtp && q.avtp.Ca && (n.avtp=q.avtp.Ca,n.dltm=q.avtp.BB,p.avtp=n.avtp);q && q.cdnavtp && (n.cdnavtp=q.cdnavtp,n.activecdnavtp=q.activecdnavtp);m.flush();n90=8;break;case 2:(h=this.Nb.I,m=this.Nb.$b.Hb);n90=1;break;case 6:for(var w in t){var m4H="n";m4H+="e";var Q4H="n";Q4H+="e";var K4H="n";K4H+="e";t.hasOwnProperty(w) && (n[K4H + w]=Number(t[w]).toFixed(6),p[Q4H + w]=1 * n[m4H + w]);}n90=14;break;case 17:try{o90=2;for(;o90 !== 1;){switch(o90){case 2:this.Nb.y2(f.ka.wq);o90=1;break;}}}catch(v){var o4H="Hindsig";o4H+="ht: Error evaluatin";o4H+="g Qo";o4H+="E at stopping: ";a000.f7Q(2);this.Nb.ub.Pm(a000.Z7Q(o4H,v));}n90=16;break;case 1:n90=m?5:19;break;case 19:this.Nb.ub.vKa();n90=18;break;case 8:(t=m.MTa(),u=m.JLa);n90=7;break;case 7:n90=t?6:14;break;case 11:var O4H="end";O4H+="p";O4H+="lay";var V4H="l";V4H+="ogd";V4H+="a";V4H+="ta";h.r2 && (m=m.r3()) && (n.initial_avtp=m.WF,n.initial_dltime=m.BB,n.initial_responses_audio=m.wWa,n.initial_responses_video=m.xWa);Object.keys(n).length && (n={type:V4H,target:O4H,fields:n},l.Ua(this.Nb,n.type,n));n90=20;break;case 20:var u4H="en";u4H+="d";u4H+="pl";u4H+="a";u4H+="y";var c4H="lo";c4H+="gd";c4H+="a";c4H+="t";c4H+="a";var M4H="throu";M4H+="ghp";M4H+="ut-sw";var W4H="t";W4H+="hr";W4H+="oughput-sw";var t4H="through";t4H+="put-";t4H+="sw";var B4H="throu";B4H+="ghput-s";B4H+="w";h.RS && (q && q[B4H] && q[t4H].Ca && this.Nb.St.rlb({avtp:q[W4H].Ca,variance:q[M4H].Ai}),this.Nb.St.klb(p,null === (g=q.avtp) || void 0 === g?void 0:g.BB),g=this.Nb.St.Vzb(),h=this.Nb.St.mCb(),g && (g.n=h,g={type:c4H,target:u4H,fields:{ibef:g}},l.Ua(this.Nb,g.type,g),this.Nb.St.save()));n90=19;break;case 18:n90=this.xE.Tq?17:16;break;case 14:u && u.length && (n.activeRequests=JSON.stringify(u));n.aseApiVersion=this.Nb.QE;h.yRa && (t=m.z3()) && (t.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=t.bytesRequestedPacingVideo,n.bytesPacedVideo=t.bytesPacedVideo,n.bytestotalVideo=t.bytestotalVideo,n.pacedAvtpVideo=t.pacedAvtpVideo),t.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=t.bytesRequestedPacingAudio,n.bytesPacedAudio=t.bytesPacedAudio,n.bytestotalAudio=t.bytestotalAudio,n.pacedAvtpAudio=t.pacedAvtpAudio),t.pacedAvtp && (n.pacedAvtp=t.pacedAvtp));n90=11;break;}}};d.prototype.qm=function(){var q90;q90=2;for(;q90 !== 1;){switch(q90){case 2:return this.HKa || this.Nb.Ga.Gj;break;}}};return d;break;case 2:d.prototype.play=function(){var f90,g;f90=2;for(;f90 !== 5;){switch(f90){case 2:var p4H="p";p4H+="l";p4H+="a";p4H+="y";var d4H="play called after pipelines alr";d4H+="eady sh";d4H+="utdown";g=this;this.qm()?this.H.warn(d4H):(this.Nb.T.Fe(f.ka.Hc),this.Nb.ikb(),this.Nb.qb.sf.forEach(function(h){var g90;g90=2;for(;g90 !== 1;){switch(g90){case 2:var v4H="play: not resuming buffer";v4H+="Man";v4H+="ager";v4H+=", audio track switch in prog";v4H+="ress";g.Zb(h.mediaType) && (h.gO?h.Gb(v4H):(g.Nb.qg[h.mediaType].resume(),g.Nb.Ku[h.mediaType].resume()));g90=1;break;}}}),this.Nb.hR(),this.Nb.emit(p4H));f90=5;break;}}};d.prototype.stop=function(){var h90,g,h,m,n;h90=2;for(;h90 !== 6;){switch(h90){case 2:(g=this,h=this.Nb.T.hXa(),m=this.Nb.T.gXa());h90=1;break;case 1:this.Nb.T.Fe(f.ka.wq);this.Nb.k_();h || m || this.Nb.Ga.Nh.TC(!1,this.Nb.T);n=this.Nb.Ga.Ec;k.ff.forEach(function(q){var i90;i90=2;for(;i90 !== 5;){switch(i90){case 2:i90=(q=n.Ed(q))?1:5;break;case 3:i90=(q=n.Ed(q))?4:3;break;i90=(q=n.Ed(q))?1:5;break;case 1:q.xh=!1;i90=5;break;case 9:q.xh=-7;i90=6;break;i90=5;break;}}});h90=8;break;case 8:var N4H="s";N4H+="t";N4H+="op";k.ff.forEach(function(q){var j90;j90=2;for(;j90 !== 1;){switch(j90){case 2:(q=g.Nb.qg[q]) && q.pause();j90=1;break;}}});this.Nb.emit(N4H);h90=6;break;}}};d.prototype.suspend=function(){var k90;k90=2;for(;k90 !== 1;){switch(k90){case 2:this.cea=!0;k90=1;break;}}};d.prototype.resume=function(){var l90;l90=2;for(;l90 !== 5;){switch(l90){case 2:this.cea=!1;this.Nb.Of.vj();l90=5;break;}}};d90=3;break;}}})();b.XAa=r;},function(r,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ca=void 0;r=a(2);c=r.__importStar(a(10));f=a(144);k=r.__importDefault(a(27)).default.Ra;l=r.__importDefault(a(5));d=a(9);g=a(6);a=(function(){function h(m,n){var s90;s90=2;for(;s90 !== 4;){switch(s90){case 2:var D4H="1";D4H+="SIYbZ";D4H+="rNJ";D4H+="Cp9";this.Za=m;this.H=n;D4H;s90=4;break;}}}var r90;r90=2;for(;r90 !== 38;){switch(r90){case 3:h.prototype.xib=function(m,n,q,p,t){var x90,u;x90=2;for(;x90 !== 3;){switch(x90){case 2:var X4H="head";X4H+="erC";X4H+="ac";X4H+="he";X4H+="DataHit";u=this.Za.MJa;this.Za.MJa=void 0;m={type:X4H,movieId:m,audio:n,audioFromMediaCache:p,video:q,videoFromMediaCache:t,actualStartPts:u && u.Fn,headerCount:u && u.AL,stats:u && u.Ad};x90=4;break;case 4:d.Ua(this.Za,m.type,m);x90=3;break;}}};h.prototype.Fib=function(m,n,q,p){var y90;y90=2;for(;y90 !== 5;){switch(y90){case 2:var q4H="ma";q4H+="x";q4H+="Posi";q4H+="ti";q4H+="on";m={type:q4H,index:m,endPts:n,maxPts:q,maxSeekPts:p};d.Ua(this.Za,m.type,m);y90=5;break;}}};h.prototype.Oib=function(m,n,q,p,t,u){var z90;z90=2;for(;z90 !== 4;){switch(z90){case 2:var E4H="not";E4H+="if";E4H+="yStreaming";E4H+="Error: ";var T4H="e";T4H+="r";T4H+="ror";m={type:T4H,error:m,errormsg:n,networkErrorCode:q,httpCode:p,nativeCode:t,manifestIndex:u};this.H.error(E4H + JSON.stringify(m));d.Ua(this.Za,m.type,m);z90=4;break;}}};h.prototype.Y_=function(m,n){var A90;A90=2;for(;A90 !== 5;){switch(A90){case 2:var w4H="segm";w4H+="entStart";w4H+="in";w4H+="g";n={type:w4H,segmentId:m.id,contentOffset:n,maxBitrates:{audio:m.N.Fv[0],video:m.N.Fv[1]}};m.HC || d.Ua(this.Za,n.type,n);A90=5;break;}}};r90=6;break;case 25:h.prototype.Aib=function(m,n){var Q90;Q90=2;for(;Q90 !== 5;){switch(Q90){case 2:var H4H="ini";H4H+="tialAud";H4H+="ioTrack";m={type:H4H,trackId:n,trackIndex:m};d.Ua(this.Za,m.type,m);Q90=5;break;}}};r90=24;break;case 6:h.prototype.Ada=function(m){var B90,n;B90=2;for(;B90 !== 5;){switch(B90){case 2:var Z4H="segment";Z4H+="Abort";Z4H+="ed";n={type:Z4H,segmentId:m.id};m.HC || d.Ua(this.Za,n.type,n);B90=5;break;}}};h.prototype.lhb=function(m,n){var C90,q,p;C90=2;for(;C90 !== 12;){switch(C90){case 4:var Y4H="s";Y4H+="e";Y4H+="aml";Y4H+="e";Y4H+="ss";var P4H="r";P4H+="es";P4H+="e";P4H+="t";var R4H="s";R4H+="k";R4H+="i";R4H+="p";var A4H="l";A4H+="o";A4H+="ng";var f4H="l";f4H+="o";f4H+="n";f4H+="g";var r4H="sea";r4H+="m";r4H+="less";p=n.Ee?n.QT?r4H:f4H:n.UZa?A4H:n.en?R4H:P4H;q.transitionType=p;n.Jha || (q.delayToTransition=n.d2);p=Y4H === p?0:l.default.time.ba() - n.startTime;C90=7;break;case 2:(q={segment:m,srcsegment:n.Y7,srcoffset:n.GN,seamlessRequested:n.Ee,atRequest:{},discard:{}},p=n.Xd[m]);p?q.atRequest={weight:p.weight,abuflmsec:p.Mq.ks,vbuflmsec:p.Mq.vo,abuflbytes:p.Mq.oR,vbuflbytes:p.Mq.Wz}:(p=this.Za.Ga.TUa(n.Y7,m),void 0 !== p && (q.atRequest.weight=p));c.We(n.Xd,function(t,u){var D90;D90=2;for(;D90 !== 1;){switch(D90){case 2:u != m && (q.discard[u]={weight:t.weight,abuflmsec:t.Mq.ks,vbuflmsec:t.Mq.vo,abuflbytes:t.Mq.oR,vbuflbytes:t.Mq.Wz});D90=1;break;}}});C90=4;break;case 7:q.durationOfTransition=p;C90=6;break;case 6:q.atTransition=n.m6a;q.srcsegmentduration=this.Za.Ga.hCb(n.Y7);return q;break;}}};h.prototype.Lib=function(m,n,q){var E90;E90=2;for(;E90 !== 4;){switch(E90){case 2:var C4H="seg";C4H+="ment";C4H+="Presenting";q=q?this.lhb(m.id,q):void 0;m={type:C4H,segmentId:m.id,contentOffset:n,metrics:q,playlistSegment:m.HC,manifestIndex:m.N.Fb};d.Ua(this.Za,m.type,m);E90=4;break;}}};h.prototype.Jib=function(m,n){var F90;F90=2;for(;F90 !== 5;){switch(F90){case 2:var x4H="seg";x4H+="men";x4H+="tAppende";x4H+="d";n={type:x4H,segmentId:m.id,metrics:n};m.HC || d.Ua(this.Za,n.type,n);F90=5;break;}}};r90=11;break;case 32:h.prototype.Qib=function(){var Z90,m;Z90=2;for(;Z90 !== 3;){switch(Z90){case 2:var F4H="strea";F4H+="mi";F4H+="ng";F4H+="sta";F4H+="t";this.Za.I.YHb && l.default.memory.HAb(this.Shb.bind(this));m={type:F4H,time:l.default.time.ba(),playbackTime:this.Za.T.ze()};this.Za.Zf.Gxb(m);d.Ua(this.Za,m.type,m);Z90=3;break;}}};h.prototype.vKa=function(){var a01,m;a01=2;for(;a01 !== 4;){switch(a01){case 2:a01=this.Za.sr?1:4;break;case 9:a01=this.Za.sr?0:6;break;a01=this.Za.sr?1:4;break;case 1:var I4H="a";I4H+="se";I4H+="repo";I4H+="rt";m={type:I4H};this.Za.sr.Exb(m) && d.Ua(this.Za,m.type,m);a01=4;break;}}};h.prototype.pib=function(){var b01,m;b01=2;for(;b01 !== 5;){switch(b01){case 2:var L4H="asere";L4H+="por";L4H+="tenabled";m={type:L4H};d.Ua(this.Za,m.type,m);b01=5;break;}}};h.prototype.zib=function(m){var f7H=a000;var c01,L,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F,C,G,J,K;c01=2;for(;c01 !== 6;){switch(c01){case 2:c01=m?1:6;break;case 8:for(var H in m){if((q=m[H],void 0 !== q.E4a))for(p in q.E4a){if((z=q.E4a[p],void 0 !== z.i8)){var i4H=" ";i4H+="a";i4H+="nd ";var b4H="ex";b4H+="pect sol.strmsel.length === sol.";b4H+="fragsel.length but got ";var j4H="expect ";j4H+="report.fr";j4H+="agments";j4H+="Prebu";j4H+="ffered !== undefined";var g4H="expec";g4H+="t report.fra";g4H+="gmentsPrebuffered !== undefined";L=void 0 !== q.PSa;L || (console.error(g4H),g.assert(L,j4H));L=[];for(var P in q.PSa){t=q.PSa[P];L.push({da:t.da,Zl:t.duration / 1E3,quality:t.wb});}L=z.i8.length === z.QSa.length;t=b4H + z.i8.length + i4H + z.QSa.length;L || (console.error(t),g.assert(L,t));L=[];t=0;for(var I in z.i8){w=z.i8[I];u=z.QSa[I];f7H.r7Q(2);t=w=f7H.Z7Q(t,w);L.push({E8b:w,e9b:z.fRa[I],l5b:z.Oa[I],Kfa:z.Kfa[I],Jfa:z.Jfa[I],KNa:z.KNa[I],P4b:{da:u.da,Zl:u.duration / 1E3,quality:u.wb?u.wb:z.Qd[w].wb,J8b:u.mg,Q4b:u.Hg},W1a:0,i8b:0,zpa:z.zpa[I]});}z=[];L=0;for(var O in q.Oz.trace){t=q.Oz.trace[O];f7H.r7Q(2);L=t=f7H.Z7Q(L,t);z.push(t);}}}}c01=7;break;case 1:var S4H="hindsi";S4H+="ght";S4H+="repo";S4H+="rt";(n={type:S4H},q=this.Za.I.b4);for(L in q){var G5H="h";G5H+="vm";G5H+="a";G5H+="fd";G5H+="p";var l5H="hv";l5H+="m";l5H+="afgr";var y5H="h";y5H+="vm";y5H+="af";y5H+="tb";var e5H="h";e5H+="t";e5H+="w";e5H+="br";p=q[L];t=0;u=0;w=0;v=0;x=0;y=0;z=void 0;A=void 0;B=!1;D=-1;E=-1;F=-1;C=-1;G=-1;J=-1;for(K in m){A=m[K];void 0 === A.nd && (z=(z=A.sols) && z[p]) && (B=!0,w+=z.dlvdur,t+=z.dltwbr * z.dlvdur,u+=z.dlvmaf * z.dlvdur);y+=A.pbdur;v+=A.pbtwbr * A.pbdur;x+=A.pbvmaf * A.pbdur;z=A.rr;A=A.ra;}0 < y && (D=1 * v / y,C=1 * x / y);B && (0 < w && (E=1 * t / w,G=1 * u / w),0 < w + y && (F=1 * (t + v) / (w + y),J=1 * (u + x) / (w + y)));switch(p){case e5H:n.htwbr=F;n.hptwbr=E;n.pbtwbr=D;z && (n.rr=z,n.ra=A);break;case y5H:n.hvmaftb=J;n.hpvmaftb=G;n.pbvmaftb=C;z && (n.rrvmaftb=z,n.ravmaftb=A);break;case l5H:n.hvmafgr=J;n.hpvmafgr=G;n.pbvmafgr=C;z && (n.rrvmafgr=z,n.ravmafgr=A);break;case G5H:(n.hvmafdp=J,n.hpvmafdp=G,n.pbvmafdp=C,z && (n.rrvmafdp=z,n.ravmafdp=A));}}c01=4;break;case 4:c01=this.Za.NS || this.Za.$v?3:9;break;case 9:c01=this.Za.$v?8:7;break;case 7:d.Ua(this.Za,n.type,n);c01=6;break;case 3:n.report=m;c01=9;break;}}};h.prototype.vib=function(m){var d01;d01=2;for(;d01 !== 5;){switch(d01){case 2:var n5H="end";n5H+="OfSt";n5H+="ream";m={type:n5H,mediaType:m};d.Ua(this.Za,m.type,m);d01=5;break;}}};r90=44;break;case 2:h.prototype.Al=function(m){var t90;t90=2;for(;t90 !== 5;){switch(t90){case 2:var a5H="s";a5H+="tartEv";a5H+="ent";m={type:a5H,event:m,time:l.default.time.ba()};d.Ua(this.Za,m.type,m);t90=5;break;}}};h.prototype.Hib=function(){var u90,m;u90=2;for(;u90 !== 5;){switch(u90){case 2:var z5H="openCom";z5H+="plet";z5H+="e";m={type:z5H};d.Ua(this.Za,m.type,m);u90=5;break;}}};h.prototype.Iib=function(m,n,q,p,t){var v90;v90=2;for(;v90 !== 1;){switch(v90){case 2:var h5H="p";h5H+="t";h5H+="sStarts";this.Za.I.Zub || (m={type:h5H,manifestIndex:m,mediaType:n,movieId:p,streamId:q,ptsStarts:t.Q4a()},d.Ua(this.Za,m.type,m));v90=1;break;}}};h.prototype.yib=function(m,n){var w90;w90=2;for(;w90 !== 5;){switch(w90){case 2:var s5H="he";s5H+="aderC";s5H+="acheHit";m={type:s5H,movieId:m,streamId:n};d.Ua(this.Za,m.type,m);w90=5;break;}}};r90=3;break;case 11:h.prototype.Kib=function(m,n,q){var G90;G90=2;for(;G90 !== 5;){switch(G90){case 2:var J5H="segmentC";J5H+="omp";J5H+="l";J5H+="ete";m={type:J5H,mediaType:m,manifestIndex:n,segmentId:q.id};d.Ua(this.Za,m.type,m);G90=5;break;}}};h.prototype.zda=function(m,n){var H90;H90=2;for(;H90 !== 5;){switch(H90){case 2:var k5H="la";k5H+="s";k5H+="tSegm";k5H+="en";k5H+="tPts";n={type:k5H,segmentId:m.id,pts:Math.floor(n)};m.HC || d.Ua(this.Za,n.type,n);H90=5;break;}}};h.prototype.Dib=function(m,n,q,p,t){var I90;I90=2;for(;I90 !== 5;){switch(I90){case 2:var U5H="manif";U5H+="e";U5H+="st";U5H+="Range";m={type:U5H,index:m,manifestOffset:n,startPts:Math.floor(q),endPts:Math.floor(p),maxPts:Math.floor(t)};d.Ua(this.Za,m.type,m);I90=5;break;}}};h.prototype.yKa=function(m){var J90;J90=2;for(;J90 !== 5;){switch(J90){case 2:var K5H="maxBi";K5H+="tra";K5H+="tes";m={type:K5H,audio:m[0],video:m[1]};d.Ua(this.Za,m.type,m);J90=5;break;}}};r90=18;break;case 18:h.prototype.Eib=function(m,n){var K90,q;K90=2;for(;K90 !== 3;){switch(K90){case 2:var m5H="notify";m5H+="Man";m5H+="i";m5H+="fes";m5H+="tSelected: ";var Q5H="manifes";Q5H+="t";Q5H+="Selected";q=this.Za.I;m={type:Q5H,index:m,replace:n.N.bf.replace,ptsStarts:n.OM,streamingOffset:n.X + n.Bv};q.Hh && (n=m5H + JSON.stringify(m),q.Hh && this.Ul(n));d.Ua(this.Za,m.type,m);K90=3;break;}}};h.prototype.Cib=function(m,n,q,p,t){var L90;L90=2;for(;L90 !== 4;){switch(L90){case 2:var o5H="manifes";o5H+="tPres";o5H+="en";o5H+="ting";m={type:o5H,index:m.Fb,pts:Math.floor(n),movieId:m.K,replace:m.bf.replace,contentOffset:q};null != p && null != t && (m.previousMovieId=p,m.previousIndex=t);L90=5;break;case 5:d.Ua(this.Za,m.type,m);L90=4;break;}}};h.prototype.Mib=function(m,n,q,p){var M90,t;M90=2;for(;M90 !== 3;){switch(M90){case 2:var V5H="s";V5H+="tre";V5H+="amPr";V5H+="esentin";V5H+="g";t=m.mediaType;f.em.Ap(t);m={type:V5H,startPts:Math.floor(n),contentStartPts:Math.floor(q),mediaType:t,manifestIndex:p,trackIndex:m.track.ME,streamIndex:m.mg};d.Ua(this.Za,m.type,m);M90=3;break;}}};h.prototype.Rib=function(m){var N90;N90=2;for(;N90 !== 5;){switch(N90){case 2:var O5H="vid";O5H+="eoLo";O5H+="op";O5H+="ed";m={type:O5H,offset:m};d.Ua(this.Za,m.type,m);N90=5;break;}}};h.prototype.Pib=function(m,n,q,p,t){var O90;O90=2;for(;O90 !== 4;){switch(O90){case 2:var B5H="u";B5H+="p";B5H+="dateStreamingPts";n={type:B5H,mediaType:m,manifestIndex:n,trackIndex:q,movieTime:Math.floor(p),segmentId:t};f.em.Ap(m);d.Ua(this.Za,n.type,n);O90=4;break;}}};h.prototype.wib=function(m){var P90;P90=2;for(;P90 !== 5;){switch(P90){case 2:var t5H="firstRe";t5H+="questA";t5H+="ppend";t5H+="ed";m={type:t5H,manifestIndex:m.Na.xb.N.Fb,mediatype:m.mediaType,time:l.default.time.ba()};d.Ua(this.Za,m.type,m);P90=5;break;}}};r90=25;break;case 24:h.prototype.rib=function(m,n){var R90;R90=2;for(;R90 !== 3;){switch(R90){case 2:var W5H="audioTr";W5H+="ackSwitchSta";W5H+="rted";m=m.nC;n=n.nC;n={type:W5H,oldLangCode:m.language,oldNumChannels:m.channels,newLangCode:n.language,newNumChannels:n.channels,sourceBufferReset:void 0};d.Ua(this.Za,n.type,n);R90=3;break;}}};h.prototype.qib=function(m,n){var S90,q;S90=2;for(;S90 !== 5;){switch(S90){case 2:q=this;setTimeout(function(){var T90,p;T90=2;for(;T90 !== 5;){switch(T90){case 2:var M5H="audioTrackSwit";M5H+="ch";M5H+="Complete";p={type:M5H,trackId:m,trackIndex:n};d.Ua(q.Za,p.type,p);T90=5;break;}}},0);S90=5;break;}}};r90=22;break;case 22:h.prototype.uib=function(m){var U90,n;U90=2;for(;U90 !== 4;){switch(U90){case 2:var c5H="buff";c5H+="eringSt";c5H+="a";c5H+="rted";n={type:c5H,time:l.default.time.ba(),percentage:m || 0};U90=1;break;case 1:d.Ua(this.Za,n.type,n);this.mda=m || 0;U90=4;break;}}};h.prototype.sib=function(){var V90,m,n,q,p,t;V90=2;for(;V90 !== 3;){switch(V90){case 2:var u5H="b";u5H+="uf";u5H+="ferin";u5H+="g";(m=this.Za.I,n=l.default.time.ba(),q=this.Za.Ga.Ec,p=this.Za.dm?1:0,t=q.Sa(p));q=q.Jh(p);m=Math.min(Math.max(Math.round(100 * (t.mC?(n - this.Za.mca) / m.mz:t.progress?t.progress:q / m.Si)),this.mda),99);m != this.mda && (n={type:u5H,time:n,percentage:m},d.Ua(this.Za,n.type,n),this.mda=m);V90=3;break;}}};h.prototype.yda=function(){var W90,m,n,q,p,t;W90=2;for(;W90 !== 8;){switch(W90){case 2:var d5H="buff";d5H+="eri";d5H+="ngCo";d5H+="mpl";d5H+="ete";(m=this.Za.Ga.Ec,n=m.Sa(0),q=m.Sa(1));this.wKa();(p=this.Za.dm?this.Za.qb.Jz[k.Eb]:this.Za.qb.Jz[k.Sb],t=p.SR);m={type:d5H,time:l.default.time.ba(),actualStartPts:t,aBufferLevelMs:m.Jh(0),vBufferLevelMs:m.Jh(1),selector:q?q.qN:n.qN,initBitrate:p.nv,skipbackBufferSizeBytes:this.Za.$b.RC};this.Za.Zf.Fxb({initSelReason:p.Hy,initSelectionPredictedDelay:p.Gy,buffCompleteReason:p.rs,hashindsight:this.Za.Tq,hasasereport:! !this.Za.sr,bcVBufferLevelMs:m.vBufferLevelMs,bcABufferLevelMs:m.aBufferLevelMs});W90=9;break;case 9:d.Ua(this.Za,m.type,m);W90=8;break;}}};h.prototype.wKa=function(){var X90,n,q,p,t,m,u,w;X90=2;for(;X90 !== 12;){switch(X90){case 5:(n=this.Za.Ga.Ec,q=n.Jh(0),p=n.Jh(1));this.Za.Zf.dlb(q,p);t=this.Za.$b.Hb.get();X90=9;break;case 1:X90=!this.Za.qm()?5:12;break;case 2:m=this.Za.I;X90=1;break;case 9:t=t.confidence?t.Oa.Ca:0;(u=this.Za.Ga,w=u.ZE(n,0));n=u.ZE(n,1);X90=6;break;case 6:var v5H="up";v5H+="dateBuffer";v5H+="L";v5H+="evel";q={type:v5H,abuflbytes:w,vbuflbytes:n,totalabuflmsecs:q,totalvbuflmsecs:p,currentBandwidth:t};p > m.xZa && this.Za.$b.nf && this.Za.$b.nf.ap(!0,this.Za.wl.sessionId);d.Ua(this.Za,q.type,q);X90=12;break;}}};h.prototype.Shb=function(m){var Y90,n,q,p;Y90=2;for(;Y90 !== 7;){switch(Y90){case 1:c.ya(m.YW);Y90=5;break;case 2:Y90=!c.fa(m)?1:7;break;case 4:var X5H=", osAllo";X5H+="ca";X5H+="t";X5H+="orDelta: ";var D5H=", jsH";D5H+="ea";D5H+="pDelta: ";var N5H=", f";N5H+="ast";N5H+="MallocD";N5H+="elta: ";var p5H="me";p5H+="mo";p5H+="ryU";p5H+="sage a";p5H+="t time: ";(n=m.fSa - this.CJ.fSa,q=m.QVa - this.CJ.QVa,p=m.W_a - this.CJ.W_a);(4194304 < n || 4194304 < p) && this.H.warn(p5H + l.default.time.ba() + N5H + n + D5H + q + X5H + p);Y90=9;break;case 5:Y90=!c.fa(this.CJ)?4:8;break;case 9:var T5H=", s";T5H+="ystemDelt";T5H+="a:";T5H+=" ";var q5H="m";q5H+="emo";q5H+="ryU";q5H+="sage at ";q5H+="time: ";c.ya(m.YW) && c.ya(this.CJ.YW) && (n=m.YW - this.CJ.YW,4194304 < n && this.H.warn(q5H + l.default.time.ba(),T5H + n));Y90=8;break;case 8:this.CJ=m;Y90=7;break;}}};r90=32;break;case 44:h.prototype.Pm=function(m){var e01;e01=2;for(;e01 !== 1;){switch(e01){case 2:var w5H="a";w5H+="se";w5H+="ex";w5H+="ception";var E5H="asee";E5H+="xcept";E5H+="i";E5H+="on";this.Za.emit(E5H,{type:w5H,msg:m});e01=1;break;}}};h.prototype.TKb=function(m,n,q,p){var f01;f01=2;for(;f01 !== 5;){switch(f01){case 2:var Z5H="maxvid";Z5H+="eobitratechan";Z5H+="ged";var H5H="maxv";H5H+="ide";H5H+="obitratechanged";m={type:H5H,time:l.default.time.ba(),spts:p,maxvb_old:m,maxvb:n,reason:q};this.Za.emit(Z5H,m);f01=5;break;}}};h.prototype.s_a=function(){var g01,m;g01=2;for(;g01 !== 3;){switch(g01){case 1:var r5H="str";r5H+="eam";r5H+="ere";r5H+="nd";this.skb=!0;m={type:r5H,time:l.default.time.ba()};d.Ua(this.Za,m.type,m);g01=3;break;case 2:g01=!this.skb && this.Za.I.p_a?1:3;break;}}};h.prototype.$Kb=function(m){var h01;h01=2;for(;h01 !== 5;){switch(h01){case 2:var f5H="st";f5H+="reamSelectionAugmentDa";f5H+="ta";m={type:f5H,augmentData:m,fragmentIndex:m[0].Md};d.Ua(this.Za,m.type,m);h01=5;break;}}};h.prototype.Ul=function(m){var i01;i01=2;for(;i01 !== 5;){switch(i01){case 2:var R5H=",";R5H+=" ";var A5H="manage";A5H+="r";A5H+="debugevent";m={type:A5H,message:"@" + l.default.time.ba() + R5H + m};d.Ua(this.Za,m.type,m);i01=5;break;}}};return h;break;}}})();b.$Ca=a;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x;Object.defineProperties(b,{__esModule:{value:!0}});b.Gza=void 0;c=a(2);r=a(16);f=c.__importStar(a(10));a(6);a(230);k=a(247);l=a(403);d=a(96);a(394);a(409);g=a(150);h=c.__importDefault(a(27));a(243);m=a(919);n=c.__importDefault(a(123));a(15);q=c.__importDefault(a(5));a(180);a(415);a(414);a(95);p=new q.default.Console("HEADERCACHE","media|asejs");a=new q.default.Console("MEDIACACHE","media|asejs");t=q.default.eI;u=p.trace.bind(p);a.trace.bind(a);w=p.warn.bind(p);v=p.error.bind(p);x=p.info.bind(p);a=(function(y){var j01;j01=2;function z(A,B,D,E){var k01;k01=2;for(;k01 !== 25;){switch(k01){case 4:A.Gb=w;A.Z3b=x;A.N_=Object.create(null);A.yn=B;A.Kf=Object.create(null);k01=6;break;case 6:A.eE=0;A.Bn=[];A.hKa=B.c2;A.Ou=[];A.w_=!1;k01=10;break;case 18:A.lE=A.yn.Xna;A.sj=void 0;A.kea && (A.yn.yS || (B=(q.default.options || ({})).dM || 0,A.yn.set?A.yn.set({yS:B}):A.yn.yS=(q.default.options || ({})).dM || 0),A.sj=new m.mCa(A.yn,q.default,A),A.sj.nb(A,E).then(function(){var l01;l01=2;for(;l01 !== 1;){switch(l01){case 2:var P5H="Media cache initi";P5H+="a";P5H+="lized";u(P5H);l01=1;break;}}}).catch(function(F){var m01;m01=2;for(;m01 !== 1;){switch(m01){case 2:var Y5H="M";Y5H+="ed";Y5H+="ia cache di";Y5H+="d not initi";Y5H+="alize";v(Y5H,F);m01=1;break;case 4:v("",F);m01=3;break;m01=1;break;}}}));k01=15;break;case 15:var C5H="1S";C5H+="IYbZ";C5H+="rNJ";C5H+="C";C5H+="p9";A.wl=D;C5H;return A;break;case 2:A=y.call(this) || this;A.um=u;A.bk=v;k01=4;break;case 10:A.lJ=[];A.CE={};A.kea=(A.yn.oua || A.yn.pua) && 0 < (A.yn.yS || (q.default.options || ({})).dM || 0);k01=18;break;}}}for(;j01 !== 39;){switch(j01){case 11:z.prototype.wk=function(A){var C01;C01=2;for(;C01 !== 1;){switch(C01){case 2:this.Pc(A)?this.lMb(A):this.mMb(A);C01=1;break;}}};z.prototype.rV=function(A){var D01;D01=2;for(;D01 !== 5;){switch(D01){case 2:var x5H="_on";x5H+="Er";x5H+="ror";x5H+=": ";w(x5H,A.toString());this.l_(A);D01=5;break;}}};z.prototype.lMb=function(A){var E01,B;E01=2;for(;E01 !== 9;){switch(E01){case 2:B=this;A.bWb=A.af;this.Cfb(A);f.fa(A.MDb) || A.MDb(A.bWb);this.Rjb(A,function(){var F01;F01=2;for(;F01 !== 1;){switch(F01){case 2:f.fa(A) || (f.fa(A.Tl) || A.Tl.OVa--,B.l_(A));F01=1;break;}}});E01=9;break;}}};z.prototype.mMb=function(A){var G01,B,D,E,F;G01=2;for(;G01 !== 8;){switch(G01){case 1:G01=E?5:8;break;case 2:(B=this,D=A.K,E=this.Kf[D] || A.Tl);G01=1;break;case 4:F=q.default.time.now();this.sj.URb(A,E,function(C){var H01;H01=2;for(;H01 !== 4;){switch(H01){case 2:C || f.fa(E) || (C=q.default.time.ba() - F,f.fa(E.Ad) && (E.Ad={}),f.fa(E.Ad.Fr) && (E.Ad.Fr=0),E.Ad.Fr+=C);--E.mS;B.l_(A);H01=4;break;}}});G01=8;break;case 9:(--E.mS,B.l_(A));G01=8;break;case 5:var j5H="m";j5H+="anag";j5H+="er";j5H+="de";j5H+="bugevent";var g5H=", ";g5H+="remainin";g5H+="g:";g5H+=" ";var L5H=",";L5H+=" ";L5H+="pt";L5H+="s:";L5H+=" ";var I5H=",";I5H+=" ";I5H+="streamId: ";var F5H=", headerCa";F5H+="che dat";F5H+="aComplete: ";F5H+="movieId: ";G01=(this.yn.Hh && (D="@" + q.default.time.ba() + F5H + D + I5H + A.Ma + L5H + A.X + g5H + (E.mS - 1),this.emit(j5H,{message:D})),A.th && 0 === A.responseType && this.sj && !this.lE)?4:9;break;}}};z.prototype.bJa=function(){var I01;I01=2;for(;I01 !== 1;){switch(I01){case 2:0 === this.Ou.length && (this.Ou=[g.mq.instance.yB(0,void 0,!1,!1,this.wl,this.yn),g.mq.instance.yB(1,void 0,!1,!1,this.wl,this.yn)],this.Ou.forEach(function(A){var J01;J01=2;for(;J01 !== 1;){switch(J01){case 4:return A.nb();break;J01=1;break;case 2:return A.nb();break;}}}),t.Qf());I01=1;break;}}};z.prototype.gJa=function(){var K01,A;K01=2;for(;K01 !== 4;){switch(K01){case 2:A=this.Ou;this.Ou=[];A.forEach(function(B){var L01;L01=2;for(;L01 !== 1;){switch(L01){case 4:g.mq.instance.uS(B);L01=2;break;L01=1;break;case 2:g.mq.instance.uS(B);L01=1;break;}}});K01=4;break;}}};z.prototype.Thb=function(){var M01,A;M01=2;for(;M01 !== 5;){switch(M01){case 2:A=this;!this.w_ && 0 < this.lJ.length && (this.lJ.forEach(function(B){var N01;N01=2;for(;N01 !== 1;){switch(N01){case 2:A.Pda(B.NDb,B.pd);N01=1;break;}}}),this.lJ=[]);M01=5;break;}}};j01=15;break;case 33:z.prototype.Njb=function(A){var b11;b11=2;for(;b11 !== 1;){switch(b11){case 2:var b5H="flushedByt";b5H+="e";b5H+="s";0 !== A && (A={type:b5H,bytes:A},this.emit(A.type,A));b11=1;break;}}};z.prototype.Kjb=function(A){var c11;c11=2;for(;c11 !== 5;){switch(c11){case 2:var i5H="cache";i5H+="E";i5H+="v";i5H+="ict";A={type:i5H,movieId:A};this.emit(A.type,A);c11=5;break;}}};z.prototype.Rjb=function(A,B){var d11,D;d11=2;for(;d11 !== 3;){switch(d11){case 2:D=A.Cd;f.fa(A.hRb) || this.Pda(A,A.hRb);!this.sj || !A.th || this.lE || f.fa(A.KU) || A.KU[A.Ma] && A.KU[A.Ma].header?B():this.sj.VRb(A,B);D.mua || 0 !== Object.keys(this.N_).length || this.gJa();d11=3;break;}}};z.prototype.ckb=function(A,B){var e11;e11=2;for(;e11 !== 4;){switch(e11){case 2:var S5H="preb";S5H+="uf";S5H+="fsta";S5H+="t";S5H+="s";A.Ad.lOb=B;A={type:S5H,movieId:A.K,stats:{prebuffstarted:A.Ad.f1a,prebuffcomplete:A.Ad.lOb}};this.emit(A.type,A);e11=4;break;}}};j01=29;break;case 40:return z;break;case 6:z.prototype.iIb=function(A,B){var u01,D,E;u01=2;for(;u01 !== 5;){switch(u01){case 2:(D=this,E=this.hIb(A));return E || !this.sj?Promise.resolve(E):(this.lE?this.Phb(A,B):this.Ohb(A,B)).then(function(F){var v01;v01=2;for(;v01 !== 1;){switch(v01){case 4:return D.u1a(F);break;v01=1;break;case 2:return D.u1a(F);break;}}});break;}}};z.prototype.hIb=function(A){var w01;w01=2;for(;w01 !== 1;){switch(w01){case 4:return this.u1a(this.Kf[A]);break;w01=1;break;case 2:return this.u1a(this.Kf[A]);break;}}};z.prototype.ASa=function(){var x01,D,E,F;x01=2;function B(G,J){var z01;z01=2;for(;z01 !== 1;){switch(z01){case 2:G && G.data && G.data[J].forEach(function(K){var A01;A01=2;for(;A01 !== 5;){switch(A01){case 2:K.abort();D+=K.bytesReceived;A01=5;break;}}});z01=1;break;}}}function A(G){var y01;y01=2;for(;y01 !== 1;){switch(y01){case 2:G.BOa();y01=1;break;}}}for(;x01 !== 4;){switch(x01){case 2:D=0;for(E in this.Kf){F=this.Kf[E];if(F.data){for(var C in F.data){var y9H="i";y9H+="n e";y9H+="ntry:";var e9H="missing header";e9H+="E";e9H+="ntry for stream";e9H+="I";e9H+="d:";F.headers[C] || v(e9H,C,y9H,F);B(F,C);F.data[C].forEach(A);delete F.data[C];}delete F.data;}}this.Njb(D);x01=4;break;}}};z.prototype.hz=function(A){var B01,B;B01=2;for(;B01 !== 5;){switch(B01){case 2:B=this.Kf[A.K];B && (this.Pc(A)?f.fa(B.Ad.ODb) && !f.fa(A.loadTime) && (B.Ad.ODb=A.loadTime):f.fa(B.Ad.f1a) && !f.fa(A.loadTime) && (B.Ad.f1a=A.loadTime));B01=5;break;}}};j01=11;break;case 2:c.__extends(z,y);Object.defineProperties(z.prototype,{cache:{get:function(){var n01;n01=2;for(;n01 !== 1;){switch(n01){case 4:return this.Kf;break;n01=1;break;case 2:return this.Kf;break;}}},enumerable:!1,configurable:!0}});j01=5;break;case 21:z.prototype.GIa=function(A,B){var X01,D;X01=2;for(;X01 !== 4;){switch(X01){case 2:D=A.Ma;X01=1;break;case 9:D=A.Ma;X01=4;break;X01=1;break;case 1:X01=(B=this.Kf[A.K] || B)?5:4;break;case 5:(B.Klb || B.th && !this.lE || (B.Klb=!0,++this.eE),B.headers || (B.headers={}),B.headers[D]=A,this.yn.Bwb && (B.AL || (B.AL=0),++B.AL),this.rca());X01=4;break;}}};z.prototype.rca=function(){var Y01,B,D,E;function A(C){var Z01;Z01=2;for(;Z01 !== 5;){switch(Z01){case 2:C.abort();D+=C.bytesReceived;Z01=5;break;}}}Y01=2;for(;Y01 !== 12;){switch(Y01){case 2:D=0;Y01=1;break;case 5:Y01=this.eE > this.hKa?4:13;break;case 1:Y01=!(this.eE <= this.hKa)?5:12;break;case 9:Y01=B.data?8:7;break;case 4:Y01=(B=this.Bn.shift())?3:5;break;case 3:E=B.K;Y01=9;break;case 8:for(var F in B.data){B.data[F].forEach(A);delete B.data[F];}Y01=7;break;case 7:delete this.Kf[E];--this.eE;Y01=14;break;case 14:this.Kjb(E);Y01=5;break;case 13:this.Ljb(D);Y01=12;break;}}};z.prototype.Ljb=function(A){var a11;a11=2;for(;a11 !== 1;){switch(a11){case 2:var l9H="dis";l9H+="car";l9H+="dedByt";l9H+="es";0 !== A && (A={type:l9H,bytes:A},this.emit(A.type,A));a11=1;break;}}};j01=33;break;case 15:z.prototype.$Ia=function(A,B){var O01,D;O01=2;for(;O01 !== 8;){switch(O01){case 4:B.th=A.th;B.nf=this;return B;break;case 2:D=A.stream.mediaType;2 > this.Ou.length && this.bJa();B=new l.F9(A.stream,B,this.Ou[D],A,this,!0,p);O01=4;break;}}};z.prototype.qgb=function(A,B){var P01,D;P01=2;for(;P01 !== 8;){switch(P01){case 4:B.th=A.th;B.nf=this;return B;break;case 2:D=A.stream.mediaType;2 > this.Ou.length && this.bJa();B=k.XX.create(A.stream,B,this.Ou[D].track,A,this,!0,p);P01=4;break;}}};z.prototype.l_=function(A){var Q01,B;Q01=2;for(;Q01 !== 9;){switch(Q01){case 3:var G9H="s";G9H+="avetod";G9H+="is";G9H+="k";B && 0 === B.OVa && 0 === B.mS && (this.ckb(B,A.af),B.th && this.sj && (B.Ad.n7b || (this.lE?this.sj.WRb(B):this.sj.rN(G9H,{h3a:B.Ad.Fr}))));Q01=9;break;case 2:this.Pc(A) && delete this.N_[A.Ma];this.Pc(A) || delete A.response;A.Lc();B=this.Kf[A.K] || A.Tl;Q01=3;break;}}};z.prototype.Zhb=function(A,B,D){var R01,E,F;R01=2;for(;R01 !== 8;){switch(R01){case 2:E=A.b2;B.th && this.sj && (A.lZa?E=A.lZa:A.ZYa && 0 < A.ZYa && (E=2E3 * A.ZYa));R01=5;break;case 5:R01=0 < E?4:3;break;case 4:return function(C,G){var S01;S01=2;for(;S01 !== 1;){switch(S01){case 2:a000.f7Q(20);return a000.H7Q(E,G);break;}}};break;case 3:F=D && D.length < A.lQa?D.length:A.lQa;return function(C){var n3H=a000;var T01;T01=2;for(;T01 !== 1;){switch(T01){case 2:n3H.f7Q(20);return n3H.H7Q(F,C);break;case 4:n3H.r7Q(21);return n3H.Z7Q(C,F);break;T01=1;break;}}};break;}}};j01=24;break;case 5:z.prototype.Lub=function(){var o01;o01=2;for(;o01 !== 5;){switch(o01){case 3:this.flush();this.gJa();o01=0;break;o01=5;break;case 2:this.flush();this.gJa();o01=5;break;}}};z.prototype.Q8=function(A){var p01;p01=2;for(;p01 !== 5;){switch(p01){case 2:this.wl=A;this.Ou.forEach(function(){});p01=5;break;}}};z.prototype.ap=function(A,B,D){var q01,E,F;q01=2;for(;q01 !== 9;){switch(q01){case 2:(E=this.CE,F=A);q01=1;break;case 7:(E=this.CE,F=A);q01=5;break;q01=1;break;case 1:q01=(E[B]=A)?5:4;break;case 5:for(var C in E){E.hasOwnProperty(C) && !1 === E[C] && (F=!1);}q01=4;break;case 4:D && delete E[B];F?(this.w_=!1,this.Thb()):this.w_=!0;q01=9;break;}}};j01=9;break;case 9:z.prototype.flush=function(){var r01,B;r01=2;for(;r01 !== 8;){switch(r01){case 3:var a9H="manager";a9H+="debu";a9H+="gevent";var n9H=", ";n9H+="heade";n9H+="rCac";n9H+="he flush";n9H+=": ";this.Bn=[];this.yn.Hh && (B="@" + q.default.time.ba() + n9H,this.emit(a9H,{message:B}));r01=8;break;case 2:this.ASa();for(var A in this.N_){B=this.N_[A];B.abort();}this.Kf=Object.create(null);this.eE=0;r01=3;break;}}};z.prototype.list=function(){var s01;s01=2;for(;s01 !== 1;){switch(s01){case 2:return this.Bn;break;case 4:return this.Bn;break;s01=1;break;}}};z.prototype.AU=function(A,B){var t01;t01=2;for(;t01 !== 4;){switch(t01){case 2:t01=(A=this.Kf[A])?1:4;break;case 1:t01=(B=A.headers[B])?5:4;break;case 5:return B;break;}}};j01=6;break;case 43:z.prototype.r1a=function(A,B){var o11;o11=2;for(;o11 !== 1;){switch(o11){case 2:return B.priority - A.priority;break;case 4:return B.priority % A.priority;break;o11=1;break;}}};z.prototype.u1a=function(A){var p11,E,B,D;p11=2;for(;p11 !== 11;){switch(p11){case 1:p11=A && A.data?5:11;break;case 5:for(D in A.data){E=A.data[D];0 < E.length && (B[E[0].mediaType]={Ma:D,header:A.headers[D],data:E});}B.Fn=A.Fn;B.AL=A.AL;B.Ad=A.Ad;p11=8;break;case 2:B={};p11=1;break;case 8:B.nv=A.nv;B.Hy=A.Hy;p11=6;break;case 12:return B;break;case 6:B.YB=A.YB;B.Un=A.Un;B.Vn=A.Vn;p11=12;break;}}};z.prototype.Pc=function(A){var q11;q11=2;for(;q11 !== 1;){switch(q11){case 4:return + +A.Pc;break;q11=1;break;case 2:return ! !A.Pc;break;}}};j01=40;break;case 29:z.prototype.Phb=function(A,B){var f11,D;f11=2;for(;f11 !== 5;){switch(f11){case 2:var z9H="Me";z9H+="di";z9H+="a cache ";z9H+="is not e";z9H+="nabled";D=this;return this.sj?this.sj.JHb(A,B).then(function(E){var g11;g11=2;for(;g11 !== 5;){switch(g11){case 1:return (D.Kf[A]=E.Tl,++D.eE,D.rca(),D.Bn.push(E.Tl),D.Bn.sort(D.r1a),D.HIa(A,E),D.cache[A]);break;case 2:g11=E && E.Tl?1:5;break;}}}):Promise.reject(z9H);break;}}};z.prototype.Ohb=function(A,B){var h11,D,E,F;h11=2;for(;h11 !== 8;){switch(h11){case 2:D=this;h11=1;break;case 1:h11=this.sj?5:9;break;case 9:var h9H="M";h9H+="edia cach";h9H+="e i";h9H+="s no";h9H+="t enabled";return Promise.reject(h9H);break;case 5:(E=void 0,F=!1);this.sj.WWa(this.Kf[A])?(E=Promise.resolve(this.Kf[A]),F=!0):E=this.sj.MHb(A);h11=3;break;case 3:return E.then(function(C){var i11;i11=2;for(;i11 !== 1;){switch(i11){case 2:return !f.fa(C) && D.sj?D.sj.IHb(A,B,C).then(function(G){var j11;j11=2;for(;j11 !== 5;){switch(j11){case 2:G && (F || (D.Kf[A]=C,++D.eE,D.rca(),D.Bn.push(C),D.Bn.sort(D.r1a)),D.HIa(A,G));return D.Kf[A];break;}}}):Promise.resolve(void 0);break;}}});break;}}};z.prototype.HIa=function(A,B){var k11,D,E,F,C;k11=2;for(;k11 !== 7;){switch(k11){case 2:D=this;k11=1;break;case 1:k11=B?5:7;break;case 5:(E=this.Kf[A],F=B.headers);E && F && Object.keys(F).forEach(function(G){var l11;l11=2;for(;l11 !== 1;){switch(l11){case 2:D.Bfb(F[G],E);l11=1;break;}}});k11=3;break;case 3:k11=B.data?9:7;break;case 9:C=B.data;Object.keys(C).forEach(function(G){var m11,J,K;m11=2;for(;m11 !== 9;){switch(m11){case 2:J=C[G];f.fa(E.data) && (E.data={});f.fa(E.data[G]) && (E.data[G]=[]);K=E.data;m11=3;break;case 3:J.forEach(function(H){var n11;n11=2;for(;n11 !== 1;){switch(n11){case 2:K[G].push(H);n11=1;break;}}});m11=9;break;}}});k11=7;break;}}};j01=43;break;case 24:z.prototype.Pda=function(A,B){var U01,J,K,D,E,F,C,P,I,G,H,L;U01=2;for(;U01 !== 53;){switch(U01){case 3:this.lJ.shift();U01=4;break;case 17:U01=!f.fa(H)?16:25;break;case 11:A.mediaType === h.default.Ra.Sb && C.ek && !C.gB && F.fe && (B=Math.max(F.Y && F.Y.aj(0) || 0,B + F.fe.V));(J=A.stream.Y,K=J && J.Gm(B));U01=20;break;case 12:B=G.Fn;U01=11;break;case 30:U01=!f.fa(J) && !H.na?29:42;break;case 25:void 0 === G.data && (G.data={});void 0 === G.data[E] && (G.data[E]=[]);U01=23;break;case 2:(D=A.K,E=A.Ma,F=A.stream,C=A.Cd);U01=1;break;case 44:(H.lMa(J.get(P)),H.mM=P + 1,K=P);U01=43;break;case 5:this.lJ.push({NDb:A,pd:B});U01=4;break;case 14:G.Mha=A;U01=13;break;case 21:L=F=0;(P=H && H.mediaType,I=P === h.default.Ra.Eb?C.S5:C.L5);U01=34;break;case 9:G=this.Kf[D] || A.Tl;U01=8;break;case 33:U01=K < (J && J.length || 0) && !D(L,F)?32:54;break;case 36:++K;U01=33;break;case 32:U01=(void 0 === H && (H=A.stream.pk(K)),void 0 !== H)?31:36;break;case 18:H=A.stream.pk(K);U01=17;break;case 6:U01=void 0 === G.Fn?14:12;break;case 28:U01=P < J.length && (H.da < I || H.duration < C)?44:42;break;case 16:H.th=A.th;L=H.Yia(B);L && (H.mediaType === h.default.Ra.Sb && !C.F5 && L.pd < (C.ek && !C.gB && F.fe?Math.floor(F.fe.V):0) && (++L.Bk,L.pd+=H.pa.V),0 < L.Bk && H.uh({start:L.Bk}));U01=26;break;case 54:G.Mha && !f.fa(G.Fn) && (A=G.Mha,delete G.Mha,this.Pda(A,G.Fn));U01=53;break;case 20:U01=-1 === K || void 0 === K?19:18;break;case 1:U01=this.w_?5:9;break;case 19:var s9H="no proper f";s9H+="ragment f";s9H+="ound to request data at pts";v(s9H,B);U01=53;break;case 37:H=void 0;U01=36;break;case 4:U01=this.lJ.length > C.LDb?3:53;break;case 8:U01=G?7:53;break;case 23:B=G.data[E];D=this.Zhb(C,A,J);U01=21;break;case 7:U01=A.mediaType === h.default.Ra.Sb?6:11;break;case 29:a000.r7Q(2);P=a000.Z7Q(K,1);U01=28;break;case 43:++P;U01=28;break;case 26:var Q9H="m";Q9H+="anager";Q9H+="de";Q9H+="bugevent";var K9H=", sta";K9H+="rtP";K9H+="t";K9H+="s";K9H+=": ";var U9H=",";U9H+=" p";U9H+="ts";U9H+=":";U9H+=" ";var k9H=", streamI";k9H+="d:";k9H+=" ";var J9H=", headerCache requestData";J9H+=": movi";J9H+="eId: ";C.Hh && (B="@" + q.default.time.ba() + J9H + D + k9H + E + U9H + B + K9H + H.X,this.emit(Q9H,{message:B}));U01=25;break;case 31:H.th=A.th;U01=30;break;case 13:return;break;case 34:C=P === h.default.Ra.Eb?C.XJb:C.RJb;U01=33;break;case 42:var m9H="unde";m9H+="fin";m9H+="ed";f.fa(G.Fn) && (G.Fn=H.X);H.th && (H.responseType=0);A.th && this.sj && A.KU && A.KU[E] && m9H !== typeof H.X && A.KU[E][H.X] || (P=this.qgb(H,A.Cd),P.th && (P.Tl=A.Tl),P.AM(),++G.mS,B.push(P));++L;F+=H.duration;U01=37;break;}}};z.prototype.Cfb=function(A){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:this.GIa(A,A.Tl);V01=1;break;case 4:this.GIa(A,A.Tl);V01=6;break;V01=1;break;}}};z.prototype.Bfb=function(A,B){var W01;W01=2;for(;W01 !== 1;){switch(W01){case 2:this.GIa(A,B);W01=1;break;}}};j01=21;break;}}})(d.tw);b.Gza=a;n.default(r.EventEmitter.prototype,a.prototype);},function(r,b,a){var c,f,k,l,d,g,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.mCa=void 0;c=a(2);f=a(16);k=c.__importStar(a(920));l=c.__importStar(a(10));a(6);d=a(247);g=a(9);r=a(43);h=c.__importStar(a(931));m=h.DBa;a=(function(){var r11;function n(q,p,t){var s11;s11=2;for(;s11 !== 12;){switch(s11){case 9:var o9H="Medi";o9H+="a cache has not been ";o9H+="init";o9H+="iaized";this.I=q;this.An=p;this.Ke=t;this.cs=Promise.reject(o9H);this.cs.catch(function(){});s11=13;break;case 2:var O9H="medi";O9H+="a|a";O9H+="s";O9H+="ejs";var V9H="MED";V9H+="IACA";V9H+="CHE";this.H=new p.Console(V9H,O9H);this.kea=(q.oua || q.pua) && 0 < (q.yS || (p.options || ({})).dM || 0);this.Ngb=q.owb?q.owb:!1;this.lE=q.Xna?q.Xna:!1;this.Yhb=q.kZa?q.kZa:!1;s11=9;break;case 13:var B9H="1";B9H+="SIY";B9H+="b";B9H+="ZrNJCp";B9H+="9";B9H;s11=12;break;}}}r11=2;for(;r11 !== 18;){switch(r11){case 7:n.prototype.WWa=function(q){var d21;d21=2;for(;d21 !== 1;){switch(d21){case 2:return !(l.fa(q) || l.tb(q) || l.fa(q.Ad) || l.tb(q.Ad) || l.fa(q.K) || l.tb(q.K) || l.fa(q.priority) || l.tb(q.priority));break;}}};n.prototype.rN=function(q,p){var e21,t;e21=2;for(;e21 !== 9;){switch(e21){case 5:var W9H="media";W9H+="c";W9H+="ache";var t9H="m";t9H+="ediacache";t9H+="lookup";t9H === q && (t.lookupTime=p.p5,t.dataFound=p.U1);t.oneObject=this.lE;this.Ngb && this.emit(W9H,t);e21=9;break;case 2:var c9H="s";c9H+="ave";c9H+="to";c9H+="d";c9H+="isk";var M9H="media";M9H+="cachesta";M9H+="ts";t={type:M9H,operation:q};c9H === q && (t.saveTime=p.h3a);e21=5;break;}}};n.prototype.wPb=function(q,p){var f21,t,u;f21=2;for(;f21 !== 5;){switch(f21){case 2:(t=this,u=Object.keys(q).map(function(w){var g21;g21=2;for(;g21 !== 1;){switch(g21){case 2:return t.Csb(q[w]);break;case 4:return t.Csb(q[w]);break;g21=1;break;}}}));return Promise.all(u).then(function(w){var h21;h21=2;for(;h21 !== 5;){switch(h21){case 2:w.sort(function(v,x){var i21;i21=2;for(;i21 !== 1;){switch(i21){case 2:return v.Pc === x.Pc?0:v.Pc?-1:1;break;}}});return h.mka(t.I,t.H,t.Ke,w,p);break;}}});break;}}};n.prototype.Csb=function(q){var j21,p,t,u,w;j21=2;for(;j21 !== 5;){switch(j21){case 2:(p=this,w={});return new Promise(function(v,x){var k21,y;k21=2;for(;k21 !== 5;){switch(k21){case 2:p.xn.f7(m.pq,q,function(z,A){var l21,m21,B;l21=2;for(;l21 !== 1;){switch(l21){case 2:try{m21=2;for(;m21 !== 19;){switch(m21){case 7:y=h.Dja(u,w,t);m21=6;break;case 11:m21=h.kma(y)?10:12;break;case 4:m21=h.PWa(u)?3:20;break;case 12:v(y);m21=19;break;case 2:m21=z || void 0 === A?1:5;break;case 6:m21=y.Pc?14:11;break;case 8:return x(B);break;case 9:var u9H="Header f";u9H+="ragments was ";u9H+="a";u9H+="n array buffer, is invalid type ";B=u9H + y.Ma;m21=8;break;case 1:return x(z);break;case 10:var d9H="Missing or inv";d9H+="alid ";d9H+="med";d9H+="ia data parts ";d9H+="for stream ";return (B=d9H + y.Ma,x(B));break;case 13:var v9H="Missing or invalid header data ";v9H+="parts for strea";v9H+="m ";return (B=v9H + y.Ma,x(B));break;case 3:m21=t instanceof ArrayBuffer?9:7;break;case 20:y=h.Cja(u,{response:w.response});m21=6;break;case 14:m21=h.lma(y)?13:12;break;case 5:Object.keys(A).map(function(D){var n21,E,o21,F;n21=2;for(;n21 !== 3;){switch(n21){case 1:n21=E === m.jaa?5:4;break;case 2:E=D.substr(D.lastIndexOf(".") + 1);n21=1;break;case 4:E === m.Vya?t=A[D]:w[E]=A[D];n21=3;break;case 5:try{o21=2;for(;o21 !== 5;){switch(o21){case 2:F=new Uint8Array(A[D]);u=JSON.parse(String.fromCharCode.apply(null,F));o21=5;break;}}}catch(C){u=A[D];}n21=3;break;}}});m21=4;break;}}}catch(D){x(D);}l21=1;break;}}});k21=5;break;}}});break;}}};n.prototype.Djb=function(q,p,t){var p21,u;p21=2;for(;p21 !== 5;){switch(p21){case 2:u=this;return new Promise(function(w,v){var q21,x;q21=2;for(;q21 !== 5;){switch(q21){case 2:u.xn.read(m.pq,q,function(y,z){var r21,F,C,A,B,D,E,s21,K,H,L,P,G,J,t21,u21,v21,w21,M,x21,Q,S,fa,qa,y21,z21,A21,O,N,B21,C21,D21;r21=2;for(;r21 !== 4;){switch(r21){case 5:v(y);r21=4;break;case 16:void 0 !== x && (x.Tl=y);r21=15;break;case 8:F=z[q];r21=7;break;case 15:var p9H="mediacache";p9H+="loo";p9H+="kup";u.rN(p9H,{p5:u.An.time.ba() - t,U1:!0});w(x);r21=4;break;case 20:I=F.data;A=Object.keys(I);r21=18;break;case 12:C=Object.keys(F.headers);r21=11;break;case 1:r21=y?5:3;break;case 2:r21=1;break;case 17:x=h.mka(u.I,u.H,u.Ke,z,p);r21=16;break;case 7:r21=F.movieEntry?6:15;break;case 6:y=h.lka(F.movieEntry);z=[];r21=13;break;case 11:try{s21=2;for(;s21 !== 12;){switch(s21){case 5:(K=J.value,H=F.headers[K]);s21=4;break;case 9:return v(L);break;case 14:z.push(P);s21=13;break;case 3:var N9H="Header fragment";N9H+="s was an array b";N9H+="uffer, is";N9H+=" invalid type";N9H+=" ";L=N9H + H.streamId;s21=9;break;case 6:var D9H="Missing or inva";D9H+="lid he";D9H+="ader data parts for stream ";return (L=D9H + P.Ma,v(L));break;case 13:J=G.next();s21=1;break;case 8:P=h.Dja(H,H,H.fragments);s21=7;break;case 4:s21=H.fragments instanceof ArrayBuffer?3:8;break;case 7:s21=h.lma(P)?6:14;break;case 1:s21=!J.done?5:12;break;case 2:(G=c.__values(C),J=G.next());s21=1;break;}}}catch(ua){var I;I={error:ua};}finally{t21=2;for(;t21 !== 1;){switch(t21){case 2:try{u21=2;for(;u21 !== 1;){switch(u21){case 2:J && !J.done && (A=G.return) && A.call(G);u21=1;break;}}}finally{v21=2;for(;v21 !== 5;){switch(v21){case 2:v21=I?1:5;break;case 1:throw I.error;v21=5;break;}}}t21=1;break;}}}r21=10;break;case 9:w();r21=4;break;case 10:r21=F.data?20:17;break;case 18:try{w21=2;for(;w21 !== 8;){switch(w21){case 5:K=N.value;M=Object.keys(I[K]);try{x21=2;for(;x21 !== 7;){switch(x21){case 4:x21=h.kma(qa)?3:9;break;case 1:x21=!S.done?5:7;break;case 2:(Q=(D=void 0,c.__values(M)),S=Q.next());x21=1;break;case 9:z.push(qa);x21=8;break;case 3:var X9H="Missin";X9H+="g";X9H+=" or in";X9H+="valid media data parts for ";X9H+="stream ";return (L=X9H + qa.Ma,v(L));break;case 5:(fa=I[K][S.value],qa=h.Cja(fa,fa));x21=4;break;case 8:S=Q.next();x21=1;break;}}}catch(ua){D={error:ua};}finally{y21=2;for(;y21 !== 1;){switch(y21){case 2:try{z21=2;for(;z21 !== 1;){switch(z21){case 2:S && !S.done && (E=Q.return) && E.call(Q);z21=1;break;}}}finally{A21=2;for(;A21 !== 5;){switch(A21){case 9:throw D.error;A21=7;break;A21=5;break;case 1:throw D.error;A21=5;break;case 2:A21=D?1:5;break;}}}y21=1;break;}}}w21=9;break;case 1:w21=!N.done?5:8;break;case 2:(O=c.__values(A),N=O.next());w21=1;break;case 9:N=O.next();w21=1;break;}}}catch(ua){var xa;xa={error:ua};}finally{B21=2;for(;B21 !== 1;){switch(B21){case 2:try{C21=2;for(;C21 !== 1;){switch(C21){case 2:N && !N.done && (B=O.return) && B.call(O);C21=1;break;}}}finally{D21=2;for(;D21 !== 5;){switch(D21){case 3:D21=xa?8:9;break;D21=xa?1:5;break;case 2:D21=xa?1:5;break;case 1:throw xa.error;D21=5;break;case 9:throw xa.error;D21=9;break;D21=5;break;}}}B21=1;break;}}}r21=17;break;case 13:r21=F.headers?12:10;break;case 3:r21=l.fa(z)?9:8;break;}}});q21=5;break;}}});break;}}};n.prototype.Hhb=function(q){var E21,p;E21=2;for(;E21 !== 5;){switch(E21){case 2:var q9H="Media c";q9H+="ach";q9H+="e ";q9H+="is not enabled";p=this;return this.cs?this.cs.then(function(){var F21;F21=2;for(;F21 !== 1;){switch(F21){case 2:return new Promise(function(t){var G21;G21=2;for(;G21 !== 1;){switch(G21){case 2:p.xn.RV(m.pq,q.toString(),function(u){var H21;H21=2;for(;H21 !== 1;){switch(H21){case 2:u && 0 !== u.length?1 === u.length && u[0] === q.toString()?t(!0):t(!1):t(!1);H21=1;break;}}});G21=1;break;}}});break;}}}):Promise.reject(q9H);break;}}};n.prototype.$jb=function(q){var I21,u,w;I21=2;for(;I21 !== 4;){switch(I21){case 2:(u=this,w=q.toString());this.xn.RV(m.pq,[m.IBa,q].join("."),t);this.xn.RV(m.pq,w,t);I21=4;break;}}function t(v){var K21;K21=2;for(;K21 !== 1;){switch(K21){case 2:v.map(p);K21=1;break;}}}function p(v){var J21;J21=2;for(;J21 !== 1;){switch(J21){case 2:u.xn.delete(m.pq,v);J21=1;break;}}}};r11=20;break;case 2:n.prototype.nb=function(q,p){var t11,t;t11=2;for(;t11 !== 4;){switch(t11){case 2:var E9H="Med";E9H+="ia ";E9H+="cache is disabled";t=this;this.kea?this.cs=new Promise(function(u,w){var u11;u11=2;for(;u11 !== 1;){switch(u11){case 2:(void 0 !== p && null !== p?p.EL:function(v){var v11;v11=2;for(;v11 !== 1;){switch(v11){case 2:return k.EL(t.An,t.I,v);break;}}})(function(v){var w11,x;w11=2;for(;w11 !== 4;){switch(w11){case 9:t.xn=v;w11=3;break;w11=1;break;case 2:t.xn=v;w11=1;break;case 1:var T9H="Media cache did ";T9H+="n";T9H+="o";T9H+="t initialize";x=v.Km;(v=v.XF)?w(v):x?(t.GTb(q),u()):w(Error(T9H));w11=4;break;}}});u11=1;break;}}}):(this.cs=Promise.reject(E9H),this.cs.catch(function(){}));return this.cs;break;}}};n.prototype.MHb=function(q){var x11,p,t,u;x11=2;for(;x11 !== 5;){switch(x11){case 2:(p=this,t=[m.IBa,q].join("."),u=this.An.time.ba());return this.cs.then(function(){var y11;y11=2;for(;y11 !== 1;){switch(y11){case 2:return new Promise(function(w){var z11;z11=2;for(;z11 !== 1;){switch(z11){case 2:p.xn.RV(m.pq,t,function(v){var A11,x;A11=2;for(;A11 !== 3;){switch(A11){case 2:A11=!v || 0 >= v.length?1:5;break;case 8:A11=-v && 4 < v.length?9:6;break;A11=!v || 0 >= v.length?1:5;break;case 1:var w9H="me";w9H+="diac";w9H+="achelook";w9H+="u";w9H+="p";(w(),p.rN(w9H,{p5:p.An.time.ba() - u,U1:!1}));A11=3;break;case 5:x=v[0];p.xn.read(m.pq,x,function(y,z){var B11,C11,A,B;B11=2;for(;B11 !== 14;){switch(B11){case 5:B11=z instanceof ArrayBuffer?4:3;break;case 3:A={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};B11=9;break;case 1:B11=!l.fa(z)?5:9;break;case 4:try{C11=2;for(;C11 !== 1;){switch(C11){case 2:A=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));C11=1;break;}}}catch(D){}B11=9;break;case 2:var Z9H=" ";Z9H+="faile";Z9H+="d";var H9H="Re";H9H+="ading movi";H9H+="e";H9H+=" ";H9H+="entry ";y && p.H.warn(H9H + x + Z9H,y);B11=1;break;case 9:l.fa(A) || (B=h.lka(A));l.fa(B) || l.tb(B) || (B.Ad=B.Ad || ({}),B.headers=B.headers || ({}));p.WWa(B)?w(B):(p.$jb(q),w());B11=14;break;}}});A11=3;break;}}});z11=1;break;}}});break;}}});break;}}};n.prototype.IHb=function(q,p,t){var D11,u,w;D11=2;for(;D11 !== 9;){switch(D11){case 1:D11=!this.cs?5:4;break;case 2:u=this;D11=1;break;case 7:u=this;D11=3;break;D11=1;break;case 14:return Promise.reject("");break;D11=4;break;case 5:var r9H="Media c";r9H+="a";r9H+="che is ";r9H+="not enabled";return Promise.reject(r9H);break;case 4:w=this.An.time.ba();return this.cs.then(function(){var E11;E11=2;for(;E11 !== 1;){switch(E11){case 2:return new Promise(function(v){var F11;F11=2;for(;F11 !== 1;){switch(F11){case 2:u.xn.RV(m.pq,q,function(x){var G11;G11=2;for(;G11 !== 5;){switch(G11){case 2:x=x.reduce(function(y,z){var H11,A;H11=2;for(;H11 !== 9;){switch(H11){case 2:A=z.substr(0,z.lastIndexOf("."));H11=1;break;case 5:return y;break;case 4:y[A]?y[A].push(z):y[A]=[z];H11=3;break;case 3:return y;break;case 1:var f9H="drmH";f9H+="eader.__e";f9H+="mbed__";H11=-1 !== A.indexOf(f9H)?5:4;break;}}},{});u.wPb(x,p).then(function(y){var I11,z,A;I11=2;for(;I11 !== 8;){switch(I11){case 1:return v();break;case 2:I11=void 0 === t || void 0 === y?1:5;break;case 5:(z=u.An.time.ba() - w,A=!1);I11=4;break;case 4:var R9H="mediacache";R9H+="l";R9H+="ook";R9H+="up";var A9H="No con";A9H+="tent data f";A9H+="ound for ";l.fa(y) || l.fa(y.data) || !l.kh(y.data)?u.H.trace(A9H + q,t):A=!0;u.rN(R9H,{p5:z,U1:A});v(y);I11=8;break;}}},function(){var J11;J11=2;for(;J11 !== 1;){switch(J11){case 4:v();J11=8;break;J11=1;break;case 2:v();J11=1;break;}}});G11=5;break;}}});F11=1;break;}}});break;}}});break;}}};n.prototype.JHb=function(q,p){var K11,t,u;K11=2;for(;K11 !== 5;){switch(K11){case 2:(t=this,u=this.An.time.ba());return this.cs.then(function(){var L11;L11=2;for(;L11 !== 1;){switch(L11){case 4:return t.Hhb(q);break;L11=1;break;case 2:return t.Hhb(q);break;}}}).then(function(w){var M11;M11=2;for(;M11 !== 5;){switch(M11){case 8:return t.Djb(q.toString(),p,u);break;M11=4;break;case 2:M11=w?1:4;break;case 1:return t.Djb(q.toString(),p,u);break;case 4:var P9H="mediacach";P9H+="eloo";P9H+="kup";t.rN(P9H,{p5:t.An.time.ba() - u,U1:!1});M11=5;break;}}});break;}}};r11=3;break;case 3:n.prototype.VRb=function(q,p){var N11,t,u,w,v,x,y;N11=2;for(;N11 !== 13;){switch(N11){case 2:(t=this,u=[q.K,q.Ma,m.Jab].join("."),w=this.An.time.ba(),v=h.WTa(q),x={});x[u + "." + m.jaa]={Yp:v,yd:m.zD};x[u + "." + m.jbb]={Yp:g.vB(q.yg.map(function(z){var O11;O11=2;for(;O11 !== 1;){switch(O11){case 2:return z.data;break;}}})),yd:m.zD};N11=4;break;case 3:v={timescale:q.stream.Y.U,startTicks:q.stream.Y.Dk,offset:q.stream.Y.Gd(0)};y=q.stream.Y.AN;x[u + "." + m.Vya]={Yp:v,yd:m.zD};N11=7;break;case 4:N11=q.stream.Be && !l.fa(q.stream.Y)?3:14;break;case 7:x[u + "." + m.Bab]={Yp:y.sizes.buffer,yd:m.zD};N11=6;break;case 14:this.xn.g3a(m.pq,x,function(z){var P11;P11=2;for(;P11 !== 5;){switch(P11){case 2:z || (z=t.An.time.ba() - w,q.Tl && (l.fa(q.Tl.Ad.Fr) && (q.Tl.Ad.Fr=0),q.Tl.Ad.Fr+=z));p();P11=5;break;}}});N11=13;break;case 6:x[u + "." + m.Aab]={Yp:y.gd.buffer,yd:m.zD};N11=14;break;}}};n.prototype.URb=function(q,p,t){var Q11,v,x,y,u,w;Q11=2;for(;Q11 !== 14;){switch(Q11){case 5:(v=this.An.time.ba(),x=[q.K,q.Ma,q.Mc].join("."));q=h.ika(q);y={};Q11=9;break;case 1:Q11=w instanceof ArrayBuffer?5:6;break;case 2:(u=this,w=q.response);Q11=1;break;case 9:y[x + "." + m.jaa]={Yp:q,yd:m.zD};l.fa(w) || (y[x + "." + m.qcb]={Yp:w,yd:m.zD});this.xn.g3a(m.pq,y,function(z){var R11;R11=2;for(;R11 !== 5;){switch(R11){case 2:var Y9H="Fai";Y9H+="l";Y9H+="ed to s";Y9H+="ave fra";Y9H+="gment";z?u.H.warn(Y9H,z):(z=u.An.time.ba() - v,l.fa(p.Ad.Fr) && (p.Ad.Fr=0),p.Ad.Fr+=z);t();R11=5;break;}}});Q11=14;break;case 6:var C9H="Unable to save fragment because resp";C9H+="onse";C9H+=" is not an Arra";C9H+="yBuffer";t(Error(C9H));Q11=14;break;}}};n.prototype.WRb=function(q){var S11,p,t,u,w,v,x,y,A,B,U11,F,C,D,E,V11,G,J,K,H,W11,X11,Y11,Z11,a21,b21,z;S11=2;for(;S11 !== 20;){switch(S11){case 2:(w=this,v=this.An.time.ba(),x={},y=h.sUa(q));x.movieEntry=y;S11=5;break;case 7:y={};(A=q.data,B=Object.keys(q.data));try{U11=2;for(;U11 !== 6;){switch(U11){case 8:y[F]=B;U11=7;break;case 5:(F=E.value,C=A[F]);B={};U11=3;break;case 2:(D=c.__values(B),E=D.next());U11=1;break;case 3:U11=C?9:7;break;case 1:U11=!E.done?5:6;break;case 9:try{V11=2;for(;V11 !== 7;){switch(V11){case 4:V11=K instanceof d.XX && K.response instanceof ArrayBuffer && !l.fa(K.Mc)?3:8;break;case 1:V11=!J.done?5:7;break;case 2:(G=(t=void 0,c.__values(C)),J=G.next());V11=1;break;case 5:K=J.value;V11=4;break;case 9:B[K.Mc]={mediaType:H.mediaType,streamId:H.streamId,movieId:H.movieId,bitrate:H.bitrate,location:H.location,serverId:H.serverId,saveToDisk:H.saveToDisk,offset:H.offset,bytes:H.bytes,timescale:H.timescale,startTicks:H.startTicks,durationTicks:H.durationTicks,response:K.response};V11=8;break;case 3:H=h.ika(K);V11=9;break;case 8:J=G.next();V11=1;break;}}}catch(P){t={error:P};}finally{W11=2;for(;W11 !== 1;){switch(W11){case 2:try{X11=2;for(;X11 !== 1;){switch(X11){case 2:J && !J.done && (u=G.return) && u.call(G);X11=1;break;}}}finally{Y11=2;for(;Y11 !== 5;){switch(Y11){case 2:Y11=t?1:5;break;case 1:throw t.error;Y11=5;break;}}}W11=1;break;}}}U11=8;break;case 7:E=D.next();U11=1;break;}}}catch(P){var L;L={error:P};}finally{Z11=2;for(;Z11 !== 1;){switch(Z11){case 2:try{a21=2;for(;a21 !== 1;){switch(a21){case 2:E && !E.done && (p=D.return) && p.call(D);a21=1;break;}}}finally{b21=2;for(;b21 !== 5;){switch(b21){case 2:b21=L?1:5;break;case 3:b21=L?2:8;break;b21=L?1:5;break;case 1:throw L.error;b21=5;break;case 9:throw L.error;b21=3;break;b21=5;break;}}}Z11=1;break;}}}S11=13;break;case 5:S11=q.headers?4:8;break;case 8:S11=q && q.data?7:12;break;case 4:z={};Object.keys(q.headers).forEach(function(P){var T11,I;T11=2;for(;T11 !== 5;){switch(T11){case 2:I=h.UTa(q.headers[P]);z[P]=I;T11=5;break;}}});S11=9;break;case 9:x.headers=z;S11=8;break;case 13:x.data=y;S11=12;break;case 12:L={lifespan:259200};this.Yhb && (L.convertToBinaryData=!0);this.xn.save(m.pq,q.K,x,L,function(P){var c21;c21=2;for(;c21 !== 1;){switch(c21){case 2:var x9H="savet";x9H+="od";x9H+="isk";P || w.rN(x9H,{h3a:w.An.time.ba() - v});c21=1;break;}}});S11=20;break;}}};r11=7;break;case 20:n.prototype.GTb=function(q){var L21,p;L21=2;for(;L21 !== 4;){switch(L21){case 2:var F9H="me";F9H+="diac";F9H+="a";F9H+="che";p=new f.yh();p.on(this.xn,F9H,function(t){var M21;M21=2;for(;M21 !== 4;){switch(M21){case 2:M21=t.keys || t.items?1:5;break;case 1:t.keys || t.items.map(function(u){var N21;N21=2;for(;N21 !== 1;){switch(N21){case 4:return u.key;break;N21=1;break;case 2:return u.key;break;}}});M21=5;break;case 5:var I9H="m";I9H+="e";I9H+="diacache";q.emit(I9H,t);M21=4;break;case 7:q.emit("",t);M21=5;break;M21=4;break;}}});L21=5;break;case 5:var L9H="mediaca";L9H+="ch";L9H+="e-";L9H+="error";p.on(this.xn,L9H,function(t){var O21;O21=2;for(;O21 !== 5;){switch(O21){case 2:var j9H="m";j9H+="ed";j9H+="ia";j9H+="c";j9H+="ache";var g9H="e";g9H+="r";g9H+="r";g9H+="o";g9H+="r";t.type=g9H;q.emit(j9H,t);O21=5;break;}}});L21=4;break;}}};return n;break;}}})();b.mCa=a;r.uf(f.EventEmitter,a);},function(r,b,a){var c,f,k,l,d;c=a(10);k=[];d=!1;r.exports={EL:function(g,h,m){var n;if(d)c.Oc(m) && (f.Km || f.XF?setTimeout(function(){m(f);},0):k.push(m));else {d=!0;n=a(125);n.bU(g);l=new n.Console("MEDIACACHE","media|asejs");f=new (a(429))(h,function(q){q && l.warn("Failed to initialize MediaCache",q);c.Oc(m) && setTimeout(function(){m(f);},0);k.map(function(p){setTimeout(function(){p(f);},0);});});}return f;},J5b:function(g,h){f=new (a(429))(g,function(m,n){m && l.warn("Failed to initialize MediaCache",m);c.Oc(h) && setTimeout(function(){h(n);},0);});}};},function(r,b,a){var f,k,l,d,g;function c(h){this.zq=h;this.context=h.context;this.l_a="NULLCONTEXT" === h.context?!0:!1;}f=a(10);k=a(125);l=new k.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(h,m,n,q,p){p("MediaCache is not supported");},remove:function(h,m,n){n("MediaCache is not supported");},create:function(h,m,n,q){q("MediaCache is not supported");},append:function(h,m,n,q){q("MediaCache is not supported");},query:function(h,m,n){n([]);}};c.prototype.IE=function(){var h,m,n;h=Array.prototype.slice.call(arguments);m=h[0];n=h[h.length - 1];h=h.slice(1,h.length - 1);h.push(function(q){n(null,q);});try{if(this.l_a)throw Error("Media Cache not supported");m.apply(this.zq,h);}catch(q){n(q);}};c.prototype.query=function(h,m,n,q){try{if(this.l_a)throw Error("Media Cache not supported");this.zq.query(h,m,function(p){n(null,p);},q);}catch(p){n(p);}};c.prototype.read=function(h,m,n,q,p){this.IE(this.zq.read,h,m,n,q,p);};c.prototype.remove=function(h,m,n){this.IE(this.zq.remove,h,m,n);};c.prototype.create=function(h,m,n,q){this.IE(this.zq.create,h,m,n,q);};c.prototype.append=function(h,m,n,q){this.IE(this.zq.append,h,m,n,q);};c.prototype.info=function(h){this.IE(this.zq.info,h);};c.prototype.validate=function(h){this.IE(this.zq.validate,h);};c.prototype.flush=function(h){this.IE(this.zq.flush,h);};c.prototype.clear=function(){this.zq.clear();};r.exports={Fsb:function(h){var m,n,q,p,t;m=h.f5b || "NRDMEDIADISKCACHE";g=h.yS || 0;0 !== g || f.fa(k.options) || f.fa(k.options.dM) || (g=k.options.dM);h=g;try{q=k.storage.fvb;if(!q || !f.kh(q))throw (l.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=q[m]){l.warn("Disk store exists, returning");p=new c(n);}else {if(f.fa(k.storage) || !f.Oc(k.storage.zPa) || k.options && 0 === k.options.dM)throw (l.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");l.warn("Disk store context doesn't exist, creating with size " + h);t=k.storage.zPa({context:m,size:h,encrypted:!0,signed:!0});if(!t || !t.valid)throw "Failed to create disk store context";p=new c(t);}}catch(u){l.warn("Exception creating disk store context - returning NullContext (noops)",u);p=new c(d);}return p;},eAb:function(){return g;},R_b:c};},function(r,b,a){var g,h,m,n,q,p,t,u,w;function c(){}function f(v,x,y,z,A){var B;B=g.Oc(z)?z:c;this.Ju=v;this.ag=y.$u;this.tx=0;this.Sgb=y.$wb || "NONE";this.bx=g.fa(A) || g.tb(A)?0:A;this.oe={};this.Yr=y.m7b || h.storage.zP;this.Du=x;this.TJ=q.create(this.Du,y.Itb * this.bx,this.Ju);this.on=this.addEventListener=w.addEventListener;this.removeEventListener=w.removeEventListener;this.emit=this.Ua=w.Ua;this.KJa=l(this,f.xe.REPLACE);this.shb=l(this,f.xe.tIa);this.BE;this.BE=y.j7a?a(927):a(928);this.Du.query(this.Yr,this.Lp(""),(function(D,E){var F;if(D)B(D);else {F=this.TJ.dka();D=Object.keys(E).filter(function(C){return C !== F && p.KL(C);}).map(this.Mta.bind(this));this.f7(D,(function(C,G){Object.keys(G).map((function(J){var K,H;K=G[J];this.oe[p.F2(J)]=K;if(K.Ara && 1 < Object.keys(K.Ara).length){H=0;Object.keys(K.Ara).forEach((function(L){E[this.Lp(L)] && g.ya(E[this.Lp(L)].size) && (H+=E[this.Lp(L)].size);}).bind(this));J=p.F2(J);this.oe[J].size=H;}else (J=p.F2(J),E[this.Lp(J)] && (this.oe[J].size=E[this.Lp(J)].size));}).bind(this));k(this.Du,this.Yr,this.Ju,(function(J,K){this.tx=K;J?B(J):B(null,this);}).bind(this));}).bind(this));}}).bind(this));}function k(v,x,y,z){var A;A=g.Oc(z)?z:c;v.query(x,y,function(B,D){B?A(B):(B=Object.keys(D).reduce(function(E,F){return E + (D[F].size || 0);},0),A(null,B));});}function l(v,x){return function(y,z,A,B,D){return function(E,F){var C;if(E)(z || v.Ua(f.xe.wf,{itemKey:y,error:E}),A(E));else {C={gk:0,duration:0,items:[],time:h.time.now()};Object.keys(F.actions).map(function(G){var J;J=F.actions[G];G={key:v.Mta(J.W4),xk:G};J.W?(C.gk+=J.gk,G.V4=J.gk,g.ya(J.duration) && (C.duration+=J.duration)):G.error=J.error;C.items.push(G);});E=g.Oc(B)?B():0;0 < D && (C.zK=D - E);k(v.Du,v.Yr,v.Ju,function(G,J){G?A(G):(v.tx=J,C.Hm=v.ag - J,z || v.Ua(x,u.pTa(C)),A(null,C));});}};};}function d(v,x){return 0 < x && v >= x?!0:!1;}g=a(10);h=a(125);m=a(254);b=a(84);n=new h.Console("MEDIACACHE","media|asejs");q=a(923);p=a(430);t=a(126);u=a(255);w=a(431).EventEmitter;b({xe:{tIa:"writeitem",REPLACE:"replaceitem",R$:"journalupdate",wf:"mediacache-error"}},f);f.prototype.qBb=function(){return this.Ju;};f.prototype.Mta=function(v){return v.slice(this.Ju.length + 1);};f.prototype.Xja=function(){return Object.keys(this.oe).filter((function(v){v=p.vja(this.oe[v]);return void 0 === v || 0 >= v.bPa();}).bind(this));};f.prototype.CBb=function(){return Object.keys(this.oe).reduce((function(v,x){var y;y=this.oe[x];return y && y.creationTime < v.creationTime?{resourceKey:x,creationTime:y.creationTime}:v;}).bind(this),{resourceKey:null,creationTime:h.time.now()}).n8b;};f.prototype.rAb=function(){var v;switch(this.Sgb){case "FIFO":v=this.CBb();}return v;};f.prototype.yub=function(v){var x;x=g.Oc(v)?v:c;this.aUa((function(y){var z,A,B;z=this.oe;A=Object.keys(z).reduce(function(D,E){E=z[E];E.resourceIndex && Object.keys(E.resourceIndex).forEach(function(F){D.push(F);});return D;},[]);if((y=y.filter(function(D){return !p.KL(D) && 0 > A.indexOf(D);})) && 0 < y.length){B=this;y=h.Promise.all(y.map(function(D){return new h.Promise(function(E,F){B.delete(D,function(C){C?F(C):E();});});})).then(function(){x(void 0,{Uqa:!0});},function(D){x(D,{Uqa:!1});});u.Uv(y);}else v(void 0,{Uqa:!1});}).bind(this));};f.prototype.KPb=function(v,x,y){var z,A;z=g.Oc(x)?x:c;x=this.Lp(v);A=h.time.now();this.Du.read(this.Yr,x,0,-1,(function(B,D){var E;if(B)z(B);else if(D && D.W && D.value){g.Oc(y) || (y=this.BE.uT(t.qq.mD),p.KL(v)?y=this.BE.uT(t.qq.kZ):(B=this.oe[v],!g.fa(B) && g.ya(B.resourceIndex[v])?(B=B.resourceIndex[v],g.fa(B) && (B=t.qq.mD),y=this.BE.uT(B)):n.warn("Metadata is undefined or does not contain a resource format for key",v,":",B)));try{E=y(D.value);}catch(F){return z(m.JI.kq(F.message));}D={duration:h.time.now() - A};this.oe[v] && g.ya(this.oe[v].size) && (D.Lx=g.ya(this.oe[v].size)?this.oe[v].size:0);z(null,E,D);}else z(m.JI.kq(D.error));}).bind(this));};f.prototype.read=function(v,x,y){this.KPb(v,x,y);};f.prototype.f7=function(v,x,y){var z,A,B;z=g.Oc(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(v))z(m.JI.kq("item keys must be an array"));else {A={};B=[];v=h.Promise.all(v.map((function(D){return new h.Promise((function(E,F){var C;y && !g.fa(y[D]) && (C=this.BE.uT(y[D]));this.read(D,function(G,J,K){G?(J={},J[D]=G,F(J)):(A[D]=J,B.push({duration:K.duration,Lx:K.Lx}),E());},C);}).bind(this));}).bind(this))).then(function(){var D;D={};0 < B.length && (D=B.reduce(function(E,F){g.ya(F.duration) && (E.duration+=F.duration);g.ya(F.Lx) && (E.Lx+=F.Lx);return E;},{duration:0,Lx:0}));z(null,A,D);},function(D){z(D);});u.Uv(v);}};f.prototype.write=function(v,x,y,z,A){var B,D,E;y=g.Oc(y)?y:c;B=this.Lp(v);D="function" === typeof A?A():0;E=t.Uka(x);E=this.BE.Gka(E)(x);E.byteLength + this.tx >= this.ag?y(m.ZH):d(E.byteLength + D,this.bx)?y(m.ZZ):this.TJ.save(this.Yr,B,x,this.shb(v,z,y,A,this.bx),E.byteLength);};f.prototype.replace=function(v,x,y,z,A){var B,D,E,F;B=g.Oc(y)?y:c;D=this.Lp(v);E=0;"function" === typeof A && (E=A());y=t.Uka(x);F=this.BE.Gka(y)(x);y=(this.oe[v] || ({})).size || 0;0 >= y && this.oe[v]?this.CUa([v],(function(C){n.trace("Replacing key",v,"which exists:",! !this.oe[v],this.oe[v]?this.oe[v]:void 0,"and has size",C,"with",x,"with size",F.byteLength,"plus _used",this.tx,"vs capacity",this.ag);F.byteLength - C + this.tx >= this.ag?B(m.ZH):d(F.byteLength - C + E,this.bx)?B(m.ZZ):this.TJ.replace(this.Yr,D,x,this.KJa(v,z,B,A,this.bx),F.byteLength);}).bind(this)):(n.trace("Replacing key",v,"which exists:",! !this.oe[v],this.oe[v]?this.oe[v]:void 0,"and has size",y,"with",x,"with size",F.byteLength,"plus _used",this.tx,"vs capacity",this.ag),F.byteLength - y + this.tx >= this.ag?B(m.ZH):d(F.byteLength - y + E,this.bx)?B(m.ZZ):this.TJ.replace(this.Yr,D,x,this.KJa(v,z,B,A,this.bx),F.byteLength));};f.prototype.VQb=function(v,x,y,z){var A;A=g.Oc(x)?x:c;"[object Object]" !== Object.prototype.toString.call(v)?A(m.YZ.kq("items must be a map of keys to objects")):(x=h.Promise.all(Object.keys(v).map((function(B){return new h.Promise((function(D){this.replace(B,v[B],function(E,F){E?D({error:E,Yp:B}):D(F);},!0,z);}).bind(this));}).bind(this))).then((function(B){var D,E,F,C;try{D=Number.MAX_VALUE;E=B.reduce(function(G,J){J.error || (G.gk+=J.gk,g.ya(J.duration) && (G.duration+=J.duration),!g.fa(J.Hm) && J.Hm < D && (D=J.Hm),J.items.map(function(K){G.items.push({key:K.key,xk:K.xk,V4:K.V4,bIb:K.bIb,duration:K.duration});}),D < Number.MAX_VALUE && (G.Hm=D));return G;},{gk:0,items:[],time:h.time.now(),duration:0});0 < this.bx && (E.zK=this.bx - z());F=B.filter(function(G){return !g.fa(G.error);});C=u.sVa(F);y || (C?C.forEach((function(G){this.Ua(f.xe.wf,G);}).bind(this)):this.Ua(f.xe.REPLACE,u.pTa(E)));A(C,E);}catch(G){A(G);}}).bind(this),(function(B){y || this.Ua(f.xe.wf,B);A(B);}).bind(this)),u.Uv(x));};f.prototype.delete=function(v,x){var y;y=g.Oc(x)?x:c;this.Du.remove(this.Yr,this.Lp(v),(function(z,A){z?y(z):A && A.W?k(this.Du,this.Yr,this.Lp(""),(function(B,D){B?y(B):(this.tx=D,y());}).bind(this)):y(m.p$a.kq(A.error));}).bind(this));};f.prototype.aUa=function(v){this.query("",function(x,y){x?(n.error("Failed to get keys",x),v([])):v(y);});};f.prototype.query=function(v,x){var y,z;y=g.Oc(x)?x:c;z=this.TJ.dka();this.Du.query(this.Yr,this.Lp(v),(function(A,B){A?y(A):y(null,Object.keys(B).filter(function(D){return D !== z;}).map(this.Mta.bind(this)));}).bind(this));};f.prototype.Lp=function(v){return this.Ju + "." + v;};f.prototype.clear=function(v){var x;x=g.Oc(v)?v:c;this.aUa((function(y){var z;z=h.Promise.all(y.map((function(A){return new h.Promise((function(B){A && this.delete(A,function(){B();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(A){this.Ua(f.xe.wf,A);x([],A);}).bind(this));u.Uv(z);}).bind(this));};f.prototype.CUa=function(v,x){var y,z;y=g.Oc(x)?x:c;z=(v || []).map((function(A){return this.Lp(A);}).bind(this));this.Du.query(this.Yr,this.Ju,(function(A,B){A?(n.error("failed to get persisted size for keyset ",v,A),y(0)):(A=Object.keys(B).filter(function(D){return 0 <= z.indexOf(D);}).reduce(function(D,E){return D + (B[E].size || 0);},0),y(A));}).bind(this));};f.prototype.Ezb=function(v){return this.TJ.fTa(v);};f.prototype.constructor=f;r.exports=f;},function(r,b,a){var f,k,l,d,g,h,m,n;function c(q,p,t){var A,B;function u(D,E,F,C){D.info.call(D,(function(G,J){var K;if(G)C(G);else {try{K=J.values[this.context].entries[E][F].size;}catch(H){K=-1;}-1 < K?C(null,K):this.validate(function(H,L){H?C(H):(L[F] && (K=L[F].size),C(null,K));});}}).bind(D));}function w(D,E,F,C,G,J,K){var H;J?J.actions || (J.actions={}):J={actions:{}};A(C);H=k.time.now();C=new m(function(L,P){D.create(k.storage.zP,E,F,function(I,O){I?P(I):L(O);});}).then(function(L){L.W?u(D,k.storage.zP,E,function(P,I){P?K(P):(B(I),A(I),J.actions[c.RX.R$]={W:!0,time:G,gk:I,W4:E,M1a:L,duration:k.time.now() - H},J.Hm=L.Hm,K(null,J));}):(J.actions[c.RX.R$]={W:!1,W4:E,error:L.error},K(null,J));},function(L){K(L);});g.Uv(C);}function v(D,E,F,C,G,J){C.Gp(F.time,F);for(var K=F.time - 864E5,H=C.Ov();H && !isNaN(H.time) && H.time < K;){H=C.DK();A(0 - (H.da || 0));H=C.Ov();}C=C.ro().map(function(L){return L.time + ";" + L.da;});w(D,E,Array.prototype.join.call(C,"|"),F.da,F.time,G,J);}function x(D,E,F,C,G,J,K,H,L){var P;P=k.time.now();D.create(F,C,G,function(I,O){var N;if(I)h.error("Failed to replace item",C,I);else if(O.W){N=O.Hm;u(D,F,C,function(M,Q){var S,fa;if(M)L(M);else {M={time:H,da:Q || 0};S={Hm:N,actions:{}};fa=k.time.now() - P;S.actions[c.RX.REPLACE]={W:!0,time:H,gk:Q,W4:C,M1a:O,duration:fa};J?v(D,E,M,K,S,L):(A(Q),L(null,S));}});}else L(l.YZ.kq(O.error || "Failed to create item"));});}function y(D,E,F,C,G,J,K,H,L){var P;P=k.time.now();D.append(F,C,G,function(I,O){var N;if(I)(h.error("Failed to save item " + C,I),L(I));else if(O.W){N=O.Hm;u(D,F,C,function(M,Q){var S,fa;if(M)L(M);else {M={time:H,da:Q || 0};S={Hm:N,actions:{}};fa=k.time.now() - P;S.actions[c.RX.xeb]={W:!0,time:H,gk:Q,W4:C,M1a:O,duration:fa};J?v(D,E,M,K,S,L):(A(Q),L(null,S));}});}else L(l.YZ.kq(O.error || "Failed to save item"));});}function z(D,E){D && f.Oc(D.remove) && D.zq.valid && D.remove(k.storage.zP,E.xJ,function(F,C){if(F)h.error("Failed to delete old journal key",F);else try{C && (f.fa(C.error) || C.error.some(function(G){return "NFErr_FileNotFound" === G.x5b;})) && v(D,E.xJ,{time:0,da:0},E.XQ,0,function(){});}catch(G){}});}if(!q.zq.valid)return n;this.fJa=f.fa(p) || f.tb(p)?0:p;this.Fca=q;this.jda=this.iQ=0;this.XQ=new d();this.jjb=t || "default";this.xJ=this.jjb + ".NRDCACHEJOURNALKEY";A=(function(D){isNaN(D) || (this.iQ+=D);return this.iQ;}).bind(this);B=(function(D){isNaN(D) || (this.jda+=D);return this.jda;}).bind(this);this.dka=function(){return this.xJ;};this.save=function(D,E,F,C){var G;G=k.time.now();y(this.Fca,this.xJ,D,E,F,0 <= this.fJa,this.XQ,G,C);};this.replace=function(D,E,F,C){var G;G=k.time.now();x(this.Fca,this.xJ,D,E,F,0 <= this.fJa,this.XQ,G,C);};this.fTa=function(D){var E,G;E=this.iQ;D-=864E5;for(var F=this.XQ.ro(),C=0;C < F.length;C++){G=F[C];G.time < D && !isNaN(G.da) && (E-=G.da);}return E;};(function(D){var E;E=D.Fca;D.iQ=0;E.read(k.storage.zP,D.xJ,0,-1,function(F,C){var G,J,K,L;G=[];J=0;K=!0;if(F)h.error("Failed to compile records",F);else if(C.W){F=String.fromCharCode.apply(null,new Uint8Array(C.value));F=String.prototype.split.call(F,"|");C=F.reduce(function(P,I){return P + (I.length + 40);},0);A(C);G=F.map(function(P){P=P.split(";");return {time:Number(P[0]),da:Number(P[1])};});try{if(!isNaN(G.reduce(function(P,I){return P + I.da;},0))){K=!1;for(var H=k.time.now() - 864E5;J < G.length;J++){L=G[J];L.time < H || (D.XQ.Gp(L.time,L),A(L.da));}}}catch(P){}}K && z(E,D);});})(this);}f=a(10);k=a(125);l=a(254);d=a(924);b=a(84);g=a(255);h=new k.Console("DISKWRITEMANAGER","media|asejs");m=k.Promise;b({RX:{xeb:"saveitem",REPLACE:"replaceitem",R$:"journalupdate"}},c);n={save:function(q,p,t,u){u(l.EBa);},replace:function(q,p,t,u){u(l.EBa);},dka:function(){return "";},fTa:function(){return 0;}};c.prototype.constructor=c;r.exports={create:function(q,p,t){return new c(q,p,t);},Y1b:n};},function(r){function b(f){if(!(this instanceof b))return new b(f);if("undefined" === typeof f)this.om=function(k,l){return k <= l;};else {if("function" !== typeof f)throw Error("heap comparator must be a function");this.om=f;}this.No=[];}function a(f,k){var l,d,g,h,m,n,q;l=f.No;d=f.om;g=2 * k + 1;h=2 * k + 2;m=l[k];n=l[g];q=l[h];n && d(n.priority,m.priority) && (!q || d(n.priority,q.priority))?(c(l,k,g),a(f,g,d)):q && d(q.priority,m.priority) && (c(l,k,h),a(f,h,d));}function c(f,k,l){var d;d=f[k];f[k]=f[l];f[l]=d;}b.prototype.clear=function(){this.No=[];};b.prototype.Gp=function(f,k){this.No.push({priority:f,value:k});f=this.No;k=this.om;for(var l=f.length - 1,d=0 === l?null:Math.floor((l - 1) / 2);null !== d && k(f[l].priority,f[d].priority);){c(f,l,d);l=d;d=0 === l?null:Math.floor((l - 1) / 2);}};b.prototype.remove=function(){var f;if(0 !== this.No.length){f=this.No[0];c(this.No,0,this.No.length - 1);this.No.pop();a(this,0);return f.value;}};b.prototype.Ov=function(){if(0 !== this.No.length)return this.No[0].value;};b.prototype.enqueue=b.prototype.Gp;b.prototype.DK=b.prototype.remove;b.prototype.G4=function(){return 0 === this.No.length;};b.prototype.ro=function(){return this.No.map(function(f){return f.value;});};r.exports=b;},function(r){function b(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.fd)return (this.fd={},this.fd[c]=[f],!0);k=this.fd[c];return void 0 === k?(this.fd[c]=[f],!0):0 > k.indexOf(f)?(k.push(f),!0):!1;}function a(c,f){c=this.fd?this.fd[c]:void 0;if(!c)return !1;c.forEach(function(k){k(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.fd)return !1;k=this.fd[c];if(void 0 === k)return !1;f=k.indexOf(f);if(0 > f)return !1;if(1 === k.length)return (delete this.fd[c],!0);k.splice(f,1);return !0;},Ua:a,emit:a,removeAllListeners:function(c){this.fd && (void 0 === c?delete this.fd:delete this.fd[c]);return this;}};},function(r){function b(c,f,k,l){c.trace(":",k,":",l);f(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,k,l){k=l?k.bind(l):k;l=!1;if(c){this.console && (k=b.bind(null,this.console,k,f));if("function" === typeof c.addEventListener)l=c.addEventListener(f,k);else if("function" === typeof c.addListener)l=c.addListener(f,k);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,k]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var k,l;k=f[0];l=f[1];f=f[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,f):"function" === typeof k.removeListener && k.removeListener(l,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,f,k,l;c=a(10);f=a(126);k={};k[f.qq.mD]=function(d){return d;};k[f.qq.IZ]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};k[f.qq.kZ]=function(d){var g;g=d || new ArrayBuffer(0);d="";g=new Uint8Array(g);for(var h=0;h < g.byteLength;h++){d+=String.fromCharCode(g[h]);}return JSON.parse(d);};l={};l[f.qq.mD]=function(d){return d;};l[f.qq.IZ]=function(d){for(var g=new ArrayBuffer(d.length),h=new Uint8Array(g),m=0,n=d.length;m < n;m++){h[m]=d.charCodeAt(m);}return g;};l[f.qq.kZ]=function(d){return c.fa(d) || c.tb(d)?d:l[f.qq.IZ](JSON.stringify(d));};r.exports={uT:function(d){return k[d] || k[f.qq.mD];},Gka:function(d){return l[d] || l[f.qq.mD];}};},function(r,b,a){function c(k){return k;}function f(){return c;}a(10);r.exports={uT:f,Gka:f};},function(r,b,a){var k;function c(l,d){return l.length > d.length?1:d.length > l.length?-1:0;}function f(l,d){var g,h,m;g=[];if(k.kh(d)){h={};m={};m[l]=h;g.push(m);g=Object.keys(d).reduce(function(n,q){var p,t,u;p=d[q];t={};if(k.C4(p)){u=l + ".__embed__." + q;t[u]=p;n.push(t);}else k.kh(p)?(u=l + ".__sub__." + q,p=f(u,p),h[q]=p[0][u],n=n.concat(p.slice(1))):h[q]=p;return n;},g);}else (m={},m[l]=d,g.push(m));return g;}k=a(126);r.exports={evb:f,cFb:function(l){var d,g,h,u;d=Object.keys(l).map(function(w){return w.split(".");});d.sort(c);g=d[0];h=g.length;g=l[g.join(".")];for(var m=1;m < d.length;m++){for(var n=!1,q=!1,p=g,t=h;t < d[m].length;t++){u=d[m][t];switch(u){case "__metadata__":break;case "__sub__":q=!0;break;case "__embed__":n=!0;break;default:q?(p=p[u],q=!1):n && (p[u]=l[d[m].join(".")],n=!1);}}}return g;},MFb:function(l){return l && (0 <= l.indexOf("__sub__") || 0 <= l.indexOf("__embed__"));}};},function(r,b,a){var l,d;function c(g,h,m){Object.keys(g).forEach(function(n){var q,p;if(l.kh(g[n]))if(g[n].C4){q=g[n];p=m + q.offset;g[n]=h.slice(p,p + q.byteLength);}else g[n]=c(g[n],h,m);});return g;}function f(g,h,m){Object.keys(g).forEach(function(n){var q;if(l.C4(g[n])){q=g[n];h.push(q);g[n]={C4:!0,offset:m.mha,byteLength:q.byteLength};m.mha+=q.byteLength;}else l.kh(g[n]) && f(g[n],h,m);});return g;}function k(){var g,h,m;g=Array.prototype.concat.apply([],arguments);h=g.reduce(function(n,q){return n + q.byteLength;},0);m=new Uint8Array(h);g.reduce(function(n,q){m.set(new Uint8Array(q),n);return n + q.byteLength;},0);return m.buffer;}l=a(126);d=a(84);r.exports={Iqb:function(g){var h,m,n;h=d(g,{});g=[];h=f(h,g,{mha:0});h=JSON.stringify(h);m=new ArrayBuffer(h.length + 4);n=new DataView(m);n.setUint32(0,h.length);for(var q=4,p=0,t=h.length;p < t;p++){n.setUint8(q,h.charCodeAt(p));q++;}g=[m].concat(g);return k.apply(null,g);},Hqb:function(g){for(var h=new DataView(g,0,4).getInt32(0),m=new Uint8Array(g,4,h),n="",q=0;q < m.byteLength;q++){n+=String.fromCharCode(m[q]);}h=4 + h;n=JSON.parse(n);return c(n,g,h);}};},function(r,b,a){var f,k,l,d,g;function c(h){return {mediaType:h.mediaType,streamId:h.Ma,movieId:h.K,bitrate:h.bitrate,location:h.location,serverId:h.zd,saveToDisk:!0,offset:h.offset,bytes:h.da,timescale:h.U,frameDuration:h.stream.pa && h.stream.pa.Xb,encrypted:h.lk,initSegments:1 < h.yg.length?h.yg.map(function(m){return {fi:m.Md,s:m.data.byteLength,e:! !m.lk};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.kma=b.lma=b.PWa=b.sUa=b.UTa=b.WTa=b.ika=b.mka=b.lka=b.Cja=b.Dja=b.DBa=void 0;f=a(2).__importStar(a(10));k=a(932);l=a(404);d=a(9);g=a(22);b.DBa={IBa:"movieEntry",Jab:"header",jaa:"metadata",jbb:"headerData",R0b:"headerMetadata",Bab:"sizes",Aab:"durations",Vya:"fragments",qcb:"response",pq:"billboard",zD:{lifespan:259200}};b.Dja=function(h,m,n){var q,p;q=m.headerData;n && m.sizes instanceof ArrayBuffer && m.durations instanceof ArrayBuffer && (p={Dk:n.startTicks,offset:n.offset,U:n.timescale,sizes:new Uint32Array(m.sizes),gd:new Uint32Array(m.durations)});return {Pc:!0,mediaType:h.mediaType,K:h.movieId,Ma:h.streamId,bitrate:h.bitrate,location:h.location,zd:h.serverId,da:h.bytes,offset:h.offset,nla:q,m4:h.initSegments,lk:h.encrypted,U:h.timescale,pa:h.frameDuration,th:h.saveToDisk,Y:p};};b.Cja=function(h,m){var n,q,p;m=m.response;n=h.startTicks;q=h.durationTicks;void 0 !== n && void 0 !== q && (p=n + q);return {Pc:!1,mediaType:h.mediaType,K:h.movieId,Ma:h.streamId,bitrate:h.bitrate,location:h.location,zd:h.serverId,da:h.bytes,offset:h.offset,response:m,U:h.timescale,Ya:h.startTicks,np:q,th:h.saveToDisk,kb:p};};b.lka=function(h){return {priority:h.priority,K:h.movieId,headers:{},AL:0,mS:0,OVa:0,th:h.saveToDisk,Ad:h.stats,nv:h.firstSelectedStreamBitrate,Hy:h.initSelectionReason,YB:h.histDiscountedThroughputValue,Vn:h.histTdigest,Un:h.histAge,Fn:void 0};};b.mka=function(h,m,n,q,p){var t,u;t={headers:{},data:{}};q.forEach(function(w){var v,x,A;v=w.mediaType;v=p && p.tv(v,w.Ma);x=[];if(w.Pc)if(!Array.isArray(w.m4) || 2 > w.m4.length)x.push({Md:0,data:w.nla});else for(var y=0,z=0;z < w.m4.length;++z){A=w.m4[z];x.push({Md:A.fi,data:w.nla.slice(y,y + A.s),lk:A.e});y+=A.s;}v?(w.Y && v.t6(x,w.U,w.pa?new g.S(w.pa,w.U):void 0,w.Y),w.Pc && v && v.Be?(void 0 === t.headers && (t.headers={}),t.headers[w.Ma]=new l.YX(v,{da:w.da,offset:w.offset,yg:x,lk:w.lk},m)):w.response instanceof ArrayBuffer && void 0 !== v.Y && void 0 !== w.Ya && void 0 !== w.U && void 0 !== w.kb && (x=v.Y.K2(new g.S(w.Ya,w.U).V),void 0 !== x && (v=new k.kva(v,{U:w.U,Ya:w.Ya,kb:w.kb,index:x.index,offset:w.offset,da:w.da},w.response,n,h,m),void 0 === t.data && (t.data={}),t.data[w.Ma] || (t.data[w.Ma]=[]),t.data[w.Ma].push(v)))):m.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + w.Ma + " movieId: " + w.K);});if(!f.fa(t.data)){u=t.data;Object.keys(u).forEach(function(w){u[w].sort(function(v,x){return v.Ya - x.Ya;});});}return t;};b.ika=function(h){return {mediaType:h.mediaType,streamId:h.Ma,movieId:h.K,bitrate:h.bitrate,location:h.location,serverId:h.zd,saveToDisk:!0,offset:h.offset,bytes:h.da,timescale:h.U,startTicks:h.Ya,durationTicks:h.np};};b.WTa=c;b.UTa=function(h){var m,n,q,p;m=c(h);if(h.stream.Be && h.stream && h.stream.Y){n={timescale:h.stream.Y.U,startTicks:h.stream.Y.Dk,offset:h.stream.Y.Gd(0)};q=h.stream.Y.AN;p=q.sizes.buffer;q=q.gd.buffer;}return {mediaType:m.mediaType,streamId:m.streamId,movieId:m.movieId,bitrate:m.bitrate,location:m.location,serverId:m.serverId,saveToDisk:!0,offset:m.offset,bytes:m.bytes,timescale:m.timescale,frameDuration:m.frameDuration,headerData:d.vB(h.yg.map(function(t){return t.data;})),initSegments:m.initSegments,encrypted:h.lk,fragments:n,sizes:p,durations:q};};b.sUa=function(h){return {priority:h.priority,movieId:h.K,saveToDisk:h.th,firstSelectedStreamBitrate:h.nv,initSelectionReason:h.Hy,histDiscountedThroughputValue:h.YB,histTdigest:h.Vn,histAge:h.Un};};b.PWa=function(h){return !f.has(h,"startTicks");};b.lma=function(h){return !h.nla || !h.U || !h.Y || void 0 === h.Y.Dk || void 0 === h.Y.offset || void 0 === h.Y.gd || !h.Y.gd.length || void 0 === h.Y.sizes || !h.Y.sizes.length;};b.kma=function(h){return void 0 === h.da || void 0 === h.offset || void 0 === h.U || void 0 === h.Ya || void 0 === h.np;};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.kva=void 0;c=a(2);f=a(9);r=a(43);k=a(98);a=(function(l){function d(g,h,m,n,q,p){n=l.call(this,g,h,n,q,p) || this;h.da=m.byteLength;k.fm.nb(n,g,h);n.JJ=m;n.agb=h.da;return n;}c.__extends(d,l);Object.defineProperties(d.prototype,{Pc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$s:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{af:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ti:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Lg:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.JJ;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{PHb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{VK:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Pqa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.agb;},enumerable:!1,configurable:!0}});d.prototype.Zs=function(){return !0;};d.prototype.RE=function(g){this.Ne=g.appendBuffer(this.response,f.Jp(this));return {W:this.Ne};};d.prototype.Kh=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.Lc=function(){};d.prototype.o8=function(){return !1;};return d;})(a(242).WH);b.kva=a;r.uf(k.fm,a);},function(r,b,a){var c,f,k,l,d,g,h,m,n,q;Object.defineProperties(b,{__esModule:{value:!0}});b.IGa=void 0;c=a(2);r=a(16);f=a(67);k=c.__importDefault(a(5));l=a(15);d=a(256);g=a(9);h=a(6);m=a(989);n=a(383);q=new k.default.Console("ASEJS","media|asejs");q.trace.bind(q);r=(function(p){function t(u,w,v,x){var Q21,y;Q21=2;for(;Q21 !== 11;){switch(Q21){case 8:var i9H="D";i9H+="EBU";i9H+="G";i9H+=":";var b9H="nf-";b9H+="a";b9H+="se shim version:";u=a(432);y.console=q;y.console.trace(b9H,u,i9H,!1);Q21=14;break;case 2:y=p.call(this) || this;y.config=u;y.Mx=w;y.ap=v;y.ZC=x;y.iH={};Q21=8;break;case 14:var S9H="1SIY";S9H+="bZr";S9H+="NJCp";S9H+="9";y.Pa=d.IF();S9H;return y;break;}}}var P21;P21=2;for(;P21 !== 18;){switch(P21){case 11:var n7H="s";n7H+="0";t.prototype.zb=function(){var e31;e31=2;for(;e31 !== 9;){switch(e31){case 2:var l7H="Attempted to destruct ShimManager with session co";l7H+="nfig a";l7H+="ctive";var y7H="Attempted to destru";y7H+="ct ";y7H+="ShimM";y7H+="anager with players";y7H+=" present in ASE";var e7H="Attempted";e7H+=" ";e7H+="to destruct ShimManager with playgraphs pr";e7H+="esent in ASE";h.assert(0 === this.Pa.FC.length,e7H);h.assert(0 === this.Pa.Z0a.length,y7H);h.assert(0 === Object.keys(this.iH).length,l7H);e31=4;break;case 4:var G7H="Attempt to destruct ShimMana";G7H+="ger ";G7H+="wi";G7H+="th latest session still defined";h.assert(void 0 === this.h5,G7H);e31=3;break;case 3:this.Pa.close();e31=9;break;}}};t.prototype.Zka=function(u,w){var b7H=a000;var f31;f31=2;for(;f31 !== 1;){switch(f31){case 2:b7H.r7Q(5);return b7H.Z7Q(w,"-",u);break;case 4:b7H.f7Q(22);return b7H.Z7Q(w,"",u);break;f31=1;break;}}};t.oub=n7H;return t;break;case 14:t.prototype.Kpb=function(){var b31;b31=2;for(;b31 !== 1;){switch(b31){case 2:this.Hb.vN(null);b31=1;break;}}};t.prototype.Ls=function(u,w){var c31;c31=2;for(;c31 !== 1;){switch(c31){case 2:return this.iH[this.Zka(w,u)];break;case 4:return this.iH[this.Zka(w,u)];break;c31=1;break;}}};t.prototype.LQb=function(u){var d31,w,v;d31=2;for(;d31 !== 13;){switch(d31){case 3:u.Ia && this.Pa.XM(u.Ia);u.Cg && this.Pa.Kt(u.Cg);u.Nj && this.Pa.XM(u.Nj);u === this.h5 && delete this.h5;this.Pa.cra(this.iH[w]);d31=14;break;case 2:this.Kpb();(w=this.Zka(u.aa,u.ca),v=this.iH[w]);v && (v.FB=!0);this.Pa.Kt(u.qa);d31=3;break;case 14:delete this.iH[w];d31=13;break;}}};P21=11;break;case 2:c.__extends(t,p);Object.defineProperties(t.prototype,{Hb:{get:function(){var R21;R21=2;for(;R21 !== 1;){switch(R21){case 2:return this.Pa.Hb;break;case 4:return this.Pa.Hb;break;R21=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Om:{get:function(){var S21;S21=2;for(;S21 !== 1;){switch(S21){case 2:return this.Pa.Om;break;case 4:return this.Pa.Om;break;S21=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mh:{get:function(){var T21;T21=2;for(;T21 !== 1;){switch(T21){case 2:return this.Pa.mh;break;case 4:return this.Pa.mh;break;T21=1;break;}}},enumerable:!1,configurable:!0}});t.prototype.nb=function(u,w,v,x,y,z,A,B){var U21;U21=2;for(;U21 !== 5;){switch(U21){case 2:this.Pa.lsa({audio:u,video:w,jfa:A,wua:B},{V:x,da:y});this.Pa.open(this.config,this.ZC);U21=5;break;}}};P21=9;break;case 9:t.prototype.GW=function(u,w,v){var V21;V21=2;for(;V21 !== 1;){switch(V21){case 2:this.Pa.lsa({total:u},{V:w,da:v});V21=1;break;}}};t.prototype.createSession=function(u,w,v,x,y,z,A,B,D,E){var W21,C,F;W21=2;for(;W21 !== 19;){switch(W21){case 8:E=this.ftb(F,u,B.$0a,B,y,E || t.oub,x);C=E[0];D=C.Da.xa[C.Da.Qe].jc;W21=14;break;case 2:var a7H="cr";a7H+="e";a7H+="ating sessi";a7H+="on";this.console.trace(a7H);this.Pa.Hb.reset();F=Number(u.movieId);D=this.Zka(F,y.ca);this.iH[D]={fOa:function(){},ca:y.ca,equals:function(G){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:return G.aa === F && (y.ca === G.ca || !G.ca || !y.ca);break;}}},FB:!1,Lr:Promise.resolve({sa:u,Ji:! !x.Ji,Fd:l.H5(! !x.DR,! !x.cD),config:B}),aa:F};B.jy && this.Pa.QC(this.iH[D],{Nv:y.Nv,ca:y.ca,Rq:y.Rq});W21=8;break;case 14:var z7H="endPts is not s";z7H+="uppor";z7H+="ted";C=[this.JT(F,C.Da,v,D)];E[1] && C.push(this.JT(F,E[1].Da,v,D));h.assert(void 0 === x.Ea,z7H);this.h5=new m.JGa(this.console,this,u,E,w,C,x,y,z,A,B);B.Gq || B.tG || this.Mx();return this.h5;break;}}};t.prototype.JT=function(u,w,v,x){var Y21;Y21=2;for(;Y21 !== 1;){switch(Y21){case 2:var h7H="invalid start po";h7H+="sition re";h7H+="lative to playgr";h7H+="aph";return w.xa[w.Qe].jc === x?(u=n.Vga(w,u,g.S.mb(v)),h.assert(u,h7H),u):{va:w.Qe,offset:g.S.ab};break;}}};t.prototype.ftb=function(u,w,v,x,y,z,A){var Z21,B,D,E,F,C,G;Z21=2;for(;Z21 !== 7;){switch(Z21){case 2:var K7H="v";K7H+="i";K7H+="d";K7H+="e";K7H+="o";var U7H="a";U7H+="u";U7H+="dio";var k7H="a";k7H+="u";k7H+="dio";var J7H="v";J7H+="i";J7H+="d";J7H+="e";J7H+="o";var s7H="Gener";s7H+="ated playgr";s7H+="aph ";s7H+="from cho";s7H+="icemap.";(B=this,D=w.choiceMap);D?(u=f.sB(D,{config:x}),this.console.trace(s7H)):u=f.mH(u,z,A.DR || A.cD?A.cD?[J7H]:[k7H]:[U7H,K7H]);(E=Object.create(x,{kia:{value:y.Rq},ESa:{value:y.ns}}),F=this.Ls.bind(this,y.ca),C=[this.Pa.NE(u,v,E,{Ls:F})]);Z21=4;break;case 4:Z21=D && D.KMb?3:8;break;case 8:return C;break;case 3:G=D.KMb;Z21=9;break;case 9:Object.keys(G).forEach(function(J,K){var a31;a31=2;for(;a31 !== 9;){switch(a31){case 2:var Q7H="C";Q7H+="urrently only one parallel graph is s";Q7H+="upporte";Q7H+="d";a000.r7Q(23);h.assert(a000.H7Q(0,K),Q7H);K=G[J];a31=5;break;case 5:var o7H="Curren";o7H+="tly par";o7H+="allel graph can only be med";o7H+="ia typ";o7H+="e [audio]";var m7H="a";m7H+="ud";m7H+="i";m7H+="o";h.assert(K.Fd && 1 === K.Fd.length && m7H === K.Fd[0],o7H);J=f.sB(D,c.__assign(c.__assign({},G[J]),{config:x}));C.push(B.Pa.NE(J,v,E,{Ls:F}));a31=9;break;}}});Z21=8;break;}}};P21=14;break;}}})(r.EventEmitter);b.IGa=r;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F,C,G,J,K,H,L,P,I,O;Object.defineProperties(b,{__esModule:{value:!0}});b.Zua=void 0;c=a(2);f=a(16);k=a(381);l=a(230);d=a(935);g=a(226);h=a(15);a(220);m=a(936);n=a(940);q=a(968);p=a(428);t=a(30);u=a(6);w=a(410);v=a(969);x=a(970);y=a(971);z=a(114);A=a(258);B=a(972);D=a(68);E=a(257);F=a(9);C=c.__importDefault(a(5));G=a(973);J=a(974);K=a(975);H=a(976);L=a(54);P=a(438);I=a(987);O=a(988);r=(function(){function N(M){this.H=M;this.events=new f.EventEmitter();this.Jc=k.Nr.CLOSED;this.vx=[];this.KW=[];this.QQ=[];this.Oo=[];this.PIa={};this.r0={};this.cta=k.rO.default;this.xkb=new z.DA({qt:this,source:"engine",sC:10,console:M});}Object.defineProperties(N.prototype,{Ct:{get:function(){u.assert(this.lx);return this.lx;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{state:{get:function(){return this.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Z0a:{get:function(){return this.QQ;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{FC:{get:function(){return this.Oo.map(function(M){return M.Da;});},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{XNb:{get:function(){return this.Oo;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Hb:{get:function(){this.yH();return this.Sx.Hb;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{Om:{get:function(){this.yH();return this.Sx.Om;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{mh:{get:function(){this.yH();return this.Sx.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{UYb:{get:function(){return this.vx.length;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{g1:{get:function(){return this.PIa;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{oH:{get:function(){return this.r0;},enumerable:!1,configurable:!0}});Object.defineProperties(N.prototype,{xJb:{get:function(){return this.nKa || (this.nKa=this.sob());},enumerable:!1,configurable:!0}});N.prototype.open=function(M,Q,S,fa){var qa;qa=this;if(this.Jc === k.Nr.OPEN)return !1;this.I=M;this.xo=new D.XP(new E.NZ({uk:!0,currentTime:function(){return F.S.mb(C.default.time.ba());},speed:1}),this.H,"Engine Scheduler");this.IJa=new d.lza(this.H,M);this.WA=new q.gGa(this.U4.bind(this),M,this.xo);this.Sx=g.bI.BUa(M,Q);this.Jc=k.Nr.OPEN;M=Object.create(M,{Ylb:{value:M.tG || M.Gq}});this.lx=P.DT(M);S && this.lx.jTb(S);fa && this.lx.rsa(fa);this.a1a=new I.pFa({Gl:function(){qa.Jc !== k.Nr.CLOSED && qa.WA.Gl("playgraphOpportunity");}});this.oKa=new K.CCa(function(){return qa.v3();},function(){return qa.w3().global;},this.H);this.ltb();return !0;};N.prototype.NE=function(M,Q,S,fa,qa){var xa,ua,X,sa;xa=this;void 0 === qa && (qa=!0);this.yH();ua=Object.create(S,{BN:{value:this.oH}});if(qa){X=this.Ct.Cpb(M,ua);if(X)return (X.W6a(Q),X);}sa=new n.tva(M,Q,ua,N.CKb++,this.Hb,this.o7.bind(this,fa,S.XYb),function(T,R){var ca,ja;ja=fa.Ls(T);T=null === (ca=t.vg(xa.vx,function(Pa){return Pa.cS.equals(ja);})) || void 0 === ca?void 0:ca.N;return null === T || void 0 === T?void 0:T.Fm(ua,R);},function(T){return xa.WA.Gl(T);},qa?this.Ct.Bpb.bind(this.Ct):function(){},this.v3.bind(this));sa.ei(new x.YGa(sa));sa.ei(new y.sHa(sa.yt));sa.eYa.ei(new H.yva(sa));this.px.$M.forEach(function(T){return sa.ei(T);});this.a1a.NE(sa);M=new f.yh();M.on(sa.events,"requestsPruned",this.mRb.bind(this));M.on(sa.events,"weightUpdated",this.qpa.bind(this));M.on(sa.events,"underflow",this.Lj.bind(this,sa));this.Oo.push({Da:sa,zg:M,$V:0});this.qpa();return sa;};N.prototype.Lj=function(M){M=this.oKa.Fyb(M);(null === M || void 0 === M?0:M.f2) || this.Ct.reset();};N.prototype.Kt=function(M){this.a1a.Kt(M);this.Oo=this.Oo.filter(function(Q){return Q.Da === M?(Q.zg.clear(),!1):!0;});M.zb();this.qpa();};N.prototype.YLa=function(M,Q){var S,fa,qa;this.yH();qa=Q.Fd;M=new m.sva(M,void 0 === qa?[0,1]:qa,c.__assign({BN:null !== (fa=null !== (S=Q.BN) && void 0 !== S?S:this.r0) && void 0 !== fa?fa:{}},Q));this.QQ.push(M);return M;};N.prototype.XM=function(M){this.yH();this.QQ=this.QQ.filter(function(Q){return Q !== M;});M.zb();};N.prototype.lsa=function(M,Q){this.PIa=M;this.r0=Q;this.nKa=void 0;};N.prototype.QC=function(M,Q){var S,fa;fa=null === (S=t.vg(this.vx,function(qa){return qa.cS.equals(M);})) || void 0 === S?void 0:S.N;fa?fa.QC(c.__assign(c.__assign({},Q),{Pm:this.Loa.bind(this)})):this.KW.push({D7a:M,t4a:Q});};N.prototype.cra=function(M){this.KW=this.KW.filter(function(Q){return !Q.D7a.equals(M);});};N.prototype.close=function(){this.Jc !== k.Nr.CLOSED && (this.AQb(),u.assert(0 === this.vx.length,"Unexpected viewable lease after Playgraph destruction."),this.zQb(),this.KW=[],delete this.Sx,this.Jc=k.Nr.CLOSED,this.xo.zb());};N.prototype.rTb=function(M){this.cta=M;this.WA.Gl("streamingModeChanged");};N.prototype.Qn=function(){return this.px.Qn();};N.prototype.ltb=function(){this.px=new L.vba(this.I);this.px.ei(new G.Dya(this));this.px.ei(new B.iGa(this.Hb,this.WA));this.px.ei(new v.zya(this.Hb));this.px.ei(new A.CA(this.xkb));this.px.ei(new A.CA(this.WA.Yn));this.px.ei(new A.CA(this.IJa.Qh));this.px.ei(new A.CA(this.oKa.Qh));};N.prototype.Loa=function(){};N.prototype.o7=function(M,Q,S){var fa,qa,xa;fa=this;qa=M.Ls(S);u.assert(qa,"ase.requestViewable(): Viewable config not found.");xa=t.vg(this.vx,function(ua){return !0 !== ua.cS.FB && ua.cS.equals(qa);});xa?xa.FX.then(function(ua){return c.__awaiter(fa,void 0,void 0,function(){var X,sa;return c.__generator(this,function(T){switch(T.label){case 0:return (sa=(X=ua).TXb,[4,qa.Lr]);case 1:return (sa.apply(X,[T.Yd()]),[2]);}});});}):(xa={cS:qa,FX:(function(){return c.__awaiter(fa,void 0,void 0,function(){var ua,X;return c.__generator(this,function(sa){switch(sa.label){case 0:return [4,qa.Lr];case 1:return (ua=sa.Yd(),X=this.kS(S,qa,ua),xa.N=X,[2,X]);}});});})(),N:void 0,eHb:new w.KAa(function(ua){ua() && xa.cS.FB?fa.gra(xa):fa.xo.tK(D.nj.eD(F.S.mb(Q)),function(){ua() && fa.gra(xa);},"viewable cleanup");},F.er(C.default,this.H,"" + S))},this.vx.push(xa));return {get N() {return null === xa || void 0 === xa?void 0:xa.N;},FX:xa.FX,Xma:xa.eHb.wx()};};N.prototype.gra=function(M){var Q,S;u.assert(M,"expected viewableEntry to exist");Q=M.N;S=M.FX;Q?Q.zb():S.then(function(fa){fa.zb();});this.vx=this.vx.filter(function(fa){return fa !== M;});};N.prototype.kS=function(M,Q,S){var qa,xa,ua,X,sa,T;function fa(R){qa.events.emit("logdata",R);}qa=this;this.yH();ua=S.sa;X=S.Ji;sa=S.Fd;sa=void 0 === sa?h.ff:sa;S=S.config;T=[new p.paa(0),new p.paa(1)];ua={sa:ua,config:S,Ji:X,Fd:sa,b3:void 0,Hb:this.Sx.Hb,mh:this.Sx.mh,ORa:{ML:function(){return !1;},Xq:function(){return qa.WA.Gl("networkFailureReset");},rh:this.rh.bind(this,M),Lm:this.Lm.bind(this,M),Qm:fa},NVa:{Qm:fa,IT:void 0,LB:function(R){return T[R];},E4:function(){return !0;},nf:void 0,ql:void 0,Ng:void 0,XB:void 0},eN:{yx:this.yx.bind(this),PG:this.PG.bind(this)},oH:this.r0,Fb:0,io:void 0,iZa:{gma:!1,dXa:!1},gV:function(){}};M=new l.I9(M,ua);S.jy && (ua=(null === (xa=t.vg(this.KW,function(R){return R.D7a.equals(Q);})) || void 0 === xa?void 0:xa.t4a) || ({}),this.cra(Q),M.QC(c.__assign(c.__assign({},ua),{Pm:this.Loa.bind(this)})));return M;};N.prototype.U4=function(){var M,Q;u.assert(this.state === k.Nr.OPEN);M=this.w3();Q=this.tL();return this.IJa.N_a(M,Q);};N.prototype.tL=function(){var M,Q,S;M=this;S=null !== (Q=this.I.vOb) && void 0 !== Q?Q:this.Oo.every(function(fa){return !fa.Da.W3;});Q=t.flatten(this.Oo.map(function(fa){return fa.Da.tL().map(function(qa){fa.Da.W3 || 1 === fa.$V || (qa.OF=fa.$V);return qa;});}));this.cta === k.rO.disabled?Q=[]:this.cta === k.rO.jIb && (Q=Q.filter(function(fa){return F.S.mb(M.I.Lna).Sn(fa.Uj.Aa(fa.vd));}));S || (S=Q.filter(function(fa){var qa;return 1 === (null !== (qa=fa.OF) && void 0 !== qa?qa:1);}),S.length && (Q=S));S=this.vx.reduce(function(fa,qa){return qa.N?c.__spread(fa,qa.N.tL()):fa;},[]);return t.flatten(c.__spread(Q,S));};N.prototype.yH=function(){if(this.Jc === k.Nr.CLOSED)throw Error("Engine CLOSED");};N.prototype.AQb=function(){var M,fa;try{for(var Q=c.__values(this.Oo),S=Q.next();!S.done;S=Q.next()){fa=S.value;fa.zg.clear();this.Kt(fa.Da);}}catch(xa){var qa;qa={error:xa};}finally{try{S && !S.done && (M=Q.return) && M.call(Q);}finally{if(qa)throw qa.error;}}};N.prototype.zQb=function(){var M;try{for(var Q=c.__values(this.QQ),S=Q.next();!S.done;S=Q.next()){this.XM(S.value);}}catch(qa){var fa;fa={error:qa};}finally{try{S && !S.done && (M=Q.return) && M.call(Q);}finally{if(fa)throw fa.error;}}};N.prototype.rh=function(M,Q,S,fa,qa,xa){this.GUa(M).forEach(function(ua){return ua.rh(Q,M,S,fa,qa,xa);});};N.prototype.Lm=function(M){return this.GUa(M).some(function(Q){return Q.Lm();});};N.prototype.GUa=function(M){return this.Oo.filter(function(Q){Q=Q.Da.Da;return "" + M === "" + Q.xa[Q.Qe].aa;}).map(function(Q){return Q.Da;});};N.prototype.w3=function(){var M;M=new J.jza();this.Oo.forEach(function(Q){var S,fa;S=Q.Da;Q=Q.$V;fa=S.w3();fa.OF=Q;M.add(S.id,fa);});return M;};N.prototype.v3=function(){return this.xJb;};N.prototype.sob=function(){var M,Q;Q=O.bOa(this.I,this.g1);return {total:(M={},M[1]=this.g1.video || Infinity,M[0]=this.g1.audio || Infinity,M.total=this.g1.total || Infinity,M),Tsa:Q};};N.prototype.yx=function(M){this.WA.yx(M);};N.prototype.PG=function(M){this.WA.PG(M);};N.prototype.qpa=function(){var M;M=this.FC.reduce(function(Q,S){return Math.max(S.weight,0) + Q;},0);this.Oo.forEach(function(Q){Q.$V=0 >= Q.Da.weight?0:Q.Da.weight / M;});};N.prototype.mRb=function(){};N.CKb=0;c.__decorate([z.Rb({methodName:"open"})],N.prototype,"open",null);c.__decorate([z.Rb({methodName:"addPlaygraph",context:function(M){var Q,S;return {playgraphCount:null !== (S=null === (Q=M.C_a.Oo) || void 0 === Q?void 0:Q.length) && void 0 !== S?S:0};}})],N.prototype,"NE",null);c.__decorate([z.Rb({methodName:"removePlaygraph",context:function(M){return {playgraphCount:M.C_a.Oo.length};}})],N.prototype,"Kt",null);c.__decorate([z.Rb({methodName:"close"})],N.prototype,"close",null);c.__decorate([z.Rb({methodName:"setStreamingMode",Hq:!0})],N.prototype,"rTb",null);c.__decorate([z.Rb({methodName:"notifyAseException",Hq:!0})],N.prototype,"Loa",null);c.__decorate([z.Rb({methodName:"requestViewable"})],N.prototype,"o7",null);c.__decorate([z.Rb({methodName:"removeViewable"})],N.prototype,"gra",null);c.__decorate([z.Rb({methodName:"createViewable"})],N.prototype,"kS",null);c.__decorate([z.Rb({methodName:"issueRequestOpportunity",Kl:!0,return:!0})],N.prototype,"U4",null);c.__decorate([z.Rb({methodName:"reportStreamingFailure",Hq:!0})],N.prototype,"rh",null);return N;})();b.Zua=r;},function(r,b,a){var f,k,l,d,g,h,m,n;function c(q,p){return q.filter(function(t){return t.groupId === p.groupId;}).reduce(l.yZa(function(t){return t.kz.V;}),p).kz;}Object.defineProperties(b,{__esModule:{value:!0}});b.lza=void 0;f=a(2);k=a(220);l=a(30);d=a(15);g=a(9);h=a(114);m=f.__importDefault(a(5));n=a(433);r=(function(){function q(p,t){this.H=p;this.config=t;this.MXa=0;this.Qh=new h.DA({sC:10,qt:this,source:"GraphStreamingProcess"});}q.prototype.N_a=function(p,t){var u,w,v,x,y,z,A,B,F,C,G,J,K;v=!1;x=[];if(0 < t.length){y=this.sUb(t);z=y.some(function(L){return 1 === n.dOa(L) && d.$q(L.kf);});A=y.slice();B=[!1,!1];try{for(var D=f.__values(y),E=D.next();!E.done;E=D.next()){F=E.value;if(F.ZF && "global" !== B[F.mediaType]){C=F.oXa(p,null !== (w=F.OF) && void 0 !== w?w:1);G=k.U1a(C.reason);G && (B[F.mediaType]=G,l.PMa(A,F));if(C.result){J=c(A,F);if(this.qpb(F,z,J)){K=F.sXa();this.kna(x,F,K.reason);K.Hp && (this.MXa=m.default.time.ba());if(v=K.Hp)break;}else if((this.kna(x,F,"concurrencyCheck"),!G))break;}else this.kna(x,F,C.reason);}}}catch(L){var H;H={error:L};}finally{try{E && !E.done && (u=D.return) && u.call(D);}finally{if(H)throw H.error;}}}this.Qh.Su({streamableCount:t.length,streamableReasons:x,lastSuccessfulIssueRequestMs:this.MXa});return v;};q.prototype.sUb=function(p){return this.TOb(p).sort(function(t,u){return t.priority - u.priority;}).map(function(t){return t.YUb;});};q.prototype.TOb=function(p){var t;t=this;return p.map(function(u){return {priority:-n.cOa(t.config,u,t.H),YUb:u};});};q.prototype.kna=function(p,t,u){this.Qh.enabled && p.push(this.xCb(u,t));};q.prototype.xCb=function(p,t){return {mediaType:t.mediaType,reason:p,bufferingState:t.kf,currentPlayerMs:t.vd.V,pathCompletePlayerMs:t.kz.V,streamingPlayerMs:t.Uj.V};};q.prototype.qpb=function(p,t,u){return this.config.RR && (t || d.$q(p.kf))?this.rpb(p,u):this.spb(p,u);};q.prototype.tpb=function(p){return p.Uj.zv(p.kz);};q.prototype.spb=function(p,t){var u;u=p.kz.Aa(p.vd).V;u=Math.max(this.config.ooa,Math.min(u * this.config.$sa,this.config.aJb));t=p.vd.greaterThan(t)?p.vd:t;return p.Uj.Aa(t).V <= u;};q.prototype.rpb=function(p,t){var u,w;if(void 0 === this.config.RR)return !0;u=g.S.mb(this.config.RR);w=p.vd.add(u);return p.Uj.zv(w)?!0:this.tpb(p) && t.Sn(w) && p.Uj.Aa(t).lessThan(u);};f.__decorate([h.Rb({methodName:"onRequestOpportunity",Kl:!0})],q.prototype,"N_a",null);return q;})();b.lza=r;},function(r,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.sva=void 0;c=a(2);f=a(16);k=a(9);l=a(6);d=c.__importDefault(a(5));g=a(68);h=a(30);m=a(937);r=a(434);n=a(939);a=(function(q){function p(t,u,w){var v;v=q.call(this) || this;v.T=t;v.Fd=u;v.Lu=w;v.FS=[];v.Lca=new f.yh();v.H=new d.default.Console("ASEJS","media|asejs");v.Lca.on(v.T,"underflow",function(){return v.Lj();});v.kQ=new n.ZEa(t);v.Lca.on(v.T,"skipped",function(){return v.nV();});v.kx=new g.XP(v.kQ,v.H,"player");v.Eua=new k.OZ();return v;}c.__extends(p,q);Object.defineProperties(p.prototype,{jw:{get:function(){var t;return null === (t=this.fh) || void 0 === t?void 0:t.jw;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{yt:{get:function(){return this.kx;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Bb:{get:function(){var t,u;return null !== (u=null === (t=this.fh) || void 0 === t?void 0:t.sy()) && void 0 !== u?u:[];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{qa:{get:function(){var t;return null === (t=this.fh) || void 0 === t?void 0:t.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{wa:{get:function(){return this.kQ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Mz:{get:function(){var t;return !(null === (t=this.fh) || void 0 === t || !t.Mz);},enumerable:!1,configurable:!0}});p.prototype.DW=function(t){-1 === this.FS.indexOf(t) && this.FS.push(t);this.fh && this.fh.lV(t);this.events.emit("drmReady",{viewableId:t});};p.prototype.nsa=function(t){t=this.FS.indexOf(t);-1 !== t && this.FS.splice(t,1);};p.prototype.Wn=function(t){var u;return -1 !== this.FS.indexOf(t) || !(null === (u=h.vg(this.Bb,function(w){return w.N.aa === t;})) || void 0 === u || !u.N.Ji);};p.prototype.reset=function(){var t;this.Eua=new k.OZ();q.prototype.reset.call(this);this.sE=void 0;null === (t=this.fh) || void 0 === t?void 0:t.reset();};p.prototype.mW=function(t){var u;q.prototype.mW.call(this,t);null === (u=this.fh) || void 0 === u?void 0:u.mW(t);};p.prototype.$E=function(){var t;null === (t=this.fh) || void 0 === t?void 0:t.$E();};p.prototype.pause=function(t){this.rH(t);q.prototype.pause.call(this,null !== t && void 0 !== t?t:this.Fd);};p.prototype.resume=function(t){var u;null === (u=this.fh) || void 0 === u?void 0:u.resume(t);q.prototype.resume.call(this,null !== t && void 0 !== t?t:this.Fd);};p.prototype.zb=function(){this.fs=this.X3()?this.Dp():void 0;this.fh && this.Qha(this.fh.qa);this.kQ.zb();this.kx.zb();this.Lca.clear();q.prototype.zb.call(this);};p.prototype.kL=function(){var t,u;if(null === (t=this.fh) || void 0 === t?0:t.SOb){t=this.T.wc;if(this.wa.uk){if(this.sE){if(this.sE.greaterThan(t))return (t=this.sE.Aa(t),this.Eua.push(t.V),this.sE);if(this.Bb.length){u=this.fh.cHb;if(u && u.lessThan(t))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Vb:{clockdrift:{type:"count"}}}),this.sE);}}this.sE=t;}return t;}return q.prototype.kL.call(this);};p.prototype.Bp=function(){var t;t=this.T.playbackRate;void 0 === t && (t=q.prototype.Bp.call(this));return t;};p.prototype.X3=function(){return ! !this.fs || 0 < this.Bb.length;};p.prototype.Dp=function(){if(this.fs)return this.fs;l.assert(0 < this.Bb.length,"Could not find presenting branch. Player has no branches.");return this.Nh;};p.prototype.Qha=function(t){var u;l.assert(t === this.qa);null === (u=this.fh) || void 0 === u?void 0:u.zb();this.fh=void 0;};p.prototype.X0=function(t,u){this.fs=void 0;if(u=q.prototype.X0.call(this,t,u))(this.fh=new m.Hva(t,this,this.H,t.config,this.Lu,this.events,this.Fd,this.kx,this.QA,this.PA),this.rH(this.DM));return u;};p.prototype.uia=function(){var w;for(var t=[],u=0;u < arguments.length;u++){t[u]=arguments[u];}w=this.fh;l.assert(w);t.forEach(function(v){return w.Nwb(v);});};p.prototype.gi=function(t){var u,w,v;if(!this.fh)return !1;u=this.d3(t);if(!u)return !1;w=u.P;v=k.S.mb(this.Lu.uC);return w.Ml.Aa(v).lessThan(t) || !u.eS(t)?!1:this.fh.gi(t);};p.prototype.Lj=function(){var t,u,w;u=this.vd;l.assert(this.qa);w=this.mr(u);l.assert(w);null === (t=this.fh) || void 0 === t?void 0:t.Lj();t=this.d3(u);null === t || void 0 === t?void 0:t.N.Lj();this.qa.Lj(w);};p.prototype.nV=function(){this.sE=void 0;};p.prototype.Fja=function(){var t;return null === (t=this.fh) || void 0 === t?void 0:t.Fja();};p.prototype.rH=function(t){var u;null === (u=this.fh) || void 0 === u?void 0:u.rH(t);};p.prototype.Gta=function(t){l.assert(this.qa && this.fh);return q.prototype.Gta.call(this,t);};return p;})(r.hba);b.sva=a;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Hva=void 0;c=a(2);f=a(421);k=c.__importDefault(a(5));l=a(249);a(15);d=a(244);g=a(9);h=a(30);m=a(68);n=a(222);q=a(6);p=a(938);r=(function(){function t(u,w,v,x,y,z,A,B,D,E){var F;F=this;this.qa=u;this.T=w;this.H=v;this.I=x;this.Lu=y;this.Ah=z;this.Fd=A;this.yt=B;this.QA=D;this.PA=E;this.f_=!1;this.vJa=new g.MGa();this.Bda=this.xLb.bind(this);this.pj=new l.$X(this.H);this.jw=new p.MHa(this.H,u);this.btb(this.jw);this.Nk && (this.sjb=this.Eja(this.SBb()),this.Xhb=g.uq.Dua(this.Nk.map(function(C){return C.cz;}),function(C){return C.every(function(G){return G;});},function(C){return F.QA.set(C);}),this.Zfb=new n.Aaa(this.Nk.map(function(C){return C.nU;}),function(C){return g.S.min.apply(g.S,c.__spread(C));},function(C){F.PA.set(C);},g.S.mb(-Infinity)));this.Po=B.xB(function(){return F.Onb();},"branchPruner");}t.prototype.Onb=function(){var u,w,v,x,y,z,A;return c.__generator(this,function(B){switch(B.label){case 0:if(!this.pj.XOa)return [3,2];u=c.__read(this.pj.Ata(),1);w=u[0];v=null !== (A=null === (z=this.Lu.BN) || void 0 === z?void 0:z.V) && void 0 !== A?A:0;x=w.Wma || w.qf;y=x.add(g.S.mb(v + 1E3));return [4,m.nj.fO(y)];case 1:return (B.Yd(),this.pj.remove(w),w.events.removeListener("branchEdited",this.Bda),w.Cf(),[3,0]);case 2:return [2];}});};Object.defineProperties(t.prototype,{SOb:{get:function(){var u;return !(null === (u=this.sjb) || void 0 === u || !u.cz.value);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Mz:{get:function(){var u;return !(null === (u=this.Nk[0]) || void 0 === u || !u.Mz);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{cHb:{get:function(){return this.f_?g.S.max.apply(g.S,c.__spread(this.Nk.map(function(u){var w;return null === (w=u.Jmb) || void 0 === w?void 0:w.HXa;}).filter(h.l6))):void 0;},enumerable:!1,configurable:!0}});t.prototype.xLb=function(){var u;this.Po.pl();u=this.Nk.filter(function(w){return w.sFb;}).map(function(w){return w.mediaType;});this.rH(u);this.resume(u);};t.prototype.Nwb=function(u){u.events.addListener("branchEdited",this.Bda);this.pj.enqueue(u);this.Po.state === m.vl.complete && this.Po.pl();u.P.Xt && this.pj.v2();this.f_ || this.gyb(u);};t.prototype.lV=function(u){this.Nk.forEach(function(w){w.lV(u);});};t.prototype.reset=function(){this.Nk.forEach(function(u){u.reset();});this.f_=!1;this.vJa.removeAllListeners();this.$E();};t.prototype.mW=function(u){u=this.Eja(u);null === u || void 0 === u?void 0:u.reset();};t.prototype.$E=function(){var u;u=this;this.pj.Ata().forEach(function(w){return w.events.removeListener("branchEdited",u.Bda);});this.pj.clear();this.Po.pl();};t.prototype.resume=function(u){this.Nk.forEach(function(w){void 0 !== u && -1 === u.indexOf(w.mediaType) || w.resume();});};t.prototype.rH=function(u){this.Nk.forEach(function(w){return (void 0 === u || -1 !== u.indexOf(w.mediaType)) && w.stop();});};t.prototype.Lj=function(){this.H.trace("attached-player: onUnderflow");};t.prototype.UUa=function(){return this.pj.getIterator();};t.prototype.MAb=function(){return this.sy()[0];};t.prototype.sy=function(){return this.pj.Ata();};t.prototype.btb=function(u){var w,v;w=this;this.Al("createMediaSourceStart");if(this.Lu.BT)v=this.Lu.BT();else (v=new k.default.MediaSource(this.T.T),v.Yb || (v.Yb=k.default.MediaSource.Yb));if(1 !== v.readyState)this.Qo("exception in init","NFErr_MC_StreamingInitFailure");else {this.Al("createMediaSourceEnd");this.Af=v;if(!v.L0(this.Fd))throw (this.H.trace("Error:",v.error),this.Qo("error creating source buffers","NFErr_MC_StreamingInitFailure"),v.error);this.Nk=v.sourceBuffers.filter(function(x){return 0 <= w.Fd.indexOf(x.mediaType);}).map(function(x){var y;y=new d.S9(w.H,x.mediaType,v,x,w.I,!0,{ze:function(){return w.T.vd.V;},Wn:function(z){return w.T.Wn(z.aa);}},w.yt);y.addListener("error",function(z){return w.Qo(z.errorstr);});y.addListener("logdata",function(z){return w.Ah.emit("logdata",z);});return new f.H9(y,x.mediaType,w,w.I,w.H,w.T,w.Lu,w.yt,u);});}};t.prototype.zb=function(){this.Xhb.clear();this.Zfb.clear();this.Nk.forEach(function(u){return u.zb();});this.Lu.BT || this.Af.mp();this.$E();this.Po.zb();};t.prototype.gi=function(u){return this.Nk.every(function(w){return w.gi(u);});};t.prototype.Fja=function(){return {EPb:this.sy(),RNb:this.Nk};};t.prototype.gyb=function(u){var w;w=this;this.f_=!0;u.Rh.forEach(function(v){var x;x=w.Eja(v.mediaType);if(void 0 !== x)w.vJa.once(v.dja,function(y){return x.hyb(y);});});if(u.Nc)this.kRa();else u.events.once("branchNormalized",function(){return w.kRa();});};t.prototype.kRa=function(){var u;u=this.MAb();u && (q.assert(u.Wi),this.Ah.emit("ptsChanged",{initialTimestamp:u.Wi}));};t.prototype.Eja=function(u){return h.vg(this.Nk,function(w){return w.mediaType === u;});};t.prototype.SBb=function(){return -1 !== this.Fd.indexOf(1)?1:0;};t.prototype.Al=function(u){u={type:"startEvent",event:u,time:k.default.time.ba()};this.Ah.emit(u.type,u);};t.prototype.Qo=function(u,w){this.qa.rh(u,void 0,w);};return t;})();b.Hva=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.MHa=void 0;c=a(2).__importDefault(a(5));f=a(40);r=(function(){function k(l,d){this.H=l;this.HJ=d;}k.prototype.TC=function(l,d,g,h,m){var n,q;void 0 === m && (m=!1);n=l.P;q=this.fhb(n);this.fR={startTime:c.default.time.ba(),vUb:l,uUb:g.V,Nvb:d,Zd:this.aBb(h,d),MWb:this.HCb(h,m),Jha:m,Ee:h,tOa:q,BKb:this.uBb(n,g)};};k.prototype.kka=function(l){var d,g,h,m,n,q,p,t,u,w,v,x,y;if(this.fR && 0 !== Object.keys(this.fR.tOa).length && l === this.fR.Nvb){d=this.fR;g=d.tOa;h=d.BKb;m=d.Jha;n=d.Ee;q=d.vUb;p=d.uUb;t=d.startTime;u=d.Zd;d=d.MWb;this.fR=void 0;w=this.Tca(l).Mq;v=this.hzb(q.P.id,l,g);w=this.fKa(v.weight,w);x={};for(y in g){y !== l && (x[y]=g[y].details);}g=c.default.time.ba() - t;return {segment:l,srcsegment:q.P.id,srcsegmentduration:q.D8.V,srcoffset:this.sCb(q,p,n,m),seamlessRequested:n,atRequest:v,atTransition:w,discard:x,transitionType:u,transitionTypeAtRequest:d,delayToTransition:this.Yzb(g,n,m),durationOfTransition:n?0:g,nextExitPositionAtRequest:h};}};k.prototype.hzb=function(l,d,g){var h,m,n;n={};(g=g[d])?n=g.details:(f.assert(this.HJ),n.weight=null === (m=null === (h=this.HJ.Da.xa[l].next) || void 0 === h?void 0:h[d]) || void 0 === m?void 0:m.weight);return n;};k.prototype.Yzb=function(l,d,g){var h;g || (h=d?l:0);return h;};k.prototype.uBb=function(l,d){var g,h,m;h=l.Ug.add(d);null === (g=l.Zv) || void 0 === g?void 0:g.some(function(n){h.lessThan(n.Nc) && (m=n.Nc.V);});return m;};k.prototype.sCb=function(l,d,g,h){return g || h?l.D8.V:d;};k.prototype.aBb=function(l,d){return l?"seamless":this.Tca(d).QT?"reset":"long";};k.prototype.HCb=function(l,d){return l || d?"lazy":"immediate";};k.prototype.fhb=function(l){var d,g;d=this;g={};l.fz.forEach(function(h){var m,n;m=l.EKb[h];n=d.Tca(h).Mq;g[h]={details:d.fKa(m,n)};});return g;};k.prototype.Tca=function(l){var d,g;l=this.HJ.Ija(l);d=0 < l.length?l[0]:void 0;l=null === d || void 0 === d?void 0:d.BF();if(!l)return {QT:!1,Mq:{vo:0,ks:0,Wz:0,oR:0}};g=d && d.Sa(0) && 0 === l.ks;d=d && d.Sa(1) && 0 === l.vo;return {QT:!g && !d,Mq:l};};k.prototype.fKa=function(l,d){return {weight:l,vbuflmsec:d.vo,abuflmsec:d.ks,vbuflbytes:d.Wz,abuflbytes:d.oR};};return k;})();b.MHa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ZEa=void 0;c=a(16);r=a(43);a=(function(){function f(k){var l;l=this;this.T=k;this.hda=!1;this.mE=new c.yh();this.mE.on(k,"paused",function(){return l.z6();});this.mE.on(k,"playing",function(){return l.z6(!0);});this.mE.on(k,"underflow",function(){return l.z6();});this.mE.on(k,"skipped",function(){return l.nV();});this.mE.on(k,"clockAdjusted",function(){return l.kV();});this.mE.on(k,"playbackRateChanged",function(){return l.SLb();});}Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.lLa || this.T.wc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{uk:{get:function(){return this.hda;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){var k;return null !== (k=this.T.playbackRate) && void 0 !== k?k:1;},enumerable:!1,configurable:!0}});f.prototype.z6=function(k){void 0 === k && (k=!1);k !== this.hda && (this.lLa=(this.hda=k)?void 0:this.T.wc);this.emit("stopStart",{type:"stopStart"});};f.prototype.nV=function(){this.lLa=void 0;this.kV();};f.prototype.kV=function(){this.emit("clockAdjusted",{type:"clockAdjusted"});};f.prototype.SLb=function(){this.emit("speedChanged",{type:"speedChanged"});};f.prototype.zb=function(){this.z6();this.mE.clear();};return f;})();b.ZEa=a;r.uf(c.EventEmitter,a);},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F,C,G,J,K,H,L,P,I,O,N,M,Q,S,fa,qa,xa;Object.defineProperties(b,{__esModule:{value:!0}});b.tva=void 0;c=a(2);f=a(16);k=a(223);l=a(15);d=a(941);g=a(9);h=a(942);m=a(943);n=c.__importDefault(a(5));q=a(6);p=a(944);t=a(30);u=a(68);w=a(95);v=a(54);x=a(435);y=a(257);z=a(258);A=a(945);B=a(114);D=c.__importDefault(a(146));E=a(946);F=a(947);C=a(948);G=a(949);J=a(950);K=a(951);H=a(952);L=a(955);P=a(957);I=a(958);O=a(959);N=a(960);M=a(961);Q=a(963);S=a(964);fa=a(965);qa=a(966);xa=a(967);r=(function(){function ua(X,sa,T,R,ca,ja,Pa,wa,Ua,Va){var cb;cb=this;this.HJ=X;this.ELa=sa;this.config=T;this.id=R;this.Sjb=ja;this.Zgb=Pa;this.Gl=wa;this.Dpb=Ua;this.QE="2.0";this.Jc=k.Hk.CLOSED;this.Rca=!0;this.ns=!1;this.DNa=new f.yh();this.DB=0;this.f8=!1;this.BC=function(Ya){var kb,$a;Ya=cb.navigator.Ae(Ya.position.va);if((Ya=cb.oka(Ya)) && cb.T.Tn){$a=cb.T.Nh;null === (kb=cb.T.jw) || void 0 === kb?void 0:kb.TC({P:$a.P,get D8() {return $a.Ld.Aa($a.P.Ug);}},Ya,cb.Mi.offset,!0,!1);}cb.hp.start();};this.lV=function(){cb.Gl("onDrmReady");};this.console=new n.default.Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.Qh=new B.DA({sC:10,qt:this,source:"AsePlaygraph"});this.V3a(X);this.Bb=new L.dFa();this.ii=new qa.fFa(this.console);this.events=new f.EventEmitter();this.cla=new G.kza(this.config,g.S.mb(this.config.y5),{parent:this.YUa.bind(this)},this.events,this.console);this.bta=new m.hHa(this.console,this.events);this.PR={TF:T.jt || Infinity};this.T=new p.Waa(this);this.yt=new u.XP(this.T.wa,this.console,"playgraph");this.xo=new u.XP(new y.NZ({uk:!0,currentTime:function(){return g.S.mb(n.default.time.ba());},speed:1}),this.console,"wallclock");this.Bf=new P.iwa(this.console,T,ca,this.events,this,this.xo);this.d1=new N.bwa(this.yt,this.xo,this.config,this.Ck.bind(this),this.kf,this.console);this.r6=this.Bf.r6.bind(this.Bf);this.oV=this.Bf.oV.bind(this.Bf);this.A6=this.Bf.A6.bind(this.Bf);this.H7=this.H7.bind(this);this.aN=new v.vba(T);S.xPa({Bf:this.Bf,xo:this.xo},u.nj.eD(g.S.mb(this.config.mz)),function(){cb.T.Tn && cb.T.Nh && (cb.Bf.state.value === l.zc.zf || cb.Bf.state.value === l.zc.Yc) && cb.pE(cb.T.Nh);},"buffering");this.aN.ei(new z.CA(this.Bf.Qh));this.aN.ei(new A.zEa(this.IBb.bind(this)));this.aN.ei(new z.CA(this.Qh));this.aN.ei(new E.cFa(this.Bb));this.d5a=new fa.gHa(this,this.console,Va);this.eYa=new F.qBa(this.xo,this.console,this.events);this.hp=new xa.hFa(this.j7.bind(this));}Object.defineProperties(ua.prototype,{state:{get:function(){return this.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{W3:{get:function(){return !(this.T instanceof p.Waa);},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{Da:{get:function(){return this.HJ;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{weight:{get:function(){return this.ELa;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{C7:{get:function(){q.assert(this.zL,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.So.position;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{n3a:{get:function(){q.assert(this.zL,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.TB(this.C7).gF;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{kf:{get:function(){return this.Bf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{cf:{get:function(){return this.Bf.cf;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{zL:{get:function(){return void 0 !== this.So;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{Mi:{get:function(){return this.T.Tn?this.T.Mi:this.C7;},enumerable:!1,configurable:!0}});Object.defineProperties(ua.prototype,{vd:{get:function(){return this.T.Tn?this.T.vd:this.n3a;},enumerable:!1,configurable:!0}});ua.prototype.open=function(){this.Rca=!0;this.events.emit("openComplete");if(this.Jc !== k.Hk.CLOSED)return !1;this.Jc=k.Hk.OPEN;return !0;};ua.prototype.zb=function(){this.xo.zb();this.yt.zb();this.Jc !== k.Hk.CLOSED && (this.Cf(),this.hp.zb(),this.Bf.stop(),this.Jc=k.Hk.CLOSED);};ua.prototype.dw=function(X,sa){var T,R,ca;T=this;this.gNa=X;this.B7a=sa;sa=I.SRa(this.Bb,this.H7.bind(this));X=sa.cpb;sa=sa.Pnb;if(0 !== X.length && 1 === X.length && 0 === X[0]){R=this.Mi;this.T.pause(X);X.forEach(function(ja){return T.T.mW(ja);});ca=this.TB(R).gF;sa.forEach(function(ja){var Pa;Pa=ja.xb;Pa.dw(ja.Rh,R.va === Pa.P.id?ca:void 0,void 0 !== T.Bb.vka(Pa));});this.Bf.iMb(R,sa[0].Rh);this.T.resume(X);}};ua.prototype.iF=function(X){return w.iF(this.config,X);};ua.prototype.jF=function(X){return w.jF(this.config,X);};ua.prototype.uUa=function(X,sa){var T,R;T=this.navigator.Ae(X);R=this.navigator.Ae(sa);return {s7a:T.DDb(sa),i1:sa !== X && this.Bb.has(sa) && this.Bb.sy(sa)[0].tk,Mc:R.Ug.V,nM:this.oka(T)};};ua.prototype.Ck=function(X,sa,T,R){var ca,ja,Pa,wa;ca=this;void 0 === R && (R=!0);if(!sa)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(R && this.ii.get(X))T || this.ii.set(X,sa);else {Pa=this.Ija(X)[0];wa=this.navigator.Ae(X);this.Mi.va === X && Pa && (null === (ja=this.T.jw) || void 0 === ja?void 0:ja.TC({P:Pa.P,get D8() {return Pa.Ld.Aa(Pa.P.Ug);}},sa,this.Mi.offset,R,T));R || (X={offset:g.S.ab,va:sa},this.So={position:X,tk:!0,C6a:X});T?this.ii.PSb(wa.id,sa):this.ii.set(wa.id,sa);this.hp.start();R && wa.Zv && 0 < wa.Zv.length && (q.assert(Pa),Pa.Pta(wa.Zv) && this.Ija(sa).forEach(function(Ua){return ca.Uz(Pa,Ua);}));R || this.Bf.P_a(this.C7);}};ua.prototype.Uz=function(X,sa){var T;T=this;X=X.qf.Aa(sa.P.Ug);sa.Uz(X);this.Bb.Nzb(sa).forEach(function(R){return T.Uz(sa,R);});};ua.prototype.zi=function(X){this.navigator.zi(X);this.hp.start();};ua.prototype.usa=function(X,sa){this.mfa=X;this.Zz=sa;this.Gl("setStreamFilters");};ua.prototype.bH=function(X,sa){var T,R,ca;if(C.lXa(this.Da,X)){ca=this.Mra(X);if(void 0 === ca)this.rh("Invalid seekPosition");else if(void 0 === this.gNa || void 0 === this.B7a)this.rh("No track selectors available");else if(this.W3 && this.T.yL || !C.rVa(null === (T=this.So) || void 0 === T?void 0:T.C6a,ca))(this.zL && (T=this.navigator.Ae(this.Mi.va),null === (R=this.T.jw) || void 0 === R?void 0:R.TC({P:T,D8:T.duration},ca.va,this.Mi.offset,!1),this.Mi.va === X.va?this.ii.Ipb(X.va):this.ii.tga()),this.Cf(!0),this.Hpb(),this.So={position:ca,C6a:ca,tk:!1,UNb:sa},this.Bf.P_a(),this.Jc=k.Hk.ak,this.hp.start());}else this.rh("Invalid seekPosition");};ua.prototype.Cf=function(X){var sa,T,R;R=this.UCb();this.Bb.reset();if(!X && (this.ii.tga(),R.length))try{for(var ca=c.__values(R),ja=ca.next();!ja.done;ja=ca.next()){ja.value.yQb();}}catch(wa){var Pa;Pa={error:wa};}finally{try{ja && !ja.done && (sa=ca.return) && sa.call(ca);}finally{if(Pa)throw Pa.error;}}this.yt.reset();this.xo.reset();this.T.reset();this.So=void 0;this.d1.reset();null === (T=this.DNa) || void 0 === T?void 0:T.clear();this.Jc === k.Hk.ak && (this.Jc=k.Hk.OPEN);};ua.prototype.Ija=function(X){return this.Bb.sy(X);};ua.prototype.Lj=function(X){this.Bf.Lj(X);q.assert(this.T.bG,"Must have an appended branch on underflow");this.d1.Cta(this.T.bG,this.vd);this.Gl("onUnderflow");this.events.emit("underflow");};ua.prototype.ei=function(X){this.aN.ei(X);};ua.prototype.ffa=function(X){this.ei(new x.eGa(X));this.Gmb(X);};ua.prototype.Gmb=function(X){this.T.Gta(X)?(this.T=X,this.yt.XMa(this.T.wa),this.T.events.on("segmentPresenting",this.BC),this.T.events.on("drmReady",this.lV)):this.rh("player in use");};ua.prototype.TB=function(X){var sa,T;sa=X.offset;T=this.navigator.Ae(X.va);X=T.aa;sa=T.Ug.add(sa);return {aa:X,gF:sa};};ua.prototype.mr=function(X,sa){var T;T=this.T.mr(X);if(void 0 !== T)return T;T=this.T.bG;return C.mr(X,{qa:this,VEb:T && ({id:T.P.id,kSb:T.IM})},sa);};ua.prototype.MT=function(X){return this.T.MT(X);};ua.prototype.Mra=function(X){var sa;sa=this.Da.xa[X.va];if(void 0 !== sa)return null === sa.Fc || void 0 === sa.Fc?{va:X.va,offset:g.S.max(g.S.ab,X.offset)}:{va:X.va,offset:g.S.max(g.S.ab,g.S.min(X.offset,g.S.mb(sa.Fc - sa.jc)))};};ua.prototype.Fm=function(X,sa){return this.Zgb(this.Da.xa[X].aa,sa);};ua.prototype.w3=function(){return M.bTa(this.Bb,this.D4.bind(this));};ua.prototype.D4=function(X){X=this.Bb.vka(X);return void 0 === X || X.$o && this.D4(X);};ua.prototype.v3=function(){return this.PR.TF;};ua.prototype.mAb=function(X){return Q.bVa(this.Bb,X);};ua.prototype.Jh=function(X){var sa,T,R;sa=this;this.Bb.fT(function(ca){var ja,Pa;ja=ca.G3(0);Pa=ca.G3(1);if(ca.P.Xt || !sa.Bb.gla(ca) || !ca.$o){if(!T || ja < T)T=ja;if(!R || Pa < R)R=Pa;}return ca.$o;});return {jX:T?Math.max(T - X.V,0):0,kX:R?Math.max(R - X.V,0):0};};ua.prototype.eL=function(){var X,sa,T,R;T=this.zL?this.Jh(this.vd):{jX:0,kX:0};R=D.default.instance().get();return {totalabuflmsecs:T.jX,totalvbuflmsecs:T.kX,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (sa=Number(0 < R.confidence) && (null === (X=R.Oa) || void 0 === X?void 0:X.Ca)) && void 0 !== sa?sa:0};};ua.prototype.tL=function(){var X,sa,T,R,ca,ja,Pa,wa;X=this;if(this.Lm())return (this.Qh.Su({isStreamingFailureReported:!0}),[]);T=this.Bb.size;this.Qh.Su({branchCount:T});if(!this.zL || 0 === T)return [];R=this.vd;ca=this.Mi;ja=[];T=this.navigator.Ae(this.Mi.va);Pa=T.duration;wa=this.ii.get(T.id)?1:null !== (sa=T.Fz) && void 0 !== sa?sa:1;sa=this.Bb.reduce(function(Ua,Va,cb){var Ya,kb,ya,Ia,Ma;try{for(var $a=c.__values(Va.jka()),Ra=$a.next();!Ra.done;Ra=$a.next()){ya=Ra.value;if(!ya.vv()){Ia="p" + X.id + "-" + cb + "-" + (null === (kb=Va.Wi) || void 0 === kb?void 0:kb.V);Ma=X.XUa(ya);Ua.push(X.ntb(ya,Ma,Ia,Pa,wa,R,ca));}!ya.ZF() && X.Qh.enabled && ja.push({segmentId:ya.va,isDoneStreaming:ya.vv(),isNormalized:ya.tk(),needsHeaderRequest:ya.track.woa});}}catch(hb){var Ta;Ta={error:hb};}finally{try{Ra && !Ra.done && (Ya=$a.return) && Ya.call($a);}finally{if(Ta)throw Ta.error;}}return Ua;},[]);this.Qh.Su({nonStreamables:ja});return sa;};ua.prototype.XUa=function(X){var sa;if(X.xea)return X.xea;sa=this.YUa(X);return !sa || this.config.q2 && this.navigator.BDb(sa.xb.P,X.va)?X.D1:this.XUa(sa);};ua.prototype.YUa=function(X){var sa;return null === (sa=this.Bb.vka(X.xb)) || void 0 === sa?void 0:sa.CT(X.mediaType);};ua.prototype.kMb=function(X){var sa,T;if(!this.bta.Lm()){sa=void 0;T=this.T.Mi;T && (sa=this.navigator.Ae(T.va).aa);this.rh("BufferingStateTracker: Temporary failure while buffering",sa,"NFErr_MC_StreamingFailure",null === X || void 0 === X?void 0:X.Lg,null === X || void 0 === X?void 0:X.QF,null === X || void 0 === X?void 0:X.Ti);}};ua.prototype.rh=function(X,sa,T,R,ca,ja){this.bta.rh(X,sa,T,R,ca,ja);};ua.prototype.H8=function(X,sa){sa=this.t3(sa);this.events.emit("logdata",{type:"logdata",target:X,fields:sa});};ua.prototype.t3=function(X){var sa;this.eYa.jHb(X);sa=this.aN.Qn(X);X === v.ae.pp && (X=this.eL(),sa.vbuflmsec=X.totalvbuflmsecs,sa.abuflmsec=X.totalabuflmsecs,sa.vbuflbytes=X.vbuflbytes,sa.abuflbytes=X.abuflbytes);return sa;};ua.prototype.I6a=function(X){this.PR=X;this.Gl("updateBudget");};ua.prototype.Lm=function(){return this.bta.Lm();};ua.prototype.W6a=function(X){X !== this.weight && (this.ELa=X,this.events.emit("weightUpdated"));};ua.prototype.sX=function(X){var sa,T,R,ca,ja,Ua,Va,cb,Ya,kb,$a,Ra,ya,Ia,Ma;R=H.ZNa(this.Da,X);ca=R.bpb;ja=R.hXb;if([R.Jlb,R.YM,ca].every(function(hb){return !hb.length;}))return {W:!0,reason:l.Uw.Edb};if(0 === ca.length && 0 === ja.length)return {W:!1,reason:l.Uw.Rcb};try{for(var Pa=c.__values(ca),wa=Pa.next();!wa.done;wa=Pa.next()){Ua=wa.value;Va=this.Da.xa[Ua];cb=Va.jc;Ya=Va.Fc;kb=Va.aa;$a=X.xa[Ua];Ra=$a.Fc;ya=$a.jc;Ia=$a.aa;if(this.Mi.va === Ua && Ra !== Ya){if(!Ra)return {W:!1,reason:l.Uw.Beb};Ma=g.S.mb(Ra - ya);if(null === (T=this.Mi.offset) || void 0 === T?0:T.greaterThan(Ma))return {W:!1,reason:l.Uw.d8a};}if(cb !== ya)return {W:!1,reason:l.Uw.qab};if(kb !== Ia)return {W:!1,reason:l.Uw.rab};}}catch(hb){var Ta;Ta={error:hb};}finally{try{wa && !wa.done && (sa=Pa.return) && sa.call(Pa);}finally{if(Ta)throw Ta.error;}}this.V3a(X);this.hp.start();return {W:!0,reason:l.Uw.Ddb};};ua.prototype.V3a=function(X){this.HJ=X;this.navigator=new K.mFa(X);this.$Cb=H.iPa(this.navigator);};ua.prototype.opa=function(X,sa){this.t2a(X);X.RK.addListener("criticalNetworkError",this.r6);X.RK.addListener("temporaryNetworkError",this.oV);X.RK.addListener("updatingLastSuccessEvent",this.A6);this.Jc === k.Hk.ak && sa && this.j3a();};ua.prototype.ppa=function(X){0 === this.Bb.filter(function(sa){return sa.UT && sa.N === X;}).length && this.t2a(X);};ua.prototype.t2a=function(X){X.RK.removeListener("criticalNetworkError",this.r6);X.RK.removeListener("temporaryNetworkError",this.oV);X.RK.removeListener("updatingLastSuccessEvent",this.A6);};ua.prototype.KLa=function(X){var sa;q.assert(X.tk,"expected branch to be normalized on addBranchToPlayer");this.T.yL || (null === (sa=this.So) || void 0 === sa?0:sa.tk) || this.fyb(X);this.Bf.Q8(X.Rh);this.T.uia(X);this.d1.Cta(X,this.vd);};ua.prototype.fyb=function(X){q.assert(X.Nc,"Normalized branch should have a defined content start timestamp");q.assert(this.So,"AsePlaygraph should have a seek position on first branch normalization");q.assert(!this.So.tk,"Seek position should not already be normalized on first branch normalization");this.So=c.__assign(c.__assign({},this.So),{position:{va:X.P.id,offset:X.Nc.Aa(X.P.Ug)},tk:!0});this.Bf.LSb(this.So.position,X.Rh.filter(function(sa){return 0 === sa.mediaType;})[0]);};ua.prototype.Hpb=function(){var X;this.d1.reset();this.T.$E();this.So=void 0;null === (X=this.DNa) || void 0 === X?void 0:X.clear();};ua.prototype.ntb=function(X,sa,T,R,ca,ja,Pa){var wa,Ua,Va,cb;wa=this;Va=null !== (Ua=X.xb.Wi) && void 0 !== Ua?Ua:X.xb.Iy;Ua=g.S.max(X.Uj,Va);cb=this.ii.get(X.va)?1:X.xb.P.Fz;return {identifier:X.va,mediaType:X.mediaType,ph:X.ph,kf:this.kf.value,kz:sa,Uj:Ua,vd:ja,YK:X.YK,jqa:Pa.offset,iqa:R,KV:ca,Fz:cb,duration:X.xb.IS,e5a:Ua.Aa(Va),ZF:X.ZF(),vv:X.vv(),groupId:T,oXa:function(Ya,kb){Ya=wa.d5a.Lob(Ya,X.mediaType,1 > kb || !wa.D4(X.xb));1 === kb && "global" === l.Mqa(Ya.reason) && wa.Bf.HLb(X.mediaType,wa.Jh(wa.vd));return Ya;},sXa:function(){var Ya,kb,$a,Ra,ya,Ia,Ma,Ta,hb;Ra=X.mediaType;ya=wa.cla.pSb(wa.kf.value,wa.vd,wa.T.playbackRate,X,0 === Ra?wa.mfa:wa.Zz,wa.ns);Ia=ya.stream;Ma=ya.FN;Ta=ya.rSb;ya=ya.st;if(!Ia)return {Hp:!1,reason:"selectLocationsAndStream"};if(wa.kf.value === l.zc.ak && X.xb && X.xb.N.ST && !X.xb.N.HU && !wa.T.Wn(X.xb.N.aa) && X.Uj.V - wa.vd.V > wa.config.Lna)return {Hp:!1,reason:"maxBufferingCompleteBufferInMs"};hb=1;if(null === (Ya=X.xb) || void 0 === Ya?0:Ya.Rh.every(function(wb){return 0 === wb.mediaType;}))hb=0;wa.Bf.Rf && Ra === hb && wa.Bf.XSb(X.Kz.qN,Ia.bitrate,Ta);wa.uN(Ma);Ya=null === (kb=X.xb.Zt) || void 0 === kb?void 0:kb.V;kb=X.$Wb(Ia,ya);kb.Hp && (wa.Rca && (wa.Al("firstDriveStreaming"),wa.Rca=!1),0 < wa.DB && (Ia=null === ($a=X.xb.Zt) || void 0 === $a?void 0:$a.V,Ya && Ia && (wa.DB-=Ya - Ia,0 >= wa.DB && wa.j3a())));return kb;}};};ua.prototype.uN=function(X){var sa;sa=this;X.forEach(function(T){T.N.QSb(T,function(){var R,ca,ja;q.assert(sa.zL,"Speculative header callback after streaming is cancelled");R=sa.Bf.state.value;ca=sa.vd;ja=ca.add(g.S.mb(sa.config.QU));return {ph:[],kf:R,kz:ja,Uj:ja,vd:ca};});});};ua.prototype.j3a=function(){var X;X=this;this.hp.d9(xa.yD.Dw,function(){return X.hp.start();});};ua.prototype.j7=function(){var X,sa,T,R,ca;X=this;if(this.Jc === k.Hk.ak){sa=this.Mi;T=this.navigator.Ae(sa.va);R=this.Bb.MCb();ca=this.gzb(sa.va).map(function(ja){return ja.P.id;});T=J.j7(this.console,this.$Cb,T,R,this.ii,ca,g.S.mb(this.config.Nnb),this.config.roa,g.S.mb(this.config.Dfa));R=T.H2a;this.DB=T.DB || 0;this.Bb.uXb(R,function(ja,Pa){var wa;wa=X.navigator.Ae(ja);ja=ja === sa.va?wa.Ug.add(sa.offset):wa.Ug;return X.XWb(wa,ja,Pa);}).YM.forEach(function(ja){ja.Cf();X.ii.clear(ja.P.id);X.T.tDb(ja) || X.hp.d9(xa.yD.Dw,function(){return X.Ada(ja.P.id);});});this.h2a();this.pOa();this.hp.d9(xa.yD.Dw,function(){X.Gl("reevaluateBranches");X.hp.OU(xa.yD.OP);});}};ua.prototype.gzb=function(X){var sa;sa=!1;return this.T.Bb.filter(function(T){T.P.id === X && (sa=!0);return sa;});};ua.prototype.UCb=function(){return t.MMa(this.Bb.filter(function(X){return X.UT;}).map(function(X){return X.N;}));};ua.prototype.h2a=function(){var X;if(this.Jc === k.Hk.ak){if(!this.T.bG){X=c.__read(this.Bb.sy(this.C7.va),1)[0];(null === X || void 0 === X?0:X.tk) && this.KLa(X);}if(this.T.bG)for(;;){X=this.oka(this.T.bG.P);if(!X)break;X=c.__read(this.Bb.sy(X),1)[0];if(null === X || void 0 === X || !X.tk)break;this.KLa(X);}}};ua.prototype.oka=function(X){var sa;sa=this.ii.get(X.id);if(void 0 !== sa)return sa;X=this.navigator.dAb(X);if(1 === X.length)return X[0].id;};ua.prototype.pOa=function(){var X;X=0 !== this.azb();X || this.f8?X && this.f8 && (this.f8=!1):(this.Bf.Rf && (X=this.Jh(this.vd),this.Bf.Ve("complete",X.jX,X.kX)),this.Nib(),this.f8=!0);};ua.prototype.azb=function(){return this.Bb.filter(function(X){return !X.$o;}).length;};ua.prototype.pE=function(X){this.D4(X) && this.Bf.nga(this.vd,this.T.playbackRate,X,{mga:this.cla.mga.bind(this.cla,this.d5a)});};ua.prototype.cpa=function(X,sa){var T,R;T=this;if(sa.didNormalizeSegment){R=O.CGa.TCb(X);q.assert(R,"Segment should be normalized");Promise.resolve().then(function(){return T.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:X.P.id,normalizedStart:sa.segmentContentStart,normalizedEnd:sa.branchContentEnd,viewableContentEnd:R.TYb,viewableEarliestContentEnd:R.VYb});});}Promise.resolve().then(function(){T.h2a();});};ua.prototype.dpa=function(){this.pOa();};ua.prototype.yLb=function(){this.hp.start();};ua.prototype.XWb=function(X,sa,T){var R,ca,ja,Pa,wa;R=this;if(this.Dpb(X,sa))throw Error("Not implemented");wa=new d.ewa(X.aa,this.Sjb,function(Ua,Va,cb){R.opa(Va,cb);R.hp.d9(xa.yD.OP,function(){R.Y_(Ua.P.id,Va,Ua.zj);});},this.ppa.bind(this));X=new h.awa(this.config,this.console,this.events,X,this.H7,sa,null !== (Pa=null === (ja=null === (ca=this.So) || void 0 === ca?void 0:ca.UNb) || void 0 === ja?void 0:ja.Aa(this.n3a)) && void 0 !== Pa?Pa:g.S.ab,function(){return R.vd.V;},T,this.kf,this.yt,wa);X.events.on("branchNormalized",this.cpa.bind(this,X));X.events.on("lastRequestIssued",this.yLb.bind(this,X));X.events.on("branchStreamingComplete",this.dpa.bind(this,X));X.events.on("checkBufferingProgress",this.pE.bind(this,X));void 0 === T && (this.Al("createDlTracksStart"),X.events.once("requestQueuesCreated",function(){R.Al("createDlTracksEnd");}));X.nb();return X;};ua.prototype.IBb=function(X){if(this.T.Tn)return this.T.Nh.Sa(X);};ua.prototype.H7=function(X){return [[0,this.gNa,"audio_tracks"],[1,this.B7a,"video_tracks"]].map(function(sa){var T,R;T=c.__read(sa,3);sa=T[0];R=T[1];T=T[2];q.assert(R,"Expected mediaType " + sa + " track selector to be defined");R=R.xr(X.sa,X.sa[T]);return void 0 !== R?X.mVa(sa,R):void 0;}).filter(t.l6);};ua.prototype.Y_=function(X,sa,T){X={type:"segmentStarting",segmentId:X,contentOffset:T.V,maxBitrates:{audio:sa.Fv[0],video:sa.Fv[1]}};this.events.emit(X.type,X);};ua.prototype.Ada=function(X){X={type:"segmentAborted",segmentId:X};this.events.emit(X.type,X);};ua.prototype.Nib=function(){var X;X={type:"streamerEnd",time:n.default.time.ba()};this.events.emit(X.type,X);};ua.prototype.Al=function(X){X={type:"startEvent",event:X,time:n.default.time.ba()};this.events.emit(X.type,X);};c.__decorate([B.Rb({methodName:"getStreamables",Kl:!0})],ua.prototype,"tL",null);return ua;})();b.tva=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ewa=void 0;r=(function(){function a(c,f,k,l){this.aa=c;this.o7=f;this.opa=k;this.ppa=l;}Object.defineProperties(a.prototype,{N:{get:function(){var c;return null === (c=this.HX) || void 0 === c?void 0:c.N;},enumerable:!1,configurable:!0}});a.prototype.zb=function(){var c;this.N && (this.N.Xta(this.xb),this.ppa(this.N));null === (c=this.HX) || void 0 === c?void 0:c.Xma.release();this.HX=void 0;};a.prototype.nb=function(c){var f,k,l,d;f=this;this.xb=c;k=this.o7(this.aa);l=k.FX;d=k.N;this.HX={Xma:k.Xma,N:d};d?this.sWa(d,c,!1):l.then(function(g){f.sWa(g,c,!0);});};a.prototype.sWa=function(c,f,k){var l;this.HX && (this.HX.N=c,c.Wqa(f),null === (l=f.normalize) || void 0 === l?void 0:l.call(f,c),this.opa(f,c,k));};return a;})();b.ewa=r;},function(r,b,a){var f,k,l,d,g,h,m;function c(n,q){return (1 === n.mediaType?0:1) - (1 === q.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.awa=b.dwa=b.Vaa=void 0;f=a(2);k=a(16);l=a(22);r=a(112);d=a(43);g=a(412);h=a(6);b.Vaa={QYb:c};(function(n){n[n.U9=0]="CREATED";n[n.bY=1]="CANCELLED";})(m=b.dwa || (b.dwa={}));a=(function(){function n(q,p,t,u,w,v,x,y,z,A,B,D){var E;E=this;this.I=q;this.H=p;this.Lpa=t;this.Pu=u;this.bka=w;this.bC=v;this.FA=x;this.Uca=y;this.parent=z;this.hQ=A;this.kx=B;this.GX=D;this.Jc=m.U9;this.events=new k.EventEmitter();this.h_a=new Promise(function(F){E.cpa=F;});}Object.defineProperties(n.prototype,{state:{get:function(){return this.Jc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Jn:{get:function(){return this.Jc === m.bY;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{P:{get:function(){return this.Pu;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{jC:{get:function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.jC;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$o:{get:function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.$o;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ax:{get:function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.Ax) && void 0 !== p?p:0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{tk:{get:function(){var q;return !(null === (q=this.od) || void 0 === q || !q.tk);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{aZb:{get:function(){return this.h_a;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Rh:{get:function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.Rh) && void 0 !== p?p:[];},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{UT:{get:function(){var q;return !(null === (q=this.GX) || void 0 === q || !q.N);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{N:{get:function(){h.assert(this.GX.N,"viewable should be available");return this.GX.N;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{U:{get:function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.U;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ya:{get:function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{kb:{get:function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Oj:{get:function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.Oj) && void 0 !== p?p:this.zj.Xf(this.U).Xb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Iy:{get:function(){var q,p,t;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.Iy) && void 0 !== p?p:null === (t=this.bC) || void 0 === t?void 0:t.add(this.zj);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{YK:{get:function(){var q,p;p=null === (q=this.P.P.Uq) || void 0 === q?void 0:q[0];return p && this.Nc?l.S.mb(Math.max(0,p[0] - this.Nc.V - this.P.Ug.V)):l.S.ab;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{IM:{get:function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.IM) && void 0 !== p?p:this.P.Ug.add(this.zj);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{GV:{get:function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.GV) && void 0 !== p?p:this.P.Ml.add(this.zj);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Wma:{get:function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.Wma;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zj:{get:function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.zj) && void 0 !== p?p:this.FA;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Zt:{get:function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.Zt) && void 0 !== p?p:this.P.Ml.Aa(this.bC || this.P.Ug);},enumerable:!1,configurable:!0}});n.prototype.nb=function(){return f.__awaiter(this,void 0,void 0,function(){return f.__generator(this,function(q){switch(q.label){case 0:return this.parent?[4,this.parent.aZb]:[3,2];case 1:(q.Yd(),q.label=2);case 2:return (this.state !== m.bY && this.GX.nb(this),[2]);}});});};n.prototype.normalize=function(q){var p,t;p=this;if(this.state !== m.bY){if(null === (t=this.parent) || void 0 === t?0:t.qf)this.FA=this.parent.qf.Aa(this.Pu.Ug);this.od=new g.xaa(this,this.I,this.H,q,this.Lpa,this.Pu,this.bka,void 0,this.bC,this.FA,this.Uca,this.parent,[],this.hQ,this.events,this.kx);this.parent=void 0;this.od.events.on("branchNormalized",function(){return p.cpa(p.od);});this.od.nb();}};n.prototype.update=function(q){var p;this.Pu=q;null === (p=this.od) || void 0 === p?void 0:p.update(q);};n.prototype.Uz=function(q){var p;this.FA=q;null === (p=this.od) || void 0 === p?void 0:p.Uz(q);};n.prototype.KF=function(q){return f.__awaiter(this,void 0,void 0,function(){var p;return f.__generator(this,function(t){switch(t.label){case 0:return [4,this.h_a];case 1:return (p=t.Yd(),[2,p.KF(q)]);}});});};n.prototype.SS=function(){var q;null === (q=this.od) || void 0 === q?void 0:q.SS();};n.prototype.reset=function(){var q;null === (q=this.od) || void 0 === q?void 0:q.reset();};n.prototype.Cf=function(){var q;this.Jc=m.bY;null === (q=this.od) || void 0 === q?void 0:q.Cf();this.GX.zb();};n.prototype.B4=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.B4(q);};n.prototype.Sa=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.Sa(q);};n.prototype.xy=function(q){var p,t;void 0 === q && (q=c);return null !== (t=null === (p=this.od) || void 0 === p?void 0:p.xy(q)) && void 0 !== t?t:[];};n.prototype.jka=function(){var q,p;return null !== (p=null === (q=this.od) || void 0 === q?void 0:q.jka()) && void 0 !== p?p:[];};n.prototype.CT=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.CT(q);};n.prototype.Jh=function(q,p){var t;return null === (t=this.od) || void 0 === t?void 0:t.Jh(q,p);};n.prototype.BF=function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.BF();};n.prototype.G3=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.G3(q);};n.prototype.dw=function(q,p,t){var u;null === (u=this.od) || void 0 === u?void 0:u.dw(q,p,t);};n.prototype.uo=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.uo(q);};n.prototype.fpa=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.fpa(q);};n.prototype.eS=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.eS(q);};n.prototype.Oja=function(q){return this.od?this.od.Oja(q):l.S.ab;};n.prototype.Pta=function(q){var p;return null === (p=this.od) || void 0 === p?void 0:p.Pta(q);};n.prototype.toJSON=function(){var q;return null === (q=this.od) || void 0 === q?void 0:q.toJSON();};return n;})();b.awa=a;d.uf(r.gA,a);d.uf(r.eA,a);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hHa=void 0;r=(function(){function a(c,f){this.H=c;this.Ah=f;this.ata=!1;}a.prototype.rh=function(c,f,k,l,d,g){this.ata || (this.ata=!0,c={type:"error",error:null !== k && void 0 !== k?k:"NFErr_MC_StreamingFailure",errormsg:c,networkErrorCode:l,httpCode:d,nativeCode:g,viewableId:f},this.H.error("notifyStreamingError: " + JSON.stringify(c)),this.Ah.emit("error",c));};a.prototype.Lm=function(){return this.ata;};return a;})();b.hHa=r;},function(r,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Waa=void 0;c=a(2);f=a(6);k=a(9);l=a(20);d=a(257);r=(function(g){function h(m){var n;n=g.call(this) || this;n.qa=m;n.Bb=[];n.kQ=new d.NZ({uk:!1,currentTime:function(){return n.Tn?n.vd:k.S.Ey;},speed:1});return n;}c.__extends(h,g);Object.defineProperties(h.prototype,{wa:{get:function(){return this.kQ;},enumerable:!1,configurable:!0}});h.prototype.X0=function(m,n){var q;q=!this.qa;q && (this.qa=m,this.Aca=(null === n || void 0 === n?0:n.Tn)?n.vd:void 0);return q;};h.prototype.$E=function(){this.Bb=[];this.Aca=void 0;};h.prototype.Qha=function(m){l.ia && f.assert(this.qa === m);this.qa=void 0;this.$E();};h.prototype.uia=function(){for(var m,n=[],q=0;q < arguments.length;q++){n[q]=arguments[q];}(m=this.Bb).push.apply(m,c.__spread(n));};h.prototype.kL=function(){return this.Aca?this.Aca:g.prototype.kL.call(this);};h.prototype.Wn=function(){return !1;};h.prototype.rH=function(){};return h;})(a(434).hba);b.Waa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zEa=void 0;c=a(54);r=(function(){function f(k){this.Sa=k;}Object.defineProperties(f.prototype,{Li:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Qn=function(k){var l,d;k=k.oi;if(k === c.ae.Hr || k === c.ae.pp){k={};l=this.Sa(1);d=this.Sa(0);l && (k.videoPipelineSummary=this.n5a(l));d && (k.audioPipelineSummary=this.n5a(d));return k;}};f.prototype.n5a=function(k){var l,d,g,h,m;m=k.Na.Y;return {actualStartPlayerTimestamp:null === (l=m.Wi) || void 0 === l?void 0:l.V,actualPartialPlayerTimestamp:m.w0a,actualCompletePlayerTimestamp:null === (d=k.xea) || void 0 === d?void 0:d.V,segmentId:k.va,contentStartMs:null === (g=k.Nc) || void 0 === g?void 0:g.V,contentEndMs:null === (h=k.Ld) || void 0 === h?void 0:h.V,streamingPlayerMs:k.Uj.V,isStreamable:k.ZF(),isNormalized:k.tk(),isDoneStreaming:k.vv(),trackNeedsHeaderRequest:k.track.woa,completedRequests:m.YOa,activeRequests:k.Na.Yo,unsentRequests:k.Na.Ir,bytes:{current:m.da,received:m.Z1a,partial:m.ml,completed:m.uB,unsent:m.nXb}};};return f;})();b.zEa=r;},function(r,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cFa=void 0;c=a(2);f=a(20);k=a(54);l=a(435);r=(function(){function d(g){this.WNb=g;}Object.defineProperties(d.prototype,{Li:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yC:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return f.ia;},enumerable:!1,configurable:!0}});d.prototype.Qn=function(g){var h;g=g.oi;if(g === k.ae.pp || g === k.ae.Hr){h={};this.WNb.forEach(function(m,n){var q;q=l.Hja(m);h[n]=c.__assign({probabilities:m.ph.map(function(p){return {duration:p.duration,immediate:p.ZB,seamless:p.Ee};})},q);});return h;}};return d;})();b.cFa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qBa=void 0;r=(function(){function a(c,f,k){this.Gf=c;this.H=f;this.events=k;this.$M=[];}a.prototype.ei=function(c){var f;f=this;this.$M.push(c);this.Gf.Psb(function(){f.q6a(c,{wFb:!0});},c.WNa,c.jv);};a.prototype.jHb=function(c){var f,k;f=this;k={oi:c};this.$M.forEach(function(l){f.q6a(l,k);});};a.prototype.q6a=function(c,f){var k,l;try{k=c.Qf(f);l=k.event;k.p4a && this.events.emit(c.jv,l);}catch(d){this.H.error("Error generating event for " + c.jv,d);}};return a;})();b.qBa=r;},function(r,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mr=b.rVa=b.lXa=void 0;c=a(9);f=a(6);k=a(20);b.lXa=function(d,g){d=d.xa[g.va];if(void 0 === d)return !1;if(void 0 === d.Fc || null === d.Fc)throw Error("Cannot validate graph position without endTimeMs");d=d.Fc - d.jc;return 0 <= g.offset.V && g.offset.V < d;};l=c.S.mb(100);b.rVa=function(d,g){if(d === g)return !0;if(d && g && d.va === g.va){if(d.offset === g.offset)return !0;d=c.S.abs(d.offset.Aa(g.offset));if(l.greaterThan(d))return !0;}return !1;};b.mr=function(d,g,h){var m,n,q,p;q=g.qa;g=g.VEb;void 0 === h && (h={});p=q.Da;q=q.navigator;p=q.Ae(null !== (m=null === g || void 0 === g?void 0:g.id) && void 0 !== m?m:p.Qe);m=null !== (n=null === g || void 0 === g?void 0:g.kSb) && void 0 !== n?n:p.Ug;if(m.greaterThan(d))return h.B4a?{offset:d.Aa(m),va:p.id}:void 0;g=q.wGb(p);for(q=g.next();!q.done;){n=q.value;q=n.Ml.Aa(n.Ug);p=m;m=p.add(q);if(m.greaterThan(d))return (d=d.Aa(p),k.ia && f.assert(d.Sn(c.S.ab) && d.lessThan(q)),{va:n.id,offset:d});q=g.next();if(q.done && h.C4a)return {va:n.id,offset:d.Aa(p)};}};},function(r,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.kza=void 0;r=a(2);c=a(15);f=r.__importDefault(a(146));k=r.__importDefault(a(5));l=a(180);d=a(30);a=(function(){function g(h,m,n,q,p){this.config=h;this.nUb=m;this.navigator=n;this.events=q;this.console=p;h=l.qL(this.config);this.i1a=[h.JC,h.U6];}g.prototype.pSb=function(h,m,n,q,p,t){var u,w,v,x,y;w=[];if(!this.F0a(q.track))return {stream:v,FN:w};v=q.Ff.et;x=p?p.Dm(q.track.Qd,h):q.track.Qd;if(0 === x.length && (null === p || void 0 === p?0:p.Kob))return {stream:void 0,FN:w};v && !v.track.equals(q.track) && (v=this.Vxb(v,x));if(0 === q.mediaType && v && !this.STb(q,v))return {stream:v,FN:w};h=this.ctb(h === c.zc.Yc?c.ka.Yc:h === c.zc.zf?c.ka.zf:h === c.zc.VP?c.ka.Yc:h === c.zc.ak?c.ka.Hc:c.ka.$g,m,n,q,! !t);h=q.Kz.$ra(h,x,void 0,this.i1a[q.mediaType],!0,q.track.N.qp);if(!h)return {stream:v,FN:w};h.reason && (y={reason:h.reason,Zra:h.Ws,Gy:h.Gy,Un:h.Un,Vn:h.Vn});this.Yvb(q.mediaType,h,x);v=x[h.he];q.Ff.Z3a(v);if(null === (u=h.dy) || void 0 === u?0:u.length)w=h.dy.map(function(z){return d.vg(x,function(A){return A.id === z;});}).filter(d.l6);q=h.st;return void 0 !== y?{stream:v,FN:w,rSb:y,st:q}:{stream:v,FN:w,st:q};};g.prototype.mga=function(h,m,n,q,p,t,u){var w,v;if(!c.$q(m))return {complete:!0,reason:"playing"};if(!t.LOb)return {complete:!1,reason:"unknown"};if(t.DMb)return t.EMb;w=this.dTa(t,n);v=t.Ff.et;n=w.Il - w.wc;if(n < this.config.Si || void 0 === v)return {complete:!1,nB:n,reason:"preBuf"};if(0 === t.mediaType)return {complete:!0,nB:n,reason:"audio"};if(h=h.qOa(t.mediaType))return {complete:!0,nB:n,reason:h};this.F0a(t.track);t.Kz.fqa([v],!1,w,this.i1a[t.mediaType]);m=t.Kz.Qx(w,m,p,v,{Ds:u});if(!m.complete && q)return {complete:!0,reason:"prebufferTimeLimit",nB:n};m.nB=n;return m;};g.prototype.Yvb=function(h,m,n){this.events.emit("streamSelection",{type:"streamSelection",mediaType:h,result:m,streamList:n});};g.prototype.Vxb=function(h,m){var n;n=m[0];m.filter(function(q){return q.dt;}).every(function(q){return q.bitrate <= h.bitrate?n=q:!1;});return n;};g.prototype.STb=function(h,m){return 0 < this.config.PN.length?!0:(h=h.Ff.QL) && h === m.location?!1:!0;};g.prototype.F0a=function(h){return h.N.Ql.tX(h.N.aa,h.Qd);};g.prototype.dTa=function(h,m){var z;for(var n,q=m.Aa(this.nUb),p=[],t=h,u=m,w,v,x=0,y=!0;t;){z=t.BAb(q);if(!y && !t.$o)break;0 < z.Y.length && (u=z.Y[0].Wi,void 0 === w && (w=z.Y[z.Y.length - 1].qf,v=z.xpa >= z.Y.length?w:z.Y[z.xpa].Wi),p=z.Y.concat(p),x+=z.ml);t=this.navigator.parent(t);y=!1;}return {$u:k.default.Rn()[h.mediaType],X:Math.floor(u.V),wc:m.V,tc:Math.floor(null !== (n=null === w || void 0 === w?void 0:w.V) && void 0 !== n?n:m.V),Il:Math.floor(v?v.V:m.V),Dg:p.reduce(function(A,B){return A + B.da;},0),ml:x,NSa:p.length,Y:p};};g.prototype.ctb=function(h,m,n,q,p){var t,u,w;t=this.dTa(q,m);u=1 === q.mediaType?this.config.zX:this.config.BR;w=f.default.instance();return {state:h,fC:h === c.ka.Hc,Md:q.fo,playbackRate:n,buffer:t,bia:u,lYa:!1,KK:p,Yo:null === w || void 0 === w?void 0:w.Yo,mediaType:q.mediaType,wc:m.V,ar:!1,jma:!1,h7:0};};return g;})();b.kza=a;},function(r,b,a){var k,l;function c(d,g,h,m,n){var q,p,t,u,w,v,x,y,z,A,B,D,E,F,C,G,J,K,H,L,P,I;x=d.console;y=d.oXb;z=d.ii;A=d.oRb;B=d.ivb;D=d.roa;E=d.Dfa;d=d.AMb;F=n || ({complete:!0,Zt:0});C=F.root;G=F.complete;J=F.$kb;K=F.I2a;K=void 0 === K?0:K;F=F.Zt;H=K < A.length && A[K] === g.id;L=m && z.get(m.id);P=n && m && L !== g.id?void 0 !== L?{Ee:0}:m.tob(g.id):{Ee:1};z=P.Ee;P=P.ZB;I=void 0 === P?0:P;P=(z + I) * (null !== (q=null === n || void 0 === n?void 0:n.VOb) && void 0 !== q?q:1);l && x.trace("reevaluateBranches: visiting " + g.id + ", distance: " + (h + ", probability: ") + (P + ", predecessor: ") + ((null === m || void 0 === m?void 0:m.id) + ", decision: ") + (L + ", predecessorComplete: ") + (G + ", isOnRequiredPath: ") + (H + ", requiredPathIndex: ") + (K + ", activeDistance: ") + (J + ", seamless ") + (z + ", immediate ") + (I + ", predecessor sum of: successor weights=") + ((null === m || void 0 === m?void 0:m.hta) + ", immediate weights= ") + (null === m || void 0 === m?void 0:m.j8));q=null !== (t=null === (p=y[g.id]) || void 0 === p?void 0:p.shift()) && void 0 !== t?t:g.duration.V;p=0 === q;if(!H){if(0 === P)return {a9:!1};if(!G && 0 === I && F > E)return (d.DB=Math.min(d.DB || Infinity,F - E),{a9:!1});if(!p && h >= B && 1 > P || !1 === C && P < D)return {a9:!1};}K < A.length && k.assert(A[K] === g.id,"");n=null !== (u=null === n || void 0 === n?void 0:n.ph) && void 0 !== u?u:[];m && 1 > z && (0 === I?n=n.concat([{Ee:z}]):(u=(null === (v=null === (w=m.P.Uq) || void 0 === w?void 0:w[0]) || void 0 === v?void 0:v[0]) || 0,w=Math.max(0,m.duration.V - u),l && x.trace("reevaluateBranches: immediate: " + m.duration.V + ", " + u + ", " + w),n=n.concat([{Ee:z,ZB:I,duration:w}])));d.H2a.push({P:g,Bt:null === m || void 0 === m?void 0:m.id,ph:n});h=G?h + g.duration.V:J;l && x.trace("reevaluateBranches: added " + g.id + ", visiting successors, active distance: " + (h + " probabilities: ") + JSON.stringify(n));return {a9:!0,state:{root:!m,complete:p,VOb:P,ph:n,$kb:h,I2a:K + 1,Zt:F + q}};}function f(d,g,h,m){m("reevaluateBranches: " + Array(h + 1).join(" ") + d.P.id + " (" + (JSON.stringify(d.ph) + ")"));g.filter(function(n){return n.Bt === d.P.id;}).forEach(function(n){return f(n,g,h + 1,m);});}Object.defineProperties(b,{__esModule:{value:!0}});b.AWb=b.ZYb=b.j7=void 0;k=a(6);l=a(20).ia && !1;b.j7=function(d,g,h,m,n,q,p,t,u){var w,v,x,y;v={H2a:[]};x=(null === (w=h.Ml) || void 0 === w?void 0:w.Aa(h.Ug).V) || 0;0 < q.length && k.assert(h.id === q[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");l && d.trace("reevaluateBranches: starting at " + h.id + " requiredPath: " + JSON.stringify(q));y={console:d,oXb:m,ii:n,oRb:q,ivb:p.V + x,roa:t,Dfa:u.V,AMb:v};g.YYb(h,function(z,A,B,D){return c(y,z,A,B,D);});return v;};b.ZYb=c;b.AWb=function(d,g){f(d[0],d,0,g);};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mFa=void 0;c=a(2);f=a(419);r=(function(){function k(l){this.Da=l;this.xa={};}k.prototype.Ae=function(l){var d;d=this.xa[l];if(void 0 === d){d=this.Da.xa[l];if(void 0 === d)throw Error("Segment not found (" + l + ")");d=new f.rFa(l,d,this.Da.Zd);this.xa[l]=d;}return d;};k.prototype.dAb=function(l){var d;d=this;return l.P.next?Object.keys(l.P.next).map(function(g){return d.Ae(g);}):[];};k.prototype.wGb=function(l){var d;return c.__generator(this,function(g){switch(g.label){case 0:return [4,l];case 1:(g.Yd(),d=l,g.label=2);case 2:if(!d.P.Gh)return [3,4];d=this.Ae(d.P.Gh);return [4,d];case 3:return (g.Yd(),[3,2]);case 4:return [2];}});};k.prototype.BDb=function(l,d){return f.QWa(l.uL(d));};k.prototype.zi=function(l){var d;d=this;Object.keys(l).forEach(function(g){var h;return null === (h=d.Ae(g)) || void 0 === h?void 0:h.zi(l[g]);});};return k;})();b.mFa=r;},function(r,b,a){var k,l,d;function c(g,h){var m,n;m=Object.keys(g);if(m.some(function(q){var p,t,u,w;return (null === (p=g[q]) || void 0 === p?void 0:p.Zd) !== (null === (t=h[q]) || void 0 === t?void 0:t.Zd) || (null === (u=g[q]) || void 0 === u?void 0:u.weight) !== (null === (w=h[q]) || void 0 === w?void 0:w.weight);}))return !0;n=Object.keys(h);return 0 !== k.__spread(l.ms(m,n),l.ms(n,m)).length?!0:!1;}function f(g,h){return g.some(function(m,n){var q;return 0 !== l.ms(m,null !== (q=h[n]) && void 0 !== q?q:[]).length;}) || g.length !== h.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.ZNa=b.iPa=void 0;k=a(2);l=a(30);d=a(953);b.iPa=function(g){return new d.Lxa(function(h){return Object.keys(h.P.next || ({})).map(function(m){var n,q,p;m=g.Ae(m);p=null !== (q=null === (n=h.Ml) || void 0 === n?void 0:n.Aa(h.Ug).V) && void 0 !== q?q:Infinity;return {IYb:m,weight:p};});});};b.ZNa=function(g,h){var m,n,q,p,t,u;m=Object.keys(g.xa);n=Object.keys(h.xa);q=n.filter(function(w){return -1 === m.indexOf(w);});p=m.filter(function(w){return -1 === n.indexOf(w);});t=m.filter(function(w){var v,x,y,z,A;if(-1 === n.indexOf(w))v=!1;else {v=g.xa[w];w=h.xa[w];v=v.Gh !== w.Gh || v.Fc !== w.Fc || v.jc !== w.jc || v.Zd !== w.Zd || v.aa !== w.aa || f(null !== (x=v.Uq) && void 0 !== x?x:[],null !== (y=w.Uq) && void 0 !== y?y:[]) || c(null !== (z=v.next) && void 0 !== z?z:{},null !== (A=w.next) && void 0 !== A?A:{})?!0:!1;}return v;});u=l.ms(m,k.__spread(t,q,p));return {Jlb:q,YM:p,bpb:t,hXb:u};};},function(r,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Lxa=void 0;c=a(6);f=a(246);k=a(954);l=a(436);r=(function(){function d(g){this.Qvb=g;this.zua=!1;this.b9=new k.rba();this.Wv=new k.rba();this.xMa=new l.qba();}d.prototype.YYb=function(g,h){var n,q,p;function m(){var w,v,x,y,z,A;w=t.pop();v=p.get(w);x=v.Bt;y=v.GK;v=v.state;if(!u.b9.has(w)){u.b9.add(w);x=h(w,y,x,v);z=x.a9;A=x.state;q(w).forEach(function(B){var D,E;D=B.IYb;if(!n.b9.has(D) && (B=y + B.weight,z))if(n.Wv.has(D)){E=n.xMa.get(D);B < E.GK && (E.GK=B,E.Bt=w,E.state=A,t.UOb(D));}else (n.Wv.add(D),p.set(D,{GK:B,Bt:w,state:A}),t.push(D));});}}n=this;q=this.Qvb;p=this.xMa;c.assert(!this.zua);this.zua=!0;this.b9.clear();this.Wv.clear();p.set(g,{GK:0,state:{root:!1,complete:!0,I2a:0,Zt:0}});for(var t=new f.bZ([g],function(w,v){return p.get(w).GK - p.get(v).GK;}),u=this;!t.empty;){m();}this.zua=!1;};return d;})();b.Lxa=r;},function(r,b){var f,k,l;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.DIa);}function c(d){return (a(d)?d:Object.defineProperties(d,{DIa:{value:{},configurable:!1,enumerable:!1}})).DIa;}Object.defineProperties(b,{__esModule:{value:!0}});b.rba=void 0;k=null !== (f=Number.MAX_SAFE_INTEGER) && void 0 !== f?f:1E9;l=Date.now() % k;r=(function(){function d(){this.J7=0;this.id=l=(l + 1) % k;}d.prototype.add=function(g){c(g)[this.id]=this.J7;return this;};d.prototype.has=function(g){return a(g) && c(g)[this.id] === this.J7;};d.prototype.delete=function(g){if(!this.has(g))return !1;c(g)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.J7=(this.J7 + 1) % k;return this;};return d;})();b.rba=r;},function(r,b,a){var f,k,l,d;function c(g){return {value:g.xb,parent:g.Bt};}Object.defineProperties(b,{__esModule:{value:!0}});b.dFa=void 0;f=a(9);k=a(30);l=a(6);d=a(956);r=(function(){function g(){this.Bb=new f.QCa();this.Gr=new d.PHa();}Object.defineProperties(g.prototype,{empty:{get:function(){return this.Bb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){return this.Bb.size;},enumerable:!1,configurable:!0}});g.prototype.reset=function(){var h;h=this.Bb.values();this.Bb.clear();this.Gr.clear();h.forEach(function(m){return m.Cf();});};g.prototype.sy=function(h){return this.Bb.get(h);};g.prototype.has=function(h){return this.Bb.has(h);};g.prototype.fT=function(h){this.Gr.fT(h);};g.prototype.vka=function(h){return this.Gr.parent(h);};g.prototype.Nzb=function(h){return this.Gr.children(h);};g.prototype.gla=function(h){return this.Gr.gla(h);};g.prototype.$qa=function(h){var m;if(this.Bb.delete(h.P.id,h)){m=this.Gr.children(h);this.Gr.root === h?0 === m.length?this.Gr.clear():(l.assert(1 === m.length,"cannot remove the root branch with multiple successors"),this.Gr.WQb(m[0])):(l.assert(0 === m.length,"cannot remove non-root branch with successors"),this.Gr.remove(h));}};g.prototype.forEach=function(h){var m;m=this;this.Bb.forEach(function(n,q){return h(n,q,m);});};g.prototype.reduce=function(h,m){var n;n=this;return this.Bb.reduce(function(q,p,t){return h(q,p,t,n);},m);};g.prototype.map=function(h){var m;m=this;return this.Bb.map(function(n,q){return h(n,q,m);});};g.prototype.filter=function(h){var m;m=this;return this.Bb.filter(function(n,q){return h(n,q,m);});};g.prototype.MCb=function(){var h;h={};this.forEach(function(m,n){var q;(m=m.Zt) && (null !== (q=h[n]) && void 0 !== q?q:h[n]=[]).push(m.V);});return h;};g.prototype.uXb=function(h,m){var n;n=this;h=this.IIb(h,m).target;m=this.Gr.OPb(h.map(c));h=m.YM;m=m.w2a;h.forEach(function(q){return n.Bb.delete(q.P.id,q);});return {YM:h,w2a:m.map(function(q){return q.value;})};};g.prototype.IIb=function(h,m){var q,p;function n(t,u){(t=m(t.P.id,u)) && q.Bb.set(t.P.id,t);return t;}q=this;p=[];return {target:h.reduce(function(t,u,w){var v,x;l.assert(0 === w || u.Bt);if(u.Bt){x=null === (v=k.OMa(t,function(y){return y.xb.P.id === u.Bt;})) || void 0 === v?void 0:v.xb;if(!x)return (l.assert(void 0 !== k.vg(p,function(y){return y.P.id === u.Bt;}),"predecessorSegmentId " + u.Bt + " specified without previously specifying predecessor requiredBranch."),p.push(u),t);}v=k.vg(q.sy(u.P.id),function(y){return y.UT && q.Gr.parent(y) === x || 0 === w;});v=null !== v && void 0 !== v?v:n(u,x);v.ph=u.ph;t.push({xb:v,Bt:x});(null === v || void 0 === v?0:v.UT) && v.update(u.P);return t;},[])};};return g;})();b.dFa=r;},function(r,b,a){var f,k,l;function c(d){return 0 === d.length || void 0 === d[0].parent && d.every(function(g,h){return 0 === h || l.cp(d,function(m){return m.value === g.parent;}) < h;});}Object.defineProperties(b,{__esModule:{value:!0}});b.PHa=void 0;f=a(436);k=a(6);l=a(30);r=(function(){function d(){this.J=new f.qba();}Object.defineProperties(d.prototype,{empty:{get:function(){return !this.Cz;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{root:{get:function(){var g;return null === (g=this.Cz) || void 0 === g?void 0:g.value;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{values:{get:function(){var g;g=[];this.fT(function(h){return ! !g.push(h);});return g;},enumerable:!1,configurable:!0}});d.prototype.has=function(g){return ! !this.J.get(g);};d.prototype.parent=function(g){var h;g=this.J.get(g);k.assert(g,"Attempted to find the parent of a node not in the tree");return null === (h=g.parent) || void 0 === h?void 0:h.value;};d.prototype.children=function(g){g=this.J.get(g);k.assert(g,"Attempted to find the children of a node not in the tree");return g.children?g.children.map(function(h){return h.value;}):[];};d.prototype.gla=function(g){g=this.J.get(g);k.assert(g,"Attempted to find the children of a node not in the tree");return void 0 !== g.children && 0 < g.children.length;};d.prototype.add=function(g,h){var m;k.assert(!this.J.get(g),"Attempted to add a value to tree that is already present");m={value:g};void 0 === this.Cz?(k.assert(void 0 === h,"a parent cannot be specified when the tree is empty"),this.Cz=m):(k.assert(void 0 !== h,"a parent must be specified when the tree is non-empty"),h=this.J.get(h),k.assert(h,"Parent value does not exist in tree"),this.bNa(m,h));this.J.set(g,m);return this;};d.prototype.remove=function(g){g=this.J.get(g);k.assert(g,"Attempted to remove a node not in the tree");this.removeNode(g);return this;};d.prototype.removeNode=function(g){var h;h=this;this.kja(function(m){return h.J.delete(m);},g.value);void 0 === g.parent?this.Cz=void 0:this.detach(g);};d.prototype.move=function(g,h){g=this.J.get(g);h=this.J.get(h);k.assert(g,"cannot move a value that is not in the tree");k.assert(h,"cannot move a value to a parent value not in the tree");k.assert(g.parent,"cannot move the root node");k.assert(!this.pFb(g,h),"cannot move a node below itself or one of its decendants");g.parent !== h && (this.detach(g),this.bNa(g,h));return this;};d.prototype.WQb=function(g){var h,m;h=this;g=this.J.get(g);k.assert(g,"cannot replant at a value that is not in the tree");m=[];this.detach(g);this.kja(function(n){h.J.delete(n);m.unshift(n);return !0;});this.Cz=g;};d.prototype.clear=function(){this.Cz && this.remove(this.Cz.value);return this;};d.prototype.CSa=function(g,h){var m,n;m=this;g=this.J.get(g);k.assert(g,"cannot iterate children of a value not in the tree");null === (n=g.children) || void 0 === n?void 0:n.forEach(function(q){return h(q.value,m);});};d.prototype.fT=function(g,h){var m;m=this;k.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.Cz.value,g(h,this) && this.CSa(h,function(n){return m.fT(g,n);}));};d.prototype.kja=function(g,h){var m;m=this;k.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.Cz.value,this.CSa(h,function(n){return m.kja(g,n);}),g(h,this));};d.prototype.OPb=function(g){var h,m,n;h=this;k.assert(c(g),"entries must be in topological order");if(0 === g.length){m=this.values;n=[];this.clear();}else (n=g.filter(function(q){return h.has(q.value) && q.parent !== h.parent(q.value);}),m=this.values.filter(function(q){return -1 === l.cp(g,function(p){return p.value === q;});}),this.clear(),g.forEach(function(q){return h.add(q.value,q.parent);}));return {YM:m,w2a:n};};d.prototype.bNa=function(g,h){var m;g.parent=h;(null !== (m=h.children) && void 0 !== m?m:h.children=[]).push(g);};d.prototype.detach=function(g){var h;k.assert(g.parent,"cannot detach the root");k.assert(void 0 !== g.parent.children,"logic error: parent node does not have children");h=g.parent.children.indexOf(g);k.assert(0 <= h,"logic error: node does not appear in the children of its parent");g.parent.children.splice(h,1);g.parent=void 0;};d.prototype.pFb=function(g,h){for(;void 0 !== h;){if(h === g)return !0;h=h.parent;}return !1;};return d;})();b.PHa=r;},function(r,b,a){var c,f,k,l,d,g,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.iwa=void 0;c=a(2);f=c.__importDefault(a(5));k=a(15);l=a(9);d=a(22);g=a(6);h=a(114);m=a(68);r=(function(){function n(q,p,t,u,w,v,x){var y;y=this;void 0 === x && (x=500);this.H=q;this.config=p;this.Hb=t;this.events=u;this.yia=w;this.Gf=v;this.Xnb=x;this.kqa=this.Vk=0;this.I5=[];this.x2={Ds:0};this.state=new l.uq(k.zc.Ci);this.cf=new l.uq(k.ka.$g);this.Qh=new h.DA({sC:10,qt:this,source:"BufferStateTracker",Lea:function(){return {isBuffering:y.Rf,alwaysRunUnderflowTimer:y.config.WJ};}});}Object.defineProperties(n.prototype,{Ds:{get:function(){return this.x2.Ds;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Rf:{get:function(){return k.$q(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.Q8=function(q){var p;p=this;Array.isArray(q) || (q=[q]);q.forEach(function(t){0 === t.mediaType && (p.NNa=c.__assign(c.__assign({},p.NNa),{audio:{trackId:t.trackId,trackIndex:t.WN}}));});};n.prototype.P_a=function(q){this.set(k.zc.Ci);this.qH(q,k.zc.Yc);};n.prototype.r6=function(){this.x2.Ds++;};n.prototype.oV=function(q){this.config.WJ || void 0 === this.Qy && this.Rf && this.hha();this.Qy={QF:q.httpCode,Lg:q.errorCode,Ti:q.nativeCode};};n.prototype.A6=function(){this.Qy=void 0;this.config.WJ || this.e2();};n.prototype.Lj=function(q){this.Rf || (this.qH(q,k.zc.zf),this.Rf && (this.Qy || this.config.WJ) && this.hha());};n.prototype.iMb=function(q,p){this.state.value !== k.zc.Yc && this.qH(q,k.zc.VP);this.Q8(p);};n.prototype.HLb=function(q,p){var t;t=this;this.config.Wnb && this.Rf && (-1 === this.I5.indexOf(q) && this.I5.push(q),2 === this.I5.length && Promise.resolve().then(function(){t.Rf && void 0 !== t.ew && t.Ve("memoryLimit",p.jX,p.kX);}));};n.prototype.LSb=function(q,p){g.assert(this.state.value === k.zc.Yc && void 0 === this.ew);this.ew=q;p && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:p.trackId,trackIndex:p.WN}),this.Q8(p));};n.prototype.XSb=function(q,p,t){g.assert(this.Rf);this.Xla=null !== q && void 0 !== q?q:this.Xla;this.Vla=null !== p && void 0 !== p?p:this.Vla;void 0 === this.r4?this.r4=t:void 0 !== (null === t || void 0 === t?void 0:t.reason) && (this.r4.reason=t.reason);};n.prototype.Ve=function(q,p,t){var u;g.assert(this.Rf && void 0 !== this.ew && void 0 === this.VE && void 0 === this.W8 && void 0 === this.H0);this.VE=q;this.W8=p;this.H0=t;this.ip=100;this.AOa();this.e2();null === (u=this.oga) || void 0 === u?void 0:u.zb();this.state.value === k.zc.zf && (this.kqa=f.default.time.ba());this.p2();this.set(k.zc.ak);this.H0=this.W8=this.VE=this.r4=this.Vla=this.Xla=this.ew=void 0;};n.prototype.stop=function(){var q;this.set(k.zc.Ci);this.AOa();this.e2();null === (q=this.oga) || void 0 === q?void 0:q.zb();};n.prototype.nga=function(q,p,t,u){var w,v,x,y,z,A,B,D,E,F;w=this;g.assert(this.Rf);null === (v=this.oga) || void 0 === v?void 0:v.zb();if(this.state.value === k.zc.zf && f.default.time.ba() < this.kqa + this.config.qoa){z=this.config.qoa - (f.default.time.ba() - this.kqa);this.oga=this.Gf.tK(m.nj.eD(d.S.mb(z)),function(){w.nga(q,p,t,u);});}else {v=t.CT(0);A=t.CT(1);B=f.default.time.ba() - this.Vk;if(v || A){D=function(C){return C?C.ZF() || C.vv()?u.mga(w.state.value,q,B >= w.config.mz,p,C,w.Ds):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};E=D(v);D=D(A);F=function(C){var G;return {reason:C.reason,complete:C.complete,bl:null !== (G=C.nB) && void 0 !== G?G:0};};this.Qh.Su({as:F(E),vs:F(D),bt:B});F=A?D:E;F.MYb=A && D.nB || 0;F.Mmb=v && E.nB || 0;E.complete && D.complete?(F.complete=!0,this.Ve(null !== (z=F.reason) && void 0 !== z?z:"unknown",null !== (x=F.MYb) && void 0 !== x?x:0,null !== (y=F.Mmb) && void 0 !== y?y:0)):(F.complete=!1,this.kob(F),this.Qh.Su({bp:this.ip}));}}};n.prototype.kob=function(q){var p,t,u;u=q.progress;q.mC?u=(f.default.time.ba() - this.Vk) / this.config.mz:u || (u=(null !== (p=q.nB) && void 0 !== p?p:0) / this.config.Si);q=Math.min(Math.max(Math.round(100 * u),null !== (t=this.ip) && void 0 !== t?t:0),99);q != this.ip && (this.ip=q);};n.prototype.qH=function(q,p){g.assert(p === k.zc.Yc || void 0 !== q);this.ew=q;this.ip=0;this.n6=void 0;this.x2.Ds=0;this.I5=[];q=this.state.value === k.zc.Yc || this.state.value === k.zc.zf;this.Vk=f.default.time.ba();this.set(p);q || (this.Xvb(),this.vTb());};n.prototype.set=function(q){this.state.set(q);switch(q){case k.zc.Ci:this.cf.set(k.ka.Ci);break;case k.zc.Yc:case k.zc.VP:this.cf.set(k.ka.Yc);break;case k.zc.zf:this.cf.set(k.ka.zf);break;case k.zc.ak:this.cf.set(k.ka.Hc);}};n.prototype.Xvb=function(){g.assert(this.events && void 0 !== this.ip);this.n6=this.ip;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:f.default.time.ba(),percentage:this.ip});};n.prototype.vTb=function(){var q;q=this;this.Koa=setInterval(function(){return q.Wvb();},this.Xnb);};n.prototype.AOa=function(){this.Koa && (clearInterval(this.Koa),this.Koa=void 0);};n.prototype.Wvb=function(){this.Rf && this.events && void 0 !== this.ip && this.ip !== this.n6 && this.events.emit("buffering",{type:"buffering",time:f.default.time.ba(),percentage:this.ip}) && (this.n6=this.ip);};n.prototype.p2=function(){var q;g.assert(this.events && this.ew && void 0 !== this.VE && void 0 !== this.H0 && void 0 !== this.W8);this.n6=this.ip;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:f.default.time.ba(),actualStartPosition:this.ew,reason:this.VE,aBufferLevelMs:this.H0,vBufferLevelMs:this.W8,selector:this.Xla,initBitrate:this.Vla,initSelReason:null === (q=this.r4) || void 0 === q?void 0:q.reason,skipbackBufferSizeBytes:this.K8b},this.NNa));};n.prototype.hha=function(){var q;q=this;this.config.d7a && (!this.Tz || this.Tz.state !== m.vl.complete && this.Tz.state !== m.vl.EK?void 0 === this.Tz && (this.Tz=this.Gf.xB(function(){return q.z6a();},"underflow")):this.Tz.pl());};n.prototype.e2=function(){this.Tz && (this.Tz.state !== m.vl.EK && this.Tz.zb(),this.Tz=void 0);};n.prototype.z6a=function(){var q,p,t;return c.__generator(this,function(u){switch(u.label){case 0:return (q=this.config.s5,this.H.trace("BufferingStateTracker: starting underflow timer: " + q + "ms"),[4,m.nj.eD(d.S.mb(q))]);case 1:(u.Yd(),u.label=2);case 2:if(!this.Rf)return [3,4];p=this.Hb.BXa || 0;t=f.default.time.ba() - p;if(t >= q)return (this.H.trace("Forcing streaming failure, " + t + "ms since data received"),this.yia.kMb(this.Qy),[2]);this.H.trace("BufferingStateTracker: network activity, wait " + (q - t) + "ms");return [4,m.nj.eD(d.S.mb(q - t))];case 3:return (u.Yd(),[3,2]);case 4:return [2];}});};c.__decorate([h.Rb({methodName:"onTemporaryNetworkError",Kl:!0})],n.prototype,"oV",null);c.__decorate([h.Rb({methodName:"onUnderflow",Kl:!0})],n.prototype,"Lj",null);c.__decorate([h.Rb({methodName:"bufferingComplete",Kl:!0})],n.prototype,"Ve",null);c.__decorate([h.Rb({methodName:"stop",Kl:!0})],n.prototype,"stop",null);c.__decorate([h.Rb({methodName:"checkStreamingBufferingComplete",Kl:!0})],n.prototype,"nga",null);c.__decorate([h.Rb({methodName:"createUnderflowTask",Kl:!0})],n.prototype,"hha",null);c.__decorate([h.Rb({methodName:"destroyUnderflowTask",Kl:!0})],n.prototype,"e2",null);c.__decorate([h.Rb({methodName:"onUnderflowTimeout",Kl:!0})],n.prototype,"z6a",null);return n;})();b.iwa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SRa=void 0;c=a(30);b.SRa=function(f,k){var l;l=[];f=f.filter(function(d){return d.UT;}).map(function(d){var g,h;g=k(d.N);h=c.ms(g,d.Rh).map(function(m){return m.mediaType;});l=c.SMa(l,h);return {xb:d,Rh:g};});return {cpb:l,Pnb:f};};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.CGa=void 0;c=a(2);f=a(22);k=a(6);b.CGa=(function(){function l(){}l.TCb=function(d){var g,h,m;if(d.tk){d=c.__read(d.Rh,2);m=d[1];d=null === (g=d[0].so) || void 0 === g?void 0:g.Ml;g=null === (h=null === m || void 0 === m?void 0:m.so) || void 0 === h?void 0:h.Ml;k.assert(d);h=g?f.S.min(d,g):d;return {TYb:d,VYb:h};}};return l;})();},function(r,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.bwa=void 0;c=a(16);f=a(9);k=a(68);l=a(20);d=a(15);r=(function(){function g(h,m,n,q,p,t){this.Gf=h;this.xo=m;this.config=n;this.wLb=q;this.kf=p;this.console=t;this.D_=new c.yh();}g.Azb=function(h){var m;return null !== (m=h.qf) && void 0 !== m?m:h.GV;};g.zAb=function(h){var m,n;m=h.P;n=h.oM;return m.Gh?m.Gh:n.length?n[0]:h.fz[0];};g.prototype.Cta=function(h,m){var n,q,p,t;n=this;p=h.P;this.reset();if(!(p.Xt || 1 >= p.fz.length && (null === (q=p.Zv) || void 0 === q || !q.length))){t=this.mob(h);q=t.Qra;m=m.lessThan(t.xEb);this.ZRb(p,m?q:void 0);m && !this.config.JMb && (l.ia && this.console.trace("BranchDecisionMaker: listening for branch streaming complete on " + h.P.id),p=this.dpa.bind(this,p),this.D_.on(h.events,"branchStreamingComplete",p),this.D_.on(h.events,"branchEdited",function(){n.Cta(h,n.Gf.wa.currentTime);}));}};g.prototype.zOa=function(){var h;null === (h=this.xha) || void 0 === h?void 0:h.zb();this.xha=void 0;};g.prototype.reset=function(){this.zOa();this.D_.clear();};g.prototype.mob=function(h){var m,n;h=g.Azb(h);m=f.S.mb(this.config.uC);n=f.S.mb(this.config.$Jb + this.config.UU);m=h.Aa(m);return {xEb:d.$q(this.kf.value)?h.Aa(n):m,Qra:m};};g.prototype.ZRb=function(h,m){var n;n=this;this.zOa();this.xha=m?this.Gf.tK(k.nj.fO(m),function(){return n.yna(h);},"scheduled branch decision"):this.xo.tK(k.nj.cZb,function(){return n.yna(h);},"immediate branch decision");};g.prototype.dpa=function(h){var m;d.$q(this.kf.value) && (null === (m=this.xha) || void 0 === m?void 0:m.zb(),this.yna(h));};g.prototype.yna=function(h){var m;this.D_.clear();m=g.zAb(h);l.ia && this.console.trace("BranchDecisionMaker making decision for " + h.id + ", decision is " + m);this.wLb(h.id,m,!0);};return g;})();b.bwa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bTa=void 0;c=a(962);b.bTa=function(f,k){return f.reduce(function(l,d){var g;g=k(d);d.xy().forEach(function(h){return l.Eea(h.mediaType,h.Ax,!g);});return l;},new c.lFa());};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lFa=void 0;c=a(437);r=(function(){function f(){this.Oq=new c.vP();this.xS=new c.vP();}Object.defineProperties(f.prototype,{total:{get:function(){var k;k=new c.vP();k.add(this.Oq);k.add(this.xS);return k;},enumerable:!1,configurable:!0}});f.prototype.add=function(k){this.Oq.add(k.Oq);this.xS.add(k.xS);};f.prototype.Eea=function(k,l,d){(d?this.xS:this.Oq).Eea(k,l);};return f;})();b.lFa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bVa=void 0;b.bVa=function(a,c){return a.reduce(function(f,k){return f + k.Oja(c).V;},0);};},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xPa=void 0;c=a(2);f=a(15);b.xPa=function(k){var h,m;function l(n){f.$q(n.newValue) && !f.$q(n.oldValue)?(null === m || void 0 === m?void 0:m.zb(),m=h.tK.apply(h,c.__spread(d))):null === m || void 0 === m?void 0:m.zb();}for(var d=[],g=1;g < arguments.length;g++){d[g - 1]=arguments[g];}g=k.Bf;h=k.xo;g.state.addListener(l);l({oldValue:f.zc.Ci,newValue:g.state.value});};},function(r,b,a){var f,k;function c(l,d){return Object.keys(l.FC).map(function(g){return l.FC[g];}).filter(function(g){return void 0 === g.OF || 1 === g.OF;}).reduce(function(g,h){return g + h.Oq[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.gHa=void 0;f=a(15);k=a(20);r=(function(){function l(d,g,h){this.Da=d;this.console=g;this.Zja=h;}l.prototype.Lob=function(d,g,h){var m,n,q;k.ia && this.console.log("canIssueRequest " + this.Da.id + " [" + g + "] " + h + " usage: " + JSON.stringify(d));m=h && this.Da.config.pYb;h=this.Da.config.kua || m;n=this.Zja();if(m){m=d.global;m=(q={},q[0]=m[0] - c(d,0),q[1]=m[1] - c(d,1),q);}q=m;d=this.qOa(g) || this.npb(d) || this.lpb(d,n,q) || this.mpb(d,n,q,g);n=f.Mqa(d);return !d || n && !h?{result:!0,reason:d}:(k.ia && this.console.log("canIssueRequest: " + this.Da.id + " [" + g + "] Cannot issue request due to " + d),{result:!1,reason:d});};l.prototype.qOa=function(d){var g;g=this.Da.config.$y;if(this.Da.mAb(d) >= (g || Infinity))return "mediaDurationLimit";};l.prototype.npb=function(d){return d.FC[this.Da.id].total.total > (this.Da.v3() || Infinity)?"playgraphMemoryLimit":void 0;};l.prototype.lpb=function(d,g,h){d=d.global;return h?h[0] + h[1] > (g.Tsa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (g.total.total || Infinity)?"globalMemoryLimit":void 0;};l.prototype.mpb=function(d,g,h,m){var n;n=d.global;return h?(k.ia && this.console.log("checkRequestByMediaTypeMemory [" + m + "]: using static limit " + (g.Tsa[m] + ", usage: " + h) + (" (global: " + n[m] + "  - certain contiguous: ") + (c(d,m) + ")")),h[m] > (g.Tsa[m] || Infinity)?1 === m?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[m] > (g.total[m] || Infinity)?1 === m?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return l;})();b.gHa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fFa=void 0;r=(function(){function a(c){this.console=c;this.tga();}a.prototype.get=function(c){return this.a2[c] || this.ii[c];};a.prototype.set=function(c,f){void 0 === this.ii[c] && (this.ii[c]=f);};a.prototype.PSb=function(c,f){void 0 === this.get(c) && (this.a2[c]=f);};a.prototype.clear=function(c){this.a2[c]=void 0;this.ii[c]=void 0;};a.prototype.Ipb=function(c){var f;this.ii=(f={},f[c]=this.ii[c],f);this.a2={};};a.prototype.tga=function(){this.ii={};this.a2={};};return a;})();b.fFa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.hFa=b.yD=void 0;c=a(2);f=a(6);(function(l){l[l.U9=0]="CREATED";l[l.zba=1]="STARTED";l[l.OP=2]="REQUEST_ISSUED";l[l.Dw=3]="EVALUATED";})(k=b.yD || (b.yD={}));r=(function(){function l(d){this.aw=d;this.Jc=k.U9;this.UC={};this.RW={};}Object.defineProperties(l.prototype,{state:{get:function(){return this.Jc;},enumerable:!1,configurable:!0}});l.prototype.start=function(){var d;d=this;this.Jc !== k.zba && (this.OU(k.zba),[k.Dw,k.OP].forEach(function(g){var h;h=new Promise(function(m){f.assert(d.RW && d.UC,"state promises should be defined");d.RW[g]=m;d.UC[g]=h;});}),this.aw(),this.OU(k.Dw));};l.prototype.OU=function(d){this.Jc=d;this.RW && (d=this.RW[d],null === d || void 0 === d?void 0:d());};l.prototype.zb=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Jc !== k.zba)return [3,2];f.assert(this.UC,"state resolves should be defined");return [4,this.UC[k.Dw]];case 1:(d.Yd(),d.label=2);case 2:return (this.RW=this.UC=void 0,[2]);}});});};l.prototype.d9=function(d,g){c.__awaiter(this,void 0,void 0,function(){var h;return c.__generator(this,function(m){switch(m.label){case 0:if(this.Jc === k.Dw)return [3,6];f.assert(this.UC,"state promises should be defined");h=d;switch(h){case k.Dw:return [3,1];case k.OP:return [3,3];}return [3,5];case 1:return [4,this.UC[k.Dw]];case 2:return (m.Yd(),[3,6]);case 3:return [4,this.UC[k.OP]];case 4:return (m.Yd(),[3,6]);case 5:return [3,6];case 6:return (null === g || void 0 === g?void 0:g(),[2]);}});});};return l;})();b.hFa=r;},function(r,b,a){var c,f,k,l,d,g;Object.defineProperties(b,{__esModule:{value:!0}});b.gGa=void 0;c=a(2);f=a(6);k=c.__importDefault(a(5));l=a(114);d=a(68);g=a(9);r=(function(){function h(m,n,q){var h31,p;h31=2;for(;h31 !== 14;){switch(h31){case 9:var O7H="Re";O7H+="qu";O7H+="est";O7H+="Pace";O7H+="r";var V7H="1";V7H+="SIY";V7H+="bZrNJCp9";V7H;this.Yn=new l.DA({qt:this,source:O7H,Lea:function(){var i31;i31=2;for(;i31 !== 1;){switch(i31){case 2:return {numOutstanding:p.oE};break;case 4:return {numOutstanding:p.oE};break;i31=1;break;}}},sC:10});this.D2a=new g.OZ();this.lga=q.xB(function(){var j31;j31=2;for(;j31 !== 1;){switch(j31){case 2:return p.rOa(k.default.time.ba());break;}}});h31=14;break;case 2:var t7H="me";t7H+="di";t7H+="a";t7H+="|asejs";var B7H="ASEJS_RE";B7H+="QUE";B7H+="ST_PACER";p=this;this.U4=m;this.config=n;this.oE=0;this.console=new k.default.Console(B7H,t7H);h31=9;break;}}}var g31;g31=2;for(;g31 !== 13;){switch(g31){case 14:return h;break;case 2:Object.defineProperties(h.prototype,{gLb:{get:function(){var k31;k31=2;for(;k31 !== 1;){switch(k31){case 2:return this.oE;break;}}},enumerable:!1,configurable:!0}});h.prototype.Gl=function(){var l31;l31=2;for(;l31 !== 5;){switch(l31){case 2:this.Yn.Su({taskState:this.lga.state});this.lga.state !== d.vl.qW && this.lga.pl();l31=5;break;}}};h.prototype.yx=function(m){var m31;m31=2;for(;m31 !== 4;){switch(m31){case 1:var W7H="More than maxAllowedOutstandingReque";W7H+="sts are outstandin";W7H+="g";this.oE++;f.assert(this.oE <= this.config.r5,W7H);m31=4;break;case 2:this.Yn.Su({mediaType:m.mediaType,contentStartPts:m.Mc,contentEndPts:m.vc});m31=1;break;}}};h.prototype.PG=function(m){var n31;n31=2;for(;n31 !== 3;){switch(n31){case 2:var c7H="remove";c7H+="Reque";c7H+="st";var M7H="Received ";M7H+="remove ";M7H+="request when there are no requests outstanding";this.Yn.Su({mediaType:m.mediaType,contentStartPts:m.Mc,contentEndPts:m.vc});this.oE--;f.assert(0 <= this.oE,M7H);this.Gl(c7H);n31=3;break;}}};g31=3;break;case 3:var T7H="r";T7H+="O";T7H+="a";var q7H="chec";q7H+="kReque";q7H+="stOpportunityRu";q7H+="nner";var X7H="P";X7H+="G";var D7H="r";D7H+="e";D7H+="moveRequest";var N7H="y";N7H+="x";var p7H="a";p7H+="d";p7H+="dRequ";p7H+="est";var v7H="G";v7H+="l";var d7H="checkRequestO";d7H+="ppor";d7H+="tunity";h.prototype.rOa=function(m){var o31,n,q,p;o31=2;for(;o31 !== 5;){switch(o31){case 2:return c.__generator(this,function(){var p31;p31=2;for(;p31 !== 6;){switch(p31){case 4:this.D2a.push(q);p31=3;break;case 5:p=0;p31=4;break;case 3:p31=this.oE < n && this.U4()?9:8;break;case 2:n=this.config.r5;q=k.default.time.ba() - m;p31=5;break;case 9:p++;p31=3;break;case 8:var u7H="request";u7H+="OpportunityRunnerCom";u7H+="plete";this.Yn.uR(u7H,{requestsIssued:p,scheduledMs:m,timeSinceScheduled:q},!0);return [2];break;}}});break;}}};c.__decorate([l.Rb({methodName:d7H,Kl:!0,Hq:!0})],h.prototype,v7H,null);c.__decorate([l.Rb({methodName:p7H,Kl:!0})],h.prototype,N7H,null);c.__decorate([l.Rb({methodName:D7H,Kl:!0})],h.prototype,X7H,null);c.__decorate([l.Rb({methodName:q7H,Kl:!0})],h.prototype,T7H,null);g31=14;break;}}})();b.gGa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zya=void 0;c=a(54);r=(function(){function f(k){this.Hb=k;}Object.defineProperties(f.prototype,{Li:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Qn=function(k){var l;if(k.oi === c.ae.pp && this.Hb){k={};l=this.Hb.get();l && l.avtp && l.avtp.Ca && (k.avtp=l.avtp.Ca,k.dltm=l.avtp.BB);l && l.cdnavtp && (k.cdnavtp=l.cdnavtp,k.activecdnavtp=l.activecdnavtp);if(l=this.Hb.z3())(l.bytesRequestedPacingVideo && (k.bytesRequestedPacingVideo=l.bytesRequestedPacingVideo,k.bytesPacedVideo=l.bytesPacedVideo,k.bytestotalVideo=l.bytestotalVideo,k.pacedAvtpVideo=l.pacedAvtpVideo),l.bytesRequestedPacingAudio && (k.bytesRequestedPacingAudio=l.bytesRequestedPacingAudio,k.bytesPacedAudio=l.bytesPacedAudio,k.bytestotalAudio=l.bytestotalAudio,k.pacedAvtpAudio=l.pacedAvtpAudio),l.pacedAvtp && (k.pacedAvtp=l.pacedAvtp));if(l=this.Hb.r3())(k.initial_avtp=l.WF,k.initial_dltime=l.BB,k.initial_responses_audio=l.wWa,k.initial_responses_video=l.xWa);this.Hb.flush();if(l=this.Hb.MTa())for(var d in l){l.hasOwnProperty(d) && (k["ne" + d]=Number(l[d]).toFixed(6));}return k;}};return f;})();b.zya=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.YGa=void 0;c=a(54);r=(function(){function f(k){k.events.on("streamSelection",this.mpa.bind(this));}f.prototype.mpa=function(k){0 === k.mediaType && void 0 === this.tWa?this.tWa=k:1 === k.mediaType && void 0 === this.yWa && (this.yWa=k);};Object.defineProperties(f.prototype,{Li:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Qn=function(k){var l;if(k.oi === c.ae.Vt)return (k=null !== (l=this.yWa) && void 0 !== l?l:this.tWa,{histdiscbw:null === k || void 0 === k?void 0:k.result.Ws,histage:null === k || void 0 === k?void 0:k.result.Un});};return f;})();b.YGa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.sHa=void 0;r=a(2);c=a(16);f=a(20);k=r.__importDefault(a(5));a=(function(){function l(d){this.Gf=d;this.e_=[];this.reset();}Object.defineProperties(l.prototype,{Li:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{yC:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return f.ia;},enumerable:!1,configurable:!0}});l.prototype.reset=function(){var d,g;d=this;null === (g=this.nJ) || void 0 === g?void 0:g.clear();this.nJ=new c.yh();this.nJ.on(this.Gf,"clockChanged",function(){d.reset();d.mT("initial");});this.nJ.on(this.Gf,"stopping",function(){d.mT("stopping");});this.nJ.on(this.Gf.wa,"clockAdjusted",function(){d.mT("clockAdjusted");});this.nJ.on(this.Gf.wa,"stopStart",function(){d.mT("stopStart");});this.nJ.on(this.Gf.wa,"speedChanged",function(){d.mT("speedChanged");});};l.prototype.mT=function(d){this.e_.push({reason:d,audit:this.Gf.mzb(),time:k.default.time.ba()});5 < this.e_.length && this.e_.shift();};l.prototype.Qn=function(){return this.e_;};return l;})();b.sHa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iGa=void 0;c=a(54);r=(function(){function f(k,l){this.Hb=k;this.E2a=l;}Object.defineProperties(f.prototype,{Li:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Qn=function(k){var l;k=k.oi;if(k === c.ae.pp || k === c.ae.Hr || void 0 === k){k={numOutstandingRequests:this.E2a.gLb,requestOpportunityDelayStats:this.E2a.D2a};l=this.Hb.JLa;l && l.length && (k.activeRequests=JSON.stringify(l));return k;}};return f;})();b.iGa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Dya=void 0;r=(function(){function a(c){this.u2=c;this.yC="engine";this.enabled=!0;}Object.defineProperties(a.prototype,{Li:{get:function(){return this.yC;},enumerable:!1,configurable:!0}});a.prototype.Qn=function(){var c;c=this.u2.XNb.map(function(f){var k;k=f.Da;return {id:k.id,weight:k.weight,relativeWeight:f.$V};});return {prefetcher:this.u2.Ct.getStats(),playgraphs:c,viewables:this.u2.UYb,players:this.u2.Z0a.length};};return a;})();b.Dya=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jza=void 0;c=a(6);f=a(437);r=(function(){function k(){this.global=new f.vP();this.FC={};}k.prototype.add=function(l,d){c.assert(void 0 === this.FC[l],"Cannot add new memory object for playgraph");this.FC[l]=d;this.global.add(d.Oq);this.global.add(d.xS);};return k;})();b.jza=r;},function(r,b,a){var c,f,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.CCa=void 0;c=a(2);f=a(20);k=a(433);l=a(114);r=(function(){function d(g,h,m){this.Zja=g;this.DAb=h;this.H=m;this.Qh=new l.DA({qt:this,console:m,source:"MemoryDeadlockProtector",sC:5});}d.prototype.Fyb=function(g){var h,m,n,q;n=g.config;q=n.Si + (null !== (m=null === (h=n.BN) || void 0 === h?void 0:h.V) && void 0 !== m?m:0);h=this.xDb(q,g);f.ia && this.H.debug("MDP: has prebuf: " + h);return h?{f2:!0}:(m=this.wob(n),h=m.CMb,m=m.yYb,h && m?(f.ia && this.H.debug("MDP: utilizing " + Math.round(100 * m) + "%"),m >= n.vJb?this.N2a(g,h):{f2:!0}):{f2:!1});};d.prototype.N2a=function(g,h){var m,n,q,p,t,w,y,z;this.Qh.Su({o:h});p=g.T;g=g.Bb;t=p.Bb;p=p.bG;for(var u=0;u < t.length;u++){if(!t[u].$o){p=t[u];t=t.slice(0,u + 1);break;}}u=!1;w=[{mediaType:0,oB:0},{mediaType:1,oB:0}];if(null === p || void 0 === p || !p.$o){g=g.map(function(B){return B;}).filter(function(B){return -1 === t.indexOf(B);}).sort(function(B,D){return k.Wfa(B) - k.Wfa(D);});try{for(var v=c.__values(g),x=v.next();!x.done;x=v.next()){y=x.value;z=y.BF();w[0].oB+=null !== (n=z.oR) && void 0 !== n?n:0;w[1].oB+=null !== (q=z.Wz) && void 0 !== q?q:0;f.ia && this.H.debug("Resetting discontiguous branch " + y.P.id,z);y.reset();if(u=w.every(function(B){return B.oB >= h[B.mediaType].oB;}))break;}}catch(B){var A;A={error:B};}finally{try{x && !x.done && (m=v.return) && m.call(v);}finally{if(A)throw A.error;}}}return {f2:u,L5b:w};};d.prototype.wob=function(g){var h,m,n,q;if(!g.wJb)return {};h=this.DAb();m=this.Zja().total;n=g.uJb;q=0;g=[0,1].map(function(p){var t;t=h[p] - m[p] * n;q=Math.max(0 < m[p]?h[p] / m[p]:0,q);return {oB:Math.max(0,t),mediaType:p};});return {yYb:q,CMb:g};};d.prototype.xDb=function(g,h){var m,n;m=!1;h=h.W3?h.T:void 0;if(null === h || void 0 === h?0:h.UEb){m=h.Nh.xy().map(function(q){return q.mediaType;});n=h.Qzb();m=m.every(function(q){var p,t;if(0 === q)q=null !== (p=n.ks) && void 0 !== p?p:0;else if(1 === q)q=null !== (t=n.vo) && void 0 !== t?t:0;else throw Error("Unsupported media type:" + q);return q >= g;});}return m;};c.__decorate([l.Rb({methodName:"resetDiscontiguousBranches",return:!0,Kl:!0})],d.prototype,"N2a",null);return d;})();b.CCa=r;},function(r,b,a){var c,f,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.yva=void 0;r=a(2);c=a(9);f=r.__importDefault(a(27));k=a(30);l=r.__importDefault(a(408));d=a(54);a=(function(){function g(h){var m,n;m=this;this.Da=h;this.jv="aseReport";this.WNa=c.S.Ey;this.zn=!1;if(0 === Math.floor(1E6 * Math.random()) % h.config.hB || h.config.ESa){this.WNa=c.S.mb(h.config.U0);this.Da.ns=!0;n=[];n[f.default.Ra.Eb]=new l.default(h.config,f.default.Ra.Eb);n[f.default.Ra.Sb]=new l.default(h.config,f.default.Ra.Sb);this.bea=n;this.Da.events.on("openComplete",function(){return m.open();});}}g.prototype.open=function(){this.Da.ns && !this.zn && (this.zn=!0,this.Da.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.Da.events.on("streamSelection",this.mpa.bind(this)));};g.prototype.mpa=function(h){this.bea[h.mediaType].add(h.result,h.streamList);};g.prototype.Lka=function(){var h;h=k.flatten(this.bea.map(function(m){return m.get();}).filter(function(m){return void 0 !== m;}));this.bea.forEach(function(m){return m.reset(!0);});return h;};g.prototype.Qf=function(h){var m;m=h.oi;h=h.wFb;return this.Da.ns && this.zn && (h || m === d.ae.pp) && (m=this.Lka()) && m.length?{p4a:!0,event:{type:"asereport",strmsel:m}}:{p4a:!1,event:{type:"asereport",strmsel:[]}};};return g;})();b.yva=a;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z;Object.defineProperties(b,{__esModule:{value:!0}});b.AFa=void 0;c=a(2);f=a(16);k=a(15);l=a(9);d=a(978);g=a(30);h=a(6);m=a(979);n=a(20);q=a(95);p=a(980);t=c.__importDefault(a(5));u=a(981);w=a(982);v=a(983);x=a(259);y=a(985);z=a(986);r=(function(){function A(B,D,E,F,C){void 0 === F && (F=new w.Bxa());void 0 === C && (C=new u.Axa());this.JRa=B;this.config=D;this.e2a=F;this.Xl=[];this.k1a=[];this.qw=[];this.events=new f.EventEmitter();this.H=l.er(t.default,E,"PREFETCH");this.ZLa(new v.dxa(D));this.ZLa(new z.GGa(D));this.J3a({TF:D.rOb});this.rsa(C);}Object.defineProperties(A.prototype,{sOb:{get:function(){return this.Xl.map(function(B){return B.context;});},enumerable:!1,configurable:!0}});A.prototype.jTb=function(B){n.ia && h.assert(B,"Reconciliation strategy is undefined");this.e2a=B;};A.prototype.ZLa=function(B){this.k1a.unshift(B);};A.prototype.g4a=function(B){n.ia && this.H.debug("Wish list changed",{F7b:B.length});this.qw=B;this.qqa();};A.prototype.reset=function(){var B,F,C,G,J,K;if(this.config.BOb)try{for(var D=c.__values(this.Xl),E=D.next();!E.done;E=D.next()){F=E.value;C=F.Da;G=F.Z4;J=F.context;if(C){C.Cf();G.ara(function(L){return "segmentNormalized" !== L.jv;});K=x.E3(J.je,C.Da);C.bH(K);}}}catch(L){var H;H={error:L};}finally{try{E && !E.done && (B=D.return) && B.call(D);}finally{if(H)throw H.error;}}else this.g4a([]);};A.prototype.J3a=function(B){n.ia && this.H.debug("Budget changed",{O7b:this.PR,E7b:B});this.PR=B;this.qqa();};A.prototype.Cpb=function(B,D){var E,F,C,G,J;if(D=this.e2a.Wxb(this.Xl,{Da:B,yk:D})){C=this.qw.indexOf(D.context.je);n.ia && this.H.debug("Claiming item: " + x.Fp(D.context.je.key),{Dl:t.default.time.ba() - D.u8,buffer:null === (E=D.Da) || void 0 === E?void 0:E.Jh(l.S.ab)});this.HS(D.context,{zXa:! !D.Da});if(D.Da){E=D.Da;G=D.context;J=D.sr;y.yFa.XQb(E,D.Z4,this.H);B=x.E3(G.je,B);J.TRb(null !== (F=E.MT(B)) && void 0 !== F?F:l.S.ab,C);E.I6a({TF:this.config.jt || Infinity});}}this.config.Ylb || this.reset();return null === D || void 0 === D?void 0:D.Da;};A.prototype.Bpb=function(){};A.prototype.getStats=function(){var B;B=t.default.time.ba();return {wishListLength:this.qw.length,prefetchList:this.sOb.length,contents:this.Xl.map(function(D){var E,F,C,G,J;return {id:x.Fp(D.context.je.key),buffer:null === (E=D.Da) || void 0 === E?void 0:E.Jh(l.S.ab),pId:null === (F=D.Da) || void 0 === F?void 0:F.id,budget:{inMemoryBytes:D.context.tXa.TF},weight:D.context.T6,age:B - D.u8,timeOpened:B - (null !== (C=D.cWb) && void 0 !== C?C:0),state:k.zc[null !== (J=null === (G=D.Da) || void 0 === G?void 0:G.kf.value) && void 0 !== J?J:k.zc.Ci]};})};};A.prototype.HS=function(B,D){var E;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var F,C,G,J,K,H;return c.__generator(this,function(L){switch(L.label){case 0:F=c.__assign({zXa:!1,xXa:!1},D);C=F.zXa;G=F.xXa;J=g.vg(this.Xl,function(P){return P.context === B;});if(!J)return [3,3];this.Xl.splice(this.Xl.indexOf(J),1);G || (K=this.qw.length,this.qw=this.qw.filter(function(P){return P !== B.je;}),n.ia && this.H.info("Dropping items from wishlist",K - this.qw.length),this.qw.length >= K && n.ia && this.H.warn("Unable to filter out wishlist item",this.qw.map(function(P){return P.key;}),B.je.key));n.ia && this.H.debug("Dropping playgraph",{Dl:t.default.time.ba() - J.u8,buffer:null === (E=J.Da) || void 0 === E?void 0:E.Jh(l.S.ab),aa:x.Fp(B.je.key),j8b:!C,A5b:!G});if(C)return [3,2];H=this.Kt(J);return J.Da?[4,H]:[3,2];case 1:(L.Yd(),L.label=2);case 2:(this.qqa(),L.label=3);case 3:return [2];}});});};A.prototype.rsa=function(B){h.assert(B,"Playgraph resolver is undefined");this.Zpa=B;return this;};A.prototype.qqa=function(){var B,D,E,F,C,G;B=this;D=d.Lwa.kFb({nZb:this.qw,YCb:this.PR},this.k1a.map(function(J){return J.$Na.bind(J);})).Xl;E=g.ms(D,this.Xl,function(J,K){return x.isEqual(J.je.key,K.context.je.key);});F=g.ms(this.Xl,D,function(J,K){return x.isEqual(J.context.je.key,K.je.key);});C=g.ms(this.Xl,F);n.ia && this.H.debug("Re-evaluated prefetch items. new:" + E.length + ", evict: " + F.length + ", update: " + E.length);F=F.map(function(J){var K;K=J.context.je.key;n.ia && B.H.debug("Releasing playgraph",x.Fp(K));return B.Kt(J).then(function(){B.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:J.context.je});});});G=C.map(function(J){return c.__awaiter(B,void 0,void 0,function(){var K,H;return c.__generator(this,function(L){switch(L.label){case 0:return (K=g.vg(D,function(P){return x.isEqual(P.je.key,J.context.je.key);}),h.assert(K,"Couldn't find the requested item context"),J.context=K,[4,J.S6]);case 1:return (H=L.Yd(),g.vg(this.Xl,function(P){return P === J;}) && (this.JMa(J.context,H),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:J.context.je})),[2]);}});});});E=E.map(function(J){var K;K=B.gtb(J);B.events.emit("itemQueued",{type:"itemQueued",wishListItem:J.je});return K;});this.Xl=c.__spread(C,E);C=E.map(function(J){return J.S6;});C=F.concat(G).concat(C);Promise.all(C);};A.prototype.Kt=function(B){var D;D=this;return B.S6.then(function(E){return c.__awaiter(D,void 0,void 0,function(){var F;return c.__generator(this,function(C){switch(C.label){case 0:return (n.ia && this.H.debug("Removing prefetch playgraph",{size:E.Jh(l.S.ab)}),B.z2.clear(),[4,this.JRa()]);case 1:return (F=C.Yd(),F.Kt(E),[2]);}});});});};A.prototype.dtb=function(B){return c.__awaiter(this,void 0,void 0,function(){var D,E,F,C,G,J;J=this;return c.__generator(this,function(K){switch(K.label){case 0:return (D=B.context,E=x.Fp(D.je.key),n.ia && this.H.debug("Creating playgraph",E),[4,this.Zpa.JYa(D)]);case 1:return (F=K.Yd(),[4,this.JRa()]);case 2:return (C=K.Yd(),G=C.NE(F,D.T6,D.yk,D.je.PH,!1),B.z2.addListener(G.events,"error",function(H){n.ia && J.H.debug("Prefetch playgraph resulted in error",H.y5b);J.HS(D);}),[2,G]);}});});};A.prototype.nMb=function(B,D){var F,C,G;function E(J){n.ia && F.H.debug("Viewable " + (J?"superseded":"expired"),x.Fp(B.context.je.key));B.S6b=!0;F.HS(B.context,{xXa:!J});}F=this;C=B.context;G=x.Fp(C.je.key);this.JMa(C,D);D.open();D.dw({xr:function(J,K){var H;H=J.recommendedMedia;return H?g.cp(K,function(L){return L.new_track_id === H.ep;}):g.cp(K,function(L){return L.track_id === J.defaultTrackOrderList[0].audioTrackId;});}},{xr:function(J,K){var H;H=J.recommendedMedia;return H?g.cp(K,function(L){return L.new_track_id === H.dO;}):g.cp(K,function(L){return L.track_id === J.defaultTrackOrderList[0].videoTrackId;});}});D.bH(x.E3(C.je,D.Da));D=C.je.PH.Ls(G);D.events && (B.z2.addListener(D.events,"viewableEvicted",function(){E(!0);}),B.z2.addListener(D.events,"viewableExpired",function(){E(!1);}));D.FB && (n.ia && this.H.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.HS(B.context));};A.prototype.JMa=function(B,D){var E;D.W6a(B.T6);D.I6a(B.tXa);B=B.UUb;E=B.video;D.usa(new q.VD(B.audio,!0),new q.VD(E,!0));};A.prototype.gtb=function(B){var D,E,F;D=this;E=new m.zFa();F={context:B,u8:t.default.time.ba(),z2:new f.yh(),sr:E};F.S6=this.dtb(F);F.S6.then(function(C){return c.__awaiter(D,void 0,void 0,function(){var G;G=this;return c.__generator(this,function(){try{return (F.Da=C,C.ei(E),E.Hmb(C),F.Z4=new p.Mya(C.events,{UTb:function(J){var K;K=J.jv;switch(K){case "buffering":return !1;case "bufferingStarted":F.Z4.ara(function(H){return "bufferingComplete" === H.jv || "updateStreamingPts" === H.jv;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":F.Z4.ara(function(H){return H.jv === K;});default:return !0;}}}),C.events.on("bufferingComplete",function(){G.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:B.je});}),this.nMb(F,C),F.cWb=t.default.time.ba(),[2,C]);}catch(J){throw (n.ia && this.H.error("Exception occurred creating playgraph",J),this.HS(F.context),J);}});});});return F;};return A;})();b.AFa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Lwa=void 0;b.Lwa=(function(){function a(){}a.kFb=function(c,f){var d;function k(g){return l(d++)(g,k);}function l(g){return g >= f.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + g);}:f[g];}d=0;return k(c);};return a;})();},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.zFa=void 0;c=a(2).__importDefault(a(5));f=a(54);r=(function(){function k(){this.creationTime=c.default.time.ba();this.Vb={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}k.prototype.Hmb=function(l){this.Da=l;};k.prototype.TRb=function(l,d){var g;l=null === (g=this.Da) || void 0 === g?void 0:g.Jh(l);this.Vb={isPrefetchItem:!0,prefetchedVideoMs:l.kX,prefetchedAudioMs:l.jX,prefetchClaimDurationMs:c.default.time.ba() - this.creationTime,prefetchRank:d};};Object.defineProperties(k.prototype,{Li:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Qn=function(l){if(l.oi === f.ae.Vt)return this.Vb;};return k;})();b.zFa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Mya=void 0;c=a(2);r=(function(){function k(l,d){void 0 === d && (d={});this.up=l;this.options=d;this.wF=[];this.fU=new f(l,this.nlb.bind(this));}k.prototype.nlb=function(l){for(var d,g,h,m,n,q,p=[],t=1;t < arguments.length;t++){p[t - 1]=arguments[t];}p={jv:l,Hq:p};(null !== (h=null === (g=(d=this.options).UTb) || void 0 === g?void 0:g.call(d,p,this.wF)) && void 0 !== h?h:1) && this.wF.push(p);return null !== (q=null === (n=(m=this.options).G8b) || void 0 === n?void 0:n.call(m,p)) && void 0 !== q?q:!0;};k.prototype.ara=function(l){this.wF=this.wF.filter(function(d,g){return !l(d,g);});};k.prototype.jra=function(){var l;l=this;this.fU.B6a();this.wF.forEach(function(d){var g;(g=l.up).emit.apply(g,c.__spread([d.jv],d.Hq));});this.fU.FWa();};Object.defineProperties(k.prototype,{length:{get:function(){return this.wF.length;},enumerable:!1,configurable:!0}});k.prototype.clear=function(){this.wF=[];};k.prototype.zb=function(){this.fU.B6a();};return k;})();b.Mya=r;f=(function(){function k(l,d){var g;g=this;this.up=l;this.TR=d;this.fU=function(h){for(var m,n=[],q=1;q < arguments.length;q++){n[q - 1]=arguments[q];}return g.TR.apply(g,c.__spread([h],n))?(m=g.V_a).call.apply(m,c.__spread([g.up,h],n)):!1;};this.V_a=this.up.emit;this.FWa();}k.prototype.FWa=function(){this.up.emit=this.fU;};k.prototype.B6a=function(){this.up.emit=this.V_a;};return k;})();},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Axa=void 0;c=a(2);f=a(67);k=a(259);r=(function(){function l(){}l.prototype.JYa=function(d){return c.__awaiter(this,void 0,void 0,function(){var g,h,m,n,q;return c.__generator(this,function(p){switch(p.label){case 0:g=d.je.key;if(!k.kU(g))return [3,2];h=g.aa;m=d.je.PH.Ls(h);return [4,Promise.resolve(m.Lr)];case 1:return (n=p.Yd(),q=n.sa,q.Ln?[2,f.sB(q.Ln,{config:n.config})]:[2,f.mH(h,"ps0")]);case 2:return [2,g.Da];}});});};return l;})();b.Axa=r;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Bxa=void 0;c=a(2);f=a(6);k=a(259);r=(function(){function l(){}l.Fp=function(d){var g,h;g=d.xa;d=d.Qe;h=g[d].aa;Object.keys(g).forEach(function(m){return f.assert(g[m].aa === h);});return g[d].aa;};l.prototype.Wxb=function(d,g){var h;h=Object.keys(g.Da.xa).length;return c.__read(d.filter(function(m){var n,q;return l.Fp(g.Da) === k.Fp(m.context.je.key) && (1 === h || h === Object.keys(null !== (q=null === (n=m.Da) || void 0 === n?void 0:n.Da.xa) && void 0 !== q?q:{}).length);}),1)[0];};return l;})();b.Bxa=r;},function(r,b,a){var c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.dxa=b.hxa=void 0;c=a(95);f=a(984);b.hxa=625E3;r=(function(){function k(l){this.config=l;}k.prototype.$Na=function(l){var d,g,h;d=this.config.c2;g=(this.config.lZa || this.config.b2) * b.hxa / 1E3;h=Math.floor(l.YCb.TF / g);return {Xl:l.nZb.sort(function(m,n){return m.priority - n.priority;}).slice(0,d).map(function(m,n){var q;q=m.key.config;return {tXa:{TF:n > h - 1?0:g},je:m,T6:1,yk:q,UUb:{audio:[c.iF(q),new f.Gba()],video:[c.jF(q),new f.Gba()]}};})};};return k;})();b.dxa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Gba=void 0;c=a(15);r=(function(){function f(){}f.prototype.Dm=function(k,l){return l === c.zc.ak?[]:k;};return f;})();b.Gba=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yFa=void 0;c=a(20);b.yFa=(function(){function f(){}f.XQb=function(k,l,d){var g;g=k.open;k.open=function(){c.ia && d.log("Replaying " + l.length + " events from prefetched playgraph");l.jra();l.zb();k.open=g;return g.call(k);};};return f;})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GGa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.$Na=function(c,f){var k,l;k=this;c=f(c);l=c.Xl.map(function(d){return d.je.priority;}).sort();c.Xl.forEach(function(d){d.T6=k.config.uOb / (2 << l.lastIndexOf(d.je.priority));});return c;};return a;})();b.GGa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pFa=void 0;r=(function(){function a(c){var f;f=this;c=c.Gl;this.PF=function(){f.Gl();};this.Gl=c;}a.prototype.NE=function(c){c.events.on("requestsPruned",this.PF);};a.prototype.Kt=function(c){c.events.removeListener("requestsPruned",this.PF);};return a;})();b.pFa=r;},function(r,b){function a(c,f,k,l){return c && f?Math.min(c - f * k,c - l):(c || Infinity) - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.bOa=void 0;b.bOa=function(c,f){var k,l,d;l=a(f.audio,f.jfa,c.qPa,c.oPa);d=a(f.video,f.wua,c.qPa,c.pPa);return (k={},k[0]=l,k[1]=d,k.total=(f.total || Infinity) - c.oPa - c.pPa,k);};},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z;Object.defineProperties(b,{__esModule:{value:!0}});b.JGa=void 0;c=a(2);f=a(16);k=c.__importStar(a(10));l=a(15);d=a(223);g=a(15);h=a(9);m=a(6);n=a(22);q=a(224);p=a(54);t=a(95);u=a(114);w=a(258);v=c.__importDefault(a(5));x=a(990);y=a(991);z=0;r=(function(A){function B(D,E,F,C,G,J,K,H,L,P,I){var O,N,M,Q,S;Q=A.call(this) || this;Q.console=D;Q.bo=E;Q.KQ=F;Q.QJ=G;Q.PW=J;Q.cv=H;Q.T=P;Q.config=I;Q.Cq=!1;Q.d_=!1;Q.fs=void 0;Q.Ve=function(){var fa,qa,xa,ua,X;null === (fa=Q.gQ) || void 0 === fa?void 0:fa.clear();fa=Q.$fb;X=Q.fjb;m.assert(fa);Q.Cg && m.assert(X);Q.Qk.value !== g.ka.wq && Q.Qk.value !== g.ka.Ci && (null !== (qa=Q.Ia) && void 0 !== qa && qa.Tn?(qa=null === (ua=null === (xa=Q.bo.Pa.Hb.get()) || void 0 === xa?void 0:xa.Oa) || void 0 === ua?void 0:ua.Ca,Q.qa.H8("startplay",p.ae.Vt),Q.A8.uR("emitBufferingComplete",{}),x.p2(Q,fa,Q.Ia.vd,qa,X,Q.qa.ns)):Q.console.error("Shim received buffering complete but player has no position (player " + (Q.Ia?"":"un") + "defined, state " + Q.Qk.value + ")"));};Q.FR=function(){var fa,qa,xa;Q.A8.uR("audioTrackSwitchComplete",{});m.assert(void 0 !== Q.sm);qa=Q.KQ.audio_tracks[Q.sm];xa=Q.sm;Q.sm=void 0;x.iRa(Q,qa,xa);null === (fa=Q.jV) || void 0 === fa?void 0:fa.call(Q);Q.jV=void 0;};m.assert(2 >= C.length,"Ase session shim suports a maximum of 1 parallel graph.");F=c.__read(C,2);D=F[0];F=F[1];Q.bi=new f.yh();Q.aa=D.Da.xa[J[0].va].aa;Q.Qk=new h.uq(g.ka.$g);Q.Zz=new t.$D(Q.console);Q.qa=D;Q.Cg=F;C.forEach(function(fa){var qa,xa;qa=fa.jF(Q.Zz);xa=fa.iF();fa.usa(xa,qa);});Q.W3a();Q.d5b=!1;Q.DQa=!1;x.KYa(Q.console,E,Q,D,F);S=z++;Q.A8=new u.DA({qt:Q,source:"ShimSession",console:Q.console,sC:50,Lea:function(){return {shimId:S};}});Q.qa.ei(new w.CA(Q.A8));Q.p7a=void 0 !== (null === (M=null === (N=(O=Q.T).AT) || void 0 === N?void 0:N.call(O)) || void 0 === M?void 0:M.la);Q.md=y.jNa(P);E=Q.vPa({Fd:Q.GYa(Q.qa.Da.Fd),BT:Q.y3.bind(Q)});Q.Ia=E;Q.Cg && (Q.Nj=Q.vPa({Fd:Q.GYa(Q.Cg.Da.Fd),BT:Q.y3.bind(Q)}));Q.Ia.events.on("segmentPresenting",function(){Q.fs=Q.EJa();});Q.on("streamerend",function(){return Q.aVb();});return Q;}c.__extends(B,A);Object.defineProperties(B.prototype,{K:{get:function(){return this.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{ca:{get:function(){return this.cv.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{mediaSourceId:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{zg:{get:function(){return this.bi;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{pe:{get:function(){return {u6b:{1:{Y:{Ea:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{FH:{get:function(){return void 0 !== this.sm;},enumerable:!1,configurable:!0}});B.prototype.DHb=function(){var D,E,F,C,G;D=this;G=null === (C=null === (F=(E=this.T).AT) || void 0 === F?void 0:F.call(E)) || void 0 === C?void 0:C.la;m.assert(G,"video element is not defined");G.addEventListener("play",function(){return D.yLa();});G.addEventListener("pause",function(){return D.Pk();});};B.prototype.aVb=function(){this.bo.ap(!0,this.cv.sessionId);};B.prototype.ZN=function(D,E){var F;this.qa.zi((F={},F[D]=E,F));};B.prototype.open=function(){var D,E,F,C;D=this;if(!this.Cq){this.Cq=!0;this.bo.ap(this.config.Gq,this.cv.sessionId);C=new Promise(function(G){setTimeout(G,0);}).then(function(){D.emit("openComplete",{type:"openComplete"});});this.qa.open();null === (E=this.Cg) || void 0 === E?void 0:E.open();this.qa.bH(this.PW[0]);m.assert(this.Ia,"asePlayer should be defined on session.open");this.PW[1] && (E=this.qa.TB(this.PW[0]),m.assert(E,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (F=this.Cg) || void 0 === F?void 0:F.bH(this.PW[1],E.gF));x.IYa(this.bo,this,this.Ia,this.console);this.Qk.set(g.ka.Yc);C.then(function(){D.iq(D.Ve);});this.qa.ffa(this.Ia);this.Cg && (m.assert(this.Nj,"parallelPlayer should be defined on session.open"),this.Cg.ffa(this.Nj));this.p7a && this.DHb();}};B.prototype.y3=function(){this.Ri || (this.Ri=new v.default.MediaSource(this.md),this.Ri.Yb || (this.Ri.Yb=v.default.MediaSource.Yb));return this.Ri;};B.prototype.vPa=function(D){void 0 === D && (D={});D=c.__assign({uC:this.config.uC,Vpa:this.config.Vpa},D);return this.bo.Pa.YLa(this.md,D);};B.prototype.GYa=function(D){return D?null === D || void 0 === D?void 0:D.map(function(E){return "video" === E?1:0;}):[0,1];};B.prototype.close=function(){this.Cq && (this.Cq=!1);this.bo.ap(!0,this.cv.sessionId,!0);};Object.defineProperties(B.prototype,{QE:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});B.prototype.flush=function(){var D;this.Cq && this.Qk.value !== g.ka.Ci && this.Qk.value !== g.ka.wq && this.stop();this.qa.H8("endplay",p.ae.pp);this.qa.Cf();null === (D=this.Cg) || void 0 === D?void 0:D.Cf();this.bo.mh.save();this.bo.Om.save();};B.prototype.paused=function(){this.p7a || this.Pk();};B.prototype.Pk=function(){this.Qk.value === g.ka.Hc && (this.Qk.set(g.ka.$h),this.md.emit("paused",{type:"paused",pd:this.md.wc}));};B.prototype.yLa=function(){this.Qk.value === g.ka.$h && (this.Qk.set(g.ka.Hc),this.md.emit("playing",{type:"playing",pd:this.md.wc}));};B.prototype.Lc=function(){var D,E;this.Cq && this.Qk.value !== g.ka.Ci && this.Qk.value !== g.ka.wq && this.stop();this.bo.LQb(this);this.Cq && this.close();this.Yw && (clearInterval(this.Yw),this.Yw=void 0);null === (D=this.gQ) || void 0 === D?void 0:D.clear();this.Ia && this.bo.Pa.XM(this.Ia);this.Nj && this.bo.Pa.XM(this.Nj);null === (E=this.Ri) || void 0 === E?void 0:E.mp();};B.prototype.suspend=function(){};B.prototype.resume=function(){};B.prototype.play=function(){var D;D=this;this.qa.state !== d.Hk.CLOSED && (m.assert(this.Ia,"ShimSession.play(), expected asePlayer to exist."),this.Ia.resume(this.d_?[1]:void 0),this.Cg && (m.assert(this.Nj,"ShimSession.play(), expected parallelPlayer to exist."),this.Nj.resume(this.d_?[1]:void 0)),this.Qk.set(g.ka.Hc),this.md.emit("playing",{type:"playing",pd:this.md.wc}),this.emit("play"),this.Yw || (this.Yw=setInterval(function(){return D.OKb();},this.config.gK)));};B.prototype.stop=function(){this.Qk.set(g.ka.wq);m.assert(this.Ia,"ShimSession.stop(), expected asePlayer to exist.");this.Ia.pause();this.Cg && (m.assert(this.Nj,"ShimSession.stop(), expected parallelPlayer to exist."),this.Nj.pause());this.md.emit("paused",{type:"paused",pd:this.md.wc});this.emit("stop");};B.prototype.gy=function(D){var E,F,C;void 0 === E && (E=!0);this.Ia?(D=parseInt(D),k.isFinite(D) && (E?(this.Ia.DW(D),null === (F=this.Nj) || void 0 === F?void 0:F.DW(D)):(this.Ia.nsa(D),null === (C=this.Nj) || void 0 === C?void 0:C.nsa(D)))):this.fail("Must call open prior to drmReady");};B.prototype.V3=function(){var D;if(!this.Ia || !this.Ia.Tn)return !1;D=this.Ia.Wn(this.qa.Da.xa[this.Ia.Mi.va].aa);return D && this.Cg && this.Nj?this.Nj.Wn(this.Cg.Da.xa[this.Nj.Mi.va].aa):D;};B.prototype.Hr=function(){this.Qk.set(g.ka.zf);this.md.emit("underflow",{type:"underflow",pd:this.md.wc});this.iq(this.Ve);};B.prototype.t3=function(D){var E;E=p.ae.Vt;switch(D){case "intrplay":E=p.ae.Hr;break;case "endplay":E=p.ae.pp;}D=this.qa.t3(E);return c.__assign(c.__assign({},D),{aseApiVersion:this.QE});};B.prototype.Ppa=function(){this.md.emit("playbackRateChanged",{type:"playbackRateChanged",pd:this.md.wc});};B.prototype.en=function(){var D;D=this.md.ze();D={type:"skipped",pts:n.S.mb(D)};this.md.emit(D.type,D);return new q.YD(Promise.resolve()).Dra;};B.prototype.Xfa=function(D,E){var F;E=this.Eka(E || 0,D);return null === (F=this.qa.Fm(E,D)) || void 0 === F?void 0:F.Mc;};B.prototype.As=function(D,E){var F;F=new n.S(E,1E3);return (F=this.qa.mr(F,{C4a:!0,B4a:!0}))?this.qa.Da.xa[F.va].jc + Number(F.offset.V.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + D + ", playerPts: " + E);};B.prototype.rK=function(D,E){D=this.Eka(D || 0,E);D={va:D,offset:new n.S(E - this.qa.Da.xa[D].jc,1E3)};return (D=this.qa.MT(D))?D.V:E;};B.prototype.y4=function(){var D,E,F;E={};F=null === (D=this.qa) || void 0 === D?void 0:D.eL();D=this.Cg?this.Cg.eL():F;F && (E.vbuflmsec=F.totalvbuflmsecs,E.vbuflbytes=F.vbuflbytes);D && (E.abuflmsec=D.totalabuflmsecs,E.abuflbytes=D.abuflbytes);return E;};B.prototype.pT=function(){return {Oe:0};};B.prototype.Dp=function(){var D,E;return null !== (D=this.fs) && void 0 !== D?D:(null === (E=this.Ia) || void 0 === E?0:E.X3())?this.EJa():{id:this.PW[0].va,Oe:0,Mc:0,vc:Infinity,Pd:Infinity,Xc:0};};B.prototype.EJa=function(){var D,E,F,C,G,J,K,H,L;m.assert(this.Ia,"attempted to get presenting branch information with no player");m.assert(this.Ia.X3(),"attempted to get presenting branch information but player has no branches");J=this.Ia.Dp() || ({});K=J.P;H=J.zj;L=J.GV;J=J.IM;return {id:K.id,Oe:null !== (D=null === H || void 0 === H?void 0:H.V) && void 0 !== D?D:0,Mc:null !== (E=null === K || void 0 === K?void 0:K.Ug.V) && void 0 !== E?E:0,vc:null !== (F=null === K || void 0 === K?void 0:K.Ml.V) && void 0 !== F?F:Infinity,Pd:null !== (C=null === L || void 0 === L?void 0:L.V) && void 0 !== C?C:Infinity,Xc:null !== (G=null === J || void 0 === J?void 0:J.V) && void 0 !== G?G:0};};B.prototype.s2a=function(){this.lG("removeSession");};B.prototype.wr=function(D,E){void 0 === E && (E=0);m.assert(!this.Cg,"Seeking with dual playgraphs not supported.");E=this.Eka(E,D);this.bo.ap(this.config.Gq,this.cv.sessionId);D={va:E,offset:n.S.mb(D - this.qa.Da.xa[E].jc)};this.fs=void 0;this.qa.bH(D);m.assert(this.Ia);this.Ia.resume();this.Qk.set(g.ka.Yc);this.iq(this.Ve);D=this.qa.Mra(D);m.assert(D,"Valid position must be provided for seek");return D.offset.V;};B.prototype.seek=function(D,E){D=this.As(E,D);return this.wr(D,E);};B.prototype.us=function(D,E,F){var C,G;C=this.Dp().id;G=this.qa.uUa(C,D);if(E){if(!G.s7a)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (D + " for current segment: " + C)),!1);if(void 0 !== G.nM)return (this.qa.Ck(C,D,!1,E),G.nM === D);this.qa.Ck(C,D,!1,E);return !0;}if(void 0 !== G.nM)return (F || this.wr(G.Mc,0),!1);G.i1?(m.assert(this.Ia),this.Ia.reset(),this.qa.Ck(C,D,!1,E),this.Ia.resume(),this.Qk.set(g.ka.Yc),this.iq(this.Ve)):F || this.wr(G.Mc,0);return ! !G.i1;};B.prototype.VJ=function(){this.lG("addManifest");};B.prototype.pR=function(){return this.lG("activateManifest");};B.prototype.E_a=function(){this.WIa();};B.prototype.p8=function(D){var E,F,C,G,J;E=this.Cg?this.Nj:this.Ia;F=D.ep;m.assert(!this.Cg,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.sm)return !1;D=this.KQ.audio_tracks;if(!D.some(function(K,H){if(K.track_id === F)return (C=K,G=H,!0);}))return !1;D=D[this.QJ[0]];this.sm=G;J=null === E || void 0 === E?void 0:E.Mz;J?this.WIa():(this.d_=!0,null === E || void 0 === E?void 0:E.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:D.language,oldNumChannels:D.channels,newLangCode:C.language,newNumChannels:C.channels,sourceBufferReset:J}));return !0;};B.prototype.Zp=function(D,E){this.Zz.Zp(D,E);};B.prototype.gi=function(D){return this.Ia?this.Ia.gi(n.S.mb(D)):!1;};B.prototype.y2=function(){this.lG("evaluateQoE");};B.prototype.Usa=function(){this.lG("stopBuffering");};B.prototype.qH=function(){return this.lG("startBuffering");};B.prototype.ZUa=function(){return this.lG("getStreamingStatistics");};B.prototype.fail=function(D){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:D,manifestIndex:0});};B.prototype.Eka=function(D,E){return 0 !== D?this.fail("Unexpected manifestIndex: " + D + ", single viewable playback only supports manifestIndex: 0"):this.bT(E);};B.prototype.bT=function(D){var E,F,G,J,K,H,L;E=this.qa.Da;F=[];m.assert(0 <= D,"contentPts must be 0 or greater for segmentId lookup");for(var C in E.xa){G=E.xa[C];J=G.jc;G=G.Fc;K=D < Number(null !== G && void 0 !== G?G:Infinity);if(J <= D && K)F.push(C);else if((J=Math.min(Math.abs(D - J),Math.abs(D - G)),void 0 === H || J < H))(H=J,L=C);}m.assert(1 >= F.length,"Overlapped segments detected in branching, this is not supported");D=F[0] || L;m.assert(void 0 !== D,"segmentId from contentPts lookup failed");return D;};B.prototype.OKb=function(){var D,E;E=null === (D=this.qa) || void 0 === D?void 0:D.eL();D=this.Cg?this.Cg.eL():E;E && D && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:D.abuflbytes,vbuflbytes:E.vbuflbytes,totalabuflmsecs:D.totalabuflmsecs,totalvbuflmsecs:E.totalvbuflmsecs,currentBandwidth:E.currentBandwidth});};B.prototype.lG=function(D){return this.fail("Method not implemented " + D);};B.prototype.WIa=function(){m.assert(void 0 !== this.sm);this.QJ[0]=this.sm;this.W3a();this.iq(this.FR);};B.prototype.W3a=function(){var D;D=this;this.Cg?(this.qa.dw({xr:function(){}},{xr:function(){return D.QJ[1];}}),this.Cg.dw({xr:function(){return D.QJ[0];}},{xr:function(){}})):this.qa.dw({xr:function(){return D.QJ[0];}},{xr:function(){return D.QJ[1];}});this.d_=!1;};B.prototype.KSb=function(D){this.$fb=D;};B.prototype.eTb=function(D){this.fjb=D;};B.prototype.iq=function(D){var E,F;E=this;D !== this.FR && void 0 !== this.sm?this.jV=D:(null === (F=this.gQ) || void 0 === F?void 0:F.clear(),this.gQ=this.Cg?h.uq.Dua([this.qa.kf,this.Ia.nU,this.Cg.kf,this.Nj.nU],function(C){var G,J,K,H,L;C=c.__read(C,4);K=C[1];H=C[2];L=C[3];return C[0] === l.zc.ak && (null === (G=E.Ia) || void 0 === G?void 0:G.Tn) && K.greaterThan(E.Ia.vd) && H === l.zc.ak && (null === (J=E.Nj) || void 0 === J?void 0:J.Tn) && L.greaterThan(E.Nj.vd);},this.wPa(D)):h.uq.Dua([this.qa.kf,this.Ia.nU],function(C){var G,J;C=c.__read(C,2);J=C[1];return C[0] === l.zc.ak && (null === (G=E.Ia) || void 0 === G?void 0:G.Tn) && J.greaterThan(E.Ia.vd);},this.wPa(D)));};B.prototype.wPa=function(D){var E;E=this;return function(F){var C;F && (null === (C=E.gQ) || void 0 === C?void 0:C.clear(),E.gQ=void 0,Promise.resolve().then(D));};};c.__decorate([u.Rb({methodName:"updateChoiceMapEntry",Hq:!0})],B.prototype,"ZN",null);c.__decorate([u.Rb({methodName:"open"})],B.prototype,"open",null);c.__decorate([u.Rb({methodName:"close"})],B.prototype,"close",null);c.__decorate([u.Rb({methodName:"paused"})],B.prototype,"Pk",null);c.__decorate([u.Rb({methodName:"unpaused"})],B.prototype,"yLa",null);c.__decorate([u.Rb({methodName:"cleanup"})],B.prototype,"Lc",null);c.__decorate([u.Rb({methodName:"suspend"})],B.prototype,"suspend",null);c.__decorate([u.Rb({methodName:"resume"})],B.prototype,"resume",null);c.__decorate([u.Rb({methodName:"play"})],B.prototype,"play",null);c.__decorate([u.Rb({methodName:"stop"})],B.prototype,"stop",null);c.__decorate([u.Rb({Hq:!0,methodName:"drmReady"})],B.prototype,"gy",null);c.__decorate([u.Rb({methodName:"underflow"})],B.prototype,"Hr",null);c.__decorate([u.Rb({methodName:"getLogdataReport"})],B.prototype,"t3",null);c.__decorate([u.Rb({methodName:"skipped"})],B.prototype,"en",null);c.__decorate([u.Rb({methodName:"seekByContentPts"})],B.prototype,"wr",null);c.__decorate([u.Rb({methodName:"seek"})],B.prototype,"seek",null);c.__decorate([u.Rb({methodName:"chooseNextSegment",Hq:!0})],B.prototype,"us",null);c.__decorate([u.Rb({methodName:"onAudioTrackSwitchStarted"})],B.prototype,"E_a",null);c.__decorate([u.Rb({methodName:"switchTracks"})],B.prototype,"p8",null);return B;})(f.EventEmitter);b.JGa=r;},function(r,b,a){var k,l;function c(d,g,h){var m,n;m=Array.isArray(h)?h[0]:h;n=Array.isArray(h)?h[1]:h;g.on(m,function(q){d.emit(n,k.__assign(k.__assign({},q),{type:n}));});}function f(d,g,h,m){var n,q;g.events.once(d,function(p){(n=p) && q && m(n,q);});h.events.once(d,function(p){q=p;n && q && m(n,q);});}Object.defineProperties(b,{__esModule:{value:!0}});b.iRa=b.p2=b.IYa=b.KYa=void 0;k=a(2);l=a(20);b.KYa=function(d,g,h,m,n){var p;function q(t,u){c(h,t,u);}g=n?[m,n]:[m];[["aseReport","asereport"],["aseReportEnabled","asereportenabled"],"buffering",["debug","managerdebugevent"],"endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(t){return q(m.events,t);});n?(q(n.events,"initialAudioTrack"),f("streamerEnd",m,n,function(t){h.emit("streamerend",k.__assign(k.__assign({},t),{type:"streamerend"}));})):(q(m.events,["streamerEnd","streamerend"]),q(m.events,"initialAudioTrack"));m.events.on("logdata",function(t){h.emit("logdata",k.__assign(k.__assign({},t),{fields:k.__assign(k.__assign({},t.fields),{aseApiVersion:h.QE})}));});p=!0;m.events.on("bufferingStarted",function(t){h.FH && p?p=!1:(h.A8.uR("bufferingStarted",{}),h.emit("bufferingStarted",t));});m.events.on("bufferingComplete",function(t){h.FH?p=!0:h.KSb(t);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(t){h.FH || h.eTb(t);});m.events.on("error",function(t){t=k.__assign(k.__assign({},t),{manifestIndex:0});h.emit("error",t);});h.on("error",function(){});m.events.on("segmentComplete",function(t){h.emit("segmentComplete",{type:"segmentComplete",mediaType:t.mediaType,manifestIndex:0,segmentId:t.segmentId});});m.events.on("segmentNormalized",function(t){var u;u=Math.floor(t.viewableContentEnd.V);h.emit("maxPosition",{type:"maxPosition",index:0,endPts:u,maxPts:u,maxSeekPts:Math.floor(t.viewableEarliestContentEnd.V)});h.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:u,maxPts:u});});m.events.on("segmentStarting",function(t){h.emit("maxBitrates",{type:"maxBitrates",audio:t.maxBitrates.audio,video:t.maxBitrates.video});h.emit("segmentStarting",t);});g.forEach(function(t){t.events.on("serverSwitch",function(u){h.emit("serverSwitch",{type:"serverSwitch",segmentId:u.segmentId,mediatype:u.mediatype,server:u.server,reason:u.reason,location:u.location,bitrate:u.bitrate,confidence:u.confidence,throughput:u.throughput,oldserver:u.oldserver});});t.events.on("streamSelected",function(u){var w;w=t.TB(u.position);h.emit("streamSelected",{type:"streamSelected",nativetime:u.nativetime,mediaType:u.mediaType,streamId:u.streamId,manifestIndex:0,trackIndex:u.trackIndex,streamIndex:u.streamIndex,movieTime:w.gF.V,bandwidth:u.bandwidth,longtermBw:u.longtermBw,rebuffer:u.rebuffer});});t.events.on("updateStreamingPts",function(u){var w;w=h.K;l.ia && d.trace("converting updateStreamingPts, movieId:",w);h.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:u.mediaType,manifestIndex:0,trackIndex:u.trackIndex,segmentId:u.position.va,movieTime:Math.floor(u.completePlayerStreamingTimestamp.V)});});});};b.IYa=function(d,g,h,m){[["debug","managerdebugevent"],"segmentAppended","startEvent","logdata"].forEach(function(n){return c(g,h.events,n);});h.events.on("streamPresenting",function(n){var q,p;q=n.playerTimestamp.V;p=g.qa.TB(n.position);void 0 === p?m.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)):g.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(q),contentStartPts:Math.floor(p.gF.V),mediaType:n.mediaType,manifestIndex:0,trackIndex:n.trackIndex,streamIndex:n.streamIndex});});h.events.on("segmentPresenting",function(n){var q,p,t;q=g.qa.TB(n.position);p=n.playerTimestamp.Aa(q.gF);t=n.position.va;g.DQa || (g.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:n.playerTimestamp.V,movieId:q.aa.toString(),replace:!1,contentOffset:p.V}),g.DQa=!0);g.emit("segmentPresenting",{type:"segmentPresenting",segmentId:t,contentOffset:p.V,metrics:n.metrics});});h.events.on("ptsChanged",function(n){g.emit("ptschanged",n.initialTimestamp.V);g.md.emit("skipped");});};b.p2=function(d,g,h,m,n,q){var p;h=h.V;n=null !== n && void 0 !== n?n:g;d.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:! !q,hashindsight:!1,buffCompleteReason:g.reason,actualbw:m,initSelReason:null !== (p=g.initSelReason) && void 0 !== p?p:"unknown",bcVBufferLevelMs:g.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs}});d.emit("ptschanged",h);d.emit("bufferingComplete",{type:"bufferingComplete",time:g.time,actualStartPts:h,aBufferLevelMs:n.aBufferLevelMs,vBufferLevelMs:g.vBufferLevelMs,selector:g.selector,initBitrate:g.initBitrate,skipbackBufferSizeBytes:g.skipbackBufferSizeBytes});};b.iRa=function(d,g,h){d.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:g.track_id,trackIndex:h});};},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.jNa=void 0;r=a(2);c=a(16);f=r.__importDefault(a(123));k=a(9);b.jNa=function(l){if(l.yfb)return l;f.default(c.EventEmitter.prototype,l);Object.defineProperties(l,{yfb:{value:!0},wc:{get:function(){return new k.S(this.ze(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.Bp?this.Bp():1,.01);}}});return l;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uqb={Jv:["minInitVideoBitrate",-Infinity],moa:["minHCInitVideoBitrate",-Infinity],Zy:["maxInitVideoBitrate",Infinity],SU:["minInitAudioBitrate",-Infinity],RU:["minHCInitAudioBitrate",-Infinity],EU:["maxInitAudioBitrate",Infinity],K5:["minAcceptableVideoBitrate",-Infinity],PU:["minAcceptableVMAF",0],OJb:["minAcceptableVMAFRebufferScalingFactor",0],koa:["minAllowedVideoBitrate",-Infinity],KIb:["maxAllowedVideoBitrate",Infinity],nG:["minAllowedVmaf",-Infinity],PYa:["maxAllowedVmaf",Infinity],LN:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],s2:["enableResolutionVMAFStreamFilter",!1],Fpa:["percentCapTitlesForResolutionVMAFStreamFilter",100],v7:["resolutionVMAFCappingRuleList",[]],$Va:["ignoreUserFilterOnEmptyResult",!0],TU:["minRequiredBuffer",2E4],Q5:["minRequiredAudioBuffer",0],Si:["minPrebufSize",5800],loa:["minCheckBufferingCompleteInterval",200],xRa:["enableMoreFrequentBufferingCompleteCheck",!1],qoa:["minimumBufferingCompleteInterval",1E4],q7:["requireDownloadDataAtBuffering",!1],kWa:["indicatorForDownloadDataAtBuffering","oncomplete"],r7:["requireSetupConnectionDuringBuffering",!1],Oqa:["rebufferingFactor",1],gr:["maxBufferingTime",2E3],nua:["useMaxPrebufSize",!0],rC:["maxPrebufSize",4E4],Sna:["maxRebufSize",Infinity],vxb:["fastRebufferRecoveryThreshold",Infinity],uxb:["fastRebufferRecoverBwThrehold",3E3],o4:["initialBitrateSelectionCurve",null],pWa:["initSelectionLowerBound",-Infinity],qWa:["initSelectionUpperBound",Infinity],s8:["throughputPercentForAudio",15],vfa:["bandwidthMargin",0],xfa:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],onb:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Px:76376,scale:18862.4,gamma:3.0569}],wfa:["bandwidthMarginContinuous",!1],pnb:["bandwidthMarginForAudio",!0],mta:["switchConfigBasedOnInSessionTput",!0],Oga:["conservBandwidthMargin",20],dS:["conservBandwidthMarginTputThreshold",6E3],Pga:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],u5a:["switchAlgoBasedOnHistIQR",!1],XC:["switchConfigBasedOnThroughputHistory","iqr"],Rna:["maxPlayerStateToSwitchConfig",-1],qna:["lowEndMarkingCriteria","iqr"],N$:["IQRThreshold",.5],xla:["histIQRCalcToUse","simple"],ps:["bandwidthManifold",{curves:[{min:.05,max:.82,Px:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Px:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],jt:["maxTotalBufferLevelPerSession",0],SVa:["highWatermarkLevel",3E4],b6a:["toStableThreshold",3E4],y8:["toUnstableThreshold",0],Hsa:["skipBitrateInUpswitch",!1],Fua:["watermarkLevelForSkipStart",8E3],rla:["highStreamRetentionWindow",9E4],rna:["lowStreamTransitionWindow",51E4],tla:["highStreamRetentionWindowUp",5E5],tna:["lowStreamTransitionWindowUp",1E5],sla:["highStreamRetentionWindowDown",6E5],sna:["lowStreamTransitionWindowDown",0],qla:["highStreamInfeasibleBitrateFactor",.5],Ty:["lowestBufForUpswitch",9E3],l5:["lockPeriodAfterDownswitch",15E3],vna:["lowWatermarkLevel",15E3],Uy:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],wna:["lowestWaterMarkLevelBufferRelaxed",!1],coa:["mediaRate",1.5],y5:["maxTrailingBufferLen",15E3],BR:["audioBufferTargetAvailableSize",262144],zX:["videoBufferTargetAvailableSize",1048576],fZa:["maxVideoTrailingBufferSize",8388608],RYa:["maxAudioTrailingBufferSize",393216],H2:["fastUpswitchFactor",3],eSa:["fastUpswitchFactorWithoutHeaders",3],Mia:["fastDownswitchFactor",3],$y:["maxMediaBufferAllowed",27E4],x7b:["minMediaBufferLen",1E4],Fsa:["simulatePartialBlocks",!0],u4a:["simulateBufferFull",!0],Qga:["considerConnectTime",!0],Nga:["connectTimeMultiplier",1],nYa:["lowGradeModeEnterThreshold",12E4],oYa:["lowGradeModeExitThreshold",9E4],UYa:["maxDomainFailureWaitDuration",3E4],QYa:["maxAttemptsOnFailure",18],VRa:["exhaustAllLocationsForFailure",!0],$Ya:["maxNetworkErrorsDuringBuffering",20],s5:["maxBufferingTimeAllowedWithNetworkError",6E4],WJ:["alwaysRunUnderflowTimer",!0],cSa:["fastDomainSelectionBwThreshold",2E3],H5a:["throughputProbingEnterThreshold",4E4],I5a:["throughputProbingExitThreshold",34E3],aYa:["locationProbingTimeout",1E4],jSa:["finalLocationSelectionBwThreshold",1E4],F5a:["throughputHighConfidenceLevel",.75],G5a:["throughputLowConfidenceLevel",.4],ena:["locationStatisticsUpdateInterval",6E4],UHb:["locationSelectorPersistFailures",!0],zRa:["enablePerfBasedLocationSwitch",!1],$6b:["maxRateMaxFragmentGroups",4500],Mpa:["pipelineScheduleTimeoutMs",2],az:["maxPartialBuffersAtBufferingStart",2],noa:["minPendingBufferLen",3E3],qC:["maxPendingBufferLen",6E3],rwb:["enableNginxRateLimit",!1],j6:["nginxSendingRate",4E4],vwb:["enableRequestPacingToken",!1],qJb:["mediaRequestPacingSpeed",2],Wla:["initialMediaRequestToken",2E4],q5:["maxActiveRequestsSABCell100",2],w5:["maxPendingBufferLenSABCell100",500],L2a:["resetActiveRequestsAtSessionInit",!0],mRa:["enableCprAudio",!1],nRa:["enableCprVideo",!1],x1:["clientPacingParams",{enableAdaptiveInitialThroughput:!1,minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1,coefficients:{selectedFragmentBitrate:1,upswitchFragmentBitrate:0,maxFragmentBitrate:0,selectedAverageBitrate:0,upswitchAverageBitrate:0,maxAverageBitrate:0,selectedPeakBitrate:0,upswitchPeakBitrate:0,maxPeakBitrate:0,bufferLevelMs:0,observedThroughput:0,predictedThroughput:0,offset:0}}],KUb:["staticPacingRateKbps",0],HMb:["paceRateSelectorAlgorithm","default"],yRa:["enablePaceReportLogging",!1],lXb:["unpacedFragmentInterval",0],tEb:["ignorePacedRequestsThroughput",!1],sEb:["ignoreInferredPacedRequestsThroughput",!1],E6:["pacedThresholdPct",.1],r2:["enableInitialTputLogging",!1],Tna:["maxResponsesInitialTput",6],Una:["maxStreamingSkew",2E3],NIb:["maxBufferOccupancyForSkewCheck",Infinity],cYb:["useBufferOccupancySkipBack",!0],Pna:["maxPendingBufferPercentage",10],$L:["maxRequestsInBuffer",120],Y3:["headerRequestSize",4096],Cia:["estimateHeaderSize",!0],f6b:["headerCacheEstimateHeaderSize",!1],tG:["neverWipeHeaderCache",!1],oYb:["useSidxInfoFromManifestForHeaderRequestSize",!1],dSa:["fastPlayHeaderRequestSize",0],ZL:["maxRequestSize",0],gM:["minRequestSize",65536],QU:["minBufferLenForHeaderDownloading",1E4],A4a:["smartHeaderPreDownloading",!1],cwb:["enableAllHeadersPreDownloading",!1],S7b:["onlyAllowPtsUpdatePolling",!1],UJb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],fN:["reserveForSkipbackBufferMs",15E3],Qoa:["numExtraFragmentsAllowed",2],Np:["pipelineEnabled",!0],YL:["maxParallelConnections",3],lYb:["usePipelineForAudio",!1],kYb:["usePipelineDetectionForAudio",!1],D4a:["socketReceiveBufferSize",0],Z0:["audioSocketReceiveBufferSize",32768],cO:["videoSocketReceiveBufferSize",65536],l7a:["usePipelineDetectionForVideo",!1],YJb:["minVideoSocketReceiveBufferSize",65536],ola:["headersSocketReceiveBufferSize",32768],HTb:["shareDownloadTracks",!0],ITb:["shareOpenRangeTracks",!1],Yub:["disableHeaderDownloadTracks",!1],poa:["minTimeBetweenHeaderRequests",void 0],P8:["updatePtsIntervalMs",1E3],Ifa:["bufferTraceDenominator",0],gK:["bufferLevelNotifyIntervalMs",2E3],dta:["streamingStatusIntervalMs",2E3],mz:["prebufferTimeLimit",6E4],M5:["minBufferLevelForTrackSwitch",2E3],twb:["enablePenaltyForLongConnectTime",!1],Dpa:["penaltyFactorForLongConnectTime",2],ona:["longConnectTimeThreshold",200],Jea:["additionalBufferingLongConnectTime",2E3],Kea:["additionalBufferingPerFailure",8E3],YV:["rebufferCheckDuration",6E4],vRa:["enableLookaheadHints",!1],kYa:["lookaheadFragments",2],jy:["enableOCSideChannel",!0],nqa:["probeRequestTimeoutMilliseconds",3E4],e8b:["probeRequestConnectTimeoutMilliseconds",8E3],lZ:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],wwb:["enableSCByteRangeHints",!1],L6a:["updateDrmRequestOnNetworkFailure",!0],TYa:["maxDiffAudioVideoEndPtsMs",1E3],rub:["deferAseHeaderCache",!1],qQa:["deferAseScheduling",!1],N5a:["timeBeforeEndOfStreamBufferMark",6E3],Nna:["maxFastPlayBufferInMs",2E4],Mna:["maxFastPlayBitThreshold",2E8],Lna:["maxBufferingCompleteBufferInMs",Infinity],Wnb:["bufferingCompleteOnMemoryLimit",!1],L5:["minAudioMediaRequestSizeBytes",0],S5:["minVideoMediaRequestSizeBytes",0],MIb:["maxAudioMediaRequestSizeBytes",Infinity],cJb:["maxVideoMediaRequestSizeBytes",Infinity],TIb:["maxMediaRequestSizeBytesInFraction",1],eM:["minAudioMediaRequestDuration",0],iM:["minVideoMediaRequestDuration",0],O5:["minMediaRequestDuration",0],LIb:["maxAudioMediaRequestDuration",Infinity],bJb:["maxVideoMediaRequestDuration",Infinity],u5:["maxMediaRequestDuration",Infinity],Pea:["allowFirstRequestAggregation",!1],RJb:["minAudioMediaRequestDurationCache",0],XJb:["minVideoMediaRequestDurationCache",0],qwb:["enableMultiFragmentRequest",!1],g7a:[["useHeaderCache","usehc"],!0],mua:[["useHeaderCacheData","usehcd"],!0],c2:["defaultHeaderCacheSize",4],lQa:["defaultHeaderCacheDataCount",4],b2:["defaultHeaderCacheDataPrefetchMs",0],LDb:["headerCacheMaxPendingData",6],g6b:["headerCachePriorityLimit",5],MVa:["headerCacheAdoptBothAV",!1],mYb:["usePipelineForBranchedAudio",!0],wpb:["childBranchBatchedAmount",1E4],uC:["minimumTimeBeforeBranchDecision",2E3],$Jb:["minimumAppendedMediaBeforePlayback",5E3],JMb:["parallelBranchesDuringBuffering",!1],XIb:["maxRequestsToAttachOnBranchActivation",void 0],UU:["minimumJustInTimeBufferLevel",3E3],lwb:["enableJustInTimeAppends",!1],rRa:["enableDelayedSeamless",!1],B4b:["branchEndPtsIntervalMs",250],uEb:["ignorePtsJustBeforeCurrentSegment",!1],WYa:["maxFragsForFittableOnBranching",300],cNb:["pausePlaylistAtEnd",!0],blb:["adaptiveParallelTimeoutMs",1E3],MK:["enableAdaptiveParallelStreaming",!1],Hfa:["bufferThresholdToSwitchToSingleConnMs",45E3],Gfa:["bufferThresholdToSwitchToParallelConnMs",35E3],$vb:["enableAPSForBranching",!1],f9:["waitForPendingConnAdaptation",!1],Boa:["networkFailureResetWaitMs",2E3],Aoa:["networkFailureAbandonMs",6E4],x5:["maxThrottledNetworkFailures",5],r8:["throttledNetworkFailureThresholdMs",200],una:["lowThroughputThreshold",400],Gia:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],aWb:["timeAtEachBitrateRoundRobin",1E4],KRb:["roundRobinDirection","forward"],hEb:["httpsConnectErrorAsPerm",!1],LZa:["mp4ParsingInNative",!1],Hh:["enableManagerDebugTraces",!1],BYa:["managerDebugMessageInterval",1E3],AYa:["managerDebugMessageCount",20],p_a:["notifyManifestCacheEom",!0],Bwb:["enableUsingHeaderCount",!1],F4a:["sourceBufferInOrderAppend",!0],Bz:["requireAudioStreamToEncompassVideo",!1],oMa:["allowAudioToStreamPastVideo",!1],uPa:["countGapInBuffer",!1],pMa:["allowCallToStreamSelector",!1],INa:["bufferThresholdForAbort",2E4],Zsa:["ase_stream_selector","optimized"],eNa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],Tla:["initBitrateSelectorAlgorithm","default"],Mfa:["bufferingSelectorAlgorithm","default"],XUb:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],BRa:["enableThroughputTraceResearchData",!1],J5a:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],$v:["researchEnvironmentEnabled",!1],ywb:["enableStreamSelectionAugmentData",!1],Zmb:["augmentDataNumOfChunks",30],eQa:["ase_ls_failure_simulation",""],tha:["ase_dump_fragments",!1],vha:["ase_location_history",0],wha:["ase_throughput",0],gQa:["ase_simulate_verbose",!1],Wf:["stallAtFrameCount",void 0],J4a:["stallAtFrameCountAudio",void 0],Ina:["marginPredictor","simple"],d7a:["useBackupUnderflowTimer",!0],GKb:["noDuplicateUnderflowTimer",!1],q9b:["useManifestDrmHeader",!0],r9b:["useOnlyManifestDrmHeader",!0],Coa:["networkMeasurementGranularity","video_location"],xKb:["netIntrStoreWindow",36E3],D7b:["minNetIntrDuration",8E3],Ygb:["fastHistoricBandwidthExpirationTime",10368E3],whb:["bandwidthExpirationTime",5184E3],Xgb:["failureExpirationTime",86400],JKa:["historyTimeOfDayGranularity",4],Ugb:["expandDownloadTime",!0],gib:["minimumMeasurementTime",500],fib:["minimumMeasurementBytes",131072],ujb:["throughputMeasurementTimeout",2E3],tjb:["initThroughputMeasureDataSize",262144],Rhb:["historicBandwidthUpdateInterval",2E3],eib:["minimumBufferToStopProbing",1E4],i4b:["throughputPredictor","ewma"],Tra:["secondThroughputEstimator","slidingwindow"],l3a:["secondThroughputMeasureWindowInMs",3E5],h4b:["throughputMeasureWindow",5E3],j4b:["throughputWarmupTime",5E3],g4b:["throughputIQRMeasureWindow",1E3],T3b:["IQRBucketizerWindow",15E3],XYa:["maxIQRSamples",100],zZa:["minIQRSamples",5],d4b:["connectTimeHalflife",10],Y3b:["responseTimeHalflife",10],QJa:["historicThroughputHalflife",14400],PJa:["historicResponseTimeHalflife",100],OJa:["historicHttpResponseTimeHalflife",100],Jza:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],tKa:["minReportedNetIntrDuration",4E3],f4b:["throughputBucketMs",500],W3b:["bucketHoltWintersWindow",2E3],Mgb:["enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")],Vgb:["experimentalFilter",["throughput-wssl"]],Oca:["filterDefinitionOverrides",{}],Bgb:["defaultFilter","throughput-ewma"],akb:["secondaryFilter","throughput-sw"],mJ:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],nia:["enableWsslEstimate",!1],e7b:["maxWsslRequestSize",131072],d7b:["maxWsslRequestRatio",.2],T7a:["wsslAggregationMethod","max"],RS:["enableSessionHistoryReport",!0],jia:["earlyStageEstimatePeriod",1E4],OXa:["lateStageEstimatePeriod",3E4],v5:["maxNumSessionHistoryStored",10],R5:["minSessionHistoryDuration",3E5],QDb:["highAndStableModelName","baseline"],mia:["enableHighAndStablePredictor",!1],P5:["minNumSessionHistory",5],x4b:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],a4:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],RDb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Cea:["addHeaderDataToNetworkMonitor",!0],Qsa:["startMonitorOnLoadStart",!1],lra:["reportFailedRequestsToNetworkMonitor",!1],K6:["periodicHistoryPersistMs",0],z7:["saveVideoBitrateMs",0],YU:["needMinimumNetworkConfidence",!0],Afa:["biasTowardHistoricalThroughput",!1],YHb:["logMemoryUsage",!1],Ft:["probeServerWhenError",!0],Bx:["allowSwitchback",!0],MG:["probeDetailDenominator",100],t5:["maxDelayToReportFailure",300],Gq:["allowParallelStreaming",!1],p7b:["mediaPrefetchDisabled",!1],xZa:["minBufferLevelToAllowPrefetch",5E3],B7:["seamlessAudio",!1],x8b:["seamlessAudioProfiles",[]],y8b:["seamlessAudioProfilesAndTitles",{}],Rra:["seamlessAudioMaximumSyncError",void 0],Sra:["seamlessAudioMinimumSyncError",void 0],u4:["insertSilentFrames",0],v4:["insertSilentFramesOnSeek",!1],w4:["insertSilentFramesOnSeekForTitles",[]],EWa:["insertSilentFramesOnSeekCount",3],ryb:["forceDiscontinuityAtTransition",!0],jta:["supportAudioResetOnDiscontinuity",void 0],k8:["supportAudioEasingOnDiscontinuity",void 0],Rvb:["editCompleteFragments",!0],DZa:["minimumAudioFramesPerFragment",1],gB:["applyProfileTimestampOffset",!1],ek:["applyProfileStreamingOffset",!0],x1a:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],Rmb:["audioProfilesNonSyncSamples",["xheaac-dash"]],VWb:["truncateEndOfStreamAudio",!1],eYb:["useDpiAssumedAacEncoderDelay",!0],F5:["mediaSourceSupportsNegativePts",!1],fM:["minAudioPtsGap",void 0],Qmb:["audioOverlapGuardSampleCount",2],ARa:["enableRecordJSBridgePerf",!1],S$:["JSBridgeTDigestConfig",{maxc:25,c:.5}],YVb:["throughputThresholdSelectorParam",0],$Xb:["upswitchDuringBufferingFactor",2],cmb:["allowUpswitchDuringBuffering",!1],lPa:["contentOverrides",void 0],Uga:["contentProfileOverrides",void 0],wla:["hindsightDenominator",0],vla:["hindsightDebugDenominator",0],b4:["hindsightAlgorithmsEnabled",[]],c4:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],FMa:["appendMediaRequestOnComplete",!1],e9:["waitForDrmToAppendMedia",!1],Q2:["forceAppendHeadersAfterDrm",!1],yha:["declareBufferingCompleteAtSegmentEnd",!1],Ev:["maxActiveRequestsPerSession",void 0],Zma:["limitAudioDiscountByMaxAudioBitrate",!1],Sea:["appendFirstHeaderOnComplete",!0],g8:["strictBufferCapacityCheck",!1],hB:["aseReportDenominator",0],U0:["aseReportIntervalMs",3E5],F8:["translateToVp9Draft",!1],PN:["switchableAudioProfiles",[]],Smb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],v5a:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Vmb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],eZa:["maxStartingVideoVMAF",110],hM:["minStartingVideoVMAF",1],qR:["activateSelectStartingVMAF",!1],G7:["selectStartingVMAFTDigest",-1],mN:["selectStartingVMAFMethod","fallback"],q3a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],lz:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],Zub:["disablePtsStartsEvent",!0],Sqa:["recordFirstFragmentOnSubBranchCreate",!0],kZa:["mediaCacheConvertToBinaryData",!1],Xna:["mediaCacheSaveOneObject",!1],NYa:["markRequestActiveOnFirstByte",!1],o2:["earlyAppendSingleChildBranch",!0],Vz:["useNativeDataViewMethods",!0],dYb:["useCorrectDrainingAmounts",!0],QS:["enableNewAse",!1],S8:["useNewApi",!1],Sha:["aseDiagnostics",[{Li:"queue-audit",enabled:!0},{Li:"task-audit",enabled:!0},{Li:"trace-ShimSession",enabled:!0},{Li:"trace-engine",enabled:!0},{Li:"trace-RequestPacer",enabled:!0},{Li:"trace-BufferStateTracker",enabled:!0},{Li:"trace-GraphStreamingProcess",enabled:!0},{Li:"trace-AsePlaygraph",enabled:!0},{Li:"playgraph-branch-audit",enabled:!0}]],Nnb:["branchDistanceThreshold",6E4],r5:["maxAllowedOutstandingRequests",4],ooa:["minStreamableConcurrencyWindow",3E3],aJb:["maxStreamableConcurrencyWindow",Infinity],$sa:["streamableConcurrencyFactor",.3],RR:["bufferingConcurrencyWindow",7800],Dfa:["branchCreationThreshold",12E4],q2:["enableDiscontiguousBuffering",!1],oja:["forceImmediateTransitionTypeForTitles",[]],nja:["forceImmediateTransitionExitZone",0],qPa:["contiguousBufferMultiplier",3],oPa:["contiguousBufferMinimumAudio",1048576],pPa:["contiguousBufferMinimumVideo",8388608],rOb:["prefetchBudgetInBytes",0],Y1a:["rebufferRiskHalfLife",1E4],kua:["useBufferSizeLimiter",!1],pYb:["useStaticBufferSizeLimiter",!1],XYb:["viewableReleaseTimeoutMs",1E3],uOb:["prefetchWeightBudget",32],roa:["minimumDownstreamBranchProbability",.075],lua:["useExitZones",!0],vOb:["prefetchWhilePlaying",!0],BOb:["prefetcherSoftReset",!0],$0a:["playgraphDefaultWeight",65520],tub:["delayNotificationOfEoS",!1],wJb:["memDeadlockShouldCheckMemory",!0],vJb:["memDeadlockOverageThreshold",.9],uJb:["memDeadlockMaxUtilizationPercentage",.5],Vpa:["playerPtsPadding",1]};b.kk=b.uqb;},function(r,b,a){var c,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.tq=b.sq=b.Ur=b.Wy=b.MZ=void 0;c=a(2);f=a(111);Object.defineProperties(b,{sq:{enumerable:!0,get:function(){return f.sq;}}});Object.defineProperties(b,{tq:{enumerable:!0,get:function(){return f.tq;}}});Object.defineProperties(b,{Wy:{enumerable:!0,get:function(){return f.Wy;}}});Object.defineProperties(b,{MZ:{enumerable:!0,get:function(){return f.MZ;}}});k=c.__importDefault(a(5));r=(function(l){function d(g,h,m,n,q){return l.call(this,d.console,g,h,m,n,q) || this;}c.__extends(d,l);Object.defineProperties(d,{console:{get:function(){return this.H || (this.H=new k.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(f.Ur);b.Ur=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QPa=void 0;b.QPa=function(a,c,f,k){return {KUa:function(){var l;l=a.ska();k.Vs && (l+=k.Vs);return l;},za:c,request:f,$e:!1};};},function(r,b,a){var f,k,l,d,g;function c(h,m){var n;h=f.EventEmitter.call(this) || this;h.content="";h.entries=[];k.hb(("videoSize" in m) && ("xml" in m) && ! !m.xml,"Subtitle options didn't contain XML data");("videoSize" in m) && ("xml" in m) && (h.content=null !== (n=m.xml) && void 0 !== n?n:"",h.Yz=m.videoSize);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.RAa=void 0;f=a(16);k=a(21);l=a(13);d=a(29);g=a(996);la(c,f.EventEmitter);c.prototype.CF=function(h){var m;d.Kc(h) && d.Kc(this.duration) && h < this.duration && this.entries && (m=this.AKb || this.entries[Math.floor(h * this.dWb)] || this.entries[0]);if(m){for(;m && m.endTime < h;){m=m.next;}for(;m && m.previous && m.previous.endTime >= h;){m=m.previous;}this.AKb=m;}return m?[m]:[];};c.prototype.KT=function(h,m){var n;n=[];try{n=this.entries.filter(function(q){var p;p=aa([q.startTime,q.endTime]);q=p.next().value;p=p.next().value;return q >= h && q <= m || q <= h && h <= p;});}catch(q){}return n;};c.prototype.Wq=function(h,m){return this.KT(h,m).reduce(function(n,q){return n + q.blocks.length;},0);};c.prototype.start=function(){var h,m;h=this;if(this.content)g.u0a(this.content,this.Yz.width / this.Yz.height,l.config.wta,l.config.v8).then(function(n){h.duration=n && Math.max.apply(Math,da(n.map(function(q){return q.endTime;}))) || 0;h.dWb=n && n.length / h.duration || 0;h.entries=n;h.emit("ready");}).catch(function(n){h.emit("error",n);});else {m=Error("Subtitle content was empty");m.errorDetails="Subtitle content was empty";this.emit("error",m);}};c.prototype.pause=function(){};c.prototype.stop=function(){};c.prototype.wqa=function(){throw Error("Method not implemented.");};c.prototype.Jr=function(){throw Error("Method not implemented.");};c.prototype.Gz=function(){throw Error("Method not implemented.");};c.prototype.Ck=function(){throw Error("Method not implemented.");};c.prototype.zi=function(){throw Error("Method not implemented.");};b.RAa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.u0a=void 0;c=a(997);f=a(260);b.u0a=function(k,l,d,g){return new Promise(function(h,m){f.Kua(k,function(n){n.W?c.m0a(n.object,l,d,g,function(q){q.W?h(q.entries):m(q);}):m(n);});});};},function(r,b,a){var c,f,k,l,d,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.o0a=b.n0a=b.upa=b.q0a=b.NMb=b.OMb=b.p0a=b.r0a=b.G6=b.s0a=b.t0a=b.m0a=void 0;c=a(21);f=a(29);k=a(12);l=a(152);d=a(11);g=a(18);h=a(24);b.m0a=(function(){var F,C,G,J,K,H,L,P,I,O,N,M;function m(Q){if(f.Py(Q)){Q=Q.toLowerCase();if("#" == Q[0]){if(7 == Q.length)return Q;if(4 == Q.length)return "#" + Q[1] + Q[1] + Q[2] + Q[2] + Q[3] + Q[3];}return b.r0a[Q];}}function n(Q,S,fa){S=S[Q];0 <= S || (S=parseFloat(Q));if(0 <= S)return d.Bo(S,fa);}function q(Q,S){var fa,qa;fa=Q.length;qa=Q[fa - 1];if("t" === qa)return parseFloat(Q) * S | 0;if("s" === qa)return "m" === Q[fa - 2]?parseFloat(Q) | 0:parseFloat(Q) * k.Jk | 0;if((Q=Q.match(I)) && 4 <= Q.length)return (3600 * parseInt(Q[1],10) + 60 * parseInt(Q[2],10) + parseFloat(Q[3])) * k.Jk | 0;throw Error("dfxp-badtime");}function p(Q,S,fa,qa,xa){var ua,X,sa,T,R,ca,ja,Pa;ua=void 0;if(Q){X=Q.style;fa=X?fa[X]:void 0;qa=(X=Q.region)?qa[X]:void 0;X=xa.length;for(sa=0;sa < X;sa++){R=xa[sa];ca=Q[R];void 0 === ca && fa && (ca=fa[R]);void 0 === ca && qa && (ca=qa[R]);if(void 0 !== ca && ca !== S[R]){if(!ua)for((ua={},T=0);T < X;T++){ja=xa[T];Pa=S[ja];void 0 !== Pa && (ua[ja]=Pa);}ua[R]=ca;}}}return ua || S;}function t(Q,S,fa,qa,xa,ua,X,sa,T){var ca,ja;function R(Pa,wa,Ua){var Va,cb,Ya,kb,$a,Ra;Va=Pa[l.Xj];cb=Va.style || wa.style || "";Ya=Va.region || wa.region || "";if(cb || Ya)(kb=cb + "/" + Ya,$a=fa[kb]);else $a=S;if(!$a){$a=S;Ra=f.yN(qa);f.Tb(Ra,xa[cb]);$a=x($a,Ra,X,sa,T);fa[cb + "/"]=$a;Ya && (f.Tb(Ra,ua[Ya]),f.Tb(Ra,xa[cb]),$a=x($a,Ra,X,sa,T),fa[kb]=$a);}if(!Ua)a:{for(Ua=H.length;Ua--;){if(void 0 !== Va[H[Ua]]){Ua=!0;break a;}}Ua=void 0;}Ua && (Va=p(Va,wa,xa,ua,L),$a=x($a,Va,X,sa,T));wa=(Pa=Pa[l.kO]) && Pa.length;for(cb=0;cb < wa;cb++){Ya=Pa[cb];f.kh(Ya)?O.test(Ya[l.lO])?ja++:R(Ya,Va,Ua):(ca.push({text:Ya,lineBreaks:ja,style:$a}),ja=0);}}ca=[];ja=0;R(Q,qa,!1);0 < ja && ca.push({text:"",lineBreaks:ja,style:S});return ca;}function u(Q,S,fa,qa,xa,ua,X,sa){var T,R;fa && (fa=C[fa] || "top",Q.verticalAlignment !== fa && (Q.verticalAlignment=fa));qa && (fa=G[qa] || "left",Q.horizontalAlignment !== fa && (Q.horizontalAlignment=fa));if(xa){if(T=sa[xa])(qa=T.marginLeft,fa=T.marginTop);else {R=xa.split(" ");qa=z(R[0],X.x) || 0;fa=z(R[1],X.y) || 0;T={Nl:0,marginLeft:qa,marginTop:fa,Qlb:qa * S.dla + S.OT,Slb:fa * S.uua + S.X8};30 > sa.Nl && (sa.Nl++,sa[xa]=T);}Q.marginLeft=T.Qlb;Q.marginTop=T.Slb;}else (fa=qa=0,(T=sa["default"]) || (sa["default"]=T={Nl:0}));ua && (xa=T[ua],xa || (R=ua.split(" "),xa={Rlb:(1 - (qa + (z(R[0],X.x) || 0))) * S.dla + S.OT,Plb:(1 - (fa + (z(R[1],X.y) || 0))) * S.uua + S.X8},30 > T.Nl && (T.Nl++,T[ua]=xa)),Q.marginRight=xa.Rlb,Q.marginBottom=xa.Plb);}function w(Q,S,fa,qa,xa){var ua,X,sa;ua=Q.displayAlign;X=Q.textAlign;sa=Q.origin;Q=Q.extent;fa=f.yN(fa);u(fa,S,ua,X,sa,Q,qa,xa);fa.id=F++;return fa;}function v(Q,S,fa,qa){var xa,ua,X,sa,T,R;xa=n(fa.characterSize || S.characterSize,b.s0a,2) || 1;ua=(ua=Q.fontSize) && N.test(ua)?f.Co(f.se(ua),25,200):void 0;xa*=ua / 100 || 1;if((ua=Q.textOutline) && "none" != ua){X=ua.split(" ");if(M.test(X))(sa=0,T=Q.color);else (sa=1,T=m(X[0]));R=y(X[sa]);X=y(X[sa + 1]);}return {characterStyle:fa.characterStyle || b.t0a[Q.fontFamily] || S.characterStyle,characterSize:xa * qa,characterColor:m(fa.characterColor || Q.color || S.characterColor),characterOpacity:n(f.z1(fa.characterOpacity,Q.opacity,S.characterOpacity),b.G6,1),characterEdgeAttributes:fa.characterEdgeAttributes || ua && ("none" === ua?b.p0a:X?b.upa:b.q0a) || S.characterEdgeAttributes,characterEdgeColor:m(fa.characterEdgeColor || T || S.characterEdgeColor),characterEdgeWidth:R,characterEdgeBlur:X,characterItalic:"italic" === Q.fontStyle,characterUnderline:"underline" === Q.textDecoration,backgroundColor:m(fa.backgroundColor || Q.backgroundColor || S.backgroundColor),backgroundOpacity:n(f.z1(fa.backgroundOpacity,Q.opacity,S.backgroundOpacity),b.G6,1)};}function x(Q,S,fa,qa,xa){var ua;S=v(S,fa,qa,xa);h.de(S,function(X,sa){sa !== Q[X] && (ua || (ua=d.PD(Q)),ua[X]=sa);});return ua || Q;}function y(Q){Q=f.se(Q);return g.Oy(Q,0,100)?Q:0;}function z(Q,S){var fa;fa=Q[Q.length - 1];if("%" === fa)return f.Co(.01 * parseFloat(Q),0,1);if("c" === fa)return f.Co(f.se(Q) / S,0,1);}function A(Q){for(var S=Q.length,fa=Q[--S].endTime;S--;){fa=d.Bo(Q[S].endTime,fa);}return fa;}function B(Q){h.de(Q,function(S,fa){0 <= S.toLowerCase().indexOf("color") && (Q[S]=m(fa));});}function D(Q,S){var fa,qa,xa,ua;fa=Q.pixelAspectRatio;qa={OT:0,dla:1,X8:0,uua:1};Q=(Q.extent || "640px 480px").split(" ");if(2 <= Q.length){fa=(fa || "").split(" ");xa=parseFloat(Q[0]) * (parseFloat(fa[0]) || 1);ua=parseFloat(Q[1]) * (parseFloat(fa[1]) || 1);}xa=0 < xa && 0 < ua?xa / ua:1280 / 720;S=S || 1280 / 720;fa=xa / S;.01 < d.CD(S - xa) && (S >= xa?(qa.OT=(1 - fa) / 2,qa.dla=fa):c.hb(!1,"not implemented"));return qa;}function E(Q){var S,fa,qa,xa,ua;if(S=Q.cellResolution)if((S=S.split(" "),2 <= S.length)){fa=f.se(S[0]);S=f.se(S[1]);if(0 < fa && 0 < S)return {x:fa,y:S};}if((S=Q.extent) && (S=S.split(" "),2 <= S.length)){fa=f.se(S[0]);qa=f.se(S[1]);if(Q=Q.pixelAspectRatio){S=Q.split(" ");xa=f.se(S[0]);ua=f.se(S[1]);}if(fa && qa && 1.5 < fa * (xa || 1) / (qa * (ua || 1)))return b.o0a;}return b.n0a;}F=1;C={before:"top",center:"center",after:"bottom"};G={left:"left",start:"left",center:"center",right:"right",end:"right"};J={id:F++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};K={id:F++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};H=("fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline").split(" ");L=H.concat(["style","region"]);P=["region","textAlign","displayAlign","extent","origin"];I=/^([0-9]+):([0-9]+):([0-9.]+)$/;O=/^br$/i;N=/^[0-9]{1,3}%$/;M=/^[0-9]/;return function(Q,S,fa,qa,xa){var T,R,ca,ja,Pa,wa,Ua,Va,cb,Ya,kb,$a,Ra,ya,Ia,Ma,Ta,hb,wb,Hb,Ob,Cb,Kb,Vb,mc,Dc,Md,re,Nd,fd;function ua(){var dc,ec,ac,ub,fc,nb,Rb,hc,Lc,qc,cc,Ec,Mc,uc,rd,sd,Ub;try{for(var pc;Kb;){hb=Kb[l.Xj];dc=Vb;ec=dc.push;ac=F++;ub=q(hb.begin,ca);fc=q(hb.end,ca);nb=void 0;Rb=Va;hc=ja;Lc=$a;qc=Ma;cc=Kb[l.Xj];Ec=p(Kb[l.Xj],Dc,wa,Ua,P);Mc=Ec.region;uc=cc.displayAlign;rd=Ec.textAlign;sd=cc.origin;Ub=cc.extent;Mc || uc || rd || sd || Ub?((nb=Rb[Mc])?nb=d.PD(nb):uc || sd || Ub?(nb=d.PD(K),nb.id=F++):nb=d.PD(J),u(nb,hc,uc,rd,sd,Ub,Lc,qc)):nb=J;ec.call(dc,{id:ac,startTime:ub,endTime:fc,region:nb,textNodes:t(Kb,Md,re,mc,wa,Ua,ya,Ia,Ra)});Kb=Kb[l.fD];pc=d.cI();if(100 < pc - Nd){Nd=Date.now();fd=setTimeout(ua,1);return;}}}catch(Fc){sa({oa:f.L.GY,rb:f.wd(Fc)});return;}fd=setTimeout(X,1);}function X(){var dc,ec,ac,ub,fc,nb,Rb;function pc(hc,Lc){for(var qc,cc=[],Ec={},Mc,uc=ec.length;uc--;){qc=ec[uc];Mc=qc.region.id;Ec[Mc] || (Ec[Mc]=1,cc.unshift(qc));}(qc=dc[dc.length - 1]) && qc.endTime == hc && f.xs(qc.blocks,cc)?qc.endTime=Lc:dc.push({id:F++,startTime:hc,endTime:Lc,blocks:cc});}try{if(!Vb.length){sa({W:!0,entries:[]});return;}f.QMa(Vb,"startTime");dc=[];ec=[];ac=Vb[0];ub=Vb[0].startTime;for(fc=1;ec.length || ac;){for(;!ec.length || ac && ac.startTime == ub;){ec.push(ac);ub=ac.startTime;ac=Vb[fc++];}Rb=A(ec);if(!ac || Rb <= ac.startTime)for((pc(ub,Rb),ub=Rb,nb=ec.length);nb--;){ec[nb].endTime <= ub && ec.splice(nb,1);}else (pc(ub,ac.startTime),ub=ac.startTime,ec.push(ac),ac=Vb[fc++]);}for(fc=dc.length;fc--;){dc[fc].index=fc;dc[fc].previous=dc[fc - 1];dc[fc].next=dc[fc + 1];}}catch(hc){sa({oa:f.L.GY,rb:f.wd(hc)});return;}sa({W:!0,entries:dc});}function sa(pc){setTimeout(function(){T.abort=f.Kk;xa(pc);},1);}T={abort:function(){fd && clearTimeout(fd);}};try{R=Q[l.Xj];ca=k.Jk / (f.se(R.tickRate) || 1);ja=D(R,S);Pa=f.Tb(K,{marginLeft:ja.OT,marginTop:ja.X8,marginRight:ja.OT,marginBottom:ja.X8});wa={};Ua={};Va={};Ya=Q.head;kb=Q.body;$a=E(R,S);Ra=1 / $a.y * ja.uua;ya=f.Tb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.upa,characterEdgeColor:"#000000",characterSize:1},fa,{gz:!0});Ia=qa || ({});Ma={Nl:0};if(Ya){Ta=Ya.styling;if(Ta)for(cb=Ta.style;cb;){hb=cb[l.Xj];B(hb);wa[hb.id]=hb;cb=cb[l.fD];}wb=Ya.layout;if(wb)for(var Eb=wb.region;Eb;){hb=Eb[l.Xj];Hb=hb.id;Ob=f.yN(wa[hb.style]);Ob=f.Tb(Ob,hb);for(cb=Eb.style;cb;){f.Tb(Ob,cb[l.Xj]);cb=cb[l.fD];}B(Ob);Ua[Hb]=Ob;Va[Hb]=w(Ob,ja,Pa,$a,Ma);Eb=Eb[l.fD];}}Cb=kb.div;Kb=Cb.p;Vb=[];mc={};mc=p(kb[l.Xj],mc,wa,Ua,L);mc=p(Cb[l.Xj],mc,wa,Ua,L);Dc={};Dc=p(kb[l.Xj],Dc,wa,Ua,P);Dc=p(Cb[l.Xj],Dc,wa,Ua,P);Md=v(mc,ya,Ia,Ra);f.Tb(Md,{windowColor:m(Ia.windowColor || ya.windowColor),windowOpacity:n(f.z1(Ia.windowOpacity,ya.windowOpacity),b.G6,1),cellResolution:$a},{gz:!0});re={};Cb.p=void 0;Cb[l.kO]=[];}catch(pc){sa({oa:f.L.GY,rb:f.wd(pc)});return;}Nd=d.cI();fd=setTimeout(ua,1);return T;};})();b.t0a={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.s0a={SMALL:.5,MEDIUM:1,LARGE:2};b.G6={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.r0a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.p0a="NONE";b.OMb="RAISED";b.NMb="DEPRESED";b.q0a="UNIFORM";b.upa="DROP_SHADOW";b.n0a={x:40,y:19};b.o0a={x:52,y:19};},function(r,b,a){var h,m,n,q;function c(p){var t,u,v;t=0;this.Ja.info("show subtitle called at " + this.dx() + " for displayTime " + p.displayTime);this.emit("showsubtitle",p);u=this.MA[this.MA.length - 1];u.zN || (u.zN={});if("dfxp-ls-sdh" === this.RQ)for(var w=0;w < p.blocks.length;w++){v=p.blocks[w];u.zN[v.id] || (t++,u.zN[v.id]=!0);}else u.zN[p.id] || (t++,u.zN[p.id]=!0);u.JW+=t;}function f(p){this.Ja.info("remove subtitle called at " + this.dx() + " for remove time " + (p.displayTime + p.duration));this.emit("removesubtitle",p);}function k(p){this.Ja.info("stage subtitle called at " + this.dx() + " for displayTime " + p.displayTime);this.emit("stagesubtitle",p);}function l(){this.Ja.info("underflow fired by the subtitle timer");this.emit("underflow");}function d(){this.Ja.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}function g(p){var t;this.Ja.info("ending subtitle interval at " + p);t=this.MA[this.MA.length - 1];t.Ea=p;t.Ea < t.X && (this.Ja.warn("correcting for interval where endPts is smaller than startPts"),t.X=0 < t.Ea?t.Ea - 1:0);t.E2=this.Uc.Wq(t.X,t.Ea);delete t.zN;t.E2 > t.JW && t.Nma && 500 > t.Ea - t.Nma && (t.E2=this.Uc.Wq(t.X,t.Nma));this.Ja.info("showed " + t.JW + " during this interval");this.Ja.info("expected " + t.E2 + " for this interval");}h=a(109).EventEmitter;m=a(999);b=a(441)();n=a(1E3);q=a(1007);a=function w(t,u){var v,x;v=this;x=t.$e || !1;if(!(v instanceof w))return new w(t,u);h.call(v);v.Ja=t.za || console;v.yE=t.request;v.dx=t.KUa;v.ug=null;v.Pk=!0;v.MA=[];v.RQ=u.profile;v.Sk=u.url;v.vE=u.pd;v.e0=u.preferences;v.x_=u.kk;v.fx=v.vE || 0;t={url:v.Sk,request:v.yE,pd:v.vE,xml:u.xml,preferences:v.e0,kk:v.x_,za:v.Ja,$e:x,bufferSize:u.bufferSize,mt:u.mt,vqa:u.vqa || 0,JNa:u.JNa};if("nflx-cmisc" === v.RQ)(t.offset=u.joa,t.size=u.uZa,t.D7=u.D7,t.lRa=u.lRa,v.Uc=new n(t));else if(-1 < ["simplesdh","dfxp-ls-sdh"].indexOf(v.RQ) && "function" === typeof q)v.Uc=new q(t);else throw Error("SubtitleManager: " + v.RQ + " is an unsupported profile");v.Uc.on("ready",function(){var y,z;y=! !u.oNa;v.Ja.info("ready event fired by subtitle stream");v.emit("ready");z=v.Uc.CF.bind(v.Uc);v.ug=new m(v.dx,z,v.Ja,u);if("dfxp-ls-sdh" === v.RQ && "function" === typeof q)v.ug.on("stagesubtitle",k.bind(v));v.ug.on("showsubtitle",c.bind(v));v.ug.on("removesubtitle",f.bind(v));v.ug.on("underflow",l.bind(v));v.ug.on("bufferingComplete",d.bind(v));y && (v.Ja.info("autostarting subtitles"),setTimeout(function(){v.Jr(v.dx());},10));});v.Uc.on("error",v.emit.bind(v,"error"));};a.prototype=Object.create(h.prototype);a.prototype.start=function(){this.Uc.start();};a.prototype.wqa=function(){this.Pk || (this.Pk=!0,g.call(this,this.fx));};a.prototype.Jr=function(t){!this.Pk && 1E4 < Math.abs(t - this.fx) && (this.Ja.warn("Detected an unexpected pts jump larger than",1E4,"at",t,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.wqa());this.fx=t;this.Pk && (this.Pk=!1,this.Ja.info("creating a new subtitle interval at " + t),this.MA.push({X:t,JW:0}));null !== this.ug && (this.MA[this.MA.length - 1].Nma=t,this.ug.Jr(t));};a.prototype.stop=function(){var t;this.Ja.info("stop called");this.Pk || this.pause();this.Uc.removeAllListeners(["ready"]);null !== this.ug && this.ug.stop();t=this.MA.reduce(function(u,w){u.s4a+=w.JW;u.D2+=w.E2;u.gFb.push(w);return u;},{s4a:0,D2:0,gFb:[]});"object" === typeof this.Uc && this.Uc.close();this.Ja.info("metrics: " + JSON.stringify(t));return t;};a.prototype.pause=function(){var t;t=this.dx();this.Pk?this.Ja.warn("pause called on subtitle manager, but it was already paused!"):(this.Ja.info("pause called at " + t),this.Pk=!0,g.call(this,t));null !== this.ug && this.ug.pause();};a.prototype.KT=function(t,u){return this.Uc.KT(t,u);};a.prototype.Wq=function(t,u){return this.Uc.Wq(t,u);};a.prototype.CF=function(t){return this.Uc.CF(t);};a.prototype.Gz=function(t){var w;function u(){w.Ja.trace("bufferingComplete from setStreamStartPosition");w.emit("bufferingComplete");}w=this;"function" === typeof w.Uc.Gz?w.Uc.Gz(t,u):u();};a.prototype.Ck=function(t,u){this.Uc.Ck && this.Uc.Ck(t,u);};a.prototype.zi=function(t,u){this.Uc.zi && this.Uc.zi(t,u);};a=b([{request:"function",KUa:"function",za:"object"},"object"],a);r.exports.default=a;},function(r,b,a){var l;function c(d,g){return g.reduce(f.bind(this,d),[]);}function f(d,g,h){var m,n;m=h.displayTime - d;d=h.displayTime + h.duration - d;n=0 < g.length?g[0].timeout:Infinity;return 0 < m && m < n?[k("showsubtitle",h,m)]:m === n?g.concat([k("showsubtitle",h,m)]):0 < d && d < n?[k("removesubtitle",h,d)]:d === n?g.concat([k("removesubtitle",h,d)]):g;}function k(d,g,h){return {timeout:h,type:d,entry:g};}l=a(109).EventEmitter;b=a(441)({});a=function q(g,h,m,n){if(!(this instanceof q))return new q(g,h,m,n);l.call(this);this.dx=g;this.jhb=h;this.rx={};this.EE={};this.Ja=m || console;this.g_=!1;this.Bjb=n && n.vqa || 0;};a.prototype=Object.create(l.prototype);a.prototype.stop=function(){clearTimeout(this.ug);this.BQb();};a.prototype.BQb=function(){var g;g=this;Object.keys(g.rx).forEach(function(h){g.emit("removesubtitle",g.rx[h]);});g.rx={};g.EE={};};a.prototype.pause=function(){clearTimeout(this.ug);};a.prototype.Jr=function(g,h){var m,n;m=this;n=m.dx();clearTimeout(this.ug);g=m.jhb(n);null !== g && m.g_ && (m.g_=!1,m.emit("bufferingComplete"));h="number" === typeof h?h:0;Object.keys(m.rx).forEach(function(q){q=m.rx[q];q.displayTime - m.Bjb <= n && n < q.displayTime + q.duration || (delete m.rx[q.id],m.emit("removesubtitle",q));});Object.keys(m.EE).forEach(function(q){q=m.EE[q];n >= q.displayTime + q.duration && delete m.EE[q.id];});null !== g && 0 < g.length?(h=g.length,m.Ja.info("found " + h + " entries for pts " + n),g.forEach(function(q){q.displayTime - 0 <= n && n < q.displayTime + q.duration && !m.rx[q.id] && (m.emit("showsubtitle",q),m.rx[q.id]=q,delete m.EE[q.id]);}),h=g[g.length - 1],m.rx[h.id] || m.EE[h.id] || (m.emit("stagesubtitle",h),m.EE[h.id]=h),h=c(n,g),0 < h.length?m.l0(h[0].timeout):m.l0(2E4)):null === g?(g=250 * Math.pow(2,h),2E3 < g && (g=2E3),m.Ja.warn("checking buffer again in " + g + "ms"),m.g_ || (m.g_=!0,m.emit("underflow")),m.l0(g,h + 1)):m.l0(2E4);};a.prototype.l0=function(g,h){var m;m=this;m.Ja.info("Scheduling pts check.");m.ug=setTimeout(function(){m.Jr(m.dx(),h);},g);};r.exports=b(["function","function","object","object"],a);},function(r,b,a){var f,k,l,d,g,h;function c(m){f.call(this);this.Sk=m.url;this.yE=m.request;this.vE=m.pd || 0;this.Ja=m.za;this.ci=this.Dq=null;m.mt?this.Dq=m.mt:(this.ye=m.offset,this.MJ=m.size);this.Cl;this.Eda=m;}f=a(109).EventEmitter;k=a(1001);l=a(1002);d=a(1003);g=a(153);h=c.events={ncb:"midxready",Eeb:"sidxready",peb:"ready",wf:"error"};c.prototype=Object.create(f.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Lo:{get:function(){return this.Cl && this.Cl.pha;}}});c.prototype.start=function(){this.Dq?(this.Ja.warn("midx was prefectched and provided"),this.pJa(this.Dq)):this.Ggb(this.ye,this.MJ,this.wjb.bind(this));};c.prototype.close=function(){};c.prototype.KT=function(m,n){return this.Cl && this.Cl.Mka(m,n);};c.prototype.Wq=function(m,n){return (m=this.KT(m,n))?m.length:m;};c.prototype.Gz=function(m,n){this.Ja.debug("setStreamStartPosition: buffering subtitles at pts " + m);this.vE=m;this.Cl?this.Cl.Gz(m,n):n && n();};c.prototype.CF=function(m){var n,q,p;if(!this.Cl || m > g.xAb(this.Dq))return [];this.Cl && this.Cl.cia(m);n=this.Lo.Br;q=this.Lo.index;p=[];q=g.Kc(q) && this.ci[q + 1];if(!(q && q.entries.length || n && !(m > n.endTime)))return [];n && n.images.length && (p=this.BJa(n,m,[]));2 > p.length && q && q.images.length && (n=this.BJa(q,m,p),p.push.apply(p,n));return this.Cl.Asa(m)?null:g.hPa(p);};c.prototype.zi=function(m,n){this.Cl && this.Cl.zi(m,n);};c.prototype.Ck=function(m,n){this.Cl && this.Cl.Ck(m,n);};c.prototype.Ggb=function(m,n,q){this.Ja.debug("downloading midx...");this.NJa(m,n,"binary",q);};c.prototype.Hgb=function(m,n,q){this.Ja.debug("downloading sidx...");this.NJa(m,n,void 0,q);};c.prototype.NJa=function(m,n,q,p){this.yE({url:this.Sk,offset:m,size:n,responseType:q},p);};c.prototype.wjb=function(m,n){if(m)this.emit(h.wf,g.wT(m,"midxdownloaderror"));else try{this.Dq=new k(n);this.pJa(this.Dq);}catch(q){this.emit(h.wf,g.wT(q,"midxparseerror"));}};c.prototype.pJa=function(m){var n;n=m.entries.reduce(function(q,p){return q + p.size;},0);n?(this.emit(h.ncb,m),this.Hgb(m.startOffset,n,this.zjb.bind(this,m))):this.emit(h.wf,g.wT({},"nosidxfoundinmidx"));};c.prototype.zjb=function(m,n,q){var p,t,u,w;p=this;if(n)p.emit(h.wf,g.wT(n,"sidxdownloaderror"));else {t=0;u=0;p.ci=[];try{w=0;m.entries.forEach(function(v){var x;x=new l(q,t,m.Sla,p.Ja,u,u + v.duration,w);p.ci.push(x);v.eUb=x;u=x.Sp;t+=v.size;w++;});}catch(v){p.emit(h.wf,g.wT(v,"sidxparseerror"));return;}p.emit(h.Eeb,p.ci);this.Cl=new d(p.Eda,m,p.ci);n=p.vE;p.Eda && p.Eda.D7 || (n=Math.max(p.vE - 1E4,0));this.Cl.cia(n,function(v){v && p.Ja.error("initial sidx download failed");p.emit(h.peb);});}};c.prototype.BJa=function(m,n,q){var y;for(var p=m.entries,t=0,u=p.length,w=[],v,x=this.Dq;t < u;){v=p[t];if(v.displayTime <= n)v.displayTime + v.duration >= n && w.push(g.gha(v,m.images[t].data,x));else {y=w.length && w[w.length - 1] || q.length && q[q.length - 1];if(y && y.displayTime > n && y.displayTime !== v.displayTime)break;y.SF !== v.SF && w.push(g.gha(v,m.images[t].data,x));}t++;}return w;};r.exports=c;},function(r,b,a){var f,k;function c(l,d){this.duration=l;this.size=d;this.eUb=void 0;}f=a(261);k=a(153);r.exports=function(l){var m;l=new f(l);this.identifier=l.Gqa(4);k.assert("midx" === this.identifier);this.version=l.Tp(4);k.assert(0 === this.version);this.Sla=l.qh(36);this.creationTime=l.UM();this.Mp=l.UM();this.K=l.UM();this.HRb=l.Sg();this.IRb=l.Sg();this.language=l.qh(16);l.qh(16);this.startOffset=l.UM();this.Nl=l.Sg();for(var d=[],g=0,h=0;h < this.Nl;h++){m=new c(l.Tp(4),l.Sg());d.push(m);g+=m.duration;}this.entries=d;this.endTime=g;};},function(r,b,a){var k,l;function c(d,g,h,m,n,q,p,t){this.displayTime=d;this.duration=g;this.pMb=h;this.qMb=m;this.lUb=n;this.mUb=q;this.SF=p;this.Fla=t;}function f(d,g,h,m,n,q,p){var t;d=new k(d);t=0;d.position=g;this.Ja=m;this.identifier=d.Gqa(4);l.assert("sidx" === this.identifier,m);this.Sla=d.qh(36);l.bqb(this.Sla,h,m);this.duration=d.Tp(4);this.Nl=d.Sg();this.Xv=n;this.Sp=q;this.index=p || 0;this.entries=[];this.images=[];for(this.Sda=0;t < this.Nl;){g=new c(d.Tp(4),d.Tp(4),d.Sg(),d.Sg(),d.Sg(),d.Sg(),d.UM(),d.Tp(4));t++;this.entries.push(g);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}k=a(261);l=a(153);f.prototype.JEb=function(){this.Sda++;};f.prototype.fub=function(){var d;d=0;this.Sda--;1 > this.Sda?this.images && 0 < this.images.length && (d+=l.Ika([this]),this.images=[]):this.Ja.debug("Not cleaning up shared sidx with range",this.Xv,"-",this.Sp);return d;};r.exports=f;},function(r,b,a){var l,d;function c(g,h){var n;g=g || 0;if(h)for(var m in h.xa){n=h.xa[m];if(g >= (n.jc || 0) && (!n.Fc || g < n.Fc))return m;}}function f(g,h){return g && h && h.xa[g];}function k(g,h,m){var n;this.Ja=g.za;this.ci=m;this.YA=this.lgb(g.D7);this.Ig=[];n=m && m[m.length - 1];this.fx=n && (n.endTime || n.Sp);this.pg=new l(g,h,m);g=c(g.pd || 0,this.YA);this.un=this.ax(g);}l=a(1004);d=a(1006);Object.defineProperties(k.prototype,{pha:{get:function(){return this.pg.pha;}}});k.prototype.Mka=function(g,h){return this.pg && this.pg.Mka(g,h);};k.prototype.cia=function(g,h){this.pg.NSb(g);this.zLa(g);if(!this.YA && this.fx && g > this.fx)h && h();else if((g=this.lJa(g,this.un,2,h),this.YA && 0 < this.un.$Za.length))h && h();else if(this.YA && this.un.JL && g){2 > this.Ig.length && this.rgb(this.un);h=Math.ceil(2 / (this.Ig.length - 1));for(var m=0;m < this.Ig.length && g && 3 > m;m++){g=this.Ig[m];g=this.lJa(g.startTime,g,h);}}};k.prototype.Asa=function(g){return this.pg.Asa(g)?(this.pg.Vlb(),this.cia(g),this.un.JL=!1,!0):!1;};k.prototype.Gz=function(g,h){var m;this.zLa(g);this.Ig.forEach(function(n){n.JL=!1;});m=this.un.cn && this.un.cn[0];this.pg.Gz(g,m && m.index);(g=this.pg.oCb(g)) && g.length?this.pg.VQa(g,h):h && h();};k.prototype.Ck=function(g,h){var m;this.Ja.debug("Set next segment to",h,"for segment",g);g=this.tJa(g) || this.ax(g);g.r3a=h;m=this;g.dV=g.dV.filter(function(n){if(n.id === h)return !0;m.Dca(n);return !1;});};k.prototype.zi=function(g,h){var m;m=f(g,this.YA);Object.keys(m.next).forEach(function(n){m.next[n].weight=h[n] || 0;});};k.prototype.lgb=function(g){var h,n;h={};if(g=(g || ({})).xa){h.xa={};for(var m in g){n=g[m] || ({});h.xa[m]={jc:n.jc,Fc:n.Fc,Gh:n.Gh,next:this.kgb(n.next)};}}return h;};k.prototype.kgb=function(g){var h,m;h={};for(m in g){h[m]={weight:(g[m] || ({})).weight};}return h;};k.prototype.zLa=function(g){var h,m;if(this.YA && this.un.startTime > g || this.un.endTime && this.un.endTime < g){h=this.un;m=c(g,this.YA);m?(this.Ja.debug("Switching segments from",this.un.id,"to",m,"at pts",g),this.un=this.tJa(m) || this.ax(m),this.Dca(h)):this.Ja.debug("The pts is outside of the current segment but not in a new one yet");}};k.prototype.ax=function(g){this.Ja.debug("SegmentManager: creating segment",g);g=new d(g,f(g,this.YA),this.ci,this.Ja);this.Ig.push(g);this.Ja.debug("SegmentManager: segment contains",g.cn.length,"sidxes");return g;};k.prototype.Dca=function(g){var h;if(g && g !== this.un){this.Ja.debug("SegmentManager: deleting segment",g.id);g.dV.forEach(this.Dca.bind(this));this.Ig=this.Ig.filter(function(m){return m !== g;});h=g.wOa();this.pg.xQb(h && h.size || 0,h && h.cn);}};k.prototype.tJa=function(g){var m;for(var h=0;g && h < this.Ig.length;h++){m=this.Ig[h];if(g === m.id)return m;}};k.prototype.rgb=function(g){var h,n;h=g.r3a;if(h && "" !== h)g.dV.push(this.ax(h));else {h=g.$Za;for(var m in h){n=h[m];if(!n || !n.weight)break;g.dV.push(this.ax(m));}}};k.prototype.lJa=function(g,h,m,n){if(!h || h.JL)return (this.Ja.debug("Done driving segment",h && h.id),!0);if(!this.pg.Iob)return (this.Ja.debug("Throttling buffering in quiet period"),!1);this.Ja.debug("Drive streaming of segment",h.id,"from pts",g);m=(g=this.pg.pCb(g,h,m)) && g.length || 0;if(0 === m)return (this.Ja.debug("Segment is fully downloaded",h && h.id),h.JL=!0,n && n(),!0);this.Ja.debug("Downloading",m,"sidxes in segment",h.id);return this.pg.VQa(g,function(q,p){q && (h.JL=!1);n && n(q,p);});};r.exports=k;},function(r,b,a){var h,m;function c(n,q,p){var t;t=p.displayTime <= n && n <= p.displayTime + p.duration;return n <= p.displayTime && p.displayTime <= q || t;}function f(n,q,p){return q && (!q.entries.length && n > q.Xv || n > q.endTime) && p.entries.length && n < p.endTime;}function k(n,q,p){this.AE=this.Cu=0;this.Vhb=n.bufferSize || 4194304;this.Lo=new g();this.tE;this.jE=n.$e;this.Ja=n.za;this.Dq=q;this.ci=p;this.Cn=new h(n);this.KE=new d(this.ci.length,n.lRa);this.UQ=new l(n.JNa);}function l(n){this.Ogb=0 !== n;this.on=!1;this.rj=n || 3E3;this.ug;}function d(n,q){if(this.enabled=q)this.cn=Array.apply(null,Array(n)).map(function(){return "-";});}function g(n,q){this.Br=n;this.index=q;}h=a(1005);m=a(153);g.prototype.reset=function(){this.index=this.Br=void 0;};d.prototype.ea=function(n){this.enabled && n < this.cn.length && (this.cn[n]="x");};d.prototype.X_a=function(n){this.enabled && n < this.cn.length && (this.cn[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.cn.join("") + "|";};l.prototype.start=function(){var n;if(this.Ogb){n=this;this.on=!0;this.ug=setTimeout(function(){n.on=!1;n.ug=void 0;},this.rj);}};l.prototype.stop=function(){this.on=!1;clearTimeout(this.ug);this.ug=void 0;};Object.defineProperties(k.prototype,{pha:{get:function(){return this.Lo;}},Iob:{get:function(){return !this.UQ.on;}}});k.prototype.JQ=function(){this.KE.enabled && this.Ja.debug("Buffer: " + this.KE.toString());};k.prototype.Ujb=function(n){this.AE+=n;this.Ja.debug("Reserved buffer size is",this.Cu + this.AE,"after reserving",n);};k.prototype.Ckb=function(n){this.AE-=n;this.Ja.debug("Reserved buffer size is",this.Cu + this.AE,"after unreserving",n);};k.prototype.jgb=function(n){this.Cu+=n;this.Ja.debug("Buffer size is",this.Cu,"after claiming",n);};k.prototype.YKa=function(n){this.Cu-=n;this.Ja.debug("Buffer size is",this.Cu,"after clearing",n);};k.prototype.xQb=function(n,q){var p;this.YKa(n);p=this;q && this.KE.enabled && (q.forEach(function(t){p.KE.X_a(t.index);}),this.JQ());};k.prototype.Asa=function(n){var q;q=this.$gb(n);return m.aWa(q) && m.nVb(n,q);};k.prototype.NSb=function(n){var q;q=this.GJa(n);(!q || q.index) !== (!this.Lo || this.Lo.index) && (this.tE=this.Lo.Br,q?(this.jE && this.Ja.debug("Current sidx is index",q.index),this.Lo=q):(this.jE && this.Ja.debug("Current sidx is out of range"),this.Lo.reset()));this.tE && "number" === typeof this.tE.index && (n < this.tE.Xv - 35E3 || n > this.tE.Sp + 35E3) && (this.uca(this.tE.index),this.tE=void 0,this.JQ());};k.prototype.Gz=function(n,q){var p,t;p=this.ci && this.ci.length;for(q;q < p;q++){(t=this.ci[q]) && ((t.endTime || t.Sp) >= n - 1E4 && (t.endTime || t.Sp) < n + 3E5 || this.uca(q));}this.UQ.stop();this.JQ();};k.prototype.Vlb=function(){var n,q;this.Ja.debug("executing aggressive cleanup");n=this.ci && this.ci.length;for(q=0;q < n;q++){q === this.Lo.index && (q+=2);this.uca(q);}this.UQ.stop();this.JQ();};k.prototype.oCb=function(n){var q,p,t,u;q=[];p=this.GJa(n);if(!p)return (this.Lo.reset(),q);this.Lo=p;t=n + 1E4;p=p.index;u=this.ci[p];p;for(u;p < this.ci.length && t > u.Xv;(p++,u=this.ci[p])){m.aWa(u) && m.oVb(n,t,u) && q.push(u);}return q;};k.prototype.VQa=function(n,q){var p,t,u,w,v,x;if(!n || !n.length)return (q && q(null),!0);this.Cn.PQ && 2 <= Object.keys(this.Cn.PQ).length && !this.UQ.on && (this.Ja.debug("Enabling buffering quiet period"),this.UQ.start());p=this;t=n[0];u=n[n.length - 1];if(0 < t.entries.length)(w=t.entries[0].SF,v=t.entries[t.entries.length - 1]);0 < u.entries.length && (m.Kc(w) || (w=u.entries[0].SF),v=u.entries[u.entries.length - 1]);if(w)x=v.SF + v.Fla - w;else return (q && q(null),!0);t=m.Tja(w,x);if(this.Cn.PQ[t])(this.Ja.debug("The request for",t,"is already pending. Not requesting again"),q && q());else if(this.thb(m.Ika(n)))(this.Ja.debug("Reserving",x,"bytes for subtitle request",n[0].Xv,n[n.length - 1].Sp),this.Ujb(x),this.Cn.vvb(n,w,x,function(y,z){p.Ja.debug("Claiming reserved space.  Expected",x,"received",z);p.KE.enabled && (n.forEach(function(A){p.KE.ea(A.index);}),p.JQ());p.Ckb(x);p.jgb(z);q && q(y);}));else return (this.Ja.debug("Not enough space in buffer to download all of the imaages in the list"),q && q(),!1);return !0;};k.prototype.Mka=function(n,q){var p,t,u;p=this.Dq;t=this.FJa(n,q,this.ci);if(!t || 0 === t.length)return [];u=[];q=c.bind(null,n,q);for(var w=0;w < t.length;w++){n=t[w];u=u.concat(n.entries.filter(q));}u=u.map(function(v){return m.gha(v,null,p);});return m.hPa(u);};k.prototype.pCb=function(n,q,p){return this.FJa(n,q.endTime,q.cn,p,!0);};k.prototype.FJa=function(n,q,p,t,u){var w,v,x,y;if(q && n > q || 0 > n)this.Ja.error("invalid range startPts: " + n + ", endPts: " + q);else {w=p && p.length || 0;v=[];if(p && 0 !== w){x=p[0].duration;y=p[0].Xv;if(m.Kc(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.jE && this.Ja.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < w && (y=p[x],!m.pvb(y,n));x++){;}for(;x < w && (!t || v.length < t);){y=p[x];if(!u || !y.images.length && y.endTime > n)v.push(y);else if(v.length)break;if(q && q <= y.Sp)break;x++;}return v;}}};k.prototype.$gb=function(n){var q,p,u;q=this.ci;if(q && 0 !== q.length){p=q[Math.floor(n / 6E4)];if(p && (p.Xv > n || n > p.Sp))a:{this.Pgb || (this.Pgb=!0,p=m.ZAb(this.Dq.language),this.Ja.error("bruteforce search for ",{movieId:this.Dq.K,packageId:this.Dq.Mp,lang:p}));p=q.length;for(var t=0;t < p;t++){u=q[t];if(u.Xv <= n && n <= u.Sp){p=u;break a;}}p=void 0;}return p;}};k.prototype.GJa=function(n){var q,p,t,u,w,v,x,y;q=this.Lo;p=q.Br;t=q.index;u=this.ci;this.Bca(m.Kc(n));if(p)if(p.entries.length){if(0 === t && n <= p.startTime || n >= p.startTime && n <= p.endTime)(w=!0,v=q);else {if(0 < t){x=u[t - 1];f(n,x,p) && (w=!0,v=q);}}}else {x=u[t - 1];y=u[t + 1];f(n,x,p)?(w=!0,v=q):y && y.endTime && n <= y.endTime && (n >= p.endTime || n >= p.Sp) && (w=!0,v=new g(y,t + 1));}if(!w)for((q=u.length,p=0);p < q;p++){if((t=u[p],t.entries.length && n <= t.endTime)){v=new g(t,p);break;}}return v;};k.prototype.thb=function(n){return this.Cu + this.AE + n <= this.Vhb;};k.prototype.uca=function(n){var q,p,t;q=this.ci[n];p=q && q.images && q.images.length || 0;if(0 < p){t=m.Ika([q]);q.images=[];this.KE.X_a(n);this.YKa(t);this.jE && this.Ja.debug("cleaning up space from sidx",{index:n,start:q.startTime,size:t,images:p,H7b:this.Cu});}};k.prototype.Bca=function(n){this.jE && m.assert(n,this.Ja);};r.exports=k;},function(r,b,a){var f,k;function c(l){this.Sk=l.url;this.yE=l.request;this.vE=l.pd || 0;this.jE=l.$e;this.Ja=l.za;this.PQ={};}f=a(261);k=a(153);c.prototype.vvb=function(l,d,g,h){this.PQ[k.Tja(d,g)]=!0;l && l.forEach(function(m){m.C2a=!0;});this.yE({url:this.Sk,offset:d,size:g},this.Uib.bind(this,l,d,g,h));};c.prototype.Uib=function(l,d,g,h,m,n){var q,p,t,u;q=this;p=k.Tja(d,g);setTimeout(function(){delete q.PQ[p];},1E3);if(m)(h && h(m,0),l && l.forEach(function(w){delete w.C2a;}));else {t=new f(n);u=0;l && l.forEach(function(w){delete w.C2a;w.entries.forEach(function(v,x){t.position=v.SF - d;v={data:t.qh(v.Fla)};w.images[x]=v;k.CYb(w.images[x].data,q.Bca.bind(q));u+=w.images[x].data.length;});});h && h(null,u);}};c.prototype.Bca=function(l){this.jE && k.assert(l,this.Ja);};r.exports=c;},function(r){function b(a,c,f,k){this.Ja=k;this.id=a;this.startTime=c && c.jc || 0;this.endTime=c && c.Fc;this.$Za=c && c.next || [];this.r3a;this.dV=[];this.JL=!1;a=this.startTime;c=this.endTime;for(var l=[],d=0;d < f.length;d++){(k=f[d]) && (!c || c > k.Xv) && a < k.Sp && (k.JEb(),l.push(k));}this.cn=l;}b.prototype.wOa=function(){this.Ja.debug("Cleaning up segment",this.id);for(var a,c=0,f,k=[],l=0;l < this.cn.length;l++){a=this.cn[l];(f=a.fub()) && k.push(a);a && (c+=f);}this.cn=[];return {size:c,cn:k};};r.exports=b;},function(r,b,a){var t,u,w,v,x,y,z,A,B;function c(D){var E,F,C,G,J;E=D.preferences;F=D.kk;C=D.pd;G=D.xml;J=D.za;if(!D.xml && !D.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");t.call(this);this.Hg=this.Yca=null;this.e0="object" === typeof E?D.preferences:{};this.x_="object" === typeof F?D.kk:{};this.aB="number" === typeof C?D.pd:0;this.JE="string" === typeof G?D.xml:"";this.Ja="object" === typeof J?D.za:B;this.yE=D.request;this.Sk=D.url;this.GA=[];this.fx=this.aB;this.ug=null;this.Gda=this.UKa=!1;this.Ufb=D.vqa || 0;}function f(){var D,E,F;D=this;E=D.JE.indexOf("<p");if(-1 < E){F=D.JE.slice(0,E);d(F,function(C,G){null !== C?(C.h6b=F,D.emit("error",C)):(D.Yca=G,D.Hg=new w(D.JE,G.tickRate),l.call(D,D.aB));});}else D.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function k(D,E){var F;F=D.filter(function(C){return C.startTime <= E && E <= C.endTime;});D=D.filter(function(C){return C.startTime > E;});return 0 < D.length?F.concat([D[0]]):F;}function l(D){var E,F,C,G,J,K,H;E=this;F=E.Yca;C=0;G=[];J=F.defaultStyle?[F.defaultStyle]:[];E.Ja.info("parsing the next 5 entries...");K=E.Hg.vBb(D);E.Ja.info(K);H=u.ac(!0);H.onerror=function(L){L.xml=K;E.emit("error",L);};H.onend=function(){var L;L=E.GA.reduce(function(P,I){I=I.blocks.reduce(function(O,N){return O.concat([N.id]);},[]);return P.concat(I);},[]);G.forEach(function(P){-1 === L.indexOf(P.id) && E.GA.push(P);});E.Gda=!1;E.UKa || (E.UKa=!0,E.emit("ready"));};H.ontext=function(L){("" !== L.trim() || L.match(/ +/)) && n(n(G).blocks).textNodes.push({text:L.match(/ +/)?L:L.trim(),style:n(J),lineBreaks:C});C=0;};H.onclosetag=function(){"undefined" !== typeof H.tag.attributes.style && J.pop();};H.onopentag=function(L){var P,I,O,N,M;P=L.attributes;I=L.name;L=F.tickRate;if("p" === I){C=0;I=P["xml:id"];P.style && J.push(P.style);O=Math.floor(parseInt(P.begin) / L * 1E3);if(0 === G.length || n(G).displayTime !== O){O=G.push;N={};M=parseInt(P.begin) / L;L=parseInt(P.end) / L;N.id=I;N.startTime=Math.floor(1E3 * M);N.endTime=Math.floor(1E3 * L);N.style=P.style;N.region=P.region;N.displayTime=N.startTime;N.duration=N.endTime - N.startTime;N.extent=P["tts:extent"] || null;N.origin=P["tts:origin"] || null;N.latestEndSoFar=0 > N.endTime?0:N.endTime;N.blocks=[{textNodes:[],region:N.region,id:I,extent:N.extent,origin:N.origin}];O.call(G,N);}else n(G).blocks.push({textNodes:[],region:P.region,id:I,extent:P["tts:extent"] || null,origin:P["tts:origin"] || null});}else "span" === I?J.push(P.style):"br" === I && C++;};H.write("<entries>").write(K).write("</entries>").close();}function d(D,E){var F,C,G,J,K;F=u.ac(!0);C={};G=[];J=null;K=[];F.onerror=function(H){E(H,null);};F.onend=function(){E(null,C);};F.onclosetag=function(){G.pop();};F.onopentag=function(H){var L,P,I,O;L=H.attributes;P=H.name;I=C.regions;O=C.styles;G.push(H);"tt" === P?C=g(L):"body" === P?"undefined" !== typeof L.style && (C.defaultStyle=L.style,K.push(L.style)):"style" === P && m(G,"styling")?O[L["xml:id"]]=h(L,y):"style" === P && m(G,"region")?(H=Object.keys(L)[0],"string" === typeof H && (I[J][H.slice(4)]=L[H])):"region" === P && m(G,"layout") && (J=L["xml:id"],I[J]=h(L,A));};setTimeout(function(){var H;for(F.write(D);0 < G.length && !F.error;){H=n(G).name;F.write("</" + H + ">");}F.close();},10);}function g(D){var E;D=h(D,z);if("string" === typeof D.extent){E=D.extent.split(" ").map(function(F){return parseInt(F,10);});D.width=E[0];D.height=E[1];}else (D.width=1280,D.height=720);D.aspectRatio=D.width / D.height;"string" === typeof D.cellResolution?(E=D.cellResolution.split(" ").map(function(F){return parseInt(F,10);}),D.cellResolution={},D.cellResolution.x=E[0],D.cellResolution.y=E[1]):D.cellResolution={x:52,y:19};return D;}function h(D,E){var F;F={};E.forEach(function(C){"undefined" !== typeof D["tts:" + C]?F[C]=D["tts:" + C]:"undefined" !== typeof D["ttp:" + C] && (F[C]=D["ttp:" + C]);});F.styles={};F.regions={};return F;}function m(D,E){var F;for(F=D.length - 1;0 <= F;F--){if(D[F].name === E)return !0;}return !1;}function n(D){if(!Array.isArray(D))throw Error("last called on non-array: " + D);return D[D.length - 1];}function q(D,E){return {lineBreaks:E.lineBreaks,text:E.text,style:x.otb(D[E.style] || ({}),this.x_,this.e0),id:E.id};}function p(D,E){var F,C;F=this;C=D.styles || ({});return {startTime:E.startTime,id:E.id,endTime:E.endTime,displayTime:E.displayTime,duration:E.duration,blocks:E.blocks.map(function(G){var J;J=v.ktb(D,G);return {textNodes:G.textNodes.map(q.bind(F,C)),region:J,id:G.id};})};}t=a(109).EventEmitter;u=a(1008);w=a(1009);v=a(1010);x=a(1011);y=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline").split(" ");z=["cellResolution","pixelAspectRatio","tickRate","timeBase","extent"];A=["backgroundColor","displayAlign","extent","origin"];B={info:function(){}};b=Object.create(t.prototype);c.prototype=b;b.start=function(){var D;D=this;D.Ja.info("incremental text stream created, starting at pts " + D.aB);D.JE?f.call(D):D.yE({url:D.Sk},function(E,F){D.JE=F;f.call(D);});};b.CF=function(D){var E,F,C;E=this;D < E.fx - E.Ufb && (E.GA=[]);F=E.GA;C=0 < F.length?F[F.length - 1].startTime:D;E.fx=D;for(!E.ug && 5 > E.GA.length && !E.Gda && (E.Ja.info("buffer size: " + E.GA.length + "; minimum: 5"),E.Gda=!0,E.ug=setTimeout(function(){E.ug=null;l.call(E,C + 1);},10));0 < F.length && F[0].endTime < D;){F.shift();}F=k(F,D).map(p.bind(E,E.Yca));D < E.Hg.Nxb() && 0 === F.length && (F=null);return F;};b.Wq=function(D,E){return this.Hg?this.Hg.Wq(D,E):0;};b.close=function(){};b.n9b=function(D){this.e0=D && "object" === typeof D.preferences?D.preferences:{};this.x_=D && "object" === typeof D.kk?D.kk:{};};r.exports=c;},function(r,b){(function(a){var x,y,z,A,B,D,E,F,C,G,J,K,H,L,P,I;function c(){}function f(O,N){if(!(this instanceof f))return new f(O,N);for(var M=0,Q=x.length;M < Q;M++){this[x[M]]="";}this.q=this.c=this.Cm=this.textNode="";this.FNa=a.gaa;this.Um=N || ({});this.Um.pYa=this.Um.pYa || this.Um.K6b;this.pna=this.Um.pYa?"toLowerCase":"toUpperCase";this.hn=[];this.closed=this.ZR=this.kN=!1;this.tag=this.error=null;this.WC=! !O;this.k_a=!(!O && !this.Um.k_a);this.state=I.K9;this.Cw=(this.f5a=this.Um.f5a)?Object.create(a.ufb):Object.create(a.Cw);this.iB=[];this.Um.PX && (this.Kj=Object.create(H));if(this.B8=!1 !== this.Um.position)this.position=this.line=this.$R=0;this.onready && this.onready(void 0);}function k(O,N){var M;if(!(this instanceof k))return new k(O,N);c.apply(this);this.jx=new f(O,N);this.readable=this.writable=!0;M=this;this.jx.onend=function(){M.emit("end");};this.jx.onerror=function(Q){M.emit("error",Q);M.jx.error=null;};y.forEach(function(Q){Object.defineProperty(M,"on" + Q,{get:function(){return M.jx["on" + Q];},set:function(S){if(!S)return (M.removeAllListeners(Q),M.jx["on" + Q]=S);M.on(Q,S);},enumerable:!0,configurable:!1});});}function l(O){return O.split("").reduce(function(N,M){N[M]=!0;return N;},{});}function d(O,N){return "[object RegExp]" === Object.prototype.toString.call(O)?! !N.match(O):O[N];}function g(O,N,M){O.textNode && h(O);O[N] && O[N](M);}function h(O){O.textNode=m(O.Um,O.textNode);O.textNode && O.ontext && O.ontext(O.textNode);O.textNode="";}function m(O,N){O.trim && (N=N.trim());O.normalize && (N=N.replace(/\s+/g," "));return N;}function n(O,N){h(O);O.B8 && (N+="\nLine: " + O.line + "\nColumn: " + O.$R + "\nChar: " + O.c);N=Error(N);O.error=N;O.onerror && O.onerror(N);return O;}function q(O){O.kN && !O.ZR && p(O,"Unclosed root tag");O.state !== I.K9 && O.state !== I.L9 && O.state !== I.jm && n(O,"Unexpected end");h(O);O.c="";O.closed=!0;O.onend && O.onend(void 0);f.call(O,O.WC,O.Um);return O;}function p(O,N){if("object" !== typeof O || !(O instanceof f))throw Error("bad call to strictFail");O.WC && n(O,N);}function t(O,N){var M,Q;M=0 > O.indexOf(":")?["",O]:O.split(":");Q=M[0];M=M[1];N && "xmlns" === O && (Q="xmlns",M="");return {prefix:Q,local:M};}function u(O){var N,M,Q;O.WC || (O.Gi=O.Gi[O.pna]());if(-1 !== O.iB.indexOf(O.Gi) || O.tag.attributes.hasOwnProperty(O.Gi))return O.Gi=O.Hi="";if(O.Um.PX){N=t(O.Gi,!0);M=N.local;if("xmlns" === N.prefix)if("xml" === M && O.Hi !== J)p(O,"xml: prefix must be bound to " + J + "\nActual: " + O.Hi);else if("xmlns" === M && O.Hi !== K)p(O,"xmlns: prefix must be bound to " + K + "\nActual: " + O.Hi);else {N=O.tag;Q=O.hn[O.hn.length - 1] || O;N.Kj === Q.Kj && (N.Kj=Object.create(Q.Kj));N.Kj[M]=O.Hi;}O.iB.push([O.Gi,O.Hi]);}else (O.tag.attributes[O.Gi]=O.Hi,g(O,"onattribute",{name:O.Gi,value:O.Hi}));O.Gi=O.Hi="";}function w(O,N){var M,Q,fa,qa,xa,ua,X;if(O.Um.PX){M=O.tag;Q=t(O.tagName);M.prefix=Q.prefix;M.local=Q.local;M.uri=M.Kj[Q.prefix] || "";M.prefix && !M.uri && (p(O,"Unbound namespace prefix: " + JSON.stringify(O.tagName)),M.uri=Q.prefix);Q=O.hn[O.hn.length - 1] || O;M.Kj && Q.Kj !== M.Kj && Object.keys(M.Kj).forEach(function(sa){g(O,"onopennamespace",{prefix:sa,uri:M.Kj[sa]});});Q=0;for(var S=O.iB.length;Q < S;Q++){fa=O.iB[Q];qa=fa[0];xa=fa[1];ua=t(qa,!0);fa=ua.prefix;X="" == fa?"":M.Kj[fa] || "";xa={name:qa,value:xa,prefix:fa,local:ua.local,uri:X};fa && "xmlns" != fa && !X && (p(O,"Unbound namespace prefix: " + JSON.stringify(fa)),xa.uri=fa);O.tag.attributes[qa]=xa;g(O,"onattribute",xa);}O.iB.length=0;}O.tag.D6b=! !N;O.kN=!0;O.hn.push(O.tag);g(O,"onopentag",O.tag);N || (O.state=O.k_a || "script" !== O.tagName.toLowerCase()?I.jm:I.KI,O.tag=null,O.tagName="");O.Gi=O.Hi="";O.iB.length=0;}function v(O){var N,M,S;if(O.tagName){if(O.Sj){if("script" !== O.tagName){O.Sj+="</" + O.tagName + ">";O.tagName="";O.state=I.KI;return;}g(O,"onscript",O.Sj);O.Sj="";}N=O.hn.length;M=O.tagName;O.WC || (M=M[O.pna]());for(var Q=M;N--;){if(O.hn[N].name !== Q)p(O,"Unexpected close tag");else break;}if(0 > N)(p(O,"Unmatched closing tag: " + O.tagName),O.textNode+="</" + O.tagName + ">");else {O.tagName=M;for(M=O.hn.length;M-- > N;){S=O.tag=O.hn.pop();O.tagName=O.tag.name;g(O,"onclosetag",O.tagName);for(var fa in S.Kj){;}Q=O.hn[O.hn.length - 1] || O;O.Um.PX && S.Kj !== Q.Kj && Object.keys(S.Kj).forEach(function(qa){g(O,"onclosenamespace",{prefix:qa,uri:S.Kj[qa]});});}0 === N && (O.ZR=!0);O.tagName=O.Hi=O.Gi="";O.iB.length=0;}}else (p(O,"Weird empty close tag."),O.textNode+="</>");O.state=I.jm;}a.ac=function(O,N){return new f(O,N);};a.S2b=f;a.T2b=k;a.NPa=function(O){return new k(O,void 0);};a.gaa=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.xe=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(O){function N(){this.__proto__=O;}N.prototype=O;return new N();});Object.getPrototypeOf || (Object.getPrototypeOf=function(O){return O.__proto__;});Object.keys || (Object.keys=function(O){var N,M;N=[];for(M in O){O.hasOwnProperty(M) && N.push(M);}return N;});f.prototype={end:function(){q(this);},write:function(O){var S,fa,qa,xa,ua,X;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === O)return q(this);if(this.error)throw this.error;for(var N=0,M;this.c=M=O.charAt(N++);){switch((this.B8 && (this.position++,"\n" === M?(this.line++,this.$R=0):this.$R++),this.state)){case I.K9:if((this.state=I.L9,"\ufeff" === M))continue;case I.L9:"<" === M?(this.state=I.zaa,this.Ssa=this.position):d(z,M) || (p(this,"Non-whitespace before first tag."),this.textNode=M,this.state=I.jm);continue;case I.jm:if(this.kN && !this.ZR){for(var Q=N - 1;M && "<" !== M && "&" !== M;){(M=O.charAt(N++)) && this.B8 && (this.position++,"\n" === M?(this.line++,this.$R=0):this.$R++);}this.textNode+=O.substring(Q,N - 1);}"<" !== M || this.kN && this.ZR && !this.WC?(d(z,M) || this.kN && !this.ZR || p(this,"Text data outside of root node."),"&" === M?this.state=I.Jba:this.textNode+=M):(this.state=I.zaa,this.Ssa=this.position);continue;case I.KI:"<" === M?this.state=I.jGa:this.Sj+=M;continue;case I.jGa:"/" === M?this.state=I.T9:(this.Sj+="<" + M,this.state=I.KI);continue;case I.zaa:"!" === M?(this.state=I.yba,this.Ar=""):d(z,M) || (d(L,M)?(this.state=I.eDa,this.tagName=M):"/" === M?(this.state=I.T9,this.tagName=""):"?" === M?(this.state=I.ADa,this.a7=this.NG=""):(p(this,"Unencoded <"),this.Ssa + 1 < this.position && (M=Array(this.position - this.Ssa).join(" ") + M),this.textNode+="<" + M,this.state=I.jm));continue;case I.yba:(this.Ar + M).toUpperCase() === C?(g(this,"onopencdata"),this.state=I.cY,this.Fl=this.Ar=""):"--" === this.Ar + M?(this.state=I.eY,this.Ar=this.ws=""):(this.Ar + M).toUpperCase() === G?(this.state=I.jY,(this.doctype || this.kN) && p(this,"Inappropriately located doctype declaration"),this.Ar=this.doctype=""):">" === M?(g(this,"onsgmldeclaration",this.Ar),this.Ar="",this.state=I.jm):(d(D,M) && (this.state=I.mGa),this.Ar+=M);continue;case I.mGa:M === this.q && (this.state=I.yba,this.q="");this.Ar+=M;continue;case I.jY:">" === M?(this.state=I.jm,g(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=M,"[" === M?this.state=I.e$:d(D,M) && (this.state=I.pxa,this.q=M));continue;case I.pxa:this.doctype+=M;M === this.q && (this.q="",this.state=I.jY);continue;case I.e$:this.doctype+=M;"]" === M?this.state=I.jY:d(D,M) && (this.state=I.oxa,this.q=M);continue;case I.oxa:this.doctype+=M;M === this.q && (this.state=I.e$,this.q="");continue;case I.eY:"-" === M?this.state=I.rwa:this.ws+=M;continue;case I.rwa:"-" === M?(this.state=I.qwa,(this.ws=m(this.Um,this.ws)) && g(this,"oncomment",this.ws),this.ws=""):(this.ws+="-" + M,this.state=I.eY);continue;case I.qwa:">" !== M?(p(this,"Malformed comment"),this.ws+="--" + M,this.state=I.eY):this.state=I.jm;continue;case I.cY:"]" === M?this.state=I.kwa:this.Fl+=M;continue;case I.kwa:"]" === M?this.state=I.lwa:(this.Fl+="]" + M,this.state=I.cY);continue;case I.lwa:">" === M?(this.Fl && g(this,"oncdata",this.Fl),g(this,"onclosecdata"),this.Fl="",this.state=I.jm):"]" === M?this.Fl+="]":(this.Fl+="]]" + M,this.state=I.cY);continue;case I.ADa:"?" === M?this.state=I.Maa:d(z,M)?this.state=I.Laa:this.a7+=M;continue;case I.Laa:if(!this.NG && d(z,M))continue;else "?" === M?this.state=I.Maa:this.NG+=M;continue;case I.Maa:">" === M?(g(this,"onprocessinginstruction",{name:this.a7,body:this.NG}),this.a7=this.NG="",this.state=I.jm):(this.NG+="?" + M,this.state=I.Laa);continue;case I.eDa:if(d(P,M))this.tagName+=M;else {this.WC || (this.tagName=this.tagName[this.pna]());Q=this.hn[this.hn.length - 1] || this;S=this.tag={name:this.tagName,attributes:{}};this.Um.PX && (S.Kj=Q.Kj);this.iB.length=0;">" === M?w(this):"/" === M?this.state=I.mZ:(!d(z,M) && p(this,"Invalid character in tag name"),this.state=I.UH);}continue;case I.mZ:">" === M?(w(this,!0),v(this)):(p(this,"Forward-slash in opening tag not followed by >"),this.state=I.UH);continue;case I.UH:if(d(z,M))continue;else ">" === M?w(this):"/" === M?this.state=I.mZ:d(L,M)?(this.Gi=M,this.Hi="",this.state=I.UX):p(this,"Invalid attribute name");continue;case I.UX:"=" === M?this.state=I.p9:">" === M?(p(this,"Attribute without value"),this.Hi=this.Gi,u(this),w(this)):d(z,M)?this.state=I.Nua:d(P,M)?this.Gi+=M:p(this,"Invalid attribute name");continue;case I.Nua:if("=" === M)this.state=I.p9;else if(d(z,M))continue;else (p(this,"Attribute without value"),this.Hi=this.tag.attributes[this.Gi]="",g(this,"onattribute",{name:this.Gi,value:""}),this.Gi="",">" === M?w(this):d(L,M)?(this.Gi=M,this.state=I.UX):(p(this,"Invalid attribute name"),this.state=I.UH));continue;case I.p9:if(d(z,M))continue;else d(D,M)?(this.q=M,this.state=I.s9):(p(this,"Unquoted attribute value"),this.state=I.t9,this.Hi=M);continue;case I.s9:if(M !== this.q){"&" === M?this.state=I.q9:this.Hi+=M;continue;}u(this);this.q="";this.state=I.Oua;continue;case I.Oua:d(z,M)?this.state=I.UH:">" === M?w(this):"/" === M?this.state=I.mZ:d(L,M)?(p(this,"No whitespace between attributes"),this.Gi=M,this.Hi="",this.state=I.UX):p(this,"Invalid attribute name");continue;case I.t9:if(!d(F,M)){"&" === M?this.state=I.r9:this.Hi+=M;continue;}u(this);">" === M?w(this):this.state=I.UH;continue;case I.T9:if(this.tagName)">" === M?v(this):d(P,M)?this.tagName+=M:this.Sj?(this.Sj+="</" + this.tagName,this.tagName="",this.state=I.KI):(!d(z,M) && p(this,"Invalid tagname in closing tag"),this.state=I.owa);else if(d(z,M))continue;else d(L,M)?this.tagName=M:this.Sj?(this.Sj+="</" + M,this.state=I.KI):p(this,"Invalid tagname in closing tag.");continue;case I.owa:if(d(z,M))continue;">" === M?v(this):p(this,"Invalid characters in closing tag");continue;case I.Jba:case I.q9:case I.r9:switch(this.state){case I.Jba:(fa=I.jm,qa="textNode");break;case I.q9:fa=I.s9;qa="attribValue";break;case I.r9:(fa=I.t9,qa="attribValue");}if(";" === M){M=qa;Q=this[M];S=this.Cm;xa=S.toLowerCase();ua="";if(this.Cw[S])S=this.Cw[S];else if(this.Cw[xa])S=this.Cw[xa];else {S=xa;if("#" === S.charAt(0))if("x" === S.charAt(1)){S=S.slice(2);X=parseInt(S,16);ua=X.toString(16);}else (S=S.slice(1),X=parseInt(S,10),ua=X.toString(10));S=S.replace(/^0+/,"");S=ua.toLowerCase() !== S?(p(this,"Invalid character entity"),"&" + this.Cm + ";"):String.fromCodePoint(X);}this[M]=Q + S;this.Cm="";this.state=fa;}else d(E,M)?this.Cm+=M:(p(this,"Invalid character entity"),this[qa]+="&" + this.Cm + M,this.Cm="",this.state=fa);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.FNa){O=Math.max(a.gaa,10);M=N=0;for(fa=x.length;M < fa;M++){qa=this[x[M]].length;if(qa > O)switch(x[M]){case "textNode":h(this);break;case "cdata":g(this,"oncdata",this.Fl);this.Fl="";break;case "script":g(this,"onscript",this.Sj);this.Sj="";break;default:n(this,"Max buffer length exceeded: " + x[M]);}N=Math.max(N,qa);}this.FNa=a.gaa - N + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){h(this);"" !== this.Fl && (g(this,"oncdata",this.Fl),this.Fl="");"" !== this.Sj && (g(this,"onscript",this.Sj),this.Sj="");}};y=a.xe.filter(function(O){return "error" !== O && "end" !== O;});k.prototype=Object.create(c.prototype,{constructor:{value:k}});k.prototype.write=function(O){this.jx.write(O.toString());this.emit("data",O);return !0;};k.prototype.end=function(O){O && O.length && this.write(O);this.jx.end();return !0;};k.prototype.on=function(O,N){var M;M=this;M.jx["on" + O] || -1 === y.indexOf(O) || (M.jx["on" + O]=function(){var Q;Q=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,O);M.emit.apply(M,Q);});return c.prototype.on.call(M,O,N);};z="\r\n\t ";A="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";D="'\"";E=A + B + "#";F=z + ">";C="[CDATA[";G="DOCTYPE";J="http://www.w3.org/XML/1998/namespace";K="http://www.w3.org/2000/xmlns/";H={xml:J,PX:K};z=l(z);A=l(A);B=l(B);L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;P=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;D=l(D);E=l(E);F=l(F);I=0;a.yA={K9:I++,L9:I++,jm:I++,Jba:I++,zaa:I++,yba:I++,mGa:I++,jY:I++,pxa:I++,e$:I++,oxa:I++,q_b:I++,eY:I++,rwa:I++,qwa:I++,cY:I++,kwa:I++,lwa:I++,ADa:I++,Laa:I++,Maa:I++,eDa:I++,mZ:I++,UH:I++,UX:I++,Nua:I++,p9:I++,s9:I++,Oua:I++,t9:I++,q9:I++,r9:I++,T9:I++,owa:I++,KI:I++,jGa:I++};a.ufb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.Cw={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.Cw).forEach(function(O){var N;N=a.Cw[O];N="number" === typeof N?String.fromCharCode(N):N;a.Cw[O]=N;});for(I in a.yA){a.yA[a.yA[I]]=I;}I=a.yA;String.fromCodePoint || (function(){var N,M;function O(){var Q,S,fa,xa,ua;Q=[];S=-1;fa=arguments.length;if(!fa)return "";for(var qa="";++S < fa;){xa=Number(arguments[S]);if(!isFinite(xa) || 0 > xa || 1114111 < xa || M(xa) != xa)throw RangeError("Invalid code point: " + xa);if(65535 >= xa)Q.push(xa);else {xa-=65536;ua=(xa >> 10) + 55296;xa=xa % 1024 + 56320;Q.push(ua,xa);}if(S + 1 == fa || 16384 < Q.length)(qa+=N.apply(null,Q),Q.length=0);}return qa;}N=String.fromCharCode;M=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:O,configurable:!0,writable:!0}):String.fromCodePoint=O;})();})(b);},function(r){function b(a,c){var f,k,l,d,g,h;f=[];k=a.indexOf("<p");l=-1;do {d={};d.qUb=k;g=a.indexOf("begin=",k) + 7;h=a.indexOf("end=",k) + 5;g=Math.floor(parseInt(a.substr(g,25),10) / c * 1E3);h=Math.floor(parseInt(a.substr(h,25),10) / c * 1E3);l=h > l?h:l;d.startTime=g;d.endTime=h;d.latestEndSoFar=l;d.NRa=a.indexOf("/p>",k) + 3;k=d.NRa;f.push(d);k=a.indexOf("<p",k);}while(-1 !== k);this.C_=f;this.JE=a;}b.prototype.Nxb=function(){return this.C_[this.C_.length - 1].endTime;};b.prototype.Wq=function(a,c){return this.C_.filter(function(f){return f.startTime <= c && f.endTime >= a;}).length;};b.prototype.vBb=function(a){for(var c="",f=this.C_.filter(function(l){return l.startTime <= a && a < l.endTime || l.startTime >= a;}),k=4;k + 1 < f.length && f[k + 1].startTime === f[4].startTime;){k++;}f=f.slice(0,k + 1);0 < f.length && (c=this.JE.slice(f[0].qUb,f[f.length - 1].NRa));return c;};r.exports=b;},function(r,b,a){var k,l,d;function c(g){return "string" !== typeof g?null:l[g];}function f(g){return g.split(" ").map(function(h){return .01 * parseFloat(h);});}k=a(442);r.exports={ktb:function(g,h){var m,n,q,p,t,u;m=h.textNodes[0] || ({});n=g.regions;q=g.styles;g=g.aspectRatio;n=n && n[h.region]?n[h.region]:{};m=q && q[m.style]?q[m.style]:{};q=f(k(h.extent,n.extent,"80% 80%"));p=f(k(h.origin,n.origin,"10% 10%"));h=Object;g/=1280 / 720;t=(1 - g) / 2;u=p[0];p=p[1];q=h.create.call(h,{marginLeft:u * g + t,marginTop:p,marginRight:(1 - (u + q[0])) * g + t,marginBottom:1 - (p + q[1])});1 < Object.keys(n).length?q.verticalAlignment=c(k(m.displayAlign,n.displayAlign,"before")):q.verticalAlignment=c(k(m.displayAlign,"after"));n=k(m.textAlign,n.textAlign,"center");q.horizontalAlignment="string" !== typeof n?null:d[n];return q;}};l={before:"top",center:"center",after:"bottom"};d={left:"left",start:"start",center:"center",right:"right",end:"end"};},function(r,b,a){var k,l,d,g,h,m,n;function c(q){return "string" !== typeof q || "#" === q[0] && 7 === q.length?q:"#" === q[0] && 4 === q.length?"#" + q[1] + q[1] + q[2] + q[2] + q[3] + q[3]:d[q.toLowerCase()];}function f(q){var p,t,u;p=(q || "").split(" ");t=(/^[0-9]/).test(p);q=t?"#000000":c(p[0]);u=t?0:1;t=parseInt(p[u]);p=parseInt(p[u + 1]);return {color:q,width:0 < t?t:0,blur:0 < p?p:0};}k=a(442);r.exports={otb:function(q,p,t){var u,w,v,x,y,z,A,B,D,E,F,C,G,J;u=k(t.characterSize,p.characterSize,"MEDIUM");w=q.fontFamily;w=k(t.characterStyle,"string" !== typeof w?null:g[w],p.characterStyle,"PROPORTIONAL_SANS_SERIF");v=parseInt(q.fontSize,10) / 100 || 1;x="underline" === q.textDecoration;y="italic" === q.fontStyle;z=l[k(t.kZb,p.kZb,"OPAQUE")];A=l[k(t.characterOpacity,p.characterOpacity,"OPAQUE")];B=l[k(t.backgroundOpacity,q.opacity,p.backgroundOpacity,"OPAQUE")];D=c(k(t.characterColor,q.color,p.characterColor,"#ffffff"));E=c(k(t.backgroundColor,q.backgroundColor,p.backgroundColor,null));F=c(k(t.N7a,q.N7a,p.N7a,null));C=k(t.characterEdgeAttributes,p.characterEdgeAttributes,null);v*=h[u] || 1;G=1;m[u] && (G=m[u][w] || 1);v*=1 / 19 * G;G=0;n[u] && (G=n[u][w] || 0);u=G;G=q.textOutline;G="string" !== typeof G?null:f(G).width;G=k(G,0);J=q.textOutline;J="string" !== typeof J?null:f(J).blur;J=k(J,0);t=t.characterEdgeColor;q=q.textOutline;q="string" !== typeof q?null:f(q).color;return {characterUnderline:x,characterItalic:y,characterStyle:w,windowOpacity:z,characterOpacity:A,backgroundOpacity:B,characterColor:D,backgroundColor:E,windowColor:F,characterEdgeAttributes:C,characterSize:v,characterTracking:u,characterEdgeWidth:G,characterEdgeBlur:J,characterEdgeColor:c(k(t,q,p.characterEdgeColor,"#000000"))};}};l={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};g={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};h={SMALL:.5,MEDIUM:1,LARGE:2};m={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};n={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.wC=void 0;r=a(0);c=a(444);f=a(1013);k=a(141);b.wC=new r.$c(function(l){l(c.uaa).to(f.NCa).$();l(k.xP).iX(function(d){return function(){return d.$a.get(c.uaa).qKb;};});});},function(r,b,a){function c(){var f;f=this;this.ready=!1;this.qKb=new Promise(function(k){f.vRb=k;});}Object.defineProperty(b,"__esModule",{value:!0});b.NCa=void 0;r=a(1);a=a(0);c.prototype.rKb=function(f){this.ready || (this.vRb(f),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};a=r.__decorate([a.R()],c);b.NCa=a;},function(r,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.ji=void 0;r=a(0);c=a(85);f=a(445);k=a(1015);l=a(447);d=a(1016);b.ji=new r.$c(function(g){g(c.Bw).tf(function(){return function(){return pb._cad_global.device;};});g(l.Hxa).to(d.Gxa).$();g(f.Exa).to(k.Dxa).$();});},function(r,b,a){var f,k,l,d,g,h;function c(m,n){this.wa=m;this.Aqa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.Dxa=void 0;r=a(1);f=a(39);k=a(4);l=a(136);d=a(446);g=a(57);a=a(0);c.prototype.Ryb=function(){for(var m="",n=this.wa.Ye.ea(k.ma),q=6;q--;){m=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + m;n=Math.floor(n / 32);}for(;30 > m.length;){m+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Aqa.J1a(new d.uba(0,31,g.A_a))];}return m;};h=c;h=r.__decorate([a.R(),r.__param(0,a.l(f.Wh)),r.__param(1,a.l(l.EZ))],h);b.Dxa=h;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u;function c(w,v,x,y,z,A,B,D,E){this.Pub=w;this.gn=v;this.cb=y;this.kha=z;this.Dc=A;this.debug=B;this.xYb=D;this.gNb=E;this.oya=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=x.Cb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.Gxa=void 0;r=a(1);f=a(3);k=a(26);l=a(1017);d=a(8);g=a(445);h=a(35);m=a(91);n=a(28);q=a(0);p=a(78);t=a(448);a=a(449);c.prototype.YRa=function(w){try{return w.match(this.oya)[2];}catch(v){}};c.prototype.$Ra=function(w){try{return w.match(this.oya)[1];}catch(v){}};c.prototype.create=function(w){var v;v=this;return new Promise(function(x,y){v.gn.create().then(function(z){var B,D,E,F,C,G;function A(J){v.cb.En(J) && v.cb.En(B)?(D=new l.Fxa(J,B,void 0,E,w.wS || "cadmium"),x(D)):y({oa:f.L.lxa});}B=w.Pn;if(w.Qja){E="bind_device";v.gNb.Qf(v.log,{}).then(function(J){A(J.esn);}).catch(function(J){y(J);});}else if(w.dL){C=w.ki;if(v.cb.En(C)){G=v.$Ra(C);G != w.Pn && v.log.error("esn prefix from ui is different",{ui:G,cad:w.Pn,ua:w.userAgent});}else w.hna && v.log.error("esn from ui is missing");z.load(w.AQa).then(function(J){F=J.value;v.cb.En(F) && (!1,v.cb.En(C)?(J=v.YRa(C),E=J === F?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):E="storage_esn_not_in_config",A(B + F));}).catch(function(J){var L;function K(){z.save(w.AQa,L,!1).then(function(){A(B + L);}).catch(function(P){y(P);});}function H(){L=v.Pub.Ryb();!1;K();}if(J.oa === f.L.zA){if(v.cb.En(w.ki)){L=v.YRa(w.ki);v.cb.En(L)?(E="config_since_not_in_storage",K()):(E="generated_since_invalid_in_config_and_not_in_storage",v.log.error("invalid esn passed from UI",w.ki),H());}else (E="generated_since_not_in_config_and_storage",H());}else y(J);});}else w.Qub && v.kha && v.kha.getKeyByName?v.kha.getKeyByName(w.$mb).then(function(J){J=J.id;if(v.cb.Xo(J))(J=String.fromCharCode.apply(void 0,v.Dc.decode(J)),v.debug.assert("" != J),B=v.$Ra(J),A(J));else throw "ESN from getKeyByName is not a string";}).catch(function(J){y({oa:f.L.kxa,rb:v.xYb.wd(J)});}):A();}).catch(function(z){y(z);});});};u=c;u=r.__decorate([q.R(),r.__param(0,q.l(g.Exa)),r.__param(1,q.l(p.dA)),r.__param(2,q.l(d.Jb)),r.__param(3,q.l(k.If)),r.__param(4,q.l(t.exa)),r.__param(5,q.l(h.Uh)),r.__param(6,q.l(m.eu)),r.__param(7,q.l(n.Jf)),r.__param(8,q.l(a.IDa))],u);b.Gxa=u;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fxa=void 0;b.Fxa=function(a,c,f,k){this.ki=a;this.Pn=c;this.Bia=k;};},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F,C;Object.defineProperty(b,"__esModule",{value:!0});b.iYa=void 0;r=a(0);c=a(141);f=a(1019);k=a(1020);l=a(1021);d=a(1022);g=a(1023);h=a(14);m=a(1024);n=a(1025);q=a(1026);p=a(46);t=a(85);u=a(455);w=a(451);v=a(450);x=a(99);y=a(262);z=a(55);A=a(456);B=a(1027);D=a(458);E=a(459);F=a(460);C=a(1030);b.iYa=new r.$c(function(G){G(z.Ao).to(k.bBa).$();G(w.GCa).to(l.FCa).$();G(v.vBa).to(d.uBa).$();G(y.mBa).to(g.lBa).$();G(z.$$).to(m.aBa).$();G(x.qA).to(n.iBa).$();G(y.kBa).to(q.jBa).$();G(A.oBa).to(B.nBa).$();G(F.sBa).to(C.rBa).$();G(D.Oxa).to(E.Nxa).$();G(u.eva).to(f.dva).$();G(z.cBa).iX(function(J){return function(){return J.$a.get(c.xP)().then(function(K){return new Promise(function(H){var P,I,O;function L(){I() && O() && K.WU?H(J.$a.get(z.Ao)):P.ql(L);}P=J.$a.get(p.mj);I=J.$a.get(h.Zc);O=J.$a.get(t.Bw);P.ql(L);});});};});});},function(r,b,a){var f,k,l,d,g,h,m;function c(n,q,p,t){var u;u=this;this.gIb=n;this.yU=q;this.config=t;this.Tqa=[];this.gIb.k7(f.b8a,this.iDb.bind(this));p().then(function(w){var v;v=t().Sq.qyb;u.SIb=v?m.jj[v.toUpperCase()]:m.jj.wf;u.Ij=w;u.xSb();});}Object.defineProperty(b,"__esModule",{value:!0});b.dva=void 0;r=a(1);k=a(0);l=a(14);d=a(108);g=a(55);h=a(99);m=a(8);c.prototype.iDb=function(n,q){this.Ij?this.H1a(n,q):this.Tqa.push([n,q]);};c.prototype.xSb=function(){var n,q;n=this;q=this.Tqa;this.Tqa=[];q.forEach(function(p){n.H1a(p[0],p[1]);});};c.prototype.H1a=function(n,q){var p;if(this.Ij && this.OTb(n)){p={debugMessage:n.message,debugCategory:n.Kn};n.Vb.forEach(function(t){return p=Object.assign(Object.assign({},p),t.value);});p=Object.assign(Object.assign({},p),{prefix:"debug"});n=this.yU.bv("debug",m.jj[n.level].toLowerCase(),p,q);this.Ij.te(n);}};c.prototype.OTb=function(n){var q;q=this.SIb;return void 0 !== q && n.level <= q && !n.Vb.find(function(p){return p.VS(m.LO);});};a=f=c;a.b8a="adaptorAll";a=f=r.__decorate([k.R(),r.__param(0,k.l(d.vI)),r.__param(1,k.l(h.qA)),r.__param(2,k.l(g.cBa)),r.__param(3,k.l(l.Zc))],a);b.dva=a;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t;function c(u,w,v,x,y,z,A){this.config=u;this.json=w;this.yc=v;this.WHb=x;this.MU=z;this.uha=A;this.K4=this.Km=!1;this.listeners=[];k.ao(this,"json");this.za=y.Cb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.bBa=void 0;r=a(1);f=a(0);k=a(57);l=a(36);d=a(450);g=a(46);h=a(8);m=a(55);n=a(451);q=a(3);p=a(93);a(182);t=a(452);c.prototype.nb=function(){this.Km=!0;};c.prototype.te=function(u){var w;w=this;this.WTb(u) || (!1,0 < u.size.Yk(this.config.PIb)?this.za.error("Logblob is too large, dropping from the queue",{logblobType:u.type,logblobSize:u.size.toString()}):(this.listeners.forEach(function(v){return v.AJb(u);}),!1,this.MU.Fea(u),this.yc.ql(function(){w.cyb();})));};c.prototype.flush=function(u){var w;w=this;u=void 0 === u?!1:u;return this.K4?(this.za.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(v,x){w.za.trace("Flushing",h.LO);w.Cr();w.yc.ql(function(){w.csa(u).then(function(){v();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(u){this.listeners.push(u);};c.prototype.removeListener=function(u){u=this.listeners.indexOf(u);0 <= u && this.listeners.splice(u,1);};c.prototype.csa=function(u){var w,v;w=this;u=void 0 === u?!1:u;if(!this.Km)return (this.za.trace("LogBatcher is not initialized"),Promise.resolve());if(this.K4)return (this.za.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());v=this.MU.vzb();if(0 === v.length && !u)return (this.za.trace("No logblobs to send"),Promise.resolve());!1;this.Cr();this.listeners.forEach(function(){});u=Promise.resolve();for(var x={},y=aa(v),z=y.next();!z.done;(x={j9:x.j9},z=y.next())){x.j9=z.value;u=u.then((function(A){return function(){return w.tSb(A.j9);};})(x));}return u.then(function(){return w.vF();}).catch(function(A){v.filter(function(B){return !B.Ly;}).forEach(function(B){return B.Is();});w.vF();throw Error("Send failure. " + A);});};c.prototype.tSb=function(u){var w;w=this;this.za.trace("Sending batch: " + u.size,h.LO);return Promise.resolve(this.MU.CQb(u)).then(function(){return w.WHb.send(u.kG);}).then(function(){return u.ON();}).catch(function(v){w.za.warn("Failed to send batch of logblobs.",v,h.LO);u.Is();w.KTb(v) && w.MU.clb(u);w.XTb(v) && (w.K4=!0);throw v;});};c.prototype.KTb=function(u){return u.xd === q.UY.DDa?!1:this.config.Bea;};c.prototype.XTb=function(u){return u.kc === q.L.gza || u.kc === q.L.hP || u.kc === q.L.lP?!0:!1;};c.prototype.cyb=function(){var u;u=this;0 < this.MU.size.Yk(this.config.YYa)?this.csa().catch(function(w){return u.za.warn("Failed to send log messages on size threshold. " + w);}):this.vF();};c.prototype.Cr=function(){this.Y4 && (!1,this.Y4.cancel(),this.Y4=void 0);};c.prototype.vF=function(){this.Y4 || (!1,this.Y4=this.yc.Rj(this.config.uSb,this.xM.bind(this)));};c.prototype.xM=function(){var u;u=this;this.K4=!1;this.Cr();this.csa().catch(function(w){return u.za.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(u){var w;w="";try{w=this.json.stringify(u.data,void 0,"  ");}catch(v){}return w;};c.prototype.WTb=function(u){return 0 <= this.config.n4a.indexOf(u.type)?!0:u.type === t.xf.debug?0 <= this.config.m4a.indexOf(u.data.debugCategory):!1;};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(m.$$)),r.__param(1,f.l(l.vD)),r.__param(2,f.l(g.mj)),r.__param(3,f.l(d.vBa)),r.__param(4,f.l(h.Jb)),r.__param(5,f.l(n.GCa)),r.__param(6,f.l(p.wY))],a);b.bBa=a;},function(r,b,a){var k,l,d,g,h,m,n;function c(q){this.MJ=d.ab;this.vda=[];this.DQ=this.O_=!1;q && (this.MJ=q.size,this.vda=q.kG);}function f(q,p,t,u){this.BJb=q;this.config=p;this.Ag=t;this.json=u;l.ao(this,"json");this.za=this.Ag.Cb("MessageQueue");this.qs=[];}Object.defineProperty(b,"__esModule",{value:!0});b.FCa=void 0;r=a(1);k=a(0);l=a(57);d=a(49);g=a(262);h=a(8);m=a(36);a=a(55);f.prototype.Fea=function(q){var p,t;0 === this.qs.length && this.qs.push(this.Vja());if(q=this.eCb(q)){p=this.BJb.measure([q]);t=this.qs[this.qs.length - 1];0 < t.size.add(p).Yk(this.config.YYa) && (t=this.Vja(),this.qs.push(t));t.Fea(q);}};f.prototype.vzb=function(){var q;q=this.qs.filter(function(p){return p.Nob;});this.qs.push(this.Vja());q.forEach(function(p){return p.DIb();});return q;};f.prototype.clb=function(q){q.Ly || this.qs.unshift(new c(q));};f.prototype.CQb=function(q){q=this.qs.indexOf(q);0 <= q && this.qs.splice(q,1);};f.prototype.eCb=function(q){try{return {data:this.json.parse(this.json.stringify(q.data)),severity:q.severity,size:q.size,timestamp:q.timestamp,type:q.type};}catch(u){var p,t;p={};q=q.data;t=q.debugMessage;t && "string" === typeof t && (p.originalDebugMessage=t);(q=q.debugCategory) && "string" === typeof q && (p.originalDebugCategory=q);this.za.error("JSON.stringify error: " + u.message,p);}};f.prototype.Vja=function(){return new c();};Xa.Object.defineProperties(f.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.qs.reduce(function(q,p){return q.add(p.size);},d.ab);}}});n=f;n=r.__decorate([k.R(),r.__param(0,k.l(g.mBa)),r.__param(1,k.l(a.$$)),r.__param(2,k.l(h.Jb)),r.__param(3,k.l(m.vD))],n);b.FCa=n;c.prototype.ON=function(){this.O_=!1;this.DQ=!0;};c.prototype.Is=function(){this.O_=!1;};c.prototype.Fea=function(q){this.vda.push(q);this.MJ=this.MJ.add(q.size);};c.prototype.DIb=function(){this.O_=!0;};Xa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.MJ;}},kG:{configurable:!0,enumerable:!0,get:function(){return this.vda;}},Nob:{configurable:!0,enumerable:!0,get:function(){return 0 < this.kG.length && !1 === this.O_;}},Ly:{configurable:!0,enumerable:!0,get:function(){return this.DQ;}}});},function(r,b,a){var k,l,d,g,h,m,n,q,p,t,u;function c(w,v,x,y,z,A,B,D){this.Ha=w;this.platform=x;this.ji=y;this.json=z;this.Rd=A;this.Lh=B;this.eIb=D;l.ao(this,"json");this.za=v.Cb("LogblobSender");}function f(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.uBa=void 0;r=a(1);k=a(0);l=a(57);d=a(36);g=a(4);h=a(28);m=a(19);n=a(34);q=a(85);p=a(8);t=a(453);a=a(71);c.prototype.send=function(w){var v;v=this;return new Promise(function(x,y){var z;try{z=w.reduce(function(A,B){A.entries.push(v.Usb(B));return A;},new f());x(v.Uyb(z));}catch(A){v.za.error(A.message);y(A);}}).then(function(x){return v.fsa(x);});};c.prototype.Usb=function(w){return this.Rd.oG(this.Rd.oG({},w.data),{esn:this.ji().ki,sev:w.severity,type:w.type,lver:this.platform.mna,jssid:this.Ha.id,devmod:this.platform.ey,jsoffms:w.timestamp.Aa(this.Ha.eG).ea(g.ma),clienttime:w.timestamp.ea(g.ma),client_utc:w.timestamp.ea(g.rn),uiver:this.Lh.Rz});};c.prototype.Uyb=function(w){var v;v=this;try{return this.json.stringify(w);}catch(z){for(var x={},y=0;y < w.entries.length;(x={nO:x.nO,au:x.au},++y)){x.au=Object.assign({},w.entries[y]);try{this.json.stringify(x.au);}catch(A){x.nO=void 0;this.Rd.EB(x.au,(function(B){return function(D,E){try{v.json.stringify(E);}catch(F){B.nO=F.message;B.au[D]=B.nO;}};})(x));x.au.stringifyException=x.nO;x.au.originalType=x.au.type;x.au.type="debug";x.au.sev="error";}}return this.json.stringify(w);}};c.prototype.fsa=function(w){var v;v=this;return this.eIb.Qf(this.za,{logblobs:w}).then(function(){!1;}).catch(function(x){v.za.error("PBO logblob failed",x);return Promise.reject(x);});};u=c;u=r.__decorate([k.R(),r.__param(0,k.l(m.rd)),r.__param(1,k.l(p.Jb)),r.__param(2,k.l(n.Mk)),r.__param(3,k.l(q.Bw)),r.__param(4,k.l(d.vD)),r.__param(5,k.l(h.Jf)),r.__param(6,k.l(a.tu)),r.__param(7,k.l(t.$Da))],u);b.uBa=u;},function(r,b,a){var f,k,l;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.lBa=void 0;r=a(1);f=a(0);k=a(262);l=a(49);c.prototype.measure=function(d){var g;g=this;return d.map(function(h){return h.size.add(g.config.ZHb());}).reduce(function(h,m){return h.add(m);},l.da(0));};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.kBa))],a);b.lBa=a;},function(r,b,a){var f,k,l,d,g,h,m;function c(n,q){n=h.hf.call(this,n,"PboConfigImpl") || this;n.config=q;n.PIb=f.da(5E5);n.uSb=k.U5(1);n.YYa=f.da(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.aBa=void 0;r=a(1);f=a(49);k=a(4);l=a(0);d=a(14);g=a(44);h=a(45);a=a(37);la(c,h.hf);Xa.Object.defineProperties(c.prototype,{Bea:{configurable:!0,enumerable:!0,get:function(){return this.config().Bea;}},n4a:{configurable:!0,enumerable:!0,get:function(){return [];}},m4a:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});m=c;r.__decorate([g.config(g.object(),"shedLogblobTypes")],m.prototype,"n4a",null);r.__decorate([g.config(g.Dx("string"),"shedDebugTypes")],m.prototype,"m4a",null);m=r.__decorate([l.R(),r.__param(0,l.l(a.lm)),r.__param(1,l.l(d.Zc))],m);b.aBa=m;},function(r,b,a){var k,l,d,g,h,m,n,q,p;function c(t,u,w,v,x,y,z,A,B,D){this.platform=u;this.lha=w;this.type=v;this.severity=x;this.timestamp=y;this.Ha=A;this.data=z;this.data.type=v;this.data.sev=x;this.data.devmod=this.platform.ey;this.data.clver=this.platform.version;t && t.Vd && (t.Vd.os && (this.data.osplatform=t.Vd.os.name,this.data.osver=t.Vd.os.version),this.data.browsername=t.Vd.name,this.data.browserver=t.Vd.version);t.yma && (this.data.tester=!0);t.Ay && !this.data.groupname && (this.data.groupname=t.Ay);t.kK && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.kK:t.kK);t.KH && (this.data.uigroupname=t.KH);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ha.dBb();this.data.uniqueLogId=B.USa();this.data.appId=this.Ha.id;D && (t=this.Ha.Wb(),this.data.soffms=t.Aa(D.Wl).ea(g.ma),this.data.mid=this.data.mid || D.K,this.data.lvpi=D.lna,this.data.uiLabel=D.ie,this.data.uxLabels=D.V8,v="startup" === v?"playbackxid":"xid",this.data[v]="xid" === v && this.data.xid || D.ca,D.hH && (v=D.hH,(D=D.hH.split(".")) && 1 < D.length && "S" !== D[0][0] && (v="SABTest" + D[0] + ".Cell" + D[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + v:v));}function f(t,u,w,v,x,y){this.wa=t;this.lha=u;this.config=w;this.Ha=v;this.zYb=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.iBa=void 0;r=a(1);k=a(49);l=a(0);d=a(39);g=a(4);h=a(320);m=a(38);n=a(19);q=a(454);a=a(34);f.prototype.bv=function(t,u,w,v){return new c(this.config,this.platform,this.lha,t,u,this.wa.Ye,w,this.Ha,this.zYb,v);};p=f;p=r.__decorate([l.R(),r.__param(0,l.l(d.Wh)),r.__param(1,l.l(h.gxa)),r.__param(2,l.l(m.gm)),r.__param(3,l.l(n.rd)),r.__param(4,l.l(q.eIa)),r.__param(5,l.l(a.Mk))],p);b.iBa=p;Xa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.UNa || (this.UNa=k.da(this.lha.encode(this.data).length));return this.UNa;}}});},function(r,b,a){var f,k,l;function c(d){this.ji=d;}Object.defineProperty(b,"__esModule",{value:!0});b.jBa=void 0;r=a(1);f=a(0);k=a(49);a=a(85);c.prototype.ZHb=function(){var d;d=this.ji()?this.ji().ki.length:40;return k.da(d + 33);};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(a.Bw))],l);b.jBa=l;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B;function c(D,E,F,C,G,J,K,H,L,P,I,O,N,M,Q,S,fa){this.K5a=D;this.Ij=E;this.Yna=F;this.Jia=C;this.we=G;this.k2=J;this.Ef=K;this.config=H;this.qd=L;this.wa=P;this.Ha=I;this.platform=O;this.Op=N;this.yU=M;this.yk=Q;this.Vq=S;this.mG=fa;}Object.defineProperty(b,"__esModule",{value:!0});b.nBa=void 0;r=a(1);f=a(339);k=a(55);l=a(28);d=a(347);g=a(213);h=a(0);m=a(457);n=a(458);q=a(115);p=a(14);t=a(39);u=a(19);w=a(34);v=a(99);x=a(116);y=a(154);z=a(36);A=a(38);a=a(263);c.prototype.create=function(D,E){return new m.pBa(D,E,this.K5a,this.Ij,this.Yna,this.Jia,this.we,this.k2,this.Ef,this.config,this.qd,this.wa,this.Ha,this.platform,this.Op,this.yU,this.yk,this.Vq,this.mG);};B=c;B=r.__decorate([h.R(),r.__param(0,h.l(f.zHa)),r.__param(1,h.l(k.Ao)),r.__param(2,h.l(d.kCa)),r.__param(3,h.l(g.u$)),r.__param(4,h.l(l.Jf)),r.__param(5,h.l(n.Oxa)),r.__param(6,h.l(q.pA)),r.__param(7,h.l(p.Zc)),r.__param(8,h.l(x.aE)),r.__param(9,h.l(t.Wh)),r.__param(10,h.l(u.rd)),r.__param(11,h.l(w.Mk)),r.__param(12,h.l(z.JP)),r.__param(13,h.l(v.qA)),r.__param(14,h.l(y.HI)),r.__param(15,h.l(A.gm)),r.__param(16,h.l(a.raa))],B);b.nBa=B;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Mxa=void 0;c=a(49);b.Mxa=function(f,k){this.xvb=f;this.size=k.oma()?c.ab:k;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SYa=void 0;b.SYa=function(a,c){var d,g;if(0 !== a.length){if(1 === a.length)return a[0];for(var f=a[0],k=c(f),l=1;l < a.length;l++){d=a[l];g=c(d);g > k && (f=d,k=g);}return f;}};},function(r,b,a){var f,k,l,d,g,h,m;function c(n,q,p,t,u){this.Ij=n;this.config=q;this.wa=p;this.Ha=t;this.dIb=u;}Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;r=a(1);f=a(55);k=a(0);l=a(456);d=a(14);g=a(39);h=a(19);m=a(1031);c.prototype.create=function(n,q,p){var t;t=this.dIb.create(n,q);return new m.tBa(n,q,p,this.Ij,this.config,this.Ha,t);};a=c;a=r.__decorate([k.R(),r.__param(0,k.l(f.Ao)),r.__param(1,k.l(d.Zc)),r.__param(2,k.l(g.Wh)),r.__param(3,k.l(h.rd)),r.__param(4,k.l(l.oBa))],a);b.rBa=a;},function(r,b,a){var f,k,l,d,g;function c(h,m,n,q,p,t,u){var w;w=this;this.j=h;this.bn=m;this.Ij=q;this.config=p;this.Ha=t;this.uc=u;this.Ry=function(v,x){return function(y){var z;z=x(y);if("number" !== typeof z)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");z === w.K && v(y);};};this.EYa=this.Ry(function(v){w.L4a(v.I4);},function(v){return v.K;});this.CYa=this.Ry(function(){w.IOa();},function(v){return v.K;});this.KOa=this.Ry(function(){w.IOa();},function(v){return v.movieId;});this.jga=this.Ry(function(){w.j.bc.value === g.Db.Hc && (w.j.bc.removeListener(w.jga),w.ut());},function(){return w.j.K;});this.POa=this.Ry(this.uc.Ypb,function(v){return v.K;});this.TQa=this.Ry(this.uc.rvb,function(v){return v.K;});this.bYa=this.Ry(this.uc.Sy,function(v){return w.j.Cp(v.segmentId).K;});this.A3a=this.Ry(this.uc.xW,function(v){return w.j.Cp(v.segmentId).K;});this.JQa=this.Ry(this.uc.Yha,function(v){return v.K;});this.Yl=function(v){v.skip && (w.en=!0);switch(v.cause){case g.me.xA:case g.me.UP:w.iN && w.QH && w.uc.KNb(w.getTime() - w.QH,w.iN);w.iN="repos";w.uc.nra(v.bpa,v.Rg,v.Uf);w.QH=w.getTime();d.fg(w.WR);break;case g.me.FY:(w.iN="force_rebuffer",w.QH=w.getTime(),d.fg(w.WR));}};this.SE=function(v){w.d5=v.oldValue;w.uc.SE(v);};this.WR=function(){var v;if(w.QH && w.j.bc.value !== g.Db.Gg){v=w.getTime() - w.QH;w.uc.Era(v,w.en,w.iN);w.d5 && w.d5 != w.j.Ud.value && w.uc.Umb();w.QH=void 0;w.iN=void 0;w.en=void 0;}};this.ut=function(){w.Rpa || (w.Rpa=!0,w.uc.b8(!1),w.PEb(),w.config().uWa && (w.q4=pb.setTimeout(function(){w.Ij.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.q4=void 0;},w.config().uWa)));};this.xg=function(){w.q4 && (pb.clearTimeout(w.q4),w.q4=void 0);if(w.config().BS || w.config().hB)(w.$ha && (pb.clearInterval(w.$ha),w.$ha=void 0),w.uc.HQa());w.D6a && w.D6a();w.Rpa?w.uc.sia(! !w.j.al):w.j.al?w.uc.b8(!0):w.bn.background || w.uc.LNb();};this.A7a=function(v){v.oldValue && v.dv && v.dv.vOa && w.uc.pga(v.oldValue,v.newValue,v.dv.vOa,v.dv.lnb);};this.o1a=function(v){var x;if(v.newValue){x=v.newValue.stream;w.Mma != x && (w.Mma && w.uc.QQb(w.Mma,x,v.newValue.Nq.startTime),w.Mma=x);}};this.K=m.K;this.log=k.jh(h,"LogblobBuilder");this.nb();n && this.L4a();}Object.defineProperty(b,"__esModule",{value:!0});b.tBa=void 0;f=a(12);k=a(7);l=a(4);d=a(62);g=a(17);c.prototype.nb=function(){this.j.addEventListener(g.Z.gG,this.EYa);this.j.addEventListener(g.Z.Dna,this.CYa);this.j.addEventListener(g.Z.Sy,this.bYa);this.j.addEventListener(g.Z.xW,this.A3a);this.j.addEventListener(g.Z.xg,this.KOa);this.j.addEventListener(g.Z.rF,this.JQa,f.oZ);if(this.config().BS || this.config().hB)(this.j.addEventListener(g.Z.rF,this.TQa),this.$ha=pb.setInterval(this.uc.HQa,this.config().wvb));this.config().mra && this.j.addEventListener(g.Z.rF,this.POa);};c.prototype.L4a=function(h){var m;m=this;this.JZa || (this.j.bc.value !== g.Db.Hc || (void 0 === h?0:h)?this.j.bc.addListener(this.jga):this.ut(),this.j.Tk.addListener(this.uc.V5a),this.j.Sc.addListener(this.uc.Nz),this.j.Ud.addListener(this.SE),this.j.fk.addListener(this.uc.dNa),this.j.paused.addListener(this.uc.z0a),this.j.Uf.addListener(this.o1a),this.j.bc.addListener(this.WR),this.j.bc.addListener(this.uc.g6a),this.j.ng.addListener(this.A7a),this.j.playbackRate.addListener(this.uc.I4a),this.j.addEventListener(g.Z.El,this.uc.El),this.j.addEventListener(g.Z.$J,this.uc.$J),this.j.addEventListener(g.Z.NN,this.uc.NN),this.j.addEventListener(g.Z.Kx,function(n){m.iN="rebuffer";m.uc.Kx(n);m.QH=m.getTime();d.fg(m.WR);}),this.j.addEventListener(g.Z.Yl,this.Yl),this.j.addEventListener(g.Z.SN,this.uc.SN),this.bn.gp && this.bn.gp.addListener(this.uc.gp),this.JZa=!0);};c.prototype.IOa=function(){var h;h=this;this.xg();this.JZa && (this.j.removeEventListener(g.Z.gG,this.EYa),this.j.removeEventListener(g.Z.Dna,this.CYa),this.j.removeEventListener(g.Z.Sy,this.bYa),this.j.removeEventListener(g.Z.xW,this.A3a),this.j.Tk.removeListener(function(m){h.Rpa && h.uc.V5a(m);}),this.j.Sc.removeListener(this.uc.Nz),this.j.Ud.removeListener(this.SE),this.j.fk.removeListener(this.uc.dNa),this.j.paused.removeListener(this.uc.z0a),this.j.Uf.removeListener(this.o1a),this.j.bc.removeListener(this.WR),this.j.bc.removeListener(this.jga),this.j.bc.removeListener(this.uc.g6a),this.j.ng.removeListener(this.A7a),this.j.playbackRate.removeListener(this.uc.I4a),this.j.removeEventListener(g.Z.rF,this.JQa),this.j.removeEventListener(g.Z.xg,this.KOa),this.j.removeEventListener(g.Z.El,this.uc.El),this.j.removeEventListener(g.Z.$J,this.uc.$J),this.j.removeEventListener(g.Z.NN,this.uc.NN),this.j.removeEventListener(g.Z.Kx,this.uc.Kx),this.j.removeEventListener(g.Z.Yl,this.Yl),this.j.removeEventListener(g.Z.SN,this.uc.SN),this.bn.gp && this.bn.gp.removeListener(this.uc.gp),this.j.removeEventListener(g.Z.rF,this.TQa),this.j.removeEventListener(g.Z.rF,this.POa));};c.prototype.getTime=function(){return this.Ha.Wb().ea(l.ma);};c.prototype.PEb=function(){var h,m,n;h=this;n=[];this.config().LJb && (this.config().MJb.forEach(function(q){n.push(pb.setTimeout(h.uc.J5,q));}),this.config().tZa && (m=pb.setInterval(this.uc.J5,this.config().tZa)),this.D6a=function(){n.forEach(function(q){pb.clearTimeout(q);});m && pb.clearInterval(m);});};b.tBa=c;},function(r,b,a){var c,f,k,l,d,g,h;Object.defineProperty(b,"__esModule",{value:!0});b.VZa=void 0;r=a(0);c=a(1033);f=a(115);k=a(461);l=a(1034);d=a(264);g=a(462);h=a(1035);b.VZa=new r.$c(function(m){m(k.BIa).to(c.AIa).$();m(f.pA).$C(function(){return pb._cad_global.http;});m(d.jZ).to(l.VCa).$();m(g.WCa).yi(h.default);});},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.AIa=void 0;r=a(1);a=a(0);c.prototype.create=function(){return new XMLHttpRequest();};a=r.__decorate([a.R()],c);b.AIa=a;},function(r,b,a){var f,k,l,d;function c(g,h,m){this.config=g;this.SHb=h;this.Hb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.VCa=void 0;r=a(1);f=a(309);k=a(0);l=a(167);a=a(462);c.prototype.aha=function(){if(this.config.i7a)return this.Hb(this.SHb());};d=c;d=r.__decorate([k.R(),r.__param(0,k.l(f.UCa)),r.__param(1,k.l(l.RCa)),r.__param(2,k.l(a.WCa))],d);b.VCa=d;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1036);f=a(1037);k=a(1038);b.default=function(l){var d;l=new c.A9(l);d=new k.Xcb(l);return new f.Wcb(l,d);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.$Xa=c;}a.prototype.osa=function(c){try{this.$Xa.setItem("gtp",JSON.stringify(c));}catch(f){return !1;}return !0;};a.prototype.VTa=function(){var c;try{c=this.$Xa.getItem("gtp");if(c)return JSON.parse(c);}catch(f){}};a.prototype.Qs=function(){var c;c=this.VTa();if(c && c.tp)return c.tp.a;};a.prototype.TAb=function(){var c;c=this.cka();if(c)return c.p25;};a.prototype.UAb=function(){var c;c=this.cka();if(c)return c.p50;};a.prototype.VAb=function(){var c;c=this.cka();if(c)return c.p75;};a.prototype.cka=function(){var c;c=this.VTa();if(c && (c=c.iqr))return c;};return a;})();b.A9=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,f){this.Vu=c;this.eV=f;}a.prototype.osa=function(c){return this.Vu.osa(c);};a.prototype.Qs=function(){return this.Vu.Qs();};a.prototype.xBb=function(){return this.eV.eV();};return a;})();b.Wcb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Vu=c;}a.prototype.eV=function(){var c,f,k;c=this.Vu.TAb();f=this.Vu.UAb();k=this.Vu.VAb();if("number" === typeof c && "number" === typeof f && "number" === typeof k)return (k - c) / f;};return a;})();b.Xcb=r;},function(r,b,a){var c,f,k,l,d,g,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.RSa=void 0;r=a(0);c=a(1040);f=a(1041);k=a(1042);l=a(1043);d=a(1044);g=a(463);h=a(464);m=a(164);b.RSa=new r.$c(function(n){n(m.eza).to(c.dza).$();n(m.$Fa).to(f.ZFa).$();n(m.YFa).to(k.XFa).$();n(g.aza).to(l.$ya).$();n(h.Nza).to(d.Mza).$();});},function(r,b,a){var f,k,l,d,g,h,m,n;function c(q,p,t,u,w,v,x){this.config=q;this.XVa=p;this.yc=t;this.ac=u;this.$Qb=w;this.kra=v;this.xGb=0;this.za=x.Cb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.dza=void 0;r=a(1);k=a(0);l=a(4);d=a(46);g=a(8);h=a(463);m=a(464);a=a(164);c.prototype.start=function(){this.config.enabled && !this.vr && (this.vr=this.yc.Rj(this.config.K4a,this.aw.bind(this)));};c.prototype.stop=function(){this.vr && (this.vr.cancel(),this.vr=void 0);};c.prototype.aw=function(){var q,p;q=this;p="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.xGb++;this.zCb(p).then(function(t){return Promise.all(t.urls.map(function(u){return q.sDb(t,u.url,u.name);})).then(function(u){0 < u.length && q.$Qb.gW({data:u,context:t.context,nna:t.nna});}).then(function(){return t;});}).then(function(t){q.vr && (t.uXa?q.vr=q.yc.Rj(t.uXa,q.aw.bind(q)):q.stop());}).catch(function(t){return q.za.error("FTL run failed",t);});};c.prototype.zCb=function(q){var p;p=this;return this.XVa.get(q,!1).then(function(t){var u;if(200 != t.status || null == t.body)return (p.kra.gW({url:q,status:t.status,Jpa:"FTL API request failed",Xd:t.Xd}),Promise.reject(Error("FTL API request failed: " + t.status)));u=p.ac.parse(t.body);return u instanceof Error?(p.kra.gW({url:q,status:4,Jpa:"FTL Probe API JSON parsing error",Xd:t.Xd}),Promise.reject(u)):Promise.resolve(u);}).catch(function(t){t instanceof Error && (p.kra.gW({url:q,status:0,Jpa:t.message}),p.za.error("FTL API call failed",t.message));return Promise.reject(t);});};c.prototype.sDb=function(q,p,t){var u;u=this;return new Promise(function(w,v){var E;for(var x,y,z,A=[],B={},D=0;D < q.vPb;(B={k9:B.k9,l9:B.l9},++D)){B.k9=D < q.E1a.length?q.E1a[D]:l.ab;B.l9="" + p + (-1 === p.indexOf("?")?"?":"&") + "pulse=" + (D + 1);E=(function(F){return function(){return new Promise(function(C,G){u.yc.Rj(F.k9,function(){f.aPb(u.XVa,F.l9,q.uPb).then(function(J){function K(H,L,P){H || (H=P.headers[L]);return H;}x=K(x,"via",J);y=K(y,"x-ftl-probe-data",J);z=K(z,"x-ftl-error",J);C({status:J.status,Xd:J.Xd,LYb:x || "",zpb:y || "",WS:z || ""});}).catch(function(J){G(J);});});});};})(B);A.push(0 < D?A[D - 1].then(E):E());}Promise.all(A).then(function(F){w({url:p,name:t,data:F});}).catch(function(F){v(F);});});};c.aPb=function(q,p,t){return q.get(p,!1,t).then(function(u){return Object.assign({},u);});};n=f=c;n=f=r.__decorate([k.R(),r.__param(0,k.l(a.cza)),r.__param(1,k.l(m.Nza)),r.__param(2,k.l(d.mj)),r.__param(3,k.l(h.aza)),r.__param(4,k.l(a.$Fa)),r.__param(5,k.l(a.YFa)),r.__param(6,k.l(g.Jb))],n);b.dza=n;},function(r,b,a){var f,k,l,d,g,h;function c(m,n){this.Ij=m;this.hoa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.ZFa=void 0;r=a(1);k=a(0);l=a(49);d=a(4);g=a(55);a=a(99);c.prototype.gW=function(m){var n;n={ctx:m.context,data:m.data.map(function(q){return {name:q.name,url:q.url,data:q.data.map(function(p){return f.qZb({d:p.Xd.duration.ea(d.ma),sc:p.status,sz:p.Xd.size.ea(l.du),via:p.LYb,cip:p.zpb,err:p.WS},p);})};})};m=this.hoa.bv(m.nna,"info",n);this.Ij.te(m);};c.qZb=function(m,n){f.Uu(m,"dns",n.Xd.OQa);f.Uu(m,"tcp",n.Xd.pta);f.Uu(m,"tls",n.Xd.yta);f.Uu(m,"ttfb",n.Xd.uta);return m;};c.Uu=function(m,n,q){q && (m[n]=q.ea(d.ma));};h=f=c;h=f=r.__decorate([k.R(),r.__param(0,k.l(g.Ao)),r.__param(1,k.l(a.qA))],h);b.ZFa=h;},function(r,b,a){var f,k,l,d,g,h;function c(m,n){this.Ij=m;this.hoa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.XFa=void 0;r=a(1);k=a(0);l=a(49);d=a(4);g=a(55);a=a(99);c.prototype.gW=function(m){m=this.hoa.bv("ftlProbeError","info",f.pZb({url:m.url,sc:m.status,pf_err:m.Jpa},m));this.Ij.te(m);};c.pZb=function(m,n){n.Xd && (n=n.Xd,f.Uu(m,"d",n.duration),f.Uu(m,"dns",n.OQa),f.Uu(m,"tcp",n.pta),f.Uu(m,"tls",n.yta),f.Uu(m,"ttfb",n.uta),m.sz=n.size.ea(l.du));return m;};c.Uu=function(m,n,q){q && (m[n]=q.ea(d.ma));};h=f=c;h=f=r.__decorate([k.R(),r.__param(0,k.l(g.Ao)),r.__param(1,k.l(a.qA))],h);b.XFa=h;},function(r,b,a){var f,k,l,d,g;function c(h,m){this.is=h;this.json=m;k.ao(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.$ya=void 0;r=a(1);f=a(0);k=a(57);l=a(36);d=a(4);a=a(26);c.prototype.parse=function(h){var n;h=this.json.parse(h);if(!this.is.rea(h))throw Error("FtlProbe: param: not an object");if(h.next && !this.is.kR(h.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.kR(h.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(h.pulse_delays && !this.is.Cx(h.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.kR(h.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Cx(h.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.En(h.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.XJ(h.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var m=0;m < h.urls.length;++m){n=h.urls[m];if(!this.is.rea(n))throw Error("FtlProbe: param.urls[" + m + "]: not an object");if(!this.is.Xo(n.name))throw Error("FtlProbe: param.urls[" + m + "].name: not a string");if(!this.is.Xo(n.url))throw Error("FtlProbe: param.urls[" + m + "].url: not a string");}return {vPb:h.pulses,E1a:h.pulse_delays?h.pulse_delays.map(d.xc):[],uPb:d.xc(h.pulse_timeout),uXa:h.next?d.xc(h.next):void 0,urls:h.urls,nna:h.logblob,context:h.ctx};};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.If)),r.__param(1,f.l(l.vD))],g);b.$ya=g;},function(r,b,a){var f,k,l,d,g,h,m,n,q;function c(p,t,u){this.wa=p;this.sZb=t;this.performance=u;k.ao(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.Mza=void 0;r=a(1);k=a(57);l=a(1045);d=a(49);g=a(36);h=a(39);m=a(0);n=a(461);q=a(4);c.prototype.get=function(p,t,u){var w;w=this;return new Promise(function(v,x){var y,z,A;try{y=w.sZb.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",p,!0);t && (y.withCredentials=!0);u && (y.timeout=u.ea(q.ma));z=w.wa.Ye;A=void 0;y.onreadystatechange=function(){var B;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=w.wa.Ye.Aa(z);break;case XMLHttpRequest.DONE:B=w.wa.Ye.Aa(z);B={body:y.responseText,status:y.status,headers:f.QMb(y.getAllResponseHeaders()),Xd:w.kka(p,d.da(y.responseText.length),B,A)};v(B);}};y.send();}catch(B){x(B);}});};c.QMb=function(p){var t,w,v;t={};p=p.split("\r\n");for(var u=0;u < p.length;u++){w=p[u];v=w.indexOf(": ");0 < v && (t[w.substring(0,v).toLowerCase()]=w.substring(v + 2));}return t;};c.prototype.kka=function(p,t,u,w){t={size:t,duration:u,uta:w};if(!this.performance || !this.performance.getEntriesByName)return t;u=this.performance.getEntriesByName(p);if(0 == u.length && (u=this.performance.getEntriesByName(p + "/"),0 == u.length))return t;p=u[u.length - 1];t=l.xYa(t);p.decodedBodySize && (t.size=d.da(p.decodedBodySize));0 < p.duration?t.duration=q.timestamp(p.duration):0 < p.startTime && 0 < p.responseEnd && (t.duration=q.timestamp(p.responseEnd - p.startTime));0 < p.requestStart && (t.OQa=q.timestamp(p.domainLookupEnd - p.domainLookupStart),t.pta=q.timestamp(p.connectEnd - p.connectStart),t.uta=q.timestamp(p.responseStart - p.startTime),0 === p.secureConnectionStart?t.yta=q.timestamp(0):void 0 !== p.secureConnectionStart && (u=p.connectEnd - p.secureConnectionStart,t.yta=q.timestamp(u),t.pta=q.timestamp(p.connectEnd - p.connectStart - u)));return t;};a=f=c;a=f=r.__decorate([m.R(),r.__param(0,m.l(h.Wh)),r.__param(1,m.l(n.BIa)),r.__param(2,m.l(g.Taa)),r.__param(2,m.optional())],a);b.Mza=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sIb=b.xYa=b.qIb=void 0;b.qIb=function(a){return a;};b.xYa=function(a){return a;};b.sIb=function(a){return Object.assign({},a);};},function(r,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.C1a=void 0;r=a(0);c=a(310);f=a(1047);k=a(184);l=a(1048);b.C1a=new r.$c(function(d){d(c.Wxa).to(f.Vxa).$();d(k.rP).to(l.WAa).$();});},function(r,b,a){var f,k,l,d,g,h,m,n;function c(q,p,t,u){this.Rd=q;this.Gx=p;this.wYb=t;this.TL=u;}Object.defineProperty(b,"__esModule",{value:!0});b.Vxa=void 0;r=a(1);f=a(0);k=a(28);l=a(35);d=a(77);g=a(133);h=a(60);m=a(59);a=a(184);c.prototype.gg=function(q){var p;p=this;return this.Rd.xs(q.Bj[0].data[0],[8,4])?Promise.resolve({ee:[{id:"ddd",fG:"cert",wU:void 0}],Oi:[{sessionId:"ddd",data:new Uint8Array(this.Gx.decode(m.rIa))}]}):this.Rd.xs(q.Bj[0].data[0],this.wYb.decode("certificate"))?Promise.resolve({ee:[{id:"ddd",fG:"cert",wU:void 0}],Oi:[{sessionId:"ddd",data:new Uint8Array(this.Gx.decode(m.EY))}]}):this.TL.wx(this.Hyb(q)).then(function(t){return p.Iyb(t);});};c.prototype.release=function(q){return this.TL.release(this.Lyb(q)).then(function(){});};c.prototype.Hyb=function(q){var p,t;p=this;t=q.Bj.map(function(u){return u.data.map(function(w){return {sessionId:u.sessionId,dataBase64:p.Gx.encode(w)};});});return {ca:q.ca,Vi:q.Vi,l2:q.l2,Sf:h.Yma(q.Sf),On:g.nn[q.On],Bj:t.reduce(function(u,w){return u.concat(w);},[]),JU:q.JU,Hj:q.Hj};};c.prototype.Lyb=function(q){return {ca:q.ca,ee:q.ee};};c.prototype.Iyb=function(q){return {ee:q.ee,Oi:q.Oi};};n=c;n=r.__decorate([f.R(),r.__param(0,f.l(k.Jf)),r.__param(1,f.l(l.Uh)),r.__param(2,f.l(d.yu)),r.__param(3,f.l(a.rP))],n);b.Vxa=n;},function(r,b,a){var f,k,l,d,g,h;function c(m,n,q,p,t){this.Wkb=m;this.vQb=n;this.F2a=p;this.ARb=t;this.za=q.Cb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.WAa=void 0;r=a(1);f=a(0);k=a(8);l=a(465);a(466);d=a(467);g=a(468);a=a(265);c.prototype.wx=function(m){var n,q;n=this;!1;q=this.F2a.HWb(m);return this.Wkb.wp(this.za,m.Hj,q).then(function(p){p.map(function(t){return t.hHb;});return n.ARb.k6a(p);}).catch(function(p){n.za.error("PBO license failed",p);return Promise.reject(p);});};c.prototype.release=function(m){var n;n=this;!1;m=this.F2a.KWb(m);return this.vQb.Qf(this.za,m).then(function(){return {W:!0};}).catch(function(q){n.za.error("PBO release license failed",q);return Promise.reject(q);});};h=c;h=r.__decorate([f.R(),r.__param(0,f.l(l.FDa)),r.__param(1,f.l(d.sEa)),r.__param(2,f.l(k.Jb)),r.__param(3,f.l(g.UDa)),r.__param(4,f.l(a.Qaa))],h);b.WAa=h;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v;function c(x){return function(){return x.$a.get(f.nEa).nb();};}Object.defineProperty(b,"__esModule",{value:!0});b.HG=void 0;r=a(0);f=a(185);k=a(209);l=a(266);d=a(469);g=a(1050);h=a(1051);m=a(470);n=a(1052);q=a(471);p=a(1053);t=a(267);u=a(1054);w=a(472);v=a(1055);b.HG=new r.$c(function(x){x(m.XEa).to(n.WEa).$();x(k.Saa).to(l.jEa).$();x(d.KDa).to(g.JDa).$();x(f.nEa).to(h.mEa).$();x(f.tZ).iX(c);x(w.lEa).to(v.kEa).$();x(q.QDa).to(p.PDa).$().IX();x(t.pEa).to(u.oEa).$();x(t.gEa).to(u.fEa).$();x(t.iEa).to(u.hEa).$();});},function(r,b,a){var l,d,g,h,m,n,q,p,t,u;function c(){}function f(){}function k(w,v,x,y,z){var A;A=this;this.is=w;this.gn=v;this.config=x;this.AB=y;this.iNb=z;this.iw=function(){return new c().encode({version:A.version,data:A.HG});};this.VXb=function(B){B=A.upgrade(B);A.iNb.validate(B);return B;};this.upgrade=function(B){var D;if(A.is.En(B))return A.YXb(B);D=B.version;if(void 0 != D && A.is.di(D) && 1 == D)return A.ZXb(B);D=B.version;if(void 0 != D && A.is.di(D) && 2 == D)return new c().decode(B);if(B.version && A.is.di(B.version))throw new m.ed(g.M.mA,g.L.jwa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new m.ed(g.M.mA,g.L.iA,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.zr=new n.O$(2,this.config().W0a,"" !== this.config().W0a && 0 < this.config().PNb,this.gn,this.iw);}Object.defineProperty(b,"__esModule",{value:!0});b.JDa=void 0;r=a(1);l=a(0);d=a(14);g=a(3);h=a(26);m=a(42);n=a(307);q=a(78);p=a(85);t=a(266);a=a(267);k.prototype.JPb=function(){return this.zr.load(this.VXb).catch(function(w){throw new m.ed(g.M.mA,w.oa || w.kc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};k.prototype.ylb=function(w){return this.zr.add(w);};k.prototype.r2a=function(w){return this.zr.remove(w,function(v,x){return v.ca === x.ca;});};k.prototype.fua=function(w){return this.zr.update(w,function(v,x){return v.ca === x.ca;});};k.prototype.toString=function(){return JSON.stringify(this.iw(),null,"  ");};k.prototype.Z6a=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.AB().ki:"";};k.prototype.jua=function(w){return w.map(function(v){return {Dd:v.downloadableId,duration:v.duration};});};k.prototype.$6a=function(w){var v;return w?{total:w.playTimes.total,DH:null !== (v=w.playTimes.totalContentTime) && void 0 !== v?v:w.playTimes.total,audio:this.jua(w.playTimes.audio || []),video:this.jua(w.playTimes.video || []),text:this.jua(w.playTimes.timedtext || [])}:{total:0,DH:0,audio:[],video:[],text:[]};};k.prototype.YXb=function(w){var v,x,y;v=this;w=JSON.parse(w);x={type:"online",href:this.Z6a(w.playbackContextId),ca:w.xid?w.xid.toString():"",K:w.movieId,position:w.position,YR:w.timestamp,yW:w.playback?1E3 * w.playback.startEpoch:-1,aM:w.mediaId,DV:this.$6a(w.playback),trackId:"",no:{},profileId:w.accountKey};y=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.gn.create().then(function(z){z.save(v.config().ES,y,!1);});if("" === x.href || "" === x.ca)throw new m.ed(g.M.mA,g.L.iA);return {version:2,data:[x]};};k.prototype.ZXb=function(w){var v;v=this;if(!w.playdata || !this.is.Cx(w.playdata))throw new m.ed(g.M.mA,g.L.iA,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:v.Z6a(y.playbackContextId),ca:y.xid?y.xid.toString():"",K:y.movieId,position:y.position,YR:y.timestamp,yW:y.playback?1E3 * y.playback.startEpoch:-1,aM:y.mediaId,DV:v.$6a(y.playback),trackId:"",no:{},profileId:y.profileId};});})(w.playdata)};};Xa.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.zr.version;}},HG:{configurable:!0,enumerable:!0,get:function(){return this.zr.Yu;}}});u=k;u=r.__decorate([l.R(),r.__param(0,l.l(h.If)),r.__param(1,l.l(q.dA)),r.__param(2,l.l(d.Zc)),r.__param(3,l.l(p.Bw)),r.__param(4,l.l(a.iEa))],u);b.JDa=u;f.prototype.encode=function(w){var v;v=new t.sZ();return w.map(v.encode);};f.prototype.decode=function(w){var v;v=new t.sZ();return w.map(v.decode);};c.prototype.encode=function(w){return {version:w.version,data:new f().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new f().decode(w.data)};};},function(r,b,a){var l,d,g,h,m,n,q,p,t,u,w,v,x;function c(y,z,A,B,D,E,F,C){this.config=y;this.yc=A;this.lw=B;this.vt=D;this.O6=E;this.Xm=F;this.cG=Promise.resolve();this.closed=!1;this.log=z.Cb("PlaydataServices");this.GG=[];this.active=new Set();this.ERb=new f(y,C);}function f(y,z){this.config=y;this.wa=z;}function k(y,z,A,B,D,E){this.log=y;this.yc=z;this.si=A;this.vt=B;this.lw=D;this.GNb=E;this.aSa=this.Jn=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=b.beb=void 0;r=a(1);l=a(0);d=a(4);g=a(8);h=a(46);m=a(209);n=a(469);q=a(470);p=a(3);t=a(266);u=a(471);w=a(121);v=a(39);a=a(137);k.prototype.W5=function(y,z){var B;function A(){var D;D=B.vt.create(B.si);B.lw.fua(D).catch(function(E){var F;F=B.aSa?g.jj.Wba:g.jj.wf;B.aSa=!0;B.log.write(F,"Unable to save playdata changes to IDB",E);});}B=this;this.log.trace("Adding initial playdata",z);this.lw.ylb(z).then(function(){B.log.trace("Scheduling monitor",{interval:y});B.vr=B.yc.A7(y,A);}).catch(function(D){B.log.error("Unable to add playdata",{error:D,playdata:new t.sZ().encode(z)});B.vr=B.yc.A7(y,A);});};k.prototype.stop=function(y){var z,A;z=this;if(this.Jn)return Promise.resolve();this.vr && this.vr.cancel();A=this.vt.create(this.si);return this.lw.fua(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(y){if(z.si.background)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.GNb.x3a(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (z.log.trace("Removing playdata from the persisted store",A),z.lw.r2a(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.K);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};k.prototype.cancel=function(){this.Jn=!0;this.vr && this.vr.cancel();this.lw.fua(this.vt.create(this.si));};Xa.Object.defineProperties(f.prototype,{Job:{configurable:!0,enumerable:!0,get:function(){var y;y=this.wa.Ye;return !this.cG || 0 <= y.Aa(this.cG).Yk(this.config.wXa)?(this.cG=y,!0):!1;}}});b.beb=f;c.prototype.nb=function(){var y;y=this;this.aC || (this.log.trace("Starting playdata services"),this.aC=this.lw.JPb().then(function(){!1;return y;}).catch(function(z){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return y;}));return this.aC;};c.prototype.close=function(){this.closed=!0;this.GG.forEach(function(y){y.W5.cancel();});};c.prototype.send=function(y){var z;if(this.closed)return Promise.resolve();z=this.config;return z.FM && z.dsa?this.sSb(y):Promise.resolve();};c.prototype.Vt=function(y,z,A,B){var D;D=this;this.closed || (this.N4a(y),this.gsa(y,B).catch(function(E){D.log.error("Start command failed",{playdata:E.HG,error:E.WS});}),z && this.Psa(this.WAb(y),y,A));};c.prototype.W4a=function(y){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.vt.create(y);this.active.delete(A.ca);y=aa(w.tt(function(D){return D.key === A.ca;},this.GG));B=y.next().value;this.GG=y.next().value;return Promise.all(B.map(function(D){D.stopped=!0;return D.W5.stop(z.config.dsa);})).then(function(){});};c.prototype.N4a=function(y){var z,A;y.Od("pdb");if(this.config.Hpa.$Fb()){z=this.vt.create(y);A=z.ca;this.GG.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.GG.push({key:A,W5:this.nBb(y,z),fw:!1,stopped:!1}));}};c.prototype.sSb=function(y){var z,A,B,D;z=this;A=this.lw.HG.filter(function(E){return !z.active.has(E.ca);});B=void 0;D=void 0;y && Infinity === y?B=A:(A=aa(w.tt(function(E){return E.K === y;},A)),B=A.next().value,D=A.next().value);D && 0 < D.length && this.yc.Rj(this.config.t3a,function(){z.v3a(D);});return B && 0 !== B.length?this.v3a(B):Promise.resolve();};c.prototype.v3a=function(y){var A;function z(B){return A.O6.x3a(B).then(function(){return A.IQb(B);});}A=this;return y.reduce(function(B,D){return B.then(function(){return z(D);});},Promise.resolve());};c.prototype.IQb=function(y){var z;z=this;return this.lw.r2a(y).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.nBb=function(y,z){y=new k(this.log,this.yc,y,this.vt,this.lw,this.O6);y.W5(this.config.Hpa,z);return y;};c.prototype.gsa=function(y,z){var A,B;A=this;B=this.vt.Lsb(y,z);return this.O6.gsa(y,B).then(function(){!1;A.GG.filter(function(D){return D.key === y.ca.toString();}).forEach(function(D){D.fw=!0;});}).catch(function(D){throw {HG:B,WS:D};});};c.prototype.ySb=function(y){return this.ERb.Job?this.wW(u.Paa.mU,y,p.M.U$):Promise.resolve();};c.prototype.w3a=function(y){return this.wW(u.Paa.splice,y,p.M.nGa);};c.prototype.wW=function(y,z,A){var D;function B(E){var F;F=D.GG.filter(function(C){return C.key === E.ca.toString();});return 0 === F.length?!0:F.reduce(function(C,G){return C || G.stopped || !G.fw;},!1);}D=this;return B(z)?this.cG:this.cG=this.cG.catch(function(){return Promise.resolve();}).then(function(){var E;if(B(z))return Promise.resolve();!1;E=D.vt.create(z);return D.O6.wW(y,z,E);}).then(function(E){!1;return E;}).catch(function(E){var F;D.log.error("Failed to send event",{eventKey:y,xid:z.ca,error:E});E.Fj?F=D.Xm(A,E):E.Kv === p.cZ.Sba && (F=D.Xm(A,E));throw {WS:E,Tpa:F};});};c.prototype.Psa=function(y,z,A){var B;B=this;!1;this.yga();this.Ema=this.yc.Rj(y,function(){B.yga();B.wW(u.Paa.mU,z,p.M.U$).then(function(){B.Psa(y,z,A);}).catch(function(D){var E;E=D.WS;(D=D.Tpa) && A(D);E.Kv === p.cZ.Sba && B.Psa(y,z,A);});});};c.prototype.OUb=function(){this.yga();};c.prototype.yga=function(){this.Ema && (this.Ema.cancel(),this.Ema=void 0);};c.prototype.WAb=function(y){return y.ib.pla?d.xc(y.ib.pla):this.config.vXa;};x=c;x=r.__decorate([l.R(),r.__param(0,l.l(q.XEa)),r.__param(1,l.l(g.Jb)),r.__param(2,l.l(h.mj)),r.__param(3,l.l(n.KDa)),r.__param(4,l.l(m.Saa)),r.__param(5,l.l(u.QDa)),r.__param(6,l.l(a.KP)),r.__param(7,l.l(v.Wh))],x);b.mEa=x;},function(r,b,a){var f,k,l,d,g,h;function c(m,n){m=k.hf.call(this,m,"PlaydataConfigImpl") || this;m.config=n;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.WEa=void 0;r=a(1);f=a(0);k=a(45);l=a(37);d=a(44);g=a(4);a=a(38);la(c,k.hf);Xa.Object.defineProperties(c.prototype,{FM:{configurable:!0,enumerable:!0,get:function(){return this.config.hv?"unsentplaydatatest":"unsentplaydata";}},dsa:{configurable:!0,enumerable:!0,get:function(){return !0;}},t3a:{configurable:!0,enumerable:!0,get:function(){return g.xc(1E4);}},Hpa:{configurable:!0,enumerable:!0,get:function(){return g.xc(4E3);}},vXa:{configurable:!0,enumerable:!0,get:function(){return g.U5(1);}},wXa:{configurable:!0,enumerable:!0,get:function(){return g.Tg(30);}}});h=c;r.__decorate([d.config(d.string,"playdataPersistKey")],h.prototype,"FM",null);r.__decorate([d.config(d.ad,"sendPersistedPlaydata")],h.prototype,"dsa",null);r.__decorate([d.config(d.vk,"playdataSendDelayMilliseconds")],h.prototype,"t3a",null);r.__decorate([d.config(d.vk,"playdataPersistIntervalMilliseconds")],h.prototype,"Hpa",null);r.__decorate([d.config(d.vk,"heartbeatCooldown")],h.prototype,"vXa",null);r.__decorate([d.config(d.vk,"keepAliveWindow")],h.prototype,"wXa",null);h=r.__decorate([f.R(),r.__param(0,f.l(l.lm)),r.__param(1,f.l(a.gm))],h);b.WEa=h;},function(r,b,a){var f,k,l;function c(d,g){this.aS=g;this.log=d.Cb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.PDa=void 0;r=a(1);f=a(80);k=a(8);a=a(0);c.prototype.gsa=function(d,g){var h;h=this.aS(f.zo.start);return this.URa(h,d,g);};c.prototype.x3a=function(d){var g;g=this;return this.aS(f.zo.stop).Qf(this.log,d).then(function(){}).catch(function(h){g.log.error("PBO stop event failed",h);throw h;});};c.prototype.wW=function(d,g,h){d=this.aS(d);return this.URa(d,g,h);};c.prototype.URa=function(d,g,h){var m;m=this;return d.wp(this.log,g.sa.Hj,h).then(function(){}).catch(function(n){m.log.error("PBO event failed",n);throw n;});};l=c;l=r.__decorate([a.R(),r.__param(0,a.l(k.Jb)),r.__param(1,a.l(f.t$))],l);b.PDa=l;},function(r,b,a){var l,d,g,h;function c(){}function f(m){this.hNb=m;}function k(m){this.kNb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.oEa=b.hEa=b.fEa=void 0;r=a(1);l=a(0);d=a(267);g=a(42);h=a(3);k.prototype.validate=function(m){m.map(this.kNb.validate);};a=k;a=r.__decorate([l.R(),r.__param(0,l.l(d.pEa))],a);b.fEa=a;f.prototype.validate=function(m){this.hNb.validate(m.data);};a=f;a=r.__decorate([l.R(),r.__param(0,l.l(d.gEa))],a);b.hEa=a;c.prototype.validate=function(m){var n;m.ca && "string" === typeof m.ca?m.href && "string" === typeof m.href?m.profileId && "string" === typeof m.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new g.ed(h.M.mA,h.L.iA,void 0,void 0,void 0,n,void 0,m.ca);};r=r.__decorate([l.R()],c);b.oEa=r;},function(r,b,a){var f,k,l,d;function c(g,h){this.jNb=h;this.log=g.Cb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.kEa=void 0;r=a(1);f=a(0);k=a(8);l=a(17);a=a(185);c.prototype.Vt=function(g){var h;h=this;this.jNb().then(function(m){g.addEventListener(l.Z.gG,function(n){var q;if(void 0 !== n.NM){q=g.pL(n.NM);m.W4a(q);n.I4 || new Promise(function(p){var t;if(g.Rv.value)p();else {t=function(u){u.newValue && (p(),g.Rv.removeListener(t));};g.Rv.addListener(t);}}).then(function(){return m.Vt(g,h.q4a(g),function(p){return g.bF(p);},g.pK);});}});g.addEventListener(l.Z.ut,function(){m.Vt(g,h.q4a(g),function(n){return g.bF(n);},g.pK);});g.background || g.addEventListener(l.Z.UL,function(n){n=g.pL(n.K);m.N4a(n);});g.addEventListener(l.Z.xg,function(){m.OUb();});g.addEventListener(l.Z.q7a,function(){m.ySb(g.ga).catch(function(n){(n=n.Tpa) && g.bF(n);});});g.Sc.addListener(function(){g.ib.Wha?h.log.trace("stickiness is disabled for timedtext"):m.w3a(g.ga);});g.Ud.addListener(function(){g.ib.Wha?h.log.trace("stickiness is disabled for audio"):m.w3a(g.ga).catch(function(n){(n=n.Tpa) && g.bF(n);});});});};c.prototype.q4a=function(g){return g.state.value == l.Kb.$d;};d=c;d=r.__decorate([f.R(),r.__param(0,f.l(k.Jb)),r.__param(1,f.l(a.tZ))],d);b.kEa=d;},function(r,b,a){var f,k,l,d,g,h,m,n;function c(q){return function(){return new Promise(function(p,t){var u;u=q.$a.get(k.dya);u.nb().then(function(){p(u);}).catch(function(w){t(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.cRa=void 0;r=a(0);f=a(473);a(1057);k=a(475);l=a(1059);d=a(94);g=a(1060);h=a(476);m=a(1061);n=a(1062);a(1063);b.cRa=new r.$c(function(q){q(h.eBa).to(m.dBa).$();q(f.aya).to(n.fBa);q(d.pO).to(g.iva).$();q(k.dya).to(l.bya).$();q(k.cya).iX(c);});},function(r,b,a){var f,k,l,d,g,h,m;function c(n,q,p){var t;t=g.WP.call(this,n,q,"idb") || this;t.gn=p;t.a3a=function(u){t.xub(u.target.id).then(function(){return t.refresh();});};t.CLb=function(){t.Jpb().then(function(){return t.refresh();});};t.ZLb=function(){t.refresh();};t.FLb=function(){t.Lqb();};return t;}Object.defineProperty(b,"__esModule",{value:!0});b.Vbb=void 0;r=a(1);f=a(0);k=a(28);l=a(26);d=a(168);g=a(474);h=a(128);m=a(268);la(c,g.WP);c.prototype.nb=function(){var n;n=this;if(this.Km)return Promise.resolve();pb.addEventListener("keydown",function(q){q.ctrlKey && q.altKey && q.shiftKey && q.keyCode == h.ku.Tab && n.toggle();});return this.gn.create().then(function(q){n.storage=q;n.Km=!0;});};c.prototype.qk=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.Cka=function(n,q,p){var t;n=n.toString();t='<font color="#C41A16">"' + q + '"</font>';p=this.uc.Aj({name:q,data:p});return '<tr><td><span class="' + (this.prefix + '-display-indexvalue">' + n + '</span></td><td><span class="') + (this.prefix + '-display-keyvalue">' + t + '</span></td><td style="border-right:solid 0px"><ul class="') + (this.prefix + '-display-tree">' + p + '</ul></td><td style="border-left:solid 0px"><ul class="') + (this.prefix + '-display-item-inline"><button id="' + q + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td></tr>');};c.prototype.Oka=function(n){var q,p;q=this;p='<table class="' + this.prefix + '-display-table" width="100%">' + this.qk();Object.entries(n).forEach(function(t,u){var w;w=aa(t);t=w.next().value;w=w.next().value;p+=q.Cka(u,t,w);});return p + "</table>";};c.prototype.tTa=function(){var n,q,p;n=this.Rd.createElement("button",g.$H,"Clear",{"class":this.prefix + "-display-btn"});q=this.Rd.createElement("button",g.$H,"Refresh",{"class":this.prefix + "-display-btn"});p=this.Rd.createElement("button",g.$H,"Copy",{"class":this.prefix + "-display-btn"});n.onclick=this.CLb;q.onclick=this.ZLb;p.onclick=this.FLb;return [n,q,p];};c.prototype.LHb=function(){var n;n=this;return this.storage.loadAll().then(function(q){n.ZVa=q.reduce(function(p,t){p[t.key]=t.value;return p;},{});return n.ZVa;});};c.prototype.xub=function(n){return this.storage.remove(n);};c.prototype.Jpb=function(){return this.storage.removeAll();};c.prototype.i2a=function(){var n;n=this;return this.LHb().then(function(q){return n.Oka(q);});};c.prototype.Lqb=function(){var n;n=JSON.stringify(this.ZVa,null,4);m.hY.Xga(n);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.Jf)),r.__param(1,f.l(l.If)),r.__param(2,f.l(d.P$))],a);b.Vbb=a;},function(r,b){function a(c){this.is=c;this.DGb="#881391";this.cVb="#C41A16";this.Lnb=this.iLb="#1C00CF";this.hFb="#D79BDB";this.kXb=this.fLb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.QHa=void 0;a.prototype.Aj=function(c){return this.getValue("~~NONAME~~",c);};a.prototype.KB=function(c,f){return '<font color="' + ((void 0 === f?0:f)?this.hFb:this.DGb) + '">' + c + ": </font>";};a.prototype.WSa=function(c,f){f=f || "";c='<li><a href="#">' + this.KB(c) + "Array[" + f.length + "]</a>";c+="<ul>";for(var k=0;k < f.length;++k){c+=this.getValue(k.toString(),f[k]);}c+=this.getValue("length",f.length,!0);return c + "</ul></li>";};a.prototype.wUa=function(c,f){var k,l;k=this;if(f instanceof CryptoKey)return this.Uzb(c,f);l="";l+='<li><a href="#">' + ("~~NONAME~~" !== c?this.KB(c):"") + "Object</a>";l+="<ul>";Object.entries(f).forEach(function(d){var g;g=aa(d);d=g.next().value;g=g.next().value;l=d.startsWith("$")?l + k.getValue(d,"REMOVED"):l + k.getValue(d,g);});l+="</ul>";return l+="</li>";};a.prototype.Uzb=function(c,f){c='<li><a href="#">' + this.KB(c) + "CryptoKey</a>";c=c + "<ul>" + this.wUa("algorithm",f.algorithm);c+=this.aTa("extractable",f.extractable);c+=this.$Ua("type",f.type);c+=this.WSa("usages",f.usages);return c + "</ul></li>";};a.prototype.BBb=function(c,f,k){return '<li><a href="#">' + this.KB(c,void 0 === k?!1:k) + ('<font color="' + this.iLb + '">' + f.toString() + "</font></a></li>");};a.prototype.aTa=function(c,f,k){return '<li><a href="#">' + this.KB(c,void 0 === k?!1:k) + ('<font color="' + this.Lnb + '">' + f.toString() + "</font></a></li>");};a.prototype.$Ua=function(c,f,k){128 < f.length && (f=f.substr(0,128) + "...");return '<li><a href="#">' + this.KB(c,void 0 === k?!1:k) + ('<font color="' + this.cVb + '">"' + f + '"</font></a></li>');};a.prototype.ABb=function(c){return '<li><a href="#">' + this.KB(c) + ('<font color="' + this.fLb + '">null</font></a></li>');};a.prototype.LCb=function(c,f){f="undefined" === typeof f?"":f.toString();255 < f.length && (f=f.substr(0,255) + "...");return '<li><a href="#">' + this.KB(c) + ('<font color="' + this.kXb + '">' + f + "</font></a></li>");};a.prototype.getValue=function(c,f,k){k=void 0 === k?!1:k;return null === f?"" + this.ABb(c):this.is.Cx(f)?"" + this.WSa(c,f):this.is.XJ(f)?"" + this.wUa(c,f):this.is.Xo(f)?"" + this.$Ua(c,f,k):this.is.di(f)?"" + this.BBb(c,f,k):this.is.jR(f)?"" + this.aTa(c,f,k):"" + this.LCb(c,f);};b.QHa=a;},function(r,b,a){var f,k;function c(l){this.hvb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.bya=void 0;r=a(1);f=a(0);a=a(473);c.prototype.nb=function(){var l;l=this;this.aC || (this.aC=new Promise(function(d,g){var h;h=[];l.hvb.forEach(function(m){h.push(m.nb());});Promise.all(h).then(function(){d();}).catch(function(m){g(m);});}));return this.aC;};k=c;k=r.__decorate([f.R(),r.__param(0,f.rG(a.aya))],k);b.bya=k;},function(r,b,a){var f,k;function c(){this.Wra="";this.E7a=[[],[]];this.Y=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.iva=void 0;r=a(1);f=a(0);a(4);k=a(94);c.prototype.downloadRequest=function(l){var d;"" === this.Wra && (this.Wra=l.va);if(!l.Pc){d=this.nWb(l);this.Y[l.mediaType].push(d);this.E7a[l.mediaType].forEach(function(g){g.l4b(d);});}};c.prototype.nWb=function(l){return {id:l.Kh(),va:l.va,mediaType:l.mediaType,Cj:l.Cj,startTime:l.rz,endTime:l.Vv,offset:l.It,iK:l.iK,hK:l.hK,duration:l.hy,bitrate:l.bitrate,state:k.E9.XQa,Rv:!1,s6b:!1,BVa:!1,j5b:k.D9.waiting};};c.prototype.update=function(l){this.E7a[l.mediaType].forEach(function(d){d.m9b(l);});};Xa.Object.defineProperties(c.prototype,{va:{configurable:!0,enumerable:!0,get:function(){return this.Wra;}}});a=r.__decorate([f.R()],c);b.iva=a;},function(r,b,a){var f,k,l,d,g;function c(h,m){h=l.hf.call(this,h,"LogDisplayConfigImpl") || this;h.kk=m;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.dBa=void 0;r=a(1);f=a(0);k=a(44);l=a(45);d=a(37);a=a(131);la(c,l.hf);Xa.Object.defineProperties(c.prototype,{fW:{configurable:!0,enumerable:!0,get:function(){return !0;}},VL:{configurable:!0,enumerable:!0,get:function(){return this.kk.VL;}},gYa:{configurable:!0,enumerable:!0,get:function(){return -1;}}});g=c;r.__decorate([k.config(k.ad,"renderDomDiagnostics")],g.prototype,"fW",null);r.__decorate([k.config(k.x4,"logDisplayMaxEntryCount")],g.prototype,"VL",null);r.__decorate([k.config(k.x4,"logDisplayAutoshowLevel")],g.prototype,"gYa",null);g=r.__decorate([f.R(),r.__param(0,f.l(d.lm)),r.__param(1,f.l(a.IP))],g);b.dBa=g;},function(r,b,a){var l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A;function c(B,D,E,F,C,G,J,K,H,L){var P;P=this;this.wa=B;this.Nf=D;this.Rd=E;this.yc=F;this.dn=C;this.config=G;this.AB=J;this.qta=K;this.Mtb=H;this.gn=L;this.TVb=function(){P.uX.ql(function(){P.update();});};this.clear=function(){P.entries=[];P.update();};this.AZa=function(){P.ve.OL=!P.ve.OL;P.pC && P.tC && (P.ve.OL?(P.pC.style.display="inline-block",P.tC.style.display="none"):(P.tC.style.display="inline-block",P.pC.style.display="none"));P.kH(!1);};this.fIb=function(I){var O;P.entries.push(I);O=P.config.VL;0 <= O && P.entries.length > O && P.entries.shift();void 0 === P.ve.Ox[I.Kn] && (P.ve.Ox[I.Kn]=!0,P.kH(!1));P.ve.isVisible && !P.D5a?P.TVb():P.uX.ql();};this.qvb=function(){k.download("all",P.entries.map(function(I){return I.x8(!1,!1);})).catch(function(I){console.error("Unable to download all logs to the file",I);});};this.Km=!1;this.ve={isVisible:!1,OL:!0,i2:!0,jna:u.jj.L$,Ox:{}};this.uX=this.qta(q.Tg(1));this.Jxb=this.Mtb(q.xc(250));this.entries=[];!1;!1;}function f(B){var D;this.elements=[];D=document.createElementNS(f.WW,"svg");D.setAttribute("viewBox",B);this.elements.push(D);}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.fBa=void 0;r=a(1);l=a(0);d=a(28);g=a(107);h=a(329);m=a(46);n=a(39);q=a(4);p=a(19);t=a(85);u=a(8);w=a(108);v=a(269);x=a(476);y=a(78);z=a(128);A=a(268);k.download=function(B,D){return k.vAb(B).then(function(E){return k.CCb(E,D.join("\r\n")).then(function(F){return k.ovb(F.filename,F.text);});});};k.vAb=function(B){return new Promise(function(D,E){var F,C,G,J,K,H,L;try{F=new Date();C=F.getDate().toString();G=(F.getMonth() + 1).toString();J=F.getFullYear().toString();K=F.getHours().toString();H=F.getMinutes().toString();L=F.getSeconds().toString();1 === C.length && (C="0" + C);1 === G.length && (G="0" + G);1 === K.length && (K="0" + K);1 === H.length && (H="0" + H);1 === L.length && (L="0" + L);D(J + G + C + K + H + L + "." + B + ".log");}catch(P){E(P);}});};k.CCb=function(B,D){return new Promise(function(E,F){try{E({filename:B,text:URL.createObjectURL(new Blob([D],{type:"text/plain"}))});}catch(C){F(C);}});};k.ovb=function(B,D){var E;try{E=document.createElement("a");E.setAttribute("href",D);E.setAttribute("download",B);E.style.display="none";document.body.appendChild(E);E.click();document.body.removeChild(E);return Promise.resolve();}catch(F){return Promise.reject(F);}};f.prototype.HN=function(){var B;B=document.createElementNS(f.WW,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};f.prototype.IN=function(B,D,E){var F;F=document.createElementNS(f.WW,"path");F.setAttribute("d",B);D && F.setAttribute("fill",D);E && F.setAttribute("fill-rule",E);this.addElement(F);return this;};f.prototype.QW=function(B,D,E,F,C){var G;C=void 0 === C?"#000000":C;G=document.createElementNS(f.WW,"rect");G.setAttribute("x",B.toString());G.setAttribute("y",D.toString());G.setAttribute("height",E.toString());G.setAttribute("width",F.toString());C && G.setAttribute("fill",C);this.addElement(G);return this;};f.prototype.DUb=function(){var B;B=document.createElementNS(f.WW,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};f.prototype.end=function(){this.elements.pop();return this;};f.prototype.Aj=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};f.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Xa.Object.defineProperties(f,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},nF:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});f.WW="http://www.w3.org/2000/svg";c.prototype.nb=function(){var B;B=this;this.aC || (this.aC=new Promise(function(D){pb.addEventListener("keydown",function(E){E.ctrlKey && E.altKey && E.shiftKey && (E.keyCode == z.ku.Ybb?B.toggle():E.keyCode == z.ku.E && A.hY.Xga(B.AB().ki));});B.dn.k7(v.caa.r$a,B.fIb);D();}));return this.aC;};c.prototype.show=function(){document.body && (this.element || (this.zsb(),this.Km=!0),!this.ve.isVisible && this.element && (document.body.appendChild(this.element),this.ve.isVisible=!0,this.update(!0)));};c.prototype.Yq=function(){this.Km && this.ve.isVisible && this.element && (document.body.removeChild(this.element),this.ve.isVisible=!1);};c.prototype.toggle=function(){this.ve.isVisible?this.Yq():this.show();this.kH(!1);};c.prototype.zsb=function(){var B,D;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});D=this.createElement("style");D.type="text/css";D.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(D);B.appendChild(this.po=this.qtb());B.appendChild(this.rtb());B.appendChild(this.ssb());this.element=B;}catch(E){console.error("Unable to create the log console",E);}};c.prototype.qtb=function(){var B,D;B=this;D=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");D.setAttribute("wrap","off");D.setAttribute("readonly","readonly");D.addEventListener("focus",function(){B.D5a=!0;B.update();B.po && (B.po.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});D.addEventListener("blur",function(){B.D5a=!1;B.update();B.po && (B.po.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return D;};c.prototype.rtb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.Tsb());B.appendChild(this.Jsb());B.appendChild(this.Esb());B.appendChild(this.ttb());B.appendChild(this.xsb());B.appendChild(this.Zsb());B.appendChild(this.Xsb());B.appendChild(this.Gsb());B.appendChild(this.ysb());return B;};c.prototype.ssb=function(){var B,D,E,F,C,G;B=this;D=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");E=this.createElement("div","padding:2px");F=this.createElement("select",this.sv(22,160,1,2),"<option>Select categories</option>");C=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");D.appendChild(E);D.appendChild(C);E.appendChild(F);E.addEventListener("mousedown",function(J){J.preventDefault();});G=!1;E.addEventListener("click",function(){G?C.style.display="none":(C.innerHTML="",["all","none"].concat(Object.keys(B.ve.Ox).sort()).forEach(function(J){C.appendChild(B.tsb(J,E));}),C.style.display="block");G=!G;});return D;};c.prototype.tsb=function(B,D){var E,F,C;E=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;C=this.createElement("input","margin:1px");C.type="checkbox";C.id=B;C.checked=this.ve.Ox[B];C.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(E.ve.Ox).forEach(function(G){E.ve.Ox[G]="all" === B;}),D.click()):E.ve.Ox[B]=!E.ve.Ox[B];E.kH(!0);});F.appendChild(C);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.Tsb=function(){var B,D;B=this;D=this.createElement("select",this.sv(22,NaN,1,2),'<option value="' + u.jj.wf + '">Error</option><option value="' + (u.jj.Wba + '">Warn</option><option value="') + (u.jj.L$ + '">Info</option><option value="') + (u.jj.pHa + '">Trace</option><option value="') + (u.jj.ia + '">Debug</option>'));D.value=this.ve.jna.toString();D.addEventListener("change",function(E){B.ve.jna=parseInt(E.target.value);B.kH(!0);},!1);return D;};c.prototype.Jsb=function(){var D,E;function B(F){return D.Jxb.ql(function(){var C;C=F.target.value;D.ve.filter=C?new RegExp(C):void 0;D.kH(!0);});}D=this;E=this.createElement("input",this.sv(14,150,1,2));E.value=this.ve.filter?this.ve.filter.source:"";E.title="Filter (RegEx)";E.placeholder="Filter (RegEx)";E.addEventListener("keydown",B,!1);E.addEventListener("change",B,!1);return E;};c.prototype.Esb=function(){var B,D,E,F;B=this;D=this.createElement("div",this.sv(NaN,NaN));E=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");E.id="details";E.type="checkbox";E.title="Details";E.checked=this.ve.i2;E.addEventListener("change",function(C){B.ve.i2=C.target.checked;B.kH(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";D.appendChild(E);D.appendChild(F);return D;};c.prototype.ttb=function(){var B,D,E;B=this;D=this.createElement("button",this.sv());E=new f("0 0 24 24").HN().DUb().end().IN("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",f.nF,"nonzero").end().end().Aj();D.appendChild(E);D.addEventListener("click",function(){B.update();},!1);D.setAttribute("title","Refresh the log console");return D;};c.prototype.xsb=function(){var B,D;B=this.createElement("button",this.sv());D=new f("0 0 24 24").HN().QW(0,0,24,24,f.background).end().IN("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",f.nF).end().end().Aj();B.appendChild(D);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.Zsb=function(){var B;this.tC=this.createElement("button",this.sv());this.tC.style.display=this.ve.OL?"none":"inline-block";B=new f("0 0 24 24").HN().QW(0,0,24,24,f.background).end().IN("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",f.nF,"nonzero").end().end().Aj();this.tC.addEventListener("click",this.AZa,!1);this.tC.appendChild(B);this.tC.setAttribute("title","Shrink the log console");return this.tC;};c.prototype.Xsb=function(){var B;this.pC=this.createElement("button",this.sv());this.pC.style.display=this.ve.OL?"inline-block":"none";B=new f("0 0 24 24").HN().QW(4,4,16,16,f.background).end().IN("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",f.nF,"nonzero").end().end().Aj();this.pC.addEventListener("click",this.AZa,!1);this.pC.appendChild(B);this.pC.setAttribute("title","Expand the log console");return this.pC;};c.prototype.Gsb=function(){var B,D;B=this.createElement("button",this.sv());D=new f("0 0 26 26").HN().QW(0,0,24,24,f.background).end().IN("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",f.nF,"nonzero").end().end().Aj();B.appendChild(D);B.addEventListener("click",this.qvb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.ysb=function(){var B,D,E;B=this;D=this.createElement("button",this.sv());E=new f("0 0 24 24").HN().QW(0,0,24,24,f.background).end().IN("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",f.nF,"nonzero").end().end().Aj();D.appendChild(E);D.addEventListener("click",function(){B.toggle();},!1);D.setAttribute("title","Close the log console");return D;};c.prototype.kH=function(B){var D;B=void 0 === B?!1:B;D=void 0 === D?!1:D;!1;B && this.update(D);};c.prototype.update=function(B){var D;D=this;B=void 0 === B?!1:B;this.element && this.config.fW && Promise.resolve(this.$nb() + this.wAb().join("\r\n")).then(function(E){D.element && D.po && (D.po.value=E,D.element.style.cssText=D.ve.OL?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && D.yc.Rj(q.ab,function(){D.po.scrollTop=D.po.scrollHeight;}));}).catch(function(E){console.error("Unable to update the log console",E);});};c.prototype.wAb=function(){var B,D;B=this;D=[];this.entries.forEach(function(E){(E.level || E.level) <= B.ve.jna && B.ve.Ox[E.Kn] && (E=E.x8(!B.ve.i2,!B.ve.i2),B.ve.filter && !B.ve.filter.test(E) || D.push(E));});return D;};c.prototype.$nb=function(){var B;B=this.AB();return "Version: 6.0032.428.911 \n" + ((B?"Esn: " + B.ki:"") + "\nJsSid: ") + (this.Nf.id + ", Epoch: " + this.wa.Ye.ea(q.rn) + ", Start: " + this.Nf.eG.ea(q.rn) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,D,E,F){return this.Rd.createElement(B,D,E,F);};c.prototype.sv=function(B,D,E,F){B=void 0 === B?26:B;D=void 0 === D?26:D;return "display:inline-block;border:" + (void 0 === E?0:E) + "px solid " + f.nF + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(D)?"":"width:" + D + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.QUb="logDxDisplay";a=r.__decorate([l.R(),r.__param(0,l.l(n.Wh)),r.__param(1,l.l(p.rd)),r.__param(2,l.l(d.Jf)),r.__param(3,l.l(m.mj)),r.__param(4,l.l(w.vI)),r.__param(5,l.l(x.eBa)),r.__param(6,l.l(t.Bw)),r.__param(7,l.l(g.MI)),r.__param(8,l.l(h.txa)),r.__param(9,l.l(y.dA))],a);b.fBa=a;},function(r,b,a){var f,k,l,d,g,h,m,n;function c(q,p,t){var u;u=h.WP.call(this,q,p,"network") || this;u.uha=t;u.j2=g.xxa.Dcb;u.OIb=30;u.jMb=function(w){u.j2=w.target.value;u.refresh();};u.BLb=function(){u.data={};u.refresh();};u.a3a=function(w){var v,x;v=Number(w.target.id);w=w.target.getAttribute("data-type");v=u.data[u.j2][v].value;x=JSON.stringify(v,null,4);"copy" === w?n.hY.Xga(x):"log" === w && console.log(v);};return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Vcb=void 0;r=a(1);f=a(0);k=a(28);l=a(26);d=a(93);g=a(182);h=a(474);m=a(128);n=a(268);la(c,h.WP);c.prototype.nb=function(){var q;q=this;if(this.Km)return Promise.resolve();pb.addEventListener("keydown",function(p){p.ctrlKey && p.altKey && p.shiftKey && p.keyCode == m.ku.Jcb && q.toggle();});this.data={};this.uha.addListener(g.k$.aeb,function(p){var t;q.data[p.type] || (q.data[p.type]=[]);t=q.data[p.type];t.length === q.OIb && t.shift();t.push(p);p.type === q.j2 && q.refresh();});this.Km=!0;return Promise.resolve();};c.prototype.qk=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.Cka=function(q,p,t){var u;u=q.toString();p='<font color="#C41A16">"' + p + '"</font>';t=this.uc.Aj(t);return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + u + '</span></td>\n                <td><span class="' + this.prefix + '-display-keyvalue">' + p + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + t + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + q + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + q + '" class="' + this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};c.prototype.Oka=function(){for(var q='<table class="' + this.prefix + '-display-table" width="100%">' + this.qk(),p=this.data[this.j2] || [],t=0;t < p.length;++t){q+=this.Cka(t,p[t].name,p[t].value);}return q + "</table>";};c.prototype.tTa=function(){var q;q=this.Rd.createElement("button",h.$H,"Clear",{"class":this.prefix + "-display-btn"});q.onclick=this.BLb;return [q,this.stb(),this.htb()];};c.prototype.stb=function(){var q;q=this.Rd.createElement("select",h.$H,Object.values(g.xxa).reduce(function(p,t){return p + ('<option value="' + t + '">' + t + "</option>");},""),{"class":this.prefix + "-display-select"});q.onchange=this.jMb;return q;};c.prototype.htb=function(){var q,p,t,u;q=this;p=this.Rd.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});p.checked=this.LV;p.onchange=function(){return q.uWb();};t=this.Rd.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});u=this.Rd.createElement("div",void 0,void 0,{"class":this.prefix + "-display-div"});u.appendChild(p);u.appendChild(t);return u;};c.prototype.i2a=function(){return Promise.resolve(this.Oka());};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.Jf)),r.__param(1,f.l(l.If)),r.__param(2,f.l(d.wY))],a);b.Vcb=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;r=a(0);c=a(448);f=a(11);b.crypto=new r.$c(function(k){k(c.exa).yi(f.eZ);});},function(r,b,a){var c,f,k,l,d,g,h,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.we=void 0;r=a(0);c=a(1066);f=a(1067);k=a(1068);l=a(135);d=a(308);g=a(454);h=a(1069);m=a(1070);n=a(477);q=a(1071);b.we=new r.$c(function(p){p(l.PZ).to(c.jHa).$();p(d.pba).to(k.NFa).$();p(g.eIa).to(f.dIa).$();p(h.gdb).to(m.gDa).$();p(n.xIa).to(q.wIa).$();});},function(r,b,a){var f,k,l,d,g,h;function c(m,n){this.is=m;this.json=n;k.ao(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.jHa=void 0;r=a(1);k=a(57);l=a(36);d=a(0);g=a(26);h=a(135);c.prototype.R1a=function(m){var n;n=this;return f.read(m,function(q){return parseInt(q);},function(q){return n.is.Qea(q);});};c.prototype.Eqa=function(m){var n;n=this;return f.read(m,function(q){return "true" == q?!0:"false" == q?!1:void 0;},function(q){return n.is.jR(q);});};c.prototype.Up=function(m){var n;n=this;return f.read(m,function(q){return parseInt(q);},function(q){return n.is.vR(q);});};c.prototype.HPb=function(m){var n;n=this;return f.read(m,function(q){return parseFloat(q);},function(q){return n.is.di(q);});};c.prototype.Q1a=function(m,n){return f.read(m,function(q){return f.Rxb(q,n);},function(q){return void 0 !== q;});};c.prototype.Lqa=function(m,n){return f.read(m,function(q){return q;},function(q){return n?n.test(q):!0;});};c.prototype.S1a=function(m){var n,q;n=this;q=void 0 === q?function(){return !0;}:q;try{return f.read(m,function(p){return n.json.parse(decodeURIComponent(p));},function(p){return n.is.XJ(p) && q(p);});}catch(p){return new h.Do();}};c.prototype.qh=function(m,n,q){var p,t;p=this;q=void 0 === q?1:q;m=m.trim();t=n instanceof Function?n:this.$sb(n,q);n=m.indexOf("[");q=m.lastIndexOf("]");if(0 != n || q != m.length - 1)return new h.Do();m=m.substring(n + 1,q);try{return f.VMb(m).map(function(u){u=t(p,f.DYb(u));if(u instanceof h.Do)throw u;return u;});}catch(u){return u instanceof h.Do?u:new h.Do();}};c.prototype.$sb=function(m,n){var q;q=this;n=void 0 === n?1:n;return function(p,t){p=f.DBb(m);return 1 < n?q.qh(t,m,n - 1):p(q,t);};};c.Rxb=function(m,n){var p;for(var q in n){p=parseInt(q);if(n[p] == m)return p;}};c.read=function(m,n,q){m=n(m);return void 0 !== m && q(m)?m:new h.Do();};c.DBb=function(m){switch(m){case "int":return function(n,q){return n.R1a(q);};case "bool":return function(n,q){return n.Eqa(q);};case "uint":return function(n,q){return n.Up(q);};case "float":return function(n,q){return n.HPb(q);};case "string":return function(n,q){return n.Lqa(q);};case "object":return function(n,q){return n.S1a(q);};}};c.VMb=function(m){var x;for(var n=[["[","]"]],q=[],p=0,t=0,u=0,w=[],v={};t < m.length;(v={mO:v.mO},++t)){v.mO=m.charAt(t);x=void 0;"," == v.mO && 0 == u?(q.push(m.substr(p,t - p)),p=t + 1):(x=n.find((function(y){return function(z){return z[0] == y.mO;};})(v)))?(++u,w.push(x)):0 < w.length && w[w.length - 1][1] == v.mO && (--u,w.pop());}if(p != t)q.push(m.substr(p,t - p));else if(p == t && 0 < p)throw new h.Do();return q;};c.DYb=function(m){var n;n=m.charAt(0);if('"' == n || "'" == n){if(m.charAt(m.length - 1) != n)throw new h.Do();return m.substring(1,m.length - 1);}return m;};a=f=c;a=f=r.__decorate([d.R(),r.__param(0,d.l(g.If)),r.__param(1,d.l(l.vD))],a);b.jHa=a;},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.dIa=void 0;r=a(1);a=a(0);c.prototype.USa=function(f){var k;k=this;return f?(f ^ 16 * Math.random() >> f / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(l){return k.USa(l);});};a=r.__decorate([a.R()],c);b.dIa=a;},function(r,b,a){var f,k,l,d;function c(g){this.location=g;k.ao(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.NFa=void 0;r=a(1);k=a(57);l=a(36);a=a(0);c.wV=function(g){var h,n,q;h={};if(0 < g.length){g=g.split("&");for(var m=0;m < g.length;m++){n=g[m].trim();q=n.indexOf("=");0 <= q?h[decodeURIComponent(n.substr(0,q).replace(f.zDa,"%20"))]=decodeURIComponent(n.substr(q + 1).replace(f.zDa,"%20")):h[n.toLowerCase()]="";}}return h;};Xa.Object.defineProperties(c.prototype,{yPb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=f.wV(this.G1a);}},G1a:{configurable:!0,enumerable:!0,get:function(){var g;if(void 0 !== this.SV)return this.SV;this.SV=this.location.search.substr(1);g=this.SV.indexOf("#");0 <= g && (this.SV=this.G1a.substr(0,g));return this.SV;}}});d=f=c;d.zDa=/[+]/g;d=f=r.__decorate([a.R(),r.__param(0,a.l(l.$Aa))],d);b.NFa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gdb="ObjectComparerSymbol";},function(r,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.gDa=void 0;r=a(1);f=a(0);k=a(192);c.prototype.compare=function(l,d){var g;g=[];this.Fga(l,d,"",g);return g;};c.prototype.Fga=function(l,d,g,h){var m;m=this;if(k.uD.Cx(l))k.uD.Cx(d) && l.length === d.length?l.forEach(function(p,t){m.Fga(l[t],d[t],g + "[" + t + "]",h);}):h.push({a:l,b:d,path:g});else if(k.uD.XJ(l) && null != l){if(k.uD.XJ(d) && null != d){for(var n in l){this.Fga(l[n],d[n],g + "." + n,h);}for(var q in d){(q in l) || void 0 === d[q] || h.push({a:void 0,b:d[q],path:g + "." + q});}}else h.push({a:l,b:d,path:g});}else l !== d && h.push({a:l,b:d,path:g});};a=r.__decorate([f.R()],c);b.gDa=a;},function(r,b,a){var f,k,l,d,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wIa=void 0;r=a(1);f=a(0);k=a(11);l=a(34);d=a(270);g=a(7);c.prototype.$Bb=function(){var h;h=pb.devicePixelRatio || 1;return {width:this.Hda.H_b || k.su.width * h,height:this.Hda.G_b || k.su.height * h};};Xa.Object.defineProperties(c.prototype,{Hda:{configurable:!0,enumerable:!0,get:function(){return g.ha.get(l.wA);}}});a=c;r.__decorate([d.rU],a.prototype,"Hda",null);a=r.__decorate([f.R()],a);b.wIa=a;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x;Object.defineProperty(b,"__esModule",{value:!0});b.qd=void 0;r=a(0);c=a(478);f=a(1073);k=a(116);l=a(271);d=a(1074);g=a(1075);h=a(1077);m=a(1078);n=a(1079);q=a(479);p=a(480);t=a(129);u=a(273);w=a(1080);v=a(272);x=a(1081);b.qd=new r.$c(function(y){y(c.FEa).to(f.EEa).$();y(l.lba).to(d.EFa).$();y(k.aE).to(g.mIa).$();y(q.DFa).to(n.YBa).$();y(q.CFa).to(m.VAa).$();y(q.BFa).to(h.PAa).$();y(u.wva).rWb(function(){var z;return null === (z=t.vm.cj) || void 0 === z?void 0:z.Ct;});y(u.vva).to(w.uva).$();y(p.jba).to(p.qFa);y(v.V9).to(x.Awa).$();});},function(r,b,a){var f,k,l;function c(d,g){this.cb=g;this.za=d.Cb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.EEa=void 0;r=a(1);f=a(0);k=a(8);a=a(26);c.prototype.Jub=function(d){var g;g=this;try{return {direction:d.direction,H6b:d.layoutHasChanged,r8b:d.rowInteractionIndex,Wa:d.lolomos.map(function(h){return g.Eub(h);})};}catch(h){this.za.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.Eub=function(d){var g;g=this;return {context:d.context,list:d.list.map(function(h){return g.Dub(h);}),requestId:d.requestId,rowIndex:d.rowIndex,s8b:d.rowSegment};};c.prototype.Dub=function(d){var g,h;g={pd:d.pts,property:d.property,aa:d.viewableId,index:d.index};h=d.preplay;this.cb.eg(h) && (g.X6=this.Iub(h));d=d.params;this.cb.eg(d) && (g.Ib=this.wQa(d));return g;};c.prototype.Iub=function(d){var g;g={pd:d.pts,aa:d.viewableId,GM:d.pipelineNum,index:d.index};d=d.params;this.cb.eg(d) && (g.Ib=this.wQa(d));return g;};c.prototype.wQa=function(d){return {ie:d.uiLabel,Fk:d.trackingId,no:d.sessionParams};};c.prototype.Hub=function(d){var g;g=this;try{return d.map(function(h){return g.Fub(h);});}catch(h){this.za.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.Fub=function(d){var g,h;h=d.params;this.cb.eg(h) && (g=this.Gub(h));return {K:d.movieId,priority:d.priority,force:d.force,Ib:g,ie:d.uiLabel,i9b:d.uiExpectedStartTime,h9b:d.uiExpectedEndTime,el:d.firstTimeAdded};};c.prototype.Gub=function(d){var g,h;g=void 0;h=d.sessionParams;this.cb.eg(h) && (g=h);return {$0:this.Cub(d.authParams),no:g,Fk:d.trackingId,X:d.startPts,sa:d.manifest,fl:d.isBranching};};c.prototype.Cub=function(d){return {uNb:null === d || void 0 === d?void 0:d.pinCapableClient};};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(k.Jb)),r.__param(1,f.l(a.If))],l);b.EEa=l;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p;function c(t,u,w,v){this.is=w;this.Nf=v;this.log=t.Cb("TaskScheduler");this.Qb=new q.Yj();this.config=u();this.currentIteration=this.lS=0;this.wH=[];this.paused=!1;this.a8=[];this.ZOa=[];this.$Eb=this.config.DOb || p.append;this.addEventListener=this.Qb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.EFa=void 0;r=a(1);f=a(0);k=a(271);l=a(8);d=a(14);g=a(127);h=a(26);m=a(19);n=a(4);q=a(73);(function(t){t.prepend="prepend";t.append="append";t.nEb="ignore";})(p || (p={}));c.prototype.Flb=function(t){this.log.trace("adding tasks, number of tasks: " + t.length);this.paused=!1;this.wH=this.aFb(t);this.lS=0;this.currentIteration+=1;this.fg();};c.prototype.pause=function(){this.paused=!0;};c.prototype.fg=function(){var t,u,w,v;t=this;if(this.lS === this.wH.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.lS,numberOfTasks:this.wH.length});else {u=this.wBb();w=this.currentIteration;u.startTime=this.Nf.Wb().ea(n.ma);u.status=g.$j.fw;this.Qb.qc(k.II.OVb,{K:u.K,type:u.type});this.a8.push(u);v=function(x){u.endTime=t.Nf.Wb().ea(n.ma);x();t.ZOa.push(u);t.a8.splice(t.a8.indexOf(u),1);t.currentIteration === w && (t.lS++,t.fg());};u.NRb().then(function(){v(function(){u.status=g.$j.ON;t.pqa(u,k.II.PVb,"task succeeded");});}).catch(function(x){v(function(){0 <= [g.$j.Jn,g.$j.Pob,g.$j.$fa].indexOf(x.status)?(u.status=x.status,t.pqa(u,k.II.MVb,"cancelled task")):(u.status=g.$j.Is,t.pqa(u,k.II.NVb,"task failed",x));});});}};c.prototype.wBb=function(){return this.wH[this.lS];};c.prototype.getStats=function(t,u,w){var v,x,y,z;v=this.ZOa.map(function(A){return A.Os();});x=this.a8.map(function(A){return A.Os();});y=this.is.eg(t) && this.is.eg(u);z={};if(this.is.eg(w))return (z.hqb=v.filter(function(A){return A.movieId === w;}),z);v.concat(x).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == g.$j.fw?A.startTime:A.endTime;y && B && B >= t && B < u && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.pqa=function(t,u,w,v){var x;x=t.Os();v?this.log.warn(w,x,v):this.log.trace(w,x);this.Qb.qc(u,{K:t.K,type:t.type,reason:t.status});t.rM(x);};c.prototype.aFb=function(t){var u,w;u=this.wH.filter(function(v){return v.sNb && v.status === g.$j.Mn;});w=this.$Eb;return w === p.nEb?[].concat(t):w === p.prepend?u.concat(t):t.concat(u);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Jb)),r.__param(1,f.l(d.Zc)),r.__param(2,f.l(h.If)),r.__param(3,f.l(m.rd))],a);b.EFa=a;},function(r,b,a){var k,l,d,g,h,m,n,q,p,t,u,w,v,x;function c(y,z,A,B,D,E,F,C,G,J,K){this.tZb=A;this.cb=B;this.Nf=D;this.Gf=E;this.hSa=F;this.Bxb=C;this.Cxb=G;this.Nia=J;this.events=new x.EventEmitter();this.log=y.Cb("VideoPreparer");this.config=z();this.Jua={};this.X5={};this.Ad={num_of_calls:0,num_of_movies:0};this.wg=K.wg;}function f(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.mIa=void 0;r=a(1);k=a(1076);l=a(14);d=a(0);g=a(8);h=a(92);m=a(26);n=a(271);q=a(19);p=a(4);t=a(127);u=a(272);w=a(479);v=a(273);x=a(16);c.prototype.L3a=function(y,z,A){this.wg.setData(y,"ldl",z,A);};c.prototype.yVa=function(y){return this.wg.RT(y,"ldl");};c.prototype.yOa=function(y){this.wg.clearData(y,"ldl",void 0,!0);};c.prototype.fL=function(y,z){return this.wg.getData(y,z);};c.prototype.gTa=function(y){var z;z=this.wg.getData(y,"ldl");this.wg.clearData(y,"ldl",void 0,!0);return z;};c.prototype.WYb=function(y){return this.T4a === y || this.UPa === y;};c.prototype.LM=function(y,z){var A,B,D;A=this;y=y.map(function(E){E.Ib=E.Ib || ({$0:{uNb:!1},Fk:0});A.cb.pF(E.Ib.Fk) || (E.Ib.Fk=0);A.cb.pF(E.pd) && (E.Ib.X=E.pd);return E;});B=y.map(function(E){return A.ptb(E,z);}).reduce(function(E,F){return E.concat(F);},[]);D=B.map(function(E){return E.K + "-" + E.type;});this.log.trace("prepare tasks",D);this.Gf.Flb(B);this.Ad.num_of_calls++;this.Ad.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,A){return Object.assign(Object.assign({},A && this.X5[A] || ({})),{wH:this.Gf.getStats(y,z,A),cache:this.wg.getStats(y,z),Qyb:Object.assign(Object.assign({},this.Ad),this.Nia.getStats())});};c.prototype.oDb=function(y){this.T4a=y;};c.prototype.nDb=function(y){this.log.trace("task scheduler paused on playback created");this.Gf.pause();this.config.Aub && this.wg.uga(y,["manifest"]);this.config.zub && this.wg.uga(y,["ldl"]);this.config.vub && this.wg.clearData(y,"manifest");this.Nia.n2a(y);this.UPa=y;};c.prototype.wVa=function(){this.log.info("track changed, clearing all manifests from cache");this.wg.uga("none",["manifest"]);};c.prototype.mDb=function(y){var z;z=this;this.config.wub?this.wg.clearData(y,"manifest"):this.wg.RT(y,"manifest") && this.wg.getData(y,"manifest").then(function(A){A.bd.isSupplemental || z.wg.clearData(y,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",A);});this.zga(y);this.T4a=this.UPa=void 0;};c.prototype.zga=function(y){delete this.Jua[y];};c.prototype.PB=function(y){return this.Jua[y];};c.prototype.TPa=function(y){return this.Jua[y]=this.tZb.wB();};c.prototype.o4a=function(y,z){if(this.yVa(y))return t.$j.Jn;if(!z.TT)return t.$j.$fa;};c.prototype.ptb=function(y,z){var A,B;y.ie && y.Ib && (y.Ib.ie=y.ie);this.KXb(y.K,y.el);A=this.Wsb(y,z);B=this.Ssb(y,null === A || void 0 === A?void 0:A.id,z);y=[this.Ysb(y,null === A || void 0 === A?void 0:A.id,z)];return [A,B].concat(da(y)).filter(f);};c.prototype.Wsb=function(y,z){if(this.wg.RT(y.K,"manifest"))this.log.trace("manifest exists in cache for " + y.K);else return new k.MP("manifest",this.Nf.Wb().ea(p.ma),! !y.Ib.th,void 0,z,this.hSa,y,this);};c.prototype.Ssb=function(y,z,A){if(this.config.OS)if(this.wg.RT(y.K,"ldl"))!1;else return this.config.Kr?new k.MP("ldl",this.Nf.Wb().ea(p.ma),! !y.Ib.th,z,A,this.Bxb,y,this):new k.MP("ldl",this.Nf.Wb().ea(p.ma),! !y.Ib.th,z,A,this.Cxb,y,this);};c.prototype.Ysb=function(y,z,A){if(this.config.wRa)return new k.MP("getMedia",this.Nf.Wb().ea(p.ma),! !y.Ib.th,z,A,this.Nia,y,this);};c.prototype.KXb=function(y,z){this.X5[y] || (this.X5[y]={V6:0,el:0});y=this.X5[y];y.V6=(void 0 !== y?void 0 !== y.V6?y.V6:0:0) + 1;y.el=z;};a=c;a=r.__decorate([d.R(),r.__param(0,d.l(g.Jb)),r.__param(1,d.l(l.Zc)),r.__param(2,d.l(h.oA)),r.__param(3,d.l(m.If)),r.__param(4,d.l(q.rd)),r.__param(5,d.l(n.lba)),r.__param(6,d.l(w.DFa)),r.__param(7,d.l(w.CFa)),r.__param(8,d.l(w.BFa)),r.__param(9,d.l(v.vva)),r.__param(10,d.l(u.V9))],a);b.mIa=a;},function(r,b,a){var f,k;function c(l,d,g,h,m,n,q,p){this.type=l;this.Mn=d;this.sNb=void 0 === g?!1:g;this.notify=m;this.Dxb=n;this.MM=q;this.qd=p;this.id=++k;this.status=f.$j.Mn;}Object.defineProperty(b,"__esModule",{value:!0});b.MP=void 0;f=a(127);k=0;c.prototype.Os=function(){var l;l={id:this.id,type:this.type,created:this.Mn,status:this.status,movieId:this.K};this.startTime && (l.startTime=this.startTime);this.endTime && this.startTime && (l.duration=this.endTime - this.startTime,l.endTime=this.endTime);return l;};c.prototype.rM=function(l){this.notify && this.notify(l);};c.prototype.NRb=function(){return this.Dxb.fetch(this.MM,this.qd);};Xa.Object.defineProperties(c.prototype,{K:{configurable:!0,enumerable:!0,get:function(){return this.MM.K;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.MM.priority;}}});b.MP=c;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y;function c(z,A,B,D,E,F,C,G,J,K){this.hr=B;this.LW=D;this.Dc=E;this.wa=F;this.Ha=C;this.TL=G;this.CNb=J;this.il=K;this.log=z.Cb("VideoPreparer");this.config=A();}Object.defineProperty(b,"__esModule",{value:!0});b.PAa=void 0;r=a(1);f=a(0);k=a(8);l=a(14);d=a(127);g=a(66);h=a(60);m=a(34);n=a(139);q=a(184);p=a(35);t=a(4);u=a(39);w=a(19);v=a(186);x=a(197);a=a(117);c.prototype.fetch=function(z,A){var B;B=this;this.log.trace("Fetching LDL",v.kI(z));this.K=z.K;this.qd=A;return A.fL(z.K,"ldl").catch(function(){B.log.trace("Requesting a new license",v.kI(z));return B.il.h3(z.K).then(function(D){var E,F;B.sa=D;B.bd=D.bd;if(D=B.qd.o4a(z.K,B.bd))throw {status:D};D=B.bd.dD[0].Et;E=B.bd.dD[0].eia;F=(D?D:[E]).map(function(C){return B.Dc.decode(C.bytes);});B.Xe=B.kF({hRa:B.log,yia:function(C){return B.handleError(C);},Od:void 0,Noa:function(){},wa:{getTime:function(){return B.Ha.Wb().ea(t.ma);},Q5b:function(){return B.wa.Ye.ea(t.rn);}}});A.L3a(z.K,B.Xe);return B.Xe.create(B.config.Pl).then(function(){return B.Xe.gg(h.Xh.pn,F,!0);}).then(function(){return B.Xe;}).catch(function(C){B.handleError(C);throw C;});}).catch(function(D){B.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:d.$j.Jn};});});};c.prototype.handleError=function(z){this.log.warn("ldl is now invalid",z);this.Xe.close();this.qd.yOa(this.K);this.qd.zga(this.K);};c.prototype.kF=function(z){var A,B;A=this;if(!this.hr.iI || !this.hr.gI){B=this.CNb();this.hr.iI=B.Nb;this.hr.gI=B.request;}B=new this.hr.gI(z.hRa,function(D){var E;E=[];D.Bj.forEach(function(F){E.push({sessionId:F.sessionId,dataBase64:A.Dc.encode(F.data)});});D={Bj:E,l2:[A.bd.Ll],Sf:g.oq.rPa(D.Sf),Vi:A.bd.Vi,ca:A.qd.TPa(A.K),Hj:A.sa.Hj};A.log.trace("xid created ",{MovieId:A.K,xid:D.ca});return A.TL.wx(D);},void 0,{$e:!1,sk:!1});return this.hr.iI(z.hRa,z.Od,{$e:!1,sk:!1,ol:B,NV:this.config.y1a,la:void 0,Xz:this.config.sRa,onerror:z.yia,Noa:z.Noa,wa:z.wa,EG:!1,Omb:this.LW.M1([]),OYb:this.LW.P1([]),l4:this.config.l4});};y=c;y=r.__decorate([f.R(),r.__param(0,f.l(k.Jb)),r.__param(1,f.l(l.Zc)),r.__param(2,f.l(m.wA)),r.__param(3,f.l(n.TP)),r.__param(4,f.l(p.Uh)),r.__param(5,f.l(u.Wh)),r.__param(6,f.l(w.rd)),r.__param(7,f.l(q.rP)),r.__param(8,f.l(x.Yaa)),r.__param(9,f.l(a.BD))],y);b.PAa=y;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p;function c(t,u,w,v,x,y){this.Dc=w;this.Gvb=v;this.bM=x;this.il=y;this.log=t.Cb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.VAa=void 0;r=a(1);f=a(0);k=a(8);l=a(14);d=a(60);g=a(35);h=a(119);m=a(134);n=a(127);q=a(186);a=a(117);c.prototype.fetch=function(t,u){var w;w=this;this.log.trace("Fetching LDL",q.kI(t));this.K=t.K;this.qd=u;return u.fL(t.K,"ldl").then(function(v){return v.M7;}).catch(function(){w.log.trace("Requesting a new license",q.kI(t));return w.il.h3(t.K).then(function(v){var x,y,z,A;w.bd=v.bd;if(u.yVa(t.K))return u.fL(t.K,"ldl").then(function(B){return B.M7;});x=w.qd.o4a(t.K,w.bd);if(x)throw {status:x};y=w.bd.dD[0].Et;x=w.bd.dD[0].eia;z=(y?y:[x]).map(function(B){return w.Dc.decode(B.bytes);});A=w.Gvb().then(function(B){var D;D={type:d.Xh.pn,initData:z,context:{Et:y},ri:{K:t.K,ca:u.TPa(t.K),Vi:w.bd.Vi,Ll:w.bd.Ll,Hj:v.Hj}};return B.gg(D,w.bM());}).catch(function(B){w.handleError("Unable to prepare an EME session.",B);throw B;});w.qd.L3a(t.K,{M7:A,source:"videopreparer"},function(){if(!w.qd.WYb(t.K))try{A.then(function(B){return B.close();}).catch(function(B){w.handleError("Unable to cleanup LDL session, Unable to get the session.",B);});}catch(B){w.handleError("Unable to cleanup LDL session, unexpected exception.",B);}});return A;}).catch(function(v){w.log.warn("Manifest not available for ldl request",v);if(void 0 !== v.status)throw v;throw {status:n.$j.Jn};});});};c.prototype.handleError=function(t,u){this.log.warn(t + " LDL is now invalid.",u);this.qd.yOa(this.K);this.qd.zga(this.K);};p=c;p=r.__decorate([f.R(),r.__param(0,f.l(k.Jb)),r.__param(1,f.l(l.Zc)),r.__param(2,f.l(g.Uh)),r.__param(3,f.l(h.zY)),r.__param(4,f.l(m.tP)),r.__param(5,f.l(a.BD))],p);b.VAa=p;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p;function c(t,u,w,v,x){this.Ena=w;this.Nf=v;this.il=x;this.log=t.Cb("VideoPreparer");this.config=u();}Object.defineProperty(b,"__esModule",{value:!0});b.YBa=void 0;r=a(1);f=a(14);k=a(0);l=a(8);d=a(19);g=a(4);h=a(143);m=a(118);n=a(186);q=a(117);p=a(60);c.prototype.fetch=function(t,u){var w,v;this.log.trace("Fetching manifest",n.kI(t));v=t.Ib;this.config.Ukb && v && v.sa && !this.il.R3(t.K) && (!(("clientGenesis" in v.sa) && v.sa.clientGenesis) || Date.now() - v.sa.clientGenesis < this.config.l1a) && (v=this.Ena.create(v.sa),v.UG=this.Nf.Wb().ea(g.ma),v.cN=this.Nf.Wb().ea(g.ma),this.il.Xsa(t.K,v));return this.il.zT({aa:t.K,ib:null !== (w=t.Ib) && void 0 !== w?w:{},pv:m.Zj.QD,Sf:p.Xh.pn},function(){u.events.emit("manifestRemovedFromCache",{type:"manifestRemovedFromCache",aa:t.K});});};a=c;a=r.__decorate([k.R(),r.__param(0,k.l(l.Jb)),r.__param(1,k.l(f.Zc)),r.__param(2,k.l(h.sP)),r.__param(3,k.l(d.rd)),r.__param(4,k.l(q.BD))],a);b.YBa=a;},function(r,b,a){var k,l,d,g,h,m,n,q,p,t,u,w;function c(){var v;v=this;this.promise=new Promise(function(x,y){v.resolve=x;v.reject=y;});}function f(v,x,y,z,A){var B;B=this;this.Zpa=y;this.zOb=z;this.il=A;this.KX=[];this.nz=new Map();this.WLb=function(D){var E,F;D=D.wishListItem.key.aa;if(B.nz.has(D)){F=B.nz.get(D);D=F.MM;F=F.Jga;null === (E=F.resolve) || void 0 === E?void 0:E.call(F,D);}};this.I_a=function(D){var E,F;B.config.AOb?(B.n2a(D.aa),B.h4a(B.KX)):null === (F=null === (E=B.nz.get(D.aa)) || void 0 === E?void 0:E.O7a.PH.Ls(D.aa).events) || void 0 === F?void 0:F.emit("viewableExpired",{type:"viewableExpired"});};this.za=v.Cb("VideoPreparer");this.config=x();}Object.defineProperty(b,"__esModule",{value:!0});b.uva=void 0;r=a(1);k=a(8);a(186);l=a(129);d=a(53);g=a(14);h=a(13);m=a(118);n=a(273);q=a(0);p=a(480);t=a(16);u=a(117);w=a(60);f.prototype.fetch=function(v,x){if(-1 === x.events.listeners("manifestRemovedFromCache").indexOf(this.I_a))x.events.on("manifestRemovedFromCache",this.I_a);!1;this.h4a(this.$pb(this.ytb(v,x)));return this.nz.get(v.K).Jga.promise;};f.prototype.getStats=function(){return this.Ct.getStats();};f.prototype.$pb=function(v){return [v].concat(da(this.KX.filter(function(x){return x.key.aa !== v.key.aa;}))).slice(0,this.config.xOb).map(this.config.yOb?function(x,y){return Object.assign({},x,{priority:y});}:function(x){return x;});};f.prototype.zT=function(v){var x;return this.il.zT({aa:v.K,pv:m.Zj.QD,Sf:w.Xh.pn,ib:null !== (x=v.Ib) && void 0 !== x?x:{}}).then(function(y){return y.bd;});};f.prototype.ytb=function(v,x){var y,z,A,B,D,E;A=new c();if(this.nz.has(v.K)){B=this.nz.get(v.K);D=B.MM;if(D.K === v.K && D.ie === v.ie)E=B.O7a.key;this.Ct.getStats().contents.some(function(F){return F.id === v.K;}) && (A=B.Jga);}B=l.vm.Cd.Bs(h.Mga(v.ie));E || (E={aa:v.K,config:B});x={key:E,B6b:!1,priority:v.priority,b1:d.S.mb(null !== (z=null === (y=v.Ib) || void 0 === y?void 0:y.X) && void 0 !== z?z:0),PH:this.xtb(v,x,B)};this.nz.set(v.K,{O7a:x,MM:v,Jga:A});return x;};f.prototype.xtb=function(v,x,y){var z,A,B,D;z=this;A=v.K;B=this.il;D={get ca() {return x.PB(A);},get FB() {return !B.R3(A);},events:new t.EventEmitter(),fOa:function(){},get Lr() {return z.zT(v).then(function(E){return {sa:E,Ji:E.hla && !E.TT,config:y,t4a:{}};});},aa:A,equals:function(E){var F;F=x.PB(A);return E.aa === A && (!E.ca || !F || F === E.ca);}};return {Ls:function(){return D;}};};f.prototype.R3a=function(v){this.KX=v;};f.prototype.h4a=function(v){this.R3a(v);this.Ct.g4a(this.KX);};f.prototype.n2a=function(v){this.nz.has(v) && (this.R3a(this.KX.filter(function(x){return x.key.aa !== v;})),this.nz.delete(v));};Xa.Object.defineProperties(f.prototype,{Ct:{configurable:!0,enumerable:!0,get:function(){this.lx || (this.lx=this.zOb(),this.lx.rsa(this.Zpa).J3a({TF:this.config.wOb}),this.lx.events.on("prefetchComplete",this.WLb));return this.lx;}}});a=f;a=r.__decorate([q.R(),r.__param(0,q.l(k.Jb)),r.__param(1,q.l(g.Zc)),r.__param(2,q.l(p.jba)),r.__param(3,q.l(n.wva)),r.__param(4,q.l(u.BD))],a);b.uva=a;},function(r,b,a){var f,k,l,d,g,h;function c(m,n,q){var p;p=this;this.Nf=n;n=q();this.wg=new h({log:m.Cb("CacheManager"),wa:{getTime:function(){return p.Nf.Wb().ea(d.ma);}},Promise:Promise,$e:!1,hob:n.GOb,gob:n.EOb,gxb:n.l1a,fxb:n.FOb});}Object.defineProperty(b,"__esModule",{value:!0});b.Awa=void 0;r=a(1);f=a(0);k=a(19);l=a(8);d=a(4);g=a(14);h=a(1082);c=r.__decorate([f.R(),r.__param(0,f.l(l.Jb)),r.__param(1,f.l(k.rd)),r.__param(2,f.l(g.Zc))],c);b.Awa=c;},function(r,b,a){var d;function c(){return Object.create(null);}function f(g){this.log=g.log;this.wa=g.wa;this.vC=c();this.Promise=g.Promise;this.Tx=g.Tx;this.Uta=g.Uta;this.$e=g.$e || !1;this.kv=c();this.pB=c();this.WE=c();this.hkb(g);g.up && (this.up=g.up);}function k(g){return "undefined" !== typeof g;}function l(g){var n;for(var h=0,m=arguments.length;h < m;){n=arguments[h++];if(k(n))return n;}}a(1083);d=a(1084);f.prototype.hkb=function(g){this.kv.manifest=l(g.gxb,d.kv.sa);this.kv.ldl=l(g.fxb,d.kv.sU);this.kv.metadata=l(g.C5b,d.kv.yd);this.pB.manifest=l(g.hob,d.pB.sa);this.pB.ldl=l(g.gob,d.pB.sU);this.pB.metadata=l(g.I4b,d.pB.yd);this.WE.manifest=l(g.G4b,d.WE.sa);this.WE.ldl=l(g.F4b,d.WE.sU);this.WE.metadata=l(g.H4b,d.WE.yd);};f.prototype.RT=function(g,h){this.Fs("undefined" !== typeof g);this.Fs("undefined" !== typeof h);return ! !this.sJa(g,h,void 0).value;};f.prototype.sJa=function(g,h,m){var n,q;n={value:null,reason:"",log:""};q=this.vC[h];if("undefined" === typeof q)return (n.log="cache miss: no data exists for field:" + h,n.reason="unavailable",n);"undefined" === typeof q[g]?(n.log="cache miss: no data exists for movieId:" + g,n.reason="unavailable"):(m=q[g][m?m:"DEFAULTCAPS"]) && m.value?this.H4(h,m.creationTime)?(n.log="cache miss: " + h + " data expired for movieId:" + g,n.reason="expired"):(n.log=this.Promise && m.value instanceof this.Promise?"cache hit: " + h + " request in flight for movieId:" + g:"cache hit: " + h + " available for movieId:" + g,n.value=m.value):(n.log="cache miss: " + h + " data not available for movieId:" + g,n.reason="unavailable");return n;};f.prototype.getData=function(g,h,m){this.Fs("undefined" !== typeof g);this.Fs("undefined" !== typeof h);g=this.sJa(g,h,m);this.log.trace(g.log);return g.value?this.Promise?g.value instanceof this.Promise?g.value:Promise.resolve(g.value):this.Uta?JSON.parse(this.Uta(g.value,"gzip",!1)):g.value:this.Promise?Promise.reject(g.reason):g.reason;};f.prototype.setData=function(g,h,m,n,q){var p,t,u;this.Fs("undefined" !== typeof g);this.Fs("undefined" !== typeof h);p=this.vC;t=q?q:"DEFAULTCAPS";p[h] || (p[h]=c(),Object.defineProperty(p[h],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(p[h],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));m=this.Tx?this.Tx(JSON.stringify(m),"gzip",!0):m;p=p[h];this.Uhb(g,h,t,p);u=this;n={creationTime:this.wa.getTime(),value:m,size:0,type:h,Pha:n,exb:setTimeout(function(){u.clearData(g,h,t,!1,"expired");},this.kv[h] + 1)};p[g]=p[g] || c();p[g][t]=p[g][t] || c();p[g][t]=n;p.size+=0;p.numEntries++;this.up && this.up.emit("addedCacheItem",n);return n;};f.prototype.Uhb=function(g,h,m,n){var q,p,t,u,w,v,x,y,z;q=this;p=n.numEntries;t=this.pB[h];u=n[g] && n[g][m];if(u && u.value)(w=g,v="promise_or_expired");else if(p >= t){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][m];B && B.value && q.H4(h,B.creationTime) && (z=A);B && B.value && B.creationTime < y && (y=B.creationTime,x=A);return !0;});w=z || x;v="cache_full";}this.$e && this.log.debug("makespace ",{maxCount:t,currentCount:n.numEntries,field:h,movieId:g,movieToBeRemoved:w});w && (q.clearData(w,h,m,void 0,v),this.log.debug("removed from cache: ",w,h));};f.prototype.uga=function(g,h){var m,n;m=this;m.Fs("undefined" !== typeof g);n=g + "";h.forEach(function(q){var p;p=m.vC[q];p && Object.keys(p).forEach(function(t){t != n && m.clearData(t,q,void 0,void 0,"clear_all");});});};f.prototype.clearData=function(g,h,m,n,q){var p;this.Fs("undefined" !== typeof g);this.Fs("undefined" !== typeof h);p=this.vC[h];h=p?p[g]:void 0;m=m?m:"DEFAULTCAPS";if(h && h[m]){p.size-=h[m].size;p.numEntries--;if(p=h && h[m])(clearTimeout(p.exb),h[m]=void 0,!n && p.Pha && p.Pha());this.up && (g={creationTime:p.creationTime,destroyFn:p.Pha,size:p.size,type:p.type,value:p.value,reason:q,movieId:g},this.up.emit("deletedCacheItem",g));}};f.prototype.flush=function(g){var h;this.Fs("undefined" !== typeof g);h=this.vC;h[g]=c();h[g].numEntries=0;h[g].size=0;};f.prototype.wOa=function(){var g,h;this.Fs(!1);g=this;h=this.vC;h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function(m){var n;n=h[void 0][m].DEFAULTCAPS;g.wa.getTime() - n.creationTime > g.kv[void 0] && this.clearData(m,void 0,"DEFAULTCAPS",void 0,"clean_up");});};f.prototype.H4=function(g,h){return this.wa.getTime() - h > this.kv[g];};f.prototype.getStats=function(g,h,m){var n,q,p,t,u;n={};q=this;p=q.vC;t=k(g) && k(h);u=m || "DEFAULTCAPS";Object.keys(p).forEach(function(w){var v,x;v=Object.keys(p[w]);x=p[w];v.forEach(function(y){!(y=x && x[y] && x[y][u]) || !k(y.value) || y.value instanceof this.Promise || (n[w]=(n[w] | 0) + 1,q.H4(y.type,y.creationTime) && (n[w + "_expired"]=(n[w + "_expired"] | 0) + 1),t && y.creationTime >= g && y.creationTime < h && (n[w + "_delta"]=(n[w + "_delta"] | 0) + 1));});});return n;};f.prototype.getState=function(g){var h,m,n,q;h=[];m=this;n=m.vC;q=g || "DEFAULTCAPS";Object.keys(n).forEach(function(p){var t,u;t=Object.keys(n[p]);u=n[p];t.forEach(function(w){var v,x;v=u && u[w] && u[w][q];if(v && k(v.value)){x=m.H4(v.type,v.creationTime)?"expired":v.value instanceof this.Promise?"loading":"cached";h.push({movieId:w,state:x,type:p,size:v.size});}});});return h;};f.prototype.Fs=function(g){if(!g && (this.log.error("Debug Assert Failed",void 0),this.$e))throw Error("Debug Assert Failed ");};r.exports=f;},function(r){function b(a){var c;c=[];return (function l(k){if(k && "object" === typeof k){if(-1 !== c.indexOf(k))return !0;c.push(k);for(var d in k){if(k.hasOwnProperty(d) && l(k[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var k;if(c && b(a))return -1;c=[];a=[a];for(var f=0;a.length;){k=a.pop();if("boolean" === typeof k)f+=4;else if("string" === typeof k)f+=2 * k.length;else if("number" === typeof k)f+=8;else if("object" === typeof k && -1 === c.indexOf(k)){c.push(k);for(var l in k){a.push(k[l]);}}}return f;};},function(r){r.exports={kv:{sa:12E5,sU:9E5,yd:12E5},pB:{sa:10,sU:10,yd:10},WE:{sa:10240,sU:10240,yd:10240}};},function(r,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.Pa=void 0;r=a(0);c=a(188);f=a(1086);k=a(481);l=a(1087);d=a(482);g=a(1088);h=a(1089);m=a(483);n=a(1090);b.Pa=new r.$c(function(q){q(c.n$).to(f.Pxa).$();q(k.qCa).to(l.pCa).$();q(d.kDa).to(g.jDa).$();q(d.xCa).to(h.wCa).$();q(m.vCa).to(n.uCa).$();});},function(r,b,a){var f,k,l,d;function c(g){function h(m,n){this.I=m;this.wl=n;this.G2=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.dg=g.Cb("DownloadTrack");}h.prototype.mp=function(){!1;this.C0=void 0;this.emit("destroyed");};h.prototype.toString=function(){return "id:" + this.C0 + " config: " + JSON.stringify(this.I);};h.prototype.toJSON=function(){return "Download Track id:" + this.C0 + " config: " + JSON.stringify(this.I);};h.prototype.i7=function(m){this.I.connections !== m.connections && (this.I=m);};h.prototype.$s=function(){return 1 < this.I.connections?!0:!1;};Xa.Object.defineProperties(h.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.C0;}},Mn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.C0;}},config:{configurable:!0,enumerable:!0,get:function(){return this.I;}},FG:{configurable:!0,enumerable:!0,get:function(){return this.dg;}},Mm:{configurable:!0,enumerable:!0,get:function(){return this.wl.Mm;}}});this.eI=Object.assign(h,new l.Qxa());}Object.defineProperty(b,"__esModule",{value:!0});b.Pxa=void 0;r=a(1);f=a(0);k=a(8);l=a(188);d=a(109).EventEmitter;c=r.__decorate([f.R(),r.__param(0,f.l(k.Jb))],c);b.Pxa=c;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p;function c(t,u,w,v,x,y){this.ZJ=t;this.Ef=w;this.cb=v;this.Ha=x;this.config=y;this.log=u.Cb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.pCa=void 0;r=a(1);f=a(189);k=a(94);l=a(3);d=a(8);g=a(0);h=a(115);m=a(26);n=a(19);q=a(4);a=a(14);c.prototype.ty=function(){return this.Ha.Wb().ea(q.ma);};c.prototype.n_a=function(t,u){t.RKb({mediaRequest:t,timestamp:u});};c.prototype.H_a=function(t){var u;u=t.mediaRequest.dz;u.readyState=f.cc.Bc.Qw;t=t.connect?t:{timestamp:this.ty(),connect:!1};t.mediaRequest=u;t.readyState=u.readyState;u.Moa(t);};c.prototype.w6=function(t){this.n_a(t.mediaRequest.dz,t.timestamp);};c.prototype.y6=function(t){var u,w;u=t.mediaRequest.dz;w=t.bytes;"undefined" === typeof u?!1:(u.readyState === f.cc.Bc.Rw && this.H_a(t),this.cb.di(w) && (t.mediaRequest=u,t.timestamp=this.ty(),w > u.bytesReceived && (t.newBytes=w - u.bytesReceived,t.bytesLoaded=w,u.UKb(t))));};c.prototype.Rm=function(t){var u,w,v,x;u=t.mediaRequest;w=t.errorcode;v=t.httpcode;x=f.cc.CY;if("undefined" === typeof u)!1;else if((u=u.dz,"undefined" === typeof u))!1;else if(u.readyState !== f.cc.Bc.jI)if(w === l.L.lA)(u.readyState=f.cc.Bc.oO,t.mediaRequest=u,t.readyState=u.readyState,u.NKb(t));else {u.readyState=f.cc.Bc.jI;switch(w){case l.L.lP:v=x.swa;break;case l.L.H$:v=x.E$;break;case l.L.iP:v=400 < v && 500 > v?x.G$:500 <= v?x.Fza:x.E$;break;case l.L.jP:v=x.F$;break;case l.L.hP:v=x.twa;break;case l.L.kP:v=x.TY;break;case l.L.sD:v=x.TY;break;case l.L.Eza:v=x.Dza;break;case l.L.Aza:v=x.G$;break;case l.L.S$a:v=x.F$;break;default:v=x.TY;}t.mediaRequest=u;t.readyState=u.readyState;t.errorcode=v;t.nativecode=w;u.Ooa(t);}};c.prototype.gpa=function(t,u){var w,v;w=u.request.dz;if(w)if(u.W){if((!1,t.j && w.readyState !== f.cc.Bc.DONE)){switch(w.readyState){case f.cc.Bc.oO:!1;return;case f.cc.Bc.jI:!1;break;case f.cc.Bc.Qw:break;case f.cc.Bc.Rw:this.H_a({mediaRequest:u.request});break;default:!1;}w.readyState=f.cc.Bc.DONE;if(!w.Pc){v={mediaRequest:w,readyState:w.readyState,timestamp:this.ty(),cadmiumResponse:u};t.j.Bta+=1;w.GCb();w.cGb() && (t.j.Bra+=1,u.Rl.Ph=Math.ceil(w.bja),u.Rl.lo=Math.ceil(w.dF),u.Rl.Wp=Math.floor(w.lC));w.E1=v;w.rM(v);}}}else (!1,w.readyState === f.cc.Bc.oO?!1:(t={mediaRequest:u.request,timestamp:this.ty(),errorcode:u.oa,httpcode:u.mk},this.Rm(t)));};c.prototype.download=function(t,u){var w,v;w=this;u=this.Ef.download(t,u);if(t.dz){v=t.dz;-1 < [f.cc.Bc.OPENED,f.cc.Bc.jI].indexOf(v.readyState) && (v.readyState=f.cc.Bc.Rw,this.config().pJb?u.aTb(function(x){w.w6(x);}):this.n_a(v,this.ty()));}u.yea(function(x){w.gpa(t,x);});u.iTb(function(x){w.y6(x);});u.SSb(function(x){w.Rm(x);});return u;};p=c;p=r.__decorate([g.R(),r.__param(0,g.l(k.pO)),r.__param(1,g.l(d.Jb)),r.__param(2,g.l(h.pA)),r.__param(3,g.l(m.If)),r.__param(4,g.l(n.rd)),r.__param(5,g.l(a.Zc))],p);b.pCa=p;},function(r,b,a){var f,k,l;function c(d,g){this.Ef=g;this.log=d.Cb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.jDa=void 0;r=a(1);f=a(0);k=a(8);a=a(115);c.prototype.lT=function(d,g,h){d={url:d.url,bSb:h};!1;this.Ef.dUb(d);};c.prototype.LE=function(d){try{d.Cla();}catch(g){this.log.warn("exception aborting request");}};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(k.Jb)),r.__param(1,f.l(a.pA))],l);b.jDa=l;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t;function c(u,w,v,x,y,z){this.Ha=u;this.Vq=w;this.config=v;this.Ef=y;this.oJb=z;this.log=x.Cb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.wCa=void 0;r=a(1);f=a(53);k=a(0);l=a(8);d=a(115);g=a(481);h=a(81);m=a(189);n=a(19);q=a(4);p=a(38);a=a(14);c.prototype.lT=function(u,w,v){var y,z,A;function x(){u.removeEventListener(m.cc.xe.ND,x);u.YS?u.YS++:u.YS=1;u.YS >= y.config().Lia.length && (u.YS=y.config().Lia.length - 1);setTimeout(function(){y.lT(u,w,v);},y.config().Lia[u.YS]);}y=this;u.C6b=!0;z=this.oJb.download({url:u.url,responseType:this.Ef.reb.H8a,withCredentials:!1,qF:u.mediaType === f.Pb.Ra.Sb?"audio":"video",offset:w.start,length:u.Dg,track:{type:u.mediaType === f.Pb.Ra.Sb?h.Yh.audio:h.Yh.video},stream:{Dd:u.Ma,bitrate:u.bitrate},pc:u.zd,dz:u,V7:v,$t:this.Vq.$t},function(B){B.W && u.readyState !== m.cc.Bc.DONE && (u.readyState === m.cc.Bc.oO?!1:(u.readyState === m.cc.Bc.jI?!1:u.readyState === m.cc.Bc.Rw?(u.readyState=m.cc.Bc.Qw,u.Moa({mediaRequest:u,readyState:u.readyState,timestamp:y.ty(),connect:!1})):u.readyState !== m.cc.Bc.Rw && u.readyState !== m.cc.Bc.Qw && !1,u.readyState=m.cc.Bc.DONE,B={mediaRequest:u,readyState:u.readyState,timestamp:y.ty(),cadmiumResponse:B,response:B.content},u.E1=B,u.rM(B)));});if(u.Pc){A={mediaRequest:u,readyState:u.readyState,timestamp:this.ty(),connect:!1};u.Moa(A);}u.addEventListener(m.cc.xe.ND,x);u.Cla=z.abort;};c.prototype.LE=function(u){try{u.Cla();}catch(w){this.log.warn("exception aborting request");}};c.prototype.ty=function(){return this.Ha.Wb().ea(q.ma);};t=c;t=r.__decorate([k.R(),r.__param(0,k.l(n.rd)),r.__param(1,k.l(p.gm)),r.__param(2,k.l(a.Zc)),r.__param(3,k.l(l.Jb)),r.__param(4,k.l(d.pA)),r.__param(5,k.l(g.qCa))],t);b.wCa=t;},function(r,b,a){var f,k,l,d,g,h,m,n;function c(q,p,t,u,w,v){function x(z,A){this.track=z;this.label=A;this.dh=n.cc.Bc.UNSENT;this.bytesReceived=0;this.ur=[];this.requestId=v.wB().toString();this.cb=t;this.log=p.Cb("MediaRequest");this.config=q;this.Qb=new m.Yj();"notification" === this.label?this.config().jy && (this.Mm=u):this.Mm=w;!1;}function y(z,A){this.requestId=v.wB().toString();this.cb=t;this.log=p.Cb("MediaRequest");this.config=q;this.Qb=new m.Yj();this.label=A;"notification" === this.label?this.config().jy && (this.Mm=u):this.Mm=w;this.eU=this.hK=this.iK=void 0;this.track=z;this.l1=this.url=this.responseType=void 0;this.dh=n.cc.Bc.UNSENT;this.Ti=this.VK=this.Lg=this.status=void 0;this.nr=this.bytesReceived=0;this.connect=this.bja=this.dF=this.lC=this.Ima=this.af=this.aja=this.loadTime=this.JJ=void 0;this.ur=[];this.Mn=!1;!1;}x.prototype.addEventListener=function(z,A,B){this.Qb.addListener.call(this,z,A,B);};x.prototype.removeEventListener=function(z,A){this.Qb.removeListener.call(this,z,A);};x.prototype.emit=function(z,A,B){this.Qb.qc.call(this,z,A,B);};x.prototype.RKb=function(z){this.dh === n.cc.Bc.OPENED && (this.eU=!0,this.loadTime=this.af=z.timestamp,!1,this.dh=n.cc.Bc.Rw,this.emit(n.cc.xe.cDa,z));};x.prototype.Moa=function(z){var A;if(this.dh < n.cc.Bc.Qw){this.ur=[];A=z.timestamp - this.loadTime;!this.Pc && 0 < A && (this.connect=!0,this.ur.push(A));!0 === this.config().rEb?this.aja=z.timestamp:this.aja=this.af=z.timestamp;!1;this.dh=n.cc.Bc.Qw;this.emit(n.cc.xe.bDa,z);}};x.prototype.UKb=function(z){this.dh === n.cc.Bc.Qw && (!1,this.Ima=this.af=z.timestamp,z.newBytes=z.bytesLoaded - this.bytesReceived,this.bytesReceived=z.bytesLoaded,this.cb.eg(this.Ima) && this.emit(n.cc.xe.dDa,z));};x.prototype.rM=function(z){-1 < [n.cc.Bc.Rw,n.cc.Bc.Qw].indexOf(this.dh) && (this.eU=!1,!1,this.af=z.timestamp,this.dh=n.cc.Bc.DONE,z.newBytes=this.Dg - this.bytesReceived,this.bytesReceived=this.Dg,this.cb.eg(this.dF) && (this.af=this.dF,0 === z.newBytes && (this.Ima=this.dF)),this.cb.eg(this.lC) && (this.loadTime=this.lC),this.JJ=z.response,this.emit(n.cc.xe.BP,z));};x.prototype.NKb=function(z){this.eU=!1;!1;this.emit(n.cc.xe.cdb,z);};x.prototype.Ooa=function(z){this.af=z.timestamp;this.status=z.httpcode;this.Lg=z.errorcode;this.VK=n.cc.CY.name[this.Lg];this.Ti=z.nativecode;!1;this.emit(n.cc.xe.ND,z);this.eU=!1;};x.prototype.open=function(z,A,B,D,E,F,C){this.fw=!1;this.l1=A;this.url=z;this.responseType=B;!1;if(!this.url)return (!1,!1);this.dh=n.cc.Bc.OPENED;this.Mm.lT(this,A,C);return !0;};x.prototype.Lc=function(){!1;-1 !== [n.cc.Bc.OPENED,n.cc.Bc.Rw,n.cc.Bc.Qw].indexOf(this.dh) && this.abort();return !0;};x.prototype.xOa=function(){this.JJ=void 0;this.E1 && (this.E1.response=void 0,this.E1.cadmiumResponse.content=void 0);this.Cla=void 0;};x.prototype.o8=function(z){!1;this.url=z;return !0;};x.prototype.abort=function(){this.dh=n.cc.Bc.oO;this.Mm.LE(this);return !0;};x.prototype.pause=function(){};x.prototype.getResponseHeader=function(){return null;};x.prototype.getAllResponseHeaders=function(){return "";};x.prototype.aW=function(){};x.prototype.Kh=function(){return this.requestId;};x.prototype.toString=function(){var z;z={requestId:this.Kh(),segmentId:this.va,isHeader:this.Pc,ptsStart:this.rz,ptsOffset:this.It,responseType:this.responseType,duration:this.hy,readystate:this.dh};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);};x.prototype.toJSON=function(){return this.toString();};x.prototype.GCb=function(){var z,A;if(this.config().m7a && d.ru && d.ru.getEntriesByType && (!this.cb.eg(this.lC) || !this.cb.eg(this.dF) && this.cb.eg(this.url))){z="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.iK + "-" + this.hK + "*");A=new RegExp(z);z=d.ru.getEntriesByType("resource").filter(function(B){return A.exec(B.name);})[0];this.cb.eg(z) && (0 < z.startTime && (this.lC=z.startTime,0 < z.requestStart && (this.lC=Math.max(this.lC,z.requestStart))),0 < z.responseStart && (this.bja=z.responseStart),0 < z.responseEnd && (this.dF=z.responseEnd));}};x.prototype.cGb=function(){return this.cb.eg(this.lC) && this.cb.eg(this.dF) && this.cb.eg(this.bja);};Xa.Object.defineProperties(x.prototype,{Dg:{configurable:!0,enumerable:!0,get:function(){return this.l1.end - this.l1.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.hK - this.iK + 1;}},BVa:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},Pc:{configurable:!0,enumerable:!0,get:function(){return !this.eC;}},response:{configurable:!0,enumerable:!0,get:function(){return this.JJ;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.dh;},set:function(){}}});Object.getOwnPropertyNames(x.prototype).forEach(function(z){var A;A=Object.getOwnPropertyDescriptor(x.prototype,z);Object.defineProperty(y.prototype,z,A);});this.rq=Object.assign(y,n.cc);}Object.defineProperty(b,"__esModule",{value:!0});b.uCa=void 0;r=a(1);f=a(0);k=a(8);l=a(14);d=a(11);g=a(26);h=a(482);m=a(73);n=a(189);a=a(92);c=r.__decorate([f.R(),r.__param(0,f.l(l.Zc)),r.__param(1,f.l(k.Jb)),r.__param(2,f.l(g.If)),r.__param(3,f.l(h.kDa)),r.__param(4,f.l(h.xCa)),r.__param(5,f.l(a.oA))],c);b.uCa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.MZa=void 0;r=a(0);c=a(322);f=a(1092);b.MZa=new r.$c(function(k){k(c.taa).to(f.MCa).$();});},function(r,b,a){var f,k,l,d,g;function c(h){return k.hf.call(this,h,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MCa=void 0;r=a(1);f=a(44);k=a(45);l=a(0);d=a(37);g=a(4);la(c,k.hf);Xa.Object.defineProperties(c.prototype,{EZa:{configurable:!0,enumerable:!0,get:function(){return g.xc(5E3);}},T_a:{configurable:!0,enumerable:!0,get:function(){return g.xc(1E3);}},U_a:{configurable:!0,enumerable:!0,get:function(){return g.xc(1E3);}}});a=c;r.__decorate([f.config(f.vk,"minDecoderBufferMilliseconds")],a.prototype,"EZa",null);r.__decorate([f.config(f.vk,"optimalDecoderBufferMilliseconds")],a.prototype,"T_a",null);r.__decorate([f.config(f.vk,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"U_a",null);a=r.__decorate([l.R(),r.__param(0,l.l(d.lm))],a);b.MCa=a;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q;Object.defineProperty(b,"__esModule",{value:!0});b.C0a=void 0;r=a(0);c=a(484);f=a(1094);k=a(71);l=a(1096);d=a(487);g=a(1097);h=a(374);m=a(1098);n=a(190);q=a(1099);b.C0a=new r.$c(function(p){p(k.tu).to(l.MDa).$();p(c.ODa).to(f.NDa).$();p(h.YDa).to(m.XDa);p(h.WDa).tf(function(t){return function(){return t.$a.get(h.YDa);};});p(d.uEa).to(g.tEa).$();p(n.uZ).to(q.qEa).$();});},function(r,b,a){var l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A;function c(B){this.config=B;this.Rx=[];}function f(B,D,E){this.Ha=B;this.YN=D;this.context=E;this.startTime=this.Ha.Wb();}function k(B,D,E,F,C,G,J,K,H){this.o6a=D;this.json=E;this.Ha=F;this.Vq=C;this.Aqa=G;this.yc=J;this.config=K;this.Qb=H;this.log=B.Cb("Pbo");K.f2a && (this.Rx=new c(K));this.YN=this.o6a();}Object.defineProperty(b,"__esModule",{value:!0});b.NDa=void 0;r=a(1);l=a(0);d=a(4);g=a(485);h=a(8);m=a(36);n=a(19);q=a(38);p=a(136);t=a(46);u=a(486);w=a(71);v=a(93);x=a(17);y=a(48);z=a(1095);A={"shakti-":"akira","UI-":"chromecast"};k.prototype.send=function(B,D){var E;E=new f(this.Ha,this.YN,B);this.Rx && this.Rx.append(E);return this.fsa(B,D,E);};k.prototype.fsa=function(B,D,E){var F;F=this;return new Promise(function(C,G){F.retry(B,D).then(function(J){var K,H;F.zSb(J);K=aa(F.EYb(J));H=K.next().value;K=K.next().value;H && (F.Vpb(E),C(J));K && (F.MOa(E,K),G(K));}).catch(function(J){var K;K=F.MOa(E,J);J.rb && (J.rb=[J.rb," ",K].join(""));G(J);});});};k.prototype.zSb=function(B){(B=B.serverTime) && this.Qb.qc(x.Q$.B3a,d.xc(B));};k.prototype.EYb=function(B){var D;!1;D=B.result;if(("deviceCommand" in B)){B=B.deviceCommand;this.log.trace("Received device command '" + B + "'");switch(B){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + B + "'"));}return [,{DC:!0,code:D,detail:{message:"Server sent device action to '" + B + "' device"}}];}if(D)return (!1,[D,void 0]);if(B.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",B),[,{code:B.code,detail:{message:B.message}}]);this.log.error("Response did not contain a result or an error",B);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};k.prototype.Kmb=function(B,D,E){var F;F=this;this.QXb(D,B);this.YN=this.o6a(E);return this.YN.send(D,E).then(function(C){return {retry:!1,result:z.rZ.XMb(F.json,C.body)};}).catch(function(C){var G,J;G=z.rZ.hBb(C);J=void 0 !== G?Math.min(G,D.Fra):D.Fra;return F.S7(D,C,B,J)?(G=F.yob(C,B,J),F.log.warn("Method failed, retrying",Object.assign({Method:D.Xk,Attempt:B + 1,WaitTime:G,MaxRetries:J},F.zha(C))),Promise.resolve({retry:!0,delay:G,error:C})):Promise.resolve({retry:!1,error:C});});};k.prototype.$yb=function(B){var D,E;if(!this.sea || this.sea.wMb !== B){D="";E=B;Object.entries(A).find(function(F){var C;C=aa(F);F=C.next().value;C=C.next().value;if(0 === B.indexOf(F))return (D=C,B=B.slice(F.length),!0);});this.sea={GOa:D,Rz:B,wMb:E};}return this.sea;};k.prototype.QXb=function(B,D){var E,F,C,G;G=B.url.searchParams;G.set(y.xu.ueb,(D + 1).toString());G.set(y.xu.Zg,B.pra.toString());G.set(y.xu.veb,B.ora);B=this.$yb(null !== (E=this.config.Rz) && void 0 !== E?E:"");B.GOa && (G.set(y.xu.S9a,B.GOa),B.Rz && G.set(y.xu.gfb,encodeURIComponent(B.Rz)),E=this.Vq.Vd,(null === E || void 0 === E?0:E.name) && G.set(y.xu.n9a,encodeURIComponent(E.name)),(null === E || void 0 === E?0:E.version) && G.set(y.xu.s9a,encodeURIComponent(E.version)),(null === (F=null === E || void 0 === E?void 0:E.os) || void 0 === F?0:F.name) && G.set(y.xu.ddb,encodeURIComponent(E.os.name)),(null === (C=null === E || void 0 === E?void 0:E.os) || void 0 === C?0:C.version) && G.set(y.xu.edb,encodeURIComponent(E.os.version)));};k.prototype.retry=function(B,D,E){var F;F=this;E=void 0 === E?0:E;return this.Kmb(E++,B,D).then(function(C){if(C.retry)return F.wait(C.delay).then(function(){return F.retry(B,D,E);});if(C.error)throw C.error;if(void 0 === C.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return C.result;});};k.prototype.S7=function(B,D,E,F){var C;C=this.Vq.W2a || z.rZ.dGb(D);if(C && E < F)return !0;C?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:B.Xk,Attempt:E + 1,MaxRetries:F},this.zha(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:B.Xk},this.zha(D)));return !1;};k.prototype.yob=function(B,D,E){return B && B.NC && void 0 !== B.NC.retryAfterSeconds?d.Tg(B.NC.retryAfterSeconds):d.xc(this.Aqa.J1a(1E3 * (0 === D?1:D),1E3 * Math.pow(2,Math.min(D,E))));};k.prototype.wait=function(B){var D;D=this;return new Promise(function(E){D.yc.Rj(B || d.ab,E);});};k.prototype.zha=function(B){return u.ZWa(B)?B:{message:B.message,subCode:B.kc,extCode:B.xd,mslCode:B.Kv,data:B.data};};k.prototype.Vpb=function(B){B.ON();};k.prototype.MOa=function(B,D){var E;B.Is(D);if(this.Rx)try{E=this.json.stringify(this.Rx);this.log.error("PBO command history",E);return E;}catch(F){}return "";};a=k;a=r.__decorate([l.R(),r.__param(0,l.l(h.Jb)),r.__param(1,l.l(g.OHa)),r.__param(2,l.l(m.vD)),r.__param(3,l.l(n.rd)),r.__param(4,l.l(q.gm)),r.__param(5,l.l(p.EZ)),r.__param(6,l.l(t.mj)),r.__param(7,l.l(w.tu)),r.__param(8,l.l(v.x$))],a);b.NDa=a;f.prototype.ON=function(){this.W=!0;this.elapsedTime=this.Ha.Wb().Aa(this.startTime);};f.prototype.Is=function(B){this.W=!1;this.elapsedTime=this.Ha.Wb().Aa(this.startTime);this.iVb=B.kc || B.subCode;this.kxb=B.xd || B.extCode;};f.prototype.toString=function(){return JSON.stringify(this);};f.prototype.toJSON=function(){var B;B=Object.assign({success:this.W,method:this.context.Xk,startTime:this.startTime.ea(d.ma),elapsedTime:this.elapsedTime?this.elapsedTime.ea(d.ma):"in progress"},this.YN.Rga());return this.W?B:Object.assign(Object.assign(Object.assign({},B),this.YN.Rga()),{subcode:this.iVb,extcode:this.kxb});};c.prototype.append=function(B){this.Rx.push(B);0 < this.config.yla && this.Rx.length > this.config.yla && this.Rx.shift();};c.prototype.toJSON=function(){return this.Rx;};},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rZ=void 0;f=a(3);c.dGb=function(k){var l,d;l=k && k.code;d=k && (k.oa || k.kc);k=k.xd !== f.UY.DDa;d=! !d && d >= f.L.lP && d <= f.L.jP && k;return !("RETRY" !== l && "FAIL" !== l) || d;};c.hBb=function(k){var l,d;d=null === (l=null === k || void 0 === k?void 0:k.NC) || void 0 === l?void 0:l.maxRetries;return "number" === typeof d?d:"FAIL" === (null === k || void 0 === k?void 0:k.code)?1:void 0;};c.XMb=function(k,l){var d;if(l){try{d=k.parse(l);}catch(g){throw {DC:!0,code:"FAIL",message:"Unable to parse the response body",data:l};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (k=d.result.find(function(g){return g.error;})))throw k.error;return d;}throw {DC:!0,code:"FAIL",message:"There is no result property on the response"};}throw {DC:!0,code:"FAIL",message:"There is no body property on the response"};};b.rZ=c;},function(r,b,a){var f,k,l,d,g,h;function c(m,n,q){m=k.hf.call(this,m,"PboConfigImpl") || this;m.config=n;m.gmb=q;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.MDa=void 0;r=a(1);f=a(0);k=a(45);l=a(37);d=a(44);g=a(14);a=a(120);la(c,k.hf);Xa.Object.defineProperties(c.prototype,{Rz:{configurable:!0,enumerable:!0,get:function(){return this.config().Sq.Rz || "";}},K8:{configurable:!0,enumerable:!0,get:function(){return this.config().Sq.K8 || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Sq.gqa;}},pma:{configurable:!0,enumerable:!0,get:function(){return !1;}},gJb:{configurable:!0,enumerable:!0,get:function(){return !0;}},iJb:{configurable:!0,enumerable:!0,get:function(){return !0;}},C3a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",version:"^1.0.0"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.gmb.vNa,version:"^1.0.0"},pair:{service:"pbo_mdx",version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.D3a);}},D3a:{configurable:!0,enumerable:!0,get:function(){return {};}},f2a:{configurable:!0,enumerable:!0,get:function(){return !1;}},yla:{configurable:!0,enumerable:!0,get:function(){return 10;}},eMa:{configurable:!0,enumerable:!0,get:function(){return !1;}},B1:{configurable:!0,enumerable:!0,get:function(){return !1;}},uRa:{configurable:!0,enumerable:!0,get:function(){return !1;}},hYb:{configurable:!0,enumerable:!0,get:function(){return !1;}},o7a:{configurable:!0,enumerable:!0,get:function(){return !1;}},tRa:{configurable:!0,enumerable:!0,get:function(){return !0;}},CRa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;r.__decorate([d.config(d.string,"uiVersion")],h.prototype,"Rz",null);r.__decorate([d.config(d.string,"uiPlatform")],h.prototype,"K8",null);r.__decorate([d.config(d.Sz,"pboVersion")],h.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],h.prototype,"organization",null);r.__decorate([d.config(d.h8,"pboLanguages")],h.prototype,"languages",null);r.__decorate([d.config(d.ad,"hasLimitedPlaybackFunctionality")],h.prototype,"pma",null);r.__decorate([d.config(d.ad,"mdxBindUsingNodeQuark")],h.prototype,"gJb",null);r.__decorate([d.config(d.ad,"mdxPairUsingNodeQuark")],h.prototype,"iJb",null);r.__decorate([d.config(d.object(),"pboCommands")],h.prototype,"C3a",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],h.prototype,"D3a",null);r.__decorate([d.config(d.ad,"pboRecordHistory")],h.prototype,"f2a",null);r.__decorate([d.config(d.Sz,"pboHistorySize")],h.prototype,"yla",null);r.__decorate([d.config(d.ad,"pboAddXEsnHeader")],h.prototype,"eMa",null);r.__decorate([d.config(d.ad,"combineManifestAndLicense")],h.prototype,"B1",null);r.__decorate([d.config(d.ad,"enableLicensedManifestForPrefetch")],h.prototype,"uRa",null);r.__decorate([d.config(d.ad,"useLdlForPrefetchLicensedManifest")],h.prototype,"hYb",null);r.__decorate([d.config(d.ad,"pboUseStudioManifest")],h.prototype,"o7a",null);r.__decorate([d.config(d.ad,"pboEnableLeanManifest")],h.prototype,"tRa",null);r.__decorate([d.config(d.ad,"pboEnableV2OptimizedManifest")],h.prototype,"CRa",null);h=r.__decorate([f.R(),r.__param(0,f.l(l.lm)),r.__param(1,f.l(g.Zc)),r.__param(2,f.l(a.VH))],h);b.MDa=h;},function(r,b,a){var k,l;function c(d,g,h,m,n,q,p){this.version=d;this.url=g;this.id=h;this.languages=m;this.Ib=n;this.Pvb=q;this.oKb=p;}function f(d){this.Lh=d;}Object.defineProperty(b,"__esModule",{value:!0});b.tEa=void 0;r=a(1);k=a(0);a=a(71);f.prototype.create=function(d,g,h,m,n){return new c(this.Lh.version,g,d,this.Lh.languages,h,m,n);};l=f;l=r.__decorate([k.R(),r.__param(0,k.l(a.tu))],l);b.tEa=l;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Ib,echo:this.Pvb};};},function(r,b,a){var f,k,l;function c(d,g){this.AB=g;this.log=d.Cb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.XDa=void 0;r=a(1);f=a(0);k=a(8);a=a(85);c.prototype.Dea=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.yT=function(d){!1;return this.links[d];};c.prototype.olb=function(d){var g;g="playbackContextId=" + d.playbackContextId + "&esn=" + this.AB().ki;d="drmContextId=" + d.drmContextId;this.Dea({events:{rel:"events",href:"/events?" + g},license:{rel:"license",href:"/license?licenseType=standard&" + g + "&" + d},ldl:{rel:"ldl",href:"/license?licenseType=limited&" + g + "&" + d}});};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(k.Jb)),r.__param(1,f.l(a.Bw))],l);b.XDa=l;},function(r,b,a){function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qEa=void 0;r=a(1);a=a(0);c.prototype.$Sb=function(f){this.listener=f;};c.prototype.PM=function(f){var k;null === (k=this.listener) || void 0 === k?void 0:k.call(this,f);};a=r.__decorate([a.R()],c);b.qEa=a;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F,C,G,J,K,H,L,P,I,O,N,M,Q,S,fa,qa;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(0);c=a(371);f=a(488);k=a(1101);l=a(490);d=a(1102);g=a(336);h=a(333);m=a(1103);n=a(1139);q=a(14);p=a(19);t=a(91);u=a(26);w=a(8);v=a(1140);x=a(491);y=a(1141);z=a(4);A=a(1142);B=a(1143);D=a(511);E=a(1144);F=a(93);C=a(492);G=a(1145);J=a(107);K=a(28);H=a(139);L=a(85);P=a(263);I=a(521);O=a(1146);N=a(70);M=a(38);Q=a(493);S=a(1147);fa=a(274);qa=a(25);b.j=new r.$c(function(xa){xa(I.gba).to(O.REa).$();xa(fa.G9).tf(function(ua){var X;X=ua.$a;return function(sa,T){return new (a(1148).nva)(sa,T,X.get(t.eu));};});xa(c.RHa).tf(function(ua){var X;X=ua.$a;return function(sa,T,R,ca,ja,Pa,wa,Ua,Va){return new (a(1151).SHa)(X.get(A.XHa),sa,T,R,ca,ja,Pa,wa,Ua,Va);};});xa(A.XHa).to(B.WHa).$();xa(f.VHa).to(k.UHa).$();xa(h.MEa).to(m.LEa).$();xa(Q.dGa).to(S.cGa);xa(Q.bGa).Z5a(Q.dGa);xa(g.Jxa).tf(function(ua){var X;X=ua.$a;return function(sa){return new (a(1152).Kxa)(X.get(F.Ixa),X.get(t.eu),X.get(p.rd),sa);};});xa(l.Pva).tf(function(){return function(ua){return new d.Qva(ua);};});xa(v.GEa).tf(function(ua){var X;X=ua.$a;return function(sa){return new n.HEa(sa,X.get(w.Jb),X.get(q.Zc),X.get(u.If),X.get(t.eu));};});xa(x.TEa).tf(function(ua){var X;X=ua.$a;return function(sa,T,R,ca,ja,Pa,wa,Ua,Va){return new y.UEa(sa,T,R,ca,ja,Pa,wa,Ua,Va,X.get(v.GEa),X.get(I.gba));};});xa(D.wGa).tf(function(ua){return function(X){var sa,T;sa=ua.$a.get(q.Zc);T=ua.$a.get(w.Jb);return new E.xGa(sa,X,T);};});xa(C.OEa).tf(function(ua){return function(X){var sa,T,R,ca,ja;sa=ua.$a.get(L.Bw);T=ua.$a.get(J.MI);R=ua.$a.get(K.Jf);ca=ua.$a.get(H.TP);ja=ua.$a.get(qa.Aw);return new G.PEa(X,sa,T(z.Tg(1)),R,ca,ja);};});xa(P.raa).$C(function(ua){return new (a(1153).ICa)(ua.$a.get(N.wP),ua.$a.get(M.gm));}).$();});},function(r,b,a){var f,k,l,d,g,h;function c(m,n){this.Nf=m;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.UHa=void 0;r=a(1);f=a(17);k=a(489);l=a(19);d=a(0);g=a(4);a=a(14);c.prototype.NK=function(m){var n;m.oX={};if(!m.gC() && m.Qz && 0 < m.Qz.length && (m.Pz=this.XTa(m),m.Pz)){n=this.DTb(m);n() || (m.bc.addListener(n),m.ng.addListener(n));}};c.prototype.DTb=function(m){var q;function n(){var p,t;if(!m.ng.value || m.bc.value === f.Db.Gg)return !1;p=m.Pz;t=p.getState();return t === k.Io.LOADING?!1:t !== k.Io.wD && p.retry?(p=q.JCb(m))?(m.oX.offset=q.Nf.Wb().ea(g.ma),m.Pz=p,p.download(),!0):!1:(m.bc.removeListener(n),m.ng.removeListener(n),!1);}q=this;return n;};c.prototype.JCb=function(m){var n,q;n=this.config();q=m.ho.LT() < n.QWb;n=(m.ng.value?m.ng.value.bitrate:0) > n.PWb;return this.fCb(m,q && n);};c.prototype.fCb=function(m,n){if(n && (n=this.XTa(m),this.RUa(m,n.size)))return (m.oX.J2a="h",n);n=this.eBb(m);if(this.RUa(m,n.size))return (m.oX.J2a="l",n);};c.prototype.RUa=function(m,n){var q,p;q=this.config();p=Math.min(m.AR(),m.yX());return m.qnb.nob(n) * (1 + .01 * q.Llb[2]) < p * q.TWb;};c.prototype.XTa=function(m){return m.Qz[m.Qz.length - 1];};c.prototype.eBb=function(m){return m.Qz[0];};h=c;h=r.__decorate([d.R(),r.__param(0,d.l(l.rd)),r.__param(1,d.l(a.Zc))],h);b.UHa=h;},function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Qva=void 0;a.prototype.V6a=function(){var c;c=this.j.Pa;if(null !== c && void 0 !== c && c.LA){c=c.Hb.get();if(null === c || void 0 === c?0:c.Yi)this.j.Yi=c.Yi.Ca;if(null === c || void 0 === c?0:c.Oa)this.j.Oa=c.Oa.Ca;}};a.prototype.Qs=function(){-1 === this.j.Oa && this.V6a();return this.j.Oa;};a.prototype.nob=function(c){-1 !== this.j.Yi && -1 !== this.j.Oa || this.V6a();return -1 === this.j.Yi || -1 === this.j.Oa?Number.MAX_VALUE:this.j.Yi + 8 * c / this.j.Oa;};b.Qva=a;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F,C,G,J,K,H;function c(L,P,I,O,N,M,Q,S,fa,qa,xa,ua,X,sa,T,R,ca,ja,Pa,wa,Ua,Va,cb,Ya,kb){this.RF=L;this.aK=P;this.Ha=I;this.wa=O;this.snb=N;this.qta=M;this.Fna=Q;this.Gna=S;this.o5=fa;this.qd=qa;this.Xm=xa;this.yk=ua;this.dK=X;this.Qpa=sa;this.il=T;this.Kta=R;this.Ij=ca;this.Vl=ja;this.we=Pa;this.Npa=wa;this.bRb=Ua;this.$ea=Va;this.mG=cb;this.t1=Ya;this.ZJ=kb;}Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;r=a(1);f=a(92);k=a(0);l=a(107);d=a(32);g=a(19);h=a(39);m=a(490);n=a(358);q=a(372);p=a(460);t=a(116);u=a(137);w=a(154);v=a(94);x=a(354);y=a(491);z=a(1104);A=a(488);B=a(55);D=a(28);E=a(492);F=a(70);C=a(493);G=a(274);J=a(263);K=a(117);c.prototype.create=function(L,P,I,O,N,M,Q){return new (a(494).NEa)(L,P,M,Q,O,N,this.RF,I,this.Ha,this.aK,this.wa,this.Fna,this.snb,this.qta,this.Gna,this.o5,this.qd,this.Xm,this.yk,this.dK,this.Qpa,this.il,this.Kta,this.Ij,this.we,this.Npa,this.Vl,this.bRb(),this.$ea,this.mG,void 0,this.t1);};H=c;H=r.__decorate([k.R(),r.__param(0,k.l(f.oA)),r.__param(1,k.l(d.Xg)),r.__param(2,k.l(g.rd)),r.__param(3,k.l(h.Wh)),r.__param(4,k.l(m.Pva)),r.__param(5,k.l(l.MI)),r.__param(6,k.l(n.WBa)),r.__param(7,k.l(q.aCa)),r.__param(8,k.l(p.sBa)),r.__param(9,k.l(t.aE)),r.__param(10,k.l(u.KP)),r.__param(11,k.l(w.HI)),r.__param(12,k.l(x.Yva)),r.__param(13,k.l(y.TEa)),r.__param(14,k.l(K.BD)),r.__param(15,k.l(A.VHa)),r.__param(16,k.l(B.Ao)),r.__param(17,k.l(F.wP)),r.__param(18,k.l(D.Jf)),r.__param(19,k.l(E.OEa)),r.__param(20,k.l(C.bGa)),r.__param(21,k.l(G.G9)),r.__param(22,k.l(J.raa)),r.__param(23,k.l(z.Hwa)),r.__param(23,k.optional()),r.__param(24,k.l(v.pO)),r.__param(24,k.optional())],H);b.LEa=H;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hwa=b.Iwa=void 0;r=b.Iwa || (b.Iwa={});r[r.ldb=0]="PAUSE";r[r.seb=1]="RESUME";r[r.n_b=2]="CAPTIONS_ON";r[r.m_b=3]="CAPTIONS_OFF";r[r.o_b=4]="CAPTION_LANGUAGE_CHANGED";r[r.DZb=5]="AUDIO_LANGUAGE_CHANGED";r[r.M1b=6]="NEXT_EP";r[r.D2b=7]="PREV_EP";r[r.xA=8]="SEEK";r[r.pGa=9]="STOP";b.Hwa="CastInteractionTrackerSymbol";},function(r,b,a){var d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F,C,G,J,K,H;function c(){this.z8=[];this.zWb=50;}function f(L){var P;P=this;this.j=L;this.K7a=Promise.resolve();this.sya=pb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.$A=[];this.$r=new n.Yj();this.eJa=this.fca=0;this.q_=[];this.dg=t.jh(this.j,"MediaElementASE");this.bLa=z.Kk;this.Cca=!1;this.Rb=new c();this.Dn={};this.HJa={};this.k3=this.pQ(function(){var I;if(P.la)return null !== (I=P.la.webkitDecodedFrameCount) && void 0 !== I?I:0;});this.JB=this.pQ(function(){var I;if(P.la){I=P.L_();return I?I.totalVideoFrames:P.la.webkitDecodedFrameCount;}});this.DF=this.pQ(function(){var I;if(P.la){I=P.L_();return I?I.droppedVideoFrames:P.la.webkitDroppedFrameCount;}});this.sT=this.pQ(function(){var I;if(P.la){I=P.L_();return I && I.corruptedVideoFrames;}});this.o3=this.pQ(function(){var I;if(P.la){I=P.L_();return I && B.Bi(I.totalFrameDelay * z.Jk);}});this.cKa=function(I){return P.$r.qc(F.lj.TXa,{aa:I});};this.gl=t.ha.get(E.TAa).create(m.config.Kr,this,this.j);m.config.kC && (this.K7a=new Promise(function(I){P.bLa=I;P.j.addEventListener(J.Z.xg,I);}));this.dg.trace("Created Media Element");this.addEventListener=this.$r.addListener;this.removeEventListener=this.$r.removeListener;}function k(L){var P,I;P=t.ha.get(C.xIa).$Bb();L=L.width / L.height * P.height;I=(P.width - L) / 2;return m.config.wTb?z.createElement("VIDEO","position:absolute;width:" + L + "px;height:" + P.height + "px;left:" + I + "px;top:0px"):z.createElement("VIDEO","position:absolute;width:100%;height:100%");}function l(L){L.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.oCa=void 0;d=a(53);g=a(280);h=a(12);m=a(13);n=a(73);q=a(64);p=a(47);t=a(7);u=a(3);w=a(21);v=a(86);x=a(317);y=a(24);z=a(29);A=a(281);B=a(11);D=a(18);E=a(500);F=a(282);C=a(477);G=a(4);J=a(17);K=a(66);H=! !(B.LD && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);f.prototype.tT=function(L){try{this.la && (this.eJa=this.la.currentTime);}catch(P){this.dg.error("Exception while getting VIDEO.currentTime",P);L && this.lQ(u.M.Qdb,P);}return B.Bi(this.eJa * z.Jk);};f.prototype.seek=function(L){var P;w.hb(!this.Ro);this.WKa();P=this.tT(!0);if(!m.config.amb && B.CD(P - L) <= this.Vra)(this.dg.trace("Seek delta too small",{currentTime:P,seekTime:L,min:this.Vra}),this.Rb.trace("smallseek",L));else {this.Rb.trace("seek",L);try{this.dg.trace("Setting video elements currentTime",{From:v.Zh(P),To:v.Zh(L)});this.Ro={};this.la.currentTime=L / z.Jk;this.$r.qc(F.lj.Pq);}catch(I){this.dg.error("Exception while setting VIDEO.currentTime",I);this.lQ(u.M.Rdb,I);}}};f.prototype.SUa=function(){return ! !this.Ro;};f.prototype.addSourceBuffer=function(L){var P,I;P=z.se(this.fca.toString() + this.$A.length.toString());P={MW:this.fca,h1:P};try{I=new g.naa(this.j,L,this.Af,P,this.dg);this.$A.push(I);L == h.yI && I.cja && I.cja.addListener(this.bLa);return I;}catch(O){I=z.wd(O);this.dg.error("Unable to add source buffer.",{error:I});this.j.Kd(u.M.Jaa,{oa:L === d.Pb.Ik.Sb?z.L.JBa:z.L.KBa,rb:I});}};f.prototype.L0=function(L){var P;P=this;L.forEach(function(I){return P.addSourceBuffer(I);});this.$r.qc(F.lj.G4a);return !0;};f.prototype.removeSourceBuffer=function(L){this.$A=this.$A.filter(function(P){return !p.TOa(L,P);});this.Af.removeSourceBuffer(L);};f.prototype.endOfStream=function(){this.Rb.trace("endofstream");!1;m.config.Yfa && this.Af.endOfStream();};f.prototype.mp=function(L){!1;this.$A=[];L && L.R7b();return !0;};f.prototype.GSb=function(L){this.fca=L;};f.prototype.qUa=function(){if(this.Af)return G.h1a(this.Af.duration);};f.prototype.Rub=function(){var L;if(!this.Cca && this.la && this.la.readyState >= K.oq.xza.HAVE_CURRENT_DATA){L=this.la.webkitDecodedFrameCount;if(void 0 === L || 0 < L || m.config.hZb)this.Cca=!0;}return this.Cca;};f.prototype.open=function(){var L,P,I;L=this;this.la=k(this.j.Yz);this.sourceBuffers=this.$A;this.j.addEventListener(J.Z.r4a,function(O){return L.Zib(O);});if(H){this.j.hC && !m.config.e7a && this.gl.x6();try{this.Af=new B.LD();}catch(O){this.lQ(u.M.Gdb,O);return;}try{this.Sk=URL.createObjectURL(this.Af);}catch(O){this.lQ(u.M.Hdb,O);return;}try{this.gl.plb(this.cKa);this.Af.addEventListener("sourceopen",function(O){return L.DKa(O);});this.Af.addEventListener(this.sya + "sourceopen",function(O){return L.DKa(O);});this.la.addEventListener("error",this.Dn.error=function(O){return L.MQ(O);});this.la.addEventListener("seeking",this.Dn.seeking=function(){return L.Yib();});this.la.addEventListener("seeked",this.Dn.seeked=function(){return L.Xib();});this.la.addEventListener("timeupdate",this.Dn.timeupdate=function(){return L.ajb();});this.la.addEventListener("loadstart",this.Dn.loadstart=function(){return L.Dda();});this.la.addEventListener("volumechange",this.Dn.volumechange=function(O){return L.bjb(O);});this.la.addEventListener(this.gl.zC,this.Dn[this.gl.zC]=function(){L.dg.trace(L.gl.zC);L.Vib();});P=this.j.jg;I=P.lastChild;I?P.insertBefore(this.la,I):P.appendChild(this.la);m.config.FQa && this.la.addEventListener("contextmenu",l);this.la.src=this.Sk;q.mf.addListener(q.xL,this.HJa[q.xL]=function(){return L.BKa();});this.BKa();}catch(O){this.lQ(u.M.Idb,O);}}else this.m_(u.M.xDa);};f.prototype.close=function(){var P;function L(){P.Sk && (P.WKa(),q.mf.removeListener(q.xL,P.HJa[q.xL]),P.mgb());}P=this;this.Rb.trace("close");this.la.removeEventListener(this.gl.zC,this.Dn[this.gl.zC]);this.la.removeEventListener("error",this.Dn.error);this.la.removeEventListener("seeking",this.Dn.seeking);this.la.removeEventListener("seeked",this.Dn.seeked);this.la.removeEventListener("timeupdate",this.Dn.timeupdate);this.la.removeEventListener("loadstart",this.Dn.loadstart);this.la.removeEventListener("volumechange",this.Dn.volumechange);this.gl.GQb(this.cKa);m.config.Kr?this.gl.yz().then(function(){return L();}):L();this.gl.v2a && clearTimeout(this.gl.v2a);};f.prototype.OB=function(){return this.Rb.OB();};f.prototype.Vib=function(){m.config.e7a && this.gl.x6();};f.prototype.L_=function(){if(this.la)return this.la.getVideoPlaybackQuality && this.la.getVideoPlaybackQuality() || this.la.videoPlaybackQuality || this.la.playbackQuality;};f.prototype.jkb=function(){var L;L=this.j.al;return (L=L && L.errorCode) && 0 <= [u.M.pZ,u.M.VY].indexOf(L);};f.prototype.mgb=function(){var L;L=!1;m.config.ROb && this.jkb() && (L=!0);m.config.Opb && !L && (this.la.removeAttribute("src"),this.la.load && this.la.load());URL.revokeObjectURL(this.Sk);m.config.FQa && this.la.removeEventListener("contextmenu",l);!L && this.la && this.j.jg.removeChild(this.la);this.la=this.Af=void 0;this.Sk="";};f.prototype.BKa=function(){!0 === B.He.hidden?this.q_.forEach(function(L){L.refresh();L.yUb();}):this.q_.forEach(function(L){L.refresh();L.NUb();});};f.prototype.pQ=function(L){var P;P=t.ha.get(x.hDa)(L);this.q_.push(P);return function(){P.refresh();return P.Szb();};};f.prototype.lQ=function(L,P){var I,O;I={oa:z.L.hj,rb:z.wd(P)};try{(O=P.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == O.length && (I.Ze=O);}catch(N){}this.j.Kd(L,I);};f.prototype.WKa=function(){this.q_.forEach(function(L){L.refresh();});};f.prototype.ghb=function(){return this.la && this.la.msGraphicsTrustStatus;};f.prototype.m_=function(L,P){this.j.Kd(L,P,void 0);};f.prototype.Zib=function(L){var P,O,N,M,Q,S,fa;if(this.la){L=L.AX;P=this.ghb();P && (L.ConstrictionActive=P.constrictionActive,L.Status=P.status);try{L.readyState="" + this.la.readyState;L.currentTime="" + this.la.currentTime;L.pbRate="" + this.la.playbackRate;}catch(qa){}P=this.$A.length;for(var I;P--;){I=this.$A[P];O="";I.type == h.$Y?O="audio":I.type == h.yI && (O="video");z.Tb(L,I.g3(),{prefix:O});m.config.nwb && this.j.al && h.yI == I.type && (O=z.yN(I.i3()),3E3 > (O.data && O.data.length) && (O.data=y.tPa(O.data).join(),z.Tb(L,O,{prefix:I.type})));}this.Af && (P=this.Af.duration) && !isNaN(P) && (L.duration=P.toFixed(4));if(m.config.XHb)try{N=this.j.Xe;M=N && N.yb;if(M){Q=M.expiration;isNaN(Q) || (L.exp=Q);S=M.keyStatuses.entries();if(S.next){fa=S.next().value;fa && (L.keyStatus=fa[1]);}}}catch(qa){}}};f.prototype.DKa=function(L){!1;this.lkb || (this.lkb=!0,this.$r.qc(F.lj.H4a,L));};f.prototype.Yib=function(){this.Rb.trace("seeking");this.dg.trace("Video element event: seeking");this.Ro?this.Ro.nLb=!0:(this.dg.error("unexpected seeking event"),m.config.yxb && this.m_(u.M.Wdb,{rb:{Trace:this.OB()}}));};f.prototype.Xib=function(){this.Rb.trace("seeked");this.dg.trace("Video element event: seeked");this.Ro?(w.hb(this.Ro.nLb),this.Ro.mLb=!0,this.wLa()):(this.dg.error("unexpected seeked event"),m.config.xxb && this.m_(u.M.Vdb,{rb:{Trace:this.OB()}}));};f.prototype.ajb=function(){var L;this.Rb.trace("timeupdate",null === (L=this.la) || void 0 === L?void 0:L.currentTime);!1;this.Ro && (this.Ro.pLb=!0,this.wLa());this.$r.qc(F.lj.Pq);};f.prototype.Dda=function(){this.dg.trace("Video element event: loadstart");};f.prototype.bjb=function(L){this.dg.trace("Video element event:",L.type);try{this.j.volume.set(this.la.volume);this.j.muted.set(this.la.muted);}catch(P){this.dg.error("error updating volume",P);}};f.prototype.MQ=function(L){var P,I,O,N,M,Q,S;P=this.m_;I=u.M.Pdb;O=u.Kya;N=this.OB();M=L.target;M=M && M.error;Q=L.errorCode;S=M && M.code;z.Kc(S) || (S=Q && Q.code);Q=M && M.msExtendedCode;z.Kc(Q) || (Q=M && M.systemCode);z.Kc(Q) || (Q=L.systemCode);L=z.Tb({},{code:S,systemCode:Q,trace:JSON.stringify(N)},{gz:!0});O={oa:O(S),rb:A.zna(L)};try{M && M.message && (O.LU=M.message);}catch(fa){}Q=z.se(Q);D.ya(Q) && (O.Ze=t.yfa(Q,4));P.call(this,I,O);};f.prototype.wLa=function(){this.Ro && this.Ro.mLb && this.Ro.pLb && (this.Rb.trace("seekcomplete"),this.Ro=void 0,this.$r.qc(F.lj.uW));};Xa.Object.defineProperties(f.prototype,{Vra:{configurable:!0,enumerable:!0,get:function(){return m.config.pUb;}}});b.oCa=f;c.prototype.trace=function(L,P){this.z8.push([L,P]);this.z8.length > this.zWb && this.z8.shift();};c.prototype.OB=function(){return this.z8;};},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u;function c(w){var v;v=this;this.j=w;this.ita=this.RZa=0;this.xg=this.Pp=!1;this.w7=0;this.Nz=function(){var x,y;v.t7();v.mF && (v.log.info("Deactivating",v.mF),v.Lz.Ltb(v.ze()));v.j.Tk.set(null);v.zH.S3a(void 0);v.DOa();x=v.j.Sc.value;x && x.Ny() && !x.dC() && (x=null);if(x && v.j.bc.value !== t.Db.Gg){y=v.ze();v.Lz.Zkb(y,x);}x?(v.log.info("Activating",x),v.j.am.set(x.getState() === f.WD.yA.wD?t.df.$d:t.df.Yc),v.Pp || v.j.Od("tt_start"),x.n4().then(v.UJ).catch(v.UJ)):v.j.am.set(t.df.$d);v.mF=x;v.NH();};this.sync=function(){v.Pp && (v.zH.start(),v.j.bc.value !== t.Db.Hc && v.zH.stop());};this.NH=function(){var x;v.j.state.value === t.Kb.$d && v.j.bc.value !== t.Db.Gg && (v.Vg?x=v.zH.bzb():v.j.Sc.value && (x=c.IUb[v.j.Sc.value.getState()]));x && p.Kc(x.startTime) && v.j.Yt.value !== x && (v.RZa++,v.ita+=v.zH.rUa() - x.startTime,v.qNa=Math.ceil(v.ita / (v.RZa + 0)));v.j.Yt.set(x);};this.ze=function(){var x;x=v.j.ska();v.mF && v.mF.Vs && (x+=v.mF.Vs);return x;};this.eMb=function(x){v.fireEvent(c.cUb,x);x && x.id && (v.Lz.X6a(x.id),!1);v.log.trace("showsubtitle",v.aVa(x));};this.aMb=function(x){v.fireEvent(c.PQb,x);v.log.trace("removesubtitle",v.aVa(x));};this.Lj=function(){v.log.warn("imagesubs buffer underflow",v.j.Sc.value.oh);v.j.am.set(t.df.Yc);};this.zLb=function(){v.log.info("imagesubs buffering complete",v.j.Sc.value.oh);v.j.am.set(t.df.$d);};this.s6=function(){v.Pp && v.Vg && v.Vg.Jr(v.ze());};this.M_a=function(x){v.Pp && v.Vg && (v.Vg.pause(),v.Vg.Gz(x.Cj));};this.BC=function(){v.Pp && v.Vg && v.Vg.wqa();};this.J_a=function(x){v.Vg && v.Vg.Ck(x.Fh,x.bV);};this.Q_a=function(x){v.Vg && v.Vg.zi(x.va,x.UXb);};this.TLb=function(){v.Pp=!0;q.fg(function(){var x,y;(null === (x=v.mF) || void 0 === x?0:x.Xn)?null === (y=v.Vg) || void 0 === y?void 0:y.Jr(v.ze()):v.sync();v.NH();});};this.QLb=function(){v.DOa();v.zH.stop();v.NH();v.xg=!0;v.t7();};this.npa=function(x){(x=x.newValue) && p.isArray(x.blocks) && (v.Lz.X6a.apply(v.Lz,da(x.blocks.map(function(y){return y.id;}))),!1);};this.XLb=function(x){v.NXb(x.newValue,x.oldValue);v.sync();v.NH();};this.UJ=function(x){var y;if(!v.xg){y=x.track;if(y === v.j.Sc.value)try{v.Vg=y.fta;y.Xn?v.Xkb(x):v.Ykb(x);}catch(z){v.log.error("Error activating track:",z,y);return;}v.Pp || v.j.Od(x.W?"tt_comp":"tt_err");x.W?(d.config.e3a?setTimeout(function(){v.j.am.set(t.df.$d);},d.config.e3a):v.j.am.set(t.df.$d),y.Xn || v.NH()):x.aborted?v.log.warn("aborted timed text track loading"):d.config.wxb?v.j.Kd(n.M.Fbb,{rb:x.track?x.track.oh:{}}):(v.log.error("ignore subtitle initialization error",x),v.j.am.set(t.df.$d));}};this.Qb=new l.Yj();this.Lz=new m.kHa(h.jh(w,"SubtitleTracker"),d.config.zwb);this.log=h.jh(w,"TimedTextManager");this.zH=new k.GHa(this.ze,this.NH);this.j.Sc.addListener(this.Nz);d.config.jOb?(this.j.addEventListener(t.Z.Pp,this.TLb),this.Nz()):(this.j.am.set(t.df.$d),this.j.addEventListener(t.Z.Pp,function(){v.Pp=!0;v.Nz();}));this.j.bc.addListener(this.XLb);this.j.addEventListener(t.Z.rta,this.sync);this.j.Yt.addListener(this.npa);this.j.addEventListener(t.Z.xg,this.QLb);}Object.defineProperty(b,"__esModule",{value:!0});b.EHa=void 0;f=a(219);k=a(501);l=a(73);d=a(13);g=a(47);h=a(7);m=a(1107);n=a(3);q=a(62);p=a(18);t=a(17);u=a(1108);c.prototype.addEventListener=function(w,v,x){this.Qb.addListener(w,v,x);};c.prototype.removeEventListener=function(w,v){this.Qb.removeListener(w,v);};c.prototype.fireEvent=function(w,v,x){this.Qb.qc(w,v,x);};c.prototype.zea=function(w,v,x){var y;y=u.CHa.Bsb(this.j,w,v,x);this.j.bm.push(y);this.j.fp.forEach(function(z){g.hva(z.bm,y);});this.j.Sc.set(y);this.j.fireEvent(t.Z.AH);};c.prototype.qOb=function(w){this.ura(w)?w.n4().then(function(){}):Promise.resolve();};c.prototype.yCb=function(w){return this.Lz.gCb(w);};c.prototype.Nka=function(w){return this.Lz.Nka(w);};c.prototype.H3=function(){var w,v;w=this.j.eX;v=d.config.wta.characterSize;v={size:d.config.v8.characterSize || v};w && (v.visibility=w.Tka(),v.NR=w.Rka(),v.fr=w.Ska());return v;};c.prototype.sTb=function(w){d.config.v8.characterSize=w;w=this.j.Sc.value;this.ura(w) && !w.Xn && w.n4().then(this.UJ).catch(this.UJ);};c.prototype.NXb=function(w,v){var x;w === t.Db.Hc || w == t.Db.$h?v !== t.Db.Hc && v !== t.Db.$h && ((v=this.j.Sc.value) && !this.ura(v) || this.Lz.WZa(this.ze(),v || void 0,"presentingstate:" + w)):w !== t.Db.Gg && w !== t.Db.hu || this.Lz.qia(null !== (x=this.ze()) && void 0 !== x?x:void 0,"presentingstate:" + w);};c.prototype.t7=function(){this.w7=0;clearTimeout(this.GRb);};c.prototype.DOa=function(){var w;this.Vg && this.Vg.stop();(null === (w=this.mF) || void 0 === w?0:w.Xn) && this.zYa("removeListener");this.Vg=void 0;};c.prototype.zYa=function(w){this.Vg && (this.Vg[w]("showsubtitle",this.eMb),this.Vg[w]("removesubtitle",this.aMb),this.Vg[w]("underflow",this.Lj),this.Vg[w]("bufferingComplete",this.zLb),"addListener" === w?(this.j.addEventListener(t.Z.Pq,this.s6),this.j.addEventListener(t.Z.Yl,this.M_a),this.j.addEventListener(t.Z.dH,this.BC),this.j.addEventListener(t.Z.h6,this.J_a),this.j.addEventListener(t.Z.cua,this.Q_a)):(this.j.removeEventListener(t.Z.Pq,this.s6),this.j.removeEventListener(t.Z.Yl,this.M_a),this.j.removeEventListener(t.Z.dH,this.BC),this.j.removeEventListener(t.Z.h6,this.J_a),this.j.removeEventListener(t.Z.cua,this.Q_a)));};c.prototype.aVa=function(w){return {currentPts:this.ze(),displayTime:w.displayTime,duration:w.duration,id:w.id,originX:w.originX,originY:w.originY,sizeX:w.sizeX,sizeY:w.sizeY,rootContainerExtentX:w.rootContainerExtentX,rootContainerExtentY:w.rootContainerExtentY};};c.prototype.Xkb=function(w){var v,x;v=this;x=w.track;if(!x || !x.Xn)throw Error("Not an image base subtitle");w.W?(this.t7(),this.zYa("addListener"),this.log.info("Activated",x),this.j.Tk.set(x),this.Pp?q.fg(function(){v.Vg.Jr(v.ze());}):this.Vg.pause()):this.V2a(x,w);};c.prototype.Ykb=function(w){var v,x;v=w.track;x=w.W;if(!v || v.Xn)throw Error("Not a valid text track");x?(this.t7(),this.zH.S3a(this.Vg),this.log.info("Activated",v),this.j.Tk.set(v)):this.V2a(v,n.Sr(w));this.NH();};c.prototype.V2a=function(w,v){var x,y;x=this;y=this.w7 < d.config.ZIb;y && (this.GRb=setTimeout(function(){x.w7++;w.n4().then(x.UJ).catch(x.UJ);},d.config.eWb));this.log.error("Failed to activate" + ((null === w || void 0 === w?0:w.Xn)?" img subtitle":""),{retry:y},v,w);};c.prototype.ura=function(w){return !(!w || w.Ny() && !w.dC());};b.EHa=c;r={};c.IUb=(r[f.WD.yA.LOADING]={J6b:!0},r[f.WD.yA.qP]={Is:!0},r);c.cUb="showsubtitle";c.PQb="removesubtitle";},function(r,b,a){var k;function c(l,d,g){this.start=l;this.track=d;this.uH=Array.isArray(g)?g:[];}function f(l,d){this.log=l;this.Xz=d;this.Cqa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.kHa=void 0;k=a(21);f.prototype.Zkb=function(l,d){this.WZa(l,d,"activating");};f.prototype.Ltb=function(l){this.qia(l,"de-activating");};f.prototype.WZa=function(l,d,g){var h;this.ik && this.qia(l,"close current for new");h=[];this.orphans.length && (h.push.apply(h,da(this.orphans)),this.orphans=[]);this.ik=new c(l,d,h);this.Xz && this.log.trace("new range: " + g,this.ik);};f.prototype.qia=function(l,d){this.ik && (this.ik.end=l,this.Cqa.push(this.ik),this.Xz && this.log.trace("end range: " + d,this.ik || ({})),this.ik=void 0);};f.prototype.X6a=function(l){for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}this.ik?this.ik.uH.push.apply(this.ik.uH,da(d)):this.orphans.push.apply(this.orphans,da(d));};f.prototype.Nka=function(l){var d,g;d=this.Cqa.slice(0);if(this.ik && "undefined" !== typeof l){g=new c(this.ik.start,this.ik.track,this.ik.uH);g.end=l;d.push(g);}l=d.reduce(function(h,m){var n,q,p,t;if(!m.track)return h;q=m.track.Dd;p=m.track.Wq(m.start,m.end);if(void 0 === p || null === p)return h;t=new Set(m.uH);h[q]?(m=h[q],m.expected+=p,m.missed+=p - t.size):h[q]={dlid:q,bcp47:m.track.ym,profile:m.track.profile,expected:p,missed:p - t.size,startPts:null !== (n=m.track.tCb()) && void 0 !== n?n:0};return h;},{});l=Object.values(l);this.Xz && this.log.trace("subtitleqoe:",JSON.stringify(l,null,"\t"));return l;};f.prototype.gCb=function(l){var d,g,h,m;d=this.Cqa.slice(0);g=0;h=0;if(this.ik && "undefined" != typeof l){m=new c(this.ik.start,this.ik.track,this.ik.uH);m.end=l;d.push(m);}d.forEach(function(n){var q,p;if(n.track){if(n.end < n.start){k.hb(!1,"negative range");n.OC=0;return;}q=new Set(n.uH);p=n.track.Wq(n.start,n.end);n.D2=p;n.OC=void 0 === p || null === p?0:0 === p?100:100 * q.size / p;}else n.OC=100;q=n.end - n.start;g+=q;h+=n.OC * q;});m=g?Math.round(h / g):100;this.log.trace("qoe score " + m + ", at pts: " + l);this.Xz && (l=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.OC),lang:n.track?n.track.ym:"none","actual  ":n.uH.join(" "),expected:n.D2};}),this.log.trace("score for each range: ",JSON.stringify(l,function(n,q){return q;}," ")));return m;};b.kHa=f;},function(r,b,a){var f,k,l,d,g,h,m,n,q;function c(p,t,u,w,v){var x,y;p=g.WD.call(this,t,p,p,"1",{0:u},[{id:0,name:"custom"}],null === v || void 0 === v?void 0:v.rank,"xx",w || p,h.yq.EI,void 0,void 0,"primary",null !== (x=null === v || void 0 === v?void 0:v.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (y=null === v || void 0 === v?void 0:v.midx) && void 0 !== y?y:{},!1,!1,null === v || void 0 === v?void 0:v.isLanguageLeftToRight) || this;p.j=t;p.url=u;p.options=v;p.$t=null === v || void 0 === v?void 0:v.useRangeHeader;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.CHa=void 0;r=a(63);f=a(13);k=a(64);l=a(7);d=a(29);g=a(219);h=a(142);m=a(72);n=a(128);q=a(17);r.fba(r.bba,function(p){var u;function t(w){var v;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == n.ku.$eb){v=d.createElement("INPUT",void 0,void 0,{type:"file"});v.addEventListener("change",function(){var x,y,z;x=v.files[0];if(x){y=x.name;u.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return p.gq.zea("nourl",y,{content:z.result});});}});v.click();}}u=l.jh(p,"TimedTextCustomTrack");f.config.qha && (u.info("Loading url",{Url:f.config.qha}),p.gq.zea(f.config.qha,"custom"));k.mf.addListener(k.SB,t);p.addEventListener(q.Z.xg,function(){k.mf.removeListener(k.SB,t);});});la(c,g.WD);c.Bsb=function(p,t,u,w){var v;v="custom" + c.bFb++;return new c(v,p,t,u,w);};c.prototype.WQa=function(){var p;p=this;return new Promise(function(t,u){var w,v;if(null === (w=p.options) || void 0 === w?0:w.content)t(p.options.content);else if(p.url){v={responseType:m.zla,url:p.url,track:p,pc:null,qF:"tt-" + p.ym};p.j.g4.download(v,function(x){x.W?t(x.content):(x.reason="downloadfailed",x.url=v.url,x.track=p,u(x));});}});};b.CHa=c;c.bFb=0;},function(r,b,a){var f,k,l,d,g,h;function c(m){var n,q;n=this;this.j=m;this.ELb=function(){var p;l.mf.removeListener(l.P3,n.O_a);p=n.Zq.zp();p && p.parentNode && p.parentNode.removeChild(p);};this.npa=function(p){n.Zq.RSb(p.newValue);};this.hMb=function(p){n.Zq.YSb(p.newValue?p.newValue.L4:void 0);};this.O_a=function(){n.Zq.ZM();};this.Zq=new g.DHa(d.config.vta,m.Sc.value?m.Sc.value.L4:void 0);q=m.Yz;k.hb(.1 < q.width / q.height);this.Zq.HSb(q.width / q.height);m.jg.appendChild(this.Zq.zp());m.Yt.addListener(this.npa);m.Sc.addListener(this.hMb);m.addEventListener(h.Z.xg,this.ELb,f.OD);l.mf.addListener(l.P3,this.O_a);}Object.defineProperty(b,"__esModule",{value:!0});b.FHa=void 0;f=a(12);k=a(21);l=a(64);d=a(13);g=a(506);h=a(17);c.prototype.ysa=function(m){this.Zq.ysa(m);};c.prototype.Tka=function(){return this.Zq.Tka();};c.prototype.wsa=function(m){this.Zq.wsa(m);};c.prototype.Rka=function(){return this.Zq.Rka();};c.prototype.xsa=function(m){this.Zq.xsa(m);};c.prototype.Ska=function(){return this.Zq.Ska();};b.FHa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.A1a=void 0;b.A1a=function(a){var c,f;c=!1;f=!1;return function(){if(c)f=!0;else for(f=!0;f;){f=!1;c=!0;a();c=!1;}};};},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t;function c(u){this.j=u;this.BVb=!1;this.log=d.jh(this.j,"MediaAppendManager");this.Lb=this.j.Lb;this.la=this.Lb.la;this.DX=this.ER=!1;this.audio={type:l.Yh.audio,ev:[],jl:[],EM:!1};this.video={type:l.Yh.video,ev:[],jl:[],EM:!1};u={};this.EH=(u[f.Pb.Ik.Eb]=this.video,u[f.Pb.Ik.Sb]=this.audio,u);this.closed=!1;this.Xy=k.config.Xy;this.N5=k.config.N5;this.AG=k.dPa(! !this.j.ib.fl).AG;this.rNa=!0;h.hb(this.Xy > this.N5,"bad config");h.hb(this.Xy > this.AG,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.fCa=void 0;f=a(53);k=a(13);l=a(81);d=a(7);g=a(3);h=a(21);m=a(29);n=a(17);q=a(171);p=a(4);t=a(66);c.prototype.f3=function(){var v,x;function u(y,z){return w(y,z.E5);}function w(y,z){var A,B,D,E;D=! !z.response;E=z.response;if(z.Pc)return y + (E.byteLength || 0);z=(null !== (A=null === z || void 0 === z?void 0:z.hK) && void 0 !== A?A:0) - (null !== (B=null === z || void 0 === z?void 0:z.iK) && void 0 !== B?B:0);return (D?E.byteLength:z) + y;}v=this.EH[f.Pb.Ik.Eb];x=this.EH[f.Pb.Ik.Sb];return {videoToAppend:v.jl.reduce(w,0),videoInBuffer:v.ev.reduce(u,0),audioToAppend:x.jl.reduce(w,0),audioInBuffer:x.ev.reduce(u,0)};};c.prototype.dLb=function(){this.audio.wi && !this.audio.wi.li() && (!1,this.audio.wi.EMa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.lTb=function(){this.audio.Bsa=!0;this.video.Bsa=!0;};c.prototype.qTb=function(u){u === f.Pb.Ik.Sb?this.ER=!0:u === f.Pb.Ik.Eb && (this.DX=!0);};c.prototype.li=function(){var u,w;return !(null === (u=this.audio.wi) || void 0 === u || !u.li()) || !(null === (w=this.video.wi) || void 0 === w || !w.li());};c.prototype.O7=function(u){var w,v;null === (w=this.audio.wi) || void 0 === w?void 0:w.O7(u);null === (v=this.video.wi) || void 0 === v?void 0:v.O7(u);};c.prototype.kmb=function(u){var w;u.mediaType === f.Pb.Ik.Sb?this.ER=!1:u.mediaType === f.Pb.Ik.Eb && (this.DX=!1);w=this.EH[u.mediaType];w?w.jl.push(u):h.hb(!1);};c.prototype.imb=function(u,w,v){w={mediaType:u.type,eC:!1,response:w,Kh:function(){return "header";},get Pc() {return !this.eC;},profile:v.profile};(u=this.EH[u.type])?u.jl.push(w):h.hb(!1);};c.prototype.oTb=function(u){var w;w=this.EH[u.type];if(w)try{w.wi=u;}catch(v){this.Kd(g.M.Jaa,{oa:q.n3(u.type),rb:m.wd(v)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.Kd=function(u,w,v){this.closed || this.j.Kd(u,w,v);};c.prototype.Bha=function(u){return this.QQa(this.audio,u,this.W1()) && this.QQa(this.video,u,this.W1());};c.prototype.W1=function(){return this.j.bc.value === n.Db.Gg?this.AG:this.N5;};c.prototype.mWb=function(){var u,w;u=this.video.jl.filter(function(v){return !v.Pc;}).reduce(function(v,x){return v + x.hy;},0);w=this.audio.jl.filter(function(v){return !v.Pc;}).reduce(function(v,x){return v + x.hy;},0);return Math.min(u,w);};c.prototype.QQa=function(u,w,v){var x;x=u.Cha;x=x && x.E5;return !u.wi || 0 === u.jl.length && (u.type === l.Yh.audio && this.ER || u.type === l.Yh.video && this.DX)?!0:x && x.Vv - w >= v || !1;};c.prototype.Nta=function(u){var w,v,x,y;this.BVb || (this.r6a(this.audio,u),this.r6a(this.video,u));if(!this.closed){u=!this.audio.wi || 0 !== this.audio.ev.length;x=0 === this.video.jl.length && this.DX;y=!this.video.wi || 0 !== this.video.ev.length;!(!(0 === this.audio.jl.length && this.ER && y || x && u) || (null === (w=this.audio.wi) || void 0 === w?0:w.li()) || (null === (v=this.video.wi) || void 0 === v?0:v.li()) || this.pia) && this.la.readyState > t.oq.xza.HAVE_NOTHING && (this.pia=!0,this.Lb.endOfStream());}};c.prototype.r6a=function(u,w){var v,x,y;if(!this.closed && u.wi){v=u.wi;x=u.ev;!v.li() && 0 < x.length && (u.Cha=x[x.length - 1]);if(u.Bsa){if(v.li())return;u.Bsa=!1;y=this.Lb.qUa().g1a(p.rn);0 < y && v.remove(0,y);}for(y=u.jl[0];y && y.response && (y.Pc || y.rz - w <= this.Xy);){if((this.pia=!1,this.aXb(y)))(u.jl.shift(),y=u.jl[0]);else break;}!v.li() && 0 < x.length && (u.Cha=x[x.length - 1]);}};c.prototype.aXb=function(u){var w,v,x;!1;h.hb(u && ! !u.response);w=u.response;v=u.mediaType;x=this.EH[v];if(!this.closed && x.wi && !x.wi.li()){try{u.Pc && u.profile && x.wi.apb(u.profile);this.log.trace("Feeding media segment to decoder",{Bytes:w.byteLength});x.wi.EMa(w,u);u.Pc || x.ev.push(this.Dsb(u));k.config.dvb && !u.Pc && u.xOa();}catch(y){"QuotaExceededError" === y.name?(this.j.Y1=this.j.Y1?this.j.Y1 + 1:1,this.rNa=!1,x.EM=!0):(this.log.error("Exception while appending media",u,y),this.Kd("CodecSwitchingError" === y.name?g.M.yDa:g.M.Sdb,q.n3(v)));return;}return !0;}};c.prototype.usb=function(u){var w;w=this.j.uDb(u.zd);w || (this.log.warn("Could not find CDN",{cdnId:u.zd}),w={id:u.zd,dna:u.location});return w;};c.prototype.NPa=function(u){var w,v;v=u.Ma;u.mediaType === f.Pb.Ik.Sb?w=this.j.xVa(v):u.mediaType === f.Pb.Ik.Eb && (w=this.j.GVa(v));w || this.log.error("Could not find stream",{stream:v});return w;};c.prototype.Dsb=function(u){var w;w=this.NPa(u);return {E5:u,stream:w,Nq:{startTime:Math.floor(u.rz),endTime:Math.floor(u.Vv)},pc:this.usb(u)};};c.prototype.iga=function(u){this.sOa(u,f.Pb.Ik.Sb);this.sOa(u,f.Pb.Ik.Eb);};c.prototype.sOa=function(u,w){var v,x,y,z,A,B,D,E,F;v=this;x=u;this.rNa && (x-=k.config.fN);y=this.EH[w];z=y.ev;D=!1;z.some(function(C,G){var J;J=C.E5;if(u < J.rz)return (h.hb(!1,"decoder content does not contain media time"),!0);x >= J.Vv && (A=G);if(u < J.Vv)return (B=G,G=w === f.Pb.Ik.Sb?v.j.Rg:v.j.Uf,C !== G.value && (G.set(C),D=!0),!0);});if((y.EM || D) && void 0 !== A && !this.pia){if(A + 1 === B){if(0 === A)return;A--;}E=z[A].E5.Vv - 1;if(0 < E){F=y.wi;F && !F.li()?(F.remove(0,E / m.Jk),y.EM=!1,z.splice(0,A + 1)):(y.EM=!0,!1);}}};c.prototype.M2a=function(){!1;[this.audio,this.video].forEach(function(u){u.ev=[];u.Cha=void 0;u.jl=[];});this.DX=this.ER=!1;this.j.fireEvent(n.Z.B5);};c.prototype.Yka=function(){return [this.audio,this.video].filter(function(u){return u.wi;});};c.prototype.Bzb=function(){var u,w;if(this.li())h.hb(!1,"should not be busy while checking buffer ranges");else {u=this.Yka().map(function(v){var x,y,z,A,B;A=v.jl.filter(function(D){return D.eC;});B=v.wi.buffered();v=B.length?Math.ceil(1E3 * B.start(0)):void 0;B=B.length?Math.floor(1E3 * B.end(B.length - 1)):void 0;v=null !== v && void 0 !== v?v:null === (x=A[0]) || void 0 === x?void 0:x.rz;x=null !== (z=null === (y=A[A.length - 1]) || void 0 === y?void 0:y.Vv) && void 0 !== z?z:B;if(void 0 !== v && void 0 !== x)return {start:v,end:x};});if(u.every(function(v){return v;})){w=Math.max.apply(Math,da(u.map(function(v){return v.start;})));u=Math.min.apply(Math,da(u.map(function(v){return v.end;})));if(u > w)return {start:p.xc(w),end:p.xc(u)};}}};c.prototype.skip=function(u){h.hb(!this.li(),"should not be busy while skipping");this.Yka().forEach(function(w){w.EM=!0;});this.iga(u);this.Yka().forEach(function(w){0 < w.ev.length || (w.jl=w.jl.filter(function(v){return v.Pc || v.Vv > u?!0:!1;}));});};b.fCa=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(283);c=a(157);b.V$a=c;c=a(512);b.Oba=c;c=a(516);b.Tmb=c;b.MZ=r.Kp.Ta.sidx;r=a(1130);b.Ur=r.Ur;r=a(291);b.sq=r.sq;r=a(1134);b.tq=r.tq;b.Wy=r.Wy;r=a(1135);b.sI=r.sI;r=a(87);b.tn=r.tn;a=a(1136);b.hm=a.hm;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.ic();this.Vb=1 === this.version?this.ti([{creationTime:"int64"},{modificationTime:"int64"},{U:"int32"},{duration:"int64"}]):this.ti([{creationTime:"int32"},{modificationTime:"int32"},{U:"int32"},{duration:"int32"}]);return !0;};k.Mb="mvhd";k.La=!1;return k;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.Mb="trak";k.La=!0;return k;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l;this.ic();l=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];l=l.concat({offset:64,type:"offset"},{dHb:"int16"},{dmb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Vb=this.ti(l);this.Vb.BWb=! !(this.flags & 1);this.Vb.CWb=! !(this.flags & 2);this.Vb.DWb=! !(this.flags & 4);this.Vb.EWb=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};k.Mb="tkhd";k.La=!1;return k;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.ic();this.Vb=this.ti(1 === this.version?[{W2:"int64"}]:[{W2:"int32"}]);return !0;};k.Mb="mehd";k.La=!1;return k;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Vb=this.ti([{$Db:"int32"},{KYb:"int32"}]);return !0;};k.Mb="pasp";k.La=!1;return k;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.Vb=this.ti([{Unb:"int32"},{maxBitrate:"int32"},{sfa:"int32"}]);return !0;};k.Mb="btrt";k.La=!1;return k;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.u.nl();this.u.nl();for(this.cF=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.cF.push(this.u.nl());}return !0;};k.Mb="ftyp";k.La=!1;return k;})(a(33).mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(87);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ic();this.Vb=this.ti([{kOb:"int32"},{PT:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Vb.PT=f.tn(this.Vb.PT);return !0;};l.Mb="hdlr";l.La=!1;return l;})(a(33).mc);b.default=r;},function(r,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(101);k=a(284);l=a(191);r=a(33);d=a(102);a=(function(g){function h(){return null !== g && g.apply(this,arguments) || this;}c.__extends(h,g);h.prototype.parse=function(){this.ic();this.Nl=this.u.ta();return !0;};h.prototype.Js=function(m){var n;n=Object.keys(this.Ta);n.length && (n=n[0],this.Ta[n].length && (n=this.Ta[n][0],n instanceof l.default?this.pa=new k.S(n.ry,n.samplerate):n instanceof d.default && (n=n.Ta[f.HD]) && n.length && (n=n[0].Vb,1E3 !== n.by && 1001 !== n.by || 0 !== n.xG % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.xG + "/" + n.by):this.pa=new k.S(n.by,n.xG)),this.pa && (m.pa=this.pa)));return !0;};h.prototype.eW=function(m){void 0 !== this.Ta[m] && 0 !== this.Ta[m].length && (this.ja.Eg(this.Nl - 1,this.byteOffset + 12),m=this.Ta[m][0],this.ue(m.byteLength,m.byteOffset));};h.Mb="stsd";h.La=!0;return h;})(r.mc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){this.xja=this.u.ec(2);this.Efa=this.u.ec(5);this.Ffa=this.u.ec(3);this.tea=this.u.ec(3);this.u.ec(1);this.u.ec(5);this.u.ec(5);return !0;};k.Mb="dac3";return k;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var d;this.Toa=this.u.Gc() & 7;this.gta=[];for(var l=0;l < this.Toa;l++){d={xja:this.u.ec(2),Efa:this.u.ec(5),Ffa:this.u.ec(5),tea:this.u.ec(3),fHb:this.u.ec(1),Soa:this.u.ec(4)};0 < d.Soa?d.Zob=this.u.ec(9):this.u.ec(1);this.gta.push(d);}return !0;};k.Mb="dec3";return k;})(a(33).mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(33);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ic();this.sW=this.u.nl();f.ia && this.u.console.trace("SchemeTypeBoxTranslator: " + this.sW);"cenc" === this.sW && (this.u.offset-=4,f.ia && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.ja.LX("piff"));this.u.ta();return !0;};l.Mb="schm";l.La=!1;return l;})(f.mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l;this.u.eb();this.z9=this.u.eb();this.u.eb();this.u.eb();this.u.eb();this.NW=this.wE(this.u.eb() & 31);this.wE(this.u.eb());this.pz=this.NW.length?this.NW[0][0]:this.z9;this.SQ=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.pz || 110 === this.pz || 122 === this.pz || 144 === this.pz) && (this.u.eb(),this.u.eb(),this.wE(this.u.eb()));l=this.startOffset + this.length - this.SQ;0 < l && this.ue(l,this.SQ);return !0;};k.prototype.wE=function(l){var h;for(var d=[],g=0;g < l;++g){h=this.u.Gc();d.push(this.u.vz(h));}return d;};k.Mb="avcC";k.La=!1;return k;})(a(33).mc);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.Js=function(){var l;l=this.cl("esds");if(l=l && l.r$.cl(5))this.ry=l.ry;return !0;};k.Mb="mp4a";k.La=!0;return k;})(a(191).default);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(286);r=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ic();this.r$=f.OO.VV(this.u);return !0;};l.Mb="esds";l.La=!1;return l;})(a(33).mc);b.default=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(101);a=a(33);f=r.HD;a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.ic();this.Vb=this.ti([{xG:"int32"},{by:"int16"}]);return !0;};l.Mb=f;l.La=!1;return l;})(a.mc);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=(function(f){function k(){return null !== f && f.apply(this,arguments) || this;}c.__extends(k,f);k.prototype.parse=function(){var l,d,g,h,m;this.ic();l=this.ti([{GH:"int32"},{tS:"int32"},{Zx:"int32"},{ay:"int32"},{$x:"int32"}]);d=l.GH;g=l.tS;h=l.Zx;m=l.$x;l=l.ay;this.Vb={trackId:d,lub:g,Yx:h,mub:m,nub:l};this.GH=d;this.tS=g;this.Zx=h;this.ay=l;this.$x=m;return !0;};k.Mb="trex";k.La=!1;return k;})(a(33).mc);b.default=r;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(1131);k=a(290);l=a(156);d=a(284);g=a(33);r=a(514);h=a(515);m=a(517);n=a(157);q=a(283);p=a(101);t=a(518);a=(function(){function u(w,v,x,y,z,A){this.console=w;this.stream=v;this.sh=y;this.Iea=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.DVa=n.Rja();}u.path=function(w,v){return v.reduce(function(x,y){return x && x.Ta[y] && x.Ta[y][0];},w);};u.hka=function(w){return w && w.cF && -1 !== w.cF.indexOf("mcl0")?"mcl0":void 0;};u.Uia=function(w,v){var x,y;l.assert("mcl0" === w,"Unsupported McClearen brand");x=v.Y;w=x.gd;v=new d.S(120,1).Xf(x.U).Xb;y=0;for(x=x.Dk;y < w.length && x < v;){x+=w[y++];}return y;};u.prototype.parse=function(w){var v;v=this.Nra();if(!v.done){if(v.ZU)return {Wm:!1,fMa:v.ZU};this.console.error("Scan error: " + v.error);return {Wm:!1,parseError:v.error || "unknown mp4 scan error"};}v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + v.offset);this.view=new DataView(v);w=this.tpa(w);return w.done?this.Sga():(this.console.error("Parse error: " + w.error),{Wm:!1,parseError:w.error || "unknown mp4 parse error"});};u.prototype.Em=function(w){return g.mc.Em(this,w);};u.prototype.cl=function(w){return g.mc.cl(this,w);};u.prototype.Nra=function(){var w,v;w=new t.J$(this.sh,this.Iea?[p.Mw,p.Lw]:[],this.config && this.config.RVb || ["moof",p.yP],this.config && this.config.xV);v=c.__assign(c.__assign({},this.config),{CG:!1});return new m.kD(u.aH,w,this.view,this.console,v).parse();};u.prototype.tpa=function(w){var v,x,y;v=new t.KO(this.view.byteLength);x=Object.create(q.Kp.Ta);this.config && ((this.config.H6 || this.config.E8 || this.config.SC) && f(q.Kp.ZG,x),this.config.F8 && f(q.Kp.Ita,x),this.config.E8 && f(q.Kp.mX,x));y=c.__assign(c.__assign({},this.config),{CG:!0});this.ac=new m.kD(x,v,this.view,this.console,y);w=this.ac.parse(w);w.done && (this.Ta=this.ac.Ta);return w;};u.prototype.Sga=function(){var w,v,x,y,z,A;w={Wm:!0};v=u.path(this,["moov"]);x=u.path(v,["trak","mdia","minf","stbl","stsd"]);if(this.config.H6)if(x)(w.pa=x.pa,w.RRb=x.Ta);else return {Wm:!1,parseError:"Missing sample descriptions"};y=u.path(x,["encv","sinf","schi"]);y && (y=u.path(y,["tenc"]) || u.path(y,[p.DP])) && (w.FRa={Aqb:y.Ni,aG:y.aG,EGb:!1});if(y=u.path(v,["trak","mdia","mdhd"]))w.U=y.U;if(y=u.path(v,["mvex","trex"]))w.Yx=y && y.Vb.Yx;w.Yx && w.U && (w.pa=new d.S(w.Yx,w.U));if(y=u.path(this,["sidx"])){z=u.path(this,[p.Mw]);z=z && z.Vna;A=u.path(this,[p.Lw]);A=A && A.Eh;w.Y=y.Y;w.qG=z;w.Eh=A;}if(z=this.Ta.vmaf && this.Ta.vmaf[0])w.hq=z.hq;if(this.config.X2a)if(v)(this.trim(v.byteOffset + v.byteLength),this.config.SC && x && 1 < x.Nl && y && (w.yg=this.SC(x,y)),void 0 === w.yg && (v=this.ac.iy?k.concat(this.ac.na()):this.view.buffer,w.yg=[{Md:0,data:v}]));else return {Wm:!1,parseError:"Missing movie box"};w.Wm=!0;w.yV=this.ac.offset;return w;};u.prototype.trim=function(w){var v;v=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(w,this.view.byteLength));this.ac.trim(w);this.view=new DataView(v);};u.prototype.SC=function(w,v){var x,y,z;x=Object.keys(w.Ta);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=u.path(this,["ftyp"]);z=u.hka(x);if(z)return (x=[],this.ac.xqa(),w.eW("encv"),x.push({Md:0,lk:!1,data:k.concat(this.ac.na())}),this.ac.aqa(),w.eW(y[0]),w=u.Uia(z,v),x.push({Md:w,lk:!0,data:k.concat(this.ac.na())}),x);}};u.aH={};return u;})();b.Ur=a;a.aH[p.JD]=r.default;a.aH[p.KD]=h.default;},function(r){r.exports=function f(a,c){var k;a.__proto__ && a.__proto__ !== Object.prototype && f(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(l){k=Object.getOwnPropertyDescriptor(a,l);void 0 !== k && Object.defineProperty(c,l,k);});};},function(r,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);f=a(156);k=a(290);l=a(87);r=a(1133);d=(function(){function g(h){h?(this.rf=h.rf.slice(),this.Fg=h.Fg.slice(),this.Gd=h.Gd.slice(),this.trim=h.trim):(this.rf=[],this.Fg=[],this.Gd=[]);}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.rf.length && 0 === this.Fg.length && 0 === this.Gd.length;},enumerable:!0,configurable:!0}});return g;})();r=(function(g){function h(m,n,q){m=g.call(this,m,n,q) || this;m.KS=[];m.bb=new d();return m;}c.__extends(h,g);h.Yea=function(m,n){if(n.offset + n.size <= m.byteLength)switch(n.size){case 1:m.setUint8(n.offset,n.value);break;case 2:n.Ut?m.setInt16(n.offset,n.value):m.setUint16(n.offset,n.value);break;case 4:n.Ut?m.setInt32(n.offset,n.value):m.setUint32(n.offset,n.value);break;case 8:f.assert(!n.Ut);m.setUint32(n.offset,Math.floor(n.value / 4294967296));m.setUint32(n.offset + 4,n.value & 4294967295);break;default:f.assert(!1);}};Object.defineProperties(h.prototype,{iy:{get:function(){return !this.bb.empty;},enumerable:!0,configurable:!0}});h.prototype.$z=function(m,n){this.bb.Fg.push({offset:void 0 !== n?n:this.offset,value:m,size:1});void 0 === n && (this.offset+=1);};h.prototype.Hua=function(m,n){this.bb.Fg.push({offset:void 0 !== n?n:this.offset,value:m,size:2,Ut:!1});void 0 === n && (this.offset+=2);};h.prototype.Eg=function(m,n){this.bb.Fg.push({offset:void 0 !== n?n:this.offset,value:m,size:4,Ut:!1});void 0 === n && (this.offset+=4);};h.prototype.Iua=function(m,n){this.bb.Fg.push({offset:void 0 !== n?n:this.offset,value:m,size:8,Ut:!1});void 0 === n && (this.offset+=8);};h.prototype.LX=function(m){this.Eg(l.nQ(m));};h.prototype.RH=function(m,n){this.bb.Gd.push({offset:this.offset,Uk:m,value:n});this.offset+=4;};h.prototype.ue=function(m,n,q){this.bb.rf.push({offset:n,remove:m,$a:q});};h.prototype.Lt=function(m,n,q,p){this.bb.rf.push({offset:q,remove:m,replace:n,$a:p});};h.prototype.trim=function(m){this.bb.trim=m;};h.prototype.xqa=function(){this.KS.push(new d(this.bb));};h.prototype.aqa=function(){this.bb=this.KS.pop() || new d();};h.prototype.na=function(){var m,n,q,p,t,u,w;m=this;if(0 === this.bb.rf.length && 0 === this.bb.Fg.length && 0 === this.bb.Gd.length)return [void 0 === this.bb.trim?this.view.buffer:this.view.buffer.slice(0,this.bb.trim)];this.bb.rf.sort(function(v,x){return v.offset - x.offset;});this.bb.Fg.sort(function(v,x){return v.offset - x.offset;});this.zra();n=this.Ria();q=this.view.buffer.slice(0,n);p=new DataView(q);this.bb.Fg.forEach(h.Yea.bind(void 0,p));this.bua(p);this.$ta(p);t=[];u=void 0 !== this.bb.trim?Math.min(this.bb.trim,this.view.byteLength):this.view.byteLength;w=0;this.bb.rf.filter(function(v){return v.offset <= u;}).forEach(function(v){v.offset > w && (t.push(p.buffer.slice(w,v.offset)),v.offset > p.byteLength && p !== m.view && (p=m.view,t.push(p.buffer.slice(n,v.offset))));v.replace && t.push(v.replace);w=v.offset + v.remove;});w < n && t.push(q.slice(w));w < u && t.push(this.view.buffer.slice(Math.max(q.byteLength,w),u));return t;};h.prototype.Ria=function(){var m,n,q;m=[];n=this.bb.Fg[this.bb.Fg.length - 1];q=this.bb.Gd[this.bb.Gd.length - 1];n && m.push(n.offset + n.size);q && m.push(q.offset + 4);this.bb.rf.filter(function(p){return p.$a;}).forEach(function(p){return m.push(p.$a.byteOffset + 4);});n=Math.max.apply(void 0,m);return void 0 !== this.bb.trim?Math.min(n,this.bb.trim):n;};h.prototype.zra=function(){this.bb.rf=this.bb.rf.reduce(function(m,n){var q,p;if(0 === m.length)return (m.push(n),m);q=m[m.length - 1];p=q.offset + q.remove;n.offset >= p?m.push(n):n.offset + n.remove > p && (f.assert(q.$a === n.$a),q.remove+=n.offset + n.remove - p,n.replace && (q.replace=q.replace?k.concat(q.replace,n.replace):n.replace));return m;},[]);};h.prototype.bua=function(m){var n;n=this;this.bb.Gd.forEach(function(q){var p,t,u,w;p=m;t=q.offset;n.bb.rf.some(function(v){return v.offset <= q.offset && v.replace && v.offset + v.replace.byteLength >= q.offset + 4?(p=new DataView(v.replace),t=q.offset - v.offset,!0):!1;});u=q.Uk + (void 0 !== q.value?q.value:p.getInt32(t));w=n.bb.rf.reduce(function(v,x){return x.offset > q.Uk && x.offset < u?v + (x.remove - (x.replace?x.replace.byteLength:0)):v;},0);p.setInt32(t,u - q.Uk - w);});};h.prototype.$ta=function(m){this.bb.rf.forEach(function(n){var q;q=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== q)for(n=n.$a;n;){m.setUint32(n.byteOffset,m.getUint32(n.byteOffset) - q);n=n.parent;}});};return h;})(r.Vba);b.Uba=r;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(157);a(157);f=a(87);r=(function(){function k(l,d,g){this.view=l;this.console=d;this.config=g;this.view=l;this.console=d;this.Nm=this.Ix=this.offset=0;}k.prototype.Pja=function(l){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,l);};k.prototype.ec=function(l){for(;this.Nm < l;){this.Ix=(this.Ix << 8) + this.eb();this.Nm+=8;}this.Nm-=l;return this.Ix >>> this.Nm & (1 << l) - 1;};k.prototype.eb=function(){var l;l=this.view.getUint8(this.offset);this.offset+=1;return l;};k.prototype.Gc=function(l){l=this.view.getUint16(this.offset,l);this.offset+=2;return l;};k.prototype.ta=function(l){l=this.view.getUint32(this.offset,l);this.offset+=4;return l;};k.prototype.OG=function(){var l;l=this.view.getInt32(this.offset,void 0);this.offset+=4;return l;};k.prototype.Bpa=function(l,d){var g;g=this.view.getUint32(this.offset + (l?4:0),l);l=this.view.getUint32(this.offset + (l?0:4),l);d || 0 === (g & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * g + l;};k.prototype.Hd=function(l,d){l=this.Bpa(l,d);this.offset+=8;return l;};k.prototype.Cpa=function(l,d){var g;g=this.view.getInt32(this.offset + (l?4:0),l);l=this.view.getUint32(this.offset + (l?0:4),l);d || 0 === ((0 < g?g:-g) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * g + l;};k.prototype.Kqa=function(){var l;l=this.Cpa(void 0,void 0);this.offset+=8;return l;};k.prototype.nl=function(){return f.tn(this.ta());};k.prototype.xz=function(){var d,g,h,m,n,q;function l(p,t){return ("000000" + p.toString(16)).slice(2 * -t);}d=this.ta(!0);g=this.Gc(!0);h=this.Gc(!0);m=this.Gc();n=this.Gc();q=this.ta();return [l(d,4),l(g,2),l(h,2),l(m,2),l(n,2) + l(q,4)].join("-");};k.prototype.Hqa=function(l){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + l);};k.prototype.Fqa=function(l){var d;d=[];if(0 === l)return "";l=l || Number.MAX_SAFE_INTEGER;for(var g=this.eb();0 !== g && 0 <= --l;){d.push(g);g=this.eb();}return String.fromCharCode.apply(null,d);};k.prototype.vz=function(l){var d,g;void 0 === d && (d=1);void 0 === g && (g=!0);return this.qh(this.config.Vz && c.Xka || c.Ep,1,l,d,g);};k.prototype.Dqa=function(l,d,g){var h;void 0 === d && (d=2);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.qh(this.config.Vz && c.Vka || c.yy,2,l,d,g,h);};k.prototype.uz=function(l,d,g){var h;void 0 === d && (d=4);void 0 === g && (g=!0);void 0 === h && (h=!1);return this.qh(this.config.Vz && c.Wka || c.Rs,4,l,d,g,h);};k.prototype.Iqa=function(){for(var l=this.eb(),d=l & 127;l & 128;){l=this.eb();d=d << 7 | l & 127;}return d;};k.prototype.qh=function(l,d,g,h,m,n){void 0 === m && (m=!0);void 0 === n && (n=!1);l=l(this.view,this.offset,g,h,n);this.offset=m || !h || h === d?this.offset + g * (h || d):this.offset + d;return l;};return k;})();b.Vba=r;},function(r,b,a){var k,l,d,g;function c(h,m,n,q){l.call(this,h,m,n,q);}function f(h,m,n){l.call(this,h,m,n,void 0);}k=a(101);l=a(291).sq;d=a(516);g=a(87).nQ;c.prototype=Object.create(l.prototype);f.prototype=Object.create(c.prototype);f.prototype.Vca=function(h,m){return "string" === typeof m?d[m]:m?d.reset[h] || d.Msa[h]:d.Msa[h];};f.prototype.bra=function(h,m,n){return this.na(h,m,!1,n,void 0);};f.prototype.fra=function(h,m,n){return this.na(h,m,!0,n,void 0);};f.prototype.na=function(h,m,n,q,p){var u,w,v,x,y,z,A,B,D,E,F,C,G,J;function t(K){w=u[K];v=w.vh("traf");if(void 0 === v || void 0 === v.yj)return !1;A=v.vh("tfdt");if(void 0 === A)return !1;x=v.vh("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;u=this.Ta.moof;if(!u || 0 === u.length)return !1;if(void 0 !== h){y=h;for(h=0;h < u.length;++h){if(!t(h,this.ac.console.trace))return !1;if(x.Ab > y || n && x.Ab === y)break;y-=x.Ab;}}else if((h=n?u.length - 1:0,!t(h,this.ac.console.trace)))return !1;if(n && h < u.length - 1){z=u[h + 1];this.ac.ue(this.Jtb - z.startOffset,z.startOffset);}else !n && 0 < h && this.ac.ue(w.startOffset,0);z=v.vh("tfhd");if(void 0 === z)return !1;A=v.vh("tfdt");B=x.Ab;D=v.vh("saiz");E=v.vh("saio");F=v.vh(k.CP);C=v.vh("sbgp");if(!(!D && !E || D && E))return !1;G=v.vh("sdtp");if(this.Ta.mdat && h < this.Ta.mdat.length)J=this.Ta.mdat[h];else if(h !== u.length - 1)return !1;void 0 === y && (y=n?x.Ab:0);if(x.na(v,z,J || this.ac,m,y,v.yj,n))x.iy && (!n && A && A.na(x.Ksa),D && E && (D.na(x.bq,n),E.na(F?0:D.YG,v.yj,n)),F && F.na(x.bq,n),G && G.na(x.bq,B,n),C && C.na(x.bq,n));else if(!n){if(h === u.length - 1)return !1;this.ac.ue(u[h + 1].startOffset - w.startOffset,w.startOffset);}else if(0 === x.bq)return !1;q && (m=this.Vca(this.stream.profile,p)) && x.ira(v,z,J,n,q,m);n=this.ac.na();q=n.reduce(function(K,H){return K + H.byteLength;},0);n={jd:n,length:q,Vm:this.ac.view.byteLength};x.iy && !J && (n.Vp=v.yj + x.Vp,n.vi=x.vi);return n;};r.exports={tq:f,Wy:function(h){var m,n;m=new ArrayBuffer(8);n=new DataView(m);n.setUint32(0,h + 8);n.setUint32(4,g("mdat"));return m;}};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(23);r=a(291);f=a(290);a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.na=function(d){var g,h,m,n;g=this;if(!this.parse().done)return !1;h=this.Ta.moov;if(!h || 0 === h.length)return !1;m=h[0].cl("tenc");if(!m)return !1;n=new Uint8Array(m.Ni);d.forEach(function(q){for(var p=q.from,t=!0,u=0;u < p.length;u++){if(n[u] !== p[u]){t=!1;break;}}t && g.ac.Lt(q.from.length,q.to,m.aG);});return f.concat(this.ac.na());};return l;})(r.sq);b.sI=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=b.hm || (b.hm={});r[r.Sb=0]="AUDIO";r[r.Eb=1]="VIDEO";},function(r,b){function a(f,k,l){var d,g,h,m;d=[];f.forEach(function(n){-1 == d.indexOf(n.Jg) && d.push(n.Jg);});g=null;h=null;k.forEach(function(n){null === g?h=g=n.bitrate:h < n.bitrate?h=n.bitrate:g > n.bitrate && (g=n.bitrate);});m=[];d.forEach(function(n){var q;q={ranges:[],profile:n};g && h && (q.ranges.push({min:g,max:h}),l && (q.disallowed=l.filter(function(p){return p.stream.Jg === n;}).map(function(p){return {stream:{bitrate:p.stream.bitrate},disallowedBy:p.g2};})),m.push(q));});return m;}function c(f,k){var l;l=void 0;f=f.filter(function(g){var h;h=k(g);h && (l=l || [],l.push({stream:g,g2:h}));return !h;});for(var d=0;d < f.length;d++){f[d].lower=f[d - 1];f[d].SDb=f[d + 1];}return {GB:f,bvb:l};}Object.defineProperty(b,"__esModule",{value:!0});b.avb=b.Cs=b.utb=b.pVa=void 0;b.pVa=function(f,k){k=c(f,k);return a(f,k.GB,k.bvb);};b.utb=a;b.Cs=c;b.avb=function(f){if(f.lower && 1080 < f.height)return ["Prefetch UHD"];};},function(r,b,a){var f,k;function c(l,d){l=f.Ac.call(this,l) || this;l.Qna=d;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.SEa=void 0;f=a(105);k=a(86);la(c,f.Ac);c.prototype.set=function(l){f.Ac.prototype.set.call(this,k.Co(l,0,this.Qna));};b.SEa=c;},function(r,b,a){var k,l,d,g,h,m,n,q;function c(p,t,u,w,v){var x;x=this;this.si=p;this.config=u;this.cb=w;this.debug=v;this.P6=[];this.kr=[];this.Spa=[];this.TE={};this.RQa=!1;this.JR={};this.bma=0;this.log=t.Cb("PlayTimeTracker");this.startTime=this.si.mediaTime.value;this.n5=this.config().Tkb;this.JX();this.TE.abrdel=0;this.n5.forEach(function(y){y="abrdel" + y;x.JR[y]=0;x.TE[y]=0;});}function f(){}Object.defineProperty(b,"__esModule",{value:!0});b.HEa=void 0;r=a(1);k=a(0);l=a(8);d=a(14);g=a(89);a(4);h=a(26);m=a(91);n=a(12);q=a(24);f.prototype.encode=function(p){return {key:p.key,downloadableId:p.Dd,bitrate:p.bitrate,vmaf:p.wb,duration:p.duration,metric:p.NU,cdnId:p.u1};};f.prototype.decode=function(p){return {key:p.key,Dd:p.downloadableId,bitrate:p.bitrate,wb:p.vmaf,duration:p.duration,NU:p.metric,u1:p.cdnId};};c.prototype.LT=function(){var p;this.pH(this.si.mediaTime.value);p=0;this.kr.forEach(function(t){p+=(t.endTime - t.startTime) / t.rate;});return Math.floor(p);};c.prototype.kVa=function(){var p;this.pH(this.si.mediaTime.value);p=0;this.kr.forEach(function(t){p+=t.endTime - t.startTime;});this.debug.assert(p === Math.floor(p),"Value of totalContentPlayTime is not an integer.");return Math.floor(p);};c.prototype.lzb=function(){this.pH(this.si.mediaTime.value);return {audio:this.vT(this.P6,this.BTa),video:this.vT(this.kr,this.BTa)};};c.prototype.KBb=function(){var p;p={total:this.LT(),totalContentTime:this.kVa(),audio:this.vT(this.P6,this.m3),video:this.vT(this.kr,this.m3),timedtext:this.vT(this.Spa,this.m3)};this.debug.assert(!(!p.audio || !p.video));return p;};c.prototype.ZSa=function(){var p,t;this.pH(this.si.mediaTime.value);p=this.Bja(this.kr,this.zzb);try{t=this.$Sa(p);}catch(u){return (this.log.warn("Failed to calc average bitrate."),null);}this.TE.abrdel=Math.round(t);return this.TE.abrdel;};c.prototype.rzb=function(){var p,t;this.pH(this.si.mediaTime.value);p=this.Bja(this.kr,this.VCb);try{t=this.$Sa(p);}catch(u){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(t);};c.prototype.qzb=function(){var p,t;p=this;if(!this.RQa){t=this.LT();this.n5.forEach(function(u){var w,v,x;if(0 === p.JR["abrdel" + u] && t > u * n.Jk){w=0;v=0;x=0;p.kr.some(function(y){w+=y.stream.bitrate * (y.endTime - y.startTime);v+=y.endTime - y.startTime;x=y.stream.bitrate;if(v > u * n.Jk)return !0;});w && (p.JR["abrdel" + u]=Math.round((w - x * (v - u * n.Jk)) / (u * n.Jk)));}});0 !== this.JR["abrdel" + this.n5[this.n5.length - 1]] && (this.RQa=!0);q.de(this.JR,function(u,w){p.TE[u]=0 === w?p.TE.abrdel:w;});}return this.TE;};c.prototype.mlb=function(p){this.bma+=p;};c.prototype.IDb=function(){return ! !(this.kr[0] && this.kr[0].stream && this.cb.eg(this.kr[0].stream.wb));};c.prototype.JX=function(){var p;p=this;this.si.Rg.addListener(function(t){p.vK=p.lOa(p.vK,p.P6,t.newValue);});this.si.Uf.addListener(function(t){p.yK=p.lOa(p.yK,p.kr,t.newValue);});this.si.playbackRate.addListener(function(t){p.pH(p.si.mediaTime.value,t.oldValue);});this.si.Tk.addListener(this.vLb.bind(this));};c.prototype.VKb=function(p,t){this.pH(p);this.startTime=t;this.yK=this.vK=void 0;this.xK && (this.xK.startTime=this.startTime);!1;};c.prototype.vLb=function(p){this.QV(this.xK,this.Spa,this.si.mediaTime.value);this.xK=p.newValue?{track:p.newValue,startTime:this.si.mediaTime.value,endTime:g.rA}:void 0;};c.prototype.pH=function(p,t){t=void 0 === t?this.si.playbackRate.value:t;p && this.vK && this.yK && (p=Math.min(p,this.vK.endTime,this.yK.endTime),this.QV(this.vK,this.P6,p,t),this.vK.startTime=p,this.QV(this.yK,this.kr,p,t),this.yK.startTime=p,this.xK && (this.QV(this.xK,this.Spa,p,t),this.xK.startTime=p),this.startTime=p,!1);};c.prototype.lOa=function(p,t,u){p && this.QV(p,t,Math.min(p.endTime,this.si.mediaTime.value));if(u && u.stream)return (p=u.Nq,t=u.stream,{pc:u.pc,track:t.track,stream:t,startTime:Math.max(p.startTime,this.startTime),endTime:p.endTime});};c.prototype.QV=function(p,t,u,w){w=void 0 === w?this.si.playbackRate.value:w;p && u && u >= p.startTime && (p={pc:p.pc,track:p.track,stream:p.stream,startTime:p.startTime,endTime:u,rate:w},(u=t[t.length - 1]) && u.track === p.track && u.stream === p.stream && u.pc === p.pc && u.endTime === p.startTime && u.rate === p.rate?u.endTime=p.endTime:t.push(p),!1);};c.prototype.Bja=function(p,t){var u,w;u=this;w={};return p.reduce(function(v,x){var y,z,A;y=t.bind(u,x)();z=y.key;x=x.endTime - x.startTime;A=w[z];A?A.duration+=x:(delete y.key,A=y,A.duration=x,v.push(A),w[z]=A);return v;},[]);};c.prototype.vT=function(p,t){return this.Bja(p,t).map(function(u){return new f().encode(u);});};c.prototype.m3=function(p){var t,u,w;t=p.stream;if(t){p=t.Dd;u=t.bitrate;w=t.wb;}else p=p.track.Dd;return {key:p + "$" + (u || 0),Dd:p,bitrate:u,wb:w};};c.prototype.BTa=function(p){var t;t=this.m3(p);p=p.pc.id;return Object.assign({},t,{key:t.key + "$" + p,u1:p});};c.prototype.zzb=function(p){p=(p=p.stream)?p.bitrate:0;return {key:p,NU:p};};c.prototype.VCb=function(p){p=(p=p.stream)?p.wb:0;return {key:p,NU:p};};c.prototype.$Sa=function(p){var t,u,w;t=this;u=0;p.forEach(function(v){if(t.cb.eg(v.duration) && t.cb.eg(v.NU))u+=v.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!u)return 0;w=0;p.forEach(function(v){w+=v.NU * v.duration / u;});return w;};a=c;a=r.__decorate([k.R(),r.__param(1,k.l(l.Jb)),r.__param(2,k.l(d.Zc)),r.__param(3,k.l(h.If)),r.__param(4,k.l(m.eu))],a);b.HEa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GEa="PlayTimeTrackerFactorySymbol";},function(r,b,a){var f,k;function c(l,d,g,h,m,n,q,p,t,u,w){this.index=l;this.K=d;this.va=g;this.ib=h;this.ca=m;this.Wl=n;this.lna=q;this.Cqb=t;this.vZa=w;this.Ud=new f.Ac(null);this.Sh=new f.Ac(null);this.Sc=new f.Ac(null);this.Tk=new f.Ac(null);this.Yt=new f.Ac(void 0);this.ng=new f.Ac(null);this.fk=new f.Ac(null);this.Rg=new f.Ac(null);this.Uf=new f.Ac(null);this.pc=[new f.Ac(null),new f.Ac(null)];this.mediaTime=new f.Ac(void 0);this.playbackRate=new f.Ac(1);this.gp=new f.Ac(null);this.YE=this.XE="notcached";this.background=!1;p && (this.ng.set(p.ng.value),this.fk.set(p.fk.value));this.ho=u(this);this.Vl=this.vZa.rQb(this.ca,this.Wl);}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=void 0;f=a(105);k=a(4);c.prototype.Od=function(l){this.Vl.Zo(l);};c.prototype.Dy=function(l){var d;d=this;Object.entries(l).forEach(function(g){var h;h=aa(g);g=h.next().value;h=h.next().value;d.Vl.Zo(g,k.xc(h - d.Wl.ea(k.ma)));});};c.prototype.o6=function(){this.vZa.JQb(this.ca);};Xa.Object.defineProperties(c.prototype,{ie:{configurable:!0,enumerable:!0,get:function(){return this.ib.ie;}},V8:{configurable:!0,enumerable:!0,get:function(){return this.ib.V8;}},Ll:{configurable:!0,enumerable:!0,get:function(){return this.Wc && this.Wc.Ll;}},fp:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Wc && this.Wc.fp) && void 0 !== l?l:[];}},wo:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Wc && this.Wc.wo) && void 0 !== l?l:[];}},Qz:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Wc && this.Wc.Qz) && void 0 !== l?l:[];}},bm:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Wc && this.Wc.bm) && void 0 !== l?l:[];}},Vi:{configurable:!0,enumerable:!0,get:function(){return this.Wc && this.Wc.Vi;}},hC:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Wc && this.Wc.hC) && void 0 !== l?l:!1;}},Ht:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Wc && this.Wc.Ht) && void 0 !== l?l:[];}},Wk:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Wc && this.Wc.Wk) && void 0 !== l?l:[];}},Ux:{configurable:!0,enumerable:!0,get:function(){return this.vca && 0 < this.vca.ea(k.ma)?this.vca:k.xc(this.sa?this.sa.bd.duration:0);},set:function(l){this.vca=l;}},Fk:{configurable:!0,enumerable:!0,get:function(){return this.ib.Fk || 0;}},nha:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.H1?this.H1:void 0 === this.mediaTime.value?null:this.Cqb(this.mediaTime.value,this.va);}},Dj:{configurable:!0,enumerable:!0,get:function(){var l,d;return null === (d=null === (l=this.sa) || void 0 === l?void 0:l.bd.hOa) || void 0 === d?void 0:d.Nv;}},hH:{configurable:!0,enumerable:!0,get:function(){var l,d;return null === (d=null === (l=this.sa) || void 0 === l?void 0:l.bd.hOa) || void 0 === d?void 0:d.hH;}},cd:{configurable:!0,enumerable:!0,get:function(){return this.Vl.cd;}}});b.UEa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XHa="TrickPlayParserSymbol";},function(r,b,a){var f,k,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.WHa=void 0;r=a(1);k=a(162);a=a(0);c.prototype.parse=function(d){var g,h;if(!d)throw Error("invalid array buffer");g=new Uint8Array(d);h=new k.IO(g);d=this.PMb(h);g=this.RMb(h,g,d);return {header:d,images:g};};c.prototype.PMb=function(d){var g,h,m,n;if(d.Aka() < this.nRb())throw Error("array buffer too short");f.zBa.forEach(function(q){if(q != d.wz())throw Error("BIF has invalid magic.");});g=d.TM();if(g > f.VERSION)throw Error("BIF version in unsupported");h=d.TM();if(0 == h)throw Error("BIF has no frames.");m=d.TM();n=d.qh(f.OFa);return {version:g,kLb:h,W5a:m,K2a:n};};c.prototype.RMb=function(d,g,h){var q,p;for(var m=[],n=0;n <= h.kLb;n++){q={timestamp:d.TM(),offset:d.TM()};void 0 != p && m.push(g.subarray(p.offset,q.offset));p=q;}return m;};c.prototype.nRb=function(){return f.zBa.length + 4 + 4 + 4 + f.OFa;};l=f=c;l.zBa=[137,66,73,70,13,10,26,10];l.VERSION=0;l.OFa=44;l=f=r.__decorate([a.R()],l);b.WHa=l;},function(r,b,a){var f,k,l;function c(d,g,h){this.config=d;this.j=g;this.Ag=h;this.BV=void 0;this.I6=!1;this.Oma=0;this.log=this.Ag.Cb();}Object.defineProperty(b,"__esModule",{value:!0});b.xGa=void 0;f=a(17);k=a(4);l=a(86);c.prototype.sBb=function(d,g,h,m,n){var q,p,t,u;h=void 0 === h?this.j.va:h;m=void 0 === m?!1:m;q=g === f.me.LI;p=this.Aob(q?d:this.Fpb(d,h),m,h);m=this.j.Pa;q?(d=p,p=m.As(p)):d=m.rK(h,p);g === f.me.Hw && (this.j.CNa=p);n=this.gi(d,g,n);t=(q=q || n)?d:p;if(this.j.xt){u=this.config().AG;this.j.zVa(t,u) || g !== f.me.xA || (t=this.j.xt.ea(k.ma) - u - 1E3,q?(d=t,p=m.As(t)):(d=m.rK(h,t),p=t));}return {g6:t,Cj:p,TNb:d,gi:n};};c.prototype.Aob=function(d,g,h){d=this.aGb() || g?Math.round(d):this.j.Pa.Xfa(d,h);this.j.ib.fl && (d=this.uyb(d));this.config().Ura && (d+=this.config().Ura);return d;};c.prototype.gi=function(d,g,h){if(this.config().$ub || g === f.me.Hw || g === f.me.UP || g === f.me.FY || !h || d < h.start.ea(k.ma) || d >= h.end.ea(k.ma))return !1;g=this.j.Pa;return (null === g || void 0 === g?void 0:g.Bh) && g.gi(d) || !1;};c.prototype.aGb=function(){return this.j.ib.fl?!0:"boolean" === typeof this.j.ib.IV?this.j.ib.IV:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().IV && this.config().mOb:this.config().IV;};c.prototype.Fpb=function(d,g){var h;g=this.j.Cp(g);h=g.Ux;g=(g.$Ib || h).ea(k.ma) - this.config().rZb;return l.Co(d,0,g);};c.prototype.uyb=function(d){var g,h,m;g=this.j.qT();if(Object.values(g).find(function(n){var q;q=n.Fc;q=d < (null !== q && void 0 !== q?q:Infinity);return n.jc <= d && q;}))return (!1,d);m=d;Object.entries(g).forEach(function(n){var q;n=aa(n);n.next();n=n.next().value.jc;q=n - d;0 < q && (void 0 === h || q < h) && (h=q,m=n);});!1;return m;};Xa.Object.defineProperties(c.prototype,{rma:{configurable:!0,enumerable:!0,get:function(){return this.I6 || ! !this.BV;}}});b.xGa=c;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v;function c(x,y,z,A,B,D){var E;E=this;this.j=x;this.ji=y;this.uX=z;this.Rd=A;this.LW=B;this.zm=D;this.ZPa={};this.update=function(){var F;if(E.po.selectionStart == E.po.selectionEnd){F="";E.p3().forEach(function(C){F=F?F + "\n":"";Object.entries(C).forEach(function(G){var J;J=aa(G);G=J.next().value;J=J.next().value;F+=G + ": " + J + "\n";});});E.po.style.fontSize=d.Co(h.Jw(E.element.clientHeight / 60),8,18) + "px";E.po.value=F;}};this.JLb=function(){var F,C;if(E.j.Bg){C=E.j.Bg.DF();C && (E.oha=C - (null !== (F=E.d6a) && void 0 !== F?F:0),E.d6a=C,E.vM());}};this.vM=function(){E.uX.ql(E.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == q.ku.V9a || F.keyCode == q.ku.Q) && E.toggle();};this.S0a=[x.mediaTime,x.pc[f.Pb.Ra.Sb],x.pc[f.Pb.Ra.Eb],x.Rg,x.Uf,x.fk,x.ng,x.Tk,x.state,x.Jq,x.bc,x.volume,x.muted];this.element=this.Rd.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.po=this.Rd.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.po);this.controls=this.Rd.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.Rd.createElement("button",void 0,"X");y.addEventListener("click",function(){return E.Yq();},!1);this.controls.appendChild(y);l.mf.addListener(l.SB,this.onkeydown);x.addEventListener(n.Z.xg,function(){l.mf.removeListener(l.SB,E.onkeydown);E.Yq();});}Object.defineProperty(b,"__esModule",{value:!0});b.PEa=void 0;f=a(53);k=a(63);l=a(64);d=a(86);g=a(281);h=a(11);m=a(18);n=a(17);q=a(128);p=a(4);r={};t=(r[n.Kb.AI]="Not Loaded",r[n.Kb.LOADING]="Loading",r[n.Kb.$d]="Normal",r[n.Kb.CLOSING]="Closing",r[n.Kb.CLOSED]="Closed",r);r={};u=(r[n.df.$d]="Normal",r[n.df.Yc]="Pre-buffering",r[n.df.oGa]="Network stalled",r);r={};w=(r[n.Db.Gg]="Waiting for decoder",r[n.Db.Hc]="Playing",r[n.Db.$h]="Paused",r[n.Db.hu]="Media ended",r);v=[n.Z.B5,n.Z.rnb];c.prototype.OSb=function(x){this.ZPa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.fFb=pb.setInterval(this.JLb,1E3),document.body.appendChild(this.element),this.S0a.forEach(function(y){y.addListener(x.vM);}),v.forEach(function(y){x.j.addEventListener(y,x.vM);}),this.visible=!0,this.zm.UW().then(function(y){x.lla=y;x.vM();}));this.update();};c.prototype.Yq=function(){var x;x=this;this.visible && (clearInterval(this.fFb),this.d6a=this.oha=void 0,document.body.removeChild(this.element),this.S0a.forEach(function(y){y.removeListener(x.vM);}),v.forEach(function(y){x.j.removeEventListener(y,x.vM);}),this.uX.ql(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Yq():this.show();};c.prototype.p3=function(){var x,y,z,A,B,D,E,F,C,G,J,K,H,L,P,I,O,N,M,Q,S,fa,qa,xa,ua,X,sa,T,R,ca,ja,Pa,wa,Ua,Va,cb,Ya,kb,$a;C=[];G=this.ji();C.push({Version:"6.0032.428.911",Esn:G?G.ki:"UNKNOWN",PBCID:this.j.Dj,UserAgent:h.vA});try{J={MovieId:this.j.K,TrackingId:this.j.Fk,Xid:this.j.ca + " (" + k.Fo.map(function(Ra){return Ra.ca;}).join(", ") + ")",Position:d.Zh(this.j.mediaTime.value),Duration:d.Zh(this.j.Ux.ea(p.ma)),PlayerDuration:d.Zh(this.j.xt.ea(p.ma)),Volume:h.Bi(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.ib.fl || this.j.ib.O4)(J["Segment Position"]=d.Zh(this.j.NB()),J.Segment=this.j.tka());C.push(J);}catch(Ra){}try{K=this.j.Mm?this.j.Mm.bEb():void 0;C.push({"Player state":t[this.j.state.value],"Buffering state":u[this.j.Jq.value] + (m.ya(K)?", ETA:" + d.Zh(K):""),"Rendering state":w[this.j.bc.value]});}catch(Ra){}try{H=this.j.vua() + this.j.gfa();L=this.j.Rg.value;P=null === L || void 0 === L?void 0:L.stream;I=this.j.Uf.value;O=null === I || void 0 === I?void 0:I.stream;N=null !== (x=null === P || void 0 === P?void 0:P.bitrate) && void 0 !== x?x:"?";M=O?O.bitrate + " (" + O.width + "x" + O.height + ")":"?";Q=null !== (y=null === O || void 0 === O?void 0:O.wb) && void 0 !== y?y:"?";S=null !== (A=null === (z=this.j.ng.value) || void 0 === z?void 0:z.wb) && void 0 !== A?A:"?";fa=null !== (D=null === (B=this.j.fk.value) || void 0 === B?void 0:B.bitrate) && void 0 !== D?D:"?";qa=null !== (F=null === (E=this.j.ng.value) || void 0 === E?void 0:E.bitrate) && void 0 !== F?F:"?";xa=this.j.pc[f.Pb.Ra.Eb].value;ua=this.j.pc[f.Pb.Ra.Sb].value;C.push({"Playing bitrate (a/v)":N + " / " + M,"Playing/Buffering vmaf":Q + "/" + S,"Buffering bitrate (a/v)":fa + " / " + qa,"Buffer size in Bytes (a/v)":this.j.gfa() + " / " + this.j.vua(),"Buffer size in Bytes":"" + H,"Buffer size in Seconds (a/v)":d.Zh(this.j.AR()) + " / " + d.Zh(this.j.yX()),"Current CDN (a/v)":(ua?ua.name + ", Id: " + ua.id:"?") + " / " + (xa?xa.name + ", Id: " + xa.id:"?")});}catch(Ra){}try{if(this.j.Rg.value && this.j.Uf.value){X=this.j.Rg.value.stream;sa=X.track;T=this.j.Uf.value.stream;R=this.j.Tk.value;ca=this.LW.P1(this.j.Sh.value?this.j.Sh.value.streams:[]);ja=this.LW.M1(sa.streams);Pa=T.Jg;wa=(/hevc/).test(Pa)?"hevc":(/vp9/).test(Pa)?"vp9":(/h264hpl/).test(Pa)?"avchigh":"avc";(/hdr/).test(Pa) && (wa+=", hdr");(/dv/).test(Pa) && (wa+=", dv");(/prk/).test(Pa) && (wa+=", prk");Ua=X.Jg;Va=(/xheaac/).test(Ua)?"xhe-aac":(/heaac/).test(Ua)?"he-aac":(/ddplus/).test(Ua)?"ddplus":"unknown";(/atmos/).test(Ua) && (Va+=", atmos");C.push({"Audio Track":sa.ym + ", Id: " + sa.trackId + ", Channels: " + sa.channels + ", Codec: " + ja + " (" + Va + ")","Video Track":"Codec: " + ca + " (" + wa + ")","Timed Text Track":R?R.ym + ", Profile: " + R.profile + ", Id: " + R.trackId:"none"});}}catch(Ra){}try{cb=this.j.Bg;Ya=this.j.ng.value?this.j.ng.value.framerate:0;kb=a(520).uYa;C.push({Framerate:Ya.toFixed(3),"Current Dropped Frames":m.ya(this.oha)?this.oha:"","Total Frames":cb.JB(),"Total Dropped Frames":cb.DF(),"Total Corrupted Frames":cb.sT(),"Total Frame Delay":cb.o3(),"Main Thread stall/sec":kb?kb.JAb().join(" "):"DISABLED",VideoDiag:g.zna(this.j.L3()),"HDR support":this.lla?this.lla.result + " (" + this.lla.reason + ")":"unknown"});}catch(Ra){}try{C.push({Throughput:this.j.Oa + " kbps"});}catch(Ra){}$a=void 0;try{Object.entries(this.ZPa).forEach(function(Ra){var ya;ya=aa(Ra);Ra=ya.next().value;ya=ya.next().value;$a=$a || ({});$a[Ra]=JSON.stringify(ya);});$a && C.push($a);}catch(Ra){}return C;};b.PEa=c;},function(r,b,a){var k,l,d,g;function c(h,m,n,q){this.ca=h;this.kRb=m;this.za=n;this.Nf=q;this.cd={};}function f(h,m){this.Ag=h;this.Nf=m;this.yd={};this.za=h.Cb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.REa=void 0;r=a(1);k=a(0);l=a(8);d=a(19);g=a(4);f.prototype.rQb=function(h,m){this.yd[h] && this.za.warn("registerPlayback: xid " + h + " already registered, overriding");m=(m?m:this.Nf.Wb()).ea(g.ma);this.za.trace("registerPlayback: xid " + h + " at " + m);this.yd[h]=new c(h,m,this.za,this.Nf);return this.yd[h];};f.prototype.MBb=function(h){this.yd[h] || this.za.warn("getPlaybackMilestones: xid " + h + " is not registered");return this.yd[h];};f.prototype.JQb=function(h){this.za.trace("removePlayback: xid " + h);delete this.yd[h];};a=f;a=r.__decorate([k.R(),r.__param(0,k.l(l.Jb)),r.__param(1,k.l(d.rd))],a);b.REa=a;c.prototype.Zo=function(h,m){m=m?m.ea(g.ma):this.Nf.Wb().ea(g.ma) - this.kRb;this.za.trace("addMilestone: xid " + this.ca + " " + h + " at " + m);this.cd[h]=m;};},function(r,b,a){var f,k,l,d;function c(g){this.Ha=g;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.cGa=void 0;r=a(1);f=a(17);k=a(0);l=a(19);d=a(4);c.prototype.Yl=function(g){g.cause !== f.me.Hw && (this.trace.unshift({time:this.Ha.Wb(),event:g}),5 < this.trace.length && this.trace.pop());};c.prototype.cVa=function(){var g,h;g=this;if(0 === this.trace.length)return {};h=this.trace[0];return {timeSinceLastRepositionMs:this.S5a(h.time),lastRepositionCause:this.jTa(h.event.cause),repositionTrace:this.trace.map(function(m){return {timeSince:g.S5a(m.time),cause:g.jTa(m.event.cause),newMediaTime:m.event.g6,oldMediaTime:m.event.bpa,contentPts:m.event.Cj,skip:m.event.skip};})};};c.prototype.S5a=function(g){return this.Ha.Wb().Aa(g).ea(d.ma);};c.prototype.jTa=function(g){switch(g){case f.me.Hw:return "initial";case f.me.xA:return "seek";case f.me.LI:return "segment_changed";case f.me.UP:return "track_changed";case f.me.FY:return "force_rebuffer";}};a=c;a=r.__decorate([k.R(),r.__param(0,k.l(l.rd))],a);b.cGa=a;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v;function c(x,y,z){var A;A=this;this.ob=x;this.j=y;this.debug=z;this.Cq=this.Bh=this.LA=!1;this.sm=void 0;this.Lr=new Map();this.fs=void 0;this.Ve=function(){var B,D,E,F,C,G;A.debug.assert(A.qa,"has access to asePlaygraph");A.debug.assert(A.Rc,"has access to internalLogger");A.debug.assert(A.kt,"has access to mediaBufferGetLogFields");if(A.cf.value !== f.ka.wq && A.cf.value !== f.ka.Ci){C=A.Hn;G=null === (D=null === (B=A.Hb.get()) || void 0 === B?void 0:B.Oa) || void 0 === D?void 0:D.Ca;B={type:"logdata",target:"startplay",fields:{hasasereport:A.j.KK,hashindsight:!1,buffCompleteReason:C.reason,actualbw:G,initSelReason:null !== (E=C.initSelReason) && void 0 !== E?E:"unknown",bcVBufferLevelMs:C.vBufferLevelMs,bcABufferLevelMs:C.aBufferLevelMs}};h.efa({TRa:B,Jj:A.Jj,loadTime:A.loadTime});A.qa.H8("startplay",l.ae.Vt);null !== (F=A.Ia) && void 0 !== F && F.Tn?(A.Rc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:C},A.kt()),A.j.Hn=C,A.j.Jq.set(m.df.$d),A.kyb || (A.kyb=!0,A.j.Od("pb")),A.play()):A.Rc.error("Shim received buffering complete but player has no position (player " + (A.Ia?"":"un") + "defined, state " + A.j.state + ")");}};this.FR=function(){var B,D;A.debug.assert(A.Rc,"has access to internalLogger");!1;A.sm=void 0;A.j.paused.value && A.CM && (A.CM=!1,A.j.paused.set(!1,{Joa:!0}));null === (B=A.j.Bg) || void 0 === B?void 0:B.fqb();null === (D=A.jV) || void 0 === D?void 0:D.call(A);A.jV=void 0;};this.events=new v();}Object.defineProperty(b,"__esModule",{value:!0});b.nva=void 0;f=a(53);k=a(16);l=a(274);d=a(62);g=a(3);h=a(1149);m=a(17);n=a(13);q=a(18);p=a(4);t=a(1150);u=a(86);w=a(105);v=a(109).EventEmitter;c.prototype.m1=function(){};c.prototype.Lc=function(){var x;this.Cq=!1;this.Hb.vN(null);this.debug.assert(this.cj,"has access to streamingEngine");this.qa && this.cj.Kt(this.qa);this.Ia && this.cj.XM(this.Ia);this.cj.cra(this.Lr.get(this.ob.ga.aa));this.Lr.clear();null === (x=this.Ri) || void 0 === x?void 0:x.mp();};c.prototype.CTb=function(x){var y,z,A,B,D,E,F,C,G,J,K,H,L;y=x.config;z=x.vm;A=x.Rc;B=x.we;D=x.kt;E=x.mi;F=x.AW;x=x.eH;this.Rc=A;this.kt=D;this.AW=F;this.eH=x;D=this.j.ga;this.debug.assert(D,"has a playback segment");this.debug.assert(y,"has access to config");this.debug.assert(B,"has access to utils");this.debug.assert(E,"has access to getCategoryLog");this.debug.assert(z,"has access to aseGlobals");this.debug.assert(z.cj,"has access to streamingEngine");this.debug.assert(D.sa,"has access to manifest");this.cj=z.cj;z.Cd.set(a(181)(y),!0,E("ASE"));z.Cd.set({maxNumberTitlesScheduled:null !== (G=null === (C=y.iOb) || void 0 === C?void 0:C.maxNumberTitlesScheduled) && void 0 !== G?G:1},!0,A);y.Nqb && 3E5 > D.sa.bd.duration?z.Cd.tV({expandDownloadTime:!1},!0,A):z.Cd.tV({expandDownloadTime:z.Cd.H0a().expandDownloadTime},!0,A);y=D.background || y.gOb && "postplay" === D.ie?"historical":z.Cd.H0a().initBitrateSelectorAlgorithm;z.Cd.tV({initBitrateSelectorAlgorithm:y},!0,A);y=null === (L=null === (H=null === (K=null === (J=D.Sh) || void 0 === J?void 0:J.value) || void 0 === K?void 0:K.streams) || void 0 === H?void 0:H[0]) || void 0 === L?void 0:L.Jg;z.Cd.tV(n.cPa(! !D.ib.fl,! !D.ib.O4,y),!0,A);A=B.oG({},n.Mga(D.ie));this.Cd=z.Cd.Bs(A);f.platform.events.emit("networkchange",D.Wc.FSb);this.LA=!0;};c.prototype.t4=function(x){var y,z;this.debug.assert(this.cj,"has access to streamingEngine");y=this.j.Cp(x.va);this.debug.assert(y.Wc,"has access to playback parsedManifest");z=x.flags;this.Hb.reset();this.Fd=new Set([f.Pb.Ra.Sb,f.Pb.Ra.Eb]);(z.cD || z.DR) && this.Fd.delete(z.cD?f.Pb.Ra.Sb:f.Pb.Ra.Eb);this.XN=[y.Wc.hub,y.Wc.pub];this.kS(x.va,x.cv);this.TEb(x);this.dha();};c.prototype.sX=function(x){var y;null === (y=this.qa) || void 0 === y?void 0:y.sX(x);};c.prototype.Dnb=function(x){var y,z,A,B;y=this;z=x.loadTime;A=x.Jj;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ia,"has access to asePlayer");this.Jj=A;this.loadTime=z;x=this.qa.events;B=this.Ia.events;x.addListener("error",function(D){"NFErr_MC_StreamingFailure" === D.error && (y.Rc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),y.Rc.trace("StreamingFailure, buffer status:" + JSON.stringify(y.kt())),d.fg(function(){y.j.Kd(g.M.i8a,{oa:D.nativeCode,rb:D.errormsg,mk:D.httpCode,b6:D.networkErrorCode});}));});x.addListener("logdata",function(D){var E;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (E=y.qa) || void 0 === E?void 0:E.QE,h.efa({TRa:D,Jj:A,loadTime:z}));});x.addListener("bufferingStarted",function(){y.j.Jq.set(m.df.Yc);});x.addListener("bufferingComplete",function(D){y.Hn=D;});this.j.paused.addListener(function(D){var E;y.debug.assert(y.Rc,"has access to internalLogger");null !== (E=D.dv) && void 0 !== E && E.Joa || !y.LA || (D.newValue && y.cf.value === f.ka.Hc?(y.cf.set(f.ka.$h),y.md.emit("paused",{type:"paused",pts:y.md.wc})):D.newValue || y.cf.value !== f.ka.$h || (y.cf.set(f.ka.Hc),y.md.emit("playing",{type:"playing",pts:y.md.wc})));D.newValue || (y.CM=!1);y.Rc.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:u.Zh(y.j.mediaTime.value)});});this.j.Ud.addListener(function(D){var E,F,C,G;if(y.LA)if((y.debug.assert(y.Rc,"has access to internalLogger"),D.dv && D.dv.tMa))y.Rc.trace("Not processing already applied track",null === (E=D.newValue) || void 0 === E?void 0:E.trackId);else {G=D.newValue;y.p8({ep:G.Jy,toJSON:function(){return G.oh;}})?y.Rc.trace("ASE accepted the audio track switch",null === (C=D.newValue) || void 0 === C?void 0:C.trackId):(y.Rc.trace("ASE rejected the audio track switch",null === (F=D.newValue) || void 0 === F?void 0:F.trackId),D.oldValue && D.oldValue.Jy !== G.Jy && y.j.Ud.set(D.oldValue,{tMa:!0}));}});x.addListener("serverSwitch",function(D){var E;y.j.fireEvent(m.Z.xW,D);if("video" === D.mediatype)E=f.Pb.Ra.Eb;else "audio" === D.mediatype && (E=f.Pb.Ra.Sb);q.Kc(E) && y.AW(D.segmentId,D.server,E);});x.addListener("streamSelected",function(D){var E,F,C,G;F=(null === (E=y.qa) || void 0 === E?void 0:E.TB(D.position)).gF.V;E=[];if(D.mediaType === f.Pb.Ra.Eb){C=y.j.GVa(D.streamId);G=y.j.ng;E=y.j.NF();}else D.mediaType === f.Pb.Ra.Sb && (C=y.j.xVa(D.streamId),G=y.j.fk,E=y.j.jzb());C && G?(!1,G.set(C,{vOa:F,lnb:D.bandwidth})):y.Rc.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:E,cachedManifest:y.j.YE});});x.addListener("segmentNormalized",function(D){var E,F;E=y.j.Cp(D.segmentId);F=Math.floor(D.viewableEarliestContentEnd.V);D=p.xc(Math.floor(D.viewableContentEnd.V));F=p.xc(F);E && (E.Ux=D,E.$Ib=F);y.j.xt || (y.j.xt=D);});B.addListener("segmentPresenting",function(D){var E;y.debug.assert(y.qa,"has access to asePlaygraph");y.debug.assert(y.Ia,"has access to asePlayer");y.debug.assert(y.eH,"has access to segmentPresentingHandler");E=y.qa.TB(D.position);y.eH(E.aa,!1);y.j.fireEvent(m.Z.dH,{type:"segmentPresenting",position:{segmentId:D.position.va,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});y.fs=y.Ia.Dp();});B.addListener("ptsChanged",function(){y.md.emit("skipped");});x.addListener("locationSelected",function(D){y.j.fireEvent(m.Z.Sy,D);});x.addListener("aseReportEnabled",function(){y.j.KK=!0;});x.addListener("aseReport",function(D){y.j.fireEvent(m.Z.$J,D);});};c.prototype.Dp=function(){var x,y,z,A,B,D,E,F,C;F=null === (x=this.Ia) || void 0 === x?void 0:x.X3();x=(null !== (y=this.fs) && void 0 !== y?y:F && this.Ia.Dp()) || ({});y=x.P;F=x.zj;C=x.GV;x=x.IM;return {id:String(null === y || void 0 === y?void 0:y.id),Oe:null !== (z=null === F || void 0 === F?void 0:F.V) && void 0 !== z?z:0,Mc:null !== (A=null === y || void 0 === y?void 0:y.Ug.V) && void 0 !== A?A:Infinity,vc:null !== (B=null === y || void 0 === y?void 0:y.Ml.V) && void 0 !== B?B:0,Pd:null !== (D=null === C || void 0 === C?void 0:C.V) && void 0 !== D?D:Infinity,Xc:null !== (E=null === x || void 0 === x?void 0:x.V) && void 0 !== E?E:0};};c.prototype.pT=function(){return {Oe:0};};c.prototype.y4=function(){var x,y;this.debug.assert(this.qa,"has access to asePlaygraph");x={};y=this.qa.eL();x.vbuflmsec=y.totalvbuflmsecs;x.vbuflbytes=y.vbuflbytes;x.abuflmsec=y.totalabuflmsecs;x.abuflbytes=y.abuflbytes;return x;};c.prototype.paused=function(){};c.prototype.Ppa=function(){this.md.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.md.wc});};c.prototype.p8=function(x){var y,z,A,B;y=this;this.debug.assert(this.Rc,"has access to internalLogger");this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ia,"has access to asePlayer");this.debug.assert(this.j.sa,"has access to playback manifest");if(this.FH)return (!1,!1);if(!this.j.sa.bd.audio_tracks.some(function(D,E){if(D.track_id === x.ep)return (B=E,!0);}))return (!1,!1);!1;this.sm=B;null === (z=this.j.Bg) || void 0 === z?void 0:z.GUb();(null === (A=this.Ia) || void 0 === A?0:A.Mz)?this.CM=!1:n.config.bNb && !this.j.paused.value && (this.Ia.pause([f.Pb.Ra.Sb]),this.CM=!0,this.j.paused.set(!0,{Joa:!0}));this.debug.cfa(this.sm,"has access to valid requestedAudioTrackIndex number");this.XN[f.Pb.Ra.Sb]=this.sm;this.qa.dw({xr:function(){return y.XN[f.Pb.Ra.Sb];}},{xr:function(){return y.XN[f.Pb.Ra.Eb];}});this.iq(this.FR);return !0;};c.prototype.Hr=function(){this.cf.set(f.ka.zf);this.md.emit("underflow",{type:"underflow",pts:this.md.wc});this.iq(this.Ve);};c.prototype.Zp=function(x,y){this.Zz.Zp(x,y);};c.prototype.open=function(){this.Cq || (this.debug.assert(this.qa,"has access to asePlaygraph"),this.debug.assert(this.Ia,"has access to asePlayer"),this.Cq=this.Bh=!0,this.qa.open(),this.debug.assert(this.ew,"invalid start position relative to playgraph"),this.qa.bH(this.ew),this.cf.set(f.ka.Yc),this.iq(this.Ve),this.qa.ffa(this.Ia),this.EHb());};c.prototype.play=function(){this.debug.assert(this.qa,"has access to asePlaygrah");this.debug.assert(this.Ia,"has access to asePlayer");0 !== this.qa.state && (this.Ia.resume(this.CM?[f.Pb.Ra.Eb]:void 0),this.cf.set(f.ka.Hc),this.md.emit("playing",{type:"playing",pts:this.md.wc}));};c.prototype.stop=function(){var x;this.cf.set(f.ka.wq);null === (x=this.Ia) || void 0 === x?void 0:x.pause();this.events.emit("stop");this.md.emit("paused",{type:"paused",pts:this.md.wc});};c.prototype.flush=function(){this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.cj,"has access to streamingEngine");this.Cq && this.cf.value !== f.ka.Ci && this.cf.value !== f.ka.wq && this.stop();this.qa.H8("endplay",l.ae.pp);this.qa.Cf();this.cj.mh.save();this.cj.Om.save();};c.prototype.As=function(x){var y;this.debug.assert(this.qa,"has access to asePlaygraph");y=f.S.mb(x);return (y=this.qa.mr(y,{C4a:!0,B4a:!0}))?this.qa.Da.xa[y.va].jc + Number(y.offset.V.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + x);};c.prototype.rK=function(x,y){this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Rc,"has access to internalLogger");this.qa.Da.xa[x] || (x=this.bT(y));this.debug.W0(x,"has access to segmentId");x={va:x,offset:f.S.mb(y - this.qa.Da.xa[x].jc)};if(x=this.qa.MT(x))return x.V;!1;return y;};c.prototype.Xfa=function(x,y){var z,A,B;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ia,"has access to asePlayer");y && this.qa.Da.xa[y] || (y=null !== (z=this.bT(x)) && void 0 !== z?z:null === (A=this.Ia) || void 0 === A?void 0:A.Mi.va);return null === (B=this.qa.Fm(y,x)) || void 0 === B?void 0:B.Mc;};c.prototype.gy=function(x){var y;y=void 0 === y?!0:y;this.Bh?Number.isFinite(x) && (this.debug.assert(this.Ia,"has access to asePlayer"),y?this.Ia.DW(x):this.Ia.nsa(x)):this.fail("Must call open prior to drmReady");};c.prototype.V3=function(){var x;return null !== (x=this.Ia) && void 0 !== x && x.Tn?this.Ia.Wn(this.qa.Da.xa[this.Ia.Mi.va].aa):!1;};c.prototype.gi=function(x){!1;return this.Ia?this.Ia.gi(f.S.mb(x)):(!1,!1);};c.prototype.wr=function(x,y){var z;this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ia,"has access to asePlayer");y && this.qa.Da.xa[y] || (y=null !== (z=this.bT(x)) && void 0 !== z?z:this.Ia.Mi.va);this.debug.W0(y,"has access to segmentId");this.debug.assert(this.qa.Da.xa[y],"segment exists in playgraph map");x={va:y,offset:f.S.mb(x - this.qa.Da.xa[y].jc)};this.qa.bH(x);this.Ia.resume();this.cf.set(f.ka.Yc);this.iq(this.Ve);x=this.qa.Mra(x);this.debug.assert(x,"Valid position must be provided for seek");return x.offset.V;};c.prototype.addEventListener=function(x,y){this.events.addListener(x,y);return this;};c.prototype.removeEventListener=function(x,y){this.events.removeListener(x,y);return this;};c.prototype.ZN=function(x,y){var z;z={};this.qa.zi((z[x]=y,z));};c.prototype.us=function(x,y){var z,A;this.debug.assert(this.Rc,"has access to internalLogger");this.debug.assert(this.qa,"has access to asePlaygraph");this.debug.assert(this.Ia,"has access to asePlayer");z=this.Dp().id;A=this.qa.uUa(z,x);if(y){if(!A.s7a)return (this.Rc.warn("chooseNextSegment, seamless transition, invalid destination: " + (x + " for current segment: " + z)),!1);if(void 0 !== A.nM)return (!1,A.nM === x);this.qa.Ck(z,x,!1,y);return !0;}if(void 0 !== A.nM)return (!1,!1);A.i1 && (this.Ia.reset(),this.qa.Ck(z,x,!1,y),this.Ia.resume(),this.cf.set(f.ka.Yc),this.iq(this.Ve));return ! !A.i1;};c.prototype.en=function(){var x;this.debug.assert(this.Rc,"has access to internalLogger");x=this.md.wc;!1;this.md.emit("skipped",{type:"skipped",pts:x});return new f.YD(Promise.resolve()).Dra;};c.prototype.bT=function(x){var y,z,A,B,D,E,F,C,G;this.debug.assert(this.qa,"has acccess to asePlaygraph");this.debug.assert(this.Rc,"has acccess to internalLogger");y=this.qa.Da;z=[];A=Infinity;for(B in y.xa){D=y.xa[B];E=D.jc;D=D.Fc;F=E <= x;C=x < Number(null !== D && void 0 !== D?D:Infinity);!1;if(F && C)(!1,z.push(B));else if((E=Math.min(Math.abs(x - E),Math.abs(x - D)),E < A)){A=E;G=B;}}x=z[0] || G;this.debug.W0(x,"has access to locatedSegmentId");!1;return x;};c.prototype.EHb=function(){var x,y;x=this;this.debug.assert(this.j.Lb,"has acccess to mediaElement");y=this.j.Lb.la;this.debug.assert(y,"has acccess to videoElement");y.addEventListener("play",function(){x.cf.value === f.ka.$h && (x.cf.set(f.ka.Hc),x.md.emit("playing",{type:"playing",pts:x.md.wc}));});y.addEventListener("pause",function(){x.cf.value === f.ka.Hc && (x.cf.set(f.ka.$h),x.md.emit("paused",{type:"paused",pts:x.md.wc}));});};c.prototype.fail=function(x){var y;null === (y=this.qa) || void 0 === y?void 0:y.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:x});};c.prototype.iq=function(x){var y,z,A,B,D,E,F,C;y=this;if(x !== this.FR && this.FH)this.jV=x;else {C=!0 === (null === (z=this.Ia) || void 0 === z?void 0:z.cz.value);z=(null === (A=this.qa) || void 0 === A?void 0:A.kf.value) === f.zc.ak;null === (B=this.Ia) || void 0 === B?void 0:B.cz.removeListener(this.jZa);null === (D=this.qa) || void 0 === D?void 0:D.kf.removeListener(this.ONa);C && z?x():(this.jZa=function(){return y.iq(x);},this.ONa=function(){return y.iq(x);},null === (E=this.Ia) || void 0 === E?void 0:E.cz.addListener(this.jZa),null === (F=this.qa) || void 0 === F?void 0:F.kf.addListener(this.ONa));}};c.prototype.PH=function(x){var y,z,A;y=this;A=this.j.Cp(x);return Promise.resolve(null !== (z=A.sa) && void 0 !== z?z:this.j.APb(A).then(function(){y.j.tOb(A);return A.sa;})).then(function(B){B=B.bd;return {sa:B,Ji:B.hla && !B.TT,config:y.Cd,Fd:[].concat(da(y.Fd))};});};c.prototype.kS=function(x,y){var z,A,B;this.debug.assert(this.cj,"has access to streamingEngine");z=this.ob.Ae(x).aa;if(!this.Lr.has(z)){A=this.PH.bind(this);B={nea:void 0,fOa:function(){},equals:function(D){return D.aa === z && (y.ca === D.ca || !D.ca || !y.ca);},get Lr() {this.nea || (this.nea=A(x));return this.nea;},ca:y.ca,aa:z,FB:!1};this.Lr.set(z,B);this.Cd.jy && this.cj.QC(B,{Nv:y.Nv,ca:y.ca,Rq:y.Rq});}};c.prototype.TEb=function(x){var y,z,A;y=this;z=x.cv;A=x.va;this.debug.assert(this.cj,"has access to streamingEngine");this.debug.assert(this.Rc,"has access to internalLogger");x=this.j.Cp(A);x=this.ob.B3(x);A=x.xa[A];this.debug.assert(A,"segment exists");this.ew=t.JT(A.aa,x,this.j.X,A.jc);z=Object.create(this.Cd,{kia:{value:z.Rq},ESa:{value:z.ns}});this.cf=new w.Ac(f.ka.$g);this.qa=this.cj.NE(x,this.Cd.$0a,z,{Ls:function(B){return y.Lr.get(B);}});this.Zz=new f.$D(this.Rc);z=this.qa.jF(this.Zz);x=this.qa.iF();this.qa.usa(x,z);this.qa.dw({xr:function(){return y.XN[f.Pb.Ra.Sb];}},{xr:function(){return y.XN[f.Pb.Ra.Eb];}});this.CM=!1;};c.prototype.dha=function(){var x,y;x=this;this.debug.assert(this.cj,"has access to streamingEngine");y=Object.create(this.Cd,{Fd:{value:[].concat(da(this.Fd))},BT:{value:function(){return x.y3();}}});this.md=Object.create(new k.EventEmitter(),{wc:{get:function(){x.debug.cfa(x.j.mediaTime.value,"has access to mediaTime.value");return f.S.mb(x.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(x.j.playbackRate.value,.01);}},AT:{value:function(){x.debug.assert(x.j.Lb,"has access to mediaElement");return x.j.Lb;}}});this.Ia=this.cj.YLa(this.md,y);};c.prototype.y3=function(){this.Ri || (this.Ri=new f.platform.MediaSource(this.md),this.Ri.Yb || (this.Ri.Yb=f.platform.MediaSource.Yb));return this.Ri;};Xa.Object.defineProperties(c.prototype,{FH:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.sm;}},Hb:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.cj,"has access to streamingEngine");return this.cj.Hb;}}});b.nva=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.efa=void 0;c=a(18);b.efa=function(f){var k,l,d,g;k=f.Jj;l=f.loadTime;f=f.TRa;d=c.ya(l)?l:0;g=k[f.target] || ({});k[f.target] !== g && (k[f.target]=g);Object.entries(f.fields).forEach(function(h){var m,n,q,p;m=aa(h);h=m.next().value;m=m.next().value;if("object" !== typeof m || null === m)g[h]=m;else {n=m.type;if("count" === n)(void 0 === g[h] && (g[h]=0),++g[h]);else if(void 0 !== m.value){if("array" === n){n=g[h];q=m.adjust;p=m.value;n || (n=g[h]=[]);q && 0 < q.length && q.forEach(function(t){p[t]-=d || 0;});n.push(p);}else g[h]="sum" === n?(g[h] || 0) + m.value:m.value;}else g[h]=m;}});};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.JT=void 0;c=a(53);f=a(21);b.JT=function(k,l,d,g){return l.xa[l.Qe].jc === g?(k=c.Vga(l,k,c.S.mb(d)),f.hb(k,"has valid start position relative to playgraph"),k):{va:l.Qe,offset:c.S.ab};};},function(r,b,a){var f,k,l,d,g,h,m;function c(n,q,p,t,u,w,v,x,y,z){var A;A=this;this.SWb=n;this.j=q;this.id=p;this.height=t;this.width=u;this.wNb=w;this.xNb=v;this.size=x;this.Vs=y;this.urls=z;this.type=f.Yh.Lta;this.retry=!0;this.state=g.Io.iZ;this.oh={};this.Y0={};this.hPb=function(B){if(B.W)try{A.data=A.SWb.parse(B.content);A.state=g.Io.wD;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.oh);A.j.fireEvent(h.Z.nX);}catch(D){A.state=g.Io.lDa;A.log.error("TrickPlay parse failed.",D);}else (A.state=g.Io.iZ,A.log.error("TrickPlay download failed.",m.Sr(B),A.oh));};this.log=l.jh(q,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.SHa=void 0;f=a(81);k=a(13);l=a(7);d=a(72);g=a(489);h=a(17);m=a(3);c.prototype.CAb=function(n){if(this.data && (this.Vs && (n+=this.Vs),n=Math.floor(n / this.data.header.W5a),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.W5a,height:this.height,width:this.width,pixelAspectHeight:this.wNb,pixelAspectWidth:this.xNb};};c.prototype.F3=function(){switch(this.state){case g.Io.wD:return "downloaded";case g.Io.LOADING:return "loading";case g.Io.qP:return "downloadfailed";case g.Io.lDa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.NCb();n?(this.state=g.Io.LOADING,this.uvb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.NCb=function(){var n,q,p;n=this;q=Object.keys(this.urls).find(function(t){return (n.Y0[n.urls[t]] || 0) <= k.config.OWb;});if(q){p=this.urls[q];(p in this.Y0)?this.Y0[p]++:this.Y0[p]=1;return {url:p,u1:q};}};c.prototype.uvb=function(n){this.log.trace("Downloading",n.url,this.oh);n={responseType:d.XT,pc:this.Jja(n.u1),url:n.url,track:this};this.j.g4.download(n,this.hPb);};c.prototype.Jja=function(n){return this.j.Wk.find(function(q){return q && q.id === n;});};b.SHa=c;},function(r,b,a){var f;function c(k,l,d,g){this.Tha=k;this.debug=l;this.Ha=d;this.j=g;this.F6=[];this.V5={};this.Vha={};this.Zia=!1;this.z5a=1;this.Lva=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.Kxa=void 0;f=a(4);a(17);a(18);a(72);c.prototype.register=function(k,l){this.debug.assert(!(0 <= this.F6.indexOf(k)),"panel already registered");this.V5[k]=l;this.F6.push(k);};c.prototype.t_a=function(k){var l;l=this;this.Vha[k]=!0;this.Zia || (this.Zia=!0,setTimeout(function(){return l.eyb();},0));};c.prototype.mBb=function(k){return (k=this.V5[k])?k():void 0;};c.prototype.p3=function(){var k;k=this.j.M6;return k?k.p3():[];};c.prototype.addEventListener=function(k,l){this.Tha.addListener(k,l);this.V5[k] && this.t_a(k);};c.prototype.removeEventListener=function(k,l){this.Tha.removeListener(k,l);};c.prototype.getTime=function(){return this.Ha.Wb().ea(f.ma);};c.prototype.eyb=function(){this.Zia=!1;for(var k=this.F6.length,l;k--;){l=this.F6[k];this.Vha[l] && (this.Vha[l]=!1,this.Tha.qc(l + "changed",{getModel:this.V5[l]}));}};b.Kxa=c;},function(r,b,a){var f,k,l,d,g,h,m;function c(n,q){var p;p=this;this.Vl=n;this.Vq=q;this.f6a=function(t){var u,w,v,x,y,z,A;u=p.z5a++;w=t.request.qF || "dl";v=p.jVa(w,"start");if(v){x=t.request.dz;y=x.stream.N.io;x=aa(x.stream.N.zh).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.P.id,!p.U4a.has(y))){z=p.EUa(y);A=t.pr;p.Vl.mark(v,z,A?w + "-" + A + "-" + u:w);t.yea(function(){var B,D;B=p.jVa(w,"end");D=A?w + "-" + A + "-" + u:w;B && p.Vl.mark(B,z,D);});}}};this.z5a=0;this.U4a=new Set();this.Xra=new Map();q.PS && this.lZb();}Object.defineProperty(b,"__esModule",{value:!0});b.ICa=void 0;r=a(1);f=a(0);k=a(66);l=a(70);d=a(4);g=a(72);a=a(38);h={start:{video:k.Fa.AO,audio:k.Fa.wO},end:{video:k.Fa.zO,audio:k.Fa.vO}};c.prototype.FUa=function(n){var p,t,u,w,v,x,y,z;function q(A){return d.timestamp(p.jMa(d.timestamp(A),n,!0));}p=this;t=new Set();u=n.cd;w=n.ca;v=void 0 === n.M4a?null:n.M4a;x=n.va;y=this.Vl.kUa(w);z=x && this.EUa(x);z && y.push.apply(y,da(this.Vl.kUa(z)));this.Vl.p2a(n.ca);z && this.Vl.p2a(z);x && this.U4a.add(x);x=[];("pr_ats" in u) && x.push({name:k.Fa.DZ,Er:q(u.pr_ats),ca:w,Dj:"request-pre-manifest"});("ats" in u) && x.push({name:k.Fa.BZ,Er:q(u.ats),ca:w,Dj:"request-manifest"});("pr_at" in u) && x.push({name:k.Fa.CZ,Er:q(u.pr_at),ca:w,Dj:"request-pre-manifest"});("at" in u) && x.push({name:k.Fa.AZ,Er:q(u.at),ca:w,Dj:"request-manifest"});("lg" in u) && x.push({name:k.Fa.zZ,Er:q(u.lg),ca:w,Dj:"request-license"});("lr" in u) && (x.push({name:k.Fa.yZ,Er:q(u.lr),ca:w,Dj:"request-license"}),x.push({name:k.Fa.TX,Er:q(u.lr),ca:w,Dj:"apply-license"}));("ld" in u) && x.push({name:k.Fa.SX,Er:q(u.ld),ca:w,Dj:"apply-license"});("tt_start" in u) && x.push({name:k.Fa.yO,Er:q(u.tt_start),ca:w,Dj:"request-timed-text"});("tt_comp" in u) && x.push({name:k.Fa.xO,Er:q(u.tt_comp),ca:w,Dj:"request-timed-text"});return x.concat(y).map(function(A){return p.kWb(A,n);}).filter(function(A){return A.ts <= (null !== v && void 0 !== v?v:A.ts)?("end" === A.step && t.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || t.has(A.eventId)?!0:!1;}).sort(function(A,B){return A.ts - B.ts;}).reduce(function(A,B){var D;D=B.eventName;delete B.eventName;D && (A[D]=B);return A;},{});};c.prototype.Mlb=function(n,q,p){return (void 0 === p?0:p)?n.ea(d.ma) + q.Wl.ea(d.ma):n.ea(d.ma) - q.Wl.ea(d.ma);};c.prototype.jMa=function(n,q,p){p=void 0 === p?!1:p;if(q.cm)if(p)n.ea(d.ma) + q.cm;else return n.ea(d.ma) - q.cm;return this.Mlb(n,q,p);};c.prototype.kWb=function(n,q){var p,t;p=n.Dj;t=n.name;return {eventName:this.JKb(t,p),eventId:p || t,ts:this.jMa(n.Er,q),comp:this.rT(t),cat:this.Hzb(t),step:this.vCb(t)};};c.prototype.JKb=function(n,q){switch(n){case k.Fa.yO:case k.Fa.xO:case k.Fa.wO:case k.Fa.vO:case k.Fa.AO:case k.Fa.zO:return n + "-" + q;default:return n;}};c.prototype.rT=function(n){switch(n){case k.Fa.DZ:case k.Fa.CZ:case k.Fa.BZ:case k.Fa.AZ:return "manifest";case k.Fa.zZ:case k.Fa.yZ:case k.Fa.xba:case k.Fa.wba:case k.Fa.IY:case k.Fa.HY:case k.Fa.TX:case k.Fa.SX:return "license";case k.Fa.yO:case k.Fa.xO:case k.Fa.wO:case k.Fa.vO:case k.Fa.AO:case k.Fa.zO:case k.Fa.o9:case k.Fa.n9:return "buffering";case k.Fa.Faa:case k.Fa.Eaa:return "playback";default:return null;}};c.prototype.Hzb=function(n){switch(n){case k.Fa.DZ:case k.Fa.CZ:case k.Fa.BZ:case k.Fa.AZ:return "aws";case k.Fa.zZ:case k.Fa.yZ:return "mixed";case k.Fa.Faa:case k.Fa.Eaa:case k.Fa.xba:case k.Fa.wba:case k.Fa.IY:case k.Fa.HY:case k.Fa.TX:case k.Fa.SX:case k.Fa.o9:case k.Fa.n9:return "device";case k.Fa.yO:case k.Fa.xO:case k.Fa.wO:case k.Fa.vO:case k.Fa.AO:case k.Fa.zO:return "cdn";default:return null;}};c.prototype.vCb=function(n){switch(n){case k.Fa.DZ:case k.Fa.Faa:case k.Fa.BZ:case k.Fa.zZ:case k.Fa.o9:case k.Fa.yO:case k.Fa.wO:case k.Fa.AO:case k.Fa.xba:case k.Fa.IY:case k.Fa.TX:return "start";case k.Fa.CZ:case k.Fa.Eaa:case k.Fa.AZ:case k.Fa.yZ:case k.Fa.wba:case k.Fa.HY:case k.Fa.SX:case k.Fa.n9:case k.Fa.xO:case k.Fa.vO:case k.Fa.zO:return "end";default:return null;}};c.prototype.jVa=function(n,q){if((n in h[q]))return h[q][n];};c.prototype.qXb=function(){g.Ef.removeEventListener(g.d4,this.f6a);};c.prototype.lZb=function(){this.qXb();g.Ef.addEventListener(g.d4,this.f6a);};c.prototype.EUa=function(n){var q;if(this.Xra.has(n))return this.Xra.get(n);q=Date.now();this.Xra.set(n,q);return q;};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(l.wP)),r.__param(1,f.l(a.gm))],m);b.ICa=m;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D,E,F,C,G,J,K,H,L,P,I,O,N,M,Q,S;Object.defineProperty(b,"__esModule",{value:!0});b.ROa=void 0;r=a(0);c=a(453);f=a(1155);k=a(118);l=a(1156);d=a(465);g=a(1157);h=a(467);m=a(1158);n=a(468);q=a(1159);p=a(265);t=a(1160);u=a(80);w=a(1161);v=a(1162);x=a(42);y=a(3);z=a(1163);A=a(1164);B=a(1165);D=a(52);E=a(1166);F=a(279);C=a(1167);G=a(1168);J=a(1169);K=a(449);H=a(1170);L=a(1171);P=a(1172);I=a(337);O=a(1173);N=a(71);M=a(522);Q=a(1174);S=a(1175);b.ROa=new r.$c(function(fa){fa(D.im).to(E.LDa);fa(c.$Da).to(f.ZDa);fa(F.Oaa).to(C.GDa);fa(K.IDa).to(H.HDa);fa(G.ceb).to(J.dEa);fa(k.Raa).to(l.aEa);fa(M.bEa).tf(function(qa){return function(){var xa;xa=qa.$a.get(N.tu);return xa && xa.o7a?qa.$a.resolve(S.vEa):qa.$a.resolve(Q.cEa);};});fa(d.FDa).to(g.EDa);fa(h.sEa).to(m.rEa);fa(n.UDa).to(q.TDa);fa(p.Qaa).to(t.VDa);fa(u.XGa).to(w.WGa);fa(u.aHa).to(v.$Ga);fa(u.GAa).to(z.FAa);fa(u.SGa).to(A.RGa);fa(u.Cya).to(B.Bya);fa(P.deb).to(L.eEa);fa(I.SDa).to(O.RDa);fa(u.t$).tf(function(qa){return function(xa){switch(xa){case u.zo.start:return qa.$a.get(u.XGa);case u.zo.stop:return qa.$a.get(u.aHa);case u.zo.mU:return qa.$a.get(u.GAa);case u.zo.splice:return qa.$a.get(u.SGa);case u.zo.US:return qa.$a.get(u.Cya);}throw new x.ed(y.M.rdb,void 0,void 0,void 0,void 0,"The event key was invalid - " + xa);};});});},function(r,b,a){var f,k,l,d,g;function c(h){return d.Vh.call(this,h,k.M.bcb,1,l.Di.hYa,l.Zg.wI,l.Di.hYa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZDa=void 0;r=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);la(c,d.Vh);c.prototype.Qf=function(h,m){var n;n=this;return this.send(h,"/" + this.name,m).then(function(q){return q.result;}).catch(function(q){throw n.Im(q);});};c.prototype.wp=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.im))],g);b.ZDa=g;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t;function c(u,w,v,x,y){u=d.Vh.call(this,u,k.M.faa,3,l.Di.sa,l.Zg.ju,l.Di.sa) || this;u.platform=w;u.Ena=v;u.iHb=x;u.yIb=y;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.aEa=void 0;r=a(1);f=a(118);k=a(3);l=a(48);a(182);d=a(74);g=a(52);h=a(34);m=a(38);n=a(143);q=a(265);p=a(0);a=a(522);la(c,d.Vh);c.prototype.Qf=function(u,w){var v,x;v=this;this.i0=w.pv === f.Zj.QD?"prefetch/manifest":l.Di.sa;x=w.pv === f.Zj.JZ?m.qu.xFa:m.qu.LP;return this.yIb().transform(w,x).then(function(y){var z,A;y=aa(y);z=y.next().value;A=y.next().value;!1;A.fv && (v.i0="licensedManifest");return v.send(u,A.Xk,z,void 0,v.bCb(w.pv),void 0,x).then(function(B){var D;B=v.Ena.create(B.result);D=B.bd.dD.map(function(E){return E.gg;}).filter(Boolean);A.fv && (0 < D.length?(D=v.iHb.k6a(D),A.fv.SLa(D),B.fv=A.fv,B.UWa=w.pv === f.Zj.QD,B.TWa=!0):A.fv.close());!1;return B;});}).catch(function(y){!1;throw v.Im(y);});};c.prototype.wp=function(){return Promise.reject(Error("Links are not supported with manifest command"));};c.prototype.bCb=function(u){switch(u){case f.Zj.Go:case f.Zj.R$a:return l.Zg.ju;case f.Zj.MFa:case f.Zj.JZ:return l.Zg.oaa;case f.Zj.QD:return l.Zg.wI;}};t=c;t=r.__decorate([p.R(),r.__param(0,p.l(g.im)),r.__param(1,p.l(h.Mk)),r.__param(2,p.l(n.sP)),r.__param(3,p.l(q.Qaa)),r.__param(4,p.l(a.bEa))],t);b.aEa=t;},function(r,b,a){var f,k,l,d,g;function c(h){return d.Vh.call(this,h,k.M.tI,3,l.Di.gg,l.Zg.ju,l.Di.gg) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.EDa=void 0;r=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);la(c,d.Vh);c.prototype.Qf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.wp=function(h,m,n){var q,p;q=this;m=m.yT(n.ana).href;p="license" === n.ana?l.Zg.ju:l.Zg.wI;this.i0="ldl" === n.ana?"prefetch/license":l.Di.gg;return this.send(h,m,n.inputs,"drmSessionId",p).then(function(t){t=t.result;q.hpb(t);return t;}).catch(function(t){throw q.Im(t);});};c.prototype.hpb=function(h){h.forEach(function(m){if(!m.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.im))],g);b.EDa=g;},function(r,b,a){var f,k,l,d,g;function c(h){return d.Vh.call(this,h,k.M.sba,3,l.Di.gg,l.Zg.oaa,"release/license") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.rEa=void 0;r=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);la(c,d.Vh);c.prototype.Qf=function(h,m){var n;n=this;return this.send(h,"/bundle",m).then(function(q){return q.result;}).catch(function(q){throw n.Im(q);});};c.prototype.wp=function(){return Promise.reject(Error("Links are unsupported with release"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.im))],g);b.rEa=g;},function(r,b,a){var f,k,l;function c(d){this.wa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.TDa=void 0;r=a(1);f=a(0);k=a(39);l=a(4);c.prototype.HWb=function(d){var g;g=this.wa.Ye.ea(l.rn);return {inputs:d.Bj.map(function(h){return {drmSessionId:h.sessionId,clientTime:g,challengeBase64:h.dataBase64,xid:d.ca.toString(),mdxControllerEsn:d.JU};}),ana:"standard" === d.Sf.toLowerCase()?"license":"ldl"};};c.prototype.KWb=function(d){var g,h;g=this;h=[];return d.ee.map(function(m){h.push(m.id);return {url:g.bob(m.fG,m.wU),echo:"drmSessionId",params:{drmSessionId:m.id,xid:d.ca.toString()}};});};c.prototype.bob=function(d,g){return "/releaseLicense?drmLicenseContextId=" + d + (g?"&licenseId=" + g:"");};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(k.Wh))],a);b.TDa=a;},function(r,b,a){var f,k,l;function c(d,g){this.Rd=d;this.Gx=g;}Object.defineProperty(b,"__esModule",{value:!0});b.VDa=void 0;r=a(1);f=a(0);k=a(28);a=a(35);c.prototype.k6a=function(d){var g,h;g=this;h=d.map(function(m){return m.links.releaseLicense.href;}).map(function(m){return g.Rd.wV(m.substring(m.indexOf("?") + 1));});return {W:!0,ee:d.map(function(m,n){return {id:m.drmSessionId,fG:h[n].drmlicensecontextid,wU:h[n].licenseid};}),Oi:d.map(function(m){return {data:g.Gx.decode(m.licenseResponseBase64),sessionId:m.drmSessionId};})};};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(k.Jf)),r.__param(1,f.l(a.Uh))],l);b.VDa=l;},function(r,b,a){var f,k,l,d,g,h;function c(m){return l.lq.call(this,m,k.M.Keb,d.zo.start,3,h.Zg.ju) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.WGa=void 0;r=a(1);f=a(0);k=a(3);l=a(159);d=a(80);g=a(52);h=a(48);la(c,l.lq);a=c;a=r.__decorate([f.R(),r.__param(0,f.l(g.im))],a);b.WGa=a;},function(r,b,a){var f,k,l,d,g,h;function c(m){return l.lq.call(this,m,k.M.pGa,d.zo.stop,3,h.Zg.oaa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ga=void 0;r=a(1);f=a(0);k=a(3);l=a(159);d=a(80);g=a(52);h=a(48);la(c,l.lq);a=c;a=r.__decorate([f.R(),r.__param(0,f.l(g.im))],a);b.$Ga=a;},function(r,b,a){var f,k,l,d,g,h;function c(m){return l.lq.call(this,m,k.M.U$,d.zo.mU,1,h.Zg.wI) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.FAa=void 0;r=a(1);f=a(0);k=a(3);l=a(159);d=a(80);g=a(52);h=a(48);la(c,l.lq);a=c;a=r.__decorate([f.R(),r.__param(0,f.l(g.im))],a);b.FAa=a;},function(r,b,a){var f,k,l,d,g,h;function c(m){return l.lq.call(this,m,k.M.nGa,d.zo.splice,1,h.Zg.wI) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.RGa=void 0;r=a(1);f=a(0);k=a(3);l=a(159);d=a(80);g=a(52);h=a(48);la(c,l.lq);a=c;a=r.__decorate([f.R(),r.__param(0,f.l(g.im))],a);b.RGa=a;},function(r,b,a){var f,k,l,d,g,h;function c(m){return l.lq.call(this,m,k.M.pab,d.zo.US,3,h.Zg.wI) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Bya=void 0;r=a(1);f=a(0);k=a(3);l=a(159);d=a(80);g=a(52);h=a(48);la(c,l.lq);c.prototype.j1=function(m){return Object.assign(Object.assign({},l.lq.prototype.j1.call(this,m)),{action:m.action});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(g.im))],a);b.Bya=a;},function(r,b,a){var f,k,l,d,g,h,m,n,q;function c(p,t,u,w,v,x,y,z,A){this.eh=p;this.Ef=t;this.Lh=u;this.gvb=w;this.RF=v;this.bYb=x;this.uha=y;this.eRb=z;this.AB=A;}Object.defineProperty(b,"__esModule",{value:!0});b.LDa=void 0;r=a(1);f=a(0);k=a(120);l=a(71);d=a(487);g=a(484);h=a(92);m=a(115);n=a(324);q=a(93);a=a(85);c=r.__decorate([f.R(),r.__param(0,f.l(k.VH)),r.__param(1,f.l(m.pA)),r.__param(2,f.l(l.tu)),r.__param(3,f.l(g.ODa)),r.__param(4,f.l(h.oA)),r.__param(5,f.l(n.ZHa)),r.__param(6,f.l(q.wY)),r.__param(7,f.l(d.uEa)),r.__param(8,f.l(a.Bw))],c);b.LDa=c;},function(r,b,a){var f,k,l,d,g;function c(h){return d.Vh.call(this,h,k.M.I8a,2,l.Di.bind,l.Zg.ju,l.Di.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GDa=void 0;r=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);la(c,d.Vh);c.prototype.Qf=function(h,m,n){var q;q=this;return this.send(h,"/" + this.name,m,void 0,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.Im(p);});};c.prototype.wp=function(){return Promise.reject(Error("Links are unsupported with bind"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.im))],g);b.GDa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ceb="PboPairCommandSymbol";},function(r,b,a){var f,k,l,d,g;function c(h){return d.Vh.call(this,h,k.M.jdb,2,l.Di.h0a,l.Zg.ju,l.Di.h0a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.dEa=void 0;r=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);la(c,d.Vh);c.prototype.Qf=function(h,m,n){var q;q=this;return this.send(h,"/" + this.name,m,void 0,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.Im(p);});};c.prototype.wp=function(){return Promise.reject(Error("Links are unsupported with pair"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.im))],g);b.dEa=g;},function(r,b,a){var f,k,l,d,g;function c(h){return d.Vh.call(this,h,k.M.J8a,2,l.Di.bind,l.Zg.ju,l.Di.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.HDa=void 0;r=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);la(c,d.Vh);c.prototype.Qf=function(h,m,n){var q;q=this;return this.send(h,"/bindDevice",m,void 0,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.Im(p);});};c.prototype.wp=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.im))],g);b.HDa=g;},function(r,b,a){var f,k,l,d,g;function c(h){return d.Vh.call(this,h,k.M.Bdb,1,l.Di.ping,l.Zg.ju,l.Di.ping) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eEa=void 0;r=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);la(c,d.Vh);c.prototype.Qf=function(h,m,n){var q;q=this;return this.send(h,"/" + this.name,m,void 0,void 0,n).then(function(p){return p.result;}).catch(function(p){throw q.Im(p);});};c.prototype.wp=function(){return Promise.reject(Error("Links are unsupported with ping"));};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.im))],g);b.eEa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.deb="PboPingCommandSymbol";},function(r,b,a){var f,k,l,d,g;function c(h){return d.Vh.call(this,h,k.M.Gab,2,l.Di.sa,l.Zg.ju,"generateScreenshots") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.RDa=void 0;r=a(1);f=a(0);k=a(3);l=a(48);d=a(74);a=a(52);la(c,d.Vh);c.prototype.Qf=function(h,m){var n;n=this;return this.send(h,"/generateScreenshots",m).then(function(q){return q.result;}).catch(function(q){throw n.Im(q);});};c.prototype.wp=function(h,m,n){var q;q=this;return this.send(h,m.yT("generateScreenshots").href,n).then(function(p){return p.result;}).catch(function(p){throw q.Im(p);});};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(a.im))],g);b.RDa=g;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w,v,x;function c(y,z,A,B,D,E,F,C,G,J){this.Lh=y;this.platform=z;this.config=A;this.Tob=B;this.MNb=D;this.Sl=E;this.UR=F;this.wa=C;this.D5=G;this.zm=J;}Object.defineProperty(b,"__esModule",{value:!0});b.cEa=void 0;r=a(1);f=a(0);k=a(118);l=a(14);d=a(218);g=a(357);h=a(521);m=a(79);n=a(34);q=a(39);p=a(4);t=a(163);u=a(71);w=a(326);v=a(25);x=a(60);c.prototype.transform=function(y,z){var A,B,D,E,F,C,G,J,K,H,L,P,I;A=this;C=y.ib;G=Object.assign({},C.$0,C.no);J={};K=y.aa;J[K]={unletterboxed:! !G.preferUnletterboxed};H=this.config();L=H.nYb?30:25;P=H.Kr?this.Sl.kAb():Promise.resolve(this.D5.Ms());I=null === (D=null === (B=H.Sta) || void 0 === B?void 0:B[null === C || void 0 === C?void 0:C.ie]) || void 0 === D?void 0:D.pw;B=null === (F=null === (E=H.Sta) || void 0 === E?void 0:E[null === C || void 0 === C?void 0:C.ie]) || void 0 === F?void 0:F.jB;return Promise.all([this.zm.dVa(B),this.zm.fVa(I),this.zm.oL(),this.zm.A3(),this.Izb(y.ca,z),this.oAb(y),P]).then(function(O){var N,M,Q,S,fa,qa;N=aa(O);M=N.next().value;Q=N.next().value;S=N.next().value;fa=N.next().value;qa=N.next().value;O=N.next().value;N=N.next().value;M=(M || []).concat(Q || []).concat(A.config().hw).concat(["BIF240","BIF320"]).filter(Boolean);fa=fa?fa.DEVICE_SECURITY_LEVEL:void 0;Q="postplay" === C.ie?!0:! !G.isUIAutoPlay;S={type:"standard",manifestVersion:A.Lh.CRa?"v2":"v1",viewableId:K,profiles:M,flavor:y.pv,drmType:N,drmVersion:L,usePsshBox:!0,isBranching:! !y.ib.fl,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().AVb,imageSubtitleHeight:d.QZ.wka(),uiVersion:A.Lh.Rz,uiPlatform:A.Lh.K8,clientVersion:A.platform.version,supportsPreReleasePin:A.config().Sq.wVb,supportsWatermark:A.config().Sq.xVb,showAllSubDubTracks:A.config().Sq.aUb || ! !G.showAllSubDubTracks,packageId:A.FBb(C),deviceSecurityLevel:fa,videoOutputInfo:S,titleSpecificData:J,preferAssistiveAudio:! !G.assistiveAudioPreferred,preferredTextLocale:G.preferredTextLocale,preferredAudioLocale:G.preferredAudioLocale,isUIAutoPlay:Q,challenge:qa,isNonMember:A.Lh.pma,pin:C.I0a,desiredVmaf:A.config().h7a?A.config().yQa:A.config().zQa,desiredSegmentVmaf:A.config().h7a?A.config().yQa:A.config().zQa,requestSegmentVmaf:A.config().jRb};C.XRa && (S.extraParams=C.XRa);C.xQa && (S.desiredDownloadables=C.xQa);C.rra && (S.requestReference=C.rra);qa={Xk:O?"licensedManifest":"manifest",fv:null === O || void 0 === O?void 0:O.Nb};O && (O={drmSessionId:O.Nb.uy() || "session",clientTime:A.wa.L7.ea(p.rn),challengeBase64:O.fga},S.challenges={"default":[O]},S.profileGroups=[{name:"default",profiles:M}],S.licenseType=y.Sf == x.Xh.pn?"limited":"standard",y.ca && (S.xid=y.ca.toString()));A.Lh.tRa && y.pv === k.Zj.JZ && (S.maxSupportedLanguages=2);return [S,qa];});};c.prototype.FBb=function(y){if(this.config().d7.enabled){if(void 0 !== y.Mp)return y.Mp;if(void 0 !== this.config().d7.Mp)return Number(this.config().d7.Mp);}};c.prototype.Izb=function(y,z){var A;A=this;return this.Tob.kTa(z).then(function(B){var D;D=y && A.MNb.MBb(y);D && D.Zo("cad");return B;});};c.prototype.oAb=function(y){var z;if(void 0 === y.Sf || !this.config().Kr)return Promise.resolve(void 0);z=y.Sf === x.Xh.Go && this.Lh.B1;return y.Sf === x.Xh.pn && this.Lh.uRa || z?this.UR.Hka(y.Sf):Promise.resolve(void 0);};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(u.tu)),r.__param(1,f.l(n.Mk)),r.__param(2,f.l(l.Zc)),r.__param(3,f.l(g.nwa)),r.__param(4,f.l(h.gba)),r.__param(5,f.l(m.pu)),r.__param(6,f.l(t.fY)),r.__param(7,f.l(q.Wh)),r.__param(8,f.l(w.maa)),r.__param(9,f.l(v.Aw))],a);b.cEa=a;},function(r,b,a){var f,k,l,d,g,h;function c(m,n,q,p){this.platform=m;this.config=n;this.UR=q;this.zm=p;}Object.defineProperty(b,"__esModule",{value:!0});b.vEa=void 0;r=a(1);f=a(0);k=a(14);l=a(34);d=a(163);g=a(25);h=a(60);c.prototype.transform=function(m){var n,q;n=this;q=m.ib;return Promise.all([this.zm.dVa(),this.zm.fVa(),this.UR.Hka(h.Xh.Go)]).then(function(p){var t,u;t=aa(p);p=t.next().value;u=t.next().value;t=t.next().value;return [{viewableId:m.aa,packageId:q.Mp,assetId:q.dfa,challenge:t.fga,audioProfiles:p,textProfiles:n.config().hw,trickplayProfiles:["BIF240","BIF320"],videoProfiles:u,audioLanguages:q.Pmb,textLanguages:q.SVb,videoLanguages:q.y7a?[q.y7a]:void 0,requestReference:q.rra},{fv:null === t || void 0 === t?void 0:t.Nb,Xk:"studioManifest"}];});};a=c;a=r.__decorate([f.R(),r.__param(0,f.l(l.Mk)),r.__param(1,f.l(k.Zc)),r.__param(2,f.l(d.fY)),r.__param(3,f.l(g.Aw))],a);b.vEa=a;},function(r,b,a){var c,f,k,l,d,g;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(0);c=a(214);f=a(485);k=a(1177);l=a(1178);d=a(1179);g=a(38);b.transports=new r.$c(function(h){h(c.VZ).to(d.NHa).$();h(f.PCa).to(k.OCa);h(f.UGa).to(l.TGa);h(f.OHa).tf(function(m){return function(n){var q;return m.$a.get(c.VZ).T7(null !== (q=null === n || void 0 === n?void 0:n.oKb) && void 0 !== q?q:g.qu.LP)?m.$a.get(f.PCa):m.$a.get(f.UGa);};});});},function(r,b,a){var f,k,l,d,g,h,m;function c(n,q,p,t){var u;u=this;this.wC=q;this.receiver=p;this.profile=t;this.log=n.Cb("MslTransport");this.wC().then(function(w){return u.Z5=w;});}Object.defineProperty(b,"__esModule",{value:!0});b.OCa=void 0;r=a(1);f=a(0);k=a(8);l=a(141);d=a(4);g=a(190);a=a(89);h={license:!0};c.prototype.send=function(n,q){var p,t;p=this;t={NZa:Object.assign({Ef:n.Ef,log:n.log,profile:this.profile},n.Cnb),method:n.Xk,url:n.url.href,body:JSON.stringify(q),timeout:n.timeout.ea(d.ma),tYb:this.profile,k8b:!h[n.Xk],HKb:! !h[n.Xk],lk:!0,w7:n.Fra,headers:n.headers};!1;return this.wC().then(function(u){return u.send(t).then(function(w){p.receiver.PM({command:n.Xk,inputs:q,outputs:w});return w;}).catch(function(w){var v;if(!w.error)throw (w.kc=w.oa || w.kc,p.receiver.PM({command:n.Xk,inputs:q,outputs:w}),w);v=w.error;v.NC=w.NC;p.log.error("Error sending MSL request",{mslCode:v.Kv,subCode:v.kc,data:v.data,message:v.message});p.receiver.PM({command:n.Xk,inputs:q,outputs:v});throw v;});});};c.prototype.Rga=function(){var n;return {userTokens:null === (n=this.Z5) || void 0 === n?void 0:n.WU.getUserIdTokenKeys()};};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(k.Jb)),r.__param(1,f.l(l.xP)),r.__param(2,f.l(g.uZ)),r.__param(3,f.l(a.NP))],m);b.OCa=m;},function(r,b,a){var f,k,l,d,g;function c(h,m,n){this.receiver=m;this.Ef=n;this.log=h.Cb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.TGa=void 0;r=a(1);f=a(0);k=a(4);l=a(8);d=a(190);a=a(115);c.prototype.send=function(h,m){var n,q;n=this;q={url:h.url.href,qF:"nq-" + h.Xk,bqa:JSON.stringify(m),G1:h.timeout.ea(k.ma),headers:h.headers,withCredentials:!0};!1;return new Promise(function(p,t){n.Ef.download(q,function(u){u.W?p(u):t(u);});}).then(function(p){p={status:"success",body:p.content};n.receiver.PM({command:h.Xk,inputs:m,outputs:p});return p;}).catch(function(p){var t;if(!p.error)throw (p.kc=p.oa || p.kc,n.receiver.PM({command:h.Xk,inputs:m,outputs:p}),p);t=p.error;t.NC=p.NC;n.log.error("Error sending SSL request",{subCode:t.kc,data:t.content,message:t.message});n.receiver.PM({command:h.Xk,inputs:m,outputs:t});throw t;});};c.prototype.Rga=function(){return {};};g=c;g=r.__decorate([f.R(),r.__param(0,f.l(l.Jb)),r.__param(1,f.l(d.uZ)),r.__param(2,f.l(a.pA))],g);b.TGa=g;},function(r,b,a){var f,k,l,d,g;function c(h){return k.hf.call(this,h,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.NHa=void 0;r=a(1);f=a(0);k=a(45);l=a(37);d=a(44);g=a(38);la(c,k.hf);c.prototype.T7=function(h){var m,n;m=this.r7a;n=this.qMa;switch(h){case g.qu.LP:return m;case g.qu.xFa:return m && !n;case g.qu.$cb:return !1;}};Xa.Object.defineProperties(c.prototype,{r7a:{configurable:!0,enumerable:!0,get:function(){return !0;}},qMa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.ad,"usesMsl")],a.prototype,"r7a",null);r.__decorate([d.config(d.ad,"allowRequestsWithoutMsl")],a.prototype,"qMa",null);a=r.__decorate([f.R(),r.__param(0,f.l(l.lm))],a);b.NHa=a;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.gl=void 0;r=a(0);c=a(500);f=a(1181);b.gl=new r.$c(function(k){k(c.TAa).to(f.SAa);});},function(r,b,a){var f,k,l,d,g,h,m,n;function c(q,p,t,u,w){this.tF=q;this.op=p;this.config=t;this.bM=u;this.qd=w;}Object.defineProperty(b,"__esModule",{value:!0});b.SAa=void 0;r=a(1);f=a(0);k=a(119);l=a(1182);d=a(1183);g=a(69);h=a(14);m=a(134);a=a(116);c.prototype.create=function(q,p,t){return q?new l.UAa(this.config(),this.op,this.qd,p,t,this.tF,this.bM()):new d.OAa(this.config,this.qd,p,t);};n=c;n=r.__decorate([f.R(),r.__param(0,f.l(k.zY)),r.__param(1,f.l(g.iu)),r.__param(2,f.l(h.Zc)),r.__param(3,f.l(m.tP)),r.__param(4,f.l(a.aE))],n);b.SAa=n;},function(r,b,a){var f,k,l,d,g,h,m,n,q;function c(p,t,u,w,v,x,y){w=m.uO.call(this,w,v) || this;w.config=p;w.op=t;w.qd=u;w.tF=x;w.boa=y;w.log=k.jh(w.j,"LicenseBroker");w.uU=new Set();w.aoa=!1;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.UAa=void 0;r=a(1);f=a(3);k=a(7);l=a(315);d=a(4);g=a(0);h=a(270);m=a(523);n=a(60);q=a(17);la(c,m.uO);c.prototype.x6=function(){var p,t;p=this;t=this.j.ga;this.uU.has(t.K) || (this.uU.add(t.K),this.mmb(t).catch(function(){return p.B2a(t);}).then(function(){return p.IMa(t);}).catch(function(u){return p.HMa(t,u);}).catch(function(u){return p.Kd(u.code,u,u.xd);}));};c.prototype.mmb=function(p){var t;t=this;return Promise.all([this.qd.gTa(p.K),this.tF()]).then(function(u){var w,v;u=aa(u);w=u.next().value;v=u.next().value;return w.M7.then(function(x){var y;if("manifest" === w.source){y=t.fUa(p);v.IZa(y,x);}return x;}).then(function(x){return t.S0(x,p,w.source);});}).catch(function(u){t.log.warn("eme not in cache",u);throw u;});};c.prototype.S0=function(p,t,u){this.s1a(p,t);t.XE=u;this.boa.setMediaKeys(p.mediaKeys);return p.Wea();};c.prototype.xyb=function(p){var t;t={};p.forEach(function(u){t[l.aRa(u.OU)]=u.time.ea(d.ma);});return t;};c.prototype.s1a=function(p,t){var u;u=this;t.Xe=p;p.TSb(function(w){u.Kd(w.code,w,w.xd);});};c.prototype.IMa=function(p){this.log.info("Successfully applied license for xid: " + p.ca + ", viewable: " + p.K + ", segment: " + p.va);this.Dy(p);this.aoa?this.N2(p.K):this.setMediaKeys(p);};c.prototype.HMa=function(p,t){this.Dy(p);throw t;};c.prototype.Dy=function(p){p.Xe && p.Dy(this.xyb(p.Xe.cd));};c.prototype.fUa=function(p){var t;return {type:this.s3(!1),initData:p.Ht.map(function(u){return k.Kq(u);}),context:{la:this.Lb.la,Et:null === (t=p.Sh.value) || void 0 === t?void 0:t.Et},ri:{K:p.K,ca:p.ca,Vi:p.Vi,Ll:p.Ll,Hj:p.sa.Hj}};};c.prototype.B2a=function(p){var t;t=this;return this.tF().then(function(u){var w;w=t.fUa(p);t.uU.add(p.K);return u.gg(w,t.boa).then(function(v){t.s1a(v,p);t.j.fireEvent(q.Z.UL,{K:p.K});return v.Wea();});});};c.prototype.setMediaKeys=function(p){var t;t=this;if(this.aoa)this.log.trace("Media Keys already set");else try{this.Lb.la?this.Lb.la.setMediaKeys(p.Xe.mediaKeys).then(function(){t.N2(p.K);t.aoa=!0;}).catch(function(u){u=t.nVa(u);t.Kd(f.M.CI,u,u.Ze);}):this.N2(p.K);}catch(u){this.Kd(f.M.CI,u,void 0);}};c.prototype.yz=function(){var p,t;p=this;t=this.j.ga.Xe;return t?this.tF().then(function(u){return u.release(t,p.boa).then(function(w){p.log.trace("Successfully released the license");return w.close();}).catch(function(w){p.log.error("Unable to release the license",w);});}):Promise.resolve();};c.prototype.A2a=function(p){var t;t=this;p=void 0 === p?this.j:p;return this.B2a(p).then(function(){return t.IMa(p);}).catch(function(u){return t.HMa(p,u);});};c.prototype.s3=function(p){return this.op.gT?n.Xh.pn:p?n.Xh.pn:n.Xh.Go;};Xa.Object.defineProperties(c.prototype,{zC:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Pl:{configurable:!0,enumerable:!0,get:function(){return this.config.Pl;}}});a=c;r.__decorate([h.rU],a.prototype,"zC",null);a=r.__decorate([g.R()],a);b.UAa=a;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t;function c(u,w,v,x){v=q.uO.call(this,v,x) || this;v.config=u;v.qd=w;v.log=k.jh(v.j,"LegacyLicenseBroker");v.Pl=v.config().Pl;v.config().y1a?d.aXa()?v.U8=!0:v.log.error("Promise based eme requested but platform does not support it",{browserua:g.vA}):v.U8=!1;return v;}Object.defineProperty(b,"__esModule",{value:!0});b.OAa=void 0;r=a(1);f=a(3);k=a(7);l=a(139);d=a(47);g=a(11);h=a(0);m=a(270);n=a(34);q=a(523);p=a(60);la(c,q.uO);c.prototype.BPa=function(u){var w;w=void 0 === w?this.j:w;return new this.hr.gI(u,function(v){return w.fS.HF(v);},function(v){return w.fS.release(v);},{$e:!1,sk:!1});};c.prototype.kF=function(u){var w,v,x,y,z,A;w=this;u=void 0 === u?this.j:u;v=a(51).Ki;this.hr.gI || this.Kd(f.M.tI,f.L.hab);x=k.jh(u,"Eme");y=this.BPa(x);z=k.ha.get(l.TP);A=z.M1(u.Ud.value.streams);z=z.P1(u.Sh.value.streams);return this.hr.iI(x,function(B){return u.Od(B);},{$e:!1,sk:!1,wa:{getTime:v},ol:y,NV:! !this.U8,la:this.Lb.la,Xz:this.config().sRa,onerror:function(B,D,E){return w.Kd(B,D,E);},Noa:function(){},EG:!0,Omb:A,OYb:z,l4:this.config().l4});};c.prototype.setMediaKeys=function(u){var w;w=this;return this.U8?new Promise(function(v,x){if(w.Lb.la)w.Lb.la.setMediaKeys(u).then(function(){v();}).catch(function(y){var z;z=w.nVa(y);x({W:!1,code:f.M.CI,kc:z.oa,xd:z.Ze,rb:z.rb,message:"Set media keys is a failure",cause:y});});else return Promise.resolve();}):Promise.resolve();};c.prototype.PRa=function(u){return {code:u.code,subCode:u.kc,extCode:u.xd,edgeCode:u.Bm,message:u.message,errorDetails:u.rb,errorData:u.QK,state:u.state};};c.prototype.psa=function(u,w,v){var y,z,A;function x(){z.QG().catch(function(B){y.log.error("Unable to set the license",y.PRa(B));B.cause && B.cause.rb && (B.rb=B.rb?B.rb + B.cause.rb:B.cause.rb);y.Kd(B.code,B,B.xd);});}y=this;v=void 0 === v?this.j:v;z=v.Xe;this.log.info("Setting the license");A=w?function(){return Promise.resolve();}:function(){return z.gg(y.s3(!1),u);};return (w?function(){return z.S0(y.Lb.la);}:function(){return z.create(y.Pl).then(function(){return Promise.resolve();});})().then(function(){return y.config().T3a?y.setMediaKeys(z.mediaKeys):Promise.resolve();}).then(A).then(function(){return y.config().T3a?Promise.resolve():y.setMediaKeys(z.mediaKeys);}).then(function(){y.log.info("license set");y.N2(v.K);y.Lb.K7a.then(function(){y.config().kC && (w || y.config().gT) && (y.v2a=pb.setTimeout(x,y.config().kC));});}).catch(function(B){y.log.error("Unable to set the license",y.PRa(B));B.cause && B.cause.rb && (B.rb=B.rb?B.rb + B.cause.rb:B.cause.rb);if(w)throw Error(B && B.message?B.message:"failed to set license");y.Kd(B.code,B,B.xd);});};c.prototype.yz=function(){return Promise.resolve();};c.prototype.x6=function(){var w;function u(){var v;w.j.Xe=w.kF();v=[];w.j.Ht.forEach(function(x){v.push(k.Kq(x));});w.psa(v);}w=this;this.uU || (this.uU=!0,this.hr.iI?this.j.Ht?this.config().OS && this.config().Sv?this.qd.gTa(this.j.K).then(function(v){w.j.Xe=v;return v.Aua.then(function(){var x;x=[];w.j.Ht.forEach(function(y){x.push(k.Kq(y));});return w.psa(x,!0).then(function(){var y;if(v.S4b)w.Kd(f.M.kab);else {y=k.jh(w.j,"Eme");v.T6a({log:y,Sm:function(z){return w.j.Od(z);}},{ol:w.BPa(y),onerror:function(z,A,B){return w.Kd(z,A,B);}});w.j.Dy(v.cd || ({}));w.j.XE="videopreparer";}});});}).catch(function(v){w.log.warn("eme not in cache",v);u();}):u():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Kd(f.M.Ndb)):this.Kd(f.M.tI,f.L.iab));};c.prototype.A2a=function(u){var w;u=void 0 === u?this.j:u;u.Xe=this.kF();w=[];u.Ht.forEach(function(v){w.push(k.Kq(v));});return this.psa(w,!1,u);};c.prototype.s3=function(u){return this.config().gT?p.Xh.pn:u?p.Xh.pn:p.Xh.Go;};Xa.Object.defineProperties(c.prototype,{hr:{configurable:!0,enumerable:!0,get:function(){return k.ha.get(n.wA);}},zC:{configurable:!0,enumerable:!0,get:function(){return this.U8?"encrypted":this.Lb.sya + "needkey";}}});t=c;r.__decorate([m.rU],t.prototype,"hr",null);r.__decorate([m.rU],t.prototype,"zC",null);t=r.__decorate([h.R()],t);b.OAa=t;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u;Object.defineProperty(b,"__esModule",{value:!0});b.Mh=void 0;r=a(0);c=a(292);f=a(1185);k=a(293);l=a(1190);d=a(187);g=a(1192);h=a(1193);m=a(154);n=a(524);q=a(1194);p=a(525);t=a(1196);u=a(92);b.Mh=new r.$c(function(w){w(c.iba).to(f.iFa).$();w(k.kba).to(l.uFa).$();w(d.vZ).to(g.gFa).$();w(m.HI).to(h.eFa).$();w(n.oFa).to(q.nFa).$();w(p.sFa).tf(function(v){var x;x=v.$a;return function(y){return new t.tFa(y,x.get(u.oA),x.get(m.HI));};});});},function(r,b,a){var f,k,l,d,g,h,m,n,q;function c(p,t,u,w,v,x,y){this.Ag=p;this.Fia=t;this.yk=u;this.Hta=w;this.YNb=v;this.$Nb=x;this.ZNb=y;}Object.defineProperty(b,"__esModule",{value:!0});b.iFa=void 0;r=a(1);f=a(0);k=a(1186);l=a(8);d=a(154);g=a(327);h=a(524);m=a(335);n=a(525);a=a(293);c.prototype.create=function(p){return new k.jFa(p,this.Ag,this.Fia,this.yk,this.Hta,this.YNb,this.$Nb,this.ZNb);};q=c;q=r.__decorate([f.R(),r.__param(0,f.l(l.Jb)),r.__param(1,f.l(g.PO)),r.__param(2,f.l(d.HI)),r.__param(3,f.l(m.LHa)),r.__param(4,f.l(h.oFa)),r.__param(5,f.l(n.sFa)),r.__param(6,f.l(a.kba))],q);b.iFa=q;},function(r,b,a){var f,k,l;function c(d,g,h,m,n,q,p,t){this.Hta=n;this.yua=t;this.dT=!1;m.T8 && (d=new l.kFa().JWb(d));this.ob=p(d);this.Wj=new k.vFa(this.ob);this.Wj.N3a(this.ob.ga.aa);this.log=g.Cb("PlaygraphManager");this.Qb=h.create();this.Qv=q.create(this.ob,this.Wj,this.log,this.Qb);this.FTb();}Object.defineProperty(b,"__esModule",{value:!0});b.jFa=void 0;f=a(17);k=a(1187);l=a(1189);c.prototype.PBb=function(){return this.ob.R6;};c.prototype.i3=function(){return this.ob.ga;};c.prototype.vTa=function(){return this.ob.Fh;};c.prototype.JF=function(){return this.ob.zk;};c.prototype.Ck=function(d){for(var g=[],h=0;h < arguments.length;++h){g[h - 0]=arguments[h];}this.ob.Ck.apply(this.ob,da(g));};c.prototype.Lpb=function(d){for(var g=[],h=0;h < arguments.length;++h){g[h - 0]=arguments[h];}this.ob.YMa(g);};c.prototype.sX=function(d){this.ob.zk=d;};c.prototype.zi=function(d,g){this.ob.zi(d,g);};c.prototype.ala=function(d,g,h){var m;h=void 0 === h?{}:h;if(d !== this.ob.Fh)throw Error("Invalid currentSegmentId");if(!Object.keys(null !== (m=this.JF().xa[d].next) && void 0 !== m?m:{}).includes(g))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + g);this.l4a();return this.Qv.bla(g,h);};c.prototype.isReady=function(){return this.Qv.isReady();};c.prototype.addListener=function(d,g,h){this.Qb.addListener(d,g,h);};c.prototype.removeListener=function(d,g){this.Qb.removeListener(d,g);};c.prototype.zp=function(){return this.Qv.zp();};c.prototype.sb=function(){return this.Qv.Ps();};c.prototype.jtb=function(d,g,h){var m;d=void 0 === d?this.JF().Qe:d;g=void 0 === g?{}:g;m=this.yua.LPa(this);this.COb(null !== d && void 0 !== d?d:this.JF().Qe,g,h);return m;};c.prototype.Ilb=function(d){var g;this.log.info("Adding segment - movieId: " + d.K + ", startPts: " + d.X + ", logicalEnd: " + d.Qi);g=Object.assign({},d.Ib,d.X?{X:d.X}:{},d.Qi?{Qi:d.Qi}:{});this.a5a(d.K,g,d.sa);d=this.Qv.dMa(d);this.l4a();return d;};c.prototype.transition=function(d){var g;g=this.ob.pka(this.ob.Fh);return g?this.ala(this.ob.Fh,g,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Qv.close(d);};c.prototype.COb=function(d,g,h){var m;void 0 === d && (d=null === (m=this.JF()) || void 0 === m?void 0:m.Qe);(g || h) && this.a5a(this.JF().xa[d].aa,null !== g && void 0 !== g?g:{},h);this.Qv.JG(d);};c.prototype.a5a=function(d,g,h){h && this.Wj.VJ(d,h);this.Wj.xlb(d,g);};c.prototype.FTb=function(){var d;d=this;this.ob.lVb(function(){d.Wj.yG();d.Qv.yG();});this.ob.mVb(function(g){d.Qv.lpa(g);});this.addListener(f.SD.vW,function(){return d.cMb();});this.addListener(f.Ub.GWa,function(g){return d.RLb(g);});};c.prototype.l4a=function(){var d;d=this;this.dT || (this.sb().MB().addEventListener(f.Z.dH,function(g){return d.BC(g);}),this.dT=!0);};c.prototype.RLb=function(d){var g;g=this;this.Qv.u6a(d).catch(function(){return g.Qb.qc(f.Ub.error,d.zta());});};c.prototype.cMb=function(){var d;d=this.sb().getError();d?this.Qb.qc(f.Ub.Rfa,d):(this.Qb.qc(f.Ub.fNa),this.Qb.qc(f.Ub.SE),this.Qb.qc(f.Ub.AH),this.Qb.qc(f.Ub.Nz),this.Qb.qc(f.Ub.nX),this.Qb.qc(f.Ub.Rfa));};c.prototype.BC=function(d){var g,h,m;!1;g=d.metrics;if(g){h=this.sb().MB();m=h.Cp(d.position.segmentId);g=h.Cp(g.srcsegment);this.Hta.iPb(d,m,g,! !h.ib.fl);}};b.jFa=c;},function(r,b,a){var f;function c(k){this.Da=k;this.eO={};this.yG();}Object.defineProperty(b,"__esModule",{value:!0});b.vFa=void 0;f=a(1188);c.prototype.yG=function(){var k;k=this;Object.values(this.Da.zk.xa).forEach(function(l){l=l.aa;k.eO[l] || k.CWa(l);});this.N8();};c.prototype.vL=function(k){return this.eO[k];};c.prototype.VSb=function(k){this.ET(k).state=f.Ww.Yya;this.N8();};c.prototype.USb=function(k,l){k=this.ET(k);k.state=f.Ww.Error;k.error=l;k.U2a(!1);this.N8();};c.prototype.N3a=function(k){k=this.ET(k);k.state=f.Ww.$$a;k.U2a(!0);this.N8();};c.prototype.xlb=function(k,l){this.ET(k).Ib=l;};c.prototype.VJ=function(k,l){this.ET(k).sa=l;};c.prototype.ET=function(k){var l;return null !== (l=this.vL(k)) && void 0 !== l?l:this.CWa(k);};c.prototype.CWa=function(k){var l,d;l=void 0;d=new Promise(function(g,h){l=function(m){(m?g:h)();};});return this.eO[k]={state:f.Ww.YCa,LPb:d,U2a:l};};c.prototype.N8=function(){var l;for(var k=this.Da.Fh;k=this.Da.pka(k);){l=this.Fp(k);if(this.eO[l].state === f.Ww.Error)break;if(this.eO[l].state === f.Ww.Yya)break;if(this.eO[l].state === f.Ww.YCa)break;}};c.prototype.Fp=function(k){return this.Da.zk.xa[k].aa;};b.vFa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ww=void 0;r=b.Ww || (b.Ww={});r[r.YCa=0]="None";r[r.Yya=1]="Fetching";r[r.$$a=2]="Done";r[r.Error=3]="Error";},function(r,b,a){var f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.kFa=void 0;f=a(67);c.prototype.JWb=function(k){var l;if(!this.fGb(k.xa))return k;l=new f.RD().EW(k.Qe);Object.entries(k.xa).forEach(function(d){var g;g=aa(d);d=g.next().value;g=g.next().value;d === k.Qe?l.Gn(d,Object.assign(Object.assign({},g),{next:void 0,Fc:void 0,Gh:void 0})):l.Gn(d,g);});return l.Aj();};c.prototype.fGb=function(k){k=Object.values(k).map(function(l){return l.aa;});return 1 === new Set(k).size;};b.kFa=c;},function(r,b,a){var f,k,l;function c(d){this.Ha=d;}Object.defineProperty(b,"__esModule",{value:!0});b.uFa=void 0;r=a(1);f=a(0);k=a(19);c.prototype.create=function(d){return new (a(294).XZ)(this.Ha.Wb(),d);};c.prototype.LPa=function(d){return new (a(1191).jIa)(this.Ha.Wb(),d);};l=c;l=r.__decorate([f.R(),r.__param(0,f.l(k.rd))],l);b.uFa=l;},function(r,b,a){var f;function c(k,l){var d;d=f.XZ.call(this,k,l) || this;d.seek=function(g){return d.sb().seek(g);};d.addEpisode=function(g){var h,m,n,q,p,t,u;d.log.info("Next episode added",g);t=d.HYa(g.playbackParams);u=Math.max(0,null !== (n=null !== (m=null !== (h=g.startPts) && void 0 !== h?h:g.nextStartPts) && void 0 !== m?m:t.X) && void 0 !== n?n:0);h=null !== (p=null !== (q=g.endPts) && void 0 !== q?q:g.currentEndPts) && void 0 !== p?p:t.Qi;return d.Mh.Ilb({K:g.movieId,X:u,Qi:h,Ib:t,sa:g.manifest,Wl:d.Wl});};d.playNextEpisode=function(g){var h,m,n,q,p;g=void 0 === g?{}:g;g=d.HYa(g);d.log.info("Playing the next episode",g);m=d.Mh.vTa();n=d.Mh.JF();q=n.xa[m];p=Object.keys(null !== (h=q.next) && void 0 !== h?h:{}).find(function(t){return q.aa !== n.xa[t].aa;});if(p)return d.Mh.ala(m,p,g);};d.watchCredits=function(){};d.playSegment=function(g){return d.sb().INb(g);};d.queueSegment=function(g){return d.sb().CPb(g);};d.updateNextSegmentWeights=function(g,h){return d.sb().zi(g,h);};d.setNextSegment=function(g){for(var h=[],m=0;m < arguments.length;++m){h[m - 0]=arguments[m];}h=h.map(function(n){return {va:n.segmentId,bV:n.nextSegmentId};});d.Mh.Ck.apply(d.Mh,da(h));};d.clearNextSegment=function(g){for(var h=[],m=0;m < arguments.length;++m){h[m - 0]=arguments[m];}return d.Mh.Lpb.apply(d.Mh,da(h));};d.goToNextSegment=function(g,h){return d.Mh.ala(g,h);};d.getPlaying=function(){return d.isPlaying();};d.getPaused=function(){return d.isPaused();};d.getMuted=function(){return d.isMuted();};d.getEnded=function(){return d.isEnded();};d.getTimedTextVisibility=function(){return d.isTimedTextVisible();};d.isTimedTextVisible=function(){return ! !d.sb().H3().visibility;};d.setTimedTextVisibility=function(g){return d.setTimedTextVisible(g);};d.setTimedTextSize=function(g){return d.sb().HW({size:g});};d.setTimedTextBounds=function(g){return d.sb().HW({bounds:g});};d.setTimedTextMargins=function(g){return d.sb().HW({margins:g});};d.setTimedTextVisible=function(g){return d.sb().HW({visibility:g});};d.getCongestionInfo=function(g){g && g({success:!1,name:null,isCongested:null});};return d;}Object.defineProperty(b,"__esModule",{value:!0});b.jIa=void 0;f=a(294);la(c,f.XZ);b.jIa=c;},function(r,b,a){var f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.gFa=void 0;r=a(1);f=a(0);k=a(67);c.prototype.etb=function(l){var h,m,n;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}h=this;if(0 === d.length)throw Error("Empty playgraph");m=new k.RD().EW(this.rv(d[0]));d.reverse().forEach(function(q){var p;p=h.rv(q);m.Gn(p,Object.assign({aa:q,jc:0,Fc:Infinity},n?{Gh:n}:{}));n=p;});return m.Aj();};c.prototype.rv=function(l,d){return l + ":" + (void 0 === d?"main":d);};c.prototype.lmb=function(l,d){var g,h,m,n;if(void 0 === m)m=null !== (g=d.id) && void 0 !== g?g:this.rv(d.K);g=this.cUa(l);n=new k.RD(l);n.Gn(m,{aa:d.K,jc:null !== (h=d.X) && void 0 !== h?h:0,Fc:Infinity});l=l.xa[g];d={};n.Gn(g,Object.assign({},l,{Gh:m,next:Object.assign({},l.next || ({}),(d[m]={},d))}));return n.Aj();};c.prototype.cUa=function(l){for(var d=l.Qe,g=d;g=l.xa[g].Gh;){d=g;}return d;};a=r.__decorate([f.R()],c);b.gFa=a;},function(r,b,a){var f,k,l,d,g;function c(h){return k.hf.call(this,h,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eFa=void 0;r=a(1);f=a(0);k=a(45);l=a(37);d=a(44);g=a(4);la(c,k.hf);Xa.Object.defineProperties(c.prototype,{IOb:{configurable:!0,enumerable:!0,get:function(){return 2;}},HOb:{configurable:!0,enumerable:!0,get:function(){return g.U5(3);}},qua:{configurable:!0,enumerable:!0,get:function(){return !1;}},T8:{configurable:!0,enumerable:!0,get:function(){return !1;}},n7a:{configurable:!0,enumerable:!0,get:function(){return !1;}},GSa:{configurable:!0,enumerable:!0,get:function(){return !1;}},e1a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.Sz,"prepareSegmentsUpfront")],a.prototype,"IOb",null);r.__decorate([d.config(d.vk,"prepareSegmentsDuration")],a.prototype,"HOb",null);r.__decorate([d.config(d.ad,"usePlaygraphForPostPlay")],a.prototype,"qua",null);r.__decorate([d.config(d.ad,"usePlaygraphForSkipSegment")],a.prototype,"T8",null);r.__decorate([d.config(d.ad,"useSinglePlayerPlayback")],a.prototype,"n7a",null);r.__decorate([d.config(d.ad,"forcePlaygraphTrace")],a.prototype,"GSa",null);r.__decorate([d.config(d.ad,"postPlayDefaultNextEpisode")],a.prototype,"e1a",null);a=r.__decorate([f.R(),r.__param(0,f.l(l.lm))],a);b.eFa=a;},function(r,b,a){var f,k,l,d,g,h,m,n,q,p;function c(t,u,w,v,x,y,z){this.Ha=t;this.iSb=w;this.yk=x;this.Qp=z;this.hSb=u.IB(!1,"6.0032.428.911",t.id,y,v);}Object.defineProperty(b,"__esModule",{value:!0});b.nFa=void 0;r=a(1);f=a(0);k=a(19);l=a(154);d=a(1195);g=a(332);h=a(208);m=a(14);n=a(526);q=a(36);a=a(187);c.prototype.create=function(t,u,w,v){var x,y;x=this.iSb.Vsb(t,this.hSb,u);y=t.rua;w.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new d.PGa(this.yk,t,u,w,this.Ha,x,v,this.Qp):new n.GD(t,u,x,v,this.Qp);};p=c;p=r.__decorate([f.R(),r.__param(0,f.l(k.rd)),r.__param(1,f.l(g.BGa)),r.__param(2,f.l(h.Dba)),r.__param(3,f.l(m.Zc)),r.__param(4,f.l(l.HI)),r.__param(5,f.l(q.JP)),r.__param(6,f.l(a.vZ))],p);b.nFa=p;},function(r,b,a){var f,k,l,d,g,h;function c(m,n,q,p,t,u,w,v){var x;x=g.GD.call(this,n,q,u,w,v) || this;x.yk=m;x.za=p;x.Ha=t;x.dT=!1;x.zia=new Map();x.ULb=function(){x.Ps().MB().addEventListener(k.Z.dH,function(y){x.Qb.qc(k.SD.vW);x.ob.Fh=y.position.segmentId;});};x.OEb();w.addListener(k.Ub.loaded,x.ULb);return x;}Object.defineProperty(b,"__esModule",{value:!0});b.PGa=void 0;f=a(67);k=a(17);l=a(4);d=a(3);g=a(526);h=a(121);la(c,g.GD);c.prototype.dMa=function(m){var n,q,p,t,u,w,v,x,y,z,A;n=this;p=this.ob.zk;t=this.Qp.rv(m.K,"ident");u=this.Qp.rv(m.K,"main");w=this.Qp.rv(m.K,"credits");v=isFinite(m.Qi);x=isFinite(m.X) && m.K !== p.xa[p.Qe].aa;y={};z=new f.RD(p).Gn(u,Object.assign({aa:m.K,jc:x && m.X || 0,Fc:null !== (q=m.Qi) && void 0 !== q?q:Infinity},v?{next:(y[w]={},y),Gh:w}:{}));x && (q={},z.Gn(t,{aa:m.K,jc:0,Fc:m.X,next:(q[u]={},q),Gh:u}));v && z.Gn(w,{aa:m.K,jc:m.Qi,Fc:Infinity});if(!this.ob.cH(u)){m=p.xa[this.Qp.cUa(p)].aa;A=this.Qp.rv(m,"credits");[this.Qp.rv(m,"main"),A].filter(function(B){return n.ob.cH(B);}).forEach(function(B){var D,E,F;D=n.ob.Ae(B);E=B === A || n.yk.e1a;F={};z.Gn(B,Object.assign({},D,{next:Object.assign({},D.next,(F[u]={},F))},E?{Gh:u}:{}));});}this.ob.zk=z.Aj();return this.JG(u);};c.prototype.yG=function(){this.isReady() && this.Ps().MB().yG();};c.prototype.lpa=function(){};c.prototype.bla=function(m,n){var q,p,t;n=void 0 === n?{}:n;q=this.ob.Ae(m);if(this.yk.T8 && this.ob.ga.aa === q.aa)return Promise.resolve(this.Ps().seek(q.jc,k.me.xA,void 0));n=h.goa(this.Wj.vL(q.aa).Ib,n);p=this.Ps().MB();q=p.Pa;if(null === q || void 0 === q || !q.Bh)throw (this.za.debug("No streaming session. Aborting transition"),Error("No streaming session"));this.za.debug("going to next segment: " + this.ob.Fh + " -> " + m);p.OE("Transition " + this.ob.Fh + "->" + m);t=p.Cp(m);t.cm=this.Ha.Wb().ea(l.ma);t.ib=n;return (void 0 !== q.pT(m)?this.ZCb(m,t.K):this.tW(m,t.K)).then(function(){p.vyb(t.K);});};c.prototype.tW=function(m,n){var q;q=this.ob.zk.xa[m].jc;this.za.debug("Segment is not pre-buffered - performing a regular seek");this.Ps().MB().OE("NO DATA " + m + ", SEEKING " + q + ", viewableId: " + n);return Promise.resolve(this.Ps().seek(q,k.me.xA,m,!0));};c.prototype.ZCb=function(m,n){var q,p,t,u,w,v;q=this;p=this.Ps().MB();t=p.Pa;if(null === t || void 0 === t || !t.Bh)throw Error("No streaming session");u=new Promise(function(x){function y(){q.za.debug("Stopped ASE");t.removeEventListener("stop",y);x();}t.addEventListener("stop",y);});w=!1;v=new Promise(function(x){function y(A){q.za.debug("Repositioned");p.removeEventListener(k.Z.Yl,y);w=A.skip;x();}function z(){q.za.debug("Repositioning");p.removeEventListener(k.Z.TG,z);t.stop();}p.addEventListener(k.Z.TG,z);p.addEventListener(k.Z.Yl,y);});u=Promise.all([u,v]).then(function(){var x;x=!1;w && (x=t.us(m,!1,!0));if(!x)return (p.OE("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),q.tW(m,n));});v=t.rK(m,this.ob.zk.xa[m].jc);this.za.debug("Calling seek on internal player to " + v);this.Ps().seek(v,k.me.LI,m,!0);return u;};c.prototype.JG=function(m){if(m === this.gSb)return null;this.gSb=m;return this.dT?this.Wj.vL(this.ob.Ae(m).aa).LPb:(this.dT=!0,g.GD.prototype.JG.call(this,m));};c.prototype.u6a=function(m){return m.errorCode && this.zia.has(m.errorCode)?this.zia.get(m.errorCode)(m):Promise.reject(Error("Error " + m.errorCode + " isn't recoverable"));};c.prototype.OEb=function(){var m;m=this;this.zia.set(d.M.yDa,function(){var n,q;return null !== (q=null === (n=g.GD.prototype.JG.call(m,m.ob.Fh)) || void 0 === n?void 0:n.then(function(){var p,t;g.GD.prototype.bla.call(m,m.ob.Fh,null !== (t=null === (p=m.Wj.vL(m.ob.ga.aa)) || void 0 === p?void 0:p.Ib) && void 0 !== t?t:{});})) && void 0 !== q?q:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.PGa=c;},function(r,b,a){var f,k;function c(l,d,g){this.RF=d;this.yk=g;this.X_={};this.N6a=[];this.z4a=[];this.afa=new WeakMap();this.reset(l);}Object.defineProperty(b,"__esModule",{value:!0});b.tFa=void 0;f=a(67);k=a(67);c.prototype.reset=function(l){var d;d=1 < Object.keys(l.xa).length && 1 === new Set(Object.values(l.xa).map(function(g){return g.aa;})).size;this.Hkb=this.yk.n7a || d;this.X3a(l);this.Fh=l.Qe;this.pjb=this.RF.wB();this.Isa=new Map();};c.prototype.B3=function(l){if(this.rua)return this.zk;this.afa.has(l) || this.afa.set(l,f.mH(l.K,l.va));return this.afa.get(l);};c.prototype.X3a=function(l){this.qjb=l;this.X_={};l=Object.keys(l.xa);this.YMa(l);this.cLb();};c.prototype.Ck=function(l){var h;for(var d=[],g=0;g < arguments.length;++g){d[g - 0]=arguments[g];}h=this;d.filter(function(m){return h.cH(m.va);}).filter(function(m){m=m.bV;return !m || h.cH(m);}).forEach(function(m){h.X_[m.va]=h.u_a(m.bV);});};c.prototype.YMa=function(l){var d;d=this;l.filter(function(g){return d.cH(g);}).forEach(function(g){d.X_[g]=d.u_a(d.Ae(g).Gh);});};c.prototype.zi=function(l,d){var g,h,m;g=this.Ae(l);if(g && g.next){h=new k.RD(this.zk);m=Object.keys(g.next).reduce(function(n,q){n[q]=void 0 === d[q]?g.next[q]:Object.assign({},g.next[q],{weight:d[q]});return n;},{});m=Object.assign({},g,{next:m});h.Gn(l,m);this.zk=h.Aj();}};c.prototype.cH=function(l,d){d=void 0 === d?this.zk.xa:d;return (l in d);};c.prototype.pka=function(l){return this.X_[l];};c.prototype.Ae=function(l){return this.zk.xa[l];};c.prototype.qCb=function(l){if(this.Isa.has(l))return this.Isa.get(l);l=this.Ae(l);return isFinite(l.Fc)?l.Fc:void 0;};c.prototype.JXb=function(l,d){this.Isa.set(l,d);this.ZKb(l);};c.prototype.lVb=function(l){this.N6a.push(l);};c.prototype.mVb=function(l){this.z4a.push(l);};c.prototype.cLb=function(){var l;l=this;this.N6a.forEach(function(d){return d(l.zk);});};c.prototype.ZKb=function(l){this.z4a.forEach(function(d){return d(l);});};c.prototype.u_a=function(l){return null === l?void 0:l;};Xa.Object.defineProperties(c.prototype,{R6:{configurable:!0,enumerable:!0,get:function(){return this.pjb;}},rua:{configurable:!0,enumerable:!0,get:function(){return this.Hkb;}},zk:{configurable:!0,enumerable:!0,get:function(){return this.qjb;},set:function(l){if(this.Fh && !this.cH(this.Fh,l.xa))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Fh);this.X3a(l);}},Fh:{configurable:!0,enumerable:!0,get:function(){return this.zgb;},set:function(l){if(!this.cH(l))throw Error("Provided currentSegmentId " + l + " does not exist in the current playgraph");this.zgb=l;}},ga:{configurable:!0,enumerable:!0,get:function(){return this.Ae(this.Fh);}}});b.tFa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.aNa=void 0;r=a(0);c=a(1198);f=a(32);b.aNa=new r.$c(function(k){k(f.Xg).to(c.Fva).$();});},function(r,b,a){var f,k,l,d,g,h,m,n,q,p,t,u,w;function c(v,x,y,z,A,B){var D;D=this;this.Ek=v;this.config=y;this.jo=z;this.debug=A;this.Ha=B;this.$5a=[];this.cd={};this.log=x.Cb("loadAsync");this.rIb=t.fza(function(E){D.sQb=!0;D.startTime=D.Ha.Wb().ea(q.ma);D.load(D.$5a).then(function(){D.endTime=D.Ha.Wb().ea(q.ma);E(w.Ie);}).catch(function(F){D.endTime=D.Ha.Wb().ea(q.ma);E(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.Fva=void 0;r=a(1);f=a(70);k=a(3);l=a(1199);d=a(66);g=a(0);h=a(8);m=a(14);n=a(61);q=a(4);p=a(91);t=a(527);u=a(19);w=a(12);c.prototype.xU=function(v){this.rIb(v);};c.prototype.register=function(v,x){this.debug.assert(!this.sQb);this.$5a.push({KHb:this.Gob(x),errorCode:v});};c.prototype.Od=function(v){this.debug.assert(void 0 === this.cd[v]);this.cd[v]=this.Ha.Wb().ea(q.ma);};c.prototype.load=function(v){var x;x=this;return l.q1a(v).then(function(y){x.Ek.mark(d.oq.oj.q8a);return y.reduce(function(z,A){return z.then(function(){return x.GHb(A);});},Promise.resolve()).then(function(){x.Ek.mark(d.oq.oj.o8a);});});};c.prototype.GHb=function(v){var x,y;x=this;y=v.KHb;!1;return this.jo.Xp(q.xc(this.config().Emb),y()).catch(function(z){x.log.error("Failed to load component " + v.errorCode,z);x.Ek.mark(d.oq.oj.p8a);if(z instanceof n.xq)throw {oa:k.L.n8a,errorCode:v.errorCode};z.errorCode=z.errorCode || v.errorCode;z.oa=z.oa || k.L.m8a;throw z;});};c.prototype.Gob=function(v){return function(){return new Promise(function(x,y){v(function(z){z.W?x():y(z);});});};};a=c;a=r.__decorate([g.R(),r.__param(0,g.l(f.XD)),r.__param(1,g.l(h.Jb)),r.__param(2,g.l(m.Zc)),r.__param(3,g.l(n.Pw)),r.__param(4,g.l(p.eu)),r.__param(5,g.l(u.rd))],a);b.Fva=a;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.q1a=void 0;c=a(3);f=[c.M.obb,c.M.dAa,c.M.bAa,c.M.cAa,c.M.hAa,c.M.Zza,c.M.Xza,c.M.M$,c.M.iAa,c.M.$za,c.M.lbb,c.M.mbb,c.M.Yza,c.M.mA,c.M.Uza,c.M.Wza,c.M.eAa,c.M.fAa,c.M.gAa,c.M.pbb,c.M.rbb,c.M.vbb,c.M.tbb,c.M.sbb,c.M.qbb,c.M.ubb,c.M.xbb,c.M.aAa,c.M.wbb,c.M.Vza];(function(l){l.Ycb=function(d){var m;for(var g={},h=0;h < d.length;h++){m=d[h];if(g[m.errorCode])return {errorCode:m.errorCode,oa:c.L.k8a};g[m.errorCode]=1;}};l.Zcb=function(d){var h;for(var g=0;g < d.length;g++){h=d[g];if(-1 === f.indexOf(h.errorCode))return {errorCode:h.errorCode,oa:c.L.l8a};}};})(k || (k={}));b.q1a=function(l){return new Promise(function(d,g){var h;h=k.Zcb(l);h && g(h);(h=k.Ycb(l)) && g(h);d(l.sort(function(m,n){return f.indexOf(m.errorCode) - f.indexOf(n.errorCode);}));});};},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.sa=void 0;r=a(0);c=a(1201);f=a(117);b.sa=new r.$c(function(k){k(f.BD).to(c.SBa).$();});},function(r,b,a){var f,k,l,d,g,h,m;function c(n,q,p,t){this.Nf=q;this.vIb=t;this.cW=new Map();this.log=n.Cb("ManifestFetcher");this.wg=p.wg;}Object.defineProperty(b,"__esModule",{value:!0});b.SBa=void 0;r=a(1);f=a(0);k=a(19);l=a(42);d=a(8);g=a(4);h=a(118);a=a(272);c.prototype.zT=function(n,q){var p,t;p=this;q && this.Clb(n.aa,q);if(!this.R3(n.aa)){this.log.trace("Requesting a new manifest",n.aa);t=this.Nf.Wb().ea(g.ma);q=this.vIb.Qf(this.log,n).then(function(u){var w,v;if(u.fv){w=u.fv;v={M7:Promise.resolve(w),source:"manifest"};delete u.fv;p.wg.setData(n.aa,"ldl",v,function(){w.close().catch(function(x){p.log.info("Unable to cleanup LDL session.",x);});});}n.pv === h.Zj.QD && (u.UG=t,u.cN=p.Nf.Wb().ea(g.ma));return u;}).catch(function(u){p.Xsa(n.aa,void 0);p.log.error("Failed to fetch manifest",l.ed.wd(u));throw u;});this.Xsa(n.aa,q);}return this.h3(n.aa);};c.prototype.R3=function(n){return this.wg.RT(n,"manifest");};c.prototype.Xsa=function(n,q){var p;p=this;this.wg.setData(n,"manifest",q,function(){return p.jDb(n);});};c.prototype.h3=function(n){return this.wg.getData(n,"manifest");};c.prototype.jDb=function(n){var q;null === (q=this.cW.get(n)) || void 0 === q?void 0:q.forEach(function(p){return p();});this.cW.delete(n);};c.prototype.Clb=function(n,q){this.cW.has(n) || this.cW.set(n,[]);this.cW.get(n).push(q);};m=c;m=r.__decorate([f.R(),r.__param(0,f.l(d.Jb)),r.__param(1,f.l(k.rd)),r.__param(2,f.l(a.V9)),r.__param(3,f.l(h.Raa))],m);b.SBa=m;},function(r,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.BMa=void 0;c=a(1203);f=a(120);r=a(0);k=a(89);l=a(14);b.BMa=new r.$c(function(d){d(f.VH).to(c.cva).$();});b.profile=new r.$c(function(d){d(k.NP).$C(function(g){return (g=g.$a.get(l.Zc)()) && g.hv?"browsertest":"browser";});});},function(r,b,a){var f,k,l,d,g,h;function c(m,n,q,p){m=d.hf.call(this,m,void 0 === p?"AppInfoConfigImpl":p) || this;m.config=n;m.G8=q;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.cva=void 0;r=a(1);f=a(0);k=a(38);l=a(44);d=a(45);g=a(37);a=a(214);la(c,d.hf);c.prototype.zBb=function(m){return "" + this.IRa + (this.G8.T7(m)?"/msl_v1":"");};c.prototype.JBb=function(m){return "" + this.host + (this.G8.T7(m)?"/msl":"") + "/playapi";};Xa.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},IRa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var m;switch(this.config.PK){case k.Ew.Seb:m="www.stage";break;case k.Ew.uHa:m="www-qa.test";break;case k.Ew.yAa:m="www-int.test";break;default:m="www";}return "https://" + m + ".netflix.com";}},vNa:{configurable:!0,enumerable:!0,get:function(){return "pbo_manifests";}}});h=c;r.__decorate([l.config(l.string,"apiEndpoint")],h.prototype,"endpoint",null);r.__decorate([l.config(l.string,"nqEndpoint")],h.prototype,"IRa",null);r.__decorate([l.config(l.string,"bindService")],h.prototype,"vNa",null);h=r.__decorate([f.R(),r.__param(0,f.l(g.lm)),r.__param(1,f.l(k.gm)),r.__param(2,f.l(a.VZ)),r.__param(3,f.l(g.DO)),r.__param(3,f.optional())],h);b.cva=h;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.vYb=b.Zeb=b.Xeb=b.Web=b.Yeb=void 0;c=a(29);f=a(11);b.Yeb=function(k,l,d){for(d=(d - k.length) / l.length;0 < d--;){k+=l;}return k;};b.Web=function(k,l,d){d=c.Ce(d)?d:"...";return k.length <= l?k:k.substr(0,k.length - (k.length + d.length - l)) + d;};b.Xeb=function(k,l){var g;for(var d=1;d < arguments.length;++d){;}g=f.slice.call(arguments,1);return k.replace(/{(\d+)}/g,function(h,m){return "undefined" != typeof g[m]?g[m]:h;});};b.Zeb=function(k){for(var l=k.length,d=new Uint16Array(l),g=0;g < l;g++){d[g]=k.charCodeAt(g);}return d.buffer;};b.vYb=function(k){var l;l=new Uint8Array(k.length);Array.prototype.forEach.call(k,function(d,g){l[g]=d.charCodeAt(0);});return l;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(7);b=a(108);a=a(269);r.ha.get(b.vI).k7(a.caa.I9a,function(c){var f,k;f=c.level;if(!pb._cad_global.config || f <= pb._cad_global.config.cIb){c=c.x8();k=pb.console;1 >= f?k.error(c):2 >= f?k.warn(c):k.log(c);}});},function(r,b,a){var h,m,n,q,p;function c(t){var u,v;m.BK(t);if(n.Ce(t) && b.lAa.test(t)){u=t.split(".");if(4 === u.length){for(var w=0;w < u.length;w++){v=n.se(u[w]);if(0 > v || !p.Oy(v,0,255) || 1 !== u[w].length && 0 === u[w].indexOf("0"))return;}return t;}}}function f(t){var u;u=0;if(c(t) === t)return (t=t.split("."),u+=n.se(t[0]) << 24,u+=n.se(t[1]) << 16,u+=n.se(t[2]) << 8,u + n.se(t[3]));}function k(t){var u;m.BK(t);if(n.Ce(t) && t.match(b.mAa)){u=t.split(":");-1 !== u[u.length - 1].indexOf(".") && (t=l(u[u.length - 1]),u.pop(),u.push(t[0]),u.push(t[1]),t=u.join(":"));t=t.split("::");if(!(2 < t.length || 1 === t.length && 8 !== u.length) && (u=1 < t.length?d(t):u,t=u.length,8 === t)){for(;t--;){if(!p.Oy(parseInt(u[t],16),0,h.BBa))return;}return u.join(":");}}}function l(t){var u;t=f(t) >>> 0;u=[];u.push((t >>> 16 & 65535).toString(16));u.push((t & 65535).toString(16));return u;}function d(t){var u,w,v;u=t[0].split(":");t=t[1].split(":");1 === u.length && "" === u[0] && (u=[]);1 === t.length && "" === t[0] && (t=[]);w=8 - (u.length + t.length);if(1 > w)return [];for(v=0;v < w;v++){u.push("0");}for(v=0;v < t.length;v++){u.push(t[v]);}return u;}function g(t){return -1 << 32 - t;}Object.defineProperty(b,"__esModule",{value:!0});b.Obb=b.Tbb=b.Qbb=b.Pbb=b.Sbb=b.Nbb=b.Rbb=b.tD=b.mAa=b.lAa=void 0;h=a(12);m=a(21);n=a(29);q=a(11);p=a(18);b.lAa=/^[0-9.]*$/;b.mAa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.tD="0000000000000000";b.Rbb=c;b.Nbb=f;b.Sbb=k;b.Pbb=l;b.Qbb=d;b.Tbb=function(t,u,w){var v,x,y,z;v=c(t);x=k(t);y=c(u);z=k(u);if(!v && !x || !y && !z || v && !y || x && !z)return !1;if(t === v)return (w=g(w),(f(t) & w) !== (f(u) & w)?!1:!0);if(t === x){t=t.split(":");u=u.split(":");for(v=q.Jw(w / b.tD.length);v--;){if(t[v] !== u[v])return !1;}w%=b.tD.length;if(0 !== w)for((t=parseInt(t[v],16).toString(2),u=parseInt(u[v],16).toString(2),t=b.tD.substring(0,b.tD.length - t.length) + t,u=b.tD.substring(0,b.tD.length - u.length) + u,v=0);v < w;v++){if(t[v] !== u[v])return !1;}return !0;}return !1;};b.Obb=g;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(13);a(12);r=a(7);a(108);a(269);a(3);a(107);a(4);a=a(32);r.ha.get(a.Xg);!1;},function(r,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(47);f=a(12);k=a(13);l=a(3);d=a(196);g=a(34);h=a(11);m=a(7);r=a(32);n=m.ha.get(r.Xg);n.register(l.M.hAa,function(q){h.kp && h.kp.generateKey && h.kp.importKey && h.kp.unwrapKey?!m.ha.get(g.wA).c$ && k.config.cK != d.uw.$db && k.config.cK != d.uw.mcb || h.eZ?(n.Od("wcs"),c.zG(h.kp.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){n.Od("wcdone");q(f.Ie);},function(p){var t;p="" + p;if(0 <= p.indexOf("missing crypto.subtle"))t=l.L.Xba;else 0 <= p.indexOf("timeout waiting for iframe to load") && (t=l.L.pfb);q({oa:t,rb:p});})):q({oa:l.L.ofb}):q({oa:l.L.Xba});});},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(3);c=a(7);f=a(475);a=a(32);c.ha.get(a.Xg).register(r.M.Xza,function(k){c.ha.get(f.cya)().then(function(){k({W:!0});}).catch(function(l){c.log.error("error in initializing indexedDb debug tool",l);k({W:!0});});});},function(r,b,a){var l,d,g,h;function c(m,n,q,p){var t,u,w;l.hb(h.kh(m) && !h.isArray(m));p=p || "";t="";u=m.hasOwnProperty(g.Xj) && m[g.Xj];u && d.de(u,function(v,x){t && (t+=" ");t+=v + '="' + k(x) + '"';});q=(n?n + ":":"") + q;u=p + "<" + q + (t?" " + t:"");w=m.hasOwnProperty(g.Mr) && m[g.Mr].trim && "" !== m[g.Mr].trim() && m[g.Mr];if(w)return u + ">" + k(w) + "</" + q + ">";m=f(m,n,p + "  ");return u + (m?">\n" + m + "\n" + p + "</" + q + ">":"/>");}function f(m,n,q){var p;l.hb(h.kh(m) && !h.isArray(m));q=q || "";p="";d.de(m,function(t,u){var x;if("$" != t[0])for(var w=d.Av(u),v=0;v < w.length;v++){if((u=w[v],p && (p+="\n"),h.kh(u)))p+=c(u,n,t,q);else {x=(n?n + ":":"") + t;p+=q + "<" + x + ">" + k(u) + "</" + x + ">";}}});return p;}function k(m){if(h.Ce(m))return d.WT(m);if(h.ya(m))return (l.pS(m,"Convert non-integer numbers to string for xml serialization."),"" + m);if(null === m || void 0 === m)return "";l.hb(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.tWb=b.AGb=b.zGb=void 0;l=a(21);d=a(24);g=a(152);h=a(18);b.zGb=c;b.AGb=f;b.tWb=k;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x,y,z,A;Object.defineProperty(b,"__esModule",{value:!0});c=a(275);f=a(155);k=a(13);l=a(12);d=a(3);g=a(21);h=a(7);m=a(70);n=a(66);q=a(78);p=a(24);t=a(11);u=a(18);w=a(47);v=a(107);x=a(4);r=a(32);y=a(444);z={};A=h.ha.get(r.Xg);A.register(d.M.$za,function(B){var C,G,J,K,H,L,P,I,O,N,M,Q,S,fa;function D(qa){qa && qa.userList && k.config.RTb && (qa.userList=[]);K({esn:f.ji.ki,esnPrefix:f.ji.Pn,authenticationType:k.config.cK,authenticationKeyNames:k.config.lNa,systemKeyWrapFormat:k.config.GVb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:S,storeState:qa,notifyMilestone:A.Od.bind(A),log:P,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:d.L.Acb,MSL_READ_TIMEOUT:d.L.zcb}},{result:function(xa){E(xa);},timeout:function(){B({oa:d.L.MBa});},error:function(xa){B(F(d.L.MBa,void 0,xa));}});}function E(qa){var ua,X,sa;function xa(){Q && h.ha.get(q.dA).create().then(function(T){return T.save(N,X,!1);}).catch(function(T){P.error("Error persisting msl store",d.Sr(T));});}ua=h.ha.get(v.MI)(x.xc(100));sa=H.extend({init:function(T){this.rKa=T;},getResponse:function(T,R,ca){var ja,Pa;R=this.rKa;ja=R.NZa.Ef || ja;T=u.zma(T.body)?h.wX(T.body):T.body;g.BK(T,"Msl should not be sending empty request");T={url:R.url,bqa:T,withCredentials:!0,qF:"nq-" + R.method,headers:R.headers};R=this.rKa.timeout;T.G1=R;T.Hoa=R;Pa=ja.download(T,function(wa){try{if(wa.W)ca.result({body:wa.content});else if(400 === wa.mk && wa.rb)ca.result({body:wa.rb});else throw p.Tb(new L("HTTP error, SubCode: " + wa.oa + (wa.mk?", HttpCode: " + wa.mk:"")),{cadmiumResponse:wa});}catch(Ua){ca.error(Ua);}});return {abort:function(){Pa.abort();}};}});O && qa.addEventHandler("shouldpersist",function(T){X=T.storeState;ua.ql(xa);});p.Tb(z,{t6b:function(){M=!0;},send:function(T){function R(){var ca,ja;ca=T.NZa;ja={method:T.method,nonReplayable:T.HKb,encrypted:T.lk,userId:T.tYb,body:T.body,timeout:2 * T.timeout,url:new sa(T),allowTokenRefresh:Q,sendUserAuthIfRequired:fa,shouldSendUserAuthData:k.config.VTb};ca.email?(ja.email=ca.email,ja.password=ca.password || ""):ca.vWb?(ja.token=ca.vWb,ja.mechanism=ca.l7b,ca.yoa && (ja.netflixId=ca.yoa,ja.secureNetflixId=ca.eSb),ca.sqa && (ja.profileGuid=ca.sqa)):ca.yoa?(ja.netflixId=ca.yoa,ja.secureNetflixId=ca.eSb):ca.hJb?(ja.mdxControllerToken=ca.hJb,ja.mdxPin=ca.j7b,ja.mdxNonce=ca.i7b,ja.mdxEncryptedPinB64=ca.h7b,ja.mdxSignature=ca.k7b):M || ca.useNetflixUserAuthData?ja.useNetflixUserAuthData=!0:ca.sqa && (ja.profileGuid=ca.sqa);return ja;}return new Promise(function(ca,ja){var Pa;Pa=R();qa.send(Pa).then(function(wa){M && (M=!1);ca({W:!0,body:wa.body});}).catch(function(wa){var Ua,Va;if(wa.error){Ua=wa.error.cadmiumResponse && wa.error.cadmiumResponse.oa?wa.error.cadmiumResponse.oa:qa.isErrorReauth(wa.error)?d.L.LBa:qa.isErrorHeader(wa.error)?d.L.tcb:d.L.scb;Va=qa.getErrorCode(wa.error);ja(F(Ua,Va,wa.error));}else (P.error("Unknown MSL error",wa),wa.kc=wa.subCode,ja({oa:wa.kc?wa.kc:d.L.Bcb}));});});},WU:qa});B(l.Ie);h.ha.get(y.uaa).rKb(z);}function F(qa,xa,ua){var X,sa,T,R;T={oa:qa,SK:xa};if(ua){R=function(ca){var ja;ca=ca || "" + ua;if(ua.stack){ja="" + ua.stack;ca=0 <= ja.indexOf(ca)?ja:ca + ja;}return ca;};if(sa=ua.cadmiumResponse){if(X=sa.Ze && sa.Ze.toString())sa.Ze=X;sa.oa=qa;sa.SK=xa;sa.rb=R(ua.message);sa.error={kc:qa,xd:X,Kv:xa,data:ua.cause,message:ua.message};return sa;}R=R(ua.errorMessage);X=p.se(ua.internalCode) || p.se(ua.error && ua.error.internalCode);sa=void 0 !== ua.Wwb?w.Uoa(ua.Wwb):void 0;}R && (T.rb=R);X && (T.Ze=X);T.error={kc:qa,xd:X.toString(),Kv:xa,data:sa,message:R};return T;}g.hb(k.config);C=h.ha.get(m.XD);G=n.oq.oj;if(t.uA && t.kp && t.kp.unwrapKey){try{J=pb.netflix.msl;K=J.createMslClient;H=J.IHttpLocation;L=J.MslIoException;}catch(qa){B({oa:d.L.ucb});return;}P=h.mi("Msl");I=k.config.nKb;O=k.config.pKb;N=k.config.hv?"mslstoretest":"mslstore";J=c.sH.F3a;M=k.config.DEb;Q=!J || J.W;S=h.Kq(k.config.hv?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");fa=! !k.config.hsa;h.ha.get(q.dA).create().then(function(qa){I?qa.remove(N).then(function(){D();}).catch(function(xa){P.error("Unable to delete MSL store",d.Sr(xa));D();}):O?qa.load(N).then(function(xa){C.mark(G.wcb);D(xa.value);}).catch(function(xa){xa.oa == d.L.zA?(C.mark(G.ycb),D()):(P.error("Error loading msl store",d.Sr(xa)),C.mark(G.xcb),qa.remove(N).then(function(){D();}).catch(function(ua){B(ua);}));}):D();}).catch(function(qa){P.error("Error creating app storage while loading msl store",d.Sr(qa));B(qa);});}else B({oa:d.L.vcb});});},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(183);f=a(12);k=a(13);l=a(63);d=a(51);r=a(3);g=a(7);h=a(70);m=a(11);n=a(62);q=a(18);p=a(55);t=a(99);a=a(32);v=g.ha.get(a.Xg);v.register(r.M.Yza,function(x){var z;function y(){var A,B,D;A=v.startTime;B={browserua:m.vA,browserhref:m.gZ.href,initstart:A,initdelay:v.endTime - A};(A=m.He.documentMode) && (B.browserdm="" + A);"undefined" !== typeof pb.nrdp && pb.nrdp.device && (B.firmware_version=pb.nrdp.device.firmwareVersion);q.Py(k.config.gSa) && (B.fesn=k.config.gSa);Object.assign(B,c.Dka());D=m.ru && m.ru.timing;D && k.config.$Hb.map(function(E){var F;F=D[E];F && (B["pt_" + E]=F - d.HOa());});A=z.iUa();Object.entries(A).forEach(function(E){var F;F=aa(E);E=F.next().value;F=F.next().value;return B["m_" + E]=F;});A=w.bv("startup","info",B,l.GI.eja);u.te(A);}w=g.ha.get(t.qA);u=g.ha.get(p.Ao);z=g.ha.get(h.XD);v.xU(function(){u.nb();n.fg(y);});x(f.Ie);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w,v,x;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);f=a(53);k=a(483);l=a(1215);d=a(280);g=a(13);h=a(12);m=a(188);n=a(529);q=a(51);r=a(3);p=a(7);t=a(264);u=a(11);w=a(276);b=a(32);v=a(63);x=a(129);p.ha.get(b.Xg).register(r.M.Uza,function(y){var z,A,B,D,E,F,C;z=p.ha.get(t.jZ).aha();A=p.ha.get(m.n$).eI;B=p.ha.get(k.vCa).rq;D={FG:p.nT("ASE"),qmb:p.nT("JS-ASE",void 0,"Platform"),mi:p.nT,storage:w.storage,yBb:u.cI,getTime:q.Ki,SL:{},rq:B,vu:l.vu,eI:A,MediaSource:n.yCa,SourceBuffer:d.naa,Rn:function(){return [g.config.xR,g.config.yR];},Cs:function(G){v.Fo.forEach(function(J){J.d4a(G);});}};A=new Promise(function(G){w.storage.load("nh",function(J){D.SL.nh=J.W?J.data:void 0;G();});});B=new Promise(function(G){w.storage.load("lh",function(J){D.SL.lh=J.W?J.data:void 0;G();});});E=new Promise(function(G){w.storage.load("gh",function(J){D.SL.gh=J.W?J.data:void 0;G();});});F=new Promise(function(G){w.storage.load("sth",function(J){D.SL.sth=J.W?J.data:void 0;G();});});C=new Promise(function(G){w.storage.load("vb",function(J){D.SL.vb=J.W?J.data:void 0;G();});});Promise.all([A,B,C,F,E]).then(function(){return c.__awaiter(this,void 0,void 0,function J(){var K,H,L;return Ha(J,function(P){var I;if(1 == P.uG){K=a(1217)(D);x.vm.Cd=a(530);x.vm.Cd.declare(f.kk);x.vm.Cd.set(a(181)(g.config),!0,p.nT("ASE"));H=f.vYa(K);x.vm.WMa=new H(x.vm.Cd,z);x.vm.WMa.nb(g.config.xR,g.config.yR,{FG:D.FG},g.config.fN);I=f.IF(K);P.uG=2;return {value:I};}L=P.Lua;L.open(x.vm.Cd,z);L.lsa({audio:g.config.xR,video:g.config.yR},{V:g.config.fN,da:void 0});x.vm.cj=L;y(h.Ie);P.uG=0;});});}).catch(function(G){D.FG.error("Exception loading location history from local storage",G);});});},function(r,b,a){var f,k,l,d,g,h,m;function c(){var n;n=new k.Yj();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.qc.bind(this);this.h0=h++;this.dg=l.mi("ProbeRequest");this.OKa=f.IFa;d.hb(void 0 !== this.OKa);this.dh=b.vu.Bc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.vu=void 0;f=a(1216);k=a(73);l=a(7);d=a(21);g=a(29);h=0;(function(){function n(){return JSON.stringify({url:this.Sk,id:this.h0,affected:this.b_,readystate:this.dh});}g.Tb(c.prototype,{rM:function(q){q.affected=this.b_;q.probed={requestId:this.h0,url:this.Sk,zd:this.aR,groupId:this.M_};this.emit(b.vu.xe.BP,q);},Ooa:function(q){this.okb=q.httpcode;q.affected=this.b_;q.probed={requestId:this.h0,url:this.Sk,zd:this.aR,groupId:this.M_};this.emit(b.vu.xe.ND,q);},open:function(q,p,t,u){if(!q)return (!1,!1);this.Sk=q;this.b_=p;this.aR=t;this.dh=b.vu.Bc.OPENED;this.Qhb=u;this.OKa.lT(this);return !0;},Lc:function(){!1;return !0;},Kh:function(){return this.h0;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.dh;},set:function(){}},status:{get:function(){return this.okb;}},url:{get:function(){return this.Sk;}},n4b:{get:function(){return this.b_;}},THb:{get:function(){return this.Qhb;}}});})();(function(n){n.xe={BP:"pr0",ND:"pr1"};n.Bc={UNSENT:0,OPENED:1,Rw:2,DONE:3,jI:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(m || (m={}));b.vu=Object.assign(c,m);},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});b.IFa=void 0;c=a(7);f=a(72);b.IFa=(function(){c.mi("ProbeDownloader");return {lT:function(k){k={url:k.url,XOb:k};!1;f.Ef.$Ob(k);}};})();},function(r,b,a){var g,h,m,n,q,p,t,u,w,v,x,y,z,A,B,D;function c(E,F,C){this.Kn=E;this.groups=F;this.prefix=C;E=v(E,F,C);this.info=E.info.bind(E);this.fatal=E.fatal.bind(E);this.error=E.error.bind(E);this.warn=E.warn.bind(E);this.trace=E.trace.bind(E);this.debug=E.debug.bind(E);this.log=E.log.bind(E);}function f(){this.zPa=function(){throw Error("Not implemented");};this.fvb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function k(){}function l(){return w?w:"0.0.0.0";}function d(E){E({W_a:0,YW:0,QVa:0,fSa:0});}g=a(16);f.prototype.set=function(E,F){n[E]=F;q.save(E,F);};f.prototype.get=function(E,F){if(n.hasOwnProperty(E))return n[E];u.trace("key: " + E + ", is not available in storage cache and needs to be retrieved asynchronously");q.load(E,function(C){C.W?(n[E]=C.data,F && F(C.data)):n[E]=void 0;});};f.prototype.remove=function(E){q.remove(E);};f.prototype.clear=function(){u.info("WARNING: Calling unimplemented function Storage.clear()");};k.prototype.now=function(){return p();};k.prototype.ba=function(){return t();};k.prototype.uoa=function(E){return E + p() - t();};k.prototype.Poa=function(E){return E + t() - p();};c.prototype.OPa=function(E){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,da(this.prefix)):this.prefix && F.push(this.prefix);F.push(E);return new c(this.Kn,this.groups,F);};x=(function(){var E;E=Promise;E.prototype.fail=Promise.prototype.catch;return E;})();r.exports=function(E){h=E.FG;v=E.mi;q=E.storage;n=E.SL;p=E.yBb;t=E.getTime;u=E.qmb;y=E.rq;D=E.vu;z=E.eI;A=E.SourceBuffer;B=E.MediaSource;w=E.w6b;m=E.Cs;return {name:"cadmium",Cs:m,FG:h,storage:new f(),Storage:f,time:new k(),events:new g.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,rq:y,eI:z,Ecb:A,MediaSource:B,vu:D,eo:{name:l},memory:{HAb:d},Rn:E.Rn};};},function(r,b,a){r.exports={EventEmitter:a(1219),yh:a(1220)};},function(r){function b(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.fd)return (this.fd={},this.fd[c]=[f],!0);k=this.fd[c];return void 0 === k?(this.fd[c]=[f],!0):0 > k.indexOf(f)?(k.push(f),!0):!1;}function a(c,f){c=this.fd?this.fd[c]:void 0;if(!c)return !1;c.forEach(function(k){k(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.fd)return !1;k=this.fd[c];if(void 0 === k)return !1;f=k.indexOf(f);if(0 > f)return !1;if(1 === k.length)return (delete this.fd[c],!0);k.splice(f,1);return !0;},Ua:a,emit:a,removeAllListeners:function(c){this.fd && (void 0 === c?delete this.fd:delete this.fd[c]);return this;}};},function(r){function b(c,f,k,l){c.trace(":",k,":",l);f(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,k,l){k=l?k.bind(l):k;l=!1;if(c){this.console && (k=b.bind(null,this.console,k,f));if("function" === typeof c.addEventListener)l=c.addEventListener(f,k);else if("function" === typeof c.addListener)l=c.addListener(f,k);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,k]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var k,l;k=f[0];l=f[1];f=f[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,f):"function" === typeof k.removeListener && k.removeListener(l,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var f,k,l,d,g,h,m,n,q;function c(p,t){var v,x,y,z,A,B,D,E,F,C,G;function u(){var J;J=p.bc.value === n.Db.Hc && p.state.value === n.Kb.$d && p.K === t.K;G?J || (clearInterval(G),B=G=void 0):J && (G=pb.setInterval(w,1E3));}function w(){var J,K,H,L,P,I;J=p.Uf.value;J=(J=J && J.stream) && J.height;if(null !== J && 0 < J){K=d.Ki();H=p.Bg.DF();if(H){if(B && 2E3 > K - B.time && J === B.height){L=H - B.Hvb;P=x[J];P || (x[J]=P=[],J > E && (A.push(J),l.VX(A)));0 < L && !(C && C < J) && (C=J);P.push(L);P.length > D && P.shift();(P=z[J]) || (z[J]=P={});I=P[L];P[L]=I?I + 1:1;}B={time:K,Hvb:H,height:J};p.M6 && p.M6.OSb(x);}}}v=g.jh(p,"DFF");x={};y=f.config.Lvb;z={};A=[];D=f.config.Jvb;E=f.config.Kvb;F=k.ABa;if(f.config.Ivb)return (t.hia={szb:function(){var J;J={};z && A.forEach(function(K){var H,L,P;H=z[K];if(H){L=0;P=0;q.de(H,function(I,O){P+=h.se(I);L+=O;});J[K]=P / L;}});return J;},FT:function(J){var K;K={};J.forEach(function(H){K[H]={};});z && (l.VX(J),A.forEach(function(H){var L,P,I,O;L=z[H];if(L){P=0;I=0;q.de(L,function(fa,qa){P+=qa;});O=Object.keys(L).map(Number);l.VX(O);for(var N=O.length - 1,M=O[N],Q=J.length - 1;0 <= Q;Q--){for(var S=J[Q];M >= S && 0 <= N;){(M=L[M]) && (I+=M);M=O[--N];}K[S][H]=m.Bi(I / P * 100);}}}));return K;}},p.state.addListener(u),p.bc.addListener(u),p.addEventListener(n.Z.gG,u),{WK:"df",Tt:function(J){var L,P,I,M,Q;if(J.lower && J.height > E){J=J.height;a:{if(C){for(var K=A.length,H=0;H < K;H++){L=A[H];if(L >= C && L < F){P=x[L];if(I=P)b:{I=y.length;for(var O=P.length,N=0;N < I;N++){M=y[N];Q=M[0];M=M[1];for(var S=0;S < O;S++){if(P[S] >= M && 0 >= --Q){I=!0;break b;}}}I=!1;}if(I && F != L){v.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:L});t.gp.set({reason:"droppedFrames",height:L});K=F=L;break a;}}}C=void 0;}K=F;}J=J >= K;}else J=!1;return J;}});}Object.defineProperty(b,"__esModule",{value:!0});b.Gcb=void 0;r=a(100);f=a(13);k=a(12);l=a(47);d=a(51);g=a(7);h=a(29);m=a(11);n=a(17);q=a(24);r.ED(c);b.Gcb=c;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(100).ED(function(){return {WK:"op",Tt:function(){}};});},function(r,b,a){var f,k;function c(l,d){var g,h;g=k.jh(l,"MSS");if(f.config.JJb)return {WK:"mss",Tt:function(m){var n,q;if(m.lower && 2160 <= m.height)a:{for(n=m;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === h){try{q=pb.MSMediaKeys;h=q && q.isTypeSupportedWithFeatures?"probably" === q.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(p){g.error("hasUltraHdDisplay exception");h=!0;}h || (g.warn("Restricting resolution due screen size",{MaxHeight:m.height}),d.gp.set({reason:"microsoftScreenSize",height:m.height}));}return !h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Hcb=void 0;r=a(100);f=a(13);k=a(7);r.ED(c);b.Hcb=c;},function(r,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(100);c=a(1225);f=a(7);k=a(34);l=a(79);r.ED(function(d){var g;if(f.ha.get(k.Mk).bW){g=f.ha.get(l.pu);return new c.IAa(d,f.Ag,g);}});},function(r,b,a){var f;function c(k,l,d){var g;g=this;this.j=k;this.za=l;this.$na=d;this.wma=!1;this.log=this.za.Cb("KeySystemRobustness",this.j);this.wma=!1;this.$na.vy().then(function(h){var m,n;n=null === (m=h.getConfiguration().videoCapabilities) || void 0 === m?void 0:m.map(function(q){return q.robustness;});g.wma=!(null === n || void 0 === n || !n.some(function(q){return q === f.pI;}));k.e4a("keySystem",h.keySystem);k.e4a("robustness",null === n || void 0 === n?void 0:n.toString());g.log.trace("KeySystemRobustness: " + n);}).catch(function(h){g.log.error("KeySystemRobustness exception",h);});}Object.defineProperty(b,"__esModule",{value:!0});b.IAa=void 0;f=a(59);c.prototype.Tt=function(k){return k.lower && k.My && !this.wma && 720 < k.height;};Xa.Object.defineProperties(c.prototype,{WK:{configurable:!0,enumerable:!0,get:function(){return "KeySystemRobustness";}}});b.IAa=c;},function(r,b,a){var c,f,k;Object.defineProperty(b,"__esModule",{value:!0});r=a(100);c=a(13);f=a(7);k=a(1227);r.ED(function(l,d){if(c.config.FGb)return new k.HAa(l,d,f.Ag,c.config,f.wa,f.yc);});},function(r,b,a){var f,k,l;function c(d,g,h,m,n,q){var p;p=this;this.j=d;this.bn=g;this.za=h;this.config=m;this.wa=n;this.yc=q;this.bmb=function(t){!0 === t.oldValue && !1 === t.newValue && (p.log.error("RestartStreaming: UHD key is no longer usable"),p.j.CRb());};this.dXb=function(t){var u,w,v;p.log.trace("UhdKeyStatus: " + t.oldValue + " -> " + t.newValue);w=null === t || void 0 === t?void 0:t.newValue;v=null === t || void 0 === t?void 0:t.oldValue;"usable" !== w && (p.JSb(w,(null === (u=null === t || void 0 === t?void 0:t.dv) || void 0 === u?void 0:u.height) || 0),"usable" === v && (t=p.wa.Ye.Aa(p.HGb),p.log.error("UHD KeyStatus unexpectedly changed: " + t.ea(l.ma))));};this.kXa=!1;this.log=this.za.Cb("KeyStatusStreamFilter",this.j);this.rMa=new k.Ac(!1,this.bmb);this.cXb=new k.Ac(void 0,this.dXb);}Object.defineProperty(b,"__esModule",{value:!0});b.HAa=void 0;f=a(204);k=a(105);l=a(4);c.prototype.Tt=function(d){this.jVb();this.rMa.set(this.kXa && this.JDb);return d.lower && 1080 < d.height && !this.rMa.value?!0:!1;};c.prototype.eqb=function(){this.JDb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.KVa);};c.prototype.Qsb=function(){var d,g,h;g={};h=null === (d=this.bn.Sh.value) || void 0 === d?void 0:d.Et;null === h || void 0 === h?void 0:h.forEach(function(m){g[m.Ni]=m.nW.height;});this.log.trace("KeyStatusMap",g);return g;};c.prototype.XZa=function(d){var g;g=this;Object.entries(d).forEach(function(h){var m;m=aa(h);h=m.next().value;m=m.next().value;h=g.GGb[h];1080 < h && (g.kXa="usable" === m,g.cXb.set(m,{height:h}));});};c.prototype.jVb=function(){var d,g;d=this;g=this.bn.Xe;!this.jGb && f.ema(g) && (this.jGb=!0,this.GGb=this.Qsb(),this.XZa(g.keyStatuses.value),g.keyStatuses.addListener(function(h){return d.XZa(h.newValue);}),this.yc.Rj(l.xc(this.config.KVa),function(){return d.eqb();}),this.HGb=this.wa.Ye);};c.prototype.JSb=function(d,g){this.log.error("Restricting resolution due to keyStatus",{keyHeight:g,keyStatus:d});this.bn.gp.set({reason:"keyStatus",height:g});};Xa.Object.defineProperties(c.prototype,{WK:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.HAa=c;},function(r,b,a){var c,f;Object.defineProperty(b,"__esModule",{value:!0});r=a(100);c=a(13);f=a(7);r.ED(function(k,l){var d,g,h,m;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.eXb);g=d[l.ie];if(c.config.fXb && g){h={};m=f.jh(k,"MediaStreamFilter");return {WK:"uiLabel",Tt:function(n){if(n.lower && n.height > g)return (h[n.height] || (h[n.height]=!0,m.warn("Restricting resolution due to uiLabel",{MaxHeight:g,streamHeight:n.height}),l.gp.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(183);f=a(528);r=a(63);k=a(13);l=a(64);d=a(12);g=a(47);h=a(51);m=a(24);n=a(11);q=a(7);p=a(120);t=a(17);u=a(32);w=a(34);r.fba(r.aba,function(v){var E,F,C,G,J,K;function x(H){var L,P;if(H.newValue >= t.Kb.LOADING){v.state.removeListener(x);H=n.fZ;try{L="" + h.y1();localStorage.setItem("player$test",L);P=localStorage.getItem("player$test");localStorage.removeItem("player$test");L=L == P?"success":"mism";}catch(I){L="ex: " + I;}D("type=openplay&sev=info&locstor=" + H.call(n,L));C=h.Ki();A();}}function y(){K("type=startplay&sev=info&outcome=success");}function z(){var H,L;H=v.al;if(H){L="type=startplay&sev=error&outcome=error";H=c.rka(q.ha.get(w.Mk).rp,H);m.de(H,function(P,I){L+="&" + n.fZ(P) + "=" + n.fZ(I || "");});K(L);}else K("type=startplay&sev=info&outcome=abort");}function A(){var H,L;H=G.shift();if(0 < H){L=n.qn(H - (h.Ki() - C),0);F=setTimeout(function(){D("type=startstall&sev=info&kt=" + H);A();},L);}}function B(){K("type=startplay&sev=info&outcome=unload");}function D(H){H=J + "&soffms=" + v.zka() + "&" + H;v.cd && Object.keys(v.cd).length && (H+="&" + g.tM(m.Tb({},v.cd,{prefix:"sm_"})));f.h6a("playback",H,E);}E=q.ha.get(p.VH).host + k.config.Fta;if(k.config.i6a && E && k.config.j6a.playback){G=k.config.GWb.slice();J="xid=" + v.ca + "&pbi=" + v.index + "&uiLabel=" + (v.ie || "");v.state.addListener(x);v.addEventListener(t.Z.ut,y);v.addEventListener(t.Z.xg,z);l.mf.addListener(l.Jm,B,d.OD);K=function(H){var L;K=d.Kk;L=q.ha.get(u.Xg);H+="&initstart=" + L.startTime + "&initend=" + L.endTime;D(H);clearTimeout(F);v.removeEventListener(t.Z.ut,y);v.removeEventListener(t.Z.xg,z);l.mf.removeListener(l.Jm,B);};}});},function(r,b,a){var c,f,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(13);f=a(12);r=a(3);k=a(7);l=a(164);a=a(32);k.ha.get(a.Xg).register(r.M.Wza,function(d){c.config.Nyb && k.ha.get(l.eza).start();d(f.Ie);});},function(r,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.Twa=void 0;c=a(72);f=a(47);k=a(21);l=a(24);d=a(29);b.Twa=function(g,h){k.hb(g);k.hb(h);k.BK(h.Mwb,"endpointURL property is required");k.hb(h.Vd);this.log=g;this.Y0a=h;};b.Twa.prototype.IB=function(){var g,h,m;g=this;g.log.trace("Downloading config data.");h={browserInfo:JSON.stringify(g.Y0a.Vd)};m=g.Y0a.Mwb + "?" + f.tM(h);return new Promise(function(n,q){function p(v){var x,y;try{if(v.W){x=new Uint8Array(v.content);y=String.fromCharCode.apply(null,x);return {W:!0,config:JSON.parse(y).core.initParams};}return {W:!1,message:"Unable to download the config. " + v.rb,QF:v.mk};}catch(z){return (v=l.wd(z),g.log.error("Unable to download the config. Received an exception parsing response",{message:z.message,exception:v,url:m}),{W:!1,rb:v,message:"Unable to download the config. " + z.message});}}function t(v,x,y){return x > y?(g.log.error("Config download failed, retry limit exceeded, giving up",d.Tb({Attempts:x - 1,MaxRetries:y},v)),!1):!0;}function u(v){return new Promise(function(x){setTimeout(function(){x();},v);});}function w(v,x,y){c.Ef.download(v,function(z){var A;z=p(z);if(z.W)n(z);else {g.log.warn("Config download failed, retrying",d.Tb({Attempt:x,WaitTime:A,MaxRetries:y},z));if(t(z,x + 1,y)){A=l.Bqa(1E3,1E3 * Math.pow(2,Math.min(x - 1,y)));return u(A).then(function(){return w(v,x + 1,y);});}q(z);}});}return c.Ef?w({url:m,responseType:3,withCredentials:!0,qF:"config-download"},1,3):Promise.reject({W:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(155);f=a(160);k=a(12);l=a(13);r=a(3);d=a(7);g=a(21);h=a(24);m=a(29);n=a(18);q=a(55);p=a(99);a=a(32);d.ha.get(a.Xg).register(r.M.eAa,function(t){var u,w;u=d.mi("NccpApi");w=h.RMa(["info","warn","trace","error"]);f.SI.zR.nccp={getEsn:function(){return c.ji.ki;},getPreferredLanguages:function(){return l.config.Sq.gqa;},setPreferredLanguages:function(v){g.hb(n.isArray(v) && m.Py(v[0]));l.config.Sq.gqa=v;},queueLogblob:function(v,x,y){var z;if(v && x)if((x=x.toLowerCase(),w[x])){z=d.ha.get(q.Ao);v=d.ha.get(p.qA).bv(v,x,y);z.te(v);}else u.warn("Invalid severity",{severity:x});},flushLogblobs:function(){d.ha.get(q.Ao).flush(!0);}};t(k.Ie);});},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p;Object.defineProperty(b,"__esModule",{value:!0});r=a(32);b=a(3);c=a(8);f=a(34);k=a(190);l=a(12);d=a(13);g=a(7);h=a(129);m=a(63);n=a(160);q=a(279);p=a(116);g.ha.get(r.Xg).register(b.M.gAa,function(t){var v,x,y;function u(z,A){return void 0 === z || void 0 === A?Promise.reject("Invalid email and/or password"):g.ha.get(q.Oaa).Qf(this.log,{},{email:z,password:A}).then(function(){});}function w(z){var A;A=g.ha.get(p.aE);return A.hSa.fetch(z,A);}if(d.config.ixb){v=g.ha.get(k.uZ);x=g.ha.get(f.Mk);y=g.ha.get(c.Jb).Cb("Test");n.SI.zR.test={setPboRequestsListener:function(z){return v.$Sb(z);},playbacks:m.Fo,getPlayback:function(z){return m.Fo.find(function(A){return A.ca === z;});},playgraphManager:{isNextSegmentReady:function(z,A){var B,D;return void 0 !== (null === (D=null === (B=m.Fo.find(function(E){return E.ca === z;})) || void 0 === B?void 0:B.Pa) || void 0 === D?void 0:D.pT(A));}},aseManager:{cacheDestroy:function(){return h.vm.WMa.Mx();}},device:{esn:pb._cad_global.device.ki,esnPrefix:x.Pn,errorPrefix:x.rp},log:{info:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.info(z,B);},error:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.error(z,B);},warn:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.warn(z,B);},trace:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.trace(z,B);},log:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.log(z,B);},debug:function(z,A){for(var B=[],D=1;D < arguments.length;++D){B[D - 1]=arguments[D];}return y.debug(z,B);}},login:u,getManifest:w};}t(l.Ie);});},function(r,b,a){var c,f,k,l,d,g,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});r=a(1235);c=a(12);f=a(13);k=a(63);b=a(8);l=a(7);d=a(55);g=a(108);h=a(21);m=a(29);n=a(11);pb.netflix=pb.netflix || ({});h.hb(!pb.netflix.player);pb.netflix.player={VideoSession:r.pIa,diag:{togglePanel:function(q,p){var t;t=[];if(!f.config || f.config.fW){switch(q){case "info":t=k.Fo.map(function(u){return u.M6;});break;case "streams":t=k.Fo.map(function(u){return u.N6;});break;case "log":t=[];}t.forEach(function(u){m.Kc(p)?p?u.show():u.Yq():u.toggle();});}},addLogMessageSink:function(q){l.ha.get(d.Ao).addListener({F8b:function(){},AJb:function(p){q({data:p.data});}});}},log:l.mi("Ext"),LogLevel:b.jj,addLogSink:function(q,p){l.ha.get(g.vI).k7(q,p);},getVersion:function(){return "6.0032.428.911";},isWidevineSupported:function(q){var t;function p(u){return function(w,v){return v.contentType == u;};}if("function" !== typeof q)throw Error("input param is not a function");t=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.Iw,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.xI,robustness:"SW_SECURE_CRYPTO"}]}];try{n.Te.requestMediaKeySystemAccess("com.widevine.alpha",t).then(function(u){var w;w=u.getConfiguration();u=w.videoCapabilities || [];w=(w.audioCapabilities || []).reduce(p(c.xI),!1);u=u.reduce(p(c.Iw),!1);q(w && u);}).catch(function(){q(!1);});}catch(u){q(!1);}}};},function(r,b,a){var f,k,l,d,g,h;function c(m){var n;n=l.SI.call(this,m) || this;n.createPlayer=function(q,p){var t,u,w;p=void 0 === p?{}:p;p="number" === typeof p?{Fk:p}:p;t=f.ha.get(k.vZ);u=f.ha.get(g.sP);u=p.manifest?u.create(p.manifest):void 0;w=f.ha.get(d.kba);q=t.etb(q);t=f.ha.get(h.iba).create(q);q=t.i3();w=w.LPa(t);w.addEpisode({movieId:q.aa,playbackParams:n.kNa(p,q),manifest:u});return w;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.pIa=void 0;f=a(7);k=a(187);l=a(160);d=a(293);g=a(143);h=a(292);la(c,l.SI);b.pIa=c;},function(r,b,a){var c,f,k,l,d,g,h,m,n,q,p,t,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(160);f=a(155);k=a(12);l=a(47);r=a(3);d=a(7);g=a(162);h=a(21);m=a(29);n=a(11);b=a(32);q=a(51);p=a(89);t=a(141);u=a(161);d.ha.get(b.Xg).register(r.M.fAa,function(w){var B;function v(){return f.ji.ki;}function x(D){var E;E=d.ha.get(p.NP);d.ha.get(t.xP)().then(function(F){var C,G;C=F.WU.getStateForMdx(E);G=C.cryptoContext;F=C.masterToken;C=C.userIdToken;F && C?(h.hb(G),F=["1",d.kB(JSON.stringify(F.toJSON())),d.kB(JSON.stringify(C.toJSON()))].join(),D({success:!0,cryptoContext:{cTicket:F,encrypt:function(J,K){J=m.Ce(J)?d.$N(J):J;G.encrypt(J,{result:function(H){H=d.kB(H);K({success:!0,mslEncryptionEnvelopeBase64:H});},timeout:function(){K({success:!1});},error:function(H){h.hb(!1,"Encrypt error: " + H);K({success:!1});}});},decrypt:function(J,K){J=d.Kq(J);G.decrypt(J,{result:function(H){K({success:!0,text:d.wX(H)});},timeout:function(){K({success:!1});},error:function(H){h.hb(!1,"Decrypt error: " + H);K({success:!1});}});},hmac:function(J,K){J=m.Ce(J)?d.$N(J):J;G.sign(J,{result:function(H){K({success:!0,hmacBase64:d.kB(H)});},timeout:function(){K({success:!1});},error:function(H){h.hb(!1,"Hmac error: " + H);K({success:!1});}});}}})):(h.hb(!1,"Must login first"),D({success:!1}));});}function y(D,E){var F;F=d.Kq(D);D=F.subarray(32,48);F=F.subarray(0,32);if(16 != D.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([l.zG(n.kp.importKey("raw",D,{name:"AES-CBC"},!1,["encrypt","decrypt"])),l.zG(n.kp.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(C){E({success:!0,cryptoContext:z(C[0],C[1])});},function(){E({success:!1});});}function z(D,E){function F(C){C=new g.IO(d.Kq(C));C.wz();return {iv:C.N1a(),Jwb:C.N1a()};}return {encrypt:function(C,G){var J;C=m.Ce(C)?d.$N(C):C;J=n.uA.getRandomValues(new Uint8Array(16));l.zG(n.kp.encrypt({name:"AES-CBC",iv:J},D,C)).then(function(K){var H,L;K=new Uint8Array(K);H=[];L=new g.IO(H);L.h9(2);L.S7a(J);L.S7a(K);K=d.kB(H);G({success:!0,encryptedDataAsn1Base64:K});},function(K){h.hb(!1,"Encrypt error: " + K);G({success:!1});});},decrypt:function(C,G){C=F(C);l.zG(n.kp.decrypt({name:"AES-CBC",iv:C.iv},D,C.Jwb)).then(function(J){J=new Uint8Array(J);G({success:!0,text:d.wX(J)});},function(J){h.hb(!1,"Decrypt error: " + J);G({success:!1});});},hmac:function(C,G){C=m.Ce(C)?d.$N(C):C;l.zG(n.kp.sign({name:"HMAC",hash:{name:"SHA-256"}},E,C)).then(function(J){J=new Uint8Array(J);G({success:!0,hmacBase64:d.kB(J)});},function(J){h.hb(!1,"Hmac error: " + J);G({success:!1});});}};}function A(){return q.Aga();}B=d.ha.get(u.hA);if(B.LWa || B.wv)c.SI.zR.mdx={getEsn:v,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:A};w(k.Ie);});},function(r,b,a){var c,f,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(13);f=a(12);r=a(3);k=a(7);b=a(32);l=a(116);k.ha.get(b.Xg).register(r.M.aAa,function(g){var h,m,n;if(c.config.SNb){h=k.mi("PlayerPredictionModel");m=k.ha.get(l.aE);n=a(1238);h.log=h.trace.bind(h);d=new n({},h,{hW:function(){},YQb:function(){}},m,{LM:function(){}});pb._cad_global.playerPredictionModel=d;h.info("ppm v2 initialized");}g(f.Ie);});},function(r,b,a){var l,d,g,h,m,n,q;function c(p,t,u,w,v,x){this.K=this.aa=p;this.priority=t;this.pd=u;x && x.ie && (this.ie=x.ie);void 0 !== w && (this.GM=w);this.el=v;this.Ib=x;}function f(p,t,u,w,v){g(void 0 !== w,"video preparer is null");g(void 0 !== v,"ui preparer is null");this.H=t;this.Ja=u;this.Ikb=w;this.Bkb=v;this.MKa=n.dqa;this.PJ=[];this.lea=!1;this.rQ=0;new q().on(n,"changed",k,this);this.reset();}function k(){this.H.log("config changed");n.dqa && (this.MKa=n.dqa);n.VU !== this.DJ && (this.reset(),this.jra());}l=a(295);d=a(296);b=a(531);g=b.assert;h=b.qSa;m=a(1239);n=a(532).config;q=a(1240).yh;n.declare({dqa:["ppmConfig",{e_b:{z_a:0,y_a:2,w_a:0,x_a:5,i4a:0},q3b:{z_a:0,y_a:1,w_a:0,x_a:3,i4a:1E3},u_b:{z_a:0,y_a:1,w_a:0,x_a:3,i4a:1E3}}]});f.prototype.constructor=f;f.prototype.reset=function(){this.Qca=!0;this.DJ=n.VU;this.H.log("create model: " + n.VU,n.$2a,n.NOa);switch(n.VU){case "modelone":this.DJ=new m(this.H);break;default:this.DJ=new m(this.H);}};f.prototype.jra=function(){var t,u;if(!1 === this.lea){this.lea=!0;for(var p=0;p < this.PJ.length;p++){this.H.log("PlayPredictionModel replay: ",JSON.stringify(this.PJ[p]));t=this.sPa(this.PJ[p]);u=this.VSa(t);this.DJ.update(t,u);this.Qca=!1;}this.PJ=[];}};f.prototype.update=function(p){var t,u,w;this.H.log("PlayPredictionModel update: ",JSON.stringify(p));if(p && p.Wa && p.Wa[0]){!1 === this.lea && this.PJ.length < n.UIb && this.PJ.push(p);t=this.sPa(p);u=this.VSa(t);this.H.log("actionType",u);t="mlmodel" == n.VU?this.DJ.update(p,u):this.DJ.update(t,u);t=this.Xyb(t,n.uGb || 1);this.H.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(t));0 === this.rQ && (this.rQ=l(),this.Ja && this.Ja.hW && this.Ja.hW({Kub:this.rQ}));if(this.Ja && this.Ja.YQb){this.aAb();w=[];t.forEach(function(v){w.push({f9b:v.aa});});JSON.stringify(p);JSON.stringify(t);}this.Ikb.LM(t);this.Bkb.LM(t);this.Qca=!1;}};f.prototype.aAb=function(){l();};f.prototype.hW=function(){this.rQ=l();this.Ja && this.Ja.hW && this.Ja.hW({Kub:this.rQ});};f.prototype.sPa=function(p){var t,u,w,v,x;t={};w=p.Wa || [];v=(function(y){var z,A;z={};x=d.pP.name.indexOf(y.context);z.context=0 <= x?x:d.pP.Ow;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];u=y.list || [];u.forEach((function(B){A={aa:B.aa,pd:B.pd,index:B.index,GM:B.GM,X6:B.X6,list:B.list,Ib:B.Ib};void 0 !== B.property && (x=d.rI.name.indexOf(B.property),A.property=0 <= x?x:d.rI.Ow);z.list.push(A);}).bind(this));t.Wa.push(z);}).bind(this);if(void 0 !== p.direction){x=d.ou.name.indexOf(p.direction);t.direction=0 <= x?x:d.ou.Ow;}void 0 !== p.eT && (t.I5b=p.eT.rowIndex,t.H5b=p.eT.Zpb);t.eT=p.eT;t.Wa=[];w.forEach(v);return t;};f.prototype.VSa=function(p){var t,u,w;t=p.direction || d.ou.Ow;u=p.eT;w=p.Wa || [];!0 === this.Qca?p=d.rw.Tya:!0 === w.some(this.GDb)?(p=d.rw.EP,this.m7(w,t,u)):p=w[0].context === d.pP.GZ?d.rw.GZ:t === d.ou.RFa || t === d.ou.JAa?d.rw.kGa:d.rw.Ow;return p;};f.prototype.GDb=function(p){return (p.list || []).some(function(t){return t.property === d.rI.EP || t.property === d.rI.jxa;});};f.prototype.m7=function(p,t,u){var w,v;this.H.log("reportPlayFocusEvent: ",t,u);w={};v=h(p);this.Ja && this.Ja.m7 && (w.z5b=l(),w.direction=d.ou.name[t],u && (w.rowIndex=u.rowIndex,w.Dga=u.Zpb),void 0 !== v.Pj && (w.requestId=p[v.Pj].requestId),this.Ja.m7 && this.Ja.m7(w));};f.prototype.Xyb=function(p,t){for(var u=p.length,w=[],v,x,y,z,A=0;A < u;A++){x=p[A];v=Math.floor(A / t) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var B=0;B < Math.min(n.Xpb,z) && !(y[B].el=x.el,this.WLa(y[B],v,w),w.length >= n.aZa);B++){;}}else this.WLa(x,v,w);if(w.length >= n.aZa)break;}return w;};f.prototype.WLa=function(p,t,u){var v,x;function w(y){y.ie && (y.Ib || (y.Ib={}),y.Ib.ie=y.ie);return y.Ib;}v=p.X6;if(void 0 !== v && v instanceof Array)v.forEach(function(y){void 0 !== y.aa && (x=w(y),u.push(new c(y.aa,t,y.pd,y.GM,p.el,x)));});else if(void 0 !== v && void 0 !== v.aa){v=p.X6;x=w(v);u.push(new c(v.aa,t,v.pd,v.GM,p.el,x));}void 0 !== p.aa && (x=w(p),u.push(new c(p.aa,t,p.pd,p.GM,p.el,x)));};f.prototype.IB=function(p){var t;t=this.MKa;return p?t[p]:t;};r.exports=f;},function(r,b,a){var k,l,d,g,h,m,n,q,p,t;function c(u,w){this.Pj=u;this.Hl=w;}function f(u){this.H=u;this.reset();}k=a(295);l=a(296);b=a(531);d=a(532).config;g=b.Rzb;h=b.yzb;m=b.Mub;n=b.tLb;q=b.sLb;p=b.rLb;t=b.qSa;f.prototype.constructor=f;f.prototype.reset=function(){this.NKa=void 0;this.ck=[];this.zKa=this.AKa=!1;};f.prototype.update=function(u,w){var v;this.ck && (this.ck=this.ck.filter(this.TTb,this));if(!1 === this.AKa){v=g(u.Wa).slice(0,d.$Pa);0 < v.length && (this.pG(v,l.xw.Lk),this.AKa=!0,this.ck=this.LH(v.concat(this.ck)));}!1 === this.zKa && (v=h(u.Wa).slice(0,d.$Pa),0 < v.length && (this.pG(v,l.xw.Lk),this.zKa=!0,this.ck=this.LH(v.concat(this.ck))));switch(w){case l.rw.Tya:w=this.gDb(u);break;case l.rw.kGa:w=this.pDb(u);break;case l.rw.GZ:w=this.qDb(u);break;case l.rw.EP:w=this.lDb(u);break;default:w=this.dDb(u);}this.NKa=u;return w;};f.prototype.gDb=function(u){u=n(u.Wa,d.$2a,d.NOa);this.pG(u,l.xw.Lk);return this.ck=this.LH(this.ck.concat(u));};f.prototype.pDb=function(u){var w,v;this.H.log("handleScrollHorizontal");w=u.Wa;u=n(w,d.b3a,d.OOa);v=m(w,this.NKa.Wa);w=w[v].list.slice(0,d.LRb);w.concat(u);this.pG(w,l.xw.Kba);return this.LH(w.concat(this.ck));};f.prototype.pG=function(u,w){u.forEach(function(v){if(void 0 === v.qB || v.qB < w)v.qB=w;void 0 === v.RN && (v.RN=k());void 0 === v.el && (v.el=k());});};f.prototype.qDb=function(u){this.H.log("handleSearch");u=q(u.Wa,d.cSb);this.pG(u,l.xw.lGa);this.ck=u.concat(this.ck);return this.ck=this.LH(this.ck);};f.prototype.lDb=function(u){var w,v,x,y,z;this.H.log("handlePlayFocus: ",d.VT);w=u.direction;v=u.Wa;u=[];x=t(v);if(void 0 !== x.Pj)switch((u.push(x),w)){case l.ou.RFa:for(w=1;w < d.VT;w++){u.push(new c(x.Pj,x.Hl + w));}u.push(new c(x.Pj - 1,x.Hl));u.push(new c(x.Pj + 1,x.Hl));break;case l.ou.JAa:for(w=1;w < d.VT;w++){u.push(new c(x.Pj,x.Hl - w));}u.push(new c(x.Pj - 1,x.Hl));u.push(new c(x.Pj + 1,x.Hl));break;case l.ou.kfb:u.push(new c(x.Pj - 1,x.Hl));for(w=1;w <= d.VT / 2;w++){u.push(new c(x.Pj,x.Hl + w));u.push(new c(x.Pj,x.Hl - w));}break;case l.ou.Q$a:for((u.push(new c(x.Pj + 1,x.Hl)),w=1);w <= d.VT / 2;w++){u.push(new c(x.Pj,x.Hl + w));u.push(new c(x.Pj,x.Hl - w));}}y=[];u.forEach(function(A){z=p(v,A.Pj,A.Hl);void 0 !== z && y.push(z);});this.pG(y,l.xw.Kba);return this.LH(y.concat(this.ck));};f.prototype.dDb=function(u){this.H.log("ModelOne: handleDefaultCase");u=n(u.Wa,d.b3a,d.OOa);this.pG(u,l.xw.Kba);return this.LH(u.concat(this.ck));};f.prototype.TTb=function(u){return u.qB == l.xw.Lk | u.qB == l.xw.lGa & k() - u.RN < d.YDb;};f.prototype.LH=function(u){var w,v,x,y,z,A,B;w=[];v={};y=0;z=u.length;for(x=0;x < z;x++){A=u[x].aa;B=u[x];!1 === (A in v)?(w.push(B),v[A]=y,y++):(A=w[v[A]],B.el < A.el && (A.el=B.el),B.qB > A.qB && (A.qB=B.qB),B.RN > A.RN && (A.RN=B.RN));}return w;};r.exports=f;},function(r,b,a){r.exports={EventEmitter:a(1241),yh:a(1242)};},function(r){function b(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.fd)return (this.fd={},this.fd[c]=[f],!0);k=this.fd[c];return void 0 === k?(this.fd[c]=[f],!0):0 > k.indexOf(f)?(k.push(f),!0):!1;}function a(c,f){c=this.fd?this.fd[c]:void 0;if(!c)return !1;c.forEach(function(k){k(f);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,f){var k;if(void 0 === f || "function" !== typeof f || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.fd)return !1;k=this.fd[c];if(void 0 === k)return !1;f=k.indexOf(f);if(0 > f)return !1;if(1 === k.length)return (delete this.fd[c],!0);k.splice(f,1);return !0;},Ua:a,emit:a,removeAllListeners:function(c){this.fd && (void 0 === c?delete this.fd:delete this.fd[c]);return this;}};},function(r){function b(c,f,k,l){c.trace(":",k,":",l);f(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,f,k,l){k=l?k.bind(l):k;l=!1;if(c){this.console && (k=b.bind(null,this.console,k,f));if("function" === typeof c.addEventListener)l=c.addEventListener(f,k);else if("function" === typeof c.addListener)l=c.addListener(f,k);else throw Error("Emitter does not have a function to add listeners for '" + f + "'");this.listeners.push([c,f,k]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(f){var k,l;k=f[0];l=f[1];f=f[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,f):"function" === typeof k.removeListener && k.removeListener(l,f);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;}]);}).call(pb);})(window);}).call(window);