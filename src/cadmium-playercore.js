T1zz.w6L=function (){return typeof T1zz.u6L.U74==='function'?T1zz.u6L.U74.apply(T1zz.u6L,arguments):T1zz.u6L.U74;};T1zz.g7E=function (){return typeof T1zz.A7E.N74==='function'?T1zz.A7E.N74.apply(T1zz.A7E,arguments):T1zz.A7E.N74;};T1zz.M8i=function(k1i){return{N74:function(){var D8i,E1i=arguments;switch(k1i){case 0:D8i=E1i[1]-E1i[0];break;}return D8i;},U74:function(q8i){k1i=q8i;}};}();T1zz.m52=function (){return typeof T1zz.K52.N74==='function'?T1zz.K52.N74.apply(T1zz.K52,arguments):T1zz.K52.N74;};T1zz.j4S=function (){return typeof T1zz.t4S.N74==='function'?T1zz.t4S.N74.apply(T1zz.t4S,arguments):T1zz.t4S.N74;};T1zz.n8s=function (){return typeof T1zz.S8s.N74==='function'?T1zz.S8s.N74.apply(T1zz.S8s,arguments):T1zz.S8s.N74;};T1zz.G9N=function (){return typeof T1zz.Q9N.N74==='function'?T1zz.Q9N.N74.apply(T1zz.Q9N,arguments):T1zz.Q9N.N74;};T1zz.t4S=function(T4S){return{N74:function(){var I4S,b4S=arguments;switch(T4S){case 1:I4S=b4S[0]+b4S[1];break;case 0:I4S=b4S[1]/b4S[0];break;}return I4S;},U74:function(E4S){T4S=E4S;}};}();T1zz.j7E=function (){return typeof T1zz.A7E.U74==='function'?T1zz.A7E.U74.apply(T1zz.A7E,arguments):T1zz.A7E.U74;};T1zz.O8S=function(C8S){return{N74:function(){var Z8S,B8S=arguments;switch(C8S){case 0:Z8S=(B8S[1]-B8S[0])*B8S[2];break;}return Z8S;},U74:function(j8S){C8S=j8S;}};}();T1zz.M6L=function (){return typeof T1zz.u6L.U74==='function'?T1zz.u6L.U74.apply(T1zz.u6L,arguments):T1zz.u6L.U74;};T1zz.n2N=function (){return typeof T1zz.M2N.N74==='function'?T1zz.M2N.N74.apply(T1zz.M2N,arguments):T1zz.M2N.N74;};T1zz.q9g=function (){return typeof T1zz.Q9g.N74==='function'?T1zz.Q9g.N74.apply(T1zz.Q9g,arguments):T1zz.Q9g.N74;};T1zz.c4S=function (){return typeof T1zz.t4S.U74==='function'?T1zz.t4S.U74.apply(T1zz.t4S,arguments):T1zz.t4S.U74;};T1zz.d3s=function (){return typeof T1zz.t3s.N74==='function'?T1zz.t3s.N74.apply(T1zz.t3s,arguments):T1zz.t3s.N74;};T1zz.O52=function (){return typeof T1zz.K52.N74==='function'?T1zz.K52.N74.apply(T1zz.K52,arguments):T1zz.K52.N74;};T1zz.R9T=function (){return typeof T1zz.v9T.U74==='function'?T1zz.v9T.U74.apply(T1zz.v9T,arguments):T1zz.v9T.U74;};T1zz.f3s=function (){return typeof T1zz.t3s.U74==='function'?T1zz.t3s.U74.apply(T1zz.t3s,arguments):T1zz.t3s.U74;};T1zz.u8s=function (){return typeof T1zz.S8s.U74==='function'?T1zz.S8s.U74.apply(T1zz.S8s,arguments):T1zz.S8s.U74;};T1zz.A9T=function (){return typeof T1zz.v9T.N74==='function'?T1zz.v9T.N74.apply(T1zz.v9T,arguments):T1zz.v9T.N74;};T1zz.x4S=function (){return typeof T1zz.t4S.U74==='function'?T1zz.t4S.U74.apply(T1zz.t4S,arguments):T1zz.t4S.U74;};T1zz.h74=function (){return typeof T1zz.B74.U74==='function'?T1zz.B74.U74.apply(T1zz.B74,arguments):T1zz.B74.U74;};T1zz.x52=function (){return typeof T1zz.K52.U74==='function'?T1zz.K52.U74.apply(T1zz.K52,arguments):T1zz.K52.U74;};T1zz.D2N=function (){return typeof T1zz.M2N.U74==='function'?T1zz.M2N.U74.apply(T1zz.M2N,arguments):T1zz.M2N.U74;};T1zz.i9N=function (){return typeof T1zz.Q9N.U74==='function'?T1zz.Q9N.U74.apply(T1zz.Q9N,arguments):T1zz.Q9N.U74;};T1zz.B74=function(j74){return{N74:function(){var k74,G74=arguments;switch(j74){case 2:k74=G74[0]+G74[1]-G74[2];break;case 1:k74=G74[1]+G74[0];break;case 0:k74=G74[1]-G74[0];break;}return k74;},U74:function(T74){j74=T74;}};}();T1zz.W9N=function (){return typeof T1zz.Q9N.N74==='function'?T1zz.Q9N.N74.apply(T1zz.Q9N,arguments):T1zz.Q9N.N74;};T1zz.I74=function (){return typeof T1zz.B74.U74==='function'?T1zz.B74.U74.apply(T1zz.B74,arguments):T1zz.B74.U74;};T1zz.p8S=function (){return typeof T1zz.O8S.N74==='function'?T1zz.O8S.N74.apply(T1zz.O8S,arguments):T1zz.O8S.N74;};T1zz.W8s=function (){return typeof T1zz.S8s.U74==='function'?T1zz.S8s.U74.apply(T1zz.S8s,arguments):T1zz.S8s.U74;};T1zz.x6L=function (){return typeof T1zz.u6L.N74==='function'?T1zz.u6L.N74.apply(T1zz.u6L,arguments):T1zz.u6L.N74;};T1zz.N2N=function (){return typeof T1zz.M2N.N74==='function'?T1zz.M2N.N74.apply(T1zz.M2N,arguments):T1zz.M2N.N74;};T1zz.h8s=function (){return typeof T1zz.S8s.N74==='function'?T1zz.S8s.N74.apply(T1zz.S8s,arguments):T1zz.S8s.N74;};T1zz.R9g=function (){return typeof T1zz.Q9g.U74==='function'?T1zz.Q9g.U74.apply(T1zz.Q9g,arguments):T1zz.Q9g.U74;};T1zz.r2I=function (){return typeof T1zz.O2I.N74==='function'?T1zz.O2I.N74.apply(T1zz.O2I,arguments):T1zz.O2I.N74;};T1zz.d74=function (){return typeof T1zz.B74.N74==='function'?T1zz.B74.N74.apply(T1zz.B74,arguments):T1zz.B74.N74;};T1zz.K52=function(S52){return{N74:function(){var p52,A52=arguments;switch(S52){case 0:p52=(A52[3]-A52[0])*-A52[1]/A52[2];break;case 2:p52=(A52[1]+A52[2])*A52[0]/A52[3];break;case 1:p52=A52[1]-A52[0];break;}return p52;},U74:function(P52){S52=P52;}};}();function T1zz(){}T1zz.u8i=function (){return typeof T1zz.M8i.U74==='function'?T1zz.M8i.U74.apply(T1zz.M8i,arguments):T1zz.M8i.U74;};T1zz.j8i=function (){return typeof T1zz.M8i.U74==='function'?T1zz.M8i.U74.apply(T1zz.M8i,arguments):T1zz.M8i.U74;};T1zz.b9N=function (){return typeof T1zz.Q9N.U74==='function'?T1zz.Q9N.U74.apply(T1zz.Q9N,arguments):T1zz.Q9N.U74;};T1zz.M2N=function(Z2N){return{N74:function(){var K2N,a2N=arguments;switch(Z2N){case 1:K2N=a2N[1]+a2N[0];break;case 0:K2N=a2N[2]+a2N[0]+a2N[1];break;case 2:K2N=a2N[3]+a2N[1]+a2N[4]+a2N[2]+a2N[0];break;}return K2N;},U74:function(X2N){Z2N=X2N;}};}();T1zz.W74=function (){return typeof T1zz.B74.N74==='function'?T1zz.B74.N74.apply(T1zz.B74,arguments):T1zz.B74.N74;};T1zz.s7E=function (){return typeof T1zz.A7E.N74==='function'?T1zz.A7E.N74.apply(T1zz.A7E,arguments):T1zz.A7E.N74;};T1zz.N8S=function (){return typeof T1zz.O8S.U74==='function'?T1zz.O8S.U74.apply(T1zz.O8S,arguments):T1zz.O8S.U74;};T1zz.V9T=function (){return typeof T1zz.v9T.N74==='function'?T1zz.v9T.N74.apply(T1zz.v9T,arguments):T1zz.v9T.N74;};T1zz.L4S=function (){return typeof T1zz.t4S.N74==='function'?T1zz.t4S.N74.apply(T1zz.t4S,arguments):T1zz.t4S.N74;};T1zz.u9g=function (){return typeof T1zz.Q9g.N74==='function'?T1zz.Q9g.N74.apply(T1zz.Q9g,arguments):T1zz.Q9g.N74;};T1zz.t3s=function(J3s){return{N74:function(){var g3s,l3s=arguments;switch(J3s){case 1:g3s=l3s[1]>=l3s[0];break;case 0:g3s=l3s[1]<l3s[0];break;case 2:g3s=l3s[1]+l3s[0];break;}return g3s;},U74:function(Z3s){J3s=Z3s;}};}();T1zz.Q9g=function(D9g){return{N74:function(){var w9g,M9g=arguments;switch(D9g){case 0:w9g=M9g[3]+M9g[2]/M9g[1]*M9g[0];break;case 5:w9g=(M9g[3]/M9g[1]|M9g[0])*M9g[2];break;case 4:w9g=M9g[0]-M9g[1];break;case 1:w9g=M9g[2]*M9g[3]/M9g[0]|M9g[1];break;case 3:w9g=M9g[1]/M9g[0];break;case 2:w9g=M9g[1]/M9g[0]|M9g[2];break;}return w9g;},U74:function(o9g){D9g=o9g;}};}();T1zz.l2N=function (){return typeof T1zz.M2N.U74==='function'?T1zz.M2N.U74.apply(T1zz.M2N,arguments):T1zz.M2N.U74;};T1zz.u6L=function(K7L){return{N74:function(){var t6L,s6L=arguments;switch(K7L){case 0:t6L=s6L[0]+s6L[1];break;}return t6L;},U74:function(T6L){K7L=T6L;}};}();T1zz.x8S=function (){return typeof T1zz.O8S.N74==='function'?T1zz.O8S.N74.apply(T1zz.O8S,arguments):T1zz.O8S.N74;};T1zz.K8i=function (){return typeof T1zz.M8i.N74==='function'?T1zz.M8i.N74.apply(T1zz.M8i,arguments):T1zz.M8i.N74;};T1zz.P3s=function (){return typeof T1zz.t3s.U74==='function'?T1zz.t3s.U74.apply(T1zz.t3s,arguments):T1zz.t3s.U74;};T1zz.G7E=function (){return typeof T1zz.A7E.U74==='function'?T1zz.A7E.U74.apply(T1zz.A7E,arguments):T1zz.A7E.U74;};T1zz.G52=function (){return typeof T1zz.K52.U74==='function'?T1zz.K52.U74.apply(T1zz.K52,arguments):T1zz.K52.U74;};T1zz.A2I=function (){return typeof T1zz.O2I.U74==='function'?T1zz.O2I.U74.apply(T1zz.O2I,arguments):T1zz.O2I.U74;};T1zz.h9g=function (){return typeof T1zz.Q9g.U74==='function'?T1zz.Q9g.U74.apply(T1zz.Q9g,arguments):T1zz.Q9g.U74;};T1zz.l2I=function (){return typeof T1zz.O2I.U74==='function'?T1zz.O2I.U74.apply(T1zz.O2I,arguments):T1zz.O2I.U74;};T1zz.A7E=function(q7E){return{N74:function(){var V7E,I7E=arguments;switch(q7E){case 0:V7E=I7E[1]+I7E[0];break;case 2:V7E=I7E[0]-I7E[1];break;case 1:V7E=void I7E[0]!==I7E[1];break;}return V7E;},U74:function(t7E){q7E=t7E;}};}();T1zz.S8s=function(e8s){return{N74:function(){var p8s,U8s=arguments;switch(e8s){case 1:p8s=U8s[0]-U8s[1];break;case 0:p8s=-U8s[0];break;}return p8s;},U74:function(f8s){e8s=f8s;}};}();T1zz.Q9N=function(n9N){return{N74:function(){var f9N,m9N=arguments;switch(n9N){case 0:f9N=(m9N[1]/m9N[0]-m9N[3])/m9N[5]+m9N[2]/m9N[4];break;}return f9N;},U74:function(e9N){n9N=e9N;}};}();T1zz.x9T=function (){return typeof T1zz.v9T.U74==='function'?T1zz.v9T.U74.apply(T1zz.v9T,arguments):T1zz.v9T.U74;};T1zz.v9T=function(b9T){return{N74:function(){var P9T,E9T=arguments;switch(b9T){case 1:P9T=E9T[0]-E9T[1];break;case 0:P9T=(E9T[3]*E9T[0]-E9T[1])*E9T[2]-E9T[4];break;}return P9T;},U74:function(K9T){b9T=K9T;}};}();T1zz.L2I=function (){return typeof T1zz.O2I.N74==='function'?T1zz.O2I.N74.apply(T1zz.O2I,arguments):T1zz.O2I.N74;};T1zz.F3s=function (){return typeof T1zz.t3s.N74==='function'?T1zz.t3s.N74.apply(T1zz.t3s,arguments):T1zz.t3s.N74;};T1zz.N8i=function (){return typeof T1zz.M8i.N74==='function'?T1zz.M8i.N74.apply(T1zz.M8i,arguments):T1zz.M8i.N74;};T1zz.G6L=function (){return typeof T1zz.u6L.N74==='function'?T1zz.u6L.N74.apply(T1zz.u6L,arguments):T1zz.u6L.N74;};T1zz.z8S=function (){return typeof T1zz.O8S.U74==='function'?T1zz.O8S.U74.apply(T1zz.O8S,arguments):T1zz.O8S.U74;};T1zz.O2I=function(T2I){return{N74:function(){var v2I,W2I=arguments;switch(T2I){case 0:v2I=W2I[0]+W2I[1];break;}return v2I;},U74:function(j2I){T2I=j2I;}};}();(function(){(function(L,ka){var tb,Cb,Ua,wc,ra,va,cb,Dd,Ed,Ma,Na,Ob,Fd,xc,Gd,Hd,Wc,l,na,ic,Id,Xc,H,Q,ha,vb,kb,Za,fa,db,Ta,Qb,Ga,Ea,Ka,fb,yc,wb,qb,rb,zc,Yc,Jd,Fb,Gb,Rb,Zc,Zb,xb,Ac,Nb,$c,Kd,$b,ad,bd,cd,dd,yb,ed,fd,gd,bc,zb,Ab,cc,Bc,Cc,Dc,jb,Ne,Sa,Pb,Ld,Ec,mb,Md,Oe,sb,Nd,Od,Fc,Pd,Pe,hc,Qd,Me,Qe,hd,Gc,Re,Se,Ad,Te,Bd,Rd,lb,jc,Sd,kc,Td,nb,Ud,id,Vd,kd,Hc,Wd,Ve,Cd,Ic,Vc,Xd,Ue,Yd,ld,Zd,$d,ae,md,Mb,ce,be,We,lc,de,od,mc,ee,nd,fe,ge,pd,ie,je,Lc,Ub,dc,Vb,ke,le,me,ne,oe,pe,Mc,Xe,qe,re,rd,se,ib,Sb,ac,Tb,Ib,Bb,Jc,eb,Eb,he,nc,Wb,te,Ye,oc,ue,Ze,ec,ve,Nc,sd,pc,td,we,qc,xe,ye,ze,$e,rc,Ae,af,bf,Be,qd,Kc,Ce,Le,De,cf,ef,df,fc,vc,ff,zd,gf,Ee;function Ya(g,l){if(!l||"utf-8"===l)return Pc(g);throw Error("unsupported encoding");}function Wa(g,l){if(!l||"utf-8"===l)return Qc(g);throw Error("unsupported encoding");}function Pc(g){for(var l=0,q,Pa=g.length,H="";l<Pa;){q=g[l++];if(q&128)if(192===(q&224))q=((q&31)<<6)+(g[l++]&63);else if(224===(q&240))q=((q&15)<<12)+((g[l++]&63)<<6)+(g[l++]&63);else throw Error("unsupported character");H+=String.fromCharCode(q);}return H;}function Qc(g){var l,q,Pa,H,r;l=g.length;q=0;H=0;for(Pa=l;Pa--;)r=g.charCodeAt(Pa),128>r?q++:q=2048>r?q+2:q+3;q=new Uint8Array(q);for(Pa=0;Pa<l;Pa++)r=g.charCodeAt(Pa),128>r?q[H++]=r:(2048>r?q[H++]=192|r>>>6:(q[H++]=224|r>>>12,q[H++]=128|r>>>6&63),q[H++]=128|r&63);return q;}function ab(g,q){if(g===q)return!0;if(!g||!q||g.length!=q.length)return!1;for(var l=0;l<g.length;++l)if(g[l]!=q[l])return!1;return!0;}function hb(g){var r;if(!(g&&g.constructor==Uint8Array||Array.isArray(g)))throw new TypeError("Cannot compute the hash code of "+g);for(var q=1,l=0;l<g.length;++l){r=g[l];if("number"!==typeof r)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+r);q=31*q+r&4294967295;}return q;}function ud(g,q){var Ba;if(g===q)return!0;if(!g||!q)return!1;q instanceof Array||(q=[q]);for(var l=0;l<q.length;++l){for(var r=q[l],H=!1,Lb=0;Lb<g.length;++Lb){Ba=g[Lb];if(r.equals&&"function"===typeof r.equals&&r.equals(Ba)||r==Ba){H=!0;break;}}if(!H)return!1;}return!0;}function vd(g,q){return ud(g,q)&&(g.length==q.length||ud(q,g));}function q(g,q,l){var r,H;l&&(r=l);if("object"!==typeof g||"function"!==typeof g.result||"function"!==typeof g.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{H=q.call(r,g);H!==ka&&g.result(H);}catch(Rc){try{g.error(Rc);}catch(Ba){}}}function r(g,l,r){if("object"!==typeof g||"function"!==typeof g.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");q(g,l,r);}function g(g,q,l){1E5>g&&(g=1E5+g);Object.defineProperties(this,{internalCode:{value:g,writable:!1,configurable:!1},responseCode:{value:q,writable:!1,configurable:!1},message:{value:l,writable:!1,configurable:!1}});}function Sc(g){switch(g){case Sa.PSK:case Sa.MGK:return!0;default:return!1;}}function wd(g){switch(g){case Sa.PSK:case Sa.MGK:case Sa.X509:case Sa.RSA:case Sa.NPTICKET:case Sa.ECC:return!0;default:return!1;}}function Ie(g){return g.toJSON();}function xd(q,l){vc?l.result(vc):Promise.resolve().then(function(){return Ka.getKeyByName(q);})["catch"](function(){return Ka.generateKey({name:q},!1,["wrapKey","unwrapKey"]);}).then(function(g){vc=g;l.result(vc);})["catch"](function(q){l.error(new H(g.INTERNAL_EXCEPTION,"Unable to get system key"));});}function yd(g,q){var l,r,H;l=q.masterToken;r=q.userIdToken;H=q.serviceTokens;return{NccpMethod:g.method,UserId:g.userId,UT:r&&r.serialNumber,MT:l&&l.serialNumber+":"+l.sequenceNumber,STCount:H&&H.length};}function Je(g){return g.uniqueKey();}function Ke(r,L,pb,Pa,uc){var Ja;function Lb(g,K){g.errorCode===l.ENTITY_REAUTH||g.errorCode===l.ENTITYDATA_REAUTH?(Pa.clearCryptoContexts(),Xa()):g.errorCode!==l.USER_REAUTH&&g.errorCode!==l.USERDATA_REAUTH||Ba(K);}function Ba(g){if(g=Pa.getUserIdToken(g))Pa.removeUserIdToken(g),Xa();}function aa(g,K,I){var w;w=[];(function C(){g.read(-1,K,{result:function(g){q(I,function(){var v,F,J,I,K;if(g)w.push(g),C();else switch(w.length){case 0:return new Uint8Array(0);case 1:return w[0];default:I=w.length,K=0;for(F=v=0;F<I;F++)v+=w[F].length;v=new Uint8Array(v);for(F=0;F<I;F++)J=w[F],v.set(J,K),K+=J.length;return v;}});},timeout:function(){I.timeout();},error:function(g){I.error(g);}});}());}function Xa(){Pa.getStoreState({result:function(g){for(var K=Ja.slice(),I=0;I<K.length;I++)K[I]({storeState:g});},timeout:function(){r.error("Timeout getting store state",""+e);},error:function(g){r.error("Error getting store state",""+g);}});}Ja=[];this.addEventHandler=function(g,K){switch(g){case"shouldpersist":Ja.push(K);}};this.send=function(q){return new Promise(function(K,I){var w,x,C;w=q.timeout;x=new zd(r,pb,q,Pa.getKeyRequestData());C=new Ad(q.url);r.trace("Sending MSL request");L.request(pb,x,C,w,{result:function(x){var v;x&&x.getMessageHeader();r.trace("Received MSL response",{Method:q.method});if(x){q.allowTokenRefresh&&Xa();v=x.getErrorHeader();v?(Lb(v,q.userId),I({success:!1,error:v})):aa(x,w,{result:function(g){K({success:!0,body:Ya(g)});},timeout:function(){I({success:!1,subCode:uc.MSL_READ_TIMEOUT});},error:function(g){I({success:!1,error:g});}});}else I({success:!1,error:new H(g.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){I({success:!1,subCode:uc.MSL_REQUEST_TIMEOUT});},error:function(g){I({success:!1,error:g});}});});};this.hasUserIdToken=function(g){return!!Pa.getUserIdToken(g);};this.getUserIdTokenKeys=function(){return Pa.getUserIdTokenKeys();};this.removeUserIdToken=Ba;this.clearUserIdTokens=function(){Pa.clearUserIdTokens();Xa();};this.isErrorReauth=function(g){return g&&g.errorCode==l.USERDATA_REAUTH;};this.isErrorHeader=function(g){return g instanceof Mb;};this.getErrorCode=function(g){return g&&g.errorCode;};this.getStateForMdx=function(g){var K,I;K=Pa.getMasterToken();g=Pa.getUserIdToken(g);I=Pa.getCryptoContext(K);return{masterToken:K,userIdToken:g,cryptoContext:I};};this.buildPlayDataRequest=function(g,K){var I;I=new Bd();L.request(pb,new zd(r,pb,g),I,g.timeout,{result:function(){K.result(I.getRequest());},error:function(){K.result(I.getRequest());},timeout:function(){K.timeout();}});};this.rekeyUserIdToken=function(g,K){Pa.rekeyUserIdToken(g,K);Xa();};this.getServiceTokens=function(g){var K;K=Pa.getMasterToken();(g=Pa.getUserIdToken(g))&&!g.isBoundTo(K)&&(g=ka);return Pa.getServiceTokens(K,g);};this.removeServiceToken=function(g){var K;K=Pa.getMasterToken();Pa.getServiceTokens(K).find(function(I){return I.name===g;})&&(Pa.removeServiceTokens(g,K),Xa());};}function Tc(q,l,r,Pa,L,Q){function Ba(l){var aa;return Promise.resolve().then(function(){aa=q.authenticationKeyNames[l];if(!aa)throw new H(g.KEY_IMPORT_ERROR,"Invalid config keyName "+l);return Ka.getKeyByName(aa);}).then(function(q){return new Promise(function(l,K){Zb(q,{result:l,error:function(){K(new H(g.KEY_IMPORT_ERROR,"Unable to create "+aa+" CipherKey"));}});});})["catch"](function(q){throw new H(g.KEY_IMPORT_ERROR,"Unable to import "+aa,q);});}return Promise.resolve().then(function(){if(!Ka.getKeyByName)throw new H(g.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([Ba("e"),Ba("h"),Ba("w")]);}).then(function(g){var aa,Ja,La;aa={};aa[l]=new r(q.esn,g[0],g[1],g[2]);g=new Pa(q.esn);Ja=new Le();Ja=[new L(Ja)];La=new Q(l);return{entityAuthFactories:aa,entityAuthData:g,keyExchangeFactories:Ja,keyRequestData:La};});}function Uc(q,l,r){var pb;function Pa(){return Promise.resolve().then(function(){return Ka.generateKey(l,!1,["wrapKey","unwrapKey"]);}).then(function(g){return L(g.publicKey,g.privateKey);});}function L(q,l){return Promise.all([new Promise(function(l,aa){Nb(q,{result:l,error:function(q){aa(new H(g.INTERNAL_EXCEPTION,"Unable to create keyx public key",q));}});}),new Promise(function(q,aa){$b(l,{result:q,error:function(q){aa(new H(g.INTERNAL_EXCEPTION,"Unable to create keyx private key",q));}});})]).then(function(g){g=new Vc("rsaKeypairId",r,g[0],g[1]);pb&&(g.storeData={keyxPublicKey:q,keyxPrivateKey:l});return g;});}pb=!q.systemKeyWrapFormat;return Promise.resolve().then(function(){var g,l;g=q.storeState;l=g&&g.keyxPublicKey;g=g&&g.keyxPrivateKey;return pb&&l&&g?L(l,g):Pa();}).then(function(g){var l,Xa,Ja;l={};l[Sa.NONE]=new Me();Xa=new hc(q.esn);Ja=[new Cd()];return{entityAuthFactories:l,entityAuthData:Xa,keyExchangeFactories:Ja,keyRequestData:g,createKeyRequestData:pb?Pa:ka};});}Cb=L.nfCrypto||L.msCrypto||L.webkitCrypto||L.crypto;Ua=Cb&&(Cb.webkitSubtle||Cb.subtle);wc=L.nfCryptokeys||L.msCryptokeys||L.webkitCryptokeys||L.cryptokeys;(function(g){var q,l;q=function(){function g(g,l){g instanceof q?(this.abv=g.abv,this.position=g.position):(this.abv=g,this.position=l||0);}g.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(g){this.abv[this.position++]=g;},peekByte:function(g){return this.abv[g];},copyBytes:function(g,l,q){var aa;aa=new Uint8Array(this.abv.buffer,this.position,q);g=new Uint8Array(g.buffer,l,q);aa.set(g);this.position+=q;},seek:function(g){this.position=g;},skip:function(g){this.position+=g;},getPosition:function(){return this.position;},setPosition:function(g){this.position=g;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return g;}();l={};(function(){var J,v,F,Ca,ba,za,xa,Z,qa;function g(B,v){var w;v.writeByte(B.tagClass<<6|B.constructed<<5|B.tag);w=B.payloadLen;if(128>w)v.writeByte(w);else{for(var F=w,x=0;F;)++x,F>>=8;v.writeByte(128|x);for(F=0;F<x;++F)v.writeByte(w>>8*(x-F-1)&255);}if(B.child)for(B.tag==J.BIT_STRING&&v.writeByte(0),w=B._child;w;){if(!g(w,v))return!1;w=w.next;}else switch(B.tag){case J.INTEGER:B.backingStore[B.dataIdx]>>7&&v.writeByte(0);v.copyBytes(B.backingStore,B.dataIdx,B.dataLen);break;case J.BIT_STRING:v.writeByte(0);v.copyBytes(B.backingStore,B.dataIdx,B.dataLen);break;case J.OCTET_STRING:v.copyBytes(B.backingStore,B.dataIdx,B.dataLen);break;case J.OBJECT_IDENTIFIER:v.copyBytes(B.backingStore,B.dataIdx,B.dataLen);}return!0;}function r(g){var B,v;B=g.readByte();v=B&127;if(v==B)return v;if(3<v||0===v)return-1;for(var w=B=0;w<v;++w)B=B<<8|g.readByte();return B;}function H(g,w,F){var B,x,I,V,C,ga,K;B=g.backingStore;x=new q(B,w);w+=F;F=g;if(8<ba++)return ka;for(;x.getPosition()<w;){x.getPosition();C=x.readByte();if(31==(C&31)){for(V=0;C&128;)V<<=8,V|=C&127;C=V;}I=C;V=I&31;if(0>V||30<V)return ka;C=r(x);if(0>C||C>x.getRemaining())return ka;F.constructed=I&32;F.tagClass=(I&192)>>6;F.tag=V;F.dataLen=C;F.dataIdx=x.getPosition();V=x;ga=I;I=C;if(ga&32)V=!0;else if(ga<J.BIT_STRING||ga>J.OCTET_STRING)V=!1;else{K=new q(V);ga==J.BIT_STRING&&K.skip(1);K.readByte()>>6&1?V=!1:(ga=r(K),V=K.getPosition()-V.getPosition()+ga==I);}V&&(V=x.getPosition(),I=C,F.tag==J.BIT_STRING&&(F.dataIdx++,F.dataLen--,V++,I--),F.child=new v(B,F),H(F.child,V,I));F.tag==J.INTEGER&&(V=x.getPosition(),0==x.peekByte(V)&&x.peekByte(V+1)>>7&&(F.dataIdx++,F.dataLen--));x.skip(C);x.getPosition()<w&&(F.next=new v(B,F.parent),F=F.next);}ba--;return g;}function L(g,v,w){if(9!=w)return!1;for(w=0;9>w;++w)if(g[v++]!=za[w])return!1;return!0;}function aa(g){var v;if(!(g&&g.child&&g.child.next&&g.child.child&&g.child.next.child))return!1;v=g.child.child;return L(v.backingStore,v.dataIdx,v.dataLen)&&2==g.nChildren&&2==g.child.nChildren&&2==g.child.next.child.nChildren?!0:!1;}function Xa(g){var v;if(!(g&&g.child&&g.child.next&&g.child.next.child&&g.child.next.next&&g.child.next.next.child))return!1;v=g.child.next.child;return L(v.backingStore,v.dataIdx,v.dataLen)&&3==g.nChildren&&2==g.child.next.nChildren&&9==g.child.next.next.child.nChildren?!0:!1;}function Ja(g){var v,B;v=F.createSequenceNode();B=new Ca(v);B.addChild(F.createSequenceNode());B.addChild(F.createOidNode(za));B.addSibling(F.createNullNode());B.addToParent(v,F.createBitStringNode(null));B.addChild(F.createSequenceNode());B.addChild(F.createIntegerNode(g.n));B.addSibling(F.createIntegerNode(g.e));return v;}function La(g){var v;g=g.child.next.child.child;v=g.data;g=g.next;return new xa(v,g.data,null,null);}function K(g){var v,B;v=F.createSequenceNode();B=new Ca(v);B.addChild(F.createIntegerNode(new Uint8Array([0])));B.addSibling(F.createSequenceNode());B.addChild(F.createOidNode(za));B.addSibling(F.createNullNode());B.addToParent(v,F.createOctetStringNode(null));B.addChild(F.createSequenceNode());B.addChild(F.createIntegerNode(new Uint8Array([0])));B.addSibling(F.createIntegerNode(g.n));B.addSibling(F.createIntegerNode(g.e));B.addSibling(F.createIntegerNode(g.d));B.addSibling(F.createIntegerNode(g.p));B.addSibling(F.createIntegerNode(g.q));B.addSibling(F.createIntegerNode(g.dp));B.addSibling(F.createIntegerNode(g.dq));B.addSibling(F.createIntegerNode(g.qi));return v;}function I(g){var v;v=[];g=g.child.next.next.child.child.next;for(var B=0;8>B;B++)v.push(g.data),g=g.next;return new Z(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7]);}function w(g,v,w,F){if(!(g instanceof xa||g instanceof Z))return ka;if(w)for(var B=0;B<w.length;++B)if(-1==qa.indexOf(w[B]))return ka;v={kty:"RSA",alg:v,key_ops:w||[],ext:F==ka?!1:F,n:ra(g.n,!0),e:ra(g.e,!0)};g instanceof Z&&(v.d=ra(g.d,!0),v.p=ra(g.p,!0),v.q=ra(g.q,!0),v.dp=ra(g.dp,!0),v.dq=ra(g.dq,!0),v.qi=ra(g.qi,!0));return v;}function x(g){var v,w,B,F,x,I,J,C,ba,K;if(!g.kty||"RSA"!=g.kty||!g.n||!g.e)return ka;v="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(g.alg&&-1==v.indexOf(g.alg))return ka;v=[];g.use?"enc"==g.use?v=["encrypt","decrypt","wrap","unwrap"]:"sig"==g.use&&(v=["sign","verify"]):v=g.key_ops;w=g.ext;B=va(g.n,!0);F=va(g.e,!0);if(g.d){x=va(g.d,!0);I=va(g.p,!0);J=va(g.q,!0);C=va(g.dp,!0);ba=va(g.dq,!0);K=va(g.qi,!0);return new Z(B,F,x,I,J,C,ba,K,g.alg,v,w);}return new xa(B,F,w,v);}function C(g,v,w,F){this.der=g;this.type=v;this.keyOps=w;this.extractable=F;}J={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};v=function(g,v,w,F,x,I){this._data=g;this._parent=v||ka;this._constructed=w||!1;this._tagClass=0;this._tag=F||0;this._dataIdx=x||0;this._dataLen=I||0;};v.prototype={_child:ka,_next:ka,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(g){this._constructed=0!=g?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(g){this._tagClass=g;},get tag(){return this._tag;},set tag(g){this._tag=g;},get dataIdx(){return this._dataIdx;},set dataIdx(g){this._dataIdx=g;},get dataLen(){return this._dataLen;},set dataLen(g){this._dataLen=g;},get child(){return this._child;},set child(g){this._child=g;this._child.parent=this;},get next(){return this._next;},set next(g){this._next=g;},get parent(){return this._parent;},set parent(g){this._parent=g;},get payloadLen(){var g;g=0;if(this._child){for(var v=this._child;v;)g+=v.length,v=v.next;this._tag==J.BIT_STRING&&g++;}else switch(this._tag){case J.INTEGER:g=this._dataLen;this._data[this._dataIdx]>>7&&g++;break;case J.BIT_STRING:g=this._dataLen+1;break;case J.OCTET_STRING:g=this._dataLen;break;case J.NULL:g=0;break;case J.OBJECT_IDENTIFIER:L(this._data,this._dataIdx,this._dataLen)&&(g=9);}return g;},get length(){var g,v;g=this.payloadLen;if(127<g)for(v=g;v;)v>>=8,++g;return g+2;},get der(){var v,w;v=this.length;if(!v)return ka;v=new Uint8Array(v);w=new q(v);return g(this,w)?v:ka;},get nChildren(){for(var g=0,v=this._child;v;)g++,v=v.next;return g;}};F={createSequenceNode:function(){return new v(null,null,!0,J.SEQUENCE,null,null);},createOidNode:function(g){return new v(g,null,!1,J.OBJECT_IDENTIFIER,0,g?g.length:0);},createNullNode:function(){return new v(null,null,!1,J.NULL,null,null);},createBitStringNode:function(g){return new v(g,null,!1,J.BIT_STRING,0,g?g.length:0);},createIntegerNode:function(g){return new v(g,null,!1,J.INTEGER,0,g?g.length:0);},createOctetStringNode:function(g){return new v(g,null,!1,J.OCTET_STRING,0,g?g.length:0);}};Ca=function(g){this._currentNode=this._rootNode=g;};Ca.prototype={addChild:function(g){this.addTo(this._currentNode,g);},addSibling:function(g){this.addTo(this._currentNode.parent,g);},addTo:function(g,v){this._currentNode=v;this._currentNode.parent=g;if(g.child){for(var w=g.child;w.next;)w=w.next;w.next=v;}else g.child=v;},addToParent:function(g,v){this.findNode(g)&&this.addTo(g,v);},findNode:function(g){for(var v=this._currentNode;v;){if(g==v)return!0;v=v.parent;}return!1;}};ba=0;za=new Uint8Array([42,134,72,134,247,13,1,1,1]);xa=function(g,v,w,F){this.n=g;this.e=v;this.ext=w;this.keyOps=F;};Z=function(g,v,w,F,x,I,J,C,ga,ba,K){this.n=g;this.e=v;this.d=w;this.p=F;this.q=x;this.dp=I;this.dq=J;this.qi=C;this.alg=ga;this.keyOps=ba;this.ext=K;};qa="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");C.prototype.getDer=function(){return this.der;};C.prototype.getType=function(){return this.type;};C.prototype.getKeyOps=function(){return this.keyOps;};C.prototype.getExtractable=function(){return this.extractable;};l.parse=function(g){ba=0;return H(new v(g),0,g.length);};l.show=function(g,v){};l.isRsaSpki=aa;l.isRsaPkcs8=Xa;l.NodeFactory=F;l.Builder=Ca;l.tagVal=J;l.RsaPublicKey=xa;l.RsaPrivateKey=Z;l.buildRsaSpki=Ja;l.parseRsaSpki=function(g){g=l.parse(g);return aa?La(g):ka;};l.buildRsaPkcs8=K;l.parseRsaPkcs8=function(g){g=l.parse(g);return Xa(g)?I(g):ka;};l.buildRsaJwk=w;l.parseRsaJwk=x;l.RsaDer=C;l.rsaDerToJwk=function(g,v,F,x){g=l.parse(g);if(!g)return ka;if(aa(g))g=La(g);else if(Xa(g))g=I(g);else return ka;return w(g,v,F,x);};l.jwkToRsaDer=function(g){var v,w;g=x(g);if(!g)return ka;if(g instanceof xa)v="spki",w=Ja(g).der;else if(g instanceof Z)v="pkcs8",w=K(g).der;else return ka;return new C(w,v,g.keyOps,g.ext);};l.webCryptoAlgorithmToJwkAlg=function(g){return"RSAES-PKCS1-v1_5"==g.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==g.name?"SHA-256"==g.hash.name?"RS256":"SHA-384"==g.hash.name?"RS384":"SHA-512"==g.hash.name?"RS512":ka:ka;};l.webCryptoUsageToJwkKeyOps=function(g){return g.map(function(g){return"wrapKey"==g?"wrap":"unwrapKey"==g?"unwrap":g;});};}());g.ASN1=l;}(L));(function(){for(var g={},l={},q={"=":0,".":0},r={"=":0,".":0},H=/\s+/g,L=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,Ba=64;Ba--;)g["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=262144*Ba,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=4096*Ba,q["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=64*Ba,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=Ba;for(Ba=64;Ba--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba];)g["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=262144*Ba,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=4096*Ba,q["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=64*Ba,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=Ba;ra=function(g,l){for(var q="",aa=0,K=g.length,I=K-2,w,x=l?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=l?"":"=";aa<I;)w=65536*g[aa++]+256*g[aa++]+g[aa++],q+=x[w>>>18]+x[w>>>12&63]+x[w>>>6&63]+x[w&63];aa==I?(w=65536*g[aa++]+256*g[aa++],q+=x[w>>>18]+x[w>>>12&63]+x[w>>>6&63]+C):aa==K-1&&(w=65536*g[aa++],q+=x[w>>>18]+x[w>>>12&63]+C+C);return q;};va=function(aa,Xa){var Ja;aa=aa.replace(H,"");if(Xa){Ja=aa.length%4;if(Ja)for(var Ja=4-Ja,La=0;La<Ja;++La)aa+="=";}Ja=aa.length;if(0!=Ja%4||!L.test(aa))throw Error("bad base64: "+aa);for(var K=Ja/4*3-("="==aa[Ja-1]?1:0)-("="==aa[Ja-2]?1:0),I=new Uint8Array(K),w=0,x=0;w<Ja;)La=g[aa[w++]]+l[aa[w++]]+q[aa[w++]]+r[aa[w++]],I[x++]=La>>>16,x<K&&(I[x++]=La>>>8&255,x<K&&(I[x++]=La&255));return I;};}());cb={};(function(){var L,Ba,aa,Ja;function g(l){if(!(this instanceof g))return new g(l);for(var K=0,I=Ba.length;K<I;K++)this[Ba[K]]="";this.bufferCheckPosition=cb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=l||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=aa.BEGIN;this.stack=new L();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;q(this,"onready");}function q(g,K,I){if(g[K])g[K](I);}function l(g,K){var I,w;I=g.opt;w=g.textNode;I.trim&&(w=w.trim());I.normalize&&(w=w.replace(/\s+/g," "));g.textNode=w;g.textNode&&q(g,K?K:"onvalue",g.textNode);g.textNode="";}function r(g,K){l(g);K+="\nLine: "+g.line+"\nColumn: "+g.column+"\nChar: "+g.c;K=Error(K);g.error=K;q(g,"onerror",K);return g;}function H(La){La.state!==aa.VALUE&&r(La,"Unexpected end");l(La);La.c="";La.closed=!0;q(La,"onend");g.call(La,La.opt);return La;}L=Array;cb.parser=function(q){return new g(q);};cb.CParser=g;cb.MAX_BUFFER_LENGTH=65536;cb.DEBUG=!1;cb.INFO=!1;cb.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");Ba=["textNode","numberNode"];cb.EVENTS.filter(function(g){return"error"!==g&&"end"!==g;});aa=0;cb.STATE={BEGIN:aa++,VALUE:aa++,OPEN_OBJECT:aa++,CLOSE_OBJECT:aa++,OPEN_ARRAY:aa++,CLOSE_ARRAY:aa++,TEXT_ESCAPE:aa++,STRING:aa++,BACKSLASH:aa++,END:aa++,OPEN_KEY:aa++,CLOSE_KEY:aa++,TRUE:aa++,TRUE2:aa++,TRUE3:aa++,FALSE:aa++,FALSE2:aa++,FALSE3:aa++,FALSE4:aa++,NULL:aa++,NULL2:aa++,NULL3:aa++,NUMBER_DECIMAL_POINT:aa++,NUMBER_DIGIT:aa++};for(var Xa in cb.STATE)cb.STATE[cb.STATE[Xa]]=Xa;aa=cb.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(g){return g.__proto__;});Ja=/[\\"\n]/g;g.prototype={end:function(){H(this);},write:function(g){var w,x,C;if(this.error)throw this.error;if(this.closed)return r(this,"Cannot write after close. Assign an onready handler.");if(null===g)return H(this);for(var K=g[0],I;K;){I=K;this.c=K=g.charAt(this.index++);I!==K?this.p=I:I=this.p;if(!K)break;this.position++;"\n"===K?(this.line++,this.column=0):this.column++;switch(this.state){case aa.BEGIN:"{"===K?this.state=aa.OPEN_OBJECT:"["===K?this.state=aa.OPEN_ARRAY:"\r"!==K&&"\n"!==K&&" "!==K&&"\t"!==K&&r(this,"Non-whitespace before {[.");continue;case aa.OPEN_KEY:case aa.OPEN_OBJECT:if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;if(this.state===aa.OPEN_KEY)this.stack.push(aa.CLOSE_KEY);else if("}"===K){q(this,"onopenobject");q(this,"oncloseobject");this.state=this.stack.pop()||aa.VALUE;continue;}else this.stack.push(aa.CLOSE_OBJECT);'"'===K?this.state=aa.STRING:r(this,'Malformed object key should start with "');continue;case aa.CLOSE_KEY:case aa.CLOSE_OBJECT:if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;":"===K?(this.state===aa.CLOSE_OBJECT?(this.stack.push(aa.CLOSE_OBJECT),l(this,"onopenobject")):l(this,"onkey"),this.state=aa.VALUE):"}"===K?(l(this),q(this,"oncloseobject",void 0),this.state=this.stack.pop()||aa.VALUE):","===K?(this.state===aa.CLOSE_OBJECT&&this.stack.push(aa.CLOSE_OBJECT),l(this),this.state=aa.OPEN_KEY):r(this,"Bad object");continue;case aa.OPEN_ARRAY:case aa.VALUE:if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;if(this.state===aa.OPEN_ARRAY)if(q(this,"onopenarray"),this.state=aa.VALUE,"]"===K){q(this,"onclosearray");this.state=this.stack.pop()||aa.VALUE;continue;}else this.stack.push(aa.CLOSE_ARRAY);'"'===K?this.state=aa.STRING:"{"===K?this.state=aa.OPEN_OBJECT:"["===K?this.state=aa.OPEN_ARRAY:"t"===K?this.state=aa.TRUE:"f"===K?this.state=aa.FALSE:"n"===K?this.state=aa.NULL:"-"===K?this.numberNode+=K:"0"===K?(this.numberNode+=K,this.state=aa.NUMBER_DIGIT):-1!=="123456789".indexOf(K)?(this.numberNode+=K,this.state=aa.NUMBER_DIGIT):r(this,"Bad value");continue;case aa.CLOSE_ARRAY:if(","===K)this.stack.push(aa.CLOSE_ARRAY),l(this,"onvalue"),this.state=aa.VALUE;else if("]"===K)l(this),q(this,"onclosearray",void 0),this.state=this.stack.pop()||aa.VALUE;else if("\r"===K||"\n"===K||" "===K||"\t"===K)continue;else r(this,"Bad array");continue;case aa.STRING:I=this.index-1;w=this.slashed,x=this.unicodeI;a:for(;;){if(cb.DEBUG)for(;0<x;)if(this.unicodeS+=K,K=g.charAt(this.index++),4===x?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),x=0,I=this.index-1):x++,!K)break a;if('"'===K&&!w){this.state=this.stack.pop()||aa.VALUE;(this.textNode+=g.substring(I,this.index-1))||q(this,"onvalue","");break;}if("\\"===K&&!w&&(w=!0,this.textNode+=g.substring(I,this.index-1),K=g.charAt(this.index++),!K))break;if(w)if(w=!1,"n"===K?this.textNode+="\n":"r"===K?this.textNode+="\r":"t"===K?this.textNode+="\t":"f"===K?this.textNode+="\f":"b"===K?this.textNode+="\b":"u"===K?(x=1,this.unicodeS=""):this.textNode+=K,K=g.charAt(this.index++),I=this.index-1,K)continue;else break;Ja.lastIndex=this.index;C=Ja.exec(g);if(null===C){this.index=g.length+1;this.textNode+=g.substring(I,this.index-1);break;}this.index=C.index+1;K=g.charAt(C.index);if(!K){this.textNode+=g.substring(I,this.index-1);break;}}this.slashed=w;this.unicodeI=x;continue;case aa.TRUE:if(""===K)continue;"r"===K?this.state=aa.TRUE2:r(this,"Invalid true started with t"+K);continue;case aa.TRUE2:if(""===K)continue;"u"===K?this.state=aa.TRUE3:r(this,"Invalid true started with tr"+K);continue;case aa.TRUE3:if(""===K)continue;"e"===K?(q(this,"onvalue",!0),this.state=this.stack.pop()||aa.VALUE):r(this,"Invalid true started with tru"+K);continue;case aa.FALSE:if(""===K)continue;"a"===K?this.state=aa.FALSE2:r(this,"Invalid false started with f"+K);continue;case aa.FALSE2:if(""===K)continue;"l"===K?this.state=aa.FALSE3:r(this,"Invalid false started with fa"+K);continue;case aa.FALSE3:if(""===K)continue;"s"===K?this.state=aa.FALSE4:r(this,"Invalid false started with fal"+K);continue;case aa.FALSE4:if(""===K)continue;"e"===K?(q(this,"onvalue",!1),this.state=this.stack.pop()||aa.VALUE):r(this,"Invalid false started with fals"+K);continue;case aa.NULL:if(""===K)continue;"u"===K?this.state=aa.NULL2:r(this,"Invalid null started with n"+K);continue;case aa.NULL2:if(""===K)continue;"l"===K?this.state=aa.NULL3:r(this,"Invalid null started with nu"+K);continue;case aa.NULL3:if(""===K)continue;"l"===K?(q(this,"onvalue",null),this.state=this.stack.pop()||aa.VALUE):r(this,"Invalid null started with nul"+K);continue;case aa.NUMBER_DECIMAL_POINT:"."===K?(this.numberNode+=K,this.state=aa.NUMBER_DIGIT):r(this,"Leading zero not followed by .");continue;case aa.NUMBER_DIGIT:-1!=="0123456789".indexOf(K)?this.numberNode+=K:"."===K?(-1!==this.numberNode.indexOf(".")&&r(this,"Invalid number has two dots"),this.numberNode+=K):"e"===K||"E"===K?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||r(this,"Invalid number has two exponential"),this.numberNode+=K):"+"===K||"-"===K?("e"!==I&&"E"!==I&&r(this,"Invalid symbol in number"),this.numberNode+=K):(this.numberNode&&q(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||aa.VALUE);continue;default:r(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){g=Math.max(cb.MAX_BUFFER_LENGTH,10);I=K=0;for(w=Ba.length;I<w;I++){x=this[Ba[I]].length;if(x>g)switch(Ba[I]){case"text":break;default:r(this,"Max buffer length exceeded: "+Ba[I]);}K=Math.max(K,x);}this.bufferCheckPosition=cb.MAX_BUFFER_LENGTH-K+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var r;function g(g,q){q||(q=g.length);return g.reduce(function(g,l,aa){return aa<q?g+String.fromCharCode(l):g;},"");}for(var q={},l=0;256>l;++l){r=g([l]);q[r]=l;}for(var H=Object.keys(q).length,L=[],l=0;256>l;++l)L[l]=[l];Dd=function(l,aa){var v,F;function r(g,v){var F;for(;0<v;){if(x>=w.length)return!1;if(v>C){F=g;F=F>>>v-C;w[x]|=F&255;v-=C;C=8;++x;}else v<=C&&(F=g,F<<=C-v,F&=255,F>>>=8-C,w[x]|=F&255,C-=v,v=0,0==C&&(C=8,++x));}return!0;}for(var Ja in q)aa[Ja]=q[Ja];for(var La=H,K=[],I=8,w=new Uint8Array(l.length),x=0,C=8,J=0;J<l.length;++J){v=l[J];K.push(v);Ja=g(K);F=aa[Ja];if(!F){K=g(K,K.length-1);if(!r(aa[K],I))return null;0!=La>>I&&++I;aa[Ja]=La++;K=[v];}}return 0<K.length&&(Ja=g(K),F=aa[Ja],!r(F,I))?null:w.subarray(0,8>C?x+1:x);};Ed=function(g){var J,v,C,r;for(var l=L.slice(),q=0,r=0,La=8,K=new Uint8Array(Math.ceil(1.5*g.length)),I=0,w,x=[];q<g.length&&!(8*(g.length-q)-r<La);){for(var C=w=0;C<La;){J=Math.min(La-C,8-r);v=g[q];v=v<<r;v=v&255;v=v>>>8-J;C=C+J;r=r+J;8==r&&(r=0,++q);w|=(v&255)<<La-C;}C=l[w];0==x.length?++La:(C?x.push(C[0]):x.push(x[0]),l[l.length]=x,x=[],l.length==1<<La&&++La,C||(C=l[w]));w=I+C.length;w>=K.length&&(J=new Uint8Array(Math.ceil(1.5*w)),J.set(K),K=J);K.set(C,I);I=w;x=x.concat(C);}return K.subarray(0,I);};}());(function(){var g,q,r;Ma="utf-8";Na=9007199254740992;g=Ob={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Ob);Fd=function(q){for(var l=[g.GZIP,g.LZW],r=0;r<l.length&&0<q.length;++r)for(var H=l[r],aa=0;aa<q.length;++aa)if(q[aa]==H)return H;return null;};q=xc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(xc);Gd=function(g){return q.AES_CBC_PKCS5Padding==g?q.AES_CBC_PKCS5Padding:q.RSA_ECB_PKCS1Padding==g?q.RSA_ECB_PKCS1Padding:q[g];};r=Hd={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Hd);Wc=function(g){return r[g];};l={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(l);}());na={isObjectLiteral:function(g){return null!==g&&"object"===typeof g&&g.constructor===Object;},extendDeep:function(){var g,q,l,r,H,L,Ba,aa;g=arguments[0];q=1;l=arguments.length;r=!1;"boolean"===typeof g&&(r=g,g=arguments[1],q=2);for(;q<l;q++)if(null!=(H=arguments[q]))for(L in H)r&&L in g||(aa=H[L],g!==aa&&aa!==ka&&(Ba=g[L],g[L]=null!==Ba&&null!==aa&&"object"===typeof Ba&&"object"===typeof aa?na.extendDeep(r,{},Ba,aa):aa));return g;}};(function(){var Ba,aa;function g(g,q){return function(){var l,K;l=g.base;g.base=q;K=g.apply(this,arguments);g.base=l;return K;};}function q(q,l,r){var K,I,w,x;r=r||aa;x=!!r.extendAll;for(K in l)I=l.__lookupGetter__(K),w=l.__lookupSetter__(K),I||w?(I&&q.__defineGetter__(K,I),w&&q.__defineSetter__(K,w)):(I=l[K],w=q[K],"function"===typeof I&&"function"===typeof w&&I!==w?(I.base!==Function.prototype.base&&(I=g(I,w)),I.base=w):(x||r[K])&&na.isObjectLiteral(I)&&na.isObjectLiteral(w)&&(I=na.extendDeep({},w,I)),q[K]=I);}function l(){var g,q;g=Array.prototype.slice;q=g.call(arguments,1);return this.extend({init:function K(){var I;I=g.call(arguments,0);K.base.apply(this,q.concat(I));}});}function r(g,l){var aa;aa=new this(Ba);q(aa,g,l);return L(aa);}function H(g,l){q(this.prototype,g,l);return this;}function L(g){var q;q=function(){var g;g=this.init;g&&arguments[0]!==Ba&&g.apply(this,arguments);};g&&(q.prototype=g);q.prototype.constructor=q;q.extend=r;q.bind=l;q.mixin=H;return q;}Ba={};aa={actions:!0};Function.prototype.base=function(){};na.Class={create:L,mixin:q,extend:function(g,q){var l;l=L();l.prototype=new g();return l.extend(q);}};na.mixin=function(){na.log&&na.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");q.apply(null,arguments);};}());(function(){var Ba,aa,Xa;function g(g,q){return function(){var l,I;l=g.base;g.base=q;I=g.apply(this,arguments);g.base=l;return I;};}function q(q,l,K){var I,w,x,C;K=K||aa;C=!!K.extendAll;for(I in l)w=l.__lookupGetter__(I),x=l.__lookupSetter__(I),w||x?(w&&q.__defineGetter__(I,w),x&&q.__defineSetter__(I,x)):(w=l[I],x=q[I],"function"===typeof w&&"function"===typeof x&&w!==x?(w.base!==Xa&&(w=g(w,x)),w.base=x):(C||K[I])&&na.isObjectLiteral(w)&&na.isObjectLiteral(x)&&(w=na.extendDeep({},x,w)),q[I]=w);}function l(){var g,q;g=Array.prototype.slice;q=g.call(arguments,1);return this.extend({init:function I(){var w;w=g.call(arguments,0);I.base.apply(this,q.concat(w));}});}function r(g,l){var K;K=new this(Ba);q(K,g,l);return L(K);}function H(g,l){q(this.prototype,g,l);return this;}function L(g){var q;q=function(){var g;g=this.init;g&&arguments[0]!==Ba&&g.apply(this,arguments);};g&&(q.prototype=g);q.prototype.constructor=q;q.extend=r;q.bind=l;q.mixin=H;return q;}Ba={};aa={actions:!0};Xa=function(){};Function.prototype.base=Xa;na.Class={create:L,mixin:q,extend:function(g,q){var l;l=L();l.prototype=new g();return l.extend(q);}};na.mixin=function(){na.log&&na.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");q.apply(null,arguments);};}());(function(){function g(g){return g==Na?1:g+1;}function q(q){if(0===Object.keys(q._waiters).length)return 0;for(var l=g(q._nextWaiter);!q._waiters[l];)l=g(l);return l;}ic=na.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(g){var l;if(this._waiters[g]){l=this._waiters[g];delete this._waiters[g];g==this._nextWaiter&&(this._nextWaiter=q(this));l.call(this,ka);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(l,H){var L,Q;L=this;Q=g(this._lastWaiter);this._lastWaiter=Q;r(H,function(){var g,aa;if(0<this._queue.length){g=this._queue.shift();setTimeout(function(){H.result(g);},0);}else{-1!=l&&(aa=setTimeout(function(){delete L._waiters[Q];Q==L._nextWaiter&&(L._nextWaiter=q(L));H.timeout();},l));this._waiters[Q]=function(g){clearTimeout(aa);setTimeout(function(){H.result(g);},0);};this._nextWaiter||(this._nextWaiter=Q);}},L);return Q;},add:function(g){var l;if(this._nextWaiter){l=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=q(this);l.call(this,g);}else this._queue.push(g);}});}());(function(){var g;g=0-Na;Id=na.Class.create({nextBoolean:function(){var g;g=new Uint8Array(1);Cb.getRandomValues(g);return g[0]&1?!0:!1;},nextInt:function(g){var q;if(null!==g&&g!==ka){if("number"!==typeof g)throw new TypeError("n must be of type number");if(1>g)throw new RangeError("n must be greater than zero");--g;q=new Uint8Array(4);Cb.getRandomValues(q);return Math.floor(((q[3]&127)<<24|q[2]<<16|q[1]<<8|q[0])/2147483648*(g-0+1)+0);}g=new Uint8Array(4);Cb.getRandomValues(g);q=(g[3]&127)<<24|g[2]<<16|g[1]<<8|g[0];return g[3]&128?-q:q;},nextLong:function(){var l,q;for(var q=g;q==g;){q=new Uint8Array(7);Cb.getRandomValues(q);l=16777216*((q[6]&31)<<24|q[5]<<16|q[4]<<8|q[3])+(q[2]<<16|q[1]<<8|q[0]);q=q[6]&128?-l-1:l;}return q;},nextBytes:function(g){Cb.getRandomValues(g);}});}());(function(){function g(g){return g==Na?1:g+1;}function q(q){if(0===Object.keys(q._waitingReaders).length)return 0;for(var l=g(q._nextReader);!q._waitingReaders[l];)l=g(l);return l;}function l(q){if(0===Object.keys(q._waitingWriters).length)return 0;for(var l=g(q._nextWriter);!q._waitingWriters[l];)l=g(l);return l;}Xc=na.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(g){var r;if(this._waitingReaders[g]){r=this._waitingReaders[g];delete this._waitingReaders[g];g==this._nextReader&&(this._nextReader=q(this));r.call(this,!0);}this._waitingWriters[g]&&(r=this._waitingWriters[g],delete this._waitingWriters[g],g==this._nextWriter&&(this._nextWriter=l(this)),r.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(l,H){var L,Q;L=this;Q=g(this._lastNumber);this._lastNumber=Q;r(H,function(){var g;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[Q]=!0,Q;-1!=l&&(g=setTimeout(function(){delete L._waitingReaders[Q];Q==L._nextReader&&(L._nextReader=q(L));H.timeout();},l));this._waitingReaders[Q]=function(q){clearTimeout(g);q?setTimeout(function(){H.result(ka);},0):(L._readers[Q]=!0,setTimeout(function(){H.result(Q);},0));};this._nextReader||(this._nextReader=Q);},L);return Q;},writeLock:function(q,H){var L,Q;L=this;Q=g(this._lastNumber);this._lastNumber=Q;r(H,function(){var g;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=Q;-1!=q&&(g=setTimeout(function(){delete L._waitingWriters[Q];Q==L._nextWriter&&(L._nextWriter=l(L));H.timeout();},q));this._waitingWriters[Q]=function(q){clearTimeout(g);q?setTimeout(function(){H.result(ka);},0):(L._writer=Q,setTimeout(function(){H.result(Q);},0));};this._nextWriter||(this._nextWriter=Q);},L);return Q;},unlock:function(q){if(q==this._writer)this._writer=null;else{if(!this._readers[q])throw new fa("There is no reader or writer with ticket number "+q+".");delete this._readers[q];}if(this._nextWriter)0<Object.keys(this._readers).length||(q=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=l(this),q.call(this,!1));else{for(var r=this._nextReader;0<Object.keys(this._waitingReaders).length;r=g(r))this._waitingReaders[r]&&(q=this._waitingReaders[r],delete this._waitingReaders[r],q.call(this,!1));this._nextReader=0;}}});}());na.Class.mixin(g,{JSON_PARSE_ERROR:new g(0,l.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new g(1,l.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new g(2,l.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new g(3,l.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new g(4,l.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new g(5,l.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new g(6,l.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new g(7,l.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new g(8,l.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new g(9,l.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new g(10,l.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new g(11,l.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new g(12,l.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new g(13,l.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new g(14,l.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new g(15,l.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new g(16,l.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new g(17,l.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new g(18,l.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new g(19,l.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new g(20,l.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new g(21,l.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new g(22,l.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new g(23,l.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new g(24,l.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new g(25,l.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new g(26,l.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new g(27,l.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new g(28,l.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new g(29,l.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new g(30,l.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new g(31,l.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new g(32,l.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new g(33,l.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new g(34,l.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new g(35,l.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new g(36,l.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new g(37,l.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new g(38,l.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new g(39,l.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new g(40,l.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new g(41,l.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new g(42,l.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new g(43,l.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new g(44,l.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new g(45,l.FAIL,"Error exporting key."),DIGEST_ERROR:new g(46,l.FAIL,"Error in digest."),UNSUPPORTED_KEY:new g(47,l.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new g(48,l.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new g(49,l.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new g(50,l.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new g(51,l.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new g(52,l.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new g(53,l.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new g(54,l.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new g(55,l.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new g(56,l.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new g(57,l.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new g(58,l.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new g(59,l.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new g(60,l.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new g(61,l.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new g(62,l.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new g(1E3,l.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new g(1001,l.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new g(1002,l.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new g(1003,l.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new g(1004,l.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(1005,l.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new g(1006,l.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new g(1007,l.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new g(1008,l.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new g(1009,l.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new g(1010,l.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new g(1011,l.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new g(1012,l.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new g(1013,l.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new g(1014,l.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new g(2E3,l.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new g(2001,l.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new g(2002,l.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new g(2003,l.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new g(2004,l.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new g(2005,l.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(2006,l.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(2007,l.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new g(2008,l.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new g(2009,l.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new g(2010,l.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new g(2011,l.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new g(2012,l.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new g(2013,l.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new g(2014,l.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new g(2015,l.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new g(2016,l.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new g(2017,l.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new g(2018,l.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new g(2019,l.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new g(2020,l.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new g(3E3,l.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new g(3001,l.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new g(3002,l.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new g(3003,l.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new g(3004,l.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(3005,l.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(3006,l.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new g(3007,l.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new g(3008,l.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new g(3009,l.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new g(4E3,l.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new g(4001,l.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new g(4002,l.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new g(4003,l.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new g(4004,l.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new g(4005,l.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new g(4006,l.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new g(4007,l.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new g(4008,l.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new g(4009,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new g(4010,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new g(4011,l.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new g(4012,l.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new g(4013,l.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new g(4014,l.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new g(4015,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new g(4016,l.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new g(4017,l.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new g(4018,l.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new g(4019,l.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new g(4020,l.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new g(4021,l.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new g(4022,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new g(4023,l.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new g(4024,l.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new g(4025,l.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new g(4026,l.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new g(5E3,l.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new g(5001,l.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new g(5002,l.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new g(5003,l.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new g(5004,l.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new g(5005,l.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new g(5006,l.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new g(5007,l.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new g(5008,l.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new g(5009,l.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new g(5010,l.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new g(5011,l.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new g(5012,l.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new g(5013,l.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new g(5014,l.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new g(5015,l.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new g(5016,l.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new g(5017,l.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new g(5018,l.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new g(5019,l.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new g(5020,l.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new g(5021,l.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new g(5022,l.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new g(5023,l.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new g(5024,l.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new g(5025,l.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new g(5026,l.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new g(5027,l.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new g(5028,l.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new g(5029,l.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new g(5030,l.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new g(5031,l.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new g(5032,l.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new g(5033,l.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new g(5034,l.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new g(5035,l.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new g(5036,l.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new g(5037,l.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new g(5038,l.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new g(5039,l.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new g(5040,l.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new g(6E3,l.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new g(6001,l.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new g(6002,l.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new g(6003,l.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new g(6004,l.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new g(6005,l.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new g(6006,l.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new g(6007,l.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new g(6008,l.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new g(6009,l.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new g(6010,l.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new g(6011,l.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new g(6012,l.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new g(6013,l.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new g(6014,l.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new g(6015,l.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new g(6016,l.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new g(6017,l.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new g(6018,l.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new g(6019,l.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new g(6020,l.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new g(6021,l.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new g(6022,l.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new g(6023,l.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new g(6024,l.FAIL,"Invalid header data."),PAYLOAD_INVALID:new g(6025,l.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new g(6026,l.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new g(6027,l.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new g(6028,l.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new g(6029,l.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new g(6030,l.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new g(6031,l.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new g(6032,l.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new g(6033,l.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new g(6034,l.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new g(6035,l.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new g(6036,l.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new g(6037,l.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new g(7E3,l.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new g(7001,l.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new g(7002,l.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new g(7003,l.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new g(7004,l.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new g(7005,l.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new g(7006,l.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new g(7007,l.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new g(7008,l.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new g(7009,l.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new g(7010,l.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new g(7011,l.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new g(7012,l.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new g(7013,l.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new g(7014,l.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new g(7015,l.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new g(7016,l.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new g(8E3,l.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new g(8001,l.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new g(8002,l.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new g(8003,l.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new g(8004,l.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new g(8005,l.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new g(8006,l.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new g(8007,l.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new g(8008,l.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new g(8009,l.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new g(8010,l.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new g(8011,l.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new g(8012,l.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new g(9E3,l.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new g(9001,l.FAIL,"Error communicating with MSL entity."),NONE:new g(9999,l.FAIL,"Special unit test error.")});Object.freeze(g);(function(){H=na.Class.create(Error());H.mixin({init:function(g,q,l){var L,Q,fa;function r(){return Q?Q:this.cause&&this.cause instanceof H?this.cause.messageId:ka;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);L=g.message;q&&(L+=" ["+q+"]");fa=this.stack;Object.defineProperties(this,{message:{value:L,writable:!1,configurable:!0},error:{value:g,writable:!1,configurable:!0},cause:{value:l,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:r,set:function(g){if(0>g||g>Na)throw new RangeError("Message ID "+g+" is outside the valid range.");r()||(Q=g);},configurable:!0},stack:{get:function(){var g;g=this.toString();fa&&(g+="\n"+fa);l&&l.stack&&(g+="\nCaused by "+l.stack);return g;},configurable:!0}});},setEntity:function(g){!g||this.masterToken||this.entityAuthenticationData||(g instanceof ib?this.masterToken=g:g instanceof Pb&&(this.entityAuthenticationData=g));return this;},setUser:function(g){!g||this.userIdToken||this.userAuthenticationData||(g instanceof ac?this.userIdToken=g:g instanceof Eb&&(this.userAuthenticationData=g));return this;},setMessageId:function(g){this.messageId=g;return this;},toString:function(){return this.name+": "+this.message;}});}());Q=H.extend({init:function Lb(g,q,l){Lb.base.call(this,g,q,l);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ha=H.extend({init:function pb(g,q,l){pb.base.call(this,g,q,l);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});vb=H.extend({init:function Pa(g,q,l){Pa.base.call(this,g,q,l);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){kb=na.Class.create(Error());kb.mixin({init:function(g,q,l){var r;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);r=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:q,writable:!1,configurable:!1},requestCause:{value:l,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();r&&(g+="\n"+r);q&&q.stack&&(g+="\nCaused by "+q.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Za=na.Class.create(Error());Za.mixin({init:function(g,q){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:q,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();l&&(g+="\n"+l);q&&q.stack&&(g+="\nCaused by "+q.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){fa=na.Class.create(Error());fa.mixin({init:function(g,q){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:q,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();l&&(g+="\n"+l);q&&q.stack&&(g+="\nCaused by "+q.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){db=na.Class.create(Error());db.mixin({init:function(g,q){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:q,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();l&&(g+="\n"+l);q&&q.stack&&(g+="\nCaused by "+q.stack);return g;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Ta=H.extend({init:function uc(g,q,l){uc.base.call(this,g,q,l);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Qb=H.extend({init:function Rc(g,q){Rc.base.call(this,g);Object.defineProperties(this,{masterToken:{value:q,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ga=H.extend({init:function Ba(g,q,l){Ba.base.call(this,g,q,l);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Ea=H.extend({init:function aa(g,q,l){aa.base.call(this,g,q,l);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var K;function g(g){return"undefined"===typeof g?!1:g;}function q(g){return g&&g.length?(fb===K.V2014_02&&(g=g.map(function(g){return"wrap"==g?"wrapKey":"unwrap"==g?"unwrapKey":g;})),g):fb===K.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function l(g,w,q,l,J){return Promise.resolve().then(function(){return Ua.importKey(g,w,q,l,J);})["catch"](function(v){var F;if("spki"!==g&&"pkcs8"!==g)throw v;v=ASN1.webCryptoAlgorithmToJwkAlg(q);F=ASN1.webCryptoUsageToJwkKeyOps(J);v=ASN1.rsaDerToJwk(w,v,F,l);if(!v)throw Error("Could not make valid JWK from DER input");v=JSON.stringify(v);return Ua.importKey("jwk",Qc(v),q,l,J);});}function r(g,w){return Promise.resolve().then(function(){return Ua.exportKey(g,w);})["catch"](function(q){if("spki"!==g&&"pkcs8"!==g)throw q;return Ua.exportKey("jwk",w).then(function(g){g=JSON.parse(Pc(new Uint8Array(g)));g=ASN1.jwkToRsaDer(g);if(!g)throw Error("Could not make valid DER from JWK input");return g.getDer().buffer;});});}K=yc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(yc);fb=K.LATEST;Ka={encrypt:function(g,w,q){switch(fb){case K.LEGACY:return new Promise(function(x,l){var v;v=Ua.encrypt(g,w,q);v.oncomplete=function(g){x(g.target.result);};v.onerror=function(g){l(g);};});case K.V2014_01:case K.V2014_02:return Ua.encrypt(g,w,q).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(g,w,q){switch(fb){case K.LEGACY:return new Promise(function(x,l){var v;v=Ua.decrypt(g,w,q);v.oncomplete=function(g){x(g.target.result);};v.onerror=function(g){l(g);};});case K.V2014_01:case K.V2014_02:return Ua.decrypt(g,w,q).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(g,w,q){switch(fb){case K.LEGACY:return new Promise(function(x,l){var v;v=Ua.sign(g,w,q);v.oncomplete=function(g){x(g.target.result);};v.onerror=function(g){l(g);};});case K.V2014_01:case K.V2014_02:return Ua.sign(g,w,q).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(g,w,q,l){switch(fb){case K.LEGACY:return new Promise(function(x,v){var F;F=Ua.verify(g,w,q,l);F.oncomplete=function(g){x(g.target.result);};F.onerror=function(g){v(g);};});case K.V2014_01:case K.V2014_02:return Ua.verify(g,w,q,l);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(g,w){switch(fb){case K.LEGACY:return new Promise(function(q,l){var x;x=Ua.digest(g,w);x.oncomplete=function(g){q(g.target.result);};x.onerror=function(g){l(g);};});case K.V2014_01:case K.V2014_02:return Ua.digest(g,w).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(l,w,x){var I,J;I=g(w);J=q(x);switch(fb){case K.LEGACY:return new Promise(function(g,w){var v;v=Ua.generateKey(l,I,J);v.oncomplete=function(v){g(v.target.result);};v.onerror=function(g){w(g);};});case K.V2014_01:case K.V2014_02:return Ua.generateKey(l,I,J);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(l,w,x,C,J){var v,F;v=g(C);F=q(J);switch(fb){case K.LEGACY:return new Promise(function(g,q){var J;J=Ua.deriveKey(l,w,x,v,F);J.oncomplete=function(v){g(v.target.result);};J.onerror=function(g){q(g);};});case K.V2014_01:case K.V2014_02:return Ua.deriveKey(l,w,x,v,F);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(I,w,x,C,J){var v,F;v=g(C);F=q(J);switch(fb){case K.LEGACY:return new Promise(function(g,q){var l;l=Ua.importKey(I,w,x,v,F);l.oncomplete=function(v){g(v.target.result);};l.onerror=function(g){q(g);};});case K.V2014_01:case K.V2014_02:return l(I,w,x,v,F);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(g,w){switch(fb){case K.LEGACY:return new Promise(function(q,l){var x;x=Ua.exportKey(g,w);x.oncomplete=function(g){q(g.target.result);};x.onerror=function(g){l(g);};});case K.V2014_01:case K.V2014_02:return r(g,w).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(g,w,q,l){switch(fb){case K.LEGACY:return new Promise(function(g,v){var F;F=Ua.wrapKey(w,q,l);F.oncomplete=function(v){g(v.target.result);};F.onerror=function(g){v(g);};});case K.V2014_01:case K.V2014_02:return Ua.wrapKey(g,w,q,l).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(l,w,x,C,J,v,F){switch(fb){case K.LEGACY:return new Promise(function(g,v){var q;q=Ua.unwrapKey(w,J,x);q.oncomplete=function(v){g(v.target.result);};q.onerror=function(g){v(g);};});case K.V2014_01:case K.V2014_02:return Ua.unwrapKey(l,w,x,C,J,g(v),q(F));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};wc&&wc.getKeyByName&&(Ka.getKeyByName=function(g){switch(fb){case K.LEGACY:return new Promise(function(w,q){var x;x=wc.getKeyByName(g);x.oncomplete=function(g){w(g.target.result);};x.onerror=function(g){q(g);};});case K.V2014_01:case K.V2014_02:return wc.getKeyByName(g);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});L.netflix=L.netflix||{};L.netflix.crypto=Ka;}());wb={name:"AES-KW"};qb={name:"AES-CBC"};rb={name:"HMAC",hash:{name:"SHA-256"}};zc={name:"RSA-OAEP",hash:{name:"SHA-1"}};Yc={name:"RSAES-PKCS1-v1_5"};Jd={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Fb=["encrypt","decrypt"];Gb=["wrap","unwrap"];Rb=["sign","verify"];(function(){Zc=na.Class.create({init:function(l,r,H){var K;function aa(g){q(r,function(){var w;w=g?ra(g):ka;Object.defineProperties(K,{rawKey:{value:l,writable:!1,configurable:!1},keyData:{value:g,writable:!1,configurable:!1},keyDataB64:{value:w,writable:!1,configurable:!1}});return this;},K);}K=this;q(r,function(){if(!l||"object"!=typeof l)throw new Q(g.INVALID_SYMMETRIC_KEY);!H&&l.extractable?Ka.exportKey("raw",l).then(function(g){aa(new Uint8Array(g));},function(q){r.error(new Q(g.KEY_EXPORT_ERROR,"raw"));}):aa(H);},K);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Zb=function(g,q){new Zc(g,q);};xb=function(l,r,H,L){q(L,function(){try{l="string"==typeof l?va(l):l;}catch(K){throw new Q(g.INVALID_SYMMETRIC_KEY,"keydata "+l,K);}Ka.importKey("raw",l,r,!0,H).then(function(g){new Zc(g,L,l);},function(q){L.error(new Q(g.INVALID_SYMMETRIC_KEY));});});};}());(function(){Ac=na.Class.create({init:function(l,r,H){var K;function aa(g){q(r,function(){Object.defineProperties(K,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:g,writable:!1,configurable:!1}});return this;},K);}K=this;q(r,function(){if(!l||"object"!=typeof l||"public"!=l.type)throw new TypeError("Only original public crypto keys are supported.");!H&&l.extractable?Ka.exportKey("spki",l).then(function(g){aa(new Uint8Array(g));},function(q){r.error(new Q(g.KEY_EXPORT_ERROR,"spki"));}):aa(H);});},getEncoded:function(){return this.encoded;}});Nb=function(g,q){new Ac(g,q);};$c=function(l,r,H,L){q(L,function(){try{l="string"==typeof l?va(l):l;}catch(K){throw new Q(g.INVALID_PUBLIC_KEY,"spki "+l,K);}Ka.importKey("spki",l,r,!0,H).then(function(g){new Ac(g,L,l);},function(q){L.error(new Q(g.INVALID_PUBLIC_KEY));});});};}());(function(){Kd=na.Class.create({init:function(l,r,H){var K;function aa(g){q(r,function(){Object.defineProperties(K,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:g,writable:!1,configurable:!1}});return this;},K);}K=this;q(r,function(){if(!l||"object"!=typeof l||"private"!=l.type)throw new TypeError("Only original private crypto keys are supported.");!H&&l.extractable?Ka.exportKey("pkcs8",l).then(function(g){aa(new Uint8Array(g));},function(q){r.error(new Q(g.KEY_EXPORT_ERROR,"pkcs8"));}):aa(H);});},getEncoded:function(){return this.encoded;}});$b=function(g,q){new Kd(g,q);};}());(function(){var l;l=dd={V1:1,V2:2};ad=na.Class.create({init:function(g,r,H,K){q(K,function(){var q,w,x,C;q=l.V1;w=g;x=null;for(C in xc)if(xc[C]==g){q=l.V2;w=null;x=g;break;}Object.defineProperties(this,{version:{value:q,writable:!1,enumerable:!1,configurable:!1},keyId:{value:w,writable:!1,configurable:!1},cipherSpec:{value:x,writable:!1,configurable:!1},iv:{value:r,writable:!1,configurable:!1},ciphertext:{value:H,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var g;g={};switch(this.version){case l.V1:g.keyid=this.keyId;this.iv&&(g.iv=ra(this.iv));g.ciphertext=ra(this.ciphertext);g.sha256="AA==";break;case l.V2:g.version=this.version;g.cipherspec=this.cipherSpec;this.iv&&(g.iv=ra(this.iv));g.ciphertext=ra(this.ciphertext);break;default:throw new fa("Ciphertext envelope version "+this.version+" encoding unsupported.");}return g;}});bd=function(g,q,l,K){new ad(g,q,l,K);};cd=function(r,H,aa){q(aa,function(){var q,I,w,x,C,J,v;q=r.keyid;I=r.cipherspec;w=r.iv;x=r.ciphertext;C=r.sha256;if(!H)if((H=r.version)&&"number"===typeof H&&H===H){J=!1;for(v in l)if(l[v]==H){J=!0;break;}if(!J)throw new Q(g.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));}else H=l.V1;switch(H){case l.V1:if("string"!==typeof q||w&&"string"!==typeof w||"string"!==typeof x||"string"!==typeof C)throw new ha(g.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(r));break;case l.V2:v=r.version;if(v!=l.V2)throw new Q(g.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));if("string"!==typeof I||w&&"string"!==typeof w||"string"!==typeof x)throw new ha(g.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(r));I=Gd(I);if(!I)throw new Q(g.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(r));q=I;break;default:throw new Q(g.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));}try{w&&(w=va(w));x=va(x);}catch(F){throw new Q(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(r),F);}new ad(q,w,x,aa);});};}());(function(){var l;l=gd={V1:1,V2:2};yb=na.Class.create({init:function(g,q,r){var K;switch(g){case l.V1:K=r;break;case l.V2:K={};K.version=g;K.algorithm=q;K.signature=ra(r);K=Wa(JSON.stringify(K),Ma);break;default:throw new fa("Signature envelope version "+g+" encoding unsupported.");}Object.defineProperties(this,{version:{value:g,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:q,writable:!1,configurable:!1},signature:{value:r,writable:!1,configurable:!1},bytes:{value:K,writable:!1,configurable:!1}});}});ed=function(){var g,r,H,K;2==arguments.length?(g=l.V1,r=arguments[0],H=null,K=arguments[1]):3==arguments.length&&(g=l.V2,H=arguments[0],r=arguments[1],K=arguments[2]);q(K,function(){return new yb(g,H,r);});};fd=function(r,H,aa){q(aa,function(){var q,I,w,x,C,J,v;if(H)switch(H){case l.V1:return new yb(l.V1,null,r);case l.V2:try{q=Ya(r,Ma);I=JSON.parse(q);w=parseInt(I.version);x=I.algorithm;C=I.signature;if(!w||"number"!==typeof w||w!=w||"string"!==typeof x||"string"!==typeof C)throw new ha(g.JSON_PARSE_ERROR,"signature envelope "+ra(r));if(l.V2!=w)throw new Q(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+ra(r));J=Wc(x);if(!J)throw new Q(g.UNIDENTIFIED_ALGORITHM,"signature envelope "+ra(r));v=va(C);if(!v)throw new Q(g.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(r));return new yb(l.V2,J,v);}catch(F){if(F instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"signature envelope "+ra(r),F);throw F;}default:throw new Q(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+ra(r));}try{q=Ya(r,Ma);I=JSON.parse(q);}catch(F){I=null;}if(I&&I.version){if(q=I.version,"number"!==typeof q||q!==q)q=l.V1;}else q=l.V1;switch(q){case l.V1:return new yb(q,null,r);case l.V2:J=I.algorithm;C=I.signature;if("string"!==typeof J||"string"!==typeof C)return new yb(l.V1,null,r);J=Wc(J);if(!J)return new yb(l.V1,null,r);try{v=va(C);}catch(F){return new yb(l.V1,null,r);}return new yb(q,J,v);default:throw new Q(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+r);}});};}());bc=na.Class.create({encrypt:function(g,q){},decrypt:function(g,q){},wrap:function(g,q){},unwrap:function(g,q,l,r){},sign:function(g,q){},verify:function(g,q,l){}});(function(){var l;l=Ab={RSA_OAEP:zc.name,A128KW:wb.name};tb="A128GCM";zb=na.Class.create({init:function(g,q,r,K,I){switch(q){case l.RSA_OAEP:I=I&&(I.rawKey||I);K=K&&(K.rawKey||K);break;case l.A128KW:I=K=K&&(K.rawKey||K);break;default:throw new fa("Unsupported algorithm: "+q);}Object.defineProperties(this,{_ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},_algo:{value:q,writable:!1,enumerable:!1,configurable:!1},_enc:{value:r,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:I,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:K,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(q,l){l.error(new Q(g.ENCRYPT_NOT_SUPPORTED));},decrypt:function(q,l){l.error(new Q(g.DECRYPT_NOT_SUPPORTED));},wrap:function(l,r){q(r,function(){Ka.wrapKey("jwe+jwk",l.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(g){r.result(g);},function(q){r.error(new Q(g.WRAP_ERROR));});},this);},unwrap:function(l,r,H,K){function I(l){q(K,function(){switch(l.type){case"secret":Zb(l,K);break;case"public":Nb(l,K);break;case"private":$b(l,K);break;default:throw new Q(g.UNSUPPORTED_KEY,"type: "+l.type);}});}q(K,function(){Ka.unwrapKey("jwe+jwk",l,this._unwrapKey,this._unwrapKey.algorithm,r,!1,H).then(function(g){I(g);},function(){K.error(new Q(g.UNWRAP_ERROR));});},this);},sign:function(q,l){l.error(new Q(g.SIGN_NOT_SUPPORTED));},verify:function(q,l,r){r.error(new Q(g.VERIFY_NOT_SUPPORTED));}});}());cc=bc.extend({encrypt:function(g,q){q.result(g);},decrypt:function(g,q){q.result(g);},wrap:function(g,q){q.result(g);},unwrap:function(g,q,l,r){r.result(g);},sign:function(g,q){q.result(new Uint8Array(0));},verify:function(g,q,l){l.result(!0);}});(function(){var l;l=Cc={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};Bc=bc.extend({init:function Ja(g,q,I,w,x){Ja.base.call(this);I&&(I=I.rawKey);w&&(w=w.rawKey);Object.defineProperties(this,{id:{value:q,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:I,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:w,writable:!1,enumerable:!1,configurable:!1},transform:{value:x==l.ENCRYPT_DECRYPT_PKCS1?Yc:x==l.ENCRYPT_DECRYPT_OAEP?zc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:x==l.WRAP_UNWRAP_PKCS1?Yc:x==l.WRAP_UNWRAP_OAEP?zc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:x==l.SIGN_VERIFY?Jd:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,r){var K;K=this;q(r,function(){if("nullOp"==this.transform)return l;if(!this.publicKey)throw new Q(g.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==l.length)return l;Ka.encrypt(K.transform,K.publicKey,l).then(function(q){bd(K.id,null,q,{result:function(q){var l;try{l=JSON.stringify(q);r.result(Wa(l,Ma));}catch(C){r.error(new Q(g.ENCRYPT_ERROR,null,C));}},error:function(q){q instanceof H||(q=new Q(g.ENCRYPT_ERROR,null,q));r.error(q);}});},function(q){r.error(new Q(g.ENCRYPT_ERROR));});},this);},decrypt:function(l,r){var K;K=this;q(r,function(){var q,w;if("nullOp"==this.transform)return l;if(!this.privateKey)throw new Q(g.DECRYPT_NOT_SUPPORTED,"no private key");if(0==l.length)return l;try{w=Ya(l,Ma);q=JSON.parse(w);}catch(x){if(x instanceof SyntaxError)throw new Q(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,x);throw new Q(g.DECRYPT_ERROR,null,x);}cd(q,dd.V1,{result:function(q){var l;try{if(q.keyId!=K.id)throw new Q(g.ENVELOPE_KEY_ID_MISMATCH);l=r.result;Ka.decrypt(K.transform,K.privateKey,q.ciphertext).then(l,function(q){r.error(new Q(g.DECRYPT_ERROR));});}catch(J){J instanceof H?r.error(J):r.error(new Q(g.DECRYPT_ERROR,null,J));}},error:function(q){q instanceof ha&&(q=new Q(g.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,q));q instanceof H||(q=new Q(g.DECRYPT_ERROR,null,q));r.error(q);}});},this);},wrap:function(l,r){q(r,function(){var q;if("nullOp"==this.wrapTransform||!this.publicKey)throw new Q(g.WRAP_NOT_SUPPORTED,"no public key");q=r.result;Ka.wrapKey("jwk",l.rawKey,this.publicKey,this.wrapTransform).then(q,function(q){r.error(new Q(g.WRAP_ERROR));});},this);},unwrap:function(l,r,K,I){function w(l){q(I,function(){switch(l.type){case"secret":Zb(l,I);break;case"public":Nb(l,I);break;case"private":$b(l,I);break;default:throw new Q(g.UNSUPPORTED_KEY,"type: "+l.type);}});}q(I,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new Q(g.UNWRAP_NOT_SUPPORTED,"no private key");Ka.unwrapKey("jwk",l,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},r,!1,K).then(w,function(q){I.error(new Q(g.UNWRAP_ERROR));});},this);},sign:function(l,r){q(r,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new Q(g.SIGN_NOT_SUPPORTED,"no private key");Ka.sign(this.algo,this.privateKey,l).then(function(g){ed(g,{result:function(g){r.result(g.bytes);},error:r.error});},function(q){r.error(new Q(g.SIGNATURE_ERROR));});},this);},verify:function(l,r,K){var I;I=this;q(K,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new Q(g.VERIFY_NOT_SUPPORTED,"no public key");fd(r,gd.V1,{result:function(w){q(K,function(){var q;q=K.result;Ka.verify(this.algo,this.publicKey,w.signature,l).then(q,function(q){K.error(new Q(g.SIGNATURE_ERROR));});},I);},error:K.error});},this);}});}());(function(){Dc=bc.extend({init:function Xa(g,q,l,I,w){Xa.base.call(this);l=l&&l.rawKey;I=I&&I.rawKey;w=w&&w.rawKey;Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},id:{value:q,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:l,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:I,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:w,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,r){var L;L=this;q(r,function(){var q;if(!this.encryptionKey)throw new Q(g.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;q=new Uint8Array(16);this.ctx.getRandom().nextBytes(q);Ka.encrypt({name:qb.name,iv:q},L.encryptionKey,l).then(function(l){l=new Uint8Array(l);bd(L.id,q,l,{result:function(q){var l;try{l=JSON.stringify(q);r.result(Wa(l,Ma));}catch(C){r.error(new Q(g.ENCRYPT_ERROR,null,C));}},error:function(q){q instanceof H||(q=new Q(g.ENCRYPT_ERROR,null,q));r.error(q);}});},function(q){r.error(new Q(g.ENCRYPT_ERROR));});},this);},decrypt:function(l,r){var L;L=this;q(r,function(){var q,I;if(!this.encryptionKey)throw new Q(g.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;try{I=Ya(l,Ma);q=JSON.parse(I);}catch(w){if(w instanceof SyntaxError)throw new Q(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,w);throw new Q(g.DECRYPT_ERROR,null,w);}cd(q,dd.V1,{result:function(q){try{if(q.keyId!=L.id)throw new Q(g.ENVELOPE_KEY_ID_MISMATCH);Ka.decrypt({name:qb.name,iv:q.iv},L.encryptionKey,q.ciphertext).then(function(g){g=new Uint8Array(g);r.result(g);},function(){r.error(new Q(g.DECRYPT_ERROR));});}catch(x){x instanceof H?r.error(x):r.error(new Q(g.DECRYPT_ERROR,null,x));}},error:function(q){q instanceof ha&&(q=new Q(g.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,q));q instanceof H||(q=new Q(g.DECRYPT_ERROR,null,q));r.error(q);}});},this);},wrap:function(l,r){q(r,function(){if(!this.wrapKey)throw new Q(g.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ka.wrapKey("raw",l.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(g){r.result(g);},function(q){r.error(new Q(g.WRAP_ERROR));});},this);},unwrap:function(l,r,H,K){function I(l){q(K,function(){switch(l.type){case"secret":Zb(l,K);break;case"public":Nb(l,K);break;case"private":$b(l,K);break;default:throw new Q(g.UNSUPPORTED_KEY,"type: "+l.type);}});}q(K,function(){if(!this.wrapKey)throw new Q(g.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ka.unwrapKey("raw",l,this.wrapKey,this.wrapKey.algorithm,r,!1,H).then(function(g){I(g);},function(q){K.error(new Q(g.UNWRAP_ERROR));});},this);},sign:function(l,r){var H;H=this;q(r,function(){if(!this.hmacKey)throw new Q(g.SIGN_NOT_SUPPORTED,"no HMAC key.");Ka.sign(rb,this.hmacKey,l).then(function(g){q(r,function(){var q;q=new Uint8Array(g);ed(q,{result:function(g){r.result(g.bytes);},error:r.error});},H);},function(){r.error(new Q(g.HMAC_ERROR));});},this);},verify:function(l,r,H){var K;K=this;q(H,function(){if(!this.hmacKey)throw new Q(g.VERIFY_NOT_SUPPORTED,"no HMAC key.");fd(r,gd.V1,{result:function(I){q(H,function(){Ka.verify(rb,this.hmacKey,I.signature,l).then(function(g){H.result(g);},function(q){H.error(new Q(g.HMAC_ERROR));});},K);},error:H.error});},this);}});}());jb=Dc.extend({init:function Xa(q,l,r,I,w){if(r||I||w)Xa.base.call(this,q,r+"_"+l.sequenceNumber,I,w,null);else{if(!l.isDecrypted())throw new Qb(g.MASTERTOKEN_UNTRUSTED,l);Xa.base.call(this,q,l.identity+"_"+l.sequenceNumber,l.encryptionKey,l.hmacKey,null);}}});Ne=bc.extend({encrypt:function(g,q){q.result(g);},decrypt:function(g,q){q.result(g);},wrap:function(g,q){q.error(new fa("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(g,q,l,r){r.error(new fa("Unwrap is unsupported by the MSL token crypto context."));},sign:function(g,q){q.result(new Uint8Array(0));},verify:function(g,q,l){l.result(!1);}});Sa={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Sa);(function(){Pb=na.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(g){return this===g?!0:g instanceof Pb?this.scheme==g.scheme:!1;},toJSON:function(){var g;g={};g.scheme=this.scheme;g.authdata=this.getAuthData();return g;}});Ld=function(q,l){var r,K,I;r=l.scheme;K=l.authdata;if(!r||!K)throw new ha(g.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(l));if(!Sa[r])throw new vb(g.UNIDENTIFIED_ENTITYAUTH_SCHEME,r);I=q.getEntityAuthenticationFactory(r);if(!I)throw new vb(g.ENTITYAUTH_FACTORY_NOT_FOUND,r);return I.createData(q,K);};}());Ec=na.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createData:function(g,q){},getCryptoContext:function(g,q){}});(function(){mb=Pb.extend({init:function Ja(g){Ja.base.call(this,Sa.MGK);Object.defineProperties(this,{identity:{value:g,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function La(g){return this===g?!0:g instanceof mb?La.base.call(this,this,g)&&this.identity==g.identity:!1;}});Md=function(q){var l;l=q.identity;if(!l)throw new ha(g.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(q));return new mb(l);};}());Oe=Ec.extend({init:function Ja(g){Ja.base.call(this,Sa.MGK);Object.defineProperties(this,{localIdentity:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,q){return Md(q);},getCryptoContext:function(q,l){if(!(l instanceof mb))throw new fa("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.identity!=this.localIdentity)throw new vb(g.ENTITY_NOT_FOUND,"mgk "+l.identity).setEntity(l);return new cc();}});(function(){sb=Pb.extend({init:function La(g){La.base.call(this,Sa.PSK);Object.defineProperties(this,{identity:{value:g,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function K(g){return this===g?!0:g instanceof sb?K.base.call(this,this,g)&&this.identity==g.identity:!1;}});Nd=function(q){var l;l=q.identity;if(!l)throw new ha(g.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(q));return new sb(l);};}());Od=Ec.extend({init:function La(g){La.base.call(this,Sa.PSK);Object.defineProperties(this,{localIdentity:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,q){return Nd(q);},getCryptoContext:function(q,l){if(!(l instanceof sb))throw new fa("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.getIdentity()!=this.localIdentity)throw new vb(g.ENTITY_NOT_FOUND,"psk "+l.identity).setEntity(l);return new cc();}});(function(){Fc=Pb.extend({init:function K(g,q){K.base.call(this,Sa.RSA);Object.defineProperties(this,{identity:{value:g,writable:!1,configurable:!1},publicKeyId:{value:q,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;g.pubkeyid=this.publicKeyId;return g;},equals:function I(g){return this===g?!0:g instanceof Fc?I.base.call(this,this,g)&&this.identity==g.identity&&this.publicKeyId==g.publicKeyId:!1;}});Pd=function(q){var l,x;l=q.identity;x=q.pubkeyid;if(!l||"string"!==typeof l||!x||"string"!==typeof x)throw new ha(g.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(q));return new Fc(l,x);};}());Pe=Ec.extend({init:function K(g){K.base.call(this,Sa.RSA);Object.defineProperties(this,{store:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,q){return Pd(q);},getCryptoContext:function(q,l){var w,x,C;if(!(l instanceof Fc))throw new fa("Incorrect authentication data type "+l+".");w=l.identity;x=l.publicKeyId;C=this.store.getPublicKey(x);if(!C)throw new vb(g.RSA_PUBLICKEY_NOT_FOUND,x).setEntity(l);return new Bc(q,w,null,C,Cc.SIGN_VERIFY);}});(function(){hc=Pb.extend({init:function I(g){I.base.call(this,Sa.NONE);Object.defineProperties(this,{identity:{value:g,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function w(g){return this===g?!0:g instanceof hc?w.base.call(this,this,g)&&this.identity==g.identity:!1;}});Qd=function(q){var l;l=q.identity;if(!l)throw new ha(g.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(q));return new hc(l);};}());Me=Ec.extend({init:function I(){I.base.call(this,Sa.NONE);},createData:function(g,q){return Qd(q);},getCryptoContext:function(g,q){if(!(q instanceof hc))throw new fa("Incorrect authentication data type "+JSON.stringify(q)+".");return new cc();}});Qe=na.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(g,q){if(!(q instanceof Ac))throw new fa("Incorrect key data type "+q+".");this.rsaKeys[g]=q;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(g){delete this.rsaKeys[g];},getPublicKey:function(g){return this.rsaKeys[g];}});hd=na.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(g,q,l){}});Gc=na.Class.create({abort:function(){},close:function(g,q){},write:function(g,q,l,C,J){},flush:function(g,q){}});Re=na.Class.create({init:function(g){Object.defineProperties(this,{_data:{value:g,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Za("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(g,q,l){r(l,function(){var q;if(this._closed)throw new Za("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==g&&(g=this._data.length-this._currentPosition);q=this._data.subarray(this._currentPosition,this._currentPosition+g);this._currentPosition+=q.length;return q;},this);}});Se=na.Class.create({init:function(){var g;g={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},abort:function(){},close:function(g,q){this._closed=!0;q.result(!0);},write:function(g,q,l,C,J){r(J,function(){var v;if(this._closed)throw new Za("Stream is already closed.");if(0>q)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(q+l>g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");v=g.subarray(q,l);this._buffered.push(v);return v.length;},this);},flush:function(g,q){var l,w;for(;0<this._buffered.length;){l=this._buffered.shift();if(this._result){w=new Uint8Array(this._result.length+l.length);w.set(this._result);w.set(l,this._result.length);this._result=w;}else this._result=new Uint8Array(l);}q.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Te=na.Class.create({getResponse:function(g,q,l){}});(function(){var g,q;g=Gc.extend({init:function(g,q){var l;l={_httpLocation:{value:g,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:q,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Se(),writable:!1,enumerable:!1,configurable:!1},_response:{value:ka,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:ka,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new ic(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(g){this._timeout=g;},getResponse:function(g,q){var l;l=this;this._responseQueue.poll(g,{result:function(g){r(q,function(){g&&this._responseQueue.add(g);return g;},l);},timeout:function(){r(q,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();q.timeout();},l);},error:function(g){r(q,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw g;},l);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(g,q){var l;l=this;r(q,function(){var g;if(this._response)return!0;g=this._buffer.toByteArray();0<g.length&&(this._abortToken=this._httpLocation.getResponse({body:g},this._timeout,{result:function(g){l._response={response:g};l._responseQueue.add(l._response);},timeout:function(){l._response={isTimeout:!0};l._responseQueue.add(l._response);},error:function(g){l._response={isError:!0,error:g};l._responseQueue.add(l._response);}}));return!0;},this);},write:function(g,q,l,v,F){r(F,function(){if(this._response)throw new Za("HttpOutputStream already closed.");this._buffer.write(g,q,l,v,F);},this);},flush:function(g,q){r(q,function(){if(this._response)return!0;this._buffer.flush(g,q);},this);}});q=hd.extend({init:function(g){Object.defineProperties(this,{_out:{value:g,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:ka,writable:!0,enumerable:!1,configurable:!1},_exception:{value:ka,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:ka,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(g,q,l){var F;function v(v){r(l,function(){if(!v)return new Uint8Array(0);this._out.getResponse(q,{result:function(v){r(l,function(){var w;if(v.isTimeout)this._timedout=!0,l.timeout();else{if(v.isError)throw this._exception=v.error||new Za("Unknown HTTP exception."),this._exception;if(!v.response)throw this._exception=new Za("Missing HTTP response."),this._exception;v.response.json!==ka&&(this._json=v.response.json,this.getJSON=function(){return F._json;});w=v.response.content||Qc("string"===typeof v.response.body?v.response.body:JSON.stringify(this._json));this._buffer=new Re(w);this._buffer.read(g,q,l);}},F);},timeout:function(){l.timeout();},error:function(g){l.error(g);}});},F);}F=this;r(l,function(){if(this._exception)throw this._exception;if(this._timedout)l.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(g,q,l):this._out.close(q,{result:function(g){v(g);},timeout:function(){l.timeout();},error:function(g){l.error(g);}});}},F);}});Ad=na.Class.create({init:function(g,q){Object.defineProperties(this,{_httpLocation:{value:g,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:q,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(g){this._timeout=g;},openConnection:function(){var l;l=new g(this._httpLocation,this._timeout);return{input:new q(l),output:l};}});}());(function(){var g,q;g=Gc.extend({init:function(){var g;g={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},setTimeout:function(){},getResponse:function(g,q){q.result({success:!1,content:null,errorHttpCode:ka,errorSubCode:ka});},abort:function(){},close:function(g,q){q.result(!0);},write:function(g,q,l,v,F){var w,x;try{if(0>q)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(q+l>g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=g.subarray(q,l);x=new Uint8Array(this._buffer.length+w.length);x.set(this._buffer);x.set(w,this._buffer.length);this._buffer=x;F.result(w.length);}catch(za){F.error(za);}},flush:function(g,q){q.result(!0);},request:function(){return this._buffer;}});q=hd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(g,q,l){l.result(new Uint8Array(16));}});Bd=na.Class.create({init:function(){var l;l={output:{value:new g(),writable:!1,enumerable:!1,configurable:!1},input:{value:new q(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Pc(this.output.request());}});}());Rd=function(g,q,l){function w(g){var q,l;g=new Ue(Ya(g,"utf-8"));q=[];for(l=g.nextValue();l!==ka;)q.push(l),l=g.nextValue();return q;}(function(g,q,F){g.read(-1,q,{result:function(g){g&&g.length?F(null,g):F(null,null);},timeout:function(){l.timeout();},error:function(g){F(g,null);}});}(g,q,function(q,v){q?l.error(q):v?g.getJSON!==ka&&"function"===typeof g.getJSON?l.result(g.getJSON()):l.result(w(v)):l.result(null);}));};lb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(lb);(function(){jc=na.Class.create({init:function(g){Object.defineProperties(this,{keyExchangeScheme:{value:g,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var g;g={};g.scheme=this.keyExchangeScheme;g.keydata=this.getKeydata();return g;},equals:function(g){return this===g?!0:g instanceof jc?this.keyExchangeScheme==g.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Sd=function(l,w,x){q(x,function(){var q,r,v;q=w.scheme;r=w.keydata;if(!q||!r||"object"!==typeof r)throw new ha(g.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(w));if(!lb[q])throw new Ta(g.UNIDENTIFIED_KEYX_SCHEME,q);v=l.getKeyExchangeFactory(q);if(!v)throw new Ta(g.KEYX_FACTORY_NOT_FOUND,q);v.createRequestData(l,r,x);});};}());(function(){kc=na.Class.create({init:function(g,q){Object.defineProperties(this,{masterToken:{value:g,writable:!1,configurable:!1},keyExchangeScheme:{value:q,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var g;g={};g.mastertoken=this.masterToken;g.scheme=this.keyExchangeScheme;g.keydata=this.getKeydata();return g;},equals:function(g){return this===g?!0:g instanceof kc?this.masterToken.equals(g.masterToken)&&this.keyExchangeScheme==g.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});Td=function(l,w,x){q(x,function(){var r,J,v;r=w.mastertoken;J=w.scheme;v=w.keydata;if(!J||!r||"object"!==typeof r||!v||"object"!==typeof v)throw new ha(g.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(w));if(!lb[J])throw new Ta(g.UNIDENTIFIED_KEYX_SCHEME,J);Sb(l,r,{result:function(F){q(x,function(){var q;q=l.getKeyExchangeFactory(J);if(!q)throw new Ta(g.KEYX_FACTORY_NOT_FOUND,J);return q.createResponseData(l,F,v);});},error:function(g){x.error(g);}});});};}());(function(){var l;l=na.Class.create({init:function(g,q){Object.defineProperties(this,{keyResponseData:{value:g,writable:!1,configurable:!1},cryptoContext:{value:q,writable:!1,configurable:!1}});}});nb=na.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createRequestData:function(g,q,l){},createResponseData:function(g,q,l){},generateResponse:function(g,q,l,r){},getCryptoContext:function(g,q,l,r,v){},generateSessionKeys:function(l,x){q(x,function(){var q,w;q=new Uint8Array(16);w=new Uint8Array(32);l.getRandom().nextBytes(q);l.getRandom().nextBytes(w);xb(q,qb,Fb,{result:function(q){xb(w,rb,Rb,{result:function(g){x.result({encryptionKey:q,hmacKey:g});},error:function(q){x.error(new Q(g.SESSION_KEY_CREATION_FAILURE,null,q));}});},error:function(q){x.error(new Q(g.SESSION_KEY_CREATION_FAILURE,null,q));}});});},importSessionKeys:function(g,q,l){xb(g,qb,Fb,{result:function(g){xb(q,rb,Rb,{result:function(q){l.result({encryptionKey:g,hmacKey:q});},error:function(g){l.error(g);}});},error:function(g){l.error(g);}});}});nb.KeyExchangeData=l;}());(function(){var w,x,r;function l(l,v,F,x,r){q(r,function(){var ba,J;switch(v){case w.PSK:ba=new sb(x),J=l.getEntityAuthenticationFactory(Sa.PSK);if(!J)throw new Ta(g.UNSUPPORTED_KEYX_MECHANISM,v);ba=J.getCryptoContext(l,ba);return new zb(l,Ab.A128KW,tb,ka);case w.MGK:ba=new mb(x);J=l.getEntityAuthenticationFactory(Sa.MGK);if(!J)throw new Ta(g.UNSUPPORTED_KEYX_MECHANISM,v);ba=J.getCryptoContext(l,ba);return new zb(l,Ab.A128KW,tb,ka);case w.WRAP:ba=l.getMslCryptoContext();ba.unwrap(F,wb,Gb,{result:function(g){q(r,function(){return new zb(l,Ab.A128KW,tb,g);});},error:r.error});break;default:throw new Ta(g.UNSUPPORTED_KEYX_MECHANISM,v);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};x=id=jc.extend({init:function v(g,q){v.base.call(this,lb.JWE_LADDER);switch(g){case w.WRAP:if(!q)throw new fa("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:q=null;}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},wrapdata:{value:q,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.mechanism=this.mechanism;this.wrapdata&&(g.wrapdata=ra(this.wrapdata));return g;},equals:function F(g){return g===this?!0:g instanceof id?F.base.call(this,g)&&this.mechanism==g.mechanism&&ab(this.wrapdata,g.wrapdata):!1;},uniqueKey:function Ca(){var g;g=Ca.base.call(this)+":"+this.mechanism;this.wrapdata&&(g+=":"+hb(this.wrapdata));return g;}});r=Vd=kc.extend({init:function ba(g,q,l,w,B){ba.base.call(this,g,lb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:q,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:B,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.wrapkey=ra(this.wrapKey);g.wrapdata=ra(this.wrapdata);g.encryptionkey=ra(this.encryptionKey);g.hmackey=ra(this.hmacKey);return g;},equals:function za(g){return this===g?!0:g instanceof Vd?za.base.call(this,g)&&ab(this.wrapKey,g.wrapKey)&&ab(this.wrapdata,g.wrapdata)&&ab(this.encryptionKey,g.encryptionKey)&&ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function xa(){return xa.base.call(this)+":"+hb(this.wrapKey)+":"+hb(this.wrapdata)+":"+hb(this.encryptionKey)+":"+hb(this.hmacKey);}});Ud=nb.extend({init:function Z(g){Z.base.call(this,lb.JWE_LADDER);Object.defineProperties(this,{repository:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,r,B){q(B,function(){var q,l,B;q=r.mechanism;l=r.wrapdata;if(!q||q==w.WRAP&&(!l||"string"!==typeof l))throw new ha(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!w[q])throw new Ta(g.UNIDENTIFIED_KEYX_MECHANISM,q);switch(q){case w.WRAP:try{B=va(l);}catch(da){throw new Ta(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());}if(null==B||0==B.length)throw new Ta(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());break;default:B=null;}return new x(q,B);});},createResponseData:function(q,l,w){var B,x,Z,C,qa,I,H;q=w.wrapkey;B=w.wrapdata;x=w.encryptionkey;Z=w.hmackey;if(!(q&&"string"===typeof q&&B&&"string"===typeof B&&x&&"string"===typeof x&&Z)||"string"!==typeof Z)throw new ha(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{C=va(q);qa=va(B);}catch(ga){throw new Q(g.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),ga);}try{I=va(x);}catch(ga){throw new Q(g.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),ga);}try{H=va(Z);}catch(ga){throw new Q(g.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),ga);}return new r(l,C,qa,I,H);},generateResponse:function(w,C,B,V){var Ra,sa;function Z(g,l,B){Ra.generateSessionKeys(w,{result:function(w){q(V,function(){qa(g,l,B,w.encryptionKey,w.hmacKey);},Ra);},error:function(g){q(V,function(){g instanceof H&&g.setEntity(sa);throw g;});}});}function qa(g,B,x,r,Z){q(V,function(){l(w,C.mechanism,C.wrapdata,g,{result:function(g){g.wrap(B,{result:function(d){I(B,x,r,Z,d);},error:function(d){q(V,function(){d instanceof H&&d.setEntity(sa);throw d;});}});},error:function(g){q(V,function(){g instanceof H&&g.setEntity(sa);throw g;});}});},Ra);}function I(g,l,B,x,r){q(V,function(){var ga;ga=new zb(w,Ab.A128KW,tb,g);ga.wrap(B,{result:function(d){ga.wrap(x,{result:function(c){ua(l,r,B,d,x,c);},error:function(c){q(V,function(){c instanceof H&&c.setEntity(sa);throw c;});}});},error:function(d){q(V,function(){d instanceof H&&d.setEntity(sa);throw d;});}});},Ra);}function ua(g,l,x,Z,C,qa){q(V,function(){var d;d=w.getTokenFactory();sa?d.renewMasterToken(w,sa,x,C,{result:function(c){q(V,function(){var a,b;a=new jb(w,c);b=new r(c,l,g,Z,qa);return new nb.KeyExchangeData(b,a,V);},Ra);},error:function(c){q(V,function(){c instanceof H&&c.setEntity(sa);throw c;});}}):d.createMasterToken(w,B,x,C,{result:function(c){q(V,function(){var a,b;a=new jb(w,c);b=new r(c,l,g,Z,qa);return new nb.KeyExchangeData(b,a,V);},Ra);},error:V.error});},Ra);}Ra=this;q(V,function(){var l,r;if(!(C instanceof x))throw new fa("Key request data "+JSON.stringify(C)+" was not created by this factory.");l=B;if(B instanceof ib){if(!B.isVerified())throw new Qb(g.MASTERTOKEN_UNTRUSTED,B);sa=B;l=B.identity;}r=new Uint8Array(16);w.getRandom().nextBytes(r);xb(r,wb,Gb,{result:function(g){q(V,function(){w.getMslCryptoContext().wrap(g,{result:function(q){Z(l,g,q);},error:function(g){q(V,function(){g instanceof H&&g.setEntity(sa);throw g;},Ra);}});},Ra);},error:function(l){q(V,function(){throw new Q(g.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(sa);},Ra);}});},Ra);},getCryptoContext:function(l,C,B,V,ya){var qa;function Z(g,w,B,x,r){q(ya,function(){var ga;ga=new zb(l,Ab.A128KW,tb,r);ga.unwrap(w.encryptionKey,qb,Fb,{result:function(r){ga.unwrap(w.hmacKey,rb,Rb,{result:function(g){q(ya,function(){this.repository.addCryptoContext(w.wrapdata,ga);this.repository.removeCryptoContext(B);return new jb(l,w.masterToken,x,r,g);},qa);},error:function(l){q(ya,function(){l instanceof H&&l.setEntity(g);throw l;});}});},error:function(l){q(ya,function(){l instanceof H&&l.setEntity(g);throw l;});}});},qa);}qa=this;q(ya,function(){var V,ea;if(!(C instanceof x))throw new fa("Key request data "+JSON.stringify(C)+" was not created by this factory.");if(!(B instanceof r))throw new fa("Key response data "+JSON.stringify(B)+" was not created by this factory.");V=C.mechanism;ea=C.wrapdata;l.getEntityAuthenticationData(null,{result:function(x){q(ya,function(){var r,C,qa;r=x.getIdentity();switch(V){case w.PSK:C=new sb(r);qa=l.getEntityAuthenticationFactory(Sa.PSK);if(!qa)throw new Ta(g.UNSUPPORTED_KEYX_MECHANISM,V).setEntity(x);C=qa.getCryptoContext(l,C);C=new zb(l,Ab.A128KW,tb,ka);break;case w.MGK:C=new mb(r);qa=l.getEntityAuthenticationFactory(Sa.MGK);if(!qa)throw new Ta(g.UNSUPPORTED_KEYX_MECHANISM,V).setEntity(x);C=qa.getCryptoContext(l,C);C=new zb(l,Ab.A128KW,tb,C.wrapKey);break;case w.WRAP:C=this.repository.getCryptoContext(ea);if(!C)throw new Ta(g.KEYX_WRAPPING_KEY_MISSING,ra(ea)).setEntity(x);break;default:throw new Ta(g.UNSUPPORTED_KEYX_MECHANISM,V).setEntity(x);}C.unwrap(B.wrapKey,wb,Gb,{result:function(g){Z(x,B,ea,r,g);},error:function(g){q(ya,function(){g instanceof H&&g.setEntity(x);throw g;});}});},qa);},error:ya.error});},qa);}});}());(function(){var w,x,r,J;function l(l,F,x,r,C){q(C,function(){var v,ba;switch(F){case w.PSK:v=new sb(r),ba=l.getEntityAuthenticationFactory(Sa.PSK);if(!ba)throw new Ta(g.UNSUPPORTED_KEYX_MECHANISM,F);v=ba.getCryptoContext(l,v);return new J(ka);case w.MGK:v=new mb(r);ba=l.getEntityAuthenticationFactory(Sa.MGK);if(!ba)throw new Ta(g.UNSUPPORTED_KEYX_MECHANISM,F);v=ba.getCryptoContext(l,v);return new J(ka);case w.WRAP:v=l.getMslCryptoContext();v.unwrap(x,wb,Gb,{result:function(g){q(C,function(){return new J(g);});},error:C.error});break;default:throw new Ta(g.UNSUPPORTED_KEYX_MECHANISM,F);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};x=Hc=jc.extend({init:function F(g,q){F.base.call(this,lb.JWK_LADDER);switch(g){case w.WRAP:if(!q)throw new fa("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:q=null;}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},wrapdata:{value:q,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.mechanism=this.mechanism;this.wrapdata&&(g.wrapdata=ra(this.wrapdata));return g;},equals:function Ca(g){return g===this?!0:g instanceof Hc?Ca.base.call(this,g)&&this.mechanism==g.mechanism&&ab(this.wrapdata,g.wrapdata):!1;},uniqueKey:function ba(){var g;g=ba.base.call(this)+":"+this.mechanism;this.wrapdata&&(g+=":"+hb(this.wrapdata));return g;}});r=Wd=kc.extend({init:function za(g,q,l,w,x){za.base.call(this,g,lb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:q,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:x,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.wrapkey=ra(this.wrapKey);g.wrapdata=ra(this.wrapdata);g.encryptionkey=ra(this.encryptionKey);g.hmackey=ra(this.hmacKey);return g;},equals:function xa(g){return this===g?!0:g instanceof Wd?xa.base.call(this,g)&&ab(this.wrapKey,g.wrapKey)&&ab(this.wrapdata,g.wrapdata)&&ab(this.encryptionKey,g.encryptionKey)&&ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function Z(){return Z.base.call(this)+":"+hb(this.wrapKey)+":"+hb(this.wrapdata)+":"+hb(this.encryptionKey)+":"+hb(this.hmacKey);}});J=bc.extend({init:function(g){g&&g.rawKey&&(g=g.rawKey);Object.defineProperties(this,{_wrapKey:{value:g,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(q,l){l.error(new Q(g.ENCRYPT_NOT_SUPPORTED));},decrypt:function(q,l){l.error(new Q(g.DECRYPT_NOT_SUPPORTED));},wrap:function(l,w){q(w,function(){Ka.wrapKey("jwk",l.rawKey,this._wrapKey,wb).then(function(g){w.result(g);},function(q){w.error(new Q(g.WRAP_ERROR));});},this);},unwrap:function(l,w,x,r){function B(l){q(r,function(){switch(l.type){case"secret":Zb(l,r);break;case"public":Nb(l,r);break;case"private":$b(l,r);break;default:throw new Q(g.UNSUPPORTED_KEY,"type: "+l.type);}});}q(r,function(){Ka.unwrapKey("jwk",l,this._wrapKey,wb,w,!1,x).then(function(g){B(g);},function(q){r.error(new Q(g.UNWRAP_ERROR));});},this);},sign:function(q,l){l.error(new Q(g.SIGN_NOT_SUPPORTED));},verify:function(q,l,w){w.error(new Q(g.VERIFY_NOT_SUPPORTED));}});kd=nb.extend({init:function qa(g){qa.base.call(this,lb.JWK_LADDER);Object.defineProperties(this,{repository:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,r,J){q(J,function(){var q,l,B;q=r.mechanism;l=r.wrapdata;if(!q||q==w.WRAP&&(!l||"string"!==typeof l))throw new ha(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!w[q])throw new Ta(g.UNIDENTIFIED_KEYX_MECHANISM,q);switch(q){case w.WRAP:try{B=va(l);}catch(ua){throw new Ta(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());}if(null==B||0==B.length)throw new Ta(g.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());break;default:B=null;}return new x(q,B);});},createResponseData:function(q,l,w){var x,B,J,C,V,qa,ga;q=w.wrapkey;x=w.wrapdata;B=w.encryptionkey;J=w.hmackey;if(!(q&&"string"===typeof q&&x&&"string"===typeof x&&B&&"string"===typeof B&&J)||"string"!==typeof J)throw new ha(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{C=va(q);V=va(x);}catch(ub){throw new Q(g.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),ub);}try{qa=va(B);}catch(ub){throw new Q(g.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),ub);}try{ga=va(J);}catch(ub){throw new Q(g.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),ub);}return new r(l,C,V,qa,ga);},generateResponse:function(w,B,C,I){var sa,ga;function V(g,l,x){sa.generateSessionKeys(w,{result:function(w){q(I,function(){qa(g,l,x,w.encryptionKey,w.hmacKey);},sa);},error:function(g){q(I,function(){g instanceof H&&g.setEntity(ga);throw g;});}});}function qa(g,x,r,C,J){q(I,function(){l(w,B.mechanism,B.wrapdata,g,{result:function(d){d.wrap(x,{result:function(c){ya(x,r,C,J,c);},error:function(c){q(I,function(){c instanceof H&&c.setEntity(ga);throw c;});}});},error:function(d){q(I,function(){d instanceof H&&d.setEntity(ga);throw d;});}});},sa);}function ya(g,l,w,x,r){q(I,function(){var d;d=new J(g);d.wrap(w,{result:function(c){d.wrap(x,{result:function(a){Ra(l,r,w,c,x,a);},error:function(a){q(I,function(){a instanceof H&&a.setEntity(ga);throw a;});}});},error:function(c){q(I,function(){c instanceof H&&c.setEntity(ga);throw c;});}});},sa);}function Ra(g,l,x,B,J,d){q(I,function(){var c;c=w.getTokenFactory();ga?c.renewMasterToken(w,ga,x,J,{result:function(a){q(I,function(){var b,h;b=new jb(w,a);h=new r(a,l,g,B,d);return new nb.KeyExchangeData(h,b,I);},sa);},error:function(a){q(I,function(){a instanceof H&&a.setEntity(ga);throw a;});}}):c.createMasterToken(w,C,x,J,{result:function(a){q(I,function(){var b,h;b=new jb(w,a);h=new r(a,l,g,B,d);return new nb.KeyExchangeData(h,b,I);},sa);},error:I.error});},sa);}sa=this;q(I,function(){var l,r;if(!(B instanceof x))throw new fa("Key request data "+JSON.stringify(B)+" was not created by this factory.");l=C;if(C instanceof ib){if(!C.isVerified())throw new Qb(g.MASTERTOKEN_UNTRUSTED,C);ga=C;l=C.identity;}r=new Uint8Array(16);w.getRandom().nextBytes(r);xb(r,wb,Gb,{result:function(g){q(I,function(){w.getMslCryptoContext().wrap(g,{result:function(q){V(l,g,q);},error:function(g){q(I,function(){g instanceof H&&g.setEntity(ga);throw g;},sa);}});},sa);},error:function(l){q(I,function(){throw new Q(g.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(ga);},sa);}});},sa);},getCryptoContext:function(l,B,C,I,ea){var qa;function V(g,w,x,r,B){q(ea,function(){var ga;ga=new J(B);ga.unwrap(w.encryptionKey,qb,Fb,{result:function(B){ga.unwrap(w.hmacKey,rb,Rb,{result:function(g){q(ea,function(){this.repository.addCryptoContext(w.wrapdata,ga);this.repository.removeCryptoContext(x);return new jb(l,w.masterToken,r,B,g);},qa);},error:function(l){q(ea,function(){l instanceof H&&l.setEntity(g);throw l;});}});},error:function(l){q(ea,function(){l instanceof H&&l.setEntity(g);throw l;});}});},qa);}qa=this;q(ea,function(){var I,ya;if(!(B instanceof x))throw new fa("Key request data "+JSON.stringify(B)+" was not created by this factory.");if(!(C instanceof r))throw new fa("Key response data "+JSON.stringify(C)+" was not created by this factory.");I=B.mechanism;ya=B.wrapdata;l.getEntityAuthenticationData(null,{result:function(x){q(ea,function(){var r,B,ga;r=x.getIdentity();switch(I){case w.PSK:B=new sb(r);ga=l.getEntityAuthenticationFactory(Sa.PSK);if(!ga)throw new Ta(g.UNSUPPORTED_KEYX_MECHANISM,I).setEntity(x);B=ga.getCryptoContext(l,B);B=new J(B.wrapKey);break;case w.MGK:B=new mb(r);ga=l.getEntityAuthenticationFactory(Sa.MGK);if(!ga)throw new Ta(g.UNSUPPORTED_KEYX_MECHANISM,I).setEntity(x);B=ga.getCryptoContext(l,B);B=new J(B.wrapKey);break;case w.WRAP:B=this.repository.getCryptoContext(ya);if(!B)throw new Ta(g.KEYX_WRAPPING_KEY_MISSING,ra(ya)).setEntity(x);break;default:throw new Ta(g.UNSUPPORTED_KEYX_MECHANISM,I).setEntity(x);}B.unwrap(C.wrapKey,wb,Gb,{result:function(g){V(x,C,ya,r,g);},error:function(g){q(ea,function(){g instanceof H&&g.setEntity(x);throw g;});}});},qa);},error:ea.error});},qa);}});}());Ve=na.Class.create({addCryptoContext:function(g,l){},getCryptoContext:function(g){},removeCryptoContext:function(g){}});(function(){var w,x,r,J;function l(l,q,x,r,C){switch(x){case w.JWE_RSA:case w.JWEJS_RSA:return new zb(l,Ab.RSA_OAEP,tb,r,C);case w.JWK_RSA:return new Bc(l,q,r,C,Cc.WRAP_UNWRAP_OAEP);case w.JWK_RSAES:return new Bc(l,q,r,C,Cc.WRAP_UNWRAP_PKCS1);default:throw new Q(g.UNSUPPORTED_KEYX_MECHANISM,x);}}w=Ic={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};x=Vc=jc.extend({init:function F(g,l,q,w){F.base.call(this,lb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:g,writable:!1,configurable:!1},mechanism:{value:l,writable:!1,configurable:!1},publicKey:{value:q,writable:!1,configurable:!1},privateKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.keypairid=this.keyPairId;g.mechanism=this.mechanism;g.publickey=ra(this.publicKey.getEncoded());return g;},equals:function Ca(g){var l;if(g===this)return!0;if(!(g instanceof Vc))return!1;l=this.privateKey===g.privateKey||this.privateKey&&g.privateKey&&ab(this.privateKey.getEncoded(),g.privateKey.getEncoded());return Ca.base.call(this,g)&&this.keyPairId==g.keyPairId&&this.mechanism==g.mechanism&&ab(this.publicKey.getEncoded(),g.publicKey.getEncoded())&&l;},uniqueKey:function ba(){var g,l;g=this.publicKey.getEncoded();l=this.privateKey&&this.privateKey.getEncoded();g=ba.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+hb(g);l&&(g+=":"+hb(l));return g;}});r=function(l,r){q(r,function(){var q,C,J,B;q=l.keypairid;C=l.mechanism;J=l.publickey;if(!q||"string"!==typeof q||!C||!J||"string"!==typeof J)throw new ha(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(l));if(!w[C])throw new Ta(g.UNIDENTIFIED_KEYX_MECHANISM,C);try{B=va(J);switch(C){case w.JWE_RSA:case w.JWEJS_RSA:case w.JWK_RSA:$c(B,zc,Gb,{result:function(g){r.result(new x(q,C,g,null));},error:function(g){r.error(g);}});break;case w.JWK_RSAES:$c(B,Yc,Gb,{result:function(g){r.result(new x(q,C,g,null));},error:function(g){r.error(g);}});break;default:throw new Q(g.UNSUPPORTED_KEYX_MECHANISM,C);}}catch(V){if(!(V instanceof H))throw new Q(g.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(l),V);throw V;}});};J=Xd=kc.extend({init:function za(g,l,q,w){za.base.call(this,g,lb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:l,writable:!1,configurable:!1},encryptionKey:{value:q,writable:!1,configurable:!1},hmacKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.keypairid=this.keyPairId;g.encryptionkey=ra(this.encryptionKey);g.hmackey=ra(this.hmacKey);return g;},equals:function xa(g){return this===g?!0:g instanceof Xd?xa.base.call(this,g)&&this.keyPairId==g.keyPairId&&ab(this.encryptionKey,g.encryptionKey)&&ab(this.hmacKey,g.hmacKey):!1;},uniqueKey:function Z(){return Z.base.call(this)+":"+this.keyPairId+":"+hb(this.encryptionKey)+":"+hb(this.hmacKey);}});Cd=nb.extend({init:function qa(){qa.base.call(this,lb.ASYMMETRIC_WRAPPED);},createRequestData:function(g,l,q){r(l,q);},createResponseData:function(l,q,w){var x,r,B,C;l=w.keypairid;x=w.encryptionkey;r=w.hmackey;if(!l||"string"!==typeof l||!x||"string"!==typeof x||!r||"string"!==typeof r)throw new ha(g.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{B=va(x);}catch(Ra){throw new Q(g.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),Ra);}try{C=va(r);}catch(Ra){throw new Q(g.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),Ra);}return new J(q,l,B,C);},generateResponse:function(g,w,r,C){var V;function B(x,B){q(C,function(){var ga;ga=l(g,w.keyPairId,w.mechanism,null,w.publicKey);ga.wrap(x,{result:function(g){q(C,function(){ga.wrap(B,{result:function(l){I(x,g,B,l);},error:function(g){q(C,function(){g instanceof H&&r instanceof ib&&g.setEntity(r);throw g;},V);}});},V);},error:function(g){q(C,function(){g instanceof H&&r instanceof ib&&g.setEntity(r);throw g;},V);}});},V);}function I(l,x,B,I){q(C,function(){var ga;ga=g.getTokenFactory();r instanceof ib?ga.renewMasterToken(g,r,l,B,{result:function(l){q(C,function(){var q,r;q=new jb(g,l);r=new J(l,w.keyPairId,x,I);return new nb.KeyExchangeData(r,q,C);},V);},error:function(g){q(C,function(){g instanceof H&&g.setEntity(r);throw g;},V);}}):ga.createMasterToken(g,r,l,B,{result:function(l){q(C,function(){var q,r;q=new jb(g,l);r=new J(l,w.keyPairId,x,I);return new nb.KeyExchangeData(r,q,C);},V);},error:C.error});},V);}V=this;q(C,function(){if(!(w instanceof x))throw new fa("Key request data "+JSON.stringify(w)+" was not created by this factory.");this.generateSessionKeys(g,{result:function(g){B(g.encryptionKey,g.hmacKey);},error:function(g){q(C,function(){g instanceof H&&r instanceof ib&&g.setEntity(r);throw g;},V);}});},V);},getCryptoContext:function(w,r,C,I,ea){var B;B=this;q(ea,function(){var V,qa,da;if(!(r instanceof x))throw new fa("Key request data "+JSON.stringify(r)+" was not created by this factory.");if(!(C instanceof J))throw new fa("Key response data "+JSON.stringify(C)+" was not created by this factory.");V=r.keyPairId;qa=C.keyPairId;if(V!=qa)throw new Ta(g.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+V+"; response "+qa).setEntity(I);qa=r.privateKey;if(!qa)throw new Ta(g.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(I);da=l(w,V,r.mechanism,qa,null);da.unwrap(C.encryptionKey,qb,Fb,{result:function(g){da.unwrap(C.hmacKey,rb,Rb,{result:function(l){w.getEntityAuthenticationData(null,{result:function(r){q(ea,function(){var q;q=r.getIdentity();return new jb(w,C.masterToken,q,g,l);},B);},error:function(g){q(ea,function(){g instanceof H&&g.setEntity(I);throw g;},B);}});},error:function(g){q(ea,function(){g instanceof H&&g.setEntity(I);throw g;},B);}});},error:function(g){q(ea,function(){g instanceof H&&g.setEntity(I);throw g;},B);}});},B);}});}());Ue=na.Class.create({init:function(g){var l,q,r,J,v,F,I,ba;l=cb.parser();q=[];r=[];I=0;ba=!1;l.onerror=function(g){ba||(ba=!0,l.end());};l.onopenobject=function(g){var l;if(J)J[F]={},r.push(J),J=J[F];else if(v){l={};r.push(v);v.push(l);J=l;v=ka;}else J={};F=g;};l.oncloseobject=function(){var g;g=r.pop();g?"object"===typeof g?J=g:(J=ka,v=g):(q.push(J),I=l.index,J=ka);};l.onopenarray=function(){var g;if(J)J[F]=[],r.push(J),v=J[F],J=ka;else if(v){g=[];r.push(v);v.push(g);v=g;}else v=[];};l.onclosearray=function(){var g;g=r.pop();g?"object"===typeof g?(J=g,v=ka):v=g:(q.push(v),I=l.index,v=ka);};l.onkey=function(g){F=g;};l.onvalue=function(g){J?J[F]=g:v?v.push(g):(q.push(g),I=l.index);};l.write(g).close();Object.defineProperties(this,{_values:{value:q,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:I,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?ka:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var l,w,r,C,J;l=ld="entityauthdata";w=Zd="mastertoken";r=$d="headerdata";C=ae="errordata";J=md="signature";Yd=function(v,F,x,ba){q(ba,function(){var q,I,Z,qa,B,V;q=F[l];I=F[w];Z=F[J];if(q&&"object"!==typeof q||I&&"object"!==typeof I||"string"!==typeof Z)throw new ha(g.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(F));try{qa=va(Z);}catch(ya){throw new Ga(g.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(F),ya);}B=null;q&&(B=Ld(v,q));V=F[r];if(V!=ka&&null!=V){if("string"!==typeof V)throw new ha(g.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(F));I?Sb(v,I,{result:function(g){nd(v,V,B,g,qa,x,ba);},error:function(g){ba.error(g);}}):nd(v,V,B,null,qa,x,ba);}else if(q=F[C],q!=ka&&null!=q){if("string"!==typeof q)throw new ha(g.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(F));be(v,q,B,qa,ba);}else throw new ha(g.JSON_PARSE_ERROR,JSON.stringify(F));});};}());(function(){function r(g,l){this.errordata=g;this.signature=l;}Mb=na.Class.create({init:function(l,r,C,J,v,F,I,ba,za,xa){var w;w=this;q(xa,function(){var x,B;0>F&&(F=-1);if(0>J||J>Na)throw new fa("Message ID "+J+" is out of range.");if(!r)throw new Ga(g.MESSAGE_ENTITY_NOT_FOUND);if(za)return Object.defineProperties(this,{entityAuthenticationData:{value:r,writable:!1,configurable:!1},recipient:{value:C,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:F,writable:!1,configurable:!1},errorMessage:{value:I,writable:!1,configurable:!1},userMessage:{value:ba,writable:!1,configurable:!1},errordata:{value:za.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:za.signature,writable:!1,enumerable:!1,configurable:!1}}),this;x={};C&&(x.recipient=C);x.messageid=J;x.errorcode=v;0<F&&(x.internalcode=F);I&&(x.errormsg=I);ba&&(x.usermsg=ba);try{B=l.getEntityAuthenticationFactory(r.scheme).getCryptoContext(l,r);}catch(V){throw V instanceof H&&(V.setEntity(r),V.setMessageId(J)),V;}x=Wa(JSON.stringify(x),Ma);B.encrypt(x,{result:function(g){q(xa,function(){B.sign(g,{result:function(l){q(xa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:r,writable:!1,configurable:!1},recipient:{value:C,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:F,writable:!1,configurable:!1},errorMessage:{value:I,writable:!1,configurable:!1},userMessage:{value:ba,writable:!1,configurable:!1},errordata:{value:g,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){q(xa,function(){g instanceof H&&(g.setEntity(r),g.setMessageId(J));throw g;},w);}});},w);},error:function(g){q(xa,function(){g instanceof H&&(g.setEntity(r),g.setMessageId(J));throw g;},w);}});},w);},toJSON:function(){var g;g={};g[ld]=this.entityAuthenticationData;g[ae]=ra(this.errordata);g[md]=ra(this.signature);return g;}});ce=function(g,l,q,r,v,F,I,ba,za){new Mb(g,l,q,r,v,F,I,ba,null,za);};be=function(w,x,C,J,v){q(v,function(){var F,I,ba;if(!C)throw new Ga(g.MESSAGE_ENTITY_NOT_FOUND);try{I=C.scheme;ba=w.getEntityAuthenticationFactory(I);if(!ba)throw new vb(g.ENTITYAUTH_FACTORY_NOT_FOUND,I);F=ba.getCryptoContext(w,C);}catch(za){throw za instanceof H&&za.setEntity(C),za;}try{x=va(x);}catch(za){throw new Ga(g.HEADER_DATA_INVALID,x,za).setEntity(C);}if(!x||0==x.length)throw new Ga(g.HEADER_DATA_MISSING,x).setEntity(C);F.verify(x,J,{result:function(I){q(v,function(){if(!I)throw new Q(g.MESSAGE_VERIFICATION_FAILED).setEntity(C);F.decrypt(x,{result:function(F){q(v,function(){var q,I,B,ba,za,ea,da,Ca;q=Ya(F,Ma);try{I=JSON.parse(q);}catch(sa){if(sa instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"errordata "+q,sa).setEntity(C);throw sa;}B=I.recipient!==ka?I.recipient:null;ba=parseInt(I.messageid);za=parseInt(I.errorcode);ea=parseInt(I.internalcode);da=I.errormsg;Ca=I.usermsg;if(B&&"string"!==typeof B||!ba||ba!=ba||!za||za!=za||I.internalcode&&ea!=ea||da&&"string"!==typeof da||Ca&&"string"!==typeof Ca)throw new ha(g.JSON_PARSE_ERROR,"errordata "+q).setEntity(C);if(0>ba||ba>Na)throw new Ga(g.MESSAGE_ID_OUT_OF_RANGE,"errordata "+q).setEntity(C);I=!1;for(var H in l)if(l[H]==za){I=!0;break;}I||(za=l.FAIL);if(ea){if(0>ea)throw new Ga(g.INTERNAL_CODE_NEGATIVE,"errordata "+q).setEntity(C).setMessageId(ba);}else ea=-1;q=new r(x,J);new Mb(w,C,B,ba,za,ea,da,Ca,q,v);});},error:function(g){q(v,function(){g instanceof H&&g.setEntity(C);throw g;});}});});},error:function(g){q(v,function(){g instanceof H&&g.setEntity(C);throw g;});}});});};}());We=na.Class.create({getUserMessage:function(g,l){}});(function(){od=function(g,l){var q,w;if(!g||!l)return null;q=g.compressionAlgorithms.filter(function(g){for(var q=0;q<l.compressionAlgorithms.length;++q)if(g==l.compressionAlgorithms[q])return!0;return!1;});w=g.languages.filter(function(g){for(var q=0;q<l.languages.length;++q)if(g==l.languages[q])return!0;return!1;});return new lc(q,w);};lc=na.Class.create({init:function(g,l){g||(g=[]);l||(l=[]);g.sort();Object.defineProperties(this,{compressionAlgorithms:{value:g,writable:!1,enumerable:!0,configurable:!1},languages:{value:l,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var g;g={};g.compressionalgos=this.compressionAlgorithms;g.languages=this.languages;return g;},equals:function(g){return this===g?!0:g instanceof lc?vd(this.compressionAlgorithms,g.compressionAlgorithms)&&vd(this.languages,g.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});de=function(l){var q,r,J;q=l.compressionalgos;r=l.languages;if(q&&!(q instanceof Array)||r&&!(r instanceof Array))throw new ha(g.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(l));l=[];for(var C=0;q&&C<q.length;++C){J=q[C];Ob[J]&&l.push(J);}return new lc(l,r);};}());(function(){var xa,Z;function l(g,l,q,v,w){this.customer=g;this.sender=l;this.messageCryptoContext=q;this.headerdata=v;this.signature=w;}function w(g,l,q,v,w,r,F,x,C,ga,J,ba,I,Z,za,d,c,a,b,h){return{cryptoContext:{value:l,writable:!1,configurable:!1},customer:{value:q,writable:!1,configurable:!1},entityAuthenticationData:{value:v,writable:!1,configurable:!1},masterToken:{value:w,writable:!1,configurable:!1},sender:{value:r,writable:!1,configurable:!1},messageId:{value:F,writable:!1,configurable:!1},nonReplayableId:{value:d,writable:!1,configurable:!1},keyRequestData:{value:x,writable:!1,configurable:!1},keyResponseData:{value:C,writable:!1,configurable:!1},userAuthenticationData:{value:ga,writable:!1,configurable:!1},userIdToken:{value:J,writable:!1,configurable:!1},serviceTokens:{value:ba,writable:!1,configurable:!1},peerMasterToken:{value:I,writable:!1,configurable:!1},peerUserIdToken:{value:Z,writable:!1,configurable:!1},peerServiceTokens:{value:za,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:c,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:h,writable:!1,enumerable:!1,configurable:!1}};}function r(l,q,v){var w;if(v){if(q=l.getMslStore().getCryptoContext(v))return q;if(!v.isVerified()||!v.isDecrypted())throw new Qb(g.MASTERTOKEN_UNTRUSTED,v);return new jb(l,v);}v=q.scheme;w=l.getEntityAuthenticationFactory(v);if(!w)throw new vb(g.ENTITYAUTH_FACTORY_NOT_FOUND,v);return w.getCryptoContext(l,q);}function C(l,v,w,r,F){q(F,function(){v.verify(w,r,{result:function(l){q(F,function(){if(!l)throw new Q(g.MESSAGE_VERIFICATION_FAILED);v.decrypt(w,{result:function(g){q(F,function(){return Ya(g,Ma);});},error:function(g){F.error(g);}});});},error:function(g){F.error(g);}});});}function J(g,l,v){q(v,function(){if(l)Td(g,l,v);else return null;});}function v(g,l,v,w){q(w,function(){if(l)Tb(g,l,v,w);else return null;});}function F(g,l,v,w){q(w,function(){if(v)he(g,l,v,w);else return null;});}function Ca(l,v,w,r,F,x,C){var J;function B(v,C,ba){var ga,I;if(C>=v.length){ga=[];for(I in J)ga.push(J[I]);ba.result(ga);}else{ga=v[C];if("object"!==typeof ga)throw new ha(g.JSON_PARSE_ERROR,"headerdata "+x);Jc(l,ga,w,r,F,{result:function(g){q(ba,function(){J[g.uniqueKey()]=g;B(v,C+1,ba);});},error:function(g){ba.error(g);}});}}J={};q(C,function(){if(v){if(!(v instanceof Array))throw new ha(g.JSON_PARSE_ERROR,"headerdata "+x);B(v,0,C);}else return[];});}function ba(l,v,w,r,F,x){function B(l,v,w){q(w,function(){var q;q=v.peermastertoken;if(q&&"object"!==typeof q)throw new ha(g.JSON_PARSE_ERROR,"headerdata "+F);if(!q)return null;Sb(l,q,w);});}function C(l,v,w,r){q(r,function(){var q;q=v.peeruseridtoken;if(q&&"object"!==typeof q)throw new ha(g.JSON_PARSE_ERROR,"headerdata "+F);if(!q)return null;Tb(l,q,w,r);});}q(x,function(){if(!l.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};B(l,v,{result:function(g){q(x,function(){var B;B=w?w.masterToken:g;C(l,v,B,{result:function(w){q(x,function(){Ca(l,v.peerservicetokens,B,w,r,F,{result:function(l){q(x,function(){return{peerMasterToken:g,peerUserIdToken:w,peerServiceTokens:l};});},error:function(g){q(x,function(){g instanceof H&&(g.setEntity(B),g.setUser(w));throw g;});}});});},error:function(g){q(x,function(){g instanceof H&&g.setEntity(B);throw g;});}});});},error:x.error});});}function za(l,v,w,r){var x;function F(g,v){q(r,function(){if(v>=g.length)return x;Sd(l,g[v],{result:function(l){q(r,function(){x.push(l);F(g,v+1);});},error:function(g){r.error(g);}});});}x=[];q(r,function(){var l;l=v.keyrequestdata;if(!l)return x;if(!(l instanceof Array))throw new ha(g.JSON_PARSE_ERROR,"headerdata "+w);F(l,0);});}xa=fe=na.Class.create({init:function(g,l,q,v,w,r,F,x,C){Object.defineProperties(this,{messageId:{value:g,writable:!1,configurable:!1},nonReplayableId:{value:l,writable:!1,configurable:!1},renewable:{value:q,writable:!1,configurable:!1},capabilities:{value:v,writable:!1,configurable:!1},keyRequestData:{value:w,writable:!1,configurable:!1},keyResponseData:{value:r,writable:!1,configurable:!1},userAuthData:{value:F,writable:!1,configurable:!1},userIdToken:{value:x,writable:!1,configurable:!1},serviceTokens:{value:C,writable:!1,configurable:!1}});}});Z=ge=na.Class.create({init:function(g,l,q){Object.defineProperties(this,{peerMasterToken:{value:g,writable:!1,configurable:!1},peerUserIdToken:{value:l,writable:!1,configurable:!1},peerServiceTokens:{value:q,writable:!1,configurable:!1}});}});mc=na.Class.create({init:function(g,l,v,F,x,C,J){var ba;function B(B){q(J,function(){var ga,I,Z,pa,ea,d,c,a,b,h,n,p,f,k,m,t,u;l=v?null:l;ga=F.nonReplayableId;I=F.renewable;Z=F.capabilities;pa=F.messageId;ea=F.keyRequestData?F.keyRequestData:[];d=F.keyResponseData;c=F.userAuthData;a=F.userIdToken;b=F.serviceTokens?F.serviceTokens:[];g.isPeerToPeer()?(h=x.peerMasterToken,n=x.peerUserIdToken,p=x.peerServiceTokens?x.peerServiceTokens:[]):(n=h=null,p=[]);if(0>pa||pa>Na)throw new fa("Message ID "+pa+" is out of range.");if(!l&&!v)throw new fa("Message entity authentication data or master token must be provided.");d?g.isPeerToPeer()?(f=v,k=d.masterToken):(f=d.masterToken,k=h):(f=v,k=h);if(a&&(!f||!a.isBoundTo(f)))throw new fa("User ID token must be bound to a master token.");if(n&&(!k||!n.isBoundTo(k)))throw new fa("Peer user ID token must be bound to a peer master token.");b.forEach(function(h){if(h.isMasterTokenBound()&&(!f||!h.isBoundTo(f)))throw new fa("Master token bound service tokens must be bound to the provided master token.");if(h.isUserIdTokenBound()&&(!a||!h.isBoundTo(a)))throw new fa("User ID token bound service tokens must be bound to the provided user ID token.");},this);p.forEach(function(a){if(a.isMasterTokenBound()&&(!k||!a.isBoundTo(k)))throw new fa("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!n||!a.isBoundTo(n)))throw new fa("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(C){m=C.customer;t=C.messageCryptoContext;u=w(g,t,m,l,v,B,pa,ea,d,c,a,b,h,n,p,ga,I,Z,C.headerdata,C.signature);Object.defineProperties(this,u);return this;}m=a?a.customer:null;u={};B&&(u.sender=B);u.messageid=pa;"number"===typeof ga&&(u.nonreplayableid=ga);u.renewable=I;Z&&(u.capabilities=Z);0<ea.length&&(u.keyrequestdata=ea);d&&(u.keyresponsedata=d);c&&(u.userauthdata=c);a&&(u.useridtoken=a);0<b.length&&(u.servicetokens=b);h&&(u.peermastertoken=h);n&&(u.peeruseridtoken=n);0<p.length&&(u.peerservicetokens=p);try{t=r(g,l,v);}catch(y){throw y instanceof H&&(y.setEntity(v),y.setEntity(l),y.setUser(a),y.setUser(c),y.setMessageId(pa)),y;}u=Wa(JSON.stringify(u),Ma);t.encrypt(u,{result:function(f){q(J,function(){t.sign(f,{result:function(k){q(J,function(){var u;u=w(g,t,m,l,v,B,pa,ea,d,c,a,b,h,n,p,ga,I,Z,f,k);Object.defineProperties(this,u);return this;},ba);},error:function(f){q(J,function(){f instanceof H&&(f.setEntity(v),f.setEntity(l),f.setUser(a),f.setUser(c),f.setMessageId(pa));throw f;},ba);}});},ba);},error:function(f){q(J,function(){f instanceof H&&(f.setEntity(v),f.setEntity(l),f.setUser(a),f.setUser(c),f.setMessageId(pa));throw f;},ba);}});},ba);}ba=this;q(J,function(){C?B(C.sender):v?g.getEntityAuthenticationData(null,{result:function(g){g=g.getIdentity();B(g);},error:J.error}):B(null);},ba);},isEncrypting:function(){return this.masterToken||Sc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var g;g={};this.masterToken?g[Zd]=this.masterToken:g[ld]=this.entityAuthenticationData;g[$d]=ra(this.headerdata);g[md]=ra(this.signature);return g;}});ee=function(g,l,q,v,w,F){new mc(g,l,q,v,w,null,F);};nd=function(w,x,I,ya,ea,da,ua){q(ua,function(){var B,V;I=ya?null:I;if(!I&&!ya)throw new Ga(g.MESSAGE_ENTITY_NOT_FOUND);B=x;try{x=va(B);}catch(ga){throw new Ga(g.HEADER_DATA_INVALID,B,ga);}if(!x||0==x.length)throw new Ga(g.HEADER_DATA_MISSING,B);try{V=r(w,I,ya);}catch(ga){throw ga instanceof H&&(ga.setEntity(ya),ga.setEntity(I)),ga;}C(w,V,x,ea,{result:function(r){q(ua,function(){var B,C,ga,pa,qa;try{B=JSON.parse(r);}catch(d){if(d instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"headerdata "+r,d).setEntity(ya).setEntity(I);throw d;}C=parseInt(B.messageid);if(!C||C!=C)throw new ha(g.JSON_PARSE_ERROR,"headerdata "+r).setEntity(ya).setEntity(I);if(0>C||C>Na)throw new Ga(g.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+r).setEntity(ya).setEntity(I);ga=ya?B.sender:null;if(ya&&(!ga||"string"!==typeof ga))throw new ha(g.JSON_PARSE_ERROR,"headerdata "+r).setEntity(ya).setEntity(I).setMessageId(C);pa=B.keyresponsedata;if(pa&&"object"!==typeof pa)throw new ha(g.JSON_PARSE_ERROR,"headerdata "+r).setEntity(ya).setEntity(I).setMessageId(C);qa=ua;ua={result:function(d){qa.result(d);},error:function(d){d instanceof H&&(d.setEntity(ya),d.setEntity(I),d.setMessageId(C));qa.error(d);}};J(w,pa,{result:function(d){q(ua,function(){var c,a;c=!w.isPeerToPeer()&&d?d.masterToken:ya;a=B.useridtoken;if(a&&"object"!==typeof a)throw new ha(g.JSON_PARSE_ERROR,"headerdata "+r);v(w,a,c,{result:function(a){q(ua,function(){var h;h=B.userauthdata;if(h&&"object"!==typeof h)throw new ha(g.JSON_PARSE_ERROR,"headerdata "+r);F(w,c,h,{result:function(h){q(ua,function(){var b,f,k;if(h){f=h.scheme;k=w.getUserAuthenticationFactory(f);if(!k)throw new Ea(g.USERAUTH_FACTORY_NOT_FOUND,f).setUser(a).setUser(h);f=ya?ya.identity:I.getIdentity();b=k.authenticate(w,f,h,a);}else b=a?a.customer:null;Ca(w,B.servicetokens,c,a,da,r,{result:function(f){q(ua,function(){var k,m,n,p;k=B.nonreplayableid!==ka?parseInt(B.nonreplayableid):null;m=B.renewable;if(k!=k||"boolean"!==typeof m)throw new ha(g.JSON_PARSE_ERROR,"headerdata "+r);if(0>k||k>Na)throw new Ga(g.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+r);n=null;p=B.capabilities;if(p){if("object"!==typeof p)throw new ha(g.JSON_PARSE_ERROR,"headerdata "+r);n=de(p);}za(w,B,r,{result:function(t){ba(w,B,d,da,r,{result:function(p){q(ua,function(){var u,c,y,E;u=p.peerMasterToken;c=p.peerUserIdToken;y=p.peerServiceTokens;E=new xa(C,k,m,n,t,d,h,a,f);u=new Z(u,c,y);c=new l(b,ga,V,x,ea);new mc(w,I,ya,E,u,c,ua);});},error:ua.error});},error:function(f){q(ua,function(){f instanceof H&&(f.setUser(a),f.setUser(h));throw f;});}});});},error:function(f){q(ua,function(){f instanceof H&&(f.setEntity(c),f.setUser(a),f.setUser(h));throw f;});}});});},error:ua.error});});},error:ua.error});});},error:ua.error});});},error:ua.error});});};}());(function(){function l(g,l){this.payload=g;this.signature=l;}pd=na.Class.create({init:function(g,l,r,J,v,F,I,ba){var w;w=this;q(ba,function(){var x,C;if(0>g||g>Na)throw new fa("Sequence number "+g+" is outside the valid range.");if(0>l||l>Na)throw new fa("Message ID "+l+" is outside the valid range.");if(I)return Object.defineProperties(this,{sequenceNumber:{value:g,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:I.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:I.signature,writable:!1,enumerable:!1,configurable:!1}}),this;J?(x=qd(J,v),x||(J=null,x=v)):(J=null,x=v);C={};C.sequencenumber=g;C.messageid=l;r&&(C.endofmsg=r);J&&(C.compressionalgo=J);C.data=ra(x);x=Wa(JSON.stringify(C),Ma);F.encrypt(x,{result:function(x){q(ba,function(){F.sign(x,{result:function(F){q(ba,function(){Object.defineProperties(this,{sequenceNumber:{value:g,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:x,writable:!1,enumerable:!1,configurable:!1},signature:{value:F,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){ba.error(g);}});},w);},error:function(g){ba.error(g);}});},w);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var g;g={};g.payload=ra(this.payload);g.signature=ra(this.signature);return g;}});ie=function(g,l,q,r,v,F,I){new pd(g,l,q,r,v,F,null,I);};je=function(w,r,C){q(C,function(){var x,v,F,I;x=w.payload;v=w.signature;if(!x||"string"!==typeof x||"string"!==typeof v)throw new ha(g.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(w));try{F=va(x);}catch(ba){throw new Ga(g.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(w),ba);}try{I=va(v);}catch(ba){throw new Ga(g.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(w),ba);}r.verify(F,I,{result:function(v){q(C,function(){if(!v)throw new Q(g.PAYLOAD_VERIFICATION_FAILED);r.decrypt(F,{result:function(v){q(C,function(){var q,w,x,B,J,ba,ea;q=Ya(v,Ma);try{w=JSON.parse(q);}catch(da){if(da instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"payload chunk payload "+q,da);throw da;}x=parseInt(w.sequencenumber);B=parseInt(w.messageid);J=w.endofmsg;ba=w.compressionalgo;w=w.data;if(!x||x!=x||!B||B!=B||J&&"boolean"!==typeof J||ba&&"string"!==typeof ba||"string"!==typeof w)throw new ha(g.JSON_PARSE_ERROR,"payload chunk payload "+q);if(0>x||x>Na)throw new H(g.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+q);if(0>B||B>Na)throw new H(g.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+q);J||(J=!1);if(ba&&!Ob[ba])throw new Ga(g.UNIDENTIFIED_COMPRESSION,ba);try{ea=va(w);}catch(da){throw new Ga(g.PAYLOAD_DATA_CORRUPT,w,da);}if(ea&&0!=ea.length)q=ba?Kc(ba,ea):ea;else{if(0<w.length)throw new Ga(g.PAYLOAD_DATA_CORRUPT,w);if(J)q=new Uint8Array(0);else throw new Ga(g.PAYLOAD_DATA_MISSING,w);}ea=new l(F,I);new pd(x,B,J,ba,q,r,ea,C);});},error:function(g){C.error(g);}});});},error:function(g){C.error(g);}});});};}());(function(){var C,J;function l(l,w,r,x,C){var F,J,B,ba,I;function v(){q(C,function(){var r,x;J>=w.length&&(J=0,++F);if(F>=B.length){if(ba)throw ba;throw new Ta(g.KEYX_FACTORY_NOT_FOUND,JSON.stringify(w));}r=B[F];x=w[J];r.scheme!=x.keyExchangeScheme?(++J,v()):r.generateResponse(l,x,I,{result:function(g){C.result(g);},error:function(g){q(C,function(){if(!(g instanceof H))throw g;ba=g;++J;v();});}});});}F=0;J=0;B=l.getKeyExchangeFactories();I=r?r:x;v();}function w(g,w,r,x,C){q(C,function(){var v;v=w.keyRequestData;if(w.isRenewable()&&0<v.length)x?x.isRenewable()||x.isExpired()?l(g,v,x,null,C):g.getTokenFactory().isNewestMasterToken(g,x,{result:function(w){q(C,function(){if(w)return null;l(g,v,x,null,C);});},error:C.error}):l(g,v,null,r.getIdentity(),C);else return null;});}function r(l,w,r,x){q(x,function(){var q,v,F,C;q=w.userIdToken;v=w.userAuthenticationData;F=w.messageId;if(q&&q.isVerified()){if(q.isRenewable()&&w.isRenewable()||q.isExpired()||!q.isBoundTo(r)){v=l.getTokenFactory();v.renewUserIdToken(l,q,r,x);return;}}else if(w.isRenewable()&&r&&v){q=w.customer;if(!q){q=v.scheme;C=l.getUserAuthenticationFactory(q);if(!C)throw new Ea(g.USERAUTH_FACTORY_NOT_FOUND,q).setEntity(r).setUser(v).setMessageId(F);q=C.authenticate(l,r.identity,v,null);}v=l.getTokenFactory();v.createUserIdToken(l,q,r,x);return;}return q;});}C=new Uint8Array(0);J=Ub=function(g){if(0>g||g>Na)throw new fa("Message ID "+g+" is outside the valid range.");return g==Na?0:g+1;};dc=function(g){if(0>g||g>Na)throw new fa("Message ID "+g+" is outside the valid range.");return 0==g?Na:g-1;};Vb=function(g,l,w,r,x){q(x,function(){var v;if(r==ka||null==r){v=g.getRandom();do r=v.nextLong();while(0>r||r>Na);}else if(0>r||r>Na)throw new fa("Message ID "+r+" is outside the valid range.");g.getEntityAuthenticationData(null,{result:function(v){q(x,function(){var q;q=g.getMessageCapabilities();return new Lc(g,r,q,v,l,w,null,null,null,null,null);});},error:function(g){x.error(g);}});});};ke=function(g,l,x){q(x,function(){var F,C,I,Ca,B,V;function v(g){q(x,function(){g instanceof H&&(g.setEntity(F),g.setEntity(C),g.setUser(I),g.setUser(Ca),g.setMessageId(B));throw g;});}F=l.masterToken;C=l.entityAuthenticationData;I=l.userIdToken;Ca=l.userAuthenticationData;B=l.messageId;V=J(B);w(g,l,C,F,{result:function(w){q(x,function(){var C;C=w?w.keyResponseData.masterToken:C=F;g.getEntityAuthenticationData(null,{result:function(B){q(x,function(){r(g,l,C,{result:function(v){q(x,function(){var q,r,x;I=v;q=od(l.messageCapabilities,g.getMessageCapabilities());r=l.keyResponseData;x=l.serviceTokens;return g.isPeerToPeer()?new Lc(g,V,q,B,r?r.masterToken:l.peerMasterToken,l.peerUserIdToken,l.peerServiceTokens,F,I,x,w):new Lc(g,V,q,B,r?r.masterToken:F,I,x,null,null,null,w);});},error:v});});},error:v});});},error:v});});};le=function(g,l,w,r,x){q(x,function(){g.getEntityAuthenticationData(null,{result:function(v){q(x,function(){var q,F;if(l!=ka&&null!=l)q=J(l);else{F=g.getRandom();do q=F.nextInt();while(0>q||q>Na);}ce(g,v,q,w.responseCode,w.internalCode,w.message,r,x);});},error:function(g){x.error(g);}});});};Lc=na.Class.create({init:function(g,l,q,w,r,x,C,J,B,I,H){var v,F,ba,Z,V;if(!g.isPeerToPeer()&&(J||B))throw new fa("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");v=H&&!g.isPeerToPeer()?H.keyResponseData.masterToken:r;F={};g.getMslStore().getServiceTokens(v,x).forEach(function(g){F[g.name]=g;},this);C&&C.forEach(function(g){F[g.name]=g;},this);V={};g.isPeerToPeer()&&(ba=J,Z=B,C=H?H.keyResponseData.masterToken:J,g.getMslStore().getServiceTokens(C,B).forEach(function(g){V[g.name]=g;},this),I&&I.forEach(function(g){V[g.name]=g;},this));Object.defineProperties(this,{_ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:w,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:r,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:l,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:q,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:H,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:x,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:F,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:ba,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Z,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:V,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||Sc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Sc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||wd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||wd(this._entityAuthData.scheme);},getHeader:function(l){q(l,function(){var q,v,w,r,x;q=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);r=[];for(x in this._keyRequestData)r.push(this._keyRequestData[x]);if(this._nonReplayable){if(!this._masterToken)throw new Ga(g.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);x=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else x=null;q=new fe(this._messageId,x,this._renewable,this._capabilities,r,q,this._userAuthData,this._userIdToken,v);v=[];for(w in this._peerServiceTokens)v.push(this._peerServiceTokens[w]);w=new ge(this._peerMasterToken,this._peerUserIdToken,v);ee(this._ctx,this._entityAuthData,this._masterToken,q,w,l);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(g){this._nonReplayable=g;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(g){this._renewable=g;return this;},setAuthTokens:function(g,l){var q,v,w;if(l&&!l.isBoundTo(g))throw new fa("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new fa("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{q=this._ctx.getMslStore().getServiceTokens(g,l);}catch(xa){if(xa instanceof H)throw new fa("Invalid master token and user ID token combination despite checking above.",xa);throw xa;}v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);v.forEach(function(q){(q.isUserIdTokenBound()&&!q.isBoundTo(l)||q.isMasterTokenBound()&&!q.isBoundTo(g))&&delete this._serviceTokens[q.name];},this);q.forEach(function(g){this._serviceTokens[g.name]=g;},this);this._masterToken=g;this._userIdToken=l;},setUserAuthenticationData:function(g){this._userAuthData=g;return this;},setCustomer:function(g,l){var v;v=this;q(l,function(){var w;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new fa("User ID token or peer user ID token already exists for the remote user.");w=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!w)throw new fa("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,g,w,{result:function(g){q(l,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=g:(this._userIdToken=g,this._userAuthData=null);return!0;},v);},error:function(g){l.error(g);}});},v);},addKeyRequestData:function(g){this._keyRequestData[g.uniqueKey()]=g;return this;},removeKeyRequestData:function(g){delete this._keyRequestData[g.uniqueKey()];return this;},addServiceToken:function(l){var q;q=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(l.isMasterTokenBound()&&!l.isBoundTo(q))throw new Ga(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(q)).setEntity(q);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._userIdToken))throw new Ga(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(q).setUser(this._userIdToken);this._serviceTokens[l.name]=l;return this;},addServiceTokenIfAbsent:function(g){this._serviceTokens[g.name]||this.addServiceToken(g);return this;},excludeServiceToken:function(g){delete this._serviceTokens[g];return this;},deleteServiceToken:function(g,l){var v;v=this;q(l,function(){var w,r;w=this._serviceTokens[g];if(!w)return this;r=w.isMasterTokenBound()?this._masterToken:null;w=w.isUserIdTokenBound()?this._userIdToken:null;Bb(this._ctx,g,C,r,w,!1,null,new cc(),{result:function(g){q(l,function(){return this.addServiceToken(g);},v);},error:function(g){g instanceof H&&(g=new fa("Failed to create and add empty service token to message.",g));l.error(g);}});},v);},getServiceTokens:function(){var g,l;g=[];for(l in this._serviceTokens)g.push(this._serviceTokens[l]);return g;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(l,q){var v;if(!this._ctx.isPeerToPeer())throw new fa("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(q&&!l)throw new fa("Peer master token cannot be null when setting peer user ID token.");if(q&&!q.isBoundTo(l))throw new Ga(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+q+"; mt "+l).setEntity(l).setUser(q);try{v=this._ctx.getMslStore().getServiceTokens(l,q);}catch(ba){if(ba instanceof H)throw new fa("Invalid peer master token and user ID token combination despite proper check.",ba);throw ba;}Object.keys(this._peerServiceTokens).forEach(function(g){var v;v=this._peerServiceTokens[g];v.isUserIdTokenBound()&&!v.isBoundTo(q)?delete this._peerServiceTokens[g]:v.isMasterTokenBound()&&!v.isBoundTo(l)&&delete this._peerServiceTokens[g];},this);v.forEach(function(g){var l;l=g.name;this._peerServiceTokens[l]||(this._peerServiceTokens[l]=g);},this);this._peerUserIdToken=q;this._peerMasterToken=l;return this;},addPeerServiceToken:function(l){if(!this._ctx.isPeerToPeer())throw new fa("Cannot set peer service tokens when not in peer-to-peer mode.");if(l.isMasterTokenBound()&&!l.isBoundTo(this._peerMasterToken))throw new Ga(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._peerUserIdToken))throw new Ga(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this._peerServiceTokens[l.name]=l;return this;},addPeerServiceTokenIfAbsent:function(g){this._peerServiceTokens[g.name]||this.addPeerServiceToken(g);return this;},excludePeerServiceToken:function(g){delete this._peerServiceTokens[g];return this;},deletePeerServiceToken:function(g,l){var v;v=this;q(l,function(){var w,r;w=this._peerServiceTokens[g];if(!w)return this;r=w.isMasterTokenBound()?this._peerMasterToken:null;w=w.isUserIdTokenBound()?this._peerUserIdToken:null;Bb(this._ctx,g,C,r,w,!1,null,new cc(),{result:function(g){q(l,function(){return this.addPeerServiceToken(g);},v);},error:function(g){g instanceof H&&(g=new fa("Failed to create and add empty peer service token to message.",g));l.error(g);}});},v);},getPeerServiceTokens:function(){var g,l;g=[];for(l in this._peerServiceTokens)g.push(this._peerServiceTokens[l]);return g;}});}());(function(){function g(g,l){return l[g]?l[g]:l[""];}function l(g){var l;l=g.builder.getKeyExchangeData();return l&&!g.ctx.isPeerToPeer()?l.keyResponseData.masterToken:g.builder.getMasterToken();}me=na.Class.create({init:function(g,l,q){g={ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:l.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:q,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},isPrimaryMasterTokenAvailable:function(){return l(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(g){try{return this.builder.addServiceToken(g),!0;}catch(C){if(C instanceof Ga)return!1;throw C;}},addPeerServiceToken:function(g){try{return this.builder.addPeerServiceToken(g),!0;}catch(C){if(C instanceof Ga)return!1;throw C;}},addUnboundPrimaryServiceToken:function(l,w,r,v,F){var x;x=this;q(F,function(){var C;C=g(l,this.cryptoContexts);if(!C)return!1;Bb(this.ctx,l,w,null,null,r,v,C,{result:function(g){q(F,function(){try{this.builder.addServiceToken(g);}catch(xa){if(xa instanceof Ga)throw new fa("Service token bound to incorrect authentication tokens despite being unbound.",xa);throw xa;}return!0;},x);},error:function(g){F.error(g);}});},x);},addUnboundPeerServiceToken:function(l,w,r,v,F){var x;x=this;q(F,function(){var C;C=g(l,this.cryptoContexts);if(!C)return!1;Bb(this.ctx,l,w,null,null,r,v,C,{result:function(g){q(F,function(){try{this.builder.addPeerServiceToken(g);}catch(xa){if(xa instanceof Ga)throw new fa("Service token bound to incorrect authentication tokens despite being unbound.",xa);throw xa;}return!0;},x);},error:function(g){F.error(g);}});},x);},addMasterBoundPrimaryServiceToken:function(w,r,J,v,F){var x;x=this;q(F,function(){var C,I;C=l(this);if(!C)return!1;I=g(w,this.cryptoContexts);if(!I)return!1;Bb(this.ctx,w,r,C,null,J,v,I,{result:function(g){q(F,function(){try{this.builder.addServiceToken(g);}catch(Z){if(Z instanceof Ga)throw new fa("Service token bound to incorrect authentication tokens despite setting correct master token.",Z);throw Z;}return!0;},x);},error:function(g){F.error(g);}});},x);},addMasterBoundPeerServiceToken:function(l,w,r,v,F){var x;x=this;q(F,function(){var C,J;C=this.builder.getPeerMasterToken();if(!C)return!1;J=g(l,this.cryptoContexts);if(!J)return!1;Bb(this.ctx,l,w,C,null,r,v,J,{result:function(g){q(F,function(){try{this.builder.addPeerServiceToken(g);}catch(Z){if(Z instanceof Ga)throw new fa("Service token bound to incorrect authentication tokens despite setting correct master token.",Z);throw Z;}return!0;},x);},error:function(g){F.error(g);}});},x);},addUserBoundPrimaryServiceToken:function(w,r,J,v,F){var x;x=this;q(F,function(){var C,I,H;C=l(this);if(!C)return!1;I=this.builder.getUserIdToken();if(!I)return!1;H=g(w,this.cryptoContexts);if(!H)return!1;Bb(this.ctx,w,r,C,I,J,v,H,{result:function(g){q(F,function(){try{this.builder.addServiceToken(g);}catch(qa){if(qa instanceof Ga)throw new fa("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",qa);throw qa;}return!0;},x);},error:function(g){F.error(g);}});},x);},addUserBoundPeerServiceToken:function(l,w,r,v,F){var x;x=this;q(F,function(){var C,J,I;C=this.builder.getPeerMasterToken();if(!C)return!1;J=this.builder.getPeerUserIdToken();if(!J)return!1;I=g(l,this.cryptoContexts);if(!I)return!1;Bb(this.ctx,l,w,C,J,r,v,I,{result:function(g){q(F,function(){try{this.builder.addPeerServiceToken(g);}catch(qa){if(qa instanceof Ga)throw new fa("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",qa);throw qa;}return!0;},x);},error:function(g){F.error(g);}});},x);},excludePrimaryServiceToken:function(g){for(var l=this.builder.getServiceTokens(),q=0;q<l.length;++q)if(l[q].name==g)return this.builder.excludeServiceToken(g),!0;return!1;},excludePeerServiceToken:function(g){for(var l=this.builder.getPeerServiceTokens(),q=0;q<l.length;++q)if(l[q].name==g)return this.builder.excludePeerServiceToken(g),!0;return!1;},deletePrimaryServiceToken:function(g,l){q(l,function(){for(var q=this.builder.getServiceTokens(),v=0;v<q.length;++v)if(q[v].name==g){this.builder.deleteServiceToken(g,{result:function(){l.result(!0);},error:function(g){l.error(g);}});return;}return!1;},this);},deletePeerServiceToken:function(g,l){q(l,function(){for(var q=this.builder.getPeerServiceTokens(),v=0;v<q.length;++v)if(q[v].name==g){this.builder.deletePeerServiceToken(g,{result:function(){l.result(!0);},error:function(g){l.error(g);}});return;}return!1;},this);}});}());(function(){function l(l,r,C,J){q(J,function(){var w,x,I,za,L,Z;function v(){q(J,function(){var r;if(Z>=C.length){if(L)throw L;throw new Ta(g.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(C));}r=C[Z];I!=r.keyExchangeScheme?(++Z,v()):za.getCryptoContext(l,r,x,w,{result:J.result,error:function(g){q(J,function(){if(!(g instanceof H))throw g;L=g;++Z;v();});}});});}w=r.masterToken;x=r.keyResponseData;if(!x)return null;I=x.keyExchangeScheme;za=l.getKeyExchangeFactory(I);if(!za)throw new Ta(g.KEYX_FACTORY_NOT_FOUND,I);Z=0;v();});}ne=hd.extend({init:function(q,x,C,J,v,F,I){var w;w=this;r(I,function(){var V;function r(){w._ready=!0;w._readyQueue.add(!0);}function I(g,l){var q;try{q=l.masterToken;g.getTokenFactory().isMasterTokenRevoked(g,q,{result:function(v){v?(w._errored=new Qb(v,q).setUser(l.userIdToken).setUser(l.userAuthenticationData).setMessageId(l.messageId),r()):Z(g,l);},error:function(g){g instanceof H&&(g.setEntity(l.masterToken),g.setUser(l.userIdToken),g.setUser(l.userAuthenticationData),g.setMessageId(l.messageId));w._errored=g;r();}});}catch(ua){ua instanceof H&&(ua.setEntity(l.masterToken),ua.setUser(l.userIdToken),ua.setUser(l.userAuthenticationData),ua.setMessageId(l.messageId));w._errored=ua;r();}}function Z(g,l){var q,v;try{q=l.masterToken;v=l.userIdToken;v?g.getTokenFactory().isUserIdTokenRevoked(g,q,v,{result:function(x){x?(w._errored=new MslUserIdTokenException(x,v).setEntity(q).setUser(v).setMessageId(l.messageId),r()):ba(g,l);},error:function(g){g instanceof H&&(g.setEntity(l.masterToken),g.setUser(l.userIdToken),g.setUser(l.userAuthenticationData),g.setMessageId(l.messageId));w._errored=g;r();}}):ba(g,l);}catch(Ra){Ra instanceof H&&(Ra.setEntity(l.masterToken),Ra.setUser(l.userIdToken),Ra.setUser(l.userAuthenticationData),Ra.setMessageId(l.messageId));w._errored=Ra;r();}}function ba(l,q){var v;try{v=q.masterToken;v.isExpired()?q.isRenewable()&&0!=q.keyRequestData.length?l.getTokenFactory().isMasterTokenRenewable(l,v,{result:function(g){g?(w._errored=new Ga(g,"Master token is expired and not renewable.").setEntity(v).setUser(q.userIdToken).setUser(q.userAuthenticationData).setMessageId(q.messageId),r()):B(l,q);},error:function(g){g instanceof H&&(g.setEntity(q.masterToken),g.setUser(q.userIdToken),g.setUser(q.userAuthenticationData),g.setMessageId(q.messageId));w._errored=g;r();}}):(w._errored=new Ga(g.MESSAGE_EXPIRED,JSON.stringify(q)).setEntity(v).setUser(q.userIdToken).setUser(q.userAuthenticationData).setMessageId(q.messageId),r()):B(l,q);}catch(ua){ua instanceof H&&(ua.setEntity(q.masterToken),ua.setUser(q.userIdToken),ua.setUser(q.userAuthenticationData),ua.setMessageId(q.messageId));w._errored=ua;r();}}function B(l,q){var v,x;try{v=q.masterToken;x=q.nonReplayableId;"number"===typeof x?v?l.getTokenFactory().acceptNonReplayableId(l,v,x,{result:function(l){l||(w._errored=new Ga(g.MESSAGE_REPLAYED,JSON.stringify(q)).setEntity(v).setUser(q.userIdToken).setUser(q.userAuthenticationData).setMessageId(q.messageId));r();},error:function(g){g instanceof H&&(g.setEntity(v),g.setUser(q.userIdToken),g.setUser(q.userAuthenticationData),g.setMessageId(q.messageId));w._errored=g;r();}}):(w._errored=new Ga(g.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(q)).setEntity(q.entityAuthenticationData).setUser(q.userIdToken).setUser(q.userAuthenticationData).setMessageId(q.messageId),r()):r();}catch(Ra){Ra instanceof H&&(Ra.setEntity(q.masterToken),Ra.setEntity(q.entityAuthenticationData),Ra.setUser(q.userIdToken),Ra.setUser(q.userAuthenticationData),Ra.setMessageId(q.messageId));w._errored=Ra;r();}}V={_source:{value:x,writable:!1,enumerable:!1,configurable:!1},_parser:{value:ka,writable:!0,enumerable:!1,configurable:!1},_charset:{value:C,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:F,writable:!1,enumerable:!1,configurable:!1},_header:{value:ka,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ka,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:ka,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new ic(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,V);Rd(w._source,F,{result:function(x){w._json=x;w._jsonIndex=0;null===w._json?(w._errored=new ha(g.MESSAGE_DATA_MISSING),r()):Yd(q,w._json[w._jsonIndex++],v,{result:function(g){var v;w._header=g;if(w._header instanceof Mb)w._keyxCryptoContext=null,w._cryptoContext=null,r();else{v=w._header;l(q,v,J,{result:function(g){var l;try{w._keyxCryptoContext=g;q.isPeerToPeer()||!w._keyxCryptoContext?w._cryptoContext=v.cryptoContext:w._cryptoContext=w._keyxCryptoContext;try{l=v.masterToken;l&&(q.isPeerToPeer()||l.isVerified())?I(q,v):B(q,v);}catch(sa){sa instanceof H&&(sa.setEntity(v.masterToken),sa.setUser(v.userIdToken),sa.setUser(v.userAuthenticationData),sa.setMessageId(v.messageId));w._errored=sa;r();}}catch(sa){sa instanceof H&&(sa.setEntity(v.masterToken),sa.setEntity(v.entityAuthenticationData),sa.setUser(v.userIdToken),sa.setUser(v.userAuthenticationData),sa.setMessageId(v.messageId));w._errored=sa;r();}},error:function(g){g instanceof H&&(g.setEntity(v.masterToken),g.setEntity(v.entityAuthenticationData),g.setUser(v.userIdToken),g.setUser(v.userAuthenticationData),g.setMessageId(v.messageId));w._errored=g;r();}});}},error:function(g){w._errored=g;r();}});},timeout:function(){w._timedout=!0;r();},error:function(g){w._errored=g;r();}});return this;},w);},nextData:function(l,q){var w;w=this;r(q,function(){var v;function l(g){r(g,function(){var q;if(this._jsonIndex<this._json.length)return q=this._json[this._jsonIndex++];Rd(this._source,this._timeout,{result:function(q){q&&q.length&&0<q.length?(q.forEach(function(g){this._json.push(g);}),l(g)):(this._eom=!0,g.result(null));},timeout:function(){g.timeout();},error:function(l){g.error(l);}});},w);}v=this.getMessageHeader();if(!v)throw new fa("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;l({result:function(l){r(q,function(){if(!l)return null;if("object"!==typeof l)throw new ha(g.MESSAGE_FORMAT_ERROR);je(l,this._cryptoContext,{result:function(l){r(q,function(){var q,w,r,x;q=v.masterToken;w=v.entityAuthenticationData;r=v.userIdToken;x=v.getUserAuthenticationData;if(l.messageId!=v.messageId)throw new Ga(g.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+l.messageId+" header mid "+v.messageId).setEntity(q).setEntity(w).setUser(r).setUser(x);if(l.sequenceNumber!=this._payloadSequenceNumber)throw new Ga(g.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+l.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(q).setEntity(w).setUser(r).setUser(x);++this._payloadSequenceNumber;l.isEndOfMessage()&&(this._eom=!0);q=l.data;this._payloads.push(q);this._payloadIndex=-1;return q;},w);},error:function(l){l instanceof SyntaxError&&(l=new ha(g.JSON_PARSE_ERROR,"payloadchunk",l));q.error(l);}});},w);},timeout:function(){q.timeout();},error:function(g){q.error(g);}});},w);},isReady:function(g,l){var w;function q(){r(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;return!0;}},w);}w=this;r(l,function(){this._ready?q():this._readyQueue.poll(g,{result:function(g){r(l,function(){if(g===ka)return!1;q();},w);},timeout:function(){l.timeout();},error:function(g){l.error(g);}});},w);},getMessageHeader:function(){return this._header instanceof mc?this._header:null;},getErrorHeader:function(){return this._header instanceof Mb?this._header:null;},getIdentity:function(){var g,l;g=this.getMessageHeader();if(g){l=g.masterToken;return l?l.identity:g.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var g;g=this.getMessageHeader();return g?g.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(g){this._closeSource=g;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(g,l,q){var v;function w(){r(q,function(){var x,C,I,J;function w(q){r(q,function(){var x,F,Z;if(C&&J>=C.length)return C.subarray(0,J);x=-1;if(this._currentPayload){F=this._currentPayload.length-this._payloadOffset;if(!C){Z=F;if(-1!=this._payloadIndex)for(var ba=this._payloadIndex;ba<this._payloads.length;++ba)Z+=this._payloads[ba].length;0<Z&&(C=new Uint8Array(Z));}F=Math.min(F,C?C.length-J:0);0<F&&(x=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+F),C.set(x,I),x=F,I+=F,this._payloadOffset+=F);}-1!=x?(J+=x,w(q)):this.nextData(l,{result:function(l){r(q,function(){if(this._aborted)return C?C.subarray(0,J):new Uint8Array(0);this._currentPayload=l;this._payloadOffset=0;if(this._currentPayload)w(q);else return 0==J&&0!=g?null:C?C.subarray(0,J):new Uint8Array(0);},v);},timeout:function(){q.timeout(C?C.subarray(0,J):new Uint8Array(0));},error:function(g){r(q,function(){g instanceof H&&(g=new Za("Error reading the payload chunk.",g));if(0<J)return v._readException=g,C.subarray(0,J);throw g;},v);}});},v);}if(this._aborted)return new Uint8Array(0);if(this._timedout)q.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){x=this._readException;this._readException=null;throw x;}C=-1!=g?new Uint8Array(g):ka;I=0;J=0;w(q);}},v);}v=this;r(q,function(){if(-1>g)throw new RangeError("read requested with illegal length "+g);this._ready?w():this._readyQueue.poll(l,{result:function(g){g===ka?q.result(!1):w();},timeout:function(){q.timeout(new Uint8Array(0));},error:function(g){q.error(g);}});},v);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});oe=function(g,l,q,r,v,F,I){new ne(g,l,q,r,v,F,I);};}());(function(){pe=Gc.extend({init:function(g,l,q,C,J,v,F){var w;w=this;r(F,function(){var x,F,I;function r(){w._ready=!0;w._readyQueue.add(!0);}x=od(g.getMessageCapabilities(),C.messageCapabilities);F=null;x&&(F=Fd(x.compressionAlgorithms));x={_destination:{value:l,writable:!1,enumerable:!1,configurable:!1},_charset:{value:q,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:x,writable:!1,enumerable:!1,configurable:!1},_header:{value:C,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:F,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:J,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new ic(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,x);I=Wa(JSON.stringify(C),q);l.write(I,0,I.length,v,{result:function(g){try{w._aborted?r():g<I.length?(w._timedout=!0,r()):l.flush(v,{result:function(g){w._aborted||(w._timedout=!g);r();},timeout:function(){w._timedout=!0;r();},error:function(g){w._errored=g;r();}});}catch(B){w._errored=B;r();}},timeout:function(){w._timedout=!0;r();},error:function(g){w._errored=g;r();}});return this;},w);},setCompressionAlgorithm:function(g,l,q){var x;function w(){x.flush(l,{result:function(l){r(q,function(){if(!l)throw new Za("flush() aborted");this._compressionAlgo=g;return!0;},x);},timeout:function(){q.timeout();},error:function(g){q.error(g);}});}x=this;r(q,function(){if(!this.getMessageHeader())throw new fa("Cannot write payload data for an error message.");if(this._compressionAlgo==g)return!0;if(g){if(!this._capabilities)return!1;for(var l=this._capabilities.compressionAlgorithms,q=0;q<l.length;++q)if(l[q]==g){w();return;}return!1;}w();},x);},getMessageHeader:function(){return this._header instanceof mc?this._header:null;},getErrorMessage:function(){return this._header instanceof Mb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(g,l){var q;q=this;r(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(g,{result:function(g){r(l,function(){g&&(this._currentPayload=null);return g;},q);},timeout:function(){l.timeout();},error:function(g){l.error(g);}});}},q);},flush:function(g,l){var w;function q(){r(l,function(){var q,v,L;if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;q=this.getMessageHeader();if(!q)return!0;v=0;this._currentPayload&&this._currentPayload.forEach(function(g){v+=g.length;});for(var x=new Uint8Array(v),C=0,I=0;this._currentPayload&&I<this._currentPayload.length;++I){L=this._currentPayload[I];x.set(L,C);C+=L.length;}ie(this._payloadSequenceNumber,q.messageId,this._closed,this._compressionAlgo,x,this._cryptoContext,{result:function(q){r(l,function(){var v;this._payloads.push(q);v=Wa(JSON.stringify(q),this._charset);this._destination.write(v,0,v.length,g,{result:function(v){r(l,function(){if(this._aborted)return!1;v<q.length?l.timeout():this._destination.flush(g,{result:function(g){r(l,function(){if(this._aborted)return!1;if(g)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;l.timeout();},w);},timeout:function(){l.timeout();},error:function(g){g instanceof H&&(g=new Za("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",g));l.error(g);}});},w);},timeout:function(g){l.timeout();},error:function(g){g instanceof H&&(g=new Za("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",g));l.error(g);}});},w);},error:function(g){g instanceof H&&(g=new Za("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",g));l.error(g);}});}},w);}w=this;r(l,function(){this._ready?q():this._readyQueue.poll(g,{result:function(g){g===ka?l.result(!1):q();},timeout:function(){l.timeout();},error:function(g){l.error(g);}});},w);},write:function(g,l,q,C,J){r(J,function(){var v;if(this._aborted)return!1;if(this._timedout)J.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Za("Message output stream already closed.");if(0>l)throw new RangeError("Offset cannot be negative.");if(0>q)throw new RangeError("Length cannot be negative.");if(l+q>g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new fa("Cannot write payload data for an error message.");v=g.subarray(l,l+q);this._currentPayload.push(v);return v.length;}},this);}});Mc=function(g,l,q,r,J,v,F){new pe(g,l,q,r,J,v,F);};}());Xe=na.Class.create({sentHeader:function(g){},receivedHeader:function(g){}});Object.freeze({USERDATA_REAUTH:l.USERDATA_REAUTH,SSOTOKEN_REJECTED:l.SSOTOKEN_REJECTED});qe=na.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(g,l,q,r){},getCustomer:function(){},getKeyRequestData:function(g){},updateServiceTokens:function(g,l,q){},write:function(g,l,q){},getDebugContext:function(){}});na.Class.create({getInputStream:function(g){},getOutputStream:function(g){}});(function(){var L,ba,za,xa,Z,qa,B,V,ya,ea,da,ua;function I(g){return function(){g.abort();};}function w(g,l){Object.defineProperties(this,{masterToken:{value:g,writable:!1,configurable:!1},ticket:{value:l,writable:!1,configurable:!1}});}function x(g,l){Object.defineProperties(this,{builder:{value:g,writable:!1,configurable:!1},msgCtx:{value:l,writable:!1,configurable:!1}});}function C(g,l,q){Object.defineProperties(this,{requestHeader:{value:g,writable:!1,configurable:!1},payloads:{value:l,writable:!1,configurable:!1},handshake:{value:q,writable:!1,configurable:!1}});}function J(g,l){Object.defineProperties(this,{requestHeader:{value:l.requestHeader,writable:!1,configurable:!1},payloads:{value:l.payloads,writable:!1,configurable:!1},handshake:{value:l.handshake,writable:!1,configurable:!1},response:{value:g,writable:!1,configurable:!1}});}function v(g){for(;g;){if(g instanceof db)return!0;g=g instanceof H?g.cause:ka;}return!1;}function F(g,l,q,v,w,x,F,C,d){le(l,v,w,x,{result:function(c){q&&q.sentHeader(c);Mc(l,F,Ma,c,null,null,C,{result:function(a){g.setAbort(function(){a.abort();});a.close(C,{result:function(a){r(d,function(){if(!a)throw new db("sendError aborted.");return a;});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){},error:function(a){d.error(a);}});},error:function(c){d.error(c);}});}L=Gc.extend({close:function(g,l){l.result(!0);},write:function(g,l,v,w,r){q(r,function(){return Math.min(g.length-l,v);});},flush:function(g,l){l.result(!0);}});ba=We.extend({getUserMessage:function(g,l){return null;}});za=qe.extend({init:function(g){Object.defineProperties(this,{_appCtx:{value:g,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(g,l,q,v){this._appCtx.getUserAuthData(g,l,q,v);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(g){this._appCtx.getKeyRequestData(g);},updateServiceTokens:function(g,l,q){this._appCtx.updateServiceTokens(g,l,q);},write:function(g,l,q){this._appCtx.write(g,l,q);},getDebugContext:function(){return this._appCtx.getDebugContext();}});xa=za.extend({init:function sa(g,l){sa.base.call(this,l);Object.defineProperties(this,{_payloads:{value:g,writable:!1,enumerable:!1,configurable:!1}});},write:function(g,l,q){var w;function v(x,F){var d;if(x==w._payloads.length)q.result(!0);else{d=w._payloads[x];g.setCompressionAlgorithm(d.compressionAlgo,l,{result:function(c){g.write(d.data,0,d.data.length,l,{result:function(a){r(q,function(){d.isEndOfMessage()?v(x+1,F):g.flush(l,{result:function(a){q.result(a);},timeout:function(){q.timeout();},error:function(a){q.error(a);}});},w);},timeout:function(a){q.timeout(a);},error:function(a){q.error(a);}});},timeout:function(){},error:function(c){q.error(c);}});}}w=this;v(0);}});Z=za.extend({init:function ga(g){ga.base.call(this,g);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(g,l,q){q.result(!0);}});qa={};da=na.Class.create({init:function(g){g||(g=new ba());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:g,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(g){this._filterFactory=g;},getNewestMasterToken:function(g,l,q,v){var x;x=this;r(v,function(){var F,d,c,a,b;F=l.getMslStore();d=F.getMasterToken();if(!d)return null;c=d.uniqueKey();a=this._masterTokenLocks[c];a||(a=new Xc(),this._masterTokenLocks[c]=a);b=a.readLock(q,{result:function(h){r(v,function(){var b;if(h===ka)throw new db("getNewestMasterToken aborted.");b=F.getMasterToken();if(d.equals(b))return new w(d,h);a.unlock(h);a.writeLock(q,{result:function(h){r(v,function(){if(h===ka)throw new db("getNewestMasterToken aborted.");delete this._masterTokenLocks[c];a.unlock(h);return this.getNewestMasterToken(g,l,q,v);},x);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},x);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});g.setAbort(function(){b&&(a.cancel(b),b=ka);});},x);},deleteMasterToken:function(g,l){var q;if(l){q=this;setTimeout(function(){var v,w;v=l.uniqueKey();w=q._masterTokenLocks[v];w||(w=new Xc(),q._masterTokenLocks[v]=w);w.writeLock(-1,{result:function(r){g.getMslStore().removeCryptoContext(l);delete q._masterTokenLocks[v];w.unlock(r);},timeout:function(){throw new fa("Unexpected timeout received.");},error:function(g){throw g;}});},0);}},releaseMasterToken:function(g){var l;if(g&&g.masterToken){l=g.masterToken.uniqueKey();l=this._masterTokenLocks[l];if(!l)throw new fa("Master token read/write lock does not exist when it should.");l.unlock(g.ticket);}},updateOutgoingCryptoContexts:function(g,l,q){var v;v=g.getMslStore();!g.isPeerToPeer()&&q&&(v.setCryptoContext(q.keyResponseData.masterToken,q.cryptoContext),this.deleteMasterToken(g,l.masterToken));},updateIncomingCryptoContexts:function(g,l,q){var v,w;v=q.getMessageHeader();if(v){w=g.getMslStore();if(v=v.keyResponseData)w.setCryptoContext(v.masterToken,q.getKeyExchangeCryptoContext()),this.deleteMasterToken(g,l.masterToken);}},storeServiceTokens:function(g,l,q,v){var d,c;g=g.getMslStore();for(var w=[],r=0;r<v.length;++r){d=v[r];if(!d.isBoundTo(l)||!l.isVerified()){c=d.data;c&&0==c.length?g.removeServiceTokens(d.name,d.isMasterTokenBound()?l:null,d.isUserIdTokenBound()?q:null):w.push(d);}}0<w.length&&g.addServiceTokens(w);},buildRequest:function(g,l,v,w,r){var x;x=this;this.getNewestMasterToken(g,l,w,{result:function(d){q(r,function(){var c,a,b;c=d&&d.masterToken;if(c){a=v.getUserId();b=l.getMslStore();a=(a=a?b.getUserIdToken(a):null)&&a.isBoundTo(c)?a:null;}else a=null;Vb(l,c,a,null,{result:function(a){q(r,function(){a.setNonReplayable(v.isNonReplayable());return{builder:a,tokenTicket:d};});},error:function(a){q(r,function(){this.releaseMasterToken(d);a instanceof H&&(a=new fa("User ID token not bound to master token despite internal check.",a));throw a;},x);}});},x);},timeout:function(){r.timeout();},error:function(d){r.error(d);}});},buildResponse:function(g,l,q,v,w,x){var d;d=this;ke(l,v,{result:function(c){r(x,function(){c.setNonReplayable(q.isNonReplayable());if(!l.isPeerToPeer()&&!v.keyResponseData)return{builder:c,tokenTicket:null};this.getNewestMasterToken(g,l,w,{result:function(a){r(x,function(){var b,h,n;b=a&&a.masterToken;if(b){h=q.getUserId();n=l.getMslStore();h=(h=h?n.getUserIdToken(h):null)&&h.isBoundTo(b)?h:null;}else h=null;c.setAuthTokens(b,h);return{builder:c,tokenTicket:a};},d);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},d);},error:function(c){x.error(c);}});},buildErrorResponse:function(g,q,v,w,F,C,d){var b;function c(a,n){r(d,function(){var h,f;h=Ub(F.messageId);f=new xa(n,v);Vb(q,null,null,h,{result:function(h){r(d,function(){q.isPeerToPeer()&&h.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);h.setNonReplayable(f.isNonReplayable());return{errorResult:new x(h,f),tokenTicket:null};},b);},error:function(a){d.error(a);}});},b);}function a(a,n){b.getNewestMasterToken(g,q,C,{result:function(h){r(d,function(){var f,k,m;f=h&&h.masterToken;k=Ub(F.messageId);m=new xa(n,v);Vb(q,f,null,k,{result:function(f){r(d,function(){q.isPeerToPeer()&&f.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);f.setNonReplayable(m.isNonReplayable());return{errorResult:new x(f,m),tokenTicket:h};},b);},error:function(a){d.error(a);}});},b);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}b=this;r(d,function(){var h,n,p,f;h=w.requestHeader;n=w.payloads;p=F.errorCode;switch(p){case l.ENTITYDATA_REAUTH:case l.ENTITY_REAUTH:q.getEntityAuthenticationData(p,{result:function(a){r(d,function(){if(!a)return null;c(h,n);},b);},error:function(a){d.error(a);}});break;case l.USERDATA_REAUTH:case l.SSOTOKEN_REJECTED:v.getUserAuthData(p,!1,!0,{result:function(f){r(d,function(){if(!f)return null;a(h,n);},b);},error:function(a){d.error(a);}});break;case l.USER_REAUTH:a(h,n);break;case l.KEYX_REQUIRED:p=Ub(F.messageId),f=new xa(n,v);Vb(q,null,null,p,{result:function(a){r(d,function(){q.isPeerToPeer()&&a.setPeerAuthTokens(h.peerMasterToken,h.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(f.isNonReplayable());return{errorResult:new x(a,f),tokenTicket:null};},b);},error:function(a){d.error(a);}});break;case l.EXPIRED:this.getNewestMasterToken(g,q,C,{result:function(a){r(d,function(){var f,k,p,c;f=a&&a.masterToken;k=h.userIdToken;p=Ub(F.messageId);c=new xa(n,v);Vb(q,f,k,p,{result:function(k){r(d,function(){q.isPeerToPeer()&&k.setPeerAuthTokens(h.peerMasterToken,h.peerUserIdToken);h.masterToken.equals(f)&&k.setRenewable(!0);k.setNonReplayable(c.isNonReplayable());return{errorResult:new x(k,c),tokenTicket:a};},b);},error:function(a){d.error(a);}},b);},b);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});break;case l.REPLAYED:this.getNewestMasterToken(g,q,C,{result:function(a){r(d,function(){var f,k,p,c;f=a&&a.masterToken;k=h.userIdToken;p=Ub(F.messageId);c=new xa(n,v);Vb(q,f,k,p,{result:function(k){r(d,function(){q.isPeerToPeer()&&k.setPeerAuthTokens(h.peerMasterToken,h.peerUserIdToken);h.masterToken.equals(f)?(k.setRenewable(!0),k.setNonReplayable(!1)):k.setNonReplayable(c.isNonReplayable());return{errorResult:new x(k,c),tokenTicket:a};},b);},error:function(a){d.error(a);}});},b);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});break;default:return null;}},b);},cleanupContext:function(g,q,v){switch(v.errorCode){case l.ENTITY_REAUTH:this.deleteMasterToken(g,q.masterToken);break;case l.USER_REAUTH:v=q.userIdToken,q.masterToken&&v&&g.getMslStore().removeUserIdToken(v);}},send:function(g,l,q,v,w,x,d){var p;function c(f,h,b){r(d,function(){var k;k=w.getPeerUserIdToken();!l.isPeerToPeer()&&!h||l.isPeerToPeer()&&!k?(k=q.getCustomer())?w.setCustomer(k,{result:function(k){r(d,function(){h=w.getUserIdToken();a(f,h,b);},p);},error:function(a){d.error(a);}}):a(f,h,b):a(f,h,b);},p);}function a(a,h,m){r(d,function(){var f,k;f=!m&&(!q.isEncrypted()||w.willEncryptPayloads())&&(!q.isIntegrityProtected()||w.willIntegrityProtectPayloads())&&(!q.isNonReplayable()||w.isNonReplayable()&&a);f||w.setNonReplayable(!1);k=[];w.isRenewable()&&(!a||a.isRenewable()||q.isNonReplayable())?q.getKeyRequestData({result:function(m){r(d,function(){var n;for(var t=0;t<m.length;++t){n=m[t];k.push(n);w.addKeyRequestData(n);}b(a,h,f,k);},p);},error:function(a){d.error(a);}}):b(a,h,f,k);},p);}function b(a,b,m,t){r(d,function(){var f;f=new me(l,q,w);q.updateServiceTokens(f,!m,{result:function(f){w.getHeader({result:function(f){r(d,function(){var k,t;k=q.getDebugContext();k&&k.sentHeader(f);k=w.getKeyExchangeData();this.updateOutgoingCryptoContexts(l,f,k);this.storeServiceTokens(l,a,b,f.serviceTokens);k=!l.isPeerToPeer()&&k?k.cryptoContext:f.cryptoContext;if(g.isAborted())throw new db("send aborted.");t=null!=this._filterFactory?this._filterFactory.getOutputStream(v):v;Mc(l,t,Ma,f,k,x,{result:function(a){g.setAbort(function(){a.abort();});h(a,f,m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},p);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},error:function(a){d.error(a);}});},p);}function h(a,h,b){var f,k;if(b)q.write(a,x,{result:function(f){r(d,function(){if(g.isAborted())throw new db("MessageOutputStream write aborted.");n(a,h,b);},p);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});else{f=new L();k=new cc();Mc(l,f,Ma,h,k,x,{result:function(f){q.write(f,x,{result:function(k){r(d,function(){if(g.isAborted())throw new db("MessageOutputStream proxy write aborted.");f.close(x,{result:function(k){r(d,function(){var m;if(!k)throw new db("MessageOutputStream proxy close aborted.");m=f.getPayloads();n(a,h,b,m);},p);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},p);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}}function n(a,h,b,t){a.close(x,{result:function(f){r(d,function(){if(!f)throw new db("MessageOutputStream close aborted.");t||(t=a.getPayloads());return new C(h,t,!b);},p);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}p=this;r(d,function(){var a,h,b,t;a=w.getMasterToken();h=w.getUserIdToken();b=!1;if(q.getUserId()){t=!h;q.getUserAuthData(null,w.isRenewable(),t,{result:function(f){r(d,function(){f&&(w.willEncryptHeader()&&w.willIntegrityProtectHeader()?w.setUserAuthenticationData(f):b=!0);c(a,h,b);},p);},error:function(a){d.error(a);}});}else c(a,h,b);},p);},receive:function(q,v,w,x,F,C,d){var c;c=this;r(d,function(){var a,b,h;if(q.isAborted())throw new db("receive aborted.");a=[];F&&(a=F.keyRequestData.filter(function(){return!0;}));b=w.getCryptoContexts();h=this._filterFactory?this._filterFactory.getInputStream(x):x;oe(v,h,Ma,a,b,C,{result:function(a){q.setAbort(function(){a.abort();});a.isReady(C,{result:function(h){r(d,function(){var f,b,m,t;if(!h)throw new db("MessageInputStream aborted.");f=a.getMessageHeader();b=a.getErrorHeader();m=w.getDebugContext();m&&m.receivedHeader(f?f:b);if(F&&(m=b?b.errorCode:null,f||m!=l.FAIL&&m!=l.TRANSIENT_FAILURE&&m!=l.ENTITY_REAUTH&&m!=l.ENTITYDATA_REAUTH)){m=f?f.messageId:b.messageId;t=Ub(F.messageId);if(m!=t)throw new Ga(g.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+t+"; received "+m);}v.getEntityAuthenticationData(null,{result:function(h){r(d,function(){var k,m,t,n;k=h.getIdentity();if(f){m=f.entityAuthenticationData;t=f.masterToken;m=t?f.sender:m.getIdentity();if(t&&t.isDecrypted()&&t.identity!=m||k==m)throw new Ga(g.UNEXPECTED_MESSAGE_SENDER,m);F&&this.updateIncomingCryptoContexts(v,F,a);k=f.keyResponseData;v.isPeerToPeer()?(k=k?k.masterToken:f.peerMasterToken,t=f.peerUserIdToken,m=f.peerServiceTokens):(k=k?k.masterToken:f.masterToken,t=f.userIdToken,m=f.serviceTokens);n=w.getUserId();n&&t&&!t.isVerified()&&v.getMslStore().addUserIdToken(n,t);this.storeServiceTokens(v,k,t,m);}else if(m=b.entityAuthenticationData.getIdentity(),k==m)throw new Ga(g.UNEXPECTED_MESSAGE_SENDER,m);return a;},c);},error:d.error});},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},c);},sendReceive:function(g,l,q,v,w,x,d,c,a){var h;function b(b,p){r(a,function(){x.setRenewable(p);this.send(g,l,q,w,x,d,{result:function(f){r(a,function(){var k;k=f.requestHeader.keyRequestData;c||f.handshake||!k.isEmpty()?this.receive(g,l,q,v,f.requestHeader,d,{result:function(k){r(a,function(){p&&this.releaseRenewalLock(l,b,k);return new J(k,f);},h);},timeout:function(){r(a,function(){p&&this.releaseRenewalLock(l,b,null);a.timeout();},h);},error:function(f){r(a,function(){p&&this.releaseRenewalLock(l,b,null);throw f;},h);}}):r(a,function(){p&&this.releaseRenewalLock(l,b,null);return new J(null,f);},h);},h);},timeout:function(){r(a,function(){p&&this.releaseRenewalLock(l,b,null);a.timeout();},h);},error:function(f){r(a,function(){p&&this.releaseRenewalLock(l,b,null);throw f;},h);}});},h);}h=this;r(a,function(){var h;h=new ic();this.acquireRenewalLock(g,l,q,h,x,d,{result:function(a){b(h,a);},timeout:function(){a.timeout();},error:function(h){h instanceof db?a.result(null):a.error(h);}});},h);},acquireRenewalLock:function(g,l,q,v,w,x,d){var b;function c(h,n,p){r(d,function(){var m,t;if(g.isAborted())throw new db("acquireRenewalLock aborted.");for(var f=null,k=0;k<this._renewingContexts.length;++k){m=this._renewingContexts[k];if(m.ctx===l){f=m.queue;break;}}if(!f)return this._renewingContexts.push({ctx:l,queue:v}),!0;t=f.poll(x,{result:function(k){r(d,function(){var b;if(k===ka)throw new db("acquireRenewalLock aborted.");f.add(k);if(k===qa||k.isExpired())c(k,n,p);else{if(p&&!n||n&&!n.isBoundTo(k)){b=l.getMslStore().getUserIdToken(p);n=b&&b.isBoundTo(k)?b:null;}w.setAuthTokens(k,n);w.isRenewable()&&k.equals(h)?c(k,n,p):q.isRequestingTokens()&&!n?c(k,n,p):a(k,n);}},b);},timeout:function(){},error:function(a){}});g.setAbort(function(){t&&(f.cancel(t),t=ka);});},b);}function a(a,n){r(d,function(){var b;if(g.isAborted())throw new db("acquireRenewalLock aborted.");if(!a||a.isRenewable()||!n&&q.getUserId()||n&&n.isRenewable()){for(var h=null,f=0;f<this._renewingContexts.length;++f){b=this._renewingContexts[f];if(b.ctx===l){h=b.queue;break;}}if(!h)return this._renewingContexts.push({ctx:l,queue:v}),!0;}return!1;},b);}b=this;r(d,function(){var h,b,p;h=w.getMasterToken();b=w.getUserIdToken();p=q.getUserId();q.isEncrypted()&&!w.willEncryptPayloads()||q.isIntegrityProtected()&&!w.willIntegrityProtectPayloads()||w.isRenewable()||!h&&q.isNonReplayable()||h&&h.isExpired()||!(b||!p||w.willEncryptHeader()&&w.willIntegrityProtectHeader())||q.isRequestingTokens()&&(!h||p&&!b)?c(h,b,p):a(h,b);},b);},releaseRenewalLock:function(g,l,q){var d;for(var v,w,r=0;r<this._renewingContexts.length;++r){d=this._renewingContexts[r];if(d.ctx===g){v=r;w=d.queue;break;}}if(w!==l)throw new fa("Attempt to release renewal lock that is not owned by this queue.");q?(q=q.messageHeader)?(w=q.keyResponseData)?l.add(w.masterToken):(g=g.isPeerToPeer()?q.peerMasterToken:q.masterToken)?l.add(g):l.add(qa):l.add(qa):l.add(qa);this._renewingContexts.splice(v,1);}});re=na.Class.create({init:function(){var g;g={_impl:{value:new da(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},setFilterFactory:function(g){this._impl.setFilterFactory(g);},shutdown:function(){this._shutdown=!0;},receive:function(g,l,q,v,w,r){var d;if(this._shutdown)throw new H("MslControl is shutdown.");d=new B(this._impl,g,l,q,v,w);setTimeout(function(){d.call(r);},0);return I(d);},respond:function(g,l,q,v,w,r,d){var c;if(this._shutdown)throw new H("MslControl is shutdown.");c=new V(this._impl,g,l,q,v,w,r);setTimeout(function(){c.call(d);},0);return I(c);},error:function(g,l,q,v,w,r,d){var c;if(this._shutdown)throw new H("MslControl is shutdown.");c=new ya(this._impl,g,l,q,v,w,r);setTimeout(function(){c.call(d);},0);return I(c);},request:function(g,l){var q,v,w,r,d,c;if(this._shutdown)throw new H("MslControl is shutdown.");if(5==arguments.length){if(q=arguments[2],w=v=null,r=arguments[3],d=arguments[4],g.isPeerToPeer()){d.error(new fa("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(q=null,v=arguments[2],w=arguments[3],r=arguments[4],d=arguments[5],!g.isPeerToPeer())){d.error(new fa("This method cannot be used in trusted network mode."));return;}c=new ea(this._impl,g,l,q,v,w,null,0,r);setTimeout(function(){c.call(d);},0);return I(c);}});B=na.Class.create({init:function(g,l,q,v,w,r){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:q,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:r,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ka,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},call:function(l){var C;function q(q){r(l,function(){var d;d=q.messageHeader;if(!d)return q;this.setAbort(function(){q.abort();});q.mark(Number.MAX_VALUE);q.read(1,C._timeout,{result:function(c){r(l,function(){if(c&&0==c.length)return null;if(c)return q.reset(),q;w(q);},C);},timeout:function(){l.timeout();},error:function(c){r(l,function(){var a,b,h;if(v(c))return null;a=d?d.messageId:null;c instanceof Za?(b=g.MSL_COMMS_FAILURE,h=c):(b=g.INTERNAL_EXCEPTION,h=new fa("Error peeking into the message payloads."));F(this,this._ctx,this._msgCtx.getDebugContext(),a,b,null,this._output,this._timeout,{result:function(a){l.error(h);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new kb("Error peeking into the message payloads.",a,c);},C);}});},C);}});},C);}function w(q){r(l,function(){q.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,q.messageHeader,this._timeout,{result:function(d){r(l,function(){var c,a,b,h,n;c=d.builder;a=d.tokenTicket;b=q.messageHeader;h=new Z(this._msgCtx);if(!this._ctx.isPeerToPeer()||b.isEncrypting()||b.keyResponseData)x(b,c,h,a);else{n=new ea(this._ctrl,this._ctx,h,null,this._input,this._output,d,1,this._timeout);this.setAbort(function(){n.abort();});n.call(l);}},C);},timeout:function(){l.timeout();},error:function(d){r(l,function(){var c,a,b,h;if(v(d))return null;d instanceof H?(c=d.messageId,a=d.error,b=q.messageHeader.messageCapabilities,b=this._ctrl.messageRegistry.getUserMessage(a,b?b.languages:null),h=d):(c=requestHeader?requestHeader.messageId:null,a=g.INTERNAL_EXCEPTION,b=null,h=new fa("Error creating an automatic handshake response.",d));F(this,this._ctx,this._msgCtx.getDebugContext(),c,a,b,this._output,this._timeout,{result:function(a){l.error(h);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new kb("Error creating an automatic handshake response.",a,d);},C);}});},C);}});},C);}function x(q,d,c,a){r(l,function(){d.setRenewable(!1);this._ctrl.send(this._ctx,c,this._output,d,this._timeout,{result:function(b){r(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);return null;},C);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);l.timeout();},C);},error:function(b){r(l,function(){var h,n,p,f;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);if(v(b))return null;b instanceof H?(h=b.messageId,n=b.error,p=q?q.messageCapabilities:null,p=this._ctrl.messageRegistry.getUserMessage(n,p?p.languages:null),f=b):b instanceof Za?(h=q?q.messageId:null,n=g.MSL_COMMS_FAILURE,p=null,f=b):(h=q?q.messageId:null,n=g.INTERNAL_EXCEPTION,p=null,f=new fa("Error sending an automatic handshake response.",b));F(this,this._ctx,this._msgCtx.getDebugContext(),h,n,p,this._output,this._timeout,{result:function(a){l.error(f);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new kb("Error sending an automatic handshake response.",a,b);},C);}});},C);}});},C);}C=this;r(l,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(g){q(g);},timeout:function(){l.timeout();},error:function(q){r(l,function(){var d,c,a,b;if(v(q))return null;q instanceof H?(d=q.messageId,c=q.error,a=this._ctrl.messageRegistry.getUserMessage(c,null),b=q):(d=null,c=g.INTERNAL_EXCEPTION,a=null,b=new fa("Error receiving the message header.",q));F(this,this._ctx,this._msgCtx.getDebugContext(),d,c,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new kb("Error receiving the message header.",a,q);},C);}});},C);}});},C);}});V=na.Class.create({init:function(g,l,q,v,w,r,d){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:q,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ka,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},trustedNetworkExecute:function(l,q,w){var x;x=this;r(w,function(){var C,B;if(12<q+1)return!1;if(C=this._msgCtx.isIntegrityProtected()&&!l.willIntegrityProtectHeader()?g.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!l.willEncryptPayloads()?g.RESPONSE_REQUIRES_ENCRYPTION:null){B=dc(l.getMessageId());F(this,this._ctx,this._msgCtx.getDebugContext(),B,C,null,this._output,this._timeout,{result:function(d){w.result(!1);},timeout:function(){w.timeout();},error:function(d){r(w,function(){if(v(d))return!1;throw new kb("Response requires encryption or integrity protection but cannot be protected: "+C,d,null);},x);}});}else!this._msgCtx.getCustomer()||l.getMasterToken()||l.getKeyExchangeData()?(l.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,l,this._timeout,{result:function(d){w.result(!0);},timeout:function(){w.timeout();},error:function(d){w.error(d);}})):(B=dc(l.getMessageId()),F(this,this._ctx,this._msgCtx.getDebugContext(),B,g.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(d){w.result(!1);},timeout:function(){w.timeout();},error:function(d){r(w,function(){if(v(d))return!1;throw new kb("Response wishes to attach a user ID token but there is no master token.",d,null);},x);}}));},x);},peerToPeerExecute:function(l,q,w,x){var B;function C(d){r(x,function(){var c;c=d.response;c.close();c=c.getErrorHeader();this._ctrl.cleanupContext(this._ctx,d.requestHeader,c);this._ctrl.buildErrorResponse(this,this._ctx,l,d,c,{result:function(a){r(x,function(){var b,h;if(!a)return!1;b=a.errorResult;h=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,w,{result:function(a){r(x,function(){this._ctrl.releaseMasterToken(h);return a;},B);},timeout:function(){r(x,function(){this._ctrl.releaseMasterToken(h);x.timeout();},B);},error:function(a){r(x,function(){this._ctrl.releaseMasterToken(h);throw a;},B);}});},B);}});},B);}B=this;r(x,function(){var d;if(12<w+2)return!1;if(null!=l.getCustomer()&&null==q.getPeerMasterToken()&&null==q.getKeyExchangeData()){d=dc(q.getMessageId());F(this,this._ctx,l.getDebugContext(),d,g.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(c){x.result(!1);},timeout:function(){x.timeout();},error:function(c){r(x,function(){if(v(c))return!1;throw new kb("Response wishes to attach a user ID token but there is no master token.",c,null);},B);}});}else this._ctrl.sendReceive(this._ctx,l,this._input,this._output,q,this._timeout,!1,{result:function(c){r(x,function(){var h,n,p;function a(){h.read(32768,B._timeout,{result:function(f){r(x,function(){f?a():b();},B);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}function b(){r(x,function(){var a;a=new xa(c.payloads,l);this._ctrl.buildResponse(this,this._ctx,a,n,this._timeout,{result:function(f){r(x,function(){var h;h=f.tokenTicket;this.peerToPeerExecute(a,f.builder,w,{result:function(a){r(x,function(){this._ctrl.releaseMasterToken(h);return a;},B);},timeout:function(){r(x,function(){this._ctrl.releaseMasterToken(h);x.timeout();},B);},error:function(a){r(x,function(){this._ctrl.releaseMasterToken(h);throw a;},B);}});},B);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},B);}h=c.response;w+=2;if(!h)return!0;n=h.getMessageHeader();if(n){p=c.payloads;p=0<p.length&&0<p[0].data.length;if(c.handshake&&p)a();else return!0;}else C(c);},B);},timeout:function(){x.timeout();},error:function(c){x.error(c);}});},B);},call:function(l){var q;q=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(w){r(l,function(){var x,C;x=w.builder;C=w.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,x,3,{result:function(g){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);return g;},q);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);l.timeout();},q);},error:function(w){r(l,function(){var d,c,a,b;this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);if(v(w))return!1;d=dc(x.getMessageId());w instanceof H?(c=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(c,a?a.languages:null),b=w):w instanceof Za?(c=g.MSL_COMMS_FAILURE,a=null,b=w):(c=g.INTERNAL_EXCEPTION,a=null,b=new fa("Error sending the response.",w));F(this,this._ctx,this._msgCtx.getDebugContext(),d,c,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return!1;throw new kb("Error sending the response.",a,null);},q);}});},q);}}):this.trustedNetworkExecute(x,3,{result:function(g){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);return g;},q);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);l.timeout();},q);},error:function(w){r(l,function(){var d,c,a,b;this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);if(v(w))return!1;d=dc(x.getMessageId());w instanceof H?(c=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(c,a?a.languages:null),b=w):w instanceof Za?(c=g.MSL_COMMS_FAILURE,a=null,b=w):(c=g.INTERNAL_EXCEPTION,a=null,b=new fa("Error sending the response.",w));F(this,this._ctx,this._msgCtx.getDebugContext(),d,c,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return!1;throw new kb("Error sending the response.",a,null);},q);}});},q);}});},q);},timeout:function(){l.timeout();},error:function(w){r(l,function(){var x,C,B,d;if(v(w))return!1;w instanceof H?(x=w.messageId,C=w.error,B=this._request.messageCapabilities,B=this._ctrl.messageRegistry.getUserMessage(C,B?B.languages:null),d=w):(x=null,C=g.INTERNAL_EXCEPTION,B=null,d=new fa("Error building the response.",w));F(this,this._ctx,this._msgCtx.getDebugContext(),x,C,B,this._output,this._timeout,{result:function(c){l.error(d);},timeout:function(){l.timeout();},error:function(c){r(l,function(){if(v(c))return null;throw new kb("Error building the response.",c,w);},q);}});},q);}});}});ya=na.Class.create({init:function(g,l,q,w,v,r,d){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:q,writable:!1,enumerable:!1,configurable:!1},_appError:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ka,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},call:function(l){var q;q=this;r(l,function(){var w,x;if(this._appError==ENTITY_REJECTED)w=this._request.masterToken?g.MASTERTOKEN_REJECTED_BY_APP:g.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)w=this._request.userIdToken?g.USERIDTOKEN_REJECTED_BY_APP:g.USER_REJECTED_BY_APP;else throw new fa("Unhandled application error "+this._appError+".");x=this._request.messageCapabilities;x=this._ctrl.messageRegistry.getUserMessage(w,x?x.languages:null);F(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,w,x,this._output,this._timeout,{result:function(g){l.result(g);},timeout:l.timeout,error:function(g){r(l,function(){if(v(g))return!1;if(g instanceof H)throw g;throw new fa("Error building the error response.",g);},q);}});},q);}});ua={result:function(){},timeout:function(){},error:function(){}};ea=na.Class.create({init:function(g,l,q,w,v,r,d,c,a){var b;d?(b=d.builder,d=d.tokenTicket):d=b=null;Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:q,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:w,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!0,enumerable:!1,configurable:!1},_output:{value:r,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:b,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:d,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:c,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ka,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},execute:function(g,l,q,w,v){var c;function x(a){function b(h){r(v,function(){var b;b=a.response;return h?h:b;},c);}r(v,function(){var h,n;h=a.response;h.close();n=h.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,n);this._ctrl.buildErrorResponse(this,this._ctx,g,a,n,q,{result:function(a){r(v,function(){var f,k,m,t;if(!a)return h;f=a.errorResult;k=a.tokenTicket;m=f.builder;f=f.msgCtx;if(this._ctx.isPeerToPeer())this.execute(f,m,this._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);b(a);},c);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(k);v.timeout();},c);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);v.error(a);},c);}});else{this._openedStreams&&(this._input.close(),this._output.close(q,ua));t=new ea(this._ctrl,this._ctx,f,this._remoteEntity,null,null,{builder:m,tokenTicket:k},w,this._timeout);this.setAbort(function(){t.abort();});t.call({result:function(a){b(a);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},c);}function d(a){r(v,function(){var n,p,f,k,m;function b(){n.read(32768,c._timeout,{result:function(a){a?b():h();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function h(){r(v,function(){var f;f=new xa(a.payloads,g);this._ctrl.buildResponse(this,this._ctx,g,p,q,{result:function(a){r(v,function(){var h;h=a.tokenTicket;this.execute(f,a.builder,this._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(h);return a;},c);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(h);v.timeout();},c);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(h);throw a;},c);}});},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},c);}n=a.response;p=n.getMessageHeader();f=a.payloads;f=0<f.length&&0<f[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake||!f)return n;this._openedStreams&&(this._input.close(),this._output.close(q,ua));k=new xa(a.payloads,g);this._ctrl.buildResponse(this,this._ctx,g,p,q,{result:function(a){r(v,function(){var f;f=new ea(this._ctrl,this._ctx,k,this._remoteEntity,null,null,a,w,this._timeout);this.setAbort(function(){f.abort();});f.call(v);},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}else if(a.handshake&&f)b();else if(0<p.keyRequestData.length){m=new Z(g);this._ctrl.buildResponse(this,this._ctx,m,p,q,{result:function(a){r(v,function(){var f,h;f=a.builder;h=a.tokenTicket;n.mark();n.read(1,this._timeout,{result:function(a){r(v,function(){function b(){n.read(32768,c._timeout,{result:function(a){a?b():k();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function k(){c.execute(m,f,c._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(h);return a;},c);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(h);v.timeout();},c);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(h);throw a;},c);}});}if(a)if(n.reset(),12>=w+1)f.setRenewable(!1),this._ctrl.send(this,this._ctx,m,this._output,f,this._timeout,{result:function(a){r(v,function(){this.releaseMasterToken(h);return n;},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});else return this.releaseMasterToken(h),n;else b();},c);},timeout:function(){r(v,function(){this.releaseMasterToken(h);v.timeout();},c);},error:function(a){r(v,function(){this.releaseMasterToken(h);throw a;},c);}});},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},c);}c=this;r(v,function(){if(12<w+2)return null;this._ctrl.sendReceive(this,this._ctx,g,this._input,this._output,l,q,!0,{result:function(a){r(v,function(){var b;if(!a)return null;b=a.response;w+=2;b.getMessageHeader()?d(a):x(a);},c);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},c);},call:function(g){var q;function l(l,w,x){r(g,function(){this.execute(this._msgCtx,l,x,this._msgCount,{result:function(d){r(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&this._output.close(x,ua);d&&d.closeSource(this._openedStreams);return d;},q);},timeout:function(){r(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(x,ua),this._input.close());g.timeout();},q);},error:function(d){r(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(x,ua),this._input.close());if(v(d))return null;throw d;},q);}});},q);}q=this;r(g,function(){var w,x,F;w=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);x=Date.now();F=this._remoteEntity.openConnection();this._output=F.output;this._input=F.input;-1!=w&&(w=this._timeout-(Date.now()-x));this._openedStreams=!0;}catch(d){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,ua);this._input&&this._input.close();if(v(d))return null;throw d;}this._builder?l(this._builder,this._tokenTicket,w):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(d){r(g,function(){l(d.builder,d.tokenTicket,w);},q);},timeout:function(){r(g,function(){this._openedStreams&&(this._output.close(this._timeout,ua),this._input.close());g.timeout();},q);},error:function(d){r(g,function(){this._openedStreams&&(this._output.close(this._timeout,ua),this._input.close());if(v(d))return null;throw d;},q);}});},q);}});}());(function(){rd=na.Class.create({init:function(g){Object.defineProperties(this,{id:{value:g,writable:!1,configurable:!1}});},toJSON:function(){var g;g={};g.id=this.id;return g;},equals:function(g){return this===g?!0:g instanceof rd?this.id==g.id:!1;},uniqueKey:function(){return this.id;}});se=function(l){var q;q=l.id;if(!q)throw new ha(g.JSON_PARSE_ERROR,JSON.stringify(l));return new rd(q);};}());na.Class.create({isNewestMasterToken:function(g,l,q){},isMasterTokenRevoked:function(g,l){},acceptNonReplayableId:function(g,l,q,r){},createMasterToken:function(g,l,q,r,J){},isMasterTokenRenewable:function(g,l,q){},renewMasterToken:function(g,l,q,r,J){},isUserIdTokenRevoked:function(g,l,q,r){},createUserIdToken:function(g,l,q,r){},renewUserIdToken:function(g,l,q,r){}});(function(){function l(g,l,q,r){this.sessiondata=g;this.tokendata=l;this.signature=q;this.verified=r;}ib=na.Class.create({init:function(g,l,r,J,v,F,I,H,L,xa,Z){var w;w=this;q(Z,function(){var x,C,ba,ea,da;if(r.getTime()<l.getTime())throw new fa("Cannot construct a master token that expires before its renewal window opens.");if(0>J||J>Na)throw new fa("Sequence number "+J+" is outside the valid range.");if(0>v||v>Na)throw new fa("Serial number "+v+" is outside the valid range.");x=Math.floor(l.getTime()/1E3);C=Math.floor(r.getTime()/1E3);if(xa)ba=xa.sessiondata;else{ea={};F&&(ea.issuerdata=F);ea.identity=I;ea.encryptionkey=ra(H.toByteArray());ea.hmackey=ra(L.toByteArray());ba=Wa(JSON.stringify(ea),Ma);}if(xa)return Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:J,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},identity:{value:I,writable:!1,configurable:!1},encryptionKey:{value:H,writable:!1,configurable:!1},hmacKey:{value:L,writable:!1,configurable:!1},sessiondata:{value:ba,writable:!1,enumerable:!1,configurable:!1},verified:{value:xa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:xa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:xa.signature,writable:!1,enumerable:!1,configurable:!1}}),this;da=g.getMslCryptoContext();da.encrypt(ba,{result:function(l){q(Z,function(){var r,B;r={};r.renewalwindow=x;r.expiration=C;r.sequencenumber=J;r.serialnumber=v;r.sessiondata=ra(l);B=Wa(JSON.stringify(r),Ma);da.sign(B,{result:function(l){q(Z,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:J,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:v,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},identity:{value:I,writable:!1,configurable:!1},encryptionKey:{value:H,writable:!1,configurable:!1},hmacKey:{value:L,writable:!1,configurable:!1},sessiondata:{value:ba,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:B,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){Z.error(g);}});},w);},error:function(g){Z.error(g);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(g){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(g){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(g){var l;if(this.sequenceNumber==g.sequenceNumber)return this.expiration>g.expiration;if(this.sequenceNumber>g.sequenceNumber){l=this.sequenceNumber-Na+127;return g.sequenceNumber>=l;}l=g.sequenceNumber-Na+127;return this.sequenceNumber<l;},toJSON:function(){var g;g={};g.tokendata=ra(this.tokendata);g.signature=ra(this.signature);return g;},equals:function(g){return this===g?!0:g instanceof ib?this.serialNumber==g.serialNumber&&this.sequenceNumber==g.sequenceNumber&&this.expiration.getTime()==g.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Sb=function(w,r,C){q(C,function(){var x,v,F,I,ba;x=w.getMslCryptoContext();v=r.tokendata;F=r.signature;if("string"!==typeof v||"string"!==typeof F)throw new ha(g.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(r));try{I=va(v);}catch(za){throw new H(g.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(r),za);}if(!I||0==I.length)throw new ha(g.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(r));try{ba=va(F);}catch(za){throw new H(g.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(r),za);}x.verify(I,ba,{result:function(v){q(C,function(){var r,F,J,B,V,L,ea,da,ua,Ca;L=Ya(I,Ma);try{ea=JSON.parse(L);r=parseInt(ea.renewalwindow);F=parseInt(ea.expiration);J=parseInt(ea.sequencenumber);B=parseInt(ea.serialnumber);V=ea.sessiondata;}catch(sa){if(sa instanceof SyntaxError)throw new ha(g.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+L,sa);throw sa;}if(!r||r!=r||!F||F!=F||"number"!==typeof J||J!=J||"number"!==typeof B||B!=B||"string"!==typeof V)throw new ha(g.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+L);if(F<r)throw new H(g.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+L);if(0>J||J>Na)throw new H(g.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+L);if(0>B||B>Na)throw new H(g.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+L);da=new Date(1E3*r);ua=new Date(1E3*F);try{Ca=va(V);}catch(sa){throw new H(g.MASTERTOKEN_SESSIONDATA_INVALID,V,sa);}if(!Ca||0==Ca.length)throw new H(g.MASTERTOKEN_SESSIONDATA_MISSING,V);v?x.decrypt(Ca,{result:function(r){q(C,function(){var x,F,H,Z,V,ea;V=Ya(r,Ma);try{ea=JSON.parse(V);x=ea.issuerdata;F=ea.identity;H=ea.encryptionkey;Z=ea.hmackey;}catch(d){if(d instanceof SyntaxError)throw new ha(g.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+V,d);throw d;}if(x&&"object"!==typeof x||!F||"string"!==typeof H||"string"!==typeof Z)throw new ha(g.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+V);xb(H,qb,Fb,{result:function(d){xb(Z,rb,Rb,{result:function(c){q(C,function(){var a;a=new l(r,I,ba,v);new ib(w,da,ua,J,B,x,F,d,c,a,C);});},error:function(c){C.error(new Q(g.MASTERTOKEN_KEY_CREATION_ERROR,c));}});},error:function(d){C.error(new Q(g.MASTERTOKEN_KEY_CREATION_ERROR,d));}});});},error:function(g){C.error(g);}}):(r=new l(null,I,ba,v),new ib(w,da,ua,J,B,null,null,null,null,r,C));});},error:function(g){C.error(g);}});});};}());(function(){function l(g,l,q){this.tokendata=g;this.signature=l;this.verified=q;}ac=na.Class.create({init:function(g,l,r,J,v,F,I,ba,L){var w;w=this;q(L,function(){var x,C,B,V,ya,ea,da;if(r.getTime()<l.getTime())throw new fa("Cannot construct a user ID token that expires before its renewal window opens.");if(!J)throw new fa("Cannot construct a user ID token without a master token.");if(0>v||v>Na)throw new fa("Serial number "+v+" is outside the valid range.");x=Math.floor(l.getTime()/1E3);C=Math.floor(r.getTime()/1E3);B=J.serialNumber;if(ba){V=ba.tokendata;ya=ba.signature;ea=ba.verified;B=J.serialNumber;Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:B,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},customer:{value:I,writable:!1,configurable:!1},verified:{value:ea,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:V,writable:!1,enumerable:!1,configurable:!1},signature:{value:ya,writable:!1,enumerable:!1,configurable:!1}});return this;}V={};F&&(V.issuerdata=F);V.identity=I;V=Wa(JSON.stringify(V),Ma);da=g.getMslCryptoContext();da.encrypt(V,{result:function(l){q(L,function(){var r,Z;r={};r.renewalwindow=x;r.expiration=C;r.mtserialnumber=B;r.serialnumber=v;r.userdata=ra(l);Z=Wa(JSON.stringify(r),Ma);da.sign(Z,{result:function(l){q(L,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:x,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:J.serialNumber,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:F,writable:!1,configurable:!1},customer:{value:I,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Z,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){q(L,function(){g instanceof H&&g.setEntity(J);throw g;},w);}});},w);},error:function(g){q(L,function(){g instanceof H&&g.setEntity(J);throw g;},w);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(g){return g&&g.serialNumber==this.mtSerialNumber;},toJSON:function(){var g;g={};g.tokendata=ra(this.tokendata);g.signature=ra(this.signature);return g;},equals:function(g){return this===g?!0:g instanceof ac?this.serialNumber==g.serialNumber&&this.mtSerialNumber==g.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Tb=function(w,r,C,J){q(J,function(){var v,x,I,ba,L;v=w.getMslCryptoContext();x=r.tokendata;I=r.signature;if("string"!==typeof x||"string"!==typeof I)throw new ha(g.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(r)).setEntity(C);try{ba=va(x);}catch(xa){throw new H(g.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(r),xa).setEntity(C);}if(!ba||0==ba.length)throw new ha(g.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(r)).setEntity(C);try{L=va(I);}catch(xa){throw new H(g.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(r),xa).setEntity(C);}v.verify(ba,L,{result:function(r){q(J,function(){var x,F,B,I,ya,ea,da,ua,Ca,za;ea=Ya(ba,Ma);try{da=JSON.parse(ea);x=parseInt(da.renewalwindow);F=parseInt(da.expiration);B=parseInt(da.mtserialnumber);I=parseInt(da.serialnumber);ya=da.userdata;}catch(ga){if(ga instanceof SyntaxError)throw new ha(g.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+ea,ga).setEntity(C);throw ga;}if(!x||x!=x||!F||F!=F||"number"!==typeof B||B!=B||"number"!==typeof I||I!=I||"string"!==typeof ya)throw new ha(g.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+ea).setEntity(C);if(F<x)throw new H(g.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+ea).setEntity(C);if(0>B||B>Na)throw new H(g.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+ea).setEntity(C);if(0>I||I>Na)throw new H(g.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+ea).setEntity(C);ua=new Date(1E3*x);Ca=new Date(1E3*F);if(!C||B!=C.serialNumber)throw new H(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+B+"; mt "+JSON.stringify(C)).setEntity(C);try{za=va(ya);}catch(ga){throw new H(g.USERIDTOKEN_USERDATA_INVALID,ya,ga).setEntity(C);}if(!za||0==za.length)throw new H(g.USERIDTOKEN_USERDATA_MISSING,ya).setEntity(C);r?v.decrypt(za,{result:function(v){q(J,function(){var q,x,F,B,Z;F=Ya(v,Ma);try{B=JSON.parse(F);q=B.issuerdata;x=B.identity;}catch(d){if(d instanceof SyntaxError)throw new ha(g.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+F).setEntity(C);throw d;}if(q&&"object"!==typeof q||"object"!==typeof x)throw new ha(g.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+F).setEntity(C);try{Z=se(x);}catch(d){throw new H(g.USERIDTOKEN_IDENTITY_INVALID,"userdata "+F,d).setEntity(C);}x=new l(ba,L,r);new ac(w,ua,Ca,C,I,q,Z,x,J);});},error:function(g){q(J,function(){g instanceof H&&g.setEntity(C);throw g;});}}):(x=new l(ba,L,r),new ac(w,ua,Ca,C,I,null,null,x,J));});},error:function(g){q(J,function(){g instanceof H&&g.setEntity(C);throw g;});}});});};}());(function(){function l(l,q){var w,v,r;w=l.tokendata;if("string"!==typeof w)throw new ha(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));try{v=va(w);}catch(Ca){throw new H(g.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(l),Ca);}if(!v||0==v.length)throw new ha(g.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(l));try{r=JSON.parse(Ya(v,Ma)).name;}catch(Ca){if(Ca instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l),Ca);throw Ca;}if(!r)throw new ha(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));return q[r]?q[r]:q[""];}function w(g,l,q){this.tokendata=g;this.signature=l;this.verified=q;}Ib=na.Class.create({init:function(g,l,w,v,r,I,ba,L,Q,Z){var x;x=this;q(Z,function(){var F,C,J,ea,da;if(v&&r&&!r.isBoundTo(v))throw new fa("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");F=v?v.serialNumber:-1;C=r?r.serialNumber:-1;if(Q)return da=Q.tokendata,Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:F,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},verified:{value:Q.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:da,writable:!1,enumerable:!1,configurable:!1},signature:{value:Q.signature,writable:!1,enumerable:!1,configurable:!1}}),this;ba?(J=qd(ba,w),J.length<w.length||(ba=null,J=w)):(ba=null,J=w);ea={};ea.name=l;-1!=F&&(ea.mtserialnumber=F);-1!=C&&(ea.uitserialnumber=C);ea.encrypted=I;ba&&(ea.compressionalgo=ba);if(I&&0<J.length)L.encrypt(J,{result:function(B){q(Z,function(){var J;ea.servicedata=ra(B);J=Wa(JSON.stringify(ea),Ma);L.sign(J,{result:function(v){q(Z,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:F,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:J,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},x);},error:function(g){q(Z,function(){g instanceof H&&(g.setEntity(v),g.setUser(r));throw g;});}});},x);},error:function(g){q(Z,function(){g instanceof H&&(g.setEntity(v),g.setUser(r));throw g;});}});else{ea.servicedata=ra(J);da=Wa(JSON.stringify(ea),Ma);L.sign(da,{result:function(v){q(Z,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:F,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:I,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:da,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},x);},error:function(g){q(Z,function(){g instanceof H&&(g.setEntity(v),g.setUser(r));throw g;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(g){return g?g instanceof ib?g.serialNumber==this.mtSerialNumber:g instanceof ac?g.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var g;g={};g.tokendata=ra(this.tokendata);g.signature=ra(this.signature);return g;},equals:function(g){return this===g?!0:g instanceof Ib?this.name==g.name&&this.mtSerialNumber==g.mtSerialNumber&&this.uitSerialNumber==g.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});Bb=function(g,l,q,v,w,r,I,H,L){new Ib(g,l,q,v,w,r,I,H,null,L);};Jc=function(r,C,J,v,F,I){q(I,function(){var x,L,Q,Z,qa,B,V,ya,ea,da,ua,Ca,sa;!F||F instanceof bc||(F=l(C,F));x=C.tokendata;L=C.signature;if("string"!==typeof x||"string"!==typeof L)throw new ha(g.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(C)).setEntity(J).setEntity(v);try{Q=va(x);}catch(ga){throw new H(g.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(C),ga).setEntity(J).setEntity(v);}if(!Q||0==Q.length)throw new ha(g.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(C)).setEntity(J).setEntity(v);try{Z=va(L);}catch(ga){throw new H(g.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(C),ga).setEntity(J).setEntity(v);}ua=Ya(Q,Ma);try{Ca=JSON.parse(ua);qa=Ca.name;B=Ca.mtserialnumber?parseInt(Ca.mtserialnumber):-1;V=Ca.uitserialnumber?parseInt(Ca.uitserialnumber):-1;ya=Ca.encrypted;ea=Ca.compressionalgo;da=Ca.servicedata;}catch(ga){if(ga instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"servicetokendata "+ua,ga).setEntity(J).setEntity(v);throw ga;}if(!qa||"number"!==typeof B||B!=B||"number"!==typeof V||V!=V||"boolean"!==typeof ya||ea&&"string"!==typeof ea||"string"!==typeof da)throw new ha(g.JSON_PARSE_ERROR,"servicetokendata "+ua).setEntity(J).setEntity(v);if(Ca.mtserialnumber&&0>B||B>Na)throw new H(g.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ua).setEntity(J).setEntity(v);if(Ca.uitserialnumber&&0>V||V>Na)throw new H(g.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+ua).setEntity(J).setEntity(v);if(-1!=B&&(!J||B!=J.serialNumber))throw new H(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+B+"; mt "+J).setEntity(J).setEntity(v);if(-1!=V&&(!v||V!=v.serialNumber))throw new H(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+V+"; uit "+v).setEntity(J).setEntity(v);ya=!0===ya;if(ea){if(!Ob[ea])throw new H(g.UNIDENTIFIED_COMPRESSION,ea);sa=ea;}else sa=null;F?F.verify(Q,Z,{result:function(l){q(I,function(){var x,C;if(l){try{x=va(da);}catch(jd){throw new H(g.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ua,jd).setEntity(J).setEntity(v);}if(!x||0!=da.length&&0==x.length)throw new H(g.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+ua).setEntity(J).setEntity(v);if(ya&&0<x.length)F.decrypt(x,{result:function(g){q(I,function(){var q,x;q=sa?Kc(sa,g):g;x=new w(Q,Z,l);new Ib(r,qa,q,-1!=B?J:null,-1!=V?v:null,ya,sa,F,x,I);});},error:function(g){q(I,function(){g instanceof H&&(g.setEntity(J),g.setUser(v));throw g;});}});else{x=sa?Kc(sa,x):x;C=new w(Q,Z,l);new Ib(r,qa,x,-1!=B?J:null,-1!=V?v:null,ya,sa,F,C,I);}}else x=""==da?new Uint8Array(0):null,C=new w(Q,Z,l),new Ib(r,qa,x,-1!=B?J:null,-1!=V?v:null,ya,sa,F,C,I);});},error:function(g){q(I,function(){g instanceof H&&(g.setEntity(J),g.setUser(v));throw g;});}}):(x=""==da?new Uint8Array(0):null,L=new w(Q,Z,!1),new Ib(r,qa,x,-1!=B?J:null,-1!=V?v:null,ya,sa,F,L,I));});};}());eb={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(eb);(function(){Eb=na.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(g){return this===g?!0:g instanceof Eb?this.scheme==g.scheme:!1;},toJSON:function(){var g;g={};g.scheme=this.scheme;g.authdata=this.getAuthData();return g;}});he=function(l,w,r,C){q(C,function(){var q,v,x;q=r.scheme;v=r.authdata;if(!q||!v)throw new ha(g.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(r));if(!eb[q])throw new Ea(g.UNIDENTIFIED_USERAUTH_SCHEME,q);x=l.getUserAuthenticationFactory(q);if(!x)throw new Ea(g.USERAUTH_FACTORY_NOT_FOUND,q);x.createData(l,w,v,C);});};}());nc=na.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createData:function(g,l,q,r){},authenticate:function(g,l,q,r){}});(function(){Wb=Eb.extend({init:function w(g,l){w.base.call(this,eb.NETFLIXID);Object.defineProperties(this,{netflixId:{value:g,writable:!1,configurable:!1},secureNetflixId:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.netflixid=this.netflixId;this.secureNetflixId&&(g.securenetflixid=this.secureNetflixId);return g;},equals:function x(g){return this===g?!0:g instanceof Wb?x.base.call(this,g)&&this.netflixId==g.netflixId&&this.secureNetflixId==g.secureNetflixId:!1;}});te=function(l){var q,r;q=l.netflixid;r=l.securenetflixid;if(!q)throw new ha(g.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(l));return new Wb(q,r);};}());Ye=nc.extend({init:function w(){w.base.call(this,eb.NETFLIXID);},createData:function(g,l,r,J){q(J,function(){return te(r);});},authenticate:function(l,q,r,J){if(!(r instanceof Wb))throw new fa("Incorrect authentication data type "+r+".");l=r.secureNetflixId;if(!r.netflixId||!l)throw new Ea(g.NETFLIXID_COOKIES_BLANK).setUser(r);throw new Ea(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){oc=Eb.extend({init:function x(g,l){x.base.call(this,eb.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:g,writable:!1,configurable:!1},password:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.email=this.email;g.password=this.password;return g;},equals:function C(g){return this===g?!0:g instanceof oc?C.base.call(this,this,g)&&this.email==g.email&&this.password==g.password:!1;}});ue=function(l){var q,v;q=l.email;v=l.password;if(!q||!v)throw new ha(g.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(l));return new oc(q,v);};}());Ze=nc.extend({init:function x(){x.base.call(this,eb.EMAIL_PASSWORD);},createData:function(g,l,r,v){q(v,function(){return ue(r);});},authenticate:function(l,q,r,v){if(!(r instanceof oc))throw new fa("Incorrect authentication data type "+r+".");l=r.password;if(!r.email||!l)throw new Ea(g.EMAILPASSWORD_BLANK).setUser(r);throw new Ea(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){var v,F,L,ba,za,xa,Z,qa;function l(g,l){return"<"+g+">"+l+"</"+g+">";}function r(g){return g.replace(/[<>&"']/g,function(g){return za[g];});}function J(g){return encodeURIComponent(g).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}v=Nc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};F=na.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});L=sd=F.extend({init:function(l,v,r,x,F,C,J){var Z;function B(x){q(J,function(){var q,B;try{B={};B.useridtoken=l;B.action=v;B.nonce=r;B.pin=ra(x);q=Wa(JSON.stringify(B),Ma);}catch(Hb){throw new ha(g.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Hb);}F.sign(q,{result:function(g){H(q,g);},error:J.error});},Z);}function H(g,F){q(J,function(){Object.defineProperties(this,{_userIdToken:{value:l,writable:!1,enumerable:!1,configurable:!1},_action:{value:v,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:r,writable:!1,enumerable:!1,configurable:!1},_pin:{value:x,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:g,writable:!1,enumerable:!1,configurable:!1},_signature:{value:F,writable:!1,enumerable:!1,configurable:!1}});return this;},Z);}Z=this;q(J,function(){C?H(C.encoding,C.signature):F.encrypt(Wa(x,Ma),{result:function(g){B(g);},error:J.error});},Z);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this===g?!0:g instanceof L?this._action==g._action&&this._nonce==g._nonce&&this._pin==g._pin&&this._userIdToken.equals(g._userIdToken):!1;}});sd.ACTION="userauth";ba=function(l,v,r,x,F){function C(x){q(F,function(){var C,J,Z,ba,L,V;C=Ya(r,Ma);try{V=JSON.parse(C);J=V.useridtoken;Z=V.action;ba=V.nonce;L=V.pin;}catch(d){if(d instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"MDX authdata "+C,d);throw d;}if(!(J&&"object"===typeof J&&Z&&"string"===typeof Z&&ba&&"number"===typeof ba&&L)||"string"!==typeof L)throw new ha(g.JSON_PARSE_ERROR,"MDX authdata "+C);Tb(l,J,v,{result:function(d){q(F,function(){if(!d.isDecrypted())throw new Ea(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+C);B(x,d,Z,ba,L);});},error:function(d){q(F,function(){if(d instanceof H)throw new Ea(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+C,d);throw d;});}});});}function B(g,l,v,C,B){q(F,function(){var J;J=va(B);g.decrypt(J,{result:function(g){q(F,function(){var d;d=Ya(g,Ma);new L(l,v,C,d,null,{encoding:r,signature:x},F);});},error:F.error});});}q(F,function(){var B,J;try{J=l.getMslStore().getCryptoContext(v);B=J?J:new jb(l,v);}catch(ub){if(ub instanceof Qb)throw new Ea(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+ra(r));throw ub;}B.verify(r,x,{result:function(l){q(F,function(){if(!l)throw new Q(g.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+ra(r));C(B);});},error:F.error});});};za={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};xa=pc=F.extend({init:function(g,q,v,x){var F,C;F=l("action",r(g));C=l("nonce",q.toString());v=l("pin",v);F=l("registerdata",F+C+v);F=Wa(F,"utf-8");Object.defineProperties(this,{_action:{value:g,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:q,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:F,writable:!1,enumerable:!1,configurable:!1},_signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this===g?!0:g instanceof xa?this._action==g._action&&this._nonce==g._nonce&&this._pin==g._pin:!1;}});pc.ACTION="regpairrequest";Z=td=F.extend({init:function(g,v,x,F,C,H){var ba;function B(x){q(H,function(){var q,C,B,ba,d;q=ra(x);C=l("action",r(g));B=l("nonce",v.toString());ba=l("pin",q);C=l("registerdata",C+B+ba);d=Wa(C,"utf-8");q="action="+J(g)+"&nonce="+J(v.toString())+"&pin="+J(q);F.sign(Wa(q,"utf-8"),{result:function(c){Z(d,c);},error:H.error});},ba);}function Z(l,r){q(H,function(){Object.defineProperties(this,{_action:{value:g,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:v,writable:!1,enumerable:!1,configurable:!1},_pin:{value:x,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:l,writable:!1,enumerable:!1,configurable:!1},_signature:{value:r,writable:!1,enumerable:!1,configurable:!1}});return this;},ba);}ba=this;q(H,function(){C?Z(C.encoding,C.signature):F.encrypt(Wa(x,"utf-8"),{result:function(g){B(g);},error:H.error});},ba);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this===g?!0:g instanceof Z?this._action==g._action&&this._nonce==g._nonce&&this._pin==g._pin:!1;}});td.ACTION=pc.ACTION;qa=function(l,v,r,x,F){q(F,function(){var C,B,H,ba,L,V,ea;C=l.getMslStore().getCryptoContext(v);B=C?C:new jb(l,v);C=Ya(r,"utf-8");H=new DOMParser().parseFromString(C,"application/xml");C=H.getElementsByTagName("action");ba=H.getElementsByTagName("nonce");H=H.getElementsByTagName("pin");L=C&&1==C.length&&C[0].firstChild?C[0].firstChild.nodeValue:null;V=ba&&1==ba.length&&ba[0].firstChild?parseInt(ba[0].firstChild.nodeValue):null;ea=H&&1==H.length&&H[0].firstChild?H[0].firstChild.nodeValue:null;if(!L||!V||!ea)throw new ha(g.XML_PARSE_ERROR,"MDX authdata "+ra(r));C="action="+J(L)+"&nonce="+J(V.toString())+"&pin="+J(ea);B.verify(Wa(C,"utf-8"),x,{result:function(l){q(F,function(){var v;if(!l)throw new Q(g.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+ra(r));v=va(ea);B.decrypt(v,{result:function(d){q(F,function(){var c;c=Ya(d,"utf-8");new Z(L,V,c,null,{encoding:r,signature:x},F);});},error:F.error});});},error:F.error});});};ec=Eb.extend({init:function V(g,l,q,r,x,F){var C,J,H,Z,ba,ea;V.base.call(this,eb.MDX);C=null;J=null;H=null;if("string"===typeof q)g=v.MSL_LEGACY,H=q;else if(q instanceof Uint8Array)g=v.NTBA,J=q;else if(q instanceof ib)g=v.MSL,C=q;else throw new TypeError("Controller token "+q+" is not a master token, encrypted CTicket, or MSL token construct.");Z=q=null;ba=null;if(F){ea=F.controllerAuthData;q=ea.getAction();Z=ea.getPin();F=F.userIdToken;ea instanceof L?ba=ea.getUserIdToken().customer:F&&(ba=F.customer);}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},action:{value:q,writable:!1,configurable:!1},targetPin:{value:l,writable:!1,configurable:!1},controllerPin:{value:Z,writable:!1,configurable:!1},customer:{value:ba,writable:!1,configurable:!1},_masterToken:{value:C,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:J,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:H,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:r,writable:!1,enumerable:!1,configurable:!1},_signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var g,l;g={};switch(this.mechanism){case v.MSL:l=JSON.parse(JSON.stringify(this._masterToken));g.mastertoken=l;break;case v.NTBA:l=Ya(this._encryptedCTicket,"utf-8");g.cticket=l;break;case v.MSL_LEGACY:g.cticket=this._mslTokens;break;default:throw new fa("Unsupported MDX mechanism.");}g.pin=this.targetPin;g.mdxauthdata=ra(this._controllerEncoding);g.signature=ra(this._signature);return g;},equals:function ya(g){return this===g?!0:g instanceof ec?ya.base.call(this,g)&&(this._masterToken==g._masterToken||this._masterToken&&this._masterToken.equals(g._masterToken))&&(this._encryptedCTicket==g._encryptedCTicket||this._encryptedCTicket&&ab(this._encryptedCTicket,g._encryptedCTicket))&&this._mslTokens==g._mslTokens&&ab(this._controllerEncoding,g._controllerEncoding)&&ab(this._signature,g._signature):!1;}});ve=function(l,v,r){function x(x,F,C,J){Sb(l,F,{result:function(F){q(r,function(){if(!F.isDecrypted())throw new Ea(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());ba(l,F,C,J,{result:function(g){q(r,function(){var d,c;d=g.getEncoding();c=g.getSignature();return new ec(l,x,F,d,c,{controllerAuthData:g,userIdToken:null});});},error:r.error});});},error:function(l){q(r,function(){if(l instanceof H)throw new Ea(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),l);throw l;});}});}function F(l,v,x,F){q(r,function(){throw new Ea(g.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function C(x,F,C,J){function Z(d,c){q(c,function(){var a,b;try{a=va(d);}catch(h){throw new Ea(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),h);}if(!a||0==a.length)throw new Ea(g.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{b=JSON.parse(Ya(a,"utf-8"));Sb(l,b,{result:function(a){q(c,function(){if(!a.isDecrypted())throw new Ea(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());return a;});},error:function(a){q(c,function(){if(a instanceof H)throw new Ea(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),a);throw a;});}});}catch(h){if(h instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),h);throw h;}});}function ba(d,c,a){q(a,function(){var b,h;try{b=va(d);}catch(n){throw new Ea(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),n);}if(!b||0==b.length)throw new Ea(g.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{h=JSON.parse(Ya(b,"utf-8"));Tb(l,h,c,{result:function(h){q(a,function(){if(!h.isDecrypted())throw new Ea(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v));return h;});},error:function(h){q(a,function(){if(h instanceof H)throw new Ea(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),h);throw h;});}});}catch(n){if(n instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),n);throw n;}});}q(r,function(){var d;d=F.split(",");if(3!=d.length||"1"!=d[0])throw new Ea(g.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));Z(d[1],{result:function(c){ba(d[2],c,{result:function(a){qa(l,c,C,J,{result:function(b){q(r,function(){return new ec(l,x,F,C,J,{controllerAuthData:b,userIdToken:a});});},error:function(a){q(r,function(){if(a instanceof Qb)throw new Ea(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v),a);throw a;});}});},error:r.error});},error:r.error});});}q(r,function(){var l,q,r,J,H;l=v.pin;q=v.mdxauthdata;r=v.signature;if(!l||"string"!==typeof l||!q||"string"!==typeof q||!r||"string"!==typeof r)throw new ha(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));try{J=va(q);H=va(r);}catch(Hb){throw new Ea(g.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(v),Hb);}if(v.mastertoken){q=v.mastertoken;if(!q||"object"!==typeof q)throw new ha(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));x(l,q,J,H);}else if(v.cticket){q=v.cticket;if(!q||"string"!==typeof q)throw new ha(g.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));-1==q.indexOf(",")?F(l,q,J,H):C(l,q,J,H);}else throw new Ea(g.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));});};}());(function(){var l,q,r;l=sd.ACTION;q=pc.ACTION;r=td.ACTION;we=nc.extend({init:function F(){F.base.call(this,eb.MDX);},createData:function(g,l,q,r){ve(g,q,r);},authenticate:function(x,C,J,H){if(!(J instanceof ec))throw new fa("Incorrect authentication data type "+J.getClass().getName()+".");x=J.action;switch(J.mechanism){case Nc.MSL:if(l!=x)throw new Ea(g.MDX_USERAUTH_ACTION_INVALID).setUser(J);break;case Nc.NTBA:if(q!=x)throw new Ea(g.MDX_USERAUTH_ACTION_INVALID).setUser(J);break;case Nc.MSL_LEGACY:if(r!=x)throw new Ea(g.MDX_USERAUTH_ACTION_INVALID).setUser(J);}x=J.controllerPin;C=J.targetPin;if(!x||!C)throw new Ea(g.MDX_PIN_BLANK).setUser(J);if(x!=C)throw new Ea(g.MDX_PIN_MISMATCH).setUser(J);x=J.customer;if(!x)throw new Ea(g.MDX_USER_UNKNOWN).setUser(J);if(H&&(H=H.customer,!x.equals(H)))throw new Ea(g.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+x+"; uit customer "+H).setUser(J);return x;}});}());(function(){var l,q,r;l={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};q=ye=na.Class.create({init:function(g,l){Object.defineProperties(this,{email:{value:g,writable:!1,enumerable:!0,configurable:!1},password:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});r=ze=na.Class.create({init:function(g,l){Object.defineProperties(this,{netflixId:{value:g,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});qc=Eb.extend({init:function F(g,l,x,C){var J,H,B,ba;F.base.call(this,eb.SSO);J=null;H=null;B=null;ba=null;x instanceof q?(J=x.email,H=x.password):x instanceof r&&(B=x.netflixId,ba=x.secureNetflixId);Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},token:{value:l,writable:!1,configurable:!1},email:{value:J,writable:!1,configurable:!1},password:{value:H,writable:!1,configurable:!1},netflixId:{value:B,writable:!1,configurable:!1},secureNetflixId:{value:ba,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof C?null:C,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.mechanism=this.mechanism;g.token=ra(this.token);this.email&&this.password?(g.email=this.email,g.password=this.password):this.netflixId&&this.secureNetflixId&&(g.netflixid=this.netflixId,g.securenetflixid=this.secureNetflixId);this.profileGuid&&(g.profileguid=this.profileGuid);return g;},equals:function Ca(g){return this===g?!0:g instanceof qc?Ca.base.call(this,g)&&this.mechanism==g.mechanism&&ab(this.token,g.token)&&this.email==g.email&&this.password==g.password&&this.netflixId==g.netflixId&&this.secureNetflixId==g.secureNetflixId&&this.profileGuid==g.profileGuid:!1;}});xe=function(x){var C,J,H,Z,L,B,V,Q,ea;C=x.mechanism;J=x.token;if(!C||!J||"string"!==typeof J)throw new ha(g.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(x));if(!l[C])throw new Ea(g.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(x));H=x.email;Z=x.password;L=x.netflixid;B=x.securenetflixid;V=x.profileguid;if(H&&!Z||!H&&Z||L&&!B||!L&&B||H&&L)throw new ha(g.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(x));try{Q=va(J);}catch(da){throw new Ea(g.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(x),da);}H&&Z?ea=new q(H,Z):L&&B&&(ea=new r(L,B));return new qc(C,Q,ea,V);};}());$e=nc.extend({init:function C(){C.base.call(this,eb.SSO);},createData:function(g,l,v,r){q(r,function(){return xe(v);});},authenticate:function(l,q,v,r){var F,C;if(!(v instanceof qc))throw new fa("Incorrect authentication data type "+v+".");l=v.token;q=v.email;r=v.password;F=v.netflixId;C=v.secureNetflixId;if(!l||0==l.length)throw new Ea(g.SSOTOKEN_BLANK);if(!(null===q&&null===r||q&&r))throw new Ea(g.EMAILPASSWORD_BLANK);if(!(null===F&&null===C||F&&C))throw new Ea(g.NETFLIXID_COOKIES_BLANK).setUser(v);throw new Ea(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(v);}});(function(){rc=Eb.extend({init:function J(g,l){J.base.call(this,eb.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:g,writable:!1,configurable:!1},profileGuid:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));g.profileguid=this.profileGuid;return g;},equals:function v(g){return this==g?!0:g instanceof rc?v.base.call(this,g)&&this.userIdToken.equals(g.userIdToken)&&this.profileGuid==g.profileGuid:!1;}});Ae=function(l,r,H,L){q(L,function(){var v,F;if(!r)throw new Ea(g.USERAUTH_MASTERTOKEN_MISSING);v=H.useridtoken;F=H.profileguid;if("object"!==typeof v||"string"!==typeof F)throw new ha(g.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(H));Tb(l,v,r,{result:function(l){q(L,function(){if(!l.isDecrypted())throw new Ea(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(H));return new rc(l,F);});},error:function(l){L.error(new Ea(g.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(H),l));}});});};}());af=nc.extend({init:function J(g){J.base.call(this,eb.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,l,q,r){Ae(g,l,q,r);},authenticate:function(l,q,r,H){if(!(r instanceof rc))throw new fa("Incorrect authentication data type "+r+".");q=r.userIdToken;l=r.profileGuid;if(!l)throw new Ea(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(r);q=q.user;if(!q)throw new Ea(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(r);l=this._store.switchUsers(q,l);if(!l)throw new Ea(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(r);if(H&&(H=H.user,!l.equals(H)))throw new Ea(g.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+l+"; uit user "+H).setUserAuthenticationData(r);return l;}});Object.freeze({ENTITY_REAUTH:l.ENTITY_REAUTH,ENTITYDATA_REAUTH:l.ENTITYDATA_REAUTH});bf=na.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(g,l){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(g){},getUserAuthenticationFactory:function(g){},getTokenFactory:function(){},getKeyExchangeFactory:function(g){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Be=na.Class.create({setCryptoContext:function(g,l){},getMasterToken:function(){},getNonReplayableId:function(g){},getCryptoContext:function(g){},removeCryptoContext:function(g){},clearCryptoContexts:function(){},addUserIdToken:function(g,l){},getUserIdToken:function(g){},removeUserIdToken:function(g){},clearUserIdTokens:function(){},addServiceTokens:function(g){},getServiceTokens:function(g,l){},removeServiceTokens:function(g,l,q){},clearServiceTokens:function(){}});(function(){var l;l=Ob;qd=function(q,r){var v;v={};switch(q){case l.LZW:return Dd(r,v);case l.GZIP:return gzip$compress(r);default:throw new H(g.UNSUPPORTED_COMPRESSION,q);}};Kc=function(q,r,J){switch(q){case l.LZW:return Ed(r);case l.GZIP:return gzip$uncompress(r);default:throw new H(g.UNSUPPORTED_COMPRESSION,q.name());}};}());Be.extend({setCryptoContext:function(g,l){},getMasterToken:function(){return null;},getNonReplayableId:function(g){return 1;},getCryptoContext:function(g){return null;},removeCryptoContext:function(g){},clearCryptoContexts:function(){},addUserIdToken:function(g,l){},getUserIdToken:function(g){return null;},removeUserIdToken:function(g){},clearUserIdTokens:function(){},addServiceTokens:function(g){},getServiceTokens:function(l,q){if(q){if(!l)throw new H(g.USERIDTOKEN_MASTERTOKEN_NULL);if(!q.isBoundTo(l))throw new H(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+q.mtSerialNumber+"; mt "+l.serialNumber);}return[];},removeServiceTokens:function(l,q,r){if(r&&q&&!r.isBoundTo(q))throw new H(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.masterTokenSerialNumber+"; mt "+q.serialNumber);},clearServiceTokens:function(){}});(function(){Ce=Be.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(g,l){var q;if(l){q=g.uniqueKey();this.masterTokens[q]=g;this.cryptoContexts[q]=l;}else this.removeCryptoContext(g);},getMasterToken:function(){var g,l,q;g=null;for(l in this.masterTokens){q=this.masterTokens[l];if(!g||q.isNewerThan(g))g=q;}return g;},getNonReplayableId:function(g){var l;g=g.serialNumber;l=this.nonReplayableIds[g]!==ka?this.nonReplayableIds[g]:0;if(0>l||l>Na)throw new fa("Non-replayable ID "+l+" is outside the valid range.");l=l==Na?0:l+1;return this.nonReplayableIds[g]=l;},getCryptoContext:function(g){return this.cryptoContexts[g.uniqueKey()];},removeCryptoContext:function(g){var l,q;l=g.uniqueKey();if(this.masterTokens[l]){delete this.masterTokens[l];delete this.cryptoContexts[l];l=g.serialNumber;for(q in this.masterTokens)if(this.masterTokens[q].serialNumber==l)return;delete this.nonReplayableIds[l];Object.keys(this.userIdTokens).forEach(function(l){l=this.userIdTokens[l];l.isBoundTo(g)&&this.removeUserIdToken(l);},this);try{this.removeServiceTokens(null,g,null);}catch(ba){if(ba instanceof H)throw new fa("Unexpected exception while removing master token bound service tokens.",ba);throw ba;}}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(g){for(var l in g)delete g[l];},this);},addUserIdToken:function(l,q){var r,v;r=!1;for(v in this.masterTokens)if(q.isBoundTo(this.masterTokens[v])){r=!0;break;}if(!r)throw new H(g.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+q.mtSerialNumber);this.userIdTokens[l]=q;},getUserIdToken:function(g){return this.userIdTokens[g];},removeUserIdToken:function(g){var l,q,r;l=null;for(q in this.masterTokens){r=this.masterTokens[q];if(g.isBoundTo(r)){l=r;break;}}Object.keys(this.userIdTokens).forEach(function(q){if(this.userIdTokens[q].equals(g)){delete this.userIdTokens[q];try{this.removeServiceTokens(null,l,g);}catch(xa){if(xa instanceof H)throw new fa("Unexpected exception while removing user ID token bound service tokens.",xa);throw xa;}}},this);},clearUserIdTokens:function(){var l;for(var g in this.userIdTokens){l=this.userIdTokens[g];try{this.removeServiceTokens(null,null,l);}catch(Ca){if(Ca instanceof H)throw new fa("Unexpected exception while removing user ID token bound service tokens.",Ca);throw Ca;}delete this.userIdTokens[g];}},addServiceTokens:function(l){l.forEach(function(l){var q,r,v;if(l.isUnbound())this.unboundServiceTokens[l.uniqueKey()]=l;else{if(l.isMasterTokenBound()){q=!1;for(r in this.masterTokens)if(l.isBoundTo(this.masterTokens[r])){q=!0;break;}if(!q)throw new H(g.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+l.mtSerialNumber);}if(l.isUserIdTokenBound()){q=!1;for(v in this.userIdTokens)if(l.isBoundTo(this.userIdTokens[v])){q=!0;break;}if(!q)throw new H(g.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+l.uitSerialNumber);}l.isMasterTokenBound()&&((v=this.mtServiceTokens[l.mtSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.mtServiceTokens[l.mtSerialNumber]=v);l.isUserIdTokenBound()&&((v=this.uitServiceTokens[l.uitSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.uitServiceTokens[l.uitSerialNumber]=v);}},this);},getServiceTokens:function(l,q){var r,v,F,L;if(q){if(!l)throw new H(g.USERIDTOKEN_MASTERTOKEN_NULL);if(!q.isBoundTo(l))throw new H(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+q.mtSerialNumber+"; mt "+l.serialNumber);}r={};for(v in this.unboundServiceTokens){F=this.unboundServiceTokens[v];r[F.uniqueKey()]=F;}if(l&&(F=this.mtServiceTokens[l.serialNumber]))for(v in F){L=F[v];L.isUserIdTokenBound()||(r[v]=L);}if(q&&(F=this.uitServiceTokens[q.serialNumber]))for(v in F)L=F[v],L.isBoundTo(l)&&(r[v]=L);F=[];for(v in r)F.push(r[v]);return F;},removeServiceTokens:function(l,q,r){var F,L,qa;if(r&&q&&!r.isBoundTo(q))throw new H(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.mtSerialNumber+"; mt "+q.serialNumber);if(l&&!q&&!r){Object.keys(this.unboundServiceTokens).forEach(function(g){this.unboundServiceTokens[g].name==l&&delete this.unboundServiceTokens[g];},this);for(var v in this.mtServiceTokens){F=this.mtServiceTokens[v];L=Object.keys(F);L.forEach(function(g){F[g].name==l&&delete F[g];},this);this.mtServiceTokens[v]=F;}for(var Z in this.uitServiceTokens)F=this.uitServiceTokens[Z],v=Object.keys(F),v.forEach(function(g){F[g].name==l&&delete F[g];},this),this.uitServiceTokens[Z]=F;}if(q&&!r){if(F=this.mtServiceTokens[q.serialNumber])L=Object.keys(F),L.forEach(function(g){var q;q=F[g];l&&q.name!=l||delete F[g];},this),this.mtServiceTokens[q.serialNumber]=F;for(Z in this.uitServiceTokens){qa=this.uitServiceTokens[Z];v=Object.keys(qa);v.forEach(function(g){var r;r=qa[g];l&&r.name!=l||r.isBoundTo(q)&&delete qa[g];},this);this.uitServiceTokens[Z]=qa;}}r&&(F=this.uitServiceTokens[r.serialNumber])&&(v=Object.keys(F),v.forEach(function(g){var r;r=F[g];l&&r.name!=l||q&&!r.isBoundTo(q)||delete F[g];},this),this.uitServiceTokens[r.serialNumber]=F);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(g){for(var l in g)delete g[l];},this);}});}());Le=Ve.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(g,l){var q;if(l&&g&&g.length){q=ra(g);this._contextMap[q]=l;}},getCryptoContext:function(g){return g&&g.length?(g=ra(g),this._contextMap[g]||null):null;},removeCryptoContext:function(g){g&&g.length&&(g=ra(g),delete this._contextMap[g]);}});De=Oe.extend({init:function F(g,l,q,r){F.base.call(this,g);Object.defineProperties(this,{_kde:{value:l,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:q,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,q){if(!(q instanceof mb))throw new fa("Incorrect authentication data type "+JSON.stringify(q)+".");if(q.identity!=this.localIdentity)throw new vb(g.ENTITY_NOT_FOUND,"mgk "+q.identity);return new Dc(l,this.localIdentity,this._kde,this._kdh,this._kdw);}});cf=Od.extend({init:function Ca(g,l,q,r){Ca.base.call(this,g);Object.defineProperties(this,{_kpe:{value:l,writable:!1,enumerable:!1,configurable:!1},_kph:{value:q,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,q){if(!(q instanceof sb))throw new fa("Incorrect authentication data type "+JSON.stringify(q)+".");if(q.identity!=this.localIdentity)throw new vb(g.ENTITY_NOT_FOUND,"psk "+q.identity);return new Dc(l,this.localIdentity,this._kpe,this._kph,this._kpw);}});ef=Ce.extend({init:function ba(g,l,q,r,B,H){ba.base.call(this);this._log=g;this._esn=l;this._keyRequestData=q;this._createKeyRequestData=r;this._systemKeyName=B;this._systemKeyWrapFormat=H;},setCryptoContext:function za(g,l,q){var r;r=this;r._log.trace("Adding MasterToken",{SequenceNumber:g.sequenceNumber,SerialNumber:g.serialNumber,Expiration:g.expiration.getTime()});za.base.call(this,g,l);!q&&(g=r._createKeyRequestData)&&(r._log.trace("Generating new keyx request data"),g().then(function(g){r._keyRequestData=g;},function(g){r._log.error("Unable to generate new keyx request data",""+g);}));},addUserIdToken:function xa(g,l){this._log.trace("Adding UserIdToken",{UserId:g,SerialNumber:l.serialNumber,MTSerialNumber:l.mtSerialNumber,Expiration:l.expiration.getTime()});xa.base.call(this,g,l);},addServiceTokens:function Z(g){Z.base.call(this,g.filter(function(g){return!df[g.name];}));},getUserIdTokenKeys:function(){var g,l;g=[];for(l in this.userIdTokens)g.push(l);return g;},rekeyUserIdToken:function(g,l){this.userIdTokens[g]&&(this.userIdTokens[l]=this.userIdTokens[g],delete this.userIdTokens[g]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(g){var l;l=this;q(g,function(){var r;r=l.getMasterToken();r?l.getKeysForStore(r,{result:function(B){q(g,function(){var g,q,H;g=l.userIdTokens;q=Object.keys(g).map(function(q){var B;B=g[q];return{userId:q,userIdTokenJSON:g[q].toJSON(),serviceTokenJSONList:l.getServiceTokens(r,B).map(Ie)};});B.esn=l._esn;B.masterTokenJSON=r.toJSON();B.userList=q;H=l._keyRequestData.storeData;H&&Object.keys(H).forEach(function(g){B[g]=H[g];});return B;});},timeout:g.timeout,error:g.error}):g.result(null);});},getKeysForStore:function(l,r){var B;B=this;q(r,function(){var q;q=B.getCryptoContext(l);q={encryptionKey:q.encryptionKey,hmacKey:q.hmacKey};if(q.encryptionKey&&q.hmacKey)if(B._systemKeyWrapFormat)B.wrapKeysWithSystemKey(q,r);else return q;else throw new H(g.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(l,r){var B;B=this;xd(this._systemKeyName,{result:function(L){q(r,function(){var q,Z,V,Q;q=l.encryptionKey;Z=l.hmacKey;V=q[fc];Q=Z[fc];if(V&&Q)return{wrappedEncryptionKey:V,wrappedHmacKey:Q};Promise.resolve().then(function(){return Promise.all([Ka.wrapKey(B._systemKeyWrapFormat,q,L,L.algorithm),Ka.wrapKey(B._systemKeyWrapFormat,Z,L,L.algorithm)]);}).then(function(g){V=ra(g[0]);q[fc]=V;Q=ra(g[1]);Z[fc]=Q;r.result({wrappedEncryptionKey:V,wrappedHmacKey:Q});})["catch"](function(l){r.error(new H(g.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",l));});});},timeout:r.timeout,error:r.error});},unwrapKeysWithSystemKey:function(l,r){var B;B=this;xd(this._systemKeyName,{result:function(L){q(r,function(){var q,Z;q=va(l.wrappedEncryptionKey);Z=va(l.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ka.unwrapKey(B._systemKeyWrapFormat,q,L,L.algorithm,qb,!1,Fb),Ka.unwrapKey(B._systemKeyWrapFormat,Z,L,L.algorithm,rb,!1,Rb)]);}).then(function(g){var q;q=g[0];g=g[1];q[fc]=l.wrappedEncryptionKey;g[fc]=l.wrappedHmacKey;r.result({encryptionKey:q,hmacKey:g});})["catch"](function(l){r.error(new H(g.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",l));});});},timeout:r.timeout,error:r.error});},loadStoreState:function(g,l,q,r){var L,Z;function B(g,r){var B;try{B=q.userList.slice();}catch(ub){}B?function Db(){var q;q=B.shift();q?Tb(l,q.userIdTokenJSON,g,{result:function(l){try{L.addUserIdToken(q.userId,l);H(g,l,q.serviceTokenJSONList,{result:Db,timeout:Db,error:Db});}catch(Hb){Db();}},timeout:Db,error:Db}):r.result();}():r.result();}function H(g,q,r,B){var H,Z;try{H=r.slice();}catch(pa){}if(H){Z=L.getCryptoContext(g);(function Hb(){var d;d=H.shift();d?Jc(l,d,g,q,Z,{result:function(c){L.addServiceTokens([c]);Hb();},timeout:function(){Hb();},error:function(){Hb();}}):B.result();}());}else B.result();}L=this;Z=L._log;q.esn!=L._esn?(Z.error("Esn mismatch, starting fresh"),r.error()):function(r){var V,ea,Q,da;function B(){var q;if(!V&&ea&&Q&&da){V=!0;q=new jb(l,ea,g.esn,{rawKey:Q},{rawKey:da});L.setCryptoContext(ea,q,!0);r.result(ea);}}function H(g,d){Z.error(g,d&&""+d);V||(V=!0,r.error());}q.masterTokenJSON?(Sb(l,q.masterTokenJSON,{result:function(g){ea=g;B();},timeout:function(){H("Timeout parsing MasterToken");},error:function(g){H("Error parsing MasterToken",g);}}),L._systemKeyWrapFormat?L.unwrapKeysWithSystemKey(q,{result:function(g){Q=g.encryptionKey;da=g.hmacKey;B();},timeout:function(){H("Timeout unwrapping keys");},error:function(g){H("Error unwrapping keys",g);}}):Promise.resolve().then(function(){return Ka.encrypt({name:qb.name,iv:new Uint8Array(16)},q.encryptionKey,new Uint8Array(1));}).then(function(g){Q=q.encryptionKey;})["catch"](function(g){H("Error loading encryptionKey");}).then(function(){return Ka.sign(rb,q.hmacKey,new Uint8Array(1));}).then(function(g){da=q.hmacKey;B();})["catch"](function(g){H("Error loading hmacKey");})):H("Persisted store is corrupt");}({result:function(g){B(g,r);},timeout:r.timeout,error:r.error});}});df={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};fc="$netflix$msl$wrapsys";ff=bf.extend({init:function(g,l,q,r,H,L){var B,Z;B=new lc([Ob.LZW]);Z=new Qe();Z.addPublicKey(l,q);r[Sa.RSA]=new Pe(Z);l={};l[eb.EMAIL_PASSWORD]=new Ze();l[eb.NETFLIXID]=new Ye();l[eb.MDX]=new we();l[eb.SSO]=new $e();l[eb.SWITCH_PROFILE]=new af();g={_mslCryptoContext:{value:new Ne(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:B,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:H,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:r,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:l,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:L,writable:!1,enumerable:!1,configurable:!1},_store:{value:g,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},getTime:function(){return Date.now();},getRandom:function(){return new Id();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(g,l){l.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(g){return this._entityAuthFactories[g];},getUserAuthenticationFactory:function(g){return this._userAuthFactories[g];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(g){return this._keyExchangeFactories.filter(function(l){return l.scheme==g;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});zd=qe.extend({init:function(g,l,q,r){this._log=g;this._mslContext=l;this._mslRequest=q;this._keyRequestData=r;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(g,l,r,H){var B,L;B=this._mslRequest;L=this._mslContext;q(H,function(){var l,q;if(g||!B.shouldSendUserAuthData)return null;if(B.token){B.email?l=new ye(B.email,B.password):B.netflixId&&(l=new ze(B.netflixId,B.secureNetflixId));q="undefined"===typeof B.profileGuid?null:B.profileGuid;return new qc(B.mechanism,Wa(B.token),l,q);}return B.email?new oc(B.email,B.password):B.netflixId?new Wb(B.netflixId,B.secureNetflixId):B.mdxControllerToken?(l=new pc("regpairrequest",B.mdxNonce,B.mdxEncryptedPinB64,B.mdxSignature).getEncoding(),new ec(L,B.mdxPin,B.mdxControllerToken,l,B.mdxSignature)):B.useNetflixUserAuthData?new Wb():B.profileGuid?(l=B.userId,l=L.getMslStore().userIdTokens[l],new rc(l,B.profileGuid)):r&&B.sendUserAuthIfRequired?new Wb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(g){g.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(g,l,q){var r,B,H,L,Z,Q;r=this._log;B=(this._mslRequest.serviceTokens||[]).slice();H=this._mslContext;l=H.getMslStore();L=g.builder.getMasterToken();Z=this.getUserId();Q=l.getUserIdToken(Z);(function ga(){var l;l=B.shift();if(l)try{l instanceof Ib?(g.addPrimaryServiceToken(l),ga()):Jc(H,l,L,Q,null,{result:function(l){try{g.addPrimaryServiceToken(l);}catch(jd){r.warn("Exception adding service token",""+jd);}ga();},timeout:function(){r.warn("Timeout parsing service token");ga();},error:function(g){r.warn("Error parsing service token",""+g);ga();}});}catch(Db){r.warn("Exception processing service token",""+Db);ga();}else q.result(!0);}());},write:function(g,l,q){var r;r=Wa(this._mslRequest.body);g.write(r,0,r.length,l,{result:function(B){B!=r.length?q.error(new Za("Not all data was written to output.")):g.flush(l,{result:function(){q.result(!0);},timeout:function(){q.timeout();},error:function(g){q.error(g);}});},timeout:function(){q.timeout();},error:function(g){q.error(g);}});},getDebugContext:function(){this._dc||(this._dc=new gf(this._log,this._mslRequest));return this._dc;}});gf=Xe.extend({init:function(g,l){this._log=g;this._mslRequest=l;},sentHeader:function(g){this._log.trace("Sent MSL header",yd(this._mslRequest,g),g.serviceTokens&&g.serviceTokens.map(Je).join("\n"));},receivedHeader:function(g){var l,q;l=yd(this._mslRequest,g);q=g.errorCode;q?this._log.warn("Received MSL error header",l,{errorCode:q,errorMessage:g.errorMessage,internalCode:g.internalCode}):this._log.trace("Received MSL header",l);}});Ee={PSK:function(g){return Tc(g,Sa.PSK,cf,sb,kd,Hc);},MGK:function(g){return Tc(g,Sa.MGK,De,mb,kd,Hc);},MGK_WITH_FALLBACK:function(l){var q,r;switch(l.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":case"GOOGEST001":case"GOOGNEW001":q="PSK";break;default:q="MGK";}r=Ee[q];if(!r)throw new H(g.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+q);return r(l);},MGK_JWE:function(g){return Tc(g,Sa.MGK,De,mb,Ud,id);},JWK_RSA:function(g){return Uc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ic.JWK_RSA);},JWK_RSAES:function(g){return Uc(g,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Ic.JWK_RSAES);},JWEJS_RSA:function(g){return Uc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Ic.JWEJS_RSA);}};L.netflix=L.netflix||{};L.netflix.msl={createMslClient:function(l,q){var r,L,Z,ea,Q;r=l.log;Q=l.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Ua&&Ua.generateKey&&Ua.importKey&&Ua.unwrapKey))throw new H(g.INTERNAL_EXCEPTION,"No WebCrypto");fb=Ua.generateKey({name:"AES-CBC",length:128},!0,Fb).then?yc.V2014_02:yc.LEGACY;Q("mslisik");return Ka.importKey("spki",l.serverIdentityKeyData,Jd,!1,["verify"]);}).then(function(l){return new Promise(function(q,r){Nb(l,{result:q,error:function(){r(new H(g.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(q){L=q;if(q=Ee[l.authenticationType])return Q("mslcc"),q(l);throw new H(g.INTERNAL_EXCEPTION,"Invalid authenticationType: "+l.authenticationType);}).then(function(g){var q;Z=new ef(r,l.esn,g.keyRequestData,g.createKeyRequestData,l.authenticationKeyNames.s,l.systemKeyWrapFormat);ea=new ff(Z,l.serverIdentityId,L,g.entityAuthFactories,g.entityAuthData,g.keyExchangeFactories);q=l.storeState;if(q)return Q("mslss"),r.info("Loading store state"),new Promise(function(g,r){Z.loadStoreState(l,ea,q,{result:g,timeout:g,error:g});});r.info("No store state, starting fresh");}).then(function(){var g;g=new re();Q("msldone");q.result(new Ke(r,g,ea,Z,l.ErrorSubCodes));})["catch"](function(g){q.error(g);});},IHttpLocation:Te,MslIoException:Za};(function(){var va,pa,Ea;function g(){g=function(){};pa.Symbol||(pa.Symbol=l);}function l(d){return"jscomp_symbol_"+(d||"")+Ea++;}function q(){var d;g();d=pa.Symbol.iterator;d||(d=pa.Symbol.iterator=pa.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&va(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return r(this);}});q=function(){};}function r(d){var c;c=0;return H(function(){return c<d.length?{done:!1,value:d[c++]}:{done:!0};});}function H(d){q();d={next:d};d[pa.Symbol.iterator]=function(){return this;};return d;}function Q(d){var c;q();g();q();c=d[Symbol.iterator];return c?c.call(d):r(d);}function da(d,c){var h;function a(){}a.prototype=c.prototype;d.prototype=new a();d.prototype.constructor=d;for(var b in c)if(Object.defineProperties){h=Object.getOwnPropertyDescriptor(c,b);h&&Object.defineProperty(d,b,h);}else d[b]=c[b];}function fa(d){if(!(d instanceof Array)){d=Q(d);for(var c,a=[];!(c=d.next()).done;)a.push(c.value);d=a;}return d;}function ha(d,c){var a,h;if(c){a=pa;d=d.split(".");for(var b=0;b<d.length-1;b++){h=d[b];h in a||(a[h]={});a=a[h];}d=d[d.length-1];b=a[d];c=c(b);c!=b&&null!=c&&va(a,d,{configurable:!0,writable:!0,value:c});}}function ka(d,c){return Object.prototype.hasOwnProperty.call(d,c);}function ga(d,c){var a,b;q();d instanceof String&&(d+="");a=0;b={next:function(){var h;if(a<d.length){h=a++;return{value:c(h,d[h]),done:!1};}b.next=function(){return{done:!0,value:void 0};};return b.next();}};b[Symbol.iterator]=function(){return b;};return b;}function na(d,c,a){if(null==d)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return d+"";}function ra(d,c,a){var n;d instanceof String&&(d=String(d));for(var b=d.length,h=0;h<b;h++){n=d[h];if(c.call(a,n,h,d))return{Bj:h,L0:n};}return{Bj:-1,L0:void 0};}va="function"==typeof Object.defineProperties?Object.defineProperty:function(d,c,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[c]=a.value);};pa="undefined"!=typeof L&&L===this?this:"undefined"!=typeof global&&null!=global?global:this;Ea=0;ha("Object.setPrototypeOf",function(d){return d?d:"object"!=typeof"".__proto__?null:function(c,a){c.__proto__=a;if(c.__proto__!==a)throw new TypeError(c+" is not extensible");return c;};});ha("Object.assign",function(d){return d?d:function(c,a){var h;for(var b=1;b<arguments.length;b++){h=arguments[b];if(h)for(var n in h)ka(h,n)&&(c[n]=h[n]);}return c;};});ha("Object.getOwnPropertySymbols",function(d){return d?d:function(){return[];};});ha("Promise",function(d){var b,h;function c(a){var h;this.aP=0;this.nga=void 0;this.NN=[];h=this.F8();try{a(h.resolve,h.reject);}catch(f){h.reject(f);}}function a(){this.Bw=null;}if(d)return d;a.prototype.Ota=function(a){null==this.Bw&&(this.Bw=[],this.P6a());this.Bw.push(a);};a.prototype.P6a=function(){var a;a=this;this.Pta(function(){a.bfb();});};b=pa.setTimeout;a.prototype.Pta=function(a){b(a,0);};a.prototype.bfb=function(){var a,f;for(;this.Bw&&this.Bw.length;){a=this.Bw;this.Bw=[];for(var h=0;h<a.length;++h){f=a[h];delete a[h];try{f();}catch(k){this.S6a(k);}}}this.Bw=null;};a.prototype.S6a=function(a){this.Pta(function(){throw a;});};c.prototype.F8=function(){var h,f;function a(a){return function(b){f||(f=!0,a.call(h,b));};}h=this;f=!1;return{resolve:a(this.Pxb),reject:a(this.Ufa)};};c.prototype.Pxb=function(a){var h;if(a===this)this.Ufa(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof c)this.eAb(a);else{a:switch(typeof a){case"object":h=null!=a;break a;case"function":h=!0;break a;default:h=!1;}h?this.Oxb(a):this.pya(a);}};c.prototype.Oxb=function(a){var h;h=void 0;try{h=a.then;}catch(f){this.Ufa(f);return;}"function"==typeof h?this.fAb(h,a):this.pya(a);};c.prototype.Ufa=function(a){this.RIa(2,a);};c.prototype.pya=function(a){this.RIa(1,a);};c.prototype.RIa=function(a,h){if(0!=this.aP)throw Error("Cannot settle("+a+", "+h|"): Promise already settled in state"+this.aP);this.aP=a;this.nga=h;this.cfb();};c.prototype.cfb=function(){if(null!=this.NN){for(var a=this.NN,h=0;h<a.length;++h)a[h].call(),a[h]=null;this.NN=null;}};h=new a();c.prototype.eAb=function(a){var h;h=this.F8();a.AU(h.resolve,h.reject);};c.prototype.fAb=function(a,h){var f;f=this.F8();try{a.call(h,f.resolve,f.reject);}catch(k){f.reject(k);}};c.prototype.then=function(a,h){var b,m,t;function f(a,f){return"function"==typeof a?function(f){try{b(a(f));}catch(D){m(D);}}:f;}t=new c(function(a,f){b=a;m=f;});this.AU(f(a,b),f(h,m));return t;};c.prototype["catch"]=function(a){return this.then(void 0,a);};c.prototype.AU=function(a,b){var k;function f(){switch(k.aP){case 1:a(k.nga);break;case 2:b(k.nga);break;default:throw Error("Unexpected state: "+k.aP);}}k=this;null==this.NN?h.Ota(f):this.NN.push(function(){h.Ota(f);});};c.resolve=function(a){return a instanceof c?a:new c(function(h){h(a);});};c.reject=function(a){return new c(function(h,f){f(a);});};c.race=function(a){return new c(function(h,f){for(var b=Q(a),m=b.next();!m.done;m=b.next())c.resolve(m.value).AU(h,f);});};c.all=function(a){var h,f;h=Q(a);f=h.next();return f.done?c.resolve([]):new c(function(a,b){var m,n;function k(f){return function(h){m[f]=h;n--;0==n&&a(m);};}m=[];n=0;do m.push(void 0),n++,c.resolve(f.value).AU(k(m.length-1),b),f=h.next();while(!f.done);});};c.$jscomp$new$AsyncExecutor=function(){return new a();};return c;});ha("Array.prototype.keys",function(d){return d?d:function(){return ga(this,function(c){return c;});};});ha("Math.tanh",function(d){return d?d:function(c){var a;c=Number(c);if(0===c)return c;a=Math.exp(-2*Math.abs(c));a=(1-a)/(1+a);return 0>c?-a:a;};});ha("WeakMap",function(d){var h,n;function c(a){this.BM=(n+=Math.random()+1).toString();if(a){g();q();a=Q(a);for(var f;!(f=a.next()).done;)f=f.value,this.set(f[0],f[1]);}}function a(a){ka(a,h)||va(a,h,{value:{}});}function b(h){var f;f=Object[h];f&&(Object[h]=function(h){a(h);return f(h);});}if(function(){var a,f,h;if(!d||!Object.seal)return!1;try{a=Object.seal({});f=Object.seal({});h=new d([[a,2],[f,3]]);if(2!=h.get(a)||3!=h.get(f))return!1;h["delete"](a);h.set(f,4);return!h.has(a)&&4==h.get(f);}catch(m){return!1;}}())return d;h="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");b("seal");n=0;c.prototype.set=function(b,f){a(b);if(!ka(b,h))throw Error("WeakMap key fail: "+b);b[h][this.BM]=f;return this;};c.prototype.get=function(a){return ka(a,h)?a[h][this.BM]:void 0;};c.prototype.has=function(a){return ka(a,h)&&ka(a[h],this.BM);};c.prototype["delete"]=function(a){return ka(a,h)&&ka(a[h],this.BM)?delete a[h][this.BM]:!1;};return c;});ha("Map",function(d){var n,p;function c(){var a;a={};return a.$u=a.next=a.head=a;}function a(a,h){var f;f=a.pu;return H(function(){if(f){for(;f.head!=a.pu;)f=f.$u;for(;f.next!=f.head;)return f=f.next,{done:!1,value:h(f)};f=null;}return{done:!0,value:void 0};});}function b(a,h){var f,b,k;f=h&&typeof h;"object"==f||"function"==f?n.has(h)?f=n.get(h):(f=""+ ++p,n.set(h,f)):f="p_"+h;b=a.Yt[f];if(b&&ka(a.Yt,f))for(a=0;a<b.length;a++){k=b[a];if(h!==h&&k.key!==k.key||h===k.key)return{id:f,list:b,index:a,se:k};}return{id:f,list:b,index:-1,se:void 0};}function h(a){this.Yt={};this.pu=c();this.size=0;if(a){a=Q(a);for(var h;!(h=a.next()).done;)h=h.value,this.set(h[0],h[1]);}}if(function(){var a,h,b,t;if(!d||!d.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});h=new d(Q([[a,"s"]]));if("s"!=h.get(a)||1!=h.size||h.get({x:4})||h.set({x:4},"t")!=h||2!=h.size)return!1;b=h.entries();t=b.next();if(t.done||t.value[0]!=a||"s"!=t.value[1])return!1;t=b.next();return t.done||4!=t.value[0].x||"t"!=t.value[1]||!b.next().done?!1:!0;}catch(u){return!1;}}())return d;g();q();n=new WeakMap();h.prototype.set=function(a,h){var f;f=b(this,a);f.list||(f.list=this.Yt[f.id]=[]);f.se?f.se.value=h:(f.se={next:this.pu,$u:this.pu.$u,head:this.pu,key:a,value:h},f.list.push(f.se),this.pu.$u.next=f.se,this.pu.$u=f.se,this.size++);return this;};h.prototype["delete"]=function(a){a=b(this,a);return a.se&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.Yt[a.id],a.se.$u.next=a.se.next,a.se.next.$u=a.se.$u,a.se.head=null,this.size--,!0):!1;};h.prototype.clear=function(){this.Yt={};this.pu=this.pu.$u=c();this.size=0;};h.prototype.has=function(a){return!!b(this,a).se;};h.prototype.get=function(a){return(a=b(this,a).se)&&a.value;};h.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};h.prototype.keys=function(){return a(this,function(a){return a.key;});};h.prototype.values=function(){return a(this,function(a){return a.value;});};h.prototype.forEach=function(a,h){for(var f=this.entries(),b;!(b=f.next()).done;)b=b.value,a.call(h,b[1],b[0],this);};h.prototype[Symbol.iterator]=h.prototype.entries;p=0;return h;});ha("Set",function(d){function c(a){this.em=new Map();if(a){a=Q(a);for(var b;!(b=a.next()).done;)this.add(b.value);}this.size=this.em.size;}if(function(){var a,b,h,n;if(!d||!d.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new d(Q([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;h=b.entries();n=h.next();if(n.done||n.value[0]!=a||n.value[1]!=a)return!1;n=h.next();return n.done||n.value[0]==a||4!=n.value[0].x||n.value[1]!=n.value[0]?!1:h.next().done;}catch(p){return!1;}}())return d;g();q();c.prototype.add=function(a){this.em.set(a,a);this.size=this.em.size;return this;};c.prototype["delete"]=function(a){a=this.em["delete"](a);this.size=this.em.size;return a;};c.prototype.clear=function(){this.em.clear();this.size=0;};c.prototype.has=function(a){return this.em.has(a);};c.prototype.entries=function(){return this.em.entries();};c.prototype.values=function(){return this.em.values();};c.prototype[Symbol.iterator]=c.prototype.values;c.prototype.forEach=function(a,b){var h;h=this;this.em.forEach(function(n){return a.call(b,n,n,h);});};return c;});ha("Number.isNaN",function(d){return d?d:function(c){return"number"===typeof c&&isNaN(c);};});ha("String.prototype.includes",function(d){return d?d:function(c,a){return-1!==na(this,c,"includes").indexOf(c,a||0);};});ha("Array.prototype.find",function(d){return d?d:function(c,a){return ra(this,c,a).L0;};});ha("Array.prototype.entries",function(d){return d?d:function(){return ga(this,function(c,a){return[c,a];});};});ha("Array.prototype.values",function(d){return d?d:function(){return ga(this,function(c,a){return a;});};});ha("WeakSet",function(d){function c(a){this.em=new WeakMap();if(a){g();q();a=Q(a);for(var b;!(b=a.next()).done;)this.add(b.value);}}if(function(){var a,b,h;if(!d||!Object.seal)return!1;try{a=Object.seal({});b=Object.seal({});h=new d([a]);if(!h.has(a)||h.has(b))return!1;h["delete"](a);h.add(b);return!h.has(a)&&h.has(b);}catch(n){return!1;}}())return d;c.prototype.add=function(a){this.em.set(a,!0);return this;};c.prototype.has=function(a){return this.em.has(a);};c.prototype["delete"]=function(a){return this.em["delete"](a);};return c;});ha("String.prototype.repeat",function(d){return d?d:function(c){var a;a=na(this,null,"repeat");if(0>c||1342177279<c)throw new RangeError("Invalid count value");c|=0;for(var b="";c;)if(c&1&&(b+=a),c>>>=1)a+=a;return b;};});ha("String.prototype.endsWith",function(d){return d?d:function(c,a){var b;b=na(this,c,"endsWith");c+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var h=c.length;0<h&&0<a;)if(b[--a]!=c[--h])return!1;return 0>=h;};});ha("Array.prototype.findIndex",function(d){return d?d:function(c,a){return ra(this,c,a).Bj;};});ha("String.prototype.startsWith",function(d){return d?d:function(c,a){var b,h,n;b=na(this,c,"startsWith");c+="";h=b.length;n=c.length;a=Math.max(0,Math.min(a|0,b.length));for(var p=0;p<n&&a<h;)if(b[a++]!=c[p++])return!1;return p>=n;};});ha("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ha("Array.prototype.fill",function(d){return d?d:function(c,a,b){var h;h=this.length||0;0>a&&(a=Math.max(0,h+a));if(null==b||b>h)b=h;b=Number(b);0>b&&(b=Math.max(0,h+b));for(a=Number(a||0);a<b;a++)this[a]=c;return this;};});(function(d){var a;function c(b){var h;if(a[b])return a[b].P;h=a[b]={Bj:b,Bnb:!1,P:{}};d[b].call(h.P,h,h.P,c);h.Bnb=!0;return h.P;}a={};c.dTb=d;c.qPb=a;c.d=function(a,h,n){c.$rb(a,h)||Object.defineProperty(a,h,{configurable:!1,enumerable:!0,get:n});};c.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};c.n=function(a){var h;h=a&&a.Vpa?function(){return a["default"];}:function(){return a;};c.d(h,"a",h);return h;};c.$rb=function(a,h){return Object.prototype.hasOwnProperty.call(a,h);};c.p="";return c(c.$Ub=1163);}([function(d,c,a){function b(){b=Object.assign||function(a){for(var h,f=1,b=arguments.length;f<b;f++){h=arguments[f];for(var k in h)Object.prototype.hasOwnProperty.call(h,k)&&(a[k]=h[k]);}return a;};return b.apply(this,arguments);}function h(a,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,h){a.__proto__=h;}||function(a,h){for(var f in h)h.hasOwnProperty(f)&&(a[f]=h[f]);};return h(a,f);}function n(a,f){function b(){this.constructor=a;}h(a,f);a.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b());}function p(a,h){var f,b,k;f={};for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&0>h.indexOf(b)&&(f[b]=a[b]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){k=0;for(b=Object.getOwnPropertySymbols(a);k<b.length;k++)0>h.indexOf(b[k])&&Object.prototype.propertyIsEnumerable.call(a,b[k])&&(f[b[k]]=a[b[k]]);}return f;}function f(a,h,f,b){var k,m,t;k=arguments.length;m=3>k?h:null===b?b=Object.getOwnPropertyDescriptor(h,f):b;if("object"===typeof Reflect&&"function"===typeof Reflect.Sw)m=Reflect.Sw(a,h,f,b);else for(var n=a.length-1;0<=n;n--)if(t=a[n])m=(3>k?t(m):3<k?t(h,f,m):t(h,f))||m;return 3<k&&m&&Object.defineProperty(h,f,m),m;}function k(a,h){return function(f,b){h(f,b,a);};}function m(a,h){if("object"===typeof Reflect&&"function"===typeof Reflect.zd)return Reflect.zd(a,h);}function t(a,h,f,b){return new(f||(f=Promise))(function(k,m){function t(a){try{p(b.next(a));}catch(Aa){m(Aa);}}function n(a){try{p(b["throw"](a));}catch(Aa){m(Aa);}}function p(a){a.done?k(a.value):new f(function(h){h(a.value);}).then(t,n);}p((b=b.apply(a,h||[])).next());});}function u(a,h){var k,m,t,n,p;function f(a){return function(h){return b([a,h]);};}function b(f){if(m)throw new TypeError("Generator is already executing.");for(;k;)try{if(m=1,t&&(n=f[0]&2?t["return"]:f[0]?t["throw"]||((n=t["return"])&&n.call(t),0):t.next)&&!(n=n.call(t,f[1])).done)return n;if(t=0,n)f=[f[0]&2,n.value];switch(f[0]){case 0:case 1:n=f;break;case 4:return k.label++,{value:f[1],done:!1};case 5:k.label++;t=f[1];f=[0];continue;case 7:f=k.kB.pop();k.eC.pop();continue;default:if(!(n=k.eC,n=0<n.length&&n[n.length-1])&&(6===f[0]||2===f[0])){k=0;continue;}if(3===f[0]&&(!n||f[1]>n[0]&&f[1]<n[3]))k.label=f[1];else if(6===f[0]&&k.label<n[1])k.label=n[1],n=f;else if(n&&k.label<n[2])k.label=n[2],k.kB.push(f);else{n[2]&&k.kB.pop();k.eC.pop();continue;}}f=h.call(a,k);}catch(Aa){f=[6,Aa];t=0;}finally{m=n=0;}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0};}k={label:0,E_:function(){if(n[0]&1)throw n[1];return n[1];},eC:[],kB:[]};g();g();q();return p={next:f(0),"throw":f(1),"return":f(2)},"function"===typeof Symbol&&(p[Symbol.iterator]=function(){return this;}),p;}function y(a,h){for(var f in a)h.hasOwnProperty(f)||(h[f]=a[f]);}function E(a){var h,f;g();g();q();h="function"===typeof Symbol&&a[Symbol.iterator];f=0;return h?h.call(a):{next:function(){a&&f>=a.length&&(a=void 0);return{value:a&&a[f++],done:!a};}};}function D(a,h){var f,b,k,m;g();g();q();f="function"===typeof Symbol&&a[Symbol.iterator];if(!f)return a;a=f.call(a);k=[];try{for(;(void 0===h||0<h--)&&!(b=a.next()).done;)k.push(b.value);}catch(oa){m={error:oa};}finally{try{b&&!b.done&&(f=a["return"])&&f.call(a);}finally{if(m)throw m.error;}}return k;}function z(){for(var a=[],h=0;h<arguments.length;h++)a=a.concat(D(arguments[h]));return a;}function G(){for(var a=0,h=0,f=arguments.length;h<f;h++)a+=arguments[h].length;for(var a=Array(a),b=0,h=0;h<f;h++)for(var k=arguments[h],m=0,t=k.length;m<t;m++,b++)a[b]=k[m];return a;}function M(a){return this instanceof M?(this.L0=a,this):new M(a);}function N(a,h,f){var p,c,u;function b(a){p[a]&&(c[a]=function(h){return new Promise(function(f,b){1<u.push([a,h,f,b])||k(a,h);});});}function k(a,h){var f;try{f=p[a](h);f.value instanceof M?Promise.resolve(f.value.L0).then(m,t):n(u[0][2],f);}catch(la){n(u[0][3],la);}}function m(a){k("next",a);}function t(a){k("throw",a);}function n(a,h){(a(h),u.shift(),u.length)&&k(u[0][0],u[0][1]);}g();if(!Symbol.lU)throw new TypeError("Symbol.asyncIterator is not defined.");p=f.apply(a,h||[]);u=[];g();return c={},b("next"),b("throw"),b("return"),c[Symbol.lU]=function(){return this;},c;}function P(a){var f,b;function h(h,k){f[h]=a[h]?function(f){return(b=!b)?{value:M(a[h](f)),done:"return"===h}:k?k(f):f;}:k;}g();q();return f={},h("next"),h("throw",function(a){throw a;}),h("return"),f[Symbol.iterator]=function(){return this;},f;}function W(a){var b,k;function h(h){k[h]=a[h]&&function(b){return new Promise(function(k,m){b=a[h](b);f(k,m,b.done,b.value);});};}function f(a,h,f,b){Promise.resolve(b).then(function(h){a({value:h,done:f});},h);}g();if(!Symbol.lU)throw new TypeError("Symbol.asyncIterator is not defined.");g();b=a[Symbol.lU];g();q();g();return b?b.call(a):(a="function"===typeof E?E(a):a[Symbol.iterator](),k={},h("next"),h("throw"),h("return"),k[Symbol.lU]=function(){return this;},k);}function l(a,h){Object.defineProperty?Object.defineProperty(a,"raw",{value:h}):a.raw=h;return a;}function S(a){var h;if(a&&a.Vpa)return a;h={};if(null!=a)for(var f in a)Object.hasOwnProperty.call(a,f)&&(h[f]=a[f]);h["default"]=a;return h;}function A(a){return a&&a.Vpa?a:{"default":a};}a.r(c);a.d(c,"__extends",function(){return n;});a.d(c,"__assign",function(){return b;});a.d(c,"__rest",function(){return p;});a.d(c,"__decorate",function(){return f;});a.d(c,"__param",function(){return k;});a.d(c,"__metadata",function(){return m;});a.d(c,"__awaiter",function(){return t;});a.d(c,"__generator",function(){return u;});a.d(c,"__exportStar",function(){return y;});a.d(c,"__values",function(){return E;});a.d(c,"__read",function(){return D;});a.d(c,"__spread",function(){return z;});a.d(c,"__spreadArrays",function(){return G;});a.d(c,"__await",function(){return M;});a.d(c,"__asyncGenerator",function(){return N;});a.d(c,"__asyncDelegator",function(){return P;});a.d(c,"__asyncValues",function(){return W;});a.d(c,"__makeTemplateObject",function(){return l;});a.d(c,"__importStar",function(){return S;});a.d(c,"__importDefault",function(){return A;});},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});d=a(37);c.iKb=d;d=a(1148);c.sQ=d.sQ;d=a(83);c.mp=d.mp;c.Bi=d.Bi;c.Ls=d.Ls;d=a(1132);c.rja=d.rja;c.Bc=d.Bc;d=a(1131);c.N=d.N;d=a(1130);c.KJa=d.KJa;d=a(1129);c.hEa=d.hEa;d=a(515);c.l=d.l;c.F2=d.F2;d=a(1128);c.optional=d.optional;d=a(1127);c.Sh=d.Sh;d=a(1126);c.eB=d.eB;d=a(1125);c.pP=d.pP;d=a(1124);c.$Fa=d.$Fa;d=a(517);c.M2=d.M2;d=a(107);c.id=d.id;d=a(95);c.Sw=d.Sw;d=a(512);c.wKa=d.wKa;c.LJa=d.LJa;c.iEa=d.iEa;c.CKa=d.CKa;d=a(149);c.zF=d.zF;a=a(1123);c.eEa=a.eEa;},function(d,c){var a,b;Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Nk=7001]="UNKNOWN";a[a.FZa=7002]="UNHANDLED_EXCEPTION";a[a.jSa=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.Ala=7010]="INIT_ASYNCCOMPONENT";a[a.Sla=7011]="INIT_HTTP";a[a.fSa=7014]="INIT_BADMOVIEID";a[a.vSa=7016]="INIT_NETFLIXID_MISSING";a[a.uSa=7017]="INIT_NETFLIXID_INVALID";a[a.xSa=7018]="INIT_SECURENETFLIXID_MISSING";a[a.Tla=7020]="INIT_PLAYBACK_LOCK";a[a.Ula=7022]="INIT_SESSION_LOCK";a[a.wSa=7029]="INIT_POSTAUTHORIZE";a[a.GJb=7031]="INIT_HEADER_MEDIA";a[a.iJb=7032]="HEADER_MISSING";a[a.hJb=7033]="HEADER_FRAGMENTS_MISSING";a[a.ySa=7034]="INIT_TIMEDTEXT_TRACK";a[a.HJb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.IJb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.TLa=7037]="ASE_SESSION_ERROR";a[a.SLa=7038]="ASE_SEEK_THREW";a[a.ULa=7039]="ASE_SKIPPED_THREW";a[a.rSa=7041]="INIT_CORE_OBJECTS1";a[a.sSa=7042]="INIT_CORE_OBJECTS2";a[a.tSa=7043]="INIT_CORE_OBJECTS3";a[a.DJb=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.xJb=7052]="INIT_COMPONENT_FILESYSTEM";a[a.Kla=7053]="INIT_COMPONENT_STORAGE";a[a.Lla=7054]="INIT_COMPONENT_STORAGELOCK";a[a.yJb=7055]="INIT_COMPONENT_LOGPERSIST";a[a.zJb=7056]="INIT_COMPONENT_NRDDPI";a[a.BJb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.Gla=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.x2=7059]="INIT_COMPONENT_DEVICE";a[a.AJb=7062]="INIT_COMPONENT_NTBA";a[a.Hla=7063]="INIT_COMPONENT_MSL";a[a.hSa=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.Fla=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.Dv=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.CJb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.gSa=7069]="INIT_COMPONENT_ACCOUNT";a[a.lSa=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.nSa=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.oSa=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.pSa=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.qSa=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.kSa=7081]="INIT_COMPONENT_NRDP";a[a.mSa=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.Rla=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.Nla=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.FJb=7085]="INIT_CONGESTION_SERVICE";a[a.Ela=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.Mla=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.Cla=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.Bla=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.EJb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.GC=7091]="INIT_COMPONENT_DRM_CACHE";a[a.iSa=7092]="INIT_COMPONENT_DRM";a[a.Ila=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.Dla=7094]="INIT_COMPONENT_FTL";a[a.Jla=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.Ola=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.Pla=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.Qla=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.eMa=7112]="AUTHORIZE_UNKNOWN";a[a.BTa=7117]="MANIFEST_VERIFY";a[a.lYa=7120]="START";a[a.Oy=7121]="LICENSE";a[a.$Xa=7122]="SECURESTOP";a[a.Qoa=7123]="STOP";a[a.YIb=7124]="FPSAPPDATA";a[a.E2=7125]="KEEPALIVE";a[a.MHb=7126]="DEACTIVATE";a[a.lNb=7127]="SYNC_DEACTIVATE_LINKS";a[a.gGb=7130]="ACTIVATE";a[a.HVa=7131]="PING";a[a.QKb=7133]="NETFLIXID";a[a.xQa=7134]="ENGAGE";a[a.aTa=7135]="LOGIN";a[a.sYa=7136]="SWITCH_PROFILES";a[a.$Sa=7137]="LOGBLOB";a[a.qVa=7138]="PAUSE";a[a.IXa=7139]="RESUME";a[a.Noa=7140]="SPLICE";a[a.WHb=7141]="DOWNLOAD_EVENT";a[a.VMa=7142]="BIND";a[a.pVa=7143]="PAIR";a[a.WMa=7144]="BIND_DEVICE";a[a.KVa=7202]="PLAY_INIT_EXCEPTION";a[a.dKb=7301]="MEDIA_DOWNLOAD";a[a.FLb=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.GLb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.yna=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.QVa=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.zna=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.RVa=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.f3=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";a[a.HLb=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";a[a.Bna=7351]="PLAY_MSE_NOTSUPPORTED";a[a.Ana=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.xna=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.g3=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.i3=7355]="PLAY_MSE_SOURCEADD";a[a.LVa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.VVa=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.MLb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.ELb=7359]="PLAY_MSE_ADDKEY";a[a.PLb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.UVa=7361]="PLAY_MSE_EVENT_ERROR";a[a.h3=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.rR=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.TVa=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.WVa=7365]="PLAY_MSE_GETCURRENTTIME";a[a.XVa=7367]="PLAY_MSE_SETCURRENTTIME";a[a.YVa=7371]="PLAY_MSE_SOURCEAPPEND";a[a.NLb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.bWa=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.aWa=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.$Va=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.OLb=7379]="PLAY_MSE_SOURCE_EOS";a[a.ZVa=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.LLb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.MVa=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.NVa=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.OVa=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.JLb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.SVa=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.ILb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.KLb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.PVa=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.Cna=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.AQa=7400]="EXTERNAL";a[a.qR=7500]="PAUSE_TIMEOUT";a[a.aR=7502]="INACTIVITY_TIMEOUT";a[a.dMa=7510]="AUTHORIZATION_EXPIRED";a[a.OHb=7520]="DECRYPT_AUDIO";a[a.Loa=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.aYa=7601]="SECURE_STOP_KEY_ERROR";a[a.PMb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.zMb=7603]="SECURE_STOP_NCCP_ERROR";a[a.AMb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.OMb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.EMb=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.bYa=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.FMb=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.GMb=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.JMb=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.BMb=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.HMb=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.LMb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.IMb=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.DMb=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.NMb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.KMb=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.CMb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.MMb=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.rQa=7700]="EME_INVALID_KEYSYSTEM";a[a.Jka=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.N1=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.Kka=7703]="EME_GENERATEREQUEST_FAILED";a[a.BQ=7704]="EME_UPDATE_FAILED";a[a.mIb=7705]="EME_KEYSESSION_ERROR";a[a.sQa=7706]="EME_KEYMESSAGE_EMPTY";a[a.Oka=7707]="EME_REMOVE_FAILED";a[a.uQa=7708]="EME_LOAD_FAILED";a[a.oQa=7709]="EME_CREATE_SESSION_FAILED";a[a.AQ=7710]="EME_LDL_RENEWAL_ERROR";a[a.Lka=7711]="EME_INVALID_INITDATA_DATA";a[a.Mka=7712]="EME_INVALID_LICENSE_DATA";a[a.tQa=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.oIb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.Nka=7715]="EME_INVALID_SECURESTOP_DATA";a[a.nQa=7716]="EME_CLOSE_FAILED";a[a.IVa=7800]="PLAYDATA_STORE_FAILURE";a[a.DLb=7801]="PLAYDATA_SEND_FAILURE";a[a.SH=7900]="BRANCH_PLAY_FAILURE";a[a.sC=7901]="BRANCH_QUEUE_FAILURE";a[a.uja=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.VKb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.WKb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.wVa=8100]="PBO_EVENTLOOKUP_FAILURE";a[a.e3=8200]="PLAYGRAPH_ADD_MANIFEST";a[a.JVa=8201]="PLAYGRAPH_SEGMENT_NOT_READY";}(a=c.K||(c.K={})));(function(a){a[a.Nk=1001]="UNKNOWN";a[a.xh=1003]="EXCEPTION";a[a.BSa=1004]="INVALID_DI";a[a.XLa=1011]="ASYNCLOAD_EXCEPTION";a[a.YLa=1013]="ASYNCLOAD_TIMEOUT";a[a.hGb=1015]="ASYNCLOAD_BADCONFIG";a[a.VLa=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.WLa=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.rI=1101]="HTTP_UNKNOWN";a[a.t2=1102]="HTTP_XHR";a[a.oI=1103]="HTTP_PROTOCOL";a[a.nI=1104]="HTTP_OFFLINE";a[a.qI=1105]="HTTP_TIMEOUT";a[a.My=1106]="HTTP_READTIMEOUT";a[a.Cv=1107]="HTTP_ABORT";a[a.p2=1108]="HTTP_PARSE";a[a.pla=1110]="HTTP_BAD_URL";a[a.pI=1111]="HTTP_PROXY";a[a.Ama=1203]="MSE_AUDIO";a[a.Bma=1204]="MSE_VIDEO";a[a.RTa=1250]="MSE_MEDIA_ERR_BASE";a[a.mKb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.pKb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.nKb=1253]="MSE_MEDIA_ERR_DECODE";a[a.qKb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.oKb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.yC=1260]="EME_MEDIA_KEYERR_BASE";a[a.uIb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.pIb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.tIb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.sIb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.rIb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.qIb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.vIb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.qQa=1280]="EME_ERROR_NODRMSESSSION";a[a.pQa=1281]="EME_ERROR_NODRMREQUESTS";a[a.kIb=1282]="EME_ERROR_INDIV_FAILED";a[a.lIb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.wQa=1284]="EME_TIMEOUT_MESSAGE";a[a.vQa=1285]="EME_TIMEOUT_KEYCHANGE";a[a.P1=1286]="EME_UNDEFINED_DATA";a[a.dI=1287]="EME_INVALID_STATE";a[a.nIb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.O1=1289]="EME_EMPTY_DATA";a[a.eI=1290]="EME_TIMEOUT";a[a.KKb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.NKb=1305]="NCCP_PARSEXML";a[a.kWa=1309]="PROCESS_EXCEPTION";a[a.MKb=1311]="NCCP_NETFLIXID_MISSING";a[a.OKb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.HKb=1313]="NCCP_HMAC_MISSING";a[a.GKb=1315]="NCCP_HMAC_MISMATCH";a[a.FKb=1317]="NCCP_HMAC_FAILED";a[a.EKb=1321]="NCCP_CLIENTTIME_MISSING";a[a.DKb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.kla=1331]="GENERIC";a[a.QUa=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.RUa=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.PKb=1341]="NCCP_TRANSACTION";a[a.IKb=1343]="NCCP_INVALID_DRMTYPE";a[a.JKb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.LKb=1345]="NCCP_MISSING_PAYLOAD";a[a.YLb=1346]="PROTOCOL_NOT_INITIALIZED";a[a.XLb=1347]="PROTOCOL_MISSING_FIELD";a[a.WLb=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.Rv=1402]="STORAGE_NODATA";a[a.WMb=1403]="STORAGE_EXCEPTION";a[a.dNb=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.eNb=1407]="STORAGE_QUOTA_TO_SMALL";a[a.Soa=1411]="STORAGE_LOAD_ERROR";a[a.oYa=1412]="STORAGE_LOAD_TIMEOUT";a[a.Toa=1414]="STORAGE_SAVE_ERROR";a[a.rYa=1415]="STORAGE_SAVE_TIMEOUT";a[a.G3=1417]="STORAGE_DELETE_ERROR";a[a.Roa=1418]="STORAGE_DELETE_TIMEOUT";a[a.cNb=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.$Mb=1423]="STORAGE_FS_GETDIRECTORY";a[a.bNb=1425]="STORAGE_FS_READENTRIES";a[a.XMb=1427]="STORAGE_FS_FILEREAD";a[a.ZMb=1429]="STORAGE_FS_FILEWRITE";a[a.YMb=1431]="STORAGE_FS_FILEREMOVE";a[a.aNb=1432]="STORAGE_FS_PARSEJSON";a[a.qYa=1451]="STORAGE_NO_LOCALSTORAGE";a[a.pYa=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.bLb=1501]="NTBA_UNKNOWN";a[a.aLb=1502]="NTBA_EXCEPTION";a[a.XKb=1504]="NTBA_CRYPTO_KEY";a[a.ZKb=1506]="NTBA_CRYPTO_OPERATION";a[a.YKb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.$Kb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.eka=1553]="DEVICE_NO_ESN";a[a.C1=1555]="DEVICE_ERROR_GETTING_ESN";a[a.Fna=1603]="PLUGIN_LOAD_MISSING";a[a.Dna=1605]="PLUGIN_LOAD_ERROR";a[a.Gna=1607]="PLUGIN_LOAD_TIMEOUT";a[a.Ena=1609]="PLUGIN_LOAD_EXCEPTION";a[a.fWa=1625]="PLUGIN_EXCEPTION";a[a.cWa=1627]="PLUGIN_CALLBACK_ERROR";a[a.dWa=1629]="PLUGIN_CALLBACK_TIMEOUT";a[a.YQa=1701]="FORMAT_UNKNOWN";a[a.cla=1713]="FORMAT_XML";a[a.ZQa=1715]="FORMAT_XML_CONTENT";a[a.XQa=1721]="FORMAT_BASE64";a[a.DQ=1723]="FORMAT_DFXP";a[a.SRa=1801]="INDEXDB_OPEN_EXCEPTION";a[a.yla=1802]="INDEXDB_NOT_SUPPORTED";a[a.RRa=1803]="INDEXDB_OPEN_ERROR";a[a.zla=1804]="INDEXDB_OPEN_NULL";a[a.QRa=1805]="INDEXDB_OPEN_BLOCKED";a[a.TRa=1807]="INDEXDB_OPEN_TIMEOUT";a[a.PRa=1808]="INDEXDB_INVALID_STORE_STATE";a[a.bR=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.aUa=1901]="MSL_UNKNOWN";a[a.UTa=1911]="MSL_INIT_NO_MSL";a[a.Dma=1913]="MSL_INIT_ERROR";a[a.VTa=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.STa=1931]="MSL_ERROR";a[a.$Ta=1933]="MSL_REQUEST_TIMEOUT";a[a.ZTa=1934]="MSL_READ_TIMEOUT";a[a.TTa=1935]="MSL_ERROR_HEADER";a[a.rKb=1936]="MSL_ERROR_ENVELOPE";a[a.sKb=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.Cma=1957]="MSL_ERROR_REAUTH";a[a.Y3=2103]="WEBCRYPTO_MISSING";a[a.ZZa=2105]="WEBCRYPTOKEYS_MISSING";a[a.$Za=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.nHb=2200]="CACHEDDATA_PARSEJSON";a[a.Gja=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.oHb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.wv=2203]="CACHEDDATA_INVALID_FORMAT";a[a.eGb=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.fGb=3001]="ACCOUNT_INVALID";a[a.VHb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.UHb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.SHb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.THb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.RHb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.fNb=3300]="STORAGE_VA_LOAD_ERROR";a[a.gNb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.jNb=3302]="STORAGE_VA_SAVE_ERROR";a[a.kNb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.hNb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.iNb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.b3=3077]="PBO_DEVICE_EOL_WARNING";a[a.qna=3078]="PBO_DEVICE_EOL_FINAL";a[a.tna=3100]="PBO_DEVICE_RESET";a[a.sna=3101]="PBO_DEVICE_RELOAD";a[a.rna=3102]="PBO_DEVICE_EXIT";a[a.DVa=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.rVa=5005]="PBO_ACCOUNT_ON_HOLD";a[a.vVa=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.una=5007]="PBO_INCORRECT_PIN";a[a.BVa=5008]="PBO_MOBILE_ONLY";a[a.EVa=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";a[a.xVa=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.tVa=5059]="PBO_BLACKLISTED_IP";a[a.sVa=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.uVa=5080]="PBO_CHOICE_MAP_ERROR";a[a.CVa=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.zVa=5091]="PBO_MALFORMED_REQUEST";a[a.yVa=5092]="PBO_INVALID_SERVICE_VERSION";a[a.AVa=5093]="PBO_MDX_INVALID_CTICKET";a[a.JOa=5100]="DECODER_TIMEOUT_BUFFERING";a[a.KOa=5101]="DECODER_TIMEOUT_PRESENTING";a[a.EPa=5200]="DOWNLOADER_IO_ERROR";a[a.tja=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.aNa=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.CGb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.l1=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.YMa=5304]="BRANCHING_ASE_FAILURE";a[a.zGb=5305]="BRANCHING_MOMENT_FAILURE";a[a.ZMa=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.BGb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.bNa=5308]="BRANCHING_SEEK_THREW";a[a.AGb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.$Ma=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.cNa=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.dNa=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";a[a.NLa=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";a[a.MLa=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";}(b=c.G||(c.G={})));(function(a){a[a.NGb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.DGb=5005]="BR_ACCOUNT_ON_HOLD";a[a.HGb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.KGb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.GGb=5059]="BR_BLACKLISTED_IP";a[a.EGb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.LGb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.IGb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.MGb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.JGb=2207]="BR_ENDPOINT_ERROR";a[a.FGb=2208]="BR_AUTHORIZATION_ERROR";}(c.PQa||(c.PQa={})));c.v2={iNa:"400",QNb:"401",Ina:"413"};c.P2={WIb:1,FNb:2,yIb:3,PNb:4,XJb:5,xIb:6,U3:7,zQa:8,oMb:9,TMb:10};(function(a){a[a.BLb=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.CLb=98]="PAIRING_UNKNOWN_ERROR";}(c.pUa||(c.pUa={})));c.FIb=function(a){return 7100<=a&&7200>a;};c.NQa=function(b){return b==a.qR||b==a.aR;};c.RQa=function(a){return 1100<=a&&1199>=a;};c.HIb=function(a){return 1300<=a&&1399>=a;};c.GIb=function(a){return 1900<=a&&1999>=a;};c.Xka=function(a,b){return 1<=a&&9>=a?b+a:b;};c.SQa=function(a){return c.Xka(a,b.RTa);};c.Yka=function(a){return c.Xka(a,b.yC);};c.op=function(a){var h,p,f;h={};p=a.errorExternalCode||a.Td;f=a.errorDetails||a.lb;h.ErrorSubCode=a.errorSubCode||a.da||b.Nk;p&&(h.ErrorExternalCode=p);f&&(h.ErrorDetails=f);return h;};},function(d,c,a){var n;function b(a){return n.RR.apply(this,arguments)||this;}function h(a){return new n.Hq(a,c.ha);}Object.defineProperty(c,"__esModule",{value:!0});n=a(511);da(b,n.RR);c.KNb=b;c.ATb=function(a){return new n.Hq(a,c.NC);};c.Lub=function(a){return new n.Hq(a*c.Im.df,c.NC);};c.Ib=h;c.rh=function(a){return new n.Hq(a,c.Im);};c.QY=function(a){return new n.Hq(a,c.Xma);};c.hSb=function(a){return new n.Hq(a,c.IRa);};c.timestamp=function(a){return h(a);};c.NC=new b(1,"\u03bcs");c.ha=new b(1E3,"ms",c.NC);c.Im=new b(1E3*c.ha.df,"s",c.NC);c.Xma=new b(60*c.Im.df,"min",c.NC);c.IRa=new b(60*c.Xma.df,"hr",c.NC);c.xe=h(0);},function(d){d.P={EM:function(c){for(var a in c)c.hasOwnProperty(a)&&(this[a]=c[a]);},reset:function(){}};},function(d,c,a){var b,h,n,p,f,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(518);d=a(8);h=a(32);n=a(104);p=a(105);f=a(41);k=a(20);m=a(60);c.Th=b.ed.get(n.gz);c.K0=c.Th.encode.bind(c.Th);c.HP=c.Th.decode.bind(c.Th);c.ei=b.ed.get(p.Dy);c.$Ob=c.ei.encode.bind(c.ei);c.ZOb=c.ei.decode.bind(c.ei);c.cua=c.ei.aM.bind(c.ei);c.aPb=c.ei.iKa.bind(c.ei);c.Lc=b.ed.get(f.Rj);c.Et=function(a){a=k.ee(a)?c.HP(a):a;return c.Lc.encode(a);};c.Ym=c.Lc.decode.bind(c.Lc);c.H7a=function(a){return c.K0(c.Ym(a));};c.YYa=a(562);c.rF=function(){return b.ed.get(h.I1);};c.cg=b.ed.get(d.Cb);c.log=c.cg.wb("General");c.Jg=function(a,f){return c.cg.wb(a,void 0,f);};c.fh=function(a,f){return c.cg.wb(f,a,void 0);};c.vW=function(a,f,b,k){return c.cg.wb(a,void 0,k,f,b);};c.dXa=function(a,f){return b.ed.get(m.yl)(a,f,void 0).mia();};c.$=b.ed;},function(d){var c;c={ma:function(a){return"number"===typeof a;},uf:function(a){return"object"===typeof a;},ee:function(a){return"string"===typeof a;},U:function(a){return"undefined"===typeof a;},umb:function(a){return"boolean"===typeof a;},Tb:function(a){return"function"===typeof a;},Oa:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,b){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,b);},Ysb:function(a){var b,h;h=[];if(!c.uf(a))throw new TypeError("Object.pairs called on non-object");for(b in a)a.hasOwnProperty(b)&&h.push([b,a[b]]);return h;}};c.Sd=c.forEach=function(a,b,h){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var n=0,p=a.length;n<p;n++)b.call(h,a[n],n,a);else for(n in a)c.has(a,n)&&b.call(h,a[n],n,a);return a;};d.P=c;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=function(a){function h(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(h,a);return h;}(Error);c.assert=function(a,b){if(!a)throw new h(b||"Assertion failed");};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.Di||(c.Di={});d[d.WQa=0]="FATAL";d[d.ERROR=1]="ERROR";d[d.X3=2]="WARN";d[d.w2=3]="INFO";d[d.ppa=4]="TRACE";d[d.yb=5]="DEBUG";c.qma="LogFieldBuilderFactorySymbol";c.Cb="LoggerFactorySymbol";c.yQ={};},function(d,c,a){var b,h,n,p;b=a(82);h=a(1104);n=a(265);p=a(1103);d=function(){function a(a){this.Ys=!1;a&&(this.Hg=a);}a.prototype.wg=function(f){var b;b=new a();b.source=this;b.jB=f;return b;};a.prototype.subscribe=function(a,f,b){var k;k=this.jB;a=h.MCb(a,f,b);k?k.call(a,this.source):a.add(this.source||!a.sl?this.Hg(a):this.h6(a));if(a.sl&&(a.sl=!1,a.VB))throw a.WB;return a;};a.prototype.h6=function(a){try{return this.Hg(a);}catch(m){a.VB=!0;a.WB=m;a.error(m);}};a.prototype.forEach=function(a,f){var k;k=this;f||(b.root.az&&b.root.az.config&&b.root.az.config.Promise?f=b.root.az.config.Promise:b.root.Promise&&(f=b.root.Promise));if(!f)throw Error("no Promise impl found");return new f(function(f,b){var m;m=k.subscribe(function(f){if(m)try{a(f);}catch(z){b(z);m.unsubscribe();}else a(f);},b,f);});};a.prototype.Hg=function(a){return this.source.subscribe(a);};a.prototype[n.observable]=function(){return this;};a.prototype.Ttb=function(){for(var a=[],f=0;f<arguments.length;f++)a[f-0]=arguments[f];return 0===a.length?this:p.Utb(a)(this);};a.prototype.sP=function(){var a,f;f=this;a||(b.root.az&&b.root.az.config&&b.root.az.config.Promise?a=b.root.az.config.Promise:b.root.Promise&&(a=b.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,b){var k;f.subscribe(function(a){return k=a;},function(a){return b(a);},function(){return a(k);});});};a.create=function(f){return new a(f);};return a;}();c.Ba=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d="undefined"===typeof L?{}:L;c.ej=d.navigator||{};c.Fm=c.ej.userAgent;c.V2=d.location;c.Fs=d.screen;c.Es=d.performance;c.ne=d.document||{};c.SKb=c.ne.documentElement;c.zw=Array.prototype;c.sort=c.zw.sort;c.map=c.zw.map;c.slice=c.zw.slice;c.every=c.zw.every;c.reduce=c.zw.reduce;c.filter=c.zw.filter;c.forEach=c.zw.forEach;c.pop=c.zw.pop;c.MI=Object.create;c.iVa=Object.keys;c.wQ=Date.now;c.VYa=String.fromCharCode;c.Ty=Math.floor;c.nUa=Math.ceil;c.Ei=Math.round;c.Mn=Math.max;c.rp=Math.min;c.BI=Math.random;c.AI=Math.abs;c.Kma=Math.pow;c.oUa=Math.sqrt;c.U2=d.escape;c.W2=d.unescape;c.URL=d.URL||d.webkitURL;c.II=d.MediaSource||d.WebKitMediaSource;c.HI=d.WebKitMediaKeys||d.MSMediaKeys||d.MediaKeys;c.Nv=d.nfCrypto||d.webkitCrypto||d.msCrypto||d.crypto;c.po=c.Nv&&(c.Nv.webkitSubtle||c.Nv.subtle);c.T2=d.nfCryptokeys||d.webkitCryptokeys||d.msCryptokeys||d.cryptokeys;try{c.indexedDB=d.indexedDB;}catch(a){c.sSb=a||"noex";}try{c.localStorage=d.localStorage;}catch(a){c.FCa=a||"noex";}},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Pe=function(){};c.JXa=function(){return!0;};c.pd={aa:!0};c.Lk=1E3;c.xMb=86400;c.yMb=604800;c.eKb=1E4;c.fKb=1E7;c.TNb=1.5;c.WJb=.128;c.XMa=7.8125;c.PGb=128;c.Ry=145152E5;c.DTa=1E5;c.Y2="$netflix$player$order";c.RC=-1;c.Z2=1;c.SOa=["en-US"];c.QGb=8;c.ETa=65535;c.SMb=65536;c.gLb=Number.MAX_VALUE;c.M1="playready";c.Eka="widevine";c.jIb="fps";c.iQa="clearkey";c.MC='audio/mp4; codecs="mp4a.40.5"';c.HTa='audio/mp4; codecs="mp4a.40.42"';c.GTa='audio/mp4; codecs="mp4a.a6"';c.Iv='video/mp4; codecs="avc1.640028"';c.hKb='video/mp4; codecs="hev1.2.6.L153.B0"';c.gKb='video/mp4; codecs="dvhe.01000000"';c.gQa="9A04F079-9840-4286-AB92-E65BE0885F95";c.hIb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";c.iIb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";c.dHb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];c.tNa="A2394F52-5A9B-4F14-A244-6C427C648DF4";c.eHb="4E657466-6C69-7846-7261-6D6552617465";c.fHb="8974DBCE-7BE7-4C51-84F9-7148F9882554";c.$Gb="mp4a";c.rNa="enca";c.XGb="ec-3";c.VGb="avc1";c.sNa="encv";c.ZGb="hvcC";c.YGb="hev1";c.WGb="dvhe";c.aHb="vp09";c.J2=0;c.yI=1;c.Eoa="position:relative;width:100%;height:100%;overflow:hidden";},function(d,c,a){var n,p,f,k,m,t,u,y,E,D,g,G,M,N,P,W,l,q;function b(a){return(a=c.config.sDb[h(a)])?a:{};}function h(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";if(0<=a.indexOf("content-sampling"))return"content-sampling";if(0<=a.indexOf("video-merch-bob-horizontal"))return"video-merch-bob-horizontal";if(0<=a.indexOf("mini-modal-horizontal"))return"mini-modal-horizontal";}}Object.defineProperty(c,"__esModule",{value:!0});n=a(11);p=a(40);f=a(5);k=a(31);m=a(18);a(20);t=a(32);u=a(61);y=a(19);a(8);E=a(10);D=a(34);g=a(15);G=a(238);M=a(43);N=a(62);P=a(148);W=a(46);l=a(3);q=a(47);c.d$a=function(a,b){var Oa,B,Ia,ob,bb,H,Va,Kb,Q;function h(a,f){y.Gd(a,function(a,b){g.Tb(b)?f[a]=b.call(void 0,f[a]):g.uf(b)&&(f[a]=f[a]||{},h(b,f[a]));});}function d(a,f,b,k){for(var t=[],h=3;h<arguments.length;++h)t[h-3]=arguments[h];return function(k){g.$b(k)&&(b=k);m.Ra(g.Tb(a));return a.apply(void 0,[].concat([f,b],fa(t)));};}function z(a){a=a.toLowerCase();ob.hasOwnProperty(a)&&(Ia[a]=ob[a],bb[a]=ob[a]);return a;}function Y(a,b,k){var t;a=a.toLowerCase();if(Ia.hasOwnProperty(a)){t=Ia[a];try{t=k?k(t):t;}catch(Oc){t=void 0;}if(void 0!==t)return t;m.Ra(!1);f.log.error("Invalid configuration value. Name: "+a);}return b;}function S(a,f,b,k){return Y(a,f,function(a){g.ee(a)&&(a=y.fe(a));if(g.Fmb(a,b,k))return a;});}function A(a,f,b,k){return Y(a,f,function(a){g.ee(a)&&(a=y.fe(a));if(g.zx(a,b,k))return a;});}function X(a,f,b,k){return Y(a,f,function(a){g.ee(a)&&(a=parseFloat(a));if(g.ma(a,b,k))return a;});}function r(a,f,b){return Y(a,f,function(a){if(b?b.test(a):g.ee(a))return a;});}function R(a,f){return Y(a,f,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function Aa(a,f){return Y(a,f,function(a){if(g.ee(a))return JSON.parse(E.W2(a));if(g.uf(a))return a;});}function ja(a,f,b,k,m,t){var h;a=a.toLowerCase();Ia.hasOwnProperty(a)&&(h=Ia[a]);if(!g.$b(h))return f;if(g.ee(h))if(h[0]!==b)h=k(h);else try{h=JSON.parse(E.W2(h));}catch(gb){h=void 0;}if(void 0===h)return f;for(a=0;a<m.length;a++)if(!m[a](h))return f;return t?t(h):h;}function Fa(a,f,b,k,m){return ja(a,f,"[",function(a){a=a.split("|");for(var f=a.length;f--;)a[f]=y.fe(a[f]);return a;},[function(a){return g.isArray(a)&&0<a.length;},function(a){for(var f=a.length;f--;)if(!g.zx(a[f],b,k))return!1;return!0;},function(a){return void 0===m||a.length>=m;}]);}function Ha(a,f){return ja(a,f,"[",function(a){a=g.isArray(a)?a:a.split("|");for(var f=a.length;f--;)try{a[f]=JSON.parse(E.W2(a[f]));}catch(Oc){a=void 0;break;}return a;},[function(a){return g.isArray(a)&&0<a.length;},function(a){for(var f=a.length;f--;)if(!g.$b(a[f])||!g.uf(a[f]))return!1;return!0;}]);}function la(a,f,b,k){return ja(a,f,"[",function(a){return g.isArray(a)?a:a.split("|");},[function(a){return g.isArray(a)&&0<a.length;},function(a){for(var f=a.length;f--;)if(b?!b.test(a[f]):!g.OA(a[f]))return!1;return!0;},function(a){return void 0===k||a.length>=k;}]);}function Da(a,f,b){return ja(a,f,"{",function(a){var f,k,m;f={};a=a.split(";");for(var b=a.length;b--;){k=a[b];m=k.indexOf(":");if(0>=m)return;f[k.substring(0,m)]=k.substring(m+1);}return f;},[function(a){return g.uf(a)&&0<Object.keys(a).length;},function(a){if(b)for(var f in a)if(!b.test(a[f]))return!1;return!0;}],function(a){var b;b={};y.xb(b,f);y.xb(b,a);return b;});}function Qa(a){var f;f=[];y.Gd(a,function(a,b){var k;try{k="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(b);}catch(Xb){k="cantparse";}f.push(a+"="+k);});return f.join("\n");}Oa=/^[0-9]+[%]?$/;B=/^[0-9]*$/;bb={};H=f.$.get(k.vl);Va=f.$.get(P.RI);(function(b){function k(a){a.split(",").forEach(function(a){var f;f=a.indexOf("=");0<f&&(Ia[a.substring(0,f).toLowerCase()]=a.substring(f+1));});}Ia={};y.xb(Ia,b);a&&a.length&&E.forEach.call(a,function(a){g.ee(a)?k(a):g.uf(a)&&y.xb(Ia,a,{XF:!0});});ob=y.xb({},p.Haa(),{XF:!0});if(b=p.Zvb().cadmiumconfig)f.log.info("Config cookie loaded",b),k(b);if(f.$.get(q.Mk).a6a||Ia.istestaccount)y.xb(Ia,ob),bb=ob;"clearkey"!=r("drmType")||Ia.keysystemid||(Ia.keysystemid=(L.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}(b));c.config={};Kb={Ceb:d(R,z("enableXHEAAC"),!1),G9:d(R,z("enableDDPlus20"),!0),F9:d(R,z("enableDDPlus"),!0),JL:d(R,z("enableDDPlusAtmos"),!1),peb:d(R,z("enableLSSDH"),!0),keb:d(R,z("enableHEVC"),!1),qFa:d(R,z("overrideEnableHEVC"),!1),I9:d(R,z("enableHDR"),!1),pFa:d(R,z("overrideEnableHDR"),!1),FV:d(R,z("enableAVCHigh"),Va.FV),TN:d(R,z("overrideEnableAVCHigh"),Va.TN),Aeb:d(R,z("enableVP9"),!1),rFa:d(R,z("overrideEnableVP9"),!1),geb:d(R,z("enableAV1"),!1),oFa:d(R,z("overrideEnableAV1"),!1),ueb:d(R,z("enablePRK"),!1),leb:d(R,z("enableHWDRM"),!1),neb:d(R,z("enableImageSubs"),!0),CK:d(la,z("audioProfiles"),Va.CK),IQb:d(R,z("disableHD"),!1),P0:d(A,"videoCapabilityDetectorType",t.Ok.Hy),b7:d(A,"audioCapabilityDetectorType",t.Cy.Hy),KH:d(la,z("videoProfiles"),Va.KH),o4a:d(la,z("timedTextProfiles"),Va.ov),ov:function(){return Kb.o4a().filter(function(a){return a===u.Al.D1?Kb.peb():a===u.Al.OC?Kb.neb():!0;});},endpoint:d(R,z("endpoint"),!1),version:d(r,"version","unknown"),DIa:d(R,z("setMediaKeysEarly"),!1),aUb:d(R,z("nrdpPersistCookiesToIndexDB"),!1),Jwa:d(R,z("doNotPerformLdlOnPlaybackCreate"),!1),Kwa:d(R,z("doNotPerformLdlOnPlaybackStart"),!1),eLa:d(R,z("useHdcpLevelOnCast"),!1),meb:d(R,z("enableHdcp"),!1),Ro:d(R,z("prepareCadmium"),!1),V4a:d(R,z("acceptManifestOnPrepareItemParams"),!0),cGa:d(Aa,"ppmconfig",{maxNumberTitlesScheduled:1}),uub:d(R,z("playerPredictionModelV2"),!0),cF:d(R,z("enableLdlPrefetch"),!1),GV:d(R,z("enableGetHeadersAndMediaPrefetch"),!1),wL:d(R,z("deleteCachedManifestOnPlayback"),!1),yL:d(R,z("deleteOtherManifestCacheOnCreate"),!1),xL:d(R,z("deleteOtherLdlCacheOnCreate"),!1),Otb:d(A,z("periodicPrepareLogsIntervalMilliseconds"),36E5),Yub:d(A,z("prepareManifestCacheMaxCount"),50),Wub:d(A,z("prepareLdlCacheMaxCount"),30),fGa:d(A,z("prepareManifestExpiryMilliseconds"),12E5),Xub:d(A,z("prepareLdlExpiryMilliseconds"),78E4),Vub:d(r,z("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),nWb:d(Aa,"videoApp"),ly:d(Aa,"storageRules"),Agb:d(R,"ftlEnabled",!0),Kba:d(A,z("imageSubsResolution"),0),Klb:d(A,z("imageSubsMaxBuffer"),Va.Kpb.ca(W.ss),0),WK:d(R,z("captureBatteryStatus"),!1),bhb:d(A,z("getBatteryApiTimeoutMilliseconds"),5E3),Wd:d(r,z("keySystemId"),Va.Wd),mCa:d(la,z("keySystemList"),void 0,void 0),pqb:d(A,z("hdcpGlobalTimeout1"),1E4),qqb:d(A,z("hdcpGlobalTimeout2"),1E4),BTb:d(A,z("hdcpQueryTimeout1"),1E3),CTb:d(A,z("hdcpQueryTimeout2"),1E3),rqb:d(A,z("hdcpQueryTimeout2"),100),sqb:d(R,z("microsoftHwdrmRequiresHevc"),!1),mqb:d(R,z("microsoftEnableDeviceInfo"),!1),nqb:d(R,z("microsoftEnableHardwareInfo"),!1),oqb:d(R,z("microsoftEnableHardwareReset"),!1),sEb:d(R,z("useHevcCodecForDolbyVision"),!1),Kob:d(R,"logMediaPipelineStatus",!1),sO:d(R,z("renderDomDiagnostics"),!0),MCa:function(){return-1;},WF:d(S,z("logDisplayMaxEntryCount"),Va.WF,-1),Rob:d(S,z("logToConsoleLevel"),-1),gPb:d(S,z("bladerunnerCmdHistorySize"),10),nr:function(){return H.nr;},iEb:d(R,"upgradeNetflixId",!0),Xca:d(R,"logErrorIfEsnNotProvided",!0),S9:d(R,"enforceSinglePlayback",Va.S9),JV:d(R,"enforceSingleSession",Va.JV),b8:d(R,"closeOtherPlaybacks",!0),Q6a:d(A,"asyncLoadTimeout",15E3,1),bpb:d(A,"mainThreadMonitorPollRate",0),$Tb:d(R,"nrdpAlwaysShowUIOverlay",!1),bUb:d(R,"nrdpValidateSSOTokens",!0),uVb:d(R,"showNrdpDebugBadging",!1),S0:function(){return H.S0;},tx:function(){return H.tx;},AE:function(){return H.AE;},fC:function(){return H.fC;},oLa:d(A,z("verbosePlaybackInfoDenominator"),0),d_:d(R,"renderTimedText",!0),Iub:d(R,"preBufferTimedText",!0),sfb:d(R,"fatalOnTimedTextLoadError",!0),aKa:d(Da,"timedTextStyleDefaults",{}),iia:d(Da,"timedTextStyleOverrides",{}),hia:d(Da,"timedTextFontFamilyMapping",Va.hia||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),bKa:d(A,z("timedTextTimeOverride"),0),BH:d(A,"timedTextSimpleFallbackThreshold",Va.BH.ca(W.ss)),P8:d(r,z("customDfxpUrl")),zeb:d(R,z("enableSubtitleTrackerLogging"),!1),azb:d(R,z("sendSubtitleQoeLogblobOnMidplay"),!1),J7:d(Fa,"cdnIdWhiteList",[]),I7:d(Fa,"cdnIdBlackList",[]),E$:d(r,z("forceAudioTrack")),drb:d(R,"muteVolumeOnPlaybackClose",!0),cUb:d(r,"nrdpVolumeControlType","VOLUME_STREAM"),G$:d(r,z("forceTimedTextTrack")),Qpb:d(A,z("maxRetriesTimedTextDownload"),0),yCb:d(A,z("timedTextRetryInterval"),8E3),sBb:d(r,"storageType","idb",/^(none|fs|idb|ls)$/),ICa:d(A,"lockExpiration",1E4),Hob:d(A,"lockRefresh",3E3),P8a:d(R,"captureUnhandledExceptions",!0),Jlb:d(R,"ignoreUnhandledExceptionDuringPlayback",!0),wDb:d(R,"unhandledExceptionsArePlaybackErrors",!1),HKa:d(r,"unhandledExceptionSource",""),fvb:d(R,"preserveLastFrame",!1),Dqb:d(A,"minBufferingTimeInMilliseconds",4E3),yvb:d(A,"progressBackwardsGraceTimeMilliseconds",4E3),zvb:d(A,"progressBackwardsMinPercent",10),S7a:d(r,z("bookmarkIgnoreBeginning"),"0",Oa),T7a:d(r,z("bookmarkIgnoreEnd"),"5%",Oa),U7a:d(r,z("bookmarkIgnoreEndForBranching"),"60000",Oa),bG:d(A,"maxParallelConnections",3),Zfa:d(R,"reportThroughputInLogblobs",!0),hG:d(A,"minAudioMediaRequestDuration",16E3),Bqb:d(A,"minAudioMediaRequestDurationBranching",0),mG:d(A,"minVideoMediaRequestDuration",4E3),Hqb:d(A,"minVideoMediaRequestDurationAL1",0),Iqb:d(A,"minVideoMediaRequestDurationBranching",0),JY:d(A,"minAudioMediaRequestSizeBytes",0),OY:d(A,"minVideoMediaRequestSizeBytes",0),Rdb:d(R,"droppedFrameRateFilterEnabled",!1),Sdb:d(A,"droppedFrameRateFilterMaxObservation",60,10,1E3),Udb:d(function(a,f,b,k,m,t){return ja(a,f,"[",function(a){a=a.split(";");for(var f=a.length;f--;){a[f]=a[f].split("|");for(var b=a[f].length;b--;)a[f][b]=y.fe(a[f][b]);}return a;},[function(a){return g.isArray(a)&&0<a.length;},function(a){for(var f=a.length;f--&&void 0!==a;){if(!g.isArray(a[f]))return!1;for(var m=a[f].length;m--;)if(!g.zx(a[f][m],b,k))return!1;}return!0;},function(a){if(void 0!==m)for(var f=a.length;f--;)if(m!==a[f].length)return!1;return!0;},function(a){return void 0===t||a.length>=t;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),QQb:d(R,"droppedFrameRateFilterWithoutRebufferEnabled",!0),Tdb:d(A,"droppedFrameRateFilterMinHeight",384),Vdb:d(Fa,"droppedFramesPercentilesList",[]),tqb:d(R,"microsoftScreenSizeFilterEnabled",!1),rDb:d(R,"uiLabelFilterEnabled",!0),qDb:d(Aa,"uiLabelFilter",{}),Ccb:d(A,z("defaultVolume"),100,0,100),Ewa:d(R,"disableVideoRightClickMenu",!1),Eqb:d(A,"minDecoderBufferMilliseconds",1E3,0,n.Ry),oZ:d(A,"optimalDecoderBufferMilliseconds",5E3,0,n.Ry),hFa:d(A,"optimalDecoderBufferMillisecondsBranching",3E3,0,n.Ry),PY:d(A,"minimumTimeBeforeBranchDecision",3E3,0,n.Ry),vY:d(A,"maxDecoderBufferMilliseconds",Va.vY.ca(l.ha),0,n.Ry),dwa:d(A,"decoderTimeoutMilliseconds",1E4,1),pdb:d(R,"disgardMediaOnAppend",!1),k6a:d(R,"appendMediaBeforeInit",!1),ztb:d(A,"pauseTimeoutLimitMilliseconds",18E5),Nba:d(A,"inactivityMonitorInterval",3E4,0),T4a:d(Fa,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),dF:d(R,"enableTrickPlay",!1),P5a:d(Fa,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),fDb:d(A,"trickPlayHighResolutionBitrateThreshold",1E3),gDb:d(A,"trickPlayHighResolutionThresholdMilliseconds",1E4),jDb:d(X,"trickplayBufferFactor",.5),eDb:d(A,"trickPlayDownloadRetryCount",1),tda:d(r,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),gea:d(r,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),ula:d(Aa,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),pDa:d(S,"maxIQRSamples",Infinity),PDa:d(S,"minIQRSamples",5),iLa:d(R,"useResourceTimingAPI",!1),Hlb:d(R,"ignoreFirstByte",!0),eqb:d(R,"mediaRequestAsyncLoadStart",!0),AEb:d(R,"useXHROnLoadStart",!1),h$:d(Fa,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),MU:d(A,"connectTimeoutMilliseconds",8E3,500),nea:d(A,"noProgressTimeoutMilliseconds",8E3,500),vEb:d(R,"useOnLineApi",!1),$Ja:d(A,"timedTextDownloadRetryCountBeforeCdnSwitch",3),UTb:d(A,"netflixRequestExpiryTimeout",0),kFb:d(R,"webkitDecodedFrameCountIncorrectlyReported",!1),Eyb:d(A,"seekBackOnAudioTrackChangeMilliseconds",8E3),xtb:d(R,"pausePlaybackOnAudioSwitch",!0),Tha:d(la,z("supportedAudioTrackTypes"),[],void 0,1),pBa:d(A,"initialLogFlushTimeout",5E3),TFa:d(r,"playdataPersistKey",H.nr?"unsentplaydatatest":"unsentplaydata"),Sga:d(R,"sendPersistedPlaydata",!0),qub:d(A,"playdataPersistIntervalMilliseconds",4E3),AUb:d(A,"playdataSendDelayMilliseconds",1E4),D_:d(R,"sendPlaydataBackupOnInit",!0),Nob:d(la,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),vqb:d(R,"midplayEnabled",!0),JDa:d(A,"midplayIntervalMilliseconds",3E5),wqb:d(Fa,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),CL:d(A,"downloadReportDenominator",0),Bdb:d(A,"downloadReportInterval",3E5),LCa:d(A,"logConfigApplyDenominator",0),kua:d(Da,z("bookmarkByMovieId"),{}),YL:d(R,z("forceLimitedDurationLicense"),!1),Ex:d(A,z("licenseRenewalRequestDelay"),0),Uea:d(A,z("persistedReleaseDelay"),1E4),VSb:d(R,z("limitedDurationFlagOverride"),void 0),vi:d(R,z("secureStopEnabled"),!1),nVb:d(R,z("secureStopFromPersistedKeySession"),!1),cIa:d(A,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),Ega:d(A,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),Byb:d(A,z("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),Cyb:d(A,z("secureStopPersistedKeySessionRetries"),17,1),Ayb:d(A,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),OHa:d(A,"safariPlayPauseWorkaroundDelay",100),sFb:d(A,"workaroundValueForSeekIssue",1200),rFb:d(R,"workaroundSaio",!0),F7:d(R,z("callEndOfStream"),Va.F7),Mtb:d(R,"performRewindCheck",!0),ufb:d(R,"fatalOnUnexpectedSeeking",!0),tfb:d(R,"fatalOnUnexpectedSeeked",!0),aAb:d(R,z("setVideoElementSize")),B9a:d(R,z("clearVideoSrc"),!0),swa:d(A,z("delayPlayPause"),0),w7a:d(R,z("avoidSBRemove"),!1),ip:d(R,z("useTypescriptEme"),!1),N9a:d(R,z("combineManifestAndLicense"),!1),FL:d(r,z("drmPersistKey"),"unsentDrmData"),yfa:d(R,z("promiseBasedEme"),!1),O8a:d(R,"captureKeyStatusData",!1),IF:d(R,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),Trb:d(R,z("nudgeSourceBuffer"),!1),Fga:d(S,z("seekDelta"),1),bO:d(R,z("preciseSeeking"),!1),Mub:d(R,z("preciseSeekingOnTwoCoreDevice"),!1),rwa:d(Da,z("delayErrorHandling")),nKa:d(R,"trackingLogEnabled",!1),oKa:d(function(a,f){var b;b=Da(a,f,void 0);b&&Object.keys(b).forEach(function(a){var f;f=b[a];"true"===f?b[a]=!0:"false"===f&&(b[a]=!1);});return b;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),sia:d(r,"trackingLogPath","/customerevents/track/debug"),UCb:d(Fa,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),bh:d(r,"esn",""),Ixa:d(r,"fesn",""),web:d(R,z("enablePerformanceLogging"),!1),H9:d(R,z("enableEmeVerboseLogging"),!1),qeb:d(R,"enableLastChunkLogging",!1),vK:d(r,"appId","",B),sessionId:d(r,"sessionId","",B),L7:d(r,"cdnProxyUrl"),zEb:d(R,"usePlayReadyHeaderObject",!1),gya:d(A,"forceXhrErrorResponseCode",void 0),cu:{OTb:d(r,"mslApiPath","/msl/"),SQb:d(r,z("edgePath"),"/cbp/cadmium-29"),NUb:d(r,"proxyPath",""),zP:d(r,"uiVersion"),x0:d(r,"uiPlatform"),yPb:function(){return"0";},lfa:d(la,"preferredLanguages",n.SOa,/^[a-zA-Z-]{2,5}$/,1),hgb:d(r,z("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),WBb:d(R,"supportPreviewContentPin",!0),XBb:d(R,"supportWatermarking",!0),BAb:d(R,"showAllSubDubTracks",!1),kRb:d(R,z("failOnGuidMismatch"),!1)},QZ:{enabled:d(R,"qcEnabled",!1),jm:d(r,"qcPackageId","")},hp:d(R,"useRangeHeader",!1),KL:d(R,"enableMilestoneEventList",!1),FK:d(r,"authenticationType",H.nr?Va.k7a:Va.FK),Xta:d(Da,"authenticationKeyNames",y.xb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),eCb:d(r,"systemKeyWrapFormat"),Qlb:d(R,"includeNetflixIdUserAuthData",!0),wAb:d(R,"shouldSendUserAuthData",!0),Vga:d(R,"sendUserAuthIfRequired",Va.Vga),rAb:d(R,"shouldClearUserData",!1),Yqb:d(R,"mslDeleteStore",!1),$qb:d(R,"mslPersistStore",!0),B$a:d(R,"correctNetworkForShortTitles",!0),Gub:d(R,"postplayHighInitBitrate",!1),agb:d(R,"flushHeaderCacheOnAudioTrackChange",!0),rfb:d(R,"fatalOnAseStreamingFailure",!0),bCb:d(R,"supportsUnequalizedDownloadables",!0),$va:d(A,z("debugAseDenominator"),100),hU:d(A,"aseAudioBufferSizeBytes",Va.hU.ca(W.ss)),jU:d(A,"aseVideoBufferSizeBytes",Va.jU.ca(W.ss)),Lr:d(A,"minInitVideoBitrate",560),Vda:d(A,"minHCInitVideoBitrate",560),Fu:d(A,"maxInitVideoBitrate",Infinity),xN:d(A,"minInitAudioBitrate",0),wN:d(A,"minHCInitAudioBitrate",0),iN:d(A,"maxInitAudioBitrate",65535),uN:d(A,"minAcceptableVideoBitrate",235),yN:d(A,"minRequiredBuffer",3E4),Mg:d(A,"minPrebufSize",7800),Mfa:d(X,"rebufferingFactor",1),Ko:d(A,"maxBufferingTime",2600),Lia:d(R,"useMaxPrebufSize",!0),Lx:d(A,"maxPrebufSize",45E3),Cda:d(A,"maxRebufSize",Infinity),AX:d(Ha,"initialBitrateSelectionCurve",null),mBa:d(A,"initSelectionLowerBound",560),nBa:d(A,"initSelectionUpperBound",1050),m0:d(A,"throughputPercentForAudio",15),k7:d(A,"bandwidthMargin",10),l7:d(R,"bandwidthMarginContinuous",!1),m7:d(Ha,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),n8:d(A,"conservBandwidthMargin",20),Wha:d(R,"switchConfigBasedOnInSessionTput",!1),dL:d(A,"conservBandwidthMarginTputThreshold",0),o8:d(Ha,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),HJa:d(R,"switchAlgoBasedOnHistIQR",!1),ry:d(r,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Bda:d(S,"maxPlayerStateToSwitchConfig",-1),eda:d(r,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),y2:d(X,"IQRThreshold",.5),Aba:d(r,"histIQRCalcToUse","simple"),Iu:d(A,"maxTotalBufferLevelPerSession",0),VAa:d(A,"highWatermarkLevel",3E4),hKa:d(A,"toStableThreshold",3E4),r0:d(A,"toUnstableThreshold",Va.r0.ca(l.ha)),yha:d(R,"skipBitrateInUpswitch",!0),Tia:d(A,"watermarkLevelForSkipStart",8E3),tba:d(A,"highStreamRetentionWindow",9E4),fda:d(A,"lowStreamTransitionWindow",51E4),vba:d(A,"highStreamRetentionWindowUp",3E5),hda:d(A,"lowStreamTransitionWindowUp",3E5),uba:d(A,"highStreamRetentionWindowDown",6E5),gda:d(A,"lowStreamTransitionWindowDown",0),sba:d(X,"highStreamInfeasibleBitrateFactor",.5),Cu:d(A,"lowestBufForUpswitch",15E3),oY:d(A,"lockPeriodAfterDownswitch",15E3),jda:d(A,"lowWatermarkLevel",25E3),Du:d(A,"lowestWaterMarkLevel",2E4),kda:d(R,"lowestWaterMarkLevelBufferRelaxed",!1),Oda:d(X,"mediaRate",1),BY:d(A,"maxTrailingBufferLen",1E4),BK:d(A,"audioBufferTargetAvailableSize",262144),NP:d(A,"videoBufferTargetAvailableSize",1048576),yDa:d(A,"maxVideoTrailingBufferSize",8388608),kDa:d(A,"maxAudioTrailingBufferSize",393216),TV:d(X,"fastUpswitchFactor",3),j$:d(X,"fastDownswitchFactor",1),Gu:d(A,"maxMediaBufferAllowed",24E4),Ir:d(A,"maxVideoBufferAllowedInBytes",0),vha:d(R,"simulatePartialBlocks",!0),ZIa:d(R,"simulateBufferFull",!0),p8:d(R,"considerConnectTime",!1),m8:d(X,"connectTimeMultiplier",1),UCa:d(A,"lowGradeModeEnterThreshold",12E4),VCa:d(A,"lowGradeModeExitThreshold",9E4),mDa:d(A,"maxDomainFailureWaitDuration",3E4),jDa:d(A,"maxAttemptsOnFailure",18),yxa:d(R,"exhaustAllLocationsForFailure",!0),sDa:d(A,"maxNetworkErrorsDuringBuffering",20),wda:d(A,"maxBufferingTimeAllowedWithNetworkError",6E4),Gxa:d(A,"fastDomainSelectionBwThreshold",2E3),UJa:d(A,"throughputProbingEnterThreshold",4E4),VJa:d(A,"throughputProbingExitThreshold",34E3),HCa:d(A,"locationProbingTimeout",1E4),Kxa:d(A,"finalLocationSelectionBwThreshold",1E4),SJa:d(X,"throughputHighConfidenceLevel",.75),TJa:d(X,"throughputLowConfidenceLevel",.4),ixa:d(R,"enablePerfBasedLocationSwitch",!1),mq:d(R,"probeServerWhenError",!0),tfa:d(A,"probeRequestTimeoutMilliseconds",8E3),zt:d(R,"allowSwitchback",!0),wB:d(A,"probeDetailDenominator",100),wY:d(A,"maxDelayToReportFailure",300),Uca:d(A,"locationStatisticsUpdateInterval",6E4),Dva:d(R,"countGapInBuffer",!1),pta:d(R,"allowCallToStreamSelector",!0),qua:d(A,"bufferThresholdForAbort",1E4),Wea:d(A,"pipelineScheduleTimeoutMs",2),Hu:d(A,"maxPartialBuffersAtBufferingStart",2),Wda:d(A,"minPendingBufferLen",6E3),Kx:d(A,"maxPendingBufferLen",12E3),Opb:d(A,"maxPendingBufferLenAL1",3E4),Dda:d(A,"maxStreamingSkew",4E3),Ada:d(A,"maxPendingBufferPercentage",10),YA:d(A,"maxRequestsInBuffer",60),uDa:d(A,"maxRequestsInBufferAL1",240),vDa:d(A,"maxRequestsInBufferBranching",120),mX:d(A,"headerRequestSize",4096),vN:d(A,"minBufferLenForHeaderDownloading",1E4),l_:d(A,"reserveForSkipbackBufferMs",1E4),yea:d(A,"numExtraFragmentsAllowed",2),Oo:d(R,"pipelineEnabled",!1),dJa:d(A,"socketReceiveBufferSize",0),nU:d(A,"audioSocketReceiveBufferSize",32768),MH:d(A,"videoSocketReceiveBufferSize",65536),qba:d(A,"headersSocketReceiveBufferSize",32768),D0:d(A,"updatePtsIntervalMs",1E3),t7:d(A,"bufferTraceDenominator",100),xE:d(A,"bufferLevelNotifyIntervalMs",2E3),yK:d(A,"aseReportDenominator",0),X6:d(A,"aseReportIntervalMs",3E5),dxa:d(R,"enableAbortTesting",!1),Qsa:d(A,"abortRequestFrequency",8),Oha:d(A,"streamingStatusIntervalMs",2E3),Yu:d(A,"prebufferTimeLimit",24E4),KY:d(A,"minBufferLevelForTrackSwitch",2E3),Rea:d(A,"penaltyFactorForLongConnectTime",2),cda:d(A,"longConnectTimeThreshold",200),G6:d(A,"additionalBufferingLongConnectTime",2E3),H6:d(A,"additionalBufferingPerFailure",8E3),qO:d(A,"rebufferCheckDuration",6E4),hxa:d(R,"enableLookaheadHints",!1),QCa:d(A,"lookaheadFragments",2),mA:d(R,"enableOCSideChannel",!0),oR:d(Aa,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),PKa:d(R,"updateDrmRequestOnNetworkFailure",!1),qwa:d(R,"deferAseScheduling",!1),lDa:d(A,"maxDiffAudioVideoEndPtsMs",16E3),HH:d(R,"useHeaderCache",!0),hV:d(A,"defaultHeaderCacheSize",4),b9:d(A,"defaultHeaderCacheDataPrefetchMs",8E3),mba:d(A,"headerCacheMaxPendingData",6),hea:d(R,"neverWipeHeaderCache",!0),nba:d(A,"headerCachePriorityLimit",5),ML:d(R,"enableUsingHeaderCount",!1),QAa:d(R,"headerCacheTruncateHeaderAfterParsing",!0),$fb:d(R,z("flushHeaderCacheBeforePlayback"),!1),fea:d(A,"networkFailureResetWaitMs",2E3),eea:d(A,"networkFailureAbandonMs",6E4),AY:d(A,"maxThrottledNetworkFailures",3),l0:d(A,"throttledNetworkFailureThresholdMs",200),ida:d(S,"lowThroughputThreshold",400),a$:d(R,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),$Da:d(R,"mp4ParsingInNative",!1),eJa:d(R,"sourceBufferInOrderAppend",!0),Wr:d(R,"requireAudioStreamToEncompassVideo",!0),ota:d(R,"allowAudioToStreamPastVideo",!0),Yf:d(R,"enableManagerDebugTraces",!1),dDa:d(A,"managerDebugMessageInterval",1E3),cDa:d(A,"managerDebugMessageCount",20),EEa:d(R,"notifyManifestCacheEom",!1),s7:d(A,"bufferThresholdToSwitchToSingleConnMs",18E4),r7:d(A,"bufferThresholdToSwitchToParallelConnMs",12E4),yZ:d(A,"periodicHistoryPersistMs",3E5),u_:d(A,"saveVideoBitrateMs",18E4),Cta:d(R,"appendMediaRequestOnComplete",!0),RP:d(R,"waitForDrmToAppendMedia",!1),D$:d(R,z("forceAppendHeadersAfterDrm"),!1),pO:d(R,z("reappendRequestsOnSkip"),!0),hrb:d(A,"netIntrStoreWindow",36E3),Fqb:d(A,"minNetIntrDuration",8E3),nfb:d(A,"fastHistoricBandwidthExpirationTime",10368E3),z7a:d(A,"bandwidthExpirationTime",5184E3),lfb:d(A,"failureExpirationTime",86400),rlb:d(A,"historyTimeOfDayGranularity",4),efb:d(R,"expandDownloadTime",!1),Pqb:d(A,"minimumMeasurementTime",500),Oqb:d(A,"minimumMeasurementBytes",131072),pCb:d(A,"throughputMeasurementTimeout",2E3),dmb:d(A,"initThroughputMeasureDataSize",262144),qCb:d(r,"throughputPredictor","ewma"),oCb:d(A,"throughputMeasureWindow",5E3),sCb:d(A,"throughputWarmupTime",5E3),nCb:d(A,"throughputIQRMeasureWindow",5E3),HSa:d(A,"IQRBucketizerWindow",15E3),f$a:d(A,"connectTimeHalflife",10),Rxb:d(A,"responseTimeHalflife",10),qlb:d(A,"historicBandwidthUpdateInterval",2E3),Mqb:d(A,"minimumBufferToStopProbing",1E4),Cga:d(r,"secondThroughputEstimator","none"),$Ha:d(S,"secondThroughputMeasureWindowInMs",Infinity),jeb:d(la,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),Cfb:d(Aa,"filterDefinitionOverrides",{}),xcb:d(r,"defaultFilter","throughput-ewma"),wyb:d(r,"secondaryFilter","none"),ycb:d(Aa,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),CN:d(R,"needMinimumNetworkConfidence",!0),p7:d(R,"biasTowardHistoricalThroughput",!0),XT:d(R,"addHeaderDataToNetworkMonitor",!1),Gha:d(R,"startMonitorOnLoadStart",!1),Yfa:d(R,"reportFailedRequestsToNetworkMonitor",!1),yda:d(S,"maxFastPlayBufferInMs",Infinity),xda:d(S,"maxFastPlayBitThreshold",Infinity),R6:d(R,"appendFirstHeaderOnComplete",!0),A6a:d(r,"ase_stream_selector","optimized"),Wba:d(r,"initBitrateSelectorAlgorithm","default"),v7:d(r,"bufferingSelectorAlgorithm","default"),awa:d(r,"ase_ls_failure_simulation",""),S8:d(R,"ase_dump_fragments",!1),T8:d(A,"ase_location_history",0),U8:d(A,"ase_throughput",0),cwa:d(R,"ase_simulate_verbose",!1),Cub:d(A,"pollingPeriod",150),zob:d(A,"loadTimeMs",18E4),upb:d(A,"marginTimeMs",1E4),wy:d(R,"useMediaCache",!1),Vw:d(A,"diskCacheSizeLimit",52428800),EY:d(A,"mediaCachePrefetchMs",8E3),Ida:d(Da,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),eaa:d(R,"getDeviceIdFromBindDevice",!1),B6:d(R,"addFailedLogBlobsToQueue",!0),sDb:{"content-sampling":{Ko:d(A,"contentSamplingMaxBufferingTime",3E3),aH:d(r,"contentSamplingSelectStartingVMAFMethod","fallback"),oK:d(R,"contentSamplingActivateSelectStartingVMAF",!0),lG:d(A,"contentSamplingMinStartingVideoVMAF",80)},billboard:{Lr:d(A,"billboardMinInitVideoBitrate",1050),Fu:d(A,"billboardMaxInitVideoBitrate",null),Mg:d(A,"billboardMinPrebufSize",null),Lx:d(A,"billboardMaxPrebufSize",null),Ko:d(A,"billboardMaxBufferingTime",null),Hu:d(A,"billboardMaxPartialBuffersAtBufferingStart",null),Du:d(A,"billboardLowestWaterMarkLevel",6E3),Cu:d(A,"billboardLowestBufForUpswitch",25E3),ry:d(r,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Lr:d(A,"preplayMinInitVideoBitrate",1050),Fu:d(A,"preplayMaxInitVideoBitrate",null),Mg:d(A,"preplayMinPrebufSize",null),Lx:d(A,"preplayMaxPrebufSize",null),Ko:d(A,"preplayMaxBufferingTime",null),Hu:d(A,"preplayMaxPartialBuffersAtBufferingStart",null),Du:d(A,"preplayLowestWaterMarkLevel",6E3),Cu:d(A,"preplayLowestBufForUpswitch",25E3)},embedded:{Lr:d(A,"embeddedMinInitVideoBitrate",1050),Fu:d(A,"embeddedMaxInitVideoBitrate",null),Mg:d(A,"embeddedMinPrebufSize",null),Lx:d(A,"embeddedMaxPrebufSize",null),Ko:d(A,"embeddedMaxBufferingTime",null),Hu:d(A,"embeddedMaxPartialBuffersAtBufferingStart",null),Du:d(A,"embeddedLowestWaterMarkLevel",6E3),Cu:d(A,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Lr:d(A,"videoMerchBobHorizontalMinInitVideoBitrate",null),Fu:d(A,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Mg:d(A,"videoMerchBobHorizontalMinPrebufSize",null),Lx:d(A,"videoMerchBobHorizontalMaxPrebufSize",null),Ko:d(A,"videoMerchBobHorizontalMaxBufferingTime",null),Hu:d(A,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Du:d(A,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Cu:d(A,"videoMerchBobHorizontalLowestBufForUpswitch",null),GP:d(R,"videoMerchBobHorizontalUseNewApi",null)},"mini-modal-horizontal":{Lr:d(A,"miniModalHorizontalMinInitVideoBitrate",null),Fu:d(A,"miniModalHorizontalMaxInitVideoBitrate",null),Mg:d(A,"miniModalHorizontalMinPrebufSize",null),Lx:d(A,"miniModalHorizontalMaxPrebufSize",null),Ko:d(A,"miniModalHorizontalMaxBufferingTime",500),Hu:d(A,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Du:d(A,"miniModalHorizontalLowestWaterMarkLevel",null),Cu:d(A,"miniModalHorizontalLowestBufForUpswitch",null)}},Beb:d(R,"enableVerbosePlaydelayLogging",!1),yeb:d(R,"enableSeamless",!1),zba:d(A,"hindsightDenominator",0),yba:d(A,"hindsightDebugDenominator",0),pX:d(Aa,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),LL:d(R,"enableSessionHistoryReport",!1),E9:d(A,"earlyStageEstimatePeriod",1E4),sCa:d(A,"lateStageEstimatePeriod",3E4),xY:d(A,"maxNumSessionHistoryStored",30),NY:d(A,"minSessionHistoryDuration",3E4),Gr:d(A,"maxActiveRequestsPerSession",3),uY:d(A,"maxActiveRequestsSABCell100",2),yY:d(A,"maxPendingBufferLenSABCell100",500),Qca:d(R,"limitAudioDiscountByMaxAudioBitrate",!0),cr:d(Aa,"browserInfo",{}),m8a:d(A,z("busyGracePeriod"),199),bzb:d(R,z("sendTransitionLogblob"),!0),CV:d(R,z("editAudioFragments"),!1),Zw:d(R,z("editVideoFragments"),!1),aeb:d(R,z("editAudioFragmentsBranching"),!0),Ywa:d(R,z("editVideoFragmentsBranching"),!0),BV:d(R,z("earlyAppendSingleChildBranch"),!0),Rlb:d(R,z("includeSegmentInfoOnLogblobs"),!0),hfb:d(R,"exposeTestData",!1),W8:d(R,"declareBufferingCompleteAtSegmentEnd",!0),Oz:d(R,"applyProfileTimestampOffset",!1),fo:d(R,"applyProfileStreamingOffset",!1),b6a:d(R,z("allowSmallSeekDelta"),!1),MAb:d(A,z("smallSeekDeltaThresholdMilliseconds"),G.E3),heb:d(R,"enableCDMAttestedDescriptors",!1),j_:d(R,"requireDownloadDataAtBuffering",!1),k_:d(R,"requireSetupConnectionDuringBuffering",!1),Pfa:d(R,"recordFirstFragmentOnSubBranchCreate",!1),Z7a:d(R,"branchingAudioTrackFrameDropSmallSeekFix",!0),eya:d(R,"forceL3WidevineCdm",!1),uEb:d(R,"useMobileVMAF",!1),Wcb:d(r,"desiredVMAFTypeMobile","phone_plus_exp"),Xcb:d(r,"desiredVMAFTypeNonMobile","plus_lts"),oK:d(R,"activateSelectStartingVMAF",!1),lG:d(A,"minStartingVideoVMAF",1),N6:d(R,"alwaysNotifyEOSForPlaygraph",!0),K9:d(R,"enableNewAse",!1),GP:d(R,"useNewApi",!1)};Q=!0;c.tva=function(a){var b,k;if(0<c.config.LCa&&0===D.bma%c.config.LCa)try{b=f.$.get(M.Kk);k=f.$.get(N.qp).bn("config","info",{params:a});b.Gc(k);}catch(hf){f.log.error("Failed to log config$apply",hf);}L._cad_global.config=c.config;m.Ra(a);a&&(Ia=y.xb({},a,{XF:!0}),y.xb(Ia,bb,{XF:!0}),h(Kb,c.config),Ia.istestaccount&&f.log.trace("Config applied for",Qa(Q?Ia:a)),Q=!1);};c.tva(Ia);};c.RPb=function(a,f){return g.ee(a)&&"%"==a[a.length-1]?E.Ei(parseFloat(a)*f/100):a|0;};c.c$a=function(a){return a?(a=y.xb({},c.config),y.xb(a,{oZ:c.config.hFa},{Ou:!0})):c.config;};c.SPb=function(a){var f;f=y.xb({},c.config);return y.xb(f,b(a),{Ou:!0});};c.vva=function(f){f=b(f);return y.xb({},a(163)(f),{Ou:!0});};c.uva=function(f,b,k){k=!!k&&(0<=k.indexOf("h264hpl")||0<=k.indexOf("vp9"));f={hG:f?c.config.Bqb:c.config.hG,mG:f?c.config.Iqb:k?c.config.Hqb:c.config.mG,YA:f&&k?Math.max(c.config.vDa,c.config.uDa):f?c.config.vDa:k?c.config.uDa:c.config.YA,Kx:k?c.config.Opb:c.config.Kx,CV:c.config.CV||f&&c.config.aeb,Zw:c.config.Zw||f&&c.config.Ywa,BV:!b};return y.xb({},a(163)(f),{Ou:!0});};c.UPb=b;c.TPb=h;c.QPb="";},function(d,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});(function(a){a.Dob="loadedtracks";a.Cob="loadedmetadata";a.loaded="loaded";a.error="error";a.closed="closed";a.qo="currenttimechanged";a.sua="bufferedtimechanged";a.Wdb="durationchanged";a.$Eb="videosizechanged";a.Atb="pausedchanged";a.Bub="playingchanged";a.Leb="endedchanged";a.z7="busychanged";a.Tta="audiotracklistchanged";a.DK="audiotrackchanged";a.aC="timedtexttracklistchanged";a.CH="timedtexttrackchanged";a.uP="trickplayframeschanged";a.erb="mutedchanged";a.eFb="volumechanged";a.CAb="showsubtitle";a.ixb="removesubtitle";a.jFb="watermark";a.kca="isReadyToTransition";a.HF="inactivated";a.Lyb="segmentmaploaded";a.Myb="segmentpresenting";a.n7a="autoplaywasallowed";a.o7a="autoplaywasblocked";}(c.tb||(c.tb={})));(c.VC||(c.VC={})).GO="playgraphsegmenttransition";c.$la=a;a.qIa="serverTimeChanged";(function(a){a.pE="aseException";a.qE="aseReport";a.l7a="authorized";a.g7="autoplayWasAllowed";a.dk="autoplayWasBlocked";a.E7a="bandwidthMeterAggregateUpdate";a.It="bufferUnderrun";a.closed="closed";a.pf="closing";a.qo="currentTimeChanged";a.Xw="downloadComplete";a.HF="inactivated";a.uCa="licenseAdded";a.$M="licensed";a.Dr="locationSelected";a.ZF="manifestClosing";a.Ho="manifestPresenting";a.jTb="manifestSelected";a.DY="mediaBufferChanged";a.cea="needLicense";a.ZY="nextSegmentChosen";a.An="playbackStart";a.Uo="repositioned";a.dy="repositioning";a.PHa="safePlayRequested";a.Fyb="segmentAborted";a.z_="segmentPresenting";a.oVb="segmentComplete";a.Hyb="segmentLastPts";a.Kyb="segmentStarting";a.fH="serverSwitch";a.WIa="shouldUpdateVideoDiagInfo";a.$i="skipped";a.sH="subtitleError";a.cia="throttledMediaTimeChanged";a.AH="timedTextRebuffer";a.aC="timedTextTrackListChanged";a.uP="trickPlayFramesChanged";a.wP="tryRecoverFromStall";a.fp="updateNextSegmentWeights";a.HEb="userInitiatedPause";a.lLa="userInitiatedResume";}(c.T||(c.T={})));(function(a){a[a.PC=0]="NOTLOADED";a[a.LOADING=1]="LOADING";a[a.od=2]="NORMAL";a[a.CLOSING=3]="CLOSING";a[a.CLOSED=4]="CLOSED";}(c.mb||(c.mb={})));(function(a){a[a.od=1]="NORMAL";a[a.ye=2]="BUFFERING";a[a.Ooa=3]="STALLED";}(c.gf||(c.gf={})));(function(a){a[a.Vf=1]="WAITING";a[a.Jc=2]="PLAYING";a[a.yh=3]="PAUSED";a[a.Eq=4]="ENDED";}(c.jb||(c.jb={})));(function(a){a[a.sI=0]="INITIAL";a[a.Pv=1]="SEEK";a[a.KR=2]="TRACK_CHANGED";a[a.XC=3]="SEGMENT_CHANGED";}(c.kg||(c.kg={})));},function(d){d.P={OGb:{Ks:0,VMb:1,name:["STARTUP","STEADY"]},PQ:{Dg:0,UMb:1,GZa:2,name:["STARTING","STABLE","UNSTABLE"]},Na:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Uj:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},jg:{URL:0,bz:1,hma:2,Ds:3,name:["URL","SERVER","LOCATION","NETWORK"]},Fe:{HAVE_NOTHING:0,Ly:1,Ky:2,iI:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Cg:{vGb:0,XIb:1,ULb:2,NEXT:3,vLb:4,DNb:5,ZIb:6,cKb:7,Ks:8,ERROR:9,k3:10,jWa:11,k1:12,ZSa:13,YSa:14,dYa:15,cYa:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},wIb:{Ds:0,NHb:1,name:["NETWORK","DECODE"]},QMb:{PHb:"delayedSeamless",rJb:"hideLongTransition"}};},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});d=a(150);c.is=d.Fv;c.$b=function(a){return c.is.Qd(a);};c.uf=function(a){return c.is.Nz(a);};c.lnb=function(a){return c.is.r6(a);};c.isArray=function(a){return c.is.At(a);};c.aCa=function(a){return c.is.vta(a);};c.ma=function(a,h,n){return c.is.Zg(a,h,n);};c.Fmb=function(a,h,n){return c.is.O6(a,h,n);};c.zx=function(a,h,n){return c.is.Yq(a,h,n);};c.QBa=function(a){return c.is.mK(a);};c.xSb=function(a){return c.is.R4a(a);};c.CSb=function(a){return c.is.S4a(a);};c.bCa=function(a){return c.is.wta(a);};c.ee=function(a){return c.is.Um(a);};c.OA=function(a){return c.is.Il(a);};c.CBa=function(a){return c.is.lK(a);};c.Tb=function(a){return c.is.UT(a);};},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});d=a(0);d.__exportStar(a(862),c);d.__exportStar(a(115),c);d.__exportStar(a(33),c);d.__exportStar(a(861),c);d=a(860);c.e_a=d;d=a(859);c.iRa=d;a=a(414);c.r3=a;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.md="ConfigSymbol";},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});d=a(5);a=a(91);c.SMa=function(){c.Ra();};c.mQb=!0;c.nf=d.$.get(a.ws);c.Ra=c.nf.assert.bind(c.nf);c.hQb=c.nf.F6a.bind(c.nf);c.iQb=c.nf.G6a.bind(c.nf);c.ocb=c.nf.L6a.bind(c.nf);c.uL=c.nf.O6a.bind(c.nf);c.lQb=c.nf.M6a.bind(c.nf);c.jQb=c.nf.J6a.bind(c.nf);c.bV=c.nf.I6a.bind(c.nf);c.tL=c.nf.N6a.bind(c.nf);c.kQb=c.nf.K6a.bind(c.nf);c.gQb=c.nf.D6a.bind(c.nf);c.Zva=c.nf.H6a.bind(c.nf);c.nQb=c.nf.pmb.bind(c.nf);},function(d,c,a){var b,h,n,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(18);h=a(20);n=a(10);p=a(15);c.Gd=function(a,b){for(var f in a)a.hasOwnProperty(f)&&b(f,a[f]);};c.xb=c.xb||function(a,b,m){var f,k,n;if(b)if(m){f=m.XF;k=m.prefix;n=m.Ou;c.Gd(b,function(b,m){if(!n||h.$b(m))a[(k||"")+(f?b.toLowerCase():b)]=m;});}else c.Gd(b,function(f,b){a[f]=b;});return a;};c.I8a=function(a,b,m,t){var f;if(a){f=a[b];p.Tb(f)&&(m=f.apply(a,n.slice.call(arguments,3)));}};c.x6a=function(){for(var a=["info","warn","trace","error"],b={},m=a.length;m--;)b[a[m]]=!0;return b;};c.fe=c.fe||function(a){return parseInt(a,10);};c.nUb=function(a){return/^true$/i.test(a);};c.BGa=function(a,b){return n.Ei(a+n.BI()*(b-a));};c.EBb=function(a){return JSON.stringify(a,null,"  ");};c.Cba=function(){var k,m;function a(a){b.Ra(void 0!==k[a]);return k[a];}k={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};m=/[&'"<>]/g;return function(f){return f.replace(m,a);};}();c.trim=function(){var a;a=/^\s+|\s+$/gm;return function(f){return f.replace(a,"");};}();c.lda=function(a){return Array.isArray(a)?a:[a];};c.We=c.We||function(a){var f,b,t;if(a){f=a.stack;b=a.number;t=a.message;t||(t=""+a);f?(a=""+f,0!=a.indexOf(t)&&(a=t+"\n"+a)):a=t;b&&(a+="\nnumber:"+b);return a;}};c.kn=function(a){return p.ma(a)?a.toFixed(0):"";};c.ix=function(a){return p.ma(a)?(a/1E3).toFixed(0):"";};c.lgb=function(a){return p.ma(a)?a.toFixed():"";};c.y$a=function(a){for(var f=[],b=0;b<a.length;b++)f[b]=a[b];return f;};},function(d,c,a){var p,f;function b(a){return null!==a&&void 0!==a;}function h(a){return typeof a==c.cZa;}function n(a,m,t){var k,h,n;if(m)if(t){k=t.XF;h=t.prefix;n=t.Ou;f.Gd(m,function(f,m){if(!n||b(m))a[(h||"")+(k?f.toLowerCase():f)]=m;});}else f.Gd(m,function(f,b){a[f]=b;});return a;}Object.defineProperty(c,"__esModule",{value:!0});p=a(10);f=a(19);c.Pe=function(){};c.Lk=1E3;c.MI=Object.create;c.iVa=Object.keys;c.wQ=Date.now;c.Ty=Math.floor;c.nUa=Math.ceil;c.Ei=Math.round;c.Mn=Math.max;c.rp=Math.min;c.BI=Math.random;c.AI=Math.abs;c.Kma=Math.pow;c.Pj="$attributes";c.X0="$children";c.Y0="$name";c.ns="$text";c.ILa="$parent";c.PH="$sibling";c.cZa="string";c.HNb="number";c.GNb="function";c.bZa="object";c.$b=b;c.uf=function(a){return typeof a==c.bZa;};c.ee=h;c.OA=function(a){return h(a)&&a;};c.fe=function(a){return parseInt(a,10);};c.Gs=function(a,f,b){return a>=f?a<=b?a:b:f;};c.xb=n;c.SO=function(a){return n({},a);};c.c8=function(a){var h;for(var f=0;f<arguments.length;++f);for(var f=0,k=arguments.length;f<k;){h=arguments[f++];if(b(h))return h;}};c.w6a=function(a){for(var f,b=!0,k;b;)for(b=!1,f=a.length;--f;)k=a[f],k.startTime<a[f-1].startTime&&(a[f]=a[f-1],a[f-1]=k,b=!0);};c.Lw=function(a,f){if(a.length==f.length){for(var b=a.length;b--;)if(a[b]!=f[b])return!1;return!0;}return!1;};c.createElement=function(a,b,t,h){var k;k=p.ne.createElement(a);b&&(k.style.cssText=b);t&&(k.innerHTML=t);h&&f.Gd(h,function(a,f){k.setAttribute(a,f);});return k;};c.kL=function(a){var b;b="";f.Gd(a,function(a,f){b+=(b?";":"")+a+":"+f;});return b;};c.dW=function(a,f,b){var k;a/f>b?(k=c.Ei(f*b),a=f):(k=a,a=c.Ei(a/b));return{width:k,height:a};};c.Cba=function(){var f,b;function a(a){return f[a];}f={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};b=/[&'"<>]/g;return function(f){return f.replace(b,a);};}();c.We=function(a){var f,b;if(a){f=a.stack;b=a.number;a=""+a;f?(f=""+f,0!=f.indexOf(a)&&(f=a+"\n"+f)):f=a;b&&(f+="\nnumber:"+b);return f;}};c.G={Nk:1001,xh:1003,YQa:1701,cla:1713,ZQa:1715,XQa:1721,DQ:1723};},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(0).__exportStar(a(417),c);},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.hf="UtilitiesSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Oe="IsTypeSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Cf="AsyncComponentLoaderSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Bf="ApplicationSymbol";},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(132);c.yb=!1;d=function(){function a(a,b,f,k,m){this.ab=a;this.type=b;this.byteOffset=f;this.byteLength=k;this.parent=m;this.Mc={};this.lB=k;}a.rA=function(a,b){var k,t;function f(a){a&&a.rA&&(a=a.rA(b),a.length&&(k=k.concat(a)));}k=[];a.type===b&&k.push(a);if(a.Mc)for(var m in a.Mc){t=a.Mc[m];Array.isArray(t)&&t.forEach(f);}return k;};a.qK=function(a,b){void 0===a.Mc[b.type]&&(a.Mc[b.type]=[]);a.Mc[b.type].push(b);};a.sA=function(b,h){return a.rA(b,h)[0];};Object.defineProperties(a.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{L:{get:function(){return this.ab;},enumerable:!0,configurable:!0}});a.prototype.Rf=function(){var a;a=this.ab.Ab();this.version=a>>24;this.Xe=a&16777215;};a.prototype.qK=function(b){a.qK(this,b);};a.prototype.rA=function(b){return a.rA(this,b);};a.prototype.sA=function(b){return a.sA(this,b);};a.prototype.parse=function(){return!0;};a.prototype.kF=function(){return!0;};a.prototype.zq=function(a){if((a=this.Mc[a])&&Array.isArray(a)&&1===a.length)return a[0];};a.prototype.Dk=function(a,h){h=void 0===h?this.ab.offset:h;b.assert(h>=this.startOffset+8&&h+a<=this.startOffset+this.lB,"Removal range [0x"+h.toString(16)+"-0x"+(h+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.lB).toString(16)+")");this.ab.Dk(a,h,this);};a.prototype.e_=function(a,h,f){f=void 0===f?this.ab.offset:f;b.assert(f>=this.startOffset+8&&f+a<=this.startOffset+this.lB,"Removal range [0x"+f.toString(16)+"-0x"+(f+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.lB).toString(16)+")");this.ab.e_(a,h,f,this);};a.prototype.OGa=function(a,b,f){if(1<f){for(var k=[];0<f--;)k.push(this.hsa(a,b));return k;}return this.hsa(a,b);};a.prototype.Ur=function(a){var b,f;f=this;void 0===b&&(b={});a.forEach(function(a){var k,t;if("offset"===a.type){k=a.offset;if(0<k%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");f.ab.offset+=k/8;}else for(k in a){t=a[k];b[k]="string"===typeof t?f.OGa(t):f.OGa(t.type,t.length,t.v6a);}});return b;};a.prototype.hsa=function(a,b){var f;f=this.byteLength-this.ab.offset+this.startOffset;"undefined"===typeof b&&(b=f);switch(a){case"int8":a=this.ab.kd();break;case"int64":a=this.ab.Yi();break;case"int32":a=this.ab.Ab();break;case"int16":a=this.ab.Pg();break;case"string":a=this.ab.Yvb(Math.min(b,f));break;default:throw Error("Invalid type: "+a);}return a;};a.ic=!1;return a;}();c.Tf=d;},function(d,c,a){c=a(133);c.zcb=0;d.P={EventEmitter:c,pp:a(869)};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.z1="ConfigurableInputsSymbol";c.hj="ValidatingConfigurableInputsSymbol";c.vC="ConfigNameSymbol";c.dR="InitParamsSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Rpa="WindowTimersSymbol";c.Ny="JSONSymbol";c.V3="UserAgentSymbol";c.Ov="NavigatorSymbol";c.CUa="MediaSourceSymbol";c.mma="LocationSymbol";c.nka="DateSymbol";c.s3="PerformanceSymbol";c.SI="PlatformExtraInfoSymbol";},function(d,c,a){var p,f;function b(a,f){return a&&a.tf&&a.inRange&&!a.hh&&(f||!1!==a.fx);}function h(a,f,b){return!p.ma(a)||a<f?f:a>b?b:a;}function n(a){if(!(this instanceof n))return new n(a);this.ld=p.ma(a)?a:void 0;}p=a(6);f=new(a(4)).Console("ASEJS_STREAM_SELECTOR","media|asejs");d.P={console:f,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",f.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},MA:b,q$:function(a,f,b){var m,t,n,c;function k(f){var k;k=a[f];if(!k.tf||!k.inRange||k.hh||b&&!b(k,f))return!1;c=f;return!0;}m=a.length;t=0;n=m;p.isArray(f)&&(t=h(f[0],0,m),n=h(f[1],0,m),f=f[2]);f=h(f,t-1,n);for(m=f-1;m>=t;--m)if(k(m))return c;for(m=f+1;m<n;++m)if(k(m))return c;return-1;},Vqb:function(a,f){return Math.floor(a/(125*f)*1E3);},n8a:function(a,f){return Math.ceil(a/1E3*f*125);},DSb:function(a,f){return!a.slice(f+1).some(b);},Jm:n,$q:function(a,f){var b;return a.some(function(a,k,m){b=a;return f(a,k,m);})?b:void 0;},oE:function(a,f){var b;return a.some(function(a,k,m){b=k;return f(a,k,m);})?b:-1;},EU:h};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.rpa=0]="Test";a[a.Zla=1]="Int";a[a.OYa=2]="Staging";a[a.zXa=3]="Prod";}(c.Av||(c.Av={})));(function(a){a[a.wR=0]="PreferMsl";a[a.soa=1]="PreferNoMsl";a[a.dVa=2]="NoMsl";}(c.Lv||(c.Lv={})));c.vl="GeneralConfigSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Audio=0]="Audio";a[a.Npa=1]="Video";}(c.Cs||(c.Cs={})));(function(a){a[a.Hy=0]="Default";a[a.Uy=1]="Microsoft";}(c.Cy||(c.Cy={})));(function(a){a[a.Hy=0]="Default";a[a.v1=1]="Cast";a[a.x1=2]="Chrome";a[a.Uy=3]="Microsoft";a[a.Voa=4]="Safari";}(c.Ok||(c.Ok={})));(function(a){a[a.YI=0]="SD";a[a.KQ=1]="HD";a[a.QR=2]="UHD";a[a.vs=3]="DV";a[a.zs=4]="HDR10";a[a.mC=5]="AVCHigh";a[a.Sv=6]="VP9";a[a.xi=7]="AV1";}(c.Bd||(c.Bd={})));(function(a){a[a.Fq=0]="Level_1_4";a[a.Qy=1]="Level_2_2";}(c.Ci||(c.Ci={})));c.XNb=function(){};(function(a){a[a.eMb=0]="Platform";a[a.KHb=1]="CurrentTitle";}(c.SZa||(c.SZa={})));c.I1="DeviceCapabilitiesSymbol";c.dIb=function(){};},function(d,c){function a(a,n){return"number"!==typeof a||"number"!==typeof n?!1:a&&n?Math.abs(a*n/b(a,n)):0;}function b(a,b){var h;a=Math.abs(a);for(b=Math.abs(b);b;){h=b;b=a%b;a=h;}return a;}Object.defineProperty(c,"__esModule",{value:!0});d=function(){function h(a,b){"object"===typeof a?(this.qt=a.Gb,this.Gl=a.X):(this.qt=a,this.Gl=b);}h.Lsb=function(a){return new h(1,a);};h.ji=function(a){return new h(a,1E3);};h.lia=function(a,b){return Math.floor(1E3*a/b);};h.bea=function(a,b){return Math.floor(a*b/1E3);};h.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};h.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};h.R$=function(n,p){var f;if(n.X===p.X)return new h(b(n.Gb,p.Gb),n.X);f=a(n.X,p.X);return h.R$(n.hg(f),p.hg(f));};Object.defineProperties(h.prototype,{Gb:{get:function(){return this.qt;},enumerable:!0,configurable:!0}});Object.defineProperties(h.prototype,{X:{get:function(){return this.Gl;},enumerable:!0,configurable:!0}});Object.defineProperties(h.prototype,{Ka:{get:function(){return 1E3*this.qt/this.Gl;},enumerable:!0,configurable:!0}});Object.defineProperties(h.prototype,{rh:{get:function(){return this.qt/this.Gl;},enumerable:!0,configurable:!0}});h.prototype.hg=function(a){a/=this.X;return new h(Math.floor(this.Gb*a),Math.floor(this.X*a));};h.prototype.add=function(b){var n;if(this.X===b.X)return new h(this.Gb+b.Gb,this.X);n=a(this.X,b.X);return this.hg(n).add(b.hg(n));};h.prototype.Ac=function(a){return this.add(new h(-a.Gb,a.X));};h.prototype.TY=function(a){return new h(this.Gb*a,this.X);};h.prototype.au=function(b){var h;if(this.X===b.X)return this.Gb/b.Gb;h=a(this.X,b.X);return this.hg(h).au(b.hg(h));};h.prototype.lAa=function(b){return a(this.X,b);};h.prototype.XGa=function(){return new h(this.X,this.Gb);};h.prototype.compare=function(b,h){var f;if(this.X===h.X)return b(this.Gb,h.Gb);f=a(this.X,h.X);return b(this.hg(f).Gb,h.hg(f).Gb);};h.prototype.equal=function(a){return this.compare(function(a,f){return a===f;},a);};h.prototype.rG=function(a){return this.compare(function(a,f){return a!==f;},a);};h.prototype.lessThan=function(a){return this.compare(function(a,f){return a<f;},a);};h.prototype.greaterThan=function(a){return this.compare(function(a,f){return a>f;},a);};h.prototype.kY=function(a){return this.compare(function(a,f){return a<=f;},a);};h.prototype.tM=function(a){return this.compare(function(a,f){return a>=f;},a);};h.prototype.K7a=function(a,b){var f;f=!1;void 0===f&&(f=!0);return f?this.tM(a)&&this.kY(b):this.greaterThan(a)&&this.lessThan(b);};h.prototype.toJSON=function(){return{ticks:this.Gb,timescale:this.X};};h.prototype.toString=function(){return this.Gb+"/"+this.X;};h.xe=new h(0,1);h.wG=new h(1,1E3);h.Xlb=new h(Infinity,1);return h;}();c.sa=d;},function(d,c,a){var h,n,p,f;function b(){return c.ZR.TA.ca(f.ha);}Object.defineProperty(c,"__esModule",{value:!0});d=a(518);h=a(38);n=a(25);p=a(118);f=a(3);c.oqa=d.ed.get(h.dj);c.ZR=d.ed.get(n.Bf);c.m1a=d.ed.get(p.JC);c.bma=c.ZR.id;c.ah=function(){return c.ZR.gc().ca(f.ha);};c.GU=function(){return c.oqa.Ve.ca(f.Im);};c.JPb=function(){return c.ZR.TA.ca(f.Im);};c.E9a=function(){return c.m1a.aA();};c.F9a=b;c.bva=function(){return c.oqa.Ve.ca(f.ha);};c.KPb=function(){return b();};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Xg="SchedulerSymbol";},function(d,c,a){var p,f,k;function b(a){return function(f,b){return f.Kfa(b,a);};}function h(a,f){return a.RZ.Ovb[f]||n(a,f);}function n(a,f){a=a.su.data[f];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(c,"__esModule",{value:!0});p=a(46);f=a(3);k=a(144);c.config=function(a,f){return function(b,m,t){var c,p;c=void 0!==f?f:m;p=t.get;void 0!==p&&(t.get=function(){var f;if(!this.Xmb(m))return this.Cjb(m);a:{f=(this.$5a?h:n)(this,c.toString());if(void 0!==f)if(f=a(this.HN,f),f instanceof k.Nn)this.kya(c,f);else break a;f=p.bind(this)();}this.Qxb(m,f);return f;});return t;};};c.cca=function(a,f){return a.KGa(f);};c.rd=function(a,f){return a.Hfa(f);};c.vy=function(a,f){return a.Pa(f);};c.string=function(a,f){return a.Kfa(f);};c.Qha=function(a,f){return a.Hd(f,c.string);};c.vSb=function(a,f){return a.Hd(f,c.cca);};c.DKa=function(a,f){return a.Hd(f,c.vy);};c.jh=function(a,b){a=a.Pa(b);return a instanceof k.Nn?a:f.Ib(a);};c.ba=function(a,f){a=a.Pa(f);return a instanceof k.Nn?a:p.ba(a);};c.url=b(/^\S+$/);c.aRb=function(a){return function(f,b){return f.JGa(b,a);};};c.object=function(){return function(a,f){return a.LGa(f);};};c.bHa=b;c.bk=function(a,f){return function(b,k){return b.Hd(k,a,f);};};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Mv="named";c.iR="name";c.$I="unmanaged";c.kna="optional";c.tI="inject";c.Sy="multi_inject";c.jpa="inversify:tagged";c.kpa="inversify:tagged_props";c.a3="inversify:paramtypes";c.$Oa="design:paramtypes";c.OI="post_construct";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.dj="ClockSymbol";},function(d,c,a){var n,p,f,k;function b(a,f){var b;b=k.call(this,a,f)||this;b.wva=f;b.debug=a.debug;b.ka=a.cg.wb(b.wva);return b;}function h(a,f){this.wva=f;this.zfa={};this.su=a.su;this.HN=a.HN;this.RZ=a.RZ;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);n=a(1113);p=a(1);f=a(144);c.aZa="isTestAccount";h.prototype.kya=function(){};h.prototype.Qxb=function(a,f){this.zfa[a]=[f,this.su.HHa];};h.prototype.Xmb=function(a){return n.ona.of(this.zfa[a]).map(function(a){return a[1];}).kFa(-1)<this.su.HHa;};h.prototype.Cjb=function(a){return n.ona.of(this.zfa[a]).map(function(a){return a[0];}).kFa(function(){throw Error("Invalid State Error");});};pa.Object.defineProperties(h.prototype,{$5a:{configurable:!0,enumerable:!0,get:function(){var a,b;if(this&&this.su&&this.su.data){a=this.su.data[c.aZa];"undefined"!==typeof a&&(b=a.toString());a=this.HN.Hfa(b);a=a instanceof f.Nn?!1:a;}else a=!1;return a;}}});k=h;k=d.__decorate([p.N(),d.__param(0,p.Sh()),d.__param(1,p.Sh())],k);c.eQ=k;da(b,k);b.prototype.kya=function(a,f){this.ka.error("Invalid configuration value.",{name:a},f);this.debug.assert(!1);};a=b;a=d.__decorate([d.__param(0,p.Sh()),d.__param(1,p.Sh())],a);c.oe=a;},function(d,c,a){var m,t,u,y,E,D,g;function b(){var a,f;if(a=c.Haa.fsa)return a;a=D.V2.search.substr(1);f=a.indexOf("#");0<=f&&(a=a.substr(0,f));a=h(a);return c.Haa.fsa=a;}function h(a){for(var f=/[+]/g,b=(a||"").split("&"),k={},m,h=0;h<b.length;h++)a=y.trim(b[h]),m=a.indexOf("="),0<=m?k[decodeURIComponent(a.substr(0,m).replace(f,"%20")).toLowerCase()]=decodeURIComponent(a.substr(m+1).replace(f,"%20")):k[a.toLowerCase()]=null;return k;}function n(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function p(a){return n(a.constructor);}function f(a){return D.sort.call(a,function(a,f){return a-f;});}function k(a){for(var f=0,b=a.length;b--;)f+=a[b];return f;}Object.defineProperty(c,"__esModule",{value:!0});m=a(11);t=a(18);u=a(5);y=a(19);E=a(20);D=a(10);g=a(15);c.kva=function(a,f){if(a===f)return!0;if(!a||!f)return!1;for(var b in a)if(a.hasOwnProperty(b)&&(!f.hasOwnProperty(b)||a[b]!==f[b]))return!1;return!0;};c.Lw=c.Lw||function(a,f){if(a.length==f.length){for(var b=a.length;b--;)if(a[b]!=f[b])return!1;return!0;}return!1;};c.OUb=function(a){var f;if(a){f=a.length;if(f)return f=y.BGa(0,f-1),a[f];}};c.o$a=function(a,f){if(a.length!=f.length)return!1;a.sort();f.sort();for(var b=a.length;b--;)if(a[b]!==f[b])return!1;return!0;};c.H5a=function(a,f){function b(){a.removeEventListener("loadedmetadata",b);f.apply(this,arguments);}a.addEventListener("loadedmetadata",b);};c.Zvb=function(){var a,f,b,k,m,h;a=D.ne.cookie.split("; ");f=a.length;h={};for(b=0;b<f;b++)if(k=y.trim(a[b]))m=k.indexOf("="),0<m&&(h[k.substr(0,m)]=k.substr(m+1));return h;};c.QRb=b;c.Haa=Object.assign(b,{fsa:void 0});c.tZ=h;c.IN=function(a){var f;f="";y.Gd(a,function(a,b){f&&(f+="&");t.Ra(E.ee(b)||g.ma(b)||g.CBa(b));f+=encodeURIComponent(a)+"="+encodeURIComponent(b);});return f;};c.getFunctionName=n;c.Nya=p;c.PEa=function(a){var f;f="";g.isArray(a)||g.aCa(a)?f=D.reduce.call(a,function(a,f){return a+(32<=f&&128>f?D.VYa(f):".");},""):E.ee(a)?f=a:y.Gd(a,function(a,b){f+=(f?", ":"")+"{"+a+": "+(g.Tb(b)?n(b)||"function":b)+"}";});return"["+p(a)+" "+f+"]";};c.HUb=function(a,f){a.firstChild?a.insertBefore(f,a.firstChild):a.appendChild(f);};c.kL=c.kL||function(a){var f;f="";y.Gd(a,function(a,b){f+=(f?";":"")+a+":"+b;});return f;};c.uSb=function(a,f){var b;b=a[0];if(f<=b[0])return b.slice(1);for(var k=1,m;m=a[k++];){if(f<=m[0]){a=(f-b[0])/(m[0]-b[0]);f=[];for(k=1;k<b.length;k++)f.push((b[k]||0)+a*((m[k]||0)-(b[k]||0)));return f;}b=m;}return b.slice(1);};c.oGb=function(a,f){var m;for(var b={},k=0;k<f.length;k++){m=f[k];if("string"!=typeof m&&"number"!=typeof m)return!1;b[f[k]]=1;}for(k=0;k<a.length;k++)if(m=a[k],!b[m])return!1;return!0;};c.yMa=function(a,f){0>a.indexOf(f)&&a.push(f);};c.c1=f;c.qGb=k;c.lja=function(a,f){var b,k,m,h;b=-1;k=a.length;if(1===arguments.length){for(;++b<k&&!(null!=(m=a[b])&&m<=m);)m=void 0;for(;++b<k;)null!=(h=a[b])&&h>m&&(m=h);}else{for(;++b<k&&!(null!=(m=f.call(a,a[b],b))&&m<=m);)m=void 0;for(;++b<k;)null!=(h=f.call(a,a[b],b))&&h>m&&(m=h);}return m;};c.pGb=function(a,f){var b,k,m,h;b=-1;k=a.length;if(1===arguments.length){for(;++b<k&&!(null!=(m=a[b])&&m<=m);)m=void 0;for(;++b<k;)null!=(h=a[b])&&m>h&&(m=h);}else{for(;++b<k&&!(null!=(m=f.call(a,a[b],b))&&m<=m);)m=void 0;for(;++b<k;)null!=(h=f.call(a,a[b],b))&&m>h&&(m=h);}return m;};c.xG=function(a){return g.Tb(a.then)?a:new Promise(function(f,b){a.oncomplete=function(){f(a.result);};a.onerror=function(){b(a.error);};});};c.nRb=function(a,b){var m,h,t,n,c,p;function k(a){0>m.indexOf(a)&&g.ma(a)&&m.push(a);}a=a.slice();f(a);m=[];if(!b||!b.length)return a;if(!a.length)return[];h=b.length;try{for(;h--;){c=""+b[h];p=E.fe(c);switch(c[c.length-1]){case"-":for(t=a.length;t--;)if(n=a[t],n<p){k(n);break;}break;case"+":for(t=0;t<a.length;t++)if(n=a[t],n>p){k(n);break;}break;default:0<=a.indexOf(p)&&k(p);}}}catch(U){}m.length||m.push(a[0]);f(m);return m;};c.dW=c.dW||function(a,f,b){var k;a/f>b?(k=D.Ei(f*b),a=f):(k=a,a=D.Ei(a/b));return{width:k,height:a};};c.PPb=function(a,f,b){for(var m=[],h=0;h<f;h++)m.push(D.Kma(a[h]-b,2));return D.oUa(k(m)/m.length);};c.gr=function(a,f){var b;b=a.length;f=(b-1)*f+1;if(1===f)return a[0];if(f==b)return a[b-1];b=D.Ty(f);return a[b-1]+(f-b)*(a[b]-a[b-1]);};c.rRb=function(a,f){if(!g.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");f=g.isArray(f)?f:[f];for(var b=a.length,k=0;k<b;k++)for(var m=0;m<f.length;m++)if(a[k].type==f[m])return a[k];throw Error("Box not found "+f);};c.cHb=function(a){return a.lx("trak/mdia/minf/stbl/stsd/"+m.rNa+"|"+m.sNa).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.u$.schm.pyb;})[0].lx("schi/tenc").Cx;};c.bHb=function(a){var b;function f(a,f){var k;k=b[a];b[a]=b[f];b[f]=k;}b=new Uint8Array(a);f(0,3);f(1,2);f(4,5);f(6,7);return b;};c.Vmb=function(){return g.Tb(D.ej.requestMediaKeySystemAccess);};c.BUb=function(a){return function(f){return f&&f[a];};};g.Tb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,f){var b,k;void 0===a&&(a=0);void 0===f&&(f=this.byteLength);a=Math.floor(a);f=Math.floor(f);0>a&&(a+=this.byteLength);0>f&&(f+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);f=Math.min(Math.max(0,f),this.byteLength);if(0>=f-a)return new ArrayBuffer(0);b=new ArrayBuffer(f-a);k=new Uint8Array(b);a=new Uint8Array(this,a,f-a);k.set(a);return b;});c.rca=function(a){return a&&0==a.toLowerCase().indexOf("https");};c.Zhb=function(){var a,f;a=new ArrayBuffer(4);f=new Uint8Array(a);a=new Uint32Array(a);f[0]=161;f[1]=178;f[2]=195;f[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};c.NW=function(){var a,f,b;try{a=/playercore.*js/;f=D.Es.getEntries("resource").filter(function(f){return null!==a.exec(f.name);});if(f&&0<f.length){b=D.Ei(f[0].duration);return JSON.stringify(b);}}catch(P){}};c.CUb=function(a,f,b){if(a&&a.length)if(b&&b.q9a)try{a.forEach(function(a,k){var m;m=(k=b.q9a[k])&&k.media;m&&E.ee(m)?(m=u.Ym(m).buffer,a.media={arrayBuffer:m,length:m.byteLength,stream:f,ec:k.cdn}):u.log.warn("chunk not in cache",a.Lg);});}catch(P){u.log.error("error reading cached chunks",P);}else u.log.warn("chunks not available in cached stream",b.type);else u.log.warn("chunks not available in mediabuffer",b.type);};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Rj="Base64EncoderSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Wh={PCa:"logblob",wa:"manifest",oi:"license",events:"events",bind:"bind",tFa:"pair",ping:"ping",config:"config"};d=c.Wg||(c.Wg={});d[d.As=20]="High";d[d.L2=10]="Medium";d[d.LC=0]="Low";c.B3={Wg:"reqPriority",RXa:"reqAttempt",UXa:"reqName"};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.I2="LogBatcherConfigSymbol";c.Kk="LogBatcherSymbol";c.nma="LogBatcherProviderSymbol";},function(d,c,a){var p,f;function b(a){var f,b;f=[];for(b in a)f.push(b);return f;}function h(a,f,b,h,n){var k;Object.getOwnPropertyNames(a).filter(function(a){return n(a)&&(b||!Object.prototype.hasOwnProperty.call(f,a))&&(h||!(a in f));}).forEach(function(b){k=Object.getOwnPropertyDescriptor(a,b);void 0!==k&&Object.defineProperty(f,b,k);});}function n(a,f,t,c){var k,m;k=[];t||(k=Object.keys(f));c||(k=b(f));m=Object.getPrototypeOf(a);null!==m&&m!==Object.prototype&&n(m,f,t,c);h(a,f,!0,!0,function(a){return"constructor"!==a&&-1===k.indexOf(a);});}Object.defineProperty(c,"__esModule",{value:!0});p=a(7);c.XPb=n;f=Object.getOwnPropertyNames(Function);c.cj=function(a,b,t,c){void 0===t&&(t=!0);void 0===c&&(c=!0);c||p.assert(!t);a.prototype?(n(a.prototype,b.prototype,t,c),h(a,b,t,c,function(a){return-1===f.indexOf(a);})):h(a,b.prototype,t,c,function(a){return-1===f.indexOf(a);});};},function(d,c,a){var h;function b(a,b,f,k,m,t,c,d,E,D,g,G){this.code=void 0===a?h.K.Nk:a;this.Xc=b;this.dh=f;this.$E=k;this.Mr=m;this.message=t;this.UE=c;this.data=d;this.T9=E;this.oub=D;this.alert=g;this.L6=G;this.aa=!1;}Object.defineProperty(c,"__esModule",{value:!0});h=a(2);b.We=function(a){var b,f,k;if(a){b=a.stack;f=a.number;k=a.message;k||(k=""+a);b?(a=""+b,0!==a.indexOf(k)&&(a=k+"\n"+a)):a=k;f&&(a+="\nnumber:"+f);return a;}return"";};b.prototype.AL=function(a){this.UE=b.We(a);this.data=a;};b.prototype.toString=function(){return JSON.stringify(this.toJSON);};b.prototype.toJSON=function(){return{code:this.code,subCode:this.Xc,extCode:this.dh,edgeCode:this.$E,mslCode:this.Mr,message:this.message,details:this.UE,data:this.data,errorDisplayMessage:this.T9,playbackServiceError:this.oub};};b.nW=function(a,c){return new b(a,h.G.xh,void 0,void 0,void 0,void 0,c.message,c.stack);};c.Ic=b;},function(d,c,a){var n;function b(a){return n.RR.apply(this,arguments)||this;}function h(a){return new n.Hq(a,c.tC);}Object.defineProperty(c,"__esModule",{value:!0});n=a(511);da(b,n.RR);c.lHb=b;c.oU=h;c.ba=function(a){return new n.Hq(a,c.ss);};c.RSb=function(a){return new n.Hq(a,c.fma);};c.zTb=function(a){return new n.Hq(a,c.EUa);};c.tC=new b(1,"b");c.ss=new b(8*c.tC.df,"B",c.tC);c.fma=new b(1024*c.ss.df,"KB",c.tC);c.EUa=new b(1024*c.fma.df,"MB",c.tC);c.xe=h(0);},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Mk="PlatformSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.xl="PboCommandContextSymbol";},function(d,c,a){var b,h,n,p,f,k;b=this&&this.__extends||function(a,f){function b(){this.constructor=a;}for(var k in f)f.hasOwnProperty(k)&&(a[k]=f[k]);a.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b());};h=a(502);d=a(70);n=a(267);p=a(266);f=function(a){function m(b,m,h){var t;a.call(this);this.WB=null;this.Nf=this.sl=this.VB=!1;switch(arguments.length){case 0:this.destination=n.empty;break;case 1:if(!b){this.destination=n.empty;break;}if("object"===typeof b){if(b instanceof f||"syncErrorThrowable"in b&&b[p.GB]){t=b[p.GB]();this.sl=t.sl;this.destination=t;t.add(this);}else this.sl=!0,this.destination=new k(this,b);break;}default:this.sl=!0,this.destination=new k(this,b,m,h);}}b(m,a);m.prototype[p.GB]=function(){return this;};m.create=function(a,f,b){a=new m(a,f,b);a.sl=!1;return a;};m.prototype.next=function(a){this.Nf||this.Ah(a);};m.prototype.error=function(a){this.Nf||(this.Nf=!0,this.Md(a));};m.prototype.complete=function(){this.Nf||(this.Nf=!0,this.kc());};m.prototype.unsubscribe=function(){this.closed||(this.Nf=!0,a.prototype.unsubscribe.call(this));};m.prototype.Ah=function(a){this.destination.next(a);};m.prototype.Md=function(a){this.destination.error(a);this.unsubscribe();};m.prototype.kc=function(){this.destination.complete();this.unsubscribe();};m.prototype.A4a=function(){var a,f;a=this.Xn;f=this.wz;this.wz=this.Xn=null;this.unsubscribe();this.Nf=this.closed=!1;this.Xn=a;this.wz=f;};return m;}(d.zl);c.gj=f;k=function(a){function f(f,b,k,m){var t;a.call(this);this.WJ=f;f=this;h.Tb(b)?t=b:b&&(t=b.next,k=b.error,m=b.complete,b!==n.empty&&(f=Object.create(b),h.Tb(f.unsubscribe)&&this.add(f.unsubscribe.bind(f)),f.unsubscribe=this.unsubscribe.bind(this)));this.jj=f;this.Ah=t;this.Md=k;this.kc=m;}b(f,a);f.prototype.next=function(a){var f;if(!this.Nf&&this.Ah){f=this.WJ;f.sl?this.c4(f,this.Ah,a)&&this.unsubscribe():this.d4(this.Ah,a);}};f.prototype.error=function(a){var f;if(!this.Nf){f=this.WJ;if(this.Md)f.sl?this.c4(f,this.Md,a):this.d4(this.Md,a),this.unsubscribe();else if(f.sl)f.WB=a,f.VB=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};f.prototype.complete=function(){var a,f,b;a=this;if(!this.Nf){f=this.WJ;if(this.kc){b=function(){return a.kc.call(a.jj);};f.sl?this.c4(f,b):this.d4(b);}this.unsubscribe();}};f.prototype.d4=function(a,f){try{a.call(this.jj,f);}catch(E){throw this.unsubscribe(),E;}};f.prototype.c4=function(a,f,b){try{f.call(this.jj,b);}catch(D){return a.WB=D,a.VB=!0;}return!1;};f.prototype.tt=function(){var a;a=this.WJ;this.WJ=this.jj=null;a.unsubscribe();};return f;}(f);},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});a(0).__exportStar(a(417),c);c.cpb=function(b){c.platform.EM(b);return a(870).dUa;};c.HRb=function(){return a(221);};d=a(14);c.Uc=d;d=a(715);c.ro=d.ro;d=a(4);c.platform=d;b=a(714);c.NTb=function(){return{Wy:b.Wy};};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Pb=function(a){return setTimeout(a,0);};},function(d,c,a){var b,h;b=a(116);h=a(176);d.P=function(a){return function f(k,m){switch(arguments.length){case 0:return f;case 1:return h(k)?f:b(function(f){return a(k,f);});default:return h(k)&&h(m)?f:h(k)?b(function(f){return a(f,m);}):h(m)?b(function(f){return a(k,f);}):a(k,m);}};};},function(d,c,a){var p,f;function b(){}function h(){}function n(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(119);(function(a){a[a.Gm=0]="STANDARD";a[a.Gv=1]="LIMITED";a[a.TLb=2]="PREVIEW";}(p||(p={})));c.Ge=n;n.Mja="created";n.Poa="started";n.Uoa="succeeded";n.Bv="failed";n.Fy="cancelled";n.jQ="cancelled_on_create";n.TH="cancelled_on_start";n.iQ="cancelled_not_encrypted";h.ONb="uirequest";h.SLb="prefetch_start";h.QLb="prefetch_complete";h.RLb="prefetch_delete";h.GVa="periodic_update";d={manifest:d.He.Qj.$ia,ldl:d.He.Qj.Oy,getHeaders:d.He.Qj.mI,getMedia:d.He.Qj.MEDIA};(function(a){a[a.HAVE_NOTHING=0]="HAVE_NOTHING";a[a.HAVE_METADATA=1]="HAVE_METADATA";a[a.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";a[a.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";a[a.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";}(f||(f={})));(function(a){a.aMa="asl_start";a.ZLa="asl_comp";a.iGb="asl_exc";a.$La="asl_fail";a.nYa="stf_creat";a.XRa="idb_open";a.URa="idb_block";a.dSa="idb_upgr";a.cSa="idb_succ";a.VRa="idb_error";a.WRa="idb_invalid_state";a.ZRa="idb_open_timeout";a.aSa="idb_open_wrkarnd";a.bSa="idb_storelen_exc";a.YRa="idb_open_exc";a.$Ra="idb_timeout_invalid_storelen";a.WTa="msl_load_data";a.YTa="msl_load_no_data";a.XTa="msl_load_failed";}(a=c.Gi||(c.Gi={})));(function(a){a.d3="PlaybackRequestStart";a.c3="PlaybackRequestEnd";a.CR="RequestPrefetchManifestStart";a.BR="RequestPrefetchManifestEnd";a.AR="RequestManifestStart";a.zR="RequestManifestEnd";a.yR="RequestLicenseStart";a.xR="RequestLicenseEnd";a.oQ="RequestTimedTextUrlStart";a.nQ="RequestTimedTextUrlEnd";a.mQ="RequestAudioUrlStart";a.lQ="RequestAudioUrlEnd";a.qQ="RequestVideoUrlStart";a.pQ="RequestVideoUrlEnd";a.$0="AppendBufferStart";a.Z0="AppendBufferEnd";a.D3="SetMediaKeysStart";a.C3="SetMediaKeysEnd";a.FQ="GenerateChallengeStart";a.EQ="GenerateChallengeEnd";a.b1="ApplyLicenseStart";a.a1="ApplyLicenseEnd";}(c.ya||(c.ya={})));c.Yd=b;b.YJb=p;b.Bva=function(a){return["STANDARD","LIMITED","PREVIEW"][a];};b.Ge=n;b.hWa=h;b.QI=d;b.Gi=a;b.nla=f;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Dm="EmeConfigSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yrb=function(a,b){return a-b;};c.FVb=function(a,b){return a.localeCompare(b);};c.xn=function(a,b){var h;h=Object.getOwnPropertyDescriptor(a,b);h&&Object.defineProperty(a,b,{configurable:h.configurable,enumerable:!1,value:h.value,writable:h.writable});};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.FPa="Cannot apply @injectable decorator multiple times.";c.GPa="Metadata key was used more than once in a parameter:";c.JI="NULL argument";c.dma="Key Not Found";c.PLa="Ambiguous match found for serviceIdentifier:";c.DNa="Could not unbind serviceIdentifier:";c.UUa="No matching bindings found for serviceIdentifier:";c.OTa="Missing required @injectable annotation in:";c.PTa="Missing required @inject or @multiInject annotation in:";c.EZa=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};c.HNa="Circular dependency found:";c.UKb="Sorry, this feature is not fully implemented yet.";c.zSa="Invalid binding type:";c.VUa="No snapshot available to restore.";c.CSa="Invalid return type in middleware. Middleware must return!";c.JJb="Value provided to function binding must be a function!";c.ESa="The toSelf function can only be applied when a constructor is used as service identifier";c.ASa="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";c.QLa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};c.WNa="Invalid Container constructor argument. Container options must be an object.";c.UNa="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";c.TNa="Invalid Container option. Auto bind injectable must be a boolean";c.VNa="Invalid Container option. Skip base check must be a boolean";c.cUa="Cannot apply @postConstruct decorator multiple times in the same class";c.gWa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};c.INa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};c.kYa="Maximum call stack size exceeded";},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});d=a(79);b=a(51);h=a(10);c.Le=new d.Jk();c.Yl=1;c.BA=2;c.eba=3;c.sM=4;c.dba=5;b.Pb(function(){var b,f,k;function a(a,b){if(f)f.on(a,b);else L.addEventListener(a,b);}b=L.jQuery;f=b&&b(L);b=(b=L.netflix)&&b.cadmium&&b.cadmium.addBeforeUnloadHandler;k=h.ne.hidden;b?b(function(a){c.Le.Sb(c.Yl,a);}):a("beforeunload",function(a){c.Le.Sb(c.Yl,a);});a("keydown",function(a){c.Le.Sb(c.BA,a);});a("resize",function(){c.Le.Sb(c.eba);});h.ne.addEventListener("visibilitychange",function(){k!==h.ne.hidden&&(k=h.ne.hidden,c.Le.Sb(c.sM));});});(function(){L.addEventListener("error",function(a){c.Le.Sb(c.dba,a);return!0;});}());},function(d,c,a){var h,n;function b(a,f){var k;k=c.On[0];k==f&&(k=c.On[1]);k?k.close(function(){b(a,f);}):a&&a(h.pd);}Object.defineProperty(c,"__esModule",{value:!0});h=a(11);n=a(18);c.hoa=b;c.koa=function(a,f){switch(a){case c.foa:c.ioa.push(f);return;case c.goa:c.joa.push(f);return;}n.Ra(!1);};c.On=[];c.ioa=[];c.joa=[];c.foa=1;c.goa=3;c.UI={index:0,Tqb:void 0,x$:void 0};c.eoa="network";c.doa="media";c.TWa="timedtext";c.UWa="playback";},function(d){d.P=function(c,a){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a;};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.yl="PlayerErrorFactorySymbol";},function(d,c){function a(){}function b(){}function h(){}Object.defineProperty(c,"__esModule",{value:!0});c.V=h;h.gI="playready-h264mpl30-dash";h.CC="playready-h264mpl31-dash";h.JQ="playready-h264mpl40-dash";h.nRa="playready-h264hpl22-dash";h.GQ="playready-h264hpl30-dash";h.HQ="playready-h264hpl31-dash";h.IQ="playready-h264hpl40-dash";h.i2="hevc-main-L30-dash-cenc";h.j2="hevc-main-L31-dash-cenc";h.k2="hevc-main-L40-dash-cenc";h.l2="hevc-main-L41-dash-cenc";h.m2="hevc-main-L50-dash-cenc";h.n2="hevc-main-L51-dash-cenc";h.e2="hevc-main10-L30-dash-cenc";h.f2="hevc-main10-L31-dash-cenc";h.g2="hevc-main10-L40-dash-cenc";h.h2="hevc-main10-L41-dash-cenc";h.EC="hevc-main10-L50-dash-cenc";h.FC="hevc-main10-L51-dash-cenc";h.QQ="hevc-main10-L30-dash-cenc-prk";h.SQ="hevc-main10-L31-dash-cenc-prk";h.UQ="hevc-main10-L40-dash-cenc-prk";h.WQ="hevc-main10-L41-dash-cenc-prk";h.RQ="hevc-main10-L30-dash-cenc-prk-do";h.TQ="hevc-main10-L31-dash-cenc-prk-do";h.VQ="hevc-main10-L40-dash-cenc-prk-do";h.XQ="hevc-main10-L41-dash-cenc-prk-do";h.YQ="hevc-main10-L50-dash-cenc-prk-do";h.ZQ="hevc-main10-L51-dash-cenc-prk-do";h.nJb="hevc-main-L30-L31-dash-cenc-tl";h.oJb="hevc-main-L31-L40-dash-cenc-tl";h.pJb="hevc-main-L40-L41-dash-cenc-tl";h.qJb="hevc-main-L50-L51-dash-cenc-tl";h.jJb="hevc-main10-L30-L31-dash-cenc-tl";h.kJb="hevc-main10-L31-L40-dash-cenc-tl";h.lJb="hevc-main10-L40-L41-dash-cenc-tl";h.mJb="hevc-main10-L50-L51-dash-cenc-tl";h.XH="hevc-dv5-main10-L30-dash-cenc-prk";h.YH="hevc-dv5-main10-L31-dash-cenc-prk";h.wC="hevc-dv5-main10-L40-dash-cenc-prk";h.ZH="hevc-dv5-main10-L41-dash-cenc-prk";h.$H="hevc-dv5-main10-L50-dash-cenc-prk";h.vQ="hevc-dv5-main10-L51-dash-cenc-prk";h.X1="hevc-hdr-main10-L30-dash-cenc";h.Y1="hevc-hdr-main10-L31-dash-cenc";h.Z1="hevc-hdr-main10-L40-dash-cenc";h.a2="hevc-hdr-main10-L41-dash-cenc";h.b2="hevc-hdr-main10-L50-dash-cenc";h.c2="hevc-hdr-main10-L51-dash-cenc";h.jI="hevc-hdr-main10-L30-dash-cenc-prk";h.kI="hevc-hdr-main10-L31-dash-cenc-prk";h.DC="hevc-hdr-main10-L40-dash-cenc-prk";h.lI="hevc-hdr-main10-L41-dash-cenc-prk";h.LQ="hevc-hdr-main10-L50-dash-cenc-prk";h.MQ="hevc-hdr-main10-L51-dash-cenc-prk";h.Mpa="vp9-profile0-L21-dash-cenc";h.cJ="vp9-profile0-L30-dash-cenc";h.dJ="vp9-profile0-L31-dash-cenc";h.eJ="vp9-profile0-L40-dash-cenc";h.Hpa="vp9-profile2-L30-dash-cenc-prk";h.Ipa="vp9-profile2-L31-dash-cenc-prk";h.Jpa="vp9-profile2-L40-dash-cenc-prk";h.Kpa="vp9-profile2-L50-dash-cenc-prk";h.Lpa="vp9-profile2-L51-dash-cenc-prk";h.aja="av1-main-L20-dash-cbcs-prk";h.bja="av1-main-L21-dash-cbcs-prk";h.cja="av1-main-L30-dash-cbcs-prk";h.dja="av1-main-L31-dash-cbcs-prk";h.eja="av1-main-L40-dash-cbcs-prk";h.fja="av1-main-L41-dash-cbcs-prk";h.gja="av1-main-L50-dash-cbcs-prk";h.hja="av1-main-L51-dash-cbcs-prk";h.ZXa=[h.gI];h.sRa=[h.CC,h.JQ];h.BZa=[h.i2,h.j2,h.k2,h.l2,h.m2,h.n2];h.DZa=[h.e2,h.f2,h.g2,h.h2,h.EC,h.FC];h.CZa=[h.QQ,h.SQ,h.UQ,h.WQ,h.EC,h.FC];h.NNb=[h.RQ,h.TQ,h.VQ,h.XQ,h.YQ,h.ZQ];h.rRa=[h.X1,h.Y1,h.Z1,h.a2,h.b2,h.c2];h.qRa=[h.jI,h.kI,h.DC,h.lI,h.LQ,h.MQ];h.HPa=[h.XH,h.wC,h.$H,h.YH,h.ZH,h.vQ];h.XHb=[h.XH,h.YH,h.wC,h.ZH,h.$H];h.kGb=[h.GQ,h.HQ,h.IQ];h.WNb=[h.cJ,h.dJ,h.eJ];h.Sv=[h.Mpa,h.cJ,h.dJ,h.eJ,h.Hpa,h.Ipa,h.Jpa,h.Kpa,h.Lpa];h.gMa=[h.aja,h.bja,h.cja];h.fMa=[h.dja,h.eja,h.fja];h.hMa=[h.gja,h.hja];h.xi=[].concat(h.gMa,h.fMa,h.hMa);h.mRa=h.ZXa.concat(h.sRa);h.pRa=h.BZa;h.oRa=h.DZa;h.sMa=[].concat(h.mRa,h.pRa,h.oRa,h.CZa,h.rRa,h.qRa,h.HPa,h.Sv,h.xi);c.zi=b;b.NQ="heaac-2-dash";b.tRa="heaac-5.1-dash";b.OQ="heaac-2hq-dash";b.WR="xheaac-dash";b.tQ="ddplus-2.0-dash";b.A1="ddplus-5.1-dash";b.uQ="ddplus-atmos-dash";b.d2="playready-heaac-2-dash";b.vRa="heaac-2-dash-enc";b.EOa="ddplus-2.0-dash-enc";b.FOa="ddplus-5.1-dash-enc";b.uRa="playready-heaac-2-dash-enc";b.sMa=[b.NQ,b.OQ,b.tQ,b.A1,b.uQ,b.d2,b.vRa,b.EOa,b.FOa,b.uRa];c.Al=a;a.hYa="simplesdh";a.D1="dfxp-ls-sdh";a.OC="nflx-cmisc";a.RMb="simplesdh-enc";a.QHb="dfxp-ls-sdh-enc";a.lR="nflx-cmisc-enc";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.qp="LogMessageFactorySymbol";},function(d,c){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(c,"__esModule",{value:!0});da(a,Error);c.Pn=a;c.Zy="PromiseTimerSymbol";},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(37);d=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===b.Mv?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();c.Metadata=d;},function(d,c,a){var t,u,y,E,D,g,G,M,N,P,l,Y,q,A,X,r;function b(a){var f,b,k,m;f=a.url.split("?");b=f[0];k="sc="+a.qyb;m=a.wua?"random="+(1E17*l.BI()).toFixed(0):"";b=f[1]?b+("?"+f[1]+"&"+k):b+("?"+k);b=b+(m?"&"+m:"");a.ec&&!E.rca(b)&&(a=u.config&&u.config.L7)&&(b=a.replace("{URL}",b).replace("{EURL}",encodeURIComponent(b)));return b;}function h(a){var f,b,k,m;f=a.url.split("?");b=f[0];k="bb_reason="+a.reason;m=a.wua?"random="+(1E17*l.BI()).toFixed(0):"";b=f[1]?b+("?"+f[1]+"&"+k):b+("?"+k);b=b+(m?"&"+m:"");a.ec&&!E.rca(b)&&(a=u.config&&u.config.L7)&&(b=a.replace("{URL}",b).replace("{EURL}",encodeURIComponent(b)));return b;}function n(a,f){var b,k,m,h;b=a.url.split("?");k=b[0];m=p(a);m&&(f.qq=m,(void 0===a.hp?u.config.hp:a.hp)?(a.headers=a.headers||{},a.headers.Range="bytes="+m):(f.qq=m,k="/"==k[k.length-1]?k+"range/":k+"/range/",k+=m));m=a.wua?"random="+(1E17*l.BI()).toFixed(0):"";u.config.mA&&a.P_&&(h="sc="+a.P_,m=h+(m?"&"+m:""));k=b[1]?k+("?"+b[1]+(m?"&"+m:"")):k+(m?"?"+m:"");a.ec&&!E.rca(k)&&(a=u.config&&u.config.L7)&&(k=a.replace("{URL}",k).replace("{EURL}",encodeURIComponent(k)));f.url=k;}function p(a){var f;f=a.offset;if(void 0!==f)return N.bV(f),void 0!==a.length?(a=a.offset+a.length-1,N.bV(a),N.Ra(f<=a),f+"-"+a):f+"-";}function f(){return!1!==l.ej.onLine;}function k(a,f,b,k){var m,h;m=k.gfa;h=k.headers;a.open(m?"POST":"GET",f,!b);switch(k.responseType){case c.rX:a.responseType="arraybuffer";break;case c.YAa:P.I8a(a,"overrideMimeType",void 0,"text/xml");}m&&(f={"Content-Type":g.ee(m)?"text/plain":"application/x-octet-stream"},h=h?g.xb(f,h):f);h&&P.Gd(h,function(f,b){a.setRequestHeader(f,b);});k.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");m?a.send(m):a.send();}function m(a,f){switch(f.type){case c.rX:return a.response||new ArrayBuffer(0);case c.YAa:return a.responseXML;default:return a.responseText;}}Object.defineProperty(c,"__esModule",{value:!0});t=a(79);u=a(12);y=a(11);E=a(40);D=a(34);g=a(20);G=a(2);M=a(5);N=a(18);P=a(19);l=a(10);Y=a(51);q=a(15);A=a(24);X={P3:1,aOb:2,UMa:3};c.Ye=function(){var E,z,P,l;function a(a){var f;try{f=a.url;q.bCa(f)?0===f.indexOf("https")?l.ssl++:0===f.indexOf("http")?l["non-ssl"]++:l.invalid++:l.invalid++;}catch(ja){}}function p(){z.Sb(c.ylb);z.Sb(c.ZAa);}function d(){z.Sb(c.Fba);z.Sb(c.ZAa);}E=M.Jg("Http");z=new t.Jk();P=0;l={ssl:0,"non-ssl":0,invalid:0};M.$.get(A.Cf).register(G.K.Sla,function(a){u.config.vEb&&(L.addEventListener("online",p),L.addEventListener("offline",d),c.Eba=f);a(y.pd);});return{addEventListener:z.addListener,removeEventListener:z.removeListener,download:function(f,b){var S,O,X,T,ma,ia,R,U,oa,ta,wa;function h(){var a;h=g.Pe;wa&&(clearTimeout(wa),wa=null);z.removeListener(c.Fba,y);oa&&(oa.onloadstart=null,oa.onreadystatechange=null,oa.onprogress=null,oa.onerror=null,oa.onload=null,oa=oa.onabort=null);U.aa||(U.da!=G.G.Cv?S.warn("Download failed",O,G.op(U)):S.trace("Download aborted",O));a=X;X=void 0;for(var f=a.length;f--;)(function(){var b;b=a[f];Y.Pb(function(){b(U);});}());z.Sb(c.xlb,U,!0);}function t(){wa&&(clearTimeout(wa),wa=null);wa=setTimeout(l,ta?R:ia);}function p(a,f,b,k){var m,t;U.aa=!1;U.da=a;m=D.ah();t=U.tk;t.Sg=t.Sg||m;t.sm=t.sm||m;0<f&&(U.Oi=U.Td=f);b&&(U.lb=b);k&&(U.hy=k);a!==G.G.nI&&a!==G.G.My&&a!==G.G.qI||!oa||(oa.onabort=null,W());h();}function d(a){var f,b;try{b=a.getResponseHeader("X-Netflix.Retry.Server.Policy");b&&(f=JSON.parse(b));}catch(gb){}return f;}function y(){c.Eba()||p(G.G.nI);}function l(){p(ta?G.G.My:G.G.qI);}function W(){try{oa&&oa.abort();}catch(Oc){}}function A(){p(G.G.Cv);}N.Ra(b);S=f.j&&f.j.log&&M.fh(f.j,"Http")||E;O={Num:P++};X=[b];T={};ia=f.MU||u.config.MU;R=f.nea||u.config.nea;a(f);U=function(){var a,b,k;a=g.Pe;b=g.Pe;k=g.Pe;return{request:f,type:f.responseType,tk:T,abort:W,timeout:l,x6:function(a){h!==g.Pe&&(N.Ra(X,"Callback should be added before download starts."),X&&X.unshift(a));},kZ:function(a){k(a);},mZ:function(f){a(f);},vG:function(a){b(a);},Izb:function(a){k=a;},Qzb:function(f){a=f;},Czb:function(a){b=a;}};}();Y.Pb(function(){var a,b;if(q.bCa(f.url))try{if(n(f,U),ma=U.url,N.uL(ma),O.Url=ma,c.Eba()){oa=new XMLHttpRequest();a=u.config.AEb&&"undefined"!=typeof oa.onloadstart;a&&(oa.onloadstart=function(){var a;a=D.ah();T.requestTime=a;U.kZ({mediaRequest:f,timestamp:a});});oa.onreadystatechange=function(){if(2==oa.readyState){ta=!0;T.Sg=D.ah();oa.onreadystatechange=null;t();for(var a=U,b=oa.getAllResponseHeaders().split("\n"),k=b.length,m,h,c={};k--;)if(m=b[k])h=m.indexOf(": "),1<=h&&h<m.length-1&&(c[m.substr(0,h)]=m.substr(h+2));a.headers=c;U.mZ({timestamp:T.Sg,connect:!0,mediaRequest:f,start:T.requestTime,rt:[T.Sg-T.requestTime]});}};oa.onprogress=function(a){ta=!0;T.Nw=a.loaded;t();a={mediaRequest:f,bytes:a.loaded,tempstamp:D.ah(),bytesLoaded:a.loaded};U.mZ(a);};oa.onload=function(){var a;if(h!==g.Pe){N.Ra(void 0===T.sm);T.sm=D.ah();T.Sg=T.Sg||T.sm;if(200<=oa.status&&299>=oa.status)if(a=m(oa,U),f.dg)try{U.content=f.dg(a,U);U.aa=!0;U.parsed=!0;U.raw=a;}catch(gb){S.warn("Exception parsing response",gb,O);p(G.G.p2,void 0,g.We(gb));}else U.parsed=!1,U.content=a,U.aa=!0;else oa.status==r?p(G.G.pI,oa.status):p(G.G.oI,oa.status,oa.response,d(oa));h();}};oa.onabort=A;oa.onerror=function(){var a,f;a=oa.status;"undefined"!==typeof u.config.gya&&(a=u.config.gya);if(0<a)if(a==r)p(G.G.pI,a);else{try{f=oa.responseText;}catch(Ge){}p(G.G.oI,a,f,d(oa));}else p(G.G.rI);};b=D.ah();k(oa,ma,!1,f);z.Sb(c.Dba,U,!0);a||(T.requestTime=b,U.kZ({mediaRequest:f,timestamp:b}));t();z.addListener(c.Fba,y);}else Y.Pb(p.bind(void 0,G.G.nI));}catch(Fe){S.error("Exception starting download",Fe,O);p(G.G.t2,void 0,g.We(Fe));}else p(G.G.pla);});return U;},Ub:l,ZTb:function(a){var f;f=new XMLHttpRequest();a=h(a);f.open("HEAD",a);f.onreadystatechange=function(){};f.send();},EAb:function(a){var f;f=new XMLHttpRequest();a=b(a);f.open("HEAD",a);f.onreadystatechange=function(){};f.send();},mvb:function(a){var f,b,k;f=new XMLHttpRequest();b=a.url;k=a.jvb;f.open("HEAD",b);f.timeout=Math.max(2*k.Fob,u.config.tfa);f.onreadystatechange=function(){2==f.readyState&&k&&k.im({url:b});};f.ontimeout=f.onerror=function(){k&&k.vea({url:b});};f.send();},HXa:X};}();c.lSb=b;c.iSb=h;c.kSb=n;c.jSb=p;c.Eba=y.JXa;c.mSb=f;c.cOb=k;c.bOb=m;c.Dba=1;c.xlb=2;c.ylb=3;c.Fba=4;c.ZAa=5;c.XAa=1;c.YAa=2;c.rX=3;r=420;L._cad_global.http=c.Ye;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.T1="EventSourceSymbol";c.W1="GlobalEventSourceSymbol";c.bI="DebugEventSourceSymbol";c.wka="DiagnosticsEventSourceSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.fz="TimingApiSymbol";c.EI="MilestoneTimingApiSymbol";},function(d,c,a){var b,h,n,p,f,k,m,t;b=a(82);h=a(492);n=a(491);p=a(503);f=a(9);k=a(182);m=a(1088);t=a(265);c.as=function(a,c,d,D){var u;u=new m.Yla(a,d,D);if(u.closed)return null;if(c instanceof f.Ba)if(c.Ys)u.next(c.value),u.complete();else return u.sl=!0,c.subscribe(u);else if(h.zBa(c)){a=0;for(d=c.length;a<d&&!u.closed;a++)u.next(c[a]);u.closed||u.complete();}else{if(n.SBa(c))return c.then(function(a){u.closed||(u.next(a),u.complete());},function(a){return u.error(a);}).then(null,function(a){b.root.setTimeout(function(){throw a;});}),u;if(c&&"function"===typeof c[k.iterator]){c=c[k.iterator]();do{a=c.next();if(a.done){u.complete();break;}u.next(a.value);if(u.closed)break;}while(1);}else if(c&&"function"===typeof c[t.observable])if(c=c[t.observable](),"function"!==typeof c.subscribe)u.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return c.subscribe(new m.Yla(a,d,D));else c="You provided "+(p.uf(c)?"an invalid object":"'"+c+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",u.error(new TypeError(c));}return null;};},function(d,c,a){var b;b=this&&this.__extends||function(a,b){function h(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(h.prototype=b.prototype,new h());};d=function(a){function h(){a.apply(this,arguments);}b(h,a);h.prototype.Sx=function(a,f){this.destination.next(f);};h.prototype.sea=function(a){this.destination.error(a);};h.prototype.im=function(){this.destination.complete();};return h;}(a(49).gj);c.Iq=d;},function(d,c,a){var h,n,p,f,k,m;function b(a){return a.reduce(function(a,f){return a.concat(f instanceof m.SR?f.hF:f);},[]);}h=a(90);n=a(503);p=a(502);f=a(1106);k=a(501);m=a(1105);d=function(){function a(a){this.closed=!1;this.bE=this.wz=this.Xn=null;a&&(this.tt=a);}a.prototype.unsubscribe=function(){var a,t,c,d,g,G;a=!1;if(!this.closed){c=this.Xn;d=this.wz;g=this.tt;G=this.bE;this.closed=!0;this.bE=this.wz=this.Xn=null;for(var M=-1,N=d?d.length:0;c;)c.remove(this),c=++M<N&&d[M]||null;p.Tb(g)&&(c=f.yKa(g).call(this),c===k.ax&&(a=!0,t=t||(k.ax.e instanceof m.SR?b(k.ax.e.hF):[k.ax.e])));if(h.isArray(G))for(M=-1,N=G.length;++M<N;)c=G[M],n.uf(c)&&(c=f.yKa(c.unsubscribe).call(c),c===k.ax&&(a=!0,t=t||[],c=k.ax.e,c instanceof m.SR?t=t.concat(b(c.hF)):t.push(c)));if(a)throw new m.SR(t);}};a.prototype.add=function(f){var b;if(!f||f===a.EMPTY)return a.EMPTY;if(f===this)return this;b=f;switch(typeof f){case"function":b=new a(f);case"object":if(b.closed||"function"!==typeof b.unsubscribe)return b;if(this.closed)return b.unsubscribe(),b;"function"!==typeof b.aqa&&(f=b,b=new a(),b.bE=[f]);break;default:throw Error("unrecognized teardown "+f+" added to Subscription.");}(this.bE||(this.bE=[])).push(b);b.aqa(this);return b;};a.prototype.remove=function(a){var f;f=this.bE;f&&(a=f.indexOf(a),-1!==a&&f.splice(a,1));};a.prototype.aqa=function(a){var f,b;f=this.Xn;b=this.wz;f&&f!==a?b?-1===b.indexOf(a)&&b.push(a):this.wz=[a]:this.Xn=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();c.zl=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.epa="StorageValidatorSymbol";c.qs="AppStorageFactorySymbol";},function(d,c,a){var h,n,p,f,k;function b(a,f,b,k,h,c){this.context=a;this.errorCode=f;this.Wxb=b;this.cga=h;this.M5=c;this.name=k;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(317);p=a(3);f=a(45);k=a(31);b.prototype.send=function(a,f,b,h,c,n,p){var m;p=void 0===p?k.Lv.wR:p;m=this;return this.Nhb(a,f,b,p,h,c,n).then(function(a){return m.context.rdb.send(a.context,a.request);});};b.prototype.Nhb=function(a,f,b,k,h,c,n){var m,t;try{m=this.context.yxb.create(this.context.FF.aA(),f,b,h,k);t=this.h8a(a,k,c,n);return Promise.resolve({context:t,request:m});}catch(N){return Promise.reject(N);}};b.prototype.h8a=function(a,f,b,k){return{Ye:this.context.Ye,log:a,gk:this.name,url:this.context.nEb(n.k8a(this.context.Xf,this.context.Fj,this.name,f)),pga:this.Wxb,timeout:p.rh(59),headers:n.j8a(this.context.Fj,this.context.Uw),bga:this.bga,cga:void 0!==b?b:this.cga,O7a:k};};b.prototype.xo=function(a){return a instanceof f.Ic?a:n.xo(this.errorCode,a);};b.prototype.Sua=function(a){var f;f=this;a.forEach(function(a){if(f.MX(a))throw a.error;});};b.prototype.MX=function(a){return void 0!==a.error;};pa.Object.defineProperties(b.prototype,{bga:{configurable:!0,enumerable:!0,get:function(){return this.M5;}}});a=b;a=d.__decorate([h.N(),d.__param(0,h.Sh()),d.__param(1,h.Sh()),d.__param(2,h.Sh()),d.__param(3,h.Sh()),d.__param(4,h.Sh()),d.__param(5,h.Sh())],a);c.Ai=a;},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(0).__exportStar(a(654),c);},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.xs="DeviceFactorySymbol";},function(d){d.P=function a(b,h){var n;b.__proto__&&b.__proto__!==Object.prototype&&a(b.__proto__,h);Object.getOwnPropertyNames(b).forEach(function(a){n=Object.getOwnPropertyDescriptor(b,a);void 0!==n&&Object.defineProperty(h,a,n);});};},function(d,c,a){var b,h,n,p,f,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(7);h=a(14);n=a(75);p=a(402);f=a(33);d=a(44);k=a(173);m=a(228);a=a(172);t=function(a){function t(f,b){var k;k=a.call(this,f,b)||this;k.lj=b.index;k.qD=b.eb;k.Rs=b.rb;k.L4a=b.uc?b.uc:f.uc;k.$G=b.$G;k.csa=b.pq||0;k.jra=!!b.xu;k.tg=void 0===b.J$||void 0===b.H$||b.J$===b.eb&&b.H$===b.rb?k:new m.RH(k,{eb:b.J$,rb:b.H$});k.W1a=b.$da;k.n_a=b.di;k.Ts=b.Sa?k.wEa(b.Sa):void 0;k.ysa=b.mv;k.Ji=!1;return k;}b.__extends(t,a);t.Rbb=function(a){for(var f=new Uint32Array(a.length),b=new Uint32Array(a.length),k=0,m,h,t=0;t<a.length;++t)m=a[t],h=m.Zb,f[t]=m.Rs-m.qD,b[t]=h,k+=h;return new p.Zoa(f,b,a.length?a[0].X:1E3,k);};Object.defineProperties(t.prototype,{KA:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{index:{get:function(){return this.lj;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{uc:{get:function(){return this.L4a;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{eb:{get:function(){return this.qD;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{rb:{get:function(){return this.Rs;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{pq:{get:function(){return this.csa;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{xu:{get:function(){return this.jra;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{$da:{get:function(){return this.W1a;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{di:{get:function(){return this.n_a;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{Sa:{get:function(){return this.Ts;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{mv:{get:function(){return this.ysa;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{J$:{get:function(){return this.tg.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{H$:{get:function(){return this.tg.rb;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{ogb:{get:function(){return this.tg.so;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{mya:{get:function(){return this.tg.ZN;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{jx:{get:function(){return this.tg.pc;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{kW:{get:function(){return this.tg.ge;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{lya:{get:function(){return this.tg.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{I$:{get:function(){return this.tg.Wb;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{ngb:{get:function(){return this.tg.sd;},enumerable:!0,configurable:!0}});Object.defineProperties(t.prototype,{$L:{get:function(){return this.ogb/this.stream.Ta.Gb;},enumerable:!0,configurable:!0}});t.prototype.FIa=function(a){this.csa=a.hg(this.X).Gb;};t.prototype.hDa=function(){this.jra=!0;};t.prototype.Rzb=function(a){this.$G={ke:a.Tya(),oca:a.nv};};t.prototype.QO=function(a){this.ysa=a;};t.prototype.Jj=function(a){var f,b;void 0===a&&(a={});f=this.stream.Ta.Gb;b=this.Ts||{start:0,end:this.$L};a=this.wEa(a);this.tg&&this.tg!==this||(this.tg=new m.RH(this,this));a.start>b.start&&(this.qD=this.tg.eb+a.start*f);a.end<b.end&&(this.Rs=this.tg.eb+a.end*f);this.Ts=a;};t.prototype.z9=function(a){void 0===a&&(a=1);this.Ts?this.Jj({start:this.Ts.start+a,end:this.Ts.end}):this.Jj({start:a});};t.prototype.Pdb=function(){this.Ts?this.Jj({start:this.Ts.start,end:(this.Ts.end||0)-1}):this.Jj({start:0,end:-1});};t.prototype.Rfb=function(a){var k;if(!(a<this.S||a>=this.ia)&&this.di&&this.di.length){a=new f.sa(a+1-this.S,1E3).au(this.stream.Ta);for(var b=this.di.length-1;0<=b;--b){k=this.di[b];if(k.um<=a)return k;}return{um:0,Oc:this.jx};}};t.prototype.Qfb=function(a){var k;if(!(a<this.S||a>=this.ia)&&this.di&&this.di.length){a=new f.sa(a+1-this.S,1E3).au(this.stream.Ta);for(var b=this.di.length-1;0<=b;--b){k=this.di[b];if(k.um<=a)return k;}return{um:0,Oc:this.jx};}};t.prototype.Oxa=function(a,b){var k,m,h;if(!(a<this.S||a>=this.ia)){k=this.Ta.Gb;m=this.Ta.X;h=Math.floor(this.so/k);a=Math.min((b?Math.ceil:Math.floor)((f.sa.bea(a,m)-this.eb+(b?-1:1)*(m/1E3-1))/k),h);k=f.sa.lia(this.eb+a*k,m);return a===h?void 0:{um:a,Oc:k};}};t.prototype.YV=function(a){return this.M===h.Na.VIDEO?this.Rfb(a):this.Oxa(a,!1);};t.prototype.Ofb=function(a){return this.M===h.Na.VIDEO?this.Qfb(a):this.Oxa(a,!0);};t.prototype.K6=function(a){this.Zb+=a.ba;this.Rs=a.rb;};t.prototype.toString=function(){return"["+this.qa+", "+this.R+"kbit/s, "+("c:"+this.Wb+"-"+this.sd+",")+("p:"+this.pc+"-"+this.ge+",d:"+this.duration+"]");};t.prototype.toJSON=function(){var a;a=k.By.prototype.toJSON.call(this);n({index:this.index,startPts:this.S,endPts:this.ia,contentStartPts:this.Wb,contentEndPts:this.sd,fragmentStartPts:this.jx!==this.S?this.jx:void 0,fragmentEndPts:this.kW!==this.ia?this.kW:void 0,edit:this.Sa},a);return a;};t.prototype.Uxa=function(a){var f;if(this.di)for(var b=0;b<this.di.length;++b)this.di[b].um===a&&(f=this.di[b].offset);return f;};t.prototype.wEa=function(a){return{start:a.start||0,end:(void 0!==a.end&&0<=a.end?0:this.$L)+(a.end||0)};};return t;}(k.By);c.yi=t;d.cj(a.cQ,t);},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(132);c.mz=function(a){b.assert("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};c.rqa=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};c.pOb=function(a,b){return Math.floor(1E3*a/b);};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.$q=function(a,b){var h;return a.some(function(a,c,f){h=a;return b(a,c,f);})?h:void 0;};c.oE=function(a,b){var h;h=-1;return a.some(function(a,c){h=c;return b(a);})?h:-1;};c.P9a=function(a){return function(b,h){b=a(b);h=a(h);return b<h?-1:b>h?1:0;};};c.ETb=function(a){return function(b,h){return a(b)<a(h)?b:h;};};c.gx=function(a){var b;return(b=[]).concat.apply(b,a);};c.C$a=function(a){var b;void 0===b&&(b=function(a){return a;});return a.reduce(function(a,c){c=b(c);return void 0===a[c]?a[c]=1:++a[c],a;},{});};c.Crb=function(a){return null!==a&&void 0!==a;};},function(d,c,a){var h,n;function b(){var a,f;a=this;this.xp={};this.on=function(f,b,h){a.addListener(f,b,h);};this.addListener=function(f,b,h){a.xp&&(a.xp[f]=a.xp[f]||new n.xoa(!0)).add(b,h);};this.removeListener=function(f,b){a.xp&&a.xp[f]&&a.xp[f].removeAll(b);};this.jaa=function(f){return a.xp&&a.xp[f]?a.xp[f].gx():[];};f=this;this.Sb=function(a,b,t){var k;if(f.xp){k=f.jaa(a);for(a={Bj:0};a.Bj<k.length;a={Bj:a.Bj},a.Bj++)t?function(a){return function(){var f;f=k[a.Bj];h.Pb(function(){f(b);});};}(a)():k[a.Bj].call(this,b);}};}Object.defineProperty(c,"__esModule",{value:!0});h=a(51);n=a(468);b.prototype.rg=function(){this.xp=void 0;};c.Jk=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Vg={audio:"audio",video:"video",p0:"timedtext",yia:"trickplay"};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Em={start:"start",stop:"stop",SM:"keepAlive",OL:"engage",splice:"splice"};c.S1="EventPboCommandFactorySymbol";c.cpa="StartEventPboCommandSymbol";c.dpa="StopEventPboCommandSymbol";c.ema="KeepAliveEventPboCommandSymbol";c.$oa="SpliceEventPboCommandSymbol";c.Vka="EngageEventPboCommandSymbol";},function(d,c,a){d=a(151);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;d="undefined"!==typeof L&&L||"undefined"!==typeof d&&d||a;c.root=d;if(!d)throw Error("RxJS could not find any global context (window, self, global)");},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.mp={Request:"Request",K3:"Singleton",OR:"Transient"};c.Bi={Vja:"ConstantValue",Wja:"Constructor",Ika:"DynamicValue",V1:"Factory",Function:"Function",A2:"Instance",SSa:"Invalid",Aoa:"Provider"};c.Ls={Sja:"ClassProperty",Xja:"ConstructorArgument",W3:"Variable"};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.yb=!1;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function h(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(h,a);h.prototype.parse=function(b){a.prototype.parse.call(this,b);this.xd=this.Ur([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{fSb:"int32"},{lWb:"int32"},{offset:32,type:"offset"},{pgb:"int16"},{Z9a:{type:"int8",v6a:32}},{depth:"int16"},{offset:16,type:"offset"}]);return!0;};h.ic=!0;return h;}(a(233)["default"]);c["default"]=d;a=function(a){function h(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(h,a);h.Je="avc1";return h;}(d);c.iMa=a;a=function(a){function h(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(h,a);h.Je="avc2";return h;}(d);c.jMa=a;a=function(a){function h(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(h,a);h.Je="avc3";return h;}(d);c.kMa=a;a=function(a){function h(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(h,a);h.Je="avc4";return h;}(d);c.lMa=a;a=function(a){function h(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(h,a);h.Je="hvc1";return h;}(d);c.DRa=a;d=function(a){function h(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(h,a);h.Je="hev1";return h;}(d);c.yRa=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.R2="6674654e-696c-5078-6966-665374726d21";c.S2="6674654e-696c-4878-6165-6465722e7632";c.$ma="6674654e-696c-5078-6966-66496e646578";c.kR="6674654e-696c-4d78-6f6f-6653697a6573";c.jR="6674654e-696c-5378-6565-6b506f696e74";c.wna="cedb7489-e77b-514c-84f9-7148f9882554";c.vna="524f39a2-9b5a-144f-a244-6c427c648df4";c.Q2="6674654e-696c-4678-7261-6d6552617465";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a){this.ze=a;}a.prototype.GIa=function(a){this.ze=a;};a.prototype.Zua=function(){this.ze=void 0;};a.prototype.ZL=function(a){return this.ze&&this.ze.nZ&&this.ze.nZ(a);};a.prototype.uA=function(a){this.ze&&this.ze.Pu&&this.ze.Pu(a);};a.prototype.tA=function(a){this.ze&&this.ze.QN&&this.ze.QN(a);};a.prototype.oF=function(a){this.ze&&this.ze.RN&&this.ze.RN(a);};a.prototype.hya=function(a){this.ze&&this.ze.Hea&&this.ze.Hea(a);};a.prototype.Qp=function(a){this.ze&&this.ze.Vi&&this.ze.Vi(a);};a.prototype.jW=function(a){this.ze&&this.ze.PN&&this.ze.PN(a);};a.prototype.iW=function(a,h,c){this.ze&&this.ze.ON&&this.ze.ON(a,h,c);};return a;}();c.rs=d;d.prototype.nZ=d.prototype.ZL;d.prototype.Pu=d.prototype.uA;d.prototype.QN=d.prototype.tA;d.prototype.RN=d.prototype.oF;d.prototype.Vi=d.prototype.Qp;d.prototype.PN=d.prototype.jW;d.prototype.ON=d.prototype.iW;d.prototype.Hea=d.prototype.hya;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Swa=0]="downloading";a[a.Idb=1]="downloaded";a[a.Ji=2]="appended";a[a.buffered=3]="buffered";a[a.kxb=4]="removed";a[a.aWb=5]="unused";}(c.oja||(c.oja={})));(function(a){a[a.waiting=1]="waiting";a[a.gUb=2]="ondeck";a[a.Swa=4]="downloading";a[a.Idb=8]="downloaded";a[a.IM=6]="inprogress";}(c.nja||(c.nja={})));c.sGb="AseBufferViewSymbol";c.aQ="AseBufferAccountingSymbol";},function(d,c,a){var b,h,n,p;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var k in b)b.hasOwnProperty(k)&&(a[k]=b[k]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};d=a(9);h=a(261);n=a(141);p=a(120);a=function(a){function f(f,b){a.call(this);this.bk=f;(this.la=b)||1!==f.length||(this.Ys=!0,this.value=f[0]);}b(f,a);f.create=function(a,b){return new f(a,b);};f.of=function(){var k;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];p.LA(b)?a.pop():b=null;k=a.length;return 1<k?new f(a,b):1===k?new h.I3(a[0],b):new n.fI(b);};f.Pb=function(a){var f,b,k;f=a.bk;b=a.index;k=a.gg;b>=a.count?k.complete():(k.next(f[b]),k.closed||(a.index=b+1,this.Eb(a)));};f.prototype.Hg=function(a){var b,k,m;b=this.bk;k=b.length;m=this.la;if(m)return m.Eb(f.Pb,0,{bk:b,index:0,count:k,gg:a});for(m=0;m<k&&!a.closed;m++)a.next(b[m]);a.complete();};return f;}(d.Ba);c.uv=a;},function(d,c){c.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.pka="DebugConfigSymbol";c.ws="DebugSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.Gm=0]="STANDARD";a[a.Gv=1]="LIMITED";}(c.Tj||(c.Tj={})));c.yCa=function(a){return["STANDARD","LIMITED"][a];};},function(d,c,a){var h,n;function b(a,f,b,m,t){a=void 0===a?h.K.Nk:a;return n.Ic.call(this,a,f,b,void 0,void 0,m,n.Ic.We(t),t)||this;}Object.defineProperty(c,"__esModule",{value:!0});h=a(2);n=a(45);da(b,n.Ic);c.Uf=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Xla="Injector";c.Ry=145152E5;c.XI="ProfileSymbol";},function(d,c,a){var n,p;function b(a,b,m,h,c){var f,k,d;f={};k="number"===typeof c;c=void 0!==c&&k?c.toString():m;if(k&&void 0!==m)throw Error(n.ASa);Reflect.lba(a,b)&&(f=Reflect.getMetadata(a,b));m=f[c];if(Array.isArray(m))for(var k=0,t=m;k<t.length;k++){d=t[k];if(d.key===h.key)throw Error(n.GPa+" "+d.key.toString());}else m=[];m.push(h);f[c]=m;Reflect.e9(a,f,b);}function h(a,b){return function(f,k){b(f,k,a);};}Object.defineProperty(c,"__esModule",{value:!0});n=a(56);p=a(37);c.XB=function(a,k,m,h){b(p.jpa,a,k,h,m);};c.mP=function(a,k,m){b(p.kpa,a.constructor,k,m);};c.Sw=function(a,b,m){"number"===typeof m?Reflect.Sw([h(m,a)],b):"string"===typeof m?Reflect.Sw([a],b,m):Reflect.Sw([a],b);};},function(d,c){var b;function a(a,c){var h;h=this;this.O4=[];b.forEach(function(f){(f=f(a,c))&&h.O4.push(f);});}Object.defineProperty(c,"__esModule",{value:!0});b=[];a.prototype.gv=function(a){var f;for(var b=[],h=this.O4.length;h--;){f=this.O4[h];f.gv(a)&&b.push(f.UL);}if(b.length)return b;};c.DUa=a;c.DI=function(a){b.push(a);};},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(15);c.Gs=c.Gs||function(a,b,c){return a>=b?a<=c?a:c:b;};c.hLb=function(a,b,c,f,k){return(a-b)*(k-f)/(c-b)+f;};c.Vh=function(a){if(b.ma(a))return(a/1E3).toFixed(3);};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.ResponseType||(c.ResponseType={});d[d.Text=0]="Text";d[d.dOb=1]="Xml";d[d.UGb=2]="Binary";c.vJb="HttpClientSymbol";c.Py="LegacyHttpSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yy="PboConfigSymbol";},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});d=a(235);b=a(131);c.IPa=b;b=a(411);c.T3=b;b=a(407);c.UOb=b;c.Yoa=d.pG.Mc.sidx;d=a(839);c.Wy=d.Wy;d=a(403);c.FI=d.FI;d=a(835);c.Kv=d.Kv;c.hN=d.hN;d=a(77);c.mz=d.mz;a=a(834);c.Cs=a.Cs;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.KC="LoggerSinksSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.$C="ThrottleFactorySymbol";},function(d,c,a){var h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);a=a(1);b.prototype.format=function(a,b){var k;for(var f=1;f<arguments.length;++f);k=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,f){return"undefined"!=typeof k[f]?k[f]:a;});};b.prototype.zBb=function(a){for(var b=a.length,f=new Uint16Array(b),k=0;k<b;k++)f[k]=a.charCodeAt(k);return f.buffer;};b.prototype.EBb=function(a){return JSON.stringify(a,null,"  ");};h=b;h=d.__decorate([a.N()],h);c.dz=h;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.gz="Utf8EncoderSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Dy="Base16EncoderSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jv="MediaKeySystemAccessServicesSymbol";},function(d,c){var a;Object.defineProperty(c,"__esModule",{value:!0});a=0;c.id=function(){return a++;};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.Bs||(c.Bs={});d[d.SGb=8]="Backspace";d[d.Tab=9]="Tab";d[d.CIb=13]="Enter";d[d.rNb=16]="Shift";d[d.JHb=17]="Ctrl";d[d.mGb=18]="Alt";d[d.aMb=19]="PauseBreak";d[d.xHb=20]="CapsLock";d[d.IIb=27]="Escape";d[d.tNb=32]="Space";d[d.$Lb=33]="PageUp";d[d.ZLb=34]="PageDown";d[d.BIb=35]="End";d[d.tJb=36]="Home";d[d.ZJb=37]="LeftArrow";d[d.RNb=38]="UpArrow";d[d.uMb=39]="RightArrow";d[d.gIb=40]="DownArrow";d[d.SJb=45]="Insert";d[d.$Hb=46]="Delete";d[d.gOb=48]="Zero";d[d.yLb=49]="One";d[d.LNb=50]="Two";d[d.INb=51]="Three";d[d.cJb=52]="Four";d[d.aJb=53]="Five";d[d.sNb=54]="Six";d[d.qNb=55]="Seven";d[d.AIb=56]="Eight";d[d.dLb=57]="Nine";d[d.cGb=65]="A";d[d.uGb=66]="B";d[d.mHb=67]="C";d[d.DOa=68]="D";d[d.E=69]="E";d[d.JIb=70]="F";d[d.dJb=71]="G";d[d.gJb=72]="H";d[d.MRa=73]="I";d[d.TJb=74]="J";d[d.D2=75]="K";d[d.WSa=76]="L";d[d.bKb=77]="M";d[d.PUa=78]="N";d[d.sLb=79]="O";d[d.ALb=80]="P";d[d.Q=81]="Q";d[d.mMb=82]="R";d[d.XXa=83]="S";d[d.$Ya=84]="T";d[d.MNb=85]="U";d[d.SNb=86]="V";d[d.YNb=87]="W";d[d.Z3=88]="X";d[d.eOb=89]="Y";d[d.fOb=90]="Z";d[d.$Jb=91]="LeftWindowKey";d[d.vMb=92]="RightWindowKey";d[d.oNb=93]="SelectKey";d[d.iLb=96]="Numpad0";d[d.jLb=97]="Numpad1";d[d.kLb=98]="Numpad2";d[d.lLb=99]="Numpad3";d[d.mLb=100]="Numpad4";d[d.nLb=101]="Numpad5";d[d.oLb=102]="Numpad6";d[d.pLb=103]="Numpad7";d[d.qLb=104]="Numpad8";d[d.rLb=105]="Numpad9";d[d.CKb=106]="Multiply";d[d.lGb=107]="Add";d[d.BNb=109]="Subtract";d[d.ZHb=110]="DecimalPoint";d[d.fIb=111]="Divide";d[d.KIb=112]="F1";d[d.OIb=113]="F2";d[d.PIb=114]="F3";d[d.QIb=115]="F4";d[d.RIb=116]="F5";d[d.SIb=117]="F6";d[d.TIb=118]="F7";d[d.UIb=119]="F8";d[d.VIb=120]="F9";d[d.LIb=121]="F10";d[d.MIb=122]="F11";d[d.NIb=123]="F12";d[d.fLb=144]="NumLock";d[d.mNb=145]="ScrollLock";d[d.pNb=186]="SemiColon";d[d.EIb=187]="Equals";d[d.EHb=188]="Comma";d[d.YHb=189]="Dash";d[d.cMb=190]="Period";d[d.bJb=191]="ForwardSlash";d[d.JNb=192]="Tilde";d[d.zLb=219]="OpenBracket";d[d.RGb=220]="BackSlash";d[d.CHb=221]="CloseBracket";d[d.lMb=222]="Quote";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.cD="VideoPreparerSymbol";},function(d,c,a){(function(b,h){var p;function c(a,b){var f;f=Date.now();this.VAb=f;this.LV=f+a;this.Ntb=a;this.mcb=f+b;this.debug=!1;this.iL=this.fq=0;}p=new(a(4)).Console("ASEJS_QOE_EVAL","media|asejs");c.prototype.constructor=c;c.prototype.qb=function(a,k){var f;a=((a-this.VAb)/1E3).toFixed(3);a="     ".slice(a.length-4)+a;f=b.hqb();p.debug(a+(" "+Math.floor(f.cSb/1024/1024)+" MB/"+Math.floor(f.SAa/1024/1024)+" MB ")+this.V8+k);};c.prototype.R3a=function(a){var f;f=Date.now();this.V8=a;this.fq=0;this.origin=f;this.qb(f,"starting");};c.prototype.B4a=function(a){var f,m;this.iL++;if(!(1E3>this.iL)){this.iL=0;f=Date.now();if(f>=this.mcb)throw Error("Execution deadline exceeded: "+this.V8);m=b.hqb();this.fq=Math.max(this.fq,m.SAa);if(7516192768<m.SAa)throw Error("Heap total limit exceeded: "+this.V8);if(!(f<=this.LV)){for(;f>this.LV;)this.LV+=this.Ntb;this.qb(f,a);}}};c.Xb=function(){h.LG=new c(5E3,33E5);};c.J_=function(a){h.LG&&h.LG.R3a(a);};c.update=function(a){h.LG&&h.LG.B4a(a);};c.zaa=function(){if(h.LG)return h.LG.fq;};d.P=c;}.call(this,a(256),a(151)));},function(d,c,a){d.P={EventEmitter:a(750),pp:a(749)};},function(d,c,a){var f,k;function b(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function h(a){return f.ee(a);}function n(a){return f.ma(a);}function p(a){return!b(a)&&!h(a)&&!n(a)&&!Array.isArray(a)&&f.uf(a);}f=a(6);k={Gy:0,JR:1,WUa:2,OBJECT:3,Nk:4};d.P={aba:function(a){return b(a)?k.Gy:h(a)?k.JR:n(a)?k.WUa:p(a)?k.OBJECT:k.Nk;},KX:b,ee:h,ma:n,uf:p,Ln:k};},function(d){var c;c={EM:function(a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);}};d.P=c;},function(d,c,a){var n,p,f,k,m,t,u,y;function b(a){var f;if(!a.j6){f=a.kAa();a.Tk.Mz(f["default"].Ca,a.Xh);a.Tk.iC(f.$p?f.$p.xZ:void 0,f.$p?f.$p.HB:void 0);n.Oa(a.Nb)||(a.j6=!0);}}function h(a,b,m){var h;this.J=m;this.Ap={};this.vD=m.vD;this.Lqa=new k(this.vD);this.wJ=new t(!0);this.iJ=new t(!1);this.reset();this.r5=a;this.Tk=b;this.fra=p.fm.name();this.Tk.I_(this.fra);this.$J=this.iz=0;this.jJ=[];p.events.on("networkchange",function(a){this.fra=a;this.Tk.I_(a);}.bind(this));h=m.U8;h&&(h={Ed:f.Fe.iI,Fa:{Ca:parseInt(h,10),vh:0},ph:{t7a:0,vh:0},Zp:{t7a:0,vh:0}},this.get=function(){return h;});y=this;}n=a(6);p=a(4);f=a(14);a(16);c=a(27).EventEmitter;k=a(399).fla;m=new p.Console("ASEJS_NETWORK_MONITOR","media|asejs");t=a(820).KQa;u=a(818);y=void 0;h.prototype.constructor=h;h.prototype=Object.create(c.prototype);h.Mf=function(){u(void 0!==y);return y;};h.reset=function(){y&&y.reset();};Object.defineProperties(h.prototype,{startTime:{get:function(){return this.Zd;}},Ed:{get:function(){return this.Xh;}},co:{get:function(){return this.iz;}},Rsa:{get:function(){return this.jJ;}}});h.prototype.m0a=function(){var a,f,b,k;a=this.J;f=a.B0a.concat(a.J0a);b=a.N4;k=this.Lqa;return f.reduce(function(a,f){a[f]=k.create(f,b);return a;},{});};h.prototype.reset=function(){var a,k,m;a=this.J.N4;k=this.Lqa;m=this.J;this.location=null;this.Ap=this.m0a();this.wJ.reset();this.iJ.reset();this.jt=k.create("respconn-ewma",a);this.Xs=k.create("respconn-ewma",a);this.Xh=f.Fe.HAVE_NOTHING;this.D4a=function(){b(this);}.bind(this);this.RT=void 0;this.ew=this.Zb=this.Nb=this.Zd=null;this.I_a=this.KT=this.iK=0;this.E5=!1;m.yHa&&(this.$J=this.iz=0,this.jJ=[]);};h.prototype.L_=function(a){var b;b=this.Ap;if(a!==this.location){n.U(this.RT)||(clearInterval(this.RT),this.RT=void 0);n.Oa(this.location)&&(this.KT=this.iK=0,this.Zd=null);if(!n.Oa(a)){this.Xh=f.Fe.HAVE_NOTHING;for(var k in b)b[k]&&b[k].reset&&b[k].reset();this.jt.reset();this.Xs.reset();}n.Oa(this.Zd)||(this.iK+=(n.Oa(this.Nb)?p.time.ea():this.Nb)-this.Zd,this.KT+=this.Zb);this.Nb=this.Zd=null;this.Zb=0;this.location=a;this.Tk.L_(a);}};h.prototype.I_=function(a){this.Tk.I_(a);};h.prototype.l5a=function(a){this.Ap.QoEEvaluator?m.warn("monitor (QoEEvaluator) already existed."):this.Ap.QoEEvaluator=a;};h.prototype.Ywb=function(){delete this.Ap.QoEEvaluator;};h.prototype.xw=function(a,k,h,t){var c,d;c=this.J;d=this.Ap;if(!0===t.lC)(t=d["throughput-wssl"])&&t.add(a,k,h,!0);else if(n.U(k))m.warn("addDataReceived called with undefined start time");else{c.I0a&&10>h-k?k=h-10:0===h-k&&(k=h-1);this.wJ.xw(a,k,h,t);this.iJ.xw(a,k,h,t);for(var p in d)d[p]&&d[p].add&&d[p].add(a,k,h);this.Xh=Math.max(this.Xh,f.Fe.Ly);n.Oa(this.Zd)&&(this.Zd=k,this.Nb=null,this.j6=!1,this.Zb=0);n.Oa(this.Nb)||(k>this.Nb&&(this.Zd+=k-this.Nb),this.Nb=null,this.j6=!1);this.Zb+=a;this.Xh<f.Fe.Ky&&(h-this.Zd>c.U1a||this.Zb>c.T1a)&&(this.Xh=f.Fe.Ky);this.Xh<f.Fe.iI&&(h-this.Zd>c.g3a||this.Zb>c.f3a)&&(!this.E5||this.I_a>c.S1a)&&(this.Xh=f.Fe.iI,b(this),this.RT=setInterval(this.D4a,c.F1a));n.Oa(this.ew)||(k-this.ew>c.Bra?this.r5.xBa(this.ew,k):h-k>c.Bra&&this.r5.xBa(k,h));this.ew=Math.max(h,this.ew);}};h.prototype.yt=function(a){this.jt.add(a);this.Tk.yt(a);};h.prototype.xt=function(a){this.Xs.add(a);this.Tk.xt(a);};h.prototype.start=function(a){var f;n.Oa(this.ew)&&!n.Oa(this.Nb)&&(this.ew=a);f=this.Ap;if(this.J.Gha)for(var b in f)f[b]&&f[b].start&&f[b].start(a);};h.prototype.stop=function(a){var f,b;f=this.Ap;for(b in f)f[b]&&f[b].stop&&f[b].stop(a);this.Nb=n.Oa(this.Nb)?a:Math.min(this.Nb,a);this.ew=null;};h.prototype.flush=function(){var a,f;a=this.Ap;for(f in a)a[f]&&a[f].flush&&a[f].flush();};h.prototype.fail=function(){this.Zd=null;};h.prototype.dza=function(){var a,f;a=this.Ap.entropy;a&&(f=a.v8a(),a.reset());return f;};h.prototype.kAa=function(){var a,f,b,k,m,h,t;a=p.time.ea();f={};b=this.Ap;k=this.J;m=k.q0a;h=k.N3a;for(t in b)b[t]&&b[t].get&&(f[t]=b[t].get(a),"iqr"===b[t].type&&(f.$p=f[t]),"tdigest"===b[t].type&&(f.wi=f[t]),"wssl"===b[t].type&&(f.lC=f[t]));f.cdnavtp=this.wJ.Xl();f.activecdnavtp=this.iJ.Xl();f["default"]=m&&f[m]?f[m]:f["throughput-ewma"];"none"!==k.Cga&&"none"!==h&&(f.aIa=h&&f[h]?f[h]:f["throughput-sw"]);return f;};h.prototype.get=function(){var a,f,b,k,m,h;a=this.kAa();f=a["default"];b=this.jt.get();k=this.Xs.get();m=this.J;if(a.aIa)h=a.aIa,f=n.ma(f.Ca)&&n.ma(h.Ca)&&f.Ca>h.Ca&&0<h.Ca?h:f;a.Ed=this.Xh;a.Fa=f;!m.kxa||!f||n.Oa(f.Ca)||isNaN(f.Ca)||!a.lC||n.Oa(a.lC.Ca)||isNaN(a.lC.Ca)||("max"===m.HLa?a.Fa.Ca=Math.max(a.lC.Ca,f.Ca):"sum"===m.HLa&&(a.Fa.Ca+=a.lC.Ca));a.ph=b;a.Zp=k;f=this.iK+!n.Oa(this.Zd)?(n.Oa(this.Nb)?p.time.ea():this.Nb)-this.Zd:0;a.time=f;return a;};h.prototype.Mgb=function(){var a;a=this.iK+!n.Oa(this.Zd)?(n.Oa(this.Nb)?p.time.ea():this.Nb)-this.Zd:0;return{uE:Math.floor(8*(this.KT+this.Zb)/a),dSb:this.r5.Vc()};};h.prototype.ekb=function(){var a,f,b;a={};f=this.get(!0);if(f.Ed&&f.Fa){a.aseavtp=Number(f.Fa.Ca).toFixed(2);a.asevartp=Number(f.Fa.vh).toFixed(2);if(f.$p){b=f.$p.xZ;!b||isNaN(b.xk)||isNaN(b.wk)||isNaN(b.Wi)||(a.aseniqr=0<b.Wi?Number((b.xk-b.wk)/b.Wi).toFixed(2):-1,a.aseiqr=Number(b.xk-b.wk).toFixed(2),a.asemedtp=Number(b.Wi).toFixed(2));a.iqrsamples=f.$p.HB;}f.wi&&f.wi.ju&&(a.tdigest=f.wi.ju());}return a;};h.prototype.BB=function(a,f){var b;b=f.requestId;1===++this.iz&&(this.emit("active",a),this.start(a));b&&this.jJ.push(b);this.wJ.BB(a,f);this.iJ.BB(a,f);};h.prototype.ega=function(){++this.$J;};h.prototype.DB=function(a,f,b){var k;k=b.requestId;f&&--this.$J;--this.iz;this.J.yHa&&(this.iz=Math.max(this.iz,0),this.$J=Math.max(this.$J,0));0===this.iz&&(this.stop(a),this.emit("inactive",a));k&&(f=this.jJ.indexOf(k),0<=f&&this.jJ.splice(f,1));this.wJ.DB(a,b);this.iJ.DB(a,b);};d.P=h;},function(d,c,a){var u;function b(a,b){if(a.length==b.length&&1<a.length){for(var k=a.length,m=0,h=f(a),t=f(b),c=0;c<k;c++)m+=a[c]*b[c];return(m-h*t/k)/k;}return!1;}function h(a){if(!Array.isArray(a)||2>a.length)return!1;a=n(a);return Math.sqrt(a);}function n(a){var b;if(!Array.isArray(a)||2>a.length)return!1;b=p(a);return f(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function p(a){return Array.isArray(a)&&a.length?f(a)/a.length:!1;}function f(a){return Array.isArray(a)?a.reduce(function(a,f){return a+f;},0):!1;}function k(a,f,b){return Math.max(Math.min(a,b),f);}function m(a,f){return"number"===typeof a?a:f;}function t(a){return 1/(1+Math.exp(-a));}u=a(6);d.P={Ha:function(a,f,b){try{a.emit(f,b);}catch(z){a.Md("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",z,"Event:",b);}},hr:function(){var a,f,b;a=Array.prototype.concat.apply([],arguments);f=a.reduce(function(a,f){return a+f.byteLength;},0);b=new Uint8Array(f);a.reduce(function(a,f){b.set(new Uint8Array(f),a);return a+f.byteLength;},0);return b.buffer;},EU:k,t9a:function(a,f,b,h){return{min:k(m(a.min,f),b,h),max:k(m(a.max,f),b,h),Qt:k(a.Qt||6E4,0,6E5),Jua:k(a.Jua||0,-3E5,3E5),scale:k(a.scale||6E4,0,3E5),VHa:k(a.VHa||0,-3E5,3E5),gamma:k(a.gamma||1,.1,10)};},Gd:function(a,f){void 0!==a&&u.Ysb(a).forEach(function(a){f(a[0],a[1]);});},wxa:function(a,f,b){return a.min+(a.max-a.min)*(1-Math.pow(t(6*(f-(a.Qt+(a.Jua||0)*(1-b)))/(a.scale+(a.VHa||0)*(1-b))),a.gamma));},Yeb:function(a,f){return a.min+(a.max-a.min)*Math.pow(t(6*(f-a.Qt)/a.scale),a.gamma);},URb:f,Vgb:p,tkb:n,SRb:h,BRb:b,ARb:function(a,f){var k;if(a.length==f.length){k=b(a,f);a=h(a);f=h(f);if(0<a&&0<f)return k/(a*f);}return!1;},Hx:function(a,f,b){return f.Ova?f.Ova(b):new a.Console("ASEJS","media|asejs",b);},Jga:function(a){return a.length?"{"+a+"} ":"";},myb:function(a,f,b){return{min:a.min*b+(1-b)*f.min,max:a.max*b+(1-b)*f.max,Qt:a.Qt*b+(1-b)*f.Qt,scale:a.scale*b+(1-b)*f.scale,gamma:a.gamma*b+(1-b)*f.gamma};},tanh:Math.tanh||function(a){var f;f=Math.exp(+a);a=Math.exp(-a);return Infinity==f?1:Infinity==a?-1:(f-a)/(f+a);},sha:t,dm:function(a){var f;f=a.Ja.bd.ja.id;return{S:a.S,duration:a.duration,offset:a.offset,ba:a.ba,R:a.R,profile:a.profile,ac:a.ac,Ma:f,qa:a.qa,Jb:a.Jb,location:a.location,Aj:a.Aj,Mi:a.Mi,Uu:{bd:{ja:{id:f}}}};}};},function(d,c,a){var b;b=a(176);d.P=function(a){return function p(f){return 0===arguments.length||b(f)?p:a.apply(this,arguments);};};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.ZC="SourceBufferTypeProviderSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.JC="IdProviderSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});(function(a){function b(){}function h(){}function c(){}c.BNa="cache_start";c.CNa="cache_success";c.yNa="cache_abort";c.ANa="cache_fail";c.zNa="cache_evict";c.FVa="pb_request";c.mYa="start_playback";a.Iy=c;h.$ia="auth";h.Oy="ldl";h.mI="hdr";h.MEDIA="media";a.Qj=h;b.hQ="cached";b.LOADING="loading";b.zQa="expired";a.$P=b;}(c.He||(c.He={})));c.uoa="PrefetchEventsFactorySymbol";},function(d,c){c.LA=function(a){return a&&"function"===typeof a.Eb;};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.nC="ApiInfoSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Dka="DrmServicesSymbol";c.zQ="DrmServicesProviderSymbol";},function(d,c,a){var h,n,p,f,k,m,t,u,y,E,g,z,G,M,N,P,l,Y;function b(a){var t,c;t=this;this.createPlayer=function(a,b){var k;b=void 0===b?{}:b;b="number"===typeof b?{Rh:b}:b;k=f.$.get(l.zI);k=b.manifest?k.create(b.manifest):void 0;a=f.$.get(g.vR).Nbb(a);return t.Pva(a,b,k);};this.createPlaygraphPlayer=function(a,b,k){var m;m=f.$.get(l.zI);k=k?m.create(k):void 0;return t.Pva(P.hXa.encode(a),b,k);};this.closeAllPlayers=function(a){p.hoa(void 0===a?function(){}:a);};this.init=function(a){a=void 0===a?function(){}:a;t.rE.aN(function(k){k.aa?(n.config.D_?t.Xyb().then(function(){h.QWa();})["catch"](function(a){f.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(t,b.zK);a(Object.assign({success:!0},b.zK));}):a({success:!1,error:f.dXa(k.errorCode||m.K.Ala,k)});});};this.applyConfig=function(a){t.SKa(a);n.tva(a);};this.prepare=function(a,b){var k;a=t.nfa.wwa(a)||[];k=new Set();a=a.filter(function(a){var f;f=k.has(a.u);k.add(a.u);return!f;});if(n.config.Ro&&t.Hc())try{t.Hc().Zu(a,b);}catch(ma){f.log.warn("Prepare call failed",ma);}};this.predownload=function(a,b){if((a=t.nfa.wwa(a))&&n.config.wy&&t.Hc())try{t.Hc().Pub(a,b);}catch(T){f.log.warn("Predownload call failed",T);}};this.lookupPredownloaded=function(){return n.config.wy&&t.Hc()?t.Hc().Bu():Promise.resolve([]);};this.ppmUpdate=function(a){L._cad_global.playerPredictionModel?((a=t.nfa.Vcb(a))&&L._cad_global.playerPredictionModel.update(a),L._cad_global.prefetchEvents&&L._cad_global.prefetchEvents.update(a)):f.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){f.rF().vH().then(a)["catch"](function(){return a(!1);});};this.supportsUltraHd=function(a){f.rF().gP().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){f.rF().eP().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyVision=function(a){f.rF().uH().then(a)["catch"](function(){return a(!1);});};this.close=function(){};this.deviceThroughput=function(){var a;a=f.$.get(u.nR).z8();return a?Promise.resolve(a.Xl()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=f.$.get(u.nR).z8();return a?Promise.resolve(a.$ib()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return n.config.yeb;};this.nfa=f.$.get(k.u3);this.rE=f.$.get(G.Cf);this.Hc=f.$.get(z.cD);c=f.$.get(Y.aoa).apply();this.SKa(a);n.d$a([a],c);f.rF().gP();}Object.defineProperty(c,"__esModule",{value:!0});h=a(195);n=a(12);p=a(58);f=a(5);k=a(198);m=a(2);t=a(28);u=a(205);y=a(158);E=a(288);g=a(187);z=a(109);G=a(24);M=a(285);N=a(25);P=a(152);l=a(175);Y=a(508);b.prototype.SKa=function(a){f.$.get(t.dR).iqb(a);};b.prototype.Xyb=function(){return f.$.get(y.sR)()["catch"](function(a){f.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){f.log.error("Unable to send deferred playdata",a);});};b.prototype.Pva=function(a,b,k){var m,h,t,c;b=void 0===b?{}:b;m=f.$.get(N.Bf);h=f.$.get(E.poa);t=f.$.get(M.roa);c=f.$.get(g.vR);h=h.create(a);a=h.DW();m=m.gc();b=Object.assign(Object.assign({startPts:b.playbackState&&b.playbackState.currentTime||a.Af,uiPlayStartTime:Date.now()},b),{endPts:a.sg,isPlaygraph:!0});t=t.create(m,h,c);t.addEpisode({movieId:a.pa,playbackParams:b,manifest:k});return t;};c.TR=b;b.zK={};},function(d,c,a){var h,n,p;function b(a,b,m,h,c){b=p.Ai.call(this,a,b,h,n.Wh.events,c,n.Wh.events+"/"+m)||this;b.context=a;b.Zeb=m;return b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(42);p=a(72);a(162);da(b,p.Ai);b.prototype.qf=function(a,b){var f,k;f=this;k=this.sU(b);return this.send(a,b.href,k).then(function(){return b;})["catch"](function(a){throw f.xo(a);});};b.prototype.Pp=function(a,b,m){var f,k;f=this;k=this.sU(m);return this.send(a,b.uaa("events").href,k).then(function(a){b.C6(a.result.links);return m;})["catch"](function(a){throw f.xo(a);});};b.prototype.sU=function(a){return{event:this.Zeb,xid:a.ga,position:a.position||0,clientTime:a.$K,sessionStartTime:a.NO,mediaId:a.dG,trackId:a.bb,sessionId:a.sessionId,appId:a.vK,playTimes:this.l8a(a.WN),sessionParams:a.Dn,mdxControllerEsn:a.Hda};};b.prototype.x7=function(a){return{downloadableId:a.cd,duration:a.duration};};b.prototype.l8a=function(a){var f;f={total:a.total,audio:a.audio.map(this.x7),video:a.video.map(this.x7),text:a.text.map(this.x7)};a.total!==a.cC&&(f.totalContentTime=a.cC);return f;};a=b;a=d.__decorate([h.N(),d.__param(0,h.Sh()),d.__param(1,h.Sh()),d.__param(2,h.Sh()),d.__param(3,h.Sh()),d.__param(4,h.Sh())],a);c.lp=a;},function(d,c,a){var b,h,n,p,f,k,m,t,u,y;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);h=a(12);d=a(2);n=a(18);p=a(5);f=a(358);k=a(73);m=a(10);t=a(24);u=a(47);y=p.$.get(t.Cf);y.register(d.K.x2,function(a){var t,d,E;t=p.$.get(u.Mk);n.Ra(h.config);n.Ra(m.Nv&&m.Nv.getDeviceId||m.T2||t.oW);d=p.$.get(f.vka);E=p.Jg("Device");y.$c("devs");d.create({deviceId:h.config.deviceId,oW:t.oW,Cwa:"deviceid",bh:h.config.bh,bx:k.zh.Qka,Dwa:t.Dwa,userAgent:m.Fm,Xca:h.config.Xca,eaa:h.config.eaa,ddb:k.zh.dka,j7a:h.config.Xta.e,cdb:k.zh.aPa,PTb:h.config.nr?"mslstoretest":"mslstore"}).then(function(f){c.ii=f;L._cad_global.device=c.ii;E.info("Esn source: "+c.ii.W9);y.$c("devdone");a(b.pd);})["catch"](function(f){f.aa=void 0;a(f);});});},function(d,c,a){var b,h,n,p,f,k,m,t,u,y,E,g,z,G,M;Object.defineProperty(c,"__esModule",{value:!0});b=a(50);h=a(320);n=a(627);p=a(153);f=a(12);k=a(11);m=a(157);t=a(306);u=a(34);d=a(2);y=a(5);E=a(205);g=a(10);z=a(154);G=a(24);M=a(58);y.$.get(G.Cf).register(d.K.Bla,function(d){var D,G,N,l,q,X,r;D=y.$.get(E.nR).z8();G=y.$.get(m.Aka).xC;N=y.$.get(h.Qma).Vj;l={qB:y.vW("ASE"),y6a:y.vW("JS-ASE",void 0,"Platform"),Jg:y.vW,storage:z.storage,Np:z.Np,ajb:g.wQ,getTime:u.ah,TF:{},Vj:N,Is:n.Is,xC:G,MediaSource:t.AUa,SourceBuffer:p.Oma,nk:function(){return[f.config.hU,f.config.jU];},Pw:function(a){M.On.forEach(function(f){f.OIa(a);});}};G=new Promise(function(a){z.storage.load("nh",function(f){l.TF.nh=f.aa?f.data:void 0;a();});});N=new Promise(function(a){z.storage.load("lh",function(f){l.TF.lh=f.aa?f.data:void 0;a();});});q=new Promise(function(a){z.storage.load("gh",function(f){l.TF.gh=f.aa?f.data:void 0;a();});});X=new Promise(function(a){z.storage.load("sth",function(f){l.TF.sth=f.aa?f.data:void 0;a();});});r=new Promise(function(a){z.storage.load("vb",function(f){l.TF.vb=f.aa?f.data:void 0;a();});});Promise.all([G,N,r,X,q]).then(function(){var m;m=a(625)(l);c.Zc=a(305);c.Zc.declare(b.ro);c.Zc.declare({wy:["useMediaCache",!1],Vw:["diskCacheSizeLimit",0],cQb:["dailyDiskCacheWriteLimit",0],EY:["mediaCachePrefetchMs",8E3],Ida:["mediaCachePartitionConfig",{}]});c.Zc.set(a(163)(f.config),!0,y.vW("ASE"));m=b.cpb(m);c.Ll=new m(c.Zc,D);c.Ll.Xb(f.config.hU,f.config.jU,{qB:l.qB},f.config.l_);d(k.pd);})["catch"](function(a){l.qB.error("Exception loading location history from local storage",a);});});},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.yi=function(){};(function(a){a.j3="PRE_FETCH";a.z3="QC";a.Gm="STANDARD";a.H3="SUPPLEMENTAL";a.DPa="DOWNLOAD";}(c.wl||(c.wl={})));c.o3="PboManifestCommandSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.WI="PlaygraphConfigSymbol";},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(19);h=a(18);c.Pj="$attributes";c.X0="$children";c.Y0="$name";c.ns="$text";c.ILa="$parent";c.PH="$sibling";c.rUb=/^\s*\<\?xml.*\?\>/i;c.Hhb=function(a,b,f){for(var k=2;k<arguments.length;++k);for(k=1;(b=arguments[k++])&&(a=a[b]););return a;};c.oUb=function(a,d){var f;a?f=b.fe(a[c.ns]):void 0!==d&&(f=d);h.bV(f);return f;};c.stb=function(a){var b;a&&(b=a[c.ns]);h.ocb(b);return b;};c.hTb=function(a,b){var f;f={};f[c.Pj]=a;f[c.ns]=b;return f;};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(232);d=function(){function a(a,f,b){this.tag=a;this.view=f;this.L=b;this.startOffset=b.offset;}a.HGa=function(b,f){var k,m;k=b.kd();m=b.bwb();b=new(h.TE[k]||a)(k,b.Ehb(m),b);b.parse(f);return b;};Object.defineProperties(a.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});a.prototype.parse=function(){this.L.offset=this.startOffset+this.length;this.L.fB=0;return!0;};a.prototype.Pxa=function(a){var f;f=[];this.tag===a&&f.push(this);if(this.TE)for(var k=0;k<this.TE.length;k++)f=b.__spreadArrays(f,this.TE[k].Pxa(a));return f;};a.prototype.sA=function(a){for(a=this.Pxa(a);0<a.length;)return a[0];};a.prototype.gsa=function(){for(this.TE=[];this.L.offset<this.startOffset+this.length;)this.TE.push(a.HGa(this.L,this));};return a;}();c.H1=d;d.prototype.skip=d.prototype.parse;},function(d){var b,h;function c(){var c,d;if(DataView.prototype&&DataView.prototype.BF&&!h){try{c=new ArrayBuffer(4);d=new DataView(c);d.CF(0,4,1);}catch(f){return;}try{c=new ArrayBuffer(4);d=new DataView(c);d.CF(1,2,2);}catch(f){DataView.prototype.CF=a(DataView.prototype.CF,DataView.prototype.getUint8,Uint8Array);DataView.prototype.WW=a(DataView.prototype.WW,DataView.prototype.getUint16,Uint16Array);DataView.prototype.BF=a(DataView.prototype.BF,DataView.prototype.getUint32,Uint32Array);DataView.prototype.qaa=a(DataView.prototype.qaa,DataView.prototype.getInt8,Int8Array);DataView.prototype.oaa=a(DataView.prototype.oaa,DataView.prototype.getInt16,Int16Array);DataView.prototype.paa=a(DataView.prototype.paa,DataView.prototype.getInt32,Int32Array);}b.pkb=function(a,b,m,h,c){return a.CF(b,m,h||1,c);};b.nkb=function(a,b,m,h,c){return a.WW(b,m,h||2,c);};b.okb=function(a,b,m,h,c){return a.BF(b,m,h||4,c);};b.FRb=function(a,b,m,h,c){return a.qaa(b,m,h||1,c);};b.DRb=function(a,b,m,h,c){return a.oaa(b,m,h||2,c);};b.ERb=function(a,b,m,h,c){return a.paa(b,m,h||4,c);};h=!0;}}function a(a,b,f){return function(k,m,h,c){var t;h=h||f.BYTES_PER_ELEMENT;if(k+m*h>this.byteLength){t=new f(m);t.set(a.call(this,k,m-1,h,c));t[m-1]=b.call(this,k+(m-1*h),c);return t;}return a.call(this,k,m,h,c);};}b={CF:function(a,b,f,k,m){var h;h=new Uint8Array(f);k=k||1;for(var c=0;c<f;++c,b+=k)h[c]=a.getUint8(b,m);return h;},WW:function(a,b,f,k,m){var h;h=new Uint16Array(f);k=k||2;for(var c=0;c<f;++c,b+=k)h[c]=a.getUint16(b,m);return h;},BF:function(a,b,f,k,m){var h;h=new Uint32Array(f);k=k||4;for(var c=0;c<f;++c,b+=k)h[c]=a.getUint32(b,m);return h;},qaa:function(a,b,f,k,m){var h;h=new Int8Array(f);k=k||1;for(var c=0;c<f;++c,b+=k)h[c]=a.getInt8(b,m);return h;},oaa:function(a,b,f,k,m){var h;h=new Int16Array(f);k=k||2;for(var c=0;c<f;++c,b+=k)h[c]=a.getInt16(b,m);return h;},paa:function(a,b,f,k,m){var h;h=new Int32Array(f);k=k||4;for(var c=0;c<f;++c,b+=k)h[c]=a.getInt32(b,m);return h;},hRb:c};h=!1;b.Khb=function(){return h;};c();d.P=b;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=function(a){function h(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(h,a);return h;}(Error);c.assert=function(a,b){if(!a)throw new h(b||"Assertion failed");};},function(d){var p,f,k,m;function c(){c.Xb.call(this);}function a(a,f,b,k){var m,h;if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);m=a.mg;void 0===m?(m=a.mg=Object.create(null),a.pz=0):(void 0!==m.WTb&&(a.emit("newListener",f,b.listener?b.listener:b),m=a.mg),h=m[f]);void 0===h?(m[f]=b,++a.pz):("function"===typeof h?h=m[f]=k?[b,h]:[h,b]:k?h.unshift(b):h.push(b),b=void 0===a.QJ?c.zcb:a.QJ,0<b&&h.length>b&&!h.hFb&&(h.hFb=!0,b=Error("Possible EventEmitter memory leak detected. "+h.length+" "+String(f)+" listeners added. Use emitter.setMaxListeners() to increase limit"),b.name="MaxListenersExceededWarning",b.du=a,b.type=f,b.count=h.length,console&&console.warn&&console.warn(b)));return a;}function b(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.Xxa||(this.target.removeListener(this.type,this.ELa),this.Xxa=!0,f(this.listener,this.target,a));}function h(a,f,k){a={Xxa:!1,ELa:void 0,target:a,type:f,listener:k};f=b.bind(a);f.listener=k;return a.ELa=f;}function n(a){var f;f=this.mg;if(void 0!==f){a=f[a];if("function"===typeof a)return 1;if(void 0!==a)return a.length;}return 0;}p="object"===typeof Reflect?Reflect:null;f=p&&"function"===typeof p.apply?p.apply:function(a,f,b){return Function.prototype.apply.call(a,f,b);};k=Number.isNaN||function(a){return a!==a;};d.P=c;c.EventEmitter=c;c.prototype.mg=void 0;c.prototype.pz=0;c.prototype.QJ=void 0;m=10;Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return m;},set:function(a){if("number"!==typeof a||0>a||k(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");m=a;}});c.Xb=function(){if(void 0===this.mg||this.mg===Object.getPrototypeOf(this).mg)this.mg=Object.create(null),this.pz=0;this.QJ=this.QJ||void 0;};c.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||k(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");this.QJ=a;return this;};c.prototype.emit=function(a){var m,k,h;for(var b=[],k=1;k<arguments.length;k++)b.push(arguments[k]);m="error"===a;k=this.mg;if(void 0!==k)m=m&&void 0===k.error;else if(!m)return!1;if(m){0<b.length&&(h=b[0]);if(h instanceof Error)throw h;b=Error("Unhandled error."+(h?" ("+h.message+")":""));b.context=h;throw b;}k=k[a];if(void 0===k)return!1;if("function"===typeof k)f(k,this,b);else{h=k.length;for(var m=Array(h),c=0;c<h;++c)m[c]=k[c];for(k=0;k<h;++k)f(m[k],this,b);}return!0;};c.prototype.addListener=function(f,b){return a(this,f,b,!1);};c.prototype.on=c.prototype.addListener;c.prototype.iGa=function(f,b){return a(this,f,b,!0);};c.prototype.once=function(a,f){if("function"!==typeof f)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof f);this.on(a,h(this,a,f));return this;};c.prototype.avb=function(a,f){if("function"!==typeof f)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof f);this.iGa(a,h(this,a,f));return this;};c.prototype.removeListener=function(a,f){var b,k,m,h,c;if("function"!==typeof f)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof f);k=this.mg;if(void 0===k)return this;b=k[a];if(void 0===b)return this;if(b===f||b.listener===f)0===--this.pz?this.mg=Object.create(null):(delete k[a],k.removeListener&&this.emit("removeListener",a,b.listener||f));else if("function"!==typeof b){m=-1;for(h=b.length-1;0<=h;h--)if(b[h]===f||b[h].listener===f){c=b[h].listener;m=h;break;}if(0>m)return this;if(0===m)b.shift();else{for(;m+1<b.length;m++)b[m]=b[m+1];b.pop();}1===b.length&&(k[a]=b[0]);void 0!==k.removeListener&&this.emit("removeListener",a,c||f);}return this;};c.prototype.QEa=c.prototype.removeListener;c.prototype.removeAllListeners=function(a){var f,b,k;b=this.mg;if(void 0===b)return this;if(void 0===b.removeListener)return 0===arguments.length?(this.mg=Object.create(null),this.pz=0):void 0!==b[a]&&(0===--this.pz?this.mg=Object.create(null):delete b[a]),this;if(0===arguments.length){f=Object.keys(b);for(b=0;b<f.length;++b)k=f[b],"removeListener"!==k&&this.removeAllListeners(k);this.removeAllListeners("removeListener");this.mg=Object.create(null);this.pz=0;return this;}f=b[a];if("function"===typeof f)this.removeListener(a,f);else if(void 0!==f)for(b=f.length-1;0<=b;b--)this.removeListener(a,f[b]);return this;};c.prototype.listeners=function(a){var f;f=this.mg;if(void 0===f)a=[];else if(a=f[a],void 0===a)a=[];else if("function"===typeof a)a=[a.listener||a];else{for(var f=Array(a.length),b=0;b<f.length;++b)f[b]=a[b].listener||a[b];a=f;}return a;};c.listenerCount=function(a,f){return"function"===typeof a.listenerCount?a.listenerCount(f):n.call(a,f);};c.prototype.listenerCount=n;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Qn={UC:"PRIMARY",Zia:"ASSISTIVE",Ija:"COMMENTARY",NONE:"NONE"};c.S3={assistive:c.Qn.Zia,closedcaptions:c.Qn.Zia,directorscommentary:c.Qn.Ija,commentary:c.Qn.Ija,subtitles:c.Qn.UC,primary:c.Qn.UC,none:c.Qn.NONE};},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});d=a(906);a=a(903);c.jqb=d;c.Su=a;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.GI="MslProviderSymbol";},function(d,c,a){var h,n,p,f;function b(a,b,c){var k;k=p.rQ.call(this,a,b,h.Cs.Npa)||this;k.config=a;k.Pda=b;k.is=c;k.type=h.Ok.Hy;k.QP=f.Kd.Qva();return k;}Object.defineProperty(c,"__esModule",{value:!0});h=a(32);n=a(61);p=a(450);d=a(103);f=a(138);new d.dz();da(b,p.rQ);b.prototype.cs=function(){return Promise.resolve(!1);};b.prototype.sF=function(){return Promise.resolve("");};b.prototype.vH=function(){return Promise.resolve(!1);};b.prototype.uH=function(){return Promise.resolve(!1);};b.prototype.gP=function(){return Promise.resolve(!1);};b.prototype.eP=function(){return Promise.resolve(!1);};b.prototype.pF=function(a){return this.QP[a];};b.prototype.A6=function(a){return a;};b.prototype.fDa=function(a){switch(a){case h.Ci.Fq:return"1.4";case h.Ci.Qy:return"2.2";}};b.prototype.bA=function(){var a;a={};a[n.V.gI]="avc1.4D401E";a[n.V.CC]="avc1.4D401F";a[n.V.JQ]="avc1.4D4028";a[n.V.i2]="hev1.1.6.L90.B0";a[n.V.j2]="hev1.1.6.L93.B0";a[n.V.k2]="hev1.1.6.L120.B0";a[n.V.l2]="hev1.1.6.L123.B0";a[n.V.m2]="hev1.1.6.L150.B0";a[n.V.n2]="hev1.1.6.L153.B0";a[n.V.e2]="hev1.2.6.L90.B0";a[n.V.f2]="hev1.2.6.L93.B0";a[n.V.g2]="hev1.2.6.L120.B0";a[n.V.h2]="hev1.2.6.L123.B0";a[n.V.EC]="hev1.2.6.L150.B0";a[n.V.FC]="hev1.2.6.L153.B0";a[n.V.QQ]="hev1.2.6.L90.B0";a[n.V.SQ]="hev1.2.6.L93.B0";a[n.V.UQ]="hev1.2.6.L120.B0";a[n.V.WQ]="hev1.2.6.L123.B0";a[n.V.X1]="hev1.2.6.L90.B0";a[n.V.Y1]="hev1.2.6.L93.B0";a[n.V.Z1]="hev1.2.6.L120.B0";a[n.V.a2]="hev1.2.6.L123.B0";a[n.V.b2]="hev1.2.6.L150.B0";a[n.V.c2]="hev1.2.6.L153.B0";a[n.V.jI]="hev1.2.6.L90.B0";a[n.V.kI]="hev1.2.6.L93.B0";a[n.V.DC]="hev1.2.6.L120.B0";a[n.V.lI]="hev1.2.6.L123.B0";a[n.V.XH]=f.Kd.E1;a[n.V.YH]=f.Kd.ika;a[n.V.wC]=f.Kd.jka;a[n.V.ZH]=f.Kd.kka;a[n.V.$H]=f.Kd.lka;a[n.V.vQ]=f.Kd.mka;a[n.V.nRa]="avc1.640016";a[n.V.GQ]="avc1.64001E";a[n.V.HQ]="avc1.64001F";a[n.V.IQ]="avc1.640028";a[n.V.Mpa]=f.Kd.bJ;a[n.V.cJ]=f.Kd.bJ;a[n.V.dJ]=f.Kd.bJ;a[n.V.eJ]=f.Kd.bJ;a[n.V.Hpa]=f.Kd.aJ;a[n.V.Ipa]=f.Kd.aJ;a[n.V.Jpa]=f.Kd.aJ;a[n.V.Kpa]=f.Kd.aJ;a[n.V.Lpa]=f.Kd.aJ;a[n.V.aja]=f.Kd.xi;a[n.V.bja]=f.Kd.xi;a[n.V.cja]=f.Kd.xi;a[n.V.dja]=f.Kd.xi;a[n.V.eja]=f.Kd.xi;a[n.V.fja]=f.Kd.xi;a[n.V.gja]=f.Kd.xi;a[n.V.hja]=f.Kd.xi;return a;};b.prototype.Sza=function(){return this.config().KH;};b.prototype.xF=function(){return Promise.resolve(void 0);};b.prototype.oM=function(){return Promise.resolve(void 0);};b.prototype.nL=function(a){var f;f=[];this.is.Qd(a)&&f.push(this.fDa(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:f,isHdcpEngaged:!!f.length}];};c.Cm=b;b.FH="video/mp4;codecs={0};";},function(d,c,a){var h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});h=a(32);b.Qva=function(a){var c;c={};c[h.Bd.YI]=b.BC;c[h.Bd.KQ]=b.BC;c[h.Bd.QR]=b.hI;c[h.Bd.zs]=b.zs;c[h.Bd.vs]=a||b.vs;c[h.Bd.mC]=b.BC;c[h.Bd.Sv]=b.bJ;c[h.Bd.xi]=b.xi;return c;};c.Kd=b;b.BC="avc1.640028";b.hI="hev1.1.6.L93.B0";b.E1="dvhe.05.01";b.ika="dvhe.05.04";b.jka="dvhe.05.05";b.kka="dvhe.05.06";b.lka="dvhe.05.07";b.mka="dvhe.05.09";b.vs=b.E1;b.zs=b.hI;b.YP="mp4a.40.2";b.WR="mp4a.40.42";b.LHb="ec-3";b.VNb="vp9";b.bJ="vp09.00.11.08.02";b.aJ="vp09.02.31.10.01";b.xi="av01.0.04M.08";b.eOa=[b.mka,b.lka,b.kka,b.jka,b.ika,b.E1];},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.bD="TimeoutMonitorFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.ipa="SystemRandomSymbol";c.DR="RandomGeneratorSymbol";},function(d,c,a){var b;b=this&&this.__extends||function(a,b){function h(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(h.prototype=b.prototype,new h());};d=function(a){function h(b){a.call(this);this.la=b;}b(h,a);h.create=function(a){return new h(a);};h.Pb=function(a){a.gg.complete();};h.prototype.Hg=function(a){var f;f=this.la;if(f)return f.Eb(h.Pb,0,{gg:a});a.complete();};return h;}(a(9).Ba);c.fI=d;},function(d,c,a){var b,h,n,p;b=a(120);h=a(490);n=a(489);p=a(486);c.concat=function(){for(var a=[],k=0;k<arguments.length;k++)a[k-0]=arguments[k];return 1===a.length||2===a.length&&b.LA(a[1])?n.from(a[0]):p.cL()(h.of.apply(void 0,a));};},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});d=a(70);c.ISa=d.ISa;d=a(9);c.Ba=d.Ba;d=a(183);c.Xj=d.Xj;d=a(498);c.ER=d.ER;d=a(496);c.Uja=d.Uja;d=a(1095);c.spa=d.spa;a(1091);a(1087);a(1081);a(1079);a(1076);a(1072);a(1069);a(1065);a(1062);a(1060);a(1058);a(1056);a(1053);a(1049);a(1046);a(1045);a(1042);a(1038);a(1035);a(1034);a(1032);a(1030);a(1027);a(1025);a(1023);a(1022);a(1020);a(1017);a(1014);a(1011);a(1008);a(1007);d=a(267);c.lVa=d.lVa;a=a(70);c.zl=a.zl;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Nn=function(){};c.N3="StringObjectReaderSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.CI="MediaKeysStorageFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.Jn||(c.Jn={});d[d.tB=0]="playready";d[d.U0=1]="widevine";d[d.qA=2]="fairplay";d[d.IPb=3]="clearkey";c.jQa="DrmTypeSymbol";},function(d,c,a){var h,n,p;function b(){}Object.defineProperty(c,"__esModule",{value:!0});h=a(146);n=a(45);p=a(2);b.faa=function(a){if(a){if(a.includes(c.cI.tB))return h.Jn.tB;if(a.includes("fps"))return h.Jn.qA;if(a.includes(c.cI.U0))return h.Jn.U0;}throw new n.Ic(p.K.rQa,void 0,void 0,void 0,void 0,"Invalid KeySystem: "+a);};b.Yya=function(a){switch(a){case h.Jn.tB:return c.cI.tB;case h.Jn.qA:return c.cI.qA;default:return c.cI.U0;}};c.ob=b;b.Jq="com.microsoft.playready";b.Ad="com.microsoft.playready.hardware";b.TI="com.microsoft.playready.software";b.fMb="com.chromecast.playready";b.gMb="org.chromium.external.playready";b.$Ib="com.apple.fps.2_0";b.c_a="com.widevine.alpha";b.hMb="com.microsoft.playready.recommendation";b.iMb="com.microsoft.playready.recommendation.3000";b.jMb="com.microsoft.playready.recommendation.2000";c.cI={qA:"fairplay",U0:"widevine",tB:"playready"};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.RI="PlatformConfigDefaultsSymbol";},function(d,c,a){var k;function b(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function h(a,f){return null===a.Qu?!1:a.Qu.bf===f?!0:h(a.Qu,f);}function n(a){function f(a,k){void 0===k&&(k=[]);k.push(b(a.bf));return null!==a.Qu?f(a.Qu,k):k;}return f(a).reverse().join(" --\x3e ");}function p(a){a.Q7.forEach(function(a){if(h(a,a.bf))throw a=n(a),Error(k.HNa+" "+a);p(a);});}function f(a){var f;if(a.name)return a.name;a=a.toString();f=a.match(/^function\s*([^\s(]+)/);return f?f[1]:"Anonymous function: "+a;}Object.defineProperty(c,"__esModule",{value:!0});k=a(56);c.zF=b;c.BCa=function(a,b,k){var m;m="";a=k(a,b);0!==a.length&&(m="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.qk&&(b=f(a.qk));m=m+"\n "+b;a.$z.IDa&&(m=m+" - "+a.$z.IDa);}));return m;};c.s9a=p;c.Xnb=function(a,f){var b,k;if(f.nca()||f.hca()){b="";k=f.Wib();f=f.Dhb();null!==k&&(b+=k.toString()+"\n");null!==f&&f.forEach(function(a){b+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+b;}return" "+a;};c.getFunctionName=f;},function(d,c){var b;function a(){}Object.defineProperty(c,"__esModule",{value:!0});b=/^\S+$/;a.prototype.fA=function(a){return void 0!==a;};a.prototype.Qd=function(a){return null!==a&&void 0!==a;};a.prototype.Nz=function(b){return a.uta(b);};a.prototype.r6=function(b){return!(!b||!a.uta(b));};a.prototype.At=function(a){return Array.isArray(a);};a.prototype.vta=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.Zg=function(b,c,d){return a.Osa(b,c,d);};a.prototype.q6=function(b){return a.q6(b);};a.prototype.O6=function(b,c,d){return a.bU(b,c,d)&&0===b%1;};a.prototype.Yq=function(b,c,d){return a.bU(b,c||0,d);};a.prototype.mK=function(b){return a.bU(b,1);};a.prototype.R4a=function(b){return a.bU(b,0,255);};a.prototype.S4a=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.wta=function(a){return!(!a||!b.test(a));};a.prototype.Um=function(b){return a.Psa(b);};a.prototype.Il=function(b){return!(!a.Psa(b)||!b);};a.prototype.lK=function(a){return!0===a||!1===a;};a.prototype.UT=function(a){return"function"==typeof a;};a.Psa=function(a){return"string"==typeof a;};a.Osa=function(a,b,c){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===c||a<=c);};a.q6=function(a){return"number"==typeof a&&isNaN(a);};a.bU=function(b,c,d){return a.Osa(b,c,d)&&0===b%1;};a.uta=function(a){return"object"==typeof a;};c.Fv=new a();},function(d){var c;c=function(){return this;}();try{c=c||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof L&&(c=L);}d.P=c;},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});d=a(0);d.__exportStar(a(576),c);d.__exportStar(a(575),c);},function(d,c,a){var n,p,f,k,m,t,u,y,E,g,z,G,M,N,P,l;function b(a){b=g.Pe;P=a.appendBuffer?"appendBuffer":"append";c.fR=!k.config.w7a&&!!a.remove;l=!!a.addEventListener;}function h(a,h,c,d,E){var g,D;g=this;this.j=a;this.type=h;this.dqa=d;this.log=E;this.NS=new m.Qc(!1);this.oz={data:[],state:"",operation:""};this.gG=this.Cxa((this.type===n.Uc.Na.VIDEO?this.j.zg.value:this.j.ad.value).cc);this.Yj=new t.Jk();this.h5={Type:this.type};k.config.Ex&&(D=!0,this.v$=new m.Qc(!1));this.log.trace("Adding source buffer",this.h5,{TypeId:this.gG});this.vc=c.addSourceBuffer(this.gG);b(this.vc);l&&(this.vc.addEventListener("updatestart",function(){g.oz.state="updatestart";}),this.vc.addEventListener("update",function(){g.oz.state="update";}),this.vc.addEventListener("updateend",function(){g.NS.set(!1);g.jqa&&g.jqa();g.oz.state="updateend";D&&g.vc.buffered.length&&(D=!1,g.v$.set(!0));}),this.vc.addEventListener("error",function(b){var k;try{k=b.target.error&&b.target.error.message;(b.message||k)&&E.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(oa){}b=u.$.get(f.yl);a.Pd(b(y.K.ZVa,p.iaa(g.type)));}),this.vc.addEventListener("abort",function(){}));a.addEventListener(G.T.closed,function(){g.vc=void 0;});}Object.defineProperty(c,"__esModule",{value:!0});n=a(50);p=a(238);f=a(60);k=a(12);m=a(192);t=a(79);u=a(5);a(88);y=a(2);a(3);E=a(18);g=a(20);z=a(15);G=a(13);M=a(117);N=a(156);h.prototype.mk=function(){return this.NS.value;};h.prototype.updating=function(){return this.vc?this.vc.updating:!1;};h.prototype.xIa=function(a){this.jqa=a;};h.prototype.DW=function(){return this.oz;};h.prototype.buffered=function(){return this.vc.buffered;};h.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};h.prototype.toJSON=function(){return{type:this.type};};h.prototype.yW=function(){var a,f,b,k,m,h,c;try{a=this.vc.buffered;m=0;if(a)for(f=[],b=0,k=a.length,b=0;b<k;b++){h=a.start(b);c=a.end(b);m=m+(c-h);E.Ra(c>h);f.push(h+"-"+c);}if(f)return{Buffered:m.toFixed(3),Ranges:f.join("|")};}catch(ma){}};h.prototype.Bta=function(a,f){E.Ra(this.vc.buffered&&1>=this.vc.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.yW()));E.Ra(!this.mk());this.SIa("append",a);f=f&&f.om/1E3;z.ma(f)&&this.vc.timestampOffset!==f&&(this.vc.timestampOffset=f);this.vc[P](a);l&&this.NS.set(!0);};h.prototype.remove=function(a,f){E.Ra(!this.mk());try{c.fR&&(this.SIa("remove"),this.vc.remove(a,f),l&&this.NS.set(!0));}catch(A){this.log.error("SourceBuffer remove exception",A,this.h5);}};h.prototype.SIa=function(a,f){this.oz.data=f||[];this.oz.state="init";this.oz.operation=a;};h.prototype.Xzb=function(a,f){this.Pnb=Math.floor(1E3*a/f);};h.prototype.a9a=function(a){var f;if(this.vc){if(a=this.Cxa([{type:this.p$a,Jf:a}]),a!==this.gG){f=this.gG;this.log.info("Changing SourceBuffer mime-type from: "+this.gG+" to: "+a);try{if(this.vc.changeType)this.vc.changeType(a),this.gG=a;else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(A){throw this.log.error("Error changing SourceBuffer type",A,this.h5,{From:f,To:a}),A;}}}else this.log.info("No SourceBuffer");};h.prototype.appendBuffer=function(a,f){!f||f.ac?this.S6(a,f):this.dU(a,f);return!0;};h.prototype.S6=function(a,f){this.j.Si.S6(this,a,f||{});};h.prototype.dU=function(a,f){this.j.Si.dU(this.i$a(a,f));};h.prototype.i$a=function(a,f){var b;b=this.Pnb||0;return{Wua:function(){this.response=void 0;},Aj:function(){return this.requestId;},constructor:{name:"MediaRequest"},M:this.M,readyState:N.Rb.jc.DONE,av:f.S,MG:f.S+f.duration,mr:f.duration,om:b,Mi:f.Mi,Ma:f.Ma,qa:f.qa,Jb:+f.Jb,location:f.location,SK:f.offset,RK:f.offset+f.ba-1,R:f.R,response:a,FAa:a&&0<a.byteLength,KA:!0,get ac(){return!this.KA;},fIa:this.kj-b||Infinity,toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.Ma,isHeader:this.ac,ptsStart:this.av,ptsOffset:this.om,responseType:this.COb,duration:this.mr,readystate:this.ng};this.stream&&(a.bitrate=this.stream.R);return JSON.stringify(a);}};};h.prototype.endOfStream=function(){var a;this.j.eo("EndOfStream");null===(a=this.j.Si)||void 0===a?void 0:a.eZ(this.M);};h.prototype.addEventListener=function(a,f,b){this.Yj.addListener(a,f,b);};h.prototype.removeEventListener=function(a,f){this.Yj.removeListener(a,f);};h.prototype.Cxa=function(a){var f;f=u.$.get(M.ZC);return this.type===n.Uc.Na.VIDEO?f.pL(a):f.jL(a);};pa.Object.defineProperties(h.prototype,{M:{configurable:!0,enumerable:!0,get:function(){return this.type;}},rU:{configurable:!0,enumerable:!0,get:function(){return this.dqa.rU;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.dqa.sourceId;}},p$a:{configurable:!0,enumerable:!0,get:function(){return 0===this.type?"audio":"video";}}});c.Oma=h;},function(d,c,a){var b,h,n,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);h=a(11);n=a(310);d=a(2);p=a(309);f=a(307);k=a(5);a=a(24);c.storage=c.storage||void 0;c.Np=c.Np||void 0;k.$.get(a.Cf).register(d.K.Kla,function(a){var k;switch(b.config.sBb){case"idb":k=p.oBb;break;case"none":k=n.qBb;break;case"ls":k=f.pBb;}k(function(f){f.aa?(c.storage=f.storage,c.Np=f.Np,a(h.pd)):a(f);});});},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.tR="PboPublisherSymbol";},function(d,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});c.Rb=a;a.Ld={ina:"mr1",hna:"mr2",jna:"mr3",LI:"mr4",hVa:"mr5",Xy:"mr6"};a.jc={UNSENT:0,OPENED:1,Qv:2,$y:3,DONE:5,Bv:6,QH:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};a.qMb={Yia:0,cz:1,ana:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.zC={NO_ERROR:-1,nPa:0,gka:1,zPa:2,rPa:3,ONa:4,Kja:5,s1:6,PNa:7,QNa:8,RNa:9,LNa:10,NNa:11,Jja:12,MNa:13,KNa:14,ARa:15,rla:16,qla:17,q2:18,s2:19,r2:20,tla:21,CRa:22,$Q:23,sla:24,BRa:25,uPa:26,oPa:27,jYa:28,ePa:29,fPa:30,gPa:31,hPa:32,iPa:33,jPa:34,kPa:35,lPa:36,mPa:37,pPa:38,qPa:39,sPa:40,tPa:41,vPa:42,wPa:43,xPa:44,yPa:45,APa:46,BPa:47,iYa:48,TIMEOUT:49,o2:50,ola:51,zRa:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};a.wc={VG:{Yia:!0,cz:!1,ana:!0}};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.aQa=function(){this.AUDIO=0;this.VIDEO=1;this.wRa=2;this.qf=function(){};};c.Aka="DownloadTrackConstructorFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Vna="PboPlaydataServicesSymbol";c.sR="PboPlaydataServicesProviderSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.pk=function(){return this.buffer.length-this.position;};a.prototype.ve=function(){return this.buffer[this.position++];};a.prototype.Hd=function(a){var b;b=this.position;this.position+=a;return this.hnb(this.buffer)?this.buffer.subarray(b,this.position):this.buffer.slice(b,this.position);};a.prototype.hnb=function(a){return void 0!==a.subarray;};a.prototype.yc=function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;};a.prototype.Tr=function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;};a.prototype.Ifa=function(){for(var a="",h;h=this.ve();)a+=String.fromCharCode(h);return a;};a.prototype.Mb=function(){return this.yc(2);};a.prototype.Pa=function(){return this.yc(4);};a.prototype.xg=function(){return this.yc(8);};a.prototype.VZ=function(){return this.yc(2)/256;};a.prototype.nO=function(){return this.yc(4)/65536;};a.prototype.yf=function(a){for(var b,c="";a--;)b=this.ve(),c+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return c;};a.prototype.cy=function(){return this.yf(4)+"-"+this.yf(2)+"-"+this.yf(2)+"-"+this.yf(2)+"-"+this.yf(6);};a.prototype.oO=function(a){for(var b=0,c=0;c<a;c++)b+=this.ve()<<(c<<3);return b;};a.prototype.zB=function(){return this.oO(4);};a.prototype.WP=function(a){this.buffer[this.position++]=a;};a.prototype.W0=function(a,h){this.position+=h;for(var b=1;b<=h;b++)this.buffer[this.position-b]=a&255,a=Math.floor(a/256);};a.prototype.VP=function(a){for(var b=a.length,c=0;c<b;c++)this.buffer[this.position++]=a[c];};a.prototype.kC=function(a,h){this.VP(a.Hd(h));};a.prototype.GLa=function(b){b=new a(b);for(var h,c;;)if(h=b.pk(),c=h>>>14)c=Math.min(4,c),this.WP(192|c),this.kC(b,16384*c);else{128>h?this.WP(h):this.W0(h|32768,2);this.kC(b,h);break;}};a.prototype.FGa=function(){var c;for(var b=[],h=new a(b);;){c=this.ve();if(c&128)if(128==(c&192))c&=63,c=(c<<8)+this.ve(),h.kC(this,c);else if(c&=63,0<c&&4>=c){h.kC(this,16384*c);continue;}else throw Error("bad asn1");else h.kC(this,c);break;}return new Uint8Array(b);};return a;}();c.aI=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.wI="LicenseProviderSymbol";},function(d,c,a){var h,n;function b(a){switch(a){case h.G.oI:return"http";case h.G.qI:return"connectiontimeout";case h.G.My:return"readtimeout";case h.G.p2:return"corruptcontent";case h.G.Cv:return"abort";case h.G.rI:case h.G.t2:return"unknown";}}Object.defineProperty(c,"__esModule",{value:!0});h=a(2);n=a(10);c.Gza=b;c.Qza=function(a,f){a={errorcode:a+(f.errorCode||h.K.Nk)};f.da&&(a.errorsubcode=f.da);f.Td&&(a.errorextcode=f.Td);f.U9&&(a.erroredgecode=f.U9);f.lb&&(a.errordetails=f.lb);f.Oi&&(a.httperr=f.Oi);f.VY&&(a.aseneterr=f.VY);f.MV&&(a.errordata=f.MV);f.nN&&(a.mediaerrormessage=f.nN);(f=b(Number(f.da)))&&(a.nwerr=f);return a;};c.Wza=function(){return{screensize:n.Fs.width+"x"+n.Fs.height,screenavailsize:n.Fs.availWidth+"x"+n.Fs.availHeight,clientsize:L.innerWidth+"x"+L.innerHeight};};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});(c.qka||(c.qka={})).sWa="PboDebugEvent";c.F1={eUa:"Manifest",Event:"Event",aKb:"Logblob"};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d.P=function(a){return{minInitVideoBitrate:a.Lr,minHCInitVideoBitrate:a.Vda,maxInitVideoBitrate:a.Fu,minInitAudioBitrate:a.xN,maxInitAudioBitrate:a.iN,minHCInitAudioBitrate:a.wN,minAcceptableVideoBitrate:a.uN,minRequiredBuffer:a.yN,minPrebufSize:a.Mg,rebufferingFactor:a.Mfa,useMaxPrebufSize:a.Lia,maxPrebufSize:a.Lx,maxRebufSize:a.Cda,maxBufferingTime:a.Ko,minAudioMediaRequestSizeBytes:a.JY,minVideoMediaRequestSizeBytes:a.OY,initialBitrateSelectionCurve:a.AX,initSelectionLowerBound:a.mBa,initSelectionUpperBound:a.nBa,throughputPercentForAudio:a.m0,bandwidthMargin:a.k7,bandwidthMarginContinuous:a.l7,bandwidthMarginCurve:a.m7,conservBandwidthMargin:a.n8,switchConfigBasedOnInSessionTput:a.Wha,conservBandwidthMarginTputThreshold:a.dL,conservBandwidthMarginCurve:a.o8,switchAlgoBasedOnHistIQR:a.HJa,switchConfigBasedOnThroughputHistory:a.ry,maxPlayerStateToSwitchConfig:a.Bda,lowEndMarkingCriteria:a.eda,IQRThreshold:a.y2,histIQRCalcToUse:a.Aba,maxTotalBufferLevelPerSession:a.Iu,highWatermarkLevel:a.VAa,toStableThreshold:a.hKa,toUnstableThreshold:a.r0,skipBitrateInUpswitch:a.yha,watermarkLevelForSkipStart:a.Tia,highStreamRetentionWindow:a.tba,lowStreamTransitionWindow:a.fda,highStreamRetentionWindowUp:a.vba,lowStreamTransitionWindowUp:a.hda,highStreamRetentionWindowDown:a.uba,lowStreamTransitionWindowDown:a.gda,highStreamInfeasibleBitrateFactor:a.sba,lowestBufForUpswitch:a.Cu,lockPeriodAfterDownswitch:a.oY,lowWatermarkLevel:a.jda,lowestWaterMarkLevel:a.Du,lowestWaterMarkLevelBufferRelaxed:a.kda,mediaRate:a.Oda,maxTrailingBufferLen:a.BY,audioBufferTargetAvailableSize:a.BK,videoBufferTargetAvailableSize:a.NP,maxVideoTrailingBufferSize:a.yDa,maxAudioTrailingBufferSize:a.kDa,fastUpswitchFactor:a.TV,fastDownswitchFactor:a.j$,maxMediaBufferAllowed:a.Gu,maxMediaBufferAllowedInBytes:a.Ir,simulatePartialBlocks:a.vha,simulateBufferFull:a.ZIa,considerConnectTime:a.p8,connectTimeMultiplier:a.m8,lowGradeModeEnterThreshold:a.UCa,lowGradeModeExitThreshold:a.VCa,maxDomainFailureWaitDuration:a.mDa,maxAttemptsOnFailure:a.jDa,exhaustAllLocationsForFailure:a.yxa,maxNetworkErrorsDuringBuffering:a.sDa,maxBufferingTimeAllowedWithNetworkError:a.wda,fastDomainSelectionBwThreshold:a.Gxa,throughputProbingEnterThreshold:a.UJa,throughputProbingExitThreshold:a.VJa,locationProbingTimeout:a.HCa,finalLocationSelectionBwThreshold:a.Kxa,throughputHighConfidenceLevel:a.SJa,throughputLowConfidenceLevel:a.TJa,locationStatisticsUpdateInterval:a.Uca,enablePerfBasedLocationSwitch:a.ixa,probeServerWhenError:a.mq,probeRequestTimeoutMilliseconds:a.tfa,allowSwitchback:a.zt,probeDetailDenominator:a.wB,maxDelayToReportFailure:a.wY,countGapInBuffer:a.Dva,bufferThresholdForAbort:a.qua,allowCallToStreamSelector:a.pta,pipelineScheduleTimeoutMs:a.Wea,maxPartialBuffersAtBufferingStart:a.Hu,minPendingBufferLen:a.Wda,maxPendingBufferLen:a.Kx,maxPendingBufferLenSABCell100:a.yY,maxActiveRequestsSABCell100:a.uY,maxStreamingSkew:a.Dda,maxPendingBufferPercentage:a.Ada,maxRequestsInBuffer:a.YA,headerRequestSize:a.mX,minBufferLenForHeaderDownloading:a.vN,reserveForSkipbackBufferMs:a.l_,numExtraFragmentsAllowed:a.yea,pipelineEnabled:a.Oo,maxParallelConnections:a.bG,socketReceiveBufferSize:a.dJa,audioSocketReceiveBufferSize:a.nU,videoSocketReceiveBufferSize:a.MH,headersSocketReceiveBufferSize:a.qba,updatePtsIntervalMs:a.D0,bufferTraceDenominator:a.t7,bufferLevelNotifyIntervalMs:a.xE,aseReportDenominator:a.yK,aseReportIntervalMs:a.X6,enableAbortTesting:a.dxa,abortRequestFrequency:a.Qsa,streamingStatusIntervalMs:a.Oha,prebufferTimeLimit:a.Yu,minBufferLevelForTrackSwitch:a.KY,penaltyFactorForLongConnectTime:a.Rea,longConnectTimeThreshold:a.cda,additionalBufferingLongConnectTime:a.G6,additionalBufferingPerFailure:a.H6,rebufferCheckDuration:a.qO,enableLookaheadHints:a.hxa,lookaheadFragments:a.QCa,enableOCSideChannel:a.mA,OCSCBufferQuantizationConfig:a.oR,updateDrmRequestOnNetworkFailure:a.PKa,deferAseScheduling:a.qwa,maxDiffAudioVideoEndPtsMs:a.lDa,useHeaderCache:a.HH,useHeaderCacheData:a.GV,defaultHeaderCacheSize:a.hV,defaultHeaderCacheDataPrefetchMs:a.b9,headerCacheMaxPendingData:a.mba,neverWipeHeaderCache:a.hea,headerCachePriorityLimit:a.nba,enableUsingHeaderCount:a.ML,networkFailureResetWaitMs:a.fea,networkFailureAbandonMs:a.eea,maxThrottledNetworkFailures:a.AY,throttledNetworkFailureThresholdMs:a.l0,lowThroughputThreshold:a.ida,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.a$,mp4ParsingInNative:a.$Da,sourceBufferInOrderAppend:a.eJa,requireAudioStreamToEncompassVideo:a.Wr,allowAudioToStreamPastVideo:a.ota,enableManagerDebugTraces:a.Yf,managerDebugMessageInterval:a.dDa,managerDebugMessageCount:a.cDa,bufferThresholdToSwitchToSingleConnMs:a.s7,bufferThresholdToSwitchToParallelConnMs:a.r7,netIntrStoreWindow:a.hrb,minNetIntrDuration:a.Fqb,fastHistoricBandwidthExpirationTime:a.nfb,bandwidthExpirationTime:a.z7a,failureExpirationTime:a.lfb,historyTimeOfDayGranularity:a.rlb,expandDownloadTime:a.efb,minimumMeasurementTime:a.Pqb,minimumMeasurementBytes:a.Oqb,throughputMeasurementTimeout:a.pCb,initThroughputMeasureDataSize:a.dmb,throughputMeasureWindow:a.oCb,throughputIQRMeasureWindow:a.nCb,IQRBucketizerWindow:a.HSa,connectTimeHalflife:a.f$a,responseTimeHalflife:a.Rxb,historicBandwidthUpdateInterval:a.qlb,throughputWarmupTime:a.sCb,minimumBufferToStopProbing:a.Mqb,throughputPredictor:a.qCb,ase_stream_selector:a.A6a,enableFilters:a.jeb,filterDefinitionOverrides:a.Cfb,defaultFilter:a.xcb,secondaryFilter:a.wyb,defaultFilterDefinitions:a.ycb,initBitrateSelectorAlgorithm:a.Wba,bufferingSelectorAlgorithm:a.v7,ase_ls_failure_simulation:a.awa,ase_dump_fragments:a.S8,ase_location_history:a.T8,ase_throughput:a.U8,ase_simulate_verbose:a.cwa,secondThroughputEstimator:a.Cga,secondThroughputMeasureWindowInMs:a.$Ha,marginPredictor:a.tda,networkMeasurementGranularity:a.gea,HistoricalTDigestConfig:a.ula,maxIQRSamples:a.pDa,minIQRSamples:a.PDa,periodicHistoryPersistMs:a.yZ,saveVideoBitrateMs:a.u_,needMinimumNetworkConfidence:a.CN,biasTowardHistoricalThroughput:a.p7,maxFastPlayBufferInMs:a.yda,maxFastPlayBitThreshold:a.xda,headerCacheTruncateHeaderAfterParsing:a.QAa,minAudioMediaRequestDuration:a.hG,minVideoMediaRequestDuration:a.mG,minAudioMediaRequestDurationCache:a.hG,minVideoMediaRequestDurationCache:a.mG,addHeaderDataToNetworkMonitor:a.XT,useMediaCache:a.wy,mediaCachePartitionConfig:a.Ida,diskCacheSizeLimit:a.Vw,mediaCachePrefetchMs:a.EY,hindsightDenominator:a.zba,hindsightDebugDenominator:a.yba,hindsightParam:a.pX,minimumTimeBeforeBranchDecision:a.PY,enableSessionHistoryReport:a.LL,earlyStageEstimatePeriod:a.E9,lateStageEstimatePeriod:a.sCa,maxNumSessionHistoryStored:a.xY,minSessionHistoryDuration:a.NY,appendMediaRequestOnComplete:a.Cta,waitForDrmToAppendMedia:a.RP,forceAppendHeadersAfterDrm:a.D$,startMonitorOnLoadStart:a.Gha,reportFailedRequestsToNetworkMonitor:a.Yfa,reappendRequestsOnSkip:a.pO,maxActiveRequestsPerSession:a.Gr,limitAudioDiscountByMaxAudioBitrate:a.Qca,appendFirstHeaderOnComplete:a.R6,maxAudioFragmentOverlapMs:0,editAudioFragments:a.CV,editVideoFragments:a.Zw,declareBufferingCompleteAtSegmentEnd:a.W8,applyProfileTimestampOffset:a.Oz,applyProfileStreamingOffset:a.fo,requireDownloadDataAtBuffering:a.j_,requireSetupConnectionDuringBuffering:a.k_,recordFirstFragmentOnSubBranchCreate:a.Pfa,earlyAppendSingleChildBranch:a.BV,selectStartingVMAFMethod:a.aH,activateSelectStartingVMAF:a.oK,minStartingVideoVMAF:a.lG,alwaysNotifyEOSForPlaygraph:a.N6,enableNewAse:a.K9,useNewApi:a.GP};};},function(d,c,a){var b,h,n,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(14);n=a(779);p=a(4);d=function(){function f(a){this.hJ=a;this.Hn=[];this.console=new p.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(f,{Mf:{get:function(){var b;if(void 0===f.qz){b=a(4);f.qz=new f(b.xC);}return f.qz;},enumerable:!0,configurable:!0}});f.reset=function(){f.qz=void 0;};f.prototype.Qw=function(a,f,b,h,c,d){var k,m,t;m=d.lAb?this.Lfb(b,f,a):-1;if(-1===m){k={track:this.ubb(b,h,a,c,d),kq:b,u:f,AGa:a,QG:[],Kp:!1,ywa:!1};this.Hn.push(k);t=function(){k.Kp=!0;k.track.removeListener("created",t);};k.track.on("created",t);k.track.Xb&&k.track.Xb();}else k=this.Hn[m];a=new n.WXa(k.track,k.Kp);k.QG.push(a);return a;};f.prototype.pV=function(a){var f,b;a.en();f=this.ZV(function(f){return f.track===a.track;});if(-1!==f)if(f=this.Hn[f],1===f.QG.length)f.track.en(),f.ywa=!0;else{b=f.QG.indexOf(a);0<=b&&f.QG.splice(b,1);}else a.track.en();};f.prototype.qf=function(){this.hJ.qf();};f.prototype.ubb=function(a,f,c,d,p){var k,m,t;k=this;m=!1;a?1===c?(a=!1,f=1,p.Oo?(a=!0,f=p.bG):p.Gr&&2<p.Gr&&(a=!0,f=p.Gr),a={type:this.hJ.VIDEO,openRange:!a,pipeline:a,connections:f,socketBufferSize:p.MH,minRequestSize:p.kG}):0===c?(m=p.Oo&&(p.xEb||f&&p.yEb),a={type:this.hJ.AUDIO,openRange:!m,pipeline:m,connections:1,socketBufferSize:p.nU,minRequestSize:p.kG}):a={type:this.hJ.wRa,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.qba,minRequestSize:p.kG}:a={type:0===c?h.Na.AUDIO:h.Na.VIDEO,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0===c?p.nU:p.MH,minRequestSize:p.kG};t=new this.hJ(a,d);t.on("transportreport",function(a){var f;f=k.ZV(function(a){return a.track===t;});-1!==f&&(f=k.Hn[f],f.QG.length&&f.QG[0].emit("transportreport",a));});t.on("destroyed",function(){var a;a=k.ZV(function(a){return a.track===t;});-1!==a&&k.Hn.splice(a,1);t.removeAllListeners();});if(m&&p.wEb)t.on("pipelinedisabled",function(){t.Ofa(b.__assign(b.__assign({},t.config),{pipeline:!1,openRange:!0}));});return t;};f.prototype.Lfb=function(a,f,b){return this.ZV(function(k){return!k.ywa&&(a?k.kq&&k.u===f&&k.AGa===b:!k.kq&&k.AGa===b);});};f.prototype.ZV=function(a){for(var f=0;f<this.Hn.length;++f)if(a(this.Hn[f]))return f;return-1;};return f;}();c.np=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.rta=function(a,b){var h,c,d;h=b.profile;b=b.u;c=a.syb;d=a.tyb;return a.ryb||Array.isArray(c)&&-1!==c.indexOf(h)||"object"===typeof d&&Array.isArray(d[h])&&-1!==d[h].indexOf(""+b);};c.Cza=function(a,b){return void 0!==a.iG?a.iG:b&&void 0!==b.iG?b.iG:100;};},function(d,c,a){var n,p,f,k,m,t,u,y;function b(a){return a&&"function"===typeof a.rg?!0:!1;}function h(a){return b(a)&&(a=typeof a.ymb,"boolean"===a||"undefined"===a)?!0:!1;}Object.defineProperty(c,"__esModule",{value:!0});n=a(0);p=a(84);f=a(4).Promise;m=function(){function a(a){var f;f=this;this.k1a=a;this.Sq=!1;this.i3a=function(a){return f.qvb(a);};this.Eva();}a.rnb=function(a,f){function b(){var k;k=a.next();k.then(function(b){h(a)&&a.ymb||f(b);});k.then(function(a){return!a.done&&b();});}b();};Object.defineProperties(a.prototype,{rn:{get:function(){return this.Sq;},enumerable:!0,configurable:!0}});a.Xhb=function(){return new t([]);};a.Xaa=function(){k||(k=f.resolve({done:!0}));return k;};a.WRb=function(){return{done:!0};};Object.defineProperties(a.prototype,{KF:{get:function(){return this.Kq||!1;},enumerable:!0,configurable:!0}});a.prototype.rg=function(){this.cancel();};a.prototype.cancel=function(){this.Pra();this.Kq=!0;return this.s4;};a.prototype.next=function(){return this.Kq?this.s4:f.race([this.s4,this.k1a()]).then(this.i3a);};a.prototype.qvb=function(a){a.done&&(this.Sq=!0,this.rg());this.KF||(this.Pra(),this.Eva());return a;};a.prototype.Eva=function(){var a;a=this;this.s4=new f(function(f){a.Pra=function(){f({done:!0});};});};return a;}();c.rC=m;t=function(a){function k(f){var b;b=a.call(this,function(){return b.Yib();})||this;b.bk=f;b.index=0;return b;}n.__extends(k,a);k.prototype.rg=function(){b(this.bk)&&this.bk.rg();a.prototype.rg.call(this);};k.prototype.Yib=function(){return this.bk.length>this.index?f.resolve({value:this.bk[this.index++],done:!1}):f.resolve({done:!0});};return k;}(m);c.rGb=t;c.zSb=b;c.iRb=h;u=function(a){function f(f,b,k){var m;m=a.call(this,function(){return m.iea();})||this;m.console=b;m.mj=k;m.vfa=!1;Array.isArray(f)?m.UJ=new t(f):m.UJ=f;return m;}n.__extends(f,a);f.prototype.svb=function(a){var f;this.vfa=!1;f=this.console;p.yb&&f&&f.trace("CompoundIterator: processNextOuterIterator");if(a.done)return a;a=a.value;if(this.DD)return b(a)&&a.rg(),m.Xaa();Array.isArray(a)?this.mj=new t(a):this.mj=a;return this.iea();};f.prototype.rvb=function(a){var f;f=this.console;p.yb&&f&&f.trace("CompoundIterator: processNextInnerResult",this.DD,a.done);if(!a.done||this.DD)return a;this.mj=void 0;return this.iea();};f.prototype.rg=function(){var f;f=this.console;p.yb&&f&&f.trace("CompoundIterator: dispose");this.DD=!0;a.prototype.rg.call(this);b(this.UJ)&&this.UJ.rg();b(this.mj)&&this.mj.rg();};f.prototype.toString=function(){return"CompoundIterator "+this.DD+" "+this.UJ+" "+this.mj;};f.prototype.iea=function(){var a,f;a=this;f=this.console;p.yb&&f&&f.trace("CompoundIterator: nextImpl");if(this.mj)return p.yb&&f&&f.trace("CompoundIterator: getNextInner"),this.mj.next().then(function(f){return a.rvb(f);});this.vfa=!0;p.yb&&f&&f.trace("CompoundIterator: getNextOuter");return this.UJ.next().then(function(f){return a.svb(f);});};return f;}(m);c.FHb=u;c.map=function(a,f,b){return new y(a,f,b);};y=function(a){function f(f,b,k){var m;m=a.call(this,function(){return m.W0a();})||this;m.source=f;m.sda=b;m.a$a=k;return m;}n.__extends(f,a);f.prototype.rg=function(){b(this.source)&&this.source.rg();a.prototype.rg.call(this);};f.prototype.W0a=function(){var a,f,b;a=this.a$a;f=this.sda;b=this.source;p.yb&&a&&a.trace("MappedIterator: Requesting next");return b.next().then(function(a){return a.done?a:f(a.value);});};return f;}(m);c.gx=function(a,f,b){return new u(a,f,b);};},function(d,c,a){var b,h,n,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(7);n=a(14);p=a(4);d=function(a){function f(f,b,k,c,d){k=a.call(this,k)||this;k.J6=!1;k.uHa=f;k.Zc=c;k.mra=f.location||b.location;k.gK=f.qc||b.Jb;k.Yga=f.Yga||b.Yga;k.QVb=p.time.ea();h.assert(d);k.I=d;return k;}b.__extends(f,a);Object.defineProperties(f.prototype,{console:{get:function(){return this.I;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{location:{get:function(){return this.mra;},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Jb:{get:function(){return this.gK;},enumerable:!0,configurable:!0}});f.prototype.Xb=function(a){this.Ja=a;};f.prototype.M_=function(a,f){this.mra=a;this.gK=f;};f.prototype.kT=function(a){var f,b,k;f={type:"logdata",target:"endplay",fields:{}};b=this.M===n.Na.AUDIO?"audioedit":"videoedit";k=[this.jx===this.S?this.sd:this.Wb,this.jx===this.S?-this.duration:this.duration];a&&a.Zr&&k.push(a.Zr);f.fields[b]={type:"array",value:k};return f;};f.prototype.aT=function(a){this.Zc.pO&&(this.nya=!0,this.Zwa=a);};f.prototype.F0=function(){var a,f;if(this.complete)return 0;a=this.uHa;f=a.O;return a.url?this.url===a.url||(f.M_(this,a.location,a.qc),this.iP(a.url))?0:(this.I.warn("swapUrl failed: ",this.jF),2):(this.I.warn("updateurl, missing url for streamId:",a.qa,"mediaRequest:",this,"stream:",a),1);};return f;}(a(87).rs);c.qC=d;},function(d,c,a){function b(a,b){this.hE=a;this.ci=Math.floor((a+b-1)/b);this.Kc=b;this.reset();}a(7);b.prototype.shift=function(){this.Sc.shift();this.Vq.shift();};b.prototype.AG=function(a){return this.Aua(this.Sc[a],a);};b.prototype.update=function(a,b){this.Sc[a]=(this.Sc[a]||0)+b;};b.prototype.push=function(){this.Sc.push(0);this.Vq.push(0);this.Qa+=this.Kc;};b.prototype.add=function(a,b,c){var f,k,m;if(null===this.Qa)for(f=Math.max(Math.floor((c-b+this.Kc-1)/this.Kc),1),this.Qa=b;this.Sc.length<f;)this.push();for(;this.Qa<=c;)this.push(),this.Sc.length>this.ci&&this.shift();if(null===this.Cl||b<this.Cl)this.Cl=b;if(b>this.Qa-this.Kc)this.update(this.Sc.length-1,a);else if(b==c)f=this.Sc.length-Math.max(Math.ceil((this.Qa-c)/this.Kc),1),0<=f&&this.update(f,a);else for(f=1;f<=this.Sc.length;++f){k=this.Qa-f*this.Kc;m=k+this.Kc;if(!(k>c)){if(m<b)break;this.update(this.Sc.length-f,Math.round(a*(Math.min(m,c)-Math.max(k,b))/(c-b)));}}for(;this.Sc.length>this.ci;)this.shift();};b.prototype.start=function(a){null===this.Cl&&(this.Cl=a);null===this.Qa&&(this.Qa=a);};b.prototype.stop=function(a){var b,c;if(null!==this.Qa)if(a-this.Qa>10*this.hE)this.reset();else{for(;this.Qa<=a;)this.push(),this.Sc.length>this.ci&&this.shift();b=this.Sc.length-Math.ceil((this.Qa-this.Cl)/this.Kc);0>b&&(this.Cl=this.Qa-this.Kc*this.Sc.length,b=0);c=this.Sc.length-Math.ceil((this.Qa-a)/this.Kc);if(b===c)this.Vq[b]+=a-this.Cl;else if(c>b)for(this.Vq[b]+=(this.Qa-this.Cl)%this.Kc,this.Vq[c]+=this.Kc-(this.Qa-a)%this.Kc,a=b+1;a<c;++a)this.Vq[a]=this.Kc;this.Cl=null;}};b.prototype.Aua=function(a,b){b=this.U$(b);return 0===b?null:8*a/b;};b.prototype.U$=function(a){var b;b=this.Vq[a];null!==this.Cl&&(a=this.Qa-(this.Sc.length-a-1)*this.Kc,a>this.Cl&&(b=a-this.Cl<=this.Kc?b+(a-this.Cl):this.Kc));return b;};b.prototype.get=function(a,b){var c,f;c=this.Sc.map(this.Aua,this);if("last"===a)for(a=0;a<c.length;++a)null===c[a]&&(c[a]=0<a?c[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.Kc));for(a=0;a<c.length;++a)null===c[a]?c[a]=Math.floor(f||0):f=void 0!==f?b*c[a]+(1-b)*f:c[a];}return c;};b.prototype.reset=function(){this.V4||(this.Sc=[],this.Vq=[],this.Cl=this.Qa=null);};b.prototype.setInterval=function(a){this.ci=Math.floor((a+this.Kc-1)/this.Kc);};d.P=b;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(226);h=a(7);d=function(){function a(a){this.config=a;this.reset();}a.Mf=function(){h.assert(void 0!==a.qz);return a.qz;};a.e$a=function(b){a.qz=new a(b);};a.GPb=function(){a.qz=void 0;};a.prototype.push=function(a){this.wi&&this.wi.push(a);};a.prototype.kb=function(){if(this.wi)return this.wi.Vt(),this.wi.Jh([.25,.5,.75,.9,.95,.99]).map(function(a){return a?parseFloat(a.toFixed(1)):0;});};a.prototype.reset=function(){this.config.jxa&&this.config.C2&&(this.wi=new b.CNb(this.config.C2.c,this.config.C2.maxc));};return a;}();c.vv=d;},function(d,c,a){var b,h,n,p,f,k,m,t,u,y;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=a(27);h=a(6);n=d.pp;p=a(4);f=p.Vj;k=a(169);m=a(114);t=a(16);d=a(44);u=a(167);y=a(173);a=function(a){function c(b,k,m,c,h,t,d){k=a.call(this,k,m)||this;u.qC.call(k,b,c,h,t,d);y.By.call(k,b,c);k.gJ=b.url||c.url;k.fJ=c.responseType;k.Upa=c.P_;void 0===k.fJ&&(k.fJ=f.wc&&!f.wc.VG.cz?0:1);k.Gf=new n();k.Gf.on(k,f.Ld.ina,k.TJ);k.Gf.on(k,f.Ld.hna,k.w5);k.Gf.on(k,f.Ld.jna,k.x5);k.Gf.on(k,f.Ld.LI,k.SJ);k.Gf.on(k,f.Ld.Xy,k.OD);k.dD=!1;k.Rc=!1;k.og=!1;k.Tq=!1;k.zJ=!1;k.kl=0;return k;}b.__extends(c,a);Object.defineProperties(c.prototype,{active:{get:function(){return this.Rc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{WGa:{get:function(){return this.og;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return!this.dD&&5===this.readyState;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Wq:{get:function(){return this.dD;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{jca:{get:function(){return this.Tq&&!this.zJ;},enumerable:!0,configurable:!0}});c.prototype.Xb=function(a){u.qC.prototype.Xb.call(this,a);this.Vb||!this.Zc.XT&&this.ac||(this.Vb=m.Mf(),this.active&&(this.Vb.BB(p.time.ea(),{requestId:this.Om(),ae:this.Jb,type:this.M}),this.og&&(this.Vb.ega(p.time.ea()),this.connect&&0<this.Vo.length&&this.Vb.yt(this.Vo[0]))));};c.prototype.IA=function(){return 1===this.responseType?3<=this.readyState:5===this.readyState;};c.prototype.nE=function(a){this.Ji=a.appendBuffer(this.response,t.dm(this));return{aa:this.Ji};};c.prototype.Or=function(){(this.Tq=f.prototype.open.call(this,this.gJ,{start:this.offset,end:this.offset+this.ba-1},this.fJ,{},void 0,void 0,this.Upa))&&this.ZL(this);return this.Tq;};c.prototype.abort=function(){var a;if(this.Wq)return!0;a=this.Rc;this.Vb&&a&&this.Vb.DB(p.time.ea(),this.og,{requestId:this.Om(),ae:this.Jb,type:this.M});this.dD=!0;this.og=this.Rc=!1;f.prototype.abort.call(this);this.iW(this,a,this.jca);return!0;};c.prototype.xc=function(){7!==this.readyState&&5!==this.readyState&&(this.I.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Gf&&this.Gf.clear();a.prototype.xc.call(this);};c.prototype.TJ=function(){var a;a=this.Wc||this.Ze;k.vv.Mf().push(p.time.ea()-a);this.Rc||(this.Rc=!0,this.tn=this.track.tn(),this.stream.J.iDa||this.Vb&&this.Vb.BB(a,{requestId:this.Om(),ae:this.Jb,type:this.M}),this.uA(this),this.ll=this.Wc);};c.prototype.w5=function(){var a,f,b;a=this.Wc||this.r$;f=this.connect;b=this.Vo;k.vv.Mf().push(p.time.ea()-a);this.Rc||(this.Rc=!0);this.og||(this.og=!0,this.stream.J.iDa&&this.Vb&&this.Vb.BB(a,{requestId:this.Om(),ae:this.Jb,type:this.M}),this.Vb&&this.Vb.ega(),f&&0<b.length&&this.Vb&&this.Vb.yt(b[0]),this.tA(this),this.ll=a);};c.prototype.x5=function(){var a,f,b;a=this;f=this.Wc;b=this.Ae-this.kl;k.vv.Mf().push(p.time.ea()-f);this.og||(this.og=!0);this.Vb&&(void 0===this.ll||this.Vb.xw(b,this.ll,f,{requestId:this.Om(),ae:this.Jb,type:this.M}),this.Vo&&this.Vo.length&&this.Vo.forEach(function(f){a.Vb.xt(f);}));this.oF(this);this.ll=f;this.kl=this.Ae;};c.prototype.SJ=function(){var a,f,b;a=this;f=this.Wc;b=this.Ae-this.kl;k.vv.Mf().push(p.time.ea()-f);this.Vb&&(0<b&&this.Vb.xw(b,this.ll,f,{requestId:this.Om(),ae:this.Jb,type:this.M}),this.Vo&&this.Vo.length&&this.Vo.forEach(function(f){a.Vb.xt(f);}),this.Vb.DB(f,this.og,{requestId:this.Om(),ae:this.Jb,type:this.M}));this.og=this.Rc=!1;this.zJ=!0;this.Qp(this);this.ll=f;this.kl=this.Ae;this.xc();};c.prototype.Om=function(){var a,f;a=(a=this.stream)?a.toString():this.url;f=this.tU;f&&(a+=",range "+f.start+"-"+f.end);return a;};c.prototype.OD=function(){var a,f,b,m;this.I.warn("AseMediaRequest._onError:",this.toString());a=this.Wc;f=this.status;b=this.eh;m=this.Ti;k.vv.Mf().push(p.time.ea()-a);this.complete?this.I.warn("Error on a done request "+this.toString()+", failurecode: "+b):this.Wq?this.I.warn("Error on an aborted request "+this.toString()+", failurecode: "+b):h.ma(b)?(this.Vb&&this.Zc&&this.Zc.Yfa&&this.Ze&&void 0===f&&this.Vb.xw(this.kl?this.Ae-this.kl:this.Ae,this.ll?this.ll:this.Ze,a,{requestId:this.Om(),ae:this.Jb,type:this.M}),this.jW(this)):this.I.warn("ignoring undefined request error (nativecode: "+m+")");};return c;}(f);c.pC=a;d.cj(u.qC,a,!1);d.cj(y.By,a,!1);},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(4);h=a(16);d=function(){function a(a){this.I=new b.Console("ASEJS","media|asejs","("+a+")");this.n5=[];}a.prototype.Vl=function(a){this.n5[a]||(this.n5[a]=h.Hx(b,this.I,"["+a+"]"));return this.n5[a];};return a;}();c.ul=new d(0);},function(d,c,a){var n;function b(a,f){return void 0===a||void 0===f?void 0:a+f;}function h(a,f){return void 0===a||void 0===f?void 0:a-f;}Object.defineProperty(c,"__esModule",{value:!0});n=a(33);d=function(){function a(){}Object.defineProperties(a.prototype,{so:{get:function(){return h(this.rb,this.eb)||0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ZN:{get:function(){return b(this.eb,this.pq);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{FZ:{get:function(){return b(this.rb,this.pq);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{B9:{get:function(){return this.dE(this.so);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ow:{get:function(){return this.dE(this.eb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{eL:{get:function(){return this.dE(this.rb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{jq:{get:function(){return this.dE(this.ZN);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{afa:{get:function(){return this.dE(this.FZ);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Hvb:{get:function(){return this.dE(this.pq);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return h(this.ia,this.S)||0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.uw(this.ZN);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ia:{get:function(){return this.uw(this.FZ);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{om:{get:function(){return this.uw(this.pq);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Mi:{get:function(){return this.uw(this.eb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Wb:{get:function(){return this.uw(this.eb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{sd:{get:function(){return this.uw(this.rb);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pc:{get:function(){return this.uw(this.ZN);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ge:{get:function(){return this.uw(this.FZ);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{mr:{get:function(){return this.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{av:{get:function(){return this.S;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{MG:{get:function(){return this.ia;},enumerable:!0,configurable:!0}});a.prototype.dE=function(a){return void 0===a?void 0:0===a?n.sa.xe:new n.sa(a,this.X);};a.prototype.uw=function(a){return a&&Math.floor(n.sa.lia(a,this.X));};return a;}();c.cQ=d;},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(7);d=function(){function a(a,b){this.Dd=a;this.Zb=b.ba;this.Nd=b.offset;}Object.defineProperties(a.prototype,{stream:{get:function(){return this.Dd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.Zb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{offset:{get:function(){return this.Nd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Dd.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.Dd.u;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Dd.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{qa:{get:function(){return this.Dd.qa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Dd.R;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Dd.profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.Dd.X;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{oG:{get:function(){return this.Dd.oG;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ta:{get:function(){return this.Dd.Ta;},enumerable:!0,configurable:!0}});a.prototype.toJSON=function(){return{movieId:this.u,streamId:this.qa,offset:this.offset,bytes:this.ba};};return a;}();c.By=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(26);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(f){f=a.prototype.parse.call(this,f);this.L.offset+=8;this.b9a=this.L.Pg();this.hyb=this.L.Pg();this.L.offset+=4;this.SHa=this.L.Pg();this.L.offset+=2;h.yb&&this.L.console.trace("MP4AudioSampleEntry: channelcount: "+this.b9a+", samplesize: "+this.hyb+", samplerate: "+this.SHa);return f;};c.ic=!1;return c;}(a(233)["default"]);c["default"]=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.zI="ManifestFactorySymbol";},function(d){d.P=function(c){return null!=c&&"object"===typeof c&&!0===c["@@functional/placeholder"];};},function(d,c,a){var b,h,n;b=a(116);h=a(52);n=a(176);d.P=function(a){return function k(m,c,d){switch(arguments.length){case 0:return k;case 1:return n(m)?k:h(function(b,k){return a(m,b,k);});case 2:return n(m)&&n(c)?k:n(m)?h(function(b,k){return a(b,c,k);}):n(c)?h(function(b,k){return a(m,b,k);}):b(function(b){return a(m,c,b);});default:return n(m)&&n(c)&&n(d)?k:n(m)&&n(c)?h(function(b,k){return a(b,k,d);}):n(m)&&n(d)?h(function(b,k){return a(b,c,k);}):n(c)&&n(d)?h(function(b,k){return a(m,b,k);}):n(m)?b(function(b){return a(b,c,d);}):n(c)?b(function(b){return a(m,b,d);}):n(d)?b(function(b){return a(m,c,b);}):a(m,c,d);}};};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.wla="IDBDatabaseFactorySymbol";c.Wla="IndexedDBFactorySymbol";c.z2="IndexedDBStorageFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.XUa="NativeLocalStorageSymbol";c.bna="NativeLocalStorageFactorySymbol";c.xla="IDBFactorySymbol";},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(32);c.aIb=function(){this.CK=[];this.KH=[];this.b7=b.Cy.Hy;this.P0=b.Ok.Hy;};c.xQ="DeviceCapabilitiesConfigSymbol";},function(d,c,a){d=a(264);a=a(263);c.async=new a.j1(d.h1);},function(d,c,a){function b(a){var b,f;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),c=0;c<b.length;++c){f=b[c];if("entries"!==f&&"size"!==f&&a.prototype[f]===a.prototype.entries)return f;}return"@@iterator";}d=a(82);c.IVb=b;c.iterator=b(d.root);c.DFb=c.iterator;},function(d,c,a){var b,h,n,p,f,k,m,t;b=this&&this.__extends||function(a,f){function b(){this.constructor=a;}for(var k in f)f.hasOwnProperty(k)&&(a[k]=f[k]);a.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b());};h=a(9);d=a(49);n=a(70);p=a(500);f=a(499);k=a(266);m=function(a){function f(f){a.call(this,f);this.destination=f;}b(f,a);return f;}(d.gj);c.XYa=m;a=function(a){function c(){a.call(this);this.Mu=[];this.wM=this.Nf=this.closed=!1;this.eia=null;}b(c,a);c.prototype[k.GB]=function(){return new m(this);};c.prototype.wg=function(a){var f;f=new t(this,this);f.jB=a;return f;};c.prototype.next=function(a){if(this.closed)throw new p.SC();if(!this.Nf)for(var f=this.Mu,b=f.length,f=f.slice(),k=0;k<b;k++)f[k].next(a);};c.prototype.error=function(a){if(this.closed)throw new p.SC();this.wM=!0;this.eia=a;this.Nf=!0;for(var f=this.Mu,b=f.length,f=f.slice(),k=0;k<b;k++)f[k].error(a);this.Mu.length=0;};c.prototype.complete=function(){if(this.closed)throw new p.SC();this.Nf=!0;for(var a=this.Mu,f=a.length,a=a.slice(),b=0;b<f;b++)a[b].complete();this.Mu.length=0;};c.prototype.unsubscribe=function(){this.closed=this.Nf=!0;this.Mu=null;};c.prototype.h6=function(f){if(this.closed)throw new p.SC();return a.prototype.h6.call(this,f);};c.prototype.Hg=function(a){if(this.closed)throw new p.SC();if(this.wM)return a.error(this.eia),n.zl.EMPTY;if(this.Nf)return a.complete(),n.zl.EMPTY;this.Mu.push(a);return new f.gpa(this,a);};c.prototype.W6=function(){var a;a=new h.Ba();a.source=this;return a;};c.create=function(a,f){return new t(a,f);};return c;}(h.Ba);c.Xj=a;t=function(a){function f(f,b){a.call(this);this.destination=f;this.source=b;}b(f,a);f.prototype.next=function(a){var f;f=this.destination;f&&f.next&&f.next(a);};f.prototype.error=function(a){var f;f=this.destination;f&&f.error&&this.destination.error(a);};f.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};f.prototype.Hg=function(a){return this.source?this.source.subscribe(a):n.zl.EMPTY;};return f;}(a);c.nGb=t;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Joa="ReportSyncSymbol";c.Ioa="ReportApiErrorSyncSymbol";c.ila="FtlProbeConfigSymbol";c.jla="FtlProbeSymbol";},function(d){d.P={us:{Q3:0,Moa:1,fj:2,name:["transient","semiTransient","permanent"]},ps:{bla:0,Koa:1,HR:2,NI:3,Hs:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},UNb:{ENb:0,lKb:1,vHb:2,Hs:100,name:["trailer","montage","content"]},Gq:{gma:0,Doa:1,HZa:2,CPa:3,Hs:100,name:["left","right","up","down"]},uI:{XNa:0,HR:1,fJb:2,zIb:3,yGb:4,eJb:5,TMa:6,Hs:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},IC:{NI:0,cka:1,Hs:100,name:["playFocused","detailsOpened"]}};},function(d,c,a){c=a(256);d.P="undefined"!==typeof c&&"undefined"!==typeof nrdp?nrdp.ea:Date.now;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.vR="PlaygraphHelperSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.up||(c.up={});d[d.gna=0]="None";d[d.ela=1]="Fetching";d[d.J1=2]="Done";d[d.Error=3]="Error";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Goa=function(a,b){var c;this.kha=function(){c||(c=setInterval(b,a));};this.Y7=function(){c&&(clearInterval(c),c=void 0);};};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.Fi||(c.Fi={});d[d.hJa=1]="sourceopen";d[d.qo=2]="currentTimeChanged";d[d.EO=3]="seeked";d[d.QTb=4]="needlicense";d[d.zCa=5]="licenseadded";d[d.gJa=6]="sourceBuffersAdded";d[d.Cea=7]="onNeedKey";},function(d,c,a){var b,h,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(18);h=a(19);n=a(15);(function(){var f,k,m;function a(a){b.Ra(void 0!==f[a]);return f[a];}f={'"':'""',"\r":"","\n":" "};k=/["\r\n]/g;m=/[", ]/;c.ecb=function(f){return n.$b(f)?n.ma(f)?f:n.ee(f)?f.replace(k,a):n.CBa(f)?f:isNaN(f)?"NaN":"":"";};c.ZCa=function(a){var f,b;f=c.ecb;b="";h.Gd(a,function(a,k){a=f(a)+"="+f(k);m.test(a)&&(a='"'+a+'"');b=b?b+(","+a):a;});return b;};}());},function(d,c,a){var h,n,p;function b(a,b){this.Oq=b?[b]:[];this.U4="$op$"+p++;this.o=a;}Object.defineProperty(c,"__esModule",{value:!0});h=a(11);n=a(18);p=0;b.prototype.addListener=function(a,b){var f;f=this;n.Zva(a);n.Ra(0>this.Oq.indexOf(a));a[h.Y2+this.U4]=b;this.Oq=this.Oq.slice();this.Oq.push(a);this.Oq.sort(function(a,b){return f.PAb(a,b);});};b.prototype.removeListener=function(a){var f;n.Zva(a);this.Oq=this.Oq.slice();0<=(f=this.Oq.indexOf(a))&&this.Oq.splice(f,1);};b.prototype.set=function(a,b){if(this.o!==a){b={oldValue:this.o,newValue:a,Rw:b};this.o=a;a=this.Oq;for(var f=a.length,k=0;k<f;k++)a[k](b);}};b.prototype.when=function(a){var f;f=this;return new Promise(function(b){function k(m){if(a(m.newValue))return f.removeListener(k),b(m.newValue);}if(a(f.o))return b(f.o);f.addListener(k);});};b.prototype.PAb=function(a,b){return(a[h.Y2+this.U4]||0)-(b[h.Y2+this.U4]||0);};pa.Object.defineProperties(b.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});c.Qc=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.l3="PboBindCommandSymbol";},function(d,c,a){var n,p,f,k,m,t,u,y,E,g,z,G,M,N,P,l,q;function b(a){var f;f=this;this.j=a;this.Yta=this.ACa=!1;this.log=k.fh(this.j,"Playback");this.lY=k.$.get(z.wI);this.Fj=k.$.get(N.Yy);this.Hc=k.$.get(P.cD);this.Ctb=k.$.get(l.l3);this.j.addEventListener(M.T.$M,function(){return f.jEb();});m.Ra(p.config);p.config.ip||(this.Ldb=k.$.get(t.Bka));}function h(a,f){var m;function b(a){return a&&0<a.length&&a[0].Dx;}m=k.$.get(z.wI);return a.ga&&b(a.oc)?m.release(Object.assign(Object.assign({},f),{ga:a.ga,oc:a.oc})):f.ga&&b(f.oc)?m.release(f):Promise.resolve(n.pd);}Object.defineProperty(c,"__esModule",{value:!0});n=a(11);p=a(12);f=a(34);k=a(5);m=a(18);t=a(507);u=a(2);y=a(53);E=a(51);g=a(15);z=a(160);G=a(158);M=a(13);N=a(99);P=a(109);l=a(193);q=a(47);b.prototype.GK=function(a){var c,h,d;function b(){c.j.jIa().then(k)["catch"](a);}function k(f){try{c.j.oGa(f);a(n.pd);c.Tfb();}catch(O){c.log.error("Exception processing authorization response",O);a({aa:!1,da:u.G.kWa});}}c=this;m.tL(this.j.u);m.tL(this.j.Rh);h=this.j.wa;if(h){d=h.If.b$;d?(d-=f.bva(),18E5<d?E.Pb(function(){k(h);c.j.Mt="ui";}):(this.log.error("manifest is expired",{gap:d}),b())):E.Pb(function(){k(h);c.j.Mt="ui";});}else p.config.Ro&&this.Hc()?(d=this.Hc().Sp(this.j.u,"manifest"))&&d.then(function(a){k(a);c.j.Mt="videopreparer";})["catch"](function(a){c.log.warn("manifest not in cache",a);b();}):b();};b.prototype.kM=function(a){var f;f=this;return new Promise(function(b,m){var c,h,d;c=y.Yd.Bva(a.pi);h=a.gi.map(function(a){return{sessionId:a.sessionId,dataBase64:k.Et(a.data)};});d=f.j.njb(a.gi[0].sessionId);c={eg:d.eg,pi:g.is.Il(a.pi)?a.pi:c,yV:[d.kk],gi:h,ga:d.ga,kr:a.kr,Cj:d.wa.Cj};f.j.gL&&f.j.gL.OU&&(c.mN=f.j.gL.OU);f.lY.Kz(c).then(function(a){f.j.oc=a.oc;b(a);f.Ufb(d);})["catch"](m);});};b.prototype.release=function(a){return h(this.j,a);};b.prototype.Fva=function(){var a;a=this.Ldb.create();this.j.Kf&&(a.Wd=this.j.Kf.sF());a.oc=this.j.oc;a.ga=this.j.ga;a.u=this.j.u;return a;};b.prototype.Ufb=function(a){this.ACa||(this.ACa=!0,this.j.fireEvent(M.T.$M,{u:a.u}));};b.prototype.Tfb=function(){var a;a=this;this.Yta||(this.Yta=!0,this.j.fireEvent(M.T.l7a),k.$.get(G.sR)().then(function(f){f.Iha(a.j);}));};b.prototype.jEb=function(){var a,f;a=this;f=k.$.get(q.Mk);this.Fj.MF||b.aLa||(b.aLa=!0,f.IEb&&p.config.iEb&&this.Ctb.qf(this.log,{}).then(function(){return a.log.trace("Updated NetflixId");})["catch"](function(f){return a.log.error("NetflixId upgrade failed",u.op(f));}));};c.yOa=b;b.aLa=!1;c.Rwb=h;},function(d,c,a){var p,f,k,m,t,u,y,E,g,z,G,M,N,P,l,q,S,A;function b(a,b){var D;function m(f){return p.Rwb(a,f);}function c(){var a,f,b;f=u.Jg("Eme");a=new t.zh.yv(f,void 0,m,{Ih:!1,OM:!1});b=u.$.get(E.ZC);return t.zh.zv(f,"cenc",void 0,{Ih:!1,OM:!1,VBa:k.config.vi,dIa:{HDa:k.config.Byb,Nua:k.config.Ega,$Vb:k.config.Ayb},gy:a,rGa:k.config.yfa,jC:k.config.H9,wUb:k.config.Cyb,Sta:b.jL([]),qLa:b.pL([]),IF:k.config.IF});}function d(a,f){var b,m;m=u.$.get(S.w3)(0,f.movieId,void 0,{},f.xid,l.Ib(q.ah()),!1,void 0,function(){return null;});k.config.vi&&(D.info("secure stop is enabled"),b=a.aa?{success:a.aa,persisted:!0,ss_km:a.GDa,ss_sr:a.MO,ss_ka:a.ova}:{success:a.aa,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.Xc,ErrorExternalCode:a.dh,ErrorEdgeCode:a.$E,ErrorDetails:a.cause&&a.cause.lb},b.browserua=z.Fm,f=u.$.get(N.Kk),a=u.$.get(P.qp).bn("securestop",a.aa?"info":"error",b,m),f.Gc(a));}function g(){function a(a,f){var b;if(!f.oc||0===f.oc.length||!f.oc[0].Dx)return D.error("releaseDrmSession exception: missing valid keySessionData"),h(a,f);if(0<f.oc.length){D.info("Sending the deferred playdata and secure stop data");b=c();return b.create(k.config.Wd).then(function(){return b.yQb(f);}).then(function(b){D.info("Sent the deferred playdata and secure stop data");d(b,f);return h(a,f);})["catch"](function(b){b&&b.code===y.K.bYa&&h(a,f);b&&b.code===y.K.aYa&&h(a,f);D.error("Unable to send last stop",b);d(b,f);throw b;});}D.info("No key session so just send the playdata");return m(f).then(function(){D.trace("Successfully sent stop command for previous session");return h(a,f);})["catch"](function(a){D.error("Unable to send stop command for previous session",a);throw a;});}n(D).then(function(k){var m;m=k.zV.filter(function(a){return!1===a.active;}).map(function(f){return a(k,f);});Promise.all(m).then(function(){D.info("release drm session completed for "+m.length+" entries");b(f.pd);})["catch"](function(a){a=a||{};a.DrmCacheSize=m.length;D.error("Unable to release one or more DRM session data",a);b(f.pd);});})["catch"](function(a){D.error("Unable to load DRM session data",a);b(f.pd);});}D=u.Jg("PlayDataManager");b=b||f.Pe;k.config.ip?b(f.pd):g();}function h(a,f){return a?a.Wfa(f):Promise.resolve();}function n(a){var f;if(!c.Twa){f=u.$.get(g.t1);c.Twa=new Promise(function(b,k){f.IGa().then(function(){b(f);})["catch"](function(f){a.error("Unable to load DRM data for persistent secure stop",f);k(f);});});}return c.Twa;}Object.defineProperty(c,"__esModule",{value:!0});p=a(194);f=a(11);k=a(12);m=a(57);t=a(73);u=a(5);y=a(2);E=a(117);g=a(269);z=a(10);G=a(158);M=a(13);N=a(43);P=a(62);l=a(3);q=a(34);S=a(197);d=a(24);A=a(272);c.PWa=function(a){var p,y,E,g,D;function c(){y||(a.$c("pdsb"),y=u.$.get(G.sR)().then(function(f){g=f;a.$c("pdsc");return f;})["catch"](function(f){p.error("Unable to initialize the playdata services",f);a.$c("pdse");throw f;}));return y;}function d(){E=!0;g&&g.close();m.Le.removeListener(m.Yl,d);}p=u.fh(a,"PlayDataManager");E=!1;if(!t.zh.zv||!t.zh.yv){D=u.$.get(A.t3)();t.zh.zv=D.nb;t.zh.yv=D.request;}a.$c("pdctor");a.addEventListener(M.T.pf,function(){m.Le.removeListener(m.Yl,d);});a.addEventListener(M.T.$M,function(){var f;if(!k.config.ip&&a.Kf){f=a.fL.Fva();n(p).then(function(a){return a.Usa(f);})["catch"](function(){p.error("Unable to load/add cached DRM data");});}});a.addEventListener(M.T.pf,function(){var f;if(!E){a.gFb();f=[function(){return k.config.ip||!a.Kf?Promise.resolve():new Promise(function(f){var b;p.info("Sending the expedited playdata and secure stop data");b=a.fL.Fva();a.Kf.fRb(b).then(function(f){p.info("Sent the expedited playdata and secure stop data");k.config.vi&&a.Au.y_({success:f.aa,persisted:!1,ss_km:f.GDa,ss_sr:f.MO,ss_ka:f.ova});return n(p);}).then(function(a){return h(a,b);}).then(function(){f();})["catch"](function(b){p.error("Unable to send the expedited playdata and secure stop data",b);k.config.vi&&a.Au.y_({success:b.aa,state:b.state,ErrorCode:b.code,ErrorSubCode:b.Xc,ErrorExternalCode:b.dh,ErrorEdgeCode:b.$E,ErrorDetails:b.cause&&b.cause.lb});f();});});}(),function(){return c().then(function(f){return f.tJa(a.fa);}).then(function(){p.info("Sent the playdata");})["catch"](function(a){p.error("Unable to send the playdata",a);});}(),function(){return new Promise(function(a){u.$.get(N.Kk).flush(!1)["catch"](function(){p.error("Unable to send logblob");a();}).then(function(){a();});});}()];Promise.all(f).then(function(){a.dZ();})["catch"](function(){a.dZ();});}});m.Le.addListener(m.Yl,d);return{Wyb:function(m){a.$c("pdpb");k.config.D_||c().then(function(f){return f.send(a.u);}).then(function(){k.config.ip?(a.$c("pdpc"),m(f.pd)):b(a,function(){a.$c("pdpc");m(f.pd);});})["catch"](function(){a.$c("pdpe");m(f.pd);});}};};c.QWa=function(){new Promise(function(a){b({},function(f){a(f);});});};u.$.get(d.Cf).register(y.K.Dv,function(a){a(f.pd);});},function(d,c,a){var b,h,n,p,f,k,m,t,u,y,E;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);h=a(12);n=a(57);p=a(34);f=a(2);k=a(18);m=a(5);t=a(19);u=a(10);y=a(154);E=a(15);d=a(24);m.$.get(d.Cf).register(f.K.Lla,function(a){var D,N,P;function d(){var a;d=b.Pe;a=setInterval(g,h.config.Hob);n.Le.addListener(n.Yl,function(f){f&&f.isPopStateEvent?D.trace("popstate event, Lock timers can stay"):(t.Gd(N,function(a,f){localStorage.removeItem(f.Go);}),clearInterval(a));},b.RC);}function g(){var a;a=p.GU();t.Gd(N,function(f,b){f=localStorage.getItem(b.Go);(f=JSON.parse(f))?f.updated=a:f={updated:a,sessionId:P,count:1};localStorage.setItem(b.Go,JSON.stringify(f));});}k.Ra(y.storage);D=m.Jg("StorageLock");N={};P=Date.now()+"-"+Math.floor(1E6*Math.random());c.qH={Kz:function(a,k,m){var n,y,g,G,M,z,l,W,q,Y;function c(a){localStorage.setItem(g,JSON.stringify(a));a={Go:g};N[g]=a;D.trace("Lock acquired",{Name:a.Go});d();k({aa:!0,pY:a});}m=void 0===m?!1:m;n=this;if(localStorage){y=p.GU();g="lock-"+a;G={updated:y,sessionId:P,count:1};try{if(g in localStorage){M=localStorage.getItem(g);z=0;l=JSON.parse(M);E.zx(l.updated)&&(z=l.updated);W=u.AI(y-z)*b.Lk;q=P===l.sessionId;if(W<h.config.ICa)if(q)l.count+=1,D.debug("Incremented lock count for existing playbackSession",{id:P,count:l.count}),l.updated=y,c(l);else if(m){Y=h.config.ICa-W+b.Lk;D.error("Waiting until current expiration to confirm whether lock is still active",{id:P,count:l.count,Epoch:y,LockEpoch:z,waitTimeoutMs:Y});L.setTimeout(function(){return n.Kz(a,k,!1);},Y);}else k({aa:!1});else D.error("Lock was expired or invalid, ignoring",{Epoch:y,LockEpoch:z}),c(G);}else c(G);}catch(Aa){D.error("Error acquiring Lock",{errorSubCode:f.G.xh,errorDetails:t.We(Aa)});k({aa:!0});}}else u.FCa?D.error("Local storage access exception",{errorSubCode:f.G.pYa,errorDetails:t.We(u.FCa)}):D.error("No localstorage",{errorSubCode:f.G.qYa}),k({aa:!0});},release:function(a,f){var m,c;k.Ra(N[a.Go]==a);if(localStorage){try{m=localStorage.getItem(a.Go);c=JSON.parse(m);1<c.count?(--c.count,localStorage.setItem(a.Go,JSON.stringify(c)),D.trace("Lock count decremented",{Name:a.Go,count:c.count})):(localStorage.removeItem(a.Go),delete N[a.Go],D.trace("Lock released",{Name:a.Go}));}catch(X){D.error("Unable to release Lock",{Name:a.Go},X);}f&&f(b.pd);}}};h.config.JV?c.qH.Kz("session",function(f){c.qH.vIa=f;a(b.pd);}):a(b.pd);});},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.w3="PlaybackSegmentDataFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.u3="PlayPredictionDeserializerSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.iY=function(a,b,c){var h;if(c.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");h=c.get;c.get=function(){var d,f;d=h.apply(this,arguments);f={enumerable:c.enumerable,value:d};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,f):Object.defineProperty(this,b,f);return d;};};},function(d,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});c.vma=a;a.dPa="display";a.SNa="console";a.nMb="remote";a.ZNb="writer";},function(d,c,a){var h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});h=a(10);b.u8=function(a){var b;if(h.ne.queryCommandSupported&&h.ne.queryCommandSupported("copy")){b=h.ne.createElement("textarea");b.textContent=a;b.style.position="fixed";h.ne.body.appendChild(b);b.select();try{h.ne.execCommand("copy");}catch(f){console.warn("Copy to clipboard failed.",f);}finally{h.ne.body.removeChild(b);}}};c.y1=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Wna="PboPlaydataValidatorSymbol";c.Tna="PboPlaydataArrayValidatorSymbol";c.Una="PboPlaydataCollectionValidatorSymbol";},function(d,c,a){var f,k,m,t,u,y;function b(a,f,b,k){this.Ia=a;this.aX=f;this.ta=b;this.profile=k;}function h(){}function n(){}function p(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);f=a(1);k=a(38);m=a(3);t=a(17);u=a(25);a=a(94);p.prototype.encode=function(a){return{downloadableId:a.cd,duration:a.duration};};p.prototype.decode=function(a){return{cd:a.downloadableId,duration:a.duration};};n.prototype.encode=function(a){return{total:a.total,totalContentTime:a.cC,audio:a.audio.map(new p().encode),video:a.video.map(new p().encode),text:a.text.map(new p().encode)};};n.prototype.decode=function(a){var f;return{total:a.total,cC:null!==(f=a.totalContentTime)&&void 0!==f?f:a.total,audio:a.audio.map(new p().decode),video:a.video.map(new p().decode),text:a.text.map(new p().decode)};};h.prototype.encode=function(a){return{type:a.type,href:a.href,xid:a.ga,movieId:a.u,position:a.position,clientTime:a.$K,sessionStartTime:a.NO,mediaId:a.dG,playTimes:new n().encode(a.WN),trackId:a.bb,sessionId:a.sessionId,appId:a.vK,sessionParams:a.Dn,mdxControllerEsn:a.Hda,profileId:a.profileId};};h.prototype.decode=function(a){return{type:a.type,href:a.href,ga:a.xid,u:a.movieId,position:a.position,$K:a.clientTime,NO:a.sessionStartTime,dG:a.mediaId,WN:new n().decode(a.playTimes),bb:a.trackId,sessionId:a.sessionId,vK:a.appId,Dn:a.sessionParams,Hda:a.mdxControllerEsn,profileId:a.profileId};};c.p3=h;b.prototype.create=function(a){return{href:a.wa&&a.wa.Cj?a.wa.Cj.uaa("events").href:"",type:"online",ga:a.ga.toString(),u:a.u,position:a.N8||0,$K:this.Ia.G_.ca(m.ha),NO:a.JF?a.JF.ca(m.ha):-1,dG:this.Bhb(a),WN:this.ljb(a),bb:void 0!==a.Rh?a.Rh.toString():"",sessionId:this.aX().sessionId||this.ta.id,vK:this.aX().vK||this.ta.id,Dn:a.Xa.Dn||{},profileId:this.profile};};b.prototype.xbb=function(a,f){return Object.assign({},this.create(a),{Hda:f&&f.OU});};b.prototype.load=function(a){return new h().decode(a);};b.prototype.Bhb=function(a){var f,b,k;f=a.ad.value;b=a.zg.value;k=a.tc.value;return f&&b&&k?(a=a.wa.If.media.find(function(a){return a.Hn.AUDIO===f.bb&&a.Hn.VIDEO===b.bb&&a.Hn.P3===k.bb;}))?a.id:"":"";};b.prototype.Daa=function(a){return a.map(function(a){return{cd:a.downloadableId,duration:a.duration};});};b.prototype.ljb=function(a){return(a=a.lm)?(a=a.kjb(),{total:a.total,cC:a.totalContentTime,audio:this.Daa(a.audio),video:this.Daa(a.video),text:this.Daa(a.timedtext)}):{total:0,cC:0,video:[],audio:[],text:[]};};y=b;y=d.__decorate([f.N(),d.__param(0,f.l(k.dj)),d.__param(1,f.l(t.md)),d.__param(2,f.l(u.Bf)),d.__param(3,f.l(a.XI))],y);c.GWa=y;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.n3="PboLicenseResponseTransformerSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.nR="NetworkMonitorFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.rma="LogMessageRulerConfigSymbol";c.sma="LogMessageRulerSymbol";},function(d,c,a){var b,h,n,p,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);h=a(2);n=a(364);p=a(363);f=a(51);c.JLa=function(a,m){var k,c;try{k=n.wFb(a);}catch(y){b.log.error("xml2xmlDoc exception",y);}f.Pb(function(){if(k&&k.documentElement)try{c=p.xFb(k);}catch(y){b.log.error("xmlDoc2js exception",y);}f.Pb(function(){c?m({aa:!0,object:c}):m({aa:!1,da:h.G.cla});});});};},function(d,c,a){var b,h,n,p,f,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(18);h=a(20);n=a(11);p=a(129);f=a(10);k=a(15);m=a(19);c.atb=function(){var ia,T,ma,O,oa,ta,wa,R,Aa,ja,Fa,Ha;function a(a){if(h.OA(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return c.gtb[a];}}function d(a,b,k){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return f.rp(b,k);}function y(a,f){var b,k;b=a.length;k=a[b-1];if("t"===k)return parseFloat(a)*f|0;if("s"===k)return"m"===a[b-2]?parseFloat(a)|0:parseFloat(a)*n.Lk|0;if((a=a.match(Aa))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*n.Lk|0;throw Error("dfxp-badtime");}function E(a,f,b,k,m){var c,h,d,t,p,n,u,y;if(a){h=a.style;b=h?b[h]:void 0;k=(h=a.region)?k[h]:void 0;h=m.length;for(d=0;d<h;d++)if(t=m[d],p=a[t],void 0===p&&b&&(p=b[t]),void 0===p&&k&&(p=k[t]),void 0!==p&&p!==f[t]){if(!c)for(c={},n=0;n<h;n++)u=m[n],y=f[u],void 0!==y&&(c[u]=y);c[t]=p;}}return c||f;}function g(a,f,b,k,m,c,d,t,n){var y,g;function u(a,D,G){var M,z,P,l,W,q;M=a[p.Pj];z=M.style||D.style||"";P=M.region||D.region||"";z||P?(l=z+"/"+P,W=b[l]):W=f;if(!W){W=f;q=h.SO(k);h.xb(q,m[z]);W=N(W,q,d,t,n);b[z+"/"]=W;P&&(h.xb(q,c[P]),h.xb(q,m[z]),W=N(W,q,d,t,n),b[l]=W);}if(!G)a:{for(G=ta.length;G--;)if(void 0!==M[ta[G]]){G=!0;break a;}G=void 0;}G&&(M=E(M,D,m,c,wa),W=N(W,M,d,t,n));D=(a=a[p.X0])&&a.length;for(z=0;z<D;z++)P=a[z],h.uf(P)?ja.test(P[p.Y0])?g++:u(P,M,G):(y.push({text:P,lineBreaks:g,style:W}),g=0);}y=[];g=0;u(a,k,!1);0<g&&y.push({text:"",lineBreaks:g,style:f});return y;}function z(a,f,b,k,m,c,h,d){var t,p;b&&(b=T[b]||"top",a.verticalAlignment!==b&&(a.verticalAlignment=b));k&&(b=ma[k]||"left",a.horizontalAlignment!==b&&(a.horizontalAlignment=b));m?((p=d[m])?(k=p.marginLeft,b=p.marginTop):(t=m.split(" "),k=q(t[0],h.x)||0,b=q(t[1],h.y)||0,p={gn:0,marginLeft:k,marginTop:b,T5a:k*f.hba+f.vM,V5a:b*f.Oia+f.N0},30>d.gn&&(d.gn++,d[m]=p)),a.marginLeft=p.T5a,a.marginTop=p.V5a):(b=k=0,(p=d["default"])||(d["default"]=p={gn:0}));c&&(m=p[c],m||(t=c.split(" "),m={U5a:(1-(k+(q(t[0],h.x)||0)))*f.hba+f.vM,S5a:(1-(b+(q(t[1],h.y)||0)))*f.Oia+f.N0},30>p.gn&&(p.gn++,p[c]=m)),a.marginRight=m.U5a,a.marginBottom=m.S5a);}function G(a,f,b,k,m){var c,d,t;c=a.displayAlign;d=a.textAlign;t=a.origin;a=a.extent;b=h.SO(b);z(b,f,c,d,t,a,k,m);b.id=ia++;return b;}function M(f,b,k,m){var t,p,n,u,y,E;t=d(k.characterSize||b.characterSize,c.htb,2)||1;p=(p=f.fontSize)&&Fa.test(p)?h.Gs(h.fe(p),25,200):void 0;t*=p/100||1;p=f.textOutline;if(p&&"none"!=p){u=p.split(" ");Ha.test(u)?(E=0,y=f.color):(E=1,y=a(u[0]));n=l(u[E]);u=l(u[E+1]);}return{characterStyle:k.characterStyle||c.itb[f.fontFamily]||b.characterStyle,characterSize:t*m,characterColor:a(k.characterColor||f.color||b.characterColor),characterOpacity:d(h.c8(k.characterOpacity,f.opacity,b.characterOpacity),c.Lea,1),characterEdgeAttributes:k.characterEdgeAttributes||p&&("none"===p?c.etb:u?c.Kea:c.xFa)||b.characterEdgeAttributes,characterEdgeColor:a(k.characterEdgeColor||y||b.characterEdgeColor),characterEdgeWidth:n,characterEdgeBlur:u,characterItalic:"italic"===f.fontStyle,characterUnderline:"underline"===f.textDecoration,backgroundColor:a(k.backgroundColor||f.backgroundColor||b.backgroundColor),backgroundOpacity:d(h.c8(k.backgroundOpacity,f.opacity,b.backgroundOpacity),c.Lea,1)};}function N(a,b,k,c,h){var d;b=M(b,k,c,h);m.Gd(b,function(b,k){k!==a[b]&&(d||(d=f.MI(a)),d[b]=k);});return d||a;}function P(a,b,k,m,c,h,d,t){var n;n=a[p.Pj];k=E(a[p.Pj],b,k,c,R);b=k.region;a=n.displayAlign;k=k.textAlign;c=n.origin;n=n.extent;b||a||k||c||n?((m=m[b])?m=f.MI(m):a||c||n?(m=f.MI(oa),m.id=ia++):m=f.MI(O),z(m,h,a,k,c,n,d,t)):m=O;return m;}function l(a){a=h.fe(a);return k.zx(a,0,100)?a:0;}function q(a,f){var b;b=a[a.length-1];if("%"===b)return h.Gs(.01*parseFloat(a),0,1);if("c"===b)return h.Gs(h.fe(a)/f,0,1);}function S(a){for(var b=a.length,k=a[--b].endTime;b--;)k=f.rp(a[b].endTime,k);return k;}function A(f){m.Gd(f,function(b,k){0<=b.toLowerCase().indexOf("color")&&(f[b]=a(k));});}function X(a,k){var m,c,h,d;m=a.pixelAspectRatio;d={vM:0,hba:1,N0:0,Oia:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(m=(m||"").split(" "),c=parseFloat(a[0])*(parseFloat(m[0])||1),h=parseFloat(a[1])*(parseFloat(m[1])||1));c=0<c&&0<h?c/h:1280/720;k=k||1280/720;m=c/k;.01<f.AI(k-c)&&(k>=c?(d.vM=(1-m)/2,d.hba=m):b.Ra(!1,"not implemented"));return d;}function r(a){var f,b,k,m,d;if(f=a.cellResolution)if(f=f.split(" "),2<=f.length){b=h.fe(f[0]);f=h.fe(f[1]);if(0<b&&0<f)return{x:b,y:f};}f=a.extent;if(f&&(f=f.split(" "),2<=f.length)){b=h.fe(f[0]);d=h.fe(f[1]);if(a=a.pixelAspectRatio)f=a.split(" "),k=h.fe(f[0]),m=h.fe(f[1]);if(b&&d&&1.5<b*(k||1)/(d*(m||1)))return c.ctb;}return c.btb;}ia=1;T={before:"top",center:"center",after:"bottom"};ma={left:"left",start:"left",center:"center",right:"right",end:"right"};O={id:ia++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};oa={id:ia++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};ta="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");wa=ta.concat(["style","region"]);R=["region","textAlign","displayAlign","extent","origin"];Aa=/^([0-9]+):([0-9]+):([0-9.]+)$/;ja=/^br$/i;Fa=/^[0-9]{1,3}%$/;Ha=/^[0-9]/;return function(b,k,m,t,u){var l,W,q,Y,O,T,ma,U,ja,ta,Aa,Da,Fa,la,Ha,Qa,Oa,B,H,L,Q,V,Z,da,ea,sc,fa,ha,ga,tc;function D(){try{for(var a;Z;)if(ja=Z[p.Pj],da.push({id:ia++,startTime:y(ja.begin,q),endTime:y(ja.end,q),region:P(Z,sc,T,U,ma,Y,la,B),textNodes:g(Z,fa,ha,ea,T,ma,Qa,Oa,Ha)}),Z=Z[p.PH],a=f.wQ(),100<a-ga){ga=Date.now();tc=setTimeout(D,1);return;}}catch(lf){N({da:h.G.DQ,lb:h.We(lf)});return;}tc=setTimeout(z,1);}function z(){var f,b,k,m,c,d,t;function a(a,k){for(var m,c=[],d={},t,p=b.length;p--;)m=b[p],t=m.region.id,d[t]||(d[t]=1,c.unshift(m));(m=f[f.length-1])&&m.endTime==a&&h.Lw(m.blocks,c)?m.endTime=k:f.push({id:ia++,startTime:a,endTime:k,blocks:c});}try{if(!da.length){N({aa:!0,entries:[]});return;}h.w6a(da);f=[];b=[];k=da[0];c=da[0].startTime;for(d=1;b.length||k;){for(;!b.length||k&&k.startTime==c;)b.push(k),c=k.startTime,k=da[d++];m=S(b);if(!k||m<=k.startTime)for(a(c,m),c=m,t=b.length;t--;)b[t].endTime<=c&&b.splice(t,1);else a(c,k.startTime),c=k.startTime,b.push(k),k=da[d++];}for(d=f.length;d--;)f[d].index=d,f[d].previous=f[d-1],f[d].next=f[d+1];}catch(gc){N({da:h.G.DQ,lb:h.We(gc)});return;}N({aa:!0,entries:f});}function N(a){setTimeout(function(){l.abort=h.Pe;u(a);},1);}l={abort:function(){tc&&clearTimeout(tc);}};try{W=b[p.Pj];q=n.Lk/(h.fe(W.tickRate)||1);Y=X(W,k);O=h.xb(oa,{marginLeft:Y.vM,marginTop:Y.N0,marginRight:Y.vM,marginBottom:Y.N0});T={};ma={};U={};Da=b.head;Fa=b.body;la=r(W);Ha=1/la.y*Y.Oia;Qa=h.xb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:c.Kea,characterEdgeColor:"#000000",characterSize:1},m,{Ou:!0});Oa=t||{};B={gn:0};if(Da){H=Da.styling;if(H)for(Aa=H.style;Aa;)ja=Aa[p.Pj],A(ja),T[ja.id]=ja,Aa=Aa[p.PH];L=Da.layout;if(L)for(var Yb=L.region;Yb;){ja=Yb[p.Pj];Q=ja.id;ta=h.SO(T[ja.style]);ta=h.xb(ta,ja);for(Aa=Yb.style;Aa;)h.xb(ta,Aa[p.Pj]),Aa=Aa[p.PH];A(ta);ma[Q]=ta;U[Q]=G(ta,Y,O,la,B);Yb=Yb[p.PH];}}V=Fa.div;Z=V.p;da=[];ea={};ea=E(Fa[p.Pj],ea,T,ma,wa);ea=E(V[p.Pj],ea,T,ma,wa);sc={};sc=E(Fa[p.Pj],sc,T,ma,R);sc=E(V[p.Pj],sc,T,ma,R);fa=M(ea,Qa,Oa,Ha);h.xb(fa,{windowColor:a(Oa.windowColor||Qa.windowColor),windowOpacity:d(h.c8(Oa.windowOpacity,Qa.windowOpacity),c.Lea,1),cellResolution:la},{Ou:!0});ha={};V.p=void 0;V[p.X0]=[];}catch(kf){N({da:h.G.DQ,lb:h.We(kf)});return;}ga=f.wQ();tc=setTimeout(D,1);return l;};}();c.itb={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};c.htb={SMALL:.5,MEDIUM:1,LARGE:2};c.Lea={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};c.gtb={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};c.etb="NONE";c.ftb="RAISED";c.dtb="DEPRESED";c.xFa="UNIFORM";c.Kea="DROP_SHADOW";c.btb={x:40,y:19};c.ctb={x:52,y:19};},function(d,c,a){var p;function b(){}function h(a,b){this.mo=a;void 0!==b?(p(b<=a.Yo,"require remain_sec <= chunk.sec but has "+b+" and "+a.Yo),this.Zi=b):this.Zi=a.Yo;}function n(a){void 0===a&&(a=[]);this.Lh=[];this.ig=this.Oj=0;for(var f in a)this.add(a[f],void 0);}p=a(7).assert;b.prototype=Error();h.prototype.constructor=h;h.prototype.oo=function(){return new h(this.mo,this.Zi);};n.prototype.constructor=n;n.prototype.add=function(a,b){a=new h(a,b);this.Lh.push(a);this.ig+=a.Zi;this.Oj+=a.mo.mu()*a.Zi;};n.prototype.oo=function(){var a,b;a=new n(void 0);for(b in this.Lh)a.add(this.Lh[b].mo,this.Lh[b].Zi);return a;};n.prototype.Vp=function(){try{return this.Lh[0];}catch(f){}};n.prototype.MFa=function(a){var f;for(p(0<=a,"unexpected play_for_x_sec: x="+a);0<a;){if(void 0===this.Vp())throw new b();if(a<this.Vp().Zi){f=this.Vp().mo.mu()*a;this.Vp().Zi-=a;this.ig-=a;this.Oj-=f;a=0;}else f=this.Lh.shift(),this.ig-=f.Zi,this.Oj-=f.mo.mu()*f.Zi,a-=f.Zi;}};n.prototype.jub=function(a){var m;p(0<=a,"unexpected play_y_kb: y="+a);for(var f=0;0<a;){if(void 0===this.Vp())throw new b();if(a<this.Vp().Zi*this.Vp().mo.mu()){m=a/this.Vp().mo.mu();this.Vp().Zi-=m;this.ig-=m;this.Oj-=a;f+=m;a=0;}else m=this.Lh.shift(),this.ig-=m.Zi,this.Oj-=m.mo.mu()*m.Zi,f+=m.Zi,a-=m.mo.mu()*m.Zi;}return f;};d.P={Fja:n,wNa:b};},function(d){d.P={uAa:function(c){var a;if(c&&0!==c.length){a=[];c.forEach(function(b){var c;void 0===b.error.code&&(b.error.code=0);void 0===b.error.description&&(b.error.description="Unknown");a.forEach(function(a){b.error&&b.error.code==a.error.code&&b.error.description===a.error.description&&(c=a);});c?c.yO.push(b.Cn):a.push({error:b.error,yO:[b.Cn]});});return a;}},Lya:function(c){var a;a={freeSize:c.yj,dailyBytesRemaining:c.OE,bytesWritten:c.Ki,time:c.time,duration:c.duration};c.items&&(a.items=c.items.map(function(a){return{key:a.key,operation:a.wf,itemBytes:a.WX,error:a.error};}));return a;},Rr:function(c){return c["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(d){d.P={yma:{code:-1,description:"MediaCache is not supported."},pMb:{code:100,description:"Resource was not found"},JTa:{code:101,description:"Resource Metadata was not found"},WC:{code:102,description:"Read failed",In:function(c,a){return{code:this.code,description:c,cause:a};}},VR:{code:200,description:"Daily write limit exceeded"},uC:{code:201,description:"Capacity has been exceeded"},UR:{code:202,description:"Write failed, cause unknown",In:function(c,a){return{code:this.code,description:c,cause:a};}},$Nb:{code:203,description:"Write failed, cause unknown"},ZOa:{code:300,description:"Failed to delete resource",In:function(c,a){return{code:this.code,description:c,cause:a};}},Ev:{code:900,description:"Invalid partition name"},DSa:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},fka:{code:701,description:"Failed to initialize underlying disk cache."},ITa:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(765);(function(a){a[a.Iha=0]="startPlayback";a[a.M9=1]="endPlayback";}(c.VI||(c.VI={})));d=function(){function a(a){this.config=a;this.pHa=[];}a.prototype.bta=function(a){var f,b;(b=null===(f=this.config.k9.filter(function(f){return f.KU===a.KU;})[0])||void 0===f?void 0:f.enabled,null!==b&&void 0!==b?b:a.enabled)&&this.pHa.push(a);};a.prototype.qW=function(a){var d,p;for(var f={},k=[],m=0,c=this.pHa;m<c.length;m++){d=c[m];try{p=d.qW({bq:a});p&&(d.jEa?f[d.jEa]=p:f=b.__assign(b.__assign({},f),p));}catch(E){k.push(E);}}k.length&&(f["rpt-error"]=new h.qMa("Reporting error",k));return f;};return a;}();c.QXa=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(115).wxa;c.Xeb=function(a,b,c){var f,k,m;f=0;if(c){a.some(function(a){var c;c=a.b;a=a.m;if(b<=c)return f=m&&c!==k?m+(a-m)/(c-k)*(b-k):a,!0;k=c;f=m=a;return!1;});}else a.some(function(a){f=a.m;return b<=a.b;});return f;};c.uB=function(a,c,d){var f;c=(null===(f=c.Fa)||void 0===f?void 0:f.Ca)||0;return a.C7a?(a=b(a.B7a,d.Ql-d.vd,1),c*(1-a)):c*a.m0/100;};c.Dta=function(a,b){return a<2*b?a/2:a-b;};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(776);h=a(775);c["default"]=function(a,c){switch(a.tda){case"manifold":return new b.mUa(a,c);default:return new h.JYa(a,c);}};},function(d,c,a){var b;c=a(793);b=a(381);a=a(791);d.P={STARTING:a.Qyb,BUFFERING:c.Nga,REBUFFERING:c.Nga,PLAYING:b.A_,PAUSED:b.A_};},function(d,c,a){var b,h,n,p,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(75);n=a(7);d=a(44);p=a(392);f=a(76);a=function(a){function k(b,k,c,m,h){c=a.call(this,b,k,c,m,h)||this;f.yi.call(c,b,k);c.Zb=0;c.Sa||c.Jj();c.Ji=!1;return c;}b.__extends(k,a);Object.defineProperties(k.prototype,{ac:{get:function(){return!1;},enumerable:!0,configurable:!0}});k.prototype.push=function(f){this.Zb+=f.ba;a.prototype.push.call(this,f);};k.prototype.IA=function(){return!this.Ji&&!!this.va.length&&this.va.every(function(a){return a.IA();});};k.prototype.nE=function(a,f){n.assert(!this.Ji);this.Ji=this.va.every(function(b){return b.IA()?b.nE(a,f,void 0,void 0):!1;});return{aa:this.Ji};};k.prototype.Swb=function(){this.va.forEach(function(a){a.rO();});};k.prototype.Aj=function(){return this.va?this.va[0].Aj()+"-"+this.va[this.va.length-1].Aj():"empty";};k.prototype.toString=function(){return f.yi.prototype.toString.call(this)+"(aggregate)";};k.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);h(f.yi.prototype.toJSON.call(this),b);return b;};return k;}(p.mja);c.oC=a;d.cj(f.yi,a);},function(d,c,a){var b,h,n,p,f,k,m,t,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(7);d=a(44);h=a(216);n=a(76);p=a(170);f=a(14);k=a(75);m=a(4).Vj;t=a(805);a=a(804);u=function(a){var T1z;T1z=2;function k(f,b,k,c,h,d,t){var h1z,p,Z1z,v1z,S1z;h1z=2;while(h1z!==6){Z1z="e";Z1z+="d";Z1z+="it";v1z="c";v1z+="a";v1z+="c";v1z+="h";v1z+="e";S1z="1";S1z+="SIYb";S1z+="ZrNJCp";S1z+="9";switch(h1z){case 2:p=this;S1z;p=[v1z,Z1z].filter(function(a,f){var B1z;B1z=2;while(B1z!==1){switch(B1z){case 4:return[h,k.Sa][f];break;B1z=1;break;case 2:return[h,k.Sa][f];break;}}});p=p.length?"("+p.join(",")+")":"";h1z=3;break;case 3:void 0===k.responseType&&(k.responseType=k.Sa||m.wc&&!m.wc.VG.cz?0:1);p=a.call(this,f,b,p,k,c,d,t)||this;n.yi.call(p,f,k);return p;break;}}}while(T1z!==3){switch(T1z){case 2:b.__extends(k,a);k.create=function(a,b,c,d,n,u,y){var e1z,E,g,D,s1z;e1z=2;while(e1z!==19){s1z="subr";s1z+="equ";s1z+="e";s1z+="st";switch(e1z){case 2:e1z=!b.yg&&d.Sa&&a.M===f.Na.VIDEO&&m.wc&&m.wc.VG.cz?1:5;break;case 1:return new t.BMa(a,c,d,n,u,b,y);break;case 4:E=Math.ceil(d.ba/d.XA);u=d.offset;g=d.ba;n=new h.oC(a,d,n,b,y);e1z=7;break;case 5:e1z=d.XA&&d.ba>d.XA?4:20;break;case 7:E=Math.ceil(d.ba/E);e1z=6;break;case 6:e1z=0<g?14:10;break;case 14:D={offset:u,ba:Math.min(g,E),responseType:d.responseType};u+=D.ba;g-=D.ba;e1z=11;break;case 20:return new k(a,c,d,n,u,b,y);break;case 11:n.push(new p.pC(a,c,s1z,D,n,b,y));e1z=6;break;case 10:return n;break;}}};k.prototype.toString=function(){var z1z;z1z=2;while(z1z!==1){switch(z1z){case 2:return p.pC.prototype.toString.call(this)+":"+n.yi.prototype.toString.call(this);break;}}};T1z=4;break;case 4:return k;break;}}}(p.pC);c.e1=u;k(a["default"],u.prototype);d.cj(n.yi,u,!1);},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.zy||(c.zy={});d[d.CLOSED=0]="CLOSED";d[d.OPEN=1]="OPEN";d[d.tHb=2]="COMPLETED";d[d.yh=3]="PAUSED";d[d.Fy=4]="CANCELLED";},function(d,c,a){var h,n,p,f,k,m,t;function b(a){return a.Ac(m.sa.ji(Math.floor(a.Ka)));}Object.defineProperty(c,"__esModule",{value:!0});h=a(0);d=a(27);n=a(6);p=a(14);f=a(4);k=a(809);m=a(33);t=a(7);c.aEa=b;a=function(a){function c(f,b,k,c,m,h,d){var t,p;p=a.call(this)||this;p.I=f;p.Ie=b;p.Se=k;p.vc=c;p.J=m;p.W=h;p.Lf=d;p.Md=p.I.error.bind(p.I);p.$a=p.I.warn.bind(p.I);p.pj=p.I.trace.bind(p.I);null===(t=c.events)||void 0===t?void 0:t.addListener("ready",function(){p.Uv();});p.reset();return p;}h.__extends(c,a);Object.defineProperties(c.prototype,{endOfStream:{get:function(){return this.AS;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{rU:{get:function(){return this.vc?this.vc.rU:-1;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{BLa:{get:function(){return this.ao.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{nCa:{get:function(){return this.fw;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{DJa:{get:function(){return!!this.vc.Jeb;},enumerable:!0,configurable:!0}});c.prototype.reset=function(a){var f,b;this.ct=!1;a||(this.ao=[]);this.SS=this.fw=this.R4=this.GD=void 0;this.QD=m.sa.xe;this.tz=void 0;this.ZHa=new k.yYa(this.J,this.I);this.AS=!1;this.Y5(m.sa.xe);null===(b=(f=this.vc).reset)||void 0===b?void 0:b.call(f);};c.prototype.ggb=function(){this.R4=!0;};c.prototype.pause=function(){this.ct=!0;};c.prototype.resume=function(){this.ct=!1;this.Uv();};c.prototype.nza=function(){return this.fw&&this.fw.ge;};c.prototype.U6a=function(a){var f;if(this.J.fxa){f=a.Ja.bd;if(a.Wb>=f.ia)return;a.om!==f.Nc&&a.FIa(new m.sa(f.Nc,1E3));}this.ao.push(a);this.Uv();};c.prototype.Aq=function(){this.Uv();};c.prototype.g_=function(a){a=this.ao.indexOf(a);-1!==a&&this.ao.splice(a,1);};c.prototype.Erb=function(a,f){this.J.R6&&f&&n.U(this.fw)&&this.cqa(a,0);this.Uv();};c.prototype.eZ=function(){this.AS||(this.AS=!0,this.Uv(),this.DJa||this.vc.endOfStream());};c.prototype.F_=function(){return JSON.stringify(this.ao);};c.prototype.Y5=function(a){this.Asa=a;this.vc.Xzb(a.Gb,a.X);};c.prototype.Uv=function(){var a,b,k,c,m,h,d,t;b=this.J;if(this.ao.length)if(this.vc&&!1!==this.vc.ready){k=this.ao[0];if(this.ct)this.RD("@"+f.time.ea()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(k));else if(!k.complete&&k.Wq)this.$a("aborted MediaRequest should not appear in the toAppend list"),this.RD("@"+f.time.ea()+", append: removing aborted request from toAppend: "+k.toString()),this.ao.shift();else{c=k.stream;m=c.O;if(c.mi)if(this.pAb(c,k.index))this.R4=!1,this.cqa(c,k.index);else if(c=this.W.Ar(m.u)||m.hi||this.Llb(c),!b.RP||c)if(c=k.pc-this.W.Vd(),!(this.Ie===p.Na.AUDIO&&k.xu&&k.Sa&&!b.Wr&&!this.AS&&1===this.ao.length&&c>b.UDa)||null!==(a=k.$G)&&void 0!==a&&a.oca){if(b.fxa||b.oeb){a=k.Ja.bd;h=this.$cb();if(h){d=a.Ni;t=k.sd>=h;c=c>b.UDa;if(h<a.ia&&t&&c&&!d)return;}}b.ytb&&this.Lf&&(b=this.Lf(m.Wa))&&!b.wK?this.pause():(this.ao.shift(),this.s_a(k));}}}else this.RD("@"+f.time.ea()+", append: not appending, sourceBuffer not ready");};c.prototype.pAb=function(a,f){var b;if(this.R4||void 0===this.GD||a.qa!==this.GD.qa)return!0;a=a.mi;t.assert(a);b=this.GD.HBa;return b===a.length-1?!1:f>=a[b+1].vA;};c.prototype.Llb=function(a){if(void 0===this.GD)return!1;a=a.mi;t.assert(a);return!1===a[this.GD.HBa].wj;};c.prototype.$cb=function(){throw Error("not supported");};c.prototype.o_a=function(a){var f,b;if(a.si){b=null===(f=this.Se.wc)||void 0===f?void 0:f.FQb;this.J.rEb&&void 0!==b&&0<=b?(f=new m.sa(b,48E3),this.QD=a.si.add(f)):this.J.Oz&&(this.QD=a.si);}};c.prototype.cqa=function(a,b){var k;k=a.mi.reduce(function(a,f,k){return f.vA<=b?k:a;},0);if(this.vc.appendBuffer(a.mi[k].data,{ac:!0,profile:a.profile}))this.RD("@"+f.time.ea()+", header appended, streamId: "+a.qa),this.GD={qa:a.qa,HBa:k},this.A3a(a.O.Wa||0,a.qa,k),this.o_a(a),this.Uv();else throw this.$a("appendHeader error: "+this.vc.error),this.RD("@"+f.time.ea()+", appendHeader error: "+this.vc.error),Error("appendHeaderError");};c.prototype.s_a=function(a){var b,k,c,h,d,t,n,u;d=a.Hvb||m.sa.xe;t=a.Ja.bd.ja;t.ia&&Infinity!==t.ia&&(t=new m.sa(t.ia,1E3).add(d).rh,Infinity===this.Se.duration||this.Se.duration<t)&&(this.Se.duration=t);if(void 0===this.SS||d&&!d.equal(this.SS))t=this.QD.add(this.ZHa.Ns).add(d),this.Y5(t),this.SS=d;d=this.ZHa.zga(this.Ie,a,this.tz,this.QD,this.SS,this.fw,this.ao[0],this.A1a,this.Y5.bind(this),this.C3a.bind(this));t=d.zga;n=d.Odb;d=d.e7a;if(void 0===this.fw&&!this.J.Qda&&a.stream.si&&this.J.fo){u=null===(b=a.Ow)||void 0===b?void 0:b.Ac(a.stream.si).add(this.Asa);u.lessThan(m.sa.xe)&&a.z9(Math.ceil(u.TY(-1).au(a.stream.Ta)));}t=a.nE(this.vc,this.Se.wc,this.fw,this.ao[0],t,n);b=t.aa;(t=t.vn)&&this.emit(t.type,t);if(b)void 0===this.tz||this.Ie!==p.Na.AUDIO||a.jq.equal(this.tz.add(d))||(this.v3a(a,this.tz.add(d)),this.tz=void 0),this.RD("@"+f.time.ea()+", request appended, type: "+a.M+", streamId: "+a.qa+", pts: "+a.pc+"-"+a.ge),this.fw=a,a.xu?(this.tz=a.afa,this.A1a=this.M_a(a,this.Asa||m.sa.xe),null===(c=(k=this.vc).Jeb)||void 0===c?void 0:c.call(k,a.$G),this.J.GP&&(null===(h=a.$G)||void 0===h?0:h.oca)&&this.eZ()):this.tz=void 0,this.B3a(a),this.Uv();else{if(void 0!==this.vc.error){if("done"===this.vc.error)return;this.Md("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.vc.error);throw this.vc.error;}a=Error("failure to append queued mediaRequest: "+(a&&JSON.stringify(a))+" err: "+this.vc.error);this.Md(a.message);throw a;}};c.prototype.M_a=function(a,f){var k,c;k=a.stream.Ta;c=a.eL;this.J.fo&&a.stream.si&&(c=c.Ac(a.stream.si));return b(c.Ac(k)).add(b(k)).add(b(f));};c.prototype.A3a=function(a,f,b){a={type:"headerAppended",mediaType:this.Ie,manifestIndex:a,streamId:f,isIndex:b};this.emit(a.type,a);};c.prototype.B3a=function(a){a={type:"requestAppended",mediaType:this.Ie,request:a};this.emit(a.type,a);};c.prototype.RD=function(a){a={type:"managerdebugevent",message:a};this.emit(a.type,a);};c.prototype.v3a=function(a,f){var b;b=a.Wb;a=a.jq.Ac(f).Ka;b={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[b,a]}}};this.emit(b.type,b);};c.prototype.C3a=function(a,f){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.Ka,minavsyncerror:f.Ka}};this.emit(a.type,a);};return c;}(d.EventEmitter);c.Eja=a;},function(d,c,a){var b,h,n,p,f,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=a(27);h=a(166);n=a(84);p=a(4);f=a(16);a=a(44);k=p.Promise;m=function(){function a(a,b){this.console=a;this.Sf=b;this.$1a=this.uJ=0;this.Ef=[];this.console=f.Hx(p,this.console,"QueueIterator:");}Object.defineProperties(a.prototype,{Ocb:{get:function(){return this.uJ;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X9a:{get:function(){var a;for(a=0;a<this.Ef.length&&this.Ef[a].PM;a++);return a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{count:{get:function(){return this.Sf;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{rn:{get:function(){return 0===this.Sf;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{fga:{get:function(){var a;for(a=0;a<this.Ef.length&&this.Ef[a].mca;a++);return a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{head:{get:function(){var a;a=this.Ef[0];return(a=a&&a.item)&&!a.done&&a.value;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{jea:{get:function(){var a;for(a=0;a<this.Ef.length&&this.Ef[a].PM;a++);return a;},enumerable:!0,configurable:!0}});a.prototype.KV=function(){var a;if(void 0===this.Sf){a=this.console;n.yb&&a&&a.trace("QueueIterator: enqueueEnd");this.Gia(this.jea-(this.Sf||0));}};a.prototype.gs=function(){return this.Ef.map(function(a){return a.item;});};a.prototype.oia=function(){return this.Ef.filter(function(a){return(null===a||void 0===a?void 0:a.item)&&!a.item.done;}).map(function(a){return a.item.value;});};a.prototype.Gia=function(a){var f;n.yb&&this.console.trace("updateCount",{eUb:this.Sf,SE:a});if(void 0!==this.Sf){f=this.Ef[this.Sf];f&&this.aca(f);}this.Sf=void 0===this.Sf?a:void 0===a?a:this.Sf+a;void 0!==this.Sf&&(this.Sf=Math.max(0,this.Sf),(f=this.Ef[this.Sf])&&f.PF.resolve({done:!0}));};a.prototype.enqueue=function(a){n.yb&&this.console.trace("Enqueue called");return this.Dvb(this.jea,{value:a,done:!1}).uwa.Qr;};a.prototype.m_=function(){n.yb&&this.console.trace("resetEnd");this.Gia(void 0);};a.prototype.clear=function(a){var f,b,k;n.yb&&this.console.trace("clear");this.tGa();f=this.fga;b=this.Ef.length-f;if(0<b){k={index:f,zea:b};n.yb&&this.console.trace("Removing items",k);this.Ef.splice(f,b);this.emit("onRemoved",k);}for(b=1;b<f;b++)this.aca(this.Ef[b]);this.Sf=void 0;this.Gia(a?a+f:a);this.uJ&&(this.uJ=0);};a.prototype.kza=function(){var a,b;a=this;b=f.Hx(p,this.console,"QueueIteratorInstance::");return new t(this,function(f){return a.Hza(f);},b);};a.prototype.h9=function(){var a;if(0<this.fga){a=this.Ef[0];if(a.PM)return n.yb&&this.console.trace("dequeue",a.id),this.tGa(1),this.emit("onDequeue",a.PF.Qr);}};a.prototype.remove=function(a){var f,b,k;for(f=0;f<this.Ef.length;f++){b=this.Ef[f];k=b.item;if(k&&!k.done&&k.value===a){this.Ef.splice(f,1);n.yb&&this.console.trace("removed",{id:b.id});this.emit("onRemoved",{index:f,zea:1});break;}}};a.prototype.tGa=function(a){var f;a=a||Math.min(this.fga,this.jea);if(0<a){f=this.Ef.splice(0,a);this.Sf&&(this.Sf-=a);n.yb&&this.console.trace("pruned",a);setTimeout(function(){f.forEach(function(a){a.uwa.resolve();});},0);this.emit("onRemoved",{index:0,zea:a});this.uJ+=a;}};a.prototype.Hza=function(a){var f;n.yb&&this.console.trace("getNextItemCalled",{offset:a});if(void 0===this.count||0<this.count){this.lBa(a);f=this.Ef[a];f.Cxb.resolve();a=f.PF.Qr;n.yb&&this.console.trace("getNextItem:return",{id:f.id});}else n.yb&&this.console.trace("getNextItem:returnDone"),a=k.resolve({done:!0});return a;};a.prototype.Dvb=function(a,f){var b;b=!f.done&&f.value;b=b&&b.toJSON?b.toJSON():b;n.yb&&this.console.trace("Providing result",{u6a:a,item:b});this.lBa(a);a=this.Ef[a];b=a.PF.resolve;b(f);return a;};a.prototype.lBa=function(a){var f;if(void 0===this.Ef[a]){f={};this.aca(f);this.Ef[a]=f;a===this.Sf&&f.PF.resolve({done:!0});n.yb&&this.console.trace("Item initialized",{u6a:a});}};a.prototype.E8=function(a){var f;f={};f.Qr=new k(function(b,k){f.resolve=function(f){b(f);a&&a(f);};f.reject=k;});return f;};a.prototype.aca=function(a){var f;f=this;a.PF=this.E8(function(b){a.item=b;a.PM=!0;n.yb&&f.console.trace("Item resolved",{id:a.id});});a.id&&a.mca&&!a.PM&&(a.PF.resolve({done:!0}),n.yb&&this.console.warn("Overwriting requested queue item",a.id));a.uwa=this.E8();a.Cxb=this.E8(function(){a.mca=!0;n.yb&&f.console.trace("Item requested",{id:a.id});});a.id=this.$1a++;a.mca=!1;a.PM=!1;a.item=void 0;};a.prototype.Ugb=function(){var a,f;a=this;f=new h.rC(function(){var b,k;if(0===a.count)return h.rC.Xaa();b=a.Hza(0);k=a.Ef[0];b.then(function(){f.KF||k===a.Ef[0]&&a.h9();});return b;});return f;};return a;}();c.i1=m;a.cj(d.EventEmitter,m);t=function(a){function f(f,b,k){var c;c=a.call(this,function(){n.yb&&c.console.trace("Next item requested",{index:c.index});return c.Zxb(c.index++);})||this;c.parent=f;c.Zxb=b;c.console=k;c.DD=!1;c.index=0;c.GJ=!1;c.cFa=function(a){var f;f=a.index;a=a.zea;c.index>=f&&(c.index=Math.max(f,c.index-a));f=c.console;n.yb&&f&&f.trace("QueueIteratorInstance: onRemoved modified",c.index);};return c;}b.__extends(f,a);f.prototype.rg=function(){this.console.trace("disposed");this.DD=!0;this.xc();a.prototype.rg.call(this);};f.prototype.next=function(){this.KF||this.FX();return a.prototype.next.call(this);};f.prototype.cancel=function(){this.xc();return a.prototype.cancel.call(this);};f.prototype.xc=function(){this.parent.QEa("onRemoved",this.cFa);this.GJ=!1;};f.prototype.FX=function(){this.GJ||(this.GJ=!0,this.parent.on("onRemoved",this.cFa));};return f;}(h.rC);c.kMb=t;},function(d,c,a){var f,k,m,t,u,y;function b(a){var f;f=a.N4;this.J=a;this.Xh=k.Fe.HAVE_NOTHING;this.vD=a.vD;a=new u(this.vD);this.hK=a.create("throughput-location-history",f);this.jt=a.create("respconn-location-history",f);this.Xs=a.create("respconn-location-history",f);this.IT=a.create("throughput-tdigest-history",f);this.MS=a.create("throughput-iqr-history",f);this.Qa=null;}function h(a,f,k,c,h){this.Ws=new b(h);this.$n=[];this.Q1a=m.time.ea()-Date.now()%864E5;this.Us=null;this.J=h;for(a=0;a<c;++a)this.$n.push(new b(h));}function n(a,b,k){return f.has(a,b)?a[b]:a[b]=k;}function p(a,f){var c;this.J=a;this.cE=f;this.txa();this.BJ=new b(this.J);this.MJ();c=a.T8;c&&(c={Ed:k.Fe.iI,Fa:{Ca:parseInt(c,10),vh:0},ph:{Ca:0,vh:0},Zp:{Ca:0,vh:0}},this.get=function(){return c;});}f=a(6);k=a(14);c=a(16);m=a(4);t=c.iRa;u=a(399).fla;new m.Console("ASEJS_LOCATION_HISTORY","media|asejs");y={Ed:k.Fe.HAVE_NOTHING};b.prototype.Mz=function(a,f){this.Xh=f;this.hK.add(a);this.IT.add(a);this.Qa=m.time.ea();};b.prototype.iC=function(a,f){this.MS.set(a,f);};b.prototype.yt=function(a){this.jt.add(a);};b.prototype.xt=function(a){this.Xs.add(a);};b.prototype.Vc=function(){var a,b,k,c,h,d;a=this.hK.Vc();b=this.jt.Vc();k=this.Xs.Vc();c=this.MS.Vc();h=this.IT.Vc();if(f.Oa(a)&&f.Oa(b)&&f.Oa(k))return null;d={c:this.Xh,t:m.time.Zda(this.Qa)};f.Oa(a)||(d.tp=a);f.Oa(b)||(d.rt=b);f.Oa(k)||(d.hrt=k);f.Oa(c)||(d.iqr=c);f.Oa(h)||(d.td=h);return d;};b.prototype.Xd=function(a){var b;b=m.time.now();if(!(a&&f.has(a,"c")&&f.has(a,"t")&&f.has(a,"tp")&&f.isFinite(a.c)&&f.isFinite(a.t))||0>a.c||a.c>k.Fe.iI||a.t>b||!this.hK.Xd(a.tp))return this.Xh=k.Fe.HAVE_NOTHING,this.Us=this.Qa=null,this.hK.Xd(null),this.jt.Xd(null),this.Xs.Xd(null),!1;this.Xh=a.c;this.Qa=m.time.wea(a.t);this.jt.Xd(f.has(a,"rt")?a.rt:null);this.Xs.Xd(f.has(a,"hrt")?a.hrt:null);f.has(a,"iqr")&&this.MS.Xd(a.iqr);f.has(a,"td")&&this.IT.Xd(a.td);return!0;};b.prototype.get=function(){var a,b,c,h,d,p;a=this.J;if(f.Oa(this.Qa))return y;b=(m.time.ea()-this.Qa)/1E3;b>a.l1a?this.Xh=k.Fe.HAVE_NOTHING:b>a.N0a&&(this.Xh=Math.min(this.Xh,k.Fe.Ly));a=this.hK.get();c=this.jt.get();h=this.Xs.get();d=this.MS.get();p=this.IT.get();b={Kl:b,Ed:this.Xh,Fa:a,ph:c,Zp:h,$p:d,wi:p};a&&(b.OVb=t.prototype.hfa.bind(a));c&&(b.YUb=t.prototype.hfa.bind(c));h&&(b.nSb=t.prototype.hfa.bind(h));return b;};b.prototype.time=function(){return this.Qa;};b.prototype.uD=function(){this.get();m.time.ea();};h.prototype.lj=function(){return((m.time.ea()-this.Q1a)/1E3/3600/(24/this.$n.length)|0)%this.$n.length;};h.prototype.Vc=function(){var a;a={g:this.Ws.Vc(),h:this.$n.map(function(a){return a.Vc();})};f.Oa(this.Us)||(a.f=m.time.Zda(this.Us));return a;};h.prototype.Xd=function(a){var b,k;if(!this.Ws.Xd(a.g))return!1;b=this.$n.length;k=!1;this.$n.forEach(function(f,c){k=!f.Xd(a.h[c*a.h.length/b|0])||k;});this.Us=f.has(a,"f")?m.time.wea(a.f):null;return k;};h.prototype.Mz=function(a,f){this.Ws.Mz(a,f);this.$n[this.lj()].Mz(a,f);this.Us=null;};h.prototype.iC=function(a,f){this.Ws.iC(a,f);this.$n[this.lj()].iC(a,f);};h.prototype.yt=function(a){this.Ws.yt(a);this.$n[this.lj()].yt(a);};h.prototype.xt=function(a){this.Ws.xt(a);this.$n[this.lj()].xt(a);};h.prototype.fail=function(a){this.Us=a;};h.prototype.get=function(){var a,b;if(!f.Oa(this.Us)){if((m.time.ea()-this.Us)/1E3<this.J.M0a)return{Ed:k.Fe.HAVE_NOTHING,ex:!0};this.Us=null;}a=this.$n[this.lj()].get();b=this.Ws.get();a=a.Ed>=b.Ed?a:b;a.ex=!1;return a;};h.prototype.time=function(){return this.Ws.time();};h.prototype.uD=function(a){this.Ws.uD(a+": global");this.$n.forEach(function(b,k,c){f.Oa(b.time())||(k=24*k/c.length,b.uD(a+":  "+((10>k?"0":"")+k+"00")+"h"));});};p.prototype.Wqa=function(a,f){var b;b=this.J;a=n(this.cw,a,{});return n(a,f,new h(0,0,0,b.Rra||4,b));};p.prototype.MJ=function(){var a,f;a=m.storage.get("lh");f=m.storage.get("gh");a&&this.W5(a);f&&this.S3a(f);};p.prototype.S4=function(){var a;a={};f.Sd(this.cw,function(b,k){f.Sd(b,function(f,b){n(a,k,{})[b]=f.Vc();},this);},this);return a;};p.prototype.S3a=function(a){this.BJ.Xd(a);};p.prototype.W5=function(a){var b,k;b=null;k=this.J;f.Sd(a,function(a,c){f.Sd(a,function(a,m){var d;d=new h(0,0,0,k.Rra||4,k);d.Xd(a)?(n(this.cw,c,{})[m]=d,b=!0):f.Oa(b)&&(b=!1);},this);},this);return f.Oa(b)?!0:b;};p.prototype.save=function(){var a;a=this.S4();m.storage.set("lh",a);m.storage.set("gh",this.BJ.Vc());this.cE&&this.cE.bha(this.BJ.Vc());};p.prototype.txa=function(a){a?(f.has(this.cw,a)&&delete this.cw[a],this.uS==a&&(this.nz=this.uS="",this.Tk=null)):(this.cw={},this.nz=this.uS="",this.Tk=null);};p.prototype.L_=function(a){this.uS=a;this.Tk=null;};p.prototype.I_=function(a){this.nz=a;this.Tk=null;};p.prototype.HS=function(){f.Oa(this.Tk)&&(this.Tk=this.Wqa(this.uS,this.nz));return this.Tk;};p.prototype.Mz=function(a,f){this.HS().Mz(a,f);this.BJ.Mz(a,f);};p.prototype.iC=function(a,f){a&&a.wk&&a.Wi&&a.xk&&(this.HS().iC(a,f),this.BJ.iC(a,f));};p.prototype.yt=function(a){this.HS().yt(a);};p.prototype.xt=function(a){this.HS().xt(a);};p.prototype.fail=function(a,f){this.Wqa(a,this.nz).fail(f);};p.prototype.get=function(a,b){var c,m,h,d;a=(a=this.cw[a])?a[this.nz]:null;c=null;if(a&&(c=a.get(),c.Ed>k.Fe.HAVE_NOTHING))return c;if(!1===b)return y;m=c=null;h=!1;d=null;f.Sd(this.cw,function(a){f.Sd(a,function(a,f){var b;if(!h||f==this.nz){b=a.get();b&&(!m||m<=b.Ed)&&(!d||m<b.Ed||d<a.time())&&(m=b.Ed,h=f==this.nz,d=a.time(),c=b);}},this);},this);return c?c:y;};p.prototype.uD=function(){f.Sd(this.cw,function(a,b){f.Sd(a,function(a,f){a.uD(b+":"+f);});});};d.P=p;},function(d,c,a){var b,h,n,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(169);h=a(221);n=a(813);p=a(114);f=a(7);d=function(){function a(a,f){var k;k=this;this.ih=new h(a,f);this.gm=new n(a);this.sb=new p(this.gm,this.ih,a);b.vv.e$a(a);a.yZ&&setInterval(function(){k.ih.save();k.gm.save();},a.yZ);}a.Kza=function(b,c){void 0===k?(a.config=b,a.n0=c,k=new a(b,c)):(f.assert(a.config===b),f.assert(a.n0===c));return k;};a.reset=function(){a.config=void 0;k=a.n0=void 0;};return a;}();c.WH=d;},function(d,c){function a(a){var b;b={profile:a.spoofedProfile||a.profile,M$:a.max_framerate_value,L$:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,$tb:a.pixelAspectX,aub:a.pixelAspectY,lo:a.channels,sampleRate:a.channels?48E3:void 0};a.spoofedProfile&&(b.jUb=a.profile);return b;}Object.defineProperty(c,"__esModule",{value:!0});c.Mib=function(b,c,d){var h;h=[{},{}];(0===d?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(f,k){b[f].some(function(f,b){return b===c[k]?(h[k]=a(f),!0):!1;});});return h;};c.Nib=a;},function(d,c,a){c=a(816);d.P=c;},function(d,c,a){var p;function b(a){this.gE=a;this.reset();}function h(a){this.ci=new b(a);this.Nd=0;this.Nb=null;}function n(a,b){this.gE=a;this.sra=b;this.reset();}p=a(6);b.prototype.dsa=function(a,b){this.Qa+=a;this.kj+=a;this.Zb+=b;this.Ii.push({d:a,h7:b});};b.prototype.YJ=function(){var a;for(;this.kj>this.gE;){a=this.Ii.shift();this.Zb-=a.h7;this.kj-=a.d;}};b.prototype.reset=function(){this.Ii=[];this.Qa=null;this.kj=this.Zb=0;};b.prototype.setInterval=function(a){this.gE=a;this.YJ();};b.prototype.start=function(a){p.Oa(this.Qa)&&(this.Qa=a);};b.prototype.add=function(a,b,c){p.Oa(this.Qa)&&(this.Qa=b);b>this.Qa&&this.dsa(b-this.Qa,0);this.dsa(c>this.Qa?c-this.Qa:0,a);this.YJ();};b.prototype.get=function(){return{Ca:Math.floor(8*this.Zb/this.kj),vh:0};};h.prototype.reset=function(){this.ci.reset();this.Nd=0;this.Nb=null;};h.prototype.add=function(a,b,c){!p.Oa(this.Nb)&&c>this.Nb&&(b>this.Nb&&(this.Nd+=b-this.Nb),this.Nb=null);this.ci.add(a,b-this.Nd,c-this.Nd);};h.prototype.start=function(a){!p.Oa(this.Nb)&&a>this.Nb&&(this.Nd+=a-this.Nb,this.Nb=null);this.ci.start(a-this.Nd);};h.prototype.stop=function(a){this.Nb=p.Oa(this.Nb)?a:Math.min(a,this.Nb);};h.prototype.get=function(){return this.ci.get();};h.prototype.setInterval=function(a){this.ci.setInterval(a);};n.prototype.reset=function(){this.Ii=[];this.Zb=this.kj=0;};n.prototype.add=function(a,b,c,h){void 0!==h&&!0===h&&(b=c-b,this.kj+=b,this.Zb+=a,this.Ii.push({d:b,h7:a}),this.YJ());};n.prototype.YJ=function(){var a;for(;this.kj>this.gE||this.Ii.length>this.sra;){a=this.Ii.shift();this.Zb-=a.h7;this.kj-=a.d;}};n.prototype.start=function(){};n.prototype.stop=function(){};n.prototype.get=function(){return{Ca:Math.floor(8*this.Zb/this.kj),vh:0};};n.prototype.setInterval=function(a,b){this.gE=a;this.sra=b;this.YJ();};d.P={HHb:b,WPa:h,b_a:n};},function(d,c,a){var f;function b(a,b,c){this.WE=!1===a;this.SE=a||.01;this.D2=void 0===b?25:b;this.Nja=void 0===c?1.1:c;this.$g=new f(h);this.reset();}function h(a,f){return a.$e>f.$e?1:a.$e<f.$e?-1:0;}function n(a,f){return a.Jr-f.Jr;}function p(a){this.config=a||{};this.mode=this.config.mode||"auto";b.call(this,"cont"===this.mode?a.SE:!1);this.gdb=this.config.ratio||.9;this.hdb=this.config.NVb||1E3;this.UY=0;}f=a(829).FXa;b.prototype.reset=function(){this.$g.clear();this.Nca=this.n=0;};b.prototype.size=function(){return this.$g.size;};b.prototype.gs=function(a){var f;f=[];a?(this.sS(!0),this.$g.Sd(function(a){f.push(a);})):this.$g.Sd(function(a){f.push({$e:a.$e,n:a.n});});return f;};b.prototype.summary=function(){return[(this.WE?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.Jh(0),"Q1  = "+this.Jh(.25),"Q2  = "+this.Jh(.5),"Q3  = "+this.Jh(.75),"max = "+this.Jh(1)].join("\n");};b.prototype.push=function(a,f){f=f||1;a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.Aqa(a[b],f);};b.prototype.Bfa=function(a){a=Array.isArray(a)?a:[a];for(var f=0;f<a.length;f++)this.Aqa(a[f].$e,a[f].n);};b.prototype.sS=function(a){var f;if(!(this.n===this.Nca||!a&&this.Nja&&this.Nja>this.n/this.Nca)){f=0;this.$g.Sd(function(a){a.Jr=f+a.n/2;f=a.KE=f+a.n;});this.n=this.Nca=f;}};b.prototype.Sfb=function(a){var f,b;if(0===this.size())return null;f=this.$g.lowerBound({$e:a});b=null===f.data()?f.vB():f.data();return b.$e===a||this.WE?b:(f=f.vB())&&Math.abs(f.$e-a)<Math.abs(b.$e-a)?f:b;};b.prototype.MD=function(a,f,b){a={$e:a,n:f,KE:b};this.$g.qn(a);this.n+=f;return a;};b.prototype.XR=function(a,f,b){f!==a.$e&&(a.$e+=b*(f-a.$e)/(a.n+b));a.KE+=b;a.Jr+=b/2;a.n+=b;this.n+=b;};b.prototype.Aqa=function(a,f){var b,k,c;b=this.$g.min();k=this.$g.max();c=this.Sfb(a);c&&c.$e===a?this.XR(c,a,f):c===b?this.MD(a,f,0):c===k?this.MD(a,f,this.n):this.WE?this.MD(a,f,c.KE):(b=c.Jr/this.n,Math.floor(4*this.n*this.SE*b*(1-b))-c.n>=f?this.XR(c,a,f):this.MD(a,f,c.KE));this.sS(!1);!this.WE&&this.D2&&this.size()>this.D2/this.SE&&this.Vt();};b.prototype.W7a=function(a){var f,b;this.$g.Qk=n;f=this.$g.upperBound({Jr:a});this.$g.Qk=h;b=f.vB();a=b&&b.Jr===a?b:f.next();return[b,a];};b.prototype.Jh=function(a){var f;f=(Array.isArray(a)?a:[a]).map(this.a3a,this);return Array.isArray(a)?f:f[0];};b.prototype.a3a=function(a){var f,b;if(0!==this.size()){this.sS(!0);this.$g.min();this.$g.max();a*=this.n;f=this.W7a(a);b=f[0];f=f[1];return f===b||null===b||null===f?(b||f).$e:this.WE?a<=b.KE?b.$e:f.$e:b.$e+(a-b.Jr)*(f.$e-b.$e)/(f.Jr-b.Jr);}};b.prototype.Vt=function(){var a;if(!this.qva){a=this.gs();this.reset();for(this.qva=!0;0<a.length;)this.Bfa(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.sS(!0);this.qva=!1;}};p.prototype=Object.create(b.prototype);p.prototype.constructor=p;p.prototype.push=function(a){b.prototype.push.call(this,a);this.l9a();};p.prototype.MD=function(a,f,c){this.UY+=1;b.prototype.MD.call(this,a,f,c);};p.prototype.XR=function(a,f,c){1===a.n&&--this.UY;b.prototype.XR.call(this,a,f,c);};p.prototype.l9a=function(){!("auto"!==this.mode||this.size()<this.hdb)&&this.UY/this.size()>this.gdb&&(this.mode="cont",this.WE=!1,this.SE=this.config.SE||.01,this.Vt());};d.P={TDigest:b,Digest:p};},function(d,c,a){var b,h,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=a(75);h=a(170);n=a(173);a=function(a){function f(f,b,c,h,d,p,g){b=a.call(this,f,b,c,h,d,p,g)||this;n.By.call(b,f,h);return b;}b.__extends(f,a);return f;}(h.pC);c.bQ=a;d(n.By.prototype,a.prototype);},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});d=a(44);a=a(172);b=function(){function a(a,b){this.Xn=a;this.qD=b.eb;this.Rs=b.rb;}Object.defineProperties(a.prototype,{eb:{get:function(){return void 0!==this.qD?this.qD:this.Xn.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{rb:{get:function(){return void 0!==this.Rs?this.Rs:this.Xn.rb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.Xn.X;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pq:{get:function(){return this.Xn.pq;},enumerable:!0,configurable:!0}});a.prototype.OO=function(a){this.Rs=a;};a.prototype.U7=function(){this.Rs=void 0;};return a;}();c.RH=b;d.cj(a.cQ,b);},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=a(130);h=a(232);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.NGa=function(){15!==this.L.Qf(4)||this.L.Qf(24);};c.prototype.parse=function(a){if(this.xmb(a)&&64===a.bsb)switch(this.Pz=this.GGa(),this.NGa(),this.L.Qf(4),this.jfb=5===this.Pz||29===this.Pz?5:-1,0<this.jfb&&(this.NGa(),this.Pz=this.GGa(),22===this.Pz&&this.L.Qf(4)),this.Pz){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.oya=this.L.Qf(1),(this.Mcb=this.L.Qf(1))&&this.L.Qf(14),this.L.Qf(1),this.lW=3===this.Pz?256:23===this.Pz?this.oya?480:512:this.oya?960:1024;}this.skip();return!0;};c.prototype.GGa=function(){var a;a=this.L.Qf(5);31===a&&(a=32+this.L.Qf(6));return a;};c.prototype.xmb=function(a){return a.tag===h.rka.tag;};c.tag=5;return c;}(d.H1);c.MPa=a;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.bsb=this.L.kd();this.L.kd();this.L.Pg();this.L.kd();this.Jo=this.L.Ab();this.u7a=this.L.Ab();this.gsa();return!0;};c.tag=4;return c;}(a(130).H1);c.rka=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a;this.L.Pg();a=this.L.kd();this.tBb=!!(a&128);this.IZa=!!(a&64);this.gVa=!!(a&32);this.tBb&&this.L.Pg();this.IZa&&this.L.UZ(this.L.kd());this.gVa&&this.L.Pg();this.gsa();return!0;};c.tag=3;return c;}(a(130).H1);c.Pka=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});d=a(0);d.__exportStar(a(130),c);d.__exportStar(a(231),c);d.__exportStar(a(230),c);d.__exportStar(a(229),c);d=a(230);b=a(229);a=a(231);c.TE={3:a.Pka,4:d.rka,5:b.MPa};},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.L.offset+=6;this.L.Pg();return!0;};return c;}(a(26).Tf);c["default"]=d;},function(d,c){function a(a,c){return"number"!==typeof a||"number"!==typeof c?!1:a&&c?Math.abs(a*c/b(a,c)):0;}function b(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a%b;a=c;}return a;}Object.defineProperty(c,"__esModule",{value:!0});d=function(){function c(a,b){"object"===typeof a?(this.qt=a.Gb,this.Gl=a.X):(this.qt=a,this.Gl=b);}c.Lsb=function(a){return new c(1,a);};c.ji=function(a){return new c(a,1E3);};c.lia=function(a,b){return Math.floor(1E3*a/b);};c.bea=function(a,b){return Math.floor(a*b/1E3);};c.max=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};c.min=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};c.R$=function(h,d){var f;if(h.X===d.X)return new c(b(h.Gb,d.Gb),h.X);f=a(h.X,d.X);return c.R$(h.hg(f),d.hg(f));};Object.defineProperties(c.prototype,{Gb:{get:function(){return this.qt;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{X:{get:function(){return this.Gl;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ka:{get:function(){return 1E3*this.qt/this.Gl;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{rh:{get:function(){return this.qt/this.Gl;},enumerable:!0,configurable:!0}});c.prototype.hg=function(a){a/=this.X;return new c(Math.floor(this.Gb*a),Math.floor(this.X*a));};c.prototype.add=function(b){var h;if(this.X===b.X)return new c(this.Gb+b.Gb,this.X);h=a(this.X,b.X);return this.hg(h).add(b.hg(h));};c.prototype.Ac=function(a){return this.add(new c(-a.Gb,a.X));};c.prototype.TY=function(a){return new c(this.Gb*a,this.X);};c.prototype.au=function(b){var c;if(this.X===b.X)return this.Gb/b.Gb;c=a(this.X,b.X);return this.hg(c).au(b.hg(c));};c.prototype.lAa=function(b){return a(this.X,b);};c.prototype.XGa=function(){return new c(this.X,this.Gb);};c.prototype.compare=function(b,c){var f;if(this.X===c.X)return b(this.Gb,c.Gb);f=a(this.X,c.X);return b(this.hg(f).Gb,c.hg(f).Gb);};c.prototype.equal=function(a){return this.compare(function(a,b){return a===b;},a);};c.prototype.rG=function(a){return this.compare(function(a,b){return a!==b;},a);};c.prototype.lessThan=function(a){return this.compare(function(a,b){return a<b;},a);};c.prototype.greaterThan=function(a){return this.compare(function(a,b){return a>b;},a);};c.prototype.kY=function(a){return this.compare(function(a,b){return a<=b;},a);};c.prototype.tM=function(a){return this.compare(function(a,b){return a>=b;},a);};c.prototype.toJSON=function(){return{ticks:this.Gb,timescale:this.X};};c.prototype.toString=function(){return this.Gb+"/"+this.X;};c.xe=new c(0,1);c.wG=new c(1,1E3);return c;}();c.sa=d;},function(d,c,a){var ia,T,ma,O,oa,ta,wa,R,Aa,ja,Fa,Ha,la,Da,Qa,Oa,B,Ia,H,bb,L,Va,Q,V,ca,Jb,Z,da,ea,fa,ga;function b(a,b,f,k,c){O.call(this,a,b,f,k,c);}function h(a,b,f,k,c){O.call(this,a,b,f,k,c);}function n(a,b,f,k,c){O.call(this,a,b,f,k,c);}function p(a,b,f,k,c){O.call(this,a,b,f,k,c);this.qha=a.config.qha;this.Fd=this.sizes=void 0;}function f(a,b,f,k,c){O.call(this,a,b,f,k,c);}function k(){for(var a=new DataView(this),b="",f,k=0;k<this.byteLength;k++)f=a.getUint8(k),b+=("00"+f.toString(16)).slice(-2);return b;}function m(a,b,f,k,c){O.call(this,a,b,f,k,c);}function t(a,b,f,k,c){O.call(this,a,b,f,k,c);}function u(a,b,f,k,c){O.call(this,a,b,f,k,c);}function y(a,b,f,k,c){O.call(this,a,b,f,k,c);}function g(a,b,f,k,c){O.call(this,a,b,f,k,c);}function D(a){function b(b,f,k,c,m){O.call(this,b,f,k,c,m);this.nEa=a;}b.ic=!1;b.prototype=new O();b.prototype.constructor=b;Object.defineProperties(b.prototype,{hka:{get:function(){return this.nEa;}}});b.prototype.parse=function(){this.L.console.trace("renaming '"+this.type+"' to draft type '"+this.nEa+"'");this.L.offset=this.startOffset+4;this.ab.FLa(this.hka);this.type=this.hka;return!0;};return b;}function z(a,b,f,k,c){O.call(this,a,b,f,k,c);}function G(a,b,f,k,c){O.call(this,a,b,f,k,c);}function M(a,b,f,k,c){O.call(this,a,b,f,k,c);}function N(a,b,f,k,c){O.call(this,a,b,f,k,c);}function P(a,b,f,k,c){O.call(this,a,b,f,k,c);}function l(a,b,f,k,c){O.call(this,a,b,f,k,c);}function q(a,b,f,k,c){O.call(this,a,b,f,k,c);}function S(a,b,f,k,c){O.call(this,a,b,f,k,c);}function A(a,b,f,k,c){O.call(this,a,b,f,k,c);}function X(a,b,f,k,c){O.call(this,a,b,f,k,c);}function r(a,b){a.forEach(function(a){b[a.Je]=a;});}ia=a(132).assert;c=a(86);T=a(234).sa;ma=a(411);a(131);a(77);a(77);a(77);O=a(26).Tf;oa=a(856)["default"];ta=a(855)["default"];wa=a(854)["default"];R=a(853)["default"];Aa=a(852)["default"];ja=a(851)["default"];Fa=a(850)["default"];Ha=a(849)["default"];la=a(848)["default"];a(233);a(174);Da=a(410).LLa;Qa=a(410).mQa;Oa=a(847)["default"];B=a(846)["default"];Ia=a(85)["default"];H=a(85).iMa;bb=a(85).jMa;L=a(85).kMa;Va=a(85).lMa;Q=a(845)["default"];V=a(844)["default"];ca=a(85).DRa;Jb=a(85).yRa;Z=a(843)["default"];da=a(842)["default"];ea=a(841)["default"];fa=a(409)["default"];ga=a(408)["default"];a(130);a(230);a(229);a(231);a=a(840)["default"];b.ic=!0;b.prototype=new O();b.prototype.constructor=b;h.ic=!0;h.prototype=new O();h.prototype.constructor=h;n.ic=!1;n.prototype=new O();n.prototype.constructor=n;n.prototype.parse=function(){var a;this.Rf();1===this.version?(this.L.Yi(),this.L.Yi(),this.X=this.L.Ab(),this.duration=this.L.Yi()):(this.L.Ab(),this.L.Ab(),this.X=this.L.Ab(),this.duration=this.L.Ab());a=this.L.Pg()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));return!0;};p.ic=!1;p.prototype=new O();p.prototype.constructor=p;p.prototype.Y2a=function(){this.Rf();this.L.Ab();this.X=this.L.Ab();0===this.version?(this.D9=this.L.Ab(),this.w$=this.L.Ab()):(this.D9=this.L.Yi(),this.w$=this.L.Yi());this.Hxb=this.L.Pg();this.$Ga=this.L.Pg();};p.prototype.g0a=function(a,b){var f,k,c;f=this.X;a=a&&a.X||f;k=a/f;f=this.L.TZ(b,12,!1);c=1===k?this.L.TZ(b,12,!1):ma.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.L.Ab()*k);this.L.offset+=8;return a;},this);this.C4a(b,c,f,a);};p.prototype.C4a=function(a,b,f,k){if(this.qha){k=this.qha*k/1E3;for(var c=0,m=1;m<a;m++)Math.abs(b[c]-k)>Math.abs(b[c]+b[m]-k)?(b[c]+=b[m],f[c]+=f[m]):(++c,c!==m&&(b[c]=b[m],f[c]=f[m]));++c;b=new Uint32Array(b.buffer.slice(0,4*c));f=new Uint32Array(f.buffer.slice(0,4*c));}this.sizes=f;this.Fd=b;};p.prototype.parse=function(a){var b,f,k,c;this.Y2a();this.Ta=a.Ta;b=this.X;f=this.Ta&&this.Ta.X||b;k=this.$Ga;c=this.startOffset+this.length+this.w$;b=new T(this.D9,b).hg(f).Gb;this.Y={X:f,Lj:b,offset:c};this.g0a(this.Ta,k);this.Y.Fd=this.Fd;this.Y.sizes=this.sizes;a.Yr=this;return!0;};f.ic=!1;f.prototype=new O();f.prototype.constructor=f;f.prototype.parse=function(){var a;this.yy=[];this.Stb=[];a=(this.length-11)/2;this.L.kd();this.L.kd();this.L.kd();for(var b=0;b<a;b++)this.yy.push(this.L.kd()),this.Stb.push(this.L.kd());return!0;};m.ic=!1;m.prototype=new O();m.prototype.constructor=m;m.prototype.parse=function(){this.Rf();this.L.offset+=4;this.jCa=this.L.offset;this.Cx=this.L.$vb();this.Cx.toString=k;return!0;};t.ic=!1;t.prototype=new O();t.prototype.constructor=t;t.prototype.parse=function(){this.Rf();this.hn=this.L.Pg();this.Upb=this.L.TZ(this.hn,void 0,!0);return!0;};u.ic=!1;u.prototype=new O();u.prototype.constructor=u;u.prototype.parse=function(a){var b,f,k,c,m,h;c=a.Yr;ia(c);a=a.Ta;b=c.X;c=c.$Ga;ia(a);ia(b);ia(c);this.Rf();ia(2>this.version);this.hn=this.L.Pg();this.HG=new Uint16Array(c+1);f=a.lAa(b);m=f/b;h=a.hg(f).Gb;if(0===this.version)for(this.YG=new Uint16Array(),this.Ng=new Uint32Array(),a=b=0;a<=c;++a){if(this.HG[a]=b,a<this.hn&&(k=this.L.kd(),0!==k))for(f=0;f<k;++f,++b)this.YG[b]=Math.floor((this.L.Ab()+1)*m)/h,this.Ng[b]=this.L.Ab();}else if(1===this.version)for(f=this.L.Xvb(this.hn),this.L.offset+=4,this.Ng=this.L.TZ(this.hn,10,!1),this.L.offset-=8,this.YG=ma.from(Uint16Array,{length:this.hn},function(){var a;a=Math.floor((this.L.Ab()+1)*m)/h;this.L.offset+=6;return a;},this),b=a=0;a<=c;++a){for(;b<f.length&&f[b]<a;)++b;this.HG[a]=b;}this.di={HG:this.HG,YG:this.YG,Ng:this.Ng};return!0;};y.ic=!0;y.prototype=Object.create(b.prototype);y.prototype.constructor=y;g.ic=!0;g.prototype=Object.create(b.prototype);g.prototype.constructor=g;g.prototype.kF=function(){var a;a=this.zq("tfhd");a&&(this.Gt=a.dua?a.Gt:this.parent.startOffset);return!0;};z.ic=!1;z.prototype=new O();z.prototype.constructor=z;z.prototype.parse=function(){var a,t,p,f,c;a=this.L.offset;this.Rf();if(1===this.version){this.L.console.trace("translating vpcC box to draft equivalent");this.L.offset+=2;for(var b=this.L.offset,f=this.L.kd(),k=this.L.kd(),c=this.L.kd(),m=this.L.kd(),h=this.L.Pg(),d=[],t=0;t<h;++t)d=this.L.kd();t=(f&240)>>>4;p=(f&14)>>>1;f=f&1;c=16===c?1:0;k!=m&&this.L.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+k+" and matrixCoefficients "+m+" should be the same value!");m=2;switch(k){case 1:m=2;break;case 6:m=1;break;case 9:m=5;break;default:this.L.console.warn("VP9: Unknown colourPrimaries "+k+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.ab.V0(this.version,a);this.ab.V0(t<<4|m,b++);this.ab.V0(p<<4|c<<1|f,b++);h+=2;d.push(0,0);this.ab.tFb(h);b+=2;d.forEach(function(a){this.ab.V0(a,b++);});}return!0;};G.ic=!1;G.prototype=new O();G.prototype.constructor=G;G.Je="tfhd";Object.defineProperties(G.prototype,{dua:{get:function(){return this.Xe&1;}},gyb:{get:function(){return this.Xe&2;}},Dcb:{get:function(){return this.Xe&8;}},Gcb:{get:function(){return this.Xe&16;}},Ecb:{get:function(){return this.Xe&32;}}});G.prototype.parse=function(){this.Rf();this.qia=this.L.Ab();this.Gt=this.dua?this.L.Yi():void 0;this.gyb&&this.L.Ab();this.iV=this.Dcb?this.L.Ab():void 0;this.kV=this.Gcb?this.L.Ab():void 0;this.jV=this.Ecb?this.L.Ab():void 0;return!0;};M.ic=!1;M.prototype=new O();M.prototype.constructor=M;M.prototype.parse=function(){this.Rf();this.JK=1===this.version?this.L.Yi():this.L.Ab();return!0;};M.prototype.Sa=function(a){var b;b=this.startOffset+12;this.JK+=a;1===this.version?this.ab.uFb(this.JK,b):this.ab.jp(this.JK,b);};N.ic=!1;N.prototype=new O();N.prototype.constructor=N;Object.defineProperties(N.prototype,{Xva:{get:function(){return this.Xe&1;}},B$:{get:function(){return this.Xe&4;}},s_:{get:function(){return this.Xe&256;}},t_:{get:function(){return this.Xe&512;}},RHa:{get:function(){return this.Xe&1024;}},uga:{get:function(){return this.Xe&2048;}}});N.prototype.parse=function(){this.Rf();this.nua=this.L.offset;this.je=this.L.Ab();this.Zt=this.Xva?this.L.Jfa():0;this.B$&&this.L.Ab();this.zO=(this.s_?4:0)+(this.t_?4:0)+(this.RHa?4:0)+(this.uga?4:0);this.bW=this.L.offset;ia(this.Xva,"Expected data offset to be present in Track Run");ia(this.length-(this.L.offset-this.startOffset)===this.je*this.zO,"Expected remaining data in box to be sample information");return!0;};N.prototype.ZJ=function(a,b,f){var k,c,m;k=this.s_?this.L.Ab():a.iV;c=this.t_?this.L.Ab():a.kV;a=this.RHa?this.L.Ab():a.jV;m=0===this.version?this.uga?this.L.Ab():0:this.uga?this.L.Jfa():0;return{fyb:m,kVb:a,IUb:f+m-(void 0!==b?b:m),ev:c,AO:k};};N.prototype.Sa=function(a,b,f,k,c,m,h){var d,t,p,n;d=0;t=0;this.ab.offset=this.bW;for(k=0;k<c;++k)n=this.ZJ(b,p,t),0==k&&(p=n.fyb),d+=n.ev,t+=n.AO;k=c;c=this.L.offset;n=this.ZJ(b,p,t);this.jH=k;this.KAb=t;if(h){if(this.RG=this.Zt+d,this.bv=0,k===this.je)return!0;}else if(this.RG=this.Zt,this.bv=d,0===k)return!0;if(0===k||k===this.je)return!1;this.DV=!0;if(h){this.bv+=n.ev;for(h=k+1;h<this.je;++h)n=this.ZJ(b,p,t),this.bv+=n.ev;this.ab.offset=this.nua;this.je=k;this.ab.jp(this.je);this.ab.Uia(m);this.B$&&(this.L.offset+=4);this.Dk(this.length-(c-this.startOffset),c);}else b=c-this.bW,this.ab.offset=this.nua,this.je-=k,this.ab.jp(this.je),this.Zt+=d,this.ab.Uia(m,this.Zt),this.B$&&(this.L.offset+=4),this.Dk(b,this.ab.offset);f.Dk(this.bv,a.Gt+this.RG);return!0;};N.prototype.qxb=function(a,b,f,k,c,m){var d;if(k){k=this.RG;for(var h=this.je-1;0<=h&&this.je-h<=c;--h){this.ab.offset=this.bW+h*this.zO;d=this.ZJ(b);if(d.AO!=m.duration){this.L.console.warn("Could not replace sample of duration "+d.AO+" with silence of duration "+m.duration);break;}if(this.t_)this.ab.offset-=this.zO-(this.s_?4:0),this.ab.jp(m.hv.byteLength);else if(m.hv.byteLength!==d.ev){this.L.console.warn("Cannot replace sample with default size with silence of different size");break;}k-=d.ev;f.e_(d.ev,m.hv,a.Gt+k);}}else for(k=this.RG+this.bv,h=0;h<this.je&&h<c;++h){this.ab.offset=this.bW+(h+this.jH)*this.zO;d=this.ZJ(b);if(d.AO!=m.duration){this.L.console.warn("Could not replace sample of duration "+d.AO+" with silence of duration "+m.duration);break;}if(this.t_)this.ab.offset-=this.zO-(this.s_?4:0),this.ab.jp(m.hv.byteLength);else if(m.hv.byteLength!==d.ev){this.L.console.warn("Cannot replace sample with default size with silence of different size");break;}f.e_(d.ev,m.hv,a.Gt+k);k+=d.ev;}};P.ic=!1;P.prototype=Object.create(O.prototype);P.prototype.constructor=P;Object.defineProperties(P.prototype,{Qz:{get:function(){return this.Xe&1;}}});P.prototype.parse=function(){this.Rf();this.Qz&&this.L.by();this.Qz&&this.L.Ab();this.Fcb=this.L.kd();this.je=this.L.Ab();this.L.UZ(this.je);return!0;};P.prototype.Sa=function(a,b){if(a&&0===this.Fcb){a=b?this.je-a:a;this.ab.offset=this.startOffset+13+(this.Qz?8:0);this.je-=a;this.ab.jp(this.je);this.sga=0;if(b)this.ab.offset+=this.je;else{for(b=0;b<a;++b)this.sga+=this.ab.kd();this.ab.offset-=a;}this.Dk(a,this.L.offset);}return!0;};l.ic=!1;l.prototype=Object.create(O.prototype);l.prototype.constructor=l;Object.defineProperties(l.prototype,{Qz:{get:function(){return this.Xe&1;}}});l.prototype.parse=function(){this.Rf();this.Qz&&this.L.by();this.Qz&&this.L.Ab();this.hn=this.L.Ab();ia(1===this.hn,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Zt=0===this.version?this.L.Jfa():this.L.fwb();return!0;};l.prototype.Sa=function(a,b){this.Zt+=a;this.ab.offset=this.startOffset+16+(this.Qz?8:0)+(0===this.version?0:4);this.ab.Uia(b,this.Zt);return!0;};q.ic=!1;q.prototype=Object.create(O.prototype);q.prototype.constructor=q;Object.defineProperties(q.prototype,{sFa:{get:function(){return this.Xe&1;}},BEb:{get:function(){return this.Xe&2;}}});q.prototype.parse=function(){this.Rf();this.sFa&&(this.L.Ab(),this.Anb=this.L.UZ(16));this.je=this.L.Ab();return!0;};q.prototype.Sa=function(a,b){var f,k;f=b?this.je-a:a;this.ab.offset=this.startOffset+28+(this.sFa?20:0);this.je-=f;this.ab.jp(this.je);a=this.ab.offset;if(this.BEb)for(f=b?this.je:f;0<f;--f){this.ab.offset+=8;k=this.ab.Pg();this.ab.offset+=6*k;}else this.ab.offset+=8*(b?this.je:f);b?this.Dk(this.length-(this.L.offset-this.startOffset),this.L.offset):this.Dk(this.L.offset-a,a);};S.ic=!1;S.prototype=Object.create(O.prototype);S.prototype.constructor=S;S.prototype.parse=function(){this.Rf();return!0;};S.prototype.Sa=function(a,b,f){f?this.Dk(b-a,this.startOffset+12+a):this.Dk(a,this.startOffset+12);return!0;};A.ic=!1;A.prototype=Object.create(O.prototype);A.prototype.constructor=A;A.prototype.parse=function(){this.Rf();this.L.by();1===this.version&&this.L.Ab();this.hn=this.L.Ab();this.BO=[];for(var a=0;a<this.hn;++a)for(var b=this.L.Ab(),f=this.L.Ab(),k=0;k<b;++k)this.BO.push(f);return!0;};A.prototype.Sa=function(a,b){this.BO=b?this.BO.slice(0,a):this.BO.slice(a);a=this.BO.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.ab.offset=this.startOffset+16+(1===this.version?4:0);this.ab.jp(a.length);a.forEach(function(a){this.ab.jp(a.count);this.ab.jp(a.group);}.bind(this));this.hn>a.length&&this.Dk(8*(this.hn-a.length));this.hn=a.length;return!0;};X.ic=!1;X.prototype=Object.create(O.prototype);X.prototype.constructor=X;Ia={Mc:{moov:h,trak:b,mdia:b,mdhd:n,minf:b,encv:Ia,schi:b,sidx:p,sinf:b,stbl:b,tenc:m,mvex:b,moof:y,traf:g,tfhd:G,trun:N,sbgp:A,sdtp:S,saiz:P,saio:l,tfdt:M,mdat:X,vmaf:f},aDb:{vpcC:z,SmDm:D("smdm"),CoLL:D("coll")},uKa:{schm:Q},tga:{}};r([V,ja,Fa,Ha,ca,Jb,oa,R,fa,ga,Aa,la,ta,wa,a],Ia.Mc);r([Da,Oa,H,bb,L,Va,Qa,B,da,Z],Ia.tga);r([V,Q],Ia.uKa);Ia.Mc[c.wna]=m;Ia.Mc[c.kR]=t;Ia.Mc[c.jR]=u;Ia.Mc[c.vna]=q;Ia.tga[c.Q2]=ea;Ia.Tf=O;d.P={pG:Ia};},function(d,c,a){var b,h,n,p,f,k,m,t,u,y,g,D,z;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(27);n=a(863);d=a(87);p=a(858);f=a(833);k=a(830);m=a(224);t=a(815);u=a(21);y=a(4);g=a(7);D=a(390);a(223);z=function(){return function(a){var b;b=a.lca;a=a.OX;this.lN=this.replace=b;this.rf=a;};}();a=function(a){function c(c){var d,t,u,g,E,G,M,N,l,q,O,r,ta,wa,R,Aa,ja,Fa,Ha,la,Da,Qa,Oa;d=c.pa;t=c.Wa;u=c.wa;g=c.Ak;E=c.gb;G=c.Gda;M=c.hi;N=c.br;l=c.config;q=c.pha;O=c.pba;r=c.EB;ta=c.cM;wa=c.sb;R=c.ih;Aa=c.sG;c=c.V9;ja=a.call(this)||this;ja.nX=!1;ja.era=[];ja.qra=[];ja.Yg=[];ja.Qe=!1;ja.pa=d;ja.Wa=t;ja.wa=u;ja.Ak=g;ja.gb=E;ja.config=l;ja.console=new y.Console("ASEJS","media|asejs","<"+String(ja.pa)+">");ja.r3a=new D.Hoa();O&&(d=O.Up,ja.sf=new k.FRa(ja,ja.console,ja.config,O.jl,O.QW,d,O.LX,O.Me,O.Eb,O.Lf,O.vx));ja.ux=new h.EventEmitter();ja.cM=ta;ja.sb=wa;ja.sG=Aa;ja.bm=new m.H2(u,wa,R,ja.config,null===c||void 0===c?void 0:c.jl);c&&(O=c.zr,ta=c.Eo,wa=c.NF,R=c.qm,ja.zp=c.Rg,ja.NF=wa,ja.Eo=ta,ja.zr=O,ja.qm=R,ja.Fh=new f.OQa(ja.bm,ja.config,ja.Ikb.bind(ja),ja.Hkb.bind(ja)));q&&(c=q.mB,O=q.ga,ta=q.Ww,wa=q.hm,d=q.Up,c&&O?(ja.TO=new n.IYa(c,{ga:String(O),Ww:ta,Tpb:ja.config.oR.mx,c8a:ja.config.oR.lv,a8:ja.config.a8},wa),ja.Up=d):wa("SideChannel: pbcid/xid is missing."));ja.Fh&&ja.TO&&ja.Fh.Uzb(ja.TO);ja.EB=r;ja.ue=new z(G);ja.hi=M;Fa=[[],[]];Ha=[{},{}];la=[0,0];Da=!1;Qa=ja.gb(0);Oa=ja.gb(1);["audio_tracks","video_tracks"].forEach(function(a,f){var c;c=0===f;c&&!Qa||1===f&&!Oa||u[a].forEach(function(a,k){a=new p.NMa({O:ja,VA:a,M:f,rf:G.OX,br:N,s0:k,jE:k+(c?u.video_tracks.length:0)},ja.config,ja.console);Fa[f].push(a);Ha[f]=b.__assign(b.__assign({},Ha[f]),a.AF());a.Jo>la[a.M]&&(la[a.M]=a.Jo);Da=Da||a.iX;});});ja.aS=Fa;ja.uBb=Ha;ja.cq=la;ja.iX=Da;ja.C0a=ja.config&&ja.config.gxa&&ja.config.Iba&&!!ja.config.Iba.length&&-1!==ja.config.Iba.indexOf(String(ja.u));return ja;}b.__extends(c,a);Object.defineProperties(c.prototype,{bg:{get:function(){return this.era;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ipb:{get:function(){return this.qra;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{u:{get:function(){return this.wa.movieId;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Rt:{get:function(){return this.wa.choiceMap;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{duration:{get:function(){return this.wa.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{aq:{get:function(){return this.Qe;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Sfa:{get:function(){return this.r3a;},enumerable:!0,configurable:!0}});c.prototype.close=function(){this.bm.close();this.Qe=!0;};c.prototype.xc=function(){this.sf&&this.sf.xc();};c.prototype.tu=function(){return void 0!==this.Rt;};c.prototype.getTracks=function(a){return this.aS[a];};c.prototype.getTrackById=function(a){var b;this.aS.some(function(f){return f.some(function(f){if(f.bb===a)return b=f,!0;});});b||this.console.warn("getTrackById not found:",a,"length:",this.aS.length);return b;};c.prototype.ikb=function(a,b){var f;f=this.aS[a];if(0>b||b>=f.length)this.console.warn("getTrackByIndex out of range:",b,"length:",f.length,"mediaType:",a);else return f[b];};c.prototype.xr=function(a,b){return(a=this.AF(a))&&a[b];};c.prototype.AF=function(a){return this.uBb[a];};c.prototype.GDb=function(a,b){this.era[a]=b;b.stream.Y&&this.UKa(a,b.stream.Y);};c.prototype.HV=function(a){return void 0===a||1===a?this.C0a:!1;};c.prototype.inb=function(a){var b,f;if(void 0===a.LZ||void 0===a.qfa){b=this.bm.vaa().filter(function(b){return void 0!==b.cc[a.qa];})[0];f=b.children.filter(function(b){return b.me.some(function(b){return b.stream.id===a.qa;});})[0];a.LZ=b.id;a.qfa=f.id;}return{sca:a.location===a.LZ,jnb:a.qc===a.qfa};};c.prototype.M_=function(a,b,f){void 0!==b&&void 0!==f&&(this.oHa(a.M,b),a.M_(b,f));};c.prototype.oHa=function(a,b){var f,c;c=this.config.gea;("location"===c||"video_location"===c&&1===a)&&this.sb.L_(b);null===(f=this.cM)||void 0===f?void 0:f.call(this).ysb(a,b);};c.prototype.Rg=function(a,b,f,c,k){g.assert(this.zp,"Stream failure reporting can not be used on prefetch viewables.");return this.zp(a,b,f,c,k);};c.prototype.gp=function(){var a,b,f;a=this;b=[];if(this.aq)return this.console.error("updateRequestUrls, closed Viewable:",this.pa),!1;u.Df.forEach(function(f){a.gb(f)&&a.ZDb(f)&&(f=a.LDb(f),0<f.length&&b.push.apply(b,f));});f=this.HDb();0<f.length&&b.push.apply(b,f);return this.Exb(b);};c.prototype.ZDb=function(a){var k,m;if(this.aq)return this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1;if(!this.gb(a))return this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),!1;for(var b=!0,f=0,c=this.Yg;f<c.length;f++){k=c[f].te(a);m=this.bm.DP(this.pa,k.track.zc);m||k.$a("location selector failed to update streamList");b=b&&m;}return b;};c.prototype.HDb=function(){g.assert(this.sf,"Headers not available from prefetch viewables.");return this.sf.gp();};c.prototype.LDb=function(a){var b,k;b=[];if(this.aq)return this.console.warn("updateStreamUrls ignored, viewable cleaned up"),b;if(!this.gb(a))return this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),b;for(var f=0,c=this.Yg;f<c.length;f++){k=c[f].gp(a);k.length&&b.push.apply(b,k);}return b;};c.prototype.Exb=function(a){var b,f,c;b=this;if(0===a.length)return!0;f=0;c=[];a.forEach(function(a){var k;if(a.ac){k=a.O;k.Wa>b.Wa&&(c.push({O:k,track:a.stream.track}),++f);}});c.forEach(function(a){var b;b=a.track;a.O.TG([0===b.M?b:void 0,1===b.M?b:void 0],void 0,b.M);});return f===a.length;};c.prototype.vk=function(){var a;a=this;this.bm.vk();this.Fh&&this.Fh.vk();this.TO&&(g.assert(this.Up),u.Df.forEach(function(b){b=a.Up(b);a.TO.Pga("rebuffer",b.Mca);}));};c.prototype.JN=function(){this.Fh&&this.Fh.JN();};c.prototype.Jia=function(a,b){g.assert(this.sf,"Headers not available from prefetch viewables.");this.sf.Jia(a,b);};c.prototype.V7=function(){g.assert(this.sf,"Headers not available from prefetch viewables.");this.sf.V7();};c.prototype.$ga=function(a,b){g.assert(this.sf,"Headers not available from prefetch viewables.");g.assert(a.O===this);this.sf.$ga(a,b);};c.prototype.zj=function(a,b){g.assert(this.sf,"Headers not available from prefetch viewables.");return this.sf.zj(a,b);};c.prototype.nda=function(){g.assert(this.sf,"Headers not available from prefetch viewables.");this.sf.nda();};c.prototype.Jva=function(a,b,f){g.assert(this.sf,"Headers not available from prefetch viewables.");this.sf.w0(a,b,f,!0);};c.prototype.YT=function(a,b,f){g.assert(this.sf,"Headers not available from prefetch viewables.");return this.sf.YT(a,b,!!f);};c.prototype.dC=function(a){g.assert(this.sf,"Headers not available from prefetch viewables.");return this.sf.dC(a);};c.prototype.s6=function(a,b){g.assert(this.sf,"Headers not available from prefetch viewables.");return this.sf.s6(a,b);};c.prototype.mga=function(a){g.assert(this.sf,"Headers not available from prefetch viewables.");return this.sf.mga(a);};c.prototype.TG=function(a,b,f){g.assert(this.sf,"Headers not available from prefetch viewables.");return this.sf.TG(a,b,f);};c.prototype.Kkb=function(a){var b,f,c,k;b=a.qa;f=a.M;this.UKa(f,a.stream.Y);b=this.xr(f,b);c=this.tu()?this.config.oDa:0;k=y.nk()[f];1===f&&0<this.config.Ir&&(k=Math.min(k,this.config.Ir));b.NKa(k,c);this.ux.emit("onHeaderFragments",a);};c.prototype.cHa=function(a){this.Yg.push(a);};c.prototype.IKa=function(a){a=this.Yg.indexOf(a);g.assert(-1!==a,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Yg.splice(a,1);};c.prototype.nZ=function(){var a;null===(a=this.EB)||void 0===a?void 0:a.lE();};c.prototype.Pu=function(a){this.aq?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",a):void 0!==a.location&&this.oHa(a.M,a.location);};c.prototype.RN=function(a){g.assert(this.Fh,"Requests cannot be handled on prefetch viewables.");this.aq?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",a):this.Fh.A0({timestamp:a.Wc,url:a.url});};c.prototype.Vi=function(a){var b;null===(b=this.EB)||void 0===b?void 0:b.c_();g.assert(this.Fh&&this.Eo&&this.sG,"Requests cannot be handled on prefetch viewables.");this.aq?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",a):(this.Eo()&&this.Fh.xO(!0),this.Fh.A0({timestamp:a.Wc,mediaRequest:a}),this.sG(a));};c.prototype.ON=function(a,b,f){var c;f&&(null===(c=this.EB)||void 0===c?void 0:c.c_());};c.prototype.PN=function(a){var b;g.assert(this.Fh&&this.zp,"Requests cannot be handled on prefetch viewables.");if(this.aq)this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",a);else{b=a.eh;this.config.Ekb&&b===t.Vj.zC.o2&&0<a.Ae&&(b=t.Vj.zC.s1);this.Fh.So({url:a.url},a.status,b,a.Ti);this.gp()||this.Rg(a.jF||"unknown","NFErr_MC_StreamingFailure",a.eh,a.status,a.Ti);}};c.prototype.UKa=function(a,b){this.qra[a]=b.zda;};c.prototype.Ikb=function(a){var b,f,c;g.assert(this.NF&&this.zp,"Error handling not available on prefetch viewables.");if(!this.Qe){b=a.Pmb;f=a.Qsb;c=a.Rsb;a=a.Ssb;this.console.warn("Streaming failure, isBuffering "+this.NF()+" is permanent: "+b+", last error code: "+f+", last http code: "+c+", last native code: "+a);b?(this.console.warn(" > Permanent failure, done"),this.Rg("Permanent failure","NFErr_MC_StreamingFailure",f,c,a)):this.NF()?(this.console.warn(" > We are buffering, calling it!"),this.Rg("Temporary failure while buffering","NFErr_MC_StreamingFailure",a,c,a)):(this.console.warn(" > Resetting failures"),this.Fh.xO());}};c.prototype.Hkb=function(){g.assert(this.qm&&this.zr,"Error handling not available on prefetch viewables.");this.Qe||(this.qm(),this.gp(),this.zr());};return c;}(d.rs);c.g1=a;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Df=[0,1];},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(50);h=a(2);c.iaa=function(a){return a===b.Uc.Uj.AUDIO?h.G.Ama:h.G.Bma;};c.E3=50;c.KXa=1E3;},function(d,c,a){var h,n,p,f,k,m,t,u,y,g,D,z,G;function b(a,b,c,h,d,t,p,n,u,y,g,E,D,z,l){this.j=a;this.bb=b;this.HA=c;this.cd=h;this.bu=d;this.s9=t;this.Zk=p;this.displayName=n;this.Am=u;this.mO=y;this.profile=g;this.Mo=E;this.oea=D;this.kgb=z;this.QM=l;this.type=f.Vg.p0;this.hp=void 0;this.sn=!(!g||g!=m.Al.OC&&g!=m.Al.lR);this.Lg={bcp47:p,trackId:b,downloadableId:h,isImageBased:this.sn};this.log=k.fh(a,"TimedTextTrack");this.state=G.mR;this.request=this.request.bind(this);}Object.defineProperty(c,"__esModule",{value:!0});h=a(0);n=a(65);p=a(12);f=a(80);k=a(5);m=a(61);t=a(18);u=a(365);y=a(15);g=a(713);D=a(13);z=a(2);(function(a){a[a.mR=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.vI=3]="LOAD_FAILED";}(G||(G={})));b.prototype.getEntries=function(){var a;a=this;if(this.j.state.value===D.mb.CLOSED||this.j.state.value===D.mb.CLOSING)return Promise.reject({aa:!1});if(this.sn)return this.hmb();this.Rwa||(this.Rwa=this.Qwa());return this.Rwa.then(function(b){return a.ktb(b);});};b.prototype.Vc=function(){return this.state;};b.prototype.TX=function(){return this.oea;};b.prototype.PX=function(){return this.kgb;};b.prototype.qx=function(a,b){var f;f=[];try{this.sn?f=this.ag&&this.ag.qx(a,b)||[]:this.entries&&(f=this.entries.filter(function(f){var c;c=Q([f.startTime,f.endTime]);f=c.next().value;c=c.next().value;return f>=a&&f<=b||f<=a&&a<=c;}));}catch(W){this.log.error("error in getSubtitles",W,{start:a,end:b,isImageBased:this.sn});}return f;};b.prototype.Sjb=function(){var a;if(!y.$b(this.S))try{this.S=this.sn?(a=this.qx(0,b.CTa)[0])&&a.displayTime:(a=this.entries&&this.entries[0])&&a.startTime;}catch(N){this.log.error("exception in getStartPts",N);}return this.S;};b.prototype.N_=function(a){return this.j.state.value===D.mb.CLOSING||this.j.state.value===D.mb.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.tc.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};b.prototype.hmb=function(){var a,b,f,c,m,h,d,t,n;a=this;if(!this.rBa){this.state=G.LOADING;b={p7a:!1,profile:this.profile,HY:this.Mo.offset,Uda:this.Mo.length,Oc:this.j.Yb.value||0,bufferSize:p.config.Klb,pVb:{Va:this.j.AW()}};f=k.fh(this.j,"TimedTextTrack");f.warn=f.trace.bind(f);f.info=f.debug.bind(f);c=g.Tbb(this.j,f,this.request);m=(this.s9||[]).filter(function(b){return b.id in a.bu;}).sort(function(a,b){return a.Pf-b.Pf;}).map(function(a){return a.id;});h=0;d={};t=!0;n=function(f,u){var g;if(y.$b(f))if(t||a.N_(a.vr(a.Lp,"","image"))){t=!1;a.Mo.url=a.bu[a.Lp];b.url=a.Mo.url;d[f]=(d[f]||0)+1;g=new k.YYa(c,b);g.on("ready",function(){a.ag=g;u({aa:!0,track:a});});g.on("error",function(b){var c;b=Object.assign({aa:!1},b);c=a.vr(a.Lp,a.Mo.url,"image");c.details={midxoffset:a.Mo.offset,midxsize:a.Mo.length};c.errorstring=b.errorString;d[f]<=p.config.$Ja?(a.$V(c,!0,"retry with current cdn"),a.i7(d[f]).then(function(b){a.log.trace("retry timed text download after "+b,a.vr(a.Lp,"","image"));n(a.Lp,u);})):(a.Lp=m[h++],a.Lp?(a.$V(c,!0,"retry with next cdn"),a.i7(d[f]).then(function(b){a.log.trace("retry timed text download after "+b,a.vr(a.Lp,"","image"));n(a.Lp,u);})):(a.$V(c,!1,"all cdns tried"),u({aa:!1,Xqb:"all cdns failed for image subs",track:a})));});g.start();}else u({aa:!1,Wq:!0});else u({aa:!1,Xqb:"cdnId is not defined for image subs downloadUrl"}),a.$V(a.vr(0,"","image"),!1,"cdnId is undefined");};this.Lp=m[h++];this.rBa=new Promise(function(b,f){n(a.Lp,function(c){c.aa?(a.log.info("Loaded image subtitle manager"),a.state=G.LOADED,b(c)):(a.log.error("Unable to load image subtitles manager",c),a.state=G.vI,f(c));});});}return this.rBa;};b.prototype.$V=function(a,b,f){a=Object.assign({},a,{tWb:b,status:f});this.j.fireEvent(D.T.sH,a);this.log.warn("subtitleerror event",a);};b.prototype.request=function(a,b){var f;f=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,hp:this.hp,responseType:n.rX,headers:{},ec:this.aaa(this.Lp)};this.j.sX.download(a,function(a){f.log.trace("imgsub: request status "+a.aa);a.aa?b(null,new Uint8Array(a.content)):b({da:a.da,Td:a.Td});});};b.prototype.vr=function(a,b,f){return{currentCdnId:a,url:b,profile:this.profile,dlid:this.cd,subtitletype:f,bcp47:this.Zk,trackId:this.bb,cdnCount:Object.keys(this.bu).length,isImageBased:this.sn};};b.prototype.aaa=function(a){return(this.s9||[]).find(function(b){return b.id===a;});};b.prototype.Qwa=function(){var c,k;function a(a){return h.__awaiter(c,void 0,void 0,function(){var m,h,d,t,p;function c(){for(;;)switch(m){case 0:d=f();h=t.vr(a.ec.id,a.url,"text");h.errorstring=a.reason;if(!d||!t.N_(h)){m=1;break;}m=-1;return{value:t.i7(k[d.id]).then(b),done:!0};case 1:return m=-1,{value:Promise.reject({aa:!1,Wq:!0}),done:!0};default:return{value:void 0,done:!0};}}m=0;t=this;p={next:function(){return c();},"throw":function(){return c();},"return":function(){throw Error("Not yet implemented");}};q();p[Symbol.iterator]=function(){return this;};return p;});}function b(){return h.__awaiter(c,void 0,void 0,function(){var c,m,h,d,t;function b(){for(;;)switch(c){case 0:m=(h=f())&&d.bu[h.id];if(!h||!m){c=1;break;}k[h.id]=(k[h.id]||0)+1;c=-1;return{value:d.zdb(m,h)["catch"](a),done:!0};case 1:return c=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}c=0;d=this;t={next:function(){return b();},"throw":function(){return b();},"return":function(){throw Error("Not yet implemented");}};q();t[Symbol.iterator]=function(){return this;};return t;});}function f(){return(c.s9||[]).find(function(a){return!!((k[a.id]||0)<p.config.$Ja&&c.bu[a.id]);});}c=this;this.state=G.LOADING;k={};return b();};b.prototype.i7=function(a){return new Promise(function(b){var f;f=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return b(f);},f);});};b.prototype.ktb=function(a){var b,f;b=this;f=this.j.LH;t.Ra(f);return u.jtb(a,f.width/f.height,p.config.aKa,p.config.iia).then(function(a){var f;if(p.config.bKa){f=0;b.entries=a.map(function(a){return Object.assign({},a,{startTime:f,endTime:f+=p.config.bKa});});}else b.entries=a;b.log.trace("Entries parsed",{Length:a.length},b.Lg);b.state=G.LOADED;return{aa:!0,entries:b.entries,track:b};})["catch"](function(a){b.log.error("Unable to parse timed text track",z.op(a),b.Lg,{url:a.url});b.state=G.vI;a.reason="parseerror";a.track=b;throw a;});};b.prototype.zdb=function(a,b){var f;f=this;this.log.trace("Downloading",b&&{ec:b.id},this.vr(b.id,a,"text"));return new Promise(function(c,k){var m;m={responseType:n.XAa,url:a,track:f,ec:b,gA:"tt-"+f.Zk};f.j.sX.download(m,function(a){a.aa?c(a.content):(a.reason="downloadfailed",a.url=m.url,a.track=f,a.ec=b,k(a));});});};c.aD=b;b.CTa=72E7;b.F3=G;},function(d,c,a){var h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});h=a(10);b.Faa=function(){var a;a=h.Fs&&h.Fs.height;return a?1080<=a?1080:720:720;};c.O3=b;},function(d){d.P=function(c,a){switch(c){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,c){return a.apply(this,arguments);};case 3:return function(b,c,d){return a.apply(this,arguments);};case 4:return function(b,c,d,p){return a.apply(this,arguments);};case 5:return function(b,c,d,p,f){return a.apply(this,arguments);};case 6:return function(b,c,d,p,f,k){return a.apply(this,arguments);};case 7:return function(b,c,d,p,f,k,m){return a.apply(this,arguments);};case 8:return function(b,c,d,p,f,k,m,t){return a.apply(this,arguments);};case 9:return function(b,c,d,p,f,k,m,t,u){return a.apply(this,arguments);};case 10:return function(b,c,d,p,f,k,m,t,u,y){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(d,c,a){var n,p,f,k;function b(a,b,f){for(var c=f.next();!c.done;){if((b=a["@@transducer/step"](b,c.value))&&b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}c=f.next();}return a["@@transducer/result"](b);}function h(a,b,c,k){return a["@@transducer/result"](c[k](f(a["@@transducer/step"],a),b));}n=a(900);p=a(898);f=a(897);g();g();q();k="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";d.P=function(a,f,c){"function"===typeof a&&(a=p(a));if(n(c)){for(var m=0,d=c.length;m<d;){if((f=a["@@transducer/step"](f,c[m]))&&f["@@transducer/reduced"]){f=f["@@transducer/value"];break;}m+=1;}return a["@@transducer/result"](f);}if("function"===typeof c["fantasy-land/reduce"])return h(a,f,c,"fantasy-land/reduce");if(null!=c[k])return b(a,f,c[k]());if("function"===typeof c.next)return b(a,f,c);if("function"===typeof c.reduce)return h(a,f,c,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(d){d.P=function(c,a){return Object.prototype.hasOwnProperty.call(a,c);};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.PR="TransportConfigSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.p1="BookmarkSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.Jy||(c.Jy={});d.JZa="unknown";d.ija="absent";d.voa="present";d.Error="error";c.Zka="ExternalDisplayLogHelperSymbol";},function(d,c,a){var h,n,p;function b(){this.type=h.Cy.Uy;}Object.defineProperty(c,"__esModule",{value:!0});h=a(32);d=a(103);n=a(147);p=new d.dz();b.x8=function(){return{isTypeSupported:function(a){var f;try{if(-1==a.toLowerCase().indexOf("codec"))return L.MSMediaKeys.isTypeSupported(a,"video/mp4");f=a.split("|");return 1===f.length?L.MSMediaKeys.isTypeSupported(n.ob.Jq,a):"probably"===b.Uha(f[0],f[1]);}catch(m){return!1;}}};};b.TU=function(a,c,m){c=p.format(b.FH,c);if(0===m.length)return c;m=p.format('features="{0}"',m.join());return p.format("{0}|{1}{2}",a,c,m);};b.Uha=function(a,b){var f;try{f=L.MSMediaKeys.isTypeSupportedWithFeatures?L.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(t){f="exception";}return f;};c.Vy=b;b.FH='video/mp4;codecs="{0},mp4a";';},function(d,c,a){var h,n,p,f,k,m;function b(a,c,k,d){var h;h=n.Cm.call(this,a,c,k)||this;h.cast=d;h.type=p.Ok.v1;a=b.AZa;h.QP[p.Bd.QR]=f.Kd.hI+"; "+a;h.QP[p.Bd.zs]=f.Kd.zs+"; "+a;a=f.Kd.eOa.find(function(a){return h.Nt(m(b.FH,a));});h.QP[p.Bd.vs]=a;return h;}Object.defineProperty(c,"__esModule",{value:!0});h=a(61);n=a(137);p=a(32);d=a(103);f=a(138);k=a(449);m=new d.dz().format;da(b,n.Cm);b.x8=function(a,f){return(f=b.CHa(f))?{isTypeSupported:f}:a;};b.CHa=function(a){if("undefined"!==typeof a)return a.framework&&a.framework.platform&&a.framework.platform.canDisplayType?a.framework.platform.canDisplayType:a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType||void 0;};b.prototype.cs=function(a){var c,k;c=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().eLa){k={};if(c)return k[p.Ci.Fq]="1.4",k[p.Ci.Qy]="2.2",c().then(function(b){return b===k[a];});c=this.fDa(a);c=m(b.FH,f.Kd.hI)+" hdcp="+c;c=this.Nt.bind(this,c);return Promise.resolve(c());}return Promise.resolve(!1);};b.prototype.pF=function(a){return this.QP[a];};b.prototype.xF=function(){var a;a=this;return this.config().eLa?this.cs(p.Ci.Qy).then(function(b){return b?Promise.resolve(p.Ci.Qy):a.cs(p.Ci.Fq).then(function(a){return a?Promise.resolve(p.Ci.Fq):Promise.resolve(void 0);});}).then(function(b){return a.nL(b);}):Promise.resolve(void 0);};b.prototype.bA=function(){var a,f;a=n.Cm.prototype.bA.call(this);f=b.OAa;a[h.V.JQ]=["avc1.4D4028","width=1920; height=1080; "];a[h.V.X1]=["hev1.2.6.L90.B0",f];a[h.V.Y1]=["hev1.2.6.L93.B0",f];a[h.V.Z1]=["hev1.2.6.L120.B0",f];a[h.V.a2]=["hev1.2.6.L123.B0",f];a[h.V.b2]=["hev1.2.6.L150.B0","width=3840; height=2160; "+f];a[h.V.c2]=["hev1.2.6.L153.B0","width=3840; height=2160; "+f];a[h.V.jI]=["hev1.2.6.L90.B0",f];a[h.V.kI]=["hev1.2.6.L93.B0",f];a[h.V.DC]=["hev1.2.6.L120.B0",f];a[h.V.lI]=["hev1.2.6.L123.B0",f];a[h.V.LQ]=["hev1.2.6.L150.B0","width=3840; height=2160; "+f];a[h.V.MQ]=["hev1.2.6.L153.B0","width=3840; height=2160; "+f];a[h.V.i2]="hev1.1.6.L90.B0";a[h.V.j2]="hev1.1.6.L93.B0";a[h.V.k2]="hev1.1.6.L120.B0";a[h.V.l2]="hev1.1.6.L123.B0";a[h.V.m2]=["hev1.1.6.L150.B0","width=3840; height=2160; "];a[h.V.n2]=["hev1.1.6.L153.B0","width=3840; height=2160; "];a[h.V.e2]="hev1.2.6.L90.B0";a[h.V.f2]="hev1.2.6.L93.B0";a[h.V.g2]="hev1.2.6.L120.B0";a[h.V.h2]="hev1.2.6.L123.B0";a[h.V.EC]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[h.V.FC]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[h.V.RQ]="hev1.2.6.L90.B0";a[h.V.TQ]="hev1.2.6.L93.B0";a[h.V.VQ]="hev1.2.6.L120.B0";a[h.V.XQ]="hev1.2.6.L123.B0";a[h.V.YQ]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[h.V.ZQ]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return a;};b.prototype.Sya=function(){return[k.wh.YP,k.wh.gI,k.wh.CC];};b.prototype.$ba=function(){n.Cm.prototype.$ba.call(this);!b.CHa(this.cast)&&this.ml.push(k.wh.zs);};c.Pja=b;b.OAa="eotf=smpte2084";b.bSb="video/mp4;codecs={0}; "+b.OAa;b.AZa="width=3840; height=2160; ";c.w1="CastSDKSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.ama="IsTypeSupportedProviderFactorySymbol";c.boa="PlatformIsTypeSupportedSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.upa="ThroughputTrackerSymbol";c.R3="ThroughputTrackerFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.q3="PboPlaydataFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.J3="SegmentManagerFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.N2="MomentObserverFactory";},function(d,c,a){var h,n,p;function b(a,b,c,h){this.ta=a;this.Kt=b;this.rl=c;this.Nl=void 0===h?"General":h;this.f8={};}Object.defineProperty(c,"__esModule",{value:!0});h=a(8);n=a(461);p=a(962);b.prototype.y6=function(a,b){this.f8[a]=b;};b.prototype.fatal=function(a,b){for(var f=[],c=1;c<arguments.length;++c)f[c-1]=arguments[c];this.ww(h.Di.WQa,a,p.yE(this.Kt,this.qF(f)));};b.prototype.error=function(a,b){for(var f=[],c=1;c<arguments.length;++c)f[c-1]=arguments[c];this.ww(h.Di.ERROR,a,p.yE(this.Kt,this.qF(f)));};b.prototype.warn=function(a,b){for(var f=[],c=1;c<arguments.length;++c)f[c-1]=arguments[c];this.ww(h.Di.X3,a,p.yE(this.Kt,this.qF(f)));};b.prototype.info=function(a,b){for(var f=[],c=1;c<arguments.length;++c)f[c-1]=arguments[c];this.ww(h.Di.w2,a,p.yE(this.Kt,this.qF(f)));};b.prototype.trace=function(a,b){for(var f=[],c=1;c<arguments.length;++c)f[c-1]=arguments[c];this.ww(h.Di.ppa,a,p.yE(this.Kt,this.qF(f)));};b.prototype.debug=function(a,b){for(var f=1;f<arguments.length;++f);};b.prototype.log=function(a,b){for(var f=1;f<arguments.length;++f);this.debug.apply(this,arguments);};b.prototype.write=function(a,b,c){for(var f=[],k=2;k<arguments.length;++k)f[k-2]=arguments[k];this.ww(a,b,p.yE(this.Kt,this.qF(f)));};b.prototype.toString=function(){return JSON.stringify(this);};b.prototype.toJSON=function(){return{category:this.Nl};};b.prototype.D8=function(a){return new b(this.ta,this.Kt,this.rl,a);};b.prototype.ww=function(a,b,c){a=new n.pma(a,this.Nl,this.ta.gc(),b,c);b=Q(this.rl.rl);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};b.prototype.qF=function(a){return 0<Object.keys(this.f8).length?[].concat([this.f8],fa(a)):a;};c.xI=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.hz="_ANY_";c.Wka="EnricherSymbol";},function(d){var m,t,u,y,g,D;function c(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function b(a){if(m===setTimeout)return setTimeout(a,0);if((m===c||!m)&&setTimeout)return m=setTimeout,setTimeout(a,0);try{return m(a,0);}catch(G){try{return m.call(null,a,0);}catch(M){return m.call(this,a,0);}}}function h(b){if(t===clearTimeout)clearTimeout(b);else if(t!==a&&t||!clearTimeout)try{t(b);}catch(G){try{t.call(null,b);}catch(M){t.call(this,b);}}else t=clearTimeout,clearTimeout(b);}function n(){y&&g&&(y=!1,g.length?u=g.concat(u):D=-1,u.length&&p());}function p(){var a;if(!y){a=b(n);y=!0;for(var f=u.length;f;){g=u;for(u=[];++D<f;)g&&g[D].XG();D=-1;f=u.length;}g=null;y=!1;h(a);}}function f(a,b){this.Bgb=a;this.bk=b;}function k(){}d=d.P={};try{m="function"===typeof setTimeout?setTimeout:c;}catch(z){m=c;}try{t="function"===typeof clearTimeout?clearTimeout:a;}catch(z){t=a;}u=[];y=!1;D=-1;d.pEa=function(a){var c;c=Array(arguments.length-1);if(1<arguments.length)for(var k=1;k<arguments.length;k++)c[k-1]=arguments[k];u.push(new f(a,c));1!==u.length||y||b(p);};f.prototype.XG=function(){this.Bgb.apply(null,this.bk);};d.title="browser";d.jPb=!0;d.Teb={};d.POb=[];d.version="";d.jWb={};d.on=k;d.addListener=k;d.once=k;d.QEa=k;d.removeListener=k;d.removeAllListeners=k;d.emit=k;d.iGa=k;d.avb=k;d.listeners=function(){return[];};d.ePb=function(){throw Error("process.binding is not supported");};d.$Pb=function(){return"/";};d.DPb=function(){throw Error("process.chdir is not supported");};d.ZVb=function(){return 0;};},function(d,c,a){var h,n;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);a=a(1);h={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};b.prototype.decode=function(a){for(var b=new Uint8Array(a.length/2),c=0;c<b.length;c++)b[c]=this.iKa(a.substr(2*c,2));return b;};b.prototype.encode=function(a){for(var b="",c=a.length,m=0;m<c;m++)var h=a[m],b=b+("0123456789ABCDEF"[h>>>4]+"0123456789ABCDEF"[h&15]);return b;};b.prototype.aM=function(a,b){var f;f="";for(b<<=1;b--;)f=("0123456789ABCDEF"[a&15]||"0")+f,a>>>=4;return f;};b.prototype.iKa=function(a){var b;b=a.length;if(7<b)throw Error("hex to long");for(var c=0,m=0;m<b;m++)c=16*c+h[a[m]];return c;};n=b;n=d.__decorate([a.N()],n);c.m1=n;},function(d,c,a){var h,n,p,f,k,m,t,u,y,g,D;function b(a,b,f,c,k,m){this.BN=a;this.is=b;this.Lc=f;this.Pc=c;this.Ce=k;this.Th=m;p.xn(this,"nav");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);n=a(1);p=a(55);f=a(2);k=a(29);m=a(23);t=a(93);u=a(22);y=a(41);g=a(54);a=a(104);b.prototype.px=function(){if(this.Ya)return this.Ya.sessionId;};b.prototype.xxb=function(a,b){return this.BN.requestMediaKeySystemAccess(a,b);};b.prototype.Gbb=function(a){return a.createMediaKeys();};b.prototype.cn=function(a,b){this.Ya=a.createSession(b);};b.prototype.anb=function(){return!!this.Ya;};b.prototype.Tzb=function(a,b){return this.is.UT(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};b.prototype.S$=function(a,b){return this.Ya?this.Ya.generateRequest(a,b[0]):Promise.reject(new t.Uf(f.K.Kka,f.G.dI,void 0,"Unable to generate a license request, key session is not valid"));};b.prototype.update=function(a){return this.Ya?this.Ya.update(a[0]):Promise.reject(new t.Uf(f.K.BQ,f.G.dI,void 0,"Unable to update the EME with a response, key session is not valid"));};b.prototype.load=function(a){return this.Ya?this.Ya.load(a):Promise.reject(new t.Uf(f.K.uQa,f.G.dI,void 0,"Unable to load a key session, key session is not valid"));};b.prototype.close=function(){var a;if(!this.Ya)return Promise.reject(new t.Uf(f.K.nQa,f.G.dI,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.px()&&(a=this.Ya.close());this.Ya=void 0;return a;};b.prototype.remove=function(){return this.Ya?this.Ya.remove():Promise.reject(new t.Uf(f.K.Oka,f.G.dI,void 0,"Unable to remove a key session, key session is not valid"));};b.prototype.tO=function(){return Promise.reject(new t.Uf(f.K.AQ,void 0,"Unable to renew a key session, not supported"));};b.prototype.v5a=function(a){if(!this.Ya)throw ReferenceError("Unable to add message handler, key session is not valid");this.Ya.addEventListener(h.Tka,a);};b.prototype.p5a=function(a){if(!this.Ya)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Ya.addEventListener(h.Ska,a);};b.prototype.j5a=function(a){if(!this.Ya)throw ReferenceError("Unable to add error handler, key session is not valid");this.Ya.addEventListener(h.Rka,a);};b.prototype.bxb=function(a){if(!this.Ya)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Ya.removeEventListener(h.Tka,a);};b.prototype.Zwb=function(a){if(!this.Ya)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Ya.removeEventListener(h.Ska,a);};b.prototype.Xwb=function(a){if(!this.Ya)throw ReferenceError("Unable to remove error handler, key session is not valid");this.Ya.removeEventListener(h.Rka,a);};D=h=b;D.Tka="message";D.Ska="keystatuseschange";D.Rka="error";D=h=d.__decorate([n.N(),d.__param(0,n.l(k.Ov)),d.__param(1,n.l(m.Oe)),d.__param(2,n.l(y.Rj)),d.__param(3,n.l(u.hf)),d.__param(4,n.l(g.Dm)),d.__param(5,n.l(a.gz))],D);c.Js=D;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Iv='video/mp4; codecs="avc1.640028"';c.MC='audio/mp4; codecs="mp4a.40.5"';c.hQa="DrmTraitsSymbol";},function(d,c,a){var b,h;b=a(485);h=a(1082);c.Nx=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.fG(h.Clb,null,a);};},function(d,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function c(b,f){a.call(this);this.value=b;this.la=f;this.Ys=!0;f&&(this.Ys=!1);}b(c,a);c.create=function(a,b){return new c(a,b);};c.Pb=function(a){var b,c;b=a.value;c=a.gg;a.done?c.complete():(c.next(b),c.closed||(a.done=!0,this.Eb(a)));};c.prototype.Hg=function(a){var b,k;b=this.value;k=this.la;if(k)return k.Eb(c.Pb,0,{done:!1,value:b,gg:a});a.next(b);a.closed||a.complete();};return c;}(a(9).Ba);c.I3=d;},function(d,c,a){a(9);d=function(){function a(a,b,c){this.kind=a;this.value=b;this.error=c;this.Wp="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.BL=function(a,b,c){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return c&&c();}};a.prototype.accept=function(a,b,c){return a&&"function"===typeof a.next?this.observe(a):this.BL(a,b,c);};a.A8=function(b){return"undefined"!==typeof b?new a("N",b):a.vDb;};a.Hva=function(b){return new a("E",void 0,b);};a.w8=function(){return a.U9a;};a.U9a=new a("C");a.vDb=new a("N",void 0);return a;}();c.Notification=d;},function(d,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function c(){a.apply(this,arguments);this.Wk=[];this.active=!1;}b(c,a);c.prototype.flush=function(a){var b,c;b=this.Wk;if(this.active)b.push(a);else{this.active=!0;do if(c=a.qf(a.state,a.Rd))break;while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();)a.unsubscribe();throw c;}}};return c;}(a(1097).vYa);c.j1=d;},function(d,c,a){var b,h;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};h=a(82);d=function(a){function c(b,c){a.call(this,b,c);this.la=b;this.UN=!1;this.UP=c;}b(c,a);c.prototype.Eb=function(a,b){var f;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.UN=!0;a=this.id;f=this.la;null!=a&&(this.id=this.ZZ(f,a,b));this.Rd=b;this.id=this.id||this.h_(f,this.id,b);return this;};c.prototype.h_=function(a,b,c){void 0===c&&(c=0);return h.root.setInterval(a.flush.bind(a,this),c);};c.prototype.ZZ=function(a,b,c){void 0===c&&(c=0);return null!==c&&this.Rd===c&&!1===this.UN?b:(h.root.clearInterval(b),void 0);};c.prototype.qf=function(a,b){if(this.closed)return Error("executing a cancelled action");this.UN=!1;if(a=this.CS(a,b))return a;!1===this.UN&&null!=this.id&&(this.id=this.ZZ(this.la,this.id,null));};c.prototype.CS=function(a){var b,f;b=!1;f=void 0;try{this.UP(a);}catch(t){b=!0;f=!!t&&t||Error(t);}if(b)return this.unsubscribe(),f;};c.prototype.tt=function(){var a,b,c,d;a=this.id;b=this.la;c=b.Wk;d=c.indexOf(this);this.state=this.UP=null;this.UN=!1;this.la=null;-1!==d&&c.splice(d,1);null!=a&&(this.id=this.ZZ(b,a,null));this.Rd=null;};return c;}(a(1099).nMa);c.h1=d;},function(d,c,a){function b(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}d=a(82);c.VRb=b;c.observable=b(d.root);c.EFb=c.observable;},function(d,c,a){d=a(82).root.Symbol;c.GB="function"===typeof d&&"function"===typeof d["for"]?d["for"]("rxSubscriber"):"@@rxSubscriber";c.FFb=c.GB;},function(d,c){c.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.u1="CannedChallengeProvider";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.t1="CachedDrmDataSymbol";},function(d,c,a){var n;function b(){}function h(a){a?(this.active=!1,this.P$(a)):this.active=!0;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);a=a(1);h.prototype.P$=function(a){this.oc=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,Dx:a.licenseContextId,VF:a.licenseId};}):[];this.ga=a.xid;this.u=a.movieId;};h.prototype.hs=function(){return JSON.parse(JSON.stringify({keySessionData:this.oc?this.oc.map(function(a){return{id:a.id,licenseContextId:a.Dx,licenseId:a.VF};}):[],xid:this.ga,movieId:this.u}));};c.L1=h;b.prototype.create=function(){return new h();};b.prototype.load=function(a){return new h(a);};n=b;n=d.__decorate([a.N()],n);c.dQa=n;},function(d,c,a){var b,h,n,p,f,k,m,t,u,y,g;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(122);h=a(507);n=a(270);p=a(269);f=a(1120);k=a(1119);m=a(106);t=a(145);u=a(1118);y=a(268);g=a(1117);c.eme=new d.Bc(function(a){a(h.Bka).to(n.dQa).Z();a(p.t1).to(f.aOa).Z();a(b.zQ).tP(k.Cvb);a(m.Jv).uy(function(a){c.HL.parent=a.hb;return c.HL.get(m.Jv);});a(t.CI).cf(function(){return function(){return new u.wUa();};});a(y.u1).to(g.cOa).Z;});c.HL=new d.sQ({PB:!0});},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.t3="PlatformEmeSymbol";},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(274);a(512);d=function(){function a(a){this.Kb=a;}a.prototype.when=function(a){this.Kb.$z=a;return new b.gQ(this.Kb);};a.prototype.SP=function(){this.Kb.$z=function(a){return null!==a.target&&!a.target.hca()&&!a.target.nca();};return new b.gQ(this.Kb);};return a;}();c.o1=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(273);d=function(){function a(a){this.Kb=a;}a.prototype.Nr=function(a){this.Kb.Nr=a;return new b.o1(this.Kb);};return a;}();c.gQ=d;},function(d,c,a){var n,p,f,k,m,t,u,y,E;function b(a){var b;b=[];u(a,y,function(a,f,c,k){b[b.length]=c?u(k,E,"$1"):f||a;});return b;}function h(){throw new n();}n=TypeError;p=Object.getOwnPropertyDescriptor;if(p)try{p({},"");}catch(D){p=null;}c=p?function(){try{return arguments.callee,h;}catch(D){try{return p(arguments,"callee").get;}catch(z){return h;}}}():h;f=a(1153)();k=Object.getPrototypeOf||function(a){return a.__proto__;};m="undefined"===typeof Uint8Array?void 0:k(Uint8Array);g();q();g();g();g();q();g();q();g();q();g();q();g();g();t={"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":f?k([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":void 0,"%Atomics%":"undefined"===typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"===typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"===typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"===typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"===typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"===typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"===typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"===typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"===typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"===typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"===typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"===typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"===typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?k(k([][Symbol.iterator]())):void 0,"%JSON%":"object"===typeof JSON?JSON:void 0,"%JSONParse%":"object"===typeof JSON?JSON.parse:void 0,"%Map%":"undefined"===typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f?k(new Map()[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"===typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"===typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"===typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"===typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"===typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"===typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"===typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"===typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"===typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f?k(new Set()[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"===typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":f?k(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":f?Symbol:void 0,"%SymbolPrototype%":f?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":c,"%TypedArray%":m,"%TypedArrayPrototype%":m?m.prototype:void 0,"%TypeError%":n,"%TypeErrorPrototype%":n.prototype,"%Uint8Array%":"undefined"===typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"===typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"===typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"===typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"===typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"===typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"===typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"===typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"===typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"===typeof WeakSet?void 0:WeakSet.prototype};u=a(276).call(Function.call,String.prototype.replace);y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;E=/\\(\\)?/g;d.P=function(a,f){var c,k,d;if("string"!==typeof a||0===a.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!==typeof f)throw new TypeError('"allowMissing" argument must be a boolean');c=b(a);k="%"+(0<c.length?c[0]:"")+"%";if(!(k in t))throw new SyntaxError("intrinsic "+k+" does not exist!");if("undefined"===typeof t[k]&&!f)throw new n("intrinsic "+k+" exists, but is not available. Please file an issue!");k=t[k];for(var m=1;m<c.length;m+=1)if(null!=k)if(p&&m+1>=c.length){d=p(k,c[m]);if(!(f||c[m]in k))throw new n("base intrinsic for "+a+" exists, but the property is not available.");k=d?d.get||d.value:k[c[m]];}else k=k[c[m]];return k;};},function(d,c,a){c=a(1156);d.P=Function.prototype.bind||c;},function(d,c,a){var p;function b(a,b,c,d,h,p,n){this.JP=d;this.KLa=a;this.sEa=b;this.Yda=c;this.onb=p;this.iy=n;this.split=h;}function h(){this.H={};this.H["0"]=new b("1","2","1","14","-0.0000100136",0,0);this.H["1"]=new b("3","4","3","20","-0.0000100136",0,0);this.H["3"]=new b("7","8","7","10","1.5",0,0);this.H["7"]=new b("15","16","15","9","4.5",0,0);this.H["15"]=new b("31","32","31","2","5.5",0,0);this.H["31"]=new b("63","64","63","29","-0.0000100136",0,0);this.H["63"]=new b("123","124","123","24","-0.0000100136",0,0);this.H["123"]=new b("123","124","123","0","0",1,.207298);this.H["124"]=new b("123","124","123","0","0",1,.49076);this.H["64"]=new b("125","126","125","4","40.5",0,0);this.H["125"]=new b("125","126","125","0","0",1,-.00157835);this.H["126"]=new b("125","126","125","0","0",1,.934205);this.H["32"]=new b("65","66","65","135","5.5",0,0);this.H["65"]=new b("127","128","128","4","1272.5",0,0);this.H["127"]=new b("127","128","128","0","0",1,-.510333);this.H["128"]=new b("127","128","128","0","0",1,.18363);this.H["66"]=new b("129","130","129","24","-0.0000100136",0,0);this.H["129"]=new b("129","130","129","0","0",1,-.0464542);this.H["130"]=new b("129","130","129","0","0",1,.458833);this.H["16"]=new b("33","34","34","10","2.00001",0,0);this.H["33"]=new b("67","68","67","0","29.5",0,0);this.H["67"]=new b("131","132","131","2","39.5",0,0);this.H["131"]=new b("131","132","131","0","0",1,-.37577);this.H["132"]=new b("131","132","131","0","0",1,.512087);this.H["68"]=new b("133","134","134","140","1.5",0,0);this.H["133"]=new b("133","134","134","0","0",1,.321272);this.H["134"]=new b("133","134","134","0","0",1,-.675396);this.H["34"]=new b("69","70","70","2","24.5",0,0);this.H["69"]=new b("135","136","136","9","28.5",0,0);this.H["135"]=new b("135","136","136","0","0",1,-.0573845);this.H["136"]=new b("135","136","136","0","0",1,-.507455);this.H["70"]=new b("137","138","137","45","-0.0000100136",0,0);this.H["137"]=new b("137","138","137","0","0",1,-.503909);this.H["138"]=new b("137","138","137","0","0",1,.450886);this.H["8"]=new b("17","18","17","4","44189.5",0,0);this.H["17"]=new b("35","36","35","2","21.5",0,0);this.H["35"]=new b("71","72","72","0","19.5",0,0);this.H["71"]=new b("139","140","140","9","2.5",0,0);this.H["139"]=new b("139","140","140","0","0",1,.00403497);this.H["140"]=new b("139","140","140","0","0",1,-.312656);this.H["72"]=new b("141","142","141","135","96",0,0);this.H["141"]=new b("141","142","141","0","0",1,-.465786);this.H["142"]=new b("141","142","141","0","0",1,.159633);this.H["36"]=new b("73","74","73","130","89.5",0,0);this.H["73"]=new b("143","144","144","10","4.5",0,0);this.H["143"]=new b("143","144","144","0","0",1,-.76265);this.H["144"]=new b("143","144","144","0","0",1,-.580804);this.H["74"]=new b("145","146","146","10","16.5",0,0);this.H["145"]=new b("145","146","146","0","0",1,.296357);this.H["146"]=new b("145","146","146","0","0",1,-.691659);this.H["18"]=new b("37","38","38","9","1.5",0,0);this.H["37"]=new b("37","38","38","0","0",1,.993951);this.H["38"]=new b("75","76","75","0","19",0,0);this.H["75"]=new b("147","148","147","39","-0.0000100136",0,0);this.H["147"]=new b("147","148","147","0","0",1,-.346535);this.H["148"]=new b("147","148","147","0","0",1,-.995745);this.H["76"]=new b("147","148","147","0","0",1,-.99978);this.H["4"]=new b("9","10","9","5","4.5",0,0);this.H["9"]=new b("19","20","19","2","4.5",0,0);this.H["19"]=new b("39","40","39","140","7.5",0,0);this.H["39"]=new b("77","78","78","134","6.5",0,0);this.H["77"]=new b("149","150","150","7","11.5",0,0);this.H["149"]=new b("149","150","150","0","0",1,.729843);this.H["150"]=new b("149","150","150","0","0",1,.383857);this.H["78"]=new b("151","152","151","133","4.5",0,0);this.H["151"]=new b("151","152","151","0","0",1,.39017);this.H["152"]=new b("151","152","151","0","0",1,.0434342);this.H["40"]=new b("79","80","79","133","3.5",0,0);this.H["79"]=new b("153","154","154","8","4.5",0,0);this.H["153"]=new b("153","154","154","0","0",1,-.99536);this.H["154"]=new b("153","154","154","0","0",1,-.00943396);this.H["80"]=new b("155","156","155","125","-0.0000100136",0,0);this.H["155"]=new b("155","156","155","0","0",1,.266272);this.H["156"]=new b("155","156","155","0","0",1,.959904);this.H["20"]=new b("41","42","42","10","65.5",0,0);this.H["41"]=new b("81","82","82","7","10.5",0,0);this.H["81"]=new b("157","158","158","2","37.5",0,0);this.H["157"]=new b("157","158","158","0","0",1,-.701873);this.H["158"]=new b("157","158","158","0","0",1,.224649);this.H["82"]=new b("159","160","159","133","9.5",0,0);this.H["159"]=new b("159","160","159","0","0",1,.0955181);this.H["160"]=new b("159","160","159","0","0",1,-.58962);this.H["42"]=new b("83","84","83","39","-0.0000100136",0,0);this.H["83"]=new b("161","162","161","135","31",0,0);this.H["161"]=new b("161","162","161","0","0",1,-.229692);this.H["162"]=new b("161","162","161","0","0",1,.88595);this.H["84"]=new b("163","164","164","1","13.5",0,0);this.H["163"]=new b("163","164","164","0","0",1,-.992157);this.H["164"]=new b("163","164","164","0","0",1,.922159);this.H["10"]=new b("21","22","22","4","486",0,0);this.H["21"]=new b("43","44","44","133","4.5",0,0);this.H["43"]=new b("85","86","86","10","4.5",0,0);this.H["85"]=new b("165","166","166","4","158.5",0,0);this.H["165"]=new b("165","166","166","0","0",1,-.127778);this.H["166"]=new b("165","166","166","0","0",1,.955189);this.H["86"]=new b("165","166","166","0","0",1,-.994012);this.H["44"]=new b("87","88","88","1","3.5",0,0);this.H["87"]=new b("167","168","168","135","7",0,0);this.H["167"]=new b("167","168","168","0","0",1,-.997015);this.H["168"]=new b("167","168","168","0","0",1,.400821);this.H["88"]=new b("169","170","169","130","36",0,0);this.H["169"]=new b("169","170","169","0","0",1,-.898638);this.H["170"]=new b("169","170","169","0","0",1,.56129);this.H["22"]=new b("45","46","45","9","2.5",0,0);this.H["45"]=new b("89","90","90","9","1.5",0,0);this.H["89"]=new b("171","172","171","10","10.5",0,0);this.H["171"]=new b("171","172","171","0","0",1,.573986);this.H["172"]=new b("171","172","171","0","0",1,-.627266);this.H["90"]=new b("173","174","173","31","-0.0000100136",0,0);this.H["173"]=new b("173","174","173","0","0",1,.925273);this.H["174"]=new b("173","174","173","0","0",1,-.994805);this.H["46"]=new b("91","92","91","136","5.5",0,0);this.H["91"]=new b("175","176","175","10","10.5",0,0);this.H["175"]=new b("175","176","175","0","0",1,.548352);this.H["176"]=new b("175","176","175","0","0",1,-.879195);this.H["92"]=new b("177","178","178","8","14.5",0,0);this.H["177"]=new b("177","178","178","0","0",1,.457305);this.H["178"]=new b("177","178","178","0","0",1,-.998992);this.H["2"]=new b("5","6","5","10","2.5",0,0);this.H["5"]=new b("11","12","11","9","4.5",0,0);this.H["11"]=new b("23","24","24","10","4.00001",0,0);this.H["23"]=new b("47","48","48","133","5.5",0,0);this.H["47"]=new b("93","94","93","3","13.5",0,0);this.H["93"]=new b("179","180","179","138","15.5",0,0);this.H["179"]=new b("179","180","179","0","0",1,.658398);this.H["180"]=new b("179","180","179","0","0",1,-.927007);this.H["94"]=new b("181","182","182","3","15.5",0,0);this.H["181"]=new b("181","182","182","0","0",1,-.111351);this.H["182"]=new b("181","182","182","0","0",1,-.99827);this.H["48"]=new b("95","96","95","7","167",0,0);this.H["95"]=new b("183","184","183","132","36.5",0,0);this.H["183"]=new b("183","184","183","0","0",1,.895161);this.H["184"]=new b("183","184","183","0","0",1,-.765217);this.H["96"]=new b("185","186","186","137","6.00001",0,0);this.H["185"]=new b("185","186","186","0","0",1,-.851095);this.H["186"]=new b("185","186","186","0","0",1,.674286);this.H["24"]=new b("49","50","49","137","5.5",0,0);this.H["49"]=new b("97","98","97","5","23.5",0,0);this.H["97"]=new b("187","188","187","3","28.5",0,0);this.H["187"]=new b("187","188","187","0","0",1,.951654);this.H["188"]=new b("187","188","187","0","0",1,-.993808);this.H["98"]=new b("187","188","187","0","0",1,-.99705);this.H["50"]=new b("187","188","187","0","0",1,-.997525);this.H["12"]=new b("25","26","25","8","8.5",0,0);this.H["25"]=new b("51","52","52","10","4.00001",0,0);this.H["51"]=new b("99","100","100","133","5.5",0,0);this.H["99"]=new b("189","190","190","7","40.5",0,0);this.H["189"]=new b("189","190","190","0","0",1,.151839);this.H["190"]=new b("189","190","190","0","0",1,-.855517);this.H["100"]=new b("191","192","192","133","14.5",0,0);this.H["191"]=new b("191","192","192","0","0",1,.86223);this.H["192"]=new b("191","192","192","0","0",1,.544394);this.H["52"]=new b("101","102","101","135","47.5",0,0);this.H["101"]=new b("193","194","194","4","24.5",0,0);this.H["193"]=new b("193","194","194","0","0",1,.946185);this.H["194"]=new b("193","194","194","0","0",1,.811859);this.H["102"]=new b("193","194","194","0","0",1,-.991561);this.H["26"]=new b("53","54","54","132","6.5",0,0);this.H["53"]=new b("103","104","103","131","85",0,0);this.H["103"]=new b("195","196","196","134","16.5",0,0);this.H["195"]=new b("195","196","196","0","0",1,.0473538);this.H["196"]=new b("195","196","196","0","0",1,-.999401);this.H["104"]=new b("197","198","198","8","15.5",0,0);this.H["197"]=new b("197","198","198","0","0",1,.816129);this.H["198"]=new b("197","198","198","0","0",1,-.99322);this.H["54"]=new b("105","106","105","133","3.5",0,0);this.H["105"]=new b("105","106","105","0","0",1,-.998783);this.H["106"]=new b("199","200","199","39","-0.0000100136",0,0);this.H["199"]=new b("199","200","199","0","0",1,.528588);this.H["200"]=new b("199","200","199","0","0",1,-.998599);this.H["6"]=new b("13","14","14","10","7.5",0,0);this.H["13"]=new b("27","28","28","133","7.5",0,0);this.H["27"]=new b("55","56","56","10","4.5",0,0);this.H["55"]=new b("107","108","107","3","3.5",0,0);this.H["107"]=new b("201","202","201","4","17.5",0,0);this.H["201"]=new b("201","202","201","0","0",1,-.379512);this.H["202"]=new b("201","202","201","0","0",1,.15165);this.H["108"]=new b("203","204","203","57","-0.0000100136",0,0);this.H["203"]=new b("203","204","203","0","0",1,-.884606);this.H["204"]=new b("203","204","203","0","0",1,.265406);this.H["56"]=new b("109","110","109","136","6.5",0,0);this.H["109"]=new b("205","206","205","4","157.5",0,0);this.H["205"]=new b("205","206","205","0","0",1,-.0142737);this.H["206"]=new b("205","206","205","0","0",1,.691279);this.H["110"]=new b("205","206","205","0","0",1,-.998086);this.H["28"]=new b("57","58","58","138","11.5",0,0);this.H["57"]=new b("111","112","112","2","6.5",0,0);this.H["111"]=new b("207","208","208","7","67.5",0,0);this.H["207"]=new b("207","208","208","0","0",1,.763925);this.H["208"]=new b("207","208","208","0","0",1,-.309645);this.H["112"]=new b("209","210","209","40","-0.0000100136",0,0);this.H["209"]=new b("209","210","209","0","0",1,-.306635);this.H["210"]=new b("209","210","209","0","0",1,.556696);this.H["58"]=new b("113","114","113","138","50.5",0,0);this.H["113"]=new b("211","212","212","8","25.5",0,0);this.H["211"]=new b("211","212","212","0","0",1,.508234);this.H["212"]=new b("211","212","212","0","0",1,.793551);this.H["114"]=new b("211","212","212","0","0",1,-.998438);this.H["14"]=new b("29","30","29","134","27.5",0,0);this.H["29"]=new b("59","60","60","7","17.5",0,0);this.H["59"]=new b("115","116","115","135","5.5",0,0);this.H["115"]=new b("213","214","214","137","5.5",0,0);this.H["213"]=new b("213","214","214","0","0",1,.401747);this.H["214"]=new b("213","214","214","0","0",1,.0367503);this.H["116"]=new b("215","216","216","8","5.5",0,0);this.H["215"]=new b("215","216","216","0","0",1,-.0241984);this.H["216"]=new b("215","216","216","0","0",1,-.999046);this.H["60"]=new b("117","118","117","0","12.5",0,0);this.H["117"]=new b("217","218","218","132","5.5",0,0);this.H["217"]=new b("217","218","218","0","0",1,-.997294);this.H["218"]=new b("217","218","218","0","0",1,.210398);this.H["118"]=new b("219","220","219","137","1.5",0,0);this.H["219"]=new b("219","220","219","0","0",1,-.55763);this.H["220"]=new b("219","220","219","0","0",1,.074493);this.H["30"]=new b("61","62","62","133","42.5",0,0);this.H["61"]=new b("119","120","119","135","5.5",0,0);this.H["119"]=new b("221","222","222","4","473.5",0,0);this.H["221"]=new b("221","222","222","0","0",1,-.920213);this.H["222"]=new b("221","222","222","0","0",1,-.17615);this.H["120"]=new b("223","224","224","5","144",0,0);this.H["223"]=new b("223","224","224","0","0",1,-.954295);this.H["224"]=new b("223","224","224","0","0",1,-.382538);this.H["62"]=new b("121","122","121","133","50",0,0);this.H["121"]=new b("225","226","226","10","18.5",0,0);this.H["225"]=new b("225","226","226","0","0",1,-.0731343);this.H["226"]=new b("225","226","226","0","0",1,.755454);this.H["122"]=new b("227","228","228","0","30",0,0);this.H["227"]=new b("227","228","228","0","0",1,.25);this.H["228"]=new b("227","228","228","0","0",1,-.997101);}function n(a,b,c,d,h,p){this.r_=h;this.IU=p;}c=a(305);p=a(186);a={};a.Z6a=new function(){this.P0a=p();this.o=0;this.update=function(){this.o=p()-this.P0a;};this.getValue=function(){return this.o;};this.type="num";}();a.Ynb=new function(){this.getValue=function(a,b,c){return this.o="becauseYouAdded"===c.Aa[a].context||null;};this.type="cat";}();a.Znb=new function(){this.getValue=function(a,b,c){return this.o="becauseYouLiked"===c.Aa[a].context||null;};this.type="cat";}();a.aob=new function(){this.getValue=function(a,b,c){return this.o="billboard"===c.Aa[a].context||null;};this.type="cat";}();a.bob=new function(){this.getValue=function(a,b,c){return this.o="continueWatching"===c.Aa[a].context||null;};this.type="cat";}();a.$nb=new function(){this.getValue=function(a,b,c){return this.o="bigRow"===c.Aa[a].context||null;};this.type="cat";}();a.cob=new function(){this.getValue=function(a,b,c){return this.o="genre"===c.Aa[a].context||null;};this.type="cat";}();a.dob=new function(){this.getValue=function(a,b,c){return this.o="netflixOriginals"===c.Aa[a].context||null;};this.type="cat";}();a.eob=new function(){this.getValue=function(a,b,c){return this.o="newRelease"===c.Aa[a].context||null;};this.type="cat";}();a.fob=new function(){this.getValue=function(a,b,c){return this.o="popularTitles"===c.Aa[a].context||null;};this.type="cat";}();a.gob=new function(){this.getValue=function(a,b,c){return this.o="queue"===c.Aa[a].context||null;};this.type="cat";}();a.hob=new function(){this.getValue=function(a,b,c){return this.o="recentlyAdded"===c.Aa[a].context||null;};this.type="cat";}();a.iob=new function(){this.getValue=function(a,b,c){return this.o="similars"===c.Aa[a].context||null;};this.type="cat";}();a.kob=new function(){this.getValue=function(a,b,c){return this.o="trendingNow"===c.Aa[a].context||null;};this.type="cat";}();a.lob=new function(){this.getValue=function(a,b,c){return this.o="ultraHD"===c.Aa[a].context||null;};this.type="cat";}();a.mob=new function(){this.getValue=function(a,b,c){return this.o="watchAgain"===c.Aa[a].context||null;};this.type="cat";}();a.job=new function(){this.getValue=function(a,b,c){return this.o="topTen"===c.Aa[a].context||null;};this.type="cat";}();a.I7a=new function(){this.update=function(a){for(var b in a.Aa)if("becauseYouAdded"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.J7a=new function(){this.update=function(a){for(var b in a.Aa)if("becauseYouLiked"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.N7a=new function(){this.update=function(a){for(var b in a.Aa)if("billboard"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.s$a=new function(){this.update=function(a){for(var b in a.Aa)if("continueWatching"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.M7a=new function(){this.update=function(a){for(var b in a.Aa)if("bigRow"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Ggb=new function(){this.update=function(a){for(var b in a.Aa)if("genre"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.krb=new function(){this.update=function(a){for(var b in a.Aa)if("netflixOriginals"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.orb=new function(){this.update=function(a){for(var b in a.Aa)if("newRelease"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Eub=new function(){this.update=function(a){for(var b in a.Aa)if("popularTitles"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Lh=new function(){this.update=function(a){for(var b in a.Aa)if("queue"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.owb=new function(){this.update=function(a){for(var b in a.Aa)if("recentlyAdded"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.FAb=new function(){this.update=function(a){for(var b in a.Aa)if("similars"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.dDb=new function(){this.update=function(a){for(var b in a.Aa)if("trendingNow"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.tDb=new function(){this.update=function(a){for(var b in a.Aa)if("ultraHD"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.iFb=new function(){this.update=function(a){for(var b in a.Aa)if("watchAgain"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.PCb=new function(){this.update=function(a){for(var b in a.Aa)if("topTen"===a.Aa[b].context){this.o=Math.max(a.Aa[b].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.D$a=new function(){this.getValue=function(a,b,c){return this.o="AR"===c.Da||null;};this.type="cat";}();a.E$a=new function(){this.getValue=function(a,b,c){return this.o="AT"===c.Da||null;};this.type="cat";}();a.F$a=new function(){this.getValue=function(a,b,c){return this.o="AU"===c.Da||null;};this.type="cat";}();a.G$a=new function(){this.getValue=function(a,b,c){return this.o="AZ"===c.Da||null;};this.type="cat";}();a.H$a=new function(){this.getValue=function(a,b,c){return this.o="BB"===c.Da||null;};this.type="cat";}();a.I$a=new function(){this.getValue=function(a,b,c){return this.o="BE"===c.Da||null;};this.type="cat";}();a.J$a=new function(){this.getValue=function(a,b,c){return this.o="BO"===c.Da||null;};this.type="cat";}();a.K$a=new function(){this.getValue=function(a,b,c){return this.o="BR"===c.Da||null;};this.type="cat";}();a.L$a=new function(){this.getValue=function(a,b,c){return this.o="BS"===c.Da||null;};this.type="cat";}();a.M$a=new function(){this.getValue=function(a,b,c){return this.o="CA"===c.Da||null;};this.type="cat";}();a.N$a=new function(){this.getValue=function(a,b,c){return this.o="CH"===c.Da||null;};this.type="cat";}();a.O$a=new function(){this.getValue=function(a,b,c){return this.o="CL"===c.Da||null;};this.type="cat";}();a.P$a=new function(){this.getValue=function(a,b,c){return this.o="CO"===c.Da||null;};this.type="cat";}();a.Q$a=new function(){this.getValue=function(a,b,c){return this.o="CR"===c.Da||null;};this.type="cat";}();a.R$a=new function(){this.getValue=function(a,b,c){return this.o="CW"===c.Da||null;};this.type="cat";}();a.S$a=new function(){this.getValue=function(a,b,c){return this.o="DE"===c.Da||null;};this.type="cat";}();a.T$a=new function(){this.getValue=function(a,b,c){return this.o="DK"===c.Da||null;};this.type="cat";}();a.U$a=new function(){this.getValue=function(a,b,c){return this.o="DM"===c.Da||null;};this.type="cat";}();a.V$a=new function(){this.getValue=function(a,b,c){return this.o="DO"===c.Da||null;};this.type="cat";}();a.W$a=new function(){this.getValue=function(a,b,c){return this.o="EC"===c.Da||null;};this.type="cat";}();a.X$a=new function(){this.getValue=function(a,b,c){return this.o="EE"===c.Da||null;};this.type="cat";}();a.Y$a=new function(){this.getValue=function(a,b,c){return this.o="EG"===c.Da||null;};this.type="cat";}();a.Z$a=new function(){this.getValue=function(a,b,c){return this.o="ES"===c.Da||null;};this.type="cat";}();a.$$a=new function(){this.getValue=function(a,b,c){return this.o="FI"===c.Da||null;};this.type="cat";}();a.aab=new function(){this.getValue=function(a,b,c){return this.o="FR"===c.Da||null;};this.type="cat";}();a.bab=new function(){this.getValue=function(a,b,c){return this.o="GB"===c.Da||null;};this.type="cat";}();a.cab=new function(){this.getValue=function(a,b,c){return this.o="GF"===c.Da||null;};this.type="cat";}();a.dab=new function(){this.getValue=function(a,b,c){return this.o="GP"===c.Da||null;};this.type="cat";}();a.eab=new function(){this.getValue=function(a,b,c){return this.o="GT"===c.Da||null;};this.type="cat";}();a.fab=new function(){this.getValue=function(a,b,c){return this.o="HK"===c.Da||null;};this.type="cat";}();a.gab=new function(){this.getValue=function(a,b,c){return this.o="HN"===c.Da||null;};this.type="cat";}();a.hab=new function(){this.getValue=function(a,b,c){return this.o="HR"===c.Da||null;};this.type="cat";}();a.iab=new function(){this.getValue=function(a,b,c){return this.o="HU"===c.Da||null;};this.type="cat";}();a.jab=new function(){this.getValue=function(a,b,c){return this.o="ID"===c.Da||null;};this.type="cat";}();a.kab=new function(){this.getValue=function(a,b,c){return this.o="IE"===c.Da||null;};this.type="cat";}();a.lab=new function(){this.getValue=function(a,b,c){return this.o="IL"===c.Da||null;};this.type="cat";}();a.mab=new function(){this.getValue=function(a,b,c){return this.o="IN"===c.Da||null;};this.type="cat";}();a.nab=new function(){this.getValue=function(a,b,c){return this.o="IT"===c.Da||null;};this.type="cat";}();a.oab=new function(){this.getValue=function(a,b,c){return this.o="JE"===c.Da||null;};this.type="cat";}();a.pab=new function(){this.getValue=function(a,b,c){return this.o="JM"===c.Da||null;};this.type="cat";}();a.qab=new function(){this.getValue=function(a,b,c){return this.o="JP"===c.Da||null;};this.type="cat";}();a.rab=new function(){this.getValue=function(a,b,c){return this.o="KE"===c.Da||null;};this.type="cat";}();a.sab=new function(){this.getValue=function(a,b,c){return this.o="KN"===c.Da||null;};this.type="cat";}();a.uab=new function(){this.getValue=function(a,b,c){return this.o="KR"===c.Da||null;};this.type="cat";}();a.vab=new function(){this.getValue=function(a,b,c){return this.o="LU"===c.Da||null;};this.type="cat";}();a.wab=new function(){this.getValue=function(a,b,c){return this.o="MK"===c.Da||null;};this.type="cat";}();a.xab=new function(){this.getValue=function(a,b,c){return this.o="MU"===c.Da||null;};this.type="cat";}();a.yab=new function(){this.getValue=function(a,b,c){return this.o="MX"===c.Da||null;};this.type="cat";}();a.zab=new function(){this.getValue=function(a,b,c){return this.o="MY"===c.Da||null;};this.type="cat";}();a.Aab=new function(){this.getValue=function(a,b,c){return this.o="NI"===c.Da||null;};this.type="cat";}();a.Bab=new function(){this.getValue=function(a,b,c){return this.o="NL"===c.Da||null;};this.type="cat";}();a.Cab=new function(){this.getValue=function(a,b,c){return this.o="NO"===c.Da||null;};this.type="cat";}();a.Dab=new function(){this.getValue=function(a,b,c){return this.o="NZ"===c.Da||null;};this.type="cat";}();a.Eab=new function(){this.getValue=function(a,b,c){return this.o="OM"===c.Da||null;};this.type="cat";}();a.Fab=new function(){this.getValue=function(a,b,c){return this.o="PA"===c.Da||null;};this.type="cat";}();a.Gab=new function(){this.getValue=function(a,b,c){return this.o="PE"===c.Da||null;};this.type="cat";}();a.Hab=new function(){this.getValue=function(a,b,c){return this.o="PF"===c.Da||null;};this.type="cat";}();a.Iab=new function(){this.getValue=function(a,b,c){return this.o="PH"===c.Da||null;};this.type="cat";}();a.Jab=new function(){this.getValue=function(a,b,c){return this.o="PK"===c.Da||null;};this.type="cat";}();a.Kab=new function(){this.getValue=function(a,b,c){return this.o="PL"===c.Da||null;};this.type="cat";}();a.Lab=new function(){this.getValue=function(a,b,c){return this.o="PT"===c.Da||null;};this.type="cat";}();a.Mab=new function(){this.getValue=function(a,b,c){return this.o="PY"===c.Da||null;};this.type="cat";}();a.Nab=new function(){this.getValue=function(a,b,c){return this.o="QA"===c.Da||null;};this.type="cat";}();a.Oab=new function(){this.getValue=function(a,b,c){return this.o="RO"===c.Da||null;};this.type="cat";}();a.Pab=new function(){this.getValue=function(a,b,c){return this.o="RS"===c.Da||null;};this.type="cat";}();a.Qab=new function(){this.getValue=function(a,b,c){return this.o="RU"===c.Da||null;};this.type="cat";}();a.Rab=new function(){this.getValue=function(a,b,c){return this.o="SA"===c.Da||null;};this.type="cat";}();a.Sab=new function(){this.getValue=function(a,b,c){return this.o="SE"===c.Da||null;};this.type="cat";}();a.Uab=new function(){this.getValue=function(a,b,c){return this.o="SG"===c.Da||null;};this.type="cat";}();a.Vab=new function(){this.getValue=function(a,b,c){return this.o="SV"===c.Da||null;};this.type="cat";}();a.Wab=new function(){this.getValue=function(a,b,c){return this.o="SX"===c.Da||null;};this.type="cat";}();a.Xab=new function(){this.getValue=function(a,b,c){return this.o="TH"===c.Da||null;};this.type="cat";}();a.Yab=new function(){this.getValue=function(a,b,c){return this.o="TR"===c.Da||null;};this.type="cat";}();a.Zab=new function(){this.getValue=function(a,b,c){return this.o="TT"===c.Da||null;};this.type="cat";}();a.$ab=new function(){this.getValue=function(a,b,c){return this.o="TW"===c.Da||null;};this.type="cat";}();a.abb=new function(){this.getValue=function(a,b,c){return this.o="US"===c.Da||null;};this.type="cat";}();a.bbb=new function(){this.getValue=function(a,b,c){return this.o="UY"===c.Da||null;};this.type="cat";}();a.cbb=new function(){this.getValue=function(a,b,c){return this.o="VE"===c.Da||null;};this.type="cat";}();a.dbb=new function(){this.getValue=function(a,b,c){return this.o="ZA"===c.Da||null;};this.type="cat";}();a.rwb=new function(){this.getValue=function(a,b,c){return this.o=1===c.Qg||null;};this.type="cat";}();a.swb=new function(){this.getValue=function(a,b,c){return this.o=10===c.Qg||null;};this.type="cat";}();a.twb=new function(){this.getValue=function(a,b,c){return this.o=11===c.Qg||null;};this.type="cat";}();a.uwb=new function(){this.getValue=function(a,b,c){return this.o=12===c.Qg||null;};this.type="cat";}();a.vwb=new function(){this.getValue=function(a,b,c){return this.o=13===c.Qg||null;};this.type="cat";}();a.wwb=new function(){this.getValue=function(a,b,c){return this.o=14===c.Qg||null;};this.type="cat";}();a.xwb=new function(){this.getValue=function(a,b,c){return this.o=15===c.Qg||null;};this.type="cat";}();a.ywb=new function(){this.getValue=function(a,b,c){return this.o=16===c.Qg||null;};this.type="cat";}();a.zwb=new function(){this.getValue=function(a,b,c){return this.o=17===c.Qg||null;};this.type="cat";}();a.Awb=new function(){this.getValue=function(a,b,c){return this.o=18===c.Qg||null;};this.type="cat";}();a.Bwb=new function(){this.getValue=function(a,b,c){return this.o=19===c.Qg||null;};this.type="cat";}();a.Cwb=new function(){this.getValue=function(a,b,c){return this.o=2===c.Qg||null;};this.type="cat";}();a.Dwb=new function(){this.getValue=function(a,b,c){return this.o=20===c.Qg||null;};this.type="cat";}();a.Ewb=new function(){this.getValue=function(a,b,c){return this.o=21===c.Qg||null;};this.type="cat";}();a.Fwb=new function(){this.getValue=function(a,b,c){return this.o=22===c.Qg||null;};this.type="cat";}();a.Gwb=new function(){this.getValue=function(a,b,c){return this.o=23===c.Qg||null;};this.type="cat";}();a.Hwb=new function(){this.getValue=function(a,b,c){return this.o=3===c.Qg||null;};this.type="cat";}();a.Iwb=new function(){this.getValue=function(a,b,c){return this.o=4===c.Qg||null;};this.type="cat";}();a.Jwb=new function(){this.getValue=function(a,b,c){return this.o=5===c.Qg||null;};this.type="cat";}();a.Kwb=new function(){this.getValue=function(a,b,c){return this.o=6===c.Qg||null;};this.type="cat";}();a.Lwb=new function(){this.getValue=function(a,b,c){return this.o=7===c.Qg||null;};this.type="cat";}();a.Mwb=new function(){this.getValue=function(a,b,c){return this.o=8===c.Qg||null;};this.type="cat";}();a.Nwb=new function(){this.getValue=function(a,b,c){return this.o=9===c.Qg||null;};this.type="cat";}();a.RBb=new function(){this.update=function(a){"down"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.TBb=new function(){this.update=function(a){"right"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.SBb=new function(){this.update=function(a){"left"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.UBb=new function(){this.update=function(a){"up"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Rpb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";}();a.Spb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.d8);};this.getValue=function(){return this.o;};this.type="num";}();a.Ypb=new function(){this.sJ=this.o=0;this.update=function(a){this.sJ++;this.o=1*(this.o+a.rowIndex)/this.sJ;};this.getValue=function(){return this.o;};this.type="num";}();a.Zpb=new function(){this.sJ=this.o=0;this.update=function(a){this.sJ++;return this.o=1*(this.o+a.d8)/this.sJ;};this.getValue=function(){return this.o;};this.type="num";}();a.cvb=new function(){this.getValue=function(a,b,c){return this.o=c.d8+b;};this.type="num";}();a.dvb=new function(){this.getValue=function(a,b,c){return this.o=c.rowIndex+a;};this.type="num";}();h.prototype.iy=function(a){return this.psa(this.H["0"].YHa(a),a);};h.prototype.psa=function(a,b){return"string"==typeof a?this.psa(this.H[a].YHa(b),b):a;};b.prototype.YHa=function(a){switch(this.onb){case 0:switch(a.wd[this.JP].type){case"cat":return null===a.wd[this.JP].value?this.sEa:"missing"==a.wd[this.JP].value?this.Yda:this.KLa;case"num":return null===a.wd[this.JP].value?this.Yda:a.wd[this.JP].value<this.split?this.KLa:this.sEa;default:return this.Yda;}case 1:return this.iy;default:return this.iy;}};c.declare({zN:["modelSelector","modelone"],K9a:["colEpisodeList",5],tlb:["holdDuration",15E3],KHa:["rowFirst",2],gva:["colFirst",5],MHa:["rowScroll",2],hva:["colScroll",6],byb:["rowScrollHorizontal",6],vyb:["searchTop",3],Wva:["cwFirst",2],zM:["horizontalItemsFocusedMode",3],qnb:["itemsPerRank",1],Mpb:["maxNumberPayloadsStored",10],tDa:["maxNumberTitlesScheduled",5],UQb:["enableDetailedLogging",!0],ZUb:["rowStep",20],MPb:["colStep",15],mUb:["pageRows",100],lUb:["pageColumns",75],uda:["maskParamsList",new function(){var a,b;this.uda=[];this.Ij={};this.r_=20;this.IU=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.r_)+"_"+Math.floor(b/this.IU)in this.Ij||(this.Ij[Math.floor(a/this.r_)+"_"+Math.floor(b/this.IU)]=1,this.uda.push(new n(0,0,0,0,Math.floor(a/this.r_),Math.floor(b/this.IU))));}().uda],H:["nodes",new h().H],mapping:["mapping",{Spb:"0",Zpb:"1",Rpb:"2",Ypb:"3",Z6a:"4",UBb:"5",SBb:"6",TBb:"7",RBb:"8",dvb:"9",cvb:"10",Ynb:"11",Znb:"12",aob:"13",bob:"14",$nb:"15",cob:"16",dob:"17",eob:"18",fob:"19",gob:"20",hob:"21",iob:"22",job:"23",kob:"24",lob:"25",mob:"26",rwb:"27",swb:"28",twb:"29",uwb:"30",vwb:"31",wwb:"32",xwb:"33",ywb:"34",zwb:"35",Awb:"36",Bwb:"37",Cwb:"38",Dwb:"39",Ewb:"40",Fwb:"41",Gwb:"42",Hwb:"43",Iwb:"44",Jwb:"45",Kwb:"46",Lwb:"47",Mwb:"48",Nwb:"49",D$a:"50",E$a:"51",F$a:"52",G$a:"53",H$a:"54",I$a:"55",J$a:"56",K$a:"57",L$a:"58",M$a:"59",N$a:"60",O$a:"61",P$a:"62",Q$a:"63",R$a:"64",S$a:"65",T$a:"66",U$a:"67",V$a:"68",W$a:"69",X$a:"70",Y$a:"71",Z$a:"72",$$a:"73",aab:"74",bab:"75",cab:"76",dab:"77",eab:"78",fab:"79",gab:"80",hab:"81",iab:"82",jab:"83",kab:"84",lab:"85",mab:"86",nab:"87",oab:"88",pab:"89",qab:"90",rab:"91",sab:"92",uab:"93",vab:"94",wab:"95",xab:"96",yab:"97",zab:"98",Aab:"99",Bab:"100",Cab:"101",Dab:"102",Eab:"103",Fab:"104",Gab:"105",Hab:"106",Iab:"107",Jab:"108",Kab:"109",Lab:"110",Mab:"111",Nab:"112",Oab:"113",Pab:"114",Qab:"115",Rab:"116",Sab:"117",Uab:"118",Vab:"119",Wab:"120",Xab:"121",Yab:"122",Zab:"123",$ab:"124",abb:"125",bbb:"126",cbb:"127",dbb:"128",iFb:"129",owb:"130",FAb:"131",Lh:"132",s$a:"133",Ggb:"134",dDb:"135",PCb:"136",N7a:"137",orb:"138",tDb:"139",Eub:"140",I7a:"141",M7a:"142",J7a:"143",krb:"144"}],wd:["features",a],zOb:["_modelName","tree"],qOb:["_format","xgboost"],yOb:["_itemsToKeep",5],xOb:["_itemsThreshold",null],rPb:["cacheLimit",20]});d.P={config:c,kTb:n,aQb:b};},function(d,c,a){var h;function b(a){for(var b="",f=0;f<a.length;f++)b+=a[f].pa+"|";return b;}h=a(185);d.P={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},tSb:function(a,b,f){Array.prototype.splice.apply(a,[b,0].concat(f));},whb:function(a){for(var b=[],f=0;f<a.length;f++)if(a[f].context===h.uI.XNa){b=a[f].list;break;}return b;},dhb:function(a){for(var b=[],f=0;f<a.length;f++)if(a[f].context===h.uI.TMa){b=a[f].list;break;}return b;},Zcb:function(a,c){for(var f=0,k,d,h,p=0,n=a.length-1;p<n;p++){k=b(a[p].list||[]);h=!1;for(var g=0,D=c.length;g<D;g++)if(d=b(c[g].list||[]),d==k){h=!0;break;}if(!1===h){f=p;break;}}return f;},ksb:function(a,b,f){for(var c=[],d,h=0;h<Math.min(b,a.length);h++)d=a[h].list||[],c=c.concat(d.slice(0,f));return c;},jsb:function(a,b){for(var f=[],c,d=0;d<a.length&&(c=a[d].list||[],c=c.slice(0,Math.min(c.length,b)),b-=c.length,f=f.concat(c),0!==b);d++);return f;},isb:function(a,b,f){var c;b<a.length&&0<=b&&(a=a[b].list||[],f<a.length&&(c=a[f]));return c;},Txa:function(a){for(var b={},f=a.length,c,d=0;d<f;d++){c=a[d].list||[];for(var t=0;t<c.length;t++)if(c[t].property===h.IC.NI||c[t].property===h.IC.cka){b.ti=d;b.fk=t;break;}}void 0===b.ti&&void 0===b.fk&&(b.ti=0,b.fk=0);return b;}};},function(d,c,a){var b,h,n,p,f,k,m,t,u,y,g,D,z,G,M;Object.defineProperty(c,"__esModule",{value:!0});b=a(65);h=a(11);n=a(12);p=a(40);f=a(34);k=a(73);m=a(5);t=a(2);u=a(19);y=a(67);g=a(10);D=a(121);z=a(24);G=a(29);M=a(47);c.TCb=function(){var d,E,l,q,r;function a(a){var b,f,k;b="info";f="";k=m.$.get(y.fz).vza();a.aa||(b="error",f+="&errorcode="+(a.errorCode||""),f+="&errorsubcode="+(a.da||""));f="type=startup&sev="+b+f+"&"+p.IN(u.xb({},k,{prefix:"m_"}));c("startup",f,E);}function c(a,c,k){k&&l&&n.config.oKa[a]&&(a=q+"&jsoffms="+f.ah()+"&do="+g.ej.onLine+"&"+c+"&"+p.IN(u.xb({},r.gd,{prefix:"im_"})),b.Ye.download({url:k,gfa:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},gA:"track"},h.Pe));}d=m.$.get(M.Mk);q="cat=cadplayback&dev="+encodeURIComponent(d.j9)+"&ep="+encodeURIComponent(k.zh.Qka)+"&ver="+encodeURIComponent("6.0023.327.011")+"&jssid="+f.bma;m.Jg("TrackingLog");r=m.$.get(z.Cf);q=q+("&browserua="+g.Fm);r.register(t.K.Mla,function(b){var f,c;E=m.$.get(D.nC).host+n.config.sia;if(l=n.config.nKa&&!!n.config.sia){n.config.tx&&(q+="&groupname="+encodeURIComponent(n.config.tx));n.config.fC&&(q+="&uigroupname="+encodeURIComponent(n.config.fC));f=q;c=m.$.get(G.SI);c=u.xb({},c,{prefix:"pi_"});c="&"+p.IN(c);q=f+c;r.aN(a);}b(h.pd);});return c;}();},function(d,c,a){var p;function b(a,b,c){b=b||0;c=c||a.length;for(var f,k=b,d,m,p,n={};k<b+c;){f=a[k];d=f&7;m=f>>3;p=h(a,k);if(!p.count)throw Error("Parsing error. bytes length is 0 for the tag "+f);k+=p.count+1;2==d&&(k+=p.value);n[m]={mRb:m,uWb:d,value:p.value,count:p.count,start:p.start};}return n;}function h(a,b){var f,c,k,d,h,n,g,G;f=b+1;c=a.length;k=f;d=0;h={};n=[];G=0;if(f>=c)throw Error("Invalid Range for Protobuf - start: "+f+" , len: "+c);for(;k<c;){d++;f=a[k];g=f&127;n.push(g);if(!(f&128))break;k++;}p.Ra(n.length);for(a=n.length-1;0<=a;a--)G<<=7,G|=n[a];h.count=d;h.value=G;h.start=b+d+1;return h;}function n(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(c,"__esModule",{value:!0});p=a(18);c.Wmb=function(a){a=b(a);if(1==n(a,1)&&a[5]&&a[5].value)return!0;};c.ISb=function(a){var f;f=b(a);if(2==n(f,1)&&(a=b(a,f[2].start,f[2].value),n(a,5)))return!0;};c.jRb=b;c.ORb=h;c.PRb=n;},function(d){function c(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}d.P=function(a){var p,f,k;function b(a,b,f){throw new TypeError(("undefined"!==typeof f.key?"Types: expected "+f.key:"Types: expected argument "+f.index)+(" to be '"+a+"' but found '"+b+"'"));}function d(a,c,k){var d;d=f[a];"undefined"!==typeof d?d(c)||b(a,c,k):a!==typeof c&&b(a,c,k);}function n(a,b){var f;f=a.filter(function(a){return"object"!==typeof a&&-1===k.indexOf(a);});f=f.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===k.indexOf(a);}));},[]));if(0<f.length)throw Error(f.join(",")+" are invalid types");return function(){var f;f=Array.prototype.slice.call(arguments);if(f.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var c;c=f[b];if("string"===typeof a)d(a,c,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){d(a[b],c[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,f);};}p="number boolean string object function symbol".split(" ");f={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!c(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof f[b]||-1<p.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);f[b]=a[b];});}k=Object.keys(f).concat(p);return n(["array","function"],n);};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.hRa=function(a){var d,p,f,k;function b(){if(f)for(var a;a=d.pop();)a(k);}function c(a){f=!0;k=a;b();}d=[];return function(f){d.push(f);p||(p=!0,a(c));b();};};},function(d,c,a){var h;function b(a,b,f,c){this.Fc=a;this.tl=b;this.tq=f;this.Hb=c;this.iAb();}Object.defineProperty(c,"__esModule",{value:!0});h=a(13);b.prototype.rAa=function(a,b){var f;f=this;return this.tq.transition(b).then(function(){f.Fc.qg=a;});};b.prototype.close=function(a){return this.tq.close(a);};b.prototype.isReady=function(){return this.tq.xjb();};b.prototype.ln=function(){return this.tq.ln();};b.prototype.Gh=function(){return this.tq.Gh();};b.prototype.pfa=function(a){return this.tq.Cp(a);};b.prototype.iAb=function(){var a;a=this;this.tq.addListener(h.VC.GO,function(){return a.Hb.Sb(h.VC.GO);});Object.keys(h.tb).forEach(function(b){var f;f=h.tb[b];a.tq.addListener(f,function(b){return a.Hb.Sb(f,b);});});};b.prototype.LN=function(){};b.prototype.eFa=function(a){this.tq.UDb({id:a,u:this.Fc.Hh(a).pa,wn:this.Fc.bAa(a)});};c.hR=b;},function(d,c,a){var h;function b(a,b,f){var c;c=this;this.zk=a;this.Of=b;this.$N=f;this.addEventListener=function(a,b,f){return c.Of.addListener(a,c.ewa(a,b),f);};this.removeEventListener=function(a,b){return c.Of.removeListener(a,c.ewa(a,b));};this.getReady=function(){return c.Of.isReady();};this.getXid=function(){return c.ib().ZW();};this.getMovieId=function(){return c.ib().Tib();};this.getPlaygraphId=function(){return c.ib().pjb();};this.getElement=function(){return c.Of.ln();};this.isPlaying=function(){return c.ib().yx();};this.isPaused=function(){return c.ib().Nmb();};this.isMuted=function(){return c.ib().Lmb();};this.isReady=function(){return c.ib().isReady();};this.isBackground=function(){return c.ib().tmb();};this.setBackground=function(a){return c.ib().wIa(a);};this.startInactivityMonitor=function(){return c.ib().YO();};this.setTransitionTime=function(a){return c.ib().MIa(a);};this.getDiagnostics=function(){return c.ib().Ihb();};this.getTextTrackList=function(a){return c.ib().jAa(a);};this.getTextTrack=function(){return c.ib().iAa();};this.setTextTrack=function(a){return c.ib().KIa(a);};this.getVolume=function(){return c.ib().xkb();};this.isEnded=function(){return c.ib().zmb();};this.getBusy=function(){return c.ib().mk();};this.getError=function(){return c.ib().getError();};this.getCurrentTime=function(){return c.ib().j.Yb.value;};this.getBufferedTime=function(){return c.ib().hhb();};this.getSegmentTime=function(){return c.ib().BW();};this.getDuration=function(){return c.ib().Oya();};this.getVideoSize=function(){return c.ib().vkb();};this.getAudioTrackList=function(){return c.ib().Rgb();};this.getAudioTrack=function(){return c.ib().Qgb();};this.getTimedTextTrackList=function(a){return c.ib().jAa(a);};this.getTimedTextTrack=function(){return c.ib().iAa();};this.getAdditionalLogInfo=function(){return c.ib().Kgb();};this.getTrickPlayFrame=function(a){return c.ib().kkb(a);};this.getSessionSummary=function(){return c.ib().aAa();};this.getTimedTextSettings=function(){return c.ib().UW();};this.setMuted=function(a){return c.ib().Kzb(a);};this.setVolume=function(a){return c.ib().cAb(a);};this.getPlaybackRate=function(){return c.ib().Pza();};this.setPlaybackRate=function(a){return c.ib().Pzb(a);};this.setAudioTrack=function(a){return c.ib().szb(a);};this.setTimedTextTrack=function(a){return c.ib().KIa(a);};this.setTimedTextSettings=function(a){return c.ib().RO(a);};this.prepare=function(){return c.ib().Zu();};this.load=function(){return c.ib().load();};this.close=function(a){return c.Eta(c.Of.close(),a);};this.play=function(){return c.ib().play();};this.pause=function(){return c.ib().pause();};this.seek=function(a){return c.ib().seek(a);};this.engage=function(a,b){return c.Eta(c.ib().OL(a),b);};this.induceError=function(a){return c.ib().Wlb(a);};this.loadCustomTimedTextTrack=function(a,b,f,k){return c.ib().rob(a,b,f,k);};this.tryRecoverFromStall=function(){return c.ib().wP();};this.addEpisode=function(a){var b,f;c.log.info("Next episode added",a);b=c.gDa(a.playbackParams);f="startPts"in a?a.startPts:"nextStartPts"in a?a.nextStartPts:b.S;if(void 0===f||0>f)f=0;return c.Of.Cp({id:b.Ri?void 0:c.$N.rW(a.movieId,f),u:a.movieId,S:f,wn:"endPts"in a?a.endPts:"currentEndPts"in a?a.currentEndPts:b.wn,fb:b,wa:a.manifest,zk:c.zk});};this.playNextEpisode=function(a){a=void 0===a?{}:a;a=c.gDa(a);c.log.info("Playing the next episode",a);return c.Of.fba(c.Of.Rya(),c.Of.DW().dn,a);};this.playSegment=function(a){return c.ib().iub(a);};this.queueSegment=function(a){return c.ib().Svb(a);};this.updateNextSegmentWeights=function(a,b){return c.ib().fp(a,b);};this.getCropAspectRatio=function(){return c.ib().daa();};this.getCropAspectRatioXandY=function(){return c.ib().yhb();};this.getCurrentSegmentId=function(){return c.Of.Rya();};this.getPlaygraphMap=function(){return c.Of.qjb();};this.setNextSegment=function(a){for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];b=b.map(function(a){return{Ma:a.segmentId,FN:a.nextSegmentId};});c.Of.PO.apply(c.Of,[].concat(fa(b)));};this.clearNextSegment=function(a){for(var b=[],f=0;f<arguments.length;++f)b[f-0]=arguments[f];return c.Of.z9a.apply(c.Of,[].concat(fa(b)));};this.updatePlaygraphMap=function(a){return c.Of.RDb(a);};this.goToNextSegment=function(a,b){return c.Of.fba(a,b);};this.getPlaying=function(){return c.isPlaying();};this.getPaused=function(){return c.isPaused();};this.getMuted=function(){return c.isMuted();};this.getEnded=function(){return c.isEnded();};this.getTimedTextVisibility=function(){return c.isTimedTextVisible();};this.isTimedTextVisible=function(){return!!c.ib().UW().visibility;};this.setTimedTextVisibility=function(a){return c.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return c.ib().RO({size:a});};this.setTimedTextBounds=function(a){return c.ib().RO({bounds:a});};this.setTimedTextMargins=function(a){return c.ib().RO({margins:a});};this.setTimedTextVisible=function(a){return c.ib().RO({visibility:a});};this.getCongestionInfo=function(a){a&&a({success:!1,name:null,isCongested:null});};this.Y9=new Map();this.log=h.Jg("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(c,"__esModule",{value:!0});h=a(5);a(88);b.prototype.ib=function(){return this.Of.Gh();};b.prototype.ewa=function(a,b){var f;this.Y9.has(a)||this.Y9.set(a,new Map());f=this.Y9.get(a);f.has(b)||f.set(b,this.wcb(a,b));return f.get(b);};b.prototype.wcb=function(a,b){var f;f=this;return function(c){return b(Object.assign({},c,{type:a,target:f}));};};b.prototype.Eta=function(a,b){return b?a.then(b,b):a;};b.prototype.gDa=function(a){a=void 0===a?{}:a;return{Rh:a.trackingId,EK:a.authParams,Dn:a.sessionParams,le:a.uiLabel,o9:a.disableTrackStickiness,y0:a.uiPlayStartTime,fW:a.forceAudioTrackId,gW:a.forceTimedTextTrackId,Ri:a.isBranching,Sia:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted}:void 0,dF:a.enableTrickPlay,rba:a.heartbeatCooldown,UX:a.isPlaygraph,mY:a.loadImmediately||!1,IFa:a.pin,bO:a.preciseSeeking,S:a.startPts,ia:a.endPts,wn:a.logicalEnd,jm:a.packageId,d_:a.renderTimedText,Axa:a.extraManifestParams};};c.PZa=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.roa="PlaygraphVideoPlayerFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.qoa="PlaygraphPlaybackStrategyFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.sp||(c.sp={});d[d.KI=0]="No";d[d.a4=1]="Yes";d[d.ima=2]="Later";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.poa="PlaygraphManagerFactorySymbol";},function(d,c,a){var h,n,p,f,k,m;function b(a,b,f){this.he=a;this.Db=b;this.j=f;this.XM=[];}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(2);n=a(1);p=a(15);f=a(20);k=a(5);m=a(13);b.prototype.aW=function(a){this.XM.forEach(function(b){return b(a);});};b.prototype.Pd=function(a,b,f){this.j.Pd(this.he(a,b,f));};b.prototype.cX=function(a){this.j.fireEvent(m.T.cea,{$8a:a});};b.prototype.r5a=function(a){-1===this.XM.indexOf(a)&&this.XM.push(a);};b.prototype.$wb=function(a){a=this.XM.indexOf(a);0<=a&&this.XM.splice(a,1);};b.prototype.pAa=function(a){var b,c;b={};p.$b(a.code)?b.da=h.Yka(a.code):b.da=h.G.xh;try{c=a.message.match(/\((\d*)\)/)[1];b.Td=k.cua(c,4);}catch(E){}b.lb=f.We(a);return b;};a=b;a=d.__decorate([n.N()],a);c.fQ=a;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.v3="PlaybackMilestoneStoreSymbol";},function(d,c,a){var b,h,n,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);h=a(11);n=a(34);d=a(2);p=a(10);f=a(15);k=a(5);a=a(24);k.$.get(a.Cf).register(d.K.Gla,function(a){var d,m,g,D,z;function k(){var a;a=p.Ty(n.ah()/g);if(a!=z){for(var b=p.rp(a-z,30);b--;)D.push(0);(b=p.Mn(D.length-31,0))&&D.splice(0,b);z=a;}D[D.length-1]++;}d=b.config.bpb;m=-6/(d-2-2);g=h.Lk;D=[];z=p.Ty(n.ah()/g);f.QBa(d)&&(setInterval(k,1E3/d),c.apb={rib:function(){var f;for(var a=[],b=D.length-1;b--;){f=D[b];a.unshift(0>=f?9:1>=f?8:f>=d-1?0:p.Ei((f-2)*m+7));}return a;}});a(h.pd);});},function(d,c,a){var b,h,n,p,f,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);h=a(57);n=a(19);p=a(2);f=a(60);k=a(5);m=a(13);c.UQa=function(a,c){function d(d){var h,m;h=d.error||d;m=n.We(h);c.error("uncaught exception",h,m);(h=(h=h&&h.stack)&&b.config.HKa&&b.config.wDb?0<=h.indexOf(b.config.HKa):void 0)&&(d&&d.stopImmediatePropagation&&d.stopImmediatePropagation(),d=k.$.get(f.yl),a.Pd(d(p.K.FZa)));}function t(){h.Le.removeListener(h.dba,d);a.removeEventListener(m.T.pf,t);a.removeEventListener(m.T.An,t);}try{h.Le.addListener(h.dba,d);a.addEventListener(m.T.pf,t);b.config.Jlb&&a.addEventListener(m.T.An,t);}catch(D){c.error("exception in exception handler ",D);}};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Woa="SeekManagerFactorySymbol";},function(d,c,a){var h,n,p,f,k,m,t,u,y,g,D,z,G,M,N,P,l,q,S,A,r,U,ia,T,ma,O;function b(a){var b;b=this;this.j=a;this.Db=this.j.Db;this.qb=D.fh(this.j,"MediaPresenterASE");this.Cra=this.yqa=this.Dl=0;this.qd=this.Db.cb;this.Ura=this.Qra=this.c6=this.B5=this.ST=this.bS=this.D5=!1;this.Bl={type:y.Vg.audio,QE:[],gq:[]};this.Bp={type:y.Vg.video,QE:[],gq:[]};this.Gz={};this.xra=k.config.Eqb;this.Mra=k.c$a(!!this.j.Xa.Ri).oZ;this.l5=k.config.vY;this.l4a=D.$.get(ia.$C)(U.Ib(A.E3));this.Zo=D.$.get(ma.Woa)(this.j);this.Hf={};this.ura={};this.AJ={};this.j.dk=!1;this.Gz[h.Uc.Uj.AUDIO]=this.Bl;this.Gz[h.Uc.Uj.VIDEO]=this.Bp;M.Ra(this.l5>this.xra,"bad config");M.Ra(this.l5>this.Mra,"bad config");this.Db.addEventListener(r.Fi.gJa,function(){b.qb.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.GJ();}catch(wa){b.qb.error("Exception while initializing",wa);b.Mm(z.K.KVa);}});}Object.defineProperty(c,"__esModule",{value:!0});h=a(50);n=a(153);p=a(60);f=a(11);k=a(12);m=a(58);t=a(57);u=a(40);y=a(80);g=a(34);D=a(5);a(88);z=a(2);G=a(470);M=a(18);N=a(97);P=a(20);l=a(51);q=a(13);S=a(15);A=a(238);r=a(190);U=a(3);ia=a(102);T=a(139);ma=a(293);O=a(53);b.prototype.bza=function(){return this.Db.gM(!1);};b.prototype.xA=function(){return this.Db.xA();};b.prototype.wA=function(){return this.Db.wA();};b.prototype.fM=function(){return this.Db.fM();};b.prototype.HW=function(){return this.Db.HW();};b.prototype.GJ=function(){var a;a=this;this.qb.trace("Video element initializing");this.Db.sourceBuffers.forEach(function(b){return a.U3a(b);});this.n1a(this.j.wu);};b.prototype.n1a=function(a){var d,h,m;function b(){function a(a){var b,f;a=void 0===a?!0:a;f=d.j.Bb&&d.j.Bb.Ar();d.j.Lb.value==q.jb.Vf&&d.j.state.value==q.mb.od&&d.j.io.value==q.gf.od&&d.j.Ek.value==q.gf.od&&!d.j.dk&&f?(a&&d.wS.th(),d.wS.fu(),b="ensureTimer"):(d.wS.th(),b="stopTimer");d.qb.trace("Timer update: "+b,{presentingState:d.j.Lb.value,playbackState:d.j.state.value,avBufferingState:d.j.io.value,textBufferingState:d.j.Ek.value,autoplayWasBlocked:d.j.dk,hasLicense:f,restartTimer:a});}k.config.dwa&&(M.Ra(!d.wS),d.wS=D.$.get(T.bD)(k.config.dwa,function(){var a;a=D.$.get(G.ska).edb(d.j);d.Mm(a.code,a);}),d.j.Lb.addListener(function(){return a();}),d.j.io.addListener(function(){return a();}),d.j.Ek.addListener(function(){return a();}),d.j.state.addListener(function(){return a();}),d.j.addEventListener(q.T.uCa,function(){return a();}),d.j.addEventListener(q.T.dk,function(){return a();}),d.j.addEventListener(q.T.g7,function(){return a();}),d.j.addEventListener(q.T.dy,function(){return a(!0);}),a());}function c(){d.lS||(c=M.SMa,d.Db.addEventListener(r.Fi.EO,d.Hf[r.Fi.EO]=function(){return d.y5();}),d.Db.addEventListener(r.Fi.qo,d.Hf[r.Fi.qo]=function(){return d.I2a();}),d.qd.addEventListener("ended",d.Hf.ended=function(){return d.J2a();}),d.qd.addEventListener("play",d.Hf.play=function(){return d.O2a();}),d.qd.addEventListener("pause",d.Hf.pause=function(){return d.N2a();}),d.qd.addEventListener("playing",d.Hf.playing=function(){return d.P2a();}),d.HJ=!0,d.j.WBa&&(d.MT(),d.qb.trace("Video element initialization complete"),d.j.$c("vi"),k.config.swa?setTimeout(function(){d.u5=!0;d.ak();},k.config.swa):d.u5=!0,b(),l.Pb(function(){return d.ak();})));}d=this;a?this.qb.trace("Waiting for needkey"):(this.qb.warn("Movie is not DRM protected",{MovieId:this.j.u}),this.j.Bb.AV(""+this.j.u));this.qb.trace("Waiting for loadedmetadata");this.Db.addEventListener(r.Fi.zCa,function(a){a=a.pa;d.j.$c("ld",a);d.j.Bb.AV(""+a);d.j.fireEvent(q.T.uCa);});u.H5a(this.qd,function(){d.qb.trace("Video element event: loadedmetadata");d.j.$c("md");});t.Le.addListener(t.Yl,this.AJ[t.Yl]=function(){return d.pqa();},f.RC);this.j.addEventListener(q.T.pf,function(){return d.pqa();},f.RC);this.j.addEventListener(q.T.PHa,function(){return d.R5();});this.j.addEventListener(q.T.Ho,function(){return d.L2a();});this.j.paused.addListener(function(){return d.ak();});this.j.muted.addListener(function(){return d.k6();});this.j.volume.addListener(function(){return d.k6();});this.j.playbackRate.addListener(function(){return d.E4a();});this.j.io.addListener(function(){return d.ak();});this.j.Ek.addListener(function(){return d.ak();});this.k6();null===(h=this.Bl.Kj)||void 0===h?void 0:h.xIa(function(){return d.RJ();});null===(m=this.Bp.Kj)||void 0===m?void 0:m.xIa(function(){return d.RJ();});this.RJ();l.Pb(function(){c();});};b.prototype.dU=function(a){var b,f;b=this;f=this.Gz[a.M];f?f.gq.push(a):M.Ra(!1);this.W_a(a).then(function(){b.RJ();b.j.fireEvent(q.T.DY);})["catch"](function(a){b.Mm(z.K.PVa,{lb:P.We(a)});});};b.prototype.S6=function(a,b,f){f=void 0===f?{}:f;b={M:a.type,KA:!1,response:b,Aj:function(){return"header";},get ac(){return!this.KA;},profile:f.profile};(f=this.Gz[a.type])?f.gq.push(b):M.Ra(!1);this.RJ();this.Qra||a.type!==h.Uc.Uj.VIDEO||(this.Zo.vu||this.seek(this.j.S,q.kg.sI),this.Qra=!0);};b.prototype.U3a=function(a){var b;b=this.Gz[a.type];if(b)try{b.Kj=a;}catch(wa){this.Mm(z.K.i3,{da:A.iaa(a.type),lb:P.We(wa)});}};b.prototype.RJ=function(){this.HJ?this.ak():k.config.k6a&&this.MT();};b.prototype.Rrb=function(){var a;a=this.j.yA()||0;this.j.Xa.Ri?k.config.Z7a&&(a=Math.max(a-(this.Db.Gga+1)-k.config.Fga,this.j.Bb.OW().Wb)):(a-=k.config.Eyb,a=Math.max(a,this.Zo.Hca));this.seek(a,q.kg.KR);};b.prototype.eZ=function(a){var b;b=this;a===h.Uc.Uj.AUDIO?this.bS=!0:a===h.Uc.Uj.VIDEO&&(this.ST=!0);l.Pb(function(){return b.ak();});};b.prototype.xib=function(){return{vcb:this.yqa,mrb:this.Cra};};b.prototype.Z8=function(){return this.Bqa(this.Bl,this.dV())&&this.Bqa(this.Bp,this.dV());};b.prototype.W_a=function(a){var b;b=this.Db&&this.Db.Aza();return void 0===this.A5&&b&&Infinity!==a.fIa&&(a=a.fIa+a.om,a>this.j.Xu.HZ(U.ha)&&(this.j.Xu=U.Ib(a)),a>b.HZ(U.ha))?(this.A5=b.scale(2),this.m3a()):Promise.resolve();};b.prototype.m3a=function(){var a;a=this;return new Promise(function(b,f){function c(){return k().then(function(a){if(!1===a)return c();});}function k(){return new Promise(function(b){setTimeout(function(){var f,c;if(!((null===(f=a.Bl.Kj)||void 0===f?0:f.mk())||(null===(c=a.Bp.Kj)||void 0===c?0:c.mk())))try{a.Db.Jzb(a.A5);a.c6=!1;a.A5=void 0;b(!0);}catch(la){b(!1);}b(!1);},0);});}a.c6=!0;c().then(function(){b();})["catch"](function(b){a.qb.error("Unable to change the duration",b);f(b);});});};b.prototype.Ltb=function(){var a;a=this;return this.Zo.vu&&this.w7()&&this.Z8()?(this.Db.seek(this.Dl),this.Zo.vu=!1,n.fR||this.O5(),l.Pb(function(){return a.ak();}),!0):!1;};b.prototype.NDb=function(a){var b;if(a<this.Dl){b=this.Dl-a;k.config.Mtb&&a&&b>A.E3&&(a={ElementTime:N.Vh(a),MediaTime:N.Vh(this.Dl)},b>A.KXa?(this.qb.error("VIDEO.currentTime became much smaller",a),this.Mm(z.K.$Va)):this.qb.warn("VIDEO.currentTime became smaller",a));}else this.Dl=N.Gs(a,0,this.j.Xu.ca(U.ha));};b.prototype.dV=function(){return this.j.Lb.value===q.jb.Vf?this.Mra:this.xra;};b.prototype.w7=function(){return this.j.io.value===q.gf.od&&this.j.Ek.value===q.gf.od;};b.prototype.ak=function(){var a,b,f;this.j.jP=g.ah();if(!this.Qe()&&this.HJ){a=this.Db.Hjb();a||this.MT();n.fR||this.MT();this.j.paused.value||!this.Z8()||!this.w7()||a||this.Zo.vu?this.Q5():this.D5||this.R5();if(!(a||this.Zo.vu&&this.Ltb()||this.Qe())){a=this.Db.gM(!0);b=this.j.Lb.value;f=this.$9a();f===q.jb.Eq?(this.Dl=this.j.Xu.ca(U.ha),this.Q5()):f!==q.jb.Vf&&this.NDb(a);this.Jsa();this.iS();this.j.Lb.set(f);f!==q.jb.Vf||b!==q.jb.Jc&&b!==q.jb.yh||this.Bsb();}}};b.prototype.$9a=function(){var a,b,f;a=this;b=this.j.Lb.value;f=b;this.Zo.vu?f=q.jb.Vf:this.qd&&this.qd.ended?b===q.jb.Jc&&(f=q.jb.Eq):this.w7()&&this.Z8()?this.Db.fdb()?f=this.qd&&this.qd.paused?q.jb.yh:q.jb.Jc:this.l4a.Eb(function(){return a.k4a();}):f=this.j.Xu?this.j.BAa(this.Dl,this.dV())?q.jb.Vf:q.jb.Eq:q.jb.Vf;return f;};b.prototype.Bsb=function(){var a;if(this.j.Lb.value===q.jb.Vf){a=this.p4a()>this.dV();this.j.Ek.value!==q.gf.od?this.j.qj.value?(this.j.fireEvent(q.T.It,{cause:m.TWa}),this.qb.warn("rebuffer due to timed text",this.j.qj.value.Lg)):this.j.fireEvent(q.T.AH):a?(this.yqa++,this.j.fireEvent(q.T.It,{cause:m.doa})):(this.Cra++,this.j.fireEvent(q.T.It,{cause:m.eoa}));}};b.prototype.p4a=function(){var a,b;a=this.Bp.gq.filter(function(a){return!a.ac;}).reduce(function(a,b){return a+b.mr;},0);b=this.Bl.gq.filter(function(a){return!a.ac;}).reduce(function(a,b){return a+b.mr;},0);return Math.min(a,b);};b.prototype.k4a=function(){this.Qe()||(k.config.Trb&&this.Bl.Kj&&!this.Bl.Kj.mk()&&this.Bl.Kj.Bta(new Uint8Array([0,0,0,8,102,114,101,101])),this.ak());};b.prototype.Bqa=function(a,b){var f;f=a.eV;f=f&&f.pN;return!a.Kj||0===a.gq.length&&(a.type===y.Vg.audio&&this.bS||a.type===y.Vg.video&&this.ST)?!0:f&&f.MG-this.Dl>=b||!1;};b.prototype.y5=function(){this.ak();};b.prototype.I2a=function(){this.ak();this.j.fireEvent(q.T.qo);};b.prototype.J2a=function(){this.qb.trace("Video element event: ended");this.ak();};b.prototype.O2a=function(){this.qb.trace("Video element event: play");this.ak();};b.prototype.N2a=function(){this.qb.trace("Video element event: pause");this.ak();};b.prototype.P2a=function(){this.qb.trace("Video element event: playing");this.ak();};b.prototype.k6=function(){this.Qe()||(this.qd&&this.qd.volume!==this.j.volume.value&&(this.qd.volume=this.j.volume.value),this.qd&&this.qd.muted!==this.j.muted.value&&(this.qd.muted=this.j.muted.value));};b.prototype.E4a=function(){!this.Qe()&&this.qd&&(this.qd.playbackRate=this.j.playbackRate.value);};b.prototype.MT=function(){var a,b;this.c6||(this.Fsa(this.Bl),this.Fsa(this.Bp));!(this.Qe()||!this.bS&&!this.ST||(null===(a=this.Bl.Kj)||void 0===a?0:a.mk())||(null===(b=this.Bp.Kj)||void 0===b?0:b.mk())||this.I4)&&this.qd.readyState>O.Yd.nla.HAVE_NOTHING&&(this.I4=!0,this.Db.endOfStream());};b.prototype.Fsa=function(a){var b,f,c;if(!this.Qe()&&a.Kj){b=a.Kj;f=a.QE;!b.mk()&&0<f.length&&(a.eV=f[f.length-1]);if(a.mha){if(b.mk())return;a.mha=!1;c=this.Db.Aza().HZ(U.Im);0<c&&b.remove(0,c);}for(c=a.gq[0];c&&c.response&&(c.ac||c.av-this.Dl<=this.l5);)if(this.I4=!1,this.y4a(c))a.gq.shift(),c=a.gq[0];else break;!b.mk()&&0<f.length&&(a.eV=f[f.length-1]);}};b.prototype.y4a=function(a){var b,f,c;M.Ra(a&&a.response);b=a.response;f=a.M;c=this.Gz[f];if(!this.Qe()&&c.Kj&&!c.Kj.mk()){try{a.ac&&a.profile&&c.Kj.a9a(a.profile);this.qb.trace("Feeding media segment to decoder",{Bytes:b.byteLength});c.Kj.Bta(b,a);a.ac||c.QE.push(this.d0a(a));k.config.pdb&&!a.ac&&(this.Zo.vu&&!n.fR||a.Wua());}catch(Aa){"QuotaExceededError"!=Aa.name?(this.qb.error("Exception while appending media",a,Aa),this.Mm(z.K.YVa,A.iaa(f))):this.j.fV=this.j.fV?this.j.fV+1:1;return;}return!0;}};b.prototype.c0a=function(a){var b;b=this.j.Ykb(a.Jb);b||(this.qb.error("Could not find CDN",{cdnId:a.Jb}),b={id:a.Jb,Tca:a.location});return b;};b.prototype.j0a=function(a){var b,f;f=a.qa;a.M===h.Uc.Uj.AUDIO?b=this.j.AAa(f):a.M===h.Uc.Uj.VIDEO&&(b=this.j.JAa(f));b||this.qb.error("Could not find stream",{stream:f});return b;};b.prototype.d0a=function(a){var b;b=this.j0a(a);return{pN:a,stream:b,mo:{startTime:Math.floor(a.av),endTime:Math.floor(a.MG)},ec:this.c0a(a)};};b.prototype.R5=function(){var a;a=this;this.Qe()||!S.$b(this.qd)||this.qd.ended||!this.u5||!this.eE&&void 0!==this.eE||(this.qb.trace("Calling play on element"),Promise.resolve(this.qd.play()).then(function(){a.eE=!1;a.D5=!1;a.qd.style.display=null;a.j.dk=!1;a.j.fireEvent(q.T.g7,{j:a.j});})["catch"](function(b){"NotAllowedError"===b.name?(a.qb.warn("Playback is blocked by the browser settings",b),a.j.dk=!0,a.D5=!0,a.qd.style.display="none",a.j.fireEvent(q.T.dk,{player:{play:function(){return a.R5();}}})):(a.eE=!1,a.Ura||(a.Ura=!0,a.qb.error("Play promise rejected",b)));}));};b.prototype.L2a=function(){this.Zo.Hca=this.j.yA()||0;};b.prototype.Q5=function(){this.Qe()||!S.$b(this.qd)||this.qd.ended||!this.u5||this.eE&&void 0!==this.eE||(this.qb.trace("Calling pause on element"),this.qd.pause(),this.eE=!0);};b.prototype.iS=function(a){if(S.$b(a)){for(var b=this.Gz[a],f=b.QE,c,k=!1;(c=f[0])&&c.pN.av<=this.Dl;)if(this.Dl<c.pN.MG){a=a===h.Uc.Uj.AUDIO?this.j.fg:this.j.af;u.kva(c,a.value)||(k=!0,a.set(c));break;}else f.shift();!k&&!this.B5||this.I4||(c=c&&c.pN.av-c.pN.mr-1,0<c&&((b=b.Kj)&&!b.mk()?(b.remove(0,c/P.Lk),this.B5=!1):this.B5=!0));}else this.iS(h.Uc.Uj.AUDIO),this.iS(h.Uc.Uj.VIDEO);};b.prototype.Jsa=function(a){this.j.Yb.set(this.Dl);a&&this.j.cgb();};b.prototype.seek=function(a,b,f,c){var k,d,h,m;b=void 0===b?q.kg.Pv:b;f=void 0===f?this.j.Ma:f;c=void 0===c?!1:c;if(!this.Qe()&&this.j.Bb){k=this.j.ku(f).u;d=this.Zo.Xib(a,b,f,c);f=d.DN;c=d.Mi;h=d.vub;d=d.Ot;this.iS();m=this.Dl;a=N.Vh(a);this.j.eo("SEEKING: Requested: ("+k+":"+b+":"+a+") - Actual: (contentPts: "+c+","+("playerPts: "+h+", newMediaTime: "+f+")"));this.qb.info("Seeking",{Requested:a,Actual:N.Vh(f),Cause:b,Skip:d});this.j.fireEvent(q.T.dy,{iZ:m,DN:f,cause:b,skip:d});this.j.Lb.set(q.jb.Vf);b!==q.kg.sI&&(this.O5(),this.Bl.mha=!0,this.Bp.mha=!0);this.Dl=f;this.Zo.Hca=c;a=this.j.fg.value;h=this.j.af.value;this.j.fg.set(null);this.j.af.set(null);this.Jsa(!0);this.j.fireEvent(q.T.Uo,{iZ:m,DN:f,Mi:c,cause:b,skip:d,fg:a,af:h,u:k});this.Zo.vu=!0;this.ak();}};b.prototype.O5=function(){this.Bl.QE=[];this.Bl.eV=void 0;this.Bl.gq=[];this.Bp.QE=[];this.Bp.eV=void 0;this.Bp.gq=[];this.ST=this.bS=!1;this.j.fireEvent(q.T.DY);};b.prototype.Mm=function(a,b,f){var c;if(!this.lS){c=D.$.get(p.yl);this.j.Pd(c(a,b,f));}};b.prototype.pqa=function(){if(!this.lS){this.qb.info("Closing.");this.Db.removeEventListener(r.Fi.EO,this.ura[r.Fi.EO]);this.Db.removeEventListener(r.Fi.qo,this.ura[r.Fi.qo]);this.qd.removeEventListener("ended",this.Hf.ended);this.qd.removeEventListener("play",this.Hf.play);this.qd.removeEventListener("pause",this.Hf.pause);this.qd.removeEventListener("playing",this.Hf.playing);t.Le.removeListener(t.Yl,this.AJ[t.Yl]);this.lS=!0;try{k.config.drb&&(this.qd.volume=0,this.qd.muted=!0);this.Q5();this.Db.close();}catch(oa){}this.qd=void 0;this.O5();}};b.prototype.Qe=function(){return this.lS?!0:S.$b(this.qd)?!1:(this.qb.error("MediaPresenter not closed and _videoElement is not defined"),!0);};c.xUa=b;},function(d,c,a){var b,h,n,p,f,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);h=a(12);n=a(34);p=a(97);f=a(10);k=a(51);m=a(15);t=a(13);c.VWa=function(a){var g,G,M,N,P,l;function c(){return a.state.value===t.mb.LOADING||a.state.value===t.mb.od&&a.Lb.value===t.jb.Vf;}function d(){c()?l||(l=setInterval(u,100)):l&&(clearInterval(l),l=void 0,k.Pb(u));}function u(){var b,k,d,u,y,E,D,z;b=n.ah();k=g.value;d=k?k.Kh:0;y=a.state.value==t.mb.LOADING||c()&&b-G>h.config.m8a;y&&a.state.value==t.mb.od?(a.Ew.value===t.gf.Ooa?(D=d,E=!0):(u=b+(a.fl&&a.fl.vlb()||0),M=M||b,N=N||M+h.config.Dqb+1,m.ma(u)&&(u=f.Mn(u,N),D=a.fl?a.fl.IRb():.99,D=f.Ei(1E3*p.Gs((b-M)/(u-M),0,D))/1E3)),D<d&&(d-D<h.config.zvb/100?(D=d,P=void 0):P?b-P>h.config.yvb?(z=!0,P=void 0):D=d:(P=b,D=d))):P=N=M=void 0;b=y?{W_:E,Kh:D,Avb:z}:null;(!b||!g||!k||m.ma(b.Kh)&&!m.ma(k.Kh)||m.ma(b.Kh)&&m.ma(k.Kh)&&.01<f.AI(b.Kh-k.Kh)||b.W_!==k.W_)&&g.set(b);}g=a.y7;G=0;a.state.addListener(function(){d();u();},b.Z2);a.Lb.addListener(function(a){if(a.oldValue!==t.jb.Vf||a.newValue!==t.jb.Vf)G=n.ah();d();});a.Ew.addListener(function(){d();});a.io.addListener(function(){d();});a.Ek.addListener(function(){d();});l||(l=setInterval(u,100));};},function(d,c,a){var k,m,t,u;function b(a,b,f,c,k){var d;d={};"right"==a.horizontalAlignment?d.right=100*(f-b.left-b.width-k)/f+"%":d.left=100*(b.left-k)/f+"%";"bottom"==a.verticalAlignment?d.bottom=100*(c-b.top-b.height-k)/c+"%":d.top=100*(b.top-k)/c+"%";return d;}function h(a,b){var f;if(a&&b){40===b.x&&19===b.y?f=4/3/(40/19):52===b.x&&19===b.y&&(f=16/9/(52/19));if(f)return a.width/a.fontSize/f;}}function n(a,b,f,c,k){var d,h;d=a.style;h=t.Cba(a.text);for(a=a.lineBreaks;a--;)h="<br />"+h;return p(h,d,b,f,c,k);}function p(a,b,c,d,t,p){var n;n=b.characterStyle;t=t[n];d=b.characterSize*d.height/((0<=n.indexOf("MONOSPACE")?h(t,b.cellResolution)||t.lineHeight:t.lineHeight)||1);d=0<p?u.Ty(d*p):u.Ei(d);p={"font-size":d+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(p["font-style"]="italic");b.characterUnderline&&(p["text-decoration"]="underline");b.characterColor&&(p.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(p["background-color"]=f(b.backgroundColor,b.backgroundOpacity));d=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case m.Kea:p["text-shadow"]=d+" 0px 0px 7px";break;case m.xFa:p["text-shadow"]="-1px 0px "+d+",0px 1px "+d+",1px 0px "+d+",0px -1px "+d;break;case m.ftb:p["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case m.dtb:p["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}p=k.kL(p);(c=c[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(p+=";"+c);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+p+'">'+a+"</span>";}function f(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(c,"__esModule",{value:!0});k=a(40);m=a(208);t=a(19);u=a(10);c.sxa=function(a,b,f,c,k){var d;d="";a.textNodes.forEach(function(a){d+=n(a,f,b,c,k);});return d;};c.Seb=function(a,f,c,k,d){var h,m,n,y,g;h="";m=d.width;d=d.height;for(var p=f.length;p--;){n=f[p];y=a[p];y=y&&y.region;g="position:absolute;background:"+k+";width:"+u.Ei(n.width+2*c)+"px;height:"+u.Ei(n.height+2*c)+"px;";t.Gd(b(y,n,m,d,c),function(a,b){g+=a+":"+b+";";});h+='<div style="'+g+'"></div>';}return h;};c.Reb=b;c.YQb=h;c.$Qb=n;c.XQb=p;c.ZQb=f;c.Qeb=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return k.kL(b);};},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(10);c.uDb=function(a,c){function d(a,c,k){var n,u,g,l;if(a&&1<a.length){for(var d=[],h=[],m=0;m<a.length;m++)d[m]=0,h[m]=0;for(var t=!1,m=0;m<a.length;m++)for(var p=m+1;p<a.length;p++){u=a[m];g=a[p];if(0>u.width||0>g.width||g.left>u.left+u.width||g.left+g.width<u.left||g.top>u.top+u.height?0:g.top+g.height>=u.top){n=b.Mn(u.left,g.left);l=b.Mn(u.top,g.top);n={width:b.Mn(b.rp(u.left+u.width,g.left+g.width)-n,0),height:b.Mn(b.rp(u.top+u.height,g.top+g.height)-l,0),x:n,y:l};}else n=void 0;if(n&&1<n.width&&1<n.height)if(l=n.width<=n.height,u=f(a[m]),g=f(a[p]),l&&c||!l&&!c)n=b.Mn(n.width/2,.25),u.x<=g.x?(h[m]-=n,h[p]+=n):(h[p]-=n,h[m]+=n);else if(l&&!c||!l&&c)u=b.Mn(n.height/2,.25),d[m]-=u,d[p]+=u;}for(m=0;m<a.length;m++){if(-.25>h[m]&&0<=a[m].left+h[m]||.25<h[m]&&a[m].left+a[m].width+h[m]<=k.width)a[m].left+=h[m],t=!0;if(-.25>d[m]&&0<=a[m].top+d[m]||.25<d[m]&&a[m].top+a[m].height+d[m]<=k.height)a[m].top+=d[m],t=!0;}return t;}}function f(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,f){a.forEach(function(a){0>a.left&&a.left+a.width<f.width?a.left+=b.rp(-a.left,f.width-(a.left+a.width)):a.left+a.width>f.width&&0<a.left&&(a.left-=b.rp(a.left+a.width-f.width,a.left));0>a.top&&a.top+a.height<f.height?a.top+=b.rp(-a.top,f.height-(a.top+a.height)):a.top+a.height>f.height&&0<a.top&&(a.top-=b.rp(a.top+a.height-f.height,a.top));});}(a,c));for(var k=0;50>k&&d(a,!0,c);k++);for(k=0;50>k&&d(a,!1,c);k++);return a;};},function(d,c,a){var h,n,p,f,k;function b(a,b){this.C$=a;this.lA={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=h.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.AIa(b);this.cya=this.fib(this.C$);}Object.defineProperty(c,"__esModule",{value:!0});h=a(20);n=a(297);p=a(296);f=a(10);k=a(19);b.prototype.ln=function(){return this.element;};b.prototype.rzb=function(a){this.Y6=a;};b.prototype.Bzb=function(a){this.se=a;this.SG();};b.prototype.Hzb=function(a){this.AIa(a);this.SG();};b.prototype.SG=function(){var a,f,c,k,d,g,z,G,M,N,l,Y,S,A;a=this;f=this.ln();c=f.parentElement;k=c&&c.clientWidth||0;d=c&&c.clientHeight||0;g=c=0;z={width:k,height:d};if(0<k&&0<d&&this.se){this.Y6&&(z=h.dW(k,d,this.Y6),c=Math.round((k-z.width)/2),g=Math.round((d-z.height)/2));G=this.G8a(z);N=h.dW(G.width,G.height,this.Y6);G=(M=this.se.blocks)&&M.map(function(f){var c;c=p.sxa(f,N,a.C$,a.cya);f=p.Qeb(f)+";position:absolute";return h.createElement("div",f,c,b.B1);});}Object.assign(this.lA,{left:c+"px",right:c+"px",top:g+"px",bottom:g+"px"});f.style.display="none";f.style.direction=this.lA.direction;f.innerHTML="";if(G&&G.length){k=z.width;c=z.height;l=z;this.MK&&(l=this.W4a(z,this.MK,d,g));this.lA.margin=this.Io?this.xU(z,"top")+"px "+this.xU(z,"right")+"px "+this.xU(z,"bottom")+"px "+this.xU(z,"left")+"px ":void 0;G.forEach(function(a){return f.appendChild(a);});d=h.kL(this.lA);f.style.cssText=d+";visibility:hidden;z-index:-1";for(var g=[],q=G.length-1;0<=q;q--){Y=G[q];S=M[q];A=this.uEa(Y,S,k,c);A.width>k&&(Y.innerHTML=p.sxa(S,z,this.C$,this.cya,k/A.width),A=this.uEa(Y,S,k,c));g[q]=A;}g=n.uDb(g,l);if(q=M&&M[0]&&M[0].textNodes&&M[0].textNodes[0]&&M[0].textNodes[0].style)l=q.windowColor,q=q.windowOpacity,l&&0<q&&(z=p.Seb(M,g,Math.round(c/50),l,z),z=h.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+q,z,b.B1),f.insertBefore(z,f.firstChild));f.style.display="none";for(z=g.length-1;0<=z;z--)l=G[z].style,q=p.Reb(M[z].region,g[z],k,c,0),Object.assign(l,q);f.style.cssText=d;}};b.prototype.hha=function(a){this.MK=a;this.SG();};b.prototype.Yaa=function(){return this.MK;};b.prototype.iha=function(a){this.Io=a;this.SG();};b.prototype.Zaa=function(){return this.Io;};b.prototype.$aa=function(){return"block"===this.lA.display;};b.prototype.jha=function(a){var b;b=a?"block":"none";this.element.style.display=b;this.lA.display=b;a&&this.SG();};b.prototype.fib=function(a){var b,f;b=this;f={};k.Gd(a,function(a,c){f[a]=b.$pb(c);});return f;};b.prototype.AIa=function(a){this.lA.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};b.prototype.xU=function(a,b){if(this.Io){if("left"===b||"right"===b)return a.width*(this.Io[b]||0);if("top"===b||"bottom"===b)return a.height*(this.Io[b]||0);}return 0;};b.prototype.G8a=function(a){return this.Io?{height:a.height*(1-(this.Io.top||0)-(this.Io.bottom||0)),width:a.width*(1-(this.Io.left||0)-(this.Io.right||0))}:a;};b.prototype.$pb=function(a){var c;a=h.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+a+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",b.B1);f.ne.body.appendChild(a);c={fontSize:1E3,height:a.clientHeight,width:a.clientWidth/52,lineHeight:a.clientHeight/1E3};f.ne.body.removeChild(a);return c;};b.prototype.uEa=function(a,b,f,c){var k,d,h,m,t;k=b.region;d=(k.marginTop||0)*c;h=(k.marginBottom||0)*c;m=(k.marginLeft||0)*f;t=(k.marginRight||0)*f;b=a.clientWidth||1;a=a.clientHeight||1;switch(k.verticalAlignment){case"top":c=d;break;case"center":c=(d+c-h-a)/2;break;default:c=c-h-a;}switch(k.horizontalAlignment){case"left":f=m;break;case"right":f=f-t-b;break;default:f=(m+f-t-b)/2;}return{top:c,left:f,width:b,height:a};};b.prototype.W4a=function(a,b,f,c){return{height:f-Math.max(c,b.bottom||0)-Math.max(c,b.top||0),width:a.width};};c.lZa=b;b.B1={"class":"player-timedtext-text-container"};},function(d,c,a){var h,n,p,f,k,m,t;function b(a){var b,c,d,h;b=this;this.j=a;this.mL=void 0;this.H4=p.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});this.z4=p.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.q4=p.createElement("DIV","width:100%;text-align:center");this.B_a=this.C4("Audio Bitrate");this.n6=this.C4("Video Bitrate");this.u4=this.C4("CDN");this.VJ={};this.aX=f.$.get(k.vl);this.H4.appendChild(this.z4);this.z4.appendChild(this.q4);c=p.createElement("BUTTON",void 0,"Override");c.addEventListener("click",this.t_a.bind(this),!1);this.q4.appendChild(c);c=p.createElement("BUTTON",void 0,"Reset");c.addEventListener("click",this.H3a.bind(this),!1);this.q4.appendChild(c);d=this.V2a.bind(this);n.Le.addListener(n.BA,d);a.addEventListener(t.T.Ho,function(){b.VJ={};});a.addEventListener(t.T.pf,function(){n.Le.removeListener(n.BA,d);});h=this.t3a.bind(this);a.ec.forEach(function(a){a.addListener(h);});a.ad.addListener(h);a.zg.addListener(h);}Object.defineProperty(c,"__esModule",{value:!0});h=a(50);n=a(57);p=a(20);f=a(5);k=a(31);m=a(108);t=a(13);b.prototype.show=function(){this.kK||(this.ksa(),this.j.zf.appendChild(this.H4),this.kK=!0);};b.prototype.zo=function(){this.kK&&(this.j.zf.removeChild(this.H4),this.kK=!1);};b.prototype.toggle=function(){this.kK?this.zo():this.show();};b.prototype.LKa=function(){var f,c,k;function a(a,b,f){var c,k,d;d=[];b.filter(function(b){return b.Jf===a;}).forEach(function(a){0<=f.indexOf(a)?(void 0===c?c=a.R:k=a.R,void 0===k&&(k=a.R)):void 0!==c&&void 0!==k&&(d.push({min:c,max:k}),c=k=void 0);});void 0!==c&&void 0!==k&&(d.push({min:c,max:k}),c=k=void 0);return d;}function b(a,b,f){var c;c=[];b.filter(function(b){return b.Jf===a;}).forEach(function(a){-1===f.indexOf(a)&&c.push({stream:{bitrate:a.R},disallowedBy:["manual"]});});return c;}f=this.j.Pw();c=this.j.AA().sort(function(a,b){return a.R-b.R;});k=c.reduce(function(a,b){0>a.indexOf(b.Jf)&&a.push(b.Jf);return a;},[]).map(function(k){return{profile:k,ranges:a(k,c,f),disallowed:b(k,c,f)};});this.j.Bb.NB(k,this.j.u);};b.prototype.t_a=function(){var f,c,a,b;this.VJ={};for(var a=this.n6.options,b=a.length;b--;){f=a[b];f.selected&&(this.VJ[f.value]=1);}this.mL=this.e0a.bind(this);this.LKa();if(a=this.j.sj){c=this.u4.value;a=a.filter(function(a){return a.id==c;})[0];b=this.j.ec[h.Uc.Na.VIDEO].value;a&&a!=b&&(a.Iua={testreason:"streammanager",selreason:"userselection"},this.j.ec[h.Uc.Na.VIDEO].set(a));}this.zo();};b.prototype.H3a=function(){this.mL=void 0;this.j.OIa(this.j.u);this.zo();};b.prototype.e0a=function(){var a;a=this;return this.j.AA().filter(function(b){return a.VJ[b.R];});};b.prototype.ksa=function(){var a,b,f,c;a=this;b=this.j.ad.value;f=this.j.zg.value;c=this.j.sj;b&&(c=c.slice(),c.sort(function(a,b){return a.Pf-b.Pf;}),this.V5(this.B_a,b.cc.map(function(b){return{value:b.R,caption:b.R,selected:b==a.j.Yk.value};})));f&&(this.V5(this.n6,f.cc.map(function(b){var f,c;f=a.j.qN.gv(b);b=b.R;c=""+b;f&&(c+=" ("+f.join("|")+")");return{value:b,caption:c,selected:a.mL?a.VJ[b]:!f};})),this.n6.removeAttribute("disabled"));c&&(this.V5(this.u4,c.map(function(b){return{value:b.id,caption:"["+b.id+"] "+b.name,selected:b==a.j.ec[h.Uc.Na.VIDEO].value};})),this.u4.removeAttribute("disabled"));};b.prototype.t3a=function(){this.kK&&this.ksa();};b.prototype.C4=function(a){var b,f;b=p.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=p.createElement("DIV",void 0,a);f=p.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(f);this.z4.appendChild(b);return f;};b.prototype.V5=function(a,b){a.innerHTML="";b.forEach(function(b){var f;f={title:b.caption};b.selected&&(f.selected="selected");f=p.createElement("option",void 0,b.caption,f);f.value=b.value;a.appendChild(f);});};b.prototype.V2a=function(a){a.ctrlKey&&a.altKey&&a.shiftKey&&a.keyCode==m.Bs.XXa&&this.aX.pca&&this.toggle();};c.bXa=b;},function(d,c,a){var b,h,n,p,f,k,m,t,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);h=a(34);n=a(2);p=a(189);f=a(10);k=a(15);m=a(13);t=a(5);u=a(139);c.KSa=function(a){var d,g,y,M;function c(){a.state.value!==m.mb.od||a.Lb.value!==m.jb.yh&&a.Lb.value!==m.jb.Eq?g.th():g.fu();}d=b.config.ztb;if(!a.NA()&&d){g=t.$.get(u.bD)(d,function(){a.fireEvent(m.T.HF,n.K.qR);});a.Lb.addListener(c);a.state.addListener(c);if(b.config.Nba){M=h.ah();y=new p.Goa(b.config.Nba,function(){var c,k;c=h.ah();k=c-M;k>d&&(a.fireEvent(m.T.HF,n.K.aR),y.Y7());k>2*b.config.Nba&&(a.Oba=f.Mn(k,a.Oba||0));M=c;});y.kha();}a.addEventListener(m.T.pf,function(){g.th();k.$b(y)&&y.Y7();});}};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(13);h=a(65);c.JRa=function(a){function c(f){a.fireEvent(b.T.Xw,{response:f,u:a.fa.u});}return{download:function(b,k){b.j=a;b=h.Ye.download(b,k);b.x6(c);return b;}};};},function(d,c,a){var h;function b(a,b){var f;f=this;this.Bza=a;this.TEa=b;this.jia=!1;this.Nu=function(){f.ym=void 0;f.update();};}Object.defineProperty(c,"__esModule",{value:!0});h=a(20);b.prototype.update=function(a){var b,f,c;b=this.Bza();if(this.YKa!==b){h.$b(b)&&h.$b(this.duration)&&b<this.duration&&this.entries&&(c=this.oEa||this.entries[Math.floor(b*this.xCb)]||this.entries[0]);if(c){for(;c&&c.endTime<b;)c=c.next;for(;c&&c.previous&&c.previous.endTime>=b;)c=c.previous;}c&&(c.startTime<=b&&b<=c.endTime?(f=c,this.TKa(c.endTime-b)):this.TKa(c.startTime-b));this.oEa=c;this.YKa=b;this.w6!==f&&(this.w6=f,!a&&this.TEa&&this.TEa());}};b.prototype.start=function(){this.jia=!0;this.update();};b.prototype.BIa=function(a){this.oEa=this.w6=this.YKa=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(fa(a.map(function(a){return a.endTime;}))))||0;this.xCb=a&&a.length/this.duration||0;this.update();};b.prototype.stop=function(){this.jia=!1;this.th();};b.prototype.Igb=function(){this.update(!0);return this.w6;};b.prototype.TKa=function(a){this.th();this.jia&&0<a&&(this.ym=setTimeout(this.Nu,a+b.SUa));};b.prototype.th=function(){this.ym&&(clearTimeout(this.ym),this.ym=void 0);};c.oZa=b;b.SUa=10;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.kma="LicenseBrokerFactorySymbol";},function(d,c,a){var b,h,n,p,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);h=a(12);d=a(2);n=a(5);p=a(20);f=a(10);a=a(24);n.$.get(a.Cf).register(d.K.Cla,function(a){var d,u,g;function k(){g&&clearTimeout(g);a(b.pd);k=p.Pe;}d=n.Jg("BatteryManager");c.Ht={GNa:"chargingchange",qza:function(){return u?u.level:null;},caa:function(){return u?u.charging:null;},addEventListener:function(a,b){u&&u.addEventListener(a,b);},removeEventListener:function(a,b){u&&u.removeEventListener(a,b);}};if(h.config.WK){g=setTimeout(k,h.config.bhb);try{f.ej.getBattery().then(function(a){u=a;k();})["catch"](function(a){d.error("getBattery promise rejected",a);k();});}catch(E){d.error("exception on getBattery api call",E);k();}}else k();});},function(d,c,a){var m,t,u,g,E,D,z,G;function b(a){return a.split(",").reduce(function(a,b){var f;f=b.split("=");b=f[0];f=f.slice(1).join("=");b&&b.length&&(a[b]=f||!0);return a;},{});}function h(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function n(a,f,c){var k;if("string"===typeof a)return n.call(this,b(a),f,c);k=0;Object.keys(a).forEach(function(b){var d,t,p;d=E[b];t=a[b];if(d){if(p=D[b]||G[typeof m[d]])try{t=p(t);}catch(U){c&&c.error("Failed to convert value '"+t+"' for config '"+b+"' : "+U.toString());return;}p=g[d];this[d]=t;g[d]!==p&&(c&&c.debug("Config changed for '"+b+"' from "+h(p)+" ("+typeof p+") to "+h(t)+" ("+typeof t+")"),++k);}else f?(d=(d=z[b])?d.filter(function(a){return a[0]!==this;},this):[],d.push([this,t]),z[b]=d):c&&c.error("Attempt to change undeclared config option '"+b+"'");},this);k&&g.emit("changed");return k;}function p(){return Object.keys(E).reduce(function(a,b){var f,c;f=E[b];c=a[f];c?(c.push(b),a[f]=c.sort(function(a,b){return b.length-a.length;})):a[f]=[b];return a;},{});}function f(a,b){return a.hasOwnProperty(b)?h(a[b]):void 0;}function k(a,b){return"undefined"===typeof a?b:a;}c=a(59);a=a(111).EventEmitter;m={};t=Object.create(m);u=Object.create(t);g=Object.create(u);E={};D={};z={};g.declare=function(a){Object.keys(a).forEach(function(b){var f,c,k,d;f=a[b];c=f[0];k=f[1];d=f[2];if(m.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof c&&(c=[c]);c.forEach(function(a){var f;if(E.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");m.hasOwnProperty(b)||("function"===typeof k&&(k=k()),m[b]=k);E[a]=b;"function"===typeof d&&(D[a]=d);if(f=z[a])f.forEach(function(b){var f,c;f=b[0];c={};c[a]=b[1];n.call(f,c,!1);}),delete z[a];});});return g;};G={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};g.set=n.bind(t);g.yG=n.bind(u);g.dump=function(a,b){var d,n,y,G;function c(){G&&a&&a.log("===========================================");}d=Object.keys(z).sort();n={};y=p();b=k(b,!0);Object.keys(E).sort().forEach(function(d){var p,D,M;d=E[d];!n[d]&&(n[d]=!0,D=f(t,d),M=f(u,d),b||"undefined"!==typeof D||"undefined"!==typeof M)&&(p=y[d].join(","),p+=" = "+h(g[d])+" ("+typeof g[d]+") [",p+=k(M,"<unset>")+",",p+=k(D,"<unset>")+",",p+=f(m,d)+"]",G||(G=!0,a&&a.log("Current config values"),c()),a&&a.log(p));});(b||d.length)&&a&&a.log("<undeclared> :",d);c();};g.oo=function(a){var b,f;b={};f={};Object.keys(E).forEach(function(a){a=E[a];f[a]||(f[a]=!0,b[a]=g[a]);});a&&n.call(b,a);return b;};g.HFa=function(){var a;a=p();return Object.getOwnPropertyNames(t).reduce(function(b,f){b[a[f][0]]=t[f];return b;},{});};g.reset=function(){Object.keys(t).forEach(function(a){delete t[a];});};g.Pm={};c(a,g);d.P=Object.freeze(g);},function(d,c,a){var h,n,p,f,k;function b(a){var b,c;b=f.platform;h.Jg("MediaSourceASE").trace("Inside MediaSourceASE");c=a.Aaa();this.readyState=k.jc.CLOSED;this.sourceBuffers=c.sourceBuffers;this.addSourceBuffer=function(a){return c.addSourceBuffer(a);};this.$T=function(a){return c.$T(a);};this.removeSourceBuffer=function(a){return c.removeSourceBuffer(a);};this.en=function(a){return c.en(a);};this.sourceId=b.lM();b.FM();this.duration=void 0;c.qzb(this.sourceId);this.readyState=k.jc.OPEN;this.wc=n.$.get(p.hf).aB(k.wc,{});}Object.defineProperty(c,"__esModule",{value:!0});h=a(5);n=a(5);p=a(22);f=a(50);Object.defineProperty(b.prototype,"duration",{get:function(){return this.kj;},set:function(a){var b;this.kj=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.kj=b;});}});k={jc:{CLOSED:0,OPEN:1,Eq:2,name:["CLOSED","OPEN","ENDED"]},wc:{eva:!0,fEa:!0}};c.AUa=Object.assign(b,k);},function(d,c,a){var b,h,n,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(308);h=a(5);n=a(441);p=a(22);c.pBb=function(a){a({aa:!0,storage:new b.jma(h.$.get(n.lma),h.$.get(p.hf))});};},function(d,c){function a(a,c){this.Zq=a;this.Yc=c;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.load=function(b,c){var d;d=this;this.Zq.load(b).then(function(b){c&&c(a.CJa(b));})["catch"](function(a){c&&c(d.gF(b,a));});};a.prototype.save=function(b,c,d,p){var f;f=this;this.Zq.save(b,c,d).then(function(){p&&p(a.CJa({key:b,value:c}));})["catch"](function(a){p&&p(f.gF(b,a));});};a.prototype.remove=function(a,c){var b;b=this;this.Zq.remove(a).then(function(){c&&c({aa:!0,b0:a});})["catch"](function(d){c&&c(b.gF(a,d));});};a.CJa=function(a){return{aa:!0,data:a.value,b0:a.key};};a.prototype.gF=function(a,c){return{aa:!1,b0:a,da:c.da,lb:c.cause?this.Yc.We(c.cause):void 0};};c.jma=a;},function(d,c,a){var b,h,n,p,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);h=a(71);n=a(22);p=a(308);f=a(439);c.oBb=function(a){b.$.get(h.qs).create().then(function(c){a({aa:!0,storage:new p.jma(c,b.$.get(n.hf)),Np:b.$.get(f.yka)});})["catch"](function(b){a(b);});};},function(d,c,a){var b,h,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);h=a(5);n=a(2);a(19);c.qBb=function(a){var f;h.Jg("Storage");f={};a({aa:!0,storage:{load:function(a,b){f.hasOwnProperty(a)?b({aa:!0,data:f[a],b0:a}):b({da:n.G.Rv});},save:function(a,b,c,d){c&&f.hasOwnProperty(a)?d({aa:!1}):(f[a]=b,d&&d({aa:!0,b0:a}));},remove:function(a,c){delete f[a];c&&c(b.pd);}}});};},function(d,c,a){var h,n,p,f,k,m,t,u,g,E,D,z,G,M,N,l,q,Y,S,A,r,U,ia,T,ma,O,oa,ta,wa,R,Aa,ja,Fa,Ha,la,Da,Qa,Oa,B;function b(a,b,f,c,k,d,m,t,n,y,G,l,P,W,Y,O,X,R,ja,Aa,wa,Qa,Ha,Oa,B,H,Yb){var ca,bb,Va,Jb;function Ia(a){a.newValue!==la.jb.Vf&&a.newValue!==la.jb.yh&&(ca.Lb.removeListener(Ia),ca.JF=ca.Ia.G_,ca.Hb.Sb(la.T.An));}function ob(a){a.newValue!==la.jb.Vf&&(ca.Lb.removeListener(ob),ca.RFa=ca.Ia.Ve.ca(r.ha));}ca=this;this.FF=k;this.ta=m;this.rE=t;this.Ia=n;this.qda=y;this.rda=P;this.rY=W;this.Hc=Y;this.he=O;this.Gj=X;this.Sz=R;this.Zea=ja;this.pda=Aa;this.xia=wa;this.ri=Qa;this.Yc=Ha;this.Yea=Oa;this.yk=B;this.xK=H;this.BU=Yb;this.XFa=[];this.EG={};this.ad=new E.Qc(null);this.zg=new E.Qc(null);this.tc=new E.Qc(null);this.qj=new E.Qc(null);this.fs=new E.Qc(void 0);this.ef=new E.Qc(null);this.Yk=new E.Qc(null);this.Yb=new E.Qc(void 0);this.playbackRate=new E.Qc(1);this.Eia=function(a){return ca.ad.set(a.newValue);};this.eEb=function(a){return ca.zg.set(a.newValue);};this.bEb=function(a){return ca.tc.set(a.newValue);};this.BDb=function(a){return ca.qj.set(a.newValue);};this.aEb=function(a){return ca.fs.set(a.newValue);};this.dEb=function(a){return ca.ef.set(a.newValue);};this.CDb=function(a){return ca.Yk.set(a.newValue);};this.TDb=function(a){return ca.af.set(a.newValue);};this.SDb=function(a){return ca.fg.set(a.newValue);};this.MDb=function(a){return ca.Yb.set(a.newValue);};this.QDb=function(a){return ca.playbackRate.set(a.newValue);};this.vn={};this.lga=this.pia=0;this.Hb=new z.Jk();this.OP={};this.vra=0;this.Jha=!1;this.state=new E.Qc(la.mb.PC);this.kq=new E.Qc(!1);this.paused=new E.Qc(!1);this.muted=new E.Qc(!1);this.volume=new E.Qc(D.config.Ccb/100);this.Lb=new E.Qc(la.jb.Vf);this.Ew=new E.Qc(la.gf.ye);this.io=new E.Qc(la.gf.ye);this.Ek=new E.Qc(la.gf.ye);this.fg=new E.Qc(null);this.af=new E.Qc(null);this.y7=new E.Qc(null);this.sX=u.JRa(this);this.CY=[];this.ec=[];this.o7={};this.IL=this.exa=!1;this.vBb=this.Fa=this.ph=-1;this.Maa=function(a,b){a=void 0===a?null:a;return ta.ma(a)?b&&!ca.ku(b).wa?a:ca.Bb?ca.Bb.jr(void 0,a,b):a:null;};this.VEa=function(){ca.Dha();};this.wGa=this.FF.aA();this.cA=a;this.addEventListener=this.Hb.addListener;this.removeEventListener=this.Hb.removeListener;this.fireEvent=this.Hb.Sb;k=D.config.Ro&&this.Hc()?this.Hc().ZW(a):void 0;this.E6({pa:a,Ma:c,Xa:f||{}},k,b);this.log=A.fh(this);this.k9=d(this);this.D7a=G(this);this.zf=Fa.createElement("DIV",g.Eoa,void 0,{id:this.u});this.bmb();bb=l(r.rh(1));this.de=this.log.D8("Playback");this.fub=p.PWa(this);N.UI.Tqb=this;N.UI.x$||(N.UI.x$=this);this.de.info("Playback created",this.Lg);this.$ca?this.de.info("Playback selected for trace playback info logging"):this.de.trace("Playback not selected for trace playback info logging");D.config.Ro&&this.Hc()&&(this.Hc().Rkb(this.u),this.addEventListener(la.T.An,function(){ca.Hc().Skb(ca.u);ca.tc.addListener(function(){ca.Hc().yAa();});ca.ad.addListener(function(){ca.Hc().yAa();});}),this.addEventListener(la.T.pf,function(){ca.Hc().Qkb(ca.u);}));this.state.addListener(function(a){ca.de.info("Playback state changed",{From:a.oldValue,To:a.newValue});T.Ra(a.newValue>a.oldValue);});M.Le.addListener(M.Yl,this.VEa,g.Z2);this.Yb.addListener(function(){bb.Eb(function(){return ca.Wxa();});});Jb=!1;this.paused.addListener(function(a){var b;b=ca.Bb;!a.qea&&b&&(!0===a.newValue?b.paused&&b.paused():b.BP&&b.BP());a.newValue||(Jb=!1);ca.de.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Vh(ca.Yb.value)});});this.addEventListener(la.T.dy,function(a){ca.fa.lm.Mrb(a.iZ,a.DN);});this.Lb.addListener(function(a){ca.de.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Vh(ca.Yb.value)},ca.cG());});this.Lb.addListener(function(){ca.kq.set(ca.Lb.value===la.jb.Jc);});this.Ew.addListener(function(a){ca.de.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Vh(ca.Yb.value)},ca.cG());});this.io.addListener(function(a){ca.de.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Vh(ca.Yb.value)},ca.cG());});this.Ek.addListener(function(a){ca.de.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ma.Vh(ca.Yb.value)},ca.cG());});this.ad.addListener(function(a){T.Ra(a.newValue);ca.de.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.Zk,To:a.newValue.bb},a.oldValue&&{FromBcp47:a.oldValue.Zk,From:a.oldValue.bb},{MediaTime:ma.Vh(ca.Yb.value)});});this.zg.addListener(function(){for(var a=ca.AA(),b=a.length,f=0;f<b;f++)a[f].lower=a[f-1],a[f].nlb=a[f+1];});this.tc.addListener(function(a){ca.de.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.Zk,To:a.newValue.bb}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.Zk,From:a.oldValue.bb}:{From:"none"},{MediaTime:ma.Vh(ca.Yb.value)});});this.ec[h.Uc.Na.AUDIO]=new E.Qc(null);this.ec[h.Uc.Na.VIDEO]=new E.Qc(null);this.Lb.addListener(ob,g.RC);this.Lb.addListener(Ia);this.addEventListener(la.T.An,function(){var a,b,f,c;ca.Jha=!0;ca.WAb=ca.E7();ca.$c("start");a=ca.af.value;b=L._cad_global.prefetchEvents;if(b){f=r.Ib(ca.nn?ca.nn.audio:0);c=r.Ib(ca.nn?ca.nn.video:0);b.mm(ca.u,ca.ga,"notcached"!==ca.Mt,"notcached"!==ca.Iw,!!ca.nn,f,c);}ca.EX=a.stream.R;});S.VWa(this);N.On.push(this);D.config.sO&&(this.BZ=this.Yea(this),this.CZ=new q.bXa(this));N.ioa.forEach(function(a){a(ca);});this.G5a=function(a){ca.addEventListener(la.T.dy,function(b){b=b.cause;b!==la.kg.sI&&b!==la.kg.XC&&a.stop();});ca.addEventListener(la.T.Uo,function(b){var f,c,k,d,h,m,t;f=b.cause;c=b.skip;k=b.DN;d=b.iZ;h=b.u;b=b.Mi;if(f!==la.kg.XC&&(D.config.agb&&f===la.kg.KR&&ca.wm.UK(),f!==la.kg.sI))if(c)if(a.Ot(k)){ca.de.trace("Repositioned. Skipping from "+d+" to "+k);f=function(a){ca.log.error("streamingSession.skipped threw an exception",a);a=Da.Ic.nW(U.K.ULa,a);ca.Bn(a.code,a);};try{m=a.$i(k);m?m.then(function(b){b.KF||a.play();})["catch"](f):a.play();}catch(gc){f(gc);}}else ca.log.error("can skip returned false");else{ca.de.trace("Repositioned. Seeking from "+d+" to "+k);try{t=ca.Wl(h).Ma;a.jy(b,ca.pza(t),t);}catch(gc){ca.log.error("streamingSession.seekByContentPts threw an exception",gc);k=Da.Ic.nW(U.K.SLa,gc);ca.Bn(k.code,k);}}});a.addEventListener("maxPosition",function(a){var b;b=r.Ib(a.maxPts);if(a=ca.Wu[a.index])a.ir=b;ca.Xu||(ca.Xu=b);});a.addEventListener("segmentStarting",function(a){ca.fireEvent(la.T.Kyb,a);});a.addEventListener("lastSegmentPts",function(a){ca.fireEvent(la.T.Hyb,a);});a.addEventListener("segmentPresenting",function(a){ca.fireEvent(la.T.z_,a);});a.addEventListener("segmentAborted",function(a){ca.fireEvent(la.T.Fyb,a);});a.addEventListener("manifestPresenting",function(a){ca.eDa({u:parseInt(a.movieId),KZ:a.previousMovieId?parseInt(a.previousMovieId):void 0,JA:!1});});a.addEventListener("skip",function(a){ca.fireEvent(la.T.$i,a);});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure"===a.error&&(ca.de.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),ca.de.trace("StreamingFailure, buffer status:"+JSON.stringify(ca.cG())),D.config.rfb&&!ca.Jha&&oa.Pb(function(){ca.Pd(ca.he(U.K.TLa,{da:a.nativeCode,lb:a.errormsg,Oi:a.httpCode,VY:a.networkErrorCode}));}));});a.addEventListener("maxvideobitratechanged",function(a){ca.CY.push(a);});a.addEventListener("bufferingStarted",function(){ca.io.set(la.gf.ye);});a.addEventListener("locationSelected",function(a){ca.fireEvent(la.T.Dr,a);});a.addEventListener("serverSwitch",function(a){var b;ca.fireEvent(la.T.fH,a);"video"===a.mediatype?b=h.Uc.Na.VIDEO:"audio"===a.mediatype&&(b=h.Uc.Na.AUDIO);ta.$b(b)&&ca.wzb(a.server,b);});a.addEventListener("bufferingComplete",function(b){ca.de.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},ca.cG());ca.ko=b;ca.io.set(la.gf.od);Va||(Va=!0,ca.$c("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.UEa();D.config.xtb&&!ca.paused.value&&(Jb=!0,ca.paused.set(!0,{qea:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){ca.paused.value&&Jb&&(Jb=!1,ca.paused.set(!1,{qea:!0}));ca.Si.Rrb();});a.addEventListener("asereportenabled",function(){ca.IL=!0;});a.addEventListener("asereport",function(a){ca.fireEvent(la.T.qE,a);});a.addEventListener("aseexception",function(a){ca.fireEvent(la.T.pE,a);});a.addEventListener("hindsightreport",function(a){var b,f;b=ta.ma(ca.Ze)?0:ca.Ze;f=a.report;f&&f.length&&f.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});ca.xba={vxb:f,wlb:a.hptwbr,aBa:a.htwbr,wZ:a.pbtwbr};a.rr&&(ca.xba.NHa=a.rr);a.ra&&(ca.xba.Wvb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;ca.Fa=a.location.bandwidth;ca.ph=a.location.httpResponseTime;ca.vBb=a.stat.streamingBitrate;b&&(void 0===ca.Uz&&(ca.Uz={interval:D.config.xE,startTime:b.startTime,Ct:[],sv:[]}),ca.Uz.Ct=ca.Uz.Ct.concat(b.Ct),ca.Uz.sv=ca.Uz.sv.concat(b.sv));a.psdConservCount&&(ca.uGa=a.psdConservCount);});a.addEventListener("headerCacheDataHit",function(a){a.movieId===""+ca.u&&(ca.nn=a);});a.addEventListener("startEvent",function(a){L._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&L._cad_global.prefetchEvents.TK(ia.He.Qj.MEDIA,ca.u);});a.addEventListener("requestComplete",function(a){var b;b=(a=a&&a.mediaRequest)&&a.GE&&a.GE.cadmiumResponse;b&&ca.fireEvent(la.T.Xw,{response:b,u:ca.ku(a.Ma).u});});a.addEventListener("streamSelected",function(a){var b,f;a.mediaType===h.Uc.Na.VIDEO?(f=ca.JAa(a.streamId),b=ca.ef):a.mediaType===h.Uc.Na.AUDIO&&(f=ca.AAa(a.streamId),b=ca.Yk);f&&b?b.set(f,{Vua:a.movieTime,y7a:a.bandwidth}):ca.de.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,f;if("string"===typeof a.target&&"object"===typeof a.fields){b=ca.vn[a.target];f=ta.ma(ca.Ze)?ca.Ze:0;b||(b=ca.vn[a.target]={});Object.keys(a.fields).forEach(function(c){var k,d,h,m;k=a.fields[c];if("object"!==typeof k||null===k)b[c]=k;else{d=k.type;if("count"===d)void 0===b[c]&&(b[c]=0),++b[c];else if(void 0!==k.value)if("array"===d){d=b[c];h=k.adjust;m=k.value;d||(d=b[c]=[]);h&&0<h.length&&h.forEach(function(a){m[a]-=f||0;});d.push(m);}else"sum"===d?(void 0===b[c]&&(b[c]=0),b[c]+=k.value):b[c]=k.value;else b[c]=k;}});}});};this.ad.addListener(function(a){var b,f,c,k;if(ca.Bb)if(a.Rw&&a.Rw.tta)ca.de.trace("Not processing already applied track",null===(b=a.newValue)||void 0===b?void 0:b.bb);else{k=a.newValue;ca.Bb.IJa({tE:k.HA,toJSON:function(){return k.Lg;}})?ca.de.trace("ASE accepted the audio track switch",null===(c=a.newValue)||void 0===c?void 0:c.bb):(ca.de.trace("ASE rejected the audio track switch",null===(f=a.newValue)||void 0===f?void 0:f.bb),a.oldValue.HA!==k.HA&&ca.ad.set(a.oldValue,{tta:!0}));}});this.addEventListener(la.T.It,function(a){a.cause==N.eoa&&(ca.Ew.set(la.gf.ye),ca.Bb.GKa(ca.Si.bza()));});}Object.defineProperty(c,"__esModule",{value:!0});h=a(50);n=a(196);p=a(195);f=a(126);k=a(304);m=a(624);t=a(623);u=a(301);g=a(11);E=a(192);D=a(12);z=a(79);G=a(300);M=a(57);N=a(58);l=a(96);q=a(299);Y=a(620);S=a(295);A=a(5);r=a(3);U=a(2);ia=a(119);T=a(18);ma=a(97);O=a(19);oa=a(51);ta=a(15);wa=a(125);R=a(294);Aa=a(135);ja=a(190);Fa=a(20);Ha=a(127);la=a(13);Da=a(45);Qa=a(194);Oa=a(292);B=a(134);b.prototype.$c=function(a,b){b=void 0===b?this.cA:b;this.EG[b].$c(a);};b.prototype.ru=function(a){this.fa.ru(a);};b.prototype.bmb=function(){var a;a=this;this.ad.addListener(function(b){return a.fa.ad.set(b.newValue);});this.zg.addListener(function(b){return a.fa.zg.set(b.newValue);});this.tc.addListener(function(b){return a.fa.tc.set(b.newValue);});this.qj.addListener(function(b){return a.fa.qj.set(b.newValue);});this.fs.addListener(function(b){return a.fa.fs.set(b.newValue);});this.ef.addListener(function(b){return a.fa.ef.set(b.newValue);});this.Yk.addListener(function(b){return a.fa.Yk.set(b.newValue);});this.af.addListener(function(b){return a.fa.af.set(b.newValue);});this.fg.addListener(function(b){return a.fa.fg.set(b.newValue);});this.Yb.addListener(function(b){return a.fa.Yb.set(b.newValue);});this.playbackRate.addListener(function(b){return a.fa.playbackRate.set(b.newValue);});this.JHa();};b.prototype.JHa=function(){this.fa!==this.Lga&&(this.fa.Yb.set(this.Yb.value),this.fa.playbackRate.set(this.playbackRate.value),this.Cq(function(a){return a.ad;},this.Eia),this.Cq(function(a){return a.zg;},this.eEb),this.Cq(function(a){return a.fs;},this.aEb),this.Cq(function(a){return a.tc;},this.bEb),this.Cq(function(a){return a.qj;},this.BDb),this.Cq(function(a){return a.ef;},this.dEb),this.Cq(function(a){return a.Yk;},this.CDb),this.Cq(function(a){return a.fg;},this.SDb),this.Cq(function(a){return a.af;},this.TDb),this.Cq(function(a){return a.Yb;},this.MDb),this.Cq(function(a){return a.playbackRate;},this.QDb),this.tc.set(this.fa.tc.value),this.ad.set(this.fa.ad.value,{tta:!0}),this.zg.set(this.fa.zg.value),this.qj.set(this.fa.qj.value),this.fs.set(this.fa.fs.value),this.ef.set(this.fa.ef.value),this.Yk.set(this.fa.Yk.value),this.Lga=this.fa);};b.prototype.Cq=function(a,b){this.Lga&&a(this.Lga).removeListener(b);a(this.fa).addListener(b);};b.prototype.load=function(a){var b,f;b=this;this.load=function(){};this.ZFa=a;if(this.state.value==la.mb.PC){this.de.info("Playback loading",this);this.Hrb();this.$c("asl_load_start");a=this.rE;f=a.endTime;ta.$b(a.startTime)?ta.$b(f)?this.$c("asl_ended"):this.$c("asl_in_progress"):this.$c("asl_not_started");this.rE.aN(function(a){b.$c("asl_load_complete");a.aa?b.obb():b.Bn(a.errorCode||U.K.Ala,a);});}};b.prototype.Fub=function(){var a;try{if(this.state.value===la.mb.LOADING){a={width:1,height:1,I6:1};this.AA().forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height,a.I6=b.I6);});this.LH=a;this.Tz=this.Sz.kta({hC:r.Ib(this.S),u:this.u,XN:this.ir,Xa:this.Xa}).ca(r.ha);this.Ita();this.$bb();}}catch(ob){this.Bn(U.K.sSa,{da:U.G.xh,lb:O.We(ob)});}};b.prototype.E6=function(a,b,f){var c,k,d;b=void 0===b?this.FF.aA():b;f=void 0===f?this.ta.gc():f;c=!!D.config.oLa&&!(b%D.config.oLa);k=a.pa;d=a.Ma;a=a.Xa;b=this.Zea(N.UI.index++,k,d,a,b,f,c,this.fa,this.Maa);this.EG[k]=b;1<this.Wu.length&&(b.Au=this.rY.create(this,b,!1));b.qN=new l.DUa(this,b);return k;};b.prototype.pza=function(a){return a?void 0:0;};b.prototype.Wl=function(a){return this.EG[a];};b.prototype.ku=function(a){return this.Wu.find(function(b){return b.Ma===a;})||this.fa;};b.prototype.njb=function(a){return this.Wu.find(function(b){var f,c;return(null===(c=null===(f=b.Kf)||void 0===f?void 0:f.vnb)||void 0===c?void 0:c.sessionId)===a;})||this.fa;};b.prototype.Qvb=function(a,b){var f,c;b=void 0===b?!0:b;f=this;c=this.Wl(a);return this.jIa(c).then(function(a){var k;if(!f.Bb)throw new Da.Ic(U.K.e3,U.G.MLa);f.oGa(a,c);a=[c.bc.iwa,c.bc.owa];k=!1;try{k=!!f.Bb.Ysa(c.wa.If,{RCb:a,replace:!1,S:c.Xa.S,ia:c.Xa.ia,sB:!0,hi:!c.wu,Zta:b,br:f.H8(c.u),Glb:!0},c.Ma);}catch(jf){throw Da.Ic.nW(U.K.e3,jf);}if(!k)throw new Da.Ic(U.K.e3,U.G.NLa);return c.wu?f.Db.sk.rHa(c):Promise.resolve();})["catch"](function(a){f.log.error("queueManifest failed",a);throw f.he(a.code,a);});};b.prototype.Tgb=function(){if(ta.ma(this.gd.ats)&&ta.ma(this.gd.at))return this.gd.at-this.gd.ats;};b.prototype.Eya=function(){var a,b;a=this.MP();b=this.AK();return Math.min(a,b);};b.prototype.YO=function(){this.background||(this.de.info("Starting inactivity monitor for movie "+this.u),new G.KSa(this));};b.prototype.close=function(a){a&&(this.state.value==la.mb.CLOSED?a():this.addEventListener(la.T.closed,function(){a();}));this.Dha();};b.prototype.Pd=function(a,b){var f,c,k;f=this;if(this.state.value==la.mb.PC)this.Pi||(this.Pi=a,this.load());else{b&&(this.state.value==la.mb.CLOSED?b():this.addEventListener(la.T.closed,function(){b();}));c=function(){f.Dha(a);};k=D.config.rwa&&a&&D.config.rwa[a.errorCode];ta.OA(k)&&(k=O.fe(k));this.de.error("Fatal playback error",{Error:""+a,HandleDelay:""+k});0<=k?setTimeout(c,k):c();}};b.prototype.wP=function(){this.Hb.Sb(la.T.wP);};b.prototype.eo=function(a,b){b=void 0===b?this.Ma:b;this.XFa.push(this.ta.gc().ca(r.ha)+"-"+b+"-"+a);};b.prototype.cgb=function(){this.Wxa();};b.prototype.Caa=function(){var a;a=this.Bb;return a&&(a=a.Gaa(),void 0!==a)?a:null;};b.prototype.yA=function(){return void 0!==this.fa.NU&&void 0===this.Bb?this.fa.NU:this.Maa(this.Yb.value,this.Ma);};b.prototype.Baa=function(){var a;a=this.Maa(this.Si.bza());return null===a?null:Math.min(this.ir.ca(r.ha),Math.max(0,a));};b.prototype.AW=function(){var a,b;return null===(b=null===(a=this.wa)||void 0===a?void 0:a.If.Rt)||void 0===b?void 0:b.Va;};b.prototype.PDb=function(a){this.Xa=Aa.jqb(function(a,b){return void 0!==b?b:a;},this.Xa,a);this.Ita();};b.prototype.AA=function(a){a=void 0===a?this.u:a;return(a=this.Wl(a).zg)&&a.value?a.value.cc:[];};b.prototype.Ykb=function(a){for(var b=Q(this.Wu),f=b.next();!f.done;f=b.next())if(f=(f=f.value.sj)&&f.find(function(b){return b.id===a;}))return f;};b.prototype.Tub=function(a){a=void 0===a?this.fa:a;a.tc.value?this.Fn.Rub(a.tc.value):Promise.resolve();};b.prototype.AAa=function(a){for(var b=Q(this.Wu),f=b.next();!f.done;f=b.next())for(var f=Q(f.value.Wm),c=f.next();!c.done;c=f.next())if(c=c.value.cc.find(function(b){return b.cd===a;}))return c;};b.prototype.JAa=function(a){for(var b=Q(this.Wu),f=b.next();!f.done;f=b.next())for(var f=Q(f.value.Bm),c=f.next();!c.done;c=f.next())if(c=(c=c.value)&&c.cc.find(function(b){return b.cd===a;}))return c;};b.prototype.Pw=function(){var a,b,f;return null!==(f=null===(b=null===(a=this.CZ)||void 0===a?void 0:a.mL)||void 0===b?void 0:b.call(a))&&void 0!==f?f:this.Iva().zc;};b.prototype.OIa=function(a){var b;this.Bb&&this.Wl(a)&&((null===(b=this.CZ)||void 0===b?0:b.mL)?this.CZ.LKa():(b=this.H8(a),this.Bb.NB(b,a)));};b.prototype.gnb=function(){return"trailer"===this.le;};b.prototype.BBa=function(){return!!this.le&&0<=this.le.indexOf("billboard");};b.prototype.mnb=function(){return!!this.le&&0<=this.le.indexOf("video-merch");};b.prototype.Jmb=function(){return!!this.le&&0<=this.le.indexOf("mini-modal");};b.prototype.NA=function(){return this.gnb()||this.BBa()||this.mnb()||this.Jmb();};b.prototype.daa=function(){var k;if(this.Bm){for(var a,b=0;b<this.Bm.length;b++)for(var f=this.Bm[b],c=0;c<f.cc.length;c++){k=f.cc[c];ta.ma(k.I8)&&ta.ma(k.XU)&&ta.ma(k.WU)&&ta.ma(k.VU)&&(0<k.I8||0<k.XU)&&(k=k.VU/k.WU,a=ta.ma(a)?Math.min(a,k):k);}return a;}};b.prototype.Djb=function(){return{tr:this.pia,rt:this.lga};};b.prototype.ju=function(a){return this.vn[a];};b.prototype.y8a=function(){return this.Gk?this.ta.gc().ca(r.ha)-this.Gk:this.Ia.Ve.ca(r.ha)-this.uW();};b.prototype.E7=function(){var a;if(this.Gk)return this.ta.gc().ca(r.ha)-this.Gk;a=this.ta.TA;return this.RFa-(this.zk.ca(r.ha)+a.ca(r.ha));};b.prototype.D8a=function(){return this.Gk?this.ta.gc().ca(r.ha)-this.Gk:this.RFa-this.uW();};b.prototype.yrb=function(a){var b,f;b=this.Ze;f={};O.Gd(a,function(a,c){f[a]=c.map(function(a){return a-b;});});return f;};b.prototype.chb=function(){var a,b;a=this.Ze;b={};O.Gd(this.o7,function(f,c){b[f]=c.map(function(b){return b-a;});});return k.Ht?{level:k.Ht.qza(),charging:k.Ht.caa(),statuses:b}:null;};b.prototype.XW=function(){this.Vxa();return this.OP;};b.prototype.uW=function(){var a;a=this.Xa.y0;a=ta.ma(a)?a:this.zk.ca(r.ha)+this.ta.TA.ca(r.ha);T.Ra(ta.zx(a));return a;};b.prototype.Jaa=function(){return this.ta.gc().ca(r.ha)-this.zk.ca(r.ha);};b.prototype.$zb=function(){this.OP.HasRA=!0;};b.prototype.gFb=function(){this.AAb=!0;};b.prototype.dZ=function(){this.dHa();};b.prototype.MP=function(){var a;a=this.iU();return a&&a.vbuflmsec||0;};b.prototype.AK=function(){var a;a=this.iU();return a&&a.abuflmsec||0;};b.prototype.Pia=function(){var a;a=this.iU();return a&&a.vbuflbytes||0;};b.prototype.Z6=function(){var a;a=this.iU();return a&&a.abuflbytes||0;};b.prototype.jIa=function(a){var b,f,c,k;a=void 0===a?this:a;b=this;f=D.config.QZ.enabled?Ha.wl.z3:this.NA()?Ha.wl.H3:Ha.wl.Gm;f={ga:a.ga,Xa:a.Xa,pa:a.u,hx:f};c=a.u!==this.u;k=this.ta.gc().ca(r.ha);return this.pda.qf(this.log,f).then(function(a){var f;f=b.ta.gc().ca(r.ha);c&&(a.fy=k,a.CB=f);return a;})["catch"](function(a){b.log.error("PBO manifest failed",a);return Promise.reject(a);});};b.prototype.oGa=function(a,b){b=void 0===b?this:b;b.wa=a;a=this.qda.create(this).Nea(a);b.bc=a;b.zg.set(a.d9);b.ad.set(a.gV);b.tc.set(a.c9);};b.prototype.fya=function(a,b){this.eDa({u:a,KZ:this.cA,JA:void 0===b?!1:b});};b.prototype.zkb=function(a,b){this.Wl(a.pa)||this.E6(a);this.fya(a.pa,!0);this.Pd(b);};b.prototype.BAa=function(a,b){if(!this.Gj.H0)return!0;a=this.Xu.ca(r.ha)-a;return 0>a||a>b;};b.prototype.eDa=function(a){var b,f;if(a.KZ){if(a.u===this.cA)return;b=this.Wl(a.u);f=b.wa;f&&ta.$b(f.fy)&&ta.$b(f.CB)&&b.ru({pr_ats:f.fy,pr_at:f.CB});this.fireEvent(la.T.ZF,{u:this.cA});this.cA=a.u;a.JA||this.JHa();this.JF=this.Ia.G_;this.fa.Gk||(this.fa.Gk=this.ta.gc().ca(r.ha));}("boolean"===typeof this.Xa.dF?this.Xa.dF:D.config.dF)&&!a.JA&&this.xia.dF(this);this.fireEvent(la.T.Ho,a);};b.prototype.obb=function(){try{this.fL=new Qa.yOa(this);this.Au=this.rY.create(this,this.fa,!0);D.config.P8a&&new Oa.UQa(this,this.log);D.config.WK&&this.WK(this);this.NEb();}catch(Ia){this.Bn(U.K.rSa,{da:U.G.xh,lb:O.We(Ia)});}};b.prototype.NEb=function(){this.Pi?this.Pd(this.Pi):ta.QBa(this.u)?this.k9a():this.Bn(U.K.fSa,{lb:""+this.u});};b.prototype.k9a=function(){var a;a=n.qH.vIa;a?a.aa?this.b8():this.Bn(U.K.Ula,a):(T.Ra(!D.config.JV),this.u6());};b.prototype.b8=function(){var a;a=this;!this.background&&D.config.b8?N.hoa(function(){a.u6();},this):this.u6();};b.prototype.u6=function(){var a;a=this;this.state.value==la.mb.LOADING&&(D.config.S9&&!this.NA()?n.qH.Kz(N.UWa,function(b){b.aa?(a.pY=b.pY,D.config.D_?a.GK():a.Sga()):a.Bn(U.K.Tla);},!0):D.config.D_?this.GK():this.Sga());};b.prototype.Sga=function(){var a;a=this;this.state.value==la.mb.LOADING&&(this.$c("ic"),this.fub.Wyb(function(b){b.error&&a.log.error("Error sending persisted playdata",U.op(b));try{a.GK();}catch(bb){a.log.error("playback.authorize threw an exception",bb);a.Bn(U.K.eMa,{da:U.G.xh,lb:O.We(bb)});}}));};b.prototype.GK=function(){var a,b;a=this;if(this.state.value==la.mb.LOADING){this.log.info("Authorizing",this);b=this.ta.gc().ca(r.ha);this.$c("ats");this.fL.GK(function(f){var c;if(a.state.value==la.mb.LOADING){a.$c("at");c=a.wa;a.ru({pr_ats:c&&ta.$b(c.fy)?c.fy:b,pr_at:c&&ta.$b(c.CB)?c.CB:a.ta.gc().ca(r.ha)});f.aa?0<a.bc.sj.length&&a.bc.gV&&a.bc.d9&&a.bc.c9?a.tvb():a.Bn(U.K.BTa,a.rda(a.bc)):a.Bn(U.K.MANIFEST,f);}});}};b.prototype.tvb=function(){var a;a=this;this.ZFa?(this.log.info("Processing post-authorize",this),this.ZFa(this,function(b){b.aa?a.OKa():a.Bn(U.K.wSa,b);})):this.OKa();};b.prototype.OKa=function(){var b,c,k,d;b=this;if(this.state.value==la.mb.LOADING){c={};this.wm=f.Ll;D.config.$fb&&this.wm.UK();f.Zc.set(a(163)(D.config),!0,A.Jg("ASE"));f.Zc.set({maxNumberTitlesScheduled:D.config.cGa?D.config.cGa.maxNumberTitlesScheduled:1},!0,this.de);D.config.B$a&&3E5>this.wa.If.duration?f.Zc.yG({expandDownloadTime:!1},!0,this.de):f.Zc.yG({expandDownloadTime:f.Zc.HFa().expandDownloadTime},!0,this.de);this.background||D.config.Gub&&"postplay"===this.le?f.Zc.yG({initBitrateSelectorAlgorithm:"historical"},!0,this.de):f.Zc.yG({initBitrateSelectorAlgorithm:f.Zc.HFa().initBitrateSelectorAlgorithm},!0,this.de);d=this.zg&&this.zg.value&&this.zg.value.cc;d&&d.length&&(k=d[0].Jf);f.Zc.yG(D.uva(this.Xa.Ri,this.Xa.UX,k),!0,this.de);c=this.Yc.aB(c,D.vva(this.le));this.wBb=f.Zc.oo(c);h.platform.events.emit("networkchange",this.bc.pzb);this.wm.C0({lM:function(){return b.lM();},FM:function(){return b.FM();}});this.Fub();}};b.prototype.$bb=function(){var a,b,f,c,k;a=this;try{this.Db=new m.tUa(this);this.Db.open();b=new Promise(function(b){a.Db.addEventListener(ja.Fi.hJa,b);});this.Si=new R.xUa(this);f={rf:!1,HH:D.config.HH,G0:D.config.GV,eN:!1,hi:!this.wu,sB:!!this.Xa.UX,ia:this.Xa.ia,XEb:this.bc.gV.Am===B.Qn.NONE};c={qB:this.log,fl:this.fl,sessionId:this.u+"-"+this.ga,ga:this.ga,mB:this.hk,bh:wa.ii?wa.ii.bh:void 0,Ww:0===D.config.CL||0!==this.ga%D.config.CL?!1:!0};this.exa=c.Ww;k=this.Wl(this.u).Ma;this.Bb=this.wm.cn(this.wa.If,[this.bc.iwa,this.bc.owa],this.S,f,c,void 0,{Vd:function(){return a.Yb.value;},Pza:function(){return a.playbackRate.value;},Aaa:function(){return a.Db;}},this.wBb,this.H8(this.u),k);this.G5a(this.Bb);b.then(function(){a.state.value!==la.mb.CLOSING&&a.state.value!==la.mb.CLOSED&&a.Bb.open();});this.Yb.set(this.S);this.Fn=new t.mZa(this);if("boolean"===typeof this.Xa.d_?this.Xa.d_:D.config.d_)this.rP=new Y.nZa(this);this.YO();N.joa.forEach(function(b){b(a);});this.Grb();}catch(Kb){this.Bn(U.K.tSa,{da:U.G.xh,lb:O.We(Kb)});}};b.prototype.Hrb=function(){T.Ra(this.state.value==la.mb.PC);this.Ze=this.ta.gc().ca(r.ha);this.state.set(la.mb.LOADING);L._cad_global.prefetchEvents&&L._cad_global.prefetchEvents.nub(this.u);};b.prototype.Bn=function(a,b){this.done||(this.done=!0,b instanceof Da.Ic?this.Pd(this.he(b.code,b)):this.Pd(this.he(a,b)));};b.prototype.WK=function(a){var f,c;function b(){var b,c;b=k.Ht.caa()+"";c=a.o7[b];c||(c=a.o7[b]=[]);c.push(f.ta.gc().ca(r.ha));f.log.trace("charging change event",{level:k.Ht.qza(),charging:k.Ht.caa()});}f=this;c=k.Ht.GNa;k.Ht.addEventListener(c,b);a.addEventListener(la.T.pf,function(){k.Ht.removeEventListener(c,b);});};b.prototype.Dha=function(a){var b;b=this;if(this.state.value==la.mb.PC||this.state.value==la.mb.LOADING||this.state.value==la.mb.od){this.de.info("Playback closing",this,a?{ErrorCode:a.rV}:void 0);this.eo("Closing");M.Le.removeListener(M.Yl,this.VEa);this.Pi=a;this.Vxa();this.Bb&&this.Bb.flush();try{this.Hb.Sb(la.T.pf,{movieId:this.cA});}catch(bb){this.de.error("Unable to fire playback closing event",bb);}this.state.set(la.mb.CLOSING);this.fa.NU=this.yA();this.RLa();this.AAb||oa.Pb(function(){return b.dHa();});}};b.prototype.Wxa=function(){var a;a=this.Yb.value;this.Onb!=a&&(this.Onb=a,this.Hb.Sb(la.T.cia));};b.prototype.dHa=function(){var a,b;a=this;T.Ra(this.state.value==la.mb.CLOSING);b=this.pY;this.pY=void 0;b?n.qH.release(b,function(b){T.Ra(b.aa);a.i8();}):this.i8();};b.prototype.RLa=function(){this.Bb&&(this.Bb.close(),this.Bb.xc());this.wm&&this.Pi&&this.wm.UK();delete this.Bb;delete this.wm;};b.prototype.i8=function(){var a;this.i8=g.Pe;T.Ra(this.state.value==la.mb.CLOSING);a=N.On.indexOf(this);T.Ra(0<=a);N.On.splice(a,1);this.state.set(la.mb.CLOSED);this.Hb.Sb(la.T.closed,void 0,!0);this.Hb.rg();delete this.Kf;this.fa.dZ();};b.prototype.Ita=function(){this.Xa.playbackState&&("number"===typeof this.Xa.playbackState.volume&&this.volume.set(this.Xa.playbackState.volume),"boolean"===typeof this.Xa.playbackState.muted&&this.muted.set(this.Xa.playbackState.muted));};b.prototype.Vxa=function(){this.Hb.Sb(la.T.WIa,{OP:this.OP});};b.prototype.wzb=function(a,b){var f;f=this.sj.filter(function(b){return b.id===a;})[0];f&&this.ec[b].set(f);};b.prototype.cG=function(){return{AudioBufferLength:this.AK(),VideoBufferLength:this.MP()};};b.prototype.iU=function(){if(this.Bb)return this.Bb.IX(!1);};b.prototype.lM=function(){return this.vra;};b.prototype.FM=function(){this.vra++;};b.prototype.Grb=function(){this.state.value==la.mb.LOADING&&this.state.set(la.mb.od);};b.prototype.Iva=function(a){var b,f;a=void 0===a?this.u:a;b=void 0;f=this.Wl(a);a=this.AA(a).filter(function(a){var c;c=f.qN.gv(a);c&&(b=b||[],b.push({stream:a,VE:c}));return!c;});0===a.length&&this.log.error("FilteredVideoStreamList is empty. Media stream filters are not setup correctly.");for(var c=0;c<a.length;c++)a[c].lower=a[c-1],a[c].nlb=a[c+1];return{zc:a,odb:b};};b.prototype.H8=function(a){var b,f,c,k,d,h,m;a=void 0===a?this.u:a;b=this.Iva(a);f=b.zc;c=b.odb;k=[];this.AA(a).forEach(function(a){-1==k.indexOf(a.Jf)&&k.push(a.Jf);});d=null;h=null;f.forEach(function(a){null===d?h=d=a.R:h<a.R?h=a.R:d>a.R&&(d=a.R);});m=[];k.forEach(function(a){var b;b={ranges:[],profile:a};d&&h&&(b.ranges.push({min:d,max:h}),c&&(b.disallowed=c.filter(function(b){return b.stream.Jf===a;})),m.push(b));});return m;};pa.Object.defineProperties(b.prototype,{Wu:{configurable:!0,enumerable:!0,get:function(){var a;a=this;return Object.keys(this.EG).map(function(b){return a.EG[b];});}},fa:{configurable:!0,enumerable:!0,get:function(){return this.EG[this.cA];}},WBa:{configurable:!0,enumerable:!0,get:function(){return 1===this.Wu.length;}},S:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.Tz?this.Tz:this.Wu[0].Xa.S||0;}},bc:{configurable:!0,enumerable:!0,get:function(){return this.fa.bc;},set:function(a){this.fa.bc=a;}},fW:{configurable:!0,enumerable:!0,get:function(){return this.fa.Xa.fW;}},gW:{configurable:!0,enumerable:!0,get:function(){return this.fa.Xa.gW;}},index:{configurable:!0,enumerable:!0,get:function(){return this.fa.index;}},Ma:{configurable:!0,enumerable:!0,get:function(){return this.fa.Ma;}},Kf:{configurable:!0,enumerable:!0,get:function(){return this.fa.Kf;},set:function(a){this.fa.Kf=a;}},Gk:{configurable:!0,enumerable:!0,get:function(){return this.fa.Gk;},set:function(a){this.fa.Gk=a;}},Mt:{configurable:!0,enumerable:!0,get:function(){return this.fa.Mt;},set:function(a){this.fa.Mt=a;}},Iw:{configurable:!0,enumerable:!0,get:function(){return this.fa.Iw;},set:function(a){this.fa.Iw=a;}},EX:{configurable:!0,enumerable:!0,get:function(){return this.fa.EX;},set:function(a){this.fa.EX=a;}},wa:{configurable:!0,enumerable:!0,get:function(){return this.fa.wa;},set:function(a){this.fa.wa=a;}},Tz:{configurable:!0,enumerable:!0,get:function(){return this.fa.Tz;},set:function(a){this.fa.Tz=a;}},jP:{configurable:!0,enumerable:!0,get:function(){return this.fa.jP;},set:function(a){this.fa.jP=a;}},Xa:{configurable:!0,enumerable:!0,get:function(){return this.fa.Xa;},set:function(a){this.fa.Xa=a;}},Au:{configurable:!0,enumerable:!0,get:function(){return this.fa.Au;},set:function(a){this.fa.Au=a;}},lm:{configurable:!0,enumerable:!0,get:function(){return this.fa.lm;}},u:{configurable:!0,enumerable:!0,get:function(){return this.fa.u;}},le:{configurable:!0,enumerable:!0,get:function(){return this.fa.le;}},Wm:{configurable:!0,enumerable:!0,get:function(){return this.fa.Wm;}},Bm:{configurable:!0,enumerable:!0,get:function(){return this.fa.Bm;}},rv:{configurable:!0,enumerable:!0,get:function(){return this.fa.rv;}},Fk:{configurable:!0,enumerable:!0,get:function(){return this.fa.Fk;}},eg:{configurable:!0,enumerable:!0,get:function(){return this.fa.eg;}},wu:{configurable:!0,enumerable:!0,get:function(){return this.fa.wu;}},oq:{configurable:!0,enumerable:!0,get:function(){return this.fa.oq;}},kk:{configurable:!0,enumerable:!0,get:function(){return this.fa.kk;}},sj:{configurable:!0,enumerable:!0,get:function(){return this.fa.sj;}},JZ:{configurable:!0,enumerable:!0,get:function(){return this.fa.JZ;}},ir:{configurable:!0,enumerable:!0,get:function(){return this.fa.ir;},set:function(a){this.fa.ir=a;}},ga:{configurable:!0,enumerable:!0,get:function(){return this.fa.ga;}},Rh:{configurable:!0,enumerable:!0,get:function(){return this.fa.Rh;}},zk:{configurable:!0,enumerable:!0,get:function(){return this.fa.zk;}},JF:{configurable:!0,enumerable:!0,get:function(){return this.fa.JF;},set:function(a){this.fa.JF=a;}},hk:{configurable:!0,enumerable:!0,get:function(){return this.fa.hk;}},JB:{configurable:!0,enumerable:!0,get:function(){return this.fa.JB;}},background:{configurable:!0,enumerable:!0,get:function(){return this.fa.background;},set:function(a){this.fa.background=a;}},N8:{configurable:!0,enumerable:!0,get:function(){return this.fa.N8;}},gd:{configurable:!0,enumerable:!0,get:function(){return this.fa.gd;}},jo:{configurable:!0,enumerable:!0,get:function(){return this.fa.jo;}},A9:{configurable:!0,enumerable:!0,get:function(){return this.fa.A9;}},qN:{configurable:!0,enumerable:!0,get:function(){return this.fa.qN;}},Lg:{configurable:!0,enumerable:!0,get:function(){return{MovieId:this.u,TrackingId:this.Rh,Xid:this.ga};}}});c.XWa=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.moa="PlaybackInfoPanelFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.wja="BandwidthMeterFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.Rn||(c.Rn={});d[d.mR=0]="NOT_LOADED";d[d.LOADING=1]="LOADING";d[d.LOADED=2]="LOADED";d[d.vI=3]="LOAD_FAILED";d[d.pna=4]="PARSE_FAILED";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Bpa="TrickPlayManagerSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Yna="PboRequestFactorySymbol";},function(d,c,a){var m,t;function b(a){return!(!a||!a.nB&&!a.pboc||!a.code&&!a.code);}function h(a){return!(!a||!a.Xc);}function n(a){return!!(a instanceof Error);}function p(a){switch(a){case"ACCOUNT_ON_HOLD":return t.G.rVa;case"STREAM_QUOTA_EXCEEDED":return t.G.vVa;case"INSUFFICICENT_MATURITY":return t.G.xVa;case"TITLE_OUT_OF_WINDOW":return t.G.DVa;case"CHOICE_MAP_ERROR":return t.G.uVa;case"BadRequest":return t.G.zVa;case"Invalid_SemVer_Format":return t.G.yVa;case"RESTRICTED_TO_TESTERS":return t.G.CVa;case"AGE_VERIFICATION_REQUIRED":return t.G.sVa;case"BLACKLISTED_IP":return t.G.tVa;case"DEVICE_EOL_WARNING":return t.G.b3;case"DEVICE_EOL_FINAL":return t.G.qna;case"INCORRECT_PIN":return t.G.una;case"MOBILE_ONLY":return t.G.BVa;case"MDX_CONTROLLER_CTICKET_INVALID":return t.G.AVa;case"VIEWABLE_RESTRICTED_BY_PROFILE":return t.G.EVa;case"RESET_DEVICE":return t.G.tna;case"RELOAD_DEVICE":return t.G.sna;case"EXIT_DEVICE":return t.G.rna;default:return t.G.kla;}}function f(a,b){return new m.Ic(a,p(b.code),"BadRequest"===b.code?t.v2.iNa:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert,b.alertTag);}function k(a,b){return new m.Ic(a,b.Xc,b.dh,void 0,b.Mr,b.message,b.UE,b.data);}Object.defineProperty(c,"__esModule",{value:!0});m=a(45);t=a(2);c.Omb=b;c.ySb=h;c.MX=n;c.wRb=p;c.xo=function(a,c){return h(c)?k(a,c):b(c)?f(a,c):n(c)?m.Ic.nW(a,c):new m.Ic(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,c);};c.xRb=f;c.vRb=k;c.k8a=function(a,b,f,c){var k,d,h,m;k=b.rIa[f];if(void 0===k)throw{nB:!0,code:"FAIL",display:"Unable to build the URL for "+f+" because there was no configuration information",detail:b};d=k.version;if(void 0===d)throw{nB:!0,code:"FAIL",display:"Unable to build the URL for "+f+" because there was no version information",detail:b};h=b.MF&&k.serviceNonMember?k.serviceNonMember:k.service;if(void 0===h)throw{nB:!0,code:"FAIL",display:"Unable to build the URL for "+f+" because there was no service information",detail:b};m=k.orgOverride;if(void 0===m&&(m=b.lFa,void 0===m))throw{nB:!0,code:"FAIL",display:"Unable to build the URL for "+f+" because there was no organization information",detail:b};return k.isPlayApiDirect?a.jjb(c)+"/"+m+"/"+h+"/"+d:a.bjb(c)+"/"+m+"/"+h+"/"+d+"/router";};c.j8a=function(a,b){var f;f={"Content-Type":"text/plain"};b=b();a.fta&&b&&(f["X-Esn"]=b.bh);return f;};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.zpa="TransportFactorySymbol";c.Zma="MslTransportSymbol";c.apa="SslTransportSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Mna="PboDispatcherSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Qma="MediaRequestConstructorFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.nna="OpenConnectSideChannelSymbol";c.Rma="MediaRequestDownloaderSymbol";},function(d,c,a){var E,D,z;function b(a,b,f){this.type=a;this.size=b;this.Nw=f;}function h(a){var f,c,k,d,h;a:{f=a.position;if(8<=a.pk()){c=a.Pa();k=a.Tr(4);if(!D.test(k))throw a.seek(f),Error("mp4-badtype");if(1==c){if(8>a.pk()){a.seek(f);f=void 0;break a;}c=a.xg();}if(!(8<=c))throw a.seek(f),Error("mp4-badsize");if("uuid"==k){if(16>a.pk()){a.seek(f);f=void 0;break a;}k=a.cy();}f={type:k,offset:f,size:c,Nw:f+c-a.position};}else f=void 0;}if(f&&f.Nw<=a.pk()){d=f.type;c=f.size;h=f.Nw;k=new b(d,c,h);d=z[d];if(a.pk()<h)throw Error("mp4-shortcontent");d?(h=new E(a.Hd(h)),d(k,h)):a.skip(h);a.seek(f.offset);k.raw=a.Hd(c);return k;}}function n(a,b){for(var f=[],c={},k,d;0<b.pk();){k=h(b);if(!k)throw Error("mp4-badchildren");d=k.type;f.push(k);c[d]||(c[d]=k);}a.children=f;a.u$=c;}function p(a,b){a.version=b.yc(1);a.Xe=b.yc(3);}function f(a,b){b.skip(6);a.jcb=b.Mb();b.skip(8);a.channelCount=b.Mb();a.HB=b.Mb();b.skip(4);a.sampleRate=b.Mb();b.skip(2);n(a,b);}function k(a,b){var f;b.skip(6);a.jcb=b.Mb();b.skip(16);a.width=b.Mb();a.height=b.Mb();a.eSb=b.Pa();a.kWb=b.Pa();b.skip(4);a.pgb=b.Mb();f=b.ve();a.Z9a=b.Tr(f);b.skip(31-f);a.depth=b.Mb();b.skip(2);n(a,b);}function m(a,b){p(a,b);a.vQb=b.yc(3);a.wQb=b.ve();a.Cx=b.Hd(16);}function t(a,b){for(var f=[],c;b--;)c=a.Mb(),f.push(a.Hd(c));return f;}function u(a){var b;b=a.Hd(2);a={jVb:b[1]>>1&7,iVb:!!(b[1]&1),bVb:a.Mb()};g(a,(b[0]<<8|b[1])>>4);return a;}function g(a,b){a.cVb=b>>4&3;a.hVb=b>>2&3;a.fVb=b&3;return a;}E=a(645);D=/^[a-zA-Z0-9-]{4,4}$/;b.prototype.lx=function(a){var b,f,c,k,d;b=this;a=a.split("/");for(k=0;k<a.length&&b;k++){c=a[k].split("|");f=void 0;for(d=0;d<c.length&&!f;d++)f=c[d],f=b.u$&&b.u$[f];b=f;}return b;};b.prototype.toString=function(){return"["+this.type+"]";};z={ftyp:function(a,b){a.eTb=b.Tr(4);a.LTb=b.Pa();for(a.R9a=[];4<=b.pk();)a.R9a.push(b.Tr(4));},moov:n,sidx:function(a,b){p(a,b);a.RUb=b.Pa();a.fia=b.Pa();a.D9=1<=a.version?b.xg():b.Pa();a.w$=1<=a.version?b.xg():b.Pa();b.skip(2);for(var f=b.Mb(),c=[],k,d;f--;){k=b.Pa();d=k>>31;if(0!==d)throw Error("mp4-badsdix");k&=2147483647;d=b.Pa();b.skip(4);c.push({size:k,duration:d});}a.SUb=c;},moof:n,mvhd:function(a,b){var f;p(a,b);f=1<=a.version?8:4;a.Eh=b.yc(f);a.modificationTime=b.yc(f);a.fia=b.Pa();a.duration=b.yc(f);a.DGa=b.nO();a.volume=b.VZ();b.skip(70);a.XTb=b.Pa();},pssh:function(a,b){var f;p(a,b);a.Ndb=b.cy();f=b.Pa();a.data=b.Hd(f);},trak:n,mdia:n,minf:n,stbl:n,stsd:function(a,b){p(a,b);b.Pa();n(a,b);},encv:k,avc1:k,hvcC:k,hev1:k,mp4a:f,enca:f,"ec-3":f,avcC:function(a,b){a.version=b.ve();a.XOb=b.ve();a.LUb=b.ve();a.WOb=b.ve();a.TSb=(b.ve()&3)+1;a.sVb=t(b,b.ve()&31);a.xUb=t(b,b.ve());},pasp:function(a,b){a.ZRb=b.Pa();a.iWb=b.Pa();},sinf:n,frma:function(a,b){a.dQb=b.Tr(4);},schm:function(a,b){p(a,b);a.pyb=b.Tr(4);a.mVb=b.Pa();a.Xe&1&&(a.lVb=b.Ifa());},schi:n,tenc:m,mvex:n,trex:function(a,b){p(a,b);a.bb=b.Pa();a.Acb=b.Pa();a.RE=b.Pa();a.mwa=b.Pa();a.lwa=u(b);},traf:n,tfhd:function(a,b){var f;p(a,b);a.bb=b.Pa();f=a.Xe;f&1&&(a.bPb=b.xg());f&2&&(a.eVb=b.Pa());f&8&&(a.RE=b.Pa());f&16&&(a.mwa=b.Pa());f&32&&(a.lwa=u(b));},saio:function(a,b){p(a,b);a.Xe&1&&(a.r7a=b.Pa(),a.s7a=b.Pa());for(var f=1<=a.version?8:4,c=b.Pa(),k=[];c--;)k.push(b.yc(f));a.QHa=k;},mdat:function(a,b){a.data=b.Hd(b.pk());},tkhd:function(a,b){var f;p(a,b);f=1<=a.version?8:4;a.Eh=b.yc(f);a.modificationTime=b.yc(f);a.bb=b.Pa();b.skip(4);a.duration=b.yc(f);b.skip(8);a.Rnb=b.Mb();a.d6a=b.Mb();a.volume=b.VZ();b.skip(2);b.skip(36);a.width=b.nO();a.height=b.nO();},mdhd:function(a,b){var f;p(a,b);f=1<=a.version?8:4;a.Eh=b.yc(f);a.modificationTime=b.yc(f);a.fia=b.Pa();a.duration=b.yc(f);f=b.Mb();a.language=String.fromCharCode((f>>10&31)+96)+String.fromCharCode((f>>5&31)+96)+String.fromCharCode((f&31)+96);b.skip(2);},mfhd:function(a,b){p(a,b);a.rVb=b.Pa();},tfdt:function(a,b){p(a,b);a.JK=b.yc(1<=a.version?8:4);8==b.pk()&&b.skip(8);},saiz:function(a,b){p(a,b);a.Xe&1&&(a.r7a=b.Pa(),a.s7a=b.Pa());for(var f=b.ve(),c=b.Pa(),k=[];c--;)k.push(f||b.ve());a.gVb=k;},trun:function(a,b){var f,c;p(a,b);f=b.Pa();c=a.Xe;c&1&&(a.fQb=b.Pa());c&4&&(a.qRb=u(b));for(var k=[],d;f--;)d={},c&256&&(d.duration=b.Pa()),c&512&&(d.size=b.Pa()),c&1024&&(d.Xe=b.Pa()),c&2048&&(d.OPb=b.Pa()),k.push(d);a.Xo=k;},sdtp:function(a,b){p(a,b);for(var f=[];0<b.pk();)f.push(g({},b.ve()));a.Xo=f;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){p(a,b);a.fileSize=b.xg();a.fia=b.xg();a.duration=b.xg();a.REa=b.xg();a.wVb=b.xg();1<=a.version&&(a.STb=b.xg(),a.TTb=b.Pa(),a.SEa=b.xg(),a.Yxa=b.Pa(),a.Jxa=b.cy());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){p(a,b);a.Xe&1&&(a.MOb=b.yc(3),a.MSb=b.ve(),a.Anb=b.cy());a.aVb=b.Pa();a.q7a=b.Hd(b.pk());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){p(a,b);a.hZ=b.Pa();a.zL=b.Mb();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":m,"636F6D2E-6E65-7466-6C69-782E6974726B":n,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){p(a,b);a.kU=b.cy();a.Eh=b.xg();a.u=b.xg();a.jm=b.xg();a.p_=b.Mb();a.q_=b.Mb();a.Cnb=b.Hd(16);a.OBb=b.Hd(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){p(a,b);a.pPb=b.Hd(b.pk());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var f;p(a,b);a.Jyb=b.xg();f=b.Pa();a.Va=[];for(var c=0;c<f;c++)a.Va.push({duration:b.Pa(),size:b.Mb()});},"636F6D2E-6E65-7466-6C69-782E69736567":n,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var f;p(a,b);a.kU=b.cy();a.duration=b.Pa();f=b.Pa();a.Xo=[];for(var c=0;c<f;c++)a.Xo.push({vj:b.Pa(),duration:b.Pa(),pZ:b.Mb(),qZ:b.Mb(),R_:b.Mb(),S_:b.Mb(),Br:b.xg(),GF:b.Pa()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var f,c,d,h;p(a,b);f=b.Pa();c=b.ve();a.Xo=[];for(var k=0;k<f;k++){d=b.ve();h=d>>6;d=d&63;0!=h&&0===d&&(d=c);a.Xo.push({mxa:h,Bx:b.Hd(d)});}}};d.P={PUb:function(a,b){a=new E(a);b&&a.seek(b);return h(a);},Gfa:function(a,b){var f;if(!a)throw Error("mp4-badinput");a=new E(a);f=[];for(b&&a.seek(b);b=h(a);)f.push(b);return f;}};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Rja="ChunkMediaSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Pma="MediaHttpSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.toa="PrefetchEventsConfigSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Spa="WindowUtilsSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.ena="NfCryptoSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.oma="LogDisplayConfigSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Hka="DxManagerSymbol";c.Gka="DxManagerProviderSymbol";},function(d,c,a){var h,n,p,f,k;function b(a,b,c){this.Pc=a;this.is=b;this.prefix=c;this.dO=this.un=!1;this.vua=new f.vZa(b);}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(22);p=a(23);f=a(669);k=a(10);c.YNa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";c.ZNa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";c.$Na="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";c.VH="";b.prototype.show=function(){this.un||(this.k$a(),this.IE&&k.ne.body.appendChild(this.IE),this.zf&&k.ne.body.appendChild(this.zf),this.LK&&k.ne.body.appendChild(this.LK),this.UB&&k.ne.getElementsByTagName("head")[0].appendChild(this.UB),this.un=!0,this.refresh());};b.prototype.zo=function(){this.un&&(this.zf&&k.ne.body.removeChild(this.zf),this.LK&&k.ne.body.removeChild(this.LK),this.IE&&k.ne.body.removeChild(this.IE),this.UB&&k.ne.getElementsByTagName("head")[0].removeChild(this.UB),this.UB=this.lP=this.IE=this.LK=this.zf=void 0,this.un=!1);};b.prototype.toggle=function(){this.un?this.zo():this.show();};b.prototype.NCb=function(){(this.dO=!this.dO)||this.refresh();};b.prototype.khb=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("div."+a+"-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("select."+a+"-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};b.prototype.k$a=function(){var a;a=this;this.UB=k.ne.createElement("style");this.UB.type="text/css";this.UB.innerHTML=this.khb(this.prefix);this.LK=this.Pc.createElement("div",c.YNa,void 0,{"class":this.prefix+"-display-blur"});this.zf=this.Pc.createElement("div",c.ZNa,void 0,{"class":this.prefix+"-display"});this.IE=this.Pc.createElement("div",c.$Na,void 0,{"class":this.prefix+"-display"});this.Pya().forEach(function(b){return a.IE.appendChild(b);});};b.prototype.n$a=function(a){a=this.Pc.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),f=0;f<b.length;f++)b[f].addEventListener("click",function(a){var b,f;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{f=a.querySelectorAll(":scope .open");for(a=0;a<f.length;a++)f[a].classList.remove("open");}catch(z){}}else b.add("open");}});return a;};b.prototype.refresh=function(){var a;a=this;return!this.un||this.dO?Promise.resolve():this.aHa().then(function(b){if(b&&(b=a.n$a(b),a.zf)){a.lP&&(a.zf.removeChild(a.lP),a.lP=void 0);a.lP=b;a.zf.appendChild(a.lP);b=a.zf.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var f=0;f<b.length;++f)b[f].addEventListener("click",a.LHa);(b=a.zf.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}});};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(n.hf)),d.__param(1,h.l(p.Oe)),d.__param(2,h.Sh())],a);c.LR=a;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Fka="DxDisplaySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.m3={SM:"keepAlive",splice:"splice"};c.Ona="PboEventSenderSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.noa="PlaydataConfigSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Lna="PboCachedPlaydataSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Pna="PboLicenseRequestTransformerSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Xna="PboReleaseLicenseCommandSymbol";},function(d,c,a){var f,k,m,t,u,g;function b(a){var b;a=new m.aI(a);if(1481462272!=a.Pa())throw Error("Invalid header");b={XMR:{Version:a.Pa(),RightsID:a.yf(16)}};h(a,b.XMR,a.buffer.length);return b;}function h(a,b,f){var c,k,d,m,t;for(;a.position<f;){c=a.Mb();k=a.Pa();k=k-8;switch(c){case 1:d="OuterContainer";break;case 2:d="GlobalPolicy";break;case 3:d="MinimumEnvironment";break;case 4:d="PlaybackPolicy";break;case 5:d="OutputProtection";break;case 6:d="UplinkKID";break;case 7:d="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:d="AnalogVideoOutputConfiguration";break;case 9:d="KeyMaterial";break;case 10:d="ContentKey";break;case 11:d="Signature";break;case 12:d="DeviceIdentification";break;case 13:d="Settings";break;case 18:d="ExpirationRestriction";break;case 42:d="ECCKey";break;case 48:d="ExpirationAfterFirstPlayRestriction";break;case 50:d="PlayReadyRevocationInformationVersion";break;case 51:d="EmbeddedLicenseSettings";break;case 52:d="SecurityLevel";break;case 54:d="PlayEnabler";break;case 57:d="PlayEnablerType";break;case 85:d="RealTimeExpirationRestriction";break;default:d="Other";}m={Type:n(c)};t=b[d];t?g.isArray(t)?t.push(m):(b[d]=[],b[d].push(t),b[d].push(m)):b[d]=m;switch(c){case 1:case 2:case 4:case 7:case 9:case 54:h(a,m,a.position+k);break;case 5:m.Reserved1=a.Mb();m.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Mb();m.MinimumAnalogVideoOutputProtectionLevel=a.Mb();m.Reserved2=a.Mb();m.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Mb();break;case 10:m.Reserved=a.yf(16);m.SymmetricCipherType=a.Mb();m.AsymmetricCipherType=a.Mb();k=a.Mb();m.EncryptedKeyLength=k;c=a.yf(k);m.EncryptedKeyData=10>=k?c:c.substring(0,4)+"..."+c.substring(c.length-4,c.length);break;case 11:m.SignatureType=a.yf(2);k=a.Mb();c=a.yf(k);m.SignatureData=10>=k?c:c.substring(0,4)+"..."+c.substring(c.length-4,c.length);break;case 13:m.Reserved=a.Mb();break;case 18:m.BeginDate=a.Pa();m.EndDate=a.Pa();break;case 42:m.CurveType=a.yf(2);k=a.Mb();c=a.yf(k);m.Key=10>=k?c:c.substring(0,4)+"..."+c.substring(c.length-4,c.length);break;case 48:m.ExpireAfterFirstPlay=a.Pa();break;case 50:m.Sequence=a.Pa();break;case 51:m.LicenseProcessingIndicator=a.Mb();break;case 52:m.MinimumSecurityLevel=a.Mb();break;case 57:m.PlayEnablerType=p(a.yf(16));break;case 85:break;default:m.OtherData=a.yf(k);}}}function n(a){return"0x"+a.toString(16);}function p(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(c,"__esModule",{value:!0});f=a(11);k=a(5);m=a(159);t=a(129);u=a(207);g=a(15);c.qQb=function(a,c,d){switch(c){case f.M1:a&&(a=k.H7a(a),u.JLa(a,function(a){a.aa&&(a=a.object)&&(a=t.Hhb(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=t.stb(a))&&(a=k.Ym(a))&&(a=b(a))&&d(a);}));}};c.rQb=b;c.sQb=h;c.uQb=n;c.tQb=p;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jna="PboAcquireLicenseCommandSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.vla="HttpRequesterSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.hla="FtlDataParserSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.dna="NetworkMonitorSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Tpa="XhrFactorySymbol";},function(d,c,a){var h,n,p,f,k,m,t,u,g;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(161);n=a(80);p=a(19);f=a(2);k=a(18);m=a(10);t=a(15);u=a(1);a=a(17);b.prototype.construct=function(a,b){var f,c,k;f=this;c={};a.forEach(function(a){var b;b=a.url;c[b]||(c[b]=[]);c[b].push(a);});k=[];p.Gd(c,function(a,c){k.push(f.skb(c,b));});return{urls:k};};b.prototype.skb=function(a,b){var f,c,k,d;f=this;c=a[0];k={url:c.url,bitrate:c.R,cdnid:t.uf(c.ec)?c.ec.id:c.ec,dltype:c.vdb,id:c.cd};d={};a.forEach(function(a){var b;b=f.Amb(a)?"fail":"success";d[b]||(d[b]=[]);d[b].push(a);});p.Gd(d,function(a,c){"fail"===a?k.failures=f.cib(c,b):"success"===a&&(k.downloads=f.Shb(c,b));});return k;};b.prototype.Shb=function(a,b){var f,c,k;f=this;c={};a.forEach(function(a){var b;b=a.D9a;c[b]||(c[b]=[]);c[b].push(a);});k=[];p.Gd(c,function(a,c){var d;d=[];c.forEach(function(c){d.push(c);f.smb(c)&&(k.push(f.Wya(d,b,a)),d=[]);});0<d.length&&k.push(f.Wya(d,b,a));});return k;};b.prototype.Wya=function(a,b,f){var t;for(var c=a.sort(function(a,b){return a.tk.Sg<b.tk.Sg?-1:a.tk.Sg>b.tk.Sg?1:0;}),k=c[0].tk,d=k.requestTime,h=k.Sg,k=k.sm,m=1;m<a.length;m++){t=a[m].tk;t.requestTime<d&&(d=t.requestTime);t.Sg<h&&(h=t.Sg);t.sm>k&&(k=t.sm);}m=this.vjb(c);t=c[c.length-1];return{time:d-b,tcpid:f?parseInt(f):-1,tresp:h-d,first:m,ranges:this.wjb(c,m),dur:k-h,trace:this.hkb(a),status:this.RW(t)};};b.prototype.vjb=function(a){var b;b=0;a.forEach(function(a){a.qq&&(b=m.rp(b,a.qq[0]));});return b;};b.prototype.wjb=function(a,b){var f;f=[];a.forEach(function(a){a.qq?f.push([a.qq[0]-b,a.qq[1]-b]):f.push([0,-1]);});return f;};b.prototype.hkb=function(a){var b,f;b=[];a.forEach(function(a){var c;a=a.tk;if(f){c=a.requestTime-f.sm;0<c&&b.push([c,-2]);c=m.Mn(f.sm,a.requestTime);c=a.Sg-c;0<c&&b.push([c,-3]);}b.push([a.sm-a.Sg,a.Nw||0]);f=a;});return b;};b.prototype.smb=function(a){if(a.da===f.G.Cv||a.da===f.G.My)return!0;};b.prototype.RW=function(a){if(a.aa)return"complete";if(a.da===f.G.Cv)return"abort";if(a.da===f.G.My)return"stall";k.Ra(!1,"download status should never be: other");return"other";};b.prototype.cib=function(a,b){var f,c;f=this;c=[];a.forEach(function(a){var k;k=a.tk;a={time:k.Sg-b,tresp:k.Sg-k.requestTime,dur:k.sm-k.Sg,range:a.qq,reason:f.yjb(a),httpcode:a.Oi,nwerr:h.Gza(a.da)};c.push(a);});return c;};b.prototype.yjb=function(a){return a.Oi||a.da===f.G.oI?"http":a.da===f.G.qI?"timeout":"network";};b.prototype.Amb=function(a){return a.aa||void 0===a.aa||a.da===f.G.Cv||a.da===f.G.My?!1:!0;};b.prototype.x$a=function(a){var b,f,c,k,d,h;b=a.request;f=b.stream;c=b.track;k=b.url;d=this.Phb(c,k);switch(d){case n.Vg.audio:case n.Vg.video:h=b.stream.cd;break;case n.Vg.p0:case n.Vg.yia:h=c.cd;}a={R:f&&f.R,vdb:d,cd:h,tk:a.tk,ec:b.ec,url:k,Td:a.Td,Oi:a.Oi,da:a.da,aa:a.aa,D9a:this.kfb(a)};void 0!==b.offset&&void 0!=b.length&&(a.qq=[b.offset,b.offset+b.length-1]);return a;};b.prototype.Phb=function(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";};b.prototype.kfb=function(a){if(a.headers&&(a=a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]))return(a=a.split(";").filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0])?p.fe(a):a;};g=b;g=d.__decorate([u.N(),d.__param(0,u.l(a.md))],g);c.ZPa=g;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Vma="MilestonesEventBuilderSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.zka="DownloadReportBuilderSymbol";},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(46);c.K1=function(a,c){this.Cdb=a;this.size=c.MBa()?b.xe:c;};},function(d,c,a){var h,n,p,f,k,m,t,u,g,E,D,z,G,M,N,l,q,Y,S,A,r,U,ia,T;function b(a,b,f,c,d,h,t,y,E,P,W,A,r,X,B,H,Q,bb,V,Va,Kb,Z){var O;O=this;this.j=a;this.Xr=b;this.WJa=c;this.CU=d;this.ri=h;this.Lda=t;this.f$=y;this.Fj=E;this.Yc=P;this.xV=W;this.Ye=A;this.config=r;this.Hc=X;this.Ia=B;this.ta=H;this.platform=Q;this.km=bb;this.cN=V;this.Gj=Va;this.Rp=Kb;this.IY=Z;this.qP=[];this.xqb=this.JX=this.qHa=0;this.YE=[];this.F6=!1;this.zu=function(a,b){return function(f){var c;c=b(f);if("number"!==typeof c)throw Error("Event "+JSON.stringify(f)+" does not have movie Id");c===O.u&&a(f);};};this.Ho=this.zu(function(a){O.lJa(a.JA);},function(a){return a.u;});this.ZF=this.zu(function(){O.H9a();},function(a){return a.u;});this.AH=function(){O.Gc(U.Ee.ACb,!1,T.Uh|T.Ug,{track:O.j.tc.value.Lg});};this.cKa=function(a){a.newValue&&O.mm&&(a={track:a.newValue.Lg},O.DA(a,O.j.af.value&&O.j.af.value.stream,O.j.fg.value&&O.j.fg.value.stream),O.Gc(U.Ee.BCb,!1,T.Uh|T.Ug,a));};this.jo=function(a){O.Gc(U.Ee.P7a,!1,T.Uh|T.Ug,a.newValue);};this.Gwa=function(){var a,b,f;if(O.j.sj)try{a=!1;O.ga%O.config().CL&&!O.j.IL&&(a=!0,O.YE=O.YE.filter(function(a){return!a.aa;}));if(0<O.YE.length){b=O.xV.construct(O.YE,O.j.zk.ca(g.ha));O.YE=[];b.erroronly=a;f={};u.Gd(b,function(a,b){f[a]=JSON.stringify(b);});O.Gc(U.Ee.tdb,!1,T.Ug,f);}}catch(Oc){O.log.error("Exception in dlreport.",Oc);}};this.GY=function(){var a,b;if(O.j.state.value==S.mb.od){a=O.QFa();O.config().Zfa&&(a.avtp=O.ZB.Xl().YB,O.j.wm&&O.wX(a));a.midplayseq=O.xqb++;b=O.j.Lb.value;a.prstate=b===S.jb.Jc?"playing":b===S.jb.yh?"paused":b===S.jb.Eq?"ended":"waiting";O.config().azb&&O.BJa("midplay");O.config().Ro&&O.Hc()&&O.Uba(a);O.Rba(a);O.Sba(a);O.Tba(a);O.Gc(U.Ee.GY,!1,T.Uh|T.Ug|T.xv|T.GR,a);}};this.Ppa=/-?l(\d\d)/i;this.Pwa=this.zu(function(a){O.YE.push(O.xV.x$a(a.response));},function(a){return a.u;});this.wV=this.zu(function(a){var b,f,c,d,h,m;a=a.response;b=a.request;f=a.request.Lo;c=b.track;if(c){d=!a.aa&&a.da!=D.G.Cv;h=c.type;m=a.tk;if(d||O.Xr.$ca){f={dltype:h,url1:b.url,url2:a.url||"",cdnid:b.ec&&b.ec.id,tresp:u.kn(m.Sg-m.requestTime),brecv:u.lgb(m.Nw),trecv:u.kn(m.sm-m.Sg),sbr:f&&f.R};a.qq&&(f.range=a.qq);switch(h){case k.Vg.audio:f.adlid=b.stream.cd;break;case k.Vg.video:f.vdlid=b.stream.cd;break;case k.Vg.p0:f.ttdlid=c.cd;}(b=ia.Gza(a.da))&&(f.nwerr=b);a.Oi&&(f.httperr=a.Oi);O.Gc(U.Ee.wV,d,T.Ug,f);}}},function(a){return a.u;});this.dk=function(){O.Gc(U.Ee.Q7a,!1,T.Uh|T.xv,{browserua:q.Fm});};this.iva=this.zu(function(a){var b,f,c;a=a.response;b=a.tk;f=g.Ib(b.Sg);c=g.Ib(b.sm);b=G.ba(b.Nw||0);b.cCa()||b.MBa()||(f=new M.Foa(f,c),O.ZB.WT(new N.K1(f,b)),a&&a.request&&a.request.Lo&&a.request.Lo.Jb&&O.CU.WT(new l.iOa(f,b,a.request.Lo.Jb)));},function(a){return a.u;});this.BFa=function(a){var b;b=a.newValue;a.Rw&&a.Rw.qea&&b||b==O.Eca||(O.bBb(O.Eca,b),O.Eca=b);};this.It=function(a){function b(a){var b;if(O.j.Db&&O.j.Db.sourceBuffers){b=O.j.Db.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.mk(),updating:b.updating(),ranges:b.yW()};}}O.WG="rebuffer";a={cause:a.cause};a.cause&&a.cause===p.doa&&(a.mediaTime=O.j.Yb.value,a.buf_audio=b(n.J2),a.buf_video=b(n.yI));O.dca(O.qP[S.jb.Jc]||0,O.qP[S.jb.yh]||0,a);O.OH=O.getTime();Y.Pb(O.DU);};this.mKa=function(a){var b;a=a.oldValue;b=O.getTime();a===S.jb.Vf?O.qP=[]:O.qP[a]=(O.qP[a]||0)+(b-O.Knb);O.Knb=b;};this.Uo=function(a){switch(a.cause){case S.kg.Pv:case S.kg.KR:O.WG&&O.OH?O.kub(O.getTime()-O.OH,O.WG):O.mm||O.NFa(),O.WG="repos",O.aga(a.iZ,a.fg,a.af),O.OH=O.getTime(),Y.Pb(O.DU);}};this.DU=function(){var a;if(O.OH&&O.j.Lb.value!==S.jb.Vf){a=O.getTime()-O.OH;O.oga(a,O.$i);O.Aca&&O.Aca!=O.j.ad.value&&O.c7a();O.OH=void 0;O.WG=void 0;O.$i=void 0;}};this.M7=this.zu(function(){O.j.Lb.value===S.jb.Jc&&(O.j.Lb.removeListener(O.M7),O.An());},function(){return O.j.u;});this.DK=function(a){O.Enb=O.getTime();O.Aca=a.oldValue;};this.An=function(){O.mm||(O.mm=!0,O.$_(!1),O.amb(),O.config().pBa&&(O.DX=L.setTimeout(function(){O.ri.flush(!1)["catch"](function(){return O.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});O.DX=void 0;},O.config().pBa)));};this.pf=function(){O.DX&&(L.clearTimeout(O.DX),O.DX=void 0);if(O.config().CL||O.config().yK)O.t9&&(L.clearInterval(O.t9),O.t9=void 0),O.Gwa();O.JKa&&O.JKa();O.mm?O.R9(!!O.j.Pi):O.j.Pi?O.$_(!0):O.Xr.background||O.NFa();O.zyb||(O.Gc=n.Pe);};this.dva=this.zu(function(){O.pf();},function(a){return a.movieId;});this.sLa=function(a){a.oldValue&&a.Rw&&a.Rw.Vua&&O.P7(a.oldValue,a.newValue,a.Rw.Vua,a.Rw.y7a);};this.jGa=function(a){var b;if(a.newValue){b=a.newValue.stream;O.Fca!=b&&(O.Fca&&O.mxb(O.Fca,b,a.newValue.mo.startTime),O.Fca=b);}};this.Dr=this.zu(function(a){function b(a,b){var f;if(!a||a.Wca!==b.location){f={Wca:b.location,JCa:b.locationlv,lzb:b.serverid,IB:b.servername};O.W8a(a,b);return f;}}if("audio"===a.mediaType){if(a=b(O.Dnb,a))O.Dnb=a;}else if(a=b(O.TM,a))O.TM=a;},function(a){return O.j.ku(a.segmentId).u;});this.fH=this.zu(function(a){var b,f;b=a.mediatype;f=a.reason;"video"===b?"serverswitchaway"===f?(O.Oh.summary.xLa++,O.Oh.eY=O.Ia.Ve.ca(g.ha)):"serverswitchback"===f&&(O.Oh.summary.yLa++,O.Oh.eY&&(O.Oh.summary.zLa.push(O.Ia.Ve.ca(g.ha)-O.Oh.eY),O.Oh.eY=void 0)):"audio"===b&&("serverswitchaway"===f?(O.Oh.summary.Kta++,O.Oh.$X=O.Ia.Ve.ca(g.ha)):"serverswitchback"===f&&(O.Oh.summary.Lta++,O.Oh.$X&&(O.Oh.summary.Mta.push(O.Ia.Ve.ca(g.ha)-O.Oh.$X),O.Oh.$X=void 0)));O.Gc(U.Ee.nzb,!1,T.Uh|T.Ug,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});},function(a){return O.j.ku(a.segmentId).u;});this.qE=function(a){O.Gc(U.Ee.C6a,!1,T.Ug,{strmsel:a.strmsel});};this.pE=function(a){O.Gc(U.Ee.B6a,!1,T.Ug,{msg:a.msg});};this.sH=function(a){a=z.SO(a);a.details&&(a.details=JSON.stringify(a.details));O.Gc(U.Ee.PBb,!0,T.Uh|T.TC|T.kQ,a);};this.F6=Va.H0||Va.I0;this.ZB=c();this.log=m.fh(a,"LogblobBuilder");this.Eca=a.paused.value;this.u=b.u;this.ga=this.Xr.ga;this.Oh={summary:{xLa:0,yLa:0,zLa:[],Kta:0,Lta:0,Mta:[]},eY:void 0,$X:void 0};this.Xb();f&&this.lJa();}Object.defineProperty(c,"__esModule",{value:!0});h=a(50);n=a(11);p=a(58);f=a(40);k=a(80);m=a(5);t=a(18);u=a(19);g=a(3);E=a(53);D=a(2);z=a(20);G=a(46);M=a(359);N=a(346);l=a(696);q=a(10);Y=a(51);S=a(13);A=a(15);r=a(695);U=a(352);ia=a(161);b.prototype.Xb=function(){this.j.addEventListener(S.T.Ho,this.Ho);this.j.addEventListener(S.T.ZF,this.ZF);this.j.addEventListener(S.T.Dr,this.Dr);this.j.addEventListener(S.T.fH,this.fH);this.j.addEventListener(S.T.pf,this.dva);this.j.addEventListener(S.T.Xw,this.wV,n.Z2);if(this.config().CL||this.config().yK)this.j.addEventListener(S.T.Xw,this.Pwa),this.t9=L.setInterval(this.Gwa,this.config().Bdb);this.config().Zfa&&this.j.addEventListener(S.T.Xw,this.iva);};b.prototype.lJa=function(a){var b;b=this;this.XDa||(this.j.Lb.value!==S.jb.Jc||(void 0===a?0:a)?this.j.Lb.addListener(this.M7):this.An(),this.j.qj.addListener(this.cKa),this.j.ad.addListener(this.DK),this.j.paused.addListener(this.BFa),this.j.af.addListener(this.jGa),this.j.Lb.addListener(this.DU),this.j.Lb.addListener(this.mKa),this.j.ef.addListener(this.sLa),this.j.addEventListener(S.T.dk,this.dk),this.j.addEventListener(S.T.pE,this.pE),this.j.addEventListener(S.T.qE,this.qE),this.j.addEventListener(S.T.sH,this.sH),this.j.addEventListener(S.T.It,this.It),this.j.addEventListener(S.T.Uo,this.Uo),this.j.addEventListener(S.T.AH,this.AH),this.j.addEventListener(S.T.$i,function(){b.$i=!0;}),this.Xr.jo&&this.Xr.jo.addListener(this.jo),this.config().vi&&(this.zyb=!0),this.XDa=!0);};b.prototype.H9a=function(){this.pf();this.XDa&&(this.j.removeEventListener(S.T.Ho,this.Ho),this.j.removeEventListener(S.T.ZF,this.ZF),this.j.removeEventListener(S.T.Dr,this.Dr),this.j.removeEventListener(S.T.fH,this.fH),this.j.qj.removeListener(this.cKa),this.j.ad.removeListener(this.DK),this.j.paused.removeListener(this.BFa),this.j.af.removeListener(this.jGa),this.j.Lb.removeListener(this.DU),this.j.Lb.removeListener(this.M7),this.j.Lb.removeListener(this.mKa),this.j.ef.removeListener(this.sLa),this.j.removeEventListener(S.T.Xw,this.wV),this.j.removeEventListener(S.T.pf,this.dva),this.j.removeEventListener(S.T.dk,this.dk),this.j.removeEventListener(S.T.pE,this.pE),this.j.removeEventListener(S.T.qE,this.qE),this.j.removeEventListener(S.T.sH,this.sH),this.j.removeEventListener(S.T.It,this.It),this.j.removeEventListener(S.T.Uo,this.Uo),this.j.removeEventListener(S.T.AH,this.AH),this.Xr.jo&&this.Xr.jo.removeListener(this.jo),this.j.removeEventListener(S.T.Xw,this.Pwa),this.j.removeEventListener(S.T.Xw,this.iva));};b.prototype.$_=function(a){var b,c,t,p,n,y,D,z,G,M,N,l,P,W,Y,ma,X,ia,B,H,Q,V,Z,da;b={};try{b={browserua:q.Fm,browserhref:location.href,playdelaysdk:u.kn(this.j.E7()),applicationPlaydelay:u.kn(this.j.y8a()),playdelay:u.kn(this.j.D8a()),trackid:this.j.Rh,bookmark:u.kn(this.j.Tz||0),pbnum:this.j.index,endianness:f.Zhb()};this.config().Beb&&(b.transitiontime=this.j.Gk,b.uiplaystarttime=this.j.Xa.y0,b.playbackrequestedat=this.j.zk.ca(g.ha),b.clockgettime=this.getTime(),b.clockgetpreciseepoch=this.Ia.Ve.ca(g.ha),b.clockgetpreciseappepoch=this.ta.TA.ca(g.ha),b.absolutestarttime=this.j.uW(),b.relativetime=this.j.Jaa());this.tW(b,"startplay");}catch(gb){this.log.error("error in startplay log fields",gb);}this.j.dk&&(b.blocked=this.j.dk);b.configversion=this.config().version;this.config().endpoint||(b.configendpoint="error");this.j.eg&&(b.playbackcontextid=this.j.eg);this.gBa(b);if(this.config().S0&&this.j.Xa.Sia){for(var k={},d=Object.keys(this.j.Xa.Sia),h,m=d.length;m--;)h=d[m],k[h.toLowerCase()]=this.j.Xa.Sia[h];b.vui=k;}A.ma(this.j.mua)&&(b.bookmarkact=u.kn(this.j.mua));(k=this.j.gd.at&&this.j.gd.ats?this.j.gd.at-this.j.gd.ats:void 0)&&(b.nccpat=k);(k=this.j.gd.lr&&this.j.gd.lc?this.j.gd.lr-this.j.gd.lc:void 0)&&(b.nccplt=k);(k=this.Hdb())&&(b.downloadables=k);L._cad_global.device&&A.$b(L._cad_global.device.W9)&&(b.esnSource=L._cad_global.device.W9);u.xb(b,this.km,{prefix:"pi_"});(k=q.ej&&q.ej.connection&&q.ej.connection.type)&&(b.nettype=k);this.j.ko&&this.j.ko.initBitrate&&(b.initvbitrate=this.j.ko.initBitrate);this.j.ko&&this.j.ko.selector&&(b.selector=this.j.ko.selector);b.fullDlreports=this.j.exa;if(this.j.state.value>=S.mb.od)try{t=this.j.Pw();t&&(this.Jo=f.lja(t.map(function(a){return a.R;})),this.wDa=f.lja(t.map(function(a){return a.height;})),c=0<t.length?r.Fpb(t,function(a){return a.R;}):void 0,b.maxbitrate=this.Jo,b.maxresheight=this.wDa);}catch(gb){this.log.error("Exception computing max bitrate",gb);}try{p=f.NW();p&&(b.pdltime=p);}catch(gb){}try{u.xb(b,this.j.gd,{prefix:"sm_"});u.xb(b,this.j.XW(),{prefix:"vd_"});}catch(gb){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&this.j.oq&&(b.pssh=this.j.oq);this.j.Kf&&this.j.Kf.il&&this.j.Kf.il.keySystem&&(b.keysys=this.j.Kf.il.keySystem);if(this.config().Ro&&this.Hc())try{t={};n=this.Hc().getStats(void 0,void 0,this.j.u);y=this.j.uW();D=n.sy.W9a;t.attempts=n.eGa||0;t.num_completed_tasks=D.length;z=this.Yc.Afb;p={};G=E.Yd.Ge.Uoa;M=E.Yd.Ge.Bv;N=E.Yd.Ge.jQ;l=E.Yd.Ge.TH;P=E.Yd.Ge.iQ;n.xj&&(p.scheduled=n.xj-y);W=this.j.wa;W&&A.ma(W.fy)&&(p.preauthsent=W.fy-this.j.Ze,p.preauthreceived=W.CB-this.j.Ze);Y=D.filter(z("type","manifest"));t.mf_succ=Y.filter(z("status",G)).length;t.mf_fail=Y.filter(z("status",M)).length;ma=this.j.gd;A.$b(ma.lg)&&0>ma.lg&&this.j.Ze&&(p.ldlsent=ma.lc,p.ldlreceived=ma.lr);X=D.filter(z("type","ldl"));t.ldl_succ=X.filter(z("status",G)).length;t.ldl_fail=X.filter(z("status",M)).length;n=!0;ia="ui"===this.j.Mt;p.preauthreceived&&0>p.preauthreceived||ia||(n=!1);this.config().cF||(n=!1);B=X.filter(z("status",N)).length;H=X.filter(z("status",l)).length;Q=X.filter(z("status",P)).length;this.config().cF&&0===B+H+Q&&(!p.ldlreceived||0<=p.ldlreceived)&&(n=!1);if(this.config().GV){V=this.j.nn&&this.j.nn.stats;if(V){if(V.cW&&(p.headersent=V.cW-this.j.Ze),V.gY&&(p.headerreceived=V.gY-this.j.Ze),V.IG&&(p.prebuffstarted=V.IG-this.j.Ze),V.GZ&&(p.prebuffcomplete=V.GZ-this.j.Ze),!p.prebuffcomplete||0<=p.prebuffcomplete)n=!1;}else n=!1;}Z=D.filter(z("type","getHeadersAndMedia"));t.hm_succ=Z.filter(z("status",G)).length;t.hm_fail=Z.filter(z("status",M)).length;u.xb(b,t,{prefix:"pr_"});this.Rp.KL&&(b.eventlist=this.IY.Oza(this.j));b.prefetchCompleted=n;this.Uba(b);}catch(gb){this.log.warn("error in collecting video prepare data",gb);}b.avtp=this.ZB.Xl().YB;this.j.wm&&this.wX(b);if(this.j.tc.value)try{b.ttTrackFields=this.j.tc.value.Lg;}catch(gb){}if(D=this.j.ad&&this.j.ad.value&&this.j.ad.value.cc){da={};D.forEach(function(a){da[a.Jf]=void 0;});b.audioProfiles=Object.keys(da);}this.Vba(b);this.j.wa&&"boolean"===typeof this.j.wa.If.NA&&(b.isSupplemental=this.j.wa.If.NA);b.headerCacheHit=!!this.j.nn;this.j.nn&&(b.headerCacheDataAudio=this.j.nn.audio,b.headerCacheDataAudioFromMediaCache=this.j.nn.audioFromMediaCache,b.headerCacheDataVideo=this.j.nn.video,b.headerCacheDataVideoFromMediaCache=this.j.nn.videoFromMediaCache);this.j.wa&&(b.packageId=this.j.wa.If.jm);this.j.wa&&this.j.wa.If.Rt&&(b.hasChoiceMap=!0);this.config().eya&&(b.forceL3WidevineCdm=!0);b.isNonMember=this.Fj.MF;this.znb(c);this.ynb();this.eBa(this.j,b);this.fBa(this.j,b);this.EA(this.j,b);this.wx(this.j,b,this.F6);this.Rba(b);this.Sba(b);this.Tba(b);this.jBa(b);this.dBa(b);this.kBa(b);this.Gc(U.Ee.$_,a,T.Uh|T.TC|T.Ug|T.GR|T.xv|T.kQ|T.U1,b);};b.prototype.oga=function(a,b){b={playdelay:u.kn(a),reason:this.WG,intrplayseq:this.JX-1,skipped:b};this.EA(this.j,b);this.Gc(U.Ee.oga,!1,T.Uh|T.TC|T.Ug,b);"rebuffer"==this.WG&&this.j.lm.o5a(Number(u.kn(a)));};b.prototype.P7=function(a,b,f,c){a={moff:u.ix(f),vbitrate:b.R,vbitrateold:a.R,vdlid:b.cd,vdlidold:a.cd,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:c};this.EA(this.j,a);this.wx(this.j,a);this.Gc(U.Ee.P7,!1,T.Ug,a);};b.prototype.mxb=function(a,b,f){a={moff:u.ix(f),vdlidold:a.cd,vbitrateold:a.R};this.EA(this.j,a);this.wx(this.j,a);this.DA(a,b,this.j.fg.value&&this.j.fg.value.stream);this.Gc(U.Ee.nxb,!1,T.Ug,a);};b.prototype.NFa=function(){var a,b;a={waittime:u.kn(this.j.Jaa()),abortedevent:"startplay",browserua:q.Fm,browserhref:location.href,trackid:this.j.Rh};this.tW(a,"endplay");this.Rp.KL&&(a.eventlist=this.IY.Oza(this.j));this.j.eg&&(a.playbackcontextid=this.j.eg);this.j.ko&&this.j.ko.initBitrate&&(a.initvbitrate=this.j.ko.initBitrate);try{b=f.NW();b&&(a.pdltime=b);u.xb(a,this.j.gd,{prefix:"sm_"});}catch(oa){}this.Pba(a,!0);this.kBa(a);this.Vba(a);this.hBa(a);this.DA(a,this.j.ef.value,this.j.Yk.value);this.Gc(U.Ee.SFa,!1,T.Uh|T.Ug|T.xv,a);};b.prototype.kub=function(a,b){a={waittime:u.kn(a),abortedevent:"resumeplay",browserua:q.Fm,resumeplayreason:b};this.j.eg&&(a.playbackcontextid=this.j.eg);this.j.ko&&this.j.ko.initBitrate&&(a.initvbitrate=this.j.ko.initBitrate);this.DA(a,this.j.ef.value,this.j.Yk.value);this.Gc(U.Ee.SFa,!1,T.Uh|T.Ug,a);};b.prototype.bBb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.EA(this.j,a);this.wx(this.j,a);this.DA(a,this.j.af.value&&this.j.af.value.stream,this.j.fg.value&&this.j.fg.value.stream);this.Gc(U.Ee.dBb,!1,T.Uh|T.Ug,a);};b.prototype.dca=function(a,b,f){a=u.xb({vdlid:this.j.ef.value.cd,playingms:a,pausedms:b,intrplayseq:this.JX++},f);this.tW(a,"intrplay");b=this.j.ec[h.Uc.Na.VIDEO].value;f=this.j.ec[h.Uc.Na.AUDIO].value;a.cdnid=a.vcdnid=b&&b.id;a.acdnid=f&&f.id;a.locid=this.TM&&this.TM.Wca;a.loclv=this.TM&&this.TM.JCa;a.avtp=this.ZB.Xl().YB;this.j.wm&&(this.Pba(a,!0),this.wX(a),this.iBa(a));try{u.xb(a,this.j.XW(),{prefix:"vd_"});}catch(ta){}this.EA(this.j,a);this.wx(this.j,a);this.DA(a,this.j.af.value&&this.j.af.value.stream,this.j.fg.value&&this.j.fg.value.stream);this.Gc(U.Ee.dca,!1,T.Uh|T.Ug,a);};b.prototype.aga=function(a,b,f){a={moffold:u.ix(a),reposseq:this.qHa++};this.wx(this.j,a);this.DA(a,f&&f.stream,b&&b.stream);this.Gc(U.Ee.aga,!1,T.Uh|T.Ug,a);};b.prototype.c7a=function(){this.Gc(U.Ee.h7a,!1,T.Uh|T.Ug,{switchdelay:u.kn(this.getTime()-this.Enb),newtrackinfo:this.j.ad.value.bb,oldtrackinfo:this.Aca.bb});};b.prototype.W8a=function(a,b){var f,c,k,d;f=b.serverid;c=b.serverrtt;k=b.serverbw;d={locid:b.location,loclv:b.locationlv,selocaid:f,selcdnid:f,selocaname:b.servername};d.mediatype=b.mediatype;d.selcdnrtt=c;d.selcdnbw=k;d.selreason=b.selreason||"unknown";d.testreason=b.testreason;d.fastselthreshold=b.fastselthreshold;d.seldetail=b.seldetail;d.cdnbwdata=JSON.stringify([{id:f,rtt:c,bw:k}]);a&&(d.oldlocid=a.Wca,d.oldloclv=a.JCa,d.oldocaid=a.lzb,d.oldocaname=a.IB);this.Gc(U.Ee.Iua,!1,T.kQ,d);};b.prototype.BJa=function(a){var b,f;b={};b.trigger=a;try{f=this.j.Baa();b.subtitleqoescore=this.j.Fn.Xjb(f);b.metrics=JSON.stringify(this.j.Fn.Uaa(f));}catch(ta){this.log.error("error getting subtitle qoe data",ta);}this.Gc(U.Ee.QBb,!1,T.Uh|T.xv|T.TC,b,"info");};b.prototype.transition=function(a){this.wx(this.j,a);this.Gc(U.Ee.transition,!1,0,a);};b.prototype.Ljb=function(a,b){if(a=a.AW())if(b=a[b])return b.Af;};b.prototype.eBa=function(a,b){a.Xa.Ri&&(b.isBranching=!0);};b.prototype.fBa=function(a,b){b.cachedManifest=a.Mt;b.cachedLicense=a.Iw;b.usedldl=this.config().cF?("videopreparer"===a.Iw).toString():"not_capable";};b.prototype.EA=function(a,b){var f,c;if(this.config().Rlb){f=a.Caa();c=a.fa.wa;f&&c&&(b.segment=f,c=a.yA(),b.segmenttime=c,a=this.Ljb(a,f),null!==c&&void 0!==a&&(b.segmentoffset=c-a));}};b.prototype.wx=function(a,b,f){b.pxid=a.wGa;(void 0===f?0:f)&&(b.playgraph_trace=a.XFa);};b.prototype.iBa=function(a){var b,f;b=this.j.xba;f=b&&b.vxb;b&&b.aBa&&(a.htwbr=b.aBa,a.pbtwbr=b.wZ,a.hptwbr=b.wlb);b&&b.NHa&&(a.rr=b.NHa,a.ra=b.Wvb);b&&f&&0<(f.length||0)&&(a.qe=JSON.stringify(f));};b.prototype.Vba=function(a){var b,f,c,k,d;b=this;f=this.j.zg&&this.j.zg.value&&this.j.zg.value.cc;if(f){c=new Set();k=new Set();d=new Set();f.forEach(function(a){a=a.Jf;c.add(a);k.add(a.replace(b.Ppa,""));(a=a.match(b.Ppa))&&0<a.length&&d.add(a[1]);});a.videoProfiles=[].concat(fa(c));a.videoProfile=0===k.size?"none":[].concat(fa(k))[0];a.videoProfileLevels=[].concat(fa(d));}};b.prototype.hBa=function(a){var b,f,c;try{b=this.Yc.createElement("canvas");f=b.getContext("webgl")||b.getContext("experimental-webgl");if(f){c=f.getExtension("WEBGL_debug_renderer_info");c&&(a.WebGLRenderer=f.getParameter(c.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=f.getParameter(c.UNMASKED_VENDOR_WEBGL));}}catch(wa){}};b.prototype.Slb=function(a){a.switchAwaySummary={vsa:this.Oh.summary.xLa,vsb:this.Oh.summary.yLa,vsbt:this.Oh.summary.zLa,asa:this.Oh.summary.Kta,asb:this.Oh.summary.Lta,asbt:this.Oh.summary.Mta};};b.prototype.R9=function(a){var b,f,c,k,y;b=this;f=this.QFa();this.tW(f,"endplay");f.browserua=q.Fm;this.j.qv&&"downloaded"===this.j.qv.RW()&&(f.trickplay_ms=this.j.vP.offset,f.trickplay_res=this.j.vP.xHa);this.config().iLa&&(f.rtinfo=this.j.Djb());if(this.config().Zfa){c=this.ZB.Xl().YB;void 0!==f.avtp?f.avtp_retired=c:f.avtp=c;c=this.CU.qhb().map(function(a){return{cdnid:a.Kw,avtp:a.YB,tm:a.u9};});void 0!=f.cdnavtp?f.cdnavtp_retired=c:f.cdnavtp=c;this.j.wm&&this.wX(f);}this.gBa(f);f.endreason=a?"error":this.j.Lb.value===S.jb.Eq?"ended":"stopped";c=this.km;this.Mlb(c);c&&u.xb(f,c,{prefix:"pi_"});c=this.j.Pi;a&&c&&D.NQa(c.errorCode)&&(k="info");try{u.xb(f,this.j.gd,{prefix:"sm_"});}catch(Oa){}this.j.Oba&&(f.inactivityTime=this.j.Oba);this.Pba(f,"info"!==k&&a);this.iBa(f);if(this.j.Uz){for(var c=this.j.Uz,d=this.config().xE,h=this.j.Ze,m={iv:d,seg:[]},t=function(a,b,f){return 0===b||void 0===f[b-1]?a:a-f[b-1];},p=c.Ct.map(t),t=c.sv.map(t),n,g=0;g<p.length;g++){if(p[g]||t[g])n?(n.ams.push(p[g]),n.vms.push(t[g])):n={ams:[c.Ct[g]],vms:[c.sv[g]],soffms:c.startTime+g*d-h};g!==p.length-1&&p[g]&&t[g]||!n||(m.seg.push(n),n=void 0);}f.bt=JSON.stringify(m);}if(this.j.CY&&0<this.j.CY.length){y=[];this.j.CY.forEach(function(a){y.push({soffms:a.time-b.j.Ze,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});f.maxvbevents=y;}this.j.uGa&&(f.psdConservCount=this.j.uGa);a&&this.hBa(f);this.BJa("endplay");this.config().Ro&&this.Hc()&&this.Uba(f);f.isNonMember=this.Fj.MF;this.Vba(f);this.eBa(this.j,f);this.fBa(this.j,f);this.EA(this.j,f);this.wx(this.j,f,this.F6);this.Rba(f);this.Sba(f);this.Tba(f);this.jBa(f);this.Nlb(f);this.dBa(f);this.Plb(f);this.Olb(f);this.Slb(f);this.Gc(U.Ee.R9,a,T.Uh|T.TC|T.Ug|T.xv|T.GR|T.U1,f,k);};b.prototype.L0a=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return+a;}):b;};b.prototype.Hdb=function(){var a,b;a=this;if(this.j.Bm&&this.j.Wm){b=[];this.j.Bm.concat(this.j.Wm).forEach(function(f){f.cc.forEach(function(f){b.push({dlid:f.cd,type:f.type,bitrate:f.R,vmaf:f.uc,cdn_ids:a.L0a(f.bu)});});});return JSON.stringify(b);}};b.prototype.V8a=function(){var b,f,c;function a(a,b){var k,d,h;k=a.cdnId;d=c[k];h=a.vmaf;d||(d={cdnid:k,dls:[]},c[k]=d,f.push(d));t.tL(a.bitrate);t.tL(a.duration);k={bitrate:a.bitrate,tm:q.Ei(a.duration)};h&&(t.tL(a.vmaf),k.vf=h);k[b]=u.fe(a.downloadableId);d.dls.push(k);}b=this.j.lm.Sgb();f=[];c={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(f);};b.prototype.QFa=function(){var a,b,f,c,k,d,h,m,p,y,E;a=this.j.lm;b={totaltime:u.ix(a.rM()),totalcontenttime:u.ix(a.nAa()),cdndldist:this.V8a(),reposcount:this.qHa,intrplaycount:this.JX};try{f={numskip:0,numlowqual:0};c=this.j.Si;k=c.xA();A.ma(k)&&(b.totfr=k,f.numren=k);k=c.wA();A.ma(k)&&(b.totdfr=k,f.numrendrop=k);k=c.fM();A.ma(k)&&(b.totcfr=k,f.numrenerr=k);k=c.HW();A.ma(k)&&(b.totfdl=k);b.playqualvideo=JSON.stringify(f);d=this.j.ef.value;d&&(b.videofr=d.mW.toFixed(3));h=a.Aya();h&&(b.abrdel=h);m=a.hlb()&&a.Xgb();m&&(b.tw_vmaf=m);p=a.Wgb();p&&u.xb(b,p);b.rbfrs=this.JX;b.maxbitrate=this.Jo;b.maxresheight=this.wDa;for(var n=this.j.AA(),g,a=0;a<n.length;a++){y=n[a];E=this.Xr.qN.gv(y);if(E){t.Ra(g);b.maxbitrate=g?g.R:0;b.maxresheight=g?g.height:0;b.bitratefilters=E.join("|");break;}g=y;}this.j.qv&&(b.trickplay=this.j.qv.RW());null!==this.j.Fn.bua&&(b.avg_subt_delay=this.j.Fn.bua);}catch(Oa){this.log.error("Exception reading some of the endplay fields",Oa);}u.xb(b,this.j.XW(),{prefix:"vd_"});return b;};b.prototype.getTime=function(){return this.ta.gc().ca(g.ha);};b.prototype.y_=function(a){a.browserua=q.Fm;this.Gc(U.Ee.Dyb,!a.success,T.Uh|T.xv,a);this.Gc=n.Pe;};b.prototype.amb=function(){var a,b,f;a=this;f=[];this.config().vqb&&(this.config().wqb.forEach(function(b){f.push(L.setTimeout(a.GY,b));}),this.config().JDa&&(b=L.setInterval(this.GY,this.config().JDa)),this.JKa=function(){f.forEach(function(a){L.clearTimeout(a);});b&&L.clearInterval(b);});};b.prototype.Uba=function(a){var b;try{b=this.Hc().getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.qya);}catch(oa){}};b.prototype.Rba=function(a){this.log.debug("httpstats",this.Ye.Ub);u.xb(a,this.Ye.Ub,{prefix:"http_"});};b.prototype.Pba=function(a,b){this.config().$va&&!(this.ga%this.config().$va)&&this.j.Bb&&this.j.Bb.IX&&(a.ASEstats=JSON.stringify(this.j.Bb.IX(b)));};b.prototype.wX=function(a){Object.assign(a,this.j.wm.sb.ekb());};b.prototype.Sba=function(a){var b;try{b=q.Es.memory;A.lnb(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(oa){}};b.prototype.Tba=function(a){var b,f;if(this.config().web){f=null===(b=null===q.ej||void 0===q.ej?void 0:q.ej.connection)||void 0===b?void 0:b.effectiveType;b=null===q.ej||void 0===q.ej?void 0:q.ej.deviceMemory;f&&(a.effectiveType=f);b&&(a.deviceMemory=b);}};b.prototype.jBa=function(a){var b;b=this.j.Kf;this.config().O8a&&b&&!this.config().ip&&(a.keystatuses=this.j.yrb(b.GRb()),this.log.trace("keystatuses",a.keystatuses));};b.prototype.dBa=function(a){try{this.config().WK&&(a.battery=this.j.chb(),this.log.trace("batterystatuses",a.battery));}catch(O){}};b.prototype.Nlb=function(a){this.j.fV&&(a.dqec=this.j.fV);};b.prototype.Mlb=function(a){this.j.BU&&u.xb(a,{cast_interaction_counts:this.j.BU.XRb()});};b.prototype.kBa=function(a){var b;b=this.j.Xa.Dn;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);};b.prototype.Olb=function(a){this.e$&&(a.externaldisplay=this.e$.RL);};b.prototype.Plb=function(a){this.xy&&this.xy.wc&&(a.media_capabilities_smooth=this.xy.wc.NAb,a.media_capabilities_efficient=this.xy.wc.Hub,a.media_capabilities_bitrate=this.xy.wc.R,a.media_capabilities_height=this.xy.wc.height,a.media_capabilities_width=this.xy.wc.width);};b.prototype.DA=function(a,b,f){f&&(a.adlid=f.cd,a.abitrate=f.R);b&&(a.vdlid=b.cd,a.vbitrate=b.R);};b.prototype.gBa=function(a){var b,f;if(this.j.gL){b=this.j.gL;b.OU&&(a.controllerESN=b.OU);b.u$a&&(a.controllerUiVer=b.u$a);if(b.t$a)try{f=JSON.parse(b.t$a);a.controllerGroupNames=f;}catch(ta){this.log.error("Exception parsing controller group names",ta);}}};b.prototype.ynb=function(){void 0===this.e$&&(this.e$=this.f$.wfb());};b.prototype.znb=function(a){void 0===this.xy&&void 0!==a&&(this.xy=this.Lda.k$(a));};b.prototype.tW=function(a,b){var f;f=this.j.ju(b);f&&Object.keys(f).forEach(function(b){a[b]=f[b];});};b.prototype.Gc=function(a,b,f,c,k){this.g5a(c,this.j,b,f);a=this.cN.bn(a,k||(b?"error":"info"),c,this.Xr);this.ri.Gc(a);};b.prototype.g5a=function(a,b,f,c){var k,d,m,p,n;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(a.devmod=nrdp.device.deviceModel);b.hk&&(a.pbcid=b.hk);c&T.Uh&&(t.Ra(!a||void 0===a.moff),0<=b.Yb.value&&(a.moff=u.ix(b.Yb.value)));if(c&T.TC){k=b.ec[h.Uc.Na.VIDEO].value;d=b.ec[h.Uc.Na.AUDIO].value;m=b.fg.value;p=b.af.value;k&&(a.cdnid=k.id,a.cdnname=k.name);d&&(a.acdnid=d.id,a.acdnname=d.name);m&&(a.adlid=m.stream.cd,a.abitrate=m.stream.R);p&&(a.vdlid=p.stream.cd,a.vbitrate=p.stream.R,a.vheight=p.stream.height,a.vwidth=p.stream.width);}c&T.Ug&&b.Bb&&(a.abuflbytes=b.Z6(),a.abuflmsec=b.AK(),a.vbuflbytes=b.Pia(),a.vbuflmsec=b.MP());if(c&T.GR){Object.assign(a,ia.Wza());try{n=b.zf.getBoundingClientRect();a.rendersize=n.width+"x"+n.height;a.renderpos=n.left+"x"+n.top;}catch(Ha){}}c&T.xv&&(k=q.ej.hardwareConcurrency,0<=k&&(a.numcores=k),k=this.Xr.A9)&&(d=k.Ygb(),a.droppedFrames=JSON.stringify(d),k=k.nM(this.config().Vdb),u.Gd(k,function(b,f){a["droppedFramesP"+b]=JSON.stringify(f);}));if(c&T.kQ)try{b.sj&&(a.cdninfo=JSON.stringify(b.sj.map(function(a){return{id:a.id,nm:a.name,rk:a.Pf,wt:a.location.weight,lv:a.location.level};})));}catch(Ha){}f&&c&T.U1&&(t.Ra(b.Pi),(f=b.Pi)?a=Object.assign(a,ia.Qza(this.platform.pA,f)):a.errorcode=D.K.Nk,a.errorcode===this.platform.pA+D.K.xna&&(a.lastSyncWithVideoElement=this.getTime()-b.jP));};c.vTa=b;(function(a){a[a.Uh=1]="MOFF";a[a.TC=2]="PRESENTEDSTREAMS";a[a.Ug=4]="BUFFER";a[a.GR=8]="SCREEN";a[a.xv=16]="CPU";a[a.kQ=32]="CDN";a[a.U1=64]="FATALERROR";}(T||(T={})));},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.tma="LogblobBuilderFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.jja="AppLogSinkSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Gpa="UuidProviderSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Sna="PboLogblobCommandSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.Ee||(c.Ee={});d.P7a="bitraterestriction";d.Iua="cdnsel";d.P7="chgstrm";d.debug="debug";d.tdb="dlreport";d.R9="endplay";d.dca="intrplay";d.GY="midplay";d.SFa="playbackaborted";d.nxb="renderstrmswitch";d.aga="repos";d.oga="resumeplay";d.nzb="serversel";d.$_="startplay";d.dBb="statechanged";d.transition="transition";d.C6a="asereport";d.B6a="aseexception";d.h7a="audioswitch";d.Q7a="blockedautoplay";d.config="config";d.DQb="destiny_prepare";d.EQb="destiny_start";d.BQb="destiny_events";d.AQb="destiny_cachestate";d.CQb="destiny_playback";d.wV="dlreq";d.Zu="prepare";d.yRb="ftlProbeError";d.Dyb="securestop";d.PBb="subtitleerror";d.QBb="subtitleqoe";d.ACb="timedtextrebuffer";d.BCb="timedtextswitch";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Tma="MessageQueueSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.uma="LogblobSenderSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Kna="PboBindDeviceCommandSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.aka="CryptoKeysSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.$ja="CryptoDeviceIdSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.vka="DeviceProviderSymbol";},function(d,c){function a(b,c,d){if(null!=d){if(0<d(b,c))throw a.Nva(b,c);}else if(b.Pl&&0<b.Pl(c))throw a.Nva(b,c);this.start=b;this.end=c;}Object.defineProperty(c,"__esModule",{value:!0});a.Nva=function(a,c){return new RangeError("end ["+c+"] must be >= start ["+a+"]");};c.Foa=a;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.uka="DeviceIdGeneratorSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.O2="MslReadyNotifierSymbol";},function(d,c,a){var b,h,n,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(11);h=a(19);n=a(15);p=a(80);c.bOa=function(a,b,c,d,p,g,E,D,z,G){var f,k;f=this;k={Type:b,Bitrate:d,DownloadableId:c};h.xb(f,{track:a,type:b,cd:c,R:d,uc:p,Jf:D,size:g,bu:E,yo:null,dAb:function(a,b,c,d){if(n.$b(a)||n.$b(b))f.width=a,f.height=b,n.ma(c)&&n.ma(d)&&(f.I6=c/d*a),k.Resolution=(f.width||"")+":"+(f.height||"");},xzb:function(a,b,c,k){n.$b(a)&&n.$b(b)&&n.$b(c)&&n.$b(k)&&(f.I8=a,f.XU=b,f.WU=c,f.VU=k);},mW:z,uu:G,Lg:k,toJSON:function(){return k;}});};c.wHb=function(a,c,d,h,n){if(a==b.J2||a===p.Vg.audio)return c;if(a==b.yI||a===p.Vg.video)return d;if(a==p.Vg.p0)return h;if(a==p.Vg.yia)return n;};},function(d,c,a){var h;function b(a){var d,f,k,m,t,n,g;k={};k[h.Y0]=a.localName;m={};k[h.Pj]=m;t=[];k[h.X0]=t;n=a.attributes;d=n.length;for(f=0;f<d;f++){g=n[f];m[g.localName]=g.value;}a=a.childNodes;d=a.length;m={};for(f=0;f<d;f++)switch(n=a[f],n.nodeType){case c.AFb:n=b(n);g=n[h.Y0];n[h.ILa]=k;t.push(n);k[g]?m[g][h.PH]=n:k[g]=n;m[g]=n;break;case c.BFb:case c.yFb:n=n.text||n.nodeValue,t.push(n),k[h.ns]||(k[h.ns]=n);}return k;}Object.defineProperty(c,"__esModule",{value:!0});h=a(129);c.xFb=function(a){return b(a.nodeType==c.zFb?a.documentElement:a);};c.wWb=b;c.AFb=1;c.vWb=2;c.BFb=3;c.yFb=4;c.zFb=9;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);h=a(15);c.wFb=function(a){var c,f;if(h.OA(a)){c=new DOMParser().parseFromString(a,"text/xml");f=c.getElementsByTagName("parsererror");if(f&&f[0]){try{b.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(f[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(k){}throw Error("xml parser error");}return c;}throw Error("bad xml text");};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(208);h=a(207);c.jtb=function(a,c,f,k){return new Promise(function(d,t){h.JLa(a,function(a){a.aa?b.atb(a.object,c,f,k,function(a){a.aa?d(a.entries):t(a);}):t(a);});});};},function(d,c,a){var b,h,n,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(6);n=a(4);p=a(732);f=a(731);k=function(){return function(){this.uE=new f.r3(100);this.XY=new f.r3(100);};}();d=function(){function a(a,b,f){var c,k,d;this.J=b;this.I=f;this.uT=a;c=this.Bz=this.iD=this.hD=0;k=0;d=0;this.uT.length>=this.J.LY&&(this.uT.forEach(function(a){!(a=a.get().egb)||h.U(a.avtp)||h.U(a.neuhd)||(c+=a.avtp,k+=1*a.neuhd,d++);}),this.Bz=d,this.hD=c/d,this.iD=k/d);}Object.defineProperties(a.prototype,{$ta:{get:function(){return this.hD;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aua:{get:function(){return this.iD;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ozb:{get:function(){return this.Bz;},enumerable:!0,configurable:!0}});a.prototype.RX=function(){return this.Bz>=this.J.LY&&this.hD>=this.J.baselineHighAndStableThreshold.bwThreshold&&this.iD<this.J.baselineHighAndStableThreshold.nethreshold;};return a;}();c.u2=d;d=function(a){function f(b,f,c){b=a.call(this,b,f,c)||this;b.Z3=[];b.vfb={};b.RJa=[];b.Xt=new k();b.uT.length>=b.J.LY&&(b.Isa("avtp",b.Xt.uE),b.Isa("neuhd",b.Xt.XY));return b;}b.__extends(f,a);f.prototype.RX=function(){var a;this.hjb();a=new p.zTa(this.I,this.RJa,this.L7a);a.kfa(this.Z3);a=a.v9a(this.J.oX.JUb);return this.tEb&&1===a&&this.Bz>=this.J.LY;};f.prototype.gM=function(){var a,b,f,c;a={};b=n.time.now();f=new Date(b);c=f.getHours();a.currentMonoTime=b;a.currentTime=f.getTime();a.currentHour=c;return a;};f.prototype.Vya=function(a,b,f){a="avtp"===a?this.hD:this.iD;for(var c=b.zU(),k=0,d="skew"===f?3:4,m=0;m<b.Te.length;m++)h.U(a)||h.U(c)||(k+=Math.pow(b.Te[m]-a,d));k/=b.Te.length;return!h.U(c)&&0<c?k/Math.pow(c,d)-3*("skew"===f?0:1):NaN;};f.prototype.fza=function(a,b,f){var c;c=0;"lte"===f?c=a.reduce(function(a,f){return f<=b?a+1:a;},0)/(1*a.length):"gte"===f&&(c=a.reduce(function(a,f){return f>=b?a+1:a;},0)/(1*a.length));return c;};f.prototype.Vib=function(a){var b,f;b=a.gr(25);f=a.gr(50);a=a.gr(75);return h.U(b)||h.U(f)||h.U(a)?NaN:0<f?(a-b)/f:NaN;};f.prototype.ihb=function(a,b){a="avtp"===a?this.hD:this.iD;b=b.zU();return!h.U(b)&&!h.U(a)&&(0<b||0<a)&&0<a?(a-b)/(a+b):NaN;};f.prototype.nM=function(a,b){a=a.gr(b);return h.U(a)?NaN:a;};f.prototype.normalize=function(a,b,f){return!isNaN(a)&&0<f?(a-b)/f:NaN;};f.prototype.hjb=function(){var a,b,f,c,k,d,m,t,p,n,g,l;a=this;b=this.J.oX.YCa.cTb;f=this.J.oX.YCa.aTb;c=this.J.oX.YCa.bTb;t=[];l=0;this.tEb=!Object.keys(b).some(function(u){var y;g=NaN;if(!(b.hasOwnProperty(u)&&f.hasOwnProperty(u)&&c.hasOwnProperty(u)&&!h.U(a.Xt)&&a.Xt.uE&&a.Xt.XY)||1>a.Bz||"number"!==typeof b[u]||"number"!==typeof f[u]||"number"!==typeof c[u])return!0;k=b[u];d=f[u];m=c[u];t=u.split("_",2);p=t[0];n=t[1];switch(p){case"avtp":y=a.Xt.uE;break;case"neuhd":y=a.Xt.XY;break;default:y=void 0;}if("avtp"===p||"neuhd"===p){if(y)switch(n){case"last":g=y.Te[a.Bz-1];break;case"mean":g="avtp"===p?a.hD:a.iD;break;case"niqr":g=a.Vib(y);break;case"skew":g=a.Vya(p,y,"skew");break;case"kurtosis":g=a.Vya(p,y,"kurtosis");break;case"std":g=y.zU();break;case"b":g=a.ihb(p,y);break;default:-1!==u.search("[p][1-9]?[1-9]")&&(g=a.nM(y,Number(u.split("_p",2)[1])));}}else switch(u){case"fracAbove20Mbps":y=a.Xt.uE;g=h.U(y)?NaN:a.fza(y.Te,2E4,"gte");break;case"fracBelow20p":y=a.Xt.XY;g=h.U(y)?NaN:a.fza(y.Te,.15,"lte");break;case"hour_current":g=a.gM().currentHour;break;case"session_ct":g=a.Bz;break;case"intercept":g=k,a.L7a=g;}g=a.normalize(g,d,m);if(isNaN(g))return!0;"intercept"!==u&&(a.Z3.push(g),a.RJa.push(k),a.vfb[u]=l,l+=1);});};f.prototype.Isa=function(a,b){this.uT.forEach(function(f){f=f.get().egb;!f||"avtp"!==a&&"neuhd"!==a||h.U(f[a])||b.ZT(Number(f[a]));});};return f;}(d);c.HRa=d;},function(d,c,a){var p;function b(){}function h(a,b,c){void 0===c&&(c=!1);p(a.length===b.length,"bitrates_kbps and durations_sec must be of the same length.");p(1E-8<n(a),"bitrate zero, won't be able to send anything.");this.Cw=a;this.Vwa=b;this.repeat=c;this.ik=this.Rl=0;}function n(a){return a.reduce(function(a,b){return a+b;},0);}p=a(7).assert;b.prototype=Error();h.prototype.constructor=h;h.prototype.oo=function(){var a;a=new h(this.Cw,this.Vwa,this.repeat);a.Rl=this.Rl;a.ik=this.ik;return a;};h.prototype.cba=function(){return this.Cw[this.Rl%this.Cw.length];};h.prototype.sx=function(){return this.Vwa[this.Rl%this.Cw.length];};h.prototype.Edb=function(a){p(0<a,"expect x_sec > 0.0");if(!(this.repeat||0<=this.Rl&&this.Rl<this.Cw.length))throw new b();p(this.ik<this.sx(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f;;){f=this.sx()-this.ik;f=a<f?a:f;a-=f;this.ik+=f;if(this.ik<this.sx())break;this.ik-=this.sx();this.Rl+=1;if(!this.repeat&&this.Rl>=this.Cw.length){if(0<a)throw new b();break;}}};h.prototype.AFa=function(a){this.Edb(a);};h.prototype.Fdb=function(a){p(0<a,"expect y_kb > 0.0");if(!(this.repeat||0<=this.Rl&&this.Rl<this.Cw.length))throw new b();p(this.ik<this.sx(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f,c=0;;){f=this.sx()-this.ik;f=a<f*this.cba()?a/this.cba():f;a-=this.cba()*f;c+=f;this.ik+=f;if(this.ik<this.sx())return c;this.ik-=this.sx();this.Rl+=1;if(!this.repeat&&this.Rl>=this.Cw.length){if(0<a)throw new b();return c;}}};d.P={iZa:h,jZa:b};},function(d,c,a){var n;function b(a,b,c){this.ba=a;this.Yo=b;this.hO=c;}function h(a,b){this.oda=b;void 0===b&&(this.oda=!0);this.Li=a;this.y_a();}n=a(7).assert;b.prototype.constructor=b;b.prototype.mu=function(){return 8*this.ba/1E3/this.Yo;};h.prototype.constructor=h;h.prototype.oo=function(a,b,c,d,t){void 0===b&&(b=0);void 0===c&&(c=a.DF());void 0===d&&(d=0);void 0===t&&(t=a.Li.length);for(var f=[],k,m=d;m<t;m++){d=[];for(var p=b;p<c;p++)k=a.Li[m][p],d.push(k);f.push(d);}return new h(f,a.oda);};h.prototype.y_a=function(){var a,b;a=this.Li[0].length;for(b in this.Li.slice(1))n(this.Li[b].length===a,"expect this.chunkss[chunksIndex].length === n but got "+this.Li[b].length+" and "+a);this.oda&&this.z_a();this.A_a();};h.prototype.DF=function(){return this.Li[0].length;};h.prototype.z_a=function(){for(var a=0;a<this.Li.length-1;a++)for(var b=0;b<this.DF();b++)n(this.Li[a][b].ba<=this.Li[a+1][b].ba,"Chunk size for epoch "+b+" is not monotonic");};h.prototype.A_a=function(){for(var a=0;a<this.Li.length-1;a++)for(var b=0;b<this.DF();b++)n(1E-8>Math.abs(this.Li[a][b].Yo-this.Li[a+1][b].Yo),"Chunk duration for epoch "+b+" is not consistent");};h.prototype.ykb=function(){var a;a=[];this.Li[0].forEach(function(b){a.push(b.Yo);});return a;};d.P={nOa:b,oOa:h};},function(d,c,a){var b,h,n,p,f,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(741);d=a(386);n=a(165);p=a(14);f=a(385);k=a(7);m=a(33);t=a(4);a=function(a){function c(b,f,c,k,d,p,n,u,g,y,l,q,r){c=a.call(this,k,u,c,k,k,d,m.sa.ji(p),n,l,q,r)||this;c.Ya=b;c.Wf=f;c.Ue=g;c.kf=y;c.u7=0;c.yz.dLa=!1;c.M3a=u;c.xJ=new h.dTa(k,c.kf,u,c.I,c.M,c.Wf,c.Ja,c.Ya);c.Nnb=t.time.ea();c.Fnb=void 0;c.ZA=u.Yba;c.kGa=t.time.ea();c.LIa(d);return c;}b.__extends(c,a);Object.defineProperties(c.prototype,{M6:{get:function(){return this.Ja.M6;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{FE:{get:function(){return this.Ja.FE;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Zz:{get:function(){return this.Ja.Zz;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ey:{get:function(){return this.Ja.ey;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ag:{get:function(){return this.xJ.Ag;},set:function(a){(this.xJ.Ag=a)?this.Ja.Azb():this.Ja.x9a();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Kn:{get:function(){return this.xJ.Kn;},set:function(a){this.xJ.Kn=a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{jY:{get:function(){return this.Cc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{gmb:{get:function(){return this.dra.Ka;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{dH:{get:function(){return this.b6.dH;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Pjb:{get:function(){return this.Ya.K5;},enumerable:!0,configurable:!0}});c.prototype.reset=function(){this.seeking=void 0;this.connected=this.Ag=!1;this.yz.reset();};c.prototype.Ig=function(){this.reset();a.prototype.Ig.call(this);};c.prototype.mF=function(a,b){return f.mF(this.pg.M,this.J,a,b,this.yg,this.Ya.gqb,this.eK);};c.prototype.$i=function(a){this.Ja.$i(a);this.ZA=this.J.Yba;};c.prototype.sE=function(){this.Ja.xP();};c.prototype.LIa=function(a){var b,f;b=this.Ya;f=this.M;k.assert(a.M===f);k.assert(a.O===this.bd.O);this.pg=a;this.bd.O.Jia(f,a.zc);0===f&&(this.eK=n.rta(this.M3a,a.zc[0]));b.h1a(this,a.VA);this.A8a(a.zc);this.vq.Lzb(a);this.bd.O.V7();this.Ag=!1;};c.prototype.n$=function(a){var b;b=this.bd.O.bg[this.M];if(b&&b.stream.yd&&(a=b.stream.Y.Tl(a),-1!==a))return a;};c.prototype.MB=function(a){var b,f,c;if(this.Zf&&this.Zf.S===a)b=this.Zf.index,f=a;else{c=this.bd.O;b=c.bg[this.M];if(!b||!b.stream.yd){this.oB=a;return;}f=b.stream.Y;this.Zf=this.VL(b.stream,a,void 0,!1);if(void 0===this.Zf){if(b=f.length-1,f=f.Nh(b),this.$a("setStreamingPts out of range of fragments, pts:",a,"last startPts:",f,"fragment index:",b,"fastplay:",c.ue.rf),c.ue.rf){this.oB=a;return;}}else b=this.Zf.index,f=this.Zf.S;}this.uk=b;this.DT=f;this.oB=void 0;};c.prototype.REb=function(a){var b,f;b=this.pg.xr(a);f="verifying streamId: "+a+" stream's track: "+(b?b.qa:"unknown")+" currentTrack: "+this.pg.bb;return b?!0:(this.Wf.Ui(f),this.Wf.Ui("unknown streamId: "+a),!1);};c.prototype.A8a=function(a){this.olb=a.reduce(function(a,b){return b.inRange&&b.tf&&!b.hh&&b.R>a.R?b:a;},a[0]);};c.prototype.K_=function(a){this.vg=a;this.ia=a.ia;};c.prototype.ipb=function(a,b,f,c){this.zKa(a,b,c);f&&++this.u7;this.Ya.bi();};c.prototype.Pu=function(b){b.ia&&b.S&&(this.ZA-=b.ia-b.S);a.prototype.Pu.call(this,b);};c.prototype.Vi=function(a){this.xAa(a);this.Qp(a);};c.prototype.KDb=function(a){var b;b=t.time.ea();this.ZA+=a*(b-this.kGa);this.kGa=b;};c.prototype.Kxb=function(){this.ZA=this.J.Yba;};c.prototype.DE=function(a){this.Ja.Rua();this.yg||this.xJ.DE(a,this.ia);};c.prototype.xAa=function(a){var b,f,c;f=this.jY;c=this.Ya;this.Ue.xsa()||(this.Wf.B2a(a.M,a.O.Wa,a.stream.track.jE,this.Ut),null===(b=this.yg)||void 0===b?void 0:b.Ulb(a),b=f.W.Vd()||0,c.Za.Qs()||(f=f.te(p.Na.VIDEO))&&!f.rj&&f.kX&&c.Za.Saa(f),this.DE(b),this.Ya.wAa(a),this.Ue.nS(this)&&this.Ue.bi());};c.prototype.Hea=function(a){this.Ya.bX(a);};c.prototype.Qua=function(a,b,f,c,k){var d,h;d=this.J;h=d.Mg;if(f>=d.Mg&&(d.j_&&(h=f+1E3),d.k_&&!this.connected))return!1;d.Yf&&this.Wf.Ui("Pipeline checkBufferingComplete02, buffer length: "+c);if(this.yg)return this.yg.Ol();f=this.Ag&&0===this.Ja.vZ&&0===this.Ja.ls;return!f&&c<h?!1:f?k&&0===c?(this.$a("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.Tua(a,b);};c.prototype.Mzb=function(a){this.DT=a;};return c;}(d.Zna);c.G2=a;},function(d,c,a){var b,h,n,p,f,k,m,t,u,g,E;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=a(27);h=a(387);n=a(369);p=a(21);a(7);f=a(382);k=a(33);m=a(44);t=a(6);u=a(59);g=a(4);(function(a){a[a.iya=0]="forwards";a[a.j7=1]="backwards";a[a.oea=2]="none";}(E=c.FR||(c.FR={})));a=function(a){function c(b,f,c,k,d,h,m,t,p,u,g,y,D,E,z,l,q){var G,M;G=a.call(this,f,k,p.O,b,p,u,g,E,y,m.Vd.bind(m),D,q,void 0,void 0,!0)||this;G.Ya=b;G.Wf=c;G.ub=d;G.zS=h;G.W=m;G.VD=t;G.xf=D;G.dM=z;G.kf=l;G.Ms=q;G.active=!1;G.ara=[];G.F5=0;G.children=Object.create(null);G.js=[];G.fd=void 0;void 0===E&&(E=g);M=[G.J.d7,G.J.e0];u.forEach(function(a){var c,k;c=a.M;k=d.hza.bind(d,G,c);a=new n.G2(b,G.Wf,G.I,G,a,E.Ka,M[c],f,G.zS,G.kf,G.GS[c],null===D||void 0===D?void 0:D.te(c),k);G.oj[c]=a;});return G;}b.__extends(c,a);Object.defineProperties(c.prototype,{u:{get:function(){return this.O.u;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{nl:{get:function(){return[this.jd[0].nl,this.jd[1].nl];},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{no:{get:function(){return[this.jd[0].no,this.jd[1].no];},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Wb:{get:function(){return this.$O.Ka;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{sd:{get:function(){return this.ia;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{pc:{get:function(){return this.$O.Ka+this.Nc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ge:{get:function(){return this.ia+this.Nc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{gb:{get:function(){return this.O.gb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{weight:{get:function(){return this.ja.weight;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ja:{get:function(){return this.qsa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{jd:{get:function(){return this.oj;},enumerable:!0,configurable:!0}});c.prototype.Ig=function(){this.Gp||(this.active=!1,this.xf&&(delete this.xf.children[this.ja.id],this.xf=void 0),t.Sd(this.children,function(a){a&&a.xf&&(a.xf=void 0);}),this.children=Object.create(null),this.nD=void 0,a.prototype.Ig.call(this),this.oj=[]);};c.prototype.jga=function(a,b){void 0===b&&(b=E.j7);this.jd.forEach(function(b){(t.U(a)||b.M===a)&&b.reset();});switch(b){case E.j7:this.xf&&this.xf.jga(a,b);break;case E.iya:this.children&&t.Sd(this.children,function(f){f&&f.jga(a,b);});}};c.prototype.yBa=function(a){var b,f,c;if(!this.active)return!1;b=this.xf;if(b){f=b.te(a);c=f.Ja.EFa;if(0!==c&&(b.sE(a),c=f.Ja.EFa,0!==c))return!1;}return!0;};c.prototype.Ec=function(a){return this.jd[a];};c.prototype.flb=function(){return this.jd.every(function(a){return 0===a.ey;});};c.prototype.toJSON=function(){return b.__assign(b.__assign({},a.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.pc,playerEndPts:this.ge,pipelines:this.jd,previousBranch:this.xf});};c.prototype.PIa=function(a,b){this.O.IKa(this);this.O=this.ja.O=a;this.GIa(this.O);this.O.cHa(this);this.jd.forEach(function(a){var f;f=b[a.M];f&&a.LIa(f);});};c.prototype.ojb=function(a){return this.Ms[a];};c.prototype.te=function(a){return this.jd[a];};c.prototype.Ajb=function(a){return this.jd[a].ey;};c.prototype.gha=function(a,b,f){var c,k,d,h;c=this;k=this.ja;a=this.yU(k.S,this.O,a,this.u===(a?a.u:this.ub.Ob.u));d=a.NG;h=a.hu;void 0===b&&(b=[0,1]);0===h.length||b.forEach(function(a){var b,d;b=c.jd[a];f&&(b.Zf=h[a]);d=c.WL(k.ia);b.K_(d[a]);});return d;};c.prototype.ZGa=function(a,b){var f,c,k,d;f=this.Ya;c=this.jd[0];void 0===b&&(b=c.gmb);this.xf&&(k=this.xf.Ec(0));d=this.ub.hza.bind(this.ub,this,0);f=new n.G2(f,this.Wf,this.I,this,a,b,c.dH,this.J,this.zS,this.kf,this.GS[0],k,d);this.jd[0]=f;this.gha(this.xf,[0],!0);f.MB(b);c.Ig();t.Sd(this.children,function(b){b&&b.ZGa(a);});};c.prototype.or=function(a,b){if(b=this.jd[b])return b.Ja.or(a);};c.prototype.sE=function(a){void 0===a?this.jd.forEach(function(a){a.sE();}):this.jd[a].sE();};c.prototype.fO=function(a,b,f){(a=this.jd[a])&&a.Ja.fO(b,f);};c.prototype.PW=function(a,b){(b=this.jd[b])&&b.Ja.PW(a);};c.prototype.vpb=function(a){this.ara[a]=!0;};c.prototype.f9a=function(){var a;a=this;return[0,1].every(function(b){return!a.gb(b)||a.ara[b];});};c.prototype.d9a=function(a,b,c,k){var d,h,m,t,n,u,y,D,E;d=this.J;h=this.Ya;m=this.W.Vc();t=m===p.na.ye||m===p.na.Bg;if(!t&&void 0===c)return{rj:!0};if(m===p.na.Bg&&g.time.ea()<this.F5+d.Nqb)return{rj:!1};n=this.jd[0];u=this.jd[1];y=this.ub.fr(this,0);D=this.ub.fr(this,1);E=f.VFa(m);b=!n||n.Qua(E,this.W.Vd(),b,y,k);a=!u||u.Qua(E,this.W.Vd(),a,D,k);d.Yf&&this.Wf.Ui("Branch checkBufferingComplete02, audio: "+y+" video: "+D+" audio ready: "+b+" video ready: "+a);void 0!==c&&b&&(y=c.bb,D=this.O.getTrackById(y),this.C_a(y,D.s0),h.Dt=void 0);if(b&&a)return this.VD(),m===p.na.Bg&&(this.F5=g.time.ea()),{rj:!0,Fp:u?u.Jt:n.Jt};y=this.lk(0);D=this.lk(1);if(t){h=!u||D>d.Mg;if((!n||y>d.Mg)&&h&&(n=this.dM(),n>=d.Yu))return this.$a("buffering longer than limit: "+n+" >= "+d.Yu+", audio buffer: "+y+" ms, video buffer: "+D+" ms"),this.VD(),m===p.na.Bg&&(this.F5=g.time.ea()),{rj:!0,Fp:"prebufferTimeLimit"};this.Wf.d2a();}return{rj:!1};};c.prototype.O7=function(a,b){var f,c,k,d,h,m;f=this.J;c=this.jd[0];k=this.jd[1];b?(b=this.lk(0,a),a=this.lk(1,a)):(b=this.ub.fr(this,0,a),a=this.ub.fr(this,1,a));d=f.Mg;h=!this.gb(0)||c.Ag&&0===c.Ja.Ru&&0===c.Ja.ls;c=!this.gb(1)||k.Ag&&0===k.Ja.Ru&&0===k.Ja.ls;m=h&&c;f=!h&&b<f.Mg;if(!m&&(f||!c&&a<d))return!1;if(k&&k.rj||!this.gb(1))return!0;if(m)if(this.Ya.eT&&0===b&&0===a)this.$a("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};c.prototype.KB=function(a,b){var f,c;f=this;c=this.J;this.jd.forEach(function(a){a.seeking=void 0;});a&&c.Yf&&this.jd.forEach(function(a){var c;if(a){c=f.ub.Wz(f,a.M);a="bufferingComplete: , mediaType: "+a.M+", bufferLevelBytes: "+a.no.ba+", completedMs: "+a.FE+", completedBytes: "+c+", partials: "+a.Ja.Ru+", streamingPts: "+a.Fb+", completeStreamingPts: "+a.Ut+", fragments: "+JSON.stringify(a.Ja.Y)+", toAppend: "+b(a.M);f.Wf.Ui(a);}});};c.prototype.Dya=function(){var a,b;a=!0;b={};this.jd.map(function(f){var c;c=1===f.M?"v":"a";f=f.no;b[c+"buflmsec"]=f.Ka;b[c+"buflbytes"]=f.ba;a=a&&0<f.Ka;});return{eX:a,PK:b};};c.prototype.X_=function(a,b,f){var c,k,d;c=this;k=g.time.ea();d={};t.Sd(this.children,function(a){var b,f;if(a){a.fd?(a.fd.Jdb=k-a.fd.BX,a.fd.BX=void 0,b=a.fd.weight):b=c.ub.Xza(c.ja.id,a.ja.id);f=a.Dya();d[a.ja.id]={weight:b,PK:f.PK,eX:f.eX};}});f={requestTime:k,x_:a,Hcb:f,V_:this.ja.id,fd:d};a||(a=b.Vd(),f.jJa=a-(this.ja.S+this.Nc),f.lV=0,f.startTime=k);this.js.unshift(f);return f;};c.prototype.V9a=function(a){var b,f;b=this.js[0];b.x_&&(b.jJa=this.ia-this.ja.S);f=a.Dya();b.rKa={};u(f.PK,b.rKa);b.eX=a.no.every(function(a){return 0<a.Ka;});this.js=[];return b;};c.prototype.$i=function(a){var b;b=this.ja;a-=this.Nc;if(b.S<a&&a<b.ia)this.js.shift();else if(b=this.js[0])b.$i=!0;};c.prototype.yU=function(a,b,f,c){var k,d,h,m;k=this;void 0===b&&(b=this.O);d=!1;if(f){d=!0;h=f.jd[1].vg;f=f.jd[0].vg;if(!h||!f)return{NG:[],hu:[]};h=h.ia;c||(h=void 0);}m=this.Qxa(a,h,d,b);b.Wa===this.ub.gcb&&[1,0].forEach(function(a){var b;b=k.te(a);b&&(b.Zf=m[a]);});return{NG:m.map(function(a){return a.S;}),hu:m};};c.prototype.Qxa=function(a,b,f,c){var k;k=this;void 0===c&&(c=this.O);return this.Lsa(c)?[1,0].map(function(d){if(!k.gb(d))return{};d=k.jd[d].VL(c.bg[d].stream,a,b,f);a=d.S;return d;}).reverse():[];};c.prototype.WL=function(a,b){var f;f=this;void 0===b&&(b=this.O);return this.Lsa(b)?[1,0].map(function(c){var d;if(!f.gb(c))return{};d=b.bg[c].stream;c=f.jd[c].mF(d,a);a=f.J.yg?new k.sa(c.rb,d.Ta.X).Ka:c.ia;return c;}).reverse():[];};c.prototype.IDb=function(a,b){var f;f=this.ja.ia;f&&f<b&&(a=this.WL(f));b=this.Ec(1);f=this.Ec(0);b&&b.K_(a[1]);f&&f.K_(a[0]);};c.prototype.Lsa=function(a){var b;b=a.bg;if(!b)return!1;a=b[1];a=!this.gb(1)||a&&a.stream.yd;b=b[0];b=!this.gb(0)||b&&b.stream.yd;return a&&b?!0:!1;};c.prototype.C_a=function(a,b){this.Wf.b2a(a,b);};return c;}(h.r1);c.cTa=a;m.cj(d.EventEmitter,h.r1);},function(d,c,a){var b,h,n,p,f,k,m,t,u,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);h=a(59);n=a(4);p=a(370);f=a(740);k=a(21);m=a(220);t=a(16);u=a(7);g=a(33);d=function(){function a(a,b,f,c,k,d,h,p,g,y){this.Ya=a;this.Wf=b;this.I=f;this.VD=c;this.J=h;this.zS=p;this.Vra=g;this.dM=y;this.$a=this.I.warn.bind(this.I);this.pj=this.I.trace.bind(this.I);this.qb=this.I.log.bind(this.I);this.Yg=[];this.Sm={};k.Rt?(u.assert(!k.Ak),this.o4=!0,this.X2a(k,k.Rt,d)):(this.Sk=this.B4(k.Ak||"",k,0,void 0,void 0,{},!0),this.Sk.bZ=!0,this.Sk.ia=Infinity,this.JT=[this.Sk]);this.Cc=this.pS(this.Sk,this.Sk.S,void 0,d);this.Cc.active=!0;a=t.Hx(n,this.I,"BranchQueue::");this.ij=new m.i1(a);this.ij.enqueue(this.Cc);this.G5=this.KJ=void 0;}a.T$=function(a){return"m"+a;};Object.defineProperties(a.prototype,{tu:{get:function(){return!!this.o4;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{aq:{get:function(){return this.Cc.Gp;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{li:{get:function(){return this.Sk;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{qg:{get:function(){return this.Cc.ja.id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gcb:{get:function(){return this.Cc.O.Wa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ob:{get:function(){return this.Cc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{mf:{get:function(){return this.Yg;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Nc:{get:function(){return this.Cc.Nc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{kf:{get:function(){return this.Ya.kf;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Bk:{get:function(){return this.KJ?this.KJ:this.mf[0];},enumerable:!0,configurable:!0}});a.prototype.Mp=function(){this.Yg.forEach(function(a){a.Ig();});this.Yg=[];this.ij.clear();};a.prototype.Hh=function(a){return this.Sm[a];};a.prototype.Yza=function(){return this.ij.kza();};a.prototype.Xza=function(a,b){var f;f=this.Sm[a];if(f)return(a=f.uj[b])&&a.weight;this.$a("getSegmentWeight, unknown segment:",a);};a.prototype.Kjb=function(a){var b;b=this.Sm[a];if(b)return b.S;this.$a("getSegmentStartPts, unknown segment:",a);};a.prototype.Jjb=function(a){var f;f=this.Sm[a];if(!f)this.$a("getSegmentDuration, unknown segment:",a);else if(b.ma(f.ia)&&isFinite(f.ia)&&b.ma(f.S)&&isFinite(f.S))return f.ia-f.S;};a.prototype.Vfa=function(a){var b;b=-1;this.Yg.some(function(f,c){return f===a?(b=c,!0):!1;});-1!==b?this.Yg.splice(b,1):this.$a("Unable to find branch:",a,"in branches array");};a.prototype.x8a=function(a,b){var f;f=0;this.Tqa(a).forEach(function(a){(a=a.Ec(b))&&(f+=a.M6);});return f;};a.prototype.Wz=function(a,b){var f;f=0;this.Tqa(a).forEach(function(a){(a=a.Ec(b))&&(f+=a.Zz);});return f;};a.prototype.fr=function(a,b,f){if(!a.gb(b))return 0;for(var c=a.te(b),c=f?c.Fb:c.Ut;void 0===c;){if(!a.xf)return 0;a=a.xf;c=a.te(b);c=f?c.Fb:c.Ut;}a=this.Vra.Vd();return Math.max(c-a,0);};a.prototype.hza=function(a,b){var f;if(void 0!==this.J.XA){f=n.nk()[b];a=this.x8a(a,b);return f-a;}};a.prototype.m$=function(a){return this.Yg.filter(function(b){if(b.O.Wa===a)return!0;});};a.prototype.Ffb=function(a,b){return this.Nqa(a,!1,b);};a.prototype.Efb=function(a,b){return this.Nqa(a,!0,b);};a.prototype.oxb=function(a,f,c){b.Sd(this.Yg,function(b){b.O===a&&b.PIa(f,c);});b.Sd(this.Sm,function(b){b.O===a&&(b.O=f);});};a.prototype.zHa=function(){var a;a=this;b.Sd(this.Yg,function(b){var f;f=a.Ya.Lf(b.O.Wa);b.Nc=f.Fr;});};a.prototype.NB=function(a){b.Sd(this.Yg,function(b){b.te(1).track.zc.forEach(function(b){var f;f=k.eU(b.Jf,b.R,a);h(f,b);});});};a.prototype.or=function(a,b,f,c){var k;for(;b;){k=b.or(a,f);if(k)return k;if(c)break;b=b.xf;}};a.prototype.Yva=function(a){var b,f;b=this;void 0===a&&(a=!1);f=this.Yg;a&&(f=f.filter(function(a){return a!==b.Cc;}));f.forEach(function(a){a.active=!1;b.ij.remove(a);});a||this.ij.clear();return f;};a.prototype.Gvb=function(){var a;for(;0<this.Yg.length;){a=this.Yg[0];if(!a.active)break;if(a===this.Cc)break;if(!a.flb())break;a.Ig();this.Yg.shift();}};a.prototype.fO=function(a,b,f,c,k){if(f>c){for(f-=c;a;)a.fO(b,f,k),a=a.xf;return f;}};a.prototype.aDa=function(a,b){for(var f={bL:null,GG:null,pc:null,Xi:0,Qh:0,Y:[]};a;)a.PW(f,b),a=a.xf;return f;};a.prototype.G9a=function(a){var b,f,c;b=this.Cc;if(b.TCa)f=b.TCa;else{c=this.Cc.Nc;f=this.pS(b.ja,0,b);k.Df.forEach(function(a){var c;c=f.Ec(a);c&&(c.MB(0),c.K_(b.Ec(a).vg));});f.Nc=c+a;b.TCa=f;}this.eD(f,b);};a.prototype.F5a=function(b,f,c){var k,d;u.assert(!b.tu());if(!this.o4){this.o4=!0;this.KJ=this.Bk;k=this.Sk.id||a.T$(0);this.Sk.id=k;this.Sm[k]=this.Sk;this.Sk.ia=this.Ya.vib().oza();this.Sk.Zx=!0;}d=void 0!==b.Ak?b.Ak:a.T$(b.Wa);b=this.B4(d,b,f,c,void 0,{},!0);b.Zx=!0;this.JT.forEach(function(a){a.uj={};a.uj[d]={weight:100};a.vL=d;a.nv=!1;});this.JT=[b];};a.prototype.St=function(a,b){var f,c,k,d;f=this.Bk;c=f.X_(b,this.Ya.W);k=f.ja;d=f.children[a];if(b){if(!k.uj[a])return this.Cc.$a("chooseNextSegment, invalid destination:",a,"for current segment:",k.id),!1;if(f.Ni)return f.Ni===a;f.Ni=a;d&&f.hW&&this.eD(d,f);return!0;}if(void 0!==f.Ni)return!1;if(!d)return c.lEa=!0,!1;c.lEa=!d.O7();this.Ya.P5(void 0,p.FR.oea);f.hW=void 0;f.Ni=a;this.eD(d,f);f.O9();this.Ya.dK();return!0;};a.prototype.slb=function(a,f){var c,k,d,h;c=this;h=a.ja;f&&!a.Ni&&(a.Ni=h.vL,a.X_(!0,this.Ya.W,!0));a.children=Object.create(null);b.Sd(h.uj,function(b,f){a.Ni&&f!==a.Ni||(k=c.Sm[f],d=c.l0a(k,a),a.children[f]=d);});a.Ni&&(f=a.children[a.Ni])&&this.eD(f,a);a.hW=!0;};a.prototype.QCb=function(){var a;a=0;b.Sd(this.Yg,function(b){k.Df.forEach(function(f){b.gb(f)&&(a+=b.Ec(f).Ja.co);});});return a;};a.prototype.dCb=function(a,b){var f,c,k;f=this;c=this.O0a(a,b);if(c){c!==this.Cc.ja?(this.Yva(),k=this.pS(c,a,this.Cc),k.xf=void 0,k.gha(void 0,void 0,!0),this.h_a(this.Cc),this.eD(k,this.Cc)):(this.Yva(!0).forEach(function(a){a.Ig();f.Vfa(a);f.ij.remove(a);}),this.Cc.Hia(a));c===this.Bk.ja&&(this.Bk.js.shift(),k&&(k.js=this.Bk.js,k.Ni=this.Bk.Ni));this.Wf.ZS(c,this.Cc.Nc);this.Cc.hW=void 0;}else this.$a("findSegment no segment for manifestIndex:",b);};a.prototype.$Ca=function(a,b){var f;f=a.ja;b||(b=f.vL);t.Jga(f.id);a.Ni||(a.Ni=b,a.X_(!0,this.Ya.W,!0));(b=a.children[a.Ni])&&this.eD(b,a);};a.prototype.yIa=function(a,b){if(this.Cc!==a){if(b)for(b=this.Cc;b&&b!==a;)b.active=!1,this.ij.remove(b),b=b.xf;this.Cc=a;}};a.prototype.Aq=function(a,b){var f,c,d,h,m;f=this;if(this.tu){c=this.J;d=this.Bk;h=d.ja;m=t.Jga(h.id);!d.Ni&&!h.nv&&d.ia-b<=c.PY&&(this.$a(m+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.$Ca(d));}k.Df.forEach(function(a){f.Cc.gb(a)&&f.kf[a].Aq();});};a.prototype.Prb=function(a,b){var f,c,k;if(this.tu){k=this.KJ;this.J.Ilb&&a&&this.G5&&a.S===this.G5||(a=a.Ja.bd,k&&a.ja.id===k.ja.id||(this.G5=null===(c=null===(f=null===k||void 0===k?void 0:k.Ec(1))||void 0===f?void 0:f.vg)||void 0===c?void 0:c.S,this.KJ=a,this.F_a(k),f=k&&k.V9a(a),this.Wf.x2a(a.ja,b,f)));}};a.prototype.Arb=function(a,b,f){b.bZ||(b.S=this.Iza(a,b.S,!0),f||(b.ia=this.Iza(a,b.ia,!1)),b.bZ=!0,!1);};a.prototype.z0=function(a,f){var c;t.Jga(a);c=this.Sm[a];c?b.Sd(c.uj,function(a,b){a.weight=f[b]||0;}):this.$a("updateChoiceMapEntry, unknown segment:",a);};a.prototype.Iza=function(a,b,f){a=f?a.Qxa(b):a.WL(b);if(!a.length)return b;b=a[1];return f?b.S:b.ia;};a.prototype.hra=function(a,b,f){var c;c=b?f.sd:f.ge;return(b?f.Wb:f.pc)<=a&&a<c;};a.prototype.Nqa=function(a,f,c){var m;for(var k=this.Ya,d=this.Cc;d;){if((!b.ma(c)||k.fca(c,d.O.Wa))&&this.hra(a,f,d))return d;d=d.xf;}if(f)for(var d=Object.keys(this.Cc.children),h=0;h<d.length;h++){m=this.Cc.children[d[h]];if((!b.ma(c)||k.fca(c,m.O.Wa))&&this.hra(a,f,m))return m;}};a.prototype.l0a=function(a,b){var f,c;f=this.pS(a,a.S,b);c=f.gha(b,void 0,this.J.Pfa);k.Df.forEach(function(a){var k,d,h;if(f.gb(a)){k=f.Ec(a);d=b.Ec(a);h=c[a];1===a&&(f.Nc=d.Fb+b.Nc-h,f.$O=g.sa.ji(h));k.MB(h);}});this.Wf.ZS(a,f.Nc);return f;};a.prototype.h_a=function(a){for(var b=[a.ja.id];a.xf;)a=a.xf,b.unshift(a.ja.id);this.e4(a);};a.prototype.e4=function(a){var f,c;f=this;c=a.ja;b.Sd(a.children,function(a){a&&f.e4(a);});this.ij.remove(a);a.Ig();this.Vfa(a);this.Wf.u2a(c);};a.prototype.eD=function(a,f){var c,k,d,h;c=this;k=f.ja;f.O!==a.O&&this.Ya.ora(a.O.Wa);a.active=!0;this.ij.enqueue(a);a.sE();d=n.time.ea();h={};b.Sd(f.children,function(b){var f,k;if(b){if(b.fd){f=b.Ec(0);k=b.Ec(1);b.fd.OK=[f?f.no.Ka:0,k?k.no.Ka:0];b.fd.Jdb=d-b.fd.BX;b.fd.BX=void 0;h[b.ja.id]=b.fd;}b.ja.id!==a.ja.id&&c.e4(b);}});f.children=Object.create(null);f.children[a.ja.id]=a;f.nD=void 0;this.yIa(a);this.Wf.v2a(a.ja,h);1<Object.keys(k.uj).length&&a.O7();};a.prototype.F_a=function(a){var b,f;if(a){b=n.time.ea();f=a.js[0];f&&void 0===f.lV?f.lV=b-f.requestTime:f||(this.$a("missing metrics for branch:",a.ja.id),f={V_:a.ja.id,x_:!0,lV:0,fd:{}},a.js.unshift(f));void 0===f.startTime&&(f.startTime=b);}};a.prototype.O0a=function(a,f){var c,k,h,m;u.assert(0<=a);for(var d in this.Sm){h=this.Sm[d];if(this.Ya.fca(h.O.Wa,f)){if(h.S<=a&&(Infinity===h.ia||void 0===h.ia||a<h.ia))return h;m=Math.min(Math.abs(a-h.S),Math.abs(a-h.ia));if(b.U(c)||m<c)c=m,k=h;}}return k;};a.prototype.B4=function(a,b,c,k,d,h,m,t,p){b=new f.BYa(a,b,c,k,d,h,m,t,void 0,p);return this.Sm[a]=b;};a.prototype.X2a=function(a,f,c){var k,d,h;k=this;this.Sk=void 0;this.JT=[];d=null;h=null;b.Sd(f.segments,function(f,m){var t,p,n,u,g;t=f.startTimeMs;p=f.endTimeMs;n={};b.Sd(f.next,function(a,b){n[b]={weight:a.weight||0,$Cb:a.transitionHint||f.transitionHint,RQb:"number"===typeof a.earliestSkipRequestOffset?a.earliestSkipRequestOffset:f.earliestSkipRequestOffset};});u=f.defaultNext;b.U(u)&&(u=Object.keys(n)[0]);g=b.U(u);u=k.B4(m,a,t,p,u,n,g,f.transitionDelayZones,f.transitionHint);t<=c&&(c<p||b.U(p))?k.Sk=u:t>c&&(!d||t<h)&&(d=m,h=t);g&&k.JT.push(u);});this.Sk||(this.Sk=d?this.Sm[d]:this.Sm[f.initialSegment]);};a.prototype.pS=function(a,b,f,c){var k,d,h,m;k=a.O;d=this.Ya.Lf(k.Wa);h=d.Fr;m=[];[0,1].forEach(function(a){k.gb(a)&&m.push(d.Ul(a));});a=new p.cTa(this.Ya,this.J,this.Wf,this.I,this,this.zS,this.Vra,this.VD,a,m,g.sa.ji(b),h,f,c?g.sa.ji(c):void 0,this.dM,this.Ya.kf,this.Ya.Uq);this.k_a(a);this.Yg.push(a);return a;};a.prototype.k_a=function(a){var f;function b(a){f.Ya.emit(a.type,a);}f=this;a.addListener("locationSelected",b);a.addListener("logdata",b);a.addListener("serverSwitch",b);a.addListener("streamSelected",b);a.addListener("lastSegmentPts",b);a.addListener("managerdebugevent",b);a.addListener("requestCreated",function(a){a=a.request;f.Ya.U5(a.M,a.S);});};a.prototype.Tqa=function(a){for(var b=[a];a.xf;)a=a.xf,b.push(a);return b;};return a;}();c.Cja=d;},function(d,c,a){var p,f;function b(a,b,f,c,d,h){return new n(a,b,f,c,d,h);}function h(a){return a&&0<=a.indexOf(".__metadata__");}function n(a,b,f,c,d,h){this.partition=a;this.lifespan=f;this.resourceIndex=b;this.size=c;this.creationTime=d;this.lastRefresh=h;return this.kKa();}p=a(6);f=a(113);a(112);new f.Console("MEDIACACHE","media|asejs");n.prototype.refresh=function(){this.lastRefresh=f.time.now();return this.kKa();};n.prototype.HIa=function(a){this.size=a;};n.prototype.rva=function(){var a;a=f.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};n.prototype.kKa=function(){this.lastMetadataUpdate=f.time.now();return this;};n.prototype.constructor=n;d.P={create:b,O$:function(a){var f;f=a;"string"===typeof a&&(f=JSON.parse(a));if(f&&f.partition&&!p.U(f.lifespan)&&f.resourceIndex&&f.creationTime&&f.lastRefresh)return a=b(f.partition,f.resourceIndex,f.lifespan,-1,f.creationTime,f.lastRefresh),f.lastMetadataUpdate&&(a.lastMetadataUpdate=f.lastMetadataUpdate),!p.U(f.size)&&0<=f.size&&a.HIa(f.size),a.rva(),a.convertToBinaryData=f.convertToBinaryData,a;},y8:function(a){return a+".__metadata__";},QV:function(a){return h(a)?a.slice(0,a.length-13):a;},LF:h};},function(d,c,a){var D,z,G,M,l,q,W,Y,S,A,r,U,ia;function b(){}function h(a,f){var c,k,d,h;c=D.Tb(f)?f:b;this.J=a||{};(function(a,b,f){this.$h[a].Cd[b]=f;}.bind(this));(function(a,b){return this.$h[a].Cd?this.$h[a].Cd[b]:void 0;}.bind(this));this.on=this.addEventListener=U.addEventListener;this.removeEventListener=U.removeEventListener;this.emit=this.Ha=a.VQb?U.Ha:b;k=M.sbb(a);d=this.J.dailyDiskCacheWriteLimit;if(k){this.Mq=k;h=u(a.Ida||ia,M.Mhb());this.vt=function(a){return D.U(h)||null===h||void 0===this.$h[a]?!1:!D.U(h[a]);};h?(this.$h={},f=z.Promise.all(Object.keys(h).map(function(b){return new z.Promise(function(f,c){var m;m=h[b];m.gLa=a.gLa;new l(b,k,m,function(a,b){a?c(a):f(b);},d);});})).then(function(a){a.map(function(a){var b;b=a.iw;this.$h[b]=a;h[b].sgb=h[b].Hp-a.ut;this.$h[b].on(l.Ld.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.Ha("mediacache",a);}.bind(this));this.$h[b].on(l.Ld.Qpa,function(a){a=a||{};a.partition=b;a.type="save";this.Ha("mediacache",a);}.bind(this));this.$h[b].on(l.Ld.ERROR,function(a){a=a||{};a.partition=b;a.type=l.Ld.ERROR;this.Ha("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this)).then(function(a){m(k,z.storage.QC,Object.keys(h));return a;}.bind(this)).then(function(a){Object.keys(a.$h).map(function(b){a.$h[b].kaa().map(function(f){a["delete"](b,f);});});a.Co=!0;c(null,a);}.bind(this))["catch"](function(a){G.error("Failed to initialize media cache ",a);this.GA=A.fka;c(this.GA,this);}.bind(this)),r.Rr(f)):(this.GA=A.DSa,c(this.GA,this));}else this.GA=A.fka,c(this.GA,this);}function n(a,b,f,c,k,d){var h;h=d?"mediacache-error":"mediacache";b={partition:f,type:b,resource:c,time:z.time.now()};d&&(b.error=d);k&&(D.ma(k.duration)&&(b.duration=k.duration),D.ma(k.Lt)&&(b.bytesRead=k.Lt));try{a.Ha(h,b);}catch(Aa){G.warn("caught exception while emitting basic event",Aa);}}function p(a,b,f,c,k){var d;d=k?"mediacache-error":"mediacache";b={partition:f,type:b,resources:c,time:z.time.now()};k&&(b.error=k);try{a.Ha(d,b);}catch(R){G.warn("caught exception while emitting basic event",R);}}function f(a){return!D.U(a)&&!D.Oa(a)&&D.ma(a.lifespan);}function k(a){return!q.LF(a)&&!Y.Gmb(a);}function m(a,f,c){a.query(f,"",function(k,d){k||Object.keys(d).filter(function(a){return 0>c.indexOf(a.slice(0,a.indexOf(".")));}).map(function(c){a.remove(f,c,b);});});}function t(a,b,f){var k,d;function c(b){a["delete"](k,function(c){c?f(c):(delete a.Cd[d],c=Object.keys(b.resourceIndex),c=z.Promise.all(c.map(function(b){return new z.Promise(function(f,c){a["delete"](b,function(a){a?c(a):f(b);});});})).then(function(){f();},function(a){f(a);}),r.Rr(c));});}q.LF(b)?(k=b,d=q.QV(b)):(k=q.y8(b),d=b);(b=a.Cd[d])?c(b):a.read(k,function(a,b){a?f(a):c(b);});}function u(a,b){var f,c,k;f={};c=a.partitions.reduce(function(a,b){return a+b.capacity;},0);k=b/c;a.partitions.map(function(a){var b;b=a.key;f[b]={};f[b].Hp=Math.floor(k*a.capacity);f[b].icb=a.dailyWriteFactor||1;f[b].kUb=a.owner;f[b].afb=a.evictionPolicy;});return f;}function g(a,b,f){if(f)return Y.qdb(a,b).reduce(function(a,b){Object.keys(b).map(function(f){a[f]=b[f];});return a;},{});f={};f[a]=b;return f;}function E(a,b,f,c,k,d,h,m,t,p,n){return function(u,g){u?D.isArray(u)?(g=u.map(function(a){return a.error;}),g.some(function(a){return a.code===A.uC.code;})&&!g.some(function(a){return a.code===A.VR.code;})?n(p,u,function(){t.save(b,f,c,k,d,h);}):(p["delete"](m),delete p.Cd[f],d({error:u[0].error,Su:u[0].Su,type:u[0].type,mta:u}))):d({error:u,Su:b,type:"save"}):(u=g.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.WX;},0),p.Cd[f].HIa(u),u={sgb:g.yj,bQb:g.OE,Ki:0,items:g},0<g.Ki&&(u.Ki=g.Ki),0<g.duration&&(u.duration=g.duration),d(null,u));};}D=a(6);z=a(113);G=new z.Console("MEDIACACHE","media|asejs");M=a(754);l=a(753);q=a(372);W=a(112);Y=a(746);S=a(745);A=a(211);r=a(210);U=a(111).EventEmitter;ia={sUb:[]};h.prototype.xB=function(a,f,c){var d;d=D.Tb(c)?c:b;this.vt(a)?this.$h[a].query(f,function(a,b){a?(G.error("Failed to query resources",a),d([])):d(b.filter(k));}):d([]);};h.prototype.read=function(a,f,c){var k,d,h,m;k=D.Tb(c)?c:b;if(this.vt(a)){d=this.$h[a];h=d.Cd[f];if(!q.LF(f)&&this.J.bqb){m=function(b){d.WZ(Object.keys(b),function(b,c,d){b?k(A.WC.In("Failed to read "+f,b)):(n(this,"read",a,f,d),k(null,Y.kmb(c)));}.bind(this),b);}.bind(this);h?m(h.resourceIndex):this.cwb(a,f,function(a,b){a?k(A.WC.In("Failed to read "+f,a)):m(b.resourceIndex);});}else d.read(f,function(b,c,d){b?k(A.WC.In("Failed to read "+f,b)):(h&&h.convertToBinaryData&&(c=S.v$a(c)),n(this,"read",a,f,d),k(null,c));}.bind(this));}else k(A.Ev);};h.prototype.WZ=function(a,f,c){var k,d;k=D.Tb(c)?c:b;if(this.vt(a)){d={};f=z.Promise.all(f.map(function(b){return new z.Promise(function(f,c){this.read(a,b,function(a,k){a?(k={},k[b]=a,c(k)):(d[b]=k,f());});}.bind(this));}.bind(this))).then(function(){k(null,d);},function(a){k(a);});r.Rr(f);}else k(A.Ev);};h.prototype.THa=function(a,f,c){var k;k=D.Tb(c)?c:b;this.vt(a)?"[object Object]"!==Object.prototype.toString.call(f)?k(A.UR.In("items must be a map of keys to objects")):(c=new z.Promise(function(b){var c,k;c=this.$h[a].kaa();k=Object.keys(f);(c=c.filter(function(a){return-1===k.indexOf(a);}))&&0<c.length?this.twa(a,c,function(){b();}):b();}.bind(this)).then(function(){return z.Promise.all(Object.keys(f).map(function(b){return new z.Promise(function(c,k){this.save(a,b,f[b].Cn,f[b].zd,function(a,f){a?(G.error("Received an error saving",b,a),k(a)):c(f);},!0);}.bind(this));}.bind(this)));}.bind(this)).then(function(b){var c,d,h;try{c=Number.MAX_VALUE;d=Number.MAX_VALUE;h=b.reduce(function(a,b){b.yj&&b.yj<c&&(c=b.yj);b.OE&&b.OE<d&&(d=b.OE);c<Number.MAX_VALUE&&(a.freeSize=c);d<Number.MAX_VALUE&&(a.dailyBytesRemaining=d);D.ma(b.Ki)&&(a.bytesWritten+=b.Ki);D.ma(b.duration)&&(a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(f),time:z.time.now(),bytesWritten:0,duration:0});this.Ha("mediacache",h);k(null,h);}catch(ja){k(err);}}.bind(this),function(b){D.isArray(b.mta)?b.mta.forEach(function(b){this.Ha("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.yO});}.bind(this)):this.Ha("mediacache-error",{partition:a,type:"saveMultiple",error:b});k(b);}.bind(this)),r.Rr(c)):(D.Tb(c)?c:b)(A.Ev);};h.prototype.save=function(a,c,k,d,h,m){var t,u,y,M,l,N,P,Y,r;t=D.Tb(h)?h:b;if(this.vt(a)){u=this.$h[a];y=q.y8(c);h=u.kaa();h=h.filter(function(a){return a!==c;});if(f(d)){M=g(c,k,this.J.bqb);l=u.Cd[c]||{};N=l.resourceIndex;N&&Object.keys(N).map(function(a){D.U(M[a])&&u["delete"](a);});d.convertToBinaryData&&(k=S.w$a(M),M=g(c,k,!1));N=z.time.now();P={};P.partition=a;P.resourceIndex=Object.keys(M).reduce(function(a,b){a[b]=W.aba(M[b]);return a;},{});P.creationTime=l.creationTime||N;P.lastRefresh=N;P.lifespan=d.lifespan;P.lastMetadataUpdate=N;P.size=l.size;P.convertToBinaryData=d.convertToBinaryData;Y=function(a,b,f){a.Lcb(function(k,d){k&&G.error("Evicting","Failed to delete some orphaned records",k);d.Rfa?f():(k=a.$hb())?this["delete"](a.getName(),k,function(k){k?(m||(D.isArray(b)?b.forEach(function(b){p(this,"save",a.getName,b.yO,b.error);}.bind(this)):n(this,"save",a.getName(),c,void 0,b)),t(b)):f();}.bind(this)):t(A.uC);}.bind(this));}.bind(this);r=function(){var a,b,f;a=this.$h;b=0;f=z.time.now();if(!D.U(a))for(var c in a)b+=a[c].jhb(f);return b;}.bind(this);this.twa(a,h,function(){u.replace(y,P,function(b,f){f?(u.Cd[c]=q.O$(P),u.pxb(M,E(M,a,c,k,d,t,m,y,this,u,Y),m,r)):b.code===A.uC.code?Y(u,b,function(){this.save(a,c,k,d,t,m);}.bind(this)):t(b);}.bind(this),m,r);}.bind(this));}else t(A.ITa);}else t(A.Ev);};h.prototype["delete"]=function(a,f,c){var k;k=D.Tb(c)?c:b;this.vt(a)?t(this.$h[a],f,function(b){n(this,"delete",a,f,void 0,b);k(b);}.bind(this)):k(A.Ev);};h.prototype.twa=function(a,f,c){var k,d;k=D.Tb(c)?c:b;if(this.vt(a)){d=this.$h[a];c=z.Promise.all(f.map(function(a){return new z.Promise(function(b){t(d,a,function(f){b({aa:D.U(f),error:f,Cn:a});}.bind(this));}.bind(this));}.bind(this))).then(function(b){var m,t;for(var f=[],c=[],d=[],h=0;h<b.length;h++){m=b[h];m.aa?f.push(m.Cn):m.error&&c.push(m);}0<f.length&&p(this,"delete",a,f);0<c.length&&(d=c.map(function(a){return a.Cn;}),b=r.uAa(c),t=b[0],b.forEach(function(b){G.error("Failed to delete resources ",b.error,b.yO);p(this,"delete",a,b.yO,b.error);}.bind(this)));b={};b.WUb=f;0<d.length&&(b.XUb=d);t?k(t,b):k(void 0,b);}.bind(this),function(b){p(this,"delete",a,f,b);k(b);}.bind(this));r.Rr(c);}else k(A.Ev);};h.prototype.clear=function(a,f){var c;c=D.Tb(f)?f:b;this.vt(a)?this.$h[a].clear(function(a){c(a.filter(k));}):c(A.Ev);};h.prototype.cwb=function(a,f,c){var k,d;k=D.Tb(c)?c:b;if(this.vt(a)){c=q.y8(f);d=this.$h[a];d.read(c,function(a,b){var c;if(a)k(A.JTa);else{c=q.O$(b)||{};d.Lza(Object.keys(c.kga),function(a){c.size=a;(a=d.Cd[f])&&(c.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=c.lastMetadataUpdate?d.Cd[f]=c:a.lastMetadataUpdate&&(a.lastMetadataUpdate>c.lastMetadataUpdate||D.U(c.lastMetadataUpdate))&&(c=a));k(null,c);});}});}else k(A.Ev);};h.prototype.C0=function(a){z.EM(a);};h.prototype.constructor=h;d.P=h;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.yva=function(a,b){var c;if(!Array.isArray(a.xva))return a;c=a.oo?a.oo():Object.create(a);a.xva.forEach(function(a){if(void 0!==a.Kqb&&b.duration>=a.Kqb&&a.config)for(var d in a.config)c[d]=a.config[d];});return c;};},function(d){d.P="4.1.987";},function(d,c,a){var p,f,k,m;function b(a,b,f){this.Qo=b;this.Zm=f;this.jv=this.GM=this.wZ=this.DFa=this.CFa=this.tG=this.zc=this.rub=this.Zm=this.uh=this.Fb=this.S=this.KP=this.LP=this.Y=this.tBa=this.Aw=void 0;}function h(a,b,f){this.ia=b;this.TBa=f;this.Jta=this.wLa=this.t6=this.LP=this.Hr=this.bl=void 0;}function n(a,f,c,d,h,m){var t;t=new b(0,f,a.Zm);a.forEach(function(a){var b,c;b=a.buffer;c=b.Y;a.M===p.Na.AUDIO?t.Aw=c.length?c[0].R:void 0:a.M===p.Na.VIDEO&&(t.tBa=c.length?c[0].R:void 0,t.Y=c,t.LP=b.Ql-b.vd,t.KP=b.Qh,t.S=b.vd,t.Fb=b.Fb,t.uh=a.ny,t.Zm=a.Zm,t.rub=f-a.Zm,t.zc=a.zc.filter(function(a){return k(a,!0);}),t.tG=c.filter(function(a){return t.S<=a.MG;}).length);});this.sh=t;this.Sl=void 0;this.bwa=d;this.q7=h;this.Lfa=this.YZ=this.gFa=this.yq=this.mE=this.Lxa=this.Hk=this.zc=this.Sl=void 0;this.Z5a=m;}p=a(14);c=a(30);f=c.assert;k=c.MA;m=a(21).na;b.prototype.constructor=b;h.prototype.constructor=h;n.prototype.constructor=n;n.prototype.kF=function(a,b){var f,c,k,d,t,n,u,g,l,q,S,A,r,U,ia,ma,O,oa,ta,wa,R;f=this.sh;c=[];d=a[p.Na.VIDEO];t=a[p.Na.AUDIO];if(void 0===d||void 0===t)return!1;n=d.buffer;u=t.buffer;g=f.zc.filter(function(a){return a.JW();});if(void 0===n||void 0===u||void 0===g||0===g.length)return!1;k=new h(0,d.vd,b===m.Bg);l=0;q=0;S=0;A=0;U=f.S;a=a[p.Na.VIDEO].vd;ia=f.Y;r=f.tG;for(var T=0;T<r;T++){ma=ia[T];O=ma.offset;oa=ma.offset+ma.ba-1;wa=ma.mr;ta=ma.av;R=ta+wa;ma&&ta<=a&&R>U&&(wa=ma.mr,ta=Math.min(wa,Math.min(a,R)-Math.max(ta,U)+1),A+=ta,l+=ta/wa*(oa-O+1),q+=ma.R*ta,S+=ma.uc*ta);}f.CFa=l;f.DFa=A;f.wZ=0<A?q/A:0;f.Htb=0<A?S/A:0;f.GM||(f.GM=0,g.some(function(a,b){if(a.R===f.tBa)return f.GM=b,!0;}));g.forEach(function(a){var b,d;a=a.JW();b=[];f.jv||(f.jv=a.Tl(f.S,void 0,!0));k.bl||(k.bl=a.Tl(k.ia,void 0,!0),k.Hr=a.length-1);f.uh!==f.jv+f.tG&&(f.uh=f.jv+f.tG);r=Math.min(k.Hr,k.bl+1);for(var h=f.jv;h<=r;h++)d=a.get(h),b[h]=d;c.push(b);});b===m.Bg&&(k.LP=n.Ql-n.vd,k.t6=u.Ql-u.vd,k.wLa=d.QGa,k.Jta=t.QGa);this.Sl=k;this.zc=g;this.Hk=c;return this.Lxa=!0;};n.prototype.ju=function(){var a,b,c,k,d,h,m,p,n,g,l,q,A,r,U;if(this.vn)return this.vn;b=this.yq;a=this.sh;k=this.Sl;d=this.zc;h=this.gFa;q=this.Z5a;f(void 0!==b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace&&0===b.trace.length||void 0===b.timestamp)k.TBa?(n=!1,m=!0):k.bl-a.jv+1<=a.tG?m=n=!0:(n=!0,m=!1),p=!0;if(h){g=h.Do;l=h.OV;for(var S=0;S<q.length;S++)c=q[S],(b=h[c])&&b.Qx&&(m=!0);}a={bst:a.Zm,pst:a.Qo,s:a.jv,e:k.bl,prebuf:a.tG,brsi:a.uh,pbdlbytes:a.CFa,pbdur:a.DFa,pbtwbr:a.wZ,pbvmaf:a.Htb};p&&(a.nt=p);m&&(a.nd=m);g&&(a.invalid=g);l&&(a.exception=l);this.Lfa&&(a.rr=this.Lfa);this.YZ&&(a.ra=this.YZ);if(!m&&!g&&!l&&this.bwa){a.bitrate=d.map(function(a){return a.R;});b=this.yq;c=b.trace;A=[];r=0;c.forEach(function(a){a=Number(a).toFixed(0);A.push(a-r);r=a;});a.tput={ts:b.timestamp,trace:A,bkms:b.Ml};}if(m||p||g||l)a.feasible=n;else for(a.sols={},a.elapsed=h.EV,S=0;S<q.length;S++){c=q[S];b=h[c];m={};if(b&&b.$r&&(m.algelapsed=b.Y5a,m.maxHeapTotal=b.fq,m.f=b&&b.ni||!1,m.dltwbr=b.udb,m.dlvmaf=b.Hwa,m.dlvdur=b.r9,m.dlvbytes=b.q9,m.dlabytes=b.p9,this.bwa)){r=0;U=[];b.$r.filter(function(a){return a;}).map(function(a){return a.ld;}).forEach(function(a){U.push(a-r);r=a;});m.strmsel=U;}a.sols[c]=m;}return this.vn=a;};d.P=n;},function(d,c,a){var b,h,n,p,f,k,m,t,u,g,E,D;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);h=a(4);n=a(30).MA;p=a(16).Hx;f=a(376);k=a(391);m=a(237);t=a(21);u=a(7);d=function(){function a(a,b,f,c,k,d,h,m,t,p,n){var u;u=this;this.I=a;this.jf=b;this.J=f;this.gb=c;this.W=k;this.gH=d;this.sb=h;this.Ua=m;this.Ue=t;this.NK=p;this.pw=n;this.CT=[];this.a6=[];this.wra=[];this.fqa=void 0;[0,1].forEach(function(a){u.gb(a)&&(u.CT[a]=new D(u.I,a),u.a6[a]=new g(a),u.wra[a]=new E(a));});this.Zv=void 0;}Object.defineProperties(a.prototype,{De:{get:function(){return this.CT;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{kv:{get:function(){return this.a6;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Kr:{get:function(){return this.wra;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Dt:{get:function(){return this.fqa;},set:function(a){this.fqa=a;},enumerable:!0,configurable:!0}});a.prototype.tY=function(a){var f,c,k,d,m;f=this.J;c=a.M;k=h.nk()[c];f=f.qEb?0===c?f.BK:f.NP:1===c?f.BK:f.NP;d=this.W.Vc();m=this.W.Vd();c=this.NK.aDa(a.Ja.bd,c);k={Hp:k,S:c.pc,vd:m,Fb:c.GG||m,Ql:c.bL||m,Qh:c.Qh,Xi:c.Xi,K$:c.Y.length,Y:[]};f={state:d,yx:this.W.yx(),ny:a.uk,buffer:k,w9:f,SCa:!!this.gH.eN,IL:!!this.gH.Vr,co:this.sb&&this.sb.co,Nfa:a.Pjb};void 0===f.ny&&(f.ny=a.n$(k.Fb));k.Y=c.Y;b.ma(k.S)?a.seeking&&k.vd!=k.S&&(k.vd=k.S):(k.S=0,k.Fb=0);this.jf.j9a(f);this.jf.D5a(f);return f;};a.prototype.i9a=function(a,b,f){var m,t;a=this.CT[a];for(var c=a.Jo,k="manifest",d=0,h=b.length-1;0<=h;h--){m=b[h];t=m.R;if(n(m)){d=Math.max(d,t);break;}else!m.inRange&&m.VE&&Array.isArray(m.VE)?k=m.VE.join("|"):this.J.h0&&!m.fx?k="bc":m.tf?m.hh&&(k="hf"):k="av";}if(void 0===c||d!==c){a.Jo=d;if(this.pw.uo)try{this.Zv&&this.Nkb();}catch(U){this.Ua.hm("Hindsight: Error when handling maxbitrate chagned: "+U);}this.Ua.Krb(c,d,k,f);}};a.prototype.Mjb=function(a){return this.Saa(a).Tg;};a.prototype.Saa=function(a){var f,c,d,h,m,p,n,g,y,E,D,z,G;f=this.J;c=a.M;d=1==c;m=this.CT[c];p=this.a6[c];if(!m.pm)return{Tg:void 0};n=this.tY(a);g=a.vq;y=g.yu;E=a.jY;D=E.O;z=a.track.zc;G=y?y.Tg:m.A$;if(y&&(h=y.R,y&&!y.track.equals(g.track))){G=k.Sxa(z,h);void 0===G&&a.$a("Unable to find stream for bitrate "+h);h=z[G];if(y.R!==h.R||1===c)n.state=t.na.Dg;y=h;}if(!D.bm.DP(D.pa,z))return a.Md("location selector did not find any urls"),{Tg:void 0};if(!d&&(h=f.wH,!(h&&0<h.length)&&G&&z[G]&&y&&y.location===z[G].location))return{Tg:G};n=a.rH.C_(n,z,void 0,this.jf.rjb(c),m.pm.config.Uu,D.Fh);if(!n)return a.Md("stream selector did not find a stream"),{Tg:void 0};this.gH.Vr&&this.gH.Vr.I5a(a.M,n,z);d&&this.i9a(c,z,a.Fb);c=n.ld;z=z[c];y=z.R;c!=G&&(d&&f.aF&&this.Ue.Xpa(a,y),d||this.jf.hH(y));b.ma(m.A$)||(m.A$=c);a.rj||(n.rj?(u.assert(void 0!==n.qU),a.KB(n.qU),p.Fp=n.qU):(a.Gx=n.Gx,a.FB=n.FB,a.Kh=n.Kh));this.Qs();d&&D.$ga(E,n.Tw);return{qa:z.qa,Tg:c};};a.prototype.Qs=function(){var a,b,f,c,k,d;c=this.De[0];k=this.kv[1];d=this.kv[0];c=this.NK.Ob.d9a((b=null===(a=this.De[1])||void 0===a?void 0:a.lq,null!==b&&void 0!==b?b:0),(f=null===c||void 0===c?void 0:c.lq,null!==f&&void 0!==f?f:0),this.Dt,this.gH.sB);c.Fp&&(this.gH.Ik&&k?k.Fp=c.Fp:d&&(d.Fp=c.Fp));return c.rj;};a.prototype.l$=function(a,b){var f,c,k,d;f=this;if(this.Zv){c=this.Zv;k=this.W.Vd();d=[];b&&(k=b.ia);m.Df.forEach(function(b){var c,h;c=f.NK.Ob.Ec(b);if(c){h=f.tY(c);h.M=b;h.vd=k;a===t.na.Bg&&(h.QGa=c.Ja.P6(k));d[b]=h;}});c.Lxa||c.kF(d,a)||this.hga();return c;}};a.prototype.Nkb=function(){var a,b,c,k;a=this;b=this.Zv;c=this.J;k=[];b&&(this.l$(void 0),b&&!b.mE&&this.jf.Cfa.X9(b));m.Df.forEach(function(b){var f,c;f=a.NK.Ob.Ec(b);if(f){c=a.tY(f);c.Zm=h.time.ea();c.zc=f.track.zc;c.M=b;k[b]=c;}});b=h.nk();b={U4a:b[0],JH:b[1],kN:c.YA,Gu:c.Gu};this.Zv=b=new f(k,h.time.ea(),void 0,this.pw.bF,b,c.yM);};a.prototype.hga=function(){this.Zv=void 0;};a.prototype.ODb=function(a){var b,c,k,d,p;b=this;c=a.oldValue;k=a.newValue;d=this.Zv;a=this.J;k===t.na.Jc&&c!==t.na.Jc?(d&&this.I.warn("override an existing play segment!"),p=[],m.Df.forEach(function(a){var f,c,k;f=b.NK.Ob.Ec(a);if(f){c=b.tY(f);k=b.De[a];k.Bha?(c.Zm=k.Bha,k.Bha=void 0):c.Zm=k.Zm;c.zc=f.track.zc;c.M=a;p[a]=c;}}),k=h.nk(),k={U4a:k[0],JH:k[1],kN:a.YA,Gu:a.Gu},this.Zv=d=new f(p,h.time.ea(),c,this.pw.bF,k,a.yM)):k!==t.na.Jc&&c===t.na.Jc&&d&&(this.l$(k),d&&!d.mE&&this.jf.Cfa.X9(d),this.hga());};return a;}();c.QYa=d;g=function(){function a(a){this.M=a;this.QK=this.wo=this.FA=this.Fp=this.Bo=void 0;}a.prototype.VDb=function(a,b,f,c){this.Bo=a?a:this.Bo;this.Fp=this.Fp;this.FA=b?b:this.FA;this.wo=f?f:this.wo;this.cmb=c?c:this.cmb;};return a;}();c.wNb=g;E=function(){return function(a){this.M=a;this.dY=this.Mca=this.dY=this.Jca=this.RA=void 0;};}();c.Uma=E;D=function(){return function(a,b){this.M=b;this.I=p(h,a,"["+b+"]");this.Md=this.I.error.bind(this.I);this.$a=this.I.warn.bind(this.I);this.pj=this.I.trace.bind(this.I);this.qb=this.I.log.bind(this.I);this.uD=this.I.debug.bind(this.I);this.A$=this.Zm=this.Jl=this.pm=void 0;this.aO=this.lq=0;this.NH=!1;this.Jo=void 0;};}();c.uNb=D;},function(d,c){function a(a,c){return a<c?-1:a>c?1:0;}Object.defineProperty(c,"__esModule",{value:!0});d=function(){function b(b,c){this.data=null!==b&&void 0!==b?b:[];this.compare=null!==c&&void 0!==c?c:a;if(!this.empty)for(b=(this.length>>1)-1;0<=b;b--)this.Cqa(b);}Object.defineProperties(b.prototype,{length:{get:function(){return this.data.length;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{empty:{get:function(){return 0===this.data.length;},enumerable:!0,configurable:!0}});b.prototype.push=function(a){this.data.push(a);this.Hsa(this.length-1);};b.prototype.pop=function(){var a,b;if(!this.empty){a=this.data[0];b=this.data.pop();this.empty||(this.data[0]=b,this.Cqa(0));return a;}};b.prototype.AG=function(){return this.data[0];};b.prototype.hvb=function(a){a=this.data.indexOf(a);-1!==a&&this.Hsa(a);};b.prototype.Hsa=function(a){for(var b=this.data,c=this.compare,f=b[a],k,d;0<a;){k=a-1>>1;d=b[k];if(0<=c(f,d))break;b[a]=d;a=k;}b[a]=f;};b.prototype.Cqa=function(a){for(var b=this.data,c=this.compare,f=this.length>>1,k=b[a],d,h,u;a<f;){d=(a<<1)+1;u=b[d];h=d+1;h<this.length&&0>c(b[h],u)&&(d=h,u=b[h]);if(0<=c(u,k))break;b[a]=u;a=d;}b[a]=k;};return b;}();c.Wma=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(213);d=function(){var r1z;r1z=2;while(r1z!==3){switch(r1z){case 2:a.prototype.Fwa=function(a,c){var f1z,f;f1z=2;while(f1z!==9){switch(f1z){case 3:return a;break;case 2:f=null===this.c7?a*(100-this.config.m0)/100:b.Dta(a,this.c7);c=null!==c&&void 0!==c?c:this.aG;this.config.Qca&&c?(a=b.Dta(a,c),a=Math.max(a,f)):a=f;f1z=3;break;}}};a.prototype.hH=function(a){var L1z;L1z=2;while(L1z!==1){switch(L1z){case 2:this.c7=a;L1z=1;break;case 4:this.c7=a;L1z=3;break;L1z=1;break;}}};r1z=5;break;case 5:a.prototype.Fia=function(a){var V1z;V1z=2;while(V1z!==1){switch(V1z){case 4:this.config=a;V1z=9;break;V1z=1;break;case 2:this.config=a;V1z=1;break;}}};return a;break;}}function a(a,b){var A1z,m1z;A1z=2;while(A1z!==3){m1z="1SIY";m1z+="bZrNJCp";m1z+="9";switch(A1z){case 2:this.config=a;this.aG=b;this.c7=null;m1z;A1z=3;break;}}}}();c.yja=d;},function(d,c,a){var n,p,f,k,m,t;function b(a,b,f,c){k(!n.U(c),"Must have at least one selected stream");return new t(c);}function h(a,b,f,c){k(!n.U(c),"Must have at least one selected stream");return new t(c);}n=a(6);c=a(30);p=c.console;f=c.debug;k=c.assert;m=c.MA;t=c.Jm;d.P={STARTING:function(a,b,c){var d,h,n,u;function k(c,k){var d,h,m,t;d=c.id;h=c.R;m=c.Fa||0;t=!!m;f&&p.log("Checking feasibility of ["+k+"] "+d+" ("+h+" Kbps)");if(!c.tf)return f&&p.log("  Not available"),!1;if(!c.inRange)return f&&p.log("  Not in range"),!1;if(c.hh)return f&&p.log("  Failed"),!1;if(h>a.iN)return f&&p.log("  Above maxInitAudioBitrate ("+a.iN+" Kbps)"),!1;if(!(h*a.MY/8<b.buffer.Hp))return f&&p.log("  audio buffer too small to handle this stream"),!1;if(t){f&&p.log("  Have throughput history = "+t+" : available throughput = "+m+" Kbps");if(h<m/n)return f&&p.log(" +FEASIBLE: bitrate less than available throughput"),!0;f&&p.log(" bitrate requires more than available throughput");return!1;}c=a.xN;b.QX&&(c=Math.max(c,a.wN));if(h<=c)return f&&p.log("  Bitrate is less than max of minInitAudioBitrate ("+a.xN+" Kbps) "+(b.QX?" and also minHCInitAudioBitrate ("+a.wN+" Kbps)":"")),f&&p.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;f&&p.log("  No throughput history");return!1;}d=new t();n=a.ROb||1;for(u=c.length-1;0<=u;--u){h=c[u];if(k(h,u)){d.ld=u;break;}m(h)&&(d.ld=u);}return d;},BUFFERING:b,REBUFFERING:b,PLAYING:h,PAUSED:h};},function(d,c,a){var b,h,n,p,f,k,m,t,u;Object.defineProperty(c,"__esModule",{value:!0});b=a(78);h=a(6);n=a(76);p=a(14);d=a(30);f=a(792);k=a(21);m=d.assert;t=d.Jm;c.A_=u;(function(){var d1z,s74;function a(a,b,f,c){var x1z,k,d;x1z=2;while(x1z!==9){switch(x1z){case 3:return a;break;case 1:a=this.waa(a,f,b);x1z=5;break;case 5:x1z=(d=null===(k=a.ql)||void 0===k?void 0:k.R,null!==d&&void 0!==d?d:-Infinity>c.R)?4:3;break;case 2:x1z=1;break;case 4:a.ql=c;x1z=3;break;}}}d1z=2;while(d1z!==5){s74="1S";s74+="I";s74+="YbZr";s74+="NJCp9";switch(d1z){case 2:c.A_=u=function(c,d,u,g,y,l){var l33=T1zz;var X1z,z,G,M,N,q,r,T,ma,O,oa,ta,wa,R,Aa,ja,Fa,B,la,Da,Qa,Oa,H,L,x74,c74,R74,p74;function E(a,b,f){var H1z;H1z=2;while(H1z!==1){switch(H1z){case 2:return a.Y?a.Y.v8(b,f):0;break;case 4:return a.Y?a.Y.v8(b,f):8;break;H1z=1;break;}}}function D(a,b,k,h,t,p){var w1z,n,u,g,y,E,D,z,M,P,W,A,Y,S,O,X,C74,f74,D74,O74,l74,P74,r74,v74;w1z=2;while(w1z!==63){C74="Second str";C74+="eam has";C74+=" f";C74+="ai";C74+="led";f74="Seco";f74+="nd st";f74+="ream ";f74+="not in range";D74="First stream";D74+=" not in ";D74+="range";O74="First stream un";O74+="a";O74+="vailable";l74="First strea";l74+="m undefi";l74+="n";l74+="e";l74+="d";P74="Second stream un";P74+="ava";P74+="il";P74+="abl";P74+="e";r74="Se";r74+="c";r74+="on";r74+="d";r74+=" stream undefined";v74="Fi";v74+="rs";v74+="t stream has failed";switch(w1z){case 40:c.kda&&(P=Math.min(P,S));w1z=39;break;case 7:w1z=!p||!u?6:10;break;case 39:w1z=!Y||Y<a.R*c.sba||!O?38:53;break;case 53:X||(b=a);S=[];w1z=51;break;case 33:m(!a.hh,v74);m(b,r74);m(b.tf,P74);w1z=30;break;case 3:w1z=R&&!R.UV&&R.Fa>=n&&R.R<=a.R?9:8;break;case 49:w1z=0<A?48:47;break;case 37:b&&b.result&&(G.$Sb=b.fN);R={UV:b&&b.result,Fa:n,R:a.R};w1z=54;break;case 13:return!0;break;case 46:w1z=0<A?45:65;break;case 65:b=0<h||0<t?f(k.concat(S),D+h+t,p,g,u,z,y,D,D+h,W,M,Y,P,c.yN,c.h0):Y>a.zY?{result:!0,fN:0,fx:!0}:{result:!1,fN:0,fx:!0};w1z=37;break;case 50:A=h;w1z=49;break;case 16:l33.I74(0);y=l33.W74(N,r);E=ma;D=Fa.length;z=oa;M=la;P=wa;W=d.w9;w1z=22;break;case 51:w1z=A?50:64;break;case 64:h=Math.max(0,Math.min(h,a.Y.length-E)),t=Math.max(0,Math.min(t,b.Y.length-E-h)),0<h&&S.push(a.Y.iH.subarray(E,E+h)),0<t&&S.push(b.Y.iH.subarray(E+h,E+h+t));w1z=65;break;case 22:A=!!d.SCa;m(a,l74);m(a.tf,O74);m(a.inRange,D74);w1z=33;break;case 38:b=!1;w1z=37;break;case 10:p=!c.p8||a===k||a.qc===k.qc&&l?0:(k=a.kb)&&k.ph&&k.ph.Ca?k.ph.Ca+c.m8*(k.ph.vh?Math.sqrt(k.ph.vh):0):0;k=Fa;l33.I74(2);p=l33.W74(q,p,N);u=ta;l33.I74(0);g=l33.d74(N,T);w1z=16;break;case 11:return!0;break;case 48:O=Math.min(A,a.Y.length-E),S.push(a.Y.iH.subarray(E,E+O)),A-=O,E+=O,E>=a.Y.length&&(E=0);w1z=49;break;case 30:m(b.inRange,f74);m(!b.hh,C74);Y=a.Fa;l33.I74(0);S=l33.W74(p,g);O=a.Y&&a.Y.length;X=b.Y&&b.Y.length;m(k.length===D);w1z=40;break;case 2:n=a.Fa||0;u=a.Y&&a.Y.length;g=p?c.j$:u?c.TV:c.qfb;w1z=3;break;case 54:return b&&b.result;break;case 6:w1z=u&&!c.h0?14:12;break;case 12:w1z=n>=a.R*g?11:10;break;case 8:p||u||(a.Mha=!0);w1z=7;break;case 9:return!1;break;case 47:A=t;w1z=46;break;case 45:O=Math.min(A,b.Y.length-E),S.push(b.Y.iH.subarray(E,E+O)),A-=O,E+=O,E>=b.Y.length&&(E=0);w1z=46;break;case 14:w1z=n>=Math.max(a.zY,a.R*g)&&!a.YIa?13:10;break;}}}X1z=2;while(X1z!==40){x74="n";x74+="umb";x74+="er";c74="pl";c74+="ayer missing streamingI";c74+="ndex";R74="Must have at least on";R74+="e select";R74+="ed stream";p74="n";p74+="u";p74+="m";p74+="ber";switch(X1z){case 41:y=Da;X1z=30;break;case 8:M=y=u[g];N=d.buffer.S;q=d.buffer.vd;r=d.buffer.Fb;T=d.buffer.Ql;X1z=12;break;case 12:ma=d.ny;l33.h74(0);O=l33.W74(q,T);oa=d.state===k.na.Jc||d.state===k.na.yh?d.buffer.Xi:0;ta=c.BY;X1z=19;break;case 42:X1z=(y=b.$q(u.slice(0,g).reverse(),function(a,b){var J1z;J1z=2;while(J1z!==1){switch(J1z){case 2:return D(a,u[Math.max(g-b-2,0)],M,H,L,!0);break;}}}))&&y.Tg<Da.Tg||!y?41:30;break;case 31:y=b.$q(u.slice(g+1,c.yha&&O>=c.Tia?u.length:g+2),function(a,b){var G1z;G1z=2;while(G1z!==1){switch(G1z){case 2:return D(a,u[g+b],M,Qa,Oa,!1);break;case 4:return D(a,u[g-b],M,Qa,Oa,~9);break;G1z=1;break;}}});X1z=30;break;case 34:X1z=g+1<u.length&&O>c.Cu&&(void 0===this.aY||this.Lca&&this.Lca>this.aY||r-this.aY>c.oY&&O>c.jda)?33:30;break;case 3:m(p74===typeof d.w9);G=new t();X1z=8;break;case 2:m(!h.U(g),R74);m(h.ma(d.ny),c74);m(x74===typeof d.buffer.Hp);X1z=3;break;case 25:B=d.buffer.Hp;0<c.Ir&&(B=Math.min(B,c.Ir));la=B-Fa.ba;B=u[Math.max(l33.d74(1,g,l33.h74(0)),0)];Da=(z=this.waa(d,u,c).ql,null!==z&&void 0!==z?z:u[0]);X1z=35;break;case 27:y.Y&&y.Y.length||(y.Mha=!0);Fa=n.yi.Rbb(d.buffer.Y);X1z=25;break;case 33:Qa=E(y,ma,c.vba);l33.h74(1);Oa=E(y,l33.d74(Qa,ma),c.hda);X1z=31;break;case 15:return a.call(this,d,c,u,y);break;case 30:G.ql=y||M;return G;break;case 16:X1z=(this.KS||p.PQ.Dg)===p.PQ.GZa||!y.Fa?15:27;break;case 19:wa=c.Du?c.Du:1E3;Aa=E(y,ma,c.tba);l33.h74(1);ja=E(y,l33.d74(Aa,ma),c.fda);X1z=16;break;case 28:X1z=y.Y&&y.Y.length?44:30;break;case 44:H=E(y,ma,c.uba);l33.h74(1);L=E(y,l33.W74(H,ma),c.gda);X1z=42;break;case 35:X1z=D(y,B,y,Aa,ja,!1)?34:28;break;}}};s74;d1z=5;break;}}}());},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(21);c.VFa=function(a){switch(a){case b.na.ye:a=b.ff.ye;break;case b.na.Bg:a=b.ff.Bg;break;case b.na.Dg:case b.na.Hm:case b.na.YC:a=b.ff.Hm;break;default:a=b.ff.IR;}return a;};},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(0).__exportStar(a(796),c);},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(165);a(33);d=function(){function a(a,b){this.yg=a;this.console=b;this.vz=Infinity;this.qJ=this.nT=0;}a.uxb=function(){this.i6=!0;};a.HPb=function(){this.i6=!1;};a.prototype.Ifb=function(a,c,f,k,d){var h;if(this.yg){h=a.Y;if(h){if(1===f)f=h.Tl(this.yg*a.Ta.Ka,void 0,!0),h=a.ki(f),h.Jj({start:0,end:this.yg-f*h.B9.au(a.Ta)}),this.vz=this.yg;else{f=b.Cza(k,d)+k.$6a*a.Ta.Ka;f=c+f;c=Math.ceil(f/a.Ta.Ka);f=h.Tl(f,void 0,!0);for(d=k=0;d<f;++d)h=a.ki(d),k+=h.B9.au(a.Ta);k=c-k;h=a.ki(f);h.Jj({end:k});this.vz=c;}h.hDa();return h;}}};a.prototype.Ulb=function(a){this.qJ+=a.wHa;this.console.warn("StallAtFrameCount, adding frames: "+a.wHa,"total frames: "+this.qJ,"needed frames: "+this.vz);};a.prototype.clb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: "+this.nT,"needed: "+this.vz);return this.nT>=this.vz;};a.prototype.blb=function(){return this.qJ>=this.vz;};a.prototype.Vlb=function(a,b){this.nT+=this.xA(a,b);};a.prototype.Oeb=function(a,b,f){a.wHa=this.xA(b,f);};a.prototype.xA=function(a,b){return a.B9.au(b.Ta);};a.prototype.Ol=function(){if(!this.blb())return!1;if(a.i6)return this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1;this.console.warn("StallAtFrameCount bufferingComplete = true:",this.qJ+" >= "+this.vz);return!0;};a.i6=!1;return a;}();c.bpa=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(7);h=a(171);c.Paa=function(a,b){return!(1!==a||!b.Zw)||0===a;};c.gib=function(a,b,f,c){a=a.Tl(b,void 0,!0);f&&(a=Math.floor(a/c)*c);return a;};c.VL=function(a,d,f,k,m,t){var p,n,g,D;h.ul.Vl(a);b.assert(f.Y,"findFirstFragment called without stream fragments");p=f.Y;b.assert(k>=p.Nh(0));n=c.Paa(a,d);0===a&&!t&&d.Q5a&&d.fo&&!d.Oz&&f.si&&(k=Math.max(f.Y.Nh(0),k+f.si.Ka));g=c.gib(p,k,f.O.HV(a),d.gZ);D=f.ki(g);if(D.ia<k)return D;n&&((n=D.YV(k))?(0<n.um&&D.Jj({start:n.um}),0!==a||d.Qda||(0>n.Oc&&D.Jj({start:n.um}),n.Oc<(d.fo&&!d.Oz&&f.si?Math.floor(f.si.Ka):0)&&D.z9())):k>=D.ia&&g<p.length-1&&(D=f.ki(g+1)));1===a&&m&&D.ia===m&&g<p.length-1&&(D=f.ki(g+1));0===a&&!D.Sa&&(d.JM||d.wBa||d.beb)&&t&&D.Jj({});D.QO(k);return D;};c.mF=function(a,b,f,k,d,t,u){var m;h.ul.Vl(a);m=f.Y;void 0===k&&(k=m.ia);if(d&&(d=d.Ifb(f,k,a,b,t)))return d;d=m.Ta;u=k?k+c.Keb(a,d,b.Wr,u):m.Q9(m.length-1);m=m.Tl(u,void 0,!0);d=f.ki(m);0===m||d.S!==k||1!==a&&b.Wr||(--m,d=f.ki(m));c.Paa(a,b)?(u=1===a?u:k,u<d.ia&&((t=d.Ofb(u))&&0!==t.um?d.Jj({end:t.um}):0===a&&(t||u<d.S)&&0!==m?d=f.ki(m-1):1===a&&t&&0!==m&&(d=f.ki(m-1))),0!==a||d.Sa||!b.JM&&!b.vBa||d.Jj()):0===a&&!b.Wr&&k-d.S<d.duration/2&&0!==m&&(d=f.ki(m-1));d.QO(k);return d;};c.Keb=function(a,b,f,c){var k;return 1===a||c?0:f?(k=null===b||void 0===b?void 0:b.Ka,null!==k&&void 0!==k?k:0):b?-b.Ka:0;};},function(d,c,a){var b,h,n,p,f,k,m,t,u,g,E,D,z;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(807);d=a(87);n=a(385);p=a(21);f=a(806);k=a(384);m=a(797);t=a(383);u=a(16);g=a(7);E=a(33);D=a(6);z=a(4);a=function(a){function c(b,c,d,p,n,g,y,E,D,G,l){var M;b=a.call(this,b)||this;b.J=c;b.Cc=n;b.pg=g;b.dra=y;b.Q0a=D;b.S0a=l;b.connected=!1;b.Kq=!1;b.Os=!1;b.I=u.Hx(z,d,"["+b.M+"]");b.Md=b.I.error.bind(b.I);b.$a=b.I.warn.bind(b.I);b.pj=b.I.trace.bind(b.I);b.zT=y;b.oOb=y;b.DT=y.Ka;b.RDa=1===b.M?c.OY:c.JY;b.jG=(1===b.M?c.mG:c.hG)||c.jG;G&&(M=G.b6);b.vq=new m.TYa(g,G?G.vq:void 0);b.b6=new t.M3(E,c,M);b.dt=new h.NWa(b,p,b.J,b.I,b.M);b.yz=new f.TXa(b,c,b.I,b.dt,b.Cc,b.M);b.eK=!1;c.yg&&(b.yg=new k.bpa(c.yg,b.I));return b;}b.__extends(c,a);Object.defineProperties(c.prototype,{M:{get:function(){return this.pg.M;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{track:{get:function(){return this.pg;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{bd:{get:function(){return this.Cc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ma:{get:function(){return this.Cc.ja.id;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ja:{get:function(){return this.yz;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{zc:{get:function(){return this.pg.zc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{no:{get:function(){return this.yz.no;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{nl:{get:function(){return this.yz.nl;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Fb:{get:function(){return this.DT;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ut:{get:function(){return this.Ja.Ut;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{j8:{get:function(){return this.Ja.j8;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Gca:{get:function(){return!!this.vg&&this.uk>this.vg.index;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{sK:{get:function(){return this.Gca&&0===this.yz.Ru;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{rH:{get:function(){return this.b6;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{yu:{get:function(){return this.vq.yu;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{rj:{get:function(){return this.Os;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Jt:{get:function(){return this.iqa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{kX:{get:function(){return this.Ja.kX;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{TB:{get:function(){return this.Ja.TB;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Hha:{get:function(){return this.Ja.Hha;},enumerable:!0,configurable:!0}});c.prototype.Ig=function(){this.Kq=!0;this.yz.Ig();};c.prototype.toJSON=function(){return{started:this.TB,startOfSequence:this.Hha,segmentId:this.Ma,requestedBufferLevel:this.nl,viewableId:this.Cc.O.pa,hasFragments:this.kX};};c.prototype.KB=function(a){this.Os=!0;this.iqa=a;};c.prototype.FU=function(){this.Os=!1;this.iqa=void 0;};c.prototype.gp=function(){return this.Ja.gp();};c.prototype.fha=function(a,b){this.DT=a;this.uk=b;};c.prototype.pM=function(){return this.Ja.pM();};c.prototype.O9=function(){this.Ja.close();};Object.defineProperties(c.prototype,{weight:{get:function(){return this.Cc.weight;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{g0:{get:function(){return void 0===this.pg.zm||void 0===this.uk?this.dra.add(E.sa.ji(this.Cc.Nc)):this.pg.zm.get(this.uk).Ow.add(E.sa.ji(this.Cc.Nc));},enumerable:!0,configurable:!0}});c.prototype.oDb=function(a,b){var f;if(this.Kq)return g.assert(!1,"pipeline.tryIssueRequest on disabled pipeline"),!1;f=a.JW();return f?this.zKa(a,f,b):a.dC();};c.prototype.Mxa=function(a,b){g.assert(this.track.yd,"Pipeline cannot be normalized until its track has recieved headers.");return this.Zf=this.VL(this.track.CX,a,void 0,b);};c.prototype.Nxa=function(a){g.assert(this.track.yd,"Pipeline cannot be normalized until its track has recieved headers.");return this.vg=this.mF(this.track.CX,a);};c.prototype.VL=function(a,b,f,c){return n.VL(this.pg.M,this.J,a,b,f,c);};c.prototype.sBa=function(){g.assert(this.Zf);g.assert(this.vg);g.assert(void 0===this.uk);this.fha(this.Zf.Wb,this.Zf.index);};c.prototype.mF=function(a,b){return n.mF(this.pg.M,this.J,a,b,this.yg);};c.prototype.lha=function(){return n.Paa(this.pg.M,this.J);};c.prototype.fnb=function(){return this.FBa()?!1:this.Mmb()?!0:this.track.frb;};c.prototype.Mmb=function(){return void 0!==this.Zf&&void 0!==this.vg;};c.prototype.FBa=function(){return this.vg?this.uk>this.vg.index:!1;};c.prototype.Ol=function(a,b,f,c,k){var d,h;d=this.J;h=d.Mg;if(f>=d.Mg&&(d.j_&&(h=f+1E3),d.k_&&!this.connected))return!1;if(this.yg)return(a=this.yg.Ol())&&this.KB("stall"),a;f=this.FBa()&&0===this.Ja.vZ&&0===this.Ja.ls;if(!f&&c<h)return!1;if(f){if(k&&0===c)return this.$a("playlist mode with nothing buffered, waiting for next manifest"),!1;this.KB("complete");return!0;}return 0===this.M?(this.KB("audio"),!0):this.Tua(a,b);};c.prototype.Tua=function(a,b){if(this.rj||0===this.M)return!0;if(void 0===this.yu)return!1;b=this.R0a(b,a);a=this.rH.Ol(b,a,this.yu,this.bd.O.Fh);a.complete?this.KB(a.reason):(this.FU(),this.Gx=a.Gx,this.Kh=a.Kh);return this.rj;};c.prototype.Vi=function(a){this.dt.Nrb(a);this.Qp(a);};c.prototype.Pu=function(a){a.ac||this.dt.GEa(a.stream,a.S,a.Wb);this.dt.Jrb(this.Ma,a.stream,a.ac);this.uA(a);};c.prototype.QN=function(a){a.J6||(this.connected=!0);this.tA(a);};c.prototype.hib=function(a){var b,f;b=this.Ja.Y;if(0===b.length)return{Y:[],Qea:0,Xi:0};f=b.lF(a.Ka);0>f&&(f=void 0===b.S||a.Ka<=b.S?0:b.length);return{Y:b.Nyb(f),Qea:Math.max(0,b.Y9a-f),Xi:b.Xi};};c.prototype.zKa=function(a,b,f){var c,k,d,h,m,t,p;h=this.Cc;m=h.O;t=this.M;p=this.uk;if(p>=b.length)return this.$a("makeRequest nextFragmentIndex:",p,"past fragments length:",b.length),!1;if(!this.Zf||!this.vg)return this.$a("makeRequest delayed, first or last fragment not set","first:",!!this.Zf,"last:",!!this.vg),!1;b=this.Q0a.gza(a,p,this,m.tu());if(!b)return this.$a("makeRequest unable to get valid fragment"),!1;null===(c=this.yg)||void 0===c?void 0:c.Vlb(b,a);b.xu&&1===t&&this.dt.t5(h.ja,b.ia);b.FIa(new E.sa(h.Nc,1E3));c=null===(k=this.S0a)||void 0===k?void 0:k.call(this);this.J.XA&&void 0!==c&&c<b.ba&&(b.XA=this.J.XA);z.time.ea();f=this.Ja.Qbb(h,b,f,a);if(!f.Or()){this.$a("MediaRequest.open error: "+f.eh+" native: "+f.Ti);if(7===f.readyState)return!1;this.$a("makeRequest caught:",f.eh);m.Rg("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return!1;}null===(d=this.yg)||void 0===d?void 0:d.Oeb(f,b,a);this.dt.Orb(f);this.fha(f.sd,b.EN);return!0;};c.prototype.R0a=function(a,b){var f,c,k,d,h;d=z.nk()[this.M];h=this.Ja.PW();a={Hp:d,S:(f=h.pc,null!==f&&void 0!==f?f:0),vd:a,Fb:(c=h.GG||a,null!==c&&void 0!==c?c:0),Ql:(k=h.bL||a,null!==k&&void 0!==k?k:0),Qh:h.Qh,Xi:h.Xi,K$:h.Y.length,Y:h.Y};D.ma(a.S)?b===p.ff.ye&&a.vd!==a.S&&(a.vd=a.S):(a.S=0,a.Fb=0);return a;};return c;}(d.rs);c.Zna=a;},function(d,c,a){var h,n,p,f,k,m,t,u,g,E,D;function b(a,b){return(1===a.M?0:1)-(1===b.M?0:1);}Object.defineProperty(c,"__esModule",{value:!0});h=a(0);n=a(27);p=a(386);d=a(87);f=a(166);k=a(783);m=a(21);t=a(782);u=a(16);g=a(7);E=a(33);D=a(4);c.dMb={oWb:b};a=function(a){function c(b,f,c,d,h,y,z,G,l,q,r,ma,O,oa,ta){var M,N,P;N=a.call(this,c)||this;N.J=b;N.O=c;N.Hqa=d;N.qsa=h;N.r4a=y;N.$O=z;N.Nc=l;N.Vqa=q;N.Ms=ma;N.eS=O;N.E5=!1;N.M4a=1;N.Kq=!1;N.fK=!1;N.n4=0;N.gw=0;N.WEa=function(a){a=a.newValue;if(a===m.ff.ye||a===m.ff.Bg)N.fK=!1,N.n4=D.time.ea(),N.gw=0,N.oj.forEach(function(a){return a.FU();}),N.Ol();};g.assert(c.pa===N.ja.pa||isNaN(c.pa)&&isNaN(N.ja.pa));N.O.cHa(N);N.I=u.Hx(D,f,h.id&&h.id.length?"{"+h.id+"}":"");N.Md=N.I.error.bind(N.I);N.$a=N.I.warn.bind(N.I);N.pj=N.I.trace.bind(N.I);N.AD=null!==G&&void 0!==G?G:z;N.GS=[];y.forEach(function(a){var b;a=a.M;b=N.O.HV(a)?new k.LRa(N.J.gZ):new k.eVa();N.GS[a]=b;});N.oj=[];if(!ta){P=[N.J.d7,N.J.e0];y.forEach(function(a){var b;b=a.M;N.oj[b]=new p.Zna(N,N.J,N.I,N.Hqa,N,a,N.AD,P[b],N.GS[b],null===r||void 0===r?void 0:r.te(b),oa);});N.XJ=new t.MWa({O:N.O,jd:N.oj,Ow:N.AD,eL:void 0!==N.ia?E.sa.ji(N.ia):void 0,splice:void 0!==r});N.XJ.Xb(N.K2a.bind(N));}N.Hia(N.AD.Ka);N.events=new n.EventEmitter();null===(M=N.eS)||void 0===M?void 0:M.addListener(N.WEa);return N;}h.__extends(c,a);Object.defineProperties(c.prototype,{Gp:{get:function(){return this.Kq;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{kq:{get:function(){return this.E5;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{weight:{get:function(){return this.M4a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ia:{get:function(){return this.ja.ia;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ja:{get:function(){return this.qsa;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Gca:{get:function(){return this.oj.every(function(a){return a.Gca;});},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{sK:{get:function(){return this.oj.every(function(a){return a.sK;});},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{jq:{get:function(){var a;a=this.Mza()[0];if(a.Zf)return E.sa.ji(a.Zf.Wb+this.Nc);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{xBb:{get:function(){return this.AD;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{gU:{get:function(){return E.sa.ji(this.$O.Ka+this.Nc);},enumerable:!0,configurable:!0}});c.prototype.pM=function(a){return(a=this.te(a))?a.pM():f.rC.Xhb();};c.prototype.O9=function(){var a;a=this;this.r4a.forEach(function(b){a.te(b.M).O9();});};c.prototype.Ig=function(){var a,b;this.Kq||(this.Kq=!0,this.O.IKa(this),null===(a=this.XJ)||void 0===a?void 0:a.xc(),this.XJ=void 0,this.oj.forEach(function(a){a.Ig();}),null===(b=this.eS)||void 0===b?void 0:b.removeListener(this.WEa),this.events.removeAllListeners());};c.prototype.yBa=function(){return!0;};c.prototype.te=function(a){return this.oj[a];};c.prototype.Mza=function(){var a;void 0===a&&(a=b);return this.oj.filter(function(a){return a;}).sort(a);};c.prototype.Oib=function(){return this.oj.filter(function(a){return a.fnb();});};c.prototype.lk=function(a,b){var f;a=this.oj[a];if(!a)return 0;if(b)return a.nl;b=a.Ut;if(void 0===b)return 0;a=(f=this.Vqa(),null!==f&&void 0!==f?f:this.AD.Ka);return b-a;};c.prototype.Hia=function(a){this.$lb=a+this.J.iCb;this.emb=D.time.ea();};c.prototype.gp=function(a){return this.te(a).gp();};c.prototype.Vi=function(a){this.Kq||(a.J6||g.assert(!a.ac),!1===this.fK&&this.Ol(),this.sK&&this.S2a());this.Qp(a);};c.prototype.K2a=function(){var a,b;null===(a=this.XJ)||void 0===a?void 0:a.xc();this.XJ=void 0;a=(b=this.oj[1],null!==b&&void 0!==b?b:this.oj[0]);this.Hqa.emit("segmentNormalized",{type:"segmentNormalized",segmentId:this.ja.id,normalizedStart:a.Zf.jq,normalizedEnd:a.vg.afa,contentEnd:a.track.zm.NL});};c.prototype.$S=function(a){a={type:"branchBufferingComplete",audioBufferLevel:this.lk(0),videoBufferLevel:this.lk(1),reason:a};this.events.emit(a.type,a);this.fK=!0;};c.prototype.v5=function(a,b,f){var c;c=this.J;f?b=(D.time.ea()-this.n4)/c.Yu:b||(b=a/c.Mg);a=Math.min(Math.max(Math.round(100*b),this.gw),99);a!=this.gw&&(b={type:"branchBufferingProgress",percentage:a},this.events.emit(b.type,b),this.gw=a);};c.prototype.S2a=function(){var a;a={type:"branchStreamingComplete"};this.events.emit(a.type,a);};c.prototype.Ol=function(){var a,b,f,c,k,d,h,t,p,n,u;if(!0!==this.fK){d=this.J;h=this.oj[0];t=this.oj[1];p=this.lk(0);n=this.lk(1);u=(a=this.Vqa(),null!==a&&void 0!==a?a:this.AD.Ka);a=!h||h.Ol((f=null===(b=this.eS)||void 0===b?void 0:b.value,null!==f&&void 0!==f?f:m.ff.Hm),u,0,p);b=!t||t.Ol((k=null===(c=this.eS)||void 0===c?void 0:c.value,null!==k&&void 0!==k?k:m.ff.Hm),u,0,n);a&&b?(d=t?t.Jt:h.Jt,g.assert(void 0!==d),this.$S(d)):(c=D.time.ea()-this.n4,c>=d.Yu&&(k=!t||n>d.Mg,(!h||p>d.Mg)&&k&&(this.$a("buffering longer than limit: "+c+" >= "+d.Yu+", audio buffer: "+p+" ms, video buffer: "+n+" ms"),this.$S("prebufferTimeLimit"))));!1===this.fK&&(h=t?t:h,t=this.lk(t?1:0),this.v5(t,h.Kh,h.Gx));}};c.prototype.toJSON=function(){return{segment:this.ja.id,branchOffset:this.Nc,viewableId:this.O.pa,contentStartPts:this.$O,contentEndPts:this.ia};};return c;}(d.rs);c.r1=a;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(4).Promise;d=function(){function a(a,b,f){this.z6a=a;this.s5=b;this.n0a=f;this.Kqa={};this.reset();}a.prototype.Ol=function(){var a,b;a=this;b=this.z6a.filter(function(b){return!b.EBa(a.n0a());});0===b.length&&this.a5?this.e2a():b.forEach(function(b){if(!a.Kqa[b.M])b.once("requestAppended",function(){a.Kqa[b.M]=!1;a.Ol();});});};a.prototype.reset=function(){var a;a=this;this.a5=!1;new b(function(b){a.e2a=b;}).then(function(){return a.s5();});};a.prototype.$F=function(){this.a5||(this.a5=!0,this.Ol());};return a;}();c.x3=d;},function(d,c,a){var b,h,n,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=a(27);h=a(84);n=a(4);p=a(16);f=a(810);k=a(166);a=function(a){function f(){var b;b=null!==a&&a.apply(this,arguments)||this;b.lsa=0;b.N5=0;b.rJ=0;b.y4=0;return b;}b.__extends(f,a);f.prototype.dga=function(b){var f,c;a.prototype.dga.call(this,b);this.lsa++;this.N5++;this.zsa=n.time.ea();this.wD||(this.wD={sd:b.sd,Wb:b.Wb,index:b.index},this.ES||(this.ES=this.wD));f=this.RS;c=!1;f&&100>Math.abs(f.sd-b.Wb)&&(this.rJ+=b.sd-f.sd,this.y4++,c=!0);c||(this.rJ=b.mr,this.y4=1);this.RS=b;};f.prototype.stop=function(){a.prototype.stop.call(this);this.rJ=this.N5=0;this.wD=void 0;};f.prototype.lza=function(){var a,b,f,c;a=this.SD;b=a.YU;if(b){c=b.te(this.Ie);c&&c.Ja&&(f=c.Ja.Iaa());return{RM:f,currentBranch:{sId:b.ja&&b.ja.id,cancelled:b.Gp},currentReceivedCount:a&&a.fcb,totalReceivedCount:this.lsa,currentState:a&&a.hcb||"Uninitialized",lastRequestPushed:this.RS&&{contentEndPts:this.RS.sd,fragmentIndex:this.RS.index},tslp:this.zsa&&n.time.ea()-this.zsa,cpts:this.rJ,crq:this.y4,rslp:this.N5,firstRequestSSPushed:this.wD&&{contentStartPts:this.wD.Wb,fragmentIndex:this.wD.index},firstRequestPushed:this.ES&&{contentStartPts:this.ES.Wb,fragmentIndex:this.ES.index}};}};return f;}(function(a){function c(b,c,k,d){var h;h=a.call(this)||this;h.kz=b;h.Ie=c;h.I=d;h.I=p.Hx(n,h.I,"AsePlayerBuffer:");h.SD=new f.uNa(h.I,k,c);h.resume();h.kz.on("requestAppended",function(){return h.emit("requestAppended");});return h;}b.__extends(c,a);Object.defineProperties(c.prototype,{M:{get:function(){return this.Ie;},enumerable:!0,configurable:!0}});c.prototype.lza=function(){};c.prototype.resume=function(){h.yb&&this.I.trace("resume");this.Eha();};c.prototype.EBa=function(a){var b,f;return(null===(b=this.W6a)||void 0===b?void 0:b.qCa)>a&&((null===(f=this.kz.nCa)||void 0===f?void 0:f.ge)>a||this.kz.BLa);};Object.defineProperties(c.prototype,{W6a:{get:function(){return this.lJ;},enumerable:!0,configurable:!0}});c.prototype.reset=function(a){void 0===a&&(a=!1);h.yb&&this.I.trace("reset");this.stop();this.kz.reset(a);a||(this.lJ=void 0);};c.prototype.Sxb=function(){var a;a=!0;void 0===a&&(a=!1);this.reset(a);this.Eha(!0);};c.prototype.stop=function(){this.SD.sJa();};c.prototype.Eha=function(a){if(!this.SD.$mb||a)this.SD.Txb(),k.rC.rnb(this.SD,this.XX.bind(this));};c.prototype.XX=function(a){a.done||this.dga(a.value);};c.prototype.dga=function(a){this.kz.endOfStream?h.yb&&this.I.error("Buffer manager has declared EOS, ignoring request",a.toString()):(this.lJ?(this.lJ.Inb=a.sd,this.lJ.qCa=a.ge):this.lJ={oRb:a.Wb,pRb:a.pc,Inb:a.sd,qCa:a.ge},this.kz.U6a(a),this.emit("requestAppended"));};return c;}(d.EventEmitter));c.qja=a;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(4).Promise;d=function(){function a(){var a;a=this;this.jT=[];this.gxb=function(b){b=a.jT.indexOf(b);0<=b&&a.jT.splice(b,1);};}Object.defineProperties(a.prototype,{yw:{get:function(){return 0!==this.jT.length;},enumerable:!0,configurable:!0}});a.prototype.add=function(){var a;a=new h(this.gxb);this.jT.push(a);return a;};a.prototype.DLa=function(a){var f;f=this.add();try{return b.resolve(a()).then(function(a){f.release();return a;},function(a){f.release();return b.reject(a);});}catch(k){return f.release(),b.reject(k);}};return a;}();c.Hoa=d;h=function(){function a(a){this.s3a=a;}a.prototype.release=function(){this.s3a(this);};return a;}();},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Sxa=function(a,b){for(var c,d,p=a.length-1;0<=p;--p)if(d=a[p],d.tf&&!d.hh&&d.inRange){if(d.R<=b)return p;c=p;}return c;};},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(4);a(7);d=function(a){function c(b,f,c,d,h){b=a.call(this,b,f,c,d,h)||this;b.Rqa=!1;b.Qqa=!1;b.zJ=!1;b.va=[];b.Tq=!1;b.Lra=!1;b.HJ=!1;b.Rc=!1;b.og=!1;b.kc=!1;b.dD=!1;b.FD=void 0;b.Nq=void 0;return b;}b.__extends(c,a);Object.defineProperties(c.prototype,{jca:{get:function(){return this.Tq&&!this.zJ;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{active:{get:function(){return this.Rc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{WGa:{get:function(){return this.og;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return this.kc||(this.kc=this.va.every(function(a){return a.complete;}));},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Wq:{get:function(){return this.dD;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Qh:{get:function(){return this.va.reduce(function(a,b){return a+b.Qh;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ae:{get:function(){return this.va.reduce(function(a,b){return a+b.Ae;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Wc:{get:function(){return this.FD||0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{url:{get:function(){return this.va[0]&&this.va[0].url;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.ng||this.va.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{status:{get:function(){return this.Nq&&this.Nq.status||0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{eh:{get:function(){return this.Nq&&this.Nq.eh;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{jF:{get:function(){return this.Nq&&this.Nq.jF;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ti:{get:function(){return this.Nq&&this.Nq.Ti;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{tn:{get:function(){return!!this.va.length&&this.va[0].tn;},enumerable:!0,configurable:!0}});c.prototype.push=function(a){this.HJ&&a.Xb(this.Ja);this.va.push(a);this.Tq&&a.Or();};c.prototype.Xb=function(b){a.prototype.Xb.call(this,b);this.va.forEach(function(a){return a.Xb(b);});this.HJ=!0;};c.prototype.Or=function(){this.Lra=!0;(this.Tq=this.va.every(function(a){return a.Or();}))&&this.ZL(this);this.Lra=!1;return this.Tq;};c.prototype.xc=function(){7!==this.readyState&&5!==this.readyState&&(this.I.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.va.forEach(function(a){return a.xc();});};c.prototype.iP=function(a){this.ng=this.Nq=void 0;return this.va.every(function(b){return 5!==b.readyState&&7!==b.readyState?b.iP(a):!0;});};c.prototype.abort=function(){var a,b;a=this.active;this.ng=7;this.dD=!0;this.og=this.Rc=!1;b=this.va.map(function(a){return a.abort();}).every(function(a){return a;});this.iW(this,a,this.jca);return b;};c.prototype.getResponseHeader=function(a){var b;b=null;this.va.some(function(f){return!!(b=f.getResponseHeader(a));});return b;};c.prototype.getAllResponseHeaders=function(){var a;a=null;this.va.some(function(b){return!!(a=b.getAllResponseHeaders());});return a;};c.prototype.nZ=function(){};c.prototype.Pu=function(a){this.Rc||(this.Rc=!0);this.Rqa||(this.Rqa=!0,this.kl=0,this.FD=this.ll=a.Wc,this.uA(this));};c.prototype.QN=function(a){this.og||(this.og=!0);this.Qqa||(this.Qqa=!0,this.FD=a.Wc,this.tA(this));};c.prototype.RN=function(a){this.FD=a.Wc;this.oF(this);this.kl=this.Ae;this.ll=a.Wc;};c.prototype.Vi=function(a){this.FD=a.Wc;this.complete?(this.kc=!0,this.ng=5,this.og=this.Rc=!1,this.zJ=!0,this.Qp(this)):this.oF(this);this.kl=this.Ae;this.ll=a.Wc;};c.prototype.PN=function(a){this.FD=a.Wc;this.Nq=a;this.ng=6;this.jW(this);};c.prototype.ON=function(){};c.prototype.Aj=function(){return this.va[0].Aj()+"-"+this.va[this.va.length-1].Aj();};c.prototype.toString=function(){return"Compound["+this.va.map(function(a){return a.toString();}).join(",")+"]";};c.prototype.toJSON=function(){return{requests:this.va};};return c;}(a(167).qC);c.mja=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(7);d=function(a){function c(b,c,d){b=a.call(this,b,c)||this;b.lH=!1;b.pr=!1;b.qG=!1;b.Yw=!1;b.Lh=void 0;b.BD=c.mi;b.Nm=c.Pea;b.Iqa=c.wj;b.I=d;return b;}b.__extends(c,a);Object.defineProperties(c.prototype,{ac:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{mi:{get:function(){return this.BD;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Pea:{get:function(){return this.Nm;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{wj:{get:function(){return this.Iqa;},enumerable:!0,configurable:!0}});c.prototype.xc=function(){};c.prototype.F0=function(){};c.prototype.W5a=function(a){h.assert(this.Dd.qa===a.qa);!a.yd&&this.Dd.yd&&a.QU(this.Dd);!a.location&&this.Dd.location&&(a.location=this.Dd.location,a.qc=this.Dd.qc,a.IB=this.Dd.IB,a.url=this.Dd.url,a.kb=this.Dd.kb);this.Dd=a;};c.prototype.toJSON=function(){return b.__assign(b.__assign({},a.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.Y});};return c;}(a(173).By);c.f1=d;},function(d){(function(){var F74,i34;function c(){var m74;m74=2;while(m74!==5){switch(m74){case 2:this.nw=this.Zb=0;this.Qa=this.Zd=void 0;m74=5;break;}}}F74=2;while(F74!==8){i34="1SIY";i34+="b";i34+="Z";i34+="rNJC";i34+="p9";switch(F74){case 2:c.prototype.start=function(a){var y74;y74=2;while(y74!==1){switch(y74){case 2:this.Zd?a<this.Zd?(this.nw+=this.Zd-a,this.Zd=a):a>this.Qa&&(this.Qa=this.Zd=a):this.Qa=this.Zd=a;y74=1;break;}}};c.prototype.stop=function(a){var V74;V74=2;while(V74!==1){switch(V74){case 2:this.Qa&&a>this.Qa&&(this.nw+=a-this.Qa,this.Qa=a);V74=1;break;}}};c.prototype.add=function(a,b,c){var A74;A74=2;while(A74!==4){switch(A74){case 2:this.start(b);this.stop(c);this.Zb+=a;A74=4;break;}}};F74=4;break;case 4:c.prototype.get=function(){var w74;w74=2;while(w74!==1){switch(w74){case 2:return{Ca:this.nw?Math.floor(8*this.Zb/this.nw):null,vV:this.nw?this.nw:0};break;}}};d.P=c;i34;F74=8;break;}}}());},function(d,c,a){var h,n;function b(a){this.J={jN:a.maxc||25,k8:a.c||.5,nwb:a.rc||"none",Fkb:a.hl||7200};this.cK();this.q3a=this.J.nwb;this.CJ=this.J.Fkb;this.k4=Math.exp(Math.log(2)/this.CJ);this.k4=Math.max(this.k4,1);this.rS=1;}h=a(6);n=a(226).TDigest;new(a(4)).Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.Vc=function(){var a;if(0===this.re.size())return null;a=this.re.Jh([.25,.75]);if(a[0]===a[1])return null;this.re.size()>this.J.jN&&this.re.Vt();a=this.re.gs(!1).reduce(function(a,b){h.ma(b.$e)&&h.ma(b.n)&&a.push({mean:b.$e,n:b.n/this.rS});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};b.prototype.Xd=function(a){var b;if(h.Oa(a)||!h.has(a,"tdigest")||!h.ee(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(k){return!1;}b.forEach(function(a){h.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{$e:a.mean,n:a.n};});this.rS=1;this.re.Bfa(a);void 0===this.re.Jh(0)&&this.cK();};b.prototype.get=function(){var a,b;a=this.re;b=a.Jh([0,.1,.25,.5,.75,.9,1]);return{min:b[0],Iea:b[1],wk:b[2],Wi:b[3],xk:b[4],Jea:b[5],max:b[6],$g:a.gs(!1)};};b.ijb=function(a){var f;f=new b({});h.Oa(a)||h.U(a)||!h.isArray(a.$g)||(f.re.Bfa(a.$g),void 0===f.re.Jh(0)&&f.cK());a=f.re.Jh([.25,.75]);return a[0]===a[1]?null:function(a){return f.re.Jh(a);};};b.prototype.add=function(a){var b;b=1;"ewma"===this.q3a&&(this.rS=b=this.rS*this.k4);this.re.push(a,b);};b.prototype.toString=function(){return"TDigestHist("+this.re.summary()+")";};b.prototype.cK=function(){this.re=new n(this.J.k8,this.J.jN);};d.P={qpa:b};},function(d,c,a){var h,n;function b(a){this.J={jN:a.maxc||25,k8:a.c||.5,mFb:a.w||15E3,Ml:a.b||5E3};h.call(this,this.J.mFb,this.J.Ml);this.cK();}h=a(168);n=a(226).TDigest;b.prototype=Object.create(h.prototype);b.prototype.shift=function(){var a;a=this.AG(0);h.prototype.shift.call(this);null!==a&&(this.re.push(a,1),this.bo=!0);return a;};b.prototype.flush=function(){var a;a=this.get();this.re.push(a,1);this.bo=!0;h.prototype.reset.call(this);return a;};b.prototype.get=function(){return this.hAa();};b.prototype.ju=function(){var a;a=this.hAa();return{min:a.min,p10:a.Iea,p25:a.wk,p50:a.Wi,p75:a.xk,p90:a.Jea,max:a.max,centroidSize:a.Y8a,sampleSize:a.HB,centroids:a.$g};};b.prototype.hAa=function(){var a;if(0===this.re.size())return null;a=this.re.Jh([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.bo||!this.pe)this.bo=!1,this.pe={min:a[0],Iea:a[1],wk:a[2],Wi:a[3],xk:a[4],Jea:a[5],max:a[6],Jh:this.re.Jh.bind(this.re),Y8a:this.re.size(),HB:this.re.n,$g:this.rhb(),ju:this.ju.bind(this)};return this.pe;};b.prototype.rhb=function(){var a;if(0===this.re.size())return null;if(!this.bo&&this.pe)return this.pe.centroids;a=this.re.Jh([.25,.75]);if(a[0]===a[1])return null;this.re.size()>this.J.jN&&this.re.Vt();a=this.re.gs(!1).map(function(a){return{mean:a.$e,n:a.n};});return JSON.stringify(a);};b.prototype.size=function(){return this.re.size();};b.prototype.toString=function(){return"btdtput("+this.hE+","+this.Kc+","+this.ci+"): "+this.re.summary();};b.prototype.cK=function(){this.re=new n(this.J.k8,this.J.jN);};d.P=b;},function(d,c,a){var h,n;function b(a,b,c,d){h.call(this,c,d);this.Rq=new n(a);this.R1a=b;}h=a(168);n=a(414);b.prototype=Object.create(h.prototype);b.prototype.shift=function(){var a;a=this.AG(0);h.prototype.shift.call(this);null!==a&&this.Rq.ZT(a);return a;};b.prototype.flush=function(){var a;a=this.get();this.Rq.ZT(a);h.prototype.reset.call(this);return a;};b.prototype.get=function(){var a;a=this.nM();return{HB:this.yF(),xZ:a,GN:a.Wi?(a.xk-a.wk)/a.Wi:void 0};};b.prototype.yF=function(){return this.Rq.yF();};b.prototype.nM=function(){return this.Rq.yF()<this.R1a?{wk:void 0,Wi:void 0,xk:void 0,HB:void 0,Jh:void 0}:{wk:this.Rq.gr(25),Wi:this.Rq.gr(50),xk:this.Rq.gr(75),HB:this.Rq.yF(),Jh:this.Rq.gr.bind(this.Rq)};};b.prototype.toString=function(){return"biqr("+this.hE+","+this.Kc+","+this.ci+")";};d.P=b;},function(d,c,a){var p;function b(a){this.reset();this.Nzb(a);}function h(a){this.setInterval(a);this.reset();}function n(a){this.$v=new h(a);this.Nd=0;this.Nb=null;}p=a(6);b.prototype.Nzb=function(a){this.gD=Math.pow(.5,1/a);this.CJ=a;};b.prototype.reset=function(a){a&&a.Ca&&p.ma(a.Ca)?a.vh&&p.ma(a.vh)?(this.Lq=this.o1a,this.Lm=a.Ca,this.Vv=a.vh+a.Ca*a.Ca):(this.Lq=this.o1a,this.Lm=a.Ca,this.Vv=a.Ca*a.Ca):this.Vv=this.Lm=this.Lq=0;};b.prototype.add=function(a){var b;if(p.ma(a)){this.Lq++;b=this.gD;this.Lm=b*this.Lm+(1-b)*a;this.Vv=b*this.Vv+(1-b)*a*a;}};b.prototype.get=function(){var a,b,c;if(0===this.Lq)return{Ca:0,vh:0};a=this.Lm;b=this.Vv;c=1-Math.pow(this.gD,this.Lq);a=a/c;b=b/c;c=a*a;return{Ca:Math.floor(a),vh:Math.floor(b>c?b-c:0)};};b.prototype.Vc=function(){return 0===this.Lq?null:{a:Math.round(this.Lm),s:Math.round(this.Vv),n:this.Lq};};b.prototype.Xd=function(a){if(p.Oa(a)||!p.has(a,"a")||!p.has(a,"s")||!p.isFinite(a.a)||!p.isFinite(a.s))return this.Vv=this.Lm=this.Lq=0,!1;this.Lm=a.a;this.Vv=a.s;p.has(a,"n")&&p.ma(a.n)?this.Lq=a.n:this.Lq=16*this.CJ;return!0;};h.prototype.setInterval=function(a){this.CJ=a;this.gD=-Math.log(.5)/a;};h.prototype.reset=function(a){this.Qa=this.Zd=null;a&&p.isFinite(a.Ca)?this.Lm=a.Ca:this.Lm=0;};h.prototype.start=function(a){p.Oa(this.Zd)&&(this.Qa=this.Zd=a);};h.prototype.add=function(a,b,c){var f,d;p.Oa(this.Zd)&&(this.Qa=this.Zd=b);this.Zd=Math.min(this.Zd,b);b=Math.max(c-b,1);f=this.gD;d=c>this.Qa?c:this.Qa;this.Lm=this.Lm*(d>this.Qa?Math.exp(-f*(d-this.Qa)):1)+8*a/b*(1-Math.exp(-f*b))*(c>d?Math.exp(-f*(d-c)):1);this.Qa=d;};h.prototype.get=function(a){var b;a=Math.max(a,this.Qa);b=this.Lm*Math.exp(-this.gD*(a-this.Qa));a=1-Math.exp(-this.gD*(a-this.Zd));0<a&&(b/=a);return{Ca:Math.floor(b)};};h.prototype.toString=function(){return"ewmav("+this.CJ+")";};n.prototype.setInterval=function(a){this.$v.setInterval(a);};n.prototype.reset=function(a){this.$v.reset(a);this.Nd=0;this.Nb=null;};n.prototype.start=function(a){!p.Oa(this.Nb)&&a>this.Nb&&(this.Nd+=a-this.Nb,this.Nb=null);this.$v.start(a-this.Nd);};n.prototype.add=function(a,b,c){!p.Oa(this.Nb)&&c>this.Nb&&(this.Nd+=b>this.Nb?b-this.Nb:0,this.Nb=null);this.$v.add(a,b-this.Nd,c-this.Nd);};n.prototype.stop=function(a){this.Nb=Math.max(p.Oa(this.$v.Qa)?0:this.$v.Qa+this.Nd,p.Oa(this.Nb)?a:Math.min(this.Nb,a));};n.prototype.get=function(a){return this.$v.get((p.Oa(this.Nb)?a:this.Nb)-this.Nd);};n.prototype.toString=function(){return this.$v.toString();};d.P={XPa:b,IHb:h,VPa:n};},function(d,c,a){d.P={eRb:a(398),yVb:a(225),iHb:a(826),hHb:a(397),jHb:a(396),fla:a(823)};},function(d){function c(){}function a(a){this.Csa=a;this.Km=[];this.lf=null;}c.prototype.clear=function(){this.Od=null;this.size=0;};c.prototype.find=function(a){var c;for(var b=this.Od;null!==b;){c=this.Qk(a,b.data);if(0===c)return b.data;b=b.$f(0<c);}return null;};c.prototype.lowerBound=function(a){var f;for(var b=this.Od,c=this.iterator(),d=this.Qk;null!==b;){f=d(a,b.data);if(0===f)return c.lf=b,c;c.Km.push(b);b=b.$f(0<f);}for(f=c.Km.length-1;0<=f;--f)if(b=c.Km[f],0>d(a,b.data))return c.lf=b,c.Km.length=f,c;c.Km.length=0;return c;};c.prototype.upperBound=function(a){for(var b=this.lowerBound(a),c=this.Qk;null!==b.data()&&0===c(b.data(),a);)b.next();return b;};c.prototype.min=function(){var a;a=this.Od;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};c.prototype.max=function(){var a;a=this.Od;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};c.prototype.iterator=function(){return new a(this);};c.prototype.Sd=function(a){for(var b=this.iterator(),c;null!==(c=b.next());)a(c);};a.prototype.data=function(){return null!==this.lf?this.lf.data:null;};a.prototype.next=function(){var a;if(null===this.lf){a=this.Csa.Od;null!==a&&this.yra(a);}else if(null===this.lf.right){do if(a=this.lf,this.Km.length)this.lf=this.Km.pop();else{this.lf=null;break;}while(this.lf.right===a);}else this.Km.push(this.lf),this.yra(this.lf.right);return null!==this.lf?this.lf.data:null;};a.prototype.vB=function(){var a;if(null===this.lf){a=this.Csa.Od;null!==a&&this.tra(a);}else if(null===this.lf.left){do if(a=this.lf,this.Km.length)this.lf=this.Km.pop();else{this.lf=null;break;}while(this.lf.left===a);}else this.Km.push(this.lf),this.tra(this.lf.left);return null!==this.lf?this.lf.data:null;};a.prototype.yra=function(a){for(;null!==a.left;)this.Km.push(a),a=a.left;this.lf=a;};a.prototype.tra=function(a){for(;null!==a.right;)this.Km.push(a),a=a.right;this.lf=a;};d.P=c;},function(d,c,a){var b,h,n,p,f,k,m,t,u,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(100);n=a(14);p=a(4);d=a(27);f=a(16);k=a(44);m=a(7);t=a(227);u=a(393);a=a(392);g=p.MediaSource;a=function(a){function c(b,f,c,d,k,h,m){f=a.call(this,b,d,k,f,m)||this;u.f1.call(f,b,d,m);f.Lh=c;f.track=c.track;f.pr=!!d.pr;f.qG=!!d.qG;f.Yw=!!d.Yw;f.Psb=d.ba;f.lH=!!d.lH;f.c5=(h?"(cache)":"")+f.qa+" header";f.YD(b.url||d.url,d.offset,d.ba);return f;}b.__extends(c,a);Object.defineProperties(c.prototype,{ac:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{uZ:{get:function(){return this.Z2a;},enumerable:!0,configurable:!0}});c.prototype.xc=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.xc.call(this);};c.prototype.ZL=function(b){this.stream.Bea();a.prototype.ZL.call(this,b);};c.prototype.Vi=function(b){this.Nm=this.Nm?f.hr(this.Nm,b.response):b.response;b.rO();this.W2a()?a.prototype.Vi.call(this,b):this.bqa?(this.YD(b.url,b.offset+b.ba,this.bqa),a.prototype.Vi.call(this,b)):this.jW(this);};c.prototype.YD=function(a,b,f){a=new t.bQ(this.stream,this.track,this.c5+" ("+this.va.length+")",{offset:b,ba:f,url:a,location:this.location,Jb:this.Jb,responseType:0},this,this.Zc,this.I);this.push(a);this.Zb=this.va.reduce(function(a,b){return a+b.ba;},0);};c.prototype.W2a=function(){var a,b,d;a=this.Zc;b=new h.Wy(c.Uqb,this.stream,this.Nm,["sidx"],this.M===n.Na.VIDEO&&a.Zw||this.M===n.Na.AUDIO,{vVb:this.stream.track.y9,yFa:void 0===this.Ta,tKa:!g.wc||!g.wc.eva,uia:a.uia,fo:a.fo,IH:this.Zc.IH,Yxb:!0,U_:!g.wc||!g.wc.fEa});d=b.parse({Ta:this.Ta});this.CEb=a.IH&&b.elb;d.Ux?(m.assert(d.mi),this.BD=d.mi,this.Z2a=d.uZ,this.Iqa=!!d.IV,void 0===this.Ta&&void 0===d.Ta&&this.I.error("No frame duration available for "+this.qa),void 0===this.Ta&&void 0===d.Ta&&this.I.error("No frame duration available for "+this.qa),b=d.Ta?new f.sa(d.Ta):this.Ta,this.stream.jZ(d.mi,d.X,b,d.Y,d.nG,d.di,a.BG&&a.BG.enabled?d.yy:void 0),this.Nm=void 0):this.bqa=d.O5a||0;return!!d.Ux;};c.Uqb=new p.Console("MP4","media|asejs");return c;}(a.mja);c.pja=a;k.cj(u.f1,a,!1,!1);k.cj(d.EventEmitter,a);},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(100);a(7);a(30);d=function(){function a(a,b,f,c){this.X=f;this.Fd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.Zb=c;}Object.defineProperties(a.prototype,{ba:{get:function(){return void 0!==this.Zb?this.Zb:this.Zb=this.r4();},enumerable:!0,configurable:!0}});a.prototype.subarray=function(b,c){return new a(this.Fd.subarray(b,c),this.sizes.subarray(b,c),this.X);};a.prototype.concat=function(){var d,c,f,k;for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];d=[this];c=d.concat.apply(d,c);d=c.reduce(function(a,b){return a+b.length;},0);f=new Uint32Array(d);k=new Uint32Array(d);d=c.reduce(function(a,b){return a||b.X;},void 0);c.reduce(function(a,c){b.T3.set(f,c.Fd,a);b.T3.set(k,c.sizes,a);return a+c.length;},0);return new a(f,k,d);};a.prototype.r4=function(){for(var a=this.sizes,b=this.length,f=0,c=0;c<b;++c)f+=a[c];return f;};return a;}();c.Zoa=d;},function(d,c,a){var b,h,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(405);h=a(235);n=a(404);d=function(){function a(a,b,c){this.console=a;this.stream=b;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);}a.prototype.parse=function(a){var f;f=new n.tka(this.view.byteLength);this.dg=new b.q1(h.pG.Mc,f,this.view,this.console,{Oea:!0});a=this.dg.parse(a);this.Mc=this.dg.Mc;return a.done;};return a;}();c.FI=d;},function(d,c,a){var h;function b(a,b){a=b.indexOf(a);-1!==a&&b.splice(a,1);}Object.defineProperty(c,"__esModule",{value:!0});h=a(86);d=function(){function a(a){this.endOffset=a;this.done=!1;}a.prototype.jya=function(){return this.done;};a.prototype.Mwa=function(a,b,c){return this.done=b+c>=this.endOffset;};return a;}();c.tka=d;d=function(){function a(a,b,c,d){void 0===b&&(b=[]);void 0===c&&(c=[]);void 0===d&&(d=!1);this.sq=a;this.nV=b;this.NJa=c;this.zFa=d;this.done=!1;this.Ij={};}a.prototype.jya=function(b,f,c){-1!==a.ilb.indexOf(b)&&(this.Ij[b]={offset:f,size:c});if(-1!==this.NJa.indexOf(b))if(this.Ij[b]={offset:f,size:c},this.zFa)this.endOffset=f+c;else return this.endOffset=f,this.done=!0;else this.sq&&-1!==this.sq.indexOf(b)?(b=1<this.sq.length?4096:0,this.endOffset=Math.max(f+c+b,this.endOffset||0)):-1!==this.nV.indexOf(b)&&(b=this.sq?4096:0,this.endOffset=Math.max(f+c+b,this.endOffset||0));return this.done;};a.prototype.Mwa=function(a,f,c,d){var k;k=this;if(-1!==this.NJa.indexOf(a))return this.done=!0;a===h.R2&&this.EIa(d.Ij);a===h.S2&&this.EIa(d.Ij);this.sq&&b(a,this.sq);b(a,this.nV);return this.sq&&0===this.sq.length&&!this.nV.some(function(a){return k.Ij[a];})?this.done=!0:this.done;};a.prototype.EIa=function(a){var b;b=this;this.Ij=a;this.endOffset=(this.sq||[]).concat(this.nV).reduce(function(a,f){return b.Ij[f]?(f=b.Ij[f],Math.max(f.offset+(f.size||4096),a)):a;},this.endOffset||0);};a.ilb=["moov","sidx"];return a;}();c.GRa=d;},function(d,c,a){var b,h,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(26);n=a(77);d=function(a){function f(b,f,c,d,h){c=a.call(this,c,d,h)||this;c.X7a=b;c.pH=f;c.Mc={};return c;}b.__extends(f,a);f.prototype.parse=function(a){var b,f,c,d,k,h;this.offset=0;b=[];for(a=a||{};this.offset<this.view.byteLength&&!(8>this.view.byteLength-this.offset);){f=this.offset;c=this.Ab();if(0===c)return{done:!1,offset:this.offset,error:"Invalid zero-length box"};d=n.mz(this.Ab());if(null===d)return{done:!1,offset:this.offset,error:"Invalid box type"};if("uuid"===d){if(16>this.view.byteLength-this.offset)break;d=this.XZ();}if(0===b.length&&this.pH.jya(d,f,c))break;if(f+c>this.view.byteLength)break;k=this.X7a[d];h=void 0;if(k)if(h=new k(this,d,f,c,b[0]),(b[0]||this).qK(h),h.parse(a))this.config.Oea&&k.ic?b.unshift(h):this.offset=f+c;else return{done:!1,offset:this.offset,error:"parse error in "+d+" box"};else this.offset=f+c;for(;b.length&&this.offset>b[0].byteOffset+b[0].lB-8;){h=b.shift();if(!h.kF(a))return{done:!1,offset:this.offset,error:"finalize error in "+h.type+" box"};this.offset=h.byteOffset+h.lB;}if(0===b.length&&this.pH.Mwa(d,f,c,h))break;}return!this.pH.done&&(a=this.pH.endOffset?this.pH.endOffset-this.view.byteLength:4096,0<a)?{done:!1,offset:this.offset,kEa:a}:{done:!0,offset:Math.min(this.pH.endOffset||Infinity,this.offset)};};f.prototype.qK=function(a){h.Tf.qK(this,a);};return f;}(a(837).VZa);c.q1=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.concat=function(){var a,b,c;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];a=Array.prototype.concat.apply([],a);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;};},function(d){var c,a,b,h;c={name:"heaac-2-dash reset sample",profile:53,lo:2,sampleRate:24E3,duration:1024,hv:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,lo:2,sampleRate:24E3,duration:1024,hv:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};b={name:"ddplus-5.1-dash standard sample",profile:54,lo:6,sampleRate:48E3,duration:1536,hv:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};h={name:"ddplus-2.0-dash standard sample",profile:57,lo:2,sampleRate:48E3,duration:1536,hv:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};d.P={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":b,"ddplus-5.1hq-dash":b,"ddplus-2.0-dash":h},reset:{"heaac-2-dash":c,"heaac-2hq-dash":c},"heaac-2-dash":c,"heaac-2-dash-alt":a,"ddplus-5.1-dash":b,"ddplus-2.0-dash":h};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=a(86);a=a(26);h=d.S2;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a,d,h;this.Rf();1<=this.version&&(this.Jxa=this.L.XZ());a=this.L.Ab();this.Ij={};for(var b=this.startOffset+this.length,c=0;c<a;++c){d=this.L.by();"uuid"===d&&(d=this.L.XZ());h=this.L.Yi();this.Ij[d]={offset:b,size:h};b+=h;}return!0;};c.Je=h;c.ic=!1;return c;}(a.Tf);c["default"]=a;},function(d,c,a){var b,h,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(86);d=a(26);n=h.R2;d=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.Rf();this.fileSize=this.L.Yi();this.X=this.L.Yi();this.duration=this.L.Yi(!1,!0);this.REa=this.L.Yi();this.L.Yi();this.nsb=this.L.Yi();this.srb=this.L.Ab();this.SEa=this.L.Yi();this.Yxa=this.L.Ab();this.Jxa=this.L.XZ();this.Ij={moof:{offset:this.REa},sidx:{offset:this.SEa,size:this.Yxa}};this.Ij[h.$ma]={offset:this.nsb,size:this.srb};this.L.offset-this.startOffset<=this.length-24&&(this.msb=this.L.Yi(),this.jrb=this.L.Ab(),this.lsb=this.L.Yi(),this.irb=this.L.Ab(),this.Ij[h.kR]={offset:this.msb,size:this.jrb},this.Ij[h.jR]={offset:this.lsb,size:this.irb});return!0;};f.Je=n;f.ic=!1;return f;}(d.Tf);c["default"]=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){var b;b=null!==a&&a.apply(this,arguments)||this;b.lW=1536;return b;}b.__extends(c,a);c.ic=!0;return c;}(a(174)["default"]);c["default"]=d;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.Je="ac-3";return c;}(d);c.LLa=a;d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.Je="ec-3";return c;}(d);c.mQa=d;},function(d){var c;c=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,b,c){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),c*a.byteLength/a.length);}:function(a,b,c){a.set(b,c);};d.P={from:function(a,b,c,d){a=new a(b.length);for(var h="function"===typeof c,f=0;f<b.length;++f)a[f]=h?c.call(d,b[f],f,b):b[f];return a;},set:c};},function(d,c,a){var h,n,p;function b(a){return void 0===a?!0:a;}Object.defineProperty(c,"__esModule",{value:!0});h=a(857);n=a(33);a(7);p=a(76);d=function(){function a(a,f,c){this.J=f;this.I=c;this.pg=a.track;this.d4a=a.Tg;this.Ix=a.Ix;this.t1a=-1===this.profile.indexOf("none");this.BD=this.Ea=void 0;this.tf=b(a.tf);this.inRange=b(a.inRange);this.VE=a.VE;this.aw=void 0;this.rra=this.Ps=0;this.url=this.IB=this.qc=this.ap=this.Vca=this.location=this.Fa=this.kb=void 0;this.hh=!1;this.sca=this.ce=void 0;a=this.J&&"object"===typeof this.J.qGa&&this.J.qGa[this.profile];"object"===typeof a&&(a=a[this.R])&&(this.QD=new n.sa(a.ticks,a.timescale));}Object.defineProperties(a.prototype,{yd:{get:function(){return!!this.Ea;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.pg.O;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.pg.u;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.pg.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ta:{get:function(){return this.pg.Ta;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.pg.X;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{oG:{get:function(){return this.pg.oG;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bb:{get:function(){return this.pg.bb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.pg;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Tg:{get:function(){return this.d4a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{qa:{get:function(){return this.Ix.downloadable_id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.qa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{uu:{get:function(){return this.t1a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Ix.bitrate;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{uc:{get:function(){return this.Ix.vmaf||null;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Ix.content_profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Jf:{get:function(){return this.profile;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Yr:{get:function(){return this.Ix.sidx;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{si:{get:function(){return this.QD;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Y:{get:function(){return this.Ea;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zY:{get:function(){return this.Ea&&this.Ea.zY;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M$:{get:function(){return this.pg.M$;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{L$:{get:function(){return this.pg.L$;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{YIa:{get:function(){return this.enb();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{fx:{get:function(){return void 0!==this.aw?this.aw:this.VX();},set:function(a){this.aw=a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{mi:{get:function(){return this.BD;},enumerable:!0,configurable:!0}});a.prototype.zj=function(){return this.O.zj(this.M,this.qa);};a.prototype.JW=function(){var a;a=this.zj();return a&&a.stream.Y;};a.prototype.dC=function(){return this.O.dC(this);};a.prototype.Bea=function(){this.track.Bea();};a.prototype.jZ=function(a,b,f,c,d,p,n){c&&void 0!==c.Lj&&(this.track.yd||void 0!==c.Fd&&c.Fd.length)&&void 0!==c.offset&&void 0!==c.sizes&&c.sizes.length?(this.J.fo&&this.si&&0===c.Lj&&(c.Lj+=this.si.hg(c.X).Gb),this.yd||(this.track.jZ(this,b,f,c,p),this.Ea=new h.SYa(this.track.zm,c,d,p,n,this.u)),this.BD=a):c?this.I.error("AseStream.onHeaderReceived: fragmentsData was missing data:"+(void 0!==c.Lj)+","+this.track.yd+","+this.track.y9+","+(void 0!==c.Fd)+","+!(!c.Fd||!c.Fd.length)+","+(void 0!==c.offset)+","+(void 0!==c.sizes)+","+!(!c.sizes||!c.sizes.length)):this.I.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};a.prototype.QU=function(a){this.yd||(this.track.z$a(a.track),this.Ea=a.Y,this.BD=a.mi);};a.prototype.ki=function(a){return new p.yi(this,this.Y.get(a));};a.prototype.eza=function(a){var b;b=this.ki(a.index);a.Sa&&(b.Jj(a.Sa),b.QO(a.mv));return b;};a.prototype.NKa=function(a,b){this.Ps=a;this.rra=b;};a.prototype.A9a=function(){this.Fa=this.kb=this.qc=this.location=this.url=void 0;};a.prototype.toJSON=function(){return{movieId:this.u,mediaType:this.M,streamId:this.qa,bitrate:this.R};};a.prototype.toString=function(){return(0===this.M?"a":"v")+":"+this.qa+":"+this.R;};a.prototype.VX=function(){var a;if(!this.yd)return!0;if(this.track.wba>=this.R)return this.aw=!0;if(this.track.WCa<=this.R)return this.aw=!1;a=this.Ea.VX(this.J.yN,this.Ps,this.rra);if(a){if(!this.track.y9||this.uu)this.track.wba=this.R;}else this.track.WCa=this.R;return this.aw=a;};a.prototype.enb=function(){return void 0!==this.aw?!this.aw:!this.VX();};return a;}();c.MMa=d;},function(d,c,a){var h,n,p,f;function b(a){return function(){for(var b=Array(this.length),f=0;f<this.length;++f)b[f]=a.call(this,f);return b;};}Object.defineProperty(c,"__esModule",{value:!0});h=a(7);d=a(4);n=a(33);p=new d.Console("FRAGMENTS","media|asejs");f=function(){function a(a,b){this.dc=a;this.lj=b;}Object.defineProperties(a.prototype,{index:{get:function(){return this.lj;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ow:{get:function(){return new n.sa(this.eb,this.X);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{eb:{get:function(){return this.dc.yT+this.dc.tw[this.lj];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{rb:{get:function(){return this.eb+this.dc.Un[this.lj];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{so:{get:function(){return this.dc.Un[this.lj];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ta:{get:function(){return this.dc.Ta;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.dc.X;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return Math.floor(1E3*this.eb/this.X);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ia:{get:function(){return Math.floor(1E3*(this.eb+this.so)/this.X);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return this.ia-this.S;},enumerable:!0,configurable:!0}});a.prototype.toJSON=function(){return{startPts:1E3*this.eb/this.Ta.X,endPts:1E3*this.rb/this.Ta.X,duration:1E3*this.so/this.Ta.X,index:this.index};};return a;}();c.rZa=f;a=function(){function a(a,b,f,c){this.M=a;this.length=f.Fd.length;this.Gl=f.X;this.Un=f.Fd;this.aU=c&&c.HG;this.ita=c&&c.YG;this.xD=b;this.Cia=this.Dia=this.pra=void 0;this.yT=f.Lj;this.tw=new Uint32Array(this.length+1);if(this.length){for(b=a=0;b<this.length;++b)this.tw[b]=a,a+=this.Un[b];this.tw[b]=a;this.j4=Math.floor((this.ia-this.S)/this.length);}}Object.defineProperties(a.prototype,{Lj:{get:function(){return this.qJa(0);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{P9:{get:function(){return this.qJa(this.length);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.Nh(0);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ia:{get:function(){return this.Nh(this.length);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{NL:{get:function(){return new n.sa(this.P9,this.X);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zda:{get:function(){return this.pra||this.L_a();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ta:{get:function(){return this.xD;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.Gl;},enumerable:!0,configurable:!0}});a.prototype.qJa=function(a){return this.yT+this.tw[a];};a.prototype.Nh=function(a){return Math.floor(1E3*(this.yT+this.tw[a])/this.X);};a.prototype.Q9=function(a){return this.Nh(a+1);};a.prototype.Fd=function(a){return this.Q9(a)-this.Nh(a);};a.prototype.get=function(a){return new f(this,a);};a.prototype.Tl=function(a,b,f){if(0===this.length||a<this.Nh(0))return-1;a=Math.max(a,b||0);for(var c=0,d=this.length-1,k,h;d>=c;)if(k=c+(d-c>>1),h=this.Nh(k),a<h)d=k-1;else if(a>=h+this.Fd(k))c=k+1;else{for(;b&&k<this.length&&this.Nh(k)<b;)++k;return k<this.length?k:f?this.length-1:-1;}return f?this.length-1:-1;};a.prototype.XV=function(a,b,f){a=this.Tl(a,b,f);return 0<=a?this.get(a):void 0;};a.prototype.v8=function(a,b){var f,c;f=Math.floor(b*this.X/1E3);b=Math.min(a+Math.ceil(b/this.j4),this.length);c=this.tw[b]-this.tw[a];if(c>f){for(;c>=f;)--b,c-=this.Un[b];return b-a+1;}for(;c<f&&b<=this.length;)c+=this.Un[b],++b;return b-a;};a.prototype.subarray=function(b,f){h.assert(void 0===b||0<=b&&b<this.length);h.assert(void 0===f||f>b&&f<=this.length);return new a(this.M,this.Ta,{X:this.X,Lj:this.yT+this.tw[b],Fd:this.Un.subarray(b,f)},this.aU&&{HG:this.aU.subarray(b,f+1),YG:this.ita});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],f=0;f<this.length;++f)b.push(a(this.get(f),f,this));return b;};a.prototype.reduce=function(a,b){for(var f=0;f<this.length;++f)b=a(b,this.get(f),f,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.j4};};a.prototype.dump=function(){var b;p.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.j4+"ms");for(var a=0;a<this.length;++a){b=this.get(a);p.trace("TrackFragments: "+a+": ["+b.S+"-"+b.ia+"]");}};a.prototype.L_a=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.Un[b],a);return this.pra=a;};return a;}();c.wpa=a;c.lda=b;a.prototype.pJa=b(a.prototype.Nh);c.QOb=function(a){return"["+Array(a.length).map(function(b,f){return a[f].toString();}).join(",")+"]";};},function(d){function c(a){this.m5=a;this.Te=[];this.bo=!1;this.Dz=void 0;this.ai={};}c.prototype.ZT=function(a){this.Te.length===this.m5&&this.Te.shift();Array.isArray(a)?this.Te=this.Te.concat(a):this.Te.push(a);this.bo=!0;};c.prototype.yF=function(){return this.Te.length;};c.prototype.D7=function(){var a;a=this.Te;return 0<a.length?a.reduce(function(a,c){return a+c;},0)/this.Te.length:void 0;};c.prototype.zU=function(){var a,b;a=this.Te;if(0<a.length){b=this.D7();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};c.prototype.gr=function(a){var b,c,d;if(this.bo||void 0===this.Dz)this.Dz=this.Te.slice(0).sort(function(a,b){return a-b;}),this.ai={},this.bo=!1;if(void 0===this.ai[a]){b=this.Dz;c=Math.floor(a/100*(b.length-1)+1)-1;d=(a/100*(b.length-1)+1)%1;this.ai[a]=c===b.length-1?b[c]:b[c]+d*(b[c+1]-b[c]);}return this.ai[a];};d.P=c;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.Ay||(c.Ay={});d[d.CLOSED=0]="CLOSED";d[d.OPEN=1]="OPEN";},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);c.eU=function(a,c,d){var f,k;f=!0;d.forEach(function(d){var h;if(f&&a===d.profile){h=d.ranges;f=b.U(h)?c>=d.min&&c<=d.max:h.some(function(a){return c>=a.min&&c<=a.max;});!f&&d.disallowed&&d.disallowed.some(function(a){if(a.stream.bitrate===c)return k=a.disallowedBy,!0;});}});return{inRange:f,VE:k};};},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});d=a(0);d.__exportStar(a(872),c);d.__exportStar(a(416),c);d.__exportStar(a(237),c);d.__exportStar(a(871),c);},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Ema="ManifestEnricherSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Rna="PboLinksManagerSymbol";c.Qna="PboLinksManagerFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Ima="ManifestTransformerSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Jma="ManifestVerifyErrorFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Apa="TrickPlayFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.xpa="TrackStreamFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.ooa="PlayerTextTrackFactorySymbol";},function(d,c){function a(a,c){this.log=a;this.t0=c;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.qKa=function(a,c){var b;b=this;if(!a)return this.log.warn("There are no media streams for "+c.type+" track - "+c.bb),[];a=a.map(function(a){var f;f=b.t0(c,c.type,a.v9,a.R,a.uc,a.size,b.Qhb(a.me),a.HE,a.rgb/a.qgb,a.uu);f.dAb(a.Gxb,a.Fxb,a.Xtb,a.Wtb);f.xzb(a.ccb,a.dcb,a.bcb,a.acb);c.kk&&(f.kk=c.kk);a.HE&&(f.Jf=a.HE);return f;});a.sort(function(a,b){return a.R-b.R;});return a;};a.prototype.Qhb=function(a){return a.reduce(function(a,b){a[b.Hua]=b.url;return a;},{});};c.gR=a;},function(d,c,a){var b,h,n;b=a(241);h=a(116);c=a(52);n=a(892);a=c(function(a,f){return 1===a?h(f):b(a,n(a,[],f));});d.P=a;},function(d){d.P=function(c,a){for(var b=0,d=a.length,n=Array(d);b<d;)n[b]=c(a[b]),b+=1;return n;};},function(d,c,a){var b,h,n,p,f;c=a(116);b=a(243);h=a(895);n=!{toString:null}.propertyIsEnumerable("toString");p="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");f=function(){return arguments.propertyIsEnumerable("length");}();a=c("function"!==typeof Object.keys||f?function(a){var c,d,k,g;if(Object(a)!==a)return[];k=[];d=f&&h(a);for(c in a)!b(c,a)||d&&"length"===c||(k[k.length]=c);if(n)for(d=p.length-1;0<=d;){c=p[d];if(g=b(c,a)){a:{for(g=0;g<k.length;){if(k[g]===c){g=!0;break a;}g+=1;}g=!1;}g=!g;}g&&(k[k.length]=c);--d;}return k;}:function(a){return Object(a)!==a?[]:Object.keys(a);});d.P=a;},function(d){d.P={Xb:function(){return this.XP["@@transducer/init"]();},result:function(c){return this.XP["@@transducer/result"](c);}};},function(d){d.P=Array.isArray||function(c){return null!=c&&0<=c.length&&"[object Array]"===Object.prototype.toString.call(c);};},function(d,c,a){var b,h;b=a(430);h=a(902);d.P=function(a,c,f){return function(){var d,m;if(0===arguments.length)return f();d=Array.prototype.slice.call(arguments,0);m=d.pop();if(!b(m)){for(var t=0;t<a.length;){if("function"===typeof m[a[t]])return m[a[t]].apply(m,d);t+=1;}if(h(m))return c.apply(null,d)(m);}return f.apply(this,arguments);};};},function(d,c,a){var b,h,n,p,f,k;c=a(52);b=a(431);h=a(901);n=a(433);p=a(242);f=a(896);k=a(428);a=c(b(["filter"],f,function(a,b){return n(b)?p(function(f,c){a(b[c])&&(f[c]=b[c]);return f;},{},k(b)):h(a,b);}));d.P=a;},function(d){d.P=function(c){return"[object Object]"===Object.prototype.toString.call(c);};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Gma="ManifestProviderConfigSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Hma="ManifestParserFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Hja="CDMAttestedDescriptorProvider";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Aja="BookmarkConfigParserSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Bja="BookmarkConfigSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.yka="DiskStorageRegistrySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Sma="MemoryStorageSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.lma="LocalStorageSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Zja="CorruptedStorageValidatorConfigSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.L3="Storage";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.cR="IndexedDBConfigSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.woa="PresentationAPISymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Lma="MediaCapabilitiesLogHelperSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Mma="MediaCapabilitiesSymbol";},function(d,c,a){var h,n,p;function b(a,b){var f;f=n.rQ.call(this,a,b,h.Cs.Audio)||this;f.config=a;f.Pda=b;f.type=h.Cy.Hy;return f;}Object.defineProperty(c,"__esModule",{value:!0});h=a(32);n=a(450);p=a(61);a(138);new(a(103)).dz();da(b,n.rQ);b.prototype.eP=function(){return Promise.resolve(!1);};b.prototype.bA=function(){var a;a={};a[p.zi.NQ]="mp4a.40.2";a[p.zi.tRa]="mp4a.40.2";a[p.zi.d2]="mp4a.40.5";a[p.zi.OQ]="mp4a.40.2";a[p.zi.WR]="mp4a.40.42";this.config().G9&&(a[p.zi.tQ]="ec-3");this.config().F9&&(a[p.zi.A1]="ec-3");this.config().JL&&(a[p.zi.uQ]="ec-3");return a;};b.prototype.Sza=function(){return this.config().CK;};c.G1=b;b.FH="audio/mp4;codecs={0};";},function(d,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});c.wh=a;a.mla=/^hevc-main/;a.lla=/^hevc-hdr-|hevc-dv/;a.zs=/^hevc-hdr-/;a.vs=/^hevc-dv/;a.BC=/-h264mpl/;a.gI=/-h264mpl30/;a.CC=/-h264mpl31/;a.mC=/-h264hpl/;a.Sv=/^vp9-/;a.xi=/^av1-/;a.YP=/^heaac-2-/;a.sJb=/^heaac-2hq-dash/;a.WR=/^xheaac-dash/;a.GOa=/ddplus-2/;a.HOa=/ddplus-5/;a.IOa=/ddplus-atmos/;},function(d,c,a){var h,n,p;function b(a,b,c){this.config=a;this.Pda=b;this.M=c;this.Rda={};this.Rda[h.Cs.Audio]="audio";this.Rda[h.Cs.Npa]="video";}Object.defineProperty(c,"__esModule",{value:!0});h=a(32);d=a(103);n=a(449);p=new d.dz().format;b.prototype.gAa=function(){return this.adb(this.Sza());};b.prototype.Nt=function(a){return this.Pda.isTypeSupported(a);};b.prototype.Sya=function(){return[n.wh.YP,n.wh.BC];};b.prototype.$ba=function(){this.ml=[];this.nq=[];this.config().qFa&&this.nq.push(n.wh.mla);this.config().pFa&&this.nq.push(n.wh.lla);this.config().TN&&this.nq.push(n.wh.mC);this.config().rFa&&this.nq.push(n.wh.Sv);this.config().oFa&&this.nq.push(n.wh.xi);this.nq=this.nq.concat(this.Sya());!this.config().Ceb&&this.ml.push(n.wh.WR);!this.config().G9&&this.ml.push(n.wh.GOa);!this.config().F9&&this.ml.push(n.wh.HOa);!this.config().JL&&this.ml.push(n.wh.IOa);!this.config().ueb&&this.ml.push(/prk$/);this.config().qFa||this.config().keb||this.ml.push(n.wh.mla);this.config().pFa||this.config().I9||this.ml.push(n.wh.lla);this.config().TN||this.config().FV||this.ml.push(n.wh.mC);this.config().rFa||this.config().Aeb||this.ml.push(n.wh.Sv);this.config().oFa||this.config().geb||this.ml.push(n.wh.xi);};b.prototype.VV=function(a){var b;b=this;a=a.filter(function(a){for(var f=Q(b.nq),c=f.next();!c.done;c=f.next())if(c.value.test(a))return!0;f=Q(b.ml);for(c=f.next();!c.done;c=f.next())if(c.value.test(a))return!1;a=b.xfa[a];c="";if(a)return Array.isArray(a)&&(c=1<a.length?" "+a[1]:"",a=a[0]),a=p("{0}/mp4;codecs={1};{2}",b.Rda[b.M],a,c),b.Nt(a);});return Promise.resolve(a);};b.prototype.adb=function(a){var b;b={};this.$ba();return this.VV(a).then(function(a){return a.map(function(a){return b[a]=1;});}).then(function(){return Object.keys(b);});};pa.Object.defineProperties(b.prototype,{xfa:{configurable:!0,enumerable:!0,get:function(){this.$ra||(this.$ra=this.bA());return this.$ra;}}});c.rQ=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.sja={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Oja="CapabilityDetectorFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.$ka="ExtraPlatformInfoProviderSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Qja="CdnThroughputTracker";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.tpa="ThroughputTrackerConfigSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.xka="DiagnosticsFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.ypa="TransitionLoggerSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Opa="VideoPlayerFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.loa="PlaybackFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Xoa="SegmentConfigFactorySymbol";},function(d,c,a){var h;function b(a,b,f,c,d,h){this.level=a;this.Nl=b;this.timestamp=f;this.message=c;this.xd=d;this.index=void 0===h?0:h;this.XSa={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(c,"__esModule",{value:!0});h=a(3);b.prototype.q0=function(a,b){var f;f=""+this.message;this.xd.forEach(function(c){f+=c.bC(a,b);});return(this.timestamp.ca(h.ha)/1E3).toFixed(3)+"|"+this.index+"|"+(this.XSa[this.level]||this.level)+"|"+this.Nl+"| "+f;};c.pma=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.oka="DebouncerFactorySymbol";},function(d,c,a){var h,n;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(474);a=a(1);b.prototype.create=function(){return new h.Jk();};n=b;n=d.__decorate([a.N()],n);c.TQa=n;c.CQ="EventSourceFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.CQ="EventSourceFactorySymbol";},function(d,c,a){var h,n,p;function b(){}Object.defineProperty(c,"__esModule",{value:!0});h=a(5);n=a(17);p=a(11);b.prototype.Tp=function(){return this.vmb()?p.iQa:/widevine/i.test(this.config().Wd)?p.Eka:/fps/i.test(this.config().Wd)?"fairplay":p.M1;};b.prototype.vmb=function(){return/clearkey/i.test(this.config().Wd);};pa.Object.defineProperties(b.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.J||(this.J=h.$.get(n.md));return this.J;}}});c.Nma=new b();},function(d,c,a){var h,n,p,f;function b(a,b,f,c,d,h,g){this.debug=a;this.config=b;this.platform=f;this.EDa=c;this.debug.assert(d&&d!=n.K.Nk,"There should always be a specific error code");this.errorCode=d||n.K.Nk;h&&p.uf(h)?(this.da=h.da||h.Xc,this.Td=h.Td||h.dh,this.U9=h.U9||h.$E,this.lb=h.lb||h.UE,this.hA=h.T9,this.fF=h.fF||h.dEa||h.Mr,this.MV=h.MV||h.data,h.nN&&(this.nN=h.nN),this.Oi=h.Oi,this.method=h.method,this.VY=h.VY,this.alert=h.alert,this.L6=h.L6,this.debug.assert(!this.Oi||this.Oi==this.Td)):(this.da=h,this.Td=g);this.stack=[this.errorCode];this.da?this.stack.push(this.da):this.Td&&this.stack.push(n.G.Nk);this.Td&&this.stack.push(this.Td);this.rV=this.platform.pA+this.stack.join("-");}Object.defineProperty(c,"__esModule",{value:!0});h=a(11);n=a(2);p=a(20);f=a(15);a(19);b.prototype.toString=function(){var a;a="[PlayerError #"+this.rV+"]";this.lb&&(a+=" "+this.lb);this.hA&&(a+=" (CustomMessage: "+this.hA+")");return a;};b.prototype.mia=function(){var a,b;this.hA&&(a=["streaming_error"]);a||this.EDa.Tp()!==h.M1||("80080017"==this.Td&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.Td&&(a=["pause_timeout"]));a||this.EDa.Tp()!==h.Eka||this.errorCode!==n.K.Jka&&this.errorCode!==n.K.N1||(a=["no_cdm","platform_error","plugin_error"]);this.cnb()&&(a=["received_soad"]);b=this.ohb();b&&(a=[b],this.hA=void 0);if(!a)switch(this.errorCode){case n.K.qR:case n.K.aR:case n.K.dMa:case n.K.yna:a=["pause_timeout"];break;case n.K.Tla:case n.K.Ula:a=this.da?["platform_error"]:["multiple_tabs"];break;case n.K.aTa:case n.K.sYa:case n.K.vSa:case n.K.uSa:case n.K.xSa:a=["should_signout_and_signin"];break;case n.K.x2:case n.K.Bna:case n.K.Ana:case n.K.i3:case n.K.LVa:a=["platform_error","plugin_error"];break;case n.K.VVa:a=["no_cdm","platform_error","plugin_error"];break;case n.K.g3:a=this.da?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case n.K.BQ:case n.K.rR:case n.K.Cna:switch(this.Td){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case n.K.zna:case n.K.f3:a=["unsupported_output"];}!a&&n.RQa(this.da)&&(a=this.da==n.G.pI?["geo"]:["internet_connection_problem"]);a||this.errorCode!==n.K.N1||this.da!==n.G.xh||"S"!==this.platform.pA||(a=["private_mode"]);if(!a)switch(this.AJa(this.da)){case n.G.Y3:a=["should_upgrade"];break;case n.G.tna:a=["should_reset_device"];break;case n.G.sna:a=["should_reload_device"];break;case n.G.rna:a=["should_exit_device"];break;case n.G.QUa:case n.G.Cma:a=["should_signout_and_signin"];break;case n.G.RUa:a=["internet_connection_problem"];break;case n.G.Fna:case n.G.Dna:case n.G.Gna:case n.G.Ena:case n.G.eka:a=["platform_error","plugin_error"];break;case n.G.C1:case n.G.yla:case n.G.zla:a=["private_mode"];}a=a||[];a.push(this.platform.pA+this.errorCode);if(this.da)switch(this.AJa(this.da)){case n.G.una:a.push("incorrect_pin");break;default:a.push(""+this.da);}a={display:{code:this.rV,text:this.hA},messageIdList:a,alert:this.alert,alertTag:this.L6};if(this.fF||this.dEa)a.mslErrorCode=this.fF||this.dEa||this.Mr;return a;};b.prototype.AJa=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};b.prototype.cnb=function(){var a;a=f.ma(this.Td)?this.Td.toString():f.ee(this.Td)?this.Td:"";return this.fF===n.P2.U3&&(a.endsWith("2018")||a.endsWith("2020"));};b.prototype.ohb=function(){if(this.errorCode===n.K.Oy&&(this.da===n.G.b3||this.da===n.G.qna))return this.phb(this.da===n.G.b3);};b.prototype.phb=function(a){var b,f,c;b=(this.config().browserInfo||{}).os||{};f=b.name;c=(b.version||"").split(".");b=parseInt(c&&c[0]);c=parseInt(c&&c[1]);switch(f){case"Windows":return 6>b||6===b&&1>c?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"Mac OS X":return 10>b||10===b&&10>c?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};c.eXa=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Dpa="UrlFactorySymbol";},function(d,c,a){var h;function b(a){this.w1a=void 0===a?!1:a;this.Od={0:[]};}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);a=a(1);b.prototype.add=function(a,b){var f;b=void 0===b?0:b;f=this.Od[b];f?this.w1a&&-1!==f.indexOf(a)||f.push(a):this.Od[b]=[a];};b.prototype.remove=function(a,b){this.ht(a,void 0===b?0:b);};b.prototype.removeAll=function(a){this.ht(a);};b.prototype.gx=function(){var a;a=this;return Object.keys(this.Od).sort().reduce(function(b,f){return b.concat(a.Od[f]);},[]);};b.prototype.ht=function(a,b){var f;f=this;Object.keys(this.Od).forEach(function(c){var d;if(void 0===b||b===parseInt(c)){c=f.Od[c];-1<(d=c.indexOf(a))&&c.splice(d,1);}});};h=b;h=d.__decorate([a.N()],h);c.xoa=h;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.zKb=function(){};c.Yma="MseConfigSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.ska="DecoderTimeoutPathologistSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.bka="CsvEncoderSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.fpa="StringUtilsSymbol";},function(d,c,a){(function(b){var T,ma,O,oa,ta,wa;function d(a,b){var f;f={Hga:[],Nj:p};3<=arguments.length&&(f.depth=arguments[2]);4<=arguments.length&&(f.EE=arguments[3]);z(b)?f.oha=b:b&&c.K0a(f,b);N(f.oha)&&(f.oha=!1);N(f.depth)&&(f.depth=2);N(f.EE)&&(f.EE=!1);N(f.Vva)&&(f.Vva=!0);f.EE&&(f.Nj=n);return k(f,a,f.depth);}function n(a,b){return(b=d.FBb[b])?"\u001b["+d.EE[b][0]+"m"+a+"\u001b["+d.EE[b][1]+"m":a;}function p(a){return a;}function f(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function k(a,b,d){var h,p,n,g,z;if(a.Vva&&b&&A(b.LM)&&b.LM!==c.LM&&(!b.constructor||b.constructor.prototype!==b)){h=b.LM(d,a);l(h)||(h=k(a,h,d));return h;}if(h=m(a,b))return h;p=Object.keys(b);n=f(p);a.oha&&(p=Object.getOwnPropertyNames(b));if(S(b)&&(0<=p.indexOf("message")||0<=p.indexOf("description")))return t(b);if(0===p.length){if(A(b))return a.Nj("[Function"+(b.name?": "+b.name:"")+"]","special");if(q(b))return a.Nj(RegExp.prototype.toString.call(b),"regexp");if(Y(b))return a.Nj(Date.prototype.toString.call(b),"date");if(S(b))return t(b);}h="";g=!1;z=["{","}"];D(b)&&(g=!0,z=["[","]"]);A(b)&&(h=" [Function"+(b.name?": "+b.name:"")+"]");q(b)&&(h=" "+RegExp.prototype.toString.call(b));Y(b)&&(h=" "+Date.prototype.toUTCString.call(b));S(b)&&(h=" "+t(b));if(0===p.length&&(!g||0==b.length))return z[0]+h+z[1];if(0>d)return q(b)?a.Nj(RegExp.prototype.toString.call(b),"regexp"):a.Nj("[Object]","special");a.Hga.push(b);p=g?u(a,b,d,n,p):p.map(function(f){return y(a,b,d,n,f,g);});a.Hga.pop();return E(p,h,z);}function m(a,b){if(N(b))return a.Nj("undefined","undefined");if(l(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.Nj(b,"string");if(G(b))return a.Nj(""+b,"number");if(z(b))return a.Nj(""+b,"boolean");if(null===b)return a.Nj("null","null");}function t(a){return"["+Error.prototype.toString.call(a)+"]";}function u(a,b,f,c,d){for(var k=[],h=0,m=b.length;h<m;++h)Object.prototype.hasOwnProperty.call(b,String(h))?k.push(y(a,b,f,c,String(h),!0)):k.push("");d.forEach(function(d){d.match(/^\d+$/)||k.push(y(a,b,f,c,d,!0));});return k;}function y(a,b,f,c,d,h){var m,t;b=Object.getOwnPropertyDescriptor(b,d)||{value:b[d]};b.get?t=b.set?a.Nj("[Getter/Setter]","special"):a.Nj("[Getter]","special"):b.set&&(t=a.Nj("[Setter]","special"));Object.prototype.hasOwnProperty.call(c,d)||(m="["+d+"]");t||(0>a.Hga.indexOf(b.value)?(t=null===f?k(a,b.value,null):k(a,b.value,f-1),-1<t.indexOf("\n")&&(t=h?t.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+t.split("\n").map(function(a){return"   "+a;}).join("\n"))):t=a.Nj("[Circular]","special"));if(N(m)){if(h&&d.match(/^\d+$/))return t;m=JSON.stringify(""+d);m.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(m=m.substr(1,m.length-2),m=a.Nj(m,"name")):(m=m.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),m=a.Nj(m,"string"));}return m+": "+t;}function E(a,b,f){var c;c=0;return 60<a.reduce(function(a,b){c++;0<=b.indexOf("\n")&&c++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?f[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+f[1]:f[0]+b+" "+a.join(", ")+" "+f[1];}function D(a){return Array.isArray(a);}function z(a){return"boolean"===typeof a;}function G(a){return"number"===typeof a;}function l(a){return"string"===typeof a;}function N(a){return void 0===a;}function q(a){return W(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function W(a){return"object"===typeof a&&null!==a;}function Y(a){return W(a)&&"[object Date]"===Object.prototype.toString.call(a);}function S(a){return W(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function A(a){return"function"===typeof a;}function r(a){return 10>a?"0"+a.toString(10):a.toString(10);}function U(){var a,b;a=new Date();b=[r(a.getHours()),r(a.getMinutes()),r(a.getSeconds())].join(":");return[a.getDate(),ta[a.getMonth()],b].join(" ");}function ia(a,b){var f;if(!a){f=Error("Promise was rejected with a falsy value");f.reason=a;a=f;}return b(a);}T=Object.MRb||function(a){for(var b=Object.keys(a),f={},c=0;c<b.length;c++)f[b[c]]=Object.getOwnPropertyDescriptor(a,b[c]);return f;};ma=/%[sdj%]/g;c.format=function(a){if(!l(a)){for(var b=[],f=0;f<arguments.length;f++)b.push(d(arguments[f]));return b.join(" ");}for(var f=1,c=arguments,k=c.length,b=String(a).replace(ma,function(a){if("%%"===a)return"%";if(f>=k)return a;switch(a){case"%s":return String(c[f++]);case"%d":return Number(c[f++]);case"%j":try{return JSON.stringify(c[f++]);}catch(Qa){return"[Circular]";}default:return a;}}),h=c[f];f<k;h=c[++f])b=null!==h&&W(h)?b+(" "+d(h)):b+(" "+h);return b;};c.Ncb=function(a,f){var d;if("undefined"!==typeof b&&!0===b.YTb)return a;if("undefined"===typeof b)return function(){return c.Ncb(a,f).apply(this,arguments);};d=!1;return function(){if(!d){if(b.PVb)throw Error(f);b.SVb?console.trace(f):console.error(f);d=!0;}return a.apply(this,arguments);};};O={};c.pQb=function(a){var f;N(oa)&&(oa=b.Teb.TKb||"");a=a.toUpperCase();if(!O[a])if(new RegExp("\\b"+a+"\\b","i").test(oa)){f=b.yUb;O[a]=function(){var b;b=c.format.apply(c,arguments);console.error("%s %d: %s",a,f,b);};}else O[a]=function(){};return O[a];};c.LM=d;d.EE={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};d.FBb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};c.isArray=D;c.umb=z;c.Oa=function(a){return null===a;};c.GSb=function(a){return null==a;};c.ma=G;c.ee=l;c.KSb=function(a){return"symbol"===typeof a;};c.U=N;c.UBa=q;c.uf=W;c.NM=Y;c.MX=S;c.Tb=A;c.RBa=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};c.isBuffer=a(981);ta="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");c.log=function(){console.log("%s - %s",U(),c.format.apply(c,arguments));};c.Ylb=a(980);c.K0a=function(a,b){if(b&&W(b))for(var f=Object.keys(b),c=f.length;c--;)a[f[c]]=b[f[c]];};g();g();wa="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;c.Bvb=function(a){function b(){for(var b,f,c=new Promise(function(a,c){b=a;f=c;}),d=[],k=0;k<arguments.length;k++)d.push(arguments[k]);d.push(function(a,c){a?f(a):b(c);});try{a.apply(this,d);}catch(Qa){f(Qa);}return c;}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');if(wa&&a[wa]){b=a[wa];if("function"!==typeof b)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(b,wa,{value:b,enumerable:!1,writable:!1,configurable:!0});return b;}Object.setPrototypeOf(b,Object.getPrototypeOf(a));wa&&Object.defineProperty(b,wa,{value:b,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(b,T(a));};c.Bvb.ZPb=wa;c.xPb=function(a){function f(){var k,h;function f(){return k.apply(h,arguments);}for(var c=[],d=0;d<arguments.length;d++)c.push(arguments[d]);k=c.pop();if("function"!==typeof k)throw new TypeError("The last argument must be of type Function");h=this;a.apply(this,c).then(function(a){b.pEa(f,null,a);},function(a){b.pEa(ia,a,f);});}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(f,Object.getPrototypeOf(a));Object.defineProperties(f,T(a));return f;};}.call(this,a(256)));},function(d,c,a){var h,n;function b(){this.jn={};this.id="$es$"+h.iL++;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);a=a(1);b.prototype.addListener=function(a,b,c){var f,d;f="$netflix$player$order"+this.id+"$"+a;if(this.jn){d=this.jn[a]?this.jn[a].slice():[];c&&(b[f]=c);0>d.indexOf(b)&&(d.push(b),d.sort(function(a,b){return(a[f]||0)-(b[f]||0);}));this.jn[a]=d;}};b.prototype.removeListener=function(a,b){if(this.jn&&this.jn[a]){for(var f=this.jn[a].slice(),c;0<=(c=f.indexOf(b));)f.splice(c,1);this.jn[a]=f;}};b.prototype.Sb=function(a,b,c){var f;if(this.jn){f=this.jaa(a);for(a={Bj:0};a.Bj<f.length;a={Bj:a.Bj},a.Bj++)c?function(a){return function(){var c;c=f[a.Bj];setTimeout(function(){c(b);},0);};}(a)():f[a.Bj].call(this,b);}};b.prototype.rg=function(){this.jn=void 0;};b.prototype.on=function(a,b,c){this.addListener(a,b,c);};b.prototype.jaa=function(a){return this.jn&&(this.jn[a]||(this.jn[a]=[]));};n=h=b;n.iL=0;n=h=d.__decorate([a.N()],n);c.Jk=n;},function(d,c,a){var h,n,p,f;function b(a,b){this.is=a;this.ei=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);a(2);n=a(23);p=a(105);f=a(10);b.prototype.aB=function(a,b,f){var c,d,k,h;c=this;if(b)if(f){d=f.XF;k=f.prefix;h=f.Ou;this.$w(b,function(b,f){if(!h||c.is.Qd(f))a[(k||"")+(d?b.toLowerCase():b)]=f;});}else this.$w(b,function(b,f){a[b]=f;});return a;};b.prototype.$w=function(a,b){for(var f in a)a.hasOwnProperty(f)&&b(f,a[f]);};b.prototype.Lw=function(a,b){if(a.length==b.length){for(var f=a.length;f--;)if(a[f]!=b[f])return!1;return!0;}return!1;};b.prototype.o$a=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var f=a.length;f--;)if(a[f]!==b[f])return!1;return!0;};b.prototype.We=function(a){var b,f,c;if(a){b=a.stack;f=a.number;c=a.message;c||(c=""+a);b?(a=""+b,0!==a.indexOf(c)&&(a=c+"\n"+a)):a=c;f&&(a+="\nnumber:"+f);return a;}};b.prototype.Wwa=function(a,b){var f,c;a=a.target.keyStatuses.entries();for(f=a.next();!f.done;)c=f.value[0],f=f.value[1],b&&b(c,f),f=a.next();};b.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};b.prototype.Nya=function(a){return this.getFunctionName(a.constructor);};b.prototype.PEa=function(a){var b,f;b=this;f="";this.is.At(a)||this.is.vta(a)?f=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.Um(a)?f=a:this.$w(a,function(a,c){f+=(f?", ":"")+"{"+a+": "+(b.is.UT(c)?b.getFunctionName(c)||"function":c)+"}";});return"["+this.Nya(a)+" "+f+"]";};b.prototype.createElement=function(a,b,c,d){var k;k=f.ne.createElement(a);b&&(k.style.cssText=b);c&&(k.innerHTML=c);d&&this.$w(d,function(a,b){k.setAttribute(a,b);});return k;};b.prototype.Afb=function(a,b){return function(f){return f[a]===b;};};b.prototype.tZ=function(a){var b;b={};(a||"").split("&").forEach(function(a){var f;a=a.trim();f=a.indexOf("=");0<=f?b[decodeURIComponent(a.substr(0,f)).toLowerCase()]=decodeURIComponent(a.substr(f+1)):b[a.toLowerCase()]=void 0;});return b;};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(n.Oe)),d.__param(1,h.l(p.Dy))],a);c.Fpa=a;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.mna="OneWayCounterFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Tja="ClockConfigSymbol";},function(d,c){var a;Object.defineProperty(c,"__esModule",{value:!0});(function(a){a[a.xCa=0]="licenseStarted";a[a.SGa=1]="receivedLicenseChallenge";a[a.RGa=2]="receivedLicense";a[a.TGa=3]="receivedRenewalChallengeComplete";a[a.UGa=4]="receivedRenewalLicenseComplete";a[a.VGa=5]="receivedRenewalLicenseFailed";a[a.lwb=6]="receivedIndivChallengeComplete";a[a.mwb=7]="receivedIndivLicenseComplete";a[a.Xsa=8]="addLicenseComplete";a[a.$sa=9]="addRenewalLicenseComplete";a[a.ata=10]="addRenewalLicenseFailed";}(a=c.Dq||(c.Dq={})));c.Mdb=function(b){switch(b){case a.xCa:return"lg";case a.SGa:return"lc";case a.RGa:return"lr";case a.TGa:return"renew_lc";case a.UGa:return"renew_lr";case a.VGa:return"renew_lr_failed";case a.lwb:return"ilc";case a.mwb:return"ilr";case a.Xsa:return"ld";case a.$sa:return"renew_ld";case a.ata:return"renew_ld_failed";default:return"unknown";}};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.a_a="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";c.ala="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Uka="EmeSessionFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Cka="DrmProviderSymbol";},function(d,c,a){var b;b=a(90);c.OBa=function(a){return!b.isArray(a)&&0<=a-parseFloat(a)+1;};},function(d,c,a){var b,h,n,p,f,k;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};h=a(488);n=a(90);d=a(69);p=a(68);c.iB=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&n.isArray(a[0])&&(a=a[0]);return function(b){return b.wg(new f(a));};};c.wsb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&n.isArray(a[0])&&(a=a[0]);b=a.shift();return new h.gla(b,null).wg(new f(a));};f=function(){function a(a){this.lea=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.lea));};return a;}();k=function(a){function f(b,f){a.call(this,b);this.destination=b;this.lea=f;}b(f,a);f.prototype.sea=function(){this.j0();};f.prototype.im=function(){this.j0();};f.prototype.Md=function(){this.j0();};f.prototype.kc=function(){this.j0();};f.prototype.j0=function(){var a;a=this.lea.shift();a?this.add(p.as(this,a)):this.destination.complete();};return f;}(d.Iq);},function(d,c){c.NM=function(a){return a instanceof Date&&!isNaN(+a);};},function(d,c,a){var b,h,n,p;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};h=a(68);d=a(69);c.fG=function(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);return function(f){"number"===typeof b&&(c=b,b=null);return f.wg(new n(a,b,c));};};n=function(){function a(a,b,f){void 0===f&&(f=Number.POSITIVE_INFINITY);this.oh=a;this.ol=b;this.l8=f;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.oh,this.ol,this.l8));};return a;}();c.xKb=n;p=function(a){function f(b,f,c,d){void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b);this.oh=f;this.ol=c;this.l8=d;this.EF=!1;this.buffer=[];this.index=this.active=0;}b(f,a);f.prototype.Ah=function(a){this.active<this.l8?this.v4a(a):this.buffer.push(a);};f.prototype.v4a=function(a){var b,f;f=this.index++;try{b=this.oh(a,f);}catch(y){this.destination.error(y);return;}this.active++;this.X4(b,a,f);};f.prototype.X4=function(a,b,f){this.add(h.as(this,a,b,f));};f.prototype.kc=function(){this.EF=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};f.prototype.Sx=function(a,b,f,c){this.ol?this.t2a(a,b,f,c):this.destination.next(b);};f.prototype.t2a=function(a,b,f,c){var d;try{d=this.ol(a,b,f,c);}catch(D){this.destination.error(D);return;}this.destination.next(d);};f.prototype.im=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.Ah(b.shift()):0===this.active&&this.EF&&this.destination.complete();};return f;}(d.Iq);c.yKb=p;},function(d,c,a){var b;b=a(260);c.cL=function(){return b.Nx(1);};},function(d,c,a){var n,p;function b(a){var b;b=a.value;a=a.gg;a.closed||(a.next(b),a.complete());}function h(a){var b;b=a.oA;a=a.gg;a.closed||a.error(b);}n=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};p=a(82);d=function(a){function f(b,f){a.call(this);this.Qr=b;this.la=f;}n(f,a);f.create=function(a,b){return new f(a,b);};f.prototype.Hg=function(a){var f,c,d;f=this;c=this.Qr;d=this.la;if(null==d)this.Ys?a.closed||(a.next(this.value),a.complete()):c.then(function(b){f.value=b;f.Ys=!0;a.closed||(a.next(b),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){p.root.setTimeout(function(){throw a;});});else if(this.Ys){if(!a.closed)return d.Eb(b,0,{value:this.value,gg:a});}else c.then(function(c){f.value=c;f.Ys=!0;a.closed||a.add(d.Eb(b,0,{value:c,gg:a}));},function(b){a.closed||a.add(d.Eb(h,0,{oA:b,gg:a}));}).then(null,function(a){p.root.setTimeout(function(){throw a;});});};return f;}(a(9).Ba);c.zoa=d;},function(d,c,a){var b,h,n,p,f,k,m,t,u,g,E,D;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};h=a(90);n=a(492);p=a(491);f=a(487);k=a(1084);m=a(89);t=a(1083);u=a(182);g=a(9);E=a(497);D=a(265);d=function(a){function c(b,f){a.call(this,null);this.nnb=b;this.la=f;}b(c,a);c.create=function(a,b){if(null!=a){if("function"===typeof a[D.observable])return a instanceof g.Ba&&!b?a:new c(a,b);if(h.isArray(a))return new m.uv(a,b);if(p.SBa(a))return new f.zoa(a,b);if("function"===typeof a[u.iterator]||"string"===typeof a)return new k.USa(a,b);if(n.zBa(a))return new t.zMa(a,b);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};c.prototype.Hg=function(a){var b,f;b=this.nnb;f=this.la;return null==f?b[D.observable]().subscribe(a):b[D.observable]().subscribe(new E.lna(a,f,0));};return c;}(g.Ba);c.gla=d;},function(d,c,a){d=a(488);c.from=d.gla.create;},function(d,c,a){d=a(89);c.of=d.uv.of;},function(d,c){c.SBa=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(d,c){c.zBa=function(a){return a&&"number"===typeof a.length;};},function(d,c){c.Hta=function(a,b){var t;for(var c=0,d=b.length;c<d;c++)for(var p=b[c],f=Object.getOwnPropertyNames(p.prototype),k=0,m=f.length;k<m;k++){t=f[k];a.prototype[t]=p.prototype[t];}};},function(d,c){c.ZI=function(){return function(a){this.LBb=a;};}();},function(d,c,a){var b;b=a(494);d=function(){function a(){this.wq=[];}a.prototype.NCa=function(){this.wq.push(new b.ZI(this.la.now()));return this.wq.length-1;};a.prototype.OCa=function(a){var c;c=this.wq;c[a]=new b.ZI(c[a].LBb,this.la.now());};return a;}();c.hpa=d;},function(d,c,a){var b,h,n,p,f,k,m;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};d=a(183);h=a(9);n=a(49);p=a(70);f=a(1096);a=function(a){function c(b,f){a.call(this);this.source=b;this.i0=f;this.ow=0;this.Sq=!1;}b(c,a);c.prototype.Hg=function(a){return this.SW().subscribe(a);};c.prototype.SW=function(){var a;a=this.GT;if(!a||a.Nf)this.GT=this.i0();return this.GT;};c.prototype.connect=function(){var a;a=this.Xv;a||(this.Sq=!1,a=this.Xv=new p.zl(),a.add(this.source.subscribe(new k(this.SW(),this))),a.closed?(this.Xv=null,a=p.zl.EMPTY):this.Xv=a);return a;};c.prototype.a_=function(){return f.a_()(this);};return c;}(h.Ba);c.Uja=a;a=a.prototype;c.g$a={jB:{value:null},ow:{value:0,writable:!0},GT:{value:null,writable:!0},Xv:{value:null,writable:!0},Hg:{value:a.Hg},Sq:{value:a.Sq,writable:!0},SW:{value:a.SW},connect:{value:a.connect},a_:{value:a.a_}};k=function(a){function f(b,f){a.call(this,b);this.$m=f;}b(f,a);f.prototype.Md=function(b){this.tt();a.prototype.Md.call(this,b);};f.prototype.kc=function(){this.$m.Sq=!0;this.tt();a.prototype.kc.call(this);};f.prototype.tt=function(){var a,b;a=this.$m;if(a){this.$m=null;b=a.Xv;a.ow=0;a.GT=null;a.Xv=null;b&&b.unsubscribe();}};return f;}(d.XYa);(function(){function a(a){this.$m=a;}a.prototype.call=function(a,b){var f;f=this.$m;f.ow++;a=new m(a,f);b=b.subscribe(a);a.closed||(a.Ip=f.connect());return b;};return a;}());m=function(a){function f(b,f){a.call(this,b);this.$m=f;}b(f,a);f.prototype.tt=function(){var a,b;a=this.$m;if(a){this.$m=null;b=a.ow;0>=b?this.Ip=null:(a.ow=b-1,1<b?this.Ip=null:(b=this.Ip,a=a.Xv,this.Ip=null,!a||b&&a!==b||a.unsubscribe()));}else this.Ip=null;};return f;}(n.gj);},function(d,c,a){var b,h,n,p,f;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};d=a(49);h=a(262);c.dUb=function(a,b){void 0===b&&(b=0);return function(f){return f.wg(new n(a,b));};};n=function(){function a(a,b){void 0===b&&(b=0);this.la=a;this.Rd=b;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.la,this.Rd));};return a;}();c.xLb=n;p=function(a){function c(b,f,c){void 0===c&&(c=0);a.call(this,b);this.la=f;this.Rd=c;}b(c,a);c.Pb=function(a){a.notification.observe(a.destination);this.unsubscribe();};c.prototype.xga=function(a){this.add(this.la.Eb(c.Pb,this.Rd,new f(a,this.destination)));};c.prototype.Ah=function(a){this.xga(h.Notification.A8(a));};c.prototype.Md=function(a){this.xga(h.Notification.Hva(a));};c.prototype.kc=function(){this.xga(h.Notification.w8());};return c;}(d.gj);c.lna=p;f=function(){return function(a,b){this.notification=a;this.destination=b;};}();c.wLb=f;},function(d,c,a){var b,h,n,p,f,k,m;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};d=a(183);h=a(1101);n=a(70);p=a(497);f=a(500);k=a(499);a=function(a){function c(b,f,c){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===f&&(f=Number.POSITIVE_INFINITY);a.call(this);this.la=c;this.mg=[];this.J_a=1>b?1:b;this.N4a=1>f?1:f;}b(c,a);c.prototype.next=function(b){var f;f=this.Yqa();this.mg.push(new m(f,b));this.Dsa();a.prototype.next.call(this,b);};c.prototype.Hg=function(a){var b,c,d;b=this.Dsa();c=this.la;if(this.closed)throw new f.SC();this.wM?d=n.zl.EMPTY:this.Nf?d=n.zl.EMPTY:(this.Mu.push(a),d=new k.gpa(this,a));c&&a.add(a=new p.lna(a,c));for(var c=b.length,h=0;h<c&&!a.closed;h++)a.next(b[h].value);this.wM?a.error(this.eia):this.Nf&&a.complete();return d;};c.prototype.Yqa=function(){return(this.la||h.Lh).now();};c.prototype.Dsa=function(){for(var a=this.Yqa(),b=this.J_a,f=this.N4a,c=this.mg,d=c.length,k=0;k<d&&!(a-c[k].time<f);)k++;d>b&&(k=Math.max(k,d-b));0<k&&c.splice(0,k);return c;};return c;}(d.Xj);c.ER=a;m=function(){return function(a,b){this.time=a;this.value=b;};}();},function(d,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function c(b,f){a.call(this);this.dP=b;this.gg=f;this.closed=!1;}b(c,a);c.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.dP;b=a.Mu;this.dP=null;!b||0===b.length||a.Nf||a.closed||(a=b.indexOf(this.gg),-1!==a&&b.splice(a,1));}};return c;}(a(70).zl);c.gpa=d;},function(d,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};d=function(b){function c(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.SC=d;},function(d,c){c.ax={e:{}};},function(d,c){c.Tb=function(a){return"function"===typeof a;};},function(d,c){c.uf=function(a){return null!=a&&"object"===typeof a;};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.cna="NetworkMonitorConfigSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.A3="QueryStringDataProviderSymbol";},function(d,c,a){var h,n;function b(a,b,c,d,h){this.version=a;this.CG=b;this.wJa=c;this.Mj=d;this.hs=h;this.er=[];}Object.defineProperty(c,"__esModule",{value:!0});h=a(2);n=a(45);b.prototype.load=function(a){return this.oob(a);};b.prototype.add=function(a){this.er.push(a);return this.Sea();};b.prototype.remove=function(a,b){a=this.Hya(this.Sp(a,b));return 0<=a?(this.er.splice(a,1),this.Sea()):Promise.resolve();};b.prototype.update=function(a,b){b=this.Hya(this.Sp(a,b));return 0<=b?(this.er[b]=a,this.Sea()):Promise.resolve();};b.prototype.oob=function(a){var b;b=this;this.DCa||(this.DCa=new Promise(function(f,c){function d(a){b.Jcb().then(function(){c(a);})["catch"](function(){c(a);});}b.Raa().then(function(a){b.storage=a;return b.storage.load(b.CG);}).then(function(c){var k;c=c.value;try{k=a(c);b.version=k.version;b.er=k.data;f();}catch(E){d(E);}})["catch"](function(a){a.da!==h.G.Rv?c(a):f();});}));return this.DCa;};b.prototype.Sea=function(){var a,b,c,d,h;a=this;if(!this.wJa)return Promise.resolve();if(this.c0){d=new Promise(function(a,f){b=a;c=f;});h=function(){a.c0=d;a.vJa().then(function(){b();})["catch"](function(a){c(a);});};this.c0.then(h)["catch"](h);return d;}return this.c0=this.vJa();};b.prototype.vJa=function(){var a,f;a=this;f=this.hs();return new Promise(function(c,d){a.Raa().then(function(b){return b.save(a.CG,f,!1);}).then(function(){c();})["catch"](function(a){d(b.JCb(h.K.IVa,a));});});};b.prototype.Jcb=function(){var a;a=this;return this.wJa?new Promise(function(b,c){a.Raa().then(function(b){return b.remove(a.CG);}).then(function(){b();})["catch"](function(a){c(a);});}):Promise.resolve();};b.prototype.Raa=function(){return this.storage?Promise.resolve(this.storage):this.Mj.create();};b.prototype.Sp=function(a,b){for(var f=0;f<this.er.length;++f)if(b(this.er[f],a))return this.er[f];};b.prototype.Hya=function(a){return a?this.er.indexOf(a):-1;};b.JCb=function(a,b){var f;if(b.da&&b.cause)return new n.Ic(a,b.da,void 0,void 0,void 0,void 0,void 0,b.cause);if(void 0!==b.Xc){f=(b.message?b.message+" ":"")+"";b.code=a;b.message=""===f?void 0:f;return b;}return b instanceof Error?new n.Ic(a,h.G.xh,void 0,void 0,void 0,void 0,b.stack,b):new n.Ic(a,h.G.Nk,void 0,void 0,void 0,void 0,void 0,b);};c.Vla=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Bka="DrmDataFactorySymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.aoa="PlatformConfigOverridesSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Epa="UserAgentUtilities";},function(d,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});c.dQ=a;a.lWa="PSK";a.KTa="MGK";a.kKb="MGK_WITH_FALLBACK";a.jKb="MGK_JWE";a.UJb="JWEJS_RSA";a.cma="JWK_RSA";a.VJb="JWK_RSAES";},function(d,c,a){var n;function b(a,b){this.df=b;this.Eu=Math.floor(a);this.display=this.Eu+" "+this.df.name;}function h(a,b,c){this.df=a;this.name=b;this.Xm=c?c:this;n.xn(this,"base");}Object.defineProperty(c,"__esModule",{value:!0});n=a(55);h.prototype.QL=function(a){return this.df==a.df;};h.prototype.toJSON=function(){return this.name;};c.RR=h;b.prototype.ca=function(a){return this.df.QL(a)?this.Eu:Math.floor(this.Eu*this.df.df/a.df);};b.prototype.HZ=function(a){return this.df.QL(a)?this.Eu:this.Eu*this.df.df/a.df;};b.prototype.to=function(a){return new b(this.ca(a),a);};b.prototype.toString=function(){return this.display;};b.prototype.toJSON=function(){return{magnitude:this.Eu,units:this.df.name};};b.prototype.add=function(a){return this.jva(a);};b.prototype.Ac=function(a){return this.jva(a,function(a){return-a;});};b.prototype.scale=function(a){return new b(this.ca(this.df.Xm)*a,this.df.Xm);};b.prototype.Pl=function(a){return this.ca(this.df.Xm)-a.ca(this.df.Xm);};b.prototype.QL=function(a){return 0==this.Pl(a);};b.prototype.cCa=function(){return 0==this.Eu;};b.prototype.MBa=function(){return 0>this.Eu;};b.prototype.Smb=function(){return 0<this.Eu;};b.prototype.jva=function(a,f){f=void 0===f?function(a){return a;}:f;return new b(this.ca(this.df.Xm)+f(a.ca(this.df.Xm)),this.df.Xm);};c.Hq=b;},function(d,c,a){var n;function b(a){return function(b){function f(f){return null!==f&&null!==f.target&&f.target.vda(a)(b);}f.IDa=new n.Metadata(a,b);return f;};}function h(a,b){a=a.Qu;return null!==a?b(a)?!0:h(a,b):!1;}Object.defineProperty(c,"__esModule",{value:!0});d=a(37);n=a(64);c.wKa=h;c.LJa=b;c.iEa=b(d.Mv);c.CKa=function(a){return function(b){var f;return null!==b?(f=b.KK[0],"string"===typeof a?f.bf===a:a===b.KK[0].qk):!1;};};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(274);h=a(273);d=function(){function a(a){this.Kb=a;this.mJ=new h.o1(this.Kb);this.l4=new b.gQ(this.Kb);}a.prototype.when=function(a){return this.mJ.when(a);};a.prototype.SP=function(){return this.mJ.SP();};a.prototype.Nr=function(a){return this.l4.Nr(a);};return a;}();c.Ey=d;},function(d,c,a){var b,h,n,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(37);h=a(107);n=a(64);p=a(1141);d=function(){function a(a,f,c,d){this.id=h.id();this.type=a;this.bf=c;this.name=new p.CXa(f||"");this.zd=[];a=null;"string"===typeof d?a=new n.Metadata(b.Mv,d):d instanceof n.Metadata&&(a=d);null!==a&&this.zd.push(a);}a.prototype.IAa=function(a){for(var b=0,f=this.zd;b<f.length;b++)if(f[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.IAa(b.Sy);};a.prototype.zpb=function(a){return this.vda(b.Sy)(a);};a.prototype.hca=function(){return this.IAa(b.Mv);};a.prototype.nca=function(){return this.zd.some(function(a){return a.key!==b.tI&&a.key!==b.Sy&&a.key!==b.iR&&a.key!==b.$I&&a.key!==b.Mv;});};a.prototype.PBa=function(){return this.vda(b.kna)(!0);};a.prototype.Wib=function(){return this.hca()?this.zd.filter(function(a){return a.key===b.Mv;})[0]:null;};a.prototype.Dhb=function(){return this.nca()?this.zd.filter(function(a){return a.key!==b.tI&&a.key!==b.Sy&&a.key!==b.iR&&a.key!==b.$I&&a.key!==b.Mv;}):null;};a.prototype.vda=function(a){var b;b=this;return function(f){var k;for(var c=0,d=b.zd;c<d.length;c++){k=d[c];if(k.key===a&&k.value===f)return!0;}return!1;};};return a;}();c.MR=d;},function(d,c,a){var b,h,n,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(56);h=a(37);n=a(64);p=a(95);d=function(){function a(a){this.V_a=a;}a.prototype.ADb=function(){return this.V_a();};return a;}();c.F2=d;c.l=function(a){return function(f,c,d){var k;if(void 0===a)throw Error(b.EZa(f.name));k=new n.Metadata(h.tI,a);"number"===typeof d?p.XB(f,c,d,k):p.mP(f,c,k);};};},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(56);c.XBa=function(a){return a instanceof RangeError||a.message===b.kYa;};},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(37);d=function(){function a(){}a.prototype.Mya=function(a){var c;c=Reflect.getMetadata(b.a3,a);a=Reflect.getMetadata(b.jpa,a);return{lva:c,FEb:a||{}};};a.prototype.ujb=function(a){return Reflect.getMetadata(b.kpa,a)||[];};return a;}();c.M2=d;},function(d,c,a){var b,h,n,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(94);h=a(1122);n=a(271);p=a(1116);f=a(1108);k=a(991);a=a(564);c.ed=new d.sQ({PB:!0});k.pob(c.ed);c.ed.load(h.platform);c.ed.load(p.config);n.HL.load(f.ceb);c.ed.load(a.h6a);c.ed.load(a.profile);c.ed.bind(b.Xla).Ph(c.ed);},function(d,c,a){var b;b=a(520);d.P=function(){return"function"===typeof Object.values?Object.values:b;};},function(d,c,a){var b,h,n;b=a(1157);h=a(1155);n=a(1151)("Object.prototype.propertyIsEnumerable");d.P=function(a){var f,c;a=h(a);f=[];for(c in a)b(a,c)&&n(a,c)&&f.push(a[c]);return f;};},function(d){var c;c=Object.prototype.toString;d.P=function(a){var b,d;b=c.call(a);d="[object Arguments]"===b;d||(d="[object Array]"!==b&&null!==a&&"object"===typeof a&&"number"===typeof a.length&&0<=a.length&&"[object Function]"===c.call(a.callee));return d;};},function(d,c,a){var h,n,p,f,k,m;function b(a,b){var c,d,u,g,l,q;c=2<arguments.length?arguments[2]:{};d=h(b);n&&(d=f.call(d,Object.getOwnPropertySymbols(b)));for(var t=0;t<d.length;t+=1){u=a;g=d[t];l=b[d[t]];q=c[d[t]];if(!(g in u)||"function"===typeof q&&"[object Function]"===p.call(q)&&q())m?k(u,g,{configurable:!0,enumerable:!1,value:l,writable:!0}):u[g]=l;}}h=a(1159);g();g();n="function"===typeof Symbol&&"symbol"===typeof Symbol("foo");p=Object.prototype.toString;f=Array.prototype.concat;k=Object.defineProperty;m=k&&function(){var a;a={};try{k(a,"x",{enumerable:!1,value:a});for(var b in a)return!1;return a.x===a;}catch(y){return!1;}}();b.HVb=!!m;d.P=b;},function(d,c,a){var b,h,n,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(126);h=a(11);d=a(2);n=a(5);p=a(119);f=a(53);a=a(24);n.$.get(a.Cf).register(d.K.Ila,function(a){var c,d;c=L._cad_global.videoPreparer;d=L._cad_global.playerPredictionModel;c&&L._cad_global.playerPredictionModel&&(k=n.$.get(p.uoa).create(d,c.Sub.bind(c)),L._cad_global.prefetchEvents=k,c.Dh.on("deletedCacheItem",function(a){k.TK(f.Yd.QI[a.type],parseInt(a.movieId,10),a.reason);}),b.Ll.addEventListener("cacheEvict",function(a){k.TK(p.He.Qj.mI,a.movieId,"ase_cacheEvict");k.TK(p.He.Qj.MEDIA,a.movieId,"ase_cacheEvict");}),b.Ll.addEventListener("flushedBytes",function(){b.Ll.VK().forEach(function(a){k.TK(p.He.Qj.MEDIA,a.u,"ase_flushedBytes");},this);}),c.ep.addEventListener(c.ep.events.npa,function(a){k.r8a(f.Yd.QI[a.type],a.u,a.reason);}),c.ep.addEventListener(c.ep.events.lpa,function(a){k.o8a(f.Yd.QI[a.type],a.u,a.reason);}),c.ep.addEventListener(c.ep.events.mpa,function(a){k.q8a(f.Yd.QI[a.type],a.u,a.reason);}),c.ep.addEventListener(c.ep.events.opa,function(a){k.t8a(f.Yd.QI[a.type],a.u,a.reason);}));a(h.pd);});},function(d,c,a){var n,p,f,k,m,t,u,g,E,D;function b(a,b){this.ti=a;this.fk=b;}function h(a){this.I=a;this.reset();}n=a(186);p=a(185);c=a(278);f=a(277).config;k=c.whb;m=c.dhb;t=c.Zcb;u=c.ksb;g=c.jsb;E=c.isb;D=c.Txa;h.prototype.constructor=h;h.prototype.reset=function(){this.Xra=void 0;this.Hi=[];this.Hra=this.Ira=!1;};h.prototype.update=function(a,b){var c;this.Hi&&(this.Hi=this.Hi.filter(this.tAb,this));if(!1===this.Ira){c=k(a.Aa).slice(0,f.Wva);0<c.length&&(this.bB(c,p.us.fj),this.Ira=!0,this.Hi=this.gC(c.concat(this.Hi)));}!1===this.Hra&&(c=m(a.Aa).slice(0,f.Wva),0<c.length&&(this.bB(c,p.us.fj),this.Hra=!0,this.Hi=this.gC(c.concat(this.Hi))));switch(b){case p.ps.bla:b=this.Jkb(a);break;case p.ps.Koa:b=this.Tkb(a);break;case p.ps.HR:b=this.Ukb(a);break;case p.ps.NI:b=this.Pkb(a);break;default:b=this.Gkb(a);}this.Xra=a;return b;};h.prototype.Jkb=function(a){a=u(a.Aa,f.KHa,f.gva);this.bB(a,p.us.fj);return this.Hi=this.gC(this.Hi.concat(a));};h.prototype.Tkb=function(a){var b,c;this.I.log("handleScrollHorizontal");b=a.Aa;a=u(b,f.MHa,f.hva);c=t(b,this.Xra.Aa);b=b[c].list.slice(0,f.byb);b.concat(a);this.bB(b,p.us.Q3);return this.gC(b.concat(this.Hi));};h.prototype.bB=function(a,b){a.forEach(function(a){if(void 0===a.Hw||a.Hw<b)a.Hw=b;void 0===a.zH&&(a.zH=n());void 0===a.xj&&(a.xj=n());});};h.prototype.Ukb=function(a){this.I.log("handleSearch");a=g(a.Aa,f.vyb);this.bB(a,p.us.Moa);this.Hi=a.concat(this.Hi);return this.Hi=this.gC(this.Hi);};h.prototype.Pkb=function(a){var c,d,k,h,m;this.I.log("handlePlayFocus: ",f.zM);c=a.direction;d=a.Aa;a=[];k=D(d);if(void 0!==k.ti)switch(a.push(k),c){case p.Gq.Doa:for(c=1;c<f.zM;c++)a.push(new b(k.ti,k.fk+c));a.push(new b(k.ti-1,k.fk));a.push(new b(k.ti+1,k.fk));break;case p.Gq.gma:for(c=1;c<f.zM;c++)a.push(new b(k.ti,k.fk-c));a.push(new b(k.ti-1,k.fk));a.push(new b(k.ti+1,k.fk));break;case p.Gq.HZa:a.push(new b(k.ti-1,k.fk));for(c=1;c<=f.zM/2;c++)a.push(new b(k.ti,k.fk+c)),a.push(new b(k.ti,k.fk-c));break;case p.Gq.CPa:for(a.push(new b(k.ti+1,k.fk)),c=1;c<=f.zM/2;c++)a.push(new b(k.ti,k.fk+c)),a.push(new b(k.ti,k.fk-c));}h=[];a.forEach(function(a){m=E(d,a.ti,a.fk);void 0!==m&&h.push(m);});this.bB(h,p.us.Q3);return this.gC(h.concat(this.Hi));};h.prototype.Gkb=function(a){this.I.log("ModelOne: handleDefaultCase");a=u(a.Aa,f.MHa,f.hva);this.bB(a,p.us.Q3);return this.gC(a.concat(this.Hi));};h.prototype.tAb=function(a){return a.Hw==p.us.fj|a.Hw==p.us.Moa&n()-a.zH<f.tlb;};h.prototype.gC=function(a){var b,c,f,d,k,h,m;b=[];c={};h=0;m=a.length;for(k=0;k<m;k++)f=a[k].pa,d=a[k],!1===f in c?(b.push(d),c[f]=h,h++):(f=b[c[f]],d.xj<f.xj&&(f.xj=d.xj),d.Hw>f.Hw&&(f.Hw=d.Hw),d.zH>f.zH&&(f.zH=d.zH));return b;};d.P=h;},function(d,c,a){var p,f,k,m,t,u,g;function b(a,b,c,f,d,k){this.u=this.pa=a;this.ie=b;this.Oc=c;k&&k.le&&(this.le=k.le);void 0!==f&&(this.pB=f);this.xj=d;this.fb=k;}function h(a,b,c,f,d){k(void 0!==f,"video preparer is null");k(void 0!==d,"ui preparer is null");this.I=b||console;this.I=b;this.zb=c;this.I4a=f;this.z4a=d;this.Wra=u.ifa;this.$D=[];this.m6=!1;this.Tn=0;new g().on(u,"changed",n,this);this.reset();}function n(){this.I.log("config changed");u.ifa&&(this.Wra=u.ifa);u.zN!==this.LD&&(this.reset(),this.rxb());}p=a(186);f=a(185);c=a(278);k=c.assert;m=c.Txa;t=a(524);u=a(277).config;g=a(111).pp;u.declare({ifa:["ppmConfig",{gHb:{NEa:0,MEa:2,KEa:0,LEa:5,QIa:0},nNb:{NEa:0,MEa:1,KEa:0,LEa:3,QIa:1E3},yHb:{NEa:0,MEa:1,KEa:0,LEa:3,QIa:1E3}}]});h.prototype.constructor=h;h.prototype.reset=function(){this.P4=!0;this.LD=u.zN;this.I.log("create model: "+u.zN,u.KHa,u.gva);switch(u.zN){case"modelone":this.LD=new t(this.I);break;default:this.LD=new t(this.I);}};h.prototype.rxb=function(){var b,c;if(!1===this.m6){this.m6=!0;for(var a=0;a<this.$D.length;a++){this.I.log("PlayPredictionModel replay: ",JSON.stringify(this.$D[a]));b=this.Cva(this.$D[a]);c=this.uya(b);this.LD.update(b,c);this.P4=!1;}this.$D=[];}};h.prototype.update=function(a){var b,c,f;this.I.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.Aa&&a.Aa[0]){!1===this.m6&&this.$D.length<u.Mpb&&this.$D.push(a);b=this.Cva(a);c=this.uya(b);this.I.log("actionType",c);b="mlmodel"==u.zN?this.LD.update(a,c):this.LD.update(b,c);b=this.Fgb(b,u.qnb||1);this.I.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.Tn&&(this.Tn=p(),this.zb&&this.zb.vO&&this.zb.vO({oV:this.Tn}));if(this.zb&&this.zb.nHa){f={oV:this.Tn,offset:this.FW(),dGa:[]};b.forEach(function(a){f.dGa.push({xq:a.pa});});f.aGa=JSON.stringify(a);f.bGa=JSON.stringify(b);this.zb.nHa(f);}this.I4a.Zu(b);this.z4a.Zu(b);this.P4=!1;}};h.prototype.Ixb=function(){this.Tn=0;};h.prototype.FW=function(){return p()-this.Tn;};h.prototype.vO=function(){this.Tn=p();this.zb&&this.zb.vO&&this.zb.vO({oV:this.Tn});};h.prototype.Cva=function(a){var b,c,d,k,h;b={};k=a.Aa||[];h=function(a){var k,h;k={};c=f.uI.name.indexOf(a.context);k.context=0<=c?c:f.uI.Hs;k.rowIndex=a.rowIndex;k.requestId=a.requestId;k.list=[];d=a.list||[];d.forEach(function(a){h={pa:a.pa,Oc:a.Oc,index:a.index,pB:a.pB,KG:a.KG,list:a.list,fb:a.fb};void 0!==a.property&&(c=f.IC.name.indexOf(a.property),h.property=0<=c?c:f.IC.Hs);k.list.push(h);}.bind(this));b.Aa.push(k);}.bind(this);void 0!==a.direction&&(c=f.Gq.name.indexOf(a.direction),b.direction=0<=c?c:f.Gq.Hs);void 0!==a.XL&&(b.tRb=a.XL.rowIndex,b.sRb=a.XL.M9a);b.XL=a.XL;b.Aa=[];k.forEach(h);return b;};h.prototype.uya=function(a){var b,c,d;b=a.direction||f.Gq.Hs;c=a.XL;d=a.Aa||[];!0===this.P4?a=f.ps.bla:!0===d.some(this.glb)?(a=f.ps.NI,this.f_(d,b,c)):a=d[0].context===f.uI.HR?f.ps.HR:b===f.Gq.Doa||b===f.Gq.gma?f.ps.Koa:f.ps.Hs;return a;};h.prototype.glb=function(a){return(a.list||[]).some(function(a){return a.property===f.IC.NI||a.property===f.IC.cka;});};h.prototype.f_=function(a,b,c){var d,k;this.I.log("reportPlayFocusEvent: ",b,c);d={};k=m(a);this.zb&&this.zb.f_&&(d.dRb=p(),d.direction=f.Gq.name[b],c&&(d.rowIndex=c.rowIndex,d.d8=c.M9a),void 0!==k.ti&&(d.requestId=a[k.ti].requestId),this.zb.f_&&this.zb.f_(d));};h.prototype.Fgb=function(a,b){for(var c=a.length,f=[],d,k,h,m,t=0;t<c;t++){k=a[t];d=Math.floor(t/b)+1;if(void 0!==k.list){h=k.list;m=h.length;for(var n=0;n<Math.min(u.K9a,m)&&!(h[n].xj=k.xj,this.Zsa(h[n],d,f),f.length>=u.tDa);n++);}else this.Zsa(k,d,f);if(f.length>=u.tDa)break;}return f;};h.prototype.Zsa=function(a,c,f){var k,h;function d(a){a.le&&(a.fb||(a.fb={}),a.fb.le=a.le);return a.fb;}k=a.KG;void 0!==k&&k instanceof Array?k.forEach(function(k){void 0!==k.pa&&(h=d(k),f.push(new b(k.pa,c,k.Oc,k.pB,a.xj,h)));}):void 0!==k&&void 0!==k.pa&&(k=a.KG,h=d(k),f.push(new b(k.pa,c,k.Oc,k.pB,a.xj,h)));void 0!==a.pa&&(h=d(a),f.push(new b(a.pa,c,a.Oc,a.pB,a.xj,h)));};h.prototype.kx=function(a){var b;b=this.Wra;return a?b[a]:b;};d.P=h;},function(d,c,a){var b,h,n,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);h=a(11);d=a(2);n=a(5);c=a(24);n.$.get(c.Cf).register(d.K.Jla,function(c){var f,d;if(b.config.uub){f=n.Jg("PlayerPredictionModel");L._cad_global.videoPreparer||(f.error("videoPreparer is not defined"),c(h.pd));d=a(525);f.log=f.trace.bind(f);p=new d({},f,{vO:function(a){L._cad_global.prefetchEvents.Ycb(a.oV);},nHa:function(a){L._cad_global.prefetchEvents.Uub(a);}},L._cad_global.videoPreparer,{Zu:function(){}});L._cad_global.playerPredictionModel=p;f.info("ppm v2 initialized");}c(h.pd);});},function(d){d.P={cx:{wa:12E5,WM:9E5,zd:12E5},Gw:{wa:10,WM:10,zd:10},Fw:{wa:10240,WM:10240,zd:10240}};},function(d){function c(a){var b;b=[];return function n(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var c in a)if(a.hasOwnProperty(c)&&n(a[c]))return!0;}return!1;}(a);}d.P=function(a,b){var n;if(b&&c(a))return-1;b=[];a=[a];for(var d=0;a.length;){n=a.pop();if("boolean"===typeof n)d+=4;else if("string"===typeof n)d+=2*n.length;else if("number"===typeof n)d+=8;else if("object"===typeof n&&-1===b.indexOf(n)){b.push(n);for(var p in n)a.push(n[p]);}}return d;};},function(d,c,a){var f,k;function b(){return Object.create(null);}function h(a){this.log=a.log;this.Ia=a.Ia;this.cB=b();this.Promise=a.Promise;this.Vt=a.Vt;this.Bia=a.Bia;this.Ih=a.Ih||!1;this.cx=b();this.Gw=b();this.Fw=b();this.V3a(a);a.iF&&(this.iF=a.iF,f(this.iF,h.prototype));}function n(a){return"undefined"!==typeof a;}function p(a){var f;for(var b=0,c=arguments.length;b<c;){f=arguments[b++];if(n(f))return f;}}f=a(59);a(528);k=a(527);h.prototype.V3a=function(a){this.cx.manifest=p(a.d$,k.cx.wa);this.cx.ldl=p(a.c$,k.cx.WM);this.cx.metadata=p(a.gRb,k.cx.zd);this.Gw.manifest=p(a.C7,k.Gw.wa);this.Gw.ldl=p(a.B7,k.Gw.WM);this.Gw.metadata=p(a.vPb,k.Gw.zd);this.Fw.manifest=p(a.tPb,k.Fw.wa);this.Fw.ldl=p(a.sPb,k.Fw.WM);this.Fw.metadata=p(a.uPb,k.Fw.zd);};h.prototype.hX=function(a,b,c){this.jk("undefined"!==typeof a);this.jk("undefined"!==typeof b);return!!this.Oqa(a,b,c).value;};h.prototype.Oqa=function(a,b,c){var f,d;f={value:null,reason:"",log:""};d=this.cB[b];if("undefined"===typeof d)return f.log="cache miss: no data exists for field:"+b,f.reason="unavailable",f;"undefined"===typeof d[a]?(f.log="cache miss: no data exists for movieId:"+a,f.reason="unavailable"):(c=d[a][c?c:"DEFAULTCAPS"])&&c.value?this.NX(b,c.Eh)?(f.log="cache miss: "+b+" data expired for movieId:"+a,f.reason="expired"):(f.log=this.Promise&&c.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,f.value=c.value):(f.log="cache miss: "+b+" data not available for movieId:"+a,f.reason="unavailable");return f;};h.prototype.getData=function(a,b,c){this.jk("undefined"!==typeof a);this.jk("undefined"!==typeof b);a=this.Oqa(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.Bia?JSON.parse(this.Bia(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};h.prototype.setData=function(a,c,f,d,k){var h;this.jk("undefined"!==typeof a);this.jk("undefined"!==typeof c);h=this.cB;k=k?k:"DEFAULTCAPS";h[c]||(h[c]=b(),Object.defineProperty(h[c],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(h[c],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));f=this.Vt?this.Vt(JSON.stringify(f),"gzip",!0):f;h=h[c];this.I1a(a,c,k,h);c={Eh:this.Ia.getTime(),value:f,size:0,type:c,i9:d};h[a]=h[a]||b();h[a][k]=h[a][k]||b();h[a][k]=c;h.size+=0;h.numEntries++;this.iF&&this.emit("addedCacheItem",c);return c;};h.prototype.I1a=function(a,b,c,f){var d,k,h,m,t,n,p,u,g;d=this;k=f.numEntries;h=this.Gw[b];n=f[a]&&f[a][c];if(n&&n.value)m=a,t="promise_or_expired";else if(k>=h){u=Number.POSITIVE_INFINITY;Object.keys(f).every(function(a){var k;k=f[a]&&f[a][c];k&&k.value&&d.NX(b,k.Eh)&&(g=a);k&&k.value&&k.Eh<u&&(u=k.Eh,p=a);return!0;});m=g||p;t="cache_full";}this.Ih&&this.log.debug("makespace ",{maxCount:h,currentCount:f.numEntries,field:b,movieId:a,movieToBeRemoved:m});m&&(d.clearData(m,b,c,void 0,t),this.log.debug("removed from cache: ",m,b));};h.prototype.S7=function(a,b){var c,f;c=this;c.jk("undefined"!==typeof a);f=a+"";b.forEach(function(a){var b;b=c.cB[a];b&&Object.keys(b).forEach(function(b){b!=f&&c.clearData(b,a,void 0,void 0,"clear_all");});});};h.prototype.clearData=function(a,b,c,f,d){var k;this.jk("undefined"!==typeof a);this.jk("undefined"!==typeof b);k=this.cB[b];b=k?k[a]:void 0;c=c?c:"DEFAULTCAPS";if(b&&b[c]){k.size-=b[c].size;k.numEntries--;if(k=b&&b[c])b[c]=void 0,!f&&k.i9&&k.i9();this.iF&&(a={creationTime:k.Eh,destroyFn:k.i9,size:k.size,type:k.type,value:k.value,reason:d,movieId:a},this.emit("deletedCacheItem",a));}};h.prototype.flush=function(a){var c;this.jk("undefined"!==typeof a);c=this.cB;c[a]=b();c[a].numEntries=0;c[a].size=0;};h.prototype.NX=function(a,b){return this.Ia.getTime()-b>this.cx[a];};h.prototype.getStats=function(a,b,c){var f,d,k,h,m;f={};d=this;k=d.cB;h=n(a)&&n(b);m=c||"DEFAULTCAPS";Object.keys(k).forEach(function(c){var t,p;t=Object.keys(k[c]);p=k[c];t.forEach(function(k){!(k=p&&p[k]&&p[k][m])||!n(k.value)||k.value instanceof this.Promise||(f[c]=(f[c]|0)+1,d.NX(k.type,k.Eh)&&(f[c+"_expired"]=(f[c+"_expired"]|0)+1),h&&k.Eh>=a&&k.Eh<b&&(f[c+"_delta"]=(f[c+"_delta"]|0)+1));});});return f;};h.prototype.Vc=function(a){var b,c,f,d;b=[];c=this;f=c.cB;d=a||"DEFAULTCAPS";Object.keys(f).forEach(function(a){var k,h;k=Object.keys(f[a]);h=f[a];k.forEach(function(f){var k,m;k=h&&h[f]&&h[f][d];k&&n(k.value)&&(m=c.NX(k.type,k.Eh)?"expired":k.value instanceof this.Promise?"loading":"cached",b.push({movieId:f,state:m,type:a,size:k.size}));});});return b;};h.prototype.eha=function(a,b){this.jk("undefined"!==typeof a);this.jk("undefined"!==typeof b);this.Fw[a]=b;};h.prototype.jk=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.Ih))throw Error("Debug Assert Failed ");};d.P=h;},function(d,c,a){var h,n;function b(a,b,c,d,t,g,y){this.u=a;this.ie=b;this.type=c;this.id=++n;this.Kp=d;this.status=h.Ge.Mja;this.Ptb=void 0===t?!1:t;this.BEa=y;}Object.defineProperty(c,"__esModule",{value:!0});h=a(53);n=0;b.prototype.vr=function(){var a;a={id:this.id,type:this.type,created:this.Kp,status:this.status,movieId:this.u};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};b.prototype.im=function(a){this.BEa&&this.BEa(a);};c.NR=b;},function(d,c,a){var p,f,k;function b(){}function h(a){this.log=a.log;this.Ia=a.Ia;this.ZU=this.qL=0;this.sy=[];this.paused=!1;this.Z_=[];this.pva=[];this.KM=a.KM||b.Xia;this.ed=a.ed;this.Yj=this.ed.get(f.T1);this.addEventListener=this.Yj.addListener.bind(this.Yj);this.events={npa:"taskstart",lpa:"taskabort",mpa:"taskfail",opa:"tasksuccess"};}function n(a){return a.vr();}Object.defineProperty(c,"__esModule",{value:!0});d=a(150);p=a(53);f=a(66);b.iWa="prepend";b.Xia="append";b.ORa="ignore";k=d.Fv;c.dZa=h;h.prototype.dta=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.sy=this.r1a(a);this.qL=0;this.ZU+=1;this.Pb();};h.prototype.r1a=function(a){var c,f;c=this.sy.filter(function(a){return a.Ptb&&a.status===p.Ge.Mja;});f=this.KM;if(f===b.ORa)return[].concat(a);if(f===b.iWa)return c.concat(a);if(f===b.Xia)return a.concat(c);};h.prototype.pause=function(){this.paused=!0;};h.prototype.Pb=function(){var a,b;if(this.qL===this.sy.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.qL,numberOfTasks:this.sy.length});else{a=this.Zib();b=this.ZU;a.startTime=this.Ia.getTime();a.status=p.Ge.Poa;this.Yj.Sb(this.events.npa,{u:a.u,type:a.type});this.Z_.push(a);a.wf(function(c){a.endTime=this.Ia.getTime();c?0<=[p.Ge.Fy,p.Ge.jQ,p.Ge.TH,p.Ge.iQ].indexOf(c.status)?(a.status=c.status,this.I5(a,this.events.lpa,"cancelled task")):(a.status=p.Ge.Bv,this.I5(a,this.events.mpa,"task failed",c)):(a.status=p.Ge.Uoa,this.I5(a,this.events.opa,"task succeeded"));this.pva.push(a);this.Z_.splice(this.Z_.indexOf(a),1);this.ZU===b&&(this.qL++,this.Pb());}.bind(this));}};h.prototype.Zib=function(){return this.sy[this.qL];};h.prototype.I5=function(a,b,c,f){var d;d=a.vr();f?this.log.warn(c,d,f):this.log.trace(c,d);this.Yj.Sb(b,{u:a.u,type:a.type,reason:a.status});a.im(d);};h.prototype.getStats=function(a,b,c){var f,d,h,m;f=this.pva.map(n);d=this.Z_.map(n);h=k.Qd(a)&&k.Qd(b);m={};if(k.Qd(c))return m.W9a=f.filter(function(a){return a.movieId===c;}),m;f.concat(d).forEach(function(c){var f;m[c.type+"_"+c.status]=(m[c.type+"_"+c.status]|0)+1;f=c.status==p.Ge.Poa?c.startTime:c.endTime;h&&f>=a&&f<b&&(m[c.type+"_"+c.status+"_delta"]=(m[c.type+"_"+c.status+"_delta"]|0)+1);});return m;};},function(d,c,a){var h,n,p,f,k,m,t,g,y,E;function b(a){this.log=a.log;this.Ia=a.Ia;this.xaa=a.xaa;this.LW=a.LW;this.KW=a.KW;this.wF=a.wF;this.Bu=a.Bu;this.wL=a.wL;this.ed=a.ed;this.config=this.ed.get(m.md)();this.yL=a.yL;this.xL=a.xL;this.Via=a.Via;this.Dea=a.Dea;this.Eea=a.Eea;this.KN=a.KN;this.gaa=a.gaa;this.Ih=a.Ih||!1;this.p6={};this.XS={};this.AT={num_of_calls:0,num_of_movies:0};this.N7=a.N7;this.aea=a.aea;this.Ogb=a.Ogb;this.W$=a.W$;this.Dh=new t({log:this.log,Ia:this.Ia,Promise:Promise,Ih:this.Ih,C7:a.C7,B7:a.B7,d$:a.d$,c$:a.c$,iF:g});this.ep=new h.dZa({log:this.log,Ia:this.Ia,KM:a.KM,ed:this.ed});this.Sp=this.Dh.getData.bind(this.Dh);this.ky=this.Dh.setData.bind(this.Dh);this.fX=this.Dh.hX.bind(this.Dh);}Object.defineProperty(c,"__esModule",{value:!0});h=a(531);n=a(530);d=a(150);p=a(257);f=a(475);k=a(119);m=a(17);t=a(529);g=a(111).EventEmitter;y=d.Fv;E=new f.Fpa(y,new p.m1());c.RZa=b;b.prototype.Gya=function(a){var b;b=this.Dh.getData(a,"ldl");this.Dh.clearData(a,"ldl",void 0,!0);return b;};b.prototype.Zu=function(a,b){var c,f,d;c=this;a=a.map(function(a){a.fb=a.fb||{EK:{JFa:!1},Rh:0};y.fA(a.fb.Rh)||(a.fb.Rh=0);y.fA(a.Oc)&&(a.fb.S=a.Oc);return a;});f=a.map(function(a){return c.sqa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);d=f.map(function(a){return a.u+"-"+a.type;});this.log.trace("prepare tasks",d);this.ep.dta(f);this.AT.num_of_calls++;this.AT.num_of_movies+=a.length;};b.prototype.Pub=function(a,b){var c,f,d;c=this;f=a.map(function(a){return a.u+"";});a=a.map(function(a){a.fb=a.fb||{EK:{JFa:!1},Rh:0};a.fb.we=!0;a.fb.ZDa=f;return c.sqa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);d=a.map(function(a){return a.u+"-"+a.type;});this.log.trace("predownload tasks",d);this.ep.dta(a);};b.prototype.XDb=function(a,b){this.XS[a]||(this.XS[a]={});a=this.XS[a];a.eGa=(a.eGa|0)+1;a.xj=b;};b.prototype.getStats=function(a,b,c){var f;f=c&&this.XS[c]||{};f.sy=this.ep.getStats(a,b,c);f.cache=this.Dh.getStats(a,b);f.qya=E.aB(this.gaa(),this.AT);return f||{};};b.prototype.sqa=function(a,b){var c,f,d,k,h;a.le&&(a.fb.le=a.le);c=[];f=a.u;d=!!a.fb.we;this.XDb(f,a.xj);k=null;if(this.Dh.hX(f,"manifest"))this.log.trace("manifest exists in cache for "+f);else{h=new n.NR(f,a.ie,"manifest",this.Ia.getTime(),d,void 0,b);k=h.id;h.wf=this.xaa.bind(this,f,a);c.push(h);}this.LW&&(this.Dh.hX(f,"ldl")?this.Ih&&this.log.trace("ldl exists in cache for "+f):(h=new n.NR(f,a.ie,"ldl",this.Ia.getTime(),d,k,b),h.wf=this.LW.bind(this,f,a),c.push(h)));this.KW&&this.wF&&this.N7()&&(this.aea(f)?this.Ih&&this.log.trace("headers/media exists in cache for "+f):(f=new n.NR(a.u,a.ie,"getHeaders",this.Ia.getTime(),d,k,b),f.wf=this.KW.bind(this,a.u,a),c.push(f),b=new n.NR(a.u,a.ie,"getMedia",this.Ia.getTime(),d,k,b),b.wf=this.wF.bind(this,a.u,a),c.push(b)));return c;};b.prototype.Skb=function(a){this.Eea(a);};b.prototype.Rkb=function(a){this.log.trace("task scheduler paused on playback created");this.ep.pause();this.yL&&this.Dh.S7(a,["manifest"]);this.xL&&this.Dh.S7(a,["ldl"]);this.Dea(a);};b.prototype.yAa=function(){this.log.info("track changed, clearing all manifests from cache");this.Dh.S7("none",["manifest"]);};b.prototype.Qkb=function(a){var b;b=this;this.wL?this.Dh.clearData(a,"manifest"):this.Dh.hX(a,"manifest")&&this.Dh.getData(a,"manifest").then(function(c){c.isSupplemental||b.Dh.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",c);});this.Z7(a);this.KN();};b.prototype.Z7=function(a){this.p6[a]=void 0;};b.prototype.ZW=function(a){return this.p6[a];};b.prototype.Rva=function(a){return this.p6[a]=this.Via();};b.prototype.Sub=function(){var a;a=[];a=this.Dh.Vc().map(function(a){return{xq:parseInt(a.movieId,10),state:a.state,Bt:a.type,size:a.size||void 0};});this.W$().map(function(b){2===b.Xp?a.push({xq:b.u,state:"cached",Bt:k.He.Qj.mI,size:void 0}):b.Zfb&&!b.Jnb&&a.push({xq:b.u,state:"loading",Bt:k.He.Qj.mI,size:void 0});b.pLa&&0<b.pLa&&b.Rta&&0<b.Rta?a.push({xq:b.u,state:"cached",Bt:k.He.Qj.MEDIA,size:void 0}):b.Kub&&!b.Jub&&a.push({xq:b.u,state:"loading",Bt:k.He.Qj.MEDIA,size:void 0});});return a;};b.prototype.BBa=function(a){return a&&0<=a.indexOf("billboard");};},function(d,c,a){var b,h,n,p,f,k,m,t,g,y,E,D,z,l,q,N,P,W,Y,S,A,r,U,ia,T;Object.defineProperty(c,"__esModule",{value:!0});b=a(50);h=a(126);n=a(12);p=a(11);f=a(34);d=a(2);k=a(5);m=a(23);t=a(245);g=a(3);y=a(92);E=a(122);D=a(117);z=a(53);l=a(189);q=a(20);N=a(73);P=a(532);W=a(127);Y=a(160);S=a(43);A=a(62);c=a(24);r=a(145);U=a(175);ia=a(272);k.$.get(c.Cf).register(d.K.Nla,function(a){var X,ma,Fa,B,la,Da,Qa,Oa,H,Q,V,bb,Z;function c(){var a,b,c;if(n.config.Ro){a={};a.trigger=z.Yd.hWa.GVa;b=X.getTime();c=T.getStats(bb,b);a.startoffset=bb;bb=a.endoffset=b;a.cache=JSON.stringify(c.cache);a.tasks=JSON.stringify(c.sy);a.general=JSON.stringify(c.qya);b=k.$.get(S.Kk);a=k.$.get(A.qp).bn("prepare","info",a);b.Gc(a);}}function d(a,b,c){var f,d;d=a.tv;d&&d.length&&d[0].cc&&d[0].cc.length&&(f=d[0].cc[0].HE);d=n.vva(b.le);f=n.uva(!!a.Rt,!1,f);f=h.Zc.oo(Object.assign(Object.assign({},d),f));return{u:c,ie:0,Iib:function(){return{wa:a,rf:!1,tE:a.nwa[0].tE};},config:f,we:!!b.we,ZDa:b.ZDa};}function u(a,b,c){T.Sp(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Da.trace("ldl not available in cache",f);T.Sp(a,"manifest").then(function(f){var h,m,t,p,g;function d(b){Da.warn("ldl is now invalid",b);g.close();T.ky(a,"ldl",void 0);T.Z7(a);}h=f.If;if(T.fX(a,"ldl"))c({status:z.Yd.Ge.Fy});else if(h.jX)if(n.config.Jwa&&Qa&&Qa!==a&&!b.force)c({status:z.Yd.Ge.jQ});else if(n.config.Kwa&&Oa&&Oa!==a&&!b.force)c({status:z.Yd.Ge.TH});else{Qa&&Qa!==a&&(H[a]=(H[a]|0)+1);Oa&&Oa!==a&&(Q[a]=(Q[a]|0)+1);m=h.tv[0].rfa;t=h.tv[0].x9;p=(m?m:[t]).map(function(a){return k.Ym(a.bytes);});g=M({Zlb:"cenc",axa:Da,kM:function(b){var c;c=[];b.gi.forEach(function(a){c.push({sessionId:a.sessionId,dataBase64:k.Et(a.data)});});b={gi:c,yV:[h.kk],pi:z.Yd.Bva(b.pi),eg:h.eg,ga:T.Rva(a),Cj:f.Cj};Da.trace("xid created ",{MovieId:a,xid:b.ga});return B.Kz(b);},lBb:void 0,Ueb:d,$c:void 0,uea:q.Pe,Ia:la});T.ky(a,"ldl",g,function(){g.close();});return g.create(n.config.Wd).then(function(){return g.oi(y.Tj.Gv,p,!0);}).then(function(){c(null,g);})["catch"](function(a){d(a);c(a);});}else c({status:z.Yd.Ge.iQ});})["catch"](function(a){Da.warn("Manifest not available for ldl request",a);c({status:z.Yd.Ge.Fy});});});}function G(a,b,c){T.Sp(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Da.trace("ldl not available in cache",f);T.Sp(a,"manifest").then(function(f){var h,m,t,p,g;function d(b,c){Da.warn(b+" LDL is now invalid.",c);T.ky(a,"ldl",void 0);T.Z7(a);}h=f.If;if(T.fX(a,"ldl"))c({status:z.Yd.Ge.Fy});else if(h.jX)if(n.config.Jwa&&Qa&&Qa!==a&&!b.force)c({status:z.Yd.Ge.jQ});else if(n.config.Kwa&&Oa&&Oa!==a&&!b.force)c({status:z.Yd.Ge.TH});else{Qa&&Qa!==a&&(H[a]=(H[a]|0)+1);Oa&&Oa!==a&&(Q[a]=(Q[a]|0)+1);m=h.tv[0].rfa;t=h.tv[0].x9;p=(m?m:[t]).map(function(a){return k.Ym(a.bytes);});g=k.$.get(E.zQ)().then(function(b){var c;c={type:y.Tj.Gv,yX:p,context:{Wd:n.config.Wd},Og:{u:a,ga:T.Rva(a),eg:h.eg,kk:h.kk,Cj:f.Cj}};return b.Zu(c,k.$.get(r.CI)());}).then(function(a){c(null,a);return a;})["catch"](function(a){d("Unable to prepare an EME session.",a);});T.ky(a,"ldl",g,function(){try{g.then(function(a){a.close().subscribe(void 0,function(a){d("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){d("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(Ge){d("Unable to cleanup LDL session, unexpected exception.",Ge);}});}else c({status:z.Yd.Ge.iQ});})["catch"](function(a){Da.warn("Manifest not available for ldl request",a);c({status:z.Yd.Ge.Fy});});});}function M(a){var b,c;b=new N.zh.yv(a.axa,a.kM,a.lBb,{Ih:!1,OM:!1});c=k.$.get(D.ZC);return N.zh.zv(a.axa,a.Zlb,a.$c,{Ih:!1,OM:!1,VBa:n.config.vi,dIa:{HDa:n.config.cIa,Nua:n.config.Ega},gy:b,rGa:n.config.yfa,cb:void 0,jC:n.config.H9,onerror:a.Ueb,uea:a.uea,Ia:a.Ia,lub:!1,Sta:c.jL([]),qLa:c.pL([]),IF:n.config.IF});}X={getTime:f.ah,CRb:f.GU};ma=k.$.get(m.Oe);Fa=k.$.get(W.o3);B=k.$.get(Y.wI);la=X;Da=k.Jg("VideoPreparer");H={};Q={};if(!N.zh.zv||!N.zh.yv){V=k.$.get(ia.t3)();N.zh.zv=V.nb;N.zh.yv=V.request;}Da.info("instance created");T=new P.RZa({log:Da,Ia:X,Via:f.E9a,xaa:function(a,b,c){var d;function f(){var b;ma.Nz(d)||(d={trackingId:d});b={Xa:d,pa:a,hx:W.wl.j3};Da.trace("manifest request for:"+a);return Fa.qf(Da,b);}d=b.fb;Da.trace("getManifest: "+a);n.config.V4a&&d&&d.wa&&!T.fX(a,"manifest")&&(!d.wa.clientGenesis||Date.now()-d.wa.clientGenesis<n.config.fGa)?(b=k.$.get(U.zI).create(d.wa),b.fy=X.getTime(),b.CB=X.getTime(),T.ky(a,"manifest",b),c(null,b)):T.Sp(a,"manifest").then(function(a){c(null,a);})["catch"](function(b){var d;Da.trace("manifest not available in cache",b);if(T.fX(a,"manifest"))c({status:z.Yd.Ge.Fy});else{d=X.getTime();b=f();T.ky(a,"manifest",b);b.then(function(b){b.fy=d;b.CB=X.getTime();T.ky(a,"manifest",b);c(null,b);})["catch"](function(b){c(b);T.ky(a,"manifest",void 0);});}});},LW:n.config.cF?n.config.ip?G:u:void 0,KW:function(a,b,c){var f;f=b.fb;T.Sp(a,"manifest").then(function(b){b=d(b.If,f,a);h.Ll.vU(b,function(){c(null,{});});})["catch"](function(a){Da.error("Exception in getHeaders",a);c(a);});},wF:function(a,b,c){var f;f=b.fb;T.Sp(a,"manifest").then(function(n){var p,u,y;p=n.If;n=d(p,f,a);u=p.duration;p=k.$.get(t.p1).kta({hC:g.Ib(p.Sz),u:a,XN:g.Ib(u),Xa:f}).ca(g.ha);k.$.get(m.Oe).Yq(f.S)&&(p=f.S);n.Oc=p;if(Qa!=a||f.we||b.force){y=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(h.Ll.removeEventListener("prebuffstats",y),c(null,{}));};h.Ll.addEventListener("prebuffstats",y);h.Ll.vU(n);}else c({status:z.Yd.Ge.TH});})["catch"](function(a){Da.error("Exception in getMedia",a);c(a);});},Bu:function(){return h.Ll.Bu();},N7:function(){return n.config.GV;},aea:function(a){var b;b=!1;h.Ll.VK().forEach(function(c){c.u==a&&(b=!0);});return b;},W$:function(){return h.Ll.VK().map(function(a){var c,f;c=h.Ll.dda(a.u);f=c[b.Uc.Uj.AUDIO]&&c[b.Uc.Uj.AUDIO].data;c=c[b.Uc.Uj.VIDEO]&&c[b.Uc.Uj.VIDEO].data;return{u:a.u,Xp:a.Xp,Rta:f&&f.length,pLa:c&&c.length,Zfb:ma.Yq(a.Ub.cW),Jnb:ma.Yq(a.Ub.gY),Kub:ma.Yq(a.Ub.IG),Jub:ma.Yq(a.Ub.GZ)};});},Dea:function(a){Qa=a;},Eea:function(a){Z&&(Z.Y7(),c());Oa=a;},KN:function(){Z&&Z.kha();Oa=Qa=void 0;},gaa:function(){return{ldls_after_create:H,ldls_after_start:Q};},wL:n.config.wL,yL:n.config.yL,xL:n.config.xL,KM:n.config.Vub,C7:n.config.Yub,B7:n.config.Wub,d$:n.config.fGa,c$:n.config.Xub,Ih:!1,ed:k.$});L._cad_global.videoPreparer=T;V=n.config.Otb;bb=X.getTime();V&&(Z=new l.Goa(V,c),Z.kha());a(p.pd);});},function(d,c,a){var b,h,n,p,f,k,m,t,g,y,E,D;Object.defineProperty(c,"__esModule",{value:!0});b=a(123);h=a(125);n=a(11);p=a(40);d=a(2);f=a(5);k=a(159);m=a(18);t=a(20);g=a(10);c=a(24);y=a(34);E=a(94);D=a(136);f.$.get(c.Cf).register(d.K.Pla,function(a){function c(a,b){function c(a){a=new k.aI(f.Ym(a));a.ve();return{Bx:a.FGa(),Ieb:a.FGa()};}return{encrypt:function(b,c){var d;b=t.ee(b)?f.HP(b):b;d=g.Nv.getRandomValues(new Uint8Array(16));p.xG(g.po.encrypt({name:"AES-CBC",iv:d},a,b)).then(function(a){var b,h;a=new Uint8Array(a);b=[];h=new k.aI(b);h.WP(2);h.GLa(d);h.GLa(a);a=f.Et(b);c({success:!0,encryptedDataAsn1Base64:a});},function(a){m.Ra(!1,"Encrypt error: "+a);c({success:!1});});},decrypt:function(b,d){b=c(b);p.xG(g.po.decrypt({name:"AES-CBC",iv:b.Bx},a,b.Ieb)).then(function(a){a=new Uint8Array(a);d({success:!0,text:f.K0(a)});},function(a){m.Ra(!1,"Decrypt error: "+a);d({success:!1});});},hmac:function(a,c){a=t.ee(a)?f.HP(a):a;p.xG(g.po.sign({name:"HMAC",hash:{name:"SHA-256"}},b,a)).then(function(a){a=new Uint8Array(a);c({success:!0,hmacBase64:f.Et(a)});},function(a){m.Ra(!1,"Hmac error: "+a);c({success:!1});});}};}b.TR.zK.mdx={getEsn:function(){return h.ii.bh;},createCryptoContext:function(a){var b;b=f.$.get(E.XI);f.$.get(D.GI)().then(function(c){var d,k;d=c.AN.getStateForMdx(b);k=d.cryptoContext;c=d.masterToken;d=d.userIdToken;c&&d?(m.Ra(k),c=["1",f.Et(JSON.stringify(c.toJSON())),f.Et(JSON.stringify(d.toJSON()))].join(),a({success:!0,cryptoContext:{cTicket:c,encrypt:function(a,b){a=t.ee(a)?f.HP(a):a;k.encrypt(a,{result:function(a){a=f.Et(a);b({success:!0,mslEncryptionEnvelopeBase64:a});},timeout:function(){b({success:!1});},error:function(a){m.Ra(!1,"Encrypt error: "+a);b({success:!1});}});},decrypt:function(a,b){a=f.Ym(a);k.decrypt(a,{result:function(a){b({success:!0,text:f.K0(a)});},timeout:function(){b({success:!1});},error:function(a){m.Ra(!1,"Decrypt error: "+a);b({success:!1});}});},hmac:function(a,b){a=t.ee(a)?f.HP(a):a;k.sign(a,{result:function(a){b({success:!0,hmacBase64:f.Et(a)});},timeout:function(){b({success:!1});},error:function(a){m.Ra(!1,"Hmac error: "+a);b({success:!1});}});}}})):(m.Ra(!1,"Must login first"),a({success:!1}));});},createCryptoContextFromSharedSecret:function(a,b){var d;d=f.Ym(a);a=d.subarray(32,48);d=d.subarray(0,32);if(16!=a.length||32!=d.length)throw Error("Bad shared secret");Promise.all([p.xG(g.po.importKey("raw",a,{name:"AES-CBC"},!1,["encrypt","decrypt"])),p.xG(g.po.importKey("raw",d,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(a){b({success:!0,cryptoContext:c(a[0],a[1])});},function(){b({success:!1});});},getServerEpoch:function(){return y.bva();}};a(n.pd);});},function(d,c,a){var b,h,n,p,f,k,m,t,g;Object.defineProperty(c,"__esModule",{value:!0});d=a(123);b=a(11);h=a(12);n=a(58);c=a(8);p=a(5);f=a(43);k=a(101);m=a(18);t=a(20);g=a(10);L.netflix=L.netflix||{};m.Ra(!L.netflix.player);L.netflix.player={VideoSession:d.TR,diag:{togglePanel:function(a,b){var c;c=[];if(!h.config||h.config.sO){switch(a){case"info":c=n.On.map(function(a){return a.BZ;});break;case"streams":c=n.On.map(function(a){return a.CZ;});break;case"log":c=[];}c.forEach(function(a){t.$b(b)?b?a.show():a.zo():a.toggle();});}},addLogMessageSink:function(a){p.$.get(f.Kk).addListener({qVb:function(){},kqb:function(b){a({data:b.data});}});}},log:p.Jg("Ext"),LogLevel:c.Di,addLogSink:function(a,b){p.$.get(k.KC).b_(a,b);},getVersion:function(){return"6.0023.327.011";},isWidevineSupported:function(a){var f;function c(a){return function(b,c){return c.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");f=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:b.Iv,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:b.MC,robustness:"SW_SECURE_CRYPTO"}]}];try{g.ej.requestMediaKeySystemAccess("com.widevine.alpha",f).then(function(f){var d;d=f.getConfiguration();f=d.videoCapabilities||[];d=(d.audioCapabilities||[]).reduce(c(b.MC),!1);f=f.reduce(c(b.Iv),!1);a(d&&f);})["catch"](function(){a(!1);});}catch(z){a(!1);}}};},function(d,c,a){var b,h,n,p,f,k,m,t,g,y;Object.defineProperty(c,"__esModule",{value:!0});d=a(24);c=a(2);b=a(8);h=a(47);n=a(155);p=a(11);f=a(12);k=a(5);m=a(126);t=a(58);g=a(123);y=a(193);k.$.get(d.Cf).register(c.K.Qla,function(a){var d,u,E;function c(a,b){return void 0===a||void 0===b?Promise.reject("Invalid email and/or password"):k.$.get(y.l3).qf(this.log,{},{$wa:a,password:b}).then(function(){});}if(f.config.hfb){d=k.$.get(n.tR);u=k.$.get(h.Mk);E=k.$.get(b.Cb).wb("Test");g.TR.zK.test={pboRequests:d.gy.map(function(a){return JSON.parse(JSON.stringify(a));}),playbacks:t.On,getPlayback:function(a){return t.On.find(function(b){return b.ga===a;});},playgraphManager:{isNextSegmentReady:function(a,b){var c,f;return void 0!==(null===(f=null===(c=t.On.find(function(b){return b.ga===a;}))||void 0===c?void 0:c.Bb)||void 0===f?void 0:f.zW(b));}},aseManager:{cacheDestroy:function(){return m.Ll.uU();}},device:{esn:L._cad_global.device.bh,esnPrefix:u.bx,errorPrefix:u.pA},log:{info:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return E.info(a,c);},error:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return E.error(a,c);},warn:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return E.warn(a,c);},trace:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return E.trace(a,c);},log:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return E.log(a,c);},debug:function(a,b){for(var c=[],f=1;f<arguments.length;++f)c[f-1]=arguments[f];return E.debug(a,c);}},login:c};}a(p.pd);});},function(d,c,a){var b,h,n,p,f,k,m,t,g,y,E;Object.defineProperty(c,"__esModule",{value:!0});b=a(125);h=a(123);n=a(11);p=a(12);d=a(2);f=a(5);k=a(18);m=a(19);t=a(20);g=a(15);y=a(43);E=a(62);a=a(24);f.$.get(a.Cf).register(d.K.Ola,function(a){var c,d;c=f.Jg("NccpApi");d=m.x6a();h.TR.zK.nccp={getEsn:function(){return b.ii.bh;},getPreferredLanguages:function(){return p.config.cu.lfa;},setPreferredLanguages:function(a){k.Ra(g.isArray(a)&&t.OA(a[0]));p.config.cu.lfa=a;},queueLogblob:function(a,b,k){var h;if(a&&b)if(b=b.toLowerCase(),d[b]){h=f.$.get(y.Kk);a=f.$.get(E.qp).bn(a,b,k);h.Gc(a);}else c.warn("Invalid severity",{severity:b});},flushLogblobs:function(){f.$.get(y.Kk).flush(!0);}};a(n.pd);});},function(d,c,a){var b,h,n,p,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(65);h=a(40);n=a(18);p=a(19);f=a(20);c.vOa=function(a,b){n.Ra(a);n.Ra(b);n.uL(b.Meb,"endpointURL property is required");n.Ra(b.cr);this.log=a;this.UFa=b;};c.vOa.prototype.kx=function(){var a,c,d;a=this;a.log.trace("Downloading config data.");c={browserInfo:JSON.stringify(a.UFa.cr)};d=a.UFa.Meb+"?"+h.IN(c);return new Promise(function(c,k){function h(b){var c;try{if(b.aa){c=new Uint8Array(b.content);return{aa:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return{aa:!1,message:"Unable to download the config. "+b.lb,AM:b.Oi};}catch(P){return b=p.We(P),a.log.error("Unable to download the config. Received an exception parsing response",{message:P.message,exception:b,url:d}),{aa:!1,lb:b,message:"Unable to download the config. "+P.message};}}function m(b,c,d){return c>d?(a.log.error("Config download failed, retry limit exceeded, giving up",f.xb({Attempts:c-1,MaxRetries:d},b)),!1):!0;}function t(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function n(d,g,u){b.Ye.download(d,function(b){var y;b=h(b);if(b.aa)c(b);else{a.log.warn("Config download failed, retrying",f.xb({Attempt:g,WaitTime:y,MaxRetries:u},b));if(m(b,g+1,u))return y=p.BGa(1E3,1E3*Math.pow(2,Math.min(g-1,u))),t(y).then(function(){return n(d,g+1,u);});k(b);}});}return b.Ye?n({url:d,responseType:3,withCredentials:!0,gA:"config-download"},1,3):Promise.reject({aa:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(d,c,a){var b,h,n,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(12);h=a(11);d=a(2);n=a(5);p=a(184);a=a(24);n.$.get(a.Cf).register(d.K.Dla,function(a){b.config.Agb&&n.$.get(p.jla).start();a(h.pd);});},function(d,c,a){var b,h,n,p,f,k,m,t,g,y,E,D,z,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(161);h=a(279);d=a(58);n=a(12);p=a(57);f=a(11);k=a(40);m=a(34);t=a(19);g=a(10);y=a(5);E=a(121);D=a(13);z=a(24);l=a(47);d.koa(d.foa,function(a){var U,ia,T,ma,O,oa;function c(b){b.newValue>=D.mb.LOADING&&(a.state.removeListener(c),r("type=openplay&sev=info&locstor="+g.U2(M())),T=m.ah(),G());}function d(){oa("type=startplay&sev=info&outcome=success");}function u(){var c,f;c=a.Pi;if(c){f="type=startplay&sev=error&outcome=error";c=b.Qza(y.$.get(l.Mk).pA,c);t.Gd(c,function(a,b){f+="&"+g.U2(a)+"="+g.U2(b||"");});oa(f);}else oa("type=startplay&sev=info&outcome=abort");}function G(){var a,b;a=ma.shift();if(0<a){b=g.Mn(a-(m.ah()-T),0);ia=setTimeout(function(){r("type=startstall&sev=info&kt="+a);G();},b);}}function q(){oa("type=startplay&sev=info&outcome=unload");}function M(){var a,b,c;try{b=""+m.GU();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==c?"success":"mism";}catch(Aa){a="ex: "+Aa;}return a;}function r(b){b=O+"&soffms="+a.Jaa()+"&"+b;a.gd&&Object.keys(a.gd).length&&(b+="&"+k.IN(t.xb({},a.gd,{prefix:"sm_"})));h.TCb("playback",b,U);}U=y.$.get(E.nC).host+n.config.sia;if(n.config.nKa&&U&&n.config.oKa.playback){ma=n.config.UCb.slice();O="xid="+a.ga+"&pbi="+a.index+"&uiLabel="+(a.le||"");a.state.addListener(c);a.addEventListener(D.T.An,d);a.addEventListener(D.T.pf,u);p.Le.addListener(p.Yl,q,f.RC);oa=function(b){var c;oa=f.Pe;c=y.$.get(z.Cf);b+="&initstart="+c.startTime+"&initend="+c.endTime;r(b);clearTimeout(ia);a.removeEventListener(D.T.An,d);a.removeEventListener(D.T.pf,u);p.Le.removeListener(p.Yl,q);};}});},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});d=a(96);b=a(12);h=a(5);d.DI(function(a,c){var f,d,m,t;f={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(f,b.config.qDb);d=f[c.le];if(b.config.rDb&&d){m={};t=h.fh(a,"MediaStreamFilter");return{UL:"uiLabel",gv:function(a){if(a.lower&&a.height>d)return m[a.height]||(m[a.height]=!0,t.warn("Restricting resolution due to uiLabel",{MaxHeight:d,streamHeight:a.height}),c.jo.set({reason:"uiLabel",height:a.height})),!0;}};}});},function(d,c,a){var h,n,p;function b(a){var c,f;function b(d){d=d.$8a;a.removeEventListener(p.T.cea,b);try{n.Wmb(d.data[0])&&(f=!0,a.$zb());c.trace("RA check",{HasRA:f});}catch(y){c.error("RA check exception",y);}}c=h.fh(a,"RAF");a.addEventListener(p.T.cea,b);return{UL:"ra",gv:function(a){if(!f&&a.uu)return a=a.Jf,!(0<a.toLowerCase().indexOf("l30")||0<a.toLowerCase().indexOf("l31"));}};}Object.defineProperty(c,"__esModule",{value:!0});d=a(96);h=a(5);n=a(280);p=a(13);a=a(47);h.$.get(a.Mk).Uwb&&d.DI(b);c.wKb=b;},function(d,c,a){var h,n;function b(a,b){var c,f;c=n.fh(a,"MSS");if(h.config.tqb)return{UL:"mss",gv:function(a){var d,k;if(a.lower&&2160<=a.height)a:{for(d=a;d.lower;){if(2160>d.height&&1080<d.height){d=!0;break a;}if(1080>=d.height)break;d=d.lower;}d=!1;}else d=void 0;if(d){if(void 0===f){try{k=L.MSMediaKeys;f=k&&k.isTypeSupportedWithFeatures?"probably"===k.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(E){c.error("hasUltraHdDisplay exception");f=!0;}f||(c.warn("Restricting resolution due screen size",{MaxHeight:a.height}),b.jo.set({reason:"microsoftScreenSize",height:a.height}));}return!f;}}};}Object.defineProperty(c,"__esModule",{value:!0});d=a(96);h=a(12);n=a(5);d.DI(b);c.vKb=b;},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(96).DI(function(){return{UL:"op",gv:function(){}};});},function(d,c,a){var h,n,p,f,k,m,t,g,y;function b(a,b){var u,E,D,l,q,r,A,X,U,ia,T;function c(){var c;c=a.Lb.value===g.jb.Jc&&a.state.value===g.mb.od&&a.u===b.u;T?c||(clearInterval(T),r=T=void 0):c&&(T=L.setInterval(d,1E3));}function d(){var b,c,d,k,h,m;b=a.af.value;b=(b=b&&b.stream)&&b.height;if(null!==b&&0<b){c=f.ah();d=a.Si.wA();if(d){if(r&&2E3>c-r.time&&b===r.height){k=d-r.Qdb;h=E[b];h||(E[b]=h=[],b>X&&(q.push(b),p.c1(q)));0<k&&!(ia&&ia<b)&&(ia=b);h.push(k);h.length>A&&h.shift();(h=l[b])||(l[b]=h={});m=h[k];h[k]=m?m+1:1;}r={time:c,Qdb:d,height:b};a.BZ&&a.BZ.yzb(E);}}}u=k.fh(a,"DFF");E={};D=h.config.Udb;l={};q=[];A=h.config.Sdb;X=h.config.Tdb;U=n.DTa;if(h.config.Rdb)return b.A9={Ygb:function(){var a;a={};l&&q.forEach(function(b){var c,f,d;c=l[b];if(c){f=0;d=0;y.Gd(c,function(a,b){d+=m.fe(a);f+=b;});a[b]=d/f;}});return a;},nM:function(a){var b;b={};a.forEach(function(a){b[a]={};});l&&(p.c1(a),q.forEach(function(c){var f,d,k,h;f=l[c];if(f){d=0;k=0;y.Gd(f,function(a,b){d+=b;});h=Object.keys(f).map(Number);p.c1(h);for(var m=h.length-1,n=h[m],g=a.length-1;0<=g;g--){for(var u=a[g];n>=u&&0<=m;)(n=f[n])&&(k+=n),n=h[--m];b[u][c]=t.Ei(k/d*100);}}}));return b;}},a.state.addListener(c),a.Lb.addListener(c),a.addEventListener(g.T.Ho,c),{UL:"df",gv:function(a){var c,d,k,h;if(a.lower&&a.height>X){a=a.height;a:{if(ia){c=q.length;for(var f=0;f<c;f++){d=q[f];if(d>=ia&&d<U){k=E[d];if(h=k)b:{h=D.length;for(var m=k.length,n=0;n<h;n++)for(var t=D[n],p=t[0],t=t[1],g=0;g<m;g++)if(k[g]>=t&&0>=--p){h=!0;break b;}h=!1;}if(h&&U!=d){u.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:d});b.jo.set({reason:"droppedFrames",height:d});c=U=d;break a;}}}ia=void 0;}c=U;}a=a>=c;}else a=!1;return a;}};}Object.defineProperty(c,"__esModule",{value:!0});d=a(96);h=a(12);n=a(11);p=a(40);f=a(34);k=a(5);m=a(20);t=a(10);g=a(13);y=a(19);d.DI(b);c.uKb=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});d=a(5);a=a(349);a=d.$.get(a.jja);a;},function(d,c,a){var b,h,n,p,f,k,m,t,g,y,E,D,z,l,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(161);h=a(11);n=a(12);p=a(58);f=a(34);d=a(2);k=a(5);m=a(67);t=a(10);g=a(51);y=a(15);E=a(43);D=a(62);a=a(24);q=k.$.get(a.Cf);q.register(d.K.Fla,function(a){var d;function c(){var a,c,k,h;a=q.startTime;c={browserua:t.Fm,browserhref:t.V2.href,initstart:a,initdelay:q.endTime-a};(a=t.ne.documentMode)&&(c.browserdm=""+a);"undefined"!==typeof L.nrdp&&L.nrdp.device&&(c.firmware_version=L.nrdp.device.firmwareVersion);y.OA(n.config.Ixa)&&(c.fesn=n.config.Ixa);Object.assign(c,b.Wza());k=t.Es&&t.Es.timing;k&&n.config.Nob.map(function(a){var b;b=k[a];b&&(c["pt_"+a]=b-f.F9a());});h=d.vza();Object.keys(h).forEach(function(a){return c["m_"+a]=h[a];});a=l.bn("startup","info",c,p.UI.x$);z.Gc(a);}l=k.$.get(D.qp);z=k.$.get(E.Kk);d=k.$.get(m.fz);q.aN(function(){z.Xb();g.Pb(c);});a(h.pd);});},function(d,c,a){var b,h,n,p,f,k,m,t,g,y,E,D,z,l,q,N,P,W,Y;Object.defineProperty(c,"__esModule",{value:!0});b=a(196);h=a(125);n=a(12);p=a(11);f=a(2);k=a(18);m=a(5);t=a(67);g=a(53);y=a(71);E=a(19);D=a(10);z=a(15);l=a(40);q=a(102);N=a(3);d=a(24);P=a(361);W={};Y=m.$.get(d.Cf);Y.register(f.K.Hla,function(a){var G,M,r,S,oa,ta,wa,R,B,ja,Fa,H,la,Da;function c(b){b&&b.userList&&n.config.rAb&&(b.userList=[]);S({esn:h.ii.bh,esnPrefix:h.ii.bx,authenticationType:n.config.FK,authenticationKeyNames:n.config.Xta,systemKeyWrapFormat:n.config.eCb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:la,storeState:b,notifyMilestone:Y.$c.bind(Y),log:wa,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:f.G.$Ta,MSL_READ_TIMEOUT:f.G.ZTa}},{result:function(a){d(a);},timeout:function(){a({da:f.G.Dma});},error:function(b){a(u(f.G.Dma,void 0,b));}});}function d(b){var d,h,t;function c(){H&&m.$.get(y.qs).create().then(function(a){return a.save(ja,h,!1);})["catch"](function(a){wa.error("Error persisting msl store",f.op(a));});}d=m.$.get(q.$C)(N.Ib(100));t=oa.extend({init:function(a){this.Ara=a;},getResponse:function(a,b,c){var f,d;b=this.Ara;f=b.cEa.Ye||f;a=z.aCa(a.body)?m.K0(a.body):a.body;k.uL(a,"Msl should not be sending empty request");a={url:b.url,gfa:a,withCredentials:!0,gA:"nq-"+b.method,headers:b.headers};b=this.Ara.timeout;a.MU=b;a.nea=b;d=f.download(a,function(a){try{if(a.aa)c.result({body:a.content});else if(400===a.Oi&&a.lb)c.result({body:a.lb});else throw E.xb(new ta("HTTP error, SubCode: "+a.da+(a.Oi?", HttpCode: "+a.Oi:"")),{cadmiumResponse:a});}catch(Jb){c.error(Jb);}});return{abort:function(){d.abort();}};}});B&&b.addEventHandler("shouldpersist",function(a){h=a.storeState;d.Eb(c);});E.xb(W,{rSb:function(){Fa=!0;},send:function(a){function c(){var b,c;b=a.cEa;c={method:a.method,nonReplayable:a.urb,encrypted:a.wj,userId:a.GEb,body:a.body,timeout:2*a.timeout,url:new t(a),allowTokenRefresh:H,sendUserAuthIfRequired:Da,shouldSendUserAuthData:n.config.wAb};b.$wa?(c.email=b.$wa,c.password=b.password||""):b.OCb?(c.token=b.OCb,c.mechanism=b.xTb,b.dea&&(c.netflixId=b.dea,c.secureNetflixId=b.xyb),b.wfa&&(c.profileGuid=b.wfa)):b.dea?(c.netflixId=b.dea,c.secureNetflixId=b.xyb):b.Wpb?(c.mdxControllerToken=b.Wpb,c.mdxPin=b.vTb,c.mdxNonce=b.uTb,c.mdxEncryptedPinB64=b.tTb,c.mdxSignature=b.wTb):Fa||b.useNetflixUserAuthData?c.useNetflixUserAuthData=!0:b.wfa&&(c.profileGuid=b.wfa);return c;}return new Promise(function(a,d){var k;k=c();b.send(k).then(function(b){Fa&&(Fa=!1);a({aa:!0,body:b.body});})["catch"](function(a){var c,k;if(a.error){c=a.error.cadmiumResponse&&a.error.cadmiumResponse.da?a.error.cadmiumResponse.da:b.isErrorReauth(a.error)?f.G.Cma:b.isErrorHeader(a.error)?f.G.TTa:f.G.STa;k=b.getErrorCode(a.error);d(u(c,k,a.error));}else wa.error("Unknown MSL error",a),a.Xc=a.subCode,d({da:a.Xc?a.Xc:f.G.aUa});});});},AN:b});a(p.pd);m.$.get(P.O2).brb(W);}function u(a,b,c){var f,d,k,h;h={da:a,fF:b};if(c){f=function(a){var b;a=a||""+c;if(c.stack){b=""+c.stack;a=0<=b.indexOf(a)?b:a+b;}return a;};if(k=c.cadmiumResponse){if(d=k.Td&&k.Td.toString())k.Td=d;k.da=a;k.fF=b;k.lb=f(c.message);k.error={Xc:a,dh:d,Mr:b,data:c.cause,message:c.message};return k;}f=f(c.errorMessage);d=E.fe(c.internalCode)||E.fe(c.error&&c.error.internalCode);k=void 0!==c.Web?l.PEa(c.Web):void 0;}f&&(h.lb=f);d&&(h.Td=d);h.error={Xc:a,dh:d.toString(),Mr:b,data:k,message:f};return h;}k.Ra(n.config);G=m.$.get(t.fz);M=g.Yd.Gi;if(D.Nv&&D.po&&D.po.unwrapKey){try{r=L.netflix.msl;S=r.createMslClient;oa=r.IHttpLocation;ta=r.MslIoException;}catch(Qa){a({da:f.G.UTa});return;}wa=m.Jg("Msl");R=n.config.Yqb;B=n.config.$qb;ja=n.config.nr?"mslstoretest":"mslstore";r=b.qH.vIa;Fa=n.config.Qlb;H=!r||r.aa;la=m.Ym(n.config.nr?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");Da=!!n.config.Vga;m.$.get(y.qs).create().then(function(b){R?b.remove(ja).then(function(){c();})["catch"](function(a){wa.error("Unable to delete MSL store",f.op(a));c();}):B?b.load(ja).then(function(a){G.mark(M.WTa);c(a.value);})["catch"](function(d){d.da==f.G.Rv?(G.mark(M.YTa),c()):(wa.error("Error loading msl store",f.op(d)),G.mark(M.XTa),b.remove(ja).then(function(){c();})["catch"](function(b){a(b);}));}):c();})["catch"](function(b){wa.error("Error creating app storage while loading msl store",f.op(b));a(b);});}else a({da:f.G.VTa});});},function(d,c,a){var p,f,k,m;function b(a,b,c,d){var t,g,u;p.Ra(m.uf(a)&&!m.isArray(a));d=d||"";t="";g=a.hasOwnProperty(k.Pj)&&a[k.Pj];g&&f.Gd(g,function(a,b){t&&(t+=" ");t+=a+'="'+n(b)+'"';});c=(b?b+":":"")+c;g=d+"<"+c+(t?" "+t:"");u=a.hasOwnProperty(k.ns)&&a[k.ns].trim&&""!==a[k.ns].trim()&&a[k.ns];if(u)return g+">"+n(u)+"</"+c+">";a=h(a,b,d+"  ");return g+(a?">\n"+a+"\n"+d+"</"+c+">":"/>");}function h(a,c,d){var k;p.Ra(m.uf(a)&&!m.isArray(a));d=d||"";k="";f.Gd(a,function(a,h){var g;if("$"!=a[0])for(var t=f.lda(h),p=0;p<t.length;p++)if(h=t[p],k&&(k+="\n"),m.uf(h))k+=b(h,c,a,d);else{g=(c?c+":":"")+a;k+=d+"<"+g+">"+n(h)+"</"+g+">";}});return k;}function n(a){if(m.ee(a))return f.Cba(a);if(m.ma(a))return p.bV(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";p.Ra(!1,"Invalid xml value.");return"";}Object.defineProperty(c,"__esModule",{value:!0});p=a(18);f=a(19);k=a(129);m=a(15);c.NSb=b;c.OSb=h;c.RVb=n;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});d=a(2);b=a(5);h=a(329);a=a(24);b.$.get(a.Cf).register(d.K.Ela,function(a){b.$.get(h.Gka)().then(function(){a({aa:!0});})["catch"](function(c){b.log.error("error in initializing indexedDb debug tool",c);a({aa:!0});});});},function(d,c,a){var b,h,n,p,f,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(40);h=a(11);n=a(12);p=a(2);f=a(510);k=a(73);m=a(10);d=a(5);a=a(24);t=d.$.get(a.Cf);t.register(p.K.Rla,function(a){m.po&&m.po.generateKey&&m.po.importKey&&m.po.unwrapKey?!k.zh.dka&&n.config.FK!=f.dQ.lWa&&n.config.FK!=f.dQ.KTa||m.T2?(t.$c("wcs"),b.xG(m.po.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){t.$c("wcdone");a(h.pd);},function(b){var c;b=""+b;0<=b.indexOf("missing crypto.subtle")?c=p.G.Y3:0<=b.indexOf("timeout waiting for iframe to load")&&(c=p.G.$Za);a({da:c,lb:b});})):a({da:p.G.ZZa}):a({da:p.G.Y3});});},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(12);a(11);d=a(5);a(101);a(200);a(2);a(102);a(3);a=a(24);d.$.get(a.Cf);},function(d,c,a){var m,t,g,y,E;function b(a){var b,d;t.uL(a);if(g.ee(a)&&c.FSa.test(a)){b=a.split(".");if(4===b.length){for(var f=0;f<b.length;f++){d=g.fe(b[f]);if(0>d||!E.zx(d,0,255)||1!==b[f].length&&0===b[f].indexOf("0"))return;}return a;}}}function h(a){var c;c=0;if(b(a)===a)return a=a.split("."),c+=g.fe(a[0])<<24,c+=g.fe(a[1])<<16,c+=g.fe(a[2])<<8,c+g.fe(a[3]);}function n(a){var b;t.uL(a);if(g.ee(a)&&a.match(c.GSa)){b=a.split(":");-1!==b[b.length-1].indexOf(".")&&(a=p(b[b.length-1]),b.pop(),b.push(a[0]),b.push(a[1]),a=b.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==b.length)&&(b=1<a.length?f(a):b,a=b.length,8===a)){for(;a--;)if(!E.zx(parseInt(b[a],16),0,m.ETa))return;return b.join(":");}}}function p(a){var b;a=h(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function f(a){var b,c,f;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);c=8-(b.length+a.length);if(1>c)return[];for(f=0;f<c;f++)b.push("0");for(f=0;f<a.length;f++)b.push(a[f]);return b;}function k(a){return-1<<32-a;}Object.defineProperty(c,"__esModule",{value:!0});m=a(11);t=a(18);g=a(20);y=a(10);E=a(15);c.FSa=/^[0-9.]*$/;c.GSa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;c.HC="0000000000000000";c.OJb=b;c.KJb=h;c.PJb=n;c.MJb=p;c.NJb=f;c.QJb=function(a,f,d){var m,t,p,g;m=b(a);t=n(a);p=b(f);g=n(f);if(!m&&!t||!p&&!g||m&&!p||t&&!g)return!1;if(a===m)return d=k(d),(h(a)&d)!==(h(f)&d)?!1:!0;if(a===t){a=a.split(":");f=f.split(":");for(m=y.Ty(d/c.HC.length);m--;)if(a[m]!==f[m])return!1;d%=c.HC.length;if(0!==d)for(a=parseInt(a[m],16).toString(2),f=parseInt(f[m],16).toString(2),a=c.HC.substring(0,c.HC.length-a.length)+a,f=c.HC.substring(0,c.HC.length-f.length)+f,m=0;m<d;m++)if(a[m]!==f[m])return!1;return!0;}return!1;};c.LJb=k;},function(d,c,a){var b,h,n,p,f,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);h=a(18);a(19);n=a(20);p=a(2);f=a(73);k=a(51);m=a(10);a(15);t=a(139);c.WSb=function(a,c){var u,y,l;function d(a){var b;b=c;c=n.Pe;b(a);}function g(a){var b,c,f,m;try{b=JSON.parse(a.data);c=b.method;f=b.success;m=b.payload;h.Ra("ready"==c);"ready"==c&&(y.removeEventListener("message",g),l.th(),k.Pb(function(){u.info("Plugin sent ready message");f?d({success:!0,pluginObject:y,pluginVersion:m&&m.version}):d({da:p.G.Dna,Td:b.errorCode});}));}catch(A){u.error("Exception while parsing message from plugin",A);d({da:p.G.Ena});}}u=b.Jg("Plugin");h.Ra(a);if(a){a=a[0].type;u.info("Injecting plugin OBJECT",{Type:a});y=n.createElement("OBJECT",f.zh.eWa,void 0,{type:a,"class":"netflix-plugin"});y.addEventListener("message",g);l=b.$.get(t.bD)(8E3,function(){u.error("Plugin load timeout");d({da:p.G.Gna});});m.ne.body.appendChild(y);l.fu();}else d({da:p.G.Fna});};c.YSb=function(){};c.XSb=function(a){var c,f,d;c=b.Jg("Plugin");f=1;d={};a.addEventListener("message",function(a){var b,f,k,h;try{b=JSON.parse(a.data);f=b.success;k=b.payload;h=d[b.idx];h&&(f?h({aa:!0,OOb:k}):h({aa:!1,da:p.G.cWa,lb:b.errorMessage,Td:b.errorCode}));}catch(W){c.error("Exception while parsing message from plugin",W);}},!1);return function(k,h,m){var g,u,y,E;function n(a){a.aa||c.info("Plugin called back with error",{Method:k},p.op(a));y.th();delete d[g];m(a);}try{g=f++;u={idx:g,method:k};u.argsObj=h||{};y=b.$.get(t.bD)(8E3,function(){c.error("Plugin never called back",{Method:k});delete d[g];m({da:p.G.dWa});});y.fu();E=JSON.stringify(u);d[g]=n;a.postMessage(E);}catch(A){c.error("Exception calling plugin",A);m({da:p.G.fWa});}};};},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});d=a(5);c=a(101);a=a(200);d.$.get(c.KC).b_(a.vma.SNa,function(a){var b,c;b=a.level;if(!L._cad_global.config||b<=L._cad_global.config.Rob){a=a.q0();c=L.console;1>=b?c.error(a):2>=b?c.warn(a):c.log(a);}});},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(20);h=a(10);c.zNb=function(a,b,c){for(c=(c-a.length)/b.length;0<c--;)a+=b;return a;};c.xNb=function(a,c,f){f=b.ee(f)?f:"...";return a.length<=c?a:a.substr(0,a.length-(a.length+f.length-c))+f;};c.yNb=function(a,b){var d;for(var c=1;c<arguments.length;++c);d=h.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof d[b]?d[b]:a;});};c.ANb=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer;};c.hWb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,c){b[c]=a.charCodeAt(0);});return b;};},function(d){function c(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function b(a,b){return a+b;}d.P={Q9a:function(a,b,c){for(var f=0;f<a.length;f++)if(a[f]!==b[f])return c.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},G8:function(a,b,c){var f;f={};f.displayTime=a.vj;f.duration=a.duration;f.originX=a.pZ;f.originY=a.qZ;f.sizeX=a.R_;f.sizeY=a.S_;f.imageData=b;f.id=a.Br;f.rootContainerExtentX=c.p_;f.rootContainerExtentY=c.q_;return f;},Ohb:function(a,b){return"o_"+a+"s_"+b;},nLa:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},$b:function(a){return"undefined"!==typeof a;},uyb:function(a,b){return a.some(function(a){return a.id===b;});},Xdb:function(d,n){return d.filter(c.bind(null,n)).map(a).reduce(b,0);},jM:function(a,b){var c,f;c=Object.create({});for(f in a)c[f]=a[f];a instanceof Error&&(c.message=a.message,c.stack=a.stack);c.errorString=b;return c;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(d){function c(a){this.buffer=a;this.position=0;}c.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},pk:function(){return this.buffer.length-this.position;},ve:function(){return this.buffer[this.position++];},Hd:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},yc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},Tr:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},Ifa:function(){for(var a="",b;b=this.ve();)a+=String.fromCharCode(b);return a;},Mb:function(){return this.yc(2);},Pa:function(){return this.yc(4);},xg:function(){return this.yc(8);},VZ:function(){return this.yc(2)/256;},nO:function(){return this.yc(4)/65536;},yf:function(a){for(var b,c="";a--;)b=this.ve(),c+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return c;},cy:function(){return this.yf(4)+"-"+this.yf(2)+"-"+this.yf(2)+"-"+this.yf(2)+"-"+this.yf(6);},oO:function(a){for(var b=0,c=0;c<a;c++)b+=this.ve()<<(c<<3);return b;},zB:function(){return this.oO(4);},WP:function(a){this.buffer[this.position++]=a;},W0:function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);},VP:function(a){for(var b=a.length,c=0;c<b;c++)this.buffer[this.position++]=a[c];},kC:function(a,b){this.VP(a.Hd(b));}};d.P=c;},function(d,c,a){var r,S,A,X,U,ia;function b(a){r.call(this);this.Ahb=m;this.Vk=a.url;this.bK=a.request;this.hT=a.Oc||0;this.OS=a.Ih;this.zb=a.ka;this.$j=this.Zh=null;this.tJ={};this.Yv=0;this.OJ=a.bufferSize||4194304;this.z5={};this.Msa=a.version||1;a.key&&(this.uqa=a.crypto,this.rz=this.uqa.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.Mo?this.Zh=a.Mo:(this.Nd=a.offset,this.WD=a.size);}function h(){}function n(){}function p(a,b){var c,d,k,m,t,n,p,g;if(a)this.emit(U.ERROR,X.jM(a,ia.LTa));else try{if(2===this.Msa){d=new h();k=A.Gfa(b)[0];m=k.lx("636F6D2E-6E65-7466-6C69-782E68696E66");t=k.lx("636F6D2E-6E65-7466-6C69-782E6D696478");d.xX=m.kU;d.Eh=m.Eh;d.jm=m.jm;d.u=m.u;d.p_=m.p_;d.q_=m.q_;d.language=m.Cnb;d.lCb=m.OBb;d.startOffset=t.Jyb;n=[];p=0;for(a=0;a<t.Va.length;a++){g=t.Va[a];b={};b.duration=g.duration;b.size=g.size;n.push(b);p+=b.duration;}d.entries=n;d.endTime=p;c=d;}else{n=new S(b);p=new h();p.identifier=n.Tr(4);X.assert("midx"===p.identifier);p.version=n.yc(4);X.assert(0===p.version);p.xX=n.Hd(36);p.Eh=n.xg();p.jm=n.xg();p.u=n.xg();p.p_=n.Mb();p.q_=n.Mb();p.language=n.Hd(16);p.lCb=n.Hd(16);p.startOffset=n.xg();p.gn=n.Mb();d=[];for(g=t=0;g<p.gn;g++)a={},a.duration=n.yc(4),a.size=n.Mb(),d.push(a),t+=a.duration;p.entries=d;p.endTime=t;c=p;}this.Zh=c;f.call(this);}catch(Ha){this.emit(U.ERROR,X.jM(Ha,ia.MTa));}}function f(){var a,b;a=this.Zh;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.Vk,offset:b,size:a},this.emit(U.NTa,this.Zh),this.bK(b,k.bind(this))):this.emit(U.ERROR,X.jM({},ia.TUa));}function k(a,b){var c,f,d,k;c=this;if(a)c.emit(U.ERROR,X.jM(a,ia.eYa));else{f=0;d=[];k=0;try{c.Zh.entries.forEach(function(a){var h,m,t,p,g,y,E;m=f;t=c.Zh.xX;p=c.zb;if(2===c.Msa){h=new n();g=A.Gfa(b);h.entries=[];h.images=[];for(var u=0;u<g.length;u++)for(t=g[u],m=t.lx("636F6D2E-6E65-7466-6C69-782E73696478"),t=t.lx("636F6D2E-6E65-7466-6C69-782E73656E63"),p=0;p<m.Xo.length;p++){y={};E=m.Xo[p];y.vj=E.vj;y.duration=E.duration;y.pZ=E.pZ;y.qZ=E.qZ;y.R_=E.R_;y.S_=E.S_;y.Br=E.Br;y.GF=E.GF;if(E=t&&t.Xo[p])y.IV={Bx:E.Bx.slice(0),mode:E.mxa};h.entries.push(y);}}else{h=new S(b);g=new n();u=0;h.position=m;g.identifier=h.Tr(4);X.assert("sidx"===g.identifier);g.xX=h.Hd(36);X.Q9a(g.xX,t,p);g.duration=h.yc(4);g.gn=h.Mb();g.entries=[];for(g.images=[];u<g.gn;)m={},m.vj=h.yc(4),m.duration=h.yc(4),m.pZ=h.Mb(),m.qZ=h.Mb(),m.R_=h.Mb(),m.S_=h.Mb(),m.Br=h.xg(),m.GF=h.yc(4),u++,g.entries.push(m);h=g;}d.push(h);a.rha=h;h.Efa=k;h.kO=k+a.duration;k=h.kO;g=h.entries;g.length&&(h.startTime=g[0].vj,h.endTime=g[g.length-1].vj+g[g.length-1].duration);f+=a.size;});}catch(R){c.emit(U.ERROR,X.jM(R,ia.fYa));return;}c.$j=d;c.emit(U.gYa,this.$j);a=t.call(c,c.hT,2);a.length?D.call(c,a,c.hT,function(a){a&&c.zb.error("initial sidx download failed");c.emit(U.Boa);}):c.emit(U.Boa);}}function m(a){var b,c,f,d,k;b=t.call(this,a,2);c=(c=this.Zh)?c.endTime:void 0;if(a>c)return[];f=this.tJ.Yr;d=this.tJ.index;c=[];d=X.$b(d)&&this.$j[d+1];if(!(d&&d.entries.length||f&&!(a>f.endTime)))return[];b.length&&D.call(this,b,a);f&&f.images.length&&(c=y(f,a,[],this.Zh));d&&d.images.length&&(b=y(d,a,c,this.Zh),c.push.apply(c,b));b=E(c);if(this.$j&&0!=this.$j.length){c=this.$j[Math.floor(a/6E4)];if(!(c.Efa<=a&&a<=c.kO))a:{c=this.$j.length;if(!this.Veb){this.Veb=!0;b:{try{k=String.fromCharCode.apply(String,this.Zh.language);break b;}catch(R){}k="";}this.zb.error("bruteforce search for ",{movieId:this.Zh.u,packageId:this.Zh.jm,lang:k});}for(k=0;k<c;k++)if(f=this.$j[k],f.Efa<=a&&a<=f.kO){c=f;break a;}c=void 0;}k=c;}else k=void 0;if(c=k&&0<k.entries.length&&0===k.images.length)a:{c=k.entries.length;for(d=0;d<c;d++)if(f=k.entries[d],f.vj<=a&&f.vj+f.duration>=a){c=!0;break a;}c=!1;}return c?null:b;}function t(a,b){var c,k;c=[];if(a=g.call(this,a))this.tJ=a;else return this.tJ={},c;for(var f=0,d=this.$j?this.$j.length:0;f<b&&a.index+f<d;){k=this.$j[a.index+f];k&&!k.images.length&&c.push(k);f++;}return c;}function g(a){var b,c,f,d,k,h,m;c=this.tJ;f=c.Yr;d=c.index;k=this.$j;this.jk(X.$b(a));f&&(0===d&&a<=f.startTime?(m=!0,b=c):a>=f.startTime&&a<=f.endTime?(m=!0,b=c):(h=k[d-1],k=k[d+1],h&&a>h.endTime&&a<=f.startTime?(m=!0,b=c):k&&a>=f.endTime&&a<=k.endTime&&(m=!0,b={Yr:k,index:d+1})));if(!m)for(c=this.Zh.entries,f=c.length,d=0;d<f;d++)if(h=c[d].rha,a<=h.startTime||a>h.startTime&&a<=h.endTime){b={Yr:c[d].rha,index:d};break;}return b;}function y(a,b,c,f){var d,k,h,m,t,n;d=a.entries;k=d.length;h=[];t=0;if(!d.length)return h;for(;t<k;){m=d[t];if(m.vj<=b)m.vj+m.duration>=b&&h.push(X.G8(m,a.images[t].data,f));else{n=h.length&&h[h.length-1]||c.length&&c[c.length-1];if(n&&n.vj>b&&n.vj!==m.vj)break;n.Br!==m.Br&&h.push(X.G8(m,a.images[t].data,f));}t++;}return h;}function E(a){return a.map(function(b,c){b.duration+=X.Xdb(a.slice(c+1),b);return b;}).reduce(function(a,b){X.uyb(a,b.id)||a.push(b);return a;},[]);}function D(a,b,c){var f,d,k,h,m,t;f=this;d=a[0];k=a[a.length-1];0<d.entries.length&&(h=d.entries[0].Br,m=d.entries[d.entries.length-1]);0<k.entries.length&&(X.$b(h)||(h=k.entries[0].Br),m=k.entries[k.entries.length-1]);if(h){d=m.Br+m.GF-h;t=X.Ohb(h,d);f.z5[t]||(f.z5[t]=!0,l.call(f,a,b),f.bK({url:f.Vk,offset:h,size:d},function(b,d){var k,m,n,p;setTimeout(function(){delete f.z5[t];},1E3);if(b)c&&c(b);else{k=new S(d);m=0;p=[];a.forEach(function(a){a.entries.forEach(function(b,c){var d,t;k.position=b.Br-h;d={data:k.Hd(b.GF)};t=b.IV;t&&(d.Bx=t.Bx,d.mxa=t.mode,n=!0,p.push(d));a.images[c]=d;!b.IV&&X.nLa(a.images[c].data,f.jk.bind(f));m+=a.images[c].data.length;});});f.Yv+=m;n?f.rz.then(function(a){return W.call(f,p,a);}).then(function(){c&&c(null);})["catch"](function(a){f.zb.error("decrypterror",a);c&&c({aa:!1});}):c&&c(null);}}));}else c&&c(null);}function l(a,b){var k,h,m,t,n,p;function c(){return{pts:b,hasEnoughSpace:k.Yv+h<=k.OJ,required:h,currentSize:k.Yv,max:k.OJ,currentIndex:g.call(k,b).index,sidxWithImages:q.call(k),newSidxes:a.map(function(a){return k.$j.indexOf(a);})};}function f(a,b){k.OS&&!a&&k.zb.info("not done in iteration",b);}function d(a){var b,c,f;b=k.$j[a];c=b.images&&b.images.length;if(0<c){f=G([b]);b.images=[];k.Yv-=f;k.OS&&k.zb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:f,images:c});if(k.Yv+h<=k.OJ)return!0;}}k=this;h=G(a);k.zb.info("make space start:",c());if(!(k.Yv+h<=k.OJ)){m=g.call(k,b).index;t=!1;n=0;p=k.$j.length-1;if(0>m){k.zb.error("inconsistent sidx index");return;}for(;!t&&n<m-2;)t=d(n),n++;for(f(t,1);!t&&p>m+2;)t=d(p),p--;for(f(t,2);!t&&n<m;)t=d(n),n++;for(f(t,3);!t&&p>m;)t=d(p),p--;f(t,4);t||k.zb.error("could not make enough space",{maxBuffer:this.OJ});}k.zb.info("make space end",c());}function G(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.GF+a;},0);},0);}function q(){var a;a=[];this.Zh&&this.Zh.entries&&this.Zh.entries.reduce(function(b,c,f){var d;c=c.rha;d=0;c&&c.images.length&&(a.push(f),d=c.images.reduce(function(a,b){return a+b.data.length;},0));return b+d;},0);return a.join(", ");}function N(a,b){return a&&a.Efa<=b&&a.kO>=b;}function P(a,b){var c,f,d,k,h,m;c=this;f=c.Zh;d=c.$j;k=d&&d.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(f&&d){if(0===k)return[];f=d[0].duration;if(X.$b(f)&&0<f)f=Math.floor(a/f),h=f<k&&N(d[f],a)?d[f]:void 0;else for(c.OS&&c.zb.warn("duration not defined, so use brute force to get starting sidx"),f=0;f<k;f++){m=d[f];if(N(m,a)){h=m;break;}}if(X.$b(h)){h=[];for(var t=function(c){var f;f=c.vj<=a&&a<=c.vj+c.duration;return a<=c.vj&&c.vj<=b||f;};f<k;){m=d[f];h=h.concat(m.entries.filter(t));if(b<m.kO)break;f++;}h=h.map(function(a){return X.G8(a,null,c.Zh);});return E(h);}}}function W(a,b){var f,d;function c(a,b){var c,f;c=this;f=new Uint8Array(16);f.set(a.Bx);return c.uqa.decrypt({name:"AES-CTR",counter:f,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));X.nLa(a.data,c.jk.bind(c));});}f=this;try{d=[];a.forEach(function(a){a.Bx&&(a=c.call(f,a,b),d.push(a));});return(void 0).all(d);}catch(wa){return f.zb.error("decrypterror",wa),(void 0).reject(wa);}}r=a(133).EventEmitter;S=a(559);A=a(322);X=a(558);U=b.events={NTa:"midxready",gYa:"sidxready",Boa:"ready",ERROR:"error"};ia=b.bRb={LTa:"midxdownloaderror",MTa:"midxparseerror",TUa:"nosidxfoundinmidx",eYa:"sidxdownloaderror",fYa:"sidxparseerror"};b.prototype=Object.create(r.prototype);b.prototype.constructor=b;b.prototype.start=function(){var a;if(this.Zh)this.zb.warn("midx was prefectched and provided"),f.call(this);else{a={url:this.Vk,offset:this.Nd,size:this.WD,responseType:"binary"};this.zb.warn("downloading midx...");this.bK(a,p.bind(this));}};b.prototype.close=function(){};b.prototype.jk=function(a){this.OS&&X.assert(a,this.zb);};b.prototype.qx=function(a,b){return P.call(this,a,b);};b.prototype.Vaa=function(a,b){return(a=this.qx(a,b))?a.length:a;};d.P=b;},function(d,c,a){var n;function b(a,b){return b.reduce(h.bind(this,a),[]);}function h(a,b,c){var f,d;f=c.displayTime-a;a=c.displayTime+c.duration-a;d=0<b.length?b[0].timeout:Infinity;return 0<f&&f<d?[{timeout:f,type:"showsubtitle",se:c}]:f===d?b.concat([{timeout:f,type:"showsubtitle",se:c}]):0<a&&a<d?[{timeout:a,type:"removesubtitle",se:c}]:a===d?b.concat([{timeout:a,type:"removesubtitle",se:c}]):b;}n=a(133).EventEmitter;c=a(281)({});a=function f(a,b,c){if(!(this instanceof f))return new f(a,b,c);n.call(this);this.Vs=a;this.Z0a=b;this.mt={};this.XD={};this.zb=c||console;this.dS=!1;};a.prototype=Object.create(n.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.Uk);Object.keys(a.mt).forEach(function(b){a.emit("removesubtitle",a.mt[b]);});a.mt={};};a.prototype.pause=function(){clearTimeout(this.Uk);};a.prototype.Aq=function(a,c){var f,d;f=this;d=f.Vs();clearTimeout(this.Uk);a=f.Z0a(d);null!==a&&f.dS&&(f.dS=!1,f.emit("bufferingComplete"));c="number"===typeof c?c:0;Object.keys(f.mt).forEach(function(a){a=f.mt[a];a.displayTime<=d&&d<a.displayTime+a.duration||(delete f.mt[a.id],f.emit("removesubtitle",a));});Object.keys(f.XD).forEach(function(a){a=f.XD[a];d>=a.displayTime+a.duration&&delete f.XD[a.id];});null!==a&&0<a.length?(c=a.length,f.zb.info("found "+c+" entries for pts "+d),a.forEach(function(a){a.displayTime<=d&&d<a.displayTime+a.duration&&!f.mt[a.id]&&(f.emit("showsubtitle",a),f.mt[a.id]=a,delete f.XD[a.id]);}),c=a[a.length-1],f.mt[c.id]||f.XD[c.id]||(f.emit("stagesubtitle",c),f.XD[c.id]=c),c=b(d,a),0<c.length?f.qT(c[0].timeout):f.qT(2E4)):null===a?(a=250*Math.pow(2,c),2E3<a&&(a=2E3),f.zb.warn("checking buffer again in "+a+"ms"),f.dS||(f.dS=!0,f.emit("underflow")),f.qT(a,c+1)):f.qT(2E4);};a.prototype.qT=function(a,b){var c;c=this;c.zb.trace("Scheduling pts check.");c.Uk=setTimeout(function(){c.Aq(c.Vs(),b);},a);};d.P=c(["function","function","object"],a);},function(d,c,a){var f,k,m;function b(a){var b;b=1;"dfxp-ls-sdh"===this.gT&&(b=a.hPb.length);this.zb.info("show subtitle called at "+this.Vs()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.dw[this.dw.length-1].O_+=b;}function h(a){this.zb.info("remove subtitle called at "+this.Vs()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function n(){this.zb.info("underflow fired by the subtitle timer");this.emit("underflow");}function p(){this.zb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}f=a(133).EventEmitter;k=a(561);c=a(281)();m=a(560);a=function u(a,c){var d,g;d=this;g=a.Ih||!1;if(!(d instanceof u))return new u(a,c);f.call(d);d.zb=a.ka||console;d.bK=a.request;d.Vs=a.Tza;d.Uk=null;d.ct=!0;d.dw=[];d.gT=c.profile;d.Vk=c.url;d.hT=c.Oc;d.e3a=c.Qub;d.s0a=c.ro;a={url:d.Vk,request:d.bK,Oc:d.hT,xml:c.xml,Qub:d.e3a,ro:d.s0a,ka:d.zb,Ih:g,bufferSize:c.bufferSize,crypto:c.crypto,key:c.key,Mo:c.Mo};if("nflx-cmisc"===d.gT)a.offset=c.HY,a.size=c.Uda,d.Dd=new m(a);else if("nflx-cmisc-enc"===d.gT)a.version=2,a.offset=c.HY,a.size=c.Uda,d.Dd=new m(a);else throw Error("SubtitleManager: "+d.gT+" is an unsupported profile");d.Dd.on("ready",function(){var a,f;a=!!c.p7a;d.zb.info("ready event fired by subtitle stream");d.emit("ready");f=d.Dd.Ahb.bind(d.Dd);d.Uk=new k(d.Vs,f,d.zb);d.Uk.on("showsubtitle",b.bind(d));d.Uk.on("removesubtitle",h.bind(d));d.Uk.on("underflow",n.bind(d));d.Uk.on("bufferingComplete",p.bind(d));a&&(d.zb.info("autostarting subtitles"),setTimeout(function(){d.Aq(d.Vs());},10));});d.Dd.on("error",d.emit.bind(d,"error"));};a.prototype=Object.create(f.prototype);a.prototype.start=function(){this.Dd.start();};a.prototype.Aq=function(a){this.ct&&(this.ct=!1,this.zb.info("creating a new subtitle interval at "+a),this.dw.push({S:a,O_:0}));null!==this.Uk&&this.Uk.Aq(a);};a.prototype.stop=function(){var a;this.Vs();this.zb.info("stop called");this.ct||this.pause();this.Dd.removeAllListeners(["ready"]);null!==this.Uk&&this.Uk.stop();a=this.dw.reduce(function(a,b){a.XIa+=b.O_;a.vo+=b.zxa;a.nmb.push(b);return a;},{XIa:0,vo:0,nmb:[]});"object"===typeof this.Dd&&this.Dd.close();this.zb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.Vs();if(this.ct)this.zb.warn("pause called on subtitle manager, but it was already paused!");else{this.zb.info("pause called at "+a);this.ct=!0;this.zb.info("ending subtitle interval at "+a);b=this.dw[this.dw.length-1];b.ia=a;b.ia<b.S&&(this.zb.warn("correcting for interval where endPts is smaller than startPts"),b.S=0<b.ia?b.ia-1:0);b.zxa=this.Dd.Vaa(b.S,b.ia);this.zb.info("showed "+b.O_+" during this interval");this.zb.info("expected "+b.zxa+" for this interval");}null!==this.Uk&&this.Uk.pause();};a.prototype.qx=function(a,b){return this.Dd.qx(a,b);};a.prototype.Vaa=function(a,b){return this.Dd.Vaa(a,b);};a=c([{request:"function",Tza:"function",ka:"object"},"object"],a);d.P=a;},function(d,c,a){var h,n,p,f,k,m;function b(a,b,c,d){a=f.oe.call(this,a,void 0===d?"AppInfoConfigImpl":d)||this;a.config=b;a.v0=c;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(31);p=a(36);f=a(39);k=a(28);a=a(244);da(b,f.oe);b.prototype.bjb=function(a){return""+this.oxa+(this.v0.nha(a)?"/msl_v1":"");};b.prototype.jjb=function(a){return""+this.host+(this.v0.nha(a)?"/msl":"")+"/playapi";};pa.Object.defineProperties(b.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},oxa:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.PL){case n.Av.OYa:a="www.stage";break;case n.Av.rpa:a="www-qa.test";break;case n.Av.Zla:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}},gua:{configurable:!0,enumerable:!0,get:function(){return"pbo_events";}}});m=b;d.__decorate([p.config(p.string,"apiEndpoint")],m.prototype,"endpoint",null);d.__decorate([p.config(p.string,"nqEndpoint")],m.prototype,"oxa",null);d.__decorate([p.config(p.string,"bindService")],m.prototype,"gua",null);m=d.__decorate([h.N(),d.__param(0,h.l(k.hj)),d.__param(1,h.l(n.vl)),d.__param(2,h.l(a.PR)),d.__param(3,h.l(k.vC)),d.__param(3,h.optional())],m);c.tMa=m;},function(d,c,a){var b,h,n,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(563);h=a(121);d=a(1);n=a(94);p=a(17);c.h6a=new d.Bc(function(a){a(h.nC).to(b.tMa).Z();});c.profile=new d.Bc(function(a){a(n.XI).uy(function(a){return(a=a.hb.get(p.md)())&&a.nr?"browsertest":"browser";});});},function(d,c,a){var b,h,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(2);h=[b.K.jSa,b.K.Mla,b.K.Kla,b.K.Lla,b.K.Rla,b.K.Gla,b.K.Ela,b.K.x2,b.K.Sla,b.K.Hla,b.K.gSa,b.K.hSa,b.K.Fla,b.K.Dv,b.K.Bla,b.K.Dla,b.K.Ola,b.K.Pla,b.K.Qla,b.K.kSa,b.K.mSa,b.K.qSa,b.K.oSa,b.K.nSa,b.K.lSa,b.K.pSa,b.K.Nla,b.K.Jla,b.K.Ila,b.K.Cla];(function(a){a.bVa=function(a){var d;for(var c={},f=0;f<a.length;f++){d=a[f];if(c[d.errorCode])return{errorCode:d.errorCode,da:b.G.VLa};c[d.errorCode]=1;}};a.cVa=function(a){var f;for(var c=0;c<a.length;c++){f=a[c];if(-1===h.indexOf(f.errorCode))return{errorCode:f.errorCode,da:b.G.WLa};}};}(n||(n={})));c.gvb=function(a){return new Promise(function(b,c){var f;f=n.cVa(a);f&&c(f);(f=n.bVa(a))&&c(f);b(a.sort(function(a,b){return h.indexOf(a.errorCode)-h.indexOf(b.errorCode);}));});};},function(d,c,a){var h,n,p,f,k,m,t,g,y,E,l,z,G;function b(a,b,c,f,d,k){var h;h=this;this.aj=a;this.config=c;this.Ck=f;this.debug=d;this.ta=k;this.fKa=[];this.gd={};this.log=b.wb("loadAsync");this.gpb=l.hRa(function(a){h.Pwb=!0;h.startTime=h.ta.gc().ca(y.ha);h.load(h.fKa).then(function(){h.endTime=h.ta.gc().ca(y.ha);a(G.pd);})["catch"](function(b){h.endTime=h.ta.gc().ca(y.ha);a(b);});});}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(67);n=a(2);p=a(565);f=a(53);k=a(1);m=a(8);t=a(17);g=a(63);y=a(3);E=a(91);l=a(282);z=a(25);G=a(11);b.prototype.aN=function(a){this.gpb(a);};b.prototype.register=function(a,b){this.debug.assert(!this.Pwb);this.fKa.push({uob:this.J8a(b),errorCode:a});};b.prototype.$c=function(a){this.debug.assert(void 0===this.gd[a]);this.gd[a]=this.ta.gc().ca(y.ha);};b.prototype.load=function(a){var b;b=this;return p.gvb(a).then(function(a){b.aj.mark(f.Yd.Gi.aMa);return a.reduce(function(a,c){return a.then(function(){return b.qob(c);});},Promise.resolve()).then(function(){b.aj.mark(f.Yd.Gi.ZLa);});});};b.prototype.qob=function(a){var b,c;b=this;c=a.uob;return this.Ck.rm(y.Ib(this.config().Q6a),c())["catch"](function(c){b.log.error("Failed to load component "+a.errorCode,c);b.aj.mark(f.Yd.Gi.$La);if(c instanceof g.Pn)throw{da:n.G.YLa,errorCode:a.errorCode};c.errorCode=c.errorCode||a.errorCode;c.da=c.da||n.G.XLa;throw c;});};b.prototype.J8a=function(a){return function(){return new Promise(function(b,c){a(function(a){a.aa?b():c(a);});});};};a=b;a=d.__decorate([k.N(),d.__param(0,k.l(h.fz)),d.__param(1,k.l(m.Cb)),d.__param(2,k.l(t.md)),d.__param(3,k.l(g.Zy)),d.__param(4,k.l(E.ws)),d.__param(5,k.l(z.Bf))],a);c.PMa=a;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(566);h=a(24);c.R6a=new d.Bc(function(a){a(h.Cf).to(b.PMa).Z();});},function(d,c,a){var h,n,p,f,k,m;function b(a,b,c,f,d,m,n,g,l,q){var t;t=k.hR.call(this,b,c,l,q)||this;t.Gj=a;t.ka=f;t.he=d;t.ta=m;t.zub=n;t.nF=!1;t.ofa=Promise.resolve();t.VDa=g.B8({Eaa:function(){return p.Ib(100);}},function(){return t.Gh().BW()||0;});t.Hb.addListener(h.tb.loaded,function(){return t.JG();});return t;}Object.defineProperty(c,"__esModule",{value:!0});h=a(13);n=a(188);p=a(3);f=a(2);k=a(283);m=a(287);da(b,k.hR);b.prototype.LN=function(){this.JG();};b.prototype.eFa=function(){};b.prototype.rAa=function(a){var b,c,d,k,m;b=this.Fc.Hh(a);if(this.Gj.I0&&this.Fc.fa.pa===b.pa)return Promise.resolve(this.Gh().seek(b.Af,h.kg.Pv,void 0));c=this.tl.YW(b.pa);d=this.Gh().wr();if(c.state!==n.up.J1){k=c.state===n.up.Error?c.error:this.he(f.K.JVa,{lb:a});d.zkb({pa:b.pa,Ma:a,Xa:c.fb||{}},k);d.eo("Transition "+this.Fc.qg+"->"+a+" error "+k.hA);return Promise.reject();}b=d.Bb;if(!b)throw this.ka.debug("No streaming session. Aborting transition"),Error("No streaming session");this.ka.debug("going to next segment: "+this.Fc.qg+" -> "+a);d.eo("Transition "+this.Fc.qg+"->"+a);m=d.ku(a);m.Gk=this.ta.gc().ca(p.ha);return(void 0!==b.zW(a)?this.Akb(a,m.u):this.DO(a,m.u)).then(function(){d.fya(m.u);});};b.prototype.DO=function(a,b){var c;c=this.Fc.Hj.Va[a].Af;this.ka.debug("Segment is not pre-buffered - performing a regular seek");this.Gh().wr().eo("NO DATA "+a+", SEEKING "+c+", viewableId: "+b);return Promise.resolve(this.Gh().seek(c,h.kg.Pv,a,!0));};b.prototype.Akb=function(a,b){var c,f,d,k,m;c=this;f=this.Gh().wr();d=f.Bb;if(!d)throw Error("No streaming session");k=new Promise(function(a){function b(){c.ka.debug("Stopped ASE");d.removeEventListener("stop",b);a();}d.addEventListener("stop",b);});m=new Promise(function(a){function b(){c.ka.debug("Repositioned");f.removeEventListener(h.T.Uo,b);a();}function k(){c.ka.debug("Repositioning");f.removeEventListener(h.T.dy,k);d.stop();}f.addEventListener(h.T.dy,k);f.addEventListener(h.T.Uo,b);});k=Promise.all([k,m]).then(function(){if(!d.St(a,!1,!0))return f.eo("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),c.DO(a,b);f.fireEvent(h.T.ZY,{qg:c.Fc.qg,FN:a});});m=d.hL(void 0,this.Fc.Hj.Va[a].Af,a);this.ka.debug("Calling seek on internal player to "+m);this.Gh().seek(m,h.kg.XC,a,!0);return k;};b.prototype.pfa=function(a){if(!this.nF)return this.nF=!0,k.hR.prototype.pfa.call(this,a);this.JG();this.ofa=this.Gh().wr().Lb.when(function(a){return a!==h.jb.Vf;}).then(function(){});return this.tl.YW(a.u).gwb;};b.prototype.JG=function(){var a,b;a=this;if(this.isReady()){this.VDa.cancel();b=this.zub.uAb();b.result===m.sp.ima?this.VDa.observe(b.Mi,function(){a.JG();}):b.result===m.sp.a4&&this.$ub(b.uLa);}};b.prototype.$ub=function(a){var c,f,d,k,m,n,t;function b(a){a.u===m&&(c.Fc.qg=f,c.JG(),k.removeEventListener(h.T.Ho,b),c.Hb.Sb(h.VC.GO));}c=this;f=a.Ma;d=this.Fc.Hh(f);k=this.Gh().wr();a=Object.assign(this.tl.YW(a.pa).fb||{},{S:d.Af,ia:d.sg,Ri:!1,y0:Date.now(),UX:!0});m=k.E6({pa:d.pa,Ma:f,Xa:a});n=k.Wl(m);this.ka.debug("Creating new playback xid: "+n.ga+", movieId: "+n.u);k.addEventListener(h.T.Ho,b);t="pauseAtStart"!==d.ke;this.tl.Ezb(d.pa);k.eo("queueManifest",n.Ma);this.ofa=a=this.ofa.then(function(){return k.Qvb(m,t);}).then(function(){k.eo("queueManifest done",n.Ma);c.tl.zIa(d.pa);k.Tub(n);})["catch"](function(a){k.eo("queueManifest error "+a.hA,n.Ma);c.tl.Dzb(d.pa,a);throw a;});a.then(function(){return c.JG();});};c.KYa=b;},function(d,c,a){var h,n,p,f,k,m,t,g,y,E,l;function b(a,b,c,f,d,k,h,m){this.ta=a;this.he=b;this.Iyb=f;this.Gj=k;this.Px=h;this.km=m;this.Gyb=c.kx(!1,"6.0023.327.011",a.id,m,d);}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(60);p=a(25);f=a(128);k=a(568);m=a(460);t=a(252);g=a(17);y=a(283);E=a(253);a=a(29);b.prototype.create=function(a,b,c,f,d){var h,m;h=this.Iyb.Ebb(this.Gyb);m=this.Gj.H0||this.Gj.kLa&&1<Object.keys(a.Hj.Va).length;c.debug("Using "+(m?"single":"multiple")+" player playback strategy");return m?new k.KYa(this.Gj,a,b,c,this.he,this.ta,f,this.Px,h,d):new y.hR(a,b,h,d);};l=b;l=d.__decorate([h.N(),d.__param(0,h.l(p.Bf)),d.__param(1,h.l(n.yl)),d.__param(2,h.l(m.Xoa)),d.__param(3,h.l(t.J3)),d.__param(4,h.l(g.md)),d.__param(5,h.l(f.WI)),d.__param(6,h.l(E.N2)),d.__param(7,h.l(a.SI))],l);c.nXa=l;},function(d,c,a){var h,n,p,f,k;function b(a){return n.oe.call(this,a,"PlaygraphConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(39);p=a(28);f=a(36);k=a(3);da(b,n.oe);pa.Object.defineProperties(b.prototype,{hGa:{configurable:!0,enumerable:!0,get:function(){return 2;}},gGa:{configurable:!0,enumerable:!0,get:function(){return k.QY(3);}},H0:{configurable:!0,enumerable:!0,get:function(){return!1;}},I0:{configurable:!0,enumerable:!0,get:function(){return!1;}},kLa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});a=b;d.__decorate([f.config(f.vy,"prepareSegmentsUpfront")],a.prototype,"hGa",null);d.__decorate([f.config(f.jh,"prepareSegmentsDuration")],a.prototype,"gGa",null);d.__decorate([f.config(f.rd,"usePlaygraphForPostPlay")],a.prototype,"H0",null);d.__decorate([f.config(f.rd,"usePlaygraphForSkipSegment")],a.prototype,"I0",null);d.__decorate([f.config(f.rd,"useSinglePlayerPlayback")],a.prototype,"kLa",null);a=d.__decorate([h.N(),d.__param(0,h.l(p.hj))],a);c.gXa=a;},function(d,c,a){var h,n;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(152);b.prototype.Nbb=function(a){var d,h,p;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];d=this;if(0===b.length)throw Error("Empty playgraph");h=new n.uR().cha(this.rW(b[0]));b.reverse().forEach(function(a){var b;b=d.rW(a);h.Cp(b,Object.assign({pa:a,Af:0},p?{dn:p}:{}));p=b;});return h.ek();};b.prototype.rW=function(a,b){return a+":[startPts:"+(void 0===b?0:b)+"]";};b.prototype.l6a=function(a,b){var c,f,d,h;c=void 0===c?this.rW(b.u,b.S):c;f=void 0===f?"pauseAtStart":f;d=this.Dib(a);h=new n.uR(a);h.Cp(c,{pa:b.u,Af:b.S||0,ke:f});a=a.Va[d];b={};h.Cp(d,Object.assign({},a,{dn:c,next:Object.assign({},a.next||{},(b[c]={},b))}));return h.ek();};b.prototype.Dib=function(a){for(var b=a.li,c=b;c=a.Va[c].dn;)b=c;return b;};a=b;a=d.__decorate([h.N()],a);c.iXa=a;},function(d,c,a){var h,n;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);b.prototype.create=function(b,c,d){return new(a(284)).PZa(b,c,d);};n=b;n=d.__decorate([h.N()],n);c.rXa=n;},function(d,c,a){var h,n;function b(a,b,c){this.Gj=a;this.Of=b;this.tl=c;}Object.defineProperty(c,"__esModule",{value:!0});h=a(3);n=a(287);b.prototype.uAb=function(){var a,b,c,d,t;a=this.tl.qEa;if(!a)return{result:n.sp.KI};b=this.Of.Fc;if(b.qg===a.Ma)return{result:n.sp.a4,uLa:a};c=this.Ijb(b,b.qg,a.Ma);if(!c)return{result:n.sp.KI};d=c.duration;if(c.$t>=this.Gj.hGa)return{result:n.sp.KI};c=this.aza(b.qg);if(!c)return{result:n.sp.KI};b=this.Of.Gh().BW()||0;c=Math.max(0,c-b);d=c+d;t=this.Gj.gGa.ca(h.ha);if(d<=t)return{result:n.sp.a4,uLa:a};a=d-t;return c<a?{result:n.sp.KI}:{result:n.sp.ima,Mi:b+a};};b.prototype.Ijb=function(a,b,c){var k,h,d;b=a.mM(b);for(var f=0,d=0;b!==c&&void 0!==b;){f++;k=a.Hh(b);h=this.aza(b)||Infinity;d=d+(h-k.Af);b=a.mM(b);}return b?{$t:f,duration:d}:void 0;};b.prototype.aza=function(a){var b,c;b=this.Of.Fc;c=b.bAa(a);if(void 0!==c)return c;a=b.Hh(a);if(a=this.Of.Wl(a.pa))return a.ir.ca(h.ha);};c.oXa=b;},function(d,c,a){var h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});h=a(152);b.prototype.XCb=function(a){var b;if(!this.bnb(a.Va))return a;b=new h.uR().cha(a.li);Object.keys(a.Va).forEach(function(c){c===a.li?b.Cp(c,Object.assign(Object.assign({},a.Va[c]),{next:void 0,sg:void 0,dn:void 0})):b.Cp(c,a.Va[c]);});return b.ek();};b.prototype.bnb=function(a){var b;b=Object.keys(a).map(function(b){return a[b].pa;});return 1===new Set(b).size;};c.lXa=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(){}a.decode=function(b){return Object.assign({initialSegment:b.li,segments:a.scb(b.Va)},void 0!==b.ke?{transitionType:b.ke}:{});};a.encode=function(b){return Object.assign({li:b.initialSegment,Va:a.Geb(b.segments)},void 0!==b.transitionType?{ke:b.transitionType}:{});};a.ASb=function(a){return void 0!==a.li&&void 0!==a.Va;};a.JSb=function(a){return void 0!==a.pa&&void 0!==a.Af;};a.Geb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Feb(b[d]);return c;},{});};a.Feb=function(b){return Object.assign({pa:b.viewableId,Af:b.startTimeMs},b.endTimeMs?{sg:b.endTimeMs}:{},b.defaultNext?{dn:b.defaultNext}:{},b.transitionType?{ke:b.transitionType}:{},b.next?{next:a.Deb(b.next)}:{},b.transitionDelayZones?{u0:b.transitionDelayZones}:{});};a.Deb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Eeb(b[d]);return c;},{});};a.Eeb=function(a){return Object.assign({},void 0!==a.weight?{weight:a.weight}:{},a.transitionType?{ke:a.transitionType}:{});};a.scb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.rcb(b[d]);return c;},{});};a.rcb=function(b){return Object.assign({viewableId:b.pa,startTimeMs:b.Af},b.sg?{endTimeMs:b.sg}:{},b.dn?{defaultNext:b.dn}:{},b.ke?{transitionType:b.ke}:{},b.next?{next:a.pcb(b.next)}:{},b.u0?{transitionDelayZones:b.u0}:{});};a.pcb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.qcb(b[d]);return c;},{});};a.qcb=function(a){return Object.assign({},void 0!==a.weight?{weight:a.weight}:{},a.ke?{transitionType:a.ke}:{});};return a;}();c.hXa=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a){a&&(this.cha(a.li),this.Zzb(a.ke),this.Szb(a.Va));}a.prototype.cha=function(a){this.li=a;return this;};a.prototype.Zzb=function(a){this.ke=a;};a.prototype.Cp=function(a,c){this.Va||(this.Va={});this.Va[a]=this.fwa(c);return this;};a.prototype.Szb=function(a){var b;b=this;this.Va={};Object.keys(a).forEach(function(c){return b.Cp(c,a[c]);});};a.prototype.ek=function(){if(!this.Va)throw Error("Invalid playgraph - `segments` is not defined");if(!this.li)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.Va[this.li])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");return Object.assign({li:this.li,Va:this.Va},this.ke?{ke:this.ke}:{});};a.prototype.fwa=function(a){var b;b=this;return a&&"object"===typeof a?Object.keys(a).reduce(function(c,d){c[d]="object"===typeof a[d]?b.fwa(a[d]):a[d];return c;},{}):a;};return a;}();c.uR=d;},function(d,c,a){var h;function b(a){this.YS={};this.zha={};this.RKa=[];this.bJa=[];this.Hj=a;this.qg=a.li;}Object.defineProperty(c,"__esModule",{value:!0});h=a(152);b.prototype.PO=function(a){var d;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];d=this;b.filter(function(a){return d.FO(a.Ma);}).filter(function(a){a=a.FN;return!a||d.FO(a);}).forEach(function(a){d.YS[a.Ma]=d.xea(a.FN);});};b.prototype.Nta=function(a){var b;b=this;a.filter(function(a){return b.FO(a);}).forEach(function(a){b.YS[a]=b.xea(b.Hh(a).dn);});};b.prototype.fp=function(a,b){var c,d,m;c=this.Hh(a);if(c&&c.next){d=new h.uR(this.Hj);m=Object.keys(c.next).reduce(function(a,f){a[f]=void 0===b[f]?c.next[f]:Object.assign({},c.next[f],{weight:b[f]});return a;},{});m=Object.assign({},c,{next:m});d.Cp(a,m);this.Hj=d.ek();}};b.prototype.FO=function(a,b){b=void 0===b?this.Hj.Va:b;return a in b;};b.prototype.mM=function(a){return this.YS[a];};b.prototype.Hh=function(a){return this.Hj.Va[a];};b.prototype.bAa=function(a){return void 0===this.zha[a]?this.xea(this.Hh(a).sg):this.zha[a];};b.prototype.WDb=function(a,b){this.zha[a]=b;this.Qrb(a);};b.prototype.IBb=function(a){this.RKa.push(a);};b.prototype.JBb=function(a){this.bJa.push(a);};b.prototype.Srb=function(){var a;a=this;this.RKa.forEach(function(b){return b(a.Hj);});};b.prototype.Qrb=function(a){this.bJa.forEach(function(b){return b(a);});};b.prototype.xea=function(a){return null===a?void 0:a;};pa.Object.defineProperties(b.prototype,{Hj:{configurable:!0,enumerable:!0,get:function(){return this.d3a;},set:function(a){if(this.qg&&!this.FO(this.qg,a.Va))throw Error("Provided playgraphMap does not contain the current segmentId "+this.qg);this.d3a=a;this.YS={};a=Object.keys(a.Va);this.Nta(a);this.Srb();}},qg:{configurable:!0,enumerable:!0,get:function(){return this.o0a;},set:function(a){if(!this.FO(a))throw Error("Provided currentSegmentId "+a+" does not exist in the current playgraph");this.o0a=a;}},fa:{configurable:!0,enumerable:!0,get:function(){return this.Hh(this.qg);}}});c.qXa=b;},function(d,c,a){var h;function b(a){this.mh=a;this.ms={};this.LN();}Object.defineProperty(c,"__esModule",{value:!0});h=a(188);b.prototype.LN=function(){var a,b;a=this;b=this.mh.Hj.Va;Object.keys(b).map(function(c){var f,d;c=b[c].pa;if(!a.ms[c]){f=void 0;d=new Promise(function(a,b){f=function(c){(c?a:b)();};});a.ms[c]={state:h.up.gna,gwb:d,DHa:f};}});this.B0();};b.prototype.YW=function(a){return this.ms[a];};b.prototype.Ezb=function(a){this.ms[a].state=h.up.ela;this.B0();};b.prototype.Dzb=function(a,b){a=this.ms[a];a.state=h.up.Error;a.error=b;a.DHa(!1);this.B0();};b.prototype.zIa=function(a){a=this.ms[a];a.state=h.up.J1;a.DHa(!0);this.B0();};b.prototype.A5a=function(a,b){this.ms[a].fb=b;};b.prototype.B0=function(){var b;this.qEa=void 0;for(var a=this.mh.qg;a=this.mh.mM(a);){b=this.bba(a);if(this.ms[b].state===h.up.Error)break;if(this.ms[b].state===h.up.ela)break;if(this.ms[b].state===h.up.gna){this.qEa={pa:b,Ma:a};break;}}};b.prototype.bba=function(a){return this.mh.Hj.Va[a].pa;};c.sXa=b;},function(d,c,a){var h,n,p,f,k,m;function b(a,b,c,d,h,n,g){this.$N=d;this.tia=n;this.nF=!1;h.I0&&(a=new k.lXa().XCb(a));this.Fc=new f.qXa(a);this.tl=new p.sXa(this.Fc);this.tl.zIa(this.Fc.fa.pa);this.log=b.wb("PlaygraphManager");a=new m.oXa(h,this,this.tl);this.Hb=c.create();this.Xx=g.create(this.Fc,this.tl,this.log,a,this.Hb);this.jAb();}Object.defineProperty(c,"__esModule",{value:!0});h=a(13);n=a(188);p=a(578);f=a(577);k=a(574);m=a(573);b.prototype.DW=function(){return this.Fc.fa;};b.prototype.Rya=function(){return this.Fc.qg;};b.prototype.qjb=function(){return this.Fc.Hj;};b.prototype.PO=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.Fc.PO.apply(this.Fc,[].concat(fa(b)));};b.prototype.z9a=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.Fc.Nta(b);};b.prototype.RDb=function(a){this.Fc.Hj=a;};b.prototype.fp=function(a,b){this.Fc.fp(a,b);};b.prototype.fba=function(a,b,c){if(a!==this.Fc.qg)throw Error("Invalid currentSegmentId");if(b!==this.Fc.mM(a))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: "+a+" -> "+b);return this.Xx.rAa(b,c);};b.prototype.isReady=function(){return this.Xx.isReady();};b.prototype.addListener=function(a,b,c){this.Hb.addListener(a,b,c);};b.prototype.removeListener=function(a,b){this.Hb.removeListener(a,b);};b.prototype.ln=function(){return this.Xx.ln();};b.prototype.Gh=function(){return this.Xx.Gh();};b.prototype.Cp=function(a){var b,c;b=this;this.log.info("Adding segment - movieId: "+a.u+", startPts: "+a.S+", logicalEnd: "+(""+a.wn));if(this.nF){c=Object.keys(this.Fc.Hj.Va).find(function(c){return b.Fc.Hj.Va[c].pa===a.u;});if(c)return a.wn&&this.Fc.WDb(c,a.wn),null;c=this.$N.l6a(this.Fc.Hj,a);this.Fc.Hj=c;this.Gh().wr().eo("addSegment movieId: "+a.u+", startPts: "+a.S+", logicalEnd: "+a.wn);this.tl.A5a(a.u,a.fb);}c=this.Xx.pfa(a);this.nF||(this.Gh().wr().addEventListener(h.T.z_,function(a){return b.Fea(a);}),this.nF=!0);return c;};b.prototype.transition=function(a){var b;b=this.Fc.mM(this.Fc.qg);return b?this.fba(this.Fc.qg,b,a):(this.log.error("Next segment is not defined"),Promise.reject());};b.prototype.close=function(a){return this.Xx.close(a);};b.prototype.Wl=function(a){if(this.tl.YW(a).state==n.up.J1)return this.Gh().wr().Wl(a);};b.prototype.jAb=function(){var a;a=this;this.Fc.IBb(function(){a.tl.LN();a.Xx.LN();});this.Fc.JBb(function(b){a.Xx.eFa(b);});this.addListener(h.VC.GO,function(){return a.Gsb();});};b.prototype.Gsb=function(){var a;a=this.Gh().getError();a?this.Hb.Sb(h.tb.z7,a):(this.Hb.Sb(h.tb.Tta),this.Hb.Sb(h.tb.DK),this.Hb.Sb(h.tb.aC),this.Hb.Sb(h.tb.CH),this.Hb.Sb(h.tb.uP),this.Hb.Sb(h.tb.z7));};b.prototype.Fea=function(a){var b,c,f;b=a.metrics;if(b){c=this.Gh().wr();f=c.ku(a.segmentId);b=c.ku(b.srcsegment);this.tia.vvb(a,f,b);}};c.kXa=b;},function(d,c,a){var h,n,p,f,k,m,t,g;function b(a,b,c,f,d,k){this.cg=a;this.Z9=b;this.Gj=c;this.$N=f;this.tia=d;this.yub=k;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(579);p=a(8);f=a(128);k=a(464);m=a(286);t=a(187);a=a(457);b.prototype.create=function(a){return new n.kXa(a,this.cg,this.Z9,this.$N,this.Gj,this.tia,this.yub);};g=b;g=d.__decorate([h.N(),d.__param(0,h.l(p.Cb)),d.__param(1,h.l(k.CQ)),d.__param(2,h.l(f.WI)),d.__param(3,h.l(t.vR)),d.__param(4,h.l(a.ypa)),d.__param(5,h.l(m.qoa))],g);c.jXa=g;},function(d,c,a){var b,h,n,p,f,k,m,t,g,y;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(288);h=a(580);n=a(285);p=a(572);f=a(187);k=a(571);m=a(570);t=a(128);g=a(286);y=a(569);c.Of=new d.Bc(function(a){a(b.poa).to(h.jXa).Z();a(n.roa).to(p.rXa).Z();a(f.vR).to(k.iXa).Z();a(t.WI).to(m.gXa).Z();a(g.qoa).to(y.nXa).Z();});},function(d,c,a){var h,n,p,f,k,m,t,g,y,E;function b(a,b,c,d,h){c=g.fQ.call(this,c,d,h)||this;c.config=a;c.Hc=b;c.log=n.fh(c.j,"LegacyLicenseBroker");c.Wd=c.config().Wd;c.config().yfa?f.Vmb()?c.J0=!0:c.log.error("Promise based eme requested but platform does not support it",{browserua:k.Fm}):c.J0=!1;return c;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(2);n=a(5);p=a(117);f=a(40);k=a(10);m=a(1);t=a(199);g=a(289);y=a(92);da(b,g.fQ);b.prototype.Gva=function(a){var b;b=void 0===b?this.j:b;return new this.VN.yv(a,function(a){return b.fL.kM(a);},function(a){return b.fL.release(a);},{Ih:!1,OM:!1});};b.prototype.lL=function(b,c){var f,d,k,m,t,g;c=void 0===c?this.j:c;f=this;m=a(34).ah;this.VN.yv||this.Pd(h.K.Oy,h.G.pQa);k=n.fh(c,"Eme");d=this.Gva(k);t=n.$.get(p.ZC);g=t.jL(c.ad.value.cc);t=t.pL(c.zg.value.cc);return this.VN.zv(k,b,function(a){return c.$c(a);},{Ih:!1,OM:!1,VBa:this.config().vi,dIa:{HDa:this.config().cIa,Nua:this.config().Ega},Ia:{getTime:m},gy:d,rGa:!!this.J0,cb:this.Db.cb,jC:this.config().H9,onerror:function(a,b,c){return f.Pd(a,b,c);},uea:function(a){return f.cX(a);},lub:!0,Sta:g,qLa:t,IF:this.config().IF});};b.prototype.LB=function(a){var b;b=this;return this.J0?new Promise(function(c,f){if(b.Db.cb)b.Db.cb.setMediaKeys(a).then(function(){c();})["catch"](function(a){var c;c=b.pAa(a);f({aa:!1,code:h.K.h3,Xc:c.da,dh:c.Td,lb:c.lb,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};b.prototype.uxa=function(a){return{code:a.code,subCode:a.Xc,extCode:a.dh,edgeCode:a.$E,message:a.message,errorDetails:a.lb,errorData:a.MV,state:a.state};};b.prototype.dha=function(a,b,c){var d,k,h;function f(){k.tO()["catch"](function(a){d.log.error("Unable to set the license",d.uxa(a));a.cause&&a.cause.lb&&(a.lb=a.lb?a.lb+a.cause.lb:a.cause.lb);d.Pd(a.code,a,a.dh);});}c=void 0===c?this.j:c;d=this;k=c.Kf;this.log.info("Setting the license");h=b?function(){return Promise.resolve();}:function(){return k.oi(d.taa(),a);};return(b?function(){return k.T6(d.Db.cb);}:function(){return k.create(d.Wd).then(function(){return Promise.resolve();});})().then(function(){return d.config().DIa?d.LB(k.il):Promise.resolve();}).then(h).then(function(){return d.config().DIa?Promise.resolve():d.LB(k.il);}).then(function(){d.log.info("license set");d.aW(c.u);d.Db.ALa.then(function(){d.config().Ex&&(b||d.config().YL)&&(d.mHa=L.setTimeout(f,d.config().Ex));});})["catch"](function(a){d.log.error("Unable to set the license",d.uxa(a));a.cause&&a.cause.lb&&(a.lb=a.lb?a.lb+a.cause.lb:a.cause.lb);if(b)throw Error(a&&a.message?a.message:"failed to set license");d.Pd(a.code,a,a.dh);});};b.prototype.GFa=function(){return Promise.resolve();};b.prototype.Cea=function(a){var c;function b(){var b;c.j.Kf=c.lL(a.initDataType);b=[];c.j.oq.forEach(function(a){b.push(n.Ym(a));});c.dha(b);}c=this;this.log.trace("Received event: "+a.type);this.YM||(this.YM=!0,this.VN.zv?this.j.oq?this.config().cF&&this.config().Ro&&this.Hc()?this.Hc().Gya(this.j.u).then(function(a){c.j.Kf=a;return a.sWb.then(function(){var b;b=[];c.j.oq.forEach(function(a){b.push(n.Ym(a));});return c.dha(b,!0).then(function(){var b;if(a.LPb)c.Pd(h.K.tQa);else{b=n.fh(c.j,"Eme");a.cWb({log:b,fUb:function(a){return c.j.$c(a);}},{gy:c.Gva(b),onerror:function(a,b,f){return c.Pd(a,b,f);}});(b=a.vUb)&&c.cX(b);c.j.ru(a.gd||{});c.j.Iw="videopreparer";}});});})["catch"](function(a){c.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Pd(h.K.SVa)):this.Pd(h.K.Oy,h.G.qQa));};b.prototype.rHa=function(a){var b;a=void 0===a?this.j:a;a.Kf=this.lL("cenc");b=[];a.oq.forEach(function(a){b.push(n.Ym(a));});return this.dha(b,!1,a);};b.prototype.taa=function(){return this.config().YL?y.Tj.Gv:y.Tj.Gm;};pa.Object.defineProperties(b.prototype,{VN:{configurable:!0,enumerable:!0,get:function(){return a(73).zh;}},gB:{configurable:!0,enumerable:!0,get:function(){return this.J0?"encrypted":this.Db.R1+"needkey";}}});E=b;d.__decorate([t.iY],E.prototype,"VN",null);d.__decorate([t.iY],E.prototype,"gB",null);E=d.__decorate([m.N()],E);c.eTa=E;},function(d,c,a){var h,n,p,f,k,m,t,g,y,E;function b(a,b,c,f,d,k,h,m){f=g.fQ.call(this,f,d,k)||this;f.config=a;f.Ce=b;f.Hc=c;f.kA=h;f.Nda=m;f.log=n.fh(f.j,"LicenseBroker");f.YM=new Set();f.Mda=!1;return f;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(2);n=a(5);p=a(11);f=a(478);k=a(3);m=a(1);t=a(199);g=a(289);y=a(92);E=a(13);da(b,g.fQ);b.prototype.Cea=function(){var a,b,c;a=this;c=this.j.fa;this.YM.has(c.u)||(this.YM.add(c.u),((null===(b=c.wa)||void 0===b?0:b.jA)?this.o6a(c,c.wa.jA):this.config.cF&&this.Ce.Ro&&this.Hc()?this.p6a(c):Promise.reject())["catch"](function(){return a.sHa(c);}).then(function(){return a.Gta(c);})["catch"](function(b){return a.Fta(c,b);})["catch"](function(b){return a.Pd(b.code,b,b.dh);}));};b.prototype.p6a=function(a){var b;b=this;return this.Hc().Gya(a.u).then(function(c){return b.T6(c,a,"videopreparer");})["catch"](function(a){b.log.warn("eme not in cache",a);throw a;});};b.prototype.o6a=function(a,b){var c;c=this;return this.kA().then(function(f){var d;d=c.sza(a);f.WDa(d,b);f.UF().subscribe(c.Kya(a));return c.T6(b,a,"manifest");});};b.prototype.T6=function(a,b,c){this.lGa(a,b);b.Iw=c;this.Nda.LB(a.il);return a.U6().sP();};b.prototype.mgb=function(a){var b;b={};a.forEach(function(a){b[f.Mdb(a.yqb)]=a.time.ca(k.ha);});return b;};b.prototype.Lkb=function(a,b){this.log.trace("Key status",{viewable:a.u,keyId:n.Et(b.Cx),status:b.value});};b.prototype.lGa=function(a,b){var c,f,d;c=this;b.Kf=a;f={next:function(a){c.Lkb(b,a);},error:p.Pe,complete:p.Pe};d={next:function(a){c.Pd(a.code,a,a.dh);},error:p.Pe,complete:p.Pe};a.wnb().subscribe(f);(a=a.hF())&&a.subscribe(d);};b.prototype.Gta=function(a){var b;this.log.info("Successfully applied license for xid: "+a.ga+", viewable: "+a.u+", segment: "+a.Ma);b=a.Kf;(null===b||void 0===b?0:b.Pca)&&this.cX(b.Pca);this.ru(a);this.Mda?this.aW(a.u):this.LB(a);};b.prototype.Fta=function(a,b){this.ru(a);throw b;};b.prototype.ru=function(a){a.Kf&&a.ru(this.mgb(a.Kf.gd));};b.prototype.Kya=function(a){var b;b=this;return{next:function(c){b.YM.add(a.u);b.cX(c);},error:p.Pe,complete:p.Pe};};b.prototype.sza=function(a){return{type:this.taa(),yX:a.oq.map(function(a){return n.Ym(a);}),context:{Wd:this.config.Wd,cb:this.Db.cb},Og:{u:a.u,ga:a.ga,eg:a.eg,kk:a.kk,Cj:a.wa.Cj}};};b.prototype.sHa=function(a){var b;b=this;return this.kA().then(function(c){var f;f=b.sza(a);c.UF().subscribe(b.Kya(a));return c.oi(f,b.Nda).qr(function(c){b.lGa(c,a);b.j.fireEvent(E.T.$M,{u:a.u});return c.U6();}).sP();});};b.prototype.LB=function(a){var b;b=this;if(this.Mda)this.log.trace("Media Keys already set");else try{this.Db.cb?this.Db.cb.setMediaKeys(a.Kf.il).then(function(){b.aW(a.u);b.Mda=!0;})["catch"](function(a){a=b.pAa(a);b.Pd(h.K.h3,a,a.Td);}):this.aW(a.u);}catch(G){this.Pd(h.K.h3,G,void 0);}};b.prototype.GFa=function(){var a,b;a=this;b=this.j.fa.Kf;return b?this.kA().then(function(c){return new Promise(function(f){c.mBb(b,a.Nda).qr(function(a){return a.q6a();}).qr(function(b){a.log.trace("Fulfilled the last secure stop");a.Ce.vi&&a.j.Au.y_({success:!0,persisted:!1});return b.close();}).subscribe({error:function(b){a.log.error("Unable to get/add secure stop data",b);a.Ce.vi&&a.j.Au.y_({success:b.aa,ErrorCode:b.code,ErrorSubCode:b.Xc,ErrorExternalCode:b.dh,ErrorEdgeCode:b.$E,ErrorDetails:b.UE});f();},complete:function(){f();}});});}):Promise.resolve();};b.prototype.rHa=function(a){var b;a=void 0===a?this.j:a;b=this;return this.sHa(a).then(function(){return b.Gta(a);})["catch"](function(c){return b.Fta(a,c);});};b.prototype.taa=function(){return this.Ce.YL?y.Tj.Gv:y.Tj.Gm;};pa.Object.defineProperties(b.prototype,{gB:{configurable:!0,enumerable:!0,get:function(){return"encrypted";}},Wd:{configurable:!0,enumerable:!0,get:function(){return this.config.Wd;}}});a=b;d.__decorate([t.iY],a.prototype,"gB",null);a=d.__decorate([m.N()],a);c.hTa=a;},function(d,c,a){var h,n,p,f,k,m,t,g,y;function b(a,b,c,f,d,k){this.kA=a;this.Ce=b;this.he=c;this.config=f;this.oN=d;this.Hc=k;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(122);p=a(583);f=a(582);k=a(54);m=a(60);t=a(17);g=a(145);a=a(109);b.prototype.create=function(a,b,c){return a?new p.hTa(this.config(),this.Ce,this.Hc,this.he,b,c,this.kA,this.oN()):new f.eTa(this.config,this.Hc,this.he,b,c);};y=b;y=d.__decorate([h.N(),d.__param(0,h.l(n.zQ)),d.__param(1,h.l(k.Dm)),d.__param(2,h.l(m.yl)),d.__param(3,h.l(t.md)),d.__param(4,h.l(g.CI)),d.__param(5,h.l(a.cD))],y);c.gTa=y;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(303);h=a(584);c.sk=new d.Bc(function(a){a(b.kma).to(h.gTa);});},function(d,c,a){var h,n,p,f,k;function b(a){return n.oe.call(this,a,"TransportConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(39);p=a(28);f=a(36);k=a(31);da(b,n.oe);b.prototype.nha=function(a){var b,c;b=this.Nia;c=this.qta;switch(a){case k.Lv.wR:return b;case k.Lv.soa:return b&&!c;case k.Lv.dVa:return!1;}};pa.Object.defineProperties(b.prototype,{Nia:{configurable:!0,enumerable:!0,get:function(){return!0;}},qta:{configurable:!0,enumerable:!0,get:function(){return!1;}}});a=b;d.__decorate([f.config(f.rd,"usesMsl")],a.prototype,"Nia",null);d.__decorate([f.config(f.rd,"allowRequestsWithoutMsl")],a.prototype,"qta",null);a=d.__decorate([h.N(),d.__param(0,h.l(p.hj))],a);c.uZa=a;},function(d,c,a){var h,n,p,f,k;function b(a,b,c){this.receiver=b;this.Ye=c;this.log=a.wb("SslTransport");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(3);p=a(8);f=a(155);a=a(98);b.prototype.send=function(a,b){var c,f;c=this;f={url:a.url.href,gA:"nq-"+a.gk,gfa:JSON.stringify(b),MU:a.timeout.ca(n.ha),headers:a.headers,withCredentials:!0};return new Promise(function(a,b){c.Ye.download(f,function(c){c.aa?a(c):b(c);});}).then(function(f){f={status:"success",body:f.content};c.receiver.OG({command:a.gk,inputs:b,outputs:f});return f;})["catch"](function(f){var d;if(!f.error)throw f.Xc=f.da||f.Xc,c.receiver.OG({command:a.gk,inputs:b,outputs:f}),f;d=f.error;d.hy=f.hy;c.log.error("Error sending SSL request",{subCode:d.Xc,data:d.content,message:d.message});c.receiver.OG({command:a.gk,inputs:b,outputs:d});throw d;});};b.prototype.q8=function(){return{};};k=b;k=d.__decorate([h.N(),d.__param(0,h.l(p.Cb)),d.__param(1,h.l(f.tR)),d.__param(2,h.l(a.Py))],k);c.NYa=k;},function(d,c,a){var h,n,p,f,k,m,t;function b(a,b,c,f){var d;d=this;this.dB=b;this.receiver=c;this.profile=f;this.log=a.wb("MslTransport");this.dB().then(function(a){return d.bEa=a;});}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(8);p=a(136);f=a(3);k=a(155);a=a(94);m={license:!0};b.prototype.send=function(a,b){var c,d;c=this;d={cEa:Object.assign({Ye:a.Ye,log:a.log,profile:this.profile},a.O7a),method:a.gk,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.ca(f.ha),GEb:this.profile,TUb:!m[a.gk],urb:!!m[a.gk],wj:!0,o_:a.pga,headers:a.headers};return this.dB().then(function(f){return f.send(d).then(function(f){c.receiver.OG({command:a.gk,inputs:b,outputs:f});return f;})["catch"](function(f){var d;if(!f.error)throw f.Xc=f.da||f.Xc,c.receiver.OG({command:a.gk,inputs:b,outputs:f}),f;d=f.error;d.hy=f.hy;c.log.error("Error sending MSL request",{mslCode:d.Mr,subCode:d.Xc,data:d.data,message:d.message});c.receiver.OG({command:a.gk,inputs:b,outputs:d});throw d;});});};b.prototype.q8=function(){var a;return{userTokens:null===(a=this.bEa)||void 0===a?void 0:a.AN.getUserIdTokenKeys()};};t=b;t=d.__decorate([h.N(),d.__param(0,h.l(n.Cb)),d.__param(1,h.l(p.GI)),d.__param(2,h.l(k.tR)),d.__param(3,h.l(a.XI))],t);c.NUa=t;},function(d,c,a){var b,h,n,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(244);h=a(318);n=a(588);p=a(587);f=a(586);k=a(31);c.bDb=new d.Bc(function(a){a(b.PR).to(f.uZa).Z();a(h.Zma).to(n.NUa);a(h.apa).to(p.NYa);a(h.zpa).cf(function(a){return function(c){var f;return a.hb.get(b.PR).nha(null!==(f=null===c||void 0===c?void 0:c.Zqb)&&void 0!==f?f:k.Lv.wR)?a.hb.get(h.Zma):a.hb.get(h.apa);};});});},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.DWa="PboPingCommandSymbol";},function(d,c,a){var h,n,p,f,k;function b(a){return f.Ai.call(this,a,n.K.HVa,1,p.Wh.ping,p.Wg.As,p.Wh.ping)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(2);p=a(42);f=a(72);a=a(48);da(b,f.Ai);b.prototype.qf=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.xo(a);});};b.prototype.Pp=function(){return Promise.reject(Error("Links are unsupported with ping"));};k=b;k=d.__decorate([h.N(),d.__param(0,h.l(a.xl))],k);c.CWa=k;},function(d,c,a){var h,n,p,f,k;function b(a){return f.Ai.call(this,a,n.K.WMa,2,p.Wh.bind,p.Wg.As,p.Wh.bind)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(2);p=a(42);f=a(72);a=a(48);da(b,f.Ai);b.prototype.qf=function(a,b,c){var f;f=this;return this.send(a,"/bindDevice",b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.xo(a);});};b.prototype.Pp=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};k=b;k=d.__decorate([h.N(),d.__param(0,h.l(a.xl))],k);c.oWa=k;},function(d,c,a){var h,n,p,f,k;function b(a){return f.Ai.call(this,a,n.K.pVa,2,p.Wh.tFa,p.Wg.As,p.Wh.tFa)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(2);p=a(42);f=a(72);a=a(48);da(b,f.Ai);b.prototype.qf=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.xo(a);});};b.prototype.Pp=function(){return Promise.reject(Error("Links are unsupported with pair"));};k=b;k=d.__decorate([h.N(),d.__param(0,h.l(a.xl))],k);c.AWa=k;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.BWa="PboPairCommandSymbol";},function(d,c,a){var h,n,p,f,k;function b(a){return f.Ai.call(this,a,n.K.VMa,2,p.Wh.bind,p.Wg.As,p.Wh.bind)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(2);p=a(42);f=a(72);a=a(48);da(b,f.Ai);b.prototype.qf=function(a,b,c){var f;f=this;return this.send(a,"/"+this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw f.xo(a);});};b.prototype.Pp=function(){return Promise.reject(Error("Links are unsupported with bind"));};k=b;k=d.__decorate([h.N(),d.__param(0,h.l(a.xl))],k);c.nWa=k;},function(d,c,a){var h,n,p,f,k,m,t,g,y;function b(a,b,c,f,d,k,h,m,n){this.Xf=a;this.Ye=b;this.Fj=c;this.rdb=f;this.FF=d;this.nEb=k;this.cV=h;this.yxb=m;this.Uw=n;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(121);p=a(99);f=a(316);k=a(319);m=a(118);t=a(98);g=a(467);y=a(66);a=a(74);b=d.__decorate([h.N(),d.__param(0,h.l(n.nC)),d.__param(1,h.l(t.Py)),d.__param(2,h.l(p.Yy)),d.__param(3,h.l(k.Mna)),d.__param(4,h.l(m.JC)),d.__param(5,h.l(g.Dpa)),d.__param(6,h.l(y.bI)),d.__param(7,h.l(f.Yna)),d.__param(8,h.l(a.xs))],b);c.qWa=b;},function(d,c,a){var h,n,p,f,k,m;function b(a){return p.lp.call(this,a,n.K.xQa,f.Em.OL,3,m.Wg.LC)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(2);p=a(124);f=a(81);k=a(48);m=a(42);da(b,p.lp);b.prototype.sU=function(a){return Object.assign(Object.assign({},p.lp.prototype.sU.call(this,a)),{action:a.action});};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(k.xl))],a);c.LQa=a;},function(d,c,a){var h,n,p,f,k,m;function b(a){return p.lp.call(this,a,n.K.Noa,f.Em.splice,1,m.Wg.LC)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(2);p=a(124);f=a(81);k=a(48);m=a(42);da(b,p.lp);a=b;a=d.__decorate([h.N(),d.__param(0,h.l(k.xl))],a);c.MYa=a;},function(d,c,a){var h,n,p,f,k,m;function b(a){return p.lp.call(this,a,n.K.E2,f.Em.SM,1,m.Wg.LC)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(2);p=a(124);f=a(81);k=a(48);m=a(42);da(b,p.lp);a=b;a=d.__decorate([h.N(),d.__param(0,h.l(k.xl))],a);c.VSa=a;},function(d,c,a){var h,n,p,f,k,m;function b(a){return p.lp.call(this,a,n.K.Qoa,f.Em.stop,3,m.Wg.L2)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(2);p=a(124);f=a(81);k=a(48);m=a(42);da(b,p.lp);a=b;a=d.__decorate([h.N(),d.__param(0,h.l(k.xl))],a);c.RYa=a;},function(d,c,a){var h,n,p,f,k,m;function b(a){return p.lp.call(this,a,n.K.lYa,f.Em.start,3,m.Wg.As)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(2);p=a(124);f=a(81);k=a(48);m=a(42);da(b,p.lp);a=b;a=d.__decorate([h.N(),d.__param(0,h.l(k.xl))],a);c.PYa=a;},function(d,c,a){var h,n,p;function b(a,b){this.Pc=a;this.Ft=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(22);a=a(41);b.prototype.pKa=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.Pc.tZ(a.substring(a.indexOf("?")+1));});return{aa:!0,oc:a.map(function(a,b){return{id:a.drmSessionId,Dx:c[b].drmlicensecontextid,VF:c[b].licenseid};}),am:a.map(function(a){return{data:b.Ft.decode(a.licenseResponseBase64),sessionId:a.drmSessionId};})};};b.prototype.ZCb=function(a){return{aa:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.drmSessionId)&&c&&(a[b]=c);return a;},{})}};};p=b;p=d.__decorate([h.N(),d.__param(0,h.l(n.hf)),d.__param(1,h.l(a.Rj))],p);c.wWa=p;},function(d,c,a){var h,n,p;function b(a){this.Ia=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(38);p=a(3);b.prototype.VCb=function(a){var b;b=this.Ia.Ve.ca(p.Im);return{inputs:a.gi.map(function(c){return{drmSessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.ga.toString(),mdxControllerEsn:a.mN};}),Rca:"standard"===a.pi.toLowerCase()?"license":"ldl"};};b.prototype.YCb=function(a){var b,c,f,d;b=this;c=a.yyb||{};f=[];d=a.oc.map(function(d){var k;f.push(d.id);k=c[d.id];delete c[d.id];return{url:b.uua(d.Dx,d.VF),echo:"drmSessionId",params:{drmSessionId:d.id,secureStop:k,secureStopId:k?d.VF:void 0,xid:a.ga.toString()}};});Object.keys(c).forEach(function(f){d.push({url:b.uua(a.oc[0].Dx),echo:"drmSessionId",params:{drmSessionId:f,secureStop:c[f],secureStopId:void 0,xid:a.ga.toString()}});});return d;};b.prototype.uua=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(n.dj))],a);c.vWa=a;},function(d,c,a){var h,n,p,f,k;function b(a){return f.Ai.call(this,a,n.K.$Xa,3,p.Wh.oi,p.Wg.L2,"release/license")||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(2);p=a(42);f=a(72);a=a(48);da(b,f.Ai);b.prototype.qf=function(a,b){var c;c=this;return this.send(a,"/bundle",b).then(function(a){a=a.result;c.Sua(a);return a;})["catch"](function(a){throw c.xo(a);});};b.prototype.Pp=function(){return Promise.reject(Error("Links are unsupported with release"));};k=b;k=d.__decorate([h.N(),d.__param(0,h.l(a.xl))],k);c.KWa=k;},function(d,c,a){var h,n,p,f,k;function b(a){return f.Ai.call(this,a,n.K.Oy,3,p.Wh.oi,p.Wg.As,p.Wh.oi)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(2);p=a(42);f=a(72);a=a(48);da(b,f.Ai);b.prototype.qf=function(){return Promise.reject(Error("Links are required with acquire command"));};b.prototype.Pp=function(a,b,c){var f,d;f=this;b=b.uaa(c.Rca).href;d="license"===c.Rca?p.Wg.As:p.Wg.LC;this.M5="ldl"===c.Rca?"prefetch/license":p.Wh.oi;return this.send(a,b,c.inputs,"drmSessionId",d).then(function(a){a=a.result;f.Sua(a);f.g9a(a);return a;})["catch"](function(a){throw f.xo(a);});};b.prototype.g9a=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};k=b;k=d.__decorate([h.N(),d.__param(0,h.l(a.xl))],k);c.mWa=k;},function(d,c,a){var h,n,p,f,k,m,t,g,y,E,l,z,q,M,N,P,W,r,S,A,X;function b(a,b,c,d,k,h,m,n,t,g,u){a=y.Ai.call(this,a,p.K.MANIFEST,3,f.Wh.wa,f.Wg.As,f.Wh.wa)||this;a.platform=b;a.config=c;a.cV=d;a.R8a=k;a.mub=h;a.gl=m;a.kpb=n;a.G7=t;a.Ia=g;a.Vnb=u;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(127);p=a(2);f=a(42);k=a(465);m=a(5);t=a(17);g=a(66);a(162);y=a(72);E=a(48);l=a(240);z=a(436);q=a(290);M=a(106);N=a(47);P=a(31);W=a(175);r=a(38);S=a(3);A=a(268);a=a(204);da(b,y.Ai);b.prototype.qf=function(a,b){var c;c=this;this.M5=b.hx===n.wl.j3?"prefetch/manifest":f.Wh.wa;return this.ffb(b).then(function(f){var d,k;f=Q(f);d=f.next().value;k=f.next().value;return c.send(a,k.gk,d,void 0,c.Bjb(b.hx),void 0,b.hx===n.wl.H3?P.Lv.soa:P.Lv.wR).then(function(a){var b;a=c.kpb.create(a.result);b=a.If.tv.map(function(a){return a.oi;}).filter(Boolean);k.jA&&(0<b.length?(b=c.Vnb.pKa(b),k.jA.Wsa(b),a.jA=k.jA):k.jA.close().subscribe());return a;});})["catch"](function(a){throw c.xo(a);});};b.prototype.Pp=function(){return Promise.reject(Error("Links are not supported with manifest command"));};b.prototype.ffb=function(a){var b,c,f,d,h,n,p,t;b=this;c=a.Xa;f=Object.assign({},c.EK,c.Dn);d={};h=a.pa;d[h]={unletterboxed:!!f.preferUnletterboxed};n=this.config().zEb?30:25;p=m.rF();t=this.config().ip?this.gl.Thb():Promise.resolve(k.Nma.Tp());return Promise.all([p.Yjb(),p.Zjb(),p.xF(),p.oM(),this.nhb(a.ga),this.Whb(a),t]).then(function(k){var m,p,t,g,u,y;m=Q(k);p=m.next().value;t=m.next().value;g=m.next().value;u=m.next().value;y=m.next().value;k=m.next().value;m=m.next().value;p=(p||[]).concat(t||[]).concat(b.config().ov).concat(["BIF240","BIF320"]).filter(Boolean);t=u&&void 0!==u.SUPPORTS_SECURE_STOP?!!u.SUPPORTS_SECURE_STOP:void 0;u=u?u.DEVICE_SECURITY_LEVEL:void 0;g={type:"standard",viewableId:h,profiles:p,flavor:a.hx,drmType:m,drmVersion:n,usePsshBox:!0,isBranching:!!a.Xa.Ri,useHttpsStreams:!0,supportsUnequalizedDownloadables:b.config().bCb,imageSubtitleHeight:l.O3.Faa(),uiVersion:b.context.Fj.zP,uiPlatform:b.context.Fj.x0,clientVersion:b.platform.version,supportsPreReleasePin:b.config().cu.WBb,supportsWatermark:b.config().cu.XBb,showAllSubDubTracks:b.config().cu.BAb||!!f.showAllSubDubTracks,packageId:b.gjb(c),deviceSupportsSecureStop:t,deviceSecurityLevel:u,videoOutputInfo:g,titleSpecificData:d,preferAssistiveAudio:!!f.assistiveAudioPreferred,preferredTextLocale:f.preferredTextLocale,preferredAudioLocale:f.preferredAudioLocale,isUIAutoPlay:!!f.isUIAutoPlay,challenge:y,isNonMember:b.context.Fj.MF,pin:c.IFa,desiredVmaf:b.config().uEb?b.config().Wcb:b.config().Xcb};c.Axa&&(g.extraParams=c.Axa);y={gk:k?"licensedManifest":"manifest",jA:null===k||void 0===k?void 0:k.nb};k&&(k={drmSessionId:k.nb.px()||"session",clientTime:b.Ia.G_.ca(S.Im),challengeBase64:k.Kua},g.challenges={"default":[k]},g.profileGroups=[{name:"default",profiles:p}],g.licenseType="standard");return[g,y];});};b.prototype.gjb=function(a){if(this.config().QZ.enabled){if(void 0!==a.jm)return a.jm;if(void 0!==this.config().QZ.jm)return Number(this.config().QZ.jm);}};b.prototype.Bjb=function(a){switch(a){case n.wl.Gm:case n.wl.DPa:return f.Wg.As;case n.wl.z3:case n.wl.H3:return f.Wg.L2;case n.wl.j3:return f.Wg.LC;}};b.prototype.nhb=function(a){var b;b=this;return this.R8a.Jya().then(function(c){var f;f=a&&b.mub.mjb(a);f&&f.Vm("cad");return c;});};b.prototype.Whb=function(a){return(a.hx===n.wl.Gm||a.hx===n.wl.z3)&&this.config().ip&&this.config().N9a?this.G7.Zza():Promise.resolve(void 0);};X=b;X=d.__decorate([h.N(),d.__param(0,h.l(E.xl)),d.__param(1,h.l(N.Mk)),d.__param(2,h.l(t.md)),d.__param(3,h.l(g.bI)),d.__param(4,h.l(z.Hja)),d.__param(5,h.l(q.v3)),d.__param(6,h.l(M.Jv)),d.__param(7,h.l(W.zI)),d.__param(8,h.l(A.u1)),d.__param(9,h.l(r.dj)),d.__param(10,h.l(a.n3))],X);c.zWa=X;},function(d,c,a){var h,n,p,f,k;function b(a){return f.Ai.call(this,a,n.K.$Sa,1,p.Wh.PCa,p.Wg.LC,p.Wh.PCa)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(2);p=a(42);f=a(72);a=a(48);da(b,f.Ai);b.prototype.qf=function(a,b){var c;c=this;return this.send(a,"/"+this.name,b).then(function(a){return a.result;})["catch"](function(a){throw c.xo(a);});};b.prototype.Pp=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};k=b;k=d.__decorate([h.N(),d.__param(0,h.l(a.xl))],k);c.yWa=k;},function(d,c,a){var b,h,n,p,f,k,m,t,g,y,E,l,z,q,M,N,P,W,r,S,A,X,U,ia,T,ma,O,oa,B,H;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(351);h=a(607);n=a(127);p=a(606);f=a(338);k=a(605);m=a(336);t=a(604);g=a(335);y=a(603);E=a(204);l=a(602);z=a(81);q=a(601);M=a(600);N=a(45);P=a(2);W=a(599);r=a(598);S=a(597);A=a(48);X=a(596);U=a(193);ia=a(595);T=a(594);ma=a(593);O=a(355);oa=a(592);B=a(591);H=a(590);c.O9a=new d.Bc(function(a){a(A.xl).to(X.qWa);a(b.Sna).to(h.yWa);a(U.l3).to(ia.nWa);a(O.Kna).to(oa.oWa);a(T.BWa).to(ma.AWa);a(n.o3).to(p.zWa);a(f.Jna).to(k.mWa);a(m.Xna).to(t.KWa);a(g.Pna).to(y.vWa);a(E.n3).to(l.wWa);a(z.cpa).to(q.PYa);a(z.dpa).to(M.RYa);a(z.ema).to(W.VSa);a(z.$oa).to(r.MYa);a(z.Vka).to(S.LQa);a(H.DWa).to(B.CWa);a(z.S1).cf(function(a){return function(b){switch(b){case z.Em.start:return a.hb.get(z.cpa);case z.Em.stop:return a.hb.get(z.dpa);case z.Em.SM:return a.hb.get(z.ema);case z.Em.splice:return a.hb.get(z.$oa);case z.Em.OL:return a.hb.get(z.Vka);}throw new N.Ic(P.K.wVa,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(d,c,a){var h,n,p,f,k,m,t;function b(a,b){var c;c=this;this.yk=a;this.Rp=b;this.lKa=function(a){var b,f,d,k,h,m;b=c.MJa++;f=a.request.gA||"dl";d=c.mAa(f,"start");if(d){k=a.request.Lo.stream.O.Ak;if(k&&!c.rJa.has(k)){h=c.Nza(k);m=a.qq;c.yk.mark(d,h,m?f+"-"+m+"-"+b:f);a.x6(function(){var a,d;a=c.mAa(f,"end");d=m?f+"-"+m+"-"+b:f;a&&c.yk.mark(a,h,d);});}}};this.MJa=0;this.rJa=new Set();this.Kga=new Map();b.KL&&this.nFb();}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(53);p=a(67);f=a(3);k=a(65);a=a(31);m={start:{video:n.ya.qQ,audio:n.ya.mQ},end:{video:n.ya.pQ,audio:n.ya.lQ}};b.prototype.Oza=function(a){var c,d,k,h,m,p,t,g;function b(b){return f.timestamp(c.jta(f.timestamp(b),a,!0));}c=this;d=new Set();k=a.gd;h=a.WAb;m=a.ga;p=a.Ma;t=this.yk.xza(m);g=p&&this.Nza(p);g&&t.push.apply(t,[].concat(fa(this.yk.xza(g))));this.yk.gHa(a.ga);g&&this.yk.gHa(g);p&&this.rJa.add(p);p=[];"pr_ats"in k&&p.push({name:n.ya.CR,ds:b(k.pr_ats),ga:m,hk:"request-pre-manifest"});"ats"in k&&p.push({name:n.ya.AR,ds:b(k.ats),ga:m,hk:"request-manifest"});"pr_at"in k&&p.push({name:n.ya.BR,ds:b(k.pr_at),ga:m,hk:"request-pre-manifest"});"at"in k&&p.push({name:n.ya.zR,ds:b(k.at),ga:m,hk:"request-manifest"});"lg"in k&&p.push({name:n.ya.yR,ds:b(k.lg),ga:m,hk:"request-license"});"lr"in k&&p.push({name:n.ya.xR,ds:b(k.lr),ga:m,hk:"request-license"});"tt_start"in k&&p.push({name:n.ya.oQ,ds:b(k.tt_start),ga:m,hk:"request-timed-text"});"tt_comp"in k&&p.push({name:n.ya.nQ,ds:b(k.tt_comp),ga:m,hk:"request-timed-text"});return p.concat(t).map(function(b){return c.FCb(b,a);}).filter(function(a){return a.timestamp<=h?("end"===a.step&&d.add(a.eventId),!0):!1;}).filter(function(a){return"start"!==a.step||d.has(a.eventId)?!0:!1;}).sort(function(a,b){return a.timestamp-b.timestamp;});};b.prototype.R5a=function(a,b,c){return(void 0===c?0:c)?a.ca(f.ha)+b.zk.ca(f.ha):a.ca(f.ha)-b.zk.ca(f.ha);};b.prototype.jta=function(a,b,c){c=void 0===c?!1:c;if(b.Gk)if(c)a.ca(f.ha)+b.Gk;else return a.ca(f.ha)-b.Gk;return this.R5a(a,b,c);};b.prototype.FCb=function(a,b){var c;c=a.name;return{eventName:c,eventId:a.hk||c,timestamp:this.jta(a.ds,b),component:this.eM(c),category:this.mhb(c),step:this.Ujb(c)};};b.prototype.eM=function(a){switch(a){case n.ya.CR:case n.ya.BR:case n.ya.AR:case n.ya.zR:return"manifest";case n.ya.yR:case n.ya.xR:case n.ya.D3:case n.ya.C3:case n.ya.FQ:case n.ya.EQ:case n.ya.b1:case n.ya.a1:return"license";case n.ya.oQ:case n.ya.nQ:case n.ya.mQ:case n.ya.lQ:case n.ya.qQ:case n.ya.pQ:case n.ya.$0:case n.ya.Z0:return"buffering";case n.ya.d3:case n.ya.c3:return"playback";default:return null;}};b.prototype.mhb=function(a){switch(a){case n.ya.CR:case n.ya.BR:case n.ya.AR:case n.ya.zR:return"aws";case n.ya.yR:case n.ya.xR:return"mixed";case n.ya.d3:case n.ya.c3:case n.ya.D3:case n.ya.C3:case n.ya.FQ:case n.ya.EQ:case n.ya.b1:case n.ya.a1:case n.ya.$0:case n.ya.Z0:return"dev";case n.ya.oQ:case n.ya.nQ:case n.ya.mQ:case n.ya.lQ:case n.ya.qQ:case n.ya.pQ:return"cdn";default:return null;}};b.prototype.Ujb=function(a){switch(a){case n.ya.CR:case n.ya.d3:case n.ya.AR:case n.ya.yR:case n.ya.$0:case n.ya.oQ:case n.ya.mQ:case n.ya.qQ:case n.ya.D3:case n.ya.FQ:case n.ya.b1:return"start";case n.ya.BR:case n.ya.c3:case n.ya.zR:case n.ya.xR:case n.ya.C3:case n.ya.EQ:case n.ya.a1:case n.ya.Z0:case n.ya.nQ:case n.ya.lQ:case n.ya.pQ:return"end";default:return null;}};b.prototype.mAa=function(a,b){if(a in m[b])return m[b][a];};b.prototype.zDb=function(){k.Ye.removeEventListener(k.Dba,this.lKa);};b.prototype.nFb=function(){this.zDb();k.Ye.addEventListener(k.Dba,this.lKa);};b.prototype.Nza=function(a){var b;if(this.Kga.has(a))return this.Kga.get(a);b=Date.now();this.Kga.set(a,b);return b;};t=b;t=d.__decorate([h.N(),d.__param(0,h.l(p.EI)),d.__param(1,h.l(a.vl))],t);c.IUa=t;},function(d,c,a){var h;function b(a,b,c,d){this.l9=a;this.debug=b;this.ta=c;this.j=d;this.sZ=[];this.RY={};this.n9={};this.p$=!1;this.MJa=1;this.XMa=7.8125;}Object.defineProperty(c,"__esModule",{value:!0});h=a(3);a(13);a(15);a(65);b.prototype.register=function(a,b){this.debug.assert(!(0<=this.sZ.indexOf(a)),"panel already registered");this.RY[a]=b;this.sZ.push(a);};b.prototype.IEa=function(a){var b;b=this;this.n9[a]=!0;this.p$||(this.p$=!0,setTimeout(function(){return b.Wfb();},0));};b.prototype.Rib=function(a){return(a=this.RY[a])?a():void 0;};b.prototype.IW=function(){var a;a=this.j.BZ;return a?a.IW():[];};b.prototype.addEventListener=function(a,b){this.l9.addListener(a,b);this.RY[a]&&this.IEa(a);};b.prototype.removeEventListener=function(a,b){this.l9.removeListener(a,b);};b.prototype.getTime=function(){return this.ta.gc().ca(h.ha);};b.prototype.Wfb=function(){this.p$=!1;for(var a=this.sZ.length,b;a--;)b=this.sZ[a],this.n9[b]&&(this.n9[b]=!1,this.l9.Sb(b+"changed",{getModel:this.RY[b]}));};c.TPa=b;},function(d,c,a){var h,n,p,f,k,m,t;function b(a,b,c,f,d,n,g,l,q){var u;u=this;this.iDb=a;this.j=b;this.id=c;this.height=f;this.width=d;this.Ytb=n;this.Ztb=g;this.size=l;this.me=q;this.type=h.Vg.yia;this.dv=!0;this.state=k.Rn.mR;this.Lg={};this.mU={};this.uvb=function(a){if(a.aa)try{u.data=u.iDb.parse(a.content);u.state=k.Rn.LOADED;u.log.trace("TrickPlay parsed",{Images:u.data.images.length},u.Lg);u.j.fireEvent(m.T.uP);}catch(S){u.state=k.Rn.pna;u.log.error("TrickPlay parse failed.",S);}else u.state=k.Rn.mR,u.log.error("TrickPlay download failed.",t.op(a),u.Lg);};this.log=p.fh(b,"TrickPlay");}Object.defineProperty(c,"__esModule",{value:!0});h=a(80);n=a(12);p=a(5);f=a(65);k=a(314);m=a(13);t=a(2);b.prototype.iib=function(a){if(this.data&&(a=Math.floor(a/this.data.yo.dKa),0<=a&&a<this.data.images.length))return{image:this.data.images[a],time:a*this.data.yo.dKa,height:this.height,width:this.width,pixelAspectHeight:this.Ytb,pixelAspectWidth:this.Ztb};};b.prototype.RW=function(){switch(this.state){case k.Rn.LOADED:return"downloaded";case k.Rn.LOADING:return"loading";case k.Rn.vI:return"downloadfailed";case k.Rn.pna:return"parsefailed";default:return"notstarted";}};b.prototype.download=function(){var a;a=this.rkb();a?(this.state=k.Rn.LOADING,this.Adb(a)):this.dv=!1;};b.prototype.Vc=function(){return this.state;};b.prototype.rkb=function(){var a,b,c;a=this;b=Object.keys(this.me).find(function(b){return(a.mU[a.me[b]]||0)<=n.config.eDb;});if(b){c=this.me[b];c in this.mU?this.mU[c]++:this.mU[c]=1;return{url:c,Kw:b};}};b.prototype.Adb=function(a){this.log.trace("Downloading",a.url,this.Lg);a={responseType:f.rX,ec:this.aaa(a.Kw),url:a.url,track:this};this.j.sX.download(a,this.uvb);};b.prototype.aaa=function(a){return this.j.sj.find(function(b){return b&&b.id===a;});};c.wZa=b;},function(d,c,a){var n,p,f,k;function b(a,b,c,f){this.ga=a;this.Bxb=b;this.ka=c;this.app=f;this.gd={};}function h(a,b){this.cg=a;this.app=b;this.zd={};this.ka=a.wb("PlaybackMilestoneStoreImpl");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);n=a(1);p=a(8);f=a(25);k=a(3);h.prototype.Owb=function(a,c){this.zd[a]&&this.ka.warn("registerPlayback: xid "+a+" already registered, overriding");c=(c?c:this.app.gc()).ca(k.ha);this.ka.trace("registerPlayback: xid "+a+" at "+c);this.zd[a]=new b(a,c,this.ka,this.app);return this.zd[a];};h.prototype.mjb=function(a){this.zd[a]||this.ka.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.zd[a];};h.prototype.dxb=function(a){this.ka.trace("removePlayback: xid "+a);delete this.zd[a];};a=h;a=d.__decorate([n.N(),d.__param(0,n.l(p.Cb)),d.__param(1,n.l(f.Bf))],a);c.$Wa=a;b.prototype.Vm=function(a,b){b=b?b.ca(k.ha):this.app.gc().ca(k.ha)-this.Bxb;this.ka.trace("addMilestone: xid "+this.ga+" "+a+" at "+b);this.gd[a]=b;};},function(d,c,a){var h,n,p,f,k,m,t,g,y,E,l,q,G,M;function b(a,b,c,d,k){var n;n=this;this.j=a;this.ii=b;this.EP=c;this.Pc=d;this.fJa=k;this.Q8={};this.update=function(){var a;if(n.xm.selectionStart==n.xm.selectionEnd){a="";n.IW().forEach(function(b){a=a?a+"\n":"";Object.keys(b).forEach(function(c){a+=c+": "+b[c]+"\n";});});n.xm.style.fontSize=f.Gs(m.Ty(n.element.clientHeight/60),8,18)+"px";n.xm.value=a;}};this.xsb=function(){var a,b;if(n.j.Si){b=n.j.Si.wA();b&&(n.O8=b-(null!==(a=n.jKa)&&void 0!==a?a:0),n.jKa=b,n.MN());}};this.MN=function(){n.EP.Eb(n.update);};this.onkeydown=function(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(a.keyCode==y.Bs.DOa||a.keyCode==y.Bs.Q)&&n.toggle();};this.PFa=[a.Yb,a.ec[h.Uc.Na.AUDIO],a.ec[h.Uc.Na.VIDEO],a.fg,a.af,a.Yk,a.ef,a.qj,a.state,a.io,a.Lb,a.volume,a.muted];this.element=this.Pc.createElement("div","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});this.xm=this.Pc.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto",void 0,{readonly:"readonly"});this.element.appendChild(this.xm);this.controls=this.Pc.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);b=this.Pc.createElement("button",void 0,"X");b.addEventListener("click",function(){return n.zo();},!1);this.controls.appendChild(b);p.Le.addListener(p.BA,this.onkeydown);a.addEventListener(g.T.pf,function(){p.Le.removeListener(p.BA,n.onkeydown);n.zo();});}Object.defineProperty(c,"__esModule",{value:!0});h=a(50);n=a(58);p=a(57);f=a(97);k=a(191);m=a(10);t=a(15);g=a(13);y=a(108);E=a(3);d={};l=(d[g.mb.PC]="Not Loaded",d[g.mb.LOADING]="Loading",d[g.mb.od]="Normal",d[g.mb.CLOSING]="Closing",d[g.mb.CLOSED]="Closed",d);d={};q=(d[g.gf.od]="Normal",d[g.gf.ye]="Pre-buffering",d[g.gf.Ooa]="Network stalled",d);d={};G=(d[g.jb.Vf]="Waiting for decoder",d[g.jb.Jc]="Playing",d[g.jb.yh]="Paused",d[g.jb.Eq]="Media ended",d);M=[g.T.DY,g.T.E7a];b.prototype.yzb=function(a){this.Q8.DFR=a;};b.prototype.show=function(){var a;a=this;this.visible||(this.mmb=L.setInterval(this.xsb,1E3),this.j.zf.appendChild(this.element),this.PFa.forEach(function(b){b.addListener(a.MN);}),M.forEach(function(b){a.j.addEventListener(b,a.MN);}),this.visible=!0);this.update();};b.prototype.zo=function(){var a;a=this;this.visible&&(clearInterval(this.mmb),this.jKa=this.O8=void 0,this.j.zf.removeChild(this.element),this.PFa.forEach(function(b){b.removeListener(a.MN);}),M.forEach(function(b){a.j.removeEventListener(b,a.MN);}),this.EP.Eb(),this.visible=!1);};b.prototype.toggle=function(){this.visible?this.zo():this.show();};b.prototype.IW=function(){var b,c,d,p,g,u,y,D,z,M,r,O,oa,B,H,R,Aa,ja,Fa,Ha,la,Da,Qa,Oa,L,Q,V,Z,da,ea,fa,ga,ca,ha,ka,na,pa;b=this;M=[];r=this.ii();M.push({Version:"6.0023.327.011",Esn:r?r.bh:"UNKNOWN",PBCID:this.j.hk,UserAgent:m.Fm});try{O={MovieId:this.j.u,TrackingId:this.j.Rh,Xid:this.j.ga+" ("+n.On.map(function(a){return a.ga;}).join(", ")+")",Position:f.Vh(this.j.Yb.value),Duration:f.Vh(this.j.ir.ca(E.ha)),Volume:m.Ei(100*this.j.volume.value)+"%"+(this.j.muted.value?" (Muted)":"")};if(this.j.Xa.Ri||this.j.Xa.UX)O["Segment Position"]=f.Vh(this.j.yA()),O.Segment=this.j.Caa();M.push(O);}catch(Xb){}try{oa=this.j.fl?this.j.fl.vlb():void 0;M.push({"Player state":l[this.j.state.value],"Buffering state":q[this.j.io.value]+(t.ma(oa)?", ETA:"+f.Vh(oa):""),"Rendering state":G[this.j.Lb.value]});}catch(Xb){}try{B=this.j.Pia()+this.j.Z6();H=this.j.fg.value;R=null===H||void 0===H?void 0:H.stream;Aa=this.j.af.value;ja=null===Aa||void 0===Aa?void 0:Aa.stream;Fa=null!==(c=null===R||void 0===R?void 0:R.R)&&void 0!==c?c:"?";Ha=ja?ja.R+" ("+ja.width+"x"+ja.height+")":"?";la=null!==(d=null===ja||void 0===ja?void 0:ja.uc)&&void 0!==d?d:"?";Da=null!==(g=null===(p=this.j.ef.value)||void 0===p?void 0:p.uc)&&void 0!==g?g:"?";Qa=null!==(y=null===(u=this.j.Yk.value)||void 0===u?void 0:u.R)&&void 0!==y?y:"?";Oa=null!==(z=null===(D=this.j.ef.value)||void 0===D?void 0:D.R)&&void 0!==z?z:"?";L=this.j.ec[h.Uc.Na.VIDEO].value;Q=this.j.ec[h.Uc.Na.AUDIO].value;M.push({"Playing bitrate (a/v)":Fa+" / "+Ha,"Playing/Buffering vmaf":la+"/"+Da,"Buffering bitrate (a/v)":Qa+" / "+Oa,"Buffer size in Bytes (a/v)":this.j.Z6()+" / "+this.j.Pia(),"Buffer size in Bytes":""+B,"Buffer size in Seconds (a/v)":f.Vh(this.j.AK())+" / "+f.Vh(this.j.MP()),"Current CDN (a/v)":(Q?Q.name+", Id: "+Q.id:"?")+" / "+(L?L.name+", Id: "+L.id:"?")});}catch(Xb){}try{if(this.j.fg.value&&this.j.af.value){V=this.j.fg.value.stream.track;Z=this.j.af.value.stream;da=this.j.qj.value;ea=this.fJa.pL(this.j.zg.value?this.j.zg.value.cc:[]);fa=this.fJa.jL(V.cc);ga=Z.Jf;ca=/hevc/.test(ga)?"hevc":/vp9/.test(ga)?"vp9":/h264hpl/.test(ga)?"avchigh":"avc";/hdr/.test(ga)&&(ca+=", hdr");/dv/.test(ga)&&(ca+=", dv");/prk/.test(ga)&&(ca+=", prk");M.push({"Audio Track":V.Zk+", Id: "+V.bb+", Channels: "+V.lo+", Codec: "+fa,"Video Track":"Codec: "+ea+" ("+ca+")","Timed Text Track":da?da.Zk+", Profile: "+da.profile+", Id: "+da.bb:"none"});}}catch(Xb){}try{ha=this.j.Si;ka=this.j.ef.value?this.j.ef.value.mW:0;na=a(291).apb;M.push({Framerate:ka.toFixed(3),"Current Dropped Frames":t.ma(this.O8)?this.O8:"","Total Frames":ha.xA(),"Total Dropped Frames":ha.wA(),"Total Corrupted Frames":ha.fM(),"Total Frame Delay":ha.HW(),"Main Thread stall/sec":na?na.rib().join(" "):"DISABLED",VideoDiag:k.ZCa(this.j.XW())});}catch(Xb){}try{M.push({Throughput:this.j.Fa+" kbps"});}catch(Xb){}pa=void 0;try{Object.keys(this.Q8).forEach(function(a){pa=pa||{};pa[a]=JSON.stringify(b.Q8[a]);});pa&&M.push(pa);}catch(Xb){}return M;};c.YWa=b;},function(d,c,a){var h,n,p;function b(a,b){this.config=a;this.j=b;this.vu=!1;this.Hca=0;}Object.defineProperty(c,"__esModule",{value:!0});h=a(13);n=a(3);p=a(97);b.prototype.Xib=function(a,b,c,d){var f,k,m,p,t;c=void 0===c?this.j.Ma:c;d=void 0===d?!1:d;f=b===h.kg.XC;k=this.j.pza(c);d=this.F8a(f?a:this.u9a(a,c),d,c,k);f?(a=d,d=this.j.Bb.jr(k,d,c)):a=this.j.Bb.hL(k,d,c);b===h.kg.sI&&(this.j.mua=d);m=this.Ot(a,b);p=(b===h.kg.Pv||b===h.kg.KR)&&!this.j.WBa;p=(f=f||m||p)?a:d;if(this.j.Xu){t=this.config().oZ;this.j.BAa(p,t)||b!==h.kg.Pv||(p=this.j.Xu.ca(n.ha)-t-1E3,f?(a=p,d=this.j.Bb.jr(k,p,c)):(a=this.j.Bb.hL(k,p,c),d=p));}return{DN:p,Mi:d,vub:a,Ot:m};};b.prototype.F8a=function(a,b,c,d){a=this.Tmb()||b?Math.round(a):this.Rjb(a,c,d);this.config().Fga&&(a+=this.config().Fga);return a;};b.prototype.Ot=function(a,b){return b===h.kg.XC||this.j.Xa.Ri&&this.vu?!1:(b=this.j.Bb)&&b.Ot(a)||!1;};b.prototype.Tmb=function(){return this.j.Xa.Ri?!0:"boolean"===typeof this.j.Xa.bO?this.j.Xa.bO:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?this.config().bO&&this.config().Mub:this.config().bO;};b.prototype.u9a=function(a,b){b=this.j.ku(b).ir.ca(n.ha)-this.config().sFb;return p.Gs(a,0,b);};b.prototype.Rjb=function(a,b,c){var f;f=this.j.Xa.Ri?this.config().Ywa:this.config().Zw;return this.j.Bb.Cua(a,c,f,b);};c.zYa=b;},function(d,c,a){var h,n,p;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);n=a(159);a=a(1);b.prototype.parse=function(a){var b,c;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);c=new n.aI(b);a=this.ltb(c);b=this.ntb(c,b,a);return{yo:a,images:b};};b.prototype.ltb=function(a){var b,c,f,d;if(a.pk()<this.Dxb())throw Error("array buffer too short");h.wma.forEach(function(b){if(b!=a.ve())throw Error("BIF has invalid magic.");});b=a.zB();if(b>h.VERSION)throw Error("BIF version in unsupported");c=a.zB();if(0==c)throw Error("BIF has no frames.");f=a.zB();d=a.Hd(h.Coa);return{version:b,Zrb:c,dKa:f,Hxb:d};};b.prototype.ntb=function(a,b,c){var k,h;for(var f=[],d=0;d<=c.Zrb;d++){h={timestamp:a.zB(),offset:a.zB()};void 0!=k&&f.push(b.subarray(k.offset,h.offset));k=h;}return f;};b.prototype.Dxb=function(){return h.wma.length+4+4+4+h.Coa;};p=h=b;p.wma=[137,66,73,70,13,10,26,10];p.VERSION=0;p.Coa=44;p=h=d.__decorate([a.N()],p);c.zZa=p;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Cpa="TrickPlayParserSymbol";},function(d,c,a){var h,n;function b(a,b,c,d,n,g,y,E,l,q,G){this.index=a;this.u=b;this.Ma=c;this.Xa=d;this.ga=n;this.zk=g;this.$ca=y;this.q$a=l;this.KDa=G;this.ad=new h.Qc(null);this.zg=new h.Qc(null);this.tc=new h.Qc(null);this.qj=new h.Qc(null);this.fs=new h.Qc(void 0);this.ef=new h.Qc(null);this.Yk=new h.Qc(null);this.fg=new h.Qc(null);this.af=new h.Qc(null);this.Yb=new h.Qc(void 0);this.playbackRate=new h.Qc(1);this.jo=new h.Qc(null);this.Mt=this.Iw="notcached";this.background=!1;E&&(this.ef.set(E.ef.value),this.Yk.set(E.Yk.value));this.lm=q(this);this.yk=this.KDa.Owb(this.ga,this.zk);}Object.defineProperty(c,"__esModule",{value:!0});h=a(192);n=a(3);b.prototype.$c=function(a){this.yk.Vm(a);};b.prototype.ru=function(a){var b;b=this;Object.keys(a).forEach(function(c){b.yk.Vm(c,n.Ib(a[c]-b.zk.ca(n.ha)));});};b.prototype.dZ=function(){this.KDa.dxb(this.ga);};pa.Object.defineProperties(b.prototype,{le:{configurable:!0,enumerable:!0,get:function(){return this.Xa.le;}},kk:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.kk;}},Wm:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.Wm;}},Bm:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.Bm;}},rv:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.rv;}},Fk:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.Fk;}},eg:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.eg;}},wu:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.wu;}},oq:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.oq;}},sj:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.sj;}},JZ:{configurable:!0,enumerable:!0,get:function(){return this.bc&&this.bc.JZ;}},ir:{configurable:!0,enumerable:!0,get:function(){return this.x4&&0<this.x4.ca(n.ha)?this.x4:n.Ib(this.wa?this.wa.If.duration:0);},set:function(a){this.x4=a;}},Rh:{configurable:!0,enumerable:!0,get:function(){return this.Xa.Rh||0;}},N8:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.NU?this.NU:void 0===this.Yb.value?null:this.q$a(this.Yb.value,this.Ma);}},hk:{configurable:!0,enumerable:!0,get:function(){var a,b;return null===(b=null===(a=this.wa)||void 0===a?void 0:a.If.Gua)||void 0===b?void 0:b.mB;}},JB:{configurable:!0,enumerable:!0,get:function(){var a,b;return null===(b=null===(a=this.wa)||void 0===a?void 0:a.If.Gua)||void 0===b?void 0:b.JB;}},gd:{configurable:!0,enumerable:!0,get:function(){return this.yk.gd;}}});c.aXa=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.coa="PlayTimeTrackerFactorySymbol";},function(d,c,a){var n,p,f,k,m,t,g,y;function b(a,b,c,f,d){var k;k=this;this.kh=a;this.config=c;this.Ga=f;this.debug=d;this.EZ=[];this.Po=[];this.$ea=[];this.Rz={};this.Nwa=!1;this.IK={};this.eca=0;this.log=b.wb("PlayTimeTracker");this.startTime=this.kh.Yb.value;this.qY=this.config().T4a;this.TP();this.Rz.abrdel=0;this.qY.forEach(function(a){a="abrdel"+a;k.IK[a]=0;k.Rz[a]=0;});}function h(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);n=a(1);p=a(8);f=a(17);k=a(94);a(3);m=a(23);t=a(91);g=a(11);y=a(19);h.prototype.encode=function(a){return{key:a.key,downloadableId:a.cd,bitrate:a.R,vmaf:a.uc,duration:a.duration,metric:a.tN,cdnId:a.Kw};};h.prototype.decode=function(a){return{key:a.key,cd:a.downloadableId,R:a.bitrate,uc:a.vmaf,duration:a.duration,tN:a.metric,Kw:a.cdnId};};b.prototype.rM=function(){var a;this.QB(this.kh.Yb.value);a=0;this.Po.forEach(function(b){a+=b.endTime-b.startTime;});this.debug.assert(a===Math.floor(a),"Value of totalPlayTime is not an integer.");return Math.floor(a);};b.prototype.nAa=function(){var a;this.QB(this.kh.Yb.value);a=0;this.Po.forEach(function(b){a+=(b.endTime-b.startTime)*b.DGa;});return Math.floor(a);};b.prototype.Sgb=function(){this.QB(this.kh.Yb.value);return{audio:this.iM(this.EZ,this.Xya),video:this.iM(this.Po,this.Xya)};};b.prototype.kjb=function(){var a;a={total:this.rM(),totalContentTime:this.nAa(),audio:this.iM(this.EZ,this.GW),video:this.iM(this.Po,this.GW),timedtext:this.iM(this.$ea,this.GW)};this.debug.assert(!(!a.audio||!a.video));return a;};b.prototype.Aya=function(){var a,b;this.QB(this.kh.Yb.value);a=this.V$(this.Po,this.ehb);try{b=this.Bya(a);}catch(z){return this.log.warn("Failed to calc average bitrate."),null;}this.Rz.abrdel=Math.round(b);return this.Rz.abrdel;};b.prototype.Xgb=function(){var a,b;this.QB(this.kh.Yb.value);a=this.V$(this.Po,this.wkb);try{b=this.Bya(a);}catch(z){return this.log.warn("Failed to calc average vmaf."),null;}return Math.round(b);};b.prototype.Wgb=function(){var a,b;a=this;if(!this.Nwa){b=this.rM();this.qY.forEach(function(c){var f,d,k;if(0===a.IK["abrdel"+c]&&b>c*g.Lk){f=0;d=0;k=0;a.Po.some(function(a){f+=a.stream.R*(a.endTime-a.startTime);d+=a.endTime-a.startTime;k=a.stream.R;if(d>c*g.Lk)return!0;});f&&(a.IK["abrdel"+c]=Math.round((f-k*(d-c*g.Lk))/(c*g.Lk)));}});0!==this.IK["abrdel"+this.qY[this.qY.length-1]]&&(this.Nwa=!0);y.Gd(this.IK,function(b,c){a.Rz[b]=0===c?a.Rz.abrdel:c;});}return this.Rz;};b.prototype.o5a=function(a){this.eca+=a;};b.prototype.hlb=function(){return!!(this.Po[0]&&this.Po[0].stream&&this.Ga.Qd(this.Po[0].stream.uc));};b.prototype.TP=function(){var a;a=this;this.kh.fg.addListener(function(b){a.LE=a.Mua(a.LE,a.EZ,b.newValue);});this.kh.af.addListener(function(b){a.NE=a.Mua(a.NE,a.Po,b.newValue);});this.kh.playbackRate.addListener(function(b){a.QB(a.kh.Yb.value,b.oldValue);});this.kh.qj.addListener(this.osb.bind(this));};b.prototype.Mrb=function(a,b){this.QB(a);this.startTime=b;this.NE=this.LE=void 0;this.ME&&(this.ME.startTime=this.startTime);};b.prototype.osb=function(a){this.gO(this.ME,this.$ea,this.kh.Yb.value);this.ME=a.newValue?{track:a.newValue,startTime:this.kh.Yb.value,endTime:k.Ry}:void 0;};b.prototype.QB=function(a,b){b=void 0===b?this.kh.playbackRate.value:b;a&&this.LE&&this.NE&&(a=Math.min(a,this.LE.endTime,this.NE.endTime),this.gO(this.LE,this.EZ,a,b),this.LE.startTime=a,this.gO(this.NE,this.Po,a,b),this.NE.startTime=a,this.ME&&(this.gO(this.ME,this.$ea,a,b),this.ME.startTime=a),this.startTime=a);};b.prototype.Mua=function(a,b,c){a&&this.gO(a,b,Math.min(a.endTime,this.kh.Yb.value));if(c&&c.stream)return a=c.mo,b=c.stream,{ec:c.ec,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime};};b.prototype.gO=function(a,b,c,f){f=void 0===f?this.kh.playbackRate.value:f;a&&c&&c>=a.startTime&&(a={ec:a.ec,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c,DGa:f},(c=b[b.length-1])&&c.track===a.track&&c.stream===a.stream&&c.ec===a.ec&&c.endTime===a.startTime?c.endTime=a.endTime:b.push(a));};b.prototype.V$=function(a,b){var c,f;c=this;f={};return a.reduce(function(a,d){var k,h,m;k=b.bind(c,d)();h=k.key;d=d.endTime-d.startTime;m=f[h];m?m.duration+=d:(delete k.key,m=k,m.duration=d,a.push(m),f[h]=m);return a;},[]);};b.prototype.iM=function(a,b){return this.V$(a,b).map(function(a){return new h().encode(a);});};b.prototype.GW=function(a){var b,c,f;f=a.stream;f?(a=f.cd,b=f.R,c=f.uc):a=a.track.cd;return{key:a+"$"+(b||0),cd:a,R:b,uc:c};};b.prototype.Xya=function(a){var b;b=this.GW(a);a=a.ec.id;return Object.assign({},b,{key:b.key+"$"+a,Kw:a});};b.prototype.ehb=function(a){a=(a=a.stream)?a.R:0;return{key:a,tN:a};};b.prototype.wkb=function(a){a=(a=a.stream)?a.uc:0;return{key:a,tN:a};};b.prototype.Bya=function(a){var b,c,f;b=this;c=0;a.forEach(function(a){if(b.Ga.Qd(a.duration)&&b.Ga.Qd(a.tN))c+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!c)return 0;f=0;a.forEach(function(a){f+=a.tN*a.duration/c;});return f;};a=b;a=d.__decorate([n.N(),d.__param(1,n.l(p.Cb)),d.__param(2,n.l(f.md)),d.__param(3,n.l(m.Oe)),d.__param(4,n.l(t.ws))],a);c.SWa=a;},function(d,c,a){var h,n,p,f,k,m;function b(a){var b,c;b=this;this.j=a;this.tsb=function(){var a;p.Le.removeListener(p.eba,b.dFa);a=b.Ao.ln();a&&a.parentNode&&a.parentNode.removeChild(a);};this.Gea=function(a){b.Ao.Bzb(a.newValue);};this.Jsb=function(a){b.Ao.Hzb(a.newValue?a.newValue.QM:void 0);};this.dFa=function(){b.Ao.SG();};this.Ao=new k.lZa(f.config.hia,a.tc.value?a.tc.value.QM:void 0);c=a.LH;n.Ra(.1<c.width/c.height);this.Ao.rzb(c.width/c.height);a.zf.appendChild(this.Ao.ln());a.fs.addListener(this.Gea);a.tc.addListener(this.Jsb);a.addEventListener(m.T.pf,this.tsb,h.RC);p.Le.addListener(p.eba,this.dFa);}Object.defineProperty(c,"__esModule",{value:!0});h=a(11);n=a(18);p=a(57);f=a(12);k=a(298);m=a(13);b.prototype.jha=function(a){this.Ao.jha(a);};b.prototype.$aa=function(){return this.Ao.$aa();};b.prototype.hha=function(a){this.Ao.hha(a);};b.prototype.Yaa=function(){return this.Ao.Yaa();};b.prototype.iha=function(a){this.Ao.iha(a);};b.prototype.Zaa=function(){return this.Ao.Zaa();};c.nZa=b;},function(d,c,a){var h,n,p,f,k,m,t,g,y;function b(a,b,c,f,d){var h,n;a=k.aD.call(this,b,a,a,"1",{0:c},[{id:0,name:"custom"}],"xx",f||a,m.Qn.UC,"primary",null!==(h=null===d||void 0===d?void 0:d.profile)&&void 0!==h?h:"custom",null!==(n=null===d||void 0===d?void 0:d.Mo)&&void 0!==n?n:{},!1,!1,null===d||void 0===d?void 0:d.QM)||this;a.j=b;a.url=c;a.options=d;a.hp=null===d||void 0===d?void 0:d.hp;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(58);h=a(12);n=a(57);p=a(5);f=a(20);k=a(239);m=a(134);t=a(65);g=a(108);y=a(13);d.koa(d.goa,function(a){var c;function b(b){var d;if(b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==g.Bs.$Ya){d=f.createElement("INPUT",void 0,void 0,{type:"file"});d.addEventListener("change",function(){var b,f,k;b=d.files[0];if(b){f=b.name;c.info("Loading file",{FileName:f});k=new FileReader();k.readAsText(b);k.addEventListener("load",function(){return a.Fn.z6("nourl",f,{content:k.result});});}});d.click();}}c=p.fh(a,"TimedTextCustomTrack");h.config.P8&&(c.info("Loading url",{Url:h.config.P8}),a.Fn.z6(h.config.P8,"custom"));n.Le.addListener(n.BA,b);a.addEventListener(y.T.pf,function(){n.Le.removeListener(n.BA,b);});});da(b,k.aD);b.pbb=function(a,c,f,d){var k;k="custom"+b.jmb++;return new b(k,a,c,f,d);};b.prototype.Qwa=function(){var a;a=this;return new Promise(function(b,c){var f,d;if(null===(f=a.options)||void 0===f?0:f.content)b(a.options.content);else if(a.url){d={responseType:t.XAa,url:a.url,track:a,ec:null,gA:"tt-"+a.Zk};a.j.sX.download(d,function(f){f.aa?b(f.content):(f.reason="downloadfailed",f.url=d.url,f.track=a,c(f));});}});};c.kZa=b;b.jmb=0;},function(d,c,a){var n;function b(a,b,c){this.start=a;this.track=b;this.tH=Array.isArray(c)?c:[];}function h(a,b){this.log=a;this.jC=b;this.Ffa=[];this.orphans=[];}Object.defineProperty(c,"__esModule",{value:!0});n=a(18);h.prototype.a5a=function(a,b){this.mEa(a,b,"activating");};h.prototype.lcb=function(a){this.N9(a,"de-activating");};h.prototype.mEa=function(a,c,d){var f;this.tj&&this.N9(a,"close current for new");f=[];this.orphans.length&&(f.push.apply(f,[].concat(fa(this.orphans))),this.orphans=[]);this.tj=new b(a,c,f);this.jC&&this.log.trace("new range: "+d,this.tj);};h.prototype.N9=function(a,b){this.tj&&(this.tj.end=a,this.Ffa.push(this.tj),this.jC&&this.log.trace("end range: "+b,this.tj||{}),this.tj=void 0);};h.prototype.XKa=function(a){this.tj?this.tj.tH.push(a):this.orphans.push(a);};h.prototype.Uaa=function(a){var c,d;c=this.Ffa.slice(0);if(this.tj&&"undefined"!==typeof a){d=new b(this.tj.start,this.tj.track,this.tj.tH);d.end=a;c.push(d);}a=c.reduce(function(a,b){var c,f,d,k;if(!b.track)return a;f=b.track.cd;d=b.track.qx(b.start,b.end);if(!d)return a;k=new Set(b.tH);a[f]?(b=a[f],b.expected+=d.length,b.missed+=d.length-k.size):a[f]={dlid:f,bcp47:b.track.Zk,profile:b.track.profile,expected:d.length,missed:d.length-k.size,startPts:null!==(c=b.track.Sjb())&&void 0!==c?c:0};return a;},{});a=Object.values(a);this.jC&&this.log.trace("subtitleqoe:",JSON.stringify(a,null,"\t"));return a;};h.prototype.Gjb=function(a){var c,d,h,p;c=this.Ffa.slice(0);d=0;h=0;this.tj&&"undefined"!=typeof a&&(p=new b(this.tj.start,this.tj.track,this.tj.tH),p.end=a,c.push(p));c.forEach(function(a){var b,c;if(a.track){if(a.end<a.start){n.Ra("negative range",a);a.iy=0;return;}b=new Set(a.tH);c=a.track.qx(a.start,a.end);a.vo=c?c.map(function(a){return a.id;}):[];a.iy=c?0===c.length?100:100*b.size/c.length:0;}else a.iy=100;b=a.end-a.start;d+=b;h+=a.iy*b;});p=d?Math.round(h/d):100;this.log.trace("qoe score "+p+", at pts: "+a);this.jC&&(a=c.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.iy),lang:a.track?a.track.Zk:"none","actual  ":a.tH.join(" "),expected:(a.vo||[]).join(" ")};}),this.log.trace("score for each range: ",JSON.stringify(a,function(a,b){return b;}," ")));return p;};c.ZYa=h;},function(d,c,a){var h,n,p,f,k,m,t,g,y,l,q,z,G;function b(a){var c;c=this;this.j=a;this.Sha=this.gEa=0;this.pf=this.mm=!1;this.o_=0;this.CH=function(){var a,b;c.n_();c.Sva&&(c.log.info("Deactivating",c.Sva),c.oy.lcb(c.Vd()));c.j.qj.set(null);c.$B.BIa(c.entries=void 0);c.Xua();a=c.j.tc.value;a&&a.TX()&&!a.PX()&&(a=null);if(a&&c.j.Lb.value!==q.jb.Vf){b=c.Vd();c.oy.a5a(b,a);}a?(c.log.info("Activating",a),c.j.Ek.set(a.Vc()===h.aD.F3.LOADED?q.gf.od:q.gf.ye),c.mm||c.j.$c("tt_start"),a.getEntries().then(c.kE)["catch"](c.kE)):c.j.Ek.set(q.gf.od);c.Sva=a;c.GH();};this.Zha=function(){c.mm&&(c.$B.start(),c.j.Lb.value!==q.jb.Jc&&c.$B.stop());};this.GH=function(){var a;c.j.state.value===q.mb.od&&c.j.Lb.value!==q.jb.Vf&&(c.entries?a=c.$B.Igb():c.j.tc.value&&(a=b.cBb[c.j.tc.value.Vc()]));a&&l.$b(a.startTime)&&(c.gEa++,c.Sha+=c.$B.Bza()-a.startTime,c.bua=Math.ceil(c.Sha/(c.gEa+0)));c.j.fs.set(a);};this.Vd=function(){return c.j.Baa();};this.Isb=function(a){c.fireEvent(b.DAb,a);a&&a.id&&c.oy.XKa(a.id);c.log.trace("showsubtitle",c.fAa(a));};this.Dsb=function(a){c.fireEvent(b.lxb,a);c.log.trace("removesubtitle",c.fAa(a));};this.vk=function(){c.log.warn("imagesubs buffer underflow",c.j.tc.value.Lg);c.j.Ek.set(q.gf.ye);};this.psb=function(){c.log.info("imagesubs buffering complete",c.j.tc.value.Lg);c.j.Ek.set(q.gf.od);};this.XEa=function(){c.mm&&c.ag&&c.ag.Aq(c.Vd());};this.aFa=function(a){c.ag&&c.ag.PO&&c.ag.PO(a.qg,a.FN);};this.fFa=function(a){c.ag&&c.ag.fp&&c.ag.fp(a.Ma,a.fEb);};this.lZ=function(){c.mm=!0;y.Pb(function(){c.ag?c.ag.Aq(c.Vd()):c.Zha();c.GH();});};this.KN=function(){c.entries=void 0;c.Xua();c.$B.stop();c.GH();c.pf=!0;c.n_();};this.Gea=function(a){(a=a.newValue)&&l.$b(a.id)&&c.oy.XKa(a.id);};this.Asb=function(a){c.$Db(a.newValue,a.oldValue);c.Zha();};this.kE=function(a){var b;if(!c.pf){b=a.track;if(b===c.j.tc.value)try{b.sn?c.Z4a(a):c.$4a(a);}catch(Y){c.log.error("Error activating track:",Y,b);return;}c.mm||c.j.$c(a.aa?"tt_comp":"tt_err");a.aa?(f.config.OHa?setTimeout(function(){c.j.Ek.set(q.gf.od);},f.config.OHa):c.j.Ek.set(q.gf.od),b.sn||c.GH()):a.Wq?c.log.warn("aborted timed text track loading"):f.config.sfb?(b=m.$.get(G.yl),c.j.Pd(b(g.K.ySa,{lb:a.track?a.track.Lg:{}}))):(c.log.error("ignore subtitle initialization error",a),c.j.Ek.set(q.gf.od));}};this.Hb=new p.Jk();this.oy=new t.ZYa(m.fh(a,"SubtitleTracker"),f.config.zeb);this.log=m.fh(a,"TimedTextManager");this.$B=new n.oZa(this.Vd,this.GH);this.j.tc.addListener(this.CH);f.config.Iub?(this.j.addEventListener(q.T.An,this.lZ),this.CH()):(this.j.Ek.set(q.gf.od),this.j.addEventListener(q.T.An,function(){c.mm=!0;c.CH();}));this.j.Lb.addListener(this.Asb);this.j.addEventListener(q.T.cia,this.Zha);this.j.fs.addListener(this.Gea);this.j.addEventListener(q.T.pf,this.KN);}Object.defineProperty(c,"__esModule",{value:!0});h=a(239);n=a(302);p=a(79);f=a(12);k=a(40);m=a(5);t=a(622);g=a(2);y=a(51);l=a(15);q=a(13);z=a(621);G=a(60);b.prototype.addEventListener=function(a,b,c){this.Hb.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.Hb.removeListener(a,b);};b.prototype.fireEvent=function(a,b,c){this.Hb.Sb(a,b,c);};b.prototype.z6=function(a,b,c){var f;f=z.kZa.pbb(this.j,a,b,c);this.j.Fk.push(f);this.j.Wm.forEach(function(a){k.yMa(a.Fk,f);});this.j.tc.set(f);this.j.fireEvent(q.T.aC);};b.prototype.Rub=function(a){this.gga(a)?a.getEntries().then(function(){}):Promise.resolve();};b.prototype.Xjb=function(a){return this.oy.Gjb(a);};b.prototype.Uaa=function(a){return this.oy.Uaa(a);};b.prototype.UW=function(){var a,b;a=this.j.rP;b=f.config.aKa.characterSize;b={size:f.config.iia.characterSize||b};a&&(b.visibility=a.$aa(),b.MK=a.Yaa(),b.Io=a.Zaa());return b;};b.prototype.Wzb=function(a){f.config.iia.characterSize=a;a=this.j.tc.value;this.gga(a)&&!a.sn&&a.getEntries().then(this.kE)["catch"](this.kE);};b.prototype.$Db=function(a,b){var c;a===q.jb.Jc||a==q.jb.yh?b!==q.jb.Jc&&b!==q.jb.yh&&((b=this.j.tc.value)&&!this.gga(b)||this.oy.mEa(this.Vd(),b||void 0,"presentingstate:"+a)):a!==q.jb.Vf&&a!==q.jb.Eq||this.oy.N9(null!==(c=this.Vd())&&void 0!==c?c:void 0,"presentingstate:"+a);};b.prototype.n_=function(){this.o_=0;clearTimeout(this.Xxb);};b.prototype.Xua=function(){this.ag&&(this.ag.stop(),this.bDa("removeListener"));this.ag=void 0;};b.prototype.bDa=function(a){this.ag&&(this.ag[a]("showsubtitle",this.Isb),this.ag[a]("removesubtitle",this.Dsb),this.ag[a]("underflow",this.vk),this.ag[a]("bufferingComplete",this.psb),"addListener"===a?(this.j.addEventListener(q.T.qo,this.XEa),this.j.addEventListener(q.T.ZY,this.aFa),this.j.addEventListener(q.T.fp,this.fFa)):(this.j.removeEventListener(q.T.qo,this.XEa),this.j.removeEventListener(q.T.ZY,this.aFa),this.j.removeEventListener(q.T.fp,this.fFa)));};b.prototype.fAa=function(a){return{currentPts:this.Vd(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};b.prototype.Z4a=function(a){var b,c;b=this;c=a.track;if(!c||!c.sn)throw Error("Not an image base subtitle");a.aa?(this.n_(),this.ag=c.ag,this.bDa("addListener"),this.log.info("Activated",c),this.j.qj.set(c),this.mm?y.Pb(function(){b.ag.Aq(b.Vd());}):this.ag.pause()):this.FHa(c,a);};b.prototype.$4a=function(a){var b,c;b=a.track;c=a.entries;if(!b||b.sn)throw Error("Not a valid text track");c?(this.n_(),this.$B.BIa(this.entries=c),this.log.info("Activated",b),this.j.qj.set(b)):this.FHa(b,g.op(a));this.GH();};b.prototype.FHa=function(a,b){var c,d;c=this;d=this.o_<f.config.Qpb;d&&(this.Xxb=setTimeout(function(){c.o_++;a.getEntries().then(c.kE)["catch"](c.kE);},f.config.yCb));this.log.error("Failed to activate"+((null===a||void 0===a?0:a.sn)?" img subtitle":""),{retry:d},b,a);};b.prototype.gga=function(a){return!(!a||a.TX()&&!a.PX());};c.mZa=b;d={};b.cBb=(d[h.aD.F3.LOADING]={ZSb:!0},d[h.aD.F3.vI]={ex:!0},d);b.DAb="showsubtitle";b.lxb="removesubtitle";},function(d,c,a){var f,k,m,t,g,y,l,q,z,G,M,N,P,r,Y,S,A,X,U,ia,T,ma,O,oa,B,H,R;function b(a){var b;b=this;this.j=a;this.ALa=Promise.resolve();this.R1=L.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.rw=[];this.Yj=new y.Jk();this.wqa=this.h4=0;this.oS=[];this.qb=z.fh(this.j,"MediaElementASE");this.nsa=Y.Pe;this.D4=!1;this.Hf={};this.AJ={};this.xA=this.qS(function(){var a;if(b.cb){a=b.IS();return a?a.totalVideoFrames:b.cb.webkitDecodedFrameCount;}});this.wA=this.qS(function(){var a;if(b.cb){a=b.IS();return a?a.droppedVideoFrames:b.cb.webkitDroppedFrameCount;}});this.fM=this.qS(function(){var a;if(b.cb){a=b.IS();return a&&a.corruptedVideoFrames;}});this.HW=this.qS(function(){var a;if(b.cb){a=b.IS();return a&&A.Ei(a.totalFrameDelay*Y.Lk);}});this.lra=function(a){return b.Yj.Sb(ia.Fi.zCa,{pa:a});};this.sk=z.$.get(U.kma).create(g.config.ip,this,this.j);g.config.Ex&&(this.ALa=new Promise(function(a){b.nsa=a;b.j.addEventListener(O.T.pf,a);}));this.qb.trace("Created Media Element");this.addEventListener=this.Yj.addListener;this.removeEventListener=this.Yj.removeListener;this.cb=h(this.j.LH);this.sourceBuffers=this.rw;}function h(a){var b,c;b=z.$.get(T.Spa).zjb();a=a.width/a.height*b.height;c=(b.width-a)/2;return g.config.aAb?Y.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+c+"px;top:0px"):Y.createElement("VIDEO","position:absolute;width:100%;height:100%");}function n(a){a.preventDefault();return!1;}function p(a,b){var c,f,d;c=a.target;c=c&&c.error;f=a.errorCode;d=c&&c.code;Y.$b(d)||(d=f&&f.code);f=c&&c.msExtendedCode;Y.$b(f)||(f=c&&c.systemCode);Y.$b(f)||(f=a.systemCode);a=Y.xb({},{code:d,systemCode:f},{Ou:!0});b={da:b(d),lb:S.ZCa(a)};try{c&&c.message&&(b.nN=c.message);}catch(Da){}f=Y.fe(f);X.ma(f)&&(b.Td=z.cua(f,4));return{gF:b,Job:a};}Object.defineProperty(c,"__esModule",{value:!0});f=a(50);k=a(153);m=a(60);t=a(11);g=a(12);y=a(79);l=a(57);q=a(40);z=a(5);G=a(2);M=a(18);N=a(97);P=a(476);r=a(19);Y=a(20);S=a(191);A=a(10);X=a(15);U=a(303);ia=a(190);T=a(326);ma=a(3);O=a(13);oa=a(139);B=a(53);H=!!(A.II&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);R=H&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||A.HI);b.prototype.gM=function(a){try{this.cb&&(this.wqa=this.cb.currentTime);}catch(ja){this.qb.error("Exception while getting VIDEO.currentTime",ja);a&&this.pD(G.K.WVa,ja);}return A.Ei(this.wqa*Y.Lk);};b.prototype.seek=function(a){var b;M.Ra(!this.Rm);this.jsa();b=this.gM(!0);if(!g.config.b6a&&A.AI(b-a)<=this.Gga)this.qb.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.Gga});else try{this.qb.trace("Setting video elements currentTime",{From:N.Vh(b),To:N.Vh(a)});this.Rm={};this.cb.currentTime=a/Y.Lk;this.Yj.Sb(ia.Fi.qo);}catch(Fa){this.qb.error("Exception while setting VIDEO.currentTime",Fa);this.pD(G.K.XVa,Fa);}};b.prototype.Hjb=function(){return!!this.Rm;};b.prototype.addSourceBuffer=function(a){var b,c;b=Y.fe(this.h4.toString()+this.rw.length.toString());b={sourceId:this.h4,rU:b};try{c=new k.Oma(this.j,a,this.Se,b,this.qb);this.rw.push(c);a==t.yI&&c.v$&&c.v$.addListener(this.nsa);return c;}catch(Ha){c=Y.We(Ha);this.qb.error("Unable to add source buffer.",{error:c});b=z.$.get(m.yl);this.j.Pd(b(G.K.i3,{da:a===f.Uc.Uj.AUDIO?Y.G.Ama:Y.G.Bma,lb:c}));}};b.prototype.$T=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.Yj.Sb(ia.Fi.gJa);return!0;};b.prototype.removeSourceBuffer=function(a){this.rw=this.rw.filter(function(b){return!q.kva(a,b);});this.Se.removeSourceBuffer(a);};b.prototype.endOfStream=function(){g.config.F7&&this.Se.endOfStream();};b.prototype.en=function(a){this.rw=[];a&&a.hUb();return!0;};b.prototype.qzb=function(a){this.h4=a;};b.prototype.Aza=function(){if(this.Se)return ma.Lub(this.Se.duration);};b.prototype.Jzb=function(a){this.Se&&(this.Se.duration=a.HZ(ma.Im));};b.prototype.fdb=function(){var a;if(!this.D4&&this.cb&&this.cb.readyState>=B.Yd.nla.HAVE_CURRENT_DATA){a=this.cb.webkitDecodedFrameCount;if(void 0===a||0<a||g.config.kFb)this.D4=!0;}return this.D4;};b.prototype.open=function(){var a,b,c;a=this;this.j.addEventListener(O.T.WIa,function(b){return a.R2a(b);});if(H){if(this.j.wu){if(!R){this.Mm(G.K.Ana);return;}if(A.HI&&A.HI.isTypeSupported&&this.sk.Wd)try{if(!A.HI.isTypeSupported(this.sk.Wd,"video/mp4")){this.u4a(function(b){a.Mm(G.K.g3,b);});return;}}catch(Ha){this.pD(G.K.g3,Ha);return;}}try{this.Se=new A.II();}catch(Ha){this.pD(G.K.MVa,Ha);return;}try{this.Vk=URL.createObjectURL(this.Se);}catch(Ha){this.pD(G.K.NVa,Ha);return;}try{this.sk.r5a(this.lra);this.Se.addEventListener("sourceopen",function(b){return a.Kra(b);});this.Se.addEventListener(this.R1+"sourceopen",function(b){return a.Kra(b);});this.cb.addEventListener("error",this.Hf.error=function(b){return a.OD(b);});this.cb.addEventListener("seeking",this.Hf.seeking=function(){return a.Q2a();});this.cb.addEventListener("seeked",this.Hf.seeked=function(){return a.y5();});this.cb.addEventListener("timeupdate",this.Hf.timeupdate=function(){return a.T2a();});this.cb.addEventListener("loadstart",this.Hf.loadstart=function(){return a.TJ();});this.cb.addEventListener("volumechange",this.Hf.volumechange=function(b){return a.U2a(b);});this.cb.addEventListener(this.sk.gB,this.Hf[this.sk.gB]=function(b){return a.M2a(b);});b=this.j.zf;c=b.lastChild;c?b.insertBefore(this.cb,c):b.appendChild(this.cb);g.config.Ewa&&this.cb.addEventListener("contextmenu",n);this.cb.src=this.Vk;l.Le.addListener(l.sM,this.AJ[l.sM]=function(){return a.Jra();});this.Jra();}catch(Ha){this.pD(G.K.OVa,Ha);}}else this.Mm(G.K.Bna);};b.prototype.close=function(){var b;function a(){b.Vk&&(b.jsa(),l.Le.removeListener(l.sM,b.AJ[l.sM]),b.a0a());}b=this;this.cb.removeEventListener(this.sk.gB,this.Hf[this.sk.gB]);this.cb.removeEventListener("error",this.Hf.error);this.cb.removeEventListener("seeking",this.Hf.seeking);this.cb.removeEventListener("seeked",this.Hf.seeked);this.cb.removeEventListener("timeupdate",this.Hf.timeupdate);this.cb.removeEventListener("loadstart",this.Hf.loadstart);this.cb.removeEventListener("volumechange",this.Hf.volumechange);this.sk.$wb(this.lra);g.config.ip?this.sk.GFa().then(function(){return a();}):a();this.sk.mHa&&clearTimeout(this.sk.mHa);};b.prototype.M2a=function(a){return this.sk.Cea(a);};b.prototype.IS=function(){if(this.cb)return this.cb.getVideoPlaybackQuality&&this.cb.getVideoPlaybackQuality()||this.cb.videoPlaybackQuality||this.cb.playbackQuality;};b.prototype.X3a=function(){var a;a=this.j.Pi;return(a=a&&a.errorCode)&&0<=[G.K.qR,G.K.aR].indexOf(a);};b.prototype.a0a=function(){var a;a=!1;g.config.fvb&&this.X3a()&&(a=!0);g.config.B9a&&!a&&(this.cb.removeAttribute("src"),this.cb.load&&this.cb.load());URL.revokeObjectURL(this.Vk);g.config.Ewa&&this.cb.removeEventListener("contextmenu",n);!a&&this.cb&&this.j.zf.removeChild(this.cb);this.cb=this.Se=void 0;this.Vk="";};b.prototype.Jra=function(){!0===A.ne.hidden?this.oS.forEach(function(a){a.refresh();a.TAb();}):this.oS.forEach(function(a){a.refresh();a.jBb();});};b.prototype.qS=function(a){var b;b=z.$.get(P.mna)(a);this.oS.push(b);return function(){b.refresh();return b.xhb();};};b.prototype.pD=function(a,b){var c,f;c={da:Y.G.xh,lb:Y.We(b)};try{(f=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==f.length&&(c.Td=f);}catch(la){}b=z.$.get(m.yl);this.j.Pd(b(a,c));};b.prototype.jsa=function(){this.oS.forEach(function(a){a.refresh();});};b.prototype.T0a=function(){return this.cb&&this.cb.msGraphicsTrustStatus;};b.prototype.Mm=function(a,b,c){var f;f=z.$.get(m.yl);this.j.Pd(f(a,b,c));};b.prototype.u4a=function(a){var c,f;function b(f){b=Y.Pe;c.th();a(f);}c=z.$.get(oa.bD)(500,function(){b();});c.fu();try{f=this.j.ef.value.yo.MTb.children.filter(function(a){return"pssh"==a.type&&a.Ndb==t.gQa;})[0];new A.HI(this.sk.Wd).createSession("video/mp4",f.raw,null).addEventListener(this.R1+"keyerror",function(a){a=p(a,G.Yka);b(a.gF);});}catch(la){b();}};b.prototype.R2a=function(a){var b,f,d,k,h,m,n;if(this.cb){a=a.OP;b=this.T0a();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.cb.readyState;a.currentTime=""+this.cb.currentTime;a.pbRate=""+this.cb.playbackRate;}catch(Ia){}for(var b=this.rw.length,c;b--;){c=this.rw[b];f="";c.type==t.J2?f="audio":c.type==t.yI&&(f="video");Y.xb(a,c.yW(),{prefix:f});g.config.qeb&&this.j.Pi&&t.yI==c.type&&(f=Y.SO(c.DW()),3E3>(f.data&&f.data.length)&&(f.data=r.y$a(f.data).join(),Y.xb(a,f,{prefix:c.type})));}this.Se&&(b=this.Se.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(g.config.Kob)try{d=this.j.Kf;k=d&&d.vnb;if(k){h=k.expiration;isNaN(h)||(a.exp=h);m=k.keyStatuses.entries();if(m.next){n=m.next().value;n&&(a.keyStatus=n[1]);}}}catch(Ia){}}};b.prototype.Kra=function(a){this.$3a||(this.$3a=!0,this.Yj.Sb(ia.Fi.hJa,a));};b.prototype.Q2a=function(){this.qb.trace("Video element event: seeking");this.Rm?this.Rm.esb=!0:(this.qb.error("unexpected seeking event"),g.config.ufb&&this.Mm(G.K.bWa));};b.prototype.y5=function(){this.qb.trace("Video element event: seeked");this.Rm?(M.Ra(this.Rm.esb),this.Rm.dsb=!0,this.Esa()):(this.qb.error("unexpected seeked event"),g.config.tfb&&this.Mm(G.K.aWa));};b.prototype.T2a=function(){this.Rm&&(this.Rm.gsb=!0,this.Esa());this.Yj.Sb(ia.Fi.qo);};b.prototype.TJ=function(){this.qb.trace("Video element event: loadstart");};b.prototype.U2a=function(a){this.qb.trace("Video element event:",a.type);try{this.j.volume.set(this.cb.volume);this.j.muted.set(this.cb.muted);}catch(ja){this.qb.error("error updating volume",ja);}};b.prototype.OD=function(a){a=p(a,G.SQa);this.qb.error("Video element event: error",a.Job);this.Mm(G.K.UVa,a.gF);};b.prototype.Esa=function(){this.Rm&&this.Rm.dsb&&this.Rm.gsb&&(this.Rm=void 0,this.Yj.Sb(ia.Fi.EO));};pa.Object.defineProperties(b.prototype,{Gga:{configurable:!0,enumerable:!0,get:function(){return g.config.MAb;}}});c.tUa=b;},function(d,c,a){var m,g,u,y,l,q,z,G,M,N,P,r,Y,S,A,X,U,ia;function b(a,b,c){this.Nl=a;this.gba=b;this.prefix=c;a=r(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function h(){this.xwa=m.Np.xwa.bind(m.Np);this.SU=m.Np.SU.bind(m.Np);this.XE=m.Np.XE;this.QC="NDA";}function n(){}function p(){}function f(){return M?M:"0.0.0.0";}function k(a){a({mFa:0,kP:0,TAa:0,Hxa:0});}m=a(154);h.prototype.set=function(a,b){y[a]=b;l.save(a,b);};h.prototype.get=function(a,b){if(y.hasOwnProperty(a))return y[a];G.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");l.load(a,function(c){c.aa?(y[a]=c.data,b&&b(c.data)):y[a]=void 0;});};h.prototype.remove=function(a){l.remove(a);};h.prototype.clear=function(){G.info("WARNING: Calling unimplemented function Storage.clear()");};n.prototype.now=function(){return q();};n.prototype.ea=function(){return z();};n.prototype.Zda=function(a){return a+q()-z();};n.prototype.wea=function(a){return a+z()-q();};c=a(111).EventEmitter;a(59)(c,p.prototype);b.prototype.Ova=function(a){var c;c=[];this.prefix&&Array.isArray(this.prefix)?c.push.apply(c,[].concat(fa(this.prefix))):this.prefix&&c.push(this.prefix);c.push(a);return new b(this.Nl,this.gba,c);};Y=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();d.P=function(a){g=a.qB;r=a.Jg;l=a.storage;y=a.TF;q=a.ajb;N=a.lM;P=a.FM;z=a.getTime;G=a.y6a;S=a.Vj;ia=a.Is;A=a.xC;X=a.SourceBuffer;U=a.MediaSource;M=a.wSb;u=a.Pw;return{name:"cadmium",Pw:u,qB:g,lM:N,FM:P,storage:new h(),Storage:h,time:new n(),events:new p(),console:new b("JS-ASE",void 0,"default"),Console:b,options:{},Promise:Y,Vj:S,xC:A,BUa:X,MediaSource:U,Is:ia,fm:{name:f},memory:{oib:k},nk:a.nk};};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(5);h=a(65);c.yXa=function(){b.Jg("ProbeDownloader");return{bM:function(a){h.Ye.mvb({url:a.url,jvb:a});}};}();},function(d,c,a){var h,n,p,f,k,m,g;function b(){var a;a=new n.Jk();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.Sb.bind(this);this.mT=m++;this.qb=p.Jg("ProbeRequest");this.Yra=h.yXa;f.Ra(void 0!==this.Yra);this.ng=c.Is.jc.UNSENT;}Object.defineProperty(c,"__esModule",{value:!0});h=a(626);n=a(79);p=a(5);f=a(18);k=a(20);m=0;(function(){function a(){return JSON.stringify({url:this.Vk,id:this.mT,affected:this.YR,readystate:this.ng});}k.xb(b.prototype,{im:function(a){a.affected=this.YR;a.probed={requestId:this.mT,url:this.Vk,Jb:this.gK,groupId:this.JS};this.emit(c.Is.Ld.LI,a);},vea:function(a){this.c4a=a.httpcode;a.affected=this.YR;a.probed={requestId:this.mT,url:this.Vk,Jb:this.gK,groupId:this.JS};this.emit(c.Is.Ld.Xy,a);},open:function(a,b,f,d){if(!a)return!1;this.Vk=a;this.YR=b;this.gK=f;this.ng=c.Is.jc.OPENED;this.E1a=d;this.Yra.bM(this);return!0;},xc:function(){return!0;},Aj:function(){return this.mT;},toString:a,toJSON:a});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.ng;},set:function(){}},status:{get:function(){return this.c4a;}},url:{get:function(){return this.Vk;}},LOb:{get:function(){return this.YR;}},Fob:{get:function(){return this.E1a;}}});}());(function(a){a.Ld={LI:"pr0",Xy:"pr1"};a.jc={UNSENT:0,OPENED:1,Qv:2,DONE:3,Bv:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(g||(g={})));c.Is=Object.assign(b,g);},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.gOa||(c.gOa={});d[d.qVa=0]="PAUSE";d[d.IXa=1]="RESUME";d[d.qHb=2]="CAPTIONS_ON";d[d.pHb=3]="CAPTIONS_OFF";d[d.rHb=4]="CAPTION_LANGUAGE_CHANGED";d[d.jGb=5]="AUDIO_LANGUAGE_CHANGED";d[d.RKb=6]="NEXT_EP";d[d.VLb=7]="PREV_EP";d[d.Pv=8]="SEEK";d[d.Qoa=9]="STOP";c.fOa="CastInteractionTrackerSymbol";},function(d,c,a){var h,n,p,f,k,m,g,u,y,l,q,z,G,M,N,P,r,Y,S,A,X,U,ia,T;function b(a,b,c,f,d,k,h,m,n,p,g,t,u,y,l,E,q,z,G,D,M,N){this.FF=a;this.rE=b;this.ta=c;this.Ia=f;this.F7a=d;this.bia=k;this.qda=h;this.rda=m;this.rY=n;this.Hc=p;this.he=g;this.Gj=t;this.Sz=u;this.Zea=y;this.pda=l;this.xia=E;this.ri=q;this.yk=z;this.Yc=G;this.Yea=D;this.BU=M;this.xK=N;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(118);n=a(1);p=a(102);f=a(24);k=a(25);m=a(38);g=a(313);u=a(435);y=a(421);l=a(348);q=a(109);z=a(60);G=a(128);M=a(88);N=a(245);P=a(197);r=a(127);Y=a(628);S=a(315);A=a(43);X=a(22);U=a(312);ia=a(67);b.prototype.create=function(b,c,f,d,k){return new(a(311)).XWa(b,c,d,k,this.FF,f,this.ta,this.rE,this.Ia,this.qda,this.F7a,this.bia,this.rda,this.rY,this.Hc,this.he,this.Gj,this.Sz,this.Zea,this.pda,this.xia,this.ri,this.Yc,this.Yea,this.yk,void 0,this.BU);};T=b;T=d.__decorate([n.N(),d.__param(0,n.l(h.JC)),d.__param(1,n.l(f.Cf)),d.__param(2,n.l(k.Bf)),d.__param(3,n.l(m.dj)),d.__param(4,n.l(g.wja)),d.__param(5,n.l(p.$C)),d.__param(6,n.l(u.Hma)),d.__param(7,n.l(y.Jma)),d.__param(8,n.l(l.tma)),d.__param(9,n.l(q.cD)),d.__param(10,n.l(z.yl)),d.__param(11,n.l(G.WI)),d.__param(12,n.l(N.p1)),d.__param(13,n.l(P.w3)),d.__param(14,n.l(r.o3)),d.__param(15,n.l(S.Bpa)),d.__param(16,n.l(A.Kk)),d.__param(17,n.l(ia.EI)),d.__param(18,n.l(X.hf)),d.__param(19,n.l(U.moa)),d.__param(20,n.l(Y.fOa)),d.__param(20,n.optional()),d.__param(21,n.l(M.aQ)),d.__param(21,n.optional())],T);c.WWa=T;},function(d,c){function a(a){this.j=a;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.WKa=function(){var a;a=this.j.wm&&this.j.wm.sb.get()||{};a.ph&&(this.j.ph=a.ph.Ca);a.Fa&&(this.j.Fa=a.Fa.Ca);};a.prototype.Xl=function(){-1===this.j.Fa&&this.WKa();return this.j.Fa;};a.prototype.z8a=function(a){-1!==this.j.ph&&-1!==this.j.Fa||this.WKa();return-1===this.j.ph||-1===this.j.Fa?Number.MAX_VALUE:this.j.ph+8*a/this.j.Fa;};c.jNa=a;},function(d,c,a){var h,n,p,f,k,m;function b(a,b){this.app=a;this.config=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(13);n=a(314);p=a(25);f=a(1);k=a(3);a=a(17);b.prototype.dF=function(a){var b;a.vP={};if(!a.NA()&&a.rv&&0<a.rv.length&&(a.qv=this.jza(a),a.qv)){b=this.hAb(a);b()||(a.Lb.addListener(b),a.ef.addListener(b));}};b.prototype.hAb=function(a){var c;function b(){var f,d;if(!a.ef.value||a.Lb.value===h.jb.Vf)return!1;f=a.qv;d=f.Vc();return d===n.Rn.LOADING?!1:d!==n.Rn.LOADED&&f.dv?(f=c.lkb(a))?(a.vP.offset=c.app.gc().ca(k.ha),a.qv=f,f.download(),!0):!1:(a.Lb.removeListener(b),a.ef.removeListener(b),!1);}c=this;return b;};b.prototype.lkb=function(a){var b,c;b=this.config();c=a.lm.rM()<b.gDb;b=(a.ef.value?a.ef.value.R:0)>b.fDb;return this.Fjb(a,c&&b);};b.prototype.Fjb=function(a,b){if(b&&(b=this.jza(a),this.Vza(a,b.size)))return a.vP.xHa="h",b;b=this.Gib(a);if(this.Vza(a,b.size))return a.vP.xHa="l",b;};b.prototype.Vza=function(a,b){var c,f;c=this.config();f=Math.min(a.AK(),a.MP());return a.D7a.z8a(b)*(1+.01*c.P5a[2])<f*c.jDb;};b.prototype.jza=function(a){return a.rv[a.rv.length-1];};b.prototype.Gib=function(a){return a.rv[0];};m=b;m=d.__decorate([f.N(),d.__param(0,f.l(p.Bf)),d.__param(1,f.l(a.md))],m);c.yZa=m;},function(d,c,a){var b,h,n,p,f,k,m,g,u,y,l,q,z,G,M,N,P,r,Y,S,A,X,U,ia,T,ma,O,oa,B,H,R,L,ja,Fa;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(422);h=a(315);n=a(631);p=a(313);f=a(630);k=a(456);m=a(459);g=a(629);u=a(619);y=a(17);l=a(25);q=a(91);z=a(23);G=a(8);M=a(618);N=a(197);P=a(617);r=a(3);Y=a(616);S=a(615);A=a(293);X=a(614);U=a(66);ia=a(312);T=a(613);ma=a(102);O=a(22);oa=a(117);B=a(74);H=a(344);R=a(290);L=a(612);ja=a(67);Fa=a(31);c.j=new d.Bc(function(c){c(R.v3).to(L.$Wa).Z();c(b.Apa).cf(function(b){var c;c=b.hb;return function(b,f,d,k,h,m,n,p){return new(a(611)).wZa(c.get(Y.Cpa),b,f,d,k,h,m,n,p);};});c(Y.Cpa).to(S.zZa).Z();c(h.Bpa).to(n.yZa).Z();c(m.loa).to(g.WWa).Z();c(k.xka).cf(function(b){var c;c=b.hb;return function(b){return new(a(610)).TPa(c.get(U.wka),c.get(q.ws),c.get(l.Bf),b);};});c(p.wja).cf(function(){return function(a){return new f.jNa(a);};});c(M.coa).cf(function(a){var b;b=a.hb;return function(a){return new u.SWa(a,b.get(G.Cb),b.get(y.md),b.get(z.Oe),b.get(q.ws));};});c(N.w3).cf(function(a){var b;b=a.hb;return function(a,c,f,d,k,h,m,n,p){return new P.aXa(a,c,f,d,k,h,m,n,p,b.get(M.coa),b.get(R.v3));};});c(A.Woa).cf(function(a){return function(b){var c;c=a.hb.get(y.md);return new X.zYa(c,b);};});c(ia.moa).cf(function(a){return function(b){var c,f,d,k;c=a.hb.get(B.xs);f=a.hb.get(ma.$C);d=a.hb.get(O.hf);k=a.hb.get(oa.ZC);return new T.YWa(b,c,f(r.rh(1)),d,k);};});c(H.Vma).uy(function(b){return new(a(609)).IUa(b.hb.get(ja.EI),b.hb.get(Fa.vl));}).Z();});},function(d,c,a){var h,n;function b(){this.dP=new n.Xj();}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(143);b.prototype.OG=function(a){this.dP.next(a);};pa.Object.defineProperties(b.prototype,{gy:{configurable:!0,enumerable:!0,get:function(){return this.dP;}}});a=b;a=d.__decorate([h.N()],a);c.JWa=a;},function(d,c,a){var h,n,p;function b(a,b){this.Uw=b;this.log=a.wb("Pbo");this.links={};}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(8);a=a(74);b.prototype.C6=function(a){a&&(this.links=Object.assign(Object.assign({},this.links),a));};b.prototype.uaa=function(a){return this.links[a];};b.prototype.q5a=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.Uw().bh;a="drmContextId="+a.drmContextId;this.C6({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};p=b;p=d.__decorate([h.N(),d.__param(0,h.l(n.Cb)),d.__param(1,h.l(a.xs))],p);c.xWa=p;},function(d,c,a){var n,p;function b(a,b,c,d,h,n,p){this.version=a;this.url=b;this.id=c;this.languages=d;this.fb=h;this.Zdb=n;this.Zqb=p;}function h(a){this.Fj=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);n=a(1);a=a(99);h.prototype.create=function(a,c,d,h,n){return new b(this.Fj.version,c,a,this.Fj.languages,d,h,n);};p=h;p=d.__decorate([n.N(),d.__param(0,n.l(a.Yy))],p);c.LWa=p;b.prototype.toJSON=function(){return{version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.fb,echo:this.Zdb};};},function(d,c,a){var h,n,p,f,k,m;function b(a,b,c){a=n.oe.call(this,a,"PboConfigImpl")||this;a.config=b;a.i6a=c;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(39);p=a(28);f=a(36);k=a(17);a=a(121);da(b,n.oe);pa.Object.defineProperties(b.prototype,{zP:{configurable:!0,enumerable:!0,get:function(){return this.config().cu.zP||"";}},x0:{configurable:!0,enumerable:!0,get:function(){return this.config().cu.x0||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},lFa:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().cu.lfa;}},MF:{configurable:!0,enumerable:!0,get:function(){return!1;}},Vpb:{configurable:!0,enumerable:!0,get:function(){return!0;}},Xpb:{configurable:!0,enumerable:!0,get:function(){return!0;}},rIa:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},bind:{service:this.i6a.gua,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.sIa);}},sIa:{configurable:!0,enumerable:!0,get:function(){return{};}},YGa:{configurable:!0,enumerable:!0,get:function(){return!1;}},Bba:{configurable:!0,enumerable:!0,get:function(){return 10;}},fta:{configurable:!0,enumerable:!0,get:function(){return!1;}}});m=b;d.__decorate([f.config(f.string,"uiVersion")],m.prototype,"zP",null);d.__decorate([f.config(f.string,"uiPlatform")],m.prototype,"x0",null);d.__decorate([f.config(f.vy,"pboVersion")],m.prototype,"version",null);d.__decorate([f.config(f.string,"pboOrganization")],m.prototype,"lFa",null);d.__decorate([f.config(f.Qha,"pboLanguages")],m.prototype,"languages",null);d.__decorate([f.config(f.rd,"hasLimitedPlaybackFunctionality")],m.prototype,"MF",null);d.__decorate([f.config(f.rd,"mdxBindUsingNodeQuark")],m.prototype,"Vpb",null);d.__decorate([f.config(f.rd,"mdxPairUsingNodeQuark")],m.prototype,"Xpb",null);d.__decorate([f.config(f.object(),"pboCommands")],m.prototype,"rIa",null);d.__decorate([f.config(f.object(),"pboCommandsOverride")],m.prototype,"sIa",null);d.__decorate([f.config(f.rd,"pboRecordHistory")],m.prototype,"YGa",null);d.__decorate([f.config(f.vy,"pboHistorySize")],m.prototype,"Bba",null);d.__decorate([f.config(f.rd,"pboAddXEsnHeader")],m.prototype,"fta",null);m=d.__decorate([h.N(),d.__param(0,h.l(p.hj)),d.__param(1,h.l(k.md)),d.__param(2,h.l(a.nC))],m);c.rWa=m;},function(d,c,a){var h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});h=a(2);b.Zmb=function(a){var b,c;b=a&&a.code;c=a&&(a.da||a.Xc);a=a.dh!==h.v2.Ina;c=!!c&&c>=h.G.rI&&c<=h.G.pI&&a;return!("RETRY"!==b&&"FAIL"!==b)||c;};b.Kib=function(a){var b,c;c=null===(b=null===a||void 0===a?void 0:a.hy)||void 0===b?void 0:b.maxRetries;return"number"===typeof c?c:"FAIL"===(null===a||void 0===a?void 0:a.code)?1:void 0;};c.Nna=b;},function(d,c,a){var p,f,k,m,g,u,y,l,q,z,G,M,N,P,r;function b(a){this.config=a;this.Tt=[];}function h(a,b,c){this.ta=a;this.EH=b;this.context=c;this.startTime=this.ta.gc();}function n(a,c,f,d,k,h,m,n,p){this.vKa=c;this.json=f;this.ta=d;this.Rp=k;this.Dfa=h;this.la=m;this.Hb=p;this.log=a.wb("Pbo");n.YGa&&(this.Tt=new b(n));this.EH=this.vKa();}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);p=a(1);f=a(3);k=a(318);m=a(8);g=a(29);u=a(25);y=a(31);l=a(140);q=a(35);z=a(317);G=a(99);M=a(66);N=a(13);P=a(42);r=a(637);n.prototype.send=function(a,b){var c;c=new h(this.ta,this.EH,a);this.Tt&&this.Tt.append(c);return this.Tga(a,b,c);};n.prototype.Tga=function(a,b,c){var f;f=this;return new Promise(function(d,k){f.dv(a,b).then(function(a){var b,h;f.$yb(a);b=Q(f.PEb(a));h=b.next().value;b=b.next().value;h&&(f.I9a(c),d(a));b&&(f.fva(c,b),k(b));})["catch"](function(a){var b;b=f.fva(c,a);a.lb&&(a.lb=[a.lb," ",b].join(""));k(a);});});};n.prototype.$yb=function(a){(a=a.serverTime)&&this.Hb.Sb(N.$la.qIa,f.Ib(a));};n.prototype.PEb=function(a){var b;b=a.result;if("deviceCommand"in a){a=a.deviceCommand;this.log.trace("Received device command '"+a+"'");switch(a){case"reset":b="RESET_DEVICE";break;case"reload":b="RELOAD_DEVICE";break;case"exit":b="EXIT_DEVICE";break;default:b="FAIL",this.log.error("Unhandled device command '"+a+"'");}return[,{code:b,detail:{message:"Server sent device action to '"+a+"' device"}}];}if(b)return[b,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};n.prototype.rtb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(A){throw{nB:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{nB:!0,code:"FAIL",message:"There is no result property on the response"};}throw{nB:!0,code:"FAIL",message:"There is no body property on the response"};};n.prototype.X6a=function(a,b,c){var f;f=this;this.cEb(b,a);this.EH=this.vKa(c);return this.EH.send(b,c).then(function(a){return{dv:!1,result:f.rtb(a.body)};})["catch"](function(c){var d,k;k=(d=r.Nna.Kib(c))?Math.min(d,b.pga):b.pga;return f.N_(b,c,a,k)?(d=f.E8a(c,a,k),f.log.warn("Method failed, retrying",Object.assign({Method:b.gk,Attempt:a+1,WaitTime:d,MaxRetries:k},f.X8(c))),Promise.resolve({dv:!0,Rd:d,error:c})):Promise.resolve({dv:!1,error:c});});};n.prototype.cEb=function(a,b){var c;c=a.url.searchParams;c.set(P.B3.RXa,(b+1).toString());c.set(P.B3.Wg,a.cga.toString());c.set(P.B3.UXa,a.bga);};n.prototype.dv=function(a,b,c){var f;c=void 0===c?0:c;f=this;return this.X6a(c++,a,b).then(function(d){if(d.dv)return f.fFb(d.Rd).then(function(){return f.dv(a,b,c);});if(d.error)throw d.error;if(void 0===d.result)throw{pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return d.result;});};n.prototype.N_=function(a,b,c,f){var d;d=this.Rp.GHa||r.Nna.Zmb(b);if(d&&c<f)return!0;d?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.gk,Attempt:c+1,MaxRetries:f},this.X8(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.gk},this.X8(b)));return!1;};n.prototype.E8a=function(a,b,c){return a&&a.hy&&void 0!==a.hy.retryAfterSeconds?f.rh(a.hy.retryAfterSeconds):f.Ib(this.Dfa.CGa(1E3*(0===b?1:b),1E3*Math.pow(2,Math.min(b,c))));};n.prototype.fFb=function(a){var b;b=this;return new Promise(function(c){b.la.qh(a||f.xe,c);});};n.prototype.X8=function(a){return z.Omb(a)?a:{message:a.message,subCode:a.Xc,extCode:a.dh,mslCode:a.Mr,data:a.data};};n.prototype.I9a=function(a){a.Rha();};n.prototype.fva=function(a,b){var c;a.ex(b);if(this.Tt)try{c=this.json.stringify(this.Tt);this.log.error("PBO command history",c);return c;}catch(X){}return"";};a=n;a=d.__decorate([p.N(),d.__param(0,p.l(m.Cb)),d.__param(1,p.l(k.zpa)),d.__param(2,p.l(g.Ny)),d.__param(3,p.l(u.Bf)),d.__param(4,p.l(y.vl)),d.__param(5,p.l(l.DR)),d.__param(6,p.l(q.Xg)),d.__param(7,p.l(G.Yy)),d.__param(8,p.l(M.W1))],a);c.tWa=a;h.prototype.Rha=function(){this.aa=!0;this.elapsedTime=this.ta.gc().Ac(this.startTime);};h.prototype.ex=function(a){this.aa=!1;this.elapsedTime=this.ta.gc().Ac(this.startTime);this.GBb=a.Xc||a.subCode;this.ifb=a.dh||a.extCode;};h.prototype.toString=function(){return JSON.stringify(this);};h.prototype.toJSON=function(){var a;a=Object.assign({success:this.aa,method:this.context.gk,startTime:this.startTime.ca(f.ha),elapsedTime:this.elapsedTime?this.elapsedTime.ca(f.ha):"in progress"},this.EH.q8());return this.aa?a:Object.assign(Object.assign(Object.assign({},a),this.EH.q8()),{subcode:this.GBb,extcode:this.ifb});};b.prototype.append=function(a){this.Tt.push(a);0<this.config.Bba&&this.Tt.length>this.config.Bba&&this.Tt.shift();};b.prototype.toJSON=function(){return this.Tt;};},function(d,c,a){var b,h,n,p,f,k,m,g,u,y;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(319);h=a(638);n=a(99);p=a(636);f=a(316);k=a(635);m=a(419);g=a(634);u=a(155);y=a(633);c.Btb=new d.Bc(function(a){a(n.Yy).to(p.rWa).Z();a(b.Mna).to(h.tWa).Z();a(m.Rna).to(g.xWa);a(m.Qna).cf(function(a){return function(){return a.hb.get(m.Rna);};});a(f.Yna).to(k.LWa).Z();a(u.tR).to(y.JWa).Z();});},function(d,c,a){var h,n,p,f,k;function b(a){return n.oe.call(this,a,"MseConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(36);n=a(39);p=a(1);f=a(28);k=a(3);da(b,n.oe);pa.Object.defineProperties(b.prototype,{TDa:{configurable:!0,enumerable:!0,get:function(){return k.Ib(5E3);}},iFa:{configurable:!0,enumerable:!0,get:function(){return k.Ib(1E3);}},jFa:{configurable:!0,enumerable:!0,get:function(){return k.Ib(1E3);}}});a=b;d.__decorate([h.config(h.jh,"minDecoderBufferMilliseconds")],a.prototype,"TDa",null);d.__decorate([h.config(h.jh,"optimalDecoderBufferMilliseconds")],a.prototype,"iFa",null);d.__decorate([h.config(h.jh,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"jFa",null);a=d.__decorate([p.N(),d.__param(0,p.l(f.hj))],a);c.LUa=a;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(469);h=a(640);c.Wqb=new d.Bc(function(a){a(b.Yma).to(h.LUa).Z();});},function(d,c,a){var h,n,p,f,k,m,g,u;function b(a,b,c,d,k,h){function m(f,m){this.track=f;this.label=m;this.ng=u.Rb.jc.UNSENT;this.Ae=0;this.Vo=[];this.requestId=h.aA().toString();this.Ga=c;this.log=b.wb("MediaRequest");this.config=a;this.Hb=new g.Jk();"notification"===this.label?this.config().mA&&(this.fl=d):this.fl=k;}function n(f,m){this.requestId=h.aA().toString();this.Ga=c;this.log=b.wb("MediaRequest");this.config=a;this.Hb=new g.Jk();this.label=m;"notification"===this.label?this.config().mA&&(this.fl=d):this.fl=k;this.IM=this.RK=this.SK=void 0;this.track=f;this.tU=this.url=this.responseType=void 0;this.ng=u.Rb.jc.UNSENT;this.Ti=this.jF=this.eh=this.status=void 0;this.kl=this.Ae=0;this.connect=this.s$=this.Yz=this.Fx=this.Cca=this.Wc=this.r$=this.Ze=this.UD=void 0;this.Vo=[];this.Kp=!1;}m.prototype.addEventListener=function(a,b,c){this.Hb.addListener.call(this,a,b,c);};m.prototype.removeEventListener=function(a,b){this.Hb.removeListener.call(this,a,b);};m.prototype.emit=function(a,b,c){this.Hb.Sb.call(this,a,b,c);};m.prototype.Irb=function(a){this.ng===u.Rb.jc.OPENED&&(this.IM=!0,this.Ze=this.Wc=a.timestamp,this.ng=u.Rb.jc.Qv,this.emit(u.Rb.Ld.ina,a));};m.prototype.tea=function(a){var b;if(this.ng<u.Rb.jc.$y){this.Vo=[];b=a.timestamp-this.Ze;!this.ac&&0<b&&(this.connect=!0,this.Vo.push(b));!0===this.config().Hlb?this.r$=a.timestamp:this.r$=this.Wc=a.timestamp;this.ng=u.Rb.jc.$y;this.emit(u.Rb.Ld.hna,a);}};m.prototype.Lrb=function(a){this.ng===u.Rb.jc.$y&&(this.Cca=this.Wc=a.timestamp,a.newBytes=a.bytesLoaded-this.Ae,this.Ae=a.bytesLoaded,this.Ga.Qd(this.Cca)&&this.emit(u.Rb.Ld.jna,a));};m.prototype.im=function(a){-1<[u.Rb.jc.Qv,u.Rb.jc.$y].indexOf(this.ng)&&(this.IM=!1,this.Wc=a.timestamp,this.ng=u.Rb.jc.DONE,a.newBytes=this.Qh-this.Ae,this.Ae=this.Qh,this.Ga.Qd(this.Yz)&&(this.Wc=this.Yz,0===a.newBytes&&(this.Cca=this.Yz)),this.Ga.Qd(this.Fx)&&(this.Ze=this.Fx),this.UD=a.response,this.emit(u.Rb.Ld.LI,a));};m.prototype.Drb=function(a){this.IM=!1;this.emit(u.Rb.Ld.hVa,a);};m.prototype.vea=function(a){this.Wc=a.timestamp;this.status=a.httpcode;this.eh=a.errorcode;this.jF=u.Rb.zC.name[this.eh];this.Ti=a.nativecode;this.emit(u.Rb.Ld.Xy,a);this.IM=!1;};m.prototype.open=function(a,b,c,f,d,k,h){this.TB=!1;this.tU=b;this.url=a;this.responseType=c;if(!this.url)return!1;this.ng=u.Rb.jc.OPENED;this.fl.bM(this,b,h);return!0;};m.prototype.xc=function(){-1!==[u.Rb.jc.OPENED,u.Rb.jc.Qv,u.Rb.jc.$y].indexOf(this.ng)&&this.abort();return!0;};m.prototype.Wua=function(){this.UD=void 0;this.GE&&(this.GE.response=void 0,this.GE.cadmiumResponse.content=void 0);this.Gba=void 0;};m.prototype.iP=function(a){this.url=a;return!0;};m.prototype.abort=function(){this.ng=u.Rb.jc.QH;this.fl.Jz(this);return!0;};m.prototype.pause=function(){};m.prototype.getResponseHeader=function(){return null;};m.prototype.getAllResponseHeaders=function(){return"";};m.prototype.rO=function(){};m.prototype.Aj=function(){return this.requestId;};m.prototype.toString=function(){var a;a={requestId:this.Aj(),segmentId:this.Ma,isHeader:this.ac,ptsStart:this.av,ptsOffset:this.om,responseType:this.responseType,duration:this.mr,readystate:this.ng};this.stream&&(a.bitrate=this.stream.R);return JSON.stringify(a);};m.prototype.toJSON=function(){return this.toString();};m.prototype.gkb=function(){var a,b;if(this.config().iLa&&f.Es&&f.Es.getEntriesByType&&(!this.Ga.Qd(this.Fx)||!this.Ga.Qd(this.Yz)&&this.Ga.Qd(this.url))){a=""+this.url.split("nflxvideo.net")[0].split("//").pop()+("*nflxvideo.net/range/"+this.SK+"-"+this.RK+"*");b=new RegExp(a);a=f.Es.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];this.Ga.Qd(a)&&(0<a.startTime&&(this.Fx=a.startTime,0<a.requestStart&&(this.Fx=Math.max(this.Fx,a.requestStart))),0<a.responseStart&&(this.s$=a.responseStart),0<a.responseEnd&&(this.Yz=a.responseEnd));}};m.prototype.Ymb=function(){return this.Ga.Qd(this.Fx)&&this.Ga.Qd(this.Yz)&&this.Ga.Qd(this.s$);};pa.Object.defineProperties(m.prototype,{Qh:{configurable:!0,enumerable:!0,get:function(){return this.tU.end-this.tU.start+1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.RK-this.SK+1;}},FAa:{configurable:!0,enumerable:!0,get:function(){return!!(this.response&&0<this.response.byteLength);}},ac:{configurable:!0,enumerable:!0,get:function(){return!this.KA;}},response:{configurable:!0,enumerable:!0,get:function(){return this.UD;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.ng;},set:function(){}}});Object.getOwnPropertyNames(m.prototype).forEach(function(a){Object.defineProperty(n.prototype,a,Object.getOwnPropertyDescriptor(m.prototype,a));});this.Vj=Object.assign(n,u.Rb);}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(8);p=a(17);f=a(10);k=a(23);m=a(321);g=a(79);u=a(156);a=a(118);b=d.__decorate([h.N(),d.__param(0,h.l(p.md)),d.__param(1,h.l(n.Cb)),d.__param(2,h.l(k.Oe)),d.__param(3,h.l(m.nna)),d.__param(4,h.l(m.Rma)),d.__param(5,h.l(a.JC))],b);c.yUa=b;},function(d,c,a){var h,n,p,f,k,m,g,u,y,l,q,z;function b(a,b,c,f,d,k,h){this.ta=a;this.Rp=b;this.config=c;this.Ye=d;this.cqb=k;this.Uua=h;this.log=f.wb("MediaRequestDownloader");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(50);n=a(1);p=a(8);f=a(98);k=a(324);m=a(80);g=a(156);u=a(25);y=a(3);l=a(323);q=a(31);a=a(17);b.prototype.bM=function(a,b,c){var d,k,n;function f(){a.removeEventListener(g.Rb.Ld.Xy,f);a.TL?a.TL++:a.TL=1;a.TL>=d.config().h$.length&&(a.TL=d.config().h$.length-1);setTimeout(function(){d.bM(a,b,c);},d.config().h$[a.TL]);}d=this;a.HSb=!0;k={url:a.url,responseType:this.Ye.HXa.UMa,withCredentials:!1,gA:a.M===h.Uc.Na.AUDIO?"audio":"video",offset:b.start,length:a.Qh,track:{type:a.M===h.Uc.Na.AUDIO?m.Vg.audio:m.Vg.video},stream:{cd:a.qa,R:a.R},ec:a.Jb,Lo:a,dg:a.ac?void 0:this.Uua.parse.bind(this.Uua),P_:c,hp:this.Rp.hp};k=this.cqb.download(k,function(b){b.aa&&a.readyState!==g.Rb.jc.DONE&&a.readyState!==g.Rb.jc.QH&&(a.readyState!==g.Rb.jc.Bv&&a.readyState===g.Rb.jc.Qv&&(a.readyState=g.Rb.jc.$y,a.tea({mediaRequest:a,readyState:a.readyState,timestamp:d.iu(),connect:!1})),a.readyState=g.Rb.jc.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:d.iu(),cadmiumResponse:b,response:b.content},a.GE=b,a.im(b));});if(a.ac){n={mediaRequest:a,readyState:a.readyState,timestamp:this.iu(),connect:!1};a.tea(n);}a.addEventListener(g.Rb.Ld.Xy,f);a.Gba=k.abort;};b.prototype.Jz=function(a){try{a.Gba();}catch(M){this.log.warn("exception aborting request");}};b.prototype.iu=function(){return this.ta.gc().ca(y.ha);};z=b;z=d.__decorate([n.N(),d.__param(0,n.l(u.Bf)),d.__param(1,n.l(q.vl)),d.__param(2,n.l(a.md)),d.__param(3,n.l(p.Cb)),d.__param(4,n.l(f.Py)),d.__param(5,n.l(k.Pma)),d.__param(6,n.l(l.Rja))],z);c.zUa=z;},function(d,c,a){var h,n,p;function b(a,b){this.Ye=b;this.log=a.wb("OpenConnectSideChannel");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(8);a=a(98);b.prototype.bM=function(a,b,c){this.Ye.EAb({url:a.url,qyb:c});};b.prototype.Jz=function(a){try{a.Gba();}catch(k){this.log.warn("exception aborting request");}};p=b;p=d.__decorate([h.N(),d.__param(0,h.l(n.Cb)),d.__param(1,h.l(a.Py))],p);c.oVa=p;},function(d){function c(a){this.buffer=a;this.position=0;}c.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},pk:function(){return this.buffer.length-this.position;},ve:function(){return this.buffer[this.position++];},Hd:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},yc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},Tr:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},Ifa:function(){for(var a="",b;b=this.ve();)a+=String.fromCharCode(b);return a;},Mb:function(){return this.yc(2);},Pa:function(){return this.yc(4);},xg:function(){return this.yc(8);},VZ:function(){return this.yc(2)/256;},nO:function(){return this.yc(4)/65536;},yf:function(a){for(var b,c="";a--;)b=this.ve(),c+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return c;},cy:function(){return this.yf(4)+"-"+this.yf(2)+"-"+this.yf(2)+"-"+this.yf(2)+"-"+this.yf(6);},oO:function(a){for(var b=0,c=0;c<a;c++)b+=this.ve()<<(c<<3);return b;},zB:function(){return this.oO(4);},WP:function(a){this.buffer[this.position++]=a;},W0:function(a,b){this.position+=b;for(var c=1;c<=b;c++)this.buffer[this.position-c]=a&255,a=Math.floor(a/256);},VP:function(a){for(var b=a.length,c=0;c<b;c++)this.buffer[this.position++]=a[c];},kC:function(a,b){this.VP(a.Hd(b));}};d.P=c;},function(d,c,a){var h,n,p,f,k,m;function b(a,b){this.config=a;this.log=b.wb("ChunkMediaParser");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(159);p=a(8);f=a(11);k=a(17);m=a(322).Gfa;b.prototype.parse=function(a){var d,k,h;a=new Uint8Array(a);for(var b=m(a),c=0;c<b.length;c+=2){d=b[c];if("moof"!==d.type||"mdat"!==b[c+1].type)throw this.log.error("data is not moof-mdat box pairs",{boxType:d.type,nextBoxType:b[c+1].type}),Error("data is not moof-mdat box pairs");if(this.config().rFb&&"moof"==d.type){k=d.lx("traf/saio");h=d.lx("traf/"+f.tNa);k&&h&&(d=h.q7a.byteOffset-d.raw.byteOffset,k.QHa[0]!==d&&(this.log.error("Repairing bad SAIO",{saioOffsets:k.QHa[0],auxDataOffsets:d}),this.Wsb(k,d)));}}return a.buffer;};b.prototype.Wsb=function(a,b){var c;c=new n.aI(a.raw);c.seek(a.size-a.Nw);a=c.yc(1);c.yc(3)&1&&(c.Pa(),c.Pa());a=1<=a?8:4;c.Pa();c.W0(b,a);};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(k.md)),d.__param(1,h.l(p.Cb))],a);c.pOa=a;},function(d,c,a){var h,n,p,f,k,m,g,u,y,l;function b(a,b,c,f,d,k){this.xK=a;this.Ye=c;this.Ga=f;this.ta=d;this.config=k;this.log=b.wb("MediaHttp");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(156);n=a(88);p=a(2);f=a(8);k=a(1);m=a(98);g=a(23);u=a(25);y=a(3);a=a(17);b.prototype.iu=function(){return this.ta.gc().ca(y.ha);};b.prototype.CEa=function(a,b){a.Irb({mediaRequest:a,timestamp:b});};b.prototype.YEa=function(a){var b;b=a.mediaRequest.Lo;b.readyState=h.Rb.jc.$y;a=a.connect?a:{timestamp:this.iu(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.tea(a);};b.prototype.kZ=function(a){this.CEa(a.mediaRequest.Lo,a.timestamp);};b.prototype.mZ=function(a){var b,c;b=a.mediaRequest.Lo;c=a.bytes;"undefined"!==typeof b&&(b.readyState===h.Rb.jc.Qv&&this.YEa(a),this.Ga.Zg(c)&&(a.mediaRequest=b,a.timestamp=this.iu(),c>b.Ae&&(a.newBytes=c-b.Ae,a.bytesLoaded=c,b.Lrb(a))));};b.prototype.vG=function(a){var b,c,f,d;b=a.mediaRequest;c=a.errorcode;f=a.httpcode;d=h.Rb.zC;if("undefined"!==typeof b&&(b=b.Lo,"undefined"!==typeof b&&b.readyState!==h.Rb.jc.Bv))if(c===p.G.Cv)b.readyState=h.Rb.jc.QH,a.mediaRequest=b,a.readyState=b.readyState,b.Drb(a);else{b.readyState=h.Rb.jc.Bv;switch(c){case p.G.rI:f=d.s1;break;case p.G.t2:f=d.q2;break;case p.G.oI:f=400<f&&500>f?d.s2:500<=f?d.tla:d.q2;break;case p.G.pI:f=d.r2;break;case p.G.nI:f=d.Jja;break;case p.G.qI:f=d.$Q;break;case p.G.My:f=d.$Q;break;case p.G.p2:f=d.sla;break;case p.G.pla:f=d.s2;break;case p.G.EPa:f=d.r2;break;default:f=d.$Q;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=f;a.nativecode=c;b.vea(a);}};b.prototype.Aea=function(a,b){var c,f;c=b.request.Lo;if(c)if(b.aa){if(a.j&&c.readyState!==h.Rb.jc.DONE){switch(c.readyState){case h.Rb.jc.QH:return;case h.Rb.jc.Qv:this.YEa({mediaRequest:b.request});}c.readyState=h.Rb.jc.DONE;if(!c.ac){f={mediaRequest:c,readyState:c.readyState,timestamp:this.iu(),cadmiumResponse:b};a.j.pia+=1;c.gkb();c.Ymb()&&(a.j.lga+=1,b.tk.Sg=Math.ceil(c.s$),b.tk.sm=Math.ceil(c.Yz),b.tk.requestTime=Math.floor(c.Fx));c.GE=f;c.im(f);}}}else c.readyState!==h.Rb.jc.QH&&(a={mediaRequest:b.request,timestamp:this.iu(),errorcode:b.da,httpcode:b.Oi},this.vG(a));};b.prototype.download=function(a,b){var c,f;c=this;b=this.Ye.download(a,b);if(a.Lo){f=a.Lo;-1<[h.Rb.jc.OPENED,h.Rb.jc.Bv].indexOf(f.readyState)&&(f.readyState=h.Rb.jc.Qv,this.config().eqb?b.Izb(function(a){c.kZ(a);}):this.CEa(f,this.iu()));}b.x6(function(b){c.Aea(a,b);});b.Qzb(function(a){c.mZ(a);});b.Czb(function(a){c.vG(a);});return b;};l=b;l=d.__decorate([k.N(),d.__param(0,k.l(n.aQ)),d.__param(1,k.l(f.Cb)),d.__param(2,k.l(m.Py)),d.__param(3,k.l(g.Oe)),d.__param(4,k.l(u.Bf)),d.__param(5,k.l(a.md))],l);c.uUa=l;},function(d,c,a){var h,n,p,f,b;function b(a){function b(b,c){this.J=b;this.Rk=c;this.RV=!1;this.emit=f.prototype.emit;this.addListener=f.prototype.addListener;this.on=f.prototype.on;this.once=f.prototype.once;this.removeListener=f.prototype.removeListener;this.removeAllListeners=f.prototype.removeAllListeners;this.listeners=f.prototype.listeners;this.listenerCount=f.prototype.listenerCount;f.call(this);this.qb=a.wb("DownloadTrack");}b.prototype.en=function(){this.LT=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.LT+" config: "+JSON.stringify(this.J);};b.prototype.toJSON=function(){return"Download Track id:"+this.LT+" config: "+JSON.stringify(this.J);};b.prototype.Ofa=function(a){this.J.connections!==a.connections&&(this.J=a);};b.prototype.tn=function(){return 1<this.J.connections?!0:!1;};pa.Object.defineProperties(b.prototype,{bb:{configurable:!0,enumerable:!0,get:function(){return this.LT;}},Kp:{configurable:!0,enumerable:!0,get:function(){return void 0===this.LT;}},config:{configurable:!0,enumerable:!0,get:function(){return this.J;}},qB:{configurable:!0,enumerable:!0,get:function(){return this.qb;}},fl:{configurable:!0,enumerable:!0,get:function(){return this.Rk.fl;}}});this.xC=Object.assign(b,new p.aQa());}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(8);p=a(157);f=a(133).EventEmitter;b=d.__decorate([h.N(),d.__param(0,h.l(n.Cb))],b);c.$Pa=b;},function(d,c,a){var b,h,n,p,f,k,m,g,u,y,l;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(157);h=a(648);n=a(324);p=a(647);f=a(323);k=a(646);m=a(321);g=a(644);u=a(643);y=a(320);l=a(642);c.Ch=new d.Bc(function(a){a(b.Aka).to(h.$Pa).Z();a(n.Pma).to(p.uUa).Z();a(f.Rja).to(k.pOa).Z();a(m.nna).to(g.oVa).Z();a(m.Rma).to(u.zUa).Z();a(y.Qma).to(l.yUa).Z();});},function(d,c,a){var h,n,p,f,k;function b(a){return n.oe.call(this,a,"PrefetchEventsConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(39);p=a(28);f=a(36);k=a(3);da(b,n.oe);pa.Object.defineProperties(b.prototype,{kIa:{configurable:!0,enumerable:!0,get:function(){return!0;}},bda:{configurable:!0,enumerable:!0,get:function(){return k.QY(5);}}});a=b;d.__decorate([f.config(f.rd,"sendPrefetchEventLogs")],a.prototype,"kIa",null);d.__decorate([f.config(f.jh,"logsInterval")],a.prototype,"bda",null);a=d.__decorate([h.N(),d.__param(0,h.l(p.hj))],a);c.uXa=a;},function(d,c,a){var h,n,p;function b(a,b){this.Ga=b;this.ka=a.wb("PlayPredictionDeserializer");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(8);a=a(23);b.prototype.Vcb=function(a){var b;b=this;try{return{direction:a.direction,Snb:a.layoutHasChanged,ayb:a.rowInteractionIndex,Aa:a.lolomos.map(function(a){return b.Rcb(a);})};}catch(m){this.ka.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};b.prototype.Rcb=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.Qcb(a);}),requestId:a.requestId,rowIndex:a.rowIndex,cyb:a.rowSegment};};b.prototype.Qcb=function(a){var b,c;b={Oc:a.pts,property:a.property,pa:a.viewableId,index:a.index};c=a.preplay;this.Ga.Qd(c)&&(b.KG=this.Ucb(c));a=a.params;this.Ga.Qd(a)&&(b.fb=this.vwa(a));return b;};b.prototype.Ucb=function(a){var b;b={Oc:a.pts,pa:a.viewableId,pB:a.pipelineNum,index:a.index};a=a.params;this.Ga.Qd(a)&&(b.fb=this.vwa(a));return b;};b.prototype.vwa=function(a){return{le:a.uiLabel,Rh:a.trackingId,Dn:a.sessionParams};};b.prototype.wwa=function(a){var b;b=this;try{return a.map(function(a){return b.Scb(a);});}catch(m){this.ka.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};b.prototype.Scb=function(a){var b,c;c=a.params;this.Ga.Qd(c)&&(b=this.Tcb(c));return{u:a.movieId,ie:a.priority,force:a.force,fb:b,le:a.uiLabel,YVb:a.uiExpectedStartTime,XVb:a.uiExpectedEndTime,xj:a.firstTimeAdded};};b.prototype.Tcb=function(a){var b,c;b=void 0;c=a.sessionParams;this.Ga.Qd(c)&&(b=c);return{EK:this.Pcb(a.authParams),Dn:b,Rh:a.trackingId,S:a.startPts,wa:a.manifest,Ri:a.isBranching};};b.prototype.Pcb=function(a){return{JFa:(a||{}).pinCapableClient};};b.prototype.czb=function(a){var b,c;try{b="";this.Ga.Qd(a.aGa)&&(b=JSON.stringify(this.fzb(JSON.parse(a.aGa))));c="";this.Ga.Qd(a.bGa)&&(c=JSON.stringify(this.gzb(JSON.parse(a.bGa))));return{dest_id:a.oV,offset:a.offset,predictions:a.dGa.map(this.izb,this),ppm_input:b,ppm_output:c,prepare_type:a.GUb};}catch(t){this.ka.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};b.prototype.izb=function(a){return{title_id:a.xq};};b.prototype.fzb=function(a){return{direction:a.direction,layoutHasChanged:a.Snb,rowInteractionIndex:a.ayb,lolomos:a.Aa.map(this.ezb,this)};};b.prototype.ezb=function(a){return{context:a.context,list:a.list.map(this.dzb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.cyb};};b.prototype.dzb=function(a){var b,c;this.Ga.Qd(a.KG)&&(b=this.jzb(a.KG));this.Ga.Qd(a.fb)&&(c=this.Xga(a.fb));return{preplay:b,pts:a.Oc,viewableId:a.pa,params:c,property:a.property,index:a.index};};b.prototype.jzb=function(a){var b;this.Ga.Qd(a.fb)&&(b=this.Xga(a.fb));return{pts:a.Oc,viewableId:a.pa,params:b,pipelineNum:a.pB,index:a.index};};b.prototype.Xga=function(a){return{uiLabel:a.le,trackingId:a.Rh,sessionParams:a.Dn};};b.prototype.gzb=function(a){return a.map(this.hzb,this);};b.prototype.hzb=function(a){var b;this.Ga.Qd(a.fb)&&(b=this.Xga(a.fb));return{movieId:a.u,priority:a.ie,params:b,uiLabel:a.le,firstTimeAdded:a.xj,viewableId:a.pa,pts:a.Oc};};p=b;p=d.__decorate([h.N(),d.__param(0,h.l(n.Cb)),d.__param(1,h.l(a.Oe))],p);c.RWa=p;},function(d,c,a){var n,p,f,k,m,g,u,y,l;function b(a,b,c,f,d,k,h,m){this.ri=a;this.$A=b;this.la=c;this.Wx=d;this.config=k;this.$$=h;this.Xea=m;this.SZ=[];this.Bca=[];this.mfa={};this.ka=f.wb("PrefetchEvents");}function h(a,b,c,f,d,k){this.ri=a;this.$A=b;this.la=c;this.cg=f;this.config=d;this.Xea=k;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);n=a(119);p=a(1);f=a(3);k=a(43);m=a(62);g=a(35);u=a(8);y=a(325);a=a(198);h.prototype.create=function(a,c){return new b(this.ri,this.$A,this.la,this.cg,a,this.config,c,this.Xea);};l=h;l=d.__decorate([p.N(),d.__param(0,p.l(k.Kk)),d.__param(1,p.l(m.qp)),d.__param(2,p.l(g.Xg)),d.__param(3,p.l(u.Cb)),d.__param(4,p.l(y.toa)),d.__param(5,p.l(a.u3))],l);c.vXa=l;b.prototype.r8a=function(a,b,c){this.UA(n.He.Iy.BNa,a,b,void 0,c);};b.prototype.t8a=function(a,b,c){this.UA(n.He.Iy.CNa,a,b,void 0,c);};b.prototype.q8a=function(a,b,c){this.UA(n.He.Iy.ANa,a,b,void 0,c);};b.prototype.o8a=function(a,b,c){this.UA(n.He.Iy.yNa,a,b,void 0,c);};b.prototype.TK=function(a,b,c){this.UA(n.He.Iy.zNa,a,b,void 0,c);};b.prototype.nub=function(a){this.UA(n.He.Iy.FVa,void 0,a);};b.prototype.mm=function(a,b,c,f,d,k,h){this.VT()&&(this.UA(n.He.Iy.mYa,void 0,a),this.Oob(a,b,c,f,d,k,h),this.bya(),this.KCa());this.Umb(a)&&this.Jxb();};b.prototype.Ycb=function(a){a={dest_id:a,cache:this.Wga(this.$$())};this.KO("destiny_start",a);};b.prototype.Uub=function(a){(a=this.Xea.czb(a))?this.KO("destiny_prepare",a):this.ka.error("failed to serialize prepare event");};b.prototype.bya=function(){0<this.SZ.length&&this.VT()&&(this.KO("destiny_events",{dest_id:this.Wx.Tn,events:this.SZ}),this.SZ=[]);this.w_&&(this.w_.cancel(),this.w_=void 0);this.rxa();};b.prototype.KCa=function(){var a;if(this.s8a()&&this.VT()){a=this.$$();this.Bca=a;a={dest_id:this.Wx.Tn,offset:this.Wx.FW(),cache:this.Wga(a)};this.KO("destiny_cachestate",a);}this.v_&&(this.v_.cancel(),this.v_=void 0);this.qxa();};b.prototype.update=function(a){var b;b=this;a.Aa.forEach(function(a){a.list.forEach(function(a){b.mfa[a.pa]=!0;});});};b.prototype.Umb=function(a){return this.mfa[a];};b.prototype.s8a=function(){var a,b,c;a=this;b=this.$$();if(b.length!==this.Bca.length)return!0;c=!1;b.forEach(function(b,f){try{JSON.stringify(b)!==JSON.stringify(a.Bca[f])&&(c=!0);}catch(P){a.ka.error("Failed to stringify cachedTitle",P);}});return c;};b.prototype.UA=function(a,b,c,f,d){this.VT()&&(a={offset:this.Wx.FW(),event_type:a,title_id:c,asset_type:b,size:f,reason:d},this.SZ.push(a),this.rxa(),this.qxa());};b.prototype.rxa=function(){this.w_||(this.w_=this.la.qh(this.config.bda,this.bya.bind(this)));};b.prototype.qxa=function(){this.v_||(this.v_=this.la.qh(this.config.bda,this.KCa.bind(this)));};b.prototype.Oob=function(a,b,c,d,k,h,m){var p;p=[];c&&p.push({xq:a,Bt:n.He.Qj.$ia,state:n.He.$P.hQ});d&&p.push({xq:a,Bt:n.He.Qj.Oy,state:n.He.$P.hQ});k&&p.push({xq:a,Bt:n.He.Qj.mI,state:n.He.$P.hQ});(0<h.ca(f.ha)||0<m.ca(f.ha))&&p.push({xq:a,Bt:n.He.Qj.MEDIA,state:n.He.$P.hQ,g7a:h.ca(f.ha),aFb:m.ca(f.ha)});a={dest_id:this.Wx.Tn,offset:this.Wx.FW(),xid:b,cache:this.Wga(p)};this.KO("destiny_playback",a);};b.prototype.KO=function(a,b){this.config.kIa&&(a=this.$A.bn(a,"info",b),this.ri.Gc(a));};b.prototype.Wga=function(a){return a.map(function(a){return{title_id:a.xq,state:a.state,asset_type:a.Bt,size:a.size,audio_ms:a.g7a,video_ms:a.aFb};});};b.prototype.VT=function(){return 0!==this.Wx.Tn;};b.prototype.Jxb=function(){this.Wx.Ixb();this.mfa={};};},function(d,c,a){var b,h,n,p,f,k,m;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(119);h=a(652);n=a(198);p=a(651);f=a(650);k=a(325);m=a(109);c.Hc=new d.Bc(function(a){a(k.toa).to(f.uXa).Z();a(b.uoa).to(h.vXa).Z();a(n.u3).to(p.RWa).Z();a(m.cD).cf(function(){return function(){return L._cad_global.videoPreparer;};});});},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});d=a(5);a=a(47);a=d.$.get(a.Mk);c.zh={Qka:a.bx,zv:void 0,yv:void 0,cPa:void 0,bPa:void 0,eWa:void 0,dka:void 0,aPa:void 0};},function(d,c,a){var h,n,p,f;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(10);p=a(199);b.prototype.zjb=function(){var a;a=L.devicePixelRatio||1;return{width:this.C5.cPa||n.Fs.width*a,height:this.C5.bPa||n.Fs.height*a};};pa.Object.defineProperties(b.prototype,{C5:{configurable:!0,enumerable:!0,get:function(){return a(73).zh;}}});f=b;d.__decorate([p.iY],f.prototype,"C5",null);f=d.__decorate([h.N()],f);c.d_a=f;},function(d,c,a){var h,n;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(150);b.prototype.compare=function(a,b){var c;c=[];this.g8(a,b,"",c);return c;};b.prototype.g8=function(a,b,c,d){var f;f=this;if(n.Fv.At(a))n.Fv.At(b)&&a.length===b.length?a.forEach(function(k,h){f.g8(a[h],b[h],c+"["+h+"]",d);}):d.push({a:a,b:b,path:c});else if(n.Fv.Nz(a)&&null!=a)if(n.Fv.Nz(b)&&null!=b){for(var k in a)this.g8(a[k],b[k],c+"."+k,d);for(var h in b)h in a||void 0===b[h]||d.push({a:void 0,b:b[h],path:c+"."+h});}else d.push({a:a,b:b,path:c});else a!==b&&d.push({a:a,b:b,path:c});};a=b;a=d.__decorate([h.N()],a);c.jVa=a;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.kVa="ObjectComparerSymbol";},function(d,c,a){var h,n,p,f;function b(a){this.location=a;n.xn(this,"location");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);n=a(55);p=a(29);a=a(1);b.tZ=function(a){var b,f,d;b={};if(0<a.length){a=a.split("&");for(var c=0;c<a.length;c++){f=a[c].trim();d=f.indexOf("=");0<=d?b[decodeURIComponent(f.substr(0,d).replace(h.Hna,"%20"))]=decodeURIComponent(f.substr(d+1).replace(h.Hna,"%20")):b[f.toLowerCase()]="";}}return b;};pa.Object.defineProperties(b.prototype,{Ovb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=h.tZ(this.yGa);}},yGa:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.iO)return this.iO;this.iO=this.location.search.substr(1);a=this.iO.indexOf("#");0<=a&&(this.iO=this.yGa.substr(0,a));return this.iO;}}});f=h=b;f.Hna=/[+]/g;f=h=d.__decorate([a.N(),d.__param(0,a.l(p.mma))],f);c.BXa=f;},function(d,c,a){var h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);a=a(1);b.prototype.tya=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.tya(a);});};h=b;h=d.__decorate([a.N()],h);c.NZa=h;},function(d,c,a){var h,n,p,f,k,m;function b(a,b){this.is=a;this.json=b;n.xn(this,"json");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);n=a(55);p=a(29);f=a(1);k=a(23);m=a(144);b.prototype.KGa=function(a){var b;b=this;return h.read(a,function(a){return parseInt(a);},function(a){return b.is.O6(a);});};b.prototype.Hfa=function(a){var b;b=this;return h.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return b.is.lK(a);});};b.prototype.Pa=function(a){var b;b=this;return h.read(a,function(a){return parseInt(a);},function(a){return b.is.Yq(a);});};b.prototype.awb=function(a){var b;b=this;return h.read(a,function(a){return parseFloat(a);},function(a){return b.is.Zg(a);});};b.prototype.JGa=function(a,b){return h.read(a,function(a){return h.Hfb(a,b);},function(a){return void 0!==a;});};b.prototype.Kfa=function(a,b){return h.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};b.prototype.LGa=function(a){var b,c;b=void 0===b?function(){return!0;}:b;c=this;try{return h.read(a,function(a){return c.json.parse(decodeURIComponent(a));},function(a){return c.is.Nz(a)&&b(a);});}catch(E){return new m.Nn();}};b.prototype.Hd=function(a,b,c){var f,d;c=void 0===c?1:c;f=this;a=a.trim();d=b instanceof Function?b:this.Ibb(b,c);b=a.indexOf("[");c=a.lastIndexOf("]");if(0!=b||c!=a.length-1)return new m.Nn();a=a.substring(b+1,c);try{return h.otb(a).map(function(a){a=d(f,h.OEb(a));if(a instanceof m.Nn)throw a;return a;});}catch(z){return z instanceof m.Nn?z:new m.Nn();}};b.prototype.Ibb=function(a,b){var c;b=void 0===b?1:b;c=this;return function(f,d){f=h.fjb(a);return 1<b?c.Hd(d,a,b-1):f(c,d);};};b.Hfb=function(a,b){var f;for(var c in b){f=parseInt(c);if(b[f]==a)return f;}};b.read=function(a,b,c){a=b(a);return void 0!==a&&c(a)?a:new m.Nn();};b.fjb=function(a){switch(a){case"int":return function(a,b){return a.KGa(b);};case"bool":return function(a,b){return a.Hfa(b);};case"uint":return function(a,b){return a.Pa(b);};case"float":return function(a,b){return a.awb(b);};case"string":return function(a,b){return a.Kfa(b);};case"object":return function(a,b){return a.LGa(b);};}};b.otb=function(a){var p;for(var b=[["[","]"]],c=[],f=0,d=0,k=0,h=[],n={};d<a.length;n={"char":n["char"]},++d){n["char"]=a.charAt(d);p=void 0;","==n["char"]&&0==k?(c.push(a.substr(f,d-f)),f=d+1):(p=b.find(function(a){return function(b){return b[0]==a["char"];};}(n)))?(++k,h.push(p)):0<h.length&&h[h.length-1][1]==n["char"]&&(--k,h.pop());}if(f!=d)c.push(a.substr(f,d-f));else if(f==d&&0<f)throw new m.Nn();return c;};b.OEb=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new m.Nn();return a.substring(1,a.length-1);}return a;};a=h=b;a=h=d.__decorate([f.N(),d.__param(0,f.l(k.Oe)),d.__param(1,f.l(p.Ny))],a);c.WYa=a;},function(d,c,a){var b,h,n,p,f,k,m,g,u,y;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(660);h=a(659);n=a(658);p=a(144);f=a(505);k=a(350);m=a(657);g=a(656);u=a(326);y=a(655);c.Yc=new d.Bc(function(a){a(p.N3).to(b.WYa).Z();a(f.A3).to(n.BXa).Z();a(k.Gpa).to(h.NZa).Z();a(m.kVa).to(g.jVa).Z();a(u.Spa).to(y.d_a).Z();});},function(d,c,a){var h,n;function b(a){this.rrb=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(327);a=a(1);b.prototype.Uya=function(){var a;a=this.rrb.getDeviceId();return new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};n=b;n=d.__decorate([a.N(),d.__param(0,a.l(h.ena))],n);c.BOa=n;},function(d,c,a){var b,h,n,p,f;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(327);h=a(356);n=a(357);p=a(662);f=a(10);c.crypto=new d.Bc(function(a){a(n.$ja).to(p.BOa).Z();a(b.ena).Ph(f.Nv);a(h.aka).Ph(f.T2);});},function(d,c,a){var h,n,p,f,k,m,g,u;function b(a,b,c){var f;f=m.LR.call(this,a,b,"network")||this;f.cV=c;f.tV=k.F1.eUa;f.Gpb=30;f.Ksb=function(a){f.tV=a.target.value;f.refresh();};f.rsb=function(){f.data={};f.refresh();};f.LHa=function(a){var b,c;b=Number(a.target.id);a=a.target.getAttribute("data-type");b=f.data[f.tV][b].value;c=JSON.stringify(b,null,4);"copy"===a?u.y1.u8(c):"log"===a&&console.log(b);};return f;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(22);p=a(23);f=a(66);k=a(162);m=a(330);g=a(108);u=a(201);da(b,m.LR);b.prototype.Xb=function(){var a;a=this;if(this.Co)return Promise.resolve();L.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==g.Bs.PUa&&a.toggle();});this.data={};this.cV.addListener(k.qka.sWa,function(b){var c;a.data[b.type]||(a.data[b.type]=[]);c=a.data[b.type];c.length===a.Gpb&&c.shift();c.push(b);b.type===a.tV&&a.refresh();});this.Co=!0;return Promise.resolve();};b.prototype.zj=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.Laa=function(a,b,c){var f;f=a.toString();b='<font color="#C41A16">"'+b+'"</font>';c=this.vua.ek(c);return'\n            <tr>\n                <td><span class="'+this.prefix+'-display-indexvalue">'+f+'</span></td>\n                <td><span class="'+this.prefix+'-display-keyvalue">'+b+'</span></td>\n                <td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+'</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="'+a+'" class="'+this.prefix+'-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="'+a+'" class="'+this.prefix+'-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};b.prototype.Waa=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.zj(),b=this.data[this.tV]||[],c=0;c<b.length;++c)a+=this.Laa(c,b[c].name,b[c].value);return a+"</table>";};b.prototype.Pya=function(){var a;a=this.Pc.createElement("button",m.VH,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.rsb;return[a,this.Wbb(),this.Obb()];};b.prototype.Wbb=function(){var a;a=this.Pc.createElement("select",m.VH,Object.keys(k.F1).reduce(function(a,b){b=k.F1[b];return a+('<option value="'+b+'">'+b+"</option>");},""),{"class":this.prefix+"-display-select"});a.onchange=this.Ksb;return a;};b.prototype.Obb=function(){var a,b,c,f;a=this;b=this.Pc.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.dO;b.onchange=function(){return a.NCb();};c=this.Pc.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});f=this.Pc.createElement("div",void 0,void 0,{"class":this.prefix+"-display-div"});f.appendChild(b);f.appendChild(c);return f;};b.prototype.aHa=function(){return Promise.resolve(this.Waa());};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(n.hf)),d.__param(1,h.l(p.Oe)),d.__param(2,h.l(f.bI))],a);c.cLb=a;},function(d,c,a){var p,f,k,m,g,u,y,l,q,z,G,M,N,P,r,Y;function b(a,b,c,f,d,k,h,m,p,g){var t;t=this;this.Ia=a;this.app=b;this.Pc=c;this.la=f;this.rl=d;this.config=k;this.Uw=h;this.bia=m;this.ncb=p;this.Mj=g;this.mCb=function(){t.EP.Eb(function(){t.update();});};this.clear=function(){t.entries=[];t.update();};this.QDa=function(){t.Jd.OF=!t.Jd.OF;t.Jx&&t.Ox&&(t.Jd.OF?(t.Jx.style.display="inline-block",t.Ox.style.display="none"):(t.Ox.style.display="inline-block",t.Jx.style.display="none"));t.OB(!1);};this.Vob=function(a){var b;t.entries.push(a);b=t.config.WF;0<=b&&t.entries.length>b&&t.entries.shift();void 0===t.Jd.Pt[a.Nl]&&(t.Jd.Pt[a.Nl]=!0,t.OB(!1));t.Jd.un&&!t.QJa?t.mCb():t.EP.Eb();};this.ydb=function(){n.download("all",t.entries.map(function(a){return a.q0(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.Co=!1;this.Jd={un:!1,OF:!0,sV:!0,Zca:z.Di.w2,Pt:{}};this.EP=this.bia(y.rh(1));this.Bfb=this.ncb(y.Ib(250));this.entries=[];}function h(a){var b;this.elements=[];b=document.createElementNS(h.hP,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function n(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);p=a(1);f=a(22);k=a(102);m=a(462);g=a(35);u=a(38);y=a(3);l=a(25);q=a(74);z=a(8);G=a(101);M=a(200);N=a(328);P=a(71);r=a(108);Y=a(201);n.download=function(a,b){return n.dib(a).then(function(a){return n.ckb(a,b.join("\r\n")).then(function(a){return n.xdb(a.filename,a.text);});});};n.dib=function(a){return new Promise(function(b,c){var f,d,k,h,m,n,p;try{f=new Date();d=f.getDate().toString();k=(f.getMonth()+1).toString();h=f.getFullYear().toString();m=f.getHours().toString();n=f.getMinutes().toString();p=f.getSeconds().toString();1===d.length&&(d="0"+d);1===k.length&&(k="0"+k);1===m.length&&(m="0"+m);1===n.length&&(n="0"+n);1===p.length&&(p="0"+p);b(h+k+d+m+n+p+"."+a+".log");}catch(wa){c(wa);}});};n.ckb=function(a,b){return new Promise(function(c,f){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(ia){f(ia);}});};n.xdb=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(U){return Promise.reject(U);}};h.prototype.nH=function(){var a;a=document.createElementNS(h.hP,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",1..toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};h.prototype.oH=function(a,b,c){var f;f=document.createElementNS(h.hP,"path");f.setAttribute("d",a);b&&f.setAttribute("fill",b);c&&f.setAttribute("fill-rule",c);this.addElement(f);return this;};h.prototype.ZO=function(a,b,c,f,d){var k;d=void 0===d?"#000000":d;k=document.createElementNS(h.hP,"rect");k.setAttribute("x",a.toString());k.setAttribute("y",b.toString());k.setAttribute("height",c.toString());k.setAttribute("width",f.toString());d&&k.setAttribute("fill",d);this.addElement(k);return this;};h.prototype.ZAb=function(){var a;a=document.createElementNS(h.hP,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};h.prototype.end=function(){this.elements.pop();return this;};h.prototype.ek=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};h.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};pa.Object.defineProperties(h,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},dA:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});h.hP="http://www.w3.org/2000/svg";b.prototype.Xb=function(){var a;a=this;this.cl||(this.cl=new Promise(function(b){L.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&(b.keyCode==r.Bs.WSa?a.toggle():b.keyCode==r.Bs.E&&Y.y1.u8(a.Uw().bh));});a.rl.b_(M.vma.dPa,a.Vob);b();}));return this.cl;};b.prototype.show=function(){document.body&&(this.element||(this.nbb(),this.Co=!0),!this.Jd.un&&this.element&&(document.body.appendChild(this.element),this.Jd.un=!0,this.update(!0)));};b.prototype.zo=function(){this.Co&&this.Jd.un&&this.element&&(document.body.removeChild(this.element),this.Jd.un=!1);};b.prototype.toggle=function(){this.Jd.un?this.zo():this.show();this.OB(!1);};b.prototype.nbb=function(){var a,b;try{a=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.xm=this.Ubb());a.appendChild(this.Vbb());a.appendChild(this.ibb());this.element=a;}catch(X){console.error("Unable to create the log console",X);}};b.prototype.Ubb=function(){var a,b;a=this;b=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.QJa=!0;a.update();a.xm&&(a.xm.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.QJa=!1;a.update();a.xm&&(a.xm.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};b.prototype.Vbb=function(){var a;a=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.Cbb());a.appendChild(this.wbb());a.appendChild(this.rbb());a.appendChild(this.Xbb());a.appendChild(this.lbb());a.appendChild(this.Hbb());a.appendChild(this.Fbb());a.appendChild(this.tbb());a.appendChild(this.mbb());return a;};b.prototype.ibb=function(){var a,b,c,f,d,k;a=this;b=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("div","padding:2px");f=this.createElement("select",this.ur(22,160,1,2),"<option>Select categories</option>");d=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(d);c.appendChild(f);c.addEventListener("mousedown",function(a){a.preventDefault();});k=!1;c.addEventListener("click",function(){k?d.style.display="none":(d.innerHTML="",["all","none"].concat(Object.keys(a.Jd.Pt).sort()).forEach(function(b){d.appendChild(a.jbb(b,c));}),d.style.display="block");k=!k;});return b;};b.prototype.jbb=function(a,b){var c,f,d;c=this;f=this.createElement("label","display: block;margin:1px");f.htmlFor=a;d=this.createElement("input","margin:1px");d.type="checkbox";d.id=a;d.checked=this.Jd.Pt[a];d.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(c.Jd.Pt).forEach(function(b){c.Jd.Pt[b]="all"===a;}),b.click()):c.Jd.Pt[a]=!c.Jd.Pt[a];c.OB(!0);});f.appendChild(d);f.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return f;};b.prototype.Cbb=function(){var a,b;a=this;b=this.createElement("select",this.ur(22,NaN,1,2),'<option value="'+z.Di.ERROR+'">Error</option>'+('<option value="'+z.Di.X3+'">Warn</option>')+('<option value="'+z.Di.w2+'">Info</option>')+('<option value="'+z.Di.ppa+'">Trace</option>')+('<option value="'+z.Di.yb+'">Debug</option>'));b.value=this.Jd.Zca.toString();b.addEventListener("change",function(b){a.Jd.Zca=parseInt(b.target.value);a.OB(!0);},!1);return b;};b.prototype.wbb=function(){var b,c;function a(a){return b.Bfb.Eb(function(){var c;c=a.target.value;b.Jd.filter=c?new RegExp(c):void 0;b.OB(!0);});}b=this;c=this.createElement("input",this.ur(14,150,1,2));c.value=this.Jd.filter?this.Jd.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};b.prototype.rbb=function(){var a,b,c,f;a=this;b=this.createElement("div",this.ur(NaN,NaN));c=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.Jd.sV;c.addEventListener("change",function(b){a.Jd.sV=b.target.checked;a.OB(!0);},!1);f=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");f.setAttribute("for","details");f.innerHTML="View details";b.appendChild(c);b.appendChild(f);return b;};b.prototype.Xbb=function(){var a,b,c;a=this;b=this.createElement("button",this.ur());c=new h("0 0 24 24").nH().ZAb().end().oH("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",h.dA,"nonzero").end().end().ek();b.appendChild(c);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};b.prototype.lbb=function(){var a,b;a=this.createElement("button",this.ur());b=new h("0 0 24 24").nH().ZO(0,0,24,24,h.background).end().oH("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",h.dA).end().end().ek();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};b.prototype.Hbb=function(){var a;this.Ox=this.createElement("button",this.ur());this.Ox.style.display=this.Jd.OF?"none":"inline-block";a=new h("0 0 24 24").nH().ZO(0,0,24,24,h.background).end().oH("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",h.dA,"nonzero").end().end().ek();this.Ox.addEventListener("click",this.QDa,!1);this.Ox.appendChild(a);this.Ox.setAttribute("title","Shrink the log console");return this.Ox;};b.prototype.Fbb=function(){var a;this.Jx=this.createElement("button",this.ur());this.Jx.style.display=this.Jd.OF?"inline-block":"none";a=new h("0 0 24 24").nH().ZO(4,4,16,16,h.background).end().oH("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",h.dA,"nonzero").end().end().ek();this.Jx.addEventListener("click",this.QDa,!1);this.Jx.appendChild(a);this.Jx.setAttribute("title","Expand the log console");return this.Jx;};b.prototype.tbb=function(){var a,b;a=this.createElement("button",this.ur());b=new h("0 0 26 26").nH().ZO(0,0,24,24,h.background).end().oH("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",h.dA,"nonzero").end().end().ek();a.appendChild(b);a.addEventListener("click",this.ydb,!1);a.setAttribute("title","Download all log messages");return a;};b.prototype.mbb=function(){var a,b,c;a=this;b=this.createElement("button",this.ur());c=new h("0 0 24 24").nH().ZO(0,0,24,24,h.background).end().oH("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",h.dA,"nonzero").end().end().ek();b.appendChild(c);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};b.prototype.OB=function(a){(void 0===a?0:a)&&this.update(!1);};b.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.sO&&Promise.resolve(this.i8a()+this.eib().join("\r\n")).then(function(c){b.element&&b.xm&&(b.xm.value=c,b.element.style.cssText=b.Jd.OF?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.la.qh(y.xe,function(){b.xm.scrollTop=b.xm.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};b.prototype.eib=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level||c.level)<=a.Jd.Zca&&a.Jd.Pt[c.Nl]&&(c=c.q0(!a.Jd.sV,!a.Jd.sV),a.Jd.filter&&!a.Jd.filter.test(c)||b.push(c));});return b;};b.prototype.i8a=function(){var a;a=this.Uw();return"Version: 6.0023.327.011 \n"+((a?"Esn: "+a.bh:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.Ia.Ve.ca(y.Im)+", Start: "+this.app.TA.ca(y.Im)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};b.prototype.createElement=function(a,b,c,f){return this.Pc.createElement(a,b,c,f);};b.prototype.ur=function(a,b,c,f){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===c?0:c)+"px solid "+h.dA+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(f?"border-radius:"+f+"px;":"");};a=b;a.rBb="logDxDisplay";a=d.__decorate([p.N(),d.__param(0,p.l(u.dj)),d.__param(1,p.l(l.Bf)),d.__param(2,p.l(f.hf)),d.__param(3,p.l(g.Xg)),d.__param(4,p.l(G.KC)),d.__param(5,p.l(N.oma)),d.__param(6,p.l(q.xs)),d.__param(7,p.l(k.$C)),d.__param(8,p.l(m.oka)),d.__param(9,p.l(P.qs))],a);c.oTa=a;},function(d,c,a){var h,n,p,f,k;function b(a,b){a=p.oe.call(this,a,"LogDisplayConfigImpl")||this;a.ro=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(36);p=a(39);f=a(28);a=a(148);da(b,p.oe);pa.Object.defineProperties(b.prototype,{sO:{configurable:!0,enumerable:!0,get:function(){return!0;}},WF:{configurable:!0,enumerable:!0,get:function(){return this.ro.WF;}},MCa:{configurable:!0,enumerable:!0,get:function(){return-1;}}});k=b;d.__decorate([n.config(n.rd,"renderDomDiagnostics")],k.prototype,"sO",null);d.__decorate([n.config(n.cca,"logDisplayMaxEntryCount")],k.prototype,"WF",null);d.__decorate([n.config(n.cca,"logDisplayAutoshowLevel")],k.prototype,"MCa",null);k=d.__decorate([h.N(),d.__param(0,h.l(f.hj)),d.__param(1,h.l(a.RI))],k);c.nTa=k;},function(d,c,a){var h,n;function b(){this.Iga="";this.vLa=[[],[]];this.Y=[[],[]];}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);a(3);n=a(88);b.prototype.downloadRequest=function(a){var b;""===this.Iga&&(this.Iga=a.Ma);if(!a.ac){b=this.HCb(a);this.Y[a.M].push(b);this.vLa[a.M].forEach(function(a){a.IOb(b);});}};b.prototype.HCb=function(a){return{id:a.Aj(),Ma:a.Ma,M:a.M,Mi:a.Mi,startTime:a.av,endTime:a.MG,offset:a.om,SK:a.SK,RK:a.RK,duration:a.mr,R:a.R,state:n.oja.Swa,kq:!1,qSb:!1,FAa:!1,MQb:n.nja.waiting};};b.prototype.update=function(a){this.vLa[a.M].forEach(function(b){b.bWb(a);});};pa.Object.defineProperties(b.prototype,{Ma:{configurable:!0,enumerable:!0,get:function(){return this.Iga;}}});a=b;a=d.__decorate([h.N()],a);c.AMa=a;},function(d,c,a){var h,n;function b(a){this.sdb=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);a=a(331);b.prototype.Xb=function(){var a;a=this;this.cl||(this.cl=new Promise(function(b,c){var f;f=[];a.sdb.forEach(function(a){f.push(a.Xb());});Promise.all(f).then(function(){b();})["catch"](function(a){c(a);});}));return this.cl;};n=b;n=d.__decorate([h.N(),d.__param(0,h.eB(a.Fka))],n);c.kQa=n;},function(d,c){function a(a){this.is=a;this.unb="#881391";this.yBb="#C41A16";this.V7a=this.Xrb="#1C00CF";this.omb="#D79BDB";this.yDb=this.Urb="#808080";}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.ek=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.ox=function(a,c){return'<font color="'+((void 0===c?0:c)?this.omb:this.unb)+'">'+a+": </font>";};a.prototype.xya=function(a,c){c=c||"";a=""+('<li><a href="#">'+this.ox(a)+"Array["+c.length+"]</a>");a+="<ul>";for(var b=0;b<c.length;++b)a+=this.getValue(b.toString(),c[b]);a+=this.getValue("length",c.length,!0);return a+"</ul></li>";};a.prototype.Jza=function(a,c){var b,d,f;b=this;if(c instanceof CryptoKey)return this.zhb(a,c);d=Object.keys(c);f="";f=f+('<li><a href="#">'+("~~NONAME~~"!==a?this.ox(a):"")+"Object</a>");f=f+"<ul>";d.forEach(function(a){f=a.startsWith("$")?f+b.getValue(a,"REMOVED"):f+b.getValue(a,c[a]);});f+="</ul>";return f+="</li>";};a.prototype.zhb=function(a,c){a=""+('<li><a href="#">'+this.ox(a)+"CryptoKey</a>");a=a+"<ul>"+this.Jza("algorithm",c.algorithm);a+=this.Cya("extractable",c.extractable);a+=this.eAa("type",c.type);a+=this.xya("usages",c.usages);return a+"</ul></li>";};a.prototype.djb=function(a,c,d){return'<li><a href="#">'+this.ox(a,void 0===d?!1:d)+('<font color="'+this.Xrb+'">'+c.toString()+"</font>")+"</a></li>";};a.prototype.Cya=function(a,c,d){return'<li><a href="#">'+this.ox(a,void 0===d?!1:d)+('<font color="'+this.V7a+'">'+c.toString()+"</font>")+"</a></li>";};a.prototype.eAa=function(a,c,d){128<c.length&&(c=c.substr(0,128)+"...");return'<li><a href="#">'+this.ox(a,void 0===d?!1:d)+('<font color="'+this.yBb+'">"'+c+'"</font>')+"</a></li>";};a.prototype.cjb=function(a){return'<li><a href="#">'+this.ox(a)+('<font color="'+this.Urb+'">null</font>')+"</a></li>";};a.prototype.qkb=function(a,c){c="undefined"===typeof c?"":c.toString();255<c.length&&(c=c.substr(0,255)+"...");return'<li><a href="#">'+this.ox(a)+('<font color="'+this.yDb+'">'+c+"</font>")+"</a></li>";};a.prototype.getValue=function(a,c,d){d=void 0===d?!1:d;return null===c?""+this.cjb(a):this.is.At(c)?""+this.xya(a,c):this.is.Nz(c)?""+this.Jza(a,c):this.is.Um(c)?""+this.eAa(a,c,d):this.is.Zg(c)?""+this.djb(a,c,d):this.is.lK(c)?""+this.Cya(a,c,d):""+this.qkb(a,c);};c.vZa=a;},function(d,c,a){var h,n,g,f,k,m,t;function b(a,b,c){var f;f=k.LR.call(this,a,b,"idb")||this;f.Mj=c;f.LHa=function(a){f.Kcb(a.target.id).then(function(){return f.refresh();});};f.ssb=function(){f.y9a().then(function(){return f.refresh();});};f.Csb=function(){f.refresh();};f.usb=function(){f.A$a();};return f;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(22);g=a(23);f=a(178);k=a(330);m=a(108);t=a(201);da(b,k.LR);b.prototype.Xb=function(){var a;a=this;if(this.Co)return Promise.resolve();L.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==m.Bs.MRa&&a.toggle();});return this.Mj.create().then(function(b){a.storage=b;a.Co=!0;});};b.prototype.zj=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.Laa=function(a,b,c){var f;a=a.toString();f='<font color="#C41A16">"'+b+'"</font>';c=this.vua.ek({name:b,data:c});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+f+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};b.prototype.Waa=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.zj(),c=Object.keys(a),f=0;f<c.length;++f)b+=this.Laa(f,c[f],a[c[f]]);return b+"</table>";};b.prototype.Pya=function(){var a,b,c;a=this.Pc.createElement("button",k.VH,"Clear",{"class":this.prefix+"-display-btn"});b=this.Pc.createElement("button",k.VH,"Refresh",{"class":this.prefix+"-display-btn"});c=this.Pc.createElement("button",k.VH,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.ssb;b.onclick=this.Csb;c.onclick=this.usb;return[a,b,c];};b.prototype.vob=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.cBa=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.cBa;});};b.prototype.Kcb=function(a){return this.storage.remove(a);};b.prototype.y9a=function(){return this.storage.removeAll();};b.prototype.aHa=function(){var a;a=this;return this.vob().then(function(b){return a.Waa(b);});};b.prototype.A$a=function(){var a;a=JSON.stringify(this.cBa,null,4);t.y1.u8(a);};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(n.hf)),d.__param(1,h.l(g.Oe)),d.__param(2,h.l(f.z2))],a);c.RJb=a;},function(d,c,a){var h,n,g,f,k,m,t,u;function b(a){return function(){return new Promise(function(b,c){var f;f=a.hb.get(n.Hka);f.Xb().then(function(){b(f);})["catch"](function(a){c(a);});});};}Object.defineProperty(c,"__esModule",{value:!0});d=a(1);h=a(331);a(670);n=a(329);g=a(668);f=a(88);k=a(667);m=a(328);t=a(666);u=a(665);a(664);c.Ydb=new d.Bc(function(a){a(m.oma).to(t.nTa).Z();a(h.Fka).to(u.oTa);a(f.aQ).to(k.AMa).Z();a(n.Hka).to(g.kQa).Z();a(n.Gka).tP(b);});},function(d,c,a){var g,f,k,m;function b(){}function h(a){this.Etb=a;}function n(a){this.Gtb=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);g=a(1);f=a(202);k=a(45);m=a(2);n.prototype.Bq=function(a){a.map(this.Gtb.Bq);};a=n;a=d.__decorate([g.N(),d.__param(0,g.l(f.Wna))],a);c.EWa=a;h.prototype.Bq=function(a){this.Etb.Bq(a.data);};a=h;a=d.__decorate([g.N(),d.__param(0,g.l(f.Tna))],a);c.FWa=a;b.prototype.Bq=function(a){var b;a.ga&&"string"===typeof a.ga?a.href&&"string"===typeof a.href?a.profileId&&"string"===typeof a.profileId||(b="ProfileId value is corrupted."):b="Href value is corrupted.":b="Xid value is corrupted.";if(b)throw new k.Ic(m.K.Dv,m.G.wv,void 0,void 0,void 0,b,void 0,a.ga);};f=b;f=d.__decorate([g.N()],f);c.IWa=f;},function(d,c,a){var h,n,g;function b(a,b){this.aL=b;this.log=a.wb("PboEventSenderImpl");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(81);n=a(8);a=a(1);b.prototype.Uga=function(a,b){var c;c=this.aL(h.Em.start);return this.xxa(c,a,b);};b.prototype.nIa=function(a){var b;b=this;return this.aL(h.Em.stop).qf(this.log,a).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};b.prototype.JO=function(a,b,c){a=this.aL(a);return this.xxa(a,b,c);};b.prototype.xxa=function(a,b,c){var f;f=this;return a.Pp(this.log,b.wa.Cj,c).then(function(){})["catch"](function(a){f.log.error("PBO event failed",a);throw a;});};g=b;g=d.__decorate([a.N(),d.__param(0,a.l(n.Cb)),d.__param(1,a.l(h.S1))],g);c.uWa=g;},function(d,c,a){var h,n,g,f,k,m;function b(a,b){a=n.oe.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(39);g=a(28);f=a(36);k=a(3);a=a(31);da(b,n.oe);pa.Object.defineProperties(b.prototype,{CG:{configurable:!0,enumerable:!0,get:function(){return this.config.nr?"unsentplaydatatest":"unsentplaydata";}},Rga:{configurable:!0,enumerable:!0,get:function(){return!0;}},iIa:{configurable:!0,enumerable:!0,get:function(){return k.Ib(1E4);}},Tea:{configurable:!0,enumerable:!0,get:function(){return k.Ib(4E3);}},hCa:{configurable:!0,enumerable:!0,get:function(){return k.QY(1);}},iCa:{configurable:!0,enumerable:!0,get:function(){return k.rh(30);}}});m=b;d.__decorate([f.config(f.string,"playdataPersistKey")],m.prototype,"CG",null);d.__decorate([f.config(f.rd,"sendPersistedPlaydata")],m.prototype,"Rga",null);d.__decorate([f.config(f.jh,"playdataSendDelayMilliseconds")],m.prototype,"iIa",null);d.__decorate([f.config(f.jh,"playdataPersistIntervalMilliseconds")],m.prototype,"Tea",null);d.__decorate([f.config(f.jh,"heartbeatCooldown")],m.prototype,"hCa",null);d.__decorate([f.config(f.jh,"keepAliveWindow")],m.prototype,"iCa",null);m=d.__decorate([h.N(),d.__param(0,h.l(g.hj)),d.__param(1,h.l(a.vl))],m);c.cXa=m;},function(d,c,a){var g,f,k,m,t,u,y,l,q,z,G,M,N,P;function b(a,b,c,f,d,k,m,n){this.config=a;this.la=c;this.ks=f;this.iq=d;this.DZ=k;this.he=m;this.QA=Promise.resolve();this.closed=!1;this.log=b.wb("PlaydataServices");this.rB=[];this.active=new Set();this.Vxb=new h(a,n);}function h(a,b){this.config=a;this.Ia=b;}function n(a,b,c,f,d,k){this.log=a;this.la=b;this.kh=c;this.iq=f;this.ks=d;this.gub=k;this.Exa=this.Gp=!1;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);g=a(1);f=a(3);k=a(8);m=a(35);t=a(251);u=a(334);y=a(13);l=a(333);q=a(2);z=a(203);G=a(332);M=a(135);N=a(38);a=a(60);n.prototype.SY=function(a,b){var f;function c(){var a;a=f.iq.create(f.kh);f.ks.Iia(a)["catch"](function(a){var b;b=f.Exa?k.Di.X3:k.Di.ERROR;f.Exa=!0;f.log.write(b,"Unable to save playdata changes to IDB",a);});}f=this;this.log.trace("Adding initial playdata",b);this.ks.B5a(b).then(function(){f.log.trace("Scheduling monitor",{interval:a});f.Wo=f.la.wga(a,c);})["catch"](function(d){f.log.error("Unable to add playdata",{error:d,playdata:new z.p3().encode(b)});f.Wo=f.la.wga(a,c);});};n.prototype.stop=function(a){var b,c;b=this;if(this.Gp)return Promise.resolve();this.Wo&&this.Wo.cancel();c=this.iq.create(this.kh);return this.ks.Iia(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.kh.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve();b.log.trace("Sending final playdata to the server",c);return b.gub.nIa(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",c),b.ks.hHa(c);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.u);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};n.prototype.cancel=function(){this.Gp=!0;this.Wo&&this.Wo.cancel();this.ks.Iia(this.iq.create(this.kh));};pa.Object.defineProperties(h.prototype,{K8a:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Ia.Ve;return!this.QA||0<=a.Ac(this.QA).Pl(this.config.iCa)?(this.QA=a,!0):!1;}}});c.bMb=h;b.prototype.Xb=function(){var a;a=this;this.cl||(this.log.trace("Starting playdata services"),this.cl=this.ks.dwb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.cl;};b.prototype.close=function(){this.closed=!0;this.rB.forEach(function(a){a.SY.cancel();});};b.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.CG&&b.Rga?this.Tyb(a):Promise.resolve();};b.prototype.Iha=function(a){this.closed||this.XAb(a);};b.prototype.tJa=function(a){var b,c,f;b=this;if(this.closed)return Promise.resolve();c=this.iq.create(a);this.active["delete"](c.ga);a=Q(M.Su(function(a){return a.key===c.ga;},this.rB));f=a.next().value;this.rB=a.next().value;return Promise.all(f.map(function(a){a.uJa=!0;return a.SY.stop(b.config.Rga);})).then(function(){});};b.prototype.lZ=function(a,b){var c,f;c=this;f=a.fa;this.mJa(f,b);this.Uga(f,a.gL)["catch"](function(a){c.log.error("Start command failed",{playdata:a.FG,error:a.oA});});this.UAb(a);};b.prototype.XAb=function(a){var b;b=this;a.addEventListener(y.T.Ho,function(c){var f;if(void 0!==c.KZ){f=a.Wl(c.KZ);b.tJa(f);c.JA||new Promise(function(b){var c;if(a.kq.value)b();else{c=function(f){f.newValue&&(b(),a.kq.removeListener(c));};a.kq.addListener(c);}}).then(function(){return b.lZ(a,"online");});}});a.addEventListener(y.T.An,function(){b.lZ(a,"online");});a.background||a.addEventListener(y.T.$M,function(c){c=a.Wl(c.u);b.mJa(c,"online");});a.addEventListener(y.T.pf,function(){b.kBb();});a.addEventListener(y.T.lLa,function(){b.Zyb(a.fa)["catch"](function(b){(b=b.bfa)&&a.Pd(b);});});a.tc.addListener(function(){a.Xa.o9?b.log.trace("stickiness is disabled for timedtext"):b.mIa(a.fa);});a.ad.addListener(function(){a.Xa.o9?b.log.trace("stickiness is disabled for audio"):b.mIa(a.fa)["catch"](function(b){(b=b.bfa)&&a.Pd(b);});});};b.prototype.mJa=function(a,b){var c,f;a.$c("pdb");if(this.config.Tea.Smb()){c=this.iq.create(a);f=c.ga;this.rB.some(function(a){return a.key===f;})?this.log.trace("Already collecting "+b+" playdata, ignoring",c):(this.log.info("Starting to collect "+b+" playdata",c),this.active.add(f),this.rB.push({key:f,SY:this.Sib(a,c),TB:!1,uJa:!1}));}};b.prototype.Tyb=function(a){var b,c,f,d;b=this;c=this.ks.FG.filter(function(a){return!b.active.has(a.ga);});f=void 0;d=void 0;a&&Infinity===a?f=c:(c=Q(M.Su(function(b){return b.u===a;},c)),f=c.next().value,d=c.next().value);d&&0<d.length&&this.la.qh(this.config.iIa,function(){b.lIa(d);});return f&&0!==f.length?this.lIa(f):Promise.resolve();};b.prototype.lIa=function(a){var c;function b(a){return c.DZ.nIa(a).then(function(){return c.cxb(a);});}c=this;return a.reduce(function(a,c){return a.then(function(){return b(c);});},Promise.resolve());};b.prototype.cxb=function(a){var b;b=this;return this.ks.hHa(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};b.prototype.Sib=function(a,b){a=new n(this.log,this.la,a,this.iq,this.ks,this.DZ);a.SY(this.config.Tea,b);return a;};b.prototype.Uga=function(a,b){var c,f;c=this;f=this.iq.xbb(a,b);return this.DZ.Uga(a,f).then(function(){c.rB.filter(function(b){return b.key===a.ga.toString();}).forEach(function(a){a.TB=!0;});})["catch"](function(a){throw{FG:f,oA:a};});};b.prototype.Zyb=function(a){return this.Vxb.K8a?this.JO(G.m3.SM,a,q.K.E2):Promise.resolve();};b.prototype.mIa=function(a){return this.JO(G.m3.splice,a,q.K.Noa);};b.prototype.JO=function(a,b,c){var d;function f(a){var b;b=d.rB.filter(function(b){return b.key===a.ga.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.uJa||!b.TB;},!1);}d=this;return f(b)?this.QA:this.QA=this.QA["catch"](function(){return Promise.resolve();}).then(function(){var c;if(f(b))return Promise.resolve();c=d.iq.create(b);return d.DZ.JO(a,b,c);}).then(function(a){return a;})["catch"](function(f){var k;d.log.error("Failed to send event",{eventKey:a,xid:b.ga,error:f});f.T9?k=d.he(c,f):f.Mr===q.P2.U3&&(k=d.he(c,f));throw{oA:f,bfa:k};});};b.prototype.UAb=function(a){this.vAb(a)&&this.Fha(this.Bib(a.fa),a);};b.prototype.Fha=function(a,b){var c;c=this;this.W7();this.xca=this.la.qh(a,function(){c.W7();c.JO(G.m3.SM,b.fa,q.K.E2).then(function(){c.Fha(a,b);})["catch"](function(f){var d;d=f.oA;(f=f.bfa)&&b.Pd(f);d.Mr===q.P2.U3&&c.Fha(a,b);});});};b.prototype.kBb=function(){this.W7();};b.prototype.vAb=function(a){return a.state.value==y.mb.od;};b.prototype.W7=function(){this.xca&&(this.xca.cancel(),this.xca=void 0);};b.prototype.Bib=function(a){return a.Xa.rba?f.Ib(a.Xa.rba):this.config.hCa;};P=b;P=d.__decorate([g.N(),d.__param(0,g.l(l.noa)),d.__param(1,g.l(k.Cb)),d.__param(2,g.l(m.Xg)),d.__param(3,g.l(u.Lna)),d.__param(4,g.l(t.q3)),d.__param(5,g.l(G.Ona)),d.__param(6,g.l(a.yl)),d.__param(7,g.l(N.dj))],P);c.HWa=P;},function(d,c,a){var g,f,k,m,t,u,y,l,q,z;function b(){}function h(){}function n(a,c,f,d,h){var m;m=this;this.is=a;this.Mj=c;this.config=f;this.Uw=d;this.Ftb=h;this.hs=function(){return new b().encode({version:m.version,data:m.FG});};this.hEb=function(a){a=m.gEb(a);m.Ftb.Bq(a);return a;};this.gEb=function(a){if(m.is.Il(a))return m.kEb(a);if(void 0!=a.version&&m.is.Zg(a.version)&&1==a.version)return m.lEb(a);if(void 0!=a.version&&m.is.Zg(a.version)&&2==a.version)return new b().decode(a);if(a.version&&m.is.Zg(a.version))throw new t.Ic(k.K.Dv,k.G.Gja,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new t.Ic(k.K.Dv,k.G.wv,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.bp=new u.Vla(2,this.config().TFa,""!==this.config().TFa&&0<this.config().qub,this.Mj,this.hs);}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);g=a(1);f=a(17);k=a(2);m=a(23);t=a(45);u=a(506);y=a(71);l=a(74);q=a(203);a=a(202);n.prototype.dwb=function(){return this.bp.load(this.hEb)["catch"](function(a){throw new t.Ic(k.K.Dv,a.da||a.Xc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};n.prototype.B5a=function(a){return this.bp.add(a);};n.prototype.hHa=function(a){return this.bp.remove(a,function(a,b){return a.ga===b.ga;});};n.prototype.Iia=function(a){return this.bp.update(a,function(a,b){return a.ga===b.ga;});};n.prototype.toString=function(){return JSON.stringify(this.hs(),null,"  ");};n.prototype.ZKa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.Uw().bh:"";};n.prototype.Kia=function(a){return a.map(function(a){return{cd:a.downloadableId,duration:a.duration};});};n.prototype.$Ka=function(a){var b;return a?{total:a.playTimes.total,cC:null!==(b=a.playTimes.totalContentTime)&&void 0!==b?b:a.playTimes.total,audio:this.Kia(a.playTimes.audio||[]),video:this.Kia(a.playTimes.video||[]),text:this.Kia(a.playTimes.timedtext||[])}:{total:0,cC:0,audio:[],video:[],text:[]};};n.prototype.kEb=function(a){var b,c,f;b=this;a=JSON.parse(a);c={type:"online",href:this.ZKa(a.playbackContextId),ga:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,$K:a.timestamp,NO:a.playback?1E3*a.playback.startEpoch:-1,dG:a.mediaId,WN:this.$Ka(a.playback),bb:"",Dn:{},profileId:a.accountKey};f=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.Mj.create().then(function(a){a.save(b.config().FL,f,!1);});if(""===c.href||""===c.ga)throw new t.Ic(k.K.Dv,k.G.wv);return{version:2,data:[c]};};n.prototype.lEb=function(a){var b;b=this;if(!a.playdata||!this.is.At(a.playdata))throw new t.Ic(k.K.Dv,k.G.wv,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,href:b.ZKa(a.playbackContextId),ga:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,$K:a.timestamp,NO:a.playback?1E3*a.playback.startEpoch:-1,dG:a.mediaId,WN:b.$Ka(a.playback),bb:"",Dn:{},profileId:a.profileId};});}(a.playdata)};};pa.Object.defineProperties(n.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.bp.version;}},FG:{configurable:!0,enumerable:!0,get:function(){return this.bp.er;}}});z=n;z=d.__decorate([g.N(),d.__param(0,g.l(m.Oe)),d.__param(1,g.l(y.qs)),d.__param(2,g.l(f.md)),d.__param(3,g.l(l.xs)),d.__param(4,g.l(a.Una))],z);c.pWa=z;h.prototype.encode=function(a){var b;b=new q.p3();return a.map(b.encode);};h.prototype.decode=function(a){var b;b=new q.p3();return a.map(b.decode);};b.prototype.encode=function(a){return{version:a.version,data:new h().encode(a.data)};};b.prototype.decode=function(a){return{version:a.version,data:new h().decode(a.data)};};},function(d,c,a){var h,n,g,f,k,m,t,u,y,l,q,z;function b(a){return function(){return a.hb.get(h.Vna).Xb();};}Object.defineProperty(c,"__esModule",{value:!0});d=a(1);h=a(158);n=a(251);g=a(203);f=a(334);k=a(676);m=a(675);t=a(333);u=a(674);y=a(332);l=a(673);q=a(202);z=a(672);c.FG=new d.Bc(function(a){a(t.noa).to(u.cXa).Z();a(n.q3).to(g.GWa).Z();a(f.Lna).to(k.pWa).Z();a(h.Vna).to(m.HWa).Z();a(h.sR).tP(b);a(y.Ona).to(l.uWa).Z().SP();a(q.Wna).to(z.IWa).Z();a(q.Tna).to(z.EWa).Z();a(q.Una).to(z.FWa).Z();});},function(d,c,a){var h,n,g,f,k,m;function b(a,b,c,f,d){this.Y4a=a;this.Qwb=b;this.vHa=f;this.EHa=d;this.ka=c.wb("LicenseProviderImpl");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(8);g=a(338);a(337);f=a(336);k=a(335);a=a(204);b.prototype.Kz=function(a){var b,c;b=this;c=this.vHa.VCb(a);return this.Y4a.Pp(this.ka,a.Cj,c).then(function(a){a.map(function(a){return a.Unb;});return b.EHa.pKa(a);})["catch"](function(a){b.ka.error("PBO license failed",a);return Promise.reject(a);});};b.prototype.release=function(a){var b;b=this;a=this.vHa.YCb(a);return this.Qwb.qf(this.ka,a).then(function(a){return b.EHa.ZCb(a);})["catch"](function(a){b.ka.error("PBO release license failed",a);return Promise.reject(a);});};m=b;m=d.__decorate([h.N(),d.__param(0,h.l(g.Jna)),d.__param(1,h.l(f.Xna)),d.__param(2,h.l(n.Cb)),d.__param(3,h.l(k.Pna)),d.__param(4,h.l(a.n3))],m);c.iTa=m;},function(d,c,a){var h,n,g,f,k,m,t,u;function b(a,b,c,f){this.Pc=a;this.Ft=b;this.JEb=c;this.lY=f;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(22);g=a(41);f=a(104);k=a(146);m=a(92);t=a(479);a=a(160);b.prototype.oi=function(a){var b;b=this;return this.Pc.Lw(a.gi[0].data[0],[8,4])?Promise.resolve({oc:[{id:"ddd",Dx:"cert",VF:void 0}],am:[{sessionId:"ddd",data:new Uint8Array(this.Ft.decode(t.a_a))}]}):this.Pc.Lw(a.gi[0].data[0],this.JEb.decode("certificate"))?Promise.resolve({oc:[{id:"ddd",Dx:"cert",VF:void 0}],am:[{sessionId:"ddd",data:new Uint8Array(this.Ft.decode(t.ala))}]}):this.lY.Kz(this.tgb(a)).then(function(a){return b.ugb(a);});};b.prototype.release=function(a){var b;b=this;return this.lY.release(this.vgb(a)).then(function(c){return b.wgb(c,a);});};b.prototype.tgb=function(a){var b,c;b=this;c=a.gi.map(function(a){return a.data.map(function(c){return{sessionId:a.sessionId,dataBase64:b.Ft.encode(c)};});});return{ga:a.ga,eg:a.eg,yV:a.yV,pi:m.yCa(a.pi),kr:k.Jn[a.kr],gi:c.reduce(function(a,b){return a.concat(b);},[]),mN:a.mN,Cj:a.Cj};};b.prototype.vgb=function(a){var b;b={};a.gi&&a.oc[0].id&&(b[a.oc[0].id]=this.Ft.encode(a.gi[0]));return a&&a.gi?{ga:a.ga,oc:a.oc,yyb:b}:{ga:a.ga,oc:a.oc};};b.prototype.ugb=function(a){return{oc:a.oc,am:a.am};};b.prototype.wgb=function(a,b){return a&&a.response&&a.response.data&&b.oc[0].id&&(a=a.response.data[b.oc[0].id])?{response:this.Ft.decode(a)}:{};};u=b;u=d.__decorate([h.N(),d.__param(0,h.l(n.hf)),d.__param(1,h.l(g.Rj)),d.__param(2,h.l(f.gz)),d.__param(3,h.l(a.wI))],u);c.eQa=u;},function(d,c,a){var b,h,n,g;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(481);h=a(679);n=a(160);g=a(678);c.Evb=new d.Bc(function(a){a(b.Cka).to(h.eQa).Z();a(n.wI).to(g.iTa).Z();});},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.fTb=function(a){return a;};c.hpb=function(a){return a;};c.gTb=function(a){return Object.assign({},a);};},function(d,c,a){var h,n,g,f,k,m,t,u,y;function b(a,b,c){this.Ia=a;this.vFb=b;this.performance=c;n.xn(this,"performance");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);n=a(55);g=a(681);f=a(46);k=a(29);m=a(38);t=a(1);u=a(342);y=a(3);b.prototype.get=function(a,b,c){var d;d=this;return new Promise(function(k,m){var n,g,p;try{n=d.vFb.create();"withCredentials"in n||m(Error("Missing CORS support"));n.open("GET",a,!0);b&&(n.withCredentials=!0);c&&(n.timeout=c.ca(y.ha));g=d.Ia.Ve;p=void 0;n.onreadystatechange=function(){var b;switch(n.readyState){case XMLHttpRequest.HEADERS_RECEIVED:p=d.Ia.Ve.Ac(g);break;case XMLHttpRequest.DONE:b=d.Ia.Ve.Ac(g),b={body:n.responseText,status:n.status,headers:h.mtb(n.getAllResponseHeaders()),fd:d.Pib(a,f.ba(n.responseText.length),b,p)};k(b);}};n.send();}catch(S){m(S);}});};b.mtb=function(a){var b,f,d;b={};a=a.split("\r\n");for(var c=0;c<a.length;c++){f=a[c];d=f.indexOf(": ");0<d&&(b[f.substring(0,d).toLowerCase()]=f.substring(d+2));}return b;};b.prototype.Pib=function(a,b,c,d){b={size:b,duration:c,gia:d};if(!this.performance||!this.performance.getEntriesByName)return b;c=this.performance.getEntriesByName(a);if(0==c.length&&(c=this.performance.getEntriesByName(a+"/"),0==c.length))return b;a=c[c.length-1];b=g.hpb(b);a.tcb&&(b.size=f.ba(a.tcb));0<a.duration?b.duration=y.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=y.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.Iwa=y.timestamp(a.domainLookupEnd-a.domainLookupStart),b.$ha=y.timestamp(a.connectEnd-a.connectStart),b.gia=y.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.kia=y.timestamp(0):void 0!==a.secureConnectionStart&&(c=a.connectEnd-a.secureConnectionStart,b.kia=y.timestamp(c),b.$ha=y.timestamp(a.connectEnd-a.connectStart-c)));return b;};a=h=b;a=h=d.__decorate([t.N(),d.__param(0,t.l(m.dj)),d.__param(1,t.l(u.Tpa)),d.__param(2,t.l(k.s3)),d.__param(2,t.optional())],a);c.KRa=a;},function(d,c,a){var h,n,g,f,k;function b(a,b){this.is=a;this.json=b;n.xn(this,"json");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(55);g=a(29);f=a(3);a=a(23);b.prototype.parse=function(a){var c;a=this.json.parse(a);if(!this.is.r6(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.mK(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.mK(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays&&!this.is.At(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.mK(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.At(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Il(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.Nz(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){c=a.urls[b];if(!this.is.r6(c))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.Um(c.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.Um(c.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{Kvb:a.pulses,vGa:a.pulse_delays?a.pulse_delays.map(f.Ib):[],Jvb:f.Ib(a.pulse_timeout),gCa:a.next?f.Ib(a.next):void 0,me:a.urls,ada:a.logblob,context:a.ctx};};k=b;k=d.__decorate([h.N(),d.__param(0,h.l(a.Oe)),d.__param(1,h.l(g.Ny))],k);c.eRa=k;},function(d,c,a){var h,n,g,f,k,m;function b(a,b){this.ri=a;this.$A=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);n=a(1);g=a(46);f=a(3);k=a(43);a=a(62);b.prototype.uO=function(a){a=this.$A.bn("ftlProbeError","info",h.pFb({url:a.url,sc:a.status,pf_err:a.Vea},a));this.ri.Gc(a);};b.pFb=function(a,b){b.fd&&(b=b.fd,h.Xq(a,"d",b.duration),h.Xq(a,"dns",b.Iwa),h.Xq(a,"tcp",b.$ha),h.Xq(a,"tls",b.kia),h.Xq(a,"ttfb",b.gia),a.sz=b.size.ca(g.ss));return a;};b.Xq=function(a,b,c){c&&(a[b]=c.ca(f.ha));return a;};m=h=b;m=h=d.__decorate([n.N(),d.__param(0,n.l(k.Kk)),d.__param(1,n.l(a.qp))],m);c.NXa=m;},function(d,c,a){var h,n,g,f,k,m;function b(a,b){this.ri=a;this.$A=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);n=a(1);g=a(46);f=a(3);k=a(43);a=a(62);b.prototype.uO=function(a){a=this.$A.bn(a.ada,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return h.qFb({d:a.fd.duration.ca(f.ha),sc:a.status,sz:a.fd.size.ca(g.ss),via:a.UEb,cip:a.r9a,err:a.oA},a);})};})});this.ri.Gc(a);};b.qFb=function(a,b){h.Xq(a,"dns",b.fd.Iwa);h.Xq(a,"tcp",b.fd.$ha);h.Xq(a,"tls",b.fd.kia);h.Xq(a,"ttfb",b.fd.gia);return a;};b.Xq=function(a,b,c){c&&(a[b]=c.ca(f.ha));return a;};m=h=b;m=h=d.__decorate([n.N(),d.__param(0,n.l(k.Kk)),d.__param(1,n.l(a.qp))],m);c.OXa=m;},function(d,c,a){var h,n,g,f,k,m,t,u;function b(a,b,c,f,d,k,h){this.config=a;this.$Aa=b;this.la=c;this.dg=f;this.txb=d;this.Xfa=k;this.snb=0;this.ka=h.wb("FTL");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);n=a(1);g=a(3);f=a(35);k=a(8);m=a(340);t=a(339);a=a(184);b.prototype.start=function(){this.config.enabled&&!this.Wo&&(this.Wo=this.la.qh(this.config.kJa,this.XG.bind(this)));};b.prototype.stop=function(){this.Wo&&(this.Wo.cancel(),this.Wo=void 0);};b.prototype.XG=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.snb++;this.$jb(b).then(function(b){return Promise.all(b.me.map(function(c){return a.Xkb(b,c.url,c.name);})).then(function(c){0<c.length&&a.txb.uO({data:c,context:b.context,ada:b.ada});}).then(function(){return b;});}).then(function(b){a.Wo&&(b.gCa?a.Wo=a.la.qh(b.gCa,a.XG.bind(a)):a.stop());})["catch"](function(b){return a.ka.error("FTL run failed",b);});};b.prototype.$jb=function(a){var b;b=this;return this.$Aa.get(a,!1).then(function(c){var f;if(200!=c.status||null==c.body)return b.Xfa.uO({url:a,status:c.status,Vea:"FTL API request failed",fd:c.fd}),Promise.reject(Error("FTL API request failed: "+c.status));f=b.dg.parse(c.body);return f instanceof Error?(b.Xfa.uO({url:a,status:4,Vea:"FTL Probe API JSON parsing error",fd:c.fd}),Promise.reject(f)):Promise.resolve(f);})["catch"](function(c){c instanceof Error&&(b.Xfa.uO({url:a,status:0,Vea:c.message}),b.ka.error("FTL API call failed",c.message));return Promise.reject(c);});};b.prototype.Xkb=function(a,b,c){var f;f=this;return new Promise(function(d,k){var l;for(var m,n,p,t=[],u={},y=0;y<a.Kvb;u={Rd:u.Rd,Afa:u.Afa},++y){u.Rd=y<a.vGa.length?a.vGa[y]:g.xe;u.Afa=""+b+(-1===b.indexOf("?")?"?":"&")+"pulse="+(y+1);l=function(b){return function(){return new Promise(function(c,d){f.la.qh(b.Rd,function(){h.nvb(f.$Aa,b.Afa,a.Jvb).then(function(a){function b(a,b,c){a||(a=c.headers[b]);return a;}m=b(m,"via",a);n=b(n,"x-ftl-probe-data",a);p=b(p,"x-ftl-error",a);c({status:a.status,fd:a.fd,UEb:m||"",r9a:n||"",oA:p||""});})["catch"](function(a){d(a);});});});};}(u);t.push(0<y?t[y-1].then(l):l());}Promise.all(t).then(function(a){d({url:b,name:c,data:a});})["catch"](function(a){k(a);});});};b.nvb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};u=h=b;u=h=d.__decorate([n.N(),d.__param(0,n.l(a.ila)),d.__param(1,n.l(t.vla)),d.__param(2,n.l(f.Xg)),d.__param(3,n.l(m.hla)),d.__param(4,n.l(a.Joa)),d.__param(5,n.l(a.Ioa)),d.__param(6,n.l(k.Cb))],u);c.gRa=u;},function(d,c,a){var b,h,n,g,f,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(686);h=a(685);n=a(684);g=a(683);f=a(682);k=a(340);m=a(339);t=a(184);c.zgb=new d.Bc(function(a){a(t.jla).to(b.gRa).Z();a(t.Joa).to(h.OXa).Z();a(t.Ioa).to(n.NXa).Z();a(k.hla).to(g.eRa).Z();a(m.vla).to(f.KRa).Z();});},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a){this.Zq=a;}a.prototype.GN=function(){var a,c,d;a=this.Zq.yib();c=this.Zq.zib();d=this.Zq.Aib();if("number"===typeof a&&"number"===typeof c&&"number"===typeof d)return(d-a)/c;};return a;}();c.aVa=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a,c){this.Zq=a;this.GN=c;}a.prototype.bha=function(a){return this.Zq.bha(a);};a.prototype.Xl=function(){return this.Zq.Xl();};a.prototype.$ib=function(){return this.GN.GN();};return a;}();c.$Ua=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a){this.GCa=a;}a.prototype.bha=function(a){try{this.GCa.setItem("gtp",JSON.stringify(a));}catch(h){return!1;}return!0;};a.prototype.iza=function(){var a;try{a=this.GCa.getItem("gtp");if(a)return JSON.parse(a);}catch(h){}};a.prototype.Xl=function(){var a;a=this.iza();if(a&&a.tp)return a.tp.a;};a.prototype.yib=function(){var a;a=this.raa();if(a)return a.p25;};a.prototype.zib=function(){var a;a=this.raa();if(a)return a.p50;};a.prototype.Aib=function(){var a;a=this.raa();if(a)return a.p75;};a.prototype.raa=function(){var a;a=this.iza();if(a&&(a=a.iqr))return a;};return a;}();c.kja=d;},function(d,c,a){var b,h,n;Object.defineProperty(c,"__esModule",{value:!0});b=a(690);h=a(689);n=a(688);c["default"]=function(a){var c;a=new b.kja(a);c=new n.aVa(a);return new h.$Ua(a,c);};},function(d,c,a){var h,n,g,f;function b(a,b,c){this.config=a;this.Eob=b;this.sb=c;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(504);n=a(1);g=a(179);a=a(341);b.prototype.z8=function(){if(this.config.fLa)return this.sb(this.Eob());};f=b;f=d.__decorate([n.N(),d.__param(0,n.l(h.cna)),d.__param(1,n.l(g.bna)),d.__param(2,n.l(a.dna))],f);c.ZUa=f;},function(d,c,a){var h;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);a=a(1);b.prototype.create=function(){return new XMLHttpRequest();};h=b;h=d.__decorate([a.N()],h);c.f_a=h;},function(d,c,a){var b,h,n,g,f,k,m;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(693);h=a(98);n=a(342);g=a(692);f=a(205);k=a(341);m=a(691);c.nrb=new d.Bc(function(a){a(n.Tpa).to(b.f_a).Z();a(h.Py).uy(function(){return L._cad_global.http;});a(f.nR).to(g.ZUa).Z();a(k.dna).Ph(m["default"]);});},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Fpb=function(a,b){var f,k;if(0!==a.length){if(1===a.length)return a[0];for(var c=a[0],d=b(c),g=1;g<a.length;g++){f=a[g];k=b(f);k>d&&(c=f,d=k);}return c;}};},function(d,c,a){var h;function b(a,b,c){a=h.K1.call(this,a,b)||this;a.Kw=c;return a;}Object.defineProperty(c,"__esModule",{value:!0});h=a(346);da(b,h.K1);c.iOa=b;},function(d,c,a){var h,n,g,f,k,m,t,u,y,l,q,z,G,M,N,r,W,Y,S,A,X;function b(a,b,c,f,d,k,h,m,n,g,p,t,u,y,l,q,E,z,G){this.WJa=a;this.CU=b;this.ri=c;this.Lda=f;this.f$=d;this.Fj=k;this.Yc=h;this.xV=m;this.Ye=n;this.config=g;this.Hc=p;this.Ia=t;this.ta=u;this.platform=y;this.km=l;this.cN=q;this.Gj=E;this.Rp=z;this.IY=G;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(250);n=a(454);g=a(43);f=a(22);k=a(446);m=a(246);t=a(99);u=a(1);y=a(347);l=a(345);q=a(98);z=a(17);G=a(38);M=a(25);N=a(47);r=a(62);W=a(109);Y=a(128);S=a(29);A=a(31);a=a(344);b.prototype.create=function(a,b,c){return new y.vTa(a,b,c,this.WJa,this.CU,this.ri,this.Lda,this.f$,this.Fj,this.Yc,this.xV,this.Ye,this.config,this.Hc,this.Ia,this.ta,this.platform,this.km,this.cN,this.Gj,this.Rp,this.IY);};X=b;X=d.__decorate([u.N(),d.__param(0,u.l(h.R3)),d.__param(1,u.l(n.Qja)),d.__param(2,u.l(g.Kk)),d.__param(3,u.l(k.Lma)),d.__param(4,u.l(m.Zka)),d.__param(5,u.l(t.Yy)),d.__param(6,u.l(f.hf)),d.__param(7,u.l(l.zka)),d.__param(8,u.l(q.Py)),d.__param(9,u.l(z.md)),d.__param(10,u.l(W.cD)),d.__param(11,u.l(G.dj)),d.__param(12,u.l(M.Bf)),d.__param(13,u.l(N.Mk)),d.__param(14,u.l(S.SI)),d.__param(15,u.l(r.qp)),d.__param(16,u.l(Y.WI)),d.__param(17,u.l(A.vl)),d.__param(18,u.l(a.Vma))],X);c.uTa=X;},function(d,c,a){var h,n,g;function b(a){this.ii=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);n=a(46);a=a(74);b.prototype.Mob=function(){var a;a=this.ii()?this.ii().bh.length:40;return n.ba(a+33);};g=b;g=d.__decorate([h.N(),d.__param(0,h.l(a.xs))],g);c.sTa=g;},function(d,c,a){var n,g,f,k,m,t,u,y,l;function b(a,b,c,f,d,h,m,g,n,p){this.platform=b;this.L8=c;this.type=f;this.severity=d;this.timestamp=h;this.data=m;this.ta=g;this.data.type=f;this.data.sev=d;this.data.devmod=this.platform.j9;this.data.clver=this.platform.version;a&&a.cr&&(a.cr.os&&(this.data.osplatform=a.cr.os.name,this.data.osver=a.cr.os.version),this.data.browsername=a.cr.name,this.data.browserver=a.cr.version);a.pca&&(this.data.tester=!0);a.tx&&!this.data.groupname&&(this.data.groupname=a.tx);a.AE&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.AE:a.AE);a.fC&&(this.data.uigroupname=a.fC);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.ta.Fib();this.data.uniqueLogId=n.tya();this.data.appId=this.ta.id;p&&(a=this.ta.gc(),this.data.soffms=a.Ac(p.zk).ca(k.ha),this.data.mid=this.data.mid||p.u,this.data.lvpi=p.$ca,this.data.uiLabel=p.le,f="startup"===f?"playbackxid":"xid",this.data[f]="xid"===f&&this.data.xid||p.ga,p.JB&&(f=p.JB,(p=p.JB.split("."))&&1<p.length&&"S"!==p[0][0]&&(f="SABTest"+p[0]+".Cell"+p[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+f:f));}function h(a,b,c,f,d,k){this.Ia=a;this.L8=b;this.config=c;this.ta=f;this.LEb=d;this.platform=k;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);n=a(46);g=a(1);f=a(38);k=a(3);m=a(471);t=a(31);u=a(25);y=a(350);a=a(47);h.prototype.bn=function(a,c,f,d){return new b(this.config,this.platform,this.L8,a,c,this.Ia.Ve,f,this.ta,this.LEb,d);};l=h;l=d.__decorate([g.N(),d.__param(0,g.l(f.dj)),d.__param(1,g.l(m.bka)),d.__param(2,g.l(t.vl)),d.__param(3,g.l(u.Bf)),d.__param(4,g.l(y.Gpa)),d.__param(5,g.l(a.Mk))],l);c.rTa=l;pa.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.zua||(this.zua=n.ba(this.L8.encode(this.data).length));return this.zua;}}});},function(d,c,a){var h,g,p,f,k,m,t;function b(a,b){a=m.oe.call(this,a,"PboConfigImpl")||this;a.config=b;a.Hpb=h.ba(5E5);a.Vyb=g.QY(1);a.qDa=h.ba(1E6);return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(46);g=a(3);p=a(1);f=a(17);k=a(36);m=a(39);a=a(28);da(b,m.oe);pa.Object.defineProperties(b.prototype,{B6:{configurable:!0,enumerable:!0,get:function(){return this.config().B6;}},VIa:{configurable:!0,enumerable:!0,get:function(){return[];}},UIa:{configurable:!0,enumerable:!0,get:function(){return["MslTransport","Pbo","LogblobSender"];}}});t=b;d.__decorate([k.config(k.object(),"shedLogblobTypes")],t.prototype,"VIa",null);d.__decorate([k.config(k.bk("string"),"shedDebugTypes")],t.prototype,"UIa",null);t=d.__decorate([p.N(),d.__param(0,p.l(a.hj)),d.__param(1,p.l(f.md))],t);c.lTa=t;},function(d,c,a){var h,g,p;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(206);p=a(46);b.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.Mob());}).reduce(function(a,b){return a.add(b);},p.ba(0));};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(g.rma))],a);c.tTa=a;},function(d,c,a){var g,p,f,k,m,t,u,y,l,q,z;function b(a,b,c,f,d,k,h,m){this.ta=a;this.platform=c;this.ii=f;this.json=d;this.Pc=k;this.Fj=h;this.Tob=m;p.xn(this,"json");this.ka=b.wb("LogblobSender");}function h(){this.entries=[];}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);g=a(1);p=a(55);f=a(29);k=a(3);m=a(22);t=a(25);u=a(47);y=a(74);l=a(8);q=a(351);a=a(99);b.prototype.send=function(a){var b;b=this;return new Promise(function(c,f){var d;try{d=a.reduce(function(a,c){a.entries.push(b.Dbb(c));return a;},new h());c(b.Egb(d));}catch(Y){b.ka.error(Y.message);f(Y);}}).then(function(a){return b.Tga(a);});};b.prototype.Dbb=function(a){return this.Pc.aB(this.Pc.aB({},a.data),{esn:this.ii().bh,sev:a.severity,type:a.type,lver:this.platform.Sob,jssid:this.ta.id,devmod:this.platform.j9,jsoffms:a.timestamp.Ac(this.ta.TA).ca(k.ha),clienttime:a.timestamp.ca(k.ha),client_utc:a.timestamp.ca(k.Im),uiver:this.Fj.zP});};b.prototype.Egb=function(a){var b;b=this;try{return this.json.stringify(a);}catch(W){for(var c={},f=0;f<a.entries.length;c={cP:c.cP,se:c.se},++f){c.se=Object.assign({},a.entries[f]);try{this.json.stringify(c.se);}catch(Y){c.cP=void 0;this.Pc.$w(c.se,function(a){return function(c,f){try{b.json.stringify(f);}catch(U){a.cP=U.message;a.se[c]=a.cP;}};}(c));c.se.stringifyException=c.cP;c.se.originalType=c.se.type;c.se.type="debug";c.se.sev="error";}}return this.json.stringify(a);}};b.prototype.Tga=function(a){var b;b=this;return this.Tob.qf(this.ka,{logblobs:a}).then(function(){})["catch"](function(a){b.ka.error("PBO logblob failed",a);return Promise.reject(a);});};z=b;z=d.__decorate([g.N(),d.__param(0,g.l(t.Bf)),d.__param(1,g.l(l.Cb)),d.__param(2,g.l(u.Mk)),d.__param(3,g.l(y.xs)),d.__param(4,g.l(f.Ny)),d.__param(5,g.l(m.hf)),d.__param(6,g.l(a.Yy)),d.__param(7,g.l(q.Sna))],z);c.wTa=z;},function(d,c,a){var g,p,f,k,m,t,u;function b(a){this.WD=f.xe;this.o5=[];this.Sq=this.LS=!1;this.eqa=0;a&&(this.WD=a.size,this.o5=a.Dj,a instanceof b&&(this.eqa=a.Y6a+1));}function h(a,b,c,f){this.lqb=a;this.config=b;this.cg=c;this.json=f;p.xn(this,"json");this.ka=this.cg.wb("MessageQueue");this.Ep=[];}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);g=a(1);p=a(55);f=a(46);k=a(206);m=a(8);t=a(29);a=a(43);h.prototype.D6=function(a){var b,c;0===this.Ep.length&&this.Ep.push(this.haa());if(a=this.Ejb(a)){b=this.lqb.measure([a]);c=this.Ep[this.Ep.length-1];0<c.size.add(b).Pl(this.config.qDa)&&(c=this.haa(),this.Ep.push(c));c.D6(a);}};h.prototype.ahb=function(){var a;a=this.Ep.filter(function(a){return a.M8a;});this.Ep.push(this.haa());a.forEach(function(a){return a.wpb();});return a;};h.prototype.d5a=function(a){a.rn||this.Ep.unshift(new b(a));};h.prototype.Wwb=function(a){a=this.Ep.indexOf(a);0<=a&&this.Ep.splice(a,1);};h.prototype.Ejb=function(a){try{return{data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};}catch(z){var b,c;b={};c=a.data.debugMessage;c&&"string"===typeof c&&(b.originalDebugMessage=c);(a=a.data.debugCategory)&&"string"===typeof a&&(b.originalDebugCategory=a);this.ka.error("JSON.stringify error: "+z.message,b);}};h.prototype.haa=function(){return new b();};pa.Object.defineProperties(h.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Ep.reduce(function(a,b){return a.add(b.size);},f.xe);}}});u=h;u=d.__decorate([g.N(),d.__param(0,g.l(k.sma)),d.__param(1,g.l(a.I2)),d.__param(2,g.l(m.Cb)),d.__param(3,g.l(t.Ny))],u);c.GUa=u;b.prototype.Rha=function(){this.LS=!1;this.Sq=!0;};b.prototype.ex=function(){this.LS=!1;};b.prototype.D6=function(a){this.o5.push(a);this.WD=this.WD.add(a.size);};b.prototype.wpb=function(){this.LS=!0;};pa.Object.defineProperties(b.prototype,{Y6a:{configurable:!0,enumerable:!0,get:function(){return this.eqa;}},size:{configurable:!0,enumerable:!0,get:function(){return this.WD;}},Dj:{configurable:!0,enumerable:!0,get:function(){return this.o5;}},M8a:{configurable:!0,enumerable:!0,get:function(){return 0<this.Dj.length&&!1===this.LS;}},rn:{configurable:!0,enumerable:!0,get:function(){return this.Sq;}}});},function(d,c,a){var h,g,p,f,k,m,t,u,y,l,q;function b(a,b,c,f,d,k,h){this.config=a;this.json=b;this.la=c;this.Iob=f;this.sN=k;this.cV=h;this.SX=this.Co=!1;this.listeners=[];g.xn(this,"json");this.ka=d.wb("LogBatcher");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(55);p=a(29);f=a(354);k=a(35);m=a(8);t=a(43);u=a(353);y=a(2);l=a(66);a(162);q=a(352);b.prototype.Xb=function(){this.Co=!0;};b.prototype.Gc=function(a){var b;b=this;this.xAb(a)||(0<a.size.Pl(this.config.Hpb)?this.ka.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(this.listeners.forEach(function(b){return b.kqb(a);}),this.sN.D6(a),this.la.Eb(function(){b.Vfb();})));};b.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.SX?(this.ka.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,f){b.ka.trace("Flushing",m.yQ);b.th();b.la.Eb(function(){b.Qga(a).then(function(){c();})["catch"](function(a){f(a);});});});};b.prototype.addListener=function(a){this.listeners.push(a);};b.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};b.prototype.Qga=function(a){var b,c;a=void 0===a?!1:a;b=this;if(!this.Co)return this.ka.trace("LogBatcher is not initialized"),Promise.resolve();if(this.SX)return this.ka.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve();c=this.sN.ahb();if(0===c.length&&!a)return this.ka.trace("No logblobs to send"),Promise.resolve();this.th();this.listeners.forEach(function(){});a=Promise.resolve();for(var f={},d=Q(c),k=d.next();!k.done;f={n7:f.n7},k=d.next())f.n7=k.value,a=a.then(function(a){return function(){return b.Uyb(a.n7);};}(f));return a.then(function(){return b.fu();})["catch"](function(a){c.filter(function(a){return!a.rn;}).forEach(function(a){return a.ex();});b.fu();throw Error("Send failure. "+a);});};b.prototype.Uyb=function(a){var b;b=this;this.ka.trace("Sending batch: "+a.size,m.yQ);return Promise.resolve(this.sN.Wwb(a)).then(function(){return b.Iob.send(a.Dj);}).then(function(){return a.Rha();})["catch"](function(c){b.ka.warn("Failed to send batch of logblobs.",c,m.yQ);a.ex();b.nAb(c)&&b.sN.d5a(a);b.yAb(c)&&(b.SX=!0);throw c;});};b.prototype.nAb=function(a){return a.dh===y.v2.Ina?!1:this.config.B6;};b.prototype.yAb=function(a){return a.Xc===y.G.kla||a.Xc===y.G.nI||a.Xc===y.G.rI?!0:!1;};b.prototype.Vfb=function(){var a;a=this;0<this.sN.size.Pl(this.config.qDa)?this.Qga()["catch"](function(b){return a.ka.warn("Failed to send log messages on size threshold. "+b);}):this.fu();};b.prototype.th=function(){this.PA&&(this.PA.cancel(),this.PA=void 0);};b.prototype.fu=function(){this.PA||(this.PA=this.la.qh(this.config.Vyb,this.Nu.bind(this)));};b.prototype.Nu=function(){var a;a=this;this.SX=!1;this.th();this.Qga()["catch"](function(b){return a.ka.warn("Failed to send log messages on timer. "+b);});};b.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(M){}return b;};b.prototype.xAb=function(a){return 0<=this.config.VIa.indexOf(a.type)?!0:a.type===q.Ee.debug?0<=this.config.UIa.indexOf(a.data.debugCategory):!1;};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(t.I2)),d.__param(1,h.l(p.Ny)),d.__param(2,h.l(k.Xg)),d.__param(3,h.l(f.uma)),d.__param(4,h.l(m.Cb)),d.__param(5,h.l(u.Tma)),d.__param(6,h.l(l.bI))],a);c.mTa=a;},function(d,c,a){var h,g,p,f,k,m,t;function b(a,b,c,f){var d;d=this;this.Wob=a;this.cN=b;this.config=f;this.Qfa=[];this.Wob.b_(h.OLa,this.Mkb.bind(this));c().then(function(a){var b;b=f().cu.hgb;d.Lpb=b?t.Di[b.toUpperCase()]:t.Di.ERROR;d.ri=a;d.Yyb();});}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);g=a(1);p=a(17);f=a(101);k=a(43);m=a(62);t=a(8);b.prototype.Mkb=function(a,b){this.ri?this.zGa(a,b):this.Qfa.push([a,b]);};b.prototype.Yyb=function(){var a,b;a=this;b=this.Qfa;this.Qfa=[];b.forEach(function(b){a.zGa(b[0],b[1]);});};b.prototype.zGa=function(a,b){var c;if(this.ri&&this.qAb(a)){c={debugMessage:a.message,debugCategory:a.Nl};a.xd.forEach(function(a){return c=Object.assign(Object.assign({},c),a.value);});c=Object.assign(Object.assign({},c),{prefix:"debug"});a=this.cN.bn("debug",t.Di[a.level].toLowerCase(),c,b);this.ri.Gc(a);}};b.prototype.qAb=function(a){var b;b=this.Lpb;return void 0!==b&&a.level<=b&&!a.xd.find(function(a){return a.QL(t.yQ);});};a=h=b;a.OLa="adaptorAll";a=h=d.__decorate([g.N(),d.__param(0,g.l(f.KC)),d.__param(1,g.l(m.qp)),d.__param(2,g.l(k.nma)),d.__param(3,g.l(p.md))],a);c.uMa=a;},function(d,c,a){var b,h,g,p,f,k,m,t,u,y,l,q,z,G,M,N,r,W,Y,S,A,X;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(136);h=a(705);g=a(704);p=a(703);f=a(702);k=a(701);m=a(17);t=a(700);u=a(699);y=a(698);l=a(35);q=a(74);z=a(349);G=a(353);M=a(354);N=a(62);r=a(206);W=a(43);Y=a(348);S=a(697);A=a(345);X=a(343);c.Uob=new d.Bc(function(a){a(W.Kk).to(g.mTa).Z();a(G.Tma).to(p.GUa).Z();a(M.uma).to(f.wTa).Z();a(r.sma).to(k.tTa).Z();a(W.I2).to(t.lTa).Z();a(N.qp).to(u.rTa).Z();a(r.rma).to(y.sTa).Z();a(Y.tma).to(S.uTa).Z();a(A.zka).to(X.ZPa).Z();a(z.jja).to(h.uMa).Z();a(W.nma).tP(function(a){return function(){return a.hb.get(b.GI)().then(function(b){return new Promise(function(c){var d,k,h;function f(){k()&&h()&&b.AN?c(a.hb.get(W.Kk)):d.Eb(f);}d=a.hb.get(l.Xg);k=a.hb.get(m.md);h=a.hb.get(q.xs);d.Eb(f);});});};});});},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.RPa=function(a,b,c){this.bh=a;this.bx=b;this.W9=c;};},function(d,c,a){var h,g,p,f,k,m,t,u,y,l,q,z,G;function b(a,b,c,f,d,k,h,m,g,n){this.Bwa=a;this.Mj=b;this.Ga=f;this.K8=d;this.Lc=k;this.debug=h;this.KEb=m;this.J8=g;this.Dtb=n;this.Q1=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.wb("Device");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(2);g=a(23);p=a(707);f=a(8);k=a(360);m=a(41);t=a(91);u=a(22);y=a(1);l=a(71);q=a(357);z=a(356);a=a(355);b.prototype.Bxa=function(a){try{return a.match(this.Q1)[2];}catch(N){}};b.prototype.Dxa=function(a){try{return a.match(this.Q1)[1];}catch(N){}};b.prototype.create=function(a){var b;b=this;return new Promise(function(c,f){b.Mj.create().then(function(d){var m,g,n,t,u,y;function k(a){b.Ga.Il(a)&&b.Ga.Il(m)?(g=new p.RPa(a,m,n),c(g)):f({da:h.G.eka});}m=a.bx;if(a.eaa)n="bind_device",b.Dtb.qf(b.log,{}).then(function(a){k(a.esn);})["catch"](function(a){f(a);});else if(a.oW){u=a.bh;if(b.Ga.Il(u)){y=b.Dxa(u);y!=a.bx&&b.log.error("esn prefix from ui is different",{ui:y,cad:a.bx,ua:a.userAgent});}else a.Xca&&b.log.error("esn from ui is missing");d.load(a.Cwa).then(function(a){t=a.value;b.Ga.Il(t)&&(b.Ga.Il(u)?(a=b.Bxa(u),n=a===t?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):n="storage_esn_not_in_config",k(m+t));})["catch"](function(c){var p;function g(){d.save(a.Cwa,p,!1).then(function(){k(m+p);})["catch"](function(a){f(a);});}c.da===h.G.Rv?(b.Ga.Il(a.bh)?(p=b.Bxa(a.bh),b.Ga.Il(p)?n="config_since_not_in_storage":(n="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.bh),p=b.Bwa.rya())):(n="generated_since_not_in_config_and_storage",p=b.Bwa.rya()),g()):f(c);});}else a.ddb&&b.K8&&b.K8.getKeyByName?b.K8.getKeyByName(a.j7a).then(function(a){a=a.id;if(b.Ga.Um(a))a=String.fromCharCode.apply(void 0,b.Lc.decode(a)),b.debug.assert(""!=a),m=b.Dxa(a),k(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){f({da:h.G.C1,lb:b.KEb.We(a)});}):a.cdb&&b.J8&&b.J8.Uya?b.J8.Uya().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=m+a;b.debug.assert(b.Q1.test(a));k(c);})["catch"](function(){f({da:h.G.C1});}):k();})["catch"](function(a){f(a);});});};G=b;G=d.__decorate([y.N(),d.__param(0,y.l(k.uka)),d.__param(1,y.l(l.qs)),d.__param(2,y.l(f.Cb)),d.__param(3,y.l(g.Oe)),d.__param(4,y.l(z.aka)),d.__param(5,y.l(m.Rj)),d.__param(6,y.l(t.ws)),d.__param(7,y.l(u.hf)),d.__param(8,y.l(q.$ja)),d.__param(9,y.l(a.Kna))],G);c.SPa=G;},function(d,c,a){var h,g,p,f,k,m;function b(a,b){this.Ia=a;this.Dfa=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(38);g=a(3);p=a(140);f=a(359);k=a(55);a=a(1);b.prototype.rya=function(){for(var a="",b=this.Ia.Ve.ca(g.ha),c=6;c--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.Dfa.CGa(new f.Foa(0,31,k.Yrb))];return a;};m=b;m=d.__decorate([a.N(),d.__param(0,a.l(h.dj)),d.__param(1,a.l(p.DR))],m);c.QPa=m;},function(d,c,a){var b,h,g,p,f;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(74);h=a(360);g=a(709);p=a(358);f=a(708);c.ii=new d.Bc(function(a){a(b.xs).cf(function(){return function(){return L._cad_global.device;};});a(p.vka).to(f.SPa).Z();a(h.uka).to(g.QPa).Z();});},function(d,c,a){var h;function b(){var a;a=this;this.ready=!1;this.arb=new Promise(function(b){a.Mxb=b;});}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);a=a(1);b.prototype.brb=function(a){this.ready||(this.Mxb(a),this.ready=!0);};b.prototype.isReady=function(){return this.ready;};h=b;h=d.__decorate([a.N()],h);c.MUa=h;},function(d,c,a){var b,h,g;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(361);h=a(711);g=a(136);c.dB=new d.Bc(function(a){a(b.O2).to(h.MUa).Z();a(g.GI).tP(function(a){return function(){return a.hb.get(b.O2).arb;};});});},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.Tbb=function(a,b,c){return{Tza:function(){return a.Baa();},ka:b,request:c,Ih:!1};};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=a(100);c.FI=d.FI;c.Kv=d.Kv;c.hN=d.hN;c.Yoa=d.Yoa;h=a(50);a=function(a){function c(b,d,h,g,n){return a.call(this,c.console,b,d,h,g,n)||this;}b.__extends(c,a);Object.defineProperties(c,{console:{get:function(){return this.I||(this.I=new h.platform.Console("MP4","media|asejs"));},enumerable:!0,configurable:!0}});return c;}(d.Wy);c.Wy=a;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.h$a={Lr:["minInitVideoBitrate",-Infinity],Vda:["minHCInitVideoBitrate",-Infinity],Fu:["maxInitVideoBitrate",Infinity],xN:["minInitAudioBitrate",-Infinity],wN:["minHCInitAudioBitrate",-Infinity],iN:["maxInitAudioBitrate",Infinity],uN:["minAcceptableVideoBitrate",-Infinity],LDa:["minAcceptableVMAF",0],zqb:["minAcceptableVMAFRebufferScalingFactor",0],Aqb:["minAllowedVideoBitrate",-Infinity],Bpb:["maxAllowedVideoBitrate",Infinity],MDa:["minAllowedVmaf",-Infinity],Cpb:["maxAllowedVmaf",Infinity],bP:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],yN:["minRequiredBuffer",2E4],MY:["minRequiredAudioBuffer",0],Mg:["minPrebufSize",5800],WQb:["enableNewBufferingComplete",!0],Nqb:["minimumBufferingCompleteInterval",1E4],j_:["requireDownloadDataAtBuffering",!1],k_:["requireSetupConnectionDuringBuffering",!1],Mfa:["rebufferingFactor",1],Ko:["maxBufferingTime",2E3],Lia:["useMaxPrebufSize",!0],Lx:["maxPrebufSize",4E4],Cda:["maxRebufSize",Infinity],pfb:["fastRebufferRecoveryThreshold",Infinity],ofb:["fastRebufferRecoverBwThrehold",3E3],AX:["initialBitrateSelectionCurve",null],mBa:["initSelectionLowerBound",-Infinity],nBa:["initSelectionUpperBound",Infinity],m0:["throughputPercentForAudio",15],k7:["bandwidthMargin",0],m7:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],B7a:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Qt:76376,scale:18862.4,gamma:3.0569}],l7:["bandwidthMarginContinuous",!1],C7a:["bandwidthMarginForAudio",!0],Wha:["switchConfigBasedOnInSessionTput",!0],n8:["conservBandwidthMargin",20],dL:["conservBandwidthMarginTputThreshold",6E3],o8:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],HJa:["switchAlgoBasedOnHistIQR",!1],ry:["switchConfigBasedOnThroughputHistory","iqr"],Bda:["maxPlayerStateToSwitchConfig",-1],eda:["lowEndMarkingCriteria","iqr"],y2:["IQRThreshold",.5],Aba:["histIQRCalcToUse","simple"],Dp:["bandwidthManifold",{curves:[{min:.05,max:.82,Qt:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Qt:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Iu:["maxTotalBufferLevelPerSession",0],VAa:["highWatermarkLevel",3E4],hKa:["toStableThreshold",3E4],r0:["toUnstableThreshold",0],yha:["skipBitrateInUpswitch",!1],Tia:["watermarkLevelForSkipStart",8E3],tba:["highStreamRetentionWindow",9E4],fda:["lowStreamTransitionWindow",51E4],vba:["highStreamRetentionWindowUp",5E5],hda:["lowStreamTransitionWindowUp",1E5],uba:["highStreamRetentionWindowDown",6E5],gda:["lowStreamTransitionWindowDown",0],sba:["highStreamInfeasibleBitrateFactor",.5],Cu:["lowestBufForUpswitch",9E3],oY:["lockPeriodAfterDownswitch",15E3],jda:["lowWatermarkLevel",15E3],Du:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],kda:["lowestWaterMarkLevelBufferRelaxed",!1],Oda:["mediaRate",1.5],BY:["maxTrailingBufferLen",15E3],BK:["audioBufferTargetAvailableSize",262144],NP:["videoBufferTargetAvailableSize",1048576],yDa:["maxVideoTrailingBufferSize",8388608],kDa:["maxAudioTrailingBufferSize",393216],TV:["fastUpswitchFactor",3],qfb:["fastUpswitchFactorWithoutHeaders",3],j$:["fastDownswitchFactor",3],Gu:["maxMediaBufferAllowed",27E4],JTb:["minMediaBufferLen",1E4],Ir:["maxMediaBufferAllowedInBytes",0],vha:["simulatePartialBlocks",!0],ZIa:["simulateBufferFull",!0],p8:["considerConnectTime",!0],m8:["connectTimeMultiplier",1],UCa:["lowGradeModeEnterThreshold",12E4],VCa:["lowGradeModeExitThreshold",9E4],mDa:["maxDomainFailureWaitDuration",3E4],jDa:["maxAttemptsOnFailure",18],yxa:["exhaustAllLocationsForFailure",!0],sDa:["maxNetworkErrorsDuringBuffering",20],wda:["maxBufferingTimeAllowedWithNetworkError",6E4],Gxa:["fastDomainSelectionBwThreshold",2E3],UJa:["throughputProbingEnterThreshold",4E4],VJa:["throughputProbingExitThreshold",34E3],HCa:["locationProbingTimeout",1E4],Kxa:["finalLocationSelectionBwThreshold",1E4],SJa:["throughputHighConfidenceLevel",.75],TJa:["throughputLowConfidenceLevel",.4],Uca:["locationStatisticsUpdateInterval",6E4],Gob:["locationSelectorPersistFailures",!0],ixa:["enablePerfBasedLocationSwitch",!1],qTb:["maxRateMaxFragmentGroups",4500],Wea:["pipelineScheduleTimeoutMs",2],Hu:["maxPartialBuffersAtBufferingStart",2],Wda:["minPendingBufferLen",3E3],Kx:["maxPendingBufferLen",6E3],teb:["enableNginxRateLimit",!1],aZ:["nginxSendingRate",4E4],xeb:["enableRequestPacingToken",!1],fqb:["mediaRequestPacingSpeed",2],Yba:["initialMediaRequestToken",2E4],uY:["maxActiveRequestsSABCell100",2],yY:["maxPendingBufferLenSABCell100",500],yHa:["resetActiveRequestsAtSessionInit",!0],ieb:["enableCpr",!1],a8:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3]}],Dda:["maxStreamingSkew",2E3],Dpb:["maxBufferOccupancyForSkewCheck",Infinity],pEb:["useBufferOccupancySkipBack",!0],Ada:["maxPendingBufferPercentage",10],YA:["maxRequestsInBuffer",120],mX:["headerRequestSize",4096],jlb:["headerCacheEstimateHeaderSize",!1],hea:["neverWipeHeaderCache",!1],jLa:["useSidxInfoFromManifestForHeaderRequestSize",!1],SV:["fastPlayHeaderRequestSize",0],XA:["maxRequestSize",0],kG:["minRequestSize",65536],vN:["minBufferLenForHeaderDownloading",1E4],cJa:["smartHeaderPreDownloading",!1],iUb:["onlyAllowPtsUpdatePolling",!1],Gqb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],l_:["reserveForSkipbackBufferMs",15E3],yea:["numExtraFragmentsAllowed",2],Oo:["pipelineEnabled",!0],bG:["maxParallelConnections",3],xEb:["usePipelineForAudio",!1],wEb:["usePipelineDetectionForAudio",!1],dJa:["socketReceiveBufferSize",0],nU:["audioSocketReceiveBufferSize",32768],MH:["videoSocketReceiveBufferSize",65536],qba:["headersSocketReceiveBufferSize",32768],lAb:["shareDownloadTracks",!0],Xda:["minTimeBetweenHeaderRequests",void 0],D0:["updatePtsIntervalMs",1E3],t7:["bufferTraceDenominator",0],xE:["bufferLevelNotifyIntervalMs",2E3],dxa:["enableAbortTesting",!1],Qsa:["abortRequestFrequency",8],Oha:["streamingStatusIntervalMs",2E3],Yu:["prebufferTimeLimit",6E4],KY:["minBufferLevelForTrackSwitch",2E3],veb:["enablePenaltyForLongConnectTime",!1],Rea:["penaltyFactorForLongConnectTime",2],cda:["longConnectTimeThreshold",200],G6:["additionalBufferingLongConnectTime",2E3],H6:["additionalBufferingPerFailure",8E3],qO:["rebufferCheckDuration",6E4],hxa:["enableLookaheadHints",!1],QCa:["lookaheadFragments",2],mA:["enableOCSideChannel",!0],tfa:["probeRequestTimeoutMilliseconds",3E4],KUb:["probeRequestConnectTimeoutMilliseconds",8E3],oR:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],PKa:["updateDrmRequestOnNetworkFailure",!0],lDa:["maxDiffAudioVideoEndPtsMs",1E3],lTb:["maxAudioFragmentOverlapMs",80],Icb:["deferAseHeaderCache",!1],qwa:["deferAseScheduling",!1],uCb:["timeBeforeEndOfStreamBufferMark",6E3],yda:["maxFastPlayBufferInMs",2E4],xda:["maxFastPlayBitThreshold",2E8],Epb:["maxBufferingCompleteBufferInMs",Infinity],JY:["minAudioMediaRequestSizeBytes",0],OY:["minVideoMediaRequestSizeBytes",0],hG:["minAudioMediaRequestDuration",0],mG:["minVideoMediaRequestDuration",0],jG:["minMediaRequestDuration",0],Cqb:["minAudioMediaRequestDurationCache",0],Jqb:["minVideoMediaRequestDurationCache",0],seb:["enableMultiFragmentRequest",!1],HH:[["useHeaderCache","usehc"],!0],G0:[["useHeaderCacheData","usehcd"],!0],hV:["defaultHeaderCacheSize",4],a9:["defaultHeaderCacheDataCount",4],b9:["defaultHeaderCacheDataPrefetchMs",0],mba:["headerCacheMaxPendingData",6],nba:["headerCachePriorityLimit",5],PAa:["headerCacheAdoptBothAV",!1],yEb:["usePipelineForBranchedAudio",!0],n9a:["childBranchBatchedAmount",1E4],PY:["minimumTimeBeforeBranchDecision",2E3],Ppb:["maxRequestsToAttachOnBranchActivation",void 0],UDa:["minimumJustInTimeBufferLevel",3E3],oeb:["enableJustInTimeAppends",!1],fxa:["enableDelayedSeamless",!1],iPb:["branchEndPtsIntervalMs",250],Ilb:["ignorePtsJustBeforeCurrentSegment",!1],oDa:["maxFragsForFittableOnBranching",300],ytb:["pausePlaylistAtEnd",!0],c5a:["adaptiveParallelTimeoutMs",1E3],aF:["enableAdaptiveParallelStreaming",!1],s7:["bufferThresholdToSwitchToSingleConnMs",45E3],r7:["bufferThresholdToSwitchToParallelConnMs",35E3],feb:["enableAPSForBranching",!1],T0:["waitForPendingConnAdaptation",!1],fea:["networkFailureResetWaitMs",2E3],eea:["networkFailureAbandonMs",6E4],AY:["maxThrottledNetworkFailures",5],l0:["throttledNetworkFailureThresholdMs",200],ida:["lowThroughputThreshold",400],a$:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],tCb:["timeAtEachBitrateRoundRobin",1E4],$xb:["roundRobinDirection","forward"],Ekb:["hackForHttpsErrorCodes",!1],zlb:["httpsConnectErrorAsPerm",!1],$Da:["mp4ParsingInNative",!1],Yf:["enableManagerDebugTraces",!1],dDa:["managerDebugMessageInterval",1E3],cDa:["managerDebugMessageCount",20],EEa:["notifyManifestCacheEom",!0],ML:["enableUsingHeaderCount",!1],eJa:["sourceBufferInOrderAppend",!0],Wr:["requireAudioStreamToEncompassVideo",!1],ota:["allowAudioToStreamPastVideo",!1],Dva:["countGapInBuffer",!1],pta:["allowCallToStreamSelector",!1],qua:["bufferThresholdForAbort",2E4],e0:["ase_stream_selector","optimized"],d7:["audiostreamSelectorAlgorithm","selectaudioadaptive"],Wba:["initBitrateSelectorAlgorithm","default"],v7:["bufferingSelectorAlgorithm","default"],awa:["ase_ls_failure_simulation",""],S8:["ase_dump_fragments",!1],T8:["ase_location_history",0],U8:["ase_throughput",0],cwa:["ase_simulate_verbose",!1],yg:["stallAtFrameCount",void 0],tda:["marginPredictor","simple"],oEb:["useBackupUnderflowTimer",!0],eWb:["useManifestDrmHeader",!0],fWb:["useOnlyManifestDrmHeader",!0],gea:["networkMeasurementGranularity","video_location"],lrb:["netIntrStoreWindow",36E3],VTb:["minNetIntrDuration",8E3],N0a:["fastHistoricBandwidthExpirationTime",10368E3],l1a:["bandwidthExpirationTime",5184E3],M0a:["failureExpirationTime",86400],Rra:["historyTimeOfDayGranularity",4],I0a:["expandDownloadTime",!0],U1a:["minimumMeasurementTime",500],T1a:["minimumMeasurementBytes",131072],g3a:["throughputMeasurementTimeout",2E3],f3a:["initThroughputMeasureDataSize",262144],F1a:["historicBandwidthUpdateInterval",2E3],S1a:["minimumBufferToStopProbing",1E4],GOb:["throughputPredictor","ewma"],Cga:["secondThroughputEstimator","slidingwindow"],$Ha:["secondThroughputMeasureWindowInMs",3E5],FOb:["throughputMeasureWindow",5E3],HOb:["throughputWarmupTime",5E3],EOb:["throughputIQRMeasureWindow",1E3],jOb:["IQRBucketizerWindow",15E3],pDa:["maxIQRSamples",100],PDa:["minIQRSamples",5],BOb:["connectTimeHalflife",10],uOb:["responseTimeHalflife",10],tOb:["historicThroughputHalflife",14400],sOb:["historicResponseTimeHalflife",100],rOb:["historicHttpResponseTimeHalflife",100],ula:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],Bra:["minReportedNetIntrDuration",4E3],DOb:["throughputBucketMs",500],nOb:["bucketHoltWintersWindow",2E3],B0a:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")],J0a:["experimentalFilter",["throughput-wssl"]],N4:["filterDefinitionOverrides",{}],q0a:["defaultFilter","throughput-ewma"],N3a:["secondaryFilter","throughput-sw"],vD:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],gxa:["enableHudsonFieldTest",!1],kxa:["enableWsslEstimate",!1],Fda:["maxWsslRequestSize",131072],Eda:["maxWsslRequestRatio",.2],HLa:["wsslAggregationMethod","max"],Iba:["hudsonTitles",["81127954","70125931"]],Npb:["maxPartialBuffersAtHudson",1],gZ:["numberOfChunksPerSegment",4],iCb:["targetContentLatency",1E4],KVb:["targetLongContentLatency",3E4],Qqb:["minimumTimeDelay",1],LL:["enableSessionHistoryReport",!0],E9:["earlyStageEstimatePeriod",1E4],sCa:["lateStageEstimatePeriod",3E4],xY:["maxNumSessionHistoryStored",10],NY:["minSessionHistoryDuration",3E5],llb:["highAndStableModelName","baseline"],J9:["enableHighAndStablePredictor",!1],LY:["minNumSessionHistory",5],cPb:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],oX:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],mlb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],XT:["addHeaderDataToNetworkMonitor",!0],Gha:["startMonitorOnLoadStart",!1],Yfa:["reportFailedRequestsToNetworkMonitor",!1],yZ:["periodicHistoryPersistMs",0],u_:["saveVideoBitrateMs",0],CN:["needMinimumNetworkConfidence",!0],p7:["biasTowardHistoricalThroughput",!1],Lob:["logMemoryUsage",!1],QAa:["headerCacheTruncateHeaderAfterParsing",!0],mq:["probeServerWhenError",!0],zt:["allowSwitchback",!0],wB:["probeDetailDenominator",100],wY:["maxDelayToReportFailure",300],tK:["allowParallelStreaming",!1],dqb:["mediaPrefetchDisabled",!1],ODa:["minBufferLevelToAllowPrefetch",5E3],Zw:["editVideoFragments",!1],CV:["editAudioFragments",!0],ryb:["seamlessAudio",!1],syb:["seamlessAudioProfiles",[]],tyb:["seamlessAudioProfilesAndTitles",{}],Aga:["seamlessAudioMaximumSyncError",void 0],Bga:["seamlessAudioMinimumSyncError",void 0],JM:["insertSilentFrames",0],wBa:["insertSilentFramesOnExit",void 0],vBa:["insertSilentFramesOnEntry",void 0],uBa:["insertSilentFramesForProfile",void 0],igb:["forceDiscontinuityAtTransition",!0],qy:["supportAudioResetOnDiscontinuity",void 0],py:["supportAudioEasingOnDiscontinuity",void 0],ar:["audioCodecResetForProfiles",["heaac-2-dash","heaac-2hq-dash"]],beb:["editCompleteFragments",!0],Lqb:["minimumAudioFramesPerFragment",1],Oz:["applyProfileTimestampOffset",!1],fo:["applyProfileStreamingOffset",!0],qGa:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],rEb:["useDpiAssumedAacEncoderDelay",!0],Qda:["mediaSourceSupportsNegativePts",!1],Q5a:["adjustSeekPointsForProfileOffset",!1],iG:["minAudioPtsGap",void 0],$6a:["audioOverlapGuardSampleCount",2],jxa:["enableRecordJSBridgePerf",!1],C2:["JSBridgeTDigestConfig",{maxc:25,c:.5}],rCb:["throughputThresholdSelectorParam",0],mEb:["upswitchDuringBufferingFactor",2],c6a:["allowUpswitchDuringBuffering",!1],xva:["contentOverrides",void 0],r8:["contentProfileOverrides",void 0],zba:["hindsightDenominator",0],yba:["hindsightDebugDenominator",0],yM:["hindsightAlgorithmsEnabled",["htwbr"]],pX:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],Cta:["appendMediaRequestOnComplete",!1],RP:["waitForDrmToAppendMedia",!1],D$:["forceAppendHeadersAfterDrm",!1],pO:["reappendRequestsOnSkip",!1],W8:["declareBufferingCompleteAtSegmentEnd",!1],Gr:["maxActiveRequestsPerSession",void 0],Qca:["limitAudioDiscountByMaxAudioBitrate",!1],R6:["appendFirstHeaderOnComplete",!0],h0:["strictBufferCapacityCheck",!1],yK:["aseReportDenominator",0],X6:["aseReportIntervalMs",3E5],uia:["translateToVp9Draft",!1],wH:["switchableAudioProfiles",[]],a7a:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],JJa:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],d7a:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],xDa:["maxStartingVideoVMAF",110],lG:["minStartingVideoVMAF",1],oK:["activateSelectStartingVMAF",!1],B_:["selectStartingVMAFTDigest",-1],aH:["selectStartingVMAFMethod","fallback"],gIa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],BG:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],ndb:["disablePtsStartsEvent",!0],Pfa:["recordFirstFragmentOnSubBranchCreate",!0],BDa:["mediaCacheConvertToBinaryData",!1],Jda:["mediaCacheSaveOneObject",!1],iDa:["markRequestActiveOnFirstByte",!1],BV:["earlyAppendSingleChildBranch",!0],IH:["useNativeDataViewMethods",!0],N6:["alwaysNotifyEOSForPlaygraph",!1],qEb:["useCorrectDrainingAmounts",!0],K9:["enableNewAse",!1],GP:["useNewApi",!1],k9:["aseDiagnostics",[{KU:"queue-audit",enabled:!1}]],xub:["playgraphImmediateTransitionDistance",3E3],Y7a:["branchDistanceThreshold",6E4]};c.ro=c.h$a;},function(d,c,a){var g,p;function b(){this.$s=this.vJ=this.FS=this.TS=this.BS=null;}function h(a){this.J=a;this.kt=[];this.Sn=new b();this.MJ();}g=a(6);a(14);a(16);p=a(4);new p.Console("ASEJS_SESSION_HISTORY","media|asejs");b.prototype.Xd=function(a){var b;b=!1;a&&g.has(a,"ens")&&g.has(a,"lns")&&g.has(a,"fns")&&g.has(a,"d")&&g.has(a,"t")&&(this.BS=a.ens,this.TS=a.lns,this.FS=a.fns,this.vJ=a.d,this.$s=a.t,b=!0);return b;};b.prototype.Vc=function(){var a;if(g.Oa(this.BS)||g.Oa(this.TS)||g.Oa(this.FS)||g.Oa(this.vJ)||g.Oa(this.$s))return null;a={d:this.vJ,t:this.$s};a.ens=this.BS;a.lns=this.TS;a.fns=this.FS;return a;};b.prototype.get=function(){var a,b;a=this.Vc();if(a){b=new Date(this.$s);a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};h.prototype.MJ=function(){var a;a=p.storage.get("sth");a&&this.Xd(a);};h.prototype.Xd=function(a){var c,f;c=null;f=this.J;a.forEach(function(a){var f;f=new b();f.Xd(a)?(c=!0,this.kt.push(f)):g.Oa(c)&&(c=!1);},this);this.kt=this.kt.filter(function(a){return a.vJ>=f.NY;});this.kt.sort(function(a,b){return a.$s-b.$s;});return g.Oa(c)?!0:c;};h.prototype.S4=function(){var a;a=[];this.kt.forEach(function(b){a.push(b.Vc());},this);return a;};h.prototype.save=function(){var a,c,d;a=this.S4();c=this.J;d=this.Sn.Vc();d&&d.d>=c.NY&&(a.push(d),this.kt.push(this.Sn));a.length>c.xY&&(a=a.slice(a.length-c.xY,a.length));this.Sn=new b();a&&p.storage.set("sth",a);};h.prototype.reset=function(){this.Sn=new b();};h.prototype.Chb=function(){return this.Sn.get();};h.prototype.Ojb=function(){return this.kt.length+1;};h.prototype.h5a=function(a){this.Sn.BS=a;this.Sn.$s=p.time.ea();};h.prototype.t5a=function(a){this.Sn.TS=a;this.Sn.$s=p.time.ea();};h.prototype.m5a=function(a,b){this.Sn.FS=a;this.Sn.$s=p.time.ea();this.Sn.vJ=b;};d.P=h;},function(d,c,a){var h,g,p,f;function b(a){var b;b=nrdp.ii.zVb.match(/android-(\d*)/);b?23<b[1]?(a.qy=!1,a.py=!1,a.ar=void 0):(b=nrdp.ii.wMb.NPb.platform.zUb.match(/(\d*)\.(\d*).(\d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.qy=!0,a.py=!1,a.ar=void 0):(a.qy=!1,a.py=!1,a.ar=[]):(a.qy=!1,a.py=!1,a.ar=[]):(a.qy=!1,a.py=!1,a.ar=[]);}h=a(7).assert;a(75);g=a(4);p=g.Vj;f=g.BUa;d.P=function(){var a,c,d;new g.Console("ASEJSMONKEY","media|asejs");if(!g.Vj.wc){a=function(a){this.N1a=a;};c=f.prototype.appendBuffer;g.MediaSource.wc||(g.MediaSource.wc={});"undefined"!==typeof nrdp&&nrdp.NOb&&(b(g.MediaSource.wc),g.MediaSource.wc.eva=!1,g.MediaSource.wc.fEa=!1);g.Vj.wc={VG:{Yia:!0,cz:!0,ana:!0}};Object.defineProperty(p.prototype,"_response",{get:function(){return this.f4a||this.p0a;},set:function(a){this.p0a=a;}});d=p.prototype.open;p.prototype.open=function(b,c,f,k,h,m,g){1===f&&(this.f4a=new a(this));return d.call(this,b,c,f,k,h,m,g);};p.prototype.rO=function(){this.UD=void 0;};f.prototype.appendBuffer=function(b){if(b instanceof ArrayBuffer)return c.call(this,b);if(b instanceof a)return this.dU(b.N1a);h(!1);};}};},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(84);d=function(){function a(a){this.console=a;this.xz=[];this.jw=[];b.yb&&this.console.trace("Received pending adoption "+this.gy.length);}Object.defineProperties(a.prototype,{length:{get:function(){return this.xz.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gy:{get:function(){return this.jw;},enumerable:!0,configurable:!0}});a.prototype.xpb=function(a){a=this.jw.indexOf(a);-1!==a&&(b.yb&&this.console.trace("Marking request attached"),this.xz[a].ABa=!0,this.AKa(a));};a.prototype.ypb=function(a){a=this.jw.indexOf(a);-1!==a&&(b.yb&&this.console.trace("Marking request completed"),this.xz[a].rn=!0,this.AKa(a));};a.prototype.jxb=function(a){var b,c;b=this;c=[];this.jw.forEach(function(b,f){a(b)&&c.unshift(f);});c.forEach(function(a){b.jw.splice(a,1);b.xz.splice(a,1);});};a.prototype.push=function(a){this.jw.push(a);this.xz.push({ABa:!1,rn:!1});b.yb&&this.console.trace("Pushing pending request, "+this.length+" total");};a.prototype.CA=function(){return 0<this.length;};a.prototype.AKa=function(a){var c;c=this.xz[a];c.ABa&&c.rn&&(c=this.jw[a],this.jw.splice(a,1),this.xz.splice(a,1),b.yb&&this.console.trace("Removing request, "+this.length+" left"),0===this.length&&b.yb&&this.console.trace("Removing last request, contentEndPts: "+c.sd));};return a;}();c.pMa=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a){this.osa=a;}Object.defineProperties(a.prototype,{KF:{get:function(){return this.s1a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.osa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Uxb:{get:function(){var a;a=this;return this.osa.then(function(){return a;});},enumerable:!0,configurable:!0}});a.prototype.cancel=function(){this.s1a=!0;};a.prototype.Aea=function(a,c){var b;b=this;this.result.then(function(d){b.KF?c&&c(d):a(d);});return this;};return a;}();c.sZa=d;},function(d,c,a){var b,h,g,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);h=a(21);g=a(21);p=a(4);f=a(719);k=a(371);d=function(){var Z34;Z34=2;while(Z34!==13){switch(Z34){case 14:return a;break;case 8:a.prototype.L4=function(){var L34,a,b;L34=2;while(L34!==9){switch(L34){case 2:L34=1;break;case 1:L34=this.kw?5:9;break;case 5:a=this.kw.Mi;b=this.kw.Wa;this.xa.Lf(b)&&(this.kw=void 0,this.jy(a,b));L34=9;break;}}};a.prototype.$i=function(a){var e34,c,d,k;e34=2;while(e34!==14){switch(e34){case 2:e34=1;break;case 6:return d.Aea(function(){var g34,b34;g34=2;while(g34!==4){b34="s";b34+="k";b34+="i";b34+="p";switch(g34){case 2:c.xa.W.Xd(h.na.Jc);c.xa.jK();c.xa.emit(b34);g34=4;break;}}}).Uxb;break;case 1:c=this;null===(d=this.kra)||void 0===d?void 0:d.cancel();k=this.xa.J;this.xa.Kha();this.xa.oa.Bk.$i(a);g.Df.forEach(function(a){var n34,f,M34;n34=2;while(n34!==8){M34="skip:";M34+=" not resu";M34+="ming bufferManager,";M34+=" audio trac";M34+="k switch in progress";switch(n34){case 5:f=c.xa.Za.De[a];c.xa.uo&&(f.Bha=p.time.ea());n34=3;break;case 1:n34=c.gb(a)?5:8;break;case 2:n34=1;break;case 3:k.pO?c.xa.kf[a].reset():f.NH?f.$a(M34):c.xa.kf[a].resume();b(c.xa.oa.Ob,a);n34=8;break;}}});this.kra=d=new f.sZa(this.xa.mH());e34=6;break;}}function b(f,d){var E34,N34;E34=2;while(E34!==5){N34="skip: unexpected behaviour - a non-presenting branch doesn't have a pre";N34+="viou";N34+="s ";N34+="bran";N34+="ch";switch(E34){case 2:f!==c.xa.oa.Bk&&(f.xf?b(f.xf,d):c.I.error(N34));(f=f.Ec(d))&&f.$i(a);E34=5;break;}}}};a.prototype.Ot=function(a){var K34,b,c;K34=2;while(K34!==6){switch(K34){case 4:K34=a<b.pc||a>=c?3:9;break;case 2:b=this.xa.oa.Bk;c=0<Object.keys(b.ja&&b.ja.uj||{}).length&&!b.Ni?b.ge-this.xa.J.PY:b.ge;K34=4;break;case 9:b=this.xa.or(a,0,!0);a=this.xa.or(a,1,!0);return void 0!==b&&void 0!==a&&b.complete&&a.complete;break;case 3:return!1;break;}}};Z34=14;break;case 2:a.prototype.jy=function(a,c){var z34,f,d,m,n,p,t,u,l,l34,P34,r34,v34,h34,I34,W34,d34,B34,T34,k34,G34,j34,U34;z34=2;while(z34!==47){l34=" ";l34+="playerS";l34+="ta";l34+="te:";l34+=" ";P34=" media.cu";P34+="rren";P34+="tPts: ";r34=" curr";r34+="ent manifest:";r34+=" ";v34=" ";v34+="manifest";v34+="I";v34+="nde";v34+="x: ";h34="se";h34+="e";h34+="k:";h34+=" ";I34="s";I34+="e";I34+="ek";W34="ptsc";W34+="h";W34+="anged";d34="s";d34+="ee";d34+="kFa";d34+="il";d34+="ed";B34="seek, no";B34+=" manifest at mani";B34+="festInd";B34+="ex:";T34="se";T34+="ekD";T34+="el";T34+="aye";T34+="d";k34="seek";k34+="Delaye";k34+="d";G34="seek";G34+="Fail";G34+="ed";j34="aft";j34+="er seek";j34+="ing, playerSta";j34+="te no longe";j34+="r STARTING: ";U34="see";U34+="kDe";U34+="l";U34+="a";U34+="yed";switch(z34){case 2:f=this;null===(d=this.kra)||void 0===d?void 0:d.cancel();z34=4;break;case 44:this.xa.Kha();this.xa.oa.dCb(a,c);z34=42;break;case 23:n=this.xa.oa.Ob.WL(m.ia||Infinity,m.O);z34=22;break;case 24:return;break;case 49:this.kw={Wa:c,Mi:a},this.xa.emit(U34);z34=47;break;case 16:z34=!this.xa.nqa(c)?15:25;break;case 41:g.Df.forEach(function(a){var q34;q34=2;while(q34!==1){switch(q34){case 2:f.xa.Uq[a].Sxb();q34=1;break;}}});z34=40;break;case 40:z34=this.xa.W.YBa()?39:38;break;case 36:this.xa.P5();u=this.xa.oa.Ob.yU(a).NG;m.pea();z34=52;break;case 38:this.I.warn(j34+this.xa.W.Vc());this.xa.emit(G34);z34=47;break;case 28:this.xa.W.Xd(h.na.Dg);z34=44;break;case 20:c<n.O.Wa&&m.O.ue.replace&&(m.O.ue.replace=!1);p=this.xa.ud;t=this.xa.oa.Ob;g.Df.forEach(function(a){var u34;u34=2;while(u34!==1){switch(u34){case 2:(a=t.Ec(a))&&f.xa.rsa(a,p.Rx);u34=1;break;}}});z34=16;break;case 42:z34=(n=this.xa.ud.O.Wa===c&&!this.v1a(c)&&a===m.S)?41:36;break;case 32:this.kw={Wa:m.O.Wa+1,Mi:a};this.xa.emit(k34);return;break;case 35:z34=a>n?34:28;break;case 34:z34=m.O.ue.rf?33:29;break;case 29:a=n,d=a+this.xa.oa.Nc;z34=28;break;case 10:z34=c!=n.O.Wa?20:23;break;case 21:n=this.xa.ho?this.xa.Ik?Math.min(n[0].S,n[1].S):n[0].S:n[1].S;z34=35;break;case 13:!m.O.ue.lN&&0<c&&(d=this.xa.hL(c,a));this.xa.W.Xd(h.na.Hm);n=this.xa.ud;z34=10;break;case 14:z34=(m=this.xa.Lf(c))?13:48;break;case 15:this.kw={Wa:c,Mi:a};this.xa.emit(T34);return;break;case 48:this.I.warn(B34,c),this.xa.emit(d34);z34=47;break;case 39:return this.xa.emit(W34,d),this.xa.emit(I34),this.nK(c),a=n&&this.xa.Za.Qs()?100:0,this.xa.wT(1,a),this.xa.bi(),d;break;case 4:m=this.xa.J;n=this.xa.W.Vd();d=a;m.Yf&&this.Wf.Ui(h34+a+v34+c+r34+this.xa.ud.O.Wa+P34+n+l34+this.xa.W.Vc());z34=7;break;case 25:z34=this.St(k.Cja.T$(c),!1,!0)?24:23;break;case 52:l=this.xa.oa.Ob;g.Df.forEach(function(a){var J34,b;J34=2;while(J34!==4){switch(J34){case 2:b=l.Ec(a);f.gb(a)&&f.j3a(b,u[a]);J34=4;break;}}});z34=50;break;case 22:z34=n.length?21:49;break;case 7:b.U(c)&&(c=this.xa.ud.O.Wa);this.xa.oa.zHa();z34=14;break;case 33:z34=!this.xa.NT(m.O.Wa+1)?32:28;break;case 50:this.xa.dK();z34=40;break;}}};a.prototype.seek=function(a,c){var t34,f;t34=2;while(t34!==8){switch(t34){case 2:f=a;t34=5;break;case 4:this.xa.oa.zHa();this.xa.Lf(c).O.ue.lN||this.xa.ID||(f=this.xa.jr(c,a));return this.jy(f,c);break;case 5:b.U(c)&&(c=this.xa.ud.O.Wa);t34=4;break;}}};a.prototype.St=function(a,b,c){var H34,f,D34,O34;H34=2;while(H34!==8){D34="s";D34+="e";D34+="e";D34+="k";O34="p";O34+="t";O34+="sc";O34+="hanged";switch(H34){case 4:return f;break;case 2:f=this.xa.oa.St(a,b);H34=5;break;case 3:f?(this.xa.W.Xd(h.na.Hm),(a=this.xa.oa.Bk.children[a])&&this.xa.emit(O34,a.pc),this.xa.W.Xd(h.na.Dg),this.xa.emit(D34),a&&this.nK(a.O.Wa),this.xa.wT(1),this.xa.bi(),this.xa.Za.Qs()):c||(a=this.xa.oa.Kjb(a),this.jy(a));return f;break;case 5:H34=b?4:3;break;}}};a.prototype.v1a=function(a){var X34;X34=2;while(X34!==1){switch(X34){case 4:return~-this.xa.Lf(a).wK;break;X34=1;break;case 2:return!!this.xa.Lf(a).wK;break;}}};a.prototype.nK=function(a){var Y34,b;Y34=2;while(Y34!==3){switch(Y34){case 2:b=this;a=this.xa.Lf(a);a.wK||(a.wK=!0,g.Df.forEach(function(a){var S34;S34=2;while(S34!==1){switch(S34){case 2:b.xa.kf[a].resume();S34=1;break;}}}),this.xa.dK());Y34=3;break;}}};a.prototype.j3a=function(a,b){var Q34,c,f,d;Q34=2;while(Q34!==6){switch(Q34){case 2:c=this;Q34=5;break;case 5:d=a.M;a.MB(b);a.Kxb();Q34=9;break;case 9:Q34=(null===(f=this.xa.Eg)||void 0===f?0:f.CA())?8:7;break;case 8:this.xa.Eg.gy.forEach(function(a){var o34;o34=2;while(o34!==1){switch(o34){case 4:c.xa.Jz(a,-7);o34=5;break;o34=1;break;case 2:c.xa.Jz(a,!1);o34=1;break;}}}),this.xa.Eg=void 0;Q34=7;break;case 7:this.xa.EL.isa(d,a.bd.O);Q34=6;break;}}};Z34=8;break;}}function a(a,b,c,f){var a34,f34;a34=2;while(a34!==9){f34="1S";f34+="IYbZrNJC";f34+="p9";switch(a34){case 2:this.xa=a;this.I=b;this.gb=c;this.Wf=f;a34=3;break;case 3:f34;a34=9;break;}}}}();c.AYa=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(21);h=a(16);d=function(){function a(a){this.ZK=a;this.state=new h.pR(b.na.Dg);this.am={};}a.prototype.Vc=function(){return this.state.value;};a.prototype.Xd=function(a){this.state.set(a);};a.prototype.addListener=function(a){this.state.addListener(a);};a.prototype.paused=function(){this.state.value===b.na.Jc&&this.state.set(b.na.yh);};a.prototype.BP=function(){this.state.value===b.na.yh&&this.state.set(b.na.Jc);};a.prototype.YBa=function(){return this.state.value===b.na.Dg;};a.prototype.yx=function(){return"function"===typeof this.ZK.yx?this.ZK.yx():this.state.value===b.na.Jc;};a.prototype.ug=function(){return this.state.value===b.na.ye||this.state.value===b.na.Bg;};a.prototype.Nf=function(){return this.state.value===b.na.Hm;};a.prototype.ZBa=function(){return this.state.value===b.na.YC;};a.prototype.Vd=function(){return this.ZK.Vd();};a.prototype.Aaa=function(){return this.ZK.Aaa();};a.prototype.aha=function(a,b){this.am[a]=b;};a.prototype.Ar=function(a){return!!this.am[a];};return a;}();c.FMa=d;},function(d,c,a){var b,h,g,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);h=a(171);g=a(14);p=a(75);f=a(4);k=a(16);a(7);d=function(){var C34;C34=2;while(C34!==39){switch(C34){case 2:a.prototype.Zj=function(a){var R34,I84;R34=2;while(R34!==5){I84="st";I84+="art";I84+="Eve";I84+="nt";switch(R34){case 2:a={type:I84,event:a,time:f.time.ea()};k.Ha(this.La,a.type,a);R34=5;break;}}};C34=1;break;case 1:a.prototype.r2a=function(){var c34,a,h84;c34=2;while(c34!==4){h84="o";h84+="pe";h84+="nCompl";h84+="e";h84+="te";switch(c34){case 2:a={type:h84};k.Ha(this.La,a.type,a);c34=4;break;}}};a.prototype.s2a=function(a,b,c,f,d){var x34,v84;x34=2;while(x34!==1){v84="pts";v84+="S";v84+="t";v84+="a";v84+="rts";switch(x34){case 2:this.La.J.ndb||(a={type:v84,manifestIndex:a,mediaType:b,movieId:f,streamId:c,ptsStarts:d.pJa()},k.Ha(this.La,a.type,a));x34=1;break;}}};a.prototype.j2a=function(a,b){var s34,r84;s34=2;while(s34!==5){r84="h";r84+="eader";r84+="Ca";r84+="che";r84+="Hit";switch(s34){case 2:a={type:r84,movieId:a,streamId:b};k.Ha(this.La,a.type,a);s34=5;break;}}};C34=3;break;case 16:a.prototype.y2a=function(a,b,c,f){var X84,d,P84;X84=2;while(X84!==9){P84="streamPr";P84+="e";P84+="sent";P84+="in";P84+="g";switch(X84){case 4:a={type:P84,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:d,manifestIndex:f,trackIndex:a.track.jE,streamIndex:a.Tg};k.Ha(this.La,a.type,a);X84=9;break;case 2:d=a.M;h.ul.Vl(d);X84=4;break;}}};a.prototype.D2a=function(a){var Y84,l84;Y84=2;while(Y84!==5){l84="vide";l84+="oLo";l84+="op";l84+="e";l84+="d";switch(Y84){case 2:a={type:l84,offset:a};k.Ha(this.La,a.type,a);Y84=5;break;}}};a.prototype.B2a=function(a,b,c,f){var S84,O84;S84=2;while(S84!==4){O84="up";O84+="dateS";O84+="treamingPt";O84+="s";switch(S84){case 2:b={type:O84,mediaType:a,manifestIndex:b,trackIndex:c,movieTime:Math.floor(f)};h.ul.Vl(a);k.Ha(this.La,b.type,b);S84=4;break;}}};a.prototype.h2a=function(a){var Q84,D84;Q84=2;while(Q84!==5){D84="first";D84+="R";D84+="equest";D84+="Appen";D84+="ded";switch(Q84){case 2:a={type:D84,manifestIndex:a.Ja.bd.O.Wa,mediatype:a.M,time:f.time.ea()};k.Ha(this.La,a.type,a);Q84=5;break;}}};C34=25;break;case 12:a.prototype.v2a=function(a,b){var a84,f84;a84=2;while(a84!==5){f84="seg";f84+="m";f84+="entAppend";f84+="ed";switch(a84){case 2:b={type:f84,segmentId:a.id,metrics:b};a.Zx||k.Ha(this.La,b.type,b);a84=5;break;}}};a.prototype.w2a=function(a,b,c){var z84,C84;z84=2;while(z84!==5){C84="seg";C84+="mentComp";C84+="lete";switch(z84){case 2:a={type:C84,mediaType:a,manifestIndex:b,segmentId:c.id};k.Ha(this.La,a.type,a);z84=5;break;}}};a.prototype.t5=function(a,b){var u84,p84;u84=2;while(u84!==5){p84="l";p84+="astSe";p84+="g";p84+="me";p84+="ntPts";switch(u84){case 2:b={type:p84,segmentId:a.id,pts:Math.floor(b)};a.Zx||k.Ha(this.La,b.type,b);u84=5;break;}}};a.prototype.o2a=function(a,b,c,f,d){var q84,R84;q84=2;while(q84!==5){R84="manif";R84+="estR";R84+="ange";switch(q84){case 2:a={type:R84,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(f),maxPts:Math.floor(d)};k.Ha(this.La,a.type,a);q84=5;break;}}};a.prototype.Gra=function(a){var J84,c84;J84=2;while(J84!==5){c84="ma";c84+="x";c84+="Bi";c84+="tra";c84+="tes";switch(J84){case 2:a={type:c84,audio:a[0],video:a[1]};k.Ha(this.La,a.type,a);J84=5;break;}}};a.prototype.p2a=function(a,b){var t84,c,s84,x84;t84=2;while(t84!==9){s84="n";s84+="otifyMani";s84+="fes";s84+="tSe";s84+="lected: ";x84="manif";x84+="est";x84+="Sele";x84+="cted";switch(t84){case 2:c=this.La.J;a={type:x84,index:a,replace:b.O.ue.replace,ptsStarts:b.NG,streamingOffset:b.S+b.Fr};t84=4;break;case 4:c.Yf&&(b=s84+JSON.stringify(a),c.Yf&&this.Ui(b));k.Ha(this.La,a.type,a);t84=9;break;}}};a.prototype.n2a=function(a,b,c,f,d){var H84,F84;H84=2;while(H84!==4){F84="manife";F84+="stP";F84+="rese";F84+="nting";switch(H84){case 2:a={type:F84,index:a.Wa,pts:Math.floor(b),movieId:a.u,replace:a.ue.replace,contentOffset:c};null!=f&&null!=d&&(a.previousMovieId=f,a.previousIndex=d);k.Ha(this.La,a.type,a);H84=4;break;}}};C34=16;break;case 3:a.prototype.i2a=function(a,b,c,f,d){var F34,h,m84;F34=2;while(F34!==9){m84="heade";m84+="rCacheDa";m84+="taHit";switch(F34){case 2:h=this.La.cra;F34=5;break;case 5:this.La.cra=void 0;a={type:m84,movieId:a,audio:b,audioFromMediaCache:f,video:c,videoFromMediaCache:d,actualStartPts:h&&h.Jl,headerCount:h&&h.Xp,stats:h&&h.Ub};F34=3;break;case 3:k.Ha(this.La,a.type,a);F34=9;break;}}};a.prototype.q2a=function(a,b,c){var m34,y84;m34=2;while(m34!==5){y84="ma";y84+="xPositio";y84+="n";switch(m34){case 2:a={type:y84,index:a,endPts:b,maxPts:c};k.Ha(this.La,a.type,a);m34=5;break;}}};a.prototype.A2a=function(a,b,c,f,d,h){var y34,A84,V84;y34=2;while(y34!==4){A84="not";A84+="ifyStr";A84+="eamin";A84+="gEr";A84+="ror: ";V84="e";V84+="rr";V84+="o";V84+="r";switch(y34){case 2:a={type:V84,error:a,errormsg:b,networkErrorCode:c,httpCode:f,nativeCode:d,manifestIndex:h};this.I.error(A84+JSON.stringify(a));k.Ha(this.La,a.type,a);y34=4;break;}}};a.prototype.ZS=function(a,b){var V34,w84;V34=2;while(V34!==5){w84="seg";w84+="m";w84+="entStart";w84+="ing";switch(V34){case 2:b={type:w84,segmentId:a.id,contentOffset:b,maxBitrates:{audio:a.O.cq[0],video:a.O.cq[1]}};a.Zx||k.Ha(this.La,b.type,b);V34=5;break;}}};a.prototype.u2a=function(a){var A34,b,i14;A34=2;while(A34!==4){i14="segm";i14+="e";i14+="ntAbo";i14+="r";i14+="ted";switch(A34){case 2:b={type:i14,segmentId:a.id};a.Zx||k.Ha(this.La,b.type,b);A34=4;break;}}};a.prototype.a1a=function(a,c){var w34,d,k,h,J14,q14,u14,z14,a14,Z14;w34=2;while(w34!==20){J14="s";J14+="e";J14+="amless";q14="res";q14+="e";q14+="t";u14="s";u14+="k";u14+="i";u14+="p";z14="lo";z14+="n";z14+="g";a14="l";a14+="on";a14+="g";Z14="se";Z14+="amles";Z14+="s";switch(w34){case 9:b.Sd(c.fd,function(b,c){var i84;i84=2;while(i84!==1){switch(i84){case 2:c!=a&&(d.discard[c]={weight:b.weight},p(b.PK,d.discard[c]));i84=1;break;}}});k=c.x_?c.eX?Z14:a14:c.lEa?z14:c.$i?u14:q14;d.transitionType=k;w34=6;break;case 2:d={segment:a,srcsegment:c.V_,srcoffset:c.jJa,seamlessRequested:c.x_,atRequest:{},discard:{}};h=c.fd[a];h?(k=h.weight,p(h.PK,d.atRequest)):k=this.La.oa.Xza(c.V_,a);d.atRequest.weight=k;w34=9;break;case 6:c.Hcb||(d.delayToTransition=c.lV);k=J14===k?0:f.time.ea()-c.startTime;d.durationOfTransition=k;d.atTransition=c.rKa;d.srcsegmentduration=this.La.oa.Jjb(c.V_);w34=10;break;case 10:return d;break;}}};a.prototype.x2a=function(a,b,c){var Z84,t14;Z84=2;while(Z84!==4){t14="segmen";t14+="tP";t14+="resenting";switch(Z84){case 5:k.Ha(this.La,a.type,a);Z84=4;break;case 2:c=c?this.a1a(a.id,c):void 0;a={type:t14,segmentId:a.id,contentOffset:b,metrics:c,playlistSegment:a.Zx,manifestIndex:a.O.Wa};Z84=5;break;}}};C34=12;break;case 25:a.prototype.l2a=function(a,b){var o84,H14;o84=2;while(o84!==5){H14="initi";H14+="a";H14+="lAudio";H14+="Tra";H14+="ck";switch(o84){case 2:a={type:H14,trackId:b,trackIndex:a};o84=1;break;case 1:k.Ha(this.La,a.type,a);o84=5;break;}}};a.prototype.c2a=function(a,b){var L84,X14;L84=2;while(L84!==3){X14="aud";X14+="ioTrackS";X14+="witchStarted";switch(L84){case 2:a=a.VA;b=b.VA;b={type:X14,oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:b.language,newNumChannels:b.channels};L84=4;break;case 4:k.Ha(this.La,b.type,b);L84=3;break;}}};a.prototype.b2a=function(a,b){var e84,c;e84=2;while(e84!==4){switch(e84){case 2:c=this;setTimeout(function(){var E84,f,Y14;E84=2;while(E84!==4){Y14="aud";Y14+="ioT";Y14+="rackSwitchComp";Y14+="lete";switch(E84){case 2:f={type:Y14,trackId:a,trackIndex:b};k.Ha(c.La,f.type,f);E84=4;break;}}},0);e84=4;break;}}};C34=22;break;case 22:a.prototype.f2a=function(a){var n84,b,S14;n84=2;while(n84!==3){S14="buf";S14+="feringS";S14+="ta";S14+="rted";switch(n84){case 2:b={type:S14,time:f.time.ea(),percentage:a||0};k.Ha(this.La,b.type,b);this.gw=a||0;n84=3;break;}}};a.prototype.d2a=function(){var g84,a,b,c,d,h,Q14;g84=2;while(g84!==14){Q14="bu";Q14+="ff";Q14+="er";Q14+="ing";switch(g84){case 2:a=this.La.J;b=f.time.ea();c=this.La.oa.Ob;g84=3;break;case 6:a!=this.gw&&(b={type:Q14,time:b,percentage:a},k.Ha(this.La,b.type,b),this.gw=a);g84=14;break;case 3:d=this.La.Ik?1:0;h=c.te(d);c=c.lk(d);a=Math.min(Math.max(Math.round(100*(h.Gx?(b-this.La.p4)/a.Yu:h.Kh?h.Kh:c/a.Mg)),this.gw),99);g84=6;break;}}};a.prototype.s5=function(){var K84,a,b,c,d,h,o14;K84=2;while(K84!==13){o14="bufferingCompl";o14+="e";o14+="te";switch(K84){case 2:a=this.La.oa.Ob;b=a.te(0);c=a.te(1);this.Fra();d=this.La.Ik?this.La.Za.kv[g.Na.VIDEO]:this.La.Za.kv[g.Na.AUDIO];K84=8;break;case 8:h=d.QK;a={type:o14,time:f.time.ea(),actualStartPts:h,aBufferLevelMs:a.lk(0),vBufferLevelMs:a.lk(1),selector:c?c.dH:b.dH,initBitrate:d.wo,skipbackBufferSizeBytes:this.La.ub.Aha};this.La.jf.yfb({initSelReason:d.Bo,initSelectionPredictedDelay:d.FA,buffCompleteReason:d.Fp,hashindsight:this.La.uo,hasasereport:!!this.La.Vr});k.Ha(this.La,a.type,a);K84=13;break;}}};C34=34;break;case 42:a.prototype.HEa=function(){var d84,a,L14;d84=2;while(d84!==9){L14="st";L14+="reame";L14+="rend";switch(d84){case 1:d84=!this.g4a&&this.La.J.EEa?5:9;break;case 2:d84=1;break;case 5:this.g4a=!0;a={type:L14,time:f.time.ea()};k.Ha(this.La,a.type,a);d84=9;break;}}};a.prototype.Ui=function(a){var W84,E14,e14;W84=2;while(W84!==5){E14=",";E14+=" ";e14="managerdebugev";e14+="e";e14+="nt";switch(W84){case 2:a={type:e14,message:"@"+f.time.ea()+E14+a};k.Ha(this.La,a.type,a);W84=5;break;}}};return a;break;case 30:a.prototype.a2a=function(){var j84,a,n14;j84=2;while(j84!==4){n14="ase";n14+="re";n14+="p";n14+="ortenabl";n14+="ed";switch(j84){case 9:a={type:""};j84=1;break;j84=5;break;case 5:k.Ha(this.La,a.type,a);j84=4;break;case 2:a={type:n14};j84=5;break;}}};a.prototype.k2a=function(a){var G84,b,c,f,d,h,m,g,n,p,t,l,q,r,X,U,ia,T,ma,O,oa,g14,N14,M14,b14,K14;G84=2;while(G84!==7){g14="hi";g14+="ndsightr";g14+="ep";g14+="ort";switch(G84){case 1:G84=a?5:7;break;case 2:G84=1;break;case 5:b={type:g14};c=this.La.J.yM;for(f in c){N14="h";N14+="vmaf";N14+="d";N14+="p";M14="h";M14+="vm";M14+="afgr";b14="h";b14+="vm";b14+="af";b14+="t";b14+="b";K14="ht";K14+="w";K14+="b";K14+="r";d=c[f];h=0;m=0;g=0;n=0;p=0;t=0;l=void 0;q=void 0;r=!1;X=-1;U=-1;ia=-1;T=-1;ma=-1;O=-1;for(oa in a)q=a[oa],void 0===q.nd&&(l=(l=q.sols)&&l[d])&&(r=!0,g+=l.dlvdur,h+=l.dltwbr*l.dlvdur,m+=l.dlvmaf*l.dlvdur),t+=q.pbdur,n+=q.pbtwbr*q.pbdur,p+=q.pbvmaf*q.pbdur,l=q.rr,q=q.ra;0<t&&(X=1*n/t,T=1*p/t);r&&(0<g&&(U=1*h/g,ma=1*m/g),0<g+t&&(ia=1*(h+n)/(g+t),O=1*(m+p)/(g+t)));switch(d){case K14:b.htwbr=ia;b.hptwbr=U;b.pbtwbr=X;l&&(b.rr=l,b.ra=q);break;case b14:b.hvmaftb=O;b.hpvmaftb=ma;b.pbvmaftb=T;l&&(b.rrvmaftb=l,b.ravmaftb=q);break;case M14:b.hvmafgr=O;b.hpvmafgr=ma;b.pbvmafgr=T;l&&(b.rrvmafgr=l,b.ravmafgr=q);break;case N14:b.hvmafdp=O,b.hpvmafdp=ma,b.pbvmafdp=T,l&&(b.rrvmafdp=l,b.ravmafdp=q);}}G84=9;break;case 9:this.La.bF&&(b.report=a);k.Ha(this.La,b.type,b);G84=7;break;}}};a.prototype.g2a=function(a){var k84,U14;k84=2;while(k84!==5){U14="e";U14+="nd";U14+="OfStre";U14+="am";switch(k84){case 2:a={type:U14,mediaType:a};k.Ha(this.La,a.type,a);k84=5;break;}}};a.prototype.hm=function(a){var T84,G14,j14;T84=2;while(T84!==1){G14="a";G14+="se";G14+="exce";G14+="ption";j14="as";j14+="eexcept";j14+="ion";switch(T84){case 2:this.La.emit(j14,{type:G14,msg:a});T84=1;break;}}};a.prototype.Krb=function(a,b,c,d){var B84,T14,k14;B84=2;while(B84!==5){T14="maxvideob";T14+="itratec";T14+="hange";T14+="d";k14="ma";k14+="xvide";k14+="obitratechanged";switch(B84){case 2:a={type:k14,time:f.time.ea(),spts:d,maxvb_old:a,maxvb:b,reason:c};this.La.emit(T14,a);B84=5;break;}}};C34=42;break;case 34:a.prototype.Fra=function(){var b84,a,b,c,f,d,h,m,B14;b84=2;while(b84!==19){B14="up";B14+="dateBuffer";B14+="Level";switch(b84){case 2:a=this.La.J;b84=5;break;case 5:b84=!this.La.Qe()?4:19;break;case 4:b=this.La.oa.Ob;c=b.lk(0);b84=9;break;case 12:b=h.Wz(b,1);c={type:B14,abuflbytes:m,vbuflbytes:b,totalabuflmsecs:c,totalvbuflmsecs:f,predictedFutureRebuffers:0,currentBandwidth:d};f>a.ODa&&this.La.ub.Me&&this.La.ub.Me.uK(!0,this.La.Rk.sessionId);k.Ha(this.La,c.type,c);b84=19;break;case 9:f=b.lk(1);this.La.jf.f5a(c,f);d=this.La.ub.sb.get();d=d.Ed?d.Fa.Ca:0;h=this.La.oa;m=h.Wz(b,0);b84=12;break;}}};a.prototype.G1a=function(a){var M84,c,d,k,r14,v14,h14,I14,W14,d14;M84=2;while(M84!==13){r14=", syste";r14+="mDelta:";r14+=" ";v14="memoryUsage";v14+=" a";v14+="t ";v14+="time:";v14+=" ";h14=",";h14+=" osAl";h14+="locatorDelta: ";I14=", jsHeapDe";I14+="l";I14+="ta:";I14+=" ";W14=", ";W14+="f";W14+="as";W14+="t";W14+="MallocDelta: ";d14="memo";d14+="ry";d14+="Usage a";d14+="t";d14+=" time: ";switch(M84){case 1:M84=!b.U(a)?5:13;break;case 5:b.ma(a.kP);M84=4;break;case 8:k=a.mFa-this.KD.mFa;(4194304<c||4194304<k)&&this.I.warn(d14+f.time.ea()+W14+c+I14+d+h14+k);M84=6;break;case 3:c=a.Hxa-this.KD.Hxa;d=a.TAa-this.KD.TAa;M84=8;break;case 14:this.KD=a;M84=13;break;case 2:M84=1;break;case 4:M84=!b.U(this.KD)?3:14;break;case 6:b.ma(a.kP)&&b.ma(this.KD.kP)&&(c=a.kP-this.KD.kP,4194304<c&&this.I.warn(v14+f.time.ea(),r14+c));M84=14;break;}}};a.prototype.C2a=function(){var N84,a,P14;N84=2;while(N84!==9){P14="s";P14+="tr";P14+="eamingstat";switch(N84){case 3:k.Ha(this.La,a.type,a);N84=9;break;case 2:this.La.J.Lob&&f.memory.oib(this.G1a.bind(this));a={type:P14,time:f.time.ea(),playbackTime:this.La.W.Vd()};this.La.jf.zfb(a);N84=3;break;}}};a.prototype.Era=function(){var U84,a,l14;U84=2;while(U84!==3){l14="ase";l14+="repor";l14+="t";switch(U84){case 1:U84=this.La.Vr?5:3;break;case 2:U84=1;break;case 5:a={type:l14};this.La.Vr.xfb(a)&&k.Ha(this.La,a.type,a);U84=3;break;}}};C34=30;break;}}function a(a,b){var p34,O14;p34=2;while(p34!==4){O14="1SIY";O14+="bZrNJ";O14+="Cp9";switch(p34){case 2:this.La=a;this.I=b;O14;p34=4;break;}}}}();c.fVa=d;},function(d,c,a){var b,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(169);h=a(21);g=a(21);p=a(16);d=function(){var D14;D14=2;function a(a,b,c,f){var f14,g6L;f14=2;while(f14!==8){g6L="1SI";g6L+="YbZ";g6L+="r";g6L+="NJ";g6L+="Cp9";switch(f14){case 4:this.pw=f;this.Ora=this.d6=!1;g6L;f14=8;break;case 2:this.nb=a;this.I=b;this.gb=c;f14=4;break;}}}while(D14!==6){switch(D14){case 8:a.prototype.Qe=function(){var A14;A14=2;while(A14!==1){switch(A14){case 4:return this.Ora&&this.nb.oa.aq;break;A14=1;break;case 2:return this.Ora||this.nb.oa.aq;break;}}};return a;break;case 5:a.prototype.suspend=function(){var s14;s14=2;while(s14!==1){switch(s14){case 4:this.d6=+2;s14=5;break;s14=1;break;case 2:this.d6=!0;s14=1;break;}}};a.prototype.resume=function(){var F14;F14=2;while(F14!==5){switch(F14){case 2:this.d6=!1;this.nb.Ue.bi();F14=5;break;}}};a.prototype.close=function(){var m14,a,q6L,k6L,n6L;m14=2;while(m14!==13){q6L="e";q6L+="nd";q6L+="p";q6L+="la";q6L+="y";k6L="log";k6L+="d";k6L+="at";k6L+="a";n6L="cl";n6L+="os";n6L+="e";switch(m14){case 5:this.Ora=!0;this.stop();this.nb.emit(n6L);this.nb.aE=!1;a.jxa&&(a=b.vv.Mf().kb())&&(a={type:k6L,target:q6L,fields:{bridgestat:a}},p.Ha(this.nb,a.type,a));this.nb.ub.Me&&this.nb.ub.Me.uK(!0,this.nb.Rk.sessionId,!0);this.nb.Ua.HEa();m14=14;break;case 14:this.nb.jHa();m14=13;break;case 2:a=this.nb.J;m14=5;break;}}};a.prototype.flush=function(){var y14,a,b,c,f,d,g,n,V14,N6L,v6L,V6L,U6L,z6L,Q6L,m6L,O6L,l6L,P6L,h6L;y14=2;while(y14!==25){N6L="e";N6L+="nd";N6L+="pla";N6L+="y";v6L="logd";v6L+="at";v6L+="a";V6L="thr";V6L+="oughput-s";V6L+="w";U6L="t";U6L+="hroug";U6L+="h";U6L+="pu";U6L+="t-sw";z6L="t";z6L+="h";z6L+="roughput";z6L+="-";z6L+="sw";Q6L="t";Q6L+="hrou";Q6L+="g";Q6L+="hput-s";Q6L+="w";m6L="en";m6L+="d";m6L+="pla";m6L+="y";O6L="lo";O6L+="gda";O6L+="t";O6L+="a";switch(y14){case 17:Object.keys(f).length&&(f={type:O6L,target:m6L,fields:f},p.Ha(this.nb,f.type,f));y14=16;break;case 9:d=c.get();g={};d&&d.avtp&&d.avtp.Ca&&(f.avtp=d.avtp.Ca,f.dltm=d.avtp.vV,g.avtp=f.avtp);d&&d.cdnavtp&&(f.cdnavtp=d.cdnavtp,f.activecdnavtp=d.activecdnavtp);c.flush();n=c.dza();c=c.Rsa;y14=11;break;case 16:b.LL&&(d&&d[Q6L]&&d[z6L].Ca&&this.nb.cp.t5a({avtp:d[U6L].Ca,variance:d[V6L].vh}),this.nb.cp.m5a(g,null===(a=d.avtp)||void 0===a?void 0:a.vV),a=this.nb.cp.Chb(),b=this.nb.cp.Ojb(),a&&(a.n=b,a={type:v6L,target:N6L,fields:{ibef:a}},p.Ha(this.nb,a.type,a),this.nb.cp.save()));y14=15;break;case 10:for(var l in n){l6L="n";l6L+="e";P6L="n";P6L+="e";h6L="n";h6L+="e";n.hasOwnProperty(l)&&(f[h6L+l]=Number(n[l]).toFixed(6),g[P6L+l]=1*f[l6L+l]);}y14=20;break;case 20:c&&c.length&&(f.activeRequests=JSON.stringify(c));this.nb.ud.O.HV(1)&&(f.enableHudson=!0);f.aseApiVersion=this.nb.cU;y14=17;break;case 2:b=this.nb.J;c=this.nb.ub.sb;y14=4;break;case 15:this.nb.Ua.Era();y14=27;break;case 11:y14=n?10:20;break;case 4:y14=c?3:15;break;case 3:f={};y14=9;break;case 27:y14=this.pw.uo?26:25;break;case 26:try{V14=2;while(V14!==1){switch(V14){case 2:this.nb.NV(h.na.YC);V14=1;break;}}}catch(G){var W6L;W6L="H";W6L+="ind";W6L+="sight: Error eva";W6L+="luating QoE at sto";W6L+="pping: ";T1zz.M6L(0);this.nb.Ua.hm(T1zz.x6L(W6L,G));}y14=25;break;}}};D14=8;break;case 2:a.prototype.play=function(){var C14,a,A6L,r6L;C14=2;while(C14!==4){A6L="p";A6L+="l";A6L+="a";A6L+="y";r6L="play called after pipel";r6L+="in";r6L+="es already shutdown";switch(C14){case 2:a=this;this.Qe()?this.I.warn(r6L):(this.nb.W.Xd(h.na.Jc),this.nb.W3a(),this.nb.Za.De.forEach(function(b){var p14,b6L;p14=2;while(p14!==1){b6L="pla";b6L+="y: not ";b6L+="resumin";b6L+="g bufferManager, aud";b6L+="io track switch in progress";switch(p14){case 2:a.gb(b.M)&&(b.NH?b.$a(b6L):(a.nb.kf[b.M].resume(),a.nb.Uq[b.M].resume()));p14=1;break;}}}),this.nb.jK(),this.nb.emit(A6L));C14=4;break;}}};a.prototype.stop=function(){var R14,a,b,c,f,i6L;R14=2;while(R14!==12){i6L="s";i6L+="t";i6L+="o";i6L+="p";switch(R14){case 8:b||c||this.nb.oa.Bk.X_(!1,this.nb.W);f=this.nb.oa.Ob;g.Df.forEach(function(a){var c14;c14=2;while(c14!==5){switch(c14){case 2:c14=(a=f.Ec(a))?1:5;break;case 1:a.Ag=!1;c14=5;break;case 9:a.Ag=-3;c14=6;break;c14=5;break;}}});g.Df.forEach(function(b){var x14;x14=2;while(x14!==1){switch(x14){case 2:(b=a.nb.kf[b])&&b.pause();x14=1;break;}}});R14=13;break;case 2:a=this;b=this.nb.W.ZBa();R14=4;break;case 13:this.nb.emit(i6L);R14=12;break;case 4:c=this.nb.W.Nf();this.nb.W.Xd(h.na.YC);this.nb.jS();R14=8;break;}}};D14=5;break;}}}();c.jTa=d;},function(d,c,a){var b,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);h=a(21);g=a(4);d=function(){var a6L;a6L=2;function a(a,b,c){var e6L,L9T;e6L=2;while(e6L!==9){L9T="1SIY";L9T+="bZrNJ";L9T+="C";L9T+="p9";switch(e6L){case 4:L9T;this.hqa=this.jz=void 0;e6L=9;break;case 2:this.za=a;this.I=b;this.gb=c;e6L=4;break;}}}while(a6L!==18){switch(a6L){case 11:a.prototype.$0a=function(a){var Y6L;Y6L=2;while(Y6L!==1){switch(Y6L){case 2:return this.za.oa.mf.reduce(function(b,c){var K6L;K6L=2;while(K6L!==1){switch(K6L){case 4:return b%c.Ajb(a);break;K6L=1;break;case 2:return b+c.Ajb(a);break;}}},0);break;}}};a.prototype.e9a=function(a){var s8L,c,f,d;s8L=2;while(s8L!==8){switch(s8L){case 2:c=this;f=this.za.oa;d=!0;b.Sd(a.ja.uj,function(b,k){var t8L,h,u9T,O9T;t8L=2;while(t8L!==6){u9T="i";u9T+="n de";u9T+="sts";u9T+=":";O9T="invali";O9T+="d";O9T+=" ";O9T+="se";O9T+="gment:";switch(t8L){case 1:t8L=(b=f.Hh(k))?5:7;break;case 5:k=b.O;b=k.bg[0];h=k.bg[1];t8L=9;break;case 7:a.$a(O9T,k,u9T,a.ja.uj);t8L=6;break;case 2:t8L=1;break;case 9:b&&h&&b.stream.yd&&h.stream.yd||(d=!1);c.za.W.Ar(k.u)||k.hi||(d=!1);t8L=6;break;}}});return d;break;}}};a.prototype.t4a=function(){var T8L,a,b,c;T8L=2;while(T8L!==9){switch(T8L){case 2:a=this.za.J;b=this.za.oa;c=b.Ob;T8L=3;break;case 3:this.za.W.ug()||b.fr(c,1)<a.vN||c.O.nda();T8L=9;break;}}};return a;break;case 12:a.prototype.Z_a=function(a,c){var o6L,f,d,k,n,p,l,q,G,M,r,o9T,W9T;o6L=2;while(o6L!==42){o9T="flo";o9T+="o";o9T+="red to 0";W9T="negative s";W9T+="cheduledB";W9T+="ufferLeve";W9T+="l:";switch(o6L){case 23:G=void 0;c&&(G=c.M,M=g.nk()[G],G=d.pEb?this.za.oa.aDa(n,G).Qh/M:r/M);o6L=21;break;case 12:return!1;break;case 43:return d.gxa&&a.Ja.Ru>=d.Npb||!n&&0<d.Ir&&1===k&&l>d.Ir||0<d.Iu&&!n&&l+(c?r:0)>d.Iu||void 0!==this.hqa&&q>this.hqa||1===k&&f.ue.rf&&q>d.yda&&(c=this.za.ub.sb.get(),c.Ed&&c.Fa&&c.Fa.Ca*a.FE>d.xda)?!1:!0;break;case 30:return!1;break;case 31:o6L=!b.U(d.Gr)&&G>=d.Gr||a.FE+p>=Math.max(d.Gu,this.za.ub.T_+d.yea*n.O.Ipb[k])?30:29;break;case 35:return!1;break;case 3:p=this.za.W.Vd();l=this.za.W.Vc();q=this.za.oa.fr(n,k);G=a.Fb+n.Nc-p;0>G&&(a.$a(W9T,G,o9T),G=0);M=c?c.Fb:0;o6L=13;break;case 33:return!1;break;case 24:return!1;break;case 21:o6L=void 0===G||G<d.Dpb?35:34;break;case 32:G=this.za.oa.QCb();o6L=31;break;case 19:f=this.za.ud.O;r=this.za.W.Ar(f.u)||f.hi;o6L=17;break;case 4:n=a.jY;o6L=3;break;case 44:return!1;break;case 25:o6L=this.za.ub.qca?24:23;break;case 28:o6L=(p=1,a.u7<d.Hu&&(p=d.Hu),a.Ja.Ru>=p)?44:43;break;case 34:o6L=this.$0a(k)>=d.YA?33:32;break;case 10:o6L=p>=d.Kx?20:19;break;case 29:o6L=(n=this.za.W.ug())?28:43;break;case 17:o6L=l===h.na.Jc&&q>d.Epb&&!f.ue.rf&&!f.hi&&!r||q&&p>Math.max(q*d.Ada/100,d.Wda)?16:15;break;case 15:l=this.za.oa.Wz(n,k);r=0;o6L=26;break;case 2:d=this.za.J;k=a.M;o6L=4;break;case 20:return!1;break;case 13:o6L=(null===(f=a.yg)||void 0===f?0:f.clb())?12:11;break;case 11:p=a.Ja.vZ;o6L=10;break;case 16:return!1;break;case 26:o6L=c&&(r=this.za.oa.Wz(n,c.M),M=a.Fb-M,this.gb(c.M)&&!c.Ag&&M>=d.Dda&&G>d.Mg)?25:34;break;}}};a6L=11;break;case 8:a.prototype.Dqa=function(a,b){var p6L,c,f,d,k,h,J9T;p6L=2;while(p6L!==11){J9T="Stil";J9T+="l in buffering sta";J9T+="te while pi";J9T+="peline's are ";J9T+="done";switch(p6L){case 3:k=!d||d.Ag;h=!f||f.Ag;p6L=8;break;case 2:c=a.ja;f=a.Ec(1);d=a.Ec(0);p6L=3;break;case 13:this.za.W.ug()&&(this.I.warn(J9T),this.za.Za.Qs());b||c.nv||a.O.ue.rf||!this.e9a(a)||((b=this.za.W.ug())&&this.za.J.W8&&(this.za.X5(),b=!1),a.hW||this.za.oa.slb(a,b),a.sE(),a.f9a()&&(b=Object.keys(a.children),this.za.J.BV&&1===b.length&&!a.children[b[0]].active&&this.za.oa.$Ca(a,b[0]),this.y0a(a,c)));p6L=11;break;case 7:p6L=!h||!k?6:13;break;case 6:p6L=(this.za.Ik&&this.Eqa(a,f,d),this.za.ho&&this.Eqa(a,d,f),k=!d||d.Ag,h=!f||f.Ag,!h||!k)?14:13;break;case 8:c.bZ||this.za.oa.Arb(a,c,a.O.ue.rf&&0===a.O.Wa);p6L=7;break;case 14:return;break;}}};a.prototype.y0a=function(a,c){var S6L,f,d,k,h,n,p,l,q,l9T;S6L=2;while(S6L!==22){l9T="No subbranch";l9T+=" candidates to dri";l9T+="ve";switch(S6L){case 26:a.w4=f.nl;S6L=25;break;case 12:f=p.reduce(function(a,b){var C6L,u8L;C6L=2;while(C6L!==4){switch(C6L){case 2:b.nl=b.bd.nl;b.NDa=Math.min(b.nl[0],b.nl[1]);T1zz.x9T(0);u8L=T1zz.A9T(14,3,15,9,1844);return[a[0]+b.weight,a[u8L]+b.NDa];break;}}},[0,0]);l=f[0];q=f[1];S6L=20;break;case 8:n=[];p=[];b.Sd(a.children,function(a,b){var c6L;c6L=2;while(c6L!==5){switch(c6L){case 2:b=c.uj[b].weight;0!==b&&(b={weight:b,bd:a},a.O7(!0,!0)||p.push(b),n.push(b));c6L=5;break;}}});0===p.length?p=n:2<p.length&&(p.sort(function(a,b){var d6L;d6L=2;while(d6L!==1){switch(d6L){case 2:return b.weight-a.weight;break;case 4:return b.weight/a.weight;break;d6L=1;break;}}}),p.length=2);S6L=13;break;case 3:Math.min(h[0]-a.w4[0],h[1]-a.w4[1])>=k.n9a?a.nD=void 0:(f=a.nD,d=c.uj[f.ja.id].weight);S6L=9;break;case 19:S6L=0===p.length?18:16;break;case 16:f=p[0].bd;d=p[0].weight;a.nD=f;S6L=26;break;case 9:S6L=!f?8:25;break;case 20:0!==l&&0!==q?(b.Sd(p,function(a){var B6L;B6L=2;while(B6L!==4){switch(B6L){case 2:a.lFb=a.weight/l;a.d8a=a.NDa/q;a.cLa=a.d8a-a.lFb;B6L=4;break;}}}),p.sort(function(a,b){var E6L;E6L=2;while(E6L!==1){switch(E6L){case 2:return a.cLa-b.cLa;break;case 4:return a.cLa+b.cLa;break;E6L=1;break;}}})):p.sort(function(a,b){var H6L;H6L=2;while(H6L!==4){switch(H6L){case 5:T1zz.x9T(1);return T1zz.V9T(a,b);break;case 2:a=Math.min.apply(null,a.bd.nl);b=Math.min.apply(null,b.bd.nl);H6L=5;break;}}});S6L=19;break;case 25:f.fd||(f.fd={BX:g.time.ea(),ey:0});f.fd.weight=d;this.Dqa(f,!0);S6L=22;break;case 4:h=a.nD.nl;S6L=3;break;case 13:S6L=1<p.length?12:19;break;case 5:S6L=this.za.ub.Hba&&a.nD&&a.w4?4:9;break;case 18:this.I.warn(l9T);return;break;case 2:k=this.za.J;S6L=5;break;}}};a.prototype.Eqa=function(a,c,d){var y6L,f,k,h,m,n,p,D9T,Z9T;y6L=2;while(y6L!==13){D9T="Still in buffering state w";D9T+="hi";D9T+="le";D9T+=" pipeline does not have vacancy";Z9T="drivePipeline, dela";Z9T+="ying audio until video actualSta";Z9T+="rtPts determined";switch(y6L){case 2:f=this.za.J;k=c.M;y6L=4;break;case 7:y6L=h.pm&&(void 0===c.oB||(c.MB(c.oB),void 0===c.oB))?6:13;break;case 3:h=this.za.Za.De[k];m=this.za.Za.kv[k];n=this.za.Za.Kr[k];y6L=7;break;case 6:p=this.za.ud;b.U(p.Rx)||(f.Wr&&0===k&&b.U(this.za.Za.De[1].Jl)?c.$a(Z9T):(b.U(c.uk)&&(c.uk=c.Zf?c.Zf.index:c.n$(c.Fb)),c.vg&&c.uk>c.vg.index?a.O.ue.rf&&b.U(p.ia)&&b.U(a.ia)||(c.Ag||this.za.rsa(c),a=this.za.ud.O.Wa,a<this.za.vF()-1&&this.za.NT(a+1)):this.nS(c)&&(f.xeb&&!this.za.W.ug()&&0>=c.ZA?c.KDb(f.fqb):this.Z_a(c,d)?(c.Nnb=g.time.ea(),d=this.za.Za.Saa(c),d=d.Tg,b.U(d)||(d=c.track.zc[d],this.Y_a(c,d)||((f=d.JW())?(c.Fnb=d.R,c.ipb(d,f,this.za.W.ug(),h.pm),this.YDb(d,n,m),a.fd&&++a.fd.ey):d.dC()))):this.za.W.ug()&&(c.pj(D9T),this.za.Za.Qs()))));y6L=13;break;case 4:y6L=!c.Ag?3:13;break;}}};a.prototype.YDb=function(a,c,d){var L6L;L6L=2;while(L6L!==4){switch(L6L){case 2:c.dY=a.qc;b.ma(d.wo)||(d.VDb(a.ap,a.FA||-1,a.R,a.Mga),b.U(a.Mga)||this.za.jf.CIa(a.Mga,a.pn,a.Zl));a.url&&(c.Mca=a.url);L6L=4;break;}}};a.prototype.Y_a=function(a,b){var I6L,c;I6L=2;while(I6L!==4){switch(I6L){case 2:c=this.za.Za.Kr[a.M];return this.za.Sra&&b.qc&&c.dY&&b.qc!==c.dY&&(0<a.Ja.Ru||0<a.Ja.ls)?!0:!1;break;}}};a6L=12;break;case 2:a.prototype.jS=function(){var F6L;F6L=2;while(F6L!==1){switch(F6L){case 2:this.jz&&(clearTimeout(this.jz),this.jz=void 0);F6L=1;break;}}};a.prototype.Fqa=function(){var j6L,a,b,c,d,f9T;j6L=2;while(j6L!==11){f9T="firstDriveS";f9T+="treamin";f9T+="g";switch(j6L){case 2:j6L=1;break;case 1:j6L=!this.za.bq.d6&&!this.za.Qe()?5:11;break;case 5:void 0===this.za.v0a&&(this.za.v0a=!0,this.za.Ua.Zj(f9T));a=this.za.oa;b=a.Ob.Ec(0);j6L=9;break;case 14:b&&!b.Kn||!c||this.za.ID||(this.za.ub.Me&&this.za.ub.Me.uK(!0,this.za.Rk.sessionId),this.za.Ua.HEa());this.Dqa(a.Ob);this.t4a();j6L=11;break;case 9:c=a.Ob.Ec(1);d=!c||c.Ag;(!b||b.Ag)&&d&&this.za.ID&&a.G9a(c?c.ia:b.ia);c=!c||c.Kn;j6L=14;break;}}};a.prototype.xsa=function(){var Z6L;Z6L=2;while(Z6L!==1){switch(Z6L){case 2:return this.za.Qe()||this.za.W.ZBa()||this.za.W.Nf()?!0:!1;break;}}};a.prototype.nS=function(a){var J6L;J6L=2;while(J6L!==1){switch(J6L){case 2:return this.xsa()||this.za.Za.De[a.M].NH||this.za.Tv.yw?!1:!0;break;}}};a.prototype.bi=function(){var X6L,a,b;X6L=2;while(X6L!==3){switch(X6L){case 2:a=this;b=this.za.J;!this.za.Sra||this.za.pT||this.za.aE||(this.za.pT=setTimeout(function(){var D6L;D6L=2;while(D6L!==4){switch(D6L){case 2:clearTimeout(a.za.pT);a.za.pT=void 0;a.Fqa();D6L=4;break;}}},b.Wea),b.aF&&this.za.Ik&&(this.jz||(this.jz=setTimeout(function(){var f6L,b;f6L=2;while(f6L!==9){switch(f6L){case 2:f6L=1;break;case 1:clearTimeout(a.jz);a.jz=void 0;b=a.za.oa.Ob.Ec(1);b&&a.Xpa(b);f6L=9;break;}}},b.c5a))));X6L=3;break;}}};a.prototype.Xpa=function(a,b){var R6L,c,f,d,k;R6L=2;while(R6L!==7){switch(R6L){case 3:R6L=f&&d?9:7;break;case 4:d=a.vq.SA;R6L=3;break;case 2:c=a.M;f=this.za.Za.Kr[c].RA;R6L=4;break;case 9:k=this.za.Za.De[c].pm;k&&(this.za.W.ug()||this.za.jf.b5a(c,k,f.R,d.R,a.olb.R,b));R6L=7;break;}}};a6L=8;break;}}}();c.cQa=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);h=a(164);d=function(){var F9T;function a(a,b,c){var X9T,C9T;X9T=2;while(X9T!==3){C9T="1S";C9T+="IYbZ";C9T+="rN";C9T+="JCp9";switch(X9T){case 2:this.al=a;this.I=b;this.Wf=c;C9T;X9T=3;break;}}}F9T=2;while(F9T!==8){switch(F9T){case 2:a.prototype.h0a=function(a,b){var h9T,c,f,d9T;h9T=2;while(h9T!==6){d9T="crea";d9T+="teDlTrac";d9T+="k";d9T+="sStar";d9T+="t";switch(h9T){case 2:c=this;f=this.al.J;h9T=4;break;case 4:0===this.zz&&this.al.Ua.Zj(d9T);this.zz+=a.length;a=a.map(function(a){var Y9T,d,Q9T,a9T,e9T,q9T;Y9T=2;while(Y9T!==7){Q9T="tran";Q9T+="spor";Q9T+="treport";a9T="e";a9T+="r";a9T+="r";a9T+="o";a9T+="r";e9T="ne";e9T+="twor";e9T+="kfaili";e9T+="ng";q9T="crea";q9T+="t";q9T+="ed";switch(Y9T){case 2:d=h.np.Mf.Qw(a,b.u,!0,b.tu(),c.al.Rk,f);d.el.on(d,q9T,function(){var s9T,B9T;s9T=2;while(s9T!==5){B9T="cre";B9T+="a";B9T+="te";B9T+="DlTracks";B9T+="End";switch(s9T){case 2:--c.zz;0===c.zz&&c.al.Ua.Zj(B9T);s9T=5;break;}}});d.el.on(d,e9T,function(){var T9T,a,c9T;T9T=2;while(T9T!==8){c9T="rep";c9T+="ortN";c9T+="etworkFailing: ";switch(T9T){case 2:f.Yf&&c.Wf.Ui(c9T+d);T9T=5;break;case 5:T9T=d.RV?4:8;break;case 4:a=c.al.ud.O;a.Fh&&a.Fh.So(d.i$,void 0,d.eh,d.Ti);a.gp();T9T=8;break;}}});d.el.on(d,a9T,function(){var z9T,I9T,g9T,U9T;z9T=2;while(z9T!==5){I9T="NFErr_M";I9T+="C_Strea";I9T+="min";I9T+="gFai";I9T+="lure";g9T="Do";g9T+="w";g9T+="nloadTrack fatal error";U9T="Do";U9T+="wnloadTrack";U9T+=" fatal error";switch(z9T){case 2:f.Yf&&c.Wf.Ui(U9T);c.al.zp(g9T,void 0,I9T,d.eh,0,d.Ti);z9T=5;break;}}});d.on(Q9T,function(a){var y9T,j9T;y9T=2;while(y9T!==1){j9T="tra";j9T+="ns";j9T+="portre";j9T+="port";switch(y9T){case 2:c.al.emit(j9T,a);y9T=1;break;case 4:c.al.emit("",a);y9T=8;break;y9T=1;break;}}});Y9T=8;break;case 8:return d;break;}}});h.np.Mf.qf();return a;break;}}};a.prototype.u0a=function(){var r9T,a,c;r9T=2;while(r9T!==8){switch(r9T){case 9:c.forEach(function(b){var M9T;M9T=2;while(M9T!==5){switch(M9T){case 2:b.Kp||--a.zz;h.np.Mf.pV(b);M9T=5;break;}}});r9T=8;break;case 2:a=this;c=[];this.al.Za.De.forEach(function(a){var t9T;t9T=2;while(t9T!==5){switch(t9T){case 2:b.U(a.pm)||c.push(a.pm);a.pm=void 0;t9T=5;break;}}});this.al.EJ&&(c.push(this.al.EJ),this.al.EJ=void 0);r9T=9;break;}}};a.prototype.p1a=function(){var n9T;n9T=2;while(n9T!==1){switch(n9T){case 4:this.zz=9;n9T=5;break;n9T=1;break;case 2:this.zz=0;n9T=1;break;}}};a.prototype.isa=function(a,b){var p9T,c,f;p9T=2;while(p9T!==3){switch(p9T){case 2:c=this.al.Za.De[a];f=c.pm;f&&(f=b.s6(a,f),this.t0a(a),c.pm=h.np.Mf.Qw(a,b.u,!0,b.tu(),this.al.Rk,this.al.J),b.mga(f));p9T=3;break;}}};F9T=3;break;case 3:a.prototype.t0a=function(a){var S9T,b;S9T=2;while(S9T!==8){switch(S9T){case 4:b.Kp||--this.zz;h.np.Mf.pV(b);a.pm=void 0;S9T=8;break;case 1:a=this.al.Za.De[a];b=a.pm;S9T=4;break;case 2:S9T=1;break;}}};return a;break;}}}();c.bQa=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(374);d=function(){var m9T;m9T=2;function a(a){var k9T,i5T;k9T=2;while(k9T!==5){i5T="1";i5T+="SI";i5T+="YbZrNJCp9";switch(k9T){case 2:this.I=a;i5T;k9T=5;break;}}}while(m9T!==3){switch(m9T){case 2:a.prototype.u_a=function(a,c){var N9T,f,x5T,A5T,V5T,v5T,K5T,P5T,E5T,b5T,G5T;N9T=2;while(N9T!==13){x5T="using ";x5T+="sab ce";x5T+="ll ";x5T+=">= 100, pipeli";x5T+="neEnabled: ";A5T="us";A5T+="ing sab cell ";A5T+=">= 200, pipeline";A5T+="Enable";A5T+="d: ";V5T=", allo";V5T+="w";V5T+="Switch";V5T+="back";v5T=", probeD";v5T+="etailDenominat";v5T+="or: ";K5T="using sab cell >";K5T+="= 300, probeS";K5T+="erverWhenError: ";P5T=", ";P5T+="allowSwitch";P5T+="ba";P5T+="ck";E5T=", probeD";E5T+="etailDenomin";E5T+="ator: ";b5T="using sab ce";b5T+="ll >=";b5T+=" 400, probe";b5T+="ServerWhenError: ";G5T="applying m";G5T+="anifest b";G5T+="a";G5T+="sed";G5T+=" streamingClientConfig";switch(N9T){case 3:return a=f.streamingClientConfig,this.I.trace(G5T+JSON.stringify(a)),this.Nra(c,a);break;case 2:c=b.yva(c,a);f=a.steeringAdditionalInfo;N9T=4;break;case 4:N9T=f&&f.streamingClientConfig&&Object.keys(f.streamingClientConfig).length?3:9;break;case 9:a=a.cdnResponseData;N9T=8;break;case 8:N9T=!a?7:6;break;case 7:return c;break;case 6:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(c.set?(c.set({probeServerWhenError:!0}),c.set({probeDetailDenominator:1}),c.set({allowSwitchback:!0})):(c.mq=!0,c.wB=1,c.zt=!0),this.I.trace(b5T+c.mq+E5T+c.wB+P5T+c.zt)):300<=a?(c.set?(c.set({probeServerWhenError:!0}),c.set({probeDetailDenominator:1}),c.set({allowSwitchback:!1})):(c.mq=!0,c.wB=1,c.zt=!1),this.I.trace(K5T+c.mq+v5T+c.wB+V5T+c.zt)):200<=a?(c.set?c.set({pipelineEnabled:!1}):c.Oo=!1,this.I.trace(A5T+c.Oo)):100<=a&&(c.set?(c.set({pipelineEnabled:!0}),c.set({maxParallelConnections:1}),c.set({maxActiveRequestsPerSession:c.uY}),c.set({maxPendingBufferLen:c.yY})):(c.Oo=!0,c.bG=1,c.Gr=c.uY,c.Kx=c.yY),this.I.trace(x5T+c.Oo)));return c;break;}}};a.prototype.w_a=function(a,b){var H5T;H5T=2;while(H5T!==9){switch(H5T){case 2:H5T=!b.r8||a===this.x1a?1:5;break;case 1:return b;break;case 5:this.x1a=a;for(var c in b.r8)new RegExp(c).test(a)&&(b=this.Nra(b,b.r8[c]));H5T=3;break;case 3:return b;break;}}};a.prototype.Nra=function(a,b){var w5T,c,d,h,R5T;w5T=2;while(w5T!==4){switch(w5T){case 2:for(d in b)if(b.hasOwnProperty(d)){R5T="I";R5T+="nval";R5T+="id key";h=b[d];a.set?0===a.set((c={},c[d]=h,c))&&this.I.trace(R5T+d):a[d]=h;}return a;break;}}};return a;break;}}}();c.xOa=d;},function(d,c,a){var b,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=a(389);h=a(84);g=a(369);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.mdb=function(b){var c;c=this;b.forEach(function(b){a.prototype.XX.call(c,{value:b});});};c.prototype.EBa=function(){return!0;};c.prototype.Eha=function(){};c.prototype.XX=function(b){a.prototype.XX.call(this,b);b.done&&(b=this.SD.YU,h.yb&&this.I.trace("Requests drained",{YOb:b&&b.ja.id}),(b=b&&b.te(this.Ie))&&b instanceof g.G2&&b.DE(this.kz.nza()||0));};return c;}(d.qja);c.bTa=a;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.qib=function(a){var b,c,d;b=Math.floor(1E6*Math.random());c=a.yba;d=a.yM;a=0===b%a.zba&&0<d.length;return{uo:a,bF:a&&0===b%c};};},function(d,c,a){var h;function b(a){this.ot=void 0;this.O1a=a;this.S5=[];this.pe=[];}a(6);a(14);h=a(30).MA;a(16);b.prototype.reset=function(a){this.ot=void 0;this.S5=[];a&&(this.pe=[]);};b.prototype.add=function(a,b){var c,d;c=b.filter(function(b,c){return h(b)||c===a.ld;});d=c.map(function(a){return a.R;});b=c.indexOf(b[a.ld]);this.ot&&(this.ot.length!==d.length||this.ot.some(function(a,b){return a!==d[b];}))&&(c=this.Qya())&&(this.pe.push(c),this.reset(!1));void 0===this.ot&&(this.ot=d);this.S5.push([b,a.BKa,a.Fb,a.g8a,a.tua,a.Nub,a.fsb,a.Yx,a.co,a.Mi,a.kCb-a.BKa]);};b.prototype.Heb=function(){for(var a=this.S5,b=[],c=[],d=0;d<a.length;d++){for(var h=a[d],g=[],u=0;u<h.length;u++)g.push(h[u]-(c[u]||0));b.push(g);c=h;}return b;};b.prototype.Qya=function(){var a;a=this.Heb();if(0!==a.length)return{dltype:this.O1a,bitrates:this.ot,seltrace:a};};b.prototype.get=function(){var a,b;a=this.Qya();b=this.pe;a&&b.push(a);if(0!==b.length)return b;};d.P=b;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(14);h=a(729);d=function(){function a(){this.FT=[];this.FT[b.Na.VIDEO]=new h(b.Na.VIDEO);this.FT[b.Na.AUDIO]=new h(b.Na.AUDIO);}a.prototype.I5a=function(a,b,c){this.FT[a].add(b,c);};a.prototype.Vjb=function(){var a;a=[];this.FT.forEach(function(b){var c;if(b){c=b.get();c&&0<c.length&&c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.xfb=function(a){var b;b=this.Vjb();a.strmsel=b;return 0<b.length;};return a;}();c.PXa=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a){this.ai={};this.m5=a;this.Te=[];this.bo=!1;this.Dz=void 0;}a.prototype.ZT=function(a){this.Te.length===this.m5&&this.Te.shift();Array.isArray(a)?this.Te=this.Te.concat(a):this.Te.push(a);this.bo=!0;};a.prototype.yF=function(){return this.Te.length;};a.prototype.D7=function(){var a;a=this.Te;return 0<a.length?a.reduce(function(a,b){return a+b;},0)/this.Te.length:void 0;};a.prototype.zU=function(){var a,c;a=this.Te;c=this.D7();if(0<a.length&&"undefined"!==typeof c)return a=a.reduce(function(a,b){return a+b*b;},0)/a.length,Math.sqrt(a-c*c);};a.prototype.gr=function(a){var b,c,d;if(this.bo||void 0===this.Dz)this.Dz=this.Te.slice(0).sort(function(a,b){return a-b;}),this.bo=!1;if(void 0===this.ai[a]){b=this.Dz;c=Math.floor(a/100*(b.length-1)+1)-1;d=(a/100*(b.length-1)+1)%1;this.ai[a]=c===b.length-1?b[c]:b[c]+d*(b[c+1]-b[c]);}return this.ai[a];};return a;}();c.r3=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a,c,d){this.m4a=c;this.E_a=d;this.I=a;}a.prototype.kfa=function(a){a=this.imb(a,this.m4a)+this.E_a;return this.H5=isNaN(a)?NaN:this.sha(a);};a.prototype.v9a=function(a){return isNaN(this.H5)?0:this.H5>a?1:0;};a.prototype.imb=function(a,c){var b;b=0;if(a.length!==c.length)b=NaN;else for(var d=0;d<a.length;d++)b+=a[d]*c[d];return b;};a.prototype.sha=function(a){return 1/(1+Math.exp(-a));};return a;}();c.zTa=d;},function(d,c,a){var p,f;function b(a,b,c){var f,d;a=Math.max(0,a);f=[];c.forEach(function(a){f.push(a[b].ba);});c=f.filter(function(b){return b<=a;});if(0<c.length)c=c[c.length-1],d=f.lastIndexOf(c);else throw Error("selectStream infeasible");return{$o:c,ld:d};}function h(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function g(a,b,c,d,h){var k,g,m,n,p,t;k=a.sh;g=c+k.S;c=a.Hk[k.GM];a=a.q7;m={IP:!0,waitUntil:void 0,MM:!1};n=c.filter(function(a){return a&&a.S<=g&&a.S+a.duration>g;})[0];if(void 0===n)return{MM:!0};p=h-1-(n.index-1);d=k.KP+d;t=0;t=n.index<k.uh?t+c.slice(k.jv,n.index).reduce(function(a,b){return a+b.ba;},0):t+k.KP;t=t+b.slice(k.uh,n.index).reduce(function(a,b){return a+b.$o;},0);d-=t;if(p>=a.kN||d>=a.JH)for(m.IP=!1,n=n.index;n<h&&(p>=a.kN||d>=a.JH);)f.update("checkBufferVacancy loop"),m.waitUntil=c[n].S+c[n].duration-k.S,d=n<k.uh?d-c[n].ba:d-b[n].$o,--p,n+=1;return m;}p=a(7).assert;f=a(110).yoa||a(110);d.P={uM:function(a){var c,r,P,W,Y,S,A,X,U,ia,T,ma,O,oa;f.J_("htwbr-"+(a.HO?"segvmaf":"dlvmaf")+": ");for(var d=a.sh,k=a.Sl,n=k.bl,l=a.Hk,q=!0,z=[],G,M=n=Math.min(k.Hr,n);M>=d.uh;M--){f.update("backward step");c=a.Hk[0][M].S-a.sh.S;M<n&&(c=Math.min(z[M+1].startTime,c));k=l[0][M].ba;G=d.Aw*l[0][M].duration*1/8;a:{r=void 0;S=k+G;G=a.yq;A=d.Qo;X=G.trace;U=1*G.Ml;P=c+A-G.timestamp;W=Math.floor(1*P/U);Y=0+(P-W*U)/U*h(X,W,U);if(Y>=S)r=P-1*S/Y*(P-W*U);else for(P=W;Y<S;){f.update("findDownloadStartTime loop");--P;if(0>P){r=-1;break a;}W=h(X,P,U);if(Y+W>=S){r=1*(S-Y)/W*U;r=(P+1)*U-r;break;}Y+=W;}r=r+G.timestamp-A;}if(0>r){q=!1;break;}z[M]={startTime:r,endTime:c,aV:c,$o:k,ld:0};}c={ni:q,$r:z,Do:!1,Qx:0===z.length};if(!1===c.ni||!0===c.Qx)return c;a:{d=a.sh;n=a.Sl;l=n.bl;q=a.Hk;k=z=0;c=c.$r;r=M=0;l=Math.min(n.Hr,l);for(A=d.uh;A<=l;A++){f.update("forwardStep loop");Y=c[A];S=Y.ld;G=q[S][A].duration;U=A===d.uh?0:c[A-1].endTime;S=g(a,c,U,z,A);if(S.MM){c={ni:!1,Do:!0};break a;}S.IP||(U=S.waitUntil);W=Y.aV;T=a.yq;ia=d.Qo;Y=0;S=T.trace;X=1*T.Ml;P=U+ia-T.timestamp;T=W+ia-T.timestamp;if(!(U>=W)){p(0<=P);p(0<=T);p(T>=P);ma=Math.floor(1*P/X);O=1*T/X;if(ma===Math.floor(O))P=(T-P)/X*h(S,ma,X),p(0<=P),Y+=P;else for(O=Math.ceil(O),ia=ma,W=O,ma*X<P&&(ia++,P=(ia*X-P)/X*h(S,ma,X),p(0<=P),Y+=P),O*X>T&&(W--,P=(T-W*X)/X*h(S,W,X),p(0<=P),Y+=P),P=ia;P<W;P++)Y+=h(S,P,X);}X=d.Aw*G*1/8;k+=X;S=b(Math.max(0,Y-X),A,q);if(void 0===S){c={ni:!1,Do:!0};break a;}Y=S.$o;S=S.ld;X=Y+X;ia=a.yq;W=P=0;T=ia.trace;ma=Math.max(0,U+d.Qo-ia.timestamp);ia=1*ia.Ml;oa=O=Math.max(0,Math.floor(1*ma/ ia));for(oa*ia<ma&&(O+=1,ma=oa*ia+ia-ma,oa=ma/ ia*h(T,oa,ia),P=X-W<oa?P+(X-W)/oa*1*ma:P+ma,W+=oa);W<X;)f.update("getDownloadTime"),ma=h(T,O,ia),P=X-W<ma?P+(X-W)/ma*1*ia:P+ia,W+=ma,O+=1;X=P;c[A].startTime=U;c[A].endTime=U+X;c[A].$o=Y;c[A].ld=S;A<=n.bl&&(z+=Y,r+=G,M+=G*a.zc[S].R);}c={ni:!0,Do:!1,$r:c,udb:0<r?1*M/r:0,r9:r,q9:z,p9:k};}c.fq=f.zaa();console.log("Max heap used: "+Math.round(c.fq/1024/1024)+" MB");return c;}};},function(d,c,a){var q,D,z,G;function b(a,b,c){this.hua=this.b0a(a,b,c);}function h(){}function g(){}function p(){}function f(a){this.p9a=a;}function k(){}function m(){}function t(){}function u(){this.m9={};}function l(a){return Array.apply(0,Array(a)).map(function(a,b){return b+1;});}q=a(7).assert;c=a(209).Fja;D=a(367).jZa;z=a(209).wNa;new(a(4)).Console("ASEJS_QOE_EVAL","media|asejs");G=a(110).yoa||a(110);b.prototype.constructor=b;b.prototype.b0a=function(a,b,c){q(a<b,"expect min_buffer_sec < max_buffer_sec but got "+a+" and "+b);q(0<c,"expect buffer_step_sec > 0. but got "+c);for(var f=[];a<b;a+=c)f.push(a);f[f.length-1]<b&&f.push(b);return f;};b.prototype.rx=function(a){return this.b1a(a,this.hua);};b.prototype.b1a=function(a,b){a=this.jdb(a,b);if(0===a)throw new h();if(a===b.length)throw new g();return a;};b.prototype.jdb=function(a,b){q(0<b.length,"expect bins.length > 0 but got "+b.length);if(a<b[0])return 0;if(a>=b[b.length-1])return b.length;for(var c=1;c<b.length;c++)if(b[c-1]<=a&&a<b[c])return c;q(!1,"expect not coming here in digitize()");};b.prototype.$W=function(){return l(this.hua.length-1);};h.prototype=Error();g.prototype=Error();p.prototype=Error();f.prototype.constructor=f;f.prototype.VERSION="0.5";f.prototype.VOa=-20;f.prototype.UOa=20;f.prototype.TOa=void 0;f.prototype.NOa=new c(void 0);f.prototype.POa=0;f.prototype.OOa=1;f.prototype.YOa=!1;f.prototype.ROa=!0;f.prototype.QOa=!0;f.prototype.WOa=void 0;f.prototype.LOa=!0;f.prototype.MOa=0;f.prototype.XG=function(a){q(void 0!==a.ZJa,"expect recipe.time_varying_bandwidth !== undefined");return this.J3a(this.p9a,a.ZJa,void 0!==a.SDa?a.SDa:this.VOa,void 0!==a.ADa?a.ADa:this.UOa,void 0!==a.zDa?a.zDa:this.TOa,void 0!==a.eua?a.eua:this.NOa,void 0!==a.nxa?a.nxa:this.POa,void 0!==a.rua?a.rua:this.OOa,void 0!==a.LAb?a.LAb:this.YOa,void 0!==a.Dkb?a.Dkb:this.ROa,void 0!==a.vAa?a.vAa:this.QOa,void 0!==a.xGa?a.xGa:this.WOa,void 0!==a.sta?a.sta:this.LOa,void 0!==a.Vta?a.Vta:this.MOa);};f.prototype.J3a=function(a,c,f,d,n,l,y,E,r,ia,T,ma,O,oa){var P,N,A,W,Y,S,X,Q,fa,ga,ca,ha,ka,na,pa,qa,ra,sa,ua,va;function M(a){return a[S];}G.J_("dp: ");q(f<=l.ig,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");q(l.ig<=d,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");q(f<=y,"expect min_buffer_sec <= end_buffer_sec");q(y<=d,"expect end_buffer_sec <= max_buffer_sec");void 0!==n&&q(l.Oj<=n,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+l.Oj+" and "+n);P=new b(f,d,E);E=new u();N=0;A=l;E.put([0,P.rx(l.ig)],[N,A,void 0,void 0,c,void 0,void 0,void 0]);W=A=0;c=a.ykb();q(a.DF()==c.length,"expect chunk_map.get_n_epoch() == durations_sec.length");S=-1;for(X in c){for(var S=S+1,U=!0,B=a.Li.map(M),H=P.$W(),L=0;L<H.length;L++){Q=H[L];if(E.yca([S,Q])){Y=E.get([S,Q]);for(var V=Y[0],Z=Y[1],da=Y[4],ea=0;ea<B.length;ea++){c=B[ea];G.update("epoch-ibuf-chunk loop");l=void 0!==ma?ma(c.hO):c.hO;fa=da.oo();try{Y=this.H0a(Z,c,fa,oa);ga=Y[0];ca=Y[1];ha=Y[2];ka=Y[3];na=Y[4];pa=Y[5];}catch($a){if($a instanceof D)continue;else if($a instanceof h){A+=1;continue;}else throw $a;}qa=N=!1;try{ra=P.rx(ka.ig);ia&&P.rx(ga);T&&P.rx(ca);if(void 0!==n)if(T){if(ha.Oj>n)throw new p();}else if(ka.Oj>n)throw new p();}catch($a){if($a instanceof h)ra=void 0,A+=1;else if($a instanceof g)O?N=!0:W+=1,ra=void 0;else if($a instanceof p)O?qa=N=!0:W+=1,ra=void 0;else throw $a;}try{if(N&&qa){q(void 0!==n,"expect max_buffer_kb !== undefined");ua=T?ha.Oj-n:ka.Oj-n;q(0<=ua,"pause dlnd kb cannot be -ve but is "+ua);try{sa=ka.jub(ua);}catch($a){if($a instanceof z)throw new h();throw $a;}fa.AFa(sa);na+=sa;q(ka.ig<d,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");ra=P.rx(ka.ig);}else if(N&&!qa){sa=T?ha.ig-d+1E-8:ka.ig-d+1E-8;q(0<=sa,"pause dlnd kb cannot be -ve but is "+sa);try{ka.MFa(sa);}catch($a){if($a instanceof z)throw new h();throw $a;}fa.AFa(sa);na+=sa;q(f<=ka.ig,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");q(ka.ig<d,"cur_buffer_queue.total_remain_sec < max_buffer_sec");ra=P.rx(ka.ig);}else sa=0;}catch($a){if($a instanceof h)ra=void 0,A+=1,sa=void 0;else if($a instanceof D)continue;else throw $a;}N=E.yca([S+1,ra])?E.get([S+1,ra])[0]:-Infinity;this.F4a(ka,ra,c,l,Q,S+1,N,E,V,ea,fa,na,pa,sa)&&(U=!1);}}}if(U){--S;break;}}try{va=this.Pqa(S+1,P.rx(y),E,r,P);}catch($a){if($a instanceof k)try{va=this.Pqa(S+1,P.rx(y),E,!r,P);}catch(He){if(He instanceof k){if(A>W)throw new m();throw new t();}throw He;}else throw $a;}Q=va;for(f=[];-1<S;S--)Y=E.get([S+1,Q]),N=Y[0],A=Y[1],d=Y[3],n=Y[5],y=Y[6],r=Y[7],Y=Y[2],c=a.Li[Y][S],ia=c.mu(),l=c.hO,f.unshift({bBa:S,Jba:Y,info:{fPb:ia,hO:l,nPb:A.ig,mPb:A.Oj,TQb:n,Fa:y,tUb:r}}),Q=d;return f;};f.prototype.Pqa=function(a,b,c,f,d){var h,g;h=!1;g=d.$W()[0];for(d=d.$W()[d.$W().length-1];;){if(b<g||b>d){h=!0;break;}if(c.yca([a,b]))break;else b=f?b-1:b+1;}if(h)throw new k();return b;};f.prototype.F4a=function(a,b,c,f,d,k,h,g,m,n,p,t,u,l){c=m+f*c.Yo;return void 0!==b&&c>h?(g.put([k,b],[c,a,n,d,p,t,u,l]),!0):!1;};f.prototype.H0a=function(a,b,c,f){var d,k,g;f=(b.mu()+f)*b.Yo;c=c.Fdb(f);f/=c;d=a.ig-c;k=a.ig+b.Yo;g=a.oo();g.add(b,void 0);a=a.oo();a.add(b,void 0);try{a.MFa(c);}catch(X){if(X instanceof z)throw new h();throw X;}return[d,k,g,a,c,f];};k.prototype=Error();m.prototype=new k();t.prototype=new k();u.prototype={Aia:function(a){return a.join(",");},put:function(a,b){this.m9[this.Aia(a)]=b;},get:function(a){return this.m9[this.Aia(a)];},yca:function(a){return this.Aia(a)in this.m9;}};d.P={lQa:f,kHb:b,wGb:h,xGb:g};},function(d,c,a){var z,G,M,r,P,W,Y,S,A,X;function b(a){var b,c,f;c=a.yq;b=a.sh;f=a.Sl.ia-b.S;c.timestamp>b.Qo&&A.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+c.timestamp+" and "+b.Qo);a=[];for(var d,k=c.timestamp,h=0;h<c.trace.length;h++)k>=b.Qo&&(a.push(c.trace[h]),d=c.trace[h]),k+=c.Ml,f-=c.Ml;for(;0<f;)a.push(d),f-=c.Ml;b=c.Ml;c=a.length;if(0===c)c=[];else{for(b=[b/1E3];2*b.length<=c;)b=b.concat(b);b.length<c&&(b=b.concat(b.slice(0,c-b.length)));c=b;}return new P(a,c,!1);}function h(a,b){return a.WA<b.WA?1:a.WA>b.WA?-1:0;}function g(a){for(var b=a.sh,c=a.Sl,f=c.bl,d=a.Hk,k=!0,h,g=[],m,n=f=Math.min(c.Hr,f);n>=b.uh;n--){X.update("backward step loop");h=a.Hk[0][n].S-a.sh.S;n<f&&(z(void 0!==g[n+1],"expect solution[(fragIndex + 1)] !== undefined"),h=Math.min(g[n+1].startTime,h));c=d[0][n].ba;m=b.Aw*d[0][n].duration*1/8;m=q(c+m,h,a.yq,b.Qo);if(0>m){k=!1;break;}g[n]={startTime:m,endTime:h,aV:h,$o:c,ld:0};}return{ni:k,$r:g,Do:!1,Qx:0===g.length?!0:!1};}function p(a,b){var r,P,A,N,W,Y;for(var c=a.sh,f=a.Sl,d=f.bl,k=a.Hk,h=0,g=0,m=b.$r,n,p,t,y=0,q=0,E,G,d=Math.min(f.Hr,d),M=c.uh;M<=d;M++){X.update("forward step loop");t=m[M];b=t.ld;E=k[b][M].duration;G=M===c.uh?0:m[M-1].endTime;n=0;b=D(a,m,G,h,M);if(b.MM)return{ni:!1,Do:!0};b.IP||(n=b.waitUntil-G,G=b.waitUntil);z(0<=n,"expect waittime >= 0 but got "+n);P=a.yq;A=c.Qo;n=0;b=P.trace;p=1*P.Ml;r=G+A-P.timestamp;A=t.aV+A-P.timestamp;z(0<=r,"invalid downloadStartTime");z(A>=r,"invalid downloadEndTime");N=Math.max(0,Math.floor(1*r/p));W=1*A/p;if(N===Math.floor(W))r=(A-r)/p*l(b,N,p),z(0<=r,"negative delta same bucket"),n+=r;else for(W=Math.ceil(W),P=N,t=W,N*p<r&&(P++,r=(P*p-r)/p*l(b,N,p),z(0<=r,"negative delta (2)"),n+=r),W*p>A&&(t--,r=(A-t*p)/p*l(b,t,p),z(0<=r,"negative delta (3)"),n+=r),r=P;r<t;r++)n+=l(b,r,p);p=c.Aw*E*1/8;g+=p;b=u(n-p,M,k);if(void 0===b)return{ni:!1,Do:!0};n=b.$o;b=b.ld;p=n+p;A=a.yq;t=r=0;P=A.trace;N=Math.max(0,G+c.Qo-A.timestamp);A=1*A.Ml;Y=W=Math.max(0,Math.floor(1*N/A));for(Y*A<N&&(W+=1,N=Y*A+A-N,Y=N/A*l(P,Y,A),r=p-t<Y?r+(p-t)/Y*1*N:r+N,t+=Y);t<p;)X.update("getDownloadTime"),N=l(P,W,A),r=p-t<N?r+(p-t)/N*1*A:r+A,t+=N,W+=1;p=r;m[M].startTime=G;m[M].endTime=G+p;m[M].$o=n;m[M].ld=b;M<=f.bl&&(h+=n,q+=E,y=void 0!=k[b][M].uc?y+E*k[b][M].uc:y+E*a.zc[b].uc);}return{ni:!0,Do:!1,$r:m,Hwa:0<q?1*y/q:0,r9:q,q9:h,p9:g};}function f(a){a=a.sh.Y;for(var b=[],c,f=0;f<a.length;f++)X.update("get prebuffered chunks loop"),c=a[f],z(void 0!==c.uc,"expect frag.vmaf !== undefined"),c=new G(c.ba,c.duration/1E3,c.uc),b.push(c);return b;}function k(a){for(var b=a.Hk,c=a.sh,f=a.Sl,d=f.bl,k=a.zc,h=[],g,d=Math.min(f.Hr,d),m=0;m<b.length;m++){for(var f=[],n=c.uh;n<=d;n++)X.update("get chunk map from play segment"),g=b[m][n],g=new G(g.ba,g.duration/1E3,a.HO&&void 0!==g.uc?g.uc:k[m].uc),f.push(g);h.push(f);}return new M(h,!1);}function m(a,b){z(a.DF()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,f=0,d,k,h=0;h<b.length;h++)X.update("calculate twvmaf"),z(b[h].bBa===h,"expect stream_choices[idx].i_epoch === idx"),k=a.Li[b[h].Jba][h],d=k.hO,k=k.Yo,c+=d*k,f+=k;return{Hwa:c/f,r9:1E3*f};}function t(a,b,c){var f,d;z(a.DF()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");f=0;d=0;c=c.sh.Aw;for(var k,h=0;h<b.length;h++)X.update("calculate Bytes"),z(b[h].bBa===h,"expect stream_choices[idx].i_epoch === idx"),k=a.Li[b[h].Jba][h],f+=k.ba,d+=c*k.Yo*1E3/8;return{q9:f,p9:d};}function u(a,b,c){var f,d;a=Math.max(0,a);f=[];c.forEach(function(a){f.push(a[b].ba);});c=f.filter(function(b){return b<=a;});if(0<c.length)c=c[c.length-1],d=f.lastIndexOf(c);else throw Error("selectStream infeasible");return{$o:c,ld:d};}function l(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function q(a,b,c,f){var d,k,h,g,m;d=c.trace;k=1*c.Ml;m=b+f-c.timestamp;g=Math.floor(1*m/k);b=0+(m-g*k)/k*l(d,g,k);if(b>=a)h=m-1*a/b*(m-g*k);else for(m=g;b<a;){X.update("find download start time");--m;if(0>m)return-1;g=l(d,m,k);if(b+g>=a){a=1*(a-b)/g*k;h=(m+1)*k-a;break;}b+=g;}return h+c.timestamp-f;}function D(a,b,c,f,d){var k,h,g,m,n,p;k=a.sh;h=c+k.S;c=a.Hk[k.GM];a=a.q7;g={IP:!0,waitUntil:void 0,MM:!1};m=c.filter(function(a){return a&&a.S<=h&&a.S+a.duration>h;})[0];if(void 0===m)return{MM:!0};n=d-1-(m.index-1);f=k.KP+f;p=0;p=m.index<k.uh?p+c.slice(k.jv,m.index).reduce(function(a,b){return a+b.ba;},0):p+k.KP;p=p+b.slice(k.uh,m.index).reduce(function(a,b){return a+b.$o;},0);f-=p;if(n>=a.kN||f>=a.JH)for(g.IP=!1,m=m.index;m<d&&(n>=a.kN||f>=a.JH);)X.update("check buffer vacancy"),g.waitUntil=c[m].S+c[m].duration-k.S,f=m<k.uh?f-c[m].ba:f-b[m].$o,--n,m+=1;g.tua=f;g.oPb=n;return g;}z=a(7).assert;G=a(368).nOa;M=a(368).oOa;r=a(734).lQa;P=a(367).iZa;W=a(209).Fja;Y=a(378).Wma;S=a(59);A=new(a(4)).Console("ASEJS_QOE_EVAL","media|asejs");X=a(110).yoa||a(110);d.P={Tnb:function(a){var b;b=g(a);return!1===b.ni||!0===b.Qx?b:p(a,b);},uM:function(a){var b,c,f,d,k,m,n,t,u,l,y,E,G,D,r,P;A.debug("greedy DEBUG false");X.J_("greedy-"+(a.HO?"segvmaf":"dlvmaf")+": ");c=a.Hk;b=a.Hk;f=a.sh;d=a.Sl;k=d.bl;m=a.zc;k=Math.min(d.Hr,k);for(E=f.uh;E<=k;E++){b[0][E].Vz=b[0][E].ba;for(y=1;y<b.length;y++)b[y][E].Vz=b[y][E].ba,b[y-1][E].Vz===b[y][E].Vz&&(b[y][E].Vz=b[y-1][E].Vz+1);y=0;f=b[y][E];f.WA=Infinity;f.Tg=y;for(y=1;y<b.length;y++)f=b[y][E],d=b[y-1][E],n=8*f.Vz/f.duration,t=8*d.Vz/d.duration,a.HO&&void 0!==f.uc?(u=f.uc,l=d.uc):(u=m[y].uc,l=m[y-1].uc),f.WA=(u-l)/(n-t),f.Tg=y,z(void 0!==d.WA&&!isNaN(d.WA),"expect fragPrev.margUtil !== undefined && !isNaN(fragPrev.margUtil)");}b=g(a);if(!1===b.ni||!0===b.Qx)return b;k=a.Hk;f=a.sh;d=a.Sl;m=d.bl;m=Math.min(d.Hr,m);d=[];for(f=f.uh;f<=m;f++)d.push(k[1][f]);for(k=new Y(d,h);0<k.length;){X.update("upgrade frags");m=k.pop();f=a;d=b;n=m;t=f.Hk;u=f.sh;r=f.Sl;l=r.bl;y=!0;E=JSON.parse(JSON.stringify(d.$r));void 0!==n.Tg&&z(E[n.index].ld+1===n.Tg,"expect solution[targetFrag.index].selectedStreamIndex + 1 === targetFrag.streamIndex");l=Math.min(r.Hr,l);for(var M=n.index;M>=u.uh;M--){P=M===n.index?E[M].ld+1:E[M].ld;r=f.Hk[P][M].S-f.sh.S;if(M<l)if(z(void 0!==E[M+1],"expect solution[(fragIndex + 1)] !== undefined"),D=E[M+1].startTime,D<r)r=D;else if(M!==n.index)break;D=t[P][M].ba;G=u.Aw*t[P][M].duration*1/8;G=q(D+G,r,f.yq,u.Qo);if(0>G){y=!1;break;}E[M]={startTime:G,endTime:r,aV:r,$o:D,ld:P};}f={ni:y,$r:E,Qx:d.Qx};!0===f.ni&&(b=f,m.Tg+1<c.length&&k.push(c[m.Tg+1][m.index]));}b=p(a,b);b.fq=X.zaa();A.debug("Max heap used: "+Math.round(b.fq/1024/1024)+" MB");return b;},dp:function(a){var c,d,h,n,p,u;X.J_("dp-"+(a.HO?"segvmaf":"dlvmaf")+": ");c=g(a);if(!1===c.ni||!0===c.Qx)return c;d=k(a);h=new r(d);n=f(a);n={ZJa:b(a),Vta:a.sh.Aw,SDa:0,ADa:240,zDa:8*a.q7.JH/1E3,rua:.5,eua:new W(n),nxa:0,YRb:void 0,vAa:void 0,xGa:void 0,sta:!0};h=h.XG(n);n=m(d,h);d=t(d,h,a);p=[];u=a.sh.uh;h.forEach(function(a){p[u]={ld:a.Jba};u++;});S(n,c);S(d,c);c.$r=p;c.fq=X.zaa();A.debug("Max heap used: "+Math.round(c.fq/1024/1024)+" MB");return c;}};},function(d,c,a){var g,p;function b(){}function h(a,b){return function(c){c.HO=b;return a(c);};}g=a(735);p=a(733);b.prototype.constructor=b;b.prototype.create=function(a){switch(a){case"htwbr":a=p.uM;break;case"hvmaftb":a=g.Tnb;break;case"hvmafgr":a=g.uM;break;case"hvmafdp":a=g.dp;break;case"hvmafgr-dlvmaf":a=h(g.uM,!1);break;case"hvmafgr-segvmaf":a=h(g.uM,!0);break;case"hvmafdp-dlvmaf":a=h(g.dp,!1);break;case"hvmafdp-segvmaf":a=h(g.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return a;};d.P=b;},function(d,c,a){var h,g;function b(a,b,c,d){this.Ya=a;this.I=b;this.Md=this.I.error.bind(this.I);this.$a=this.I.warn.bind(this.I);this.pj=this.I.trace.bind(this.I);this.qb=this.I.log.bind(this.I);this.r_a=new g();this.J=d;this.bT=[];this.BT=void 0;a=d.pX;h.call(this,a.numB*a.bSizeMs,a.bSizeMs);this.V4=!0;}a(14);c=a(4);h=a(168);a(376);g=a(736);new c.Console("ASEJS_QOE_EVAL","media|asejs");b.prototype=Object.create(h.prototype);b.prototype.add=function(a,b,c){this.BT||(this.BT=b);h.prototype.add.call(this,a,b,c);};b.prototype.lhb=function(){var a;if(0!==this.bT.length){a=[];this.bT.forEach(function(b){b&&b.mE&&a.push(b.ju());});return a;}};b.prototype.xc=function(){this.bT=[];};b.prototype.dkb=function(){var a,b,c;a=this.get(this.J.pX.fillS);if(0===a[0]||null===a[0]){a.some(function(a,f){if(a)return b=a,c=f,!0;});if(b)for(var d=0;d<c;d++)a[d]=b;}a={trace:a,timestamp:this.BT,Ml:this.Kc};this.V4=!1;h.prototype.reset.call(this);this.V4=!0;this.BT=void 0;return a;};b.prototype.X9=function(a){var b,c,d,h,g,n;if(a&&!a.mE){c=a.Sl.TBa;c&&(a.Lfa=this.P6(a),a.YZ=!1);if((b=this.dkb())&&b.trace&&b.trace.length){d=a.sh.Qo;h=b.timestamp;if(h>d){g=b.Ml;n=b.trace[0];d=Math.ceil(1*(h-d)/g);b.timestamp=h-d*g;for(h=0;h<d;h++)b.trace.splice(0,0,n);}b.trace.length&&b.trace.pop();}a.yq=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.w8a(a),a.gFa=b,c&&b&&(a.YZ=b.ni),a.mE=!0,this.bT.push(a));}};b.prototype.w8a=function(a){var g,n,p,l;function b(a){var f;for(var b,c=0;c<a.length;c++){f=a[c].reduce(function(a,b){return b.uc?a+1:a;},0);if(void 0===b)b=f;else if(f!==b)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))="+Math.ceil(Math.log(f>b?f-b:b-f)*Math.LOG2E)+"]");}}for(var c=this.J.yM,d={ni:!1,Do:!1,EV:0},h=0;h<c.length;h++){g=c[h];n=this.r_a.create(g);if(n){p=Date.now();l={};try{b(a.Hk);l=n(a);}catch(z){l.OV=z;}l.Y5a=Date.now()-p;d[g]=l;d.ni=d.ni||l.ni;d.Do=d.Do||l.Do;d.OV=d.OV||l.OV;}}return d;};b.prototype.P6=function(a){var b;a=a.Sl;b="";1E3>a.LP&&(b+=a.wLa);1E3>a.t6&&(b=b+(""!==b?",":"")+a.Jta);1E3<=a.LP&&1E3<=a.t6&&(b="media");return b;};d.P=b;},function(d,c,a){var b,h,g,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(214);h=a(737);g=a(366);p=a(6);f=a(14);k=a(4);d=function(){var L5T;L5T=2;function a(a,c,d,m,n,p,l,q,r){var O5T,W5T,t,u,y,u5T,h3I,b3I,K3I,g3I;O5T=2;while(O5T!==32){h3I="d";h3I+="e";h3I+="fault";b3I="b";b3I+="asel";b3I+="ine";K3I="1SI";K3I+="Yb";K3I+="ZrN";K3I+="J";K3I+="Cp9";g3I="L";g3I+="R";switch(O5T){case 34:this.zD=new g.u2(l,n,this.I);O5T=23;break;case 35:O5T=34;break;case 26:O5T=l&&1<l.length&&n.J9?25:33;break;case 16:O5T=this.pw.uo?15:27;break;case 22:O5T=u5T===g3I?21:35;break;case 24:this.zD=new g.u2(l,n,this.I);O5T=23;break;case 4:this.gb=q;this.pw=r;K3I;O5T=8;break;case 15:try{W5T=2;while(W5T!==3){switch(W5T){case 2:u=k.nk();y=new h(a,this.I,{bufferSize:u},n);this.Vb.l5a(y);this.esa=y;W5T=3;break;}}}catch(S){var s3I;s3I="H";s3I+="indsight: Error when creati";s3I+="ng QoEEvalua";s3I+="tor: ";T1zz.l2I(0);a.Ua.hm(T1zz.r2I(s3I,S));}O5T=27;break;case 2:this.I=c;this.Vb=m;O5T=4;break;case 18:m=n.CN?f.Fe.Ky:f.Fe.Ly;d&&d.Ed>=m&&d.Fa&&t&&this.q1a(d,c,t);O5T=16;break;case 25:u5T=n.llb;O5T=u5T===b3I?24:22;break;case 27:this.Y4=!1;O5T=26;break;case 23:this.Y4=this.zD.RX();O5T=33;break;case 11:this.Yha=this.$Ia=this.aJa=this.Xha=this.uFa=this.vFa=0;this.fT=b[h3I](n,p);c=this.Xqa(d);void 0!==c&&void 0!==c.wk&&void 0!==c.Wi&&void 0!==c.xk&&(t=(c.xk-c.wk)/c.Wi);O5T=18;break;case 6:this.pj=this.I.trace.bind(this.I);this.J=n;this.nra=0===Math.floor(1E6*Math.random())%n.t7;this.Yp=this.qX=this.WAa=this.LU=this.Fo=void 0;O5T=11;break;case 21:this.zD=new g.HRa(l,n,this.I);O5T=23;break;case 8:this.Ya=a;this.$a=this.I.warn.bind(this.I);O5T=6;break;case 33:n.T0&&(this.sT=this.rT=!1);O5T=32;break;}}}while(L5T!==27){switch(L5T){case 2:Object.defineProperties(a.prototype,{RX:{get:function(){var o5T;o5T=2;while(o5T!==1){switch(o5T){case 4:return this.Y4;break;o5T=1;break;case 2:return this.Y4;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Cfa:{get:function(){var J5T;J5T=2;while(J5T!==1){switch(J5T){case 4:return this.esa;break;J5T=1;break;case 2:return this.esa;break;}}},enumerable:!0,configurable:!0}});a.prototype.CIa=function(a,b,c){var l5T;l5T=2;while(l5T!==4){switch(l5T){case 2:this.Yp=a;p.U(b)||(this.WAa=b);p.U(c)||(this.qX=c);l5T=4;break;}}};a.prototype.Fia=function(a){var Z5T;Z5T=2;while(Z5T!==5){switch(Z5T){case 2:this.J=a;this.fT.Fia(a);Z5T=5;break;}}};a.prototype.Z4=function(a,b,c,f){var D5T,d,D3I,U3I;D5T=2;while(D5T!==6){D3I="a";D3I+="v";D3I+="g";U3I="i";U3I+="q";U3I+="r";switch(D5T){case 4:D5T=void 0!==f?3:9;break;case 5:D5T=a===U3I?4:8;break;case 3:return b.Fa&&c&&p.ma(f)&&b.Fa.Ca<d.dL&&f>d.y2;break;case 9:return!1;break;case 2:d=this.J;D5T=5;break;case 7:return b.Fa?b.Fa.Ca<d.dL:!0;break;case 8:D5T=a===D3I?7:9;break;}}};L5T=9;break;case 6:a.prototype.f5a=function(a,b){var h5T,c,f,d;h5T=2;while(h5T!==13){switch(h5T){case 2:c=this.J;h5T=5;break;case 5:h5T=this.nra?4:13;break;case 4:void 0===this.Pk&&(this.Pk={startTime:k.time.ea(),Ct:[],sv:[],Kca:void 0,Dca:void 0});c=Math.floor((k.time.ea()-this.Pk.startTime)/c.xE);f=this.Pk.Dca;d=this.Pk.Kca?c-this.Pk.Kca-1:c;h5T=7;break;case 7:h5T=void 0===f||c>f?6:14;break;case 6:this.Pk.Ct[d]=a,this.Pk.sv[d]=b;h5T=14;break;case 14:this.Pk.Dca=c;h5T=13;break;}}};a.prototype.qsb=function(){var Y5T,a,s5T;Y5T=2;while(Y5T!==3){switch(Y5T){case 2:a=this.Ya;Y5T=5;break;case 8:a=this.Ya;Y5T=4;break;Y5T=5;break;case 4:try{s5T=2;while(s5T!==5){switch(s5T){case 2:this.Vb.Ywb();this.esa.xc();s5T=5;break;}}}catch(u){var N3I;N3I="H";N3I+="indsi";N3I+="g";N3I+="ht: Error during clean up:";N3I+=" ";T1zz.l2I(0);a.Ua.hm(T1zz.r2I(N3I,u));}Y5T=3;break;case 5:Y5T=this.pw.uo?4:3;break;}}};a.prototype.zsb=function(a){var T5T;T5T=2;while(T5T!==1){switch(T5T){case 2:this.J.aF&&a===f.Na.VIDEO&&(this.Yha=this.Xha=this.$Ia=this.aJa=this.uFa=this.vFa=0);T5T=1;break;}}};a.prototype.ysb=function(a,b){var z5T;z5T=2;while(z5T!==1){switch(z5T){case 2:a===f.Na.VIDEO&&(this.WEb=b);z5T=1;break;}}};L5T=11;break;case 11:a.prototype.j9a=function(a){var y5T,b,c,d,k,h,o3I,J3I;y5T=2;while(y5T!==7){o3I="i";o3I+="q";o3I+="r";J3I="n";J3I+="o";J3I+="n";J3I+="e";switch(y5T){case 5:y5T=J3I!==b.ry&&!0!==this.Fo&&a.state<=b.Bda?4:7;break;case 2:b=this.J;y5T=5;break;case 4:c=this.Vb.get();o3I===b.ry&&(d=this.Xqa(c),void 0!==d&&void 0!==d.wk&&void 0!==d.Wi&&void 0!==d.xk&&(k=(d.xk-d.wk)/d.Wi));h=b.CN?f.Fe.Ky:f.Fe.Ly;c&&c.Ed>=h&&this.Z4(b.ry,c,d,k)&&(this.Fo=!0,this.LU=a.state);y5T=7;break;}}};a.prototype.D5a=function(a){var r5T;r5T=2;while(r5T!==1){switch(r5T){case 2:a.Fo=this.Fo;r5T=1;break;case 4:a.Fo=this.Fo;r5T=0;break;r5T=1;break;}}};a.prototype.yfb=function(a){var t5T,b,c,d,h,g,m,n,t,E3I,Y3I;t5T=2;while(t5T!==21){E3I="star";E3I+="tp";E3I+="lay";Y3I="lo";Y3I+="g";Y3I+="da";Y3I+="t";Y3I+="a";switch(t5T){case 12:b.ccs=this.LU;b.isLowEnd=this.Imb;b.histdiscbw=this.Yp;t5T=20;break;case 7:g=this.Vb.get();g&&g.Fa&&(g=g.Fa.Ca);b.actualbw=g;b.isConserv=this.Fo;t5T=12;break;case 18:n=function(a){var n5T;n5T=2;while(n5T!==1){switch(n5T){case 2:return p.ma(a)?Number(a).toFixed(2):-1;break;}}};g=[n(m.min||void 0),n(m.Iea||void 0),n(m.wk||void 0),n(m.Wi||void 0),n(m.xk||void 0),n(m.Jea||void 0),n(m.max||void 0)];t5T=16;break;case 2:b={};c=this.J;t5T=4;break;case 25:b.histage=this.WAa;c.J9&&this.zD&&(b.ishighstable=this.Y4,b.avg_avtp=this.zD.$ta,b.avg_ne=Number(this.zD.aua).toFixed(4));d.ub&&(c=k.nk(),b.maxAudioBufferAllowedBytes=c[f.Na.AUDIO],b.maxVideoBufferAllowedBytes=c[f.Na.VIDEO]);t5T=22;break;case 4:d=this.Ya;h={type:Y3I,target:E3I,fields:{}};h.fields=b;Object.keys(a).forEach(function(c){var M5T;M5T=2;while(M5T!==1){switch(M5T){case 2:b[c]=a[c];M5T=1;break;case 4:b[c]=a[c];M5T=0;break;M5T=1;break;}}});t5T=7;break;case 20:m=this.qX;t5T=19;break;case 16:t=[];m=p.isArray(m.$g)&&m.$g.reduce(function(a,b){var p5T,c;p5T=2;while(p5T!==9){switch(p5T){case 2:c=n(b.$e||void 0);b=n(b.n||void 0);-1<c&&-1<b&&a.push({mean:c,n:b});return a;break;}}},t);b.histtdc=m;t5T=26;break;case 19:t5T=m?18:25;break;case 22:d.emit(h.type,h);t5T=21;break;case 26:b.histtd=g;t5T=25;break;}}};a.prototype.zfb=function(a){var S5T,b,c,d,k,h,g,m,C3I;S5T=2;while(S5T!==20){C3I="n";C3I+="o";C3I+="n";C3I+="e";switch(S5T){case 2:b=this;c=this.J;d=this.Vb.get();k=[];[f.Na.VIDEO,f.Na.AUDIO].forEach(function(a){var C5T,h;C5T=2;while(C5T!==3){switch(C5T){case 1:C5T=b.gb(a)?5:3;break;case 5:h=b.Ya.cAa(a);void 0!==h&&(a===f.Na.VIDEO&&(c.aF&&(h.parallelDownloadMs=b.vFa,h.parallelDownloadBytes=b.uFa,h.singleDownloadMs=b.aJa,h.singleDownloadBytes=b.$Ia,h.switchFromParallelToSingle=b.Xha,h.switchFromSingleToParallel=b.Yha),d&&d.Ed&&d.Fa&&(h.asetput=d.Fa,h.aseiqr=d.$p,h.tdigest=d.wi&&d.wi.ju()||void 0),d&&d.avtp&&(h.avtp=d.avtp.Ca)),k.push(h));C5T=3;break;case 2:C5T=1;break;case 7:C5T=b.gb(a)?7:7;break;C5T=b.gb(a)?5:3;break;}}});S5T=8;break;case 7:h=0;g=0;m=0;d.Ed&&(h=d.Fa?d.Fa.Ca:0,g=d.ph?d.ph.Ca:0,m=d.Zp?d.Zp.Ca:0);S5T=12;break;case 8:a.stat=k;S5T=7;break;case 12:a.location={responseTime:g,httpResponseTime:m,bandwidth:h,confidence:d.Ed,name:this.WEb};this.nra&&(a.bt={startTime:this.Pk.startTime,audioMs:this.Pk.Ct,videoMs:this.Pk.sv},this.Pk.Ct=[],this.Pk.sv=[],this.Pk.Kca=this.Pk.Dca);C3I!==c.ry&&(a.isConserv=this.Fo,a.ccs=this.LU);S5T=20;break;}}};a.prototype.b3a=function(a){var d5T,b;d5T=2;while(d5T!==14){switch(d5T){case 2:d5T=1;break;case 5:d5T=this.rT&&a.tn()?4:3;break;case 4:return!0;break;case 1:b=this.J;d5T=5;break;case 3:this.rT&&(this.rT=!1);d5T=9;break;case 9:d5T=this.sT&&b.Oo&&!a.tn()?8:7;break;case 8:return!0;break;case 7:this.sT&&(this.sT=!1);return!1;break;}}};a.prototype.Xqa=function(a){var q5T,B5T,Q3I;q5T=2;while(q5T!==4){Q3I="td";Q3I+="i";Q3I+="g";Q3I+="e";Q3I+="st";switch(q5T){case 5:return a;break;case 1:a=a.wi;q5T=5;break;case 2:B5T=this.J.Aba;q5T=B5T===Q3I?1:3;break;case 3:q5T=9;break;case 9:a=a.$p&&a.$p.xZ;q5T=5;break;}}};a.prototype.q1a=function(a,b,c){var e5T,f;e5T=2;while(e5T!==9){switch(e5T){case 2:f=this.J;this.Z4(f.ry,a,b,c)?this.Fo=!0:this.Fo=!1;e5T=4;break;case 4:this.LU=0;this.Z4(f.eda,a,b,c)&&(this.Imb=!0);e5T=9;break;}}};L5T=15;break;case 9:a.prototype.rjb=function(a){var f5T;f5T=2;while(f5T!==1){switch(f5T){case 2:return 1===a?this.fT.IZ:this.fT.uB;break;}}};a.prototype.hH=function(a){var F5T;F5T=2;while(F5T!==1){switch(F5T){case 2:this.fT.hH(a);F5T=1;break;case 4:this.fT.hH(a);F5T=9;break;F5T=1;break;}}};a.prototype.b5a=function(a,b,c,f,d,k){var X5T,h;X5T=2;while(X5T!==4){switch(X5T){case 2:h=this.J;h.T0&&this.b3a(b)||!c||!f||!(c=k?Math.min(c,f,k):Math.min(c,f))||(this.Vb.get(),f=this.Ya.oa,a=f.fr(f.Ob,a),b.track.tn()&&a>h.s7&&c===d?(h.set?(h.set({pipelineEnabled:!0}),h.set({maxParallelConnections:1}),h.set({maxActiveRequestsPerSession:2}),h.set({maxPendingBufferLen:500})):(h.Oo=!0,h.bG=1,h.Gr=2,h.Kx=500),b.track.Ofa({type:b.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:h.MH,minRequestSize:h.kG}),this.Xha++,h.T0&&(this.rT=!0)):h.Oo&&!b.tn()&&(a<h.r7||c!==d)&&(h.set?(h.set({pipelineEnabled:!0}),h.set({maxParallelConnections:3}),h.set({maxActiveRequestsPerSession:3}),h.set({maxPendingBufferLen:12E3})):(h.Oo=!0,h.bG=3,h.Gr=3,h.Kx=12E3),b.track.Ofa({type:b.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:h.MH,minRequestSize:h.kG}),this.Yha++,h.T0&&(this.sT=!0)));X5T=4;break;}}};L5T=6;break;case 15:return a;break;}}}();c.rMa=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(16);h=a(236);d=function(){function a(a,b,c,d,h,g,n,l,q,z,G){void 0===c&&(c=0);this.Tc=a;this.tT=b;this.S=c;this.ia=d;this.xW=h;this.Lf=g;this.vF=n;this.config=l;this.I=q;this.Ua=z;this.mfb=G;this.Fr=0;}a.create=function(c){var g,n,p,l,q,D,z,G,r,N,P,W,Y,S,A,X;function f(a){return r.Za.Kr[a];}function d(a){b.Ha(r,a.type,a);}g=c.Wa;n=c.wa;p=c.hIa;l=c.S;q=c.ia;D=c.zr;z=c.qm;G=c.Ua;r=c.nb;N=c.config;P=c.I;W=c.Ue;Y=c.pl;S=c.Me;A=c.vx;X=new h.g1({pa:Number(n.movieId),Wa:g,wa:n,Ak:c.Ak,gb:c.gb,Gda:{OX:c.rf,lca:!!c.KBa},hi:c.hi,br:c.br,config:N,pha:N.mA?{mB:r.Rk.mB,ga:r.Rk.ga,Ww:r.Rk.Ww,hm:G.hm.bind(G),Up:f}:void 0,pba:{Eb:W.bi.bind(W),Me:S,vx:A,jl:d,LX:function(a){return a===r.oa.Ob.O;},QW:function(a,b,c,f,d){a=r.Za.De[a];return!b||c||f||d?r.EJ:a.pm;},Up:f,Lf:r.Lf.bind(r)},sG:function(a){r.emit("requestComplete",{timestamp:a.Wc,mediaRequest:a});},cM:function(){return r.jf;},sb:r.ub.sb,ih:r.ub.ih,V9:{zr:D,Rg:function(a,b,c,f,d){r.zp(a,g,b,c,f,d);},Eo:function(){return r.aE;},NF:r.W.ug.bind(r.W),qm:z,jl:d},EB:void 0});X.ux.on("onHeaderFragments",function(a){var b,c,f,d,k;b=a.M;c=a.qa;f=a.stream.Y;d=r.Lf(g);if(d){if(X.bg[b]&&a!==X.bg[b])a.pr&&(d=X.bg[b],a=a.stream,k=d&&d.stream,P.warn("first header received for non-current track (trackId "+a.bb+"streamId "+a.qa+"), expected track "+(k&&k.bb)+", stream "+(k&&k.qa)+", "+d));else{X.bg[b]=a;a=r.oa.Ob;if(0===g){k=X.gb(1)?a.te(1).Fb:a.te(0).Fb;a.yU(k,X);}d.jO=!1;d.wU();r.OT();}Y.L4();G.s2a(g,b,c,X.u,f);W.bi();}else P.warn("addFragments for stale manifestIndex:",g);});X.ux.on("onHeaderRequestComplete",function(a){var b,c;a.wj?r.OT():a.Yw&&(P.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),r.AV(a.u));b=a.M;c=Object.getOwnPropertyNames(A.Pq[b]);r.kf[b].Erb(a.stream,1===c.length&&c[0]===a.qa);W.Fqa();r.zxb();});X.ux.on("onHeaderFromCache",function(a){var b;b=a.yo;a=a.Yfb;b.wj&&r.OT();a&&G.j2a(b.u,b.qa);});return new a(X,p,l,q,function(){return r.oa;},r.Lf.bind(r),r.vF.bind(r),N,P,G,!1);};Object.defineProperties(a.prototype,{O:{get:function(){return this.Tc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Wa:{get:function(){return this.O.Wa;},enumerable:!0,configurable:!0}});a.prototype.Ul=function(a){return this.Tc.ikb(a,this.EW(a));};a.prototype.EW=function(a){return this.tT[a];};a.prototype.xc=function(){this.Tc.xc();delete this.Tc;};a.prototype.clone=function(){return new a(this.O,this.tT,this.S,this.ia,this.xW,this.Lf,this.vF,this.config,this.I,this.Ua,!0);};a.prototype.Eia=function(a){this.I.trace("updateAudioTrack:",this.tT[0],"->",a);this.tT[0]=a;};a.prototype.oza=function(){return void 0!==this.Rx?this.Rx:this.ia?this.ia:this.Tc.wa.duration;};a.prototype.H8a=function(a,b){var c,f,d,h;c=this.Tc.bg[1];if(c&&c.stream.yd){if(this.hu&&this.hu[1]&&this.hu[1].S<=a&&this.hu[1].ia>a)return this.hu[1].pc;f=c.stream.Y;d=f.Tl(a,void 0,!0);h=void 0;b&&(a=c.stream.ki(d).YV(a))&&(h=a.Oc);void 0===h&&(h=f.Nh(d));return h;}};a.prototype.wU=function(){var a,b;if(!this.jO&&this.HAa()){this.pea();b=[0,0];0===this.Wa||this.Tc.ue.lN||this.Tc.ue.replace||(a=this.Lf(this.Wa-1),a=this.Tc.u===a.Tc.u,b=this.xW().Ob,a=b.yU(this.S,this.O,b,a),b=a.NG);this.S=b[1];this.NG=b;this.hu=a&&a.hu;this.Bua();a=this.Tc.gb(1)?this.Tc.bg[1].stream.Y.ia:this.Tc.bg[0].stream.Y.ia;this.Ua.o2a(this.Wa,this.Fr,this.S,this.Rx,a);this.jO=!0;for(a=this.Wa+1;a<this.vF();++a)b=this.Lf(a),b.jO=!1,b.wU();}};a.prototype.Bua=function(){var a;if(0===this.Wa||this.Tc.ue.replace)this.Fr=0;else{a=this.Lf(this.Wa-1);this.Fr=a.Fr+a.oza()-this.S;}};a.prototype.pea=function(){var a,b,c,d;if(this.HAa()){a=this.xW().Ob;b=this.ia||Infinity;c=this.Tc.gb(1);d=a.WL(b,this.O);this.Rx=c?d[1].ia:d[0].ia;this.Ua.q2a(this.Wa,this.Rx,c?this.Tc.bg[1].stream.Y.ia:this.Tc.bg[0].stream.Y.ia);a=this.xW().m$(this.Wa);0<a.length&&a.forEach(function(a){a.IDb(d,b);});}};a.prototype.HAa=function(){var a,b,c,d;a=this.Tc.gb(0);b=this.Tc.gb(1);c=this.Tc.bg[0];d=this.Tc.bg[1];c=c&&c.stream.yd;d=d&&d.stream.yd;return(!a||c)&&(!b||d);};return a;}();c.Fma=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a,c,d,g,f,k,m,t,u,l){var b;b=this;this.id=a;this.O=c;this.S=d;this.vL=f;this.uj=k;this.nv=m;this.u0=t;this.Ak=u;this.ke=l;this.VW=function(a){var c,f;return(null===(f=null===(c=b.uj)||void 0===c?void 0:c[a])||void 0===f?void 0:f.$Cb)||b.ke;};this.ia=g||Infinity;}Object.defineProperties(a.prototype,{pa:{get:function(){return this.O.pa;},enumerable:!0,configurable:!0}});a.prototype.Tya=function(){var a,c,d;a=this;d=Object.keys(this.uj||{}).filter(function(b){var c,d;return!(null===(d=null===(c=a.uj)||void 0===c?void 0:c[b])||void 0===d||!d.weight);});return d.length?(c=d.map(this.VW).reduce(function(a,b){return a===b?b:void 0;}),null!==c&&void 0!==c?c:this.ke):this.ke;};a.prototype.toString=function(){return"segmentId: "+this.id+" playlistSegmentId: "+this.Ak+" viewableId: "+this.O.pa+" pts: "+this.S+"-"+this.ia+" defaultKey: "+this.vL+" dests: "+JSON.stringify(this.uj)+" terminal: "+!!this.nv;};a.prototype.toJSON=function(){return{id:this.id,viewable:this.O.pa,"startPts:":this.S,endPts:this.ia,defaultKey:this.vL,"dests:":this.uj,terminal:!!this.nv,playlistSegmentId:this.Ak};};return a;}();c.BYa=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a,c,d,g,f,k,m,t){this.bd=a;this.pua=c;this.config=d;this.console=g;this.M=f;this.Ua=k;this.Ja=m;this.nb=t;this.Kn=this.Ag=!1;}a.prototype.DE=function(a,c){!this.bd.ja.nv||this.nb.ID||this.nb.eT&&!this.config.N6||(a-=this.bd.Nc,this.Ag&&!this.Kn&&a+this.config.uCb>=c&&0===this.Ja.Ru&&0===this.Ja.ls&&0===this.Ja.Pvb&&(c=this.nb.ud.O.Wa,a=this.nb.vF(),c+1<a||(this.pua[this.M].DJa||this.Ua.g2a(this.M),this.Kn=!0,this.pua[this.M].eZ())));};return a;}();c.dTa=d;},function(d,c,a){var b,h,g,p,f,k,m,t,u,l,q,r,z,G,M,N,P,W,Y,S,A,X,U,ia,T,B,O,H,ta,L,R,Q,ja,Fa,Ha;Object.defineProperty(c,"__esModule",{value:!0});b=a(27);h=a(6);g=a(371);p=a(171);f=a(739);k=a(223);m=a(21);t=a(416);u=a(237);l=a(224);q=a(738);r=a(377);z=a(219);G=a(730);M=a(728);N=a(4);P=N.Promise;W=N.MediaSource;Y=a(16);S=a(7);A=a(370);X=a(727);U=a(169);ia=a(726);T=a(725);B=a(724);O=a(723);H=a(75);ta=a(722);L=a(721);R=a(390);Q=a(720);d=a(44);ja=a(388);Fa=a(718);Ha=a(384);a=function(){var R3I;function a(a,c,d,k,h,m,n,p,t,u,y){var G3I,E,z,D,A,W,z7E,B7E,x7E,o7E,K7E,n7E;G3I=2;while(G3I!==74){z7E="m";z7E+="e";z7E+="dia";z7E+="|as";z7E+="ejs";B7E="A";B7E+="S";B7E+="EJ";B7E+="S";x7E="1";x7E+="SI";x7E+="YbZrNJ";x7E+="Cp9";o7E="man";o7E+="agerd";o7E+="ebugeven";o7E+="t";K7E="med";K7E+="iac";K7E+="ac";K7E+="he";n7E="bra";n7E+="nchin";n7E+="g";switch(G3I){case 58:P=c.O;this.oa=new g.Cja(this,this.Ua,this.I,this.X5.bind(this),P,this.xT,this.J,this.Ue,this.W,this.dM.bind(this));P={eN:this.eN,Vr:this.Vr,Ik:this.Ik,sB:this.sB};this.Za=new r.QYa(this.I,this.jf,this.J,this.gb.bind(this),this.W,P,this.ub.sb,this.Ua,this.Ue,this.oa,A);G3I=77;break;case 26:this.Rk=n;this.J=u=this.Ava.u_a(c,u);this.eT=m.sB;this.Ksa=!!m.HH;this.G4a=!!m.G0;G3I=21;break;case 33:this.xT=h||0;this.JD=0;this.i4=p;G3I=30;break;case 2:E=this;this.Tv=new R.Hoa();G3I=4;break;case 21:this.ID=m.eN;this.pT=void 0;this.W=new L.FMa(t);G3I=33;break;case 65:c.wK=!0;this.mc=[c];this.jf=new q.rMa(this,this.I,a,this.ub.sb,u,this.aG(),h,this.gb.bind(this),A);G3I=62;break;case 13:z=new ta.fVa(this,this.I);this.Ua=z;this.Ava=new ia.xOa(this.I);D=!(!c||!c.choiceMap||n7E!==c.choiceMap.type);G3I=20;break;case 47:u.LL&&(h=this.ub.cp.kt);U.vv.Mf().reset();c=f.Fma.create({Wa:0,wa:c,Ak:d,hIa:k,rf:!!m.rf,KBa:!1,hi:!!m.hi,br:y||this.nJ,S:0,ia:m.ia,Ua:this.Ua,zr:this.Zqa.bind(this),qm:this.JIa.bind(this,!1),gb:this.gb.bind(this),nb:this,config:this.J,I:this.I,Ue:this.Ue,pl:this.pl,Me:this.Ksa?this.ub.Me:void 0,vx:this.vx});G3I=65;break;case 37:G3I=(u.Mia||u.wy)&&this.ub.Me?36:54;break;case 36:this.Gf.on(this.ub.Me,K7E,function(a){var m3I,D7E;m3I=2;while(m3I!==1){D7E="me";D7E+="d";D7E+="ia";D7E+="c";D7E+="ache";switch(m3I){case 4:Y.Ha(E,"",a);m3I=8;break;m3I=1;break;case 2:Y.Ha(E,D7E,a);m3I=1;break;}}});G3I=54;break;case 30:this.aE=!1;this.EJ=void 0;this.QS=-1;this.K5=0;this.Gf=new b.pp();G3I=42;break;case 38:this.Gf.on(this.ub.Me,o7E,function(a){var F3I;F3I=2;while(F3I!==1){switch(F3I){case 2:Y.Ha(E,a.type,a);F3I=1;break;case 4:Y.Ha(E,a.type,a);F3I=9;break;F3I=1;break;}}});G3I=37;break;case 62:G3I=u.J9&&this.jf.RX?61:58;break;case 39:G3I=u.Yf&&this.ub.Me?38:37;break;case 54:D&&u.aF&&!u.feb&&(u.set?u.set({enableAdaptiveParallelStreaming:!1}):u.aF=!1);0===Math.floor(1E6*Math.random())%u.yK&&(this.D3a=new G.PXa());this.Uq=[];this.kf=[];this.uIa=new l.H2(c,this.ub.sb,this.ub.ih,this.J,void 0);a=this.uIa.Tjb();h=null;G3I=47;break;case 42:this.pl=new Q.AYa(this,this.I,this.gb.bind(this),z);this.Ue=new B.cQa(this,this.I,this.gb.bind(this));this.EL=new T.bQa(this,this.I,z);G3I=39;break;case 76:W=this;this.W.addListener(function(a){var M3I,f3I;M3I=2;while(M3I!==1){switch(M3I){case 2:try{f3I=2;while(f3I!==1){switch(f3I){case 2:W.Za.ODb.bind(W.Za)(a);f3I=1;break;}}}catch(gb){var e7E;e7E="Hindsight: Error ";e7E+="when adding updatePlaySegment L";e7E+="istener: ";T1zz.G7E(0);W.Ua.hm(T1zz.g7E(gb,e7E));}M3I=1;break;}}});G3I=74;break;case 16:this.i4a=[!m.XEb,!m.TOb];this.gb(0)&&this.gb(1);this.ub=a;G3I=26;break;case 59:this.jf.Fia(this.J);G3I=58;break;case 4:this.nJ=[];this.vx={Pq:[Object.create(null),Object.create(null)]};x7E;this.I=new N.Console(B7E,z7E,"("+n.sessionId+")");this.Md=this.I.error.bind(this.I);this.$a=this.I.warn.bind(this.I);this.pj=this.I.trace.bind(this.I);G3I=13;break;case 61:u=u.mlb;for(var P in u){d=u[P];u.hasOwnProperty(P)&&d&&(this.J[P]=d);}G3I=59;break;case 20:A=D?{bF:!1,uo:!1}:M.qib(u);this.bF=A.bF;this.uo=A.uo;this.bq=new O.jTa(this,this.I,this.gb.bind(this),A);G3I=16;break;case 77:G3I=this.uo?76:74;break;}}}R3I=2;while(R3I!==116){switch(R3I){case 25:a.prototype.Gaa=function(){var j3I;j3I=2;while(j3I!==1){switch(j3I){case 4:return this.oa.Bk.ja.id;break;j3I=1;break;case 2:return this.oa.Bk.ja.id;break;}}};a.prototype.zW=function(a){var O3I;O3I=2;while(O3I!==5){switch(O3I){case 2:O3I=(a=this.oa.Bk.children[a])?1:5;break;case 1:return{Nc:a.Nc,pc:a.pc,ge:a.ge,Wb:a.Wb,sd:a.sd};break;}}};a.prototype.OW=function(){var r3I,a;r3I=2;while(r3I!==4){switch(r3I){case 2:a=this.oa.Bk;return{id:a.ja.id,Nc:a.Nc,pc:a.pc,ge:a.ge,Wb:a.Wb,sd:a.sd};break;}}};a.prototype.z0=function(a,b){var L3I;L3I=2;while(L3I!==1){switch(L3I){case 4:return this.oa.z0(a,b);break;L3I=1;break;case 2:return this.oa.z0(a,b);break;}}};a.prototype.$_a=function(){var A3I,a,b;A3I=2;while(A3I!==9){switch(A3I){case 5:a=this.mc[b],a.xc();A3I=4;break;case 3:this.mc.length=0;A3I=9;break;case 1:A3I=b<this.mc.length?5:3;break;case 2:b=0;A3I=1;break;case 4:++b;A3I=1;break;}}};a.prototype.open=function(){var l3I,a,b,c,f,d,k,g,m,n,p,W3E,Z3E,h3E,H3E,N3E,v3E,f7E,Q7E,X7E,R7E,r7E;l3I=2;while(l3I!==28){W3E="st";W3E+="artpl";W3E+="a";W3E+="y";Z3E="l";Z3E+="ogd";Z3E+="a";Z3E+="ta";h3E="NFErr_M";h3E+="C_S";h3E+="treamin";h3E+="gInit";h3E+="Failure";H3E="st";H3E+="artPt";H3E+="s mu";H3E+="st be a pos";H3E+="itive number, not ";N3E="Er";N3E+="ror";N3E+=":";v3E="hea";v3E+="d";v3E+="er";v3E+="s";f7E="cr";f7E+="eateMediaS";f7E+="ourceStart";Q7E="NFEr";Q7E+="r_MC_StreamingInitFai";Q7E+="lure";X7E="exceptio";X7E+="n in in";X7E+="it";R7E="Er";R7E+="r";R7E+="or:";r7E="create";r7E+="M";r7E+="ediaSou";r7E+="rce";r7E+="End";switch(l3I){case 23:n.sourceBuffers.forEach(function(c){var K6I,f,d,F7E,i7E,u7E,T7E,E7E;K6I=2;while(K6I!==11){F7E="managerd";F7E+="ebu";F7E+="gevent";i7E="l";i7E+="o";i7E+="g";i7E+="da";i7E+="ta";u7E="e";u7E+="r";u7E+="r";u7E+="o";u7E+="r";T7E="reques";T7E+="tA";T7E+="ppended";E7E="he";E7E+="a";E7E+="derAp";E7E+="pen";E7E+="ded";switch(K6I){case 12:a.Uq[f]=d;K6I=11;break;case 2:f=c.M;d=a.Za.De[f];c=new z.Eja(d.I,f,n,c,b,a.W,a.Lf.bind(a));K6I=3;break;case 3:d=new X.bTa(c,f,a.oa,d.I);c.addListener(E7E,a.d1a.bind(a));c.addListener(T7E,a.g1a.bind(a));c.addListener(u7E,function(b){var s6I,a7E;s6I=2;while(s6I!==1){a7E="NFErr_MC_St";a7E+="ream";a7E+="ingFailure";switch(s6I){case 2:a.zp(b.errorstr,void 0,a7E);s6I=1;break;}}});c.addListener(i7E,function(b){var b6I;b6I=2;while(b6I!==1){switch(b6I){case 4:Y.Ha(a,b.type,b);b6I=8;break;b6I=1;break;case 2:Y.Ha(a,b.type,b);b6I=1;break;}}});b.Yf&&c.addListener(F7E,function(b){var h6I;h6I=2;while(h6I!==1){switch(h6I){case 4:Y.Ha(a,b.type,b);h6I=2;break;h6I=1;break;case 2:Y.Ha(a,b.type,b);h6I=1;break;}}});a.kf[f]=c;K6I=12;break;}}});this.Os=new ja.x3(this.Uq,this.VD.bind(this),this.W.Vd.bind(this.W));this.Vr&&this.Ua.a2a();c=this.yza();this.Ua.Gra(c);p=function(){var U6I,J7E;U6I=2;while(U6I!==5){J7E="shutdown detected before ";J7E+="sta";J7E+="rtRe";J7E+="quests";switch(U6I){case 2:a.Ua.r2a();a.Qe()?a.$a(J7E):a.b4a();U6I=5;break;}}};b.Icb?setTimeout(function(){var D6I;D6I=2;while(D6I!==1){switch(D6I){case 4:a.mqa(f).then(p);D6I=3;break;D6I=1;break;case 2:a.mqa(f).then(p);D6I=1;break;}}},0):this.mqa(f).then(function(){var N6I;N6I=2;while(N6I!==1){switch(N6I){case 4:setTimeout(p,9);N6I=5;break;N6I=1;break;case 2:setTimeout(p,0);N6I=1;break;}}});l3I=31;break;case 25:l3I=!n.$T(d)?24:23;break;case 16:l3I=1===n.readyState?15:29;break;case 14:this.Ik&&(d.push(1),k.push(1));this.ho&&(d.push(0),k.push(0));this.EL.p1a();g=b.tK;this.ub.Me&&this.ub.Me.uK(g,this.Rk.sessionId);m=this.EL.h0a(k,c);l3I=19;break;case 15:this.Ua.Zj(r7E);n.wc||(n.wc=W.wc);this.Se=n;l3I=25;break;case 17:n=new W(this.W.ZK);l3I=16;break;case 29:this.pj(R7E,n.error),this.zp(X7E,void 0,Q7E);l3I=28;break;case 19:k.forEach(function(b,c){var g6I,Y7E;g6I=2;while(g6I!==1){Y7E="heade";Y7E+="r";Y7E+="s";switch(g6I){case 2:Y7E===b?a.EJ=m[c]:a.Za.De[b].pm=m[c];g6I=1;break;}}});this.Ua.Zj(f7E);l3I=17;break;case 5:l3I=!h.ma(this.xT)||0>this.xT?4:3;break;case 3:b=this.J;c=this.ud.O;f=c.u;l3I=7;break;case 7:d=[];k=[v3E];l3I=14;break;case 24:throw this.pj(N3E,n.error),n.error;l3I=23;break;case 4:this.zp(H3E+this.xT,void 0,h3E);l3I=28;break;case 31:c={type:Z3E,target:W3E,fields:{audiogapconfig:b.iG,audiogapdpi:this.Se.wc&&this.Se.wc.iG,aseApiVersion:this.cU}};this.emit(c.type,c);l3I=28;break;case 2:a=this;l3I=5;break;}}};Object.defineProperties(a.prototype,{cU:{get:function(){var J6I,p3E;J6I=2;while(J6I!==1){p3E="1";p3E+=".";p3E+="0";switch(J6I){case 4:return"";break;J6I=1;break;case 2:return p3E;break;}}},enumerable:!0,configurable:!0}});a.prototype.Iaa=function(){};a.prototype.flush=function(){var o6I;o6I=2;while(o6I!==1){switch(o6I){case 2:this.bq.flush();o6I=1;break;case 4:this.bq.flush();o6I=6;break;o6I=1;break;}}};a.prototype.paused=function(){var Y6I;Y6I=2;while(Y6I!==1){switch(Y6I){case 4:this.W.paused();Y6I=6;break;Y6I=1;break;case 2:this.W.paused();Y6I=1;break;}}};a.prototype.BP=function(){var E6I;E6I=2;while(E6I!==1){switch(E6I){case 4:this.W.BP();E6I=4;break;E6I=1;break;case 2:this.W.BP();E6I=1;break;}}};R3I=29;break;case 2:Object.defineProperties(a.prototype,{addEventListener:{get:function(){var t3I;t3I=2;while(t3I!==1){switch(t3I){case 4:return this.addListener.bind(this);break;t3I=1;break;case 2:return this.addListener.bind(this);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{removeEventListener:{get:function(){var p3I;p3I=2;while(p3I!==1){switch(p3I){case 4:return this.removeListener.bind(this);break;p3I=1;break;case 2:return this.removeListener.bind(this);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gqb:{get:function(){var S3I;S3I=2;while(S3I!==1){switch(S3I){case 2:return this.Se.wc;break;case 4:return this.Se.wc;break;S3I=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ho:{get:function(){var y3I;y3I=2;while(y3I!==1){switch(y3I){case 4:return this.gb(1);break;y3I=1;break;case 2:return this.gb(0);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ik:{get:function(){var n3I;n3I=2;while(n3I!==1){switch(n3I){case 2:return this.gb(1);break;case 4:return this.gb(8);break;n3I=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{attributes:{get:function(){var Z3I;Z3I=2;while(Z3I!==1){switch(Z3I){case 4:return this.i4;break;Z3I=1;break;case 2:return this.i4;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{el:{get:function(){var k3I;k3I=2;while(k3I!==1){switch(k3I){case 4:return this.Gf;break;k3I=1;break;case 2:return this.Gf;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{cO:{get:function(){var H3I;H3I=2;while(H3I!==1){switch(H3I){case 2:return 0<=this.QS?this.QS:0;break;case 4:return 5>=this.QS?this.QS:5;break;H3I=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ud:{get:function(){var i3I;i3I=2;while(i3I!==1){switch(i3I){case 4:return this.mc[this.JD];break;i3I=1;break;case 2:return this.mc[this.JD];break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{cp:{get:function(){var u3I;u3I=2;while(u3I!==1){switch(u3I){case 4:return this.ub.cp;break;u3I=1;break;case 2:return this.ub.cp;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Vr:{get:function(){var I3I;I3I=2;while(I3I!==1){switch(I3I){case 2:return this.D3a;break;case 4:return this.D3a;break;I3I=1;break;}}},enumerable:!0,configurable:!0}});R3I=12;break;case 12:Object.defineProperties(a.prototype,{eN:{get:function(){var X3I;X3I=2;while(X3I!==1){switch(X3I){case 4:return this.ID;break;X3I=1;break;case 2:return this.ID;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{sB:{get:function(){var w3I;w3I=2;while(w3I!==1){switch(w3I){case 4:return this.eT;break;w3I=1;break;case 2:return this.eT;break;}}},enumerable:!0,configurable:!0}});a.prototype.gb=function(a){var P3I;P3I=2;while(P3I!==1){switch(P3I){case 2:return this.i4a[a];break;case 4:return this.i4a[a];break;P3I=1;break;}}};a.prototype.dM=function(){var V3I;V3I=2;while(V3I!==1){switch(V3I){case 4:return N.time.ea()*this.p4;break;V3I=1;break;case 2:return N.time.ea()-this.p4;break;}}};a.prototype.JIa=function(a){var d3I;d3I=2;while(d3I!==1){switch(d3I){case 4:this.aE=a;d3I=3;break;d3I=1;break;case 2:this.aE=a;d3I=1;break;}}};a.prototype.yza=function(){var q3I;q3I=2;while(q3I!==1){switch(q3I){case 2:return(this.mc||[]).reduce(function(a,b){var c3I,c;c3I=2;while(c3I!==3){switch(c3I){case 2:c=b.O;u.Df.forEach(function(b){var e3I;e3I=2;while(e3I!==1){switch(e3I){case 2:c.cq[b]>a[b]&&(a[b]=c.cq[b]);e3I=1;break;}}});return a;break;}}},[0,0]);break;}}};a.prototype.aG=function(){var x3I,a;x3I=2;while(x3I!==3){switch(x3I){case 4:return a;break;case 2:a=0;h.forEach(this.ud.O.wa.audio_tracks,function(b){var a3I;a3I=2;while(a3I!==1){switch(a3I){case 2:h.forEach(b.streams,function(b){var z3I;z3I=2;while(z3I!==1){switch(z3I){case 2:a=Math.max(a,b.bitrate);z3I=1;break;}}});a3I=1;break;}}});x3I=4;break;}}};a.prototype.Lf=function(a){var B3I;B3I=2;while(B3I!==1){switch(B3I){case 2:return this.mc[a];break;case 4:return this.mc[a];break;B3I=1;break;}}};a.prototype.vib=function(){var T3I,a;T3I=2;while(T3I!==4){switch(T3I){case 2:a=this.mc[0];return a.O.ue.rf?this.mc[1]:a;break;}}};a.prototype.vF=function(){var W3I;W3I=2;while(W3I!==1){switch(W3I){case 4:return this.mc.length;break;W3I=1;break;case 2:return this.mc.length;break;}}};a.prototype.fca=function(a,b){var v3I;v3I=2;while(v3I!==9){switch(v3I){case 5:a=this.mc[a];b=this.mc[b];return a.O.ue.rf&&b.O.ue.lN||b.O.ue.rf&&a.O.ue.lN;break;case 2:v3I=a===b?1:5;break;case 1:return!0;break;}}};R3I=25;break;case 54:a.prototype.seek=function(a,b){var Z6I;Z6I=2;while(Z6I!==1){switch(Z6I){case 2:return this.pl.seek(a,b);break;case 4:return this.pl.seek(a,b);break;Z6I=1;break;}}};a.prototype.GKa=function(a){var k6I,b,c,f,d,k,u6I,w3E,k3E,m3E,M3E,l3E;k6I=2;while(k6I!==26){w3E="und";w3E+="erf";w3E+="l";w3E+="ow";k3E="br";k3E+="a";k3E+="nc";k3E+="hOff";k3E+="set:";m3E="entry.";m3E+="manifestOffset";m3E+=":";M3E="co";M3E+="n";M3E+="te";M3E+="n";M3E+="tPts:";l3E="underfl";l3E+="ow: going to BUFFERING at player pt";l3E+="s:";switch(k6I){case 2:b=this;c=this.J;k6I=4;break;case 4:f=this.jr(this.cO,a);this.$a(l3E,a,M3E,f,m3E,this.ud.Fr,k3E,this.oa.Nc);k6I=9;break;case 9:Ha.bpa.uxb();d=c.Gu;this.kf.forEach(function(b){var H6I;H6I=2;while(H6I!==1){switch(H6I){case 2:d=Math.max(0,Math.min(d,b.nza-a));H6I=1;break;}}});this.K5+=1;k6I=14;break;case 14:this.oa.Ob.Hia(f);k=this.oa.Ob;u.Df.forEach(function(f){var i6I,d,h,g,S3E,P3E,L3E,y3E,b3E,C3E,O3E,c3E,U3E;i6I=2;while(i6I!==14){S3E=", to";S3E+="Append:";S3E+=" ";P3E=", fr";P3E+="a";P3E+="gments:";P3E+=" ";L3E=", complete";L3E+="St";L3E+="ream";L3E+="ing";L3E+="Pts: ";y3E=", s";y3E+="tr";y3E+="eamingPts";y3E+=": ";b3E=", p";b3E+="a";b3E+="r";b3E+="tials:";b3E+=" ";C3E=", c";C3E+="ompletedBytes:";C3E+=" ";O3E=", c";O3E+="ompleted";O3E+="Ms";O3E+=": ";c3E=",";c3E+=" mediaTyp";c3E+="e: ";U3E="un";U3E+="der";U3E+="flow:";U3E+=" ";switch(i6I){case 4:i6I=c.Yf?3:7;break;case 2:d=k.Ec(f);i6I=5;break;case 5:i6I=d?4:14;break;case 8:h=U3E+a+c3E+f+O3E+d.FE+C3E+g+b3E+d.Ja.Ru+y3E+d.Fb+L3E+d.Ut+P3E+JSON.stringify(d.Ja.Y)+S3E+(h&&h.F_());i6I=7;break;case 7:c.Yf&&b.Ua.Ui(h);d.FU();i6I=14;break;case 3:h=b.kf[f];g=b.oa.Wz(k,f);i6I=8;break;}}});this.ud.O.vk();k6I=10;break;case 10:this.emit(w3E);this.wT(2);this.Ue.bi();k6I=18;break;case 18:k6I=this.uo?17:16;break;case 17:try{u6I=2;while(u6I!==1){switch(u6I){case 2:this.NV(m.na.ye);u6I=1;break;case 4:this.NV(m.na.ye);u6I=6;break;u6I=1;break;}}}catch(bb){var d3E;d3E="Hindsight: Error wh";d3E+="en evaluating QoE at Buffe";d3E+="ri";d3E+="ng: ";T1zz.j7E(0);this.Ua.hm(T1zz.s7E(bb,d3E));}k6I=16;break;case 16:f=this.ub.sb.get();f=f.Ed?f.Fa.Ca:0;d>c.pfb&&f>c.ofb&&this.X5();k6I=26;break;}}};a.prototype.$i=function(a){var I6I;I6I=2;while(I6I!==1){switch(I6I){case 2:return this.pl.$i(a);break;case 4:return this.pl.$i(a);break;I6I=1;break;}}};a.prototype.St=function(a,b,c){var X6I;X6I=2;while(X6I!==1){switch(X6I){case 4:return this.pl.St(a,b,c);break;X6I=1;break;case 2:return this.pl.St(a,b,c);break;}}};a.prototype.ora=function(a){var w6I,b;w6I=2;while(w6I!==9){switch(w6I){case 2:this.JD=a;b=this.mc[a];w6I=4;break;case 4:this.Ua.p2a(a,b);this.Ua.Gra(b.O.cq);w6I=9;break;}}};a.prototype.Ysa=function(a,b,c){var P6I,d,k,g,m,n,p,t,D3E,K3E,n3E,j3E,G3E,s3E,g3E,A3E,t3E,V3E,I3E,q3E;P6I=2;while(P6I!==28){D3E=",";D3E+=" ";K3E=")";K3E+=" lastS";K3E+="treamAppended: (";n3E=",";n3E+=" ";j3E=" streamCo";j3E+="u";j3E+="nt: (";G3E=" player";G3E+="St";G3E+="a";G3E+="te: ";s3E="addManifes";s3E+="t, c";s3E+="u";s3E+="rrentPts: ";g3E="b";g3E+="oo";g3E+="lea";g3E+="n";A3E="ad";A3E+="d";A3E+="Manifest ignored, pipelines already set EO";A3E+="S:";t3E="add";t3E+="Manifest: pipelines ";t3E+="alr";t3E+="eady shutdown";V3E="addManifest in fastplay but not ";V3E+="drm m";V3E+="anifest, leaving s";V3E+="pace for it";I3E="video_tra";I3E+="ck";I3E+="s";q3E="au";q3E+="dio";q3E+="_tr";q3E+="acks";switch(P6I){case 1:d=this;k=this.J;P6I=4;break;case 19:a=f.Fma.create({Wa:g,wa:a,Ak:c,hIa:b.RCb||[this.ud.EW(0),this.ud.EW(1)],rf:!1,KBa:!!b.replace,hi:!!b.hi,br:b.br||this.nJ,S:m,ia:n,Ua:this.Ua,zr:this.Zqa.bind(this),qm:this.JIa.bind(this,!1),gb:this.gb.bind(this),nb:this,config:this.J,I:this.I,Ue:this.Ue,pl:this.pl,Me:this.Ksa?this.ub.Me:void 0,vx:this.vx});p=a.O;c=[q3E,I3E];t=this.yza();P6I=15;break;case 2:P6I=1;break;case 13:b.sB&&(this.eT=!0);g=this.mc.length;b.replace&&1!==g?g=1:this.ud.O.ue.rf&&!b.replace&&1===g&&(this.$a(V3E),g=this.mc[0].clone(),this.mc.push(g),g=this.mc.length);m=b.S||0;n=b.ia;P6I=19;break;case 3:this.$a(t3E);P6I=28;break;case 14:this.$a(A3E,g.Kn,m.Kn);P6I=28;break;case 32:return!0;break;case 33:P6I=this.ho&&h.U(b)||this.Ik&&h.U(c)?32:31;break;case 24:this.mc[g]=a;a.Bua();b.replace||this.oa.F5a(p,m,n);b=this.Za.Kr[0].RA;c=this.Za.Kr[1].RA;P6I=34;break;case 15:b.replace&&c.forEach(function(a,b){var V6I,c,f;V6I=2;while(V6I!==9){switch(V6I){case 5:V6I=c?4:9;break;case 4:f=d.mc[0].O;V6I=3;break;case 2:c=p.AF(b);V6I=5;break;case 3:Object.keys(c).forEach(function(a){var d6I,d;d6I=2;while(d6I!==4){switch(d6I){case 2:d=f.xr(b,a);d&&d.yd&&(c[a].QU(d),a=p.cq,a[b]>t[b]&&(t[b]=a[b]));d6I=4;break;}}});V6I=9;break;}}});c.forEach(function(a,b){var q6I,c;q6I=2;while(q6I!==4){switch(q6I){case 2:c=p.AF(b);c&&Object.keys(c).forEach(function(a){var c6I,f;c6I=2;while(c6I!==3){switch(c6I){case 2:f=N.nk()[b];1===b&&0<k.Ir&&(f=Math.min(f,k.Ir));c[a].NKa(f,p.tu()?k.oDa:0);c6I=3;break;}}});q6I=4;break;}}});P6I=26;break;case 9:b||(b={});g=this.oa.Ob.Ec(0);m=this.oa.Ob.Ec(1);P6I=6;break;case 26:a.wK=g3E===typeof b.Zta?b.Zta:!0;this.mc[g]&&this.mc[g].xc();P6I=24;break;case 4:P6I=this.Qe()?3:9;break;case 34:k.Yf&&this.Ua.Ui(s3E+this.W.Vd()+G3E+this.W.Vc()+j3E+a.Ul(0).zc.length+n3E+a.Ul(1).zc.length+K3E+b+D3E+c+")");P6I=33;break;case 6:P6I=!b.Glb&&(this.ho&&g.Kn||this.Ik&&m.Kn)?14:13;break;case 31:a.O.TG([a.Ul(0),a.Ul(1)]);this.OT();return!0;break;}}};a.prototype.nK=function(a){var e6I;e6I=2;while(e6I!==1){switch(e6I){case 2:return this.pl.nK(a);break;case 4:return this.pl.nK(a);break;e6I=1;break;}}};a.prototype.AV=function(a,b){var x6I,c,f,d,B3E,x3E,e3E,o3E;x6I=2;while(x6I!==14){B3E=" ";B3E+="re";B3E+="ady";B3E+="State";B3E+=": ";x3E=" for";x3E+=" movi";x3E+="eId: ";e3E=",";e3E+=" ";o3E="drm";o3E+="R";o3E+="ea";o3E+="dy at str";o3E+="eaming pts: ";switch(x6I){case 6:b&&(this.kf.forEach(function(a){var a6I;a6I=2;while(a6I!==5){switch(a6I){case 2:c.D$&&a.ggb();c.RP&&a.resume();a6I=5;break;}}}),c.RP&&this.dK(),this.ud.O.ue.rf&&this.NT(this.pl.kw?this.pl.kw.Wa:this.JD+1),this.pl.L4());x6I=14;break;case 5:x6I=!this.Qe()?4:14;break;case 2:c=this.J;x6I=5;break;case 4:h.U(b)&&(b=!0);f=this.oa.Ob.Ec(0);d=this.oa.Ob.Ec(1);c.Yf&&this.Ua.Ui(o3E+(f?f.Fb:null)+e3E+(d?d.Fb:null)+x3E+a+B3E+b);T1zz.G7E(0);this.W.aha(T1zz.s7E("",a),b);x6I=6;break;}}};a.prototype.Ar=function(){var z6I,a;z6I=2;while(z6I!==4){switch(z6I){case 2:a=this.ud.O;return this.W.Ar(a.u)||a.hi;break;}}};a.prototype.nqa=function(a){var B6I,b,c,f;B6I=2;while(B6I!==20){switch(B6I){case 2:B6I=1;break;case 1:B6I=a>=this.mc.length?5:4;break;case 14:return!1;break;case 4:b=this.oa.Ob.Ec(0);c=this.oa.Ob.Ec(1);b=!b||b.Ag;f=!c||c.Ag;c=this.mc[a].O;B6I=6;break;case 13:a=c.bg[0];b=c.bg[1];B6I=11;break;case 5:return!1;break;case 11:b=!this.Ik||b&&b.stream.yd;return(!this.ho||a&&a.stream.yd)&&b?!0:!1;break;case 6:B6I=!(a===this.JD+1&&c.ue.replace||b&&f)||!this.W.Ar(c.u)&&!c.hi?14:13;break;}}};a.prototype.OT=function(){var T6I;T6I=2;while(T6I!==1){switch(T6I){case 4:this.NT(this.JD/0);T6I=3;break;T6I=1;break;case 2:this.NT(this.JD+1);T6I=1;break;}}};R3I=64;break;case 29:a.prototype.close=function(){var C6I;C6I=2;while(C6I!==4){switch(C6I){case 2:this.uIa.close();this.mc.forEach(function(a){var Q6I;Q6I=2;while(Q6I!==1){switch(Q6I){case 2:a.O.close();Q6I=1;break;case 4:a.O.close();Q6I=2;break;Q6I=1;break;}}});this.bq.close();C6I=4;break;}}};a.prototype.jHa=function(){var R6I;R6I=2;while(R6I!==1){switch(R6I){case 4:this.ub.u3a(this);R6I=9;break;R6I=1;break;case 2:this.ub.u3a(this);R6I=1;break;}}};a.prototype.xc=function(){var G6I,a,z3E;G6I=2;while(G6I!==10){z3E="E";z3E+="rror on M";z3E+="edia";z3E+="Source destroy: ";switch(G6I){case 8:this.Uq.forEach(function(a){var F6I;F6I=2;while(F6I!==1){switch(F6I){case 4:a.reset();F6I=5;break;F6I=1;break;case 2:a.reset();F6I=1;break;}}});this.W.Xd(m.na.Hm);this.$_a();G6I=14;break;case 11:h.U(a)||a.en()||this.$a(z3E,a.error);G6I=10;break;case 2:this.jf.qsb();this.jS();this.oa.Mp();this.EL.u0a();null===(a=this.Os)||void 0===a?void 0:a.reset();G6I=8;break;case 14:this.Gf.clear();a=this.Se;this.Se=void 0;G6I=11;break;}}};a.prototype.suspend=function(){var m6I;m6I=2;while(m6I!==1){switch(m6I){case 4:this.bq.suspend();m6I=5;break;m6I=1;break;case 2:this.bq.suspend();m6I=1;break;}}};a.prototype.resume=function(){var M6I;M6I=2;while(M6I!==1){switch(M6I){case 2:this.bq.resume();M6I=1;break;case 4:this.bq.resume();M6I=9;break;M6I=1;break;}}};a.prototype.Qe=function(){var f6I;f6I=2;while(f6I!==1){switch(f6I){case 2:return this.bq.Qe();break;case 4:return this.bq.Qe();break;f6I=1;break;}}};a.prototype.W3a=function(){var t6I,a;t6I=2;while(t6I!==7){switch(t6I){case 2:a=this.J;this.vw&&clearTimeout(this.vw);this.vw=setTimeout(this.jK.bind(this),a.D0);this.cS||(this.cS=setInterval(this.Ua.Fra.bind(this.Ua),a.xE));t6I=9;break;case 9:this.ET||(this.ET=setInterval(this.Ua.C2a.bind(this.Ua),a.Oha));this.Vr&&!this.$R&&(this.$R=setInterval(this.Ua.Era.bind(this.Ua),a.X6));t6I=7;break;}}};a.prototype.jS=function(){var p6I;p6I=2;while(p6I!==7){switch(p6I){case 2:this.vw&&(clearTimeout(this.vw),this.vw=void 0);this.cS&&(clearInterval(this.cS),this.cS=void 0);this.ET&&(clearInterval(this.ET),this.ET=void 0);this.$R&&(clearInterval(this.$R),this.$R=void 0);p6I=3;break;case 3:this.lD&&(clearTimeout(this.lD),this.lD=void 0);this.G4&&(clearTimeout(this.G4),this.G4=void 0);this.Ue.jS();p6I=7;break;}}};a.prototype.play=function(){var S6I;S6I=2;while(S6I!==1){switch(S6I){case 4:this.bq.play();S6I=8;break;S6I=1;break;case 2:this.bq.play();S6I=1;break;}}};a.prototype.stop=function(){var y6I;y6I=2;while(y6I!==1){switch(y6I){case 2:this.bq.stop();y6I=1;break;case 4:this.bq.stop();y6I=3;break;y6I=1;break;}}};a.prototype.jy=function(a,b,c){var n6I;n6I=2;while(n6I!==5){switch(n6I){case 2:c&&(S.assert(void 0===b),b=this.MW(c));return this.pl.jy(a,b);break;}}};R3I=54;break;case 64:a.prototype.NT=function(a){var W6I,b;W6I=2;while(W6I!==14){switch(W6I){case 1:W6I=!this.nqa(a)?5:4;break;case 5:return!1;break;case 2:W6I=1;break;case 4:b=this.mc[a];W6I=3;break;case 9:return!1;break;case 3:W6I=b.mfb||!b.O.ue.replace?9:8;break;case 8:this.j4a(a);this.Ue.bi();return!0;break;}}};a.prototype.j4a=function(a){var v6I,b,c,f,d,k,u3E,T3E,E3E;v6I=2;while(v6I!==17){u3E=",";u3E+=" ";T3E=", ";T3E+="streamin";T3E+="gPt";T3E+="s:";T3E+=" ";E3E="s";E3E+="wi";E3E+="tchManifest manifestIndex: ";switch(v6I){case 6:f=this.ud;d=f.O.ue.rf;k=[];[1,0].forEach(function(a){var j6I;j6I=2;while(j6I!==1){switch(j6I){case 2:b.O.gb(a)&&(k[a]=b.Ul(a));j6I=1;break;}}});v6I=11;break;case 9:d=c.te(1);d=d?d.Fb:void 0;this.J.Yf&&this.Ua.Ui(E3E+a+T3E+f+u3E+d);v6I=6;break;case 2:b=this.mc[a];c=this.oa.Ob;f=c.te(0);f=f?f.Fb:void 0;v6I=9;break;case 19:this.pl.L4();this.Ue.bi();v6I=17;break;case 11:d?this.oa.oxb(f.O,b.O,k):c.PIa(b.O,k);this.ora(a);b.pea();v6I=19;break;}}};a.prototype.UEa=function(){var O6I,a,b,c,f,i3E,a3E;O6I=2;while(O6I!==12){i3E="onAudioTrackSwitch";i3E+="Started ignor";i3E+="ed, no audio ";i3E+="pipeline";a3E="onAudioTrackSwitchStarted but c";a3E+="urrent playing r";a3E+="equest not found";switch(O6I){case 2:a=this.oa.Ob;b=a.te(0);O6I=4;break;case 4:O6I=b?3:13;break;case 3:c=this.W.Vd();f=this.Za.De[b.M];(a=this.oa.or(c,a,0))?b=a.Ja:(this.$a(a3E),b=b.Ja);O6I=7;break;case 13:this.$a(i3E);O6I=12;break;case 7:this.h3a(b);f.NH=!1;this.Ue.bi();O6I=12;break;}}};a.prototype.IJa=function(a){var r6I,b,c,f,d,k,f3E,Y3E,Q3E,X3E,R3E,r3E,J3E,F3E;r6I=2;while(r6I!==21){f3E="s";f3E+="wi";f3E+="tchTracks reject";f3E+="e";f3E+="d, bufferLevelMs";Y3E="switchTracks ";Y3E+="rejected, previ";Y3E+="ous sw";Y3E+="itch sti";Y3E+="ll waiting to start";Q3E="switch";Q3E+="Trac";Q3E+="ks rejected,";Q3E+=" audio dis";Q3E+="abled";X3E="swit";X3E+="chTrac";X3E+="ks rejected, bu";X3E+="ffering";R3E="switchTrack";R3E+="s can't find track";R3E+="Id:";r3E="swi";r3E+="tchTracks rejecte";r3E+="d, previous switch still in progress: ";J3E=" ";J3E+="to";J3E+=":";J3E+=" ";F3E="s";F3E+="witchTracks";F3E+=" current: ";switch(r6I){case 12:f=this.oa.Ob;d=this.oa.fr(f,1);r6I=10;break;case 15:k=this.ud.Ul(0).bb;r6I=27;break;case 25:b.Yf&&this.Ua.Ui(F3E+k+J3E+d.bb);c.YY={bb:a};r6I=23;break;case 26:return!1;break;case 19:a=a.tE;d=this.ud.O.getTrackById(a);r6I=17;break;case 9:return this.$a(r3E+JSON.stringify(this.Za.Dt)),!1;break;case 16:return this.$a(R3E,a),!1;break;case 17:r6I=!d?16:15;break;case 23:this.a4a(f.te(0));return!0;break;case 10:r6I=d<b.KY?20:19;break;case 7:return this.$a(X3E),!1;break;case 8:r6I=this.W.ug()?7:6;break;case 4:return this.$a(Q3E),!1;break;case 14:r6I=c.NH?13:12;break;case 5:r6I=!this.ho?4:3;break;case 2:b=this.J;r6I=5;break;case 3:r6I=this.Za.Dt?9:8;break;case 27:r6I=k===d.bb?26:25;break;case 6:c=this.Za.De[0];r6I=14;break;case 13:return this.$a(Y3E),!1;break;case 20:return this.$a(f3E,d,"<",b.KY),!1;break;}}};a.prototype.NB=function(a,b){var L6I,c,f;L6I=2;while(L6I!==9){switch(L6I){case 2:c=this;this.nJ=a;void 0!==b&&(f=this.Hib(b));L6I=3;break;case 3:void 0!==f?this.Lf(f).Ul(1).zc.forEach(function(a){var A6I,b;A6I=2;while(A6I!==4){switch(A6I){case 2:b=t.eU(a.Jf,a.R,c.nJ);A6I=5;break;case 5:H(b,a);A6I=4;break;}}}):this.oa.NB(this.nJ);L6I=9;break;}}};a.prototype.or=function(a,b,c){var l6I;l6I=2;while(l6I!==1){switch(l6I){case 2:return this.oa.or(a,this.oa.Bk,b,c);break;}}};a.prototype.Ot=function(a){var g8I;g8I=2;while(g8I!==1){switch(g8I){case 2:return this.pl.Ot(a);break;case 4:return this.pl.Ot(a);break;g8I=1;break;}}};a.prototype.NV=function(a,b){var K8I,c,f,s8I;K8I=2;while(K8I!==14){switch(K8I){case 3:a&&!a.mE&&f.X9(a);K8I=9;break;case 2:c=this.Za;a=c.l$(a,b);f=this.jf.Cfa;K8I=3;break;case 8:c.hga();K8I=14;break;case 7:b=f.lhb();K8I=6;break;case 6:try{s8I=2;while(s8I!==1){switch(s8I){case 4:this.Ua.k2a(b);s8I=8;break;s8I=1;break;case 2:this.Ua.k2a(b);s8I=1;break;}}}catch(Ia){var N2E,v2E;N2E="]";N2E+=" ";N2E+="[";v2E="exceptio";v2E+="n:";v2E+=" [";this.I.error(v2E+Ia.message+N2E+Ia.AVb+"]");}K8I=14;break;case 9:K8I=b?8:7;break;}}};a.prototype.Cua=function(a,b,c,f){var b8I;b8I=2;while(b8I!==4){switch(b8I){case 2:f&&(S.assert(void 0===b),b=this.MW(f));T1zz.j7E(1);S.assert(T1zz.g7E(0,b));return this.mc[b].H8a(a,c||!1);break;}}};a.prototype.jr=function(a,b,c){var h8I,f;h8I=2;while(h8I!==8){switch(h8I){case 4:(c=this.oa.Ffb(b,a))?f=c.Nc:(c=this.oa.m$(a),0<c.length&&(c=c[0],f=c.Nc));h.ma(f)||(f=this.mc[a].Fr);T1zz.G7E(2);return T1zz.s7E(b,f);break;case 2:c&&(S.assert(void 0===a),a=this.MW(c),S.assert(void 0!==a));void 0===a&&(a=this.cO);h8I=4;break;}}};a.prototype.hL=function(a,b,c){var U8I,f;U8I=2;while(U8I!==8){switch(U8I){case 4:(c=this.oa.Efb(b,a))?f=c.Nc:(c=this.oa.m$(a),0<c.length&&(c=c[0],f=c.Nc));h.ma(f)||(f=this.mc[a].Fr);T1zz.G7E(0);return T1zz.s7E(f,b);break;case 2:c&&(S.assert(void 0===a),a=this.MW(c),S.assert(void 0!==a));void 0===a&&(a=this.cO);U8I=4;break;}}};R3I=76;break;case 76:a.prototype.VD=function(){var D8I,a;D8I=2;while(D8I!==3){switch(D8I){case 4:a&&this.Ua.s5(),this.jK(),this.W.Xd(m.na.Jc),this.Ue.bi();D8I=3;break;case 5:D8I=a||this.Za.Dt?4:3;break;case 2:a=this.W.ug();D8I=5;break;}}};a.prototype.X5=function(){var N8I,a,b;N8I=2;while(N8I!==8){switch(N8I){case 2:a=this;b=this.W.ug();N8I=4;break;case 4:this.oa.Ob.KB(b,function(b){var J8I;J8I=2;while(J8I!==1){switch(J8I){case 2:return a.kf[b]?a.kf[b].F_():"";break;}}});this.lD&&(clearTimeout(this.lD),this.lD=void 0);this.Os.$F();N8I=8;break;}}};a.prototype.rsa=function(a,b){var o8I,Y8I;o8I=2;while(o8I!==6){switch(o8I){case 2:a.Ag=!0;a.ia=h.ma(b)?b:a.Fb;a.Kn=!1;b=this.W.Vd()||0;o8I=3;break;case 3:a.DE(b);this.Za.Qs();o8I=8;break;case 8:o8I=this.uo&&1===a.M?7:6;break;case 7:try{Y8I=2;while(Y8I!==1){switch(Y8I){case 2:this.NV(m.na.YC,{ia:a.ia});Y8I=1;break;}}}catch(Oa){var H2E;H2E="Hindsi";H2E+="ght: ";H2E+="Error evaluating ";H2E+="QoE at endOfStream: ";T1zz.G7E(0);this.Ua.hm(T1zz.g7E(Oa,H2E));}o8I=6;break;}}};a.prototype.y3a=function(){var E8I,a;E8I=2;while(E8I!==4){switch(E8I){case 2:a=this.ub.sb;a&&(a=a.get())&&a.avtp&&this.cp.h5a({avtp:a.avtp.Ca});E8I=4;break;}}};a.prototype.b4a=function(){var C8I,a,b,c,W2E,Z2E,h2E;C8I=2;while(C8I!==8){W2E="star";W2E+="tup";W2E+=", pl";W2E+="ayerState no longer STARTING:";Z2E="fail";Z2E+="ed to ";Z2E+="start a";Z2E+="udio ";Z2E+="pipeline";h2E="failed ";h2E+="t";h2E+="o start video";h2E+=" pipel";h2E+="ine";switch(C8I){case 5:a=this.oa.Ob;b=a.Ec(0);c=a.Ec(1);this.Ik&&!this.wsa(c)?this.$a(h2E):this.ho&&!this.wsa(b)?this.$a(Z2E):(this.Sra=!0,this.mc[0].O.nX=!0,b=this.Za.De[1],c=this.Za.De[0],(b&&0<b.lq||c&&0<c.lq)&&this.Ua.i2a(String(a.O.u),c?c.lq:0,b?b.lq:0,c?c.aO:0,b?b.aO:0),this.W.YBa()?(this.wT(0),this.ho&&(a=this.ud.EW(0),b=this.ud.Ul(0).bb,this.Ua.l2a(a,b))):this.$a(W2E,this.W.Vc()));C8I=8;break;case 2:this.W.Xd(m.na.Dg);C8I=5;break;}}};a.prototype.wsa=function(a){var Q8I,b,c,l2E,p2E;Q8I=2;while(Q8I!==12){l2E="NFEr";l2E+="r_MC_S";l2E+="treaming";l2E+="InitFa";l2E+="ilure";p2E="startPipeli";p2E+="ne faile";p2E+="d";switch(Q8I){case 3:return this.Qe()||this.zp(p2E,a.bd.O.Wa,l2E),!1;break;case 4:Q8I=h.U(c)?3:9;break;case 2:b=a.M;c=this.Za.Mjb(a);Q8I=4;break;case 8:Q8I=a.zj()?7:6;break;case 9:a=a.track.zc[c];Q8I=8;break;case 6:c=this.ud.O;Q8I=14;break;case 7:return!0;break;case 14:a.O.Jva(a,{offset:0,Yw:!c.ue.rf&&!c.hi&&1===b,pr:!this.Za.De[b].Xfb});return!0;break;}}};a.prototype.wT=function(a,b){var R8I,c,f,d,k,h,M2E;R8I=2;while(R8I!==27){M2E="sta";M2E+="rt";M2E+="Buffe";M2E+="rin";M2E+="g";switch(R8I){case 9:h=this.Za.kv[1]||{};(this.Za.kv[0]||{}).QK=void 0;h.QK=void 0;this.W.Xd(2===a?m.na.Bg:m.na.ye);this.Ua.f2a(b);this.Os.reset();R8I=12;break;case 2:R8I=1;break;case 12:this.ud.O.JN();this.emit(M2E);R8I=10;break;case 10:u.Df.forEach(function(b){var G8I;G8I=2;while(G8I!==5){switch(G8I){case 1:b.u7=0,b.seeking=0===a||1===a,b.FU();G8I=5;break;case 2:G8I=(b=c.oa.Ob.Ec(b))?1:5;break;}}});this.p4=N.time.ea();d.Zm=k.Zm=this.p4;R8I=18;break;case 18:0===a&&(!this.Ik||0<k.lq)&&(!this.ho||0<d.lq)&&this.Za.Qs();f.LL&&(this.G4=setTimeout(function(){var F8I;F8I=2;while(F8I!==1){switch(F8I){case 4:c.y3a();F8I=2;break;F8I=1;break;case 2:c.y3a();F8I=1;break;}}},f.E9));this.W.ug()&&(this.lD=setTimeout(function(){var m8I;m8I=2;while(m8I!==1){switch(m8I){case 2:c.Za.Qs();m8I=1;break;case 4:c.Za.Qs();m8I=9;break;m8I=1;break;}}},f.Yu));R8I=15;break;case 1:c=this;f=this.J;d=this.Za.De[0]||{};k=this.Za.De[1]||{};R8I=9;break;case 15:this.Ue.bi();R8I=27;break;}}};a.prototype.PT=function(a){var M8I,b,k2E,m2E;M8I=2;while(M8I!==9){k2E="AdoptingDat";k2E+="a s";k2E+="till has loc";k2E+="k:";m2E="wi";m2E+="peHeaderC";m2E+="ache:";switch(M8I){case 2:T1zz.G7E(0);a=T1zz.g7E(a,m2E);this.Tv.yw&&this.Md(k2E+a);b=this.J;M8I=3;break;case 3:b.hea||(b.Yf&&this.Ua.Ui(a),this.ub.uU(),this.Eg&&(this.Eg=void 0));M8I=9;break;}}};a.prototype.mqa=function(a){var f8I,c,f,d,k,S2E,O2E,c2E;function b(a,b){var t8I,f,d,k,g,m,n,p,U2E;t8I=2;while(t8I!==15){U2E="adoptPipeline";U2E+=" no header ";U2E+="for ";U2E+="st";U2E+="reamId:";switch(t8I){case 3:t8I=d?9:16;break;case 2:f=a.M;d=b[f];k=P.resolve(void 0);t8I=3;break;case 9:g=d.qa;m=d.yo.stream;n=c.Za.De[f];p=c.Za.kv[f];h.U(b.Yp)||c.jf.CIa(b.Yp,b.pn,b.Zl);p.Bo=b.Bo;p.wo=b.wo;t8I=11;break;case 11:t8I=!a.REb(g)?10:20;break;case 20:t8I=!d.yo?19:18;break;case 18:b=c.ud.O;t8I=17;break;case 19:return a.Md(U2E,g),k;break;case 10:return k;break;case 17:b.YT(d.yo,!b.ue.rf&&!b.hi&&1===f,!0)&&(void 0!==a.oB&&a.MB(a.oB),k=b.zj(f,g).stream.Y.Tl(a.Fb,void 0,!0),b=m.ki(k),m=b.S,a.lha()&&(b=b.YV(a.Fb))&&0<b.Oc&&(m=b.Oc),a.Fb!==m&&(a.fha(m,k),c.U5(f,m)),k=c.p_a(a,d.data).then(function(){var p8I;p8I=2;while(p8I!==1){switch(p8I){case 2:return g;break;case 4:return g;break;p8I=1;break;}}}),n.Xfb=!0,0===f&&c.jf.hH(d.yo.R));t8I=16;break;case 16:return k;break;}}}f8I=2;while(f8I!==13){S2E="c";S2E+="a";S2E+="t";S2E+="ch";O2E="ch";O2E+="eckF";O2E+="orHcdSt";O2E+="a";O2E+="rt";c2E="Previously adopted reque";c2E+="s";c2E+="t";c2E+=" list still retained was un";c2E+="expected";switch(f8I){case 9:f8I=!this.G4a||!this.ub.Me?8:7;break;case 4:this.Eg=void 0;d=this.J;f8I=9;break;case 2:c=this;(null===(f=this.Eg)||void 0===f?0:f.CA())&&this.Md(c2E);f8I=4;break;case 8:return this.ub.A7(),P.resolve();break;case 7:this.Ua.Zj(O2E);this.mc.forEach(function(b){var S8I;S8I=2;while(S8I!==1){switch(S8I){case 2:b.O.u===a&&(k=b);S8I=1;break;}}});return this.ub.Me.Yob(a,k?k.O:void 0).then(function(a){var y8I,f,k,y2E,b2E,C2E;y8I=2;while(y8I!==6){y2E="ad";y2E+="optH";y2E+="cdStart";b2E="hea";b2E+="derCacheDataNotFo";b2E+="und";C2E="ch";C2E+="eckForH";C2E+="c";C2E+="d";C2E+="End";switch(y8I){case 5:y8I=h.U(a)?4:3;break;case 2:c.Ua.Zj(C2E);y8I=5;break;case 4:return d.tK||c.Tv.yw||c.PT(b2E),P.resolve();break;case 3:f=c.oa.Ob.Ec(0);k=c.oa.Ob.Ec(1);y8I=8;break;case 8:c.Ua.Zj(y2E);return c.Tv.DLa(function(){var n8I,h,g,L2E;n8I=2;while(n8I!==6){L2E="adop";L2E+="t";L2E+="HcdEnd";switch(n8I){case 4:g=P.resolve();!c.ho||d.PAa&&!h||(g=d.PAa?h.then(function(c){var Z8I;Z8I=2;while(Z8I!==1){switch(Z8I){case 2:return c?b(f,a):P.resolve();break;case 4:return c?b(f,a):P.resolve();break;Z8I=1;break;}}}):b(f,a));c.cra=a;c.Ua.Zj(L2E);return P.all([h,g]);break;case 2:h=P.resolve();c.Ik&&(h=b(k,a));n8I=4;break;}}});break;}}}).then(function(){var k8I,a,P2E;k8I=2;while(k8I!==5){P2E="adoptedCo";P2E+="mplete";P2E+="dRequests";switch(k8I){case 2:d.tK||(null===(a=c.Eg)||void 0===a?0:a.CA())||c.Tv.yw||c.PT(P2E);k8I=5;break;}}})[S2E](function(a){var H8I,w2E;H8I=2;while(H8I!==1){w2E="heade";w2E+="rCache:lookupDataPromise";w2E+=" caught error:";switch(H8I){case 4:c.$a("",a);H8I=2;break;H8I=1;break;case 2:c.$a(w2E,a);H8I=1;break;}}});break;}}};a.prototype.p_a=function(a,b){var i8I,c,f,d,k,g,m,n;i8I=2;while(i8I!==13){switch(i8I){case 2:i8I=1;break;case 4:return P.resolve();break;case 5:i8I=0===b.length?4:3;break;case 3:f=a.jY;d=f.ja;k=Math.min(this.mc[0].ia||Infinity,f.ia||Infinity);g=a.M;m=this.Za.De[g];return this.Tv.DLa(function(){var u8I,p;u8I=2;while(u8I!==3){switch(u8I){case 1:u8I=0<b.length?5:4;break;case 2:p=[];u8I=1;break;case 8:p=[];u8I=9;break;u8I=1;break;case 4:return P.all(p);break;case 5:f();u8I=1;break;case 6:f();u8I=9;break;u8I=1;break;case 14:return P.all(p);break;u8I=3;break;}}function f(){var I8I,f,q2E,d2E;I8I=2;while(I8I!==4){q2E="ado";q2E+="ptData, not adoptin";q2E+="g failed m";q2E+="ediaRequest:";d2E="ad";d2E+="optData, not adopting abo";d2E+="rted";d2E+=" mediaRequest";d2E+=":";switch(I8I){case 2:f=b.shift();7===f.readyState?a.$a(d2E,f.toString()):6===f.readyState?(a.$a(q2E,f.toString()),c.Jz(f,!1)):a.Fb>=f.Wb&&a.Fb<f.sd&&(a.Fb<k||!h.ma(k))?(p.push(c.q_a(a,f).then(function(){var X8I;X8I=2;while(X8I!==1){switch(X8I){case 2:f.complete&&c.wAa(f);X8I=1;break;case 4:f.complete||c.wAa(f);X8I=7;break;X8I=1;break;}}})),a.Mzb(f.sd),h.ma(k)&&a.Fb>=k&&c.Ua.t5(d,f.sd),0===g&&c.jf.hH(f.R),f.complete?(m.lq+=f.duration,f.Bob&&(m.aO+=f.duration),n=f):(c.Eg||(c.Eg=new Fa.pMa(c.I)),c.Eg.push(f))):c.Jz(f,!1);I8I=4;break;}}}}).then(function(){var w8I,b,d;w8I=2;while(w8I!==8){switch(w8I){case 2:n&&a.xAa(n);w8I=5;break;case 5:w8I=n||(null===(b=c.Eg)||void 0===b?0:b.CA())?4:8;break;case 4:b=c.mc[f.O.Wa];d=a.n$(a.Fb);void 0!==d?(a.uk=d,a.Zf=b.O.bg[g].stream.ki(a.uk)):a.uk=a.vg?a.vg.index+1:a.uk+1;w8I=8;break;}}});break;case 1:c=this;i8I=5;break;}}};a.prototype.q_a=function(a,b){var P8I,c,t2E,V2E,I2E;P8I=2;while(P8I!==9){t2E=", ";t2E+="p";t2E+="ts";t2E+=":";t2E+=" ";V2E=", sta";V2E+="t";V2E+="e: ";I2E="a";I2E+="dopt";I2E+="MediaRequest: type: ";switch(P8I){case 2:c=a.M;this.J.Yf&&this.Ua.Ui(I2E+c+V2E+b.readyState+t2E+b.Wb);this.U5(c,b.Wb);return a.Ja.X5a(b);break;}}};R3I=90;break;case 90:a.prototype.P5=function(a,b,c){var V8I,f;V8I=2;while(V8I!==8){switch(V8I){case 2:f=this;V8I=5;break;case 5:void 0===b&&(b=A.FR.j7);(c||this.oa.Ob).jga(a,b);this.Os.reset();(void 0===a?u.Df:[a]).forEach(function(a){var d8I;d8I=2;while(d8I!==1){switch(d8I){case 2:f.gb(a)&&(f.Uq[a].reset(),f.I3a(a),f.jf.zsb(a));d8I=1;break;}}});V8I=8;break;}}};a.prototype.Kha=function(a){var q8I,b;q8I=2;while(q8I!==4){switch(q8I){case 2:b=this;q8I=5;break;case 5:(void 0===a?u.Df:[a]).forEach(function(a){var c8I,c;c8I=2;while(c8I!==5){switch(c8I){case 2:null===(c=b.Uq[a])||void 0===c?void 0:c.stop();c8I=5;break;}}});q8I=4;break;}}};a.prototype.mH=function(a){var e8I,b;e8I=2;while(e8I!==3){switch(e8I){case 1:b=this;(void 0===a?u.Df:[a]).forEach(function(a){var x8I,c;x8I=2;while(x8I!==5){switch(x8I){case 2:null===(c=b.Uq[a])||void 0===c?void 0:c.resume();x8I=5;break;}}});e8I=4;break;case 4:return P.resolve();break;case 2:e8I=1;break;}}};a.prototype.dK=function(a){var a8I,b,c;a8I=2;while(a8I!==9){switch(a8I){case 2:b=this;a=void 0===a?u.Df:[a];null===(c=this.Os)||void 0===c?void 0:c.reset();a.forEach(function(a){var z8I,c;z8I=2;while(z8I!==5){switch(z8I){case 2:null===(c=b.Uq[a])||void 0===c?void 0:c.resume();z8I=5;break;}}});a8I=9;break;}}};a.prototype.I3a=function(a){var B8I,b;B8I=2;while(B8I!==9){switch(B8I){case 2:b=this.Za.De[a];this.Za.Kr[a].Jca=void 0;b.lq=0;B8I=3;break;case 3:b.aO=0;B8I=9;break;}}};a.prototype.U5=function(a,b){var T8I,c,f,d,A2E;T8I=2;while(T8I!==7){A2E="pt";A2E+="scha";A2E+="ng";A2E+="ed";switch(T8I){case 4:f=this.Za.De[a];d=this.Za.kv[a];h.U(f.Jl)&&(f.Jl=b,1===a&&this.ho&&(a=this.Za.De[0],h.U(a.Jl)&&(c=c.te(0),c.MB(b)),this.emit(A2E,b)));h.U(d.QK)&&(d.QK=b);T8I=7;break;case 5:T8I=c.te(a)?4:7;break;case 2:c=this.oa.Ob;T8I=5;break;}}};a.prototype.wAa=function(a){var W8I;W8I=2;while(W8I!==1){switch(W8I){case 2:this.Eg&&(this.Eg.ypb(a),this.Oua());W8I=1;break;}}};a.prototype.bX=function(a){var v8I;v8I=2;while(v8I!==1){switch(v8I){case 2:this.Eg&&(this.Eg.xpb(a),this.Oua());v8I=1;break;}}};a.prototype.Oua=function(){var j8I,a,g2E;j8I=2;while(j8I!==3){g2E="a";g2E+="ll";g2E+="Complete";g2E+="d";switch(j8I){case 8:j8I=7;break;j8I=1;break;case 2:j8I=1;break;case 1:j8I=this.Eg?5:3;break;case 5:a=this.J;this.Eg.CA()||(this.Eg=void 0,a.tK||this.Tv.yw||this.PT(g2E));j8I=3;break;}}};a.prototype.jK=function(){var O8I,a,b,c,f,d,k,g,n;O8I=2;while(O8I!==19){switch(O8I){case 2:a=this;b=this.J;c=this.cO;O8I=3;break;case 3:f=this.mc[c];d=this.oa.Ob;k=this.W.Vd()||0;O8I=7;break;case 7:g=this.jr(c,k);n=b.D0;this.ub.Me&&void 0!==f.Rx&&f.Rx-k<=b.ODa&&this.ub.Me.uK(!0,this.Rk.sessionId);this.W.Vc()===m.na.Jc&&([1,0].forEach(function(b){var r8I,c,f,m,p,t,u,l,s2E;r8I=2;while(r8I!==33){s2E="Unable to f";s2E+="ind request presenting";s2E+=" at player";s2E+="Pts:";switch(r8I){case 18:a.QS=m;l=0<m?m-1:null;a.Ua.n2a(f,k,u.om,null!==l?a.mc[l].O.u:null,l);r8I=15;break;case 26:p.Mnb=u.om;f=u.qa;f!=p.Jca&&(p.Jca=f,b=a.mc[m].O.xr(b,f),m=a.jr(m,u.pc),a.Ua.y2a(b,u.pc,m,b.O.Wa));u=u.R;r8I=22;break;case 4:r8I=c?3:33;break;case 1:r8I=a.gb(b)?5:33;break;case 22:h.U(u)||u==c.OFa||(c.OFa=u);r8I=21;break;case 19:r8I=(a.oa.Prb(u,u.om),m>a.QS)?18:27;break;case 15:g=a.jr(m,k);r8I=26;break;case 5:c=d.te(b);r8I=4;break;case 3:t=c.Ja;c.DE(k);(u=a.oa.or(k,d,b))&&!u.Ji&&(u=a.kf[b].nCa);r8I=7;break;case 20:r8I=!a.Ik||1===b?19:26;break;case 10:t=u.Ja;r8I=20;break;case 34:c.$a(s2E,k);r8I=21;break;case 7:r8I=u?6:34;break;case 27:a.ID&&u.om!=p.Mnb&&a.Ua.D2a(u.om);r8I=26;break;case 6:t=u.ge-k;t<n&&(n=t);p=a.Za.Kr[b];f=u.O;m=f.Wa;r8I=10;break;case 21:a.l3a(t,k);a.oa.Gvb();r8I=33;break;case 2:r8I=1;break;}}}),this.oa.Aq(k,g));this.Ue.bi();n=Math.max(n,1);this.vw&&clearTimeout(this.vw);O8I=20;break;case 20:this.vw=setTimeout(this.jK.bind(this),n);O8I=19;break;}}};a.prototype.nS=function(a){var L8I;L8I=2;while(L8I!==1){switch(L8I){case 4:return this.Ue.nS(a);break;L8I=1;break;case 2:return this.Ue.nS(a);break;}}};R3I=79;break;case 79:a.prototype.bi=function(){var A8I;A8I=2;while(A8I!==1){switch(A8I){case 4:return this.Ue.bi();break;A8I=1;break;case 2:return this.Ue.bi();break;}}};a.prototype.Jz=function(a,b){var l8I,c,f,d,G2E;l8I=2;while(l8I!==11){G2E="abo";G2E+="rtRequ";G2E+="es";G2E+="t with no requestM";G2E+="anagaer:";switch(l8I){case 5:l8I=!c?4:3;break;case 4:return this.$a(G2E,a),!1;break;case 14:this.kf[f].g_(a);!0===b&&this.Ue.bi();return d;break;case 2:c=a.Ja;l8I=5;break;case 3:f=a.M;d=a.abort();a.xc();a.Gf&&a.Gf.clear();c.g_(a);l8I=14;break;}}};a.prototype.a4a=function(a){var g1n,b,c,j2E;g1n=2;while(g1n!==3){j2E="n";j2E+="o newAu";j2E+="dioT";j2E+="rack";j2E+=" set";switch(g1n){case 2:b=a.M;c=this.Za.De[b];h.U(c.YY)?a.$a(j2E):(this.kf[b].pause(),c.NH=!0,a=this.ud.Ul(0),c=this.ud.O.getTrackById(c.YY.bb),this.Ua.c2a(a,c));g1n=3;break;}}};a.prototype.h3a=function(a){var K1n,b,c,f,d,k,h,g,m,n2E;K1n=2;while(K1n!==22){n2E="aud";n2E+="ioSwi";n2E+="tc";n2E+="h";switch(K1n){case 11:c=this.ub.wW(k.O.wa,[g],0);this.i4[0]=c[0];this.EL.isa(0,a.O);d.YY=void 0;this.jf.hH(null);this.P5(0,A.FR.iya,a);this.oa.yIa(a,!0);K1n=15;break;case 13:K1n=(null===(c=this.Eg)||void 0===c?0:c.CA())?12:11;break;case 7:h=k.O.getTrackById(this.Za.Dt.bb);g=h.s0;m=this.W.Vd()-a.Nc;K1n=13;break;case 2:b=this;f=this.J;a=a.bd;d=this.Za.De[0];this.Za.Dt=d.YY;k=this.ud;K1n=7;break;case 12:this.Eg.jxb(function(a){var s1n;s1n=2;while(s1n!==5){switch(s1n){case 3:s1n=6==a.M?3:6;break;s1n=0===a.M?1:5;break;case 1:return b.Jz(a,!1),!0;break;case 2:s1n=0===a.M?1:5;break;}}}),this.Eg.CA()||(this.Eg=void 0,f.tK||this.Tv.yw||this.PT(n2E));K1n=11;break;case 25:++c;K1n=27;break;case 24:a.ZGa(h,m);this.mH(0);K1n=22;break;case 26:this.pvb(c,g,m);K1n=25;break;case 15:c=this.JD;K1n=27;break;case 27:K1n=c<this.mc.length?26:24;break;}}};a.prototype.pvb=function(a,b,c){var b1n,f;b1n=2;while(b1n!==6){switch(b1n){case 3:b1n=a.O.nX?9:7;break;case 2:p.ul.Vl(0);a=this.mc[a];a.Eia(b);b1n=3;break;case 8:f?(a.O.bg[0]=f,a.jO=!1,f.stream.yd&&a.wU()):(a.O.bg[0]=void 0,a.jO=!1,a.O.TG([a.Ul(0)],!0,0));b1n=7;break;case 7:this.dK(0);b1n=6;break;case 9:a.Ul(0).zc.some(function(a){var h1n;h1n=2;while(h1n!==4){switch(h1n){case 2:f=a.zj();h1n=1;break;case 1:h1n=!(f&&f.stream&&f.stream.Y&&c<f.stream.Y.Nh(0))?5:4;break;case 5:return!!f;break;}}});b1n=8;break;}}};a.prototype.l3a=function(a,b){var U1n,c;U1n=2;while(U1n!==3){switch(U1n){case 2:c=this.kf[a.M];a=this.oa.fO(a.bd,a.M,b,this.ub.T_||0,function(a){var D1n;D1n=2;while(D1n!==1){switch(D1n){case 2:c.g_(a);D1n=1;break;case 4:c.g_(a);D1n=0;break;D1n=1;break;}}});h.U(a)||this.Ue.bi();U1n=3;break;}}};a.prototype.d1a=function(a){var N1n,b;N1n=2;while(N1n!==8){switch(N1n){case 3:this.J=this.Ava.w_a(a.Jf,this.J);this.mc.forEach(function(a,b){var J1n,c;J1n=2;while(J1n!==4){switch(J1n){case 2:c=a.O;c.nX||0===b||c.TG([a.Ul(0),a.Ul(1)]);J1n=4;break;}}});N1n=8;break;case 2:b=a.mediaType;a=this.mc[a.manifestIndex].O.xr(b,a.streamId);this.T3a(this.oa.Ob.te(b),a);N1n=3;break;}}};a.prototype.g1a=function(a){var o1n,b,c;o1n=2;while(o1n!==7){switch(o1n){case 2:b=a.request;a=a.mediaType;c=b.Ja.bd;o1n=3;break;case 3:c.vpb(a);b.y$&&this.Ua.h2a(b);b.xu&&this.Ua.w2a(a,b.O.Wa,c.ja);o1n=7;break;}}};a.prototype.T3a=function(a,b){var Y1n;Y1n=2;while(Y1n!==1){switch(Y1n){case 2:this.Za.Kr[a.M].RA={id:b.qa,index:b.Tg,R:b.R,Fa:b.kb&&b.kb.Ed&&b.kb.Fa?b.kb.Fa.Ca:0,location:b.location};Y1n=1;break;}}};a.prototype.IX=function(a){var E1n,b,c,f,d,k,h,g,m,n,p,t;E1n=2;while(E1n!==17){switch(E1n){case 3:E1n=!m.Ob.Gp?9:18;break;case 9:n=m.Ob;p=n.Ec(0);t=n.Ec(1);E1n=6;break;case 5:g=this.kf;m=this.oa;E1n=3;break;case 11:h.vbuflmsec=m.fr(n,1);h.abuflmsec=m.fr(n,0);a&&(h.a=null===p||void 0===p?void 0:p.Ja.Y.toJSON(),h.v=null===t||void 0===t?void 0:t.Ja.Y.toJSON());E1n=19;break;case 2:h={};E1n=5;break;case 18:return h;break;case 6:h.vspts=(b=null===t||void 0===t?void 0:t.Fb,null!==b&&void 0!==b?b:0);h.aspts=(c=null===p||void 0===p?void 0:p.Fb,null!==c&&void 0!==c?c:0);h.vbuflbytes=(f=null===t||void 0===t?void 0:t.no.ba,null!==f&&void 0!==f?f:0);h.abuflbytes=(d=null===p||void 0===p?void 0:p.no.ba,null!==d&&void 0!==d?d:0);E1n=11;break;case 19:a&&g&&(a=g[0],h.atoappend=null===(k=g[1])||void 0===k?void 0:k.F_(),h.vtoappend=null===a||void 0===a?void 0:a.F_());E1n=18;break;}}};a.prototype.cAa=function(a){var C1n,b,c,f,d,k,h,g;C1n=2;while(C1n!==12){switch(C1n){case 8:f=f.RA?f.RA.R:0;k=c.Ja.vZ;h=this.oa.Nc;C1n=14;break;case 2:C1n=1;break;case 3:f=this.Za.Kr[a];d=this.oa.Wz(b,a);C1n=8;break;case 4:C1n=c?3:12;break;case 1:b=this.oa.Ob;c=b.te(a);C1n=4;break;case 14:g=N.nk()[a];return{type:a,availableMediaBuffer:g-d,completeBuffer:b.lk(a),incompleteBuffer:k,playbackBitrate:c.OFa,streamingBitrate:f,streamingTime:c.Fb+h,usedMediaBuffer:d,toappend:c.BLa};break;}}};R3I=95;break;case 95:a.prototype.zxb=function(){var Q1n,a,K2E;Q1n=2;while(Q1n!==4){K2E="req";K2E+="ues";K2E+="tGarbageCollection";switch(Q1n){case 2:a={type:K2E,time:N.time.ea()};Y.Ha(this,a.type,a);Q1n=4;break;}}};a.prototype.zp=function(a,b,c,f,d,k){var R1n,D2E;R1n=2;while(R1n!==1){D2E="NFErr_MC_S";D2E+="treamingFailu";D2E+="re";switch(R1n){case 2:this.aE||(h.U(c)&&(c=D2E),this.aE=!0,this.Ua.A2a(c,a,f,d,k,void 0!==b?b:this.cO));R1n=1;break;}}};a.prototype.Zqa=function(){var G1n,o2E;G1n=2;while(G1n!==5){o2E="Netwo";o2E+="rk fai";o2E+="l";o2E+="ures re";o2E+="set!";switch(G1n){case 2:this.$a(o2E);this.Ue.bi();G1n=5;break;}}};a.prototype.h1a=function(a,b){var F1n;F1n=2;while(F1n!==5){switch(F1n){case 2:b=k.Nib(b);this.i4[a.M]=b;F1n=5;break;}}};Object.defineProperties(a.prototype,{Dt:{set:function(a){var m1n;m1n=2;while(m1n!==1){switch(m1n){case 2:this.Za.Dt=a;m1n=1;break;case 4:this.Za.Dt=a;m1n=4;break;m1n=1;break;}}},enumerable:!0,configurable:!0}});a.prototype.MW=function(a){var M1n,b;M1n=2;while(M1n!==4){switch(M1n){case 2:this.mc.some(function(c){var f1n;f1n=2;while(f1n!==1){switch(f1n){case 2:return c.O.Ak===a?(b=c.O.Wa,!0):!1;break;}}});return b;break;}}};a.prototype.Hib=function(a){var t1n,b;t1n=2;while(t1n!==4){switch(t1n){case 2:this.mc.some(function(c){var p1n;p1n=2;while(p1n!==1){switch(p1n){case 2:return c.O.pa===a?(b=c.O.Wa,!0):!1;break;}}});return b;break;}}};return a;break;}}}();c.FYa=a;d.cj(b.EventEmitter,a);},function(d,c,a){var b,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(16);d=a(44);g=a(76);a=function(a){function c(b,c,f,d,h,n){d=a.call(this,b,c,d,h,n)||this;c.ba=f.byteLength;g.yi.call(d,b,c);d.UD=f;d.K_a=c.ba;return d;}b.__extends(c,a);Object.defineProperties(c.prototype,{ac:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{tn:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Wc:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{status:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ti:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{eh:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{response:{get:function(){return this.UD;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Bob:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{readyState:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ae:{get:function(){return this.K_a;},enumerable:!0,configurable:!0}});c.prototype.IA=function(){return!0;};c.prototype.nE=function(a){this.Ji=a.appendBuffer(this.response,h.dm(this));return{aa:this.Ji};};c.prototype.Aj=function(){return-1;};c.prototype.abort=function(){return!0;};c.prototype.xc=function(){};c.prototype.iP=function(){return!1;};return c;}(a(167).qC);c.CMa=a;d.cj(g.yi,a);},function(d,c,a){var h,g,p,f,k;function b(a){return{mediaType:a.M,streamId:a.qa,movieId:a.u,bitrate:a.R,location:a.location,serverId:a.Jb,saveToDisk:!0,offset:a.offset,bytes:a.ba,timescale:a.X,frameDuration:a.stream.Ta&&a.stream.Ta.Gb,encrypted:a.wj,initSegments:1<a.mi.length?a.mi.map(function(a){return{fi:a.vA,s:a.data.byteLength,e:!!a.wj};}):void 0};}Object.defineProperty(c,"__esModule",{value:!0});h=a(6);g=a(743);p=a(393);f=a(16);k=a(33);c.FTa={eR:"movieEntry",xRa:"header",K2:"metadata",eSa:"headerData",wJb:"headerMetadata",aRa:"sizes",$Qa:"durations",dla:"fragments",QTa:"response",Sj:"billboard",Hv:{lifespan:259200}};c.wya=function(a,b,c){var f,d;f=b.headerData;c&&b.sizes instanceof ArrayBuffer&&b.durations instanceof ArrayBuffer&&(d={Lj:c.startTicks,offset:c.offset,X:c.timescale,sizes:new Uint32Array(b.sizes),Fd:new Uint32Array(b.durations)});return{ac:!0,M:a.mediaType,u:a.movieId,qa:a.streamId,R:a.bitrate,location:a.location,Jb:a.serverId,ba:a.bytes,offset:a.offset,oba:f,zX:a.initSegments,wj:a.encrypted,X:a.timescale,Ta:a.frameDuration,we:a.saveToDisk,Y:d};};c.vya=function(a,b){var c,f,d;b=b.response;c=a.startTicks;f=a.durationTicks;void 0!==c&&void 0!==f&&(d=c+f);return{ac:!1,M:a.mediaType,u:a.movieId,qa:a.streamId,R:a.bitrate,location:a.location,Jb:a.serverId,ba:a.bytes,offset:a.offset,response:b,X:a.timescale,eb:a.startTicks,so:f,we:a.saveToDisk,rb:d};};c.Dza=function(a){return{ie:a.priority,u:a.movieId,headers:{},Xp:0,PE:0,lX:0,we:a.saveToDisk,Ub:a.stats,wo:a.firstSelectedStreamBitrate,Bo:a.initSelectionReason,Yp:a.histDiscountedThroughputValue,Zl:a.histTdigest,pn:a.histAge,Jl:void 0};};c.Fza=function(a,b,c,f,d){var m,n;m={headers:{},data:{}};f.forEach(function(f){var h,n,l;h=f.M;h=d&&d.xr(h,f.qa);n=[];if(f.ac)if(!Array.isArray(f.zX)||2>f.zX.length)n.push({vA:0,data:f.oba});else for(var t=0,u=0;u<f.zX.length;++u){l=f.zX[u];n.push({vA:l.fi,data:f.oba.slice(t,t+l.s),wj:l.e});t+=l.s;}h?(f.Y&&h.jZ(n,f.X,f.Ta?new k.sa(f.Ta,f.X):void 0,f.Y),f.ac&&h&&h.yd?(void 0===m.headers&&(m.headers={}),m.headers[f.qa]=new p.f1(h,{ba:f.ba,offset:f.offset,mi:n,wj:f.wj},b)):f.response instanceof ArrayBuffer&&void 0!==h.Y&&void 0!==f.eb&&void 0!==f.X&&void 0!==f.rb&&(n=h.Y.XV(new k.sa(f.eb,f.X).Ka),void 0!==n&&(h=new g.CMa(h,{X:f.X,eb:f.eb,rb:f.rb,index:n.index,offset:f.offset,ba:f.ba},f.response,c,a,b),void 0===m.data&&(m.data={}),m.data[f.qa]||(m.data[f.qa]=[]),m.data[f.qa].push(h)))):b.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: "+f.qa+" movieId: "+f.u);});if(!h.U(m.data)){n=m.data;Object.keys(n).forEach(function(a){n[a].sort(function(a,b){return a.eb-b.eb;});});}return m;};c.zza=function(a){return{mediaType:a.M,streamId:a.qa,movieId:a.u,bitrate:a.R,location:a.location,serverId:a.Jb,saveToDisk:!0,offset:a.offset,bytes:a.ba,timescale:a.X,startTicks:a.eb,durationTicks:a.so};};c.nib=b;c.jib=function(a){var c,d,k,h;c=b(a);a.stream.yd&&a.stream&&a.stream.Y&&(d={timescale:a.stream.Y.X,startTicks:a.stream.Y.Lj,offset:a.stream.Y.Ng(0)},h=a.stream.Y.iH,k=h.sizes.buffer,h=h.Fd.buffer);return{mediaType:c.mediaType,streamId:c.streamId,movieId:c.movieId,bitrate:c.bitrate,location:c.location,serverId:c.serverId,saveToDisk:!0,offset:c.offset,bytes:c.bytes,timescale:c.timescale,frameDuration:c.frameDuration,headerData:f.hr(a.mi.map(function(a){return a.data;})),initSegments:c.initSegments,encrypted:a.wj,fragments:d,sizes:k,durations:h};};c.Eza=function(a){return{priority:a.ie,movieId:a.u,saveToDisk:a.we,firstSelectedStreamBitrate:a.wo,initSelectionReason:a.Bo,histDiscountedThroughputValue:a.Yp,histTdigest:a.Zl,histAge:a.pn};};c.Dmb=function(a){return!h.has(a,"startTicks");};c.JBa=function(a){return!a.oba||!a.X||!a.Y||void 0===a.Y.Lj||void 0===a.Y.offset||void 0===a.Y.Fd||!a.Y.Fd.length||void 0===a.Y.sizes||!a.Y.sizes.length;};c.IBa=function(a){return void 0===a.ba||void 0===a.offset||void 0===a.X||void 0===a.eb||void 0===a.so;};},function(d,c,a){var p,f;function b(a,c,f){Object.keys(a).forEach(function(d){var k,h;if(p.uf(a[d]))if(a[d].KX){k=a[d];h=f+k.offset;a[d]=c.slice(h,h+k.byteLength);}else a[d]=b(a[d],c,f);});return a;}function h(a,b,c){Object.keys(a).forEach(function(f){var d;if(p.KX(a[f])){d=a[f];b.push(d);a[f]={KX:!0,offset:c.M8,byteLength:d.byteLength};c.M8+=d.byteLength;}else p.uf(a[f])&&h(a[f],b,c);});return a;}function g(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;}p=a(112);f=a(59);d.P={w$a:function(a){var b,c,d;b=f(a,{});a=[];b=h(b,a,{M8:0});b=JSON.stringify(b);c=new ArrayBuffer(b.length+4);d=new DataView(c);d.setUint32(0,b.length);for(var k=4,n=0,p=b.length;n<p;n++)d.setUint8(k,b.charCodeAt(n)),k++;a=[c].concat(a);return g.apply(null,a);},v$a:function(a){var c;c=new DataView(a,0,4).getInt32(0);for(var f=new Uint8Array(a,4,c),d="",h=0;h<f.byteLength;h++)d+=String.fromCharCode(f[h]);c=4+c;d=JSON.parse(d);return b(d,a,c);}};},function(d,c,a){var g;function b(a,b){return a.length>b.length?1:b.length>a.length?-1:0;}function h(a,b){var c,f,d;c=[];if(g.uf(b)){f={};d={};d[a]=f;c.push(d);c=Object.keys(b).reduce(function(c,d){var k,m,n;k=b[d];n={};g.KX(k)?(m=a+".__embed__."+d,n[m]=k,c.push(n)):g.uf(k)?(m=a+".__sub__."+d,k=h(m,k),f[d]=k[0][m],c=c.concat(k.slice(1))):f[d]=k;return c;},c);}else d={},d[a]=b,c.push(d);return c;}g=a(112);d.P={qdb:h,kmb:function(a){var c,z;c=Object.keys(a).map(function(a){return a.split(".");});c.sort(b);for(var d=c[0],h=d.length,d=a[d.join(".")],g=1;g<c.length;g++)for(var n=!1,p=!1,l=d,q=h;q<c[g].length;q++){z=c[g][q];switch(z){case"__metadata__":break;case"__sub__":p=!0;break;case"__embed__":n=!0;break;default:p?(l=l[z],p=!1):n&&(l[z]=a[c[g].join(".")],n=!1);}}return d;},Gmb:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(d,c,a){function b(a){return a;}function h(){return b;}a(6);d.P={hM:h,Naa:h};},function(d,c,a){var b,h,g,p;b=a(6);h=a(112);g={};g[h.Ln.Gy]=function(a){return a;};g[h.Ln.JR]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};g[h.Ln.OBJECT]=function(a){var b;b=a||new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c<b.byteLength;c++)a+=String.fromCharCode(b[c]);return JSON.parse(a);};p={};p[h.Ln.Gy]=function(a){return a;};p[h.Ln.JR]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),f=0,d=a.length;f<d;f++)c[f]=a.charCodeAt(f);return b;};p[h.Ln.OBJECT]=function(a){return b.U(a)||b.Oa(a)?a:p[h.Ln.JR](JSON.stringify(a));};d.P={hM:function(a){return g[a]||g[h.Ln.Gy];},Naa:function(a){return p[a]||p[h.Ln.Gy];}};},function(d){function c(a,c,d,g){a.trace(":",d,":",g);c(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,d,g,p){g=p?g.bind(p):g;p=!1;if(a){this.console&&(g=c.bind(null,this.console,g,d));if("function"===typeof a.addEventListener)p=a.addEventListener(d,g);else if("function"===typeof a.addListener)p=a.addListener(d,g);else throw Error("Emitter does not have a function to add listeners for '"+d+"'");this.listeners.push([a,d,g]);}return p;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};d.P=a;},function(d){function c(a,c){var b;if(void 0===c||"function"!==typeof c||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.Pm)return this.Pm={},this.Pm[a]=[c],!0;b=this.Pm[a];return void 0===b?(this.Pm[a]=[c],!0):0>b.indexOf(c)?(b.push(c),!0):!1;}function a(a,c){a=this.Pm?this.Pm[a]:void 0;if(!a)return!1;a.forEach(function(a){a(c);});return!0;}d.P={addEventListener:c,on:c,removeEventListener:function(a,c){var b;if(void 0===c||"function"!==typeof c||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.Pm)return!1;b=this.Pm[a];if(void 0===b)return!1;c=b.indexOf(c);if(0>c)return!1;if(1===b.length)return delete this.Pm[a],!0;b.splice(c,1);return!0;},Ha:a,emit:a,removeAllListeners:function(a){this.Pm&&(void 0===a?delete this.Pm:delete this.Pm[a]);return this;}};},function(d){function c(a){if(!(this instanceof c))return new c(a);if("undefined"===typeof a)this.Qk=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.Qk=a;}this.Vn=[];}function a(c,d){var h,f,k,g,n,u,l;h=c.Vn;f=c.Qk;k=2*d+1;g=2*d+2;n=h[d];u=h[k];l=h[g];u&&f(u.ie,n.ie)&&(!l||f(u.ie,l.ie))?(b(h,d,k),a(c,k)):l&&f(l.ie,n.ie)&&(b(h,d,g),a(c,g));}function b(a,b,c){var f;f=a[b];a[b]=a[c];a[c]=f;}c.prototype.clear=function(){this.Vn=[];};c.prototype.qn=function(a,c){this.Vn.push({ie:a,value:c});a=this.Vn;c=this.Qk;for(var d=a.length-1,f=0===d?null:Math.floor((d-1)/2);null!==f&&c(a[d].ie,a[f].ie);)b(a,d,f),d=f,f=0===d?null:Math.floor((d-1)/2);};c.prototype.remove=function(){var c;if(0!==this.Vn.length){c=this.Vn[0];b(this.Vn,0,this.Vn.length-1);this.Vn.pop();a(this,0);return c.value;}};c.prototype.AG=function(){if(0!==this.Vn.length)return this.Vn[0].value;};c.prototype.enqueue=c.prototype.qn;c.prototype.h9=c.prototype.remove;c.prototype.gs=function(){return this.Vn.map(function(a){return a.value;});};d.P=c;},function(d,c,a){var h,g,p,f,k,m,t,u;function b(a,c,d){var D,S;function n(a,b,c,f){a.info.call(a,function(a,d){var k;if(a)f(a);else{try{k=d.values[this.context].entries[b][c].size;}catch(oa){k=-1;}-1<k?f(null,k):this.Bq(function(a,b){a?f(a):(b[c]&&(k=b[c].size),f(null,k));});}}.bind(a));}function l(a,c,f,d,h,m,p){var u;m?m.Wk||(m.Wk={}):m={Wk:{}};D(d);u=g.time.now();d=new t(function(b,d){a.create(g.storage.QC,c,f,function(a,c){a?d(a):b(c);});}).then(function(f){f.aa?n(a,g.storage.QC,c,function(a,d){a?p(a):(S(d),D(d),m.Wk[b.ZP.B2]={aa:!0,time:h,Ki:d,Ax:c,EGa:f,duration:g.time.now()-u},m.yj=f.yj,p(null,m));}):(m.Wk[b.ZP.B2]={aa:!1,Ax:c,error:f.error},p(null,m));},function(a){p(a);});k.Rr(d);}function y(a,b,c,f,d,k){f.qn(c.time,c);for(var h=c.time-864E5,g=f.AG();g&&!isNaN(g.time)&&g.time<h;)g=f.h9(),D(0-(g.ba||0)),g=f.AG();f=f.gs().map(function(a){return a.time+";"+a.ba;});l(a,b,Array.prototype.join.call(f,"|"),c.ba,c.time,d,k);}function q(a,c,f,d,k,h,t,u,l){var q;q=g.time.now();a.create(f,d,k,function(k,E){var z;if(k)m.error("Failed to replace item",d,k);else if(E.aa){z=E.yj;n(a,f,d,function(f,k){var m,n;if(f)l(f);else{f={time:u,ba:k||0};m={yj:z,Wk:{}};n=g.time.now()-q;m.Wk[b.ZP.REPLACE]={aa:!0,time:u,Ki:k,Ax:d,EGa:E,duration:n};h?y(a,c,f,t,m,l):(D(k),l(null,m));}});}else l(p.UR.In(E.error||"Failed to create item"));});}function E(a,c,f,d,k,h,t,u,l){var q;q=g.time.now();a.append(f,d,k,function(k,E){var z;if(k)m.error("Failed to save item "+d,k),l(k);else if(E.aa){z=E.yj;n(a,f,d,function(f,k){var m,n;if(f)l(f);else{f={time:u,ba:k||0};m={yj:z,Wk:{}};n=g.time.now()-q;m.Wk[b.ZP.YXa]={aa:!0,time:u,Ki:k,Ax:d,EGa:E,duration:n};h?y(a,c,f,t,m,l):(D(k),l(null,m));}});}else l(p.UR.In(E.error||"Failed to save item"));});}function r(a,b){a&&h.Tb(a.remove)&&a.jj.valid&&a.remove(g.storage.QC,b.ED,function(c,f){if(c)m.error("Failed to delete old journal key",c);else try{f&&(h.U(f.error)||f.error.some(function(a){return"NFErr_FileNotFound"===a.cRb;}))&&y(a,b.ED,{time:0,ba:0},b.aK,0,function(){});}catch(T){}});}if(!a.jj.valid)return u;this.xqa=h.U(c)||h.Oa(c)?0:c;this.E4=a;this.b5=this.oJ=0;this.aK=new f();this.$2a=d||"default";this.ED=this.$2a+".NRDCACHEJOURNALKEY";D=function(a){isNaN(a)||(this.oJ+=a);return this.oJ;}.bind(this);S=function(a){isNaN(a)||(this.b5+=a);return this.b5;}.bind(this);this.saa=function(){return this.ED;};this.save=function(a,b,c,f){var d;d=g.time.now();E(this.E4,this.ED,a,b,c,0<=this.xqa,this.aK,d,f);};this.replace=function(a,b,c,f){var d;d=g.time.now();q(this.E4,this.ED,a,b,c,0<=this.xqa,this.aK,d,f);};this.Fya=function(a){var b,d;b=this.oJ;a-=864E5;for(var c=this.aK.gs(),f=0;f<c.length;f++){d=c[f];d.time<a&&!isNaN(d.ba)&&(b-=d.ba);}return b;};(function(a){var b;b=a.E4;a.oJ=0;b.read(g.storage.QC,a.ED,0,-1,function(c,f){var d,k,h,p;d=[];k=0;h=!0;if(c)m.error("Failed to compile records",c);else if(f.aa){c=String.fromCharCode.apply(null,new Uint8Array(f.value));c=String.prototype.split.call(c,"|");f=c.reduce(function(a,b){return a+(b.length+40);},0);D(f);d=c.map(function(a){a=a.split(";");return{time:Number(a[0]),ba:Number(a[1])};});try{if(!isNaN(d.reduce(function(a,b){return a+b.ba;},0)))for(var h=!1,n=g.time.now()-864E5;k<d.length;k++){p=d[k];p.time<n||(a.aK.qn(p.time,p),D(p.ba));}}catch(wa){}}h&&r(b,a);});}(this));}h=a(6);g=a(113);p=a(211);f=a(751);c=a(59);k=a(210);m=new g.Console("DISKWRITEMANAGER","media|asejs");t=g.Promise;c({ZP:{YXa:"saveitem",REPLACE:"replaceitem",B2:"journalupdate"}},b);u={save:function(a,b,c,f){f(p.yma);},replace:function(a,b,c,f){f(p.yma);},saa:function(){return"";},Fya:function(){return 0;}};b.prototype.constructor=b;d.P={create:function(a,c,f){return new b(a,c,f);},eLb:u};},function(d,c,a){var k,m,t,u,l,q,r,z,G;function b(){}function h(c,f,d,n,t){var u;u=k.Tb(n)?n:b;this.iw=c;this.Ps=d.Hp;this.ut=0;this.G0a=d.afb||"NONE";this.Ss=k.U(t)||k.Oa(t)?0:t;this.Cd={};this.vp=d.yTb||m.storage.QC;this.Mq=f;this.iE=l.create(this.Mq,d.icb*this.Ss,this.iw);this.on=this.addEventListener=G.addEventListener;this.removeEventListener=G.removeEventListener;this.emit=this.Ha=G.Ha;this.$qa=p(this,h.Ld.REPLACE);this.i1a=p(this,h.Ld.Qpa);this.Az;this.Az=d.gLa?a(748):a(747);this.Mq.query(this.vp,this.zn(""),function(a,b){var c;if(a)u(a);else{c=this.iE.saa();a=Object.keys(b).filter(function(a){return a!==c&&q.LF(a);}).map(this.zia.bind(this));this.WZ(a,function(a,c){Object.keys(c).map(function(a){var f,d;f=c[a];this.Cd[q.QV(a)]=f;if(f.kga&&1<Object.keys(f.kga).length){d=0;Object.keys(f.kga).forEach(function(a){b[this.zn(a)]&&k.ma(b[this.zn(a)].size)&&(d+=b[this.zn(a)].size);}.bind(this));a=q.QV(a);this.Cd[a].size=d;}else a=q.QV(a),b[this.zn(a)]&&(this.Cd[a].size=b[this.zn(a)].size);}.bind(this));g(this.Mq,this.vp,this.iw,function(a,b){this.ut=b;a?u(a):u(null,this);}.bind(this));}.bind(this));}}.bind(this));}function g(a,c,f,d){var h;h=k.Tb(d)?d:b;a.query(c,f,function(a,b){a?h(a):(a=Object.keys(b).reduce(function(a,c){return a+(b[c].size||0);},0),h(null,a));});}function p(a,b){return function(c,f,d,n,p){return function(t,u){var l;if(t)f||a.Ha(h.Ld.ERROR,{itemKey:c,error:t}),d(t);else{l={Ki:0,duration:0,items:[],time:m.time.now()};Object.keys(u.Wk).map(function(b){var c;c=u.Wk[b];b={key:a.zia(c.Ax),wf:b};c.aa?(l.Ki+=c.Ki,b.WX=c.Ki,k.ma(c.duration)&&(l.duration+=c.duration)):b.error=c.error;l.items.push(b);});t=k.Tb(n)?n():0;0<p&&(l.OE=p-t);g(a.Mq,a.vp,a.iw,function(c,k){c?d(c):(a.ut=k,l.yj=a.Ps-k,f||a.Ha(b,z.Lya(l)),d(null,l));});}};};}function f(a,b){return 0<b&&a>=b?!0:!1;}k=a(6);m=a(113);t=a(211);c=a(59);u=new m.Console("MEDIACACHE","media|asejs");l=a(752);q=a(372);r=a(112);z=a(210);G=a(111).EventEmitter;c({Ld:{Qpa:"writeitem",REPLACE:"replaceitem",B2:"journalupdate",ERROR:"mediacache-error"}},h);h.prototype.getName=function(){return this.iw;};h.prototype.zia=function(a){return a.slice(this.iw.length+1);};h.prototype.kaa=function(){return Object.keys(this.Cd).filter(function(a){a=q.O$(this.Cd[a]);return void 0===a||0>=a.rva();}.bind(this));};h.prototype.ejb=function(){return Object.keys(this.Cd).reduce(function(a,b){var c;c=this.Cd[b];return c&&c.creationTime<a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:m.time.now()}).VUb;};h.prototype.$hb=function(){var a;switch(this.G0a){case"FIFO":a=this.ejb();}return a;};h.prototype.Lcb=function(a){var c;c=k.Tb(a)?a:b;this.mza(function(b){var f,d,k;f=this.Cd;d=Object.keys(f).reduce(function(a,b){b=f[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((b=b.filter(function(a){return!q.LF(a)&&0>d.indexOf(a);}))&&0<b.length){k=this;b=m.Promise.all(b.map(function(a){return new m.Promise(function(b,c){k["delete"](a,function(a){a?c(a):b();});});})).then(function(){c(void 0,{Rfa:!0});},function(a){c(a,{Rfa:!1});});z.Rr(b);}else a(void 0,{Rfa:!1});}.bind(this));};h.prototype.ewb=function(a,c,f){var d,h;d=k.Tb(c)?c:b;c=this.zn(a);h=m.time.now();this.Mq.read(this.vp,c,0,-1,function(b,c){var g;if(b)d(b);else if(c&&c.aa&&c.value){k.Tb(f)||(f=this.Az.hM(r.Ln.Gy),q.LF(a)?f=this.Az.hM(r.Ln.OBJECT):(b=this.Cd[a],!k.U(b)&&k.ma(b.resourceIndex[a])?(b=b.resourceIndex[a],k.U(b)&&(b=r.Ln.Gy),f=this.Az.hM(b)):u.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{g=f(c.value);}catch(U){return d(t.WC.In(U.message));}c={duration:m.time.now()-h};this.Cd[a]&&k.ma(this.Cd[a].size)&&(c.Lt=k.ma(this.Cd[a].size)?this.Cd[a].size:0);d(null,g,c);}else d(t.WC.In(c.error));}.bind(this));};h.prototype.read=function(a,b,c){this.ewb(a,b,c);};h.prototype.WZ=function(a,c,f){var d,h,g;d=k.Tb(c)?c:b;if("[object Array]"!==Object.prototype.toString.call(a))d(t.WC.In("item keys must be an array"));else{h={};g=[];a=m.Promise.all(a.map(function(a){return new m.Promise(function(b,c){var d;f&&!k.U(f[a])&&(d=this.Az.hM(f[a]));this.read(a,function(f,d,k){f?(d={},d[a]=f,c(d)):(h[a]=d,g.push({duration:k.duration,Lt:k.Lt}),b());},d);}.bind(this));}.bind(this))).then(function(){var a;a={};0<g.length&&(a=g.reduce(function(a,b){k.ma(b.duration)&&(a.duration+=b.duration);k.ma(b.Lt)&&(a.Lt+=b.Lt);return a;},{duration:0,Lt:0}));d(null,h,a);},function(a){d(a);});z.Rr(a);}};h.prototype.write=function(a,c,d,h,g){var m,n,p;d=k.Tb(d)?d:b;m=this.zn(a);n="function"===typeof g?g():0;p=r.aba(c);p=this.Az.Naa(p)(c);p.byteLength+this.ut>=this.Ps?d(t.uC):f(p.byteLength+n,this.Ss)?d(t.VR):this.iE.save(this.vp,m,c,this.i1a(a,h,d,g,this.Ss),p.byteLength);};h.prototype.replace=function(a,c,d,h,g){var m,n,p,l;m=k.Tb(d)?d:b;n=this.zn(a);p=0;"function"===typeof g&&(p=g());d=r.aba(c);l=this.Az.Naa(d)(c);d=(this.Cd[a]||{}).size||0;0>=d&&this.Cd[a]?this.Lza([a],function(b){u.trace("Replacing key",a,"which exists:",!!this.Cd[a],this.Cd[a]?this.Cd[a]:void 0,"and has size",b,"with",c,"with size",l.byteLength,"plus _used",this.ut,"vs capacity",this.Ps);l.byteLength-b+this.ut>=this.Ps?m(t.uC):f(l.byteLength-b+p,this.Ss)?m(t.VR):this.iE.replace(this.vp,n,c,this.$qa(a,h,m,g,this.Ss),l.byteLength);}.bind(this)):(u.trace("Replacing key",a,"which exists:",!!this.Cd[a],this.Cd[a]?this.Cd[a]:void 0,"and has size",d,"with",c,"with size",l.byteLength,"plus _used",this.ut,"vs capacity",this.Ps),l.byteLength-d+this.ut>=this.Ps?m(t.uC):f(l.byteLength-d+p,this.Ss)?m(t.VR):this.iE.replace(this.vp,n,c,this.$qa(a,h,m,g,this.Ss),l.byteLength));};h.prototype.pxb=function(a,c,f,d){var g;g=k.Tb(c)?c:b;"[object Object]"!==Object.prototype.toString.call(a)?g(t.UR.In("items must be a map of keys to objects")):(c=m.Promise.all(Object.keys(a).map(function(b){return new m.Promise(function(c){this.replace(b,a[b],function(a,f){a?c({error:a,Cn:b}):c(f);},!0,d);}.bind(this));}.bind(this))).then(function(a){var b,c,n,p;try{b=Number.MAX_VALUE;c=a.reduce(function(a,c){c.error||(a.Ki+=c.Ki,k.ma(c.duration)&&(a.duration+=c.duration),!k.U(c.yj)&&c.yj<b&&(b=c.yj),c.items.map(function(b){a.items.push({key:b.key,wf:b.wf,WX:b.WX,Qob:b.Qob,duration:b.duration});}),b<Number.MAX_VALUE&&(a.yj=b));return a;},{Ki:0,items:[],time:m.time.now(),duration:0});0<this.Ss&&(c.OE=this.Ss-d());n=a.filter(function(a){return!k.U(a.error);});p=z.uAa(n);f||(p?p.forEach(function(a){this.Ha(h.Ld.ERROR,a);}.bind(this)):this.Ha(h.Ld.REPLACE,z.Lya(c)));g(p,c);}catch(T){g(T);}}.bind(this),function(a){f||this.Ha(h.Ld.ERROR,a);g(a);}.bind(this)),z.Rr(c));};h.prototype["delete"]=function(a,c){var f;f=k.Tb(c)?c:b;this.Mq.remove(this.vp,this.zn(a),function(a,b){a?f(a):b&&b.aa?g(this.Mq,this.vp,this.zn(""),function(a,b){a?f(a):(this.ut=b,f());}.bind(this)):f(t.ZOa.In(b.error));}.bind(this));};h.prototype.mza=function(a){this.query("",function(b,c){b?(u.error("Failed to get keys",b),a([])):a(c);});};h.prototype.query=function(a,c){var f,d;f=k.Tb(c)?c:b;d=this.iE.saa();this.Mq.query(this.vp,this.zn(a),function(a,b){a?f(a):f(null,Object.keys(b).filter(function(a){return a!==d;}).map(this.zia.bind(this)));}.bind(this));};h.prototype.zn=function(a){return this.iw+"."+a;};h.prototype.clear=function(a){var c;c=k.Tb(a)?a:b;this.mza(function(a){var b;b=m.Promise.all(a.map(function(a){return new m.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){c(a);},function(a){this.Ha(h.Ld.ERROR,a);c([],a);}.bind(this));z.Rr(b);}.bind(this));};h.prototype.Lza=function(a,c){var f,d;f=k.Tb(c)?c:b;d=(a||[]).map(function(a){return this.zn(a);}.bind(this));this.Mq.query(this.vp,this.iw,function(b,c){b?(u.error("failed to get persisted size for keyset ",a,b),f(0)):(b=Object.keys(c).filter(function(a){return 0<=d.indexOf(a);}).reduce(function(a,b){return a+(c[b].size||0);},0),f(b));}.bind(this));};h.prototype.jhb=function(a){return this.iE.Fya(a);};h.prototype.constructor=h;d.P=h;},function(d,c,a){var h,g,p,f,k;function b(a){this.jj=a;this.context=a.context;this.AEa="NULLCONTEXT"===a.context?!0:!1;}h=a(6);g=a(113);p=new g.Console("DISKCACHE","media|asejs");f={context:"NULLCONTEXT",read:function(a,b,c,f,d){d("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,f){f("MediaCache is not supported");},append:function(a,b,c,f){f("MediaCache is not supported");},query:function(a,b,c){c([]);}};b.prototype.Hz=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length-1];a=a.slice(1,a.length-1);a.push(function(a){c(null,a);});try{if(this.AEa)throw Error("Media Cache not supported");b.apply(this.jj,a);}catch(y){c(y);}};b.prototype.query=function(a,b,c,f){try{if(this.AEa)throw Error("Media Cache not supported");this.jj.query(a,b,function(a){c(null,a);},f);}catch(E){c(E);}};b.prototype.read=function(a,b,c,f,d){this.Hz(this.jj.read,a,b,c,f,d);};b.prototype.remove=function(a,b,c){this.Hz(this.jj.remove,a,b,c);};b.prototype.create=function(a,b,c,f){this.Hz(this.jj.create,a,b,c,f);};b.prototype.append=function(a,b,c,f){this.Hz(this.jj.append,a,b,c,f);};b.prototype.info=function(a){this.Hz(this.jj.info,a);};b.prototype.Bq=function(a){this.Hz(this.jj.Bq,a);};b.prototype.flush=function(a){this.Hz(this.jj.flush,a);};b.prototype.clear=function(){this.jj.clear();};d.P={sbb:function(a){var c,d,m,n,l;c=a.KQb||"NRDMEDIADISKCACHE";k=a.Vw||0;0!==k||h.U(g.options)||h.U(g.options.eG)||(k=g.options.eG);a=k;try{n=g.storage.XE;if(!n||!h.uf(n))throw p.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(m=n[c])p.warn("Disk store exists, returning"),d=new b(m);else{if(h.U(g.storage)||!h.Tb(g.storage.SU)||g.options&&0===g.options.eG)throw p.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";p.warn("Disk store context doesn't exist, creating with size "+a);l=g.storage.SU({context:c,size:a,encrypted:!0,signed:!0});if(!l||!l.valid)throw"Failed to create disk store context";d=new b(l);}}catch(z){p.warn("Exception creating disk store context - returning NullContext (noops)",z);d=new b(f);}return d;},Mhb:function(){return k;},bIb:b};},function(d,c,a){var b,h,g,p,f;b=a(6);g=[];f=!1;d.P={FX:function(c,d,n){var k;if(f)b.Tb(n)&&(h.Co||h.GA?setTimeout(function(){n(h);},0):g.push(n));else{f=!0;k=a(113);k.EM(c);p=new k.Console("MEDIACACHE","media|asejs");h=new(a(373))(d,function(a){a&&p.warn("Failed to initialize MediaCache",a);b.Tb(n)&&setTimeout(function(){n(h);},0);g.map(function(a){setTimeout(function(){a(h);},0);});});}return h;},uRb:function(c,f){h=new(a(373))(c,function(a,c){a&&p.warn("Failed to initialize MediaCache",a);b.Tb(f)&&setTimeout(function(){f(c);},0);});}};},function(d,c,a){var b,h,g,p,f,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(27);a(7);h=a(755);g=a(6);p=a(217);f=a(16);d=a(44);k=a(744);m=k.FTa;a=function(){var e2E;function a(a,b,c){var x2E,C4E,O4E,c4E,U4E;x2E=2;while(x2E!==13){C4E="med";C4E+="i";C4E+="a|as";C4E+="ejs";O4E="ME";O4E+="DIAC";O4E+="ACH";O4E+="E";c4E="1SI";c4E+="YbZrNJ";c4E+="Cp9";U4E="Media ca";U4E+="che";U4E+=" has not ";U4E+="been ini";U4E+="tiaized";switch(x2E){case 7:this.ze=c;this.Qq=Promise.reject(U4E);c4E;x2E=13;break;case 2:this.I=new b.Console(O4E,C4E);this.l6=(a.wy||a.Mia)&&0<(a.Vw||(b.options||{}).eG||0);this.D0a=a.reb?a.reb:!1;this.Wn=a.Jda?a.Jda:!1;this.L1a=a.BDa?a.BDa:!1;this.J=a;this.Fl=b;x2E=7;break;}}}e2E=2;while(e2E!==27){switch(e2E){case 4:a.prototype.tob=function(a,b){var H1E,c,f;H1E=2;while(H1E!==3){switch(H1E){case 2:c=this;f=this.Fl.time.ea();H1E=4;break;case 4:return this.Qq.then(function(){var h1E;h1E=2;while(h1E!==1){switch(h1E){case 4:return c.gra(a);break;h1E=1;break;case 2:return c.gra(a);break;}}}).then(function(d){var Z1E,b4E;Z1E=2;while(Z1E!==5){b4E="med";b4E+="iaca";b4E+="c";b4E+="helooku";b4E+="p";switch(Z1E){case 1:return c.o3a(a.toString(),b,f);break;case 4:c.eH(b4E,{sY:c.Fl.time.ea()-f,$U:!1});Z1E=5;break;case 2:Z1E=d?1:4;break;case 9:Z1E=d?2:2;break;Z1E=d?1:4;break;}}});break;}}};a.prototype.kyb=function(a,b){var W1E,c;W1E=2;while(W1E!==4){switch(W1E){case 2:c=k.Eza(a);this.Yh.save(m.Sj,[m.eR,a.u].join("."),c,m.Hv,function(){var p1E;p1E=2;while(p1E!==1){switch(p1E){case 4:b();p1E=6;break;p1E=1;break;case 2:b();p1E=1;break;}}});W1E=4;break;}}};a.prototype.jyb=function(a,b){var l1E,c,d,h,n,p,t;l1E=2;while(l1E!==19){switch(l1E){case 2:c=this;d=[a.u,a.qa,m.xRa].join(".");l1E=4;break;case 4:h=this.Fl.time.ea();n=k.nib(a);p={};p[d+"."+m.K2]={Cn:n,zd:m.Hv};l1E=7;break;case 7:p[d+"."+m.eSa]={Cn:f.hr(a.mi.map(function(a){var M1E;M1E=2;while(M1E!==1){switch(M1E){case 4:return a.data;break;M1E=1;break;case 2:return a.data;break;}}})),zd:m.Hv};l1E=6;break;case 6:l1E=a.stream.yd&&!g.U(a.stream.Y)?14:20;break;case 10:p[d+"."+m.$Qa]={Cn:t.Fd.buffer,zd:m.Hv};l1E=20;break;case 20:this.Yh.THa(m.Sj,p,function(f){var m1E;m1E=2;while(m1E!==5){switch(m1E){case 2:f||(f=c.Fl.time.ea()-h,a.Ej&&(g.U(a.Ej.Ub.Gn)&&(a.Ej.Ub.Gn=0),a.Ej.Ub.Gn+=f));b();m1E=5;break;}}});l1E=19;break;case 14:n={timescale:a.stream.Y.X,startTicks:a.stream.Y.Lj,offset:a.stream.Y.Ng(0)};t=a.stream.Y.iH;p[d+"."+m.dla]={Cn:n,zd:m.Hv};p[d+"."+m.aRa]={Cn:t.sizes.buffer,zd:m.Hv};l1E=10;break;}}};a.prototype.iyb=function(a,b,c){var k1E,f,d,h,n,p,y4E;k1E=2;while(k1E!==11){y4E="Unable to save fragment bec";y4E+="ause response is not a";y4E+="n ArrayBuff";y4E+="er";switch(k1E){case 2:f=this;d=a.response;k1E=4;break;case 4:k1E=d instanceof ArrayBuffer?3:12;break;case 3:h=this.Fl.time.ea();n=[a.u,a.qa,a.Wb].join(".");k1E=8;break;case 12:c(Error(y4E));k1E=11;break;case 8:a=k.zza(a);p={};p[n+"."+m.K2]={Cn:a,zd:m.Hv};g.U(d)||(p[n+"."+m.QTa]={Cn:d,zd:m.Hv});this.Yh.THa(m.Sj,p,function(a){var U1E,L4E;U1E=2;while(U1E!==5){L4E="Faile";L4E+="d to";L4E+=" s";L4E+="ave fragment";switch(U1E){case 2:a?f.I.warn(L4E,a):(a=f.Fl.time.ea()-h,g.U(b.Ub.Gn)&&(b.Ub.Gn=0),b.Ub.Gn+=a);c();U1E=5;break;}}});k1E=11;break;}}};e2E=7;break;case 11:a.prototype.eH=function(a,b){var z1E,c,d4E,w4E,S4E,P4E;z1E=2;while(z1E!==8){d4E="media";d4E+="c";d4E+="ac";d4E+="h";d4E+="e";w4E="mediaca";w4E+="che";w4E+="lo";w4E+="ok";w4E+="up";S4E="sa";S4E+="vetodis";S4E+="k";P4E="me";P4E+="diacaches";P4E+="ta";P4E+="ts";switch(z1E){case 2:c={type:P4E,operation:a};S4E===a&&(c.saveTime=b.UHa);w4E===a&&(c.lookupTime=b.sY,c.dataFound=b.$U);c.oneObject=this.Wn;this.D0a&&this.emit(d4E,c);z1E=8;break;}}};a.prototype.Lvb=function(a,b){var E1E,c,f;E1E=2;while(E1E!==3){switch(E1E){case 2:c=this;E1E=5;break;case 5:f=Object.keys(a).map(function(b){var T1E;T1E=2;while(T1E!==1){switch(T1E){case 4:return c.qbb(a[b]);break;T1E=1;break;case 2:return c.qbb(a[b]);break;}}});return Promise.all(f).then(function(a){var u1E;u1E=2;while(u1E!==5){switch(u1E){case 2:a.sort(function(a,b){var a1E;a1E=2;while(a1E!==1){switch(a1E){case 2:return a.ac===b.ac?0:a.ac?-1:1;break;}}});return k.Fza(c.J,c.I,c.ze,a,b);break;}}});break;}}};a.prototype.qbb=function(a){var i1E,b,c,f,d;i1E=2;while(i1E!==3){switch(i1E){case 2:b=this;d={};return new Promise(function(h,g){var F1E,n;F1E=2;while(F1E!==5){switch(F1E){case 2:b.Yh.WZ(m.Sj,a,function(a,b){var J1E,p,r1E,V4E,I4E,q4E;J1E=2;while(J1E!==5){switch(J1E){case 2:try{r1E=2;while(r1E!==19){V4E="Missing ";V4E+="or inval";V4E+="id media data parts for s";V4E+="trea";V4E+="m ";I4E="Header fragments w";I4E+="as an array buffer,";I4E+=" is invalid type ";q4E="Missing or invalid header data par";q4E+="ts for strea";q4E+="m ";switch(r1E){case 11:r1E=k.IBa(n)?10:12;break;case 6:r1E=n.ac?14:11;break;case 4:r1E=k.Dmb(f)?3:20;break;case 3:r1E=c instanceof ArrayBuffer?9:7;break;case 1:return g(a);break;case 14:r1E=k.JBa(n)?13:12;break;case 2:r1E=a||void 0===b?1:5;break;case 13:return p=q4E+n.qa,g(p);break;case 5:Object.keys(b).map(function(a){var R1E,k,h,X1E;R1E=2;while(R1E!==9){switch(R1E){case 2:k=a.substr(a.lastIndexOf(".")+1);R1E=5;break;case 5:R1E=k===m.K2?4:3;break;case 3:k===m.dla?c=b[a]:d[k]=b[a];R1E=9;break;case 4:try{X1E=2;while(X1E!==5){switch(X1E){case 2:h=new Uint8Array(b[a]);f=JSON.parse(String.fromCharCode.apply(null,h));X1E=5;break;}}}catch(U){f=b[a];}R1E=9;break;}}});r1E=4;break;case 9:p=I4E+n.qa;return g(p);break;case 10:return p=V4E+n.qa,g(p);break;case 12:h(n);r1E=19;break;case 7:n=k.wya(f,d,c);r1E=6;break;case 20:n=k.vya(f,{response:d.response});r1E=6;break;}}}catch(S){g(S);}J1E=5;break;}}});F1E=5;break;}}});break;}}};e2E=19;break;case 7:a.prototype.lyb=function(a){var c1E,A,d,n,t,u,b,c,f,h,l,q,r,X,U;c1E=2;while(c1E!==32){switch(c1E){case 23:d[l]=r;c1E=22;break;case 17:A=0;c1E=16;break;case 15:X=q[A];c1E=27;break;case 12:d={},n=a.data,t=0,u=Object.keys(a.data);c1E=11;break;case 18:c1E=q?17:22;break;case 10:l=u[t];q=n[l];c1E=19;break;case 25:r[X.Wb]={mediaType:U.mediaType,streamId:U.streamId,movieId:U.movieId,bitrate:U.bitrate,location:U.location,serverId:U.serverId,saveToDisk:U.saveToDisk,offset:U.offset,bytes:U.bytes,timescale:U.timescale,startTicks:U.startTicks,durationTicks:U.durationTicks,response:X.response};c1E=24;break;case 11:c1E=t<u.length?10:21;break;case 19:r={};c1E=18;break;case 8:c1E=a.headers?7:13;break;case 2:b=this;c=this.Fl.time.ea();f={};d=k.Eza(a);f.movieEntry=d;c1E=8;break;case 26:U=k.zza(X);c1E=25;break;case 14:f.headers=h;c1E=13;break;case 16:c1E=A<q.length?15:23;break;case 13:c1E=a&&a.data?12:35;break;case 24:A++;c1E=16;break;case 35:d={lifespan:259200};this.L1a&&(d.convertToBinaryData=!0);this.Yh.save(m.Sj,a.u,f,d,function(a){var C1E,t4E;C1E=2;while(C1E!==1){t4E="savet";t4E+="od";t4E+="i";t4E+="sk";switch(C1E){case 2:a||b.eH(t4E,{UHa:b.Fl.time.ea()-c});C1E=1;break;}}});c1E=32;break;case 27:c1E=X instanceof p.e1&&X.response instanceof ArrayBuffer&&!g.U(X.Wb)?26:24;break;case 22:t++;c1E=11;break;case 7:h={};Object.keys(a.headers).forEach(function(b){var O1E,c;O1E=2;while(O1E!==4){switch(O1E){case 2:O1E=1;break;case 1:c=k.jib(a.headers[b]);h[b]=c;O1E=4;break;}}});c1E=14;break;case 21:f.data=d;c1E=35;break;}}};a.prototype.LBa=function(a){var b1E;b1E=2;while(b1E!==1){switch(b1E){case 2:return!(g.U(a)||g.Oa(a)||g.U(a.Ub)||g.Oa(a.Ub)||g.U(a.u)||g.Oa(a.u)||g.U(a.ie)||g.Oa(a.ie));break;}}};e2E=14;break;case 2:a.prototype.Xb=function(a,b){var B2E,c,g4E;B2E=2;while(B2E!==4){g4E="Media c";g4E+="ache";g4E+=" ";g4E+="is disabled";switch(B2E){case 2:c=this;return this.Qq=this.l6?new Promise(function(f,d){var z2E;z2E=2;while(z2E!==1){switch(z2E){case 2:(void 0!==b&&null!==b?b.FX:function(a){var E2E;E2E=2;while(E2E!==1){switch(E2E){case 4:return h.FX(c.Fl,c.J,a);break;E2E=1;break;case 2:return h.FX(c.Fl,c.J,a);break;}}})(function(b){var T2E,k,A4E;T2E=2;while(T2E!==3){A4E="Media ca";A4E+="c";A4E+="he ";A4E+="did not ini";A4E+="tialize";switch(T2E){case 2:c.Yh=b;k=b.Co;T2E=4;break;case 4:(b=b.GA)?d(b):k?(c.kAb(a),f()):d(Error(A4E));T2E=3;break;}}});z2E=1;break;}}}):Promise.reject(g4E);break;}}};a.prototype.xob=function(a){var u2E,b,c,f;u2E=2;while(u2E!==9){switch(u2E){case 4:f=this.Fl.time.ea();return this.Qq.then(function(){var a2E;a2E=2;while(a2E!==1){switch(a2E){case 2:return new Promise(function(d){var i2E;i2E=2;while(i2E!==1){switch(i2E){case 2:b.Yh.xB(m.Sj,c,function(c){var F2E,h,j4E;F2E=2;while(F2E!==9){j4E="me";j4E+="di";j4E+="acac";j4E+="h";j4E+="elookup";switch(F2E){case 1:F2E=!c||0>=c.length?5:4;break;case 4:h=c[0];b.Yh.read(m.Sj,h,function(c,f){var J2E,m,n,r2E,G4E,s4E;J2E=2;while(J2E!==14){G4E=" ";G4E+="f";G4E+="ai";G4E+="led";s4E="Readin";s4E+="g movie en";s4E+="try ";switch(J2E){case 4:J2E=f instanceof ArrayBuffer?3:9;break;case 2:c&&b.I.warn(s4E+h+G4E,c);J2E=5;break;case 5:J2E=!g.U(f)?4:8;break;case 9:m={priority:f.priority,movieId:f.movieId,saveToDisk:f.saveToDisk,firstSelectedStreamBitrate:f.firstSelectedStreamBitrate,initSelectionReason:f.initSelectionReason,histDiscountedThroughputValue:f.histDiscountedThroughput,histTdigest:f.histTdigest,histAge:f.histAge,headerCount:f.headerCount,dataRequestCount:f.dataRequestCount,headerRequestCount:f.headerRequestCount,stats:f.stats};J2E=8;break;case 3:try{r2E=2;while(r2E!==1){switch(r2E){case 2:m=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f)));r2E=1;break;}}}catch(S){}J2E=8;break;case 8:g.U(m)||(n=k.Dza(m));g.U(n)||g.Oa(n)||(n.Ub=n.Ub||{},n.headers=n.headers||{});b.LBa(n)?d(n):(b.K3a(a),d());J2E=14;break;}}});F2E=9;break;case 2:F2E=1;break;case 5:d(),b.eH(j4E,{sY:b.Fl.time.ea()-f,$U:!1});F2E=9;break;}}});i2E=1;break;}}});break;}}});break;case 2:b=this;c=[m.eR,a].join(".");u2E=4;break;}}};a.prototype.sob=function(a,b,c){var R2E,f,d,n4E;R2E=2;while(R2E!==8){n4E="Media ca";n4E+="che is ";n4E+="not ";n4E+="enabled";switch(R2E){case 5:R2E=!this.Qq?4:3;break;case 4:return Promise.reject(n4E);break;case 2:f=this;R2E=5;break;case 3:d=this.Fl.time.ea();return this.Qq.then(function(){var X2E;X2E=2;while(X2E!==1){switch(X2E){case 2:return new Promise(function(k){var Q2E;Q2E=2;while(Q2E!==1){switch(Q2E){case 2:f.Yh.xB(m.Sj,a,function(h){var Y2E;Y2E=2;while(Y2E!==5){switch(Y2E){case 1:f.Lvb(h,b).then(function(b){var v1E,h,m,D4E,K4E;v1E=2;while(v1E!==6){D4E="mediacac";D4E+="h";D4E+="eloo";D4E+="kup";K4E="N";K4E+="o conten";K4E+="t data f";K4E+="ound ";K4E+="for ";switch(v1E){case 4:h=f.Fl.time.ea()-d;m=!1;g.U(b)||g.U(b.data)||!g.uf(b.data)?f.I.trace(K4E+a,c):m=!0;f.eH(D4E,{sY:h,$U:m});k(b);v1E=6;break;case 5:return k();break;case 1:v1E=void 0===c||void 0===b?5:4;break;case 2:v1E=1;break;}}},function(){var N1E;N1E=2;while(N1E!==1){switch(N1E){case 2:k();N1E=1;break;case 4:k();N1E=2;break;N1E=1;break;}}});Y2E=5;break;case 2:h=h.reduce(function(a,b){var f2E,c,o4E;f2E=2;while(f2E!==8){o4E="dr";o4E+="mHeader.__e";o4E+="mbed__";switch(f2E){case 5:f2E=-1!==c.indexOf(o4E)?4:3;break;case 4:return a;break;case 2:c=b.substr(0,b.lastIndexOf("."));f2E=5;break;case 3:a[c]?a[c].push(b):a[c]=[b];return a;break;}}},{});Y2E=1;break;}}});Q2E=1;break;}}});break;}}});break;}}};e2E=4;break;case 15:return a;break;case 19:a.prototype.o3a=function(a,b,c){var Q1E,f;Q1E=2;while(Q1E!==4){switch(Q1E){case 2:f=this;return new Promise(function(d,h){var Y1E,n;Y1E=2;while(Y1E!==5){switch(Y1E){case 2:f.Yh.read(m.Sj,a,function(m,p){var f1E,y,q,E,u,l,t,z,z4E,B4E,x4E,e4E;f1E=2;while(f1E!==4){z4E="Missing or";z4E+=" invalid media data parts";z4E+=" for st";z4E+="rea";z4E+="m ";B4E="med";B4E+="iac";B4E+="achelookup";x4E="Header fragments wa";x4E+="s an arra";x4E+="y buffer, is invalid type ";e4E="Missing or invalid h";e4E+="eader da";e4E+="ta parts fo";e4E+="r stream ";switch(f1E){case 27:p.push(y);f1E=26;break;case 29:u++;f1E=23;break;case 1:f1E=m?5:3;break;case 10:y=l[u];y=t.headers[y];f1E=19;break;case 11:f1E=u<l.length?10:25;break;case 6:m=k.Dza(t.movieEntry);p=[];f1E=13;break;case 5:h(m);f1E=4;break;case 15:return m=e4E+y.qa,h(m);break;case 21:f1E=q<E.length?35:29;break;case 13:f1E=t.headers?12:25;break;case 22:y=l[u],q=0,E=Object.keys(t[y]);f1E=21;break;case 31:p.push(z);f1E=30;break;case 18:return m=x4E+y.streamId,h(m);break;case 17:y=k.wya(y,y,y.fragments);f1E=16;break;case 16:f1E=k.JBa(y)?15:27;break;case 12:u=0,l=Object.keys(t.headers);f1E=11;break;case 2:f1E=1;break;case 44:void 0!==n&&(n.Ej=m);f1E=43;break;case 43:f.eH(B4E,{sY:f.Fl.time.ea()-c,$U:!0});d(n);f1E=4;break;case 24:t=t.data,u=0,l=Object.keys(t);f1E=23;break;case 3:f1E=g.U(p)?9:8;break;case 32:return m=z4E+z.qa,h(m);break;case 8:t=p[a];f1E=7;break;case 33:f1E=k.IBa(z)?32:31;break;case 7:f1E=t.movieEntry?6:43;break;case 9:d();f1E=4;break;case 35:z=t[y][E[q]];z=k.vya(z,z);f1E=33;break;case 26:u++;f1E=11;break;case 28:n=k.Fza(f.J,f.I,f.ze,p,b);f1E=44;break;case 23:f1E=u<l.length?22:28;break;case 30:q++;f1E=21;break;case 25:f1E=t.data?24:28;break;case 19:f1E=y.fragments instanceof ArrayBuffer?18:17;break;}}});Y1E=5;break;}}});break;}}};a.prototype.gra=function(a){var v4E,b,E4E;v4E=2;while(v4E!==4){E4E="Media";E4E+=" cache is not e";E4E+="nabled";switch(v4E){case 2:v4E=1;break;case 9:v4E=8;break;v4E=1;break;case 1:b=this;return this.Qq?this.Qq.then(function(){var N4E;N4E=2;while(N4E!==1){switch(N4E){case 2:return new Promise(function(c){var H4E;H4E=2;while(H4E!==1){switch(H4E){case 2:b.Yh.xB(m.Sj,a.toString(),function(b){var h4E;h4E=2;while(h4E!==1){switch(h4E){case 2:b&&0!==b.length?1===b.length&&b[0]===a.toString()?c(!0):c(!1):c(!1);h4E=1;break;}}});H4E=1;break;}}});break;}}}):Promise.reject(E4E);break;}}};a.prototype.K3a=function(a){var Z4E,f,d;function c(a){var p4E;p4E=2;while(p4E!==1){switch(p4E){case 2:a.map(b);p4E=1;break;case 4:a.map(b);p4E=9;break;p4E=1;break;}}}function b(a){var W4E,T4E;W4E=2;while(W4E!==1){T4E="d";T4E+="e";T4E+="le";T4E+="t";T4E+="e";switch(W4E){case 2:f.Yh[T4E](m.Sj,a);W4E=1;break;}}}Z4E=2;while(Z4E!==9){switch(Z4E){case 2:f=this;d=a.toString();this.Yh.xB(m.Sj,[m.eR,a].join("."),c);this.Yh.xB(m.Sj,d,c);Z4E=9;break;}}};a.prototype.kAb=function(a){var l4E,c,i4E,u4E;l4E=2;while(l4E!==3){i4E="m";i4E+="edia";i4E+="ca";i4E+="che-error";u4E="m";u4E+="e";u4E+="diacach";u4E+="e";switch(l4E){case 2:c=new b.pp();c.on(this.Yh,u4E,function(b){var M4E,a4E;M4E=2;while(M4E!==4){a4E="m";a4E+="edi";a4E+="ac";a4E+="ac";a4E+="he";switch(M4E){case 9:M4E=b.keys&&b.items?3:0;break;M4E=b.keys||b.items?1:5;break;case 5:a.emit(a4E,b);M4E=4;break;case 1:b.keys||b.items.map(function(a){var m4E;m4E=2;while(m4E!==1){switch(m4E){case 4:return a.key;break;m4E=1;break;case 2:return a.key;break;}}});M4E=5;break;case 2:M4E=b.keys||b.items?1:5;break;}}});c.on(this.Yh,i4E,function(b){var k4E,J4E,F4E;k4E=2;while(k4E!==5){J4E="medi";J4E+="a";J4E+="cache";F4E="e";F4E+="r";F4E+="ro";F4E+="r";switch(k4E){case 2:b.type=F4E;a.emit(J4E,b);k4E=5;break;}}});l4E=3;break;}}};e2E=15;break;case 14:a.prototype.Zob=function(a){var y1E,b,c;y1E=2;while(y1E!==3){switch(y1E){case 4:return new Promise(function(a){var L1E,P1E;L1E=2;while(L1E!==4){switch(L1E){case 1:a();L1E=4;break;case 5:try{P1E=2;while(P1E!==1){switch(P1E){case 2:b.Yh.xB(m.Sj,"",function(b){var S1E;S1E=2;while(S1E!==5){switch(S1E){case 2:b=b.filter(function(a){var w1E,r4E;w1E=2;while(w1E!==5){r4E="mov";r4E+="i";r4E+="e";r4E+="E";r4E+="ntry";switch(w1E){case 2:a=a.split(".");return c&&(c===a[0]||r4E===a[0]&&c===a[1]);break;}}}).reduce(function(a,b){var d1E,c,R4E;d1E=2;while(d1E!==3){R4E="movieE";R4E+="n";R4E+="t";R4E+="ry";switch(d1E){case 2:c=b.split(".");R4E!==c[0]&&(b=c[1],c=c[2],g.U(a[b])&&(a[b]={}),g.U(a[b][c])&&(a[b][c]=!0));return a;break;}}},{});a(b);S1E=5;break;}}});P1E=1;break;}}}catch(z){a();}L1E=4;break;case 2:L1E=g.U(b.Yh)?1:5;break;case 8:a();L1E=3;break;L1E=4;break;}}});break;case 2:b=this;c=g.U(a)?"":a.toString();y1E=4;break;}}};a.prototype.wob=function(a,b){var q1E,c;q1E=2;while(q1E!==4){switch(q1E){case 2:c=this;return b&&b.headers&&b.headers&&0<Object.keys(b.headers).length&&b.data?new Promise(function(a){var I1E,c,f;I1E=2;while(I1E!==7){switch(I1E){case 4:I1E=b.data?3:8;break;case 2:c={};b.headers&&Object.keys(b.headers).forEach(function(a){var V1E;V1E=2;while(V1E!==5){switch(V1E){case 2:c[a]||(c[a]={});V1E=1;break;case 3:c[a]&&(c[a]={});V1E=4;break;V1E=1;break;case 1:c[a].header=!0;V1E=5;break;}}});I1E=4;break;case 3:f=b.data;I1E=9;break;case 8:return a(c);break;case 9:Object.keys(f).forEach(function(a){var t1E;t1E=2;while(t1E!==5){switch(t1E){case 2:c[a]||(c[a]={});f[a].forEach(function(b){var A1E;A1E=2;while(A1E!==1){switch(A1E){case 2:g.U(b.Wb)||(c[a][b.Wb]=!0);A1E=1;break;}}});t1E=5;break;}}});I1E=8;break;}}}):this.gra(a).then(function(b){var g1E;g1E=2;while(g1E!==5){switch(g1E){case 1:return new Promise(function(b){var s1E;s1E=2;while(s1E!==1){switch(s1E){case 2:c.Yh.read(m.Sj,a,function(c,f){var G1E,d,k;G1E=2;while(G1E!==4){switch(G1E){case 9:b(void 0);G1E=4;break;case 1:G1E=c?5:3;break;case 2:G1E=1;break;case 8:d=f[a];k={};d.headers&&Object.keys(d.headers).forEach(function(a){var j1E;j1E=2;while(j1E!==5){switch(j1E){case 1:k[a].header=!0;j1E=5;break;case 2:k[a]||(k[a]={});j1E=1;break;case 3:k[a]&&(k[a]={});j1E=8;break;j1E=1;break;}}});G1E=14;break;case 5:b();G1E=4;break;case 3:G1E=g.U(f)?9:8;break;case 14:d.data&&Object.keys(d.data).forEach(function(a){var n1E;n1E=2;while(n1E!==5){switch(n1E){case 2:k[a]||(k[a]={});Object.keys(d.data[a]).forEach(function(b){var K1E;K1E=2;while(K1E!==1){switch(K1E){case 4:k[a][b]=-1;K1E=6;break;K1E=1;break;case 2:k[a][b]=!0;K1E=1;break;}}});n1E=5;break;}}});b(k);G1E=4;break;}}});s1E=1;break;}}});break;case 2:g1E=b?1:5;break;}}});break;}}};a.prototype.Uib=function(){var D1E,a,X4E;D1E=2;while(D1E!==4){X4E="Media cache";X4E+=" i";X4E+="s not enabled";switch(D1E){case 2:a=this;return this.Qq?this.Qq.then(function(){var o1E;o1E=2;while(o1E!==1){switch(o1E){case 2:return new Promise(function(b){var e1E;e1E=2;while(e1E!==1){switch(e1E){case 2:a.Yh.xB(m.Sj,m.eR,function(a){var x1E,c;x1E=2;while(x1E!==8){switch(x1E){case 2:x1E=1;break;case 4:c=[];a.forEach(function(a){var B1E;B1E=2;while(B1E!==1){switch(B1E){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&c.push(a[1]);B1E=1;break;}}});b(c);x1E=8;break;case 1:x1E=!a||0>=a.length?5:4;break;case 5:b([]);x1E=8;break;}}});e1E=1;break;}}});break;}}}):Promise.reject(X4E);break;}}};e2E=11;break;}}}();c.sUa=a;d.cj(b.EventEmitter,a);},function(d,c,a){var b,h,g,p,f,k,m,t,u,l,q,r,z,G,M,N,P,W,Y,S,A,X,B,ia;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=a(27);h=a(7);g=a(6);p=a(236);f=a(217);k=a(401);m=a(87);a(412);t=a(374);u=a(164);l=a(14);q=a(224);r=a(756);z=a(75);G=a(21);M=a(4);N=a(214);P=a(383);W=M.Promise;Y=new M.Console("HEADERCACHE","media|asejs");a=new M.Console("MEDIACACHE","media|asejs");S=M.xC;A=Y.trace.bind(Y);a.trace.bind(a);X=Y.warn.bind(Y);B=Y.error.bind(Y);ia=Y.info.bind(Y);a=function(a){var Q4E;function c(b,c,f,d){var Y4E,B3s,A3s;Y4E=2;while(Y4E!==25){B3s="1";B3s+="SIYb";B3s+="Z";B3s+="rNJCp";B3s+="9";A3s="c";A3s+="atc";A3s+="h";switch(Y4E){case 7:b.pe=Object.create(null);b.Wv=0;b.Ii=[];b.PJ=c.hV;b.et=[];Y4E=11;break;case 11:b.vS=!1;b.tD=[];b.Cz={};b.l6=(b.El.wy||b.El.Mia)&&0<(b.El.Vw||(M.options||{}).eG||0);b.Wn=b.El.Jda;Y4E=17;break;case 2:b=a.call(this)||this;b.pj=A;b.Md=B;b.$a=X;b.vOb=ia;b.FJ=Object.create(null);b.El=c;Y4E=7;break;case 17:b.Re=void 0;b.l6&&(b.El.Vw||(c=(M.options||{}).eG||0,b.El.set?b.El.set({Vw:c}):b.El.Vw=(M.options||{}).eG||0),b.Re=new r.sUa(b.El,M,b),b.Re.Xb(b,d).then(function(){var f4E,L3s;f4E=2;while(f4E!==1){L3s="M";L3s+="edia ca";L3s+="c";L3s+="he initial";L3s+="ized";switch(f4E){case 4:A("");f4E=7;break;f4E=1;break;case 2:A(L3s);f4E=1;break;}}})[A3s](function(a){var v5E,W3s;v5E=2;while(v5E!==1){W3s="Media cache did not ";W3s+="ini";W3s+="tia";W3s+="lize";switch(v5E){case 2:B(W3s,a);v5E=1;break;case 4:B("",a);v5E=9;break;v5E=1;break;}}}));b.Rk=f;Y4E=27;break;case 27:B3s;return b;break;}}}Q4E=2;while(Q4E!==49){switch(Q4E){case 31:c.prototype.Zpa=function(a,b){var Q5E,c;Q5E=2;while(Q5E!==3){switch(Q5E){case 4:b.gta||b.we&&!this.Wn||(b.gta=!0,++this.Wv),b.headers||(b.headers={}),b.headers[c]=a,this.El.ML&&(b.Xp||(b.Xp=0),++b.Xp),this.hS();Q5E=3;break;case 8:c=a.qa;Q5E=6;break;Q5E=5;break;case 2:c=a.qa;Q5E=5;break;case 5:Q5E=(b=this.pe[a.u]||b)?4:3;break;}}};c.prototype.hS=function(){var Y5E,b,c,f;Y5E=2;while(Y5E!==11){switch(Y5E){case 5:Y5E=!(this.Wv<=this.PJ)?4:11;break;case 2:f=0;Y5E=5;break;case 3:Y5E=(c=this.Ii.shift())?9:4;break;case 7:for(var d in c.data){c.data[d].forEach(a);delete c.data[d];}Y5E=6;break;case 8:Y5E=c.data?7:6;break;case 6:delete this.pe[b];--this.Wv;Y5E=13;break;case 4:Y5E=this.Wv>this.PJ?3:12;break;case 9:b=c.u;Y5E=8;break;case 12:this.x3a(f);Y5E=11;break;case 13:this.w3a(b);Y5E=4;break;}}function a(a){var f5E;f5E=2;while(f5E!==5){switch(f5E){case 2:a.abort();f+=a.Ae;f5E=5;break;}}}};c.prototype.x3a=function(a){var v6E,R3s;v6E=2;while(v6E!==1){R3s="d";R3s+="is";R3s+="cardedBytes";switch(v6E){case 2:0!==a&&(a={type:R3s,bytes:a},this.emit(a.type,a));v6E=1;break;}}};Q4E=28;break;case 2:b.__extends(c,a);Object.defineProperties(c.prototype,{cache:{get:function(){var N5E;N5E=2;while(N5E!==1){switch(N5E){case 2:return this.pe;break;case 4:return this.pe;break;N5E=1;break;}}},enumerable:!0,configurable:!0}});Q4E=5;break;case 38:c.prototype.MZ=function(a,b){var C6E;C6E=2;while(C6E!==1){switch(C6E){case 4:return b.ie+a.ie;break;C6E=1;break;case 2:return b.ie-a.ie;break;}}};c.prototype.nGa=function(a){var b6E,b,c,f;b6E=2;while(b6E!==10){switch(b6E){case 5:b6E=a&&a.data?4:10;break;case 2:b={};b6E=5;break;case 4:for(c in a.data){f=a.data[c];0<f.length&&(b[f[0].M]={qa:c,yo:a.headers[c],data:f});}b.Jl=a.Jl;b.Xp=a.Xp;b6E=8;break;case 8:b.Ub=a.Ub;b.wo=a.wo;b.Bo=a.Bo;b.Yp=a.Yp;b.pn=a.pn;b.Zl=a.Zl;return b;break;}}};c.prototype.Dua=function(a,b,c,f,d,k){var y6E,I3s,h3s,c3s;y6E=2;while(y6E!==8){I3s="selectStrea";I3s+="m ret";I3s+="u";I3s+="rned null";h3s="updateSt";h3s+="re";h3s+="amSelection retu";h3s+="rned null list";c3s="d";c3s+="e";c3s+="f";c3s+="ault";switch(y6E){case 2:y6E=b.location.DP(a,c)?1:9;break;case 1:a=N[c3s](d,k);y6E=5;break;case 4:return c=c[b.ld],c.Bo=b.reason,c.Yp=b.qu,c.plb=b.pn,c.qX=b.Zl,c;break;case 5:y6E=(b=b.stream[f?1:0].C_(b.W,c,void 0,f?a.IZ:a.uB))?4:3;break;case 9:X(h3s);y6E=8;break;case 3:X(I3s);y6E=8;break;}}};c.prototype.dAa=function(a,b,c,f,d,k){var L6E,h,g,m,n;L6E=2;while(L6E!==14){switch(L6E){case 2:h=b.M===l.Na.VIDEO;g=[];m=[];L6E=3;break;case 3:b.zc.forEach(function(a){var P6E;P6E=2;while(P6E!==1){switch(P6E){case 2:(a.uu?m:g).push(a);P6E=1;break;}}});b=[];L6E=8;break;case 8:f&&0!==g.length&&(n=this.Dua(a,c,g,h,d,k))&&b.push(n);n||(n=this.Dua(a,c,m,h,d,k))&&b.push(n);return b;break;}}};Q4E=53;break;case 35:c.prototype.M1a=function(a,b,c){var i5E,f,d;i5E=2;while(i5E!==7){switch(i5E){case 2:f=a.b9;b.we&&this.Re&&(a.EY?f=a.EY:a.rDa&&0<a.rDa&&(f=2E3*a.rDa));i5E=4;break;case 4:i5E=0<f?3:9;break;case 3:return function(a,b){var q03=T1zz;var F5E;F5E=2;while(F5E!==1){switch(F5E){case 4:q03.P3s(0);return q03.d3s(f,b);break;F5E=1;break;case 2:q03.f3s(1);return q03.F3s(f,b);break;}}};break;case 9:d=c&&c.length<a.a9?c.length:a.a9;return function(a){var s33=T1zz;var J5E;J5E=2;while(J5E!==1){switch(J5E){case 4:s33.P3s(0);return s33.F3s(d,a);break;J5E=1;break;case 2:s33.f3s(1);return s33.d3s(d,a);break;}}};break;}}};c.prototype.lT=function(a,b){var r5E,c,f,d,k,h,m,n,p,t,u,y,j3s,x3s,e3s,K3s,q3s,D3s,Q3s;r5E=2;while(r5E!==47){j3s="un";j3s+="def";j3s+="in";j3s+="ed";x3s="no ";x3s+="proper fragment found to request";x3s+=" data at pt";x3s+="s";e3s="manager";e3s+="debug";e3s+="eve";e3s+="nt";K3s=", ";K3s+="star";K3s+="tP";K3s+="ts: ";q3s=", ";q3s+="pt";q3s+="s: ";D3s=", s";D3s+="t";D3s+="reamId";D3s+=": ";Q3s=", headerCache reques";Q3s+="tData: m";Q3s+="ovieId: ";switch(r5E){case 11:r5E=void 0===h.Jl?10:19;break;case 44:r5E=n<(m&&m.length||0)&&!c(t,d)?43:48;break;case 10:h.mV=a;return;break;case 52:++t;d+=p.duration;r5E=50;break;case 24:p.we=a.we;r5E=23;break;case 49:++n;r5E=44;break;case 39:r5E=u<m.length&&(p.ba<y||p.duration<k)?38:36;break;case 42:p.we=a.we;r5E=41;break;case 23:r5E=this.lha(a.M,k)?22:35;break;case 35:k.Yf&&(b="@"+M.time.ea()+Q3s+c+D3s+f+q3s+b+K3s+p.S,this.emit(e3s,{message:b}));r5E=34;break;case 9:r5E=this.vS?8:14;break;case 50:p=void 0;r5E=49;break;case 15:r5E=-1===n||void 0===n?27:26;break;case 2:c=a.u;f=a.qa;d=a.stream;k=a.Zc;r5E=9;break;case 27:B(x3s,b);r5E=47;break;case 26:p=a.stream.ki(n);r5E=25;break;case 37:++u;r5E=39;break;case 8:this.tD.push({klb:a,Oc:b});r5E=7;break;case 36:g.U(h.Jl)&&(h.Jl=p.S);p.we&&(p.responseType=0);a.we&&this.Re&&a.Mx&&a.Mx[f]&&j3s!==typeof p.S&&a.Mx[f][p.S]||(u=this.f0a(p,a.Zc),u.we&&(u.Ej=a.Ej),u.Or(),++h.PE,b.push(u));r5E=52;break;case 34:void 0===h.data&&(h.data={});void 0===h.data[f]&&(h.data[f]=[]);b=h.data[f];r5E=31;break;case 28:y=u===l.Na.VIDEO?k.OY:k.JY,k=u===l.Na.VIDEO?k.Jqb:k.Cqb;r5E=44;break;case 6:this.tD.shift();r5E=7;break;case 12:r5E=a.M===l.Na.AUDIO?11:18;break;case 48:h.mV&&!g.U(h.Jl)&&(a=h.mV,delete h.mV,this.lT(a,h.Jl));r5E=47;break;case 31:c=this.M1a(k,a,m);t=d=0;u=p&&p.M;r5E=28;break;case 7:r5E=this.tD.length>k.mba?6:47;break;case 13:r5E=h?12:47;break;case 40:T1zz.P3s(2);u=T1zz.d3s(1,n);r5E=39;break;case 19:b=h.Jl;r5E=18;break;case 43:r5E=(void 0===p&&(p=a.stream.ki(n)),void 0!==p)?42:49;break;case 22:t=p.YV(b);r5E=21;break;case 41:r5E=!g.U(m)&&!p.Sa?40:36;break;case 18:a.M===l.Na.AUDIO&&k.fo&&!k.Oz&&d.si&&(b=Math.max(d.Y&&d.Y.Nh(0)||0,b+d.si.Ka));m=a.stream.Y;n=m&&m.Tl(b);r5E=15;break;case 25:r5E=!g.U(p)?24:34;break;case 14:h=this.pe[c]||a.Ej;r5E=13;break;case 38:p.K6(m.get(u)),p.EN=u+1,n=u;r5E=37;break;case 21:t&&(p.M===l.Na.AUDIO&&!k.Qda&&t.Oc<(k.fo&&!k.Oz&&d.si?Math.floor(d.si.Ka):0)&&(++t.um,t.Oc+=p.Ta.Ka),0<t.um&&p.Jj({start:t.um}));r5E=35;break;}}};c.prototype.m_a=function(a){var R5E;R5E=2;while(R5E!==1){switch(R5E){case 4:this.Zpa(a,a.Ej);R5E=9;break;R5E=1;break;case 2:this.Zpa(a,a.Ej);R5E=1;break;}}};c.prototype.l_a=function(a,b){var X5E;X5E=2;while(X5E!==1){switch(X5E){case 4:this.Zpa(a,b);X5E=2;break;X5E=1;break;case 2:this.Zpa(a,b);X5E=1;break;}}};Q4E=31;break;case 9:c.prototype.Zub=function(a,b){var p5E,c,f,d,k,Y3s,w3s,o3s;p5E=2;while(p5E!==25){Y3s="A config must";Y3s+=" b";Y3s+="e passed to prepareP";w3s="); ";w3s+="igno";w3s+="ring prepare fo";w3s+="r movieId: ";o3s="PTS passed to HeaderCache.";o3s+="prepareP is not undefined or a positive nu";o3s+="mber ";o3s+="(";switch(p5E){case 10:p5E=!this.Wn||!c.we?20:17;break;case 6:return W.reject();break;case 7:p5E=k.dqb?6:14;break;case 14:p5E=!g.U(d)&&(!g.ma(d)||0>d)?13:12;break;case 18:for(var m in c.headers){a=c.headers[m];!g.U(a.url)&&null!==a.url&&(void 0===c.data||void 0===c.data[m]||c.data[m].length<k.a9)?this.lT(a,d):(g.U(a.url)||null===a.url)&&void 0!==c.data&&void 0!==c.data[m]&&0<c.data[m].length&&delete c.headers[m];}p5E=17;break;case 13:return B(o3s+d+w3s+c),W.reject();break;case 20:p5E=(c.ie=f,this.Ii.sort(this.MZ),!g.U(d))?19:17;break;case 17:return W.resolve();break;case 11:p5E=!g.U(c)&&(2<=c.Xp||!k.ML)?10:16;break;case 2:c=b.u;f=b.ie;d=b.Oc;h.assert(b.config,Y3s);k=b.config;p5E=8;break;case 8:this.eha(k.hV);p5E=7;break;case 12:c=this.pe[c];p5E=11;break;case 19:void 0===c.data&&(c.Ub.IG=void 0);p5E=18;break;case 16:p5E=!b.we||!this.Re||this.Wn?15:26;break;case 15:p5E=f>k.nba||this.Wv+1>this.PJ&&f>this.Ii[0].ie?27:26;break;case 27:return W.reject();break;case 26:return this.E3a(a,b);break;}}};c.prototype.flush=function(){var l5E,a,H3s,v3s;l5E=2;while(l5E!==7){H3s="manage";H3s+="rdebu";H3s+="gevent";v3s=", headerCa";v3s+="c";v3s+="he flush: ";switch(l5E){case 2:this.aya();for(var b in this.FJ){a=this.FJ[b];a.abort();}this.pe=Object.create(null);this.Wv=0;this.Ii=[];l5E=8;break;case 8:this.El.Yf&&(a="@"+M.time.ea()+v3s,this.emit(H3s,{message:a}));l5E=7;break;}}};c.prototype.list=function(){var M5E;M5E=2;while(M5E!==1){switch(M5E){case 2:return this.Ii;break;case 4:return this.Ii;break;M5E=1;break;}}};c.prototype.eha=function(a){var m5E;m5E=2;while(m5E!==1){switch(m5E){case 2:this.PJ!==a&&(this.PJ=a,this.hS());m5E=1;break;}}};Q4E=14;break;case 24:c.prototype.A4=function(a,b){var z5E,c;z5E=2;while(z5E!==7){switch(z5E){case 8:return b;break;case 4:b=new k.pja(a.stream,b,this.et[c],a,this,!0,Y);b.we=a.we;b.Me=this;z5E=8;break;case 2:c=a.stream.M;2>this.et.length&&this.tqa();z5E=4;break;}}};c.prototype.f0a=function(a,b){var E5E,c;E5E=2;while(E5E!==7){switch(E5E){case 4:b=f.e1.create(a.stream,b,this.et[c].track,a,this,!0,Y);b.we=a.we;b.Me=this;return b;break;case 2:c=a.stream.M;2>this.et.length&&this.tqa();E5E=4;break;}}};c.prototype.kS=function(a){var T5E,b,b3s;T5E=2;while(T5E!==8){b3s="save";b3s+="t";b3s+="odi";b3s+="sk";switch(T5E){case 2:this.ac(a)&&delete this.FJ[a.qa];T5E=5;break;case 9:b&&0===b.lX&&0===b.PE&&(this.P3a(b,a.Wc),b.we&&this.Re&&(b.Ub.aqb||(this.Wn?this.Re.lyb(b):this.Re.eH(b3s,{UHa:b.Ub.Gn}))));T5E=8;break;case 5:this.ac(a)||delete a.response;a.xc();b=this.pe[a.u]||a.Ej;T5E=9;break;}}};Q4E=21;break;case 21:c.prototype.F3a=function(a,b,c,f){var u5E,d;u5E=2;while(u5E!==11){switch(u5E){case 2:d=this.A4(a,f);d.tHa=b;d.Ej=c;d.Mx=a.Mx;u5E=9;break;case 9:u5E=!d.Or()?8:7;break;case 14:u5E=a.xM?13:12;break;case 8:return W.reject();break;case 7:c.lX++;this.FJ[d.qa]=d;u5E=14;break;case 13:d.xM=a.xM;u5E=11;break;case 12:return new W(function(a){var a5E;a5E=2;while(a5E!==1){switch(a5E){case 4:d.xM=a;a5E=2;break;a5E=1;break;case 2:d.xM=a;a5E=1;break;}}});break;}}};Q4E=35;break;case 5:c.prototype.i_=function(){var H5E;H5E=2;while(H5E!==1){switch(H5E){case 2:return this.et.map(function(a){var h5E;h5E=2;while(h5E!==1){switch(h5E){case 2:return a.i_();break;case 4:return a.i_();break;h5E=1;break;}}});break;}}};c.prototype.en=function(){var Z5E;Z5E=2;while(Z5E!==5){switch(Z5E){case 1:this.zqa();Z5E=5;break;case 2:this.flush();Z5E=1;break;}}};c.prototype.uK=function(a,b,c){var W5E,f,d;W5E=2;while(W5E!==7){switch(W5E){case 4:W5E=(f[b]=a)?3:9;break;case 3:for(var k in f){f.hasOwnProperty(k)&&!1===f[k]&&(d=!1);}W5E=9;break;case 9:c&&delete f[b];d?(this.vS=!1,this.H1a()):this.vS=!0;W5E=7;break;case 2:f=this.Cz;d=a;W5E=4;break;}}};Q4E=9;break;case 18:c.prototype.PN=function(a){var d5E,r3s;d5E=2;while(d5E!==5){r3s="_";r3s+="o";r3s+="nEr";r3s+="ro";r3s+="r: ";switch(d5E){case 2:X(r3s,a.toString());this.kS(a);d5E=5;break;}}};c.prototype.Msb=function(a){var q5E,b;q5E=2;while(q5E!==8){switch(q5E){case 1:b=this;a.wCb=a.Wc;this.m_a(a);q5E=3;break;case 3:g.U(a.xM)||a.xM(a.wCb);this.G3a(a,function(){var I5E;I5E=2;while(I5E!==1){switch(I5E){case 2:g.U(a)||(g.U(a.Ej)||a.Ej.lX--,b.kS(a));I5E=1;break;}}});q5E=8;break;case 2:q5E=1;break;}}};c.prototype.Nsb=function(a){var V5E,b,c,f,d,z3s,m3s,p3s,N3s,V3s;V5E=2;while(V5E!==14){z3s="ma";z3s+="nage";z3s+="rd";z3s+="ebuge";z3s+="vent";m3s=",";m3s+=" rema";m3s+="in";m3s+="ing: ";p3s=",";p3s+=" pt";p3s+="s";p3s+=": ";N3s=", stre";N3s+="a";N3s+="mI";N3s+="d: ";V3s=", headerCa";V3s+="che dat";V3s+="aComplete: movieId: ";switch(V5E){case 2:b=this;c=a.u;f=this.pe[c]||a.Ej;V5E=3;break;case 9:V5E=(this.El.Yf&&(c="@"+M.time.ea()+V3s+c+N3s+a.qa+p3s+a.S+m3s+(f.PE-1),this.emit(z3s,{message:c})),a.we&&0===a.responseType&&this.Re&&!this.Wn)?8:6;break;case 3:V5E=f?9:14;break;case 8:d=M.time.now();this.Re.iyb(a,f,function(c){var t5E;t5E=2;while(t5E!==4){switch(t5E){case 2:c||g.U(f)||(c=M.time.ea()-d,g.U(f.Ub)&&(f.Ub={}),g.U(f.Ub.Gn)&&(f.Ub.Gn=0),f.Ub.Gn+=c);--f.PE;b.kS(a);t5E=4;break;}}});V5E=14;break;case 6:--f.PE,b.kS(a);V5E=14;break;}}};c.prototype.tqa=function(){var A5E;A5E=2;while(A5E!==1){switch(A5E){case 2:0===this.et.length&&(this.et=[u.np.Mf.Qw(0,void 0,!1,!1,this.Rk,this.El),u.np.Mf.Qw(1,void 0,!1,!1,this.Rk,this.El)],S.qf());A5E=1;break;}}};Q4E=27;break;case 27:c.prototype.zqa=function(){var g5E,a;g5E=2;while(g5E!==3){switch(g5E){case 2:a=this.et;this.et=[];a.forEach(function(a){var s5E;s5E=2;while(s5E!==1){switch(s5E){case 2:u.np.Mf.pV(a);s5E=1;break;case 4:u.np.Mf.pV(a);s5E=5;break;s5E=1;break;}}});g5E=3;break;}}};c.prototype.H1a=function(){var G5E,a;G5E=2;while(G5E!==4){switch(G5E){case 2:a=this;!this.vS&&0<this.tD.length&&(this.tD.forEach(function(b){var j5E;j5E=2;while(j5E!==1){switch(j5E){case 2:a.lT(b.klb,b.Oc);j5E=1;break;}}}),this.tD=[]);G5E=4;break;}}};c.prototype.E3a=function(a,b){var n5E,c,f,d,k,m,n,p,u,y,E,z,r,D,E3s;n5E=2;while(n5E!==25){E3s="A config must";E3s+=" be pas";E3s+="sed ";E3s+="to _requestHeader";switch(n5E){case 9:m=b.we;n=b.Iib();p=n.wa;u=n.rf;n5E=14;break;case 2:c=this;f=b.u;d=b.ie;k=b.Oc;n5E=9;break;case 14:n=n.tE;h.assert(b.config,E3s);y=b.config;y=t.yva(y,p);n5E=10;break;case 10:b={stream:[new P.M3(y.d7,y,void 0),new P.M3(y.e0,y,void 0)],location:new q.H2(p,a.sb,a.ih,y,void 0),W:{state:G.na.Dg,QX:!0,Nfa:0,buffer:{Hp:void 0,S:0,vd:0,Fb:0,Ql:0,Xi:0,Y:[],Qh:void 0,K$:void 0}}};E=this.Wjb(a,b,p,n,u,y);n5E=19;break;case 19:n5E=!E?18:17;break;case 17:z=this.pe[f];z||(z={ie:d,u:f,headers:Object.create(null),Xp:0,lX:0,PE:0,data:void 0,we:m,Ub:{},mV:void 0,gta:void 0},!z.we||this.Wn?this.pe[f]=z:z.Ub.Gn=0,this.Ii.push(z),this.Ii.sort(this.MZ));r=[];y.jlb&&(D=2292+12*Math.ceil(p.duration/2E3));n5E=26;break;case 26:return(m&&this.Re?this.Wn?this.Re.wob(f,z):this.Re.Zob(f):W.resolve(void 0)).then(function(a){var K5E;K5E=2;while(K5E!==5){switch(K5E){case 2:E.forEach(function(b){var D5E,f;D5E=2;while(D5E!==4){switch(D5E){case 2:f=D?D:y.mX;y.ML&&z.headers[b.qa]||(g.U(z.wo)&&b.M===l.Na.VIDEO&&(z.wo=b.R,z.Bo=b.Bo,z.Yp=b.Yp,z.pn=b.plb,z.Zl=b.qX),u&&b.M===l.Na.VIDEO&&y.SV?f=y.SV:y.jLa&&b.Yr&&(f=b.Yr.offset+b.Yr.size),b={stream:b,url:b.url,offset:0,ba:f,we:m},m&&(z.Ub.aqb=!g.U(a)&&0<Object.keys(a).length,b.Mx=a),b=c.F3a(b,k,z,y),r.push(b));D5E=4;break;}}});return W.all(r);break;}}}).then(function(a){var o5E;o5E=2;while(o5E!==1){switch(o5E){case 2:return new W(function(b){var e5E;e5E=2;while(e5E!==1){switch(e5E){case 2:c.Re&&m&&!c.Wn?c.Re.kyb(z,function(){var x5E;x5E=2;while(x5E!==1){switch(x5E){case 2:b(a);x5E=1;break;case 4:b(a);x5E=9;break;x5E=1;break;}}}):b(a);e5E=1;break;}}});break;}}}).then(function(a){var B5E;B5E=2;while(B5E!==3){switch(B5E){case 2:a=Math.max.apply(Math,a);z.Ub.cW=z.Ub.RAa;z.Ub.gY=a;return{firstheadersent:z.Ub.cW,lastheadercomplete:z.Ub.gY};break;}}});break;case 18:return W.reject();break;}}};Q4E=24;break;case 28:c.prototype.z3a=function(a){var N6E,a3s;N6E=2;while(N6E!==1){a3s="flushed";a3s+="B";a3s+="yte";a3s+="s";switch(N6E){case 2:0!==a&&(a={type:a3s,bytes:a},this.emit(a.type,a));N6E=1;break;}}};c.prototype.w3a=function(a){var H6E,u3s;H6E=2;while(H6E!==5){u3s="cac";u3s+="he";u3s+="E";u3s+="vic";u3s+="t";switch(H6E){case 2:a={type:u3s,movieId:a};this.emit(a.type,a);H6E=5;break;}}};c.prototype.G3a=function(a,b){var h6E,c;h6E=2;while(h6E!==9){switch(h6E){case 2:c=a.Zc;g.U(a.tHa)||this.lT(a,a.tHa);!this.Re||!a.we||this.Wn||g.U(a.Mx)||a.Mx[a.qa]&&a.Mx[a.qa].header?b():this.Re.jyb(a,b);c.G0||0!==Object.keys(this.FJ).length||this.zqa();h6E=9;break;}}};c.prototype.P3a=function(a,b){var Z6E,U3s;Z6E=2;while(Z6E!==4){U3s="p";U3s+="rebu";U3s+="ffs";U3s+="tat";U3s+="s";switch(Z6E){case 2:a.Ub.GZ=b;a={type:U3s,movieId:a.u,stats:{prebuffstarted:a.Ub.IG,prebuffcomplete:a.Ub.GZ}};this.emit(a.type,a);Z6E=4;break;}}};c.prototype.D1a=function(a,b){var W6E,c,i3s;W6E=2;while(W6E!==4){i3s="Me";i3s+="dia c";i3s+="ache is ";i3s+="not ena";i3s+="bled";switch(W6E){case 2:c=this;return this.Re?this.Re.tob(a,b).then(function(b){var p6E;p6E=2;while(p6E!==5){switch(p6E){case 1:return c.pe[a]=b.Ej,++c.Wv,c.hS(),c.Ii.push(b.Ej),c.Ii.sort(c.MZ),c.$pa(a,b),c.cache[a];break;case 2:p6E=b&&b.Ej?1:5;break;}}}):W.reject(i3s);break;}}};c.prototype.C1a=function(a,b){var l6E,c,f,d,G3s;l6E=2;while(l6E!==6){G3s="Media cac";G3s+="he is not ";G3s+="en";G3s+="abl";G3s+="ed";switch(l6E){case 4:f=void 0;d=!1;l6E=9;break;case 2:c=this;l6E=5;break;case 7:return W.reject(G3s);break;case 5:l6E=this.Re?4:7;break;case 9:this.Re.LBa(this.pe[a])?(f=W.resolve(this.pe[a]),d=!0):f=this.Re.xob(a);return f.then(function(f){var M6E;M6E=2;while(M6E!==1){switch(M6E){case 2:return!g.U(f)&&c.Re?c.Re.sob(a,b,f).then(function(b){var m6E;m6E=2;while(m6E!==5){switch(m6E){case 2:b&&(d||(c.pe[a]=f,++c.Wv,c.hS(),c.Ii.push(f),c.Ii.sort(c.MZ)),c.$pa(a,b));return c.pe[a];break;}}}):W.resolve(void 0);break;}}});break;}}};c.prototype.$pa=function(a,b){var k6E,c,f,d,k;k6E=2;while(k6E!==14){switch(k6E){case 7:k=b.data;Object.keys(k).forEach(function(a){var c6E,b,c;c6E=2;while(c6E!==8){switch(c6E){case 3:c=f.data;b.forEach(function(b){var O6E;O6E=2;while(O6E!==1){switch(O6E){case 4:c[a].push(b);O6E=7;break;O6E=1;break;case 2:c[a].push(b);O6E=1;break;}}});c6E=8;break;case 2:b=k[a];g.U(f.data)&&(f.data={});g.U(f.data[a])&&(f.data[a]=[]);c6E=3;break;}}});k6E=14;break;case 5:k6E=b?4:14;break;case 2:c=this;k6E=5;break;case 4:f=this.pe[a];d=b.headers;f&&d&&Object.keys(d).forEach(function(a){var U6E;U6E=2;while(U6E!==1){switch(U6E){case 2:c.l_a(d[a],f);U6E=1;break;case 4:c.l_a(d[a],f);U6E=2;break;U6E=1;break;}}});k6E=8;break;case 8:k6E=b.data?7:14;break;}}};Q4E=38;break;case 14:c.prototype.dN=function(a,b){var k5E;k5E=2;while(k5E!==4){switch(k5E){case 2:k5E=(a=this.pe[a])?1:4;break;case 5:return b;break;case 1:k5E=(b=a.headers[b])?5:4;break;}}};c.prototype.Yob=function(a,b){var U5E,c,f;U5E=2;while(U5E!==3){switch(U5E){case 2:c=this;U5E=5;break;case 8:c=this;U5E=7;break;U5E=5;break;case 5:f=this.RCa(a);return f||!this.Re?W.resolve(f):(this.Wn?this.D1a(a,b):this.C1a(a,b)).then(function(a){var c5E;c5E=2;while(c5E!==1){switch(c5E){case 4:return c.nGa(a);break;c5E=1;break;case 2:return c.nGa(a);break;}}});break;}}};c.prototype.RCa=function(a){var O5E;O5E=2;while(O5E!==1){switch(O5E){case 2:return this.nGa(this.pe[a]);break;case 4:return this.nGa(this.pe[a]);break;O5E=1;break;}}};c.prototype.Bu=function(){var C5E,T3s;C5E=2;while(C5E!==1){T3s="Media cache";T3s+=" is n";T3s+="ot enabled";switch(C5E){case 2:return this.Re?this.Re.Uib():W.reject(T3s);break;}}};c.prototype.aya=function(){var b5E,c,f,d,y3s,s3s;b5E=2;function b(a,b){var L5E;L5E=2;while(L5E!==1){switch(L5E){case 2:a&&a.data&&a.data[b].forEach(function(a){var P5E;P5E=2;while(P5E!==5){switch(P5E){case 2:a.abort();c+=a.Ae;P5E=5;break;}}});L5E=1;break;}}}while(b5E!==3){switch(b5E){case 2:c=0;for(f in this.pe){d=this.pe[f];if(d.data){for(var k in d.data){y3s="i";y3s+="n";y3s+=" ";y3s+="en";y3s+="try:";s3s="missing header";s3s+="En";s3s+="try for str";s3s+="eamI";s3s+="d:";d.headers[k]||B(s3s,k,y3s,d);b(d,k);d.data[k].forEach(a);delete d.data[k];}delete d.data;}}this.z3a(c);b5E=3;break;}}function a(a){var y5E;y5E=2;while(y5E!==1){switch(y5E){case 2:a.Zua();y5E=1;break;case 4:a.Zua();y5E=2;break;y5E=1;break;}}}};c.prototype.Pu=function(a){var S5E,b;S5E=2;while(S5E!==4){switch(S5E){case 2:b=this.pe[a.u];b&&(this.ac(a)?g.U(b.Ub.RAa)&&!g.U(a.Ze)&&(b.Ub.RAa=a.Ze):g.U(b.Ub.IG)&&!g.U(a.Ze)&&(b.Ub.IG=a.Ze));S5E=4;break;}}};c.prototype.Vi=function(a){var w5E;w5E=2;while(w5E!==1){switch(w5E){case 2:this.ac(a)?this.Msb(a):this.Nsb(a);w5E=1;break;}}};Q4E=18;break;case 53:c.prototype.Wjb=function(a,b,c,f,d,k){var S6E,h,m,n,t,u,X3s,M3s;S6E=2;while(S6E!==10){X3s="Unable";X3s+=" to find requeste";X3s+="d audio track";X3s+=" in manifest:";M3s="Unabl";M3s+="e to find a";M3s+="ud";M3s+="io";M3s+=" nor video tracks in manifest:";switch(S6E){case 2:h=this;m=new p.g1({pa:Number(c.movieId),Wa:0,wa:c,Ak:void 0,gb:function(){var w6E;w6E=2;while(w6E!==1){switch(w6E){case 4:return-6;break;w6E=1;break;case 2:return!0;break;}}},Gda:{OX:!!d,lca:!1},hi:!1,br:[],config:k,pha:void 0,pba:void 0,cM:void 0,sb:a.sb,ih:a.ih,sG:void 0,V9:void 0,EB:void 0});S6E=4;break;case 13:S6E=g.U(u)&&f?12:11;break;case 4:n=m.cq[0];a=M.nk();b.W.buffer.Hp=a[l.Na.VIDEO];S6E=8;break;case 8:m.getTracks(1).some(function(a){var d6E;d6E=2;while(d6E!==3){switch(d6E){case 5:t=h.dAa(m.pa,a,b,d,k,n);return!0;break;case 1:return!1;break;case 2:d6E=a.VA.stereo?1:5;break;}}});m.getTracks(0).some(function(a){var q6E;q6E=2;while(q6E!==1){switch(q6E){case 2:return a.bb===f?(u=h.dAa(m.pa,a,b,d,k,n),!0):!1;break;}}});S6E=6;break;case 6:S6E=g.U(t)&&g.U(u)?14:13;break;case 14:X(M3s,f);S6E=10;break;case 12:X(X3s,f);S6E=10;break;case 11:return[].concat(t||[]).concat(u||[]);break;}}};c.prototype.lha=function(a,b){var I6E;I6E=2;while(I6E!==1){switch(I6E){case 2:return a===l.Na.VIDEO&&b.Zw||a===l.Na.AUDIO;break;}}};c.prototype.ac=function(a){var V6E;V6E=2;while(V6E!==1){switch(V6E){case 4:return+ +a.ac;break;V6E=1;break;case 2:return!!a.ac;break;}}};Q4E=50;break;case 50:return c;break;}}}(m.rs);c.ERa=a;z(d.EventEmitter.prototype,a.prototype);},function(d,c,a){var b,h,g,p,f,k,m,t,u,l,q,r,z,G,M,N,P;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(6);g=a(14);d=a(27);p=a(757);f=a(742);k=a(717);m=a(4);t=m.Promise;u=a(223);l=a(222);q=a(221);r=a(716);z=a(366);G=a(7);M=new m.Console("ASEJS","media|asejs");N=M.trace.bind(M);P=M.warn.bind(M);d=function(c){var C3s;function d(b,f){var n3s,d,k,V0s,r0s,b0s;n3s=2;while(n3s!==12){V0s="D";V0s+="E";V0s+="BU";V0s+="G";V0s+=":";r0s="nf-ase vers";r0s+="io";r0s+="n:";b0s="1SIY";b0s+="bZ";b0s+="rNJCp";b0s+="9";switch(n3s){case 9:d.Tra=!1;d.J=b;d.Cz=[];d.cE=f;b0s;n3s=13;break;case 2:d=c.call(this)||this;k=a(375);N(r0s,k,V0s,!1);d.IJ=!1;n3s=9;break;case 13:return d;break;}}}C3s=2;while(C3s!==30){switch(C3s){case 9:Object.defineProperties(d.prototype,{qca:{get:function(){var l0s;l0s=2;while(l0s!==1){switch(l0s){case 4:return~h.U(this.h4a);break;l0s=1;break;case 2:return!h.U(this.h4a);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Aha:{get:function(){var g0s;g0s=2;while(g0s!==1){switch(g0s){case 4:return this.Y3a;break;g0s=1;break;case 2:return this.Y3a;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Me:{get:function(){var Z0s;Z0s=2;while(Z0s!==1){switch(Z0s){case 4:return this.Ff;break;Z0s=1;break;case 2:return this.Ff;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ih:{get:function(){var t0s;t0s=2;while(t0s!==1){switch(t0s){case 2:return this.mS.ih;break;case 4:return this.mS.ih;break;t0s=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Hba:{get:function(){var F0s;F0s=2;while(F0s!==1){switch(F0s){case 2:return this.Tra;break;case 4:return this.Tra;break;F0s=1;break;}}},enumerable:!0,configurable:!0}});d.prototype.Xb=function(a,b,c,f,d,g){var d0s,m,n,E0s,z0s,m0s,p0s,N0s;d0s=2;while(d0s!==20){E0s="med";E0s+="i";E0s+="acache";z0s="c";z0s+="ache";z0s+="Evict";m0s="fl";m0s+="u";m0s+="sh";m0s+="edB";m0s+="ytes";p0s="dis";p0s+="card";p0s+="edByte";p0s+="s";N0s="preb";N0s+="uffs";N0s+="tats";switch(d0s){case 12:d0s=n.HH||n.G0?11:10;break;case 2:m=this;n=this.J;l.WH.reset();d0s=3;break;case 3:0<n.Iu&&(!h.U(a)&&a>n.Iu&&(a=n.Iu),b>n.Iu&&(b=n.Iu));h.U(a)&&(this.h4a=b);this.vT=f;this.Y3a=d;d0s=6;break;case 6:k(n);this.mS=l.WH.Kza(n,this.cE);this.T5=new r(n);d0s=12;break;case 11:b=new p.ERa(this,n,c,g),a=function(a){var f0s;f0s=2;while(f0s!==1){switch(f0s){case 4:m.emit(a.type,a);f0s=2;break;f0s=1;break;case 2:m.emit(a.type,a);f0s=1;break;}}},b.addListener(N0s,a),b.addListener(p0s,a),b.addListener(m0s,a),b.addListener(z0s,a),(n.Mia||n.wy)&&b.addListener(E0s,function(a){var P0s,a0s;P0s=2;while(P0s!==1){a0s="med";a0s+="iaca";a0s+="ch";a0s+="e";switch(P0s){case 2:m.emit(a0s,a);P0s=1;break;case 4:m.emit("",a);P0s=5;break;P0s=1;break;}}}),this.Ff=b;d0s=10;break;case 10:this.IJ=!0;d0s=20;break;}}};C3s=12;break;case 2:b.__extends(d,c);Object.defineProperties(d.prototype,{sb:{get:function(){var O3s;O3s=2;while(O3s!==1){switch(O3s){case 4:return this.mS.sb;break;O3s=1;break;case 2:return this.mS.sb;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{gm:{get:function(){var k3s;k3s=2;while(k3s!==1){switch(k3s){case 2:return this.mS.gm;break;case 4:return this.mS.gm;break;k3s=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{cp:{get:function(){var S3s;S3s=2;while(S3s!==1){switch(S3s){case 4:return this.T5;break;S3s=1;break;case 2:return this.T5;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{T_:{get:function(){var J0s;J0s=2;while(J0s!==1){switch(J0s){case 4:return this.vT;break;J0s=1;break;case 2:return this.vT;break;}}},enumerable:!0,configurable:!0}});C3s=9;break;case 19:d.prototype.Bu=function(){var R0s;R0s=2;while(R0s!==1){switch(R0s){case 2:return this.Ff?this.Ff.Bu():t.resolve([]);break;}}};C3s=18;break;case 18:d.prototype.u3a=function(a){var c0s,b,u0s;c0s=2;while(c0s!==3){u0s="ca";u0s+="n't find s";u0s+="ession in a";u0s+="rray, movieId:";switch(c0s){case 2:this.sb.L_(null);b=this.Cz.indexOf(a);h.U(b)?P(u0s,a.ud.O.u):(this.Cz.splice(b,1),0===this.Cz.length&&this.gm.nBb(),this.gm.save(),this.ih.save());c0s=3;break;}}};C3s=17;break;case 12:d.prototype.zZ=function(){var L0s;L0s=2;while(L0s!==1){switch(L0s){case 4:this.Tra=~8;L0s=7;break;L0s=1;break;case 2:this.Tra=!0;L0s=1;break;}}};d.prototype.cn=function(a,b,c,d,k,n,p,t,u,l){var A0s,U0s;A0s=2;while(A0s!==4){U0s="open";U0s+=": streamingMan";U0s+="ag";U0s+="er no";U0s+="t initted";switch(A0s){case 2:A0s=this.IJ?1:5;break;case 5:P(U0s);A0s=4;break;case 1:return t=t||this.J,this.sb.reset(),this.gm.aBb(),this.T5.reset(),void 0===n&&(n=this.wW(a,b)),h.U(this.vT)&&(m.nk()[g.Na.VIDEO]<=t.Gqb?this.vT=0:this.vT=t.l_),a=new f.FYa(this,a,l,b,c,d,k,n,p,t,u),this.Cz.push(a),a;break;}}};d.prototype.dN=function(a,b){var W0s;W0s=2;while(W0s!==1){switch(W0s){case 2:return this.Ff&&(a=this.Ff.dN(a,b))?a:!1;break;}}};d.prototype.dda=function(a){var B0s;B0s=2;while(B0s!==1){switch(B0s){case 2:return this.Ff&&(a=this.Ff.RCa(a))?a:!1;break;}}};C3s=19;break;case 25:d.prototype.vU=function(a,b){var q0s,i0s;q0s=2;while(q0s!==1){i0s="c";i0s+="a";i0s+="tc";i0s+="h";switch(q0s){case 2:this.Ff&&(a=this.Ff.Zub(this,a),h.U(b)||a.then(b),a[i0s](function(a){var K0s,G0s;K0s=2;while(K0s!==1){G0s="c";G0s+="achePrepare caught ";G0s+="error:";switch(K0s){case 4:N("",a);K0s=4;break;K0s=1;break;case 2:N(G0s,a);K0s=1;break;}}}));q0s=1;break;}}};d.prototype.UK=function(){var e0s;e0s=2;while(e0s!==1){switch(e0s){case 2:this.Ff&&this.Ff.flush();e0s=1;break;}}};d.prototype.A7=function(){var x0s;x0s=2;while(x0s!==1){switch(x0s){case 2:this.Ff&&this.Ff.aya();x0s=1;break;}}};C3s=22;break;case 22:d.prototype.VK=function(){var j0s;j0s=2;while(j0s!==1){switch(j0s){case 2:return this.Ff?this.Ff.list():[];break;case 4:return this.Ff?this.Ff.list():[];break;j0s=1;break;}}};d.prototype.yua=function(a){var o0s;o0s=2;while(o0s!==1){switch(o0s){case 2:this.Ff&&this.Ff.eha(a);o0s=1;break;}}};d.prototype.uU=function(){var w0s;w0s=2;while(w0s!==1){switch(w0s){case 2:this.Ff&&this.Ff.en();w0s=1;break;}}};d.prototype.xua=function(){var Y0s;Y0s=2;while(Y0s!==1){switch(Y0s){case 4:return this.Ff?this.Ff.i_():1;break;Y0s=1;break;case 2:return this.Ff?this.Ff.i_():null;break;}}};C3s=33;break;case 17:d.prototype.IIa=function(){};d.prototype.wW=function(a,b,c){var h0s;h0s=2;while(h0s!==1){switch(h0s){case 4:return u.Mib(a,b,c);break;h0s=1;break;case 2:return u.Mib(a,b,c);break;}}};d.prototype.$za=function(){var I0s,T0s;I0s=2;while(I0s!==4){T0s="getSession";T0s+="Sta";T0s+="tistics: StreamingManager not initted";switch(I0s){case 2:I0s=this.IJ?1:5;break;case 8:return this.sb.Mgb();break;I0s=4;break;case 5:P(T0s);I0s=4;break;case 1:return this.sb.Mgb();break;case 7:P("");I0s=3;break;I0s=4;break;}}};d.prototype.Yua=function(a){var Q0s,b;Q0s=2;while(Q0s!==9){switch(Q0s){case 2:b=this.ih||new q(this.J,this.cE);b.txa(a);b.save();this.sb&&this.sb.reset();Q0s=9;break;}}};d.prototype.C0=function(a){var D0s;D0s=2;while(D0s!==1){switch(D0s){case 2:m.EM(a);D0s=1;break;case 4:m.EM(a);D0s=3;break;D0s=1;break;}}};C3s=25;break;case 33:d.prototype.tIa=function(){var v0s,a,s0s;v0s=2;while(v0s!==9){s0s="sessionHistoryReport: ase-m";s0s+="a";s0s+="nag";s0s+="e";s0s+="r not initted";switch(v0s){case 2:v0s=1;break;case 1:v0s=this.IJ?5:3;break;case 5:a=new z.u2(this.cp.kt,this.J,M);return{uE:a.$ta,RTb:a.aua,tVb:a.ozb};break;case 3:P(s0s);v0s=9;break;}}};d.prototype.Mp=function(){var H0s,y0s;H0s=2;while(H0s!==7){y0s="Attempted to destruct Manager b";y0s+="efore all Se";y0s+="s";y0s+="sion";y0s+="s removed";switch(H0s){case 4:delete this.T5;delete this.cE;delete this.Ff;l.WH.reset();H0s=7;break;case 2:G.assert(0===this.Cz.length,y0s);this.IJ=!1;delete this.mS;H0s=4;break;}}};return d;break;}}}(d.EventEmitter);c.fTa=d;},function(d,c){function a(a,c){var d;d={};Object.keys(c).forEach(function(f){d[f]=b(a,c[f]);});return d;}function b(a,b){return{pa:a.viewableId,Af:b.startTimeMs,sg:b.endTimeMs||Infinity,dn:b.defaultNext||null,ke:b.transitionHint,u0:b.transitionDelayZones,next:b.next};}Object.defineProperty(c,"__esModule",{value:!0});c.o9a=function(b){return{li:b.initialSegment,ke:b.transitionType,Va:a(b,b.segments)};};c.FPb=a;c.EPb=b;c.HAb=function(a,b){var c;return{li:b,ke:"lazy",Va:(c={},c[b]={pa:a,Af:0,sg:Infinity,dn:null,next:{}},c)};};c.lRb=function(a,b){var c,n,l;a=Math.max(a.duration-3E4,3E4);for(var f={},d,h=0,g=0;g<a;g+=3E4){n="s"+h++;l={pa:b,Af:g,sg:g+3E4<a?g+3E4:null};void 0!==d&&(d.next=(c={},c[n]={weight:1},c),d.dn=n);d=f[n]=l;}return{li:"s0",Va:f,ke:"lazy"};};},function(d,c,a){var b,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(27);h=a(75);g=a(16);c.i7a=function(a){if(a.g_a)return a;h(b.EventEmitter.prototype,a);Object.defineProperties(a,{g_a:{value:!0},Wpa:{set:function(a){this.isReady=a;}},vd:{get:function(){return this.isReady?new g.sa(this.Vd(),1E3):void 0;}}});return a;};},function(d,c,a){var b,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(21);h=a(4);g=a(7);d=function(){function a(a,b){this.console=a;this.bba=b;this.jwa=[];this.iua={};}a.prototype.NB=function(a,b){void 0===b?this.jwa=a:this.iua[b]=a;};a.prototype.Dfb=function(a,c){var f,d,k;a=this.bba(a);g.assert(void 0!==a);null===(f=h.Pw)||void 0===f?void 0:f.call(h,a);k=(d=this.iua[a],null!==d&&void 0!==d?d:this.jwa);return c.map(function(a){return b.eU(a.HE,a.R,k).inRange;});};return a;}();c.TZa=d;},function(d,c,a){var h;function b(a,b,c){var f,d;f=Array.isArray(c)?c[0]:c;d=Array.isArray(c)?c[1]:c;b.on(f,function(b){a.emit(d,h.__assign(h.__assign({},b),{type:d}));});}Object.defineProperty(c,"__esModule",{value:!0});h=a(0);c.tpb=function(a,c,f){[["debug","managerdebugevent"],"endOfStream","initialAudioTrack","locationSelected","logdata","openComplete","startEvent",["streamerEnd","streamerend"]].forEach(function(a){b(c,f.events,a);});f.events.on("error",function(a){a=h.__assign(h.__assign({},a),{manifestIndex:0});c.emit("error",a);});f.events.on("segmentComplete",function(a){var b;b=c.uF(a.segmentId);c.emit("segmentComplete",{type:"segmentComplete",mediaType:a.mediaType,manifestIndex:b,segmentId:a.segmentId});});f.events.on("segmentNormalized",function(a){var b,f,d;b=c.uF(a.segmentId);f=Math.floor(a.normalizedEnd.Ka);d=Math.floor(a.contentEnd.Ka);c.emit("maxPosition",{type:"maxPosition",index:b,endPts:f,maxPts:d});if(0<b)return c.fail("ManifestRangeEvent not implemented for non-zero manifestIndex");a=Math.floor(a.normalizedStart.Ka);c.emit("manifestRange",{type:"manifestRange",index:b,manifestOffset:0,startPts:0===b?0:a,endPts:f,maxPts:d});});f.events.on("segmentStarting",function(a){c.emit("maxBitrates",{type:"maxBitrates",audio:a.maxBitrates.audio,video:a.maxBitrates.video});c.emit("segmentStarting",a);});f.events.on("serverSwitch",function(a){var b;b=c.uF(a.segmentId);c.emit("serverSwitch",{type:"serverSwitch",manifestIndex:b,segmentId:a.segmentId,mediatype:a.mediatype,server:a.server,reason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});});f.events.on("streamSelected",function(a){var b,d;b=c.uF(a.position.Ma);d=f.sAa(a.position);c.emit("streamSelected",{type:"streamSelected",nativetime:a.nativetime,mediaType:a.mediaType,streamId:a.streamId,manifestIndex:b,trackIndex:a.trackIndex,streamIndex:a.streamIndex,movieTime:d.zva.Ka,bandwidth:a.bandwidth,longtermBw:a.longtermBw,rebuffer:a.rebuffer});});f.events.on("updateStreamingPts",function(b){var d,k;d=c.u;k=c.uF(b.position.Ma);a.Ch.lu(d)&&(d=f.sAa(b.position),c.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:b.mediaType,manifestIndex:k,trackIndex:b.trackIndex,movieTime:d.zva.Ka}));});};c.spb=function(a,c,f){[["debug","managerdebugevent"],"buffering","bufferingStarted","segmentAppended","segmentPresenting","startEvent","streamPresenting"].forEach(function(a){return b(c,f.events,a);});f.events.on("bufferingComplete",function(b){var d,k,h,g,n;g=f.tAa(b.actualStartPosition).Ka;n=null===(k=null===(d=a.Ch.sb.get())||void 0===d?void 0:d.Fa)||void 0===k?void 0:k.Ca;c.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:!1,hashindsight:!1,buffCompleteReason:b.reason,actualbw:n,initSelReason:(h=b.initSelReason,null!==h&&void 0!==h?h:"unknown")}});c.emit("ptschanged",g);c.emit("bufferingComplete",{type:"bufferingComplete",time:b.time,actualStartPts:g,aBufferLevelMs:b.aBufferLevelMs,vBufferLevelMs:b.vBufferLevelMs,selector:b.selector,initBitrate:b.initBitrate,skipbackBufferSizeBytes:b.skipbackBufferSizeBytes});});f.events.on("ptsChanged",function(a){c.emit("ptschanged",a.Ka);});};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(84);h=a(212);d=function(){function a(a){this.Xk=a;}Object.defineProperties(a.prototype,{KU:{get:function(){return"queue-audit";},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{jEa:{get:function(){return"qaudit";},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return b.yb;},enumerable:!0,configurable:!0}});a.prototype.qW=function(a){var g;if(a.bq===h.VI.M9&&(a=this.Xk.X$())){for(var b={},c=0,d=a.tub;c<d.length;c++){g=d[c];b[g.M]=this.rpb(g);}return{branchQueue:this.ppb(a.Uvb),playerIterator:b};}};a.prototype.rpb=function(a){return null===a||void 0===a?void 0:a.lza();};a.prototype.opb=function(a){var b,c,d;b=this;if(a){c=a.ja;d={};a.Mza().forEach(function(a){d[a.M]=b.qpb(a);});return{sId:null===c||void 0===c?void 0:c.id,cancelled:a.Gp,RM:d};}return a;};a.prototype.qpb=function(a){if(a&&a.Ja)return a.Ja.Iaa();};a.prototype.ppb=function(a){var b;b=this;return a.map(function(a){return b.opb(a);});};return a;}();c.SXa=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(212);d=function(){function a(a){this.sb=a;}Object.defineProperties(a.prototype,{KU:{get:function(){return"EndplayFieldsReporter";},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return!0;},enumerable:!0,configurable:!0}});a.prototype.qW=function(a){var c,f;if(a.bq===b.VI.M9&&this.sb){a={};c=this.sb.get();c&&c.avtp&&c.avtp.Ca&&(a.avtp=c.avtp.Ca,a.dltm=c.avtp.vV);c&&c.cdnavtp&&(a.cdnavtp=c.cdnavtp,a.activecdnavtp=c.activecdnavtp);this.sb.flush();c=this.sb.dza();f=this.sb.Rsa;if(c)for(var d in c)c.hasOwnProperty(d)&&(a["ne"+d]=Number(c[d]).toFixed(6));f&&f.length&&(a.activeRequests=JSON.stringify(f));return a;}};return a;}();c.JQa=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(b,f){b=a.call(this,c.Dgb(b,f))||this;b.E0a=f;b.name="AggregateError";return b;}b.__extends(c,a);c.Dgb=function(a,b){return b.reduce(function(a,b){return a+"\n"+b;},a);};Object.defineProperties(c.prototype,{hF:{get:function(){return this.E0a;},enumerable:!0,configurable:!0}});return c;}(Error);c.qMa=d;},function(d,c,a){var b,h,g,p,f,k,m,t,u,l,q,r,z,G;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(27);g=a(218);p=a(21);f=a(16);k=a(7);m=a(33);t=a(6);u=a(212);l=a(764);q=a(763);r=a(762);z=a(761);G=a(760);d=function(a){function c(b,c,d,k,g,m,n,t,l,q,y,E){var G;G=a.call(this)||this;G.console=b;G.YF=c;G.$d=d;G.RB=g;G.W=l;G.HM=q;G.bFb=E;G.JJ=!1;G.Gf=new h.pp();G.Y1a=d.mh.Va[G.HM].pa;G.PD=new f.pR(p.na.Dg);G.Q0=new z.TZa(G.console,function(a){return G.$d.mh.Va[a].pa;});G.$d.Vzb(G.Q0);d.Yzb({Oga:function(){return k[0];}},{Oga:function(){return k[1];}});G.HQb=!1;G.GQb=!1;G.$fa=new u.QXa(y);r.tpb(c,G,G.$d);return G;}b.__extends(c,a);Object.defineProperties(c.prototype,{u:{get:function(){return this.Y1a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{el:{get:function(){return this.Gf;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ud:{get:function(){return{fmb:{1:{Y:{ia:Infinity}}}};},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!0,configurable:!0}});c.prototype.z0=function(){k.assert(!1);};c.prototype.open=function(){var a;if(!this.JJ){this.JJ=!0;this.$d.open();this.emit("openComplete",{type:"openComplete"});this.$d.eIa(this.RB);a=this.ebb(this.W);this.$fa.bta(new q.SXa(a));this.$fa.bta(new l.JQa(this.YF.sb));this.No=this.W;this.Xk=a;r.spb(this.YF,this,this.Xk);this.$d.T6a(a);this.xKa("startplay",u.VI.Iha);}};c.prototype.ebb=function(a){a=G.i7a(a);return this.YF.Ch.C5a(a);};c.prototype.close=function(){this.JJ&&(this.JJ=!1);};Object.defineProperties(c.prototype,{cU:{get:function(){return"1.5";},enumerable:!0,configurable:!0}});c.prototype.xKa=function(a,c){c=this.$fa.qW(c);this.emit("logdata",{type:"logdata",target:a,fields:b.__assign(b.__assign({},c),{aseApiVersion:this.cU})});};c.prototype.flush=function(){this.xKa("endplay",u.VI.M9);this.$d.Ig();this.YF.sb.reset();this.YF.gm.save();};c.prototype.paused=function(){this.PD.value===p.na.Jc&&(this.PD.set(p.na.yh),this.No.emit("paused",{type:"paused",Oc:this.No.vd}));};c.prototype.BP=function(){this.PD.value===p.na.yh&&(this.PD.set(p.na.Jc),this.No.emit("playing",{type:"playing",Oc:this.No.vd}));};c.prototype.xc=function(){var a;this.bFb.release();this.YF.hxb(this);this.JJ&&this.close();null===(a=this.Xk)||void 0===a?void 0:a.Mp();};c.prototype.suspend=function(){k.assert(!1,"Not supported");};c.prototype.resume=function(){k.assert(!1,"Not supported");};c.prototype.play=function(){this.$d.state!==g.zy.CLOSED&&(this.No.Wpa=!0,this.No.emit("playing",{type:"playing",Oc:this.No.vd}),this.PD.set(p.na.Jc),this.emit("play"));};c.prototype.stop=function(){this.PD.set(p.na.YC);this.$d.Ig();this.No.emit("paused",{type:"paused",Oc:this.No.vd});this.No.Wpa=!1;this.emit("stop");};c.prototype.AV=function(a,b){void 0===b&&(b=!0);if(!this.Xk)return this.fail("Must call open prior to drmReady");a=parseInt(a);t.isFinite(a)&&(b?this.Xk.aha(a):this.Xk.zzb(a));};c.prototype.Ar=function(a,b){if(!this.Xk)return!1;a||(a=void 0!==b?this.qM(b):this.Xk.position.Ma,a=this.$d.mh.Va[a].pa);return this.Xk.GBa(a);};c.prototype.GKa=function(){this.No.emit("underflow",{type:"underflow",Oc:this.No.vd});};c.prototype.$i=function(){return this.yn("skipped");};c.prototype.Cua=function(a,b){var c;c=this.qM(b||0);b=this.$d.mh.Va[c].Af;return(a=this.$d.xEa({Ma:c,offset:m.sa.ji(a-b)}))&&b+a.offset.Ka;};c.prototype.jr=function(a,b){var c;if(this.Xk){c=new m.sa(b,1E3);return(c=this.Xk.WFa(c))&&c.Ma===this.qM(a||0)?this.$d.mh.Va[c.Ma].Af+c.offset.Ka:this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex "+a+", playerPts: "+b);}return b;};c.prototype.hL=function(a,b){var c,f;f=this.qM(a||0);f={Ma:f,offset:new m.sa(b-this.$d.mh.Va[f].Af,1E3)};return(f=null===(c=this.Xk)||void 0===c?void 0:c.tAa(f))?f.Ka:this.fail("convertPtsToPlayerPts failed to convert manifestIndex "+a+", playerPts: "+b);};c.prototype.IX=function(){return{};};c.prototype.zZ=function(){return this.yn("pipeliningDisabled");};c.prototype.Gaa=function(){var a,b;return b=null===(a=this.Xk)||void 0===a?void 0:a.position.Ma,null!==b&&void 0!==b?b:this.HM;};c.prototype.zW=function(){return this.yn("getChildBranchInfo");};c.prototype.OW=function(){return{id:this.Gaa(),Nc:0,pc:0,ge:0,Wb:0,sd:0};};c.prototype.jHa=function(){return this.yn("removeSession");};c.prototype.jy=function(a,b,c){void 0===b&&(b=0);void 0!==c&&(b=this.uF(c));c=this.qM(b);a=this.$d.eIa({Ma:c,offset:m.sa.ji(a-this.$d.mh.Va[c].Af)});k.assert(a,"Valid position must be provided for seek");return a.offset.Ka;};c.prototype.seek=function(a,b){a=this.jr(b,a);return this.jy(a,b);};c.prototype.St=function(){return this.yn("chooseNextSegment");};c.prototype.Ysa=function(){return this.yn("addManifest");};c.prototype.nK=function(){return this.yn("activateManifest");};c.prototype.UEa=function(){return this.yn("onAudioTrackSwitchStarted");};c.prototype.IJa=function(){return this.yn("switchTracks");};c.prototype.NB=function(a,b){this.Q0.NB(a,b);};c.prototype.Ot=function(){return!1;};c.prototype.NV=function(){return this.yn("evaluateQoE");};c.prototype.Kha=function(){return this.yn("stopBuffering");};c.prototype.mH=function(){return this.yn("startBuffering");};c.prototype.cAa=function(){return this.yn("getStreamingStatistics");};c.prototype.fail=function(a){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:a,manifestIndex:0});};c.prototype.uF=function(a){return a!==this.HM?this.fail("Unexpected segmentId: "+a+", "+("single viewable playback initialSegmentId: "+this.HM)):0;};c.prototype.qM=function(a){return 0!==a?this.fail("Unexpected manifestIndex: "+a+", single viewable playback only supports manifestIndex: 0"):this.HM;};c.prototype.yn=function(a){return this.fail("Method not implemented "+a);};return c;}(h.EventEmitter);c.HYa=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(4);h=a(7);d=function(){var M0s;M0s=2;while(M0s!==3){switch(M0s){case 2:a.prototype.lE=function(){var C0s;C0s=2;while(C0s!==1){switch(C0s){case 2:this.fZ++;C0s=1;break;case 4:this.fZ--;C0s=7;break;C0s=1;break;}}};a.prototype.c_=function(){var n0s,k0s;n0s=2;while(n0s!==4){k0s="Received rem";k0s+="ove re";k0s+="quest when th";k0s+="ere are no requests outstanding";switch(n0s){case 2:this.fZ--;h.assert(0<=this.fZ,k0s);this.XK();n0s=4;break;}}};a.prototype.XK=function(){var O0s;O0s=2;while(O0s!==1){switch(O0s){case 2:O0s=this.fZ<this.Apb&&this.vca()?2:1;break;}}};return a;break;}}function a(a){var X0s,l6s,J6s,S0s;X0s=2;while(X0s!==9){l6s="1SI";l6s+="Yb";l6s+="ZrNJCp9";J6s="media";J6s+="|a";J6s+="s";J6s+="ejs";S0s="ASE";S0s+="JS_REQUE";S0s+="S";S0s+="T_PACER";switch(X0s){case 5:this.Apb=3;this.console=new b.Console(S0s,J6s);l6s;X0s=9;break;case 2:this.vca=a;this.fZ=0;X0s=5;break;}}}}();c.VXa=d;},function(d,c,a){var b,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(4);h=a(21);g=a(16);p=a(7);d=function(){function a(a){void 0===a&&(a=500);this.e8a=a;this.state=new g.pR(h.ff.Hm);this.Yx=new g.pR(h.na.Dg);}Object.defineProperties(a.prototype,{ug:{get:function(){return this.state.value===h.ff.ye||this.state.value===h.ff.Bg;},enumerable:!0,configurable:!0}});a.prototype.Qta=function(a){p.assert(!this.events,"Cannot reassign BufferingStateTracker emitter!");this.events=a;this.ug&&(this.cxa(),this.NIa());};a.prototype.Awa=function(){this.events=void 0;this.X7();};a.prototype.Fsb=function(){this.mH(void 0,!1);};a.prototype.vzb=function(a){p.assert(this.state.value===h.ff.ye&&void 0===this.RB);this.RB=a;};a.prototype.Gzb=function(a,b,c){p.assert(this.ug);void 0===this.Zba&&void 0===this.Xba&&(this.Zba=a,this.Xba=b,this.qBa=c);};a.prototype.tzb=function(a,b,c){p.assert(this.ug&&void 0===this.Jt&&void 0===this.M0&&void 0===this.TT);this.Jt=a;this.M0=b;this.TT=c;};a.prototype.vk=function(a){this.mH(a,!0);};a.prototype.uzb=function(a){p.assert(this.ug);this.dr=a;};a.prototype.rj=function(){p.assert(this.ug);this.dr=100;this.X7();this.events&&this.deb();this.set(h.ff.IR);this.TT=this.M0=this.Jt=this.qBa=this.Xba=this.Zba=this.RB=void 0;};a.prototype.stop=function(){this.set(h.ff.Hm);this.X7();};a.prototype.mH=function(a,b){p.assert(void 0!==a&&!0===b||void 0===a&&!1===b);this.RB=a;this.dr=0;this.cZ=void 0;a=this.ug;this.set(b?h.ff.Bg:h.ff.ye);!a&&this.events&&(this.cxa(),this.NIa());};a.prototype.set=function(a){this.state.set(a);switch(a){case h.ff.Hm:this.Yx.set(h.na.Hm);break;case h.ff.ye:this.Yx.set(h.na.ye);break;case h.ff.Bg:this.Yx.set(h.na.Bg);break;case h.ff.IR:this.Yx.set(h.na.Jc);}};a.prototype.cxa=function(){p.assert(this.events&&void 0!==this.dr);this.cZ=this.dr;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:b.time.ea(),percentage:this.dr});};a.prototype.NIa=function(){var a;a=this;this.rea=setInterval(function(){return a.eeb();},this.e8a);};a.prototype.X7=function(){this.rea&&(clearInterval(this.rea),this.rea=void 0);};a.prototype.eeb=function(){this.ug&&this.events&&void 0!==this.dr&&this.dr!==this.cZ&&this.events.emit("buffering",{type:"buffering",time:b.time.ea(),percentage:this.dr})&&(this.cZ=this.dr);};a.prototype.deb=function(){var a;p.assert(this.events&&this.RB&&void 0!==this.Jt&&void 0!==this.TT&&void 0!==this.M0);this.cZ=this.dr;this.events.emit("bufferingComplete",{type:"bufferingComplete",time:b.time.ea(),actualStartPosition:this.RB,reason:this.Jt,aBufferLevelMs:this.TT,vBufferLevelMs:this.M0,selector:this.Zba,initBitrate:this.Xba,initSelReason:null===(a=this.qBa)||void 0===a?void 0:a.reason,skipbackBufferSizeBytes:this.xVb});};return a;}();c.xNa=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(16);h=a(78);d=function(){function a(){this.mf=new b.OUa();}Object.defineProperties(a.prototype,{size:{get:function(){return this.mf.size;},enumerable:!0,configurable:!0}});a.prototype.reset=function(){var a;a=this.mf.values();this.mf.clear();a.forEach(function(a){return a.Ig();});};a.prototype.ghb=function(a){return this.mf.get(a);};a.prototype.Vfa=function(a){return this.mf["delete"](a.ja.id,a);};a.prototype.forEach=function(a){var b;b=this;this.mf.forEach(function(c,f){return a(c,f,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.mf.reduce(function(b,f,d){return a(b,f,d,c);},b);};a.prototype.map=function(a){var b;b=this;return this.mf.map(function(c,f){return a(c,f,b);});};a.prototype.filter=function(a){var b;b=this;return this.mf.filter(function(c,f){return a(c,f,b);});};a.prototype.DDb=function(a,b){var c,f;c=this;f=h.C$a(a);a=Object.keys(f).map(function(a){return[a,f[a],c.mf.count(a)];});this.mf.keys().filter(function(a){return void 0===f[a];}).forEach(function(a){c.mf.get(a).forEach(function(a){return a.Ig();});c.mf["delete"](a);});a.filter(function(a){return a[1]<a[2];}).forEach(function(a){var b;b=a[0];a=a[1];return c.mf.get(b).slice(a).forEach(function(a){a.Ig();c.mf["delete"](b,a);});});a.filter(function(a){return a[1]>a[2];}).forEach(function(a){var f,d;f=a[0];d=a[1];a=a[2];for(var h=0;h<d-a;++h)c.mf.set(f,b(f));});};return a;}();c.fXa=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(7);h=a(378);d=function(){function a(a,b){this.$db=a;this.e6a=b;this.Ria=!1;this.wE=this.Dw=0;}a.prototype.dFb=function(a,c){var d,g,n,p;function f(){var a,b,f;a=p.pop();b=g(a);if(b.Dw!==l.Dw){b.Dw=l.Dw;f=c(a,b.$t,b.jfa).R0;n(a).forEach(function(c){var h,k;h=c.TEb;k=g(h);k.Dw!==d.Dw&&(c=b.$t+c.weight,k.wE!==d.wE?f&&(k.wE=d.wE,k.$t=c,k.jfa=a,p.push(h)):c<k.$t&&(k.$t=c,k.jfa=a,p.hvb(h)));});}}d=this;g=this.e6a;n=this.$db;b.assert(!this.Ria);this.Ria=!0;this.Dw=this.Dw+1|0;this.wE=this.wE+1|0;p=new h.Wma([a],function(a,b){return g(a).$t-g(b).$t;});a=g(a);a.$t=0;a.jfa=void 0;for(var l=this;!p.empty;)f();this.Ria=!1;};return a;}();c.UPa=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(770);c.j$a=function(a,c){return new b.UPa(function(b){return Object.keys(b.ja.next||{}).map(function(f){return{TEb:a.Hh(f),weight:a.DAa(b,f)?c:b.NL?b.NL.Ac(b.SB).Ka:Infinity};});},function(a){return a.f6a;});};c.wPb=function(a,b){var c,f,d,h,g;c=Object.keys(a.Va);f=Object.keys(b.Va);d=f.filter(function(a){return-1===c.indexOf(a);});h=c.filter(function(a){return-1===f.indexOf(a);});g=c.filter(function(c){return-1===f.indexOf(c)?!1:a.Va[c].sg!==b.Va[c].sg;});return{JOb:d,kxb:h,APb:g};};},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(16);d=function(){function a(a,c,f){var d;d=this;this.id=a;this.ja=c;this.ke=f;this.f6a={};this.Dra=!1;this.VW=function(a){var b,c,f;return f=null===(c=null===(b=d.ja.next)||void 0===b?void 0:b[a])||void 0===c?void 0:c.ke,null!==f&&void 0!==f?f:d.ke;};this.zT=new b.sa(c.Af,1E3);this.J4=void 0!==c.sg&&null!==c.sg?new b.sa(c.sg,1E3):b.sa.Xlb;}Object.defineProperties(a.prototype,{pa:{get:function(){return this.ja.pa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bZ:{get:function(){return this.Dra;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{SB:{get:function(){return this.zT;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{NL:{get:function(){return this.J4;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.zT.Ka;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ia:{get:function(){return this.J4.Ka;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Zx:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{nv:{get:function(){return this.$Y.length?!this.ja.dn&&0===this.mea.length:!0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$Y:{get:function(){var a,b;return Object.keys((b=null===(a=this.ja)||void 0===a?void 0:a.next,null!==b&&void 0!==b?b:{}));},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{mea:{get:function(){var a;a=this;return this.$Y.filter(function(b){var c,d;return!(null===(d=null===(c=a.ja.next)||void 0===c?void 0:c[b])||void 0===d||!d.weight);});},enumerable:!0,configurable:!0}});a.prototype.normalize=function(a,b){this.zT=a;this.J4=b;this.Dra=!0;};a.prototype.Tya=function(){var a;return this.mea.length?(a=this.mea.map(this.VW).reduce(function(a,b){return a===b?b:void 0;}),null!==a&&void 0!==a?a:this.ke):this.ke;};return a;}();c.pXa=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(772);d=function(){function a(a){this.mh=a;this.Va={};}a.Emb=function(a){return"immediate"===a||"delayedSeamless"===a;};a.prototype.Hh=function(a){var c,f,d;f=this.Va[a];if(void 0===f){f=this.mh.Va[a];if(void 0===f)throw Error("Segment not found ("+a+")");d=(c=f.ke,null!==c&&void 0!==c?c:this.mh.ke);f=new b.pXa(a,f,d);this.Va[a]=f;}return f;};a.prototype.Lhb=function(a){var b;b=this;return Object.keys(this.mh.Va).filter(function(c){var f;return void 0!==(null===(f=b.mh.Va[c].next)||void 0===f?void 0:f[a.id]);}).map(function(a){return b.Hh(a);});};a.prototype.jkb=function(a,b){var c,d;return null===(d=null===(c=a.ja.next)||void 0===c?void 0:c[b])||void 0===d?void 0:d.weight;};a.prototype.DAa=function(b,c){return a.Emb(b.VW(c));};return a;}();c.mXa=d;},function(d,c){function a(a,c,d,g,f,k,m){if(m&&-1===c.indexOf(m.id)&&!a.DAa(m,f.id))return{R0:!1};a=m&&a.jkb(m,f.id);if(void 0===a||0<a)if(-1!==c.indexOf(f.id)||k<d)return g.push(f.id),{R0:!0};return{R0:!1};}Object.defineProperty(c,"__esModule",{value:!0});c.$Z=function(b,c,d,g,f){var h,m,n;m=[];n=(null===(h=d.NL)||void 0===h?void 0:h.Ac(d.SB).Ka)||0;c.dFb(d,function(c,d,h){return a(b,g,f.Ka+n,m,c,d,h);});return m;};c.rWb=a;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=a(379);h=a(213);new(a(4)).Console("ASEJS_PREDICTOR","media|asejs");a=function(a){var g6s;g6s=2;function c(b,d){var Z6s,f,P6s;Z6s=2;while(Z6s!==8){P6s="1SIYbZr";P6s+="NJC";P6s+="p9";switch(Z6s){case 2:f=a.call(this,b,d)||this;f.uB=function(a,b){var t6s;t6s=2;while(t6s!==1){switch(t6s){case 4:return h.uB(f.config,a,b);break;t6s=1;break;case 2:return h.uB(f.config,a,b);break;}}};f.IZ=function(a,b,d){var F6s,h;F6s=2;while(F6s!==9){switch(F6s){case 2:d=null!==d&&void 0!==d?d:f.aG;h=c.zAb(a,f.config);a=a.Fa?a.Fa.Ca*(100-f.Zgb(b,h))/100|0:0;return f.Fwa(a,d);break;}}};P6s;return f;break;}}}while(g6s!==3){switch(g6s){case 4:return c;break;case 2:b.__extends(c,a);c.zAb=function(a,b){var d6s,c,f;d6s=2;while(d6s!==3){switch(d6s){case 2:f=!!a.Fo;b.Wha&&(null===(c=a.Fa)||void 0===c?void 0:c.Ca)<b.dL&&(f=!0);return f;break;}}};c.prototype.Zgb=function(a,b){var f6s,c,f;f6s=2;while(f6s!==8){switch(f6s){case 2:c=this.config;f=b?c.n8:c.k7;f6s=4;break;case 4:b=b?c.o8:c.m7;Array.isArray(b)&&(f=h.Xeb(b,a.Ql-a.vd,c.l7));return f;break;}}};g6s=4;break;case 14:return c;break;g6s=3;break;}}}(d.yja);c.JYa=a;},function(d,c,a){var b,h,g,p,f,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=a(115);h=a(379);g=a(213);a=a(4);p=d.EU;f=d.t9a;k=d.wxa;m=d.Yeb;t=d.myb;new a.Console("ASEJS_PREDICTOR","media|asejs");a=function(a){var L6s;L6s=2;while(L6s!==5){switch(L6s){case 2:b.__extends(c,a);return c;break;case 3:b.__extends(c,a);return c;break;L6s=5;break;}}function c(b,c){var A6s,d,E8S;A6s=2;while(A6s!==11){E8S="1S";E8S+="IYbZrNJCp";E8S+="9";switch(A6s){case 2:d=a.call(this,b,c)||this;d.uB=function(a,b){var W6s;W6s=2;while(W6s!==1){switch(W6s){case 2:return g.uB(d.config,a,b);break;case 4:return g.uB(d.config,a,b);break;W6s=1;break;}}};d.IZ=function(a,b,c){var B6s,f,h,g,n,p,u;B6s=2;while(B6s!==13){switch(B6s){case 14:T1zz.N8S(0);return d.Fwa(T1zz.p8S(b,1,u),c);break;case 8:d.GAb?(b=k(d.Uva,n,1),n=k(d.Tva,n,1),b=b*g+n*(1-g)):b=k(t(d.Uva,d.Tva,g),n,1);a=d.rEa&&(null===(p=a[d.rEa])||void 0===p?void 0:p.GN);void 0!==a&&(p=m(d.trb,a),b=Math.min(b*p,1));B6s=14;break;case 2:c=null!==c&&void 0!==c?c:d.aG;u=(h=null===(f=a.Fa)||void 0===f?void 0:f.Ca,null!==h&&void 0!==h?h:0);f=(n=null===(g=a[d.filter])||void 0===g?void 0:g.Ca,null!==n&&void 0!==n?n:u);g=Math.pow(Math.max(1-f/d.G7a,0),d.A7a);n=b.Ql-b.vd;B6s=8;break;}}};Array.isArray(b.Dp.curves)&&(d.Uva=f(b.Dp.curves[0],0,0,1),d.Tva=f(b.Dp.curves[1],0,0,1));d.G7a=p(b.Dp.threshold||6E3,1,1E5);A6s=8;break;case 7:d.filter=b.Dp.filter;d.GAb=!!b.Dp.simpleScaling;b.Dp.niqrfilter&&b.Dp.niqrcurve&&(d.rEa=b.Dp.niqrfilter,d.trb=f(b.Dp.niqrcurve,1,0,4));E8S;return d;break;case 8:d.A7a=p(b.Dp.gamma||1,.1,10);A6s=7;break;}}}}(h.yja);c.mUa=a;},function(d,c,a){var b,h,g,p,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(21);h=a(114);g=a(4);p=a(214);f=a(78);d=function(){function a(a,b,c){this.config=a;this.JAb=b;this.navigator=c;a=p["default"](this.config);this.Oub=[a.uB,a.IZ];}a.prototype.Pyb=function(a,c,d,h){var k,g,m,n;m=[];if(!this.Ktb(d.track))return{stream:g,XO:m};g=d.vq.yu;n=h?this.r6a(d.Ma,h,d.track.zc):d.track.zc;g&&!g.track.equals(d.track)&&(g=this.Nfb(g,n));if(0===d.M&&g&&!this.sAb(d,g))return{stream:g,XO:m};a=this.Lbb(a===b.ff.ye?b.na.ye:a===b.ff.Bg?b.na.Bg:a===b.ff.IR?b.na.Jc:b.na.Dg,c,d);a=d.rH.C_(a,n,void 0,this.Oub[d.M],!0,d.track.O.Fh);if(!a)return{stream:g,XO:m};g=n[a.ld];d.vq.d0(g);if(null===(k=a.Tw)||void 0===k?0:k.length)m=a.Tw.map(function(a){return f.$q(n,function(b){return b.id===a;});}).filter(f.Crb);return a.reason?{stream:g,XO:m,Syb:{reason:a.reason}}:{stream:g,XO:m};};a.prototype.r6a=function(a,b,c){var f;f=b.Dfb(a,c.map(function(a){return a.Ix;}));return c.filter(function(a,b){return f[b];});};a.prototype.Nfb=function(a,b){var c;c=b[0];b.filter(function(a){return a.tf&&!a.hh&&a.inRange;}).every(function(b){return b.R<=a.R?c=b:!1;});return c;};a.prototype.sAb=function(a,b){return 0<this.config.wH.length?!0:(a=a.vq.RF)&&a===b.location?!1:!0;};a.prototype.Ktb=function(a){return a.O.bm.DP(a.O.pa,a.zc);};a.prototype.Lbb=function(a,c,f){var r;for(var d,k,m=c.Ac(this.JAb),n=[],p=f,t=c,u,l,q=0;p;){r=p.hib(m);if(0===r.Y.length)break;t=r.Y[0].jq;void 0===u&&(u=r.Y[r.Y.length-1].afa,l=r.Qea>=r.Y.length?u:r.Y[r.Qea].jq);n=r.Y.concat(n);q+=r.Xi;p=this.navigator.parent(p);}m={Hp:g.nk()[f.M],S:t.Ka,vd:c.Ka,Fb:(k=null===(d=u)||void 0===d?void 0:d.Ka,null!==k&&void 0!==k?k:c.Ka),Ql:l?l.Ka:c.Ka,Qh:n.reduce(function(a,b){return a+b.ba;},0),Xi:q,K$:n.length,Y:n};d=1===f.M?this.config.NP:this.config.BK;k=h.Mf();return{state:a,yx:a===b.na.Jc,ny:f.uk,buffer:m,w9:d,SCa:!1,IL:!1,co:null===k||void 0===k?void 0:k.co,M:f.M,vd:c.Ka,Fo:!1,QX:!1,Nfa:0};};return a;}();c.kRa=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.knb=function(a,b){a=a.Va[b.Ma];if(void 0===a)return!1;if(void 0===a.sg||null===a.sg)throw Error("Cannot validate graph position without endTimeMs");a=a.sg-a.Af;return 0<=b.offset.Ka&&b.offset.Ka<a;};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(27);d=function(a){function c(b,c){var f;f=a.call(this)||this;f.track=b;f.Kp=!1;f.el=new h.pp();f.el.on(b,"networkfailing",function(){f.emit("networkfailing");});f.el.on(b,"error",function(){f.emit("error");});if(c)f.Kp=!0,setTimeout(function(){return f.emit("created");},0);else f.el.on(b,"created",function(){f.Kp=!0;f.emit("created");});return f;}b.__extends(c,a);Object.defineProperties(c.prototype,{RV:{get:function(){return this.track.RV;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{eh:{get:function(){return this.track.eh;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ti:{get:function(){return this.track.Ti;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{i$:{get:function(){return this.track.i$;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{config:{get:function(){return this.track.config;},enumerable:!0,configurable:!0}});c.prototype.tn=function(){return this.track.tn();};c.prototype.i_=function(){return this.track.i_();};c.prototype.toString=function(){return this.track.toString();};c.prototype.toJSON=function(){return this.track;};c.prototype.en=function(){this.el.clear();};return c;}(h.EventEmitter);c.WXa=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a,c){this.I=a;this.mg=c;this.f0=!1;}a.prototype.Rg=function(a,c,d,g,f,k){this.f0||(this.f0=!0,a={type:"error",error:null!==d&&void 0!==d?d:"NFErr_MC_StreamingFailure",errormsg:a,networkErrorCode:g,httpCode:f,nativeCode:k,viewableId:c},this.I.error("notifyStreamingError: "+JSON.stringify(a)),this.mg.emit("error",a));};a.prototype.Eo=function(){return this.f0;};a.prototype.qm=function(){this.f0=!1;};return a;}();c.UYa=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.wrb=function(a,b,c,d){var h,f,k,g;k=a[0];a=a[1];g=null===a||void 0===a?void 0:a.Mxa(b.Ka,d);null===k||void 0===k?void 0:k.Mxa((h=null===g||void 0===g?void 0:g.S,null!==h&&void 0!==h?h:b.Ka),d);b=c?c.Ka:void 0;c=null===a||void 0===a?void 0:a.Nxa(b);null===k||void 0===k?void 0:k.Nxa((f=null===c||void 0===c?void 0:c.ia,null!==f&&void 0!==f?f:b));null===k||void 0===k?void 0:k.sBa();null===a||void 0===a?void 0:a.sBa();};},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(781);d=function(){function a(a){var b,c,d,h,g;b=this;c=a.O;d=a.jd;h=a.Ow;g=a.eL;a=a.splice;this.oBa=this.YK=!1;this.Pua=function(){b.YK||b.nta()&&b.vEa();};this.jd=d;this.O=c;this.Ow=h;this.eL=g;this.splice=a;}a.prototype.Xb=function(a){if(this.YK)throw Error("Cannot call init() after cleanup");if(this.oBa)throw Error("Cannot call init() twice");this.oBa=!0;this.bFa=a;this.O.ux.addListener("onHeaderFragments",this.Pua);this.nta()&&this.vEa();};a.prototype.xc=function(){this.YK||(this.YK=!0,this.bFa=void 0,this.O.ux.removeListener("onHeaderFragments",this.Pua));};a.prototype.vEa=function(){var a;this.YK||(this.zrb(),null===(a=this.bFa)||void 0===a?void 0:a.call(this),this.xc());};a.prototype.nta=function(){return this.jd.every(function(a){return a.track.yd;});};a.prototype.zrb=function(){b.wrb(this.jd,this.Ow,this.eL,this.splice);};return a;}();c.MWa=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(84);h=a(4);d=function(){function a(a){this.gZ=a;}a.prototype.gza=function(a,c,d){var f;f=a.Y;a=a.ki(c);a.EN=c+1;if(!a.Sa)for(++c;c<f.length&&c<d.vg.index&&(a.duration<d.jG||0!==c%this.gZ);++c)a.K6(f.get(c)),a.EN=c+1,b.yb&&d.pj("getFragmentForHudsonRequest: extended fragment startPts:",a.S,"to duration:",a.duration,"size:",a.ba,"index: ",c,"min request size in ms:",d.jG);a.Qnb=d.bd.$lb+(h.time.ea()-d.bd.emb);b.yb&&d.pj("getFragmentForHudsonRequest( "+c+") returning: "+JSON.stringify(a));return a;};return a;}();c.LRa=d;d=function(){function a(){}a.prototype.gza=function(a,c,d,h){var f,k;f=a.Y;k=c===d.Zf.index;c===d.vg.index?(a=a.eza(d.vg),a.QO(d.vg.mv),a.hDa(),a.Rzb(d.bd.ja)):k?(a=a.eza(d.Zf),a.QO(d.Zf.mv)):a=a.ki(c);a.EN=c+1;if(!a.Sa&&!h)for(++c;c<f.length&&c<d.vg.index&&(a.ba<d.RDa||a.duration<d.jG);++c)a.K6(f.get(c)),a.EN=c+1,b.yb&&d.pj("getFragmentForRequest: extended fragment startPts:",a.S,"to duration:",a.duration,"size:",a.ba,"min request size:",d.RDa,"min request duration:",d.jG);b.yb&&d.pj("getFragmentForRequest( "+c+") returning: "+JSON.stringify(a)+", stream: "+JSON.stringify(a.stream));return a;};return a;}();c.eVa=d;},function(d,c,a){var h,g,p,f,k,m;function b(a,b,c){k=c;m=c.map(function(a,b){return a.tf&&a.inRange&&!a.hh?b:null;}).filter(function(a){return null!==a;});if(null===f)return a=g(c),f=c[a].R,new p(a);if(!m.length)return null;a=m.filter(function(a){return c[a].R==f;})[0];return void 0===a?(h.log("Defaulting to first stream due to unvalid bitrate requested: "+f),new p(m[0])):new p(a);}a(6);a(14);c=a(30);a=a(4);h=c.console;g=c.q$;p=c.Jm;f=null;k=null;m=null;a.Z8a&&(a.Z8a.rH={Xb:function(){m=k=f=null;},C_:function(a){f=a;},TRb:function(){return{all:k,bLa:m};}});d.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(d,c,a){(function(){var r8S,b,g9N;r8S=2;while(r8S!==7){g9N="1SI";g9N+="YbZ";g9N+="r";g9N+="NJCp9";switch(r8S){case 3:b=a(21).ff;d.P={checkBuffering:function(a,c,d,f,k){var m8S,g,n,p,l,q,z,r,s9N,h9N,H9N,F9N,J8S;function h(b){var K8S;K8S=2;while(K8S!==5){switch(K8S){case 2:b=d.Y.XV(a.vd+b,void 0,!0);return(q-a.Xi)/(q+(b.offset+b.ba)-z);break;}}}m8S=2;while(m8S!==36){s9N="out";s9N+="ofr";s9N+="ang";s9N+="e";h9N="no";h9N+="r";h9N+="eb";h9N+="uff";H9N="h";H9N+="ight";H9N+="p";F9N="ma";F9N+="xsi";F9N+="ze";switch(m8S){case 20:p=l?Math.min(l,p):p;m8S=19;break;case 43:m8S=0<r?42:41;break;case 23:z=d.Y.Ng(f);m8S=22;break;case 41:r=n.offset;m8S=40;break;case 6:return{complete:!0,reason:F9N};break;case 28:n=d.Y.get(k);T1zz.b9N(0);J8S=T1zz.G9N(8,16,93,15,10,10);r=J8S*r/c-n.S-p;m8S=43;break;case 22:m8S=g>=p?21:38;break;case 2:g=a.Ql-a.vd;n=c===b.Bg;c=d.Fa||0;p=0;l=k.Lia&&!n?k.Lx:k.Cda;m8S=8;break;case 35:return{complete:!0,reason:H9N};break;case 17:q=0;a.Y.forEach(function(b){var k8S;k8S=2;while(k8S!==1){switch(k8S){case 2:q+=b.S+b.duration>a.vd?b.ba:0;k8S=1;break;}}});m8S=15;break;case 34:p=d.Y.Fd(f);k=Math.min(f+Math.floor(k.qO/p),d.Y.length-1);r=d.Y.Ng(k);m8S=31;break;case 8:l=Math.min(k.Gu,l);m8S=7;break;case 38:0<c&&c<d.R&&(p=Math.min(l,Math.max(k.qO*(d.R/c-1),p)));return{complete:!1,FB:p,Kh:h(p)};break;case 15:m8S=!d.Y||!d.Y.length?27:26;break;case 30:--k;m8S=29;break;case 7:m8S=g>=l?6:14;break;case 19:m8S=!c?18:17;break;case 42:return p=Math.min(l,g+r),{complete:!1,FB:p,Kh:h(p)};break;case 29:m8S=k>f?28:39;break;case 14:m8S=c<=k.ida&&(0<c||!k.a$)?13:12;break;case 13:return{complete:!1,Gx:!0};break;case 21:m8S=c>d.R*k.TV?35:34;break;case 26:f=d.Y.Tl(a.Fb);m8S=25;break;case 18:return{complete:!1,FB:p};break;case 25:m8S=-1===f?24:23;break;case 31:p=8*z/c-a.vd;m8S=30;break;case 40:--k;m8S=29;break;case 39:return{complete:!0,reason:h9N};break;case 24:return{complete:!0,reason:s9N};break;case 12:p=k.Mg*(n?k.Mfa:1);k.veb&&d.kb&&d.kb.ph&&d.kb.ph.Ca>k.cda&&(p+=k.G6+d.kb.ph.Ca*k.Rea);f&&(p+=f.UU*k.H6);m8S=20;break;case 27:return c<d.R&&(p=Math.min(l,Math.max(k.qO*(d.R/c-1),p))),{complete:!1,FB:p,Kh:(q-a.Xi)/(q+(p-(a.Fb-a.vd))*d.R/8)};break;}}}};g9N;r8S=7;break;case 2:a(6);a(14);a(30);r8S=3;break;}}}());},function(d,c,a){(function(){var j9N,c,g,p,f,C9N;j9N=2;function b(a,b,d,h){var D9N,k,o9N,B9N;D9N=2;while(D9N!==11){o9N="Must have at l";o9N+="east one selected strea";o9N+="m";B9N="pla";B9N+="yer";B9N+=" missing streamin";B9N+="gIndex";switch(D9N){case 5:p(c.ma(b.ny),B9N);b=f(h);D9N=3;break;case 2:p(!c.U(h),o9N);D9N=5;break;case 3:h=d.length-1;D9N=9;break;case 9:D9N=-1<h?8:13;break;case 7:D9N=k.kb&&k.kb.Fa&&k.R<k.kb.Fa.Ca-a.rCb?6:14;break;case 6:return b.ld=h,b;break;case 14:--h;D9N=9;break;case 13:b.ld=0;return b;break;case 8:k=d[h];D9N=7;break;}}}while(j9N!==13){C9N="1SIYbZrNJ";C9N+="C";C9N+="p9";switch(j9N){case 2:c=a(6);a(14);g=a(30);j9N=3;break;case 9:p=g.assert;f=g.Jm;g=a(215);j9N=6;break;case 3:a(4);j9N=9;break;case 6:d.P={STARTING:g.STARTING,BUFFERING:g.BUFFERING,REBUFFERING:g.REBUFFERING,PLAYING:b,PAUSED:b};C9N;j9N=13;break;}}}());},function(d,c,a){var h;function b(a,b,c){return new h(c.length-1);}a(6);h=a(30).Jm;d.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(d,c,a){var h;function b(){return new h(0);}a(6);h=a(30).Jm;d.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(d,c,a){(function(){var Y9N,g,p,f,k,m,t,u,l,q,r,f0N;function c(a,b,c,d){var S0N,h,n,p,t,q,y,E,z,r,G,D,v0N,M0N,A0N,N0N,L0N,X0N,U0N,u0N,l0N,E0N,d0N,R0N,r0N,t0N,a0N,c0N,T0N,y0N,k0N,O0N,p0N,q0N,z0N;S0N=2;while(S0N!==43){v0N="Mu";v0N+="st have at least one ";v0N+="selec";v0N+="ted ";v0N+="stream";M0N="m";M0N+="s";A0N=", ";A0N+="buffer";A0N+=" l";A0N+="e";A0N+="vel = ";N0N=", ";N0N+="la";N0N+="stUpsw";N0N+="itchPt";N0N+="s = ";L0N="  Upswitch";L0N+=" not allowed. lastDownsw";L0N+="itchPts =";L0N+=" ";X0N=" ";X0N+="kb";X0N+="p";X0N+="s";U0N=" ";U0N+="kbps >";U0N+=" ";u0N="throughput for";u0N+=" ";u0N+="au";u0N+="dio";u0N+=" ";l0N="kbp";l0N+="s,";l0N+=" streamingPt";l0N+="s";l0N+=" :";E0N=", au";E0N+="dio";E0N+=" through";E0N+="p";E0N+="ut:";d0N=" kbp";d0N+="s, prof";d0N+="ile :";R0N="se";R0N+="le";R0N+="ctAudi";R0N+="oStream";R0N+=": selected stream :";r0N=" ";r0N+="k";r0N+="b";r0N+="p";r0N+="s";t0N=" k";t0N+="bps,";t0N+=" to ";a0N="switchi";a0N+="ng audi";a0N+="o";a0N+=" from";a0N+=" ";c0N="d";c0N+="o";c0N+="w";c0N+="n";T0N="u";T0N+="p";y0N=" kbps, tr";y0N+="y t";y0N+="o downswitch";k0N=" ";k0N+="kb";k0N+="p";k0N+="s < ";O0N="th";O0N+="roughput fo";O0N+="r audio ";p0N=", stream";p0N+="i";p0N+="ngPts = ";q0N=", lastUp";q0N+="sw";q0N+="itchPts";q0N+=" = ";z0N="  Ups";z0N+="witch allowed";z0N+=". lastDow";z0N+="nswitch";z0N+="Pts = ";switch(S0N){case 16:q=p[y];r=c[q];S0N=27;break;case 35:k&&f.log(z0N+D+q0N+G+p0N+q.Fb);S0N=34;break;case 9:n=d;a.JJa.some(function(f){var J0N,d,k,g,m,n,t;J0N=2;while(J0N!==13){switch(J0N){case 4:J0N=k?3:14;break;case 3:g=(f=f.yG)&&f.MY||a.MY;m=f&&f.DTb||-Infinity;n=f&&f.aG||Infinity;t=b.buffer.Hp;J0N=6;break;case 2:d=f.profiles;k=d&&0<=d.indexOf(h);J0N=4;break;case 6:p=c.filter(function(a){var w0N,b;w0N=2;while(w0N!==4){switch(w0N){case 2:b=a.R;return b>=m&&b<=n&&0<=d.indexOf(a.Jf)&&b*g/8<t;break;}}}).map(function(a){var K0N;K0N=2;while(K0N!==1){switch(K0N){case 2:return a.Tg;break;case 4:return a.Tg;break;K0N=1;break;}}});J0N=14;break;case 14:return k;break;}}});S0N=7;break;case 21:S0N=b.yx&&r>z.Cu&&(void 0===D||Number(G)>D||q.Fb-D>z.oY)?35:31;break;case 12:E=t.Fa;z=a.d7a;S0N=10;break;case 4:S0N=!(a&&a.wH&&0<=a.wH.indexOf(h))?3:9;break;case 19:S0N=y&&E<z.Owa*q?18:24;break;case 23:G=this.Lca;D=this.aY;S0N=21;break;case 18:k&&f.log(O0N+E+k0N+z.Owa+"*"+q+y0N),--y;S0N=17;break;case 27:S0N=u(r)&&(0==y||r.R*z.Owa<E)?26:25;break;case 30:E=c[n];n!==d&&k&&f.log((n>d?T0N:c0N)+a0N+t.R+t0N+E.R+r0N);k&&f.log(R0N+E.R+d0N+h+E0N+E.Fa+l0N+b.buffer.Fb);return new l(n);break;case 25:y--;S0N=17;break;case 33:S0N=(q=p[y],r=c[q],u(r)&&E>z.KKa*r.R)?32:34;break;case 24:S0N=y<p.length-1&&E>z.KKa*q&&(k&&f.log(u0N+E+U0N+z.KKa+"*"+q+X0N),q=b.buffer,r=q.Ql-q.vd,t.Y&&t.Y.length)?23:30;break;case 17:S0N=0<=y?16:30;break;case 34:S0N=++y<p.length?33:30;break;case 6:t=c[d];q=t.R;y=p.indexOf(d);S0N=12;break;case 7:S0N=p&&1<p.length?6:30;break;case 26:n=q;S0N=30;break;case 3:return new l(d);break;case 32:n=q;S0N=30;break;case 31:k&&f.log(L0N+D+N0N+G+A0N+r+M0N);S0N=30;break;case 10:S0N=0>y?20:19;break;case 20:n=0;S0N=30;break;case 2:m(!g.U(d),v0N);h=c[d].Jf;S0N=4;break;}}}function b(a,b){var x9N,c;x9N=2;while(x9N!==3){switch(x9N){case 4:return c;break;case 2:c=void 0;b.some(function(b){var P0N,f;P0N=2;while(P0N!==3){switch(P0N){case 2:f=b.profiles;(f=f&&0<=f.indexOf(a))&&(c=b.override);return f;break;}}});x9N=4;break;}}}Y9N=2;while(Y9N!==20){f0N="1SIYb";f0N+="Zr";f0N+="NJCp9";switch(Y9N){case 8:t=a(59);a(14);u=p.MA;l=p.Jm;q=a(380);Y9N=12;break;case 12:r=a(21).na;d.P={STARTING:function(a,c,d,h){var I0N,g,m,m0N,n0N,Z0N;I0N=2;while(I0N!==14){m0N=" ";m0N+="kbps, pr";m0N+="ofile :";n0N="selectAudioS";n0N+="tre";n0N+="amStarting";n0N+=": selected stre";n0N+="am :";Z0N="selectAudioStreamStarting: over";Z0N+="riding";Z0N+=" config with ";switch(I0N){case 3:g={minInitAudioBitrate:a.xN,minHCInitAudioBitrate:a.wN,maxInitAudioBitrate:a.iN,minRequiredAudioBuffer:a.MY},k&&f.log(Z0N+JSON.stringify(m)),t(m,g);I0N=9;break;case 2:g=a;m=d[h||0].Jf;I0N=4;break;case 4:I0N=(m=a&&a.wH&&0<=a.wH.indexOf(m)?b(m,a.JJa):b(m,a.a7a))?3:9;break;case 9:a=q[r[r.Dg]](g,c,d,h);d=d[a.ld];k&&f.log(n0N+d.R+m0N+d.Jf);return a;break;}}},BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};f0N;Y9N=20;break;case 2:g=a(6);p=a(30);f=p.console;k=p.debug;m=p.assert;Y9N=8;break;}}}());},function(d,c,a){var h,g,p,f;function b(a,b,c){var d,k;d=this.e5;b=b.buffer.Fb;k="forward"===a.$xb;if(h.U(d))return d=k?g(c):g(c,c.length),this.f5=b,this.e5=d,new f(d);p(c[d])||(d=g(c,d),this.f5=b,this.e5=d);if(0>d)return null;if(b>this.f5+a.tCb){a=c.map(function(a,b){return a.tf&&a.inRange&&!a.hh?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;k?d=(a.indexOf(d)+1)%a.length:(d=a.indexOf(d)-1,0>d&&(d=a.length-1));this.e5=a[d];this.f5=b;return new f(a[d]);}return new f(d);}h=a(6);a(14);c=a(30);g=c.q$;p=c.MA;f=c.Jm;d.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(d,c,a){var b,h,g,p,f,k,m,t,u,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(78);h=a(59);g=a(6);p=a(395);f=a(4);d=a(115);a=a(30);k=a.Vqb;m=a.n8a;t=a.EU;u=a.Jm;l=d.sha;a=function(){var e0N,R8i;function a(a,b){var Q0N,c,f,d8i,x8i;Q0N=2;while(Q0N!==12){d8i="hist_";d8i+="thr";d8i+="oug";d8i+="hpu";d8i+="t";x8i="h";x8i+="ist_td";x8i+="ige";x8i+="st";switch(Q0N){case 2:c=new u();c.ql=a;a=c.ql.kb||{};c.Zl=a.Kl&&a.wi;Q0N=9;break;case 7:Q0N=(f=g.ma(b.B_)&&0<=b.B_&&100>=b.B_&&!g.U(a)&&!g.Oa(a))?6:14;break;case 9:c.pn=a.Kl?a.Kl:0;a=h(c.Zl,{});Q0N=7;break;case 6:f=p.qpa.ijb(a),g.Tb(f)?(a.Jh=f,f=!0):f=!1;Q0N=14;break;case 14:f?(b=a.Jh(b.B_/100)||c.ql.Fa,c.qu=b,c.reason=x8i):c.ql.Fa&&(b=c.ql.Fa,c.qu=b,c.reason=d8i);return c;break;}}}e0N=2;while(e0N!==5){R8i="1SI";R8i+="YbZr";R8i+="NJCp9";switch(e0N){case 2:R8i;return{O3a:function(a,b,c){var B0N,A8i;B0N=2;while(B0N!==1){A8i="h";A8i+="ist";A8i+="ori";A8i+="c";A8i+="al";switch(B0N){case 2:return A8i===a.Wba?W(a,b,c):a.oK?q(a,c):r(a,b,c);break;}}},u1a:y};break;}}function c(a,b,c){var G0N;G0N=2;while(G0N!==5){switch(G0N){case 2:a=m(c.Mg,a*c.Oda);return k(a,b);break;}}}function q(b,f){var F0N,d,h,k,m,p,t,B8i,i8i,I8i;F0N=2;while(F0N!==24){B8i="f";B8i+="a";B8i+="llback_m";B8i+="inAcceptableVideoBitrate";i8i="fallba";i8i+="ck_minAcceptableStar";i8i+="ti";i8i+="ngVMAF";I8i="fallback_no_acceptable_st";I8i+="re";I8i+="am";switch(F0N){case 26:g.Oa(h)&&(h=a(f[0],b),h.reason=I8i);return h;break;case 1:d=!!b.lG&&!!b.xDa&&f.every(function(a){var H0N;H0N=2;while(H0N!==1){switch(H0N){case 2:return a.uc&&110>=a.uc;break;case 4:return a.uc||218>a.uc;break;H0N=1;break;}}}),h=null,k=!1,m=f.length-1;F0N=5;break;case 15:h.reason=d?i8i:B8i;F0N=26;break;case 11:h.reason=t;F0N=10;break;case 19:t=0;F0N=18;break;case 20:F0N=g.Oa(h)?19:26;break;case 10:m--;F0N=5;break;case 12:F0N=p?20:11;break;case 6:p=t.UV;t=t.reason;h.FA=k;F0N=12;break;case 18:F0N=t<=m?17:26;break;case 4:p=f[m];h=a(p,b);k=c(p.R,h.qu,b);t=n(h.qu,b);t=y(p,0,d,k,t,b);F0N=6;break;case 17:F0N=(p=f[t],k=d?p.uc>=b.LDa:p.R>=b.uN)?16:27;break;case 5:F0N=0<=m&&(d?f[m].uc>=b.lG:f[m].R>=b.Lr)?4:20;break;case 2:F0N=1;break;case 16:h=a(p,b);F0N=15;break;case 27:t++;F0N=18;break;}}}function n(a,b){var b0N,c,w8i,T8i;b0N=2;while(b0N!==8){w8i="sig";w8i+="m";w8i+="o";w8i+="i";w8i+="d";T8i="l";T8i+="o";T8i+="g";switch(b0N){case 4:c=b.aH;return(c=b.gIa[c])&&2===c.length?1E3*(c[0]+c[1]*Math.log(1+a)):b.Ko;break;case 5:b0N=0===b.aH.lastIndexOf(T8i,0)?4:9;break;case 9:return 0===b.aH.lastIndexOf(w8i,0)?(c=b.aH,(c=b.gIa[c])&&2===c.length?1E3*(c[0]+c[1]*l(a)):b.Ko):b.Ko;break;case 2:a=t(a,0,1E5)/1E3;b0N=5;break;}}}function r(a,f,h){var s0N,k,g;s0N=2;while(s0N!==9){switch(s0N){case 2:k=new u();g=Math.max(a.Lr,a.uN,f.QX?a.Vda:-Infinity);k.ql=b.$q(h.filter(function(b){var g0N;g0N=2;while(g0N!==1){switch(g0N){case 2:return b.R<=a.Fu;break;case 4:return b.R>=a.Fu;break;g0N=1;break;}}}).reverse(),function(b){var j0N,f,h,m,U8i,e8i,C8i,X8i;j0N=2;while(j0N!==12){U8i="no_historical";U8i+="_lte";U8i+="_m";U8i+="inbitrate";e8i="h";e8i+="ist_tput_lt_minbitr";e8i+="ate";C8i="l";C8i+="t_hist_l";C8i+="te_minbitrate";X8i="h";X8i+="is";X8i+="t_bufftime";switch(j0N){case 5:j0N=b.R>g?4:13;break;case 9:j0N=h?8:14;break;case 2:f={Fa:b.Fa,Kl:b.kb&&b.kb.Kl,wi:b.kb&&b.kb.wi};j0N=5;break;case 4:b=b.R;h=f.Fa;j0N=9;break;case 7:c(b,h,a)<=m?(k.qu=h,f&&(k.pn=f.Kl?f.Kl:0,k.Zl=f.Kl&&f.wi),k.reason=X8i,f=!0):f=!1;j0N=6;break;case 6:return f;break;case 8:m=d(a,b);j0N=7;break;case 14:f=!1;j0N=6;break;case 13:h=f.Fa,b.R<=h?(k.qu=h,f&&(k.pn=f.Kl?f.Kl:0,k.Zl=f.Kl?f.wi:void 0),k.reason=C8i,f=!0):h?(k.qu=h,f&&(k.pn=f.Kl?f.Kl:0,k.Zl=f.Kl?f.wi:void 0),k.reason=e8i,f=!1):(k.reason=U8i,f=!0);j0N=6;break;}}})||h[0];s0N=3;break;case 3:return k;break;}}}function y(a,b,c,f,d,h){var h0N,W8i,G8i,f8i;h0N=2;while(h0N!==5){W8i="no_val";W8i+="i";W8i+="d_B";W8i+="itra";W8i+="te";G8i="no_";G8i+="val";G8i+="id";G8i+="_VM";G8i+="AF";f8i="no_val";f8i+="i";f8i+="d";f8i+="_Delay";f8i+="Target";switch(h0N){case 1:return(f=f<d&&a)?{UV:f}:{UV:f,reason:a?f8i:c?G8i:W8i};break;case 2:a=c?a.uc>=h.lG&&a.uc<=h.xDa:a.R>=h.Lr&&a.R<=h.Fu;h0N=1;break;}}}function W(a,c,d){var D0N,h,l8i,Q8i,n8i;D0N=2;while(D0N!==6){l8i="v";l8i+="b";Q8i="n";Q8i+="um";Q8i+="be";Q8i+="r";n8i="his";n8i+="t_b";n8i+="itr";n8i+="a";n8i+="te";switch(D0N){case 4:return a.oK?q(a,d):r(a,c,d);break;case 3:a=new u();a.ql=b.$q(d.reverse(),function(a){var V0N;V0N=2;while(V0N!==1){switch(V0N){case 2:return a.R<=h;break;case 4:return a.R<h;break;V0N=1;break;}}})||d[0];a.reason=n8i;return a;break;case 5:D0N=Q8i!==typeof h?4:3;break;case 1:h=f.storage.get(l8i);D0N=5;break;case 2:D0N=1;break;}}}function d(a,c){var W0N,f,d;W0N=2;while(W0N!==11){switch(W0N){case 2:W0N=1;break;case 1:W0N=a.AX?5:12;break;case 3:W0N=0===d?9:8;break;case 5:f=a.AX;d=b.oE(f,function(a){var i0N;i0N=2;while(i0N!==1){switch(i0N){case 2:return c<=a.r;break;case 4:return c>=a.r;break;i0N=1;break;}}});W0N=3;break;case 9:return f[0].d;break;case 8:W0N=-1===d?7:6;break;case 7:return f[f.length-1].d;break;case 6:T1zz.j8i(0);a=f[T1zz.N8i(1,d)];f=f[d];return Math.floor(a.d+(f.d-a.d)*(c-a.r)/(f.r-a.r));break;case 12:return a.Ko;break;}}}}();d=a.u1a;c.Qyb=a.O3a;c.BSb=d;},function(d,c,a){var b;a(6);b=a(30).console;d.P=function(a,c,d,f,k,g,t,u,l,q,r,z,G,M,N){var z33=T1zz;var Y8i,h,m,n,p,y,E,D,ia,Z9g,H9g,y9g;Y8i=2;while(Y8i!==53){Z9g="1SI";Z9g+="YbZrNJ";Z9g+="Cp9";H9g=" >";H9g+="= fragmentsLength";H9g+=": ";y9g="StreamingInd";y9g+="ex";y9g+=": ";switch(Y8i){case 36:return{result:!1,fN:Math.min(a,f)/(h/1E3),fx:!0};break;case 14:ia=0;a=a.Fd[0];z33.h9g(0);k=z33.q9g(k,1E3,h,a);z33.R9g(1);a=z33.q9g(z,0,8,g);z33.h9g(2);z=z33.q9g(8,z,0);z33.h9g(3);g=z33.q9g(1E3,h);Y8i=19;break;case 44:r-=p;Y8i=43;break;case 34:Y8i=r<D?33:32;break;case 30:z33.h9g(4);a=z33.q9g(t,d);Y8i=29;break;case 25:z33.R9g(3);E*=z33.u9g(1E3,h);Y8i=24;break;case 24:Y8i=u<c?23:54;break;case 54:return{result:!0,fN:f/(h/1E3),fx:!0};break;case 37:Y8i=(a=Math.max(t-d,0),a<G&&a<D)?36:29;break;case 26:z33.R9g(3);G*=z33.q9g(1E3,h);Y8i=25;break;case 16:z33.h9g(3);d*=z33.q9g(1E3,h);z33.R9g(3);t*=z33.q9g(1E3,h);z33.h9g(3);M*=z33.q9g(1E3,h);Y8i=26;break;case 29:z33.R9g(5);d+=z33.u9g(0,z,g,p);t+=y;Y8i=44;break;case 23:p=n[u];y=m[u];Y8i=21;break;case 40:Y8i=u>=l&&a>E?54:39;break;case 4:c=Math.min(a.length,c);m=a.Fd;n=a.sizes;z33.h9g(4);E=z33.q9g(f,d);f=Infinity;D=0;Y8i=14;break;case 32:Y8i=!N&&(a=t-d,a<M)?31:30;break;case 35:D=Math.max(p,q);Y8i=34;break;case 43:Y8i=k<d&&ia<u?42:41;break;case 38:f=Math.min(a,f);Y8i=24;break;case 19:u>=c&&b.error(y9g+u+H9g+c);d+=a;0===t&&(d=0);Y8i=16;break;case 39:D=a;Y8i=38;break;case 42:r+=n[ia],++ia,k+=m[ia];Y8i=43;break;case 33:d=k,r+=n[ia],++ia,a=m[ia],k+=a;Y8i=34;break;case 31:return{result:!1,fN:a/(h/1E3),fx:!1};break;case 41:++u;Y8i=40;break;case 21:Y8i=r<p?35:37;break;case 2:Z9g;h=a.X;Y8i=4;break;}}};},function(d,c,a){var b,h,g,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(78);h=a(6);d=a(30);g=a(381);p=d.assert;f=d.Jm;c.Nga=k;(function(){var I9g,L9g;function a(a,c,d,k){var v9g,m,n,t,u,l,q,m9g,d9g,X9g;function g(b){var t9g,c,J9g;t9g=2;while(t9g!==7){J9g="buf";J9g+="f_lt";J9g+="_hist";switch(t9g){case 2:c=b.Fa;t9g=5;break;case 5:t9g=!c||(b.R>t?a.mEb:1)*b.R>c?4:3;break;case 3:q=J9g;l=c;t9g=8;break;case 8:return!0;break;case 4:return!1;break;}}}v9g=2;while(v9g!==13){m9g="Must have at least one sel";m9g+="ected stre";m9g+="am";d9g="se";d9g+="lect_f";d9g+="easi";d9g+="ble_buffer";d9g+="ing";X9g="fallba";X9g+="ck";X9g+="_lowest_acceptable_stre";X9g+="am";switch(v9g){case 3:u=n;n.Fa&&(c=this.waa(c,d,a),n=b.$q(d.slice(c.ld,Math.min(k+(a.c6a?2:1),d.length)).reverse(),g),void 0===n?(n=c.ql,q=X9g):q=d9g,l=null===(m=n)||void 0===m?void 0:m.Fa);d=new f();d.ql=n;u!==n&&(d.reason=q,d.qu=l);return d;break;case 2:p(!h.U(k),m9g);n=d[k];t=n.R;v9g=3;break;}}}I9g=2;while(I9g!==5){L9g="1S";L9g+="I";L9g+="YbZr";L9g+="NJCp9";switch(I9g){case 2:c.Nga=k=function(b,c,f,d,h,k){var g9g,T9g;g9g=2;while(g9g!==1){T9g="p";T9g+="l";T9g+="ayin";T9g+="g";switch(g9g){case 2:return T9g===b.v7?g.A_.call(this,b,c,f,d,h,k):a.call(this,b,c,f,d);break;}}};L9g;I9g=5;break;}}}());},function(d,c,a){var h;function b(a,b,c){a=c.map(function(a,b){return a.tf&&a.inRange&&!a.hh?b:null;}).filter(function(a){return null!==a;});return a.length?new h(a[Math.floor(Math.random()*a.length)]):null;}a(14);h=a(30).Jm;d.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(d,c,a){var h,g,p,f;function b(a,b,c,d){if(h.U(d))a=g(c);else if(p(c[d]))a=d;else if(a=g(c,d),0>a)return null;return new f(a);}h=a(6);a(14);c=a(30);g=c.q$;p=c.MA;f=c.Jm;d.P={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(d,c,a){var b,h,g,p,f,k,m,t,u,l,q;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);h=a(14);g=a(4);p=a(78);f=a(21);k=a(382);d=a(30);m=new g.Console("ASEJS_STREAM_SELECTOR","media|asejs");t=d.Jm;u=[f.na[f.na.Dg],f.na[f.na.ye],f.na[f.na.Bg],f.na[f.na.Jc],f.na[f.na.yh],"checkBuffering"];l={first:a(795),random:a(794),optimized:a(215),roundrobin:a(790),selectaudio:a(380),selectaudioadaptive:a(789),"default":a(215),lowest:a(788),highest:a(787),throughputthreshold:a(786),checkdefault:a(785),testscript:a(784)};q={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=function(){var B9g;B9g=2;while(B9g!==6){switch(B9g){case 2:a.prototype.C_=function(a,c,d,n,t,u){var O33=T1zz;var p4g,x4g,l,q,y,E,r,z,G,D,M,N,P,W,Z52,C52,F4g,V4g;p4g=2;while(p4g!==56){Z52="St";Z52+="ream selector c";Z52+="alled with invalid pla";Z52+="yer";Z52+=" state ";C52="pl";C52+="ayi";C52+="ng";switch(p4g){case 29:p4g=E.cJa&&G>E.vN?28:53;break;case 22:this.g5=this.d5=void 0;p4g=21;break;case 53:z||(W.Tw=void 0);p4g=52;break;case 50:this.HD=W.ld;E=c[W.ld];W.reason&&(E.ap=W.reason,E.Mga=W.qu,E.FA=W.FA,E.pn=W.pn,E.Zl=W.Zl);p4g=47;break;case 28:O33.x52(0);F4g=O33.O52(15,1,7,8);E=W.ld+F4g;p4g=44;break;case 23:x4g=a.state;p4g=x4g===f.na.Dg?22:63;break;case 38:p4g=0<=E?37:53;break;case 11:p4g=!(0<=r)?10:20;break;case 36:t.Y&&t.Y.length||(z=!0,W.Tw.push(t.qa));p4g=53;break;case 47:b.ma(r)&&E.R<c[r].R&&(this.d5=d.Fb);a.state!==f.na.Jc&&a.state!==f.na.yh?(t=k.VFa(a.state),u=this.Ol(a.buffer,t,E,u),(W.rj=u.complete)?W.qU=u.reason:(W.rj=!1,W.FB=u.FB,W.Gx=u.Gx,W.Kh=u.Kh)):(W.rj=!0,W.qU=C52);a.IL&&(W.Fb=d.Fb,u=a&&a.ny,t=E.Y,W.Mi=t&&void 0!==u&&!isNaN(u)&&0<=u&&u<t.length?t.Nh(u):d.Fb,W.Nub=E.Fa||0,W.fsb=E.kb&&E.kb.Fa&&E.kb.Fa.Ca||0,W.g8a=d.Ql-d.vd,W.tua=d.Qh,W.Yx=a.state,W.co=a&&a.co,W.BKa=q,W.kCb=g.time.ea());p4g=65;break;case 21:this.KS=h.PQ.Dg;p4g=35;break;case 34:p4g=W.ql?33:64;break;case 35:W=this.jf[f.na[a.state]].call(this,E,a,P,z,n,!!t);p4g=34;break;case 51:return null;break;case 2:d=null===a||void 0===a?void 0:a.buffer;q=g.time.ea();E=this.J;r=this.HD;p4g=9;break;case 42:t.Y&&t.Y.length||(z=!0,W.Tw.push(t.qa));p4g=40;break;case 25:void 0!==r&&(G=p.oE(P,function(a){var Y4g;Y4g=2;while(Y4g!==1){switch(Y4g){case 2:return a.R>c[r].R;break;case 4:return a.R>=c[r].R;break;Y4g=1;break;}}}),z=0<G?G-1:0===G?0:P.length-1);a.state!==f.na.Dg&&void 0===z&&(a.state=f.na.Dg);p4g=23;break;case 32:G=d.Ql-d.vd;t=void 0;z=!1;p4g=29;break;case 9:b.ma(r)&&a.state===f.na.Dg&&(r=this.HD=void 0);b.ma(r)&&r>=c.length&&(r=this.HD=void 0);G=d.Y;D=G.length;p4g=14;break;case 44:p4g=E<c.length?43:40;break;case 65:return W;break;case 59:p4g=x4g===f.na.yh?35:58;break;case 43:p4g=(t=c[E],t.tf&&t.inRange&&!t.hh)?42:41;break;case 40:p4g=!z?39:53;break;case 37:p4g=(t=c[E],t.tf&&t.inRange&&!t.hh)?36:54;break;case 64:W.ld=function(a){var s4g;s4g=2;while(s4g!==1){switch(s4g){case 2:return p.oE(c,function(b){var a4g;a4g=2;while(a4g!==1){switch(a4g){case 4:return b==P[a];break;a4g=1;break;case 2:return b===P[a];break;}}});break;}}}(W.ld);p4g=52;break;case 20:b.U(r)&&(r=this.HD);this.eW(c,function(b){var l4g;l4g=2;while(l4g!==1){switch(l4g){case 2:b.tf&&b.inRange&&!b.hh&&b.kb&&b.kb.Ed?(l!==b.kb&&(l=b.kb,a&&a.Fo&&b.kb&&(b.kb.Fo=!0),y=Math.floor(n(b.kb,a.buffer,b.track.O.cq[0])),y=0===y?1:y),b.Fa=y):b.Fa=void 0;l4g=1;break;}}});a.state===f.na.Dg&&b.ma(r)&&(a.state=f.na.ye);p4g=17;break;case 52:p4g=!W||null===W.ld?51:50;break;case 17:P=c.filter(function(a){var r4g;r4g=2;while(r4g!==1){switch(r4g){case 2:return a&&a.tf&&a.inRange&&!a.hh;break;}}});P.length||(P=c.filter(function(a){var G4g;G4g=2;while(G4g!==1){switch(G4g){case 2:return a&&a.tf&&!a.hh;break;case 4:return a||a.tf||+a.hh;break;G4g=1;break;}}}),P.forEach(function(a){var E4g;E4g=2;while(E4g!==1){switch(E4g){case 4:a.inRange=-7;E4g=9;break;E4g=1;break;case 2:a.inRange=!0;E4g=1;break;}}}));G=P;p4g=27;break;case 10:N=G[D-1].R,G=p.oE(c,function(a){var N4g;N4g=2;while(N4g!==1){switch(N4g){case 2:return a.R>N;break;case 4:return a.R<N;break;N4g=1;break;}}}),r=0<G?G-1:0===G?0:c.length-1;p4g=20;break;case 33:p4g=(W.Tw=[],c.forEach(function(a,b){var j4g;j4g=2;while(j4g!==4){switch(j4g){case 2:a===W.ql&&(W.ld=b);a.Mha&&W.Tw.push(a.qa);a.Mha=!1;j4g=4;break;}}}),!W.Tw.length)?32:52;break;case 60:p4g=x4g===f.na.Jc?35:59;break;case 54:--E;p4g=38;break;case 14:p4g=0<D?13:20;break;case 61:p4g=x4g===f.na.Bg?62:60;break;case 39:O33.x52(1);V4g=O33.m52(19,20);E=W.ld-V4g;p4g=38;break;case 62:this.KS=h.PQ.Dg;p4g=35;break;case 27:E.h0?G=P.filter(function(a){var e4g;e4g=2;while(e4g!==1){switch(e4g){case 4:return a.fx;break;e4g=1;break;case 2:return a.fx;break;}}}):a.state!==f.na.Jc&&a.state!==f.na.yh&&(G=P.filter(function(a){var C4g;C4g=2;while(C4g!==1){switch(C4g){case 2:return!a.YIa;break;case 4:return~a.YIa;break;C4g=1;break;}}}));P=0<G.length?G:P.slice(0,1);p4g=25;break;case 13:M=G[D-1].qa;r=p.oE(c,function(a){var P4g;P4g=2;while(P4g!==1){switch(P4g){case 4:return a.qa==M;break;P4g=1;break;case 2:return a.qa===M;break;}}});p4g=11;break;case 63:p4g=x4g===f.na.ye?62:61;break;case 58:return m.error(Z52+f.na[a.state]),null;break;case 41:++E;p4g=44;break;}}};a.prototype.Ol=function(a,b,c,f){var i4g;i4g=2;while(i4g!==1){switch(i4g){case 2:return this.jf.checkBuffering.call(this,a,b,c,f,this.J);break;}}};a.prototype.d0=function(a,c,f){var K4g;K4g=2;while(K4g!==1){switch(K4g){case 2:b.U(c)?this.d5=this.g5=void 0:c.R<f.R&&(this.g5=a);K4g=1;break;}}};a.prototype.eW=function(a,b){var n4g,c,O4g;n4g=2;while(n4g!==3){switch(n4g){case 2:T1zz.G52(2);O4g=T1zz.O52(3,12,20,96);c=a.length-O4g;n4g=1;break;case 5:b(a[c],c,a);n4g=4;break;case 4:--c;n4g=1;break;case 1:n4g=0<=c?5:3;break;}}};B9g=3;break;case 3:Object.defineProperties(a.prototype,{aY:{get:function(){var c4g;c4g=2;while(c4g!==1){switch(c4g){case 4:return this.d5;break;c4g=1;break;case 2:return this.d5;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Lca:{get:function(){var z4g;z4g=2;while(z4g!==1){switch(z4g){case 4:return this.g5;break;z4g=1;break;case 2:return this.g5;break;}}},enumerable:!0,configurable:!0}});a.prototype.waa=function(a,b,c){var W4g,f,d,h,k;W4g=2;while(W4g!==8){switch(W4g){case 9:return h;break;case 2:a=a.Nfa;h=new t();k=Math.max(c.LDa-Math.floor(a*c.zqb),c.MDa,0);h.ql=(d=(f=p.$q(b,function(a){var S4g,b;S4g=2;while(S4g!==5){switch(S4g){case 2:return(b=a.uc,null!==b&&void 0!==b?b:-Infinity)>=k;break;}}}),null!==f&&void 0!==f?f:p.$q(b,function(a){var b4g;b4g=2;while(b4g!==1){switch(b4g){case 2:return a.R>=c.uN;break;case 4:return a.R<=c.uN;break;b4g=1;break;}}})),null!==d&&void 0!==d?d:b[b.length-1]);W4g=9;break;}}};return a;break;}}function a(a,b,c){var A9g,f,I52;A9g=2;while(A9g!==6){I52="1S";I52+="IY";I52+="bZrNJCp";I52+="9";switch(A9g){case 5:this.dH=a;this.J=b;I52;A9g=9;break;case 2:f=this;A9g=5;break;case 8:a=a||this.J.e0;this.jf=u.reduce(function(b,c){var U9g;U9g=2;while(U9g!==5){switch(U9g){case 2:b[c]=((l[a]||l[q[c]])[c]||l[q[c]][c]).bind(f);return b;break;}}},{});A9g=6;break;case 9:c&&(this.HD=c.HD,this.KS=c.KS);A9g=8;break;}}}}();c.M3=a;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a,c){this.track=a;c?(this.yu=c.yu,this.SA=c.SA,this.Ica=c.Ica,this.VM=c.VM):this.SA=this.yu=void 0;}a.prototype.d0=function(a){this.yu=a;};a.prototype.Lzb=function(a){this.track=a;};return a;}();c.TYa=d;},function(d,c,a){var b,h,g,p,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(7);d=a(44);h=a(4);g=a(114);p=a(76);a=a(170);f=h.Vj;a=function(a){function c(b,c,f,d,h,k,g){d.responseType=0;f=a.call(this,b,f,"",d,h,c,g)||this;p.yi.call(f,b,d);f.Eda=c.Eda;f.Fda=c.Fda;f.t$=0;return f;}b.__extends(c,a);c.prototype.Xb=function(){this.Vb||(this.Vb=g.Mf());};c.prototype.Or=function(){return f.prototype.open.call(this,this.gJ,{start:this.offset,end:this.offset+Math.max(this.Fda,Math.floor(this.Eda*this.ba))-1},this.fJ,{},void 0,void 0,void 0);};c.prototype.abort=function(){return!0;};c.prototype.TJ=function(){var a;a=this.Wc||this.Ze;this.Rc||(this.Rc=!0,this.t$=a);};c.prototype.w5=function(){this.t$=this.Wc;};c.prototype.x5=function(){};c.prototype.SJ=function(){var a;a=this.Wc;this.Vb&&this.Vb.xw(this.Ae,this.t$,a,{requestId:this.Om(),ae:this.Jb,type:this.M,lC:!0});this.og=this.Rc=!1;this.xc();};c.prototype.OD=function(){this.Gf&&this.Gf.clear();};return c;}(a.pC);c.OMa=a;d.cj(p.yi,a,!1);},function(d,c,a){var b,h,g,p,f,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(100);g=a(7);a(4);p=a(16);f=a(216);k=a(76);m=a(227);d=function(a){function c(b,f,d,h,g,m){f=a.call(this,b,h,g,f,m)||this;f.x0a=d;f.Nm=void 0;f.M4=c.AC.INIT;f.AOb=h.offset;f.c5=k.yi.prototype.toString.call(f)+" multiple";f.YD(b.url,h.offset,8,0);return f;}b.__extends(c,a);Object.defineProperties(c.prototype,{data:{get:function(){return this.Nm;},enumerable:!0,configurable:!0}});c.prototype.Vi=function(a){var b,d;this.Nm=this.Nm?p.hr(this.Nm,a.response):a.response;a.rO();switch(this.M4){case c.AC.INIT:b=new DataView(this.Nm);d=b.getUint32(0);b=b.getUint32(4);h.mz(b);this.YD(a.url,a.offset+a.ba,d,0);f.oC.prototype.Vi.call(this,a);this.M4=c.AC.zma;break;case c.AC.zma:b=new DataView(this.Nm);d=b.getUint32(this.kqa-8);b=b.getUint32(this.kqa-4);h.mz(b);this.YD(a.url,a.offset+a.ba,d-8,0);this.M4=c.AC.xma;f.oC.prototype.Vi.call(this,a);break;case c.AC.xma:f.oC.prototype.Vi.call(this,a);break;default:g.assert(!1);}};c.prototype.YD=function(a,b,c,f){a=new m.bQ(this.stream,this.x0a,this.c5+" ("+this.va.length+")",{u:this.u,M:this.M,qa:this.qa,R:this.R,offset:b,ba:c,url:a,location:this.location,Jb:this.Jb,responseType:f},this,this.Zc,this.I);this.push(a);this.kqa=this.va.reduce(function(a,b){return a+b.ba;},0);};c.AC={INIT:0,zma:1,xma:2,name:["INIT","MOOF","MDAT"]};return c;}(f.oC);c.IMa=d;},function(d,c,a){var b,h,g,p,f,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(7);h=a(6);d=a(44);g=a(4);p=a(114);f=a(76);k=a(170);m=a(167);t=g.Vj;a=function(a){function c(b,c,d,h,k,g,m){var n;n=this;n=["cache","edit"].filter(function(a,b){return[g,h.Sa][b];});n=n.length?"("+n.join(",")+")":"";void 0===h.responseType&&(h.responseType=t.wc&&!t.wc.VG.cz?0:1);n=a.call(this,b,d,n,h,k,c,m)||this;f.yi.call(n,b,h);n.B1a=h.Qnb;n.Gf.on(n,t.Ld.uLb,n.H2a);n.Gf.on(n,t.Ld.tLb,n.G2a);return n;}b.__extends(c,a);c.prototype.Xb=function(a){m.qC.prototype.Xb.call(this,a);this.Vb||!this.Zc.XT&&this.ac||(this.Vb=p.Mf());};c.prototype.Or=function(){var a;a={start:this.offset,end:this.offset+this.ba-1};void 0!==this.Wb&&0<=this.Wb&&void 0!==this.sd&&(this.gJ=this.zra(this.gJ,!0),a={start:0,end:-1});return t.prototype.open.call(this,this.gJ,a,this.fJ,{},void 0,void 0,this.Upa);};c.prototype.F0=function(){var a,b,c;if(this.complete)return 0;a=this.uHa;b=a.O;if(!a.url)return this.I.warn("updateurl, missing url for streamId:",a.qa,"mediaRequest:",this,"stream:",a),1;c=this.zra(a.url,!1);return this.url===c||(b.M_(this,a.location,a.qc),this.iP(c))?0:(this.I.warn("swapUrl failed: ",this.jF),2);};c.prototype.TJ=function(){this.Rc||(this.Rc=!0,this.tn=this.track.tn(),this.uA(this),this.kl=0,this.ll=this.Wc);};c.prototype.w5=function(){var a;a=this.Wc;this.tA(this);this.ll=a;};c.prototype.x5=function(){var a;a=this.Wc;this.oF(this);this.ll=a;this.kl=this.Ae;};c.prototype.H2a=function(){var a;a=this.Hnb;this.og=!0;this.Vb&&(this.Vb.BB(a,{requestId:this.Om(),ae:this.Jb,type:this.M}),this.Vb.ega());};c.prototype.SJ=function(){var a;a=this.Wc;this.Vb&&this.og&&this.Vb.DB(g.time.ea(),this.og,{requestId:this.Om(),ae:this.Jb,type:this.M});this.og=this.Rc=!1;this.Qp(this);this.ll=a;this.kl=this.Ae;this.xc();};c.prototype.G2a=function(){this.Vb&&(this.Vb.xw(this.SSb,this.Hnb,this.Gnb,{requestId:this.Om(),ae:this.Jb,type:this.M}),this.Vb.DB(this.Gnb,this.og,{requestId:this.Om(),ae:this.Jb,type:this.M}));this.og=!1;};c.prototype.Q_a=function(a,b,c,f){return void 0===a||void 0===b||void 0===c?0:b<c?0:a<c?f:a-c;};c.prototype.zra=function(a,b){var c,f;if(h.U(this.Wb)||0>this.Wb||h.U(this.sd))return a;c=[];f=this.Q_a(this.Wb,this.sd-1,this.B1a,this.Zc.Qqb);c.push("ptsRange/"+this.Wb+"-"+(this.sd-1));0<f&&b&&c.push("timeDelay/"+f);a=a.split("?");b=a[0];for(var f="",d=0;d<c.length;d++)f+="/"+c[d];return a[1]?b+(f+"?"+a[1]):b+f;};return c;}(k.pC);c.EMa=a;d.cj(f.yi,a,!1);},function(d,c,a){var b,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(7);d=a(44);g=a(228);a=a(172);p=function(){function a(b,c){this.Ea=[];this.Fg=void 0;this.Zb=0;this.I=b;c&&c.length&&(Array.isArray(c)?(this.Ea=c.slice(),this.kJ(0,this.Ea.length)):c instanceof a&&(this.Ea=c.Ea.slice(),this.kJ(0,this.Ea.length)));}Object.defineProperties(a.prototype,{length:{get:function(){return this.Ea.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.Ea.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{first:{get:function(){return this.Ea[0];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Kg:{get:function(){return this.Ea[this.Ea.length-1];},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{eb:{get:function(){return this.first&&this.first.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{rb:{get:function(){return this.Kg&&this.Kg.rb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.Zb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.first&&this.first.X;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{pq:{get:function(){return this.first&&this.first.pq;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Y:{get:function(){return this.Ea;},enumerable:!0,configurable:!0}});a.prototype.get=function(a){0>a&&(a+=this.Ea.length);return this.Ea[a];};a.prototype.push=function(a){this.Ea.push(a);this.kJ(this.Ea.length-1);return this.length;};a.prototype.unshift=function(a){this.Ea.unshift(a);this.kJ(0,1);return this.length;};a.prototype.pop=function(){if(0!==this.Ea.length)return this.L5(this.Ea.length-1),this.Ea.pop();};a.prototype.shift=function(){if(0!==this.Ea.length)return this.L5(0),this.Ea.shift();};a.prototype.splice=function(a,c){for(var f,d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];0>a&&(a+=this.Ea.length);0>a&&(a=0);a>this.Ea.length&&(a=this.Ea.length);if(void 0===c||0>c)c=0;c=Math.min(c,this.Ea.length-a);0<c&&this.L5(a,a+c);h=(f=this.Ea).splice.apply(f,b.__spreadArrays([a,c],d));0<d.length&&this.kJ(a,a+arguments.length-2);return h;};a.prototype.slice=function(b,c){void 0===b&&(b=0);void 0===c&&(c=this.Ea.length);0>b&&(b+=this.Ea.length);if(b>=this.Ea.length)return new a(this.I);c>this.Ea.length&&(c=this.Ea.length);0>c&&(c+=this.Ea.length);return new a(this.I,this.Ea.slice(b,c));};a.prototype.qn=function(a){if(0===this.Ea.length||a.eb>=this.rb)this.push(a);else if(a.rb<=this.eb)this.unshift(a);else{for(var b=0,c=this.Ea.length-1,f;b<c-1;)f=Math.floor((c+b)/2),h.assert(f!==c&&f!==b),a.eb>=this.Ea[f].rb?b=f:c=f;h.assert(b!==c);h.assert(this.Ea[b].rb<=a.eb&&this.Ea[c].eb>=a.rb);this.splice(c,0,a);}};a.prototype.remove=function(a){a=this.Ea.indexOf(a);if(0>a)return!1;this.splice(a,1);return!0;};a.prototype.concat=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=b.map(function(a){return a.Ea;});return new a(this.I,Array.prototype.concat.apply(this.Ea,b));};a.prototype.forEach=function(a){var b;b=this;this.Ea.forEach(function(c,f){return a(c,f,b);});};a.prototype.some=function(a){var b;b=this;return this.Ea.some(function(c,f){return a(c,f,b);});};a.prototype.every=function(a){var b;b=this;return this.Ea.every(function(c,f){return a(c,f,b);});};a.prototype.map=function(a){var b;b=this;return this.Ea.map(function(c,f){return a(c,f,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.Ea.reduce(function(b,f,d){return a(b,f,d,c);},b);};a.prototype.indexOf=function(a){return this.Ea.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.Ea.some(function(f,d){c=d;return a(f,d,b);})?this.Ea[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.Ea.some(function(f,d){c=d;return a(f,d,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.I,this.Ea.filter(function(a,f){return b(a,f,c);}));};a.prototype.eW=function(a){for(var b=this.Ea.length-1;0<=b;--b)a(this.Ea[b],b,this);};a.prototype.lF=function(a){if(this.empty||a<this.pc||a>=this.ge)return-1;for(var b=0,c=this.Ea.length-1,f;c>b;){f=Math.floor((c+b)/2);if(a>=this.Ea[f].pc&&a<this.Ea[f].ge){c=f;break;}a<this.Ea[f].ge?c=f-1:b=f+1;}return c;};a.prototype.Rxa=function(a){a=this.lF(a);return 0<=a?this.Ea[a]:void 0;};a.prototype.QT=function(a){var b;b=this.Ea[a].rb;for(a+=1;a<this.Ea.length&&b===this.Ea[a].eb;++a)b=this.Ea[a].rb;a<this.Ea.length?void 0===this.Fg?this.Fg=new g.RH(this,{rb:b}):this.Fg.OO(b):void 0===this.Fg?this.Fg=new g.RH(this,{}):this.Fg.U7();};a.prototype.fD=function(a,b){for(var c=a;c<b;++c)this.Zb+=this.Ea[c].ba;void 0===this.Fg||0===a?this.QT(0):this.Fg.rb===this.rb?this.QT(a-1):this.Ea[a].eb===this.Fg.rb&&this.QT(a);};a.prototype.ht=function(a,b){var c;if(0===a)this.Fg=void 0,b<this.length&&this.QT(b);else{c=this.Fg;c.rb>this.Ea[a-1].rb&&(b<this.length?c.OO(this.Ea[a-1].rb):c.U7());}for(;a<b;++a)this.Zb-=this.Ea[a].ba;};a.prototype.kJ=function(a,b){void 0===b&&(b=a+1);this.fD(a,b);};a.prototype.L5=function(a,b){void 0===b&&(b=a+1);this.ht(a,b);};return a;}();c.d1=p;d.cj(a.cQ,p);},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(7);d=function(){function a(a,b){this.Dc=a;this.oD=b;this.Zs();}Object.defineProperties(a.prototype,{length:{get:function(){return this.hw;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.hw;},enumerable:!0,configurable:!0}});a.prototype.xgb=function(){return this.yD&&this.yD.get(0);};a.prototype.x7a=function(){return this.jD&&this.jD.get(this.jD.length-1);};a.prototype.get=function(a){0>a&&(a+=this.length);for(var b=0;b<this.Dc.length;++b)if(this.Gg[b+1]>a)return this.Dc[b].get(a-this.Gg[b]);};a.prototype.push=function(a){this.Dc[this.oD(a)].push(a);this.Zs();return this.hw;};a.prototype.shift=function(){var a;if(this.yD){a=this.yD.shift();this.Zs();return a;}};a.prototype.pop=function(){var a;if(this.jD){a=this.jD.pop();this.Zs();return a;}};a.prototype.unshift=function(a){this.Dc[this.oD(a)].unshift(a);this.Zs();return this.hw;};a.prototype.qn=function(a){var b;b=this.oD(a);this.Dc[b].qn(a);this.Zs();};a.prototype.remove=function(a){var b;b=this.Dc.some(function(b){return b.remove(a);});b&&this.Zs();return b;};a.prototype.splice=function(a,c){var l,q,r,G;for(var f,d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];for(var h=[],g,n=a+Math.max(0,c),p=0;p<this.Dc.length;++p){l=this.Dc[p];q=this.Gg[p];r=this.Gg[p+1];if(a<r){G=a-q;q=Math.min(n-q,l.length);void 0===g&&0<G&&q<l.length?Array.prototype.push.apply(h,l.splice.apply(l,b.__spreadArrays([G,q-G],d))):(Array.prototype.push.apply(h,l.splice(G,q-G)),void 0===g&&(g=0<p&&0===G?p-1:p));a=r;if(a>=n)break;}}if(d.length&&void 0!==g){for(n=this.oD(d[0]);0<g&&n<g&&this.Dc[g].empty;)--g;for(;d.length&&n===g;){this.Dc[g].push(d.shift());if(!d.length)break;n=this.oD(d[0]);}for(;d.length&&++g<this.Dc.length&&this.Dc[g].empty;)for(;d.length&&n===g;){this.Dc[g].push(d.shift());if(!d.length)break;n=this.oD(d[0]);}d.length&&(f=this.Dc[g]).splice.apply(f,b.__spreadArrays([0,0],d));}this.Zs();return h;};a.prototype.find=function(a){var b,c;b=this;return this.Dc.some(function(f,d){c=f.find(b.Iz(a,d));return void 0!==c;})?c:void 0;};a.prototype.findIndex=function(a){var c;for(var b=0;b<this.Dc.length;++b){c=this.Dc[b].findIndex(this.Iz(a,b));if(-1!==c)return c+this.Gg[b];}return-1;};a.prototype.indexOf=function(a){var c;for(var b=0;b<this.Dc.length;++b){c=this.Dc[b].indexOf(a);if(-1!==c)return c+this.Gg[b];}return-1;};a.prototype.map=function(a){var b,c;b=this;c=this.Dc.map(function(c,f){return c.map(b.Iz(a,f));});return Array.prototype.concat.apply([],c);};a.prototype.reduce=function(a,b){var c;c=this;return this.Dc.reduce(function(b,f,d){return f.reduce(c.O4a(a,d),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.Dc.forEach(function(c,d){c.forEach(b.Iz(a,d));});};a.prototype.eW=function(a){for(var b=this.Dc.length-1;0<=b;--b)this.Dc[b].eW(this.Iz(a,b));};a.prototype.some=function(a){var b;b=this;return this.Dc.some(function(c,d){return c.some(b.Iz(a,d));});};a.prototype.every=function(a){var b;b=this;return this.Dc.every(function(c,d){return c.every(b.Iz(a,d));});};a.prototype.fgb=function(a,b){var n,p;function c(b){return b.reduce(function(b,c,f,d){return void 0===c?b:void 0===b?f:0>a(c,d[b])?f:b;},void 0);}for(var d=this,h=this.Dc.map(function(){return 0;}),g=this.Dc.filter(function(a){return a.empty;}).length;g<this.Dc.length;){n=h.map(function(a,b){return a<d.Dc[b].length?d.Dc[b].get(a):void 0;});p=c(n);b(n[p],this.Gg[p]+h[p],this);++h[p];h[p]===this.Dc[p].length&&++g;}};a.prototype.move=function(a){return this.remove(a)?(this.qn(a),!0):!1;};a.prototype.mAb=function(){var a;if(this.Dc[1].length){a=this.Dc[1].shift();this.Dc[0].push(a);this.Zs();}};a.prototype.Jfb=function(a){for(var b=-1,c=0;c<this.Dc.length;++c)if(b=a(this.Dc[c]),-1!==b){b+=this.Gg[c];break;}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.Zs=function(){var b;this.hw=0;this.Gg=[0];this.jD=this.yD=void 0;for(var a=0;a<this.Dc.length;++a){b=this.Dc[a];this.hw+=b.length;this.Gg.push(this.Gg[this.Gg.length-1]+b.length);!this.yD&&b.length&&(this.yD=b);b.length&&(this.jD=b);}};a.prototype.Iz=function(a,b){var c,d;c=this;d=this.Gg[b];return function(b,f){return a(b,d+f,c);};};a.prototype.O4a=function(a,b){var c,d;c=this;d=this.Gg[b];return function(b,f,h){return a(b,f,d+h,c);};};return a;}();c.uOa=d;},function(d,c,a){var b,h,g,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);a(7);h=a(802);d=a(44);g=a(801);p=a(172);f=a(87);k=a(228);a=function(a){function c(b,c){var d,h;d=this;h=[new g.d1(b),new g.d1(b),new g.d1(b)];d=a.call(this,h,function(a){return a.complete?d.empty||a.eb<=d.T9a?0:1:a.active?1:2;})||this;d.kc=h[0];d.Rc=h[1];d.st=h[2];d.Yn=0;d.f4=0;d.I=b;f.rs.call(d,c);return d;}b.__extends(c,a);Object.defineProperties(c.prototype,{ba:{get:function(){return this.kc.ba+this.Rc.ba+this.st.ba;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{active:{get:function(){return this.Rc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return this.kc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{kwb:{get:function(){return this.Yn;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Zz:{get:function(){return this.kc.ba;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Xi:{get:function(){return this.kc.ba+this.Rc.ba-this.Yn;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{first:{get:function(){return this.xgb();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Kg:{get:function(){return this.x7a();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{C9:{get:function(){return!this.kc.empty||this.st.empty||this.Rc.empty?this.first:this.Rc.eb<this.st.eb?this.Rc.first:this.st.first;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{tCa:{get:function(){return this.st.empty||this.Rc.empty?this.Kg:this.Rc.rb<this.st.rb?this.st.Kg:this.Rc.Kg;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Zxa:{get:function(){return this.st.first;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{X:{get:function(){return this.first&&this.first.X;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{eb:{get:function(){return this.C9&&this.C9.eb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{rb:{get:function(){return this.tCa&&this.tCa.rb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{pq:{get:function(){return this.first&&this.first.pq;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{S9a:{get:function(){return this.kc.duration;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Tlb:{get:function(){return this.sd-this.mva||0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{T9a:{get:function(){return this.kc.empty?this.eb:this.kc.rb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{mva:{get:function(){return this.kc.empty?this.Wb:this.kc.sd;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{nva:{get:function(){return this.kc.empty?this.pc:this.kc.ge;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{wtb:{get:function(){return this.Rc.Kg||this.kc.Kg;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ls:{get:function(){return this.st.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{co:{get:function(){return this.Rc.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Y9a:{get:function(){return this.kc.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{E_:{get:function(){return this.kc.concat(this.Rc);},enumerable:!0,configurable:!0}});c.prototype.fD=function(a){var b;a.Wq?++this.f4:this.Yn+=a.Ae||0;if(this.empty)this.Fg=new k.RH(this,{});else if(a.eb!==this.rb)if(a.eb>this.Fg.rb)this.Fg.OO(this.Fg.rb);else if(a.eb<this.eb||a.eb===this.Fg.rb){b=a.rb;this.fgb(function(a,b){return a.eb-b.eb;},function(a){b=a.eb===b?a.rb:b;});b===Math.max(this.rb,a.rb)?this.Fg.U7():this.Fg.OO(b);}a.GIa(this);};c.prototype.ht=function(a){a.Wq?--this.f4:this.Yn-=a.Ae;this.empty?this.Fg=void 0:a.eb!==this.rb&&a.rb<=this.Fg.rb&&a.eb>this.Fg.eb&&this.Fg.OO(a.eb);a.Zua();};c.prototype.push=function(b){this.fD(b);return a.prototype.push.call(this,b);};c.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b&&this.ht(b);return b;};c.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b&&this.ht(b);return b;};c.prototype.unshift=function(b){this.fD(b);return a.prototype.unshift.call(this,b);};c.prototype.qn=function(b){this.fD(b);a.prototype.qn.call(this,b);};c.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return!1;this.ht(b);return!0;};c.prototype.splice=function(c,f){for(var d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];h=a.prototype.splice.apply(this,b.__spreadArrays([c,f],d));d.forEach(this.fD.bind(this));h.forEach(this.ht.bind(this));return h;};c.prototype.Fvb=function(a){var b;b=this;this.reduce(function(c,f,d){f.Wq&&(a&&a(f,d,b),0===c.length||c[0].end!==d?c.unshift({start:d,end:d+1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end-a.start);});};c.prototype.lF=function(a){return this.Jfb(function(b){return b.lF(a);});};c.prototype.Rxa=function(a){a=this.lF(a);return-1!==a?this.get(a):void 0;};c.prototype.Nyb=function(a){var c;for(var b=[];a<this.length;){c=this.get(a);c&&b.push(c);a++;}return b;};c.prototype.Pu=function(a){this.move(a);this.uA(a);};c.prototype.RN=function(a){this.Yn+=a.Ae-a.kl;this.oF(a);};c.prototype.Vi=function(a){for(this.Yn+=a.Ae-a.kl;this.Rc.first&&this.Rc.first.complete&&(this.kc.empty?this.Rc.first===this.C9:this.Rc.first.eb===this.kc.rb);)this.mAb();this.Qp(a);};c.prototype.ON=function(a,b,c){this.Yn-=a.Ae;++this.f4;this.iW(a,b,c);};return c;}(h.uOa);c.DMa=a;d.cj(f.rs,a,!1);d.cj(p.cQ,a);},function(d,c,a){var b,h,g,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});b=a(100);h=a(165);g=a(14);p=a(16);a(7);f=a(33);k=a(4);d=function(){var g52;g52=2;function a(){var t52,B8s;t52=2;while(t52!==1){B8s="1SIYb";B8s+="Zr";B8s+="NJ";B8s+="C";B8s+="p9";switch(t52){case 2:B8s;t52=1;break;case 4:"";t52=7;break;t52=1;break;}}}while(g52!==13){switch(g52){case 1:a.prototype.R_a=function(a){var J52,b,c,f;J52=2;while(J52!==7){switch(J52){case 1:b=this.Zc;c=void 0!==b.qy?b.qy:a&&a.qy;f=void 0!==b.py?b.py:a&&a.py;J52=3;break;case 3:a=a&&a.ar;Array.isArray(a)&&Array.isArray(b.ar)?a=a.filter(function(a){var w52,Y52;w52=2;while(w52!==1){switch(w52){case 2:T1zz.u8s(0);Y52=T1zz.h8s(1);return Y52!==b.ar.indexOf(a);break;case 4:return~5!=b.ar.indexOf(a);break;w52=1;break;}}}):Array.isArray(b.ar)?a=b.ar:Array.isArray(a)||(a=[]);J52=8;break;case 2:J52=1;break;case 8:return-1!==a.indexOf(this.profile)?{dya:!!c,BHa:!c,tha:!c||!f}:{dya:!1,BHa:!1,tha:!f};break;}}};a.prototype.lqa=function(a,b,c){var v52,f,d,h,X8s,A8s;v52=2;while(v52!==13){X8s="d";X8s+="ef";X8s+="au";X8s+="l";X8s+="t";A8s="de";A8s+="fa";A8s+="u";A8s+="lt";switch(v52){case 9:d=b.name,f=void 0!==b[c]?b[c]:void 0!==b[A8s]?b[X8s]:f;v52=8;break;case 2:h=this.Zc;a=this.R_a(a);v52=4;break;case 4:v52=void 0!==h.JM&&null!==h.JM?3:14;break;case 3:v52=(f=(void 0!==b?b:h.JM)||0,b=h.uBa&&h.uBa[this.stream.profile])?9:8;break;case 8:a.Zr=a.tha?void 0!==f?f:1:0;a.iga=void 0!==d?d:a.BHa;return a;break;case 14:a.tha=!1;v52=8;break;}}};a.prototype.S_a=function(a){var M52,g8s;M52=2;while(M52!==1){g8s="onEnt";g8s+="r";g8s+="y";switch(M52){case 4:return this.lqa(a,this.Zc.vBa,"");break;M52=1;break;case 2:return this.lqa(a,this.Zc.vBa,g8s);break;}}};a.prototype.T_a=function(a){var n52,i8s;n52=2;while(n52!==1){i8s="o";i8s+="n";i8s+="E";i8s+="xi";i8s+="t";switch(n52){case 4:return this.lqa(a,this.Zc.wBa,"");break;n52=1;break;case 2:return this.lqa(a,this.Zc.wBa,i8s);break;}}};a.prototype.v_a=function(a,b,c){var e52,k,g,m,n,p,t,l,u,q;function d(a){var L52,b,c;L52=2;while(L52!==9){switch(L52){case 2:a=Math.floor(Math.min(t,a)/n.Gb);b=n.Gb*a;T1zz.W8s(1);c=T1zz.h8s(u,b);return{Xo:a,so:b,zRb:c,tEa:0<a&&c<p/1E3};break;}}}e52=2;while(e52!==18){switch(e52){case 13:c=g.igb||c;b&&!c&&(k=d(u),q=k.Xo,k=k.tEa);e52=11;break;case 8:p=n.X;t=this.so;l=b?b.ZN:this.FZ-2*n.Gb;u=l-this.mya;e52=13;break;case 2:g=this.Zc;m=!0;e52=4;break;case 4:k=!1;a=h.Cza(g,a);n=this.Ta;e52=8;break;case 11:k||(q=l-f.sa.bea(a,p),q=new f.sa(q-this.mya,p),b=d(g.yg?Infinity:Math.max(0,q.Gb)),q=b.Xo,(b=b.tEa)&&0<q&&!g.yg&&--q);this.Jj({start:0,end:q});q<(g.Lqb||1)&&(m=!1);e52=19;break;case 19:return{oAb:m,$ob:k};break;}}};a.prototype.nE=function(a,b,c,f,d,h){var i52,k,m;i52=2;while(i52!==6){switch(i52){case 2:m=this.Zc;i52=5;break;case 5:i52=this.Ji?4:3;break;case 4:return{aa:!1};break;case 3:this.nya?a=a.appendBuffer(p.hr(this.Zwa),p.dm(this)):this.Sa&&!this.xu?(k=this.z0a(a,b,c,d,h),a=k.aa,k=k.vn):this.Sa&&this.xu?(k=this.A0a(a,b,f,d,h),a=k.aa,k=k.vn):a=this.M===g.Na.AUDIO&&m.Wr&&c&&this.mv&&c.ge>=this.ge&&this.sd-this.mv<this.mv-this.Wb?!0:a.appendBuffer(this.response,p.dm(this));this.Ji=!0;this.rO();return{aa:a,vn:k};break;}}};g52=7;break;case 2:a.prototype.qqa=function(a){var j52;j52=2;while(j52!==1){switch(j52){case 2:return a&&a.u===this.u&&a.I$===this.I$?!0:!1;break;}}};g52=1;break;case 7:a.prototype.z0a=function(a,c,f,d,h){var Q52,m,n,t,l,a8s,o8s,l8s,H8s;Q52=2;while(Q52!==6){a8s=" f";a8s+="rom";a8s+=" [ ";o8s="AseFragmentMediaRequest: F";o8s+="ragment edit failed f";o8s+="or ";l8s="medi";l8s+="a|";l8s+="asej";l8s+="s";H8s="M";H8s+="P";H8s+="4";switch(Q52){case 2:n={Zr:0};m=!1;l=!0;this.M===g.Na.AUDIO&&f&&(d?h&&this.z9():this.qqa(f)?f.Sa&&this.Sa&&this.Sa.start!==f.Sa.end&&this.Jj({start:f.Sa.end}):(n=this.S_a(c),f.ge===this.pc&&(n.Zr=0)));0>=this.duration&&(l=!1,m=!0);l&&(this.Sa&&(0<this.Sa.start||n.Zr)?(m=new b.Kv(new k.Console(H8s,l8s),this.stream,this.response),(c=m.fHa(this.Sa.start,this.oG,n.Zr,n.iga))?(m=a.appendBuffer(p.hr(c.tg),p.dm(this)),t=this.kT(n),this.aT(c.tg)):(this.I.error(o8s+this.toString()+a8s+this.jx+"-"+this.kW+"]"),m=!0)):m=a.appendBuffer(this.response,p.dm(this)));Q52=7;break;case 7:return{aa:m,vn:t};break;}}};a.prototype.A0a=function(a,c,f,d,h){var a52,k,m,n,t,y8s,G8s;a52=2;while(a52!==6){y8s=" ";y8s+="f";y8s+="rom ";y8s+="[";y8s+=" ";G8s="AseFragmentMe";G8s+="diaR";G8s+="equest: Fragment edit fa";G8s+="il";G8s+="ed for ";switch(a52){case 2:k=this.Zc;n={Zr:0};a52=4;break;case 7:return{aa:a,vn:t};break;case 4:m=!0;this.M===g.Na.AUDIO&&(d?h&&(this.Pdb(),m=0<this.Sa.end):this.qqa(f)?f.Sa&&0!==f.Sa.start?this.Jj({start:0,end:f.Sa.start}):m=!1:(n=this.T_a(c),k.Wr||(c=this.v_a(c,f,n.dya),(m=c.oAb)&&c.$ob&&!n.iga&&(n.Zr=0))));m&&0===this.duration&&(m=!1);m?this.Sa&&this.Sa.end<this.$L||n.Zr?(m=new b.Kv(this.I,this.stream,this.response),(m=m.kHa(this.Sa&&this.Sa.end,this.X,n.Zr,n.iga))?(a=a.appendBuffer(p.hr(m.tg),p.dm(this)),t=this.kT(n),this.aT(m.tg)):(this.I.error(G8s+this.toString()+y8s+this.jx+"-"+this.kW+"]"),a=!0)):a=a.appendBuffer(this.response,p.dm(this)):a=!0;a52=7;break;}}};g52=14;break;case 14:return a;break;}}}();c.tGb=d;c["default"]=new d();},function(d,c,a){var b,h,g,p,f,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(14);g=a(100);d=a(4);p=a(16);a(7);f=a(216);k=a(76);m=a(227);t=d.Vj;a=function(a){function c(b,c,f,d,g,n,p){var l,u;d=a.call(this,b,f,d,n,p)||this;g=k.yi.prototype.toString.call(d)+(g?"(cache)":"");l={offset:f.offset,ba:f.$da,responseType:0};d.push(new m.bQ(b,c,g+"(moof)",l,d,n,p));l={offset:f.offset+l.ba+8,ba:f.ba-(l.ba+8),responseType:t.wc&&!t.wc.VG.cz?0:1};if(d.M===h.Na.VIDEO&&d.Sa){if(0<d.Sa.start){if(u=d.Uxa(d.Sa.start))l.offset=f.offset+u,l.ba=f.ba-u;}else d.Sa.end<d.$L&&(u=d.Uxa(d.Sa.end))&&(l.ba-=f.ba-u);}d.push(new m.bQ(b,c,g+"(mdat)",l,d,n,p));return d;}b.__extends(c,a);c.prototype.nE=function(a){var b,c;if(this.Ji)return{aa:!0};if(!this.IA())return{aa:!1};c=!1;if(this.nya)c=a.appendBuffer(p.hr(this.Zwa),p.dm(this));else if(this.Sa&&0<this.Sa.start){b=new g.Kv(this.I,this.stream,this.va[0].response);if(b=b.fHa(this.Sa.start,this.X))c=a.appendBuffer(p.hr(b.tg),p.dm(this)),this.aT(b.tg);b=this.kT();}else if(this.Sa&&this.Sa.end<this.$L){b=new g.Kv(this.I,this.stream,this.va[0].response);if(b=b.kHa(this.Sa.end,this.X))c=a.appendBuffer(p.hr(b.tg),p.dm(this)),this.aT(b.tg);b=this.kT();}else c=a.appendBuffer(this.va[0].response,p.dm(this));c&&(c=a.appendBuffer(g.hN(this.va[1].ba),p.dm(this)))&&(c=a.appendBuffer(this.va[1].response,p.dm(this)));this.Ji=c;this.Swb();return{aa:c,vn:b};};return c;}(f.oC);c.BMa=a;},function(d,c,a){var b,h,g,p,f,k,m,t,l,q,r;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(217);g=a(803);p=a(800);f=a(799);d=a(87);k=a(798);m=a(7);t=a(6);l=a(4);q=a(220);r=l.Promise;a=function(a){function c(b,c,f,d,h,k){b=a.call(this,b)||this;b.J=c;b.I=f;b.dt=d;b.Cc=h;b.Ie=k;b.dLa=!0;b.Bh=new q.i1(b.I);b.Md=b.I.error.bind(b.I);b.$a=b.I.warn.bind(b.I);b.pj=b.I.trace.bind(b.I);b.msa();return b;}b.__extends(c,a);Object.defineProperties(c.prototype,{console:{get:function(){return this.I;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{M:{get:function(){return this.Ie;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{bd:{get:function(){return this.Cc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{TB:{get:function(){return 0<this.ey;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Hha:{get:function(){return!this.yJ;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ey:{get:function(){return this.va.length;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ls:{get:function(){return this.va.ls;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Pvb:{get:function(){return this.Bh.count;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ut:{get:function(){return this.va.nva;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{j8:{get:function(){return this.va.mva;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{nl:{get:function(){return void 0===this.va.pc?0:this.va.ge-this.va.pc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{no:{get:function(){return{ba:this.va.Zz,Ka:Math.max(this.va.nva-this.va.pc,0)||0};},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{FE:{get:function(){return this.va.S9a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Zz:{get:function(){return this.va.Zz;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{M6:{get:function(){return this.va.ba;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ru:{get:function(){return this.X0a();},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{vZ:{get:function(){return this.va.Tlb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{kX:{get:function(){return this.va.length>this.va.ls;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{co:{get:function(){return this.va.co;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Lnb:{get:function(){return this.va.wtb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{EFa:{get:function(){return this.va.length-this.Qm;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Y:{get:function(){return this.va;},enumerable:!0,configurable:!0}});c.prototype.Ig=function(){this.va.forEach(function(a){a.abort();a.xc();});this.msa();this.Bh.KV();};c.prototype.reset=function(){this.Ig();this.Bh.m_();};c.prototype.close=function(){this.Bh.KV();};c.prototype.x9a=function(){this.b4&&(this.b4=!1,this.Bh.m_());};c.prototype.Azb=function(){this.b4=!0;};c.prototype.Iaa=function(){return{hasSentinel:void 0!==this.Bh.count,queueCount:this.Bh.count,isComplete:this.Bh.rn,itemCount:this.Bh.X9a,continuousEndPts:this.Bh.gs().reduce(function(a,b){return b&&!b.done&&(b=b.value,100>Math.abs(b.I$-a)||-1===a)?b.ngb:a;},-1),sentinelItemCount:this.Bh.gs().filter(function(a){return a&&a.done;}).length,processedCount:this.Bh.Ocb,rc:this.ey};};c.prototype.Qbb=function(a,b,c,d){var g,n;g=this.J;t.U(d)||(b.location=d.location,b.Jb=d.qc,b.Yga=d.ap);n=a.O.TO;n&&(b.P_=n.bn({OK:a.lk(this.Ie),aZ:g.teb?g.aZ:void 0,eKa:String(l.time.ea()),RU:g.ieb?a.O.cq[this.Ie]:void 0}));m.assert(!b.yo);g.seb?a=new f.IMa(d,g,c.track,b,this.va,this.I):d.O.HV(this.Ie)?(a=new p.EMa(d,g,c.track,b,this.va,!1,this.I),g.kxa&&(b=new k.OMa(d,g,c.track,b,this.va,!1,this.I),b.Xb(this),b.Or())):a=h.e1.create(d,g,c.track,b,this.va,!1,this.I);a.Xb(this);this.lE(a);return a;};c.prototype.X5a=function(a){var b;a.Xb(this);a.J6=!0;this.lE(a);b=r.resolve();a.complete?(this.v4(a),this.dt.GEa(a.stream,a.pc,a.Wb),b=this.xP(),this.Qp(a)):(a.active&&this.uA(a),a.WGa&&this.tA(a));return b;};c.prototype.lE=function(a){this.va.qn(a);this.v4(a);a.xu&&(this.yJ=!1);};c.prototype.pM=function(){return this.Bh.Ugb();};c.prototype.Rua=function(){var a,b;this.Qm===this.va.length&&(this.b4||(null===(b=null===(a=this.Lnb)||void 0===a?void 0:a.$G)||void 0===b?0:b.oca))&&this.Bh.KV();};c.prototype.xP=function(){var a,b,c,f;a=this;c=r.resolve();f=this.Cc;if(!f.yBa(this.Ie)||this.Qm===this.va.length)return c;for(var d=this.J.Ppb,h=0,k=[];this.Qm<this.va.length;){if(b=this.va.get(this.Qm)){if(this.va.Zxa&&this.va.Zxa.eb<b.eb)break;if(!b.IA())break;k.push(b);++h;t.ma(this.pc)||(this.pc=b.pc);}++this.Qm;if(!t.U(d)&&h>=d)break;}k.length&&(void 0!==this.Bh.count&&(this.Md("Request Manager count"),this.Bh.m_()),this.dLa?c=r.all(k.map(function(b){return a.Bh.enqueue(b).then(function(){return a.bX(b);});})):(f.ojb(this.M).mdb(k),k.forEach(function(b){return a.bX(b);})),this.Rua());return c;};c.prototype.bX=function(a){this.hya(a);};c.prototype.iwb=function(a){var f;for(var b,c=0;c<this.va.length;++c){f=this.va.get(c);f&&a<f.ge&&(t.U(b)&&(b=c),f.Ji=!1);}t.U(b)||(this.Qm=b,this.Bh.m_());return this.xP();};c.prototype.g_=function(){this.k3a();};c.prototype.fO=function(a,b){var c,f,d,h,k;c=this;f=this.J;d=!1;h=0;k=this.va.some(function(k){if(a<k.ge)return d&&c.v4(k),!0;++h;k.Ji||(c.$a("pruning unappended request:",k&&k.toString()),f.Yf&&c.dt.Ui("prune pts:"+a+" unappended request:"+(k&&k.toString())),k.y$&&(c.yJ=!1,d=!0),c.i_a(k,b)||c.Md("MediaRequest.abort error:",k.eh));});0<h&&(this.va.splice(0,h),this.Qm-=Math.min(h,this.Qm));return k;};c.prototype.PW=function(a){var b,c,f;void 0===a&&(a={bL:null,GG:null,pc:null,Xi:0,Qh:0,Y:[]});b=this.J;c=this.va;t.ma(c.pc)&&(null===a.pc||c.pc<a.pc)&&(a.pc=c.pc);f=this.Ut;void 0!==f&&null===a.bL&&(a.bL=f);f=c.ge;void 0!==f&&(null===a.GG||f>a.GG)&&(a.GG=f);a.Xi+=c.Xi;a.Qh=b.vha?a.Qh+c.kwb:a.Qh+c.Zz;Array.prototype.unshift.apply(a.Y,c.E_.Y);return a;};c.prototype.or=function(a){if(this.va.length&&(a=this.va.Rxa(a)))return a;};c.prototype.gp=function(){var a,b;a=this;b=[];this.va.forEach(function(c){var f;f=c.F0();1===f?b.push(c):2===f&&a.bd.O.Rg("swapUrl failure");});return b;};c.prototype.$i=function(a){return this.J.pO?(this.Bh.clear(),this.iwb(a)):r.resolve();};c.prototype.QN=function(a){a.KA&&a.IA()&&this.xP();this.tA(a);};c.prototype.Vi=function(a){a.KA&&!a.Ji&&this.xP();this.Qp(a);};c.prototype.P6=function(a){var b,c,f;b=1===this.Ie?"v_":"a_";c=this.va;f=c.lF(a);a=0<=f?c.get(f):void 0;return(c=0<=f&&f+1<c.length?c.get(f+1):void 0)&&a?a.ge!==c.pc?b+"rg":a.complete&&c.complete?b+"uk":b+"fd":b+"rm";};c.prototype.X0a=function(){return this.va.co+this.va.ls;};c.prototype.msa=function(){this.va=new g.DMa(this.I,this);this.Qm=0;this.Bh.clear();this.pc=null;this.yJ=!1;};c.prototype.v4=function(a){this.yJ?a.y$=!1:this.yJ=a.y$=!0;};c.prototype.i_a=function(a,b){if(!a.abort())return!1;"function"===typeof b&&b(a);return!0;};c.prototype.k3a=function(){var a,b;a=this;b=0;this.va.Fvb(function(c,f){f<a.Qm&&++b;});this.Qm-=b;};return c;}(d.rs);c.TXa=a;},function(d,c,a){var b,h,g,p,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(14);h=a(16);g=a(33);p=a(114);f=a(4);d=function(){function a(a,b,c,f,d){this.Uu=a;this.du=b;this.J=c;this.I=f;this.Ie=d;}a.prototype.Orb=function(a){a={type:"requestCreated",request:a};h.Ha(this.du,a.type,a);};a.prototype.Nrb=function(a){var b;b=a.Ja.bd.ja;a={type:"updateStreamingPts",mediaType:a.M,position:{Ma:b.id,offset:g.sa.ji(this.Uu.j8-b.S)},trackIndex:a.stream.track.jE};h.Ha(this.du,a.type,a);};a.prototype.GEa=function(a,b,c){var d,k;d=this.Ie;k=this.Uu.vq;k.d0(a);1===d&&this.J.u_&&(void 0===k.VM?k.VM=f.time.ea():f.time.ea()-k.VM>this.J.u_&&(a.R!==k.Ica&&(f.storage.set("vb",a.R),k.Ica=a.R),k.VM=f.time.ea()));k.SA&&k.SA===a||(this.Uu.rH.d0(b,k.SA,a),k.SA=a,b=0,a.kb&&a.kb.Ed&&a.kb.Fa&&(b=a.kb.Fa.Ca),k={Ma:this.Uu.bd.ja.id,offset:g.sa.ji(c-this.Uu.bd.ja.S)},a={type:"streamSelected",nativetime:f.time.ea(),mediaType:d,streamId:a.id,manifestIndex:a.O.Wa,trackIndex:a.track.jE,streamIndex:a.Tg,movieTime:c,bandwidth:b,longtermBw:b,rebuffer:0,position:k},h.Ha(this.du,a.type,a));};a.prototype.Jrb=function(a,c,f){var d,k,g,m,n;d=c.O;k=d.bm;g=this.Uu.vq;m=d.inb(c);n=m.sca;m=m.jnb;f&&c.qc&&!g.UM?(m=b.Cg.Ks,c.ap=b.Cg.name[m],this.FEa(d.Wa,a,c.qc,c.ap,c.location,c.R),g.UM=c.qc):!f&&c.qc&&c.qc!==g.UM&&(m=m?void 0===g.UM?b.Cg.Ks:k.cH===b.Cg.k3?b.Cg.dYa:b.Cg.k1:b.Cg.cYa,c.ap=b.Cg.name[m],this.FEa(d.Wa,a,c.qc,c.ap,c.location,c.R),g.UM=c.qc);g.RF||(m={type:"logdata",target:"startplay",fields:{}},this.Ie===b.Na.AUDIO?m.fields.alocid=c.location:this.Ie===b.Na.VIDEO&&(m.fields.locid=c.location),h.Ha(this.du,m.type,m));f&&c.location&&!g.RF?(m=b.Cg.Ks,c.ap=b.Cg.name[m],this.DEa(d.Wa,a,c.location,c.Vca,c.qc,c.IB,c.ap,c.Pr),g.RF=c.location):!f&&c.location&&c.location!==g.RF&&(m=n?void 0===g.RF?b.Cg.Ks:k.cH===b.Cg.k3?b.Cg.ZSa:b.Cg.k1:b.Cg.YSa,c.ap=b.Cg.name[m],this.DEa(d.Wa,a,c.location,c.Vca,c.qc,c.IB,c.ap,c.Pr),c.Pr=void 0,g.RF=c.location);this.J.mq||(c.pCa=c.location,c.rCa=c.qc);};a.prototype.FEa=function(a,c,f,d,k,g){var m,n;m=this.Ie===b.Na.VIDEO?"video":"audio";n=p.Mf().get();a={type:"serverSwitch",manifestIndex:a,segmentId:c,mediatype:m,server:f,reason:d,location:k,bitrate:g,confidence:n.Ed};n.Ed&&(a.throughput=n.Fa.Ca);this.Uu.vq.UM&&(a.oldserver=f);h.Ha(this.du,a.type,a);};a.prototype.DEa=function(a,c,f,d,k,g,n,p){h.Ha(this.du,"locationSelected",{type:"locationSelected",manifestIndex:a,segmentId:c,mediatype:this.Ie===b.Na.VIDEO?"video":"audio",location:f,locationlv:d,serverid:k,servername:g,selreason:n,seldetail:p});};a.prototype.t5=function(a,b){b={type:"lastSegmentPts",segmentId:a.id,pts:Math.floor(b)};a.Zx||h.Ha(this.du,b.type,b);};a.prototype.Ui=function(a){a={type:"managerdebugevent",message:"@"+f.time.ea()+", "+a};h.Ha(this.du,a.type,a);};return a;}();c.NWa=d;},function(d,c,a){var b,h,g,p,f,k,m,t,l,q,r,D,z,G,M,N;Object.defineProperty(c,"__esModule",{value:!0});b=a(27);h=a(218);g=a(21);p=a(16);f=a(387);k=a(780);m=a(4);t=a(7);l=a(164);q=a(778);r=a(777);D=a(774);z=a(773);G=a(771);M=a(769);N=a(768);d=function(){function a(a,c,f,d,n,t){var l;l=this;this.I=a;this.mh=c;this.weight=f;this.config=d;this.lu=n;this.XK=t;this.Zn=h.zy.CLOSED;this.Q4=!0;this.navigator=new z.mXa(c);this.Bkb=G.j$a(this.navigator,d.xub);this.mf=new M.fXa();this.Vx=[];this.Ckb=new r.kRa(this.config,p.sa.ji(this.config.BY),{parent:function(){}});this.events=new b.EventEmitter();this.Nha=new k.UYa(a,this.events);this.$k=new N.xNa();this.wO=[];this.console=new m.Console("ASEJS_PLAYGRAPH","asejs");this.events.on("segmentNormalized",function(a){l.Ew.value===g.ff.ye&&l.$k.vzb({Ma:a.segmentId,offset:a.normalizedStart});});}Object.defineProperties(a.prototype,{state:{get:function(){return this.Zn;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ew:{get:function(){return this.$k.state;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Yx:{get:function(){return this.$k.Yx;},enumerable:!0,configurable:!0}});a.prototype.open=function(){this.Q4=!0;if(this.Zn!==h.zy.CLOSED)return!1;this.Zn=h.zy.OPEN;return!0;};a.prototype.close=function(){this.Zn!==h.zy.CLOSED&&(this.Ig(),this.Zn=h.zy.CLOSED);};a.prototype.Yzb=function(a,b){this.e7=a;this.Qia=b;};a.prototype.Vzb=function(a){this.b7a=void 0;this.Q0=a;};a.prototype.eIa=function(a){var b;if(q.knb(this.mh,a))if(a=this.xEa(a),void 0===a)this.Rg("Invalid seekPosition");else if(void 0===this.e7||void 0===this.Qia)this.Rg("No track selectors available");else{b=this.navigator.Hh(a.Ma);b=this.lu(b.pa);if(void 0===b)this.Rg("Missing viewable corresponding to seek graph position");else return this.$k.Awa(),this.Ig(),this.w9a(),b.JN(),this.$k.Fsb(),this.qwb(a),this.$Z(a),this.W&&(this.W.resume(),this.$k.Qta(this.W.events)),this.XK(),a;}else this.Rg("Invalid seekPosition");};a.prototype.Ig=function(){var a;this.mf.reset();this.wO.forEach(function(a){return l.np.Mf.pV(a);});this.wO=[];null===(a=this.W)||void 0===a?void 0:a.reset();};a.prototype.vk=function(a){var b;b=this.navigator.Hh(a.Ma);b=this.lu(b.pa);t.assert(void 0!==b,"Missing viewable corresponding to rebuffer graph position");b.vk();b.JN();this.$k.vk(a);this.XK();};a.prototype.T6a=function(a){if(void 0!==this.W){if(this.W===a)return;this.W.zwa(this);this.W=void 0;}a.V6a(this)?(this.W=a,this.y5a()):this.Rg("player in use");};a.prototype.sAa=function(a){var b;b=this.navigator.Hh(a.Ma);a=b.SB.add(a.offset);return{pa:b.pa,zva:a};};a.prototype.xEa=function(a){var b;b=this.mh.Va[a.Ma];if(void 0!==b)return null===b.sg||void 0===b.sg?{Ma:a.Ma,offset:p.sa.max(p.sa.xe,a.offset)}:{Ma:a.Ma,offset:p.sa.max(p.sa.xe,p.sa.min(a.offset,p.sa.ji(b.sg-b.Af)))};};a.prototype.Taa=function(){var a,b;a=this;if(this.Eo())return[];b=this.Wt;return this.mf.reduce(function(c,f){var d;d=0;for(f=f.Oib();d<f.length;d++)c.push(a.Sbb(f[d],b));return c;},[]);};a.prototype.Rg=function(a,b,c,f,d,h){this.Nha.Rg(a,b,c,f,d,h);};a.prototype.Eo=function(){return this.Nha.Eo();};a.prototype.qm=function(){this.Nha.qm();};a.prototype.y5a=function(){var a;t.assert(this.W);(a=this.W).pxa.apply(a,this.Vx);this.Vx=[];};a.prototype.e5a=function(a){void 0!==this.W?(t.assert(0===this.Vx.length),this.W.pxa(a)):this.Vx.push(a);};a.prototype.w9a=function(){void 0!==this.W?(t.assert(0===this.Vx.length),this.W.T7()):this.Vx=[];};a.prototype.Sbb=function(a,b){var c;c=this;return{g0:a.g0,Wt:b,pnb:function(){var f,d,h,k;f=a.M;d=c.Ckb.Pyb(c.Ew.value,b,a,0===f?c.b7a:c.Q0);h=d.stream;k=d.XO;d=d.Syb;if(!h)return!1;c.$k.ug&&1===f&&c.$k.Gzb(a.rH.dH,h.R,d);0<k.length&&!c.$k.ug&&a.g0.Ac(b).Ka>c.config.vN&&k[0].dC();(f=a.oDb(h,c.wO[f]))&&c.Q4&&(c.Zj("firstDriveStreaming"),c.Q4=!1);return f;}};};Object.defineProperties(a.prototype,{Wt:{get:function(){var a,b;if(this.W)return this.W.Wt;b=this.Vx[0];return b?new p.sa((a=b.jq,null!==a&&void 0!==a?a:b.gU)):p.sa.xe;},enumerable:!0,configurable:!0}});a.prototype.$Z=function(a){var b,c,f;b=this;c=this.navigator.Hh(a.Ma);f=this.uhb();c=D.$Z(this.navigator,this.Bkb,c,f,p.sa.ji(this.config.Y7a));this.mf.DDb(c,function(c){var f;f=b.navigator.Hh(c);c=c===a.Ma?f.SB.add(a.offset):f.SB;f=b.gbb(f,c);b.e5a(f);return f;});};a.prototype.uhb=function(){return this.mf.filter(function(a){return a.sK;}).map(function(a){return a.ja.id;});};a.prototype.Hgb=function(){return this.mf.filter(function(a){return!a.sK;}).length;};a.prototype.$S=function(a){var b;this.$k.tzb(a.reason,a.videoBufferLevel,a.audioBufferLevel);null===(b=this.W)||void 0===b?void 0:b.$F();};a.prototype.v5=function(a){this.$k.uzb(a.percentage);};a.prototype.F2a=function(){var a,b;b=null===(a=this.W)||void 0===a?void 0:a.position;void 0===b&&(a=this.Vx[0],b={Ma:a.ja.id,offset:a.xBb});this.$Z(b);0===this.Hgb()&&this.z2a();};a.prototype.gbb=function(a,b){var c,d,h,k,g,m,n;c=this;g=this.navigator.Lhb(a);t.assert(2>g.length,"Playgraph loops are not yet supported");m=(g=0<g.length?this.mf.ghb(g[0].id):void 0)&&g[0];g=0;m&&(g=m.ia+m.Nc-a.SB.Ka);n=this.lu(a.pa);t.assert(void 0!==n);b=new f.r1(this.config,this.console,n,this.events,a,this.Ryb(n),a.SB,b,g,function(){var a;return null===(a=c.W)||void 0===a?void 0:a.Wt.Ka;},m,[],this.Ew);null===(d=b.events)||void 0===d?void 0:d.on("branchBufferingComplete",this.$S.bind(this));null===(h=b.events)||void 0===h?void 0:h.on("branchBufferingProgress",this.v5.bind(this));null===(k=b.events)||void 0===k?void 0:k.on("branchStreamingComplete",this.F2a.bind(this,b));this.ZS(a.id,n,g);return b;};a.prototype.qwb=function(a){var c,f,d,h,k;c=this;a=this.navigator.Hh(a.Ma);f=this.lu(a.pa);t.assert(f);d=f.u;t.assert(0===this.wO.length);h=0;k=new b.pp();this.Zj("createDlTracksStart");this.wO=g.Df.map(function(a){a=c.Qw(a,d,f);++h;k.on(a,"created",function(){--h;0===h&&(c.Zj("createDlTracksEnd"),k.clear());});return a;});};a.prototype.Qw=function(a,b,c){var f,d;f=this;d=l.np.Mf.Qw(a,b,!0,!1,{},this.config);d.el.on(d,"networkfailing",function(){var a;d.RV&&(null===(a=c.Fh)||void 0===a?void 0:a.So(d.i$,void 0,d.eh,d.Ti));c.gp();});d.el.on(d,"error",function(){f.Rg("DownloadTrack fatal error",void 0,"NFErr_MC_StreamingFailure",d.eh,0,d.Ti);});return d;};a.prototype.Ryb=function(a){var b,c;t.assert(this.e7,"Expected audio track selector to be defined");t.assert(this.Qia,"Expected video track selector to be defined");b=this.e7.Oga(a.wa,a.wa.audio_tracks);b=a.getTracks(0)[b];c=this.Qia.Oga(a.wa,a.wa.video_tracks);a=a.getTracks(1)[c];return[b,a];};a.prototype.ZS=function(a,b,c){a={type:"segmentStarting",segmentId:a,contentOffset:c,maxBitrates:{audio:b.cq[0],video:b.cq[1]}};this.events.emit(a.type,a);};a.prototype.z2a=function(){var a;a={type:"streamerEnd",time:m.time.ea()};this.events.emit(a.type,a);};a.prototype.Zj=function(a){a={type:"startEvent",event:a,time:m.time.ea()};this.events.emit(a.type,a);};return a;}();c.KMa=d;},function(d,c,a){var b,h,g,p,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(219);h=a(165);g=a(14);p=a(33);d=function(){function a(a,b){this.J=a;this.I=b;this.q5=this.k5=this.Ns=p.sa.xe;this.WS=this.VS=void 0;this.pj=this.I.trace.bind(this.I);this.JEa=new f(a,b);}a.prototype.zga=function(a,b,c,f,d,h,k,n,l,q){var m,t,u,y,r,E,z,G;m=!1;a=a===g.Na.AUDIO&&!!b.Sa&&this.L3a(b.stream);t=p.sa.xe;u=b.console;if(a){y=b.stream.Ta;r=this.U0a(b.profile,y);E=this.V0a(b.profile,y);z=b.mv+b.om;if(b.xu)m=new p.sa(b.ia-z,1E3),(m=this.Ns.add(m).tM(r))||!k||this.x_a(b,k)||(l=k.mv+k.om,b=new p.sa(z-(b.ia-y.Ka),1E3),l=new p.sa(l-k.S,1E3),this.Ns.Ac(b).add(l).K7a(E,r)&&(m=!0));else if(void 0!==c){G=b.jq;new p.sa(z-b.S,1E3);k=this.Ns.add(c.Ac(G));if(G.add(y).kY(c)||k.tM(r))m=!0,G.add(y),k=k.Ac(y);r=E.Ac(p.sa.wG);k.rG(this.Ns)&&k.lessThan(r)?(m=a=!1,this.JEa.reset(),this.Ns=p.sa.xe,r=f.add(d),l(r),u.error("Unexpected seamless audio sync "+k.toString()+" at content pts "+b.Wb+" in stream "+b.stream.qa+" following "+h.sd)):(r=f.add(k).add(d),r=this.JEa.round(b,n,r,m),l(r),k.rG(this.Ns)&&(this.k5=p.sa.max(this.k5,k),this.q5=p.sa.min(this.q5,k),q(this.k5,this.q5),t=k.Ac(this.Ns),this.Ns=k));}}return{zga:a,Odb:m,e7a:t};};a.prototype.L3a=function(a){void 0===this.eK&&(this.eK=h.rta(this.J,a));return this.eK;};a.prototype.U0a=function(a,b){void 0===this.VS&&("object"===typeof this.J.Aga&&this.J.Aga[a]?(a=new p.sa(this.J.Aga[a],1E3).hg(b.X).add(new p.sa(1,b.X)),this.VS=p.sa.min(b,a)):this.VS=b);return this.VS;};a.prototype.V0a=function(a,b){var c;if(void 0===this.WS)if("object"===typeof this.J.Bga&&this.J.Bga[a]){c=new p.sa(-Math.floor(b.Ka/2),b.X);a=new p.sa(this.J.Bga[a],1E3).hg(b.X).Ac(new p.sa(1,b.X));this.WS=p.sa.max(c,a);}else this.WS=new p.sa(-12,1E3);return this.WS;};a.prototype.x_a=function(a,b){return a.Wb<=b.Wb&&a.sd>=b.Wb&&a.stream.track.equals(b.stream.track);};return a;}();c.yYa=d;f=function(){function a(a,b){this.J=a;this.I=b;this.HT=0;}a.prototype.round=function(a,b,c,f){this.J.Wr||(a=this.N_a(a,c,f),b=b.Ac(a),b.tM(p.sa.wG.TY(2))?(c=c.Ac(p.sa.wG),++this.HT):this.HT&&b.lessThan(p.sa.wG)&&(c=c.add(p.sa.wG),--this.HT));return c;};a.prototype.reset=function(){this.HT=0;};a.prototype.N_a=function(a,c,f){var d;d=a.Ow;this.J.fo&&a.stream.si&&(d=d.Ac(a.stream.si));f&&(d=d.add(a.stream.Ta));return b.aEa(d).add(b.aEa(c));};return a;}();},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(166);h=a(84);d=function(){function a(a,b,c){this.I=a;this.G_a=b;this.Ie=c;this.tS=0;this.PS=!1;h.yb&&a.trace("creating new iterator for "+this.Ie);}Object.defineProperties(a.prototype,{fcb:{get:function(){return this.tS;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{YU:{get:function(){return this.vqa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{$mb:{get:function(){return this.PS;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{hcb:{get:function(){return this.mj?this.mj.rn?"Complete":this.mj.vfa?"WaitingForBranch":"WaitingForRequest":"Uninitialized";},enumerable:!0,configurable:!0}});a.prototype.next=function(){var a,c;a=this;c=this.mj;return c?c.next().then(function(b){if(a.mj!==c)return{done:!0};b.done||a.tS++;return b;}):b.rC.Xaa();};a.prototype.Txb=function(){this.sJa();this.pwb();};a.prototype.sJa=function(){var a;if(this.mj){a=this.mj;a&&a.rg();a&&h.yb&&this.I.trace("Disposing iterator that was on branch",this.YU&&this.YU.ja);this.PS=!1;this.mj=void 0;}};a.prototype.pwb=function(){var a,c,d,g;a=this;if(!this.PS){c=this.I;d=this.G_a;g=this.Ie;this.tS=0;this.vqa=void 0;this.mj=b.gx(b.map(d.Yza(),function(b){var f;a.vqa=b;a.tS=0;h.yb&&c.trace("Received branch",b.ja);f=b.pM(g);if(f)return{value:f};h.yb&&c.error("Skipping Branch",b.ja);return{value:[]};},c),c);this.PS=!0;}};return a;}();c.uNa=d;},function(d,c,a){var b,h,g,p,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(389);h=a(4);g=a(220);p=a(219);f=a(388);d=function(){function a(a,b,c,d,h,k){var n;n=this;this.$d=a;this.W=b;this.I=c;this.J=d;this.mg=h;this.rN=k;this.ij=new g.i1(this.I);this.Kbb();this.cT=new f.x3(this.Ms,function(){return n.ZEa();},function(){return n.W.position.offset.Ka;});}a.prototype.$F=function(){this.cT.$F();};a.prototype.Neb=function(a){this.ij.enqueue(a);a.ja.nv&&this.ij.KV();};a.prototype.ZEa=function(){this.$d.$k.rj();};a.prototype.reset=function(){this.Ms.forEach(function(a){a.reset();});this.cT.reset();};a.prototype.T7=function(){this.ij.clear();};a.prototype.resume=function(){this.Ms.forEach(function(a){a.resume();});};a.prototype.vk=function(){this.I.trace("onUnderflow");this.cT.reset();};a.prototype.Yza=function(){return this.ij.kza();};a.prototype.uib=function(){return this.ij.oia()[0];};a.prototype.fhb=function(a){return this.ij.oia().filter(function(b){return(b.jq||b.gU).kY(a);}).pop();};a.prototype.Kbb=function(){var a,c;a=this;this.Zj("createMediaSourceStart");c=new h.MediaSource(this.W.W);this.Zj("createMediaSourceEnd");this.Se=c;c.$T(this.rN);this.Ms=c.sourceBuffers.map(function(f){var d;d=new p.Eja(a.I,f.M,c,f,a.J,{Vd:function(){return a.W.Wt.Ka;},Ar:function(b){return a.W.GBa(Number(b));}});return new b.qja(d,f.M,a,a.I);});this.cT=new f.x3(this.Ms,function(){return a.ZEa();},function(){return a.W.position.offset.Ka;});};a.prototype.Mp=function(){this.Ms.forEach(function(a){return a.stop();});this.Se.en();};a.prototype.X$=function(){return{Uvb:this.ij.oia(),tub:this.Ms};};a.prototype.Zj=function(a){a={type:"startEvent",event:a,time:h.time.ea()};this.mg.emit(a.type,a);};return a;}();c.QMa=d;},function(d,c,a){var b,h,g,p;Object.defineProperty(c,"__esModule",{value:!0});b=a(27);h=a(7);g=a(4);p=a(811);d=function(){function a(a,c){var f;f=this;this.W=a;this.rN=c;this.events=new b.EventEmitter();this.GL=[];this.Jqa=new b.pp();this.Jqa.addListener(this.W,"underflow",function(){return f.vk();});}Object.defineProperties(a.prototype,{$d:{get:function(){var a;return null===(a=this.ck)||void 0===a?void 0:a.$d;},enumerable:!0,configurable:!0}});a.prototype.reset=function(){var a;null===(a=this.ck)||void 0===a?void 0:a.reset();};a.prototype.T7=function(){var a;null===(a=this.ck)||void 0===a?void 0:a.T7();};a.prototype.resume=function(){var a;null===(a=this.ck)||void 0===a?void 0:a.resume();};a.prototype.$F=function(){var a;null===(a=this.ck)||void 0===a?void 0:a.$F();};a.prototype.Mp=function(){this.ck&&this.zwa(this.ck.$d);this.Jqa.clear();};Object.defineProperties(a.prototype,{position:{get:function(){var a,b,c,f;h.assert(this.ck);b=this.Wt;c=null===(a=this.ck)||void 0===a?void 0:a.fhb(b);h.assert(c,"Could not find current branch");a=c.jq;f=c.gU;return{Ma:c.ja.id,offset:b.Ac(null!==a&&void 0!==a?a:f)};},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Wt:{get:function(){var a,b,c;c=this.W.vd;void 0===c&&(c=null===(a=this.ck)||void 0===a?void 0:a.uib(),h.assert(c),c=(b=c.jq,null!==b&&void 0!==b?b:c.gU));return c;},enumerable:!0,configurable:!0}});a.prototype.aha=function(a){-1===this.GL.indexOf(a)&&this.GL.push(a);};a.prototype.zzb=function(a){a=this.GL.indexOf(a);-1!==a&&this.GL.splice(a,1);};a.prototype.GBa=function(a){return-1!==this.GL.indexOf(a);};a.prototype.WFa=function(a){if(void 0!==this.$d)return{Ma:this.$d.mh.li,offset:a};};a.prototype.tAa=function(a){if(void 0!==this.$d&&a.Ma===this.$d.mh.li)return a.offset;};a.prototype.zwa=function(a){h.assert(this.$d===a&&this.ck);this.$d.$k.Awa();this.ck.Mp();this.ck=void 0;};a.prototype.V6a=function(a){if(void 0!==this.$d)return!1;this.ck=new p.QMa(a,this,new g.Console(),a.config,this.events,this.rN);a.$k.Qta(this.events);return!0;};a.prototype.pxa=function(){var c;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];c=this.ck;h.assert(c);a.forEach(function(a){return c.Neb(a);});};a.prototype.vk=function(){var a,b;h.assert(this.$d);b=this.WFa(this.Wt);h.assert(b);null===(a=this.ck)||void 0===a?void 0:a.vk();this.$d.vk(b);};a.prototype.X$=function(){var a;return null===(a=this.ck)||void 0===a?void 0:a.X$();};return a;}();c.JMa=d;},function(d,c,a){var h,g;function b(a){this.J=a;this.MJ();}h=a(6);g=a(4);new g.Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.save=function(){var a;a=this.Vc();g.storage.set("nh",a);};b.prototype.aBb=function(){this.Fz||(this.Fz=!0,this.ft=g.time.ea());};b.prototype.nBb=function(){var a;if(this.Fz){a=g.time.ea();this.pt+=a-this.ft;this.ft=a;this.Fz=!1;this.LJ=null;}};b.prototype.xBa=function(a,b){this.Fz&&(b>this.ft&&(this.pt+=b-this.ft,this.ft=b),null===this.LJ||a>this.LJ)&&(a=b-a,this.CD.push([this.pt-a,a]),this.s4a(),this.LJ=b);};b.prototype.s4a=function(){var a;a=this.pt-this.J.lrb;this.CD=this.CD.filter(function(b){return b[0]>a;});};b.prototype.MJ=function(){var a;a=g.storage.get("nh");this.W5(a)||(this.ft=g.time.ea(),this.pt=0,this.Fz=!1,this.LJ=null,this.CD=[]);};b.prototype.W5=function(a){if(!(a&&h.has(a,"t")&&h.has(a,"s")&&h.has(a,"i")&&h.ma(a.t)&&h.ma(a.s)&&h.isArray(a.i)))return!1;this.ft=g.time.wea(1E3*a.t);this.pt=1E3*a.s;this.Fz=!1;this.CD=a.i.map(function(a){return[1E3*a[0],a[1]];});this.LJ=null;return!0;};b.prototype.Vc=function(){return this.Fz?{t:g.time.now()/1E3|0,s:(this.pt+(g.time.ea()-this.ft))/1E3|0,i:this.CD.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:g.time.Zda(this.ft)/1E3|0,s:this.pt/1E3|0,i:this.CD.map(function(a){return[a[0]/1E3|0,a[1]];})};};d.P=b;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(78);d=function(){function a(a){this.I=a;}a.prototype.Esb=function(a){var c;c=this;return 0<a.length?b.__spreadArrays(a).sort(h.P9a(function(a){return c.P_a(a);})).some(function(a){return a.pnb();}):!1;};a.prototype.P_a=function(a){return a.g0.Ac(a.Wt).Ka;};return a;}();c.lRa=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});},function(d,c,a){var m,t,l,q,r,D,z;function b(a){var c,f,d;a=a.parent;c=!1;if(a&&a.children){f={};f[D.Wj]=[];f[D.fj]=[];f[D.TEMPORARY]=[];d=a.children;d.forEach(function(a){a&&f[a.ce].push(a);});0<f[D.Wj].length||(f[D.fj].length===d.length?a.ce!==D.fj&&(a.ce=D.fj,r.error("PERM failing :",l.jg.name[a.nA]+" "+a.id),c=!0):(a.ce===D.Wj&&(a.ce=D.TEMPORARY,r.error("TEMP failing :",l.jg.name[a.nA]+" "+a.id),c=!0),f[D.TEMPORARY].forEach(function(a){a.ce=D.Wj;})),c&&b(a));}}function h(a){var c;for(var b=[];a;a=a.parent)switch(a.nA){case l.jg.bz:c=a;b.unshift(c.id+"("+c.name+")");break;case l.jg.hma:b.unshift(a.id);break;case l.jg.URL:b.unshift("<url for "+a.stream.R+">");}return b.length?"/"+b.join("/"):"";}function g(a){var b;if((a=a.parent)&&0<a.children.length&&a.ce!==D.Wj){b={};b[D.Wj]=[];b[D.fj]=[];b[D.TEMPORARY]=[];a.children.forEach(function(a){a&&b[a.ce].push(a);});0<b[D.Wj].length&&(a.ce=D.Wj,g(a));}}function p(a){return a.ce!==D.Wj;}function f(a){switch(a.ce){case D.Wj:return"OK";case D.fj:return"FAILED PERMANENTLY";case D.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID";}}function k(a,b){if(a.ce===D.TEMPORARY||a.ce===D.fj&&b)a.ce=D.Wj;a.children&&a.children.forEach(function(a){a&&k(a,b);});}Object.defineProperty(c,"__esModule",{value:!0});m=a(0);t=a(6);d=a(27);l=a(14);q=a(4);r=new q.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.Wj=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.fj=2]="PERMANENT";}(D||(D={})));(function(a){a[a.Ks=0]="STARTUP";a[a.GXa=1]="REBUFFER";}(z||(z={})));a=function(a){var x8s;x8s=2;while(x8s!==25){switch(x8s){case 9:c.prototype.nY=function(a){var Y8s;Y8s=2;while(Y8s!==5){switch(Y8s){case 1:return a.qc.location;break;case 2:Y8s=(a=this.me[a])&&a.qc?1:5;break;}}};x8s=8;break;case 8:c.prototype.xJa=function(a){var d8s;d8s=2;while(d8s!==5){switch(d8s){case 3:d8s=(a=this.me[a])?0:6;break;d8s=(a=this.me[a])?1:5;break;case 2:d8s=(a=this.me[a])?1:5;break;case 1:return a.stream;break;}}};c.prototype.Nea=function(a){var D8s,b;D8s=2;while(D8s!==10){switch(D8s){case 2:b=this;a.locations.forEach(function(a){var N8s,c,f,d,h;N8s=2;while(N8s!==14){switch(N8s){case 2:c=a.key;N8s=5;break;case 4:f=[];d=b.ih.get(c);h=b.fm;N8s=8;break;case 5:N8s=!b.cm[c]?4:14;break;case 8:a={id:c,nA:l.jg.hma,ce:D.Wj,Pf:a.rank,level:a.level,weight:a.weight,Pr:void 0,parent:h,children:f,uq:f,cc:{},kb:d};b.cm[a.id]=a;h.children.push(a);N8s=14;break;}}});this.US=q.time.ea();this.Ku.sort(function(a,b){var L8s;L8s=2;while(L8s!==1){switch(L8s){case 2:return a.level-b.level||a.Pf-b.Pf;break;}}});D8s=9;break;case 9:a.servers.forEach(function(a){var R8s,c,f,d;R8s=2;while(R8s!==14){switch(R8s){case 3:R8s=f?9:14;break;case 4:f=b.cm[a.key];R8s=3;break;case 2:c=a.id;R8s=5;break;case 5:R8s=!b.uq[c]?4:14;break;case 9:d=[];a={id:c,nA:l.jg.bz,ce:D.Wj,Pr:void 0,parent:f,children:d,me:d,name:a.name,type:a.type,Pf:a.rank,location:f};b.uq[a.id]=a;f.children.push(a);R8s=14;break;}}});a.audio_tracks.forEach(function(a){var E8s;E8s=2;while(E8s!==1){switch(E8s){case 4:b.mGa(a);E8s=0;break;E8s=1;break;case 2:b.mGa(a);E8s=1;break;}}});a.video_tracks.forEach(function(a){var b8s;b8s=2;while(b8s!==1){switch(b8s){case 4:b.mGa(a);b8s=3;break;b8s=1;break;case 2:b.mGa(a);b8s=1;break;}}});a=this.Ku.filter(function(a){var c8s,c;c8s=2;while(c8s!==3){switch(c8s){case 2:c=a.uq.every(function(a){var t8s;t8s=2;while(t8s!==1){switch(t8s){case 4:return 1!==a.me.length;break;t8s=1;break;case 2:return 0===a.me.length;break;}}});c&&(a.uq.forEach(function(a){var j8s;j8s=2;while(j8s!==1){switch(j8s){case 2:b.uq[a.id]=void 0;j8s=1;break;}}}),b.cm[a.id]=void 0,a.parent=void 0,a.children.length=0,a.cc={});return!c;break;}}});D8s=14;break;case 11:this.dump();D8s=10;break;case 14:a.forEach(function(a){var v8s;v8s=2;while(v8s!==1){switch(v8s){case 2:a.uq.sort(function(a,b){var w8s;w8s=2;while(w8s!==1){switch(w8s){case 4:return a.Pf%b.Pf;break;w8s=1;break;case 2:return a.Pf-b.Pf;break;}}});v8s=1;break;}}});this.Ku=a;this.fm.children=a;D8s=11;break;}}};x8s=6;break;case 6:c.prototype.DP=function(a,b){var r8s,c,f,d,h,k,g,J4S,r4S,w4S,B4S;r8s=2;while(r8s!==15){J4S="(empt";J4S+="y st";J4S+="re";J4S+="am list)";r4S="Did not f";r4S+="i";r4S+="n";r4S+="d a URL for ANY st";r4S+="ream...";w4S="n";w4S+="etwo";w4S+="rkF";w4S+="aile";w4S+="d";B4S="Network";B4S+=" h";B4S+="a";B4S+="s failed, not updating stream selection";switch(r8s){case 2:c=this;f=this.config;d=this.sb.get();h=0;q.Pw&&q.Pw(a);r8s=8;break;case 18:return this.So(l.jg.Ds,!1),!1;break;case 6:k=l.Fe.Ly;f.CN&&(k=l.Fe.Ky);r8s=13;break;case 8:r8s=p(this.fm)?7:6;break;case 19:r8s=!g.length?18:17;break;case 20:g=this.bH;r8s=19;break;case 17:b.forEach(function(a,b){var M8s,n,h4S,U4S,C4S,Q4S;M8s=2;while(M8s!==4){h4S=" Kbp";h4S+="s";h4S+=")";U4S=" ";U4S+="(";C4S="]";C4S+=" ";Q4S="Failin";Q4S+="g";Q4S+=" s";Q4S+="t";Q4S+="ream [";switch(M8s){case 2:n=a.id;g.some(function(b){var K8s,c,h;K8s=2;while(K8s!==7){switch(K8s){case 5:K8s=!c?4:3;break;case 4:return!1;break;case 3:h=c.cm[0];void 0===a.LZ&&(a.LZ=h.id,a.qfa=c.FP[h.id][0].qc.id);return c.FP[b.id].some(function(c){var J8s,n,l4S,p4S,e4S,k4S;J8s=2;while(J8s!==11){l4S="locationf";l4S+="a";l4S+="ilove";l4S+="r";p4S="se";p4S+="rve";p4S+="rfai";p4S+="lover";e4S="pe";e4S+="r";e4S+="forman";e4S+="ce";k4S="unk";k4S+="n";k4S+="o";k4S+="wn";switch(J8s){case 4:J8s=p(c)?3:9;break;case 2:J8s=1;break;case 1:J8s=p(c.qc)?5:4;break;case 9:n=k4S;a.location!==b.id&&(f.mq?a.sca=b.id===h.id:n=b!==g[0]?""+l.Cg.k1:void 0===a.location?""+l.Cg.Ks:t.U(a.pCa)||a.pCa===b.id?t.U(a.rCa)||a.rCa===c.qc.id?e4S:p4S:l4S,a.location=b.id,a.Vca=b.level,a.ap=n);a.url=c.url;a.qc=c.qc.id;J8s=14;break;case 14:a.IB=c.qc.name;a.kb=f.p7?b.kb.Ed>=l.Fe.Ky||d.Ed<k?b.kb:d:d.Ed===l.Fe.HAVE_NOTHING||b.kb.Ed>=l.Fe.Ky?b.kb:d;return!0;break;case 5:return c.qc.ce===D.TEMPORARY&&(a.ce=D.TEMPORARY),f.mq&&a.qc===c.qc.id&&c.qc.Pr&&(a.Pr=c.qc.Pr),!1;break;case 3:return!1;break;}}});break;case 2:c=b.cc[n];K8s=5;break;}}})?(a.hh=void 0,a.ce=void 0,a.tf&&++h):a.ce&&a.ce===D.TEMPORARY?c.fm.ce=D.TEMPORARY:a.hh||(r.warn(Q4S+b+C4S+n+U4S+a.R+h4S),a.A9a(),a.hh=!0);M8s=4;break;}}});return p(this.fm)?(r.warn(B4S),this.WY=!0,this.emit(w4S,this.fm.ce===D.fj),!1):h?!0:(r.warn(r4S+(b.length?"":J4S)),this.So(l.jg.Ds,!0),!1);break;case 7:return!1;break;case 10:return this.So(l.jg.Ds,!1),!1;break;case 11:r8s=!this.bH?10:20;break;case 13:this.sb.location&&d.Ed>=k&&(a=this.cm[this.sb.location])&&(a.kb=d);t.Oa(this.bH)&&(this.bH=this.JDb());r8s=11;break;}}};c.prototype.mzb=function(a,b){var P8s,c,f;P8s=2;while(P8s!==9){switch(P8s){case 2:c={};f=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;t.forEach(this.me,function(d,h){var V8s,k,g,n,m,X4S,K4S,o9s;V8s=2;while(V8s!==13){X4S="8";X4S+="0";K4S="4";K4S+="4";K4S+="3";switch(V8s){case 3:V8s=g&&4===g.length?9:13;break;case 2:d=d.parent?d.parent.id:"";k=c[d];g=h.match(f);V8s=3;break;case 9:T1zz.x4S(0);o9s=T1zz.j4S(17,17);n="s"===g[o9s];m=g[2];g=g[3];g.length||(g=n?K4S:X4S);V8s=14;break;case 14:t.ee(m)&&t.ee(g)&&m===a&&g==b&&(k?k.push(h):c[d]=[h]);V8s=13;break;}}});P8s=3;break;case 3:return c;break;}}};c.prototype.So=function(a,c,d,k){var z8s,Q8s,g,n,m,R4S,H4S,O4S,u4S,o4S,D4S,M4S,N4S,P4S;z8s=2;while(z8s!==25){R4S=" ";R4S+=":";R4S+=" ";R4S+="was ";H4S=" ";H4S+="at";H4S+=" ";O4S=" failure repor";O4S+="t";O4S+="e";O4S+="d for ";u4S="T";u4S+="E";u4S+="M";u4S+="P";o4S="P";o4S+="E";o4S+="RM";D4S="Unable to ";D4S+="find failure entity ";D4S+="for URL ";M4S="networkFa";M4S+="ile";M4S+="d";N4S="Emi";N4S+="tting networkFailed, perman";N4S+="ent =";P4S="Inv";P4S+="alid f";P4S+="ailure st";P4S+="a";P4S+="te";switch(z8s){case 6:z8s=Q8s===D.TEMPORARY?14:16;break;case 1:z8s=g&&g.parent&&g.nA!==a?5:4;break;case 4:z8s=g?3:26;break;case 11:a=this.fm.ce;z8s=10;break;case 8:Q8s=g.ce;z8s=Q8s===D.fj?7:6;break;case 15:z8s=27;break;case 14:g.ce=m;b(g);this.WY=this.WY||p(this.fm);z8s=11;break;case 27:throw Error(P4S);z8s=14;break;case 3:z8s=m!==g.ce?9:25;break;case 5:g=g.parent;z8s=1;break;case 7:return;break;case 10:a>n&&(r.warn(N4S,a===D.fj),this.emit(M4S,a===D.fj));this.bH=null;this.cH=l.Cg.ERROR;z8s=18;break;case 26:T1zz.x4S(1);r.warn(T1zz.L4S(D4S,d));z8s=25;break;case 16:z8s=Q8s===D.Wj?14:15;break;case 18:k&&(this.cH=l.Cg.jWa,g.Pr=k);this.dump();z8s=25;break;case 2:g=a!==l.jg.Ds&&d?this.me[d]:this.fm,n=this.fm.ce,m=c?D.fj:D.TEMPORARY;z8s=1;break;case 9:r.warn((c?o4S:u4S)+O4S+l.jg.name[a]+H4S+h(g)+R4S+f(g));z8s=8;break;}}};c.prototype.AHa=function(a,b){var s8s;s8s=2;while(s8s!==3){switch(s8s){case 1:k(a,b),g(a);s8s=5;break;case 2:s8s=(a=this.uq[a])?1:5;break;case 5:this.bH=null;this.cH=l.Cg.k3;s8s=3;break;}}};c.prototype.xO=function(a){var O8s;O8s=2;while(O8s!==1){switch(O8s){case 2:k(this.fm,a);O8s=1;break;case 4:k(this.fm,a);O8s=2;break;O8s=1;break;}}};c.prototype.jl=function(a){var T8s,b;T8s=2;while(T8s!==5){switch(T8s){case 2:null===(b=this.m2a)||void 0===b?void 0:b.call(this,a);T8s=5;break;}}};x8s=20;break;case 18:c.prototype.mGa=function(a){var e9s,b;e9s=2;while(e9s!==4){switch(e9s){case 5:a.streams.forEach(function(a){var U9s,c,f,d,i4S;U9s=2;while(U9s!==13){i4S="n";i4S+="on";i4S+="e-";switch(U9s){case 4:U9s=t.U(f)?3:7;break;case 2:c=a.downloadable_id;f=b.cc[c];U9s=4;break;case 3:d=a.content_profile;f={id:c,R:a.bitrate,uc:a.vmaf,type:a.type,profile:d,clear:0===d.indexOf(i4S),tf:!0,me:[],FP:{},cm:[]};U9s=8;break;case 8:b.cc[f.id]=f;U9s=7;break;case 7:a.urls.forEach(function(a){var p9s,c,d,h;p9s=2;while(p9s!==11){switch(p9s){case 4:p9s=t.U(d)&&(a=b.uq[a.cdn_id])?3:11;break;case 3:h=a.location;d={id:c,nA:l.jg.URL,ce:D.Wj,Pr:void 0,parent:a,children:[],url:c,qc:a,stream:f};p9s=8;break;case 8:b.me[c]=d;a.children.push(d);p9s=6;break;case 2:c=a.url;d=b.me[c];p9s=4;break;case 6:f.me.push(d);0===f.cm.filter(function(a){var f9s;f9s=2;while(f9s!==1){switch(f9s){case 2:return a.id===h.id;break;case 4:return a.id==h.id;break;f9s=1;break;}}}).length&&f.cm.push(h);h.cc[f.id]=f;(c=f.FP[h.id])?c.push(d):f.FP[h.id]=[d];p9s=11;break;}}});t.Sd(f.FP,function(a){var S9s;S9s=2;while(S9s!==1){switch(S9s){case 2:a.sort(function(a,b){var n9s;n9s=2;while(n9s!==1){switch(n9s){case 4:return a.qc.Pf/b.qc.Pf;break;n9s=1;break;case 2:return a.qc.Pf-b.qc.Pf;break;}}});S9s=1;break;}}});f.cm=f.cm.sort(function(a,b){var h9s;h9s=2;while(h9s!==1){switch(h9s){case 2:return a.level-b.level||a.Pf-b.Pf;break;}}});U9s=13;break;}}});e9s=4;break;case 2:b=this;e9s=5;break;}}};c.prototype.JDb=function(){var W9s,a,b,c,f;W9s=2;while(W9s!==10){switch(W9s){case 2:a=this;b=this.config;c=this.Ku.filter(function(a){var u9s;u9s=2;while(u9s!==1){switch(u9s){case 4:return+p(a)||4==a.level;break;u9s=1;break;case 2:return!p(a)&&0!==a.level;break;}}});W9s=3;break;case 3:W9s=0===c.length?9:8;break;case 8:f=q.time.ea();W9s=7;break;case 6:c.forEach(function(b){var B9s;B9s=2;while(B9s!==1){switch(B9s){case 2:b.id!==a.sb.location&&(b.kb=a.ih.get(b.id));B9s=1;break;}}}),this.US=f;W9s=14;break;case 14:b=this.cH;c.sort(function(a,b){var A9s;A9s=2;while(A9s!==1){switch(A9s){case 2:return a.level-b.level||a.Pf-b.Pf;break;}}});this.Dr||t.Oa(b)||(this.Dr=!0);W9s=11;break;case 11:return c;break;case 9:return null;break;case 7:W9s=null===this.US||this.US+b.Uca<f?6:14;break;}}};c.prototype.wxb=function(a){var X9s,b;X9s=2;while(X9s!==9){switch(X9s){case 4:this.ovb=a;this.Ku.forEach(function(a){var g9s;g9s=2;while(g9s!==1){switch(g9s){case 2:a.id!==b&&a.kb&&a.kb.Ed>l.Fe.Ly&&(a.kb.Ed=l.Fe.Ly);g9s=1;break;}}});X9s=9;break;case 2:b=this.sb.location;this.Dr=!1;X9s=4;break;}}};c.prototype.Qtb=function(){var i9s,a;i9s=2;while(i9s!==4){switch(i9s){case 2:a=this;this.WY||this.Ku.forEach(function(b){var H9s;H9s=2;while(H9s!==1){switch(H9s){case 2:b.ce===D.TEMPORARY&&a.ih.fail(b.id,q.time.ea());H9s=1;break;}}});i9s=4;break;}}};c.prototype.dump=function(){};return c;break;case 20:c.prototype.vk=function(){var k8s;k8s=2;while(k8s!==1){switch(k8s){case 2:this.wxb(z.GXa);k8s=1;break;case 4:this.wxb(z.GXa);k8s=5;break;k8s=1;break;}}};c.prototype.close=function(){var F8s;F8s=2;while(F8s!==1){switch(F8s){case 2:this.config.Gob&&this.Qtb();F8s=1;break;}}};x8s=18;break;case 2:m.__extends(c,a);c.prototype.Tjb=function(){var I8s;I8s=2;while(I8s!==1){switch(I8s){case 4:return this.Ku[5].kb;break;I8s=1;break;case 2:return this.Ku[0].kb;break;}}};c.prototype.vaa=function(){var m8s;m8s=2;while(m8s!==1){switch(m8s){case 2:return this.Ku;break;case 4:return this.Ku;break;m8s=1;break;}}};c.prototype.ex=function(){var C8s;C8s=2;while(C8s!==1){switch(C8s){case 4:return p(this.fm);break;C8s=1;break;case 2:return p(this.fm);break;}}};c.prototype.pIa=function(a){var q8s;q8s=2;while(q8s!==5){switch(q8s){case 2:q8s=(a=this.me[a])&&a.parent?1:5;break;case 1:return a.parent.id;break;}}};x8s=9;break;}}function c(b,c,f,d,h){var Z8s,k,y4S,A4S;Z8s=2;while(Z8s!==26){y4S="1S";y4S+="I";y4S+="YbZrNJCp9";A4S="n";A4S+="e";A4S+="t";A4S+="wo";A4S+="rk";switch(Z8s){case 4:k.ih=f;k.config=d;k.m2a=h;k.ovb=z.Ks;k.Dr=void 0;k.cm={};k.uq={};Z8s=13;break;case 13:k.me={};k.cc={};k.Ku=[];k.WY=!1;k.fm={id:A4S,nA:l.jg.Ds,ce:D.Wj,Pr:void 0,parent:void 0,children:k.Ku};k.US=null;k.bH=null;Z8s=17;break;case 2:k=a.call(this)||this;k.sb=c;Z8s=4;break;case 17:k.cH=l.Cg.Ks;k.Nea(b);y4S;return k;break;}}}}(d.EventEmitter);c.H2=a;},function(d){var c,a,b;c=Object.getOwnPropertySymbols;a=Object.prototype.hasOwnProperty;b=Object.prototype.propertyIsEnumerable;d.P=function(){var a,c;try{if(!Object.assign)return!1;a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a];}).join(""))return!1;c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a;});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0;}catch(f){return!1;}}()?Object.assign:function(d,g){var h,f;if(null===d||void 0===d)throw new TypeError("Object.assign cannot be called with null or undefined");f=Object(d);for(var k,n=1;n<arguments.length;n++){h=Object(arguments[n]);for(var t in h)a.call(h,t)&&(f[t]=h[t]);if(c){k=c(h);for(var l=0;l<k.length;l++)b.call(h,k[l])&&(f[k[l]]=h[k[l]]);}}return f;};},function(d,c,a){(function(b){var N,P,W,Y,B,A,H,U;function c(a,b){if(a===b)return 0;for(var c=a.length,f=b.length,d=0,h=Math.min(c,f);d<h;++d)if(a[d]!==b[d]){c=a[d];f=b[d];break;}return c<f?-1:f<c?1:0;}function g(a){return b.Dja&&"function"===typeof b.Dja.isBuffer?b.Dja.isBuffer(a):!(null==a||!a.wOb);}function p(a){return g(a)||"function"!==typeof b.ArrayBuffer?!1:"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a?a instanceof DataView||a.buffer&&a.buffer instanceof ArrayBuffer?!0:!1:!1;}function f(a){if(P.Tb(a))return B?a.name:(a=a.toString().match(H))&&a[1];}function k(a){return"string"===typeof a?128>a.length?a:a.slice(0,128):a;}function m(a){if(B||!P.Tb(a))return P.LM(a);a=f(a);return"[Function"+(a?": "+a:"")+"]";}function t(a,b,c,f,d){throw new A.AssertionError({message:c,Lz:a,vo:b,jB:f,RAb:d});}function l(a,b){a||t(a,!0,b,"==",A.ok);}function q(a,b,f,d){var h;if(a===b)return!0;if(g(a)&&g(b))return 0===c(a,b);if(P.NM(a)&&P.NM(b))return a.getTime()===b.getTime();if(P.UBa(a)&&P.UBa(b))return a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase;if(null!==a&&"object"===typeof a||null!==b&&"object"===typeof b){if(!p(a)||!p(b)||Object.prototype.toString.call(a)!==Object.prototype.toString.call(b)||a instanceof Float32Array||a instanceof Float64Array){if(g(a)!==g(b))return!1;d=d||{Lz:[],vo:[]};h=d.Lz.indexOf(a);if(-1!==h&&h===d.vo.indexOf(b))return!0;d.Lz.push(a);d.vo.push(b);return r(a,b,f,d);}return 0===c(new Uint8Array(a.buffer),new Uint8Array(b.buffer));}return f?a===b:a==b;}function r(a,b,c,f){var d,h,k;if(null===a||void 0===a||null===b||void 0===b)return!1;if(P.RBa(a)||P.RBa(b))return a===b;if(c&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;d="[object Arguments]"==Object.prototype.toString.call(a);h="[object Arguments]"==Object.prototype.toString.call(b);if(d&&!h||!d&&h)return!1;if(d)return a=Y.call(a),b=Y.call(b),q(a,b,c);d=U(a);k=U(b);if(d.length!==k.length)return!1;d.sort();k.sort();for(h=d.length-1;0<=h;h--)if(d[h]!==k[h])return!1;for(h=d.length-1;0<=h;h--)if(k=d[h],!q(a[k],b[k],c,f))return!1;return!0;}function D(a,b,c){q(a,b,!0)&&t(a,b,c,"notDeepStrictEqual",D);}function z(a,b){if(!a||!b)return!1;if("[object RegExp]"==Object.prototype.toString.call(b))return b.test(a);try{if(a instanceof b)return!0;}catch(ma){}return Error.isPrototypeOf(b)?!1:!0===b.call({},a);}function G(a,b,c,f){var d,h,k;if("function"!==typeof b)throw new TypeError('"block" argument must be a function');"string"===typeof c&&(f=c,c=null);try{b();}catch(R){d=R;}b=d;f=(c&&c.name?" ("+c.name+").":".")+(f?" "+f:".");a&&!b&&t(b,c,"Missing expected exception"+f);d="string"===typeof f;h=!a&&P.MX(b);k=!a&&b&&!c;(h&&d&&z(b,c)||k)&&t(b,c,"Got unwanted exception"+f);if(a&&b&&c&&!z(b,c)||!a&&b)throw b;}function M(a,b){a||t(a,!0,b,"==",M);}N=a(817);P=a(473);W=Object.prototype.hasOwnProperty;Y=Array.prototype.slice;B=function(){return"foo"===function(){}.name;}();A=d.P=l;H=/\s*function\s+([^\(\s]*)\s*/;A.AssertionError=function(a){var b;this.name="AssertionError";this.Lz=a.Lz;this.vo=a.vo;this.jB=a.jB;this.message=a.message?a.message:k(m(this.Lz))+" "+this.jB+" "+k(m(this.vo));b=a.RAb||t;Error.captureStackTrace?Error.captureStackTrace(this,b):(a=Error(),a.stack&&(a=a.stack,b=f(b),b=a.indexOf("\n"+b),0<=b&&(a=a.substring(a.indexOf("\n",b+1)+1)),this.stack=a));};P.Ylb(A.AssertionError,Error);A.fail=t;A.ok=l;A.equal=function(a,b,c){a!=b&&t(a,b,c,"==",A.equal);};A.rG=function(a,b,c){a==b&&t(a,b,c,"!=",A.rG);};A.gwa=function(a,b,c){q(a,b,!1)||t(a,b,c,"deepEqual",A.gwa);};A.hwa=function(a,b,c){q(a,b,!0)||t(a,b,c,"deepStrictEqual",A.hwa);};A.yEa=function(a,b,c){q(a,b,!1)&&t(a,b,c,"notDeepEqual",A.yEa);};A.Brb=D;A.yJa=function(a,b,c){a!==b&&t(a,b,c,"===",A.yJa);};A.zEa=function(a,b,c){a===b&&t(a,b,c,"!==",A.zEa);};A["throws"]=function(a,b,c){G(!0,a,b,c);};A.LQb=function(a,b,c){G(!1,a,b,c);};A.pSb=function(a){if(a)throw a;};A.Pha=N(M,A,{equal:A.yJa,gwa:A.hwa,rG:A.zEa,yEa:A.Brb});A.Pha.Pha=A.Pha;U=Object.keys||function(a){var b,c;b=[];for(c in a)W.call(a,c)&&b.push(c);return b;};}.call(this,a(151)));},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(394);d=function(){var z5S;z5S=2;while(z5S!==9){switch(z5S){case 2:a.prototype.add=function(a,c,f,d){var d5S,h;d5S=2;while(d5S!==3){switch(d5S){case 2:h=this.iT;void 0===h[d]&&(h[d]=new b());h[d].add(a,c,f);d5S=3;break;}}};a.prototype.start=function(a,c){var S5S,f;S5S=2;while(S5S!==3){switch(S5S){case 2:f=this.iT;void 0===f[c]&&(f[c]=new b());S5S=4;break;case 4:f[c].start(a);S5S=3;break;}}};a.prototype.stop=function(a,b){var q5S,c;q5S=2;while(q5S!==4){switch(q5S){case 2:c=this.iT;void 0!==c[b]&&c[b].stop(a);q5S=4;break;}}};a.prototype.get=function(){var V5S,h,g,a,b,c,d;V5S=2;while(V5S!==6){switch(V5S){case 5:V5S=d<b.length?4:7;break;case 2:V5S=1;break;case 1:a=this.iT,b=Object.keys(a),c=[],d=0;V5S=5;break;case 4:h=b[d];g=a[h].get();g&&c.push({cdnid:h,avtp:g.Ca,tm:g.vV});V5S=8;break;case 8:d++;V5S=5;break;case 7:return c;break;}}};z5S=3;break;case 3:return a;break;}}function a(){var W5S,Z5S;W5S=2;while(W5S!==5){Z5S="1S";Z5S+="IY";Z5S+="b";Z5S+="ZrN";Z5S+="JCp9";switch(W5S){case 3:this.iT={};"";W5S=8;break;W5S=5;break;case 2:this.iT={};Z5S;W5S=5;break;}}}}();c.hOa=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(819);new(a(4)).Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");d=function(){var F5S;F5S=2;while(F5S!==7){switch(F5S){case 2:a.prototype.reset=function(){var a5S;a5S=2;while(a5S!==1){switch(a5S){case 2:this.ty=new b.hOa();a5S=1;break;case 4:this.ty=new b.hOa();a5S=2;break;a5S=1;break;}}};a.prototype.BB=function(a,b){var Y5S;Y5S=2;while(Y5S!==1){switch(Y5S){case 2:b.ae&&(this.Qba?this.ty.start(a,b.ae):1===b.type&&(this.eu[b.ae]?this.eu[b.ae].PP+=1:this.eu[b.ae]={ae:b.ae,PP:1,WV:!1},this.MKa(a)));Y5S=1;break;}}};F5S=5;break;case 5:a.prototype.DB=function(a,b){var n5S,c;n5S=2;while(n5S!==8){switch(n5S){case 2:n5S=1;break;case 4:this.ty.stop(a,b.ae);n5S=8;break;case 1:n5S=b.ae?5:8;break;case 3:c=this.eu[b.ae];1===b.type&&c&&(--c.PP,0===c.PP&&(c.WV&&this.ty.stop(a,b.ae),c.WV=!1,delete this.eu[b.ae]),this.MKa(a));n5S=8;break;case 5:n5S=this.Qba?4:3;break;}}};a.prototype.xw=function(a,b,c,d){var v5S;v5S=2;while(v5S!==1){switch(v5S){case 2:d.ae&&(this.Qba?this.ty.add(a,b,c,d.ae):this.pK===d.ae&&this.ty.add(a,b,c,d.ae));v5S=1;break;}}};F5S=3;break;case 3:a.prototype.Xl=function(){var s5S;s5S=2;while(s5S!==1){switch(s5S){case 4:return this.ty.get();break;s5S=1;break;case 2:return this.ty.get();break;}}};a.prototype.MKa=function(a){var g5S,b,c;g5S=2;while(g5S!==3){switch(g5S){case 2:b=Object.keys(this.eu);c=this.eu[b[0]];1===b.length&&!1===c.WV?(this.ty.start(a,c.ae),this.pK=c.ae):1<b.length&&this.pK&&(b=this.eu[this.pK],this.ty.stop(a,this.pK),b.WV=!1,this.pK=void 0);g5S=3;break;}}};return a;break;}}function a(a){var G5S,f5S;G5S=2;while(G5S!==4){f5S="1";f5S+="S";f5S+="IYbZrN";f5S+="J";f5S+="Cp9";switch(G5S){case 2:this.Qba=a;this.eu={};f5S;G5S=4;break;}}}}();c.KQa=d;},function(d,c,a){var h;function b(a){var b,c;b=a.sw;c=a.mw;this.gE=b;this.m4={uhd:a.uhdl,hd:a.hdl};this.ci=Math.max(Math.ceil(1*b/c),1);this.V1a=a.mins||1;h.call(this,b,c);this.reset();}h=a(168);new(a(4)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");b.prototype=Object.create(h.prototype);b.prototype.flush=function(){this.Sc.map(function(a,b){this.eta(a,this.U$(b));},this);};b.prototype.v8a=function(){var a,b,c,d,h,g,l,z;a=this.m4;for(b in a)if(a.hasOwnProperty(b)){c=a[b];d=this.f6[b];h=this.e6[b];if(d.first){g=d.first;l=d.vB;void 0!==l&&(h[g][l]+=1);d.first=void 0;}for(var d=[],g=0,c=l=c.length+1,q=0;q<l;q++){for(var r=0,D=0;D<c;D++)r+=h[D][q];g+=r;d.push(r);}r=-1;if(g>this.V1a){for(q=r=0;q<l;q++)if(0<d[q])for(D=0;D<c;D++){z=h[D][q];0<z&&(r-=z*Math.log(1*z/d[q]));}r/=g*Math.log(2);}this.K4[b]=r;}return this.K4;};b.prototype.eta=function(a,b){var c,g,n;for(var c=this.ci,d=this.m4;this.xS.length>=c;)this.xS.shift();for(;this.yS.length>=c;)this.yS.shift();this.xS.push(a);this.yS.push(b);a=this.xS.reduce(function(a,b){return a+b;},0);b=this.yS.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var h in d)if(d.hasOwnProperty(h)){b=this.f6[h];c=this.e6[h];g=this.Nvb(a,d[h]);n=b.vB;void 0!==n?c[g][n]+=1:b.first=g;b.vB=g;}}};b.prototype.Nvb=function(a,b){for(var c=0;c<b.length&&a>b[c];)c+=1;return c;};b.prototype.shift=function(){this.eta(this.Sc[0],this.U$(0));h.prototype.shift.call(this);};b.prototype.reset=function(){var a,b;this.f6={};this.xS=[];this.yS=[];this.e6={};this.K4={};a=this.m4;for(b in a)if(a.hasOwnProperty(b)){for(var c=this.e6,d=b,g,t=void 0,l=Array(t),t=g=a[b].length+1,q=0;q<t;q++){l[q]=Array(g);for(var r=0;r<g;r++)l[q][r]=0;}c[d]=l;this.f6[b]={first:void 0,vB:void 0};this.K4[b]=0;}h.prototype.reset.call(this);};d.P=b;},function(d,c,a){var h;function b(){this.ai=void 0;this.qw=0;}h=a(6);b.prototype.Vc=function(){return 0!==this.qw&&this.ai?{p25:this.ai.wk,p50:this.ai.Wi,p75:this.ai.xk,c:this.qw}:null;};b.prototype.Xd=function(a){if(!(!h.Oa(a)&&h.has(a,"p25")&&h.has(a,"p50")&&h.has(a,"p75")&&h.has(a,"c")&&h.isFinite(a.p25)&&h.isFinite(a.p50)&&h.isFinite(a.p75)&&h.isFinite(a.c)))return this.ai=void 0,this.qw=0,!1;this.ai={wk:a.p25,Wi:a.p50,xk:a.p75};this.qw=a.c;};b.prototype.get=function(){return{xZ:this.ai,Xo:this.qw};};b.prototype.set=function(a,b){this.ai=a;this.qw=b;};b.prototype.reset=function(){this.ai=void 0;this.qw=0;};b.prototype.toString=function(){return"IQRHist("+this.ai+","+this.qw+")";};d.P=b;},function(d,c,a){var h,g,p,f,k,m,t,l,q,r;function b(a){this.r0a=a;}c=a(398);h=c.XPa;g=c.VPa;p=a(225).WPa;f=a(225).b_a;k=a(397);m=a(396);t=a(395).qpa;l=a(822);q=a(821);r=a(394);b.prototype.constructor=b;b.prototype.create=function(a,b){var c,d,n,u;d=this.r0a[a];n=b[a];u={};d&&Object.keys(d).forEach(function(a){u[a]=d[a];});n&&Object.keys(n).forEach(function(a){u[a]=n[a];});switch(u.type){case"slidingwindow":c=new p(u.mw);break;case"discontiguous-ewma":c=new g(u.mw);break;case"wssl":c=new f(u.mw,u.max_n);break;case"iqr":c=new k(u.mx,u.mn,u.bw,u.iv);break;case"tdigest":c=new m(u);break;case"discrete-ewma":c=new h(u.hl);break;case"tdigest-history":c=new t(u);break;case"iqr-history":c=new l(u);break;case"avtp":c=new r();break;case"entropy":c=new q(u);}c&&(c.type=u.type);return c;};d.P=b;},function(d){function c(a){this.rD=a;this.Nd=0;this.ZD=null;}c.prototype.add=function(a,b,c){null!==this.ZD&&b>this.ZD&&(this.Nd+=b-this.ZD,this.ZD=null);this.rD.add(a,b-this.Nd,c-this.Nd,this.Nd);};c.prototype.stop=function(a){null===this.ZD&&(this.ZD=a);};c.prototype.kfa=function(a,b){return this.rD.kfa(a,b);};c.prototype.get=function(){return this.rD.get();};c.prototype.reset=function(){this.rD.reset();};c.prototype.toString=function(){return this.rD.toString();};d.P=c;},function(d){function c(a,b,c){this.hE=a;this.ci=Math.floor((a+b-1)/b);this.Kc=b;this.p3a=c;this.reset();}c.prototype.shift=function(){this.Sc.shift();this.Gg.shift();};c.prototype.update=function(a,b){this.Sc[a]+=b;};c.prototype.push=function(a){this.Sc.push(0);this.Gg.push(a?a:0);this.Qa+=this.Kc;};c.prototype.add=function(a,b,c,d){var h,f;if(null===this.Qa){h=Math.max(Math.floor((c-b+this.Kc-1)/this.Kc),1);for(this.Qa=b;this.Sc.length<h;)this.push(d);}for(;this.Qa<c;)if(this.push(d),this.p3a)for(;1<this.Sc.length&&c+d-(this.Qa-this.Kc*this.Sc.length+this.Gg[0])>this.hE;)this.shift();else this.Sc.length>this.ci&&this.shift();if(b>this.Qa-this.Kc)this.update(this.Sc.length-1,a);else if(b==c)d=this.Sc.length-Math.max(Math.ceil((this.Qa-c)/this.Kc),1),0<=d&&this.update(d,a);else for(d=1;d<=this.Sc.length;++d){h=this.Qa-d*this.Kc;f=h+this.Kc;if(!(h>c)){if(f<b)break;this.update(this.Sc.length-d,Math.round(a*(Math.min(f,c)-Math.max(h,b))/(c-b)));}}for(;this.Sc.length>this.ci;)this.shift();};c.prototype.reset=function(){this.Sc=[];this.Gg=[];this.Qa=null;};c.prototype.setInterval=function(a){this.ci=Math.floor((a+this.Kc-1)/this.Kc);};d.P=c;},function(d,c,a){var g,p,f,k;function b(a,b,c){g.call(this,a,b,c);}function h(a,c){p.call(this,new b(a,c,!1));}g=a(825);p=a(824);f=a(115).Vgb;k=a(115).tkb;b.prototype=Object.create(g.prototype);b.prototype.Ca=function(){return Math.floor(8*f(this.Sc)/this.Kc);};b.prototype.vh=function(){return Math.floor(64*k(this.Sc)/(this.Kc*this.Kc));};b.prototype.get=function(){return{Ca:this.Ca(),vh:this.vh(),kPb:this.Sc.length};};b.prototype.toString=function(){return"bsw("+this.hE+","+this.Kc+","+this.ci+")";};h.prototype=Object.create(p.prototype);h.prototype.setInterval=function(a){this.rD.setInterval(a);};d.P=h;},function(d,c,a){function b(a){this.data=a;this.right=this.left=null;}function h(a){this.Od=null;this.Qk=a;this.size=0;}c=a(400);b.prototype.$f=function(a){return a?this.right:this.left;};b.prototype.En=function(a,b){a?this.right=b:this.left=b;};h.prototype=new c();h.prototype.qn=function(a){if(null===this.Od)return this.Od=new b(a),this.size++,!0;for(var c=0,f=null,d=this.Od;;){if(null===d)return d=new b(a),f.En(c,d),ret=!0,this.size++,!0;if(0===this.Qk(d.data,a))return!1;c=0>this.Qk(d.data,a);f=d;d=d.$f(c);}};h.prototype.remove=function(a){var c,f,d,n,g;if(null===this.Od)return!1;c=new b(void 0);f=c;f.right=this.Od;for(var d=null,h=null,g=1;null!==f.$f(g);){d=f;f=f.$f(g);n=this.Qk(a,f.data);g=0<n;0===n&&(h=f);}return null!==h?(h.data=f.data,d.En(d.right===f,f.$f(null===f.left)),this.Od=c.right,this.size--,!0):!1;};d.P=h;},function(d,c,a){function b(a){this.data=a;this.right=this.left=null;this.red=!0;}function h(a){this.Od=null;this.Qk=a;this.size=0;}function g(a){return null!==a&&a.red;}function p(a,b){var c;c=a.$f(!b);a.En(!b,c.$f(b));c.En(b,a);a.red=!0;c.red=!1;return c;}function f(a,b){a.En(!b,p(a.$f(!b),!b));return p(a,b);}c=a(400);b.prototype.$f=function(a){return a?this.right:this.left;};b.prototype.En=function(a,b){a?this.right=b:this.left=b;};h.prototype=new c();h.prototype.qn=function(a){var c,d,h,k,n,l,q,r,M;c=!1;if(null===this.Od)this.Od=new b(a),c=!0,this.size++;else{d=new b(void 0);h=0;k=0;n=null;l=d;q=null;r=this.Od;for(l.right=this.Od;;){null===r?(r=new b(a),q.En(h,r),c=!0,this.size++):g(r.left)&&g(r.right)&&(r.red=!0,r.left.red=!1,r.right.red=!1);if(g(r)&&g(q)){M=l.right===n;r===q.$f(k)?l.En(M,p(n,!k)):l.En(M,f(n,!k));}M=this.Qk(r.data,a);if(0===M)break;k=h;h=0>M;null!==n&&(l=n);n=q;q=r;r=r.$f(h);}this.Od=d.right;}this.Od.red=!1;return c;};h.prototype.remove=function(a){var c,d,q,h,r,l,M;if(null===this.Od)return!1;c=new b(void 0);d=c;d.right=this.Od;for(var h=null,k,n=null,l=1;null!==d.$f(l);){q=l;k=h;h=d;d=d.$f(l);r=this.Qk(a,d.data);l=0<r;0===r&&(n=d);if(!g(d)&&!g(d.$f(l)))if(g(d.$f(!l)))k=p(d,l),h.En(q,k),h=k;else if(!g(d.$f(!l))&&(r=h.$f(!q),null!==r))if(g(r.$f(!q))||g(r.$f(q))){M=k.right===h;g(r.$f(q))?k.En(M,f(h,q)):g(r.$f(!q))&&k.En(M,p(h,q));q=k.$f(M);q.red=!0;d.red=!0;q.left.red=!1;q.right.red=!1;}else h.red=!1,r.red=!0,d.red=!0;}null!==n&&(n.data=d.data,h.En(h.right===d,d.$f(null===d.left)),this.size--);this.Od=c.right;null!==this.Od&&(this.Od.red=!1);return null!==n;};d.P=h;},function(d,c,a){d.P={FXa:a(828),TGb:a(827)};},function(d,c,a){var b,h,g,p,f,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(171);g=a(401);p=a(21);f=a(4);d=a(87);k=a(391);m=a(7);a=function(a){function c(b,c,f,d,h,k,g,n,m,p,t){var l;l=a.call(this,b)||this;l.Tc=b;l.I=c;l.J=f;l.jl=d;l.QW=h;l.Up=k;l.LX=g;l.Ff=n;l.oT=m;l.Lf=p;l.ira=[void 0,void 0];l.o6=[];l.DJ=null!==t&&void 0!==t?t:{Pq:[Object.create(null),Object.create(null)]};return l;}b.__extends(c,a);Object.defineProperties(c.prototype,{Pq:{get:function(){return this.DJ.Pq;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{wp:{get:function(){return this.DJ.wp;},set:function(a){this.DJ.wp=a;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{sD:{get:function(){return this.DJ.sD;},set:function(a){this.DJ.sD=a;},enumerable:!0,configurable:!0}});c.prototype.xc=function(){var a;a=this;this.Pq.forEach(function(b,c){for(var f in b)b[f].xc(),a.g9(c,f);});};c.prototype.zj=function(a,b){return this.Pq[a][b];};c.prototype.V7=function(){this.wp=void 0;};c.prototype.$ga=function(a,b){var c;if(b)this.wp=b;else if(!(this.wp&&0<this.wp.length||this.J.cJa))for(h.ul.Vl(1),a=a.te(1).track.zc,b=0;b<a.length;++b){c=a[b];if(c.tf&&c.inRange&&!c.hh&&!this.CAa(c.qa)){this.wp=[c.qa];break;}}};c.prototype.nda=function(){var a,b;if(this.wp&&0!==this.wp.length&&!this.sD)for(h.ul.Vl(1);0<this.wp.length;){a=this.wp.shift();b=this.Tc.xr(1,a);if(b&&!this.CAa(a)&&b.tf){this.sD=a;this.w0(b,{offset:0,lH:!0});break;}}};c.prototype.Jia=function(a,b){var c;c=this;b.forEach(function(b){var f;f=c.zj(a,b.qa);f&&!b.yd&&(f.stream.yd?b.QU(f.stream):(f.SN||(f.SN=[]),f.SN.push(c.Tc)));});};c.prototype.TG=function(a,b,c){var f,d,h;f=this;h=this.Tc;p.Df.forEach(function(d){var g,n,p,t,l;if(h.gb(d)&&(void 0===c||d===c)){t=a[d];m.assert(t&&h.getTrackById(t.bb)===t);t=t.zc;if(h.aq)f.I.warn("requestHeadersFromManifest, shutdown detected");else if(h.bm.DP(h.pa,t)){l=(p=null===(n=null===(g=f.Up(d))||void 0===g?void 0:g.RA)||void 0===n?void 0:n.R,null!==p&&void 0!==p?p:0);g=k.Sxa(t,l);void 0===g&&f.I.warn("Unable to find stream for bitrate "+l);g=t[g];(n=h.zj(d,g.qa))&&n.stream.Y?h.GDb(d,n):(d={offset:0,lH:!1,Yw:1===d,pr:!0,qG:!f.LX(h)},h.Jva(g,d,b));}else f.I.warn("requestHeadersFromManifest, unable to update urls");}});h.nX=!0;(null===(d=this.Lf)||void 0===d?void 0:d.call(this,h.Wa)).wU();};c.prototype.dC=function(a){var b,c,d,h;b=this.J;c=this.zj(a.M,a.qa);if(c)return c.stream.Y||c.lH&&this.$ua(c),!1;c=this.y1a;d=this.z1a;if(void 0!==b.Xda&&void 0!==c&&void 0!==d){h=f.time.ea();if(h-c<b.Xda||h-d<b.Xda)return!1;}a=this.w0(a,{url:a.url,offset:0});this.z1a=f.time.ea();return a;};c.prototype.w0=function(a,c,f,d){var k,g,n,m;n=a.M;h.ul.Vl(n);m=a.qa;if(this.X_a(m,!!c.pr))return null===(k=this.oT)||void 0===k?void 0:k.call(this),!1;if(k=this.zj(n,m))a=!1;else{k=b.__assign(b.__assign({},c),{ba:this.F0a(a)});f=this.QW(n,!!k.pr,!!k.Yw,!!k.qG,!!f);a.url&&(this.Up(n).Mca=a.url);k=a=this.A4(a,f,k);if(!a.Or())return this.Tc.Rg("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1;a=!0;}c.pr&&d&&(this.Tc.bg[n]=k);null===(g=this.oT)||void 0===g?void 0:g.call(this);return a;};c.prototype.gp=function(){var a,b;a=this;b=[];this.Pq.forEach(function(c,f){var k;h.ul.Vl(f);for(var d in c){f=c[d];k=f.F0();1===k?b.push(f):2===k&&a.Tc.Rg("swapUrl failure");}});return b;};c.prototype.Vi=function(a){var b,c;b=a.M;c=h.ul.Vl(b);this.Tc.aq?c.warn("header onrequestcomplete ignored, session shutdown:",a.toString()):(this.jl({type:"logdata",target:"startplay",xd:{usedNativeDataView:a.CEb}}),a.uZ>a.Psb&&(this.ira[b]=a.uZ),a.lH&&this.$ua(a),this.f1a(a),this.y1a=f.time.ea(),this.Tc.ux.emit("onHeaderRequestComplete",a));this.Qp(a);};c.prototype.YT=function(a,b,c){var f;f=a.M;h.ul.Vl(f);f=this.Tc.xr(f,a.qa);if(b!==!!a.wj)return!1;this.Vsa(a);a.W5a(f);this.Ypa(a);this.Tc.ux.emit("onHeaderFromCache",{yo:a,Yfb:c});return!0;};c.prototype.s6=function(a,b){var c,f,d,h;c=[];f=this.Pq[a];for(d in f){h=f[d];h&&!h.stream.Y&&h.Lh===b&&(this.g9(a,d),c.push({stream:h.stream,offset:h.offset,ba:h.ba,Yw:h.Yw,pr:h.pr,qG:h.qG,Pea:h.Pea}));}return c;};c.prototype.mga=function(a){var b;b=this;a.forEach(function(a){b.w0(a.stream,a);});};c.prototype.Vsa=function(a){this.Pq[a.M][a.qa]=a;};c.prototype.CAa=function(a){return!!this.zj(1,a);};c.prototype.f1a=function(a){var b,c,f,d,g;b=this.J;c=h.ul.Vl(a.M);f=a.stream.Y;if(b.S8){d=f.length;c.trace("fragment count:",d);for(var k=0;k<d;++k){g=f.get(k);c.trace("fragment: "+k+", startPts: "+g.S+", duration: "+g.duration+", offset: "+g.offset);}}this.Ypa(a);if(b.BG&&b.BG.enabled&&void 0===f.yy&&b.BG.simulatedFallback){d=f.length;b=[];for(k=0;k<d;++k)b[k]=Math.max(0,a.stream.uc+this.n3a(k));f.bAb(b);}};c.prototype.Ypa=function(a){var b,c;b=a.M;c=a.qa;h.ul.Vl(b);a.SN&&(a.SN.forEach(function(f){(f=f.xr(b,c))&&f!==a.stream&&!f.yd&&f.QU(a.stream);}),a.SN=void 0);this.Tc.Kkb(a);};c.prototype.A4=function(a,b,c){var f,d;f=this;d=h.ul.Vl(a.M);a=new g.pja(a,this.J,b,c,this,!1,d);a.addListener("headerRequestCancelled",function(a){f.e1a(a.request);});a.Xb(void 0);this.Vsa(a);return a;};c.prototype.X_a=function(a,b){return this.Ff&&(a=this.Ff.dN(this.Tc.u,a))&&this.YT(a,!1,b)?!0:!1;};c.prototype.F0a=function(a){var b,c,f;b=a.Yr;c=a.O;f=this.J;return c.ue.rf?f.SV?f.SV:f.mX:f.jLa&&b?b.offset+b.size:(a=this.ira[a.M])?a+128:2292+12*Math.ceil(c.duration/2E3);};c.prototype.e1a=function(a){this.g9(a.M,a.qa);};c.prototype.g9=function(a,b){delete this.Pq[a][b];};c.prototype.$ua=function(a){this.sD===a.qa&&(this.sD=void 0);};c.prototype.n3a=function(a){var b;b=this.J.BG.fallbackBound;void 0===this.o6[a]&&(this.o6[a]=Math.floor(2*Math.random()*b)-b);return this.o6[a];};return c;}(d.rs);c.FRa=a;},function(d,c,a){var b,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(27);g=a(4).Is;d=function(a){function c(b){var c;c=a.call(this)||this;c.Zra=b;c.JS=b.groupId;c.Gf=new h.pp();c.Gf.on(c,g.Ld.LI,c.SJ);c.Gf.on(c,g.Ld.Xy,c.OD);return c;}b.__extends(c,a);c.prototype.Osb=function(a,b,c){g.prototype.open.call(this,a,b,c);};c.prototype.Fzb=function(a){this.JS=a;};Object.defineProperties(c.prototype,{groupId:{get:function(){return this.JS;},enumerable:!0,configurable:!0}});c.prototype.xc=function(){this.Gf&&this.Gf.clear();g.prototype.xc.call(this);};c.prototype.SJ=function(a){this.Zra.lvb(a.probed,a.affected);this.xc();};c.prototype.OD=function(a){this.Zra.ivb(a.probed,a.affected);this.xc();};return c;}(g);c.LMa=d;},function(d,c,a){var h,g,p;function b(a,b){this.NJ=a;this.uz=0===Math.floor(1E6*Math.random())%b.wB;this.groupId=1;this.config=b;this.gu={};this.ay={};}h=a(6);g=a(4);new g.Console("ASEJS_PROBE_MANAGER","asejs");p=a(831).LMa;b.prototype.constructor=b;b.prototype.kvb=function(a,b){var c,f,d,k,n,p,l,q,r,N,P;c=this.NJ;f=a.Jb;d=c.xJa(a.url);k=c.nY(a.url);n=this.config;p=g.time.ea();q=b;r=[];N=d.cm[0];P=!1;l=this.gu[f];if(!l)l=this.gu[f]={count:0,Kg:p,cv:!1,error:b,Zga:[],ufa:{}};else if(l.Kg>=p-n.l0)return;l.cv||(N&&k.id===N.id&&(a.isPrimary=!0),l.Kg=p,l.cv=!1,l.error=b,++l.count,d&&d.me&&0!==d.me.length&&(h.forEach(d.me,function(b){var c,d,h;c=b.qc.id;d=c+"-"+f;h=this.ay[d];if(void 0===h||void 0===h.NZ)h&&h.ym&&clearTimeout(h.ym),b=this.Lva(b.url,a,c),this.ay[d]={aa:!1,count:0,NZ:b.Aj()},r.push(b.Aj()),P=!0;-1===l.Zga.indexOf(c)&&l.Zga.push(c);},this),this.uz&&0<r.length&&(d={type:"logdata",target:"endplay",fields:{}},b=q,q={ts:g.time.ea(),es:b.lta,fc:b.eh,fn:b.Fxa,nc:b.Ti,pb:r,gid:this.groupId},b.AM&&(q.hc=b.AM),d.fields.errpb={type:"array",value:q,adjust:["ts"]},c.jl(d)),P&&this.groupId++));};b.prototype.Lva=function(a,b,c){var f,d,h;f=this.NJ.nY(b.url);f&&f.kb&&f.kb.Zp&&f.kb.Zp.Ca||Math.random(0,1);f=new p(this);d=a.split("?");h="random="+parseInt(1E7*Math.random(),10);f.Osb(1<d.length?a+"&"+h:a+"?"+h,b,c);return f;};b.prototype.lvb=function(a,b){var c,f,d,h,k,n,p,l;c=this.NJ;f=this.config;d=b.Jb;h=this.gu[d];n=a.url;p=this.ay[a.Jb+"-"+d];if(h&&(k=h.error,p)){p&&p.ym&&clearTimeout(p.ym);p.aa=!0;p.count=0;p.NZ=void 0;h.ufa[a.Jb]=!0;(p=this.gu[a.Jb])&&!0===p.cv&&f.zt&&(c.AHa(a.Jb,p.error.yP[1]),this.uz&&(p={type:"logdata",target:"endplay",fields:{}},p.fields.errst={type:"array",value:{ts:g.time.ea(),id:a.requestId,servid:b.Jb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.jl(p)),this.gu[a.Jb]=void 0);if(n!==b.url){l=this.ay[d+"-"+d];l&&l.aa||(d=(d=c.nY(n))&&d.kb&&d.kb.Zp&&d.kb.Zp.Ca||Math.random(0,1)*f.wY,d=Math.min(d,f.wY),setTimeout(function(){var f;if(!(!1!==h.cv||l&&l.aa)&&(h.cv=!0,c.So(k.yP[0],k.yP[1],b.url,k),this.uz)){f={type:"logdata",target:"endplay",fields:{}};f.fields.erep={type:"array",value:{ts:g.time.ea(),id:a.requestId,servid:b.Jb,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.jl(f);}}.bind(this),d));}this.uz&&(p={type:"logdata",target:"endplay",fields:{}},p.fields.pbres={type:"array",value:{ts:g.time.ea(),id:a.requestId,result:1,servid:a.Jb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.jl(p));}};b.prototype.ivb=function(a,b){var c,f,d,k,n,p,l,q,r,N;c=this.NJ;f=parseInt(b.Jb,10);d=this.gu[f];k=parseInt(a.Jb,10);n=this.ay[k+"-"+f];p=0;r=this.config;if(n&&d){n.aa=!1;n.NZ=void 0;d.ufa[k]=!1;q=d.Zga;if(r.zt&&k===f&&b.isPrimary){N=c.nY(b.url);N=N&&N.kb&&N.kb.Zp&&N.kb.Zp.Ca||300*Math.random(0,1);N=N*Math.pow(2,n.count);N=Math.min(N,12E4);N=N+Math.random(0,1)*(1E4>N?100:1E4);n.ym=setTimeout(function(){var c;n.ym=void 0;c=this.Lva(a.url,b,k);c.Fzb(a.groupId);n.NZ=c.Aj();}.bind(this),N);}++n.count;k===f&&(p=0,q.forEach(function(a){!1===d.ufa[a]&&p++;}),q.length===p&&d.count>=r.AY&&(l=d.error,d.cv=!0,h.forEach(c.xJa(b.url).me,function(a){var b;c.So(l.yP[0],l.yP[1],a.url,l);if(this.uz){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:g.time.ea(),id:-1,servid:a.qc.id},adjust:["ts"]};c.jl(b);}},this)));this.uz&&(f={type:"logdata",target:"endplay",fields:{}},f.fields.pbres={type:"array",value:{ts:g.time.ea(),id:a.requestId,result:0,servid:a.Jb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.jl(f));}};b.prototype.A0=function(a){var b,c,f;b=a.url||a.mediaRequest.url;if(b){a=this.NJ;b=a.pIa(b);c=this.gu[b];f=this.ay[b+"-"+b];c&&c.cv&&this.config.zt&&(a.AHa(c.error.lta,!1),this.uz&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:g.time.ea(),id:-1,servid:b},adjust:["ts"]},a.jl(c)),this.gu[b]=void 0,f&&f.ym&&clearTimeout(f.ym));}};b.prototype.reset=function(){var a,b,c;a=this.ay;for(c in a)a.hasOwnProperty(c)&&(b=a[c+"-"+c])&&b.ym&&clearTimeout(b.ym);this.ay={};this.gu={};};d.P=b;},function(d,c,a){var b,h,g,p,f,k,m,t,l,q,r,D,z,G;Object.defineProperty(c,"__esModule",{value:!0});b=a(6);h=a(14);g=a(4);p=new g.Console("ASEJS_ERROR_DIRECTOR","asejs");f=a(832);k=g.Vj;m=k.zC;t={};l={};d=[h.jg.Ds,!1];a=[h.jg.Ds,!0];q=[h.jg.bz,!1];r=[h.jg.bz,!0];D=[h.jg.URL,!0];z=[-1,!1];G=[h.jg.bz,!1];t[m.dGb]=q;t[m.nPa]=q;t[m.gka]=q;t[m.zPa]=q;t[m.rPa]=r;t[m.ONa]=r;t[m.Kja]=G;t[m.s1]=G;t[m.PNa]=z;t[m.QNa]=G;t[m.RNa]=G;t[m.LNa]=q;t[m.NNa]=q;t[m.Jja]=d;t[m.MNa]=q;t[m.KNa]=G;t[m.uHb]=r;t[m.ARa]=G;t[m.rla]=G;t[m.qla]=G;t[m.o2]=G;t[m.ola]=G;t[m.zRa]=D;t[m.q2]=r;t[m.s2]=D;t[m.r2]=a;t[m.tla]=r;t[m.CRa]=D;t[m.$Q]=G;t[m.sla]=r;t[m.BRa]=r;t[m.uPa]=r;t[m.oPa]=q;t[m.jYa]=q;t[m.ePa]=q;t[m.fPa]=q;t[m.gPa]=q;t[m.hPa]=q;t[m.iPa]=q;t[m.jPa]=q;t[m.kPa]=q;t[m.lPa]=q;t[m.mPa]=q;t[m.pPa]=q;t[m.qPa]=q;t[m.sPa]=q;t[m.tPa]=q;t[m.vPa]=q;t[m.wPa]=q;t[m.xPa]=q;t[m.yPa]=q;t[m.APa]=q;t[m.BPa]=q;t[m.iYa]=G;t[m.TIMEOUT]=d;l[m.Kja]=!0;l[m.rla]=!0;l[m.qla]=!0;l[m.ola]=!0;l[m.gka]=!0;d=function(){var m5S;m5S=2;function a(a,b,c,d){var T5S,p2N,P2N;T5S=2;while(T5S!==12){p2N="networkF";p2N+="a";p2N+="iled";P2N="1SI";P2N+="YbZ";P2N+="rN";P2N+="JC";P2N+="p9";switch(T5S){case 3:P2N;t[m.o2]=b.zlb?r:G;T5S=8;break;case 2:this.bm=a;this.config=b;this.Vkb=c;this.zr=d;T5S=3;break;case 8:this.bm.on(p2N,this.Okb.bind(this));this.SF=g.time.ea();this.UU=0;T5S=14;break;case 14:this.dia={};this.sfa=new f(a,b);T5S=12;break;}}}while(m5S!==13){switch(m5S){case 7:a.prototype.vk=function(){var Q5S,a,b,c,G2N,m2N;Q5S=2;while(Q5S!==8){G2N="m";G2N+="s";m2N="Setting u";m2N+="nderflow ";m2N+="t";m2N+="imeout";m2N+=" in ";switch(Q5S){case 2:a=this;b=this.config;c=b.wda;Q5S=3;break;case 3:this.SF=Math.max(g.time.ea(),this.SF);b.oEb&&!this.AP&&(p.info(m2N+c+G2N),this.AP=setTimeout(function(){var C5S,g2N,R2N;C5S=2;while(C5S!==4){g2N="For";g2N+="cing permanent network ";g2N+="failur";g2N+="e af";g2N+="ter ";R2N="ms";R2N+=", since underflow with no";R2N+=" su";R2N+="ccess";switch(C5S){case 2:T1zz.l2N(0);p.info(T1zz.n2N(c,R2N,g2N));a.AP=void 0;a.bm.So(h.jg.Ds,!0);C5S=4;break;}}},c));Q5S=8;break;}}};a.prototype.ava=function(){var U5S,C2N;U5S=2;while(U5S!==1){C2N="Cleared underf";C2N+="low ti";C2N+="me";C2N+="ou";C2N+="t";switch(U5S){case 2:this.AP&&(clearTimeout(this.AP),this.AP=void 0,p.info(C2N));U5S=1;break;}}};return a;break;case 2:a.prototype.Uzb=function(a){var b5S;b5S=2;while(b5S!==1){switch(b5S){case 2:this.Q_=a;b5S=1;break;case 4:this.Q_=a;b5S=0;break;b5S=1;break;}}};a.prototype.So=function(a,c,f,d){var I5S,g,n,m,u,y,r,E,D,M,F33,u33,I2N,Y2N,s2N;I5S=2;while(I5S!==23){F33=" : cri";F33+="tical erro";F33+="r count = ";u33=" ";u33+="o";u33+="n ";I2N="Fa";I2N+="ilu";I2N+="re ";Y2N="Unmapped failure code i";Y2N+="n JSASE";Y2N+=" error director : ";s2N="Invalid";s2N+=" affected f";s2N+="or network fai";s2N+="lure";switch(I5S){case 26:p.error(s2N);return;break;case 24:T1zz.D2N(1);p.error(T1zz.N2N(f,Y2N));I5S=23;break;case 15:I5S=void 0!==a.host&&void 0!==a.port?27:26;break;case 4:m=f?n[f]:void 0;n={};u=this.config;y=this.bm;p.warn(I2N+m+u33+JSON.stringify(a)+F33+this.UU);I5S=6;break;case 18:D=r[0];M=r[1];u.mq?b.forEach(n,function(b,k){var E5S,e33;E5S=2;while(E5S!==5){e33="e";e33+="r";e33+="ro";e33+="r";switch(E5S){case 2:r===G||r===q?g.sfa.kvb({url:void 0!==a.url?a.url:b[0],Jb:k},{lta:k,yP:r,AM:c,eh:f,Fxa:m,Ti:d}):b.some(function(a){var t5S;t5S=2;while(t5S!==5){switch(t5S){case 2:y.So(D,M,a);return D===h.jg.bz;break;}}});!g.Q_||0!==c&&void 0!==c||(b=void 0!==a.url?a.url:b[0])&&g.Q_.Pga(e33,b);E5S=5;break;}}}):b.forEach(n,function(b,f){var j5S,q33;j5S=2;while(j5S!==5){q33="e";q33+="r";q33+="r";q33+="o";q33+="r";switch(j5S){case 1:b.some(function(a){var L5S;L5S=2;while(L5S!==5){switch(L5S){case 2:y.So(D,M,a);return D===h.jg.bz;break;}}}),!g.Q_||0!==c&&void 0!==c||(b=void 0!==a.url?a.url:b[0])&&g.Q_.Pga(q33,b);j5S=5;break;case 2:j5S=r!==G||g.sxb(f)?1:5;break;}}});I5S=23;break;case 2:g=this;n=k.zC.name;I5S=4;break;case 20:E=y.pIa(a.url);I5S=19;break;case 27:n=y.mzb(a.host,a.port);I5S=18;break;case 11:I5S=r!==z?10:23;break;case 19:E&&(n[E]=[a.url]);I5S=18;break;case 10:I5S=void 0!==a.url?20:15;break;case 14:r=t[f];this.bY={AM:c,eh:f,Fxa:m,Ti:d};l[f]&&++this.UU;I5S=11;break;case 6:I5S=f&&b.isArray(t[f])?14:24;break;}}};a.prototype.sxb=function(a){var c5S,b,c,f;c5S=2;while(c5S!==13){switch(c5S){case 2:b=g.time.ea();c=this.config;f=this.dia[a];c5S=3;break;case 3:c5S=f?9:14;break;case 9:c5S=f.Kg<this.SF?8:7;break;case 8:f.Kg=b,f.count=1;c5S=13;break;case 7:c5S=!(f.Kg>=b-c.l0||f.cv||(f.Kg=b,++f.count,f.count<c.AY))?6:13;break;case 6:return f.cv=!0;break;case 14:this.dia[a]={Kg:b,count:1};c5S=13;break;}}};a.prototype.Okb=function(a){var x5S,b,c,f,d,h,k,n,b33,y33,t33,o33,x33;x5S=2;while(x5S!==6){b33=" last ";b33+="suc";b33+="cess";b33+=" was ";y33="Net";y33+="wor";y33+="k has fa";y33+="iled ";t33="te";t33+="m";t33+="po";t33+="ra";t33+="rily";o33="per";o33+="mane";o33+="nt";o33+="ly";x33=" ";x33+="ms ";x33+="a";x33+="g";x33+="o";switch(x5S){case 3:n=this.config;T1zz.D2N(2);p.warn(T1zz.n2N(x33,a?o33:t33,c,y33,b33));!a&&c>n.eea&&(f=!0);f?(this.UG&&(clearTimeout(this.UG),this.UG=void 0),this.ava(),this.sfa.reset(),this.bY&&(d=this.bY.eh,h=this.bY.AM,k=this.bY.Ti),this.Vkb({Pmb:a,Qsb:d,Rsb:h,Ssb:k})):this.UG||(this.UG=setTimeout(function(){var k5S;k5S=2;while(k5S!==5){switch(k5S){case 2:b.UG=void 0;b.xO();k5S=5;break;}}},n.fea));x5S=6;break;case 2:b=this;c=g.time.ea()-this.SF;f=a;x5S=3;break;}}};a.prototype.xO=function(a){var e5S;e5S=2;while(e5S!==1){switch(e5S){case 2:this.UG||(this.bm.xO(!!a),this.dia={},this.zr());e5S=1;break;}}};a.prototype.A0=function(a){var p5S,b;p5S=2;while(p5S!==9){switch(p5S){case 3:b.mq&&this.sfa.A0(a);p5S=9;break;case 2:b=this.config;this.SF=Math.max(a.timestamp||g.time.ea(),this.SF);this.ava();p5S=3;break;}}};a.prototype.JN=function(){var l5S;l5S=2;while(l5S!==1){switch(l5S){case 4:this.UU=8;l5S=0;break;l5S=1;break;case 2:this.UU=0;l5S=1;break;}}};m5S=7;break;}}}();c.OQa=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.Cs||(c.Cs={});d[d.AUDIO=0]="AUDIO";d[d.VIDEO=1]="VIDEO";},function(d,c,a){var g,p,f,k;function b(a,b,c,f){p.call(this,a,b,c,f);}function h(a,b,c){p.call(this,a,b,c,void 0);}g=a(86);p=a(403).FI;f=a(407);k=a(77).rqa;b.prototype=Object.create(p.prototype);h.prototype=Object.create(b.prototype);h.prototype.Y0a=function(a,b){return"string"===typeof b?f[b]:b?f.reset[a]||f.SAb[a]:f.SAb[a];};h.prototype.fHa=function(a,b,c,f){return this.Sa(a,b,!1,c,f);};h.prototype.kHa=function(a,b,c,f){return this.Sa(a,b,!0,c,f);};h.prototype.Sa=function(a,b,c,f,d){var k,n,m,p,t,l,q,u,y,r,E,B,H,L;function h(a){n=k[a];m=n.zq("traf");if(void 0===m||void 0===m.Gt)return!1;p=m.zq("tfdt");if(void 0===p)return!1;t=m.zq("trun");return void 0===t?!1:!0;}if(!this.parse())return!1;k=this.Mc.moof;if(!k||0===k.length)return!1;if(void 0!==a)for(l=a,a=0;a<k.length;++a){if(!h(a))return!1;if(t.je>l||c&&t.je===l)break;l-=t.je;}else if(a=c?k.length-1:0,!h(a))return!1;if(c&&a<k.length-1){q=k[a+1];this.dg.Dk(this.eQb-q.startOffset,q.startOffset);}else!c&&0<a&&this.dg.Dk(n.startOffset,0);q=m.zq("tfhd");if(void 0===q)return!1;p=m.zq("tfdt");u=t.je;y=m.zq("saiz");r=m.zq("saio");E=m.zq(g.vna);B=m.zq("sbgp");if(!(!y&&!r||y&&r))return!1;H=m.zq("sdtp");if(this.Mc.mdat&&a<this.Mc.mdat.length)L=this.Mc.mdat[a];else if(a!==k.length-1)return!1;void 0===l&&(l=c?t.je:0);if(t.Sa(m,q,L||this.dg,b,l,m.Gt,c))t.DV&&(!c&&p&&p.Sa(t.KAb),y&&r&&(y.Sa(t.jH,c),r.Sa(E?0:y.sga,m.Gt,c)),E&&E.Sa(t.jH,c),H&&H.Sa(t.jH,u,c),B&&B.Sa(t.jH,c));else if(!c){if(a===k.length-1)return!1;this.dg.Dk(k[a+1].startOffset-n.startOffset,n.startOffset);}else if(0===t.jH)return!1;f&&(b=this.Y0a(this.stream.profile,d))&&t.qxb(m,q,L,c,f,b);c=this.dg.Sa();f=c.reduce(function(a,b){return a+b.byteLength;},0);c={tg:c,length:f,lB:this.dg.view.byteLength};t.DV&&!L&&(c.RG=m.Gt+t.RG,c.bv=t.bv);return c;};d.P={Kv:h,hN:function(a){var b,c;b=new ArrayBuffer(8);c=new DataView(b);c.setUint32(0,a+8);c.setUint32(4,k("mdat"));return b;}};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(131);a(131);h=a(77);d=function(){function a(a,b,c){this.view=a;this.console=b;this.config=c;this.view=a;this.console=b;this.fB=this.oU=this.offset=0;}a.prototype.Ehb=function(a){return new DataView(this.view.buffer,this.view.byteOffset+this.offset,a);};a.prototype.Qf=function(a){for(;this.fB<a;)this.oU=(this.oU<<8)+this.kd(),this.fB+=8;this.fB-=a;return this.oU>>>this.fB&(1<<a)-1;};a.prototype.kd=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};a.prototype.Pg=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};a.prototype.Ab=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};a.prototype.Jfa=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};a.prototype.Itb=function(a,b){var c;c=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);b||0===(c&4278190080)||this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296*c+a;};a.prototype.Yi=function(a,b){a=this.Itb(a,b);this.offset+=8;return a;};a.prototype.Jtb=function(){var a,b;a=this.view.getInt32(this.offset+0,void 0);b=this.view.getUint32(this.offset+4,void 0);0===((0<a?a:-a)&4278190080)||this.console.warn("Warning: read signed value > 56 bits");return 4294967296*a+b;};a.prototype.fwb=function(){var a;a=this.Jtb();this.offset+=8;return a;};a.prototype.by=function(){return h.mz(this.Ab());};a.prototype.XZ=function(){var b,c,d,h,g,n;function a(a,b){return("000000"+a.toString(16)).slice(2*-b);}b=this.Ab(!0);c=this.Pg(!0);d=this.Pg(!0);h=this.Pg();g=this.Pg();n=this.Ab();return[a(b,4),a(c,2),a(d,2),a(h,2),a(g,2)+a(n,4)].join("-");};a.prototype.$vb=function(){var a;a=this.view.byteOffset+this.offset;return this.view.buffer.slice(a,a+16);};a.prototype.Yvb=function(a){var b;b=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var c=this.kd();0!==c&&0<=--a;)b.push(c),c=this.kd();return String.fromCharCode.apply(null,b);};a.prototype.UZ=function(a){var c,d;void 0===c&&(c=1);void 0===d&&(d=!0);return this.Hd(this.config.IH&&b.pkb||b.CF,1,a,c,d);};a.prototype.Xvb=function(a){var c,d,h;d=10;h=!1;void 0===d&&(d=2);void 0===h&&(h=!0);void 0===c&&(c=!1);return this.Hd(this.config.IH&&b.nkb||b.WW,2,a,d,h,c);};a.prototype.TZ=function(a,c,d){var f;void 0===c&&(c=4);void 0===d&&(d=!0);void 0===f&&(f=!1);return this.Hd(this.config.IH&&b.okb||b.BF,4,a,c,d,f);};a.prototype.bwb=function(){for(var a=this.kd(),b=a&127;a&128;)a=this.kd(),b=b<<7|a&127;return b;};a.prototype.Hd=function(a,b,c,d,h,g){void 0===h&&(h=!0);void 0===g&&(g=!1);a=a(this.view,this.offset,c,d,g);this.offset=h||!d||d===b?this.offset+c*(d||b):this.offset+b;return a;};return a;}();c.WZa=d;},function(d,c,a){var b,h,g,p,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(132);g=a(406);p=a(77);d=a(836);f=function(){function a(a){a?(this.vm=a.vm.slice(),this.kp=a.kp.slice(),this.Ng=a.Ng.slice(),this.trim=a.trim):(this.vm=[],this.kp=[],this.Ng=[]);}Object.defineProperties(a.prototype,{empty:{get:function(){return 0===this.vm.length&&0===this.kp.length&&0===this.Ng.length;},enumerable:!0,configurable:!0}});return a;}();d=function(a){function c(b,c,d){b=a.call(this,b,c,d)||this;b.Xwa=[];b.dd=new f();return b;}b.__extends(c,a);c.s6a=function(a,b){if(b.offset+b.size<=a.byteLength)switch(b.size){case 1:a.setUint8(b.offset,b.value);break;case 2:b.UO?a.setInt16(b.offset,b.value):a.setUint16(b.offset,b.value);break;case 4:b.UO?a.setInt32(b.offset,b.value):a.setUint32(b.offset,b.value);break;case 8:h.assert(!b.UO);a.setUint32(b.offset,Math.floor(b.value/4294967296));a.setUint32(b.offset+4,b.value&4294967295);break;default:h.assert(!1);}};Object.defineProperties(c.prototype,{DV:{get:function(){return!this.dd.empty;},enumerable:!0,configurable:!0}});c.prototype.V0=function(a,b){this.dd.kp.push({offset:void 0!==b?b:this.offset,value:a,size:1});void 0===b&&(this.offset+=1);};c.prototype.tFb=function(a){this.dd.kp.push({offset:!1,value:a,size:2,UO:!1});};c.prototype.jp=function(a,b){this.dd.kp.push({offset:void 0!==b?b:this.offset,value:a,size:4,UO:!1});void 0===b&&(this.offset+=4);};c.prototype.uFb=function(a,b){this.dd.kp.push({offset:void 0!==b?b:this.offset,value:a,size:8,UO:!1});void 0===b&&(this.offset+=8);};c.prototype.FLa=function(a){this.jp(p.rqa(a));};c.prototype.Uia=function(a,b){this.dd.Ng.push({offset:this.offset,Xm:a,value:b});this.offset+=4;};c.prototype.Dk=function(a,b,c){this.dd.vm.push({offset:b,remove:a,hb:c});};c.prototype.e_=function(a,b,c,f){this.dd.vm.push({offset:c,remove:a,replace:b,hb:f});};c.prototype.trim=function(a){this.dd.trim=a;};c.prototype.Mvb=function(){this.Xwa.push(new f(this.dd));};c.prototype.Dub=function(){this.dd=this.Xwa.pop()||new f();};c.prototype.Sa=function(){var a,b,f,d,h,k,g;a=this;if(0===this.dd.vm.length&&0===this.dd.kp.length&&0===this.dd.Ng.length)return[void 0===this.dd.trim?this.view.buffer:this.view.buffer.slice(0,this.dd.trim)];this.dd.vm.sort(function(a,b){return a.offset-b.offset;});this.dd.kp.sort(function(a,b){return a.offset-b.offset;});this.Nxb();b=this.Gfb();f=this.view.buffer.slice(0,b);d=new DataView(f);this.dd.kp.forEach(c.s6a.bind(void 0,d));this.FDb(d);this.EDb(d);h=[];k=void 0!==this.dd.trim?Math.min(this.dd.trim,this.view.byteLength):this.view.byteLength;g=0;this.dd.vm.filter(function(a){return a.offset<=k;}).forEach(function(c){c.offset>g&&(h.push(d.buffer.slice(g,c.offset)),c.offset>d.byteLength&&d!==a.view&&(d=a.view,h.push(d.buffer.slice(b,c.offset))));c.replace&&h.push(c.replace);g=c.offset+c.remove;});g<b&&h.push(f.slice(g));g<k&&h.push(this.view.buffer.slice(Math.max(f.byteLength,g),k));return h;};c.prototype.Gfb=function(){var a,b,c;a=[];b=this.dd.kp[this.dd.kp.length-1];c=this.dd.Ng[this.dd.Ng.length-1];b&&a.push(b.offset+b.size);c&&a.push(c.offset+4);this.dd.vm.filter(function(a){return a.hb;}).forEach(function(b){return a.push(b.hb.byteOffset+4);});b=Math.max.apply(void 0,a);return void 0!==this.dd.trim?Math.min(b,this.dd.trim):b;};c.prototype.Nxb=function(){this.dd.vm=this.dd.vm.reduce(function(a,b){var c,f;if(0===a.length)return a.push(b),a;c=a[a.length-1];f=c.offset+c.remove;b.offset>=f?a.push(b):b.offset+b.remove>f&&(h.assert(c.hb===b.hb),c.remove+=b.offset+b.remove-f,b.replace&&(c.replace=c.replace?g.concat(c.replace,b.replace):b.replace));return a;},[]);};c.prototype.FDb=function(a){var b;b=this;this.dd.Ng.forEach(function(c){var f,d,h,k;f=a;d=c.offset;b.dd.vm.some(function(a){return a.offset<=c.offset&&a.replace&&a.offset+a.replace.byteLength>=c.offset+4?(f=new DataView(a.replace),d=c.offset-a.offset,!0):!1;});h=c.Xm+(void 0!==c.value?c.value:f.getInt32(d));k=b.dd.vm.reduce(function(a,b){return b.offset>c.Xm&&b.offset<h?a+(b.remove-(b.replace?b.replace.byteLength:0)):a;},0);f.setInt32(d,h-c.Xm-k);});};c.prototype.EDb=function(a){this.dd.vm.forEach(function(b){var c;c=(b.remove||0)-(b.replace?b.replace.byteLength:0);if(0!==c)for(b=b.hb;b;)a.setUint32(b.byteOffset,a.getUint32(b.byteOffset)-c),b=b.parent;});};return c;}(d.WZa);c.VZa=d;},function(d){d.P=function a(b,d){var h;b.__proto__&&b.__proto__!==Object.prototype&&a(b.__proto__,d);Object.getOwnPropertyNames(b).forEach(function(a){h=Object.getOwnPropertyDescriptor(b,a);void 0!==h&&Object.defineProperty(d,a,h);});};},function(d,c,a){var b,h,g,p,f,k,m,t,l,q,r,D;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(838);g=a(406);p=a(132);f=a(234);k=a(26);d=a(409);m=a(408);t=a(405);l=a(131);q=a(235);r=a(86);D=a(404);a=function(){function a(a,b,c,f,d,h){this.console=a;this.stream=b;this.sq=f;this.N5a=d;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);this.config=h||{};this.elb=l.Khb();}a.path=function(a,b){return b.reduce(function(a,b){return a&&a.Mc[b]&&a.Mc[b][0];},a);};a.Lib=function(a){return a&&a.h8&&-1!==a.h8.indexOf("mcl0")?"mcl0":void 0;};a.Mfb=function(a,b){var c;p.assert("mcl0"===a,"Unsupported McClearen brand");c=b.Y;a=c.Fd;b=new f.sa(120,1).hg(c.X).Gb;for(var d=0,c=c.Lj;d<a.length&&c<b;)c+=a[d++];return d;};a.prototype.parse=function(a){var b;b=this.nyb();if(!b.done){if(b.kEa)return{Ux:!1,O5a:b.kEa};this.console.error("Scan error: "+b.error);return{Ux:!1,parseError:b.error||"unknown mp4 scan error"};}b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+b.offset);this.view=new DataView(b);a=this.$sb(a);return a.done?this.m$a():(this.console.error("Parse error: "+a.error),{Ux:!1,parseError:a.error||"unknown mp4 parse error"});};a.prototype.rA=function(a){return k.Tf.rA(this,a);};a.prototype.sA=function(a){return k.Tf.sA(this,a);};a.prototype.nyb=function(){var c,f;c=new D.GRa(this.sq,this.N5a?[r.kR,r.jR]:[],this.config&&this.config.LVb||["moof",r.$ma],this.config&&this.config.zFa);f=b.__assign(b.__assign({},this.config),{Oea:!1});return new t.q1(a.vga,c,this.view,this.console,f).parse();};a.prototype.$sb=function(a){var c,f,d;c=new D.tka(this.view.byteLength);f=Object.create(q.pG.Mc);this.config&&((this.config.yFa||this.config.tKa||this.config.U_)&&h(q.pG.tga,f),this.config.uia&&h(q.pG.aDb,f),this.config.tKa&&h(q.pG.uKa,f));d=b.__assign(b.__assign({},this.config),{Oea:!0});this.dg=new t.q1(f,c,this.view,this.console,d);a=this.dg.parse(a);a.done&&(this.Mc=this.dg.Mc);return a;};a.prototype.m$a=function(){var b,c,d,h,k,n;b={Ux:!0};c=a.path(this,["moov"]);d=a.path(c,["trak","mdia","minf","stbl","stsd"]);if(this.config.yFa)if(d)b.Ta=d.Ta,b.dVb=d.Mc;else return{Ux:!1,parseError:"Missing sample descriptions"};h=a.path(d,["encv","sinf","schi"]);h&&(h=a.path(h,["tenc"])||a.path(h,[r.wna]))&&(b.IV={VPb:h.Cx,jCa:h.jCa,PSb:!1});if(h=a.path(c,["trak","mdia","mdhd"]))b.X=h.X;if(h=a.path(c,["mvex","trex"]))b.RE=h&&h.xd.RE;b.RE&&b.X&&(b.Ta=new f.sa(b.RE,b.X));if(h=a.path(this,["sidx"])){k=a.path(this,[r.kR]);k=k&&k.Upb;n=a.path(this,[r.jR]);n=n&&n.di;b.Y=h.Y;b.nG=k;b.di=n;}if(k=this.Mc.vmaf&&this.Mc.vmaf[0])b.yy=k.yy;if(this.config.Yxb)if(c)this.trim(c.byteOffset+c.byteLength),this.config.U_&&d&&1<d.gn&&h&&(b.mi=this.U_(d,h)),void 0===b.mi&&(c=this.dg.DV?g.concat(this.dg.Sa()):this.view.buffer,b.mi=[{vA:0,data:c}]);else return{Ux:!1,parseError:"Missing movie box"};b.Ux=!0;b.uZ=this.dg.offset;return b;};a.prototype.trim=function(a){var b;b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+Math.min(a,this.view.byteLength));this.dg.trim(a);this.view=new DataView(b);};a.prototype.U_=function(b,c){var f,d,h;f=Object.keys(b.Mc);d=f.filter(function(a){return"encv"!==a;});if(!(2>f.length||d.length===f.length||0===d.length)){f=a.path(this,["ftyp"]);h=a.Lib(f);if(h)return f=[],this.dg.Mvb(),b.iHa("encv"),f.push({vA:0,wj:!1,data:g.concat(this.dg.Sa())}),this.dg.Dub(),b.iHa(d[0]),b=a.Mfb(h,c),f.push({vA:b,wj:!0,data:g.concat(this.dg.Sa())}),f;}};a.vga={};return a;}();c.Wy=a;a.vga[r.R2]=d["default"];a.vga[r.S2]=m["default"];},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a,b,c,d,h;this.Rf();a=this.Ur([{qia:"int32"},{pwa:"int32"},{iV:"int32"},{kV:"int32"},{jV:"int32"}]);b=a.qia;c=a.pwa;d=a.iV;h=a.jV;a=a.kV;this.xd={bb:b,Acb:c,RE:d,lwa:h,mwa:a};this.qia=b;this.pwa=c;this.iV=d;this.kV=a;this.jV=h;return!0;};c.Je="trex";c.ic=!1;return c;}(a(26).Tf);c["default"]=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=a(86);a=a(26);h=d.Q2;a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Rf();this.xd=this.Ur([{hZ:"int32"},{zL:"int16"}]);return!0;};c.Je=h;c.ic=!1;return c;}(a.Tf);c["default"]=a;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(232);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Rf();this.yQa=h.Pka.HGa(this.L);return!0;};c.Je="esds";c.ic=!1;return c;}(a(26).Tf);c["default"]=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.kF=function(){var a;a=this.sA("esds");if(a=a&&a.yQa.sA(5))this.lW=a.lW;return!0;};c.Je="mp4a";c.ic=!0;return c;}(a(174)["default"]);c["default"]=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a;this.L.kd();this.mMa=this.L.kd();this.L.kd();this.L.kd();this.L.kd();this.iJa=this.J5(this.L.kd()&31);this.J5(this.L.kd());this.OZ=this.iJa.length?this.iJa[0][0]:this.mMa;this.bsa=this.L.offset;this.startOffset+this.length<this.L.offset&&(100===this.OZ||110===this.OZ||122===this.OZ||144===this.OZ)&&(this.L.kd(),this.L.kd(),this.J5(this.L.kd()));a=this.startOffset+this.length-this.bsa;0<a&&this.Dk(a,this.bsa);return!0;};c.prototype.J5=function(a){var d;for(var b=[],c=0;c<a;++c){d=this.L.Pg();b.push(this.L.UZ(d));}return b;};c.Je="avcC";c.ic=!1;return c;}(a(26).Tf);c["default"]=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(26);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Rf();this.XHa=this.L.by();h.yb&&this.L.console.trace("SchemeTypeBoxTranslator: "+this.XHa);"cenc"===this.XHa&&(this.L.offset-=4,h.yb&&this.L.console.trace("SchemeTypeBoxTranslator: writing type piff at offset "+this.L.offset),this.ab.FLa("piff"));this.L.Ab();return!0;};c.Je="schm";c.ic=!1;return c;}(h.Tf);c["default"]=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var b;this.Wrb=this.L.Pg()&7;this.MBb=[];for(var a=0;a<this.Wrb;a++){b={ygb:this.L.Qf(2),a8a:this.L.Qf(5),b8a:this.L.Qf(5),X4a:this.L.Qf(3),USb:this.L.Qf(1),Vrb:this.L.Qf(4)};0<b.Vrb?b.zPb=this.L.Qf(9):this.L.Qf(1);this.MBb.push(b);}return!0;};c.Je="dec3";return c;}(a(26).Tf);c["default"]=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.ygb=this.L.Qf(2);this.a8a=this.L.Qf(5);this.b8a=this.L.Qf(3);this.X4a=this.L.Qf(3);this.L.Qf(1);this.L.Qf(5);this.L.Qf(5);return!0;};c.Je="dac3";return c;}(a(26).Tf);c["default"]=d;},function(d,c,a){var b,h,g,p,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(86);g=a(234);p=a(174);d=a(26);f=a(85);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Rf();this.gn=this.L.Ab();return!0;};c.prototype.kF=function(a){var b;b=Object.keys(this.Mc);b.length&&(b=b[0],this.Mc[b].length&&(b=this.Mc[b][0],b instanceof p["default"]?this.Ta=new g.sa(b.lW,b.SHa):b instanceof f["default"]&&(b=b.Mc[h.Q2])&&b.length&&(b=b[0].xd,1E3!==b.zL&&1001!==b.zL||0!==b.hZ%1E3?this.L.console.warn("Unexpected frame rate in NetflixFrameRateBox: "+b.hZ+"/"+b.zL):this.Ta=new g.sa(b.zL,b.hZ)),this.Ta&&(a.Ta=this.Ta)));return!0;};c.prototype.iHa=function(a){void 0!==this.Mc[a]&&0!==this.Mc[a].length&&(this.ab.jp(this.gn-1,this.byteOffset+12),a=this.Mc[a][0],this.Dk(a.byteLength,a.byteOffset));};c.Je="stsd";c.ic=!0;return c;}(d.Tf);c["default"]=a;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(77);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Rf();this.xd=this.Ur([{DUb:"int32"},{zAa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.xd.zAa=h.mz(this.xd.zAa);return!0;};c.Je="hdlr";c.ic=!1;return c;}(a(26).Tf);c["default"]=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.L.by();this.L.by();for(this.h8=[];this.L.offset<=this.byteOffset+this.byteLength-4;)this.h8.push(this.L.by());return!0;};c.Je="ftyp";c.ic=!1;return c;}(a(26).Tf);c["default"]=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.xd=this.Ur([{lPb:"int32"},{Jo:"int32"},{u7a:"int32"}]);return!0;};c.Je="btrt";c.ic=!1;return c;}(a(26).Tf);c["default"]=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.xd=this.Ur([{gSb:"int32"},{mWb:"int32"}]);return!0;};c.Je="pasp";c.ic=!1;return c;}(a(26).Tf);c["default"]=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Rf();this.xd=this.Ur(1===this.version?[{lya:"int64"}]:[{lya:"int32"}]);return!0;};c.Je="mehd";c.ic=!1;return c;}(a(26).Tf);c["default"]=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){var a;this.Rf();a=1===this.version?[{Eh:"int64"},{modificationTime:"int64"},{bb:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{Eh:"int32"},{modificationTime:"int32"},{bb:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{Rnb:"int16"},{d6a:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.xd=this.Ur(a);this.xd.TVb=!!(this.Xe&1);this.xd.UVb=!!(this.Xe&2);this.xd.VVb=!!(this.Xe&4);this.xd.WVb=!!(this.Xe&8);this.L.console.trace("Finished parsing track box");return!0;};c.Je="tkhd";c.ic=!1;return c;}(a(26).Tf);c["default"]=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.Je="trak";c.ic=!0;return c;}(a(26).Tf);c["default"]=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.parse=function(){this.Rf();this.xd=1===this.version?this.Ur([{Eh:"int64"},{modificationTime:"int64"},{X:"int32"},{duration:"int64"}]):this.Ur([{Eh:"int32"},{modificationTime:"int32"},{X:"int32"},{duration:"int32"}]);return!0;};c.Je="mvhd";c.ic=!1;return c;}(a(26).Tf);c["default"]=d;},function(d,c,a){var b,h,g,p,f,k,m;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(100);g=a(7);d=a(4);p=a(402);a=a(413);f=new d.Console("FRAGMENTS","media|asejs");try{k=!0;}catch(t){k=!1;}m=function(a){function c(b,c){c=a.call(this,b.zm,c)||this;c.Ez=b;return c;}b.__extends(c,a);Object.defineProperties(c.prototype,{ba:{get:function(){return this.Ez.IAb(this.lj);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Ez.Ng(this.lj);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{$da:{get:function(){return this.Ez.nG&&this.Ez.nG[this.lj];},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{di:{get:function(){return this.Ez.Lgb(this.lj);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{uc:{get:function(){return this.Ez.yy&&this.Ez.yy[this.lj];},enumerable:!0,configurable:!0}});c.prototype.toJSON=function(){return{index:this.index,contentStartTicks:this.eb,contentEndTicks:this.rb,durationTicks:this.so,timescale:this.X,startPts:this.S,endPts:this.ia,duration:this.duration,additionalSAPs:this.di};};return c;}(a.rZa);c.vNb=m;d=function(){function a(a,b,c,d,h,k){this.ND=128;this.dc=a;this.Nd=b.offset;this.Tm=b.sizes;this.mD=this.pJ=this.Gg=this.Bsa=this.Z5=void 0;this.X1a=c;this.g4=d&&d.Ng;this.Nsa=h;this.hw=Math.min(this.dc.length,this.Tm.length);this.K1a=this.C8a();this.zm.Un.length!==this.Tm.length&&f.error("Mis-matched stream duration ("+this.zm.Un.length+","+this.Tm.length+") for movie id "+k);this.zm.aU&&!this.g4&&f.error("Mis-matched additional SAPs information for movie id "+k);}a.WPb=function(a,b){var c,f;b=b.X;c=b/1E3;f=new DataView(a);a=Math.floor(a.byteLength/16);return{X:b,Lj:f.getUint32(4)*c,offset:65536*f.getUint32(8)+f.getUint16(12),sizes:h.IPa.BF(f,0,a,16),Fd:h.T3.from(Uint32Array,{length:a},function(a,b){return f.getUint16(16*b+14)*c;})};};Object.defineProperties(a.prototype,{M:{get:function(){return this.dc.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.hw;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Lj:{get:function(){return this.dc.Lj;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{P9:{get:function(){return this.dc.P9;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.dc.S;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ia:{get:function(){return this.dc.ia;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zda:{get:function(){return this.dc.zda;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zY:{get:function(){return this.K1a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ta:{get:function(){return this.dc.Ta;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.dc.X;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Qh:{get:function(){return this.Bsa||this.r4();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{nG:{get:function(){return this.X1a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{hta:{get:function(){return this.g4;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{yy:{get:function(){return this.Nsa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zm:{get:function(){return this.dc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{iH:{get:function(){return this.Z5||this.i0a();},enumerable:!0,configurable:!0}});a.prototype.IAb=function(a){if(this.Tm)return this.Tm[a];f.error("sizesByIndex _sizes is undefined");return-1;};a.prototype.Nh=function(a){return this.dc.Nh(a);};a.prototype.Q9=function(a){return this.dc.Nh(a)+this.dc.Fd(a);};a.prototype.Ng=function(a){if(this.pJ!==a||void 0===this.mD){if(0===a)return this.Nd;if(this.pJ===a-1&&void 0!==this.mD)this.mD+=this.Tm[this.pJ],++this.pJ;else{for(var b=this.Gg||this.O_a(),c=Math.floor(a/this.ND),f=c*this.ND,b=b[c];f<a;++f)b+=this.Tm[f];this.pJ=a;this.mD=b;}}return this.mD;};a.prototype.Fd=function(a){return this.dc.Fd(a);};a.prototype.get=function(a){return new m(this,a);};a.prototype.Lgb=function(a){var b,c,f;g.assert(0<=a);b=this.zm.aU;c=this.zm.ita;f=this.g4;if(!f||!b||!c||a>=b.length)return[];for(var d=[],h=a===b.length-1?c.length:b[a+1],b=b[a];b<h;++b)d.push({um:c[b],Oc:this.Nh(a)+this.Ta.TY(c[b]).Ka,offset:f[b]});return d;};a.prototype.bAb=function(a){this.Nsa=a;};a.prototype.Tl=function(a,b,c){return this.dc.Tl(a,b,c);};a.prototype.XV=function(a,b,c){return this.dc.XV(a,b,c);};a.prototype.v8=function(a,b){return this.dc.v8(a,b);};a.prototype.VX=function(a,b,c){var f,d,h,k,g,n,m,p,t;f=!0;d=0;k=this.dc.Un;g=this.Tm;n=Math.floor(a*this.X/1E3);m=0;p=0;t=0;if(this.dc.Dia&&this.dc.Cia)for(d=this.dc.Dia;d<=this.dc.Cia;++d)m+=k[d],p+=g[d];if(p>b)f=!1;else for(;d<this.length&&(!c||d<c);){h=g[d];a=k[d];if(p+h>b&&m<n){f=!1;this.dc.Dia=t;this.dc.Cia=d;break;}for(;0<d-t&&p+h>b;)m-=k[t],p-=g[t],++t;m+=a;p+=h;++d;}return f;};a.prototype.subarray=function(b,c){g.assert(void 0===b||0<=b&&b<this.length);g.assert(void 0===c||c>b&&c<=this.length);return new a(this.dc.subarray(b,c),{offset:this.Ng(b),sizes:this.Tm.subarray(b,c)},this.nG&&this.nG.subarray(b,c),this.hta&&{Ng:this.hta});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length};};a.prototype.dump=function(){var b;f.trace("StreamFragments: "+this.length);for(var a=0;a<this.length;++a){b=this.get(a);f.trace("StreamFragments: "+a+": ["+b.S+"-"+b.ia+"] @ "+b.offset+", "+b.ba+" bytes");}};a.prototype.C8a=function(){var a,b,c,f,d;b=0;c=this.dc.nDa;f=this.dc.Un;d=this.Tm;if(void 0===c||c>=this.length){for(var h=0;h<this.length;++h)a=d[h]/f[h],a>b&&(b=a,c=h);void 0===this.dc.nDa&&(this.dc.nDa=c);}else b=d[c]/f[c];return Math.floor(b*this.X/125);};a.prototype.r4=function(){for(var a=0,b=0;b<this.length;++b)a+=this.Tm[b];return this.Bsa=a;};a.prototype.i0a=function(){return this.Z5=new p.Zoa(this.dc.Un,this.Tm,this.dc.X);};a.prototype.O_a=function(){var a;if(!this.Gg){a=k?new Float64Array(Math.ceil(this.length/this.ND)):Array(Math.ceil(this.length/this.ND));for(var b=this.Nd,c=0;c<a.length;++c){a[c]=b;for(var f=0;f<this.ND;++f)b+=this.Tm[c*this.ND+f];}this.Gg=a;}return this.Gg;};return a;}();c.SYa=d;d.prototype.pJa=a.lda(d.prototype.Nh);},function(d,c,a){var h,g,p,f,k,m,t;function b(a,b){var c,f;c=Math.floor(1E3*a/b);f=1E3*Math.round(c/1E3);return new k.sa(f,Math.abs(Math.floor(1001*a/b)-f)>Math.abs(c-f)?1E3:1001);}Object.defineProperty(c,"__esModule",{value:!0});h=a(0);g=a(59);p=a(6);f=a(413);k=a(33);a(7);m=a(21);t=a(412);d=function(){function a(c,f,d){this.J=f;this.I=d;this.bra=!1;this.j5=c.VA;this.Tc=c.O;this.Ie=c.M;this.q4a=c.s0;this.j_a=c.jE;1===this.Ie&&(f=this.j5.streams[0],void 0!==f.framerate_value&&void 0!==f.framerate_scale&&(this.i5=b(f.framerate_value,f.framerate_scale).XGa()));this.Gl=(this.xD=this.i5)&&this.xD.X;this.T4=this.Gqa=!1;this.wba=-Infinity;this.WCa=Infinity;c=a.k0a(this,c.rf,c.br);f=c.Jo;d=c.zc;this.j1a=c.iX;this.J1a=f;this.ot=d;this.e4a=d.reduce(function(a,b){a[b.qa]=b;return a;},{});!1;}a.k0a=function(a,b,c){var f,d,k,n,l,q;f=a.J;d=1===a.M;k={};f.bP&&f.bP.enabled&&f.bP.profiles&&f.bP.profiles.forEach(function(a){k[a]={action:f.bP.action,applied:!1};});n=!1;l=0;q=[];a.VA.streams.forEach(function(u,r){var y,E,z,D,G;E=u.bitrate;z=u.vmaf;D=u.content_profile;G={inRange:!0,tf:!0};if(d){y=-1===u.content_profile.indexOf("none");G.tf=b&&!y||!b&&y;G.tf&&c&&g(m.eU(u.content_profile,u.bitrate,c),G);if(E<f.Aqb||E>f.Bpb)G.inRange=!1;!p.Oa(z)&&(z<f.MDa||z>f.Cpb)&&(G.inRange=!1);k.hasOwnProperty(D)&&"keepLowest"===k[D].action&&(k[D].applied?G.inRange=!1:k[D].applied=!0);n=n||y;}G.inRange&&G.tf&&E>l&&(l=E);u=new t.MMa(h.__assign({Ix:u,Tg:r,track:a},G),f,a.I);q.push(u);});return{iX:n,Jo:l,zc:q};};Object.defineProperties(a.prototype,{frb:{get:function(){return!this.yd&&!this.bra;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{yd:{get:function(){return!!this.zm&&!!this.CX;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{y9:{get:function(){return this.Gqa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.Tc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return String(this.Tc.u);},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{bb:{get:function(){return this.j5.track_id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Ie;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ta:{get:function(){return this.xD;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.Gl;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{oG:{get:function(){return this.Z1a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zm:{get:function(){return this.dc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{CX:{get:function(){return this.W4;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{VA:{get:function(){return this.j5;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{s0:{get:function(){return this.q4a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{jE:{get:function(){return this.j_a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{iX:{get:function(){return this.j1a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Jo:{get:function(){return this.J1a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zc:{get:function(){return this.ot;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M$:{get:function(){return this.Ta.X;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{L$:{get:function(){return this.Ta.Gb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return 0;},enumerable:!0,configurable:!0}});a.prototype.xr=function(a){return this.AF()[a];};a.prototype.AF=function(){return this.e4a;};a.prototype.equals=function(a){return this.u===a.u&&this.M===a.M&&this.bb===a.bb;};a.prototype.Bea=function(){this.bra=!0;};a.prototype.jZ=function(a,b,c,d,h){if(d&&void 0!==d.Lj&&(this.yd||void 0!==d.Fd&&d.Fd.length))if(a.uu&&(this.Gqa=!0),this.yd)!this.T4&&d.Fd&&d.Fd.length>this.zm.length&&(this.dc=new f.wpa(this.M,this.Ta,d,h),this.W4=a,this.wba=-Infinity,this.T4=!0);else{this.tsa(b);if(c=c||this.i5)this.ssa(c||this.i5),void 0===this.X&&this.usa(c.X);this.dc=new f.wpa(this.M,this.Ta,d,h);this.W4=a;a.uu&&(this.T4=!0);}else this.I&&this.I.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.z$a=function(a){this.yd||(this.usa(a.X),this.tsa(a.oG),this.ssa(a.Ta),this.dc=a.zm,this.W4=a.CX);};a.prototype.toJSON=function(){return{movieId:this.u,mediaType:this.M,trackId:this.bb};};a.prototype.toString=function(){return(0===this.M?"a":"v")+":"+this.bb;};a.prototype.usa=function(a){this.Gl=a;};a.prototype.tsa=function(a){this.Z1a=a;};a.prototype.ssa=function(a){this.xD=a;};return a;}();c.NMa=d;},function(d){function c(a,b){this.Ca=a;this.vh=b;}c.prototype.hfa=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,c=Math.sqrt(-2*Math.log(b/2)),c=-.70711*((2.30753+.27061*c)/(1+c*(.99229+.04481*c))-c),d=0;2>d;d++)var g=Math.abs(c),f=1/(1+g/2),g=f*Math.exp(-g*g-1.26551223+f*(1.00002368+f*(.37409196+f*(.09678418+f*(-.18628806+f*(.27886807+f*(-1.13520398+f*(1.48851587+f*(-.82215223+.17087277*f))))))))),g=(0<=c?g:2-g)-b,c=c+g/(1.1283791670955126*Math.exp(-(c*c))-c*g);a=1>a?c:-c;}return this.Ca-Math.sqrt(2*this.vh)*a;};d.P=c;},function(d,c,a){var h;function b(a){this.ZG=new Uint16Array(a.length);for(var b=0;b<a.length;++b)this.ZG[b]=a.charCodeAt(b);}h=new(a(4)).Console("ASEJS_XORCiper","media|asejs");b.prototype.constructor=b;b.prototype.encrypt=function(a){var b,c;b=this.ZG.length;if(void 0===this.ZG)h.warn("XORCiper.encrypt is called with undefined secret!");else{c="";for(var d=0;d<a.length;++d)c+=String.fromCharCode(this.ZG[d%b]^a.charCodeAt(d));return encodeURIComponent(c);}};b.prototype.decrypt=function(a){var b,c;b="";c=this.ZG.length;a=decodeURIComponent(a);for(var d=0;d<a.length;d++)b+=String.fromCharCode(this.ZG[d%c]^a.charCodeAt(d));return b;};d.P=b;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(78);h=a(7);d=function(){function a(){this.data={};}Object.defineProperties(a.prototype,{empty:{get:function(){return 0===Object.keys(this.data).length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{size:{get:function(){var a;a=this;return Object.keys(this.data).reduce(function(b,c){return b+a.data[c].length;},0);},enumerable:!0,configurable:!0}});a.prototype.get=function(a){var b;return b=this.data[a],null!==b&&void 0!==b?b:[];};a.prototype.has=function(a,b){return(a=this.data[a])?void 0===b?!0:-1!==a.indexOf(b):!1;};a.prototype.count=function(a){return(a=this.data[a])?a.length:0;};a.prototype.keys=function(){return Object.keys(this.data);};a.prototype.values=function(){var a;a=this;return b.gx(this.keys().map(function(b){return a.data[b];}));};a.prototype.set=function(a,b){(this.data[a]||(this.data[a]=[])).push(b);return this;};a.prototype.clear=function(){this.data={};};a.prototype["delete"]=function(a,b){var c,f;c=this.data[a];if(void 0===c)return!1;if(void 0===b)return h.assert(1===arguments.length),delete this.data[a],!0;f=c.indexOf(b);if(-1===f)return!1;1===c.length?delete this.data[a]:c.splice(f,1);return!0;};a.prototype.forEach=function(a,b){var c;c=this;a=void 0!==b?a.bind(b):a;this.keys().forEach(function(b){return c.data[b].forEach(function(f){return a(f,b,c);});});};a.prototype.reduce=function(a,b,c){var f,d;f=this;a=void 0!==c?a.bind(c):a;d=b;this.forEach(function(b,c){d=a(d,b,c,f);});return d;};a.prototype.map=function(a,c){var f;f=this;a=void 0!==c?a.bind(c):a;return b.gx(this.keys().map(function(b){return f.data[b].map(function(c){return a(c,b,f);});}));};a.prototype.filter=function(a,c){var f;f=this;a=void 0!==c?a.bind(c):a;return b.gx(this.keys().map(function(b){return f.data[b].filter(function(c){return a(c,b,f);});}));};return a;}();c.OUa=d;},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=function(){function a(a,b){this.o=a;this.nu=b?[b]:[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!0,configurable:!0}});a.prototype.addListener=function(a){-1===this.nu.indexOf(a)&&(this.nu=this.nu.slice(),this.nu.push(a));};a.prototype.removeListener=function(a){a=this.nu.indexOf(a);-1!==a&&(this.nu=this.nu.slice(),this.nu.splice(a,1));};return a;}();c.tMb=d;d=function(a){function c(b,c){return a.call(this,b,c)||this;}b.__extends(c,a);Object.defineProperties(c.prototype,{value:{get:function(){return this.o;},set:function(a){this.set(a);},enumerable:!0,configurable:!0}});c.prototype.set=function(a){var b,c;b=this.o;c=this.nu;this.o=a;c.forEach(function(c){return c({oldValue:b,newValue:a});});};return c;}(d);c.pR=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(16);d=a(4);h=d.Vj;new d.Console("ASEJS_SIDECHANNEL","media|asejs");d=function(){function a(a,c,d){this.hm=d;this.Q4a=new b.e_a(a);this.P4a=c.ga;this.H_a=1E3*c.Tpb/c.c8a;this.w0a=c.Ww;this.lz=c.a8;}a.prototype.bn=function(a){var c;c={s_xid:this.P4a,dl:this.w0a?1:0};a.OK&&(c.bs=b.EU(Math.floor(a.OK/this.H_a)+1,1,5));a.aZ&&(c.limit_rate=a.aZ);a.jua&&(c.bb_reason=a.jua);a.eKa&&(c.tm=a.eKa);a.RU&&a.OK&&a.OK>this.lz.yN&&(this.lz.lO[0]&&(c.cpr_ss=this.lz.lO[0]*a.RU),this.lz.lO[1]&&(c.cpr_ca=this.lz.lO[1]*a.RU),this.lz.lO[2]&&(c.cpr_rec=this.lz.lO[2]*a.RU));return this.E2a(c);};a.prototype.Pga=function(a,b){var c,f;try{c=new h(void 0,"notification");f=this.bn({jua:a});b&&f&&c.open(b,void 0,2,void 0,void 0,void 0,f);}catch(t){this.hm("SideChannel: Error when sending sendBlackBoxNotification. Error: "+t);}};a.prototype.E2a=function(a){var b;try{b=this.Q3a(a);return this.Q4a.encrypt(b);}catch(k){this.hm("SideChannel: Error when obfuscating msg. Error: "+k);}};a.prototype.Q3a=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;}();c.IYa=d;},function(d,c,a){var b,h,g,p,f,k,m,t,l,q,r,D,z;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(27);g=a(415);p=a(236);f=a(814);k=a(222);m=a(812);t=a(808);l=a(767);q=a(164);r=a(377);D=a(78);z=a(7);d=function(){function a(a){this.I=a;this.events=new h.EventEmitter();this.Zn=g.Ay.CLOSED;this.fE=[];this.dT=[];this.lw=[];this.TD=new l.VXa(this.vca.bind(this));this.c1a=new f.lRa(a);}Object.defineProperties(a.prototype,{state:{get:function(){return this.Zn;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{cFb:{get:function(){return this.fE;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{wub:{get:function(){return this.dT;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Aub:{get:function(){return this.lw;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{sb:{get:function(){this.yH();return this.Xz.sb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gm:{get:function(){this.yH();return this.Xz.gm;},enumerable:!0,configurable:!0}});a.prototype.open=function(a,b){if(this.Zn===g.Ay.OPEN)return!1;this.Xz=k.WH.Kza(a,b);this.Zn=g.Ay.OPEN;return!0;};a.prototype.E5a=function(a,b){this.yH();a=new t.KMa(this.I,a,100,b,this.yya.bind(this),this.TD.XK.bind(this.TD));this.lw.push(a);return a;};a.prototype.fxb=function(a){this.lw=this.lw.filter(function(b){return b!==a;});a.close();};a.prototype.C5a=function(a){this.yH();a=new m.JMa(a,[0,1]);this.dT.push(a);return a;};a.prototype.exb=function(a){this.yH();this.dT=this.dT.filter(function(b){return b!==a;});a.Mp();};a.prototype.M5a=function(a,c,f,d){var m,n,t;function h(a){return t[a];}function k(){}function g(a){m.events.emit("logdata",a);}m=this;this.yH();n=q.np.Mf.Qw("headers",""+a,!1,!1,{},f);t=[new r.Uma(0),new r.Uma(1)];a={pa:a,wa:c,config:f,pha:f.mA?b.__assign(b.__assign({},d),{hm:k,Up:h}):void 0,gb:function(){return!0;},hi:!0,cM:void 0,sb:this.Xz.sb,ih:this.Xz.ih,V9:{NF:function(){return!0;},zr:k,Rg:this.Rg.bind(this,a),Eo:this.Eo.bind(this,a),qm:this.qm.bind(this,a),jl:g},pba:{jl:g,QW:function(){return n;},Up:h,LX:function(){return!0;},Me:void 0,Eb:void 0,Lf:void 0,vx:void 0},EB:{lE:this.TD.lE.bind(this.TD),c_:this.TD.c_.bind(this.TD)},Wa:0,Ak:void 0,Gda:{OX:!1,lca:!1},br:[],sG:k};a=new p.g1(a);this.fE.push(a);};a.prototype.lu=function(a){return this.yya(a);};a.prototype.close=function(){this.Zn!==g.Ay.CLOSED&&(this.Vwb(),delete this.Xz,this.Zn=g.Ay.CLOSED);};a.prototype.lHa=function(a){z.assert(!a.Sfa.yw,"Viewable has outstanding leases");this.fE=this.fE.filter(function(b){return b!==a;});a.close();a.xc();};a.prototype.vca=function(){var a;a=this.Taa();return this.c1a.Esb(a);};a.prototype.Taa=function(){var a;a=this.lw.map(function(a){return a.Taa();});return D.gx(a);};a.prototype.yH=function(){if(this.Zn===g.Ay.CLOSED)throw Error("Engine CLOSED");};a.prototype.Vwb=function(){for(var a=0,b=this.fE;a<b.length;a++)this.lHa(b[a]);};a.prototype.Rg=function(a,b,c,f,d,h){this.lw.forEach(function(k){return k.Rg(b,a,c,f,d,h);});};a.prototype.Eo=function(){return this.lw.some(function(a){return a.Eo();});};a.prototype.qm=function(){this.lw.forEach(function(a){return a.qm();});};a.prototype.yya=function(a){var b;b=D.$q(this.fE,function(b){return b.pa===a;});if(b)return b;};return a;}();c.oMa=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(864);h=a(4);c.construct=function(){var a;a=new h.Console("ASEJS","media|asejs");return new b.oMa(a);};},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});d=a(865);c.construct=d.construct;},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});d=a(0);d.__exportStar(a(866),c);d.__exportStar(a(415),c);d.__exportStar(a(218),c);},function(d,c,a){var b,h,g,p,f,k,m,t;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);d=a(27);h=a(4);g=a(867);p=a(16);f=a(7);k=a(766);m=a(759);t=new h.Console("ASEJS","media|asejs");t.trace.bind(t);d=function(c){var T33;T33=2;while(T33!==12){var Q33="s";Q33+="0";switch(T33){case 8:d.prototype.Mbb=function(a,b,c,f){var S33,d;S33=2;while(S33!==9){switch(S33){case 2:d=Number(a.movieId);this.Ch.lu(d)||this.Ch.M5a(d,a,b,{mB:c.mB,ga:c.ga,Ww:c.Ww});a=a.choiceMap?m.o9a(a.choiceMap):m.HAb(d,f);S33=3;break;case 3:return this.Ch.E5a(a,b);break;}}};d.prototype.hxb=function(a){var L33,b;L33=2;while(L33!==7){switch(L33){case 2:this.Ch.fxb(a.$d);this.Ch.exb(a.Xk);L33=4;break;case 4:b=this.Ch.lu(a.u);f.assert(b);L33=9;break;case 9:b.Sfa.yw||this.Ch.lHa(b);a===this.hY&&delete this.hY;L33=7;break;}}};d.prototype.Mp=function(){var i33;i33=2;while(i33!==9){var w33="A";w33+="ttempted to destruct Shim";w33+="M";w33+="anager with players prese";w33+="nt in ASE";var U33="A";U33+="ttempted ";U33+="to destruct ";U33+="ShimManager with playgrap";U33+="hs present in ASE";var j33="Attempt to destruct ShimManag";j33+="er with lat";j33+="est session still defined";var h33="Attempte";h33+="d to destruct ShimManage";h33+="r w";h33+="ith viewables present in";h33+=" ASE";switch(i33){case 5:f.assert(0===this.Ch.cFb.length,h33);f.assert(void 0===this.hY,j33);this.Ch.close();i33=9;break;case 2:f.assert(0===this.Ch.Aub.length,U33);f.assert(0===this.Ch.wub.length,w33);i33=5;break;}}};T33=14;break;case 2:b.__extends(d,c);Object.defineProperties(d.prototype,{sb:{get:function(){var V33;V33=2;while(V33!==1){switch(V33){case 4:return this.Ch.sb;break;V33=1;break;case 2:return this.Ch.sb;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{gm:{get:function(){var J33;J33=2;while(J33!==1){switch(J33){case 4:return this.Ch.gm;break;J33=1;break;case 2:return this.Ch.gm;break;}}},enumerable:!0,configurable:!0}});d.prototype.Xb=function(){var H33;H33=2;while(H33!==1){switch(H33){case 2:this.Ch.open(this.config,this.n0);H33=1;break;}}};d.prototype.zZ=function(){};d.prototype.cn=function(a,b,c,f,h,g,m,n,t,l){var v33;v33=2;while(v33!==7){var r33="creat";r33+="ing ";r33+="s";r33+="es";r33+="sion";switch(v33){case 4:a=this.Mbb(a,n,h,l);c={Ma:l,offset:p.sa.ji(c)};t=this.Ch.lu(t).Sfa.add();return this.hY=new k.HYa(this.console,this,a,b,c,f,h,g,m,l,n,t);break;case 2:this.console.trace(r33);t=a.movieId;l=l||d.Bcb;v33=4;break;}}};T33=8;break;case 14:d.Bcb=Q33;return d;break;}}function d(b,f){var k33,d;k33=2;while(k33!==13){var A33="D";A33+="E";A33+="BUG:";var E33="nf-ase";E33+=" shim ";E33+="version:";var B33="1SI";B33+="YbZrN";B33+="JCp9";switch(k33){case 7:d.Ch=g.construct();B33;return d;break;case 4:d.n0=f;b=a(375);d.console=t;d.console.trace(E33,b,A33,!1);k33=7;break;case 2:d=c.call(this)||this;d.config=b;k33=4;break;}}}}(d.EventEmitter);c.GYa=d;},function(d){function c(a,c,d,g){a.trace(":",d,":",g);c(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addListener=function(a,d,g,p){g=p?g.bind(p):g;if(a){this.console&&(g=c.bind(null,this.console,g,d));if("function"===typeof a.addListener)a.addListener(d,g);else if("function"===typeof a.addEventListener)a.addEventListener(d,g);else throw Error("Emitter does not have a function to add listeners for '"+d+"'");this.listeners.push([a,d,g]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(c,a):"function"===typeof b.removeListener&&b.removeListener(c,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};d.P=a;},function(d,c,a){var b,h,g,p,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(0);h=a(27);g=a(868);p=a(758);f=a(222);d=new(a(4)).Console("ASEJS","media|asejs");d.trace.bind(d);d=function(a){function c(b,c){var f;f=a.call(this)||this;f.J=b;f.Qb=new p.fTa(b,c);b.K9&&(f.fv=new g.GYa(b,c));f.el=new h.pp();["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"].forEach(function(a){f.el.on(f.Qb,a,function(b){return f.emit(a,b);});f.fv&&f.el.on(f.fv,a,function(b){return f.emit(a,b);});});return f;}b.__extends(c,a);Object.defineProperties(c.prototype,{sb:{get:function(){return this.Qb.sb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{gm:{get:function(){return this.Qb.gm;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{cp:{get:function(){return this.Qb.cp;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{T_:{get:function(){return this.Qb.T_;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{qca:{get:function(){return this.Qb.qca;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Aha:{get:function(){return this.Qb.Aha;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Me:{get:function(){return this.Qb.Me;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{ih:{get:function(){return this.Qb.ih;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Hba:{get:function(){return this.Qb.Hba;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{zZ:{get:function(){return this.Qb.zZ.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{dN:{get:function(){return this.Qb.dN.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{dda:{get:function(){return this.Qb.dda.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{IIa:{get:function(){return this.Qb.IIa.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{wW:{get:function(){return this.Qb.wW.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{$za:{get:function(){return this.Qb.$za.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Bu:{get:function(){return this.Qb.Bu.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Yua:{get:function(){return this.Qb.Yua.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{C0:{get:function(){return this.Qb.C0.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{vU:{get:function(){return this.Qb.vU.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{UK:{get:function(){return this.Qb.UK.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{A7:{get:function(){return this.Qb.A7.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{VK:{get:function(){return this.Qb.VK.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{uU:{get:function(){return this.Qb.uU.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{yua:{get:function(){return this.Qb.yua.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{xua:{get:function(){return this.Qb.xua.bind(this.Qb);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{tIa:{get:function(){return this.Qb.tIa.bind(this.Qb);},enumerable:!0,configurable:!0}});c.prototype.Xb=function(a,b,c,f,d,h){this.Qb.Xb(a,b,c,f,d,h);this.fv&&this.fv.Xb(a,b,c,f,d,h);};c.prototype.cn=function(a,b,c,f,d,h,k,g,m,n){return this.fv&&g.GP?this.fv.cn(a,b,c,f,d,h,k,g,m,n):this.Qb.cn(a,b,c,f,d,h,k,g,m,n);};c.prototype.addEventListener=function(a,b){this.addListener(a,b);return!0;};c.prototype.removeEventListener=function(a,b){this.removeListener(a,b);return!0;};c.prototype.Mp=function(){var a;this.el.clear();this.Qb.Mp();null===(a=this.fv)||void 0===a?void 0:a.Mp();f.WH.reset();};return c;}(h.EventEmitter);c.dUa=d;},function(d,c){var a;Object.defineProperty(c,"__esModule",{value:!0});d=a||(a={});d[d.Dg=0]="STARTING";d[d.ye=1]="BUFFERING";d[d.Bg=2]="REBUFFERING";d[d.Jc=3]="PLAYING";d[d.YC=4]="STOPPING";d[d.Hm=5]="STOPPED";d[d.yh=6]="PAUSED";c.na=a;},function(d,c){var a;Object.defineProperty(c,"__esModule",{value:!0});d=a||(a={});d[d.Hm=0]="STOPPED";d[d.ye=1]="BUFFERING";d[d.Bg=2]="REBUFFERING";d[d.IR=3]="STREAMING";c.ff=a;},function(d,c,a){var h,g;function b(a){this.Peb=a;this.lpb={kr:"drmType",PQb:"drmVersion",b$:"expiration",LSb:"isUsingLegacyBatchingAPI",Sz:"bookmark",u:"movieId",jm:"packageId",duration:"duration",eg:"playbackContextId",nwa:["defaultTrackOrderList",{dG:"mediaId",pWb:"videoTrackId",NBb:"subtitleTrackId",tE:"audioTrackId",EUb:"preferenceOrder"}],kk:"drmContextId",alb:"hasDrmProfile",Zkb:"hasClearProfile",jX:"hasDrmStreams",$kb:"hasClearStreams",cm:["locations",{Pf:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],uq:["servers",{id:"id",name:"name",type:"type",Pf:"rank",XCa:"lowgrade",wdb:["dns",{host:"host",qmb:"ipv4",rmb:"ipv6",jgb:"forceLookup"}],key:"key"}],Wta:["audio_tracks",{type:"type",Am:"trackType",hq:"new_track_id",ria:"track_id",xvb:"profileType",fBb:"stereo",profile:"profile",lo:"channels",language:"language",c9a:"channelsFormat",cCb:"surroundFormatLabel",ZX:"languageDescription",JQb:"disallowedSubtitleTracks",xQb:"defaultTimedText",isNative:"isNative",cc:["streams",{v9:"downloadable_id",size:"size",HE:"content_profile",Am:"trackType",R:"bitrate",uu:"isDrm",me:["urls",{Hua:"cdn_id",url:"url"}],prb:"new_stream_id",type:"type",lo:"channels",c9a:"channelsFormat",cCb:"surroundFormatLabel",language:"language",SOb:"audioKey"}],J9a:"codecName",mO:"rawTrackType",id:"id"}],tv:["video_tracks",{Am:"trackType",hq:"new_track_id",type:"type",ria:"track_id",alb:"hasDrmProfile",Zkb:"hasClearProfile",jX:"hasDrmStreams",$kb:"hasClearStreams",cc:["streams",{v9:"downloadable_id",size:"size",HE:"content_profile",Am:"trackType",R:"bitrate",uu:"isDrm",me:["urls",{Hua:"cdn_id",url:"url"}],prb:"new_stream_id",type:"type",uUb:"peakBitrate",kdb:"dimensionsCount",ldb:"dimensionsLabel",Xtb:"pix_w",Wtb:"pix_h",Gxb:"res_w",Fxb:"res_h",ccb:"crop_x",dcb:"crop_y",bcb:"crop_w",acb:"crop_h",rgb:"framerate_value",qgb:"framerate_scale",BVb:"startByteOffset",uc:"vmaf"}],xvb:"profileType",fBb:"stereo",profile:"profile",kdb:"dimensionsCount",ldb:"dimensionsLabel",x9:["drmHeader",{ba:"bytes",m9a:"checksum",Cx:"keyId"}],rfa:["prkDrmHeaders",{ba:"bytes",m9a:"checksum",Cx:"keyId"}],hx:"flavor",oSb:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",$tb:"pixelAspectX",aub:"pixelAspectY",nTb:"maxCroppedWidth",mTb:"maxCroppedHeight",oTb:"maxCroppedX",pTb:"maxCroppedY",sTb:"max_framerate_value",rTb:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",GTb:"minCroppedWidth",FTb:"minCroppedHeight",HTb:"minCroppedX",ITb:"minCroppedY",oi:["license",{Unb:"licenseResponseBase64",MUb:"providerSessionToken",OQb:"drmSessionId",links:["links",{}]}]}],Gua:["cdnResponseData",{JB:"sessionABTestCell",mB:"pbcid"}],Rt:["choiceMap",{li:"initialSegment",type:"type",pa:"viewableId",Va:["segments",{hz:[g.hz,{Af:"startTimeMs",sg:"endTimeMs",next:["next",{hz:[g.hz,{weight:"weight"}]}],dn:"defaultNext"}]}]}],fmb:["initialHeader",{Y:["fragments",{ia:"endPts"}]}],media:["media",{id:"id",Hn:["tracks",{AUDIO:"AUDIO",P3:"TEXT",VIDEO:"VIDEO"}]}],CCb:["timedtexttracks",{Am:"trackType",hq:"new_track_id",type:"type",mO:"rawTrackType",ZX:"languageDescription",language:"language",id:"id",ica:"isNoneTrack",gca:"isForcedNarrative",Gdb:["downloadableIds",{}],X8a:["cdnlist",{id:"id",name:"name",type:"type",Pf:"rank",XCa:"lowgrade",wdb:["dns",{host:"host",qmb:"ipv4",rmb:"ipv6",jgb:"forceLookup"}],key:"key"}],pDb:["ttDownloadables",{hz:[g.hz,{size:"size",MVb:"textKey",aSb:"hashValue",$Rb:"hashAlgo",ESb:"isImage",HY:"midxOffset",Uda:"midxSize",height:"height",width:"width",bu:["downloadUrls",{}]}]}],QM:"isLanguageLeftToRight"}],kDb:["trickplays",{v9:"downloadable_id",size:"size",me:"urls",id:"id",interval:"interval",cub:"pixelsAspectY",bub:"pixelsAspectX",width:"width",height:"height"}],CLa:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],NQb:"dpsid",Ri:"isBranching",qWb:"viewableType",NA:"isSupplemental",C9a:"clientIpAddress",dWb:"urlExpirationDuration",iTb:"manifestExpirationDuration",CVb:["steeringAdditionalInfo",{DVb:"steeringId",KOb:"additionalGroupNames",EVb:["streamingClientConfig",{}]}]};}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(255);b.prototype.eF=function(a){this.Peb.eF(a,this.lpb);};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(g.Wka))],a);c.fUa=a;},function(d,c,a){var h,g,p,f,k,m;function b(a,b,c,f){this.Ia=a;this.npb=b;this.Wnb=c;this.jpb=f;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(420);g=a(1);p=a(38);f=a(3);k=a(419);a=a(418);b.prototype.create=function(a){var b;b=this.Wnb();this.Hmb(a)?(a.clientGenesis=a.clientGenesis||this.Ia.Ve.ca(f.ha),a=this.npb.decode(a),b.q5a(a)):b.C6(a.links);this.jpb.eF(a);return{If:a,Cj:b};};b.prototype.Hmb=function(a){return!!a.runtime;};m=b;m=d.__decorate([g.N(),d.__param(0,g.l(p.dj)),d.__param(1,g.l(h.Ima)),d.__param(2,g.l(k.Qna)),d.__param(3,g.l(a.Ema))],m);c.gUa=m;},function(d,c,a){var h,g;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(240);b.prototype.decode=function(a){var b,c;b=this.Njb(a.cdns);c=this.aib(a);return{movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.vaa(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.Fhb(a),timedtexttracks:this.fkb(a.textTracks,b),media:this.wF(a.media),trickplays:this.mkb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:c.b$,urlExpirationDuration:c.mLa,manifestExpirationDuration:c.mLa,initialHeader:void 0,steeringAdditionalInfo:null,viewableType:""};};b.prototype.Fhb=function(a){var b,c,d;b=Q(a.defaultMedia.split("|"));c=b.next().value;d=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:d,subtitleTrackId:b,preferenceOrder:0}];};b.prototype.vaa=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};b.prototype.Njb=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};b.prototype.qAa=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};b.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.Pgb(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c&&c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};b.prototype.Pgb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.qAa(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:c.ukb(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",hasDrmProfile:!0,hasDrmStreams:!!b,hasClearProfile:!1,hasClearStreams:!b,drmHeader:b&&b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};b.prototype.ukb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.qAa(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.fkb=function(a,b){var c;c=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.akb(a.downloadables),ttDownloadables:c.bkb(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:b};}):[];};b.prototype.akb=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};b.prototype.sjb=function(a){var b;b=g.O3.Faa();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(fa(a.map(function(a){return a.pixHeight;}))));};b.prototype.bkb=function(a){var b;if(a){b=this.sjb(a);return a.reduce(function(a,c){c.isImage&&c.pixHeight!==b||(a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};b.prototype.wF=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};b.prototype.mkb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};b.prototype.aib=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return{mLa:1E3*b,b$:a.clientGenesis+1E3*b};};b.prototype.encode=function(){throw Error("encode not supported");};a=b;a=d.__decorate([h.N()],a);c.kUa=a;},function(d,c){function a(a){this.bc=a;this.lb=JSON.stringify(this.Jib());}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.Jib=function(){var a;a=[];(!this.bc.sj||0>=this.bc.sj.length)&&a.push({error:"No CDN."});this.bc.gV||a.push({error:"No default audio track.",foundTracks:this.laa(this.bc.Wm)});this.bc.d9||a.push({error:"No default video track.",foundTracks:this.laa(this.bc.Bm)});this.bc.c9||a.push({error:"No default subtitle track.",foundTracks:this.laa(this.bc.Fk)});return a;};a.prototype.laa=function(a){return a&&0<a.length?a.map(function(a){return a.bb;}):"No tracks found.";};c.lUa=a;},function(d,c,a){var h,g,p,f,k,m;function b(a,b){a=g.oe.call(this,a,"ManifestParserConfigImpl")||this;a.ro=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(39);p=a(28);f=a(36);k=a(148);m=a(46);da(b,g.oe);pa.Object.defineProperties(b.prototype,{Tha:{configurable:!0,enumerable:!0,get:function(){return[];}},E$:{configurable:!0,enumerable:!0,get:function(){return"";}},J7:{configurable:!0,enumerable:!0,get:function(){return[];}},I7:{configurable:!0,enumerable:!0,get:function(){return[];}},G$:{configurable:!0,enumerable:!0,get:function(){return"";}},Kba:{configurable:!0,enumerable:!0,get:function(){return 0;}},BH:{configurable:!0,enumerable:!0,get:function(){return this.ro.BH.ca(m.ss);}},ov:{configurable:!0,enumerable:!0,get:function(){return this.ro.ov;}}});a=b;d.__decorate([f.config(f.Qha,"supportedAudioTrackTypes")],a.prototype,"Tha",null);d.__decorate([f.config(f.string,"forceAudioTrack")],a.prototype,"E$",null);d.__decorate([f.config(f.DKa,"cdnIdWhiteList")],a.prototype,"J7",null);d.__decorate([f.config(f.DKa,"cdnIdBlackList")],a.prototype,"I7",null);d.__decorate([f.config(f.string,"forceTimedTextTrack")],a.prototype,"G$",null);d.__decorate([f.config(f.vy,"imageSubsResolution")],a.prototype,"Kba",null);d.__decorate([f.config(f.vy,"timedTextSimpleFallbackThreshold")],a.prototype,"BH",null);d.__decorate([f.config(f.Qha,"timedTextProfiles")],a.prototype,"ov",null);a=d.__decorate([h.N(),d.__param(0,h.l(p.hj)),d.__param(1,h.l(k.RI))],a);c.hUa=a;},function(d,c,a){var h,g,p,f;function b(a,b){return g.gR.call(this,a,b)||this;}Object.defineProperty(c,"__esModule",{value:!0});h=a(135);g=a(425);p=a(80);f=a(134);da(b,g.gR);b.prototype.vtb=function(a){var b,c;b=this;a=Q(h.Su(function(a){return a.cc&&0<a.cc.length;},a));c=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.hq});});a=c.map(function(a){var c;c=a.Am;c={type:p.Vg.video,bb:a.hq,HA:a.ria,Am:f.S3[c.toLowerCase()]||f.Qn.UC,mO:c,cc:[],Lg:{}};c.cc=b.qKa(a.cc,c);b.log.trace("Transformed video track",{StreamCount:c.cc.length});return c;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};b.prototype.qtb=function(a){var b;b=a.map(function(a){return a.rfa;}).filter(Boolean);b=[].concat.apply([],[].concat(fa(b))).map(function(a){return a.ba;});a=a.map(function(a){return a.x9;}).filter(Boolean).map(function(a){return a.ba;});return 0<b.length?b:a;};c.UZa=b;},function(d,c,a){var h,g,p,f,k;function b(a,b,c,f){a=g.gR.call(this,a,f)||this;a.config=b;a.j=c;return a;}Object.defineProperty(c,"__esModule",{value:!0});h=a(451);g=a(425);p=a(135);f=a(80);k=a(134);da(b,g.gR);b.prototype.Zsb=function(a,b,c){var d,g,n;d=this;a=Q(p.Su(function(a){return a.cc&&0<a.cc.length;},a));g=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Audio track is missing streams",d.oAa(a));});n=this.config.Tha;a=Q(p.Su(function(a){return 0===n.length||0<=n.indexOf(a.Am);},g));g=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Audio track is not supported",d.oAa(a));});a=g.map(function(a){var g;g=a.Am;g={type:f.Vg.audio,bb:a.hq,HA:a.ria,Am:k.S3[g.toLowerCase()]||k.Qn.UC,mO:g,Zk:a.language,displayName:a.ZX,lo:a.lo,CPb:a.lo,BPb:Number(a.lo[0]),Fk:d.Ngb(a.hq,b,c),Lg:{Bcp47:a.language,TrackId:a.hq},cc:[],isNative:a.isNative};g.cc=d.qKa(a.cc,g);d.log.trace("Transformed audio track",g,{StreamCount:g.cc.length,AllowedTimedTextTracks:g.Fk.length});g.J9a=h.sja[g.cc[0].Jf];return g;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};b.prototype.f7a=function(a){var b,c;b=this;c=this.config.E$;if(c){if(a=Q(a.filter(function(a){return a.Zk==c||a.bb==c;})).next().value)return a;}else if(this.j.fW&&(a=Q(a.filter(function(a){return a.bb==b.j.fW;})).next().value))return a;};b.prototype.oAa=function(a){return{language:a.ZX,bcp47:a.language,type:a.Am};};b.prototype.Ngb=function(a,b,c){return b.filter(function(b){return b.Hn.AUDIO===a;}).map(function(a){return a.Hn.P3;}).map(function(a){return c.find(function(b){return b.bb===a;});}).filter(Boolean);};c.RMa=b;},function(d,c){function a(a,c,d){this.log=a;this.j=c;this.wia=d;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.utb=function(a){var b;b=this;a=(a||[]).filter(function(a){return a.me&&0<a.me.length;}).map(function(a){return b.wia(b.j,a.id,a.height,a.width,a.bub,a.cub,a.size,{unknown:a.me[0]});});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size-b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};c.xZa=a;},function(d,c){function a(a,c,d,g,f){this.K7=a;this.PJa=c;this.hDb=d;this.Uta=g;this.tLa=f;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.Nea=function(a){var b,c,d,f,k,g,l,q,r,E,D,z,G,M,N;b=a.If;a=this.K7.wFa(b.uq,b.cm,!0);c=this.PJa.ttb(b.CCb);d=this.hDb.utb(b.kDb);f=this.Uta.Zsb(b.Wta,b.media,c);k=this.tLa.vtb(b.tv);g=this.ptb(b,f,c);l=g[0];q=k[0];r=this.Uta.f7a(f)||l.ad||f[0];l=this.PJa.zCb(r.Fk)||l.tc||r.Fk[0];E=this.tLa.qtb(b.tv);D=b.eg;z=b.C9a;G=b.jX;M=b.kk;N=b.Wta.findIndex(function(a){return a.hq==r.bb;});b=b.tv.findIndex(function(a){return a.hq==q.bb;});return{oq:E,sj:a,Wm:f,Bm:k,Fk:c,rv:d,eg:D,pzb:z,wu:G,kk:M,iwa:N,owa:b,JZ:g,d9:q,gV:r,c9:l};};a.prototype.ptb=function(a,c,d){var b,f;b=[];f=a.nwa[0];b.push({ad:c.find(function(a){return a.HA===f.tE;}),tc:d.find(function(a){return a.HA===f.NBb;}),FUb:0});return b;};c.jUa=a;},function(d,c,a){var h,g,p,f;function b(a,b,c,f,d){this.log=a;this.config=b;this.j=c;this.K7=f;this.dfa=d;}Object.defineProperty(c,"__esModule",{value:!0});h=a(61);g=a(10);p=a(134);f=a(240);b.prototype.ttb=function(a){var b;b=this;a=a.map(function(a){var c,f,d;c=b.WCb(a);!1!==a.ica||c.length||b.log.error("track without downloadables",b.uza(a));!0!==a.gca||c.length||b.log.error("forced track without downloadables",b.uza(a));f={};d=[];if(0<c.length){f=c[0];d=f.profile;if(d==h.Al.OC||d==h.Al.lR)f=b.Oyb(c);d=b.K7.wFa(a.X8a,void 0,!1);}a=b.dfa(b.j,a.hq,a.id,f.cd,f.me||{},d,a.language,a.ZX,p.S3[a.Am.toLowerCase()]||p.Qn.UC,a.mO.toUpperCase(),f.profile,b.Qib(f)||{},a.ica,a.gca,a.QM);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};b.prototype.zCb=function(a){var b,c;b=this;c=this.config.G$;if(c){if(a=Q(a.filter(function(a){return a.Zk==c||a.bb==c;})).next().value)return a;}else if(this.j.gW&&(a=Q(a.filter(function(a){return a.bb==b.j.gW;})).next().value))return a;};b.prototype.WCb=function(a){var b,c,f;b=this;c=a.pDb;f=a.Gdb;a=Object.keys(c||{}).map(function(a){var d;d=c[a];return{cd:f[a],profile:a,size:d.size||0,ie:b.Rhb(a,d),offset:d.HY||0,Vtb:d.width,KFa:d.height,me:d.bu};});a.sort(function(a,b){return a.ie-b.ie;});return a;};b.prototype.Rhb=function(a,b){var c,f;c=this.config.ov.indexOf(a);b=b.size;f=this.config.BH;return a===h.Al.D1&&0<f&&b>f?this.config.ov.length+1:0<=c?c:this.config.ov.length;};b.prototype.Qib=function(a){if(a.profile===h.Al.OC||a.profile===h.Al.lR)return{offset:a.offset,length:a.size,UUb:{width:a.Vtb,height:a.KFa}};};b.prototype.Oyb=function(a){var b,c;b=this.config.Kba||f.O3.Faa();c=Q(a.filter(function(a){return a.profile===h.Al.OC||a.profile===h.Al.lR;}).filter(function(a){return a.KFa===b;})).next().value;if(c)return c;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:g.Fs.height,intendedResolution:b});return a[0];};b.prototype.uza=function(a){return{isNone:a.ica,isForced:a.gca,bcp47:a.language,id:a.hq};};c.eZa=b;},function(d){d.P=function(c){return function(){return!c.apply(this,arguments);};};},function(d,c,a){var b,h;b=a(883);c=a(52);h=a(432);a=c(function(a,c){return h(b(a),c);});d.P=a;},function(d,c,a){c=a(177);a=a(242);a=c(a);d.P=a;},function(d,c,a){c=a(52)(function(a,c){for(var b=0;b<a.length;){if(null==c)return;c=c[a[b]];b+=1;}return c;});d.P=c;},function(d,c,a){var b;c=a(52);b=a(886);a=c(function(a,c){return b([a],c);});d.P=a;},function(d,c,a){var b,h;c=a(52);b=a(429);h=function(){function a(a,b){this.XP=b;this.SL=a;}a.prototype["@@transducer/init"]=b.Xb;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.XP["@@transducer/step"](a,this.SL(b));};return a;}();a=c(function(a,b){return new h(a,b);});d.P=a;},function(d,c,a){var b,h,g,p,f,k;c=a(52);b=a(431);h=a(427);g=a(242);p=a(888);f=a(426);k=a(428);a=c(b(["fantasy-land/map","map"],p,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return f(b.length,function(){return a.call(this,b.apply(this,arguments));});case"[object Object]":return g(function(c,f){c[f]=a(b[f]);return c;},{},k(b));default:return h(a,b);}}));d.P=a;},function(d,c,a){var b,h;c=a(52);b=a(889);h=a(887);a=c(function(a,c){return b(h(a),c);});d.P=a;},function(d,c,a){c=a(52)(function(a,c){return c>a?c:a;});d.P=c;},function(d,c,a){var h,g;function b(a,c,d){return function(){var l;for(var f=[],k=0,n=a,p=0;p<c.length||k<arguments.length;){p<c.length&&(!g(c[p])||k>=arguments.length)?l=c[p]:(l=arguments[k],k+=1);f[p]=l;g(l)||--n;p+=1;}return 0>=n?d.apply(this,f):h(n,b(a,f,d));};}h=a(241);g=a(176);d.P=b;},function(d,c,a){var b,h,g,p,f;c=a(52);b=a(427);h=a(426);g=a(891);p=a(890);f=a(885);a=c(function(a,c){return h(f(g,0,p("length",c)),function(){var f,d;f=arguments;d=this;return a.apply(d,b(function(a){return a.apply(d,f);},c));});});d.P=a;},function(d,c,a){var b;c=a(116);b=a(893);a=c(function(a){return b(function(){return Array.prototype.slice.call(arguments,0);},a);});d.P=a;},function(d,c,a){var b,h;b=a(243);h=Object.prototype.toString;d.P=function(){return"[object Arguments]"===h.call(arguments)?function(a){return"[object Arguments]"===h.call(a);}:function(a){return b("callee",a);};};},function(d,c,a){var b,h;c=a(52);b=a(429);h=function(){function a(a,b){this.XP=b;this.SL=a;}a.prototype["@@transducer/init"]=b.Xb;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.SL(b)?this.XP["@@transducer/step"](a,b):a;};return a;}();a=c(function(a,b){return new h(a,b);});d.P=a;},function(d,c,a){var b;b=a(241);c=a(52)(function(a,c){return b(a.length,function(){return a.apply(c,arguments);});});d.P=c;},function(d){var c;c=function(){function a(a){this.SL=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,c){return this.SL(a,c);};return a;}();d.P=function(a){return new c(a);};},function(d){d.P=function(c){return"[object String]"===Object.prototype.toString.call(c);};},function(d,c,a){var b,h;c=a(116);b=a(430);h=a(899);a=c(function(a){return b(a)?!0:!a||"object"!==typeof a||h(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});d.P=a;},function(d){d.P=function(c,a){for(var b=0,d=a.length,g=[];b<d;)c(a[b])&&(g[g.length]=a[b]),b+=1;return g;};},function(d){d.P=function(c){return"function"===typeof c["@@transducer/step"];};},function(d,c,a){var b;c=a(432);b=a(894);a=a(884);a=b([c,a]);d.P=a;},function(d,c,a){var b;c=a(177);b=a(243);a=c(function(a,c,d){var f,h;f={};for(h in c)b(h,c)&&(f[h]=b(h,d)?a(h,c[h],d[h]):c[h]);for(h in d)b(h,d)&&!b(h,f)&&(f[h]=d[h]);return f;});d.P=a;},function(d,c,a){var b,h;c=a(177);b=a(433);h=a(904);a=c(function p(a,c,d){return h(function(c,f,d){return b(f)&&b(d)?p(a,f,d):a(c,f,d);},c,d);});d.P=a;},function(d,c,a){var b;c=a(177);b=a(905);a=c(function(a,c,d){return b(function(b,c,d){return a(c,d);},c,d);});d.P=a;},function(d,c,a){var h;function b(a,b){this.log=a;this.config=b;}Object.defineProperty(c,"__esModule",{value:!0});h=a(135);b.prototype.wFa=function(a,b,c){var f,d,g,n,p;f=this;d=this.config.J7;g=this.config.I7;a=Q(h.Su(function(a){return(!d.length||0<=d.indexOf(a.id))&&0>g.indexOf(a.id);},a||[]));n=a.next().value;a.next().value.forEach(function(a){return f.log.warn("Cdn is not allowed",{Id:a.id});});p=n.map(function(a){var c;c=(b?b.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,Pf:a.Pf,type:a.type,Tca:a.key,FSb:a.XCa,location:{id:c.key,Pf:c.Pf,level:c.level,weight:c.weight,sj:[]}};});p.sort(function(a,b){return a.Pf-b.Pf;});p.forEach(function(a){return a.location.sj=p.filter(function(b){return b.Tca===a.Tca;});});this.log.trace("Transformed cdns",{Count:p.length});if(c&&!p.length)throw Error("no valid cdns");return p;};c.jOa=b;},function(d,c,a){var h,g,p,f,k,m,l,q,r,E,D,z;function b(a,b,c,f,d){this.cg=a;this.config=b;this.dfa=c;this.wia=f;this.t0=d;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(8);p=a(434);f=a(907);k=a(882);m=a(881);l=a(880);q=a(879);r=a(878);E=a(424);D=a(423);a=a(422);b.prototype.create=function(a){var b,c;b=this.cg.wb("ManifestParser",a);c=new f.jOa(b,this.config);return new m.jUa(c,new k.eZa(b,this.config,a,c,this.dfa),new l.xZa(b,a,this.wia),new q.RMa(b,this.config,a,this.t0),new r.UZa(b,this.t0));};z=b;z=d.__decorate([h.N(),d.__param(0,h.l(g.Cb)),d.__param(1,h.l(p.Gma)),d.__param(2,h.l(E.ooa)),d.__param(3,h.l(a.Apa)),d.__param(4,h.l(D.xpa))],z);c.iUa=z;},function(d,c,a){var b,h,g,p,f,k,m,l,q,r,E,D,z,G;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(435);h=a(908);g=a(434);p=a(877);f=a(424);k=a(423);m=a(421);l=a(876);q=a(420);r=a(875);E=a(175);D=a(874);z=a(418);G=a(873);c.mpb=new d.Bc(function(c){c(g.Gma).to(p.hUa).Z();c(b.Hma).to(h.iUa).Z();c(f.ooa).Ph(function(b){for(var c=[],f=0;f<arguments.length;++f)c[f-0]=arguments[f];f=a(239).aD;return new(Function.prototype.bind.apply(f,[null].concat(fa(c))))();});c(k.xpa).Ph(function(b){for(var c=[],f=0;f<arguments.length;++f)c[f-0]=arguments[f];f=a(362).bOa;return new(Function.prototype.bind.apply(f,[null].concat(fa(c))))();});c(m.Jma).cf(function(){return function(a){return new l.lUa(a);};});c(q.Ima).to(r.kUa).Z();c(E.zI).to(D.gUa).Z();c(z.Ema).to(G.fUa).Z();});},function(d,c,a){var h,g,p,f,k,m,l;function b(a,b,c,f,d,h){this.config=a;this.dB=c;this.profile=f;this.v0=d;this.G7=h;this.log=b.wb("CDMAttestedDescriptor");this.Jya();}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(17);p=a(8);f=a(136);k=a(244);m=a(94);a=a(268);b.prototype.Jya=function(){var a;a=this;return this.v0.Nia?this.config().heb?this.Iya().then(function(b){if(b)return Promise.resolve(void 0);a.vCa||(a.vCa=a.G7.Zza());return a.vCa;})["catch"](function(b){a.log.error("Failed to generate challenge",b);}).then(function(a){null===a||void 0===a?void 0:a.nb.close().subscribe();return null===a||void 0===a?void 0:a.Kua;}).then(function(b){return Promise.all([Promise.resolve(b),a.Iya()]);}).then(function(a){var b;a=Q(a);b=a.next().value;if(!a.next().value)return b;}):this.dB().then(function(a){a.AN.removeServiceToken("cad");}):Promise.resolve(void 0);};b.prototype.Iya=function(){var a;a=this;return this.dB().then(function(b){return(b=b.AN.getServiceTokens(a.profile))&&b.find(function(a){return"cad"===a.name;});});};l=b;l=d.__decorate([h.N(),d.__param(0,h.l(g.md)),d.__param(1,h.l(p.Cb)),d.__param(2,h.l(f.GI)),d.__param(3,h.l(m.XI)),d.__param(4,h.l(k.PR)),d.__param(5,h.l(a.u1))],l);c.ENa=l;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(436);h=a(910);c.u8a=new d.Bc(function(a){a(b.Hja).to(h.ENa).Z();});},function(d,c,a){var h,g,p;function b(a){this.Ga=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(23);p=a(3);b.prototype.ABb=function(a,b){var c,f;c=parseFloat(a);f=0;"%"===a[a.length-1]&&this.Ga.Zg(c)?f=Math.round(c*b.ca(p.ha)/100):(a=parseInt(a),this.Ga.Yq(a)&&(f=a));return p.Ib(Math.min(f,b.ca(p.ha)));};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(g.Oe))],a);c.pNa=a;},function(d,c,a){var h,g;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);a=a(17);b.prototype.maa=function(){return this.kx().S7a;};b.prototype.naa=function(){return this.kx().T7a;};b.prototype.sib=function(){return this.kx().U7a;};b.prototype.Z$=function(){return this.kx().kua;};b.prototype.kx=function(){return this.config();};g=b;g=d.__decorate([h.N(),d.__param(0,h.l(a.md))],g);c.oNa=g;},function(d,c,a){var h,g,p,f,k,m,l;function b(a,b,c,f,d){this.pU=b;this.Ga=c;this.R7a=f;this.config=d;this.ka=a.wb("Bookmark");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(438);p=a(437);f=a(8);k=a(23);m=a(3);a=a(17);b.prototype.kta=function(a){var b,c;b=a.Xa.playbackState&&a.Xa.playbackState.currentTime;c=this.vhb(a.u);b=this.Ga.fA(b)?m.Ib(b):c;if(this.Ga.Qd(b))this.ka.info("Overriding bookmark",{From:a.hC.ca(m.ha),To:b.ca(m.ha)}),a=Object.assign({},a,{hC:b});else if(this.Flb(a))return this.ka.trace("Ignoring bookmark because it's too close to beginning"),m.rh(0);return this.Elb(a)?(this.ka.trace("Ignoring bookmark because it's too close to end"),m.rh(0)):this.Dlb(a)?(this.ka.trace("Ignoring bookmark because it's too close to the end to start decoding"),m.rh(0)):a.hC;};b.prototype.Flb=function(a){return 0>a.hC.Pl(this.maa(a));};b.prototype.maa=function(a){return this.lua(this.pU.maa(),a.XN);};b.prototype.Elb=function(a){return 0<a.hC.Pl(this.naa(a));};b.prototype.naa=function(a){var b;b=a.Xa.Ri?this.pU.sib():this.pU.naa();return a.XN.Ac(this.lua(b,a.XN));};b.prototype.Dlb=function(a){return 0<a.hC.Pl(this.Yhb(a));};b.prototype.Yhb=function(a){var b;b=a.Xa.Ri?this.config().hFa:this.config().oZ;return a.XN.Ac(m.Ib(b));};b.prototype.vhb=function(a){var b;a=this.pU.Z$()[a];b=-1;this.Ga.Um(a)?b=parseInt(a):this.Ga.Zg(a)&&(b=a);if(this.Ga.Yq(b))return m.Ib(b);};b.prototype.lua=function(a,b){return this.R7a.ABb(a,b);};l=b;l=d.__decorate([h.N(),d.__param(0,h.l(f.Cb)),d.__param(1,h.l(g.Bja)),d.__param(2,h.l(k.Oe)),d.__param(3,h.l(p.Aja)),d.__param(4,h.l(a.md))],l);c.qNa=l;},function(d,c,a){var b,h,g,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(245);h=a(438);g=a(437);p=a(914);f=a(913);k=a(912);c.Sz=new d.Bc(function(a){a(b.p1).to(p.qNa).Z();a(h.Bja).to(f.oNa).Z();a(g.Aja).to(k.pNa).Z();});},function(d,c,a){var g,p,f;function b(a,b,c){var f;f=this;this.ka=a;this.valid=!0;this.wj=!1;this.context=c.context;this.size=c.size;this.cl=b.create().then(function(a){f.storage=a;return a.bN("mediacache").then(function(a){f.keys=a;});});}function h(a,b){this.cg=a;this.Mj=b;this.XE={};}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);g=a(1);p=a(8);a=a(71);h.prototype.SU=function(a){this.XE[a.context]=new b(this.cg.wb("DiskStorageContext"),this.Mj,a);return this.XE[a.context];};h.prototype.xwa=function(a){delete this.XE[a.context];};f=h;f=d.__decorate([g.N(),d.__param(0,g.l(p.Cb)),d.__param(1,g.l(a.qs))],f);c.YPa=f;b.prototype.create=function(a,b,c,f){var d,h,k;d=this;h=this.getKey(a,b);k=Date.now();this.cl.then(function(){d.keys[h]=void 0;return d.storage.save(h,c,!1).then(function(){d.ka.trace("create succeeded for "+h+", "+(Date.now()-k)+" ms");f(d.TW(a,b));});})["catch"](function(c){d.ka.trace("create failed",c);f(d.nx(a,b,c));});};b.prototype.append=function(a,b,c,f){c=this.getKey(a,b);this.ka.trace("append "+c);f(this.nx(a,b,"append is not supported"));};b.prototype.remove=function(a,b,c){var f,d,h;f=this;d=this.getKey(a,b);h=Date.now();this.cl.then(function(){if(f.keys.hasOwnProperty(d))return delete f.keys[d],f.storage.remove(d).then(function(){f.ka.trace("remove succeeded for "+d+", "+(Date.now()-h)+" ms");c(f.TW(a,b));});c(f.TW(a,b));})["catch"](function(d){f.ka.trace("remove failed",d);c(f.nx(a,b,d));});};b.prototype.read=function(a,b,c,f,d){var h,k,g;h=this;k=this.getKey(a,b);g=Date.now();0!==c||-1!=f?d(this.nx(a,b,"byteStart/byteEnd combination is not supported")):this.cl.then(function(){if(h.keys.hasOwnProperty(k))return h.storage.load(k).then(function(n){h.ka.trace("read succeeded for "+k+", "+(Date.now()-g)+" ms");d(Object.assign(h.TW(a,b),{value:n.value,dPb:c,end:f}));});d(h.nx(a,b,"Item doesn't exist"));})["catch"](function(c){h.ka.trace("read failed",c);d(h.nx(a,b,c));});};b.prototype.info=function(a){var b;b=this;this.ka.trace("info ");this.cl.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.Mea(c);a[c.rL]||(a[c.rL]={});a[c.rL][c.Ax]={size:0};return a;},{}),total:b.size,gWb:0};a(c);})["catch"](function(c){b.ka.trace("info failed",c);a(b.nx(void 0,void 0,c));});};b.prototype.query=function(a,b,c){var f,d;f=this;d=this.getKey(a,b||"");this.cl.then(function(){var a;a=Object.keys(f.keys).filter(function(a){return 0===a.indexOf(d);}).reduce(function(a,b){a[f.Mea(b).Ax]={size:0};return a;},{});f.ka.trace("query succeeded for prefix "+b,a);c(a);})["catch"](function(a){f.ka.trace("query failed",a);c({});});};b.prototype.Bq=function(a){var b;b=this;this.ka.trace("validate");this.cl.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.Mea(c).Ax]={size:0};return a;},{});a(c);})["catch"](function(c){b.ka.trace("validate failed",c);a(b.nx(void 0,void 0,c));});};b.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};b.prototype.TW=function(a,b){return{aa:!0,rL:void 0===a?"":a,key:void 0===b?"":b,DEb:0,yj:this.size};};b.prototype.nx=function(a,b,c){return{aa:!1,error:c,rL:void 0===a?"":a,key:void 0===b?"":b,DEb:0,yj:this.size};};b.prototype.Mea=function(a){var b,c;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c+1);return{rL:a,Ax:b};};c.cIb=b;},function(d,c,a){var h,g,p;function b(a){this.cg=a;this.Ju={};this.ka=this.cg.wb("MemoryStorage");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(2);a=a(8);b.prototype.load=function(a){var b;if(this.Ju.hasOwnProperty(a)){b=this.Ju[a];this.ka.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ka.debug("Storage entry not found",{key:a});return Promise.reject({da:g.G.Rv});};b.prototype.save=function(a,b,c){if(c&&this.Ju.hasOwnProperty(a))return Promise.resolve(!1);this.Ju[a]=b;return Promise.resolve(!0);};b.prototype.remove=function(a){delete this.Ju[a];return Promise.resolve();};b.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.Ju).map(function(b){return{key:b,value:a.Ju[b]};});return Promise.resolve(b);};b.prototype.bN=function(a){var b;b=Object.keys(this.Ju).reduce(function(b,c){a&&0!==c.indexOf(a)||(b[c]=void 0);return b;},{});return Promise.resolve(b);};b.prototype.removeAll=function(){this.Ju={};return Promise.resolve();};p=b;p=d.__decorate([h.N(),d.__param(0,h.l(a.Cb))],p);c.FUa=p;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.XOa="__default_rule_key__";},function(d,c,a){var g,p,f,k,m,l,q;function b(a,b,c,f){this.ka=a;this.config=b;this.Blb=c;this.Sda=f;this.Mw={mem:{storage:this.Sda,key:"mem"}};this.ly=this.config.ly;}function h(a,b,c,f){this.cg=a;this.Mj=b;this.Sda=c;this.config=f;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);g=a(1);p=a(2);f=a(178);k=a(8);m=a(440);l=a(918);a=a(31);h.prototype.create=function(){this.oL||(this.oL=this.JE());return this.oL;};h.prototype.JE=function(){this.j6a=new b(this.cg.wb("AppStorage"),this.config,this.Mj,this.Sda);return this.j6a.create();};q=h;q=d.__decorate([g.N(),d.__param(0,g.l(k.Cb)),d.__param(1,g.l(f.z2)),d.__param(2,g.l(m.Sma)),d.__param(3,g.l(a.vl))],q);c.vMa=q;b.prototype.create=function(){var a;a=this;return this.Abb().then(function(b){if(!a.L8a(b,a.config.vX))throw a.xrb(b);return a;});};b.prototype.load=function(a){var b;b=this;return new Promise(function(c,f){b.eM(a).storage.load(a).then(function(a){c(a);})["catch"](function(a){f(a);});});};b.prototype.save=function(a,b,c){var f;f=this;return new Promise(function(d,h){f.eM(a).storage.save(a,b,c).then(function(a){d(a);})["catch"](function(a){h(a);});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,f){b.eM(a).storage.remove(a).then(function(){c();})["catch"](function(a){f(a);});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.eHa("mem").then(function(){return a.eHa("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.ka.error("remove all failed");c(b);});});};b.prototype.loadAll=function(){var a,b;a=this;b=[];return this.CCa("mem").then(function(c){b=b.concat(c);return a.CCa("idb");})["catch"](function(b){a.dnb(b)||a.ka.error("IndexedDb.LoadAll exception",b);return[];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.ka.error("load all failed",b);throw b;});};b.prototype.bN=function(a){var b;b=this;return new Promise(function(c,f){var d;d=b.Mw.idb;d?d.storage.bN(a).then(function(a){c(a);})["catch"](function(a){b.ka.error("loadKeys failed",a);f(a);}):f("Storage is not available");});};b.prototype.Abb=function(){var a;a=this;return this.Blb.create().then(function(b){a.Mw.idb={storage:b,key:"idb"};})["catch"](function(b){a.ka.error("idb failed to load",b);return b||{da:p.G.Nk};});};b.prototype.L8a=function(a,b){return!a||a&&b?!0:!1;};b.prototype.xrb=function(a){var b;b="";a&&(b+=a.da);return{da:b};};b.prototype.eHa=function(a){return(a=this.Mw[a])?a.storage.removeAll():Promise.resolve();};b.prototype.CCa=function(a){return(a=this.Mw[a])?a.storage.loadAll():Promise.resolve([]);};b.prototype.Kfb=function(a){for(var b in this.ly)if(a.startsWith(b))return this.ly[b];return this.ly[l.XOa];};b.prototype.eM=function(a){var b,c;b=this;this.Kfb(a).every(function(a){return b.Mw[a]?(c=b.Mw[a],!1):!0;});c||(this.ka.error("component not found for storageKey",{rBb:a,VOb:Object.keys(this.Mw),rules:this.ly}),c=this.Mw.mem);this.ka.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};b.prototype.dnb=function(a){return(a&&(a.da||a.errorSubCode))===p.G.Rv;};c.kja=b;},function(d,c,a){var h,g;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);a=a(31);pa.Object.defineProperties(b.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Lha;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.OJa;}}});g=b;g=d.__decorate([h.N(),d.__param(0,h.l(a.vl))],g);c.AOa=g;},function(d,c,a){var h,g,p,f,k;function b(a,b){a=p.oe.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.hB="namedatapairs";return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(36);p=a(39);f=a(31);a=a(28);da(b,p.oe);pa.Object.defineProperties(b.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.nr?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Lha;}},fU:{configurable:!0,enumerable:!0,get:function(){return this.config.fU;}},uha:{configurable:!0,enumerable:!0,get:function(){return 0;}},VO:{configurable:!0,enumerable:!0,get:function(){return 0;}},$xa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});k=b;d.__decorate([g.config(g.vy,"simulateIdbOpenError")],k.prototype,"uha",null);d.__decorate([g.config(g.vy,"simulateIdbLoadAllError")],k.prototype,"VO",null);d.__decorate([g.config(g.rd,"fixInvalidDatabase")],k.prototype,"$xa",null);k=d.__decorate([h.N(),d.__param(0,h.l(a.hj)),d.__param(1,h.l(f.vl))],k);c.MSa=k;},function(d,c,a){var g,p,f;function b(a,b,c){this.config=a;this.Ck=b;this.Vu=c;}function h(a,b){this.reason=a;this.cause=b;}Object.defineProperty(c,"__esModule",{value:!0});g=a(2);p=a(63);(function(a){a[a.X2=0]="NoData";a[a.Error=1]="Error";a[a.ez=2]="Timeout";}(f=c.MXa||(c.MXa={})));b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.PV("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=g.G.Soa;switch(a.reason){case f.X2:b=g.G.Rv;break;case f.ez:b=g.G.oYa;}d({da:b,cause:a.cause});});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(h,k){d.PV(c?"add":"put",!0,{name:a,data:b}).then(function(){h(!c);})["catch"](function(a){var b;b=g.G.Toa;switch(a.reason){case f.ez:b=g.G.rYa;}k({da:b,cause:a.cause});});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.PV("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=g.G.G3;switch(a.reason){case f.ez:b=g.G.Roa;}d({da:b,cause:a.cause});});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.PV("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=g.G.G3;switch(a.reason){case f.ez:b=g.G.Roa;}c({da:b,cause:a.cause});});});};b.prototype.loadAll=function(){var a;a=this;return this.Ck.rm(this.config.timeout,new Promise(function(b,c){var d,g,k;if(a.config.VO)c(new h(a.config.VO));else{d=[];g=a.Vu.transaction(a.config.hB,"readonly");k=g.objectStore(a.config.hB).openCursor();g.onerror=function(){c(new h(f.Error,k.error));};k.onsuccess=function(a){if(a=a.target.result)try{d.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(z){c(new h(f.Error,z));}else b(d);};k.onerror=function(){c(new h(f.Error,k.error));};}}))["catch"](function(a){return a instanceof p.Pn?Promise.reject(new h(f.ez,a)):a instanceof h?Promise.reject(a):Promise.reject(new h(f.Error,a));});};b.prototype.bN=function(a){var b;b=this;return this.Ck.rm(this.config.timeout,new Promise(function(c,d){var g,k,n;if(b.config.VO)d(new h(b.config.VO));else{g={};k=b.Vu.transaction(b.config.hB,"readonly");n=k.objectStore(b.config.hB).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);k.onerror=function(){d(new h(f.Error,n.error));};n.onsuccess=function(b){var k,n;try{k=b.target.result;if(k){n=k.key;a&&0!==n.indexOf(a)?c(g):(g[n]=void 0,k["continue"]());}else c(g);}catch(N){d(new h(f.Error,N));}};n.onerror=function(){d(new h(f.Error,n.error));};}}))["catch"](function(a){return a instanceof p.Pn?Promise.reject(new h(f.ez,a)):a instanceof h?Promise.reject(a):Promise.reject(new h(f.Error,a));});};b.prototype.PV=function(a,b,c){var d;d=this;return this.Ck.rm(this.config.timeout,new Promise(function(g,k){var n,m;n=d.Vu.transaction(d.config.hB,b?"readwrite":"readonly");m=n.objectStore(d.config.hB)[a](c);n.onerror=function(){k(new h(f.Error,m.error));};m.onsuccess=function(b){var c;if("get"==a)try{c=b.target.result;c?g(c.data):k(new h(f.X2));}catch(N){k(new h(f.X2,N));}else g();};m.onerror=function(){k(new h(f.Error,m.error));};}))["catch"](function(a){return a instanceof p.Pn?Promise.reject(new h(f.ez,a)):a instanceof h?Promise.reject(a):Promise.reject(new h(f.Error,a));});};c.LSa=b;},function(d,c,a){var p,f,k,m,l,q,r,E,D,z,G,M;function b(a,b,c,f,d,h){this.config=b;this.sL=c;this.Mj=f;this.QEb=d;this.aj=h;this.ka=a.wb(q.L3);}function h(a,b){this.config=a;this.pv=b;}function g(a,b,c,f,d){this.config=b;this.pv=c;this.aj=d;this.ka=a.wb(q.L3);this.sL=new Promise(function(a,b){var c;try{c=f();c?a(c):b({da:l.G.yla});}catch(ia){b({da:l.G.bR,cause:ia});}});}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);p=a(1);f=a(8);k=a(922);m=a(179);l=a(2);q=a(443);r=a(444);E=a(63);D=a(71);z=a(67);G=a(178);M=a(53);g.prototype.create=function(){this.R8||(this.R8=this.JE());return this.R8;};g.prototype.en=function(a){var b;b=this;this.R8=null;return this.pv.rm(this.config.timeout,new Promise(function(c,f){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){f(a);});}))["catch"](function(a){return a instanceof E.Pn?Promise.reject({da:l.G.bR}):a.da?Promise.reject(a):Promise.reject({da:l.G.bR,cause:a});});};g.prototype["delete"]=function(a){var b;b=this;return this.pv.rm(this.config.timeout,new Promise(function(c,f){b.sL.then(function(b){var d;d=b.deleteDatabase(a);d.onsuccess=function(){c();};d.onerror=function(){f({da:l.G.bR,cause:d.error});};})["catch"](function(a){f(a);});}));};g.prototype.JE=function(){var a,b;a=this;return this.pv.rm(this.config.timeout,new Promise(function(c,f){if(a.config.uha)return f({da:a.config.uha});a.sL.then(function(d){a.aj.mark(M.Gi.XRa);b=d.open(a.config.name,a.config.version);if(!b)return f({da:l.G.zla});b.onblocked=function(){a.aj.mark(M.Gi.URa);f({da:l.G.QRa});};b.onupgradeneeded=function(){var c;a.aj.mark(M.Gi.dSa);c=b.result;try{c.createObjectStore(a.config.hB,{keyPath:"name"});}catch(X){a.ka.error("Exception while creating object store",X);}};b.onsuccess=function(h){var g,k;a.aj.mark(M.Gi.cSa);try{g=h.target.result;k=g.objectStoreNames.length;a.ka.trace("objectstorenames length ",k);if(0===k){a.ka.error("invalid indexedDb state, deleting");a.aj.mark(M.Gi.WRa);try{g.close();}catch(ia){}d.deleteDatabase(a.config.name);setTimeout(function(){f({da:l.G.PRa});},1);return;}}catch(ia){a.ka.error("Exception while inspecting indexedDb objectstorenames",ia);}c(b.result);};b.onerror=function(){a.aj.mark(M.Gi.VRa);a.ka.error("IndexedDB open error",b.error);f({da:l.G.RRa,cause:b.error});};})["catch"](function(a){f(a);});}))["catch"](function(c){if(c instanceof E.Pn){try{b&&b.readyState&&a.aj.mark("readyState-"+b.readyState);}catch(Y){}if(a.config.fU&&b&&"done"===b.readyState){if(a.MEb(b))return a.aj.mark(M.Gi.aSa),Promise.resolve(b.result);a.aj.mark(M.Gi.$Ra);}a.aj.mark(M.Gi.ZRa);return Promise.reject({da:l.G.TRa});}if(c.da)return Promise.reject(c);a.aj.mark(M.Gi.YRa);a.ka.error("IndexedDB open exception occurred",c);return Promise.reject({da:l.G.SRa,cause:c});});};g.prototype.MEb=function(a){try{return 0<a.result.objectStoreNames.length;}catch(P){this.aj.mark(M.Gi.bSa);this.ka.error("failed to check open request state",P);}return!1;};a=g;a=d.__decorate([p.N(),d.__param(0,p.l(f.Cb)),d.__param(1,p.l(r.cR)),d.__param(2,p.l(E.Zy)),d.__param(3,p.l(m.xla)),d.__param(4,p.l(z.fz))],a);c.NRa=a;h.prototype.create=function(a){return Promise.resolve(new k.LSa(this.config,this.pv,a));};a=h;a=d.__decorate([p.N(),d.__param(0,p.l(r.cR)),d.__param(1,p.l(E.Zy))],a);c.NSa=a;b.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.oL||(this.oL=this.JE(this.QEb));return this.oL;};b.prototype.JE=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(c,f){b.aj.mark(M.Gi.nYa);b.sL.create().then(function(d){b.Mj.create(d).then(function(h){Promise.all(a.map(function(a){return a.Bq(h);})).then(function(){b.storage=h;c(b.storage);})["catch"](function(a){b.ka.debug("DB validation failed, cause: "+a);b.config.$xa?(b.ka.debug("Fixing corrupt DB"),b.sL.en(d).then(function(){b.ka.error("Invalid database deleted, creating new database.");b.JE().then(function(a){b.ka.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ka.error("Couldn't delete invalid database.");f(a);})):(b.ka.debug("Ignoring invalid DB due to config"),b.storage=h,c(b.storage));});})["catch"](function(a){f(a);});})["catch"](function(a){f(a);});});};a=b;a=d.__decorate([p.N(),d.__param(0,p.l(f.Cb)),d.__param(1,p.l(r.cR)),d.__param(2,p.l(G.wla)),d.__param(3,p.l(G.Wla)),d.__param(4,p.eB(D.epa)),d.__param(5,p.l(z.fz))],a);c.OSa=a;},function(d,c,a){var h,g,p;function b(a){this.Vu=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(2);a=a(179);b.prototype.load=function(a){var b;b=this;return new Promise(function(c,f){var d,h;try{d=b.Vu.getItem(a);if(d){h=d;if("{"===d[0])try{h=JSON.parse(d)||d;}catch(E){}c({key:a,value:h});}else f({da:g.G.Rv});}catch(E){f({da:g.G.Soa,cause:E});}});};b.prototype.save=function(a,b,c){var f;f=this;return new Promise(function(d,h){if(c&&f.Vu.getItem(a))d(!1);else try{"string"===typeof b?f.Vu.setItem(a,b):f.Vu.setItem(a,JSON.stringify(b));d(!0);}catch(E){h({da:g.G.Toa,cause:E});}});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,f){try{b.Vu.removeItem(a);c();}catch(u){f({da:g.G.G3,cause:u});}});};b.prototype.loadAll=function(){return Promise.reject("Not supported");};b.prototype.bN=function(){return Promise.reject("Not supported");};b.prototype.removeAll=function(){return Promise.reject("Not supported");};p=b;p=d.__decorate([h.N(),d.__param(0,h.l(a.XUa))],p);c.kTa=p;},function(d,c,a){var h,g,p,f,k;function b(a,b,c){this.Ck=b;this.config=c;this.ka=a.wb(f.L3);}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(8);p=a(63);f=a(443);a=a(442);b.prototype.Bq=function(a){return this.config.enabled?this.config.timeout?this.Ck.rm(this.config.timeout,this.Lwa(a)):this.Lwa(a):Promise.resolve();};b.prototype.Lwa=function(a){var b;b=this;return new Promise(function(c,f){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(d){"true"!==d.value&&f();b.ka.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ka.error("Failed to remove testValue");c();});});})["catch"](function(a){return f(a);});});};k=b;k=d.__decorate([h.N(),d.__param(0,h.l(g.Cb)),d.__param(1,h.l(p.Zy)),d.__param(2,h.l(a.Zja))],k);c.zOa=k;},function(d,c,a){var b,h,g,p,f,k,m,l,q,r,E,D,z,G,M,N,P;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(444);h=a(71);g=a(179);p=a(925);f=a(441);k=a(924);m=a(442);l=a(178);q=a(923);r=a(921);E=a(920);D=a(919);z=a(71);G=a(440);M=a(917);N=a(439);P=a(916);c.storage=new d.Bc(function(a){a(g.bna).cf(function(){return function(){return L.localStorage;};});a(g.xla).cf(function(){return function(){return L.indexedDB;};});a(G.Sma).to(M.FUa).Z();a(z.qs).to(D.vMa).Z();a(f.lma).to(k.kTa).Z();a(b.cR).to(r.MSa).Z();a(l.Wla).to(q.NSa).Z();a(h.epa).to(p.zOa).Z();a(l.wla).to(q.NRa).Z();a(l.z2).to(q.OSa).Z();a(m.Zja).to(E.AOa).Z();a(N.yka).to(P.YPa).Z();});},function(d,c,a){var h,g,p;function b(a){this.bvb=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(246);a=a(445);b.prototype.wfb=function(){var a,b;a={RL:g.Jy.JZa};b=this.bvb.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var c;a.RL=b.value?g.Jy.voa:g.Jy.ija;if(a.RL===g.Jy.ija){c=function(){b.value&&(a.RL=g.Jy.voa);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.RL=g.Jy.Error;});return a;};p=b;p=d.__decorate([h.N(),d.__param(0,h.l(a.woa))],p);c.VQa=p;},function(d,c,a){var h,g,p;function b(a,b){this.CDa=a;this.log=b.wb("MediaCapabilities");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(447);g=a(8);a=a(1);b.prototype.k$=function(a){var b,c,f;b=this;c={wc:void 0};if(this.CDa.DDa){f={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,R:1E3*a.R,mW:"24"};this.CDa.k$(f).then(function(a){return c.wc=Object.assign(Object.assign({},a),f);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};p=b;p=d.__decorate([a.N(),d.__param(0,a.l(h.Mma)),d.__param(1,a.l(g.Cb))],p);c.rUa=p;},function(d,c,a){var h,g;function b(a){this.navigator=a;this.DDa="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);a=a(29);b.prototype.k$=function(a){return this.DDa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.R,framerate:a.mW}}).then(function(a){return{GVb:a.supported,NAb:a.smooth,Hub:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};g=b;g=d.__decorate([h.N(),d.__param(0,h.l(a.Ov))],g);c.qUa=g;},function(d,c,a){var h,g,p;function b(a,b,c,d,n){a=h.Cm.call(this,a,b,c)||this;a.Ce=d;a.navigator=n;a.type=g.Ok.Voa;a.rLa={};a.rLa=a.Ybb();return a;}Object.defineProperty(c,"__esModule",{value:!0});h=a(137);g=a(32);p=a(61);da(b,h.Cm);b.prototype.oM=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.Ce.vi.toString()});};b.prototype.VV=function(a){var b,c;b=this;c=a.map(function(a){for(var c=Q(b.nq),f=c.next();!f.done;f=c.next())if(f.value.test(a))return Promise.resolve(!0);c=Q(b.ml);for(f=c.next();!f.done;f=c.next())if(f.value.test(a))return Promise.resolve(!1);return b.Kda(a);});return Promise.all(c).then(function(b){return a.filter(function(a,c){return b[c];});});};b.prototype.Kda=function(a){var b;try{b=this.rLa[a];return!b||this.Bmb(b)&&!this.Cmb()?Promise.resolve(!1):this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:b}).then(function(a){return!0===a.supported&&!0===a.powerEfficient;})["catch"](function(){return!1;});}catch(m){return Promise.resolve(!1);}};b.prototype.Ybb=function(){var a,b,c,d,h,g,n,l,q,r,M,N,P;a={};b={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};c={contentType:'video/mp4; codecs="dvh1.05.04"'};d={width:1920,height:1080};h={width:3840,height:2160};g=Object.assign(Object.assign({},d),{bitrate:3E7,framerate:30});n=Object.assign(Object.assign({},d),{bitrate:5E7,framerate:60});d=Object.assign(Object.assign({},h),{bitrate:1E8,framerate:30});h=Object.assign(Object.assign({},h),{bitrate:16E7,framerate:60});l={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};q={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};r=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),g);a[p.V.GQ]=r;a[p.V.HQ]=r;a[p.V.IQ]=r;r=Object.assign(Object.assign({},b),g);M=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),n);N=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),d);P=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),h);a[p.V.QQ]=r;a[p.V.SQ]=r;a[p.V.UQ]=r;a[p.V.WQ]=M;a[p.V.EC]=N;a[p.V.FC]=P;a[p.V.RQ]=r;a[p.V.TQ]=r;a[p.V.VQ]=r;a[p.V.XQ]=M;a[p.V.YQ]=N;a[p.V.ZQ]=P;r=Object.assign(Object.assign(Object.assign({},b),g),l);M=Object.assign(Object.assign(Object.assign({},b),n),l);N=Object.assign(Object.assign(Object.assign({},b),d),l);b=Object.assign(Object.assign(Object.assign({},b),h),l);a[p.V.jI]=r;a[p.V.kI]=r;a[p.V.DC]=r;a[p.V.lI]=M;a[p.V.LQ]=N;a[p.V.MQ]=b;g=Object.assign(Object.assign(Object.assign({},c),g),q);n=Object.assign(Object.assign(Object.assign({},c),n),q);d=Object.assign(Object.assign(Object.assign({},c),d),q);c=Object.assign(Object.assign(Object.assign({},c),h),q);a[p.V.XH]=g;a[p.V.YH]=g;a[p.V.wC]=g;a[p.V.ZH]=n;a[p.V.$H]=d;a[p.V.vQ]=c;return a;};b.prototype.Bmb=function(a){return!!a.colorGamut||!!a.hdrMetadataType||!!a.transferFunction;};b.prototype.Cmb=function(){return L.matchMedia("(dynamic-range: high)").matches;};b.prototype.uH=function(){return this.config().I9?this.Kda(p.V.wC):Promise.resolve(!1);};b.prototype.vH=function(){return this.config().I9?this.Kda(p.V.DC):Promise.resolve(!1);};c.uYa=b;},function(d,c,a){var h,g,p;function b(a,b,c,d,n,p){a=h.Cm.call(this,a,b,c)||this;a.gl=d;a.Er=n;a.Ia=p;a.type=g.Ok.x1;a.log=a.Er.wb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(c,"__esModule",{value:!0});h=a(137);g=a(32);p=a(3);da(b,h.Cm);b.prototype.cs=function(a){switch(a){case g.Ci.Fq:return this.$Bb;default:return Promise.resolve(!1);}};b.prototype.xF=function(){var a;a=this;return this.cs(g.Ci.Fq).then(function(a){return a?g.Ci.Fq:void 0;}).then(function(b){return a.nL(b);});};b.prototype.A6=function(a){return this.km=a;};b.prototype.CP=function(){var a;if(this.km){a=this.MAa&&this.NAa&&this.MAa.Ac(this.NAa).ca(p.ha);this.km.itshdcp=JSON.stringify({hdcp1:this.ou,time1:a});}};pa.Object.defineProperties(b.prototype,{il:{configurable:!0,enumerable:!0,get:function(){this.FDa||(this.FDa=this.gl.tF().then(function(a){return a.createMediaKeys();}));return this.FDa;}},$Bb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.Vha||(this.config().meb?this.Vha=this.il.then(function(b){if(b&&b.getStatusForPolicy)return a.NAa=a.Ia.Ve,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.MAa=a.Ia.Ve;a.ou=b;a.log.trace("hdcpStatus: "+a.ou);return"usable"===a.ou;});a.ou="not available";a.log.trace("hdcpStatus: "+a.ou);return!1;})["catch"](function(b){a.ou="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.ou},b);return!1;}).then(function(b){a.CP();return b;}):(this.ou="not enabled",this.log.trace("hdcpStatus: "+this.ou),this.CP(),this.Vha=Promise.resolve(!1)));return this.Vha;}}});c.mOa=b;},function(d,c,a){var h,g,p,f,k,m,l,q,r,E,D,z,G,M,N,P,B,H,S;function b(a,b,c,f,d,h,k){a=g.Cm.call(this,a,b,c)||this;a.la=f;a.Ia=d;a.Er=h;a.Lc=k;a.type=p.Ok.Uy;a.UH="hvc1";a.JNa="avc1";a.LFa={};a.log=a.Er.wb("MicrosoftVideoCapabilityDetector");a.YAb();a.fP&&a.config().mqb?a.Kdb=a.vbb():(a.Kdb=Promise.resolve(""),a.config().oqb?a.zbb():a.config().nqb&&a.ybb());return a;}Object.defineProperty(c,"__esModule",{value:!0});h=a(61);g=a(137);p=a(32);d=a(103);f=a(147);k=a(143);m=a(3);l=a(257);q=a(138);r=a(247);E="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");D="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");z="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");G="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");M="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");N="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");P=["hdcp=1"];B=["hdcp=2"];H=new d.dz();S=new l.m1();da(b,g.Cm);b.prototype.pF=function(a){return a===p.Bd.vs&&this.config().sEb?q.Kd.hI:g.Cm.prototype.pF.call(this,a);};b.prototype.cs=function(a){switch(a){case p.Ci.Fq:return this.EJa();case p.Ci.Qy:return this.eO;default:return Promise.resolve(!1);}};b.prototype.sF=function(){return this.fP?this.Alb?this.EJa().then(function(a){return Promise.resolve(a?f.ob.Ad:f.ob.TI);}):Promise.resolve(f.ob.TI):this.aCb?Promise.resolve(f.ob.TI):Promise.resolve(f.ob.Jq);};b.prototype.vH=function(){return Promise.resolve(this.ZBb());};b.prototype.gP=function(){return this.fP&&this.GJa()?this.eO:Promise.resolve(!1);};b.prototype.uH=function(){return Promise.resolve(this.YBb());};b.prototype.A6=function(a){this.km=a;Object.assign(this.km,this.LFa);a.itshwdrm=this.fP;a.itsqhd=this.FJa();a.itshevc=this.GJa();a.itshdr=this.vH();a.itsdv=this.uH();return a;};b.prototype.rK=function(a,b){(this.km?this.km:this.LFa)[a]=b;};b.prototype.xF=function(){var a;a=this;return this.cs(p.Ci.Qy).then(function(b){return b?a.nL(p.Ci.Qy):a.cs(p.Ci.Fq).then(function(b){return b?a.nL(p.Ci.Fq):a.nL(void 0);});});};b.prototype.oM=function(){return this.sF().then(function(a){return a===f.ob.Ad?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};b.prototype.VV=function(a){var b;b=this;a=a.filter(function(a){var c,h;for(var c=Q(b.nq),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=Q(b.ml);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.xfa[a];c=[];h=f.ob.Jq;if(a)return b.is.Um(a)?d=a:(c=a.wd,d=a.Ke,h=a.Ne),b.Jw(h,d,c);});return Promise.resolve(a);};b.prototype.bA=function(){var a;a=g.Cm.prototype.bA.call(this);a[h.V.cJ]="vp09.00.11.08.02";a[h.V.dJ]="vp09.00.11.08.02";a[h.V.eJ]="vp09.00.11.08.02";a[h.V.QQ]={Ke:"hev1.2.6.L90.B0",Ne:f.ob.Ad,wd:E};a[h.V.SQ]={Ke:"hev1.2.6.L93.B0",Ne:f.ob.Ad,wd:E};a[h.V.UQ]={Ke:"hev1.2.6.L120.B0",Ne:f.ob.Ad,wd:E};a[h.V.WQ]={Ke:"hev1.2.6.L123.B0",Ne:f.ob.Ad,wd:E};a[h.V.EC]={Ke:"hev1.2.6.L150.B0",Ne:f.ob.Ad,wd:E};a[h.V.FC]={Ke:"hev1.2.6.L153.B0",Ne:f.ob.Ad,wd:E};a[h.V.RQ]={Ke:"hev1.2.6.L90.B0",Ne:f.ob.Ad,wd:E};a[h.V.TQ]={Ke:"hev1.2.6.L93.B0",Ne:f.ob.Ad,wd:E};a[h.V.VQ]={Ke:"hev1.2.6.L120.B0",Ne:f.ob.Ad,wd:E};a[h.V.XQ]={Ke:"hev1.2.6.L123.B0",Ne:f.ob.Ad,wd:E};a[h.V.YQ]={Ke:"hev1.2.6.L150.B0",Ne:f.ob.Ad,wd:E};a[h.V.ZQ]={Ke:"hev1.2.6.L153.B0",Ne:f.ob.Ad,wd:E};a[h.V.jI]={Ke:"hev1.2.6.L90.B0",Ne:f.ob.Ad,wd:z};a[h.V.kI]={Ke:"hev1.2.6.L93.B0",Ne:f.ob.Ad,wd:z};a[h.V.DC]={Ke:"hev1.2.6.L120.B0",Ne:f.ob.Ad,wd:z};a[h.V.lI]={Ke:"hev1.2.6.L123.B0",Ne:f.ob.Ad,wd:G};a[h.V.LQ]={Ke:"hev1.2.6.L150.B0",Ne:f.ob.Ad,wd:G};a[h.V.MQ]={Ke:"hev1.2.6.L153.B0",Ne:f.ob.Ad,wd:G};a[h.V.XH]={Ke:"hev1.2.6.L90.B0",Ne:f.ob.Ad,wd:M};a[h.V.YH]={Ke:"hev1.2.6.L93.B0",Ne:f.ob.Ad,wd:M};a[h.V.wC]={Ke:"hev1.2.6.L120.B0",Ne:f.ob.Ad,wd:M};a[h.V.ZH]={Ke:"hev1.2.6.L123.B0",Ne:f.ob.Ad,wd:N};a[h.V.$H]={Ke:"hev1.2.6.L150.B0",Ne:f.ob.Ad,wd:N};a[h.V.vQ]={Ke:"hev1.2.6.L153.B0",Ne:f.ob.Ad,wd:N};return a;};b.prototype.Jw=function(a,b,c){a=r.Vy.TU(a,b,c);return this.Nt(a);};b.prototype.FJa=function(){return this.Jw(f.ob.Ad,this.UH,E);};b.prototype.ZBb=function(){return this.Jw(f.ob.Ad,this.UH,z);};b.prototype.YBb=function(){return this.Jw(f.ob.Ad,this.UH,M);};b.prototype.GJa=function(){return this.Jw(f.ob.Ad,this.UH,D);};b.prototype.EJa=function(){var a;a=this;return this.eO.then(function(b){return b?Promise.resolve(b):a.sGa;});};b.prototype.CP=function(){this.km&&(this.km.itshdcp=JSON.stringify({hdcp1:this.KAa,time1:this.XJa-this.nJa,hdcp2:this.LAa,time2:this.YJa-this.oJa}));};b.prototype.YAb=function(){var a;a=this;this.fP?(this.efa=new k.Xj(),this.ffa=new k.Xj(),this.sGa=k.Ba.from(this.efa).sP().then(function(a){return"probably"===a;}),this.eO=k.Ba.from(this.ffa).sP().then(function(a){return"probably"===a;}),this.TIa(this.ffa,this.config().qqb),this.YFa(this.mib.bind(this),this.ffa),this.eO.then(function(b){b||(a.TIa(a.efa,a.config().pqb),a.YFa(a.lib.bind(a),a.efa));})):(this.sGa=Promise.resolve(!0),this.eO=Promise.resolve(!1));};b.prototype.YFa=function(a,b){k.Ba.pv(0,this.config().rqb).map(function(){return a();}).WO(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).oP(k.Ba.from(b)).sP();};b.prototype.TIa=function(a,b){this.la.qh(m.Ib(b),function(){a.next("timeout");a.complete();});};b.prototype.lib=function(){var a;a=r.Vy.TU(f.ob.TI,this.JNa,P).split("|");this.KAa=r.Vy.Uha(a[0],a[1]);this.XJa=this.Ia.Ve.ca(m.ha);this.nJa=this.nJa||this.XJa;this.CP();return this.KAa;};b.prototype.mib=function(){var a;a=r.Vy.TU(f.ob.Ad,this.UH,B).split("|");this.LAa=r.Vy.Uha(a[0],a[1]);this.YJa=this.Ia.Ve.ca(m.ha);this.oJa=this.oJa||this.YJa;this.CP();return this.LAa;};b.prototype.vbb=function(){var a;a=this;return this.C8(f.ob.Ad,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.rK("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};b.prototype.ybb=function(){var a;a=this;this.C8(f.ob.Jq,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.Lc.decode(b));a.rK("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.rK("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};b.prototype.zbb=function(){var a;a=this;this.C8(f.ob.Jq,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.Lc.decode(b));a.rK("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.rK("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};b.prototype.C8=function(a,b){var c;c=this;return new Promise(function(f,d){var l,t,q;function h(a){try{n(a.target,"Unexpectedly got an mskeyerror event: 0x"+S.aM(a&&a.target&&a.target.error&&a.target.error.JVb||0,4));}catch(Ha){n(a.target,Ha);}}function g(a){n(a.target,"Unexpectedly got an mskeyadded event");}function k(a){var b;try{b=c.g$(a.message,"PlayReadyKeyMessage","Challenge");p(a.target);f(b);}catch(la){n(a.target,la);}}function n(a,f){c.log.error("PlayReadyChallenge error",{cdmData:b});p(a);d(f);}function p(a){a.removeEventListener("mskeymessage",k);a.removeEventListener("mskeyadded",g);a.removeEventListener("mskeyerror",h);l&&l.cancel();}try{t=new Uint8Array(H.zBb(b));q=new L.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),t);q.addEventListener("mskeymessage",k);q.addEventListener("mskeyadded",g);q.addEventListener("mskeyerror",h);l=c.la.qh(m.Ib(1E3),function(){n(q,Error("timeout"));});}catch(Fa){d(Fa);}});};b.prototype.g$=function(a,b){var c,f,d,h;for(var c=1;c<arguments.length;++c);c="";d=a.length;for(f=0;f<d;f++)h=a[f],0<h&&(c+=String.fromCharCode(h));d="\\s*(.*)\\s*";for(f=arguments.length-1;0<f;f--){h=arguments[f];if(0>c.search(h))return;h="(?:[^:].*:|)"+h;d="[\\s\\S]*<"+h+"[^>]*>"+d+"</"+h+">[\\s\\S]*";}if(c=c.match(new RegExp(d)))return c[1];};pa.Object.defineProperties(b.prototype,{Alb:{configurable:!0,enumerable:!0,get:function(){return this.config().leb&&(!this.config().sqb||this.FJa());}},fP:{configurable:!0,enumerable:!0,get:function(){try{return this.Nt(f.ob.Ad+'|video/mp4;codecs="'+q.Kd.BC+'"');}catch(A){return!1;}}},aCb:{configurable:!0,enumerable:!0,get:function(){try{return this.Nt(f.ob.TI);}catch(A){return!1;}}}});c.bUa=b;b.FH='video/mp4;codecs="{0},mp4a";';},function(d,c,a){var h,g,p,f,k;function b(a,b,c,d){a=f.G1.call(this,a,b)||this;a.is=c;a.platform=d;a.type=h.Cy.Uy;return a;}Object.defineProperty(c,"__esModule",{value:!0});h=a(32);g=a(61);p=a(147);f=a(448);k=a(247);da(b,f.G1);b.prototype.eP=function(){return Promise.resolve(this.config().JL&&this.Jw(p.ob.Jq,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};b.prototype.bA=function(){var a;a={};a[g.zi.NQ]="mp4a.40.2";a[g.zi.d2]="mp4a.40.5";a[g.zi.OQ]="mp4a.40.2";"browser"===this.platform.bdb?this.config().JL&&(a[g.zi.tQ]={Ke:"avc1",Ne:p.ob.Jq,wd:["audio-endpoint-codec=DD+JOC"]},a[g.zi.uQ]={Ke:"avc1",Ne:p.ob.Jq,wd:["audio-endpoint-codec=DD+JOC"]}):(this.config().G9&&(a[g.zi.tQ]="ec-3"),this.config().F9&&(a[g.zi.A1]="ec-3"),this.config().JL&&(a[g.zi.uQ]={Ke:"avc1",Ne:p.ob.Jq,wd:["audio-endpoint-codec=DD+JOC"]}));return a;};b.prototype.VV=function(a){var b;b=this;a=a.filter(function(a){var c,d;for(var c=Q(b.nq),f=c.next();!f.done;f=c.next())if(f.value.test(a))return!0;c=Q(b.ml);for(f=c.next();!f.done;f=c.next())if(f.value.test(a))return!1;a=b.xfa[a];c=[];d=p.ob.Jq;if(a)return b.is.Um(a)?f=a:(c=a.wd,f=a.Ke,d=a.Ne),b.Jw(d,f,c);});return Promise.resolve(a);};b.prototype.Jw=function(a,b,c){a=k.Vy.TU(a,b,c);return this.Nt(a);};c.HUa=b;},function(d,c,a){var h,g,p,f,k,m,l,q,r,E,D,z,G,M,N,P,B,H,S,A;function b(a,b,c,f,d,h,g,k,n,m,p,l){this.$Ba=a;this.cast=b;this.config=c;this.la=f;this.Ia=d;this.is=h;this.gl=g;this.Er=k;this.Ce=n;this.platform=m;this.Lc=p;this.navigator=l;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(32);p=a(249);f=a(180);k=a(248);m=a(933);l=a(932);q=a(137);r=a(448);E=a(35);D=a(38);z=a(23);G=a(931);M=a(106);N=a(8);P=a(930);B=a(54);H=a(47);S=a(41);a=a(29);b.prototype.fbb=function(a){var b;b=this.$Ba.Mva();switch(a){case g.Cy.Uy:return new m.HUa(this.config,b,this.is,this.platform);default:return new r.G1(this.config,b);}};b.prototype.Zbb=function(a){var b;b=this.$Ba.Mva();switch(a){case g.Ok.v1:a=new k.Pja(this.config,b,this.is,this.cast);break;case g.Ok.x1:a=new G.mOa(this.config,b,this.is,this.gl,this.Er,this.Ia);break;case g.Ok.Uy:a=new l.bUa(this.config,b,this.is,this.la,this.Ia,this.Er,this.Lc);break;case g.Ok.Voa:a=new P.uYa(this.config,b,this.is,this.Ce,this.navigator);break;default:a=new q.Cm(this.config,b,this.is);}return a;};A=b;A=d.__decorate([h.N(),d.__param(0,h.l(p.ama)),d.__param(1,h.l(k.w1)),d.__param(2,h.l(f.xQ)),d.__param(3,h.l(E.Xg)),d.__param(4,h.l(D.dj)),d.__param(5,h.l(z.Oe)),d.__param(6,h.l(M.Jv)),d.__param(7,h.l(N.Cb)),d.__param(8,h.l(B.Dm)),d.__param(9,h.l(H.Mk)),d.__param(10,h.l(S.Rj)),d.__param(11,h.l(a.Ov))],A);c.dOa=A;},function(d,c,a){var h,g,p,f,k,m;function b(a,b,c){this.config=a;this.kwa=b;this.cast=c;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(249);p=a(180);f=a(32);k=a(248);m=a(247);b.prototype.Mva=function(){switch(this.config().P0){case f.Ok.v1:return k.Pja.x8(this.kwa,this.cast);case f.Ok.Uy:return m.Vy.x8(this.config);default:return this.kwa;}};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(p.xQ)),d.__param(1,h.l(g.boa)),d.__param(2,h.l(k.w1))],a);c.TSa=a;},function(d,c,a){var h,g,p,f,k,m,l,q;function b(a,b,c){this.qV=a;this.Ga=b;this.zJa=c;this.K4a="video/mp4;codecs={0}";this.D_a="audio/mp4;codecs={0}";a=this.qV.pF(g.Bd.vs);this.J4a=f.Kd.Qva(a);}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);g=a(32);p=a(1);f=a(138);k=a(23);m=a(472);l=a(451);q=a(11);b.prototype.pL=function(a){a=this.qV.pib(a);a=this.Ga.fA(a)?a:g.Bd.YI;return this.zJa.format(this.K4a,this.J4a[a]);};b.prototype.jL=function(a){if(0===a.length)return this.zJa.format(this.D_a,f.Kd.YP);a=l.sja[a[0].Jf];return a===h.bMa?q.MC:a===h.cMa?q.HTa:q.GTa;};a=h=b;a.bMa="AAC";a.cMa="XHEAAC";a=h=d.__decorate([p.N(),d.__param(0,p.l(g.I1)),d.__param(1,p.l(k.Oe)),d.__param(2,p.l(m.fpa))],a);c.LYa=a;},function(d,c,a){var h,g,p,f,k,m;function b(a,b,c){this.config=a;this.Eua=b;this.dub=c;this.wvb=this.Pbb();}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(32);g=a(180);p=a(1);f=a(61);k=a(453);a=a(452);b.prototype.Yjb=function(){return this.zya().gAa();};b.prototype.Zjb=function(){return this.yr().gAa();};b.prototype.zya=function(){this.a7&&this.a7.type==this.config().b7||(this.a7=this.Eua.fbb(this.config().b7));return this.a7;};b.prototype.yr=function(){this.O0&&this.O0.type==this.config().P0||(this.O0=this.Eua.Zbb(this.config().P0),this.O0.A6(this.dub.bib()));return this.O0;};b.prototype.pib=function(a){var f;if(!a||!a.length)return h.Bd.KQ;a=this.Pfb(a);for(var b=[h.Bd.YI,h.Bd.KQ,h.Bd.QR,h.Bd.zs,h.Bd.vs,h.Bd.mC,h.Bd.Sv,h.Bd.xi],c=b.length;c--;){f=b[c];if((0,this.wvb[f])(a))return f;}return h.Bd.YI;};b.prototype.cs=function(a){return this.yr().cs(a);};b.prototype.Nt=function(a){return this.yr().Nt(a);};b.prototype.sF=function(){return this.yr().sF();};b.prototype.vH=function(){return this.yr().vH();};b.prototype.eP=function(){return this.zya().eP();};b.prototype.uH=function(){return this.yr().uH();};b.prototype.gP=function(){return this.yr().gP();};b.prototype.pF=function(a){return this.yr().pF(a);};b.prototype.xF=function(){return this.yr().xF();};b.prototype.oM=function(){return this.yr().oM();};b.prototype.Pfb=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.Jf]="";});return Object.keys(b);};b.prototype.Pbb=function(){var a;a={};a[h.Bd.xi]=function(a){return a.some(function(a){return-1<a.indexOf("av1");});};a[h.Bd.mC]=function(a){return a.some(function(a){return-1<a.indexOf("hpl");});};a[h.Bd.Sv]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[h.Bd.vs]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[h.Bd.zs]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[h.Bd.QR]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[h.Bd.KQ]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=Q(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[f.V.CC]);a[h.Bd.YI]=function(){return!0;};return a;};m=b;m=d.__decorate([p.N(),d.__param(0,p.l(g.xQ)),d.__param(1,p.l(a.Oja)),d.__param(2,p.l(k.$ka))],m);c.PPa=m;},function(d,c,a){var b,h,g,p,f,k,m,l,q,r,E,D,z,G,M,N,P,B,H,S,A;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(32);h=a(17);g=a(937);p=a(180);f=a(117);k=a(936);m=a(249);l=a(935);q=a(453);r=a(452);E=a(934);D=a(248);z=a(10);G=a(447);M=a(929);N=a(446);P=a(928);B=a(246);H=a(927);S=a(445);A=a(29);c.qV=new d.Bc(function(a){a(f.ZC).to(k.LYa).Z();a(b.I1).to(g.PPa).Z();a(m.ama).to(l.TSa).Z();a(r.Oja).to(E.dOa).Z();a(m.boa).Ph({isTypeSupported:z.II&&z.II.isTypeSupported});a(D.w1).Ph("undefined"!==typeof cast?cast:null);a(q.$ka).uy(function(a){return{bib:function(){return a.hb.get(A.SI);}};});a(p.xQ).uy(function(a){return a.hb.get(h.md);});a(G.Mma).to(M.qUa).Z();a(N.Lma).to(P.rUa).Z();a(B.Zka).to(H.VQa).Z();a(S.woa).Ph(L);});},function(d,c,a){function b(a){this.Ddb=void 0===a?10:a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);a=a(1);b=d.__decorate([a.N()],b);c.gZa=b;},function(d,c,a){var h,g;function b(a){this.SCb=a;this.o0={};}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);a=a(250);b.prototype.qhb=function(){var a,b,c;a=[];for(b in this.o0){c=this.o0[b];a.push({Kw:Number(b),YB:c.Xl().YB,u9:c.Xl().u9});}return a;};b.prototype.WT=function(a){var b,c;b=a.Kw;c=this.o0[b];c||(c=this.SCb(),this.o0[b]=c);c.WT(a);};g=b;g=d.__decorate([h.N(),d.__param(0,h.l(a.R3))],g);c.kOa=g;},function(d,c,a){var h,g,p,f;function b(a){this.config=a;this.xha=g.xe;this.kH=[];}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(46);p=a(3);a=a(455);b.prototype.Xl=function(){var b;for(var a;0<this.kH.length;)a=this.kH.shift(),this.Tsa(a);a=void 0===this.DL||void 0===this.iA?p.xe:this.iA.Ac(this.DL);b=a.cCa()?0:this.xha.ca(g.tC)/a.ca(p.ha);return{YB:Math.floor(b),u9:a.ca(p.ha)};};b.prototype.WT=function(a){this.xha=this.xha.add(a.size);this.kH.push(a.Cdb);for(this.kH.sort(function(a,b){return a.start.Pl(b.start);});this.kH.length>this.config.Ddb;)a=this.kH.shift(),this.Tsa(a);};b.prototype.Tsa=function(a){void 0===this.DL&&(this.DL=a.start);void 0!==this.iA&&0>this.iA.Pl(a.start)&&(this.DL=this.DL.add(a.start.Ac(this.iA)));if(void 0===this.iA||0>this.iA.Pl(a.end))this.iA=a.end;};f=b;f=d.__decorate([h.N(),d.__param(0,h.l(a.tpa))],f);c.hZa=f;},function(d,c,a){var b,h,g,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(941);h=a(940);g=a(939);p=a(454);f=a(455);k=a(250);c.ZB=new d.Bc(function(a){a(k.upa).to(b.hZa);a(p.Qja).to(h.kOa).Z();a(f.tpa).Ph(new g.gZa());a(k.R3).cf(function(a){return function(){return a.hb.get(k.upa);};});});},function(d,c,a){var h,g,p,f,k,m;function b(a,b,c,f,d,h,k,n,m,p,l,q){var t;t=this;this.Yc=a;this.Ga=b;this.Hb=f;this.iq=h;this.aL=k;this.config=m;this.he=l;this.ja=q;this.j=p.create(q.u,q.zk,n,q.fb,q.id);this.j.background=!0;this.j.wa=q.wa;this.log=c.wb("VideoPlayer",this.j);this.FFa=[];this.ended=!1;this.TP();this.j.state.addListener(function(a){a.newValue===g.mb.od&&t.Ud(g.tb.kca,{movieId:q.u});});this.j.Xa.Ri&&(this.vE=d.hbb(this,this.j,this.he),this.j.addEventListener(g.T.z_,function(a){t.Ud(g.tb.Myb,{segmentId:a.segmentId});}));}Object.defineProperty(c,"__esModule",{value:!0});h=a(2);g=a(13);p=a(3);f=a(10);k=a(81);m=a(19);b.prototype.isReady=function(){return this.j.state.value===g.mb.od;};b.prototype.Tib=function(){return this.j.u;};b.prototype.ZW=function(){return this.j.ga;};b.prototype.pjb=function(){return this.j.wGa;};b.prototype.ln=function(){return this.j.zf;};b.prototype.wr=function(){return this.j;};b.prototype.yx=function(){return this.j.kq.value;};b.prototype.Nmb=function(){return this.j.paused.value;};b.prototype.zmb=function(){return this.ended;};b.prototype.mk=function(){var a;a=this.j.y7.value;return a?{networkStalled:!!a.W_,stalled:!!a.W_,progress:a.Kh,progressRollback:!!a.Avb}:null;};b.prototype.getError=function(){var a;a=this.j.Pi;return a?a.mia():null;};b.prototype.hhb=function(){var a;a=(this.BW()||0)+this.j.Eya();return Math.min(a,this.Oya());};b.prototype.BW=function(){return this.j.yA();};b.prototype.Oya=function(){return this.j.ir.ca(p.ha);};b.prototype.vkb=function(){return this.j.LH?{width:this.j.LH.width,height:this.j.LH.height}:null;};b.prototype.daa=function(){var d;if(this.j.Bm){for(var a,b=0;b<this.j.Bm.length;b++)for(var c=this.j.Bm[b],f=0;f<c.cc.length;f++){d=c.cc[f];this.Ga.Zg(d.I8)&&this.Ga.Zg(d.XU)&&this.Ga.Zg(d.WU)&&this.Ga.Zg(d.VU)&&0<d.XU&&(d=d.VU/d.WU,a=this.Ga.Zg(a)?Math.min(a,d):d);}return a;}};b.prototype.yhb=function(){return this.j.daa();};b.prototype.Ihb=function(){return this.Jhb(this.j.k9);};b.prototype.Rgb=function(){var a;a=this;return this.j.Wm?this.j.Wm.map(function(b){return a.zA(b);}).filter(function(a){return null!==a;}):[];};b.prototype.jAa=function(a){var b,c;b=this;c=a&&this.j.Wm.find(function(c){return b.zA(c)===a;})||this.j.ad.value;return null===c?[]:c.Fk.map(function(a){return b.zA(a);}).filter(function(a){return null!==a;});};b.prototype.Lmb=function(){return this.j.muted.value;};b.prototype.xkb=function(){return this.j.volume.value;};b.prototype.Qgb=function(){return this.zA(this.j.ad.value);};b.prototype.iAa=function(){return this.zA(this.j.tc.value);};b.prototype.tmb=function(){return!!this.j.background;};b.prototype.Kzb=function(a){this.j.muted.set(!!a);};b.prototype.cAb=function(a){this.j.volume.set(this.OEa(a,1));};b.prototype.Pzb=function(a){this.j.playbackRate.set(this.OEa(a,2));};b.prototype.Pza=function(){return this.j.playbackRate.value;};b.prototype.szb=function(a){var b,c;b=this;c=this.j.Wm.find(function(c){return b.zA(c)===a;});c?this.j.ad.set(c):this.log.error("Invalid setAudioTrack call");};b.prototype.KIa=function(a){var f;if(null!==this.j.ad.value){for(var b=this.j.ad.value.Fk,c=0;c<b.length;c++){f=b[c];if(!a&&null===f){this.j.tc.set(null);return;}if(this.zA(f)===a){this.log.info("Setting Timed Text, profile: "+f.profile);this.j.tc.set(f);return;}}this.log.error("Invalid setTimedTextTrack call");}};b.prototype.wIa=function(a){this.j.background=a;};b.prototype.YO=function(){this.j.YO();};b.prototype.addEventListener=function(a,b,c){this.Hb.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.Hb.removeListener(a,b);};b.prototype.Zu=function(){};b.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.j.load(function(b,c){try{a.Ud(g.tb.Dob,void 0,!0);b.wa&&(b.wa.If.CLa&&a.Ud(g.tb.jFb,b.wa.If.CLa,!0),b.wa.If.Rt&&a.Ud(g.tb.Lyb,{segmentMap:b.wa.If.Rt},!0));c({aa:!0});}catch(E){c({da:h.G.xh,lb:a.Yc.We(E)});}}));};b.prototype.close=function(a){var b;b=this;this.cva||(this.cva=new Promise(function(c){a?b.j.Pd(a,c):b.j.close(c);}));return this.cva;};b.prototype.play=function(){this.j.dk?this.j.fireEvent(g.T.PHa):(this.load(),this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(g.T.lLa)));};b.prototype.pause=function(){this.load();this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(g.T.HEb));};b.prototype.seek=function(a,b,c,f){this.j.Si?this.j.Si.seek(a,b,c,f):this.j.Tz=a;};b.prototype.iub=function(a){return this.vE?(this.log.trace("Playing a segment",a),this.vE.play(a)):Promise.resolve();};b.prototype.Svb=function(a){return this.vE?(this.log.trace("Queueing a segment",a),this.vE.Lh(a)):Promise.resolve();};b.prototype.fp=function(a,b){return this.vE?(this.log.trace("Updating next segment weights",a,b),this.vE.fp(a,b)):Promise.resolve();};b.prototype.wP=function(){this.j.wP();};b.prototype.UW=function(){var a;a=this.j.Fn.UW();return{bounds:a.MK,margins:a.Io,size:a.size,visibility:a.visibility};};b.prototype.RO=function(a){var b,c,f;b=a.bounds;c=a.margins;f=a.size;a=a.visibility;this.j.rP&&(b&&this.j.rP.hha(b),c&&this.j.rP.iha(c),"boolean"===typeof a&&this.j.rP.jha(a));this.j.Fn&&f&&this.j.Fn.Wzb(f);};b.prototype.MIa=function(a){this.j.Gk=a;};b.prototype.kkb=function(a){return this.j.qv&&this.j.qv.iib(a)||null;};b.prototype.Kgb=function(){return this.Yc.aB({playerver:this.config.version,jssid:this.config.tnb,groupName:this.config.kib(),xid:this.j.ga,pbi:this.j.index},this.config.eub,{prefix:"pi_"});};b.prototype.Wlb=function(a){this.j.Pd(this.he(h.K.AQa,h.G.Nk,a));};b.prototype.rob=function(a,b,c,f){if(!this.Ga.wta(a))throw Error("invalid url");this.FFa.push({url:a,name:b,m7a:c,options:f});this.pGa();};b.prototype.aAa=function(){var a,b,c,f,d,h,g,k;a={};b=this.j.Jha;try{if(this.j.Pi&&(a.errorCode=this.j.Pi.rV,a.errorType=b?"endplay":"startplay"),a.playdelay=m.kn(this.j.E7()),a.xid=this.j.ga,this.j.wa&&this.Ga.Um(this.j.wa.If.jm)&&(a.packageId=Number(this.j.wa.If.jm)),a.auth=this.j.Tgb(),b){a.totaltime=this.j.lm?this.ix(this.j.lm.rM()):0;a.abrdel=this.j.lm?this.j.lm.Aya():0;c=this.j.Si;f=c?c.wA():null;this.Ga.Zg(f)&&(a.totdfr=f);f=c?c.fM():null;this.Ga.Zg(f)&&(a.totcfr=f);d=c?c.xib():null;d&&(a.rbfrs_decoder=d.vcb,a.rbfrs_network=d.mrb);a.rbfrs_delay=this.j.lm?this.j.lm.eca:0;a.init_vbr=this.j.EX;h=this.NW();this.Ga.fA(h)&&(a.pdltime=h);g=this.j.af.value;k=g&&g.stream;k&&(a.vbr=k.R,a.vdlid=k.cd);a.bufferedTime=this.j.Eya();}}catch(N){this.log.error("error capturing session summary",N);}return a;};b.prototype.OL=function(a){return this.Ga.Zg(this.j.Yb.value)?(a=Object.assign(Object.assign({},this.iq.create(this.j)),{action:a}),this.aL(k.Em.OL).Pp(this.log,this.j.wa.Cj,a).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.Xc,errorExternalCode:a.dh,errorData:a.data,errorDetails:a.UE};})):Promise.resolve({success:!1});};b.prototype.Jhb=function(a){return{register:a.register.bind(a),notifyUpdated:a.IEa.bind(a),getModel:a.Rib.bind(a),getGroups:a.IW.bind(a),addEventListener:a.addEventListener.bind(a),removeEventListener:a.removeEventListener.bind(a),getTime:a.getTime.bind(a)};};b.prototype.zA=function(a){var b;if(null!==a){b=a.Ivb=a.Ivb||{trackId:a.bb,bcp47:a.Zk,displayName:a.displayName,trackType:a.Am,channels:a.lo};a.sn&&(b.isImageBased=!0);this.Qmb(a)&&(b.isNative=a.isNative);this.Rmb(a)&&(b.isNoneTrack=a.TX(),b.isForcedNarrative=a.PX());return b;}return null;};b.prototype.Qmb=function(a){return"undefined"!==typeof a.isNative;};b.prototype.Rmb=function(a){return"undefined"!==typeof a.TX&&"undefined"!==typeof a.PX;};b.prototype.OEa=function(a,b){return 0<=a?a<=b?a:b:0;};b.prototype.ix=function(a){return this.Ga.Zg(a)?(a/1E3).toFixed(0):"";};b.prototype.Ud=function(a,b,c){b=b||{};b.target=this;this.Hb.Sb(a,b,!c);};b.prototype.TP=function(){var a;a=this;this.j.addEventListener(g.T.cia,function(){a.Ud(g.tb.qo);});this.j.addEventListener(g.T.DY,function(){a.Ud(g.tb.sua);});this.j.addEventListener(g.T.Uo,function(){a.Ud(g.tb.sua);});this.j.addEventListener(g.T.HF,function(b){a.Ud(g.tb.HF,{errorCode:b});});this.j.addEventListener(g.T.g7,function(b){a.Ud(g.tb.n7a,b.j);});this.j.addEventListener(g.T.dk,function(b){a.Ud(g.tb.o7a,b);});this.j.kq.addListener(function(){a.Ud(g.tb.Bub);});this.j.paused.addListener(function(){a.Ud(g.tb.Atb);});this.j.muted.addListener(function(){a.Ud(g.tb.erb);});this.j.volume.addListener(function(){a.Ud(g.tb.eFb);});this.j.Lb.addListener(function(){a.QKa();});this.j.state.addListener(function(){a.QKa();});this.j.y7.addListener(function(b){a.Aob||a.j.state.value!=g.mb.od||b.newValue||(a.Aob=!0,a.Ud(g.tb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.aAa());}));a.Ud(g.tb.z7);});this.j.ad.addListener(function(b){a.Ud(g.tb.DK);b.oldValue&&b.newValue&&b.oldValue.Fk==b.newValue.Fk||a.Ud(g.tb.aC);setTimeout(function(){var b;if(null!==a.j.ad.value&&null!==a.j.tc.value){b=a.j.ad.value.Fk;0<=b.indexOf(a.j.tc.value)||(a.log.info("Changing timed text track to match audio track"),a.j.tc.set(b[0]));}},0);});this.j.tc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.bb==b.newValue.bb||a.Ud(g.tb.CH);});this.j.addEventListener(g.T.aC,function(){a.Ud(g.tb.aC);});this.j.addEventListener(g.T.uP,function(){a.Ud(g.tb.uP);});this.j.state.addListener(function(b){switch(b.newValue){case g.mb.od:a.Ud(g.tb.Wdb);a.Ud(g.tb.$Eb);a.Ud(g.tb.Tta);a.Ud(g.tb.aC);a.Ud(g.tb.Cob);a.pGa();a.oFb();break;case g.mb.CLOSING:a.j.Pi&&a.Ud(g.tb.error,a.j.Pi.mia());break;case g.mb.CLOSED:a.Ud(g.tb.closed),a.Hb.rg();}});};b.prototype.oFb=function(){var a;a=this;this.j.Fn.addEventListener("showsubtitle",function(b){a.Ud(g.tb.CAb,b,!0);});this.j.Fn.addEventListener("removesubtitle",function(b){a.Ud(g.tb.ixb,b,!0);});};b.prototype.pGa=function(){if(this.j.state.value==g.mb.od){for(var a,b,c;b=this.FFa.shift();)a=this.j.Fn.z6(b.url,b.name,b.options),b.m7a&&(c=a);c&&this.j.tc.set(c);}};b.prototype.QKa=function(){var a;a=this.j.state.value==g.mb.od&&this.j.Lb.value==g.jb.Eq;this.ended!==a&&(this.ended=a,this.j.eo("Ended changed: "+a),(a||this.j.state.value===g.mb.CLOSING)&&this.Ud(g.tb.Leb));};b.prototype.NW=function(){var a,b;try{a=/playercore.*js/;b=f.Es.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(y){}};c.QSa=b;},function(d,c,a){var h,g,p,f,k,m,l,q,r,E,D;function b(a){this.ed=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(94);p=a(22);f=a(23);k=a(8);m=a(66);l=a(252);q=a(456);r=a(943);E=a(251);D=a(81);b.prototype.Jbb=function(a,b,c,d){return new r.QSa(this.ed.get(p.hf),this.ed.get(f.Oe),this.ed.get(k.Cb),this.ed.get(m.T1),this.ed.get(l.J3),this.ed.get(E.q3),this.ed.get(D.S1),this.ed.get(q.xka),a,b,c,d);};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(g.Xla))],a);c.QZa=a;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(458);h=a(944);c.YEb=new d.Bc(function(a){a(b.Opa).to(h.QZa).Z();});},function(d,c,a){var h,g;function b(a){this.config=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);a=a(17);b.prototype.vvb=function(a,b,c){var f,d;if(this.config().bzb){f=a.metrics;if(void 0!==f){d=a.playlistSegment||void 0;b.Au.transition({isBranching:void 0===d||void 0,isPlaygraph:d,mid:b.u,xid:b.ga,srcxid:c.ga,srcmid:c.u,segment:a.segmentId,srcsegment:f.srcsegment,srcsegmentduration:f.srcsegmentduration,srcoffset:f.srcoffset,seamlessRequested:f.seamlessRequested,transitionType:f.transitionType,delayToTransition:f.delayToTransition,durationOfTransition:f.durationOfTransition,atRequest:f.atRequest,atTransition:f.atTransition,discard:f.discard});}}};g=b;g=d.__decorate([h.N(),d.__param(0,h.l(a.md))],g);c.tZa=g;},function(d,c,a){var g,p;function b(){}function h(a,b,c,d,h){this.debug=a;this.version=b;this.tnb=c;this.eub=d;this.config=h;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);g=a(1);p=a(3);h.prototype.kib=function(){return this.config().tx;};h.prototype.Z$=function(){return this.config().kua;};h.prototype.Eaa=function(){return p.Ib(this.config().Cub);};h.prototype.tza=function(){return this.config().zob;};h.prototype.wza=function(){return this.config().upb;};b.prototype.kx=function(a,b,c,d,g){return new h(a,b,c,d,g);};a=b;a=d.__decorate([g.N()],a);c.CYa=a;},function(d,c,a){var p,f,k,m;function b(a,b,c,f,d,h,g){var n;n=this;this.W=b;this.j=c;this.Px=f;this.la=d;this.xK=h;this.he=g;this.BE=function(){n.Tx&&(n.Tx.cancel(),n.Tx=void 0);};this.log=a.wb("SegmentManager",this.j);this.Va=new Map();this.j.Xa.Ri&&(this.j.addEventListener(k.T.z_,function(a){return n.Fea(a);}),this.j.addEventListener(k.T.closed,this.BE));}function h(a,b){this.id=a;this.R7=b;}function g(a,b,c,d){return f.Ic.call(this,a,c,void 0,void 0,void 0,b,void 0,d)||this;}Object.defineProperty(c,"__esModule",{value:!0});p=a(2);f=a(45);k=a(13);m=a(3);da(g,f.Ic);g.prototype.toString=function(){return this.code+"-"+this.Xc+" : "+this.message+"\n"+JSON.stringify(this.data);};h.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.Af,contentEndPts:this.sg};};pa.Object.defineProperties(h.prototype,{Af:{configurable:!0,enumerable:!0,get:function(){return this.R7.startTimeMs;}},sg:{configurable:!0,enumerable:!0,get:function(){return this.R7.endTimeMs;}},$Y:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.R7.next);}}});b.prototype.Fea=function(a){var b,c;b=this;if(0===this.Va.size){c=this.j.AW();Object.keys(c).forEach(function(a){b.Va.set(a,new h(a,c[a]));});}this.fa=this.Va.get(a.segmentId);};b.prototype.play=function(a){this.PG&&(this.PG=void 0);this.BE();this.log.trace("Playing segment",a);return this.NBa(a)?this.hub(a):this.AZ(a);};b.prototype.Lh=function(a){this.log.trace("Queueing segment",a);return this.NBa(a)?this.Rvb(a):this.Tvb(a);};b.prototype.fp=function(a,b){var c,f;c=this;f=this.j.Bb;if(!f)return Promise.reject(this.getError(p.K.uja,"ASE session manager is not yet initialized",p.G.l1,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(d,h){try{f.z0(a,b);c.j.fireEvent(k.T.fp,{Ma:a,fEb:b});d();}catch(G){h(c.getError(p.K.uja,"updateNextSegmentWeights threw an exception",p.G.dNa,{segmentId:a,updates:b,error:G}));}});};b.prototype.NBa=function(a){return this.fa?void 0!==this.j.AW()[this.fa.id].next[a]:!1;};b.prototype.Rza=function(){if(this.j.Bb)return this.j.Bb.OW().ge;};b.prototype.tjb=function(){if(this.j.Bb)return this.j.Bb.OW().id;};b.prototype.shb=function(a){if(this.j.Bb)return(a=this.j.Bb.zW(a))&&a.Nc;};b.prototype.hub=function(a){var b,c,f;b=this;c=this.j.Bb;if(!c)return Promise.reject(this.getError(p.K.SH,"ASE session manager is not yet initialized",p.G.l1,{id:a}));if(this.fa&&1===this.fa.$Y.length)return this.AZ(a);if(!this.j.Si)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(p.K.SH,"MediaPresenter is not initialized",p.G.aNa,{id:a}));f=this.shb(a);return void 0===f?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.AZ(a)):new Promise(function(d,h){var t,r,u,y,z,E;function g(){!u&&r&&t&&(E.cancel(),u=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:r,repositioned:t,completed:u}),c.St(a,!1,!0)?(d(),u=!0):(u=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.AZ(a).then(d)["catch"](h)));}function n(){t=!0;b.log.trace("Player is repositioned",{id:a,stopped:r,repositioned:t,completed:u});b.j.removeEventListener(k.T.Uo,n);g();}function l(){b.j.removeEventListener(k.T.dy,l);c.stop();}function q(){r=!0;b.log.trace("ASE is stopped",{id:a,stopped:r,repositioned:t,completed:u});c.removeEventListener("stop",q);g();}t=!1;r=!1;u=!1;y=b.Va.get(a);z=y.Af+(f||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:z,currentSegment:b.fa,nextSegment:y},null,"  "));b.j.fireEvent(k.T.ZY,{qg:b.fa&&b.fa.id,FN:a});c.addEventListener("stop",q);b.j.addEventListener(k.T.dy,l);b.j.addEventListener(k.T.Uo,n);E=b.la.qh(m.rh(10),function(){u=!0;E.cancel();h(b.getError(p.K.SH,"Timed out waiting for the player to be repositioned and ASE to be stopped",p.G.$Ma,{id:a,stopped:r,repositioned:t,completed:u}));});b.W.seek(z,k.kg.XC);});};b.prototype.AZ=function(a){var b;b=this.Va.get(a);return b?this.DO(b,p.K.SH):Promise.reject(this.getError(p.K.SH,"Unable to find the separated segment",p.G.tja,{id:a}));};b.prototype.Rvb=function(a){var b;b=this.j.Bb;if(!b)return Promise.reject(this.getError(p.K.sC,"ASE session manager is not yet initialized",p.G.l1,{id:a}));if(b.St(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(p.K.sC,"ASE chooseNextSegment failed",p.G.YMa,{id:a}));};b.prototype.Tvb=function(a){var b,c;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.u,srcsegment:this.tjb()});if(this.PG)return Promise.reject(this.getError(p.K.sC,"Unable to queue a non-next segment because there is currently already a segment queued",p.G.cNa,{currentSegment:this.fa?this.fa.id:void 0,queuedSegment:this.PG.id,failedSegment:a}));if(!this.fa)return Promise.reject(this.getError(p.K.sC,"Unable to queue a non-next segment because there is no currently playing segment",p.G.ZMa,{nextSegmentid:a}));c=this.Va.get(a);if(!c)return Promise.reject(this.getError(p.K.sC,"Unable to find the separated segment",p.G.tja,{nextSegmentid:a,currentSegmentId:this.fa.id}));this.PG={id:a,Qr:new Promise(function(f,d){var h;b.Tx=b.Px.B8({Eaa:function(){return m.Ib(100);}},function(){return b.W.j.Yb.value||0;});h=b.Rza()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:h});b.Tx.observe(h,function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.fa.id,playerEndPts:b.Rza(),pts:h});b.PG=void 0;b.BE();b.DO(c,p.K.sC).then(f)["catch"](d);});})};this.PG.Qr["catch"](function(a){b.j.Pd(b.he(a.code,a));});return Promise.resolve();};b.prototype.DO=function(a,b){var c;c=this;return new Promise(function(f,d){try{c.W.seek(a.Af,k.kg.Pv);f();}catch(z){d(c.getError(b,"Seek threw an exception",p.G.bNa,{id:a.id,error:z}));}});};b.prototype.getError=function(a,b,c,f){this.log.warn(b,f);return new g(a,b,c,f);};c.vNa=b;},function(d,c,a){var f,k,m,l;function b(a,b,c,d,h,g,n,m,p){var q;q=this;this.ta=a;this.Px=c;this.cfa=d;this.config=h;this.he=g;this.YN=n;this.Pc=m;this.$eb=Object.keys(k.tb).map(function(a){return{event:k.tb[a],dX:function(b){return q.Hb.Sb(k.tb[a],b);}};});this.Hb=p.create();this.yB=[];this.log=b.wb("SegmentManager");new f.Xj();this.z$=!0;this.zf=this.Pc.createElement("div",l.Eoa);}function h(a,b,c,d,h,k,n,m,p){var l;l=this;this.log=a;this.config=b;this.hsb=c;this.cfa=d;this.he=h;this.YN=k;this.tq=n;this.ja=m;this.zf=p;this.BE=function(){l.Tx&&(l.Tx.cancel(),l.Tx=void 0);};this.iba=function(a){l.log.trace("Received the transition event",{movieId:a.u});l.hwb();};this.log.debug("Constructing session data",g(m));this.Sca=new f.Xj();this.GCb=new Promise(function(a){l.hwb=a;});}function g(a){return{movieId:a.u};}function p(a){return JSON.stringify({movieId:a.u,startPts:a.S,logicalEnd:a.wn,params:a.fb?{trackingId:a.fb.Rh,authParams:a.fb.EK,sessionParams:a.fb.Dn,disableTrackStickiness:a.fb.o9,uiPlayStartTime:a.fb.y0,loadImmediately:a.fb.mY,playbackState:a.fb.playbackState?{currentTime:a.fb.playbackState.currentTime,volume:a.fb.playbackState.volume,muted:a.fb.playbackState.muted}:void 0,pin:a.fb.IFa,heartbeatCooldown:a.fb.rba,uiLabel:a.fb.le}:void 0});}Object.defineProperty(c,"__esModule",{value:!0});f=a(143);k=a(13);m=a(3);l=a(11);h.prototype.load=function(a){var b,c;b=this;this.log.trace("Loading new segment",g(this.ja));this.W=this.cfa.Jbb(this.config,this.YN,this.he,this.ja);this.W.addEventListener(k.tb.HF,function(a){b.log.trace("Segment is inactive",g(b.ja));b.tq.close(b.he(a.errorCode));});this.W.addEventListener(k.tb.closed,this.BE);if(a)this.log.debug("Pausing background segment",g(this.ja)),this.W.addEventListener(k.tb.kca,this.iba),this.W.pause();else{this.zf.appendChild(this.W.ln());c=function(a){b.iba(a);b.W.removeEventListener(k.tb.loaded,c);};this.W.addEventListener(k.tb.loaded,c);}};h.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",p(this.ja));if(this.Tx)this.log.trace("Segment is currently observing",g(this.ja));else if(this.ja.fb&&this.ja.fb.mY)this.Sca.next(this);else{b=this.hsb.B8(this.config,function(){var b;if(a.W){b=a.W.j.Yb.value;if(b)return b;}return 0;});c=this.B8a(this.ja);this.log.trace("Adding a moment to watch",{time:c});b.observe(c,function(){a.log.trace("Segment has reached its loading point",g(a.ja));a.Sca.next(a);a.BE();});}};h.prototype.close=function(a){this.log.info("Closing segment",{segment:p(this.ja),error:a});return this.W?(this.W.removeEventListener(k.tb.kca,this.iba),this.W.close(a)):Promise.resolve();};h.prototype.B8a=function(a){var b,c;b=a.wn;a=a.fb?a.fb.mY:!1;c=0;b&&!a&&(c=b-this.config.tza(),c<this.config.wza()&&(a=b-this.config.wza(),c=b-a/2));return c;};b.prototype.xjb=function(){return this.Be&&this.Be.W?this.Be.W.isReady():!1;};b.prototype.ln=function(){return this.zf;};b.prototype.Gh=function(){if(!this.Be||!this.Be.W)throw Error("Player not ready");return this.Be.W;};b.prototype.UDb=function(a){var b,c;c=this.o$(a);c?this.VKa(c,a):(this.log.y6("xid",null===(b=this.Be.W)||void 0===b?void 0:b.ZW()),this.log.error("Tried to update a non-existent segment",{segment:p(a),currentMovieId:this.Be.ja.u,queuedMovieIds:this.yB.map(function(a){return a.ja.u;})}));};b.prototype.Cp=function(a){var b;this.log.info("Adding segment",p(a));this.z$?(this.log.trace("First segment, loading",g(a)),b=this.ECa(a),this.z$=!1):(this.log.trace("Subsequent segment, caching",g(a)),(b=this.o$(a))?this.VKa(b,a):(b=this.cn(a),this.yB.push(b),this.Be.observe()));return b?b.GCb:null;};b.prototype.transition=function(a){var b;if(this.Lu&&this.Lu.W){b=this.Lu;this.Lu=void 0;this.log.info("Transitioning segment",p(b.ja));b&&b.W&&b.W.MIa(this.ta.gc().ca(m.ha));return this.sKa(b,a);}return Promise.resolve();};b.prototype.close=function(a){var b;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(g(this.Be.ja)),nextSession:this.Lu?JSON.stringify(g(this.Lu.ja)):void 0});a=[this.Be.close(a)];this.Lu&&a.push(this.Lu.close());return Promise.all(a).then(function(){b.Lu=void 0;b.yB=[];b.z$=!0;});};b.prototype.addListener=function(a,b,c){this.Hb.addListener(a,b,c);};b.prototype.removeListener=function(a,b){this.Hb.removeListener(a,b);};b.prototype.VKa=function(a,b){this.Xsb(a.ja,b);this.log.trace("Overwrote existing segment data",p(a.ja));};b.prototype.ECa=function(a){var b,c;b=this;this.log.info("Loading the next episode",g(a));this.Be?(this.config.Z$()[a.u]=a.S,c=this.o$(a)):c=this.cn(a);if(c)return this.log.trace("Found the next session",g(a)),c.Sca.subscribe(function(a){b.vCb(a);}),this.Be?(this.log.trace("Subsequent playback, caching player and pausing",g(a)),this.Lu=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",g(a)),c.load(!1),this.sKa(c)),c;this.log.warn("Unable to find the session, make sure to add it before loading",g(a));};b.prototype.sKa=function(a,b){var c,f;b=void 0===b?{}:b;this.log.trace("Playing episode",g(a.ja));c=this.Be;this.Be=a;if(this.Be.W&&(this.Be.W.wIa(!1),this.TP(this.Be.W,c?c.W:void 0),c&&c.W)){f=c.W.ln();a=this.Be.W.ln();f.style.display="none";c=c.close();this.zf.appendChild(a);this.Be.W&&(a.style.display="block",this.Be.W.getError()?this.Be.W.close():(this.Be.W.wr().PDb(b),this.Be.W.YO(),this.Be.W.play()));c.then(function(){f.parentElement&&f.parentElement.removeChild(f);});return c;}return Promise.resolve();};b.prototype.vCb=function(a){var b,c,f,d;if(this.yB.length&&a.W){a=a.W.j.Yb.value;b=this.yB[0];c=this.Be.ja.wn;f=this.Be.ja.fb?this.Be.ja.fb.mY:!1;if(c||f){f?d=0:c&&(d=c-this.config.tza());null!==a&&a>=d&&(this.log.info("Got a time change, loading the next player",g(b.ja)),this.ECa(b.ja),this.yB.splice(0,1));}}};b.prototype.o$=function(a){return this.Be.ja.u===a.u?this.Be:this.yB.find(function(b){return b.ja.u===a.u;});};b.prototype.Xsb=function(a,b){a.S=b.S||a.S;a.wn=b.wn||a.wn;a.fb=b.fb||a.fb;a.wa=b.wa||a.wa;};b.prototype.cn=function(a){return new h(this.log,this.config,this.Px,this.cfa,this.he,this.YN,this,a,this.zf);};b.prototype.TP=function(a,b){this.$eb.forEach(function(c){b&&b.removeEventListener(c.event,c.dX);a.addEventListener(c.event,c.dX);});this.Hb.Sb(k.VC.GO);};c.EYa=b;},function(d,c,a){var h,g,p,f,k,m,l,q,r,E,D,z,G;function b(a,b,c,f,d,h,g,k,n,m){this.ta=a;this.cg=b;this.Px=c;this.ZEb=f;this.YN=d;this.la=h;this.xK=g;this.he=k;this.Z9=n;this.Pc=m;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(25);p=a(8);f=a(253);k=a(60);m=a(459);l=a(458);q=a(949);r=a(948);E=a(88);D=a(35);z=a(463);a=a(22);b.prototype.Ebb=function(a){return new q.EYa(this.ta,this.cg,this.Px,this.ZEb,a,this.he,this.YN,this.Pc,this.Z9);};b.prototype.hbb=function(a,b,c){c=void 0===c?this.he:c;return new r.vNa(this.cg,a,b,this.Px,this.la,this.xK,c);};G=b;G=d.__decorate([h.N(),d.__param(0,h.l(g.Bf)),d.__param(1,h.l(p.Cb)),d.__param(2,h.l(f.N2)),d.__param(3,h.l(l.Opa)),d.__param(4,h.l(m.loa)),d.__param(5,h.l(D.Xg)),d.__param(6,h.l(E.aQ)),d.__param(7,h.l(k.yl)),d.__param(8,h.l(z.CQ)),d.__param(9,h.l(a.hf))],G);c.DYa=G;},function(d,c,a){var b,h,g,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(252);h=a(460);g=a(950);p=a(947);f=a(457);k=a(946);c.Va=new d.Bc(function(a){a(b.J3).to(g.DYa).Z();a(h.Xoa).to(p.CYa).Z();a(f.ypa).to(k.tZa).Z();});},function(d,c){function a(a,c,d){this.la=a;this.config=c;this.getTime=d;}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.observe=function(a,c){var b;b=this;this.cancel();this.Mh=this.la.wga(this.config.Eaa(),function(){b.getTime()>=a&&(b.cancel(),c());});};a.prototype.cancel=function(){this.Mh&&(this.Mh.cancel(),this.Mh=void 0);};c.KUa=a;},function(d,c,a){var h,g,p;function b(a){this.la=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(952);a=a(35);b.prototype.B8=function(a,b){return new g.KUa(this.la,a,b);};p=b;p=d.__decorate([h.N(),d.__param(0,h.l(a.Xg))],p);c.JUa=p;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(253);h=a(953);c.Sqb=new d.Bc(function(a){a(b.N2).to(h.JUa).Z();});},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.reduce=function(a,b,c){for(;void 0!==a;a=a.cause)c=b(c,a);return c;};},function(d,c,a){var E,D,z,G;function b(a,b){this.Lc=a;this.Yc=b;this.xd=[];}function h(a){return r.call(this,a,function(a){return{Details:a};})||this;}function g(a){return r.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function p(a,b){b=r.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.Lc=a;return b;}function f(a,b){b=r.call(this,b,function(a){return a();})||this;b.Yc=a;return b;}function k(a,b){return l.call(this,a,b,function(a){var b;b=D.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;k.L9a(b,a,"stack","message");return a;},{});return Object.assign(Object.assign({},a),b);})||this;}function m(a){return r.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function l(a,b,c){b=r.call(this,b,c)||this;b.Yc=a;return b;}function q(a){return r.call(this,a,function(a){return{Details:a};})||this;}function r(a,b){this.rq=a;this.value=b?b(a):a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);E=a(1);D=a(955);z=a(22);a=a(41);r.prototype.QL=function(a){return this.rq===a;};da(q,r);q.prototype.bC=function(a,b){return b?"":"\r\n"+this.rq;};da(l,r);l.prototype.bC=function(){var a;a="";this.Yc.$w(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(W){try{a+=", "+b+": "+JSON.stringify(c);}catch(Y){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};da(m,r);m.prototype.bC=function(a){var b;b="\r\n"+this.rq.message;a||(b+="\r\n"+this.rq.stack);return b;};da(k,l);k.L9a=function(a,b,c){var h,g;for(var f=[],d=2;d<arguments.length;++d)f[d-2]=arguments[d];for(d=0;d<f.length;++d){h=a[f[d]];if(void 0!==h){g=""+f[d];b[g]=b[g]||[];b[g].push(h);}}};c.DIb=k;da(f,r);f.prototype.bC=function(){var a;a="";this.Yc.$w(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[\r\n]+ */g," ");};da(p,r);p.prototype.bC=function(a,b){return this.rq&&!b?"\r\n"+this.Lc.encode(this.rq):"";};da(g,r);g.prototype.bC=function(){return this.rq?this.rq.toJSON():"";};da(h,r);h.prototype.bC=function(){return", "+(this.rq.toString?""+this.rq.toString():"");};b.prototype.J5a=function(a){this.xd.push(new q(a));};b.prototype.w5a=function(a){this.xd.push(new l(this.Yc,a));};b.prototype.k5a=function(a){this.xd.push(new m(a));};b.prototype.i5a=function(a){this.xd.push(new k(this.Yc,a));};b.prototype.n5a=function(a){this.xd.push(new f(this.Yc,a));};b.prototype.K5a=function(a){this.xd.push(new p(this.Lc,a));};b.prototype.u5a=function(a){this.xd.push(new g(a));};b.prototype.L5a=function(a){this.xd.push(new h(a));};b.prototype.ek=function(){return this.xd;};G=b;G=d.__decorate([E.N(),d.__param(0,E.l(a.Rj)),d.__param(1,E.l(z.hf))],G);c.qTa=G;},function(d,c,a){var h,g,p,f;function b(a,b){this.Lc=a;this.Yc=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(956);p=a(41);a=a(22);b.prototype.Eib=function(){return new g.qTa(this.Lc,this.Yc);};f=b;f=d.__decorate([h.N(),d.__param(0,h.l(p.Rj)),d.__param(1,h.l(a.hf))],f);c.pTa=f;},function(d,c,a){var h,g;function b(a,b,c,d,h,g,n){this.level=a;this.Nl=b;this.timestamp=c;this.message=d;this.xd=h;this.prefix=g;this.index=void 0===n?0:n;}Object.defineProperty(c,"__esModule",{value:!0});h=a(3);g={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};b.prototype.q0=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.DBb(!!a));return(this.timestamp.ca(h.ha)/1E3).toFixed(3)+"|"+this.index+"|"+(g[this.level]||this.level)+"|"+this.Nl+"| "+a;};b.prototype.DBb=function(a){var h;for(var b=this.xd.length,c="",d=0;d<b;++d){h=this.xd[d].rq;d&&c.length&&(c+=" ");if("object"===typeof h)if(null===h)c+="null";else if(h instanceof Error)c+=this.CBb(h,a);else try{c+=JSON.stringify(h);}catch(u){c+=this.BBb(h);}else c+=h;}return c;};b.prototype.CBb=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};b.prototype.BBb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};c.GMa=b;},function(d,c,a){var h,g;function b(a,b,c,d,g,n){a=h.xI.call(this,a,b,c,d)||this;a.gba=g;Array.isArray(n)?a.prefix=n:n&&"string"===typeof n&&(a.prefix=[],a.prefix.push(n));return a;}Object.defineProperty(c,"__esModule",{value:!0});h=a(254);g=a(958);da(b,h.xI);b.prototype.ww=function(a,b,c){a=new g.GMa(a,this.Nl,this.ta.gc(),b,c,this.prefix);b=Q(this.rl.rl);for(c=b.next();!c.done;c=b.next())c=c.value,c(a);};b.prototype.D8=function(a){return new b(this.ta,this.Kt,this.rl,a,this.gba,this.prefix);};c.HMa=b;},function(d,c,a){var h,g,p;function b(a,b,c,d,g){a=p.xI.call(this,a,b,c,g)||this;a.j=d;h.xn(a,"playback");return a;}Object.defineProperty(c,"__esModule",{value:!0});h=a(55);g=a(461);p=a(254);da(b,p.xI);b.prototype.D8=function(a){return new b(this.ta,this.Kt,this.rl,this.j,a);};b.prototype.ww=function(a,b,c){a=new g.pma(a,this.Nl,this.ta.gc(),b,c,this.j.index);b=Q(this.rl.rl);for(c=b.next();!c.done;c=b.next())c=c.value,c(a,this.j);};c.ZWa=b;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.EnumeratedErrorBase=function(a,b,c,d){this.type=a;this.name=a.name;this.number=b;"string"===typeof c?this.message=c:void 0!==c&&(this.cause=c);void 0!==d&&(this.message=d);};},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(961);c.yE=function(a,c){var f;a=a.Eib();for(var d=0;d<c.length;++d){f=c[d];void 0!=f&&null!=f&&(f.Lg&&(f=f.Lg),f.constructor===Uint8Array?a.K5a(f):"MediaRequest"===f.constructor.name?a.u5a(f):"string"===typeof f?a.J5a(f):"function"===typeof f?a.n5a(f):f instanceof Error?a.k5a(f):f instanceof b.EnumeratedErrorBase?a.i5a(f):f instanceof Object?a.w5a(f):a.L5a(f));}return a.ek();};},function(d,c,a){var h,g,p,f,k,m,l;function b(a,b,c){this.ta=a;this.rl=b;this.Yca=c;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(254);g=a(1);p=a(960);f=a(25);k=a(101);m=a(8);l=a(959);b.prototype.wb=function(a,b,c,f,d){c=void 0===c?this.rl:c;return b?new p.ZWa(this.ta,this.Yca,c,b,a):d?new l.HMa(this.ta,this.Yca,c,a,f||"",d):new h.xI(this.ta,this.Yca,c,a);};a=b;a=d.__decorate([g.N(),d.__param(0,g.l(f.Bf)),d.__param(1,g.l(k.KC)),d.__param(2,g.l(m.qma))],a);c.xTa=a;},function(d,c,a){var h;function b(){this.wha={};this.rl=[];}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);a=a(1);b.prototype.b_=function(a,b){var c;c=this;b&&(this.wha[a]=b,this.rl=Object.keys(this.wha).map(function(a){return c.wha[a];}));};h=b;h=d.__decorate([a.N()],h);c.yTa=h;},function(d,c,a){var b,h,g,p,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(964);h=a(963);d=a(1);g=a(101);p=a(8);f=a(957);c.Xob=new d.Bc(function(a){a(p.Cb).to(h.xTa).Z();a(g.KC).to(b.yTa).Z();a(p.qma).to(f.pTa).Z();});},function(d,c,a){var h,g;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(255);b.prototype.eF=function(a,b){var c;c=this;a&&Object.keys(b).forEach(function(f){var d,h,k;d=b[f];if(c.wmb(d)){h=Q(d);d=h.next().value;k=h.next().value;h=a[d];Array.isArray(h)?(c.f9(a,f,d),h.forEach(function(a){c.eF(a,k);})):d===g.hz?Object.keys(a).forEach(function(b){c.eF(a[b],k);}):(c.f9(a,f,d),"object"===typeof h&&c.eF(h,k));}else c.f9(a,f,d);});};b.prototype.wmb=function(a){return Array.isArray(a);};b.prototype.f9=function(a,b,c){a.hasOwnProperty(b)||b===c||Object.defineProperty(a,b,{get:function(){return a[c];},enumerable:!1});};a=b;a=d.__decorate([h.N()],a);c.MQa=a;},function(d,c,a){var h,g;function b(a,b){this.la=a;this.PU=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);a=a(35);b.prototype.Eb=function(a){this.rg();this.Mh=this.la.qh(this.PU,a);};b.prototype.rg=function(){this.Mh&&this.Mh.cancel();this.Mh=void 0;};g=b;g=d.__decorate([h.N(),d.__param(0,h.l(a.Xg))],g);c.JPa=g;},function(d,c,a){var h,g,p;function b(a,b,c){this.la=a;this.ECb=b;this.dX=c;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(35);g=a(1);p=a(3);b.prototype.fu=function(){this.Mh||(this.Mh=this.la.qh(p.Ib(this.ECb),this.dX));};b.prototype.th=function(){this.Mh&&this.Mh.cancel();this.Mh=void 0;};a=b;a=d.__decorate([g.N(),d.__param(0,g.l(h.Xg))],a);c.pZa=a;},function(d,c,a){var h,g;function b(a){this.Pc=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);a=a(22);b.prototype.n6a=function(a,b){var c;c={enableVP9:!0};67<=this.thb(a)&&this.Pc.aB(b,c);};b.prototype.thb=function(a){return(a=a.match(/Chrome\/(\d*)\./))&&Number(a[1])||0;};g=b;g=d.__decorate([h.N(),d.__param(0,h.l(a.hf))],g);c.LZa=g;},function(d,c){function a(){this.searchParams={};}function b(b){this.Xm=b;this.searchParams=new a();}Object.defineProperty(c,"__esModule",{value:!0});b.prototype.toString=function(){return this.href;};pa.Object.defineProperties(b.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.Xm+this.searchParams.toString();}}});c.KZa=b;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){var a,b;a=this;b=Object.keys(this.searchParams);return 0<b.length?b.reduce(function(b,c,d){return""+b+(0==d?"?":"&")+c+"="+a.searchParams[c];},""):"";};},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.y3="PrioritizedSetOfListsSymbol";c.wXa="PrioritizedSetOfListsFactorySymbol";c.xXa="PrioritizedSetOfSetsFactorySymbol";},function(d,c,a){var h,g,p,f;function b(a,b,c){var f;f=this;this.app=a;this.la=b;this.PU=c;this.Nu=function(a){f.Mh=void 0;f.nDb(a||f.PU);};this.oCa=p.Ib(-this.PU.ca(p.ha));}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(25);p=a(3);a=a(35);b.prototype.Eb=function(a){this.yga=a;this.Mh=this.Mh||this.Pb(this.Nu);};b.prototype.rg=function(){this.Mh&&this.Mh.cancel();this.Mh=void 0;};b.prototype.nDb=function(a){var b,c;b=this.app.gc();if(this.yga){c=a.Ac(b.Ac(this.oCa));0>=c.Pl(p.xe)?(a=this.yga,this.yga=void 0,this.oCa=b,a()):this.Mh=this.Mh||this.la.qh(c,this.Nu.bind(this,a));}};b.prototype.Pb=function(a){return this.la.qh(p.xe,a);};f=b;f=d.__decorate([h.N(),d.__param(0,h.l(g.Bf)),d.__param(1,h.l(a.Xg))],f);c.fZa=f;},function(d,c,a){var h,g,p,f,k,m,l,q,r;function b(a,b){this.ta=a;this.config=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);g=a(1);p=a(25);f=a(45);k=a(2);m=a(13);l=a(3);q=a(10);a=a(469);b.prototype.edb=function(a){var b,c,d,g,n,p,q,t,r;b=this;n=a.Yb.value;p=a.io.value;q=a.Lb.value;t=a.state.value;g={segmentId:a.Caa(),mediaTime:n,segmentTime:a.yA(),bufferingState:h.f8a[p],presentingState:h.evb[q],playbackState:h.pub[t],mseBuffersBusy:this.Qjb(a),intBuffersBusy:this.wib(a),tabVisible:this.gCb(),decodedFrameCount:this.ucb(a),videoElementInDom:this.VEb(a),lastVideoSync:this.ta.gc().Ac(l.Ib(a.jP)).ca(l.ha)};r=q===m.jb.Vf?a.Xa.Ri?this.config.jFa:this.config.iFa:this.config.TDa;p!==m.gf.od?(c=k.G.JOa,this.oua(g.mseBuffersBusy,g.intBuffersBusy)&&(d=h.vja)):q!==m.jb.Jc&&(c=k.G.KOa,(a=a.Si)&&a.Db.sourceBuffers.forEach(function(a){var c,f;c=h.rN[a.M];g[c+"Ranges"]=a.yW();a=a.buffered();if(0===a.length)g[c+"Undecoded"]=0,d=h.eNa;else{f=1E3*a.end(0)-n;g[c+"Undecoded"]=f;1<a.length&&(d=h.fNa);n<1E3*a.start(0)||n>1E3*a.end(0)?d=h.gNa:f<r.ca(l.ha)?d=h.hNa:b.oua(g.mseBuffersBusy,g.intBuffersBusy)&&(d=h.vja);}}));a="";try{a=JSON.stringify(g);}catch(A){a="Cannot stringify details: "+A;}return new f.Ic(k.K.xna,c,d,void 0,void 0,void 0,a,void 0);};b.prototype.Qjb=function(a){var b;if(a.Db){b={};a.Db.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};b.prototype.wib=function(a){var b;if(a.Db){b={};a.Db.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.mk()};});return b;}};b.prototype.gCb=function(){return!q.ne.hidden;};b.prototype.ucb=function(a){return(a=a.Si)&&(a=a.Db.cb)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};b.prototype.VEb=function(a){if(a=a.Si)if(a=a.Db.cb)return q.ne.body.contains(a);return!1;};b.prototype.oua=function(a,b){var c,f,d,h;return!((null===(c=a.audio)||void 0===c?void 0:c.updating)===(null===(f=b.audio)||void 0===f?void 0:f.updating)&&(null===(d=a.video)||void 0===d?void 0:d.updating)===(null===(h=b.video)||void 0===h?void 0:h.updating));};r=h=b;r.eNa="1";r.fNa="2";r.gNa="3";r.vja="4";r.hNa="5";r.rN=["Audio","Video"];r.f8a=["","NORMAL","BUFFERING","STALLED"];r.evb=["","WAITING","PLAYING ","PAUSED","ENDED"];r.pub=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];r=h=d.__decorate([g.N(),d.__param(0,g.l(p.Bf)),d.__param(1,g.l(a.Yma))],r);c.NPa=r;},function(d,c,a){var h,g,p,f;function b(a,b){this.ta=a;this.entries=new Set();this.ka=b.wb("TimingApi");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(25);p=a(3);a=a(8);b.prototype.mark=function(a,b,c){a={name:a,ds:this.ta.gc()};b&&(a.ga=b);c&&(a.hk=c);this.entries.add(a);return a;};b.prototype.yaa=function(){var a;a=[];this.entries.forEach(function(b){return a.push(b);});return a;};b.prototype.xza=function(a){return this.yaa().filter(function(b){return b.ga===a;});};b.prototype.vza=function(){var a;a={};try{a=this.yaa().filter(function(a){return!a.ga;}).reduce(function(a,b){a[b.name]=b.ds.ca(p.ha);return a;},{});}catch(m){this.ka.error(" getMapOfCommonMarks exception",m);}return a;};b.prototype.gHa=function(a){var b;b=this;this.yaa().forEach(function(c){c.ga===a&&b.entries["delete"](c);});};f=b;f=d.__decorate([h.N(),d.__param(0,h.l(g.Bf)),d.__param(1,h.l(a.Cb))],f);c.vpa=f;},function(d,c,a){var h,g,p,f;function b(a){return g.eQ.call(this,a,"ClockConfigImpl")||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(36);g=a(39);p=a(1);a=a(28);da(b,g.eQ);pa.Object.defineProperties(b.prototype,{hLa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});f=b;d.__decorate([h.config(h.rd,"usePerformanceApi")],f.prototype,"hLa",null);f=d.__decorate([p.N(),d.__param(0,p.l(a.z1))],f);c.qOa=f;},function(d,c,a){var h,g,p,f;function b(a){a=g.eQ.call(this,a,"DebugConfigImpl")||this;a.oQb=function(){debugger;};return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(36);g=a(39);p=a(1);a=a(28);da(b,g.eQ);pa.Object.defineProperties(b.prototype,{$7a:{configurable:!0,enumerable:!0,get:function(){return!1;}}});f=b;d.__decorate([h.config(h.rd,"breakOnError")],f.prototype,"$7a",null);f=d.__decorate([p.N(),d.__param(0,p.l(a.z1))],f);c.KPa=f;},function(d,c,a){var h,g,p,f;function b(a,b,c){this.config=a;this.Ga=b;this.ka=c.wb("General");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(23);p=a(91);a=a(8);b.prototype.assert=function(){};b.prototype.F6a=function(a,b){this.assert(this.Ga.fA(a),b);};b.prototype.G6a=function(a,b){this.assert(this.Ga.Qd(a),b);};b.prototype.L6a=function(a,b){this.assert(this.Ga.Um(a),b);};b.prototype.O6a=function(a,b){this.assert(this.Ga.Il(a),b);};b.prototype.M6a=function(a,b){this.assert(this.Ga.Um(a)||null===a||void 0===a,b);};b.prototype.J6a=function(a,b){this.assert(this.Ga.Zg(a),b);};b.prototype.I6a=function(a,b){this.assert(this.Ga.O6(a),b);};b.prototype.N6a=function(a,b){this.assert(this.Ga.Yq(a),b);};b.prototype.K6a=function(a,b){this.assert(this.Ga.mK(a),b);};b.prototype.D6a=function(a,b){this.assert(this.Ga.lK(a),b);};b.prototype.H6a=function(a,b){this.assert(this.Ga.UT(a),b);};b.prototype.pmb=function(){this.assert(!1,"invalid operation, this method should not be called");};b.RRb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var f;f={toString:function(){return"";}};a(f,c||b);return f.stack;}:function(){try{throw Error("capture stack");}catch(t){return t.stack;}};};f=b;f=d.__decorate([h.N(),d.__param(0,h.l(p.pka)),d.__param(1,h.l(g.Oe)),d.__param(2,h.l(a.Cb))],f);c.LPa=f;},function(d,c,a){var h,g,p,f;function b(a,b){this.is=a;this.Yc=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);g=a(1);p=a(23);a=a(22);b.prototype.encode=function(a){var b,c;b=this;c="";this.Yc.$w(a,function(a,f){a=b.lxa(a)+"="+b.lxa(f);c=c?c+(","+a):a;});return c;};b.prototype.lxa=function(a){return this.is.fA(a)?this.is.Zg(a)?""+a:this.is.Um(a)?(a=a.replace(h.bHa,this.sda.bind(this)),!h.Vvb.test(a)&&h.grb.test(a)&&(a='"'+a+'"'),a):this.is.lK(a)?""+a:this.is.q6(a)?"NaN":"":"";};b.prototype.sda=function(a){return h.map[a];};f=h=b;f.map={'"':'""',"\r":"","\n":" "};f.bHa=/(?!^.+)["\r\n](?=.+$)/g;f.Vvb=/["].*["]/g;f.grb=/[", ]/;f=h=d.__decorate([g.N(),d.__param(0,g.l(p.Oe)),d.__param(1,g.l(a.hf))],f);c.COa=f;},function(d,c,a){var h,g,p,f;function b(a,b){this.Ia=a;this.sW=this.Ia.Ve.ca(p.ha)-1;this.Pob=this.cY=0;this.id=""+b.aA();}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(38);p=a(3);a=a(118);b.prototype.gc=function(){var a,b;a=this.Ia.Ve.ca(p.ha)-this.sW;if(a<this.cY){b=this.cY+1;this.sW-=b-a;a=b;}this.cY=a;return p.Ib(this.cY);};b.prototype.Fib=function(){return this.Pob++;};pa.Object.defineProperties(b.prototype,{TA:{configurable:!0,enumerable:!0,get:function(){return p.Ib(this.sW);}}});f=b;f=d.__decorate([h.N(),d.__param(0,h.l(g.dj)),d.__param(1,h.l(a.JC))],f);c.wMa=f;},function(d){d.P="function"===typeof Object.create?function(c,a){c.VBb=a;c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}});}:function(c,a){function b(){}c.VBb=a;b.prototype=a.prototype;c.prototype=new b();c.prototype.constructor=c;};},function(d){d.P=function(c){return c&&"object"===typeof c&&"function"===typeof c.oo&&"function"===typeof c.fill&&"function"===typeof c.QUb;};},function(d,c,a){var h;function b(a){this.Jgb=a;this.gX=!1;this.tX=this.Sf=this.xH=0;this.DM=!1;this.uX=0;}Object.defineProperty(c,"__esModule",{value:!0});h=a(473);b.prototype.x5a=function(a){a<this.xH&&(this.Sf+=this.xH);this.xH=a;this.gX=!0;};b.prototype.xhb=function(){if(this.gX)return this.DM?this.uX-this.tX:this.Sf+this.xH-this.tX;};b.prototype.refresh=function(){var a;a=this.Jgb();h.ma(a)&&this.x5a(a);};b.prototype.TAb=function(){this.DM||(this.gX&&(this.uX=this.Sf+this.xH),this.DM=!0);};b.prototype.jBb=function(){this.DM&&(this.gX&&(this.tX+=this.Sf+this.xH-this.uX),this.uX=0,this.DM=!1);};c.mVa=b;},function(d,c,a){var h,g,p;function b(a){this.la=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(35);p=a(63);b.prototype.rm=function(a,b){var c;c=this;return new Promise(function(f,d){var h;h=c.la.qh(a,function(){d(new p.Pn(a));});b.then(function(a){f(a);h.cancel();})["catch"](function(a){d(a);h.cancel();});});};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(g.Xg))],a);c.AXa=a;},function(d,c,a){var h,g,p,f,k,m,l,q;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);a=a(1);g=Array.prototype.slice;p=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");g=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");f={};k={};m={};l={};q=/\s+/g;[p,g].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];f[c]=b<<18;k[c]=b<<12;m[c]=b<<6;l[c]=b;}});b.prototype.encode=function(a){return h.L9(a,p,"=");};b.prototype.decode=function(a){return h.Y8(a);};b.Y8=function(a){var b,c,d;a=a.replace(q,"");b=a.length;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=a.charAt(b-1);"="!==c&&"."!==c||b--;c=3*(b>>2);d=0;switch(b%4){case 2:d=1;break;case 3:d=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c+d),h=0,g=0,n;g<c;){n=f[a[h++]]+k[a[h++]]+m[a[h++]]+l[a[h++]];if(!(0<=n&&16777215>=n))throw Error("bad base64");b[g++]=n>>>16;b[g++]=n>>>8&255;b[g++]=n&255;}if(0<d&&(n=f[a[h++]]+k[a[h++]],b[g++]=n>>>16,1<d&&(n+=m[a[h++]],b[g++]=n>>>8&255),!(0<=n&&16776960>=n&&0===(n&(1<d?255:65535)))))throw Error("bad base64");return b;};b.L9=function(a,b,c){for(var f="",d=0,h=a.length,g=h-2,k;d<g;){k=(a[d++]<<16)+(a[d++]<<8)+a[d++];if(!(0<=k&&16777215>=k))throw Error("not bytes");f+=b[k>>>18]+b[k>>>12&63]+b[k>>>6&63]+b[k&63];}if(d==g){k=(a[d++]<<8)+a[d++];if(!(0<=k&&65535>=k))throw Error("not bytes");f+=b[k>>>10]+b[k>>>4&63]+b[k<<2&63]+c;}else if(d==h-1){k=a[d++];if(!(0<=k&&255>=k))throw Error("not bytes");f+=b[k>>>2]+b[k<<4&63]+c+c;}return f;};g=h=b;g=h=d.__decorate([a.N()],g);c.kNa=g;},function(d,c,a){var h,g;function b(){}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);a=a(1);b.prototype.encode=function(a){return h.L9(a);};b.prototype.decode=function(a){return h.Y8(a);};b.L9=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,d=a.length,h="";b<d;){c=a[b++];if(!(0<=c&&255>=c))throw Error("bad utf8");if(c&128)if(192===(c&224))c=((c&31)<<6)+(a[b++]&63);else if(224===(c&240))c=((c&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");h+=String.fromCharCode(c);}return h;};b.Y8=function(a){var b,c,d,h,g;b=a.length;c=0;h=0;if(!(0<=b))throw Error("bad string");for(d=b;d--;)g=a.charCodeAt(d),128>g?c++:c=2048>g?c+2:c+3;c=new Uint8Array(c);for(d=0;d<b;d++)g=a.charCodeAt(d),128>g?c[h++]=g:(2048>g?c[h++]=192|g>>>6:(c[h++]=224|g>>>12,c[h++]=128|g>>>6&63),c[h++]=128|g&63);return c;};g=h=b;g=h=d.__decorate([a.N()],g);c.MZa=g;},function(d,c,a){var h,g,p,f,k,m,l;function b(a,b,c,f){var d;d=this;this.config=a;this.kcb=b;this.Hb=c;this.performance=f;this.Hsb=function(a){d.oIa=a.Ac(d.Ve);};h.xn(this,"date");h.xn(this,"performance");this.g6a=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.oIa=g.xe;this.Hb.addListener(l.$la.qIa,this.Hsb);}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(55);g=a(3);p=a(1);f=a(29);k=a(477);m=a(66);l=a(13);pa.Object.defineProperties(b.prototype,{Ve:{configurable:!0,enumerable:!0,get:function(){return this.YDa?g.timestamp(this.performance.timing.navigationStart+this.performance.now()):g.Ib(this.kcb.now());}},G_:{configurable:!0,enumerable:!0,get:function(){return this.Ve.add(this.oIa);}},YDa:{configurable:!0,enumerable:!0,get:function(){return this.config.hLa&&this.g6a;}}});a=b;a=d.__decorate([p.N(),d.__param(0,p.l(k.Tja)),d.__param(1,p.l(f.nka)),d.__param(2,p.l(m.W1)),d.__param(3,p.l(f.s3)),d.__param(3,p.optional())],a);c.rOa=a;},function(d,c,a){var h,g;function b(a){this.fCb=a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);a=a(140);b.prototype.random=function(){return this.fCb.random();};b.prototype.CGa=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};g=b;g=d.__decorate([h.N(),d.__param(0,h.l(a.ipa))],g);c.LXa=g;},function(d,c,a){var h,g,p,f,k;function b(a,b){this.Ia=a;this.random=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);g=a(1);p=a(3);f=a(38);a=a(140);b.prototype.aA=function(){return this.Ia.Ve.ca(p.Im)*h.Lja+Math.floor(this.random.random()*h.Lja);};k=h=b;k.Lja=1E4;k=h=d.__decorate([g.N(),d.__param(0,g.l(f.dj)),d.__param(1,g.l(a.DR))],k);c.JSa=k;},function(d,c,a){var g,p,f,k;function b(a){this.DH=a;p.xn(this,"timers");}function h(a,b){this.DH=a;this.N8a=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);g=a(1);p=a(55);f=a(29);k=a(3);h.prototype.cancel=function(){this.N8a(this.DH);};b.prototype.Eb=function(a){return this.qh(k.xe,a);};b.prototype.qh=function(a,b){var c;c=this.DH.setTimeout(b,a.ca(k.ha));return new h(this.DH,function(a){a.clearTimeout(c);});};b.prototype.wga=function(a,b){var c;c=this.DH.setInterval(b,a.ca(k.ha));return new h(this.DH,function(a){a.clearInterval(c);});};a=b;a=d.__decorate([g.N(),d.__param(0,g.l(f.Rpa))],a);c.xYa=a;},function(d,c,a){var b,h,g,p,f,k,m,l,q,r,E,D,z,G,M,B,P,H,Y,S,A,X,U,ia,T,Q,O,V,Z,da,R,ea,ja,Fa,Ha,la,fa,ga,ha,ka,na,pa,ra,qa,sa,ua,va,ca,ya,Ea,Ga,Ka,Ma,Na,Ra,Sa,Ta,Ua,Wa,Ya,Za,ab,cb;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(29);h=a(38);g=a(35);p=a(118);f=a(140);k=a(989);m=a(988);l=a(987);q=a(986);r=a(104);E=a(105);D=a(41);z=a(22);G=a(23);M=a(66);B=a(63);P=a(476);H=a(985);Y=a(257);S=a(984);A=a(475);X=a(983);U=a(150);ia=a(474);T=a(982);Q=a(472);O=a(103);V=a(979);Z=a(25);da=a(471);R=a(978);ea=a(977);ja=a(91);Fa=a(976);Ha=a(8);la=a(477);fa=a(975);ga=a(67);ha=a(974);ka=a(470);na=a(973);pa=a(972);ra=a(102);qa=a(10);sa=a(971);ua=a(468);va=a(467);ca=a(970);ya=a(466);Ea=a(17);Ga=a(47);Ka=a(60);Ma=a(465);Na=a(509);Ra=a(969);Sa=a(464);Ta=a(463);Ua=a(139);Wa=a(968);Ya=a(462);Za=a(967);ab=a(255);cb=a(966);c.Xz=new d.Bc(function(a){a(b.SI).uy(function(){return{};}).Z();a(b.Ny).Ph(JSON);a(b.Rpa).Ph(L);a(f.ipa).Ph(Math);a(b.mma).Ph(qa.V2);a(b.s3).Ph(qa.Es);a(b.V3).Ph(qa.Fm);a(b.nka).Ph(Date);a(b.Ov).Ph(qa.ej);a(b.CUa).Ph(qa.II);a(la.Tja).to(fa.qOa).Z();a(Z.Bf).to(V.wMa).Z();a(h.dj).to(q.rOa).Z();a(g.Xg).to(k.xYa).Z();a(p.JC).to(m.JSa).Z();a(B.Zy).to(X.AXa).Z();a(f.DR).to(l.LXa).Z();a(ja.ws).to(ea.LPa).Z();a(ja.pka).to(Fa.KPa).Z();a(r.gz).to(H.MZa).Z();a(E.Dy).to(Y.m1).Z();a(D.Rj).to(S.kNa).Z();a(z.hf).to(A.Fpa).Z();a(G.Oe).Ph(U.Fv);a(Sa.CQ).to(Ta.TQa).Z();a(M.T1).to(ia.Jk).Mba();a(M.bI).to(ia.Jk).Z();a(M.wka).to(ia.Jk).Z();a(M.W1).to(ia.Jk).Z();a(Q.fpa).to(O.dz).Z();a(da.bka).to(R.COa).Z();a(ga.fz).to(ha.vpa).Z();a(ga.EI).to(ha.vpa).Z();a("Factory<LoggerFactory>").ICb(Ha.Cb);a(ka.ska).to(na.NPa).Z();a(ra.$C).cf(function(a){return function(b){return new pa.fZa(a.hb.get(Z.Bf),a.hb.get(g.Xg),b);};});a(Ya.oka).cf(function(a){return function(b){return new Za.JPa(a.hb.get(g.Xg),b);};});a(sa.y3).KCb(ua.xoa);a(sa.wXa).cf(function(a){var b;b=a.hb.get(sa.y3);return function(){return new b(!1);};});a(sa.xXa).cf(function(a){var b;b=a.hb.get(sa.y3);return function(){return new b(!0);};});a(va.Dpa).cf(function(){return function(a){return new ca.KZa(a);};});a(Ka.yl).cf(function(a){return function(b,c,f){var d,h,g;d=a.hb.get(ja.ws);h=a.hb.get(Ea.md);g=a.hb.get(Ga.Mk);return new ya.eXa(d,h,g,Ma.Nma,b,c,f);};});a(P.mna).cf(function(){return function(a){return new T.mVa(a);};});a(Na.Epa).to(Ra.LZa).Z();a(Ua.bD).cf(function(a){return function(b,c){return new Wa.pZa(a.hb.get(g.Xg),b,c);};});a(ab.Wka).to(cb.MQa).Z();});},function(d,c,a){var b,h,g,p,f,k,m,l,q,r,E,D,z,G,M,B,P,H,Y,S,A,L,U,ia,T,Q,O,V,Z,da,R,ea;Object.defineProperty(c,"__esModule",{value:!0});b=a(990);h=a(965);g=a(954);p=a(951);f=a(945);k=a(942);m=a(938);l=a(926);q=a(915);r=a(911);E=a(909);D=a(712);z=a(710);G=a(706);M=a(694);B=a(687);P=a(680);H=a(677);Y=a(671);S=a(271);A=a(663);L=a(661);U=a(653);ia=a(649);T=a(641);Q=a(639);O=a(632);V=a(608);Z=a(589);da=a(585);R=a(581);ea=a(567);c.pob=function(a){a.load(b.Xz,k.ZB,h.Xob,m.qV,g.Sqb,p.Va,f.YEb,l.storage,q.Sz,r.u8a,E.mpb,D.dB,z.ii,G.Uob,M.nrb,B.zgb,P.Evb,H.FG,Y.Ydb,S.eme,A.crypto,L.Yc,U.Hc,ia.Ch,T.Wqb,Q.Btb,O.j,V.O9a,Z.bDb,da.sk,R.Of,ea.R6a);};},function(d,c,a){var g,p;function b(a,b,c,d,h){this.ta=a;this.config=b;this.la=c;this.Nu=d;this.name=h;}function h(a,b,c,d){var f;f=this;this.ta=a;this.la=b;this.timeout=c;this.DCb=d;this.Wkb=function(){f.Gp=!0;f.PA.cancel();f.DCb();};this.startTime=this.ta.gc();this.PA=this.la.qh(this.timeout,function(){f.Wkb();});this.Gp=!1;}Object.defineProperty(c,"__esModule",{value:!0});g=a(2);p=a(93);h.prototype.stop=function(){this.Gp||(this.a0=this.ta.gc(),this.PA.cancel());};pa.Object.defineProperties(h.prototype,{EV:{configurable:!0,enumerable:!0,get:function(){if(this.a0&&this.startTime)return this.a0.Ac(this.startTime);}}});b.prototype.T8a=function(){var a;a=this;this.CE=new h(this.ta,this.la,this.config.Lba,function(){a.Nu(new p.Uf(g.K.Loa,g.G.wQa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.Lba+"ms"));});};b.prototype.S8a=function(){this.CE&&this.CE.stop();};b.prototype.kzb=function(){this.MO=this.ta.gc();};b.prototype.U8a=function(){var a;a=this;this.E0=new h(this.ta,this.la,this.config.Dga,function(){a.Nu(new p.Uf(g.K.Loa,g.G.vQa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.Dga+"ms"));});};b.prototype.Fua=function(){this.E0&&this.E0.stop();};pa.Object.defineProperties(b.prototype,{gd:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.CE){b=this.CE.EV;b&&(a.GDa=b);this.MO&&this.CE.a0&&(a.MO=this.MO.Ac(this.CE.a0));}this.E0&&(b=this.E0.EV)&&(a.ova=b);return a;}}});c.EQa=b;},function(d,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.Wwa=function(a,c){for(var b=a.next(),d;b&&!b.done&&b.value;)d=b.value[0],b=b.value[1],c&&c(d,b),b=a.next();};c.HQa=a;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.CQa="EmeApiSymbol";},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=c.ys||(c.ys={});d[d.bLa=0]="usable";d[d.gfb=1]="expired";d[d.Twb=2]="released";d[d.nFa=3]="outputRestricted";d[d.Vsb=4]="outputDownscaled";d[d.eBb=5]="statusPending";d[d.lmb=6]="internalError";},function(d,c,a){var h,g,p,f,k,m,l,q,r,E,D,z,G,M,B,P,H,Y,S,A,L,Q;function b(a,b,c,d,h,k,n,m,l){var q;q=this;this.ta=b;this.Ft=c;this.config=d;this.Xf=h;this.bj=k;this.kr=n;this.la=m;this.Ck=l;this.onMessage=function(a){var b,c,d,h;b=q.bj.t8(a);c=b.Dj;d=b.FY;h=b.sessionId;q.QF=q.QF||b.QF;q.H_(h);q.xx=q.bj.xx(b);q.log.trace("Received "+a.type+" event",{sessionId:h,messageType:d,keyIds:q.QF,isIntermediateChallenge:q.xx});"license-renewal"===d&&(q.log.trace("Received a renewal request"),q.pi=E.Tj.Gm,q.wf=L.AB);q.wf!==L.oi||q.xx||(q.Pca={kr:q.kr,data:c},q.Vm(D.Dq.SGa));q.wf===L.AB&&q.Vm(D.Dq.TGa);if(q.ZM){if(q.jba(c)){q.Cr(new A.Ic(f.K.sQa));return;}q.ZM.next({gi:c,Lua:d,pi:q.pi});q.pi!==E.Tj.Gm||q.xx||(q.ZM.complete(),q.ZM=void 0);}q.wf===L.stop&&(q.th.S8a(),q.config.vi&&q.CO&&(q.CO.next({gi:c}),q.CO.complete(),q.CO=void 0));};this.$Ea=function(a){var b,c;b=q.bj.s8(a).zca;q.H_(a.target.sessionId);q.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem});try{H.HQa.Wwa(b,function(a,b){q.log.trace("key status: "+b);b=Q[b];q.lCa.next({Cx:new Uint8Array(a),value:b.status});q.JA(b.error)&&(c=new P.Uf(b.error),q.tca(c));});}catch(Da){c=new P.Uf(f.K.RVa);c.AL(Da);}c?q.uca(c):(q.bj.JU()||q.fCa(),q.pi!==E.Tj.Gv||q.bj.f7()||(q.log.info("Kicking off license renewal",{timeout:q.config.Ex}),setTimeout(function(){q.tO();},q.config.Ex.ca(p.ha))));};this.vG=function(a){var b;b=q.bj.Jp(a);q.log.error("Received event: "+a.type,b);q.Cr(b);q.uca(b);q.Qi||q.$l||q.tca(b);};this.Cr=function(a){q.Qi&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.bj.Jp(b));q.Qi&&(q.Qi.error(a),q.Qi=void 0);},function(){q.log.trace("Issuing a generate challenge error");q.Qi&&(q.Qi.error(a),q.Qi=void 0);});};this.eCa=function(){q.Qi&&(q.Qi.complete(),q.Qi=void 0);};this.uca=function(a){q.$l&&(q.log.error("Failed to add license",a),q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.bj.Jp(b));q.wf===L.AB&&q.Vm(D.Dq.ata);q.Qi=void 0;q.$l&&(q.$l.error(a),q.$l=void 0);},function(){q.log.trace("Issuing a license error");q.Qi=void 0;q.$l&&(q.$l.error(a),q.$l=void 0);}));};this.fCa=function(){q.$l&&(q.log.info("Successfully added license"),q.wf===L.oi?q.Vm(D.Dq.Xsa):q.wf===L.AB&&q.Vm(D.Dq.$sa),q.$l.complete(),q.$l=void 0);};this.tca=function(a){q.Op&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.bj.Jp(b));q.Qi=void 0;q.$l=void 0;q.Op&&(q.Op.next(a),q.Op.complete(),q.Op=void 0);},function(){q.log.trace("Issuing a CDM error");q.Qi=void 0;q.$l=void 0;q.Op&&(q.Op.next(a),q.Op.complete(),q.Op=void 0);});};this.Vm=function(a){q.gd.push({time:q.ta.gc(),yqb:a});};this.log=a.wb("EmeSession");this.ZM=new g.Xj();this.config.vi&&(this.CO=new g.Xj());this.lCa=new g.ER();this.Op=new g.Xj();this.wf=L.xDb;this.gd=[];}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(143);p=a(3);f=a(2);k=a(25);m=a(8);l=a(41);q=a(35);r=a(54);E=a(92);D=a(478);z=a(995);G=a(146);M=a(259);B=a(994);P=a(93);H=a(993);Y=a(992);S=a(63);A=a(45);(function(a){a[a.xDb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.oi=3]="license";a[a.AB=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(L||(L={})));Q={usable:{status:z.ys.bLa},expired:{status:z.ys.gfb,error:f.K.yna},released:{status:z.ys.Twb},"output-not-allowed":{status:z.ys.nFa,error:f.K.zna},"output-restricted":{status:z.ys.nFa,error:f.K.f3},"output-downscaled":{status:z.ys.Vsb},"status-pending":{status:z.ys.eBb},"internal-error":{status:z.ys.lmb,error:f.K.QVa}};b.prototype.sF=function(){return this.context.Wd;};b.prototype.px=function(){return this.sessionId;};b.prototype.close=function(){var a;a=this;this.wf=L.closed;this.gd=[];return this.Xf.anb()?(this.log.trace("Closing the session"),this.Xf.bxb(this.onMessage),this.Xf.Zwb(this.$Ea),this.Xf.Xwb(this.vG),this.il=void 0,g.Ba.create(function(b){a.Ck.rm(a.config.xta,a.Xf.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(c){a.log.error("Close failed",c);c=a.bj.Jp(c);c.code=f.K.TVa;b.error(c);});})):g.Ba.empty();};b.prototype.wnb=function(){return this.lCa.W6();};b.prototype.hF=function(){return this.Op?this.Op.W6():void 0;};b.prototype.Tp=function(){return this.kr;};b.prototype.Ar=function(){return void 0!==this.am;};b.prototype.cn=function(a,b,c,d){var h;h=this;this.pi=d;this.wf=L.create;this.context=a;this.Vm(D.Dq.xCa);return g.Ba.create(function(a){(c.GAa()?Promise.resolve():h.Ck.rm(h.config.yta,h.Xf.Gbb(b)).then(function(a){h.log.trace("Created media keys");c.LB(a);return h.m6a(a);})).then(function(){h.il=c.il;try{h.Xf.cn(h.il,h.bj.Oaa(d));h.Xf.v5a(h.onMessage);h.Xf.p5a(h.$Ea);h.Xf.j5a(h.vG);h.H_(h.Xf.px());a.next(h);a.complete();}catch(wa){a.error(new P.Uf(f.K.oQa,f.G.xh,void 0,"Unable to create a persisted key session",wa));}})["catch"](function(b){b.code&&b.Xc?a.error(b):a.error(new P.Uf(f.K.N1,b instanceof S.Pn?f.G.eI:f.G.xh,void 0,"Unable to create MediaKeys. "+b.message,b));});});};b.prototype.Ozb=function(a){this.Og=a;this.log.y6("xid",a.ga);};b.prototype.yob=function(a){var b;b=this;this.wf=L.load;return g.Ba.sr(this.Xf.load(a).then(function(){return b;}));};b.prototype.pW=function(a){var b;b=this;this.wf=L.oi;this.log.trace("Generating a license challenge");this.Qi=new g.Xj();if(!a)return this.HU(new P.Uf(f.K.Lka,f.G.P1));if(this.jba(a))return this.HU(new P.Uf(f.K.Lka,f.G.O1));this.Ck.rm(this.config.zta,this.Xf.S$("cenc",a)).then(function(){b.H_(b.Xf.px());})["catch"](function(a){var c;c=new P.Uf(f.K.Kka,a instanceof S.Pn?f.G.eI:f.G.xh);c.message="Unable to generate request.";c.AL(a);b.log.error("Unable to generate a license request",c);b.Cr(c);});this.log.trace("Returning the challenge subject");return this.Qi;};b.prototype.Wsa=function(a){var b;b=this;this.oc=a.oc;a=a.am.map(function(a){return a.data;});this.jba(a)?(this.log.error("The license buffer is empty"),this.Cr(new P.Uf(f.K.Mka,f.G.O1))):this.xx?this.Ck.rm(this.config.Q6,this.Xf.update(a,this.QF)).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.bj.Jp(a);a.code=f.K.BQ;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.Cr(a);}):(this.wf===L.oi&&(this.Vm(D.Dq.RGa),this.am=a,this.eCa()),this.wf===L.AB&&(this.Vm(D.Dq.UGa),this.am=a,this.U6()));};b.prototype.s5a=function(a){this.wf===L.AB?(this.Vm(D.Dq.VGa),this.tca(a)):this.Cr(a);};b.prototype.U6=function(){var a,b;a=this;if(!this.am)return this.HU(new P.Uf(f.K.Mka,f.G.P1));this.$l=new g.Xj();b=this.am;this.am=void 0;this.Ck.rm(this.config.Q6,this.Xf.update(b,this.QF)).then(function(){a.bj.JU()&&a.fCa();})["catch"](function(b){b=a.bj.Jp(b);b.code=f.K.Cna;b.message="Unable to update the EME";a.log.error(b.message,b);a.uca(b);});return this.$l;};b.prototype.UF=function(){return this.ZM;};b.prototype.sya=function(){var a;a=this;if(this.wf===L.oi&&this.pi===E.Tj.Gv)return g.Ba.empty();this.wf=L.stop;this.log.trace("Generating a secure stop challenge");this.Qi=new g.Xj();this.th=new Y.EQa(this.ta,this.config,this.la,function(){a.log.error("got a timeout error");},"non-persisted");this.th.T8a();this.Xf.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var c;c=a.bj.Jp(b);c.code=f.K.Oka;c.Xc=f.G.xh;c.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{error:b});a.Cr(c);});return this.Qi;};b.prototype.cta=function(a){a&&a.constructor!==Uint8Array?this.Cr(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.Cr(new P.Uf(f.K.Nka,f.G.O1))):(this.log.trace("Secure stop is ready to apply"),this.bIa=a,this.th.kzb(),this.eCa()):(this.log.error("The secure stop buffer is undefined"),this.Cr(new P.Uf(f.K.Nka,f.G.P1)));};b.prototype.q6a=function(){var a;a=this;if(!this.bIa)return g.Ba.from([this]);this.log.trace("Setting the secure stop data");return g.Ba.create(function(b){a.th.U8a();a.Xf.update([a.bIa]).then(function(){a.th.Fua();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(c){var d;a.th.Fua();d=a.bj.Jp(c);d.code=f.K.BQ;d.Xc=f.G.xh;d.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:c});b.error(d);});});};b.prototype.m6a=function(a){var b,c;b=this;c=this.bj.baa();return c?(c=this.Ft.decode(c),this.Ck.rm(this.config.Ata,this.Xf.Tzb(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};b.prototype.H_=function(a){a&&a!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+a),this.sessionId=a,this.log.y6("sessionId",a));};b.prototype.JA=function(a){return a===f.K.f3?this.config.rZ:!!a;};b.prototype.tO=function(){var a;a=this;this.log.trace("Initiating a renewal request");this.pi=E.Tj.Gm;this.wf=L.AB;this.bj.bca(this.Xf)["catch"](function(){return a.HU(new A.Ic(f.K.AQ));});};b.prototype.HU=function(a){var b;b=this;return g.Ba.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};b.prototype.jba=function(a){return 0===a.length||a.reduce(function(a,b){return a||0===b.length;},!1);};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(m.Cb)),d.__param(1,h.l(k.Bf)),d.__param(2,h.l(l.Rj)),d.__param(3,h.l(r.Dm)),d.__param(4,h.l(B.CQa)),d.__param(5,h.l(M.hQa)),d.__param(6,h.l(G.jQa)),d.__param(7,h.l(q.Xg)),d.__param(8,h.l(S.Zy))],a);c.GQa=a;},function(d,c,a){var h,g,p,f,k,m,l,q,r;function b(a,b,c,f,d,h,g){this.Er=a;this.ta=b;this.Lc=c;this.config=f;this.la=d;this.Ck=h;this.gl=g;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(8);p=a(25);f=a(41);k=a(54);m=a(35);l=a(63);q=a(996);a=a(106);b.prototype.create=function(){var a;a=this;return Promise.all([this.gl.Vhb(),this.gl.Uhb(),this.gl.Tp()]).then(function(b){var c,f;c=Q(b);b=c.next().value;f=c.next().value;c=c.next().value;return new q.GQa(a.Er,a.ta,a.Lc,a.config,b,f,c,a.la,a.Ck);});};r=b;r=d.__decorate([h.N(),d.__param(0,h.l(g.Cb)),d.__param(1,h.l(p.Bf)),d.__param(2,h.l(f.Rj)),d.__param(3,h.l(k.Dm)),d.__param(4,h.l(m.Xg)),d.__param(5,h.l(l.Zy)),d.__param(6,h.l(a.Jv))],r);c.FQa=r;},function(d,c,a){var h,g,p,f,k,m,l,q,r,E;function b(a,b,c,f,d){this.Yc=a;this.ei=b;this.Lc=c;this.Th=f;this.Ce=d;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(2);p=a(22);f=a(105);k=a(104);m=a(93);l=a(63);q=a(54);r=a(41);E=a(479);b.prototype.JU=function(){return!1;};b.prototype.f7=function(){return!1;};b.prototype.Oaa=function(){return this.Ce.vi?"persistent-usage-record":"temporary";};b.prototype.baa=function(){return E.ala;};b.prototype.Kaa=function(){return[{initDataTypes:["cenc"],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary","persistent-usage-record"]}];};b.prototype.xx=function(a){return this.Yc.Lw(a.Dj[0],this.Th.decode("certificate"));};b.prototype.bca=function(a){return a.tO();};b.prototype.t8=function(a){var b,c,f;b=this;if("license-request"===a.messageType){c=this.Th.encode(new Uint8Array(a.message));f=JSON.parse(c);c=f.map(function(a){return b.Lc.decode(a.payload);});f=f.map(function(a){return a.keyID;});return{type:a.type,sessionId:a.target.sessionId,QF:f,Dj:c,FY:"license-request"};}return{type:a.type,sessionId:a.target.sessionId,Dj:[new Uint8Array(a.message)],FY:a.messageType};};b.prototype.s8=function(a){return{type:a.type,sessionId:a.target.sessionId,zca:a.target.keyStatuses.entries()};};b.prototype.Jp=function(a){var b,c,f,d;c=null===(b=a.target)||void 0===b?void 0:b.error;c&&(f=c.systemCode,d=c.code);b=new m.Uf(g.K.rR,a instanceof l.Pn?g.G.eI:g.G.yC,f?this.ei.aM(f,4):d,"",c);b.AL(a);return b;};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(p.hf)),d.__param(1,h.l(f.Dy)),d.__param(2,h.l(r.Rj)),d.__param(3,h.l(k.gz)),d.__param(4,h.l(q.Dm))],a);c.tYa=a;},function(d,c){function a(a,c,d){var b;b=this;this.Lc=a;this.Pc=c;this.Th=d;this.Cib=function(a){var c;a=a.subarray(14,30);a=b.Lc.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);c=new Uint8Array(16);c.set(a);return c;};this.dRa={FNa:1667591779,sHb:1667392371};}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.l$a=function(a,c){var b;b=this.dRa.FNa;c=c?1:0;a=a.map(function(a){return{QSb:"",xnb:a,kU:a,QAb:a,SEb:[1]};});return this.fpb(b,c,a);};a.prototype.epb=function(a,c){var b;b=new Uint8Array(4);new DataView(b.buffer).setUint32(0,a);return this.mda("fpsi",c,[b]);};a.prototype.dpb=function(a,c,d,g){a=[this.mda("fkri",0,[a])];c.byteLength&&a.push(this.gN("fkai",[c]));d.byteLength&&a.push(this.gN("fkcx",[d]));g.length&&a.push(this.gN("fkvl",[new Uint8Array(new Uint32Array(g).buffer)]));return this.gN("fpsk",a);};a.prototype.fpb=function(a,c,d){var b;b=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);a=[this.epb(a,c)];for(var f in d)c=d[f],a.push(this.dpb(c.xnb,c.kU,c.QAb,c.SEb));d=this.gN("fpsd",a);f=new Uint8Array(4);new DataView(f.buffer).setUint32(0,d.byteLength);return this.mda("pssh",0,[b,f,d]);};a.prototype.mda=function(a,c,d){var b,f,h;b=0;for(f in d)b+=d[f].byteLength;b=new Uint8Array(12+b);h=new DataView(b.buffer);f=0;h.setUint32(f,b.byteLength);f+=4;b.set(this.Th.decode(a),f);f+=4;h.setUint32(f,0|4095&c);f+=4;for(var g in d)a=d[g],b.set(a,f),f+=a.byteLength;return b;};a.prototype.gN=function(a,c){var b,d;b=0;for(d in c)b+=c[d].byteLength;b=new Uint8Array(8+b);d=0;new DataView(b.buffer).setUint32(d,b.byteLength);d+=4;b.set(this.Th.decode(a),d);d+=4;for(var f in c)a=c[f],b.set(a,d),d+=a.byteLength;return b;};c.bRa=a;},function(d,c,a){var h,g,p,f,k,m,l,q,r;function b(a,b,c,f,d,h){a=g.Js.call(this,a,b,c,f,d,h)||this;a.Lc=c;a.Pc=f;a.Ce=d;a.Th=h;a.UAa=new p.bRa(a.Lc,a.Pc,a.Th);return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(258);p=a(999);f=a(29);k=a(23);m=a(41);l=a(22);q=a(54);a=a(104);da(b,g.Js);b.prototype.S$=function(a,b){var c,f,d;c=this;try{f=b.map(function(a){return c.UAa.Cib(a);});this.kCa=f.map(function(a){return c.Lc.encode(a);});d=this.UAa.l$a(f,this.Ce.vi);return g.Js.prototype.S$.call(this,a,[d]);}catch(N){return Promise.reject(N);}};b.prototype.update=function(a,b){var c,f,d,h;c=this;if(b)try{f=a.map(function(f,d){return{keyID:1===a.length?c.kCa[c.kCa.length-1]:b[d],payload:c.Lc.encode(f)};});d=JSON.stringify(f);h=this.Th.decode(d);return g.Js.prototype.update.call(this,[h]);}catch(P){return Promise.reject(P);}return g.Js.prototype.update.call(this,a);};b.prototype.tO=function(){return g.Js.prototype.update.call(this,[this.Th.decode("renew")]);};r=b;r=d.__decorate([h.N(),d.__param(0,h.l(f.Ov)),d.__param(1,h.l(k.Oe)),d.__param(2,h.l(m.Rj)),d.__param(3,h.l(l.hf)),d.__param(4,h.l(q.Dm)),d.__param(5,h.l(a.gz))],r);c.cRa=r;},function(d,c,a){var h,g,p,f,k,m,l,q,r,E;function b(a,b,c,f){this.Yc=a;this.ei=b;this.Ce=c;this.config=f;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(2);p=a(22);f=a(105);k=a(259);m=a(93);l=a(63);q=a(54);r=a(17);E=a(45);b.prototype.JU=function(){return!0;};b.prototype.f7=function(){return!0;};b.prototype.Oaa=function(){return"temporary";};b.prototype.baa=function(){return this.Ce.LO?this.Ce.LO:"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};b.prototype.Kaa=function(){var a,b;a=[{contentType:k.Iv,robustness:"HW_SECURE_DECODE"},{contentType:k.Iv,robustness:"SW_SECURE_DECODE"},{contentType:k.Iv,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:k.Iv,robustness:"SW_SECURE_CRYPTO"}];return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:k.MC,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().eya?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};b.prototype.xx=function(a){return this.Yc.Lw(a.Dj[0],new Uint8Array([8,4]));};b.prototype.bca=function(){return Promise.reject(new E.Ic(g.K.AQ));};b.prototype.t8=function(a){return{type:a.type,sessionId:a.target.sessionId,Dj:[new Uint8Array(a.message)],FY:a.messageType};};b.prototype.s8=function(a){return{type:a.type,sessionId:a.target.sessionId,zca:a.target.keyStatuses.entries()};};b.prototype.Jp=function(a){var b,c,f;b=new m.Uf(g.K.rR);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.Xc=1<=c&&9>=c?g.G.yC+c:g.G.yC):b.Xc=a instanceof l.Pn?g.G.eI:g.G.xh;try{f=a.message.match(/\((\d*)\)/)[1];b.dh=this.ei.aM(f,4);}catch(N){}b.AL(a);return b;};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(p.hf)),d.__param(1,h.l(f.Dy)),d.__param(2,h.l(q.Dm)),d.__param(3,h.l(r.md))],a);c.lOa=a;},function(d,c,a){var h,g;function b(a){return g.Js.apply(this,arguments)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(258);da(b,g.Js);a=b;a=d.__decorate([h.N()],a);c.tXa=a;},function(d,c,a){var h,g,p,f,k,m,l,q,r,E;function b(a,b,c){this.ei=a;this.Lc=b;this.Ce=c;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(2);p=a(105);f=a(41);k=a(259);m=a(93);l=a(92);q=a(54);r=a(63);E=a(45);b.prototype.JU=function(){return!0;};b.prototype.f7=function(){return!1;};b.prototype.Oaa=function(a){return this.Ce.vi&&a===l.Tj.Gm?"persistent-usage-record":"temporary";};b.prototype.baa=function(){if(this.Ce.LO)return this.Ce.LO;};b.prototype.Kaa=function(){return[{initDataTypes:["cenc"],audioCapabilities:[{contentType:k.MC}],videoCapabilities:[{contentType:k.Iv}],sessionTypes:["temporary","persistent-usage-record"]}];};b.prototype.xx=function(){return!1;};b.prototype.bca=function(){return Promise.reject(new E.Ic(g.K.AQ));};b.prototype.t8=function(a){var b;b=new Uint8Array(a.message);b=this.g$(b,"PlayReadyKeyMessage","Challenge");b=this.Lc.decode(b);return{type:a.type,sessionId:a.target.sessionId,Dj:[b],FY:a.messageType};};b.prototype.s8=function(a){return{type:a.type,sessionId:a.target.sessionId,zca:a.target.keyStatuses.entries()};};b.prototype.Jp=function(a){var b,c;b=new m.Uf(g.K.rR);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.Xc=1<=c&&9>=c?g.G.yC+c:g.G.yC):b.Xc=a instanceof r.Pn?g.G.eI:g.G.xh;try{b.dh=this.ei.aM(a.target&&a.target.error&&a.target.error.systemCode,4);}catch(M){}b.AL(a);return b;};b.prototype.g$=function(a,b){var c,f,d,h;for(var c=1;c<arguments.length;++c);for(c=1;c<arguments.length;c++);c="";d=a.length;for(f=0;f<d;f++)h=a[f],0<h&&(c+=String.fromCharCode(h));d="\\s*(.*)\\s*";for(f=arguments.length-1;0<f;f--){h=arguments[f];if(0>c.search(h))return"";h="(?:[^:].*:|)"+h;d="[\\s\\S]*<"+h+"[^>]*>"+d+"</"+h+">[\\s\\S]*";}return(c=c.match(new RegExp(d)))?c[1]:"";};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(p.Dy)),d.__param(1,h.l(f.Rj)),d.__param(2,h.l(q.Dm))],a);c.BQa=a;},function(d,c,a){var h,g,p,f,k,m,l,q,r,E,D,z,G,B,H,P,W,L,S,A;function b(a,b,c,f,d,h,g,k,m){this.Er=a;this.Yc=b;this.Th=c;this.ei=f;this.Lc=d;this.is=h;this.BN=g;this.config=k;this.Ce=m;this.log=this.Er.wb("MediaKeySystemAccessServices");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(2);p=a(8);f=a(93);k=a(146);m=a(1003);l=a(1002);q=a(1001);r=a(258);E=a(22);D=a(105);z=a(41);G=a(23);B=a(29);H=a(1E3);P=a(998);W=a(104);L=a(17);S=a(147);a=a(54);b.prototype.tF=function(){this.Qr||(this.Qr=this.dyb());return this.Qr;};b.prototype.Bbb=function(a){var b;b=this;return new Promise(function(c,d){var h,k;h=S.ob.faa(a);k=b.cza(h);h=b.Zya(h);k.xxb(a,h.Kaa()).then(function(f){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:f.getConfiguration?JSON.stringify(f.getConfiguration()):void 0});c(f);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});d(new f.Uf(g.K.Jka,g.G.xh,void 0,"Unable to create media keys system access. "+c.message,c));});});};b.prototype.Tp=function(){var a;a=this;return this.tF().then(function(b){return a.$ya(b);});};b.prototype.Thb=function(){var a,b;a=this;b=this.config().mCa||[this.config().Wd];if(1<b.length)return this.tF().then(function(b){return a.$ya(b);}).then(function(a){return S.ob.Yya(a);});b=S.ob.faa(b[0]);return Promise.resolve(S.ob.Yya(b));};b.prototype.Uhb=function(){var a;a=this;return this.Tp().then(function(b){return a.Zya(b);});};b.prototype.Vhb=function(){var a;a=this;return this.Tp().then(function(b){return a.cza(b);});};b.prototype.$ya=function(a){return S.ob.faa(a.keySystem);};b.prototype.Zya=function(a){switch(a){case k.Jn.tB:return new m.BQa(this.ei,this.Lc,this.Ce);case k.Jn.qA:return new P.tYa(this.Yc,this.ei,this.Lc,this.Th,this.Ce);default:return new q.lOa(this.Yc,this.ei,this.Ce,this.config);}};b.prototype.cza=function(a){switch(a){case k.Jn.tB:return new l.tXa(this.BN,this.is,this.Lc,this.Yc,this.Ce,this.Th);case k.Jn.qA:return new H.cRa(this.BN,this.is,this.Lc,this.Yc,this.Ce,this.Th);default:return new r.Js(this.BN,this.is,this.Lc,this.Yc,this.Ce,this.Th);}};b.prototype.dyb=function(){var a,b;a=this;b=(this.config().mCa||[this.config().Wd]).map(function(b){return function(){return a.Bbb(b);};});return this.eyb(b);};b.prototype.eyb=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};A=b;A=d.__decorate([h.N(),d.__param(0,h.l(p.Cb)),d.__param(1,h.l(E.hf)),d.__param(2,h.l(W.gz)),d.__param(3,h.l(D.Dy)),d.__param(4,h.l(z.Rj)),d.__param(5,h.l(G.Oe)),d.__param(6,h.l(B.Ov)),d.__param(7,h.l(L.md)),d.__param(8,h.l(a.Dm))],A);c.vUa=A;},function(d,c,a){var b,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(9);h=a(68);a=a(69);d=function(a){function c(b){a.call(this);this.csb=b;}b(c,a);c.create=function(a){return new c(a);};c.prototype.Hg=function(a){return new g(a,this.csb);};return c;}(d.Ba);c.OPa=d;g=function(a){function c(b,c){a.call(this,b);this.dx=c;this.mDb();}b(c,a);c.prototype.mDb=function(){try{this.U_a();}catch(k){this.Md(k);}};c.prototype.U_a=function(){var a;a=this.dx();a&&this.add(h.as(this,a));};return c;}(a.Iq);},function(d,c,a){d=a(1005);c.defer=d.OPa.create;},function(d,c,a){d=a(9);a=a(1006);d.Ba.defer=a.defer;},function(d,c,a){d=a(9);a=a(489);d.Ba.from=a.from;},function(d,c,a){var h,g,p,f,k,m,l,q,r,E,D;function b(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];"function"===typeof b&&a.pop();return new g.uv(a).wg(new l(b));}h=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(89);p=a(90);d=a(49);f=a(69);k=a(68);m=a(182);c.Wia=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.wg.call(b.apply(void 0,[c].concat(a)));};};c.CFb=b;l=function(){function a(a){this.oh=a;}a.prototype.call=function(a,b){return b.subscribe(new q(a,this.oh));};return a;}();c.hOb=l;q=function(a){function b(b,c,f){void 0===f&&(f=Object.create(null));a.call(this,b);this.wca=[];this.active=0;this.oh="function"===typeof c?c:null;this.values=f;}h(b,a);b.prototype.Ah=function(a){var b;b=this.wca;p.isArray(a)?b.push(new E(a)):"function"===typeof a[m.iterator]?b.push(new r(a[m.iterator]())):b.push(new D(this.destination,this,a));};b.prototype.kc=function(){var a,b,f;a=this.wca;b=a.length;if(0===b)this.destination.complete();else{this.active=b;for(var c=0;c<b;c++){f=a[c];f.gBb?this.add(f.subscribe(f,c)):this.active--;}}};b.prototype.Frb=function(){this.active--;0===this.active&&this.destination.complete();};b.prototype.h9a=function(){var d,k;for(var a=this.wca,b=a.length,c=this.destination,f=0;f<b;f++){d=a[f];if("function"===typeof d.Wp&&!d.Wp())return;}for(var h=!1,g=[],f=0;f<b;f++){d=a[f];k=d.next();d.EF()&&(h=!0);if(k.done){c.complete();return;}g.push(k.value);}this.oh?this.g6(g):c.next(g);h&&c.complete();};b.prototype.g6=function(a){var b;try{b=this.oh.apply(this,a);}catch(P){this.destination.error(P);return;}this.destination.next(b);};return b;}(d.gj);c.iOb=q;r=function(){function a(a){this.iterator=a;this.kea=a.next();}a.prototype.Wp=function(){return!0;};a.prototype.next=function(){var a;a=this.kea;this.kea=this.iterator.next();return a;};a.prototype.EF=function(){var a;a=this.kea;return a&&a.done;};return a;}();E=function(){function a(a){this.bk=a;this.length=this.index=0;this.length=a.length;}a.prototype[m.iterator]=function(){return this;};a.prototype.next=function(){var a,b;a=this.index++;b=this.bk;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0};};a.prototype.Wp=function(){return this.bk.length>this.index;};a.prototype.EF=function(){return this.bk.length===this.index;};return a;}();D=function(a){function b(b,c,f){a.call(this,b);this.parent=c;this.observable=f;this.gBb=!0;this.buffer=[];this.rn=!1;}h(b,a);b.prototype[m.iterator]=function(){return this;};b.prototype.next=function(){var a;a=this.buffer;return 0===a.length&&this.rn?{value:null,done:!0}:{value:a.shift(),done:!1};};b.prototype.Wp=function(){return 0<this.buffer.length;};b.prototype.EF=function(){return 0===this.buffer.length&&this.rn;};b.prototype.im=function(){0<this.buffer.length?(this.rn=!0,this.parent.Frb()):this.destination.complete();};b.prototype.Sx=function(a,b){this.buffer.push(b);this.parent.h9a();};b.prototype.subscribe=function(a,b){return k.as(this,this.observable,this,b);};return b;}(f.Iq);},function(d,c,a){d=a(1009);c.Wia=d.CFb;},function(d,c,a){d=a(9);a=a(1010);d.Ba.Wia=a.Wia;},function(d,c,a){var b,h,g,p,f,k,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(89);g=a(90);d=a(69);p=a(68);f={};c.e8=function(){var c;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];c=null;"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&g.isArray(a[0])&&(a=a[0].slice());return function(b){return b.wg.call(new h.uv([b].concat(a)),new k(c));};};k=function(){function a(a){this.oh=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.oh));};return a;}();c.tOa=k;m=function(a){function c(b,c){a.call(this,b);this.oh=c;this.active=0;this.values=[];this.uG=[];}b(c,a);c.prototype.Ah=function(a){this.values.push(f);this.uG.push(a);};c.prototype.kc=function(){var a,b,f;a=this.uG;b=a.length;if(0===b)this.destination.complete();else{this.nia=this.active=b;for(var c=0;c<b;c++){f=a[c];this.add(p.as(this,f,f,c));}}};c.prototype.im=function(){0===--this.active&&this.destination.complete();};c.prototype.Sx=function(a,b,c){var d;a=this.values;d=a[c];d=this.nia?d===f?--this.nia:this.nia:0;a[c]=b;0===d&&(this.oh?this.g6(a):this.destination.next(a.slice()));};c.prototype.g6=function(a){var b;try{b=this.oh.apply(this,a);}catch(D){this.destination.error(D);return;}this.destination.next(b);};return c;}(d.Iq);c.DHb=m;},function(d,c,a){var b,h,g,p;b=a(120);h=a(90);g=a(89);p=a(1012);c.e8=function(){var d;for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];d=c=null;b.LA(a[a.length-1])&&(d=a.pop());"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0]);return new g.uv(a,d).wg(new p.tOa(c));};},function(d,c,a){d=a(9);a=a(1013);d.Ba.e8=a.e8;},function(d,c,a){var b,h,g,p,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(482);d=a(9);g=a(181);p=a(120);f=a(484);a=function(a){function c(b,c,d){void 0===b&&(b=0);a.call(this);this.Tu=-1;this.Uwa=0;h.OBa(c)?this.Tu=1>Number(c)&&1||Number(c):p.LA(c)&&(d=c);p.LA(d)||(d=g.async);this.la=d;this.Uwa=f.NM(b)?+b-this.la.now():b;}b(c,a);c.create=function(a,b,f){void 0===a&&(a=0);return new c(a,b,f);};c.Pb=function(a){var b,c,f;b=a.index;c=a.Tu;f=a.gg;f.next(b);if(!f.closed){if(-1===c)return f.complete();a.index=b+1;this.Eb(a,c);}};c.prototype.Hg=function(a){return this.la.Eb(c.Pb,this.Uwa,{index:0,Tu:this.Tu,gg:a});};return c;}(d.Ba);c.qZa=a;},function(d,c,a){d=a(1015);c.pv=d.qZa.create;},function(d,c,a){d=a(9);a=a(1016);d.Ba.pv=a.pv;},function(d,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function c(b,c){a.call(this);this.error=b;this.la=c;}b(c,a);c.create=function(a,b){return new c(a,b);};c.Pb=function(a){a.gg.error(a.error);};c.prototype.Hg=function(a){var b,d;b=this.error;d=this.la;a.sl=!0;if(d)return d.Eb(c.Pb,0,{error:b,gg:a});a.error(b);};return c;}(a(9).Ba);c.QQa=d;},function(d,c,a){d=a(1018);c.n4a=d.QQa.create;},function(d,c,a){d=a(9);a=a(1019);d.Ba["throw"]=a.n4a;},function(d,c,a){d=a(483);c.iB=d.wsb;},function(d,c,a){d=a(9);a=a(1021);d.Ba.iB=a.iB;},function(d,c,a){d=a(9);a=a(490);d.Ba.of=a.of;},function(d,c,a){var b,h,g,p,f,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(90);g=a(89);d=a(69);p=a(68);c.race=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];if(1===a.length)if(h.isArray(a[0]))a=a[0];else return a[0];return new g.uv(a).wg(new f());};f=function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new k(a));};return a;}();c.rMb=f;k=function(a){function c(b){a.call(this,b);this.kba=!1;this.uG=[];this.wq=[];}b(c,a);c.prototype.Ah=function(a){this.uG.push(a);};c.prototype.kc=function(){var a,b,f;a=this.uG;b=a.length;if(0===b)this.destination.complete();else{for(var c=0;c<b&&!this.kba;c++){f=a[c];f=p.as(this,f,f,c);this.wq&&this.wq.push(f);this.add(f);}this.uG=null;}};c.prototype.Sx=function(a,b,c){var f;if(!this.kba){this.kba=!0;for(a=0;a<this.wq.length;a++)if(a!==c){f=this.wq[a];f.unsubscribe();this.remove(f);}this.wq=null;}this.destination.next(b);};return c;}(d.Iq);c.sMb=k;},function(d,c,a){d=a(9);a=a(1024);d.Ba.race=a.race;},function(d,c,a){var b,h,g,p;b=a(9);h=a(89);g=a(120);p=a(260);c.Tda=function(){var c,d,n;for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];c=Number.POSITIVE_INFINITY;d=null;n=a[a.length-1];g.LA(n)?(d=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(c=a.pop())):"number"===typeof n&&(c=a.pop());return null===d&&1===a.length&&a[0]instanceof b.Ba?a[0]:p.Nx(c)(new h.uv(a,d));};},function(d,c,a){d=a(9);a=a(1026);d.Ba.Tda=a.Tda;},function(d,c,a){var b,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(482);d=a(9);g=a(181);a=function(a){function c(b,c){void 0===b&&(b=0);void 0===c&&(c=g.async);a.call(this);this.Tu=b;this.la=c;if(!h.OBa(b)||0>b)this.Tu=0;c&&"function"===typeof c.Eb||(this.la=g.async);}b(c,a);c.create=function(a,b){void 0===a&&(a=0);void 0===b&&(b=g.async);return new c(a,b);};c.Pb=function(a){var b,c;b=a.gg;c=a.Tu;b.next(a.index);b.closed||(a.index+=1,this.Eb(a,c));};c.prototype.Hg=function(a){var b;b=this.Tu;a.add(this.la.Eb(c.Pb,b,{index:0,gg:a,Tu:b}));};return c;}(d.Ba);c.RSa=a;},function(d,c,a){d=a(1028);c.interval=d.RSa.create;},function(d,c,a){d=a(9);a=a(1029);d.Ba.interval=a.interval;},function(d,c,a){d=a(487);c.sr=d.zoa.create;},function(d,c,a){d=a(9);a=a(1031);d.Ba.sr=a.sr;},function(d,c,a){d=a(141);c.empty=d.fI.create;},function(d,c,a){d=a(9);a=a(1033);d.Ba.empty=a.empty;},function(d,c,a){d=a(9);a=a(142);d.Ba.concat=a.concat;},function(d,c,a){var b,h,g,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(69);h=a(68);c.k0=function(a,b){return function(c){return c.wg(new g(a,b));};};g=function(){function a(a,b){this.oh=a;this.ol=b;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.oh,this.ol));};return a;}();p=function(a){function c(b,c,f){a.call(this,b);this.oh=c;this.ol=f;this.index=0;}b(c,a);c.prototype.Ah=function(a){var b,c;c=this.index++;try{b=this.oh(a,c);}catch(y){this.destination.error(y);return;}this.X4(b,a,c);};c.prototype.X4=function(a,b,c){var f;f=this.HX;f&&f.unsubscribe();this.add(this.HX=h.as(this,a,b,c));};c.prototype.kc=function(){var b;b=this.HX;b&&!b.closed||a.prototype.kc.call(this);};c.prototype.tt=function(){this.HX=null;};c.prototype.im=function(b){this.remove(b);this.HX=null;this.Nf&&a.prototype.kc.call(this);};c.prototype.Sx=function(a,b,c,f){this.ol?this.w4a(a,b,c,f):this.destination.next(b);};c.prototype.w4a=function(a,b,c,f){var d;try{d=this.ol(a,b,c,f);}catch(D){this.destination.error(D);return;}this.destination.next(d);};return c;}(d.Iq);},function(d,c,a){var b;b=a(1036);c.k0=function(a,c){return b.k0(a,c)(this);};},function(d,c,a){d=a(9);a=a(1037);d.Ba.prototype.k0=a.k0;},function(d,c,a){var b,h;b=a(496);c.crb=function(a,c){return function(f){var d,g;d="function"===typeof a?a:function(){return a;};if("function"===typeof c)return f.wg(new h(d,c));g=Object.create(f,b.g$a);g.source=f;g.i0=d;return g;};};h=function(){function a(a,b){this.i0=a;this.IO=b;}a.prototype.call=function(a,b){var c,f;c=this.IO;f=this.i0();a=c(f).subscribe(a);a.add(b.subscribe(f));return a;};return a;}();c.AKb=h;},function(d,c,a){var b,h;b=a(498);h=a(1039);c.PZ=function(a,c,f,d){var g,k;f&&"function"!==typeof f&&(d=f);g="function"===typeof f?f:void 0;k=new b.ER(a,c,d);return function(a){return h.crb(function(){return k;},g)(a);};};},function(d,c,a){var b;b=a(1040);c.PZ=function(a,c,d,f){return b.PZ(a,c,d,f)(this);};},function(d,c,a){d=a(9);a=a(1041);d.Ba.prototype.PZ=a.PZ;},function(d,c,a){var b,h,g,p,f;b=a(89);h=a(261);g=a(141);p=a(142);f=a(120);c.Y_=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){var d,k;d=a[a.length-1];f.LA(d)?a.pop():d=null;k=a.length;return 1===k?p.concat(new h.I3(a[0],d),c):1<k?p.concat(new b.uv(a,d),c):p.concat(new g.fI(d),c);};};},function(d,c,a){var b;b=a(1043);c.Y_=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.Y_.apply(void 0,a)(this);};},function(d,c,a){d=a(9);a=a(1044);d.Ba.prototype.Y_=a.Y_;},function(){},function(d,c,a){var b,h,g,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(69);h=a(68);c.oP=function(a){return function(b){return b.wg(new g(a));};};g=function(){function a(a){this.Ua=a;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.Ua));};return a;}();p=function(a){function c(b,c){a.call(this,b);this.Ua=c;this.add(h.as(this,c));}b(c,a);c.prototype.Sx=function(){this.complete();};c.prototype.im=function(){};return c;}(d.Iq);},function(d,c,a){var b;b=a(1047);c.oP=function(a){return b.oP(a)(this);};},function(d,c,a){d=a(9);a=a(1048);d.Ba.prototype.oP=a.oP;},function(d,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};d=function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.xMa=d;},function(d,c,a){var b,h,g,p,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(49);h=a(1050);g=a(141);c.nP=function(a){return function(b){return 0===a?new g.fI():b.wg(new p(a));};};p=function(){function a(a){this.total=a;if(0>this.total)throw new h.xMa();}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.total));};return a;}();f=function(a){function c(b,c){a.call(this,b);this.total=c;this.count=0;}b(c,a);c.prototype.Ah=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return c;}(d.gj);},function(d,c,a){var b;b=a(1051);c.nP=function(a){return b.nP(a)(this);};},function(d,c,a){d=a(9);a=a(1052);d.Ba.prototype.nP=a.nP;},function(d,c,a){var b,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(49);c.WO=function(a){return function(b){return b.wg(new h(a));};};h=function(){function a(a){this.$x=a;}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.$x));};return a;}();g=function(a){function c(b,c){a.call(this,b);this.$x=c;this.Cha=!0;this.index=0;}b(c,a);c.prototype.Ah=function(a){var b;b=this.destination;this.Cha&&this.lDb(a);this.Cha||b.next(a);};c.prototype.lDb=function(a){try{this.Cha=!!this.$x(a,this.index++);}catch(m){this.destination.error(m);}};return c;}(d.gj);},function(d,c,a){var b;b=a(1054);c.WO=function(a){return b.WO(a)(this);};},function(d,c,a){d=a(9);a=a(1055);d.Ba.prototype.WO=a.WO;},function(d,c,a){var b;b=a(483);c.iB=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.iB.apply(void 0,a)(this);};},function(d,c,a){d=a(9);a=a(1057);d.Ba.prototype.iB=a.iB;},function(d,c,a){var b;b=a(485);c.fG=function(a,c,d){void 0===d&&(d=Number.POSITIVE_INFINITY);return b.fG(a,c,d)(this);};},function(d,c,a){d=a(9);a=a(1059);d.Ba.prototype.fG=a.fG;d.Ba.prototype.qr=a.fG;},function(d,c,a){var b;b=a(260);c.Nx=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.Nx(a)(this);};},function(d,c,a){d=a(9);a=a(1061);d.Ba.prototype.Nx=a.Nx;},function(d,c,a){var b,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(49);c.map=function(a,b){return function(c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.wg(new h(a,b));};};h=function(){function a(a,b){this.oh=a;this.aia=b;}a.prototype.call=function(a,b){return b.subscribe(new g(a,this.oh,this.aia));};return a;}();c.tKb=h;g=function(a){function c(b,c,f){a.call(this,b);this.oh=c;this.count=0;this.aia=f||this;}b(c,a);c.prototype.Ah=function(a){var b;try{b=this.oh.call(this.aia,a,this.count++);}catch(t){this.destination.error(t);return;}this.destination.next(b);};return c;}(d.gj);},function(d,c,a){var b;b=a(1063);c.map=function(a,c){return b.map(a,c)(this);};},function(d,c,a){d=a(9);a=a(1064);d.Ba.prototype.map=a.map;},function(d,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};d=function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.IQa=d;},function(d,c,a){var b,h,g,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(49);h=a(1066);c.Kg=function(a,b,c){return function(f){return f.wg(new g(a,b,c,f));};};g=function(){function a(a,b,c,f){this.$x=a;this.ol=b;this.defaultValue=c;this.source=f;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.$x,this.ol,this.defaultValue,this.source));};return a;}();p=function(a){function c(b,c,f,d,h){a.call(this,b);this.$x=c;this.ol=f;this.defaultValue=d;this.source=h;this.Wp=!1;this.index=0;"undefined"!==typeof d&&(this.fY=d,this.Wp=!0);}b(c,a);c.prototype.Ah=function(a){var b;b=this.index++;this.$x?this.x4a(a,b):this.ol?this.Gsa(a,b):(this.fY=a,this.Wp=!0);};c.prototype.x4a=function(a,b){var c;try{c=this.$x(a,b,this.source);}catch(y){this.destination.error(y);return;}c&&(this.ol?this.Gsa(a,b):(this.fY=a,this.Wp=!0));};c.prototype.Gsa=function(a,b){var c;try{c=this.ol(a,b);}catch(y){this.destination.error(y);return;}this.fY=c;this.Wp=!0;};c.prototype.kc=function(){var a;a=this.destination;this.Wp?(a.next(this.fY),a.complete()):a.error(new h.IQa());};return c;}(d.gj);},function(d,c,a){var b;b=a(1067);c.Kg=function(a,c,d){return b.Kg(a,c,d)(this);};},function(d,c,a){d=a(9);a=a(1068);d.Ba.prototype.Kg=a.Kg;},function(d,c,a){var b,h,g,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(49);c.hCb=function(a,b,c){return function(f){return f.wg(new g(a,b,c));};};g=function(){function a(a,b,c){this.qrb=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.qrb,this.error,this.complete));};return a;}();p=function(a){function c(b,c,f,d){a.call(this,b);b=new h.gj(c,f,d);b.sl=!0;this.add(b);this.rga=b;}b(c,a);c.prototype.Ah=function(a){var b;b=this.rga;b.next(a);b.VB?this.destination.error(b.WB):this.destination.next(a);};c.prototype.Md=function(a){var b;b=this.rga;b.error(a);b.VB?this.destination.error(b.WB):this.destination.error(a);};c.prototype.kc=function(){var a;a=this.rga;a.complete();a.VB?this.destination.error(a.WB):this.destination.complete();};return c;}(h.gj);},function(d,c,a){var b;b=a(1070);c.F4=function(a,c,d){return b.hCb(a,c,d)(this);};},function(d,c,a){d=a(9);a=a(1071);d.Ba.prototype.BL=a.F4;d.Ba.prototype.F4=a.F4;},function(d,c,a){function b(){return function(){function a(){this.Hl=[];}a.prototype.add=function(a){this.has(a)||this.Hl.push(a);};a.prototype.has=function(a){return-1!==this.Hl.indexOf(a);};Object.defineProperty(a.prototype,"size",{get:function(){return this.Hl.length;},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.Hl.length=0;};return a;}();}d=a(82);c.KTb=b;c.Set=d.root.Set||b();},function(d,c,a){var b,h,g,p,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(69);h=a(68);g=a(1073);c.uV=function(a,b){return function(c){return c.wg(new p(a,b));};};p=function(){function a(a,b){this.YX=a;this.dgb=b;}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.YX,this.dgb));};return a;}();f=function(a){function c(b,c,f){a.call(this,b);this.YX=c;this.values=new g.Set();f&&this.add(h.as(this,f));}b(c,a);c.prototype.Sx=function(){this.values.clear();};c.prototype.sea=function(a){this.Md(a);};c.prototype.Ah=function(a){this.YX?this.H4a(a):this.Mqa(a,a);};c.prototype.H4a=function(a){var b,c;c=this.destination;try{b=this.YX(a);}catch(E){c.error(E);return;}this.Mqa(b,a);};c.prototype.Mqa=function(a,b){var c;c=this.values;c.has(a)||(c.add(a),this.destination.next(b));};return c;}(d.Iq);c.eIb=f;},function(d,c,a){var b;b=a(1074);c.uV=function(a,c){return b.uV(a,c)(this);};},function(d,c,a){d=a(9);a=a(1075);d.Ba.prototype.uV=a.uV;},function(d,c,a){var b,h,g,p,f,k,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(181);g=a(484);d=a(49);p=a(262);c.Rd=function(a,b){var c;void 0===b&&(b=h.async);c=g.NM(a)?+a-b.now():Math.abs(a);return function(a){return a.wg(new f(c,b));};};f=function(){function a(a,b){this.Rd=a;this.la=b;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Rd,this.la));};return a;}();k=function(a){function c(b,c,f){a.call(this,b);this.Rd=c;this.la=f;this.Lh=[];this.vxa=this.active=!1;}b(c,a);c.Pb=function(a){for(var b=a.source,c=b.Lh,f=a.la,d=a.destination;0<c.length&&0>=c[0].time-f.now();)c.shift().notification.observe(d);0<c.length?(b=Math.max(0,c[0].time-f.now()),this.Eb(a,b)):(this.unsubscribe(),b.active=!1);};c.prototype.oT=function(a){this.active=!0;this.add(a.Eb(c.Pb,this.Rd,{source:this,destination:this.destination,la:a}));};c.prototype.WHa=function(a){var b;if(!0!==this.vxa){b=this.la;a=new m(b.now()+this.Rd,a);this.Lh.push(a);!1===this.active&&this.oT(b);}};c.prototype.Ah=function(a){this.WHa(p.Notification.A8(a));};c.prototype.Md=function(a){this.vxa=!0;this.Lh=[];this.destination.error(a);};c.prototype.kc=function(){this.WHa(p.Notification.w8());};return c;}(d.gj);m=function(){return function(a,b){this.time=a;this.notification=b;};}();},function(d,c,a){var b,h;b=a(181);h=a(1077);c.Rd=function(a,c){void 0===c&&(c=b.async);return h.Rd(a,c)(this);};},function(d,c,a){d=a(9);a=a(1078);d.Ba.prototype.Rd=a.Rd;},function(d,c,a){var b;b=a(486);c.cL=function(){return b.cL()(this);};},function(d,c,a){d=a(9);a=a(1080);d.Ba.prototype.cL=a.cL;},function(d,c){c.Clb=function(a){return a;};},function(d,c,a){var b,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(9);h=a(261);g=a(141);a=function(a){function c(b,c){a.call(this);this.V6=b;(this.la=c)||1!==b.length||(this.Ys=!0,this.value=b[0]);}b(c,a);c.create=function(a,b){var f;f=a.length;return 0===f?new g.fI():1===f?new h.I3(a[0],b):new c(a,b);};c.Pb=function(a){var b,c,f;b=a.V6;c=a.index;f=a.gg;f.closed||(c>=a.length?f.complete():(f.next(b[c]),a.index=c+1,this.Eb(a)));};c.prototype.Hg=function(a){var b,f,d;b=this.V6;f=this.la;d=b.length;if(f)return f.Eb(c.Pb,0,{V6:b,index:0,length:d,gg:a});for(f=0;f<d&&!a.closed;f++)a.next(b[f]);a.complete();};return c;}(d.Ba);c.zMa=a;},function(d,c,a){var b,h,g,p,f,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(82);d=a(9);g=a(182);a=function(a){function c(b,c){a.call(this);this.la=c;if(null==b)throw Error("iterator cannot be null.");if((c=b[g.iterator])||"string"!==typeof b)if(c||void 0===b.length){if(!c)throw new TypeError("object is not iterable");b=b[g.iterator]();}else b=new f(b);else b=new p(b);this.iterator=b;}b(c,a);c.create=function(a,b){return new c(a,b);};c.Pb=function(a){var b,c,f,d;b=a.index;c=a.iterator;f=a.gg;if(a.wM)f.error(a.error);else{d=c.next();d.done?f.complete():(f.next(d.value),a.index=b+1,f.closed?"function"===typeof c["return"]&&c["return"]():this.Eb(a));}};c.prototype.Hg=function(a){var b,f;b=this.iterator;f=this.la;if(f)return f.Eb(c.Pb,0,{index:0,iterator:b,gg:a});do{f=b.next();if(f.done){a.complete();break;}else a.next(f.value);if(a.closed){"function"===typeof b["return"]&&b["return"]();break;}}while(1);};return c;}(d.Ba);c.USa=a;p=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.my=a;this.CM=b;this.Oca=c;}a.prototype[g.iterator]=function(){return this;};a.prototype.next=function(){return this.CM<this.Oca?{done:!1,value:this.my.charAt(this.CM++)}:{done:!0,value:void 0};};return a;}();f=function(){function a(a,b,c){var f;void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&h.root.isFinite(c)){f=+c;c=(0===f||isNaN(f)?f:0>f?-1:1)*Math.floor(Math.abs(c));c=0>=c?0:c>k?k:c;}this.t6a=a;this.CM=b;this.Oca=c;}a.prototype[g.iterator]=function(){return this;};a.prototype.next=function(){return this.CM<this.Oca?{done:!1,value:this.t6a[this.CM++]}:{done:!0,value:void 0};};return a;}();k=Math.pow(2,53)-1;},function(d,c,a){var b;b=a(142);d=a(142);c.b$a=d.concat;c.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.wg.call(b.concat.apply(void 0,[c].concat(a)));};};},function(d,c,a){var b;b=a(1085);d=a(142);c.b$a=d.concat;c.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b.concat.apply(void 0,a)(this);};},function(d,c,a){d=a(9);a=a(1086);d.Ba.prototype.concat=a.concat;},function(d,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function c(b,c,d){a.call(this);this.parent=b;this.Usb=c;this.Tsb=d;this.index=0;}b(c,a);c.prototype.Ah=function(a){this.parent.Sx(this.Usb,a,this.Tsb,this.index++,this);};c.prototype.Md=function(a){this.parent.sea(a,this);this.unsubscribe();};c.prototype.kc=function(){this.parent.im(this);this.unsubscribe();};return c;}(a(49).gj);c.Yla=d;},function(d,c,a){var b,h,g,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(69);h=a(68);c.Q8a=function(a){return function(b){var c;c=new g(a);b=b.wg(c);return c.H7=b;};};g=function(){function a(a){this.IO=a;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.IO,this.H7));};return a;}();p=function(a){function c(b,c,f){a.call(this,b);this.IO=c;this.H7=f;}b(c,a);c.prototype.error=function(b){var c;if(!this.Nf){c=void 0;try{c=this.IO(b,this.H7);}catch(u){a.prototype.error.call(this,u);return;}this.A4a();this.add(h.as(this,c));}};return c;}(d.Iq);},function(d,c,a){var b;b=a(1089);c.t4=function(a){return b.Q8a(a)(this);};},function(d,c,a){d=a(9);a=a(1090);d.Ba.prototype["catch"]=a.t4;d.Ba.prototype.t4=a.t4;},function(d,c,a){var b,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(264);a=function(a){function c(b,c){var f;f=this;void 0===b&&(b=h);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this,b,function(){return f.frame;});this.Jpb=c;this.frame=0;this.index=-1;}b(c,a);c.prototype.flush=function(){for(var a=this.Wk,b=this.Jpb,c,d;(d=a.shift())&&(this.frame=d.Rd)<=b&&!(c=d.qf(d.state,d.Rd)););if(c){for(;d=a.shift();)d.unsubscribe();throw c;}};c.N$=10;return c;}(a(263).j1);c.YZa=a;h=function(a){function c(b,c,d){void 0===d&&(d=b.index+=1);a.call(this,b,c);this.la=b;this.UP=c;this.index=d;this.active=!0;this.index=b.index=d;}b(c,a);c.prototype.Eb=function(b,d){var f;void 0===d&&(d=0);if(!this.id)return a.prototype.Eb.call(this,b,d);this.active=!1;f=new c(this.la,this.UP);this.add(f);return f.Eb(b,d);};c.prototype.h_=function(a,b,d){void 0===d&&(d=0);this.Rd=a.frame+d;a=a.Wk;a.push(this);a.sort(c.OAb);return!0;};c.prototype.ZZ=function(){};c.prototype.CS=function(b,c){if(!0===this.active)return a.prototype.CS.call(this,b,c);};c.OAb=function(a,b){return a.Rd===b.Rd?a.index===b.index?0:a.index>b.index?1:-1:a.Rd>b.Rd?1:-1;};return c;}(d.h1);c.XZa=h;},function(d,c,a){var b,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(183);g=a(70);d=a(495);a=a(493);h=function(a){function c(b,c){a.call(this);this.Dj=b;this.wq=[];this.la=c;}b(c,a);c.prototype.Hg=function(b){var c,f;c=this;f=c.NCa();b.add(new g.zl(function(){c.OCa(f);}));return a.prototype.Hg.call(this,b);};c.prototype.gAb=function(){for(var a=this,b=a.Dj.length,c=0;c<b;c++)(function(){var b;b=a.Dj[c];a.la.Eb(function(){b.notification.observe(a);},b.frame);}());};return c;}(h.Xj);c.uJb=h;a.Hta(h,[d.hpa]);},function(d,c,a){var b,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(9);g=a(70);d=a(495);a=a(493);h=function(a){function c(b,c){a.call(this,function(a){var b,c;b=this;c=b.NCa();a.add(new g.zl(function(){b.OCa(c);}));b.oyb(a);return a;});this.Dj=b;this.wq=[];this.la=c;}b(c,a);c.prototype.oyb=function(a){var f;for(var b=this.Dj.length,c=0;c<b;c++){f=this.Dj[c];a.add(this.la.Eb(function(a){a.message.notification.observe(a.gg);},f.frame,{message:f,gg:a}));}};return c;}(h.Ba);c.sOa=h;a.Hta(h,[d.hpa]);},function(d,c,a){var b,h,g,p,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};a(9);h=a(262);g=a(1094);a(1093);p=a(494);f=a(1092);d=function(a){function c(b){a.call(this,f.XZa,750);this.E6a=b;this.ulb=[];this.bgb=[];}b(c,a);c.prototype.flush=function(){var c;for(var b=this.ulb;0<b.length;)b.shift().gAb();a.prototype.flush.call(this);for(b=this.bgb.filter(function(a){return a.ready;});0<b.length;){c=b.shift();this.E6a(c.Lz,c.vo);}};c.qUb=function(a){var g,k;if("string"!==typeof a)return new p.ZI(Number.POSITIVE_INFINITY);for(var b=a.length,c=-1,f=Number.POSITIVE_INFINITY,d=Number.POSITIVE_INFINITY,h=0;h<b;h++){g=h*this.N$;k=a[h];switch(k){case"-":case" ":break;case"(":c=g;break;case")":c=-1;break;case"^":if(f!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");f=-1<c?c:g;break;case"!":if(d!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");d=-1<c?c:g;break;default:throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+k+"'.");}}return 0>d?new p.ZI(f):new p.ZI(f,d);};c.pUb=function(a,b,c,f){var q,t,r;void 0===f&&(f=!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var d=a.length,k=[],n=a.indexOf("^"),n=-1===n?0:n*-this.N$,p="object"!==typeof b?function(a){return a;}:function(a){return f&&b[a]instanceof g.sOa?b[a].Dj:b[a];},l=-1,m=0;m<d;m++){q=m*this.N$+n;t=void 0;r=a[m];switch(r){case"-":case" ":break;case"(":l=q;break;case")":l=-1;break;case"|":t=h.Notification.w8();break;case"^":break;case"#":t=h.Notification.Hva(c||"error");break;default:t=h.Notification.A8(p(r));}t&&k.push({frame:-1<l?l:q,notification:t});}return k;};return c;}(f.YZa);c.spa=d;},function(d,c,a){var b,h,g;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=a(49);c.a_=function(){return function(a){return a.wg(new h(a));};};h=function(){function a(a){this.$m=a;}a.prototype.call=function(a,b){var c;c=this.$m;c.ow++;a=new g(a,c);b=b.subscribe(a);a.closed||(a.Ip=c.connect());return b;};return a;}();g=function(a){function c(b,c){a.call(this,b);this.$m=c;}b(c,a);c.prototype.tt=function(){var a,b;a=this.$m;if(a){this.$m=null;b=a.ow;0>=b?this.Ip=null:(a.ow=b-1,1<b?this.Ip=null:(b=this.Ip,a=a.Xv,this.Ip=null,!a||b&&a!==b||a.unsubscribe()));}else this.Ip=null;};return c;}(d.gj);},function(d,c){d=function(){function a(b,c){void 0===c&&(c=a.now);this.wYa=b;this.now=c;}a.prototype.Eb=function(a,c,d){void 0===c&&(c=0);return new this.wYa(this,a).Eb(d,c);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();c.vYa=d;},function(d,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function c(){a.apply(this,arguments);}b(c,a);return c;}(a(263).j1);c.EXa=d;},function(d,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function c(){a.call(this);}b(c,a);c.prototype.Eb=function(){return this;};return c;}(a(70).zl);c.nMa=d;},function(d,c,a){var b;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};d=function(a){function c(b,c){a.call(this,b,c);this.la=b;this.UP=c;}b(c,a);c.prototype.Eb=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.Eb.call(this,b,c);this.Rd=c;this.state=b;this.la.flush(this);return this;};c.prototype.qf=function(b,c){return 0<c||this.closed?a.prototype.qf.call(this,b,c):this.CS(b,c);};c.prototype.h_=function(b,c,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.Rd?a.prototype.h_.call(this,b,c,d):b.flush(this);};return c;}(a(264).h1);c.DXa=d;},function(d,c,a){d=a(1100);a=a(1098);c.Lh=new a.EXa(d.DXa);},function(d,c){c.vrb=function(){};},function(d,c,a){var h;function b(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:h.vrb;}h=a(1102);c.Ttb=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return b(a);};c.Utb=b;},function(d,c,a){var b,h,g;b=a(49);h=a(266);g=a(267);c.MCb=function(a,c,d){if(a){if(a instanceof b.gj)return a;if(a[h.GB])return a[h.GB]();}return a||c||d?new b.gj(a,c,d):new b.gj(g.empty);};},function(d,c){var a;a=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};d=function(b){function c(a){b.call(this);this.hF=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;}(Error);c.SR=d;},function(d,c,a){var h,g;function b(){try{return g.apply(this,arguments);}catch(p){return h.ax.e=p,h.ax;}}h=a(501);c.yKa=function(a){g=a;return b;};},function(d,c,a){var h,g,p,f,k,l,q,r,y,E,D,z,G,B,H;function b(a,b,c,f,d,h,k,n,p,l){var m;m=this;this.la=b;this.Sr=c;this.config=f;this.Rp=d;this.bxa=h;this.zE=k;this.gl=n;this.oN=p;this.yk=l;this.HBb=function(a,b){m.yk.mark(H.ya.FQ,a.Og.ga,"generate-challenge");b.UF().nP(1).subscribe(function(c){m.wCa.next({kr:b.Tp(),data:c.gi});m.yk.mark(H.ya.EQ,a.Og.ga,"generate-challenge");});b.UF().map(function(c){return m.kM(a,b,c);}).Nx().BL(function(a){return b.Wsa(a);}).subscribe(void 0,function(a){b.s5a(a);},function(){m.p8a(b);});};this.KBb=function(a){a.CO.map(function(b){return m.Uza(a,b);}).Nx().BL(function(b){return a.cta(b.response);}).subscribe(void 0,a.cta);};this.log=a.wb("DrmServices");this.wCa=new g.Xj();this.Rp().ip&&this.zE.IGa().then(function(){m.iBb();})["catch"](function(a){m.log.error("Unable to load the persisted DRM data",a);});this.config.GX&&this.gl.tF().then(function(a){return m.Kva(a,{Wd:a.keySystem},q.Tj.Gm,p()).qr(function(a){return a.close();}).subscribe();});}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(143);p=a(8);f=a(35);k=a(481);l=a(67);q=a(92);r=a(54);y=a(269);E=a(270);D=a(480);z=a(17);G=a(106);B=a(145);H=a(53);b.prototype.Zu=function(a,b){var c;c=this;return new Promise(function(f,d){c.oi(a,b).subscribe(f,d);});};b.prototype.Cgb=function(a,b){var c;c=this;return new Promise(function(f,d){c.pW(a,b).subscribe(f,d);});};b.prototype.oi=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.rza(a,a.type));return this.lL(a.context,a.type,b).qr(function(b){c.WDa(a,b);return c.sva(b.pW(a.yX),b);});};b.prototype.WDa=function(a,b){b.Ozb(a.Og);this.HBb(a,b);};b.prototype.mBb=function(a,b){var c,f;c=this;this.config.vi?(this.log.info("Releasing server license and EME license",this.Qaa(a)),this.KBb(a),f=a.sya()):(this.log.info("Releasing server license",this.Qaa(a)),f=this.Uza(a));return this.sva(f,a).BL(function(){var f;f=Object.assign({Wd:a.context.Wd,oc:[]},a.Og);c.zE.Wfa(f);b.axb();});};b.prototype.UF=function(){return this.wCa.W6();};b.prototype.rza=function(a,b){return{movieId:a.Og.u,xid:a.Og.ga,type:q.yCa(b)};};b.prototype.Qaa=function(a){return{movieId:a.Og?a.Og.u:void 0,xid:a.Og?a.Og.ga:void 0,keySessionId:a.px()};};b.prototype.sva=function(a,b){return g.Ba.concat(a,g.Ba.of(b)).Kg();};b.prototype.kM=function(a,b,c){this.log.info("Sending license request",this.rza(a,c.pi));return g.Ba.sr(this.Sr.oi({ga:a.Og.ga,eg:a.Og.eg,yV:[a.Og.kk],gi:[{sessionId:b.px()||"session",data:c.gi}],pi:c.pi,kr:b.Tp(),Lua:c.Lua,mN:a.Og.mN,Cj:a.Og.Cj}));};b.prototype.Uza=function(a,b){this.log.info("Sending release request",this.Qaa(a));return b?g.Ba.sr(this.Sr.release({ga:a.Og.ga,oc:a.oc,gi:b.gi})):g.Ba.sr(this.Sr.release({ga:a.Og.ga,oc:a.oc}));};b.prototype.pW=function(a,b){return this.lL(a.context,a.type,b).qr(function(b){return g.Ba.race(b.pW(a.yX).map(function(){return b;}),b.UF().map(function(){return b;}));});};b.prototype.lL=function(a,b,c){var f;f=this;return g.Ba.sr(this.gl.tF()).qr(function(d){return f.Kva(d,a,b,c);});};b.prototype.Kva=function(a,b,c,f){return g.Ba.sr(this.bxa.create()).qr(function(d){return d.cn(b,a,f,c);});};b.prototype.hBb=function(a){var b;b=this;return this.config.vi?g.Ba.sr(this.nob(a)):g.Ba.sr(this.Sr.release({ga:a.ga,oc:a.oc}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return g.Ba.empty();}).map(function(){return a;});};b.prototype.nob=function(a){var b;b=this;this.gl.tF().then(function(c){b.bxa.create().then(function(f){f.cn({Wd:c.keySystem},c,b.oN(),q.Tj.Gm).qr(function(){return f.yob(a.oc[0].id);}).qr(function(){return f.sya();}).subscribe(void 0,function(a){b.log.error("SecureStop failed.",a);});});});return Promise.resolve(a);};b.prototype.iBb=function(){var a;a=this;this.la.qh(this.config.Uea,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.zE.zV.length});b=a.zE.zV.filter(function(a){return!a.active;}).map(function(b){return a.hBb(b);});g.Ba.concat.apply(g.Ba,[].concat(fa(b))).subscribe(function(b){a.zE.Wfa(b);});});};b.prototype.p8a=function(a){var b;if(a.px()&&a.Og){b=new E.L1();b.Wd=a.context.Wd;b.oc=a.oc;b.ga=a.Og.ga;b.u=a.Og.u;this.zE.Usa(b);}};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(p.Cb)),d.__param(1,h.l(f.Xg)),d.__param(2,h.l(k.Cka)),d.__param(3,h.l(r.Dm)),d.__param(4,h.l(z.md)),d.__param(5,h.l(D.Uka)),d.__param(6,h.l(y.t1)),d.__param(7,h.l(G.Jv)),d.__param(8,h.l(B.CI)),d.__param(9,h.l(l.EI))],a);c.fQa=a;},function(d,c,a){var b,h,g,p,f,k;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(122);h=a(1107);g=a(106);p=a(1004);f=a(480);k=a(997);c.ceb=new d.Bc(function(a){a(b.Dka).to(h.fQa).Z();a(g.Jv).to(p.vUa).Z();a(f.Uka).to(k.FQa);});},function(d,c,a){var h,g,p,f,k;function b(a,b){return g.oe.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(39);p=a(28);f=a(3);a=a(36);da(b,g.oe);pa.Object.defineProperties(b.prototype,{GX:{configurable:!0,enumerable:!0,get:function(){return!1;}},vi:{configurable:!0,enumerable:!0,get:function(){return!1;}},Ex:{configurable:!0,enumerable:!0,get:function(){return f.rh(5);}},Uea:{configurable:!0,enumerable:!0,get:function(){return f.rh(10);}},Lba:{configurable:!0,enumerable:!0,get:function(){return f.Ib(2E3);}},Dga:{configurable:!0,enumerable:!0,get:function(){return f.Ib(1E3);}},Rtb:{configurable:!0,enumerable:!0,get:function(){return f.Ib(2500);}},FL:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},YL:{configurable:!0,enumerable:!0,get:function(){return!1;}},Ro:{configurable:!0,enumerable:!0,get:function(){return!0;}},xta:{configurable:!0,enumerable:!0,get:function(){return f.rh(30);}},yta:{configurable:!0,enumerable:!0,get:function(){return f.rh(30);}},Ata:{configurable:!0,enumerable:!0,get:function(){return f.rh(30);}},zta:{configurable:!0,enumerable:!0,get:function(){return f.rh(30);}},Q6:{configurable:!0,enumerable:!0,get:function(){return f.rh(30);}},LO:{configurable:!0,enumerable:!0,get:function(){return"";}},rZ:{configurable:!0,enumerable:!0,get:function(){return!1;}}});k=b;d.__decorate([a.config(a.rd,"initializeKeySystemAtStartup")],k.prototype,"GX",null);d.__decorate([a.config(a.rd,"secureStopEnabled")],k.prototype,"vi",null);d.__decorate([a.config(a.jh,"licenseRenewalRequestDelay")],k.prototype,"Ex",null);d.__decorate([a.config(a.jh,"persistedReleaseDelay")],k.prototype,"Uea",null);d.__decorate([a.config(a.jh,"secureStopKeyMessageTimeoutMilliseconds")],k.prototype,"Lba",null);d.__decorate([a.config(a.jh,"secureStopKeyAddedTimeoutMilliseconds")],k.prototype,"Dga",null);d.__decorate([a.config(a.jh,"secureStopPersistedKeyMessageTimeoutMilliseconds")],k.prototype,"Rtb",null);d.__decorate([a.config(a.string,"drmPersistKey")],k.prototype,"FL",null);d.__decorate([a.config(a.rd,"forceLimitedDurationLicense")],k.prototype,"YL",null);d.__decorate([a.config(a.rd,"prepareCadmium")],k.prototype,"Ro",null);d.__decorate([a.config(a.jh,"apiCloseTimeout")],k.prototype,"xta",null);d.__decorate([a.config(a.jh,"apiCreateMediaKeysTimeout")],k.prototype,"yta",null);d.__decorate([a.config(a.jh,"apiSetServerCertificateTimeout")],k.prototype,"Ata",null);d.__decorate([a.config(a.jh,"apiGenerateRequestTimeout")],k.prototype,"zta",null);d.__decorate([a.config(a.jh,"apiUpdateTimeout")],k.prototype,"Q6",null);d.__decorate([a.config(a.string,"serverCertificate")],k.prototype,"LO",null);d.__decorate([a.config(a.rd,"outputRestrictedIsFatal")],k.prototype,"rZ",null);k=d.__decorate([h.N(),d.__param(0,h.l(p.hj)),d.__param(1,h.l(p.vC)),d.__param(1,h.optional())],k);c.xja=k;},function(d,c,a){var h,g,p,f;function b(a,b){return f.xja.call(this,a,void 0===b?"ChromeEmeConfig":b)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(28);p=a(36);f=a(1109);da(b,f.xja);pa.Object.defineProperties(b.prototype,{GX:{configurable:!0,enumerable:!0,get:function(){return!0;}},rZ:{configurable:!0,enumerable:!0,get:function(){return!0;}}});a=b;d.__decorate([p.config(p.rd,"initializeKeySystemAtStartup")],a.prototype,"GX",null);d.__decorate([p.config(p.rd,"outputRestrictedIsFatal")],a.prototype,"rZ",null);a=d.__decorate([h.N(),d.__param(0,h.l(g.hj)),d.__param(1,h.l(g.vC)),d.__param(1,h.optional())],a);c.DQa=a;},function(d,c,a){var h,g,p,f,k,l,q;function b(a,b,c,d){a=f.oe.call(this,a,void 0===d?"FtlProbeConfigImpl":d)||this;a.Xf=b;a.Ia=c;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(38);g=a(1);p=a(3);f=a(39);k=a(121);l=a(36);a=a(28);da(b,f.oe);pa.Object.defineProperties(b.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.Q$+(-1===this.Q$.indexOf("?")?"?":"&")+"monotonic="+this.Ia.YDa+"&device=web";}},kJa:{configurable:!0,enumerable:!0,get:function(){return p.xe;}},F$:{configurable:!0,enumerable:!0,get:function(){return"";}},Q$:{configurable:!0,enumerable:!0,get:function(){return this.Xf.endpoint+"/ftl/probe"+(this.F$?"?force="+this.F$:"");}}});q=b;d.__decorate([l.config(l.rd,"ftlEnabled")],q.prototype,"enabled",null);d.__decorate([l.config(l.jh,"ftlStartDelay")],q.prototype,"kJa",null);d.__decorate([l.config(l.string,"ftlEndpointForceParam")],q.prototype,"F$",null);d.__decorate([l.config(l.url,"ftlEndpoint")],q.prototype,"Q$",null);q=d.__decorate([g.N(),d.__param(0,g.l(a.hj)),d.__param(1,g.l(k.nC)),d.__param(2,g.l(h.dj)),d.__param(3,g.l(a.vC)),d.__param(3,g.optional())],q);c.fRa=q;},function(d,c,a){var h,g,l,f;function b(a,b){return l.oe.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(36);l=a(39);a=a(28);da(b,l.oe);pa.Object.defineProperties(b.prototype,{fLa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});f=b;d.__decorate([g.config(g.rd,"useNetworkMonitor")],f.prototype,"fLa",null);f=d.__decorate([h.N(),d.__param(0,h.l(a.hj)),d.__param(1,h.l(a.vC)),d.__param(1,h.optional())],f);c.YUa=f;},function(d,c){function a(a){this.value=a;}Object.defineProperty(c,"__esModule",{value:!0});a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.kFa=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};c.ona=a;},function(d,c,a){var h,g,l,f,k,m,q,r;function b(a,b,c){a=f.oe.call(this,a,void 0===c?"GeneralConfigImpl":c)||this;a.ro=b;return a;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(3);g=a(1);l=a(36);f=a(39);k=a(31);m=a(28);a=a(148);q={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};c.PL=function(a,b){return a.JGa(q[b]||b,k.Av);};da(b,f.oe);pa.Object.defineProperties(b.prototype,{PL:{configurable:!0,enumerable:!0,get:function(){return k.Av.zXa;}},Lha:{configurable:!0,enumerable:!0,get:function(){return h.rh(8);}},tx:{configurable:!0,enumerable:!0,get:function(){return"";}},AE:{configurable:!0,enumerable:!0,get:function(){return"";}},fC:{configurable:!0,enumerable:!0,get:function(){return"";}},OJa:{configurable:!0,enumerable:!0,get:function(){return!1;}},fU:{configurable:!0,enumerable:!0,get:function(){return!0;}},vX:{configurable:!0,enumerable:!0,get:function(){return this.ro.vX;}},dfb:{configurable:!0,enumerable:!0,get:function(){return!1;}},cr:{configurable:!0,enumerable:!0,get:function(){return{};}},GHa:{configurable:!0,enumerable:!0,get:function(){return!1;}},pca:{configurable:!0,enumerable:!0,get:function(){return!1;}},S0:{configurable:!0,enumerable:!0,get:function(){return!1;}},hp:{configurable:!0,enumerable:!0,get:function(){return!1;}},KL:{configurable:!0,enumerable:!0,get:function(){return!1;}},ly:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},nr:{configurable:!0,enumerable:!0,get:function(){return 0<=[k.Av.rpa,k.Av.Zla].indexOf(this.PL);}}});r=b;d.__decorate([l.config(c.PL,"environment")],r.prototype,"PL",null);d.__decorate([l.config(l.jh,"storageTimeout")],r.prototype,"Lha",null);d.__decorate([l.config(l.string,"groupName")],r.prototype,"tx",null);d.__decorate([l.config(l.string,"canaryGroupName")],r.prototype,"AE",null);d.__decorate([l.config(l.string,"uiGroupName")],r.prototype,"fC",null);d.__decorate([l.config(l.rd,"testIndexDBForCorruptedDatabase")],r.prototype,"OJa",null);d.__decorate([l.config(l.rd,"applyIndexedDbOpenWorkaround")],r.prototype,"fU",null);d.__decorate([l.config(l.rd,"ignoreIdbOpenError")],r.prototype,"vX",null);d.__decorate([l.config(l.rd,"executeStorageMigration")],r.prototype,"dfb",null);d.__decorate([l.config(l.object(),"browserInfo")],r.prototype,"cr",null);d.__decorate([l.config(l.rd,"retryAllMslRequestsOnError")],r.prototype,"GHa",null);d.__decorate([l.config(l.rd,"isTestAccount")],r.prototype,"pca",null);d.__decorate([l.config(l.rd,"vuiCommandLogging")],r.prototype,"S0",null);d.__decorate([l.config(l.rd,"useRangeHeader")],r.prototype,"hp",null);d.__decorate([l.config(l.rd,"enableMilestoneEventList")],r.prototype,"KL",null);d.__decorate([l.config(l.object,"storageRules")],r.prototype,"ly",null);r=d.__decorate([g.N(),d.__param(0,g.l(m.hj)),d.__param(1,g.l(a.RI)),d.__param(2,g.l(m.vC)),d.__param(2,g.optional())],r);c.jRa=r;},function(d,c,a){var l,f,k,m,q;function b(){this.Yt={};this.IHa=0;}function h(a,b,c,f,d){this.debug=a;this.su=b;this.HN=c;this.cg=f;this.RZ=d;}function g(a,b,c){this.su=a;this.HN=b;this.RZ=c;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);l=a(1);f=a(91);k=a(8);m=a(144);q=a(505);a=a(28);g=d.__decorate([l.N(),d.__param(0,l.l(a.dR)),d.__param(1,l.l(m.N3)),d.__param(2,l.l(q.A3))],g);c.wOa=g;h=d.__decorate([l.N(),d.__param(0,l.l(f.ws)),d.__param(1,l.l(a.dR)),d.__param(2,l.l(m.N3)),d.__param(3,l.l(k.Cb)),d.__param(4,l.l(q.A3))],h);c.OZa=h;b.prototype.iqb=function(a){this.Yt=Object.assign({},this.Yt,a);this.IHa++;};pa.Object.defineProperties(b.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Yt;}},HHa:{configurable:!0,enumerable:!0,get:function(){return this.IHa;}}});a=b;a=d.__decorate([l.N()],a);c.PSa=a;},function(d,c,a){var b,h,g,l,f,k,m,q,r,y,E;Object.defineProperty(c,"__esModule",{value:!0});d=a(1);b=a(17);h=a(1115);g=a(28);l=a(31);f=a(1114);k=a(504);m=a(1112);q=a(184);r=a(1111);y=a(54);E=a(1110);c.config=new d.Bc(function(a){a(b.md).cf(function(){return function(){return L._cad_global.config;};});a(g.z1).to(h.wOa).Z();a(g.hj).to(h.OZa).Z();a(g.dR).to(h.PSa).Z();a(l.vl).to(f.jRa).Z();a(k.cna).to(m.YUa).Z();a(q.ila).to(r.fRa).Z();a(y.Dm).to(E.DQa).Z();});},function(d,c,a){var h,g,l,f,k,m,q,r,y;function b(a,b,c,f,d,h){this.kA=a;this.Lc=b;this.config=c;this.oN=d;this.gl=h;this.log=f.wb("CannedChallengeProviderImpl");}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);h=a(1);g=a(122);l=a(41);f=a(17);k=a(8);m=a(145);q=a(106);r=a(92);y=a(146);b.prototype.Zza=function(){var a;a=this;return Promise.all([this.kA(),this.tib()]).then(function(b){var c;c=Q(b);b=c.next().value;c=c.next().value;c={type:r.Tj.Gv,yX:[c],context:{Wd:a.config().Wd}};return b.Cgb(c,a.oN());}).then(function(b){var c;c=b.Pca.data.map(function(b){return a.Lc.encode(b);});a.log.trace("Challenge generated",c);return{nb:b,Kua:c&&c[0]};});};b.prototype.tib=function(){return this.gl.Tp().then(function(a){switch(a){case y.Jn.qA:return"c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV6SWZ5aFdkc0dObEdGaGllK1VhUXNYZVNQczJ1eDQ2Nm9JMVZGN2RqTVRPZXJOST0=";default:return"AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA==";}}).then(this.Lc.decode);};a=b;a=d.__decorate([h.N(),d.__param(0,h.l(g.zQ)),d.__param(1,h.l(l.Rj)),d.__param(2,h.l(f.md)),d.__param(3,h.l(k.Cb)),d.__param(4,h.l(m.CI)),d.__param(5,h.l(q.Jv))],a);c.cOa=a;},function(d,c){function a(){}Object.defineProperty(c,"__esModule",{value:!0});a.prototype.GAa=function(){return void 0!==this.il;};a.prototype.LB=function(a){this.il=a;};a.prototype.axb=function(){this.GAa()&&(this.il=void 0);};c.wUa=a;},function(d,c,a){var b,h,g,l,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(2);h=a(93);g=a(122);l=a(271);c.Cvb=function(a){l.HL.parent=a.hb;return function(){f||(f=new Promise(function(a,c){try{a(l.HL.get(g.Dka));}catch(u){c(new h.Uf(b.K.iSa,b.G.BSa,void 0,"Unable to extract the DRM services from the dependency injector",u));}}));return f;};};},function(d,c,a){var l,f,k,m,q,r,y,E;function b(a,b,c){var f;f=this;this.is=a;this.Mj=b;this.config=c;this.hs=function(){return{version:f.version,drmData:f.zV.map(function(a){return a.hs();})};};this.P$=function(a){var b;f.is.Il(a)&&(a=h(a));1===a.version&&(a=g(f.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new E.L1(a);});}catch(W){throw new q.Ic(k.K.GC,k.G.wv,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",W);}}else{if(!a.version||!f.is.Zg(a.version))throw new q.Ic(k.K.GC,k.G.wv,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new q.Ic(k.K.GC,k.G.Gja,void 0,void 0,void 0,"Version number is not supported. Version: "+f.getVersion);}return b;};this.bp=new r.Vla(2,this.config.FL,this.is.Il(this.config.FL),this.Mj,this.hs);}function h(a){a=JSON.parse(a);a={xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!a.licenseContextId||!a.xid||!a.movieId)throw new q.Ic(k.K.GC,k.G.wv);return{version:1,drmData:[a]};}function g(a,b){if(a.At(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new E.L1({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),xid:a.xid,movieId:a.movieId}).hs();})};throw new q.Ic(k.K.GC,k.G.wv);}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);l=a(1);f=a(54);k=a(2);m=a(23);q=a(45);r=a(506);y=a(71);E=a(270);b.prototype.IGa=function(){return this.$Ab();};b.prototype.Usa=function(a){return this.bp.add(a);};b.prototype.Wfa=function(a){return this.bp.remove(a,function(a,b){return a.ga===b.ga;});};b.prototype.toString=function(){return JSON.stringify(this.hs(),null,"  ");};b.prototype.$Ab=function(){var a;a=this;this.MGa||(this.MGa=new Promise(function(b,c){a.bp.load(a.P$).then(function(){b();})["catch"](function(a){a.da&&a.cause?c(new q.Ic(k.K.GC,a.da,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.MGa;};pa.Object.defineProperties(b.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.bp.version;}},zV:{configurable:!0,enumerable:!0,get:function(){return this.bp.er;}}});a=b;a=d.__decorate([l.N(),d.__param(0,l.l(m.Oe)),d.__param(1,l.l(y.qs)),d.__param(2,l.l(f.Dm))],a);c.aOa=a;},function(d,c,a){var b,h,g,l,f;Object.defineProperty(c,"__esModule",{value:!0});b=a(3);h=a(46);g=a(510);l=a(61);f={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};c.$na=function(){this.k7a=this.FK=g.dQ.cma;this.Vga=!0;this.CK=[];this.KH=[];this.TN=this.FV=!1;this.ov=[l.Al.D1,l.Al.hYa,l.Al.OC];this.Wd=void 0;this.S9=!0;this.JV=!1;this.hU=h.ba(288E4);this.jU=h.ba(335544320);this.vY=b.Ib(15E3);this.Kpb=h.ba(6291456);this.WF=1E3;this.F7=!0;this.hia=f;this.BH=h.ba(0);this.r0=b.Ib(0);this.vX=!0;};},function(d,c,a){var l,f,k,m,q,r,y,E,D,z,G,B,g,H,P;function b(a,b){this.userAgent=a;this.EEb=b;}function h(a){var b;b=r.$na.call(this)||this;a=/CrOS/.test(a.userAgent);b.CK=[y.zi.NQ,y.zi.OQ];b.KH=[y.V.gI,y.V.CC,y.V.GQ,y.V.HQ,y.V.cJ,y.V.dJ];a&&b.KH.push(y.V.JQ,y.V.IQ,y.V.eJ);b.FV=!0;b.TN=!0;b.Wd=E.ob.c_a;b.vY=m.Ib(15E3);return b;}function g(a){var b,c,f;a=a.userAgent;b=/CrOS/.test(a);c=/OPR/.test(a);f=/Tesla/.test(a);this.version="6.0023.327.011";this.bEa=!0;this.pA=f?"T":b?"C":c?"O":"M";this.bx=f?"NFCDTS-01-":c?"NFCDOP-01-":/Windows NT/.test(a)?"NFCDCH-02-":/Intel Mac OS X/.test(a)?"NFCDCH-MC-":b?"NFCDCH-01-":/Android.*Chrome\/[.0-9]* Mobile/.test(a)?"NFCDCH-AP-":/Android.*Chrome\/[.0-9]* /.test(a)?"NFCDCH-AT-":"NFCDCH-LX-";this.oW=!0;this.j9=b?"chromeos-cadmium":c?"opera-cadmium":"chrome-cadmium";this.bdb="browser";this.Sob="";this.Dwa="cadmium";this.a6a=this.IEb=!0;this.Uwb=b;}Object.defineProperty(c,"__esModule",{value:!0});d=a(0);l=a(1);f=a(29);k=a(47);m=a(3);q=a(148);r=a(1121);y=a(61);E=a(147);D=a(32);z=a(509);G=a(508);B=a(272);g=d.__decorate([l.N(),d.__param(0,l.l(f.Ov)),d.__param(1,l.l(f.V3))],g);c.zHb=g;da(h,r.$na);H=h;H=d.__decorate([l.N(),d.__param(0,l.l(f.Ov))],H);c.AHb=H;b.prototype.apply=function(){var a;a={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,doNotPerformLdlOnPlaybackStart:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:D.Ok.x1,preciseSeeking:!0,editAudioFragments:!0,editVideoFragments:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};this.EEb.n6a(this.userAgent,a);return a;};P=b;P=d.__decorate([l.N(),d.__param(0,l.l(f.V3)),d.__param(1,l.l(z.Epa))],P);c.BHb=P;c.platform=new l.Bc(function(a){a(k.Mk).to(g);a(q.RI).to(H);a(G.aoa).to(P);a(B.t3).cf(function(){return function(){return{};};});});},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.eEa=function(a){return function(b){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return c.forEach(function(c){return a.bind(c).LCb(b);});};};};},function(d,c,a){var b,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(56);h=a(37);g=a(64);c.$Fa=function(){return function(a,c){c=new g.Metadata(h.OI,c);if(Reflect.lba(h.OI,a.constructor))throw Error(b.cUa);Reflect.e9(h.OI,c,a.constructor);};};},function(d,c,a){var b,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(37);h=a(64);g=a(95);c.pP=function(a){return function(c,d,l){var f;f=new h.Metadata(b.iR,a);g.XB(c,d,l,f);};};},function(d,c,a){var b,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(37);h=a(64);g=a(95);c.eB=function(a){return function(c,d,l){var f;f=new h.Metadata(b.Sy,a);"number"===typeof l?g.XB(c,d,l,f):g.mP(c,d,f);};};},function(d,c,a){var b,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(37);h=a(64);g=a(95);c.Sh=function(){return function(a,c,d){var f;f=new h.Metadata(b.$I,!0);g.XB(a,c,d,f);};};},function(d,c,a){var b,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(37);h=a(64);g=a(95);c.optional=function(){return function(a,c,d){var f;f=new h.Metadata(b.kna,!0);"number"===typeof d?g.XB(a,c,d,f):g.mP(a,c,f);};};},function(d,c,a){var b,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(37);h=a(64);g=a(95);c.hEa=function(a){return function(c,d,l){var f;f=new h.Metadata(b.Mv,a);"number"===typeof l?g.XB(c,d,l,f):g.mP(c,d,f);};};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(64);h=a(95);c.KJa=function(a,c){return function(f,d,g){var k;k=new b.Metadata(a,c);"number"===typeof g?h.XB(f,d,g,k):h.mP(f,d,k);};};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(56);h=a(37);c.N=function(){return function(a){var c;if(Reflect.lba(h.a3,a))throw Error(b.FPa);c=Reflect.getMetadata(h.$Oa,a)||[];Reflect.e9(h.a3,c,a);return a;};};},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(107);c.Bc=function(){return function(a){this.id=b.id();this.Tfa=a;};}();c.rja=function(){return function(a){this.id=b.id();this.Tfa=a;};}();},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(56);d=function(){function a(){this.nj=new Map();}a.prototype.add=function(a,c){var f;if(null===a||void 0===a)throw Error(b.JI);if(null===c||void 0===c)throw Error(b.JI);f=this.nj.get(a);void 0!==f?(f.push(c),this.nj.set(a,f)):this.nj.set(a,[c]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(b.JI);a=this.nj.get(a);if(void 0!==a)return a;throw Error(b.dma);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(b.JI);if(!this.nj["delete"](a))throw Error(b.dma);};a.prototype.EAa=function(a){if(null===a||void 0===a)throw Error(b.JI);return this.nj.has(a);};a.prototype.clone=function(){var b;b=new a();this.nj.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.cDb=function(a){this.nj.forEach(function(b,c){a(c,b);});};return a;}();c.ATa=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(){}a.of=function(b,c){var d;d=new a();d.KK=b;d.uqb=c;return d;};return a;}();c.GHb=d;},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(83);h=a(513);d=function(){function a(a){this.Kb=a;}a.prototype.Z=function(){this.Kb.scope=b.mp.K3;return new h.Ey(this.Kb);};a.prototype.Mba=function(){this.Kb.scope=b.mp.OR;return new h.Ey(this.Kb);};return a;}();c.mNa=d;},function(d,c,a){var b,h,g;Object.defineProperty(c,"__esModule",{value:!0});b=a(1135);h=a(274);g=a(273);d=function(){function a(a){this.Kb=a;this.mJ=new g.o1(this.Kb);this.l4=new h.gQ(this.Kb);this.gqa=new b.mNa(a);}a.prototype.Z=function(){return this.gqa.Z();};a.prototype.Mba=function(){return this.gqa.Mba();};a.prototype.when=function(a){return this.mJ.when(a);};a.prototype.SP=function(){return this.mJ.SP();};a.prototype.Nr=function(a){return this.l4.Nr(a);};return a;}();c.zja=d;},function(d,c,a){var b,h,g,l;Object.defineProperty(c,"__esModule",{value:!0});b=a(56);h=a(83);g=a(1136);l=a(513);d=function(){function a(a){this.Kb=a;}a.prototype.to=function(a){this.Kb.type=h.Bi.A2;this.Kb.qk=a;return new g.zja(this.Kb);};a.prototype.gKa=function(){if("function"!==typeof this.Kb.bf)throw Error(""+b.ESa);this.to(this.Kb.bf);};a.prototype.Ph=function(a){this.Kb.type=h.Bi.Vja;this.Kb.cache=a;this.Kb.ZE=null;this.Kb.qk=null;new l.Ey(this.Kb);};a.prototype.uy=function(a){this.Kb.type=h.Bi.Ika;this.Kb.cache=null;this.Kb.ZE=a;this.Kb.qk=null;return new g.zja(this.Kb);};a.prototype.KCb=function(a){this.Kb.type=h.Bi.Wja;this.Kb.qk=a;new l.Ey(this.Kb);};a.prototype.cf=function(a){this.Kb.type=h.Bi.V1;this.Kb.dx=a;new l.Ey(this.Kb);};a.prototype.ICb=function(a){this.Kb.type=h.Bi.V1;this.Kb.dx=function(b){return function(){return b.hb.get(a);};};new l.Ey(this.Kb);};a.prototype.tP=function(a){this.Kb.type=h.Bi.Aoa;this.Kb.Sr=a;new l.Ey(this.Kb);};a.prototype.LCb=function(a){this.uy(function(b){return b.hb.get(a);});};return a;}();c.nNa=d;},function(d,c,a){var g,l,f;function b(a,b,c){var f;b=b.filter(function(a){return null!==a.target&&a.target.type===l.Ls.Sja;});f=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=f[c];});return a;}function h(a,b){var c;if(Reflect.dlb(f.OI,a)){c=Reflect.getMetadata(f.OI,a);try{b[c.value]();}catch(u){throw Error(g.gWa(a.name,u.message));}}}Object.defineProperty(c,"__esModule",{value:!0});g=a(56);l=a(83);f=a(37);c.Lxb=function(a,c,f){var d;d=null;0<c.length?(d=c.filter(function(a){return null!==a.target&&a.target.type===l.Ls.Xja;}).map(f),d=new(a.bind.apply(a,[void 0].concat(d)))(),d=b(d,c,f)):d=new a();h(a,d);return d;};},function(d,c,a){var g,l,f,k,m;function b(a){return function(c){var f,d,n,p,q;f=c.KK;d=c.Q7;n=c.target&&c.target.isArray();p=!c.Qu||!c.Qu.target||!c.target||!c.Qu.target.zpb(c.target.bf);if(n&&p)return d.map(function(c){return b(a)(c);});n=null;if(!c.target.PBa()||0!==f.length){q=f[0];f=q.scope===l.mp.K3;p=q.scope===l.mp.Request;if(f&&q.v6)return q.cache;if(p&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===l.Bi.Vja)n=q.cache;else if(q.type===l.Bi.Function)n=q.cache;else if(q.type===l.Bi.Wja)n=q.qk;else if(q.type===l.Bi.Ika&&null!==q.ZE)n=h("toDynamicValue",q.bf,function(){return q.ZE(c.zG);});else if(q.type===l.Bi.V1&&null!==q.dx)n=h("toFactory",q.bf,function(){return q.dx(c.zG);});else if(q.type===l.Bi.Aoa&&null!==q.Sr)n=h("toProvider",q.bf,function(){return q.Sr(c.zG);});else if(q.type===l.Bi.A2&&null!==q.qk)n=m.Lxb(q.qk,d,b(a));else throw d=k.zF(c.bf),Error(g.zSa+" "+d);"function"===typeof q.Nr&&(n=q.Nr(c.zG,n));f&&(q.cache=n,q.v6=!0);p&&null!==a&&!a.has(q.id)&&a.set(q.id,n);return n;}};}function h(a,b,c){try{return c();}catch(E){if(f.XBa(E))throw Error(g.INa(a,b.toString()));throw E;}}Object.defineProperty(c,"__esModule",{value:!0});g=a(56);l=a(83);f=a(516);k=a(149);m=a(1138);c.resolve=function(a){return b(a.DG.qga.Axb)(a.DG.qga);};},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(107);d=function(){function a(a,c,f,d,h){this.id=b.id();this.bf=a;this.zG=c;this.Qu=f;this.target=h;this.Q7=[];this.KK=Array.isArray(d)?d:[d];this.Axb=null===f?new Map():null;}a.prototype.Ssa=function(b,c,f){b=new a(b,this.zG,this,c,f);this.Q7.push(b);return b;};return a;}();c.Request=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});d=function(){function a(a){this.my=a;}a.prototype.startsWith=function(a){return 0===this.my.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.my.split("").reverse().join("");return this.startsWith.call({my:a},b);};a.prototype.contains=function(a){return-1!==this.my.indexOf(a);};a.prototype.equals=function(a){return this.my===a;};a.prototype.value=function(){return this.my;};return a;}();c.CXa=d;},function(d,c,a){var f,k,m,q,r,y;function b(a,b,c,d){var g,n,t,u,z,G,E,D,B,H;g=a.Mya(c);n=g.lva;if(void 0===n)throw Error(k.OTa+" "+b+".");for(var g=g.FEb,p=Object.keys(g),q=0===c.length&&0<p.length?p.length:c.length,p=[],r=0;r<q;r++){u=r;z=d;G=b;E=n;t=g[u.toString()]||[];D=l(t);B=!0!==D.Sh;E=E[u];H=D.l||D.eB;E=H?H:E;E instanceof f.F2&&(E=E.ADb());if(B){B=E===Function;B=E===Object||B||void 0===E;if(!z&&B)throw Error(k.PTa+" argument "+u+" in class "+G+".");u=new y.MR(m.Ls.Xja,D.pP,E);u.zd=t;t=u;}else t=null;null!==t&&p.push(t);}a=h(a,c);return p.concat(a);}function h(a,b){var k,n,p;for(var c=a.ujb(b),f=[],d=0,g=Object.keys(c);d<g.length;d++){k=g[d];n=c[k];p=l(c[k]);k=new y.MR(m.Ls.Sja,p.pP||k,p.l||p.eB);k.zd=n;f.push(k);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=h(a,b),f=f.concat(a));return f;}function g(a,c){var f,d;c=Object.getPrototypeOf(c.prototype).constructor;if(c!==Object){f=r.getFunctionName(c);f=b(a,f,c,!0);d=f.map(function(a){return a.zd.filter(function(a){return a.key===q.$I;});});d=[].concat.apply([],d).length;f=f.length-d;return 0<f?f:g(a,c);}return 0;}function l(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{l:b[q.tI],eB:b[q.Sy],pP:b[q.iR],Sh:b[q.$I]};}Object.defineProperty(c,"__esModule",{value:!0});f=a(515);k=a(56);m=a(83);q=a(37);r=a(149);c.getFunctionName=r.getFunctionName;y=a(514);c.Ghb=function(a,c){var f;f=r.getFunctionName(c);return b(a,f,c,!1);};c.$gb=g;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.OWa=function(){return function(a,b){this.zG=a;this.qga=b;};}();},function(d,c,a){var b;Object.defineProperty(c,"__esModule",{value:!0});b=a(107);d=function(){function a(a){this.id=b.id();this.hb=a;}a.prototype.z5a=function(a){this.DG=a;};return a;}();c.Yja=d;},function(d,c){Object.defineProperty(c,"__esModule",{value:!0});c.n1={BKb:2,fna:0,nVa:1};},function(d,c,a){var f,k,m,q,r,y,E,D,z,G,B,H;function b(a,b,c,d,g){var k,n;k=l(c.hb,g.bf);n=[];k.length===f.n1.fna&&c.hb.options.HK&&"function"===typeof g.bf&&a.Mya(g.bf).lva&&(c.hb.bind(g.bf).gKa(),k=l(c.hb,g.bf));n=b?k:k.filter(function(a){var b;b=new B.Request(a.bf,c,d,a,g);return a.$z(b);});h(g.bf,n,g,c.hb);return n;}function h(a,b,c,d){switch(b.length){case f.n1.fna:if(c.PBa())break;a=y.zF(a);b=k.UUa;b+=y.Xnb(a,c);b+=y.BCa(d,a,l);throw Error(b);case f.n1.nVa:if(!c.isArray())break;default:if(!c.isArray())throw a=y.zF(a),b=k.PLa+" "+a,b+=y.BCa(d,a,l),Error(b);}}function g(a,c,f,d,h,l){var n;null===h?(c=b(a,c,d,null,l),n=new B.Request(f,d,null,c,l),f=new z.OWa(d,n),d.z5a(f)):(c=b(a,c,d,h,l),n=h.Ssa(l.bf,c,l));c.forEach(function(b){var c,f,h;c=null;if(l.isArray())c=n.Ssa(b.bf,b,l);else{if(b.cache)return;c=n;}if(b.type===m.Bi.A2&&null!==b.qk){f=G.Ghb(a,b.qk);if(!d.hb.options.PB){h=G.$gb(a,b.qk);if(f.length<h)throw b=k.QLa(G.getFunctionName(b.qk)),Error(b);}f.forEach(function(b){g(a,!1,b.bf,d,c,b);});}});}function l(a,b){var c,f;c=[];f=a.kD;f.EAa(b)?c=f.get(b):null!==a.parent&&(c=l(a.parent,b));return c;}Object.defineProperty(c,"__esModule",{value:!0});f=a(1145);k=a(56);m=a(83);q=a(37);r=a(516);y=a(149);E=a(1144);D=a(64);z=a(1143);G=a(1142);B=a(1140);H=a(514);c.Y$=function(a){return a.kD;};c.DG=function(a,b,c,f,d,h,k,l){void 0===l&&(l=!1);b=new E.Yja(b);c=new D.Metadata(c?q.Sy:q.tI,d);f=new H.MR(f,"",d,c);void 0!==h&&(h=new D.Metadata(h,k),f.zd.push(h));try{return g(a,l,d,b,null,f),b;}catch(T){throw r.XBa(T)&&b.DG&&y.s9a(b.DG.qga),T;}};c.YPb=function(a,b,c,f){c=new H.MR(m.Ls.W3,"",b,new D.Metadata(c,f));a=new E.Yja(a);return new B.Request(b,a,null,[],c);};},function(d,c,a){var b,h;Object.defineProperty(c,"__esModule",{value:!0});b=a(83);h=a(107);d=function(){function a(a,c){this.id=h.id();this.v6=!1;this.bf=a;this.scope=c;this.type=b.Bi.SSa;this.$z=function(){return!0;};this.ZE=this.Nr=this.Sr=this.dx=this.cache=this.qk=null;}a.prototype.clone=function(){var b;b=new a(this.bf,this.scope);b.v6=!1;b.qk=this.qk;b.ZE=this.ZE;b.scope=this.scope;b.type=this.type;b.dx=this.dx;b.Sr=this.Sr;b.$z=this.$z;b.Nr=this.Nr;b.cache=this.cache;return b;};return a;}();c.lNa=d;},function(d,c,a){var b,h,l,p,f,k,m,r,u,y,E,D;b=this&&this.__awaiter||function(a,b,c,f){return new(c||(c=Promise))(function(d,h){function g(a){try{l(f.next(a));}catch(U){h(U);}}function k(a){try{l(f["throw"](a));}catch(U){h(U);}}function l(a){a.done?d(a.value):new c(function(b){b(a.value);}).then(g,k);}l((f=f.apply(a,b||[])).next());});};h=this&&this.mOb||function(a,b){var d,h,k,l,n;function c(a){return function(b){return f([a,b]);};}function f(c){if(h)throw new TypeError("Generator is already executing.");for(;d;)try{if(h=1,k&&(l=k[c[0]&2?"return":c[0]?"throw":"next"])&&!(l=l.call(k,c[1])).done)return l;if(k=0,l)c=[0,l.value];switch(c[0]){case 0:case 1:l=c;break;case 4:return d.label++,{value:c[1],done:!1};case 5:d.label++;k=c[1];c=[0];continue;case 7:c=d.kB.pop();d.eC.pop();continue;default:if(!(l=d.eC,l=0<l.length&&l[l.length-1])&&(6===c[0]||2===c[0])){d=0;continue;}if(3===c[0]&&(!l||c[1]>l[0]&&c[1]<l[3]))d.label=c[1];else if(6===c[0]&&d.label<l[1])d.label=l[1],l=c;else if(l&&d.label<l[2])d.label=l[2],d.kB.push(c);else{l[2]&&d.kB.pop();d.eC.pop();continue;}}c=b.call(a,d);}catch(U){c=[6,U];k=0;}finally{h=l=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}d={label:0,E_:function(){if(l[0]&1)throw l[1];return l[1];},eC:[],kB:[]};g();g();q();return n={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this;}),n;};Object.defineProperty(c,"__esModule",{value:!0});l=a(1147);p=a(56);f=a(83);a(37);k=a(517);m=a(1146);r=a(1139);u=a(1137);y=a(107);E=a(149);a(1134);D=a(1133);d=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+p.WNa);if(void 0===a.eA)a.eA=f.mp.OR;else if(a.eA!==f.mp.K3&&a.eA!==f.mp.OR&&a.eA!==f.mp.Request)throw Error(""+p.UNa);if(void 0===a.HK)a.HK=!1;else if("boolean"!==typeof a.HK)throw Error(""+p.TNa);if(void 0===a.PB)a.PB=!1;else if("boolean"!==typeof a.PB)throw Error(""+p.VNa);this.options={HK:a.HK,eA:a.eA,PB:a.PB};this.id=y.id();this.kD=new D.ATa();this.Z3a=[];this.parent=this.p5=null;this.P1a=new k.M2();}a.Tda=function(b,c){var d,h;function f(a,b){a.cDb(function(a,c){c.forEach(function(a){b.add(a.bf,a.clone());});});}d=new a();h=m.Y$(d);b=m.Y$(b);c=m.Y$(c);f(b,h);f(c,h);return d;};a.prototype.load=function(){var f,d;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.Uqa(),c=0;c<a.length;c++){f=a[c];d=b(f.id);f.Tfa(d.fua,d.FKa,d.dCa,d.PGa);}};a.prototype.aN=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return b(this,void 0,void 0,function(){var b,c,f,d,g;return h(this,function(h){switch(h.label){case 0:b=this.Uqa(),c=0,f=a,h.label=1;case 1:if(!(c<f.length))return[3,4];d=f[c];g=b(d.id);return[4,d.Tfa(g.fua,g.FKa,g.dCa,g.PGa)];case 2:h.E_(),h.label=3;case 3:return c++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new l.lNa(a,this.options.eA||f.mp.OR);this.kD.add(a,b);return new u.nNa(b);};a.prototype.jwb=function(a){this.EKa(a);return this.bind(a);};a.prototype.EKa=function(a){try{this.kD.remove(a);}catch(M){throw Error(p.DNa+" "+E.zF(a));}};a.prototype.DBa=function(a){var b;b=this.kD.EAa(a);!b&&this.parent&&(b=this.parent.DBa(a));return b;};a.prototype.restore=function(){var a;a=this.Z3a.pop();if(void 0===a)throw Error(p.VUa);this.kD=a.KK;this.p5=a.uqb;};a.prototype.kbb=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.Sqa(!1,!1,f.Ls.W3,a);};a.prototype.getAll=function(a){return this.Sqa(!0,!0,f.Ls.W3,a);};a.prototype.resolve=function(a){var b;b=this.kbb();b.bind(a).gKa();return b.get(a);};a.prototype.Uqa=function(){var d;function a(a){return function(b){b=d.jwb.bind(d)(b);b.Kb.Rqb=a;return b;};}function b(){return function(a){return d.DBa.bind(d)(a);};}function c(){return function(a){d.EKa.bind(d)(a);};}function f(a){return function(b){b=d.bind.bind(d)(b);b.Kb.Rqb=a;return b;};}d=this;return function(d){return{fua:f(d),dCa:b(),PGa:a(d),FKa:c()};};};a.prototype.Sqa=function(a,b,c,f){var d;d=null;a={v7a:a,r$a:function(a){return a;},Kmb:b,key:void 0,bf:f,jCb:c,value:void 0};if(this.p5){if(d=this.p5(a),void 0===d||null===d)throw Error(p.CSa);}else d=this.c3a()(a);return d;};a.prototype.c3a=function(){var a;a=this;return function(b){var c;c=m.DG(a.P1a,a,b.Kmb,b.jCb,b.bf,b.key,b.value,b.v7a);c=b.r$a(c);return r.resolve(c);};};return a;}();c.sQ=d;},function(d,c,a){var b,h;b=a(519);h=a(522);d.P=function(){var a;a=b();h(Object,{values:a},{values:function(){return Object.values!==a;}});return a;};},function(d,c,a){var b,h,g;b=a(276);c=a(275)("%Function%");h=c.apply;g=c.call;d.P=function(){return b.apply(g,arguments);};d.P.apply=function(){return b.apply(h,arguments);};},function(d,c,a){var b,h,g;b=a(275);h=a(1150);g=h(b("String.prototype.indexOf"));d.P=function(a,c){c=b(a,!!c);return"function"===typeof c&&g(a,".prototype.")?h(c):c;};},function(d){d.P=function(){var c,a,b;g();if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;g();q();if("symbol"===typeof Symbol.iterator)return!0;c={};g();a=Symbol("test");b=Object(a);if("string"===typeof a||"[object Symbol]"!==Object.prototype.toString.call(a)||"[object Symbol]"!==Object.prototype.toString.call(b))return!1;c[a]=42;for(a in c)return!1;if("function"===typeof Object.keys&&0!==Object.keys(c).length||"function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(c).length)return!1;b=Object.getOwnPropertySymbols(c);return 1!==b.length||b[0]!==a||!Object.prototype.propertyIsEnumerable.call(c,a)||"function"===typeof Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(c,a),42!==c.value||!0!==c.enumerable)?!1:!0;};},function(d,c,a){(function(b){var c,l;c=b.Symbol;l=a(1152);d.P=function(){if("function"!==typeof c)return!1;g();if("function"!==typeof Symbol||"symbol"!==typeof c("foo"))return!1;g();return"symbol"!==typeof Symbol("bar")?!1:l();};}.call(this,a(151)));},function(d,c,a){var b;b=a(275)("%TypeError%");d.P=function(a,c){if(null==a)throw new b(c||"Cannot call method on "+a);return a;};},function(d,c,a){d.P=a(1154);},function(d){var c,a;c=Array.prototype.slice;a=Object.prototype.toString;d.P=function(b){var d;d=this;if("function"!==typeof d||"[object Function]"!==a.call(d))throw new TypeError("Function.prototype.bind called on incompatible "+d);for(var g=c.call(arguments,1),l,f=Math.max(0,d.length-g.length),k=[],m=0;m<f;m++)k.push("$"+m);l=Function("binder","return function ("+k.join(",")+"){ return binder.apply(this,arguments); }")(function(){var a;if(this instanceof l){a=d.apply(this,g.concat(c.call(arguments)));return Object(a)===a?a:this;}return d.apply(b,g.concat(c.call(arguments)));});d.prototype&&(f=function(){},f.prototype=d.prototype,l.prototype=new f(),f.prototype=null);return l;};},function(d,c,a){c=a(276);d.P=c.call(Function.call,Object.prototype.hasOwnProperty);},function(d,c,a){var b,h,g,l,f,k,m,q,r,y;if(!Object.keys){h=Object.prototype.hasOwnProperty;g=Object.prototype.toString;l=a(521);c=Object.prototype.propertyIsEnumerable;f=!c.call({toString:null},"toString");k=c.call(function(){},"prototype");m="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" ");q=function(a){var b;b=a.constructor;return b&&b.prototype===a;};r={GFb:!0,HFb:!0,IFb:!0,JFb:!0,KFb:!0,LFb:!0,MFb:!0,NFb:!0,OFb:!0,PFb:!0,QFb:!0,RFb:!0,SFb:!0,TFb:!0,UFb:!0,VFb:!0,WFb:!0,XFb:!0,YFb:!0,ZFb:!0,$Fb:!0,aGb:!0,bGb:!0};y=function(){if("undefined"===typeof L)return!1;for(var a in L)try{!r["$"+a]&&h.call(L,a);}catch(D){return!0;}return!1;}();b=function(a){var b,c,d,n,p,t;b=null!==a&&"object"===typeof a;c="[object Function]"===g.call(a);d=l(a);n=b&&"[object String]"===g.call(a);p=[];if(!b&&!c&&!d)throw new TypeError("Object.keys called on a non-object");b=k&&c;if(n&&0<a.length&&!h.call(a,0))for(n=0;n<a.length;++n)p.push(String(n));if(d&&0<a.length)for(d=0;d<a.length;++d)p.push(String(d));else for(var r in a)b&&"prototype"===r||!h.call(a,r)||p.push(String(r));if(f){if("undefined"!==typeof L&&y)try{t=q(a);}catch(Y){t=!1;}else t=q(a);for(d=0;d<m.length;++d)t&&"constructor"===m[d]||!h.call(a,m[d])||p.push(m[d]);}return p;};}d.P=b;},function(d,c,a){var b,h,g,l,f;b=Array.prototype.slice;h=a(521);g=Object.keys;l=g?function(a){return g(a);}:a(1158);f=Object.keys;l.fv=function(){Object.keys?function(){var a;a=Object.keys(arguments);return a&&a.length===arguments.length;}(1,2)||(Object.keys=function(a){return h(a)?f(b.call(a)):f(a);}):Object.keys=l;return Object.keys||l;};d.P=l;},function(d,c,a){var b,g,l;c=a(522);b=a(520);g=a(519);a=a(1149);l=g();c(l,{NRb:g,implementation:b,fv:a});d.P=l;},function(d,c,a){(function(a){var b;(function(b){var Z,T,da,O,ea,fa,ga,R,ha;function c(a,b,c){var d;d=ha.get(a);if(!d){if(!c)return;d=new ga();ha.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new ga();d.set(b,a);}return a;}function d(a,b,c){if(g(a,b,c))return!0;b=H(b);return null!==b?d(a,b,c):!1;}function g(a,b,d){b=c(b,d,!1);return void 0!==b&&!!b.has(a);}function h(a,b,c){if(g(a,b,c))return l(a,b,c);b=H(b);return null!==b?h(a,b,c):void 0;}function l(a,b,d){b=c(b,d,!1);return void 0===b?void 0:b.get(a);}function n(a,b){var c,f;c=q(a,b);a=H(a);if(null===a)return c;b=n(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new R();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return Q(a);}function q(a,b){var d;a=c(a,b,!1);d=[];a&&P(a,function(a,b){return d.push(b);});return d;}function r(a){return void 0===a;}function D(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function z(a){return"object"===typeof a?null!==a:"function"===typeof a;}function B(a){return"symbol"===typeof a?a:String(a);}function H(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===fa||b!==fa)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function N(a){a=a.next();return a.done?void 0:a;}function P(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=N(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function Q(a){var b;b=[];P(a,function(a,c){b.push(c);});return b;}function V(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function S(){var a;a={};return function(){function b(){this.yp=[];this.Hl=[];this.gS=a;this.fS=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.yp.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.DS(a,!1);};b.prototype.get=function(a){a=this.DS(a,!1);return 0<=a?this.Hl[a]:void 0;};b.prototype.set=function(a,b){a=this.DS(a,!0);this.Hl[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.DS(b,!1);if(0<=c){b=this.yp.length;for(c+=1;c<b;c++)this.yp[c-1]=this.yp[c],this.Hl[c-1]=this.Hl[c];this.yp.length--;this.Hl.length--;this.gS=a;this.fS=-2;return!0;}return!1;};b.prototype.clear=function(){this.yp.length=0;this.Hl.length=0;this.gS=a;this.fS=-2;};b.prototype.keys=function(){return V(this.yp,void 0,"key");};b.prototype.values=function(){return V(void 0,this.Hl,"value");};b.prototype.entries=function(){return V(this.yp,this.Hl,"key+value");};b.prototype.DS=function(a,b){var c;if(this.gS===a)return this.fS;c=this.yp.indexOf(a);0>c&&b&&(c=this.yp.length,this.yp.push(a),this.Hl.push(void 0));return this.gS=a,this.fS=c;};return b;}();}function A(){return function(){function a(){this.nj=new ga();}Object.defineProperty(a.prototype,"size",{get:function(){return this.nj.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.nj.has(a);};a.prototype.add=function(a){return this.nj.set(a,a),this;};a.prototype["delete"]=function(a){return this.nj["delete"](a);};a.prototype.clear=function(){this.nj.clear();};a.prototype.keys=function(){return this.nj.keys();};a.prototype.values=function(){return this.nj.values();};a.prototype.entries=function(){return this.nj.entries();};return a;}();}function X(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(ea.has(d,b));d[b]=!0;return b;}function c(a,b){if(!Z.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:O()});}return a[f];}d=O();f=b();return function(){function a(){this.rz=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?ea.has(a,this.rz):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?ea.get(a,this.rz):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.rz]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.rz]:!1;};a.prototype.clear=function(){this.rz=b();};return a;}();}function U(a){a.kOb=1;delete a.lOb;return a;}Z=Object.prototype.hasOwnProperty;T="function"===typeof Object.create;da=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();O=T?function(){return U(Object.create(null));}:da?function(){return U({__proto__:null});}:function(){return U({});};(function(a){var b;b=!T&&!da;a.has=b?function(a,b){return Z.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return Z.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(ea||(ea={})));fa=Object.getPrototypeOf(Function);ga="function"===typeof Map?Map:S();R="function"===typeof Set?Set:A();ha=new("function"===typeof WeakMap?WeakMap:(X()))();b.Sw=function(a,b,c,d){var g;if(r(d)){if(r(c)){if(!D(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!r(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!D(a))throw new TypeError();if(!z(b))throw new TypeError();c=B(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!D(a))throw new TypeError();if(!z(b))throw new TypeError();if(r(c))throw new TypeError();if(!z(d))throw new TypeError();c=B(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!r(g)){if(!z(g))throw new TypeError();d=g;}}return d;}};b.zd=function(a,b){return function(d,f){if(r(f)){if("function"!==typeof d)throw new TypeError();c(d,void 0,!0).set(a,b);}else{if(!z(d))throw new TypeError();f=B(f);c(d,f,!0).set(a,b);}};};b.e9=function(a,b,d){var f;if(!z(d))throw new TypeError();r(f)||(f=B(f));c(d,f,!0).set(a,b);};b.dlb=function(a,b){var c;if(!z(b))throw new TypeError();r(c)||(c=B(c));return d(a,b,c);};b.lba=function(a,b){var c;if(!z(b))throw new TypeError();r(c)||(c=B(c));return g(a,b,c);};b.getMetadata=function(a,b,c){if(!z(b))throw new TypeError();r(c)||(c=B(c));return h(a,b,c);};b.KRb=function(a,b,c){if(!z(b))throw new TypeError();r(c)||(c=B(c));return l(a,b,c);};b.JRb=function(a,b){if(!z(a))throw new TypeError();r(b)||(b=B(b));return n(a,b);};b.LRb=function(a,b){if(!z(a))throw new TypeError();r(b)||(b=B(b));return q(a,b);};b.zQb=function(a,b,d){var f;if(!z(b))throw new TypeError();r(d)||(d=B(d));f=c(b,d,!1);if(r(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=ha.get(b);a["delete"](d);if(0<a.size)return!0;ha["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)Z.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof L?L:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(151)));},function(d,c,a){Object.defineProperty(c,"__esModule",{value:!0});a(1161);a(1160);L._cad_global={};L.DEBUG=!1;a(11);a(10);a(15);a(19);a(73);a(40);a(97);a(557);a(282);a(51);a(34);a(18);a(79);a(57);a(556);a(191);a(466);a(555);a(554);a(189);a(553);a(280);a(208);a(365);a(302);a(296);a(298);a(297);a(279);a(310);a(309);a(307);a(154);a(196);a(552);a(12);a(291);a(551);a(125);a(65);a(301);a(129);a(364);a(363);a(207);a(550);a(549);a(337);a(548);a(547);a(343);a(194);a(347);a(195);a(311);a(546);a(153);a(294);a(157);a(306);a(126);a(96);a(545);a(544);a(543);a(542);a(541);a(295);a(58);a(540);a(299);a(362);a(300);a(292);a(539);a(538);a(284);a(123);a(537);a(536);a(535);a(534);a(533);a(526);a(523);a(304);},function(d,c,a){d.P=a(1162);}]));}.call(L));}(window));}.call(window));